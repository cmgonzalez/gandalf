1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_check_map
190   0000              	GLOBAL _spr_check_map_fall
191   0000              	GLOBAL _spr_chktime
192   0000              	GLOBAL _spr_move_jump
193   0000              	GLOBAL _spr_move_up
194   0000              	GLOBAL _spr_move_down
195   0000              	GLOBAL _spr_move_horizontal
196   0000              	GLOBAL _spr_move_right
197   0000              	GLOBAL _spr_move_left
198   0000              	GLOBAL _spr_page_right
199   0000              	GLOBAL _spr_page_left
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_draw_map_background
206   0000              	GLOBAL _spr_draw_clear
207   0000              	GLOBAL _spr_brick_anim
208   0000              	GLOBAL _spr_draw_index
209   0000              	GLOBAL _spr_draw_row
210   0000              	GLOBAL _spr_calc_hor
211   0000              	GLOBAL _spr_collision_check
212   0000              	GLOBAL _spr_kill_all
213   0000              	GLOBAL _spr_back_clr
214   0000              	GLOBAL _spr_tile_paint
215   0000              	GLOBAL _spr_init_anim
216   0000              	GLOBAL _spr_init_bullet
217   0000              	GLOBAL _spr_add_anim
218   0000              	GLOBAL _spr_play_anim
219   0000              	GLOBAL _spr_play_bullets
220   0000              	GLOBAL _spr_turn_horizontal
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ulltoa_callee
225   0000              	GLOBAL _ulltoa
226   0000              	GLOBAL _strtoull_callee
227   0000              	GLOBAL _strtoull
228   0000              	GLOBAL _strtoll_callee
229   0000              	GLOBAL _strtoll
230   0000              	GLOBAL _lltoa_callee
231   0000              	GLOBAL _lltoa
232   0000              	GLOBAL _llabs_callee
233   0000              	GLOBAL _llabs
234   0000              	GLOBAL __lldivu__callee
235   0000              	GLOBAL __lldivu_
236   0000              	GLOBAL __lldiv__callee
237   0000              	GLOBAL __lldiv_
238   0000              	GLOBAL _atoll_callee
239   0000              	GLOBAL _atoll
240   0000              	GLOBAL _realloc_unlocked_callee
241   0000              	GLOBAL _realloc_unlocked
242   0000              	GLOBAL _malloc_unlocked_fastcall
243   0000              	GLOBAL _malloc_unlocked
244   0000              	GLOBAL _free_unlocked_fastcall
245   0000              	GLOBAL _free_unlocked
246   0000              	GLOBAL _calloc_unlocked_callee
247   0000              	GLOBAL _calloc_unlocked
248   0000              	GLOBAL _aligned_alloc_unlocked_callee
249   0000              	GLOBAL _aligned_alloc_unlocked
250   0000              	GLOBAL _realloc_callee
251   0000              	GLOBAL _realloc
252   0000              	GLOBAL _malloc_fastcall
253   0000              	GLOBAL _malloc
254   0000              	GLOBAL _free_fastcall
255   0000              	GLOBAL _free
256   0000              	GLOBAL _calloc_callee
257   0000              	GLOBAL _calloc
258   0000              	GLOBAL _aligned_alloc_callee
259   0000              	GLOBAL _aligned_alloc
260   0000              	GLOBAL _utoa_callee
261   0000              	GLOBAL _utoa
262   0000              	GLOBAL _ultoa_callee
263   0000              	GLOBAL _ultoa
264   0000              	GLOBAL _system_fastcall
265   0000              	GLOBAL _system
266   0000              	GLOBAL _strtoul_callee
267   0000              	GLOBAL _strtoul
268   0000              	GLOBAL _strtol_callee
269   0000              	GLOBAL _strtol
270   0000              	GLOBAL _strtof_callee
271   0000              	GLOBAL _strtof
272   0000              	GLOBAL _strtod_callee
273   0000              	GLOBAL _strtod
274   0000              	GLOBAL _srand_fastcall
275   0000              	GLOBAL _srand
276   0000              	GLOBAL _rand
277   0000              	GLOBAL _quick_exit_fastcall
278   0000              	GLOBAL _quick_exit
279   0000              	GLOBAL _qsort_callee
280   0000              	GLOBAL _qsort
281   0000              	GLOBAL _ltoa_callee
282   0000              	GLOBAL _ltoa
283   0000              	GLOBAL _labs_fastcall
284   0000              	GLOBAL _labs
285   0000              	GLOBAL _itoa_callee
286   0000              	GLOBAL _itoa
287   0000              	GLOBAL _ftoh_callee
288   0000              	GLOBAL _ftoh
289   0000              	GLOBAL _ftog_callee
290   0000              	GLOBAL _ftog
291   0000              	GLOBAL _ftoe_callee
292   0000              	GLOBAL _ftoe
293   0000              	GLOBAL _ftoa_callee
294   0000              	GLOBAL _ftoa
295   0000              	GLOBAL _exit_fastcall
296   0000              	GLOBAL _exit
297   0000              	GLOBAL _dtoh_callee
298   0000              	GLOBAL _dtoh
299   0000              	GLOBAL _dtog_callee
300   0000              	GLOBAL _dtog
301   0000              	GLOBAL _dtoe_callee
302   0000              	GLOBAL _dtoe
303   0000              	GLOBAL _dtoa_callee
304   0000              	GLOBAL _dtoa
305   0000              	GLOBAL _bsearch_callee
306   0000              	GLOBAL _bsearch
307   0000              	GLOBAL _atol_fastcall
308   0000              	GLOBAL _atol
309   0000              	GLOBAL _atoi_fastcall
310   0000              	GLOBAL _atoi
311   0000              	GLOBAL _atof_fastcall
312   0000              	GLOBAL _atof
313   0000              	GLOBAL _atexit_fastcall
314   0000              	GLOBAL _atexit
315   0000              	GLOBAL _at_quick_exit_fastcall
316   0000              	GLOBAL _at_quick_exit
317   0000              	GLOBAL _abs_fastcall
318   0000              	GLOBAL _abs
319   0000              	GLOBAL _abort
320   0000              	GLOBAL __strtou__callee
321   0000              	GLOBAL __strtou_
322   0000              	GLOBAL __strtoi__callee
323   0000              	GLOBAL __strtoi_
324   0000              	GLOBAL __random_uniform_xor_8__fastcall
325   0000              	GLOBAL __random_uniform_xor_8_
326   0000              	GLOBAL __random_uniform_xor_32__fastcall
327   0000              	GLOBAL __random_uniform_xor_32_
328   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
329   0000              	GLOBAL __random_uniform_cmwc_8_
330   0000              	GLOBAL __shellsort__callee
331   0000              	GLOBAL __shellsort_
332   0000              	GLOBAL __quicksort__callee
333   0000              	GLOBAL __quicksort_
334   0000              	GLOBAL __insertion_sort__callee
335   0000              	GLOBAL __insertion_sort_
336   0000              	GLOBAL __ldivu__callee
337   0000              	GLOBAL __ldivu_
338   0000              	GLOBAL __ldiv__callee
339   0000              	GLOBAL __ldiv_
340   0000              	GLOBAL __divu__callee
341   0000              	GLOBAL __divu_
342   0000              	GLOBAL __div__callee
343   0000              	GLOBAL __div_
344   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawTW_raw
346   0000              	GLOBAL _NIRVANAP_drawTW_callee
347   0000              	GLOBAL _NIRVANAP_drawTW
348   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawW_raw
350   0000              	GLOBAL _NIRVANAP_drawW_callee
351   0000              	GLOBAL _NIRVANAP_drawW
352   0000              	GLOBAL _NIRVANAP_spriteT_callee
353   0000              	GLOBAL _NIRVANAP_spriteT
354   0000              	GLOBAL _NIRVANAP_fillC_callee
355   0000              	GLOBAL _NIRVANAP_fillC
356   0000              	GLOBAL _NIRVANAP_readC_callee
357   0000              	GLOBAL _NIRVANAP_readC
358   0000              	GLOBAL _NIRVANAP_paintC_callee
359   0000              	GLOBAL _NIRVANAP_paintC
360   0000              	GLOBAL _NIRVANAP_printC_callee
361   0000              	GLOBAL _NIRVANAP_printC
362   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
363   0000              	GLOBAL _NIRVANAP_fillT_raw
364   0000              	GLOBAL _NIRVANAP_fillT_callee
365   0000              	GLOBAL _NIRVANAP_fillT
366   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawT_raw
368   0000              	GLOBAL _NIRVANAP_drawT_callee
369   0000              	GLOBAL _NIRVANAP_drawT
370   0000              	GLOBAL _NIRVANAP_stop
371   0000              	GLOBAL _NIRVANAP_start
372   0000              	GLOBAL _debug3
373   0000              	GLOBAL _debug2
374   0000              	GLOBAL _debug
375   0000              	GLOBAL _zx_print_str
376   0000              	GLOBAL _zx_print_int
377   0000              	GLOBAL _zx_print_chr
378   0000              	GLOBAL _zx_print_bonus_time
379   0000              	GLOBAL _zx_isr
380   0000              	GLOBAL _z80_otdr_callee
381   0000              	GLOBAL _z80_otdr
382   0000              	GLOBAL _z80_otir_callee
383   0000              	GLOBAL _z80_otir
384   0000              	GLOBAL _z80_outp_callee
385   0000              	GLOBAL _z80_outp
386   0000              	GLOBAL _z80_indr_callee
387   0000              	GLOBAL _z80_indr
388   0000              	GLOBAL _z80_inir_callee
389   0000              	GLOBAL _z80_inir
390   0000              	GLOBAL _z80_inp_fastcall
391   0000              	GLOBAL _z80_inp
392   0000              	GLOBAL _z80_set_int_state_fastcall
393   0000              	GLOBAL _z80_set_int_state
394   0000              	GLOBAL _z80_get_int_state
395   0000              	GLOBAL _z80_delay_tstate_fastcall
396   0000              	GLOBAL _z80_delay_tstate
397   0000              	GLOBAL _z80_delay_ms_fastcall
398   0000              	GLOBAL _z80_delay_ms
399   0000              	GLOBAL _im2_remove_generic_callback_callee
400   0000              	GLOBAL _im2_remove_generic_callback
401   0000              	GLOBAL _im2_prepend_generic_callback_callee
402   0000              	GLOBAL _im2_prepend_generic_callback
403   0000              	GLOBAL _im2_append_generic_callback_callee
404   0000              	GLOBAL _im2_append_generic_callback
405   0000              	GLOBAL _im2_create_generic_isr_8080_callee
406   0000              	GLOBAL _im2_create_generic_isr_8080
407   0000              	GLOBAL _im2_create_generic_isr_callee
408   0000              	GLOBAL _im2_create_generic_isr
409   0000              	GLOBAL _im2_install_isr_callee
410   0000              	GLOBAL _im2_install_isr
411   0000              	GLOBAL _im2_init_fastcall
412   0000              	GLOBAL _im2_init
413   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_word_32
415   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_32
417   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
418   0000              	GLOBAL _intrinsic_swap_endian_16
419   0000              	GLOBAL _intrinsic_return_de
420   0000              	GLOBAL _intrinsic_return_bc
421   0000              	GLOBAL _intrinsic_exx
422   0000              	GLOBAL _intrinsic_ex_de_hl
423   0000              	GLOBAL _intrinsic_nop
424   0000              	GLOBAL _intrinsic_im_2
425   0000              	GLOBAL _intrinsic_im_1
426   0000              	GLOBAL _intrinsic_im_0
427   0000              	GLOBAL _intrinsic_retn
428   0000              	GLOBAL _intrinsic_reti
429   0000              	GLOBAL _intrinsic_halt
430   0000              	GLOBAL _intrinsic_ei
431   0000              	GLOBAL _intrinsic_di
432   0000              	GLOBAL _intrinsic_stub
433   0000              	GLOBAL _intrinsic_outi
434   0000              	GLOBAL _intrinsic_ldi
435   0000              	GLOBAL _zx_pattern_fill_callee
436   0000              	GLOBAL _zx_pattern_fill
437   0000              	GLOBAL _zx_saddrpup_fastcall
438   0000              	GLOBAL _zx_saddrpup
439   0000              	GLOBAL _zx_saddrpright_callee
440   0000              	GLOBAL _zx_saddrpright
441   0000              	GLOBAL _zx_saddrpleft_callee
442   0000              	GLOBAL _zx_saddrpleft
443   0000              	GLOBAL _zx_saddrpdown_fastcall
444   0000              	GLOBAL _zx_saddrpdown
445   0000              	GLOBAL _zx_saddrcup_fastcall
446   0000              	GLOBAL _zx_saddrcup
447   0000              	GLOBAL _zx_saddrcright_fastcall
448   0000              	GLOBAL _zx_saddrcright
449   0000              	GLOBAL _zx_saddrcleft_fastcall
450   0000              	GLOBAL _zx_saddrcleft
451   0000              	GLOBAL _zx_saddrcdown_fastcall
452   0000              	GLOBAL _zx_saddrcdown
453   0000              	GLOBAL _zx_saddr2py_fastcall
454   0000              	GLOBAL _zx_saddr2py
455   0000              	GLOBAL _zx_saddr2px_fastcall
456   0000              	GLOBAL _zx_saddr2px
457   0000              	GLOBAL _zx_saddr2cy_fastcall
458   0000              	GLOBAL _zx_saddr2cy
459   0000              	GLOBAL _zx_saddr2cx_fastcall
460   0000              	GLOBAL _zx_saddr2cx
461   0000              	GLOBAL _zx_saddr2aaddr_fastcall
462   0000              	GLOBAL _zx_saddr2aaddr
463   0000              	GLOBAL _zx_py2saddr_fastcall
464   0000              	GLOBAL _zx_py2saddr
465   0000              	GLOBAL _zx_py2aaddr_fastcall
466   0000              	GLOBAL _zx_py2aaddr
467   0000              	GLOBAL _zx_pxy2saddr_callee
468   0000              	GLOBAL _zx_pxy2saddr
469   0000              	GLOBAL _zx_pxy2aaddr_callee
470   0000              	GLOBAL _zx_pxy2aaddr
471   0000              	GLOBAL _zx_px2bitmask_fastcall
472   0000              	GLOBAL _zx_px2bitmask
473   0000              	GLOBAL _zx_cy2saddr_fastcall
474   0000              	GLOBAL _zx_cy2saddr
475   0000              	GLOBAL _zx_cy2aaddr_fastcall
476   0000              	GLOBAL _zx_cy2aaddr
477   0000              	GLOBAL _zx_cxy2saddr_callee
478   0000              	GLOBAL _zx_cxy2saddr
479   0000              	GLOBAL _zx_cxy2aaddr_callee
480   0000              	GLOBAL _zx_cxy2aaddr
481   0000              	GLOBAL _zx_bitmask2px_fastcall
482   0000              	GLOBAL _zx_bitmask2px
483   0000              	GLOBAL _zx_aaddrcup_fastcall
484   0000              	GLOBAL _zx_aaddrcup
485   0000              	GLOBAL _zx_aaddrcright_fastcall
486   0000              	GLOBAL _zx_aaddrcright
487   0000              	GLOBAL _zx_aaddrcleft_fastcall
488   0000              	GLOBAL _zx_aaddrcleft
489   0000              	GLOBAL _zx_aaddrcdown_fastcall
490   0000              	GLOBAL _zx_aaddrcdown
491   0000              	GLOBAL _zx_aaddr2saddr_fastcall
492   0000              	GLOBAL _zx_aaddr2saddr
493   0000              	GLOBAL _zx_aaddr2py_fastcall
494   0000              	GLOBAL _zx_aaddr2py
495   0000              	GLOBAL _zx_aaddr2px_fastcall
496   0000              	GLOBAL _zx_aaddr2px
497   0000              	GLOBAL _zx_aaddr2cy_fastcall
498   0000              	GLOBAL _zx_aaddr2cy
499   0000              	GLOBAL _zx_aaddr2cx_fastcall
500   0000              	GLOBAL _zx_aaddr2cx
501   0000              	GLOBAL _zx_visit_wc_pix_callee
502   0000              	GLOBAL _zx_visit_wc_pix
503   0000              	GLOBAL _zx_visit_wc_attr_callee
504   0000              	GLOBAL _zx_visit_wc_attr
505   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
506   0000              	GLOBAL _zx_scroll_wc_up_pix
507   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
508   0000              	GLOBAL _zx_scroll_wc_up_attr
509   0000              	GLOBAL _zx_scroll_wc_up_callee
510   0000              	GLOBAL _zx_scroll_wc_up
511   0000              	GLOBAL _zx_scroll_up_pix_callee
512   0000              	GLOBAL _zx_scroll_up_pix
513   0000              	GLOBAL _zx_scroll_up_attr_callee
514   0000              	GLOBAL _zx_scroll_up_attr
515   0000              	GLOBAL _zx_scroll_up_callee
516   0000              	GLOBAL _zx_scroll_up
517   0000              	GLOBAL _zx_cls_wc_pix_callee
518   0000              	GLOBAL _zx_cls_wc_pix
519   0000              	GLOBAL _zx_cls_wc_attr_callee
520   0000              	GLOBAL _zx_cls_wc_attr
521   0000              	GLOBAL _zx_cls_wc_callee
522   0000              	GLOBAL _zx_cls_wc
523   0000              	GLOBAL _zx_cls_pix_fastcall
524   0000              	GLOBAL _zx_cls_pix
525   0000              	GLOBAL _zx_cls_attr_fastcall
526   0000              	GLOBAL _zx_cls_attr
527   0000              	GLOBAL _zx_cls_fastcall
528   0000              	GLOBAL _zx_cls
529   0000              	GLOBAL _zx_border_fastcall
530   0000              	GLOBAL _zx_border
531   0000              	GLOBAL _spr_anim_kill
532   0000              	GLOBAL _sound_hit_brick
533   0000              	GLOBAL _sound_hit_enemy
534   0000              	GLOBAL _sound_kill
535   0000              	GLOBAL _sound_enter_enemy
536   0000              	GLOBAL _sound_coin
537   0000              	GLOBAL _sound_jump
538   0000              	GLOBAL _sound_slide
539   0000              	GLOBAL _player_check_stairs_down
540   0000              	GLOBAL _player_check_stairs
541   0000              	GLOBAL _player_tile
542   0000              	GLOBAL _player_pick_item
543   0000              	GLOBAL _player_check_floor
544   0000              	GLOBAL _player_hit_platform_clear
545   0000              	GLOBAL _player_lost_life
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_restart
553   0000              	GLOBAL _player_kill
554   0000              	GLOBAL _player_check_input
555   0000              	GLOBAL _player_collision
556   0000              	GLOBAL _player_init
557   0000              	GLOBAL _game_joystick_set_menu
558   0000              	GLOBAL _game_joystick_set
559   0000              	GLOBAL _game_joystick_change
560   0000              	GLOBAL _game_print_header
561   0000              	GLOBAL _game_end
562   0000              	GLOBAL _game_phase_print_score_back
563   0000              	GLOBAL _game_check_time
564   0000              	GLOBAL _game_rotate_attrib
565   0000              	GLOBAL _game_colour_message
566   0000              	GLOBAL _game_paint_attrib_lin_h
567   0000              	GLOBAL _game_paint_attrib_lin
568   0000              	GLOBAL _game_paint_attrib
569   0000              	GLOBAL _game_print_score
570   0000              	GLOBAL _game_unfreeze_all
571   0000              	GLOBAL _game_freeze_all
572   0000              	GLOBAL _game_freeze
573   0000              	GLOBAL _game_enemy_add_get_index
574   0000              	GLOBAL _game_check_maze_floor
575   0000              	GLOBAL _game_check_maze
576   0000              	GLOBAL _game_loop
577   0000              	GLOBAL _game_phase_init
578   0000              	GLOBAL _game_start_timer
579   0000              	GLOBAL _game_tick
580   0000              	GLOBAL _game_print_lives
581   0000              	GLOBAL _game_print_footer
582   0000              	GLOBAL _game_fill_row
583   0000              	GLOBAL _enemy_avoid_edge
584   0000              	GLOBAL _enemy_kill
585   0000              	GLOBAL _enemy_init
586   0000              	GLOBAL _enemy_walk
587   0000              	GLOBAL _enemy_move
588   0000              	GLOBAL _enemy_turn
589   0000              	GLOBAL _enemy_hit
590   0000              	GLOBAL _enemy_coin1
591   0000              	GLOBAL _ay_fx_play
592   0000              	GLOBAL _ay_midi_play
593   0000              	GLOBAL _ay_is_playing
594   0000              	GLOBAL _ay_reset
595   0000              	GLOBAL _test_func
596   0000              	GLOBAL _test_proc
597   0000              	GLOBAL _in_mouse_kempston_wheel_delta
598   0000              	GLOBAL _in_mouse_kempston_wheel
599   0000              	GLOBAL _in_mouse_kempston_callee
600   0000              	GLOBAL _in_mouse_kempston
601   0000              	GLOBAL _in_mouse_kempston_setpos_callee
602   0000              	GLOBAL _in_mouse_kempston_setpos
603   0000              	GLOBAL _in_mouse_kempston_reset
604   0000              	GLOBAL _in_mouse_kempston_init
605   0000              	GLOBAL _in_mouse_amx_wheel_delta
606   0000              	GLOBAL _in_mouse_amx_wheel
607   0000              	GLOBAL _in_mouse_amx_callee
608   0000              	GLOBAL _in_mouse_amx
609   0000              	GLOBAL _in_mouse_amx_setpos_callee
610   0000              	GLOBAL _in_mouse_amx_setpos
611   0000              	GLOBAL _in_mouse_amx_reset
612   0000              	GLOBAL _in_mouse_amx_init_callee
613   0000              	GLOBAL _in_mouse_amx_init
614   0000              	GLOBAL _in_stick_sinclair2
615   0000              	GLOBAL _in_stick_sinclair1
616   0000              	GLOBAL _in_stick_kempston
617   0000              	GLOBAL _in_stick_fuller
618   0000              	GLOBAL _in_stick_cursor
619   0000              	GLOBAL _in_stick_keyboard_fastcall
620   0000              	GLOBAL _in_stick_keyboard
621   0000              	GLOBAL _in_wait_nokey
622   0000              	GLOBAL _in_wait_key
623   0000              	GLOBAL _in_test_key
624   0000              	GLOBAL _in_pause_fastcall
625   0000              	GLOBAL _in_pause
626   0000              	GLOBAL _in_key_scancode_fastcall
627   0000              	GLOBAL _in_key_scancode
628   0000              	GLOBAL _in_key_pressed_fastcall
629   0000              	GLOBAL _in_key_pressed
630   0000              	GLOBAL _in_inkey
631   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
632   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
633   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
634   0000              	GLOBAL _NIRVANAP_HOLE
635   0000              	GLOBAL _NIRVANAP_ISR_HOOK
636   0000              	GLOBAL _g_player_hit_right
637   0000              	GLOBAL _g_player_hit_left
638   0000              	GLOBAL _joynames
639   0000              	GLOBAL _initials
640   0000              	GLOBAL _bullet_frames
641   0000              	GLOBAL _bullet_colint
642   0000              	GLOBAL _bullet_dir
643   0000              	GLOBAL _bullet_tile
644   0000              	GLOBAL _bullet_col
645   0000              	GLOBAL _bullet_lin
646   0000              	GLOBAL _anim_end
647   0000              	GLOBAL _anim_int
648   0000              	GLOBAL _anim_tile
649   0000              	GLOBAL _anim_col
650   0000              	GLOBAL _anim_lin
651   0000              	GLOBAL _phase_angry
652   0000              	GLOBAL _phase_curr
653   0000              	GLOBAL _phase_end
654   0000              	GLOBAL _phase_coins
655   0000              	GLOBAL _phase_pop
656   0000              	GLOBAL _phase_tot
657   0000              	GLOBAL _map_heigth
658   0000              	GLOBAL _map_width
659   0000              	GLOBAL _scr_curr
660   0000              	GLOBAL _scr_7
661   0000              	GLOBAL _scr_6
662   0000              	GLOBAL _scr_5
663   0000              	GLOBAL _scr_4
664   0000              	GLOBAL _scr_3
665   0000              	GLOBAL _scr_2
666   0000              	GLOBAL _scr_1
667   0000              	GLOBAL _scr_0
668   0000              	GLOBAL _scr_map
669   0000              	GLOBAL _sprite_speed_alt
670   0000              	GLOBAL _sprite_frames
671   0000              	GLOBAL _sprite_speed
672   0000              	GLOBAL _screen_ink
673   0000              	GLOBAL _screen_paper
674   0000              	GLOBAL _player_over_stair
675   0000              	GLOBAL _game_menu_sel
676   0000              	GLOBAL _game_type
677   0000              	GLOBAL _game_score_top
678   0000              	GLOBAL _player_lives
679   0000              	GLOBAL _game_over
680   0000              	GLOBAL _game_sound
681   0000              	GLOBAL _game_inmune
682   0000              	GLOBAL _game_god_mode
683   0000              	GLOBAL _game_start_phase
684   0000              	GLOBAL _game_two_player
685   0000              	GLOBAL _game_brick_tile
686   0000              	GLOBAL _sprite_curr_index
687   0000              	GLOBAL _spr_count
688   0000              	GLOBAL _bullet_time
689   0000              	GLOBAL _anim_time
690   0000              	GLOBAL _frame_time
691   0000              	GLOBAL _entry_time
692   0000              	GLOBAL _curr_time
693   0000              	GLOBAL _s_state
694   0000              	GLOBAL _attrib_hl
695   0000              	GLOBAL _attrib
696   0000              	GLOBAL _zx_val_asm
697   0000              	GLOBAL _enemies
698   0000              	GLOBAL _tmp_ui
699   0000              	GLOBAL _tmp_sc
700   0000              	GLOBAL _tmp_uc
701   0000              	GLOBAL _tmp1
702   0000              	GLOBAL _tmp0
703   0000              	GLOBAL _tmp
704   0000              	GLOBAL _index1
705   0000              	GLOBAL _loop_count
706   0000              	GLOBAL _sprite_lin_inc_mul
707   0000              	GLOBAL _s_col1
708   0000              	GLOBAL _s_col0
709   0000              	GLOBAL _s_lin1
710   0000              	GLOBAL _s_lin0
711   0000              	GLOBAL _s_tile1
712   0000              	GLOBAL _s_tile0
713   0000              	GLOBAL _player_hit_count
714   0000              	GLOBAL _sprite
715   0000              	GLOBAL _game_gravity
716   0000              	GLOBAL _player_vel_y0
717   0000              	GLOBAL _player_vel_y
718   0000              	GLOBAL _player_vel_x
719   0000              	GLOBAL _player_joy
720   0000              	GLOBAL _player_score
721   0000              	GLOBAL _last_time
722   0000              	GLOBAL _player_slide
723   0000              	GLOBAL _spr_timer
724   0000              	GLOBAL _jump_lin
725   0000              	GLOBAL _player_hit_col
726   0000              	GLOBAL _player_hit_lin
727   0000              	GLOBAL _colint
728   0000              	GLOBAL _col
729   0000              	GLOBAL _lin
730   0000              	GLOBAL _tile
731   0000              	GLOBAL _state_a
732   0000              	GLOBAL _state
733   0000              	GLOBAL _class
734   0000              	GLOBAL _tbuffer
735   0000              	GLOBAL _dirs
736   0000              	GLOBAL _k1
737   0000              	GLOBAL _joyfunc1
738   0000              	GLOBAL _btiles
739   0000              	GLOBAL _spec128
740   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
741   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
742   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
743   0000              	GLOBAL _ay_effect_20
744   0000              	GLOBAL _ay_effect_19
745   0000              	GLOBAL _ay_effect_18
746   0000              	GLOBAL _ay_effect_17
747   0000              	GLOBAL _ay_effect_16
748   0000              	GLOBAL _ay_effect_15
749   0000              	GLOBAL _ay_effect_14
750   0000              	GLOBAL _ay_effect_13
751   0000              	GLOBAL _ay_effect_12
752   0000              	GLOBAL _ay_effect_11
753   0000              	GLOBAL _ay_effect_10
754   0000              	GLOBAL _ay_effect_09
755   0000              	GLOBAL _ay_effect_08
756   0000              	GLOBAL _ay_effect_07
757   0000              	GLOBAL _ay_effect_06
758   0000              	GLOBAL _ay_effect_05
759   0000              	GLOBAL _ay_effect_04
760   0000              	GLOBAL _ay_effect_03
761   0000              	GLOBAL _ay_effect_02
762   0000              	GLOBAL _ay_effect_01
763   0000              	GLOBAL _pb_midi_phase_1
764   0000              	GLOBAL _pb_midi_title
765   0000              	GLOBAL _control_method
766   0000              ;--------------------------------------------------------
767   0000              ; special function registers
768   0000              ;--------------------------------------------------------
769   0000              defc _IO_FE	=	0x00fe
770   0000              defc _IO_1FFD	=	0x1ffd
771   0000              defc _IO_7FFD	=	0x7ffd
772   0000              ;--------------------------------------------------------
773   0000              ; ram data
774   0000              ;--------------------------------------------------------
775   0000              	SECTION bss_compiler
776   0000              ;--------------------------------------------------------
777   0000              ; ram data
778   0000              ;--------------------------------------------------------
779   0000              
780   0000              IF 0
781   0000              
782   0000              ; .area _INITIALIZED removed by z88dk
783   0000              
784   0000              
785   0000              ENDIF
786   0000              
787   0000              ;--------------------------------------------------------
788   0000              ; absolute external ram data
789   0000              ;--------------------------------------------------------
790   0000              	SECTION IGNORE
791   0000              ;--------------------------------------------------------
792   0000              ; global & static initialisations
793   0000              ;--------------------------------------------------------
794   0000              	SECTION code_crt_init
795   0000              ;--------------------------------------------------------
796   0000              ; Home
797   0000              ;--------------------------------------------------------
798   0000              	SECTION IGNORE
799   0000              ;--------------------------------------------------------
800   0000              ; code
801   0000              ;--------------------------------------------------------
802   0000              	SECTION code_compiler
803   0000              ;	---------------------------------
804   0000              ; Function spr_calc_index
805   0000              ; ---------------------------------
806   0000              _spr_calc_index:
807   0000  CD 00 00    	call	___sdcc_enter_ix
808   0003  DD 4E 05    	ld	c,(ix+5)
809   0006  CB 39       	srl	c
810   0008  06 00       	ld	b,0x00
811   000A  DD 7E 04    	ld	a,(ix+4)
812   000D  07          	rlca
813   000E  07          	rlca
814   000F  07          	rlca
815   0010  07          	rlca
816   0011  E6 0F       	and	a,0x0f
817   0013  6F          	ld	l, a
818   0014  26 00       	ld	h,0x00
819   0016  29          	add	hl, hl
820   0017  29          	add	hl, hl
821   0018  29          	add	hl, hl
822   0019  29          	add	hl, hl
823   001A  09          	add	hl, bc
824   001B  DD E1       	pop	ix
825   001D  C9          	ret
826   001E              	SECTION code_compiler
827   001E              ;	---------------------------------
828   001E              ; Function spr_check_map
829   001E              ; ---------------------------------
830   001E              _spr_check_map:
831   001E  CD 00 00    	call	___sdcc_enter_ix
832   0021  DD CB 05 46 	bit	0,(ix+5)
833   0025  20 15       	jr	NZ,l_spr_check_map_00106
834   0027  DD 66 05    	ld	h,(ix+5)
835   002A  DD 6E 04    	ld	l,(ix+4)
836   002D  E5          	push	hl
837   002E  CD 00 00    	call	_spr_calc_index
838   0031  F1          	pop	af
839   0032  22 00 00    	ld	(_index1),hl
840   0035  CD 00 00    	call	_game_check_maze
841   0038  26 00       	ld	h,0x00
842   003A  18 4B       	jr	l_spr_check_map_00108
843   003C              l_spr_check_map_00106:
844   003C  DD 46 05    	ld	b,(ix+5)
845   003F  05          	dec	b
846   0040  DD 4E 04    	ld	c,(ix+4)
847   0043  C5          	push	bc
848   0044  CD 00 00    	call	_spr_calc_index
849   0047  F1          	pop	af
850   0048  22 00 00    	ld	(_index1),hl
851   004B  21 00 00    	ld	hl,_g_player_hit_left
852   004E  36 00       	ld	(hl),0x00
853   0050  21 00 00    	ld	hl,_g_player_hit_right
854   0053  36 00       	ld	(hl),0x00
855   0055  2A 00 00    	ld	hl,(_index1)
856   0058  CD 00 00    	call	_game_check_maze
857   005B  7D          	ld	a, l
858   005C  B7          	or	a, a
859   005D  28 05       	jr	Z,l_spr_check_map_00102
860   005F  21 00 00    	ld	hl,_g_player_hit_left
861   0062  36 01       	ld	(hl),0x01
862   0064              l_spr_check_map_00102:
863   0064  2A 00 00    	ld	hl,(_index1)
864   0067  23          	inc	hl
865   0068  CD 00 00    	call	_game_check_maze
866   006B  7D          	ld	a, l
867   006C  B7          	or	a, a
868   006D  28 05       	jr	Z,l_spr_check_map_00104
869   006F  21 00 00    	ld	hl,_g_player_hit_right
870   0072  36 01       	ld	(hl),0x01
871   0074              l_spr_check_map_00104:
872   0074  3A 00 00    	ld	a,(_g_player_hit_left)
873   0077  B7          	or	a, a
874   0078  20 09       	jr	NZ,l_spr_check_map_00111
875   007A  3A 00 00    	ld	a,(_g_player_hit_right)
876   007D  B7          	or	a,a
877   007E  20 03       	jr	NZ,l_spr_check_map_00111
878   0080  6F          	ld	l,a
879   0081  18 02       	jr	l_spr_check_map_00112
880   0083              l_spr_check_map_00111:
881   0083  2E 01       	ld	l,0x01
882   0085              l_spr_check_map_00112:
883   0085  26 00       	ld	h,0x00
884   0087              l_spr_check_map_00108:
885   0087  DD E1       	pop	ix
886   0089  C9          	ret
887   008A              	SECTION code_compiler
888   008A              ;	---------------------------------
889   008A              ; Function spr_check_map_fall
890   008A              ; ---------------------------------
891   008A              _spr_check_map_fall:
892   008A  CD 00 00    	call	___sdcc_enter_ix
893   008D  DD CB 05 46 	bit	0,(ix+5)
894   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
895   0093  DD 66 05    	ld	h,(ix+5)
896   0096  DD 6E 04    	ld	l,(ix+4)
897   0099  E5          	push	hl
898   009A  CD 00 00    	call	_spr_calc_index
899   009D  F1          	pop	af
900   009E  22 00 00    	ld	(_index1),hl
901   00A1  CD 00 00    	call	_game_check_maze_floor
902   00A4  26 00       	ld	h,0x00
903   00A6  18 4B       	jr	l_spr_check_map_fall_00108
904   00A8              l_spr_check_map_fall_00106:
905   00A8  DD 46 05    	ld	b,(ix+5)
906   00AB  05          	dec	b
907   00AC  DD 4E 04    	ld	c,(ix+4)
908   00AF  C5          	push	bc
909   00B0  CD 00 00    	call	_spr_calc_index
910   00B3  F1          	pop	af
911   00B4  22 00 00    	ld	(_index1),hl
912   00B7  21 00 00    	ld	hl,_g_player_hit_left
913   00BA  36 00       	ld	(hl),0x00
914   00BC  21 00 00    	ld	hl,_g_player_hit_right
915   00BF  36 00       	ld	(hl),0x00
916   00C1  2A 00 00    	ld	hl,(_index1)
917   00C4  CD 00 00    	call	_game_check_maze_floor
918   00C7  7D          	ld	a, l
919   00C8  B7          	or	a, a
920   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
921   00CB  21 00 00    	ld	hl,_g_player_hit_left
922   00CE  36 01       	ld	(hl),0x01
923   00D0              l_spr_check_map_fall_00102:
924   00D0  2A 00 00    	ld	hl,(_index1)
925   00D3  23          	inc	hl
926   00D4  CD 00 00    	call	_game_check_maze_floor
927   00D7  7D          	ld	a, l
928   00D8  B7          	or	a, a
929   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
930   00DB  21 00 00    	ld	hl,_g_player_hit_right
931   00DE  36 01       	ld	(hl),0x01
932   00E0              l_spr_check_map_fall_00104:
933   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
934   00E3  B7          	or	a, a
935   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
936   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
937   00E9  B7          	or	a,a
938   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
939   00EC  6F          	ld	l,a
940   00ED  18 02       	jr	l_spr_check_map_fall_00112
941   00EF              l_spr_check_map_fall_00111:
942   00EF  2E 01       	ld	l,0x01
943   00F1              l_spr_check_map_fall_00112:
944   00F1  26 00       	ld	h,0x00
945   00F3              l_spr_check_map_fall_00108:
946   00F3  DD E1       	pop	ix
947   00F5  C9          	ret
948   00F6              	SECTION code_compiler
949   00F6              ;	---------------------------------
950   00F6              ; Function spr_chktime
951   00F6              ; ---------------------------------
952   00F6              _spr_chktime:
953   00F6  CD 00 00    	call	___sdcc_enter_ix
954   00F9  F5          	push	af
955   00FA  DD 75 FE    	ld	(ix-2),l
956   00FD  DD 74 FF    	ld	(ix-1),h
957   0100  E1          	pop	hl
958   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
959   0104  5E          	ld	e,(hl)
960   0105  E5          	push	hl
961   0106  6B          	ld	l,e
962   0107  26 00       	ld	h,0x00
963   0109  09          	add	hl, bc
964   010A  7E          	ld	a, (hl)
965   010B  B7          	or	a, a
966   010C  20 13       	jr	NZ,l_spr_chktime_00102
967   010E  01 00 00    	ld	bc,_sprite_speed+0
968   0111  16 00       	ld	d,0x00
969   0113  21 00 00    	ld	hl,_class
970   0116  19          	add	hl, de
971   0117  6E          	ld	l, (hl)
972   0118  26 00       	ld	h,0x00
973   011A  09          	add	hl, bc
974   011B  7E          	ld	a, (hl)
975   011C  32 00 00    	ld	(_tmp),a
976   011F  18 03       	jr	l_spr_chktime_00103
977   0121              l_spr_chktime_00102:
978   0121  32 00 00    	ld	(_tmp),a
979   0124              l_spr_chktime_00103:
980   0124  3A 00 00    	ld	a,(_tmp)
981   0127  4F          	ld	c,a
982   0128  06 00       	ld	b,0x00
983   012A  60          	ld	h,b
984   012B  6B          	ld	l, e
985   012C  29          	add	hl, hl
986   012D  11 00 00    	ld	de,_last_time
987   0130  19          	add	hl, de
988   0131  5E          	ld	e, (hl)
989   0132  23          	inc	hl
990   0133  56          	ld	d, (hl)
991   0134  C5          	push	bc
992   0135  D5          	push	de
993   0136  CD 00 00    	call	_game_check_time
994   0139  F1          	pop	af
995   013A  F1          	pop	af
996   013B  7D          	ld	a, l
997   013C  B7          	or	a, a
998   013D  28 15       	jr	Z,l_spr_chktime_00105
999   013F  E1          	pop	hl
1000  0140  E5          	push	hl
1001  0141  6E          	ld	l, (hl)
1002  0142  26 00       	ld	h,0x00
1003  0144  29          	add	hl, hl
1004  0145  01 00 00    	ld	bc,_last_time
1005  0148  09          	add	hl,bc
1006  0149  ED 5B 00 00 	ld	de,(_curr_time)
1007  014D  73          	ld	(hl),e
1008  014E  23          	inc	hl
1009  014F  72          	ld	(hl),d
1010  0150  2E 01       	ld	l,0x01
1011  0152  18 02       	jr	l_spr_chktime_00106
1012  0154              l_spr_chktime_00105:
1013  0154  2E 00       	ld	l,0x00
1014  0156              l_spr_chktime_00106:
1015  0156  F1          	pop	af
1016  0157  DD E1       	pop	ix
1017  0159  C9          	ret
1018  015A              	SECTION code_compiler
1019  015A              ;	---------------------------------
1020  015A              ; Function spr_move_jump
1021  015A              ; ---------------------------------
1022  015A              _spr_move_jump:
1023  015A  2A 00 00    	ld	hl,(_player_vel_y)
1024  015D  ED 4B 00 00 	ld	bc,(_game_gravity)
1025  0161  09          	add	hl,bc
1026  0162  22 00 00    	ld	(_player_vel_y),hl
1027  0165  3E 78       	ld	a,0x78
1028  0167  21 00 00    	ld	hl,_player_vel_y
1029  016A  BE          	cp	a, (hl)
1030  016B  3E 00       	ld	a,0x00
1031  016D  23          	inc	hl
1032  016E  9E          	sbc	a, (hl)
1033  016F  E2 74 01    	jp	PO, l_spr_move_jump_00155
1034  0172  EE 80       	xor	a,0x80
1035  0174              l_spr_move_jump_00155:
1036  0174  F2 7D 01    	jp	P, l_spr_move_jump_00102
1037  0177  21 78 00    	ld	hl,0x0078
1038  017A  22 00 00    	ld	(_player_vel_y),hl
1039  017D              l_spr_move_jump_00102:
1040  017D  21 00 00    	ld	hl,_player_vel_y
1041  0180  7E          	ld	a, (hl)
1042  0181  D6 88       	sub	a,0x88
1043  0183  23          	inc	hl
1044  0184  7E          	ld	a, (hl)
1045  0185  17          	rla
1046  0186  3F          	ccf
1047  0187  1F          	rra
1048  0188  DE 7F       	sbc	a,0x7f
1049  018A  30 06       	jr	NC,l_spr_move_jump_00104
1050  018C  2B          	dec	hl
1051  018D  36 88       	ld	(hl),0x88
1052  018F  23          	inc	hl
1053  0190  36 FF       	ld	(hl),0xff
1054  0192              l_spr_move_jump_00104:
1055  0192  21 0A 00    	ld	hl,0x000a
1056  0195  E5          	push	hl
1057  0196  2A 00 00    	ld	hl,(_player_vel_y)
1058  0199  E5          	push	hl
1059  019A  CD 00 00    	call	__divsint_callee
1060  019D  4D          	ld	c, l
1061  019E  44          	ld	b, h
1062  019F  CB 41       	bit	0,c
1063  01A1  21 00 00    	ld	hl,_s_lin1
1064  01A4  71          	ld	(hl),c
1065  01A5  28 04       	jr	Z,l_spr_move_jump_00106
1066  01A7  21 00 00    	ld	hl,_s_lin1
1067  01AA  34          	inc	(hl)
1068  01AB              l_spr_move_jump_00106:
1069  01AB  2A 00 00    	ld	hl,(_sprite)
1070  01AE  26 00       	ld	h,0x00
1071  01B0  11 00 00    	ld	de,_lin
1072  01B3  19          	add	hl,de
1073  01B4  7E          	ld	a,(hl)
1074  01B5  21 00 00    	ld	hl,_s_lin1
1075  01B8  86          	add	a, (hl)
1076  01B9  77          	ld	(hl), a
1077  01BA  3E 90       	ld	a,0x90
1078  01BC  96          	sub	a, (hl)
1079  01BD  30 02       	jr	NC,l_spr_move_jump_00108
1080  01BF  36 90       	ld	(hl),0x90
1081  01C1              l_spr_move_jump_00108:
1082  01C1  CB 78       	bit	7, b
1083  01C3  28 59       	jr	Z,l_spr_move_jump_00119
1084  01C5  2A 00 00    	ld	hl,(_sprite)
1085  01C8  26 00       	ld	h,0x00
1086  01CA  01 00 00    	ld	bc,_col
1087  01CD  09          	add	hl,bc
1088  01CE  7E          	ld	a,(hl)
1089  01CF  F5          	push	af
1090  01D0  33          	inc	sp
1091  01D1  3A 00 00    	ld	a,(_s_lin1)
1092  01D4  F5          	push	af
1093  01D5  33          	inc	sp
1094  01D6  CD 1E 00    	call	_spr_check_map
1095  01D9  F1          	pop	af
1096  01DA  7C          	ld	a,h
1097  01DB  B5          	or	a,l
1098  01DC  28 31       	jr	Z,l_spr_move_jump_00112
1099  01DE  CD 00 00    	call	_player_hit_platform
1100  01E1  7D          	ld	a, l
1101  01E2  B7          	or	a, a
1102  01E3  28 19       	jr	Z,l_spr_move_jump_00110
1103  01E5  2A 00 00    	ld	hl,(_sprite)
1104  01E8  26 00       	ld	h,0x00
1105  01EA  01 00 00    	ld	bc,_lin
1106  01ED  09          	add	hl,bc
1107  01EE  7E          	ld	a,(hl)
1108  01EF  4D          	ld	c,l
1109  01F0  44          	ld	b,h
1110  01F1  07          	rlca
1111  01F2  07          	rlca
1112  01F3  07          	rlca
1113  01F4  07          	rlca
1114  01F5  E6 0F       	and	a,0x0f
1115  01F7  07          	rlca
1116  01F8  07          	rlca
1117  01F9  07          	rlca
1118  01FA  07          	rlca
1119  01FB  E6 F0       	and	a,0xf0
1120  01FD  02          	ld	(bc), a
1121  01FE              l_spr_move_jump_00110:
1122  01FE  21 00 00    	ld	hl,0x0000
1123  0201  22 00 00    	ld	(_player_vel_y),hl
1124  0204  21 00 00    	ld	hl,_s_state
1125  0207  7E          	ld	a,(hl)
1126  0208  E6 FE       	and	a,0xfe
1127  020A  F6 02       	or	a,0x02
1128  020C  77          	ld	(hl),a
1129  020D  18 6B       	jr	l_spr_move_jump_00120
1130  020F              l_spr_move_jump_00112:
1131  020F  2A 00 00    	ld	hl,(_sprite)
1132  0212  26 00       	ld	h,0x00
1133  0214  01 00 00    	ld	bc,_lin
1134  0217  09          	add	hl,bc
1135  0218  3A 00 00    	ld	a,(_s_lin1)
1136  021B  77          	ld	(hl),a
1137  021C  18 5C       	jr	l_spr_move_jump_00120
1138  021E              l_spr_move_jump_00119:
1139  021E  2A 00 00    	ld	hl,(_sprite)
1140  0221  26 00       	ld	h,0x00
1141  0223  01 00 00    	ld	bc,_col
1142  0226  09          	add	hl,bc
1143  0227  46          	ld	b,(hl)
1144  0228  3A 00 00    	ld	a,(_s_lin1)
1145  022B  C6 10       	add	a,0x10
1146  022D  4F          	ld	c,a
1147  022E  C5          	push	bc
1148  022F  CD 8A 00    	call	_spr_check_map_fall
1149  0232  F1          	pop	af
1150  0233  4D          	ld	c,l
1151  0234  44          	ld	b,h
1152  0235  2A 00 00    	ld	hl,(_sprite)
1153  0238  26 00       	ld	h,0x00
1154  023A  11 00 00    	ld	de,_lin
1155  023D  19          	add	hl,de
1156  023E  78          	ld	a,b
1157  023F  EB          	ex	de,hl
1158  0240  B1          	or	a,c
1159  0241  20 07       	jr	NZ,l_spr_move_jump_00114
1160  0243  3A 00 00    	ld	a,(_s_lin1)
1161  0246  D6 90       	sub	a,0x90
1162  0248  38 2C       	jr	C,l_spr_move_jump_00115
1163  024A              l_spr_move_jump_00114:
1164  024A  3A 00 00    	ld	a,(_s_lin1)
1165  024D  07          	rlca
1166  024E  07          	rlca
1167  024F  07          	rlca
1168  0250  07          	rlca
1169  0251  E6 0F       	and	a,0x0f
1170  0253  07          	rlca
1171  0254  07          	rlca
1172  0255  07          	rlca
1173  0256  07          	rlca
1174  0257  E6 F0       	and	a,0xf0
1175  0259  12          	ld	(de), a
1176  025A  21 00 00    	ld	hl,0x0000
1177  025D  22 00 00    	ld	(_player_vel_y),hl
1178  0260  21 00 00    	ld	hl,_s_state
1179  0263  7E          	ld	a,(hl)
1180  0264  E6 FC       	and	a,+(0xfd&0xfe)
1181  0266  77          	ld	(hl),a
1182  0267  2A 00 00    	ld	hl,(_sprite)
1183  026A  26 00       	ld	h,0x00
1184  026C  01 00 00    	ld	bc,_colint
1185  026F  09          	add	hl,bc
1186  0270  AF          	xor	a,a
1187  0271  77          	ld	(hl),a
1188  0272  2E 01       	ld	l,0x01
1189  0274  18 09       	jr	l_spr_move_jump_00121
1190  0276              l_spr_move_jump_00115:
1191  0276  3A 00 00    	ld	a,(_s_lin1)
1192  0279  12          	ld	(de), a
1193  027A              l_spr_move_jump_00120:
1194  027A  CD 7F 03    	call	_spr_move_horizontal
1195  027D  2E 00       	ld	l,0x00
1196  027F              l_spr_move_jump_00121:
1197  027F  C9          	ret
1198  0280              	SECTION code_compiler
1199  0280              ;	---------------------------------
1200  0280              ; Function spr_move_up
1201  0280              ; ---------------------------------
1202  0280              _spr_move_up:
1203  0280  2A 00 00    	ld	hl,(_sprite)
1204  0283  26 00       	ld	h,0x00
1205  0285  01 00 00    	ld	bc,_lin
1206  0288  09          	add	hl,bc
1207  0289  4E          	ld	c,(hl)
1208  028A  21 00 00    	ld	hl,_sprite_lin_inc_mul
1209  028D  46          	ld	b, (hl)
1210  028E  1E 02       	ld	e,0x02
1211  0290  04          	inc	b
1212  0291  18 02       	jr	l_spr_move_up_00134
1213  0293              l_spr_move_up_00133:
1214  0293  CB 23       	sla	e
1215  0295              l_spr_move_up_00134:
1216  0295  10 FC       	djnz	l_spr_move_up_00133
1217  0297  79          	ld	a, c
1218  0298  93          	sub	a, e
1219  0299  32 00 00    	ld	(_tmp1),a
1220  029C  2A 00 00    	ld	hl,(_sprite)
1221  029F  26 00       	ld	h,0x00
1222  02A1  01 00 00    	ld	bc,_class
1223  02A4  09          	add	hl,bc
1224  02A5  7E          	ld	a,(hl)
1225  02A6  D6 10       	sub	a,0x10
1226  02A8  20 2D       	jr	NZ,l_spr_move_up_00107
1227  02AA  2A 00 00    	ld	hl,(_sprite)
1228  02AD  26 00       	ld	h,0x00
1229  02AF  01 00 00    	ld	bc,_col
1230  02B2  09          	add	hl,bc
1231  02B3  7E          	ld	a,(hl)
1232  02B4  F5          	push	af
1233  02B5  33          	inc	sp
1234  02B6  3A 00 00    	ld	a,(_tmp1)
1235  02B9  F5          	push	af
1236  02BA  33          	inc	sp
1237  02BB  CD 1E 00    	call	_spr_check_map
1238  02BE  F1          	pop	af
1239  02BF  7C          	ld	a,h
1240  02C0  B5          	or	a,l
1241  02C1  28 14       	jr	Z,l_spr_move_up_00107
1242  02C3  3A 00 00    	ld	a,(_sprite)
1243  02C6  D6 07       	sub	a,0x07
1244  02C8  20 09       	jr	NZ,l_spr_move_up_00102
1245  02CA  3A 07 00    	ld	a,(_state_a + 0x0007)
1246  02CD  07          	rlca
1247  02CE  38 03       	jr	C,l_spr_move_up_00102
1248  02D0  CD 00 00    	call	_player_hit_platform
1249  02D3              l_spr_move_up_00102:
1250  02D3  2E 01       	ld	l,0x01
1251  02D5  18 39       	jr	l_spr_move_up_00111
1252  02D7              l_spr_move_up_00107:
1253  02D7  2A 00 00    	ld	hl,(_sprite)
1254  02DA  26 00       	ld	h,0x00
1255  02DC  01 00 00    	ld	bc,_lin
1256  02DF  09          	add	hl,bc
1257  02E0  3A 00 00    	ld	a,(_tmp1)
1258  02E3  77          	ld	(hl),a
1259  02E4  2A 00 00    	ld	hl,(_sprite)
1260  02E7  26 00       	ld	h,0x00
1261  02E9  01 00 00    	ld	bc,_lin
1262  02EC  09          	add	hl,bc
1263  02ED  7E          	ld	a,(hl)
1264  02EE  5F          	ld	e,a
1265  02EF  B7          	or	a,a
1266  02F0  4D          	ld	c,l
1267  02F1  44          	ld	b,h
1268  02F2  28 05       	jr	Z,l_spr_move_up_00108
1269  02F4  3E 90       	ld	a,0x90
1270  02F6  93          	sub	a, e
1271  02F7  30 15       	jr	NC,l_spr_move_up_00109
1272  02F9              l_spr_move_up_00108:
1273  02F9  AF          	xor	a, a
1274  02FA  02          	ld	(bc), a
1275  02FB  3A 00 00    	ld	a,(_s_col0)
1276  02FE  F5          	push	af
1277  02FF  33          	inc	sp
1278  0300  3A 00 00    	ld	a,(_s_lin0)
1279  0303  57          	ld	d,a
1280  0304  1E 12       	ld	e,0x12
1281  0306  D5          	push	de
1282  0307  CD 00 00    	call	_NIRVANAP_fillT_callee
1283  030A  2E 01       	ld	l,0x01
1284  030C  18 02       	jr	l_spr_move_up_00111
1285  030E              l_spr_move_up_00109:
1286  030E  2E 00       	ld	l,0x00
1287  0310              l_spr_move_up_00111:
1288  0310  C9          	ret
1289  0311              	SECTION code_compiler
1290  0311              ;	---------------------------------
1291  0311              ; Function spr_move_down
1292  0311              ; ---------------------------------
1293  0311              _spr_move_down:
1294  0311  2A 00 00    	ld	hl,(_sprite)
1295  0314  26 00       	ld	h,0x00
1296  0316  01 00 00    	ld	bc,_lin
1297  0319  09          	add	hl,bc
1298  031A  4E          	ld	c,(hl)
1299  031B  21 00 00    	ld	hl,_sprite_lin_inc_mul
1300  031E  46          	ld	b, (hl)
1301  031F  1E 02       	ld	e,0x02
1302  0321  04          	inc	b
1303  0322  18 02       	jr	l_spr_move_down_00116
1304  0324              l_spr_move_down_00115:
1305  0324  CB 23       	sla	e
1306  0326              l_spr_move_down_00116:
1307  0326  10 FC       	djnz	l_spr_move_down_00115
1308  0328  79          	ld	a, c
1309  0329  83          	add	a, e
1310  032A  32 00 00    	ld	(_tmp1),a
1311  032D  2A 00 00    	ld	hl,(_sprite)
1312  0330  26 00       	ld	h,0x00
1313  0332  01 00 00    	ld	bc,_col
1314  0335  09          	add	hl,bc
1315  0336  56          	ld	d, (hl)
1316  0337  3A 00 00    	ld	a,(_tmp1)
1317  033A  C6 10       	add	a,0x10
1318  033C  5F          	ld	e, a
1319  033D  D5          	push	de
1320  033E  CD 8A 00    	call	_spr_check_map_fall
1321  0341  F1          	pop	af
1322  0342  4D          	ld	c,l
1323  0343  44          	ld	b,h
1324  0344  2A 00 00    	ld	hl,(_sprite)
1325  0347  26 00       	ld	h,0x00
1326  0349  11 00 00    	ld	de,_lin
1327  034C  19          	add	hl,de
1328  034D  78          	ld	a,b
1329  034E  EB          	ex	de,hl
1330  034F  B1          	or	a,c
1331  0350  28 12       	jr	Z,l_spr_move_down_00102
1332  0352  3A 00 00    	ld	a,(_tmp1)
1333  0355  0F          	rrca
1334  0356  0F          	rrca
1335  0357  0F          	rrca
1336  0358  E6 1F       	and	a,0x1f
1337  035A  07          	rlca
1338  035B  07          	rlca
1339  035C  07          	rlca
1340  035D  E6 F8       	and	a,0xf8
1341  035F  12          	ld	(de), a
1342  0360  2E 01       	ld	l,0x01
1343  0362  18 1A       	jr	l_spr_move_down_00105
1344  0364              l_spr_move_down_00102:
1345  0364  3A 00 00    	ld	a,(_tmp1)
1346  0367  12          	ld	(de), a
1347  0368  2A 00 00    	ld	hl,(_sprite)
1348  036B  26 00       	ld	h,0x00
1349  036D  01 00 00    	ld	bc,_lin
1350  0370  09          	add	hl,bc
1351  0371  5E          	ld	e,(hl)
1352  0372  3E 90       	ld	a,0x90
1353  0374  BB          	cp	a,e
1354  0375  30 05       	jr	NC,l_spr_move_down_00104
1355  0377  77          	ld	(hl),a
1356  0378  2E 01       	ld	l,0x01
1357  037A  18 02       	jr	l_spr_move_down_00105
1358  037C              l_spr_move_down_00104:
1359  037C  2E 00       	ld	l,0x00
1360  037E              l_spr_move_down_00105:
1361  037E  C9          	ret
1362  037F              	SECTION code_compiler
1363  037F              ;	---------------------------------
1364  037F              ; Function spr_move_horizontal
1365  037F              ; ---------------------------------
1366  037F              _spr_move_horizontal:
1367  037F  2A 00 00    	ld	hl,(_sprite)
1368  0382  26 00       	ld	h,0x00
1369  0384  01 00 00    	ld	bc,_state
1370  0387  09          	add	hl,bc
1371  0388  7E          	ld	a,(hl)
1372  0389  CB 57       	bit	2, a
1373  038B  28 05       	jr	Z,l_spr_move_horizontal_00104
1374  038D  CD 9E 03    	call	_spr_move_right
1375  0390  18 0B       	jr	l_spr_move_horizontal_00106
1376  0392              l_spr_move_horizontal_00104:
1377  0392  CB 5F       	bit	3, a
1378  0394  28 05       	jr	Z,l_spr_move_horizontal_00105
1379  0396  CD 77 04    	call	_spr_move_left
1380  0399  18 02       	jr	l_spr_move_horizontal_00106
1381  039B              l_spr_move_horizontal_00105:
1382  039B  2E 00       	ld	l,0x00
1383  039D              l_spr_move_horizontal_00106:
1384  039D  C9          	ret
1385  039E              	SECTION code_compiler
1386  039E              ;	---------------------------------
1387  039E              ; Function spr_move_right
1388  039E              ; ---------------------------------
1389  039E              _spr_move_right:
1390  039E  2A 00 00    	ld	hl,(_sprite)
1391  03A1  26 00       	ld	h,0x00
1392  03A3  01 00 00    	ld	bc,_colint
1393  03A6  09          	add	hl,bc
1394  03A7  7E          	ld	a,(hl)
1395  03A8  3C          	inc	a
1396  03A9  77          	ld	(hl),a
1397  03AA  4F          	ld	c,a
1398  03AB  3A 00 00    	ld	a,(_sprite)
1399  03AE  5F          	ld	e,a
1400  03AF  16 00       	ld	d,0x00
1401  03B1  21 00 00    	ld	hl,_class
1402  03B4  19          	add	hl,de
1403  03B5  5E          	ld	e, (hl)
1404  03B6  16 00       	ld	d,0x00
1405  03B8  21 00 00    	ld	hl,_sprite_frames
1406  03BB  19          	add	hl, de
1407  03BC  7E          	ld	a, (hl)
1408  03BD  91          	sub	a, c
1409  03BE  C2 74 04    	jp	NZ,l_spr_move_right_00115
1410  03C1  2A 00 00    	ld	hl,(_sprite)
1411  03C4  26 00       	ld	h,0x00
1412  03C6  01 00 00    	ld	bc,_lin
1413  03C9  09          	add	hl,bc
1414  03CA  7E          	ld	a,(hl)
1415  03CB  32 00 00    	ld	(_s_lin1),a
1416  03CE  2A 00 00    	ld	hl,(_sprite)
1417  03D1  26 00       	ld	h,0x00
1418  03D3  01 00 00    	ld	bc,_col
1419  03D6  09          	add	hl,bc
1420  03D7  7E          	ld	a,(hl)
1421  03D8  FE 1E       	cp	a,0x1e
1422  03DA  30 44       	jr	NC,l_spr_move_right_00105
1423  03DC  3C          	inc	a
1424  03DD  32 00 00    	ld	(_s_col1),a
1425  03E0  F5          	push	af
1426  03E1  33          	inc	sp
1427  03E2  3A 00 00    	ld	a,(_s_lin1)
1428  03E5  F5          	push	af
1429  03E6  33          	inc	sp
1430  03E7  CD 1E 00    	call	_spr_check_map
1431  03EA  F1          	pop	af
1432  03EB  7C          	ld	a,h
1433  03EC  B5          	or	a,l
1434  03ED  20 13       	jr	NZ,l_spr_move_right_00101
1435  03EF  3A 00 00    	ld	a,(_s_lin1)
1436  03F2  C6 0F       	add	a,0x0f
1437  03F4  4F          	ld	c, a
1438  03F5  3A 00 00    	ld	a, (_s_col1)
1439  03F8  47          	ld	b,a
1440  03F9  C5          	push	bc
1441  03FA  CD 1E 00    	call	_spr_check_map
1442  03FD  F1          	pop	af
1443  03FE  7C          	ld	a,h
1444  03FF  B5          	or	a,l
1445  0400  28 1E       	jr	Z,l_spr_move_right_00105
1446  0402              l_spr_move_right_00101:
1447  0402  2A 00 00    	ld	hl,(_sprite)
1448  0405  26 00       	ld	h,0x00
1449  0407  01 00 00    	ld	bc,_colint
1450  040A  09          	add	hl,bc
1451  040B  7E          	ld	a,(hl)
1452  040C  C6 FF       	add	a,0xff
1453  040E  77          	ld	(hl),a
1454  040F  2A 00 00    	ld	hl,(_sprite)
1455  0412  26 00       	ld	h,0x00
1456  0414  01 00 00    	ld	bc,_colint
1457  0417  09          	add	hl,bc
1458  0418  7E          	ld	a,(hl)
1459  0419  C6 FF       	add	a,0xff
1460  041B  77          	ld	(hl),a
1461  041C  2E 01       	ld	l,0x01
1462  041E  18 56       	jr	l_spr_move_right_00116
1463  0420              l_spr_move_right_00105:
1464  0420  2A 00 00    	ld	hl,(_sprite)
1465  0423  26 00       	ld	h,0x00
1466  0425  01 00 00    	ld	bc,_col
1467  0428  09          	add	hl,bc
1468  0429  34          	inc	(hl)
1469  042A  2A 00 00    	ld	hl,(_sprite)
1470  042D  26 00       	ld	h,0x00
1471  042F  01 00 00    	ld	bc,_colint
1472  0432  09          	add	hl,bc
1473  0433  AF          	xor	a,a
1474  0434  77          	ld	(hl),a
1475  0435  2A 00 00    	ld	hl,(_sprite)
1476  0438  26 00       	ld	h,0x00
1477  043A  01 00 00    	ld	bc,_col
1478  043D  09          	add	hl,bc
1479  043E  5E          	ld	e,(hl)
1480  043F  3E 1E       	ld	a,0x1e
1481  0441  93          	sub	a,e
1482  0442  30 30       	jr	NC,l_spr_move_right_00115
1483  0444  3A 00 00    	ld	a,(_sprite)
1484  0447  D6 07       	sub	a,0x07
1485  0449  28 04       	jr	Z,l_spr_move_right_00145
1486  044B  4D          	ld	c,l
1487  044C  44          	ld	b,h
1488  044D  18 1C       	jr	l_spr_move_right_00110
1489  044F              l_spr_move_right_00145:
1490  044F  CD 5A 05    	call	_spr_page_right
1491  0452  3A 00 00    	ld	a,(_sprite)
1492  0455  C6 00       	add	a,+((_col) & 0xFF)
1493  0457  4D          	ld	c,l
1494  0458  5F          	ld	e,a
1495  0459  3E 00       	ld	a,+((_col) / 256)
1496  045B  CE 00       	adc	a,0x00
1497  045D  57          	ld	d,a
1498  045E  79          	ld	a, c
1499  045F  B7          	or	a, a
1500  0460  28 04       	jr	Z,l_spr_move_right_00107
1501  0462  AF          	xor	a, a
1502  0463  12          	ld	(de), a
1503  0464  18 0E       	jr	l_spr_move_right_00115
1504  0466              l_spr_move_right_00107:
1505  0466  3E 1E       	ld	a,0x1e
1506  0468  12          	ld	(de), a
1507  0469  18 09       	jr	l_spr_move_right_00115
1508  046B              l_spr_move_right_00110:
1509  046B  3E 1E       	ld	a,0x1e
1510  046D  02          	ld	(bc), a
1511  046E  2A 00 00    	ld	hl,(_sprite)
1512  0471  CD A8 07    	call	_spr_destroy
1513  0474              l_spr_move_right_00115:
1514  0474  2E 00       	ld	l,0x00
1515  0476              l_spr_move_right_00116:
1516  0476  C9          	ret
1517  0477              	SECTION code_compiler
1518  0477              ;	---------------------------------
1519  0477              ; Function spr_move_left
1520  0477              ; ---------------------------------
1521  0477              _spr_move_left:
1522  0477  01 00 00    	ld	bc,_colint+0
1523  047A  79          	ld	a, c
1524  047B  21 00 00    	ld	hl,_sprite
1525  047E  86          	add	a, (hl)
1526  047F  5F          	ld	e, a
1527  0480  78          	ld	a, b
1528  0481  CE 00       	adc	a,0x00
1529  0483  57          	ld	d, a
1530  0484  1A          	ld	a, (de)
1531  0485  C6 FF       	add	a,0xff
1532  0487  12          	ld	(de), a
1533  0488  79          	ld	a, c
1534  0489  86          	add	a, (hl)
1535  048A  5F          	ld	e, a
1536  048B  78          	ld	a, b
1537  048C  CE 00       	adc	a,0x00
1538  048E  57          	ld	d, a
1539  048F  1A          	ld	a, (de)
1540  0490  3C          	inc	a
1541  0491  C2 57 05    	jp	NZ,l_spr_move_left_00115
1542  0494  5E          	ld	e,(hl)
1543  0495  16 00       	ld	d,0x00
1544  0497  21 00 00    	ld	hl,_lin
1545  049A  19          	add	hl,de
1546  049B  7E          	ld	a,(hl)
1547  049C  32 00 00    	ld	(_s_lin1),a
1548  049F  2A 00 00    	ld	hl,(_sprite)
1549  04A2  26 00       	ld	h,0x00
1550  04A4  11 00 00    	ld	de,_col
1551  04A7  19          	add	hl,de
1552  04A8  7E          	ld	a,(hl)
1553  04A9  B7          	or	a, a
1554  04AA  28 47       	jr	Z,l_spr_move_left_00105
1555  04AC  C6 FF       	add	a,0xff
1556  04AE  32 00 00    	ld	(_s_col1),a
1557  04B1  C5          	push	bc
1558  04B2  F5          	push	af
1559  04B3  33          	inc	sp
1560  04B4  3A 00 00    	ld	a,(_s_lin1)
1561  04B7  F5          	push	af
1562  04B8  33          	inc	sp
1563  04B9  CD 1E 00    	call	_spr_check_map
1564  04BC  F1          	pop	af
1565  04BD  C1          	pop	bc
1566  04BE  7C          	ld	a,h
1567  04BF  B5          	or	a,l
1568  04C0  20 16       	jr	NZ,l_spr_move_left_00101
1569  04C2  3A 00 00    	ld	a,(_s_lin1)
1570  04C5  C6 0F       	add	a,0x0f
1571  04C7  57          	ld	d, a
1572  04C8  3A 00 00    	ld	a,(_s_col1)
1573  04CB  C5          	push	bc
1574  04CC  5A          	ld	e,d
1575  04CD  57          	ld	d,a
1576  04CE  D5          	push	de
1577  04CF  CD 1E 00    	call	_spr_check_map
1578  04D2  F1          	pop	af
1579  04D3  C1          	pop	bc
1580  04D4  7C          	ld	a,h
1581  04D5  B5          	or	a,l
1582  04D6  28 1B       	jr	Z,l_spr_move_left_00105
1583  04D8              l_spr_move_left_00101:
1584  04D8  79          	ld	a, c
1585  04D9  21 00 00    	ld	hl,_sprite
1586  04DC  86          	add	a, (hl)
1587  04DD  5F          	ld	e, a
1588  04DE  78          	ld	a, b
1589  04DF  CE 00       	adc	a,0x00
1590  04E1  57          	ld	d, a
1591  04E2  1A          	ld	a, (de)
1592  04E3  3C          	inc	a
1593  04E4  12          	ld	(de), a
1594  04E5  79          	ld	a, c
1595  04E6  86          	add	a, (hl)
1596  04E7  4F          	ld	c, a
1597  04E8  78          	ld	a, b
1598  04E9  CE 00       	adc	a,0x00
1599  04EB  47          	ld	b, a
1600  04EC  0A          	ld	a, (bc)
1601  04ED  3C          	inc	a
1602  04EE  02          	ld	(bc), a
1603  04EF  2E 01       	ld	l,0x01
1604  04F1  18 66       	jr	l_spr_move_left_00116
1605  04F3              l_spr_move_left_00105:
1606  04F3  2A 00 00    	ld	hl,(_sprite)
1607  04F6  26 00       	ld	h,0x00
1608  04F8  11 00 00    	ld	de,_col
1609  04FB  19          	add	hl,de
1610  04FC  7E          	ld	a,(hl)
1611  04FD  EB          	ex	de,hl
1612  04FE  C6 FF       	add	a,0xff
1613  0500  12          	ld	(de),a
1614  0501  79          	ld	a,c
1615  0502  21 00 00    	ld	hl,_sprite
1616  0505  86          	add	a, (hl)
1617  0506  4F          	ld	c, a
1618  0507  78          	ld	a, b
1619  0508  CE 00       	adc	a,0x00
1620  050A  47          	ld	b, a
1621  050B  5E          	ld	e,(hl)
1622  050C  16 00       	ld	d,0x00
1623  050E  21 00 00    	ld	hl,_class
1624  0511  19          	add	hl,de
1625  0512  5E          	ld	e, (hl)
1626  0513  16 00       	ld	d,0x00
1627  0515  21 00 00    	ld	hl,_sprite_frames
1628  0518  19          	add	hl, de
1629  0519  5E          	ld	e, (hl)
1630  051A  1D          	dec	e
1631  051B  7B          	ld	a, e
1632  051C  02          	ld	(bc), a
1633  051D  2A 00 00    	ld	hl,(_sprite)
1634  0520  26 00       	ld	h,0x00
1635  0522  01 00 00    	ld	bc,_col
1636  0525  09          	add	hl,bc
1637  0526  7E          	ld	a,(hl)
1638  0527  3C          	inc	a
1639  0528  20 2D       	jr	NZ,l_spr_move_left_00115
1640  052A  3A 00 00    	ld	a,(_sprite)
1641  052D  D6 07       	sub	a,0x07
1642  052F  4D          	ld	c,l
1643  0530  44          	ld	b,h
1644  0531  20 1C       	jr	NZ,l_spr_move_left_00110
1645  0533  CD 74 05    	call	_spr_page_left
1646  0536  3A 00 00    	ld	a,(_sprite)
1647  0539  C6 00       	add	a,+((_col) & 0xFF)
1648  053B  4D          	ld	c,l
1649  053C  5F          	ld	e,a
1650  053D  3E 00       	ld	a,+((_col) / 256)
1651  053F  CE 00       	adc	a,0x00
1652  0541  57          	ld	d,a
1653  0542  79          	ld	a, c
1654  0543  B7          	or	a, a
1655  0544  28 05       	jr	Z,l_spr_move_left_00107
1656  0546  3E 1E       	ld	a,0x1e
1657  0548  12          	ld	(de), a
1658  0549  18 0C       	jr	l_spr_move_left_00115
1659  054B              l_spr_move_left_00107:
1660  054B  AF          	xor	a, a
1661  054C  12          	ld	(de), a
1662  054D  18 08       	jr	l_spr_move_left_00115
1663  054F              l_spr_move_left_00110:
1664  054F  AF          	xor	a, a
1665  0550  02          	ld	(bc), a
1666  0551  2A 00 00    	ld	hl,(_sprite)
1667  0554  CD A8 07    	call	_spr_destroy
1668  0557              l_spr_move_left_00115:
1669  0557  2E 00       	ld	l,0x00
1670  0559              l_spr_move_left_00116:
1671  0559  C9          	ret
1672  055A              	SECTION code_compiler
1673  055A              ;	---------------------------------
1674  055A              ; Function spr_page_right
1675  055A              ; ---------------------------------
1676  055A              _spr_page_right:
1677  055A  3A 00 00    	ld	a,(_scr_curr)
1678  055D  21 00 00    	ld	hl,_map_width
1679  0560  96          	sub	a, (hl)
1680  0561  30 0E       	jr	NC,l_spr_page_right_00102
1681  0563  21 00 00    	ld	hl,_scr_curr
1682  0566  34          	inc	(hl)
1683  0567  CD 9B 05    	call	_spr_page_map
1684  056A  CD C8 08    	call	_spr_draw_map_background
1685  056D  2E 01       	ld	l,0x01
1686  056F  18 02       	jr	l_spr_page_right_00103
1687  0571              l_spr_page_right_00102:
1688  0571  2E 00       	ld	l,0x00
1689  0573              l_spr_page_right_00103:
1690  0573  C9          	ret
1691  0574              	SECTION code_compiler
1692  0574              ;	---------------------------------
1693  0574              ; Function spr_page_left
1694  0574              ; ---------------------------------
1695  0574              _spr_page_left:
1696  0574  2A 00 00    	ld	hl,(_sprite)
1697  0577  26 00       	ld	h,0x00
1698  0579  01 00 00    	ld	bc,_class
1699  057C  09          	add	hl,bc
1700  057D  7E          	ld	a,(hl)
1701  057E  D6 10       	sub	a,0x10
1702  0580  28 04       	jr	Z,l_spr_page_left_00102
1703  0582  2E 00       	ld	l,0x00
1704  0584  18 14       	jr	l_spr_page_left_00105
1705  0586              l_spr_page_left_00102:
1706  0586  21 00 00    	ld	hl,_scr_curr
1707  0589  7E          	ld	a, (hl)
1708  058A  B7          	or	a, a
1709  058B  28 0B       	jr	Z,l_spr_page_left_00104
1710  058D  35          	dec	(hl)
1711  058E  CD 9B 05    	call	_spr_page_map
1712  0591  CD C8 08    	call	_spr_draw_map_background
1713  0594  2E 01       	ld	l,0x01
1714  0596  18 02       	jr	l_spr_page_left_00105
1715  0598              l_spr_page_left_00104:
1716  0598  2E 00       	ld	l,0x00
1717  059A              l_spr_page_left_00105:
1718  059A  C9          	ret
1719  059B              	SECTION code_compiler
1720  059B              ;	---------------------------------
1721  059B              ; Function spr_page_map
1722  059B              ; ---------------------------------
1723  059B              _spr_page_map:
1724  059B  CD 00 00    	call	___sdcc_enter_ix
1725  059E  F5          	push	af
1726  059F  3E 10       	ld	a,0x10
1727  05A1  F5          	push	af
1728  05A2  33          	inc	sp
1729  05A3  0E 00       	ld	c,0x00
1730  05A5              l_spr_page_map_00123:
1731  05A5  3E 07       	ld	a,0x07
1732  05A7  21 00 00    	ld	hl,_scr_curr
1733  05AA  96          	sub	a, (hl)
1734  05AB  DA 75 06    	jp	C, l_spr_page_map_00109
1735  05AE  59          	ld	e, c
1736  05AF  16 00       	ld	d,0x00
1737  05B1  13          	inc	de
1738  05B2  D5          	push	de
1739  05B3  5E          	ld	e, (hl)
1740  05B4  16 00       	ld	d,0x00
1741  05B6  21 BE 05    	ld	hl,l_spr_page_map_00167
1742  05B9  19          	add	hl, de
1743  05BA  19          	add	hl, de
1744  05BB  19          	add	hl, de
1745  05BC  D1          	pop	de
1746  05BD  E9          	jp	(hl)
1747  05BE              l_spr_page_map_00167:
1748  05BE  C3 D6 05    	jp	l_spr_page_map_00101
1749  05C1  C3 EB 05    	jp	l_spr_page_map_00102
1750  05C4  C3 FF 05    	jp	l_spr_page_map_00103
1751  05C7  C3 13 06    	jp	l_spr_page_map_00104
1752  05CA  C3 27 06    	jp	l_spr_page_map_00105
1753  05CD  C3 3B 06    	jp	l_spr_page_map_00106
1754  05D0  C3 4F 06    	jp	l_spr_page_map_00107
1755  05D3  C3 63 06    	jp	l_spr_page_map_00108
1756  05D6              l_spr_page_map_00101:
1757  05D6  06 00       	ld	b,0x00
1758  05D8  21 00 00    	ld	hl,_scr_0
1759  05DB  09          	add	hl, bc
1760  05DC  7E          	ld	a, (hl)
1761  05DD  DD 77 FF    	ld	(ix-1),a
1762  05E0  21 00 00    	ld	hl,_scr_0
1763  05E3  19          	add	hl, de
1764  05E4  7E          	ld	a, (hl)
1765  05E5  DD 77 FE    	ld	(ix-2),a
1766  05E8  C3 75 06    	jp	l_spr_page_map_00109
1767  05EB              l_spr_page_map_00102:
1768  05EB  06 00       	ld	b,0x00
1769  05ED  21 00 00    	ld	hl,_scr_1
1770  05F0  09          	add	hl, bc
1771  05F1  7E          	ld	a, (hl)
1772  05F2  DD 77 FF    	ld	(ix-1),a
1773  05F5  21 00 00    	ld	hl,_scr_1
1774  05F8  19          	add	hl, de
1775  05F9  7E          	ld	a, (hl)
1776  05FA  DD 77 FE    	ld	(ix-2),a
1777  05FD  18 76       	jr	l_spr_page_map_00109
1778  05FF              l_spr_page_map_00103:
1779  05FF  06 00       	ld	b,0x00
1780  0601  21 00 00    	ld	hl,_scr_2
1781  0604  09          	add	hl, bc
1782  0605  7E          	ld	a, (hl)
1783  0606  DD 77 FF    	ld	(ix-1),a
1784  0609  21 00 00    	ld	hl,_scr_2
1785  060C  19          	add	hl, de
1786  060D  7E          	ld	a, (hl)
1787  060E  DD 77 FE    	ld	(ix-2),a
1788  0611  18 62       	jr	l_spr_page_map_00109
1789  0613              l_spr_page_map_00104:
1790  0613  06 00       	ld	b,0x00
1791  0615  21 00 00    	ld	hl,_scr_3
1792  0618  09          	add	hl, bc
1793  0619  7E          	ld	a, (hl)
1794  061A  DD 77 FF    	ld	(ix-1),a
1795  061D  21 00 00    	ld	hl,_scr_3
1796  0620  19          	add	hl, de
1797  0621  7E          	ld	a, (hl)
1798  0622  DD 77 FE    	ld	(ix-2),a
1799  0625  18 4E       	jr	l_spr_page_map_00109
1800  0627              l_spr_page_map_00105:
1801  0627  06 00       	ld	b,0x00
1802  0629  21 00 00    	ld	hl,_scr_4
1803  062C  09          	add	hl, bc
1804  062D  7E          	ld	a, (hl)
1805  062E  DD 77 FF    	ld	(ix-1),a
1806  0631  21 00 00    	ld	hl,_scr_4
1807  0634  19          	add	hl, de
1808  0635  7E          	ld	a, (hl)
1809  0636  DD 77 FE    	ld	(ix-2),a
1810  0639  18 3A       	jr	l_spr_page_map_00109
1811  063B              l_spr_page_map_00106:
1812  063B  06 00       	ld	b,0x00
1813  063D  21 00 00    	ld	hl,_scr_5
1814  0640  09          	add	hl, bc
1815  0641  7E          	ld	a, (hl)
1816  0642  DD 77 FF    	ld	(ix-1),a
1817  0645  21 00 00    	ld	hl,_scr_5
1818  0648  19          	add	hl, de
1819  0649  7E          	ld	a, (hl)
1820  064A  DD 77 FE    	ld	(ix-2),a
1821  064D  18 26       	jr	l_spr_page_map_00109
1822  064F              l_spr_page_map_00107:
1823  064F  06 00       	ld	b,0x00
1824  0651  21 00 00    	ld	hl,_scr_6
1825  0654  09          	add	hl, bc
1826  0655  7E          	ld	a, (hl)
1827  0656  DD 77 FF    	ld	(ix-1),a
1828  0659  21 00 00    	ld	hl,_scr_6
1829  065C  19          	add	hl, de
1830  065D  7E          	ld	a, (hl)
1831  065E  DD 77 FE    	ld	(ix-2),a
1832  0661  18 12       	jr	l_spr_page_map_00109
1833  0663              l_spr_page_map_00108:
1834  0663  06 00       	ld	b,0x00
1835  0665  21 00 00    	ld	hl,_scr_7
1836  0668  09          	add	hl, bc
1837  0669  7E          	ld	a, (hl)
1838  066A  DD 77 FF    	ld	(ix-1),a
1839  066D  21 00 00    	ld	hl,_scr_7
1840  0670  19          	add	hl, de
1841  0671  7E          	ld	a, (hl)
1842  0672  DD 77 FE    	ld	(ix-2),a
1843  0675              l_spr_page_map_00109:
1844  0675  DD 7E FF    	ld	a,(ix-1)
1845  0678  D6 80       	sub	a,0x80
1846  067A  30 14       	jr	NC,l_spr_page_map_00114
1847  067C  3E 00       	ld	a, +((_scr_map) & 0xFF)
1848  067E  DD 86 FD    	add	a,(ix-3)
1849  0681  5F          	ld	e, a
1850  0682  3E 00       	ld	a, +((_scr_map) / 256)
1851  0684  CE 00       	adc	a,0x00
1852  0686  57          	ld	d, a
1853  0687  DD 7E FF    	ld	a,(ix-1)
1854  068A  12          	ld	(de), a
1855  068B  DD 34 FD    	inc	(ix-3)
1856  068E  18 29       	jr	l_spr_page_map_00115
1857  0690              l_spr_page_map_00114:
1858  0690  DD 7E FF    	ld	a,(ix-1)
1859  0693  C6 80       	add	a,0x80
1860  0695  47          	ld	b, a
1861  0696  DD 5E FD    	ld	e,(ix-3)
1862  0699  16 00       	ld	d,0x00
1863  069B              l_spr_page_map_00121:
1864  069B  7A          	ld	a, d
1865  069C  90          	sub	a, b
1866  069D  30 16       	jr	NC,l_spr_page_map_00138
1867  069F  3E 00       	ld	a, +((_scr_map) & 0xFF)
1868  06A1  83          	add	a, e
1869  06A2  6F          	ld	l, a
1870  06A3  3E 00       	ld	a, +((_scr_map) / 256)
1871  06A5  CE 00       	adc	a,0x00
1872  06A7  67          	ld	h, a
1873  06A8  DD 7E FE    	ld	a,(ix-2)
1874  06AB  77          	ld	(hl), a
1875  06AC  1C          	inc	e
1876  06AD  7B          	ld	a, e
1877  06AE  D6 A0       	sub	a,0xa0
1878  06B0  30 03       	jr	NC,l_spr_page_map_00138
1879  06B2  14          	inc	d
1880  06B3  18 E6       	jr	l_spr_page_map_00121
1881  06B5              l_spr_page_map_00138:
1882  06B5  DD 73 FD    	ld	(ix-3),e
1883  06B8  0C          	inc	c
1884  06B9              l_spr_page_map_00115:
1885  06B9  DD 7E FD    	ld	a,(ix-3)
1886  06BC  D6 A0       	sub	a,0xa0
1887  06BE  30 07       	jr	NC,l_spr_page_map_00136
1888  06C0  0C          	inc	c
1889  06C1  79          	ld	a, c
1890  06C2  D6 A0       	sub	a,0xa0
1891  06C4  DA A5 05    	jp	C, l_spr_page_map_00123
1892  06C7              l_spr_page_map_00136:
1893  06C7  0E 00       	ld	c,0x00
1894  06C9              l_spr_page_map_00125:
1895  06C9  06 00       	ld	b,0x00
1896  06CB  21 00 00    	ld	hl,_class
1897  06CE  09          	add	hl, bc
1898  06CF  36 00       	ld	(hl),0x00
1899  06D1  C5          	push	bc
1900  06D2  21 00 00    	ld	hl,0x0000
1901  06D5  E5          	push	hl
1902  06D6  AF          	xor	a, a
1903  06D7  F5          	push	af
1904  06D8  33          	inc	sp
1905  06D9  79          	ld	a, c
1906  06DA  F5          	push	af
1907  06DB  33          	inc	sp
1908  06DC  CD 00 00    	call	_NIRVANAP_spriteT_callee
1909  06DF  C1          	pop	bc
1910  06E0  0C          	inc	c
1911  06E1  79          	ld	a, c
1912  06E2  D6 07       	sub	a,0x07
1913  06E4  38 E3       	jr	C,l_spr_page_map_00125
1914  06E6  CD 26 0E    	call	_spr_init_anim
1915  06E9  CD 38 0E    	call	_spr_init_bullet
1916  06EC  DD F9       	ld	sp, ix
1917  06EE  DD E1       	pop	ix
1918  06F0  C9          	ret
1919  06F1              	SECTION code_compiler
1920  06F1              ;	---------------------------------
1921  06F1              ; Function spr_redraw
1922  06F1              ; ---------------------------------
1923  06F1              _spr_redraw:
1924  06F1  2A 00 00    	ld	hl,(_sprite)
1925  06F4  26 00       	ld	h,0x00
1926  06F6  01 00 00    	ld	bc,_tile
1927  06F9  09          	add	hl,bc
1928  06FA  4E          	ld	c, (hl)
1929  06FB  3A 00 00    	ld	a,(_sprite)
1930  06FE  5F          	ld	e,a
1931  06FF  16 00       	ld	d,0x00
1932  0701  21 00 00    	ld	hl,_colint
1933  0704  19          	add	hl,de
1934  0705  7E          	ld	a,(hl)
1935  0706  81          	add	a,c
1936  0707  32 00 00    	ld	(_s_tile1),a
1937  070A  2A 00 00    	ld	hl,(_sprite)
1938  070D  26 00       	ld	h,0x00
1939  070F  01 00 00    	ld	bc,_col
1940  0712  09          	add	hl,bc
1941  0713  7E          	ld	a,(hl)
1942  0714  32 00 00    	ld	(_s_col1),a
1943  0717  2A 00 00    	ld	hl,(_sprite)
1944  071A  26 00       	ld	h,0x00
1945  071C  01 00 00    	ld	bc,_lin
1946  071F  09          	add	hl,bc
1947  0720  7E          	ld	a,(hl)
1948  0721  32 00 00    	ld	(_s_lin1),a
1949  0724  21 00 00    	ld	hl,_s_lin0
1950  0727  96          	sub	a, (hl)
1951  0728  20 09       	jr	NZ,l_spr_redraw_00109
1952  072A  3A 00 00    	ld	a,(_s_col1)
1953  072D  21 00 00    	ld	hl,_s_col0
1954  0730  96          	sub	a, (hl)
1955  0731  28 52       	jr	Z,l_spr_redraw_00110
1956  0733              l_spr_redraw_00109:
1957  0733  3E 10       	ld	a,0x10
1958  0735  21 00 00    	ld	hl,_s_lin0
1959  0738  96          	sub	a, (hl)
1960  0739  38 0E       	jr	C,l_spr_redraw_00102
1961  073B  F3          	di
1962  073C  3A 00 00    	ld	a,(_s_col0)
1963  073F  F5          	push	af
1964  0740  33          	inc	sp
1965  0741  21 49 08    	ld	hl,0x0849
1966  0744  E5          	push	hl
1967  0745  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1968  0748  FB          	ei
1969  0749              l_spr_redraw_00102:
1970  0749  3A 00 00    	ld	a,(_sprite)
1971  074C  D6 07       	sub	a,0x07
1972  074E  20 1B       	jr	NZ,l_spr_redraw_00104
1973  0750  3A 00 00    	ld	a,(_player_over_stair)
1974  0753  B7          	or	a, a
1975  0754  28 15       	jr	Z,l_spr_redraw_00104
1976  0756  2A 00 00    	ld	hl,(_sprite)
1977  0759  26 00       	ld	h,0x00
1978  075B  01 00 00    	ld	bc,_lin
1979  075E  09          	add	hl,bc
1980  075F  7E          	ld	a,(hl)
1981  0760  E6 03       	and	a,0x03
1982  0762  20 07       	jr	NZ,l_spr_redraw_00104
1983  0764  21 00 00    	ld	hl,_s_tile1
1984  0767  34          	inc	(hl)
1985  0768  34          	inc	(hl)
1986  0769  34          	inc	(hl)
1987  076A  34          	inc	(hl)
1988  076B              l_spr_redraw_00104:
1989  076B  2A FF FF    	ld	hl,(_s_col1 - 1)
1990  076E  3A 00 00    	ld	a,(_s_lin1)
1991  0771  6F          	ld	l,a
1992  0772  E5          	push	hl
1993  0773  2A FF FF    	ld	hl,(_s_tile1 - 1)
1994  0776  3A 00 00    	ld	a,(_sprite)
1995  0779  6F          	ld	l,a
1996  077A  E5          	push	hl
1997  077B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1998  077E  CD 7A 0C    	call	_spr_back_clr
1999  0781  2E 01       	ld	l,0x01
2000  0783  18 22       	jr	l_spr_redraw_00113
2001  0785              l_spr_redraw_00110:
2002  0785  3A 00 00    	ld	a,(_s_tile1)
2003  0788  21 00 00    	ld	hl,_s_tile0
2004  078B  96          	sub	a, (hl)
2005  078C  28 17       	jr	Z,l_spr_redraw_00111
2006  078E  2A FF FF    	ld	hl,(_s_col1 - 1)
2007  0791  3A 00 00    	ld	a,(_s_lin1)
2008  0794  6F          	ld	l,a
2009  0795  E5          	push	hl
2010  0796  2A FF FF    	ld	hl,(_s_tile1 - 1)
2011  0799  3A 00 00    	ld	a,(_sprite)
2012  079C  6F          	ld	l,a
2013  079D  E5          	push	hl
2014  079E  CD 00 00    	call	_NIRVANAP_spriteT_callee
2015  07A1  2E 00       	ld	l,0x00
2016  07A3  18 02       	jr	l_spr_redraw_00113
2017  07A5              l_spr_redraw_00111:
2018  07A5  2E 00       	ld	l,0x00
2019  07A7              l_spr_redraw_00113:
2020  07A7  C9          	ret
2021  07A8              	SECTION code_compiler
2022  07A8              ;	---------------------------------
2023  07A8              ; Function spr_destroy
2024  07A8              ; ---------------------------------
2025  07A8              _spr_destroy:
2026  07A8  CD 00 00    	call	___sdcc_enter_ix
2027  07AB  F5          	push	af
2028  07AC  4D          	ld	c, l
2029  07AD  21 00 00    	ld	hl,_spr_count
2030  07B0  35          	dec	(hl)
2031  07B1  3E 00       	ld	a, +((_lin) & 0xFF)
2032  07B3  81          	add	a, c
2033  07B4  DD 77 FE    	ld	(ix-2),a
2034  07B7  3E 00       	ld	a, +((_lin) / 256)
2035  07B9  CE 00       	adc	a,0x00
2036  07BB  DD 77 FF    	ld	(ix-1),a
2037  07BE  E1          	pop	hl
2038  07BF  7E          	ld	a,(hl)
2039  07C0  E5          	push	hl
2040  07C1  32 00 00    	ld	(_s_lin0),a
2041  07C4  3E 00       	ld	a, +((_col) & 0xFF)
2042  07C6  81          	add	a, c
2043  07C7  5F          	ld	e, a
2044  07C8  3E 00       	ld	a, +((_col) / 256)
2045  07CA  CE 00       	adc	a,0x00
2046  07CC  57          	ld	d, a
2047  07CD  1A          	ld	a, (de)
2048  07CE  32 00 00    	ld	(_s_col0),a
2049  07D1  C5          	push	bc
2050  07D2  D5          	push	de
2051  07D3  21 00 00    	ld	hl,0x0000
2052  07D6  E5          	push	hl
2053  07D7  AF          	xor	a, a
2054  07D8  F5          	push	af
2055  07D9  33          	inc	sp
2056  07DA  79          	ld	a, c
2057  07DB  F5          	push	af
2058  07DC  33          	inc	sp
2059  07DD  CD 00 00    	call	_NIRVANAP_spriteT_callee
2060  07E0  CD 7A 0C    	call	_spr_back_clr
2061  07E3  D1          	pop	de
2062  07E4  C1          	pop	bc
2063  07E5  06 00       	ld	b,0x00
2064  07E7  21 00 00    	ld	hl,_tile
2065  07EA  09          	add	hl, bc
2066  07EB  AF          	xor	a,a
2067  07EC  77          	ld	(hl),a
2068  07ED  E1          	pop	hl
2069  07EE  12          	ld	(de),a
2070  07EF  E5          	push	hl
2071  07F0  36 00       	ld	(hl),0x00
2072  07F2  11 00 00    	ld	de,_class+0
2073  07F5  69          	ld	l,c
2074  07F6  26 00       	ld	h,0x00
2075  07F8  19          	add	hl, de
2076  07F9  36 00       	ld	(hl),0x00
2077  07FB  11 00 00    	ld	de,_state+0
2078  07FE  69          	ld	l,c
2079  07FF  26 00       	ld	h,0x00
2080  0801  19          	add	hl, de
2081  0802  36 00       	ld	(hl),0x00
2082  0804  11 00 00    	ld	de,_state_a+0
2083  0807  69          	ld	l,c
2084  0808  26 00       	ld	h,0x00
2085  080A  19          	add	hl, de
2086  080B  F1          	pop	af
2087  080C  36 00       	ld	(hl),0x00
2088  080E  DD E1       	pop	ix
2089  0810  C9          	ret
2090  0811              	SECTION code_compiler
2091  0811              ;	---------------------------------
2092  0811              ; Function spr_tile
2093  0811              ; ---------------------------------
2094  0811              _spr_tile:
2095  0811  45          	ld	b,l
2096  0812  11 00 00    	ld	de,_class+0
2097  0815  26 00       	ld	h,0x00
2098  0817  19          	add	hl, de
2099  0818  7E          	ld	a, (hl)
2100  0819  FE 01       	cp	a,0x01
2101  081B  28 12       	jr	Z,l_spr_tile_00101
2102  081D  FE 02       	cp	a,0x02
2103  081F  28 1D       	jr	Z,l_spr_tile_00102
2104  0821  FE 03       	cp	a,0x03
2105  0823  28 28       	jr	Z,l_spr_tile_00103
2106  0825  FE 04       	cp	a,0x04
2107  0827  28 34       	jr	Z,l_spr_tile_00104
2108  0829  D6 05       	sub	a,0x05
2109  082B  28 3F       	jr	Z,l_spr_tile_00105
2110  082D  18 4D       	jr	l_spr_tile_00106
2111  082F              l_spr_tile_00101:
2112  082F  AF          	xor	a, a
2113  0830  48          	ld	c,b
2114  0831  47          	ld	b,a
2115  0832  C5          	push	bc
2116  0833  3E 84       	ld	a,0x84
2117  0835  F5          	push	af
2118  0836  33          	inc	sp
2119  0837  CD 7F 08    	call	_spr_tile_dir
2120  083A  F1          	pop	af
2121  083B  33          	inc	sp
2122  083C  18 40       	jr	l_spr_tile_00107
2123  083E              l_spr_tile_00102:
2124  083E  AF          	xor	a, a
2125  083F  48          	ld	c,b
2126  0840  47          	ld	b,a
2127  0841  C5          	push	bc
2128  0842  3E 88       	ld	a,0x88
2129  0844  F5          	push	af
2130  0845  33          	inc	sp
2131  0846  CD 7F 08    	call	_spr_tile_dir
2132  0849  F1          	pop	af
2133  084A  33          	inc	sp
2134  084B  18 31       	jr	l_spr_tile_00107
2135  084D              l_spr_tile_00103:
2136  084D  3E 02       	ld	a,0x02
2137  084F  48          	ld	c,b
2138  0850  47          	ld	b,a
2139  0851  C5          	push	bc
2140  0852  3E 8C       	ld	a,0x8c
2141  0854  F5          	push	af
2142  0855  33          	inc	sp
2143  0856  CD 7F 08    	call	_spr_tile_dir
2144  0859  F1          	pop	af
2145  085A  33          	inc	sp
2146  085B  18 21       	jr	l_spr_tile_00107
2147  085D              l_spr_tile_00104:
2148  085D  AF          	xor	a, a
2149  085E  48          	ld	c,b
2150  085F  47          	ld	b,a
2151  0860  C5          	push	bc
2152  0861  3E 90       	ld	a,0x90
2153  0863  F5          	push	af
2154  0864  33          	inc	sp
2155  0865  CD 7F 08    	call	_spr_tile_dir
2156  0868  F1          	pop	af
2157  0869  33          	inc	sp
2158  086A  18 12       	jr	l_spr_tile_00107
2159  086C              l_spr_tile_00105:
2160  086C  3E 04       	ld	a,0x04
2161  086E  48          	ld	c,b
2162  086F  47          	ld	b,a
2163  0870  C5          	push	bc
2164  0871  3E 94       	ld	a,0x94
2165  0873  F5          	push	af
2166  0874  33          	inc	sp
2167  0875  CD 7F 08    	call	_spr_tile_dir
2168  0878  F1          	pop	af
2169  0879  33          	inc	sp
2170  087A  18 02       	jr	l_spr_tile_00107
2171  087C              l_spr_tile_00106:
2172  087C  2E 00       	ld	l,0x00
2173  087E              l_spr_tile_00107:
2174  087E  C9          	ret
2175  087F              	SECTION code_compiler
2176  087F              ;	---------------------------------
2177  087F              ; Function spr_tile_dir
2178  087F              ; ---------------------------------
2179  087F              _spr_tile_dir:
2180  087F  CD 00 00    	call	___sdcc_enter_ix
2181  0882  3E 00       	ld	a, +((_state) & 0xFF)
2182  0884  DD 86 05    	add	a,(ix+5)
2183  0887  4F          	ld	c, a
2184  0888  3E 00       	ld	a, +((_state) / 256)
2185  088A  CE 00       	adc	a,0x00
2186  088C  47          	ld	b, a
2187  088D  0A          	ld	a, (bc)
2188  088E  4F          	ld	c,a
2189  088F  CB 57       	bit	2,a
2190  0891  28 05       	jr	Z,l_spr_tile_dir_00102
2191  0893  DD 6E 04    	ld	l,(ix+4)
2192  0896  18 2D       	jr	l_spr_tile_dir_00109
2193  0898              l_spr_tile_dir_00102:
2194  0898  DD 7E 04    	ld	a,(ix+4)
2195  089B  DD 86 06    	add	a,(ix+6)
2196  089E  47          	ld	b, a
2197  089F  CB 59       	bit	3, c
2198  08A1  28 03       	jr	Z,l_spr_tile_dir_00104
2199  08A3  68          	ld	l, b
2200  08A4  18 1F       	jr	l_spr_tile_dir_00109
2201  08A6              l_spr_tile_dir_00104:
2202  08A6  3E 00       	ld	a, +((_state_a) & 0xFF)
2203  08A8  DD 86 05    	add	a,(ix+5)
2204  08AB  5F          	ld	e, a
2205  08AC  3E 00       	ld	a, +((_state_a) / 256)
2206  08AE  CE 00       	adc	a,0x00
2207  08B0  57          	ld	d, a
2208  08B1  1A          	ld	a, (de)
2209  08B2  CB 67       	bit	4, a
2210  08B4  28 05       	jr	Z,l_spr_tile_dir_00106
2211  08B6  DD 6E 04    	ld	l,(ix+4)
2212  08B9  18 0A       	jr	l_spr_tile_dir_00109
2213  08BB              l_spr_tile_dir_00106:
2214  08BB  CB 5F       	bit	3, a
2215  08BD  28 03       	jr	Z,l_spr_tile_dir_00108
2216  08BF  68          	ld	l, b
2217  08C0  18 03       	jr	l_spr_tile_dir_00109
2218  08C2              l_spr_tile_dir_00108:
2219  08C2  DD 6E 04    	ld	l,(ix+4)
2220  08C5              l_spr_tile_dir_00109:
2221  08C5  DD E1       	pop	ix
2222  08C7  C9          	ret
2223  08C8              	SECTION code_compiler
2224  08C8              ;	---------------------------------
2225  08C8              ; Function spr_draw_map_background
2226  08C8              ; ---------------------------------
2227  08C8              _spr_draw_map_background:
2228  08C8  76          	halt
2229  08C9  21 10 00    	ld	hl,0x0010
2230  08CC  22 00 00    	ld	(_index1),hl
2231  08CF  21 00 00    	ld	hl,_s_lin1
2232  08D2  36 00       	ld	(hl),0x00
2233  08D4  21 00 00    	ld	hl,_s_col1
2234  08D7  36 02       	ld	(hl),0x02
2235  08D9  21 00 00    	ld	hl,_spr_count
2236  08DC  36 00       	ld	(hl),0x00
2237  08DE              l_spr_draw_map_background_00117:
2238  08DE  21 00 00    	ld	hl,_index1
2239  08E1  7E          	ld	a, (hl)
2240  08E2  D6 A0       	sub	a,0xa0
2241  08E4  23          	inc	hl
2242  08E5  7E          	ld	a, (hl)
2243  08E6  DE 00       	sbc	a,0x00
2244  08E8  D2 42 0A    	jp	NC, l_spr_draw_map_background_00120
2245  08EB  2B          	dec	hl
2246  08EC  7E          	ld	a, (hl)
2247  08ED  E6 0F       	and	a,0x0f
2248  08EF  20 0C       	jr	NZ,l_spr_draw_map_background_00102
2249  08F1  21 00 00    	ld	hl,_s_lin1
2250  08F4  7E          	ld	a, (hl)
2251  08F5  C6 10       	add	a,0x10
2252  08F7  77          	ld	(hl), a
2253  08F8  21 00 00    	ld	hl,_s_col1
2254  08FB  36 00       	ld	(hl),0x00
2255  08FD              l_spr_draw_map_background_00102:
2256  08FD  01 00 00    	ld	bc,_scr_map
2257  0900  2A 00 00    	ld	hl,(_index1)
2258  0903  09          	add	hl,bc
2259  0904  7E          	ld	a,(hl)
2260  0905  47          	ld	b,a
2261  0906  D6 54       	sub	a,0x54
2262  0908  3E 00       	ld	a,0x00
2263  090A  17          	rla
2264  090B  B7          	or	a, a
2265  090C  28 11       	jr	Z,l_spr_draw_map_background_00115
2266  090E  3A 00 00    	ld	a,(_s_col1)
2267  0911  F5          	push	af
2268  0912  33          	inc	sp
2269  0913  3A 00 00    	ld	a,(_s_lin1)
2270  0916  48          	ld	c,b
2271  0917  47          	ld	b,a
2272  0918  C5          	push	bc
2273  0919  CD 00 00    	call	_NIRVANAP_drawT_callee
2274  091C  C3 31 0A    	jp	l_spr_draw_map_background_00116
2275  091F              l_spr_draw_map_background_00115:
2276  091F  B7          	or	a, a
2277  0920  C2 28 0A    	jp	NZ, l_spr_draw_map_background_00113
2278  0923  3E 5D       	ld	a,0x5d
2279  0925  90          	sub	a, b
2280  0926  DA 28 0A    	jp	C, l_spr_draw_map_background_00113
2281  0929  78          	ld	a, b
2282  092A  C6 AC       	add	a,0xac
2283  092C  4F          	ld	c, a
2284  092D  06 00       	ld	b,0x00
2285  092F  21 36 09    	ld	hl,l_spr_draw_map_background_00148
2286  0932  09          	add	hl, bc
2287  0933  09          	add	hl, bc
2288  0934  09          	add	hl, bc
2289  0935  E9          	jp	(hl)
2290  0936              l_spr_draw_map_background_00148:
2291  0936  C3 6A 09    	jp	l_spr_draw_map_background_00104
2292  0939  C3 54 09    	jp	l_spr_draw_map_background_00103
2293  093C  C3 96 09    	jp	l_spr_draw_map_background_00106
2294  093F  C3 80 09    	jp	l_spr_draw_map_background_00105
2295  0942  C3 C1 09    	jp	l_spr_draw_map_background_00108
2296  0945  C3 AC 09    	jp	l_spr_draw_map_background_00107
2297  0948  C3 EB 09    	jp	l_spr_draw_map_background_00110
2298  094B  C3 D6 09    	jp	l_spr_draw_map_background_00109
2299  094E  C3 15 0A    	jp	l_spr_draw_map_background_00112
2300  0951  C3 00 0A    	jp	l_spr_draw_map_background_00111
2301  0954              l_spr_draw_map_background_00103:
2302  0954  3A 00 00    	ld	a,(_s_col1)
2303  0957  21 01 01    	ld	hl,0x0101
2304  095A  E5          	push	hl
2305  095B  F5          	push	af
2306  095C  33          	inc	sp
2307  095D  3A 00 00    	ld	a,(_s_lin1)
2308  0960  F5          	push	af
2309  0961  33          	inc	sp
2310  0962  CD 00 00    	call	_enemy_init
2311  0965  F1          	pop	af
2312  0966  F1          	pop	af
2313  0967  C3 28 0A    	jp	l_spr_draw_map_background_00113
2314  096A              l_spr_draw_map_background_00104:
2315  096A  3A 00 00    	ld	a,(_s_col1)
2316  096D  21 01 FF    	ld	hl,0xff01
2317  0970  E5          	push	hl
2318  0971  F5          	push	af
2319  0972  33          	inc	sp
2320  0973  3A 00 00    	ld	a,(_s_lin1)
2321  0976  F5          	push	af
2322  0977  33          	inc	sp
2323  0978  CD 00 00    	call	_enemy_init
2324  097B  F1          	pop	af
2325  097C  F1          	pop	af
2326  097D  C3 28 0A    	jp	l_spr_draw_map_background_00113
2327  0980              l_spr_draw_map_background_00105:
2328  0980  3A 00 00    	ld	a,(_s_col1)
2329  0983  21 02 01    	ld	hl,0x0102
2330  0986  E5          	push	hl
2331  0987  F5          	push	af
2332  0988  33          	inc	sp
2333  0989  3A 00 00    	ld	a,(_s_lin1)
2334  098C  F5          	push	af
2335  098D  33          	inc	sp
2336  098E  CD 00 00    	call	_enemy_init
2337  0991  F1          	pop	af
2338  0992  F1          	pop	af
2339  0993  C3 28 0A    	jp	l_spr_draw_map_background_00113
2340  0996              l_spr_draw_map_background_00106:
2341  0996  3A 00 00    	ld	a,(_s_col1)
2342  0999  21 02 FF    	ld	hl,0xff02
2343  099C  E5          	push	hl
2344  099D  F5          	push	af
2345  099E  33          	inc	sp
2346  099F  3A 00 00    	ld	a,(_s_lin1)
2347  09A2  F5          	push	af
2348  09A3  33          	inc	sp
2349  09A4  CD 00 00    	call	_enemy_init
2350  09A7  F1          	pop	af
2351  09A8  F1          	pop	af
2352  09A9  C3 28 0A    	jp	l_spr_draw_map_background_00113
2353  09AC              l_spr_draw_map_background_00107:
2354  09AC  3A 00 00    	ld	a,(_s_col1)
2355  09AF  21 03 01    	ld	hl,0x0103
2356  09B2  E5          	push	hl
2357  09B3  F5          	push	af
2358  09B4  33          	inc	sp
2359  09B5  3A 00 00    	ld	a,(_s_lin1)
2360  09B8  F5          	push	af
2361  09B9  33          	inc	sp
2362  09BA  CD 00 00    	call	_enemy_init
2363  09BD  F1          	pop	af
2364  09BE  F1          	pop	af
2365  09BF  18 67       	jr	l_spr_draw_map_background_00113
2366  09C1              l_spr_draw_map_background_00108:
2367  09C1  3A 00 00    	ld	a,(_s_col1)
2368  09C4  21 03 FF    	ld	hl,0xff03
2369  09C7  E5          	push	hl
2370  09C8  F5          	push	af
2371  09C9  33          	inc	sp
2372  09CA  3A 00 00    	ld	a,(_s_lin1)
2373  09CD  F5          	push	af
2374  09CE  33          	inc	sp
2375  09CF  CD 00 00    	call	_enemy_init
2376  09D2  F1          	pop	af
2377  09D3  F1          	pop	af
2378  09D4  18 52       	jr	l_spr_draw_map_background_00113
2379  09D6              l_spr_draw_map_background_00109:
2380  09D6  3A 00 00    	ld	a,(_s_col1)
2381  09D9  21 04 01    	ld	hl,0x0104
2382  09DC  E5          	push	hl
2383  09DD  F5          	push	af
2384  09DE  33          	inc	sp
2385  09DF  3A 00 00    	ld	a,(_s_lin1)
2386  09E2  F5          	push	af
2387  09E3  33          	inc	sp
2388  09E4  CD 00 00    	call	_enemy_init
2389  09E7  F1          	pop	af
2390  09E8  F1          	pop	af
2391  09E9  18 3D       	jr	l_spr_draw_map_background_00113
2392  09EB              l_spr_draw_map_background_00110:
2393  09EB  3A 00 00    	ld	a,(_s_col1)
2394  09EE  21 04 FF    	ld	hl,0xff04
2395  09F1  E5          	push	hl
2396  09F2  F5          	push	af
2397  09F3  33          	inc	sp
2398  09F4  3A 00 00    	ld	a,(_s_lin1)
2399  09F7  F5          	push	af
2400  09F8  33          	inc	sp
2401  09F9  CD 00 00    	call	_enemy_init
2402  09FC  F1          	pop	af
2403  09FD  F1          	pop	af
2404  09FE  18 28       	jr	l_spr_draw_map_background_00113
2405  0A00              l_spr_draw_map_background_00111:
2406  0A00  3A 00 00    	ld	a,(_s_col1)
2407  0A03  21 05 01    	ld	hl,0x0105
2408  0A06  E5          	push	hl
2409  0A07  F5          	push	af
2410  0A08  33          	inc	sp
2411  0A09  3A 00 00    	ld	a,(_s_lin1)
2412  0A0C  F5          	push	af
2413  0A0D  33          	inc	sp
2414  0A0E  CD 00 00    	call	_enemy_init
2415  0A11  F1          	pop	af
2416  0A12  F1          	pop	af
2417  0A13  18 13       	jr	l_spr_draw_map_background_00113
2418  0A15              l_spr_draw_map_background_00112:
2419  0A15  3A 00 00    	ld	a,(_s_col1)
2420  0A18  21 05 FF    	ld	hl,0xff05
2421  0A1B  E5          	push	hl
2422  0A1C  F5          	push	af
2423  0A1D  33          	inc	sp
2424  0A1E  3A 00 00    	ld	a,(_s_lin1)
2425  0A21  F5          	push	af
2426  0A22  33          	inc	sp
2427  0A23  CD 00 00    	call	_enemy_init
2428  0A26  F1          	pop	af
2429  0A27  F1          	pop	af
2430  0A28              l_spr_draw_map_background_00113:
2431  0A28  01 00 00    	ld	bc,_scr_map
2432  0A2B  2A 00 00    	ld	hl,(_index1)
2433  0A2E  09          	add	hl,bc
2434  0A2F  AF          	xor	a,a
2435  0A30  77          	ld	(hl),a
2436  0A31              l_spr_draw_map_background_00116:
2437  0A31  21 00 00    	ld	hl,_s_col1
2438  0A34  34          	inc	(hl)
2439  0A35  34          	inc	(hl)
2440  0A36  21 00 00    	ld	hl,_index1
2441  0A39  34          	inc	(hl)
2442  0A3A  C2 DE 08    	jp	NZ,l_spr_draw_map_background_00117
2443  0A3D  23          	inc	hl
2444  0A3E  34          	inc	(hl)
2445  0A3F  C3 DE 08    	jp	l_spr_draw_map_background_00117
2446  0A42              l_spr_draw_map_background_00120:
2447  0A42  C9          	ret
2448  0A43              	SECTION code_compiler
2449  0A43              ;	---------------------------------
2450  0A43              ; Function spr_draw_clear
2451  0A43              ; ---------------------------------
2452  0A43              _spr_draw_clear:
2453  0A43  F3          	di
2454  0A44  2E 00       	ld	l,0x00
2455  0A46  CD 00 00    	call	_zx_cls_fastcall
2456  0A49  21 00 00    	ld	hl,_s_lin1
2457  0A4C  36 10       	ld	(hl),0x10
2458  0A4E              l_spr_draw_clear_00105:
2459  0A4E  21 00 00    	ld	hl,_s_col1
2460  0A51  36 00       	ld	(hl),0x00
2461  0A53              l_spr_draw_clear_00103:
2462  0A53  2A FF FF    	ld	hl,(_s_col1 - 1)
2463  0A56  3A 00 00    	ld	a,(_s_lin1)
2464  0A59  6F          	ld	l,a
2465  0A5A  E5          	push	hl
2466  0A5B  AF          	xor	a, a
2467  0A5C  F5          	push	af
2468  0A5D  33          	inc	sp
2469  0A5E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2470  0A61  21 00 00    	ld	hl,_s_col1
2471  0A64  7E          	ld	a,(hl)
2472  0A65  C6 02       	add	a,0x02
2473  0A67  77          	ld	(hl),a
2474  0A68  D6 20       	sub	a,0x20
2475  0A6A  38 E7       	jr	C,l_spr_draw_clear_00103
2476  0A6C  21 00 00    	ld	hl,_s_lin1
2477  0A6F  7E          	ld	a, (hl)
2478  0A70  C6 10       	add	a,0x10
2479  0A72  77          	ld	(hl), a
2480  0A73  3E A2       	ld	a,0xa2
2481  0A75  96          	sub	a, (hl)
2482  0A76  30 D6       	jr	NC,l_spr_draw_clear_00105
2483  0A78  FB          	ei
2484  0A79  C9          	ret
2485  0A7A              	SECTION code_compiler
2486  0A7A              ;	---------------------------------
2487  0A7A              ; Function spr_brick_anim
2488  0A7A              ; ---------------------------------
2489  0A7A              _spr_brick_anim:
2490  0A7A  CD 00 00    	call	___sdcc_enter_ix
2491  0A7D  F5          	push	af
2492  0A7E  DD 75 FF    	ld	(ix-1),l
2493  0A81  21 00 00    	ld	hl,_player_hit_col
2494  0A84  56          	ld	d, (hl)
2495  0A85  21 00 00    	ld	hl,_player_hit_lin
2496  0A88  5E          	ld	e, (hl)
2497  0A89  D5          	push	de
2498  0A8A  D5          	push	de
2499  0A8B  CD 00 00    	call	_spr_calc_index
2500  0A8E  F1          	pop	af
2501  0A8F  D1          	pop	de
2502  0A90  22 00 00    	ld	(_index1),hl
2503  0A93  01 F0 FF    	ld	bc,0xfff0
2504  0A96  09          	add	hl,bc
2505  0A97  01 00 00    	ld	bc,_scr_map
2506  0A9A  09          	add	hl,bc
2507  0A9B  7E          	ld	a, (hl)
2508  0A9C  DD 77 FE    	ld	(ix-2),a
2509  0A9F  01 00 00    	ld	bc,_scr_map
2510  0AA2  2A 00 00    	ld	hl,(_index1)
2511  0AA5  09          	add	hl,bc
2512  0AA6  4D          	ld	c,l
2513  0AA7  46          	ld	b, (hl)
2514  0AA8  DD 7E FF    	ld	a,(ix-1)
2515  0AAB  B7          	or	a, a
2516  0AAC  28 08       	jr	Z,l_spr_brick_anim_00102
2517  0AAE  7B          	ld	a, e
2518  0AAF  C6 F6       	add	a,0xf6
2519  0AB1  32 00 00    	ld	(_tmp),a
2520  0AB4  18 06       	jr	l_spr_brick_anim_00103
2521  0AB6              l_spr_brick_anim_00102:
2522  0AB6  7B          	ld	a, e
2523  0AB7  C6 F8       	add	a,0xf8
2524  0AB9  32 00 00    	ld	(_tmp),a
2525  0ABC              l_spr_brick_anim_00103:
2526  0ABC  DD 7E FF    	ld	a,(ix-1)
2527  0ABF  B7          	or	a, a
2528  0AC0  28 23       	jr	Z,l_spr_brick_anim_00105
2529  0AC2  D5          	push	de
2530  0AC3  D5          	push	de
2531  0AC4  33          	inc	sp
2532  0AC5  53          	ld	d, e
2533  0AC6  1E 49       	ld	e,0x49
2534  0AC8  D5          	push	de
2535  0AC9  CD 00 00    	call	_NIRVANAP_fillC_callee
2536  0ACC  D1          	pop	de
2537  0ACD  62          	ld	h, d
2538  0ACE  24          	inc	h
2539  0ACF  D5          	push	de
2540  0AD0  E5          	push	hl
2541  0AD1  33          	inc	sp
2542  0AD2  53          	ld	d, e
2543  0AD3  1E 49       	ld	e,0x49
2544  0AD5  D5          	push	de
2545  0AD6  CD 00 00    	call	_NIRVANAP_fillC_callee
2546  0AD9  33          	inc	sp
2547  0ADA  3A 00 00    	ld	a,(_tmp)
2548  0ADD  48          	ld	c,b
2549  0ADE  47          	ld	b,a
2550  0ADF  C5          	push	bc
2551  0AE0  CD 00 00    	call	_NIRVANAP_drawT_callee
2552  0AE3  18 1E       	jr	l_spr_brick_anim_00107
2553  0AE5              l_spr_brick_anim_00105:
2554  0AE5  3A 00 00    	ld	a,(_tmp)
2555  0AE8  C6 F0       	add	a,0xf0
2556  0AEA  C5          	push	bc
2557  0AEB  D5          	push	de
2558  0AEC  5F          	ld	e,a
2559  0AED  D5          	push	de
2560  0AEE  DD 7E FE    	ld	a,(ix-2)
2561  0AF1  F5          	push	af
2562  0AF2  33          	inc	sp
2563  0AF3  CD 00 00    	call	_NIRVANAP_drawT_callee
2564  0AF6  D1          	pop	de
2565  0AF7  C1          	pop	bc
2566  0AF8  D5          	push	de
2567  0AF9  33          	inc	sp
2568  0AFA  3A 00 00    	ld	a,(_tmp)
2569  0AFD  48          	ld	c,b
2570  0AFE  47          	ld	b,a
2571  0AFF  C5          	push	bc
2572  0B00  CD 00 00    	call	_NIRVANAP_drawT_callee
2573  0B03              l_spr_brick_anim_00107:
2574  0B03  F1          	pop	af
2575  0B04  DD E1       	pop	ix
2576  0B06  C9          	ret
2577  0B07              	SECTION code_compiler
2578  0B07              ;	---------------------------------
2579  0B07              ; Function spr_draw_index
2580  0B07              ; ---------------------------------
2581  0B07              _spr_draw_index:
2582  0B07  CD 00 00    	call	___sdcc_enter_ix
2583  0B0A  DD 7E 04    	ld	a,(ix+4)
2584  0B0D  E6 1F       	and	a,0x1f
2585  0B0F  32 00 00    	ld	(_s_col1),a
2586  0B12  DD 4E 04    	ld	c,(ix+4)
2587  0B15  DD 5E 05    	ld	e,(ix+5)
2588  0B18  06 05       	ld	b,0x05
2589  0B1A  79          	ld	a,c
2590  0B1B              l_spr_draw_index_00103:
2591  0B1B  CB 3B       	srl	e
2592  0B1D  1F          	rra
2593  0B1E  10 FB       	djnz	l_spr_draw_index_00103
2594  0B20  21 00 00    	ld	hl,_s_lin1
2595  0B23  77          	ld	(hl),a
2596  0B24  07          	rlca
2597  0B25  07          	rlca
2598  0B26  07          	rlca
2599  0B27  E6 F8       	and	a,0xf8
2600  0B29  77          	ld	(hl), a
2601  0B2A  3E 00       	ld	a, +((_scr_map) & 0xFF)
2602  0B2C  DD 86 04    	add	a,(ix+4)
2603  0B2F  4F          	ld	c, a
2604  0B30  3E 00       	ld	a, +((_scr_map) / 256)
2605  0B32  DD 8E 05    	adc	a,(ix+5)
2606  0B35  47          	ld	b, a
2607  0B36  0A          	ld	a, (bc)
2608  0B37  47          	ld	b, a
2609  0B38  3A 00 00    	ld	a,(_s_col1)
2610  0B3B  F5          	push	af
2611  0B3C  33          	inc	sp
2612  0B3D  3A 00 00    	ld	a,(_s_lin1)
2613  0B40  48          	ld	c,b
2614  0B41  47          	ld	b,a
2615  0B42  C5          	push	bc
2616  0B43  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2617  0B46  DD E1       	pop	ix
2618  0B48  C9          	ret
2619  0B49              	SECTION code_compiler
2620  0B49              ;	---------------------------------
2621  0B49              ; Function spr_draw_row
2622  0B49              ; ---------------------------------
2623  0B49              _spr_draw_row:
2624  0B49  CD 00 00    	call	___sdcc_enter_ix
2625  0B4C  3B          	dec	sp
2626  0B4D  F3          	di
2627  0B4E  21 00 00    	ld	hl,_tmp
2628  0B51  36 00       	ld	(hl),0x00
2629  0B53  DD 7E 04    	ld	a,(ix+4)
2630  0B56  07          	rlca
2631  0B57  07          	rlca
2632  0B58  07          	rlca
2633  0B59  E6 F8       	and	a,0xf8
2634  0B5B  DD 77 FF    	ld	(ix-1),a
2635  0B5E              l_spr_draw_row_00101:
2636  0B5E  21 00 00    	ld	hl,_tmp
2637  0B61  7E          	ld	a, (hl)
2638  0B62  D6 20       	sub	a,0x20
2639  0B64  30 38       	jr	NC,l_spr_draw_row_00103
2640  0B66  DD 4E 04    	ld	c,(ix+4)
2641  0B69  3E 00       	ld	a,0x00
2642  0B6B  CB 21       	sla	c
2643  0B6D  17          	rla
2644  0B6E  CB 21       	sla	c
2645  0B70  17          	rla
2646  0B71  CB 21       	sla	c
2647  0B73  17          	rla
2648  0B74  CB 21       	sla	c
2649  0B76  17          	rla
2650  0B77  CB 21       	sla	c
2651  0B79  17          	rla
2652  0B7A  47          	ld	b,a
2653  0B7B  5E          	ld	e, (hl)
2654  0B7C  16 00       	ld	d,0x00
2655  0B7E  79          	ld	a, c
2656  0B7F  83          	add	a, e
2657  0B80  21 00 00    	ld	hl,_index1
2658  0B83  77          	ld	(hl), a
2659  0B84  78          	ld	a, b
2660  0B85  8A          	adc	a, d
2661  0B86  23          	inc	hl
2662  0B87  77          	ld	(hl), a
2663  0B88  2A FF FF    	ld	hl,(_tmp-1)
2664  0B8B  DD 6E FF    	ld	l,(ix-1)
2665  0B8E  3A 00 00    	ld	a,(_game_brick_tile)
2666  0B91  E5          	push	hl
2667  0B92  F5          	push	af
2668  0B93  33          	inc	sp
2669  0B94  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2670  0B97  21 00 00    	ld	hl,_tmp
2671  0B9A  34          	inc	(hl)
2672  0B9B  34          	inc	(hl)
2673  0B9C  18 C0       	jr	l_spr_draw_row_00101
2674  0B9E              l_spr_draw_row_00103:
2675  0B9E  FB          	ei
2676  0B9F  33          	inc	sp
2677  0BA0  DD E1       	pop	ix
2678  0BA2  C9          	ret
2679  0BA3              	SECTION code_compiler
2680  0BA3              ;	---------------------------------
2681  0BA3              ; Function spr_calc_hor
2682  0BA3              ; ---------------------------------
2683  0BA3              _spr_calc_hor:
2684  0BA3  CD 00 00    	call	___sdcc_enter_ix
2685  0BA6  3E 00       	ld	a, +((_col) & 0xFF)
2686  0BA8  DD 86 04    	add	a,(ix+4)
2687  0BAB  4F          	ld	c, a
2688  0BAC  3E 00       	ld	a, +((_col) / 256)
2689  0BAE  CE 00       	adc	a,0x00
2690  0BB0  47          	ld	b, a
2691  0BB1  0A          	ld	a, (bc)
2692  0BB2  5F          	ld	e, a
2693  0BB3  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2694  0BB5  DD 86 04    	add	a,(ix+4)
2695  0BB8  4F          	ld	c, a
2696  0BB9  3E 00       	ld	a, +((_sprite_frames) / 256)
2697  0BBB  CE 00       	adc	a,0x00
2698  0BBD  47          	ld	b, a
2699  0BBE  0A          	ld	a, (bc)
2700  0BBF  67          	ld	h, a
2701  0BC0  2E 00       	ld	l,0x00
2702  0BC2  55          	ld	d, l
2703  0BC3  06 08       	ld	b,0x08
2704  0BC5              l_spr_calc_hor_00103:
2705  0BC5  29          	add	hl, hl
2706  0BC6  30 01       	jr	NC,l_spr_calc_hor_00104
2707  0BC8  19          	add	hl, de
2708  0BC9              l_spr_calc_hor_00104:
2709  0BC9  10 FA       	djnz	l_spr_calc_hor_00103
2710  0BCB  DD E1       	pop	ix
2711  0BCD  C9          	ret
2712  0BCE              	SECTION code_compiler
2713  0BCE              ;	---------------------------------
2714  0BCE              ; Function spr_collision_check
2715  0BCE              ; ---------------------------------
2716  0BCE              _spr_collision_check:
2717  0BCE  CD 00 00    	call	___sdcc_enter_ix
2718  0BD1  3E 00       	ld	a, +((_class) & 0xFF)
2719  0BD3  DD 86 05    	add	a,(ix+5)
2720  0BD6  4F          	ld	c, a
2721  0BD7  3E 00       	ld	a, +((_class) / 256)
2722  0BD9  CE 00       	adc	a,0x00
2723  0BDB  47          	ld	b, a
2724  0BDC  0A          	ld	a, (bc)
2725  0BDD  B7          	or	a, a
2726  0BDE  28 10       	jr	Z,l_spr_collision_check_00101
2727  0BE0  3E 00       	ld	a, +((_state) & 0xFF)
2728  0BE2  DD 86 05    	add	a,(ix+5)
2729  0BE5  4F          	ld	c, a
2730  0BE6  3E 00       	ld	a, +((_state) / 256)
2731  0BE8  CE 00       	adc	a,0x00
2732  0BEA  47          	ld	b, a
2733  0BEB  0A          	ld	a, (bc)
2734  0BEC  CB 6F       	bit	5, a
2735  0BEE  28 04       	jr	Z,l_spr_collision_check_00102
2736  0BF0              l_spr_collision_check_00101:
2737  0BF0  2E 00       	ld	l,0x00
2738  0BF2  18 6D       	jr	l_spr_collision_check_00109
2739  0BF4              l_spr_collision_check_00102:
2740  0BF4  01 00 00    	ld	bc,_lin+0
2741  0BF7  79          	ld	a, c
2742  0BF8  DD 86 05    	add	a,(ix+5)
2743  0BFB  5F          	ld	e, a
2744  0BFC  78          	ld	a, b
2745  0BFD  CE 00       	adc	a,0x00
2746  0BFF  57          	ld	d, a
2747  0C00  1A          	ld	a, (de)
2748  0C01  5F          	ld	e, a
2749  0C02  16 00       	ld	d,0x00
2750  0C04  79          	ld	a, c
2751  0C05  DD 86 04    	add	a,(ix+4)
2752  0C08  4F          	ld	c, a
2753  0C09  78          	ld	a, b
2754  0C0A  CE 00       	adc	a,0x00
2755  0C0C  47          	ld	b, a
2756  0C0D  0A          	ld	a, (bc)
2757  0C0E  4F          	ld	c, a
2758  0C0F  AF          	xor	a,a
2759  0C10  47          	ld	b,a
2760  0C11  EB          	ex	de,hl
2761  0C12  ED 42       	sbc	hl,bc
2762  0C14  CD 00 00    	call	_abs_fastcall
2763  0C17  22 00 00    	ld	(_tmp_ui),hl
2764  0C1A  21 01 00    	ld	hl,_tmp_ui + 1
2765  0C1D  DD 7E 06    	ld	a,(ix+6)
2766  0C20  06 00       	ld	b,0x00
2767  0C22  2B          	dec	hl
2768  0C23  96          	sub	a, (hl)
2769  0C24  78          	ld	a, b
2770  0C25  23          	inc	hl
2771  0C26  9E          	sbc	a, (hl)
2772  0C27  30 04       	jr	NC,l_spr_collision_check_00105
2773  0C29  2E 00       	ld	l,0x00
2774  0C2B  18 34       	jr	l_spr_collision_check_00109
2775  0C2D              l_spr_collision_check_00105:
2776  0C2D  DD 7E 04    	ld	a,(ix+4)
2777  0C30  F5          	push	af
2778  0C31  33          	inc	sp
2779  0C32  CD A3 0B    	call	_spr_calc_hor
2780  0C35  33          	inc	sp
2781  0C36  4D          	ld	c, l
2782  0C37  C5          	push	bc
2783  0C38  DD 7E 05    	ld	a,(ix+5)
2784  0C3B  F5          	push	af
2785  0C3C  33          	inc	sp
2786  0C3D  CD A3 0B    	call	_spr_calc_hor
2787  0C40  33          	inc	sp
2788  0C41  C1          	pop	bc
2789  0C42  5D          	ld	e,l
2790  0C43  69          	ld	l, c
2791  0C44  AF          	xor	a,a
2792  0C45  67          	ld	h,a
2793  0C46  57          	ld	d,a
2794  0C47  ED 52       	sbc	hl,de
2795  0C49  CD 00 00    	call	_abs_fastcall
2796  0C4C  22 00 00    	ld	(_tmp_ui),hl
2797  0C4F  3E 03       	ld	a,0x03
2798  0C51  21 00 00    	ld	hl,_tmp_ui
2799  0C54  BE          	cp	a, (hl)
2800  0C55  3E 00       	ld	a,0x00
2801  0C57  23          	inc	hl
2802  0C58  9E          	sbc	a, (hl)
2803  0C59  30 04       	jr	NC,l_spr_collision_check_00107
2804  0C5B  2E 00       	ld	l,0x00
2805  0C5D  18 02       	jr	l_spr_collision_check_00109
2806  0C5F              l_spr_collision_check_00107:
2807  0C5F  2E 01       	ld	l,0x01
2808  0C61              l_spr_collision_check_00109:
2809  0C61  DD E1       	pop	ix
2810  0C63  C9          	ret
2811  0C64              	SECTION code_compiler
2812  0C64              ;	---------------------------------
2813  0C64              ; Function spr_kill_all
2814  0C64              ; ---------------------------------
2815  0C64              _spr_kill_all:
2816  0C64  21 00 00    	ld	hl,_sprite
2817  0C67  36 00       	ld	(hl),0x00
2818  0C69              l_spr_kill_all_00102:
2819  0C69  2A 00 00    	ld	hl,(_sprite)
2820  0C6C  CD A8 07    	call	_spr_destroy
2821  0C6F  21 00 00    	ld	hl,_sprite
2822  0C72  7E          	ld	a,(hl)
2823  0C73  3C          	inc	a
2824  0C74  77          	ld	(hl),a
2825  0C75  D6 08       	sub	a,0x08
2826  0C77  38 F0       	jr	C,l_spr_kill_all_00102
2827  0C79  C9          	ret
2828  0C7A              	SECTION code_compiler
2829  0C7A              ;	---------------------------------
2830  0C7A              ; Function spr_back_clr
2831  0C7A              ; ---------------------------------
2832  0C7A              _spr_back_clr:
2833  0C7A  2A FF FF    	ld	hl,(_s_col0 - 1)
2834  0C7D  3A 00 00    	ld	a,(_s_lin0)
2835  0C80  6F          	ld	l,a
2836  0C81  E5          	push	hl
2837  0C82  CD 00 00    	call	_spr_calc_index
2838  0C85  F1          	pop	af
2839  0C86  7D          	ld	a,l
2840  0C87  32 00 00    	ld	(_sprite_curr_index),a
2841  0C8A  21 00 00    	ld	hl,_s_lin0
2842  0C8D  7E          	ld	a, (hl)
2843  0C8E  E6 0F       	and	a,0x0f
2844  0C90  4F          	ld	c, a
2845  0C91  7E          	ld	a, (hl)
2846  0C92  07          	rlca
2847  0C93  07          	rlca
2848  0C94  07          	rlca
2849  0C95  07          	rlca
2850  0C96  E6 0F       	and	a,0x0f
2851  0C98  47          	ld	b, a
2852  0C99  21 00 00    	ld	hl,_s_col0
2853  0C9C  CB 46       	bit	0, (hl)
2854  0C9E  20 66       	jr	NZ,l_spr_back_clr_00108
2855  0CA0  79          	ld	a, c
2856  0CA1  B7          	or	a, a
2857  0CA2  20 1D       	jr	NZ,l_spr_back_clr_00102
2858  0CA4  2A 00 00    	ld	hl,(_sprite_curr_index)
2859  0CA7  26 00       	ld	h,0x00
2860  0CA9  01 00 00    	ld	bc,_scr_map
2861  0CAC  09          	add	hl,bc
2862  0CAD  46          	ld	b,(hl)
2863  0CAE  3A 00 00    	ld	a,(_s_col0)
2864  0CB1  F5          	push	af
2865  0CB2  33          	inc	sp
2866  0CB3  3A 00 00    	ld	a,(_s_lin0)
2867  0CB6  48          	ld	c,b
2868  0CB7  47          	ld	b,a
2869  0CB8  C5          	push	bc
2870  0CB9  CD CD 0D    	call	_spr_tile_paint
2871  0CBC  F1          	pop	af
2872  0CBD  33          	inc	sp
2873  0CBE  C3 CC 0D    	jp	l_spr_back_clr_00110
2874  0CC1              l_spr_back_clr_00102:
2875  0CC1  78          	ld	a, b
2876  0CC2  07          	rlca
2877  0CC3  07          	rlca
2878  0CC4  07          	rlca
2879  0CC5  07          	rlca
2880  0CC6  E6 F0       	and	a,0xf0
2881  0CC8  47          	ld	b, a
2882  0CC9  2A 00 00    	ld	hl,(_sprite_curr_index)
2883  0CCC  26 00       	ld	h,0x00
2884  0CCE  11 00 00    	ld	de,_scr_map
2885  0CD1  19          	add	hl,de
2886  0CD2  56          	ld	d, (hl)
2887  0CD3  3A 00 00    	ld	a,(_s_col0)
2888  0CD6  C5          	push	bc
2889  0CD7  F5          	push	af
2890  0CD8  33          	inc	sp
2891  0CD9  4A          	ld	c, d
2892  0CDA  C5          	push	bc
2893  0CDB  CD CD 0D    	call	_spr_tile_paint
2894  0CDE  F1          	pop	af
2895  0CDF  33          	inc	sp
2896  0CE0  C1          	pop	bc
2897  0CE1  78          	ld	a, b
2898  0CE2  C6 10       	add	a,0x10
2899  0CE4  57          	ld	d, a
2900  0CE5  21 00 00    	ld	hl,_sprite_curr_index
2901  0CE8  7E          	ld	a, (hl)
2902  0CE9  C6 10       	add	a,0x10
2903  0CEB  77          	ld	(hl), a
2904  0CEC  C6 00       	add	a,+((_scr_map) & 0xFF)
2905  0CEE  4F          	ld	c, a
2906  0CEF  3E 00       	ld	a, +((_scr_map) / 256)
2907  0CF1  CE 00       	adc	a,0x00
2908  0CF3  47          	ld	b, a
2909  0CF4  0A          	ld	a, (bc)
2910  0CF5  47          	ld	b, a
2911  0CF6  3A 00 00    	ld	a,(_s_col0)
2912  0CF9  5A          	ld	e,d
2913  0CFA  57          	ld	d,a
2914  0CFB  D5          	push	de
2915  0CFC  C5          	push	bc
2916  0CFD  33          	inc	sp
2917  0CFE  CD CD 0D    	call	_spr_tile_paint
2918  0D01  F1          	pop	af
2919  0D02  33          	inc	sp
2920  0D03  C3 CC 0D    	jp	l_spr_back_clr_00110
2921  0D06              l_spr_back_clr_00108:
2922  0D06  79          	ld	a, c
2923  0D07  B7          	or	a, a
2924  0D08  20 3F       	jr	NZ,l_spr_back_clr_00105
2925  0D0A  21 00 00    	ld	hl,_s_col0
2926  0D0D  56          	ld	d, (hl)
2927  0D0E  15          	dec	d
2928  0D0F  2A 00 00    	ld	hl,(_sprite_curr_index)
2929  0D12  26 00       	ld	h,0x00
2930  0D14  01 00 00    	ld	bc,_scr_map
2931  0D17  09          	add	hl,bc
2932  0D18  46          	ld	b,(hl)
2933  0D19  D5          	push	de
2934  0D1A  33          	inc	sp
2935  0D1B  3A 00 00    	ld	a,(_s_lin0)
2936  0D1E  48          	ld	c,b
2937  0D1F  47          	ld	b,a
2938  0D20  C5          	push	bc
2939  0D21  CD CD 0D    	call	_spr_tile_paint
2940  0D24  F1          	pop	af
2941  0D25  33          	inc	sp
2942  0D26  21 00 00    	ld	hl,_sprite_curr_index
2943  0D29  34          	inc	(hl)
2944  0D2A  21 00 00    	ld	hl,_s_col0
2945  0D2D  56          	ld	d, (hl)
2946  0D2E  14          	inc	d
2947  0D2F  2A 00 00    	ld	hl,(_sprite_curr_index)
2948  0D32  26 00       	ld	h,0x00
2949  0D34  01 00 00    	ld	bc,_scr_map
2950  0D37  09          	add	hl,bc
2951  0D38  46          	ld	b,(hl)
2952  0D39  D5          	push	de
2953  0D3A  33          	inc	sp
2954  0D3B  3A 00 00    	ld	a,(_s_lin0)
2955  0D3E  48          	ld	c,b
2956  0D3F  47          	ld	b,a
2957  0D40  C5          	push	bc
2958  0D41  CD CD 0D    	call	_spr_tile_paint
2959  0D44  F1          	pop	af
2960  0D45  33          	inc	sp
2961  0D46  C3 CC 0D    	jp	l_spr_back_clr_00110
2962  0D49              l_spr_back_clr_00105:
2963  0D49  78          	ld	a, b
2964  0D4A  07          	rlca
2965  0D4B  07          	rlca
2966  0D4C  07          	rlca
2967  0D4D  07          	rlca
2968  0D4E  E6 F0       	and	a,0xf0
2969  0D50  4F          	ld	c, a
2970  0D51  76          	halt
2971  0D52  21 00 00    	ld	hl,_s_col0
2972  0D55  46          	ld	b, (hl)
2973  0D56  05          	dec	b
2974  0D57  2A 00 00    	ld	hl,(_sprite_curr_index)
2975  0D5A  26 00       	ld	h,0x00
2976  0D5C  11 00 00    	ld	de,_scr_map
2977  0D5F  19          	add	hl,de
2978  0D60  66          	ld	h, (hl)
2979  0D61  EB          	ex	de,hl
2980  0D62  C5          	push	bc
2981  0D63  C5          	push	bc
2982  0D64  D5          	push	de
2983  0D65  33          	inc	sp
2984  0D66  CD CD 0D    	call	_spr_tile_paint
2985  0D69  F1          	pop	af
2986  0D6A  33          	inc	sp
2987  0D6B  C1          	pop	bc
2988  0D6C  21 00 00    	ld	hl,_sprite_curr_index
2989  0D6F  34          	inc	(hl)
2990  0D70  21 00 00    	ld	hl,_s_col0
2991  0D73  46          	ld	b, (hl)
2992  0D74  04          	inc	b
2993  0D75  2A 00 00    	ld	hl,(_sprite_curr_index)
2994  0D78  26 00       	ld	h,0x00
2995  0D7A  11 00 00    	ld	de,_scr_map
2996  0D7D  19          	add	hl,de
2997  0D7E  66          	ld	h, (hl)
2998  0D7F  EB          	ex	de,hl
2999  0D80  C5          	push	bc
3000  0D81  C5          	push	bc
3001  0D82  D5          	push	de
3002  0D83  33          	inc	sp
3003  0D84  CD CD 0D    	call	_spr_tile_paint
3004  0D87  F1          	pop	af
3005  0D88  33          	inc	sp
3006  0D89  C1          	pop	bc
3007  0D8A  79          	ld	a, c
3008  0D8B  C6 10       	add	a,0x10
3009  0D8D  5F          	ld	e, a
3010  0D8E  21 00 00    	ld	hl,_sprite_curr_index
3011  0D91  7E          	ld	a, (hl)
3012  0D92  C6 0F       	add	a,0x0f
3013  0D94  77          	ld	(hl), a
3014  0D95  76          	halt
3015  0D96  21 00 00    	ld	hl,_s_col0
3016  0D99  56          	ld	d, (hl)
3017  0D9A  15          	dec	d
3018  0D9B  2A 00 00    	ld	hl,(_sprite_curr_index)
3019  0D9E  26 00       	ld	h,0x00
3020  0DA0  01 00 00    	ld	bc,_scr_map
3021  0DA3  09          	add	hl,bc
3022  0DA4  4D          	ld	c,l
3023  0DA5  46          	ld	b,(hl)
3024  0DA6  D5          	push	de
3025  0DA7  D5          	push	de
3026  0DA8  C5          	push	bc
3027  0DA9  33          	inc	sp
3028  0DAA  CD CD 0D    	call	_spr_tile_paint
3029  0DAD  F1          	pop	af
3030  0DAE  33          	inc	sp
3031  0DAF  D1          	pop	de
3032  0DB0  21 00 00    	ld	hl,_sprite_curr_index
3033  0DB3  34          	inc	(hl)
3034  0DB4  21 00 00    	ld	hl,_s_col0
3035  0DB7  56          	ld	d, (hl)
3036  0DB8  14          	inc	d
3037  0DB9  2A 00 00    	ld	hl,(_sprite_curr_index)
3038  0DBC  26 00       	ld	h,0x00
3039  0DBE  01 00 00    	ld	bc,_scr_map
3040  0DC1  09          	add	hl,bc
3041  0DC2  4D          	ld	c,l
3042  0DC3  46          	ld	b,(hl)
3043  0DC4  D5          	push	de
3044  0DC5  C5          	push	bc
3045  0DC6  33          	inc	sp
3046  0DC7  CD CD 0D    	call	_spr_tile_paint
3047  0DCA  F1          	pop	af
3048  0DCB  33          	inc	sp
3049  0DCC              l_spr_back_clr_00110:
3050  0DCC  C9          	ret
3051  0DCD              	SECTION code_compiler
3052  0DCD              ;	---------------------------------
3053  0DCD              ; Function spr_tile_paint
3054  0DCD              ; ---------------------------------
3055  0DCD              _spr_tile_paint:
3056  0DCD  CD 00 00    	call	___sdcc_enter_ix
3057  0DD0  DD 7E 04    	ld	a,(ix+4)
3058  0DD3  B7          	or	a, a
3059  0DD4  20 3E       	jr	NZ,l_spr_tile_paint_00102
3060  0DD6  DD 7E 06    	ld	a,(ix+6)
3061  0DD9  F5          	push	af
3062  0DDA  33          	inc	sp
3063  0DDB  DD 56 05    	ld	d,(ix+5)
3064  0DDE  1E 49       	ld	e,0x49
3065  0DE0  D5          	push	de
3066  0DE1  CD 00 00    	call	_NIRVANAP_fillC_callee
3067  0DE4  DD 7E 05    	ld	a,(ix+5)
3068  0DE7  C6 08       	add	a,0x08
3069  0DE9  47          	ld	b, a
3070  0DEA  DD 7E 06    	ld	a,(ix+6)
3071  0DED  F5          	push	af
3072  0DEE  33          	inc	sp
3073  0DEF  C5          	push	bc
3074  0DF0  33          	inc	sp
3075  0DF1  3E 49       	ld	a,0x49
3076  0DF3  F5          	push	af
3077  0DF4  33          	inc	sp
3078  0DF5  CD 00 00    	call	_NIRVANAP_fillC_callee
3079  0DF8  DD 56 06    	ld	d,(ix+6)
3080  0DFB  14          	inc	d
3081  0DFC  D5          	push	de
3082  0DFD  D5          	push	de
3083  0DFE  33          	inc	sp
3084  0DFF  DD 56 05    	ld	d,(ix+5)
3085  0E02  1E 49       	ld	e,0x49
3086  0E04  D5          	push	de
3087  0E05  CD 00 00    	call	_NIRVANAP_fillC_callee
3088  0E08  33          	inc	sp
3089  0E09  C5          	push	bc
3090  0E0A  33          	inc	sp
3091  0E0B  3E 49       	ld	a,0x49
3092  0E0D  F5          	push	af
3093  0E0E  33          	inc	sp
3094  0E0F  CD 00 00    	call	_NIRVANAP_fillC_callee
3095  0E12  18 0F       	jr	l_spr_tile_paint_00104
3096  0E14              l_spr_tile_paint_00102:
3097  0E14  DD 66 06    	ld	h,(ix+6)
3098  0E17  DD 6E 05    	ld	l,(ix+5)
3099  0E1A  E5          	push	hl
3100  0E1B  DD 7E 04    	ld	a,(ix+4)
3101  0E1E  F5          	push	af
3102  0E1F  33          	inc	sp
3103  0E20  CD 00 00    	call	_NIRVANAP_drawT_callee
3104  0E23              l_spr_tile_paint_00104:
3105  0E23  DD E1       	pop	ix
3106  0E25  C9          	ret
3107  0E26              	SECTION code_compiler
3108  0E26              ;	---------------------------------
3109  0E26              ; Function spr_init_anim
3110  0E26              ; ---------------------------------
3111  0E26              _spr_init_anim:
3112  0E26  01 00 00    	ld	bc,_anim_lin+0
3113  0E29  1E 00       	ld	e,0x00
3114  0E2B              l_spr_init_anim_00102:
3115  0E2B  6B          	ld	l,e
3116  0E2C  26 00       	ld	h,0x00
3117  0E2E  09          	add	hl, bc
3118  0E2F  36 FF       	ld	(hl),0xff
3119  0E31  1C          	inc	e
3120  0E32  7B          	ld	a, e
3121  0E33  D6 08       	sub	a,0x08
3122  0E35  38 F4       	jr	C,l_spr_init_anim_00102
3123  0E37  C9          	ret
3124  0E38              	SECTION code_compiler
3125  0E38              ;	---------------------------------
3126  0E38              ; Function spr_init_bullet
3127  0E38              ; ---------------------------------
3128  0E38              _spr_init_bullet:
3129  0E38  01 00 00    	ld	bc,_bullet_col+0
3130  0E3B  1E 00       	ld	e,0x00
3131  0E3D              l_spr_init_bullet_00102:
3132  0E3D  6B          	ld	l,e
3133  0E3E  26 00       	ld	h,0x00
3134  0E40  09          	add	hl, bc
3135  0E41  36 FF       	ld	(hl),0xff
3136  0E43  1C          	inc	e
3137  0E44  7B          	ld	a, e
3138  0E45  D6 08       	sub	a,0x08
3139  0E47  38 F4       	jr	C,l_spr_init_bullet_00102
3140  0E49  C9          	ret
3141  0E4A              	SECTION code_compiler
3142  0E4A              ;	---------------------------------
3143  0E4A              ; Function spr_add_anim
3144  0E4A              ; ---------------------------------
3145  0E4A              _spr_add_anim:
3146  0E4A  CD 00 00    	call	___sdcc_enter_ix
3147  0E4D  F5          	push	af
3148  0E4E  01 00 00    	ld	bc,0x0000
3149  0E51              l_spr_add_anim_00104:
3150  0E51  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3151  0E53  80          	add	a, b
3152  0E54  DD 77 FE    	ld	(ix-2),a
3153  0E57  3E 00       	ld	a, +((_anim_lin) / 256)
3154  0E59  CE 00       	adc	a,0x00
3155  0E5B  DD 77 FF    	ld	(ix-1),a
3156  0E5E  E1          	pop	hl
3157  0E5F  5E          	ld	e,(hl)
3158  0E60  E5          	push	hl
3159  0E61  1C          	inc	e
3160  0E62  20 34       	jr	NZ,l_spr_add_anim_00105
3161  0E64  E1          	pop	hl
3162  0E65  E5          	push	hl
3163  0E66  DD 7E 04    	ld	a,(ix+4)
3164  0E69  77          	ld	(hl), a
3165  0E6A  3E 00       	ld	a, +((_anim_col) & 0xFF)
3166  0E6C  81          	add	a, c
3167  0E6D  5F          	ld	e, a
3168  0E6E  3E 00       	ld	a, +((_anim_col) / 256)
3169  0E70  CE 00       	adc	a,0x00
3170  0E72  57          	ld	d, a
3171  0E73  DD 7E 05    	ld	a,(ix+5)
3172  0E76  12          	ld	(de), a
3173  0E77  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3174  0E79  81          	add	a, c
3175  0E7A  5F          	ld	e, a
3176  0E7B  3E 00       	ld	a, +((_anim_tile) / 256)
3177  0E7D  CE 00       	adc	a,0x00
3178  0E7F  57          	ld	d, a
3179  0E80  DD 7E 06    	ld	a,(ix+6)
3180  0E83  12          	ld	(de), a
3181  0E84  11 00 00    	ld	de,_anim_int+0
3182  0E87  69          	ld	l,c
3183  0E88  26 00       	ld	h,0x00
3184  0E8A  19          	add	hl, de
3185  0E8B  06 00       	ld	b,0x00
3186  0E8D  70          	ld	(hl),b
3187  0E8E  21 00 00    	ld	hl,_anim_end
3188  0E91  09          	add	hl,bc
3189  0E92  DD 7E 07    	ld	a,(ix+7)
3190  0E95  77          	ld	(hl),a
3191  0E96  18 07       	jr	l_spr_add_anim_00106
3192  0E98              l_spr_add_anim_00105:
3193  0E98  04          	inc	b
3194  0E99  78          	ld	a,b
3195  0E9A  48          	ld	c,b
3196  0E9B  D6 08       	sub	a,0x08
3197  0E9D  38 B2       	jr	C,l_spr_add_anim_00104
3198  0E9F              l_spr_add_anim_00106:
3199  0E9F  F1          	pop	af
3200  0EA0  DD E1       	pop	ix
3201  0EA2  C9          	ret
3202  0EA3              	SECTION code_compiler
3203  0EA3              ;	---------------------------------
3204  0EA3              ; Function spr_play_anim
3205  0EA3              ; ---------------------------------
3206  0EA3              _spr_play_anim:
3207  0EA3  CD 00 00    	call	___sdcc_enter_ix
3208  0EA6  F5          	push	af
3209  0EA7  F5          	push	af
3210  0EA8  3B          	dec	sp
3211  0EA9  DD 36 FB 01 	ld	(ix-5),0x01
3212  0EAD  0E 00       	ld	c,0x00
3213  0EAF              l_spr_play_anim_00109:
3214  0EAF  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3215  0EB1  81          	add	a, c
3216  0EB2  5F          	ld	e, a
3217  0EB3  3E 00       	ld	a, +((_anim_lin) / 256)
3218  0EB5  CE 00       	adc	a,0x00
3219  0EB7  57          	ld	d, a
3220  0EB8  1A          	ld	a, (de)
3221  0EB9  3C          	inc	a
3222  0EBA  28 76       	jr	Z,l_spr_play_anim_00110
3223  0EBC  DD 7E FB    	ld	a,(ix-5)
3224  0EBF  B7          	or	a, a
3225  0EC0  28 05       	jr	Z,l_spr_play_anim_00102
3226  0EC2  76          	halt
3227  0EC3  DD 36 FB 00 	ld	(ix-5),0x00
3228  0EC7              l_spr_play_anim_00102:
3229  0EC7  3E 00       	ld	a, +((_anim_int) & 0xFF)
3230  0EC9  81          	add	a, c
3231  0ECA  DD 77 FD    	ld	(ix-3),a
3232  0ECD  6F          	ld	l,a
3233  0ECE  3E 00       	ld	a,+((_anim_int) / 256)
3234  0ED0  CE 00       	adc	a,0x00
3235  0ED2  DD 77 FE    	ld	(ix-2),a
3236  0ED5  67          	ld	h,a
3237  0ED6  7E          	ld	a, (hl)
3238  0ED7  DD 77 FF    	ld	(ix-1),a
3239  0EDA  06 00       	ld	b,0x00
3240  0EDC  21 00 00    	ld	hl,_anim_end
3241  0EDF  09          	add	hl, bc
3242  0EE0  7E          	ld	a, (hl)
3243  0EE1  DD 77 FC    	ld	(ix-4),a
3244  0EE4  1A          	ld	a, (de)
3245  0EE5  47          	ld	b, a
3246  0EE6  DD 7E FF    	ld	a,(ix-1)
3247  0EE9  DD 96 FC    	sub	a,(ix-4)
3248  0EEC  30 2B       	jr	NC,l_spr_play_anim_00104
3249  0EEE  3E 00       	ld	a, +((_anim_col) & 0xFF)
3250  0EF0  81          	add	a, c
3251  0EF1  6F          	ld	l, a
3252  0EF2  3E 00       	ld	a, +((_anim_col) / 256)
3253  0EF4  CE 00       	adc	a,0x00
3254  0EF6  67          	ld	h, a
3255  0EF7  56          	ld	d, (hl)
3256  0EF8  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3257  0EFA  81          	add	a, c
3258  0EFB  6F          	ld	l, a
3259  0EFC  3E 00       	ld	a, +((_anim_tile) / 256)
3260  0EFE  CE 00       	adc	a,0x00
3261  0F00  67          	ld	h, a
3262  0F01  7E          	ld	a,(hl)
3263  0F02  DD 86 FF    	add	a,(ix-1)
3264  0F05  C5          	push	bc
3265  0F06  58          	ld	e,b
3266  0F07  D5          	push	de
3267  0F08  F5          	push	af
3268  0F09  33          	inc	sp
3269  0F0A  CD 00 00    	call	_NIRVANAP_drawT_callee
3270  0F0D  C1          	pop	bc
3271  0F0E  DD 6E FD    	ld	l,(ix-3)
3272  0F11  DD 66 FE    	ld	h,(ix-2)
3273  0F14  46          	ld	b,(hl)
3274  0F15  04          	inc	b
3275  0F16  70          	ld	(hl), b
3276  0F17  18 19       	jr	l_spr_play_anim_00110
3277  0F19              l_spr_play_anim_00104:
3278  0F19  3E 00       	ld	a, +((_anim_col) & 0xFF)
3279  0F1B  81          	add	a, c
3280  0F1C  6F          	ld	l, a
3281  0F1D  3E 00       	ld	a, +((_anim_col) / 256)
3282  0F1F  CE 00       	adc	a,0x00
3283  0F21  67          	ld	h, a
3284  0F22  66          	ld	h, (hl)
3285  0F23  C5          	push	bc
3286  0F24  D5          	push	de
3287  0F25  68          	ld	l,b
3288  0F26  E5          	push	hl
3289  0F27  AF          	xor	a, a
3290  0F28  F5          	push	af
3291  0F29  33          	inc	sp
3292  0F2A  CD 00 00    	call	_NIRVANAP_drawT_callee
3293  0F2D  D1          	pop	de
3294  0F2E  C1          	pop	bc
3295  0F2F  3E FF       	ld	a,0xff
3296  0F31  12          	ld	(de), a
3297  0F32              l_spr_play_anim_00110:
3298  0F32  0C          	inc	c
3299  0F33  79          	ld	a, c
3300  0F34  D6 08       	sub	a,0x08
3301  0F36  DA AF 0E    	jp	C, l_spr_play_anim_00109
3302  0F39  DD F9       	ld	sp, ix
3303  0F3B  DD E1       	pop	ix
3304  0F3D  C9          	ret
3305  0F3E              	SECTION code_compiler
3306  0F3E              ;	---------------------------------
3307  0F3E              ; Function spr_play_bullets
3308  0F3E              ; ---------------------------------
3309  0F3E              _spr_play_bullets:
3310  0F3E  CD 00 00    	call	___sdcc_enter_ix
3311  0F41  F5          	push	af
3312  0F42  F5          	push	af
3313  0F43  F5          	push	af
3314  0F44  DD 36 FA 00 	ld	(ix-6),0x00
3315  0F48              l_spr_play_bullets_00115:
3316  0F48  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3317  0F4A  DD 86 FA    	add	a,(ix-6)
3318  0F4D  4F          	ld	c, a
3319  0F4E  3E 00       	ld	a, +((_bullet_col) / 256)
3320  0F50  CE 00       	adc	a,0x00
3321  0F52  47          	ld	b, a
3322  0F53  0A          	ld	a, (bc)
3323  0F54  5F          	ld	e,a
3324  0F55  3C          	inc	a
3325  0F56  CA 31 10    	jp	Z,l_spr_play_bullets_00116
3326  0F59  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3327  0F5B  DD 86 FA    	add	a,(ix-6)
3328  0F5E  DD 77 FE    	ld	(ix-2),a
3329  0F61  6F          	ld	l,a
3330  0F62  3E 00       	ld	a,+((_bullet_lin) / 256)
3331  0F64  CE 00       	adc	a,0x00
3332  0F66  DD 77 FF    	ld	(ix-1),a
3333  0F69  67          	ld	h,a
3334  0F6A  7E          	ld	a, (hl)
3335  0F6B  32 00 00    	ld	(_s_lin0),a
3336  0F6E  21 00 00    	ld	hl,_s_col0
3337  0F71  73          	ld	(hl), e
3338  0F72  C5          	push	bc
3339  0F73  CD 7A 0C    	call	_spr_back_clr
3340  0F76  C1          	pop	bc
3341  0F77  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3342  0F79  DD 86 FA    	add	a,(ix-6)
3343  0F7C  6F          	ld	l, a
3344  0F7D  3E 00       	ld	a, +((_bullet_dir) / 256)
3345  0F7F  CE 00       	adc	a,0x00
3346  0F81  67          	ld	h, a
3347  0F82  5E          	ld	e, (hl)
3348  0F83  1C          	inc	e
3349  0F84  20 29       	jr	NZ,l_spr_play_bullets_00106
3350  0F86  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3351  0F88  DD 86 FA    	add	a,(ix-6)
3352  0F8B  5F          	ld	e, a
3353  0F8C  3E 00       	ld	a, +((_bullet_colint) / 256)
3354  0F8E  CE 00       	adc	a,0x00
3355  0F90  57          	ld	d, a
3356  0F91  1A          	ld	a, (de)
3357  0F92  3C          	inc	a
3358  0F93  DD 77 FD    	ld	(ix-3),a
3359  0F96  12          	ld	(de),a
3360  0F97  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3361  0F99  DD 86 FA    	add	a,(ix-6)
3362  0F9C  6F          	ld	l, a
3363  0F9D  3E 00       	ld	a, +((_bullet_frames) / 256)
3364  0F9F  CE 00       	adc	a,0x00
3365  0FA1  67          	ld	h, a
3366  0FA2  DD 7E FD    	ld	a,(ix-3)
3367  0FA5  96          	sub	a,(hl)
3368  0FA6  38 2C       	jr	C,l_spr_play_bullets_00107
3369  0FA8  0A          	ld	a, (bc)
3370  0FA9  3C          	inc	a
3371  0FAA  02          	ld	(bc), a
3372  0FAB  AF          	xor	a, a
3373  0FAC  12          	ld	(de), a
3374  0FAD  18 25       	jr	l_spr_play_bullets_00107
3375  0FAF              l_spr_play_bullets_00106:
3376  0FAF  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3377  0FB1  DD 86 FA    	add	a,(ix-6)
3378  0FB4  5F          	ld	e, a
3379  0FB5  3E 00       	ld	a, +((_bullet_colint) / 256)
3380  0FB7  CE 00       	adc	a,0x00
3381  0FB9  57          	ld	d, a
3382  0FBA  1A          	ld	a, (de)
3383  0FBB  C6 FF       	add	a,0xff
3384  0FBD  12          	ld	(de), a
3385  0FBE  3C          	inc	a
3386  0FBF  20 13       	jr	NZ,l_spr_play_bullets_00107
3387  0FC1  0A          	ld	a, (bc)
3388  0FC2  C6 FF       	add	a,0xff
3389  0FC4  02          	ld	(bc), a
3390  0FC5  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3391  0FC7  DD 86 FA    	add	a,(ix-6)
3392  0FCA  6F          	ld	l, a
3393  0FCB  3E 00       	ld	a, +((_bullet_frames) / 256)
3394  0FCD  CE 00       	adc	a,0x00
3395  0FCF  67          	ld	h, a
3396  0FD0  7E          	ld	a, (hl)
3397  0FD1  C6 FF       	add	a,0xff
3398  0FD3  12          	ld	(de), a
3399  0FD4              l_spr_play_bullets_00107:
3400  0FD4  0A          	ld	a, (bc)
3401  0FD5  B7          	or	a, a
3402  0FD6  28 56       	jr	Z,l_spr_play_bullets_00109
3403  0FD8  D6 1E       	sub	a,0x1e
3404  0FDA  30 52       	jr	NC,l_spr_play_bullets_00109
3405  0FDC  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3406  0FDE  DD 86 FA    	add	a,(ix-6)
3407  0FE1  5F          	ld	e, a
3408  0FE2  3E 00       	ld	a, +((_bullet_tile) / 256)
3409  0FE4  CE 00       	adc	a,0x00
3410  0FE6  57          	ld	d, a
3411  0FE7  1A          	ld	a, (de)
3412  0FE8  DD 77 FD    	ld	(ix-3),a
3413  0FEB  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3414  0FED  DD 86 FA    	add	a,(ix-6)
3415  0FF0  DD 77 FB    	ld	(ix-5),a
3416  0FF3  6F          	ld	l,a
3417  0FF4  3E 00       	ld	a,+((_bullet_colint) / 256)
3418  0FF6  CE 00       	adc	a,0x00
3419  0FF8  DD 77 FC    	ld	(ix-4),a
3420  0FFB  67          	ld	h,a
3421  0FFC  6E          	ld	l, (hl)
3422  0FFD  DD 7E FD    	ld	a,(ix-3)
3423  1000  85          	add	a, l
3424  1001  67          	ld	h, a
3425  1002  C5          	push	bc
3426  1003  D5          	push	de
3427  1004  E5          	push	hl
3428  1005  33          	inc	sp
3429  1006  21 14 10    	ld	hl,0x1014
3430  1009  E5          	push	hl
3431  100A  CD 00 00    	call	_zx_print_chr
3432  100D  D1          	pop	de
3433  100E  C1          	pop	bc
3434  100F  0A          	ld	a, (bc)
3435  1010  4F          	ld	c, a
3436  1011  DD 6E FE    	ld	l,(ix-2)
3437  1014  DD 66 FF    	ld	h,(ix-1)
3438  1017  46          	ld	b, (hl)
3439  1018  1A          	ld	a, (de)
3440  1019  5F          	ld	e, a
3441  101A  DD 6E FB    	ld	l,(ix-5)
3442  101D  DD 66 FC    	ld	h,(ix-4)
3443  1020  6E          	ld	l, (hl)
3444  1021  7B          	ld	a, e
3445  1022  85          	add	a, l
3446  1023  57          	ld	d, a
3447  1024  79          	ld	a, c
3448  1025  F5          	push	af
3449  1026  33          	inc	sp
3450  1027  4A          	ld	c, d
3451  1028  C5          	push	bc
3452  1029  CD 00 00    	call	_NIRVANAP_drawT_callee
3453  102C  18 03       	jr	l_spr_play_bullets_00116
3454  102E              l_spr_play_bullets_00109:
3455  102E  3E FF       	ld	a,0xff
3456  1030  02          	ld	(bc), a
3457  1031              l_spr_play_bullets_00116:
3458  1031  DD 34 FA    	inc	(ix-6)
3459  1034  DD 7E FA    	ld	a,(ix-6)
3460  1037  D6 08       	sub	a,0x08
3461  1039  DA 48 0F    	jp	C, l_spr_play_bullets_00115
3462  103C  DD F9       	ld	sp, ix
3463  103E  DD E1       	pop	ix
3464  1040  C9          	ret
3465  1041              	SECTION code_compiler
3466  1041              ;	---------------------------------
3467  1041              ; Function spr_turn_horizontal
3468  1041              ; ---------------------------------
3469  1041              _spr_turn_horizontal:
3470  1041  21 00 00    	ld	hl,_s_state
3471  1044  CB 56       	bit	2, (hl)
3472  1046  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3473  1048  21 00 00    	ld	hl,_s_state
3474  104B  7E          	ld	a,(hl)
3475  104C  F6 08       	or	a,0x08
3476  104E  E6 FB       	and	a,0xfb
3477  1050  77          	ld	(hl),a
3478  1051  18 09       	jr	l_spr_turn_horizontal_00103
3479  1053              l_spr_turn_horizontal_00102:
3480  1053  21 00 00    	ld	hl,_s_state
3481  1056  7E          	ld	a,(hl)
3482  1057  E6 F7       	and	a,0xf7
3483  1059  F6 04       	or	a,0x04
3484  105B  77          	ld	(hl),a
3485  105C              l_spr_turn_horizontal_00103:
3486  105C  2A 00 00    	ld	hl,(_sprite)
3487  105F  26 00       	ld	h,0x00
3488  1061  01 00 00    	ld	bc,_state
3489  1064  09          	add	hl,bc
3490  1065  3A 00 00    	ld	a,(_s_state)
3491  1068  77          	ld	(hl),a
3492  1069  2A 00 00    	ld	hl,(_sprite)
3493  106C  26 00       	ld	h,0x00
3494  106E  01 00 00    	ld	bc,_tile
3495  1071  09          	add	hl,bc
3496  1072  E5          	push	hl
3497  1073  2A 00 00    	ld	hl,(_sprite)
3498  1076  CD 11 08    	call	_spr_tile
3499  1079  C1          	pop	bc
3500  107A  7D          	ld	a,l
3501  107B  02          	ld	(bc), a
3502  107C  C9          	ret
3503  107D              	SECTION IGNORE
3504  0000              
