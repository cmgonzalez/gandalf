1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_clear_scr
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _player_fix_walk_lin
528   0000              	GLOBAL _player_gasta_brick
529   0000              	GLOBAL _player_lost_life
530   0000              	GLOBAL _player_hit
531   0000              	GLOBAL _player_open_door
532   0000              	GLOBAL _player_move_jump
533   0000              	GLOBAL _player_fire
534   0000              	GLOBAL _player_check_stairs_vertical
535   0000              	GLOBAL _player_check_stairs
536   0000              	GLOBAL _player_tile
537   0000              	GLOBAL _player_pick_item
538   0000              	GLOBAL _player_check_floor
539   0000              	GLOBAL _player_hit_platform_clear
540   0000              	GLOBAL _player_score_add
541   0000              	GLOBAL _player_hit_platform
542   0000              	GLOBAL _player_move_input
543   0000              	GLOBAL _player_turn
544   0000              	GLOBAL _player_move
545   0000              	GLOBAL _player_check_input
546   0000              	GLOBAL _player_pick_mushroom
547   0000              	GLOBAL _player_collision
548   0000              	GLOBAL _player_init
549   0000              	GLOBAL _menu_define_key
550   0000              	GLOBAL _menu_redefine
551   0000              	GLOBAL _menu_main_print
552   0000              	GLOBAL _menu_main
553   0000              	GLOBAL _game_match_back
554   0000              	GLOBAL _game_attribs
555   0000              	GLOBAL _game_boss_clear
556   0000              	GLOBAL _game_obj_clear
557   0000              	GLOBAL _game_obj_chk
558   0000              	GLOBAL _game_obj_set
559   0000              	GLOBAL _game_shoot_fire_boss
560   0000              	GLOBAL _game_shoot_fire
561   0000              	GLOBAL _game_add_enemy
562   0000              	GLOBAL _game_print_header
563   0000              	GLOBAL _game_check_time
564   0000              	GLOBAL _game_rotate_attrib_osd
565   0000              	GLOBAL _game_rotate_attrib
566   0000              	GLOBAL _game_colour_message
567   0000              	GLOBAL _game_paint_attrib_lin_osd
568   0000              	GLOBAL _game_paint_attrib_lin_h
569   0000              	GLOBAL _game_paint_attrib_lin
570   0000              	GLOBAL _game_print_score
571   0000              	GLOBAL _game_check_cell
572   0000              	GLOBAL _game_check_map
573   0000              	GLOBAL _game_loop
574   0000              	GLOBAL _game_round_init
575   0000              	GLOBAL _game_start_timer
576   0000              	GLOBAL _game_update_stats
577   0000              	GLOBAL _game_print_footer
578   0000              	GLOBAL _game_fill_row
579   0000              	GLOBAL _game_fps
580   0000              	GLOBAL _game_respawn
581   0000              	GLOBAL _game_draw_screen
582   0000              	GLOBAL _boss_turn
583   0000              	GLOBAL _enemy_avoid_dead
584   0000              	GLOBAL _enemy_avoid_fall
585   0000              	GLOBAL _enemy_respawn
586   0000              	GLOBAL _enemy_init
587   0000              	GLOBAL _enemy_move
588   0000              	GLOBAL _enemy_turn
589   0000              	GLOBAL _enemy_static
590   0000              	GLOBAL _enemy_walk
591   0000              	GLOBAL _enemy_horizontal
592   0000              	GLOBAL _enemy_vertical
593   0000              	GLOBAL _ay_fx_play
594   0000              	GLOBAL _ay_midi_play
595   0000              	GLOBAL _ay_is_playing
596   0000              	GLOBAL _ay_reset
597   0000              	GLOBAL _test_func
598   0000              	GLOBAL _test_proc
599   0000              	GLOBAL _in_mouse_kempston_wheel_delta
600   0000              	GLOBAL _in_mouse_kempston_wheel
601   0000              	GLOBAL _in_mouse_kempston_callee
602   0000              	GLOBAL _in_mouse_kempston
603   0000              	GLOBAL _in_mouse_kempston_setpos_callee
604   0000              	GLOBAL _in_mouse_kempston_setpos
605   0000              	GLOBAL _in_mouse_kempston_reset
606   0000              	GLOBAL _in_mouse_kempston_init
607   0000              	GLOBAL _in_mouse_amx_wheel_delta
608   0000              	GLOBAL _in_mouse_amx_wheel
609   0000              	GLOBAL _in_mouse_amx_callee
610   0000              	GLOBAL _in_mouse_amx
611   0000              	GLOBAL _in_mouse_amx_setpos_callee
612   0000              	GLOBAL _in_mouse_amx_setpos
613   0000              	GLOBAL _in_mouse_amx_reset
614   0000              	GLOBAL _in_mouse_amx_init_callee
615   0000              	GLOBAL _in_mouse_amx_init
616   0000              	GLOBAL _in_stick_sinclair2
617   0000              	GLOBAL _in_stick_sinclair1
618   0000              	GLOBAL _in_stick_kempston
619   0000              	GLOBAL _in_stick_fuller
620   0000              	GLOBAL _in_stick_cursor
621   0000              	GLOBAL _in_stick_keyboard_fastcall
622   0000              	GLOBAL _in_stick_keyboard
623   0000              	GLOBAL _in_wait_nokey
624   0000              	GLOBAL _in_wait_key
625   0000              	GLOBAL _in_test_key
626   0000              	GLOBAL _in_pause_fastcall
627   0000              	GLOBAL _in_pause
628   0000              	GLOBAL _in_key_scancode_fastcall
629   0000              	GLOBAL _in_key_scancode
630   0000              	GLOBAL _in_key_pressed_fastcall
631   0000              	GLOBAL _in_key_pressed
632   0000              	GLOBAL _in_inkey
633   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
634   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
635   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
636   0000              	GLOBAL _NIRVANAP_HOLE
637   0000              	GLOBAL _NIRVANAP_ISR_HOOK
638   0000              	GLOBAL _player_lvl_table
639   0000              	GLOBAL _map_paper_last
640   0000              	GLOBAL _map_paper_clr
641   0000              	GLOBAL _map_paper
642   0000              	GLOBAL _draw_count
643   0000              	GLOBAL _g_player_hit_right
644   0000              	GLOBAL _g_player_hit_left
645   0000              	GLOBAL _bullet_count
646   0000              	GLOBAL _spr_hack
647   0000              	GLOBAL _boss_stat
648   0000              	GLOBAL _boss_time_fire
649   0000              	GLOBAL _boss_time
650   0000              	GLOBAL _boss_tile
651   0000              	GLOBAL _boss_inc
652   0000              	GLOBAL _boss_col
653   0000              	GLOBAL _boss_lin
654   0000              	GLOBAL _bullet_vel
655   0000              	GLOBAL _bullet_frames
656   0000              	GLOBAL _bullet_colint
657   0000              	GLOBAL _bullet_dir
658   0000              	GLOBAL _bullet_tile
659   0000              	GLOBAL _bullet_col
660   0000              	GLOBAL _bullet_lin
661   0000              	GLOBAL _bullet_col0
662   0000              	GLOBAL _bullet_lin0
663   0000              	GLOBAL _bullet_max
664   0000              	GLOBAL _bullet_class
665   0000              	GLOBAL _mush_class
666   0000              	GLOBAL _mush_index
667   0000              	GLOBAL _anim_count
668   0000              	GLOBAL _anim_respanwn
669   0000              	GLOBAL _anim_loop
670   0000              	GLOBAL _anim_end
671   0000              	GLOBAL _anim_int
672   0000              	GLOBAL _anim_tile
673   0000              	GLOBAL _anim_col
674   0000              	GLOBAL _anim_lin
675   0000              	GLOBAL _map_heigth
676   0000              	GLOBAL _map_width
677   0000              	GLOBAL _scr_curr
678   0000              	GLOBAL _scr_obj1
679   0000              	GLOBAL _scr_obj0
680   0000              	GLOBAL _scr_map
681   0000              	GLOBAL _sprite_speed_alt
682   0000              	GLOBAL _sprite_frames
683   0000              	GLOBAL _sprite_speed
684   0000              	GLOBAL _screen_ink
685   0000              	GLOBAL _screen_paper
686   0000              	GLOBAL _player_onstair
687   0000              	GLOBAL _game_start_scr
688   0000              	GLOBAL _game_respawn_tile
689   0000              	GLOBAL _game_respawn_index
690   0000              	GLOBAL _game_respawn_time
691   0000              	GLOBAL _game_score_top
692   0000              	GLOBAL _player_coins
693   0000              	GLOBAL _player_lives
694   0000              	GLOBAL _game_over
695   0000              	GLOBAL _game_sound
696   0000              	GLOBAL _game_inmune
697   0000              	GLOBAL _game_god_mode
698   0000              	GLOBAL _sprite_curr_index
699   0000              	GLOBAL _spr_count
700   0000              	GLOBAL _bullet_time
701   0000              	GLOBAL _anim_time
702   0000              	GLOBAL _frame_time
703   0000              	GLOBAL _curr_time
704   0000              	GLOBAL _s_state
705   0000              	GLOBAL _attrib_osd
706   0000              	GLOBAL _attrib_hl
707   0000              	GLOBAL _attrib
708   0000              	GLOBAL _zx_val_asm
709   0000              	GLOBAL _enemies
710   0000              	GLOBAL _tmp_ui
711   0000              	GLOBAL _tmp_sc
712   0000              	GLOBAL _tmp_uc
713   0000              	GLOBAL _tmp1
714   0000              	GLOBAL _tmp0
715   0000              	GLOBAL _tmp
716   0000              	GLOBAL _index1
717   0000              	GLOBAL _index0
718   0000              	GLOBAL _loop_count
719   0000              	GLOBAL _s_col1
720   0000              	GLOBAL _s_col0
721   0000              	GLOBAL _s_lin1
722   0000              	GLOBAL _s_lin0
723   0000              	GLOBAL _s_tile1
724   0000              	GLOBAL _s_tile0
725   0000              	GLOBAL _player_brick_time
726   0000              	GLOBAL _player_hit_count
727   0000              	GLOBAL _sprite_horizontal_check
728   0000              	GLOBAL _sprite_on_air
729   0000              	GLOBAL _sprite
730   0000              	GLOBAL _fps
731   0000              	GLOBAL _game_2buttons
732   0000              	GLOBAL _game_respawn_curr_time
733   0000              	GLOBAL _game_worldup
734   0000              	GLOBAL _game_mush_count
735   0000              	GLOBAL _game_boss_fix
736   0000              	GLOBAL _game_boss_hit
737   0000              	GLOBAL _game_boss_alive
738   0000              	GLOBAL _game_boss
739   0000              	GLOBAL _game_world
740   0000              	GLOBAL _game_gravity
741   0000              	GLOBAL _player_anim_stair
742   0000              	GLOBAL _player_hit_time
743   0000              	GLOBAL _player_lin_scr
744   0000              	GLOBAL _player_col_scr
745   0000              	GLOBAL _player_lvl
746   0000              	GLOBAL _player_int
747   0000              	GLOBAL _player_str
748   0000              	GLOBAL _player_max_vita
749   0000              	GLOBAL _player_max_mana
750   0000              	GLOBAL _player_vita
751   0000              	GLOBAL _player_mana
752   0000              	GLOBAL _player_keys
753   0000              	GLOBAL _player_vel_inc
754   0000              	GLOBAL _player_vel_y1
755   0000              	GLOBAL _player_vel_y0
756   0000              	GLOBAL _player_vel_y
757   0000              	GLOBAL _player_vel_x
758   0000              	GLOBAL _player_joy
759   0000              	GLOBAL _player_score
760   0000              	GLOBAL _last_time
761   0000              	GLOBAL _player_slide
762   0000              	GLOBAL _spr_timer
763   0000              	GLOBAL _jump_lin
764   0000              	GLOBAL _player_hit_col
765   0000              	GLOBAL _player_hit_lin
766   0000              	GLOBAL _colint
767   0000              	GLOBAL _col
768   0000              	GLOBAL _lin
769   0000              	GLOBAL _tile
770   0000              	GLOBAL _state_a
771   0000              	GLOBAL _state
772   0000              	GLOBAL _class
773   0000              	GLOBAL _tbuffer
774   0000              	GLOBAL _dirs_alt
775   0000              	GLOBAL _dirs
776   0000              	GLOBAL _k2
777   0000              	GLOBAL _k1
778   0000              	GLOBAL _joyfunc2
779   0000              	GLOBAL _joyfunc1
780   0000              	GLOBAL _btiles
781   0000              	GLOBAL _spec128
782   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
783   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
784   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
785   0000              	GLOBAL _ay_effect_20
786   0000              	GLOBAL _ay_effect_19
787   0000              	GLOBAL _ay_effect_18
788   0000              	GLOBAL _ay_effect_17
789   0000              	GLOBAL _ay_effect_16
790   0000              	GLOBAL _ay_effect_15
791   0000              	GLOBAL _ay_effect_14
792   0000              	GLOBAL _ay_effect_13
793   0000              	GLOBAL _ay_effect_12
794   0000              	GLOBAL _ay_effect_11
795   0000              	GLOBAL _ay_effect_10
796   0000              	GLOBAL _ay_effect_09
797   0000              	GLOBAL _ay_effect_08
798   0000              	GLOBAL _ay_effect_07
799   0000              	GLOBAL _ay_effect_06
800   0000              	GLOBAL _ay_effect_05
801   0000              	GLOBAL _ay_effect_04
802   0000              	GLOBAL _ay_effect_03
803   0000              	GLOBAL _ay_effect_02
804   0000              	GLOBAL _ay_effect_01
805   0000              	GLOBAL _pb_midi_phase_1
806   0000              	GLOBAL _pb_midi_title
807   0000              	GLOBAL _control_method
808   0000              	GLOBAL _world1_h
809   0000              	GLOBAL _world1_w
810   0000              	GLOBAL _world1
811   0000              	GLOBAL _paper1
812   0000              	GLOBAL _lenght1
813   0000              	GLOBAL _start_scr1
814   0000              	GLOBAL _world0_h
815   0000              	GLOBAL _world0_w
816   0000              	GLOBAL _world0
817   0000              	GLOBAL _paper0
818   0000              	GLOBAL _lenght0
819   0000              	GLOBAL _start_scr0
820   0000              ;--------------------------------------------------------
821   0000              ; special function registers
822   0000              ;--------------------------------------------------------
823   0000              defc _IO_FE	=	0x00fe
824   0000              defc _IO_1FFD	=	0x1ffd
825   0000              defc _IO_7FFD	=	0x7ffd
826   0000              ;--------------------------------------------------------
827   0000              ; ram data
828   0000              ;--------------------------------------------------------
829   0000              	SECTION bss_compiler
830   0000              ;--------------------------------------------------------
831   0000              ; ram data
832   0000              ;--------------------------------------------------------
833   0000              
834   0000              IF 0
835   0000              
836   0000              ; .area _INITIALIZED removed by z88dk
837   0000              
838   0000              
839   0000              ENDIF
840   0000              
841   0000              ;--------------------------------------------------------
842   0000              ; absolute external ram data
843   0000              ;--------------------------------------------------------
844   0000              	SECTION IGNORE
845   0000              ;--------------------------------------------------------
846   0000              ; global & static initialisations
847   0000              ;--------------------------------------------------------
848   0000              	SECTION code_crt_init
849   0000              ;--------------------------------------------------------
850   0000              ; Home
851   0000              ;--------------------------------------------------------
852   0000              	SECTION IGNORE
853   0000              ;--------------------------------------------------------
854   0000              ; code
855   0000              ;--------------------------------------------------------
856   0000              	SECTION code_compiler
857   0000              ;	---------------------------------
858   0000              ; Function spr_calc_index
859   0000              ; ---------------------------------
860   0000              _spr_calc_index:
861   0000  CD 00 00    	call	___sdcc_enter_ix
862   0003  DD 4E 05    	ld	c,(ix+5)
863   0006  CB 39       	srl	c
864   0008  06 00       	ld	b,0x00
865   000A  DD 7E 04    	ld	a,(ix+4)
866   000D  07          	rlca
867   000E  07          	rlca
868   000F  07          	rlca
869   0010  07          	rlca
870   0011  E6 0F       	and	a,0x0f
871   0013  6F          	ld	l, a
872   0014  26 00       	ld	h,0x00
873   0016  29          	add	hl, hl
874   0017  29          	add	hl, hl
875   0018  29          	add	hl, hl
876   0019  29          	add	hl, hl
877   001A  09          	add	hl, bc
878   001B  DD E1       	pop	ix
879   001D  C9          	ret
880   001E              	SECTION code_compiler
881   001E              ;	---------------------------------
882   001E              ; Function spr_chktime
883   001E              ; ---------------------------------
884   001E              _spr_chktime:
885   001E  CD 00 00    	call	___sdcc_enter_ix
886   0021  F5          	push	af
887   0022  DD 75 FE    	ld	(ix-2),l
888   0025  DD 74 FF    	ld	(ix-1),h
889   0028  E1          	pop	hl
890   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
891   002C  5E          	ld	e,(hl)
892   002D  E5          	push	hl
893   002E  6B          	ld	l,e
894   002F  26 00       	ld	h,0x00
895   0031  09          	add	hl, bc
896   0032  7E          	ld	a,(hl)
897   0033  57          	ld	d,a
898   0034  B7          	or	a, a
899   0035  20 13       	jr	NZ,l_spr_chktime_00102
900   0037  01 00 00    	ld	bc,_sprite_speed+0
901   003A  16 00       	ld	d,0x00
902   003C  21 00 00    	ld	hl,_class
903   003F  19          	add	hl, de
904   0040  6E          	ld	l, (hl)
905   0041  26 00       	ld	h,0x00
906   0043  09          	add	hl, bc
907   0044  7E          	ld	a, (hl)
908   0045  32 00 00    	ld	(_tmp),a
909   0048  18 04       	jr	l_spr_chktime_00103
910   004A              l_spr_chktime_00102:
911   004A  21 00 00    	ld	hl,_tmp
912   004D  72          	ld	(hl), d
913   004E              l_spr_chktime_00103:
914   004E  3A 00 00    	ld	a,(_tmp)
915   0051  4F          	ld	c,a
916   0052  06 00       	ld	b,0x00
917   0054  60          	ld	h,b
918   0055  6B          	ld	l, e
919   0056  29          	add	hl, hl
920   0057  11 00 00    	ld	de,_last_time
921   005A  19          	add	hl, de
922   005B  5E          	ld	e, (hl)
923   005C  23          	inc	hl
924   005D  56          	ld	d, (hl)
925   005E  C5          	push	bc
926   005F  D5          	push	de
927   0060  CD 00 00    	call	_game_check_time
928   0063  F1          	pop	af
929   0064  F1          	pop	af
930   0065  7D          	ld	a, l
931   0066  B7          	or	a, a
932   0067  28 15       	jr	Z,l_spr_chktime_00105
933   0069  E1          	pop	hl
934   006A  E5          	push	hl
935   006B  6E          	ld	l, (hl)
936   006C  26 00       	ld	h,0x00
937   006E  29          	add	hl, hl
938   006F  01 00 00    	ld	bc,_last_time
939   0072  09          	add	hl,bc
940   0073  ED 5B 00 00 	ld	de,(_curr_time)
941   0077  73          	ld	(hl),e
942   0078  23          	inc	hl
943   0079  72          	ld	(hl),d
944   007A  2E 01       	ld	l,0x01
945   007C  18 02       	jr	l_spr_chktime_00106
946   007E              l_spr_chktime_00105:
947   007E  2E 00       	ld	l,0x00
948   0080              l_spr_chktime_00106:
949   0080  F1          	pop	af
950   0081  DD E1       	pop	ix
951   0083  C9          	ret
952   0084              	SECTION code_compiler
953   0084              ;	---------------------------------
954   0084              ; Function spr_move_up
955   0084              ; ---------------------------------
956   0084              _spr_move_up:
957   0084  2A 00 00    	ld	hl,(_sprite)
958   0087  26 00       	ld	h,0x00
959   0089  01 00 00    	ld	bc,_lin
960   008C  09          	add	hl,bc
961   008D  4E          	ld	c,(hl)
962   008E  3E 10       	ld	a,0x10
963   0090  91          	sub	a,c
964   0091  38 16       	jr	C,l_spr_move_up_00109
965   0093  3A 00 00    	ld	a,(_sprite)
966   0096  D6 07       	sub	a,0x07
967   0098  20 0B       	jr	NZ,l_spr_move_up_00104
968   009A  CD 51 04    	call	_spr_page_up
969   009D  7D          	ld	a, l
970   009E  B7          	or	a, a
971   009F  28 04       	jr	Z,l_spr_move_up_00104
972   00A1  2E 00       	ld	l,0x00
973   00A3  18 54       	jr	l_spr_move_up_00111
974   00A5              l_spr_move_up_00104:
975   00A5  2E 01       	ld	l,0x01
976   00A7  18 50       	jr	l_spr_move_up_00111
977   00A9              l_spr_move_up_00109:
978   00A9  79          	ld	a, c
979   00AA  C6 FE       	add	a,0xfe
980   00AC  32 00 00    	ld	(_s_lin1),a
981   00AF  07          	rlca
982   00B0  07          	rlca
983   00B1  07          	rlca
984   00B2  07          	rlca
985   00B3  E6 0F       	and	a,0x0f
986   00B5  4F          	ld	c, a
987   00B6  3A 00 00    	ld	a,(_s_lin0)
988   00B9  07          	rlca
989   00BA  07          	rlca
990   00BB  07          	rlca
991   00BC  07          	rlca
992   00BD  E6 0F       	and	a,0x0f
993   00BF  47          	ld	b, a
994   00C0  79          	ld	a, c
995   00C1  90          	sub	a, b
996   00C2  20 04       	jr	NZ,l_spr_move_up_00135
997   00C4  3E 01       	ld	a,0x01
998   00C6  18 01       	jr	l_spr_move_up_00136
999   00C8              l_spr_move_up_00135:
1000  00C8  AF          	xor	a,a
1001  00C9              l_spr_move_up_00136:
1002  00C9  EE 01       	xor	a,0x01
1003  00CB  28 1D       	jr	Z,l_spr_move_up_00106
1004  00CD  2A 00 00    	ld	hl,(_sprite)
1005  00D0  26 00       	ld	h,0x00
1006  00D2  01 00 00    	ld	bc,_col
1007  00D5  09          	add	hl,bc
1008  00D6  7E          	ld	a,(hl)
1009  00D7  F5          	push	af
1010  00D8  33          	inc	sp
1011  00D9  3A 00 00    	ld	a,(_s_lin1)
1012  00DC  F5          	push	af
1013  00DD  33          	inc	sp
1014  00DE  CD 00 00    	call	_game_check_map
1015  00E1  F1          	pop	af
1016  00E2  7C          	ld	a,h
1017  00E3  B5          	or	a,l
1018  00E4  28 04       	jr	Z,l_spr_move_up_00106
1019  00E6  2E 01       	ld	l,0x01
1020  00E8  18 0F       	jr	l_spr_move_up_00111
1021  00EA              l_spr_move_up_00106:
1022  00EA  2A 00 00    	ld	hl,(_sprite)
1023  00ED  26 00       	ld	h,0x00
1024  00EF  01 00 00    	ld	bc,_lin
1025  00F2  09          	add	hl,bc
1026  00F3  3A 00 00    	ld	a,(_s_lin1)
1027  00F6  77          	ld	(hl),a
1028  00F7  2E 00       	ld	l,0x00
1029  00F9              l_spr_move_up_00111:
1030  00F9  C9          	ret
1031  00FA              	SECTION code_compiler
1032  00FA              ;	---------------------------------
1033  00FA              ; Function spr_move_down
1034  00FA              ; ---------------------------------
1035  00FA              _spr_move_down:
1036  00FA  2A 00 00    	ld	hl,(_sprite)
1037  00FD  26 00       	ld	h,0x00
1038  00FF  01 00 00    	ld	bc,_lin
1039  0102  09          	add	hl,bc
1040  0103  7E          	ld	a,(hl)
1041  0104  FE 90       	cp	a,0x90
1042  0106  38 2C       	jr	C,l_spr_move_down_00112
1043  0108  3A 00 00    	ld	a,(_sprite)
1044  010B  D6 07       	sub	a,0x07
1045  010D  28 04       	jr	Z,l_spr_move_down_00137
1046  010F  4D          	ld	c,l
1047  0110  44          	ld	b,h
1048  0111  18 1A       	jr	l_spr_move_down_00105
1049  0113              l_spr_move_down_00137:
1050  0113  CD 02 04    	call	_spr_page_down
1051  0116  7D          	ld	a, l
1052  0117  B7          	or	a, a
1053  0118  28 04       	jr	Z,l_spr_move_down_00102
1054  011A  2E 01       	ld	l,0x01
1055  011C  18 67       	jr	l_spr_move_down_00114
1056  011E              l_spr_move_down_00102:
1057  011E  2A 00 00    	ld	hl,(_sprite)
1058  0121  26 00       	ld	h,0x00
1059  0123  01 00 00    	ld	bc,_lin
1060  0126  09          	add	hl,bc
1061  0127  36 90       	ld	(hl),0x90
1062  0129  2E 01       	ld	l,0x01
1063  012B  18 58       	jr	l_spr_move_down_00114
1064  012D              l_spr_move_down_00105:
1065  012D  3E 90       	ld	a,0x90
1066  012F  02          	ld	(bc), a
1067  0130  2E 01       	ld	l,0x01
1068  0132  18 51       	jr	l_spr_move_down_00114
1069  0134              l_spr_move_down_00112:
1070  0134  C6 10       	add	a,0x10
1071  0136  32 00 00    	ld	(_s_lin1),a
1072  0139  07          	rlca
1073  013A  07          	rlca
1074  013B  07          	rlca
1075  013C  07          	rlca
1076  013D  E6 0F       	and	a,0x0f
1077  013F  4F          	ld	c, a
1078  0140  3A 00 00    	ld	a,(_s_lin0)
1079  0143  07          	rlca
1080  0144  07          	rlca
1081  0145  07          	rlca
1082  0146  07          	rlca
1083  0147  E6 0F       	and	a,0x0f
1084  0149  5F          	ld	e, a
1085  014A  79          	ld	a, c
1086  014B  93          	sub	a, e
1087  014C  20 04       	jr	NZ,l_spr_move_down_00138
1088  014E  3E 01       	ld	a,0x01
1089  0150  18 01       	jr	l_spr_move_down_00139
1090  0152              l_spr_move_down_00138:
1091  0152  AF          	xor	a,a
1092  0153              l_spr_move_down_00139:
1093  0153  EE 01       	xor	a,0x01
1094  0155  28 1D       	jr	Z,l_spr_move_down_00110
1095  0157  2A 00 00    	ld	hl,(_sprite)
1096  015A  26 00       	ld	h,0x00
1097  015C  01 00 00    	ld	bc,_col
1098  015F  09          	add	hl,bc
1099  0160  7E          	ld	a,(hl)
1100  0161  F5          	push	af
1101  0162  33          	inc	sp
1102  0163  3A 00 00    	ld	a,(_s_lin1)
1103  0166  F5          	push	af
1104  0167  33          	inc	sp
1105  0168  CD 00 00    	call	_game_check_map
1106  016B  F1          	pop	af
1107  016C  7C          	ld	a,h
1108  016D  B5          	or	a,l
1109  016E  28 04       	jr	Z,l_spr_move_down_00110
1110  0170  2E 01       	ld	l,0x01
1111  0172  18 11       	jr	l_spr_move_down_00114
1112  0174              l_spr_move_down_00110:
1113  0174  2A 00 00    	ld	hl,(_sprite)
1114  0177  26 00       	ld	h,0x00
1115  0179  01 00 00    	ld	bc,_lin
1116  017C  09          	add	hl,bc
1117  017D  3A 00 00    	ld	a,(_s_lin1)
1118  0180  C6 F2       	add	a,0xf2
1119  0182  77          	ld	(hl),a
1120  0183  2E 00       	ld	l,0x00
1121  0185              l_spr_move_down_00114:
1122  0185  C9          	ret
1123  0186              	SECTION code_compiler
1124  0186              ;	---------------------------------
1125  0186              ; Function spr_move_horizontal
1126  0186              ; ---------------------------------
1127  0186              _spr_move_horizontal:
1128  0186  2A 00 00    	ld	hl,(_sprite)
1129  0189  26 00       	ld	h,0x00
1130  018B  01 00 00    	ld	bc,_state
1131  018E  09          	add	hl,bc
1132  018F  7E          	ld	a,(hl)
1133  0190  CB 57       	bit	2, a
1134  0192  28 05       	jr	Z,l_spr_move_horizontal_00104
1135  0194  CD A5 01    	call	_spr_move_right
1136  0197  18 0B       	jr	l_spr_move_horizontal_00106
1137  0199              l_spr_move_horizontal_00104:
1138  0199  CB 5F       	bit	3, a
1139  019B  28 05       	jr	Z,l_spr_move_horizontal_00105
1140  019D  CD A1 02    	call	_spr_move_left
1141  01A0  18 02       	jr	l_spr_move_horizontal_00106
1142  01A2              l_spr_move_horizontal_00105:
1143  01A2  2E 00       	ld	l,0x00
1144  01A4              l_spr_move_horizontal_00106:
1145  01A4  C9          	ret
1146  01A5              	SECTION code_compiler
1147  01A5              ;	---------------------------------
1148  01A5              ; Function spr_move_right
1149  01A5              ; ---------------------------------
1150  01A5              _spr_move_right:
1151  01A5  2A 00 00    	ld	hl,(_sprite)
1152  01A8  26 00       	ld	h,0x00
1153  01AA  01 00 00    	ld	bc,_colint
1154  01AD  09          	add	hl,bc
1155  01AE  7E          	ld	a,(hl)
1156  01AF  3C          	inc	a
1157  01B0  77          	ld	(hl),a
1158  01B1  4F          	ld	c,a
1159  01B2  3A 00 00    	ld	a,(_sprite)
1160  01B5  5F          	ld	e,a
1161  01B6  16 00       	ld	d,0x00
1162  01B8  21 00 00    	ld	hl,_class
1163  01BB  19          	add	hl,de
1164  01BC  5E          	ld	e, (hl)
1165  01BD  16 00       	ld	d,0x00
1166  01BF  21 00 00    	ld	hl,_sprite_frames
1167  01C2  19          	add	hl, de
1168  01C3  7E          	ld	a, (hl)
1169  01C4  91          	sub	a, c
1170  01C5  C2 9E 02    	jp	NZ,l_spr_move_right_00118
1171  01C8  2A 00 00    	ld	hl,(_sprite)
1172  01CB  26 00       	ld	h,0x00
1173  01CD  01 00 00    	ld	bc,_lin
1174  01D0  09          	add	hl,bc
1175  01D1  7E          	ld	a,(hl)
1176  01D2  32 00 00    	ld	(_s_lin1),a
1177  01D5  2A 00 00    	ld	hl,(_sprite)
1178  01D8  26 00       	ld	h,0x00
1179  01DA  01 00 00    	ld	bc,_col
1180  01DD  09          	add	hl,bc
1181  01DE  7E          	ld	a,(hl)
1182  01DF  FE 1E       	cp	a,0x1e
1183  01E1  30 5E       	jr	NC,l_spr_move_right_00108
1184  01E3  3C          	inc	a
1185  01E4  32 00 00    	ld	(_s_col1),a
1186  01E7  21 00 00    	ld	hl,_sprite_horizontal_check
1187  01EA  36 01       	ld	(hl),0x01
1188  01EC  2A FF FF    	ld	hl,(_s_col1 - 1)
1189  01EF  3A 00 00    	ld	a,(_s_lin1)
1190  01F2  6F          	ld	l,a
1191  01F3  E5          	push	hl
1192  01F4  CD 00 00    	call	_game_check_map
1193  01F7  F1          	pop	af
1194  01F8  7D          	ld	a,l
1195  01F9  32 00 00    	ld	(_tmp0),a
1196  01FC  B7          	or	a, a
1197  01FD  20 13       	jr	NZ,l_spr_move_right_00102
1198  01FF  3A 00 00    	ld	a,(_s_lin1)
1199  0202  C6 0F       	add	a,0x0f
1200  0204  4F          	ld	c, a
1201  0205  3A 00 00    	ld	a, (_s_col1)
1202  0208  47          	ld	b,a
1203  0209  C5          	push	bc
1204  020A  CD 00 00    	call	_game_check_map
1205  020D  F1          	pop	af
1206  020E  7D          	ld	a,l
1207  020F  32 00 00    	ld	(_tmp0),a
1208  0212              l_spr_move_right_00102:
1209  0212  21 00 00    	ld	hl,_sprite_horizontal_check
1210  0215  36 00       	ld	(hl),0x00
1211  0217  3A 00 00    	ld	a,(_tmp0)
1212  021A  B7          	or	a, a
1213  021B  28 24       	jr	Z,l_spr_move_right_00108
1214  021D  2A 00 00    	ld	hl,(_sprite)
1215  0220  26 00       	ld	h,0x00
1216  0222  01 00 00    	ld	bc,_colint
1217  0225  09          	add	hl,bc
1218  0226  7E          	ld	a,(hl)
1219  0227  C6 FF       	add	a,0xff
1220  0229  77          	ld	(hl),a
1221  022A  3A 00 00    	ld	a,(_sprite_on_air)
1222  022D  B7          	or	a,a
1223  022E  20 0D       	jr	NZ,l_spr_move_right_00104
1224  0230  2A 00 00    	ld	hl,(_sprite)
1225  0233  26 00       	ld	h,0x00
1226  0235  01 00 00    	ld	bc,_colint
1227  0238  09          	add	hl,bc
1228  0239  7E          	ld	a,(hl)
1229  023A  C6 FF       	add	a,0xff
1230  023C  77          	ld	(hl),a
1231  023D              l_spr_move_right_00104:
1232  023D  2E 01       	ld	l,0x01
1233  023F  18 5F       	jr	l_spr_move_right_00119
1234  0241              l_spr_move_right_00108:
1235  0241  2A 00 00    	ld	hl,(_sprite)
1236  0244  26 00       	ld	h,0x00
1237  0246  01 00 00    	ld	bc,_col
1238  0249  09          	add	hl,bc
1239  024A  34          	inc	(hl)
1240  024B  2A 00 00    	ld	hl,(_sprite)
1241  024E  26 00       	ld	h,0x00
1242  0250  01 00 00    	ld	bc,_colint
1243  0253  09          	add	hl,bc
1244  0254  AF          	xor	a,a
1245  0255  77          	ld	(hl),a
1246  0256  2A 00 00    	ld	hl,(_sprite)
1247  0259  26 00       	ld	h,0x00
1248  025B  01 00 00    	ld	bc,_col
1249  025E  09          	add	hl,bc
1250  025F  5E          	ld	e,(hl)
1251  0260  3E 1E       	ld	a,0x1e
1252  0262  93          	sub	a,e
1253  0263  30 39       	jr	NC,l_spr_move_right_00118
1254  0265  3A 00 00    	ld	a,(_sprite)
1255  0268  D6 07       	sub	a,0x07
1256  026A  28 04       	jr	Z,l_spr_move_right_00156
1257  026C  4D          	ld	c,l
1258  026D  44          	ld	b,h
1259  026E  18 27       	jr	l_spr_move_right_00113
1260  0270              l_spr_move_right_00156:
1261  0270  CD A0 03    	call	_spr_page_right
1262  0273  3A 00 00    	ld	a,(_sprite)
1263  0276  C6 00       	add	a,+((_col) & 0xFF)
1264  0278  4D          	ld	c,l
1265  0279  5F          	ld	e,a
1266  027A  3E 00       	ld	a,+((_col) / 256)
1267  027C  CE 00       	adc	a,0x00
1268  027E  57          	ld	d,a
1269  027F  79          	ld	a, c
1270  0280  B7          	or	a, a
1271  0281  28 0F       	jr	Z,l_spr_move_right_00110
1272  0283  AF          	xor	a, a
1273  0284  12          	ld	(de), a
1274  0285  3A 07 00    	ld	a,(_lin + 7)
1275  0288  32 00 00    	ld	(_player_lin_scr),a
1276  028B  21 00 00    	ld	hl,_player_col_scr
1277  028E  36 00       	ld	(hl),0x00
1278  0290  18 08       	jr	l_spr_move_right_00114
1279  0292              l_spr_move_right_00110:
1280  0292  3E 1E       	ld	a,0x1e
1281  0294  12          	ld	(de), a
1282  0295  18 03       	jr	l_spr_move_right_00114
1283  0297              l_spr_move_right_00113:
1284  0297  3E 1E       	ld	a,0x1e
1285  0299  02          	ld	(bc), a
1286  029A              l_spr_move_right_00114:
1287  029A  2E 01       	ld	l,0x01
1288  029C  18 02       	jr	l_spr_move_right_00119
1289  029E              l_spr_move_right_00118:
1290  029E  2E 00       	ld	l,0x00
1291  02A0              l_spr_move_right_00119:
1292  02A0  C9          	ret
1293  02A1              	SECTION code_compiler
1294  02A1              ;	---------------------------------
1295  02A1              ; Function spr_move_left
1296  02A1              ; ---------------------------------
1297  02A1              _spr_move_left:
1298  02A1  01 00 00    	ld	bc,_colint+0
1299  02A4  79          	ld	a, c
1300  02A5  21 00 00    	ld	hl,_sprite
1301  02A8  86          	add	a, (hl)
1302  02A9  5F          	ld	e, a
1303  02AA  78          	ld	a, b
1304  02AB  CE 00       	adc	a,0x00
1305  02AD  57          	ld	d, a
1306  02AE  1A          	ld	a, (de)
1307  02AF  C6 FF       	add	a,0xff
1308  02B1  12          	ld	(de), a
1309  02B2  79          	ld	a, c
1310  02B3  86          	add	a, (hl)
1311  02B4  5F          	ld	e, a
1312  02B5  78          	ld	a, b
1313  02B6  CE 00       	adc	a,0x00
1314  02B8  57          	ld	d, a
1315  02B9  1A          	ld	a, (de)
1316  02BA  3C          	inc	a
1317  02BB  C2 9D 03    	jp	NZ,l_spr_move_left_00118
1318  02BE  5E          	ld	e,(hl)
1319  02BF  16 00       	ld	d,0x00
1320  02C1  21 00 00    	ld	hl,_lin
1321  02C4  19          	add	hl,de
1322  02C5  7E          	ld	a,(hl)
1323  02C6  32 00 00    	ld	(_s_lin1),a
1324  02C9  2A 00 00    	ld	hl,(_sprite)
1325  02CC  26 00       	ld	h,0x00
1326  02CE  11 00 00    	ld	de,_col
1327  02D1  19          	add	hl,de
1328  02D2  7E          	ld	a,(hl)
1329  02D3  B7          	or	a, a
1330  02D4  28 5A       	jr	Z,l_spr_move_left_00108
1331  02D6  C6 FF       	add	a,0xff
1332  02D8  32 00 00    	ld	(_s_col1),a
1333  02DB  21 00 00    	ld	hl,_sprite_horizontal_check
1334  02DE  36 01       	ld	(hl),0x01
1335  02E0  3A 00 00    	ld	a,(_s_col1)
1336  02E3  C5          	push	bc
1337  02E4  F5          	push	af
1338  02E5  33          	inc	sp
1339  02E6  3A 00 00    	ld	a,(_s_lin1)
1340  02E9  F5          	push	af
1341  02EA  33          	inc	sp
1342  02EB  CD 00 00    	call	_game_check_map
1343  02EE  F1          	pop	af
1344  02EF  C1          	pop	bc
1345  02F0  7D          	ld	a,l
1346  02F1  32 00 00    	ld	(_tmp0),a
1347  02F4  B7          	or	a, a
1348  02F5  20 16       	jr	NZ,l_spr_move_left_00102
1349  02F7  3A 00 00    	ld	a,(_s_lin1)
1350  02FA  C6 0F       	add	a,0x0f
1351  02FC  57          	ld	d, a
1352  02FD  3A 00 00    	ld	a,(_s_col1)
1353  0300  C5          	push	bc
1354  0301  5A          	ld	e,d
1355  0302  57          	ld	d,a
1356  0303  D5          	push	de
1357  0304  CD 00 00    	call	_game_check_map
1358  0307  F1          	pop	af
1359  0308  C1          	pop	bc
1360  0309  7D          	ld	a,l
1361  030A  32 00 00    	ld	(_tmp0),a
1362  030D              l_spr_move_left_00102:
1363  030D  21 00 00    	ld	hl,_sprite_horizontal_check
1364  0310  36 00       	ld	(hl),0x00
1365  0312  3A 00 00    	ld	a,(_tmp0)
1366  0315  B7          	or	a, a
1367  0316  28 18       	jr	Z,l_spr_move_left_00108
1368  0318  2A 00 00    	ld	hl,(_sprite)
1369  031B  26 00       	ld	h,0x00
1370  031D  09          	add	hl,bc
1371  031E  34          	inc	(hl)
1372  031F  3A 00 00    	ld	a,(_sprite_on_air)
1373  0322  B7          	or	a, a
1374  0323  20 07       	jr	NZ,l_spr_move_left_00104
1375  0325  2A 00 00    	ld	hl,(_sprite)
1376  0328  26 00       	ld	h,0x00
1377  032A  09          	add	hl,bc
1378  032B  34          	inc	(hl)
1379  032C              l_spr_move_left_00104:
1380  032C  2E 01       	ld	l,0x01
1381  032E  18 6F       	jr	l_spr_move_left_00119
1382  0330              l_spr_move_left_00108:
1383  0330  2A 00 00    	ld	hl,(_sprite)
1384  0333  26 00       	ld	h,0x00
1385  0335  11 00 00    	ld	de,_col
1386  0338  19          	add	hl,de
1387  0339  7E          	ld	a,(hl)
1388  033A  EB          	ex	de,hl
1389  033B  C6 FF       	add	a,0xff
1390  033D  12          	ld	(de),a
1391  033E  79          	ld	a,c
1392  033F  21 00 00    	ld	hl,_sprite
1393  0342  86          	add	a, (hl)
1394  0343  4F          	ld	c, a
1395  0344  78          	ld	a, b
1396  0345  CE 00       	adc	a,0x00
1397  0347  47          	ld	b, a
1398  0348  5E          	ld	e,(hl)
1399  0349  16 00       	ld	d,0x00
1400  034B  21 00 00    	ld	hl,_class
1401  034E  19          	add	hl,de
1402  034F  5E          	ld	e, (hl)
1403  0350  16 00       	ld	d,0x00
1404  0352  21 00 00    	ld	hl,_sprite_frames
1405  0355  19          	add	hl, de
1406  0356  5E          	ld	e, (hl)
1407  0357  1D          	dec	e
1408  0358  7B          	ld	a, e
1409  0359  02          	ld	(bc), a
1410  035A  2A 00 00    	ld	hl,(_sprite)
1411  035D  26 00       	ld	h,0x00
1412  035F  01 00 00    	ld	bc,_col
1413  0362  09          	add	hl,bc
1414  0363  7E          	ld	a,(hl)
1415  0364  3C          	inc	a
1416  0365  20 36       	jr	NZ,l_spr_move_left_00118
1417  0367  3A 00 00    	ld	a,(_sprite)
1418  036A  D6 07       	sub	a,0x07
1419  036C  4D          	ld	c,l
1420  036D  44          	ld	b,h
1421  036E  20 27       	jr	NZ,l_spr_move_left_00113
1422  0370  CD D3 03    	call	_spr_page_left
1423  0373  3A 00 00    	ld	a,(_sprite)
1424  0376  C6 00       	add	a,+((_col) & 0xFF)
1425  0378  4D          	ld	c,l
1426  0379  5F          	ld	e,a
1427  037A  3E 00       	ld	a,+((_col) / 256)
1428  037C  CE 00       	adc	a,0x00
1429  037E  57          	ld	d,a
1430  037F  79          	ld	a, c
1431  0380  B7          	or	a, a
1432  0381  28 10       	jr	Z,l_spr_move_left_00110
1433  0383  3E 1E       	ld	a,0x1e
1434  0385  12          	ld	(de), a
1435  0386  3A 07 00    	ld	a,(_lin + 7)
1436  0389  32 00 00    	ld	(_player_lin_scr),a
1437  038C  21 00 00    	ld	hl,_player_col_scr
1438  038F  36 1E       	ld	(hl),0x1e
1439  0391  18 06       	jr	l_spr_move_left_00114
1440  0393              l_spr_move_left_00110:
1441  0393  AF          	xor	a, a
1442  0394  12          	ld	(de), a
1443  0395  18 02       	jr	l_spr_move_left_00114
1444  0397              l_spr_move_left_00113:
1445  0397  AF          	xor	a, a
1446  0398  02          	ld	(bc), a
1447  0399              l_spr_move_left_00114:
1448  0399  2E 01       	ld	l,0x01
1449  039B  18 02       	jr	l_spr_move_left_00119
1450  039D              l_spr_move_left_00118:
1451  039D  2E 00       	ld	l,0x00
1452  039F              l_spr_move_left_00119:
1453  039F  C9          	ret
1454  03A0              	SECTION code_compiler
1455  03A0              ;	---------------------------------
1456  03A0              ; Function spr_page_right
1457  03A0              ; ---------------------------------
1458  03A0              _spr_page_right:
1459  03A0  2A FF FF    	ld	hl,(_map_width - 1)
1460  03A3  3A 00 00    	ld	a,(_scr_curr)
1461  03A6  6F          	ld	l,a
1462  03A7  E5          	push	hl
1463  03A8  CD 00 00    	call	__moduchar_callee
1464  03AB  7D          	ld	a, l
1465  03AC  3C          	inc	a
1466  03AD  32 00 00    	ld	(_tmp1),a
1467  03B0  21 00 00    	ld	hl,_map_width
1468  03B3  96          	sub	a, (hl)
1469  03B4  30 1A       	jr	NC,l_spr_page_right_00102
1470  03B6  3A 00 00    	ld	a,(_game_boss)
1471  03B9  B7          	or	a, a
1472  03BA  28 06       	jr	Z,l_spr_page_right_00101
1473  03BC  3A 00 00    	ld	a,(_game_god_mode)
1474  03BF  B7          	or	a, a
1475  03C0  28 0E       	jr	Z,l_spr_page_right_00102
1476  03C2              l_spr_page_right_00101:
1477  03C2  21 00 00    	ld	hl,_scr_curr
1478  03C5  34          	inc	(hl)
1479  03C6  CD FF 04    	call	_spr_page_map
1480  03C9  CD 00 00    	call	_game_draw_screen
1481  03CC  2E 01       	ld	l,0x01
1482  03CE  18 02       	jr	l_spr_page_right_00105
1483  03D0              l_spr_page_right_00102:
1484  03D0  2E 00       	ld	l,0x00
1485  03D2              l_spr_page_right_00105:
1486  03D2  C9          	ret
1487  03D3              	SECTION code_compiler
1488  03D3              ;	---------------------------------
1489  03D3              ; Function spr_page_left
1490  03D3              ; ---------------------------------
1491  03D3              _spr_page_left:
1492  03D3  2A FF FF    	ld	hl,(_map_width - 1)
1493  03D6  3A 00 00    	ld	a,(_scr_curr)
1494  03D9  6F          	ld	l,a
1495  03DA  E5          	push	hl
1496  03DB  CD 00 00    	call	__moduchar_callee
1497  03DE  7D          	ld	a,l
1498  03DF  32 00 00    	ld	(_tmp1),a
1499  03E2  B7          	or	a, a
1500  03E3  28 1A       	jr	Z,l_spr_page_left_00102
1501  03E5  3A 00 00    	ld	a,(_game_boss)
1502  03E8  B7          	or	a, a
1503  03E9  28 06       	jr	Z,l_spr_page_left_00101
1504  03EB  3A 00 00    	ld	a,(_game_god_mode)
1505  03EE  B7          	or	a, a
1506  03EF  28 0E       	jr	Z,l_spr_page_left_00102
1507  03F1              l_spr_page_left_00101:
1508  03F1  21 00 00    	ld	hl,_scr_curr
1509  03F4  35          	dec	(hl)
1510  03F5  CD FF 04    	call	_spr_page_map
1511  03F8  CD 00 00    	call	_game_draw_screen
1512  03FB  2E 01       	ld	l,0x01
1513  03FD  18 02       	jr	l_spr_page_left_00105
1514  03FF              l_spr_page_left_00102:
1515  03FF  2E 00       	ld	l,0x00
1516  0401              l_spr_page_left_00105:
1517  0401  C9          	ret
1518  0402              	SECTION code_compiler
1519  0402              ;	---------------------------------
1520  0402              ; Function spr_page_down
1521  0402              ; ---------------------------------
1522  0402              _spr_page_down:
1523  0402  2A FF FF    	ld	hl,(_map_heigth - 1)
1524  0405  3A 00 00    	ld	a,(_scr_curr)
1525  0408  6F          	ld	l,a
1526  0409  E5          	push	hl
1527  040A  CD 00 00    	call	__divuchar_callee
1528  040D  7D          	ld	a, l
1529  040E  3C          	inc	a
1530  040F  32 00 00    	ld	(_tmp1),a
1531  0412  21 00 00    	ld	hl,_map_heigth
1532  0415  96          	sub	a, (hl)
1533  0416  30 36       	jr	NC,l_spr_page_down_00102
1534  0418  3A 00 00    	ld	a,(_game_boss)
1535  041B  B7          	or	a, a
1536  041C  28 06       	jr	Z,l_spr_page_down_00101
1537  041E  3A 00 00    	ld	a,(_game_god_mode)
1538  0421  B7          	or	a, a
1539  0422  28 2A       	jr	Z,l_spr_page_down_00102
1540  0424              l_spr_page_down_00101:
1541  0424  3A 00 00    	ld	a,(_scr_curr)
1542  0427  21 00 00    	ld	hl,_map_width
1543  042A  86          	add	a, (hl)
1544  042B  32 00 00    	ld	(_scr_curr),a
1545  042E  CD FF 04    	call	_spr_page_map
1546  0431  CD 00 00    	call	_game_draw_screen
1547  0434  21 00 00    	ld	hl,_player_lin_scr
1548  0437  36 08       	ld	(hl),0x08
1549  0439  2A 00 00    	ld	hl,(_sprite)
1550  043C  26 00       	ld	h,0x00
1551  043E  01 00 00    	ld	bc,_lin
1552  0441  09          	add	hl,bc
1553  0442  36 08       	ld	(hl),0x08
1554  0444  3A 07 00    	ld	a,(_col + 0x0007)
1555  0447  32 00 00    	ld	(_player_col_scr),a
1556  044A  2E 01       	ld	l,0x01
1557  044C  18 02       	jr	l_spr_page_down_00105
1558  044E              l_spr_page_down_00102:
1559  044E  2E 00       	ld	l,0x00
1560  0450              l_spr_page_down_00105:
1561  0450  C9          	ret
1562  0451              	SECTION code_compiler
1563  0451              ;	---------------------------------
1564  0451              ; Function spr_page_up
1565  0451              ; ---------------------------------
1566  0451              _spr_page_up:
1567  0451  2A FF FF    	ld	hl,(_map_width - 1)
1568  0454  3A 00 00    	ld	a,(_scr_curr)
1569  0457  6F          	ld	l,a
1570  0458  E5          	push	hl
1571  0459  CD 00 00    	call	__divuchar_callee
1572  045C  7D          	ld	a,l
1573  045D  32 00 00    	ld	(_tmp1),a
1574  0460  B7          	or	a, a
1575  0461  28 36       	jr	Z,l_spr_page_up_00102
1576  0463  3A 00 00    	ld	a,(_game_boss)
1577  0466  B7          	or	a, a
1578  0467  28 06       	jr	Z,l_spr_page_up_00101
1579  0469  3A 00 00    	ld	a,(_game_god_mode)
1580  046C  B7          	or	a, a
1581  046D  28 2A       	jr	Z,l_spr_page_up_00102
1582  046F              l_spr_page_up_00101:
1583  046F  3A 00 00    	ld	a,(_scr_curr)
1584  0472  21 00 00    	ld	hl,_map_width
1585  0475  96          	sub	a, (hl)
1586  0476  32 00 00    	ld	(_scr_curr),a
1587  0479  CD FF 04    	call	_spr_page_map
1588  047C  CD 00 00    	call	_game_draw_screen
1589  047F  2A 00 00    	ld	hl,(_sprite)
1590  0482  26 00       	ld	h,0x00
1591  0484  01 00 00    	ld	bc,_lin
1592  0487  09          	add	hl,bc
1593  0488  36 8C       	ld	(hl),0x8c
1594  048A  21 00 00    	ld	hl,_player_lin_scr
1595  048D  36 8C       	ld	(hl),0x8c
1596  048F  3A 07 00    	ld	a,(_col + 0x0007)
1597  0492  32 00 00    	ld	(_player_col_scr),a
1598  0495  2E 01       	ld	l,0x01
1599  0497  18 02       	jr	l_spr_page_up_00105
1600  0499              l_spr_page_up_00102:
1601  0499  2E 00       	ld	l,0x00
1602  049B              l_spr_page_up_00105:
1603  049B  C9          	ret
1604  049C              	SECTION code_compiler
1605  049C              ;	---------------------------------
1606  049C              ; Function spr_clear_scr
1607  049C              ; ---------------------------------
1608  049C              _spr_clear_scr:
1609  049C  06 00       	ld	b,0x00
1610  049E              l_spr_clear_scr_00105:
1611  049E  C5          	push	bc
1612  049F  21 00 00    	ld	hl,0x0000
1613  04A2  E5          	push	hl
1614  04A3  AF          	xor	a, a
1615  04A4  48          	ld	c,b
1616  04A5  47          	ld	b,a
1617  04A6  C5          	push	bc
1618  04A7  CD 00 00    	call	_NIRVANAP_spriteT_callee
1619  04AA  C1          	pop	bc
1620  04AB  04          	inc	b
1621  04AC  78          	ld	a, b
1622  04AD  D6 08       	sub	a,0x08
1623  04AF  38 ED       	jr	C,l_spr_clear_scr_00105
1624  04B1  76          	halt
1625  04B2  F3          	di
1626  04B3  0E 00       	ld	c,0x00
1627  04B5              l_spr_clear_scr_00117:
1628  04B5  79          	ld	a, c
1629  04B6  87          	add	a, a
1630  04B7  47          	ld	b, a
1631  04B8  50          	ld	d, b
1632  04B9  1E 01       	ld	e,0x01
1633  04BB              l_spr_clear_scr_00107:
1634  04BB  7B          	ld	a, e
1635  04BC  07          	rlca
1636  04BD  07          	rlca
1637  04BE  07          	rlca
1638  04BF  07          	rlca
1639  04C0  E6 F0       	and	a,0xf0
1640  04C2  C5          	push	bc
1641  04C3  D5          	push	de
1642  04C4  5F          	ld	e,a
1643  04C5  D5          	push	de
1644  04C6  AF          	xor	a, a
1645  04C7  F5          	push	af
1646  04C8  33          	inc	sp
1647  04C9  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1648  04CC  D1          	pop	de
1649  04CD  C1          	pop	bc
1650  04CE  1C          	inc	e
1651  04CF  7B          	ld	a, e
1652  04D0  D6 0A       	sub	a,0x0a
1653  04D2  38 E7       	jr	C,l_spr_clear_scr_00107
1654  04D4  3E 1E       	ld	a,0x1e
1655  04D6  90          	sub	a, b
1656  04D7  47          	ld	b, a
1657  04D8  1E 01       	ld	e,0x01
1658  04DA              l_spr_clear_scr_00109:
1659  04DA  7B          	ld	a, e
1660  04DB  07          	rlca
1661  04DC  07          	rlca
1662  04DD  07          	rlca
1663  04DE  07          	rlca
1664  04DF  E6 F0       	and	a,0xf0
1665  04E1  57          	ld	d, a
1666  04E2  C5          	push	bc
1667  04E3  D5          	push	de
1668  04E4  4A          	ld	c, d
1669  04E5  C5          	push	bc
1670  04E6  AF          	xor	a, a
1671  04E7  F5          	push	af
1672  04E8  33          	inc	sp
1673  04E9  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1674  04EC  D1          	pop	de
1675  04ED  C1          	pop	bc
1676  04EE  1C          	inc	e
1677  04EF  7B          	ld	a, e
1678  04F0  D6 0A       	sub	a,0x0a
1679  04F2  38 E6       	jr	C,l_spr_clear_scr_00109
1680  04F4  FB          	ei
1681  04F5  76          	halt
1682  04F6  F3          	di
1683  04F7  0C          	inc	c
1684  04F8  79          	ld	a, c
1685  04F9  D6 08       	sub	a,0x08
1686  04FB  38 B8       	jr	C,l_spr_clear_scr_00117
1687  04FD  FB          	ei
1688  04FE  C9          	ret
1689  04FF              	SECTION code_compiler
1690  04FF              ;	---------------------------------
1691  04FF              ; Function spr_page_map
1692  04FF              ; ---------------------------------
1693  04FF              _spr_page_map:
1694  04FF  CD 00 00    	call	___sdcc_enter_ix
1695  0502  21 F1 FF    	ld	hl, -15
1696  0505  39          	add	hl, sp
1697  0506  F9          	ld	sp, hl
1698  0507  21 00 00    	ld	hl,_game_world
1699  050A  4E          	ld	c, (hl)
1700  050B  21 00 00    	ld	hl,_scr_curr
1701  050E  46          	ld	b, (hl)
1702  050F  DD 36 F3 10 	ld	(ix-13),0x10
1703  0513  C5          	push	bc
1704  0514  CD 9C 04    	call	_spr_clear_scr
1705  0517  C1          	pop	bc
1706  0518  F3          	di
1707  0519  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1708  051C  36 16       	ld	(hl),0x16
1709  051E  C5          	push	bc
1710  051F  3E 16       	ld	a,0x16
1711  0521  01 FD 7F    	ld	bc,_IO_7FFD
1712  0524  ED 79       	out	(c),a
1713  0526  C1          	pop	bc
1714  0527  78          	ld	a, b
1715  0528  3C          	inc	a
1716  0529  20 04       	jr	NZ,l_spr_page_map_00207
1717  052B  3E 01       	ld	a,0x01
1718  052D  18 01       	jr	l_spr_page_map_00208
1719  052F              l_spr_page_map_00207:
1720  052F  AF          	xor	a,a
1721  0530              l_spr_page_map_00208:
1722  0530  5F          	ld	e, a
1723  0531  79          	ld	a, c
1724  0532  B7          	or	a,a
1725  0533  20 22       	jr	NZ,l_spr_page_map_00106
1726  0535  B3          	or	a,e
1727  0536  28 04       	jr	Z,l_spr_page_map_00102
1728  0538  21 00 00    	ld	hl,_start_scr0
1729  053B  46          	ld	b, (hl)
1730  053C              l_spr_page_map_00102:
1731  053C  11 00 00    	ld	de,_paper0+0
1732  053F  68          	ld	l,b
1733  0540  26 00       	ld	h,0x00
1734  0542  19          	add	hl, de
1735  0543  7E          	ld	a, (hl)
1736  0544  DD 77 FB    	ld	(ix-5),a
1737  0547  21 00 00    	ld	hl,_world0_w
1738  054A  5E          	ld	e, (hl)
1739  054B  DD 73 FF    	ld	(ix-1),e
1740  054E  21 00 00    	ld	hl,_world0_h
1741  0551  5E          	ld	e, (hl)
1742  0552  DD 73 FE    	ld	(ix-2),e
1743  0555  18 21       	jr	l_spr_page_map_00107
1744  0557              l_spr_page_map_00106:
1745  0557  7B          	ld	a, e
1746  0558  B7          	or	a, a
1747  0559  28 04       	jr	Z,l_spr_page_map_00104
1748  055B  21 00 00    	ld	hl,_start_scr1
1749  055E  46          	ld	b, (hl)
1750  055F              l_spr_page_map_00104:
1751  055F  11 00 00    	ld	de,_paper1+0
1752  0562  68          	ld	l,b
1753  0563  26 00       	ld	h,0x00
1754  0565  19          	add	hl, de
1755  0566  7E          	ld	a, (hl)
1756  0567  DD 77 FB    	ld	(ix-5),a
1757  056A  21 00 00    	ld	hl,_world1_w
1758  056D  5E          	ld	e, (hl)
1759  056E  DD 73 FF    	ld	(ix-1),e
1760  0571  21 00 00    	ld	hl,_world1_h
1761  0574  5E          	ld	e, (hl)
1762  0575  DD 73 FE    	ld	(ix-2),e
1763  0578              l_spr_page_map_00107:
1764  0578  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1765  057B  36 10       	ld	(hl),0x10
1766  057D  C5          	push	bc
1767  057E  3E 10       	ld	a,0x10
1768  0580  01 FD 7F    	ld	bc,_IO_7FFD
1769  0583  ED 79       	out	(c),a
1770  0585  C1          	pop	bc
1771  0586  21 00 00    	ld	hl,0x0000
1772  0589  E3          	ex	(sp), hl
1773  058A  DD 36 F4 00 	ld	(ix-12),0x00
1774  058E              l_spr_page_map_00111:
1775  058E  DD 7E F4    	ld	a,(ix-12)
1776  0591  90          	sub	a, b
1777  0592  30 51       	jr	NC,l_spr_page_map_00113
1778  0594  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1779  0597  36 16       	ld	(hl),0x16
1780  0599  C5          	push	bc
1781  059A  3E 16       	ld	a,0x16
1782  059C  01 FD 7F    	ld	bc,_IO_7FFD
1783  059F  ED 79       	out	(c),a
1784  05A1  C1          	pop	bc
1785  05A2  79          	ld	a, c
1786  05A3  B7          	or	a, a
1787  05A4  20 10       	jr	NZ,l_spr_page_map_00109
1788  05A6  3E 00       	ld	a, +((_lenght0) & 0xFF)
1789  05A8  DD 86 F4    	add	a,(ix-12)
1790  05AB  6F          	ld	l, a
1791  05AC  3E 00       	ld	a, +((_lenght0) / 256)
1792  05AE  CE 00       	adc	a,0x00
1793  05B0  67          	ld	h, a
1794  05B1  5E          	ld	e, (hl)
1795  05B2  16 00       	ld	d,0x00
1796  05B4  18 0E       	jr	l_spr_page_map_00110
1797  05B6              l_spr_page_map_00109:
1798  05B6  3E 00       	ld	a, +((_lenght1) & 0xFF)
1799  05B8  DD 86 F4    	add	a,(ix-12)
1800  05BB  6F          	ld	l, a
1801  05BC  3E 00       	ld	a, +((_lenght1) / 256)
1802  05BE  CE 00       	adc	a,0x00
1803  05C0  67          	ld	h, a
1804  05C1  5E          	ld	e, (hl)
1805  05C2  16 00       	ld	d,0x00
1806  05C4              l_spr_page_map_00110:
1807  05C4  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1808  05C7  36 10       	ld	(hl),0x10
1809  05C9  C5          	push	bc
1810  05CA  3E 10       	ld	a,0x10
1811  05CC  01 FD 7F    	ld	bc,_IO_7FFD
1812  05CF  ED 79       	out	(c),a
1813  05D1  C1          	pop	bc
1814  05D2  DD 7E F1    	ld	a,(ix-15)
1815  05D5  83          	add	a, e
1816  05D6  DD 77 F1    	ld	(ix-15),a
1817  05D9  DD 7E F2    	ld	a,(ix-14)
1818  05DC  8A          	adc	a, d
1819  05DD  DD 77 F2    	ld	(ix-14),a
1820  05E0  DD 34 F4    	inc	(ix-12)
1821  05E3  18 A9       	jr	l_spr_page_map_00111
1822  05E5              l_spr_page_map_00113:
1823  05E5  FB          	ei
1824  05E6  F3          	di
1825  05E7  DD 36 F5 00 	ld	(ix-11),0x00
1826  05EB              l_spr_page_map_00137:
1827  05EB  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1828  05EE  36 16       	ld	(hl),0x16
1829  05F0  C5          	push	bc
1830  05F1  3E 16       	ld	a,0x16
1831  05F3  01 FD 7F    	ld	bc,_IO_7FFD
1832  05F6  ED 79       	out	(c),a
1833  05F8  C1          	pop	bc
1834  05F9  DD 5E F5    	ld	e,(ix-11)
1835  05FC  16 00       	ld	d,0x00
1836  05FE  DD 6E F1    	ld	l,(ix-15)
1837  0601  DD 66 F2    	ld	h,(ix-14)
1838  0604  19          	add	hl,de
1839  0605  EB          	ex	de,hl
1840  0606  21 01 00    	ld	hl,0x0001
1841  0609  19          	add	hl,de
1842  060A  DD 75 F9    	ld	(ix-7),l
1843  060D  DD 74 FA    	ld	(ix-6),h
1844  0610  79          	ld	a, c
1845  0611  B7          	or	a, a
1846  0612  20 18       	jr	NZ,l_spr_page_map_00115
1847  0614  21 00 00    	ld	hl,_world0
1848  0617  19          	add	hl, de
1849  0618  7E          	ld	a, (hl)
1850  0619  DD 77 F8    	ld	(ix-8),a
1851  061C  11 00 00    	ld	de,_world0
1852  061F  DD 6E F9    	ld	l,(ix-7)
1853  0622  DD 66 FA    	ld	h,(ix-6)
1854  0625  19          	add	hl,de
1855  0626  7E          	ld	a, (hl)
1856  0627  DD 77 F7    	ld	(ix-9),a
1857  062A  18 16       	jr	l_spr_page_map_00116
1858  062C              l_spr_page_map_00115:
1859  062C  21 00 00    	ld	hl,_world1
1860  062F  19          	add	hl, de
1861  0630  7E          	ld	a, (hl)
1862  0631  DD 77 F8    	ld	(ix-8),a
1863  0634  11 00 00    	ld	de,_world1
1864  0637  DD 6E F9    	ld	l,(ix-7)
1865  063A  DD 66 FA    	ld	h,(ix-6)
1866  063D  19          	add	hl,de
1867  063E  7E          	ld	a, (hl)
1868  063F  DD 77 F7    	ld	(ix-9),a
1869  0642              l_spr_page_map_00116:
1870  0642  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1871  0645  36 10       	ld	(hl),0x10
1872  0647  C5          	push	bc
1873  0648  3E 10       	ld	a,0x10
1874  064A  01 FD 7F    	ld	bc,_IO_7FFD
1875  064D  ED 79       	out	(c),a
1876  064F  C1          	pop	bc
1877  0650  DD 7E F8    	ld	a,(ix-8)
1878  0653  D6 80       	sub	a,0x80
1879  0655  30 4F       	jr	NC,l_spr_page_map_00127
1880  0657  DD 7E F3    	ld	a,(ix-13)
1881  065A  DD 77 F9    	ld	(ix-7),a
1882  065D  DD 36 FA 00 	ld	(ix-6),0x00
1883  0661  C5          	push	bc
1884  0662  DD 6E F9    	ld	l,(ix-7)
1885  0665  DD 66 FA    	ld	h,(ix-6)
1886  0668  CD 00 00    	call	_game_obj_chk
1887  066B  C1          	pop	bc
1888  066C  5D          	ld	e,l
1889  066D  3E 00       	ld	a, +((_scr_map) & 0xFF)
1890  066F  DD 86 F3    	add	a,(ix-13)
1891  0672  DD 77 FC    	ld	(ix-4),a
1892  0675  3E 00       	ld	a, +((_scr_map) / 256)
1893  0677  CE 00       	adc	a,0x00
1894  0679  DD 77 FD    	ld	(ix-3),a
1895  067C  7B          	ld	a, e
1896  067D  B7          	or	a, a
1897  067E  20 0C       	jr	NZ,l_spr_page_map_00118
1898  0680  DD 6E FC    	ld	l,(ix-4)
1899  0683  DD 66 FD    	ld	h,(ix-3)
1900  0686  DD 7E F8    	ld	a,(ix-8)
1901  0689  77          	ld	(hl), a
1902  068A  18 15       	jr	l_spr_page_map_00119
1903  068C              l_spr_page_map_00118:
1904  068C  C5          	push	bc
1905  068D  DD 6E F9    	ld	l,(ix-7)
1906  0690  DD 66 FA    	ld	h,(ix-6)
1907  0693  E5          	push	hl
1908  0694  CD 00 00    	call	_game_match_back
1909  0697  F1          	pop	af
1910  0698  C1          	pop	bc
1911  0699  5D          	ld	e,l
1912  069A  DD 6E FC    	ld	l,(ix-4)
1913  069D  DD 66 FD    	ld	h,(ix-3)
1914  06A0  73          	ld	(hl), e
1915  06A1              l_spr_page_map_00119:
1916  06A1  DD 34 F3    	inc	(ix-13)
1917  06A4  18 6D       	jr	l_spr_page_map_00128
1918  06A6              l_spr_page_map_00127:
1919  06A6  DD 7E F8    	ld	a,(ix-8)
1920  06A9  C6 80       	add	a,0x80
1921  06AB  DD 77 F6    	ld	(ix-10),a
1922  06AE  DD 5E F3    	ld	e,(ix-13)
1923  06B1  16 00       	ld	d,0x00
1924  06B3              l_spr_page_map_00135:
1925  06B3  7A          	ld	a, d
1926  06B4  DD 96 F6    	sub	a,(ix-10)
1927  06B7  30 54       	jr	NC,l_spr_page_map_00158
1928  06B9  DD 73 FC    	ld	(ix-4),e
1929  06BC  DD 36 FD 00 	ld	(ix-3),0x00
1930  06C0  C5          	push	bc
1931  06C1  D5          	push	de
1932  06C2  DD 6E FC    	ld	l,(ix-4)
1933  06C5  DD 66 FD    	ld	h,(ix-3)
1934  06C8  CD 00 00    	call	_game_obj_chk
1935  06CB  D1          	pop	de
1936  06CC  C1          	pop	bc
1937  06CD  7D          	ld	a,l
1938  06CE  B7          	or	a, a
1939  06CF  20 0F       	jr	NZ,l_spr_page_map_00121
1940  06D1  3E 00       	ld	a, +((_scr_map) & 0xFF)
1941  06D3  83          	add	a, e
1942  06D4  6F          	ld	l, a
1943  06D5  3E 00       	ld	a, +((_scr_map) / 256)
1944  06D7  CE 00       	adc	a,0x00
1945  06D9  67          	ld	h, a
1946  06DA  DD 7E F7    	ld	a,(ix-9)
1947  06DD  77          	ld	(hl), a
1948  06DE  18 24       	jr	l_spr_page_map_00122
1949  06E0              l_spr_page_map_00121:
1950  06E0  3E 00       	ld	a, +((_scr_map) & 0xFF)
1951  06E2  83          	add	a, e
1952  06E3  DD 77 F9    	ld	(ix-7),a
1953  06E6  3E 00       	ld	a, +((_scr_map) / 256)
1954  06E8  CE 00       	adc	a,0x00
1955  06EA  DD 77 FA    	ld	(ix-6),a
1956  06ED  C5          	push	bc
1957  06EE  D5          	push	de
1958  06EF  DD 6E FC    	ld	l,(ix-4)
1959  06F2  DD 66 FD    	ld	h,(ix-3)
1960  06F5  E5          	push	hl
1961  06F6  CD 00 00    	call	_game_match_back
1962  06F9  F1          	pop	af
1963  06FA  D1          	pop	de
1964  06FB  C1          	pop	bc
1965  06FC  7D          	ld	a,l
1966  06FD  DD 6E F9    	ld	l,(ix-7)
1967  0700  DD 66 FA    	ld	h,(ix-6)
1968  0703  77          	ld	(hl), a
1969  0704              l_spr_page_map_00122:
1970  0704  1C          	inc	e
1971  0705  7B          	ld	a, e
1972  0706  D6 A0       	sub	a,0xa0
1973  0708  30 03       	jr	NC,l_spr_page_map_00158
1974  070A  14          	inc	d
1975  070B  18 A6       	jr	l_spr_page_map_00135
1976  070D              l_spr_page_map_00158:
1977  070D  DD 73 F3    	ld	(ix-13),e
1978  0710  DD 34 F5    	inc	(ix-11)
1979  0713              l_spr_page_map_00128:
1980  0713  DD 7E F3    	ld	a,(ix-13)
1981  0716  D6 A0       	sub	a,0xa0
1982  0718  30 0B       	jr	NC,l_spr_page_map_00131
1983  071A  DD 34 F5    	inc	(ix-11)
1984  071D  DD 7E F5    	ld	a,(ix-11)
1985  0720  D6 A0       	sub	a,0xa0
1986  0722  DA EB 05    	jp	C, l_spr_page_map_00137
1987  0725              l_spr_page_map_00131:
1988  0725  21 00 00    	ld	hl,_scr_curr
1989  0728  70          	ld	(hl), b
1990  0729  DD 7E FF    	ld	a,(ix-1)
1991  072C  32 00 00    	ld	(_map_width),a
1992  072F  DD 7E FE    	ld	a,(ix-2)
1993  0732  32 00 00    	ld	(_map_heigth),a
1994  0735  DD 7E FB    	ld	a,(ix-5)
1995  0738  32 00 00    	ld	(_map_paper),a
1996  073B  CD 24 0D    	call	_spr_init_anim_bullets
1997  073E  3A 00 00    	ld	a,(_map_paper_last)
1998  0741  21 00 00    	ld	hl,_map_paper
1999  0744  96          	sub	a, (hl)
2000  0745  28 03       	jr	Z,l_spr_page_map_00133
2001  0747  CD 7E 15    	call	_spr_btile_paint_back
2002  074A              l_spr_page_map_00133:
2003  074A  3A 00 00    	ld	a,(_map_paper)
2004  074D  32 00 00    	ld	(_map_paper_last),a
2005  0750  FB          	ei
2006  0751  CD 00 00    	call	_NIRVANAP_start
2007  0754  21 00 00    	ld	hl,_screen_ink
2008  0757  36 06       	ld	(hl),0x06
2009  0759  21 00 00    	ld	hl,___str_0
2010  075C  E5          	push	hl
2011  075D  21 17 0C    	ld	hl,0x0c17
2012  0760  E5          	push	hl
2013  0761  CD 00 00    	call	_zx_print_str
2014  0764  3A 00 00    	ld	a,(_scr_curr)
2015  0767  F5          	push	af
2016  0768  33          	inc	sp
2017  0769  21 17 10    	ld	hl,0x1017
2018  076C  E5          	push	hl
2019  076D  CD 00 00    	call	_zx_print_chr
2020  0770  DD F9       	ld	sp, ix
2021  0772  DD E1       	pop	ix
2022  0774  C9          	ret
2023  0775              	SECTION rodata_compiler
2024  0000              ___str_0:
2025  0000  53 43 52 3A 	DEFM "SCR:"
2026  0004  00          	DEFB 0x00
2027  0005              	SECTION code_compiler
2028  0775              ;	---------------------------------
2029  0775              ; Function spr_redraw
2030  0775              ; ---------------------------------
2031  0775              _spr_redraw:
2032  0775  2A 00 00    	ld	hl,(_sprite)
2033  0778  26 00       	ld	h,0x00
2034  077A  01 00 00    	ld	bc,_tile
2035  077D  09          	add	hl,bc
2036  077E  4E          	ld	c, (hl)
2037  077F  3A 00 00    	ld	a,(_sprite)
2038  0782  5F          	ld	e,a
2039  0783  16 00       	ld	d,0x00
2040  0785  21 00 00    	ld	hl,_colint
2041  0788  19          	add	hl,de
2042  0789  7E          	ld	a,(hl)
2043  078A  81          	add	a,c
2044  078B  32 00 00    	ld	(_s_tile1),a
2045  078E  2A 00 00    	ld	hl,(_sprite)
2046  0791  26 00       	ld	h,0x00
2047  0793  01 00 00    	ld	bc,_col
2048  0796  09          	add	hl,bc
2049  0797  7E          	ld	a,(hl)
2050  0798  32 00 00    	ld	(_s_col1),a
2051  079B  2A 00 00    	ld	hl,(_sprite)
2052  079E  26 00       	ld	h,0x00
2053  07A0  01 00 00    	ld	bc,_lin
2054  07A3  09          	add	hl,bc
2055  07A4  7E          	ld	a,(hl)
2056  07A5  4D          	ld	c,l
2057  07A6  32 00 00    	ld	(_s_lin1),a
2058  07A9  21 00 00    	ld	hl,_s_lin0
2059  07AC  96          	sub	a, (hl)
2060  07AD  20 0A       	jr	NZ,l_spr_redraw_00117
2061  07AF  3A 00 00    	ld	a,(_s_col1)
2062  07B2  21 00 00    	ld	hl,_s_col0
2063  07B5  96          	sub	a, (hl)
2064  07B6  CA 6C 08    	jp	Z,l_spr_redraw_00118
2065  07B9              l_spr_redraw_00117:
2066  07B9  3A 00 00    	ld	a,(_sprite)
2067  07BC  D6 07       	sub	a,0x07
2068  07BE  20 3A       	jr	NZ,l_spr_redraw_00113
2069  07C0  3A 00 00    	ld	a,(_player_onstair)
2070  07C3  B7          	or	a, a
2071  07C4  28 2F       	jr	Z,l_spr_redraw_00104
2072  07C6  3A 07 00    	ld	a, (_lin + 7)
2073  07C9  E6 03       	and	a,0x03
2074  07CB  20 28       	jr	NZ,l_spr_redraw_00104
2075  07CD  21 00 00    	ld	hl,_player_anim_stair
2076  07D0  34          	inc	(hl)
2077  07D1  20 02       	jr	NZ,l_spr_redraw_00162
2078  07D3  23          	inc	hl
2079  07D4  34          	inc	(hl)
2080  07D5              l_spr_redraw_00162:
2081  07D5  3E 01       	ld	a,0x01
2082  07D7  21 00 00    	ld	hl,_player_anim_stair
2083  07DA  BE          	cp	a, (hl)
2084  07DB  3E 00       	ld	a,0x00
2085  07DD  23          	inc	hl
2086  07DE  9E          	sbc	a, (hl)
2087  07DF  30 05       	jr	NC,l_spr_redraw_00102
2088  07E1  2B          	dec	hl
2089  07E2  AF          	xor	a, a
2090  07E3  77          	ld	(hl), a
2091  07E4  23          	inc	hl
2092  07E5  77          	ld	(hl), a
2093  07E6              l_spr_redraw_00102:
2094  07E6  21 07 00    	ld	hl,_tile + 7
2095  07E9  4E          	ld	c, (hl)
2096  07EA  21 00 00    	ld	hl,_player_anim_stair
2097  07ED  46          	ld	b, (hl)
2098  07EE  79          	ld	a, c
2099  07EF  80          	add	a, b
2100  07F0  C6 04       	add	a,0x04
2101  07F2  32 00 00    	ld	(_s_tile1),a
2102  07F5              l_spr_redraw_00104:
2103  07F5  CD 9B 0B    	call	_spr_back_repaint
2104  07F8  18 5B       	jr	l_spr_redraw_00114
2105  07FA              l_spr_redraw_00113:
2106  07FA  3A 00 00    	ld	a,(_s_lin1)
2107  07FD  E6 07       	and	a,0x07
2108  07FF  20 05       	jr	NZ,l_spr_redraw_00110
2109  0801  CD 9B 0B    	call	_spr_back_repaint
2110  0804  18 4F       	jr	l_spr_redraw_00114
2111  0806              l_spr_redraw_00110:
2112  0806  21 00 00    	ld	hl,_s_state
2113  0809  CB 46       	bit	0, (hl)
2114  080B  28 26       	jr	Z,l_spr_redraw_00107
2115  080D  3A 00 00    	ld	a,(_s_lin0)
2116  0810  C6 08       	add	a,0x08
2117  0812  47          	ld	b, a
2118  0813  3A 00 00    	ld	a,(_s_col0)
2119  0816  F5          	push	af
2120  0817  33          	inc	sp
2121  0818  C5          	push	bc
2122  0819  33          	inc	sp
2123  081A  3A 00 00    	ld	a,(_map_paper_clr)
2124  081D  F5          	push	af
2125  081E  33          	inc	sp
2126  081F  CD 00 00    	call	_NIRVANAP_fillC_callee
2127  0822  21 00 00    	ld	hl,_s_col0
2128  0825  56          	ld	d, (hl)
2129  0826  14          	inc	d
2130  0827  58          	ld	e,b
2131  0828  3A 00 00    	ld	a,(_map_paper_clr)
2132  082B  D5          	push	de
2133  082C  F5          	push	af
2134  082D  33          	inc	sp
2135  082E  CD 00 00    	call	_NIRVANAP_fillC_callee
2136  0831  18 22       	jr	l_spr_redraw_00114
2137  0833              l_spr_redraw_00107:
2138  0833  2A FF FF    	ld	hl,(_s_col0 - 1)
2139  0836  3A 00 00    	ld	a,(_s_lin0)
2140  0839  6F          	ld	l,a
2141  083A  3A 00 00    	ld	a,(_map_paper_clr)
2142  083D  E5          	push	hl
2143  083E  F5          	push	af
2144  083F  33          	inc	sp
2145  0840  CD 00 00    	call	_NIRVANAP_fillC_callee
2146  0843  21 00 00    	ld	hl,_s_col0
2147  0846  46          	ld	b, (hl)
2148  0847  04          	inc	b
2149  0848  C5          	push	bc
2150  0849  33          	inc	sp
2151  084A  2A FF FF    	ld	hl,(_s_lin0 - 1)
2152  084D  3A 00 00    	ld	a,(_map_paper_clr)
2153  0850  6F          	ld	l,a
2154  0851  E5          	push	hl
2155  0852  CD 00 00    	call	_NIRVANAP_fillC_callee
2156  0855              l_spr_redraw_00114:
2157  0855  2A FF FF    	ld	hl,(_s_col1 - 1)
2158  0858  3A 00 00    	ld	a,(_s_lin1)
2159  085B  6F          	ld	l,a
2160  085C  E5          	push	hl
2161  085D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2162  0860  3A 00 00    	ld	a,(_sprite)
2163  0863  6F          	ld	l,a
2164  0864  E5          	push	hl
2165  0865  CD 00 00    	call	_NIRVANAP_spriteT_callee
2166  0868  2E 01       	ld	l,0x01
2167  086A  18 22       	jr	l_spr_redraw_00121
2168  086C              l_spr_redraw_00118:
2169  086C  3A 00 00    	ld	a,(_s_tile1)
2170  086F  21 00 00    	ld	hl,_s_tile0
2171  0872  96          	sub	a, (hl)
2172  0873  28 17       	jr	Z,l_spr_redraw_00119
2173  0875  2A FF FF    	ld	hl,(_s_col1 - 1)
2174  0878  3A 00 00    	ld	a,(_s_lin1)
2175  087B  6F          	ld	l,a
2176  087C  E5          	push	hl
2177  087D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2178  0880  3A 00 00    	ld	a,(_sprite)
2179  0883  6F          	ld	l,a
2180  0884  E5          	push	hl
2181  0885  CD 00 00    	call	_NIRVANAP_spriteT_callee
2182  0888  2E 00       	ld	l,0x00
2183  088A  18 02       	jr	l_spr_redraw_00121
2184  088C              l_spr_redraw_00119:
2185  088C  2E 00       	ld	l,0x00
2186  088E              l_spr_redraw_00121:
2187  088E  C9          	ret
2188  088F              	SECTION code_compiler
2189  088F              ;	---------------------------------
2190  088F              ; Function spr_destroy
2191  088F              ; ---------------------------------
2192  088F              _spr_destroy:
2193  088F  CD 00 00    	call	___sdcc_enter_ix
2194  0892  F5          	push	af
2195  0893  F5          	push	af
2196  0894  45          	ld	b, l
2197  0895  21 00 00    	ld	hl,_spr_count
2198  0898  35          	dec	(hl)
2199  0899  3E 00       	ld	a, +((_lin) & 0xFF)
2200  089B  80          	add	a, b
2201  089C  DD 77 FE    	ld	(ix-2),a
2202  089F  6F          	ld	l,a
2203  08A0  3E 00       	ld	a,+((_lin) / 256)
2204  08A2  CE 00       	adc	a,0x00
2205  08A4  DD 77 FF    	ld	(ix-1),a
2206  08A7  67          	ld	h,a
2207  08A8  7E          	ld	a, (hl)
2208  08A9  32 00 00    	ld	(_s_lin0),a
2209  08AC  3E 00       	ld	a, +((_col) & 0xFF)
2210  08AE  80          	add	a, b
2211  08AF  DD 77 FC    	ld	(ix-4),a
2212  08B2  3E 00       	ld	a, +((_col) / 256)
2213  08B4  CE 00       	adc	a,0x00
2214  08B6  DD 77 FD    	ld	(ix-3),a
2215  08B9  E1          	pop	hl
2216  08BA  7E          	ld	a,(hl)
2217  08BB  E5          	push	hl
2218  08BC  32 00 00    	ld	(_s_col0),a
2219  08BF  C5          	push	bc
2220  08C0  F5          	push	af
2221  08C1  33          	inc	sp
2222  08C2  3A 00 00    	ld	a,(_s_lin0)
2223  08C5  F5          	push	af
2224  08C6  33          	inc	sp
2225  08C7  CD 00 00    	call	_spr_calc_index
2226  08CA  F1          	pop	af
2227  08CB  EB          	ex	de,hl
2228  08CC  C1          	pop	bc
2229  08CD  EB          	ex	de,hl
2230  08CE  22 00 00    	ld	(_index0),hl
2231  08D1  C5          	push	bc
2232  08D2  E5          	push	hl
2233  08D3  CD 00 00    	call	_game_match_back
2234  08D6  F1          	pop	af
2235  08D7  C1          	pop	bc
2236  08D8  7D          	ld	a,l
2237  08D9  32 00 00    	ld	(_s_tile0),a
2238  08DC  C5          	push	bc
2239  08DD  21 00 00    	ld	hl,0x0000
2240  08E0  E5          	push	hl
2241  08E1  48          	ld	c,b
2242  08E2  47          	ld	b,a
2243  08E3  C5          	push	bc
2244  08E4  CD 00 00    	call	_NIRVANAP_spriteT_callee
2245  08E7  CD 9B 0B    	call	_spr_back_repaint
2246  08EA  C1          	pop	bc
2247  08EB  3E 00       	ld	a, +((_tile) & 0xFF)
2248  08ED  80          	add	a, b
2249  08EE  5F          	ld	e, a
2250  08EF  3E 00       	ld	a, +((_tile) / 256)
2251  08F1  CE 00       	adc	a,0x00
2252  08F3  E1          	pop	hl
2253  08F4  57          	ld	d,a
2254  08F5  3A 00 00    	ld	a,(_s_tile0)
2255  08F8  12          	ld	(de),a
2256  08F9  E5          	push	hl
2257  08FA  36 00       	ld	(hl),0x00
2258  08FC  DD 6E FE    	ld	l,(ix-2)
2259  08FF  DD 66 FF    	ld	h,(ix-1)
2260  0902  36 00       	ld	(hl),0x00
2261  0904  11 00 00    	ld	de,_class+0
2262  0907  68          	ld	l,b
2263  0908  26 00       	ld	h,0x00
2264  090A  19          	add	hl, de
2265  090B  36 00       	ld	(hl),0x00
2266  090D  11 00 00    	ld	de,_state+0
2267  0910  68          	ld	l,b
2268  0911  26 00       	ld	h,0x00
2269  0913  19          	add	hl, de
2270  0914  36 00       	ld	(hl),0x00
2271  0916  11 00 00    	ld	de,_state_a+0
2272  0919  68          	ld	l,b
2273  091A  26 00       	ld	h,0x00
2274  091C  19          	add	hl, de
2275  091D  36 00       	ld	(hl),0x00
2276  091F  DD F9       	ld	sp, ix
2277  0921  DD E1       	pop	ix
2278  0923  C9          	ret
2279  0924              	SECTION code_compiler
2280  0924              ;	---------------------------------
2281  0924              ; Function spr_tile
2282  0924              ; ---------------------------------
2283  0924              _spr_tile:
2284  0924  45          	ld	b,l
2285  0925  11 00 00    	ld	de,_class+0
2286  0928  26 00       	ld	h,0x00
2287  092A  19          	add	hl, de
2288  092B  5E          	ld	e, (hl)
2289  092C  3E 13       	ld	a,0x13
2290  092E  93          	sub	a, e
2291  092F  DA 62 0A    	jp	C, l_spr_tile_00116
2292  0932  16 00       	ld	d,0x00
2293  0934  21 3B 09    	ld	hl,l_spr_tile_00123
2294  0937  19          	add	hl, de
2295  0938  19          	add	hl, de
2296  0939  19          	add	hl, de
2297  093A  E9          	jp	(hl)
2298  093B              l_spr_tile_00123:
2299  093B  C3 62 0A    	jp	l_spr_tile_00116
2300  093E  C3 62 0A    	jp	l_spr_tile_00116
2301  0941  C3 C9 09    	jp	l_spr_tile_00106
2302  0944  C3 DA 09    	jp	l_spr_tile_00107
2303  0947  C3 EA 09    	jp	l_spr_tile_00108
2304  094A  C3 F9 09    	jp	l_spr_tile_00109
2305  094D  C3 35 0A    	jp	l_spr_tile_00113
2306  0950  C3 44 0A    	jp	l_spr_tile_00114
2307  0953  C3 53 0A    	jp	l_spr_tile_00115
2308  0956  C3 62 0A    	jp	l_spr_tile_00116
2309  0959  C3 62 0A    	jp	l_spr_tile_00116
2310  095C  C3 77 09    	jp	l_spr_tile_00101
2311  095F  C3 87 09    	jp	l_spr_tile_00102
2312  0962  C3 97 09    	jp	l_spr_tile_00103
2313  0965  C3 A8 09    	jp	l_spr_tile_00104
2314  0968  C3 B8 09    	jp	l_spr_tile_00105
2315  096B  C3 08 0A    	jp	l_spr_tile_00110
2316  096E  C3 62 0A    	jp	l_spr_tile_00116
2317  0971  C3 17 0A    	jp	l_spr_tile_00111
2318  0974  C3 26 0A    	jp	l_spr_tile_00112
2319  0977              l_spr_tile_00101:
2320  0977  AF          	xor	a, a
2321  0978  48          	ld	c,b
2322  0979  47          	ld	b,a
2323  097A  C5          	push	bc
2324  097B  3E 90       	ld	a,0x90
2325  097D  F5          	push	af
2326  097E  33          	inc	sp
2327  097F  CD 65 0A    	call	_spr_tile_dir
2328  0982  F1          	pop	af
2329  0983  33          	inc	sp
2330  0984  C3 64 0A    	jp	l_spr_tile_00117
2331  0987              l_spr_tile_00102:
2332  0987  AF          	xor	a, a
2333  0988  48          	ld	c,b
2334  0989  47          	ld	b,a
2335  098A  C5          	push	bc
2336  098B  3E 94       	ld	a,0x94
2337  098D  F5          	push	af
2338  098E  33          	inc	sp
2339  098F  CD 65 0A    	call	_spr_tile_dir
2340  0992  F1          	pop	af
2341  0993  33          	inc	sp
2342  0994  C3 64 0A    	jp	l_spr_tile_00117
2343  0997              l_spr_tile_00103:
2344  0997  3E 02       	ld	a,0x02
2345  0999  48          	ld	c,b
2346  099A  47          	ld	b,a
2347  099B  C5          	push	bc
2348  099C  3E 98       	ld	a,0x98
2349  099E  F5          	push	af
2350  099F  33          	inc	sp
2351  09A0  CD 65 0A    	call	_spr_tile_dir
2352  09A3  F1          	pop	af
2353  09A4  33          	inc	sp
2354  09A5  C3 64 0A    	jp	l_spr_tile_00117
2355  09A8              l_spr_tile_00104:
2356  09A8  AF          	xor	a, a
2357  09A9  48          	ld	c,b
2358  09AA  47          	ld	b,a
2359  09AB  C5          	push	bc
2360  09AC  3E 9C       	ld	a,0x9c
2361  09AE  F5          	push	af
2362  09AF  33          	inc	sp
2363  09B0  CD 65 0A    	call	_spr_tile_dir
2364  09B3  F1          	pop	af
2365  09B4  33          	inc	sp
2366  09B5  C3 64 0A    	jp	l_spr_tile_00117
2367  09B8              l_spr_tile_00105:
2368  09B8  3E 04       	ld	a,0x04
2369  09BA  48          	ld	c,b
2370  09BB  47          	ld	b,a
2371  09BC  C5          	push	bc
2372  09BD  3E A0       	ld	a,0xa0
2373  09BF  F5          	push	af
2374  09C0  33          	inc	sp
2375  09C1  CD 65 0A    	call	_spr_tile_dir
2376  09C4  F1          	pop	af
2377  09C5  33          	inc	sp
2378  09C6  C3 64 0A    	jp	l_spr_tile_00117
2379  09C9              l_spr_tile_00106:
2380  09C9  3E 02       	ld	a,0x02
2381  09CB  48          	ld	c,b
2382  09CC  47          	ld	b,a
2383  09CD  C5          	push	bc
2384  09CE  3E A8       	ld	a,0xa8
2385  09D0  F5          	push	af
2386  09D1  33          	inc	sp
2387  09D2  CD 65 0A    	call	_spr_tile_dir
2388  09D5  F1          	pop	af
2389  09D6  33          	inc	sp
2390  09D7  C3 64 0A    	jp	l_spr_tile_00117
2391  09DA              l_spr_tile_00107:
2392  09DA  AF          	xor	a, a
2393  09DB  48          	ld	c,b
2394  09DC  47          	ld	b,a
2395  09DD  C5          	push	bc
2396  09DE  3E AC       	ld	a,0xac
2397  09E0  F5          	push	af
2398  09E1  33          	inc	sp
2399  09E2  CD 65 0A    	call	_spr_tile_dir
2400  09E5  F1          	pop	af
2401  09E6  33          	inc	sp
2402  09E7  C3 64 0A    	jp	l_spr_tile_00117
2403  09EA              l_spr_tile_00108:
2404  09EA  AF          	xor	a, a
2405  09EB  48          	ld	c,b
2406  09EC  47          	ld	b,a
2407  09ED  C5          	push	bc
2408  09EE  3E AE       	ld	a,0xae
2409  09F0  F5          	push	af
2410  09F1  33          	inc	sp
2411  09F2  CD 65 0A    	call	_spr_tile_dir
2412  09F5  F1          	pop	af
2413  09F6  33          	inc	sp
2414  09F7  18 6B       	jr	l_spr_tile_00117
2415  09F9              l_spr_tile_00109:
2416  09F9  AF          	xor	a, a
2417  09FA  48          	ld	c,b
2418  09FB  47          	ld	b,a
2419  09FC  C5          	push	bc
2420  09FD  3E B0       	ld	a,0xb0
2421  09FF  F5          	push	af
2422  0A00  33          	inc	sp
2423  0A01  CD 65 0A    	call	_spr_tile_dir
2424  0A04  F1          	pop	af
2425  0A05  33          	inc	sp
2426  0A06  18 5C       	jr	l_spr_tile_00117
2427  0A08              l_spr_tile_00110:
2428  0A08  AF          	xor	a, a
2429  0A09  48          	ld	c,b
2430  0A0A  47          	ld	b,a
2431  0A0B  C5          	push	bc
2432  0A0C  3E B2       	ld	a,0xb2
2433  0A0E  F5          	push	af
2434  0A0F  33          	inc	sp
2435  0A10  CD 65 0A    	call	_spr_tile_dir
2436  0A13  F1          	pop	af
2437  0A14  33          	inc	sp
2438  0A15  18 4D       	jr	l_spr_tile_00117
2439  0A17              l_spr_tile_00111:
2440  0A17  AF          	xor	a, a
2441  0A18  48          	ld	c,b
2442  0A19  47          	ld	b,a
2443  0A1A  C5          	push	bc
2444  0A1B  3E B4       	ld	a,0xb4
2445  0A1D  F5          	push	af
2446  0A1E  33          	inc	sp
2447  0A1F  CD 65 0A    	call	_spr_tile_dir
2448  0A22  F1          	pop	af
2449  0A23  33          	inc	sp
2450  0A24  18 3E       	jr	l_spr_tile_00117
2451  0A26              l_spr_tile_00112:
2452  0A26  AF          	xor	a, a
2453  0A27  48          	ld	c,b
2454  0A28  47          	ld	b,a
2455  0A29  C5          	push	bc
2456  0A2A  3E B6       	ld	a,0xb6
2457  0A2C  F5          	push	af
2458  0A2D  33          	inc	sp
2459  0A2E  CD 65 0A    	call	_spr_tile_dir
2460  0A31  F1          	pop	af
2461  0A32  33          	inc	sp
2462  0A33  18 2F       	jr	l_spr_tile_00117
2463  0A35              l_spr_tile_00113:
2464  0A35  AF          	xor	a, a
2465  0A36  48          	ld	c,b
2466  0A37  47          	ld	b,a
2467  0A38  C5          	push	bc
2468  0A39  3E C0       	ld	a,0xc0
2469  0A3B  F5          	push	af
2470  0A3C  33          	inc	sp
2471  0A3D  CD 65 0A    	call	_spr_tile_dir
2472  0A40  F1          	pop	af
2473  0A41  33          	inc	sp
2474  0A42  18 20       	jr	l_spr_tile_00117
2475  0A44              l_spr_tile_00114:
2476  0A44  AF          	xor	a, a
2477  0A45  48          	ld	c,b
2478  0A46  47          	ld	b,a
2479  0A47  C5          	push	bc
2480  0A48  3E C2       	ld	a,0xc2
2481  0A4A  F5          	push	af
2482  0A4B  33          	inc	sp
2483  0A4C  CD 65 0A    	call	_spr_tile_dir
2484  0A4F  F1          	pop	af
2485  0A50  33          	inc	sp
2486  0A51  18 11       	jr	l_spr_tile_00117
2487  0A53              l_spr_tile_00115:
2488  0A53  AF          	xor	a, a
2489  0A54  48          	ld	c,b
2490  0A55  47          	ld	b,a
2491  0A56  C5          	push	bc
2492  0A57  3E C4       	ld	a,0xc4
2493  0A59  F5          	push	af
2494  0A5A  33          	inc	sp
2495  0A5B  CD 65 0A    	call	_spr_tile_dir
2496  0A5E  F1          	pop	af
2497  0A5F  33          	inc	sp
2498  0A60  18 02       	jr	l_spr_tile_00117
2499  0A62              l_spr_tile_00116:
2500  0A62  2E 00       	ld	l,0x00
2501  0A64              l_spr_tile_00117:
2502  0A64  C9          	ret
2503  0A65              	SECTION code_compiler
2504  0A65              ;	---------------------------------
2505  0A65              ; Function spr_tile_dir
2506  0A65              ; ---------------------------------
2507  0A65              _spr_tile_dir:
2508  0A65  CD 00 00    	call	___sdcc_enter_ix
2509  0A68  3E 00       	ld	a, +((_state) & 0xFF)
2510  0A6A  DD 86 05    	add	a,(ix+5)
2511  0A6D  4F          	ld	c, a
2512  0A6E  3E 00       	ld	a, +((_state) / 256)
2513  0A70  CE 00       	adc	a,0x00
2514  0A72  47          	ld	b, a
2515  0A73  0A          	ld	a, (bc)
2516  0A74  4F          	ld	c,a
2517  0A75  CB 57       	bit	2,a
2518  0A77  28 05       	jr	Z,l_spr_tile_dir_00102
2519  0A79  DD 6E 04    	ld	l,(ix+4)
2520  0A7C  18 2D       	jr	l_spr_tile_dir_00109
2521  0A7E              l_spr_tile_dir_00102:
2522  0A7E  DD 7E 04    	ld	a,(ix+4)
2523  0A81  DD 86 06    	add	a,(ix+6)
2524  0A84  47          	ld	b, a
2525  0A85  CB 59       	bit	3, c
2526  0A87  28 03       	jr	Z,l_spr_tile_dir_00104
2527  0A89  68          	ld	l, b
2528  0A8A  18 1F       	jr	l_spr_tile_dir_00109
2529  0A8C              l_spr_tile_dir_00104:
2530  0A8C  3E 00       	ld	a, +((_state_a) & 0xFF)
2531  0A8E  DD 86 05    	add	a,(ix+5)
2532  0A91  5F          	ld	e, a
2533  0A92  3E 00       	ld	a, +((_state_a) / 256)
2534  0A94  CE 00       	adc	a,0x00
2535  0A96  57          	ld	d, a
2536  0A97  1A          	ld	a, (de)
2537  0A98  CB 67       	bit	4, a
2538  0A9A  28 05       	jr	Z,l_spr_tile_dir_00106
2539  0A9C  DD 6E 04    	ld	l,(ix+4)
2540  0A9F  18 0A       	jr	l_spr_tile_dir_00109
2541  0AA1              l_spr_tile_dir_00106:
2542  0AA1  CB 5F       	bit	3, a
2543  0AA3  28 03       	jr	Z,l_spr_tile_dir_00108
2544  0AA5  68          	ld	l, b
2545  0AA6  18 03       	jr	l_spr_tile_dir_00109
2546  0AA8              l_spr_tile_dir_00108:
2547  0AA8  DD 6E 04    	ld	l,(ix+4)
2548  0AAB              l_spr_tile_dir_00109:
2549  0AAB  DD E1       	pop	ix
2550  0AAD  C9          	ret
2551  0AAE              	SECTION code_compiler
2552  0AAE              ;	---------------------------------
2553  0AAE              ; Function spr_brick_anim
2554  0AAE              ; ---------------------------------
2555  0AAE              _spr_brick_anim:
2556  0AAE  CD 00 00    	call	___sdcc_enter_ix
2557  0AB1  F5          	push	af
2558  0AB2  DD 75 FF    	ld	(ix-1),l
2559  0AB5  21 00 00    	ld	hl,_player_hit_col
2560  0AB8  46          	ld	b, (hl)
2561  0AB9  21 00 00    	ld	hl,_player_hit_lin
2562  0ABC  4E          	ld	c, (hl)
2563  0ABD  C5          	push	bc
2564  0ABE  C5          	push	bc
2565  0ABF  CD 00 00    	call	_spr_calc_index
2566  0AC2  F1          	pop	af
2567  0AC3  C1          	pop	bc
2568  0AC4  22 00 00    	ld	(_index1),hl
2569  0AC7  11 F0 FF    	ld	de,0xfff0
2570  0ACA  19          	add	hl,de
2571  0ACB  11 00 00    	ld	de,_scr_map
2572  0ACE  19          	add	hl, de
2573  0ACF  7E          	ld	a, (hl)
2574  0AD0  DD 77 FE    	ld	(ix-2),a
2575  0AD3  11 00 00    	ld	de,_scr_map
2576  0AD6  2A 00 00    	ld	hl,(_index1)
2577  0AD9  19          	add	hl,de
2578  0ADA  66          	ld	h, (hl)
2579  0ADB  EB          	ex	de,hl
2580  0ADC  DD 7E FF    	ld	a,(ix-1)
2581  0ADF  B7          	or	a, a
2582  0AE0  28 08       	jr	Z,l_spr_brick_anim_00102
2583  0AE2  79          	ld	a, c
2584  0AE3  C6 F6       	add	a,0xf6
2585  0AE5  32 00 00    	ld	(_tmp),a
2586  0AE8  18 06       	jr	l_spr_brick_anim_00103
2587  0AEA              l_spr_brick_anim_00102:
2588  0AEA  79          	ld	a, c
2589  0AEB  C6 F8       	add	a,0xf8
2590  0AED  32 00 00    	ld	(_tmp),a
2591  0AF0              l_spr_brick_anim_00103:
2592  0AF0  F3          	di
2593  0AF1  DD 7E FF    	ld	a,(ix-1)
2594  0AF4  B7          	or	a, a
2595  0AF5  28 18       	jr	Z,l_spr_brick_anim_00105
2596  0AF7  3A 00 00    	ld	a,(_map_paper_clr)
2597  0AFA  C5          	push	bc
2598  0AFB  D5          	push	de
2599  0AFC  C5          	push	bc
2600  0AFD  F5          	push	af
2601  0AFE  33          	inc	sp
2602  0AFF  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2603  0B02  D1          	pop	de
2604  0B03  33          	inc	sp
2605  0B04  3A 00 00    	ld	a,(_tmp)
2606  0B07  5A          	ld	e,d
2607  0B08  57          	ld	d,a
2608  0B09  D5          	push	de
2609  0B0A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2610  0B0D  18 1C       	jr	l_spr_brick_anim_00106
2611  0B0F              l_spr_brick_anim_00105:
2612  0B0F  3A 00 00    	ld	a,(_tmp)
2613  0B12  C6 F0       	add	a,0xf0
2614  0B14  C5          	push	bc
2615  0B15  D5          	push	de
2616  0B16  4F          	ld	c,a
2617  0B17  C5          	push	bc
2618  0B18  DD 7E FE    	ld	a,(ix-2)
2619  0B1B  F5          	push	af
2620  0B1C  33          	inc	sp
2621  0B1D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2622  0B20  D1          	pop	de
2623  0B21  33          	inc	sp
2624  0B22  3A 00 00    	ld	a,(_tmp)
2625  0B25  5A          	ld	e,d
2626  0B26  57          	ld	d,a
2627  0B27  D5          	push	de
2628  0B28  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2629  0B2B              l_spr_brick_anim_00106:
2630  0B2B  FB          	ei
2631  0B2C  F1          	pop	af
2632  0B2D  DD E1       	pop	ix
2633  0B2F  C9          	ret
2634  0B30              	SECTION code_compiler
2635  0B30              ;	---------------------------------
2636  0B30              ; Function spr_draw_index
2637  0B30              ; ---------------------------------
2638  0B30              _spr_draw_index:
2639  0B30  CD 00 00    	call	___sdcc_enter_ix
2640  0B33  DD 4E 04    	ld	c,(ix+4)
2641  0B36  79          	ld	a, c
2642  0B37  E6 0F       	and	a,0x0f
2643  0B39  87          	add	a, a
2644  0B3A  32 00 00    	ld	(_s_col1),a
2645  0B3D  21 00 00    	ld	hl,_s_lin1
2646  0B40  71          	ld	(hl),c
2647  0B41  79          	ld	a,c
2648  0B42  07          	rlca
2649  0B43  07          	rlca
2650  0B44  07          	rlca
2651  0B45  07          	rlca
2652  0B46  E6 0F       	and	a,0x0f
2653  0B48  07          	rlca
2654  0B49  07          	rlca
2655  0B4A  07          	rlca
2656  0B4B  07          	rlca
2657  0B4C  E6 F0       	and	a,0xf0
2658  0B4E  77          	ld	(hl), a
2659  0B4F  F3          	di
2660  0B50  3E 00       	ld	a, +((_scr_map) & 0xFF)
2661  0B52  DD 86 04    	add	a,(ix+4)
2662  0B55  4F          	ld	c, a
2663  0B56  3E 00       	ld	a, +((_scr_map) / 256)
2664  0B58  DD 8E 05    	adc	a,(ix+5)
2665  0B5B  47          	ld	b, a
2666  0B5C  0A          	ld	a, (bc)
2667  0B5D  47          	ld	b, a
2668  0B5E  3A 00 00    	ld	a,(_s_col1)
2669  0B61  F5          	push	af
2670  0B62  33          	inc	sp
2671  0B63  3A 00 00    	ld	a,(_s_lin1)
2672  0B66  48          	ld	c,b
2673  0B67  47          	ld	b,a
2674  0B68  C5          	push	bc
2675  0B69  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2676  0B6C  FB          	ei
2677  0B6D  DD E1       	pop	ix
2678  0B6F  C9          	ret
2679  0B70              	SECTION code_compiler
2680  0B70              ;	---------------------------------
2681  0B70              ; Function spr_calc_hor
2682  0B70              ; ---------------------------------
2683  0B70              _spr_calc_hor:
2684  0B70  CD 00 00    	call	___sdcc_enter_ix
2685  0B73  3E 00       	ld	a, +((_col) & 0xFF)
2686  0B75  DD 86 04    	add	a,(ix+4)
2687  0B78  4F          	ld	c, a
2688  0B79  3E 00       	ld	a, +((_col) / 256)
2689  0B7B  CE 00       	adc	a,0x00
2690  0B7D  47          	ld	b, a
2691  0B7E  0A          	ld	a, (bc)
2692  0B7F  5F          	ld	e, a
2693  0B80  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2694  0B82  DD 86 04    	add	a,(ix+4)
2695  0B85  4F          	ld	c, a
2696  0B86  3E 00       	ld	a, +((_sprite_frames) / 256)
2697  0B88  CE 00       	adc	a,0x00
2698  0B8A  47          	ld	b, a
2699  0B8B  0A          	ld	a, (bc)
2700  0B8C  67          	ld	h, a
2701  0B8D  2E 00       	ld	l,0x00
2702  0B8F  55          	ld	d, l
2703  0B90  06 08       	ld	b,0x08
2704  0B92              l_spr_calc_hor_00103:
2705  0B92  29          	add	hl, hl
2706  0B93  30 01       	jr	NC,l_spr_calc_hor_00104
2707  0B95  19          	add	hl, de
2708  0B96              l_spr_calc_hor_00104:
2709  0B96  10 FA       	djnz	l_spr_calc_hor_00103
2710  0B98  DD E1       	pop	ix
2711  0B9A  C9          	ret
2712  0B9B              	SECTION code_compiler
2713  0B9B              ;	---------------------------------
2714  0B9B              ; Function spr_back_repaint
2715  0B9B              ; ---------------------------------
2716  0B9B              _spr_back_repaint:
2717  0B9B  3A 00 00    	ld	a,(_spr_hack)
2718  0B9E  B7          	or	a, a
2719  0B9F  20 02       	jr	NZ,l_spr_back_repaint_00102
2720  0BA1  76          	halt
2721  0BA2  F3          	di
2722  0BA3              l_spr_back_repaint_00102:
2723  0BA3  2A FF FF    	ld	hl,(_s_col0 - 1)
2724  0BA6  3A 00 00    	ld	a,(_s_lin0)
2725  0BA9  6F          	ld	l,a
2726  0BAA  E5          	push	hl
2727  0BAB  CD 00 00    	call	_spr_calc_index
2728  0BAE  F1          	pop	af
2729  0BAF  7D          	ld	a,l
2730  0BB0  32 00 00    	ld	(_sprite_curr_index),a
2731  0BB3  21 00 00    	ld	hl,_s_lin0
2732  0BB6  7E          	ld	a, (hl)
2733  0BB7  E6 0F       	and	a,0x0f
2734  0BB9  4F          	ld	c, a
2735  0BBA  7E          	ld	a, (hl)
2736  0BBB  07          	rlca
2737  0BBC  07          	rlca
2738  0BBD  07          	rlca
2739  0BBE  07          	rlca
2740  0BBF  E6 0F       	and	a,0x0f
2741  0BC1  5F          	ld	e, a
2742  0BC2  21 00 00    	ld	hl,_s_col0
2743  0BC5  CB 46       	bit	0, (hl)
2744  0BC7  20 66       	jr	NZ,l_spr_back_repaint_00110
2745  0BC9  79          	ld	a, c
2746  0BCA  B7          	or	a, a
2747  0BCB  20 1D       	jr	NZ,l_spr_back_repaint_00104
2748  0BCD  2A 00 00    	ld	hl,(_sprite_curr_index)
2749  0BD0  26 00       	ld	h,0x00
2750  0BD2  01 00 00    	ld	bc,_scr_map
2751  0BD5  09          	add	hl,bc
2752  0BD6  46          	ld	b,(hl)
2753  0BD7  3A 00 00    	ld	a,(_s_col0)
2754  0BDA  F5          	push	af
2755  0BDB  33          	inc	sp
2756  0BDC  3A 00 00    	ld	a,(_s_lin0)
2757  0BDF  48          	ld	c,b
2758  0BE0  47          	ld	b,a
2759  0BE1  C5          	push	bc
2760  0BE2  CD F3 0C    	call	_spr_tile_paint
2761  0BE5  F1          	pop	af
2762  0BE6  33          	inc	sp
2763  0BE7  C3 EC 0C    	jp	l_spr_back_repaint_00111
2764  0BEA              l_spr_back_repaint_00104:
2765  0BEA  7B          	ld	a, e
2766  0BEB  07          	rlca
2767  0BEC  07          	rlca
2768  0BED  07          	rlca
2769  0BEE  07          	rlca
2770  0BEF  E6 F0       	and	a,0xf0
2771  0BF1  47          	ld	b, a
2772  0BF2  2A 00 00    	ld	hl,(_sprite_curr_index)
2773  0BF5  26 00       	ld	h,0x00
2774  0BF7  11 00 00    	ld	de,_scr_map
2775  0BFA  19          	add	hl,de
2776  0BFB  56          	ld	d, (hl)
2777  0BFC  3A 00 00    	ld	a,(_s_col0)
2778  0BFF  C5          	push	bc
2779  0C00  F5          	push	af
2780  0C01  33          	inc	sp
2781  0C02  4A          	ld	c, d
2782  0C03  C5          	push	bc
2783  0C04  CD F3 0C    	call	_spr_tile_paint
2784  0C07  F1          	pop	af
2785  0C08  33          	inc	sp
2786  0C09  C1          	pop	bc
2787  0C0A  78          	ld	a, b
2788  0C0B  C6 10       	add	a,0x10
2789  0C0D  57          	ld	d, a
2790  0C0E  21 00 00    	ld	hl,_sprite_curr_index
2791  0C11  7E          	ld	a, (hl)
2792  0C12  C6 10       	add	a,0x10
2793  0C14  77          	ld	(hl), a
2794  0C15  C6 00       	add	a,+((_scr_map) & 0xFF)
2795  0C17  4F          	ld	c, a
2796  0C18  3E 00       	ld	a, +((_scr_map) / 256)
2797  0C1A  CE 00       	adc	a,0x00
2798  0C1C  47          	ld	b, a
2799  0C1D  0A          	ld	a, (bc)
2800  0C1E  47          	ld	b, a
2801  0C1F  3A 00 00    	ld	a,(_s_col0)
2802  0C22  5A          	ld	e,d
2803  0C23  57          	ld	d,a
2804  0C24  D5          	push	de
2805  0C25  C5          	push	bc
2806  0C26  33          	inc	sp
2807  0C27  CD F3 0C    	call	_spr_tile_paint
2808  0C2A  F1          	pop	af
2809  0C2B  33          	inc	sp
2810  0C2C  C3 EC 0C    	jp	l_spr_back_repaint_00111
2811  0C2F              l_spr_back_repaint_00110:
2812  0C2F  21 00 00    	ld	hl,_s_col0
2813  0C32  46          	ld	b, (hl)
2814  0C33  05          	dec	b
2815  0C34  79          	ld	a, c
2816  0C35  B7          	or	a, a
2817  0C36  20 39       	jr	NZ,l_spr_back_repaint_00107
2818  0C38  2A 00 00    	ld	hl,(_sprite_curr_index)
2819  0C3B  26 00       	ld	h,0x00
2820  0C3D  11 00 00    	ld	de,_scr_map
2821  0C40  19          	add	hl,de
2822  0C41  56          	ld	d, (hl)
2823  0C42  C5          	push	bc
2824  0C43  33          	inc	sp
2825  0C44  3A 00 00    	ld	a,(_s_lin0)
2826  0C47  5A          	ld	e,d
2827  0C48  57          	ld	d,a
2828  0C49  D5          	push	de
2829  0C4A  CD F3 0C    	call	_spr_tile_paint
2830  0C4D  F1          	pop	af
2831  0C4E  33          	inc	sp
2832  0C4F  21 00 00    	ld	hl,_sprite_curr_index
2833  0C52  34          	inc	(hl)
2834  0C53  21 00 00    	ld	hl,_s_col0
2835  0C56  46          	ld	b, (hl)
2836  0C57  04          	inc	b
2837  0C58  2A 00 00    	ld	hl,(_sprite_curr_index)
2838  0C5B  26 00       	ld	h,0x00
2839  0C5D  11 00 00    	ld	de,_scr_map
2840  0C60  19          	add	hl,de
2841  0C61  56          	ld	d, (hl)
2842  0C62  C5          	push	bc
2843  0C63  33          	inc	sp
2844  0C64  3A 00 00    	ld	a,(_s_lin0)
2845  0C67  5A          	ld	e,d
2846  0C68  57          	ld	d,a
2847  0C69  D5          	push	de
2848  0C6A  CD F3 0C    	call	_spr_tile_paint
2849  0C6D  F1          	pop	af
2850  0C6E  33          	inc	sp
2851  0C6F  18 7B       	jr	l_spr_back_repaint_00111
2852  0C71              l_spr_back_repaint_00107:
2853  0C71  7B          	ld	a, e
2854  0C72  07          	rlca
2855  0C73  07          	rlca
2856  0C74  07          	rlca
2857  0C75  07          	rlca
2858  0C76  E6 F0       	and	a,0xf0
2859  0C78  4F          	ld	c, a
2860  0C79  2A 00 00    	ld	hl,(_sprite_curr_index)
2861  0C7C  26 00       	ld	h,0x00
2862  0C7E  11 00 00    	ld	de,_scr_map
2863  0C81  19          	add	hl,de
2864  0C82  66          	ld	h, (hl)
2865  0C83  EB          	ex	de,hl
2866  0C84  C5          	push	bc
2867  0C85  C5          	push	bc
2868  0C86  D5          	push	de
2869  0C87  33          	inc	sp
2870  0C88  CD F3 0C    	call	_spr_tile_paint
2871  0C8B  F1          	pop	af
2872  0C8C  33          	inc	sp
2873  0C8D  C1          	pop	bc
2874  0C8E  21 00 00    	ld	hl,_sprite_curr_index
2875  0C91  34          	inc	(hl)
2876  0C92  21 00 00    	ld	hl,_s_col0
2877  0C95  46          	ld	b, (hl)
2878  0C96  04          	inc	b
2879  0C97  2A 00 00    	ld	hl,(_sprite_curr_index)
2880  0C9A  26 00       	ld	h,0x00
2881  0C9C  11 00 00    	ld	de,_scr_map
2882  0C9F  19          	add	hl,de
2883  0CA0  66          	ld	h, (hl)
2884  0CA1  EB          	ex	de,hl
2885  0CA2  C5          	push	bc
2886  0CA3  C5          	push	bc
2887  0CA4  D5          	push	de
2888  0CA5  33          	inc	sp
2889  0CA6  CD F3 0C    	call	_spr_tile_paint
2890  0CA9  F1          	pop	af
2891  0CAA  33          	inc	sp
2892  0CAB  C1          	pop	bc
2893  0CAC  79          	ld	a, c
2894  0CAD  C6 10       	add	a,0x10
2895  0CAF  4F          	ld	c, a
2896  0CB0  21 00 00    	ld	hl,_sprite_curr_index
2897  0CB3  7E          	ld	a, (hl)
2898  0CB4  C6 0F       	add	a,0x0f
2899  0CB6  77          	ld	(hl), a
2900  0CB7  21 00 00    	ld	hl,_s_col0
2901  0CBA  46          	ld	b, (hl)
2902  0CBB  05          	dec	b
2903  0CBC  2A 00 00    	ld	hl,(_sprite_curr_index)
2904  0CBF  26 00       	ld	h,0x00
2905  0CC1  11 00 00    	ld	de,_scr_map
2906  0CC4  19          	add	hl,de
2907  0CC5  66          	ld	h, (hl)
2908  0CC6  EB          	ex	de,hl
2909  0CC7  C5          	push	bc
2910  0CC8  C5          	push	bc
2911  0CC9  D5          	push	de
2912  0CCA  33          	inc	sp
2913  0CCB  CD F3 0C    	call	_spr_tile_paint
2914  0CCE  F1          	pop	af
2915  0CCF  33          	inc	sp
2916  0CD0  C1          	pop	bc
2917  0CD1  21 00 00    	ld	hl,_sprite_curr_index
2918  0CD4  34          	inc	(hl)
2919  0CD5  21 00 00    	ld	hl,_s_col0
2920  0CD8  46          	ld	b, (hl)
2921  0CD9  04          	inc	b
2922  0CDA  2A 00 00    	ld	hl,(_sprite_curr_index)
2923  0CDD  26 00       	ld	h,0x00
2924  0CDF  11 00 00    	ld	de,_scr_map
2925  0CE2  19          	add	hl,de
2926  0CE3  66          	ld	h, (hl)
2927  0CE4  C5          	push	bc
2928  0CE5  E5          	push	hl
2929  0CE6  33          	inc	sp
2930  0CE7  CD F3 0C    	call	_spr_tile_paint
2931  0CEA  F1          	pop	af
2932  0CEB  33          	inc	sp
2933  0CEC              l_spr_back_repaint_00111:
2934  0CEC  3A 00 00    	ld	a,(_spr_hack)
2935  0CEF  B7          	or	a, a
2936  0CF0  C0          	ret	NZ
2937  0CF1  FB          	ei
2938  0CF2  C9          	ret
2939  0CF3              	SECTION code_compiler
2940  0CF3              ;	---------------------------------
2941  0CF3              ; Function spr_tile_paint
2942  0CF3              ; ---------------------------------
2943  0CF3              _spr_tile_paint:
2944  0CF3  CD 00 00    	call	___sdcc_enter_ix
2945  0CF6  DD 7E 04    	ld	a,(ix+4)
2946  0CF9  B7          	or	a, a
2947  0CFA  28 05       	jr	Z,l_spr_tile_paint_00101
2948  0CFC  3C          	inc	a
2949  0CFD  28 22       	jr	Z,l_spr_tile_paint_00105
2950  0CFF  18 11       	jr	l_spr_tile_paint_00103
2951  0D01              l_spr_tile_paint_00101:
2952  0D01  DD 66 06    	ld	h,(ix+6)
2953  0D04  DD 6E 05    	ld	l,(ix+5)
2954  0D07  3A 00 00    	ld	a,(_map_paper_clr)
2955  0D0A  E5          	push	hl
2956  0D0B  F5          	push	af
2957  0D0C  33          	inc	sp
2958  0D0D  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2959  0D10  18 0F       	jr	l_spr_tile_paint_00105
2960  0D12              l_spr_tile_paint_00103:
2961  0D12  DD 66 06    	ld	h,(ix+6)
2962  0D15  DD 6E 05    	ld	l,(ix+5)
2963  0D18  E5          	push	hl
2964  0D19  DD 7E 04    	ld	a,(ix+4)
2965  0D1C  F5          	push	af
2966  0D1D  33          	inc	sp
2967  0D1E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2968  0D21              l_spr_tile_paint_00105:
2969  0D21  DD E1       	pop	ix
2970  0D23  C9          	ret
2971  0D24              	SECTION code_compiler
2972  0D24              ;	---------------------------------
2973  0D24              ; Function spr_init_anim_bullets
2974  0D24              ; ---------------------------------
2975  0D24              _spr_init_anim_bullets:
2976  0D24  01 00 00    	ld	bc,_anim_lin+0
2977  0D27  1E 00       	ld	e,0x00
2978  0D29              l_spr_init_anim_bullets_00102:
2979  0D29  6B          	ld	l,e
2980  0D2A  26 00       	ld	h,0x00
2981  0D2C  09          	add	hl, bc
2982  0D2D  36 FF       	ld	(hl),0xff
2983  0D2F  16 00       	ld	d,0x00
2984  0D31  21 00 00    	ld	hl,_bullet_col
2985  0D34  19          	add	hl, de
2986  0D35  36 FF       	ld	(hl),0xff
2987  0D37  1C          	inc	e
2988  0D38  7B          	ld	a, e
2989  0D39  D6 08       	sub	a,0x08
2990  0D3B  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2991  0D3D  21 00 00    	ld	hl,_bullet_count
2992  0D40  36 00       	ld	(hl),0x00
2993  0D42  21 00 00    	ld	hl,_anim_count
2994  0D45  36 00       	ld	(hl),0x00
2995  0D47  C9          	ret
2996  0D48              	SECTION code_compiler
2997  0D48              ;	---------------------------------
2998  0D48              ; Function spr_add_anim
2999  0D48              ; ---------------------------------
3000  0D48              _spr_add_anim:
3001  0D48  CD 00 00    	call	___sdcc_enter_ix
3002  0D4B  F5          	push	af
3003  0D4C  F5          	push	af
3004  0D4D  3B          	dec	sp
3005  0D4E  DD 7E 05    	ld	a,(ix+5)
3006  0D51  D6 1F       	sub	a,0x1f
3007  0D53  D2 12 0E    	jp	NC, l_spr_add_anim_00111
3008  0D56  DD 7E 04    	ld	a,(ix+4)
3009  0D59  D6 B8       	sub	a,0xb8
3010  0D5B  D2 12 0E    	jp	NC, l_spr_add_anim_00111
3011  0D5E  0E 00       	ld	c,0x00
3012  0D60  DD 71 FF    	ld	(ix-1),c
3013  0D63              l_spr_add_anim_00109:
3014  0D63  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3015  0D65  81          	add	a, c
3016  0D66  5F          	ld	e, a
3017  0D67  3E 00       	ld	a, +((_anim_lin) / 256)
3018  0D69  CE 00       	adc	a,0x00
3019  0D6B  57          	ld	d, a
3020  0D6C  1A          	ld	a, (de)
3021  0D6D  3C          	inc	a
3022  0D6E  C2 08 0E    	jp	NZ,l_spr_add_anim_00110
3023  0D71  21 00 00    	ld	hl,_anim_count
3024  0D74  34          	inc	(hl)
3025  0D75  DD 7E 04    	ld	a,(ix+4)
3026  0D78  12          	ld	(de), a
3027  0D79  01 00 00    	ld	bc,_anim_col
3028  0D7C  DD 6E FF    	ld	l,(ix-1)
3029  0D7F  26 00       	ld	h,0x00
3030  0D81  09          	add	hl,bc
3031  0D82  DD 75 FD    	ld	(ix-3),l
3032  0D85  DD 74 FE    	ld	(ix-2),h
3033  0D88  DD 7E 05    	ld	a,(ix+5)
3034  0D8B  77          	ld	(hl), a
3035  0D8C  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3036  0D8E  DD 86 FF    	add	a,(ix-1)
3037  0D91  DD 77 FB    	ld	(ix-5),a
3038  0D94  3E 00       	ld	a, +((_anim_tile) / 256)
3039  0D96  CE 00       	adc	a,0x00
3040  0D98  DD 77 FC    	ld	(ix-4),a
3041  0D9B  E1          	pop	hl
3042  0D9C  E5          	push	hl
3043  0D9D  DD 7E 06    	ld	a,(ix+6)
3044  0DA0  77          	ld	(hl), a
3045  0DA1  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3046  0DA3  DD 86 FF    	add	a,(ix-1)
3047  0DA6  4F          	ld	c, a
3048  0DA7  3E 00       	ld	a, +((_anim_loop) / 256)
3049  0DA9  CE 00       	adc	a,0x00
3050  0DAB  47          	ld	b, a
3051  0DAC  DD 7E 08    	ld	a,(ix+8)
3052  0DAF  02          	ld	(bc), a
3053  0DB0  01 00 00    	ld	bc,_anim_int+0
3054  0DB3  DD 6E FF    	ld	l,(ix-1)
3055  0DB6  26 00       	ld	h,0x00
3056  0DB8  09          	add	hl, bc
3057  0DB9  36 00       	ld	(hl),0x00
3058  0DBB  3E 00       	ld	a, +((_anim_end) & 0xFF)
3059  0DBD  DD 86 FF    	add	a,(ix-1)
3060  0DC0  4F          	ld	c, a
3061  0DC1  3E 00       	ld	a, +((_anim_end) / 256)
3062  0DC3  CE 00       	adc	a,0x00
3063  0DC5  47          	ld	b, a
3064  0DC6  DD 7E 07    	ld	a,(ix+7)
3065  0DC9  02          	ld	(bc), a
3066  0DCA  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3067  0DCC  DD 86 FF    	add	a,(ix-1)
3068  0DCF  4F          	ld	c, a
3069  0DD0  3E 00       	ld	a, +((_anim_respanwn) / 256)
3070  0DD2  CE 00       	adc	a,0x00
3071  0DD4  47          	ld	b, a
3072  0DD5  DD 7E 09    	ld	a,(ix+9)
3073  0DD8  02          	ld	(bc), a
3074  0DD9  F3          	di
3075  0DDA  DD 6E FD    	ld	l,(ix-3)
3076  0DDD  DD 66 FE    	ld	h,(ix-2)
3077  0DE0  46          	ld	b, (hl)
3078  0DE1  E1          	pop	hl
3079  0DE2  1A          	ld	a,(de)
3080  0DE3  56          	ld	d,(hl)
3081  0DE4  E5          	push	hl
3082  0DE5  C5          	push	bc
3083  0DE6  33          	inc	sp
3084  0DE7  5A          	ld	e,d
3085  0DE8  57          	ld	d,a
3086  0DE9  D5          	push	de
3087  0DEA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3088  0DED  FB          	ei
3089  0DEE  DD 66 05    	ld	h,(ix+5)
3090  0DF1  DD 6E 04    	ld	l,(ix+4)
3091  0DF4  E5          	push	hl
3092  0DF5  CD 00 00    	call	_spr_calc_index
3093  0DF8  F1          	pop	af
3094  0DF9  22 00 00    	ld	(_index0),hl
3095  0DFC  01 00 00    	ld	bc,_scr_map
3096  0DFF  09          	add	hl,bc
3097  0E00  7E          	ld	a,(hl)
3098  0E01  B7          	or	a,a
3099  0E02  20 0E       	jr	NZ,l_spr_add_anim_00111
3100  0E04  36 FF       	ld	(hl),0xff
3101  0E06  18 0A       	jr	l_spr_add_anim_00111
3102  0E08              l_spr_add_anim_00110:
3103  0E08  0C          	inc	c
3104  0E09  DD 71 FF    	ld	(ix-1),c
3105  0E0C  79          	ld	a, c
3106  0E0D  D6 08       	sub	a,0x08
3107  0E0F  DA 63 0D    	jp	C, l_spr_add_anim_00109
3108  0E12              l_spr_add_anim_00111:
3109  0E12  DD F9       	ld	sp, ix
3110  0E14  DD E1       	pop	ix
3111  0E16  C9          	ret
3112  0E17              	SECTION code_compiler
3113  0E17              ;	---------------------------------
3114  0E17              ; Function spr_play_anim
3115  0E17              ; ---------------------------------
3116  0E17              _spr_play_anim:
3117  0E17  CD 00 00    	call	___sdcc_enter_ix
3118  0E1A  F5          	push	af
3119  0E1B  F5          	push	af
3120  0E1C  F5          	push	af
3121  0E1D  3B          	dec	sp
3122  0E1E  DD 36 F9 00 	ld	(ix-7),0x00
3123  0E22              l_spr_play_anim_00114:
3124  0E22  01 00 00    	ld	bc,_anim_lin
3125  0E25  DD 6E F9    	ld	l,(ix-7)
3126  0E28  26 00       	ld	h,0x00
3127  0E2A  09          	add	hl,bc
3128  0E2B  DD 75 FE    	ld	(ix-2),l
3129  0E2E  DD 74 FF    	ld	(ix-1),h
3130  0E31  4E          	ld	c, (hl)
3131  0E32  0C          	inc	c
3132  0E33  CA 3C 0F    	jp	Z,l_spr_play_anim_00115
3133  0E36  21 01 00    	ld	hl,0x0001
3134  0E39  CD 00 00    	call	_z80_delay_ms_fastcall
3135  0E3C  01 00 00    	ld	bc,_anim_int
3136  0E3F  DD 6E F9    	ld	l,(ix-7)
3137  0E42  26 00       	ld	h,0x00
3138  0E44  09          	add	hl,bc
3139  0E45  DD 75 FC    	ld	(ix-4),l
3140  0E48  DD 74 FD    	ld	(ix-3),h
3141  0E4B  4E          	ld	c, (hl)
3142  0E4C  3E 00       	ld	a, +((_anim_end) & 0xFF)
3143  0E4E  DD 86 F9    	add	a,(ix-7)
3144  0E51  6F          	ld	l, a
3145  0E52  3E 00       	ld	a, +((_anim_end) / 256)
3146  0E54  CE 00       	adc	a,0x00
3147  0E56  67          	ld	h, a
3148  0E57  46          	ld	b, (hl)
3149  0E58  79          	ld	a, c
3150  0E59  90          	sub	a, b
3151  0E5A  30 3D       	jr	NC,l_spr_play_anim_00109
3152  0E5C  F3          	di
3153  0E5D  3E 00       	ld	a, +((_anim_col) & 0xFF)
3154  0E5F  DD 86 F9    	add	a,(ix-7)
3155  0E62  6F          	ld	l, a
3156  0E63  3E 00       	ld	a, +((_anim_col) / 256)
3157  0E65  CE 00       	adc	a,0x00
3158  0E67  67          	ld	h, a
3159  0E68  56          	ld	d, (hl)
3160  0E69  DD 6E FE    	ld	l,(ix-2)
3161  0E6C  DD 66 FF    	ld	h,(ix-1)
3162  0E6F  46          	ld	b, (hl)
3163  0E70  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3164  0E72  DD 86 F9    	add	a,(ix-7)
3165  0E75  6F          	ld	l, a
3166  0E76  3E 00       	ld	a, +((_anim_tile) / 256)
3167  0E78  CE 00       	adc	a,0x00
3168  0E7A  67          	ld	h, a
3169  0E7B  4E          	ld	c, (hl)
3170  0E7C  DD 6E FC    	ld	l,(ix-4)
3171  0E7F  DD 66 FD    	ld	h,(ix-3)
3172  0E82  5E          	ld	e, (hl)
3173  0E83  79          	ld	a, c
3174  0E84  83          	add	a, e
3175  0E85  58          	ld	e,b
3176  0E86  D5          	push	de
3177  0E87  F5          	push	af
3178  0E88  33          	inc	sp
3179  0E89  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3180  0E8C  FB          	ei
3181  0E8D  DD 6E FC    	ld	l,(ix-4)
3182  0E90  DD 66 FD    	ld	h,(ix-3)
3183  0E93  4E          	ld	c,(hl)
3184  0E94  0C          	inc	c
3185  0E95  71          	ld	(hl), c
3186  0E96  C3 3C 0F    	jp	l_spr_play_anim_00115
3187  0E99              l_spr_play_anim_00109:
3188  0E99  01 00 00    	ld	bc,_anim_loop
3189  0E9C  DD 6E F9    	ld	l,(ix-7)
3190  0E9F  26 00       	ld	h,0x00
3191  0EA1  09          	add	hl,bc
3192  0EA2  DD 75 FA    	ld	(ix-6),l
3193  0EA5  DD 74 FB    	ld	(ix-5),h
3194  0EA8  7E          	ld	a,(hl)
3195  0EA9  4F          	ld	c,a
3196  0EAA  B7          	or	a, a
3197  0EAB  C2 2C 0F    	jp	NZ, l_spr_play_anim_00106
3198  0EAE  21 00 00    	ld	hl,_anim_count
3199  0EB1  35          	dec	(hl)
3200  0EB2  3E 00       	ld	a, +((_anim_col) & 0xFF)
3201  0EB4  DD 86 F9    	add	a,(ix-7)
3202  0EB7  6F          	ld	l, a
3203  0EB8  3E 00       	ld	a, +((_anim_col) / 256)
3204  0EBA  CE 00       	adc	a,0x00
3205  0EBC  67          	ld	h, a
3206  0EBD  7E          	ld	a, (hl)
3207  0EBE  32 00 00    	ld	(_s_col0),a
3208  0EC1  DD 6E FE    	ld	l,(ix-2)
3209  0EC4  DD 66 FF    	ld	h,(ix-1)
3210  0EC7  7E          	ld	a, (hl)
3211  0EC8  32 00 00    	ld	(_s_lin0),a
3212  0ECB  2A FF FF    	ld	hl,(_s_col0 - 1)
3213  0ECE  6F          	ld	l,a
3214  0ECF  E5          	push	hl
3215  0ED0  CD 00 00    	call	_spr_calc_index
3216  0ED3  F1          	pop	af
3217  0ED4  2A FF FF    	ld	hl,(_s_col0 - 1)
3218  0ED7  3A 00 00    	ld	a,(_s_lin0)
3219  0EDA  6F          	ld	l,a
3220  0EDB  E5          	push	hl
3221  0EDC  CD 00 00    	call	_spr_calc_index
3222  0EDF  F1          	pop	af
3223  0EE0  01 00 00    	ld	bc,_scr_map
3224  0EE3  09          	add	hl,bc
3225  0EE4  4E          	ld	c, (hl)
3226  0EE5  0C          	inc	c
3227  0EE6  20 1F       	jr	NZ,l_spr_play_anim_00102
3228  0EE8  2A FF FF    	ld	hl,(_s_col0 - 1)
3229  0EEB  3A 00 00    	ld	a,(_s_lin0)
3230  0EEE  6F          	ld	l,a
3231  0EEF  E5          	push	hl
3232  0EF0  CD 00 00    	call	_spr_calc_index
3233  0EF3  F1          	pop	af
3234  0EF4  22 00 00    	ld	(_index0),hl
3235  0EF7  01 00 00    	ld	bc,_scr_map
3236  0EFA  09          	add	hl,bc
3237  0EFB  E5          	push	hl
3238  0EFC  2A 00 00    	ld	hl,(_index0)
3239  0EFF  E5          	push	hl
3240  0F00  CD 00 00    	call	_game_match_back
3241  0F03  F1          	pop	af
3242  0F04  C1          	pop	bc
3243  0F05  7D          	ld	a,l
3244  0F06  02          	ld	(bc), a
3245  0F07              l_spr_play_anim_00102:
3246  0F07  CD 9B 0B    	call	_spr_back_repaint
3247  0F0A  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3248  0F0C  DD 86 F9    	add	a,(ix-7)
3249  0F0F  4F          	ld	c, a
3250  0F10  3E 00       	ld	a, +((_anim_respanwn) / 256)
3251  0F12  CE 00       	adc	a,0x00
3252  0F14  47          	ld	b, a
3253  0F15  0A          	ld	a, (bc)
3254  0F16  B7          	or	a, a
3255  0F17  28 09       	jr	Z,l_spr_play_anim_00104
3256  0F19  DD 7E F9    	ld	a,(ix-7)
3257  0F1C  F5          	push	af
3258  0F1D  33          	inc	sp
3259  0F1E  CD 00 00    	call	_enemy_respawn
3260  0F21  33          	inc	sp
3261  0F22              l_spr_play_anim_00104:
3262  0F22  DD 6E FE    	ld	l,(ix-2)
3263  0F25  DD 66 FF    	ld	h,(ix-1)
3264  0F28  36 FF       	ld	(hl),0xff
3265  0F2A  18 10       	jr	l_spr_play_anim_00115
3266  0F2C              l_spr_play_anim_00106:
3267  0F2C  0D          	dec	c
3268  0F2D  DD 6E FA    	ld	l,(ix-6)
3269  0F30  DD 66 FB    	ld	h,(ix-5)
3270  0F33  71          	ld	(hl), c
3271  0F34  DD 6E FC    	ld	l,(ix-4)
3272  0F37  DD 66 FD    	ld	h,(ix-3)
3273  0F3A  36 00       	ld	(hl),0x00
3274  0F3C              l_spr_play_anim_00115:
3275  0F3C  DD 34 F9    	inc	(ix-7)
3276  0F3F  DD 7E F9    	ld	a,(ix-7)
3277  0F42  D6 08       	sub	a,0x08
3278  0F44  DA 22 0E    	jp	C, l_spr_play_anim_00114
3279  0F47  DD F9       	ld	sp, ix
3280  0F49  DD E1       	pop	ix
3281  0F4B  C9          	ret
3282  0F4C              	SECTION code_compiler
3283  0F4C              ;	---------------------------------
3284  0F4C              ; Function spr_play_bullets
3285  0F4C              ; ---------------------------------
3286  0F4C              _spr_play_bullets:
3287  0F4C  CD 00 00    	call	___sdcc_enter_ix
3288  0F4F  21 F3 FF    	ld	hl, -13
3289  0F52  39          	add	hl, sp
3290  0F53  F9          	ld	sp, hl
3291  0F54  3E 00       	ld	a,0x00
3292  0F56  DD 77 FF    	ld	(ix-1),a
3293  0F59  DD 77 F6    	ld	(ix-10),a
3294  0F5C              l_spr_play_bullets_00198:
3295  0F5C  01 00 00    	ld	bc,_bullet_col
3296  0F5F  DD 6E F6    	ld	l,(ix-10)
3297  0F62  26 00       	ld	h,0x00
3298  0F64  09          	add	hl,bc
3299  0F65  DD 75 FD    	ld	(ix-3),l
3300  0F68  DD 74 FE    	ld	(ix-2),h
3301  0F6B  7E          	ld	a,(hl)
3302  0F6C  4F          	ld	c,a
3303  0F6D  3C          	inc	a
3304  0F6E  CA FB 14    	jp	Z,l_spr_play_bullets_00192
3305  0F71  11 00 00    	ld	de,_bullet_lin
3306  0F74  DD 6E F6    	ld	l,(ix-10)
3307  0F77  26 00       	ld	h,0x00
3308  0F79  19          	add	hl,de
3309  0F7A  DD 75 F7    	ld	(ix-9),l
3310  0F7D  DD 74 F8    	ld	(ix-8),h
3311  0F80  7E          	ld	a, (hl)
3312  0F81  32 00 00    	ld	(_s_lin0),a
3313  0F84  21 00 00    	ld	hl,_s_col0
3314  0F87  71          	ld	(hl),c
3315  0F88  DD 71 F5    	ld	(ix-11),c
3316  0F8B  CD 9B 0B    	call	_spr_back_repaint
3317  0F8E  01 00 00    	ld	bc,_bullet_class
3318  0F91  DD 6E F6    	ld	l,(ix-10)
3319  0F94  26 00       	ld	h,0x00
3320  0F96  09          	add	hl,bc
3321  0F97  DD 75 FB    	ld	(ix-5),l
3322  0F9A  DD 74 FC    	ld	(ix-4),h
3323  0F9D  7E          	ld	a, (hl)
3324  0F9E  D6 02       	sub	a,0x02
3325  0FA0  20 46       	jr	NZ,l_spr_play_bullets_00107
3326  0FA2  3A 00 00    	ld	a,(_s_lin0)
3327  0FA5  4F          	ld	c,a
3328  0FA6  06 00       	ld	b,0x00
3329  0FA8  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3330  0FAA  DD 86 F6    	add	a,(ix-10)
3331  0FAD  6F          	ld	l, a
3332  0FAE  3E 00       	ld	a, +((_bullet_lin0) / 256)
3333  0FB0  CE 00       	adc	a,0x00
3334  0FB2  67          	ld	h, a
3335  0FB3  5E          	ld	e, (hl)
3336  0FB4  16 00       	ld	d,0x00
3337  0FB6  79          	ld	a, c
3338  0FB7  93          	sub	a, e
3339  0FB8  4F          	ld	c, a
3340  0FB9  78          	ld	a, b
3341  0FBA  9A          	sbc	a, d
3342  0FBB  47          	ld	b, a
3343  0FBC  3E 08       	ld	a,0x08
3344  0FBE  B9          	cp	a, c
3345  0FBF  3E 00       	ld	a,0x00
3346  0FC1  98          	sbc	a, b
3347  0FC2  E2 C7 0F    	jp	PO, l_spr_play_bullets_00412
3348  0FC5  EE 80       	xor	a,0x80
3349  0FC7              l_spr_play_bullets_00412:
3350  0FC7  FA E0 0F    	jp	M, l_spr_play_bullets_00104
3351  0FCA  DD 6E F7    	ld	l,(ix-9)
3352  0FCD  DD 66 F8    	ld	h,(ix-8)
3353  0FD0  4E          	ld	c, (hl)
3354  0FD1  0C          	inc	c
3355  0FD2  0C          	inc	c
3356  0FD3  DD 6E F7    	ld	l,(ix-9)
3357  0FD6  DD 66 F8    	ld	h,(ix-8)
3358  0FD9  71          	ld	(hl), c
3359  0FDA  21 00 00    	ld	hl,_s_lin0
3360  0FDD  71          	ld	(hl), c
3361  0FDE  18 08       	jr	l_spr_play_bullets_00107
3362  0FE0              l_spr_play_bullets_00104:
3363  0FE0  DD 6E FB    	ld	l,(ix-5)
3364  0FE3  DD 66 FC    	ld	h,(ix-4)
3365  0FE6  36 03       	ld	(hl),0x03
3366  0FE8              l_spr_play_bullets_00107:
3367  0FE8  DD 6E FB    	ld	l,(ix-5)
3368  0FEB  DD 66 FC    	ld	h,(ix-4)
3369  0FEE  7E          	ld	a, (hl)
3370  0FEF  D6 03       	sub	a,0x03
3371  0FF1  20 46       	jr	NZ,l_spr_play_bullets_00112
3372  0FF3  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3373  0FF5  DD 86 F6    	add	a,(ix-10)
3374  0FF8  6F          	ld	l, a
3375  0FF9  3E 00       	ld	a, +((_bullet_lin0) / 256)
3376  0FFB  CE 00       	adc	a,0x00
3377  0FFD  67          	ld	h, a
3378  0FFE  4E          	ld	c, (hl)
3379  0FFF  06 00       	ld	b,0x00
3380  1001  3A 00 00    	ld	a,(_s_lin0)
3381  1004  5F          	ld	e,a
3382  1005  16 00       	ld	d,0x00
3383  1007  79          	ld	a, c
3384  1008  93          	sub	a, e
3385  1009  4F          	ld	c, a
3386  100A  78          	ld	a, b
3387  100B  9A          	sbc	a, d
3388  100C  47          	ld	b, a
3389  100D  3E 08       	ld	a,0x08
3390  100F  B9          	cp	a, c
3391  1010  3E 00       	ld	a,0x00
3392  1012  98          	sbc	a, b
3393  1013  E2 18 10    	jp	PO, l_spr_play_bullets_00415
3394  1016  EE 80       	xor	a,0x80
3395  1018              l_spr_play_bullets_00415:
3396  1018  FA 31 10    	jp	M, l_spr_play_bullets_00109
3397  101B  DD 6E F7    	ld	l,(ix-9)
3398  101E  DD 66 F8    	ld	h,(ix-8)
3399  1021  4E          	ld	c, (hl)
3400  1022  0D          	dec	c
3401  1023  0D          	dec	c
3402  1024  DD 6E F7    	ld	l,(ix-9)
3403  1027  DD 66 F8    	ld	h,(ix-8)
3404  102A  71          	ld	(hl), c
3405  102B  21 00 00    	ld	hl,_s_lin0
3406  102E  71          	ld	(hl), c
3407  102F  18 08       	jr	l_spr_play_bullets_00112
3408  1031              l_spr_play_bullets_00109:
3409  1031  DD 6E FB    	ld	l,(ix-5)
3410  1034  DD 66 FC    	ld	h,(ix-4)
3411  1037  36 02       	ld	(hl),0x02
3412  1039              l_spr_play_bullets_00112:
3413  1039  DD 6E FB    	ld	l,(ix-5)
3414  103C  DD 66 FC    	ld	h,(ix-4)
3415  103F  7E          	ld	a, (hl)
3416  1040  D6 04       	sub	a,0x04
3417  1042  C2 C8 10    	jp	NZ,l_spr_play_bullets_00125
3418  1045  DD 6E F7    	ld	l,(ix-9)
3419  1048  DD 66 F8    	ld	h,(ix-8)
3420  104B  7E          	ld	a, (hl)
3421  104C  32 00 00    	ld	(_s_lin0),a
3422  104F  DD 6E FD    	ld	l,(ix-3)
3423  1052  DD 66 FE    	ld	h,(ix-2)
3424  1055  7E          	ld	a, (hl)
3425  1056  C6 FF       	add	a,0xff
3426  1058  32 00 00    	ld	(_s_col0),a
3427  105B  D6 20       	sub	a,0x20
3428  105D  30 03       	jr	NC,l_spr_play_bullets_00114
3429  105F  CD 9B 0B    	call	_spr_back_repaint
3430  1062              l_spr_play_bullets_00114:
3431  1062  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3432  1064  DD 86 F6    	add	a,(ix-10)
3433  1067  4F          	ld	c, a
3434  1068  3E 00       	ld	a, +((_bullet_vel) / 256)
3435  106A  CE 00       	adc	a,0x00
3436  106C  47          	ld	b, a
3437  106D  0A          	ld	a, (bc)
3438  106E  5F          	ld	e, a
3439  106F  21 00 00    	ld	hl,_game_gravity
3440  1072  56          	ld	d, (hl)
3441  1073  7B          	ld	a, e
3442  1074  82          	add	a, d
3443  1075  5F          	ld	e,a
3444  1076  02          	ld	(bc), a
3445  1077  3E 78       	ld	a,0x78
3446  1079  93          	sub	a, e
3447  107A  E2 7F 10    	jp	PO, l_spr_play_bullets_00418
3448  107D  EE 80       	xor	a,0x80
3449  107F              l_spr_play_bullets_00418:
3450  107F  F2 85 10    	jp	P, l_spr_play_bullets_00116
3451  1082  3E 78       	ld	a,0x78
3452  1084  02          	ld	(bc), a
3453  1085              l_spr_play_bullets_00116:
3454  1085  0A          	ld	a, (bc)
3455  1086  EE 80       	xor	a,0x80
3456  1088  D6 08       	sub	a,0x08
3457  108A  30 03       	jr	NC,l_spr_play_bullets_00118
3458  108C  3E 88       	ld	a,0x88
3459  108E  02          	ld	(bc), a
3460  108F              l_spr_play_bullets_00118:
3461  108F  0A          	ld	a, (bc)
3462  1090  CB 47       	bit	0,a
3463  1092  32 00 00    	ld	(_s_lin1),a
3464  1095  28 04       	jr	Z,l_spr_play_bullets_00120
3465  1097  21 00 00    	ld	hl,_s_lin1
3466  109A  35          	dec	(hl)
3467  109B              l_spr_play_bullets_00120:
3468  109B  DD 6E F7    	ld	l,(ix-9)
3469  109E  DD 66 F8    	ld	h,(ix-8)
3470  10A1  7E          	ld	a, (hl)
3471  10A2  21 00 00    	ld	hl,_s_lin1
3472  10A5  86          	add	a, (hl)
3473  10A6  21 00 00    	ld	hl,_s_lin0
3474  10A9  77          	ld	(hl), a
3475  10AA  3E 90       	ld	a,0x90
3476  10AC  96          	sub	a, (hl)
3477  10AD  30 0F       	jr	NC,l_spr_play_bullets_00122
3478  10AF  21 00 00    	ld	hl,_bullet_count
3479  10B2  35          	dec	(hl)
3480  10B3  DD 6E FD    	ld	l,(ix-3)
3481  10B6  DD 66 FE    	ld	h,(ix-2)
3482  10B9  36 FF       	ld	(hl),0xff
3483  10BB  C3 FB 14    	jp	l_spr_play_bullets_00192
3484  10BE              l_spr_play_bullets_00122:
3485  10BE  DD 6E F7    	ld	l,(ix-9)
3486  10C1  DD 66 F8    	ld	h,(ix-8)
3487  10C4  3A 00 00    	ld	a,(_s_lin0)
3488  10C7  77          	ld	(hl),a
3489  10C8              l_spr_play_bullets_00125:
3490  10C8  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3491  10CA  DD 86 F6    	add	a,(ix-10)
3492  10CD  6F          	ld	l, a
3493  10CE  3E 00       	ld	a, +((_bullet_dir) / 256)
3494  10D0  CE 00       	adc	a,0x00
3495  10D2  67          	ld	h, a
3496  10D3  4E          	ld	c, (hl)
3497  10D4  0C          	inc	c
3498  10D5  20 3D       	jr	NZ,l_spr_play_bullets_00135
3499  10D7  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3500  10D9  DD 86 F6    	add	a,(ix-10)
3501  10DC  4F          	ld	c, a
3502  10DD  3E 00       	ld	a, +((_bullet_colint) / 256)
3503  10DF  CE 00       	adc	a,0x00
3504  10E1  47          	ld	b, a
3505  10E2  0A          	ld	a, (bc)
3506  10E3  3C          	inc	a
3507  10E4  5F          	ld	e,a
3508  10E5  02          	ld	(bc), a
3509  10E6  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3510  10E8  DD 86 F6    	add	a,(ix-10)
3511  10EB  6F          	ld	l, a
3512  10EC  3E 00       	ld	a, +((_bullet_frames) / 256)
3513  10EE  CE 00       	adc	a,0x00
3514  10F0  67          	ld	h, a
3515  10F1  56          	ld	d, (hl)
3516  10F2  7B          	ld	a, e
3517  10F3  92          	sub	a, d
3518  10F4  38 63       	jr	C,l_spr_play_bullets_00136
3519  10F6  DD 6E FD    	ld	l,(ix-3)
3520  10F9  DD 66 FE    	ld	h,(ix-2)
3521  10FC  7E          	ld	a, (hl)
3522  10FD  3C          	inc	a
3523  10FE  DD 77 F5    	ld	(ix-11),a
3524  1101  AF          	xor	a, a
3525  1102  02          	ld	(bc), a
3526  1103  DD 7E F5    	ld	a,(ix-11)
3527  1106  E6 01       	and	a,0x01
3528  1108  3D          	dec	a
3529  1109  20 4E       	jr	NZ,l_spr_play_bullets_00136
3530  110B  DD 7E F5    	ld	a,(ix-11)
3531  110E  3C          	inc	a
3532  110F  32 00 00    	ld	(_s_col0),a
3533  1112  18 45       	jr	l_spr_play_bullets_00136
3534  1114              l_spr_play_bullets_00135:
3535  1114  01 00 00    	ld	bc,_bullet_colint
3536  1117  DD 6E F6    	ld	l,(ix-10)
3537  111A  26 00       	ld	h,0x00
3538  111C  09          	add	hl,bc
3539  111D  DD 75 F9    	ld	(ix-7),l
3540  1120  DD 74 FA    	ld	(ix-6),h
3541  1123  4E          	ld	c,(hl)
3542  1124  0D          	dec	c
3543  1125  71          	ld	(hl), c
3544  1126  0C          	inc	c
3545  1127  20 30       	jr	NZ,l_spr_play_bullets_00136
3546  1129  DD 6E FD    	ld	l,(ix-3)
3547  112C  DD 66 FE    	ld	h,(ix-2)
3548  112F  7E          	ld	a, (hl)
3549  1130  C6 FF       	add	a,0xff
3550  1132  DD 77 F5    	ld	(ix-11),a
3551  1135  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3552  1137  DD 86 F6    	add	a,(ix-10)
3553  113A  6F          	ld	l, a
3554  113B  3E 00       	ld	a, +((_bullet_frames) / 256)
3555  113D  CE 00       	adc	a,0x00
3556  113F  67          	ld	h, a
3557  1140  4E          	ld	c, (hl)
3558  1141  0D          	dec	c
3559  1142  DD 6E F9    	ld	l,(ix-7)
3560  1145  DD 66 FA    	ld	h,(ix-6)
3561  1148  71          	ld	(hl), c
3562  1149  DD 7E F5    	ld	a,(ix-11)
3563  114C  E6 01       	and	a,0x01
3564  114E  3D          	dec	a
3565  114F  20 08       	jr	NZ,l_spr_play_bullets_00136
3566  1151  DD 7E F5    	ld	a,(ix-11)
3567  1154  C6 FF       	add	a,0xff
3568  1156  32 00 00    	ld	(_s_col0),a
3569  1159              l_spr_play_bullets_00136:
3570  1159  21 00 00    	ld	hl,_tmp1
3571  115C  36 00       	ld	(hl),0x00
3572  115E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3573  1160  DD 86 F6    	add	a,(ix-10)
3574  1163  4F          	ld	c, a
3575  1164  3E 00       	ld	a, +((_bullet_max) / 256)
3576  1166  CE 00       	adc	a,0x00
3577  1168  47          	ld	b, a
3578  1169  0A          	ld	a, (bc)
3579  116A  B7          	or	a, a
3580  116B  28 27       	jr	Z,l_spr_play_bullets_00140
3581  116D  DD 5E F5    	ld	e,(ix-11)
3582  1170  16 00       	ld	d,0x00
3583  1172  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3584  1174  DD 86 F6    	add	a,(ix-10)
3585  1177  6F          	ld	l, a
3586  1178  3E 00       	ld	a, +((_bullet_col0) / 256)
3587  117A  CE 00       	adc	a,0x00
3588  117C  67          	ld	h, a
3589  117D  6E          	ld	l, (hl)
3590  117E  AF          	xor	a,a
3591  117F  67          	ld	h,a
3592  1180  EB          	ex	de,hl
3593  1181  ED 52       	sbc	hl,de
3594  1183  CD 00 00    	call	_abs_fastcall
3595  1186  5D          	ld	e, l
3596  1187  21 00 00    	ld	hl,_tmp0
3597  118A  73          	ld	(hl), e
3598  118B  0A          	ld	a, (bc)
3599  118C  96          	sub	a, (hl)
3600  118D  30 05       	jr	NC,l_spr_play_bullets_00140
3601  118F  21 00 00    	ld	hl,_tmp1
3602  1192  36 01       	ld	(hl),0x01
3603  1194              l_spr_play_bullets_00140:
3604  1194  DD 7E F5    	ld	a,(ix-11)
3605  1197  D6 1E       	sub	a,0x1e
3606  1199  38 05       	jr	C,l_spr_play_bullets_00142
3607  119B  21 00 00    	ld	hl,_tmp1
3608  119E  36 01       	ld	(hl),0x01
3609  11A0              l_spr_play_bullets_00142:
3610  11A0  3A 00 00    	ld	a,(_tmp1)
3611  11A3  B7          	or	a, a
3612  11A4  28 0F       	jr	Z,l_spr_play_bullets_00144
3613  11A6  21 00 00    	ld	hl,_bullet_count
3614  11A9  35          	dec	(hl)
3615  11AA  DD 6E FD    	ld	l,(ix-3)
3616  11AD  DD 66 FE    	ld	h,(ix-2)
3617  11B0  36 FF       	ld	(hl),0xff
3618  11B2  C3 FB 14    	jp	l_spr_play_bullets_00192
3619  11B5              l_spr_play_bullets_00144:
3620  11B5  DD 7E FD    	ld	a,(ix-3)
3621  11B8  DD 77 F9    	ld	(ix-7),a
3622  11BB  DD 7E FE    	ld	a,(ix-2)
3623  11BE  DD 77 FA    	ld	(ix-6),a
3624  11C1  DD 6E FD    	ld	l,(ix-3)
3625  11C4  DD 66 FE    	ld	h,(ix-2)
3626  11C7  DD 7E F5    	ld	a,(ix-11)
3627  11CA  96          	sub	a,(hl)
3628  11CB  CA BF 14    	jp	Z,l_spr_play_bullets_00187
3629  11CE  3A 00 00    	ld	a,(_s_lin0)
3630  11D1  C6 08       	add	a,0x08
3631  11D3  4F          	ld	c, a
3632  11D4  3A 00 00    	ld	a, (_s_col0)
3633  11D7  47          	ld	b,a
3634  11D8  C5          	push	bc
3635  11D9  CD 00 00    	call	_spr_calc_index
3636  11DC  F1          	pop	af
3637  11DD  22 00 00    	ld	(_index0),hl
3638  11E0  01 00 00    	ld	bc,_scr_map
3639  11E3  09          	add	hl,bc
3640  11E4  5E          	ld	e,(hl)
3641  11E5  DD 7E F6    	ld	a,(ix-10)
3642  11E8  D6 07       	sub	a,0x07
3643  11EA  4D          	ld	c,l
3644  11EB  44          	ld	b,h
3645  11EC  20 04       	jr	NZ,l_spr_play_bullets_00429
3646  11EE  3E 01       	ld	a,0x01
3647  11F0  18 01       	jr	l_spr_play_bullets_00430
3648  11F2              l_spr_play_bullets_00429:
3649  11F2  AF          	xor	a,a
3650  11F3              l_spr_play_bullets_00430:
3651  11F3  57          	ld	d, a
3652  11F4  7B          	ld	a, e
3653  11F5  D6 4D       	sub	a,0x4d
3654  11F7  20 45       	jr	NZ,l_spr_play_bullets_00146
3655  11F9  B2          	or	a,d
3656  11FA  28 42       	jr	Z,l_spr_play_bullets_00146
3657  11FC  2A 00 00    	ld	hl,(_index0)
3658  11FF  C5          	push	bc
3659  1200  E5          	push	hl
3660  1201  CD 00 00    	call	_game_match_back
3661  1204  F1          	pop	af
3662  1205  C1          	pop	bc
3663  1206  7D          	ld	a,l
3664  1207  02          	ld	(bc), a
3665  1208  2A 00 00    	ld	hl,(_index0)
3666  120B  CD 00 00    	call	_game_obj_set
3667  120E  2A 00 00    	ld	hl,(_index0)
3668  1211  4D          	ld	c,l
3669  1212  5C          	ld	e,h
3670  1213  06 04       	ld	b,0x04
3671  1215  79          	ld	a,c
3672  1216              l_spr_play_bullets_00433:
3673  1216  CB 3B       	srl	e
3674  1218  1F          	rra
3675  1219  10 FB       	djnz	l_spr_play_bullets_00433
3676  121B  07          	rlca
3677  121C  07          	rlca
3678  121D  07          	rlca
3679  121E  07          	rlca
3680  121F  E6 F0       	and	a,0xf0
3681  1221  DD 6E F7    	ld	l,(ix-9)
3682  1224  DD 66 F8    	ld	h,(ix-8)
3683  1227  77          	ld	(hl), a
3684  1228  3A 00 00    	ld	a,(_index0)
3685  122B  E6 0F       	and	a,0x0f
3686  122D  87          	add	a, a
3687  122E  DD 6E FD    	ld	l,(ix-3)
3688  1231  DD 66 FE    	ld	h,(ix-2)
3689  1234  77          	ld	(hl), a
3690  1235  DD 6E F6    	ld	l,(ix-10)
3691  1238  CD 0E 15    	call	_spr_explode_bullet
3692  123B  C3 FB 14    	jp	l_spr_play_bullets_00192
3693  123E              l_spr_play_bullets_00146:
3694  123E  7B          	ld	a, e
3695  123F  D6 48       	sub	a,0x48
3696  1241  38 0C       	jr	C,l_spr_play_bullets_00149
3697  1243  1C          	inc	e
3698  1244  28 09       	jr	Z,l_spr_play_bullets_00149
3699  1246  DD 6E F6    	ld	l,(ix-10)
3700  1249  CD 0E 15    	call	_spr_explode_bullet
3701  124C  C3 FB 14    	jp	l_spr_play_bullets_00192
3702  124F              l_spr_play_bullets_00149:
3703  124F  DD 6E FD    	ld	l,(ix-3)
3704  1252  DD 66 FE    	ld	h,(ix-2)
3705  1255  DD 7E F5    	ld	a,(ix-11)
3706  1258  77          	ld	(hl), a
3707  1259  DD 6E FB    	ld	l,(ix-5)
3708  125C  DD 66 FC    	ld	h,(ix-4)
3709  125F  7E          	ld	a, (hl)
3710  1260  D6 04       	sub	a,0x04
3711  1262  20 19       	jr	NZ,l_spr_play_bullets_00152
3712  1264  21 00 00    	ld	hl,_s_lin0
3713  1267  7E          	ld	a, (hl)
3714  1268  C6 F0       	add	a,0xf0
3715  126A  4F          	ld	c, a
3716  126B  7E          	ld	a, (hl)
3717  126C  C6 10       	add	a,0x10
3718  126E  DD 77 F4    	ld	(ix-12),a
3719  1271  DD 35 F5    	dec	(ix-11)
3720  1274  DD 7E F5    	ld	a,(ix-11)
3721  1277  3C          	inc	a
3722  1278  DD 77 F3    	ld	(ix-13),a
3723  127B  18 14       	jr	l_spr_play_bullets_00153
3724  127D              l_spr_play_bullets_00152:
3725  127D  21 00 00    	ld	hl,_s_lin0
3726  1280  7E          	ld	a, (hl)
3727  1281  C6 F8       	add	a,0xf8
3728  1283  4F          	ld	c, a
3729  1284  7E          	ld	a, (hl)
3730  1285  C6 08       	add	a,0x08
3731  1287  DD 77 F4    	ld	(ix-12),a
3732  128A  DD 7E F5    	ld	a,(ix-11)
3733  128D  3C          	inc	a
3734  128E  DD 77 F3    	ld	(ix-13),a
3735  1291              l_spr_play_bullets_00153:
3736  1291  7A          	ld	a, d
3737  1292  B7          	or	a, a
3738  1293  CA 81 14    	jp	Z, l_spr_play_bullets_00184
3739  1296  21 00 00    	ld	hl,_tmp0
3740  1299  36 00       	ld	(hl),0x00
3741  129B              l_spr_play_bullets_00194:
3742  129B  2A 00 00    	ld	hl,(_tmp0)
3743  129E  26 00       	ld	h,0x00
3744  12A0  11 00 00    	ld	de,_class
3745  12A3  19          	add	hl,de
3746  12A4  7E          	ld	a,(hl)
3747  12A5  B7          	or	a,a
3748  12A6  CA 4C 13    	jp	Z,l_spr_play_bullets_00195
3749  12A9  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3750  12AC  3C          	inc	a
3751  12AD  CA 4C 13    	jp	Z,l_spr_play_bullets_00195
3752  12B0  2A 00 00    	ld	hl,(_tmp0)
3753  12B3  26 00       	ld	h,0x00
3754  12B5  11 00 00    	ld	de,_lin
3755  12B8  19          	add	hl,de
3756  12B9  7E          	ld	a,(hl)
3757  12BA  47          	ld	b,a
3758  12BB  91          	sub	a,c
3759  12BC  DA 4C 13    	jp	C,l_spr_play_bullets_00195
3760  12BF  21 00 00    	ld	hl,_tmp0
3761  12C2  DD 7E F4    	ld	a,(ix-12)
3762  12C5  90          	sub	a, b
3763  12C6  DA 4C 13    	jp	C, l_spr_play_bullets_00195
3764  12C9  5E          	ld	e,(hl)
3765  12CA  16 00       	ld	d,0x00
3766  12CC  21 00 00    	ld	hl,_col
3767  12CF  19          	add	hl,de
3768  12D0  7E          	ld	a,(hl)
3769  12D1  5F          	ld	e,a
3770  12D2  DD 96 F5    	sub	a,(ix-11)
3771  12D5  38 75       	jr	C,l_spr_play_bullets_00195
3772  12D7  DD 7E F3    	ld	a,(ix-13)
3773  12DA  93          	sub	a, e
3774  12DB  38 6F       	jr	C,l_spr_play_bullets_00195
3775  12DD  21 00 00    	ld	hl,_s_lin0
3776  12E0  70          	ld	(hl), b
3777  12E1  21 00 00    	ld	hl,_s_col0
3778  12E4  73          	ld	(hl), e
3779  12E5  C5          	push	bc
3780  12E6  CD 00 00    	call	_rand
3781  12E9  11 06 00    	ld	de,0x0006
3782  12EC  D5          	push	de
3783  12ED  E5          	push	hl
3784  12EE  CD 00 00    	call	__modsint_callee
3785  12F1  CD 00 00    	call	_player_score_add
3786  12F4  C1          	pop	bc
3787  12F5  2A 00 00    	ld	hl,(_tmp0)
3788  12F8  26 00       	ld	h,0x00
3789  12FA  29          	add	hl,hl
3790  12FB  11 00 00    	ld	de,_game_respawn_time
3791  12FE  19          	add	hl, de
3792  12FF  DD 75 FB    	ld	(ix-5),l
3793  1302  DD 74 FC    	ld	(ix-4),h
3794  1305  ED 5B 00 00 	ld	de,(_curr_time)
3795  1309  73          	ld	(hl), e
3796  130A  23          	inc	hl
3797  130B  72          	ld	(hl), d
3798  130C  2A 00 00    	ld	hl,(_tmp0)
3799  130F  C5          	push	bc
3800  1310  CD 8F 08    	call	_spr_destroy
3801  1313  C1          	pop	bc
3802  1314  2A 00 00    	ld	hl,(_tmp0)
3803  1317  26 00       	ld	h,0x00
3804  1319  11 00 00    	ld	de,_bullet_col
3805  131C  19          	add	hl,de
3806  131D  7E          	ld	a,(hl)
3807  131E  47          	ld	b,a
3808  131F  3C          	inc	a
3809  1320  28 17       	jr	Z,l_spr_play_bullets_00155
3810  1322  3A 00 00    	ld	a,(_tmp0)
3811  1325  5F          	ld	e,a
3812  1326  16 00       	ld	d,0x00
3813  1328  21 00 00    	ld	hl,_bullet_lin
3814  132B  19          	add	hl,de
3815  132C  7E          	ld	a,(hl)
3816  132D  32 00 00    	ld	(_s_lin0),a
3817  1330  21 00 00    	ld	hl,_s_col0
3818  1333  70          	ld	(hl), b
3819  1334  C5          	push	bc
3820  1335  CD 9B 0B    	call	_spr_back_repaint
3821  1338  C1          	pop	bc
3822  1339              l_spr_play_bullets_00155:
3823  1339  3A 00 00    	ld	a,(_s_col0)
3824  133C  32 07 00    	ld	((_bullet_col + 0x0007)),a
3825  133F  C5          	push	bc
3826  1340  2E 07       	ld	l,0x07
3827  1342  CD 0E 15    	call	_spr_explode_bullet
3828  1345  C1          	pop	bc
3829  1346  21 00 00    	ld	hl,_ay_effect_02
3830  1349  CD 00 00    	call	_ay_fx_play
3831  134C              l_spr_play_bullets_00195:
3832  134C  21 00 00    	ld	hl,_tmp0
3833  134F  7E          	ld	a,(hl)
3834  1350  3C          	inc	a
3835  1351  77          	ld	(hl),a
3836  1352  D6 07       	sub	a,0x07
3837  1354  DA 9B 12    	jp	C, l_spr_play_bullets_00194
3838  1357  3A 00 00    	ld	a,(_game_boss)
3839  135A  B7          	or	a, a
3840  135B  CA BF 14    	jp	Z, l_spr_play_bullets_00187
3841  135E  21 00 00    	ld	hl,_boss_lin
3842  1361  7E          	ld	a, (hl)
3843  1362  91          	sub	a, c
3844  1363  38 06       	jr	C,l_spr_play_bullets_00173
3845  1365  DD 7E F4    	ld	a,(ix-12)
3846  1368  96          	sub	a, (hl)
3847  1369  30 28       	jr	NC,l_spr_play_bullets_00174
3848  136B              l_spr_play_bullets_00173:
3849  136B  3A 00 00    	ld	a,(_boss_lin)
3850  136E  5F          	ld	e,a
3851  136F  16 00       	ld	d,0x00
3852  1371  21 10 00    	ld	hl,0x0010
3853  1374  19          	add	hl, de
3854  1375  06 00       	ld	b,0x00
3855  1377  7D          	ld	a, l
3856  1378  91          	sub	a, c
3857  1379  7C          	ld	a, h
3858  137A  98          	sbc	a, b
3859  137B  E2 80 13    	jp	PO, l_spr_play_bullets_00441
3860  137E  EE 80       	xor	a,0x80
3861  1380              l_spr_play_bullets_00441:
3862  1380  FA BF 14    	jp	M, l_spr_play_bullets_00187
3863  1383  DD 7E F4    	ld	a,(ix-12)
3864  1386  06 00       	ld	b,0x00
3865  1388  95          	sub	a, l
3866  1389  78          	ld	a, b
3867  138A  9C          	sbc	a, h
3868  138B  E2 90 13    	jp	PO, l_spr_play_bullets_00442
3869  138E  EE 80       	xor	a,0x80
3870  1390              l_spr_play_bullets_00442:
3871  1390  FA BF 14    	jp	M, l_spr_play_bullets_00187
3872  1393              l_spr_play_bullets_00174:
3873  1393  21 00 00    	ld	hl,_boss_col
3874  1396  7E          	ld	a, (hl)
3875  1397  DD 96 F5    	sub	a,(ix-11)
3876  139A  DA BF 14    	jp	C, l_spr_play_bullets_00187
3877  139D  DD 7E F3    	ld	a,(ix-13)
3878  13A0  96          	sub	a, (hl)
3879  13A1  DA BF 14    	jp	C, l_spr_play_bullets_00187
3880  13A4  DD 6E F6    	ld	l,(ix-10)
3881  13A7  CD 0E 15    	call	_spr_explode_bullet
3882  13AA  21 00 00    	ld	hl,_game_boss_hit
3883  13AD  35          	dec	(hl)
3884  13AE  CD 00 00    	call	_game_update_stats
3885  13B1  3A 00 00    	ld	a,(_game_boss_hit)
3886  13B4  B7          	or	a, a
3887  13B5  C2 BF 14    	jp	NZ, l_spr_play_bullets_00187
3888  13B8  21 00 00    	ld	hl,_game_boss
3889  13BB  36 00       	ld	(hl),0x00
3890  13BD  21 00 00    	ld	hl,_game_boss_alive
3891  13C0  36 00       	ld	(hl),0x00
3892  13C2  3A 00 00    	ld	a,(_boss_col)
3893  13C5  21 00 00    	ld	hl,0x0000
3894  13C8  E5          	push	hl
3895  13C9  21 87 03    	ld	hl,0x0387
3896  13CC  E5          	push	hl
3897  13CD  F5          	push	af
3898  13CE  33          	inc	sp
3899  13CF  3A 00 00    	ld	a,(_boss_lin)
3900  13D2  F5          	push	af
3901  13D3  33          	inc	sp
3902  13D4  CD 48 0D    	call	_spr_add_anim
3903  13D7  F1          	pop	af
3904  13D8  F1          	pop	af
3905  13D9  F1          	pop	af
3906  13DA  21 00 00    	ld	hl,_boss_col
3907  13DD  46          	ld	b, (hl)
3908  13DE  04          	inc	b
3909  13DF  04          	inc	b
3910  13E0  21 00 00    	ld	hl,0x0000
3911  13E3  E5          	push	hl
3912  13E4  21 87 03    	ld	hl,0x0387
3913  13E7  E5          	push	hl
3914  13E8  C5          	push	bc
3915  13E9  33          	inc	sp
3916  13EA  3A 00 00    	ld	a,(_boss_lin)
3917  13ED  F5          	push	af
3918  13EE  33          	inc	sp
3919  13EF  CD 48 0D    	call	_spr_add_anim
3920  13F2  F1          	pop	af
3921  13F3  F1          	pop	af
3922  13F4  F1          	pop	af
3923  13F5  3A 00 00    	ld	a,(_boss_lin)
3924  13F8  C6 10       	add	a,0x10
3925  13FA  47          	ld	b, a
3926  13FB  3A 00 00    	ld	a,(_boss_col)
3927  13FE  21 00 00    	ld	hl,0x0000
3928  1401  E5          	push	hl
3929  1402  21 87 03    	ld	hl,0x0387
3930  1405  E5          	push	hl
3931  1406  48          	ld	c,b
3932  1407  47          	ld	b,a
3933  1408  C5          	push	bc
3934  1409  CD 48 0D    	call	_spr_add_anim
3935  140C  F1          	pop	af
3936  140D  F1          	pop	af
3937  140E  F1          	pop	af
3938  140F  21 00 00    	ld	hl,_boss_col
3939  1412  46          	ld	b, (hl)
3940  1413  04          	inc	b
3941  1414  04          	inc	b
3942  1415  3A 00 00    	ld	a,(_boss_lin)
3943  1418  C6 10       	add	a,0x10
3944  141A  57          	ld	d, a
3945  141B  21 00 00    	ld	hl,0x0000
3946  141E  E5          	push	hl
3947  141F  21 87 03    	ld	hl,0x0387
3948  1422  E5          	push	hl
3949  1423  4A          	ld	c, d
3950  1424  C5          	push	bc
3951  1425  CD 48 0D    	call	_spr_add_anim
3952  1428  F1          	pop	af
3953  1429  F1          	pop	af
3954  142A  F1          	pop	af
3955  142B  21 00 00    	ld	hl,_tmp0
3956  142E  36 00       	ld	(hl),0x00
3957  1430              l_spr_play_bullets_00196:
3958  1430  2A 00 00    	ld	hl,(_tmp0)
3959  1433  26 00       	ld	h,0x00
3960  1435  01 00 00    	ld	bc,_bullet_col
3961  1438  09          	add	hl,bc
3962  1439  7E          	ld	a,(hl)
3963  143A  4F          	ld	c,a
3964  143B  3C          	inc	a
3965  143C  28 15       	jr	Z,l_spr_play_bullets_00165
3966  143E  3A 00 00    	ld	a,(_tmp0)
3967  1441  5F          	ld	e,a
3968  1442  16 00       	ld	d,0x00
3969  1444  21 00 00    	ld	hl,_bullet_lin
3970  1447  19          	add	hl,de
3971  1448  7E          	ld	a,(hl)
3972  1449  32 00 00    	ld	(_s_lin0),a
3973  144C  21 00 00    	ld	hl,_s_col0
3974  144F  71          	ld	(hl), c
3975  1450  CD 9B 0B    	call	_spr_back_repaint
3976  1453              l_spr_play_bullets_00165:
3977  1453  2A 00 00    	ld	hl,(_tmp0)
3978  1456  26 00       	ld	h,0x00
3979  1458  01 00 00    	ld	bc,_bullet_col
3980  145B  09          	add	hl,bc
3981  145C  36 FF       	ld	(hl),0xff
3982  145E  2A 00 00    	ld	hl,(_tmp0)
3983  1461  CD 8F 08    	call	_spr_destroy
3984  1464  2A 00 00    	ld	hl,(_tmp0)
3985  1467  26 00       	ld	h,0x00
3986  1469  29          	add	hl, hl
3987  146A  11 00 00    	ld	de,_game_respawn_time
3988  146D  19          	add	hl, de
3989  146E  AF          	xor	a, a
3990  146F  77          	ld	(hl), a
3991  1470  23          	inc	hl
3992  1471  77          	ld	(hl), a
3993  1472  21 00 00    	ld	hl,_tmp0
3994  1475  7E          	ld	a,(hl)
3995  1476  3C          	inc	a
3996  1477  77          	ld	(hl),a
3997  1478  D6 07       	sub	a,0x07
3998  147A  38 B4       	jr	C,l_spr_play_bullets_00196
3999  147C  CD 00 00    	call	_game_boss_clear
4000  147F  18 3E       	jr	l_spr_play_bullets_00187
4001  1481              l_spr_play_bullets_00184:
4002  1481  3A 07 00    	ld	a,(_lin + 7)
4003  1484  47          	ld	b,a
4004  1485  91          	sub	a, c
4005  1486  38 37       	jr	C,l_spr_play_bullets_00187
4006  1488  DD 7E F4    	ld	a,(ix-12)
4007  148B  90          	sub	a, b
4008  148C  38 31       	jr	C,l_spr_play_bullets_00187
4009  148E  3A 07 00    	ld	a,(_col + 7)
4010  1491  4F          	ld	c,a
4011  1492  DD 96 F5    	sub	a,(ix-11)
4012  1495  38 28       	jr	C,l_spr_play_bullets_00187
4013  1497  DD 7E F3    	ld	a,(ix-13)
4014  149A  91          	sub	a, c
4015  149B  38 22       	jr	C,l_spr_play_bullets_00187
4016  149D  21 00 00    	ld	hl,_ay_effect_06
4017  14A0  CD 00 00    	call	_ay_fx_play
4018  14A3  2E 03       	ld	l,0x03
4019  14A5  CD 00 00    	call	_zx_border_fastcall
4020  14A8  2E 0A       	ld	l,0x0a
4021  14AA  CD 00 00    	call	_player_hit
4022  14AD  DD 6E FD    	ld	l,(ix-3)
4023  14B0  DD 66 FE    	ld	h,(ix-2)
4024  14B3  3A 00 00    	ld	a,(_s_col0)
4025  14B6  77          	ld	(hl),a
4026  14B7  DD 6E FF    	ld	l,(ix-1)
4027  14BA  CD 0E 15    	call	_spr_explode_bullet
4028  14BD  18 4A       	jr	l_spr_play_bullets_00199
4029  14BF              l_spr_play_bullets_00187:
4030  14BF  DD 6E F9    	ld	l,(ix-7)
4031  14C2  DD 66 FA    	ld	h,(ix-6)
4032  14C5  4E          	ld	c, (hl)
4033  14C6  0C          	inc	c
4034  14C7  28 32       	jr	Z,l_spr_play_bullets_00192
4035  14C9  DD 7E F5    	ld	a,(ix-11)
4036  14CC  D6 20       	sub	a,0x20
4037  14CE  30 2B       	jr	NC,l_spr_play_bullets_00192
4038  14D0  F3          	di
4039  14D1  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4040  14D3  DD 86 F6    	add	a,(ix-10)
4041  14D6  6F          	ld	l, a
4042  14D7  3E 00       	ld	a, +((_bullet_tile) / 256)
4043  14D9  CE 00       	adc	a,0x00
4044  14DB  67          	ld	h, a
4045  14DC  4E          	ld	c, (hl)
4046  14DD  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4047  14DF  DD 86 F6    	add	a,(ix-10)
4048  14E2  6F          	ld	l, a
4049  14E3  3E 00       	ld	a, +((_bullet_colint) / 256)
4050  14E5  CE 00       	adc	a,0x00
4051  14E7  67          	ld	h, a
4052  14E8  46          	ld	b, (hl)
4053  14E9  79          	ld	a, c
4054  14EA  80          	add	a, b
4055  14EB  47          	ld	b, a
4056  14EC  DD 7E F5    	ld	a,(ix-11)
4057  14EF  F5          	push	af
4058  14F0  33          	inc	sp
4059  14F1  3A 00 00    	ld	a,(_s_lin0)
4060  14F4  48          	ld	c,b
4061  14F5  47          	ld	b,a
4062  14F6  C5          	push	bc
4063  14F7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4064  14FA  FB          	ei
4065  14FB              l_spr_play_bullets_00192:
4066  14FB  DD 34 F6    	inc	(ix-10)
4067  14FE  DD 7E F6    	ld	a,(ix-10)
4068  1501  DD 77 FF    	ld	(ix-1),a
4069  1504  D6 08       	sub	a,0x08
4070  1506  DA 5C 0F    	jp	C, l_spr_play_bullets_00198
4071  1509              l_spr_play_bullets_00199:
4072  1509  DD F9       	ld	sp, ix
4073  150B  DD E1       	pop	ix
4074  150D  C9          	ret
4075  150E              	SECTION code_compiler
4076  150E              ;	---------------------------------
4077  150E              ; Function spr_explode_bullet
4078  150E              ; ---------------------------------
4079  150E              _spr_explode_bullet:
4080  150E  5D          	ld	e, l
4081  150F  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4082  1511  83          	add	a, e
4083  1512  4F          	ld	c, a
4084  1513  3E 00       	ld	a, +((_bullet_col) / 256)
4085  1515  CE 00       	adc	a,0x00
4086  1517  47          	ld	b, a
4087  1518  0A          	ld	a, (bc)
4088  1519  57          	ld	d, a
4089  151A  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4090  151C  83          	add	a, e
4091  151D  6F          	ld	l, a
4092  151E  3E 00       	ld	a, +((_bullet_lin) / 256)
4093  1520  CE 00       	adc	a,0x00
4094  1522  67          	ld	h, a
4095  1523  5E          	ld	e, (hl)
4096  1524  C5          	push	bc
4097  1525  21 00 00    	ld	hl,0x0000
4098  1528  E5          	push	hl
4099  1529  21 87 03    	ld	hl,0x0387
4100  152C  E5          	push	hl
4101  152D  D5          	push	de
4102  152E  CD 48 0D    	call	_spr_add_anim
4103  1531  F1          	pop	af
4104  1532  F1          	pop	af
4105  1533  F1          	pop	af
4106  1534  C1          	pop	bc
4107  1535  21 00 00    	ld	hl,_bullet_count
4108  1538  35          	dec	(hl)
4109  1539  3E FF       	ld	a,0xff
4110  153B  02          	ld	(bc), a
4111  153C  21 00 00    	ld	hl,_ay_effect_11
4112  153F  C3 00 00    	jp  _ay_fx_play
4113  1542              	SECTION code_compiler
4114  1542              ;	---------------------------------
4115  1542              ; Function spr_turn_horizontal
4116  1542              ; ---------------------------------
4117  1542              _spr_turn_horizontal:
4118  1542  21 00 00    	ld	hl,_s_state
4119  1545  CB 56       	bit	2, (hl)
4120  1547  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4121  1549  21 00 00    	ld	hl,_s_state
4122  154C  7E          	ld	a,(hl)
4123  154D  F6 08       	or	a,0x08
4124  154F  E6 FB       	and	a,0xfb
4125  1551  77          	ld	(hl),a
4126  1552  18 09       	jr	l_spr_turn_horizontal_00103
4127  1554              l_spr_turn_horizontal_00102:
4128  1554  21 00 00    	ld	hl,_s_state
4129  1557  7E          	ld	a,(hl)
4130  1558  E6 F7       	and	a,0xf7
4131  155A  F6 04       	or	a,0x04
4132  155C  77          	ld	(hl),a
4133  155D              l_spr_turn_horizontal_00103:
4134  155D  2A 00 00    	ld	hl,(_sprite)
4135  1560  26 00       	ld	h,0x00
4136  1562  01 00 00    	ld	bc,_state
4137  1565  09          	add	hl,bc
4138  1566  3A 00 00    	ld	a,(_s_state)
4139  1569  77          	ld	(hl),a
4140  156A  2A 00 00    	ld	hl,(_sprite)
4141  156D  26 00       	ld	h,0x00
4142  156F  01 00 00    	ld	bc,_tile
4143  1572  09          	add	hl,bc
4144  1573  E5          	push	hl
4145  1574  2A 00 00    	ld	hl,(_sprite)
4146  1577  CD 24 09    	call	_spr_tile
4147  157A  C1          	pop	bc
4148  157B  7D          	ld	a,l
4149  157C  02          	ld	(bc), a
4150  157D  C9          	ret
4151  157E              	SECTION code_compiler
4152  157E              ;	---------------------------------
4153  157E              ; Function spr_btile_paint_back
4154  157E              ; ---------------------------------
4155  157E              _spr_btile_paint_back:
4156  157E  21 20 00    	ld	hl,0x0020
4157  1581  22 00 00    	ld	(_tmp_ui),hl
4158  1584  21 00 00    	ld	hl,_map_paper
4159  1587  7E          	ld	a, (hl)
4160  1588  0F          	rrca
4161  1589  0F          	rrca
4162  158A  0F          	rrca
4163  158B  E6 1F       	and	a,0x1f
4164  158D  B6          	or	a, (hl)
4165  158E  F6 40       	or	a,0x40
4166  1590  32 00 00    	ld	(_map_paper_clr),a
4167  1593              l_spr_btile_paint_back_00106:
4168  1593  21 00 00    	ld	hl,_tmp_ui
4169  1596  7E          	ld	a, (hl)
4170  1597  D6 20       	sub	a,0x20
4171  1599  23          	inc	hl
4172  159A  7E          	ld	a, (hl)
4173  159B  DE 2D       	sbc	a,0x2d
4174  159D  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4175  159F  21 00 00    	ld	hl,_tmp0
4176  15A2  36 00       	ld	(hl),0x00
4177  15A4              l_spr_btile_paint_back_00103:
4178  15A4  3A 00 00    	ld	a,(_tmp0)
4179  15A7  D6 10       	sub	a,0x10
4180  15A9  30 34       	jr	NC,l_spr_btile_paint_back_00105
4181  15AB  01 00 00    	ld	bc,_btiles
4182  15AE  2A 00 00    	ld	hl,(_tmp_ui)
4183  15B1  09          	add	hl,bc
4184  15B2  7D          	ld	a,l
4185  15B3  44          	ld	b,h
4186  15B4  21 00 00    	ld	hl,_tmp0
4187  15B7  86          	add	a, (hl)
4188  15B8  4F          	ld	c, a
4189  15B9  78          	ld	a, b
4190  15BA  CE 00       	adc	a,0x00
4191  15BC  47          	ld	b, a
4192  15BD  0A          	ld	a, (bc)
4193  15BE  32 00 00    	ld	(_tmp),a
4194  15C1  E6 38       	and	a,0x38
4195  15C3  5F          	ld	e, a
4196  15C4  3A 00 00    	ld	a,(_map_paper_last)
4197  15C7  93          	sub	a, e
4198  15C8  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4199  15CA  21 00 00    	ld	hl,_tmp
4200  15CD  7E          	ld	a, (hl)
4201  15CE  E6 C7       	and	a,0xc7
4202  15D0  77          	ld	(hl),a
4203  15D1  21 00 00    	ld	hl,_map_paper
4204  15D4  B6          	or	a, (hl)
4205  15D5  32 00 00    	ld	(_tmp),a
4206  15D8  02          	ld	(bc), a
4207  15D9              l_spr_btile_paint_back_00102:
4208  15D9  21 00 00    	ld	hl,_tmp0
4209  15DC  34          	inc	(hl)
4210  15DD  18 C5       	jr	l_spr_btile_paint_back_00103
4211  15DF              l_spr_btile_paint_back_00105:
4212  15DF  2A 00 00    	ld	hl,(_tmp_ui)
4213  15E2  11 30 00    	ld	de,0x0030
4214  15E5  19          	add	hl,de
4215  15E6  22 00 00    	ld	(_tmp_ui),hl
4216  15E9  18 A8       	jr	l_spr_btile_paint_back_00106
4217  15EB              l_spr_btile_paint_back_00108:
4218  15EB  C3 00 00    	jp  _game_attribs
4219  15EE              	SECTION IGNORE
4220  0000              
