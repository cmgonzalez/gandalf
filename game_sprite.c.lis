1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_clear_scr
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_vertical
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_hit_platform
548   0000              	GLOBAL _player_move_input
549   0000              	GLOBAL _player_turn
550   0000              	GLOBAL _player_move
551   0000              	GLOBAL _player_check_input
552   0000              	GLOBAL _player_collision
553   0000              	GLOBAL _player_init
554   0000              	GLOBAL _menu_define_key
555   0000              	GLOBAL _menu_redefine
556   0000              	GLOBAL _menu_main_print
557   0000              	GLOBAL _menu_main
558   0000              	GLOBAL _game_match_back
559   0000              	GLOBAL _game_attribs
560   0000              	GLOBAL _game_boss_clear
561   0000              	GLOBAL _game_obj_clear
562   0000              	GLOBAL _game_obj_chk
563   0000              	GLOBAL _game_obj_set
564   0000              	GLOBAL _game_shoot_fire_boss
565   0000              	GLOBAL _game_shoot_fire
566   0000              	GLOBAL _game_add_enemy
567   0000              	GLOBAL _game_print_header
568   0000              	GLOBAL _game_check_time
569   0000              	GLOBAL _game_rotate_attrib_osd
570   0000              	GLOBAL _game_rotate_attrib
571   0000              	GLOBAL _game_colour_message
572   0000              	GLOBAL _game_paint_attrib_lin_osd
573   0000              	GLOBAL _game_paint_attrib_lin_h
574   0000              	GLOBAL _game_paint_attrib_lin
575   0000              	GLOBAL _game_print_score
576   0000              	GLOBAL _game_check_cell
577   0000              	GLOBAL _game_check_map
578   0000              	GLOBAL _game_loop
579   0000              	GLOBAL _game_round_init
580   0000              	GLOBAL _game_start_timer
581   0000              	GLOBAL _game_update_stats
582   0000              	GLOBAL _game_print_footer
583   0000              	GLOBAL _game_fill_row
584   0000              	GLOBAL _game_fps
585   0000              	GLOBAL _game_respawn
586   0000              	GLOBAL _game_draw_screen
587   0000              	GLOBAL _boss_turn
588   0000              	GLOBAL _enemy_avoid_dead
589   0000              	GLOBAL _enemy_avoid_fall
590   0000              	GLOBAL _enemy_respawn
591   0000              	GLOBAL _enemy_init
592   0000              	GLOBAL _enemy_move
593   0000              	GLOBAL _enemy_turn
594   0000              	GLOBAL _enemy_hit
595   0000              	GLOBAL _enemy_static
596   0000              	GLOBAL _enemy_walk
597   0000              	GLOBAL _enemy_horizontal
598   0000              	GLOBAL _enemy_vertical
599   0000              	GLOBAL _ay_fx_play
600   0000              	GLOBAL _ay_midi_play
601   0000              	GLOBAL _ay_is_playing
602   0000              	GLOBAL _ay_reset
603   0000              	GLOBAL _test_func
604   0000              	GLOBAL _test_proc
605   0000              	GLOBAL _in_mouse_kempston_wheel_delta
606   0000              	GLOBAL _in_mouse_kempston_wheel
607   0000              	GLOBAL _in_mouse_kempston_callee
608   0000              	GLOBAL _in_mouse_kempston
609   0000              	GLOBAL _in_mouse_kempston_setpos_callee
610   0000              	GLOBAL _in_mouse_kempston_setpos
611   0000              	GLOBAL _in_mouse_kempston_reset
612   0000              	GLOBAL _in_mouse_kempston_init
613   0000              	GLOBAL _in_mouse_amx_wheel_delta
614   0000              	GLOBAL _in_mouse_amx_wheel
615   0000              	GLOBAL _in_mouse_amx_callee
616   0000              	GLOBAL _in_mouse_amx
617   0000              	GLOBAL _in_mouse_amx_setpos_callee
618   0000              	GLOBAL _in_mouse_amx_setpos
619   0000              	GLOBAL _in_mouse_amx_reset
620   0000              	GLOBAL _in_mouse_amx_init_callee
621   0000              	GLOBAL _in_mouse_amx_init
622   0000              	GLOBAL _in_stick_sinclair2
623   0000              	GLOBAL _in_stick_sinclair1
624   0000              	GLOBAL _in_stick_kempston
625   0000              	GLOBAL _in_stick_fuller
626   0000              	GLOBAL _in_stick_cursor
627   0000              	GLOBAL _in_stick_keyboard_fastcall
628   0000              	GLOBAL _in_stick_keyboard
629   0000              	GLOBAL _in_wait_nokey
630   0000              	GLOBAL _in_wait_key
631   0000              	GLOBAL _in_test_key
632   0000              	GLOBAL _in_pause_fastcall
633   0000              	GLOBAL _in_pause
634   0000              	GLOBAL _in_key_scancode_fastcall
635   0000              	GLOBAL _in_key_scancode
636   0000              	GLOBAL _in_key_pressed_fastcall
637   0000              	GLOBAL _in_key_pressed
638   0000              	GLOBAL _in_inkey
639   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
640   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
641   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
642   0000              	GLOBAL _NIRVANAP_HOLE
643   0000              	GLOBAL _NIRVANAP_ISR_HOOK
644   0000              	GLOBAL _player_lvl_table
645   0000              	GLOBAL _map_paper_last
646   0000              	GLOBAL _map_paper_clr
647   0000              	GLOBAL _map_paper
648   0000              	GLOBAL _draw_count
649   0000              	GLOBAL _g_player_hit_right
650   0000              	GLOBAL _g_player_hit_left
651   0000              	GLOBAL _bullet_count
652   0000              	GLOBAL _spr_hack
653   0000              	GLOBAL _boss_stat
654   0000              	GLOBAL _boss_time_fire
655   0000              	GLOBAL _boss_time
656   0000              	GLOBAL _boss_tile
657   0000              	GLOBAL _boss_inc
658   0000              	GLOBAL _boss_col
659   0000              	GLOBAL _boss_lin
660   0000              	GLOBAL _bullet_vel
661   0000              	GLOBAL _bullet_frames
662   0000              	GLOBAL _bullet_colint
663   0000              	GLOBAL _bullet_dir
664   0000              	GLOBAL _bullet_tile
665   0000              	GLOBAL _bullet_col
666   0000              	GLOBAL _bullet_lin
667   0000              	GLOBAL _bullet_col0
668   0000              	GLOBAL _bullet_lin0
669   0000              	GLOBAL _bullet_max
670   0000              	GLOBAL _bullet_class
671   0000              	GLOBAL _mush_class
672   0000              	GLOBAL _mush_index
673   0000              	GLOBAL _anim_count
674   0000              	GLOBAL _anim_respanwn
675   0000              	GLOBAL _anim_loop
676   0000              	GLOBAL _anim_end
677   0000              	GLOBAL _anim_int
678   0000              	GLOBAL _anim_tile
679   0000              	GLOBAL _anim_col
680   0000              	GLOBAL _anim_lin
681   0000              	GLOBAL _map_heigth
682   0000              	GLOBAL _map_width
683   0000              	GLOBAL _scr_curr
684   0000              	GLOBAL _scr_obj1
685   0000              	GLOBAL _scr_obj0
686   0000              	GLOBAL _scr_map
687   0000              	GLOBAL _sprite_speed_alt
688   0000              	GLOBAL _sprite_frames
689   0000              	GLOBAL _sprite_speed
690   0000              	GLOBAL _screen_ink
691   0000              	GLOBAL _screen_paper
692   0000              	GLOBAL _player_onstair
693   0000              	GLOBAL _game_start_scr
694   0000              	GLOBAL _game_respawn_tile
695   0000              	GLOBAL _game_respawn_index
696   0000              	GLOBAL _game_respawn_time
697   0000              	GLOBAL _game_score_top
698   0000              	GLOBAL _player_coins
699   0000              	GLOBAL _player_lives
700   0000              	GLOBAL _game_over
701   0000              	GLOBAL _game_sound
702   0000              	GLOBAL _game_inmune
703   0000              	GLOBAL _game_god_mode
704   0000              	GLOBAL _sprite_curr_index
705   0000              	GLOBAL _spr_count
706   0000              	GLOBAL _bullet_time
707   0000              	GLOBAL _anim_time
708   0000              	GLOBAL _frame_time
709   0000              	GLOBAL _curr_time
710   0000              	GLOBAL _s_state
711   0000              	GLOBAL _attrib_osd
712   0000              	GLOBAL _attrib_hl
713   0000              	GLOBAL _attrib
714   0000              	GLOBAL _zx_val_asm
715   0000              	GLOBAL _enemies
716   0000              	GLOBAL _tmp_ui
717   0000              	GLOBAL _tmp_sc
718   0000              	GLOBAL _tmp_uc
719   0000              	GLOBAL _tmp1
720   0000              	GLOBAL _tmp0
721   0000              	GLOBAL _tmp
722   0000              	GLOBAL _index1
723   0000              	GLOBAL _index0
724   0000              	GLOBAL _loop_count
725   0000              	GLOBAL _s_col1
726   0000              	GLOBAL _s_col0
727   0000              	GLOBAL _s_lin1
728   0000              	GLOBAL _s_lin0
729   0000              	GLOBAL _s_tile1
730   0000              	GLOBAL _s_tile0
731   0000              	GLOBAL _player_brick_time
732   0000              	GLOBAL _player_hit_count
733   0000              	GLOBAL _sprite_horizontal_check
734   0000              	GLOBAL _sprite_on_air
735   0000              	GLOBAL _sprite
736   0000              	GLOBAL _fps
737   0000              	GLOBAL _game_respawn_curr_time
738   0000              	GLOBAL _game_worldup
739   0000              	GLOBAL _game_mush_count
740   0000              	GLOBAL _game_boss_fix
741   0000              	GLOBAL _game_boss_hit
742   0000              	GLOBAL _game_boss_alive
743   0000              	GLOBAL _game_boss
744   0000              	GLOBAL _game_world
745   0000              	GLOBAL _game_gravity
746   0000              	GLOBAL _player_anim_stair
747   0000              	GLOBAL _player_hit_time
748   0000              	GLOBAL _player_lin_scr
749   0000              	GLOBAL _player_col_scr
750   0000              	GLOBAL _player_lvl
751   0000              	GLOBAL _player_int
752   0000              	GLOBAL _player_str
753   0000              	GLOBAL _player_max_vita
754   0000              	GLOBAL _player_max_mana
755   0000              	GLOBAL _player_vita
756   0000              	GLOBAL _player_mana
757   0000              	GLOBAL _player_keys
758   0000              	GLOBAL _player_vel_inc
759   0000              	GLOBAL _player_vel_y1
760   0000              	GLOBAL _player_vel_y0
761   0000              	GLOBAL _player_vel_y
762   0000              	GLOBAL _player_vel_x
763   0000              	GLOBAL _player_joy
764   0000              	GLOBAL _player_score
765   0000              	GLOBAL _last_time
766   0000              	GLOBAL _player_slide
767   0000              	GLOBAL _spr_timer
768   0000              	GLOBAL _jump_lin
769   0000              	GLOBAL _player_hit_col
770   0000              	GLOBAL _player_hit_lin
771   0000              	GLOBAL _colint
772   0000              	GLOBAL _col
773   0000              	GLOBAL _lin
774   0000              	GLOBAL _tile
775   0000              	GLOBAL _state_a
776   0000              	GLOBAL _state
777   0000              	GLOBAL _class
778   0000              	GLOBAL _tbuffer
779   0000              	GLOBAL _dirs
780   0000              	GLOBAL _k1
781   0000              	GLOBAL _joyfunc1
782   0000              	GLOBAL _btiles
783   0000              	GLOBAL _spec128
784   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
785   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
786   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
787   0000              	GLOBAL _ay_effect_20
788   0000              	GLOBAL _ay_effect_19
789   0000              	GLOBAL _ay_effect_18
790   0000              	GLOBAL _ay_effect_17
791   0000              	GLOBAL _ay_effect_16
792   0000              	GLOBAL _ay_effect_15
793   0000              	GLOBAL _ay_effect_14
794   0000              	GLOBAL _ay_effect_13
795   0000              	GLOBAL _ay_effect_12
796   0000              	GLOBAL _ay_effect_11
797   0000              	GLOBAL _ay_effect_10
798   0000              	GLOBAL _ay_effect_09
799   0000              	GLOBAL _ay_effect_08
800   0000              	GLOBAL _ay_effect_07
801   0000              	GLOBAL _ay_effect_06
802   0000              	GLOBAL _ay_effect_05
803   0000              	GLOBAL _ay_effect_04
804   0000              	GLOBAL _ay_effect_03
805   0000              	GLOBAL _ay_effect_02
806   0000              	GLOBAL _ay_effect_01
807   0000              	GLOBAL _pb_midi_phase_1
808   0000              	GLOBAL _pb_midi_title
809   0000              	GLOBAL _control_method
810   0000              	GLOBAL _world1_h
811   0000              	GLOBAL _world1_w
812   0000              	GLOBAL _world1
813   0000              	GLOBAL _paper1
814   0000              	GLOBAL _lenght1
815   0000              	GLOBAL _start_scr1
816   0000              	GLOBAL _world0_h
817   0000              	GLOBAL _world0_w
818   0000              	GLOBAL _world0
819   0000              	GLOBAL _paper0
820   0000              	GLOBAL _lenght0
821   0000              	GLOBAL _start_scr0
822   0000              ;--------------------------------------------------------
823   0000              ; special function registers
824   0000              ;--------------------------------------------------------
825   0000              defc _IO_FE	=	0x00fe
826   0000              defc _IO_1FFD	=	0x1ffd
827   0000              defc _IO_7FFD	=	0x7ffd
828   0000              ;--------------------------------------------------------
829   0000              ; ram data
830   0000              ;--------------------------------------------------------
831   0000              	SECTION bss_compiler
832   0000              ;--------------------------------------------------------
833   0000              ; ram data
834   0000              ;--------------------------------------------------------
835   0000              
836   0000              IF 0
837   0000              
838   0000              ; .area _INITIALIZED removed by z88dk
839   0000              
840   0000              
841   0000              ENDIF
842   0000              
843   0000              ;--------------------------------------------------------
844   0000              ; absolute external ram data
845   0000              ;--------------------------------------------------------
846   0000              	SECTION IGNORE
847   0000              ;--------------------------------------------------------
848   0000              ; global & static initialisations
849   0000              ;--------------------------------------------------------
850   0000              	SECTION code_crt_init
851   0000              ;--------------------------------------------------------
852   0000              ; Home
853   0000              ;--------------------------------------------------------
854   0000              	SECTION IGNORE
855   0000              ;--------------------------------------------------------
856   0000              ; code
857   0000              ;--------------------------------------------------------
858   0000              	SECTION code_compiler
859   0000              ;	---------------------------------
860   0000              ; Function spr_calc_index
861   0000              ; ---------------------------------
862   0000              _spr_calc_index:
863   0000  CD 00 00    	call	___sdcc_enter_ix
864   0003  DD 4E 05    	ld	c,(ix+5)
865   0006  CB 39       	srl	c
866   0008  06 00       	ld	b,0x00
867   000A  DD 7E 04    	ld	a,(ix+4)
868   000D  07          	rlca
869   000E  07          	rlca
870   000F  07          	rlca
871   0010  07          	rlca
872   0011  E6 0F       	and	a,0x0f
873   0013  6F          	ld	l, a
874   0014  26 00       	ld	h,0x00
875   0016  29          	add	hl, hl
876   0017  29          	add	hl, hl
877   0018  29          	add	hl, hl
878   0019  29          	add	hl, hl
879   001A  09          	add	hl, bc
880   001B  DD E1       	pop	ix
881   001D  C9          	ret
882   001E              	SECTION code_compiler
883   001E              ;	---------------------------------
884   001E              ; Function spr_chktime
885   001E              ; ---------------------------------
886   001E              _spr_chktime:
887   001E  CD 00 00    	call	___sdcc_enter_ix
888   0021  5E          	ld	e,(hl)
889   0022  F5          	push	af
890   0023  16 00       	ld	d,0x00
891   0025  4D          	ld	c,l
892   0026  44          	ld	b,h
893   0027  21 00 00    	ld	hl,_sprite_speed_alt
894   002A  19          	add	hl, de
895   002B  7E          	ld	a, (hl)
896   002C  B7          	or	a,a
897   002D  20 15       	jr	NZ,l_spr_chktime_00102
898   002F  57          	ld	d,a
899   0030  21 00 00    	ld	hl,_class
900   0033  19          	add	hl, de
901   0034  56          	ld	d, (hl)
902   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
903   0037  82          	add	a, d
904   0038  6F          	ld	l, a
905   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
906   003B  CE 00       	adc	a,0x00
907   003D  67          	ld	h, a
908   003E  7E          	ld	a, (hl)
909   003F  32 00 00    	ld	(_tmp),a
910   0042  18 03       	jr	l_spr_chktime_00103
911   0044              l_spr_chktime_00102:
912   0044  32 00 00    	ld	(_tmp),a
913   0047              l_spr_chktime_00103:
914   0047  3A 00 00    	ld	a,(_tmp)
915   004A  DD 77 FE    	ld	(ix-2),a
916   004D  26 00       	ld	h,0x00
917   004F  DD 74 FF    	ld	(ix-1),h
918   0052  6B          	ld	l, e
919   0053  29          	add	hl, hl
920   0054  11 00 00    	ld	de,_last_time
921   0057  19          	add	hl, de
922   0058  5E          	ld	e, (hl)
923   0059  23          	inc	hl
924   005A  56          	ld	d, (hl)
925   005B  C5          	push	bc
926   005C  DD 6E FE    	ld	l,(ix-2)
927   005F  DD 66 FF    	ld	h,(ix-1)
928   0062  E5          	push	hl
929   0063  D5          	push	de
930   0064  CD 00 00    	call	_game_check_time
931   0067  F1          	pop	af
932   0068  F1          	pop	af
933   0069  C1          	pop	bc
934   006A  7D          	ld	a,l
935   006B  B7          	or	a, a
936   006C  28 14       	jr	Z,l_spr_chktime_00105
937   006E  0A          	ld	a, (bc)
938   006F  6F          	ld	l, a
939   0070  26 00       	ld	h,0x00
940   0072  29          	add	hl, hl
941   0073  01 00 00    	ld	bc,_last_time
942   0076  09          	add	hl,bc
943   0077  ED 5B 00 00 	ld	de,(_curr_time)
944   007B  73          	ld	(hl),e
945   007C  23          	inc	hl
946   007D  72          	ld	(hl),d
947   007E  2E 01       	ld	l,0x01
948   0080  18 02       	jr	l_spr_chktime_00106
949   0082              l_spr_chktime_00105:
950   0082  2E 00       	ld	l,0x00
951   0084              l_spr_chktime_00106:
952   0084  F1          	pop	af
953   0085  DD E1       	pop	ix
954   0087  C9          	ret
955   0088              	SECTION code_compiler
956   0088              ;	---------------------------------
957   0088              ; Function spr_move_up
958   0088              ; ---------------------------------
959   0088              _spr_move_up:
960   0088  2A 00 00    	ld	hl,(_sprite)
961   008B  26 00       	ld	h,0x00
962   008D  01 00 00    	ld	bc,_lin
963   0090  09          	add	hl,bc
964   0091  4E          	ld	c,(hl)
965   0092  3E 10       	ld	a,0x10
966   0094  91          	sub	a,c
967   0095  38 16       	jr	C,l_spr_move_up_00109
968   0097  3A 00 00    	ld	a,(_sprite)
969   009A  D6 07       	sub	a,0x07
970   009C  20 0B       	jr	NZ,l_spr_move_up_00104
971   009E  CD 68 04    	call	_spr_page_up
972   00A1  7D          	ld	a, l
973   00A2  B7          	or	a, a
974   00A3  28 04       	jr	Z,l_spr_move_up_00104
975   00A5  2E 00       	ld	l,0x00
976   00A7  18 52       	jr	l_spr_move_up_00111
977   00A9              l_spr_move_up_00104:
978   00A9  2E 01       	ld	l,0x01
979   00AB  18 4E       	jr	l_spr_move_up_00111
980   00AD              l_spr_move_up_00109:
981   00AD  79          	ld	a, c
982   00AE  C6 FE       	add	a,0xfe
983   00B0  32 00 00    	ld	(_s_lin1),a
984   00B3  07          	rlca
985   00B4  07          	rlca
986   00B5  07          	rlca
987   00B6  07          	rlca
988   00B7  E6 0F       	and	a,0x0f
989   00B9  4F          	ld	c, a
990   00BA  3A 00 00    	ld	a,(_s_lin0)
991   00BD  07          	rlca
992   00BE  07          	rlca
993   00BF  07          	rlca
994   00C0  07          	rlca
995   00C1  E6 0F       	and	a,0x0f
996   00C3  91          	sub	a, c
997   00C4  20 04       	jr	NZ,l_spr_move_up_00135
998   00C6  3E 01       	ld	a,0x01
999   00C8  18 01       	jr	l_spr_move_up_00136
1000  00CA              l_spr_move_up_00135:
1001  00CA  AF          	xor	a,a
1002  00CB              l_spr_move_up_00136:
1003  00CB  EE 01       	xor	a,0x01
1004  00CD  28 1D       	jr	Z,l_spr_move_up_00106
1005  00CF  2A 00 00    	ld	hl,(_sprite)
1006  00D2  26 00       	ld	h,0x00
1007  00D4  01 00 00    	ld	bc,_col
1008  00D7  09          	add	hl,bc
1009  00D8  7E          	ld	a,(hl)
1010  00D9  F5          	push	af
1011  00DA  33          	inc	sp
1012  00DB  3A 00 00    	ld	a,(_s_lin1)
1013  00DE  F5          	push	af
1014  00DF  33          	inc	sp
1015  00E0  CD 00 00    	call	_game_check_map
1016  00E3  F1          	pop	af
1017  00E4  7C          	ld	a,h
1018  00E5  B5          	or	a,l
1019  00E6  28 04       	jr	Z,l_spr_move_up_00106
1020  00E8  2E 01       	ld	l,0x01
1021  00EA  18 0F       	jr	l_spr_move_up_00111
1022  00EC              l_spr_move_up_00106:
1023  00EC  2A 00 00    	ld	hl,(_sprite)
1024  00EF  26 00       	ld	h,0x00
1025  00F1  01 00 00    	ld	bc,_lin
1026  00F4  09          	add	hl,bc
1027  00F5  3A 00 00    	ld	a,(_s_lin1)
1028  00F8  77          	ld	(hl),a
1029  00F9  2E 00       	ld	l,0x00
1030  00FB              l_spr_move_up_00111:
1031  00FB  C9          	ret
1032  00FC              	SECTION code_compiler
1033  00FC              ;	---------------------------------
1034  00FC              ; Function spr_move_down
1035  00FC              ; ---------------------------------
1036  00FC              _spr_move_down:
1037  00FC  CD 00 00    	call	___sdcc_enter_ix
1038  00FF  F5          	push	af
1039  0100  3E 00       	ld	a, +((_lin) & 0xFF)
1040  0102  21 00 00    	ld	hl,_sprite
1041  0105  86          	add	a, (hl)
1042  0106  DD 77 FE    	ld	(ix-2),a
1043  0109  3E 00       	ld	a, +((_lin) / 256)
1044  010B  CE 00       	adc	a,0x00
1045  010D  DD 77 FF    	ld	(ix-1),a
1046  0110  E1          	pop	hl
1047  0111  7E          	ld	a,(hl)
1048  0112  E5          	push	hl
1049  0113  FE 90       	cp	a,0x90
1050  0115  38 29       	jr	C,l_spr_move_down_00112
1051  0117  3A 00 00    	ld	a,(_sprite)
1052  011A  D6 07       	sub	a,0x07
1053  011C  20 1A       	jr	NZ,l_spr_move_down_00105
1054  011E  CD 19 04    	call	_spr_page_down
1055  0121  7D          	ld	a, l
1056  0122  B7          	or	a, a
1057  0123  28 04       	jr	Z,l_spr_move_down_00102
1058  0125  2E 01       	ld	l,0x01
1059  0127  18 68       	jr	l_spr_move_down_00114
1060  0129              l_spr_move_down_00102:
1061  0129  2A 00 00    	ld	hl,(_sprite)
1062  012C  26 00       	ld	h,0x00
1063  012E  01 00 00    	ld	bc,_lin
1064  0131  09          	add	hl,bc
1065  0132  36 90       	ld	(hl),0x90
1066  0134  2E 01       	ld	l,0x01
1067  0136  18 59       	jr	l_spr_move_down_00114
1068  0138              l_spr_move_down_00105:
1069  0138  E1          	pop	hl
1070  0139  E5          	push	hl
1071  013A  36 90       	ld	(hl),0x90
1072  013C  2E 01       	ld	l,0x01
1073  013E  18 51       	jr	l_spr_move_down_00114
1074  0140              l_spr_move_down_00112:
1075  0140  C6 10       	add	a,0x10
1076  0142  32 00 00    	ld	(_s_lin1),a
1077  0145  07          	rlca
1078  0146  07          	rlca
1079  0147  07          	rlca
1080  0148  07          	rlca
1081  0149  E6 0F       	and	a,0x0f
1082  014B  4F          	ld	c, a
1083  014C  3A 00 00    	ld	a,(_s_lin0)
1084  014F  07          	rlca
1085  0150  07          	rlca
1086  0151  07          	rlca
1087  0152  07          	rlca
1088  0153  E6 0F       	and	a,0x0f
1089  0155  5F          	ld	e, a
1090  0156  79          	ld	a, c
1091  0157  93          	sub	a, e
1092  0158  20 04       	jr	NZ,l_spr_move_down_00138
1093  015A  3E 01       	ld	a,0x01
1094  015C  18 01       	jr	l_spr_move_down_00139
1095  015E              l_spr_move_down_00138:
1096  015E  AF          	xor	a,a
1097  015F              l_spr_move_down_00139:
1098  015F  EE 01       	xor	a,0x01
1099  0161  28 1D       	jr	Z,l_spr_move_down_00110
1100  0163  2A 00 00    	ld	hl,(_sprite)
1101  0166  26 00       	ld	h,0x00
1102  0168  01 00 00    	ld	bc,_col
1103  016B  09          	add	hl,bc
1104  016C  7E          	ld	a,(hl)
1105  016D  F5          	push	af
1106  016E  33          	inc	sp
1107  016F  3A 00 00    	ld	a,(_s_lin1)
1108  0172  F5          	push	af
1109  0173  33          	inc	sp
1110  0174  CD 00 00    	call	_game_check_map
1111  0177  F1          	pop	af
1112  0178  7C          	ld	a,h
1113  0179  B5          	or	a,l
1114  017A  28 04       	jr	Z,l_spr_move_down_00110
1115  017C  2E 01       	ld	l,0x01
1116  017E  18 11       	jr	l_spr_move_down_00114
1117  0180              l_spr_move_down_00110:
1118  0180  2A 00 00    	ld	hl,(_sprite)
1119  0183  26 00       	ld	h,0x00
1120  0185  01 00 00    	ld	bc,_lin
1121  0188  09          	add	hl,bc
1122  0189  3A 00 00    	ld	a,(_s_lin1)
1123  018C  C6 F2       	add	a,0xf2
1124  018E  77          	ld	(hl),a
1125  018F  2E 00       	ld	l,0x00
1126  0191              l_spr_move_down_00114:
1127  0191  F1          	pop	af
1128  0192  DD E1       	pop	ix
1129  0194  C9          	ret
1130  0195              	SECTION code_compiler
1131  0195              ;	---------------------------------
1132  0195              ; Function spr_move_horizontal
1133  0195              ; ---------------------------------
1134  0195              _spr_move_horizontal:
1135  0195  2A 00 00    	ld	hl,(_sprite)
1136  0198  26 00       	ld	h,0x00
1137  019A  01 00 00    	ld	bc,_state
1138  019D  09          	add	hl,bc
1139  019E  7E          	ld	a,(hl)
1140  019F  CB 57       	bit	2, a
1141  01A1  28 05       	jr	Z,l_spr_move_horizontal_00104
1142  01A3  CD B4 01    	call	_spr_move_right
1143  01A6  18 0B       	jr	l_spr_move_horizontal_00106
1144  01A8              l_spr_move_horizontal_00104:
1145  01A8  CB 5F       	bit	3, a
1146  01AA  28 05       	jr	Z,l_spr_move_horizontal_00105
1147  01AC  CD B3 02    	call	_spr_move_left
1148  01AF  18 02       	jr	l_spr_move_horizontal_00106
1149  01B1              l_spr_move_horizontal_00105:
1150  01B1  2E 00       	ld	l,0x00
1151  01B3              l_spr_move_horizontal_00106:
1152  01B3  C9          	ret
1153  01B4              	SECTION code_compiler
1154  01B4              ;	---------------------------------
1155  01B4              ; Function spr_move_right
1156  01B4              ; ---------------------------------
1157  01B4              _spr_move_right:
1158  01B4  2A 00 00    	ld	hl,(_sprite)
1159  01B7  26 00       	ld	h,0x00
1160  01B9  01 00 00    	ld	bc,_colint
1161  01BC  09          	add	hl,bc
1162  01BD  7E          	ld	a,(hl)
1163  01BE  3C          	inc	a
1164  01BF  77          	ld	(hl),a
1165  01C0  4F          	ld	c,a
1166  01C1  3A 00 00    	ld	a,(_sprite)
1167  01C4  5F          	ld	e,a
1168  01C5  16 00       	ld	d,0x00
1169  01C7  21 00 00    	ld	hl,_class
1170  01CA  19          	add	hl,de
1171  01CB  5E          	ld	e, (hl)
1172  01CC  16 00       	ld	d,0x00
1173  01CE  21 00 00    	ld	hl,_sprite_frames
1174  01D1  19          	add	hl, de
1175  01D2  7E          	ld	a, (hl)
1176  01D3  91          	sub	a, c
1177  01D4  C2 B0 02    	jp	NZ,l_spr_move_right_00118
1178  01D7  2A 00 00    	ld	hl,(_sprite)
1179  01DA  26 00       	ld	h,0x00
1180  01DC  01 00 00    	ld	bc,_lin
1181  01DF  09          	add	hl,bc
1182  01E0  7E          	ld	a,(hl)
1183  01E1  32 00 00    	ld	(_s_lin1),a
1184  01E4  2A 00 00    	ld	hl,(_sprite)
1185  01E7  26 00       	ld	h,0x00
1186  01E9  01 00 00    	ld	bc,_col
1187  01EC  09          	add	hl,bc
1188  01ED  7E          	ld	a,(hl)
1189  01EE  FE 1E       	cp	a,0x1e
1190  01F0  30 61       	jr	NC,l_spr_move_right_00108
1191  01F2  3C          	inc	a
1192  01F3  32 00 00    	ld	(_s_col1),a
1193  01F6  21 00 00    	ld	hl,_sprite_horizontal_check
1194  01F9  36 01       	ld	(hl),0x01
1195  01FB  2A FF FF    	ld	hl,(_s_col1 - 1)
1196  01FE  3A 00 00    	ld	a,(_s_lin1)
1197  0201  6F          	ld	l,a
1198  0202  E5          	push	hl
1199  0203  CD 00 00    	call	_game_check_map
1200  0206  F1          	pop	af
1201  0207  7D          	ld	a,l
1202  0208  32 00 00    	ld	(_tmp0),a
1203  020B  B7          	or	a, a
1204  020C  20 16       	jr	NZ,l_spr_move_right_00102
1205  020E  3A 00 00    	ld	a,(_s_lin1)
1206  0211  C6 0F       	add	a,0x0f
1207  0213  4F          	ld	c, a
1208  0214  3A 00 00    	ld	a,(_s_col1)
1209  0217  F5          	push	af
1210  0218  33          	inc	sp
1211  0219  79          	ld	a, c
1212  021A  F5          	push	af
1213  021B  33          	inc	sp
1214  021C  CD 00 00    	call	_game_check_map
1215  021F  F1          	pop	af
1216  0220  7D          	ld	a,l
1217  0221  32 00 00    	ld	(_tmp0),a
1218  0224              l_spr_move_right_00102:
1219  0224  21 00 00    	ld	hl,_sprite_horizontal_check
1220  0227  36 00       	ld	(hl),0x00
1221  0229  3A 00 00    	ld	a,(_tmp0)
1222  022C  B7          	or	a, a
1223  022D  28 24       	jr	Z,l_spr_move_right_00108
1224  022F  2A 00 00    	ld	hl,(_sprite)
1225  0232  26 00       	ld	h,0x00
1226  0234  01 00 00    	ld	bc,_colint
1227  0237  09          	add	hl,bc
1228  0238  7E          	ld	a,(hl)
1229  0239  C6 FF       	add	a,0xff
1230  023B  77          	ld	(hl),a
1231  023C  3A 00 00    	ld	a,(_sprite_on_air)
1232  023F  B7          	or	a,a
1233  0240  20 0D       	jr	NZ,l_spr_move_right_00104
1234  0242  2A 00 00    	ld	hl,(_sprite)
1235  0245  26 00       	ld	h,0x00
1236  0247  01 00 00    	ld	bc,_colint
1237  024A  09          	add	hl,bc
1238  024B  7E          	ld	a,(hl)
1239  024C  C6 FF       	add	a,0xff
1240  024E  77          	ld	(hl),a
1241  024F              l_spr_move_right_00104:
1242  024F  2E 01       	ld	l,0x01
1243  0251  18 5F       	jr	l_spr_move_right_00119
1244  0253              l_spr_move_right_00108:
1245  0253  2A 00 00    	ld	hl,(_sprite)
1246  0256  26 00       	ld	h,0x00
1247  0258  01 00 00    	ld	bc,_col
1248  025B  09          	add	hl,bc
1249  025C  34          	inc	(hl)
1250  025D  2A 00 00    	ld	hl,(_sprite)
1251  0260  26 00       	ld	h,0x00
1252  0262  01 00 00    	ld	bc,_colint
1253  0265  09          	add	hl,bc
1254  0266  AF          	xor	a,a
1255  0267  77          	ld	(hl),a
1256  0268  2A 00 00    	ld	hl,(_sprite)
1257  026B  26 00       	ld	h,0x00
1258  026D  01 00 00    	ld	bc,_col
1259  0270  09          	add	hl,bc
1260  0271  5E          	ld	e,(hl)
1261  0272  3E 1E       	ld	a,0x1e
1262  0274  93          	sub	a,e
1263  0275  30 39       	jr	NC,l_spr_move_right_00118
1264  0277  3A 00 00    	ld	a,(_sprite)
1265  027A  D6 07       	sub	a,0x07
1266  027C  28 04       	jr	Z,l_spr_move_right_00156
1267  027E  4D          	ld	c,l
1268  027F  44          	ld	b,h
1269  0280  18 27       	jr	l_spr_move_right_00113
1270  0282              l_spr_move_right_00156:
1271  0282  CD B7 03    	call	_spr_page_right
1272  0285  3A 00 00    	ld	a,(_sprite)
1273  0288  C6 00       	add	a,+((_col) & 0xFF)
1274  028A  4D          	ld	c,l
1275  028B  5F          	ld	e,a
1276  028C  3E 00       	ld	a,+((_col) / 256)
1277  028E  CE 00       	adc	a,0x00
1278  0290  57          	ld	d,a
1279  0291  79          	ld	a, c
1280  0292  B7          	or	a, a
1281  0293  28 0F       	jr	Z,l_spr_move_right_00110
1282  0295  AF          	xor	a, a
1283  0296  12          	ld	(de), a
1284  0297  3A 07 00    	ld	a,(_lin + 7)
1285  029A  32 00 00    	ld	(_player_lin_scr),a
1286  029D  21 00 00    	ld	hl,_player_col_scr
1287  02A0  36 00       	ld	(hl),0x00
1288  02A2  18 08       	jr	l_spr_move_right_00114
1289  02A4              l_spr_move_right_00110:
1290  02A4  3E 1E       	ld	a,0x1e
1291  02A6  12          	ld	(de), a
1292  02A7  18 03       	jr	l_spr_move_right_00114
1293  02A9              l_spr_move_right_00113:
1294  02A9  3E 1E       	ld	a,0x1e
1295  02AB  02          	ld	(bc), a
1296  02AC              l_spr_move_right_00114:
1297  02AC  2E 01       	ld	l,0x01
1298  02AE  18 02       	jr	l_spr_move_right_00119
1299  02B0              l_spr_move_right_00118:
1300  02B0  2E 00       	ld	l,0x00
1301  02B2              l_spr_move_right_00119:
1302  02B2  C9          	ret
1303  02B3              	SECTION code_compiler
1304  02B3              ;	---------------------------------
1305  02B3              ; Function spr_move_left
1306  02B3              ; ---------------------------------
1307  02B3              _spr_move_left:
1308  02B3  2A 00 00    	ld	hl,(_sprite)
1309  02B6  26 00       	ld	h,0x00
1310  02B8  01 00 00    	ld	bc,_colint
1311  02BB  09          	add	hl,bc
1312  02BC  7E          	ld	a,(hl)
1313  02BD  C6 FF       	add	a,0xff
1314  02BF  77          	ld	(hl),a
1315  02C0  2A 00 00    	ld	hl,(_sprite)
1316  02C3  26 00       	ld	h,0x00
1317  02C5  01 00 00    	ld	bc,_colint
1318  02C8  09          	add	hl,bc
1319  02C9  7E          	ld	a,(hl)
1320  02CA  3C          	inc	a
1321  02CB  C2 B4 03    	jp	NZ,l_spr_move_left_00118
1322  02CE  2A 00 00    	ld	hl,(_sprite)
1323  02D1  26 00       	ld	h,0x00
1324  02D3  01 00 00    	ld	bc,_lin
1325  02D6  09          	add	hl,bc
1326  02D7  7E          	ld	a,(hl)
1327  02D8  32 00 00    	ld	(_s_lin1),a
1328  02DB  2A 00 00    	ld	hl,(_sprite)
1329  02DE  26 00       	ld	h,0x00
1330  02E0  01 00 00    	ld	bc,_col
1331  02E3  09          	add	hl,bc
1332  02E4  7E          	ld	a,(hl)
1333  02E5  B7          	or	a, a
1334  02E6  28 5C       	jr	Z,l_spr_move_left_00108
1335  02E8  C6 FF       	add	a,0xff
1336  02EA  32 00 00    	ld	(_s_col1),a
1337  02ED  21 00 00    	ld	hl,_sprite_horizontal_check
1338  02F0  36 01       	ld	(hl),0x01
1339  02F2  2A FF FF    	ld	hl,(_s_col1 - 1)
1340  02F5  3A 00 00    	ld	a,(_s_lin1)
1341  02F8  6F          	ld	l,a
1342  02F9  E5          	push	hl
1343  02FA  CD 00 00    	call	_game_check_map
1344  02FD  F1          	pop	af
1345  02FE  7D          	ld	a,l
1346  02FF  32 00 00    	ld	(_tmp0),a
1347  0302  B7          	or	a, a
1348  0303  20 16       	jr	NZ,l_spr_move_left_00102
1349  0305  3A 00 00    	ld	a,(_s_lin1)
1350  0308  C6 0F       	add	a,0x0f
1351  030A  4F          	ld	c, a
1352  030B  3A 00 00    	ld	a,(_s_col1)
1353  030E  F5          	push	af
1354  030F  33          	inc	sp
1355  0310  79          	ld	a, c
1356  0311  F5          	push	af
1357  0312  33          	inc	sp
1358  0313  CD 00 00    	call	_game_check_map
1359  0316  F1          	pop	af
1360  0317  7D          	ld	a,l
1361  0318  32 00 00    	ld	(_tmp0),a
1362  031B              l_spr_move_left_00102:
1363  031B  21 00 00    	ld	hl,_sprite_horizontal_check
1364  031E  36 00       	ld	(hl),0x00
1365  0320  3A 00 00    	ld	a,(_tmp0)
1366  0323  B7          	or	a, a
1367  0324  28 1E       	jr	Z,l_spr_move_left_00108
1368  0326  2A 00 00    	ld	hl,(_sprite)
1369  0329  26 00       	ld	h,0x00
1370  032B  01 00 00    	ld	bc,_colint
1371  032E  09          	add	hl,bc
1372  032F  34          	inc	(hl)
1373  0330  3A 00 00    	ld	a,(_sprite_on_air)
1374  0333  B7          	or	a,a
1375  0334  20 0A       	jr	NZ,l_spr_move_left_00104
1376  0336  2A 00 00    	ld	hl,(_sprite)
1377  0339  26 00       	ld	h,0x00
1378  033B  01 00 00    	ld	bc,_colint
1379  033E  09          	add	hl,bc
1380  033F  34          	inc	(hl)
1381  0340              l_spr_move_left_00104:
1382  0340  2E 01       	ld	l,0x01
1383  0342  18 72       	jr	l_spr_move_left_00119
1384  0344              l_spr_move_left_00108:
1385  0344  2A 00 00    	ld	hl,(_sprite)
1386  0347  26 00       	ld	h,0x00
1387  0349  01 00 00    	ld	bc,_col
1388  034C  09          	add	hl,bc
1389  034D  7E          	ld	a,(hl)
1390  034E  C6 FF       	add	a,0xff
1391  0350  77          	ld	(hl),a
1392  0351  2A 00 00    	ld	hl,(_sprite)
1393  0354  26 00       	ld	h,0x00
1394  0356  01 00 00    	ld	bc,_colint
1395  0359  09          	add	hl,bc
1396  035A  3A 00 00    	ld	a,(_sprite)
1397  035D  5F          	ld	e,a
1398  035E  16 00       	ld	d,0x00
1399  0360  4D          	ld	c,l
1400  0361  44          	ld	b,h
1401  0362  21 00 00    	ld	hl,_class
1402  0365  19          	add	hl,de
1403  0366  5E          	ld	e, (hl)
1404  0367  16 00       	ld	d,0x00
1405  0369  21 00 00    	ld	hl,_sprite_frames
1406  036C  19          	add	hl, de
1407  036D  5E          	ld	e, (hl)
1408  036E  1D          	dec	e
1409  036F  7B          	ld	a, e
1410  0370  02          	ld	(bc), a
1411  0371  2A 00 00    	ld	hl,(_sprite)
1412  0374  26 00       	ld	h,0x00
1413  0376  01 00 00    	ld	bc,_col
1414  0379  09          	add	hl,bc
1415  037A  7E          	ld	a,(hl)
1416  037B  3C          	inc	a
1417  037C  20 36       	jr	NZ,l_spr_move_left_00118
1418  037E  3A 00 00    	ld	a,(_sprite)
1419  0381  D6 07       	sub	a,0x07
1420  0383  4D          	ld	c,l
1421  0384  44          	ld	b,h
1422  0385  20 27       	jr	NZ,l_spr_move_left_00113
1423  0387  CD EA 03    	call	_spr_page_left
1424  038A  3A 00 00    	ld	a,(_sprite)
1425  038D  C6 00       	add	a,+((_col) & 0xFF)
1426  038F  4D          	ld	c,l
1427  0390  5F          	ld	e,a
1428  0391  3E 00       	ld	a,+((_col) / 256)
1429  0393  CE 00       	adc	a,0x00
1430  0395  57          	ld	d,a
1431  0396  79          	ld	a, c
1432  0397  B7          	or	a, a
1433  0398  28 10       	jr	Z,l_spr_move_left_00110
1434  039A  3E 1E       	ld	a,0x1e
1435  039C  12          	ld	(de), a
1436  039D  3A 07 00    	ld	a,(_lin + 7)
1437  03A0  32 00 00    	ld	(_player_lin_scr),a
1438  03A3  21 00 00    	ld	hl,_player_col_scr
1439  03A6  36 1E       	ld	(hl),0x1e
1440  03A8  18 06       	jr	l_spr_move_left_00114
1441  03AA              l_spr_move_left_00110:
1442  03AA  AF          	xor	a, a
1443  03AB  12          	ld	(de), a
1444  03AC  18 02       	jr	l_spr_move_left_00114
1445  03AE              l_spr_move_left_00113:
1446  03AE  AF          	xor	a, a
1447  03AF  02          	ld	(bc), a
1448  03B0              l_spr_move_left_00114:
1449  03B0  2E 01       	ld	l,0x01
1450  03B2  18 02       	jr	l_spr_move_left_00119
1451  03B4              l_spr_move_left_00118:
1452  03B4  2E 00       	ld	l,0x00
1453  03B6              l_spr_move_left_00119:
1454  03B6  C9          	ret
1455  03B7              	SECTION code_compiler
1456  03B7              ;	---------------------------------
1457  03B7              ; Function spr_page_right
1458  03B7              ; ---------------------------------
1459  03B7              _spr_page_right:
1460  03B7  2A FF FF    	ld	hl,(_map_width - 1)
1461  03BA  3A 00 00    	ld	a,(_scr_curr)
1462  03BD  6F          	ld	l,a
1463  03BE  E5          	push	hl
1464  03BF  CD 00 00    	call	__moduchar_callee
1465  03C2  7D          	ld	a, l
1466  03C3  3C          	inc	a
1467  03C4  32 00 00    	ld	(_tmp1),a
1468  03C7  21 00 00    	ld	hl,_map_width
1469  03CA  96          	sub	a, (hl)
1470  03CB  30 1A       	jr	NC,l_spr_page_right_00102
1471  03CD  3A 00 00    	ld	a,(_game_boss)
1472  03D0  B7          	or	a, a
1473  03D1  28 06       	jr	Z,l_spr_page_right_00101
1474  03D3  3A 00 00    	ld	a,(_game_god_mode)
1475  03D6  B7          	or	a, a
1476  03D7  28 0E       	jr	Z,l_spr_page_right_00102
1477  03D9              l_spr_page_right_00101:
1478  03D9  21 00 00    	ld	hl,_scr_curr
1479  03DC  34          	inc	(hl)
1480  03DD  CD 24 05    	call	_spr_page_map
1481  03E0  CD 00 00    	call	_game_draw_screen
1482  03E3  2E 01       	ld	l,0x01
1483  03E5  18 02       	jr	l_spr_page_right_00105
1484  03E7              l_spr_page_right_00102:
1485  03E7  2E 00       	ld	l,0x00
1486  03E9              l_spr_page_right_00105:
1487  03E9  C9          	ret
1488  03EA              	SECTION code_compiler
1489  03EA              ;	---------------------------------
1490  03EA              ; Function spr_page_left
1491  03EA              ; ---------------------------------
1492  03EA              _spr_page_left:
1493  03EA  2A FF FF    	ld	hl,(_map_width - 1)
1494  03ED  3A 00 00    	ld	a,(_scr_curr)
1495  03F0  6F          	ld	l,a
1496  03F1  E5          	push	hl
1497  03F2  CD 00 00    	call	__moduchar_callee
1498  03F5  7D          	ld	a,l
1499  03F6  32 00 00    	ld	(_tmp1),a
1500  03F9  B7          	or	a, a
1501  03FA  28 1A       	jr	Z,l_spr_page_left_00102
1502  03FC  3A 00 00    	ld	a,(_game_boss)
1503  03FF  B7          	or	a, a
1504  0400  28 06       	jr	Z,l_spr_page_left_00101
1505  0402  3A 00 00    	ld	a,(_game_god_mode)
1506  0405  B7          	or	a, a
1507  0406  28 0E       	jr	Z,l_spr_page_left_00102
1508  0408              l_spr_page_left_00101:
1509  0408  21 00 00    	ld	hl,_scr_curr
1510  040B  35          	dec	(hl)
1511  040C  CD 24 05    	call	_spr_page_map
1512  040F  CD 00 00    	call	_game_draw_screen
1513  0412  2E 01       	ld	l,0x01
1514  0414  18 02       	jr	l_spr_page_left_00105
1515  0416              l_spr_page_left_00102:
1516  0416  2E 00       	ld	l,0x00
1517  0418              l_spr_page_left_00105:
1518  0418  C9          	ret
1519  0419              	SECTION code_compiler
1520  0419              ;	---------------------------------
1521  0419              ; Function spr_page_down
1522  0419              ; ---------------------------------
1523  0419              _spr_page_down:
1524  0419  2A FF FF    	ld	hl,(_map_heigth - 1)
1525  041C  3A 00 00    	ld	a,(_scr_curr)
1526  041F  6F          	ld	l,a
1527  0420  E5          	push	hl
1528  0421  CD 00 00    	call	__divuchar_callee
1529  0424  7D          	ld	a, l
1530  0425  3C          	inc	a
1531  0426  32 00 00    	ld	(_tmp1),a
1532  0429  21 00 00    	ld	hl,_map_heigth
1533  042C  96          	sub	a, (hl)
1534  042D  30 36       	jr	NC,l_spr_page_down_00102
1535  042F  3A 00 00    	ld	a,(_game_boss)
1536  0432  B7          	or	a, a
1537  0433  28 06       	jr	Z,l_spr_page_down_00101
1538  0435  3A 00 00    	ld	a,(_game_god_mode)
1539  0438  B7          	or	a, a
1540  0439  28 2A       	jr	Z,l_spr_page_down_00102
1541  043B              l_spr_page_down_00101:
1542  043B  3A 00 00    	ld	a,(_scr_curr)
1543  043E  21 00 00    	ld	hl,_map_width
1544  0441  86          	add	a, (hl)
1545  0442  32 00 00    	ld	(_scr_curr),a
1546  0445  CD 24 05    	call	_spr_page_map
1547  0448  CD 00 00    	call	_game_draw_screen
1548  044B  21 00 00    	ld	hl,_player_lin_scr
1549  044E  36 08       	ld	(hl),0x08
1550  0450  2A 00 00    	ld	hl,(_sprite)
1551  0453  26 00       	ld	h,0x00
1552  0455  01 00 00    	ld	bc,_lin
1553  0458  09          	add	hl,bc
1554  0459  36 08       	ld	(hl),0x08
1555  045B  3A 07 00    	ld	a,(_col + 0x0007)
1556  045E  32 00 00    	ld	(_player_col_scr),a
1557  0461  2E 01       	ld	l,0x01
1558  0463  18 02       	jr	l_spr_page_down_00105
1559  0465              l_spr_page_down_00102:
1560  0465  2E 00       	ld	l,0x00
1561  0467              l_spr_page_down_00105:
1562  0467  C9          	ret
1563  0468              	SECTION code_compiler
1564  0468              ;	---------------------------------
1565  0468              ; Function spr_page_up
1566  0468              ; ---------------------------------
1567  0468              _spr_page_up:
1568  0468  2A FF FF    	ld	hl,(_map_width - 1)
1569  046B  3A 00 00    	ld	a,(_scr_curr)
1570  046E  6F          	ld	l,a
1571  046F  E5          	push	hl
1572  0470  CD 00 00    	call	__divuchar_callee
1573  0473  7D          	ld	a,l
1574  0474  32 00 00    	ld	(_tmp1),a
1575  0477  B7          	or	a, a
1576  0478  28 36       	jr	Z,l_spr_page_up_00102
1577  047A  3A 00 00    	ld	a,(_game_boss)
1578  047D  B7          	or	a, a
1579  047E  28 06       	jr	Z,l_spr_page_up_00101
1580  0480  3A 00 00    	ld	a,(_game_god_mode)
1581  0483  B7          	or	a, a
1582  0484  28 2A       	jr	Z,l_spr_page_up_00102
1583  0486              l_spr_page_up_00101:
1584  0486  3A 00 00    	ld	a,(_scr_curr)
1585  0489  21 00 00    	ld	hl,_map_width
1586  048C  96          	sub	a, (hl)
1587  048D  32 00 00    	ld	(_scr_curr),a
1588  0490  CD 24 05    	call	_spr_page_map
1589  0493  CD 00 00    	call	_game_draw_screen
1590  0496  2A 00 00    	ld	hl,(_sprite)
1591  0499  26 00       	ld	h,0x00
1592  049B  01 00 00    	ld	bc,_lin
1593  049E  09          	add	hl,bc
1594  049F  36 8C       	ld	(hl),0x8c
1595  04A1  21 00 00    	ld	hl,_player_lin_scr
1596  04A4  36 8C       	ld	(hl),0x8c
1597  04A6  3A 07 00    	ld	a,(_col + 0x0007)
1598  04A9  32 00 00    	ld	(_player_col_scr),a
1599  04AC  2E 01       	ld	l,0x01
1600  04AE  18 02       	jr	l_spr_page_up_00105
1601  04B0              l_spr_page_up_00102:
1602  04B0  2E 00       	ld	l,0x00
1603  04B2              l_spr_page_up_00105:
1604  04B2  C9          	ret
1605  04B3              	SECTION code_compiler
1606  04B3              ;	---------------------------------
1607  04B3              ; Function spr_clear_scr
1608  04B3              ; ---------------------------------
1609  04B3              _spr_clear_scr:
1610  04B3  CD 00 00    	call	___sdcc_enter_ix
1611  04B6  3B          	dec	sp
1612  04B7  06 00       	ld	b,0x00
1613  04B9              l_spr_clear_scr_00105:
1614  04B9  C5          	push	bc
1615  04BA  21 00 00    	ld	hl,0x0000
1616  04BD  E5          	push	hl
1617  04BE  AF          	xor	a, a
1618  04BF  48          	ld	c,b
1619  04C0  47          	ld	b,a
1620  04C1  C5          	push	bc
1621  04C2  CD 00 00    	call	_NIRVANAP_spriteT_callee
1622  04C5  C1          	pop	bc
1623  04C6  04          	inc	b
1624  04C7  78          	ld	a, b
1625  04C8  D6 08       	sub	a,0x08
1626  04CA  38 ED       	jr	C,l_spr_clear_scr_00105
1627  04CC  76          	halt
1628  04CD  F3          	di
1629  04CE  0E 00       	ld	c,0x00
1630  04D0              l_spr_clear_scr_00117:
1631  04D0  79          	ld	a, c
1632  04D1  87          	add	a, a
1633  04D2  DD 77 FF    	ld	(ix-1),a
1634  04D5  5F          	ld	e,a
1635  04D6  06 01       	ld	b,0x01
1636  04D8              l_spr_clear_scr_00107:
1637  04D8  78          	ld	a, b
1638  04D9  07          	rlca
1639  04DA  07          	rlca
1640  04DB  07          	rlca
1641  04DC  07          	rlca
1642  04DD  E6 F0       	and	a,0xf0
1643  04DF  57          	ld	d, a
1644  04E0  C5          	push	bc
1645  04E1  D5          	push	de
1646  04E2  DD 7E FF    	ld	a,(ix-1)
1647  04E5  5A          	ld	e,d
1648  04E6  57          	ld	d,a
1649  04E7  D5          	push	de
1650  04E8  AF          	xor	a, a
1651  04E9  F5          	push	af
1652  04EA  33          	inc	sp
1653  04EB  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1654  04EE  D1          	pop	de
1655  04EF  C1          	pop	bc
1656  04F0  04          	inc	b
1657  04F1  78          	ld	a, b
1658  04F2  D6 0A       	sub	a,0x0a
1659  04F4  38 E2       	jr	C,l_spr_clear_scr_00107
1660  04F6  3E 1E       	ld	a,0x1e
1661  04F8  93          	sub	a, e
1662  04F9  57          	ld	d, a
1663  04FA  1E 01       	ld	e,0x01
1664  04FC              l_spr_clear_scr_00109:
1665  04FC  7B          	ld	a, e
1666  04FD  07          	rlca
1667  04FE  07          	rlca
1668  04FF  07          	rlca
1669  0500  07          	rlca
1670  0501  E6 F0       	and	a,0xf0
1671  0503  47          	ld	b, a
1672  0504  C5          	push	bc
1673  0505  D5          	push	de
1674  0506  58          	ld	e,b
1675  0507  D5          	push	de
1676  0508  AF          	xor	a, a
1677  0509  F5          	push	af
1678  050A  33          	inc	sp
1679  050B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1680  050E  D1          	pop	de
1681  050F  C1          	pop	bc
1682  0510  1C          	inc	e
1683  0511  7B          	ld	a, e
1684  0512  D6 0A       	sub	a,0x0a
1685  0514  38 E6       	jr	C,l_spr_clear_scr_00109
1686  0516  FB          	ei
1687  0517  76          	halt
1688  0518  F3          	di
1689  0519  0C          	inc	c
1690  051A  79          	ld	a, c
1691  051B  D6 08       	sub	a,0x08
1692  051D  38 B1       	jr	C,l_spr_clear_scr_00117
1693  051F  FB          	ei
1694  0520  33          	inc	sp
1695  0521  DD E1       	pop	ix
1696  0523  C9          	ret
1697  0524              	SECTION code_compiler
1698  0524              ;	---------------------------------
1699  0524              ; Function spr_page_map
1700  0524              ; ---------------------------------
1701  0524              _spr_page_map:
1702  0524  CD 00 00    	call	___sdcc_enter_ix
1703  0527  21 EA FF    	ld	hl, -22
1704  052A  39          	add	hl, sp
1705  052B  F9          	ld	sp, hl
1706  052C  3A 00 00    	ld	a,(_game_world)
1707  052F  DD 77 ED    	ld	(ix-19),a
1708  0532  3A 00 00    	ld	a,(_scr_curr)
1709  0535  DD 77 EA    	ld	(ix-22),a
1710  0538  DD 36 F0 10 	ld	(ix-16),0x10
1711  053C  CD B3 04    	call	_spr_clear_scr
1712  053F  F3          	di
1713  0540  3E 16       	ld	a,0x16
1714  0542  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1715  0545  01 FD 7F    	ld	bc,_IO_7FFD
1716  0548  ED 79       	out	(c),a
1717  054A  DD 7E EA    	ld	a,(ix-22)
1718  054D  3C          	inc	a
1719  054E  20 04       	jr	NZ,l_spr_page_map_00207
1720  0550  3E 01       	ld	a,0x01
1721  0552  18 01       	jr	l_spr_page_map_00208
1722  0554              l_spr_page_map_00207:
1723  0554  AF          	xor	a,a
1724  0555              l_spr_page_map_00208:
1725  0555  DD 77 FF    	ld	(ix-1),a
1726  0558  DD 7E ED    	ld	a,(ix-19)
1727  055B  B7          	or	a, a
1728  055C  20 32       	jr	NZ,l_spr_page_map_00106
1729  055E  DD 7E FF    	ld	a,(ix-1)
1730  0561  B7          	or	a, a
1731  0562  28 07       	jr	Z,l_spr_page_map_00102
1732  0564  21 00 00    	ld	hl,_start_scr0
1733  0567  4E          	ld	c, (hl)
1734  0568  DD 71 EA    	ld	(ix-22),c
1735  056B              l_spr_page_map_00102:
1736  056B  01 00 00    	ld	bc,_paper0
1737  056E  DD 6E EA    	ld	l,(ix-22)
1738  0571  26 00       	ld	h,0x00
1739  0573  09          	add	hl,bc
1740  0574  DD 75 FD    	ld	(ix-3),l
1741  0577  DD 74 FE    	ld	(ix-2),h
1742  057A  7E          	ld	a, (hl)
1743  057B  DD 77 FD    	ld	(ix-3),a
1744  057E  3A 00 00    	ld	a,(_world0_w)
1745  0581  DD 77 EC    	ld	(ix-20),a
1746  0584  DD 77 FC    	ld	(ix-4),a
1747  0587  21 00 00    	ld	hl,_world0_h
1748  058A  4E          	ld	c, (hl)
1749  058B  DD 71 FB    	ld	(ix-5),c
1750  058E  18 32       	jr	l_spr_page_map_00107
1751  0590              l_spr_page_map_00106:
1752  0590  DD 7E FF    	ld	a,(ix-1)
1753  0593  B7          	or	a, a
1754  0594  28 07       	jr	Z,l_spr_page_map_00104
1755  0596  21 00 00    	ld	hl,_start_scr1
1756  0599  4E          	ld	c, (hl)
1757  059A  DD 71 EA    	ld	(ix-22),c
1758  059D              l_spr_page_map_00104:
1759  059D  01 00 00    	ld	bc,_paper1
1760  05A0  DD 6E EA    	ld	l,(ix-22)
1761  05A3  26 00       	ld	h,0x00
1762  05A5  09          	add	hl,bc
1763  05A6  DD 75 F9    	ld	(ix-7),l
1764  05A9  DD 74 FA    	ld	(ix-6),h
1765  05AC  7E          	ld	a, (hl)
1766  05AD  DD 77 FD    	ld	(ix-3),a
1767  05B0  3A 00 00    	ld	a,(_world1_w)
1768  05B3  DD 77 EC    	ld	(ix-20),a
1769  05B6  DD 77 FC    	ld	(ix-4),a
1770  05B9  3A 00 00    	ld	a,(_world1_h)
1771  05BC  DD 77 EB    	ld	(ix-21),a
1772  05BF  DD 77 FB    	ld	(ix-5),a
1773  05C2              l_spr_page_map_00107:
1774  05C2  3E 10       	ld	a,0x10
1775  05C4  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1776  05C7  01 FD 7F    	ld	bc,_IO_7FFD
1777  05CA  ED 79       	out	(c),a
1778  05CC  3E 00       	ld	a,0x00
1779  05CE  DD 77 EE    	ld	(ix-18),a
1780  05D1  DD 77 EF    	ld	(ix-17),a
1781  05D4  DD 77 F1    	ld	(ix-15),a
1782  05D7              l_spr_page_map_00111:
1783  05D7  DD 7E F1    	ld	a,(ix-15)
1784  05DA  DD 96 EA    	sub	a,(ix-22)
1785  05DD  30 64       	jr	NC,l_spr_page_map_00113
1786  05DF  3E 16       	ld	a,0x16
1787  05E1  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1788  05E4  01 FD 7F    	ld	bc,_IO_7FFD
1789  05E7  ED 79       	out	(c),a
1790  05E9  DD 7E ED    	ld	a,(ix-19)
1791  05EC  B7          	or	a, a
1792  05ED  20 19       	jr	NZ,l_spr_page_map_00109
1793  05EF  01 00 00    	ld	bc,_lenght0
1794  05F2  DD 6E F1    	ld	l,(ix-15)
1795  05F5  26 00       	ld	h,0x00
1796  05F7  09          	add	hl,bc
1797  05F8  DD 75 F9    	ld	(ix-7),l
1798  05FB  DD 74 FA    	ld	(ix-6),h
1799  05FE  7E          	ld	a, (hl)
1800  05FF  DD 77 F9    	ld	(ix-7),a
1801  0602  DD 36 FA 00 	ld	(ix-6),0x00
1802  0606  18 1A       	jr	l_spr_page_map_00110
1803  0608              l_spr_page_map_00109:
1804  0608  01 00 00    	ld	bc,_lenght1
1805  060B  DD 6E F1    	ld	l,(ix-15)
1806  060E  26 00       	ld	h,0x00
1807  0610  09          	add	hl,bc
1808  0611  DD 75 F7    	ld	(ix-9),l
1809  0614  DD 74 F8    	ld	(ix-8),h
1810  0617  7E          	ld	a, (hl)
1811  0618  DD 77 F7    	ld	(ix-9),a
1812  061B  DD 77 F9    	ld	(ix-7),a
1813  061E  DD 36 FA 00 	ld	(ix-6),0x00
1814  0622              l_spr_page_map_00110:
1815  0622  3E 10       	ld	a,0x10
1816  0624  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1817  0627  01 FD 7F    	ld	bc,_IO_7FFD
1818  062A  ED 79       	out	(c),a
1819  062C  DD 7E EE    	ld	a,(ix-18)
1820  062F  DD 86 F9    	add	a,(ix-7)
1821  0632  DD 77 EE    	ld	(ix-18),a
1822  0635  DD 7E EF    	ld	a,(ix-17)
1823  0638  DD 8E FA    	adc	a,(ix-6)
1824  063B  DD 77 EF    	ld	(ix-17),a
1825  063E  DD 34 F1    	inc	(ix-15)
1826  0641  18 94       	jr	l_spr_page_map_00111
1827  0643              l_spr_page_map_00113:
1828  0643  FB          	ei
1829  0644  F3          	di
1830  0645  DD 36 F2 00 	ld	(ix-14),0x00
1831  0649              l_spr_page_map_00137:
1832  0649  3E 16       	ld	a,0x16
1833  064B  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1834  064E  01 FD 7F    	ld	bc,_IO_7FFD
1835  0651  ED 79       	out	(c),a
1836  0653  DD 7E F2    	ld	a,(ix-14)
1837  0656  DD 77 F7    	ld	(ix-9),a
1838  0659  DD 36 F8 00 	ld	(ix-8),0x00
1839  065D  DD 7E EE    	ld	a,(ix-18)
1840  0660  DD 86 F7    	add	a,(ix-9)
1841  0663  DD 77 F7    	ld	(ix-9),a
1842  0666  DD 7E EF    	ld	a,(ix-17)
1843  0669  DD 8E F8    	adc	a,(ix-8)
1844  066C  DD 77 F8    	ld	(ix-8),a
1845  066F  DD 7E F7    	ld	a,(ix-9)
1846  0672  C6 01       	add	a,0x01
1847  0674  DD 77 F9    	ld	(ix-7),a
1848  0677  DD 7E F8    	ld	a,(ix-8)
1849  067A  CE 00       	adc	a,0x00
1850  067C  DD 77 FA    	ld	(ix-6),a
1851  067F  DD 7E ED    	ld	a,(ix-19)
1852  0682  B7          	or	a, a
1853  0683  20 2A       	jr	NZ,l_spr_page_map_00115
1854  0685  DD 6E F7    	ld	l,(ix-9)
1855  0688  DD 66 F8    	ld	h,(ix-8)
1856  068B  01 00 00    	ld	bc,_world0
1857  068E  09          	add	hl,bc
1858  068F  DD 75 F5    	ld	(ix-11),l
1859  0692  DD 74 F6    	ld	(ix-10),h
1860  0695  7E          	ld	a, (hl)
1861  0696  DD 77 F4    	ld	(ix-12),a
1862  0699  DD 6E F9    	ld	l,(ix-7)
1863  069C  DD 66 FA    	ld	h,(ix-6)
1864  069F  01 00 00    	ld	bc,_world0
1865  06A2  09          	add	hl,bc
1866  06A3  DD 75 F5    	ld	(ix-11),l
1867  06A6  DD 74 F6    	ld	(ix-10),h
1868  06A9  7E          	ld	a, (hl)
1869  06AA  DD 77 F3    	ld	(ix-13),a
1870  06AD  18 28       	jr	l_spr_page_map_00116
1871  06AF              l_spr_page_map_00115:
1872  06AF  DD 6E F7    	ld	l,(ix-9)
1873  06B2  DD 66 F8    	ld	h,(ix-8)
1874  06B5  01 00 00    	ld	bc,_world1
1875  06B8  09          	add	hl,bc
1876  06B9  DD 75 F5    	ld	(ix-11),l
1877  06BC  DD 74 F6    	ld	(ix-10),h
1878  06BF  7E          	ld	a, (hl)
1879  06C0  DD 77 F4    	ld	(ix-12),a
1880  06C3  DD 6E F9    	ld	l,(ix-7)
1881  06C6  DD 66 FA    	ld	h,(ix-6)
1882  06C9  01 00 00    	ld	bc,_world1
1883  06CC  09          	add	hl,bc
1884  06CD  DD 75 F5    	ld	(ix-11),l
1885  06D0  DD 74 F6    	ld	(ix-10),h
1886  06D3  7E          	ld	a, (hl)
1887  06D4  DD 77 F3    	ld	(ix-13),a
1888  06D7              l_spr_page_map_00116:
1889  06D7  3E 10       	ld	a,0x10
1890  06D9  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1891  06DC  01 FD 7F    	ld	bc,_IO_7FFD
1892  06DF  ED 79       	out	(c),a
1893  06E1  DD 7E F4    	ld	a,(ix-12)
1894  06E4  D6 80       	sub	a,0x80
1895  06E6  30 4B       	jr	NC,l_spr_page_map_00127
1896  06E8  DD 7E F0    	ld	a,(ix-16)
1897  06EB  DD 77 F5    	ld	(ix-11),a
1898  06EE  6F          	ld	l, a
1899  06EF  26 00       	ld	h,0x00
1900  06F1  DD 74 F6    	ld	(ix-10),h
1901  06F4  CD 00 00    	call	_game_obj_chk
1902  06F7  DD 75 F7    	ld	(ix-9),l
1903  06FA  3E 00       	ld	a, +((_scr_map) & 0xFF)
1904  06FC  DD 86 F0    	add	a,(ix-16)
1905  06FF  DD 77 F9    	ld	(ix-7),a
1906  0702  3E 00       	ld	a, +((_scr_map) / 256)
1907  0704  CE 00       	adc	a,0x00
1908  0706  DD 77 FA    	ld	(ix-6),a
1909  0709  DD 7E F7    	ld	a,(ix-9)
1910  070C  B7          	or	a, a
1911  070D  20 0C       	jr	NZ,l_spr_page_map_00118
1912  070F  DD 6E F9    	ld	l,(ix-7)
1913  0712  DD 66 FA    	ld	h,(ix-6)
1914  0715  DD 7E F4    	ld	a,(ix-12)
1915  0718  77          	ld	(hl), a
1916  0719  18 13       	jr	l_spr_page_map_00119
1917  071B              l_spr_page_map_00118:
1918  071B  DD 6E F5    	ld	l,(ix-11)
1919  071E  DD 66 F6    	ld	h,(ix-10)
1920  0721  E5          	push	hl
1921  0722  CD 00 00    	call	_game_match_back
1922  0725  F1          	pop	af
1923  0726  4D          	ld	c, l
1924  0727  DD 6E F9    	ld	l,(ix-7)
1925  072A  DD 66 FA    	ld	h,(ix-6)
1926  072D  71          	ld	(hl), c
1927  072E              l_spr_page_map_00119:
1928  072E  DD 34 F0    	inc	(ix-16)
1929  0731  18 65       	jr	l_spr_page_map_00128
1930  0733              l_spr_page_map_00127:
1931  0733  DD 7E F4    	ld	a,(ix-12)
1932  0736  C6 80       	add	a,0x80
1933  0738  4F          	ld	c, a
1934  0739  DD 5E F0    	ld	e,(ix-16)
1935  073C  06 00       	ld	b,0x00
1936  073E              l_spr_page_map_00135:
1937  073E  78          	ld	a, b
1938  073F  91          	sub	a, c
1939  0740  30 50       	jr	NC,l_spr_page_map_00158
1940  0742  DD 73 F5    	ld	(ix-11),e
1941  0745  DD 36 F6 00 	ld	(ix-10),0x00
1942  0749  C5          	push	bc
1943  074A  D5          	push	de
1944  074B  DD 6E F5    	ld	l,(ix-11)
1945  074E  DD 66 F6    	ld	h,(ix-10)
1946  0751  CD 00 00    	call	_game_obj_chk
1947  0754  D1          	pop	de
1948  0755  C1          	pop	bc
1949  0756  7D          	ld	a,l
1950  0757  B7          	or	a,a
1951  0758  20 0B       	jr	NZ,l_spr_page_map_00121
1952  075A  57          	ld	d,a
1953  075B  21 00 00    	ld	hl,_scr_map
1954  075E  19          	add	hl, de
1955  075F  DD 7E F3    	ld	a,(ix-13)
1956  0762  77          	ld	(hl), a
1957  0763  18 24       	jr	l_spr_page_map_00122
1958  0765              l_spr_page_map_00121:
1959  0765  3E 00       	ld	a, +((_scr_map) & 0xFF)
1960  0767  83          	add	a, e
1961  0768  DD 77 F7    	ld	(ix-9),a
1962  076B  3E 00       	ld	a, +((_scr_map) / 256)
1963  076D  CE 00       	adc	a,0x00
1964  076F  DD 77 F8    	ld	(ix-8),a
1965  0772  C5          	push	bc
1966  0773  D5          	push	de
1967  0774  DD 6E F5    	ld	l,(ix-11)
1968  0777  DD 66 F6    	ld	h,(ix-10)
1969  077A  E5          	push	hl
1970  077B  CD 00 00    	call	_game_match_back
1971  077E  F1          	pop	af
1972  077F  D1          	pop	de
1973  0780  C1          	pop	bc
1974  0781  7D          	ld	a,l
1975  0782  DD 6E F7    	ld	l,(ix-9)
1976  0785  DD 66 F8    	ld	h,(ix-8)
1977  0788  77          	ld	(hl), a
1978  0789              l_spr_page_map_00122:
1979  0789  1C          	inc	e
1980  078A  7B          	ld	a, e
1981  078B  D6 A0       	sub	a,0xa0
1982  078D  30 03       	jr	NC,l_spr_page_map_00158
1983  078F  04          	inc	b
1984  0790  18 AC       	jr	l_spr_page_map_00135
1985  0792              l_spr_page_map_00158:
1986  0792  DD 73 F0    	ld	(ix-16),e
1987  0795  DD 34 F2    	inc	(ix-14)
1988  0798              l_spr_page_map_00128:
1989  0798  DD 7E F0    	ld	a,(ix-16)
1990  079B  D6 A0       	sub	a,0xa0
1991  079D  30 0B       	jr	NC,l_spr_page_map_00131
1992  079F  DD 34 F2    	inc	(ix-14)
1993  07A2  DD 7E F2    	ld	a,(ix-14)
1994  07A5  D6 A0       	sub	a,0xa0
1995  07A7  DA 49 06    	jp	C, l_spr_page_map_00137
1996  07AA              l_spr_page_map_00131:
1997  07AA  DD 7E EA    	ld	a,(ix-22)
1998  07AD  32 00 00    	ld	(_scr_curr),a
1999  07B0  DD 7E FC    	ld	a,(ix-4)
2000  07B3  32 00 00    	ld	(_map_width),a
2001  07B6  DD 7E FB    	ld	a,(ix-5)
2002  07B9  32 00 00    	ld	(_map_heigth),a
2003  07BC  DD 7E FD    	ld	a,(ix-3)
2004  07BF  32 00 00    	ld	(_map_paper),a
2005  07C2  CD F8 0D    	call	_spr_init_anim_bullets
2006  07C5  3A 00 00    	ld	a,(_map_paper_last)
2007  07C8  21 00 00    	ld	hl,_map_paper
2008  07CB  96          	sub	a, (hl)
2009  07CC  28 03       	jr	Z,l_spr_page_map_00133
2010  07CE  CD 4D 16    	call	_spr_btile_paint_back
2011  07D1              l_spr_page_map_00133:
2012  07D1  3A 00 00    	ld	a,(_map_paper)
2013  07D4  32 00 00    	ld	(_map_paper_last),a
2014  07D7  FB          	ei
2015  07D8  CD 00 00    	call	_NIRVANAP_start
2016  07DB  21 00 00    	ld	hl,_screen_ink
2017  07DE  36 06       	ld	(hl),0x06
2018  07E0  21 00 00    	ld	hl,___str_0
2019  07E3  E5          	push	hl
2020  07E4  21 17 0C    	ld	hl,0x0c17
2021  07E7  E5          	push	hl
2022  07E8  CD 00 00    	call	_zx_print_str
2023  07EB  3A 00 00    	ld	a,(_scr_curr)
2024  07EE  F5          	push	af
2025  07EF  33          	inc	sp
2026  07F0  21 17 10    	ld	hl,0x1017
2027  07F3  E5          	push	hl
2028  07F4  CD 00 00    	call	_zx_print_chr
2029  07F7  DD F9       	ld	sp, ix
2030  07F9  DD E1       	pop	ix
2031  07FB  C9          	ret
2032  07FC              	SECTION rodata_compiler
2033  0000              ___str_0:
2034  0000  53 43 52 3A 	DEFM "SCR:"
2035  0004  00          	DEFB 0x00
2036  0005              	SECTION code_compiler
2037  07FC              ;	---------------------------------
2038  07FC              ; Function spr_redraw
2039  07FC              ; ---------------------------------
2040  07FC              _spr_redraw:
2041  07FC  2A 00 00    	ld	hl,(_sprite)
2042  07FF  26 00       	ld	h,0x00
2043  0801  01 00 00    	ld	bc,_tile
2044  0804  09          	add	hl,bc
2045  0805  4E          	ld	c, (hl)
2046  0806  3A 00 00    	ld	a,(_sprite)
2047  0809  5F          	ld	e,a
2048  080A  16 00       	ld	d,0x00
2049  080C  21 00 00    	ld	hl,_colint
2050  080F  19          	add	hl,de
2051  0810  7E          	ld	a,(hl)
2052  0811  81          	add	a,c
2053  0812  32 00 00    	ld	(_s_tile1),a
2054  0815  2A 00 00    	ld	hl,(_sprite)
2055  0818  26 00       	ld	h,0x00
2056  081A  01 00 00    	ld	bc,_col
2057  081D  09          	add	hl,bc
2058  081E  7E          	ld	a,(hl)
2059  081F  32 00 00    	ld	(_s_col1),a
2060  0822  2A 00 00    	ld	hl,(_sprite)
2061  0825  26 00       	ld	h,0x00
2062  0827  01 00 00    	ld	bc,_lin
2063  082A  09          	add	hl,bc
2064  082B  7E          	ld	a,(hl)
2065  082C  4D          	ld	c,l
2066  082D  32 00 00    	ld	(_s_lin1),a
2067  0830  21 00 00    	ld	hl,_s_lin0
2068  0833  96          	sub	a, (hl)
2069  0834  20 0A       	jr	NZ,l_spr_redraw_00117
2070  0836  3A 00 00    	ld	a,(_s_col1)
2071  0839  21 00 00    	ld	hl,_s_col0
2072  083C  96          	sub	a, (hl)
2073  083D  CA F3 08    	jp	Z,l_spr_redraw_00118
2074  0840              l_spr_redraw_00117:
2075  0840  3A 00 00    	ld	a,(_sprite)
2076  0843  D6 07       	sub	a,0x07
2077  0845  20 3A       	jr	NZ,l_spr_redraw_00113
2078  0847  3A 00 00    	ld	a,(_player_onstair)
2079  084A  B7          	or	a, a
2080  084B  28 2F       	jr	Z,l_spr_redraw_00104
2081  084D  3A 07 00    	ld	a, (_lin + 7)
2082  0850  E6 03       	and	a,0x03
2083  0852  20 28       	jr	NZ,l_spr_redraw_00104
2084  0854  21 00 00    	ld	hl,_player_anim_stair
2085  0857  34          	inc	(hl)
2086  0858  20 02       	jr	NZ,l_spr_redraw_00162
2087  085A  23          	inc	hl
2088  085B  34          	inc	(hl)
2089  085C              l_spr_redraw_00162:
2090  085C  3E 01       	ld	a,0x01
2091  085E  21 00 00    	ld	hl,_player_anim_stair
2092  0861  BE          	cp	a, (hl)
2093  0862  3E 00       	ld	a,0x00
2094  0864  23          	inc	hl
2095  0865  9E          	sbc	a, (hl)
2096  0866  30 05       	jr	NC,l_spr_redraw_00102
2097  0868  2B          	dec	hl
2098  0869  AF          	xor	a, a
2099  086A  77          	ld	(hl), a
2100  086B  23          	inc	hl
2101  086C  77          	ld	(hl), a
2102  086D              l_spr_redraw_00102:
2103  086D  21 07 00    	ld	hl,_tile + 7
2104  0870  4E          	ld	c, (hl)
2105  0871  21 00 00    	ld	hl,_player_anim_stair
2106  0874  46          	ld	b, (hl)
2107  0875  79          	ld	a, c
2108  0876  80          	add	a, b
2109  0877  C6 04       	add	a,0x04
2110  0879  32 00 00    	ld	(_s_tile1),a
2111  087C              l_spr_redraw_00104:
2112  087C  CD 50 0C    	call	_spr_back_repaint
2113  087F  18 5B       	jr	l_spr_redraw_00114
2114  0881              l_spr_redraw_00113:
2115  0881  3A 00 00    	ld	a,(_s_lin1)
2116  0884  E6 07       	and	a,0x07
2117  0886  20 05       	jr	NZ,l_spr_redraw_00110
2118  0888  CD 50 0C    	call	_spr_back_repaint
2119  088B  18 4F       	jr	l_spr_redraw_00114
2120  088D              l_spr_redraw_00110:
2121  088D  21 00 00    	ld	hl,_s_state
2122  0890  CB 46       	bit	0, (hl)
2123  0892  28 26       	jr	Z,l_spr_redraw_00107
2124  0894  3A 00 00    	ld	a,(_s_lin0)
2125  0897  C6 08       	add	a,0x08
2126  0899  47          	ld	b, a
2127  089A  3A 00 00    	ld	a,(_s_col0)
2128  089D  F5          	push	af
2129  089E  33          	inc	sp
2130  089F  C5          	push	bc
2131  08A0  33          	inc	sp
2132  08A1  3A 00 00    	ld	a,(_map_paper_clr)
2133  08A4  F5          	push	af
2134  08A5  33          	inc	sp
2135  08A6  CD 00 00    	call	_NIRVANAP_fillC_callee
2136  08A9  21 00 00    	ld	hl,_s_col0
2137  08AC  56          	ld	d, (hl)
2138  08AD  14          	inc	d
2139  08AE  58          	ld	e,b
2140  08AF  3A 00 00    	ld	a,(_map_paper_clr)
2141  08B2  D5          	push	de
2142  08B3  F5          	push	af
2143  08B4  33          	inc	sp
2144  08B5  CD 00 00    	call	_NIRVANAP_fillC_callee
2145  08B8  18 22       	jr	l_spr_redraw_00114
2146  08BA              l_spr_redraw_00107:
2147  08BA  2A FF FF    	ld	hl,(_s_col0 - 1)
2148  08BD  3A 00 00    	ld	a,(_s_lin0)
2149  08C0  6F          	ld	l,a
2150  08C1  3A 00 00    	ld	a,(_map_paper_clr)
2151  08C4  E5          	push	hl
2152  08C5  F5          	push	af
2153  08C6  33          	inc	sp
2154  08C7  CD 00 00    	call	_NIRVANAP_fillC_callee
2155  08CA  21 00 00    	ld	hl,_s_col0
2156  08CD  46          	ld	b, (hl)
2157  08CE  04          	inc	b
2158  08CF  C5          	push	bc
2159  08D0  33          	inc	sp
2160  08D1  2A FF FF    	ld	hl,(_s_lin0 - 1)
2161  08D4  3A 00 00    	ld	a,(_map_paper_clr)
2162  08D7  6F          	ld	l,a
2163  08D8  E5          	push	hl
2164  08D9  CD 00 00    	call	_NIRVANAP_fillC_callee
2165  08DC              l_spr_redraw_00114:
2166  08DC  2A FF FF    	ld	hl,(_s_col1 - 1)
2167  08DF  3A 00 00    	ld	a,(_s_lin1)
2168  08E2  6F          	ld	l,a
2169  08E3  E5          	push	hl
2170  08E4  2A FF FF    	ld	hl,(_s_tile1 - 1)
2171  08E7  3A 00 00    	ld	a,(_sprite)
2172  08EA  6F          	ld	l,a
2173  08EB  E5          	push	hl
2174  08EC  CD 00 00    	call	_NIRVANAP_spriteT_callee
2175  08EF  2E 01       	ld	l,0x01
2176  08F1  18 22       	jr	l_spr_redraw_00121
2177  08F3              l_spr_redraw_00118:
2178  08F3  3A 00 00    	ld	a,(_s_tile1)
2179  08F6  21 00 00    	ld	hl,_s_tile0
2180  08F9  96          	sub	a, (hl)
2181  08FA  28 17       	jr	Z,l_spr_redraw_00119
2182  08FC  2A FF FF    	ld	hl,(_s_col1 - 1)
2183  08FF  3A 00 00    	ld	a,(_s_lin1)
2184  0902  6F          	ld	l,a
2185  0903  E5          	push	hl
2186  0904  2A FF FF    	ld	hl,(_s_tile1 - 1)
2187  0907  3A 00 00    	ld	a,(_sprite)
2188  090A  6F          	ld	l,a
2189  090B  E5          	push	hl
2190  090C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2191  090F  2E 00       	ld	l,0x00
2192  0911  18 02       	jr	l_spr_redraw_00121
2193  0913              l_spr_redraw_00119:
2194  0913  2E 00       	ld	l,0x00
2195  0915              l_spr_redraw_00121:
2196  0915  C9          	ret
2197  0916              	SECTION code_compiler
2198  0916              ;	---------------------------------
2199  0916              ; Function spr_destroy
2200  0916              ; ---------------------------------
2201  0916              _spr_destroy:
2202  0916  CD 00 00    	call	___sdcc_enter_ix
2203  0919  F5          	push	af
2204  091A  F5          	push	af
2205  091B  45          	ld	b, l
2206  091C  21 00 00    	ld	hl,_spr_count
2207  091F  35          	dec	(hl)
2208  0920  3E 00       	ld	a, +((_lin) & 0xFF)
2209  0922  80          	add	a, b
2210  0923  DD 77 FE    	ld	(ix-2),a
2211  0926  6F          	ld	l,a
2212  0927  3E 00       	ld	a,+((_lin) / 256)
2213  0929  CE 00       	adc	a,0x00
2214  092B  DD 77 FF    	ld	(ix-1),a
2215  092E  67          	ld	h,a
2216  092F  7E          	ld	a, (hl)
2217  0930  32 00 00    	ld	(_s_lin0),a
2218  0933  3E 00       	ld	a, +((_col) & 0xFF)
2219  0935  80          	add	a, b
2220  0936  DD 77 FC    	ld	(ix-4),a
2221  0939  3E 00       	ld	a, +((_col) / 256)
2222  093B  CE 00       	adc	a,0x00
2223  093D  DD 77 FD    	ld	(ix-3),a
2224  0940  E1          	pop	hl
2225  0941  7E          	ld	a,(hl)
2226  0942  E5          	push	hl
2227  0943  32 00 00    	ld	(_s_col0),a
2228  0946  C5          	push	bc
2229  0947  F5          	push	af
2230  0948  33          	inc	sp
2231  0949  3A 00 00    	ld	a,(_s_lin0)
2232  094C  F5          	push	af
2233  094D  33          	inc	sp
2234  094E  CD 00 00    	call	_spr_calc_index
2235  0951  F1          	pop	af
2236  0952  EB          	ex	de,hl
2237  0953  C1          	pop	bc
2238  0954  EB          	ex	de,hl
2239  0955  22 00 00    	ld	(_index0),hl
2240  0958  C5          	push	bc
2241  0959  E5          	push	hl
2242  095A  CD 00 00    	call	_game_match_back
2243  095D  F1          	pop	af
2244  095E  C1          	pop	bc
2245  095F  7D          	ld	a,l
2246  0960  32 00 00    	ld	(_s_tile0),a
2247  0963  C5          	push	bc
2248  0964  21 00 00    	ld	hl,0x0000
2249  0967  E5          	push	hl
2250  0968  48          	ld	c,b
2251  0969  47          	ld	b,a
2252  096A  C5          	push	bc
2253  096B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2254  096E  CD 50 0C    	call	_spr_back_repaint
2255  0971  C1          	pop	bc
2256  0972  3E 00       	ld	a, +((_tile) & 0xFF)
2257  0974  80          	add	a, b
2258  0975  5F          	ld	e, a
2259  0976  3E 00       	ld	a, +((_tile) / 256)
2260  0978  CE 00       	adc	a,0x00
2261  097A  E1          	pop	hl
2262  097B  57          	ld	d,a
2263  097C  3A 00 00    	ld	a,(_s_tile0)
2264  097F  12          	ld	(de),a
2265  0980  E5          	push	hl
2266  0981  36 00       	ld	(hl),0x00
2267  0983  DD 6E FE    	ld	l,(ix-2)
2268  0986  DD 66 FF    	ld	h,(ix-1)
2269  0989  36 00       	ld	(hl),0x00
2270  098B  11 00 00    	ld	de,_class+0
2271  098E  68          	ld	l,b
2272  098F  26 00       	ld	h,0x00
2273  0991  19          	add	hl, de
2274  0992  36 00       	ld	(hl),0x00
2275  0994  11 00 00    	ld	de,_state+0
2276  0997  68          	ld	l,b
2277  0998  26 00       	ld	h,0x00
2278  099A  19          	add	hl, de
2279  099B  36 00       	ld	(hl),0x00
2280  099D  11 00 00    	ld	de,_state_a+0
2281  09A0  68          	ld	l,b
2282  09A1  26 00       	ld	h,0x00
2283  09A3  19          	add	hl, de
2284  09A4  36 00       	ld	(hl),0x00
2285  09A6  DD F9       	ld	sp, ix
2286  09A8  DD E1       	pop	ix
2287  09AA  C9          	ret
2288  09AB              	SECTION code_compiler
2289  09AB              ;	---------------------------------
2290  09AB              ; Function spr_tile
2291  09AB              ; ---------------------------------
2292  09AB              _spr_tile:
2293  09AB  45          	ld	b,l
2294  09AC  11 00 00    	ld	de,_class+0
2295  09AF  26 00       	ld	h,0x00
2296  09B1  19          	add	hl, de
2297  09B2  5E          	ld	e, (hl)
2298  09B3  3E 13       	ld	a,0x13
2299  09B5  93          	sub	a, e
2300  09B6  DA E9 0A    	jp	C, l_spr_tile_00116
2301  09B9  16 00       	ld	d,0x00
2302  09BB  21 C2 09    	ld	hl,l_spr_tile_00123
2303  09BE  19          	add	hl, de
2304  09BF  19          	add	hl, de
2305  09C0  19          	add	hl, de
2306  09C1  E9          	jp	(hl)
2307  09C2              l_spr_tile_00123:
2308  09C2  C3 E9 0A    	jp	l_spr_tile_00116
2309  09C5  C3 E9 0A    	jp	l_spr_tile_00116
2310  09C8  C3 50 0A    	jp	l_spr_tile_00106
2311  09CB  C3 61 0A    	jp	l_spr_tile_00107
2312  09CE  C3 71 0A    	jp	l_spr_tile_00108
2313  09D1  C3 80 0A    	jp	l_spr_tile_00109
2314  09D4  C3 BC 0A    	jp	l_spr_tile_00113
2315  09D7  C3 CB 0A    	jp	l_spr_tile_00114
2316  09DA  C3 DA 0A    	jp	l_spr_tile_00115
2317  09DD  C3 E9 0A    	jp	l_spr_tile_00116
2318  09E0  C3 E9 0A    	jp	l_spr_tile_00116
2319  09E3  C3 FE 09    	jp	l_spr_tile_00101
2320  09E6  C3 0E 0A    	jp	l_spr_tile_00102
2321  09E9  C3 1E 0A    	jp	l_spr_tile_00103
2322  09EC  C3 2F 0A    	jp	l_spr_tile_00104
2323  09EF  C3 3F 0A    	jp	l_spr_tile_00105
2324  09F2  C3 8F 0A    	jp	l_spr_tile_00110
2325  09F5  C3 E9 0A    	jp	l_spr_tile_00116
2326  09F8  C3 9E 0A    	jp	l_spr_tile_00111
2327  09FB  C3 AD 0A    	jp	l_spr_tile_00112
2328  09FE              l_spr_tile_00101:
2329  09FE  AF          	xor	a, a
2330  09FF  48          	ld	c,b
2331  0A00  47          	ld	b,a
2332  0A01  C5          	push	bc
2333  0A02  3E 90       	ld	a,0x90
2334  0A04  F5          	push	af
2335  0A05  33          	inc	sp
2336  0A06  CD EC 0A    	call	_spr_tile_dir
2337  0A09  F1          	pop	af
2338  0A0A  33          	inc	sp
2339  0A0B  C3 EB 0A    	jp	l_spr_tile_00117
2340  0A0E              l_spr_tile_00102:
2341  0A0E  AF          	xor	a, a
2342  0A0F  48          	ld	c,b
2343  0A10  47          	ld	b,a
2344  0A11  C5          	push	bc
2345  0A12  3E 94       	ld	a,0x94
2346  0A14  F5          	push	af
2347  0A15  33          	inc	sp
2348  0A16  CD EC 0A    	call	_spr_tile_dir
2349  0A19  F1          	pop	af
2350  0A1A  33          	inc	sp
2351  0A1B  C3 EB 0A    	jp	l_spr_tile_00117
2352  0A1E              l_spr_tile_00103:
2353  0A1E  3E 02       	ld	a,0x02
2354  0A20  48          	ld	c,b
2355  0A21  47          	ld	b,a
2356  0A22  C5          	push	bc
2357  0A23  3E 98       	ld	a,0x98
2358  0A25  F5          	push	af
2359  0A26  33          	inc	sp
2360  0A27  CD EC 0A    	call	_spr_tile_dir
2361  0A2A  F1          	pop	af
2362  0A2B  33          	inc	sp
2363  0A2C  C3 EB 0A    	jp	l_spr_tile_00117
2364  0A2F              l_spr_tile_00104:
2365  0A2F  AF          	xor	a, a
2366  0A30  48          	ld	c,b
2367  0A31  47          	ld	b,a
2368  0A32  C5          	push	bc
2369  0A33  3E 9C       	ld	a,0x9c
2370  0A35  F5          	push	af
2371  0A36  33          	inc	sp
2372  0A37  CD EC 0A    	call	_spr_tile_dir
2373  0A3A  F1          	pop	af
2374  0A3B  33          	inc	sp
2375  0A3C  C3 EB 0A    	jp	l_spr_tile_00117
2376  0A3F              l_spr_tile_00105:
2377  0A3F  3E 04       	ld	a,0x04
2378  0A41  48          	ld	c,b
2379  0A42  47          	ld	b,a
2380  0A43  C5          	push	bc
2381  0A44  3E A0       	ld	a,0xa0
2382  0A46  F5          	push	af
2383  0A47  33          	inc	sp
2384  0A48  CD EC 0A    	call	_spr_tile_dir
2385  0A4B  F1          	pop	af
2386  0A4C  33          	inc	sp
2387  0A4D  C3 EB 0A    	jp	l_spr_tile_00117
2388  0A50              l_spr_tile_00106:
2389  0A50  3E 02       	ld	a,0x02
2390  0A52  48          	ld	c,b
2391  0A53  47          	ld	b,a
2392  0A54  C5          	push	bc
2393  0A55  3E A8       	ld	a,0xa8
2394  0A57  F5          	push	af
2395  0A58  33          	inc	sp
2396  0A59  CD EC 0A    	call	_spr_tile_dir
2397  0A5C  F1          	pop	af
2398  0A5D  33          	inc	sp
2399  0A5E  C3 EB 0A    	jp	l_spr_tile_00117
2400  0A61              l_spr_tile_00107:
2401  0A61  AF          	xor	a, a
2402  0A62  48          	ld	c,b
2403  0A63  47          	ld	b,a
2404  0A64  C5          	push	bc
2405  0A65  3E AC       	ld	a,0xac
2406  0A67  F5          	push	af
2407  0A68  33          	inc	sp
2408  0A69  CD EC 0A    	call	_spr_tile_dir
2409  0A6C  F1          	pop	af
2410  0A6D  33          	inc	sp
2411  0A6E  C3 EB 0A    	jp	l_spr_tile_00117
2412  0A71              l_spr_tile_00108:
2413  0A71  AF          	xor	a, a
2414  0A72  48          	ld	c,b
2415  0A73  47          	ld	b,a
2416  0A74  C5          	push	bc
2417  0A75  3E AE       	ld	a,0xae
2418  0A77  F5          	push	af
2419  0A78  33          	inc	sp
2420  0A79  CD EC 0A    	call	_spr_tile_dir
2421  0A7C  F1          	pop	af
2422  0A7D  33          	inc	sp
2423  0A7E  18 6B       	jr	l_spr_tile_00117
2424  0A80              l_spr_tile_00109:
2425  0A80  AF          	xor	a, a
2426  0A81  48          	ld	c,b
2427  0A82  47          	ld	b,a
2428  0A83  C5          	push	bc
2429  0A84  3E B0       	ld	a,0xb0
2430  0A86  F5          	push	af
2431  0A87  33          	inc	sp
2432  0A88  CD EC 0A    	call	_spr_tile_dir
2433  0A8B  F1          	pop	af
2434  0A8C  33          	inc	sp
2435  0A8D  18 5C       	jr	l_spr_tile_00117
2436  0A8F              l_spr_tile_00110:
2437  0A8F  AF          	xor	a, a
2438  0A90  48          	ld	c,b
2439  0A91  47          	ld	b,a
2440  0A92  C5          	push	bc
2441  0A93  3E B2       	ld	a,0xb2
2442  0A95  F5          	push	af
2443  0A96  33          	inc	sp
2444  0A97  CD EC 0A    	call	_spr_tile_dir
2445  0A9A  F1          	pop	af
2446  0A9B  33          	inc	sp
2447  0A9C  18 4D       	jr	l_spr_tile_00117
2448  0A9E              l_spr_tile_00111:
2449  0A9E  AF          	xor	a, a
2450  0A9F  48          	ld	c,b
2451  0AA0  47          	ld	b,a
2452  0AA1  C5          	push	bc
2453  0AA2  3E B4       	ld	a,0xb4
2454  0AA4  F5          	push	af
2455  0AA5  33          	inc	sp
2456  0AA6  CD EC 0A    	call	_spr_tile_dir
2457  0AA9  F1          	pop	af
2458  0AAA  33          	inc	sp
2459  0AAB  18 3E       	jr	l_spr_tile_00117
2460  0AAD              l_spr_tile_00112:
2461  0AAD  AF          	xor	a, a
2462  0AAE  48          	ld	c,b
2463  0AAF  47          	ld	b,a
2464  0AB0  C5          	push	bc
2465  0AB1  3E B6       	ld	a,0xb6
2466  0AB3  F5          	push	af
2467  0AB4  33          	inc	sp
2468  0AB5  CD EC 0A    	call	_spr_tile_dir
2469  0AB8  F1          	pop	af
2470  0AB9  33          	inc	sp
2471  0ABA  18 2F       	jr	l_spr_tile_00117
2472  0ABC              l_spr_tile_00113:
2473  0ABC  AF          	xor	a, a
2474  0ABD  48          	ld	c,b
2475  0ABE  47          	ld	b,a
2476  0ABF  C5          	push	bc
2477  0AC0  3E C0       	ld	a,0xc0
2478  0AC2  F5          	push	af
2479  0AC3  33          	inc	sp
2480  0AC4  CD EC 0A    	call	_spr_tile_dir
2481  0AC7  F1          	pop	af
2482  0AC8  33          	inc	sp
2483  0AC9  18 20       	jr	l_spr_tile_00117
2484  0ACB              l_spr_tile_00114:
2485  0ACB  AF          	xor	a, a
2486  0ACC  48          	ld	c,b
2487  0ACD  47          	ld	b,a
2488  0ACE  C5          	push	bc
2489  0ACF  3E C2       	ld	a,0xc2
2490  0AD1  F5          	push	af
2491  0AD2  33          	inc	sp
2492  0AD3  CD EC 0A    	call	_spr_tile_dir
2493  0AD6  F1          	pop	af
2494  0AD7  33          	inc	sp
2495  0AD8  18 11       	jr	l_spr_tile_00117
2496  0ADA              l_spr_tile_00115:
2497  0ADA  AF          	xor	a, a
2498  0ADB  48          	ld	c,b
2499  0ADC  47          	ld	b,a
2500  0ADD  C5          	push	bc
2501  0ADE  3E C4       	ld	a,0xc4
2502  0AE0  F5          	push	af
2503  0AE1  33          	inc	sp
2504  0AE2  CD EC 0A    	call	_spr_tile_dir
2505  0AE5  F1          	pop	af
2506  0AE6  33          	inc	sp
2507  0AE7  18 02       	jr	l_spr_tile_00117
2508  0AE9              l_spr_tile_00116:
2509  0AE9  2E 00       	ld	l,0x00
2510  0AEB              l_spr_tile_00117:
2511  0AEB  C9          	ret
2512  0AEC              	SECTION code_compiler
2513  0AEC              ;	---------------------------------
2514  0AEC              ; Function spr_tile_dir
2515  0AEC              ; ---------------------------------
2516  0AEC              _spr_tile_dir:
2517  0AEC  CD 00 00    	call	___sdcc_enter_ix
2518  0AEF  3E 00       	ld	a, +((_state) & 0xFF)
2519  0AF1  DD 86 05    	add	a,(ix+5)
2520  0AF4  4F          	ld	c, a
2521  0AF5  3E 00       	ld	a, +((_state) / 256)
2522  0AF7  CE 00       	adc	a,0x00
2523  0AF9  47          	ld	b, a
2524  0AFA  0A          	ld	a, (bc)
2525  0AFB  4F          	ld	c,a
2526  0AFC  CB 57       	bit	2,a
2527  0AFE  28 05       	jr	Z,l_spr_tile_dir_00102
2528  0B00  DD 6E 04    	ld	l,(ix+4)
2529  0B03  18 2D       	jr	l_spr_tile_dir_00109
2530  0B05              l_spr_tile_dir_00102:
2531  0B05  DD 7E 04    	ld	a,(ix+4)
2532  0B08  DD 86 06    	add	a,(ix+6)
2533  0B0B  47          	ld	b, a
2534  0B0C  CB 59       	bit	3, c
2535  0B0E  28 03       	jr	Z,l_spr_tile_dir_00104
2536  0B10  68          	ld	l, b
2537  0B11  18 1F       	jr	l_spr_tile_dir_00109
2538  0B13              l_spr_tile_dir_00104:
2539  0B13  3E 00       	ld	a, +((_state_a) & 0xFF)
2540  0B15  DD 86 05    	add	a,(ix+5)
2541  0B18  5F          	ld	e, a
2542  0B19  3E 00       	ld	a, +((_state_a) / 256)
2543  0B1B  CE 00       	adc	a,0x00
2544  0B1D  57          	ld	d, a
2545  0B1E  1A          	ld	a, (de)
2546  0B1F  CB 67       	bit	4, a
2547  0B21  28 05       	jr	Z,l_spr_tile_dir_00106
2548  0B23  DD 6E 04    	ld	l,(ix+4)
2549  0B26  18 0A       	jr	l_spr_tile_dir_00109
2550  0B28              l_spr_tile_dir_00106:
2551  0B28  CB 5F       	bit	3, a
2552  0B2A  28 03       	jr	Z,l_spr_tile_dir_00108
2553  0B2C  68          	ld	l, b
2554  0B2D  18 03       	jr	l_spr_tile_dir_00109
2555  0B2F              l_spr_tile_dir_00108:
2556  0B2F  DD 6E 04    	ld	l,(ix+4)
2557  0B32              l_spr_tile_dir_00109:
2558  0B32  DD E1       	pop	ix
2559  0B34  C9          	ret
2560  0B35              	SECTION code_compiler
2561  0B35              ;	---------------------------------
2562  0B35              ; Function spr_brick_anim
2563  0B35              ; ---------------------------------
2564  0B35              _spr_brick_anim:
2565  0B35  CD 00 00    	call	___sdcc_enter_ix
2566  0B38  F5          	push	af
2567  0B39  3B          	dec	sp
2568  0B3A  4D          	ld	c, l
2569  0B3B  21 00 00    	ld	hl,_player_hit_col
2570  0B3E  56          	ld	d, (hl)
2571  0B3F  21 00 00    	ld	hl,_player_hit_lin
2572  0B42  5E          	ld	e, (hl)
2573  0B43  C5          	push	bc
2574  0B44  D5          	push	de
2575  0B45  D5          	push	de
2576  0B46  CD 00 00    	call	_spr_calc_index
2577  0B49  F1          	pop	af
2578  0B4A  DD 74 FF    	ld	(ix-1),h
2579  0B4D  DD 75 FE    	ld	(ix-2),l
2580  0B50  D1          	pop	de
2581  0B51  C1          	pop	bc
2582  0B52  DD 6E FE    	ld	l,(ix-2)
2583  0B55  DD 66 FF    	ld	h,(ix-1)
2584  0B58  22 00 00    	ld	(_index1),hl
2585  0B5B  21 00 00    	ld	hl,_index1
2586  0B5E  7E          	ld	a, (hl)
2587  0B5F  C6 F0       	add	a,0xf0
2588  0B61  DD 77 FE    	ld	(ix-2),a
2589  0B64  23          	inc	hl
2590  0B65  7E          	ld	a, (hl)
2591  0B66  CE FF       	adc	a,0xff
2592  0B68  DD 77 FF    	ld	(ix-1),a
2593  0B6B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2594  0B6D  DD 86 FE    	add	a,(ix-2)
2595  0B70  6F          	ld	l, a
2596  0B71  3E 00       	ld	a, +((_scr_map) / 256)
2597  0B73  DD 8E FF    	adc	a,(ix-1)
2598  0B76  67          	ld	h, a
2599  0B77  7E          	ld	a, (hl)
2600  0B78  DD 77 FD    	ld	(ix-3),a
2601  0B7B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2602  0B7D  21 00 00    	ld	hl,_index1
2603  0B80  86          	add	a, (hl)
2604  0B81  DD 77 FE    	ld	(ix-2),a
2605  0B84  3E 00       	ld	a, +((_scr_map) / 256)
2606  0B86  23          	inc	hl
2607  0B87  8E          	adc	a, (hl)
2608  0B88  DD 6E FE    	ld	l,(ix-2)
2609  0B8B  DD 77 FF    	ld	(ix-1),a
2610  0B8E  67          	ld	h,a
2611  0B8F  46          	ld	b, (hl)
2612  0B90  79          	ld	a, c
2613  0B91  B7          	or	a, a
2614  0B92  28 08       	jr	Z,l_spr_brick_anim_00102
2615  0B94  7B          	ld	a, e
2616  0B95  C6 F6       	add	a,0xf6
2617  0B97  32 00 00    	ld	(_tmp),a
2618  0B9A  18 06       	jr	l_spr_brick_anim_00103
2619  0B9C              l_spr_brick_anim_00102:
2620  0B9C  7B          	ld	a, e
2621  0B9D  C6 F8       	add	a,0xf8
2622  0B9F  32 00 00    	ld	(_tmp),a
2623  0BA2              l_spr_brick_anim_00103:
2624  0BA2  F3          	di
2625  0BA3  79          	ld	a, c
2626  0BA4  B7          	or	a, a
2627  0BA5  28 1A       	jr	Z,l_spr_brick_anim_00105
2628  0BA7  3A 00 00    	ld	a,(_map_paper_clr)
2629  0BAA  C5          	push	bc
2630  0BAB  D5          	push	de
2631  0BAC  D5          	push	de
2632  0BAD  F5          	push	af
2633  0BAE  33          	inc	sp
2634  0BAF  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2635  0BB2  D1          	pop	de
2636  0BB3  C1          	pop	bc
2637  0BB4  D5          	push	de
2638  0BB5  33          	inc	sp
2639  0BB6  3A 00 00    	ld	a,(_tmp)
2640  0BB9  48          	ld	c,b
2641  0BBA  47          	ld	b,a
2642  0BBB  C5          	push	bc
2643  0BBC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2644  0BBF  18 1E       	jr	l_spr_brick_anim_00106
2645  0BC1              l_spr_brick_anim_00105:
2646  0BC1  3A 00 00    	ld	a,(_tmp)
2647  0BC4  C6 F0       	add	a,0xf0
2648  0BC6  C5          	push	bc
2649  0BC7  D5          	push	de
2650  0BC8  5F          	ld	e,a
2651  0BC9  D5          	push	de
2652  0BCA  DD 7E FD    	ld	a,(ix-3)
2653  0BCD  F5          	push	af
2654  0BCE  33          	inc	sp
2655  0BCF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2656  0BD2  D1          	pop	de
2657  0BD3  C1          	pop	bc
2658  0BD4  D5          	push	de
2659  0BD5  33          	inc	sp
2660  0BD6  3A 00 00    	ld	a,(_tmp)
2661  0BD9  48          	ld	c,b
2662  0BDA  47          	ld	b,a
2663  0BDB  C5          	push	bc
2664  0BDC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2665  0BDF              l_spr_brick_anim_00106:
2666  0BDF  FB          	ei
2667  0BE0  DD F9       	ld	sp, ix
2668  0BE2  DD E1       	pop	ix
2669  0BE4  C9          	ret
2670  0BE5              	SECTION code_compiler
2671  0BE5              ;	---------------------------------
2672  0BE5              ; Function spr_draw_index
2673  0BE5              ; ---------------------------------
2674  0BE5              _spr_draw_index:
2675  0BE5  CD 00 00    	call	___sdcc_enter_ix
2676  0BE8  DD 4E 04    	ld	c,(ix+4)
2677  0BEB  79          	ld	a, c
2678  0BEC  E6 0F       	and	a,0x0f
2679  0BEE  87          	add	a, a
2680  0BEF  32 00 00    	ld	(_s_col1),a
2681  0BF2  21 00 00    	ld	hl,_s_lin1
2682  0BF5  71          	ld	(hl),c
2683  0BF6  79          	ld	a,c
2684  0BF7  07          	rlca
2685  0BF8  07          	rlca
2686  0BF9  07          	rlca
2687  0BFA  07          	rlca
2688  0BFB  E6 0F       	and	a,0x0f
2689  0BFD  07          	rlca
2690  0BFE  07          	rlca
2691  0BFF  07          	rlca
2692  0C00  07          	rlca
2693  0C01  E6 F0       	and	a,0xf0
2694  0C03  77          	ld	(hl), a
2695  0C04  F3          	di
2696  0C05  3E 00       	ld	a, +((_scr_map) & 0xFF)
2697  0C07  DD 86 04    	add	a,(ix+4)
2698  0C0A  4F          	ld	c, a
2699  0C0B  3E 00       	ld	a, +((_scr_map) / 256)
2700  0C0D  DD 8E 05    	adc	a,(ix+5)
2701  0C10  47          	ld	b, a
2702  0C11  0A          	ld	a, (bc)
2703  0C12  47          	ld	b, a
2704  0C13  3A 00 00    	ld	a,(_s_col1)
2705  0C16  F5          	push	af
2706  0C17  33          	inc	sp
2707  0C18  3A 00 00    	ld	a,(_s_lin1)
2708  0C1B  48          	ld	c,b
2709  0C1C  47          	ld	b,a
2710  0C1D  C5          	push	bc
2711  0C1E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2712  0C21  FB          	ei
2713  0C22  DD E1       	pop	ix
2714  0C24  C9          	ret
2715  0C25              	SECTION code_compiler
2716  0C25              ;	---------------------------------
2717  0C25              ; Function spr_calc_hor
2718  0C25              ; ---------------------------------
2719  0C25              _spr_calc_hor:
2720  0C25  CD 00 00    	call	___sdcc_enter_ix
2721  0C28  3E 00       	ld	a, +((_col) & 0xFF)
2722  0C2A  DD 86 04    	add	a,(ix+4)
2723  0C2D  4F          	ld	c, a
2724  0C2E  3E 00       	ld	a, +((_col) / 256)
2725  0C30  CE 00       	adc	a,0x00
2726  0C32  47          	ld	b, a
2727  0C33  0A          	ld	a, (bc)
2728  0C34  5F          	ld	e, a
2729  0C35  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2730  0C37  DD 86 04    	add	a,(ix+4)
2731  0C3A  4F          	ld	c, a
2732  0C3B  3E 00       	ld	a, +((_sprite_frames) / 256)
2733  0C3D  CE 00       	adc	a,0x00
2734  0C3F  47          	ld	b, a
2735  0C40  0A          	ld	a, (bc)
2736  0C41  67          	ld	h, a
2737  0C42  2E 00       	ld	l,0x00
2738  0C44  55          	ld	d, l
2739  0C45  06 08       	ld	b,0x08
2740  0C47              l_spr_calc_hor_00103:
2741  0C47  29          	add	hl, hl
2742  0C48  30 01       	jr	NC,l_spr_calc_hor_00104
2743  0C4A  19          	add	hl, de
2744  0C4B              l_spr_calc_hor_00104:
2745  0C4B  10 FA       	djnz	l_spr_calc_hor_00103
2746  0C4D  DD E1       	pop	ix
2747  0C4F  C9          	ret
2748  0C50              	SECTION code_compiler
2749  0C50              ;	---------------------------------
2750  0C50              ; Function spr_back_repaint
2751  0C50              ; ---------------------------------
2752  0C50              _spr_back_repaint:
2753  0C50  CD 00 00    	call	___sdcc_enter_ix
2754  0C53  3B          	dec	sp
2755  0C54  3A 00 00    	ld	a,(_spr_hack)
2756  0C57  B7          	or	a, a
2757  0C58  20 02       	jr	NZ,l_spr_back_repaint_00102
2758  0C5A  76          	halt
2759  0C5B  F3          	di
2760  0C5C              l_spr_back_repaint_00102:
2761  0C5C  2A FF FF    	ld	hl,(_s_col0 - 1)
2762  0C5F  3A 00 00    	ld	a,(_s_lin0)
2763  0C62  6F          	ld	l,a
2764  0C63  E5          	push	hl
2765  0C64  CD 00 00    	call	_spr_calc_index
2766  0C67  F1          	pop	af
2767  0C68  7D          	ld	a,l
2768  0C69  32 00 00    	ld	(_sprite_curr_index),a
2769  0C6C  21 00 00    	ld	hl,_s_lin0
2770  0C6F  7E          	ld	a, (hl)
2771  0C70  E6 0F       	and	a,0x0f
2772  0C72  4F          	ld	c, a
2773  0C73  7E          	ld	a, (hl)
2774  0C74  07          	rlca
2775  0C75  07          	rlca
2776  0C76  07          	rlca
2777  0C77  07          	rlca
2778  0C78  E6 0F       	and	a,0x0f
2779  0C7A  5F          	ld	e, a
2780  0C7B  21 00 00    	ld	hl,_s_col0
2781  0C7E  CB 46       	bit	0, (hl)
2782  0C80  20 68       	jr	NZ,l_spr_back_repaint_00110
2783  0C82  79          	ld	a, c
2784  0C83  B7          	or	a, a
2785  0C84  20 1D       	jr	NZ,l_spr_back_repaint_00104
2786  0C86  2A 00 00    	ld	hl,(_sprite_curr_index)
2787  0C89  26 00       	ld	h,0x00
2788  0C8B  01 00 00    	ld	bc,_scr_map
2789  0C8E  09          	add	hl,bc
2790  0C8F  46          	ld	b,(hl)
2791  0C90  3A 00 00    	ld	a,(_s_col0)
2792  0C93  F5          	push	af
2793  0C94  33          	inc	sp
2794  0C95  3A 00 00    	ld	a,(_s_lin0)
2795  0C98  48          	ld	c,b
2796  0C99  47          	ld	b,a
2797  0C9A  C5          	push	bc
2798  0C9B  CD C7 0D    	call	_spr_tile_paint
2799  0C9E  F1          	pop	af
2800  0C9F  33          	inc	sp
2801  0CA0  C3 BC 0D    	jp	l_spr_back_repaint_00111
2802  0CA3              l_spr_back_repaint_00104:
2803  0CA3  7B          	ld	a, e
2804  0CA4  07          	rlca
2805  0CA5  07          	rlca
2806  0CA6  07          	rlca
2807  0CA7  07          	rlca
2808  0CA8  E6 F0       	and	a,0xf0
2809  0CAA  4F          	ld	c, a
2810  0CAB  2A 00 00    	ld	hl,(_sprite_curr_index)
2811  0CAE  26 00       	ld	h,0x00
2812  0CB0  11 00 00    	ld	de,_scr_map
2813  0CB3  19          	add	hl,de
2814  0CB4  46          	ld	b, (hl)
2815  0CB5  3A 00 00    	ld	a,(_s_col0)
2816  0CB8  C5          	push	bc
2817  0CB9  F5          	push	af
2818  0CBA  33          	inc	sp
2819  0CBB  79          	ld	a, c
2820  0CBC  48          	ld	c,b
2821  0CBD  47          	ld	b,a
2822  0CBE  C5          	push	bc
2823  0CBF  CD C7 0D    	call	_spr_tile_paint
2824  0CC2  F1          	pop	af
2825  0CC3  33          	inc	sp
2826  0CC4  C1          	pop	bc
2827  0CC5  79          	ld	a, c
2828  0CC6  C6 10       	add	a,0x10
2829  0CC8  57          	ld	d, a
2830  0CC9  21 00 00    	ld	hl,_sprite_curr_index
2831  0CCC  7E          	ld	a, (hl)
2832  0CCD  C6 10       	add	a,0x10
2833  0CCF  77          	ld	(hl), a
2834  0CD0  C6 00       	add	a,+((_scr_map) & 0xFF)
2835  0CD2  4F          	ld	c, a
2836  0CD3  3E 00       	ld	a, +((_scr_map) / 256)
2837  0CD5  CE 00       	adc	a,0x00
2838  0CD7  47          	ld	b, a
2839  0CD8  0A          	ld	a, (bc)
2840  0CD9  47          	ld	b, a
2841  0CDA  3A 00 00    	ld	a,(_s_col0)
2842  0CDD  5A          	ld	e,d
2843  0CDE  57          	ld	d,a
2844  0CDF  D5          	push	de
2845  0CE0  C5          	push	bc
2846  0CE1  33          	inc	sp
2847  0CE2  CD C7 0D    	call	_spr_tile_paint
2848  0CE5  F1          	pop	af
2849  0CE6  33          	inc	sp
2850  0CE7  C3 BC 0D    	jp	l_spr_back_repaint_00111
2851  0CEA              l_spr_back_repaint_00110:
2852  0CEA  3A 00 00    	ld	a,(_s_col0)
2853  0CED  C6 FF       	add	a,0xff
2854  0CEF  DD 77 FF    	ld	(ix-1),a
2855  0CF2  79          	ld	a, c
2856  0CF3  B7          	or	a, a
2857  0CF4  20 3E       	jr	NZ,l_spr_back_repaint_00107
2858  0CF6  2A 00 00    	ld	hl,(_sprite_curr_index)
2859  0CF9  26 00       	ld	h,0x00
2860  0CFB  01 00 00    	ld	bc,_scr_map
2861  0CFE  09          	add	hl,bc
2862  0CFF  46          	ld	b,(hl)
2863  0D00  DD 7E FF    	ld	a,(ix-1)
2864  0D03  F5          	push	af
2865  0D04  33          	inc	sp
2866  0D05  3A 00 00    	ld	a,(_s_lin0)
2867  0D08  48          	ld	c,b
2868  0D09  47          	ld	b,a
2869  0D0A  C5          	push	bc
2870  0D0B  CD C7 0D    	call	_spr_tile_paint
2871  0D0E  F1          	pop	af
2872  0D0F  33          	inc	sp
2873  0D10  21 00 00    	ld	hl,_sprite_curr_index
2874  0D13  34          	inc	(hl)
2875  0D14  21 00 00    	ld	hl,_s_col0
2876  0D17  4E          	ld	c, (hl)
2877  0D18  0C          	inc	c
2878  0D19  2A 00 00    	ld	hl,(_sprite_curr_index)
2879  0D1C  26 00       	ld	h,0x00
2880  0D1E  11 00 00    	ld	de,_scr_map
2881  0D21  19          	add	hl,de
2882  0D22  46          	ld	b, (hl)
2883  0D23  79          	ld	a, c
2884  0D24  F5          	push	af
2885  0D25  33          	inc	sp
2886  0D26  3A 00 00    	ld	a,(_s_lin0)
2887  0D29  48          	ld	c,b
2888  0D2A  47          	ld	b,a
2889  0D2B  C5          	push	bc
2890  0D2C  CD C7 0D    	call	_spr_tile_paint
2891  0D2F  F1          	pop	af
2892  0D30  33          	inc	sp
2893  0D31  C3 BC 0D    	jp	l_spr_back_repaint_00111
2894  0D34              l_spr_back_repaint_00107:
2895  0D34  7B          	ld	a, e
2896  0D35  07          	rlca
2897  0D36  07          	rlca
2898  0D37  07          	rlca
2899  0D38  07          	rlca
2900  0D39  E6 F0       	and	a,0xf0
2901  0D3B  47          	ld	b, a
2902  0D3C  2A 00 00    	ld	hl,(_sprite_curr_index)
2903  0D3F  26 00       	ld	h,0x00
2904  0D41  11 00 00    	ld	de,_scr_map
2905  0D44  19          	add	hl,de
2906  0D45  56          	ld	d, (hl)
2907  0D46  C5          	push	bc
2908  0D47  DD 7E FF    	ld	a,(ix-1)
2909  0D4A  F5          	push	af
2910  0D4B  33          	inc	sp
2911  0D4C  4A          	ld	c, d
2912  0D4D  C5          	push	bc
2913  0D4E  CD C7 0D    	call	_spr_tile_paint
2914  0D51  F1          	pop	af
2915  0D52  33          	inc	sp
2916  0D53  C1          	pop	bc
2917  0D54  21 00 00    	ld	hl,_sprite_curr_index
2918  0D57  34          	inc	(hl)
2919  0D58  21 00 00    	ld	hl,_s_col0
2920  0D5B  4E          	ld	c, (hl)
2921  0D5C  0C          	inc	c
2922  0D5D  2A 00 00    	ld	hl,(_sprite_curr_index)
2923  0D60  26 00       	ld	h,0x00
2924  0D62  11 00 00    	ld	de,_scr_map
2925  0D65  19          	add	hl,de
2926  0D66  5E          	ld	e, (hl)
2927  0D67  C5          	push	bc
2928  0D68  79          	ld	a, c
2929  0D69  48          	ld	c,b
2930  0D6A  47          	ld	b,a
2931  0D6B  C5          	push	bc
2932  0D6C  7B          	ld	a, e
2933  0D6D  F5          	push	af
2934  0D6E  33          	inc	sp
2935  0D6F  CD C7 0D    	call	_spr_tile_paint
2936  0D72  F1          	pop	af
2937  0D73  33          	inc	sp
2938  0D74  C1          	pop	bc
2939  0D75  78          	ld	a, b
2940  0D76  C6 10       	add	a,0x10
2941  0D78  DD 77 FF    	ld	(ix-1),a
2942  0D7B  21 00 00    	ld	hl,_sprite_curr_index
2943  0D7E  7E          	ld	a, (hl)
2944  0D7F  C6 0F       	add	a,0x0f
2945  0D81  77          	ld	(hl), a
2946  0D82  21 00 00    	ld	hl,_s_col0
2947  0D85  4E          	ld	c, (hl)
2948  0D86  0D          	dec	c
2949  0D87  2A 00 00    	ld	hl,(_sprite_curr_index)
2950  0D8A  26 00       	ld	h,0x00
2951  0D8C  11 00 00    	ld	de,_scr_map
2952  0D8F  19          	add	hl,de
2953  0D90  5E          	ld	e, (hl)
2954  0D91  79          	ld	a, c
2955  0D92  F5          	push	af
2956  0D93  33          	inc	sp
2957  0D94  DD 56 FF    	ld	d,(ix-1)
2958  0D97  D5          	push	de
2959  0D98  CD C7 0D    	call	_spr_tile_paint
2960  0D9B  F1          	pop	af
2961  0D9C  33          	inc	sp
2962  0D9D  21 00 00    	ld	hl,_sprite_curr_index
2963  0DA0  34          	inc	(hl)
2964  0DA1  21 00 00    	ld	hl,_s_col0
2965  0DA4  4E          	ld	c, (hl)
2966  0DA5  0C          	inc	c
2967  0DA6  2A 00 00    	ld	hl,(_sprite_curr_index)
2968  0DA9  26 00       	ld	h,0x00
2969  0DAB  11 00 00    	ld	de,_scr_map
2970  0DAE  19          	add	hl,de
2971  0DAF  5E          	ld	e, (hl)
2972  0DB0  79          	ld	a, c
2973  0DB1  F5          	push	af
2974  0DB2  33          	inc	sp
2975  0DB3  DD 56 FF    	ld	d,(ix-1)
2976  0DB6  D5          	push	de
2977  0DB7  CD C7 0D    	call	_spr_tile_paint
2978  0DBA  F1          	pop	af
2979  0DBB  33          	inc	sp
2980  0DBC              l_spr_back_repaint_00111:
2981  0DBC  3A 00 00    	ld	a,(_spr_hack)
2982  0DBF  B7          	or	a, a
2983  0DC0  20 01       	jr	NZ,l_spr_back_repaint_00114
2984  0DC2  FB          	ei
2985  0DC3              l_spr_back_repaint_00114:
2986  0DC3  33          	inc	sp
2987  0DC4  DD E1       	pop	ix
2988  0DC6  C9          	ret
2989  0DC7              	SECTION code_compiler
2990  0DC7              ;	---------------------------------
2991  0DC7              ; Function spr_tile_paint
2992  0DC7              ; ---------------------------------
2993  0DC7              _spr_tile_paint:
2994  0DC7  CD 00 00    	call	___sdcc_enter_ix
2995  0DCA  DD 7E 04    	ld	a,(ix+4)
2996  0DCD  B7          	or	a, a
2997  0DCE  28 05       	jr	Z,l_spr_tile_paint_00101
2998  0DD0  3C          	inc	a
2999  0DD1  28 22       	jr	Z,l_spr_tile_paint_00105
3000  0DD3  18 11       	jr	l_spr_tile_paint_00103
3001  0DD5              l_spr_tile_paint_00101:
3002  0DD5  DD 66 06    	ld	h,(ix+6)
3003  0DD8  DD 6E 05    	ld	l,(ix+5)
3004  0DDB  3A 00 00    	ld	a,(_map_paper_clr)
3005  0DDE  E5          	push	hl
3006  0DDF  F5          	push	af
3007  0DE0  33          	inc	sp
3008  0DE1  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3009  0DE4  18 0F       	jr	l_spr_tile_paint_00105
3010  0DE6              l_spr_tile_paint_00103:
3011  0DE6  DD 66 06    	ld	h,(ix+6)
3012  0DE9  DD 6E 05    	ld	l,(ix+5)
3013  0DEC  E5          	push	hl
3014  0DED  DD 7E 04    	ld	a,(ix+4)
3015  0DF0  F5          	push	af
3016  0DF1  33          	inc	sp
3017  0DF2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3018  0DF5              l_spr_tile_paint_00105:
3019  0DF5  DD E1       	pop	ix
3020  0DF7  C9          	ret
3021  0DF8              	SECTION code_compiler
3022  0DF8              ;	---------------------------------
3023  0DF8              ; Function spr_init_anim_bullets
3024  0DF8              ; ---------------------------------
3025  0DF8              _spr_init_anim_bullets:
3026  0DF8  01 00 00    	ld	bc,_anim_lin+0
3027  0DFB  1E 00       	ld	e,0x00
3028  0DFD              l_spr_init_anim_bullets_00102:
3029  0DFD  6B          	ld	l,e
3030  0DFE  26 00       	ld	h,0x00
3031  0E00  09          	add	hl, bc
3032  0E01  36 FF       	ld	(hl),0xff
3033  0E03  16 00       	ld	d,0x00
3034  0E05  21 00 00    	ld	hl,_bullet_col
3035  0E08  19          	add	hl, de
3036  0E09  36 FF       	ld	(hl),0xff
3037  0E0B  1C          	inc	e
3038  0E0C  7B          	ld	a, e
3039  0E0D  D6 08       	sub	a,0x08
3040  0E0F  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3041  0E11  21 00 00    	ld	hl,_bullet_count
3042  0E14  36 00       	ld	(hl),0x00
3043  0E16  21 00 00    	ld	hl,_anim_count
3044  0E19  36 00       	ld	(hl),0x00
3045  0E1B  C9          	ret
3046  0E1C              	SECTION code_compiler
3047  0E1C              ;	---------------------------------
3048  0E1C              ; Function spr_add_anim
3049  0E1C              ; ---------------------------------
3050  0E1C              _spr_add_anim:
3051  0E1C  CD 00 00    	call	___sdcc_enter_ix
3052  0E1F  F5          	push	af
3053  0E20  F5          	push	af
3054  0E21  3B          	dec	sp
3055  0E22  DD 7E 05    	ld	a,(ix+5)
3056  0E25  D6 1F       	sub	a,0x1f
3057  0E27  D2 E6 0E    	jp	NC, l_spr_add_anim_00111
3058  0E2A  DD 7E 04    	ld	a,(ix+4)
3059  0E2D  D6 B8       	sub	a,0xb8
3060  0E2F  D2 E6 0E    	jp	NC, l_spr_add_anim_00111
3061  0E32  0E 00       	ld	c,0x00
3062  0E34  DD 71 FF    	ld	(ix-1),c
3063  0E37              l_spr_add_anim_00109:
3064  0E37  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3065  0E39  81          	add	a, c
3066  0E3A  5F          	ld	e, a
3067  0E3B  3E 00       	ld	a, +((_anim_lin) / 256)
3068  0E3D  CE 00       	adc	a,0x00
3069  0E3F  57          	ld	d, a
3070  0E40  1A          	ld	a, (de)
3071  0E41  3C          	inc	a
3072  0E42  C2 DC 0E    	jp	NZ,l_spr_add_anim_00110
3073  0E45  21 00 00    	ld	hl,_anim_count
3074  0E48  34          	inc	(hl)
3075  0E49  DD 7E 04    	ld	a,(ix+4)
3076  0E4C  12          	ld	(de), a
3077  0E4D  01 00 00    	ld	bc,_anim_col
3078  0E50  DD 6E FF    	ld	l,(ix-1)
3079  0E53  26 00       	ld	h,0x00
3080  0E55  09          	add	hl,bc
3081  0E56  DD 75 FD    	ld	(ix-3),l
3082  0E59  DD 74 FE    	ld	(ix-2),h
3083  0E5C  DD 7E 05    	ld	a,(ix+5)
3084  0E5F  77          	ld	(hl), a
3085  0E60  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3086  0E62  DD 86 FF    	add	a,(ix-1)
3087  0E65  DD 77 FB    	ld	(ix-5),a
3088  0E68  3E 00       	ld	a, +((_anim_tile) / 256)
3089  0E6A  CE 00       	adc	a,0x00
3090  0E6C  DD 77 FC    	ld	(ix-4),a
3091  0E6F  E1          	pop	hl
3092  0E70  E5          	push	hl
3093  0E71  DD 7E 06    	ld	a,(ix+6)
3094  0E74  77          	ld	(hl), a
3095  0E75  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3096  0E77  DD 86 FF    	add	a,(ix-1)
3097  0E7A  4F          	ld	c, a
3098  0E7B  3E 00       	ld	a, +((_anim_loop) / 256)
3099  0E7D  CE 00       	adc	a,0x00
3100  0E7F  47          	ld	b, a
3101  0E80  DD 7E 08    	ld	a,(ix+8)
3102  0E83  02          	ld	(bc), a
3103  0E84  01 00 00    	ld	bc,_anim_int+0
3104  0E87  DD 6E FF    	ld	l,(ix-1)
3105  0E8A  26 00       	ld	h,0x00
3106  0E8C  09          	add	hl, bc
3107  0E8D  36 00       	ld	(hl),0x00
3108  0E8F  3E 00       	ld	a, +((_anim_end) & 0xFF)
3109  0E91  DD 86 FF    	add	a,(ix-1)
3110  0E94  4F          	ld	c, a
3111  0E95  3E 00       	ld	a, +((_anim_end) / 256)
3112  0E97  CE 00       	adc	a,0x00
3113  0E99  47          	ld	b, a
3114  0E9A  DD 7E 07    	ld	a,(ix+7)
3115  0E9D  02          	ld	(bc), a
3116  0E9E  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3117  0EA0  DD 86 FF    	add	a,(ix-1)
3118  0EA3  4F          	ld	c, a
3119  0EA4  3E 00       	ld	a, +((_anim_respanwn) / 256)
3120  0EA6  CE 00       	adc	a,0x00
3121  0EA8  47          	ld	b, a
3122  0EA9  DD 7E 09    	ld	a,(ix+9)
3123  0EAC  02          	ld	(bc), a
3124  0EAD  F3          	di
3125  0EAE  DD 6E FD    	ld	l,(ix-3)
3126  0EB1  DD 66 FE    	ld	h,(ix-2)
3127  0EB4  46          	ld	b, (hl)
3128  0EB5  E1          	pop	hl
3129  0EB6  1A          	ld	a,(de)
3130  0EB7  56          	ld	d,(hl)
3131  0EB8  E5          	push	hl
3132  0EB9  C5          	push	bc
3133  0EBA  33          	inc	sp
3134  0EBB  5A          	ld	e,d
3135  0EBC  57          	ld	d,a
3136  0EBD  D5          	push	de
3137  0EBE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3138  0EC1  FB          	ei
3139  0EC2  DD 66 05    	ld	h,(ix+5)
3140  0EC5  DD 6E 04    	ld	l,(ix+4)
3141  0EC8  E5          	push	hl
3142  0EC9  CD 00 00    	call	_spr_calc_index
3143  0ECC  F1          	pop	af
3144  0ECD  22 00 00    	ld	(_index0),hl
3145  0ED0  01 00 00    	ld	bc,_scr_map
3146  0ED3  09          	add	hl,bc
3147  0ED4  7E          	ld	a,(hl)
3148  0ED5  B7          	or	a,a
3149  0ED6  20 0E       	jr	NZ,l_spr_add_anim_00111
3150  0ED8  36 FF       	ld	(hl),0xff
3151  0EDA  18 0A       	jr	l_spr_add_anim_00111
3152  0EDC              l_spr_add_anim_00110:
3153  0EDC  0C          	inc	c
3154  0EDD  DD 71 FF    	ld	(ix-1),c
3155  0EE0  79          	ld	a, c
3156  0EE1  D6 08       	sub	a,0x08
3157  0EE3  DA 37 0E    	jp	C, l_spr_add_anim_00109
3158  0EE6              l_spr_add_anim_00111:
3159  0EE6  DD F9       	ld	sp, ix
3160  0EE8  DD E1       	pop	ix
3161  0EEA  C9          	ret
3162  0EEB              	SECTION code_compiler
3163  0EEB              ;	---------------------------------
3164  0EEB              ; Function spr_play_anim
3165  0EEB              ; ---------------------------------
3166  0EEB              _spr_play_anim:
3167  0EEB  CD 00 00    	call	___sdcc_enter_ix
3168  0EEE  F5          	push	af
3169  0EEF  F5          	push	af
3170  0EF0  F5          	push	af
3171  0EF1  F5          	push	af
3172  0EF2  DD 36 F8 00 	ld	(ix-8),0x00
3173  0EF6              l_spr_play_anim_00114:
3174  0EF6  01 00 00    	ld	bc,_anim_lin
3175  0EF9  DD 6E F8    	ld	l,(ix-8)
3176  0EFC  26 00       	ld	h,0x00
3177  0EFE  09          	add	hl,bc
3178  0EFF  DD 75 FE    	ld	(ix-2),l
3179  0F02  DD 74 FF    	ld	(ix-1),h
3180  0F05  4E          	ld	c, (hl)
3181  0F06  0C          	inc	c
3182  0F07  CA 18 10    	jp	Z,l_spr_play_anim_00115
3183  0F0A  21 01 00    	ld	hl,0x0001
3184  0F0D  CD 00 00    	call	_z80_delay_ms_fastcall
3185  0F10  01 00 00    	ld	bc,_anim_int
3186  0F13  DD 6E F8    	ld	l,(ix-8)
3187  0F16  26 00       	ld	h,0x00
3188  0F18  09          	add	hl,bc
3189  0F19  DD 75 FC    	ld	(ix-4),l
3190  0F1C  DD 74 FD    	ld	(ix-3),h
3191  0F1F  4E          	ld	c, (hl)
3192  0F20  3E 00       	ld	a, +((_anim_end) & 0xFF)
3193  0F22  DD 86 F8    	add	a,(ix-8)
3194  0F25  6F          	ld	l, a
3195  0F26  3E 00       	ld	a, +((_anim_end) / 256)
3196  0F28  CE 00       	adc	a,0x00
3197  0F2A  67          	ld	h, a
3198  0F2B  46          	ld	b, (hl)
3199  0F2C  79          	ld	a, c
3200  0F2D  90          	sub	a, b
3201  0F2E  30 40       	jr	NC,l_spr_play_anim_00109
3202  0F30  F3          	di
3203  0F31  3E 00       	ld	a, +((_anim_col) & 0xFF)
3204  0F33  DD 86 F8    	add	a,(ix-8)
3205  0F36  6F          	ld	l, a
3206  0F37  3E 00       	ld	a, +((_anim_col) / 256)
3207  0F39  CE 00       	adc	a,0x00
3208  0F3B  67          	ld	h, a
3209  0F3C  56          	ld	d, (hl)
3210  0F3D  DD 6E FE    	ld	l,(ix-2)
3211  0F40  DD 66 FF    	ld	h,(ix-1)
3212  0F43  4E          	ld	c, (hl)
3213  0F44  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3214  0F46  DD 86 F8    	add	a,(ix-8)
3215  0F49  6F          	ld	l, a
3216  0F4A  3E 00       	ld	a, +((_anim_tile) / 256)
3217  0F4C  CE 00       	adc	a,0x00
3218  0F4E  67          	ld	h, a
3219  0F4F  5E          	ld	e, (hl)
3220  0F50  DD 6E FC    	ld	l,(ix-4)
3221  0F53  DD 66 FD    	ld	h,(ix-3)
3222  0F56  6E          	ld	l, (hl)
3223  0F57  7B          	ld	a, e
3224  0F58  85          	add	a, l
3225  0F59  47          	ld	b, a
3226  0F5A  D5          	push	de
3227  0F5B  33          	inc	sp
3228  0F5C  79          	ld	a, c
3229  0F5D  48          	ld	c,b
3230  0F5E  47          	ld	b,a
3231  0F5F  C5          	push	bc
3232  0F60  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3233  0F63  FB          	ei
3234  0F64  DD 6E FC    	ld	l,(ix-4)
3235  0F67  DD 66 FD    	ld	h,(ix-3)
3236  0F6A  4E          	ld	c,(hl)
3237  0F6B  0C          	inc	c
3238  0F6C  71          	ld	(hl), c
3239  0F6D  C3 18 10    	jp	l_spr_play_anim_00115
3240  0F70              l_spr_play_anim_00109:
3241  0F70  01 00 00    	ld	bc,_anim_loop
3242  0F73  DD 6E F8    	ld	l,(ix-8)
3243  0F76  26 00       	ld	h,0x00
3244  0F78  09          	add	hl,bc
3245  0F79  DD 75 FA    	ld	(ix-6),l
3246  0F7C  DD 74 FB    	ld	(ix-5),h
3247  0F7F  7E          	ld	a, (hl)
3248  0F80  DD 77 F9    	ld	(ix-7),a
3249  0F83  B7          	or	a, a
3250  0F84  C2 05 10    	jp	NZ, l_spr_play_anim_00106
3251  0F87  21 00 00    	ld	hl,_anim_count
3252  0F8A  35          	dec	(hl)
3253  0F8B  3E 00       	ld	a, +((_anim_col) & 0xFF)
3254  0F8D  DD 86 F8    	add	a,(ix-8)
3255  0F90  6F          	ld	l, a
3256  0F91  3E 00       	ld	a, +((_anim_col) / 256)
3257  0F93  CE 00       	adc	a,0x00
3258  0F95  67          	ld	h, a
3259  0F96  7E          	ld	a, (hl)
3260  0F97  32 00 00    	ld	(_s_col0),a
3261  0F9A  DD 6E FE    	ld	l,(ix-2)
3262  0F9D  DD 66 FF    	ld	h,(ix-1)
3263  0FA0  7E          	ld	a, (hl)
3264  0FA1  32 00 00    	ld	(_s_lin0),a
3265  0FA4  2A FF FF    	ld	hl,(_s_col0 - 1)
3266  0FA7  6F          	ld	l,a
3267  0FA8  E5          	push	hl
3268  0FA9  CD 00 00    	call	_spr_calc_index
3269  0FAC  F1          	pop	af
3270  0FAD  2A FF FF    	ld	hl,(_s_col0 - 1)
3271  0FB0  3A 00 00    	ld	a,(_s_lin0)
3272  0FB3  6F          	ld	l,a
3273  0FB4  E5          	push	hl
3274  0FB5  CD 00 00    	call	_spr_calc_index
3275  0FB8  F1          	pop	af
3276  0FB9  01 00 00    	ld	bc,_scr_map
3277  0FBC  09          	add	hl,bc
3278  0FBD  4E          	ld	c, (hl)
3279  0FBE  0C          	inc	c
3280  0FBF  20 1F       	jr	NZ,l_spr_play_anim_00102
3281  0FC1  2A FF FF    	ld	hl,(_s_col0 - 1)
3282  0FC4  3A 00 00    	ld	a,(_s_lin0)
3283  0FC7  6F          	ld	l,a
3284  0FC8  E5          	push	hl
3285  0FC9  CD 00 00    	call	_spr_calc_index
3286  0FCC  F1          	pop	af
3287  0FCD  22 00 00    	ld	(_index0),hl
3288  0FD0  01 00 00    	ld	bc,_scr_map
3289  0FD3  09          	add	hl,bc
3290  0FD4  E5          	push	hl
3291  0FD5  2A 00 00    	ld	hl,(_index0)
3292  0FD8  E5          	push	hl
3293  0FD9  CD 00 00    	call	_game_match_back
3294  0FDC  F1          	pop	af
3295  0FDD  C1          	pop	bc
3296  0FDE  7D          	ld	a,l
3297  0FDF  02          	ld	(bc), a
3298  0FE0              l_spr_play_anim_00102:
3299  0FE0  CD 50 0C    	call	_spr_back_repaint
3300  0FE3  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3301  0FE5  DD 86 F8    	add	a,(ix-8)
3302  0FE8  4F          	ld	c, a
3303  0FE9  3E 00       	ld	a, +((_anim_respanwn) / 256)
3304  0FEB  CE 00       	adc	a,0x00
3305  0FED  47          	ld	b, a
3306  0FEE  0A          	ld	a, (bc)
3307  0FEF  B7          	or	a, a
3308  0FF0  28 09       	jr	Z,l_spr_play_anim_00104
3309  0FF2  DD 7E F8    	ld	a,(ix-8)
3310  0FF5  F5          	push	af
3311  0FF6  33          	inc	sp
3312  0FF7  CD 00 00    	call	_enemy_respawn
3313  0FFA  33          	inc	sp
3314  0FFB              l_spr_play_anim_00104:
3315  0FFB  DD 6E FE    	ld	l,(ix-2)
3316  0FFE  DD 66 FF    	ld	h,(ix-1)
3317  1001  36 FF       	ld	(hl),0xff
3318  1003  18 13       	jr	l_spr_play_anim_00115
3319  1005              l_spr_play_anim_00106:
3320  1005  DD 4E F9    	ld	c,(ix-7)
3321  1008  0D          	dec	c
3322  1009  DD 6E FA    	ld	l,(ix-6)
3323  100C  DD 66 FB    	ld	h,(ix-5)
3324  100F  71          	ld	(hl), c
3325  1010  DD 6E FC    	ld	l,(ix-4)
3326  1013  DD 66 FD    	ld	h,(ix-3)
3327  1016  36 00       	ld	(hl),0x00
3328  1018              l_spr_play_anim_00115:
3329  1018  DD 34 F8    	inc	(ix-8)
3330  101B  DD 7E F8    	ld	a,(ix-8)
3331  101E  D6 08       	sub	a,0x08
3332  1020  DA F6 0E    	jp	C, l_spr_play_anim_00114
3333  1023  DD F9       	ld	sp, ix
3334  1025  DD E1       	pop	ix
3335  1027  C9          	ret
3336  1028              	SECTION code_compiler
3337  1028              ;	---------------------------------
3338  1028              ; Function spr_play_bullets
3339  1028              ; ---------------------------------
3340  1028              _spr_play_bullets:
3341  1028  CD 00 00    	call	___sdcc_enter_ix
3342  102B  21 F2 FF    	ld	hl, -14
3343  102E  39          	add	hl, sp
3344  102F  F9          	ld	sp, hl
3345  1030  3E 00       	ld	a,0x00
3346  1032  DD 77 FF    	ld	(ix-1),a
3347  1035  DD 77 F5    	ld	(ix-11),a
3348  1038              l_spr_play_bullets_00198:
3349  1038  01 00 00    	ld	bc,_bullet_col
3350  103B  DD 6E F5    	ld	l,(ix-11)
3351  103E  26 00       	ld	h,0x00
3352  1040  09          	add	hl,bc
3353  1041  DD 75 FD    	ld	(ix-3),l
3354  1044  DD 74 FE    	ld	(ix-2),h
3355  1047  7E          	ld	a, (hl)
3356  1048  DD 77 FC    	ld	(ix-4),a
3357  104B  3C          	inc	a
3358  104C  CA CF 15    	jp	Z,l_spr_play_bullets_00192
3359  104F  01 00 00    	ld	bc,_bullet_lin
3360  1052  DD 6E F5    	ld	l,(ix-11)
3361  1055  26 00       	ld	h,0x00
3362  1057  09          	add	hl,bc
3363  1058  DD 75 FA    	ld	(ix-6),l
3364  105B  DD 74 FB    	ld	(ix-5),h
3365  105E  7E          	ld	a, (hl)
3366  105F  32 00 00    	ld	(_s_lin0),a
3367  1062  DD 7E FC    	ld	a,(ix-4)
3368  1065  32 00 00    	ld	(_s_col0),a
3369  1068  DD 77 F4    	ld	(ix-12),a
3370  106B  CD 50 0C    	call	_spr_back_repaint
3371  106E  01 00 00    	ld	bc,_bullet_class
3372  1071  DD 6E F5    	ld	l,(ix-11)
3373  1074  26 00       	ld	h,0x00
3374  1076  09          	add	hl,bc
3375  1077  DD 75 F8    	ld	(ix-8),l
3376  107A  DD 74 F9    	ld	(ix-7),h
3377  107D  7E          	ld	a, (hl)
3378  107E  D6 02       	sub	a,0x02
3379  1080  20 46       	jr	NZ,l_spr_play_bullets_00107
3380  1082  3A 00 00    	ld	a,(_s_lin0)
3381  1085  4F          	ld	c,a
3382  1086  06 00       	ld	b,0x00
3383  1088  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3384  108A  DD 86 F5    	add	a,(ix-11)
3385  108D  6F          	ld	l, a
3386  108E  3E 00       	ld	a, +((_bullet_lin0) / 256)
3387  1090  CE 00       	adc	a,0x00
3388  1092  67          	ld	h, a
3389  1093  5E          	ld	e, (hl)
3390  1094  16 00       	ld	d,0x00
3391  1096  79          	ld	a, c
3392  1097  93          	sub	a, e
3393  1098  4F          	ld	c, a
3394  1099  78          	ld	a, b
3395  109A  9A          	sbc	a, d
3396  109B  47          	ld	b, a
3397  109C  3E 08       	ld	a,0x08
3398  109E  B9          	cp	a, c
3399  109F  3E 00       	ld	a,0x00
3400  10A1  98          	sbc	a, b
3401  10A2  E2 A7 10    	jp	PO, l_spr_play_bullets_00412
3402  10A5  EE 80       	xor	a,0x80
3403  10A7              l_spr_play_bullets_00412:
3404  10A7  FA C0 10    	jp	M, l_spr_play_bullets_00104
3405  10AA  DD 6E FA    	ld	l,(ix-6)
3406  10AD  DD 66 FB    	ld	h,(ix-5)
3407  10B0  4E          	ld	c, (hl)
3408  10B1  0C          	inc	c
3409  10B2  0C          	inc	c
3410  10B3  DD 6E FA    	ld	l,(ix-6)
3411  10B6  DD 66 FB    	ld	h,(ix-5)
3412  10B9  71          	ld	(hl), c
3413  10BA  21 00 00    	ld	hl,_s_lin0
3414  10BD  71          	ld	(hl), c
3415  10BE  18 08       	jr	l_spr_play_bullets_00107
3416  10C0              l_spr_play_bullets_00104:
3417  10C0  DD 6E F8    	ld	l,(ix-8)
3418  10C3  DD 66 F9    	ld	h,(ix-7)
3419  10C6  36 03       	ld	(hl),0x03
3420  10C8              l_spr_play_bullets_00107:
3421  10C8  DD 6E F8    	ld	l,(ix-8)
3422  10CB  DD 66 F9    	ld	h,(ix-7)
3423  10CE  7E          	ld	a, (hl)
3424  10CF  D6 03       	sub	a,0x03
3425  10D1  20 46       	jr	NZ,l_spr_play_bullets_00112
3426  10D3  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3427  10D5  DD 86 F5    	add	a,(ix-11)
3428  10D8  6F          	ld	l, a
3429  10D9  3E 00       	ld	a, +((_bullet_lin0) / 256)
3430  10DB  CE 00       	adc	a,0x00
3431  10DD  67          	ld	h, a
3432  10DE  4E          	ld	c, (hl)
3433  10DF  06 00       	ld	b,0x00
3434  10E1  3A 00 00    	ld	a,(_s_lin0)
3435  10E4  5F          	ld	e,a
3436  10E5  16 00       	ld	d,0x00
3437  10E7  79          	ld	a, c
3438  10E8  93          	sub	a, e
3439  10E9  4F          	ld	c, a
3440  10EA  78          	ld	a, b
3441  10EB  9A          	sbc	a, d
3442  10EC  47          	ld	b, a
3443  10ED  3E 08       	ld	a,0x08
3444  10EF  B9          	cp	a, c
3445  10F0  3E 00       	ld	a,0x00
3446  10F2  98          	sbc	a, b
3447  10F3  E2 F8 10    	jp	PO, l_spr_play_bullets_00415
3448  10F6  EE 80       	xor	a,0x80
3449  10F8              l_spr_play_bullets_00415:
3450  10F8  FA 11 11    	jp	M, l_spr_play_bullets_00109
3451  10FB  DD 6E FA    	ld	l,(ix-6)
3452  10FE  DD 66 FB    	ld	h,(ix-5)
3453  1101  4E          	ld	c, (hl)
3454  1102  0D          	dec	c
3455  1103  0D          	dec	c
3456  1104  DD 6E FA    	ld	l,(ix-6)
3457  1107  DD 66 FB    	ld	h,(ix-5)
3458  110A  71          	ld	(hl), c
3459  110B  21 00 00    	ld	hl,_s_lin0
3460  110E  71          	ld	(hl), c
3461  110F  18 08       	jr	l_spr_play_bullets_00112
3462  1111              l_spr_play_bullets_00109:
3463  1111  DD 6E F8    	ld	l,(ix-8)
3464  1114  DD 66 F9    	ld	h,(ix-7)
3465  1117  36 02       	ld	(hl),0x02
3466  1119              l_spr_play_bullets_00112:
3467  1119  DD 6E F8    	ld	l,(ix-8)
3468  111C  DD 66 F9    	ld	h,(ix-7)
3469  111F  7E          	ld	a, (hl)
3470  1120  D6 04       	sub	a,0x04
3471  1122  C2 A8 11    	jp	NZ,l_spr_play_bullets_00125
3472  1125  DD 6E FA    	ld	l,(ix-6)
3473  1128  DD 66 FB    	ld	h,(ix-5)
3474  112B  7E          	ld	a, (hl)
3475  112C  32 00 00    	ld	(_s_lin0),a
3476  112F  DD 6E FD    	ld	l,(ix-3)
3477  1132  DD 66 FE    	ld	h,(ix-2)
3478  1135  7E          	ld	a, (hl)
3479  1136  C6 FF       	add	a,0xff
3480  1138  32 00 00    	ld	(_s_col0),a
3481  113B  D6 20       	sub	a,0x20
3482  113D  30 03       	jr	NC,l_spr_play_bullets_00114
3483  113F  CD 50 0C    	call	_spr_back_repaint
3484  1142              l_spr_play_bullets_00114:
3485  1142  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3486  1144  DD 86 F5    	add	a,(ix-11)
3487  1147  4F          	ld	c, a
3488  1148  3E 00       	ld	a, +((_bullet_vel) / 256)
3489  114A  CE 00       	adc	a,0x00
3490  114C  47          	ld	b, a
3491  114D  0A          	ld	a, (bc)
3492  114E  5F          	ld	e, a
3493  114F  21 00 00    	ld	hl,_game_gravity
3494  1152  56          	ld	d, (hl)
3495  1153  7B          	ld	a, e
3496  1154  82          	add	a, d
3497  1155  5F          	ld	e,a
3498  1156  02          	ld	(bc), a
3499  1157  3E 78       	ld	a,0x78
3500  1159  93          	sub	a, e
3501  115A  E2 5F 11    	jp	PO, l_spr_play_bullets_00418
3502  115D  EE 80       	xor	a,0x80
3503  115F              l_spr_play_bullets_00418:
3504  115F  F2 65 11    	jp	P, l_spr_play_bullets_00116
3505  1162  3E 78       	ld	a,0x78
3506  1164  02          	ld	(bc), a
3507  1165              l_spr_play_bullets_00116:
3508  1165  0A          	ld	a, (bc)
3509  1166  EE 80       	xor	a,0x80
3510  1168  D6 08       	sub	a,0x08
3511  116A  30 03       	jr	NC,l_spr_play_bullets_00118
3512  116C  3E 88       	ld	a,0x88
3513  116E  02          	ld	(bc), a
3514  116F              l_spr_play_bullets_00118:
3515  116F  0A          	ld	a, (bc)
3516  1170  CB 47       	bit	0,a
3517  1172  32 00 00    	ld	(_s_lin1),a
3518  1175  28 04       	jr	Z,l_spr_play_bullets_00120
3519  1177  21 00 00    	ld	hl,_s_lin1
3520  117A  35          	dec	(hl)
3521  117B              l_spr_play_bullets_00120:
3522  117B  DD 6E FA    	ld	l,(ix-6)
3523  117E  DD 66 FB    	ld	h,(ix-5)
3524  1181  7E          	ld	a, (hl)
3525  1182  21 00 00    	ld	hl,_s_lin1
3526  1185  86          	add	a, (hl)
3527  1186  21 00 00    	ld	hl,_s_lin0
3528  1189  77          	ld	(hl), a
3529  118A  3E 90       	ld	a,0x90
3530  118C  96          	sub	a, (hl)
3531  118D  30 0F       	jr	NC,l_spr_play_bullets_00122
3532  118F  21 00 00    	ld	hl,_bullet_count
3533  1192  35          	dec	(hl)
3534  1193  DD 6E FD    	ld	l,(ix-3)
3535  1196  DD 66 FE    	ld	h,(ix-2)
3536  1199  36 FF       	ld	(hl),0xff
3537  119B  C3 CF 15    	jp	l_spr_play_bullets_00192
3538  119E              l_spr_play_bullets_00122:
3539  119E  DD 6E FA    	ld	l,(ix-6)
3540  11A1  DD 66 FB    	ld	h,(ix-5)
3541  11A4  3A 00 00    	ld	a,(_s_lin0)
3542  11A7  77          	ld	(hl),a
3543  11A8              l_spr_play_bullets_00125:
3544  11A8  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3545  11AA  DD 86 F5    	add	a,(ix-11)
3546  11AD  6F          	ld	l, a
3547  11AE  3E 00       	ld	a, +((_bullet_dir) / 256)
3548  11B0  CE 00       	adc	a,0x00
3549  11B2  67          	ld	h, a
3550  11B3  4E          	ld	c, (hl)
3551  11B4  0C          	inc	c
3552  11B5  20 3D       	jr	NZ,l_spr_play_bullets_00135
3553  11B7  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3554  11B9  DD 86 F5    	add	a,(ix-11)
3555  11BC  4F          	ld	c, a
3556  11BD  3E 00       	ld	a, +((_bullet_colint) / 256)
3557  11BF  CE 00       	adc	a,0x00
3558  11C1  47          	ld	b, a
3559  11C2  0A          	ld	a, (bc)
3560  11C3  3C          	inc	a
3561  11C4  5F          	ld	e,a
3562  11C5  02          	ld	(bc), a
3563  11C6  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3564  11C8  DD 86 F5    	add	a,(ix-11)
3565  11CB  6F          	ld	l, a
3566  11CC  3E 00       	ld	a, +((_bullet_frames) / 256)
3567  11CE  CE 00       	adc	a,0x00
3568  11D0  67          	ld	h, a
3569  11D1  56          	ld	d, (hl)
3570  11D2  7B          	ld	a, e
3571  11D3  92          	sub	a, d
3572  11D4  38 63       	jr	C,l_spr_play_bullets_00136
3573  11D6  DD 6E FD    	ld	l,(ix-3)
3574  11D9  DD 66 FE    	ld	h,(ix-2)
3575  11DC  7E          	ld	a, (hl)
3576  11DD  3C          	inc	a
3577  11DE  DD 77 F4    	ld	(ix-12),a
3578  11E1  AF          	xor	a, a
3579  11E2  02          	ld	(bc), a
3580  11E3  DD 7E F4    	ld	a,(ix-12)
3581  11E6  E6 01       	and	a,0x01
3582  11E8  3D          	dec	a
3583  11E9  20 4E       	jr	NZ,l_spr_play_bullets_00136
3584  11EB  DD 7E F4    	ld	a,(ix-12)
3585  11EE  3C          	inc	a
3586  11EF  32 00 00    	ld	(_s_col0),a
3587  11F2  18 45       	jr	l_spr_play_bullets_00136
3588  11F4              l_spr_play_bullets_00135:
3589  11F4  01 00 00    	ld	bc,_bullet_colint
3590  11F7  DD 6E F5    	ld	l,(ix-11)
3591  11FA  26 00       	ld	h,0x00
3592  11FC  09          	add	hl,bc
3593  11FD  DD 75 F6    	ld	(ix-10),l
3594  1200  DD 74 F7    	ld	(ix-9),h
3595  1203  4E          	ld	c,(hl)
3596  1204  0D          	dec	c
3597  1205  71          	ld	(hl), c
3598  1206  0C          	inc	c
3599  1207  20 30       	jr	NZ,l_spr_play_bullets_00136
3600  1209  DD 6E FD    	ld	l,(ix-3)
3601  120C  DD 66 FE    	ld	h,(ix-2)
3602  120F  7E          	ld	a, (hl)
3603  1210  C6 FF       	add	a,0xff
3604  1212  DD 77 F4    	ld	(ix-12),a
3605  1215  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3606  1217  DD 86 F5    	add	a,(ix-11)
3607  121A  6F          	ld	l, a
3608  121B  3E 00       	ld	a, +((_bullet_frames) / 256)
3609  121D  CE 00       	adc	a,0x00
3610  121F  67          	ld	h, a
3611  1220  4E          	ld	c, (hl)
3612  1221  0D          	dec	c
3613  1222  DD 6E F6    	ld	l,(ix-10)
3614  1225  DD 66 F7    	ld	h,(ix-9)
3615  1228  71          	ld	(hl), c
3616  1229  DD 7E F4    	ld	a,(ix-12)
3617  122C  E6 01       	and	a,0x01
3618  122E  3D          	dec	a
3619  122F  20 08       	jr	NZ,l_spr_play_bullets_00136
3620  1231  DD 7E F4    	ld	a,(ix-12)
3621  1234  C6 FF       	add	a,0xff
3622  1236  32 00 00    	ld	(_s_col0),a
3623  1239              l_spr_play_bullets_00136:
3624  1239  21 00 00    	ld	hl,_tmp1
3625  123C  36 00       	ld	(hl),0x00
3626  123E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3627  1240  DD 86 F5    	add	a,(ix-11)
3628  1243  4F          	ld	c, a
3629  1244  3E 00       	ld	a, +((_bullet_max) / 256)
3630  1246  CE 00       	adc	a,0x00
3631  1248  47          	ld	b, a
3632  1249  0A          	ld	a, (bc)
3633  124A  B7          	or	a, a
3634  124B  28 27       	jr	Z,l_spr_play_bullets_00140
3635  124D  DD 5E F4    	ld	e,(ix-12)
3636  1250  16 00       	ld	d,0x00
3637  1252  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3638  1254  DD 86 F5    	add	a,(ix-11)
3639  1257  6F          	ld	l, a
3640  1258  3E 00       	ld	a, +((_bullet_col0) / 256)
3641  125A  CE 00       	adc	a,0x00
3642  125C  67          	ld	h, a
3643  125D  6E          	ld	l, (hl)
3644  125E  AF          	xor	a,a
3645  125F  67          	ld	h,a
3646  1260  EB          	ex	de,hl
3647  1261  ED 52       	sbc	hl,de
3648  1263  CD 00 00    	call	_abs_fastcall
3649  1266  5D          	ld	e, l
3650  1267  21 00 00    	ld	hl,_tmp0
3651  126A  73          	ld	(hl), e
3652  126B  0A          	ld	a, (bc)
3653  126C  96          	sub	a, (hl)
3654  126D  30 05       	jr	NC,l_spr_play_bullets_00140
3655  126F  21 00 00    	ld	hl,_tmp1
3656  1272  36 01       	ld	(hl),0x01
3657  1274              l_spr_play_bullets_00140:
3658  1274  DD 7E F4    	ld	a,(ix-12)
3659  1277  D6 1E       	sub	a,0x1e
3660  1279  38 05       	jr	C,l_spr_play_bullets_00142
3661  127B  21 00 00    	ld	hl,_tmp1
3662  127E  36 01       	ld	(hl),0x01
3663  1280              l_spr_play_bullets_00142:
3664  1280  3A 00 00    	ld	a,(_tmp1)
3665  1283  B7          	or	a, a
3666  1284  28 0F       	jr	Z,l_spr_play_bullets_00144
3667  1286  21 00 00    	ld	hl,_bullet_count
3668  1289  35          	dec	(hl)
3669  128A  DD 6E FD    	ld	l,(ix-3)
3670  128D  DD 66 FE    	ld	h,(ix-2)
3671  1290  36 FF       	ld	(hl),0xff
3672  1292  C3 CF 15    	jp	l_spr_play_bullets_00192
3673  1295              l_spr_play_bullets_00144:
3674  1295  DD 7E FD    	ld	a,(ix-3)
3675  1298  DD 77 F6    	ld	(ix-10),a
3676  129B  DD 7E FE    	ld	a,(ix-2)
3677  129E  DD 77 F7    	ld	(ix-9),a
3678  12A1  DD 6E FD    	ld	l,(ix-3)
3679  12A4  DD 66 FE    	ld	h,(ix-2)
3680  12A7  DD 7E F4    	ld	a,(ix-12)
3681  12AA  96          	sub	a,(hl)
3682  12AB  CA 93 15    	jp	Z,l_spr_play_bullets_00187
3683  12AE  3A 00 00    	ld	a,(_s_lin0)
3684  12B1  C6 08       	add	a,0x08
3685  12B3  4F          	ld	c, a
3686  12B4  3A 00 00    	ld	a, (_s_col0)
3687  12B7  47          	ld	b,a
3688  12B8  C5          	push	bc
3689  12B9  CD 00 00    	call	_spr_calc_index
3690  12BC  F1          	pop	af
3691  12BD  22 00 00    	ld	(_index0),hl
3692  12C0  01 00 00    	ld	bc,_scr_map
3693  12C3  09          	add	hl,bc
3694  12C4  4D          	ld	c,l
3695  12C5  44          	ld	b,h
3696  12C6  6E          	ld	l, (hl)
3697  12C7  DD 7E F5    	ld	a,(ix-11)
3698  12CA  D6 07       	sub	a,0x07
3699  12CC  20 04       	jr	NZ,l_spr_play_bullets_00429
3700  12CE  3E 01       	ld	a,0x01
3701  12D0  18 01       	jr	l_spr_play_bullets_00430
3702  12D2              l_spr_play_bullets_00429:
3703  12D2  AF          	xor	a,a
3704  12D3              l_spr_play_bullets_00430:
3705  12D3  5F          	ld	e, a
3706  12D4  7D          	ld	a, l
3707  12D5  D6 4D       	sub	a,0x4d
3708  12D7  20 45       	jr	NZ,l_spr_play_bullets_00146
3709  12D9  B3          	or	a,e
3710  12DA  28 42       	jr	Z,l_spr_play_bullets_00146
3711  12DC  2A 00 00    	ld	hl,(_index0)
3712  12DF  C5          	push	bc
3713  12E0  E5          	push	hl
3714  12E1  CD 00 00    	call	_game_match_back
3715  12E4  F1          	pop	af
3716  12E5  C1          	pop	bc
3717  12E6  7D          	ld	a,l
3718  12E7  02          	ld	(bc), a
3719  12E8  2A 00 00    	ld	hl,(_index0)
3720  12EB  CD 00 00    	call	_game_obj_set
3721  12EE  2A 00 00    	ld	hl,(_index0)
3722  12F1  4D          	ld	c,l
3723  12F2  5C          	ld	e,h
3724  12F3  06 04       	ld	b,0x04
3725  12F5  79          	ld	a,c
3726  12F6              l_spr_play_bullets_00433:
3727  12F6  CB 3B       	srl	e
3728  12F8  1F          	rra
3729  12F9  10 FB       	djnz	l_spr_play_bullets_00433
3730  12FB  07          	rlca
3731  12FC  07          	rlca
3732  12FD  07          	rlca
3733  12FE  07          	rlca
3734  12FF  E6 F0       	and	a,0xf0
3735  1301  DD 6E FA    	ld	l,(ix-6)
3736  1304  DD 66 FB    	ld	h,(ix-5)
3737  1307  77          	ld	(hl), a
3738  1308  3A 00 00    	ld	a,(_index0)
3739  130B  E6 0F       	and	a,0x0f
3740  130D  87          	add	a, a
3741  130E  DD 6E FD    	ld	l,(ix-3)
3742  1311  DD 66 FE    	ld	h,(ix-2)
3743  1314  77          	ld	(hl), a
3744  1315  DD 6E F5    	ld	l,(ix-11)
3745  1318  CD E2 15    	call	_spr_explode_bullet
3746  131B  C3 CF 15    	jp	l_spr_play_bullets_00192
3747  131E              l_spr_play_bullets_00146:
3748  131E  7D          	ld	a, l
3749  131F  D6 48       	sub	a,0x48
3750  1321  38 0C       	jr	C,l_spr_play_bullets_00149
3751  1323  2C          	inc	l
3752  1324  28 09       	jr	Z,l_spr_play_bullets_00149
3753  1326  DD 6E F5    	ld	l,(ix-11)
3754  1329  CD E2 15    	call	_spr_explode_bullet
3755  132C  C3 CF 15    	jp	l_spr_play_bullets_00192
3756  132F              l_spr_play_bullets_00149:
3757  132F  DD 6E FD    	ld	l,(ix-3)
3758  1332  DD 66 FE    	ld	h,(ix-2)
3759  1335  DD 7E F4    	ld	a,(ix-12)
3760  1338  77          	ld	(hl), a
3761  1339  DD 6E F8    	ld	l,(ix-8)
3762  133C  DD 66 F9    	ld	h,(ix-7)
3763  133F  7E          	ld	a, (hl)
3764  1340  D6 04       	sub	a,0x04
3765  1342  20 19       	jr	NZ,l_spr_play_bullets_00152
3766  1344  21 00 00    	ld	hl,_s_lin0
3767  1347  7E          	ld	a, (hl)
3768  1348  C6 F0       	add	a,0xf0
3769  134A  4F          	ld	c, a
3770  134B  7E          	ld	a, (hl)
3771  134C  C6 10       	add	a,0x10
3772  134E  DD 77 F3    	ld	(ix-13),a
3773  1351  DD 35 F4    	dec	(ix-12)
3774  1354  DD 7E F4    	ld	a,(ix-12)
3775  1357  3C          	inc	a
3776  1358  DD 77 F2    	ld	(ix-14),a
3777  135B  18 14       	jr	l_spr_play_bullets_00153
3778  135D              l_spr_play_bullets_00152:
3779  135D  21 00 00    	ld	hl,_s_lin0
3780  1360  7E          	ld	a, (hl)
3781  1361  C6 F8       	add	a,0xf8
3782  1363  4F          	ld	c, a
3783  1364  7E          	ld	a, (hl)
3784  1365  C6 08       	add	a,0x08
3785  1367  DD 77 F3    	ld	(ix-13),a
3786  136A  DD 7E F4    	ld	a,(ix-12)
3787  136D  3C          	inc	a
3788  136E  DD 77 F2    	ld	(ix-14),a
3789  1371              l_spr_play_bullets_00153:
3790  1371  7B          	ld	a, e
3791  1372  B7          	or	a, a
3792  1373  CA 5B 15    	jp	Z, l_spr_play_bullets_00184
3793  1376  21 00 00    	ld	hl,_tmp0
3794  1379  36 00       	ld	(hl),0x00
3795  137B              l_spr_play_bullets_00194:
3796  137B  2A 00 00    	ld	hl,(_tmp0)
3797  137E  26 00       	ld	h,0x00
3798  1380  11 00 00    	ld	de,_class
3799  1383  19          	add	hl,de
3800  1384  7E          	ld	a,(hl)
3801  1385  B7          	or	a,a
3802  1386  CA 26 14    	jp	Z,l_spr_play_bullets_00195
3803  1389  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3804  138C  3C          	inc	a
3805  138D  CA 26 14    	jp	Z,l_spr_play_bullets_00195
3806  1390  2A 00 00    	ld	hl,(_tmp0)
3807  1393  26 00       	ld	h,0x00
3808  1395  11 00 00    	ld	de,_lin
3809  1398  19          	add	hl,de
3810  1399  7E          	ld	a,(hl)
3811  139A  47          	ld	b,a
3812  139B  91          	sub	a,c
3813  139C  DA 26 14    	jp	C,l_spr_play_bullets_00195
3814  139F  21 00 00    	ld	hl,_tmp0
3815  13A2  DD 7E F3    	ld	a,(ix-13)
3816  13A5  90          	sub	a, b
3817  13A6  DA 26 14    	jp	C, l_spr_play_bullets_00195
3818  13A9  5E          	ld	e,(hl)
3819  13AA  16 00       	ld	d,0x00
3820  13AC  21 00 00    	ld	hl,_col
3821  13AF  19          	add	hl,de
3822  13B0  7E          	ld	a,(hl)
3823  13B1  5F          	ld	e,a
3824  13B2  DD 96 F4    	sub	a,(ix-12)
3825  13B5  38 6F       	jr	C,l_spr_play_bullets_00195
3826  13B7  DD 7E F2    	ld	a,(ix-14)
3827  13BA  93          	sub	a, e
3828  13BB  38 69       	jr	C,l_spr_play_bullets_00195
3829  13BD  21 00 00    	ld	hl,_s_lin0
3830  13C0  70          	ld	(hl), b
3831  13C1  21 00 00    	ld	hl,_s_col0
3832  13C4  73          	ld	(hl), e
3833  13C5  C5          	push	bc
3834  13C6  CD 00 00    	call	_rand
3835  13C9  11 06 00    	ld	de,0x0006
3836  13CC  D5          	push	de
3837  13CD  E5          	push	hl
3838  13CE  CD 00 00    	call	__modsint_callee
3839  13D1  CD 00 00    	call	_player_score_add
3840  13D4  C1          	pop	bc
3841  13D5  2A 00 00    	ld	hl,(_tmp0)
3842  13D8  26 00       	ld	h,0x00
3843  13DA  29          	add	hl,hl
3844  13DB  11 00 00    	ld	de,_game_respawn_time
3845  13DE  19          	add	hl, de
3846  13DF  DD 75 F8    	ld	(ix-8),l
3847  13E2  DD 74 F9    	ld	(ix-7),h
3848  13E5  ED 5B 00 00 	ld	de,(_curr_time)
3849  13E9  73          	ld	(hl), e
3850  13EA  23          	inc	hl
3851  13EB  72          	ld	(hl), d
3852  13EC  2A 00 00    	ld	hl,(_tmp0)
3853  13EF  C5          	push	bc
3854  13F0  CD 16 09    	call	_spr_destroy
3855  13F3  C1          	pop	bc
3856  13F4  2A 00 00    	ld	hl,(_tmp0)
3857  13F7  26 00       	ld	h,0x00
3858  13F9  11 00 00    	ld	de,_bullet_col
3859  13FC  19          	add	hl,de
3860  13FD  7E          	ld	a,(hl)
3861  13FE  47          	ld	b,a
3862  13FF  3C          	inc	a
3863  1400  28 17       	jr	Z,l_spr_play_bullets_00155
3864  1402  3A 00 00    	ld	a,(_tmp0)
3865  1405  5F          	ld	e,a
3866  1406  16 00       	ld	d,0x00
3867  1408  21 00 00    	ld	hl,_bullet_lin
3868  140B  19          	add	hl,de
3869  140C  7E          	ld	a,(hl)
3870  140D  32 00 00    	ld	(_s_lin0),a
3871  1410  21 00 00    	ld	hl,_s_col0
3872  1413  70          	ld	(hl), b
3873  1414  C5          	push	bc
3874  1415  CD 50 0C    	call	_spr_back_repaint
3875  1418  C1          	pop	bc
3876  1419              l_spr_play_bullets_00155:
3877  1419  3A 00 00    	ld	a,(_s_col0)
3878  141C  32 07 00    	ld	((_bullet_col + 0x0007)),a
3879  141F  C5          	push	bc
3880  1420  2E 07       	ld	l,0x07
3881  1422  CD E2 15    	call	_spr_explode_bullet
3882  1425  C1          	pop	bc
3883  1426              l_spr_play_bullets_00195:
3884  1426  21 00 00    	ld	hl,_tmp0
3885  1429  7E          	ld	a,(hl)
3886  142A  3C          	inc	a
3887  142B  77          	ld	(hl),a
3888  142C  D6 07       	sub	a,0x07
3889  142E  DA 7B 13    	jp	C, l_spr_play_bullets_00194
3890  1431  3A 00 00    	ld	a,(_game_boss)
3891  1434  B7          	or	a, a
3892  1435  CA 93 15    	jp	Z, l_spr_play_bullets_00187
3893  1438  21 00 00    	ld	hl,_boss_lin
3894  143B  7E          	ld	a, (hl)
3895  143C  91          	sub	a, c
3896  143D  38 06       	jr	C,l_spr_play_bullets_00173
3897  143F  DD 7E F3    	ld	a,(ix-13)
3898  1442  96          	sub	a, (hl)
3899  1443  30 28       	jr	NC,l_spr_play_bullets_00174
3900  1445              l_spr_play_bullets_00173:
3901  1445  3A 00 00    	ld	a,(_boss_lin)
3902  1448  5F          	ld	e,a
3903  1449  16 00       	ld	d,0x00
3904  144B  21 10 00    	ld	hl,0x0010
3905  144E  19          	add	hl, de
3906  144F  06 00       	ld	b,0x00
3907  1451  7D          	ld	a, l
3908  1452  91          	sub	a, c
3909  1453  7C          	ld	a, h
3910  1454  98          	sbc	a, b
3911  1455  E2 5A 14    	jp	PO, l_spr_play_bullets_00441
3912  1458  EE 80       	xor	a,0x80
3913  145A              l_spr_play_bullets_00441:
3914  145A  FA 93 15    	jp	M, l_spr_play_bullets_00187
3915  145D  DD 7E F3    	ld	a,(ix-13)
3916  1460  06 00       	ld	b,0x00
3917  1462  95          	sub	a, l
3918  1463  78          	ld	a, b
3919  1464  9C          	sbc	a, h
3920  1465  E2 6A 14    	jp	PO, l_spr_play_bullets_00442
3921  1468  EE 80       	xor	a,0x80
3922  146A              l_spr_play_bullets_00442:
3923  146A  FA 93 15    	jp	M, l_spr_play_bullets_00187
3924  146D              l_spr_play_bullets_00174:
3925  146D  21 00 00    	ld	hl,_boss_col
3926  1470  7E          	ld	a, (hl)
3927  1471  DD 96 F4    	sub	a,(ix-12)
3928  1474  DA 93 15    	jp	C, l_spr_play_bullets_00187
3929  1477  DD 7E F2    	ld	a,(ix-14)
3930  147A  96          	sub	a, (hl)
3931  147B  DA 93 15    	jp	C, l_spr_play_bullets_00187
3932  147E  DD 6E F5    	ld	l,(ix-11)
3933  1481  CD E2 15    	call	_spr_explode_bullet
3934  1484  21 00 00    	ld	hl,_game_boss_hit
3935  1487  35          	dec	(hl)
3936  1488  CD 00 00    	call	_game_update_stats
3937  148B  3A 00 00    	ld	a,(_game_boss_hit)
3938  148E  B7          	or	a, a
3939  148F  C2 93 15    	jp	NZ, l_spr_play_bullets_00187
3940  1492  21 00 00    	ld	hl,_game_boss
3941  1495  36 00       	ld	(hl),0x00
3942  1497  21 00 00    	ld	hl,_game_boss_alive
3943  149A  36 00       	ld	(hl),0x00
3944  149C  3A 00 00    	ld	a,(_boss_col)
3945  149F  21 00 00    	ld	hl,0x0000
3946  14A2  E5          	push	hl
3947  14A3  21 87 03    	ld	hl,0x0387
3948  14A6  E5          	push	hl
3949  14A7  F5          	push	af
3950  14A8  33          	inc	sp
3951  14A9  3A 00 00    	ld	a,(_boss_lin)
3952  14AC  F5          	push	af
3953  14AD  33          	inc	sp
3954  14AE  CD 1C 0E    	call	_spr_add_anim
3955  14B1  F1          	pop	af
3956  14B2  F1          	pop	af
3957  14B3  F1          	pop	af
3958  14B4  21 00 00    	ld	hl,_boss_col
3959  14B7  46          	ld	b, (hl)
3960  14B8  04          	inc	b
3961  14B9  04          	inc	b
3962  14BA  21 00 00    	ld	hl,0x0000
3963  14BD  E5          	push	hl
3964  14BE  21 87 03    	ld	hl,0x0387
3965  14C1  E5          	push	hl
3966  14C2  C5          	push	bc
3967  14C3  33          	inc	sp
3968  14C4  3A 00 00    	ld	a,(_boss_lin)
3969  14C7  F5          	push	af
3970  14C8  33          	inc	sp
3971  14C9  CD 1C 0E    	call	_spr_add_anim
3972  14CC  F1          	pop	af
3973  14CD  F1          	pop	af
3974  14CE  F1          	pop	af
3975  14CF  3A 00 00    	ld	a,(_boss_lin)
3976  14D2  C6 10       	add	a,0x10
3977  14D4  47          	ld	b, a
3978  14D5  3A 00 00    	ld	a,(_boss_col)
3979  14D8  21 00 00    	ld	hl,0x0000
3980  14DB  E5          	push	hl
3981  14DC  21 87 03    	ld	hl,0x0387
3982  14DF  E5          	push	hl
3983  14E0  48          	ld	c,b
3984  14E1  47          	ld	b,a
3985  14E2  C5          	push	bc
3986  14E3  CD 1C 0E    	call	_spr_add_anim
3987  14E6  F1          	pop	af
3988  14E7  F1          	pop	af
3989  14E8  F1          	pop	af
3990  14E9  21 00 00    	ld	hl,_boss_col
3991  14EC  46          	ld	b, (hl)
3992  14ED  04          	inc	b
3993  14EE  04          	inc	b
3994  14EF  3A 00 00    	ld	a,(_boss_lin)
3995  14F2  C6 10       	add	a,0x10
3996  14F4  57          	ld	d, a
3997  14F5  21 00 00    	ld	hl,0x0000
3998  14F8  E5          	push	hl
3999  14F9  21 87 03    	ld	hl,0x0387
4000  14FC  E5          	push	hl
4001  14FD  4A          	ld	c, d
4002  14FE  C5          	push	bc
4003  14FF  CD 1C 0E    	call	_spr_add_anim
4004  1502  F1          	pop	af
4005  1503  F1          	pop	af
4006  1504  F1          	pop	af
4007  1505  21 00 00    	ld	hl,_tmp0
4008  1508  36 00       	ld	(hl),0x00
4009  150A              l_spr_play_bullets_00196:
4010  150A  2A 00 00    	ld	hl,(_tmp0)
4011  150D  26 00       	ld	h,0x00
4012  150F  01 00 00    	ld	bc,_bullet_col
4013  1512  09          	add	hl,bc
4014  1513  7E          	ld	a,(hl)
4015  1514  4F          	ld	c,a
4016  1515  3C          	inc	a
4017  1516  28 15       	jr	Z,l_spr_play_bullets_00165
4018  1518  3A 00 00    	ld	a,(_tmp0)
4019  151B  5F          	ld	e,a
4020  151C  16 00       	ld	d,0x00
4021  151E  21 00 00    	ld	hl,_bullet_lin
4022  1521  19          	add	hl,de
4023  1522  7E          	ld	a,(hl)
4024  1523  32 00 00    	ld	(_s_lin0),a
4025  1526  21 00 00    	ld	hl,_s_col0
4026  1529  71          	ld	(hl), c
4027  152A  CD 50 0C    	call	_spr_back_repaint
4028  152D              l_spr_play_bullets_00165:
4029  152D  2A 00 00    	ld	hl,(_tmp0)
4030  1530  26 00       	ld	h,0x00
4031  1532  01 00 00    	ld	bc,_bullet_col
4032  1535  09          	add	hl,bc
4033  1536  36 FF       	ld	(hl),0xff
4034  1538  2A 00 00    	ld	hl,(_tmp0)
4035  153B  CD 16 09    	call	_spr_destroy
4036  153E  2A 00 00    	ld	hl,(_tmp0)
4037  1541  26 00       	ld	h,0x00
4038  1543  29          	add	hl, hl
4039  1544  11 00 00    	ld	de,_game_respawn_time
4040  1547  19          	add	hl, de
4041  1548  AF          	xor	a, a
4042  1549  77          	ld	(hl), a
4043  154A  23          	inc	hl
4044  154B  77          	ld	(hl), a
4045  154C  21 00 00    	ld	hl,_tmp0
4046  154F  7E          	ld	a,(hl)
4047  1550  3C          	inc	a
4048  1551  77          	ld	(hl),a
4049  1552  D6 07       	sub	a,0x07
4050  1554  38 B4       	jr	C,l_spr_play_bullets_00196
4051  1556  CD 00 00    	call	_game_boss_clear
4052  1559  18 38       	jr	l_spr_play_bullets_00187
4053  155B              l_spr_play_bullets_00184:
4054  155B  3A 07 00    	ld	a,(_lin + 7)
4055  155E  47          	ld	b,a
4056  155F  91          	sub	a, c
4057  1560  38 31       	jr	C,l_spr_play_bullets_00187
4058  1562  DD 7E F3    	ld	a,(ix-13)
4059  1565  90          	sub	a, b
4060  1566  38 2B       	jr	C,l_spr_play_bullets_00187
4061  1568  3A 07 00    	ld	a,(_col + 7)
4062  156B  4F          	ld	c,a
4063  156C  DD 96 F4    	sub	a,(ix-12)
4064  156F  38 22       	jr	C,l_spr_play_bullets_00187
4065  1571  DD 7E F2    	ld	a,(ix-14)
4066  1574  91          	sub	a, c
4067  1575  38 1C       	jr	C,l_spr_play_bullets_00187
4068  1577  2E 03       	ld	l,0x03
4069  1579  CD 00 00    	call	_zx_border_fastcall
4070  157C  2E 0A       	ld	l,0x0a
4071  157E  CD 00 00    	call	_player_hit
4072  1581  DD 6E FD    	ld	l,(ix-3)
4073  1584  DD 66 FE    	ld	h,(ix-2)
4074  1587  3A 00 00    	ld	a,(_s_col0)
4075  158A  77          	ld	(hl),a
4076  158B  DD 6E FF    	ld	l,(ix-1)
4077  158E  CD E2 15    	call	_spr_explode_bullet
4078  1591  18 4A       	jr	l_spr_play_bullets_00199
4079  1593              l_spr_play_bullets_00187:
4080  1593  DD 6E F6    	ld	l,(ix-10)
4081  1596  DD 66 F7    	ld	h,(ix-9)
4082  1599  4E          	ld	c, (hl)
4083  159A  0C          	inc	c
4084  159B  28 32       	jr	Z,l_spr_play_bullets_00192
4085  159D  DD 7E F4    	ld	a,(ix-12)
4086  15A0  D6 20       	sub	a,0x20
4087  15A2  30 2B       	jr	NC,l_spr_play_bullets_00192
4088  15A4  F3          	di
4089  15A5  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4090  15A7  DD 86 F5    	add	a,(ix-11)
4091  15AA  6F          	ld	l, a
4092  15AB  3E 00       	ld	a, +((_bullet_tile) / 256)
4093  15AD  CE 00       	adc	a,0x00
4094  15AF  67          	ld	h, a
4095  15B0  4E          	ld	c, (hl)
4096  15B1  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4097  15B3  DD 86 F5    	add	a,(ix-11)
4098  15B6  6F          	ld	l, a
4099  15B7  3E 00       	ld	a, +((_bullet_colint) / 256)
4100  15B9  CE 00       	adc	a,0x00
4101  15BB  67          	ld	h, a
4102  15BC  46          	ld	b, (hl)
4103  15BD  79          	ld	a, c
4104  15BE  80          	add	a, b
4105  15BF  47          	ld	b, a
4106  15C0  DD 7E F4    	ld	a,(ix-12)
4107  15C3  F5          	push	af
4108  15C4  33          	inc	sp
4109  15C5  3A 00 00    	ld	a,(_s_lin0)
4110  15C8  48          	ld	c,b
4111  15C9  47          	ld	b,a
4112  15CA  C5          	push	bc
4113  15CB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4114  15CE  FB          	ei
4115  15CF              l_spr_play_bullets_00192:
4116  15CF  DD 34 F5    	inc	(ix-11)
4117  15D2  DD 7E F5    	ld	a,(ix-11)
4118  15D5  DD 77 FF    	ld	(ix-1),a
4119  15D8  D6 08       	sub	a,0x08
4120  15DA  DA 38 10    	jp	C, l_spr_play_bullets_00198
4121  15DD              l_spr_play_bullets_00199:
4122  15DD  DD F9       	ld	sp, ix
4123  15DF  DD E1       	pop	ix
4124  15E1  C9          	ret
4125  15E2              	SECTION code_compiler
4126  15E2              ;	---------------------------------
4127  15E2              ; Function spr_explode_bullet
4128  15E2              ; ---------------------------------
4129  15E2              _spr_explode_bullet:
4130  15E2  5D          	ld	e, l
4131  15E3  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4132  15E5  83          	add	a, e
4133  15E6  4F          	ld	c, a
4134  15E7  3E 00       	ld	a, +((_bullet_col) / 256)
4135  15E9  CE 00       	adc	a,0x00
4136  15EB  47          	ld	b, a
4137  15EC  0A          	ld	a, (bc)
4138  15ED  57          	ld	d, a
4139  15EE  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4140  15F0  83          	add	a, e
4141  15F1  6F          	ld	l, a
4142  15F2  3E 00       	ld	a, +((_bullet_lin) / 256)
4143  15F4  CE 00       	adc	a,0x00
4144  15F6  67          	ld	h, a
4145  15F7  5E          	ld	e, (hl)
4146  15F8  C5          	push	bc
4147  15F9  21 00 00    	ld	hl,0x0000
4148  15FC  E5          	push	hl
4149  15FD  21 87 03    	ld	hl,0x0387
4150  1600  E5          	push	hl
4151  1601  D5          	push	de
4152  1602  CD 1C 0E    	call	_spr_add_anim
4153  1605  F1          	pop	af
4154  1606  F1          	pop	af
4155  1607  F1          	pop	af
4156  1608  C1          	pop	bc
4157  1609  21 00 00    	ld	hl,_bullet_count
4158  160C  35          	dec	(hl)
4159  160D  3E FF       	ld	a,0xff
4160  160F  02          	ld	(bc), a
4161  1610  C9          	ret
4162  1611              	SECTION code_compiler
4163  1611              ;	---------------------------------
4164  1611              ; Function spr_turn_horizontal
4165  1611              ; ---------------------------------
4166  1611              _spr_turn_horizontal:
4167  1611  21 00 00    	ld	hl,_s_state
4168  1614  CB 56       	bit	2, (hl)
4169  1616  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4170  1618  21 00 00    	ld	hl,_s_state
4171  161B  7E          	ld	a,(hl)
4172  161C  F6 08       	or	a,0x08
4173  161E  E6 FB       	and	a,0xfb
4174  1620  77          	ld	(hl),a
4175  1621  18 09       	jr	l_spr_turn_horizontal_00103
4176  1623              l_spr_turn_horizontal_00102:
4177  1623  21 00 00    	ld	hl,_s_state
4178  1626  7E          	ld	a,(hl)
4179  1627  E6 F7       	and	a,0xf7
4180  1629  F6 04       	or	a,0x04
4181  162B  77          	ld	(hl),a
4182  162C              l_spr_turn_horizontal_00103:
4183  162C  2A 00 00    	ld	hl,(_sprite)
4184  162F  26 00       	ld	h,0x00
4185  1631  01 00 00    	ld	bc,_state
4186  1634  09          	add	hl,bc
4187  1635  3A 00 00    	ld	a,(_s_state)
4188  1638  77          	ld	(hl),a
4189  1639  2A 00 00    	ld	hl,(_sprite)
4190  163C  26 00       	ld	h,0x00
4191  163E  01 00 00    	ld	bc,_tile
4192  1641  09          	add	hl,bc
4193  1642  E5          	push	hl
4194  1643  2A 00 00    	ld	hl,(_sprite)
4195  1646  CD AB 09    	call	_spr_tile
4196  1649  C1          	pop	bc
4197  164A  7D          	ld	a,l
4198  164B  02          	ld	(bc), a
4199  164C  C9          	ret
4200  164D              	SECTION code_compiler
4201  164D              ;	---------------------------------
4202  164D              ; Function spr_btile_paint_back
4203  164D              ; ---------------------------------
4204  164D              _spr_btile_paint_back:
4205  164D  21 20 00    	ld	hl,0x0020
4206  1650  22 00 00    	ld	(_tmp_ui),hl
4207  1653  21 00 00    	ld	hl,_map_paper
4208  1656  7E          	ld	a, (hl)
4209  1657  0F          	rrca
4210  1658  0F          	rrca
4211  1659  0F          	rrca
4212  165A  E6 1F       	and	a,0x1f
4213  165C  B6          	or	a, (hl)
4214  165D  F6 40       	or	a,0x40
4215  165F  32 00 00    	ld	(_map_paper_clr),a
4216  1662              l_spr_btile_paint_back_00106:
4217  1662  21 00 00    	ld	hl,_tmp_ui
4218  1665  7E          	ld	a, (hl)
4219  1666  D6 20       	sub	a,0x20
4220  1668  23          	inc	hl
4221  1669  7E          	ld	a, (hl)
4222  166A  DE 2D       	sbc	a,0x2d
4223  166C  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4224  166E  21 00 00    	ld	hl,_tmp0
4225  1671  36 00       	ld	(hl),0x00
4226  1673              l_spr_btile_paint_back_00103:
4227  1673  3A 00 00    	ld	a,(_tmp0)
4228  1676  D6 10       	sub	a,0x10
4229  1678  30 34       	jr	NC,l_spr_btile_paint_back_00105
4230  167A  01 00 00    	ld	bc,_btiles
4231  167D  2A 00 00    	ld	hl,(_tmp_ui)
4232  1680  09          	add	hl,bc
4233  1681  7D          	ld	a,l
4234  1682  44          	ld	b,h
4235  1683  21 00 00    	ld	hl,_tmp0
4236  1686  86          	add	a, (hl)
4237  1687  4F          	ld	c, a
4238  1688  78          	ld	a, b
4239  1689  CE 00       	adc	a,0x00
4240  168B  47          	ld	b, a
4241  168C  0A          	ld	a, (bc)
4242  168D  32 00 00    	ld	(_tmp),a
4243  1690  E6 38       	and	a,0x38
4244  1692  5F          	ld	e, a
4245  1693  3A 00 00    	ld	a,(_map_paper_last)
4246  1696  93          	sub	a, e
4247  1697  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4248  1699  21 00 00    	ld	hl,_tmp
4249  169C  7E          	ld	a, (hl)
4250  169D  E6 C7       	and	a,0xc7
4251  169F  77          	ld	(hl),a
4252  16A0  21 00 00    	ld	hl,_map_paper
4253  16A3  B6          	or	a, (hl)
4254  16A4  32 00 00    	ld	(_tmp),a
4255  16A7  02          	ld	(bc), a
4256  16A8              l_spr_btile_paint_back_00102:
4257  16A8  21 00 00    	ld	hl,_tmp0
4258  16AB  34          	inc	(hl)
4259  16AC  18 C5       	jr	l_spr_btile_paint_back_00103
4260  16AE              l_spr_btile_paint_back_00105:
4261  16AE  2A 00 00    	ld	hl,(_tmp_ui)
4262  16B1  11 30 00    	ld	de,0x0030
4263  16B4  19          	add	hl,de
4264  16B5  22 00 00    	ld	(_tmp_ui),hl
4265  16B8  18 A8       	jr	l_spr_btile_paint_back_00106
4266  16BA              l_spr_btile_paint_back_00108:
4267  16BA  C3 00 00    	jp  _game_attribs
4268  16BD              	SECTION IGNORE
4269  0000              
