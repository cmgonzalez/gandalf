1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_clear_scr
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_draw_row
208   0000              	GLOBAL _spr_calc_hor
209   0000              	GLOBAL _spr_back_repaint
210   0000              	GLOBAL _spr_tile_paint
211   0000              	GLOBAL _spr_init_anim_bullets
212   0000              	GLOBAL _spr_add_anim
213   0000              	GLOBAL _spr_play_anim
214   0000              	GLOBAL _spr_play_bullets
215   0000              	GLOBAL _spr_explode_bullet
216   0000              	GLOBAL _spr_turn_horizontal
217   0000              	GLOBAL _spr_btile_paint_back
218   0000              ;--------------------------------------------------------
219   0000              ; Externals used
220   0000              ;--------------------------------------------------------
221   0000              	GLOBAL _ulltoa_callee
222   0000              	GLOBAL _ulltoa
223   0000              	GLOBAL _strtoull_callee
224   0000              	GLOBAL _strtoull
225   0000              	GLOBAL _strtoll_callee
226   0000              	GLOBAL _strtoll
227   0000              	GLOBAL _lltoa_callee
228   0000              	GLOBAL _lltoa
229   0000              	GLOBAL _llabs_callee
230   0000              	GLOBAL _llabs
231   0000              	GLOBAL __lldivu__callee
232   0000              	GLOBAL __lldivu_
233   0000              	GLOBAL __lldiv__callee
234   0000              	GLOBAL __lldiv_
235   0000              	GLOBAL _atoll_callee
236   0000              	GLOBAL _atoll
237   0000              	GLOBAL _realloc_unlocked_callee
238   0000              	GLOBAL _realloc_unlocked
239   0000              	GLOBAL _malloc_unlocked_fastcall
240   0000              	GLOBAL _malloc_unlocked
241   0000              	GLOBAL _free_unlocked_fastcall
242   0000              	GLOBAL _free_unlocked
243   0000              	GLOBAL _calloc_unlocked_callee
244   0000              	GLOBAL _calloc_unlocked
245   0000              	GLOBAL _aligned_alloc_unlocked_callee
246   0000              	GLOBAL _aligned_alloc_unlocked
247   0000              	GLOBAL _realloc_callee
248   0000              	GLOBAL _realloc
249   0000              	GLOBAL _malloc_fastcall
250   0000              	GLOBAL _malloc
251   0000              	GLOBAL _free_fastcall
252   0000              	GLOBAL _free
253   0000              	GLOBAL _calloc_callee
254   0000              	GLOBAL _calloc
255   0000              	GLOBAL _aligned_alloc_callee
256   0000              	GLOBAL _aligned_alloc
257   0000              	GLOBAL _utoa_callee
258   0000              	GLOBAL _utoa
259   0000              	GLOBAL _ultoa_callee
260   0000              	GLOBAL _ultoa
261   0000              	GLOBAL _system_fastcall
262   0000              	GLOBAL _system
263   0000              	GLOBAL _strtoul_callee
264   0000              	GLOBAL _strtoul
265   0000              	GLOBAL _strtol_callee
266   0000              	GLOBAL _strtol
267   0000              	GLOBAL _strtof_callee
268   0000              	GLOBAL _strtof
269   0000              	GLOBAL _strtod_callee
270   0000              	GLOBAL _strtod
271   0000              	GLOBAL _srand_fastcall
272   0000              	GLOBAL _srand
273   0000              	GLOBAL _rand
274   0000              	GLOBAL _quick_exit_fastcall
275   0000              	GLOBAL _quick_exit
276   0000              	GLOBAL _qsort_callee
277   0000              	GLOBAL _qsort
278   0000              	GLOBAL _ltoa_callee
279   0000              	GLOBAL _ltoa
280   0000              	GLOBAL _labs_fastcall
281   0000              	GLOBAL _labs
282   0000              	GLOBAL _itoa_callee
283   0000              	GLOBAL _itoa
284   0000              	GLOBAL _ftoh_callee
285   0000              	GLOBAL _ftoh
286   0000              	GLOBAL _ftog_callee
287   0000              	GLOBAL _ftog
288   0000              	GLOBAL _ftoe_callee
289   0000              	GLOBAL _ftoe
290   0000              	GLOBAL _ftoa_callee
291   0000              	GLOBAL _ftoa
292   0000              	GLOBAL _exit_fastcall
293   0000              	GLOBAL _exit
294   0000              	GLOBAL _dtoh_callee
295   0000              	GLOBAL _dtoh
296   0000              	GLOBAL _dtog_callee
297   0000              	GLOBAL _dtog
298   0000              	GLOBAL _dtoe_callee
299   0000              	GLOBAL _dtoe
300   0000              	GLOBAL _dtoa_callee
301   0000              	GLOBAL _dtoa
302   0000              	GLOBAL _bsearch_callee
303   0000              	GLOBAL _bsearch
304   0000              	GLOBAL _atol_fastcall
305   0000              	GLOBAL _atol
306   0000              	GLOBAL _atoi_fastcall
307   0000              	GLOBAL _atoi
308   0000              	GLOBAL _atof_fastcall
309   0000              	GLOBAL _atof
310   0000              	GLOBAL _atexit_fastcall
311   0000              	GLOBAL _atexit
312   0000              	GLOBAL _at_quick_exit_fastcall
313   0000              	GLOBAL _at_quick_exit
314   0000              	GLOBAL _abs_fastcall
315   0000              	GLOBAL _abs
316   0000              	GLOBAL _abort
317   0000              	GLOBAL __strtou__callee
318   0000              	GLOBAL __strtou_
319   0000              	GLOBAL __strtoi__callee
320   0000              	GLOBAL __strtoi_
321   0000              	GLOBAL __random_uniform_xor_8__fastcall
322   0000              	GLOBAL __random_uniform_xor_8_
323   0000              	GLOBAL __random_uniform_xor_32__fastcall
324   0000              	GLOBAL __random_uniform_xor_32_
325   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
326   0000              	GLOBAL __random_uniform_cmwc_8_
327   0000              	GLOBAL __shellsort__callee
328   0000              	GLOBAL __shellsort_
329   0000              	GLOBAL __quicksort__callee
330   0000              	GLOBAL __quicksort_
331   0000              	GLOBAL __insertion_sort__callee
332   0000              	GLOBAL __insertion_sort_
333   0000              	GLOBAL __ldivu__callee
334   0000              	GLOBAL __ldivu_
335   0000              	GLOBAL __ldiv__callee
336   0000              	GLOBAL __ldiv_
337   0000              	GLOBAL __divu__callee
338   0000              	GLOBAL __divu_
339   0000              	GLOBAL __div__callee
340   0000              	GLOBAL __div_
341   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawTW_raw
343   0000              	GLOBAL _NIRVANAP_drawTW_callee
344   0000              	GLOBAL _NIRVANAP_drawTW
345   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
346   0000              	GLOBAL _NIRVANAP_drawW_raw
347   0000              	GLOBAL _NIRVANAP_drawW_callee
348   0000              	GLOBAL _NIRVANAP_drawW
349   0000              	GLOBAL _NIRVANAP_spriteT_callee
350   0000              	GLOBAL _NIRVANAP_spriteT
351   0000              	GLOBAL _NIRVANAP_fillC_callee
352   0000              	GLOBAL _NIRVANAP_fillC
353   0000              	GLOBAL _NIRVANAP_readC_callee
354   0000              	GLOBAL _NIRVANAP_readC
355   0000              	GLOBAL _NIRVANAP_paintC_callee
356   0000              	GLOBAL _NIRVANAP_paintC
357   0000              	GLOBAL _NIRVANAP_printC_callee
358   0000              	GLOBAL _NIRVANAP_printC
359   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
360   0000              	GLOBAL _NIRVANAP_fillT_raw
361   0000              	GLOBAL _NIRVANAP_fillT_callee
362   0000              	GLOBAL _NIRVANAP_fillT
363   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawT_raw
365   0000              	GLOBAL _NIRVANAP_drawT_callee
366   0000              	GLOBAL _NIRVANAP_drawT
367   0000              	GLOBAL _NIRVANAP_stop
368   0000              	GLOBAL _NIRVANAP_start
369   0000              	GLOBAL _debug3
370   0000              	GLOBAL _debug2
371   0000              	GLOBAL _debug
372   0000              	GLOBAL _zx_print_str
373   0000              	GLOBAL _zx_print_int
374   0000              	GLOBAL _zx_print_chr
375   0000              	GLOBAL _zx_print_bonus_time
376   0000              	GLOBAL _zx_isr
377   0000              	GLOBAL _z80_otdr_callee
378   0000              	GLOBAL _z80_otdr
379   0000              	GLOBAL _z80_otir_callee
380   0000              	GLOBAL _z80_otir
381   0000              	GLOBAL _z80_outp_callee
382   0000              	GLOBAL _z80_outp
383   0000              	GLOBAL _z80_indr_callee
384   0000              	GLOBAL _z80_indr
385   0000              	GLOBAL _z80_inir_callee
386   0000              	GLOBAL _z80_inir
387   0000              	GLOBAL _z80_inp_fastcall
388   0000              	GLOBAL _z80_inp
389   0000              	GLOBAL _z80_set_int_state_fastcall
390   0000              	GLOBAL _z80_set_int_state
391   0000              	GLOBAL _z80_get_int_state
392   0000              	GLOBAL _z80_delay_tstate_fastcall
393   0000              	GLOBAL _z80_delay_tstate
394   0000              	GLOBAL _z80_delay_ms_fastcall
395   0000              	GLOBAL _z80_delay_ms
396   0000              	GLOBAL _im2_remove_generic_callback_callee
397   0000              	GLOBAL _im2_remove_generic_callback
398   0000              	GLOBAL _im2_prepend_generic_callback_callee
399   0000              	GLOBAL _im2_prepend_generic_callback
400   0000              	GLOBAL _im2_append_generic_callback_callee
401   0000              	GLOBAL _im2_append_generic_callback
402   0000              	GLOBAL _im2_create_generic_isr_8080_callee
403   0000              	GLOBAL _im2_create_generic_isr_8080
404   0000              	GLOBAL _im2_create_generic_isr_callee
405   0000              	GLOBAL _im2_create_generic_isr
406   0000              	GLOBAL _im2_install_isr_callee
407   0000              	GLOBAL _im2_install_isr
408   0000              	GLOBAL _im2_init_fastcall
409   0000              	GLOBAL _im2_init
410   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_word_32
412   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_32
414   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
415   0000              	GLOBAL _intrinsic_swap_endian_16
416   0000              	GLOBAL _intrinsic_return_de
417   0000              	GLOBAL _intrinsic_return_bc
418   0000              	GLOBAL _intrinsic_exx
419   0000              	GLOBAL _intrinsic_ex_de_hl
420   0000              	GLOBAL _intrinsic_nop
421   0000              	GLOBAL _intrinsic_im_2
422   0000              	GLOBAL _intrinsic_im_1
423   0000              	GLOBAL _intrinsic_im_0
424   0000              	GLOBAL _intrinsic_retn
425   0000              	GLOBAL _intrinsic_reti
426   0000              	GLOBAL _intrinsic_halt
427   0000              	GLOBAL _intrinsic_ei
428   0000              	GLOBAL _intrinsic_di
429   0000              	GLOBAL _intrinsic_stub
430   0000              	GLOBAL _intrinsic_outi
431   0000              	GLOBAL _intrinsic_ldi
432   0000              	GLOBAL _zx_pattern_fill_callee
433   0000              	GLOBAL _zx_pattern_fill
434   0000              	GLOBAL _zx_saddrpup_fastcall
435   0000              	GLOBAL _zx_saddrpup
436   0000              	GLOBAL _zx_saddrpright_callee
437   0000              	GLOBAL _zx_saddrpright
438   0000              	GLOBAL _zx_saddrpleft_callee
439   0000              	GLOBAL _zx_saddrpleft
440   0000              	GLOBAL _zx_saddrpdown_fastcall
441   0000              	GLOBAL _zx_saddrpdown
442   0000              	GLOBAL _zx_saddrcup_fastcall
443   0000              	GLOBAL _zx_saddrcup
444   0000              	GLOBAL _zx_saddrcright_fastcall
445   0000              	GLOBAL _zx_saddrcright
446   0000              	GLOBAL _zx_saddrcleft_fastcall
447   0000              	GLOBAL _zx_saddrcleft
448   0000              	GLOBAL _zx_saddrcdown_fastcall
449   0000              	GLOBAL _zx_saddrcdown
450   0000              	GLOBAL _zx_saddr2py_fastcall
451   0000              	GLOBAL _zx_saddr2py
452   0000              	GLOBAL _zx_saddr2px_fastcall
453   0000              	GLOBAL _zx_saddr2px
454   0000              	GLOBAL _zx_saddr2cy_fastcall
455   0000              	GLOBAL _zx_saddr2cy
456   0000              	GLOBAL _zx_saddr2cx_fastcall
457   0000              	GLOBAL _zx_saddr2cx
458   0000              	GLOBAL _zx_saddr2aaddr_fastcall
459   0000              	GLOBAL _zx_saddr2aaddr
460   0000              	GLOBAL _zx_py2saddr_fastcall
461   0000              	GLOBAL _zx_py2saddr
462   0000              	GLOBAL _zx_py2aaddr_fastcall
463   0000              	GLOBAL _zx_py2aaddr
464   0000              	GLOBAL _zx_pxy2saddr_callee
465   0000              	GLOBAL _zx_pxy2saddr
466   0000              	GLOBAL _zx_pxy2aaddr_callee
467   0000              	GLOBAL _zx_pxy2aaddr
468   0000              	GLOBAL _zx_px2bitmask_fastcall
469   0000              	GLOBAL _zx_px2bitmask
470   0000              	GLOBAL _zx_cy2saddr_fastcall
471   0000              	GLOBAL _zx_cy2saddr
472   0000              	GLOBAL _zx_cy2aaddr_fastcall
473   0000              	GLOBAL _zx_cy2aaddr
474   0000              	GLOBAL _zx_cxy2saddr_callee
475   0000              	GLOBAL _zx_cxy2saddr
476   0000              	GLOBAL _zx_cxy2aaddr_callee
477   0000              	GLOBAL _zx_cxy2aaddr
478   0000              	GLOBAL _zx_bitmask2px_fastcall
479   0000              	GLOBAL _zx_bitmask2px
480   0000              	GLOBAL _zx_aaddrcup_fastcall
481   0000              	GLOBAL _zx_aaddrcup
482   0000              	GLOBAL _zx_aaddrcright_fastcall
483   0000              	GLOBAL _zx_aaddrcright
484   0000              	GLOBAL _zx_aaddrcleft_fastcall
485   0000              	GLOBAL _zx_aaddrcleft
486   0000              	GLOBAL _zx_aaddrcdown_fastcall
487   0000              	GLOBAL _zx_aaddrcdown
488   0000              	GLOBAL _zx_aaddr2saddr_fastcall
489   0000              	GLOBAL _zx_aaddr2saddr
490   0000              	GLOBAL _zx_aaddr2py_fastcall
491   0000              	GLOBAL _zx_aaddr2py
492   0000              	GLOBAL _zx_aaddr2px_fastcall
493   0000              	GLOBAL _zx_aaddr2px
494   0000              	GLOBAL _zx_aaddr2cy_fastcall
495   0000              	GLOBAL _zx_aaddr2cy
496   0000              	GLOBAL _zx_aaddr2cx_fastcall
497   0000              	GLOBAL _zx_aaddr2cx
498   0000              	GLOBAL _zx_visit_wc_pix_callee
499   0000              	GLOBAL _zx_visit_wc_pix
500   0000              	GLOBAL _zx_visit_wc_attr_callee
501   0000              	GLOBAL _zx_visit_wc_attr
502   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
503   0000              	GLOBAL _zx_scroll_wc_up_pix
504   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
505   0000              	GLOBAL _zx_scroll_wc_up_attr
506   0000              	GLOBAL _zx_scroll_wc_up_callee
507   0000              	GLOBAL _zx_scroll_wc_up
508   0000              	GLOBAL _zx_scroll_up_pix_callee
509   0000              	GLOBAL _zx_scroll_up_pix
510   0000              	GLOBAL _zx_scroll_up_attr_callee
511   0000              	GLOBAL _zx_scroll_up_attr
512   0000              	GLOBAL _zx_scroll_up_callee
513   0000              	GLOBAL _zx_scroll_up
514   0000              	GLOBAL _zx_cls_wc_pix_callee
515   0000              	GLOBAL _zx_cls_wc_pix
516   0000              	GLOBAL _zx_cls_wc_attr_callee
517   0000              	GLOBAL _zx_cls_wc_attr
518   0000              	GLOBAL _zx_cls_wc_callee
519   0000              	GLOBAL _zx_cls_wc
520   0000              	GLOBAL _zx_cls_pix_fastcall
521   0000              	GLOBAL _zx_cls_pix
522   0000              	GLOBAL _zx_cls_attr_fastcall
523   0000              	GLOBAL _zx_cls_attr
524   0000              	GLOBAL _zx_cls_fastcall
525   0000              	GLOBAL _zx_cls
526   0000              	GLOBAL _zx_border_fastcall
527   0000              	GLOBAL _zx_border
528   0000              	GLOBAL _sound_hit_brick
529   0000              	GLOBAL _sound_hit_enemy
530   0000              	GLOBAL _sound_kill
531   0000              	GLOBAL _sound_enter_enemy
532   0000              	GLOBAL _sound_coin
533   0000              	GLOBAL _sound_jump
534   0000              	GLOBAL _sound_slide
535   0000              	GLOBAL _player_gasta_brick
536   0000              	GLOBAL _player_lost_life
537   0000              	GLOBAL _player_hit
538   0000              	GLOBAL _player_open_door
539   0000              	GLOBAL _player_move_jump
540   0000              	GLOBAL _player_fire
541   0000              	GLOBAL _player_check_stairs_down
542   0000              	GLOBAL _player_check_stairs
543   0000              	GLOBAL _player_tile
544   0000              	GLOBAL _player_pick_item
545   0000              	GLOBAL _player_check_floor
546   0000              	GLOBAL _player_hit_platform_clear
547   0000              	GLOBAL _player_score_add
548   0000              	GLOBAL _player_player_hit_pow
549   0000              	GLOBAL _player_hit_platform
550   0000              	GLOBAL _player_move_input
551   0000              	GLOBAL _player_turn
552   0000              	GLOBAL _player_move
553   0000              	GLOBAL _player_kill
554   0000              	GLOBAL _player_check_input
555   0000              	GLOBAL _player_collision
556   0000              	GLOBAL _player_init
557   0000              	GLOBAL _game_match_back
558   0000              	GLOBAL _game_attribs
559   0000              	GLOBAL _game_boss_clear
560   0000              	GLOBAL _game_obj_clear
561   0000              	GLOBAL _game_obj_chk
562   0000              	GLOBAL _game_obj_set
563   0000              	GLOBAL _game_shoot_fire_boss
564   0000              	GLOBAL _game_shoot_fire
565   0000              	GLOBAL _game_add_enemy
566   0000              	GLOBAL _game_print_header
567   0000              	GLOBAL _game_phase_print_score_back
568   0000              	GLOBAL _game_check_time
569   0000              	GLOBAL _game_rotate_attrib_osd
570   0000              	GLOBAL _game_rotate_attrib
571   0000              	GLOBAL _game_colour_message
572   0000              	GLOBAL _game_paint_attrib_lin_osd
573   0000              	GLOBAL _game_paint_attrib_lin_h
574   0000              	GLOBAL _game_paint_attrib_lin
575   0000              	GLOBAL _game_paint_attrib
576   0000              	GLOBAL _game_print_score
577   0000              	GLOBAL _game_unfreeze_all
578   0000              	GLOBAL _game_freeze_all
579   0000              	GLOBAL _game_freeze
580   0000              	GLOBAL _game_enemy_add_get_index
581   0000              	GLOBAL _game_check_cell
582   0000              	GLOBAL _game_check_map
583   0000              	GLOBAL _game_loop
584   0000              	GLOBAL _game_round_init
585   0000              	GLOBAL _game_start_timer
586   0000              	GLOBAL _game_tick
587   0000              	GLOBAL _game_update_stats
588   0000              	GLOBAL _game_print_footer
589   0000              	GLOBAL _game_fill_row
590   0000              	GLOBAL _game_fps
591   0000              	GLOBAL _game_respawn
592   0000              	GLOBAL _game_draw_screen
593   0000              	GLOBAL _boss_turn
594   0000              	GLOBAL _enemy_avoid_dead
595   0000              	GLOBAL _enemy_avoid_fall
596   0000              	GLOBAL _enemy_respawn
597   0000              	GLOBAL _enemy_init
598   0000              	GLOBAL _enemy_move
599   0000              	GLOBAL _enemy_turn
600   0000              	GLOBAL _enemy_hit
601   0000              	GLOBAL _enemy_coin1
602   0000              	GLOBAL _enemy_static
603   0000              	GLOBAL _enemy_walk
604   0000              	GLOBAL _enemy_horizontal
605   0000              	GLOBAL _enemy_vertical
606   0000              	GLOBAL _ay_fx_play
607   0000              	GLOBAL _ay_midi_play
608   0000              	GLOBAL _ay_is_playing
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _test_func
611   0000              	GLOBAL _test_proc
612   0000              	GLOBAL _in_mouse_kempston_wheel_delta
613   0000              	GLOBAL _in_mouse_kempston_wheel
614   0000              	GLOBAL _in_mouse_kempston_callee
615   0000              	GLOBAL _in_mouse_kempston
616   0000              	GLOBAL _in_mouse_kempston_setpos_callee
617   0000              	GLOBAL _in_mouse_kempston_setpos
618   0000              	GLOBAL _in_mouse_kempston_reset
619   0000              	GLOBAL _in_mouse_kempston_init
620   0000              	GLOBAL _in_mouse_amx_wheel_delta
621   0000              	GLOBAL _in_mouse_amx_wheel
622   0000              	GLOBAL _in_mouse_amx_callee
623   0000              	GLOBAL _in_mouse_amx
624   0000              	GLOBAL _in_mouse_amx_setpos_callee
625   0000              	GLOBAL _in_mouse_amx_setpos
626   0000              	GLOBAL _in_mouse_amx_reset
627   0000              	GLOBAL _in_mouse_amx_init_callee
628   0000              	GLOBAL _in_mouse_amx_init
629   0000              	GLOBAL _in_stick_sinclair2
630   0000              	GLOBAL _in_stick_sinclair1
631   0000              	GLOBAL _in_stick_kempston
632   0000              	GLOBAL _in_stick_fuller
633   0000              	GLOBAL _in_stick_cursor
634   0000              	GLOBAL _in_stick_keyboard_fastcall
635   0000              	GLOBAL _in_stick_keyboard
636   0000              	GLOBAL _in_wait_nokey
637   0000              	GLOBAL _in_wait_key
638   0000              	GLOBAL _in_test_key
639   0000              	GLOBAL _in_pause_fastcall
640   0000              	GLOBAL _in_pause
641   0000              	GLOBAL _in_key_scancode_fastcall
642   0000              	GLOBAL _in_key_scancode
643   0000              	GLOBAL _in_key_pressed_fastcall
644   0000              	GLOBAL _in_key_pressed
645   0000              	GLOBAL _in_inkey
646   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
647   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
648   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
649   0000              	GLOBAL _NIRVANAP_HOLE
650   0000              	GLOBAL _NIRVANAP_ISR_HOOK
651   0000              	GLOBAL _player_lvl_table
652   0000              	GLOBAL _map_paper_last
653   0000              	GLOBAL _map_paper_clr
654   0000              	GLOBAL _map_paper
655   0000              	GLOBAL _draw_count
656   0000              	GLOBAL _g_player_hit_right
657   0000              	GLOBAL _g_player_hit_left
658   0000              	GLOBAL _joynames
659   0000              	GLOBAL _initials
660   0000              	GLOBAL _bullet_count
661   0000              	GLOBAL _spr_hack
662   0000              	GLOBAL _boss_stat
663   0000              	GLOBAL _boss_time_fire
664   0000              	GLOBAL _boss_time
665   0000              	GLOBAL _boss_tile
666   0000              	GLOBAL _boss_inc
667   0000              	GLOBAL _boss_col
668   0000              	GLOBAL _boss_lin
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_obj1
694   0000              	GLOBAL _scr_obj0
695   0000              	GLOBAL _scr_map
696   0000              	GLOBAL _sprite_speed_alt
697   0000              	GLOBAL _sprite_frames
698   0000              	GLOBAL _sprite_speed
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _player_onstair
702   0000              	GLOBAL _game_start_scr
703   0000              	GLOBAL _game_respawn_tile
704   0000              	GLOBAL _game_respawn_index
705   0000              	GLOBAL _game_respawn_time
706   0000              	GLOBAL _game_menu_sel
707   0000              	GLOBAL _game_score_top
708   0000              	GLOBAL _player_coins
709   0000              	GLOBAL _player_lives
710   0000              	GLOBAL _game_over
711   0000              	GLOBAL _game_sound
712   0000              	GLOBAL _game_inmune
713   0000              	GLOBAL _game_god_mode
714   0000              	GLOBAL _game_two_player
715   0000              	GLOBAL _game_brick_tile
716   0000              	GLOBAL _sprite_curr_index
717   0000              	GLOBAL _spr_count
718   0000              	GLOBAL _bullet_time
719   0000              	GLOBAL _anim_time
720   0000              	GLOBAL _frame_time
721   0000              	GLOBAL _entry_time
722   0000              	GLOBAL _curr_time
723   0000              	GLOBAL _s_state
724   0000              	GLOBAL _attrib_osd
725   0000              	GLOBAL _attrib_hl
726   0000              	GLOBAL _attrib
727   0000              	GLOBAL _zx_val_asm
728   0000              	GLOBAL _enemies
729   0000              	GLOBAL _tmp_ui
730   0000              	GLOBAL _tmp_sc
731   0000              	GLOBAL _tmp_uc
732   0000              	GLOBAL _tmp1
733   0000              	GLOBAL _tmp0
734   0000              	GLOBAL _tmp
735   0000              	GLOBAL _index1
736   0000              	GLOBAL _index0
737   0000              	GLOBAL _loop_count
738   0000              	GLOBAL _s_col1
739   0000              	GLOBAL _s_col0
740   0000              	GLOBAL _s_lin1
741   0000              	GLOBAL _s_lin0
742   0000              	GLOBAL _s_tile1
743   0000              	GLOBAL _s_tile0
744   0000              	GLOBAL _player_brick_time
745   0000              	GLOBAL _player_hit_count
746   0000              	GLOBAL _sprite_horizontal_check
747   0000              	GLOBAL _sprite_on_air
748   0000              	GLOBAL _sprite
749   0000              	GLOBAL _fps
750   0000              	GLOBAL _game_respawn_curr_time
751   0000              	GLOBAL _game_worldup
752   0000              	GLOBAL _game_mush_count
753   0000              	GLOBAL _game_boss_fix
754   0000              	GLOBAL _game_boss_hit
755   0000              	GLOBAL _game_boss_alive
756   0000              	GLOBAL _game_boss
757   0000              	GLOBAL _game_world
758   0000              	GLOBAL _game_gravity
759   0000              	GLOBAL _player_anim_stair
760   0000              	GLOBAL _player_hit_time
761   0000              	GLOBAL _player_lin_scr
762   0000              	GLOBAL _player_col_scr
763   0000              	GLOBAL _player_lvl
764   0000              	GLOBAL _player_int
765   0000              	GLOBAL _player_str
766   0000              	GLOBAL _player_max_vita
767   0000              	GLOBAL _player_max_mana
768   0000              	GLOBAL _player_vita
769   0000              	GLOBAL _player_mana
770   0000              	GLOBAL _player_keys
771   0000              	GLOBAL _player_vel_inc
772   0000              	GLOBAL _player_vel_y1
773   0000              	GLOBAL _player_vel_y0
774   0000              	GLOBAL _player_vel_y
775   0000              	GLOBAL _player_vel_x
776   0000              	GLOBAL _player_joy
777   0000              	GLOBAL _player_score
778   0000              	GLOBAL _last_time
779   0000              	GLOBAL _player_slide
780   0000              	GLOBAL _spr_timer
781   0000              	GLOBAL _jump_lin
782   0000              	GLOBAL _player_hit_col
783   0000              	GLOBAL _player_hit_lin
784   0000              	GLOBAL _colint
785   0000              	GLOBAL _col
786   0000              	GLOBAL _lin
787   0000              	GLOBAL _tile
788   0000              	GLOBAL _state_a
789   0000              	GLOBAL _state
790   0000              	GLOBAL _class
791   0000              	GLOBAL _tbuffer
792   0000              	GLOBAL _dirs
793   0000              	GLOBAL _k1
794   0000              	GLOBAL _joyfunc1
795   0000              	GLOBAL _btiles
796   0000              	GLOBAL _spec128
797   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
798   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
799   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
800   0000              	GLOBAL _ay_effect_20
801   0000              	GLOBAL _ay_effect_19
802   0000              	GLOBAL _ay_effect_18
803   0000              	GLOBAL _ay_effect_17
804   0000              	GLOBAL _ay_effect_16
805   0000              	GLOBAL _ay_effect_15
806   0000              	GLOBAL _ay_effect_14
807   0000              	GLOBAL _ay_effect_13
808   0000              	GLOBAL _ay_effect_12
809   0000              	GLOBAL _ay_effect_11
810   0000              	GLOBAL _ay_effect_10
811   0000              	GLOBAL _ay_effect_09
812   0000              	GLOBAL _ay_effect_08
813   0000              	GLOBAL _ay_effect_07
814   0000              	GLOBAL _ay_effect_06
815   0000              	GLOBAL _ay_effect_05
816   0000              	GLOBAL _ay_effect_04
817   0000              	GLOBAL _ay_effect_03
818   0000              	GLOBAL _ay_effect_02
819   0000              	GLOBAL _ay_effect_01
820   0000              	GLOBAL _pb_midi_phase_1
821   0000              	GLOBAL _pb_midi_title
822   0000              	GLOBAL _control_method
823   0000              	GLOBAL _world1_h
824   0000              	GLOBAL _world1_w
825   0000              	GLOBAL _world1
826   0000              	GLOBAL _paper1
827   0000              	GLOBAL _lenght1
828   0000              	GLOBAL _start_scr1
829   0000              	GLOBAL _world0_h
830   0000              	GLOBAL _world0_w
831   0000              	GLOBAL _world0
832   0000              	GLOBAL _paper0
833   0000              	GLOBAL _lenght0
834   0000              	GLOBAL _start_scr0
835   0000              ;--------------------------------------------------------
836   0000              ; special function registers
837   0000              ;--------------------------------------------------------
838   0000              defc _IO_FE	=	0x00fe
839   0000              defc _IO_1FFD	=	0x1ffd
840   0000              defc _IO_7FFD	=	0x7ffd
841   0000              ;--------------------------------------------------------
842   0000              ; ram data
843   0000              ;--------------------------------------------------------
844   0000              	SECTION bss_compiler
845   0000              ;--------------------------------------------------------
846   0000              ; ram data
847   0000              ;--------------------------------------------------------
848   0000              
849   0000              IF 0
850   0000              
851   0000              ; .area _INITIALIZED removed by z88dk
852   0000              
853   0000              
854   0000              ENDIF
855   0000              
856   0000              ;--------------------------------------------------------
857   0000              ; absolute external ram data
858   0000              ;--------------------------------------------------------
859   0000              	SECTION IGNORE
860   0000              ;--------------------------------------------------------
861   0000              ; global & static initialisations
862   0000              ;--------------------------------------------------------
863   0000              	SECTION code_crt_init
864   0000              ;--------------------------------------------------------
865   0000              ; Home
866   0000              ;--------------------------------------------------------
867   0000              	SECTION IGNORE
868   0000              ;--------------------------------------------------------
869   0000              ; code
870   0000              ;--------------------------------------------------------
871   0000              	SECTION code_compiler
872   0000              ;	---------------------------------
873   0000              ; Function spr_calc_index
874   0000              ; ---------------------------------
875   0000              _spr_calc_index:
876   0000  CD 00 00    	call	___sdcc_enter_ix
877   0003  DD 4E 05    	ld	c,(ix+5)
878   0006  CB 39       	srl	c
879   0008  06 00       	ld	b,0x00
880   000A  DD 7E 04    	ld	a,(ix+4)
881   000D  07          	rlca
882   000E  07          	rlca
883   000F  07          	rlca
884   0010  07          	rlca
885   0011  E6 0F       	and	a,0x0f
886   0013  6F          	ld	l, a
887   0014  26 00       	ld	h,0x00
888   0016  29          	add	hl, hl
889   0017  29          	add	hl, hl
890   0018  29          	add	hl, hl
891   0019  29          	add	hl, hl
892   001A  09          	add	hl, bc
893   001B  DD E1       	pop	ix
894   001D  C9          	ret
895   001E              	SECTION code_compiler
896   001E              ;	---------------------------------
897   001E              ; Function spr_chktime
898   001E              ; ---------------------------------
899   001E              _spr_chktime:
900   001E  CD 00 00    	call	___sdcc_enter_ix
901   0021  5E          	ld	e,(hl)
902   0022  F5          	push	af
903   0023  16 00       	ld	d,0x00
904   0025  4D          	ld	c,l
905   0026  44          	ld	b,h
906   0027  21 00 00    	ld	hl,_sprite_speed_alt
907   002A  19          	add	hl, de
908   002B  7E          	ld	a, (hl)
909   002C  B7          	or	a,a
910   002D  20 15       	jr	NZ,l_spr_chktime_00102
911   002F  57          	ld	d,a
912   0030  21 00 00    	ld	hl,_class
913   0033  19          	add	hl, de
914   0034  56          	ld	d, (hl)
915   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
916   0037  82          	add	a, d
917   0038  6F          	ld	l, a
918   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
919   003B  CE 00       	adc	a,0x00
920   003D  67          	ld	h, a
921   003E  7E          	ld	a, (hl)
922   003F  32 00 00    	ld	(_tmp),a
923   0042  18 03       	jr	l_spr_chktime_00103
924   0044              l_spr_chktime_00102:
925   0044  32 00 00    	ld	(_tmp),a
926   0047              l_spr_chktime_00103:
927   0047  3A 00 00    	ld	a,(_tmp)
928   004A  DD 77 FE    	ld	(ix-2),a
929   004D  26 00       	ld	h,0x00
930   004F  DD 74 FF    	ld	(ix-1),h
931   0052  6B          	ld	l, e
932   0053  29          	add	hl, hl
933   0054  11 00 00    	ld	de,_last_time
934   0057  19          	add	hl, de
935   0058  5E          	ld	e, (hl)
936   0059  23          	inc	hl
937   005A  56          	ld	d, (hl)
938   005B  C5          	push	bc
939   005C  DD 6E FE    	ld	l,(ix-2)
940   005F  DD 66 FF    	ld	h,(ix-1)
941   0062  E5          	push	hl
942   0063  D5          	push	de
943   0064  CD 00 00    	call	_game_check_time
944   0067  F1          	pop	af
945   0068  F1          	pop	af
946   0069  C1          	pop	bc
947   006A  7D          	ld	a,l
948   006B  B7          	or	a, a
949   006C  28 14       	jr	Z,l_spr_chktime_00105
950   006E  0A          	ld	a, (bc)
951   006F  6F          	ld	l, a
952   0070  26 00       	ld	h,0x00
953   0072  29          	add	hl, hl
954   0073  01 00 00    	ld	bc,_last_time
955   0076  09          	add	hl,bc
956   0077  ED 5B 00 00 	ld	de,(_curr_time)
957   007B  73          	ld	(hl),e
958   007C  23          	inc	hl
959   007D  72          	ld	(hl),d
960   007E  2E 01       	ld	l,0x01
961   0080  18 02       	jr	l_spr_chktime_00106
962   0082              l_spr_chktime_00105:
963   0082  2E 00       	ld	l,0x00
964   0084              l_spr_chktime_00106:
965   0084  F1          	pop	af
966   0085  DD E1       	pop	ix
967   0087  C9          	ret
968   0088              	SECTION code_compiler
969   0088              ;	---------------------------------
970   0088              ; Function spr_move_up
971   0088              ; ---------------------------------
972   0088              _spr_move_up:
973   0088  2A 00 00    	ld	hl,(_sprite)
974   008B  26 00       	ld	h,0x00
975   008D  01 00 00    	ld	bc,_lin
976   0090  09          	add	hl,bc
977   0091  7E          	ld	a,(hl)
978   0092  C6 FE       	add	a,0xfe
979   0094  32 00 00    	ld	(_s_lin1),a
980   0097  07          	rlca
981   0098  07          	rlca
982   0099  07          	rlca
983   009A  07          	rlca
984   009B  E6 0F       	and	a,0x0f
985   009D  4F          	ld	c, a
986   009E  3A 00 00    	ld	a,(_s_lin0)
987   00A1  07          	rlca
988   00A2  07          	rlca
989   00A3  07          	rlca
990   00A4  07          	rlca
991   00A5  E6 0F       	and	a,0x0f
992   00A7  47          	ld	b, a
993   00A8  79          	ld	a, c
994   00A9  90          	sub	a, b
995   00AA  20 04       	jr	NZ,l_spr_move_up_00133
996   00AC  3E 01       	ld	a,0x01
997   00AE  18 01       	jr	l_spr_move_up_00134
998   00B0              l_spr_move_up_00133:
999   00B0  AF          	xor	a,a
1000  00B1              l_spr_move_up_00134:
1001  00B1  EE 01       	xor	a,0x01
1002  00B3  28 1D       	jr	Z,l_spr_move_up_00102
1003  00B5  2A 00 00    	ld	hl,(_sprite)
1004  00B8  26 00       	ld	h,0x00
1005  00BA  01 00 00    	ld	bc,_col
1006  00BD  09          	add	hl,bc
1007  00BE  7E          	ld	a,(hl)
1008  00BF  F5          	push	af
1009  00C0  33          	inc	sp
1010  00C1  3A 00 00    	ld	a,(_s_lin1)
1011  00C4  F5          	push	af
1012  00C5  33          	inc	sp
1013  00C6  CD 00 00    	call	_game_check_map
1014  00C9  F1          	pop	af
1015  00CA  7C          	ld	a,h
1016  00CB  B5          	or	a,l
1017  00CC  28 04       	jr	Z,l_spr_move_up_00102
1018  00CE  2E 01       	ld	l,0x01
1019  00D0  18 2C       	jr	l_spr_move_up_00111
1020  00D2              l_spr_move_up_00102:
1021  00D2  3A 00 00    	ld	a,(_s_lin1)
1022  00D5  D6 10       	sub	a,0x10
1023  00D7  30 16       	jr	NC,l_spr_move_up_00109
1024  00D9  3A 00 00    	ld	a,(_sprite)
1025  00DC  D6 07       	sub	a,0x07
1026  00DE  20 0B       	jr	NZ,l_spr_move_up_00107
1027  00E0  CD 60 04    	call	_spr_page_up
1028  00E3  7D          	ld	a, l
1029  00E4  B7          	or	a, a
1030  00E5  28 04       	jr	Z,l_spr_move_up_00107
1031  00E7  2E 00       	ld	l,0x00
1032  00E9  18 13       	jr	l_spr_move_up_00111
1033  00EB              l_spr_move_up_00107:
1034  00EB  2E 01       	ld	l,0x01
1035  00ED  18 0F       	jr	l_spr_move_up_00111
1036  00EF              l_spr_move_up_00109:
1037  00EF  2A 00 00    	ld	hl,(_sprite)
1038  00F2  26 00       	ld	h,0x00
1039  00F4  01 00 00    	ld	bc,_lin
1040  00F7  09          	add	hl,bc
1041  00F8  3A 00 00    	ld	a,(_s_lin1)
1042  00FB  77          	ld	(hl),a
1043  00FC  2E 00       	ld	l,0x00
1044  00FE              l_spr_move_up_00111:
1045  00FE  C9          	ret
1046  00FF              	SECTION code_compiler
1047  00FF              ;	---------------------------------
1048  00FF              ; Function spr_move_down
1049  00FF              ; ---------------------------------
1050  00FF              _spr_move_down:
1051  00FF  2A 00 00    	ld	hl,(_sprite)
1052  0102  26 00       	ld	h,0x00
1053  0104  01 00 00    	ld	bc,_lin
1054  0107  09          	add	hl,bc
1055  0108  7E          	ld	a,(hl)
1056  0109  C6 10       	add	a,0x10
1057  010B  32 00 00    	ld	(_s_lin1),a
1058  010E  07          	rlca
1059  010F  07          	rlca
1060  0110  07          	rlca
1061  0111  07          	rlca
1062  0112  E6 0F       	and	a,0x0f
1063  0114  4F          	ld	c, a
1064  0115  3A 00 00    	ld	a,(_s_lin0)
1065  0118  07          	rlca
1066  0119  07          	rlca
1067  011A  07          	rlca
1068  011B  07          	rlca
1069  011C  E6 0F       	and	a,0x0f
1070  011E  47          	ld	b, a
1071  011F  79          	ld	a, c
1072  0120  90          	sub	a, b
1073  0121  20 04       	jr	NZ,l_spr_move_down_00136
1074  0123  3E 01       	ld	a,0x01
1075  0125  18 01       	jr	l_spr_move_down_00137
1076  0127              l_spr_move_down_00136:
1077  0127  AF          	xor	a,a
1078  0128              l_spr_move_down_00137:
1079  0128  EE 01       	xor	a,0x01
1080  012A  28 1D       	jr	Z,l_spr_move_down_00104
1081  012C  2A 00 00    	ld	hl,(_sprite)
1082  012F  26 00       	ld	h,0x00
1083  0131  01 00 00    	ld	bc,_col
1084  0134  09          	add	hl,bc
1085  0135  7E          	ld	a,(hl)
1086  0136  F5          	push	af
1087  0137  33          	inc	sp
1088  0138  3A 00 00    	ld	a,(_s_lin1)
1089  013B  F5          	push	af
1090  013C  33          	inc	sp
1091  013D  CD 00 00    	call	_game_check_map
1092  0140  F1          	pop	af
1093  0141  7C          	ld	a,h
1094  0142  B5          	or	a,l
1095  0143  28 04       	jr	Z,l_spr_move_down_00104
1096  0145  2E 01       	ld	l,0x01
1097  0147  18 43       	jr	l_spr_move_down_00114
1098  0149              l_spr_move_down_00104:
1099  0149  2A 00 00    	ld	hl,(_sprite)
1100  014C  26 00       	ld	h,0x00
1101  014E  01 00 00    	ld	bc,_lin
1102  0151  09          	add	hl,bc
1103  0152  3E 98       	ld	a,0x98
1104  0154  4D          	ld	c,l
1105  0155  44          	ld	b,h
1106  0156  21 00 00    	ld	hl,_s_lin1
1107  0159  96          	sub	a, (hl)
1108  015A  30 28       	jr	NC,l_spr_move_down_00112
1109  015C  3A 00 00    	ld	a,(_sprite)
1110  015F  D6 07       	sub	a,0x07
1111  0161  20 1A       	jr	NZ,l_spr_move_down_00109
1112  0163  CD 11 04    	call	_spr_page_down
1113  0166  7D          	ld	a, l
1114  0167  B7          	or	a, a
1115  0168  28 04       	jr	Z,l_spr_move_down_00106
1116  016A  2E 01       	ld	l,0x01
1117  016C  18 1E       	jr	l_spr_move_down_00114
1118  016E              l_spr_move_down_00106:
1119  016E  2A 00 00    	ld	hl,(_sprite)
1120  0171  26 00       	ld	h,0x00
1121  0173  01 00 00    	ld	bc,_lin
1122  0176  09          	add	hl,bc
1123  0177  36 90       	ld	(hl),0x90
1124  0179  2E 01       	ld	l,0x01
1125  017B  18 0F       	jr	l_spr_move_down_00114
1126  017D              l_spr_move_down_00109:
1127  017D  3E 90       	ld	a,0x90
1128  017F  02          	ld	(bc), a
1129  0180  2E 01       	ld	l,0x01
1130  0182  18 08       	jr	l_spr_move_down_00114
1131  0184              l_spr_move_down_00112:
1132  0184  3A 00 00    	ld	a,(_s_lin1)
1133  0187  C6 F2       	add	a,0xf2
1134  0189  02          	ld	(bc), a
1135  018A  2E 00       	ld	l,0x00
1136  018C              l_spr_move_down_00114:
1137  018C  C9          	ret
1138  018D              	SECTION code_compiler
1139  018D              ;	---------------------------------
1140  018D              ; Function spr_move_horizontal
1141  018D              ; ---------------------------------
1142  018D              _spr_move_horizontal:
1143  018D  2A 00 00    	ld	hl,(_sprite)
1144  0190  26 00       	ld	h,0x00
1145  0192  01 00 00    	ld	bc,_state
1146  0195  09          	add	hl,bc
1147  0196  7E          	ld	a,(hl)
1148  0197  CB 57       	bit	2, a
1149  0199  28 05       	jr	Z,l_spr_move_horizontal_00104
1150  019B  CD AC 01    	call	_spr_move_right
1151  019E  18 0B       	jr	l_spr_move_horizontal_00106
1152  01A0              l_spr_move_horizontal_00104:
1153  01A0  CB 5F       	bit	3, a
1154  01A2  28 05       	jr	Z,l_spr_move_horizontal_00105
1155  01A4  CD AB 02    	call	_spr_move_left
1156  01A7  18 02       	jr	l_spr_move_horizontal_00106
1157  01A9              l_spr_move_horizontal_00105:
1158  01A9  2E 00       	ld	l,0x00
1159  01AB              l_spr_move_horizontal_00106:
1160  01AB  C9          	ret
1161  01AC              	SECTION code_compiler
1162  01AC              ;	---------------------------------
1163  01AC              ; Function spr_move_right
1164  01AC              ; ---------------------------------
1165  01AC              _spr_move_right:
1166  01AC  2A 00 00    	ld	hl,(_sprite)
1167  01AF  26 00       	ld	h,0x00
1168  01B1  01 00 00    	ld	bc,_colint
1169  01B4  09          	add	hl,bc
1170  01B5  7E          	ld	a,(hl)
1171  01B6  3C          	inc	a
1172  01B7  77          	ld	(hl),a
1173  01B8  4F          	ld	c,a
1174  01B9  3A 00 00    	ld	a,(_sprite)
1175  01BC  5F          	ld	e,a
1176  01BD  16 00       	ld	d,0x00
1177  01BF  21 00 00    	ld	hl,_class
1178  01C2  19          	add	hl,de
1179  01C3  5E          	ld	e, (hl)
1180  01C4  16 00       	ld	d,0x00
1181  01C6  21 00 00    	ld	hl,_sprite_frames
1182  01C9  19          	add	hl, de
1183  01CA  7E          	ld	a, (hl)
1184  01CB  91          	sub	a, c
1185  01CC  C2 A8 02    	jp	NZ,l_spr_move_right_00118
1186  01CF  2A 00 00    	ld	hl,(_sprite)
1187  01D2  26 00       	ld	h,0x00
1188  01D4  01 00 00    	ld	bc,_lin
1189  01D7  09          	add	hl,bc
1190  01D8  7E          	ld	a,(hl)
1191  01D9  32 00 00    	ld	(_s_lin1),a
1192  01DC  2A 00 00    	ld	hl,(_sprite)
1193  01DF  26 00       	ld	h,0x00
1194  01E1  01 00 00    	ld	bc,_col
1195  01E4  09          	add	hl,bc
1196  01E5  7E          	ld	a,(hl)
1197  01E6  FE 1E       	cp	a,0x1e
1198  01E8  30 61       	jr	NC,l_spr_move_right_00108
1199  01EA  3C          	inc	a
1200  01EB  32 00 00    	ld	(_s_col1),a
1201  01EE  21 00 00    	ld	hl,_sprite_horizontal_check
1202  01F1  36 01       	ld	(hl),0x01
1203  01F3  2A FF FF    	ld	hl,(_s_col1 - 1)
1204  01F6  3A 00 00    	ld	a,(_s_lin1)
1205  01F9  6F          	ld	l,a
1206  01FA  E5          	push	hl
1207  01FB  CD 00 00    	call	_game_check_map
1208  01FE  F1          	pop	af
1209  01FF  7D          	ld	a,l
1210  0200  32 00 00    	ld	(_tmp0),a
1211  0203  B7          	or	a, a
1212  0204  20 16       	jr	NZ,l_spr_move_right_00102
1213  0206  3A 00 00    	ld	a,(_s_lin1)
1214  0209  C6 0F       	add	a,0x0f
1215  020B  4F          	ld	c, a
1216  020C  3A 00 00    	ld	a,(_s_col1)
1217  020F  F5          	push	af
1218  0210  33          	inc	sp
1219  0211  79          	ld	a, c
1220  0212  F5          	push	af
1221  0213  33          	inc	sp
1222  0214  CD 00 00    	call	_game_check_map
1223  0217  F1          	pop	af
1224  0218  7D          	ld	a,l
1225  0219  32 00 00    	ld	(_tmp0),a
1226  021C              l_spr_move_right_00102:
1227  021C  21 00 00    	ld	hl,_sprite_horizontal_check
1228  021F  36 00       	ld	(hl),0x00
1229  0221  3A 00 00    	ld	a,(_tmp0)
1230  0224  B7          	or	a, a
1231  0225  28 24       	jr	Z,l_spr_move_right_00108
1232  0227  2A 00 00    	ld	hl,(_sprite)
1233  022A  26 00       	ld	h,0x00
1234  022C  01 00 00    	ld	bc,_colint
1235  022F  09          	add	hl,bc
1236  0230  7E          	ld	a,(hl)
1237  0231  C6 FF       	add	a,0xff
1238  0233  77          	ld	(hl),a
1239  0234  3A 00 00    	ld	a,(_sprite_on_air)
1240  0237  B7          	or	a,a
1241  0238  20 0D       	jr	NZ,l_spr_move_right_00104
1242  023A  2A 00 00    	ld	hl,(_sprite)
1243  023D  26 00       	ld	h,0x00
1244  023F  01 00 00    	ld	bc,_colint
1245  0242  09          	add	hl,bc
1246  0243  7E          	ld	a,(hl)
1247  0244  C6 FF       	add	a,0xff
1248  0246  77          	ld	(hl),a
1249  0247              l_spr_move_right_00104:
1250  0247  2E 01       	ld	l,0x01
1251  0249  18 5F       	jr	l_spr_move_right_00119
1252  024B              l_spr_move_right_00108:
1253  024B  2A 00 00    	ld	hl,(_sprite)
1254  024E  26 00       	ld	h,0x00
1255  0250  01 00 00    	ld	bc,_col
1256  0253  09          	add	hl,bc
1257  0254  34          	inc	(hl)
1258  0255  2A 00 00    	ld	hl,(_sprite)
1259  0258  26 00       	ld	h,0x00
1260  025A  01 00 00    	ld	bc,_colint
1261  025D  09          	add	hl,bc
1262  025E  AF          	xor	a,a
1263  025F  77          	ld	(hl),a
1264  0260  2A 00 00    	ld	hl,(_sprite)
1265  0263  26 00       	ld	h,0x00
1266  0265  01 00 00    	ld	bc,_col
1267  0268  09          	add	hl,bc
1268  0269  5E          	ld	e,(hl)
1269  026A  3E 1E       	ld	a,0x1e
1270  026C  93          	sub	a,e
1271  026D  30 39       	jr	NC,l_spr_move_right_00118
1272  026F  3A 00 00    	ld	a,(_sprite)
1273  0272  D6 07       	sub	a,0x07
1274  0274  28 04       	jr	Z,l_spr_move_right_00156
1275  0276  4D          	ld	c,l
1276  0277  44          	ld	b,h
1277  0278  18 27       	jr	l_spr_move_right_00113
1278  027A              l_spr_move_right_00156:
1279  027A  CD AF 03    	call	_spr_page_right
1280  027D  3A 00 00    	ld	a,(_sprite)
1281  0280  C6 00       	add	a,+((_col) & 0xFF)
1282  0282  4D          	ld	c,l
1283  0283  5F          	ld	e,a
1284  0284  3E 00       	ld	a,+((_col) / 256)
1285  0286  CE 00       	adc	a,0x00
1286  0288  57          	ld	d,a
1287  0289  79          	ld	a, c
1288  028A  B7          	or	a, a
1289  028B  28 0F       	jr	Z,l_spr_move_right_00110
1290  028D  AF          	xor	a, a
1291  028E  12          	ld	(de), a
1292  028F  3A 07 00    	ld	a,(_lin + 7)
1293  0292  32 00 00    	ld	(_player_lin_scr),a
1294  0295  21 00 00    	ld	hl,_player_col_scr
1295  0298  36 00       	ld	(hl),0x00
1296  029A  18 08       	jr	l_spr_move_right_00114
1297  029C              l_spr_move_right_00110:
1298  029C  3E 1E       	ld	a,0x1e
1299  029E  12          	ld	(de), a
1300  029F  18 03       	jr	l_spr_move_right_00114
1301  02A1              l_spr_move_right_00113:
1302  02A1  3E 1E       	ld	a,0x1e
1303  02A3  02          	ld	(bc), a
1304  02A4              l_spr_move_right_00114:
1305  02A4  2E 01       	ld	l,0x01
1306  02A6  18 02       	jr	l_spr_move_right_00119
1307  02A8              l_spr_move_right_00118:
1308  02A8  2E 00       	ld	l,0x00
1309  02AA              l_spr_move_right_00119:
1310  02AA  C9          	ret
1311  02AB              	SECTION code_compiler
1312  02AB              ;	---------------------------------
1313  02AB              ; Function spr_move_left
1314  02AB              ; ---------------------------------
1315  02AB              _spr_move_left:
1316  02AB  2A 00 00    	ld	hl,(_sprite)
1317  02AE  26 00       	ld	h,0x00
1318  02B0  01 00 00    	ld	bc,_colint
1319  02B3  09          	add	hl,bc
1320  02B4  7E          	ld	a,(hl)
1321  02B5  C6 FF       	add	a,0xff
1322  02B7  77          	ld	(hl),a
1323  02B8  2A 00 00    	ld	hl,(_sprite)
1324  02BB  26 00       	ld	h,0x00
1325  02BD  01 00 00    	ld	bc,_colint
1326  02C0  09          	add	hl,bc
1327  02C1  7E          	ld	a,(hl)
1328  02C2  3C          	inc	a
1329  02C3  C2 AC 03    	jp	NZ,l_spr_move_left_00118
1330  02C6  2A 00 00    	ld	hl,(_sprite)
1331  02C9  26 00       	ld	h,0x00
1332  02CB  01 00 00    	ld	bc,_lin
1333  02CE  09          	add	hl,bc
1334  02CF  7E          	ld	a,(hl)
1335  02D0  32 00 00    	ld	(_s_lin1),a
1336  02D3  2A 00 00    	ld	hl,(_sprite)
1337  02D6  26 00       	ld	h,0x00
1338  02D8  01 00 00    	ld	bc,_col
1339  02DB  09          	add	hl,bc
1340  02DC  7E          	ld	a,(hl)
1341  02DD  B7          	or	a, a
1342  02DE  28 5C       	jr	Z,l_spr_move_left_00108
1343  02E0  C6 FF       	add	a,0xff
1344  02E2  32 00 00    	ld	(_s_col1),a
1345  02E5  21 00 00    	ld	hl,_sprite_horizontal_check
1346  02E8  36 01       	ld	(hl),0x01
1347  02EA  2A FF FF    	ld	hl,(_s_col1 - 1)
1348  02ED  3A 00 00    	ld	a,(_s_lin1)
1349  02F0  6F          	ld	l,a
1350  02F1  E5          	push	hl
1351  02F2  CD 00 00    	call	_game_check_map
1352  02F5  F1          	pop	af
1353  02F6  7D          	ld	a,l
1354  02F7  32 00 00    	ld	(_tmp0),a
1355  02FA  B7          	or	a, a
1356  02FB  20 16       	jr	NZ,l_spr_move_left_00102
1357  02FD  3A 00 00    	ld	a,(_s_lin1)
1358  0300  C6 0F       	add	a,0x0f
1359  0302  4F          	ld	c, a
1360  0303  3A 00 00    	ld	a,(_s_col1)
1361  0306  F5          	push	af
1362  0307  33          	inc	sp
1363  0308  79          	ld	a, c
1364  0309  F5          	push	af
1365  030A  33          	inc	sp
1366  030B  CD 00 00    	call	_game_check_map
1367  030E  F1          	pop	af
1368  030F  7D          	ld	a,l
1369  0310  32 00 00    	ld	(_tmp0),a
1370  0313              l_spr_move_left_00102:
1371  0313  21 00 00    	ld	hl,_sprite_horizontal_check
1372  0316  36 00       	ld	(hl),0x00
1373  0318  3A 00 00    	ld	a,(_tmp0)
1374  031B  B7          	or	a, a
1375  031C  28 1E       	jr	Z,l_spr_move_left_00108
1376  031E  2A 00 00    	ld	hl,(_sprite)
1377  0321  26 00       	ld	h,0x00
1378  0323  01 00 00    	ld	bc,_colint
1379  0326  09          	add	hl,bc
1380  0327  34          	inc	(hl)
1381  0328  3A 00 00    	ld	a,(_sprite_on_air)
1382  032B  B7          	or	a,a
1383  032C  20 0A       	jr	NZ,l_spr_move_left_00104
1384  032E  2A 00 00    	ld	hl,(_sprite)
1385  0331  26 00       	ld	h,0x00
1386  0333  01 00 00    	ld	bc,_colint
1387  0336  09          	add	hl,bc
1388  0337  34          	inc	(hl)
1389  0338              l_spr_move_left_00104:
1390  0338  2E 01       	ld	l,0x01
1391  033A  18 72       	jr	l_spr_move_left_00119
1392  033C              l_spr_move_left_00108:
1393  033C  2A 00 00    	ld	hl,(_sprite)
1394  033F  26 00       	ld	h,0x00
1395  0341  01 00 00    	ld	bc,_col
1396  0344  09          	add	hl,bc
1397  0345  7E          	ld	a,(hl)
1398  0346  C6 FF       	add	a,0xff
1399  0348  77          	ld	(hl),a
1400  0349  2A 00 00    	ld	hl,(_sprite)
1401  034C  26 00       	ld	h,0x00
1402  034E  01 00 00    	ld	bc,_colint
1403  0351  09          	add	hl,bc
1404  0352  3A 00 00    	ld	a,(_sprite)
1405  0355  5F          	ld	e,a
1406  0356  16 00       	ld	d,0x00
1407  0358  4D          	ld	c,l
1408  0359  44          	ld	b,h
1409  035A  21 00 00    	ld	hl,_class
1410  035D  19          	add	hl,de
1411  035E  5E          	ld	e, (hl)
1412  035F  16 00       	ld	d,0x00
1413  0361  21 00 00    	ld	hl,_sprite_frames
1414  0364  19          	add	hl, de
1415  0365  5E          	ld	e, (hl)
1416  0366  1D          	dec	e
1417  0367  7B          	ld	a, e
1418  0368  02          	ld	(bc), a
1419  0369  2A 00 00    	ld	hl,(_sprite)
1420  036C  26 00       	ld	h,0x00
1421  036E  01 00 00    	ld	bc,_col
1422  0371  09          	add	hl,bc
1423  0372  7E          	ld	a,(hl)
1424  0373  3C          	inc	a
1425  0374  20 36       	jr	NZ,l_spr_move_left_00118
1426  0376  3A 00 00    	ld	a,(_sprite)
1427  0379  D6 07       	sub	a,0x07
1428  037B  4D          	ld	c,l
1429  037C  44          	ld	b,h
1430  037D  20 27       	jr	NZ,l_spr_move_left_00113
1431  037F  CD E2 03    	call	_spr_page_left
1432  0382  3A 00 00    	ld	a,(_sprite)
1433  0385  C6 00       	add	a,+((_col) & 0xFF)
1434  0387  4D          	ld	c,l
1435  0388  5F          	ld	e,a
1436  0389  3E 00       	ld	a,+((_col) / 256)
1437  038B  CE 00       	adc	a,0x00
1438  038D  57          	ld	d,a
1439  038E  79          	ld	a, c
1440  038F  B7          	or	a, a
1441  0390  28 10       	jr	Z,l_spr_move_left_00110
1442  0392  3E 1E       	ld	a,0x1e
1443  0394  12          	ld	(de), a
1444  0395  3A 07 00    	ld	a,(_lin + 7)
1445  0398  32 00 00    	ld	(_player_lin_scr),a
1446  039B  21 00 00    	ld	hl,_player_col_scr
1447  039E  36 1E       	ld	(hl),0x1e
1448  03A0  18 06       	jr	l_spr_move_left_00114
1449  03A2              l_spr_move_left_00110:
1450  03A2  AF          	xor	a, a
1451  03A3  12          	ld	(de), a
1452  03A4  18 02       	jr	l_spr_move_left_00114
1453  03A6              l_spr_move_left_00113:
1454  03A6  AF          	xor	a, a
1455  03A7  02          	ld	(bc), a
1456  03A8              l_spr_move_left_00114:
1457  03A8  2E 01       	ld	l,0x01
1458  03AA  18 02       	jr	l_spr_move_left_00119
1459  03AC              l_spr_move_left_00118:
1460  03AC  2E 00       	ld	l,0x00
1461  03AE              l_spr_move_left_00119:
1462  03AE  C9          	ret
1463  03AF              	SECTION code_compiler
1464  03AF              ;	---------------------------------
1465  03AF              ; Function spr_page_right
1466  03AF              ; ---------------------------------
1467  03AF              _spr_page_right:
1468  03AF  2A FF FF    	ld	hl,(_map_width - 1)
1469  03B2  3A 00 00    	ld	a,(_scr_curr)
1470  03B5  6F          	ld	l,a
1471  03B6  E5          	push	hl
1472  03B7  CD 00 00    	call	__moduchar_callee
1473  03BA  7D          	ld	a, l
1474  03BB  3C          	inc	a
1475  03BC  32 00 00    	ld	(_tmp1),a
1476  03BF  21 00 00    	ld	hl,_map_width
1477  03C2  96          	sub	a, (hl)
1478  03C3  30 1A       	jr	NC,l_spr_page_right_00102
1479  03C5  3A 00 00    	ld	a,(_game_boss)
1480  03C8  B7          	or	a, a
1481  03C9  28 06       	jr	Z,l_spr_page_right_00101
1482  03CB  3A 00 00    	ld	a,(_game_god_mode)
1483  03CE  B7          	or	a, a
1484  03CF  28 0E       	jr	Z,l_spr_page_right_00102
1485  03D1              l_spr_page_right_00101:
1486  03D1  21 00 00    	ld	hl,_scr_curr
1487  03D4  34          	inc	(hl)
1488  03D5  CD 1C 05    	call	_spr_page_map
1489  03D8  CD 00 00    	call	_game_draw_screen
1490  03DB  2E 01       	ld	l,0x01
1491  03DD  18 02       	jr	l_spr_page_right_00105
1492  03DF              l_spr_page_right_00102:
1493  03DF  2E 00       	ld	l,0x00
1494  03E1              l_spr_page_right_00105:
1495  03E1  C9          	ret
1496  03E2              	SECTION code_compiler
1497  03E2              ;	---------------------------------
1498  03E2              ; Function spr_page_left
1499  03E2              ; ---------------------------------
1500  03E2              _spr_page_left:
1501  03E2  2A FF FF    	ld	hl,(_map_width - 1)
1502  03E5  3A 00 00    	ld	a,(_scr_curr)
1503  03E8  6F          	ld	l,a
1504  03E9  E5          	push	hl
1505  03EA  CD 00 00    	call	__moduchar_callee
1506  03ED  7D          	ld	a,l
1507  03EE  32 00 00    	ld	(_tmp1),a
1508  03F1  B7          	or	a, a
1509  03F2  28 1A       	jr	Z,l_spr_page_left_00102
1510  03F4  3A 00 00    	ld	a,(_game_boss)
1511  03F7  B7          	or	a, a
1512  03F8  28 06       	jr	Z,l_spr_page_left_00101
1513  03FA  3A 00 00    	ld	a,(_game_god_mode)
1514  03FD  B7          	or	a, a
1515  03FE  28 0E       	jr	Z,l_spr_page_left_00102
1516  0400              l_spr_page_left_00101:
1517  0400  21 00 00    	ld	hl,_scr_curr
1518  0403  35          	dec	(hl)
1519  0404  CD 1C 05    	call	_spr_page_map
1520  0407  CD 00 00    	call	_game_draw_screen
1521  040A  2E 01       	ld	l,0x01
1522  040C  18 02       	jr	l_spr_page_left_00105
1523  040E              l_spr_page_left_00102:
1524  040E  2E 00       	ld	l,0x00
1525  0410              l_spr_page_left_00105:
1526  0410  C9          	ret
1527  0411              	SECTION code_compiler
1528  0411              ;	---------------------------------
1529  0411              ; Function spr_page_down
1530  0411              ; ---------------------------------
1531  0411              _spr_page_down:
1532  0411  2A FF FF    	ld	hl,(_map_heigth - 1)
1533  0414  3A 00 00    	ld	a,(_scr_curr)
1534  0417  6F          	ld	l,a
1535  0418  E5          	push	hl
1536  0419  CD 00 00    	call	__divuchar_callee
1537  041C  7D          	ld	a, l
1538  041D  3C          	inc	a
1539  041E  32 00 00    	ld	(_tmp1),a
1540  0421  21 00 00    	ld	hl,_map_heigth
1541  0424  96          	sub	a, (hl)
1542  0425  30 36       	jr	NC,l_spr_page_down_00102
1543  0427  3A 00 00    	ld	a,(_game_boss)
1544  042A  B7          	or	a, a
1545  042B  28 06       	jr	Z,l_spr_page_down_00101
1546  042D  3A 00 00    	ld	a,(_game_god_mode)
1547  0430  B7          	or	a, a
1548  0431  28 2A       	jr	Z,l_spr_page_down_00102
1549  0433              l_spr_page_down_00101:
1550  0433  3A 00 00    	ld	a,(_scr_curr)
1551  0436  21 00 00    	ld	hl,_map_width
1552  0439  86          	add	a, (hl)
1553  043A  32 00 00    	ld	(_scr_curr),a
1554  043D  CD 1C 05    	call	_spr_page_map
1555  0440  CD 00 00    	call	_game_draw_screen
1556  0443  21 00 00    	ld	hl,_player_lin_scr
1557  0446  36 08       	ld	(hl),0x08
1558  0448  2A 00 00    	ld	hl,(_sprite)
1559  044B  26 00       	ld	h,0x00
1560  044D  01 00 00    	ld	bc,_lin
1561  0450  09          	add	hl,bc
1562  0451  36 08       	ld	(hl),0x08
1563  0453  3A 07 00    	ld	a,(_col + 0x0007)
1564  0456  32 00 00    	ld	(_player_col_scr),a
1565  0459  2E 01       	ld	l,0x01
1566  045B  18 02       	jr	l_spr_page_down_00105
1567  045D              l_spr_page_down_00102:
1568  045D  2E 00       	ld	l,0x00
1569  045F              l_spr_page_down_00105:
1570  045F  C9          	ret
1571  0460              	SECTION code_compiler
1572  0460              ;	---------------------------------
1573  0460              ; Function spr_page_up
1574  0460              ; ---------------------------------
1575  0460              _spr_page_up:
1576  0460  2A FF FF    	ld	hl,(_map_heigth - 1)
1577  0463  3A 00 00    	ld	a,(_scr_curr)
1578  0466  6F          	ld	l,a
1579  0467  E5          	push	hl
1580  0468  CD 00 00    	call	__divuchar_callee
1581  046B  7D          	ld	a,l
1582  046C  32 00 00    	ld	(_tmp1),a
1583  046F  B7          	or	a, a
1584  0470  28 36       	jr	Z,l_spr_page_up_00102
1585  0472  3A 00 00    	ld	a,(_game_boss)
1586  0475  B7          	or	a, a
1587  0476  28 06       	jr	Z,l_spr_page_up_00101
1588  0478  3A 00 00    	ld	a,(_game_god_mode)
1589  047B  B7          	or	a, a
1590  047C  28 2A       	jr	Z,l_spr_page_up_00102
1591  047E              l_spr_page_up_00101:
1592  047E  3A 00 00    	ld	a,(_scr_curr)
1593  0481  21 00 00    	ld	hl,_map_width
1594  0484  96          	sub	a, (hl)
1595  0485  32 00 00    	ld	(_scr_curr),a
1596  0488  CD 1C 05    	call	_spr_page_map
1597  048B  CD 00 00    	call	_game_draw_screen
1598  048E  2A 00 00    	ld	hl,(_sprite)
1599  0491  26 00       	ld	h,0x00
1600  0493  01 00 00    	ld	bc,_lin
1601  0496  09          	add	hl,bc
1602  0497  36 8C       	ld	(hl),0x8c
1603  0499  21 00 00    	ld	hl,_player_lin_scr
1604  049C  36 90       	ld	(hl),0x90
1605  049E  3A 07 00    	ld	a,(_col + 0x0007)
1606  04A1  32 00 00    	ld	(_player_col_scr),a
1607  04A4  2E 01       	ld	l,0x01
1608  04A6  18 02       	jr	l_spr_page_up_00105
1609  04A8              l_spr_page_up_00102:
1610  04A8  2E 00       	ld	l,0x00
1611  04AA              l_spr_page_up_00105:
1612  04AA  C9          	ret
1613  04AB              	SECTION code_compiler
1614  04AB              ;	---------------------------------
1615  04AB              ; Function spr_clear_scr
1616  04AB              ; ---------------------------------
1617  04AB              _spr_clear_scr:
1618  04AB  CD 00 00    	call	___sdcc_enter_ix
1619  04AE  3B          	dec	sp
1620  04AF  06 00       	ld	b,0x00
1621  04B1              l_spr_clear_scr_00105:
1622  04B1  C5          	push	bc
1623  04B2  21 00 00    	ld	hl,0x0000
1624  04B5  E5          	push	hl
1625  04B6  AF          	xor	a, a
1626  04B7  48          	ld	c,b
1627  04B8  47          	ld	b,a
1628  04B9  C5          	push	bc
1629  04BA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1630  04BD  C1          	pop	bc
1631  04BE  04          	inc	b
1632  04BF  78          	ld	a, b
1633  04C0  D6 08       	sub	a,0x08
1634  04C2  38 ED       	jr	C,l_spr_clear_scr_00105
1635  04C4  76          	halt
1636  04C5  F3          	di
1637  04C6  0E 00       	ld	c,0x00
1638  04C8              l_spr_clear_scr_00117:
1639  04C8  79          	ld	a, c
1640  04C9  87          	add	a, a
1641  04CA  DD 77 FF    	ld	(ix-1),a
1642  04CD  5F          	ld	e,a
1643  04CE  06 01       	ld	b,0x01
1644  04D0              l_spr_clear_scr_00107:
1645  04D0  78          	ld	a, b
1646  04D1  07          	rlca
1647  04D2  07          	rlca
1648  04D3  07          	rlca
1649  04D4  07          	rlca
1650  04D5  E6 F0       	and	a,0xf0
1651  04D7  57          	ld	d, a
1652  04D8  C5          	push	bc
1653  04D9  D5          	push	de
1654  04DA  DD 7E FF    	ld	a,(ix-1)
1655  04DD  5A          	ld	e,d
1656  04DE  57          	ld	d,a
1657  04DF  D5          	push	de
1658  04E0  AF          	xor	a, a
1659  04E1  F5          	push	af
1660  04E2  33          	inc	sp
1661  04E3  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1662  04E6  D1          	pop	de
1663  04E7  C1          	pop	bc
1664  04E8  04          	inc	b
1665  04E9  78          	ld	a, b
1666  04EA  D6 0A       	sub	a,0x0a
1667  04EC  38 E2       	jr	C,l_spr_clear_scr_00107
1668  04EE  3E 1E       	ld	a,0x1e
1669  04F0  93          	sub	a, e
1670  04F1  57          	ld	d, a
1671  04F2  1E 01       	ld	e,0x01
1672  04F4              l_spr_clear_scr_00109:
1673  04F4  7B          	ld	a, e
1674  04F5  07          	rlca
1675  04F6  07          	rlca
1676  04F7  07          	rlca
1677  04F8  07          	rlca
1678  04F9  E6 F0       	and	a,0xf0
1679  04FB  47          	ld	b, a
1680  04FC  C5          	push	bc
1681  04FD  D5          	push	de
1682  04FE  58          	ld	e,b
1683  04FF  D5          	push	de
1684  0500  AF          	xor	a, a
1685  0501  F5          	push	af
1686  0502  33          	inc	sp
1687  0503  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1688  0506  D1          	pop	de
1689  0507  C1          	pop	bc
1690  0508  1C          	inc	e
1691  0509  7B          	ld	a, e
1692  050A  D6 0A       	sub	a,0x0a
1693  050C  38 E6       	jr	C,l_spr_clear_scr_00109
1694  050E  FB          	ei
1695  050F  76          	halt
1696  0510  F3          	di
1697  0511  0C          	inc	c
1698  0512  79          	ld	a, c
1699  0513  D6 08       	sub	a,0x08
1700  0515  38 B1       	jr	C,l_spr_clear_scr_00117
1701  0517  FB          	ei
1702  0518  33          	inc	sp
1703  0519  DD E1       	pop	ix
1704  051B  C9          	ret
1705  051C              	SECTION code_compiler
1706  051C              ;	---------------------------------
1707  051C              ; Function spr_page_map
1708  051C              ; ---------------------------------
1709  051C              _spr_page_map:
1710  051C  CD 00 00    	call	___sdcc_enter_ix
1711  051F  21 EA FF    	ld	hl, -22
1712  0522  39          	add	hl, sp
1713  0523  F9          	ld	sp, hl
1714  0524  3A 00 00    	ld	a,(_game_world)
1715  0527  DD 77 ED    	ld	(ix-19),a
1716  052A  3A 00 00    	ld	a,(_scr_curr)
1717  052D  DD 77 EA    	ld	(ix-22),a
1718  0530  DD 36 F0 10 	ld	(ix-16),0x10
1719  0534  CD AB 04    	call	_spr_clear_scr
1720  0537  F3          	di
1721  0538  3E 16       	ld	a,0x16
1722  053A  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1723  053D  01 FD 7F    	ld	bc,_IO_7FFD
1724  0540  ED 79       	out	(c),a
1725  0542  DD 7E EA    	ld	a,(ix-22)
1726  0545  3C          	inc	a
1727  0546  20 04       	jr	NZ,l_spr_page_map_00207
1728  0548  3E 01       	ld	a,0x01
1729  054A  18 01       	jr	l_spr_page_map_00208
1730  054C              l_spr_page_map_00207:
1731  054C  AF          	xor	a,a
1732  054D              l_spr_page_map_00208:
1733  054D  DD 77 F5    	ld	(ix-11),a
1734  0550  DD 7E ED    	ld	a,(ix-19)
1735  0553  B7          	or	a, a
1736  0554  20 32       	jr	NZ,l_spr_page_map_00106
1737  0556  DD 7E F5    	ld	a,(ix-11)
1738  0559  B7          	or	a, a
1739  055A  28 07       	jr	Z,l_spr_page_map_00102
1740  055C  21 00 00    	ld	hl,_start_scr0
1741  055F  4E          	ld	c, (hl)
1742  0560  DD 71 EA    	ld	(ix-22),c
1743  0563              l_spr_page_map_00102:
1744  0563  01 00 00    	ld	bc,_paper0
1745  0566  DD 6E EA    	ld	l,(ix-22)
1746  0569  26 00       	ld	h,0x00
1747  056B  09          	add	hl,bc
1748  056C  DD 75 F7    	ld	(ix-9),l
1749  056F  DD 74 F8    	ld	(ix-8),h
1750  0572  7E          	ld	a, (hl)
1751  0573  DD 77 F7    	ld	(ix-9),a
1752  0576  3A 00 00    	ld	a,(_world0_w)
1753  0579  DD 77 EC    	ld	(ix-20),a
1754  057C  DD 77 F6    	ld	(ix-10),a
1755  057F  21 00 00    	ld	hl,_world0_h
1756  0582  4E          	ld	c, (hl)
1757  0583  DD 71 F9    	ld	(ix-7),c
1758  0586  18 32       	jr	l_spr_page_map_00107
1759  0588              l_spr_page_map_00106:
1760  0588  DD 7E F5    	ld	a,(ix-11)
1761  058B  B7          	or	a, a
1762  058C  28 07       	jr	Z,l_spr_page_map_00104
1763  058E  21 00 00    	ld	hl,_start_scr1
1764  0591  4E          	ld	c, (hl)
1765  0592  DD 71 EA    	ld	(ix-22),c
1766  0595              l_spr_page_map_00104:
1767  0595  01 00 00    	ld	bc,_paper1
1768  0598  DD 6E EA    	ld	l,(ix-22)
1769  059B  26 00       	ld	h,0x00
1770  059D  09          	add	hl,bc
1771  059E  DD 75 FA    	ld	(ix-6),l
1772  05A1  DD 74 FB    	ld	(ix-5),h
1773  05A4  7E          	ld	a, (hl)
1774  05A5  DD 77 F7    	ld	(ix-9),a
1775  05A8  3A 00 00    	ld	a,(_world1_w)
1776  05AB  DD 77 EC    	ld	(ix-20),a
1777  05AE  DD 77 F6    	ld	(ix-10),a
1778  05B1  3A 00 00    	ld	a,(_world1_h)
1779  05B4  DD 77 EB    	ld	(ix-21),a
1780  05B7  DD 77 F9    	ld	(ix-7),a
1781  05BA              l_spr_page_map_00107:
1782  05BA  3E 10       	ld	a,0x10
1783  05BC  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1784  05BF  01 FD 7F    	ld	bc,_IO_7FFD
1785  05C2  ED 79       	out	(c),a
1786  05C4  3E 00       	ld	a,0x00
1787  05C6  DD 77 EE    	ld	(ix-18),a
1788  05C9  DD 77 EF    	ld	(ix-17),a
1789  05CC  DD 77 F1    	ld	(ix-15),a
1790  05CF              l_spr_page_map_00111:
1791  05CF  DD 7E F1    	ld	a,(ix-15)
1792  05D2  DD 96 EA    	sub	a,(ix-22)
1793  05D5  30 64       	jr	NC,l_spr_page_map_00113
1794  05D7  3E 16       	ld	a,0x16
1795  05D9  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1796  05DC  01 FD 7F    	ld	bc,_IO_7FFD
1797  05DF  ED 79       	out	(c),a
1798  05E1  DD 7E ED    	ld	a,(ix-19)
1799  05E4  B7          	or	a, a
1800  05E5  20 19       	jr	NZ,l_spr_page_map_00109
1801  05E7  01 00 00    	ld	bc,_lenght0
1802  05EA  DD 6E F1    	ld	l,(ix-15)
1803  05ED  26 00       	ld	h,0x00
1804  05EF  09          	add	hl,bc
1805  05F0  DD 75 FA    	ld	(ix-6),l
1806  05F3  DD 74 FB    	ld	(ix-5),h
1807  05F6  7E          	ld	a, (hl)
1808  05F7  DD 77 FA    	ld	(ix-6),a
1809  05FA  DD 36 FB 00 	ld	(ix-5),0x00
1810  05FE  18 1A       	jr	l_spr_page_map_00110
1811  0600              l_spr_page_map_00109:
1812  0600  01 00 00    	ld	bc,_lenght1
1813  0603  DD 6E F1    	ld	l,(ix-15)
1814  0606  26 00       	ld	h,0x00
1815  0608  09          	add	hl,bc
1816  0609  DD 75 FC    	ld	(ix-4),l
1817  060C  DD 74 FD    	ld	(ix-3),h
1818  060F  7E          	ld	a, (hl)
1819  0610  DD 77 FC    	ld	(ix-4),a
1820  0613  DD 77 FA    	ld	(ix-6),a
1821  0616  DD 36 FB 00 	ld	(ix-5),0x00
1822  061A              l_spr_page_map_00110:
1823  061A  3E 10       	ld	a,0x10
1824  061C  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1825  061F  01 FD 7F    	ld	bc,_IO_7FFD
1826  0622  ED 79       	out	(c),a
1827  0624  DD 7E EE    	ld	a,(ix-18)
1828  0627  DD 86 FA    	add	a,(ix-6)
1829  062A  DD 77 EE    	ld	(ix-18),a
1830  062D  DD 7E EF    	ld	a,(ix-17)
1831  0630  DD 8E FB    	adc	a,(ix-5)
1832  0633  DD 77 EF    	ld	(ix-17),a
1833  0636  DD 34 F1    	inc	(ix-15)
1834  0639  18 94       	jr	l_spr_page_map_00111
1835  063B              l_spr_page_map_00113:
1836  063B  FB          	ei
1837  063C  F3          	di
1838  063D  DD 36 F2 00 	ld	(ix-14),0x00
1839  0641              l_spr_page_map_00137:
1840  0641  3E 16       	ld	a,0x16
1841  0643  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1842  0646  01 FD 7F    	ld	bc,_IO_7FFD
1843  0649  ED 79       	out	(c),a
1844  064B  DD 7E F2    	ld	a,(ix-14)
1845  064E  DD 77 FC    	ld	(ix-4),a
1846  0651  DD 36 FD 00 	ld	(ix-3),0x00
1847  0655  DD 7E EE    	ld	a,(ix-18)
1848  0658  DD 86 FC    	add	a,(ix-4)
1849  065B  DD 77 FC    	ld	(ix-4),a
1850  065E  DD 7E EF    	ld	a,(ix-17)
1851  0661  DD 8E FD    	adc	a,(ix-3)
1852  0664  DD 77 FD    	ld	(ix-3),a
1853  0667  DD 7E FC    	ld	a,(ix-4)
1854  066A  C6 01       	add	a,0x01
1855  066C  DD 77 FA    	ld	(ix-6),a
1856  066F  DD 7E FD    	ld	a,(ix-3)
1857  0672  CE 00       	adc	a,0x00
1858  0674  DD 77 FB    	ld	(ix-5),a
1859  0677  DD 7E ED    	ld	a,(ix-19)
1860  067A  B7          	or	a, a
1861  067B  20 2A       	jr	NZ,l_spr_page_map_00115
1862  067D  DD 6E FC    	ld	l,(ix-4)
1863  0680  DD 66 FD    	ld	h,(ix-3)
1864  0683  01 00 00    	ld	bc,_world0
1865  0686  09          	add	hl,bc
1866  0687  DD 75 FE    	ld	(ix-2),l
1867  068A  DD 74 FF    	ld	(ix-1),h
1868  068D  7E          	ld	a, (hl)
1869  068E  DD 77 F4    	ld	(ix-12),a
1870  0691  DD 6E FA    	ld	l,(ix-6)
1871  0694  DD 66 FB    	ld	h,(ix-5)
1872  0697  01 00 00    	ld	bc,_world0
1873  069A  09          	add	hl,bc
1874  069B  DD 75 FE    	ld	(ix-2),l
1875  069E  DD 74 FF    	ld	(ix-1),h
1876  06A1  7E          	ld	a, (hl)
1877  06A2  DD 77 F3    	ld	(ix-13),a
1878  06A5  18 28       	jr	l_spr_page_map_00116
1879  06A7              l_spr_page_map_00115:
1880  06A7  DD 6E FC    	ld	l,(ix-4)
1881  06AA  DD 66 FD    	ld	h,(ix-3)
1882  06AD  01 00 00    	ld	bc,_world1
1883  06B0  09          	add	hl,bc
1884  06B1  DD 75 FE    	ld	(ix-2),l
1885  06B4  DD 74 FF    	ld	(ix-1),h
1886  06B7  7E          	ld	a, (hl)
1887  06B8  DD 77 F4    	ld	(ix-12),a
1888  06BB  DD 6E FA    	ld	l,(ix-6)
1889  06BE  DD 66 FB    	ld	h,(ix-5)
1890  06C1  01 00 00    	ld	bc,_world1
1891  06C4  09          	add	hl,bc
1892  06C5  DD 75 FE    	ld	(ix-2),l
1893  06C8  DD 74 FF    	ld	(ix-1),h
1894  06CB  7E          	ld	a, (hl)
1895  06CC  DD 77 F3    	ld	(ix-13),a
1896  06CF              l_spr_page_map_00116:
1897  06CF  3E 10       	ld	a,0x10
1898  06D1  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1899  06D4  01 FD 7F    	ld	bc,_IO_7FFD
1900  06D7  ED 79       	out	(c),a
1901  06D9  DD 7E F4    	ld	a,(ix-12)
1902  06DC  D6 80       	sub	a,0x80
1903  06DE  30 4D       	jr	NC,l_spr_page_map_00127
1904  06E0  DD 7E F0    	ld	a,(ix-16)
1905  06E3  DD 77 FE    	ld	(ix-2),a
1906  06E6  6F          	ld	l, a
1907  06E7  26 00       	ld	h,0x00
1908  06E9  DD 74 FF    	ld	(ix-1),h
1909  06EC  E5          	push	hl
1910  06ED  CD 00 00    	call	_game_obj_chk
1911  06F0  F1          	pop	af
1912  06F1  DD 75 FC    	ld	(ix-4),l
1913  06F4  3E 00       	ld	a, +((_scr_map) & 0xFF)
1914  06F6  DD 86 F0    	add	a,(ix-16)
1915  06F9  DD 77 FA    	ld	(ix-6),a
1916  06FC  3E 00       	ld	a, +((_scr_map) / 256)
1917  06FE  CE 00       	adc	a,0x00
1918  0700  DD 77 FB    	ld	(ix-5),a
1919  0703  DD 7E FC    	ld	a,(ix-4)
1920  0706  B7          	or	a, a
1921  0707  20 0C       	jr	NZ,l_spr_page_map_00118
1922  0709  DD 6E FA    	ld	l,(ix-6)
1923  070C  DD 66 FB    	ld	h,(ix-5)
1924  070F  DD 7E F4    	ld	a,(ix-12)
1925  0712  77          	ld	(hl), a
1926  0713  18 13       	jr	l_spr_page_map_00119
1927  0715              l_spr_page_map_00118:
1928  0715  DD 6E FE    	ld	l,(ix-2)
1929  0718  DD 66 FF    	ld	h,(ix-1)
1930  071B  E5          	push	hl
1931  071C  CD 00 00    	call	_game_match_back
1932  071F  F1          	pop	af
1933  0720  4D          	ld	c, l
1934  0721  DD 6E FA    	ld	l,(ix-6)
1935  0724  DD 66 FB    	ld	h,(ix-5)
1936  0727  71          	ld	(hl), c
1937  0728              l_spr_page_map_00119:
1938  0728  DD 34 F0    	inc	(ix-16)
1939  072B  18 67       	jr	l_spr_page_map_00128
1940  072D              l_spr_page_map_00127:
1941  072D  DD 7E F4    	ld	a,(ix-12)
1942  0730  C6 80       	add	a,0x80
1943  0732  4F          	ld	c, a
1944  0733  DD 5E F0    	ld	e,(ix-16)
1945  0736  06 00       	ld	b,0x00
1946  0738              l_spr_page_map_00135:
1947  0738  78          	ld	a, b
1948  0739  91          	sub	a, c
1949  073A  30 52       	jr	NC,l_spr_page_map_00158
1950  073C  DD 73 FE    	ld	(ix-2),e
1951  073F  DD 36 FF 00 	ld	(ix-1),0x00
1952  0743  C5          	push	bc
1953  0744  D5          	push	de
1954  0745  DD 6E FE    	ld	l,(ix-2)
1955  0748  DD 66 FF    	ld	h,(ix-1)
1956  074B  E5          	push	hl
1957  074C  CD 00 00    	call	_game_obj_chk
1958  074F  F1          	pop	af
1959  0750  D1          	pop	de
1960  0751  C1          	pop	bc
1961  0752  7D          	ld	a,l
1962  0753  B7          	or	a,a
1963  0754  20 0B       	jr	NZ,l_spr_page_map_00121
1964  0756  57          	ld	d,a
1965  0757  21 00 00    	ld	hl,_scr_map
1966  075A  19          	add	hl, de
1967  075B  DD 7E F3    	ld	a,(ix-13)
1968  075E  77          	ld	(hl), a
1969  075F  18 24       	jr	l_spr_page_map_00122
1970  0761              l_spr_page_map_00121:
1971  0761  3E 00       	ld	a, +((_scr_map) & 0xFF)
1972  0763  83          	add	a, e
1973  0764  DD 77 FC    	ld	(ix-4),a
1974  0767  3E 00       	ld	a, +((_scr_map) / 256)
1975  0769  CE 00       	adc	a,0x00
1976  076B  DD 77 FD    	ld	(ix-3),a
1977  076E  C5          	push	bc
1978  076F  D5          	push	de
1979  0770  DD 6E FE    	ld	l,(ix-2)
1980  0773  DD 66 FF    	ld	h,(ix-1)
1981  0776  E5          	push	hl
1982  0777  CD 00 00    	call	_game_match_back
1983  077A  F1          	pop	af
1984  077B  D1          	pop	de
1985  077C  C1          	pop	bc
1986  077D  7D          	ld	a,l
1987  077E  DD 6E FC    	ld	l,(ix-4)
1988  0781  DD 66 FD    	ld	h,(ix-3)
1989  0784  77          	ld	(hl), a
1990  0785              l_spr_page_map_00122:
1991  0785  1C          	inc	e
1992  0786  7B          	ld	a, e
1993  0787  D6 A0       	sub	a,0xa0
1994  0789  30 03       	jr	NC,l_spr_page_map_00158
1995  078B  04          	inc	b
1996  078C  18 AA       	jr	l_spr_page_map_00135
1997  078E              l_spr_page_map_00158:
1998  078E  DD 73 F0    	ld	(ix-16),e
1999  0791  DD 34 F2    	inc	(ix-14)
2000  0794              l_spr_page_map_00128:
2001  0794  DD 7E F0    	ld	a,(ix-16)
2002  0797  D6 A0       	sub	a,0xa0
2003  0799  30 0B       	jr	NC,l_spr_page_map_00131
2004  079B  DD 34 F2    	inc	(ix-14)
2005  079E  DD 7E F2    	ld	a,(ix-14)
2006  07A1  D6 A0       	sub	a,0xa0
2007  07A3  DA 41 06    	jp	C, l_spr_page_map_00137
2008  07A6              l_spr_page_map_00131:
2009  07A6  DD 7E EA    	ld	a,(ix-22)
2010  07A9  32 00 00    	ld	(_scr_curr),a
2011  07AC  DD 7E F6    	ld	a,(ix-10)
2012  07AF  32 00 00    	ld	(_map_width),a
2013  07B2  DD 7E F9    	ld	a,(ix-7)
2014  07B5  32 00 00    	ld	(_map_heigth),a
2015  07B8  DD 7E F7    	ld	a,(ix-9)
2016  07BB  32 00 00    	ld	(_map_paper),a
2017  07BE  CD 4E 0E    	call	_spr_init_anim_bullets
2018  07C1  3A 00 00    	ld	a,(_map_paper_last)
2019  07C4  21 00 00    	ld	hl,_map_paper
2020  07C7  96          	sub	a, (hl)
2021  07C8  28 03       	jr	Z,l_spr_page_map_00133
2022  07CA  CD A7 16    	call	_spr_btile_paint_back
2023  07CD              l_spr_page_map_00133:
2024  07CD  3A 00 00    	ld	a,(_map_paper)
2025  07D0  32 00 00    	ld	(_map_paper_last),a
2026  07D3  FB          	ei
2027  07D4  CD 00 00    	call	_NIRVANAP_start
2028  07D7  21 00 00    	ld	hl,_screen_ink
2029  07DA  36 06       	ld	(hl),0x06
2030  07DC  21 00 00    	ld	hl,___str_0
2031  07DF  E5          	push	hl
2032  07E0  21 17 0C    	ld	hl,0x0c17
2033  07E3  E5          	push	hl
2034  07E4  CD 00 00    	call	_zx_print_str
2035  07E7  3A 00 00    	ld	a,(_scr_curr)
2036  07EA  F5          	push	af
2037  07EB  33          	inc	sp
2038  07EC  21 17 10    	ld	hl,0x1017
2039  07EF  E5          	push	hl
2040  07F0  CD 00 00    	call	_zx_print_chr
2041  07F3  DD F9       	ld	sp, ix
2042  07F5  DD E1       	pop	ix
2043  07F7  C9          	ret
2044  07F8              	SECTION rodata_compiler
2045  0000              ___str_0:
2046  0000  53 43 52 3A 	DEFM "SCR:"
2047  0004  00          	DEFB 0x00
2048  0005              	SECTION code_compiler
2049  07F8              ;	---------------------------------
2050  07F8              ; Function spr_redraw
2051  07F8              ; ---------------------------------
2052  07F8              _spr_redraw:
2053  07F8  2A 00 00    	ld	hl,(_sprite)
2054  07FB  26 00       	ld	h,0x00
2055  07FD  01 00 00    	ld	bc,_tile
2056  0800  09          	add	hl,bc
2057  0801  4E          	ld	c, (hl)
2058  0802  3A 00 00    	ld	a,(_sprite)
2059  0805  5F          	ld	e,a
2060  0806  16 00       	ld	d,0x00
2061  0808  21 00 00    	ld	hl,_colint
2062  080B  19          	add	hl,de
2063  080C  7E          	ld	a,(hl)
2064  080D  81          	add	a,c
2065  080E  32 00 00    	ld	(_s_tile1),a
2066  0811  2A 00 00    	ld	hl,(_sprite)
2067  0814  26 00       	ld	h,0x00
2068  0816  01 00 00    	ld	bc,_col
2069  0819  09          	add	hl,bc
2070  081A  7E          	ld	a,(hl)
2071  081B  32 00 00    	ld	(_s_col1),a
2072  081E  2A 00 00    	ld	hl,(_sprite)
2073  0821  26 00       	ld	h,0x00
2074  0823  01 00 00    	ld	bc,_lin
2075  0826  09          	add	hl,bc
2076  0827  7E          	ld	a,(hl)
2077  0828  4D          	ld	c,l
2078  0829  32 00 00    	ld	(_s_lin1),a
2079  082C  21 00 00    	ld	hl,_s_lin0
2080  082F  96          	sub	a, (hl)
2081  0830  20 0A       	jr	NZ,l_spr_redraw_00117
2082  0832  3A 00 00    	ld	a,(_s_col1)
2083  0835  21 00 00    	ld	hl,_s_col0
2084  0838  96          	sub	a, (hl)
2085  0839  CA EF 08    	jp	Z,l_spr_redraw_00118
2086  083C              l_spr_redraw_00117:
2087  083C  3A 00 00    	ld	a,(_sprite)
2088  083F  D6 07       	sub	a,0x07
2089  0841  20 3A       	jr	NZ,l_spr_redraw_00113
2090  0843  3A 00 00    	ld	a,(_player_onstair)
2091  0846  B7          	or	a, a
2092  0847  28 2F       	jr	Z,l_spr_redraw_00104
2093  0849  3A 07 00    	ld	a, (_lin + 7)
2094  084C  E6 03       	and	a,0x03
2095  084E  20 28       	jr	NZ,l_spr_redraw_00104
2096  0850  21 00 00    	ld	hl,_player_anim_stair
2097  0853  34          	inc	(hl)
2098  0854  20 02       	jr	NZ,l_spr_redraw_00162
2099  0856  23          	inc	hl
2100  0857  34          	inc	(hl)
2101  0858              l_spr_redraw_00162:
2102  0858  3E 01       	ld	a,0x01
2103  085A  21 00 00    	ld	hl,_player_anim_stair
2104  085D  BE          	cp	a, (hl)
2105  085E  3E 00       	ld	a,0x00
2106  0860  23          	inc	hl
2107  0861  9E          	sbc	a, (hl)
2108  0862  30 05       	jr	NC,l_spr_redraw_00102
2109  0864  2B          	dec	hl
2110  0865  AF          	xor	a, a
2111  0866  77          	ld	(hl), a
2112  0867  23          	inc	hl
2113  0868  77          	ld	(hl), a
2114  0869              l_spr_redraw_00102:
2115  0869  21 07 00    	ld	hl,_tile + 7
2116  086C  4E          	ld	c, (hl)
2117  086D  21 00 00    	ld	hl,_player_anim_stair
2118  0870  46          	ld	b, (hl)
2119  0871  79          	ld	a, c
2120  0872  80          	add	a, b
2121  0873  C6 04       	add	a,0x04
2122  0875  32 00 00    	ld	(_s_tile1),a
2123  0878              l_spr_redraw_00104:
2124  0878  CD A6 0C    	call	_spr_back_repaint
2125  087B  18 5B       	jr	l_spr_redraw_00114
2126  087D              l_spr_redraw_00113:
2127  087D  3A 00 00    	ld	a,(_s_lin1)
2128  0880  E6 07       	and	a,0x07
2129  0882  20 05       	jr	NZ,l_spr_redraw_00110
2130  0884  CD A6 0C    	call	_spr_back_repaint
2131  0887  18 4F       	jr	l_spr_redraw_00114
2132  0889              l_spr_redraw_00110:
2133  0889  21 00 00    	ld	hl,_s_state
2134  088C  CB 46       	bit	0, (hl)
2135  088E  28 26       	jr	Z,l_spr_redraw_00107
2136  0890  3A 00 00    	ld	a,(_s_lin0)
2137  0893  C6 08       	add	a,0x08
2138  0895  47          	ld	b, a
2139  0896  3A 00 00    	ld	a,(_s_col0)
2140  0899  F5          	push	af
2141  089A  33          	inc	sp
2142  089B  C5          	push	bc
2143  089C  33          	inc	sp
2144  089D  3A 00 00    	ld	a,(_map_paper_clr)
2145  08A0  F5          	push	af
2146  08A1  33          	inc	sp
2147  08A2  CD 00 00    	call	_NIRVANAP_fillC_callee
2148  08A5  21 00 00    	ld	hl,_s_col0
2149  08A8  56          	ld	d, (hl)
2150  08A9  14          	inc	d
2151  08AA  58          	ld	e,b
2152  08AB  3A 00 00    	ld	a,(_map_paper_clr)
2153  08AE  D5          	push	de
2154  08AF  F5          	push	af
2155  08B0  33          	inc	sp
2156  08B1  CD 00 00    	call	_NIRVANAP_fillC_callee
2157  08B4  18 22       	jr	l_spr_redraw_00114
2158  08B6              l_spr_redraw_00107:
2159  08B6  2A FF FF    	ld	hl,(_s_col0 - 1)
2160  08B9  3A 00 00    	ld	a,(_s_lin0)
2161  08BC  6F          	ld	l,a
2162  08BD  3A 00 00    	ld	a,(_map_paper_clr)
2163  08C0  E5          	push	hl
2164  08C1  F5          	push	af
2165  08C2  33          	inc	sp
2166  08C3  CD 00 00    	call	_NIRVANAP_fillC_callee
2167  08C6  21 00 00    	ld	hl,_s_col0
2168  08C9  46          	ld	b, (hl)
2169  08CA  04          	inc	b
2170  08CB  C5          	push	bc
2171  08CC  33          	inc	sp
2172  08CD  2A FF FF    	ld	hl,(_s_lin0 - 1)
2173  08D0  3A 00 00    	ld	a,(_map_paper_clr)
2174  08D3  6F          	ld	l,a
2175  08D4  E5          	push	hl
2176  08D5  CD 00 00    	call	_NIRVANAP_fillC_callee
2177  08D8              l_spr_redraw_00114:
2178  08D8  2A FF FF    	ld	hl,(_s_col1 - 1)
2179  08DB  3A 00 00    	ld	a,(_s_lin1)
2180  08DE  6F          	ld	l,a
2181  08DF  E5          	push	hl
2182  08E0  2A FF FF    	ld	hl,(_s_tile1 - 1)
2183  08E3  3A 00 00    	ld	a,(_sprite)
2184  08E6  6F          	ld	l,a
2185  08E7  E5          	push	hl
2186  08E8  CD 00 00    	call	_NIRVANAP_spriteT_callee
2187  08EB  2E 01       	ld	l,0x01
2188  08ED  18 22       	jr	l_spr_redraw_00121
2189  08EF              l_spr_redraw_00118:
2190  08EF  3A 00 00    	ld	a,(_s_tile1)
2191  08F2  21 00 00    	ld	hl,_s_tile0
2192  08F5  96          	sub	a, (hl)
2193  08F6  28 17       	jr	Z,l_spr_redraw_00119
2194  08F8  2A FF FF    	ld	hl,(_s_col1 - 1)
2195  08FB  3A 00 00    	ld	a,(_s_lin1)
2196  08FE  6F          	ld	l,a
2197  08FF  E5          	push	hl
2198  0900  2A FF FF    	ld	hl,(_s_tile1 - 1)
2199  0903  3A 00 00    	ld	a,(_sprite)
2200  0906  6F          	ld	l,a
2201  0907  E5          	push	hl
2202  0908  CD 00 00    	call	_NIRVANAP_spriteT_callee
2203  090B  2E 00       	ld	l,0x00
2204  090D  18 02       	jr	l_spr_redraw_00121
2205  090F              l_spr_redraw_00119:
2206  090F  2E 00       	ld	l,0x00
2207  0911              l_spr_redraw_00121:
2208  0911  C9          	ret
2209  0912              	SECTION code_compiler
2210  0912              ;	---------------------------------
2211  0912              ; Function spr_destroy
2212  0912              ; ---------------------------------
2213  0912              _spr_destroy:
2214  0912  CD 00 00    	call	___sdcc_enter_ix
2215  0915  F5          	push	af
2216  0916  F5          	push	af
2217  0917  45          	ld	b, l
2218  0918  21 00 00    	ld	hl,_spr_count
2219  091B  35          	dec	(hl)
2220  091C  3E 00       	ld	a, +((_lin) & 0xFF)
2221  091E  80          	add	a, b
2222  091F  DD 77 FC    	ld	(ix-4),a
2223  0922  3E 00       	ld	a, +((_lin) / 256)
2224  0924  CE 00       	adc	a,0x00
2225  0926  DD 77 FD    	ld	(ix-3),a
2226  0929  E1          	pop	hl
2227  092A  7E          	ld	a,(hl)
2228  092B  E5          	push	hl
2229  092C  32 00 00    	ld	(_s_lin0),a
2230  092F  3E 00       	ld	a, +((_col) & 0xFF)
2231  0931  80          	add	a, b
2232  0932  DD 77 FE    	ld	(ix-2),a
2233  0935  6F          	ld	l,a
2234  0936  3E 00       	ld	a,+((_col) / 256)
2235  0938  CE 00       	adc	a,0x00
2236  093A  DD 77 FF    	ld	(ix-1),a
2237  093D  67          	ld	h,a
2238  093E  7E          	ld	a, (hl)
2239  093F  32 00 00    	ld	(_s_col0),a
2240  0942  C5          	push	bc
2241  0943  F5          	push	af
2242  0944  33          	inc	sp
2243  0945  3A 00 00    	ld	a,(_s_lin0)
2244  0948  F5          	push	af
2245  0949  33          	inc	sp
2246  094A  CD 00 00    	call	_spr_calc_index
2247  094D  F1          	pop	af
2248  094E  EB          	ex	de,hl
2249  094F  C1          	pop	bc
2250  0950  EB          	ex	de,hl
2251  0951  22 00 00    	ld	(_index0),hl
2252  0954  C5          	push	bc
2253  0955  E5          	push	hl
2254  0956  CD 00 00    	call	_game_match_back
2255  0959  F1          	pop	af
2256  095A  C1          	pop	bc
2257  095B  7D          	ld	a,l
2258  095C  32 00 00    	ld	(_s_tile0),a
2259  095F  C5          	push	bc
2260  0960  21 00 00    	ld	hl,0x0000
2261  0963  E5          	push	hl
2262  0964  48          	ld	c,b
2263  0965  47          	ld	b,a
2264  0966  C5          	push	bc
2265  0967  CD 00 00    	call	_NIRVANAP_spriteT_callee
2266  096A  CD A6 0C    	call	_spr_back_repaint
2267  096D  C1          	pop	bc
2268  096E  3E 00       	ld	a, +((_tile) & 0xFF)
2269  0970  80          	add	a, b
2270  0971  5F          	ld	e, a
2271  0972  3E 00       	ld	a, +((_tile) / 256)
2272  0974  CE 00       	adc	a,0x00
2273  0976  57          	ld	d, a
2274  0977  3A 00 00    	ld	a,(_s_tile0)
2275  097A  12          	ld	(de), a
2276  097B  DD 6E FE    	ld	l,(ix-2)
2277  097E  DD 66 FF    	ld	h,(ix-1)
2278  0981  36 00       	ld	(hl),0x00
2279  0983  E1          	pop	hl
2280  0984  E5          	push	hl
2281  0985  36 00       	ld	(hl),0x00
2282  0987  11 00 00    	ld	de,_class+0
2283  098A  68          	ld	l,b
2284  098B  26 00       	ld	h,0x00
2285  098D  19          	add	hl, de
2286  098E  36 00       	ld	(hl),0x00
2287  0990  11 00 00    	ld	de,_state+0
2288  0993  68          	ld	l,b
2289  0994  26 00       	ld	h,0x00
2290  0996  19          	add	hl, de
2291  0997  36 00       	ld	(hl),0x00
2292  0999  11 00 00    	ld	de,_state_a+0
2293  099C  68          	ld	l,b
2294  099D  26 00       	ld	h,0x00
2295  099F  19          	add	hl, de
2296  09A0  36 00       	ld	(hl),0x00
2297  09A2  DD F9       	ld	sp, ix
2298  09A4  DD E1       	pop	ix
2299  09A6  C9          	ret
2300  09A7              	SECTION code_compiler
2301  09A7              ;	---------------------------------
2302  09A7              ; Function spr_tile
2303  09A7              ; ---------------------------------
2304  09A7              _spr_tile:
2305  09A7  45          	ld	b,l
2306  09A8  11 00 00    	ld	de,_class+0
2307  09AB  26 00       	ld	h,0x00
2308  09AD  19          	add	hl, de
2309  09AE  5E          	ld	e, (hl)
2310  09AF  3E 13       	ld	a,0x13
2311  09B1  93          	sub	a, e
2312  09B2  DA E5 0A    	jp	C, l_spr_tile_00116
2313  09B5  16 00       	ld	d,0x00
2314  09B7  21 BE 09    	ld	hl,l_spr_tile_00123
2315  09BA  19          	add	hl, de
2316  09BB  19          	add	hl, de
2317  09BC  19          	add	hl, de
2318  09BD  E9          	jp	(hl)
2319  09BE              l_spr_tile_00123:
2320  09BE  C3 E5 0A    	jp	l_spr_tile_00116
2321  09C1  C3 E5 0A    	jp	l_spr_tile_00116
2322  09C4  C3 4C 0A    	jp	l_spr_tile_00106
2323  09C7  C3 5D 0A    	jp	l_spr_tile_00107
2324  09CA  C3 6D 0A    	jp	l_spr_tile_00108
2325  09CD  C3 7C 0A    	jp	l_spr_tile_00109
2326  09D0  C3 B8 0A    	jp	l_spr_tile_00113
2327  09D3  C3 C7 0A    	jp	l_spr_tile_00114
2328  09D6  C3 D6 0A    	jp	l_spr_tile_00115
2329  09D9  C3 E5 0A    	jp	l_spr_tile_00116
2330  09DC  C3 E5 0A    	jp	l_spr_tile_00116
2331  09DF  C3 FA 09    	jp	l_spr_tile_00101
2332  09E2  C3 0A 0A    	jp	l_spr_tile_00102
2333  09E5  C3 1A 0A    	jp	l_spr_tile_00103
2334  09E8  C3 2B 0A    	jp	l_spr_tile_00104
2335  09EB  C3 3B 0A    	jp	l_spr_tile_00105
2336  09EE  C3 8B 0A    	jp	l_spr_tile_00110
2337  09F1  C3 E5 0A    	jp	l_spr_tile_00116
2338  09F4  C3 9A 0A    	jp	l_spr_tile_00111
2339  09F7  C3 A9 0A    	jp	l_spr_tile_00112
2340  09FA              l_spr_tile_00101:
2341  09FA  AF          	xor	a, a
2342  09FB  48          	ld	c,b
2343  09FC  47          	ld	b,a
2344  09FD  C5          	push	bc
2345  09FE  3E 90       	ld	a,0x90
2346  0A00  F5          	push	af
2347  0A01  33          	inc	sp
2348  0A02  CD E8 0A    	call	_spr_tile_dir
2349  0A05  F1          	pop	af
2350  0A06  33          	inc	sp
2351  0A07  C3 E7 0A    	jp	l_spr_tile_00117
2352  0A0A              l_spr_tile_00102:
2353  0A0A  AF          	xor	a, a
2354  0A0B  48          	ld	c,b
2355  0A0C  47          	ld	b,a
2356  0A0D  C5          	push	bc
2357  0A0E  3E 94       	ld	a,0x94
2358  0A10  F5          	push	af
2359  0A11  33          	inc	sp
2360  0A12  CD E8 0A    	call	_spr_tile_dir
2361  0A15  F1          	pop	af
2362  0A16  33          	inc	sp
2363  0A17  C3 E7 0A    	jp	l_spr_tile_00117
2364  0A1A              l_spr_tile_00103:
2365  0A1A  3E 02       	ld	a,0x02
2366  0A1C  48          	ld	c,b
2367  0A1D  47          	ld	b,a
2368  0A1E  C5          	push	bc
2369  0A1F  3E 98       	ld	a,0x98
2370  0A21  F5          	push	af
2371  0A22  33          	inc	sp
2372  0A23  CD E8 0A    	call	_spr_tile_dir
2373  0A26  F1          	pop	af
2374  0A27  33          	inc	sp
2375  0A28  C3 E7 0A    	jp	l_spr_tile_00117
2376  0A2B              l_spr_tile_00104:
2377  0A2B  AF          	xor	a, a
2378  0A2C  48          	ld	c,b
2379  0A2D  47          	ld	b,a
2380  0A2E  C5          	push	bc
2381  0A2F  3E 9C       	ld	a,0x9c
2382  0A31  F5          	push	af
2383  0A32  33          	inc	sp
2384  0A33  CD E8 0A    	call	_spr_tile_dir
2385  0A36  F1          	pop	af
2386  0A37  33          	inc	sp
2387  0A38  C3 E7 0A    	jp	l_spr_tile_00117
2388  0A3B              l_spr_tile_00105:
2389  0A3B  3E 04       	ld	a,0x04
2390  0A3D  48          	ld	c,b
2391  0A3E  47          	ld	b,a
2392  0A3F  C5          	push	bc
2393  0A40  3E A0       	ld	a,0xa0
2394  0A42  F5          	push	af
2395  0A43  33          	inc	sp
2396  0A44  CD E8 0A    	call	_spr_tile_dir
2397  0A47  F1          	pop	af
2398  0A48  33          	inc	sp
2399  0A49  C3 E7 0A    	jp	l_spr_tile_00117
2400  0A4C              l_spr_tile_00106:
2401  0A4C  3E 02       	ld	a,0x02
2402  0A4E  48          	ld	c,b
2403  0A4F  47          	ld	b,a
2404  0A50  C5          	push	bc
2405  0A51  3E A8       	ld	a,0xa8
2406  0A53  F5          	push	af
2407  0A54  33          	inc	sp
2408  0A55  CD E8 0A    	call	_spr_tile_dir
2409  0A58  F1          	pop	af
2410  0A59  33          	inc	sp
2411  0A5A  C3 E7 0A    	jp	l_spr_tile_00117
2412  0A5D              l_spr_tile_00107:
2413  0A5D  AF          	xor	a, a
2414  0A5E  48          	ld	c,b
2415  0A5F  47          	ld	b,a
2416  0A60  C5          	push	bc
2417  0A61  3E AC       	ld	a,0xac
2418  0A63  F5          	push	af
2419  0A64  33          	inc	sp
2420  0A65  CD E8 0A    	call	_spr_tile_dir
2421  0A68  F1          	pop	af
2422  0A69  33          	inc	sp
2423  0A6A  C3 E7 0A    	jp	l_spr_tile_00117
2424  0A6D              l_spr_tile_00108:
2425  0A6D  AF          	xor	a, a
2426  0A6E  48          	ld	c,b
2427  0A6F  47          	ld	b,a
2428  0A70  C5          	push	bc
2429  0A71  3E AE       	ld	a,0xae
2430  0A73  F5          	push	af
2431  0A74  33          	inc	sp
2432  0A75  CD E8 0A    	call	_spr_tile_dir
2433  0A78  F1          	pop	af
2434  0A79  33          	inc	sp
2435  0A7A  18 6B       	jr	l_spr_tile_00117
2436  0A7C              l_spr_tile_00109:
2437  0A7C  AF          	xor	a, a
2438  0A7D  48          	ld	c,b
2439  0A7E  47          	ld	b,a
2440  0A7F  C5          	push	bc
2441  0A80  3E B0       	ld	a,0xb0
2442  0A82  F5          	push	af
2443  0A83  33          	inc	sp
2444  0A84  CD E8 0A    	call	_spr_tile_dir
2445  0A87  F1          	pop	af
2446  0A88  33          	inc	sp
2447  0A89  18 5C       	jr	l_spr_tile_00117
2448  0A8B              l_spr_tile_00110:
2449  0A8B  AF          	xor	a, a
2450  0A8C  48          	ld	c,b
2451  0A8D  47          	ld	b,a
2452  0A8E  C5          	push	bc
2453  0A8F  3E B2       	ld	a,0xb2
2454  0A91  F5          	push	af
2455  0A92  33          	inc	sp
2456  0A93  CD E8 0A    	call	_spr_tile_dir
2457  0A96  F1          	pop	af
2458  0A97  33          	inc	sp
2459  0A98  18 4D       	jr	l_spr_tile_00117
2460  0A9A              l_spr_tile_00111:
2461  0A9A  AF          	xor	a, a
2462  0A9B  48          	ld	c,b
2463  0A9C  47          	ld	b,a
2464  0A9D  C5          	push	bc
2465  0A9E  3E B4       	ld	a,0xb4
2466  0AA0  F5          	push	af
2467  0AA1  33          	inc	sp
2468  0AA2  CD E8 0A    	call	_spr_tile_dir
2469  0AA5  F1          	pop	af
2470  0AA6  33          	inc	sp
2471  0AA7  18 3E       	jr	l_spr_tile_00117
2472  0AA9              l_spr_tile_00112:
2473  0AA9  AF          	xor	a, a
2474  0AAA  48          	ld	c,b
2475  0AAB  47          	ld	b,a
2476  0AAC  C5          	push	bc
2477  0AAD  3E B6       	ld	a,0xb6
2478  0AAF  F5          	push	af
2479  0AB0  33          	inc	sp
2480  0AB1  CD E8 0A    	call	_spr_tile_dir
2481  0AB4  F1          	pop	af
2482  0AB5  33          	inc	sp
2483  0AB6  18 2F       	jr	l_spr_tile_00117
2484  0AB8              l_spr_tile_00113:
2485  0AB8  AF          	xor	a, a
2486  0AB9  48          	ld	c,b
2487  0ABA  47          	ld	b,a
2488  0ABB  C5          	push	bc
2489  0ABC  3E C0       	ld	a,0xc0
2490  0ABE  F5          	push	af
2491  0ABF  33          	inc	sp
2492  0AC0  CD E8 0A    	call	_spr_tile_dir
2493  0AC3  F1          	pop	af
2494  0AC4  33          	inc	sp
2495  0AC5  18 20       	jr	l_spr_tile_00117
2496  0AC7              l_spr_tile_00114:
2497  0AC7  AF          	xor	a, a
2498  0AC8  48          	ld	c,b
2499  0AC9  47          	ld	b,a
2500  0ACA  C5          	push	bc
2501  0ACB  3E C2       	ld	a,0xc2
2502  0ACD  F5          	push	af
2503  0ACE  33          	inc	sp
2504  0ACF  CD E8 0A    	call	_spr_tile_dir
2505  0AD2  F1          	pop	af
2506  0AD3  33          	inc	sp
2507  0AD4  18 11       	jr	l_spr_tile_00117
2508  0AD6              l_spr_tile_00115:
2509  0AD6  AF          	xor	a, a
2510  0AD7  48          	ld	c,b
2511  0AD8  47          	ld	b,a
2512  0AD9  C5          	push	bc
2513  0ADA  3E C4       	ld	a,0xc4
2514  0ADC  F5          	push	af
2515  0ADD  33          	inc	sp
2516  0ADE  CD E8 0A    	call	_spr_tile_dir
2517  0AE1  F1          	pop	af
2518  0AE2  33          	inc	sp
2519  0AE3  18 02       	jr	l_spr_tile_00117
2520  0AE5              l_spr_tile_00116:
2521  0AE5  2E 00       	ld	l,0x00
2522  0AE7              l_spr_tile_00117:
2523  0AE7  C9          	ret
2524  0AE8              	SECTION code_compiler
2525  0AE8              ;	---------------------------------
2526  0AE8              ; Function spr_tile_dir
2527  0AE8              ; ---------------------------------
2528  0AE8              _spr_tile_dir:
2529  0AE8  CD 00 00    	call	___sdcc_enter_ix
2530  0AEB  3E 00       	ld	a, +((_state) & 0xFF)
2531  0AED  DD 86 05    	add	a,(ix+5)
2532  0AF0  4F          	ld	c, a
2533  0AF1  3E 00       	ld	a, +((_state) / 256)
2534  0AF3  CE 00       	adc	a,0x00
2535  0AF5  47          	ld	b, a
2536  0AF6  0A          	ld	a, (bc)
2537  0AF7  4F          	ld	c,a
2538  0AF8  CB 57       	bit	2,a
2539  0AFA  28 05       	jr	Z,l_spr_tile_dir_00102
2540  0AFC  DD 6E 04    	ld	l,(ix+4)
2541  0AFF  18 2D       	jr	l_spr_tile_dir_00109
2542  0B01              l_spr_tile_dir_00102:
2543  0B01  DD 7E 04    	ld	a,(ix+4)
2544  0B04  DD 86 06    	add	a,(ix+6)
2545  0B07  47          	ld	b, a
2546  0B08  CB 59       	bit	3, c
2547  0B0A  28 03       	jr	Z,l_spr_tile_dir_00104
2548  0B0C  68          	ld	l, b
2549  0B0D  18 1F       	jr	l_spr_tile_dir_00109
2550  0B0F              l_spr_tile_dir_00104:
2551  0B0F  3E 00       	ld	a, +((_state_a) & 0xFF)
2552  0B11  DD 86 05    	add	a,(ix+5)
2553  0B14  5F          	ld	e, a
2554  0B15  3E 00       	ld	a, +((_state_a) / 256)
2555  0B17  CE 00       	adc	a,0x00
2556  0B19  57          	ld	d, a
2557  0B1A  1A          	ld	a, (de)
2558  0B1B  CB 67       	bit	4, a
2559  0B1D  28 05       	jr	Z,l_spr_tile_dir_00106
2560  0B1F  DD 6E 04    	ld	l,(ix+4)
2561  0B22  18 0A       	jr	l_spr_tile_dir_00109
2562  0B24              l_spr_tile_dir_00106:
2563  0B24  CB 5F       	bit	3, a
2564  0B26  28 03       	jr	Z,l_spr_tile_dir_00108
2565  0B28  68          	ld	l, b
2566  0B29  18 03       	jr	l_spr_tile_dir_00109
2567  0B2B              l_spr_tile_dir_00108:
2568  0B2B  DD 6E 04    	ld	l,(ix+4)
2569  0B2E              l_spr_tile_dir_00109:
2570  0B2E  DD E1       	pop	ix
2571  0B30  C9          	ret
2572  0B31              	SECTION code_compiler
2573  0B31              ;	---------------------------------
2574  0B31              ; Function spr_brick_anim
2575  0B31              ; ---------------------------------
2576  0B31              _spr_brick_anim:
2577  0B31  CD 00 00    	call	___sdcc_enter_ix
2578  0B34  F5          	push	af
2579  0B35  3B          	dec	sp
2580  0B36  4D          	ld	c, l
2581  0B37  21 00 00    	ld	hl,_player_hit_col
2582  0B3A  56          	ld	d, (hl)
2583  0B3B  21 00 00    	ld	hl,_player_hit_lin
2584  0B3E  5E          	ld	e, (hl)
2585  0B3F  C5          	push	bc
2586  0B40  D5          	push	de
2587  0B41  D5          	push	de
2588  0B42  CD 00 00    	call	_spr_calc_index
2589  0B45  F1          	pop	af
2590  0B46  DD 74 FF    	ld	(ix-1),h
2591  0B49  DD 75 FE    	ld	(ix-2),l
2592  0B4C  D1          	pop	de
2593  0B4D  C1          	pop	bc
2594  0B4E  DD 6E FE    	ld	l,(ix-2)
2595  0B51  DD 66 FF    	ld	h,(ix-1)
2596  0B54  22 00 00    	ld	(_index1),hl
2597  0B57  21 00 00    	ld	hl,_index1
2598  0B5A  7E          	ld	a, (hl)
2599  0B5B  C6 F0       	add	a,0xf0
2600  0B5D  DD 77 FE    	ld	(ix-2),a
2601  0B60  23          	inc	hl
2602  0B61  7E          	ld	a, (hl)
2603  0B62  CE FF       	adc	a,0xff
2604  0B64  DD 77 FF    	ld	(ix-1),a
2605  0B67  3E 00       	ld	a, +((_scr_map) & 0xFF)
2606  0B69  DD 86 FE    	add	a,(ix-2)
2607  0B6C  6F          	ld	l, a
2608  0B6D  3E 00       	ld	a, +((_scr_map) / 256)
2609  0B6F  DD 8E FF    	adc	a,(ix-1)
2610  0B72  67          	ld	h, a
2611  0B73  7E          	ld	a, (hl)
2612  0B74  DD 77 FD    	ld	(ix-3),a
2613  0B77  3E 00       	ld	a, +((_scr_map) & 0xFF)
2614  0B79  21 00 00    	ld	hl,_index1
2615  0B7C  86          	add	a, (hl)
2616  0B7D  DD 77 FE    	ld	(ix-2),a
2617  0B80  3E 00       	ld	a, +((_scr_map) / 256)
2618  0B82  23          	inc	hl
2619  0B83  8E          	adc	a, (hl)
2620  0B84  DD 6E FE    	ld	l,(ix-2)
2621  0B87  DD 77 FF    	ld	(ix-1),a
2622  0B8A  67          	ld	h,a
2623  0B8B  46          	ld	b, (hl)
2624  0B8C  79          	ld	a, c
2625  0B8D  B7          	or	a, a
2626  0B8E  28 08       	jr	Z,l_spr_brick_anim_00102
2627  0B90  7B          	ld	a, e
2628  0B91  C6 F6       	add	a,0xf6
2629  0B93  32 00 00    	ld	(_tmp),a
2630  0B96  18 06       	jr	l_spr_brick_anim_00103
2631  0B98              l_spr_brick_anim_00102:
2632  0B98  7B          	ld	a, e
2633  0B99  C6 F8       	add	a,0xf8
2634  0B9B  32 00 00    	ld	(_tmp),a
2635  0B9E              l_spr_brick_anim_00103:
2636  0B9E  F3          	di
2637  0B9F  79          	ld	a, c
2638  0BA0  B7          	or	a, a
2639  0BA1  28 1A       	jr	Z,l_spr_brick_anim_00105
2640  0BA3  3A 00 00    	ld	a,(_map_paper_clr)
2641  0BA6  C5          	push	bc
2642  0BA7  D5          	push	de
2643  0BA8  D5          	push	de
2644  0BA9  F5          	push	af
2645  0BAA  33          	inc	sp
2646  0BAB  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2647  0BAE  D1          	pop	de
2648  0BAF  C1          	pop	bc
2649  0BB0  D5          	push	de
2650  0BB1  33          	inc	sp
2651  0BB2  3A 00 00    	ld	a,(_tmp)
2652  0BB5  48          	ld	c,b
2653  0BB6  47          	ld	b,a
2654  0BB7  C5          	push	bc
2655  0BB8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2656  0BBB  18 1E       	jr	l_spr_brick_anim_00106
2657  0BBD              l_spr_brick_anim_00105:
2658  0BBD  3A 00 00    	ld	a,(_tmp)
2659  0BC0  C6 F0       	add	a,0xf0
2660  0BC2  C5          	push	bc
2661  0BC3  D5          	push	de
2662  0BC4  5F          	ld	e,a
2663  0BC5  D5          	push	de
2664  0BC6  DD 7E FD    	ld	a,(ix-3)
2665  0BC9  F5          	push	af
2666  0BCA  33          	inc	sp
2667  0BCB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2668  0BCE  D1          	pop	de
2669  0BCF  C1          	pop	bc
2670  0BD0  D5          	push	de
2671  0BD1  33          	inc	sp
2672  0BD2  3A 00 00    	ld	a,(_tmp)
2673  0BD5  48          	ld	c,b
2674  0BD6  47          	ld	b,a
2675  0BD7  C5          	push	bc
2676  0BD8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2677  0BDB              l_spr_brick_anim_00106:
2678  0BDB  FB          	ei
2679  0BDC  DD F9       	ld	sp, ix
2680  0BDE  DD E1       	pop	ix
2681  0BE0  C9          	ret
2682  0BE1              	SECTION code_compiler
2683  0BE1              ;	---------------------------------
2684  0BE1              ; Function spr_draw_index
2685  0BE1              ; ---------------------------------
2686  0BE1              _spr_draw_index:
2687  0BE1  CD 00 00    	call	___sdcc_enter_ix
2688  0BE4  DD 4E 04    	ld	c,(ix+4)
2689  0BE7  79          	ld	a, c
2690  0BE8  E6 0F       	and	a,0x0f
2691  0BEA  87          	add	a, a
2692  0BEB  32 00 00    	ld	(_s_col1),a
2693  0BEE  21 00 00    	ld	hl,_s_lin1
2694  0BF1  71          	ld	(hl),c
2695  0BF2  79          	ld	a,c
2696  0BF3  07          	rlca
2697  0BF4  07          	rlca
2698  0BF5  07          	rlca
2699  0BF6  07          	rlca
2700  0BF7  E6 0F       	and	a,0x0f
2701  0BF9  07          	rlca
2702  0BFA  07          	rlca
2703  0BFB  07          	rlca
2704  0BFC  07          	rlca
2705  0BFD  E6 F0       	and	a,0xf0
2706  0BFF  77          	ld	(hl), a
2707  0C00  F3          	di
2708  0C01  3E 00       	ld	a, +((_scr_map) & 0xFF)
2709  0C03  DD 86 04    	add	a,(ix+4)
2710  0C06  4F          	ld	c, a
2711  0C07  3E 00       	ld	a, +((_scr_map) / 256)
2712  0C09  DD 8E 05    	adc	a,(ix+5)
2713  0C0C  47          	ld	b, a
2714  0C0D  0A          	ld	a, (bc)
2715  0C0E  47          	ld	b, a
2716  0C0F  3A 00 00    	ld	a,(_s_col1)
2717  0C12  F5          	push	af
2718  0C13  33          	inc	sp
2719  0C14  3A 00 00    	ld	a,(_s_lin1)
2720  0C17  48          	ld	c,b
2721  0C18  47          	ld	b,a
2722  0C19  C5          	push	bc
2723  0C1A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2724  0C1D  FB          	ei
2725  0C1E  DD E1       	pop	ix
2726  0C20  C9          	ret
2727  0C21              	SECTION code_compiler
2728  0C21              ;	---------------------------------
2729  0C21              ; Function spr_draw_row
2730  0C21              ; ---------------------------------
2731  0C21              _spr_draw_row:
2732  0C21  CD 00 00    	call	___sdcc_enter_ix
2733  0C24  3B          	dec	sp
2734  0C25  F3          	di
2735  0C26  21 00 00    	ld	hl,_tmp
2736  0C29  36 00       	ld	(hl),0x00
2737  0C2B  DD 7E 04    	ld	a,(ix+4)
2738  0C2E  07          	rlca
2739  0C2F  07          	rlca
2740  0C30  07          	rlca
2741  0C31  E6 F8       	and	a,0xf8
2742  0C33  DD 77 FF    	ld	(ix-1),a
2743  0C36              l_spr_draw_row_00101:
2744  0C36  21 00 00    	ld	hl,_tmp
2745  0C39  7E          	ld	a, (hl)
2746  0C3A  D6 20       	sub	a,0x20
2747  0C3C  30 38       	jr	NC,l_spr_draw_row_00103
2748  0C3E  DD 4E 04    	ld	c,(ix+4)
2749  0C41  3E 00       	ld	a,0x00
2750  0C43  CB 21       	sla	c
2751  0C45  17          	rla
2752  0C46  CB 21       	sla	c
2753  0C48  17          	rla
2754  0C49  CB 21       	sla	c
2755  0C4B  17          	rla
2756  0C4C  CB 21       	sla	c
2757  0C4E  17          	rla
2758  0C4F  CB 21       	sla	c
2759  0C51  17          	rla
2760  0C52  47          	ld	b,a
2761  0C53  5E          	ld	e, (hl)
2762  0C54  16 00       	ld	d,0x00
2763  0C56  79          	ld	a, c
2764  0C57  83          	add	a, e
2765  0C58  21 00 00    	ld	hl,_index1
2766  0C5B  77          	ld	(hl), a
2767  0C5C  78          	ld	a, b
2768  0C5D  8A          	adc	a, d
2769  0C5E  23          	inc	hl
2770  0C5F  77          	ld	(hl), a
2771  0C60  2A FF FF    	ld	hl,(_tmp-1)
2772  0C63  DD 6E FF    	ld	l,(ix-1)
2773  0C66  3A 00 00    	ld	a,(_game_brick_tile)
2774  0C69  E5          	push	hl
2775  0C6A  F5          	push	af
2776  0C6B  33          	inc	sp
2777  0C6C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2778  0C6F  21 00 00    	ld	hl,_tmp
2779  0C72  34          	inc	(hl)
2780  0C73  34          	inc	(hl)
2781  0C74  18 C0       	jr	l_spr_draw_row_00101
2782  0C76              l_spr_draw_row_00103:
2783  0C76  FB          	ei
2784  0C77  33          	inc	sp
2785  0C78  DD E1       	pop	ix
2786  0C7A  C9          	ret
2787  0C7B              	SECTION code_compiler
2788  0C7B              ;	---------------------------------
2789  0C7B              ; Function spr_calc_hor
2790  0C7B              ; ---------------------------------
2791  0C7B              _spr_calc_hor:
2792  0C7B  CD 00 00    	call	___sdcc_enter_ix
2793  0C7E  3E 00       	ld	a, +((_col) & 0xFF)
2794  0C80  DD 86 04    	add	a,(ix+4)
2795  0C83  4F          	ld	c, a
2796  0C84  3E 00       	ld	a, +((_col) / 256)
2797  0C86  CE 00       	adc	a,0x00
2798  0C88  47          	ld	b, a
2799  0C89  0A          	ld	a, (bc)
2800  0C8A  5F          	ld	e, a
2801  0C8B  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2802  0C8D  DD 86 04    	add	a,(ix+4)
2803  0C90  4F          	ld	c, a
2804  0C91  3E 00       	ld	a, +((_sprite_frames) / 256)
2805  0C93  CE 00       	adc	a,0x00
2806  0C95  47          	ld	b, a
2807  0C96  0A          	ld	a, (bc)
2808  0C97  67          	ld	h, a
2809  0C98  2E 00       	ld	l,0x00
2810  0C9A  55          	ld	d, l
2811  0C9B  06 08       	ld	b,0x08
2812  0C9D              l_spr_calc_hor_00103:
2813  0C9D  29          	add	hl, hl
2814  0C9E  30 01       	jr	NC,l_spr_calc_hor_00104
2815  0CA0  19          	add	hl, de
2816  0CA1              l_spr_calc_hor_00104:
2817  0CA1  10 FA       	djnz	l_spr_calc_hor_00103
2818  0CA3  DD E1       	pop	ix
2819  0CA5  C9          	ret
2820  0CA6              	SECTION code_compiler
2821  0CA6              ;	---------------------------------
2822  0CA6              ; Function spr_back_repaint
2823  0CA6              ; ---------------------------------
2824  0CA6              _spr_back_repaint:
2825  0CA6  CD 00 00    	call	___sdcc_enter_ix
2826  0CA9  3B          	dec	sp
2827  0CAA  3A 00 00    	ld	a,(_spr_hack)
2828  0CAD  B7          	or	a, a
2829  0CAE  20 02       	jr	NZ,l_spr_back_repaint_00102
2830  0CB0  76          	halt
2831  0CB1  F3          	di
2832  0CB2              l_spr_back_repaint_00102:
2833  0CB2  2A FF FF    	ld	hl,(_s_col0 - 1)
2834  0CB5  3A 00 00    	ld	a,(_s_lin0)
2835  0CB8  6F          	ld	l,a
2836  0CB9  E5          	push	hl
2837  0CBA  CD 00 00    	call	_spr_calc_index
2838  0CBD  F1          	pop	af
2839  0CBE  7D          	ld	a,l
2840  0CBF  32 00 00    	ld	(_sprite_curr_index),a
2841  0CC2  21 00 00    	ld	hl,_s_lin0
2842  0CC5  7E          	ld	a, (hl)
2843  0CC6  E6 0F       	and	a,0x0f
2844  0CC8  4F          	ld	c, a
2845  0CC9  7E          	ld	a, (hl)
2846  0CCA  07          	rlca
2847  0CCB  07          	rlca
2848  0CCC  07          	rlca
2849  0CCD  07          	rlca
2850  0CCE  E6 0F       	and	a,0x0f
2851  0CD0  5F          	ld	e, a
2852  0CD1  21 00 00    	ld	hl,_s_col0
2853  0CD4  CB 46       	bit	0, (hl)
2854  0CD6  20 68       	jr	NZ,l_spr_back_repaint_00110
2855  0CD8  79          	ld	a, c
2856  0CD9  B7          	or	a, a
2857  0CDA  20 1D       	jr	NZ,l_spr_back_repaint_00104
2858  0CDC  2A 00 00    	ld	hl,(_sprite_curr_index)
2859  0CDF  26 00       	ld	h,0x00
2860  0CE1  01 00 00    	ld	bc,_scr_map
2861  0CE4  09          	add	hl,bc
2862  0CE5  46          	ld	b,(hl)
2863  0CE6  3A 00 00    	ld	a,(_s_col0)
2864  0CE9  F5          	push	af
2865  0CEA  33          	inc	sp
2866  0CEB  3A 00 00    	ld	a,(_s_lin0)
2867  0CEE  48          	ld	c,b
2868  0CEF  47          	ld	b,a
2869  0CF0  C5          	push	bc
2870  0CF1  CD 1D 0E    	call	_spr_tile_paint
2871  0CF4  F1          	pop	af
2872  0CF5  33          	inc	sp
2873  0CF6  C3 12 0E    	jp	l_spr_back_repaint_00111
2874  0CF9              l_spr_back_repaint_00104:
2875  0CF9  7B          	ld	a, e
2876  0CFA  07          	rlca
2877  0CFB  07          	rlca
2878  0CFC  07          	rlca
2879  0CFD  07          	rlca
2880  0CFE  E6 F0       	and	a,0xf0
2881  0D00  4F          	ld	c, a
2882  0D01  2A 00 00    	ld	hl,(_sprite_curr_index)
2883  0D04  26 00       	ld	h,0x00
2884  0D06  11 00 00    	ld	de,_scr_map
2885  0D09  19          	add	hl,de
2886  0D0A  46          	ld	b, (hl)
2887  0D0B  3A 00 00    	ld	a,(_s_col0)
2888  0D0E  C5          	push	bc
2889  0D0F  F5          	push	af
2890  0D10  33          	inc	sp
2891  0D11  79          	ld	a, c
2892  0D12  48          	ld	c,b
2893  0D13  47          	ld	b,a
2894  0D14  C5          	push	bc
2895  0D15  CD 1D 0E    	call	_spr_tile_paint
2896  0D18  F1          	pop	af
2897  0D19  33          	inc	sp
2898  0D1A  C1          	pop	bc
2899  0D1B  79          	ld	a, c
2900  0D1C  C6 10       	add	a,0x10
2901  0D1E  57          	ld	d, a
2902  0D1F  21 00 00    	ld	hl,_sprite_curr_index
2903  0D22  7E          	ld	a, (hl)
2904  0D23  C6 10       	add	a,0x10
2905  0D25  77          	ld	(hl), a
2906  0D26  C6 00       	add	a,+((_scr_map) & 0xFF)
2907  0D28  4F          	ld	c, a
2908  0D29  3E 00       	ld	a, +((_scr_map) / 256)
2909  0D2B  CE 00       	adc	a,0x00
2910  0D2D  47          	ld	b, a
2911  0D2E  0A          	ld	a, (bc)
2912  0D2F  47          	ld	b, a
2913  0D30  3A 00 00    	ld	a,(_s_col0)
2914  0D33  5A          	ld	e,d
2915  0D34  57          	ld	d,a
2916  0D35  D5          	push	de
2917  0D36  C5          	push	bc
2918  0D37  33          	inc	sp
2919  0D38  CD 1D 0E    	call	_spr_tile_paint
2920  0D3B  F1          	pop	af
2921  0D3C  33          	inc	sp
2922  0D3D  C3 12 0E    	jp	l_spr_back_repaint_00111
2923  0D40              l_spr_back_repaint_00110:
2924  0D40  3A 00 00    	ld	a,(_s_col0)
2925  0D43  C6 FF       	add	a,0xff
2926  0D45  DD 77 FF    	ld	(ix-1),a
2927  0D48  79          	ld	a, c
2928  0D49  B7          	or	a, a
2929  0D4A  20 3E       	jr	NZ,l_spr_back_repaint_00107
2930  0D4C  2A 00 00    	ld	hl,(_sprite_curr_index)
2931  0D4F  26 00       	ld	h,0x00
2932  0D51  01 00 00    	ld	bc,_scr_map
2933  0D54  09          	add	hl,bc
2934  0D55  46          	ld	b,(hl)
2935  0D56  DD 7E FF    	ld	a,(ix-1)
2936  0D59  F5          	push	af
2937  0D5A  33          	inc	sp
2938  0D5B  3A 00 00    	ld	a,(_s_lin0)
2939  0D5E  48          	ld	c,b
2940  0D5F  47          	ld	b,a
2941  0D60  C5          	push	bc
2942  0D61  CD 1D 0E    	call	_spr_tile_paint
2943  0D64  F1          	pop	af
2944  0D65  33          	inc	sp
2945  0D66  21 00 00    	ld	hl,_sprite_curr_index
2946  0D69  34          	inc	(hl)
2947  0D6A  21 00 00    	ld	hl,_s_col0
2948  0D6D  4E          	ld	c, (hl)
2949  0D6E  0C          	inc	c
2950  0D6F  2A 00 00    	ld	hl,(_sprite_curr_index)
2951  0D72  26 00       	ld	h,0x00
2952  0D74  11 00 00    	ld	de,_scr_map
2953  0D77  19          	add	hl,de
2954  0D78  46          	ld	b, (hl)
2955  0D79  79          	ld	a, c
2956  0D7A  F5          	push	af
2957  0D7B  33          	inc	sp
2958  0D7C  3A 00 00    	ld	a,(_s_lin0)
2959  0D7F  48          	ld	c,b
2960  0D80  47          	ld	b,a
2961  0D81  C5          	push	bc
2962  0D82  CD 1D 0E    	call	_spr_tile_paint
2963  0D85  F1          	pop	af
2964  0D86  33          	inc	sp
2965  0D87  C3 12 0E    	jp	l_spr_back_repaint_00111
2966  0D8A              l_spr_back_repaint_00107:
2967  0D8A  7B          	ld	a, e
2968  0D8B  07          	rlca
2969  0D8C  07          	rlca
2970  0D8D  07          	rlca
2971  0D8E  07          	rlca
2972  0D8F  E6 F0       	and	a,0xf0
2973  0D91  47          	ld	b, a
2974  0D92  2A 00 00    	ld	hl,(_sprite_curr_index)
2975  0D95  26 00       	ld	h,0x00
2976  0D97  11 00 00    	ld	de,_scr_map
2977  0D9A  19          	add	hl,de
2978  0D9B  56          	ld	d, (hl)
2979  0D9C  C5          	push	bc
2980  0D9D  DD 7E FF    	ld	a,(ix-1)
2981  0DA0  F5          	push	af
2982  0DA1  33          	inc	sp
2983  0DA2  4A          	ld	c, d
2984  0DA3  C5          	push	bc
2985  0DA4  CD 1D 0E    	call	_spr_tile_paint
2986  0DA7  F1          	pop	af
2987  0DA8  33          	inc	sp
2988  0DA9  C1          	pop	bc
2989  0DAA  21 00 00    	ld	hl,_sprite_curr_index
2990  0DAD  34          	inc	(hl)
2991  0DAE  21 00 00    	ld	hl,_s_col0
2992  0DB1  4E          	ld	c, (hl)
2993  0DB2  0C          	inc	c
2994  0DB3  2A 00 00    	ld	hl,(_sprite_curr_index)
2995  0DB6  26 00       	ld	h,0x00
2996  0DB8  11 00 00    	ld	de,_scr_map
2997  0DBB  19          	add	hl,de
2998  0DBC  5E          	ld	e, (hl)
2999  0DBD  C5          	push	bc
3000  0DBE  79          	ld	a, c
3001  0DBF  48          	ld	c,b
3002  0DC0  47          	ld	b,a
3003  0DC1  C5          	push	bc
3004  0DC2  7B          	ld	a, e
3005  0DC3  F5          	push	af
3006  0DC4  33          	inc	sp
3007  0DC5  CD 1D 0E    	call	_spr_tile_paint
3008  0DC8  F1          	pop	af
3009  0DC9  33          	inc	sp
3010  0DCA  C1          	pop	bc
3011  0DCB  78          	ld	a, b
3012  0DCC  C6 10       	add	a,0x10
3013  0DCE  DD 77 FF    	ld	(ix-1),a
3014  0DD1  21 00 00    	ld	hl,_sprite_curr_index
3015  0DD4  7E          	ld	a, (hl)
3016  0DD5  C6 0F       	add	a,0x0f
3017  0DD7  77          	ld	(hl), a
3018  0DD8  21 00 00    	ld	hl,_s_col0
3019  0DDB  4E          	ld	c, (hl)
3020  0DDC  0D          	dec	c
3021  0DDD  2A 00 00    	ld	hl,(_sprite_curr_index)
3022  0DE0  26 00       	ld	h,0x00
3023  0DE2  11 00 00    	ld	de,_scr_map
3024  0DE5  19          	add	hl,de
3025  0DE6  5E          	ld	e, (hl)
3026  0DE7  79          	ld	a, c
3027  0DE8  F5          	push	af
3028  0DE9  33          	inc	sp
3029  0DEA  DD 56 FF    	ld	d,(ix-1)
3030  0DED  D5          	push	de
3031  0DEE  CD 1D 0E    	call	_spr_tile_paint
3032  0DF1  F1          	pop	af
3033  0DF2  33          	inc	sp
3034  0DF3  21 00 00    	ld	hl,_sprite_curr_index
3035  0DF6  34          	inc	(hl)
3036  0DF7  21 00 00    	ld	hl,_s_col0
3037  0DFA  4E          	ld	c, (hl)
3038  0DFB  0C          	inc	c
3039  0DFC  2A 00 00    	ld	hl,(_sprite_curr_index)
3040  0DFF  26 00       	ld	h,0x00
3041  0E01  11 00 00    	ld	de,_scr_map
3042  0E04  19          	add	hl,de
3043  0E05  5E          	ld	e, (hl)
3044  0E06  79          	ld	a, c
3045  0E07  F5          	push	af
3046  0E08  33          	inc	sp
3047  0E09  DD 56 FF    	ld	d,(ix-1)
3048  0E0C  D5          	push	de
3049  0E0D  CD 1D 0E    	call	_spr_tile_paint
3050  0E10  F1          	pop	af
3051  0E11  33          	inc	sp
3052  0E12              l_spr_back_repaint_00111:
3053  0E12  3A 00 00    	ld	a,(_spr_hack)
3054  0E15  B7          	or	a, a
3055  0E16  20 01       	jr	NZ,l_spr_back_repaint_00114
3056  0E18  FB          	ei
3057  0E19              l_spr_back_repaint_00114:
3058  0E19  33          	inc	sp
3059  0E1A  DD E1       	pop	ix
3060  0E1C  C9          	ret
3061  0E1D              	SECTION code_compiler
3062  0E1D              ;	---------------------------------
3063  0E1D              ; Function spr_tile_paint
3064  0E1D              ; ---------------------------------
3065  0E1D              _spr_tile_paint:
3066  0E1D  CD 00 00    	call	___sdcc_enter_ix
3067  0E20  DD 7E 04    	ld	a,(ix+4)
3068  0E23  B7          	or	a, a
3069  0E24  28 05       	jr	Z,l_spr_tile_paint_00101
3070  0E26  3C          	inc	a
3071  0E27  28 22       	jr	Z,l_spr_tile_paint_00105
3072  0E29  18 11       	jr	l_spr_tile_paint_00103
3073  0E2B              l_spr_tile_paint_00101:
3074  0E2B  DD 66 06    	ld	h,(ix+6)
3075  0E2E  DD 6E 05    	ld	l,(ix+5)
3076  0E31  3A 00 00    	ld	a,(_map_paper_clr)
3077  0E34  E5          	push	hl
3078  0E35  F5          	push	af
3079  0E36  33          	inc	sp
3080  0E37  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3081  0E3A  18 0F       	jr	l_spr_tile_paint_00105
3082  0E3C              l_spr_tile_paint_00103:
3083  0E3C  DD 66 06    	ld	h,(ix+6)
3084  0E3F  DD 6E 05    	ld	l,(ix+5)
3085  0E42  E5          	push	hl
3086  0E43  DD 7E 04    	ld	a,(ix+4)
3087  0E46  F5          	push	af
3088  0E47  33          	inc	sp
3089  0E48  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3090  0E4B              l_spr_tile_paint_00105:
3091  0E4B  DD E1       	pop	ix
3092  0E4D  C9          	ret
3093  0E4E              	SECTION code_compiler
3094  0E4E              ;	---------------------------------
3095  0E4E              ; Function spr_init_anim_bullets
3096  0E4E              ; ---------------------------------
3097  0E4E              _spr_init_anim_bullets:
3098  0E4E  01 00 00    	ld	bc,_anim_lin+0
3099  0E51  1E 00       	ld	e,0x00
3100  0E53              l_spr_init_anim_bullets_00102:
3101  0E53  6B          	ld	l,e
3102  0E54  26 00       	ld	h,0x00
3103  0E56  09          	add	hl, bc
3104  0E57  36 FF       	ld	(hl),0xff
3105  0E59  16 00       	ld	d,0x00
3106  0E5B  21 00 00    	ld	hl,_bullet_col
3107  0E5E  19          	add	hl, de
3108  0E5F  36 FF       	ld	(hl),0xff
3109  0E61  1C          	inc	e
3110  0E62  7B          	ld	a, e
3111  0E63  D6 08       	sub	a,0x08
3112  0E65  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3113  0E67  21 00 00    	ld	hl,_bullet_count
3114  0E6A  36 00       	ld	(hl),0x00
3115  0E6C  21 00 00    	ld	hl,_anim_count
3116  0E6F  36 00       	ld	(hl),0x00
3117  0E71  C9          	ret
3118  0E72              	SECTION code_compiler
3119  0E72              ;	---------------------------------
3120  0E72              ; Function spr_add_anim
3121  0E72              ; ---------------------------------
3122  0E72              _spr_add_anim:
3123  0E72  CD 00 00    	call	___sdcc_enter_ix
3124  0E75  F5          	push	af
3125  0E76  F5          	push	af
3126  0E77  3B          	dec	sp
3127  0E78  DD 7E 05    	ld	a,(ix+5)
3128  0E7B  D6 1F       	sub	a,0x1f
3129  0E7D  D2 3E 0F    	jp	NC, l_spr_add_anim_00111
3130  0E80  DD 7E 04    	ld	a,(ix+4)
3131  0E83  D6 B8       	sub	a,0xb8
3132  0E85  D2 3E 0F    	jp	NC, l_spr_add_anim_00111
3133  0E88  0E 00       	ld	c,0x00
3134  0E8A  DD 71 FB    	ld	(ix-5),c
3135  0E8D              l_spr_add_anim_00109:
3136  0E8D  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3137  0E8F  81          	add	a, c
3138  0E90  5F          	ld	e, a
3139  0E91  3E 00       	ld	a, +((_anim_lin) / 256)
3140  0E93  CE 00       	adc	a,0x00
3141  0E95  57          	ld	d, a
3142  0E96  1A          	ld	a, (de)
3143  0E97  3C          	inc	a
3144  0E98  C2 34 0F    	jp	NZ,l_spr_add_anim_00110
3145  0E9B  21 00 00    	ld	hl,_anim_count
3146  0E9E  34          	inc	(hl)
3147  0E9F  DD 7E 04    	ld	a,(ix+4)
3148  0EA2  12          	ld	(de), a
3149  0EA3  01 00 00    	ld	bc,_anim_col
3150  0EA6  DD 6E FB    	ld	l,(ix-5)
3151  0EA9  26 00       	ld	h,0x00
3152  0EAB  09          	add	hl,bc
3153  0EAC  DD 75 FE    	ld	(ix-2),l
3154  0EAF  DD 74 FF    	ld	(ix-1),h
3155  0EB2  DD 7E 05    	ld	a,(ix+5)
3156  0EB5  77          	ld	(hl), a
3157  0EB6  01 00 00    	ld	bc,_anim_tile
3158  0EB9  DD 6E FB    	ld	l,(ix-5)
3159  0EBC  26 00       	ld	h,0x00
3160  0EBE  09          	add	hl,bc
3161  0EBF  DD 75 FC    	ld	(ix-4),l
3162  0EC2  DD 74 FD    	ld	(ix-3),h
3163  0EC5  DD 7E 06    	ld	a,(ix+6)
3164  0EC8  77          	ld	(hl), a
3165  0EC9  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3166  0ECB  DD 86 FB    	add	a,(ix-5)
3167  0ECE  4F          	ld	c, a
3168  0ECF  3E 00       	ld	a, +((_anim_loop) / 256)
3169  0ED1  CE 00       	adc	a,0x00
3170  0ED3  47          	ld	b, a
3171  0ED4  DD 7E 08    	ld	a,(ix+8)
3172  0ED7  02          	ld	(bc), a
3173  0ED8  01 00 00    	ld	bc,_anim_int+0
3174  0EDB  DD 6E FB    	ld	l,(ix-5)
3175  0EDE  26 00       	ld	h,0x00
3176  0EE0  09          	add	hl, bc
3177  0EE1  36 00       	ld	(hl),0x00
3178  0EE3  3E 00       	ld	a, +((_anim_end) & 0xFF)
3179  0EE5  DD 86 FB    	add	a,(ix-5)
3180  0EE8  4F          	ld	c, a
3181  0EE9  3E 00       	ld	a, +((_anim_end) / 256)
3182  0EEB  CE 00       	adc	a,0x00
3183  0EED  47          	ld	b, a
3184  0EEE  DD 7E 07    	ld	a,(ix+7)
3185  0EF1  02          	ld	(bc), a
3186  0EF2  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3187  0EF4  DD 86 FB    	add	a,(ix-5)
3188  0EF7  4F          	ld	c, a
3189  0EF8  3E 00       	ld	a, +((_anim_respanwn) / 256)
3190  0EFA  CE 00       	adc	a,0x00
3191  0EFC  47          	ld	b, a
3192  0EFD  DD 7E 09    	ld	a,(ix+9)
3193  0F00  02          	ld	(bc), a
3194  0F01  F3          	di
3195  0F02  DD 6E FE    	ld	l,(ix-2)
3196  0F05  DD 66 FF    	ld	h,(ix-1)
3197  0F08  46          	ld	b, (hl)
3198  0F09  1A          	ld	a, (de)
3199  0F0A  DD 6E FC    	ld	l,(ix-4)
3200  0F0D  DD 66 FD    	ld	h,(ix-3)
3201  0F10  56          	ld	d, (hl)
3202  0F11  C5          	push	bc
3203  0F12  33          	inc	sp
3204  0F13  5A          	ld	e,d
3205  0F14  57          	ld	d,a
3206  0F15  D5          	push	de
3207  0F16  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3208  0F19  FB          	ei
3209  0F1A  DD 66 05    	ld	h,(ix+5)
3210  0F1D  DD 6E 04    	ld	l,(ix+4)
3211  0F20  E5          	push	hl
3212  0F21  CD 00 00    	call	_spr_calc_index
3213  0F24  F1          	pop	af
3214  0F25  22 00 00    	ld	(_index0),hl
3215  0F28  01 00 00    	ld	bc,_scr_map
3216  0F2B  09          	add	hl,bc
3217  0F2C  7E          	ld	a,(hl)
3218  0F2D  B7          	or	a,a
3219  0F2E  20 0E       	jr	NZ,l_spr_add_anim_00111
3220  0F30  36 FF       	ld	(hl),0xff
3221  0F32  18 0A       	jr	l_spr_add_anim_00111
3222  0F34              l_spr_add_anim_00110:
3223  0F34  0C          	inc	c
3224  0F35  DD 71 FB    	ld	(ix-5),c
3225  0F38  79          	ld	a, c
3226  0F39  D6 08       	sub	a,0x08
3227  0F3B  DA 8D 0E    	jp	C, l_spr_add_anim_00109
3228  0F3E              l_spr_add_anim_00111:
3229  0F3E  DD F9       	ld	sp, ix
3230  0F40  DD E1       	pop	ix
3231  0F42  C9          	ret
3232  0F43              	SECTION code_compiler
3233  0F43              ;	---------------------------------
3234  0F43              ; Function spr_play_anim
3235  0F43              ; ---------------------------------
3236  0F43              _spr_play_anim:
3237  0F43  CD 00 00    	call	___sdcc_enter_ix
3238  0F46  F5          	push	af
3239  0F47  F5          	push	af
3240  0F48  F5          	push	af
3241  0F49  F5          	push	af
3242  0F4A  DD 36 F8 00 	ld	(ix-8),0x00
3243  0F4E              l_spr_play_anim_00114:
3244  0F4E  01 00 00    	ld	bc,_anim_lin
3245  0F51  DD 6E F8    	ld	l,(ix-8)
3246  0F54  26 00       	ld	h,0x00
3247  0F56  09          	add	hl,bc
3248  0F57  DD 75 FE    	ld	(ix-2),l
3249  0F5A  DD 74 FF    	ld	(ix-1),h
3250  0F5D  4E          	ld	c, (hl)
3251  0F5E  0C          	inc	c
3252  0F5F  CA 70 10    	jp	Z,l_spr_play_anim_00115
3253  0F62  21 01 00    	ld	hl,0x0001
3254  0F65  CD 00 00    	call	_z80_delay_ms_fastcall
3255  0F68  01 00 00    	ld	bc,_anim_int
3256  0F6B  DD 6E F8    	ld	l,(ix-8)
3257  0F6E  26 00       	ld	h,0x00
3258  0F70  09          	add	hl,bc
3259  0F71  DD 75 FC    	ld	(ix-4),l
3260  0F74  DD 74 FD    	ld	(ix-3),h
3261  0F77  4E          	ld	c, (hl)
3262  0F78  3E 00       	ld	a, +((_anim_end) & 0xFF)
3263  0F7A  DD 86 F8    	add	a,(ix-8)
3264  0F7D  6F          	ld	l, a
3265  0F7E  3E 00       	ld	a, +((_anim_end) / 256)
3266  0F80  CE 00       	adc	a,0x00
3267  0F82  67          	ld	h, a
3268  0F83  46          	ld	b, (hl)
3269  0F84  79          	ld	a, c
3270  0F85  90          	sub	a, b
3271  0F86  30 40       	jr	NC,l_spr_play_anim_00109
3272  0F88  F3          	di
3273  0F89  3E 00       	ld	a, +((_anim_col) & 0xFF)
3274  0F8B  DD 86 F8    	add	a,(ix-8)
3275  0F8E  6F          	ld	l, a
3276  0F8F  3E 00       	ld	a, +((_anim_col) / 256)
3277  0F91  CE 00       	adc	a,0x00
3278  0F93  67          	ld	h, a
3279  0F94  56          	ld	d, (hl)
3280  0F95  DD 6E FE    	ld	l,(ix-2)
3281  0F98  DD 66 FF    	ld	h,(ix-1)
3282  0F9B  4E          	ld	c, (hl)
3283  0F9C  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3284  0F9E  DD 86 F8    	add	a,(ix-8)
3285  0FA1  6F          	ld	l, a
3286  0FA2  3E 00       	ld	a, +((_anim_tile) / 256)
3287  0FA4  CE 00       	adc	a,0x00
3288  0FA6  67          	ld	h, a
3289  0FA7  5E          	ld	e, (hl)
3290  0FA8  DD 6E FC    	ld	l,(ix-4)
3291  0FAB  DD 66 FD    	ld	h,(ix-3)
3292  0FAE  6E          	ld	l, (hl)
3293  0FAF  7B          	ld	a, e
3294  0FB0  85          	add	a, l
3295  0FB1  47          	ld	b, a
3296  0FB2  D5          	push	de
3297  0FB3  33          	inc	sp
3298  0FB4  79          	ld	a, c
3299  0FB5  48          	ld	c,b
3300  0FB6  47          	ld	b,a
3301  0FB7  C5          	push	bc
3302  0FB8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3303  0FBB  FB          	ei
3304  0FBC  DD 6E FC    	ld	l,(ix-4)
3305  0FBF  DD 66 FD    	ld	h,(ix-3)
3306  0FC2  4E          	ld	c,(hl)
3307  0FC3  0C          	inc	c
3308  0FC4  71          	ld	(hl), c
3309  0FC5  C3 70 10    	jp	l_spr_play_anim_00115
3310  0FC8              l_spr_play_anim_00109:
3311  0FC8  01 00 00    	ld	bc,_anim_loop
3312  0FCB  DD 6E F8    	ld	l,(ix-8)
3313  0FCE  26 00       	ld	h,0x00
3314  0FD0  09          	add	hl,bc
3315  0FD1  DD 75 FA    	ld	(ix-6),l
3316  0FD4  DD 74 FB    	ld	(ix-5),h
3317  0FD7  7E          	ld	a, (hl)
3318  0FD8  DD 77 F9    	ld	(ix-7),a
3319  0FDB  B7          	or	a, a
3320  0FDC  C2 5D 10    	jp	NZ, l_spr_play_anim_00106
3321  0FDF  21 00 00    	ld	hl,_anim_count
3322  0FE2  35          	dec	(hl)
3323  0FE3  3E 00       	ld	a, +((_anim_col) & 0xFF)
3324  0FE5  DD 86 F8    	add	a,(ix-8)
3325  0FE8  6F          	ld	l, a
3326  0FE9  3E 00       	ld	a, +((_anim_col) / 256)
3327  0FEB  CE 00       	adc	a,0x00
3328  0FED  67          	ld	h, a
3329  0FEE  7E          	ld	a, (hl)
3330  0FEF  32 00 00    	ld	(_s_col0),a
3331  0FF2  DD 6E FE    	ld	l,(ix-2)
3332  0FF5  DD 66 FF    	ld	h,(ix-1)
3333  0FF8  7E          	ld	a, (hl)
3334  0FF9  32 00 00    	ld	(_s_lin0),a
3335  0FFC  2A FF FF    	ld	hl,(_s_col0 - 1)
3336  0FFF  6F          	ld	l,a
3337  1000  E5          	push	hl
3338  1001  CD 00 00    	call	_spr_calc_index
3339  1004  F1          	pop	af
3340  1005  2A FF FF    	ld	hl,(_s_col0 - 1)
3341  1008  3A 00 00    	ld	a,(_s_lin0)
3342  100B  6F          	ld	l,a
3343  100C  E5          	push	hl
3344  100D  CD 00 00    	call	_spr_calc_index
3345  1010  F1          	pop	af
3346  1011  01 00 00    	ld	bc,_scr_map
3347  1014  09          	add	hl,bc
3348  1015  4E          	ld	c, (hl)
3349  1016  0C          	inc	c
3350  1017  20 1F       	jr	NZ,l_spr_play_anim_00102
3351  1019  2A FF FF    	ld	hl,(_s_col0 - 1)
3352  101C  3A 00 00    	ld	a,(_s_lin0)
3353  101F  6F          	ld	l,a
3354  1020  E5          	push	hl
3355  1021  CD 00 00    	call	_spr_calc_index
3356  1024  F1          	pop	af
3357  1025  22 00 00    	ld	(_index0),hl
3358  1028  01 00 00    	ld	bc,_scr_map
3359  102B  09          	add	hl,bc
3360  102C  E5          	push	hl
3361  102D  2A 00 00    	ld	hl,(_index0)
3362  1030  E5          	push	hl
3363  1031  CD 00 00    	call	_game_match_back
3364  1034  F1          	pop	af
3365  1035  C1          	pop	bc
3366  1036  7D          	ld	a,l
3367  1037  02          	ld	(bc), a
3368  1038              l_spr_play_anim_00102:
3369  1038  CD A6 0C    	call	_spr_back_repaint
3370  103B  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3371  103D  DD 86 F8    	add	a,(ix-8)
3372  1040  4F          	ld	c, a
3373  1041  3E 00       	ld	a, +((_anim_respanwn) / 256)
3374  1043  CE 00       	adc	a,0x00
3375  1045  47          	ld	b, a
3376  1046  0A          	ld	a, (bc)
3377  1047  B7          	or	a, a
3378  1048  28 09       	jr	Z,l_spr_play_anim_00104
3379  104A  DD 7E F8    	ld	a,(ix-8)
3380  104D  F5          	push	af
3381  104E  33          	inc	sp
3382  104F  CD 00 00    	call	_enemy_respawn
3383  1052  33          	inc	sp
3384  1053              l_spr_play_anim_00104:
3385  1053  DD 6E FE    	ld	l,(ix-2)
3386  1056  DD 66 FF    	ld	h,(ix-1)
3387  1059  36 FF       	ld	(hl),0xff
3388  105B  18 13       	jr	l_spr_play_anim_00115
3389  105D              l_spr_play_anim_00106:
3390  105D  DD 4E F9    	ld	c,(ix-7)
3391  1060  0D          	dec	c
3392  1061  DD 6E FA    	ld	l,(ix-6)
3393  1064  DD 66 FB    	ld	h,(ix-5)
3394  1067  71          	ld	(hl), c
3395  1068  DD 6E FC    	ld	l,(ix-4)
3396  106B  DD 66 FD    	ld	h,(ix-3)
3397  106E  36 00       	ld	(hl),0x00
3398  1070              l_spr_play_anim_00115:
3399  1070  DD 34 F8    	inc	(ix-8)
3400  1073  DD 7E F8    	ld	a,(ix-8)
3401  1076  D6 08       	sub	a,0x08
3402  1078  DA 4E 0F    	jp	C, l_spr_play_anim_00114
3403  107B  DD F9       	ld	sp, ix
3404  107D  DD E1       	pop	ix
3405  107F  C9          	ret
3406  1080              	SECTION code_compiler
3407  1080              ;	---------------------------------
3408  1080              ; Function spr_play_bullets
3409  1080              ; ---------------------------------
3410  1080              _spr_play_bullets:
3411  1080  CD 00 00    	call	___sdcc_enter_ix
3412  1083  21 F2 FF    	ld	hl, -14
3413  1086  39          	add	hl, sp
3414  1087  F9          	ld	sp, hl
3415  1088  3E 00       	ld	a,0x00
3416  108A  DD 77 FF    	ld	(ix-1),a
3417  108D  DD 77 F5    	ld	(ix-11),a
3418  1090              l_spr_play_bullets_00198:
3419  1090  01 00 00    	ld	bc,_bullet_col
3420  1093  DD 6E F5    	ld	l,(ix-11)
3421  1096  26 00       	ld	h,0x00
3422  1098  09          	add	hl,bc
3423  1099  DD 75 FD    	ld	(ix-3),l
3424  109C  DD 74 FE    	ld	(ix-2),h
3425  109F  7E          	ld	a, (hl)
3426  10A0  DD 77 FC    	ld	(ix-4),a
3427  10A3  3C          	inc	a
3428  10A4  CA 29 16    	jp	Z,l_spr_play_bullets_00192
3429  10A7  01 00 00    	ld	bc,_bullet_lin
3430  10AA  DD 6E F5    	ld	l,(ix-11)
3431  10AD  26 00       	ld	h,0x00
3432  10AF  09          	add	hl,bc
3433  10B0  DD 75 FA    	ld	(ix-6),l
3434  10B3  DD 74 FB    	ld	(ix-5),h
3435  10B6  7E          	ld	a, (hl)
3436  10B7  32 00 00    	ld	(_s_lin0),a
3437  10BA  DD 7E FC    	ld	a,(ix-4)
3438  10BD  32 00 00    	ld	(_s_col0),a
3439  10C0  DD 77 F4    	ld	(ix-12),a
3440  10C3  CD A6 0C    	call	_spr_back_repaint
3441  10C6  01 00 00    	ld	bc,_bullet_class
3442  10C9  DD 6E F5    	ld	l,(ix-11)
3443  10CC  26 00       	ld	h,0x00
3444  10CE  09          	add	hl,bc
3445  10CF  DD 75 F8    	ld	(ix-8),l
3446  10D2  DD 74 F9    	ld	(ix-7),h
3447  10D5  7E          	ld	a, (hl)
3448  10D6  D6 02       	sub	a,0x02
3449  10D8  20 46       	jr	NZ,l_spr_play_bullets_00107
3450  10DA  3A 00 00    	ld	a,(_s_lin0)
3451  10DD  4F          	ld	c,a
3452  10DE  06 00       	ld	b,0x00
3453  10E0  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3454  10E2  DD 86 F5    	add	a,(ix-11)
3455  10E5  6F          	ld	l, a
3456  10E6  3E 00       	ld	a, +((_bullet_lin0) / 256)
3457  10E8  CE 00       	adc	a,0x00
3458  10EA  67          	ld	h, a
3459  10EB  5E          	ld	e, (hl)
3460  10EC  16 00       	ld	d,0x00
3461  10EE  79          	ld	a, c
3462  10EF  93          	sub	a, e
3463  10F0  4F          	ld	c, a
3464  10F1  78          	ld	a, b
3465  10F2  9A          	sbc	a, d
3466  10F3  47          	ld	b, a
3467  10F4  3E 08       	ld	a,0x08
3468  10F6  B9          	cp	a, c
3469  10F7  3E 00       	ld	a,0x00
3470  10F9  98          	sbc	a, b
3471  10FA  E2 FF 10    	jp	PO, l_spr_play_bullets_00412
3472  10FD  EE 80       	xor	a,0x80
3473  10FF              l_spr_play_bullets_00412:
3474  10FF  FA 18 11    	jp	M, l_spr_play_bullets_00104
3475  1102  DD 6E FA    	ld	l,(ix-6)
3476  1105  DD 66 FB    	ld	h,(ix-5)
3477  1108  4E          	ld	c, (hl)
3478  1109  0C          	inc	c
3479  110A  0C          	inc	c
3480  110B  DD 6E FA    	ld	l,(ix-6)
3481  110E  DD 66 FB    	ld	h,(ix-5)
3482  1111  71          	ld	(hl), c
3483  1112  21 00 00    	ld	hl,_s_lin0
3484  1115  71          	ld	(hl), c
3485  1116  18 08       	jr	l_spr_play_bullets_00107
3486  1118              l_spr_play_bullets_00104:
3487  1118  DD 6E F8    	ld	l,(ix-8)
3488  111B  DD 66 F9    	ld	h,(ix-7)
3489  111E  36 03       	ld	(hl),0x03
3490  1120              l_spr_play_bullets_00107:
3491  1120  DD 6E F8    	ld	l,(ix-8)
3492  1123  DD 66 F9    	ld	h,(ix-7)
3493  1126  7E          	ld	a, (hl)
3494  1127  D6 03       	sub	a,0x03
3495  1129  20 46       	jr	NZ,l_spr_play_bullets_00112
3496  112B  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3497  112D  DD 86 F5    	add	a,(ix-11)
3498  1130  6F          	ld	l, a
3499  1131  3E 00       	ld	a, +((_bullet_lin0) / 256)
3500  1133  CE 00       	adc	a,0x00
3501  1135  67          	ld	h, a
3502  1136  4E          	ld	c, (hl)
3503  1137  06 00       	ld	b,0x00
3504  1139  3A 00 00    	ld	a,(_s_lin0)
3505  113C  5F          	ld	e,a
3506  113D  16 00       	ld	d,0x00
3507  113F  79          	ld	a, c
3508  1140  93          	sub	a, e
3509  1141  4F          	ld	c, a
3510  1142  78          	ld	a, b
3511  1143  9A          	sbc	a, d
3512  1144  47          	ld	b, a
3513  1145  3E 08       	ld	a,0x08
3514  1147  B9          	cp	a, c
3515  1148  3E 00       	ld	a,0x00
3516  114A  98          	sbc	a, b
3517  114B  E2 50 11    	jp	PO, l_spr_play_bullets_00415
3518  114E  EE 80       	xor	a,0x80
3519  1150              l_spr_play_bullets_00415:
3520  1150  FA 69 11    	jp	M, l_spr_play_bullets_00109
3521  1153  DD 6E FA    	ld	l,(ix-6)
3522  1156  DD 66 FB    	ld	h,(ix-5)
3523  1159  4E          	ld	c, (hl)
3524  115A  0D          	dec	c
3525  115B  0D          	dec	c
3526  115C  DD 6E FA    	ld	l,(ix-6)
3527  115F  DD 66 FB    	ld	h,(ix-5)
3528  1162  71          	ld	(hl), c
3529  1163  21 00 00    	ld	hl,_s_lin0
3530  1166  71          	ld	(hl), c
3531  1167  18 08       	jr	l_spr_play_bullets_00112
3532  1169              l_spr_play_bullets_00109:
3533  1169  DD 6E F8    	ld	l,(ix-8)
3534  116C  DD 66 F9    	ld	h,(ix-7)
3535  116F  36 02       	ld	(hl),0x02
3536  1171              l_spr_play_bullets_00112:
3537  1171  DD 6E F8    	ld	l,(ix-8)
3538  1174  DD 66 F9    	ld	h,(ix-7)
3539  1177  7E          	ld	a, (hl)
3540  1178  D6 04       	sub	a,0x04
3541  117A  C2 00 12    	jp	NZ,l_spr_play_bullets_00125
3542  117D  DD 6E FA    	ld	l,(ix-6)
3543  1180  DD 66 FB    	ld	h,(ix-5)
3544  1183  7E          	ld	a, (hl)
3545  1184  32 00 00    	ld	(_s_lin0),a
3546  1187  DD 6E FD    	ld	l,(ix-3)
3547  118A  DD 66 FE    	ld	h,(ix-2)
3548  118D  7E          	ld	a, (hl)
3549  118E  C6 FF       	add	a,0xff
3550  1190  32 00 00    	ld	(_s_col0),a
3551  1193  D6 20       	sub	a,0x20
3552  1195  30 03       	jr	NC,l_spr_play_bullets_00114
3553  1197  CD A6 0C    	call	_spr_back_repaint
3554  119A              l_spr_play_bullets_00114:
3555  119A  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3556  119C  DD 86 F5    	add	a,(ix-11)
3557  119F  4F          	ld	c, a
3558  11A0  3E 00       	ld	a, +((_bullet_vel) / 256)
3559  11A2  CE 00       	adc	a,0x00
3560  11A4  47          	ld	b, a
3561  11A5  0A          	ld	a, (bc)
3562  11A6  5F          	ld	e, a
3563  11A7  21 00 00    	ld	hl,_game_gravity
3564  11AA  56          	ld	d, (hl)
3565  11AB  7B          	ld	a, e
3566  11AC  82          	add	a, d
3567  11AD  5F          	ld	e,a
3568  11AE  02          	ld	(bc), a
3569  11AF  3E 78       	ld	a,0x78
3570  11B1  93          	sub	a, e
3571  11B2  E2 B7 11    	jp	PO, l_spr_play_bullets_00418
3572  11B5  EE 80       	xor	a,0x80
3573  11B7              l_spr_play_bullets_00418:
3574  11B7  F2 BD 11    	jp	P, l_spr_play_bullets_00116
3575  11BA  3E 78       	ld	a,0x78
3576  11BC  02          	ld	(bc), a
3577  11BD              l_spr_play_bullets_00116:
3578  11BD  0A          	ld	a, (bc)
3579  11BE  EE 80       	xor	a,0x80
3580  11C0  D6 08       	sub	a,0x08
3581  11C2  30 03       	jr	NC,l_spr_play_bullets_00118
3582  11C4  3E 88       	ld	a,0x88
3583  11C6  02          	ld	(bc), a
3584  11C7              l_spr_play_bullets_00118:
3585  11C7  0A          	ld	a, (bc)
3586  11C8  CB 47       	bit	0,a
3587  11CA  32 00 00    	ld	(_s_lin1),a
3588  11CD  28 04       	jr	Z,l_spr_play_bullets_00120
3589  11CF  21 00 00    	ld	hl,_s_lin1
3590  11D2  35          	dec	(hl)
3591  11D3              l_spr_play_bullets_00120:
3592  11D3  DD 6E FA    	ld	l,(ix-6)
3593  11D6  DD 66 FB    	ld	h,(ix-5)
3594  11D9  7E          	ld	a, (hl)
3595  11DA  21 00 00    	ld	hl,_s_lin1
3596  11DD  86          	add	a, (hl)
3597  11DE  21 00 00    	ld	hl,_s_lin0
3598  11E1  77          	ld	(hl), a
3599  11E2  3E 90       	ld	a,0x90
3600  11E4  96          	sub	a, (hl)
3601  11E5  30 0F       	jr	NC,l_spr_play_bullets_00122
3602  11E7  21 00 00    	ld	hl,_bullet_count
3603  11EA  35          	dec	(hl)
3604  11EB  DD 6E FD    	ld	l,(ix-3)
3605  11EE  DD 66 FE    	ld	h,(ix-2)
3606  11F1  36 FF       	ld	(hl),0xff
3607  11F3  C3 29 16    	jp	l_spr_play_bullets_00192
3608  11F6              l_spr_play_bullets_00122:
3609  11F6  DD 6E FA    	ld	l,(ix-6)
3610  11F9  DD 66 FB    	ld	h,(ix-5)
3611  11FC  3A 00 00    	ld	a,(_s_lin0)
3612  11FF  77          	ld	(hl),a
3613  1200              l_spr_play_bullets_00125:
3614  1200  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3615  1202  DD 86 F5    	add	a,(ix-11)
3616  1205  6F          	ld	l, a
3617  1206  3E 00       	ld	a, +((_bullet_dir) / 256)
3618  1208  CE 00       	adc	a,0x00
3619  120A  67          	ld	h, a
3620  120B  4E          	ld	c, (hl)
3621  120C  0C          	inc	c
3622  120D  20 3D       	jr	NZ,l_spr_play_bullets_00135
3623  120F  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3624  1211  DD 86 F5    	add	a,(ix-11)
3625  1214  4F          	ld	c, a
3626  1215  3E 00       	ld	a, +((_bullet_colint) / 256)
3627  1217  CE 00       	adc	a,0x00
3628  1219  47          	ld	b, a
3629  121A  0A          	ld	a, (bc)
3630  121B  3C          	inc	a
3631  121C  5F          	ld	e,a
3632  121D  02          	ld	(bc), a
3633  121E  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3634  1220  DD 86 F5    	add	a,(ix-11)
3635  1223  6F          	ld	l, a
3636  1224  3E 00       	ld	a, +((_bullet_frames) / 256)
3637  1226  CE 00       	adc	a,0x00
3638  1228  67          	ld	h, a
3639  1229  56          	ld	d, (hl)
3640  122A  7B          	ld	a, e
3641  122B  92          	sub	a, d
3642  122C  38 63       	jr	C,l_spr_play_bullets_00136
3643  122E  DD 6E FD    	ld	l,(ix-3)
3644  1231  DD 66 FE    	ld	h,(ix-2)
3645  1234  7E          	ld	a, (hl)
3646  1235  3C          	inc	a
3647  1236  DD 77 F4    	ld	(ix-12),a
3648  1239  AF          	xor	a, a
3649  123A  02          	ld	(bc), a
3650  123B  DD 7E F4    	ld	a,(ix-12)
3651  123E  E6 01       	and	a,0x01
3652  1240  3D          	dec	a
3653  1241  20 4E       	jr	NZ,l_spr_play_bullets_00136
3654  1243  DD 7E F4    	ld	a,(ix-12)
3655  1246  3C          	inc	a
3656  1247  32 00 00    	ld	(_s_col0),a
3657  124A  18 45       	jr	l_spr_play_bullets_00136
3658  124C              l_spr_play_bullets_00135:
3659  124C  01 00 00    	ld	bc,_bullet_colint
3660  124F  DD 6E F5    	ld	l,(ix-11)
3661  1252  26 00       	ld	h,0x00
3662  1254  09          	add	hl,bc
3663  1255  DD 75 F6    	ld	(ix-10),l
3664  1258  DD 74 F7    	ld	(ix-9),h
3665  125B  4E          	ld	c,(hl)
3666  125C  0D          	dec	c
3667  125D  71          	ld	(hl), c
3668  125E  0C          	inc	c
3669  125F  20 30       	jr	NZ,l_spr_play_bullets_00136
3670  1261  DD 6E FD    	ld	l,(ix-3)
3671  1264  DD 66 FE    	ld	h,(ix-2)
3672  1267  7E          	ld	a, (hl)
3673  1268  C6 FF       	add	a,0xff
3674  126A  DD 77 F4    	ld	(ix-12),a
3675  126D  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3676  126F  DD 86 F5    	add	a,(ix-11)
3677  1272  6F          	ld	l, a
3678  1273  3E 00       	ld	a, +((_bullet_frames) / 256)
3679  1275  CE 00       	adc	a,0x00
3680  1277  67          	ld	h, a
3681  1278  4E          	ld	c, (hl)
3682  1279  0D          	dec	c
3683  127A  DD 6E F6    	ld	l,(ix-10)
3684  127D  DD 66 F7    	ld	h,(ix-9)
3685  1280  71          	ld	(hl), c
3686  1281  DD 7E F4    	ld	a,(ix-12)
3687  1284  E6 01       	and	a,0x01
3688  1286  3D          	dec	a
3689  1287  20 08       	jr	NZ,l_spr_play_bullets_00136
3690  1289  DD 7E F4    	ld	a,(ix-12)
3691  128C  C6 FF       	add	a,0xff
3692  128E  32 00 00    	ld	(_s_col0),a
3693  1291              l_spr_play_bullets_00136:
3694  1291  21 00 00    	ld	hl,_tmp1
3695  1294  36 00       	ld	(hl),0x00
3696  1296  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3697  1298  DD 86 F5    	add	a,(ix-11)
3698  129B  4F          	ld	c, a
3699  129C  3E 00       	ld	a, +((_bullet_max) / 256)
3700  129E  CE 00       	adc	a,0x00
3701  12A0  47          	ld	b, a
3702  12A1  0A          	ld	a, (bc)
3703  12A2  B7          	or	a, a
3704  12A3  28 27       	jr	Z,l_spr_play_bullets_00140
3705  12A5  DD 5E F4    	ld	e,(ix-12)
3706  12A8  16 00       	ld	d,0x00
3707  12AA  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3708  12AC  DD 86 F5    	add	a,(ix-11)
3709  12AF  6F          	ld	l, a
3710  12B0  3E 00       	ld	a, +((_bullet_col0) / 256)
3711  12B2  CE 00       	adc	a,0x00
3712  12B4  67          	ld	h, a
3713  12B5  6E          	ld	l, (hl)
3714  12B6  AF          	xor	a,a
3715  12B7  67          	ld	h,a
3716  12B8  EB          	ex	de,hl
3717  12B9  ED 52       	sbc	hl,de
3718  12BB  CD 00 00    	call	_abs_fastcall
3719  12BE  5D          	ld	e, l
3720  12BF  21 00 00    	ld	hl,_tmp0
3721  12C2  73          	ld	(hl), e
3722  12C3  0A          	ld	a, (bc)
3723  12C4  96          	sub	a, (hl)
3724  12C5  30 05       	jr	NC,l_spr_play_bullets_00140
3725  12C7  21 00 00    	ld	hl,_tmp1
3726  12CA  36 01       	ld	(hl),0x01
3727  12CC              l_spr_play_bullets_00140:
3728  12CC  DD 7E F4    	ld	a,(ix-12)
3729  12CF  D6 1E       	sub	a,0x1e
3730  12D1  38 05       	jr	C,l_spr_play_bullets_00142
3731  12D3  21 00 00    	ld	hl,_tmp1
3732  12D6  36 01       	ld	(hl),0x01
3733  12D8              l_spr_play_bullets_00142:
3734  12D8  3A 00 00    	ld	a,(_tmp1)
3735  12DB  B7          	or	a, a
3736  12DC  28 0F       	jr	Z,l_spr_play_bullets_00144
3737  12DE  21 00 00    	ld	hl,_bullet_count
3738  12E1  35          	dec	(hl)
3739  12E2  DD 6E FD    	ld	l,(ix-3)
3740  12E5  DD 66 FE    	ld	h,(ix-2)
3741  12E8  36 FF       	ld	(hl),0xff
3742  12EA  C3 29 16    	jp	l_spr_play_bullets_00192
3743  12ED              l_spr_play_bullets_00144:
3744  12ED  DD 7E FD    	ld	a,(ix-3)
3745  12F0  DD 77 F6    	ld	(ix-10),a
3746  12F3  DD 7E FE    	ld	a,(ix-2)
3747  12F6  DD 77 F7    	ld	(ix-9),a
3748  12F9  DD 6E FD    	ld	l,(ix-3)
3749  12FC  DD 66 FE    	ld	h,(ix-2)
3750  12FF  DD 7E F4    	ld	a,(ix-12)
3751  1302  96          	sub	a,(hl)
3752  1303  CA ED 15    	jp	Z,l_spr_play_bullets_00187
3753  1306  3A 00 00    	ld	a,(_s_lin0)
3754  1309  C6 08       	add	a,0x08
3755  130B  4F          	ld	c, a
3756  130C  3A 00 00    	ld	a, (_s_col0)
3757  130F  47          	ld	b,a
3758  1310  C5          	push	bc
3759  1311  CD 00 00    	call	_spr_calc_index
3760  1314  F1          	pop	af
3761  1315  22 00 00    	ld	(_index0),hl
3762  1318  01 00 00    	ld	bc,_scr_map
3763  131B  09          	add	hl,bc
3764  131C  4D          	ld	c,l
3765  131D  44          	ld	b,h
3766  131E  6E          	ld	l, (hl)
3767  131F  DD 7E F5    	ld	a,(ix-11)
3768  1322  D6 07       	sub	a,0x07
3769  1324  20 04       	jr	NZ,l_spr_play_bullets_00429
3770  1326  3E 01       	ld	a,0x01
3771  1328  18 01       	jr	l_spr_play_bullets_00430
3772  132A              l_spr_play_bullets_00429:
3773  132A  AF          	xor	a,a
3774  132B              l_spr_play_bullets_00430:
3775  132B  5F          	ld	e, a
3776  132C  7D          	ld	a, l
3777  132D  D6 4D       	sub	a,0x4d
3778  132F  20 47       	jr	NZ,l_spr_play_bullets_00146
3779  1331  B3          	or	a,e
3780  1332  28 44       	jr	Z,l_spr_play_bullets_00146
3781  1334  2A 00 00    	ld	hl,(_index0)
3782  1337  C5          	push	bc
3783  1338  E5          	push	hl
3784  1339  CD 00 00    	call	_game_match_back
3785  133C  F1          	pop	af
3786  133D  C1          	pop	bc
3787  133E  7D          	ld	a,l
3788  133F  02          	ld	(bc), a
3789  1340  2A 00 00    	ld	hl,(_index0)
3790  1343  E5          	push	hl
3791  1344  CD 00 00    	call	_game_obj_set
3792  1347  F1          	pop	af
3793  1348  2A 00 00    	ld	hl,(_index0)
3794  134B  4D          	ld	c,l
3795  134C  5C          	ld	e,h
3796  134D  06 04       	ld	b,0x04
3797  134F  79          	ld	a,c
3798  1350              l_spr_play_bullets_00433:
3799  1350  CB 3B       	srl	e
3800  1352  1F          	rra
3801  1353  10 FB       	djnz	l_spr_play_bullets_00433
3802  1355  07          	rlca
3803  1356  07          	rlca
3804  1357  07          	rlca
3805  1358  07          	rlca
3806  1359  E6 F0       	and	a,0xf0
3807  135B  DD 6E FA    	ld	l,(ix-6)
3808  135E  DD 66 FB    	ld	h,(ix-5)
3809  1361  77          	ld	(hl), a
3810  1362  3A 00 00    	ld	a,(_index0)
3811  1365  E6 0F       	and	a,0x0f
3812  1367  87          	add	a, a
3813  1368  DD 6E FD    	ld	l,(ix-3)
3814  136B  DD 66 FE    	ld	h,(ix-2)
3815  136E  77          	ld	(hl), a
3816  136F  DD 6E F5    	ld	l,(ix-11)
3817  1372  CD 3C 16    	call	_spr_explode_bullet
3818  1375  C3 29 16    	jp	l_spr_play_bullets_00192
3819  1378              l_spr_play_bullets_00146:
3820  1378  7D          	ld	a, l
3821  1379  D6 48       	sub	a,0x48
3822  137B  38 0C       	jr	C,l_spr_play_bullets_00149
3823  137D  2C          	inc	l
3824  137E  28 09       	jr	Z,l_spr_play_bullets_00149
3825  1380  DD 6E F5    	ld	l,(ix-11)
3826  1383  CD 3C 16    	call	_spr_explode_bullet
3827  1386  C3 29 16    	jp	l_spr_play_bullets_00192
3828  1389              l_spr_play_bullets_00149:
3829  1389  DD 6E FD    	ld	l,(ix-3)
3830  138C  DD 66 FE    	ld	h,(ix-2)
3831  138F  DD 7E F4    	ld	a,(ix-12)
3832  1392  77          	ld	(hl), a
3833  1393  DD 6E F8    	ld	l,(ix-8)
3834  1396  DD 66 F9    	ld	h,(ix-7)
3835  1399  7E          	ld	a, (hl)
3836  139A  D6 04       	sub	a,0x04
3837  139C  20 19       	jr	NZ,l_spr_play_bullets_00152
3838  139E  21 00 00    	ld	hl,_s_lin0
3839  13A1  7E          	ld	a, (hl)
3840  13A2  C6 F0       	add	a,0xf0
3841  13A4  4F          	ld	c, a
3842  13A5  7E          	ld	a, (hl)
3843  13A6  C6 10       	add	a,0x10
3844  13A8  DD 77 F3    	ld	(ix-13),a
3845  13AB  DD 35 F4    	dec	(ix-12)
3846  13AE  DD 7E F4    	ld	a,(ix-12)
3847  13B1  3C          	inc	a
3848  13B2  DD 77 F2    	ld	(ix-14),a
3849  13B5  18 14       	jr	l_spr_play_bullets_00153
3850  13B7              l_spr_play_bullets_00152:
3851  13B7  21 00 00    	ld	hl,_s_lin0
3852  13BA  7E          	ld	a, (hl)
3853  13BB  C6 F8       	add	a,0xf8
3854  13BD  4F          	ld	c, a
3855  13BE  7E          	ld	a, (hl)
3856  13BF  C6 08       	add	a,0x08
3857  13C1  DD 77 F3    	ld	(ix-13),a
3858  13C4  DD 7E F4    	ld	a,(ix-12)
3859  13C7  3C          	inc	a
3860  13C8  DD 77 F2    	ld	(ix-14),a
3861  13CB              l_spr_play_bullets_00153:
3862  13CB  7B          	ld	a, e
3863  13CC  B7          	or	a, a
3864  13CD  CA B5 15    	jp	Z, l_spr_play_bullets_00184
3865  13D0  21 00 00    	ld	hl,_tmp0
3866  13D3  36 00       	ld	(hl),0x00
3867  13D5              l_spr_play_bullets_00194:
3868  13D5  2A 00 00    	ld	hl,(_tmp0)
3869  13D8  26 00       	ld	h,0x00
3870  13DA  11 00 00    	ld	de,_class
3871  13DD  19          	add	hl,de
3872  13DE  7E          	ld	a,(hl)
3873  13DF  B7          	or	a,a
3874  13E0  CA 80 14    	jp	Z,l_spr_play_bullets_00195
3875  13E3  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3876  13E6  3C          	inc	a
3877  13E7  CA 80 14    	jp	Z,l_spr_play_bullets_00195
3878  13EA  2A 00 00    	ld	hl,(_tmp0)
3879  13ED  26 00       	ld	h,0x00
3880  13EF  11 00 00    	ld	de,_lin
3881  13F2  19          	add	hl,de
3882  13F3  7E          	ld	a,(hl)
3883  13F4  47          	ld	b,a
3884  13F5  91          	sub	a,c
3885  13F6  DA 80 14    	jp	C,l_spr_play_bullets_00195
3886  13F9  21 00 00    	ld	hl,_tmp0
3887  13FC  DD 7E F3    	ld	a,(ix-13)
3888  13FF  90          	sub	a, b
3889  1400  DA 80 14    	jp	C, l_spr_play_bullets_00195
3890  1403  5E          	ld	e,(hl)
3891  1404  16 00       	ld	d,0x00
3892  1406  21 00 00    	ld	hl,_col
3893  1409  19          	add	hl,de
3894  140A  7E          	ld	a,(hl)
3895  140B  5F          	ld	e,a
3896  140C  DD 96 F4    	sub	a,(ix-12)
3897  140F  38 6F       	jr	C,l_spr_play_bullets_00195
3898  1411  DD 7E F2    	ld	a,(ix-14)
3899  1414  93          	sub	a, e
3900  1415  38 69       	jr	C,l_spr_play_bullets_00195
3901  1417  21 00 00    	ld	hl,_s_lin0
3902  141A  70          	ld	(hl), b
3903  141B  21 00 00    	ld	hl,_s_col0
3904  141E  73          	ld	(hl), e
3905  141F  C5          	push	bc
3906  1420  CD 00 00    	call	_rand
3907  1423  11 06 00    	ld	de,0x0006
3908  1426  D5          	push	de
3909  1427  E5          	push	hl
3910  1428  CD 00 00    	call	__modsint_callee
3911  142B  CD 00 00    	call	_player_score_add
3912  142E  C1          	pop	bc
3913  142F  2A 00 00    	ld	hl,(_tmp0)
3914  1432  26 00       	ld	h,0x00
3915  1434  29          	add	hl,hl
3916  1435  11 00 00    	ld	de,_game_respawn_time
3917  1438  19          	add	hl, de
3918  1439  DD 75 F8    	ld	(ix-8),l
3919  143C  DD 74 F9    	ld	(ix-7),h
3920  143F  ED 5B 00 00 	ld	de,(_curr_time)
3921  1443  73          	ld	(hl), e
3922  1444  23          	inc	hl
3923  1445  72          	ld	(hl), d
3924  1446  2A 00 00    	ld	hl,(_tmp0)
3925  1449  C5          	push	bc
3926  144A  CD 12 09    	call	_spr_destroy
3927  144D  C1          	pop	bc
3928  144E  2A 00 00    	ld	hl,(_tmp0)
3929  1451  26 00       	ld	h,0x00
3930  1453  11 00 00    	ld	de,_bullet_col
3931  1456  19          	add	hl,de
3932  1457  7E          	ld	a,(hl)
3933  1458  47          	ld	b,a
3934  1459  3C          	inc	a
3935  145A  28 17       	jr	Z,l_spr_play_bullets_00155
3936  145C  3A 00 00    	ld	a,(_tmp0)
3937  145F  5F          	ld	e,a
3938  1460  16 00       	ld	d,0x00
3939  1462  21 00 00    	ld	hl,_bullet_lin
3940  1465  19          	add	hl,de
3941  1466  7E          	ld	a,(hl)
3942  1467  32 00 00    	ld	(_s_lin0),a
3943  146A  21 00 00    	ld	hl,_s_col0
3944  146D  70          	ld	(hl), b
3945  146E  C5          	push	bc
3946  146F  CD A6 0C    	call	_spr_back_repaint
3947  1472  C1          	pop	bc
3948  1473              l_spr_play_bullets_00155:
3949  1473  3A 00 00    	ld	a,(_s_col0)
3950  1476  32 07 00    	ld	((_bullet_col + 0x0007)),a
3951  1479  C5          	push	bc
3952  147A  2E 07       	ld	l,0x07
3953  147C  CD 3C 16    	call	_spr_explode_bullet
3954  147F  C1          	pop	bc
3955  1480              l_spr_play_bullets_00195:
3956  1480  21 00 00    	ld	hl,_tmp0
3957  1483  7E          	ld	a,(hl)
3958  1484  3C          	inc	a
3959  1485  77          	ld	(hl),a
3960  1486  D6 07       	sub	a,0x07
3961  1488  DA D5 13    	jp	C, l_spr_play_bullets_00194
3962  148B  3A 00 00    	ld	a,(_game_boss)
3963  148E  B7          	or	a, a
3964  148F  CA ED 15    	jp	Z, l_spr_play_bullets_00187
3965  1492  21 00 00    	ld	hl,_boss_lin
3966  1495  7E          	ld	a, (hl)
3967  1496  91          	sub	a, c
3968  1497  38 06       	jr	C,l_spr_play_bullets_00173
3969  1499  DD 7E F3    	ld	a,(ix-13)
3970  149C  96          	sub	a, (hl)
3971  149D  30 28       	jr	NC,l_spr_play_bullets_00174
3972  149F              l_spr_play_bullets_00173:
3973  149F  3A 00 00    	ld	a,(_boss_lin)
3974  14A2  5F          	ld	e,a
3975  14A3  16 00       	ld	d,0x00
3976  14A5  21 10 00    	ld	hl,0x0010
3977  14A8  19          	add	hl, de
3978  14A9  06 00       	ld	b,0x00
3979  14AB  7D          	ld	a, l
3980  14AC  91          	sub	a, c
3981  14AD  7C          	ld	a, h
3982  14AE  98          	sbc	a, b
3983  14AF  E2 B4 14    	jp	PO, l_spr_play_bullets_00441
3984  14B2  EE 80       	xor	a,0x80
3985  14B4              l_spr_play_bullets_00441:
3986  14B4  FA ED 15    	jp	M, l_spr_play_bullets_00187
3987  14B7  DD 7E F3    	ld	a,(ix-13)
3988  14BA  06 00       	ld	b,0x00
3989  14BC  95          	sub	a, l
3990  14BD  78          	ld	a, b
3991  14BE  9C          	sbc	a, h
3992  14BF  E2 C4 14    	jp	PO, l_spr_play_bullets_00442
3993  14C2  EE 80       	xor	a,0x80
3994  14C4              l_spr_play_bullets_00442:
3995  14C4  FA ED 15    	jp	M, l_spr_play_bullets_00187
3996  14C7              l_spr_play_bullets_00174:
3997  14C7  21 00 00    	ld	hl,_boss_col
3998  14CA  7E          	ld	a, (hl)
3999  14CB  DD 96 F4    	sub	a,(ix-12)
4000  14CE  DA ED 15    	jp	C, l_spr_play_bullets_00187
4001  14D1  DD 7E F2    	ld	a,(ix-14)
4002  14D4  96          	sub	a, (hl)
4003  14D5  DA ED 15    	jp	C, l_spr_play_bullets_00187
4004  14D8  DD 6E F5    	ld	l,(ix-11)
4005  14DB  CD 3C 16    	call	_spr_explode_bullet
4006  14DE  21 00 00    	ld	hl,_game_boss_hit
4007  14E1  35          	dec	(hl)
4008  14E2  CD 00 00    	call	_game_update_stats
4009  14E5  3A 00 00    	ld	a,(_game_boss_hit)
4010  14E8  B7          	or	a, a
4011  14E9  C2 ED 15    	jp	NZ, l_spr_play_bullets_00187
4012  14EC  21 00 00    	ld	hl,_game_boss
4013  14EF  36 00       	ld	(hl),0x00
4014  14F1  21 00 00    	ld	hl,_game_boss_alive
4015  14F4  36 00       	ld	(hl),0x00
4016  14F6  3A 00 00    	ld	a,(_boss_col)
4017  14F9  21 00 00    	ld	hl,0x0000
4018  14FC  E5          	push	hl
4019  14FD  21 87 03    	ld	hl,0x0387
4020  1500  E5          	push	hl
4021  1501  F5          	push	af
4022  1502  33          	inc	sp
4023  1503  3A 00 00    	ld	a,(_boss_lin)
4024  1506  F5          	push	af
4025  1507  33          	inc	sp
4026  1508  CD 72 0E    	call	_spr_add_anim
4027  150B  F1          	pop	af
4028  150C  F1          	pop	af
4029  150D  F1          	pop	af
4030  150E  21 00 00    	ld	hl,_boss_col
4031  1511  46          	ld	b, (hl)
4032  1512  04          	inc	b
4033  1513  04          	inc	b
4034  1514  21 00 00    	ld	hl,0x0000
4035  1517  E5          	push	hl
4036  1518  21 87 03    	ld	hl,0x0387
4037  151B  E5          	push	hl
4038  151C  C5          	push	bc
4039  151D  33          	inc	sp
4040  151E  3A 00 00    	ld	a,(_boss_lin)
4041  1521  F5          	push	af
4042  1522  33          	inc	sp
4043  1523  CD 72 0E    	call	_spr_add_anim
4044  1526  F1          	pop	af
4045  1527  F1          	pop	af
4046  1528  F1          	pop	af
4047  1529  3A 00 00    	ld	a,(_boss_lin)
4048  152C  C6 10       	add	a,0x10
4049  152E  47          	ld	b, a
4050  152F  3A 00 00    	ld	a,(_boss_col)
4051  1532  21 00 00    	ld	hl,0x0000
4052  1535  E5          	push	hl
4053  1536  21 87 03    	ld	hl,0x0387
4054  1539  E5          	push	hl
4055  153A  48          	ld	c,b
4056  153B  47          	ld	b,a
4057  153C  C5          	push	bc
4058  153D  CD 72 0E    	call	_spr_add_anim
4059  1540  F1          	pop	af
4060  1541  F1          	pop	af
4061  1542  F1          	pop	af
4062  1543  21 00 00    	ld	hl,_boss_col
4063  1546  46          	ld	b, (hl)
4064  1547  04          	inc	b
4065  1548  04          	inc	b
4066  1549  3A 00 00    	ld	a,(_boss_lin)
4067  154C  C6 10       	add	a,0x10
4068  154E  57          	ld	d, a
4069  154F  21 00 00    	ld	hl,0x0000
4070  1552  E5          	push	hl
4071  1553  21 87 03    	ld	hl,0x0387
4072  1556  E5          	push	hl
4073  1557  4A          	ld	c, d
4074  1558  C5          	push	bc
4075  1559  CD 72 0E    	call	_spr_add_anim
4076  155C  F1          	pop	af
4077  155D  F1          	pop	af
4078  155E  F1          	pop	af
4079  155F  21 00 00    	ld	hl,_tmp0
4080  1562  36 00       	ld	(hl),0x00
4081  1564              l_spr_play_bullets_00196:
4082  1564  2A 00 00    	ld	hl,(_tmp0)
4083  1567  26 00       	ld	h,0x00
4084  1569  01 00 00    	ld	bc,_bullet_col
4085  156C  09          	add	hl,bc
4086  156D  7E          	ld	a,(hl)
4087  156E  4F          	ld	c,a
4088  156F  3C          	inc	a
4089  1570  28 15       	jr	Z,l_spr_play_bullets_00165
4090  1572  3A 00 00    	ld	a,(_tmp0)
4091  1575  5F          	ld	e,a
4092  1576  16 00       	ld	d,0x00
4093  1578  21 00 00    	ld	hl,_bullet_lin
4094  157B  19          	add	hl,de
4095  157C  7E          	ld	a,(hl)
4096  157D  32 00 00    	ld	(_s_lin0),a
4097  1580  21 00 00    	ld	hl,_s_col0
4098  1583  71          	ld	(hl), c
4099  1584  CD A6 0C    	call	_spr_back_repaint
4100  1587              l_spr_play_bullets_00165:
4101  1587  2A 00 00    	ld	hl,(_tmp0)
4102  158A  26 00       	ld	h,0x00
4103  158C  01 00 00    	ld	bc,_bullet_col
4104  158F  09          	add	hl,bc
4105  1590  36 FF       	ld	(hl),0xff
4106  1592  2A 00 00    	ld	hl,(_tmp0)
4107  1595  CD 12 09    	call	_spr_destroy
4108  1598  2A 00 00    	ld	hl,(_tmp0)
4109  159B  26 00       	ld	h,0x00
4110  159D  29          	add	hl, hl
4111  159E  11 00 00    	ld	de,_game_respawn_time
4112  15A1  19          	add	hl, de
4113  15A2  AF          	xor	a, a
4114  15A3  77          	ld	(hl), a
4115  15A4  23          	inc	hl
4116  15A5  77          	ld	(hl), a
4117  15A6  21 00 00    	ld	hl,_tmp0
4118  15A9  7E          	ld	a,(hl)
4119  15AA  3C          	inc	a
4120  15AB  77          	ld	(hl),a
4121  15AC  D6 07       	sub	a,0x07
4122  15AE  38 B4       	jr	C,l_spr_play_bullets_00196
4123  15B0  CD 00 00    	call	_game_boss_clear
4124  15B3  18 38       	jr	l_spr_play_bullets_00187
4125  15B5              l_spr_play_bullets_00184:
4126  15B5  3A 07 00    	ld	a,(_lin + 7)
4127  15B8  47          	ld	b,a
4128  15B9  91          	sub	a, c
4129  15BA  38 31       	jr	C,l_spr_play_bullets_00187
4130  15BC  DD 7E F3    	ld	a,(ix-13)
4131  15BF  90          	sub	a, b
4132  15C0  38 2B       	jr	C,l_spr_play_bullets_00187
4133  15C2  3A 07 00    	ld	a,(_col + 7)
4134  15C5  4F          	ld	c,a
4135  15C6  DD 96 F4    	sub	a,(ix-12)
4136  15C9  38 22       	jr	C,l_spr_play_bullets_00187
4137  15CB  DD 7E F2    	ld	a,(ix-14)
4138  15CE  91          	sub	a, c
4139  15CF  38 1C       	jr	C,l_spr_play_bullets_00187
4140  15D1  2E 03       	ld	l,0x03
4141  15D3  CD 00 00    	call	_zx_border_fastcall
4142  15D6  2E 0A       	ld	l,0x0a
4143  15D8  CD 00 00    	call	_player_hit
4144  15DB  DD 6E FD    	ld	l,(ix-3)
4145  15DE  DD 66 FE    	ld	h,(ix-2)
4146  15E1  3A 00 00    	ld	a,(_s_col0)
4147  15E4  77          	ld	(hl),a
4148  15E5  DD 6E FF    	ld	l,(ix-1)
4149  15E8  CD 3C 16    	call	_spr_explode_bullet
4150  15EB  18 4A       	jr	l_spr_play_bullets_00199
4151  15ED              l_spr_play_bullets_00187:
4152  15ED  DD 6E F6    	ld	l,(ix-10)
4153  15F0  DD 66 F7    	ld	h,(ix-9)
4154  15F3  4E          	ld	c, (hl)
4155  15F4  0C          	inc	c
4156  15F5  28 32       	jr	Z,l_spr_play_bullets_00192
4157  15F7  DD 7E F4    	ld	a,(ix-12)
4158  15FA  D6 20       	sub	a,0x20
4159  15FC  30 2B       	jr	NC,l_spr_play_bullets_00192
4160  15FE  F3          	di
4161  15FF  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4162  1601  DD 86 F5    	add	a,(ix-11)
4163  1604  6F          	ld	l, a
4164  1605  3E 00       	ld	a, +((_bullet_tile) / 256)
4165  1607  CE 00       	adc	a,0x00
4166  1609  67          	ld	h, a
4167  160A  4E          	ld	c, (hl)
4168  160B  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4169  160D  DD 86 F5    	add	a,(ix-11)
4170  1610  6F          	ld	l, a
4171  1611  3E 00       	ld	a, +((_bullet_colint) / 256)
4172  1613  CE 00       	adc	a,0x00
4173  1615  67          	ld	h, a
4174  1616  46          	ld	b, (hl)
4175  1617  79          	ld	a, c
4176  1618  80          	add	a, b
4177  1619  47          	ld	b, a
4178  161A  DD 7E F4    	ld	a,(ix-12)
4179  161D  F5          	push	af
4180  161E  33          	inc	sp
4181  161F  3A 00 00    	ld	a,(_s_lin0)
4182  1622  48          	ld	c,b
4183  1623  47          	ld	b,a
4184  1624  C5          	push	bc
4185  1625  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4186  1628  FB          	ei
4187  1629              l_spr_play_bullets_00192:
4188  1629  DD 34 F5    	inc	(ix-11)
4189  162C  DD 7E F5    	ld	a,(ix-11)
4190  162F  DD 77 FF    	ld	(ix-1),a
4191  1632  D6 08       	sub	a,0x08
4192  1634  DA 90 10    	jp	C, l_spr_play_bullets_00198
4193  1637              l_spr_play_bullets_00199:
4194  1637  DD F9       	ld	sp, ix
4195  1639  DD E1       	pop	ix
4196  163B  C9          	ret
4197  163C              	SECTION code_compiler
4198  163C              ;	---------------------------------
4199  163C              ; Function spr_explode_bullet
4200  163C              ; ---------------------------------
4201  163C              _spr_explode_bullet:
4202  163C  5D          	ld	e, l
4203  163D  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4204  163F  83          	add	a, e
4205  1640  4F          	ld	c, a
4206  1641  3E 00       	ld	a, +((_bullet_col) / 256)
4207  1643  CE 00       	adc	a,0x00
4208  1645  47          	ld	b, a
4209  1646  0A          	ld	a, (bc)
4210  1647  57          	ld	d, a
4211  1648  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4212  164A  83          	add	a, e
4213  164B  6F          	ld	l, a
4214  164C  3E 00       	ld	a, +((_bullet_lin) / 256)
4215  164E  CE 00       	adc	a,0x00
4216  1650  67          	ld	h, a
4217  1651  5E          	ld	e, (hl)
4218  1652  C5          	push	bc
4219  1653  21 00 00    	ld	hl,0x0000
4220  1656  E5          	push	hl
4221  1657  21 87 03    	ld	hl,0x0387
4222  165A  E5          	push	hl
4223  165B  D5          	push	de
4224  165C  CD 72 0E    	call	_spr_add_anim
4225  165F  F1          	pop	af
4226  1660  F1          	pop	af
4227  1661  F1          	pop	af
4228  1662  C1          	pop	bc
4229  1663  21 00 00    	ld	hl,_bullet_count
4230  1666  35          	dec	(hl)
4231  1667  3E FF       	ld	a,0xff
4232  1669  02          	ld	(bc), a
4233  166A  C9          	ret
4234  166B              	SECTION code_compiler
4235  166B              ;	---------------------------------
4236  166B              ; Function spr_turn_horizontal
4237  166B              ; ---------------------------------
4238  166B              _spr_turn_horizontal:
4239  166B  21 00 00    	ld	hl,_s_state
4240  166E  CB 56       	bit	2, (hl)
4241  1670  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4242  1672  21 00 00    	ld	hl,_s_state
4243  1675  7E          	ld	a,(hl)
4244  1676  F6 08       	or	a,0x08
4245  1678  E6 FB       	and	a,0xfb
4246  167A  77          	ld	(hl),a
4247  167B  18 09       	jr	l_spr_turn_horizontal_00103
4248  167D              l_spr_turn_horizontal_00102:
4249  167D  21 00 00    	ld	hl,_s_state
4250  1680  7E          	ld	a,(hl)
4251  1681  E6 F7       	and	a,0xf7
4252  1683  F6 04       	or	a,0x04
4253  1685  77          	ld	(hl),a
4254  1686              l_spr_turn_horizontal_00103:
4255  1686  2A 00 00    	ld	hl,(_sprite)
4256  1689  26 00       	ld	h,0x00
4257  168B  01 00 00    	ld	bc,_state
4258  168E  09          	add	hl,bc
4259  168F  3A 00 00    	ld	a,(_s_state)
4260  1692  77          	ld	(hl),a
4261  1693  2A 00 00    	ld	hl,(_sprite)
4262  1696  26 00       	ld	h,0x00
4263  1698  01 00 00    	ld	bc,_tile
4264  169B  09          	add	hl,bc
4265  169C  E5          	push	hl
4266  169D  2A 00 00    	ld	hl,(_sprite)
4267  16A0  CD A7 09    	call	_spr_tile
4268  16A3  C1          	pop	bc
4269  16A4  7D          	ld	a,l
4270  16A5  02          	ld	(bc), a
4271  16A6  C9          	ret
4272  16A7              	SECTION code_compiler
4273  16A7              ;	---------------------------------
4274  16A7              ; Function spr_btile_paint_back
4275  16A7              ; ---------------------------------
4276  16A7              _spr_btile_paint_back:
4277  16A7  21 20 00    	ld	hl,0x0020
4278  16AA  22 00 00    	ld	(_tmp_ui),hl
4279  16AD  21 00 00    	ld	hl,_map_paper
4280  16B0  7E          	ld	a, (hl)
4281  16B1  0F          	rrca
4282  16B2  0F          	rrca
4283  16B3  0F          	rrca
4284  16B4  E6 1F       	and	a,0x1f
4285  16B6  B6          	or	a, (hl)
4286  16B7  F6 40       	or	a,0x40
4287  16B9  32 00 00    	ld	(_map_paper_clr),a
4288  16BC              l_spr_btile_paint_back_00106:
4289  16BC  21 00 00    	ld	hl,_tmp_ui
4290  16BF  7E          	ld	a, (hl)
4291  16C0  D6 A0       	sub	a,0xa0
4292  16C2  23          	inc	hl
4293  16C3  7E          	ld	a, (hl)
4294  16C4  DE 28       	sbc	a,0x28
4295  16C6  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4296  16C8  21 00 00    	ld	hl,_tmp0
4297  16CB  36 00       	ld	(hl),0x00
4298  16CD              l_spr_btile_paint_back_00103:
4299  16CD  3A 00 00    	ld	a,(_tmp0)
4300  16D0  D6 10       	sub	a,0x10
4301  16D2  30 34       	jr	NC,l_spr_btile_paint_back_00105
4302  16D4  01 00 00    	ld	bc,_btiles
4303  16D7  2A 00 00    	ld	hl,(_tmp_ui)
4304  16DA  09          	add	hl,bc
4305  16DB  7D          	ld	a,l
4306  16DC  44          	ld	b,h
4307  16DD  21 00 00    	ld	hl,_tmp0
4308  16E0  86          	add	a, (hl)
4309  16E1  4F          	ld	c, a
4310  16E2  78          	ld	a, b
4311  16E3  CE 00       	adc	a,0x00
4312  16E5  47          	ld	b, a
4313  16E6  0A          	ld	a, (bc)
4314  16E7  32 00 00    	ld	(_tmp),a
4315  16EA  E6 38       	and	a,0x38
4316  16EC  5F          	ld	e, a
4317  16ED  3A 00 00    	ld	a,(_map_paper_last)
4318  16F0  93          	sub	a, e
4319  16F1  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4320  16F3  21 00 00    	ld	hl,_tmp
4321  16F6  7E          	ld	a, (hl)
4322  16F7  E6 C7       	and	a,0xc7
4323  16F9  77          	ld	(hl),a
4324  16FA  21 00 00    	ld	hl,_map_paper
4325  16FD  B6          	or	a, (hl)
4326  16FE  32 00 00    	ld	(_tmp),a
4327  1701  02          	ld	(bc), a
4328  1702              l_spr_btile_paint_back_00102:
4329  1702  21 00 00    	ld	hl,_tmp0
4330  1705  34          	inc	(hl)
4331  1706  18 C5       	jr	l_spr_btile_paint_back_00103
4332  1708              l_spr_btile_paint_back_00105:
4333  1708  2A 00 00    	ld	hl,(_tmp_ui)
4334  170B  11 30 00    	ld	de,0x0030
4335  170E  19          	add	hl,de
4336  170F  22 00 00    	ld	(_tmp_ui),hl
4337  1712  18 A8       	jr	l_spr_btile_paint_back_00106
4338  1714              l_spr_btile_paint_back_00108:
4339  1714  C3 00 00    	jp  _game_attribs
4340  1717              	SECTION IGNORE
4341  0000              
