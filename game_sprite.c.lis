1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_jump
191   0000              	GLOBAL _spr_move_up
192   0000              	GLOBAL _spr_move_down
193   0000              	GLOBAL _spr_move_horizontal
194   0000              	GLOBAL _spr_move_right
195   0000              	GLOBAL _spr_move_left
196   0000              	GLOBAL _spr_page_right
197   0000              	GLOBAL _spr_page_left
198   0000              	GLOBAL _spr_page_map
199   0000              	GLOBAL _spr_redraw
200   0000              	GLOBAL _spr_destroy
201   0000              	GLOBAL _spr_tile
202   0000              	GLOBAL _spr_tile_dir
203   0000              	GLOBAL _spr_draw_map
204   0000              	GLOBAL _spr_draw_clear
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_draw_row
208   0000              	GLOBAL _spr_calc_hor
209   0000              	GLOBAL _spr_collision_check
210   0000              	GLOBAL _spr_kill_all
211   0000              	GLOBAL _spr_back_repaint
212   0000              	GLOBAL _spr_tile_paint
213   0000              	GLOBAL _spr_init_anim
214   0000              	GLOBAL _spr_init_bullet
215   0000              	GLOBAL _spr_add_anim
216   0000              	GLOBAL _spr_play_anim
217   0000              	GLOBAL _spr_play_bullets
218   0000              	GLOBAL _spr_turn_horizontal
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _spr_anim_kill
530   0000              	GLOBAL _sound_hit_brick
531   0000              	GLOBAL _sound_hit_enemy
532   0000              	GLOBAL _sound_kill
533   0000              	GLOBAL _sound_enter_enemy
534   0000              	GLOBAL _sound_coin
535   0000              	GLOBAL _sound_jump
536   0000              	GLOBAL _sound_slide
537   0000              	GLOBAL _player_fire
538   0000              	GLOBAL _player_check_stairs_down
539   0000              	GLOBAL _player_check_stairs
540   0000              	GLOBAL _player_tile
541   0000              	GLOBAL _player_pick_item
542   0000              	GLOBAL _player_check_floor
543   0000              	GLOBAL _player_hit_platform_clear
544   0000              	GLOBAL _player_lost_life
545   0000              	GLOBAL _player_score_add
546   0000              	GLOBAL _player_player_hit_pow
547   0000              	GLOBAL _player_hit_platform
548   0000              	GLOBAL _player_move_input
549   0000              	GLOBAL _player_turn
550   0000              	GLOBAL _player_move
551   0000              	GLOBAL _player_restart
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_joystick_set_menu
557   0000              	GLOBAL _game_joystick_set
558   0000              	GLOBAL _game_joystick_change
559   0000              	GLOBAL _game_print_header
560   0000              	GLOBAL _game_end
561   0000              	GLOBAL _game_phase_print_score_back
562   0000              	GLOBAL _game_check_time
563   0000              	GLOBAL _game_rotate_attrib
564   0000              	GLOBAL _game_colour_message
565   0000              	GLOBAL _game_paint_attrib_lin_h
566   0000              	GLOBAL _game_paint_attrib_lin
567   0000              	GLOBAL _game_paint_attrib
568   0000              	GLOBAL _game_print_score
569   0000              	GLOBAL _game_unfreeze_all
570   0000              	GLOBAL _game_freeze_all
571   0000              	GLOBAL _game_freeze
572   0000              	GLOBAL _game_enemy_add_get_index
573   0000              	GLOBAL _game_check_cell
574   0000              	GLOBAL _game_check_map
575   0000              	GLOBAL _game_loop
576   0000              	GLOBAL _game_phase_init
577   0000              	GLOBAL _game_start_timer
578   0000              	GLOBAL _game_tick
579   0000              	GLOBAL _game_print_lives
580   0000              	GLOBAL _game_print_footer
581   0000              	GLOBAL _game_fill_row
582   0000              	GLOBAL _enemy_avoid_edge
583   0000              	GLOBAL _enemy_kill
584   0000              	GLOBAL _enemy_init
585   0000              	GLOBAL _enemy_walk
586   0000              	GLOBAL _enemy_move
587   0000              	GLOBAL _enemy_turn
588   0000              	GLOBAL _enemy_hit
589   0000              	GLOBAL _enemy_coin1
590   0000              	GLOBAL _ay_fx_play
591   0000              	GLOBAL _ay_midi_play
592   0000              	GLOBAL _ay_is_playing
593   0000              	GLOBAL _ay_reset
594   0000              	GLOBAL _test_func
595   0000              	GLOBAL _test_proc
596   0000              	GLOBAL _in_mouse_kempston_wheel_delta
597   0000              	GLOBAL _in_mouse_kempston_wheel
598   0000              	GLOBAL _in_mouse_kempston_callee
599   0000              	GLOBAL _in_mouse_kempston
600   0000              	GLOBAL _in_mouse_kempston_setpos_callee
601   0000              	GLOBAL _in_mouse_kempston_setpos
602   0000              	GLOBAL _in_mouse_kempston_reset
603   0000              	GLOBAL _in_mouse_kempston_init
604   0000              	GLOBAL _in_mouse_amx_wheel_delta
605   0000              	GLOBAL _in_mouse_amx_wheel
606   0000              	GLOBAL _in_mouse_amx_callee
607   0000              	GLOBAL _in_mouse_amx
608   0000              	GLOBAL _in_mouse_amx_setpos_callee
609   0000              	GLOBAL _in_mouse_amx_setpos
610   0000              	GLOBAL _in_mouse_amx_reset
611   0000              	GLOBAL _in_mouse_amx_init_callee
612   0000              	GLOBAL _in_mouse_amx_init
613   0000              	GLOBAL _in_stick_sinclair2
614   0000              	GLOBAL _in_stick_sinclair1
615   0000              	GLOBAL _in_stick_kempston
616   0000              	GLOBAL _in_stick_fuller
617   0000              	GLOBAL _in_stick_cursor
618   0000              	GLOBAL _in_stick_keyboard_fastcall
619   0000              	GLOBAL _in_stick_keyboard
620   0000              	GLOBAL _in_wait_nokey
621   0000              	GLOBAL _in_wait_key
622   0000              	GLOBAL _in_test_key
623   0000              	GLOBAL _in_pause_fastcall
624   0000              	GLOBAL _in_pause
625   0000              	GLOBAL _in_key_scancode_fastcall
626   0000              	GLOBAL _in_key_scancode
627   0000              	GLOBAL _in_key_pressed_fastcall
628   0000              	GLOBAL _in_key_pressed
629   0000              	GLOBAL _in_inkey
630   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
631   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
632   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
633   0000              	GLOBAL _NIRVANAP_HOLE
634   0000              	GLOBAL _NIRVANAP_ISR_HOOK
635   0000              	GLOBAL _g_player_hit_right
636   0000              	GLOBAL _g_player_hit_left
637   0000              	GLOBAL _joynames
638   0000              	GLOBAL _initials
639   0000              	GLOBAL _bullet_frames
640   0000              	GLOBAL _bullet_colint
641   0000              	GLOBAL _bullet_dir
642   0000              	GLOBAL _bullet_tile
643   0000              	GLOBAL _bullet_col
644   0000              	GLOBAL _bullet_lin
645   0000              	GLOBAL _anim_end
646   0000              	GLOBAL _anim_int
647   0000              	GLOBAL _anim_tile
648   0000              	GLOBAL _anim_col
649   0000              	GLOBAL _anim_lin
650   0000              	GLOBAL _phase_angry
651   0000              	GLOBAL _phase_curr
652   0000              	GLOBAL _phase_end
653   0000              	GLOBAL _phase_coins
654   0000              	GLOBAL _phase_pop
655   0000              	GLOBAL _phase_tot
656   0000              	GLOBAL _map_heigth
657   0000              	GLOBAL _map_width
658   0000              	GLOBAL _scr_curr
659   0000              	GLOBAL _scr_7
660   0000              	GLOBAL _scr_6
661   0000              	GLOBAL _scr_5
662   0000              	GLOBAL _scr_4
663   0000              	GLOBAL _scr_3
664   0000              	GLOBAL _scr_2
665   0000              	GLOBAL _scr_1
666   0000              	GLOBAL _scr_0
667   0000              	GLOBAL _scr_map
668   0000              	GLOBAL _sprite_speed_alt
669   0000              	GLOBAL _sprite_frames
670   0000              	GLOBAL _sprite_speed
671   0000              	GLOBAL _screen_ink
672   0000              	GLOBAL _screen_paper
673   0000              	GLOBAL _player_over_stair
674   0000              	GLOBAL _game_menu_sel
675   0000              	GLOBAL _game_type
676   0000              	GLOBAL _game_score_top
677   0000              	GLOBAL _player_lives
678   0000              	GLOBAL _game_over
679   0000              	GLOBAL _game_sound
680   0000              	GLOBAL _game_inmune
681   0000              	GLOBAL _game_god_mode
682   0000              	GLOBAL _game_start_phase
683   0000              	GLOBAL _game_two_player
684   0000              	GLOBAL _game_brick_tile
685   0000              	GLOBAL _sprite_curr_index
686   0000              	GLOBAL _spr_count
687   0000              	GLOBAL _bullet_time
688   0000              	GLOBAL _anim_time
689   0000              	GLOBAL _frame_time
690   0000              	GLOBAL _entry_time
691   0000              	GLOBAL _curr_time
692   0000              	GLOBAL _s_state
693   0000              	GLOBAL _attrib_hl
694   0000              	GLOBAL _attrib
695   0000              	GLOBAL _zx_val_asm
696   0000              	GLOBAL _enemies
697   0000              	GLOBAL _tmp_ui
698   0000              	GLOBAL _tmp_sc
699   0000              	GLOBAL _tmp_uc
700   0000              	GLOBAL _tmp1
701   0000              	GLOBAL _tmp0
702   0000              	GLOBAL _tmp
703   0000              	GLOBAL _index1
704   0000              	GLOBAL _index0
705   0000              	GLOBAL _loop_count
706   0000              	GLOBAL _s_col1
707   0000              	GLOBAL _s_col0
708   0000              	GLOBAL _s_lin1
709   0000              	GLOBAL _s_lin0
710   0000              	GLOBAL _s_tile1
711   0000              	GLOBAL _s_tile0
712   0000              	GLOBAL _player_hit_count
713   0000              	GLOBAL _sprite_horizontal_check
714   0000              	GLOBAL _sprite_on_air
715   0000              	GLOBAL _sprite
716   0000              	GLOBAL _game_gravity
717   0000              	GLOBAL _player_vel_inc
718   0000              	GLOBAL _player_vel_y1
719   0000              	GLOBAL _player_vel_y0
720   0000              	GLOBAL _player_vel_y
721   0000              	GLOBAL _player_vel_x
722   0000              	GLOBAL _player_joy
723   0000              	GLOBAL _player_score
724   0000              	GLOBAL _last_time
725   0000              	GLOBAL _player_slide
726   0000              	GLOBAL _spr_timer
727   0000              	GLOBAL _jump_lin
728   0000              	GLOBAL _player_hit_col
729   0000              	GLOBAL _player_hit_lin
730   0000              	GLOBAL _colint
731   0000              	GLOBAL _col
732   0000              	GLOBAL _lin
733   0000              	GLOBAL _tile
734   0000              	GLOBAL _state_a
735   0000              	GLOBAL _state
736   0000              	GLOBAL _class
737   0000              	GLOBAL _tbuffer
738   0000              	GLOBAL _dirs
739   0000              	GLOBAL _k1
740   0000              	GLOBAL _joyfunc1
741   0000              	GLOBAL _btiles
742   0000              	GLOBAL _spec128
743   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
744   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
745   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
746   0000              	GLOBAL _ay_effect_20
747   0000              	GLOBAL _ay_effect_19
748   0000              	GLOBAL _ay_effect_18
749   0000              	GLOBAL _ay_effect_17
750   0000              	GLOBAL _ay_effect_16
751   0000              	GLOBAL _ay_effect_15
752   0000              	GLOBAL _ay_effect_14
753   0000              	GLOBAL _ay_effect_13
754   0000              	GLOBAL _ay_effect_12
755   0000              	GLOBAL _ay_effect_11
756   0000              	GLOBAL _ay_effect_10
757   0000              	GLOBAL _ay_effect_09
758   0000              	GLOBAL _ay_effect_08
759   0000              	GLOBAL _ay_effect_07
760   0000              	GLOBAL _ay_effect_06
761   0000              	GLOBAL _ay_effect_05
762   0000              	GLOBAL _ay_effect_04
763   0000              	GLOBAL _ay_effect_03
764   0000              	GLOBAL _ay_effect_02
765   0000              	GLOBAL _ay_effect_01
766   0000              	GLOBAL _pb_midi_phase_1
767   0000              	GLOBAL _pb_midi_title
768   0000              	GLOBAL _control_method
769   0000              ;--------------------------------------------------------
770   0000              ; special function registers
771   0000              ;--------------------------------------------------------
772   0000              defc _IO_FE	=	0x00fe
773   0000              defc _IO_1FFD	=	0x1ffd
774   0000              defc _IO_7FFD	=	0x7ffd
775   0000              ;--------------------------------------------------------
776   0000              ; ram data
777   0000              ;--------------------------------------------------------
778   0000              	SECTION bss_compiler
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              
783   0000              IF 0
784   0000              
785   0000              ; .area _INITIALIZED removed by z88dk
786   0000              
787   0000              
788   0000              ENDIF
789   0000              
790   0000              ;--------------------------------------------------------
791   0000              ; absolute external ram data
792   0000              ;--------------------------------------------------------
793   0000              	SECTION IGNORE
794   0000              ;--------------------------------------------------------
795   0000              ; global & static initialisations
796   0000              ;--------------------------------------------------------
797   0000              	SECTION code_crt_init
798   0000              ;--------------------------------------------------------
799   0000              ; Home
800   0000              ;--------------------------------------------------------
801   0000              	SECTION IGNORE
802   0000              ;--------------------------------------------------------
803   0000              ; code
804   0000              ;--------------------------------------------------------
805   0000              	SECTION code_compiler
806   0000              ;	---------------------------------
807   0000              ; Function spr_calc_index
808   0000              ; ---------------------------------
809   0000              _spr_calc_index:
810   0000  CD 00 00    	call	___sdcc_enter_ix
811   0003  DD 4E 05    	ld	c,(ix+5)
812   0006  CB 39       	srl	c
813   0008  06 00       	ld	b,0x00
814   000A  DD 7E 04    	ld	a,(ix+4)
815   000D  07          	rlca
816   000E  07          	rlca
817   000F  07          	rlca
818   0010  07          	rlca
819   0011  E6 0F       	and	a,0x0f
820   0013  6F          	ld	l, a
821   0014  26 00       	ld	h,0x00
822   0016  29          	add	hl, hl
823   0017  29          	add	hl, hl
824   0018  29          	add	hl, hl
825   0019  29          	add	hl, hl
826   001A  09          	add	hl, bc
827   001B  DD E1       	pop	ix
828   001D  C9          	ret
829   001E              	SECTION code_compiler
830   001E              ;	---------------------------------
831   001E              ; Function spr_chktime
832   001E              ; ---------------------------------
833   001E              _spr_chktime:
834   001E  CD 00 00    	call	___sdcc_enter_ix
835   0021  F5          	push	af
836   0022  DD 75 FE    	ld	(ix-2),l
837   0025  DD 74 FF    	ld	(ix-1),h
838   0028  E1          	pop	hl
839   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
840   002C  5E          	ld	e,(hl)
841   002D  E5          	push	hl
842   002E  6B          	ld	l,e
843   002F  26 00       	ld	h,0x00
844   0031  09          	add	hl, bc
845   0032  7E          	ld	a, (hl)
846   0033  B7          	or	a, a
847   0034  20 13       	jr	NZ,l_spr_chktime_00102
848   0036  01 00 00    	ld	bc,_sprite_speed+0
849   0039  16 00       	ld	d,0x00
850   003B  21 00 00    	ld	hl,_class
851   003E  19          	add	hl, de
852   003F  6E          	ld	l, (hl)
853   0040  26 00       	ld	h,0x00
854   0042  09          	add	hl, bc
855   0043  7E          	ld	a, (hl)
856   0044  32 00 00    	ld	(_tmp),a
857   0047  18 03       	jr	l_spr_chktime_00103
858   0049              l_spr_chktime_00102:
859   0049  32 00 00    	ld	(_tmp),a
860   004C              l_spr_chktime_00103:
861   004C  3A 00 00    	ld	a,(_tmp)
862   004F  4F          	ld	c,a
863   0050  06 00       	ld	b,0x00
864   0052  60          	ld	h,b
865   0053  6B          	ld	l, e
866   0054  29          	add	hl, hl
867   0055  11 00 00    	ld	de,_last_time
868   0058  19          	add	hl, de
869   0059  5E          	ld	e, (hl)
870   005A  23          	inc	hl
871   005B  56          	ld	d, (hl)
872   005C  C5          	push	bc
873   005D  D5          	push	de
874   005E  CD 00 00    	call	_game_check_time
875   0061  F1          	pop	af
876   0062  F1          	pop	af
877   0063  7D          	ld	a, l
878   0064  B7          	or	a, a
879   0065  28 15       	jr	Z,l_spr_chktime_00105
880   0067  E1          	pop	hl
881   0068  E5          	push	hl
882   0069  6E          	ld	l, (hl)
883   006A  26 00       	ld	h,0x00
884   006C  29          	add	hl, hl
885   006D  01 00 00    	ld	bc,_last_time
886   0070  09          	add	hl,bc
887   0071  ED 5B 00 00 	ld	de,(_curr_time)
888   0075  73          	ld	(hl),e
889   0076  23          	inc	hl
890   0077  72          	ld	(hl),d
891   0078  2E 01       	ld	l,0x01
892   007A  18 02       	jr	l_spr_chktime_00106
893   007C              l_spr_chktime_00105:
894   007C  2E 00       	ld	l,0x00
895   007E              l_spr_chktime_00106:
896   007E  F1          	pop	af
897   007F  DD E1       	pop	ix
898   0081  C9          	ret
899   0082              	SECTION code_compiler
900   0082              ;	---------------------------------
901   0082              ; Function spr_move_jump
902   0082              ; ---------------------------------
903   0082              	defc _spr_move_jump	=	_test_func
904   0082              	SECTION code_compiler
905   0082              ;	---------------------------------
906   0082              ; Function spr_move_up
907   0082              ; ---------------------------------
908   0082              _spr_move_up:
909   0082  01 00 00    	ld	bc,_lin+0
910   0085  2A 00 00    	ld	hl,(_sprite)
911   0088  26 00       	ld	h,0x00
912   008A  09          	add	hl,bc
913   008B  7E          	ld	a,(hl)
914   008C  C6 FE       	add	a,0xfe
915   008E  32 00 00    	ld	(_tmp1),a
916   0091  2A 00 00    	ld	hl,(_sprite)
917   0094  26 00       	ld	h,0x00
918   0096  11 00 00    	ld	de,_class
919   0099  19          	add	hl,de
920   009A  7E          	ld	a,(hl)
921   009B  D6 10       	sub	a,0x10
922   009D  20 30       	jr	NZ,l_spr_move_up_00107
923   009F  3A 00 00    	ld	a,(_sprite)
924   00A2  5F          	ld	e,a
925   00A3  16 00       	ld	d,0x00
926   00A5  21 00 00    	ld	hl,_col
927   00A8  19          	add	hl,de
928   00A9  66          	ld	h, (hl)
929   00AA  C5          	push	bc
930   00AB  E5          	push	hl
931   00AC  33          	inc	sp
932   00AD  3A 00 00    	ld	a,(_tmp1)
933   00B0  F5          	push	af
934   00B1  33          	inc	sp
935   00B2  CD 00 00    	call	_game_check_map
936   00B5  F1          	pop	af
937   00B6  C1          	pop	bc
938   00B7  7C          	ld	a,h
939   00B8  B5          	or	a,l
940   00B9  28 14       	jr	Z,l_spr_move_up_00107
941   00BB  3A 00 00    	ld	a,(_sprite)
942   00BE  D6 07       	sub	a,0x07
943   00C0  20 09       	jr	NZ,l_spr_move_up_00102
944   00C2  3A 07 00    	ld	a,(_state_a + 0x0007)
945   00C5  07          	rlca
946   00C6  38 03       	jr	C,l_spr_move_up_00102
947   00C8  CD 00 00    	call	_player_hit_platform
948   00CB              l_spr_move_up_00102:
949   00CB  2E 01       	ld	l,0x01
950   00CD  18 1E       	jr	l_spr_move_up_00110
951   00CF              l_spr_move_up_00107:
952   00CF  2A 00 00    	ld	hl,(_sprite)
953   00D2  26 00       	ld	h,0x00
954   00D4  09          	add	hl,bc
955   00D5  3A 00 00    	ld	a,(_tmp1)
956   00D8  77          	ld	(hl),a
957   00D9  2A 00 00    	ld	hl,(_sprite)
958   00DC  26 00       	ld	h,0x00
959   00DE  09          	add	hl,bc
960   00DF  5E          	ld	e, (hl)
961   00E0  3E 90       	ld	a,0x90
962   00E2  93          	sub	a,e
963   00E3  30 06       	jr	NC,l_spr_move_up_00109
964   00E5  AF          	xor	a,a
965   00E6  77          	ld	(hl),a
966   00E7  2E 01       	ld	l,0x01
967   00E9  18 02       	jr	l_spr_move_up_00110
968   00EB              l_spr_move_up_00109:
969   00EB  2E 00       	ld	l,0x00
970   00ED              l_spr_move_up_00110:
971   00ED  C9          	ret
972   00EE              	SECTION code_compiler
973   00EE              ;	---------------------------------
974   00EE              ; Function spr_move_down
975   00EE              ; ---------------------------------
976   00EE              _spr_move_down:
977   00EE  01 00 00    	ld	bc,_lin+0
978   00F1  2A 00 00    	ld	hl,(_sprite)
979   00F4  26 00       	ld	h,0x00
980   00F6  09          	add	hl,bc
981   00F7  7E          	ld	a,(hl)
982   00F8  C6 02       	add	a,0x02
983   00FA  32 00 00    	ld	(_tmp1),a
984   00FD  2A 00 00    	ld	hl,(_sprite)
985   0100  26 00       	ld	h,0x00
986   0102  11 00 00    	ld	de,_col
987   0105  19          	add	hl,de
988   0106  56          	ld	d, (hl)
989   0107  3A 00 00    	ld	a,(_tmp1)
990   010A  C6 10       	add	a,0x10
991   010C  C5          	push	bc
992   010D  5F          	ld	e,a
993   010E  D5          	push	de
994   010F  CD 00 00    	call	_game_check_map
995   0112  F1          	pop	af
996   0113  C1          	pop	bc
997   0114  7C          	ld	a,h
998   0115  B5          	or	a,l
999   0116  28 04       	jr	Z,l_spr_move_down_00102
1000  0118  2E 01       	ld	l,0x01
1001  011A  18 1D       	jr	l_spr_move_down_00105
1002  011C              l_spr_move_down_00102:
1003  011C  2A 00 00    	ld	hl,(_sprite)
1004  011F  26 00       	ld	h,0x00
1005  0121  09          	add	hl,bc
1006  0122  3A 00 00    	ld	a,(_tmp1)
1007  0125  77          	ld	(hl),a
1008  0126  2A 00 00    	ld	hl,(_sprite)
1009  0129  26 00       	ld	h,0x00
1010  012B  09          	add	hl,bc
1011  012C  5E          	ld	e, (hl)
1012  012D  3E 90       	ld	a,0x90
1013  012F  BB          	cp	a,e
1014  0130  30 05       	jr	NC,l_spr_move_down_00104
1015  0132  77          	ld	(hl),a
1016  0133  2E 01       	ld	l,0x01
1017  0135  18 02       	jr	l_spr_move_down_00105
1018  0137              l_spr_move_down_00104:
1019  0137  2E 00       	ld	l,0x00
1020  0139              l_spr_move_down_00105:
1021  0139  C9          	ret
1022  013A              	SECTION code_compiler
1023  013A              ;	---------------------------------
1024  013A              ; Function spr_move_horizontal
1025  013A              ; ---------------------------------
1026  013A              _spr_move_horizontal:
1027  013A  2A 00 00    	ld	hl,(_sprite)
1028  013D  26 00       	ld	h,0x00
1029  013F  01 00 00    	ld	bc,_state
1030  0142  09          	add	hl,bc
1031  0143  7E          	ld	a,(hl)
1032  0144  CB 57       	bit	2, a
1033  0146  28 05       	jr	Z,l_spr_move_horizontal_00104
1034  0148  CD 59 01    	call	_spr_move_right
1035  014B  18 0B       	jr	l_spr_move_horizontal_00106
1036  014D              l_spr_move_horizontal_00104:
1037  014D  CB 5F       	bit	3, a
1038  014F  28 05       	jr	Z,l_spr_move_horizontal_00105
1039  0151  CD 38 02    	call	_spr_move_left
1040  0154  18 02       	jr	l_spr_move_horizontal_00106
1041  0156              l_spr_move_horizontal_00105:
1042  0156  2E 00       	ld	l,0x00
1043  0158              l_spr_move_horizontal_00106:
1044  0158  C9          	ret
1045  0159              	SECTION code_compiler
1046  0159              ;	---------------------------------
1047  0159              ; Function spr_move_right
1048  0159              ; ---------------------------------
1049  0159              _spr_move_right:
1050  0159  2A 00 00    	ld	hl,(_sprite)
1051  015C  26 00       	ld	h,0x00
1052  015E  01 00 00    	ld	bc,_colint
1053  0161  09          	add	hl,bc
1054  0162  7E          	ld	a,(hl)
1055  0163  3C          	inc	a
1056  0164  77          	ld	(hl),a
1057  0165  4F          	ld	c,a
1058  0166  3A 00 00    	ld	a,(_sprite)
1059  0169  5F          	ld	e,a
1060  016A  16 00       	ld	d,0x00
1061  016C  21 00 00    	ld	hl,_class
1062  016F  19          	add	hl,de
1063  0170  5E          	ld	e, (hl)
1064  0171  16 00       	ld	d,0x00
1065  0173  21 00 00    	ld	hl,_sprite_frames
1066  0176  19          	add	hl, de
1067  0177  7E          	ld	a, (hl)
1068  0178  91          	sub	a, c
1069  0179  C2 35 02    	jp	NZ,l_spr_move_right_00117
1070  017C  2A 00 00    	ld	hl,(_sprite)
1071  017F  26 00       	ld	h,0x00
1072  0181  01 00 00    	ld	bc,_lin
1073  0184  09          	add	hl,bc
1074  0185  7E          	ld	a,(hl)
1075  0186  32 00 00    	ld	(_s_lin1),a
1076  0189  2A 00 00    	ld	hl,(_sprite)
1077  018C  26 00       	ld	h,0x00
1078  018E  01 00 00    	ld	bc,_col
1079  0191  09          	add	hl,bc
1080  0192  7E          	ld	a,(hl)
1081  0193  FE 1E       	cp	a,0x1e
1082  0195  30 4A       	jr	NC,l_spr_move_right_00107
1083  0197  3C          	inc	a
1084  0198  32 00 00    	ld	(_s_col1),a
1085  019B  F5          	push	af
1086  019C  33          	inc	sp
1087  019D  3A 00 00    	ld	a,(_s_lin1)
1088  01A0  F5          	push	af
1089  01A1  33          	inc	sp
1090  01A2  CD 00 00    	call	_game_check_map
1091  01A5  F1          	pop	af
1092  01A6  7C          	ld	a,h
1093  01A7  B5          	or	a,l
1094  01A8  20 13       	jr	NZ,l_spr_move_right_00103
1095  01AA  3A 00 00    	ld	a,(_s_lin1)
1096  01AD  C6 0F       	add	a,0x0f
1097  01AF  4F          	ld	c, a
1098  01B0  3A 00 00    	ld	a, (_s_col1)
1099  01B3  47          	ld	b,a
1100  01B4  C5          	push	bc
1101  01B5  CD 00 00    	call	_game_check_map
1102  01B8  F1          	pop	af
1103  01B9  7C          	ld	a,h
1104  01BA  B5          	or	a,l
1105  01BB  28 24       	jr	Z,l_spr_move_right_00107
1106  01BD              l_spr_move_right_00103:
1107  01BD  2A 00 00    	ld	hl,(_sprite)
1108  01C0  26 00       	ld	h,0x00
1109  01C2  01 00 00    	ld	bc,_colint
1110  01C5  09          	add	hl,bc
1111  01C6  7E          	ld	a,(hl)
1112  01C7  C6 FF       	add	a,0xff
1113  01C9  77          	ld	(hl),a
1114  01CA  3A 00 00    	ld	a,(_sprite_on_air)
1115  01CD  B7          	or	a,a
1116  01CE  20 0D       	jr	NZ,l_spr_move_right_00102
1117  01D0  2A 00 00    	ld	hl,(_sprite)
1118  01D3  26 00       	ld	h,0x00
1119  01D5  01 00 00    	ld	bc,_colint
1120  01D8  09          	add	hl,bc
1121  01D9  7E          	ld	a,(hl)
1122  01DA  C6 FF       	add	a,0xff
1123  01DC  77          	ld	(hl),a
1124  01DD              l_spr_move_right_00102:
1125  01DD  2E 01       	ld	l,0x01
1126  01DF  18 56       	jr	l_spr_move_right_00118
1127  01E1              l_spr_move_right_00107:
1128  01E1  2A 00 00    	ld	hl,(_sprite)
1129  01E4  26 00       	ld	h,0x00
1130  01E6  01 00 00    	ld	bc,_col
1131  01E9  09          	add	hl,bc
1132  01EA  34          	inc	(hl)
1133  01EB  2A 00 00    	ld	hl,(_sprite)
1134  01EE  26 00       	ld	h,0x00
1135  01F0  01 00 00    	ld	bc,_colint
1136  01F3  09          	add	hl,bc
1137  01F4  AF          	xor	a,a
1138  01F5  77          	ld	(hl),a
1139  01F6  2A 00 00    	ld	hl,(_sprite)
1140  01F9  26 00       	ld	h,0x00
1141  01FB  01 00 00    	ld	bc,_col
1142  01FE  09          	add	hl,bc
1143  01FF  5E          	ld	e,(hl)
1144  0200  3E 1E       	ld	a,0x1e
1145  0202  93          	sub	a,e
1146  0203  30 30       	jr	NC,l_spr_move_right_00117
1147  0205  3A 00 00    	ld	a,(_sprite)
1148  0208  D6 07       	sub	a,0x07
1149  020A  28 04       	jr	Z,l_spr_move_right_00151
1150  020C  4D          	ld	c,l
1151  020D  44          	ld	b,h
1152  020E  18 1C       	jr	l_spr_move_right_00112
1153  0210              l_spr_move_right_00151:
1154  0210  CD 18 03    	call	_spr_page_right
1155  0213  3A 00 00    	ld	a,(_sprite)
1156  0216  C6 00       	add	a,+((_col) & 0xFF)
1157  0218  4D          	ld	c,l
1158  0219  5F          	ld	e,a
1159  021A  3E 00       	ld	a,+((_col) / 256)
1160  021C  CE 00       	adc	a,0x00
1161  021E  57          	ld	d,a
1162  021F  79          	ld	a, c
1163  0220  B7          	or	a, a
1164  0221  28 04       	jr	Z,l_spr_move_right_00109
1165  0223  AF          	xor	a, a
1166  0224  12          	ld	(de), a
1167  0225  18 0E       	jr	l_spr_move_right_00117
1168  0227              l_spr_move_right_00109:
1169  0227  3E 1E       	ld	a,0x1e
1170  0229  12          	ld	(de), a
1171  022A  18 09       	jr	l_spr_move_right_00117
1172  022C              l_spr_move_right_00112:
1173  022C  3E 1E       	ld	a,0x1e
1174  022E  02          	ld	(bc), a
1175  022F  2A 00 00    	ld	hl,(_sprite)
1176  0232  CD 66 05    	call	_spr_destroy
1177  0235              l_spr_move_right_00117:
1178  0235  2E 00       	ld	l,0x00
1179  0237              l_spr_move_right_00118:
1180  0237  C9          	ret
1181  0238              	SECTION code_compiler
1182  0238              ;	---------------------------------
1183  0238              ; Function spr_move_left
1184  0238              ; ---------------------------------
1185  0238              _spr_move_left:
1186  0238  01 00 00    	ld	bc,_colint+0
1187  023B  79          	ld	a, c
1188  023C  21 00 00    	ld	hl,_sprite
1189  023F  86          	add	a, (hl)
1190  0240  5F          	ld	e, a
1191  0241  78          	ld	a, b
1192  0242  CE 00       	adc	a,0x00
1193  0244  57          	ld	d, a
1194  0245  1A          	ld	a, (de)
1195  0246  C6 FF       	add	a,0xff
1196  0248  12          	ld	(de), a
1197  0249  79          	ld	a, c
1198  024A  86          	add	a, (hl)
1199  024B  5F          	ld	e, a
1200  024C  78          	ld	a, b
1201  024D  CE 00       	adc	a,0x00
1202  024F  57          	ld	d, a
1203  0250  1A          	ld	a, (de)
1204  0251  3C          	inc	a
1205  0252  C2 15 03    	jp	NZ,l_spr_move_left_00117
1206  0255  5E          	ld	e,(hl)
1207  0256  16 00       	ld	d,0x00
1208  0258  21 00 00    	ld	hl,_lin
1209  025B  19          	add	hl,de
1210  025C  7E          	ld	a,(hl)
1211  025D  32 00 00    	ld	(_s_lin1),a
1212  0260  2A 00 00    	ld	hl,(_sprite)
1213  0263  26 00       	ld	h,0x00
1214  0265  11 00 00    	ld	de,_col
1215  0268  19          	add	hl,de
1216  0269  7E          	ld	a,(hl)
1217  026A  B7          	or	a, a
1218  026B  28 44       	jr	Z,l_spr_move_left_00107
1219  026D  C6 FF       	add	a,0xff
1220  026F  32 00 00    	ld	(_s_col1),a
1221  0272  C5          	push	bc
1222  0273  F5          	push	af
1223  0274  33          	inc	sp
1224  0275  3A 00 00    	ld	a,(_s_lin1)
1225  0278  F5          	push	af
1226  0279  33          	inc	sp
1227  027A  CD 00 00    	call	_game_check_map
1228  027D  F1          	pop	af
1229  027E  C1          	pop	bc
1230  027F  7C          	ld	a,h
1231  0280  B5          	or	a,l
1232  0281  20 16       	jr	NZ,l_spr_move_left_00103
1233  0283  3A 00 00    	ld	a,(_s_lin1)
1234  0286  C6 0F       	add	a,0x0f
1235  0288  57          	ld	d, a
1236  0289  3A 00 00    	ld	a,(_s_col1)
1237  028C  C5          	push	bc
1238  028D  5A          	ld	e,d
1239  028E  57          	ld	d,a
1240  028F  D5          	push	de
1241  0290  CD 00 00    	call	_game_check_map
1242  0293  F1          	pop	af
1243  0294  C1          	pop	bc
1244  0295  7C          	ld	a,h
1245  0296  B5          	or	a,l
1246  0297  28 18       	jr	Z,l_spr_move_left_00107
1247  0299              l_spr_move_left_00103:
1248  0299  2A 00 00    	ld	hl,(_sprite)
1249  029C  26 00       	ld	h,0x00
1250  029E  09          	add	hl,bc
1251  029F  34          	inc	(hl)
1252  02A0  3A 00 00    	ld	a,(_sprite_on_air)
1253  02A3  B7          	or	a, a
1254  02A4  20 07       	jr	NZ,l_spr_move_left_00102
1255  02A6  2A 00 00    	ld	hl,(_sprite)
1256  02A9  26 00       	ld	h,0x00
1257  02AB  09          	add	hl,bc
1258  02AC  34          	inc	(hl)
1259  02AD              l_spr_move_left_00102:
1260  02AD  2E 01       	ld	l,0x01
1261  02AF  18 66       	jr	l_spr_move_left_00118
1262  02B1              l_spr_move_left_00107:
1263  02B1  2A 00 00    	ld	hl,(_sprite)
1264  02B4  26 00       	ld	h,0x00
1265  02B6  11 00 00    	ld	de,_col
1266  02B9  19          	add	hl,de
1267  02BA  7E          	ld	a,(hl)
1268  02BB  EB          	ex	de,hl
1269  02BC  C6 FF       	add	a,0xff
1270  02BE  12          	ld	(de),a
1271  02BF  79          	ld	a,c
1272  02C0  21 00 00    	ld	hl,_sprite
1273  02C3  86          	add	a, (hl)
1274  02C4  4F          	ld	c, a
1275  02C5  78          	ld	a, b
1276  02C6  CE 00       	adc	a,0x00
1277  02C8  47          	ld	b, a
1278  02C9  5E          	ld	e,(hl)
1279  02CA  16 00       	ld	d,0x00
1280  02CC  21 00 00    	ld	hl,_class
1281  02CF  19          	add	hl,de
1282  02D0  5E          	ld	e, (hl)
1283  02D1  16 00       	ld	d,0x00
1284  02D3  21 00 00    	ld	hl,_sprite_frames
1285  02D6  19          	add	hl, de
1286  02D7  5E          	ld	e, (hl)
1287  02D8  1D          	dec	e
1288  02D9  7B          	ld	a, e
1289  02DA  02          	ld	(bc), a
1290  02DB  2A 00 00    	ld	hl,(_sprite)
1291  02DE  26 00       	ld	h,0x00
1292  02E0  01 00 00    	ld	bc,_col
1293  02E3  09          	add	hl,bc
1294  02E4  7E          	ld	a,(hl)
1295  02E5  3C          	inc	a
1296  02E6  20 2D       	jr	NZ,l_spr_move_left_00117
1297  02E8  3A 00 00    	ld	a,(_sprite)
1298  02EB  D6 07       	sub	a,0x07
1299  02ED  4D          	ld	c,l
1300  02EE  44          	ld	b,h
1301  02EF  20 1C       	jr	NZ,l_spr_move_left_00112
1302  02F1  CD 32 03    	call	_spr_page_left
1303  02F4  3A 00 00    	ld	a,(_sprite)
1304  02F7  C6 00       	add	a,+((_col) & 0xFF)
1305  02F9  4D          	ld	c,l
1306  02FA  5F          	ld	e,a
1307  02FB  3E 00       	ld	a,+((_col) / 256)
1308  02FD  CE 00       	adc	a,0x00
1309  02FF  57          	ld	d,a
1310  0300  79          	ld	a, c
1311  0301  B7          	or	a, a
1312  0302  28 05       	jr	Z,l_spr_move_left_00109
1313  0304  3E 1E       	ld	a,0x1e
1314  0306  12          	ld	(de), a
1315  0307  18 0C       	jr	l_spr_move_left_00117
1316  0309              l_spr_move_left_00109:
1317  0309  AF          	xor	a, a
1318  030A  12          	ld	(de), a
1319  030B  18 08       	jr	l_spr_move_left_00117
1320  030D              l_spr_move_left_00112:
1321  030D  AF          	xor	a, a
1322  030E  02          	ld	(bc), a
1323  030F  2A 00 00    	ld	hl,(_sprite)
1324  0312  CD 66 05    	call	_spr_destroy
1325  0315              l_spr_move_left_00117:
1326  0315  2E 00       	ld	l,0x00
1327  0317              l_spr_move_left_00118:
1328  0317  C9          	ret
1329  0318              	SECTION code_compiler
1330  0318              ;	---------------------------------
1331  0318              ; Function spr_page_right
1332  0318              ; ---------------------------------
1333  0318              _spr_page_right:
1334  0318  3A 00 00    	ld	a,(_scr_curr)
1335  031B  21 00 00    	ld	hl,_map_width
1336  031E  96          	sub	a, (hl)
1337  031F  30 0E       	jr	NC,l_spr_page_right_00102
1338  0321  21 00 00    	ld	hl,_scr_curr
1339  0324  34          	inc	(hl)
1340  0325  CD 59 03    	call	_spr_page_map
1341  0328  CD 86 06    	call	_spr_draw_map
1342  032B  2E 01       	ld	l,0x01
1343  032D  18 02       	jr	l_spr_page_right_00103
1344  032F              l_spr_page_right_00102:
1345  032F  2E 00       	ld	l,0x00
1346  0331              l_spr_page_right_00103:
1347  0331  C9          	ret
1348  0332              	SECTION code_compiler
1349  0332              ;	---------------------------------
1350  0332              ; Function spr_page_left
1351  0332              ; ---------------------------------
1352  0332              _spr_page_left:
1353  0332  2A 00 00    	ld	hl,(_sprite)
1354  0335  26 00       	ld	h,0x00
1355  0337  01 00 00    	ld	bc,_class
1356  033A  09          	add	hl,bc
1357  033B  7E          	ld	a,(hl)
1358  033C  D6 10       	sub	a,0x10
1359  033E  28 04       	jr	Z,l_spr_page_left_00102
1360  0340  2E 00       	ld	l,0x00
1361  0342  18 14       	jr	l_spr_page_left_00105
1362  0344              l_spr_page_left_00102:
1363  0344  21 00 00    	ld	hl,_scr_curr
1364  0347  7E          	ld	a, (hl)
1365  0348  B7          	or	a, a
1366  0349  28 0B       	jr	Z,l_spr_page_left_00104
1367  034B  35          	dec	(hl)
1368  034C  CD 59 03    	call	_spr_page_map
1369  034F  CD 86 06    	call	_spr_draw_map
1370  0352  2E 01       	ld	l,0x01
1371  0354  18 02       	jr	l_spr_page_left_00105
1372  0356              l_spr_page_left_00104:
1373  0356  2E 00       	ld	l,0x00
1374  0358              l_spr_page_left_00105:
1375  0358  C9          	ret
1376  0359              	SECTION code_compiler
1377  0359              ;	---------------------------------
1378  0359              ; Function spr_page_map
1379  0359              ; ---------------------------------
1380  0359              _spr_page_map:
1381  0359  CD 00 00    	call	___sdcc_enter_ix
1382  035C  F5          	push	af
1383  035D  3E 10       	ld	a,0x10
1384  035F  F5          	push	af
1385  0360  33          	inc	sp
1386  0361  0E 00       	ld	c,0x00
1387  0363              l_spr_page_map_00123:
1388  0363  3E 07       	ld	a,0x07
1389  0365  21 00 00    	ld	hl,_scr_curr
1390  0368  96          	sub	a, (hl)
1391  0369  DA 33 04    	jp	C, l_spr_page_map_00109
1392  036C  59          	ld	e, c
1393  036D  16 00       	ld	d,0x00
1394  036F  13          	inc	de
1395  0370  D5          	push	de
1396  0371  5E          	ld	e, (hl)
1397  0372  16 00       	ld	d,0x00
1398  0374  21 7C 03    	ld	hl,l_spr_page_map_00167
1399  0377  19          	add	hl, de
1400  0378  19          	add	hl, de
1401  0379  19          	add	hl, de
1402  037A  D1          	pop	de
1403  037B  E9          	jp	(hl)
1404  037C              l_spr_page_map_00167:
1405  037C  C3 94 03    	jp	l_spr_page_map_00101
1406  037F  C3 A9 03    	jp	l_spr_page_map_00102
1407  0382  C3 BD 03    	jp	l_spr_page_map_00103
1408  0385  C3 D1 03    	jp	l_spr_page_map_00104
1409  0388  C3 E5 03    	jp	l_spr_page_map_00105
1410  038B  C3 F9 03    	jp	l_spr_page_map_00106
1411  038E  C3 0D 04    	jp	l_spr_page_map_00107
1412  0391  C3 21 04    	jp	l_spr_page_map_00108
1413  0394              l_spr_page_map_00101:
1414  0394  06 00       	ld	b,0x00
1415  0396  21 00 00    	ld	hl,_scr_0
1416  0399  09          	add	hl, bc
1417  039A  7E          	ld	a, (hl)
1418  039B  DD 77 FF    	ld	(ix-1),a
1419  039E  21 00 00    	ld	hl,_scr_0
1420  03A1  19          	add	hl, de
1421  03A2  7E          	ld	a, (hl)
1422  03A3  DD 77 FE    	ld	(ix-2),a
1423  03A6  C3 33 04    	jp	l_spr_page_map_00109
1424  03A9              l_spr_page_map_00102:
1425  03A9  06 00       	ld	b,0x00
1426  03AB  21 00 00    	ld	hl,_scr_1
1427  03AE  09          	add	hl, bc
1428  03AF  7E          	ld	a, (hl)
1429  03B0  DD 77 FF    	ld	(ix-1),a
1430  03B3  21 00 00    	ld	hl,_scr_1
1431  03B6  19          	add	hl, de
1432  03B7  7E          	ld	a, (hl)
1433  03B8  DD 77 FE    	ld	(ix-2),a
1434  03BB  18 76       	jr	l_spr_page_map_00109
1435  03BD              l_spr_page_map_00103:
1436  03BD  06 00       	ld	b,0x00
1437  03BF  21 00 00    	ld	hl,_scr_2
1438  03C2  09          	add	hl, bc
1439  03C3  7E          	ld	a, (hl)
1440  03C4  DD 77 FF    	ld	(ix-1),a
1441  03C7  21 00 00    	ld	hl,_scr_2
1442  03CA  19          	add	hl, de
1443  03CB  7E          	ld	a, (hl)
1444  03CC  DD 77 FE    	ld	(ix-2),a
1445  03CF  18 62       	jr	l_spr_page_map_00109
1446  03D1              l_spr_page_map_00104:
1447  03D1  06 00       	ld	b,0x00
1448  03D3  21 00 00    	ld	hl,_scr_3
1449  03D6  09          	add	hl, bc
1450  03D7  7E          	ld	a, (hl)
1451  03D8  DD 77 FF    	ld	(ix-1),a
1452  03DB  21 00 00    	ld	hl,_scr_3
1453  03DE  19          	add	hl, de
1454  03DF  7E          	ld	a, (hl)
1455  03E0  DD 77 FE    	ld	(ix-2),a
1456  03E3  18 4E       	jr	l_spr_page_map_00109
1457  03E5              l_spr_page_map_00105:
1458  03E5  06 00       	ld	b,0x00
1459  03E7  21 00 00    	ld	hl,_scr_4
1460  03EA  09          	add	hl, bc
1461  03EB  7E          	ld	a, (hl)
1462  03EC  DD 77 FF    	ld	(ix-1),a
1463  03EF  21 00 00    	ld	hl,_scr_4
1464  03F2  19          	add	hl, de
1465  03F3  7E          	ld	a, (hl)
1466  03F4  DD 77 FE    	ld	(ix-2),a
1467  03F7  18 3A       	jr	l_spr_page_map_00109
1468  03F9              l_spr_page_map_00106:
1469  03F9  06 00       	ld	b,0x00
1470  03FB  21 00 00    	ld	hl,_scr_5
1471  03FE  09          	add	hl, bc
1472  03FF  7E          	ld	a, (hl)
1473  0400  DD 77 FF    	ld	(ix-1),a
1474  0403  21 00 00    	ld	hl,_scr_5
1475  0406  19          	add	hl, de
1476  0407  7E          	ld	a, (hl)
1477  0408  DD 77 FE    	ld	(ix-2),a
1478  040B  18 26       	jr	l_spr_page_map_00109
1479  040D              l_spr_page_map_00107:
1480  040D  06 00       	ld	b,0x00
1481  040F  21 00 00    	ld	hl,_scr_6
1482  0412  09          	add	hl, bc
1483  0413  7E          	ld	a, (hl)
1484  0414  DD 77 FF    	ld	(ix-1),a
1485  0417  21 00 00    	ld	hl,_scr_6
1486  041A  19          	add	hl, de
1487  041B  7E          	ld	a, (hl)
1488  041C  DD 77 FE    	ld	(ix-2),a
1489  041F  18 12       	jr	l_spr_page_map_00109
1490  0421              l_spr_page_map_00108:
1491  0421  06 00       	ld	b,0x00
1492  0423  21 00 00    	ld	hl,_scr_7
1493  0426  09          	add	hl, bc
1494  0427  7E          	ld	a, (hl)
1495  0428  DD 77 FF    	ld	(ix-1),a
1496  042B  21 00 00    	ld	hl,_scr_7
1497  042E  19          	add	hl, de
1498  042F  7E          	ld	a, (hl)
1499  0430  DD 77 FE    	ld	(ix-2),a
1500  0433              l_spr_page_map_00109:
1501  0433  DD 7E FF    	ld	a,(ix-1)
1502  0436  D6 80       	sub	a,0x80
1503  0438  30 14       	jr	NC,l_spr_page_map_00114
1504  043A  3E 00       	ld	a, +((_scr_map) & 0xFF)
1505  043C  DD 86 FD    	add	a,(ix-3)
1506  043F  5F          	ld	e, a
1507  0440  3E 00       	ld	a, +((_scr_map) / 256)
1508  0442  CE 00       	adc	a,0x00
1509  0444  57          	ld	d, a
1510  0445  DD 7E FF    	ld	a,(ix-1)
1511  0448  12          	ld	(de), a
1512  0449  DD 34 FD    	inc	(ix-3)
1513  044C  18 29       	jr	l_spr_page_map_00115
1514  044E              l_spr_page_map_00114:
1515  044E  DD 7E FF    	ld	a,(ix-1)
1516  0451  C6 80       	add	a,0x80
1517  0453  47          	ld	b, a
1518  0454  DD 5E FD    	ld	e,(ix-3)
1519  0457  16 00       	ld	d,0x00
1520  0459              l_spr_page_map_00121:
1521  0459  7A          	ld	a, d
1522  045A  90          	sub	a, b
1523  045B  30 16       	jr	NC,l_spr_page_map_00138
1524  045D  3E 00       	ld	a, +((_scr_map) & 0xFF)
1525  045F  83          	add	a, e
1526  0460  6F          	ld	l, a
1527  0461  3E 00       	ld	a, +((_scr_map) / 256)
1528  0463  CE 00       	adc	a,0x00
1529  0465  67          	ld	h, a
1530  0466  DD 7E FE    	ld	a,(ix-2)
1531  0469  77          	ld	(hl), a
1532  046A  1C          	inc	e
1533  046B  7B          	ld	a, e
1534  046C  D6 A0       	sub	a,0xa0
1535  046E  30 03       	jr	NC,l_spr_page_map_00138
1536  0470  14          	inc	d
1537  0471  18 E6       	jr	l_spr_page_map_00121
1538  0473              l_spr_page_map_00138:
1539  0473  DD 73 FD    	ld	(ix-3),e
1540  0476  0C          	inc	c
1541  0477              l_spr_page_map_00115:
1542  0477  DD 7E FD    	ld	a,(ix-3)
1543  047A  D6 A0       	sub	a,0xa0
1544  047C  30 07       	jr	NC,l_spr_page_map_00136
1545  047E  0C          	inc	c
1546  047F  79          	ld	a, c
1547  0480  D6 A0       	sub	a,0xa0
1548  0482  DA 63 03    	jp	C, l_spr_page_map_00123
1549  0485              l_spr_page_map_00136:
1550  0485  0E 00       	ld	c,0x00
1551  0487              l_spr_page_map_00125:
1552  0487  06 00       	ld	b,0x00
1553  0489  21 00 00    	ld	hl,_class
1554  048C  09          	add	hl, bc
1555  048D  36 00       	ld	(hl),0x00
1556  048F  C5          	push	bc
1557  0490  21 00 00    	ld	hl,0x0000
1558  0493  E5          	push	hl
1559  0494  AF          	xor	a, a
1560  0495  F5          	push	af
1561  0496  33          	inc	sp
1562  0497  79          	ld	a, c
1563  0498  F5          	push	af
1564  0499  33          	inc	sp
1565  049A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1566  049D  C1          	pop	bc
1567  049E  0C          	inc	c
1568  049F  79          	ld	a, c
1569  04A0  D6 07       	sub	a,0x07
1570  04A2  38 E3       	jr	C,l_spr_page_map_00125
1571  04A4  CD BB 0B    	call	_spr_init_anim
1572  04A7  CD CD 0B    	call	_spr_init_bullet
1573  04AA  DD F9       	ld	sp, ix
1574  04AC  DD E1       	pop	ix
1575  04AE  C9          	ret
1576  04AF              	SECTION code_compiler
1577  04AF              ;	---------------------------------
1578  04AF              ; Function spr_redraw
1579  04AF              ; ---------------------------------
1580  04AF              _spr_redraw:
1581  04AF  2A 00 00    	ld	hl,(_sprite)
1582  04B2  26 00       	ld	h,0x00
1583  04B4  01 00 00    	ld	bc,_tile
1584  04B7  09          	add	hl,bc
1585  04B8  4E          	ld	c, (hl)
1586  04B9  3A 00 00    	ld	a,(_sprite)
1587  04BC  5F          	ld	e,a
1588  04BD  16 00       	ld	d,0x00
1589  04BF  21 00 00    	ld	hl,_colint
1590  04C2  19          	add	hl,de
1591  04C3  7E          	ld	a,(hl)
1592  04C4  81          	add	a,c
1593  04C5  32 00 00    	ld	(_s_tile1),a
1594  04C8  2A 00 00    	ld	hl,(_sprite)
1595  04CB  26 00       	ld	h,0x00
1596  04CD  01 00 00    	ld	bc,_col
1597  04D0  09          	add	hl,bc
1598  04D1  7E          	ld	a,(hl)
1599  04D2  32 00 00    	ld	(_s_col1),a
1600  04D5  2A 00 00    	ld	hl,(_sprite)
1601  04D8  26 00       	ld	h,0x00
1602  04DA  01 00 00    	ld	bc,_lin
1603  04DD  09          	add	hl,bc
1604  04DE  7E          	ld	a,(hl)
1605  04DF  32 00 00    	ld	(_s_lin1),a
1606  04E2  21 00 00    	ld	hl,_s_lin0
1607  04E5  96          	sub	a, (hl)
1608  04E6  20 09       	jr	NZ,l_spr_redraw_00109
1609  04E8  3A 00 00    	ld	a,(_s_col1)
1610  04EB  21 00 00    	ld	hl,_s_col0
1611  04EE  96          	sub	a, (hl)
1612  04EF  28 52       	jr	Z,l_spr_redraw_00110
1613  04F1              l_spr_redraw_00109:
1614  04F1  3E 10       	ld	a,0x10
1615  04F3  21 00 00    	ld	hl,_s_lin0
1616  04F6  96          	sub	a, (hl)
1617  04F7  38 0E       	jr	C,l_spr_redraw_00102
1618  04F9  F3          	di
1619  04FA  3A 00 00    	ld	a,(_s_col0)
1620  04FD  F5          	push	af
1621  04FE  33          	inc	sp
1622  04FF  21 49 08    	ld	hl,0x0849
1623  0502  E5          	push	hl
1624  0503  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1625  0506  FB          	ei
1626  0507              l_spr_redraw_00102:
1627  0507  3A 00 00    	ld	a,(_sprite)
1628  050A  D6 07       	sub	a,0x07
1629  050C  20 1B       	jr	NZ,l_spr_redraw_00104
1630  050E  3A 00 00    	ld	a,(_player_over_stair)
1631  0511  B7          	or	a, a
1632  0512  28 15       	jr	Z,l_spr_redraw_00104
1633  0514  2A 00 00    	ld	hl,(_sprite)
1634  0517  26 00       	ld	h,0x00
1635  0519  01 00 00    	ld	bc,_lin
1636  051C  09          	add	hl,bc
1637  051D  7E          	ld	a,(hl)
1638  051E  E6 03       	and	a,0x03
1639  0520  20 07       	jr	NZ,l_spr_redraw_00104
1640  0522  21 00 00    	ld	hl,_s_tile1
1641  0525  34          	inc	(hl)
1642  0526  34          	inc	(hl)
1643  0527  34          	inc	(hl)
1644  0528  34          	inc	(hl)
1645  0529              l_spr_redraw_00104:
1646  0529  2A FF FF    	ld	hl,(_s_col1 - 1)
1647  052C  3A 00 00    	ld	a,(_s_lin1)
1648  052F  6F          	ld	l,a
1649  0530  E5          	push	hl
1650  0531  2A FF FF    	ld	hl,(_s_tile1 - 1)
1651  0534  3A 00 00    	ld	a,(_sprite)
1652  0537  6F          	ld	l,a
1653  0538  E5          	push	hl
1654  0539  CD 00 00    	call	_NIRVANAP_spriteT_callee
1655  053C  CD 2F 0A    	call	_spr_back_repaint
1656  053F  2E 01       	ld	l,0x01
1657  0541  18 22       	jr	l_spr_redraw_00113
1658  0543              l_spr_redraw_00110:
1659  0543  3A 00 00    	ld	a,(_s_tile1)
1660  0546  21 00 00    	ld	hl,_s_tile0
1661  0549  96          	sub	a, (hl)
1662  054A  28 17       	jr	Z,l_spr_redraw_00111
1663  054C  2A FF FF    	ld	hl,(_s_col1 - 1)
1664  054F  3A 00 00    	ld	a,(_s_lin1)
1665  0552  6F          	ld	l,a
1666  0553  E5          	push	hl
1667  0554  2A FF FF    	ld	hl,(_s_tile1 - 1)
1668  0557  3A 00 00    	ld	a,(_sprite)
1669  055A  6F          	ld	l,a
1670  055B  E5          	push	hl
1671  055C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1672  055F  2E 00       	ld	l,0x00
1673  0561  18 02       	jr	l_spr_redraw_00113
1674  0563              l_spr_redraw_00111:
1675  0563  2E 00       	ld	l,0x00
1676  0565              l_spr_redraw_00113:
1677  0565  C9          	ret
1678  0566              	SECTION code_compiler
1679  0566              ;	---------------------------------
1680  0566              ; Function spr_destroy
1681  0566              ; ---------------------------------
1682  0566              _spr_destroy:
1683  0566  CD 00 00    	call	___sdcc_enter_ix
1684  0569  F5          	push	af
1685  056A  4D          	ld	c, l
1686  056B  21 00 00    	ld	hl,_spr_count
1687  056E  35          	dec	(hl)
1688  056F  3E 00       	ld	a, +((_lin) & 0xFF)
1689  0571  81          	add	a, c
1690  0572  DD 77 FE    	ld	(ix-2),a
1691  0575  3E 00       	ld	a, +((_lin) / 256)
1692  0577  CE 00       	adc	a,0x00
1693  0579  DD 77 FF    	ld	(ix-1),a
1694  057C  E1          	pop	hl
1695  057D  7E          	ld	a,(hl)
1696  057E  E5          	push	hl
1697  057F  32 00 00    	ld	(_s_lin0),a
1698  0582  3E 00       	ld	a, +((_col) & 0xFF)
1699  0584  81          	add	a, c
1700  0585  5F          	ld	e, a
1701  0586  3E 00       	ld	a, +((_col) / 256)
1702  0588  CE 00       	adc	a,0x00
1703  058A  57          	ld	d, a
1704  058B  1A          	ld	a, (de)
1705  058C  32 00 00    	ld	(_s_col0),a
1706  058F  C5          	push	bc
1707  0590  D5          	push	de
1708  0591  21 00 00    	ld	hl,0x0000
1709  0594  E5          	push	hl
1710  0595  AF          	xor	a, a
1711  0596  F5          	push	af
1712  0597  33          	inc	sp
1713  0598  79          	ld	a, c
1714  0599  F5          	push	af
1715  059A  33          	inc	sp
1716  059B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1717  059E  CD 2F 0A    	call	_spr_back_repaint
1718  05A1  D1          	pop	de
1719  05A2  C1          	pop	bc
1720  05A3  06 00       	ld	b,0x00
1721  05A5  21 00 00    	ld	hl,_tile
1722  05A8  09          	add	hl, bc
1723  05A9  AF          	xor	a,a
1724  05AA  77          	ld	(hl),a
1725  05AB  E1          	pop	hl
1726  05AC  12          	ld	(de),a
1727  05AD  E5          	push	hl
1728  05AE  36 00       	ld	(hl),0x00
1729  05B0  11 00 00    	ld	de,_class+0
1730  05B3  69          	ld	l,c
1731  05B4  26 00       	ld	h,0x00
1732  05B6  19          	add	hl, de
1733  05B7  36 00       	ld	(hl),0x00
1734  05B9  11 00 00    	ld	de,_state+0
1735  05BC  69          	ld	l,c
1736  05BD  26 00       	ld	h,0x00
1737  05BF  19          	add	hl, de
1738  05C0  36 00       	ld	(hl),0x00
1739  05C2  11 00 00    	ld	de,_state_a+0
1740  05C5  69          	ld	l,c
1741  05C6  26 00       	ld	h,0x00
1742  05C8  19          	add	hl, de
1743  05C9  F1          	pop	af
1744  05CA  36 00       	ld	(hl),0x00
1745  05CC  DD E1       	pop	ix
1746  05CE  C9          	ret
1747  05CF              	SECTION code_compiler
1748  05CF              ;	---------------------------------
1749  05CF              ; Function spr_tile
1750  05CF              ; ---------------------------------
1751  05CF              _spr_tile:
1752  05CF  45          	ld	b,l
1753  05D0  11 00 00    	ld	de,_class+0
1754  05D3  26 00       	ld	h,0x00
1755  05D5  19          	add	hl, de
1756  05D6  7E          	ld	a, (hl)
1757  05D7  FE 01       	cp	a,0x01
1758  05D9  28 12       	jr	Z,l_spr_tile_00101
1759  05DB  FE 02       	cp	a,0x02
1760  05DD  28 1D       	jr	Z,l_spr_tile_00102
1761  05DF  FE 03       	cp	a,0x03
1762  05E1  28 28       	jr	Z,l_spr_tile_00103
1763  05E3  FE 04       	cp	a,0x04
1764  05E5  28 34       	jr	Z,l_spr_tile_00104
1765  05E7  D6 05       	sub	a,0x05
1766  05E9  28 3F       	jr	Z,l_spr_tile_00105
1767  05EB  18 4D       	jr	l_spr_tile_00106
1768  05ED              l_spr_tile_00101:
1769  05ED  AF          	xor	a, a
1770  05EE  48          	ld	c,b
1771  05EF  47          	ld	b,a
1772  05F0  C5          	push	bc
1773  05F1  3E 84       	ld	a,0x84
1774  05F3  F5          	push	af
1775  05F4  33          	inc	sp
1776  05F5  CD 3D 06    	call	_spr_tile_dir
1777  05F8  F1          	pop	af
1778  05F9  33          	inc	sp
1779  05FA  18 40       	jr	l_spr_tile_00107
1780  05FC              l_spr_tile_00102:
1781  05FC  AF          	xor	a, a
1782  05FD  48          	ld	c,b
1783  05FE  47          	ld	b,a
1784  05FF  C5          	push	bc
1785  0600  3E 88       	ld	a,0x88
1786  0602  F5          	push	af
1787  0603  33          	inc	sp
1788  0604  CD 3D 06    	call	_spr_tile_dir
1789  0607  F1          	pop	af
1790  0608  33          	inc	sp
1791  0609  18 31       	jr	l_spr_tile_00107
1792  060B              l_spr_tile_00103:
1793  060B  3E 02       	ld	a,0x02
1794  060D  48          	ld	c,b
1795  060E  47          	ld	b,a
1796  060F  C5          	push	bc
1797  0610  3E 8C       	ld	a,0x8c
1798  0612  F5          	push	af
1799  0613  33          	inc	sp
1800  0614  CD 3D 06    	call	_spr_tile_dir
1801  0617  F1          	pop	af
1802  0618  33          	inc	sp
1803  0619  18 21       	jr	l_spr_tile_00107
1804  061B              l_spr_tile_00104:
1805  061B  AF          	xor	a, a
1806  061C  48          	ld	c,b
1807  061D  47          	ld	b,a
1808  061E  C5          	push	bc
1809  061F  3E 90       	ld	a,0x90
1810  0621  F5          	push	af
1811  0622  33          	inc	sp
1812  0623  CD 3D 06    	call	_spr_tile_dir
1813  0626  F1          	pop	af
1814  0627  33          	inc	sp
1815  0628  18 12       	jr	l_spr_tile_00107
1816  062A              l_spr_tile_00105:
1817  062A  3E 04       	ld	a,0x04
1818  062C  48          	ld	c,b
1819  062D  47          	ld	b,a
1820  062E  C5          	push	bc
1821  062F  3E 94       	ld	a,0x94
1822  0631  F5          	push	af
1823  0632  33          	inc	sp
1824  0633  CD 3D 06    	call	_spr_tile_dir
1825  0636  F1          	pop	af
1826  0637  33          	inc	sp
1827  0638  18 02       	jr	l_spr_tile_00107
1828  063A              l_spr_tile_00106:
1829  063A  2E 00       	ld	l,0x00
1830  063C              l_spr_tile_00107:
1831  063C  C9          	ret
1832  063D              	SECTION code_compiler
1833  063D              ;	---------------------------------
1834  063D              ; Function spr_tile_dir
1835  063D              ; ---------------------------------
1836  063D              _spr_tile_dir:
1837  063D  CD 00 00    	call	___sdcc_enter_ix
1838  0640  3E 00       	ld	a, +((_state) & 0xFF)
1839  0642  DD 86 05    	add	a,(ix+5)
1840  0645  4F          	ld	c, a
1841  0646  3E 00       	ld	a, +((_state) / 256)
1842  0648  CE 00       	adc	a,0x00
1843  064A  47          	ld	b, a
1844  064B  0A          	ld	a, (bc)
1845  064C  4F          	ld	c,a
1846  064D  CB 57       	bit	2,a
1847  064F  28 05       	jr	Z,l_spr_tile_dir_00102
1848  0651  DD 6E 04    	ld	l,(ix+4)
1849  0654  18 2D       	jr	l_spr_tile_dir_00109
1850  0656              l_spr_tile_dir_00102:
1851  0656  DD 7E 04    	ld	a,(ix+4)
1852  0659  DD 86 06    	add	a,(ix+6)
1853  065C  47          	ld	b, a
1854  065D  CB 59       	bit	3, c
1855  065F  28 03       	jr	Z,l_spr_tile_dir_00104
1856  0661  68          	ld	l, b
1857  0662  18 1F       	jr	l_spr_tile_dir_00109
1858  0664              l_spr_tile_dir_00104:
1859  0664  3E 00       	ld	a, +((_state_a) & 0xFF)
1860  0666  DD 86 05    	add	a,(ix+5)
1861  0669  5F          	ld	e, a
1862  066A  3E 00       	ld	a, +((_state_a) / 256)
1863  066C  CE 00       	adc	a,0x00
1864  066E  57          	ld	d, a
1865  066F  1A          	ld	a, (de)
1866  0670  CB 67       	bit	4, a
1867  0672  28 05       	jr	Z,l_spr_tile_dir_00106
1868  0674  DD 6E 04    	ld	l,(ix+4)
1869  0677  18 0A       	jr	l_spr_tile_dir_00109
1870  0679              l_spr_tile_dir_00106:
1871  0679  CB 5F       	bit	3, a
1872  067B  28 03       	jr	Z,l_spr_tile_dir_00108
1873  067D  68          	ld	l, b
1874  067E  18 03       	jr	l_spr_tile_dir_00109
1875  0680              l_spr_tile_dir_00108:
1876  0680  DD 6E 04    	ld	l,(ix+4)
1877  0683              l_spr_tile_dir_00109:
1878  0683  DD E1       	pop	ix
1879  0685  C9          	ret
1880  0686              	SECTION code_compiler
1881  0686              ;	---------------------------------
1882  0686              ; Function spr_draw_map
1883  0686              ; ---------------------------------
1884  0686              _spr_draw_map:
1885  0686  76          	halt
1886  0687  21 10 00    	ld	hl,0x0010
1887  068A  22 00 00    	ld	(_index1),hl
1888  068D  21 00 00    	ld	hl,_s_lin1
1889  0690  36 00       	ld	(hl),0x00
1890  0692  21 00 00    	ld	hl,_s_col1
1891  0695  36 02       	ld	(hl),0x02
1892  0697  21 00 00    	ld	hl,_spr_count
1893  069A  36 00       	ld	(hl),0x00
1894  069C  F3          	di
1895  069D              l_spr_draw_map_00117:
1896  069D  21 00 00    	ld	hl,_index1
1897  06A0  7E          	ld	a, (hl)
1898  06A1  D6 A0       	sub	a,0xa0
1899  06A3  23          	inc	hl
1900  06A4  7E          	ld	a, (hl)
1901  06A5  DE 00       	sbc	a,0x00
1902  06A7  D2 01 08    	jp	NC, l_spr_draw_map_00119
1903  06AA  2B          	dec	hl
1904  06AB  7E          	ld	a, (hl)
1905  06AC  E6 0F       	and	a,0x0f
1906  06AE  20 0C       	jr	NZ,l_spr_draw_map_00102
1907  06B0  21 00 00    	ld	hl,_s_lin1
1908  06B3  7E          	ld	a, (hl)
1909  06B4  C6 10       	add	a,0x10
1910  06B6  77          	ld	(hl), a
1911  06B7  21 00 00    	ld	hl,_s_col1
1912  06BA  36 00       	ld	(hl),0x00
1913  06BC              l_spr_draw_map_00102:
1914  06BC  01 00 00    	ld	bc,_scr_map
1915  06BF  2A 00 00    	ld	hl,(_index1)
1916  06C2  09          	add	hl,bc
1917  06C3  7E          	ld	a,(hl)
1918  06C4  47          	ld	b,a
1919  06C5  D6 54       	sub	a,0x54
1920  06C7  3E 00       	ld	a,0x00
1921  06C9  17          	rla
1922  06CA  B7          	or	a, a
1923  06CB  28 11       	jr	Z,l_spr_draw_map_00115
1924  06CD  3A 00 00    	ld	a,(_s_col1)
1925  06D0  F5          	push	af
1926  06D1  33          	inc	sp
1927  06D2  3A 00 00    	ld	a,(_s_lin1)
1928  06D5  48          	ld	c,b
1929  06D6  47          	ld	b,a
1930  06D7  C5          	push	bc
1931  06D8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1932  06DB  C3 F0 07    	jp	l_spr_draw_map_00116
1933  06DE              l_spr_draw_map_00115:
1934  06DE  B7          	or	a, a
1935  06DF  C2 E7 07    	jp	NZ, l_spr_draw_map_00113
1936  06E2  3E 5D       	ld	a,0x5d
1937  06E4  90          	sub	a, b
1938  06E5  DA E7 07    	jp	C, l_spr_draw_map_00113
1939  06E8  78          	ld	a, b
1940  06E9  C6 AC       	add	a,0xac
1941  06EB  4F          	ld	c, a
1942  06EC  06 00       	ld	b,0x00
1943  06EE  21 F5 06    	ld	hl,l_spr_draw_map_00148
1944  06F1  09          	add	hl, bc
1945  06F2  09          	add	hl, bc
1946  06F3  09          	add	hl, bc
1947  06F4  E9          	jp	(hl)
1948  06F5              l_spr_draw_map_00148:
1949  06F5  C3 29 07    	jp	l_spr_draw_map_00104
1950  06F8  C3 13 07    	jp	l_spr_draw_map_00103
1951  06FB  C3 55 07    	jp	l_spr_draw_map_00106
1952  06FE  C3 3F 07    	jp	l_spr_draw_map_00105
1953  0701  C3 80 07    	jp	l_spr_draw_map_00108
1954  0704  C3 6B 07    	jp	l_spr_draw_map_00107
1955  0707  C3 AA 07    	jp	l_spr_draw_map_00110
1956  070A  C3 95 07    	jp	l_spr_draw_map_00109
1957  070D  C3 D4 07    	jp	l_spr_draw_map_00112
1958  0710  C3 BF 07    	jp	l_spr_draw_map_00111
1959  0713              l_spr_draw_map_00103:
1960  0713  3A 00 00    	ld	a,(_s_col1)
1961  0716  21 01 01    	ld	hl,0x0101
1962  0719  E5          	push	hl
1963  071A  F5          	push	af
1964  071B  33          	inc	sp
1965  071C  3A 00 00    	ld	a,(_s_lin1)
1966  071F  F5          	push	af
1967  0720  33          	inc	sp
1968  0721  CD 00 00    	call	_enemy_init
1969  0724  F1          	pop	af
1970  0725  F1          	pop	af
1971  0726  C3 E7 07    	jp	l_spr_draw_map_00113
1972  0729              l_spr_draw_map_00104:
1973  0729  3A 00 00    	ld	a,(_s_col1)
1974  072C  21 01 FF    	ld	hl,0xff01
1975  072F  E5          	push	hl
1976  0730  F5          	push	af
1977  0731  33          	inc	sp
1978  0732  3A 00 00    	ld	a,(_s_lin1)
1979  0735  F5          	push	af
1980  0736  33          	inc	sp
1981  0737  CD 00 00    	call	_enemy_init
1982  073A  F1          	pop	af
1983  073B  F1          	pop	af
1984  073C  C3 E7 07    	jp	l_spr_draw_map_00113
1985  073F              l_spr_draw_map_00105:
1986  073F  3A 00 00    	ld	a,(_s_col1)
1987  0742  21 02 01    	ld	hl,0x0102
1988  0745  E5          	push	hl
1989  0746  F5          	push	af
1990  0747  33          	inc	sp
1991  0748  3A 00 00    	ld	a,(_s_lin1)
1992  074B  F5          	push	af
1993  074C  33          	inc	sp
1994  074D  CD 00 00    	call	_enemy_init
1995  0750  F1          	pop	af
1996  0751  F1          	pop	af
1997  0752  C3 E7 07    	jp	l_spr_draw_map_00113
1998  0755              l_spr_draw_map_00106:
1999  0755  3A 00 00    	ld	a,(_s_col1)
2000  0758  21 02 FF    	ld	hl,0xff02
2001  075B  E5          	push	hl
2002  075C  F5          	push	af
2003  075D  33          	inc	sp
2004  075E  3A 00 00    	ld	a,(_s_lin1)
2005  0761  F5          	push	af
2006  0762  33          	inc	sp
2007  0763  CD 00 00    	call	_enemy_init
2008  0766  F1          	pop	af
2009  0767  F1          	pop	af
2010  0768  C3 E7 07    	jp	l_spr_draw_map_00113
2011  076B              l_spr_draw_map_00107:
2012  076B  3A 00 00    	ld	a,(_s_col1)
2013  076E  21 03 01    	ld	hl,0x0103
2014  0771  E5          	push	hl
2015  0772  F5          	push	af
2016  0773  33          	inc	sp
2017  0774  3A 00 00    	ld	a,(_s_lin1)
2018  0777  F5          	push	af
2019  0778  33          	inc	sp
2020  0779  CD 00 00    	call	_enemy_init
2021  077C  F1          	pop	af
2022  077D  F1          	pop	af
2023  077E  18 67       	jr	l_spr_draw_map_00113
2024  0780              l_spr_draw_map_00108:
2025  0780  3A 00 00    	ld	a,(_s_col1)
2026  0783  21 03 FF    	ld	hl,0xff03
2027  0786  E5          	push	hl
2028  0787  F5          	push	af
2029  0788  33          	inc	sp
2030  0789  3A 00 00    	ld	a,(_s_lin1)
2031  078C  F5          	push	af
2032  078D  33          	inc	sp
2033  078E  CD 00 00    	call	_enemy_init
2034  0791  F1          	pop	af
2035  0792  F1          	pop	af
2036  0793  18 52       	jr	l_spr_draw_map_00113
2037  0795              l_spr_draw_map_00109:
2038  0795  3A 00 00    	ld	a,(_s_col1)
2039  0798  21 04 01    	ld	hl,0x0104
2040  079B  E5          	push	hl
2041  079C  F5          	push	af
2042  079D  33          	inc	sp
2043  079E  3A 00 00    	ld	a,(_s_lin1)
2044  07A1  F5          	push	af
2045  07A2  33          	inc	sp
2046  07A3  CD 00 00    	call	_enemy_init
2047  07A6  F1          	pop	af
2048  07A7  F1          	pop	af
2049  07A8  18 3D       	jr	l_spr_draw_map_00113
2050  07AA              l_spr_draw_map_00110:
2051  07AA  3A 00 00    	ld	a,(_s_col1)
2052  07AD  21 04 FF    	ld	hl,0xff04
2053  07B0  E5          	push	hl
2054  07B1  F5          	push	af
2055  07B2  33          	inc	sp
2056  07B3  3A 00 00    	ld	a,(_s_lin1)
2057  07B6  F5          	push	af
2058  07B7  33          	inc	sp
2059  07B8  CD 00 00    	call	_enemy_init
2060  07BB  F1          	pop	af
2061  07BC  F1          	pop	af
2062  07BD  18 28       	jr	l_spr_draw_map_00113
2063  07BF              l_spr_draw_map_00111:
2064  07BF  3A 00 00    	ld	a,(_s_col1)
2065  07C2  21 05 01    	ld	hl,0x0105
2066  07C5  E5          	push	hl
2067  07C6  F5          	push	af
2068  07C7  33          	inc	sp
2069  07C8  3A 00 00    	ld	a,(_s_lin1)
2070  07CB  F5          	push	af
2071  07CC  33          	inc	sp
2072  07CD  CD 00 00    	call	_enemy_init
2073  07D0  F1          	pop	af
2074  07D1  F1          	pop	af
2075  07D2  18 13       	jr	l_spr_draw_map_00113
2076  07D4              l_spr_draw_map_00112:
2077  07D4  3A 00 00    	ld	a,(_s_col1)
2078  07D7  21 05 FF    	ld	hl,0xff05
2079  07DA  E5          	push	hl
2080  07DB  F5          	push	af
2081  07DC  33          	inc	sp
2082  07DD  3A 00 00    	ld	a,(_s_lin1)
2083  07E0  F5          	push	af
2084  07E1  33          	inc	sp
2085  07E2  CD 00 00    	call	_enemy_init
2086  07E5  F1          	pop	af
2087  07E6  F1          	pop	af
2088  07E7              l_spr_draw_map_00113:
2089  07E7  01 00 00    	ld	bc,_scr_map
2090  07EA  2A 00 00    	ld	hl,(_index1)
2091  07ED  09          	add	hl,bc
2092  07EE  AF          	xor	a,a
2093  07EF  77          	ld	(hl),a
2094  07F0              l_spr_draw_map_00116:
2095  07F0  21 00 00    	ld	hl,_s_col1
2096  07F3  34          	inc	(hl)
2097  07F4  34          	inc	(hl)
2098  07F5  21 00 00    	ld	hl,_index1
2099  07F8  34          	inc	(hl)
2100  07F9  C2 9D 06    	jp	NZ,l_spr_draw_map_00117
2101  07FC  23          	inc	hl
2102  07FD  34          	inc	(hl)
2103  07FE  C3 9D 06    	jp	l_spr_draw_map_00117
2104  0801              l_spr_draw_map_00119:
2105  0801  FB          	ei
2106  0802  C9          	ret
2107  0803              	SECTION code_compiler
2108  0803              ;	---------------------------------
2109  0803              ; Function spr_draw_clear
2110  0803              ; ---------------------------------
2111  0803              _spr_draw_clear:
2112  0803  F3          	di
2113  0804  2E 00       	ld	l,0x00
2114  0806  CD 00 00    	call	_zx_cls_fastcall
2115  0809  21 00 00    	ld	hl,_s_lin1
2116  080C  36 10       	ld	(hl),0x10
2117  080E              l_spr_draw_clear_00105:
2118  080E  21 00 00    	ld	hl,_s_col1
2119  0811  36 00       	ld	(hl),0x00
2120  0813              l_spr_draw_clear_00103:
2121  0813  2A FF FF    	ld	hl,(_s_col1 - 1)
2122  0816  3A 00 00    	ld	a,(_s_lin1)
2123  0819  6F          	ld	l,a
2124  081A  E5          	push	hl
2125  081B  AF          	xor	a, a
2126  081C  F5          	push	af
2127  081D  33          	inc	sp
2128  081E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2129  0821  21 00 00    	ld	hl,_s_col1
2130  0824  7E          	ld	a,(hl)
2131  0825  C6 02       	add	a,0x02
2132  0827  77          	ld	(hl),a
2133  0828  D6 20       	sub	a,0x20
2134  082A  38 E7       	jr	C,l_spr_draw_clear_00103
2135  082C  21 00 00    	ld	hl,_s_lin1
2136  082F  7E          	ld	a, (hl)
2137  0830  C6 10       	add	a,0x10
2138  0832  77          	ld	(hl), a
2139  0833  3E A2       	ld	a,0xa2
2140  0835  96          	sub	a, (hl)
2141  0836  30 D6       	jr	NC,l_spr_draw_clear_00105
2142  0838  FB          	ei
2143  0839  C9          	ret
2144  083A              	SECTION code_compiler
2145  083A              ;	---------------------------------
2146  083A              ; Function spr_brick_anim
2147  083A              ; ---------------------------------
2148  083A              _spr_brick_anim:
2149  083A  CD 00 00    	call	___sdcc_enter_ix
2150  083D  F5          	push	af
2151  083E  DD 75 FF    	ld	(ix-1),l
2152  0841  21 00 00    	ld	hl,_player_hit_col
2153  0844  46          	ld	b, (hl)
2154  0845  21 00 00    	ld	hl,_player_hit_lin
2155  0848  4E          	ld	c, (hl)
2156  0849  C5          	push	bc
2157  084A  C5          	push	bc
2158  084B  CD 00 00    	call	_spr_calc_index
2159  084E  F1          	pop	af
2160  084F  C1          	pop	bc
2161  0850  22 00 00    	ld	(_index1),hl
2162  0853  11 F0 FF    	ld	de,0xfff0
2163  0856  19          	add	hl,de
2164  0857  11 00 00    	ld	de,_scr_map
2165  085A  19          	add	hl, de
2166  085B  7E          	ld	a, (hl)
2167  085C  DD 77 FE    	ld	(ix-2),a
2168  085F  11 00 00    	ld	de,_scr_map
2169  0862  2A 00 00    	ld	hl,(_index1)
2170  0865  19          	add	hl,de
2171  0866  66          	ld	h, (hl)
2172  0867  EB          	ex	de,hl
2173  0868  DD 7E FF    	ld	a,(ix-1)
2174  086B  B7          	or	a, a
2175  086C  28 08       	jr	Z,l_spr_brick_anim_00102
2176  086E  79          	ld	a, c
2177  086F  C6 F6       	add	a,0xf6
2178  0871  32 00 00    	ld	(_tmp),a
2179  0874  18 06       	jr	l_spr_brick_anim_00103
2180  0876              l_spr_brick_anim_00102:
2181  0876  79          	ld	a, c
2182  0877  C6 F8       	add	a,0xf8
2183  0879  32 00 00    	ld	(_tmp),a
2184  087C              l_spr_brick_anim_00103:
2185  087C  F3          	di
2186  087D  DD 7E FF    	ld	a,(ix-1)
2187  0880  B7          	or	a, a
2188  0881  28 18       	jr	Z,l_spr_brick_anim_00105
2189  0883  C5          	push	bc
2190  0884  D5          	push	de
2191  0885  C5          	push	bc
2192  0886  33          	inc	sp
2193  0887  51          	ld	d,c
2194  0888  1E 49       	ld	e,0x49
2195  088A  D5          	push	de
2196  088B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2197  088E  D1          	pop	de
2198  088F  33          	inc	sp
2199  0890  3A 00 00    	ld	a,(_tmp)
2200  0893  5A          	ld	e,d
2201  0894  57          	ld	d,a
2202  0895  D5          	push	de
2203  0896  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2204  0899  18 1C       	jr	l_spr_brick_anim_00106
2205  089B              l_spr_brick_anim_00105:
2206  089B  3A 00 00    	ld	a,(_tmp)
2207  089E  C6 F0       	add	a,0xf0
2208  08A0  C5          	push	bc
2209  08A1  D5          	push	de
2210  08A2  4F          	ld	c,a
2211  08A3  C5          	push	bc
2212  08A4  DD 7E FE    	ld	a,(ix-2)
2213  08A7  F5          	push	af
2214  08A8  33          	inc	sp
2215  08A9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2216  08AC  D1          	pop	de
2217  08AD  33          	inc	sp
2218  08AE  3A 00 00    	ld	a,(_tmp)
2219  08B1  5A          	ld	e,d
2220  08B2  57          	ld	d,a
2221  08B3  D5          	push	de
2222  08B4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2223  08B7              l_spr_brick_anim_00106:
2224  08B7  FB          	ei
2225  08B8  F1          	pop	af
2226  08B9  DD E1       	pop	ix
2227  08BB  C9          	ret
2228  08BC              	SECTION code_compiler
2229  08BC              ;	---------------------------------
2230  08BC              ; Function spr_draw_index
2231  08BC              ; ---------------------------------
2232  08BC              _spr_draw_index:
2233  08BC  CD 00 00    	call	___sdcc_enter_ix
2234  08BF  DD 7E 04    	ld	a,(ix+4)
2235  08C2  E6 1F       	and	a,0x1f
2236  08C4  32 00 00    	ld	(_s_col1),a
2237  08C7  DD 4E 04    	ld	c,(ix+4)
2238  08CA  DD 5E 05    	ld	e,(ix+5)
2239  08CD  06 05       	ld	b,0x05
2240  08CF  79          	ld	a,c
2241  08D0              l_spr_draw_index_00103:
2242  08D0  CB 3B       	srl	e
2243  08D2  1F          	rra
2244  08D3  10 FB       	djnz	l_spr_draw_index_00103
2245  08D5  21 00 00    	ld	hl,_s_lin1
2246  08D8  77          	ld	(hl),a
2247  08D9  07          	rlca
2248  08DA  07          	rlca
2249  08DB  07          	rlca
2250  08DC  E6 F8       	and	a,0xf8
2251  08DE  77          	ld	(hl), a
2252  08DF  3E 00       	ld	a, +((_scr_map) & 0xFF)
2253  08E1  DD 86 04    	add	a,(ix+4)
2254  08E4  4F          	ld	c, a
2255  08E5  3E 00       	ld	a, +((_scr_map) / 256)
2256  08E7  DD 8E 05    	adc	a,(ix+5)
2257  08EA  47          	ld	b, a
2258  08EB  0A          	ld	a, (bc)
2259  08EC  47          	ld	b, a
2260  08ED  3A 00 00    	ld	a,(_s_col1)
2261  08F0  F5          	push	af
2262  08F1  33          	inc	sp
2263  08F2  3A 00 00    	ld	a,(_s_lin1)
2264  08F5  48          	ld	c,b
2265  08F6  47          	ld	b,a
2266  08F7  C5          	push	bc
2267  08F8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2268  08FB  DD E1       	pop	ix
2269  08FD  C9          	ret
2270  08FE              	SECTION code_compiler
2271  08FE              ;	---------------------------------
2272  08FE              ; Function spr_draw_row
2273  08FE              ; ---------------------------------
2274  08FE              _spr_draw_row:
2275  08FE  CD 00 00    	call	___sdcc_enter_ix
2276  0901  3B          	dec	sp
2277  0902  F3          	di
2278  0903  21 00 00    	ld	hl,_tmp
2279  0906  36 00       	ld	(hl),0x00
2280  0908  DD 7E 04    	ld	a,(ix+4)
2281  090B  07          	rlca
2282  090C  07          	rlca
2283  090D  07          	rlca
2284  090E  E6 F8       	and	a,0xf8
2285  0910  DD 77 FF    	ld	(ix-1),a
2286  0913              l_spr_draw_row_00101:
2287  0913  21 00 00    	ld	hl,_tmp
2288  0916  7E          	ld	a, (hl)
2289  0917  D6 20       	sub	a,0x20
2290  0919  30 38       	jr	NC,l_spr_draw_row_00103
2291  091B  DD 4E 04    	ld	c,(ix+4)
2292  091E  3E 00       	ld	a,0x00
2293  0920  CB 21       	sla	c
2294  0922  17          	rla
2295  0923  CB 21       	sla	c
2296  0925  17          	rla
2297  0926  CB 21       	sla	c
2298  0928  17          	rla
2299  0929  CB 21       	sla	c
2300  092B  17          	rla
2301  092C  CB 21       	sla	c
2302  092E  17          	rla
2303  092F  47          	ld	b,a
2304  0930  5E          	ld	e, (hl)
2305  0931  16 00       	ld	d,0x00
2306  0933  79          	ld	a, c
2307  0934  83          	add	a, e
2308  0935  21 00 00    	ld	hl,_index1
2309  0938  77          	ld	(hl), a
2310  0939  78          	ld	a, b
2311  093A  8A          	adc	a, d
2312  093B  23          	inc	hl
2313  093C  77          	ld	(hl), a
2314  093D  2A FF FF    	ld	hl,(_tmp-1)
2315  0940  DD 6E FF    	ld	l,(ix-1)
2316  0943  3A 00 00    	ld	a,(_game_brick_tile)
2317  0946  E5          	push	hl
2318  0947  F5          	push	af
2319  0948  33          	inc	sp
2320  0949  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2321  094C  21 00 00    	ld	hl,_tmp
2322  094F  34          	inc	(hl)
2323  0950  34          	inc	(hl)
2324  0951  18 C0       	jr	l_spr_draw_row_00101
2325  0953              l_spr_draw_row_00103:
2326  0953  FB          	ei
2327  0954  33          	inc	sp
2328  0955  DD E1       	pop	ix
2329  0957  C9          	ret
2330  0958              	SECTION code_compiler
2331  0958              ;	---------------------------------
2332  0958              ; Function spr_calc_hor
2333  0958              ; ---------------------------------
2334  0958              _spr_calc_hor:
2335  0958  CD 00 00    	call	___sdcc_enter_ix
2336  095B  3E 00       	ld	a, +((_col) & 0xFF)
2337  095D  DD 86 04    	add	a,(ix+4)
2338  0960  4F          	ld	c, a
2339  0961  3E 00       	ld	a, +((_col) / 256)
2340  0963  CE 00       	adc	a,0x00
2341  0965  47          	ld	b, a
2342  0966  0A          	ld	a, (bc)
2343  0967  5F          	ld	e, a
2344  0968  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2345  096A  DD 86 04    	add	a,(ix+4)
2346  096D  4F          	ld	c, a
2347  096E  3E 00       	ld	a, +((_sprite_frames) / 256)
2348  0970  CE 00       	adc	a,0x00
2349  0972  47          	ld	b, a
2350  0973  0A          	ld	a, (bc)
2351  0974  67          	ld	h, a
2352  0975  2E 00       	ld	l,0x00
2353  0977  55          	ld	d, l
2354  0978  06 08       	ld	b,0x08
2355  097A              l_spr_calc_hor_00103:
2356  097A  29          	add	hl, hl
2357  097B  30 01       	jr	NC,l_spr_calc_hor_00104
2358  097D  19          	add	hl, de
2359  097E              l_spr_calc_hor_00104:
2360  097E  10 FA       	djnz	l_spr_calc_hor_00103
2361  0980  DD E1       	pop	ix
2362  0982  C9          	ret
2363  0983              	SECTION code_compiler
2364  0983              ;	---------------------------------
2365  0983              ; Function spr_collision_check
2366  0983              ; ---------------------------------
2367  0983              _spr_collision_check:
2368  0983  CD 00 00    	call	___sdcc_enter_ix
2369  0986  3E 00       	ld	a, +((_class) & 0xFF)
2370  0988  DD 86 05    	add	a,(ix+5)
2371  098B  4F          	ld	c, a
2372  098C  3E 00       	ld	a, +((_class) / 256)
2373  098E  CE 00       	adc	a,0x00
2374  0990  47          	ld	b, a
2375  0991  0A          	ld	a, (bc)
2376  0992  B7          	or	a, a
2377  0993  28 10       	jr	Z,l_spr_collision_check_00101
2378  0995  3E 00       	ld	a, +((_state) & 0xFF)
2379  0997  DD 86 05    	add	a,(ix+5)
2380  099A  4F          	ld	c, a
2381  099B  3E 00       	ld	a, +((_state) / 256)
2382  099D  CE 00       	adc	a,0x00
2383  099F  47          	ld	b, a
2384  09A0  0A          	ld	a, (bc)
2385  09A1  CB 6F       	bit	5, a
2386  09A3  28 04       	jr	Z,l_spr_collision_check_00102
2387  09A5              l_spr_collision_check_00101:
2388  09A5  2E 00       	ld	l,0x00
2389  09A7  18 6D       	jr	l_spr_collision_check_00109
2390  09A9              l_spr_collision_check_00102:
2391  09A9  01 00 00    	ld	bc,_lin+0
2392  09AC  79          	ld	a, c
2393  09AD  DD 86 05    	add	a,(ix+5)
2394  09B0  5F          	ld	e, a
2395  09B1  78          	ld	a, b
2396  09B2  CE 00       	adc	a,0x00
2397  09B4  57          	ld	d, a
2398  09B5  1A          	ld	a, (de)
2399  09B6  5F          	ld	e, a
2400  09B7  16 00       	ld	d,0x00
2401  09B9  79          	ld	a, c
2402  09BA  DD 86 04    	add	a,(ix+4)
2403  09BD  4F          	ld	c, a
2404  09BE  78          	ld	a, b
2405  09BF  CE 00       	adc	a,0x00
2406  09C1  47          	ld	b, a
2407  09C2  0A          	ld	a, (bc)
2408  09C3  4F          	ld	c, a
2409  09C4  AF          	xor	a,a
2410  09C5  47          	ld	b,a
2411  09C6  EB          	ex	de,hl
2412  09C7  ED 42       	sbc	hl,bc
2413  09C9  CD 00 00    	call	_abs_fastcall
2414  09CC  22 00 00    	ld	(_tmp_ui),hl
2415  09CF  21 01 00    	ld	hl,_tmp_ui + 1
2416  09D2  DD 7E 06    	ld	a,(ix+6)
2417  09D5  06 00       	ld	b,0x00
2418  09D7  2B          	dec	hl
2419  09D8  96          	sub	a, (hl)
2420  09D9  78          	ld	a, b
2421  09DA  23          	inc	hl
2422  09DB  9E          	sbc	a, (hl)
2423  09DC  30 04       	jr	NC,l_spr_collision_check_00105
2424  09DE  2E 00       	ld	l,0x00
2425  09E0  18 34       	jr	l_spr_collision_check_00109
2426  09E2              l_spr_collision_check_00105:
2427  09E2  DD 7E 04    	ld	a,(ix+4)
2428  09E5  F5          	push	af
2429  09E6  33          	inc	sp
2430  09E7  CD 58 09    	call	_spr_calc_hor
2431  09EA  33          	inc	sp
2432  09EB  4D          	ld	c, l
2433  09EC  C5          	push	bc
2434  09ED  DD 7E 05    	ld	a,(ix+5)
2435  09F0  F5          	push	af
2436  09F1  33          	inc	sp
2437  09F2  CD 58 09    	call	_spr_calc_hor
2438  09F5  33          	inc	sp
2439  09F6  C1          	pop	bc
2440  09F7  5D          	ld	e,l
2441  09F8  69          	ld	l, c
2442  09F9  AF          	xor	a,a
2443  09FA  67          	ld	h,a
2444  09FB  57          	ld	d,a
2445  09FC  ED 52       	sbc	hl,de
2446  09FE  CD 00 00    	call	_abs_fastcall
2447  0A01  22 00 00    	ld	(_tmp_ui),hl
2448  0A04  3E 03       	ld	a,0x03
2449  0A06  21 00 00    	ld	hl,_tmp_ui
2450  0A09  BE          	cp	a, (hl)
2451  0A0A  3E 00       	ld	a,0x00
2452  0A0C  23          	inc	hl
2453  0A0D  9E          	sbc	a, (hl)
2454  0A0E  30 04       	jr	NC,l_spr_collision_check_00107
2455  0A10  2E 00       	ld	l,0x00
2456  0A12  18 02       	jr	l_spr_collision_check_00109
2457  0A14              l_spr_collision_check_00107:
2458  0A14  2E 01       	ld	l,0x01
2459  0A16              l_spr_collision_check_00109:
2460  0A16  DD E1       	pop	ix
2461  0A18  C9          	ret
2462  0A19              	SECTION code_compiler
2463  0A19              ;	---------------------------------
2464  0A19              ; Function spr_kill_all
2465  0A19              ; ---------------------------------
2466  0A19              _spr_kill_all:
2467  0A19  21 00 00    	ld	hl,_sprite
2468  0A1C  36 00       	ld	(hl),0x00
2469  0A1E              l_spr_kill_all_00102:
2470  0A1E  2A 00 00    	ld	hl,(_sprite)
2471  0A21  CD 66 05    	call	_spr_destroy
2472  0A24  21 00 00    	ld	hl,_sprite
2473  0A27  7E          	ld	a,(hl)
2474  0A28  3C          	inc	a
2475  0A29  77          	ld	(hl),a
2476  0A2A  D6 08       	sub	a,0x08
2477  0A2C  38 F0       	jr	C,l_spr_kill_all_00102
2478  0A2E  C9          	ret
2479  0A2F              	SECTION code_compiler
2480  0A2F              ;	---------------------------------
2481  0A2F              ; Function spr_back_repaint
2482  0A2F              ; ---------------------------------
2483  0A2F              _spr_back_repaint:
2484  0A2F  F3          	di
2485  0A30  2A FF FF    	ld	hl,(_s_col0 - 1)
2486  0A33  3A 00 00    	ld	a,(_s_lin0)
2487  0A36  6F          	ld	l,a
2488  0A37  E5          	push	hl
2489  0A38  CD 00 00    	call	_spr_calc_index
2490  0A3B  F1          	pop	af
2491  0A3C  7D          	ld	a,l
2492  0A3D  32 00 00    	ld	(_sprite_curr_index),a
2493  0A40  21 00 00    	ld	hl,_s_lin0
2494  0A43  7E          	ld	a, (hl)
2495  0A44  E6 0F       	and	a,0x0f
2496  0A46  4F          	ld	c, a
2497  0A47  7E          	ld	a, (hl)
2498  0A48  07          	rlca
2499  0A49  07          	rlca
2500  0A4A  07          	rlca
2501  0A4B  07          	rlca
2502  0A4C  E6 0F       	and	a,0x0f
2503  0A4E  47          	ld	b, a
2504  0A4F  21 00 00    	ld	hl,_s_col0
2505  0A52  CB 46       	bit	0, (hl)
2506  0A54  20 66       	jr	NZ,l_spr_back_repaint_00108
2507  0A56  79          	ld	a, c
2508  0A57  B7          	or	a, a
2509  0A58  20 1D       	jr	NZ,l_spr_back_repaint_00102
2510  0A5A  2A 00 00    	ld	hl,(_sprite_curr_index)
2511  0A5D  26 00       	ld	h,0x00
2512  0A5F  01 00 00    	ld	bc,_scr_map
2513  0A62  09          	add	hl,bc
2514  0A63  46          	ld	b,(hl)
2515  0A64  3A 00 00    	ld	a,(_s_col0)
2516  0A67  F5          	push	af
2517  0A68  33          	inc	sp
2518  0A69  3A 00 00    	ld	a,(_s_lin0)
2519  0A6C  48          	ld	c,b
2520  0A6D  47          	ld	b,a
2521  0A6E  C5          	push	bc
2522  0A6F  CD 8B 0B    	call	_spr_tile_paint
2523  0A72  F1          	pop	af
2524  0A73  33          	inc	sp
2525  0A74  C3 89 0B    	jp	l_spr_back_repaint_00109
2526  0A77              l_spr_back_repaint_00102:
2527  0A77  78          	ld	a, b
2528  0A78  07          	rlca
2529  0A79  07          	rlca
2530  0A7A  07          	rlca
2531  0A7B  07          	rlca
2532  0A7C  E6 F0       	and	a,0xf0
2533  0A7E  47          	ld	b, a
2534  0A7F  2A 00 00    	ld	hl,(_sprite_curr_index)
2535  0A82  26 00       	ld	h,0x00
2536  0A84  11 00 00    	ld	de,_scr_map
2537  0A87  19          	add	hl,de
2538  0A88  56          	ld	d, (hl)
2539  0A89  3A 00 00    	ld	a,(_s_col0)
2540  0A8C  C5          	push	bc
2541  0A8D  F5          	push	af
2542  0A8E  33          	inc	sp
2543  0A8F  4A          	ld	c, d
2544  0A90  C5          	push	bc
2545  0A91  CD 8B 0B    	call	_spr_tile_paint
2546  0A94  F1          	pop	af
2547  0A95  33          	inc	sp
2548  0A96  C1          	pop	bc
2549  0A97  78          	ld	a, b
2550  0A98  C6 10       	add	a,0x10
2551  0A9A  57          	ld	d, a
2552  0A9B  21 00 00    	ld	hl,_sprite_curr_index
2553  0A9E  7E          	ld	a, (hl)
2554  0A9F  C6 10       	add	a,0x10
2555  0AA1  77          	ld	(hl), a
2556  0AA2  C6 00       	add	a,+((_scr_map) & 0xFF)
2557  0AA4  4F          	ld	c, a
2558  0AA5  3E 00       	ld	a, +((_scr_map) / 256)
2559  0AA7  CE 00       	adc	a,0x00
2560  0AA9  47          	ld	b, a
2561  0AAA  0A          	ld	a, (bc)
2562  0AAB  47          	ld	b, a
2563  0AAC  3A 00 00    	ld	a,(_s_col0)
2564  0AAF  5A          	ld	e,d
2565  0AB0  57          	ld	d,a
2566  0AB1  D5          	push	de
2567  0AB2  C5          	push	bc
2568  0AB3  33          	inc	sp
2569  0AB4  CD 8B 0B    	call	_spr_tile_paint
2570  0AB7  F1          	pop	af
2571  0AB8  33          	inc	sp
2572  0AB9  C3 89 0B    	jp	l_spr_back_repaint_00109
2573  0ABC              l_spr_back_repaint_00108:
2574  0ABC  79          	ld	a, c
2575  0ABD  B7          	or	a, a
2576  0ABE  20 42       	jr	NZ,l_spr_back_repaint_00105
2577  0AC0  FB          	ei
2578  0AC1  76          	halt
2579  0AC2  F3          	di
2580  0AC3  21 00 00    	ld	hl,_s_col0
2581  0AC6  56          	ld	d, (hl)
2582  0AC7  15          	dec	d
2583  0AC8  2A 00 00    	ld	hl,(_sprite_curr_index)
2584  0ACB  26 00       	ld	h,0x00
2585  0ACD  01 00 00    	ld	bc,_scr_map
2586  0AD0  09          	add	hl,bc
2587  0AD1  46          	ld	b,(hl)
2588  0AD2  D5          	push	de
2589  0AD3  33          	inc	sp
2590  0AD4  3A 00 00    	ld	a,(_s_lin0)
2591  0AD7  48          	ld	c,b
2592  0AD8  47          	ld	b,a
2593  0AD9  C5          	push	bc
2594  0ADA  CD 8B 0B    	call	_spr_tile_paint
2595  0ADD  F1          	pop	af
2596  0ADE  33          	inc	sp
2597  0ADF  21 00 00    	ld	hl,_sprite_curr_index
2598  0AE2  34          	inc	(hl)
2599  0AE3  21 00 00    	ld	hl,_s_col0
2600  0AE6  56          	ld	d, (hl)
2601  0AE7  14          	inc	d
2602  0AE8  2A 00 00    	ld	hl,(_sprite_curr_index)
2603  0AEB  26 00       	ld	h,0x00
2604  0AED  01 00 00    	ld	bc,_scr_map
2605  0AF0  09          	add	hl,bc
2606  0AF1  46          	ld	b,(hl)
2607  0AF2  D5          	push	de
2608  0AF3  33          	inc	sp
2609  0AF4  3A 00 00    	ld	a,(_s_lin0)
2610  0AF7  48          	ld	c,b
2611  0AF8  47          	ld	b,a
2612  0AF9  C5          	push	bc
2613  0AFA  CD 8B 0B    	call	_spr_tile_paint
2614  0AFD  F1          	pop	af
2615  0AFE  33          	inc	sp
2616  0AFF  C3 89 0B    	jp	l_spr_back_repaint_00109
2617  0B02              l_spr_back_repaint_00105:
2618  0B02  78          	ld	a, b
2619  0B03  07          	rlca
2620  0B04  07          	rlca
2621  0B05  07          	rlca
2622  0B06  07          	rlca
2623  0B07  E6 F0       	and	a,0xf0
2624  0B09  4F          	ld	c, a
2625  0B0A  FB          	ei
2626  0B0B  76          	halt
2627  0B0C  F3          	di
2628  0B0D  21 00 00    	ld	hl,_s_col0
2629  0B10  46          	ld	b, (hl)
2630  0B11  05          	dec	b
2631  0B12  2A 00 00    	ld	hl,(_sprite_curr_index)
2632  0B15  26 00       	ld	h,0x00
2633  0B17  11 00 00    	ld	de,_scr_map
2634  0B1A  19          	add	hl,de
2635  0B1B  66          	ld	h, (hl)
2636  0B1C  EB          	ex	de,hl
2637  0B1D  C5          	push	bc
2638  0B1E  C5          	push	bc
2639  0B1F  D5          	push	de
2640  0B20  33          	inc	sp
2641  0B21  CD 8B 0B    	call	_spr_tile_paint
2642  0B24  F1          	pop	af
2643  0B25  33          	inc	sp
2644  0B26  C1          	pop	bc
2645  0B27  21 00 00    	ld	hl,_sprite_curr_index
2646  0B2A  34          	inc	(hl)
2647  0B2B  21 00 00    	ld	hl,_s_col0
2648  0B2E  46          	ld	b, (hl)
2649  0B2F  04          	inc	b
2650  0B30  2A 00 00    	ld	hl,(_sprite_curr_index)
2651  0B33  26 00       	ld	h,0x00
2652  0B35  11 00 00    	ld	de,_scr_map
2653  0B38  19          	add	hl,de
2654  0B39  66          	ld	h, (hl)
2655  0B3A  EB          	ex	de,hl
2656  0B3B  C5          	push	bc
2657  0B3C  C5          	push	bc
2658  0B3D  D5          	push	de
2659  0B3E  33          	inc	sp
2660  0B3F  CD 8B 0B    	call	_spr_tile_paint
2661  0B42  F1          	pop	af
2662  0B43  33          	inc	sp
2663  0B44  C1          	pop	bc
2664  0B45  79          	ld	a, c
2665  0B46  C6 10       	add	a,0x10
2666  0B48  5F          	ld	e, a
2667  0B49  21 00 00    	ld	hl,_sprite_curr_index
2668  0B4C  7E          	ld	a, (hl)
2669  0B4D  C6 0F       	add	a,0x0f
2670  0B4F  77          	ld	(hl), a
2671  0B50  FB          	ei
2672  0B51  76          	halt
2673  0B52  F3          	di
2674  0B53  21 00 00    	ld	hl,_s_col0
2675  0B56  56          	ld	d, (hl)
2676  0B57  15          	dec	d
2677  0B58  2A 00 00    	ld	hl,(_sprite_curr_index)
2678  0B5B  26 00       	ld	h,0x00
2679  0B5D  01 00 00    	ld	bc,_scr_map
2680  0B60  09          	add	hl,bc
2681  0B61  4D          	ld	c,l
2682  0B62  46          	ld	b,(hl)
2683  0B63  D5          	push	de
2684  0B64  D5          	push	de
2685  0B65  C5          	push	bc
2686  0B66  33          	inc	sp
2687  0B67  CD 8B 0B    	call	_spr_tile_paint
2688  0B6A  F1          	pop	af
2689  0B6B  33          	inc	sp
2690  0B6C  D1          	pop	de
2691  0B6D  21 00 00    	ld	hl,_sprite_curr_index
2692  0B70  34          	inc	(hl)
2693  0B71  21 00 00    	ld	hl,_s_col0
2694  0B74  56          	ld	d, (hl)
2695  0B75  14          	inc	d
2696  0B76  2A 00 00    	ld	hl,(_sprite_curr_index)
2697  0B79  26 00       	ld	h,0x00
2698  0B7B  01 00 00    	ld	bc,_scr_map
2699  0B7E  09          	add	hl,bc
2700  0B7F  4D          	ld	c,l
2701  0B80  46          	ld	b,(hl)
2702  0B81  D5          	push	de
2703  0B82  C5          	push	bc
2704  0B83  33          	inc	sp
2705  0B84  CD 8B 0B    	call	_spr_tile_paint
2706  0B87  F1          	pop	af
2707  0B88  33          	inc	sp
2708  0B89              l_spr_back_repaint_00109:
2709  0B89  FB          	ei
2710  0B8A  C9          	ret
2711  0B8B              	SECTION code_compiler
2712  0B8B              ;	---------------------------------
2713  0B8B              ; Function spr_tile_paint
2714  0B8B              ; ---------------------------------
2715  0B8B              _spr_tile_paint:
2716  0B8B  CD 00 00    	call	___sdcc_enter_ix
2717  0B8E  DD 7E 04    	ld	a,(ix+4)
2718  0B91  B7          	or	a, a
2719  0B92  28 05       	jr	Z,l_spr_tile_paint_00101
2720  0B94  3C          	inc	a
2721  0B95  28 21       	jr	Z,l_spr_tile_paint_00105
2722  0B97  18 10       	jr	l_spr_tile_paint_00103
2723  0B99              l_spr_tile_paint_00101:
2724  0B99  DD 7E 06    	ld	a,(ix+6)
2725  0B9C  F5          	push	af
2726  0B9D  33          	inc	sp
2727  0B9E  DD 56 05    	ld	d,(ix+5)
2728  0BA1  1E 49       	ld	e,0x49
2729  0BA3  D5          	push	de
2730  0BA4  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2731  0BA7  18 0F       	jr	l_spr_tile_paint_00105
2732  0BA9              l_spr_tile_paint_00103:
2733  0BA9  DD 66 06    	ld	h,(ix+6)
2734  0BAC  DD 6E 05    	ld	l,(ix+5)
2735  0BAF  E5          	push	hl
2736  0BB0  DD 7E 04    	ld	a,(ix+4)
2737  0BB3  F5          	push	af
2738  0BB4  33          	inc	sp
2739  0BB5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2740  0BB8              l_spr_tile_paint_00105:
2741  0BB8  DD E1       	pop	ix
2742  0BBA  C9          	ret
2743  0BBB              	SECTION code_compiler
2744  0BBB              ;	---------------------------------
2745  0BBB              ; Function spr_init_anim
2746  0BBB              ; ---------------------------------
2747  0BBB              _spr_init_anim:
2748  0BBB  01 00 00    	ld	bc,_anim_lin+0
2749  0BBE  1E 00       	ld	e,0x00
2750  0BC0              l_spr_init_anim_00102:
2751  0BC0  6B          	ld	l,e
2752  0BC1  26 00       	ld	h,0x00
2753  0BC3  09          	add	hl, bc
2754  0BC4  36 FF       	ld	(hl),0xff
2755  0BC6  1C          	inc	e
2756  0BC7  7B          	ld	a, e
2757  0BC8  D6 08       	sub	a,0x08
2758  0BCA  38 F4       	jr	C,l_spr_init_anim_00102
2759  0BCC  C9          	ret
2760  0BCD              	SECTION code_compiler
2761  0BCD              ;	---------------------------------
2762  0BCD              ; Function spr_init_bullet
2763  0BCD              ; ---------------------------------
2764  0BCD              _spr_init_bullet:
2765  0BCD  01 00 00    	ld	bc,_bullet_col+0
2766  0BD0  1E 00       	ld	e,0x00
2767  0BD2              l_spr_init_bullet_00102:
2768  0BD2  6B          	ld	l,e
2769  0BD3  26 00       	ld	h,0x00
2770  0BD5  09          	add	hl, bc
2771  0BD6  36 FF       	ld	(hl),0xff
2772  0BD8  1C          	inc	e
2773  0BD9  7B          	ld	a, e
2774  0BDA  D6 08       	sub	a,0x08
2775  0BDC  38 F4       	jr	C,l_spr_init_bullet_00102
2776  0BDE  C9          	ret
2777  0BDF              	SECTION code_compiler
2778  0BDF              ;	---------------------------------
2779  0BDF              ; Function spr_add_anim
2780  0BDF              ; ---------------------------------
2781  0BDF              _spr_add_anim:
2782  0BDF  CD 00 00    	call	___sdcc_enter_ix
2783  0BE2  F5          	push	af
2784  0BE3  F5          	push	af
2785  0BE4  01 00 00    	ld	bc,0x0000
2786  0BE7              l_spr_add_anim_00106:
2787  0BE7  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2788  0BE9  80          	add	a, b
2789  0BEA  5F          	ld	e, a
2790  0BEB  3E 00       	ld	a, +((_anim_lin) / 256)
2791  0BED  CE 00       	adc	a,0x00
2792  0BEF  57          	ld	d, a
2793  0BF0  1A          	ld	a, (de)
2794  0BF1  3C          	inc	a
2795  0BF2  20 6B       	jr	NZ,l_spr_add_anim_00107
2796  0BF4  DD 7E 04    	ld	a,(ix+4)
2797  0BF7  12          	ld	(de), a
2798  0BF8  3E 00       	ld	a, +((_anim_col) & 0xFF)
2799  0BFA  81          	add	a, c
2800  0BFB  DD 77 FC    	ld	(ix-4),a
2801  0BFE  3E 00       	ld	a, +((_anim_col) / 256)
2802  0C00  CE 00       	adc	a,0x00
2803  0C02  DD 77 FD    	ld	(ix-3),a
2804  0C05  E1          	pop	hl
2805  0C06  E5          	push	hl
2806  0C07  DD 7E 05    	ld	a,(ix+5)
2807  0C0A  77          	ld	(hl), a
2808  0C0B  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2809  0C0D  81          	add	a, c
2810  0C0E  DD 77 FE    	ld	(ix-2),a
2811  0C11  6F          	ld	l,a
2812  0C12  3E 00       	ld	a,+((_anim_tile) / 256)
2813  0C14  CE 00       	adc	a,0x00
2814  0C16  DD 77 FF    	ld	(ix-1),a
2815  0C19  67          	ld	h,a
2816  0C1A  DD 7E 06    	ld	a,(ix+6)
2817  0C1D  77          	ld	(hl), a
2818  0C1E  06 00       	ld	b,0x00
2819  0C20  21 00 00    	ld	hl,_anim_int
2820  0C23  09          	add	hl, bc
2821  0C24  06 00       	ld	b,0x00
2822  0C26  70          	ld	(hl),b
2823  0C27  21 00 00    	ld	hl,_anim_end
2824  0C2A  09          	add	hl,bc
2825  0C2B  DD 7E 07    	ld	a,(ix+7)
2826  0C2E  77          	ld	(hl),a
2827  0C2F  4D          	ld	c,l
2828  0C30  F3          	di
2829  0C31  E1          	pop	hl
2830  0C32  46          	ld	b,(hl)
2831  0C33  1A          	ld	a,(de)
2832  0C34  E5          	push	hl
2833  0C35  DD 6E FE    	ld	l,(ix-2)
2834  0C38  DD 66 FF    	ld	h,(ix-1)
2835  0C3B  56          	ld	d, (hl)
2836  0C3C  C5          	push	bc
2837  0C3D  33          	inc	sp
2838  0C3E  5A          	ld	e,d
2839  0C3F  57          	ld	d,a
2840  0C40  D5          	push	de
2841  0C41  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2842  0C44  FB          	ei
2843  0C45  DD 66 05    	ld	h,(ix+5)
2844  0C48  DD 6E 04    	ld	l,(ix+4)
2845  0C4B  E5          	push	hl
2846  0C4C  CD 00 00    	call	_spr_calc_index
2847  0C4F  F1          	pop	af
2848  0C50  22 00 00    	ld	(_index0),hl
2849  0C53  01 00 00    	ld	bc,_scr_map
2850  0C56  09          	add	hl,bc
2851  0C57  7E          	ld	a,(hl)
2852  0C58  B7          	or	a,a
2853  0C59  20 0C       	jr	NZ,l_spr_add_anim_00108
2854  0C5B  36 FF       	ld	(hl),0xff
2855  0C5D  18 08       	jr	l_spr_add_anim_00108
2856  0C5F              l_spr_add_anim_00107:
2857  0C5F  04          	inc	b
2858  0C60  78          	ld	a,b
2859  0C61  48          	ld	c,b
2860  0C62  D6 08       	sub	a,0x08
2861  0C64  DA E7 0B    	jp	C, l_spr_add_anim_00106
2862  0C67              l_spr_add_anim_00108:
2863  0C67  DD F9       	ld	sp, ix
2864  0C69  DD E1       	pop	ix
2865  0C6B  C9          	ret
2866  0C6C              	SECTION code_compiler
2867  0C6C              ;	---------------------------------
2868  0C6C              ; Function spr_play_anim
2869  0C6C              ; ---------------------------------
2870  0C6C              _spr_play_anim:
2871  0C6C  CD 00 00    	call	___sdcc_enter_ix
2872  0C6F  F5          	push	af
2873  0C70  F5          	push	af
2874  0C71  3B          	dec	sp
2875  0C72  DD 36 FB 01 	ld	(ix-5),0x01
2876  0C76  DD 36 FC 00 	ld	(ix-4),0x00
2877  0C7A              l_spr_play_anim_00111:
2878  0C7A  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2879  0C7C  DD 86 FC    	add	a,(ix-4)
2880  0C7F  5F          	ld	e, a
2881  0C80  3E 00       	ld	a, +((_anim_lin) / 256)
2882  0C82  CE 00       	adc	a,0x00
2883  0C84  57          	ld	d, a
2884  0C85  1A          	ld	a, (de)
2885  0C86  3C          	inc	a
2886  0C87  CA 42 0D    	jp	Z,l_spr_play_anim_00112
2887  0C8A  DD 7E FB    	ld	a,(ix-5)
2888  0C8D  B7          	or	a, a
2889  0C8E  28 05       	jr	Z,l_spr_play_anim_00102
2890  0C90  76          	halt
2891  0C91  DD 36 FB 00 	ld	(ix-5),0x00
2892  0C95              l_spr_play_anim_00102:
2893  0C95  3E 00       	ld	a, +((_anim_int) & 0xFF)
2894  0C97  DD 86 FC    	add	a,(ix-4)
2895  0C9A  4F          	ld	c, a
2896  0C9B  3E 00       	ld	a, +((_anim_int) / 256)
2897  0C9D  CE 00       	adc	a,0x00
2898  0C9F  47          	ld	b, a
2899  0CA0  0A          	ld	a, (bc)
2900  0CA1  DD 77 FF    	ld	(ix-1),a
2901  0CA4  3E 00       	ld	a, +((_anim_end) & 0xFF)
2902  0CA6  DD 86 FC    	add	a,(ix-4)
2903  0CA9  6F          	ld	l, a
2904  0CAA  3E 00       	ld	a, +((_anim_end) / 256)
2905  0CAC  CE 00       	adc	a,0x00
2906  0CAE  67          	ld	h, a
2907  0CAF  7E          	ld	a, (hl)
2908  0CB0  DD 77 FE    	ld	(ix-2),a
2909  0CB3  1A          	ld	a, (de)
2910  0CB4  DD 77 FD    	ld	(ix-3),a
2911  0CB7  DD 7E FF    	ld	a,(ix-1)
2912  0CBA  DD 96 FE    	sub	a,(ix-2)
2913  0CBD  30 2C       	jr	NC,l_spr_play_anim_00106
2914  0CBF  3E 00       	ld	a, +((_anim_col) & 0xFF)
2915  0CC1  DD 86 FC    	add	a,(ix-4)
2916  0CC4  6F          	ld	l, a
2917  0CC5  3E 00       	ld	a, +((_anim_col) / 256)
2918  0CC7  CE 00       	adc	a,0x00
2919  0CC9  67          	ld	h, a
2920  0CCA  56          	ld	d, (hl)
2921  0CCB  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2922  0CCD  DD 86 FC    	add	a,(ix-4)
2923  0CD0  6F          	ld	l, a
2924  0CD1  3E 00       	ld	a, +((_anim_tile) / 256)
2925  0CD3  CE 00       	adc	a,0x00
2926  0CD5  67          	ld	h, a
2927  0CD6  7E          	ld	a, (hl)
2928  0CD7  DD 86 FF    	add	a,(ix-1)
2929  0CDA  5F          	ld	e, a
2930  0CDB  C5          	push	bc
2931  0CDC  D5          	push	de
2932  0CDD  33          	inc	sp
2933  0CDE  DD 56 FD    	ld	d,(ix-3)
2934  0CE1  D5          	push	de
2935  0CE2  CD 00 00    	call	_NIRVANAP_drawT_callee
2936  0CE5  C1          	pop	bc
2937  0CE6  0A          	ld	a, (bc)
2938  0CE7  3C          	inc	a
2939  0CE8  02          	ld	(bc), a
2940  0CE9  18 57       	jr	l_spr_play_anim_00112
2941  0CEB              l_spr_play_anim_00106:
2942  0CEB  3E 00       	ld	a, +((_anim_col) & 0xFF)
2943  0CED  DD 86 FC    	add	a,(ix-4)
2944  0CF0  6F          	ld	l, a
2945  0CF1  3E 00       	ld	a, +((_anim_col) / 256)
2946  0CF3  CE 00       	adc	a,0x00
2947  0CF5  67          	ld	h, a
2948  0CF6  7E          	ld	a, (hl)
2949  0CF7  32 00 00    	ld	(_s_col0),a
2950  0CFA  DD 7E FD    	ld	a,(ix-3)
2951  0CFD  32 00 00    	ld	(_s_lin0),a
2952  0D00  3A 00 00    	ld	a,(_s_col0)
2953  0D03  D5          	push	de
2954  0D04  F5          	push	af
2955  0D05  33          	inc	sp
2956  0D06  3A 00 00    	ld	a,(_s_lin0)
2957  0D09  F5          	push	af
2958  0D0A  33          	inc	sp
2959  0D0B  CD 00 00    	call	_spr_calc_index
2960  0D0E  F1          	pop	af
2961  0D0F  2A FF FF    	ld	hl,(_s_col0 - 1)
2962  0D12  3A 00 00    	ld	a,(_s_lin0)
2963  0D15  6F          	ld	l,a
2964  0D16  E5          	push	hl
2965  0D17  CD 00 00    	call	_spr_calc_index
2966  0D1A  F1          	pop	af
2967  0D1B  D1          	pop	de
2968  0D1C  01 00 00    	ld	bc,_scr_map
2969  0D1F  09          	add	hl,bc
2970  0D20  4E          	ld	c, (hl)
2971  0D21  0C          	inc	c
2972  0D22  20 16       	jr	NZ,l_spr_play_anim_00104
2973  0D24  3A 00 00    	ld	a,(_s_col0)
2974  0D27  D5          	push	de
2975  0D28  F5          	push	af
2976  0D29  33          	inc	sp
2977  0D2A  3A 00 00    	ld	a,(_s_lin0)
2978  0D2D  F5          	push	af
2979  0D2E  33          	inc	sp
2980  0D2F  CD 00 00    	call	_spr_calc_index
2981  0D32  F1          	pop	af
2982  0D33  D1          	pop	de
2983  0D34  01 00 00    	ld	bc,_scr_map
2984  0D37  09          	add	hl,bc
2985  0D38  36 00       	ld	(hl),0x00
2986  0D3A              l_spr_play_anim_00104:
2987  0D3A  D5          	push	de
2988  0D3B  CD 2F 0A    	call	_spr_back_repaint
2989  0D3E  D1          	pop	de
2990  0D3F  3E FF       	ld	a,0xff
2991  0D41  12          	ld	(de), a
2992  0D42              l_spr_play_anim_00112:
2993  0D42  DD 34 FC    	inc	(ix-4)
2994  0D45  DD 7E FC    	ld	a,(ix-4)
2995  0D48  D6 08       	sub	a,0x08
2996  0D4A  DA 7A 0C    	jp	C, l_spr_play_anim_00111
2997  0D4D  DD F9       	ld	sp, ix
2998  0D4F  DD E1       	pop	ix
2999  0D51  C9          	ret
3000  0D52              	SECTION code_compiler
3001  0D52              ;	---------------------------------
3002  0D52              ; Function spr_play_bullets
3003  0D52              ; ---------------------------------
3004  0D52              _spr_play_bullets:
3005  0D52  CD 00 00    	call	___sdcc_enter_ix
3006  0D55  F5          	push	af
3007  0D56  F5          	push	af
3008  0D57  3B          	dec	sp
3009  0D58  0E 00       	ld	c,0x00
3010  0D5A              l_spr_play_bullets_00131:
3011  0D5A  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3012  0D5C  81          	add	a, c
3013  0D5D  DD 77 FE    	ld	(ix-2),a
3014  0D60  6F          	ld	l,a
3015  0D61  3E 00       	ld	a,+((_bullet_col) / 256)
3016  0D63  CE 00       	adc	a,0x00
3017  0D65  DD 77 FF    	ld	(ix-1),a
3018  0D68  67          	ld	h,a
3019  0D69  7E          	ld	a, (hl)
3020  0D6A  DD 77 FD    	ld	(ix-3),a
3021  0D6D  3C          	inc	a
3022  0D6E  CA 1D 0F    	jp	Z,l_spr_play_bullets_00132
3023  0D71  06 00       	ld	b,0x00
3024  0D73  21 00 00    	ld	hl,_bullet_lin
3025  0D76  09          	add	hl, bc
3026  0D77  7E          	ld	a, (hl)
3027  0D78  32 00 00    	ld	(_s_lin0),a
3028  0D7B  DD 7E FD    	ld	a,(ix-3)
3029  0D7E  32 00 00    	ld	(_s_col0),a
3030  0D81  32 00 00    	ld	(_s_col1),a
3031  0D84  C5          	push	bc
3032  0D85  CD 2F 0A    	call	_spr_back_repaint
3033  0D88  C1          	pop	bc
3034  0D89  06 00       	ld	b,0x00
3035  0D8B  21 00 00    	ld	hl,_bullet_dir
3036  0D8E  09          	add	hl, bc
3037  0D8F  46          	ld	b, (hl)
3038  0D90  04          	inc	b
3039  0D91  20 3E       	jr	NZ,l_spr_play_bullets_00110
3040  0D93  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3041  0D95  81          	add	a, c
3042  0D96  5F          	ld	e, a
3043  0D97  3E 00       	ld	a, +((_bullet_colint) / 256)
3044  0D99  CE 00       	adc	a,0x00
3045  0D9B  57          	ld	d, a
3046  0D9C  1A          	ld	a, (de)
3047  0D9D  3C          	inc	a
3048  0D9E  47          	ld	b,a
3049  0D9F  12          	ld	(de), a
3050  0DA0  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3051  0DA2  81          	add	a, c
3052  0DA3  6F          	ld	l, a
3053  0DA4  3E 00       	ld	a, +((_bullet_frames) / 256)
3054  0DA6  CE 00       	adc	a,0x00
3055  0DA8  67          	ld	h, a
3056  0DA9  6E          	ld	l, (hl)
3057  0DAA  78          	ld	a, b
3058  0DAB  95          	sub	a, l
3059  0DAC  38 0B       	jr	C,l_spr_play_bullets_00102
3060  0DAE  DD 6E FE    	ld	l,(ix-2)
3061  0DB1  DD 66 FF    	ld	h,(ix-1)
3062  0DB4  46          	ld	b,(hl)
3063  0DB5  04          	inc	b
3064  0DB6  70          	ld	(hl), b
3065  0DB7  AF          	xor	a, a
3066  0DB8  12          	ld	(de), a
3067  0DB9              l_spr_play_bullets_00102:
3068  0DB9  DD 6E FE    	ld	l,(ix-2)
3069  0DBC  DD 66 FF    	ld	h,(ix-1)
3070  0DBF  46          	ld	b, (hl)
3071  0DC0  CB 40       	bit	0, b
3072  0DC2  28 46       	jr	Z,l_spr_play_bullets_00111
3073  0DC4  78          	ld	a, b
3074  0DC5  3C          	inc	a
3075  0DC6  32 00 00    	ld	(_s_col1),a
3076  0DC9  78          	ld	a, b
3077  0DCA  C6 FF       	add	a,0xff
3078  0DCC  32 00 00    	ld	(_tmp),a
3079  0DCF  18 39       	jr	l_spr_play_bullets_00111
3080  0DD1              l_spr_play_bullets_00110:
3081  0DD1  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3082  0DD3  81          	add	a, c
3083  0DD4  5F          	ld	e, a
3084  0DD5  3E 00       	ld	a, +((_bullet_colint) / 256)
3085  0DD7  CE 00       	adc	a,0x00
3086  0DD9  57          	ld	d, a
3087  0DDA  1A          	ld	a, (de)
3088  0DDB  C6 FF       	add	a,0xff
3089  0DDD  12          	ld	(de), a
3090  0DDE  3C          	inc	a
3091  0DDF  20 13       	jr	NZ,l_spr_play_bullets_00106
3092  0DE1  DD 6E FE    	ld	l,(ix-2)
3093  0DE4  DD 66 FF    	ld	h,(ix-1)
3094  0DE7  46          	ld	b,(hl)
3095  0DE8  05          	dec	b
3096  0DE9  70          	ld	(hl), b
3097  0DEA  06 00       	ld	b,0x00
3098  0DEC  21 00 00    	ld	hl,_bullet_frames
3099  0DEF  09          	add	hl, bc
3100  0DF0  46          	ld	b, (hl)
3101  0DF1  05          	dec	b
3102  0DF2  78          	ld	a, b
3103  0DF3  12          	ld	(de), a
3104  0DF4              l_spr_play_bullets_00106:
3105  0DF4  DD 6E FE    	ld	l,(ix-2)
3106  0DF7  DD 66 FF    	ld	h,(ix-1)
3107  0DFA  46          	ld	b, (hl)
3108  0DFB  CB 40       	bit	0, b
3109  0DFD  28 0B       	jr	Z,l_spr_play_bullets_00111
3110  0DFF  78          	ld	a, b
3111  0E00  C6 FF       	add	a,0xff
3112  0E02  32 00 00    	ld	(_s_col1),a
3113  0E05  78          	ld	a, b
3114  0E06  3C          	inc	a
3115  0E07  32 00 00    	ld	(_tmp),a
3116  0E0A              l_spr_play_bullets_00111:
3117  0E0A  DD 7E FE    	ld	a,(ix-2)
3118  0E0D  DD 77 FB    	ld	(ix-5),a
3119  0E10  DD 7E FF    	ld	a,(ix-1)
3120  0E13  DD 77 FC    	ld	(ix-4),a
3121  0E16  78          	ld	a,b
3122  0E17  B7          	or	a, a
3123  0E18  CA 15 0F    	jp	Z,l_spr_play_bullets_00123
3124  0E1B  D6 1E       	sub	a,0x1e
3125  0E1D  D2 15 0F    	jp	NC, l_spr_play_bullets_00123
3126  0E20  3A 00 00    	ld	a,(_s_col1)
3127  0E23  C5          	push	bc
3128  0E24  F5          	push	af
3129  0E25  33          	inc	sp
3130  0E26  3A 00 00    	ld	a,(_s_lin0)
3131  0E29  F5          	push	af
3132  0E2A  33          	inc	sp
3133  0E2B  CD 00 00    	call	_spr_calc_index
3134  0E2E  F1          	pop	af
3135  0E2F  EB          	ex	de,hl
3136  0E30  C1          	pop	bc
3137  0E31  ED 53 00 00 	ld	(_index0),de
3138  0E35  21 00 00    	ld	hl,_tmp0
3139  0E38  36 00       	ld	(hl),0x00
3140  0E3A              l_spr_play_bullets_00129:
3141  0E3A  2A 00 00    	ld	hl,(_tmp0)
3142  0E3D  26 00       	ld	h,0x00
3143  0E3F  11 00 00    	ld	de,_class
3144  0E42  19          	add	hl,de
3145  0E43  7E          	ld	a,(hl)
3146  0E44  B7          	or	a,a
3147  0E45  28 6F       	jr	Z,l_spr_play_bullets_00130
3148  0E47  2A 00 00    	ld	hl,(_tmp0)
3149  0E4A  26 00       	ld	h,0x00
3150  0E4C  11 00 00    	ld	de,_col
3151  0E4F  19          	add	hl,de
3152  0E50  46          	ld	b, (hl)
3153  0E51  3A 00 00    	ld	a,(_tmp0)
3154  0E54  5F          	ld	e,a
3155  0E55  16 00       	ld	d,0x00
3156  0E57  21 00 00    	ld	hl,_lin
3157  0E5A  19          	add	hl,de
3158  0E5B  56          	ld	d, (hl)
3159  0E5C  C5          	push	bc
3160  0E5D  4A          	ld	c, d
3161  0E5E  C5          	push	bc
3162  0E5F  CD 00 00    	call	_spr_calc_index
3163  0E62  F1          	pop	af
3164  0E63  EB          	ex	de,hl
3165  0E64  C1          	pop	bc
3166  0E65  ED 53 00 00 	ld	(_index1),de
3167  0E69  3A 00 00    	ld	a,(_index0)
3168  0E6C  21 00 00    	ld	hl,_index1
3169  0E6F  96          	sub	a, (hl)
3170  0E70  20 44       	jr	NZ,l_spr_play_bullets_00130
3171  0E72  3A 01 00    	ld	a,(_index0 + 1)
3172  0E75  23          	inc	hl
3173  0E76  96          	sub	a, (hl)
3174  0E77  20 3D       	jr	NZ,l_spr_play_bullets_00130
3175  0E79  2A 00 00    	ld	hl,(_tmp0)
3176  0E7C  26 00       	ld	h,0x00
3177  0E7E  11 00 00    	ld	de,_lin
3178  0E81  19          	add	hl,de
3179  0E82  7E          	ld	a,(hl)
3180  0E83  32 00 00    	ld	(_s_lin0),a
3181  0E86  2A 00 00    	ld	hl,(_tmp0)
3182  0E89  26 00       	ld	h,0x00
3183  0E8B  11 00 00    	ld	de,_col
3184  0E8E  19          	add	hl,de
3185  0E8F  7E          	ld	a,(hl)
3186  0E90  32 00 00    	ld	(_s_col0),a
3187  0E93  2A 00 00    	ld	hl,(_tmp0)
3188  0E96  C5          	push	bc
3189  0E97  CD 66 05    	call	_spr_destroy
3190  0E9A  C1          	pop	bc
3191  0E9B  E1          	pop	hl
3192  0E9C  E5          	push	hl
3193  0E9D  36 FF       	ld	(hl),0xff
3194  0E9F  3A 00 00    	ld	a,(_s_col0)
3195  0EA2  C5          	push	bc
3196  0EA3  21 7B 03    	ld	hl,0x037b
3197  0EA6  E5          	push	hl
3198  0EA7  F5          	push	af
3199  0EA8  33          	inc	sp
3200  0EA9  3A 00 00    	ld	a,(_s_lin0)
3201  0EAC  F5          	push	af
3202  0EAD  33          	inc	sp
3203  0EAE  CD DF 0B    	call	_spr_add_anim
3204  0EB1  F1          	pop	af
3205  0EB2  F1          	pop	af
3206  0EB3  C1          	pop	bc
3207  0EB4  18 0B       	jr	l_spr_play_bullets_00116
3208  0EB6              l_spr_play_bullets_00130:
3209  0EB6  21 00 00    	ld	hl,_tmp0
3210  0EB9  7E          	ld	a,(hl)
3211  0EBA  3C          	inc	a
3212  0EBB  77          	ld	(hl),a
3213  0EBC  D6 07       	sub	a,0x07
3214  0EBE  DA 3A 0E    	jp	C, l_spr_play_bullets_00129
3215  0EC1              l_spr_play_bullets_00116:
3216  0EC1  E1          	pop	hl
3217  0EC2  7E          	ld	a,(hl)
3218  0EC3  E5          	push	hl
3219  0EC4  57          	ld	d,a
3220  0EC5  3C          	inc	a
3221  0EC6  28 55       	jr	Z,l_spr_play_bullets_00132
3222  0EC8  3E 00       	ld	a, +((_scr_map) & 0xFF)
3223  0ECA  21 00 00    	ld	hl,_index0
3224  0ECD  86          	add	a, (hl)
3225  0ECE  47          	ld	b, a
3226  0ECF  3E 00       	ld	a, +((_scr_map) / 256)
3227  0ED1  23          	inc	hl
3228  0ED2  8E          	adc	a, (hl)
3229  0ED3  67          	ld	h, a
3230  0ED4  68          	ld	l, b
3231  0ED5  7E          	ld	a, (hl)
3232  0ED6  D6 3C       	sub	a,0x3c
3233  0ED8  30 20       	jr	NC,l_spr_play_bullets_00118
3234  0EDA  06 00       	ld	b,0x00
3235  0EDC  21 00 00    	ld	hl,_bullet_tile
3236  0EDF  09          	add	hl, bc
3237  0EE0  5E          	ld	e, (hl)
3238  0EE1  06 00       	ld	b,0x00
3239  0EE3  21 00 00    	ld	hl,_bullet_colint
3240  0EE6  09          	add	hl, bc
3241  0EE7  46          	ld	b, (hl)
3242  0EE8  7B          	ld	a, e
3243  0EE9  80          	add	a, b
3244  0EEA  47          	ld	b, a
3245  0EEB  C5          	push	bc
3246  0EEC  D5          	push	de
3247  0EED  33          	inc	sp
3248  0EEE  3A 00 00    	ld	a,(_s_lin0)
3249  0EF1  48          	ld	c,b
3250  0EF2  47          	ld	b,a
3251  0EF3  C5          	push	bc
3252  0EF4  CD 00 00    	call	_NIRVANAP_drawT_callee
3253  0EF7  C1          	pop	bc
3254  0EF8  18 23       	jr	l_spr_play_bullets_00132
3255  0EFA              l_spr_play_bullets_00118:
3256  0EFA  3A 00 00    	ld	a,(_tmp)
3257  0EFD  C5          	push	bc
3258  0EFE  21 7B 03    	ld	hl,0x037b
3259  0F01  E5          	push	hl
3260  0F02  F5          	push	af
3261  0F03  33          	inc	sp
3262  0F04  3A 00 00    	ld	a,(_s_lin0)
3263  0F07  F5          	push	af
3264  0F08  33          	inc	sp
3265  0F09  CD DF 0B    	call	_spr_add_anim
3266  0F0C  F1          	pop	af
3267  0F0D  F1          	pop	af
3268  0F0E  C1          	pop	bc
3269  0F0F  E1          	pop	hl
3270  0F10  E5          	push	hl
3271  0F11  36 FF       	ld	(hl),0xff
3272  0F13  18 08       	jr	l_spr_play_bullets_00132
3273  0F15              l_spr_play_bullets_00123:
3274  0F15  DD 6E FE    	ld	l,(ix-2)
3275  0F18  DD 66 FF    	ld	h,(ix-1)
3276  0F1B  36 FF       	ld	(hl),0xff
3277  0F1D              l_spr_play_bullets_00132:
3278  0F1D  0C          	inc	c
3279  0F1E  79          	ld	a, c
3280  0F1F  D6 08       	sub	a,0x08
3281  0F21  DA 5A 0D    	jp	C, l_spr_play_bullets_00131
3282  0F24  DD F9       	ld	sp, ix
3283  0F26  DD E1       	pop	ix
3284  0F28  C9          	ret
3285  0F29              	SECTION code_compiler
3286  0F29              ;	---------------------------------
3287  0F29              ; Function spr_turn_horizontal
3288  0F29              ; ---------------------------------
3289  0F29              _spr_turn_horizontal:
3290  0F29  21 00 00    	ld	hl,_s_state
3291  0F2C  CB 56       	bit	2, (hl)
3292  0F2E  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3293  0F30  21 00 00    	ld	hl,_s_state
3294  0F33  7E          	ld	a,(hl)
3295  0F34  F6 08       	or	a,0x08
3296  0F36  E6 FB       	and	a,0xfb
3297  0F38  77          	ld	(hl),a
3298  0F39  18 09       	jr	l_spr_turn_horizontal_00103
3299  0F3B              l_spr_turn_horizontal_00102:
3300  0F3B  21 00 00    	ld	hl,_s_state
3301  0F3E  7E          	ld	a,(hl)
3302  0F3F  E6 F7       	and	a,0xf7
3303  0F41  F6 04       	or	a,0x04
3304  0F43  77          	ld	(hl),a
3305  0F44              l_spr_turn_horizontal_00103:
3306  0F44  2A 00 00    	ld	hl,(_sprite)
3307  0F47  26 00       	ld	h,0x00
3308  0F49  01 00 00    	ld	bc,_state
3309  0F4C  09          	add	hl,bc
3310  0F4D  3A 00 00    	ld	a,(_s_state)
3311  0F50  77          	ld	(hl),a
3312  0F51  2A 00 00    	ld	hl,(_sprite)
3313  0F54  26 00       	ld	h,0x00
3314  0F56  01 00 00    	ld	bc,_tile
3315  0F59  09          	add	hl,bc
3316  0F5A  E5          	push	hl
3317  0F5B  2A 00 00    	ld	hl,(_sprite)
3318  0F5E  CD CF 05    	call	_spr_tile
3319  0F61  C1          	pop	bc
3320  0F62  7D          	ld	a,l
3321  0F63  02          	ld	(bc), a
3322  0F64  C9          	ret
3323  0F65              	SECTION IGNORE
3324  0000              
