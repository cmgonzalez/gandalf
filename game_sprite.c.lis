1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_brick_anim
205   0000              	GLOBAL _spr_draw_index
206   0000              	GLOBAL _spr_draw_row
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_match_back
557   0000              	GLOBAL _game_attribs
558   0000              	GLOBAL _game_boss_clear
559   0000              	GLOBAL _game_obj_clear
560   0000              	GLOBAL _game_obj_chk
561   0000              	GLOBAL _game_obj_set
562   0000              	GLOBAL _game_shoot_fire_boss
563   0000              	GLOBAL _game_shoot_fire
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_joystick_set_menu
566   0000              	GLOBAL _game_joystick_set
567   0000              	GLOBAL _game_joystick_change
568   0000              	GLOBAL _game_print_header
569   0000              	GLOBAL _game_end
570   0000              	GLOBAL _game_phase_print_score_back
571   0000              	GLOBAL _game_check_time
572   0000              	GLOBAL _game_rotate_attrib
573   0000              	GLOBAL _game_colour_message
574   0000              	GLOBAL _game_paint_attrib_lin_h
575   0000              	GLOBAL _game_paint_attrib_lin
576   0000              	GLOBAL _game_paint_attrib
577   0000              	GLOBAL _game_print_score
578   0000              	GLOBAL _game_unfreeze_all
579   0000              	GLOBAL _game_freeze_all
580   0000              	GLOBAL _game_freeze
581   0000              	GLOBAL _game_enemy_add_get_index
582   0000              	GLOBAL _game_check_cell
583   0000              	GLOBAL _game_check_map
584   0000              	GLOBAL _game_loop
585   0000              	GLOBAL _game_round_init
586   0000              	GLOBAL _game_start_timer
587   0000              	GLOBAL _game_tick
588   0000              	GLOBAL _game_update_stats
589   0000              	GLOBAL _game_print_footer
590   0000              	GLOBAL _game_fill_row
591   0000              	GLOBAL _game_fps
592   0000              	GLOBAL _game_respawn
593   0000              	GLOBAL _game_draw_screen
594   0000              	GLOBAL _boss_turn
595   0000              	GLOBAL _enemy_avoid_dead
596   0000              	GLOBAL _enemy_avoid_fall
597   0000              	GLOBAL _enemy_respawn
598   0000              	GLOBAL _enemy_init
599   0000              	GLOBAL _enemy_move
600   0000              	GLOBAL _enemy_turn
601   0000              	GLOBAL _enemy_hit
602   0000              	GLOBAL _enemy_coin1
603   0000              	GLOBAL _enemy_static
604   0000              	GLOBAL _enemy_walk
605   0000              	GLOBAL _enemy_horizontal
606   0000              	GLOBAL _enemy_vertical
607   0000              	GLOBAL _ay_fx_play
608   0000              	GLOBAL _ay_midi_play
609   0000              	GLOBAL _ay_is_playing
610   0000              	GLOBAL _ay_reset
611   0000              	GLOBAL _test_func
612   0000              	GLOBAL _test_proc
613   0000              	GLOBAL _in_mouse_kempston_wheel_delta
614   0000              	GLOBAL _in_mouse_kempston_wheel
615   0000              	GLOBAL _in_mouse_kempston_callee
616   0000              	GLOBAL _in_mouse_kempston
617   0000              	GLOBAL _in_mouse_kempston_setpos_callee
618   0000              	GLOBAL _in_mouse_kempston_setpos
619   0000              	GLOBAL _in_mouse_kempston_reset
620   0000              	GLOBAL _in_mouse_kempston_init
621   0000              	GLOBAL _in_mouse_amx_wheel_delta
622   0000              	GLOBAL _in_mouse_amx_wheel
623   0000              	GLOBAL _in_mouse_amx_callee
624   0000              	GLOBAL _in_mouse_amx
625   0000              	GLOBAL _in_mouse_amx_setpos_callee
626   0000              	GLOBAL _in_mouse_amx_setpos
627   0000              	GLOBAL _in_mouse_amx_reset
628   0000              	GLOBAL _in_mouse_amx_init_callee
629   0000              	GLOBAL _in_mouse_amx_init
630   0000              	GLOBAL _in_stick_sinclair2
631   0000              	GLOBAL _in_stick_sinclair1
632   0000              	GLOBAL _in_stick_kempston
633   0000              	GLOBAL _in_stick_fuller
634   0000              	GLOBAL _in_stick_cursor
635   0000              	GLOBAL _in_stick_keyboard_fastcall
636   0000              	GLOBAL _in_stick_keyboard
637   0000              	GLOBAL _in_wait_nokey
638   0000              	GLOBAL _in_wait_key
639   0000              	GLOBAL _in_test_key
640   0000              	GLOBAL _in_pause_fastcall
641   0000              	GLOBAL _in_pause
642   0000              	GLOBAL _in_key_scancode_fastcall
643   0000              	GLOBAL _in_key_scancode
644   0000              	GLOBAL _in_key_pressed_fastcall
645   0000              	GLOBAL _in_key_pressed
646   0000              	GLOBAL _in_inkey
647   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
648   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
649   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
650   0000              	GLOBAL _NIRVANAP_HOLE
651   0000              	GLOBAL _NIRVANAP_ISR_HOOK
652   0000              	GLOBAL _player_lvl_table
653   0000              	GLOBAL _map_paper_last
654   0000              	GLOBAL _map_paper_clr
655   0000              	GLOBAL _map_paper
656   0000              	GLOBAL _draw_count
657   0000              	GLOBAL _g_player_hit_right
658   0000              	GLOBAL _g_player_hit_left
659   0000              	GLOBAL _joynames
660   0000              	GLOBAL _initials
661   0000              	GLOBAL _bullet_count
662   0000              	GLOBAL _spr_hack
663   0000              	GLOBAL _boss_stat
664   0000              	GLOBAL _boss_time_fire
665   0000              	GLOBAL _boss_time
666   0000              	GLOBAL _boss_tile
667   0000              	GLOBAL _boss_inc
668   0000              	GLOBAL _boss_col
669   0000              	GLOBAL _boss_lin
670   0000              	GLOBAL _bullet_vel
671   0000              	GLOBAL _bullet_frames
672   0000              	GLOBAL _bullet_colint
673   0000              	GLOBAL _bullet_dir
674   0000              	GLOBAL _bullet_tile
675   0000              	GLOBAL _bullet_col
676   0000              	GLOBAL _bullet_lin
677   0000              	GLOBAL _bullet_col0
678   0000              	GLOBAL _bullet_lin0
679   0000              	GLOBAL _bullet_max
680   0000              	GLOBAL _bullet_class
681   0000              	GLOBAL _mush_class
682   0000              	GLOBAL _mush_index
683   0000              	GLOBAL _anim_count
684   0000              	GLOBAL _anim_respanwn
685   0000              	GLOBAL _anim_loop
686   0000              	GLOBAL _anim_end
687   0000              	GLOBAL _anim_int
688   0000              	GLOBAL _anim_tile
689   0000              	GLOBAL _anim_col
690   0000              	GLOBAL _anim_lin
691   0000              	GLOBAL _map_heigth
692   0000              	GLOBAL _map_width
693   0000              	GLOBAL _scr_curr
694   0000              	GLOBAL _scr_obj1
695   0000              	GLOBAL _scr_obj0
696   0000              	GLOBAL _scr_map
697   0000              	GLOBAL _sprite_speed_alt
698   0000              	GLOBAL _sprite_frames
699   0000              	GLOBAL _sprite_speed
700   0000              	GLOBAL _screen_ink
701   0000              	GLOBAL _screen_paper
702   0000              	GLOBAL _player_over_stair
703   0000              	GLOBAL _game_start_scr
704   0000              	GLOBAL _game_respawn_tile
705   0000              	GLOBAL _game_respawn_index
706   0000              	GLOBAL _game_respawn_time
707   0000              	GLOBAL _game_menu_sel
708   0000              	GLOBAL _game_score_top
709   0000              	GLOBAL _player_lives
710   0000              	GLOBAL _game_over
711   0000              	GLOBAL _game_sound
712   0000              	GLOBAL _game_inmune
713   0000              	GLOBAL _game_god_mode
714   0000              	GLOBAL _game_two_player
715   0000              	GLOBAL _game_brick_tile
716   0000              	GLOBAL _sprite_curr_index
717   0000              	GLOBAL _spr_count
718   0000              	GLOBAL _bullet_time
719   0000              	GLOBAL _anim_time
720   0000              	GLOBAL _frame_time
721   0000              	GLOBAL _entry_time
722   0000              	GLOBAL _curr_time
723   0000              	GLOBAL _s_state
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _enemies
728   0000              	GLOBAL _tmp_ui
729   0000              	GLOBAL _tmp_sc
730   0000              	GLOBAL _tmp_uc
731   0000              	GLOBAL _tmp1
732   0000              	GLOBAL _tmp0
733   0000              	GLOBAL _tmp
734   0000              	GLOBAL _index1
735   0000              	GLOBAL _index0
736   0000              	GLOBAL _loop_count
737   0000              	GLOBAL _s_col1
738   0000              	GLOBAL _s_col0
739   0000              	GLOBAL _s_lin1
740   0000              	GLOBAL _s_lin0
741   0000              	GLOBAL _s_tile1
742   0000              	GLOBAL _s_tile0
743   0000              	GLOBAL _player_brick_time
744   0000              	GLOBAL _player_hit_count
745   0000              	GLOBAL _sprite_horizontal_check
746   0000              	GLOBAL _sprite_on_air
747   0000              	GLOBAL _sprite
748   0000              	GLOBAL _fps
749   0000              	GLOBAL _game_respawn_curr_time
750   0000              	GLOBAL _game_worldup
751   0000              	GLOBAL _game_mush_count
752   0000              	GLOBAL _game_boss_fix
753   0000              	GLOBAL _game_boss_hit
754   0000              	GLOBAL _game_boss_alive
755   0000              	GLOBAL _game_boss
756   0000              	GLOBAL _game_world
757   0000              	GLOBAL _game_gravity
758   0000              	GLOBAL _player_anim_stair
759   0000              	GLOBAL _player_hit_time
760   0000              	GLOBAL _player_lin_scr
761   0000              	GLOBAL _player_col_scr
762   0000              	GLOBAL _player_lvl
763   0000              	GLOBAL _player_int
764   0000              	GLOBAL _player_str
765   0000              	GLOBAL _player_max_vita
766   0000              	GLOBAL _player_max_mana
767   0000              	GLOBAL _player_vita
768   0000              	GLOBAL _player_mana
769   0000              	GLOBAL _player_keys
770   0000              	GLOBAL _player_vel_inc
771   0000              	GLOBAL _player_vel_y1
772   0000              	GLOBAL _player_vel_y0
773   0000              	GLOBAL _player_vel_y
774   0000              	GLOBAL _player_vel_x
775   0000              	GLOBAL _player_joy
776   0000              	GLOBAL _player_score
777   0000              	GLOBAL _last_time
778   0000              	GLOBAL _player_slide
779   0000              	GLOBAL _spr_timer
780   0000              	GLOBAL _jump_lin
781   0000              	GLOBAL _player_hit_col
782   0000              	GLOBAL _player_hit_lin
783   0000              	GLOBAL _colint
784   0000              	GLOBAL _col
785   0000              	GLOBAL _lin
786   0000              	GLOBAL _tile
787   0000              	GLOBAL _state_a
788   0000              	GLOBAL _state
789   0000              	GLOBAL _class
790   0000              	GLOBAL _tbuffer
791   0000              	GLOBAL _dirs
792   0000              	GLOBAL _k1
793   0000              	GLOBAL _joyfunc1
794   0000              	GLOBAL _btiles
795   0000              	GLOBAL _spec128
796   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
798   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
799   0000              	GLOBAL _ay_effect_20
800   0000              	GLOBAL _ay_effect_19
801   0000              	GLOBAL _ay_effect_18
802   0000              	GLOBAL _ay_effect_17
803   0000              	GLOBAL _ay_effect_16
804   0000              	GLOBAL _ay_effect_15
805   0000              	GLOBAL _ay_effect_14
806   0000              	GLOBAL _ay_effect_13
807   0000              	GLOBAL _ay_effect_12
808   0000              	GLOBAL _ay_effect_11
809   0000              	GLOBAL _ay_effect_10
810   0000              	GLOBAL _ay_effect_09
811   0000              	GLOBAL _ay_effect_08
812   0000              	GLOBAL _ay_effect_07
813   0000              	GLOBAL _ay_effect_06
814   0000              	GLOBAL _ay_effect_05
815   0000              	GLOBAL _ay_effect_04
816   0000              	GLOBAL _ay_effect_03
817   0000              	GLOBAL _ay_effect_02
818   0000              	GLOBAL _ay_effect_01
819   0000              	GLOBAL _pb_midi_phase_1
820   0000              	GLOBAL _pb_midi_title
821   0000              	GLOBAL _control_method
822   0000              	GLOBAL _world1_h
823   0000              	GLOBAL _world1_w
824   0000              	GLOBAL _world1
825   0000              	GLOBAL _paper1
826   0000              	GLOBAL _lenght1
827   0000              	GLOBAL _start_scr1
828   0000              	GLOBAL _world0_h
829   0000              	GLOBAL _world0_w
830   0000              	GLOBAL _world0
831   0000              	GLOBAL _paper0
832   0000              	GLOBAL _lenght0
833   0000              	GLOBAL _start_scr0
834   0000              ;--------------------------------------------------------
835   0000              ; special function registers
836   0000              ;--------------------------------------------------------
837   0000              defc _IO_FE	=	0x00fe
838   0000              defc _IO_1FFD	=	0x1ffd
839   0000              defc _IO_7FFD	=	0x7ffd
840   0000              ;--------------------------------------------------------
841   0000              ; ram data
842   0000              ;--------------------------------------------------------
843   0000              	SECTION bss_compiler
844   0000              ;--------------------------------------------------------
845   0000              ; ram data
846   0000              ;--------------------------------------------------------
847   0000              
848   0000              IF 0
849   0000              
850   0000              ; .area _INITIALIZED removed by z88dk
851   0000              
852   0000              
853   0000              ENDIF
854   0000              
855   0000              ;--------------------------------------------------------
856   0000              ; absolute external ram data
857   0000              ;--------------------------------------------------------
858   0000              	SECTION IGNORE
859   0000              ;--------------------------------------------------------
860   0000              ; global & static initialisations
861   0000              ;--------------------------------------------------------
862   0000              	SECTION code_crt_init
863   0000              ;--------------------------------------------------------
864   0000              ; Home
865   0000              ;--------------------------------------------------------
866   0000              	SECTION IGNORE
867   0000              ;--------------------------------------------------------
868   0000              ; code
869   0000              ;--------------------------------------------------------
870   0000              	SECTION code_compiler
871   0000              ;	---------------------------------
872   0000              ; Function spr_calc_index
873   0000              ; ---------------------------------
874   0000              _spr_calc_index:
875   0000  CD 00 00    	call	___sdcc_enter_ix
876   0003  DD 4E 05    	ld	c,(ix+5)
877   0006  CB 39       	srl	c
878   0008  06 00       	ld	b,0x00
879   000A  DD 7E 04    	ld	a,(ix+4)
880   000D  07          	rlca
881   000E  07          	rlca
882   000F  07          	rlca
883   0010  07          	rlca
884   0011  E6 0F       	and	a,0x0f
885   0013  6F          	ld	l, a
886   0014  26 00       	ld	h,0x00
887   0016  29          	add	hl, hl
888   0017  29          	add	hl, hl
889   0018  29          	add	hl, hl
890   0019  29          	add	hl, hl
891   001A  09          	add	hl, bc
892   001B  DD E1       	pop	ix
893   001D  C9          	ret
894   001E              	SECTION code_compiler
895   001E              ;	---------------------------------
896   001E              ; Function spr_chktime
897   001E              ; ---------------------------------
898   001E              _spr_chktime:
899   001E  CD 00 00    	call	___sdcc_enter_ix
900   0021  5E          	ld	e,(hl)
901   0022  F5          	push	af
902   0023  16 00       	ld	d,0x00
903   0025  4D          	ld	c,l
904   0026  44          	ld	b,h
905   0027  21 00 00    	ld	hl,_sprite_speed_alt
906   002A  19          	add	hl, de
907   002B  7E          	ld	a, (hl)
908   002C  B7          	or	a,a
909   002D  20 15       	jr	NZ,l_spr_chktime_00102
910   002F  57          	ld	d,a
911   0030  21 00 00    	ld	hl,_class
912   0033  19          	add	hl, de
913   0034  56          	ld	d, (hl)
914   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
915   0037  82          	add	a, d
916   0038  6F          	ld	l, a
917   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
918   003B  CE 00       	adc	a,0x00
919   003D  67          	ld	h, a
920   003E  7E          	ld	a, (hl)
921   003F  32 00 00    	ld	(_tmp),a
922   0042  18 03       	jr	l_spr_chktime_00103
923   0044              l_spr_chktime_00102:
924   0044  32 00 00    	ld	(_tmp),a
925   0047              l_spr_chktime_00103:
926   0047  3A 00 00    	ld	a,(_tmp)
927   004A  DD 77 FE    	ld	(ix-2),a
928   004D  26 00       	ld	h,0x00
929   004F  DD 74 FF    	ld	(ix-1),h
930   0052  6B          	ld	l, e
931   0053  29          	add	hl, hl
932   0054  11 00 00    	ld	de,_last_time
933   0057  19          	add	hl, de
934   0058  5E          	ld	e, (hl)
935   0059  23          	inc	hl
936   005A  56          	ld	d, (hl)
937   005B  C5          	push	bc
938   005C  DD 6E FE    	ld	l,(ix-2)
939   005F  DD 66 FF    	ld	h,(ix-1)
940   0062  E5          	push	hl
941   0063  D5          	push	de
942   0064  CD 00 00    	call	_game_check_time
943   0067  F1          	pop	af
944   0068  F1          	pop	af
945   0069  C1          	pop	bc
946   006A  7D          	ld	a,l
947   006B  B7          	or	a, a
948   006C  28 14       	jr	Z,l_spr_chktime_00105
949   006E  0A          	ld	a, (bc)
950   006F  6F          	ld	l, a
951   0070  26 00       	ld	h,0x00
952   0072  29          	add	hl, hl
953   0073  01 00 00    	ld	bc,_last_time
954   0076  09          	add	hl,bc
955   0077  ED 5B 00 00 	ld	de,(_curr_time)
956   007B  73          	ld	(hl),e
957   007C  23          	inc	hl
958   007D  72          	ld	(hl),d
959   007E  2E 01       	ld	l,0x01
960   0080  18 02       	jr	l_spr_chktime_00106
961   0082              l_spr_chktime_00105:
962   0082  2E 00       	ld	l,0x00
963   0084              l_spr_chktime_00106:
964   0084  F1          	pop	af
965   0085  DD E1       	pop	ix
966   0087  C9          	ret
967   0088              	SECTION code_compiler
968   0088              ;	---------------------------------
969   0088              ; Function spr_move_up
970   0088              ; ---------------------------------
971   0088              _spr_move_up:
972   0088  2A 00 00    	ld	hl,(_sprite)
973   008B  26 00       	ld	h,0x00
974   008D  01 00 00    	ld	bc,_lin
975   0090  09          	add	hl,bc
976   0091  7E          	ld	a,(hl)
977   0092  C6 FE       	add	a,0xfe
978   0094  32 00 00    	ld	(_s_lin1),a
979   0097  07          	rlca
980   0098  07          	rlca
981   0099  07          	rlca
982   009A  07          	rlca
983   009B  E6 0F       	and	a,0x0f
984   009D  4F          	ld	c, a
985   009E  3A 00 00    	ld	a,(_s_lin0)
986   00A1  07          	rlca
987   00A2  07          	rlca
988   00A3  07          	rlca
989   00A4  07          	rlca
990   00A5  E6 0F       	and	a,0x0f
991   00A7  47          	ld	b, a
992   00A8  79          	ld	a, c
993   00A9  90          	sub	a, b
994   00AA  20 04       	jr	NZ,l_spr_move_up_00136
995   00AC  3E 01       	ld	a,0x01
996   00AE  18 01       	jr	l_spr_move_up_00137
997   00B0              l_spr_move_up_00136:
998   00B0  AF          	xor	a,a
999   00B1              l_spr_move_up_00137:
1000  00B1  EE 01       	xor	a,0x01
1001  00B3  28 1D       	jr	Z,l_spr_move_up_00104
1002  00B5  2A 00 00    	ld	hl,(_sprite)
1003  00B8  26 00       	ld	h,0x00
1004  00BA  01 00 00    	ld	bc,_col
1005  00BD  09          	add	hl,bc
1006  00BE  7E          	ld	a,(hl)
1007  00BF  F5          	push	af
1008  00C0  33          	inc	sp
1009  00C1  3A 00 00    	ld	a,(_s_lin1)
1010  00C4  F5          	push	af
1011  00C5  33          	inc	sp
1012  00C6  CD 00 00    	call	_game_check_map
1013  00C9  F1          	pop	af
1014  00CA  7C          	ld	a,h
1015  00CB  B5          	or	a,l
1016  00CC  28 04       	jr	Z,l_spr_move_up_00104
1017  00CE  2E 01       	ld	l,0x01
1018  00D0  18 3F       	jr	l_spr_move_up_00114
1019  00D2              l_spr_move_up_00104:
1020  00D2  2A 00 00    	ld	hl,(_sprite)
1021  00D5  26 00       	ld	h,0x00
1022  00D7  01 00 00    	ld	bc,_lin
1023  00DA  09          	add	hl,bc
1024  00DB  3A 00 00    	ld	a,(_s_lin1)
1025  00DE  D6 10       	sub	a,0x10
1026  00E0  4D          	ld	c,l
1027  00E1  44          	ld	b,h
1028  00E2  30 27       	jr	NC,l_spr_move_up_00112
1029  00E4  3A 00 00    	ld	a,(_sprite)
1030  00E7  D6 07       	sub	a,0x07
1031  00E9  20 1A       	jr	NZ,l_spr_move_up_00109
1032  00EB  CD 73 04    	call	_spr_page_up
1033  00EE  7D          	ld	a, l
1034  00EF  B7          	or	a, a
1035  00F0  28 04       	jr	Z,l_spr_move_up_00106
1036  00F2  2E 01       	ld	l,0x01
1037  00F4  18 1B       	jr	l_spr_move_up_00114
1038  00F6              l_spr_move_up_00106:
1039  00F6  2A 00 00    	ld	hl,(_sprite)
1040  00F9  26 00       	ld	h,0x00
1041  00FB  01 00 00    	ld	bc,_lin
1042  00FE  09          	add	hl,bc
1043  00FF  AF          	xor	a,a
1044  0100  77          	ld	(hl),a
1045  0101  2E 01       	ld	l,0x01
1046  0103  18 0C       	jr	l_spr_move_up_00114
1047  0105              l_spr_move_up_00109:
1048  0105  AF          	xor	a, a
1049  0106  02          	ld	(bc), a
1050  0107  2E 01       	ld	l,0x01
1051  0109  18 06       	jr	l_spr_move_up_00114
1052  010B              l_spr_move_up_00112:
1053  010B  3A 00 00    	ld	a,(_s_lin1)
1054  010E  02          	ld	(bc), a
1055  010F  2E 00       	ld	l,0x00
1056  0111              l_spr_move_up_00114:
1057  0111  C9          	ret
1058  0112              	SECTION code_compiler
1059  0112              ;	---------------------------------
1060  0112              ; Function spr_move_down
1061  0112              ; ---------------------------------
1062  0112              _spr_move_down:
1063  0112  2A 00 00    	ld	hl,(_sprite)
1064  0115  26 00       	ld	h,0x00
1065  0117  01 00 00    	ld	bc,_lin
1066  011A  09          	add	hl,bc
1067  011B  7E          	ld	a,(hl)
1068  011C  C6 10       	add	a,0x10
1069  011E  32 00 00    	ld	(_s_lin1),a
1070  0121  07          	rlca
1071  0122  07          	rlca
1072  0123  07          	rlca
1073  0124  07          	rlca
1074  0125  E6 0F       	and	a,0x0f
1075  0127  4F          	ld	c, a
1076  0128  3A 00 00    	ld	a,(_s_lin0)
1077  012B  07          	rlca
1078  012C  07          	rlca
1079  012D  07          	rlca
1080  012E  07          	rlca
1081  012F  E6 0F       	and	a,0x0f
1082  0131  47          	ld	b, a
1083  0132  79          	ld	a, c
1084  0133  90          	sub	a, b
1085  0134  20 04       	jr	NZ,l_spr_move_down_00136
1086  0136  3E 01       	ld	a,0x01
1087  0138  18 01       	jr	l_spr_move_down_00137
1088  013A              l_spr_move_down_00136:
1089  013A  AF          	xor	a,a
1090  013B              l_spr_move_down_00137:
1091  013B  EE 01       	xor	a,0x01
1092  013D  28 1D       	jr	Z,l_spr_move_down_00104
1093  013F  2A 00 00    	ld	hl,(_sprite)
1094  0142  26 00       	ld	h,0x00
1095  0144  01 00 00    	ld	bc,_col
1096  0147  09          	add	hl,bc
1097  0148  7E          	ld	a,(hl)
1098  0149  F5          	push	af
1099  014A  33          	inc	sp
1100  014B  3A 00 00    	ld	a,(_s_lin1)
1101  014E  F5          	push	af
1102  014F  33          	inc	sp
1103  0150  CD 00 00    	call	_game_check_map
1104  0153  F1          	pop	af
1105  0154  7C          	ld	a,h
1106  0155  B5          	or	a,l
1107  0156  28 04       	jr	Z,l_spr_move_down_00104
1108  0158  2E 01       	ld	l,0x01
1109  015A  18 43       	jr	l_spr_move_down_00114
1110  015C              l_spr_move_down_00104:
1111  015C  2A 00 00    	ld	hl,(_sprite)
1112  015F  26 00       	ld	h,0x00
1113  0161  01 00 00    	ld	bc,_lin
1114  0164  09          	add	hl,bc
1115  0165  3E 98       	ld	a,0x98
1116  0167  4D          	ld	c,l
1117  0168  44          	ld	b,h
1118  0169  21 00 00    	ld	hl,_s_lin1
1119  016C  96          	sub	a, (hl)
1120  016D  30 28       	jr	NC,l_spr_move_down_00112
1121  016F  3A 00 00    	ld	a,(_sprite)
1122  0172  D6 07       	sub	a,0x07
1123  0174  20 1A       	jr	NZ,l_spr_move_down_00109
1124  0176  CD 24 04    	call	_spr_page_down
1125  0179  7D          	ld	a, l
1126  017A  B7          	or	a, a
1127  017B  28 04       	jr	Z,l_spr_move_down_00106
1128  017D  2E 01       	ld	l,0x01
1129  017F  18 1E       	jr	l_spr_move_down_00114
1130  0181              l_spr_move_down_00106:
1131  0181  2A 00 00    	ld	hl,(_sprite)
1132  0184  26 00       	ld	h,0x00
1133  0186  01 00 00    	ld	bc,_lin
1134  0189  09          	add	hl,bc
1135  018A  36 90       	ld	(hl),0x90
1136  018C  2E 01       	ld	l,0x01
1137  018E  18 0F       	jr	l_spr_move_down_00114
1138  0190              l_spr_move_down_00109:
1139  0190  3E 90       	ld	a,0x90
1140  0192  02          	ld	(bc), a
1141  0193  2E 01       	ld	l,0x01
1142  0195  18 08       	jr	l_spr_move_down_00114
1143  0197              l_spr_move_down_00112:
1144  0197  3A 00 00    	ld	a,(_s_lin1)
1145  019A  C6 F2       	add	a,0xf2
1146  019C  02          	ld	(bc), a
1147  019D  2E 00       	ld	l,0x00
1148  019F              l_spr_move_down_00114:
1149  019F  C9          	ret
1150  01A0              	SECTION code_compiler
1151  01A0              ;	---------------------------------
1152  01A0              ; Function spr_move_horizontal
1153  01A0              ; ---------------------------------
1154  01A0              _spr_move_horizontal:
1155  01A0  2A 00 00    	ld	hl,(_sprite)
1156  01A3  26 00       	ld	h,0x00
1157  01A5  01 00 00    	ld	bc,_state
1158  01A8  09          	add	hl,bc
1159  01A9  7E          	ld	a,(hl)
1160  01AA  CB 57       	bit	2, a
1161  01AC  28 05       	jr	Z,l_spr_move_horizontal_00104
1162  01AE  CD BF 01    	call	_spr_move_right
1163  01B1  18 0B       	jr	l_spr_move_horizontal_00106
1164  01B3              l_spr_move_horizontal_00104:
1165  01B3  CB 5F       	bit	3, a
1166  01B5  28 05       	jr	Z,l_spr_move_horizontal_00105
1167  01B7  CD BE 02    	call	_spr_move_left
1168  01BA  18 02       	jr	l_spr_move_horizontal_00106
1169  01BC              l_spr_move_horizontal_00105:
1170  01BC  2E 00       	ld	l,0x00
1171  01BE              l_spr_move_horizontal_00106:
1172  01BE  C9          	ret
1173  01BF              	SECTION code_compiler
1174  01BF              ;	---------------------------------
1175  01BF              ; Function spr_move_right
1176  01BF              ; ---------------------------------
1177  01BF              _spr_move_right:
1178  01BF  2A 00 00    	ld	hl,(_sprite)
1179  01C2  26 00       	ld	h,0x00
1180  01C4  01 00 00    	ld	bc,_colint
1181  01C7  09          	add	hl,bc
1182  01C8  7E          	ld	a,(hl)
1183  01C9  3C          	inc	a
1184  01CA  77          	ld	(hl),a
1185  01CB  4F          	ld	c,a
1186  01CC  3A 00 00    	ld	a,(_sprite)
1187  01CF  5F          	ld	e,a
1188  01D0  16 00       	ld	d,0x00
1189  01D2  21 00 00    	ld	hl,_class
1190  01D5  19          	add	hl,de
1191  01D6  5E          	ld	e, (hl)
1192  01D7  16 00       	ld	d,0x00
1193  01D9  21 00 00    	ld	hl,_sprite_frames
1194  01DC  19          	add	hl, de
1195  01DD  7E          	ld	a, (hl)
1196  01DE  91          	sub	a, c
1197  01DF  C2 BB 02    	jp	NZ,l_spr_move_right_00118
1198  01E2  2A 00 00    	ld	hl,(_sprite)
1199  01E5  26 00       	ld	h,0x00
1200  01E7  01 00 00    	ld	bc,_lin
1201  01EA  09          	add	hl,bc
1202  01EB  7E          	ld	a,(hl)
1203  01EC  32 00 00    	ld	(_s_lin1),a
1204  01EF  2A 00 00    	ld	hl,(_sprite)
1205  01F2  26 00       	ld	h,0x00
1206  01F4  01 00 00    	ld	bc,_col
1207  01F7  09          	add	hl,bc
1208  01F8  7E          	ld	a,(hl)
1209  01F9  FE 1E       	cp	a,0x1e
1210  01FB  30 61       	jr	NC,l_spr_move_right_00108
1211  01FD  3C          	inc	a
1212  01FE  32 00 00    	ld	(_s_col1),a
1213  0201  21 00 00    	ld	hl,_sprite_horizontal_check
1214  0204  36 01       	ld	(hl),0x01
1215  0206  2A FF FF    	ld	hl,(_s_col1 - 1)
1216  0209  3A 00 00    	ld	a,(_s_lin1)
1217  020C  6F          	ld	l,a
1218  020D  E5          	push	hl
1219  020E  CD 00 00    	call	_game_check_map
1220  0211  F1          	pop	af
1221  0212  7D          	ld	a,l
1222  0213  32 00 00    	ld	(_tmp0),a
1223  0216  B7          	or	a, a
1224  0217  20 16       	jr	NZ,l_spr_move_right_00102
1225  0219  3A 00 00    	ld	a,(_s_lin1)
1226  021C  C6 0F       	add	a,0x0f
1227  021E  4F          	ld	c, a
1228  021F  3A 00 00    	ld	a,(_s_col1)
1229  0222  F5          	push	af
1230  0223  33          	inc	sp
1231  0224  79          	ld	a, c
1232  0225  F5          	push	af
1233  0226  33          	inc	sp
1234  0227  CD 00 00    	call	_game_check_map
1235  022A  F1          	pop	af
1236  022B  7D          	ld	a,l
1237  022C  32 00 00    	ld	(_tmp0),a
1238  022F              l_spr_move_right_00102:
1239  022F  21 00 00    	ld	hl,_sprite_horizontal_check
1240  0232  36 00       	ld	(hl),0x00
1241  0234  3A 00 00    	ld	a,(_tmp0)
1242  0237  B7          	or	a, a
1243  0238  28 24       	jr	Z,l_spr_move_right_00108
1244  023A  2A 00 00    	ld	hl,(_sprite)
1245  023D  26 00       	ld	h,0x00
1246  023F  01 00 00    	ld	bc,_colint
1247  0242  09          	add	hl,bc
1248  0243  7E          	ld	a,(hl)
1249  0244  C6 FF       	add	a,0xff
1250  0246  77          	ld	(hl),a
1251  0247  3A 00 00    	ld	a,(_sprite_on_air)
1252  024A  B7          	or	a,a
1253  024B  20 0D       	jr	NZ,l_spr_move_right_00104
1254  024D  2A 00 00    	ld	hl,(_sprite)
1255  0250  26 00       	ld	h,0x00
1256  0252  01 00 00    	ld	bc,_colint
1257  0255  09          	add	hl,bc
1258  0256  7E          	ld	a,(hl)
1259  0257  C6 FF       	add	a,0xff
1260  0259  77          	ld	(hl),a
1261  025A              l_spr_move_right_00104:
1262  025A  2E 01       	ld	l,0x01
1263  025C  18 5F       	jr	l_spr_move_right_00119
1264  025E              l_spr_move_right_00108:
1265  025E  2A 00 00    	ld	hl,(_sprite)
1266  0261  26 00       	ld	h,0x00
1267  0263  01 00 00    	ld	bc,_col
1268  0266  09          	add	hl,bc
1269  0267  34          	inc	(hl)
1270  0268  2A 00 00    	ld	hl,(_sprite)
1271  026B  26 00       	ld	h,0x00
1272  026D  01 00 00    	ld	bc,_colint
1273  0270  09          	add	hl,bc
1274  0271  AF          	xor	a,a
1275  0272  77          	ld	(hl),a
1276  0273  2A 00 00    	ld	hl,(_sprite)
1277  0276  26 00       	ld	h,0x00
1278  0278  01 00 00    	ld	bc,_col
1279  027B  09          	add	hl,bc
1280  027C  5E          	ld	e,(hl)
1281  027D  3E 1E       	ld	a,0x1e
1282  027F  93          	sub	a,e
1283  0280  30 39       	jr	NC,l_spr_move_right_00118
1284  0282  3A 00 00    	ld	a,(_sprite)
1285  0285  D6 07       	sub	a,0x07
1286  0287  28 04       	jr	Z,l_spr_move_right_00156
1287  0289  4D          	ld	c,l
1288  028A  44          	ld	b,h
1289  028B  18 27       	jr	l_spr_move_right_00113
1290  028D              l_spr_move_right_00156:
1291  028D  CD C2 03    	call	_spr_page_right
1292  0290  3A 00 00    	ld	a,(_sprite)
1293  0293  C6 00       	add	a,+((_col) & 0xFF)
1294  0295  4D          	ld	c,l
1295  0296  5F          	ld	e,a
1296  0297  3E 00       	ld	a,+((_col) / 256)
1297  0299  CE 00       	adc	a,0x00
1298  029B  57          	ld	d,a
1299  029C  79          	ld	a, c
1300  029D  B7          	or	a, a
1301  029E  28 0F       	jr	Z,l_spr_move_right_00110
1302  02A0  AF          	xor	a, a
1303  02A1  12          	ld	(de), a
1304  02A2  3A 07 00    	ld	a,(_lin + 7)
1305  02A5  32 00 00    	ld	(_player_lin_scr),a
1306  02A8  21 00 00    	ld	hl,_player_col_scr
1307  02AB  36 00       	ld	(hl),0x00
1308  02AD  18 08       	jr	l_spr_move_right_00114
1309  02AF              l_spr_move_right_00110:
1310  02AF  3E 1E       	ld	a,0x1e
1311  02B1  12          	ld	(de), a
1312  02B2  18 03       	jr	l_spr_move_right_00114
1313  02B4              l_spr_move_right_00113:
1314  02B4  3E 1E       	ld	a,0x1e
1315  02B6  02          	ld	(bc), a
1316  02B7              l_spr_move_right_00114:
1317  02B7  2E 01       	ld	l,0x01
1318  02B9  18 02       	jr	l_spr_move_right_00119
1319  02BB              l_spr_move_right_00118:
1320  02BB  2E 00       	ld	l,0x00
1321  02BD              l_spr_move_right_00119:
1322  02BD  C9          	ret
1323  02BE              	SECTION code_compiler
1324  02BE              ;	---------------------------------
1325  02BE              ; Function spr_move_left
1326  02BE              ; ---------------------------------
1327  02BE              _spr_move_left:
1328  02BE  2A 00 00    	ld	hl,(_sprite)
1329  02C1  26 00       	ld	h,0x00
1330  02C3  01 00 00    	ld	bc,_colint
1331  02C6  09          	add	hl,bc
1332  02C7  7E          	ld	a,(hl)
1333  02C8  C6 FF       	add	a,0xff
1334  02CA  77          	ld	(hl),a
1335  02CB  2A 00 00    	ld	hl,(_sprite)
1336  02CE  26 00       	ld	h,0x00
1337  02D0  01 00 00    	ld	bc,_colint
1338  02D3  09          	add	hl,bc
1339  02D4  7E          	ld	a,(hl)
1340  02D5  3C          	inc	a
1341  02D6  C2 BF 03    	jp	NZ,l_spr_move_left_00118
1342  02D9  2A 00 00    	ld	hl,(_sprite)
1343  02DC  26 00       	ld	h,0x00
1344  02DE  01 00 00    	ld	bc,_lin
1345  02E1  09          	add	hl,bc
1346  02E2  7E          	ld	a,(hl)
1347  02E3  32 00 00    	ld	(_s_lin1),a
1348  02E6  2A 00 00    	ld	hl,(_sprite)
1349  02E9  26 00       	ld	h,0x00
1350  02EB  01 00 00    	ld	bc,_col
1351  02EE  09          	add	hl,bc
1352  02EF  7E          	ld	a,(hl)
1353  02F0  B7          	or	a, a
1354  02F1  28 5C       	jr	Z,l_spr_move_left_00108
1355  02F3  C6 FF       	add	a,0xff
1356  02F5  32 00 00    	ld	(_s_col1),a
1357  02F8  21 00 00    	ld	hl,_sprite_horizontal_check
1358  02FB  36 01       	ld	(hl),0x01
1359  02FD  2A FF FF    	ld	hl,(_s_col1 - 1)
1360  0300  3A 00 00    	ld	a,(_s_lin1)
1361  0303  6F          	ld	l,a
1362  0304  E5          	push	hl
1363  0305  CD 00 00    	call	_game_check_map
1364  0308  F1          	pop	af
1365  0309  7D          	ld	a,l
1366  030A  32 00 00    	ld	(_tmp0),a
1367  030D  B7          	or	a, a
1368  030E  20 16       	jr	NZ,l_spr_move_left_00102
1369  0310  3A 00 00    	ld	a,(_s_lin1)
1370  0313  C6 0F       	add	a,0x0f
1371  0315  4F          	ld	c, a
1372  0316  3A 00 00    	ld	a,(_s_col1)
1373  0319  F5          	push	af
1374  031A  33          	inc	sp
1375  031B  79          	ld	a, c
1376  031C  F5          	push	af
1377  031D  33          	inc	sp
1378  031E  CD 00 00    	call	_game_check_map
1379  0321  F1          	pop	af
1380  0322  7D          	ld	a,l
1381  0323  32 00 00    	ld	(_tmp0),a
1382  0326              l_spr_move_left_00102:
1383  0326  21 00 00    	ld	hl,_sprite_horizontal_check
1384  0329  36 00       	ld	(hl),0x00
1385  032B  3A 00 00    	ld	a,(_tmp0)
1386  032E  B7          	or	a, a
1387  032F  28 1E       	jr	Z,l_spr_move_left_00108
1388  0331  2A 00 00    	ld	hl,(_sprite)
1389  0334  26 00       	ld	h,0x00
1390  0336  01 00 00    	ld	bc,_colint
1391  0339  09          	add	hl,bc
1392  033A  34          	inc	(hl)
1393  033B  3A 00 00    	ld	a,(_sprite_on_air)
1394  033E  B7          	or	a,a
1395  033F  20 0A       	jr	NZ,l_spr_move_left_00104
1396  0341  2A 00 00    	ld	hl,(_sprite)
1397  0344  26 00       	ld	h,0x00
1398  0346  01 00 00    	ld	bc,_colint
1399  0349  09          	add	hl,bc
1400  034A  34          	inc	(hl)
1401  034B              l_spr_move_left_00104:
1402  034B  2E 01       	ld	l,0x01
1403  034D  18 72       	jr	l_spr_move_left_00119
1404  034F              l_spr_move_left_00108:
1405  034F  2A 00 00    	ld	hl,(_sprite)
1406  0352  26 00       	ld	h,0x00
1407  0354  01 00 00    	ld	bc,_col
1408  0357  09          	add	hl,bc
1409  0358  7E          	ld	a,(hl)
1410  0359  C6 FF       	add	a,0xff
1411  035B  77          	ld	(hl),a
1412  035C  2A 00 00    	ld	hl,(_sprite)
1413  035F  26 00       	ld	h,0x00
1414  0361  01 00 00    	ld	bc,_colint
1415  0364  09          	add	hl,bc
1416  0365  3A 00 00    	ld	a,(_sprite)
1417  0368  5F          	ld	e,a
1418  0369  16 00       	ld	d,0x00
1419  036B  4D          	ld	c,l
1420  036C  44          	ld	b,h
1421  036D  21 00 00    	ld	hl,_class
1422  0370  19          	add	hl,de
1423  0371  5E          	ld	e, (hl)
1424  0372  16 00       	ld	d,0x00
1425  0374  21 00 00    	ld	hl,_sprite_frames
1426  0377  19          	add	hl, de
1427  0378  5E          	ld	e, (hl)
1428  0379  1D          	dec	e
1429  037A  7B          	ld	a, e
1430  037B  02          	ld	(bc), a
1431  037C  2A 00 00    	ld	hl,(_sprite)
1432  037F  26 00       	ld	h,0x00
1433  0381  01 00 00    	ld	bc,_col
1434  0384  09          	add	hl,bc
1435  0385  7E          	ld	a,(hl)
1436  0386  3C          	inc	a
1437  0387  20 36       	jr	NZ,l_spr_move_left_00118
1438  0389  3A 00 00    	ld	a,(_sprite)
1439  038C  D6 07       	sub	a,0x07
1440  038E  4D          	ld	c,l
1441  038F  44          	ld	b,h
1442  0390  20 27       	jr	NZ,l_spr_move_left_00113
1443  0392  CD F5 03    	call	_spr_page_left
1444  0395  3A 00 00    	ld	a,(_sprite)
1445  0398  C6 00       	add	a,+((_col) & 0xFF)
1446  039A  4D          	ld	c,l
1447  039B  5F          	ld	e,a
1448  039C  3E 00       	ld	a,+((_col) / 256)
1449  039E  CE 00       	adc	a,0x00
1450  03A0  57          	ld	d,a
1451  03A1  79          	ld	a, c
1452  03A2  B7          	or	a, a
1453  03A3  28 10       	jr	Z,l_spr_move_left_00110
1454  03A5  3E 1E       	ld	a,0x1e
1455  03A7  12          	ld	(de), a
1456  03A8  3A 07 00    	ld	a,(_lin + 7)
1457  03AB  32 00 00    	ld	(_player_lin_scr),a
1458  03AE  21 00 00    	ld	hl,_player_col_scr
1459  03B1  36 1E       	ld	(hl),0x1e
1460  03B3  18 06       	jr	l_spr_move_left_00114
1461  03B5              l_spr_move_left_00110:
1462  03B5  AF          	xor	a, a
1463  03B6  12          	ld	(de), a
1464  03B7  18 02       	jr	l_spr_move_left_00114
1465  03B9              l_spr_move_left_00113:
1466  03B9  AF          	xor	a, a
1467  03BA  02          	ld	(bc), a
1468  03BB              l_spr_move_left_00114:
1469  03BB  2E 01       	ld	l,0x01
1470  03BD  18 02       	jr	l_spr_move_left_00119
1471  03BF              l_spr_move_left_00118:
1472  03BF  2E 00       	ld	l,0x00
1473  03C1              l_spr_move_left_00119:
1474  03C1  C9          	ret
1475  03C2              	SECTION code_compiler
1476  03C2              ;	---------------------------------
1477  03C2              ; Function spr_page_right
1478  03C2              ; ---------------------------------
1479  03C2              _spr_page_right:
1480  03C2  2A FF FF    	ld	hl,(_map_width - 1)
1481  03C5  3A 00 00    	ld	a,(_scr_curr)
1482  03C8  6F          	ld	l,a
1483  03C9  E5          	push	hl
1484  03CA  CD 00 00    	call	__moduchar_callee
1485  03CD  7D          	ld	a, l
1486  03CE  3C          	inc	a
1487  03CF  32 00 00    	ld	(_tmp1),a
1488  03D2  21 00 00    	ld	hl,_map_width
1489  03D5  96          	sub	a, (hl)
1490  03D6  30 1A       	jr	NC,l_spr_page_right_00102
1491  03D8  3A 00 00    	ld	a,(_game_boss)
1492  03DB  B7          	or	a, a
1493  03DC  28 06       	jr	Z,l_spr_page_right_00101
1494  03DE  3A 00 00    	ld	a,(_game_god_mode)
1495  03E1  B7          	or	a, a
1496  03E2  28 0E       	jr	Z,l_spr_page_right_00102
1497  03E4              l_spr_page_right_00101:
1498  03E4  21 00 00    	ld	hl,_scr_curr
1499  03E7  34          	inc	(hl)
1500  03E8  CD BE 04    	call	_spr_page_map
1501  03EB  CD 00 00    	call	_game_draw_screen
1502  03EE  2E 01       	ld	l,0x01
1503  03F0  18 02       	jr	l_spr_page_right_00105
1504  03F2              l_spr_page_right_00102:
1505  03F2  2E 00       	ld	l,0x00
1506  03F4              l_spr_page_right_00105:
1507  03F4  C9          	ret
1508  03F5              	SECTION code_compiler
1509  03F5              ;	---------------------------------
1510  03F5              ; Function spr_page_left
1511  03F5              ; ---------------------------------
1512  03F5              _spr_page_left:
1513  03F5  2A FF FF    	ld	hl,(_map_width - 1)
1514  03F8  3A 00 00    	ld	a,(_scr_curr)
1515  03FB  6F          	ld	l,a
1516  03FC  E5          	push	hl
1517  03FD  CD 00 00    	call	__moduchar_callee
1518  0400  7D          	ld	a,l
1519  0401  32 00 00    	ld	(_tmp1),a
1520  0404  B7          	or	a, a
1521  0405  28 1A       	jr	Z,l_spr_page_left_00102
1522  0407  3A 00 00    	ld	a,(_game_boss)
1523  040A  B7          	or	a, a
1524  040B  28 06       	jr	Z,l_spr_page_left_00101
1525  040D  3A 00 00    	ld	a,(_game_god_mode)
1526  0410  B7          	or	a, a
1527  0411  28 0E       	jr	Z,l_spr_page_left_00102
1528  0413              l_spr_page_left_00101:
1529  0413  21 00 00    	ld	hl,_scr_curr
1530  0416  35          	dec	(hl)
1531  0417  CD BE 04    	call	_spr_page_map
1532  041A  CD 00 00    	call	_game_draw_screen
1533  041D  2E 01       	ld	l,0x01
1534  041F  18 02       	jr	l_spr_page_left_00105
1535  0421              l_spr_page_left_00102:
1536  0421  2E 00       	ld	l,0x00
1537  0423              l_spr_page_left_00105:
1538  0423  C9          	ret
1539  0424              	SECTION code_compiler
1540  0424              ;	---------------------------------
1541  0424              ; Function spr_page_down
1542  0424              ; ---------------------------------
1543  0424              _spr_page_down:
1544  0424  2A FF FF    	ld	hl,(_map_heigth - 1)
1545  0427  3A 00 00    	ld	a,(_scr_curr)
1546  042A  6F          	ld	l,a
1547  042B  E5          	push	hl
1548  042C  CD 00 00    	call	__divuchar_callee
1549  042F  7D          	ld	a, l
1550  0430  3C          	inc	a
1551  0431  32 00 00    	ld	(_tmp1),a
1552  0434  21 00 00    	ld	hl,_map_heigth
1553  0437  96          	sub	a, (hl)
1554  0438  30 36       	jr	NC,l_spr_page_down_00102
1555  043A  3A 00 00    	ld	a,(_game_boss)
1556  043D  B7          	or	a, a
1557  043E  28 06       	jr	Z,l_spr_page_down_00101
1558  0440  3A 00 00    	ld	a,(_game_god_mode)
1559  0443  B7          	or	a, a
1560  0444  28 2A       	jr	Z,l_spr_page_down_00102
1561  0446              l_spr_page_down_00101:
1562  0446  3A 00 00    	ld	a,(_scr_curr)
1563  0449  21 00 00    	ld	hl,_map_width
1564  044C  86          	add	a, (hl)
1565  044D  32 00 00    	ld	(_scr_curr),a
1566  0450  CD BE 04    	call	_spr_page_map
1567  0453  CD 00 00    	call	_game_draw_screen
1568  0456  21 00 00    	ld	hl,_player_lin_scr
1569  0459  36 08       	ld	(hl),0x08
1570  045B  2A 00 00    	ld	hl,(_sprite)
1571  045E  26 00       	ld	h,0x00
1572  0460  01 00 00    	ld	bc,_lin
1573  0463  09          	add	hl,bc
1574  0464  36 08       	ld	(hl),0x08
1575  0466  3A 07 00    	ld	a,(_col + 0x0007)
1576  0469  32 00 00    	ld	(_player_col_scr),a
1577  046C  2E 01       	ld	l,0x01
1578  046E  18 02       	jr	l_spr_page_down_00105
1579  0470              l_spr_page_down_00102:
1580  0470  2E 00       	ld	l,0x00
1581  0472              l_spr_page_down_00105:
1582  0472  C9          	ret
1583  0473              	SECTION code_compiler
1584  0473              ;	---------------------------------
1585  0473              ; Function spr_page_up
1586  0473              ; ---------------------------------
1587  0473              _spr_page_up:
1588  0473  2A FF FF    	ld	hl,(_map_heigth - 1)
1589  0476  3A 00 00    	ld	a,(_scr_curr)
1590  0479  6F          	ld	l,a
1591  047A  E5          	push	hl
1592  047B  CD 00 00    	call	__divuchar_callee
1593  047E  7D          	ld	a,l
1594  047F  32 00 00    	ld	(_tmp1),a
1595  0482  B7          	or	a, a
1596  0483  28 36       	jr	Z,l_spr_page_up_00102
1597  0485  3A 00 00    	ld	a,(_game_boss)
1598  0488  B7          	or	a, a
1599  0489  28 06       	jr	Z,l_spr_page_up_00101
1600  048B  3A 00 00    	ld	a,(_game_god_mode)
1601  048E  B7          	or	a, a
1602  048F  28 2A       	jr	Z,l_spr_page_up_00102
1603  0491              l_spr_page_up_00101:
1604  0491  3A 00 00    	ld	a,(_scr_curr)
1605  0494  21 00 00    	ld	hl,_map_width
1606  0497  96          	sub	a, (hl)
1607  0498  32 00 00    	ld	(_scr_curr),a
1608  049B  CD BE 04    	call	_spr_page_map
1609  049E  CD 00 00    	call	_game_draw_screen
1610  04A1  2A 00 00    	ld	hl,(_sprite)
1611  04A4  26 00       	ld	h,0x00
1612  04A6  01 00 00    	ld	bc,_lin
1613  04A9  09          	add	hl,bc
1614  04AA  36 8C       	ld	(hl),0x8c
1615  04AC  21 00 00    	ld	hl,_player_lin_scr
1616  04AF  36 90       	ld	(hl),0x90
1617  04B1  3A 07 00    	ld	a,(_col + 0x0007)
1618  04B4  32 00 00    	ld	(_player_col_scr),a
1619  04B7  2E 01       	ld	l,0x01
1620  04B9  18 02       	jr	l_spr_page_up_00105
1621  04BB              l_spr_page_up_00102:
1622  04BB  2E 00       	ld	l,0x00
1623  04BD              l_spr_page_up_00105:
1624  04BD  C9          	ret
1625  04BE              	SECTION code_compiler
1626  04BE              ;	---------------------------------
1627  04BE              ; Function spr_page_map
1628  04BE              ; ---------------------------------
1629  04BE              _spr_page_map:
1630  04BE  CD 00 00    	call	___sdcc_enter_ix
1631  04C1  21 EA FF    	ld	hl, -22
1632  04C4  39          	add	hl, sp
1633  04C5  F9          	ld	sp, hl
1634  04C6  3A 00 00    	ld	a,(_game_world)
1635  04C9  DD 77 ED    	ld	(ix-19),a
1636  04CC  3A 00 00    	ld	a,(_scr_curr)
1637  04CF  DD 77 EA    	ld	(ix-22),a
1638  04D2  DD 36 F0 10 	ld	(ix-16),0x10
1639  04D6  06 00       	ld	b,0x00
1640  04D8              l_spr_page_map_00138:
1641  04D8  C5          	push	bc
1642  04D9  21 00 00    	ld	hl,0x0000
1643  04DC  E5          	push	hl
1644  04DD  AF          	xor	a, a
1645  04DE  48          	ld	c,b
1646  04DF  47          	ld	b,a
1647  04E0  C5          	push	bc
1648  04E1  CD 00 00    	call	_NIRVANAP_spriteT_callee
1649  04E4  C1          	pop	bc
1650  04E5  04          	inc	b
1651  04E6  78          	ld	a, b
1652  04E7  D6 08       	sub	a,0x08
1653  04E9  38 ED       	jr	C,l_spr_page_map_00138
1654  04EB  76          	halt
1655  04EC  F3          	di
1656  04ED  DD 36 F2 00 	ld	(ix-14),0x00
1657  04F1              l_spr_page_map_00155:
1658  04F1  DD 7E F2    	ld	a,(ix-14)
1659  04F4  87          	add	a, a
1660  04F5  DD 77 F5    	ld	(ix-11),a
1661  04F8  DD 77 FF    	ld	(ix-1),a
1662  04FB  DD 36 F1 01 	ld	(ix-15),0x01
1663  04FF              l_spr_page_map_00140:
1664  04FF  DD 7E F1    	ld	a,(ix-15)
1665  0502  07          	rlca
1666  0503  07          	rlca
1667  0504  07          	rlca
1668  0505  07          	rlca
1669  0506  E6 F0       	and	a,0xf0
1670  0508  47          	ld	b, a
1671  0509  DD 7E FF    	ld	a,(ix-1)
1672  050C  48          	ld	c,b
1673  050D  47          	ld	b,a
1674  050E  C5          	push	bc
1675  050F  AF          	xor	a, a
1676  0510  F5          	push	af
1677  0511  33          	inc	sp
1678  0512  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1679  0515  DD 34 F1    	inc	(ix-15)
1680  0518  DD 7E F1    	ld	a,(ix-15)
1681  051B  D6 0A       	sub	a,0x0a
1682  051D  38 E0       	jr	C,l_spr_page_map_00140
1683  051F  3E 1E       	ld	a,0x1e
1684  0521  DD 96 F5    	sub	a,(ix-11)
1685  0524  47          	ld	b, a
1686  0525  0E 01       	ld	c,0x01
1687  0527              l_spr_page_map_00142:
1688  0527  79          	ld	a, c
1689  0528  07          	rlca
1690  0529  07          	rlca
1691  052A  07          	rlca
1692  052B  07          	rlca
1693  052C  E6 F0       	and	a,0xf0
1694  052E  57          	ld	d, a
1695  052F  C5          	push	bc
1696  0530  4A          	ld	c, d
1697  0531  C5          	push	bc
1698  0532  AF          	xor	a, a
1699  0533  F5          	push	af
1700  0534  33          	inc	sp
1701  0535  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1702  0538  C1          	pop	bc
1703  0539  0C          	inc	c
1704  053A  79          	ld	a, c
1705  053B  D6 0A       	sub	a,0x0a
1706  053D  38 E8       	jr	C,l_spr_page_map_00142
1707  053F  FB          	ei
1708  0540  76          	halt
1709  0541  F3          	di
1710  0542  DD 34 F2    	inc	(ix-14)
1711  0545  DD 7E F2    	ld	a,(ix-14)
1712  0548  D6 08       	sub	a,0x08
1713  054A  38 A5       	jr	C,l_spr_page_map_00155
1714  054C  3E 16       	ld	a,0x16
1715  054E  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1716  0551  01 FD 7F    	ld	bc,_IO_7FFD
1717  0554  ED 79       	out	(c),a
1718  0556  DD 7E EA    	ld	a,(ix-22)
1719  0559  3C          	inc	a
1720  055A  20 04       	jr	NZ,l_spr_page_map_00255
1721  055C  3E 01       	ld	a,0x01
1722  055E  18 01       	jr	l_spr_page_map_00256
1723  0560              l_spr_page_map_00255:
1724  0560  AF          	xor	a,a
1725  0561              l_spr_page_map_00256:
1726  0561  DD 77 FF    	ld	(ix-1),a
1727  0564  DD 7E ED    	ld	a,(ix-19)
1728  0567  B7          	or	a, a
1729  0568  20 32       	jr	NZ,l_spr_page_map_00110
1730  056A  DD 7E FF    	ld	a,(ix-1)
1731  056D  B7          	or	a, a
1732  056E  28 07       	jr	Z,l_spr_page_map_00106
1733  0570  21 00 00    	ld	hl,_start_scr0
1734  0573  4E          	ld	c, (hl)
1735  0574  DD 71 EA    	ld	(ix-22),c
1736  0577              l_spr_page_map_00106:
1737  0577  01 00 00    	ld	bc,_paper0
1738  057A  DD 6E EA    	ld	l,(ix-22)
1739  057D  26 00       	ld	h,0x00
1740  057F  09          	add	hl,bc
1741  0580  DD 75 FD    	ld	(ix-3),l
1742  0583  DD 74 FE    	ld	(ix-2),h
1743  0586  7E          	ld	a, (hl)
1744  0587  DD 77 FD    	ld	(ix-3),a
1745  058A  3A 00 00    	ld	a,(_world0_w)
1746  058D  DD 77 EC    	ld	(ix-20),a
1747  0590  DD 77 F5    	ld	(ix-11),a
1748  0593  21 00 00    	ld	hl,_world0_h
1749  0596  4E          	ld	c, (hl)
1750  0597  DD 71 FC    	ld	(ix-4),c
1751  059A  18 32       	jr	l_spr_page_map_00111
1752  059C              l_spr_page_map_00110:
1753  059C  DD 7E FF    	ld	a,(ix-1)
1754  059F  B7          	or	a, a
1755  05A0  28 07       	jr	Z,l_spr_page_map_00108
1756  05A2  21 00 00    	ld	hl,_start_scr1
1757  05A5  4E          	ld	c, (hl)
1758  05A6  DD 71 EA    	ld	(ix-22),c
1759  05A9              l_spr_page_map_00108:
1760  05A9  01 00 00    	ld	bc,_paper1
1761  05AC  DD 6E EA    	ld	l,(ix-22)
1762  05AF  26 00       	ld	h,0x00
1763  05B1  09          	add	hl,bc
1764  05B2  DD 75 FA    	ld	(ix-6),l
1765  05B5  DD 74 FB    	ld	(ix-5),h
1766  05B8  7E          	ld	a, (hl)
1767  05B9  DD 77 FD    	ld	(ix-3),a
1768  05BC  3A 00 00    	ld	a,(_world1_w)
1769  05BF  DD 77 EC    	ld	(ix-20),a
1770  05C2  DD 77 F5    	ld	(ix-11),a
1771  05C5  3A 00 00    	ld	a,(_world1_h)
1772  05C8  DD 77 EB    	ld	(ix-21),a
1773  05CB  DD 77 FC    	ld	(ix-4),a
1774  05CE              l_spr_page_map_00111:
1775  05CE  3E 10       	ld	a,0x10
1776  05D0  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1777  05D3  01 FD 7F    	ld	bc,_IO_7FFD
1778  05D6  ED 79       	out	(c),a
1779  05D8  3E 00       	ld	a,0x00
1780  05DA  DD 77 EE    	ld	(ix-18),a
1781  05DD  DD 77 EF    	ld	(ix-17),a
1782  05E0  DD 77 F1    	ld	(ix-15),a
1783  05E3              l_spr_page_map_00115:
1784  05E3  DD 7E F1    	ld	a,(ix-15)
1785  05E6  DD 96 EA    	sub	a,(ix-22)
1786  05E9  30 64       	jr	NC,l_spr_page_map_00117
1787  05EB  3E 16       	ld	a,0x16
1788  05ED  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1789  05F0  01 FD 7F    	ld	bc,_IO_7FFD
1790  05F3  ED 79       	out	(c),a
1791  05F5  DD 7E ED    	ld	a,(ix-19)
1792  05F8  B7          	or	a, a
1793  05F9  20 19       	jr	NZ,l_spr_page_map_00113
1794  05FB  01 00 00    	ld	bc,_lenght0
1795  05FE  DD 6E F1    	ld	l,(ix-15)
1796  0601  26 00       	ld	h,0x00
1797  0603  09          	add	hl,bc
1798  0604  DD 75 FA    	ld	(ix-6),l
1799  0607  DD 74 FB    	ld	(ix-5),h
1800  060A  7E          	ld	a, (hl)
1801  060B  DD 77 FA    	ld	(ix-6),a
1802  060E  DD 36 FB 00 	ld	(ix-5),0x00
1803  0612  18 1A       	jr	l_spr_page_map_00114
1804  0614              l_spr_page_map_00113:
1805  0614  01 00 00    	ld	bc,_lenght1
1806  0617  DD 6E F1    	ld	l,(ix-15)
1807  061A  26 00       	ld	h,0x00
1808  061C  09          	add	hl,bc
1809  061D  DD 75 F8    	ld	(ix-8),l
1810  0620  DD 74 F9    	ld	(ix-7),h
1811  0623  7E          	ld	a, (hl)
1812  0624  DD 77 F8    	ld	(ix-8),a
1813  0627  DD 77 FA    	ld	(ix-6),a
1814  062A  DD 36 FB 00 	ld	(ix-5),0x00
1815  062E              l_spr_page_map_00114:
1816  062E  3E 10       	ld	a,0x10
1817  0630  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1818  0633  01 FD 7F    	ld	bc,_IO_7FFD
1819  0636  ED 79       	out	(c),a
1820  0638  DD 7E EE    	ld	a,(ix-18)
1821  063B  DD 86 FA    	add	a,(ix-6)
1822  063E  DD 77 EE    	ld	(ix-18),a
1823  0641  DD 7E EF    	ld	a,(ix-17)
1824  0644  DD 8E FB    	adc	a,(ix-5)
1825  0647  DD 77 EF    	ld	(ix-17),a
1826  064A  DD 34 F1    	inc	(ix-15)
1827  064D  18 94       	jr	l_spr_page_map_00115
1828  064F              l_spr_page_map_00117:
1829  064F  FB          	ei
1830  0650  F3          	di
1831  0651  DD 36 F2 00 	ld	(ix-14),0x00
1832  0655              l_spr_page_map_00149:
1833  0655  3E 16       	ld	a,0x16
1834  0657  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1835  065A  01 FD 7F    	ld	bc,_IO_7FFD
1836  065D  ED 79       	out	(c),a
1837  065F  DD 7E F2    	ld	a,(ix-14)
1838  0662  DD 77 F8    	ld	(ix-8),a
1839  0665  DD 36 F9 00 	ld	(ix-7),0x00
1840  0669  DD 7E EE    	ld	a,(ix-18)
1841  066C  DD 86 F8    	add	a,(ix-8)
1842  066F  DD 77 F8    	ld	(ix-8),a
1843  0672  DD 7E EF    	ld	a,(ix-17)
1844  0675  DD 8E F9    	adc	a,(ix-7)
1845  0678  DD 77 F9    	ld	(ix-7),a
1846  067B  DD 7E F8    	ld	a,(ix-8)
1847  067E  C6 01       	add	a,0x01
1848  0680  DD 77 FA    	ld	(ix-6),a
1849  0683  DD 7E F9    	ld	a,(ix-7)
1850  0686  CE 00       	adc	a,0x00
1851  0688  DD 77 FB    	ld	(ix-5),a
1852  068B  DD 7E ED    	ld	a,(ix-19)
1853  068E  B7          	or	a, a
1854  068F  20 2A       	jr	NZ,l_spr_page_map_00119
1855  0691  DD 6E F8    	ld	l,(ix-8)
1856  0694  DD 66 F9    	ld	h,(ix-7)
1857  0697  01 00 00    	ld	bc,_world0
1858  069A  09          	add	hl,bc
1859  069B  DD 75 F6    	ld	(ix-10),l
1860  069E  DD 74 F7    	ld	(ix-9),h
1861  06A1  7E          	ld	a, (hl)
1862  06A2  DD 77 F4    	ld	(ix-12),a
1863  06A5  DD 6E FA    	ld	l,(ix-6)
1864  06A8  DD 66 FB    	ld	h,(ix-5)
1865  06AB  01 00 00    	ld	bc,_world0
1866  06AE  09          	add	hl,bc
1867  06AF  DD 75 F6    	ld	(ix-10),l
1868  06B2  DD 74 F7    	ld	(ix-9),h
1869  06B5  7E          	ld	a, (hl)
1870  06B6  DD 77 F3    	ld	(ix-13),a
1871  06B9  18 28       	jr	l_spr_page_map_00120
1872  06BB              l_spr_page_map_00119:
1873  06BB  DD 6E F8    	ld	l,(ix-8)
1874  06BE  DD 66 F9    	ld	h,(ix-7)
1875  06C1  01 00 00    	ld	bc,_world1
1876  06C4  09          	add	hl,bc
1877  06C5  DD 75 F6    	ld	(ix-10),l
1878  06C8  DD 74 F7    	ld	(ix-9),h
1879  06CB  7E          	ld	a, (hl)
1880  06CC  DD 77 F4    	ld	(ix-12),a
1881  06CF  DD 6E FA    	ld	l,(ix-6)
1882  06D2  DD 66 FB    	ld	h,(ix-5)
1883  06D5  01 00 00    	ld	bc,_world1
1884  06D8  09          	add	hl,bc
1885  06D9  DD 75 F6    	ld	(ix-10),l
1886  06DC  DD 74 F7    	ld	(ix-9),h
1887  06DF  7E          	ld	a, (hl)
1888  06E0  DD 77 F3    	ld	(ix-13),a
1889  06E3              l_spr_page_map_00120:
1890  06E3  3E 10       	ld	a,0x10
1891  06E5  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1892  06E8  01 FD 7F    	ld	bc,_IO_7FFD
1893  06EB  ED 79       	out	(c),a
1894  06ED  DD 7E F4    	ld	a,(ix-12)
1895  06F0  D6 80       	sub	a,0x80
1896  06F2  30 4D       	jr	NC,l_spr_page_map_00131
1897  06F4  DD 7E F0    	ld	a,(ix-16)
1898  06F7  DD 77 F6    	ld	(ix-10),a
1899  06FA  6F          	ld	l, a
1900  06FB  26 00       	ld	h,0x00
1901  06FD  DD 74 F7    	ld	(ix-9),h
1902  0700  E5          	push	hl
1903  0701  CD 00 00    	call	_game_obj_chk
1904  0704  F1          	pop	af
1905  0705  DD 75 F8    	ld	(ix-8),l
1906  0708  3E 00       	ld	a, +((_scr_map) & 0xFF)
1907  070A  DD 86 F0    	add	a,(ix-16)
1908  070D  DD 77 FA    	ld	(ix-6),a
1909  0710  3E 00       	ld	a, +((_scr_map) / 256)
1910  0712  CE 00       	adc	a,0x00
1911  0714  DD 77 FB    	ld	(ix-5),a
1912  0717  DD 7E F8    	ld	a,(ix-8)
1913  071A  B7          	or	a, a
1914  071B  20 0C       	jr	NZ,l_spr_page_map_00122
1915  071D  DD 6E FA    	ld	l,(ix-6)
1916  0720  DD 66 FB    	ld	h,(ix-5)
1917  0723  DD 7E F4    	ld	a,(ix-12)
1918  0726  77          	ld	(hl), a
1919  0727  18 13       	jr	l_spr_page_map_00123
1920  0729              l_spr_page_map_00122:
1921  0729  DD 6E F6    	ld	l,(ix-10)
1922  072C  DD 66 F7    	ld	h,(ix-9)
1923  072F  E5          	push	hl
1924  0730  CD 00 00    	call	_game_match_back
1925  0733  F1          	pop	af
1926  0734  4D          	ld	c, l
1927  0735  DD 6E FA    	ld	l,(ix-6)
1928  0738  DD 66 FB    	ld	h,(ix-5)
1929  073B  71          	ld	(hl), c
1930  073C              l_spr_page_map_00123:
1931  073C  DD 34 F0    	inc	(ix-16)
1932  073F  18 67       	jr	l_spr_page_map_00132
1933  0741              l_spr_page_map_00131:
1934  0741  DD 7E F4    	ld	a,(ix-12)
1935  0744  C6 80       	add	a,0x80
1936  0746  4F          	ld	c, a
1937  0747  DD 5E F0    	ld	e,(ix-16)
1938  074A  06 00       	ld	b,0x00
1939  074C              l_spr_page_map_00147:
1940  074C  78          	ld	a, b
1941  074D  91          	sub	a, c
1942  074E  30 52       	jr	NC,l_spr_page_map_00181
1943  0750  DD 73 F6    	ld	(ix-10),e
1944  0753  DD 36 F7 00 	ld	(ix-9),0x00
1945  0757  C5          	push	bc
1946  0758  D5          	push	de
1947  0759  DD 6E F6    	ld	l,(ix-10)
1948  075C  DD 66 F7    	ld	h,(ix-9)
1949  075F  E5          	push	hl
1950  0760  CD 00 00    	call	_game_obj_chk
1951  0763  F1          	pop	af
1952  0764  D1          	pop	de
1953  0765  C1          	pop	bc
1954  0766  7D          	ld	a,l
1955  0767  B7          	or	a,a
1956  0768  20 0B       	jr	NZ,l_spr_page_map_00125
1957  076A  57          	ld	d,a
1958  076B  21 00 00    	ld	hl,_scr_map
1959  076E  19          	add	hl, de
1960  076F  DD 7E F3    	ld	a,(ix-13)
1961  0772  77          	ld	(hl), a
1962  0773  18 24       	jr	l_spr_page_map_00126
1963  0775              l_spr_page_map_00125:
1964  0775  3E 00       	ld	a, +((_scr_map) & 0xFF)
1965  0777  83          	add	a, e
1966  0778  DD 77 F8    	ld	(ix-8),a
1967  077B  3E 00       	ld	a, +((_scr_map) / 256)
1968  077D  CE 00       	adc	a,0x00
1969  077F  DD 77 F9    	ld	(ix-7),a
1970  0782  C5          	push	bc
1971  0783  D5          	push	de
1972  0784  DD 6E F6    	ld	l,(ix-10)
1973  0787  DD 66 F7    	ld	h,(ix-9)
1974  078A  E5          	push	hl
1975  078B  CD 00 00    	call	_game_match_back
1976  078E  F1          	pop	af
1977  078F  D1          	pop	de
1978  0790  C1          	pop	bc
1979  0791  7D          	ld	a,l
1980  0792  DD 6E F8    	ld	l,(ix-8)
1981  0795  DD 66 F9    	ld	h,(ix-7)
1982  0798  77          	ld	(hl), a
1983  0799              l_spr_page_map_00126:
1984  0799  1C          	inc	e
1985  079A  7B          	ld	a, e
1986  079B  D6 A0       	sub	a,0xa0
1987  079D  30 03       	jr	NC,l_spr_page_map_00181
1988  079F  04          	inc	b
1989  07A0  18 AA       	jr	l_spr_page_map_00147
1990  07A2              l_spr_page_map_00181:
1991  07A2  DD 73 F0    	ld	(ix-16),e
1992  07A5  DD 34 F2    	inc	(ix-14)
1993  07A8              l_spr_page_map_00132:
1994  07A8  DD 7E F0    	ld	a,(ix-16)
1995  07AB  D6 A0       	sub	a,0xa0
1996  07AD  30 0B       	jr	NC,l_spr_page_map_00135
1997  07AF  DD 34 F2    	inc	(ix-14)
1998  07B2  DD 7E F2    	ld	a,(ix-14)
1999  07B5  D6 A0       	sub	a,0xa0
2000  07B7  DA 55 06    	jp	C, l_spr_page_map_00149
2001  07BA              l_spr_page_map_00135:
2002  07BA  CD 62 0E    	call	_spr_init_anim_bullets
2003  07BD  DD 7E EA    	ld	a,(ix-22)
2004  07C0  32 00 00    	ld	(_scr_curr),a
2005  07C3  DD 7E F5    	ld	a,(ix-11)
2006  07C6  32 00 00    	ld	(_map_width),a
2007  07C9  DD 7E FC    	ld	a,(ix-4)
2008  07CC  32 00 00    	ld	(_map_heigth),a
2009  07CF  DD 7E FD    	ld	a,(ix-3)
2010  07D2  32 00 00    	ld	(_map_paper),a
2011  07D5  3A 00 00    	ld	a,(_map_paper_last)
2012  07D8  21 00 00    	ld	hl,_map_paper
2013  07DB  96          	sub	a, (hl)
2014  07DC  28 03       	jr	Z,l_spr_page_map_00137
2015  07DE  CD BB 16    	call	_spr_btile_paint_back
2016  07E1              l_spr_page_map_00137:
2017  07E1  3A 00 00    	ld	a,(_map_paper)
2018  07E4  32 00 00    	ld	(_map_paper_last),a
2019  07E7  FB          	ei
2020  07E8  CD 00 00    	call	_NIRVANAP_start
2021  07EB  21 00 00    	ld	hl,_screen_ink
2022  07EE  36 06       	ld	(hl),0x06
2023  07F0  21 00 00    	ld	hl,___str_0
2024  07F3  E5          	push	hl
2025  07F4  21 17 0C    	ld	hl,0x0c17
2026  07F7  E5          	push	hl
2027  07F8  CD 00 00    	call	_zx_print_str
2028  07FB  3A 00 00    	ld	a,(_scr_curr)
2029  07FE  F5          	push	af
2030  07FF  33          	inc	sp
2031  0800  21 17 10    	ld	hl,0x1017
2032  0803  E5          	push	hl
2033  0804  CD 00 00    	call	_zx_print_chr
2034  0807  DD F9       	ld	sp, ix
2035  0809  DD E1       	pop	ix
2036  080B  C9          	ret
2037  080C              	SECTION rodata_compiler
2038  0000              ___str_0:
2039  0000  53 43 52 3A 	DEFM "SCR:"
2040  0004  00          	DEFB 0x00
2041  0005              	SECTION code_compiler
2042  080C              ;	---------------------------------
2043  080C              ; Function spr_redraw
2044  080C              ; ---------------------------------
2045  080C              _spr_redraw:
2046  080C  2A 00 00    	ld	hl,(_sprite)
2047  080F  26 00       	ld	h,0x00
2048  0811  01 00 00    	ld	bc,_tile
2049  0814  09          	add	hl,bc
2050  0815  4E          	ld	c, (hl)
2051  0816  3A 00 00    	ld	a,(_sprite)
2052  0819  5F          	ld	e,a
2053  081A  16 00       	ld	d,0x00
2054  081C  21 00 00    	ld	hl,_colint
2055  081F  19          	add	hl,de
2056  0820  7E          	ld	a,(hl)
2057  0821  81          	add	a,c
2058  0822  32 00 00    	ld	(_s_tile1),a
2059  0825  2A 00 00    	ld	hl,(_sprite)
2060  0828  26 00       	ld	h,0x00
2061  082A  01 00 00    	ld	bc,_col
2062  082D  09          	add	hl,bc
2063  082E  7E          	ld	a,(hl)
2064  082F  32 00 00    	ld	(_s_col1),a
2065  0832  2A 00 00    	ld	hl,(_sprite)
2066  0835  26 00       	ld	h,0x00
2067  0837  01 00 00    	ld	bc,_lin
2068  083A  09          	add	hl,bc
2069  083B  7E          	ld	a,(hl)
2070  083C  4D          	ld	c,l
2071  083D  32 00 00    	ld	(_s_lin1),a
2072  0840  21 00 00    	ld	hl,_s_lin0
2073  0843  96          	sub	a, (hl)
2074  0844  20 0A       	jr	NZ,l_spr_redraw_00117
2075  0846  3A 00 00    	ld	a,(_s_col1)
2076  0849  21 00 00    	ld	hl,_s_col0
2077  084C  96          	sub	a, (hl)
2078  084D  CA 03 09    	jp	Z,l_spr_redraw_00118
2079  0850              l_spr_redraw_00117:
2080  0850  3A 00 00    	ld	a,(_sprite)
2081  0853  D6 07       	sub	a,0x07
2082  0855  20 3A       	jr	NZ,l_spr_redraw_00113
2083  0857  3A 00 00    	ld	a,(_player_over_stair)
2084  085A  B7          	or	a, a
2085  085B  28 2F       	jr	Z,l_spr_redraw_00104
2086  085D  3A 07 00    	ld	a, (_lin + 7)
2087  0860  E6 03       	and	a,0x03
2088  0862  20 28       	jr	NZ,l_spr_redraw_00104
2089  0864  21 00 00    	ld	hl,_player_anim_stair
2090  0867  34          	inc	(hl)
2091  0868  20 02       	jr	NZ,l_spr_redraw_00162
2092  086A  23          	inc	hl
2093  086B  34          	inc	(hl)
2094  086C              l_spr_redraw_00162:
2095  086C  3E 01       	ld	a,0x01
2096  086E  21 00 00    	ld	hl,_player_anim_stair
2097  0871  BE          	cp	a, (hl)
2098  0872  3E 00       	ld	a,0x00
2099  0874  23          	inc	hl
2100  0875  9E          	sbc	a, (hl)
2101  0876  30 05       	jr	NC,l_spr_redraw_00102
2102  0878  2B          	dec	hl
2103  0879  AF          	xor	a, a
2104  087A  77          	ld	(hl), a
2105  087B  23          	inc	hl
2106  087C  77          	ld	(hl), a
2107  087D              l_spr_redraw_00102:
2108  087D  21 07 00    	ld	hl,_tile + 7
2109  0880  4E          	ld	c, (hl)
2110  0881  21 00 00    	ld	hl,_player_anim_stair
2111  0884  46          	ld	b, (hl)
2112  0885  79          	ld	a, c
2113  0886  80          	add	a, b
2114  0887  C6 04       	add	a,0x04
2115  0889  32 00 00    	ld	(_s_tile1),a
2116  088C              l_spr_redraw_00104:
2117  088C  CD BA 0C    	call	_spr_back_repaint
2118  088F  18 5B       	jr	l_spr_redraw_00114
2119  0891              l_spr_redraw_00113:
2120  0891  3A 00 00    	ld	a,(_s_lin1)
2121  0894  E6 07       	and	a,0x07
2122  0896  20 05       	jr	NZ,l_spr_redraw_00110
2123  0898  CD BA 0C    	call	_spr_back_repaint
2124  089B  18 4F       	jr	l_spr_redraw_00114
2125  089D              l_spr_redraw_00110:
2126  089D  21 00 00    	ld	hl,_s_state
2127  08A0  CB 46       	bit	0, (hl)
2128  08A2  28 26       	jr	Z,l_spr_redraw_00107
2129  08A4  3A 00 00    	ld	a,(_s_lin0)
2130  08A7  C6 08       	add	a,0x08
2131  08A9  47          	ld	b, a
2132  08AA  3A 00 00    	ld	a,(_s_col0)
2133  08AD  F5          	push	af
2134  08AE  33          	inc	sp
2135  08AF  C5          	push	bc
2136  08B0  33          	inc	sp
2137  08B1  3A 00 00    	ld	a,(_map_paper_clr)
2138  08B4  F5          	push	af
2139  08B5  33          	inc	sp
2140  08B6  CD 00 00    	call	_NIRVANAP_fillC_callee
2141  08B9  21 00 00    	ld	hl,_s_col0
2142  08BC  56          	ld	d, (hl)
2143  08BD  14          	inc	d
2144  08BE  58          	ld	e,b
2145  08BF  3A 00 00    	ld	a,(_map_paper_clr)
2146  08C2  D5          	push	de
2147  08C3  F5          	push	af
2148  08C4  33          	inc	sp
2149  08C5  CD 00 00    	call	_NIRVANAP_fillC_callee
2150  08C8  18 22       	jr	l_spr_redraw_00114
2151  08CA              l_spr_redraw_00107:
2152  08CA  2A FF FF    	ld	hl,(_s_col0 - 1)
2153  08CD  3A 00 00    	ld	a,(_s_lin0)
2154  08D0  6F          	ld	l,a
2155  08D1  3A 00 00    	ld	a,(_map_paper_clr)
2156  08D4  E5          	push	hl
2157  08D5  F5          	push	af
2158  08D6  33          	inc	sp
2159  08D7  CD 00 00    	call	_NIRVANAP_fillC_callee
2160  08DA  21 00 00    	ld	hl,_s_col0
2161  08DD  46          	ld	b, (hl)
2162  08DE  04          	inc	b
2163  08DF  C5          	push	bc
2164  08E0  33          	inc	sp
2165  08E1  2A FF FF    	ld	hl,(_s_lin0 - 1)
2166  08E4  3A 00 00    	ld	a,(_map_paper_clr)
2167  08E7  6F          	ld	l,a
2168  08E8  E5          	push	hl
2169  08E9  CD 00 00    	call	_NIRVANAP_fillC_callee
2170  08EC              l_spr_redraw_00114:
2171  08EC  2A FF FF    	ld	hl,(_s_col1 - 1)
2172  08EF  3A 00 00    	ld	a,(_s_lin1)
2173  08F2  6F          	ld	l,a
2174  08F3  E5          	push	hl
2175  08F4  2A FF FF    	ld	hl,(_s_tile1 - 1)
2176  08F7  3A 00 00    	ld	a,(_sprite)
2177  08FA  6F          	ld	l,a
2178  08FB  E5          	push	hl
2179  08FC  CD 00 00    	call	_NIRVANAP_spriteT_callee
2180  08FF  2E 01       	ld	l,0x01
2181  0901  18 22       	jr	l_spr_redraw_00121
2182  0903              l_spr_redraw_00118:
2183  0903  3A 00 00    	ld	a,(_s_tile1)
2184  0906  21 00 00    	ld	hl,_s_tile0
2185  0909  96          	sub	a, (hl)
2186  090A  28 17       	jr	Z,l_spr_redraw_00119
2187  090C  2A FF FF    	ld	hl,(_s_col1 - 1)
2188  090F  3A 00 00    	ld	a,(_s_lin1)
2189  0912  6F          	ld	l,a
2190  0913  E5          	push	hl
2191  0914  2A FF FF    	ld	hl,(_s_tile1 - 1)
2192  0917  3A 00 00    	ld	a,(_sprite)
2193  091A  6F          	ld	l,a
2194  091B  E5          	push	hl
2195  091C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2196  091F  2E 00       	ld	l,0x00
2197  0921  18 02       	jr	l_spr_redraw_00121
2198  0923              l_spr_redraw_00119:
2199  0923  2E 00       	ld	l,0x00
2200  0925              l_spr_redraw_00121:
2201  0925  C9          	ret
2202  0926              	SECTION code_compiler
2203  0926              ;	---------------------------------
2204  0926              ; Function spr_destroy
2205  0926              ; ---------------------------------
2206  0926              _spr_destroy:
2207  0926  CD 00 00    	call	___sdcc_enter_ix
2208  0929  F5          	push	af
2209  092A  F5          	push	af
2210  092B  45          	ld	b, l
2211  092C  21 00 00    	ld	hl,_spr_count
2212  092F  35          	dec	(hl)
2213  0930  3E 00       	ld	a, +((_lin) & 0xFF)
2214  0932  80          	add	a, b
2215  0933  DD 77 FE    	ld	(ix-2),a
2216  0936  6F          	ld	l,a
2217  0937  3E 00       	ld	a,+((_lin) / 256)
2218  0939  CE 00       	adc	a,0x00
2219  093B  DD 77 FF    	ld	(ix-1),a
2220  093E  67          	ld	h,a
2221  093F  7E          	ld	a, (hl)
2222  0940  32 00 00    	ld	(_s_lin0),a
2223  0943  3E 00       	ld	a, +((_col) & 0xFF)
2224  0945  80          	add	a, b
2225  0946  DD 77 FC    	ld	(ix-4),a
2226  0949  3E 00       	ld	a, +((_col) / 256)
2227  094B  CE 00       	adc	a,0x00
2228  094D  DD 77 FD    	ld	(ix-3),a
2229  0950  E1          	pop	hl
2230  0951  7E          	ld	a,(hl)
2231  0952  E5          	push	hl
2232  0953  32 00 00    	ld	(_s_col0),a
2233  0956  C5          	push	bc
2234  0957  F5          	push	af
2235  0958  33          	inc	sp
2236  0959  3A 00 00    	ld	a,(_s_lin0)
2237  095C  F5          	push	af
2238  095D  33          	inc	sp
2239  095E  CD 00 00    	call	_spr_calc_index
2240  0961  F1          	pop	af
2241  0962  EB          	ex	de,hl
2242  0963  C1          	pop	bc
2243  0964  EB          	ex	de,hl
2244  0965  22 00 00    	ld	(_index0),hl
2245  0968  C5          	push	bc
2246  0969  E5          	push	hl
2247  096A  CD 00 00    	call	_game_match_back
2248  096D  F1          	pop	af
2249  096E  C1          	pop	bc
2250  096F  7D          	ld	a,l
2251  0970  32 00 00    	ld	(_s_tile0),a
2252  0973  C5          	push	bc
2253  0974  21 00 00    	ld	hl,0x0000
2254  0977  E5          	push	hl
2255  0978  48          	ld	c,b
2256  0979  47          	ld	b,a
2257  097A  C5          	push	bc
2258  097B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2259  097E  CD BA 0C    	call	_spr_back_repaint
2260  0981  C1          	pop	bc
2261  0982  3E 00       	ld	a, +((_tile) & 0xFF)
2262  0984  80          	add	a, b
2263  0985  5F          	ld	e, a
2264  0986  3E 00       	ld	a, +((_tile) / 256)
2265  0988  CE 00       	adc	a,0x00
2266  098A  E1          	pop	hl
2267  098B  57          	ld	d,a
2268  098C  3A 00 00    	ld	a,(_s_tile0)
2269  098F  12          	ld	(de),a
2270  0990  E5          	push	hl
2271  0991  36 00       	ld	(hl),0x00
2272  0993  DD 6E FE    	ld	l,(ix-2)
2273  0996  DD 66 FF    	ld	h,(ix-1)
2274  0999  36 00       	ld	(hl),0x00
2275  099B  11 00 00    	ld	de,_class+0
2276  099E  68          	ld	l,b
2277  099F  26 00       	ld	h,0x00
2278  09A1  19          	add	hl, de
2279  09A2  36 00       	ld	(hl),0x00
2280  09A4  11 00 00    	ld	de,_state+0
2281  09A7  68          	ld	l,b
2282  09A8  26 00       	ld	h,0x00
2283  09AA  19          	add	hl, de
2284  09AB  36 00       	ld	(hl),0x00
2285  09AD  11 00 00    	ld	de,_state_a+0
2286  09B0  68          	ld	l,b
2287  09B1  26 00       	ld	h,0x00
2288  09B3  19          	add	hl, de
2289  09B4  36 00       	ld	(hl),0x00
2290  09B6  DD F9       	ld	sp, ix
2291  09B8  DD E1       	pop	ix
2292  09BA  C9          	ret
2293  09BB              	SECTION code_compiler
2294  09BB              ;	---------------------------------
2295  09BB              ; Function spr_tile
2296  09BB              ; ---------------------------------
2297  09BB              _spr_tile:
2298  09BB  45          	ld	b,l
2299  09BC  11 00 00    	ld	de,_class+0
2300  09BF  26 00       	ld	h,0x00
2301  09C1  19          	add	hl, de
2302  09C2  5E          	ld	e, (hl)
2303  09C3  3E 13       	ld	a,0x13
2304  09C5  93          	sub	a, e
2305  09C6  DA F9 0A    	jp	C, l_spr_tile_00116
2306  09C9  16 00       	ld	d,0x00
2307  09CB  21 D2 09    	ld	hl,l_spr_tile_00123
2308  09CE  19          	add	hl, de
2309  09CF  19          	add	hl, de
2310  09D0  19          	add	hl, de
2311  09D1  E9          	jp	(hl)
2312  09D2              l_spr_tile_00123:
2313  09D2  C3 F9 0A    	jp	l_spr_tile_00116
2314  09D5  C3 F9 0A    	jp	l_spr_tile_00116
2315  09D8  C3 60 0A    	jp	l_spr_tile_00106
2316  09DB  C3 71 0A    	jp	l_spr_tile_00107
2317  09DE  C3 81 0A    	jp	l_spr_tile_00108
2318  09E1  C3 90 0A    	jp	l_spr_tile_00109
2319  09E4  C3 CC 0A    	jp	l_spr_tile_00113
2320  09E7  C3 DB 0A    	jp	l_spr_tile_00114
2321  09EA  C3 EA 0A    	jp	l_spr_tile_00115
2322  09ED  C3 F9 0A    	jp	l_spr_tile_00116
2323  09F0  C3 F9 0A    	jp	l_spr_tile_00116
2324  09F3  C3 0E 0A    	jp	l_spr_tile_00101
2325  09F6  C3 1E 0A    	jp	l_spr_tile_00102
2326  09F9  C3 2E 0A    	jp	l_spr_tile_00103
2327  09FC  C3 3F 0A    	jp	l_spr_tile_00104
2328  09FF  C3 4F 0A    	jp	l_spr_tile_00105
2329  0A02  C3 9F 0A    	jp	l_spr_tile_00110
2330  0A05  C3 F9 0A    	jp	l_spr_tile_00116
2331  0A08  C3 AE 0A    	jp	l_spr_tile_00111
2332  0A0B  C3 BD 0A    	jp	l_spr_tile_00112
2333  0A0E              l_spr_tile_00101:
2334  0A0E  AF          	xor	a, a
2335  0A0F  48          	ld	c,b
2336  0A10  47          	ld	b,a
2337  0A11  C5          	push	bc
2338  0A12  3E 90       	ld	a,0x90
2339  0A14  F5          	push	af
2340  0A15  33          	inc	sp
2341  0A16  CD FC 0A    	call	_spr_tile_dir
2342  0A19  F1          	pop	af
2343  0A1A  33          	inc	sp
2344  0A1B  C3 FB 0A    	jp	l_spr_tile_00117
2345  0A1E              l_spr_tile_00102:
2346  0A1E  AF          	xor	a, a
2347  0A1F  48          	ld	c,b
2348  0A20  47          	ld	b,a
2349  0A21  C5          	push	bc
2350  0A22  3E 94       	ld	a,0x94
2351  0A24  F5          	push	af
2352  0A25  33          	inc	sp
2353  0A26  CD FC 0A    	call	_spr_tile_dir
2354  0A29  F1          	pop	af
2355  0A2A  33          	inc	sp
2356  0A2B  C3 FB 0A    	jp	l_spr_tile_00117
2357  0A2E              l_spr_tile_00103:
2358  0A2E  3E 02       	ld	a,0x02
2359  0A30  48          	ld	c,b
2360  0A31  47          	ld	b,a
2361  0A32  C5          	push	bc
2362  0A33  3E 98       	ld	a,0x98
2363  0A35  F5          	push	af
2364  0A36  33          	inc	sp
2365  0A37  CD FC 0A    	call	_spr_tile_dir
2366  0A3A  F1          	pop	af
2367  0A3B  33          	inc	sp
2368  0A3C  C3 FB 0A    	jp	l_spr_tile_00117
2369  0A3F              l_spr_tile_00104:
2370  0A3F  AF          	xor	a, a
2371  0A40  48          	ld	c,b
2372  0A41  47          	ld	b,a
2373  0A42  C5          	push	bc
2374  0A43  3E 9C       	ld	a,0x9c
2375  0A45  F5          	push	af
2376  0A46  33          	inc	sp
2377  0A47  CD FC 0A    	call	_spr_tile_dir
2378  0A4A  F1          	pop	af
2379  0A4B  33          	inc	sp
2380  0A4C  C3 FB 0A    	jp	l_spr_tile_00117
2381  0A4F              l_spr_tile_00105:
2382  0A4F  3E 04       	ld	a,0x04
2383  0A51  48          	ld	c,b
2384  0A52  47          	ld	b,a
2385  0A53  C5          	push	bc
2386  0A54  3E A0       	ld	a,0xa0
2387  0A56  F5          	push	af
2388  0A57  33          	inc	sp
2389  0A58  CD FC 0A    	call	_spr_tile_dir
2390  0A5B  F1          	pop	af
2391  0A5C  33          	inc	sp
2392  0A5D  C3 FB 0A    	jp	l_spr_tile_00117
2393  0A60              l_spr_tile_00106:
2394  0A60  3E 02       	ld	a,0x02
2395  0A62  48          	ld	c,b
2396  0A63  47          	ld	b,a
2397  0A64  C5          	push	bc
2398  0A65  3E A8       	ld	a,0xa8
2399  0A67  F5          	push	af
2400  0A68  33          	inc	sp
2401  0A69  CD FC 0A    	call	_spr_tile_dir
2402  0A6C  F1          	pop	af
2403  0A6D  33          	inc	sp
2404  0A6E  C3 FB 0A    	jp	l_spr_tile_00117
2405  0A71              l_spr_tile_00107:
2406  0A71  AF          	xor	a, a
2407  0A72  48          	ld	c,b
2408  0A73  47          	ld	b,a
2409  0A74  C5          	push	bc
2410  0A75  3E AC       	ld	a,0xac
2411  0A77  F5          	push	af
2412  0A78  33          	inc	sp
2413  0A79  CD FC 0A    	call	_spr_tile_dir
2414  0A7C  F1          	pop	af
2415  0A7D  33          	inc	sp
2416  0A7E  C3 FB 0A    	jp	l_spr_tile_00117
2417  0A81              l_spr_tile_00108:
2418  0A81  AF          	xor	a, a
2419  0A82  48          	ld	c,b
2420  0A83  47          	ld	b,a
2421  0A84  C5          	push	bc
2422  0A85  3E AE       	ld	a,0xae
2423  0A87  F5          	push	af
2424  0A88  33          	inc	sp
2425  0A89  CD FC 0A    	call	_spr_tile_dir
2426  0A8C  F1          	pop	af
2427  0A8D  33          	inc	sp
2428  0A8E  18 6B       	jr	l_spr_tile_00117
2429  0A90              l_spr_tile_00109:
2430  0A90  AF          	xor	a, a
2431  0A91  48          	ld	c,b
2432  0A92  47          	ld	b,a
2433  0A93  C5          	push	bc
2434  0A94  3E B0       	ld	a,0xb0
2435  0A96  F5          	push	af
2436  0A97  33          	inc	sp
2437  0A98  CD FC 0A    	call	_spr_tile_dir
2438  0A9B  F1          	pop	af
2439  0A9C  33          	inc	sp
2440  0A9D  18 5C       	jr	l_spr_tile_00117
2441  0A9F              l_spr_tile_00110:
2442  0A9F  AF          	xor	a, a
2443  0AA0  48          	ld	c,b
2444  0AA1  47          	ld	b,a
2445  0AA2  C5          	push	bc
2446  0AA3  3E B2       	ld	a,0xb2
2447  0AA5  F5          	push	af
2448  0AA6  33          	inc	sp
2449  0AA7  CD FC 0A    	call	_spr_tile_dir
2450  0AAA  F1          	pop	af
2451  0AAB  33          	inc	sp
2452  0AAC  18 4D       	jr	l_spr_tile_00117
2453  0AAE              l_spr_tile_00111:
2454  0AAE  AF          	xor	a, a
2455  0AAF  48          	ld	c,b
2456  0AB0  47          	ld	b,a
2457  0AB1  C5          	push	bc
2458  0AB2  3E B4       	ld	a,0xb4
2459  0AB4  F5          	push	af
2460  0AB5  33          	inc	sp
2461  0AB6  CD FC 0A    	call	_spr_tile_dir
2462  0AB9  F1          	pop	af
2463  0ABA  33          	inc	sp
2464  0ABB  18 3E       	jr	l_spr_tile_00117
2465  0ABD              l_spr_tile_00112:
2466  0ABD  AF          	xor	a, a
2467  0ABE  48          	ld	c,b
2468  0ABF  47          	ld	b,a
2469  0AC0  C5          	push	bc
2470  0AC1  3E B6       	ld	a,0xb6
2471  0AC3  F5          	push	af
2472  0AC4  33          	inc	sp
2473  0AC5  CD FC 0A    	call	_spr_tile_dir
2474  0AC8  F1          	pop	af
2475  0AC9  33          	inc	sp
2476  0ACA  18 2F       	jr	l_spr_tile_00117
2477  0ACC              l_spr_tile_00113:
2478  0ACC  AF          	xor	a, a
2479  0ACD  48          	ld	c,b
2480  0ACE  47          	ld	b,a
2481  0ACF  C5          	push	bc
2482  0AD0  3E C0       	ld	a,0xc0
2483  0AD2  F5          	push	af
2484  0AD3  33          	inc	sp
2485  0AD4  CD FC 0A    	call	_spr_tile_dir
2486  0AD7  F1          	pop	af
2487  0AD8  33          	inc	sp
2488  0AD9  18 20       	jr	l_spr_tile_00117
2489  0ADB              l_spr_tile_00114:
2490  0ADB  AF          	xor	a, a
2491  0ADC  48          	ld	c,b
2492  0ADD  47          	ld	b,a
2493  0ADE  C5          	push	bc
2494  0ADF  3E C2       	ld	a,0xc2
2495  0AE1  F5          	push	af
2496  0AE2  33          	inc	sp
2497  0AE3  CD FC 0A    	call	_spr_tile_dir
2498  0AE6  F1          	pop	af
2499  0AE7  33          	inc	sp
2500  0AE8  18 11       	jr	l_spr_tile_00117
2501  0AEA              l_spr_tile_00115:
2502  0AEA  AF          	xor	a, a
2503  0AEB  48          	ld	c,b
2504  0AEC  47          	ld	b,a
2505  0AED  C5          	push	bc
2506  0AEE  3E C4       	ld	a,0xc4
2507  0AF0  F5          	push	af
2508  0AF1  33          	inc	sp
2509  0AF2  CD FC 0A    	call	_spr_tile_dir
2510  0AF5  F1          	pop	af
2511  0AF6  33          	inc	sp
2512  0AF7  18 02       	jr	l_spr_tile_00117
2513  0AF9              l_spr_tile_00116:
2514  0AF9  2E 00       	ld	l,0x00
2515  0AFB              l_spr_tile_00117:
2516  0AFB  C9          	ret
2517  0AFC              	SECTION code_compiler
2518  0AFC              ;	---------------------------------
2519  0AFC              ; Function spr_tile_dir
2520  0AFC              ; ---------------------------------
2521  0AFC              _spr_tile_dir:
2522  0AFC  CD 00 00    	call	___sdcc_enter_ix
2523  0AFF  3E 00       	ld	a, +((_state) & 0xFF)
2524  0B01  DD 86 05    	add	a,(ix+5)
2525  0B04  4F          	ld	c, a
2526  0B05  3E 00       	ld	a, +((_state) / 256)
2527  0B07  CE 00       	adc	a,0x00
2528  0B09  47          	ld	b, a
2529  0B0A  0A          	ld	a, (bc)
2530  0B0B  4F          	ld	c,a
2531  0B0C  CB 57       	bit	2,a
2532  0B0E  28 05       	jr	Z,l_spr_tile_dir_00102
2533  0B10  DD 6E 04    	ld	l,(ix+4)
2534  0B13  18 2D       	jr	l_spr_tile_dir_00109
2535  0B15              l_spr_tile_dir_00102:
2536  0B15  DD 7E 04    	ld	a,(ix+4)
2537  0B18  DD 86 06    	add	a,(ix+6)
2538  0B1B  47          	ld	b, a
2539  0B1C  CB 59       	bit	3, c
2540  0B1E  28 03       	jr	Z,l_spr_tile_dir_00104
2541  0B20  68          	ld	l, b
2542  0B21  18 1F       	jr	l_spr_tile_dir_00109
2543  0B23              l_spr_tile_dir_00104:
2544  0B23  3E 00       	ld	a, +((_state_a) & 0xFF)
2545  0B25  DD 86 05    	add	a,(ix+5)
2546  0B28  5F          	ld	e, a
2547  0B29  3E 00       	ld	a, +((_state_a) / 256)
2548  0B2B  CE 00       	adc	a,0x00
2549  0B2D  57          	ld	d, a
2550  0B2E  1A          	ld	a, (de)
2551  0B2F  CB 67       	bit	4, a
2552  0B31  28 05       	jr	Z,l_spr_tile_dir_00106
2553  0B33  DD 6E 04    	ld	l,(ix+4)
2554  0B36  18 0A       	jr	l_spr_tile_dir_00109
2555  0B38              l_spr_tile_dir_00106:
2556  0B38  CB 5F       	bit	3, a
2557  0B3A  28 03       	jr	Z,l_spr_tile_dir_00108
2558  0B3C  68          	ld	l, b
2559  0B3D  18 03       	jr	l_spr_tile_dir_00109
2560  0B3F              l_spr_tile_dir_00108:
2561  0B3F  DD 6E 04    	ld	l,(ix+4)
2562  0B42              l_spr_tile_dir_00109:
2563  0B42  DD E1       	pop	ix
2564  0B44  C9          	ret
2565  0B45              	SECTION code_compiler
2566  0B45              ;	---------------------------------
2567  0B45              ; Function spr_brick_anim
2568  0B45              ; ---------------------------------
2569  0B45              _spr_brick_anim:
2570  0B45  CD 00 00    	call	___sdcc_enter_ix
2571  0B48  F5          	push	af
2572  0B49  3B          	dec	sp
2573  0B4A  4D          	ld	c, l
2574  0B4B  21 00 00    	ld	hl,_player_hit_col
2575  0B4E  56          	ld	d, (hl)
2576  0B4F  21 00 00    	ld	hl,_player_hit_lin
2577  0B52  5E          	ld	e, (hl)
2578  0B53  C5          	push	bc
2579  0B54  D5          	push	de
2580  0B55  D5          	push	de
2581  0B56  CD 00 00    	call	_spr_calc_index
2582  0B59  F1          	pop	af
2583  0B5A  DD 74 FF    	ld	(ix-1),h
2584  0B5D  DD 75 FE    	ld	(ix-2),l
2585  0B60  D1          	pop	de
2586  0B61  C1          	pop	bc
2587  0B62  DD 6E FE    	ld	l,(ix-2)
2588  0B65  DD 66 FF    	ld	h,(ix-1)
2589  0B68  22 00 00    	ld	(_index1),hl
2590  0B6B  21 00 00    	ld	hl,_index1
2591  0B6E  7E          	ld	a, (hl)
2592  0B6F  C6 F0       	add	a,0xf0
2593  0B71  DD 77 FE    	ld	(ix-2),a
2594  0B74  23          	inc	hl
2595  0B75  7E          	ld	a, (hl)
2596  0B76  CE FF       	adc	a,0xff
2597  0B78  DD 77 FF    	ld	(ix-1),a
2598  0B7B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2599  0B7D  DD 86 FE    	add	a,(ix-2)
2600  0B80  6F          	ld	l, a
2601  0B81  3E 00       	ld	a, +((_scr_map) / 256)
2602  0B83  DD 8E FF    	adc	a,(ix-1)
2603  0B86  67          	ld	h, a
2604  0B87  7E          	ld	a, (hl)
2605  0B88  DD 77 FD    	ld	(ix-3),a
2606  0B8B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2607  0B8D  21 00 00    	ld	hl,_index1
2608  0B90  86          	add	a, (hl)
2609  0B91  DD 77 FE    	ld	(ix-2),a
2610  0B94  3E 00       	ld	a, +((_scr_map) / 256)
2611  0B96  23          	inc	hl
2612  0B97  8E          	adc	a, (hl)
2613  0B98  DD 6E FE    	ld	l,(ix-2)
2614  0B9B  DD 77 FF    	ld	(ix-1),a
2615  0B9E  67          	ld	h,a
2616  0B9F  46          	ld	b, (hl)
2617  0BA0  79          	ld	a, c
2618  0BA1  B7          	or	a, a
2619  0BA2  28 08       	jr	Z,l_spr_brick_anim_00102
2620  0BA4  7B          	ld	a, e
2621  0BA5  C6 F6       	add	a,0xf6
2622  0BA7  32 00 00    	ld	(_tmp),a
2623  0BAA  18 06       	jr	l_spr_brick_anim_00103
2624  0BAC              l_spr_brick_anim_00102:
2625  0BAC  7B          	ld	a, e
2626  0BAD  C6 F8       	add	a,0xf8
2627  0BAF  32 00 00    	ld	(_tmp),a
2628  0BB2              l_spr_brick_anim_00103:
2629  0BB2  F3          	di
2630  0BB3  79          	ld	a, c
2631  0BB4  B7          	or	a, a
2632  0BB5  28 1A       	jr	Z,l_spr_brick_anim_00105
2633  0BB7  3A 00 00    	ld	a,(_map_paper_clr)
2634  0BBA  C5          	push	bc
2635  0BBB  D5          	push	de
2636  0BBC  D5          	push	de
2637  0BBD  F5          	push	af
2638  0BBE  33          	inc	sp
2639  0BBF  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2640  0BC2  D1          	pop	de
2641  0BC3  C1          	pop	bc
2642  0BC4  D5          	push	de
2643  0BC5  33          	inc	sp
2644  0BC6  3A 00 00    	ld	a,(_tmp)
2645  0BC9  48          	ld	c,b
2646  0BCA  47          	ld	b,a
2647  0BCB  C5          	push	bc
2648  0BCC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2649  0BCF  18 1E       	jr	l_spr_brick_anim_00106
2650  0BD1              l_spr_brick_anim_00105:
2651  0BD1  3A 00 00    	ld	a,(_tmp)
2652  0BD4  C6 F0       	add	a,0xf0
2653  0BD6  C5          	push	bc
2654  0BD7  D5          	push	de
2655  0BD8  5F          	ld	e,a
2656  0BD9  D5          	push	de
2657  0BDA  DD 7E FD    	ld	a,(ix-3)
2658  0BDD  F5          	push	af
2659  0BDE  33          	inc	sp
2660  0BDF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2661  0BE2  D1          	pop	de
2662  0BE3  C1          	pop	bc
2663  0BE4  D5          	push	de
2664  0BE5  33          	inc	sp
2665  0BE6  3A 00 00    	ld	a,(_tmp)
2666  0BE9  48          	ld	c,b
2667  0BEA  47          	ld	b,a
2668  0BEB  C5          	push	bc
2669  0BEC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2670  0BEF              l_spr_brick_anim_00106:
2671  0BEF  FB          	ei
2672  0BF0  DD F9       	ld	sp, ix
2673  0BF2  DD E1       	pop	ix
2674  0BF4  C9          	ret
2675  0BF5              	SECTION code_compiler
2676  0BF5              ;	---------------------------------
2677  0BF5              ; Function spr_draw_index
2678  0BF5              ; ---------------------------------
2679  0BF5              _spr_draw_index:
2680  0BF5  CD 00 00    	call	___sdcc_enter_ix
2681  0BF8  DD 4E 04    	ld	c,(ix+4)
2682  0BFB  79          	ld	a, c
2683  0BFC  E6 0F       	and	a,0x0f
2684  0BFE  87          	add	a, a
2685  0BFF  32 00 00    	ld	(_s_col1),a
2686  0C02  21 00 00    	ld	hl,_s_lin1
2687  0C05  71          	ld	(hl),c
2688  0C06  79          	ld	a,c
2689  0C07  07          	rlca
2690  0C08  07          	rlca
2691  0C09  07          	rlca
2692  0C0A  07          	rlca
2693  0C0B  E6 0F       	and	a,0x0f
2694  0C0D  07          	rlca
2695  0C0E  07          	rlca
2696  0C0F  07          	rlca
2697  0C10  07          	rlca
2698  0C11  E6 F0       	and	a,0xf0
2699  0C13  77          	ld	(hl), a
2700  0C14  F3          	di
2701  0C15  3E 00       	ld	a, +((_scr_map) & 0xFF)
2702  0C17  DD 86 04    	add	a,(ix+4)
2703  0C1A  4F          	ld	c, a
2704  0C1B  3E 00       	ld	a, +((_scr_map) / 256)
2705  0C1D  DD 8E 05    	adc	a,(ix+5)
2706  0C20  47          	ld	b, a
2707  0C21  0A          	ld	a, (bc)
2708  0C22  47          	ld	b, a
2709  0C23  3A 00 00    	ld	a,(_s_col1)
2710  0C26  F5          	push	af
2711  0C27  33          	inc	sp
2712  0C28  3A 00 00    	ld	a,(_s_lin1)
2713  0C2B  48          	ld	c,b
2714  0C2C  47          	ld	b,a
2715  0C2D  C5          	push	bc
2716  0C2E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2717  0C31  FB          	ei
2718  0C32  DD E1       	pop	ix
2719  0C34  C9          	ret
2720  0C35              	SECTION code_compiler
2721  0C35              ;	---------------------------------
2722  0C35              ; Function spr_draw_row
2723  0C35              ; ---------------------------------
2724  0C35              _spr_draw_row:
2725  0C35  CD 00 00    	call	___sdcc_enter_ix
2726  0C38  3B          	dec	sp
2727  0C39  F3          	di
2728  0C3A  21 00 00    	ld	hl,_tmp
2729  0C3D  36 00       	ld	(hl),0x00
2730  0C3F  DD 7E 04    	ld	a,(ix+4)
2731  0C42  07          	rlca
2732  0C43  07          	rlca
2733  0C44  07          	rlca
2734  0C45  E6 F8       	and	a,0xf8
2735  0C47  DD 77 FF    	ld	(ix-1),a
2736  0C4A              l_spr_draw_row_00101:
2737  0C4A  21 00 00    	ld	hl,_tmp
2738  0C4D  7E          	ld	a, (hl)
2739  0C4E  D6 20       	sub	a,0x20
2740  0C50  30 38       	jr	NC,l_spr_draw_row_00103
2741  0C52  DD 4E 04    	ld	c,(ix+4)
2742  0C55  3E 00       	ld	a,0x00
2743  0C57  CB 21       	sla	c
2744  0C59  17          	rla
2745  0C5A  CB 21       	sla	c
2746  0C5C  17          	rla
2747  0C5D  CB 21       	sla	c
2748  0C5F  17          	rla
2749  0C60  CB 21       	sla	c
2750  0C62  17          	rla
2751  0C63  CB 21       	sla	c
2752  0C65  17          	rla
2753  0C66  47          	ld	b,a
2754  0C67  5E          	ld	e, (hl)
2755  0C68  16 00       	ld	d,0x00
2756  0C6A  79          	ld	a, c
2757  0C6B  83          	add	a, e
2758  0C6C  21 00 00    	ld	hl,_index1
2759  0C6F  77          	ld	(hl), a
2760  0C70  78          	ld	a, b
2761  0C71  8A          	adc	a, d
2762  0C72  23          	inc	hl
2763  0C73  77          	ld	(hl), a
2764  0C74  2A FF FF    	ld	hl,(_tmp-1)
2765  0C77  DD 6E FF    	ld	l,(ix-1)
2766  0C7A  3A 00 00    	ld	a,(_game_brick_tile)
2767  0C7D  E5          	push	hl
2768  0C7E  F5          	push	af
2769  0C7F  33          	inc	sp
2770  0C80  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2771  0C83  21 00 00    	ld	hl,_tmp
2772  0C86  34          	inc	(hl)
2773  0C87  34          	inc	(hl)
2774  0C88  18 C0       	jr	l_spr_draw_row_00101
2775  0C8A              l_spr_draw_row_00103:
2776  0C8A  FB          	ei
2777  0C8B  33          	inc	sp
2778  0C8C  DD E1       	pop	ix
2779  0C8E  C9          	ret
2780  0C8F              	SECTION code_compiler
2781  0C8F              ;	---------------------------------
2782  0C8F              ; Function spr_calc_hor
2783  0C8F              ; ---------------------------------
2784  0C8F              _spr_calc_hor:
2785  0C8F  CD 00 00    	call	___sdcc_enter_ix
2786  0C92  3E 00       	ld	a, +((_col) & 0xFF)
2787  0C94  DD 86 04    	add	a,(ix+4)
2788  0C97  4F          	ld	c, a
2789  0C98  3E 00       	ld	a, +((_col) / 256)
2790  0C9A  CE 00       	adc	a,0x00
2791  0C9C  47          	ld	b, a
2792  0C9D  0A          	ld	a, (bc)
2793  0C9E  5F          	ld	e, a
2794  0C9F  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2795  0CA1  DD 86 04    	add	a,(ix+4)
2796  0CA4  4F          	ld	c, a
2797  0CA5  3E 00       	ld	a, +((_sprite_frames) / 256)
2798  0CA7  CE 00       	adc	a,0x00
2799  0CA9  47          	ld	b, a
2800  0CAA  0A          	ld	a, (bc)
2801  0CAB  67          	ld	h, a
2802  0CAC  2E 00       	ld	l,0x00
2803  0CAE  55          	ld	d, l
2804  0CAF  06 08       	ld	b,0x08
2805  0CB1              l_spr_calc_hor_00103:
2806  0CB1  29          	add	hl, hl
2807  0CB2  30 01       	jr	NC,l_spr_calc_hor_00104
2808  0CB4  19          	add	hl, de
2809  0CB5              l_spr_calc_hor_00104:
2810  0CB5  10 FA       	djnz	l_spr_calc_hor_00103
2811  0CB7  DD E1       	pop	ix
2812  0CB9  C9          	ret
2813  0CBA              	SECTION code_compiler
2814  0CBA              ;	---------------------------------
2815  0CBA              ; Function spr_back_repaint
2816  0CBA              ; ---------------------------------
2817  0CBA              _spr_back_repaint:
2818  0CBA  CD 00 00    	call	___sdcc_enter_ix
2819  0CBD  3B          	dec	sp
2820  0CBE  3A 00 00    	ld	a,(_spr_hack)
2821  0CC1  B7          	or	a, a
2822  0CC2  20 02       	jr	NZ,l_spr_back_repaint_00102
2823  0CC4  76          	halt
2824  0CC5  F3          	di
2825  0CC6              l_spr_back_repaint_00102:
2826  0CC6  2A FF FF    	ld	hl,(_s_col0 - 1)
2827  0CC9  3A 00 00    	ld	a,(_s_lin0)
2828  0CCC  6F          	ld	l,a
2829  0CCD  E5          	push	hl
2830  0CCE  CD 00 00    	call	_spr_calc_index
2831  0CD1  F1          	pop	af
2832  0CD2  7D          	ld	a,l
2833  0CD3  32 00 00    	ld	(_sprite_curr_index),a
2834  0CD6  21 00 00    	ld	hl,_s_lin0
2835  0CD9  7E          	ld	a, (hl)
2836  0CDA  E6 0F       	and	a,0x0f
2837  0CDC  4F          	ld	c, a
2838  0CDD  7E          	ld	a, (hl)
2839  0CDE  07          	rlca
2840  0CDF  07          	rlca
2841  0CE0  07          	rlca
2842  0CE1  07          	rlca
2843  0CE2  E6 0F       	and	a,0x0f
2844  0CE4  5F          	ld	e, a
2845  0CE5  21 00 00    	ld	hl,_s_col0
2846  0CE8  CB 46       	bit	0, (hl)
2847  0CEA  20 68       	jr	NZ,l_spr_back_repaint_00110
2848  0CEC  79          	ld	a, c
2849  0CED  B7          	or	a, a
2850  0CEE  20 1D       	jr	NZ,l_spr_back_repaint_00104
2851  0CF0  2A 00 00    	ld	hl,(_sprite_curr_index)
2852  0CF3  26 00       	ld	h,0x00
2853  0CF5  01 00 00    	ld	bc,_scr_map
2854  0CF8  09          	add	hl,bc
2855  0CF9  46          	ld	b,(hl)
2856  0CFA  3A 00 00    	ld	a,(_s_col0)
2857  0CFD  F5          	push	af
2858  0CFE  33          	inc	sp
2859  0CFF  3A 00 00    	ld	a,(_s_lin0)
2860  0D02  48          	ld	c,b
2861  0D03  47          	ld	b,a
2862  0D04  C5          	push	bc
2863  0D05  CD 31 0E    	call	_spr_tile_paint
2864  0D08  F1          	pop	af
2865  0D09  33          	inc	sp
2866  0D0A  C3 26 0E    	jp	l_spr_back_repaint_00111
2867  0D0D              l_spr_back_repaint_00104:
2868  0D0D  7B          	ld	a, e
2869  0D0E  07          	rlca
2870  0D0F  07          	rlca
2871  0D10  07          	rlca
2872  0D11  07          	rlca
2873  0D12  E6 F0       	and	a,0xf0
2874  0D14  4F          	ld	c, a
2875  0D15  2A 00 00    	ld	hl,(_sprite_curr_index)
2876  0D18  26 00       	ld	h,0x00
2877  0D1A  11 00 00    	ld	de,_scr_map
2878  0D1D  19          	add	hl,de
2879  0D1E  46          	ld	b, (hl)
2880  0D1F  3A 00 00    	ld	a,(_s_col0)
2881  0D22  C5          	push	bc
2882  0D23  F5          	push	af
2883  0D24  33          	inc	sp
2884  0D25  79          	ld	a, c
2885  0D26  48          	ld	c,b
2886  0D27  47          	ld	b,a
2887  0D28  C5          	push	bc
2888  0D29  CD 31 0E    	call	_spr_tile_paint
2889  0D2C  F1          	pop	af
2890  0D2D  33          	inc	sp
2891  0D2E  C1          	pop	bc
2892  0D2F  79          	ld	a, c
2893  0D30  C6 10       	add	a,0x10
2894  0D32  57          	ld	d, a
2895  0D33  21 00 00    	ld	hl,_sprite_curr_index
2896  0D36  7E          	ld	a, (hl)
2897  0D37  C6 10       	add	a,0x10
2898  0D39  77          	ld	(hl), a
2899  0D3A  C6 00       	add	a,+((_scr_map) & 0xFF)
2900  0D3C  4F          	ld	c, a
2901  0D3D  3E 00       	ld	a, +((_scr_map) / 256)
2902  0D3F  CE 00       	adc	a,0x00
2903  0D41  47          	ld	b, a
2904  0D42  0A          	ld	a, (bc)
2905  0D43  47          	ld	b, a
2906  0D44  3A 00 00    	ld	a,(_s_col0)
2907  0D47  5A          	ld	e,d
2908  0D48  57          	ld	d,a
2909  0D49  D5          	push	de
2910  0D4A  C5          	push	bc
2911  0D4B  33          	inc	sp
2912  0D4C  CD 31 0E    	call	_spr_tile_paint
2913  0D4F  F1          	pop	af
2914  0D50  33          	inc	sp
2915  0D51  C3 26 0E    	jp	l_spr_back_repaint_00111
2916  0D54              l_spr_back_repaint_00110:
2917  0D54  3A 00 00    	ld	a,(_s_col0)
2918  0D57  C6 FF       	add	a,0xff
2919  0D59  DD 77 FF    	ld	(ix-1),a
2920  0D5C  79          	ld	a, c
2921  0D5D  B7          	or	a, a
2922  0D5E  20 3E       	jr	NZ,l_spr_back_repaint_00107
2923  0D60  2A 00 00    	ld	hl,(_sprite_curr_index)
2924  0D63  26 00       	ld	h,0x00
2925  0D65  01 00 00    	ld	bc,_scr_map
2926  0D68  09          	add	hl,bc
2927  0D69  46          	ld	b,(hl)
2928  0D6A  DD 7E FF    	ld	a,(ix-1)
2929  0D6D  F5          	push	af
2930  0D6E  33          	inc	sp
2931  0D6F  3A 00 00    	ld	a,(_s_lin0)
2932  0D72  48          	ld	c,b
2933  0D73  47          	ld	b,a
2934  0D74  C5          	push	bc
2935  0D75  CD 31 0E    	call	_spr_tile_paint
2936  0D78  F1          	pop	af
2937  0D79  33          	inc	sp
2938  0D7A  21 00 00    	ld	hl,_sprite_curr_index
2939  0D7D  34          	inc	(hl)
2940  0D7E  21 00 00    	ld	hl,_s_col0
2941  0D81  4E          	ld	c, (hl)
2942  0D82  0C          	inc	c
2943  0D83  2A 00 00    	ld	hl,(_sprite_curr_index)
2944  0D86  26 00       	ld	h,0x00
2945  0D88  11 00 00    	ld	de,_scr_map
2946  0D8B  19          	add	hl,de
2947  0D8C  46          	ld	b, (hl)
2948  0D8D  79          	ld	a, c
2949  0D8E  F5          	push	af
2950  0D8F  33          	inc	sp
2951  0D90  3A 00 00    	ld	a,(_s_lin0)
2952  0D93  48          	ld	c,b
2953  0D94  47          	ld	b,a
2954  0D95  C5          	push	bc
2955  0D96  CD 31 0E    	call	_spr_tile_paint
2956  0D99  F1          	pop	af
2957  0D9A  33          	inc	sp
2958  0D9B  C3 26 0E    	jp	l_spr_back_repaint_00111
2959  0D9E              l_spr_back_repaint_00107:
2960  0D9E  7B          	ld	a, e
2961  0D9F  07          	rlca
2962  0DA0  07          	rlca
2963  0DA1  07          	rlca
2964  0DA2  07          	rlca
2965  0DA3  E6 F0       	and	a,0xf0
2966  0DA5  47          	ld	b, a
2967  0DA6  2A 00 00    	ld	hl,(_sprite_curr_index)
2968  0DA9  26 00       	ld	h,0x00
2969  0DAB  11 00 00    	ld	de,_scr_map
2970  0DAE  19          	add	hl,de
2971  0DAF  56          	ld	d, (hl)
2972  0DB0  C5          	push	bc
2973  0DB1  DD 7E FF    	ld	a,(ix-1)
2974  0DB4  F5          	push	af
2975  0DB5  33          	inc	sp
2976  0DB6  4A          	ld	c, d
2977  0DB7  C5          	push	bc
2978  0DB8  CD 31 0E    	call	_spr_tile_paint
2979  0DBB  F1          	pop	af
2980  0DBC  33          	inc	sp
2981  0DBD  C1          	pop	bc
2982  0DBE  21 00 00    	ld	hl,_sprite_curr_index
2983  0DC1  34          	inc	(hl)
2984  0DC2  21 00 00    	ld	hl,_s_col0
2985  0DC5  4E          	ld	c, (hl)
2986  0DC6  0C          	inc	c
2987  0DC7  2A 00 00    	ld	hl,(_sprite_curr_index)
2988  0DCA  26 00       	ld	h,0x00
2989  0DCC  11 00 00    	ld	de,_scr_map
2990  0DCF  19          	add	hl,de
2991  0DD0  5E          	ld	e, (hl)
2992  0DD1  C5          	push	bc
2993  0DD2  79          	ld	a, c
2994  0DD3  48          	ld	c,b
2995  0DD4  47          	ld	b,a
2996  0DD5  C5          	push	bc
2997  0DD6  7B          	ld	a, e
2998  0DD7  F5          	push	af
2999  0DD8  33          	inc	sp
3000  0DD9  CD 31 0E    	call	_spr_tile_paint
3001  0DDC  F1          	pop	af
3002  0DDD  33          	inc	sp
3003  0DDE  C1          	pop	bc
3004  0DDF  78          	ld	a, b
3005  0DE0  C6 10       	add	a,0x10
3006  0DE2  DD 77 FF    	ld	(ix-1),a
3007  0DE5  21 00 00    	ld	hl,_sprite_curr_index
3008  0DE8  7E          	ld	a, (hl)
3009  0DE9  C6 0F       	add	a,0x0f
3010  0DEB  77          	ld	(hl), a
3011  0DEC  21 00 00    	ld	hl,_s_col0
3012  0DEF  4E          	ld	c, (hl)
3013  0DF0  0D          	dec	c
3014  0DF1  2A 00 00    	ld	hl,(_sprite_curr_index)
3015  0DF4  26 00       	ld	h,0x00
3016  0DF6  11 00 00    	ld	de,_scr_map
3017  0DF9  19          	add	hl,de
3018  0DFA  5E          	ld	e, (hl)
3019  0DFB  79          	ld	a, c
3020  0DFC  F5          	push	af
3021  0DFD  33          	inc	sp
3022  0DFE  DD 56 FF    	ld	d,(ix-1)
3023  0E01  D5          	push	de
3024  0E02  CD 31 0E    	call	_spr_tile_paint
3025  0E05  F1          	pop	af
3026  0E06  33          	inc	sp
3027  0E07  21 00 00    	ld	hl,_sprite_curr_index
3028  0E0A  34          	inc	(hl)
3029  0E0B  21 00 00    	ld	hl,_s_col0
3030  0E0E  4E          	ld	c, (hl)
3031  0E0F  0C          	inc	c
3032  0E10  2A 00 00    	ld	hl,(_sprite_curr_index)
3033  0E13  26 00       	ld	h,0x00
3034  0E15  11 00 00    	ld	de,_scr_map
3035  0E18  19          	add	hl,de
3036  0E19  5E          	ld	e, (hl)
3037  0E1A  79          	ld	a, c
3038  0E1B  F5          	push	af
3039  0E1C  33          	inc	sp
3040  0E1D  DD 56 FF    	ld	d,(ix-1)
3041  0E20  D5          	push	de
3042  0E21  CD 31 0E    	call	_spr_tile_paint
3043  0E24  F1          	pop	af
3044  0E25  33          	inc	sp
3045  0E26              l_spr_back_repaint_00111:
3046  0E26  3A 00 00    	ld	a,(_spr_hack)
3047  0E29  B7          	or	a, a
3048  0E2A  20 01       	jr	NZ,l_spr_back_repaint_00114
3049  0E2C  FB          	ei
3050  0E2D              l_spr_back_repaint_00114:
3051  0E2D  33          	inc	sp
3052  0E2E  DD E1       	pop	ix
3053  0E30  C9          	ret
3054  0E31              	SECTION code_compiler
3055  0E31              ;	---------------------------------
3056  0E31              ; Function spr_tile_paint
3057  0E31              ; ---------------------------------
3058  0E31              _spr_tile_paint:
3059  0E31  CD 00 00    	call	___sdcc_enter_ix
3060  0E34  DD 7E 04    	ld	a,(ix+4)
3061  0E37  B7          	or	a, a
3062  0E38  28 05       	jr	Z,l_spr_tile_paint_00101
3063  0E3A  3C          	inc	a
3064  0E3B  28 22       	jr	Z,l_spr_tile_paint_00105
3065  0E3D  18 11       	jr	l_spr_tile_paint_00103
3066  0E3F              l_spr_tile_paint_00101:
3067  0E3F  DD 66 06    	ld	h,(ix+6)
3068  0E42  DD 6E 05    	ld	l,(ix+5)
3069  0E45  3A 00 00    	ld	a,(_map_paper_clr)
3070  0E48  E5          	push	hl
3071  0E49  F5          	push	af
3072  0E4A  33          	inc	sp
3073  0E4B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3074  0E4E  18 0F       	jr	l_spr_tile_paint_00105
3075  0E50              l_spr_tile_paint_00103:
3076  0E50  DD 66 06    	ld	h,(ix+6)
3077  0E53  DD 6E 05    	ld	l,(ix+5)
3078  0E56  E5          	push	hl
3079  0E57  DD 7E 04    	ld	a,(ix+4)
3080  0E5A  F5          	push	af
3081  0E5B  33          	inc	sp
3082  0E5C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3083  0E5F              l_spr_tile_paint_00105:
3084  0E5F  DD E1       	pop	ix
3085  0E61  C9          	ret
3086  0E62              	SECTION code_compiler
3087  0E62              ;	---------------------------------
3088  0E62              ; Function spr_init_anim_bullets
3089  0E62              ; ---------------------------------
3090  0E62              _spr_init_anim_bullets:
3091  0E62  01 00 00    	ld	bc,_anim_lin+0
3092  0E65  1E 00       	ld	e,0x00
3093  0E67              l_spr_init_anim_bullets_00102:
3094  0E67  6B          	ld	l,e
3095  0E68  26 00       	ld	h,0x00
3096  0E6A  09          	add	hl, bc
3097  0E6B  36 FF       	ld	(hl),0xff
3098  0E6D  16 00       	ld	d,0x00
3099  0E6F  21 00 00    	ld	hl,_bullet_col
3100  0E72  19          	add	hl, de
3101  0E73  36 FF       	ld	(hl),0xff
3102  0E75  1C          	inc	e
3103  0E76  7B          	ld	a, e
3104  0E77  D6 08       	sub	a,0x08
3105  0E79  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3106  0E7B  21 00 00    	ld	hl,_bullet_count
3107  0E7E  36 00       	ld	(hl),0x00
3108  0E80  21 00 00    	ld	hl,_anim_count
3109  0E83  36 00       	ld	(hl),0x00
3110  0E85  C9          	ret
3111  0E86              	SECTION code_compiler
3112  0E86              ;	---------------------------------
3113  0E86              ; Function spr_add_anim
3114  0E86              ; ---------------------------------
3115  0E86              _spr_add_anim:
3116  0E86  CD 00 00    	call	___sdcc_enter_ix
3117  0E89  F5          	push	af
3118  0E8A  F5          	push	af
3119  0E8B  3B          	dec	sp
3120  0E8C  DD 7E 05    	ld	a,(ix+5)
3121  0E8F  D6 1F       	sub	a,0x1f
3122  0E91  D2 52 0F    	jp	NC, l_spr_add_anim_00111
3123  0E94  DD 7E 04    	ld	a,(ix+4)
3124  0E97  D6 B8       	sub	a,0xb8
3125  0E99  D2 52 0F    	jp	NC, l_spr_add_anim_00111
3126  0E9C  0E 00       	ld	c,0x00
3127  0E9E  DD 71 FB    	ld	(ix-5),c
3128  0EA1              l_spr_add_anim_00109:
3129  0EA1  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3130  0EA3  81          	add	a, c
3131  0EA4  5F          	ld	e, a
3132  0EA5  3E 00       	ld	a, +((_anim_lin) / 256)
3133  0EA7  CE 00       	adc	a,0x00
3134  0EA9  57          	ld	d, a
3135  0EAA  1A          	ld	a, (de)
3136  0EAB  3C          	inc	a
3137  0EAC  C2 48 0F    	jp	NZ,l_spr_add_anim_00110
3138  0EAF  21 00 00    	ld	hl,_anim_count
3139  0EB2  34          	inc	(hl)
3140  0EB3  DD 7E 04    	ld	a,(ix+4)
3141  0EB6  12          	ld	(de), a
3142  0EB7  01 00 00    	ld	bc,_anim_col
3143  0EBA  DD 6E FB    	ld	l,(ix-5)
3144  0EBD  26 00       	ld	h,0x00
3145  0EBF  09          	add	hl,bc
3146  0EC0  DD 75 FE    	ld	(ix-2),l
3147  0EC3  DD 74 FF    	ld	(ix-1),h
3148  0EC6  DD 7E 05    	ld	a,(ix+5)
3149  0EC9  77          	ld	(hl), a
3150  0ECA  01 00 00    	ld	bc,_anim_tile
3151  0ECD  DD 6E FB    	ld	l,(ix-5)
3152  0ED0  26 00       	ld	h,0x00
3153  0ED2  09          	add	hl,bc
3154  0ED3  DD 75 FC    	ld	(ix-4),l
3155  0ED6  DD 74 FD    	ld	(ix-3),h
3156  0ED9  DD 7E 06    	ld	a,(ix+6)
3157  0EDC  77          	ld	(hl), a
3158  0EDD  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3159  0EDF  DD 86 FB    	add	a,(ix-5)
3160  0EE2  4F          	ld	c, a
3161  0EE3  3E 00       	ld	a, +((_anim_loop) / 256)
3162  0EE5  CE 00       	adc	a,0x00
3163  0EE7  47          	ld	b, a
3164  0EE8  DD 7E 08    	ld	a,(ix+8)
3165  0EEB  02          	ld	(bc), a
3166  0EEC  01 00 00    	ld	bc,_anim_int+0
3167  0EEF  DD 6E FB    	ld	l,(ix-5)
3168  0EF2  26 00       	ld	h,0x00
3169  0EF4  09          	add	hl, bc
3170  0EF5  36 00       	ld	(hl),0x00
3171  0EF7  3E 00       	ld	a, +((_anim_end) & 0xFF)
3172  0EF9  DD 86 FB    	add	a,(ix-5)
3173  0EFC  4F          	ld	c, a
3174  0EFD  3E 00       	ld	a, +((_anim_end) / 256)
3175  0EFF  CE 00       	adc	a,0x00
3176  0F01  47          	ld	b, a
3177  0F02  DD 7E 07    	ld	a,(ix+7)
3178  0F05  02          	ld	(bc), a
3179  0F06  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3180  0F08  DD 86 FB    	add	a,(ix-5)
3181  0F0B  4F          	ld	c, a
3182  0F0C  3E 00       	ld	a, +((_anim_respanwn) / 256)
3183  0F0E  CE 00       	adc	a,0x00
3184  0F10  47          	ld	b, a
3185  0F11  DD 7E 09    	ld	a,(ix+9)
3186  0F14  02          	ld	(bc), a
3187  0F15  F3          	di
3188  0F16  DD 6E FE    	ld	l,(ix-2)
3189  0F19  DD 66 FF    	ld	h,(ix-1)
3190  0F1C  46          	ld	b, (hl)
3191  0F1D  1A          	ld	a, (de)
3192  0F1E  DD 6E FC    	ld	l,(ix-4)
3193  0F21  DD 66 FD    	ld	h,(ix-3)
3194  0F24  56          	ld	d, (hl)
3195  0F25  C5          	push	bc
3196  0F26  33          	inc	sp
3197  0F27  5A          	ld	e,d
3198  0F28  57          	ld	d,a
3199  0F29  D5          	push	de
3200  0F2A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3201  0F2D  FB          	ei
3202  0F2E  DD 66 05    	ld	h,(ix+5)
3203  0F31  DD 6E 04    	ld	l,(ix+4)
3204  0F34  E5          	push	hl
3205  0F35  CD 00 00    	call	_spr_calc_index
3206  0F38  F1          	pop	af
3207  0F39  22 00 00    	ld	(_index0),hl
3208  0F3C  01 00 00    	ld	bc,_scr_map
3209  0F3F  09          	add	hl,bc
3210  0F40  7E          	ld	a,(hl)
3211  0F41  B7          	or	a,a
3212  0F42  20 0E       	jr	NZ,l_spr_add_anim_00111
3213  0F44  36 FF       	ld	(hl),0xff
3214  0F46  18 0A       	jr	l_spr_add_anim_00111
3215  0F48              l_spr_add_anim_00110:
3216  0F48  0C          	inc	c
3217  0F49  DD 71 FB    	ld	(ix-5),c
3218  0F4C  79          	ld	a, c
3219  0F4D  D6 08       	sub	a,0x08
3220  0F4F  DA A1 0E    	jp	C, l_spr_add_anim_00109
3221  0F52              l_spr_add_anim_00111:
3222  0F52  DD F9       	ld	sp, ix
3223  0F54  DD E1       	pop	ix
3224  0F56  C9          	ret
3225  0F57              	SECTION code_compiler
3226  0F57              ;	---------------------------------
3227  0F57              ; Function spr_play_anim
3228  0F57              ; ---------------------------------
3229  0F57              _spr_play_anim:
3230  0F57  CD 00 00    	call	___sdcc_enter_ix
3231  0F5A  F5          	push	af
3232  0F5B  F5          	push	af
3233  0F5C  F5          	push	af
3234  0F5D  F5          	push	af
3235  0F5E  DD 36 F8 00 	ld	(ix-8),0x00
3236  0F62              l_spr_play_anim_00114:
3237  0F62  01 00 00    	ld	bc,_anim_lin
3238  0F65  DD 6E F8    	ld	l,(ix-8)
3239  0F68  26 00       	ld	h,0x00
3240  0F6A  09          	add	hl,bc
3241  0F6B  DD 75 F9    	ld	(ix-7),l
3242  0F6E  DD 74 FA    	ld	(ix-6),h
3243  0F71  4E          	ld	c, (hl)
3244  0F72  0C          	inc	c
3245  0F73  CA 84 10    	jp	Z,l_spr_play_anim_00115
3246  0F76  21 01 00    	ld	hl,0x0001
3247  0F79  CD 00 00    	call	_z80_delay_ms_fastcall
3248  0F7C  01 00 00    	ld	bc,_anim_int
3249  0F7F  DD 6E F8    	ld	l,(ix-8)
3250  0F82  26 00       	ld	h,0x00
3251  0F84  09          	add	hl,bc
3252  0F85  DD 75 FE    	ld	(ix-2),l
3253  0F88  DD 74 FF    	ld	(ix-1),h
3254  0F8B  4E          	ld	c, (hl)
3255  0F8C  3E 00       	ld	a, +((_anim_end) & 0xFF)
3256  0F8E  DD 86 F8    	add	a,(ix-8)
3257  0F91  6F          	ld	l, a
3258  0F92  3E 00       	ld	a, +((_anim_end) / 256)
3259  0F94  CE 00       	adc	a,0x00
3260  0F96  67          	ld	h, a
3261  0F97  46          	ld	b, (hl)
3262  0F98  79          	ld	a, c
3263  0F99  90          	sub	a, b
3264  0F9A  30 40       	jr	NC,l_spr_play_anim_00109
3265  0F9C  F3          	di
3266  0F9D  3E 00       	ld	a, +((_anim_col) & 0xFF)
3267  0F9F  DD 86 F8    	add	a,(ix-8)
3268  0FA2  6F          	ld	l, a
3269  0FA3  3E 00       	ld	a, +((_anim_col) / 256)
3270  0FA5  CE 00       	adc	a,0x00
3271  0FA7  67          	ld	h, a
3272  0FA8  56          	ld	d, (hl)
3273  0FA9  DD 6E F9    	ld	l,(ix-7)
3274  0FAC  DD 66 FA    	ld	h,(ix-6)
3275  0FAF  4E          	ld	c, (hl)
3276  0FB0  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3277  0FB2  DD 86 F8    	add	a,(ix-8)
3278  0FB5  6F          	ld	l, a
3279  0FB6  3E 00       	ld	a, +((_anim_tile) / 256)
3280  0FB8  CE 00       	adc	a,0x00
3281  0FBA  67          	ld	h, a
3282  0FBB  5E          	ld	e, (hl)
3283  0FBC  DD 6E FE    	ld	l,(ix-2)
3284  0FBF  DD 66 FF    	ld	h,(ix-1)
3285  0FC2  6E          	ld	l, (hl)
3286  0FC3  7B          	ld	a, e
3287  0FC4  85          	add	a, l
3288  0FC5  47          	ld	b, a
3289  0FC6  D5          	push	de
3290  0FC7  33          	inc	sp
3291  0FC8  79          	ld	a, c
3292  0FC9  48          	ld	c,b
3293  0FCA  47          	ld	b,a
3294  0FCB  C5          	push	bc
3295  0FCC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3296  0FCF  FB          	ei
3297  0FD0  DD 6E FE    	ld	l,(ix-2)
3298  0FD3  DD 66 FF    	ld	h,(ix-1)
3299  0FD6  4E          	ld	c,(hl)
3300  0FD7  0C          	inc	c
3301  0FD8  71          	ld	(hl), c
3302  0FD9  C3 84 10    	jp	l_spr_play_anim_00115
3303  0FDC              l_spr_play_anim_00109:
3304  0FDC  01 00 00    	ld	bc,_anim_loop
3305  0FDF  DD 6E F8    	ld	l,(ix-8)
3306  0FE2  26 00       	ld	h,0x00
3307  0FE4  09          	add	hl,bc
3308  0FE5  DD 75 FC    	ld	(ix-4),l
3309  0FE8  DD 74 FD    	ld	(ix-3),h
3310  0FEB  7E          	ld	a, (hl)
3311  0FEC  DD 77 FB    	ld	(ix-5),a
3312  0FEF  B7          	or	a, a
3313  0FF0  C2 71 10    	jp	NZ, l_spr_play_anim_00106
3314  0FF3  21 00 00    	ld	hl,_anim_count
3315  0FF6  35          	dec	(hl)
3316  0FF7  3E 00       	ld	a, +((_anim_col) & 0xFF)
3317  0FF9  DD 86 F8    	add	a,(ix-8)
3318  0FFC  6F          	ld	l, a
3319  0FFD  3E 00       	ld	a, +((_anim_col) / 256)
3320  0FFF  CE 00       	adc	a,0x00
3321  1001  67          	ld	h, a
3322  1002  7E          	ld	a, (hl)
3323  1003  32 00 00    	ld	(_s_col0),a
3324  1006  DD 6E F9    	ld	l,(ix-7)
3325  1009  DD 66 FA    	ld	h,(ix-6)
3326  100C  7E          	ld	a, (hl)
3327  100D  32 00 00    	ld	(_s_lin0),a
3328  1010  2A FF FF    	ld	hl,(_s_col0 - 1)
3329  1013  6F          	ld	l,a
3330  1014  E5          	push	hl
3331  1015  CD 00 00    	call	_spr_calc_index
3332  1018  F1          	pop	af
3333  1019  2A FF FF    	ld	hl,(_s_col0 - 1)
3334  101C  3A 00 00    	ld	a,(_s_lin0)
3335  101F  6F          	ld	l,a
3336  1020  E5          	push	hl
3337  1021  CD 00 00    	call	_spr_calc_index
3338  1024  F1          	pop	af
3339  1025  01 00 00    	ld	bc,_scr_map
3340  1028  09          	add	hl,bc
3341  1029  4E          	ld	c, (hl)
3342  102A  0C          	inc	c
3343  102B  20 1F       	jr	NZ,l_spr_play_anim_00102
3344  102D  2A FF FF    	ld	hl,(_s_col0 - 1)
3345  1030  3A 00 00    	ld	a,(_s_lin0)
3346  1033  6F          	ld	l,a
3347  1034  E5          	push	hl
3348  1035  CD 00 00    	call	_spr_calc_index
3349  1038  F1          	pop	af
3350  1039  22 00 00    	ld	(_index0),hl
3351  103C  01 00 00    	ld	bc,_scr_map
3352  103F  09          	add	hl,bc
3353  1040  E5          	push	hl
3354  1041  2A 00 00    	ld	hl,(_index0)
3355  1044  E5          	push	hl
3356  1045  CD 00 00    	call	_game_match_back
3357  1048  F1          	pop	af
3358  1049  C1          	pop	bc
3359  104A  7D          	ld	a,l
3360  104B  02          	ld	(bc), a
3361  104C              l_spr_play_anim_00102:
3362  104C  CD BA 0C    	call	_spr_back_repaint
3363  104F  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3364  1051  DD 86 F8    	add	a,(ix-8)
3365  1054  4F          	ld	c, a
3366  1055  3E 00       	ld	a, +((_anim_respanwn) / 256)
3367  1057  CE 00       	adc	a,0x00
3368  1059  47          	ld	b, a
3369  105A  0A          	ld	a, (bc)
3370  105B  B7          	or	a, a
3371  105C  28 09       	jr	Z,l_spr_play_anim_00104
3372  105E  DD 7E F8    	ld	a,(ix-8)
3373  1061  F5          	push	af
3374  1062  33          	inc	sp
3375  1063  CD 00 00    	call	_enemy_respawn
3376  1066  33          	inc	sp
3377  1067              l_spr_play_anim_00104:
3378  1067  DD 6E F9    	ld	l,(ix-7)
3379  106A  DD 66 FA    	ld	h,(ix-6)
3380  106D  36 FF       	ld	(hl),0xff
3381  106F  18 13       	jr	l_spr_play_anim_00115
3382  1071              l_spr_play_anim_00106:
3383  1071  DD 4E FB    	ld	c,(ix-5)
3384  1074  0D          	dec	c
3385  1075  DD 6E FC    	ld	l,(ix-4)
3386  1078  DD 66 FD    	ld	h,(ix-3)
3387  107B  71          	ld	(hl), c
3388  107C  DD 6E FE    	ld	l,(ix-2)
3389  107F  DD 66 FF    	ld	h,(ix-1)
3390  1082  36 00       	ld	(hl),0x00
3391  1084              l_spr_play_anim_00115:
3392  1084  DD 34 F8    	inc	(ix-8)
3393  1087  DD 7E F8    	ld	a,(ix-8)
3394  108A  D6 08       	sub	a,0x08
3395  108C  DA 62 0F    	jp	C, l_spr_play_anim_00114
3396  108F  DD F9       	ld	sp, ix
3397  1091  DD E1       	pop	ix
3398  1093  C9          	ret
3399  1094              	SECTION code_compiler
3400  1094              ;	---------------------------------
3401  1094              ; Function spr_play_bullets
3402  1094              ; ---------------------------------
3403  1094              _spr_play_bullets:
3404  1094  CD 00 00    	call	___sdcc_enter_ix
3405  1097  21 F2 FF    	ld	hl, -14
3406  109A  39          	add	hl, sp
3407  109B  F9          	ld	sp, hl
3408  109C  3E 00       	ld	a,0x00
3409  109E  DD 77 F6    	ld	(ix-10),a
3410  10A1  DD 77 F4    	ld	(ix-12),a
3411  10A4              l_spr_play_bullets_00198:
3412  10A4  01 00 00    	ld	bc,_bullet_col
3413  10A7  DD 6E F4    	ld	l,(ix-12)
3414  10AA  26 00       	ld	h,0x00
3415  10AC  09          	add	hl,bc
3416  10AD  DD 75 FE    	ld	(ix-2),l
3417  10B0  DD 74 FF    	ld	(ix-1),h
3418  10B3  7E          	ld	a, (hl)
3419  10B4  DD 77 FD    	ld	(ix-3),a
3420  10B7  3C          	inc	a
3421  10B8  CA 3D 16    	jp	Z,l_spr_play_bullets_00192
3422  10BB  01 00 00    	ld	bc,_bullet_lin
3423  10BE  DD 6E F4    	ld	l,(ix-12)
3424  10C1  26 00       	ld	h,0x00
3425  10C3  09          	add	hl,bc
3426  10C4  DD 75 FB    	ld	(ix-5),l
3427  10C7  DD 74 FC    	ld	(ix-4),h
3428  10CA  7E          	ld	a, (hl)
3429  10CB  32 00 00    	ld	(_s_lin0),a
3430  10CE  DD 7E FD    	ld	a,(ix-3)
3431  10D1  32 00 00    	ld	(_s_col0),a
3432  10D4  DD 77 F3    	ld	(ix-13),a
3433  10D7  CD BA 0C    	call	_spr_back_repaint
3434  10DA  01 00 00    	ld	bc,_bullet_class
3435  10DD  DD 6E F4    	ld	l,(ix-12)
3436  10E0  26 00       	ld	h,0x00
3437  10E2  09          	add	hl,bc
3438  10E3  DD 75 F9    	ld	(ix-7),l
3439  10E6  DD 74 FA    	ld	(ix-6),h
3440  10E9  7E          	ld	a, (hl)
3441  10EA  D6 02       	sub	a,0x02
3442  10EC  20 46       	jr	NZ,l_spr_play_bullets_00107
3443  10EE  3A 00 00    	ld	a,(_s_lin0)
3444  10F1  4F          	ld	c,a
3445  10F2  06 00       	ld	b,0x00
3446  10F4  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3447  10F6  DD 86 F4    	add	a,(ix-12)
3448  10F9  6F          	ld	l, a
3449  10FA  3E 00       	ld	a, +((_bullet_lin0) / 256)
3450  10FC  CE 00       	adc	a,0x00
3451  10FE  67          	ld	h, a
3452  10FF  5E          	ld	e, (hl)
3453  1100  16 00       	ld	d,0x00
3454  1102  79          	ld	a, c
3455  1103  93          	sub	a, e
3456  1104  4F          	ld	c, a
3457  1105  78          	ld	a, b
3458  1106  9A          	sbc	a, d
3459  1107  47          	ld	b, a
3460  1108  3E 08       	ld	a,0x08
3461  110A  B9          	cp	a, c
3462  110B  3E 00       	ld	a,0x00
3463  110D  98          	sbc	a, b
3464  110E  E2 13 11    	jp	PO, l_spr_play_bullets_00412
3465  1111  EE 80       	xor	a,0x80
3466  1113              l_spr_play_bullets_00412:
3467  1113  FA 2C 11    	jp	M, l_spr_play_bullets_00104
3468  1116  DD 6E FB    	ld	l,(ix-5)
3469  1119  DD 66 FC    	ld	h,(ix-4)
3470  111C  4E          	ld	c, (hl)
3471  111D  0C          	inc	c
3472  111E  0C          	inc	c
3473  111F  DD 6E FB    	ld	l,(ix-5)
3474  1122  DD 66 FC    	ld	h,(ix-4)
3475  1125  71          	ld	(hl), c
3476  1126  21 00 00    	ld	hl,_s_lin0
3477  1129  71          	ld	(hl), c
3478  112A  18 08       	jr	l_spr_play_bullets_00107
3479  112C              l_spr_play_bullets_00104:
3480  112C  DD 6E F9    	ld	l,(ix-7)
3481  112F  DD 66 FA    	ld	h,(ix-6)
3482  1132  36 03       	ld	(hl),0x03
3483  1134              l_spr_play_bullets_00107:
3484  1134  DD 6E F9    	ld	l,(ix-7)
3485  1137  DD 66 FA    	ld	h,(ix-6)
3486  113A  7E          	ld	a, (hl)
3487  113B  D6 03       	sub	a,0x03
3488  113D  20 46       	jr	NZ,l_spr_play_bullets_00112
3489  113F  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3490  1141  DD 86 F4    	add	a,(ix-12)
3491  1144  6F          	ld	l, a
3492  1145  3E 00       	ld	a, +((_bullet_lin0) / 256)
3493  1147  CE 00       	adc	a,0x00
3494  1149  67          	ld	h, a
3495  114A  4E          	ld	c, (hl)
3496  114B  06 00       	ld	b,0x00
3497  114D  3A 00 00    	ld	a,(_s_lin0)
3498  1150  5F          	ld	e,a
3499  1151  16 00       	ld	d,0x00
3500  1153  79          	ld	a, c
3501  1154  93          	sub	a, e
3502  1155  4F          	ld	c, a
3503  1156  78          	ld	a, b
3504  1157  9A          	sbc	a, d
3505  1158  47          	ld	b, a
3506  1159  3E 08       	ld	a,0x08
3507  115B  B9          	cp	a, c
3508  115C  3E 00       	ld	a,0x00
3509  115E  98          	sbc	a, b
3510  115F  E2 64 11    	jp	PO, l_spr_play_bullets_00415
3511  1162  EE 80       	xor	a,0x80
3512  1164              l_spr_play_bullets_00415:
3513  1164  FA 7D 11    	jp	M, l_spr_play_bullets_00109
3514  1167  DD 6E FB    	ld	l,(ix-5)
3515  116A  DD 66 FC    	ld	h,(ix-4)
3516  116D  4E          	ld	c, (hl)
3517  116E  0D          	dec	c
3518  116F  0D          	dec	c
3519  1170  DD 6E FB    	ld	l,(ix-5)
3520  1173  DD 66 FC    	ld	h,(ix-4)
3521  1176  71          	ld	(hl), c
3522  1177  21 00 00    	ld	hl,_s_lin0
3523  117A  71          	ld	(hl), c
3524  117B  18 08       	jr	l_spr_play_bullets_00112
3525  117D              l_spr_play_bullets_00109:
3526  117D  DD 6E F9    	ld	l,(ix-7)
3527  1180  DD 66 FA    	ld	h,(ix-6)
3528  1183  36 02       	ld	(hl),0x02
3529  1185              l_spr_play_bullets_00112:
3530  1185  DD 6E F9    	ld	l,(ix-7)
3531  1188  DD 66 FA    	ld	h,(ix-6)
3532  118B  7E          	ld	a, (hl)
3533  118C  D6 04       	sub	a,0x04
3534  118E  C2 14 12    	jp	NZ,l_spr_play_bullets_00125
3535  1191  DD 6E FB    	ld	l,(ix-5)
3536  1194  DD 66 FC    	ld	h,(ix-4)
3537  1197  7E          	ld	a, (hl)
3538  1198  32 00 00    	ld	(_s_lin0),a
3539  119B  DD 6E FE    	ld	l,(ix-2)
3540  119E  DD 66 FF    	ld	h,(ix-1)
3541  11A1  7E          	ld	a, (hl)
3542  11A2  C6 FF       	add	a,0xff
3543  11A4  32 00 00    	ld	(_s_col0),a
3544  11A7  D6 20       	sub	a,0x20
3545  11A9  30 03       	jr	NC,l_spr_play_bullets_00114
3546  11AB  CD BA 0C    	call	_spr_back_repaint
3547  11AE              l_spr_play_bullets_00114:
3548  11AE  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3549  11B0  DD 86 F4    	add	a,(ix-12)
3550  11B3  4F          	ld	c, a
3551  11B4  3E 00       	ld	a, +((_bullet_vel) / 256)
3552  11B6  CE 00       	adc	a,0x00
3553  11B8  47          	ld	b, a
3554  11B9  0A          	ld	a, (bc)
3555  11BA  5F          	ld	e, a
3556  11BB  21 00 00    	ld	hl,_game_gravity
3557  11BE  56          	ld	d, (hl)
3558  11BF  7B          	ld	a, e
3559  11C0  82          	add	a, d
3560  11C1  5F          	ld	e,a
3561  11C2  02          	ld	(bc), a
3562  11C3  3E 78       	ld	a,0x78
3563  11C5  93          	sub	a, e
3564  11C6  E2 CB 11    	jp	PO, l_spr_play_bullets_00418
3565  11C9  EE 80       	xor	a,0x80
3566  11CB              l_spr_play_bullets_00418:
3567  11CB  F2 D1 11    	jp	P, l_spr_play_bullets_00116
3568  11CE  3E 78       	ld	a,0x78
3569  11D0  02          	ld	(bc), a
3570  11D1              l_spr_play_bullets_00116:
3571  11D1  0A          	ld	a, (bc)
3572  11D2  EE 80       	xor	a,0x80
3573  11D4  D6 08       	sub	a,0x08
3574  11D6  30 03       	jr	NC,l_spr_play_bullets_00118
3575  11D8  3E 88       	ld	a,0x88
3576  11DA  02          	ld	(bc), a
3577  11DB              l_spr_play_bullets_00118:
3578  11DB  0A          	ld	a, (bc)
3579  11DC  CB 47       	bit	0,a
3580  11DE  32 00 00    	ld	(_s_lin1),a
3581  11E1  28 04       	jr	Z,l_spr_play_bullets_00120
3582  11E3  21 00 00    	ld	hl,_s_lin1
3583  11E6  35          	dec	(hl)
3584  11E7              l_spr_play_bullets_00120:
3585  11E7  DD 6E FB    	ld	l,(ix-5)
3586  11EA  DD 66 FC    	ld	h,(ix-4)
3587  11ED  7E          	ld	a, (hl)
3588  11EE  21 00 00    	ld	hl,_s_lin1
3589  11F1  86          	add	a, (hl)
3590  11F2  21 00 00    	ld	hl,_s_lin0
3591  11F5  77          	ld	(hl), a
3592  11F6  3E 90       	ld	a,0x90
3593  11F8  96          	sub	a, (hl)
3594  11F9  30 0F       	jr	NC,l_spr_play_bullets_00122
3595  11FB  21 00 00    	ld	hl,_bullet_count
3596  11FE  35          	dec	(hl)
3597  11FF  DD 6E FE    	ld	l,(ix-2)
3598  1202  DD 66 FF    	ld	h,(ix-1)
3599  1205  36 FF       	ld	(hl),0xff
3600  1207  C3 3D 16    	jp	l_spr_play_bullets_00192
3601  120A              l_spr_play_bullets_00122:
3602  120A  DD 6E FB    	ld	l,(ix-5)
3603  120D  DD 66 FC    	ld	h,(ix-4)
3604  1210  3A 00 00    	ld	a,(_s_lin0)
3605  1213  77          	ld	(hl),a
3606  1214              l_spr_play_bullets_00125:
3607  1214  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3608  1216  DD 86 F4    	add	a,(ix-12)
3609  1219  6F          	ld	l, a
3610  121A  3E 00       	ld	a, +((_bullet_dir) / 256)
3611  121C  CE 00       	adc	a,0x00
3612  121E  67          	ld	h, a
3613  121F  4E          	ld	c, (hl)
3614  1220  0C          	inc	c
3615  1221  20 3D       	jr	NZ,l_spr_play_bullets_00135
3616  1223  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3617  1225  DD 86 F4    	add	a,(ix-12)
3618  1228  4F          	ld	c, a
3619  1229  3E 00       	ld	a, +((_bullet_colint) / 256)
3620  122B  CE 00       	adc	a,0x00
3621  122D  47          	ld	b, a
3622  122E  0A          	ld	a, (bc)
3623  122F  3C          	inc	a
3624  1230  5F          	ld	e,a
3625  1231  02          	ld	(bc), a
3626  1232  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3627  1234  DD 86 F4    	add	a,(ix-12)
3628  1237  6F          	ld	l, a
3629  1238  3E 00       	ld	a, +((_bullet_frames) / 256)
3630  123A  CE 00       	adc	a,0x00
3631  123C  67          	ld	h, a
3632  123D  56          	ld	d, (hl)
3633  123E  7B          	ld	a, e
3634  123F  92          	sub	a, d
3635  1240  38 63       	jr	C,l_spr_play_bullets_00136
3636  1242  DD 6E FE    	ld	l,(ix-2)
3637  1245  DD 66 FF    	ld	h,(ix-1)
3638  1248  7E          	ld	a, (hl)
3639  1249  3C          	inc	a
3640  124A  DD 77 F3    	ld	(ix-13),a
3641  124D  AF          	xor	a, a
3642  124E  02          	ld	(bc), a
3643  124F  DD 7E F3    	ld	a,(ix-13)
3644  1252  E6 01       	and	a,0x01
3645  1254  3D          	dec	a
3646  1255  20 4E       	jr	NZ,l_spr_play_bullets_00136
3647  1257  DD 7E F3    	ld	a,(ix-13)
3648  125A  3C          	inc	a
3649  125B  32 00 00    	ld	(_s_col0),a
3650  125E  18 45       	jr	l_spr_play_bullets_00136
3651  1260              l_spr_play_bullets_00135:
3652  1260  01 00 00    	ld	bc,_bullet_colint
3653  1263  DD 6E F4    	ld	l,(ix-12)
3654  1266  26 00       	ld	h,0x00
3655  1268  09          	add	hl,bc
3656  1269  DD 75 F7    	ld	(ix-9),l
3657  126C  DD 74 F8    	ld	(ix-8),h
3658  126F  4E          	ld	c,(hl)
3659  1270  0D          	dec	c
3660  1271  71          	ld	(hl), c
3661  1272  0C          	inc	c
3662  1273  20 30       	jr	NZ,l_spr_play_bullets_00136
3663  1275  DD 6E FE    	ld	l,(ix-2)
3664  1278  DD 66 FF    	ld	h,(ix-1)
3665  127B  7E          	ld	a, (hl)
3666  127C  C6 FF       	add	a,0xff
3667  127E  DD 77 F3    	ld	(ix-13),a
3668  1281  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3669  1283  DD 86 F4    	add	a,(ix-12)
3670  1286  6F          	ld	l, a
3671  1287  3E 00       	ld	a, +((_bullet_frames) / 256)
3672  1289  CE 00       	adc	a,0x00
3673  128B  67          	ld	h, a
3674  128C  4E          	ld	c, (hl)
3675  128D  0D          	dec	c
3676  128E  DD 6E F7    	ld	l,(ix-9)
3677  1291  DD 66 F8    	ld	h,(ix-8)
3678  1294  71          	ld	(hl), c
3679  1295  DD 7E F3    	ld	a,(ix-13)
3680  1298  E6 01       	and	a,0x01
3681  129A  3D          	dec	a
3682  129B  20 08       	jr	NZ,l_spr_play_bullets_00136
3683  129D  DD 7E F3    	ld	a,(ix-13)
3684  12A0  C6 FF       	add	a,0xff
3685  12A2  32 00 00    	ld	(_s_col0),a
3686  12A5              l_spr_play_bullets_00136:
3687  12A5  21 00 00    	ld	hl,_tmp1
3688  12A8  36 00       	ld	(hl),0x00
3689  12AA  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3690  12AC  DD 86 F4    	add	a,(ix-12)
3691  12AF  4F          	ld	c, a
3692  12B0  3E 00       	ld	a, +((_bullet_max) / 256)
3693  12B2  CE 00       	adc	a,0x00
3694  12B4  47          	ld	b, a
3695  12B5  0A          	ld	a, (bc)
3696  12B6  B7          	or	a, a
3697  12B7  28 27       	jr	Z,l_spr_play_bullets_00140
3698  12B9  DD 5E F3    	ld	e,(ix-13)
3699  12BC  16 00       	ld	d,0x00
3700  12BE  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3701  12C0  DD 86 F4    	add	a,(ix-12)
3702  12C3  6F          	ld	l, a
3703  12C4  3E 00       	ld	a, +((_bullet_col0) / 256)
3704  12C6  CE 00       	adc	a,0x00
3705  12C8  67          	ld	h, a
3706  12C9  6E          	ld	l, (hl)
3707  12CA  AF          	xor	a,a
3708  12CB  67          	ld	h,a
3709  12CC  EB          	ex	de,hl
3710  12CD  ED 52       	sbc	hl,de
3711  12CF  CD 00 00    	call	_abs_fastcall
3712  12D2  5D          	ld	e, l
3713  12D3  21 00 00    	ld	hl,_tmp0
3714  12D6  73          	ld	(hl), e
3715  12D7  0A          	ld	a, (bc)
3716  12D8  96          	sub	a, (hl)
3717  12D9  30 05       	jr	NC,l_spr_play_bullets_00140
3718  12DB  21 00 00    	ld	hl,_tmp1
3719  12DE  36 01       	ld	(hl),0x01
3720  12E0              l_spr_play_bullets_00140:
3721  12E0  DD 7E F3    	ld	a,(ix-13)
3722  12E3  D6 1E       	sub	a,0x1e
3723  12E5  38 05       	jr	C,l_spr_play_bullets_00142
3724  12E7  21 00 00    	ld	hl,_tmp1
3725  12EA  36 01       	ld	(hl),0x01
3726  12EC              l_spr_play_bullets_00142:
3727  12EC  3A 00 00    	ld	a,(_tmp1)
3728  12EF  B7          	or	a, a
3729  12F0  28 0F       	jr	Z,l_spr_play_bullets_00144
3730  12F2  21 00 00    	ld	hl,_bullet_count
3731  12F5  35          	dec	(hl)
3732  12F6  DD 6E FE    	ld	l,(ix-2)
3733  12F9  DD 66 FF    	ld	h,(ix-1)
3734  12FC  36 FF       	ld	(hl),0xff
3735  12FE  C3 3D 16    	jp	l_spr_play_bullets_00192
3736  1301              l_spr_play_bullets_00144:
3737  1301  DD 7E FE    	ld	a,(ix-2)
3738  1304  DD 77 F7    	ld	(ix-9),a
3739  1307  DD 7E FF    	ld	a,(ix-1)
3740  130A  DD 77 F8    	ld	(ix-8),a
3741  130D  DD 6E FE    	ld	l,(ix-2)
3742  1310  DD 66 FF    	ld	h,(ix-1)
3743  1313  DD 7E F3    	ld	a,(ix-13)
3744  1316  96          	sub	a,(hl)
3745  1317  CA 01 16    	jp	Z,l_spr_play_bullets_00187
3746  131A  3A 00 00    	ld	a,(_s_lin0)
3747  131D  C6 08       	add	a,0x08
3748  131F  4F          	ld	c, a
3749  1320  3A 00 00    	ld	a, (_s_col0)
3750  1323  47          	ld	b,a
3751  1324  C5          	push	bc
3752  1325  CD 00 00    	call	_spr_calc_index
3753  1328  F1          	pop	af
3754  1329  22 00 00    	ld	(_index0),hl
3755  132C  01 00 00    	ld	bc,_scr_map
3756  132F  09          	add	hl,bc
3757  1330  4D          	ld	c,l
3758  1331  44          	ld	b,h
3759  1332  6E          	ld	l, (hl)
3760  1333  DD 7E F4    	ld	a,(ix-12)
3761  1336  D6 07       	sub	a,0x07
3762  1338  20 04       	jr	NZ,l_spr_play_bullets_00429
3763  133A  3E 01       	ld	a,0x01
3764  133C  18 01       	jr	l_spr_play_bullets_00430
3765  133E              l_spr_play_bullets_00429:
3766  133E  AF          	xor	a,a
3767  133F              l_spr_play_bullets_00430:
3768  133F  5F          	ld	e, a
3769  1340  7D          	ld	a, l
3770  1341  D6 4D       	sub	a,0x4d
3771  1343  20 47       	jr	NZ,l_spr_play_bullets_00146
3772  1345  B3          	or	a,e
3773  1346  28 44       	jr	Z,l_spr_play_bullets_00146
3774  1348  2A 00 00    	ld	hl,(_index0)
3775  134B  C5          	push	bc
3776  134C  E5          	push	hl
3777  134D  CD 00 00    	call	_game_match_back
3778  1350  F1          	pop	af
3779  1351  C1          	pop	bc
3780  1352  7D          	ld	a,l
3781  1353  02          	ld	(bc), a
3782  1354  2A 00 00    	ld	hl,(_index0)
3783  1357  E5          	push	hl
3784  1358  CD 00 00    	call	_game_obj_set
3785  135B  F1          	pop	af
3786  135C  2A 00 00    	ld	hl,(_index0)
3787  135F  4D          	ld	c,l
3788  1360  5C          	ld	e,h
3789  1361  06 04       	ld	b,0x04
3790  1363  79          	ld	a,c
3791  1364              l_spr_play_bullets_00433:
3792  1364  CB 3B       	srl	e
3793  1366  1F          	rra
3794  1367  10 FB       	djnz	l_spr_play_bullets_00433
3795  1369  07          	rlca
3796  136A  07          	rlca
3797  136B  07          	rlca
3798  136C  07          	rlca
3799  136D  E6 F0       	and	a,0xf0
3800  136F  DD 6E FB    	ld	l,(ix-5)
3801  1372  DD 66 FC    	ld	h,(ix-4)
3802  1375  77          	ld	(hl), a
3803  1376  3A 00 00    	ld	a,(_index0)
3804  1379  E6 0F       	and	a,0x0f
3805  137B  87          	add	a, a
3806  137C  DD 6E FE    	ld	l,(ix-2)
3807  137F  DD 66 FF    	ld	h,(ix-1)
3808  1382  77          	ld	(hl), a
3809  1383  DD 6E F4    	ld	l,(ix-12)
3810  1386  CD 50 16    	call	_spr_explode_bullet
3811  1389  C3 3D 16    	jp	l_spr_play_bullets_00192
3812  138C              l_spr_play_bullets_00146:
3813  138C  7D          	ld	a, l
3814  138D  D6 48       	sub	a,0x48
3815  138F  38 0C       	jr	C,l_spr_play_bullets_00149
3816  1391  2C          	inc	l
3817  1392  28 09       	jr	Z,l_spr_play_bullets_00149
3818  1394  DD 6E F4    	ld	l,(ix-12)
3819  1397  CD 50 16    	call	_spr_explode_bullet
3820  139A  C3 3D 16    	jp	l_spr_play_bullets_00192
3821  139D              l_spr_play_bullets_00149:
3822  139D  DD 6E FE    	ld	l,(ix-2)
3823  13A0  DD 66 FF    	ld	h,(ix-1)
3824  13A3  DD 7E F3    	ld	a,(ix-13)
3825  13A6  77          	ld	(hl), a
3826  13A7  DD 6E F9    	ld	l,(ix-7)
3827  13AA  DD 66 FA    	ld	h,(ix-6)
3828  13AD  7E          	ld	a, (hl)
3829  13AE  D6 04       	sub	a,0x04
3830  13B0  20 19       	jr	NZ,l_spr_play_bullets_00152
3831  13B2  21 00 00    	ld	hl,_s_lin0
3832  13B5  7E          	ld	a, (hl)
3833  13B6  C6 F0       	add	a,0xf0
3834  13B8  4F          	ld	c, a
3835  13B9  7E          	ld	a, (hl)
3836  13BA  C6 10       	add	a,0x10
3837  13BC  DD 77 F5    	ld	(ix-11),a
3838  13BF  DD 35 F3    	dec	(ix-13)
3839  13C2  DD 7E F3    	ld	a,(ix-13)
3840  13C5  3C          	inc	a
3841  13C6  DD 77 F2    	ld	(ix-14),a
3842  13C9  18 14       	jr	l_spr_play_bullets_00153
3843  13CB              l_spr_play_bullets_00152:
3844  13CB  21 00 00    	ld	hl,_s_lin0
3845  13CE  7E          	ld	a, (hl)
3846  13CF  C6 F8       	add	a,0xf8
3847  13D1  4F          	ld	c, a
3848  13D2  7E          	ld	a, (hl)
3849  13D3  C6 08       	add	a,0x08
3850  13D5  DD 77 F5    	ld	(ix-11),a
3851  13D8  DD 7E F3    	ld	a,(ix-13)
3852  13DB  3C          	inc	a
3853  13DC  DD 77 F2    	ld	(ix-14),a
3854  13DF              l_spr_play_bullets_00153:
3855  13DF  7B          	ld	a, e
3856  13E0  B7          	or	a, a
3857  13E1  CA C9 15    	jp	Z, l_spr_play_bullets_00184
3858  13E4  21 00 00    	ld	hl,_tmp0
3859  13E7  36 00       	ld	(hl),0x00
3860  13E9              l_spr_play_bullets_00194:
3861  13E9  2A 00 00    	ld	hl,(_tmp0)
3862  13EC  26 00       	ld	h,0x00
3863  13EE  11 00 00    	ld	de,_class
3864  13F1  19          	add	hl,de
3865  13F2  7E          	ld	a,(hl)
3866  13F3  B7          	or	a,a
3867  13F4  CA 94 14    	jp	Z,l_spr_play_bullets_00195
3868  13F7  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3869  13FA  3C          	inc	a
3870  13FB  CA 94 14    	jp	Z,l_spr_play_bullets_00195
3871  13FE  2A 00 00    	ld	hl,(_tmp0)
3872  1401  26 00       	ld	h,0x00
3873  1403  11 00 00    	ld	de,_lin
3874  1406  19          	add	hl,de
3875  1407  7E          	ld	a,(hl)
3876  1408  47          	ld	b,a
3877  1409  91          	sub	a,c
3878  140A  DA 94 14    	jp	C,l_spr_play_bullets_00195
3879  140D  21 00 00    	ld	hl,_tmp0
3880  1410  DD 7E F5    	ld	a,(ix-11)
3881  1413  90          	sub	a, b
3882  1414  DA 94 14    	jp	C, l_spr_play_bullets_00195
3883  1417  5E          	ld	e,(hl)
3884  1418  16 00       	ld	d,0x00
3885  141A  21 00 00    	ld	hl,_col
3886  141D  19          	add	hl,de
3887  141E  7E          	ld	a,(hl)
3888  141F  5F          	ld	e,a
3889  1420  DD 96 F3    	sub	a,(ix-13)
3890  1423  38 6F       	jr	C,l_spr_play_bullets_00195
3891  1425  DD 7E F2    	ld	a,(ix-14)
3892  1428  93          	sub	a, e
3893  1429  38 69       	jr	C,l_spr_play_bullets_00195
3894  142B  21 00 00    	ld	hl,_s_lin0
3895  142E  70          	ld	(hl), b
3896  142F  21 00 00    	ld	hl,_s_col0
3897  1432  73          	ld	(hl), e
3898  1433  C5          	push	bc
3899  1434  CD 00 00    	call	_rand
3900  1437  11 06 00    	ld	de,0x0006
3901  143A  D5          	push	de
3902  143B  E5          	push	hl
3903  143C  CD 00 00    	call	__modsint_callee
3904  143F  CD 00 00    	call	_player_score_add
3905  1442  C1          	pop	bc
3906  1443  2A 00 00    	ld	hl,(_tmp0)
3907  1446  26 00       	ld	h,0x00
3908  1448  29          	add	hl,hl
3909  1449  11 00 00    	ld	de,_game_respawn_time
3910  144C  19          	add	hl, de
3911  144D  DD 75 F9    	ld	(ix-7),l
3912  1450  DD 74 FA    	ld	(ix-6),h
3913  1453  ED 5B 00 00 	ld	de,(_curr_time)
3914  1457  73          	ld	(hl), e
3915  1458  23          	inc	hl
3916  1459  72          	ld	(hl), d
3917  145A  2A 00 00    	ld	hl,(_tmp0)
3918  145D  C5          	push	bc
3919  145E  CD 26 09    	call	_spr_destroy
3920  1461  C1          	pop	bc
3921  1462  2A 00 00    	ld	hl,(_tmp0)
3922  1465  26 00       	ld	h,0x00
3923  1467  11 00 00    	ld	de,_bullet_col
3924  146A  19          	add	hl,de
3925  146B  7E          	ld	a,(hl)
3926  146C  47          	ld	b,a
3927  146D  3C          	inc	a
3928  146E  28 17       	jr	Z,l_spr_play_bullets_00155
3929  1470  3A 00 00    	ld	a,(_tmp0)
3930  1473  5F          	ld	e,a
3931  1474  16 00       	ld	d,0x00
3932  1476  21 00 00    	ld	hl,_bullet_lin
3933  1479  19          	add	hl,de
3934  147A  7E          	ld	a,(hl)
3935  147B  32 00 00    	ld	(_s_lin0),a
3936  147E  21 00 00    	ld	hl,_s_col0
3937  1481  70          	ld	(hl), b
3938  1482  C5          	push	bc
3939  1483  CD BA 0C    	call	_spr_back_repaint
3940  1486  C1          	pop	bc
3941  1487              l_spr_play_bullets_00155:
3942  1487  3A 00 00    	ld	a,(_s_col0)
3943  148A  32 07 00    	ld	((_bullet_col + 0x0007)),a
3944  148D  C5          	push	bc
3945  148E  2E 07       	ld	l,0x07
3946  1490  CD 50 16    	call	_spr_explode_bullet
3947  1493  C1          	pop	bc
3948  1494              l_spr_play_bullets_00195:
3949  1494  21 00 00    	ld	hl,_tmp0
3950  1497  7E          	ld	a,(hl)
3951  1498  3C          	inc	a
3952  1499  77          	ld	(hl),a
3953  149A  D6 07       	sub	a,0x07
3954  149C  DA E9 13    	jp	C, l_spr_play_bullets_00194
3955  149F  3A 00 00    	ld	a,(_game_boss)
3956  14A2  B7          	or	a, a
3957  14A3  CA 01 16    	jp	Z, l_spr_play_bullets_00187
3958  14A6  21 00 00    	ld	hl,_boss_lin
3959  14A9  7E          	ld	a, (hl)
3960  14AA  91          	sub	a, c
3961  14AB  38 06       	jr	C,l_spr_play_bullets_00173
3962  14AD  DD 7E F5    	ld	a,(ix-11)
3963  14B0  96          	sub	a, (hl)
3964  14B1  30 28       	jr	NC,l_spr_play_bullets_00174
3965  14B3              l_spr_play_bullets_00173:
3966  14B3  3A 00 00    	ld	a,(_boss_lin)
3967  14B6  5F          	ld	e,a
3968  14B7  16 00       	ld	d,0x00
3969  14B9  21 10 00    	ld	hl,0x0010
3970  14BC  19          	add	hl, de
3971  14BD  06 00       	ld	b,0x00
3972  14BF  7D          	ld	a, l
3973  14C0  91          	sub	a, c
3974  14C1  7C          	ld	a, h
3975  14C2  98          	sbc	a, b
3976  14C3  E2 C8 14    	jp	PO, l_spr_play_bullets_00441
3977  14C6  EE 80       	xor	a,0x80
3978  14C8              l_spr_play_bullets_00441:
3979  14C8  FA 01 16    	jp	M, l_spr_play_bullets_00187
3980  14CB  DD 7E F5    	ld	a,(ix-11)
3981  14CE  06 00       	ld	b,0x00
3982  14D0  95          	sub	a, l
3983  14D1  78          	ld	a, b
3984  14D2  9C          	sbc	a, h
3985  14D3  E2 D8 14    	jp	PO, l_spr_play_bullets_00442
3986  14D6  EE 80       	xor	a,0x80
3987  14D8              l_spr_play_bullets_00442:
3988  14D8  FA 01 16    	jp	M, l_spr_play_bullets_00187
3989  14DB              l_spr_play_bullets_00174:
3990  14DB  21 00 00    	ld	hl,_boss_col
3991  14DE  7E          	ld	a, (hl)
3992  14DF  DD 96 F3    	sub	a,(ix-13)
3993  14E2  DA 01 16    	jp	C, l_spr_play_bullets_00187
3994  14E5  DD 7E F2    	ld	a,(ix-14)
3995  14E8  96          	sub	a, (hl)
3996  14E9  DA 01 16    	jp	C, l_spr_play_bullets_00187
3997  14EC  DD 6E F4    	ld	l,(ix-12)
3998  14EF  CD 50 16    	call	_spr_explode_bullet
3999  14F2  21 00 00    	ld	hl,_game_boss_hit
4000  14F5  35          	dec	(hl)
4001  14F6  CD 00 00    	call	_game_update_stats
4002  14F9  3A 00 00    	ld	a,(_game_boss_hit)
4003  14FC  B7          	or	a, a
4004  14FD  C2 01 16    	jp	NZ, l_spr_play_bullets_00187
4005  1500  21 00 00    	ld	hl,_game_boss
4006  1503  36 00       	ld	(hl),0x00
4007  1505  21 00 00    	ld	hl,_game_boss_alive
4008  1508  36 00       	ld	(hl),0x00
4009  150A  3A 00 00    	ld	a,(_boss_col)
4010  150D  21 00 00    	ld	hl,0x0000
4011  1510  E5          	push	hl
4012  1511  21 87 03    	ld	hl,0x0387
4013  1514  E5          	push	hl
4014  1515  F5          	push	af
4015  1516  33          	inc	sp
4016  1517  3A 00 00    	ld	a,(_boss_lin)
4017  151A  F5          	push	af
4018  151B  33          	inc	sp
4019  151C  CD 86 0E    	call	_spr_add_anim
4020  151F  F1          	pop	af
4021  1520  F1          	pop	af
4022  1521  F1          	pop	af
4023  1522  21 00 00    	ld	hl,_boss_col
4024  1525  46          	ld	b, (hl)
4025  1526  04          	inc	b
4026  1527  04          	inc	b
4027  1528  21 00 00    	ld	hl,0x0000
4028  152B  E5          	push	hl
4029  152C  21 87 03    	ld	hl,0x0387
4030  152F  E5          	push	hl
4031  1530  C5          	push	bc
4032  1531  33          	inc	sp
4033  1532  3A 00 00    	ld	a,(_boss_lin)
4034  1535  F5          	push	af
4035  1536  33          	inc	sp
4036  1537  CD 86 0E    	call	_spr_add_anim
4037  153A  F1          	pop	af
4038  153B  F1          	pop	af
4039  153C  F1          	pop	af
4040  153D  3A 00 00    	ld	a,(_boss_lin)
4041  1540  C6 10       	add	a,0x10
4042  1542  47          	ld	b, a
4043  1543  3A 00 00    	ld	a,(_boss_col)
4044  1546  21 00 00    	ld	hl,0x0000
4045  1549  E5          	push	hl
4046  154A  21 87 03    	ld	hl,0x0387
4047  154D  E5          	push	hl
4048  154E  48          	ld	c,b
4049  154F  47          	ld	b,a
4050  1550  C5          	push	bc
4051  1551  CD 86 0E    	call	_spr_add_anim
4052  1554  F1          	pop	af
4053  1555  F1          	pop	af
4054  1556  F1          	pop	af
4055  1557  21 00 00    	ld	hl,_boss_col
4056  155A  46          	ld	b, (hl)
4057  155B  04          	inc	b
4058  155C  04          	inc	b
4059  155D  3A 00 00    	ld	a,(_boss_lin)
4060  1560  C6 10       	add	a,0x10
4061  1562  57          	ld	d, a
4062  1563  21 00 00    	ld	hl,0x0000
4063  1566  E5          	push	hl
4064  1567  21 87 03    	ld	hl,0x0387
4065  156A  E5          	push	hl
4066  156B  4A          	ld	c, d
4067  156C  C5          	push	bc
4068  156D  CD 86 0E    	call	_spr_add_anim
4069  1570  F1          	pop	af
4070  1571  F1          	pop	af
4071  1572  F1          	pop	af
4072  1573  21 00 00    	ld	hl,_tmp0
4073  1576  36 00       	ld	(hl),0x00
4074  1578              l_spr_play_bullets_00196:
4075  1578  2A 00 00    	ld	hl,(_tmp0)
4076  157B  26 00       	ld	h,0x00
4077  157D  01 00 00    	ld	bc,_bullet_col
4078  1580  09          	add	hl,bc
4079  1581  7E          	ld	a,(hl)
4080  1582  4F          	ld	c,a
4081  1583  3C          	inc	a
4082  1584  28 15       	jr	Z,l_spr_play_bullets_00165
4083  1586  3A 00 00    	ld	a,(_tmp0)
4084  1589  5F          	ld	e,a
4085  158A  16 00       	ld	d,0x00
4086  158C  21 00 00    	ld	hl,_bullet_lin
4087  158F  19          	add	hl,de
4088  1590  7E          	ld	a,(hl)
4089  1591  32 00 00    	ld	(_s_lin0),a
4090  1594  21 00 00    	ld	hl,_s_col0
4091  1597  71          	ld	(hl), c
4092  1598  CD BA 0C    	call	_spr_back_repaint
4093  159B              l_spr_play_bullets_00165:
4094  159B  2A 00 00    	ld	hl,(_tmp0)
4095  159E  26 00       	ld	h,0x00
4096  15A0  01 00 00    	ld	bc,_bullet_col
4097  15A3  09          	add	hl,bc
4098  15A4  36 FF       	ld	(hl),0xff
4099  15A6  2A 00 00    	ld	hl,(_tmp0)
4100  15A9  CD 26 09    	call	_spr_destroy
4101  15AC  2A 00 00    	ld	hl,(_tmp0)
4102  15AF  26 00       	ld	h,0x00
4103  15B1  29          	add	hl, hl
4104  15B2  11 00 00    	ld	de,_game_respawn_time
4105  15B5  19          	add	hl, de
4106  15B6  AF          	xor	a, a
4107  15B7  77          	ld	(hl), a
4108  15B8  23          	inc	hl
4109  15B9  77          	ld	(hl), a
4110  15BA  21 00 00    	ld	hl,_tmp0
4111  15BD  7E          	ld	a,(hl)
4112  15BE  3C          	inc	a
4113  15BF  77          	ld	(hl),a
4114  15C0  D6 07       	sub	a,0x07
4115  15C2  38 B4       	jr	C,l_spr_play_bullets_00196
4116  15C4  CD 00 00    	call	_game_boss_clear
4117  15C7  18 38       	jr	l_spr_play_bullets_00187
4118  15C9              l_spr_play_bullets_00184:
4119  15C9  3A 07 00    	ld	a,(_lin + 7)
4120  15CC  47          	ld	b,a
4121  15CD  91          	sub	a, c
4122  15CE  38 31       	jr	C,l_spr_play_bullets_00187
4123  15D0  DD 7E F5    	ld	a,(ix-11)
4124  15D3  90          	sub	a, b
4125  15D4  38 2B       	jr	C,l_spr_play_bullets_00187
4126  15D6  3A 07 00    	ld	a,(_col + 7)
4127  15D9  4F          	ld	c,a
4128  15DA  DD 96 F3    	sub	a,(ix-13)
4129  15DD  38 22       	jr	C,l_spr_play_bullets_00187
4130  15DF  DD 7E F2    	ld	a,(ix-14)
4131  15E2  91          	sub	a, c
4132  15E3  38 1C       	jr	C,l_spr_play_bullets_00187
4133  15E5  2E 03       	ld	l,0x03
4134  15E7  CD 00 00    	call	_zx_border_fastcall
4135  15EA  2E 0A       	ld	l,0x0a
4136  15EC  CD 00 00    	call	_player_hit
4137  15EF  DD 6E FE    	ld	l,(ix-2)
4138  15F2  DD 66 FF    	ld	h,(ix-1)
4139  15F5  3A 00 00    	ld	a,(_s_col0)
4140  15F8  77          	ld	(hl),a
4141  15F9  DD 6E F6    	ld	l,(ix-10)
4142  15FC  CD 50 16    	call	_spr_explode_bullet
4143  15FF  18 4A       	jr	l_spr_play_bullets_00199
4144  1601              l_spr_play_bullets_00187:
4145  1601  DD 6E F7    	ld	l,(ix-9)
4146  1604  DD 66 F8    	ld	h,(ix-8)
4147  1607  4E          	ld	c, (hl)
4148  1608  0C          	inc	c
4149  1609  28 32       	jr	Z,l_spr_play_bullets_00192
4150  160B  DD 7E F3    	ld	a,(ix-13)
4151  160E  D6 20       	sub	a,0x20
4152  1610  30 2B       	jr	NC,l_spr_play_bullets_00192
4153  1612  F3          	di
4154  1613  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4155  1615  DD 86 F4    	add	a,(ix-12)
4156  1618  6F          	ld	l, a
4157  1619  3E 00       	ld	a, +((_bullet_tile) / 256)
4158  161B  CE 00       	adc	a,0x00
4159  161D  67          	ld	h, a
4160  161E  4E          	ld	c, (hl)
4161  161F  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4162  1621  DD 86 F4    	add	a,(ix-12)
4163  1624  6F          	ld	l, a
4164  1625  3E 00       	ld	a, +((_bullet_colint) / 256)
4165  1627  CE 00       	adc	a,0x00
4166  1629  67          	ld	h, a
4167  162A  46          	ld	b, (hl)
4168  162B  79          	ld	a, c
4169  162C  80          	add	a, b
4170  162D  47          	ld	b, a
4171  162E  DD 7E F3    	ld	a,(ix-13)
4172  1631  F5          	push	af
4173  1632  33          	inc	sp
4174  1633  3A 00 00    	ld	a,(_s_lin0)
4175  1636  48          	ld	c,b
4176  1637  47          	ld	b,a
4177  1638  C5          	push	bc
4178  1639  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4179  163C  FB          	ei
4180  163D              l_spr_play_bullets_00192:
4181  163D  DD 34 F4    	inc	(ix-12)
4182  1640  DD 7E F4    	ld	a,(ix-12)
4183  1643  DD 77 F6    	ld	(ix-10),a
4184  1646  D6 08       	sub	a,0x08
4185  1648  DA A4 10    	jp	C, l_spr_play_bullets_00198
4186  164B              l_spr_play_bullets_00199:
4187  164B  DD F9       	ld	sp, ix
4188  164D  DD E1       	pop	ix
4189  164F  C9          	ret
4190  1650              	SECTION code_compiler
4191  1650              ;	---------------------------------
4192  1650              ; Function spr_explode_bullet
4193  1650              ; ---------------------------------
4194  1650              _spr_explode_bullet:
4195  1650  5D          	ld	e, l
4196  1651  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4197  1653  83          	add	a, e
4198  1654  4F          	ld	c, a
4199  1655  3E 00       	ld	a, +((_bullet_col) / 256)
4200  1657  CE 00       	adc	a,0x00
4201  1659  47          	ld	b, a
4202  165A  0A          	ld	a, (bc)
4203  165B  57          	ld	d, a
4204  165C  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4205  165E  83          	add	a, e
4206  165F  6F          	ld	l, a
4207  1660  3E 00       	ld	a, +((_bullet_lin) / 256)
4208  1662  CE 00       	adc	a,0x00
4209  1664  67          	ld	h, a
4210  1665  5E          	ld	e, (hl)
4211  1666  C5          	push	bc
4212  1667  21 00 00    	ld	hl,0x0000
4213  166A  E5          	push	hl
4214  166B  21 87 03    	ld	hl,0x0387
4215  166E  E5          	push	hl
4216  166F  D5          	push	de
4217  1670  CD 86 0E    	call	_spr_add_anim
4218  1673  F1          	pop	af
4219  1674  F1          	pop	af
4220  1675  F1          	pop	af
4221  1676  C1          	pop	bc
4222  1677  21 00 00    	ld	hl,_bullet_count
4223  167A  35          	dec	(hl)
4224  167B  3E FF       	ld	a,0xff
4225  167D  02          	ld	(bc), a
4226  167E  C9          	ret
4227  167F              	SECTION code_compiler
4228  167F              ;	---------------------------------
4229  167F              ; Function spr_turn_horizontal
4230  167F              ; ---------------------------------
4231  167F              _spr_turn_horizontal:
4232  167F  21 00 00    	ld	hl,_s_state
4233  1682  CB 56       	bit	2, (hl)
4234  1684  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4235  1686  21 00 00    	ld	hl,_s_state
4236  1689  7E          	ld	a,(hl)
4237  168A  F6 08       	or	a,0x08
4238  168C  E6 FB       	and	a,0xfb
4239  168E  77          	ld	(hl),a
4240  168F  18 09       	jr	l_spr_turn_horizontal_00103
4241  1691              l_spr_turn_horizontal_00102:
4242  1691  21 00 00    	ld	hl,_s_state
4243  1694  7E          	ld	a,(hl)
4244  1695  E6 F7       	and	a,0xf7
4245  1697  F6 04       	or	a,0x04
4246  1699  77          	ld	(hl),a
4247  169A              l_spr_turn_horizontal_00103:
4248  169A  2A 00 00    	ld	hl,(_sprite)
4249  169D  26 00       	ld	h,0x00
4250  169F  01 00 00    	ld	bc,_state
4251  16A2  09          	add	hl,bc
4252  16A3  3A 00 00    	ld	a,(_s_state)
4253  16A6  77          	ld	(hl),a
4254  16A7  2A 00 00    	ld	hl,(_sprite)
4255  16AA  26 00       	ld	h,0x00
4256  16AC  01 00 00    	ld	bc,_tile
4257  16AF  09          	add	hl,bc
4258  16B0  E5          	push	hl
4259  16B1  2A 00 00    	ld	hl,(_sprite)
4260  16B4  CD BB 09    	call	_spr_tile
4261  16B7  C1          	pop	bc
4262  16B8  7D          	ld	a,l
4263  16B9  02          	ld	(bc), a
4264  16BA  C9          	ret
4265  16BB              	SECTION code_compiler
4266  16BB              ;	---------------------------------
4267  16BB              ; Function spr_btile_paint_back
4268  16BB              ; ---------------------------------
4269  16BB              _spr_btile_paint_back:
4270  16BB  21 20 00    	ld	hl,0x0020
4271  16BE  22 00 00    	ld	(_tmp_ui),hl
4272  16C1  21 00 00    	ld	hl,_map_paper
4273  16C4  7E          	ld	a, (hl)
4274  16C5  0F          	rrca
4275  16C6  0F          	rrca
4276  16C7  0F          	rrca
4277  16C8  E6 1F       	and	a,0x1f
4278  16CA  B6          	or	a, (hl)
4279  16CB  F6 40       	or	a,0x40
4280  16CD  32 00 00    	ld	(_map_paper_clr),a
4281  16D0              l_spr_btile_paint_back_00106:
4282  16D0  21 00 00    	ld	hl,_tmp_ui
4283  16D3  7E          	ld	a, (hl)
4284  16D4  D6 A0       	sub	a,0xa0
4285  16D6  23          	inc	hl
4286  16D7  7E          	ld	a, (hl)
4287  16D8  DE 28       	sbc	a,0x28
4288  16DA  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4289  16DC  21 00 00    	ld	hl,_tmp0
4290  16DF  36 00       	ld	(hl),0x00
4291  16E1              l_spr_btile_paint_back_00103:
4292  16E1  3A 00 00    	ld	a,(_tmp0)
4293  16E4  D6 10       	sub	a,0x10
4294  16E6  30 34       	jr	NC,l_spr_btile_paint_back_00105
4295  16E8  01 00 00    	ld	bc,_btiles
4296  16EB  2A 00 00    	ld	hl,(_tmp_ui)
4297  16EE  09          	add	hl,bc
4298  16EF  7D          	ld	a,l
4299  16F0  44          	ld	b,h
4300  16F1  21 00 00    	ld	hl,_tmp0
4301  16F4  86          	add	a, (hl)
4302  16F5  4F          	ld	c, a
4303  16F6  78          	ld	a, b
4304  16F7  CE 00       	adc	a,0x00
4305  16F9  47          	ld	b, a
4306  16FA  0A          	ld	a, (bc)
4307  16FB  32 00 00    	ld	(_tmp),a
4308  16FE  E6 38       	and	a,0x38
4309  1700  5F          	ld	e, a
4310  1701  3A 00 00    	ld	a,(_map_paper_last)
4311  1704  93          	sub	a, e
4312  1705  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4313  1707  21 00 00    	ld	hl,_tmp
4314  170A  7E          	ld	a, (hl)
4315  170B  E6 C7       	and	a,0xc7
4316  170D  77          	ld	(hl),a
4317  170E  21 00 00    	ld	hl,_map_paper
4318  1711  B6          	or	a, (hl)
4319  1712  32 00 00    	ld	(_tmp),a
4320  1715  02          	ld	(bc), a
4321  1716              l_spr_btile_paint_back_00102:
4322  1716  21 00 00    	ld	hl,_tmp0
4323  1719  34          	inc	(hl)
4324  171A  18 C5       	jr	l_spr_btile_paint_back_00103
4325  171C              l_spr_btile_paint_back_00105:
4326  171C  2A 00 00    	ld	hl,(_tmp_ui)
4327  171F  11 30 00    	ld	de,0x0030
4328  1722  19          	add	hl,de
4329  1723  22 00 00    	ld	(_tmp_ui),hl
4330  1726  18 A8       	jr	l_spr_btile_paint_back_00106
4331  1728              l_spr_btile_paint_back_00108:
4332  1728  C3 00 00    	jp  _game_attribs
4333  172B              	SECTION IGNORE
4334  0000              
