1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_init_anim
189   0000              	GLOBAL _spr_calc_index
190   0000              	GLOBAL _spr_check_map
191   0000              	GLOBAL _spr_check_map_fall
192   0000              	GLOBAL _spr_chktime
193   0000              	GLOBAL _spr_move_jump
194   0000              	GLOBAL _spr_move_up
195   0000              	GLOBAL _spr_move_down
196   0000              	GLOBAL _spr_move_horizontal
197   0000              	GLOBAL _spr_move_right
198   0000              	GLOBAL _spr_move_left
199   0000              	GLOBAL _spr_page_right
200   0000              	GLOBAL _spr_page_left
201   0000              	GLOBAL _spr_page_map
202   0000              	GLOBAL _spr_redraw
203   0000              	GLOBAL _spr_killed
204   0000              	GLOBAL _spr_anim_kill
205   0000              	GLOBAL _spr_destroy
206   0000              	GLOBAL _spr_set_fall
207   0000              	GLOBAL _spr_tile
208   0000              	GLOBAL _spr_tile_dir
209   0000              	GLOBAL _spr_draw_background
210   0000              	GLOBAL _spr_draw_clear
211   0000              	GLOBAL _spr_back_paint
212   0000              	GLOBAL _spr_brick_anim
213   0000              	GLOBAL _spr_draw_index
214   0000              	GLOBAL _spr_draw_row
215   0000              	GLOBAL _spr_calc_hor
216   0000              	GLOBAL _spr_collision_check
217   0000              	GLOBAL _spr_kill_all
218   0000              	GLOBAL _spr_back_clr
219   0000              	GLOBAL _spr_tile_paint
220   0000              	GLOBAL _spr_add_anim
221   0000              	GLOBAL _spr_play_anim
222   0000              ;--------------------------------------------------------
223   0000              ; Externals used
224   0000              ;--------------------------------------------------------
225   0000              	GLOBAL _ulltoa_callee
226   0000              	GLOBAL _ulltoa
227   0000              	GLOBAL _strtoull_callee
228   0000              	GLOBAL _strtoull
229   0000              	GLOBAL _strtoll_callee
230   0000              	GLOBAL _strtoll
231   0000              	GLOBAL _lltoa_callee
232   0000              	GLOBAL _lltoa
233   0000              	GLOBAL _llabs_callee
234   0000              	GLOBAL _llabs
235   0000              	GLOBAL __lldivu__callee
236   0000              	GLOBAL __lldivu_
237   0000              	GLOBAL __lldiv__callee
238   0000              	GLOBAL __lldiv_
239   0000              	GLOBAL _atoll_callee
240   0000              	GLOBAL _atoll
241   0000              	GLOBAL _realloc_unlocked_callee
242   0000              	GLOBAL _realloc_unlocked
243   0000              	GLOBAL _malloc_unlocked_fastcall
244   0000              	GLOBAL _malloc_unlocked
245   0000              	GLOBAL _free_unlocked_fastcall
246   0000              	GLOBAL _free_unlocked
247   0000              	GLOBAL _calloc_unlocked_callee
248   0000              	GLOBAL _calloc_unlocked
249   0000              	GLOBAL _aligned_alloc_unlocked_callee
250   0000              	GLOBAL _aligned_alloc_unlocked
251   0000              	GLOBAL _realloc_callee
252   0000              	GLOBAL _realloc
253   0000              	GLOBAL _malloc_fastcall
254   0000              	GLOBAL _malloc
255   0000              	GLOBAL _free_fastcall
256   0000              	GLOBAL _free
257   0000              	GLOBAL _calloc_callee
258   0000              	GLOBAL _calloc
259   0000              	GLOBAL _aligned_alloc_callee
260   0000              	GLOBAL _aligned_alloc
261   0000              	GLOBAL _utoa_callee
262   0000              	GLOBAL _utoa
263   0000              	GLOBAL _ultoa_callee
264   0000              	GLOBAL _ultoa
265   0000              	GLOBAL _system_fastcall
266   0000              	GLOBAL _system
267   0000              	GLOBAL _strtoul_callee
268   0000              	GLOBAL _strtoul
269   0000              	GLOBAL _strtol_callee
270   0000              	GLOBAL _strtol
271   0000              	GLOBAL _strtof_callee
272   0000              	GLOBAL _strtof
273   0000              	GLOBAL _strtod_callee
274   0000              	GLOBAL _strtod
275   0000              	GLOBAL _srand_fastcall
276   0000              	GLOBAL _srand
277   0000              	GLOBAL _rand
278   0000              	GLOBAL _quick_exit_fastcall
279   0000              	GLOBAL _quick_exit
280   0000              	GLOBAL _qsort_callee
281   0000              	GLOBAL _qsort
282   0000              	GLOBAL _ltoa_callee
283   0000              	GLOBAL _ltoa
284   0000              	GLOBAL _labs_fastcall
285   0000              	GLOBAL _labs
286   0000              	GLOBAL _itoa_callee
287   0000              	GLOBAL _itoa
288   0000              	GLOBAL _ftoh_callee
289   0000              	GLOBAL _ftoh
290   0000              	GLOBAL _ftog_callee
291   0000              	GLOBAL _ftog
292   0000              	GLOBAL _ftoe_callee
293   0000              	GLOBAL _ftoe
294   0000              	GLOBAL _ftoa_callee
295   0000              	GLOBAL _ftoa
296   0000              	GLOBAL _exit_fastcall
297   0000              	GLOBAL _exit
298   0000              	GLOBAL _dtoh_callee
299   0000              	GLOBAL _dtoh
300   0000              	GLOBAL _dtog_callee
301   0000              	GLOBAL _dtog
302   0000              	GLOBAL _dtoe_callee
303   0000              	GLOBAL _dtoe
304   0000              	GLOBAL _dtoa_callee
305   0000              	GLOBAL _dtoa
306   0000              	GLOBAL _bsearch_callee
307   0000              	GLOBAL _bsearch
308   0000              	GLOBAL _atol_fastcall
309   0000              	GLOBAL _atol
310   0000              	GLOBAL _atoi_fastcall
311   0000              	GLOBAL _atoi
312   0000              	GLOBAL _atof_fastcall
313   0000              	GLOBAL _atof
314   0000              	GLOBAL _atexit_fastcall
315   0000              	GLOBAL _atexit
316   0000              	GLOBAL _at_quick_exit_fastcall
317   0000              	GLOBAL _at_quick_exit
318   0000              	GLOBAL _abs_fastcall
319   0000              	GLOBAL _abs
320   0000              	GLOBAL _abort
321   0000              	GLOBAL __strtou__callee
322   0000              	GLOBAL __strtou_
323   0000              	GLOBAL __strtoi__callee
324   0000              	GLOBAL __strtoi_
325   0000              	GLOBAL __random_uniform_xor_8__fastcall
326   0000              	GLOBAL __random_uniform_xor_8_
327   0000              	GLOBAL __random_uniform_xor_32__fastcall
328   0000              	GLOBAL __random_uniform_xor_32_
329   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
330   0000              	GLOBAL __random_uniform_cmwc_8_
331   0000              	GLOBAL __shellsort__callee
332   0000              	GLOBAL __shellsort_
333   0000              	GLOBAL __quicksort__callee
334   0000              	GLOBAL __quicksort_
335   0000              	GLOBAL __insertion_sort__callee
336   0000              	GLOBAL __insertion_sort_
337   0000              	GLOBAL __ldivu__callee
338   0000              	GLOBAL __ldivu_
339   0000              	GLOBAL __ldiv__callee
340   0000              	GLOBAL __ldiv_
341   0000              	GLOBAL __divu__callee
342   0000              	GLOBAL __divu_
343   0000              	GLOBAL __div__callee
344   0000              	GLOBAL __div_
345   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
346   0000              	GLOBAL _NIRVANAP_drawTW_raw
347   0000              	GLOBAL _NIRVANAP_drawTW_callee
348   0000              	GLOBAL _NIRVANAP_drawTW
349   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
350   0000              	GLOBAL _NIRVANAP_drawW_raw
351   0000              	GLOBAL _NIRVANAP_drawW_callee
352   0000              	GLOBAL _NIRVANAP_drawW
353   0000              	GLOBAL _NIRVANAP_spriteT_callee
354   0000              	GLOBAL _NIRVANAP_spriteT
355   0000              	GLOBAL _NIRVANAP_fillC_callee
356   0000              	GLOBAL _NIRVANAP_fillC
357   0000              	GLOBAL _NIRVANAP_readC_callee
358   0000              	GLOBAL _NIRVANAP_readC
359   0000              	GLOBAL _NIRVANAP_paintC_callee
360   0000              	GLOBAL _NIRVANAP_paintC
361   0000              	GLOBAL _NIRVANAP_printC_callee
362   0000              	GLOBAL _NIRVANAP_printC
363   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
364   0000              	GLOBAL _NIRVANAP_fillT_raw
365   0000              	GLOBAL _NIRVANAP_fillT_callee
366   0000              	GLOBAL _NIRVANAP_fillT
367   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
368   0000              	GLOBAL _NIRVANAP_drawT_raw
369   0000              	GLOBAL _NIRVANAP_drawT_callee
370   0000              	GLOBAL _NIRVANAP_drawT
371   0000              	GLOBAL _NIRVANAP_stop
372   0000              	GLOBAL _NIRVANAP_start
373   0000              	GLOBAL _debug3
374   0000              	GLOBAL _debug2
375   0000              	GLOBAL _debug
376   0000              	GLOBAL _zx_print_str
377   0000              	GLOBAL _zx_print_int
378   0000              	GLOBAL _zx_print_chr
379   0000              	GLOBAL _zx_print_bonus_time
380   0000              	GLOBAL _zx_isr
381   0000              	GLOBAL _z80_otdr_callee
382   0000              	GLOBAL _z80_otdr
383   0000              	GLOBAL _z80_otir_callee
384   0000              	GLOBAL _z80_otir
385   0000              	GLOBAL _z80_outp_callee
386   0000              	GLOBAL _z80_outp
387   0000              	GLOBAL _z80_indr_callee
388   0000              	GLOBAL _z80_indr
389   0000              	GLOBAL _z80_inir_callee
390   0000              	GLOBAL _z80_inir
391   0000              	GLOBAL _z80_inp_fastcall
392   0000              	GLOBAL _z80_inp
393   0000              	GLOBAL _z80_set_int_state_fastcall
394   0000              	GLOBAL _z80_set_int_state
395   0000              	GLOBAL _z80_get_int_state
396   0000              	GLOBAL _z80_delay_tstate_fastcall
397   0000              	GLOBAL _z80_delay_tstate
398   0000              	GLOBAL _z80_delay_ms_fastcall
399   0000              	GLOBAL _z80_delay_ms
400   0000              	GLOBAL _im2_remove_generic_callback_callee
401   0000              	GLOBAL _im2_remove_generic_callback
402   0000              	GLOBAL _im2_prepend_generic_callback_callee
403   0000              	GLOBAL _im2_prepend_generic_callback
404   0000              	GLOBAL _im2_append_generic_callback_callee
405   0000              	GLOBAL _im2_append_generic_callback
406   0000              	GLOBAL _im2_create_generic_isr_8080_callee
407   0000              	GLOBAL _im2_create_generic_isr_8080
408   0000              	GLOBAL _im2_create_generic_isr_callee
409   0000              	GLOBAL _im2_create_generic_isr
410   0000              	GLOBAL _im2_install_isr_callee
411   0000              	GLOBAL _im2_install_isr
412   0000              	GLOBAL _im2_init_fastcall
413   0000              	GLOBAL _im2_init
414   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
415   0000              	GLOBAL _intrinsic_swap_word_32
416   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
417   0000              	GLOBAL _intrinsic_swap_endian_32
418   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
419   0000              	GLOBAL _intrinsic_swap_endian_16
420   0000              	GLOBAL _intrinsic_return_de
421   0000              	GLOBAL _intrinsic_return_bc
422   0000              	GLOBAL _intrinsic_exx
423   0000              	GLOBAL _intrinsic_ex_de_hl
424   0000              	GLOBAL _intrinsic_nop
425   0000              	GLOBAL _intrinsic_im_2
426   0000              	GLOBAL _intrinsic_im_1
427   0000              	GLOBAL _intrinsic_im_0
428   0000              	GLOBAL _intrinsic_retn
429   0000              	GLOBAL _intrinsic_reti
430   0000              	GLOBAL _intrinsic_halt
431   0000              	GLOBAL _intrinsic_ei
432   0000              	GLOBAL _intrinsic_di
433   0000              	GLOBAL _intrinsic_stub
434   0000              	GLOBAL _intrinsic_outi
435   0000              	GLOBAL _intrinsic_ldi
436   0000              	GLOBAL _zx_pattern_fill_callee
437   0000              	GLOBAL _zx_pattern_fill
438   0000              	GLOBAL _zx_saddrpup_fastcall
439   0000              	GLOBAL _zx_saddrpup
440   0000              	GLOBAL _zx_saddrpright_callee
441   0000              	GLOBAL _zx_saddrpright
442   0000              	GLOBAL _zx_saddrpleft_callee
443   0000              	GLOBAL _zx_saddrpleft
444   0000              	GLOBAL _zx_saddrpdown_fastcall
445   0000              	GLOBAL _zx_saddrpdown
446   0000              	GLOBAL _zx_saddrcup_fastcall
447   0000              	GLOBAL _zx_saddrcup
448   0000              	GLOBAL _zx_saddrcright_fastcall
449   0000              	GLOBAL _zx_saddrcright
450   0000              	GLOBAL _zx_saddrcleft_fastcall
451   0000              	GLOBAL _zx_saddrcleft
452   0000              	GLOBAL _zx_saddrcdown_fastcall
453   0000              	GLOBAL _zx_saddrcdown
454   0000              	GLOBAL _zx_saddr2py_fastcall
455   0000              	GLOBAL _zx_saddr2py
456   0000              	GLOBAL _zx_saddr2px_fastcall
457   0000              	GLOBAL _zx_saddr2px
458   0000              	GLOBAL _zx_saddr2cy_fastcall
459   0000              	GLOBAL _zx_saddr2cy
460   0000              	GLOBAL _zx_saddr2cx_fastcall
461   0000              	GLOBAL _zx_saddr2cx
462   0000              	GLOBAL _zx_saddr2aaddr_fastcall
463   0000              	GLOBAL _zx_saddr2aaddr
464   0000              	GLOBAL _zx_py2saddr_fastcall
465   0000              	GLOBAL _zx_py2saddr
466   0000              	GLOBAL _zx_py2aaddr_fastcall
467   0000              	GLOBAL _zx_py2aaddr
468   0000              	GLOBAL _zx_pxy2saddr_callee
469   0000              	GLOBAL _zx_pxy2saddr
470   0000              	GLOBAL _zx_pxy2aaddr_callee
471   0000              	GLOBAL _zx_pxy2aaddr
472   0000              	GLOBAL _zx_px2bitmask_fastcall
473   0000              	GLOBAL _zx_px2bitmask
474   0000              	GLOBAL _zx_cy2saddr_fastcall
475   0000              	GLOBAL _zx_cy2saddr
476   0000              	GLOBAL _zx_cy2aaddr_fastcall
477   0000              	GLOBAL _zx_cy2aaddr
478   0000              	GLOBAL _zx_cxy2saddr_callee
479   0000              	GLOBAL _zx_cxy2saddr
480   0000              	GLOBAL _zx_cxy2aaddr_callee
481   0000              	GLOBAL _zx_cxy2aaddr
482   0000              	GLOBAL _zx_bitmask2px_fastcall
483   0000              	GLOBAL _zx_bitmask2px
484   0000              	GLOBAL _zx_aaddrcup_fastcall
485   0000              	GLOBAL _zx_aaddrcup
486   0000              	GLOBAL _zx_aaddrcright_fastcall
487   0000              	GLOBAL _zx_aaddrcright
488   0000              	GLOBAL _zx_aaddrcleft_fastcall
489   0000              	GLOBAL _zx_aaddrcleft
490   0000              	GLOBAL _zx_aaddrcdown_fastcall
491   0000              	GLOBAL _zx_aaddrcdown
492   0000              	GLOBAL _zx_aaddr2saddr_fastcall
493   0000              	GLOBAL _zx_aaddr2saddr
494   0000              	GLOBAL _zx_aaddr2py_fastcall
495   0000              	GLOBAL _zx_aaddr2py
496   0000              	GLOBAL _zx_aaddr2px_fastcall
497   0000              	GLOBAL _zx_aaddr2px
498   0000              	GLOBAL _zx_aaddr2cy_fastcall
499   0000              	GLOBAL _zx_aaddr2cy
500   0000              	GLOBAL _zx_aaddr2cx_fastcall
501   0000              	GLOBAL _zx_aaddr2cx
502   0000              	GLOBAL _zx_visit_wc_pix_callee
503   0000              	GLOBAL _zx_visit_wc_pix
504   0000              	GLOBAL _zx_visit_wc_attr_callee
505   0000              	GLOBAL _zx_visit_wc_attr
506   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
507   0000              	GLOBAL _zx_scroll_wc_up_pix
508   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
509   0000              	GLOBAL _zx_scroll_wc_up_attr
510   0000              	GLOBAL _zx_scroll_wc_up_callee
511   0000              	GLOBAL _zx_scroll_wc_up
512   0000              	GLOBAL _zx_scroll_up_pix_callee
513   0000              	GLOBAL _zx_scroll_up_pix
514   0000              	GLOBAL _zx_scroll_up_attr_callee
515   0000              	GLOBAL _zx_scroll_up_attr
516   0000              	GLOBAL _zx_scroll_up_callee
517   0000              	GLOBAL _zx_scroll_up
518   0000              	GLOBAL _zx_cls_wc_pix_callee
519   0000              	GLOBAL _zx_cls_wc_pix
520   0000              	GLOBAL _zx_cls_wc_attr_callee
521   0000              	GLOBAL _zx_cls_wc_attr
522   0000              	GLOBAL _zx_cls_wc_callee
523   0000              	GLOBAL _zx_cls_wc
524   0000              	GLOBAL _zx_cls_pix_fastcall
525   0000              	GLOBAL _zx_cls_pix
526   0000              	GLOBAL _zx_cls_attr_fastcall
527   0000              	GLOBAL _zx_cls_attr
528   0000              	GLOBAL _zx_cls_fastcall
529   0000              	GLOBAL _zx_cls
530   0000              	GLOBAL _zx_border_fastcall
531   0000              	GLOBAL _zx_border
532   0000              	GLOBAL _sound_hit_brick
533   0000              	GLOBAL _sound_hit_enemy
534   0000              	GLOBAL _sound_kill
535   0000              	GLOBAL _sound_enter_enemy
536   0000              	GLOBAL _sound_coin
537   0000              	GLOBAL _sound_jump
538   0000              	GLOBAL _sound_slide
539   0000              	GLOBAL _player_pick_item
540   0000              	GLOBAL _player_check_floor
541   0000              	GLOBAL _player_hit_platform_clear
542   0000              	GLOBAL _player_lost_life
543   0000              	GLOBAL _player_score_add
544   0000              	GLOBAL _player_player_hit_pow
545   0000              	GLOBAL _player_hit_platform
546   0000              	GLOBAL _player_move_input
547   0000              	GLOBAL _player_turn
548   0000              	GLOBAL _player_move
549   0000              	GLOBAL _player_restart
550   0000              	GLOBAL _player_kill
551   0000              	GLOBAL _player_check_input
552   0000              	GLOBAL _player_collision
553   0000              	GLOBAL _player_init
554   0000              	GLOBAL _game_joystick_set_menu
555   0000              	GLOBAL _game_joystick_set
556   0000              	GLOBAL _game_joystick_change
557   0000              	GLOBAL _game_print_header
558   0000              	GLOBAL _game_end
559   0000              	GLOBAL _game_phase_print_score_back
560   0000              	GLOBAL _game_check_time
561   0000              	GLOBAL _game_rotate_attrib
562   0000              	GLOBAL _game_colour_message
563   0000              	GLOBAL _game_paint_attrib_lin_h
564   0000              	GLOBAL _game_paint_attrib_lin
565   0000              	GLOBAL _game_paint_attrib
566   0000              	GLOBAL _game_print_score
567   0000              	GLOBAL _game_unfreeze_all
568   0000              	GLOBAL _game_freeze_all
569   0000              	GLOBAL _game_freeze
570   0000              	GLOBAL _game_enemy_add_get_index
571   0000              	GLOBAL _game_check_maze_floor
572   0000              	GLOBAL _game_check_maze
573   0000              	GLOBAL _game_loop
574   0000              	GLOBAL _game_phase_init
575   0000              	GLOBAL _game_start_timer
576   0000              	GLOBAL _game_tick
577   0000              	GLOBAL _game_print_lives
578   0000              	GLOBAL _game_print_footer
579   0000              	GLOBAL _game_fill_row
580   0000              	GLOBAL _enemy_ugly_fix
581   0000              	GLOBAL _enemy_kill
582   0000              	GLOBAL _enemy_init
583   0000              	GLOBAL _enemy_walk
584   0000              	GLOBAL _enemy_upgrade
585   0000              	GLOBAL _enemy_evolve
586   0000              	GLOBAL _enemy_standard_hit
587   0000              	GLOBAL _enemy_fighterfly
588   0000              	GLOBAL _enemy_fireball_green
589   0000              	GLOBAL _enemy_fireball_red
590   0000              	GLOBAL _enemy_slipice
591   0000              	GLOBAL _enemy_standard
592   0000              	GLOBAL _enemy_turn
593   0000              	GLOBAL _enemy_flip_sidestepper
594   0000              	GLOBAL _enemy_flip
595   0000              	GLOBAL _enemy_flip_change_dir
596   0000              	GLOBAL _enemy_hit
597   0000              	GLOBAL _enemy_collision_turn_dir
598   0000              	GLOBAL _enemy_collision
599   0000              	GLOBAL _enemy_coin1
600   0000              	GLOBAL _ay_fx_play
601   0000              	GLOBAL _ay_midi_play
602   0000              	GLOBAL _ay_is_playing
603   0000              	GLOBAL _ay_reset
604   0000              	GLOBAL _test_func
605   0000              	GLOBAL _in_mouse_kempston_wheel_delta
606   0000              	GLOBAL _in_mouse_kempston_wheel
607   0000              	GLOBAL _in_mouse_kempston_callee
608   0000              	GLOBAL _in_mouse_kempston
609   0000              	GLOBAL _in_mouse_kempston_setpos_callee
610   0000              	GLOBAL _in_mouse_kempston_setpos
611   0000              	GLOBAL _in_mouse_kempston_reset
612   0000              	GLOBAL _in_mouse_kempston_init
613   0000              	GLOBAL _in_mouse_amx_wheel_delta
614   0000              	GLOBAL _in_mouse_amx_wheel
615   0000              	GLOBAL _in_mouse_amx_callee
616   0000              	GLOBAL _in_mouse_amx
617   0000              	GLOBAL _in_mouse_amx_setpos_callee
618   0000              	GLOBAL _in_mouse_amx_setpos
619   0000              	GLOBAL _in_mouse_amx_reset
620   0000              	GLOBAL _in_mouse_amx_init_callee
621   0000              	GLOBAL _in_mouse_amx_init
622   0000              	GLOBAL _in_stick_sinclair2
623   0000              	GLOBAL _in_stick_sinclair1
624   0000              	GLOBAL _in_stick_kempston
625   0000              	GLOBAL _in_stick_fuller
626   0000              	GLOBAL _in_stick_cursor
627   0000              	GLOBAL _in_stick_keyboard_fastcall
628   0000              	GLOBAL _in_stick_keyboard
629   0000              	GLOBAL _in_wait_nokey
630   0000              	GLOBAL _in_wait_key
631   0000              	GLOBAL _in_test_key
632   0000              	GLOBAL _in_pause_fastcall
633   0000              	GLOBAL _in_pause
634   0000              	GLOBAL _in_key_scancode_fastcall
635   0000              	GLOBAL _in_key_scancode
636   0000              	GLOBAL _in_key_pressed_fastcall
637   0000              	GLOBAL _in_key_pressed
638   0000              	GLOBAL _in_inkey
639   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
640   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
641   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
642   0000              	GLOBAL _NIRVANAP_HOLE
643   0000              	GLOBAL _NIRVANAP_ISR_HOOK
644   0000              	GLOBAL _g_player_hit_right
645   0000              	GLOBAL _g_player_hit_left
646   0000              	GLOBAL _joynames
647   0000              	GLOBAL _initials
648   0000              	GLOBAL _anim_end
649   0000              	GLOBAL _anim_int
650   0000              	GLOBAL _anim_tile
651   0000              	GLOBAL _anim_col
652   0000              	GLOBAL _anim_lin
653   0000              	GLOBAL _phase_angry
654   0000              	GLOBAL _phase_curr
655   0000              	GLOBAL _phase_end
656   0000              	GLOBAL _phase_coins
657   0000              	GLOBAL _phase_pop
658   0000              	GLOBAL _phase_tot
659   0000              	GLOBAL _map_heigth
660   0000              	GLOBAL _map_width
661   0000              	GLOBAL _scr_curr
662   0000              	GLOBAL _scr_7
663   0000              	GLOBAL _scr_6
664   0000              	GLOBAL _scr_5
665   0000              	GLOBAL _scr_4
666   0000              	GLOBAL _scr_3
667   0000              	GLOBAL _scr_2
668   0000              	GLOBAL _scr_1
669   0000              	GLOBAL _scr_0
670   0000              	GLOBAL _scr_map
671   0000              	GLOBAL _sprite_speed_alt
672   0000              	GLOBAL _sprite_speed
673   0000              	GLOBAL _screen_ink
674   0000              	GLOBAL _screen_paper
675   0000              	GLOBAL _game_menu_sel
676   0000              	GLOBAL _game_type
677   0000              	GLOBAL _game_osd
678   0000              	GLOBAL _game_score_top
679   0000              	GLOBAL _player_lives
680   0000              	GLOBAL _game_over
681   0000              	GLOBAL _game_sound
682   0000              	GLOBAL _game_inmune
683   0000              	GLOBAL _game_god_mode
684   0000              	GLOBAL _game_start_phase
685   0000              	GLOBAL _game_two_player
686   0000              	GLOBAL _game_brick_tile
687   0000              	GLOBAL _sprite_curr_index
688   0000              	GLOBAL _spr_count
689   0000              	GLOBAL _osd_show_time
690   0000              	GLOBAL _osd_update_time
691   0000              	GLOBAL _frame_time
692   0000              	GLOBAL _entry_time
693   0000              	GLOBAL _curr_time
694   0000              	GLOBAL _s_state
695   0000              	GLOBAL _attrib_hl
696   0000              	GLOBAL _attrib
697   0000              	GLOBAL _zx_val_asm
698   0000              	GLOBAL _enemies
699   0000              	GLOBAL _tmp_ui
700   0000              	GLOBAL _tmp_sc
701   0000              	GLOBAL _tmp_uc
702   0000              	GLOBAL _tmp1
703   0000              	GLOBAL _tmp0
704   0000              	GLOBAL _tmp
705   0000              	GLOBAL _index1
706   0000              	GLOBAL _loop_count
707   0000              	GLOBAL _sprite_lin_inc_mul
708   0000              	GLOBAL _s_col1
709   0000              	GLOBAL _s_col0
710   0000              	GLOBAL _s_lin1
711   0000              	GLOBAL _s_lin0
712   0000              	GLOBAL _s_tile1
713   0000              	GLOBAL _s_tile0
714   0000              	GLOBAL _player_hit_count
715   0000              	GLOBAL _sprite
716   0000              	GLOBAL _game_gravity
717   0000              	GLOBAL _player_vel_y0
718   0000              	GLOBAL _player_vel_y
719   0000              	GLOBAL _player_vel_x
720   0000              	GLOBAL _player_joy
721   0000              	GLOBAL _player_score
722   0000              	GLOBAL _last_time
723   0000              	GLOBAL _player_slide
724   0000              	GLOBAL _spr_timer
725   0000              	GLOBAL _jump_lin
726   0000              	GLOBAL _player_hit_col
727   0000              	GLOBAL _player_hit_lin
728   0000              	GLOBAL _colint
729   0000              	GLOBAL _col
730   0000              	GLOBAL _lin
731   0000              	GLOBAL _tile
732   0000              	GLOBAL _state_a
733   0000              	GLOBAL _state
734   0000              	GLOBAL _class
735   0000              	GLOBAL _tbuffer
736   0000              	GLOBAL _dirs
737   0000              	GLOBAL _k1
738   0000              	GLOBAL _joyfunc1
739   0000              	GLOBAL _btiles
740   0000              	GLOBAL _spec128
741   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
742   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
743   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
744   0000              	GLOBAL _ay_effect_20
745   0000              	GLOBAL _ay_effect_19
746   0000              	GLOBAL _ay_effect_18
747   0000              	GLOBAL _ay_effect_17
748   0000              	GLOBAL _ay_effect_16
749   0000              	GLOBAL _ay_effect_15
750   0000              	GLOBAL _ay_effect_14
751   0000              	GLOBAL _ay_effect_13
752   0000              	GLOBAL _ay_effect_12
753   0000              	GLOBAL _ay_effect_11
754   0000              	GLOBAL _ay_effect_10
755   0000              	GLOBAL _ay_effect_09
756   0000              	GLOBAL _ay_effect_08
757   0000              	GLOBAL _ay_effect_07
758   0000              	GLOBAL _ay_effect_06
759   0000              	GLOBAL _ay_effect_05
760   0000              	GLOBAL _ay_effect_04
761   0000              	GLOBAL _ay_effect_03
762   0000              	GLOBAL _ay_effect_02
763   0000              	GLOBAL _ay_effect_01
764   0000              	GLOBAL _pb_midi_phase_1
765   0000              	GLOBAL _pb_midi_title
766   0000              	GLOBAL _control_method
767   0000              ;--------------------------------------------------------
768   0000              ; special function registers
769   0000              ;--------------------------------------------------------
770   0000              defc _IO_FE	=	0x00fe
771   0000              defc _IO_1FFD	=	0x1ffd
772   0000              defc _IO_7FFD	=	0x7ffd
773   0000              ;--------------------------------------------------------
774   0000              ; ram data
775   0000              ;--------------------------------------------------------
776   0000              	SECTION bss_compiler
777   0000              ;--------------------------------------------------------
778   0000              ; ram data
779   0000              ;--------------------------------------------------------
780   0000              
781   0000              IF 0
782   0000              
783   0000              ; .area _INITIALIZED removed by z88dk
784   0000              
785   0000              
786   0000              ENDIF
787   0000              
788   0000              ;--------------------------------------------------------
789   0000              ; absolute external ram data
790   0000              ;--------------------------------------------------------
791   0000              	SECTION IGNORE
792   0000              ;--------------------------------------------------------
793   0000              ; global & static initialisations
794   0000              ;--------------------------------------------------------
795   0000              	SECTION code_crt_init
796   0000              ;--------------------------------------------------------
797   0000              ; Home
798   0000              ;--------------------------------------------------------
799   0000              	SECTION IGNORE
800   0000              ;--------------------------------------------------------
801   0000              ; code
802   0000              ;--------------------------------------------------------
803   0000              	SECTION code_compiler
804   0000              ;	---------------------------------
805   0000              ; Function spr_calc_index
806   0000              ; ---------------------------------
807   0000              _spr_calc_index:
808   0000  CD 00 00    	call	___sdcc_enter_ix
809   0003  DD 4E 05    	ld	c,(ix+5)
810   0006  CB 39       	srl	c
811   0008  06 00       	ld	b,0x00
812   000A  DD 7E 04    	ld	a,(ix+4)
813   000D  07          	rlca
814   000E  07          	rlca
815   000F  07          	rlca
816   0010  07          	rlca
817   0011  E6 0F       	and	a,0x0f
818   0013  6F          	ld	l, a
819   0014  26 00       	ld	h,0x00
820   0016  29          	add	hl, hl
821   0017  29          	add	hl, hl
822   0018  29          	add	hl, hl
823   0019  29          	add	hl, hl
824   001A  09          	add	hl, bc
825   001B  DD E1       	pop	ix
826   001D  C9          	ret
827   001E              	SECTION code_compiler
828   001E              ;	---------------------------------
829   001E              ; Function spr_check_map
830   001E              ; ---------------------------------
831   001E              _spr_check_map:
832   001E  CD 00 00    	call	___sdcc_enter_ix
833   0021  DD CB 05 46 	bit	0,(ix+5)
834   0025  20 15       	jr	NZ,l_spr_check_map_00106
835   0027  DD 66 05    	ld	h,(ix+5)
836   002A  DD 6E 04    	ld	l,(ix+4)
837   002D  E5          	push	hl
838   002E  CD 00 00    	call	_spr_calc_index
839   0031  F1          	pop	af
840   0032  22 00 00    	ld	(_index1),hl
841   0035  CD 00 00    	call	_game_check_maze
842   0038  26 00       	ld	h,0x00
843   003A  18 4B       	jr	l_spr_check_map_00108
844   003C              l_spr_check_map_00106:
845   003C  DD 46 05    	ld	b,(ix+5)
846   003F  05          	dec	b
847   0040  DD 4E 04    	ld	c,(ix+4)
848   0043  C5          	push	bc
849   0044  CD 00 00    	call	_spr_calc_index
850   0047  F1          	pop	af
851   0048  22 00 00    	ld	(_index1),hl
852   004B  21 00 00    	ld	hl,_g_player_hit_left
853   004E  36 00       	ld	(hl),0x00
854   0050  21 00 00    	ld	hl,_g_player_hit_right
855   0053  36 00       	ld	(hl),0x00
856   0055  2A 00 00    	ld	hl,(_index1)
857   0058  CD 00 00    	call	_game_check_maze
858   005B  7D          	ld	a, l
859   005C  B7          	or	a, a
860   005D  28 05       	jr	Z,l_spr_check_map_00102
861   005F  21 00 00    	ld	hl,_g_player_hit_left
862   0062  36 01       	ld	(hl),0x01
863   0064              l_spr_check_map_00102:
864   0064  2A 00 00    	ld	hl,(_index1)
865   0067  23          	inc	hl
866   0068  CD 00 00    	call	_game_check_maze
867   006B  7D          	ld	a, l
868   006C  B7          	or	a, a
869   006D  28 05       	jr	Z,l_spr_check_map_00104
870   006F  21 00 00    	ld	hl,_g_player_hit_right
871   0072  36 01       	ld	(hl),0x01
872   0074              l_spr_check_map_00104:
873   0074  3A 00 00    	ld	a,(_g_player_hit_left)
874   0077  B7          	or	a, a
875   0078  20 09       	jr	NZ,l_spr_check_map_00111
876   007A  3A 00 00    	ld	a,(_g_player_hit_right)
877   007D  B7          	or	a,a
878   007E  20 03       	jr	NZ,l_spr_check_map_00111
879   0080  6F          	ld	l,a
880   0081  18 02       	jr	l_spr_check_map_00112
881   0083              l_spr_check_map_00111:
882   0083  2E 01       	ld	l,0x01
883   0085              l_spr_check_map_00112:
884   0085  26 00       	ld	h,0x00
885   0087              l_spr_check_map_00108:
886   0087  DD E1       	pop	ix
887   0089  C9          	ret
888   008A              	SECTION code_compiler
889   008A              ;	---------------------------------
890   008A              ; Function spr_check_map_fall
891   008A              ; ---------------------------------
892   008A              _spr_check_map_fall:
893   008A  CD 00 00    	call	___sdcc_enter_ix
894   008D  DD CB 05 46 	bit	0,(ix+5)
895   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
896   0093  DD 66 05    	ld	h,(ix+5)
897   0096  DD 6E 04    	ld	l,(ix+4)
898   0099  E5          	push	hl
899   009A  CD 00 00    	call	_spr_calc_index
900   009D  F1          	pop	af
901   009E  22 00 00    	ld	(_index1),hl
902   00A1  CD 00 00    	call	_game_check_maze_floor
903   00A4  26 00       	ld	h,0x00
904   00A6  18 4B       	jr	l_spr_check_map_fall_00108
905   00A8              l_spr_check_map_fall_00106:
906   00A8  DD 46 05    	ld	b,(ix+5)
907   00AB  05          	dec	b
908   00AC  DD 4E 04    	ld	c,(ix+4)
909   00AF  C5          	push	bc
910   00B0  CD 00 00    	call	_spr_calc_index
911   00B3  F1          	pop	af
912   00B4  22 00 00    	ld	(_index1),hl
913   00B7  21 00 00    	ld	hl,_g_player_hit_left
914   00BA  36 00       	ld	(hl),0x00
915   00BC  21 00 00    	ld	hl,_g_player_hit_right
916   00BF  36 00       	ld	(hl),0x00
917   00C1  2A 00 00    	ld	hl,(_index1)
918   00C4  CD 00 00    	call	_game_check_maze_floor
919   00C7  7D          	ld	a, l
920   00C8  B7          	or	a, a
921   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
922   00CB  21 00 00    	ld	hl,_g_player_hit_left
923   00CE  36 01       	ld	(hl),0x01
924   00D0              l_spr_check_map_fall_00102:
925   00D0  2A 00 00    	ld	hl,(_index1)
926   00D3  23          	inc	hl
927   00D4  CD 00 00    	call	_game_check_maze_floor
928   00D7  7D          	ld	a, l
929   00D8  B7          	or	a, a
930   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
931   00DB  21 00 00    	ld	hl,_g_player_hit_right
932   00DE  36 01       	ld	(hl),0x01
933   00E0              l_spr_check_map_fall_00104:
934   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
935   00E3  B7          	or	a, a
936   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
937   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
938   00E9  B7          	or	a,a
939   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
940   00EC  6F          	ld	l,a
941   00ED  18 02       	jr	l_spr_check_map_fall_00112
942   00EF              l_spr_check_map_fall_00111:
943   00EF  2E 01       	ld	l,0x01
944   00F1              l_spr_check_map_fall_00112:
945   00F1  26 00       	ld	h,0x00
946   00F3              l_spr_check_map_fall_00108:
947   00F3  DD E1       	pop	ix
948   00F5  C9          	ret
949   00F6              	SECTION code_compiler
950   00F6              ;	---------------------------------
951   00F6              ; Function spr_chktime
952   00F6              ; ---------------------------------
953   00F6              _spr_chktime:
954   00F6  CD 00 00    	call	___sdcc_enter_ix
955   00F9  F5          	push	af
956   00FA  DD 75 FE    	ld	(ix-2),l
957   00FD  DD 74 FF    	ld	(ix-1),h
958   0100  E1          	pop	hl
959   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
960   0104  5E          	ld	e,(hl)
961   0105  E5          	push	hl
962   0106  6B          	ld	l,e
963   0107  26 00       	ld	h,0x00
964   0109  09          	add	hl, bc
965   010A  7E          	ld	a, (hl)
966   010B  B7          	or	a, a
967   010C  20 13       	jr	NZ,l_spr_chktime_00102
968   010E  01 00 00    	ld	bc,_sprite_speed+0
969   0111  16 00       	ld	d,0x00
970   0113  21 00 00    	ld	hl,_class
971   0116  19          	add	hl, de
972   0117  6E          	ld	l, (hl)
973   0118  26 00       	ld	h,0x00
974   011A  09          	add	hl, bc
975   011B  7E          	ld	a, (hl)
976   011C  32 00 00    	ld	(_tmp),a
977   011F  18 03       	jr	l_spr_chktime_00103
978   0121              l_spr_chktime_00102:
979   0121  32 00 00    	ld	(_tmp),a
980   0124              l_spr_chktime_00103:
981   0124  3A 00 00    	ld	a,(_tmp)
982   0127  4F          	ld	c,a
983   0128  06 00       	ld	b,0x00
984   012A  60          	ld	h,b
985   012B  6B          	ld	l, e
986   012C  29          	add	hl, hl
987   012D  11 00 00    	ld	de,_last_time
988   0130  19          	add	hl, de
989   0131  5E          	ld	e, (hl)
990   0132  23          	inc	hl
991   0133  56          	ld	d, (hl)
992   0134  C5          	push	bc
993   0135  D5          	push	de
994   0136  CD 00 00    	call	_game_check_time
995   0139  F1          	pop	af
996   013A  F1          	pop	af
997   013B  7D          	ld	a, l
998   013C  B7          	or	a, a
999   013D  28 15       	jr	Z,l_spr_chktime_00105
1000  013F  E1          	pop	hl
1001  0140  E5          	push	hl
1002  0141  6E          	ld	l, (hl)
1003  0142  26 00       	ld	h,0x00
1004  0144  29          	add	hl, hl
1005  0145  01 00 00    	ld	bc,_last_time
1006  0148  09          	add	hl,bc
1007  0149  ED 5B 00 00 	ld	de,(_curr_time)
1008  014D  73          	ld	(hl),e
1009  014E  23          	inc	hl
1010  014F  72          	ld	(hl),d
1011  0150  2E 01       	ld	l,0x01
1012  0152  18 02       	jr	l_spr_chktime_00106
1013  0154              l_spr_chktime_00105:
1014  0154  2E 00       	ld	l,0x00
1015  0156              l_spr_chktime_00106:
1016  0156  F1          	pop	af
1017  0157  DD E1       	pop	ix
1018  0159  C9          	ret
1019  015A              	SECTION code_compiler
1020  015A              ;	---------------------------------
1021  015A              ; Function spr_move_jump
1022  015A              ; ---------------------------------
1023  015A              _spr_move_jump:
1024  015A  3A 00 00    	ld	a,(_player_vel_y)
1025  015D  21 00 00    	ld	hl,_game_gravity
1026  0160  86          	add	a, (hl)
1027  0161  21 00 00    	ld	hl,_player_vel_y
1028  0164  77          	ld	(hl), a
1029  0165  3E 78       	ld	a,0x78
1030  0167  96          	sub	a, (hl)
1031  0168  E2 6D 01    	jp	PO, l_spr_move_jump_00141
1032  016B  EE 80       	xor	a,0x80
1033  016D              l_spr_move_jump_00141:
1034  016D  F2 75 01    	jp	P, l_spr_move_jump_00102
1035  0170  21 00 00    	ld	hl,_player_vel_y
1036  0173  36 78       	ld	(hl),0x78
1037  0175              l_spr_move_jump_00102:
1038  0175  21 00 00    	ld	hl,_player_vel_y
1039  0178  7E          	ld	a, (hl)
1040  0179  EE 80       	xor	a,0x80
1041  017B  D6 08       	sub	a,0x08
1042  017D  30 02       	jr	NC,l_spr_move_jump_00104
1043  017F  36 88       	ld	(hl),0x88
1044  0181              l_spr_move_jump_00104:
1045  0181  2A 00 00    	ld	hl,(_player_vel_y)
1046  0184  26 0A       	ld	h,0x0a
1047  0186  E5          	push	hl
1048  0187  CD 00 00    	call	__divuschar_callee
1049  018A  4D          	ld	c,l
1050  018B  CB 45       	bit	0,l
1051  018D  28 01       	jr	Z,l_spr_move_jump_00106
1052  018F  0C          	inc	c
1053  0190              l_spr_move_jump_00106:
1054  0190  2A 00 00    	ld	hl,(_sprite)
1055  0193  26 00       	ld	h,0x00
1056  0195  11 00 00    	ld	de,_lin
1057  0198  19          	add	hl,de
1058  0199  7E          	ld	a,(hl)
1059  019A  EB          	ex	de,hl
1060  019B  81          	add	a,c
1061  019C  12          	ld	(de), a
1062  019D  2A 00 00    	ld	hl,(_sprite)
1063  01A0  26 00       	ld	h,0x00
1064  01A2  11 00 00    	ld	de,_lin
1065  01A5  19          	add	hl,de
1066  01A6  46          	ld	b, (hl)
1067  01A7  CB 79       	bit	7,c
1068  01A9  28 37       	jr	Z,l_spr_move_jump_00113
1069  01AB  3A 00 00    	ld	a,(_sprite)
1070  01AE  5F          	ld	e,a
1071  01AF  16 00       	ld	d,0x00
1072  01B1  21 00 00    	ld	hl,_col
1073  01B4  19          	add	hl,de
1074  01B5  56          	ld	d, (hl)
1075  01B6  C5          	push	bc
1076  01B7  58          	ld	e,b
1077  01B8  D5          	push	de
1078  01B9  CD 1E 00    	call	_spr_check_map
1079  01BC  F1          	pop	af
1080  01BD  C1          	pop	bc
1081  01BE  7C          	ld	a,h
1082  01BF  B5          	or	a,l
1083  01C0  28 72       	jr	Z,l_spr_move_jump_00114
1084  01C2  2A 00 00    	ld	hl,(_sprite)
1085  01C5  26 00       	ld	h,0x00
1086  01C7  11 00 00    	ld	de,_lin
1087  01CA  19          	add	hl,de
1088  01CB  7E          	ld	a,(hl)
1089  01CC  EB          	ex	de,hl
1090  01CD  91          	sub	a, c
1091  01CE  12          	ld	(de), a
1092  01CF  CD 00 00    	call	_player_hit_platform
1093  01D2  21 00 00    	ld	hl,_player_vel_y
1094  01D5  36 00       	ld	(hl),0x00
1095  01D7  21 00 00    	ld	hl,_s_state
1096  01DA  7E          	ld	a,(hl)
1097  01DB  E6 FE       	and	a,0xfe
1098  01DD  F6 02       	or	a,0x02
1099  01DF  77          	ld	(hl),a
1100  01E0  18 52       	jr	l_spr_move_jump_00114
1101  01E2              l_spr_move_jump_00113:
1102  01E2  2A 00 00    	ld	hl,(_sprite)
1103  01E5  26 00       	ld	h,0x00
1104  01E7  11 00 00    	ld	de,_col
1105  01EA  19          	add	hl,de
1106  01EB  56          	ld	d, (hl)
1107  01EC  78          	ld	a, b
1108  01ED  C6 10       	add	a,0x10
1109  01EF  5F          	ld	e, a
1110  01F0  D5          	push	de
1111  01F1  CD 8A 00    	call	_spr_check_map_fall
1112  01F4  F1          	pop	af
1113  01F5  4D          	ld	c,l
1114  01F6  44          	ld	b,h
1115  01F7  2A 00 00    	ld	hl,(_sprite)
1116  01FA  26 00       	ld	h,0x00
1117  01FC  11 00 00    	ld	de,_lin
1118  01FF  19          	add	hl,de
1119  0200  5E          	ld	e, (hl)
1120  0201  78          	ld	a,b
1121  0202  EB          	ex	de,hl
1122  0203  B1          	or	a,c
1123  0204  20 05       	jr	NZ,l_spr_move_jump_00109
1124  0206  7D          	ld	a, l
1125  0207  D6 90       	sub	a,0x90
1126  0209  38 29       	jr	C,l_spr_move_jump_00114
1127  020B              l_spr_move_jump_00109:
1128  020B  7D          	ld	a, l
1129  020C  07          	rlca
1130  020D  07          	rlca
1131  020E  07          	rlca
1132  020F  07          	rlca
1133  0210  E6 0F       	and	a,0x0f
1134  0212  07          	rlca
1135  0213  07          	rlca
1136  0214  07          	rlca
1137  0215  07          	rlca
1138  0216  E6 F0       	and	a,0xf0
1139  0218  12          	ld	(de), a
1140  0219  21 00 00    	ld	hl,_player_vel_y
1141  021C  36 00       	ld	(hl),0x00
1142  021E  21 00 00    	ld	hl,_s_state
1143  0221  7E          	ld	a,(hl)
1144  0222  E6 FC       	and	a,+(0xfd&0xfe)
1145  0224  77          	ld	(hl),a
1146  0225  2A 00 00    	ld	hl,(_sprite)
1147  0228  26 00       	ld	h,0x00
1148  022A  01 00 00    	ld	bc,_colint
1149  022D  09          	add	hl,bc
1150  022E  AF          	xor	a,a
1151  022F  77          	ld	(hl),a
1152  0230  2E 01       	ld	l,0x01
1153  0232  18 05       	jr	l_spr_move_jump_00115
1154  0234              l_spr_move_jump_00114:
1155  0234  CD 42 03    	call	_spr_move_horizontal
1156  0237  2E 00       	ld	l,0x00
1157  0239              l_spr_move_jump_00115:
1158  0239  C9          	ret
1159  023A              	SECTION code_compiler
1160  023A              ;	---------------------------------
1161  023A              ; Function spr_move_up
1162  023A              ; ---------------------------------
1163  023A              _spr_move_up:
1164  023A  2A 00 00    	ld	hl,(_sprite)
1165  023D  26 00       	ld	h,0x00
1166  023F  01 00 00    	ld	bc,_lin
1167  0242  09          	add	hl,bc
1168  0243  4E          	ld	c,(hl)
1169  0244  21 00 00    	ld	hl,_sprite_lin_inc_mul
1170  0247  46          	ld	b, (hl)
1171  0248  1E 02       	ld	e,0x02
1172  024A  04          	inc	b
1173  024B  18 02       	jr	l_spr_move_up_00134
1174  024D              l_spr_move_up_00133:
1175  024D  CB 23       	sla	e
1176  024F              l_spr_move_up_00134:
1177  024F  10 FC       	djnz	l_spr_move_up_00133
1178  0251  79          	ld	a, c
1179  0252  93          	sub	a, e
1180  0253  32 00 00    	ld	(_tmp1),a
1181  0256  2A 00 00    	ld	hl,(_sprite)
1182  0259  26 00       	ld	h,0x00
1183  025B  01 00 00    	ld	bc,_class
1184  025E  09          	add	hl,bc
1185  025F  7E          	ld	a,(hl)
1186  0260  D6 10       	sub	a,0x10
1187  0262  20 2D       	jr	NZ,l_spr_move_up_00107
1188  0264  2A 00 00    	ld	hl,(_sprite)
1189  0267  26 00       	ld	h,0x00
1190  0269  01 00 00    	ld	bc,_col
1191  026C  09          	add	hl,bc
1192  026D  7E          	ld	a,(hl)
1193  026E  F5          	push	af
1194  026F  33          	inc	sp
1195  0270  3A 00 00    	ld	a,(_tmp1)
1196  0273  F5          	push	af
1197  0274  33          	inc	sp
1198  0275  CD 1E 00    	call	_spr_check_map
1199  0278  F1          	pop	af
1200  0279  7C          	ld	a,h
1201  027A  B5          	or	a,l
1202  027B  28 14       	jr	Z,l_spr_move_up_00107
1203  027D  3A 00 00    	ld	a,(_sprite)
1204  0280  D6 07       	sub	a,0x07
1205  0282  20 09       	jr	NZ,l_spr_move_up_00102
1206  0284  3A 07 00    	ld	a,(_state_a + 0x0007)
1207  0287  07          	rlca
1208  0288  38 03       	jr	C,l_spr_move_up_00102
1209  028A  CD 00 00    	call	_player_hit_platform
1210  028D              l_spr_move_up_00102:
1211  028D  2E 01       	ld	l,0x01
1212  028F  18 39       	jr	l_spr_move_up_00111
1213  0291              l_spr_move_up_00107:
1214  0291  2A 00 00    	ld	hl,(_sprite)
1215  0294  26 00       	ld	h,0x00
1216  0296  01 00 00    	ld	bc,_lin
1217  0299  09          	add	hl,bc
1218  029A  3A 00 00    	ld	a,(_tmp1)
1219  029D  77          	ld	(hl),a
1220  029E  2A 00 00    	ld	hl,(_sprite)
1221  02A1  26 00       	ld	h,0x00
1222  02A3  01 00 00    	ld	bc,_lin
1223  02A6  09          	add	hl,bc
1224  02A7  7E          	ld	a,(hl)
1225  02A8  5F          	ld	e,a
1226  02A9  B7          	or	a,a
1227  02AA  4D          	ld	c,l
1228  02AB  44          	ld	b,h
1229  02AC  28 05       	jr	Z,l_spr_move_up_00108
1230  02AE  3E 90       	ld	a,0x90
1231  02B0  93          	sub	a, e
1232  02B1  30 15       	jr	NC,l_spr_move_up_00109
1233  02B3              l_spr_move_up_00108:
1234  02B3  AF          	xor	a, a
1235  02B4  02          	ld	(bc), a
1236  02B5  3A 00 00    	ld	a,(_s_col0)
1237  02B8  F5          	push	af
1238  02B9  33          	inc	sp
1239  02BA  3A 00 00    	ld	a,(_s_lin0)
1240  02BD  57          	ld	d,a
1241  02BE  1E 12       	ld	e,0x12
1242  02C0  D5          	push	de
1243  02C1  CD 00 00    	call	_NIRVANAP_fillT_callee
1244  02C4  2E 01       	ld	l,0x01
1245  02C6  18 02       	jr	l_spr_move_up_00111
1246  02C8              l_spr_move_up_00109:
1247  02C8  2E 00       	ld	l,0x00
1248  02CA              l_spr_move_up_00111:
1249  02CA  C9          	ret
1250  02CB              	SECTION code_compiler
1251  02CB              ;	---------------------------------
1252  02CB              ; Function spr_move_down
1253  02CB              ; ---------------------------------
1254  02CB              _spr_move_down:
1255  02CB  2A 00 00    	ld	hl,(_sprite)
1256  02CE  26 00       	ld	h,0x00
1257  02D0  01 00 00    	ld	bc,_lin
1258  02D3  09          	add	hl,bc
1259  02D4  4E          	ld	c,(hl)
1260  02D5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1261  02D8  46          	ld	b, (hl)
1262  02D9  1E 02       	ld	e,0x02
1263  02DB  04          	inc	b
1264  02DC  18 02       	jr	l_spr_move_down_00116
1265  02DE              l_spr_move_down_00115:
1266  02DE  CB 23       	sla	e
1267  02E0              l_spr_move_down_00116:
1268  02E0  10 FC       	djnz	l_spr_move_down_00115
1269  02E2  79          	ld	a, c
1270  02E3  83          	add	a, e
1271  02E4  32 00 00    	ld	(_tmp1),a
1272  02E7  2A 00 00    	ld	hl,(_sprite)
1273  02EA  26 00       	ld	h,0x00
1274  02EC  01 00 00    	ld	bc,_col
1275  02EF  09          	add	hl,bc
1276  02F0  56          	ld	d, (hl)
1277  02F1  3A 00 00    	ld	a,(_tmp1)
1278  02F4  C6 10       	add	a,0x10
1279  02F6  5F          	ld	e, a
1280  02F7  D5          	push	de
1281  02F8  CD 8A 00    	call	_spr_check_map_fall
1282  02FB  F1          	pop	af
1283  02FC  4D          	ld	c,l
1284  02FD  44          	ld	b,h
1285  02FE  2A 00 00    	ld	hl,(_sprite)
1286  0301  26 00       	ld	h,0x00
1287  0303  11 00 00    	ld	de,_lin
1288  0306  19          	add	hl,de
1289  0307  78          	ld	a,b
1290  0308  EB          	ex	de,hl
1291  0309  B1          	or	a,c
1292  030A  28 12       	jr	Z,l_spr_move_down_00102
1293  030C  3A 00 00    	ld	a,(_tmp1)
1294  030F  0F          	rrca
1295  0310  0F          	rrca
1296  0311  0F          	rrca
1297  0312  E6 1F       	and	a,0x1f
1298  0314  07          	rlca
1299  0315  07          	rlca
1300  0316  07          	rlca
1301  0317  E6 F8       	and	a,0xf8
1302  0319  12          	ld	(de), a
1303  031A  2E 01       	ld	l,0x01
1304  031C  18 23       	jr	l_spr_move_down_00105
1305  031E              l_spr_move_down_00102:
1306  031E  3A 00 00    	ld	a,(_tmp1)
1307  0321  12          	ld	(de), a
1308  0322  2A 00 00    	ld	hl,(_sprite)
1309  0325  26 00       	ld	h,0x00
1310  0327  01 00 00    	ld	bc,_lin
1311  032A  09          	add	hl,bc
1312  032B  5E          	ld	e,(hl)
1313  032C  3E 90       	ld	a,0x90
1314  032E  93          	sub	a,e
1315  032F  30 0E       	jr	NC,l_spr_move_down_00104
1316  0331  4D          	ld	c,l
1317  0332  44          	ld	b,h
1318  0333  21 00 00    	ld	hl,_s_state
1319  0336  CB 8E       	res	1, (hl)
1320  0338  3E 90       	ld	a,0x90
1321  033A  02          	ld	(bc), a
1322  033B  2E 01       	ld	l,0x01
1323  033D  18 02       	jr	l_spr_move_down_00105
1324  033F              l_spr_move_down_00104:
1325  033F  2E 00       	ld	l,0x00
1326  0341              l_spr_move_down_00105:
1327  0341  C9          	ret
1328  0342              	SECTION code_compiler
1329  0342              ;	---------------------------------
1330  0342              ; Function spr_move_horizontal
1331  0342              ; ---------------------------------
1332  0342              _spr_move_horizontal:
1333  0342  2A 00 00    	ld	hl,(_sprite)
1334  0345  26 00       	ld	h,0x00
1335  0347  01 00 00    	ld	bc,_state
1336  034A  09          	add	hl,bc
1337  034B  7E          	ld	a,(hl)
1338  034C  CB 57       	bit	2, a
1339  034E  28 05       	jr	Z,l_spr_move_horizontal_00104
1340  0350  CD 61 03    	call	_spr_move_right
1341  0353  18 0B       	jr	l_spr_move_horizontal_00106
1342  0355              l_spr_move_horizontal_00104:
1343  0355  CB 5F       	bit	3, a
1344  0357  28 05       	jr	Z,l_spr_move_horizontal_00105
1345  0359  CD 1F 04    	call	_spr_move_left
1346  035C  18 02       	jr	l_spr_move_horizontal_00106
1347  035E              l_spr_move_horizontal_00105:
1348  035E  2E 00       	ld	l,0x00
1349  0360              l_spr_move_horizontal_00106:
1350  0360  C9          	ret
1351  0361              	SECTION code_compiler
1352  0361              ;	---------------------------------
1353  0361              ; Function spr_move_right
1354  0361              ; ---------------------------------
1355  0361              _spr_move_right:
1356  0361  01 00 00    	ld	bc,_colint+0
1357  0364  79          	ld	a, c
1358  0365  21 00 00    	ld	hl,_sprite
1359  0368  86          	add	a, (hl)
1360  0369  5F          	ld	e, a
1361  036A  78          	ld	a, b
1362  036B  CE 00       	adc	a,0x00
1363  036D  57          	ld	d, a
1364  036E  1A          	ld	a, (de)
1365  036F  3C          	inc	a
1366  0370  12          	ld	(de), a
1367  0371  79          	ld	a, c
1368  0372  86          	add	a, (hl)
1369  0373  5F          	ld	e, a
1370  0374  78          	ld	a, b
1371  0375  CE 00       	adc	a,0x00
1372  0377  57          	ld	d, a
1373  0378  1A          	ld	a, (de)
1374  0379  D6 04       	sub	a,0x04
1375  037B  C2 1C 04    	jp	NZ,l_spr_move_right_00112
1376  037E  5E          	ld	e,(hl)
1377  037F  16 00       	ld	d,0x00
1378  0381  21 00 00    	ld	hl,_lin
1379  0384  19          	add	hl,de
1380  0385  7E          	ld	a,(hl)
1381  0386  32 00 00    	ld	(_s_lin1),a
1382  0389  2A 00 00    	ld	hl,(_sprite)
1383  038C  26 00       	ld	h,0x00
1384  038E  11 00 00    	ld	de,_col
1385  0391  19          	add	hl,de
1386  0392  7E          	ld	a,(hl)
1387  0393  FE 1E       	cp	a,0x1e
1388  0395  30 48       	jr	NC,l_spr_move_right_00105
1389  0397  3C          	inc	a
1390  0398  32 00 00    	ld	(_s_col1),a
1391  039B  C5          	push	bc
1392  039C  F5          	push	af
1393  039D  33          	inc	sp
1394  039E  3A 00 00    	ld	a,(_s_lin1)
1395  03A1  F5          	push	af
1396  03A2  33          	inc	sp
1397  03A3  CD 1E 00    	call	_spr_check_map
1398  03A6  F1          	pop	af
1399  03A7  C1          	pop	bc
1400  03A8  7C          	ld	a,h
1401  03A9  B5          	or	a,l
1402  03AA  20 16       	jr	NZ,l_spr_move_right_00101
1403  03AC  3A 00 00    	ld	a,(_s_lin1)
1404  03AF  C6 0F       	add	a,0x0f
1405  03B1  57          	ld	d, a
1406  03B2  3A 00 00    	ld	a,(_s_col1)
1407  03B5  C5          	push	bc
1408  03B6  5A          	ld	e,d
1409  03B7  57          	ld	d,a
1410  03B8  D5          	push	de
1411  03B9  CD 1E 00    	call	_spr_check_map
1412  03BC  F1          	pop	af
1413  03BD  C1          	pop	bc
1414  03BE  7C          	ld	a,h
1415  03BF  B5          	or	a,l
1416  03C0  28 1D       	jr	Z,l_spr_move_right_00105
1417  03C2              l_spr_move_right_00101:
1418  03C2  79          	ld	a, c
1419  03C3  21 00 00    	ld	hl,_sprite
1420  03C6  86          	add	a, (hl)
1421  03C7  5F          	ld	e, a
1422  03C8  78          	ld	a, b
1423  03C9  CE 00       	adc	a,0x00
1424  03CB  57          	ld	d, a
1425  03CC  1A          	ld	a, (de)
1426  03CD  C6 FF       	add	a,0xff
1427  03CF  12          	ld	(de), a
1428  03D0  79          	ld	a, c
1429  03D1  86          	add	a, (hl)
1430  03D2  4F          	ld	c, a
1431  03D3  78          	ld	a, b
1432  03D4  CE 00       	adc	a,0x00
1433  03D6  47          	ld	b, a
1434  03D7  0A          	ld	a, (bc)
1435  03D8  C6 FF       	add	a,0xff
1436  03DA  02          	ld	(bc), a
1437  03DB  2E 01       	ld	l,0x01
1438  03DD  18 3F       	jr	l_spr_move_right_00113
1439  03DF              l_spr_move_right_00105:
1440  03DF  2A 00 00    	ld	hl,(_sprite)
1441  03E2  26 00       	ld	h,0x00
1442  03E4  11 00 00    	ld	de,_col
1443  03E7  19          	add	hl,de
1444  03E8  34          	inc	(hl)
1445  03E9  79          	ld	a,c
1446  03EA  21 00 00    	ld	hl,_sprite
1447  03ED  86          	add	a, (hl)
1448  03EE  4F          	ld	c, a
1449  03EF  78          	ld	a, b
1450  03F0  CE 00       	adc	a,0x00
1451  03F2  47          	ld	b, a
1452  03F3  AF          	xor	a, a
1453  03F4  02          	ld	(bc), a
1454  03F5  4E          	ld	c,(hl)
1455  03F6  06 00       	ld	b,0x00
1456  03F8  21 00 00    	ld	hl,_col
1457  03FB  09          	add	hl,bc
1458  03FC  4E          	ld	c, (hl)
1459  03FD  3E 1E       	ld	a,0x1e
1460  03FF  91          	sub	a, c
1461  0400  30 1A       	jr	NC,l_spr_move_right_00112
1462  0402  CD DE 04    	call	_spr_page_right
1463  0405  3A 00 00    	ld	a,(_sprite)
1464  0408  C6 00       	add	a,+((_col) & 0xFF)
1465  040A  4D          	ld	c,l
1466  040B  5F          	ld	e,a
1467  040C  3E 00       	ld	a,+((_col) / 256)
1468  040E  CE 00       	adc	a,0x00
1469  0410  57          	ld	d,a
1470  0411  79          	ld	a, c
1471  0412  B7          	or	a, a
1472  0413  28 04       	jr	Z,l_spr_move_right_00107
1473  0415  AF          	xor	a, a
1474  0416  12          	ld	(de), a
1475  0417  18 03       	jr	l_spr_move_right_00112
1476  0419              l_spr_move_right_00107:
1477  0419  3E 1E       	ld	a,0x1e
1478  041B  12          	ld	(de), a
1479  041C              l_spr_move_right_00112:
1480  041C  2E 00       	ld	l,0x00
1481  041E              l_spr_move_right_00113:
1482  041E  C9          	ret
1483  041F              	SECTION code_compiler
1484  041F              ;	---------------------------------
1485  041F              ; Function spr_move_left
1486  041F              ; ---------------------------------
1487  041F              _spr_move_left:
1488  041F  01 00 00    	ld	bc,_colint+0
1489  0422  79          	ld	a, c
1490  0423  21 00 00    	ld	hl,_sprite
1491  0426  86          	add	a, (hl)
1492  0427  5F          	ld	e, a
1493  0428  78          	ld	a, b
1494  0429  CE 00       	adc	a,0x00
1495  042B  57          	ld	d, a
1496  042C  1A          	ld	a, (de)
1497  042D  C6 FF       	add	a,0xff
1498  042F  12          	ld	(de), a
1499  0430  79          	ld	a, c
1500  0431  86          	add	a, (hl)
1501  0432  5F          	ld	e, a
1502  0433  78          	ld	a, b
1503  0434  CE 00       	adc	a,0x00
1504  0436  57          	ld	d, a
1505  0437  1A          	ld	a, (de)
1506  0438  3C          	inc	a
1507  0439  C2 DB 04    	jp	NZ,l_spr_move_left_00112
1508  043C  5E          	ld	e,(hl)
1509  043D  16 00       	ld	d,0x00
1510  043F  21 00 00    	ld	hl,_lin
1511  0442  19          	add	hl,de
1512  0443  7E          	ld	a,(hl)
1513  0444  32 00 00    	ld	(_s_lin1),a
1514  0447  2A 00 00    	ld	hl,(_sprite)
1515  044A  26 00       	ld	h,0x00
1516  044C  11 00 00    	ld	de,_col
1517  044F  19          	add	hl,de
1518  0450  7E          	ld	a,(hl)
1519  0451  B7          	or	a, a
1520  0452  28 47       	jr	Z,l_spr_move_left_00105
1521  0454  C6 FF       	add	a,0xff
1522  0456  32 00 00    	ld	(_s_col1),a
1523  0459  C5          	push	bc
1524  045A  F5          	push	af
1525  045B  33          	inc	sp
1526  045C  3A 00 00    	ld	a,(_s_lin1)
1527  045F  F5          	push	af
1528  0460  33          	inc	sp
1529  0461  CD 1E 00    	call	_spr_check_map
1530  0464  F1          	pop	af
1531  0465  C1          	pop	bc
1532  0466  7C          	ld	a,h
1533  0467  B5          	or	a,l
1534  0468  20 16       	jr	NZ,l_spr_move_left_00101
1535  046A  3A 00 00    	ld	a,(_s_lin1)
1536  046D  C6 0F       	add	a,0x0f
1537  046F  57          	ld	d, a
1538  0470  3A 00 00    	ld	a,(_s_col1)
1539  0473  C5          	push	bc
1540  0474  5A          	ld	e,d
1541  0475  57          	ld	d,a
1542  0476  D5          	push	de
1543  0477  CD 1E 00    	call	_spr_check_map
1544  047A  F1          	pop	af
1545  047B  C1          	pop	bc
1546  047C  7C          	ld	a,h
1547  047D  B5          	or	a,l
1548  047E  28 1B       	jr	Z,l_spr_move_left_00105
1549  0480              l_spr_move_left_00101:
1550  0480  79          	ld	a, c
1551  0481  21 00 00    	ld	hl,_sprite
1552  0484  86          	add	a, (hl)
1553  0485  5F          	ld	e, a
1554  0486  78          	ld	a, b
1555  0487  CE 00       	adc	a,0x00
1556  0489  57          	ld	d, a
1557  048A  1A          	ld	a, (de)
1558  048B  3C          	inc	a
1559  048C  12          	ld	(de), a
1560  048D  79          	ld	a, c
1561  048E  86          	add	a, (hl)
1562  048F  4F          	ld	c, a
1563  0490  78          	ld	a, b
1564  0491  CE 00       	adc	a,0x00
1565  0493  47          	ld	b, a
1566  0494  0A          	ld	a, (bc)
1567  0495  3C          	inc	a
1568  0496  02          	ld	(bc), a
1569  0497  2E 01       	ld	l,0x01
1570  0499  18 42       	jr	l_spr_move_left_00113
1571  049B              l_spr_move_left_00105:
1572  049B  2A 00 00    	ld	hl,(_sprite)
1573  049E  26 00       	ld	h,0x00
1574  04A0  11 00 00    	ld	de,_col
1575  04A3  19          	add	hl,de
1576  04A4  7E          	ld	a,(hl)
1577  04A5  EB          	ex	de,hl
1578  04A6  C6 FF       	add	a,0xff
1579  04A8  12          	ld	(de),a
1580  04A9  79          	ld	a,c
1581  04AA  21 00 00    	ld	hl,_sprite
1582  04AD  86          	add	a, (hl)
1583  04AE  4F          	ld	c, a
1584  04AF  78          	ld	a, b
1585  04B0  CE 00       	adc	a,0x00
1586  04B2  47          	ld	b, a
1587  04B3  3E 03       	ld	a,0x03
1588  04B5  02          	ld	(bc), a
1589  04B6  4E          	ld	c,(hl)
1590  04B7  06 00       	ld	b,0x00
1591  04B9  21 00 00    	ld	hl,_col
1592  04BC  09          	add	hl,bc
1593  04BD  7E          	ld	a,(hl)
1594  04BE  3C          	inc	a
1595  04BF  20 1A       	jr	NZ,l_spr_move_left_00112
1596  04C1  CD 0A 05    	call	_spr_page_left
1597  04C4  3A 00 00    	ld	a,(_sprite)
1598  04C7  C6 00       	add	a,+((_col) & 0xFF)
1599  04C9  4D          	ld	c,l
1600  04CA  5F          	ld	e,a
1601  04CB  3E 00       	ld	a,+((_col) / 256)
1602  04CD  CE 00       	adc	a,0x00
1603  04CF  57          	ld	d,a
1604  04D0  79          	ld	a, c
1605  04D1  B7          	or	a, a
1606  04D2  28 05       	jr	Z,l_spr_move_left_00107
1607  04D4  3E 1E       	ld	a,0x1e
1608  04D6  12          	ld	(de), a
1609  04D7  18 02       	jr	l_spr_move_left_00112
1610  04D9              l_spr_move_left_00107:
1611  04D9  AF          	xor	a, a
1612  04DA  12          	ld	(de), a
1613  04DB              l_spr_move_left_00112:
1614  04DB  2E 00       	ld	l,0x00
1615  04DD              l_spr_move_left_00113:
1616  04DD  C9          	ret
1617  04DE              	SECTION code_compiler
1618  04DE              ;	---------------------------------
1619  04DE              ; Function spr_page_right
1620  04DE              ; ---------------------------------
1621  04DE              _spr_page_right:
1622  04DE  2A 00 00    	ld	hl,(_sprite)
1623  04E1  26 00       	ld	h,0x00
1624  04E3  01 00 00    	ld	bc,_class
1625  04E6  09          	add	hl,bc
1626  04E7  7E          	ld	a,(hl)
1627  04E8  D6 10       	sub	a,0x10
1628  04EA  28 04       	jr	Z,l_spr_page_right_00102
1629  04EC  2E 00       	ld	l,0x00
1630  04EE  18 19       	jr	l_spr_page_right_00105
1631  04F0              l_spr_page_right_00102:
1632  04F0  3A 00 00    	ld	a,(_scr_curr)
1633  04F3  21 00 00    	ld	hl,_map_width
1634  04F6  96          	sub	a, (hl)
1635  04F7  30 0E       	jr	NC,l_spr_page_right_00104
1636  04F9  21 00 00    	ld	hl,_scr_curr
1637  04FC  34          	inc	(hl)
1638  04FD  CD 31 05    	call	_spr_page_map
1639  0500  CD 97 09    	call	_spr_draw_background
1640  0503  2E 01       	ld	l,0x01
1641  0505  18 02       	jr	l_spr_page_right_00105
1642  0507              l_spr_page_right_00104:
1643  0507  2E 00       	ld	l,0x00
1644  0509              l_spr_page_right_00105:
1645  0509  C9          	ret
1646  050A              	SECTION code_compiler
1647  050A              ;	---------------------------------
1648  050A              ; Function spr_page_left
1649  050A              ; ---------------------------------
1650  050A              _spr_page_left:
1651  050A  2A 00 00    	ld	hl,(_sprite)
1652  050D  26 00       	ld	h,0x00
1653  050F  01 00 00    	ld	bc,_class
1654  0512  09          	add	hl,bc
1655  0513  7E          	ld	a,(hl)
1656  0514  D6 10       	sub	a,0x10
1657  0516  28 04       	jr	Z,l_spr_page_left_00102
1658  0518  2E 00       	ld	l,0x00
1659  051A  18 14       	jr	l_spr_page_left_00105
1660  051C              l_spr_page_left_00102:
1661  051C  21 00 00    	ld	hl,_scr_curr
1662  051F  7E          	ld	a, (hl)
1663  0520  B7          	or	a, a
1664  0521  28 0B       	jr	Z,l_spr_page_left_00104
1665  0523  35          	dec	(hl)
1666  0524  CD 31 05    	call	_spr_page_map
1667  0527  CD 97 09    	call	_spr_draw_background
1668  052A  2E 01       	ld	l,0x01
1669  052C  18 02       	jr	l_spr_page_left_00105
1670  052E              l_spr_page_left_00104:
1671  052E  2E 00       	ld	l,0x00
1672  0530              l_spr_page_left_00105:
1673  0530  C9          	ret
1674  0531              	SECTION code_compiler
1675  0531              ;	---------------------------------
1676  0531              ; Function spr_page_map
1677  0531              ; ---------------------------------
1678  0531              _spr_page_map:
1679  0531  CD 00 00    	call	___sdcc_enter_ix
1680  0534  F5          	push	af
1681  0535  3E 10       	ld	a,0x10
1682  0537  F5          	push	af
1683  0538  33          	inc	sp
1684  0539  0E 00       	ld	c,0x00
1685  053B              l_spr_page_map_00122:
1686  053B  3E 07       	ld	a,0x07
1687  053D  21 00 00    	ld	hl,_scr_curr
1688  0540  96          	sub	a, (hl)
1689  0541  DA 0B 06    	jp	C, l_spr_page_map_00109
1690  0544  59          	ld	e, c
1691  0545  16 00       	ld	d,0x00
1692  0547  13          	inc	de
1693  0548  D5          	push	de
1694  0549  5E          	ld	e, (hl)
1695  054A  16 00       	ld	d,0x00
1696  054C  21 54 05    	ld	hl,l_spr_page_map_00155
1697  054F  19          	add	hl, de
1698  0550  19          	add	hl, de
1699  0551  19          	add	hl, de
1700  0552  D1          	pop	de
1701  0553  E9          	jp	(hl)
1702  0554              l_spr_page_map_00155:
1703  0554  C3 6C 05    	jp	l_spr_page_map_00101
1704  0557  C3 81 05    	jp	l_spr_page_map_00102
1705  055A  C3 95 05    	jp	l_spr_page_map_00103
1706  055D  C3 A9 05    	jp	l_spr_page_map_00104
1707  0560  C3 BD 05    	jp	l_spr_page_map_00105
1708  0563  C3 D1 05    	jp	l_spr_page_map_00106
1709  0566  C3 E5 05    	jp	l_spr_page_map_00107
1710  0569  C3 F9 05    	jp	l_spr_page_map_00108
1711  056C              l_spr_page_map_00101:
1712  056C  06 00       	ld	b,0x00
1713  056E  21 00 00    	ld	hl,_scr_0
1714  0571  09          	add	hl, bc
1715  0572  7E          	ld	a, (hl)
1716  0573  DD 77 FF    	ld	(ix-1),a
1717  0576  21 00 00    	ld	hl,_scr_0
1718  0579  19          	add	hl, de
1719  057A  7E          	ld	a, (hl)
1720  057B  DD 77 FE    	ld	(ix-2),a
1721  057E  C3 0B 06    	jp	l_spr_page_map_00109
1722  0581              l_spr_page_map_00102:
1723  0581  06 00       	ld	b,0x00
1724  0583  21 00 00    	ld	hl,_scr_1
1725  0586  09          	add	hl, bc
1726  0587  7E          	ld	a, (hl)
1727  0588  DD 77 FF    	ld	(ix-1),a
1728  058B  21 00 00    	ld	hl,_scr_1
1729  058E  19          	add	hl, de
1730  058F  7E          	ld	a, (hl)
1731  0590  DD 77 FE    	ld	(ix-2),a
1732  0593  18 76       	jr	l_spr_page_map_00109
1733  0595              l_spr_page_map_00103:
1734  0595  06 00       	ld	b,0x00
1735  0597  21 00 00    	ld	hl,_scr_2
1736  059A  09          	add	hl, bc
1737  059B  7E          	ld	a, (hl)
1738  059C  DD 77 FF    	ld	(ix-1),a
1739  059F  21 00 00    	ld	hl,_scr_2
1740  05A2  19          	add	hl, de
1741  05A3  7E          	ld	a, (hl)
1742  05A4  DD 77 FE    	ld	(ix-2),a
1743  05A7  18 62       	jr	l_spr_page_map_00109
1744  05A9              l_spr_page_map_00104:
1745  05A9  06 00       	ld	b,0x00
1746  05AB  21 00 00    	ld	hl,_scr_3
1747  05AE  09          	add	hl, bc
1748  05AF  7E          	ld	a, (hl)
1749  05B0  DD 77 FF    	ld	(ix-1),a
1750  05B3  21 00 00    	ld	hl,_scr_3
1751  05B6  19          	add	hl, de
1752  05B7  7E          	ld	a, (hl)
1753  05B8  DD 77 FE    	ld	(ix-2),a
1754  05BB  18 4E       	jr	l_spr_page_map_00109
1755  05BD              l_spr_page_map_00105:
1756  05BD  06 00       	ld	b,0x00
1757  05BF  21 00 00    	ld	hl,_scr_4
1758  05C2  09          	add	hl, bc
1759  05C3  7E          	ld	a, (hl)
1760  05C4  DD 77 FF    	ld	(ix-1),a
1761  05C7  21 00 00    	ld	hl,_scr_4
1762  05CA  19          	add	hl, de
1763  05CB  7E          	ld	a, (hl)
1764  05CC  DD 77 FE    	ld	(ix-2),a
1765  05CF  18 3A       	jr	l_spr_page_map_00109
1766  05D1              l_spr_page_map_00106:
1767  05D1  06 00       	ld	b,0x00
1768  05D3  21 00 00    	ld	hl,_scr_5
1769  05D6  09          	add	hl, bc
1770  05D7  7E          	ld	a, (hl)
1771  05D8  DD 77 FF    	ld	(ix-1),a
1772  05DB  21 00 00    	ld	hl,_scr_5
1773  05DE  19          	add	hl, de
1774  05DF  7E          	ld	a, (hl)
1775  05E0  DD 77 FE    	ld	(ix-2),a
1776  05E3  18 26       	jr	l_spr_page_map_00109
1777  05E5              l_spr_page_map_00107:
1778  05E5  06 00       	ld	b,0x00
1779  05E7  21 00 00    	ld	hl,_scr_6
1780  05EA  09          	add	hl, bc
1781  05EB  7E          	ld	a, (hl)
1782  05EC  DD 77 FF    	ld	(ix-1),a
1783  05EF  21 00 00    	ld	hl,_scr_6
1784  05F2  19          	add	hl, de
1785  05F3  7E          	ld	a, (hl)
1786  05F4  DD 77 FE    	ld	(ix-2),a
1787  05F7  18 12       	jr	l_spr_page_map_00109
1788  05F9              l_spr_page_map_00108:
1789  05F9  06 00       	ld	b,0x00
1790  05FB  21 00 00    	ld	hl,_scr_7
1791  05FE  09          	add	hl, bc
1792  05FF  7E          	ld	a, (hl)
1793  0600  DD 77 FF    	ld	(ix-1),a
1794  0603  21 00 00    	ld	hl,_scr_7
1795  0606  19          	add	hl, de
1796  0607  7E          	ld	a, (hl)
1797  0608  DD 77 FE    	ld	(ix-2),a
1798  060B              l_spr_page_map_00109:
1799  060B  DD 7E FF    	ld	a,(ix-1)
1800  060E  D6 80       	sub	a,0x80
1801  0610  30 14       	jr	NC,l_spr_page_map_00114
1802  0612  3E 00       	ld	a, +((_scr_map) & 0xFF)
1803  0614  DD 86 FD    	add	a,(ix-3)
1804  0617  5F          	ld	e, a
1805  0618  3E 00       	ld	a, +((_scr_map) / 256)
1806  061A  CE 00       	adc	a,0x00
1807  061C  57          	ld	d, a
1808  061D  DD 7E FF    	ld	a,(ix-1)
1809  0620  12          	ld	(de), a
1810  0621  DD 34 FD    	inc	(ix-3)
1811  0624  18 29       	jr	l_spr_page_map_00115
1812  0626              l_spr_page_map_00114:
1813  0626  DD 7E FF    	ld	a,(ix-1)
1814  0629  C6 80       	add	a,0x80
1815  062B  47          	ld	b, a
1816  062C  DD 5E FD    	ld	e,(ix-3)
1817  062F  16 00       	ld	d,0x00
1818  0631              l_spr_page_map_00120:
1819  0631  7A          	ld	a, d
1820  0632  90          	sub	a, b
1821  0633  30 16       	jr	NC,l_spr_page_map_00133
1822  0635  3E 00       	ld	a, +((_scr_map) & 0xFF)
1823  0637  83          	add	a, e
1824  0638  6F          	ld	l, a
1825  0639  3E 00       	ld	a, +((_scr_map) / 256)
1826  063B  CE 00       	adc	a,0x00
1827  063D  67          	ld	h, a
1828  063E  DD 7E FE    	ld	a,(ix-2)
1829  0641  77          	ld	(hl), a
1830  0642  1C          	inc	e
1831  0643  7B          	ld	a, e
1832  0644  D6 A0       	sub	a,0xa0
1833  0646  30 03       	jr	NC,l_spr_page_map_00133
1834  0648  14          	inc	d
1835  0649  18 E6       	jr	l_spr_page_map_00120
1836  064B              l_spr_page_map_00133:
1837  064B  DD 73 FD    	ld	(ix-3),e
1838  064E  0C          	inc	c
1839  064F              l_spr_page_map_00115:
1840  064F  DD 7E FD    	ld	a,(ix-3)
1841  0652  D6 A0       	sub	a,0xa0
1842  0654  30 07       	jr	NC,l_spr_page_map_00118
1843  0656  0C          	inc	c
1844  0657  79          	ld	a, c
1845  0658  D6 A0       	sub	a,0xa0
1846  065A  DA 3B 05    	jp	C, l_spr_page_map_00122
1847  065D              l_spr_page_map_00118:
1848  065D  CD 58 0E    	call	_spr_init_anim
1849  0660  DD F9       	ld	sp, ix
1850  0662  DD E1       	pop	ix
1851  0664  C9          	ret
1852  0665              	SECTION code_compiler
1853  0665              ;	---------------------------------
1854  0665              ; Function spr_redraw
1855  0665              ; ---------------------------------
1856  0665              _spr_redraw:
1857  0665  2A 00 00    	ld	hl,(_sprite)
1858  0668  26 00       	ld	h,0x00
1859  066A  01 00 00    	ld	bc,_tile
1860  066D  09          	add	hl,bc
1861  066E  4E          	ld	c, (hl)
1862  066F  3A 00 00    	ld	a,(_sprite)
1863  0672  5F          	ld	e,a
1864  0673  16 00       	ld	d,0x00
1865  0675  21 00 00    	ld	hl,_colint
1866  0678  19          	add	hl,de
1867  0679  7E          	ld	a,(hl)
1868  067A  81          	add	a,c
1869  067B  32 00 00    	ld	(_s_tile1),a
1870  067E  2A 00 00    	ld	hl,(_sprite)
1871  0681  26 00       	ld	h,0x00
1872  0683  01 00 00    	ld	bc,_col
1873  0686  09          	add	hl,bc
1874  0687  7E          	ld	a,(hl)
1875  0688  32 00 00    	ld	(_s_col1),a
1876  068B  2A 00 00    	ld	hl,(_sprite)
1877  068E  26 00       	ld	h,0x00
1878  0690  01 00 00    	ld	bc,_lin
1879  0693  09          	add	hl,bc
1880  0694  7E          	ld	a,(hl)
1881  0695  32 00 00    	ld	(_s_lin1),a
1882  0698  21 00 00    	ld	hl,_s_lin0
1883  069B  96          	sub	a, (hl)
1884  069C  20 09       	jr	NZ,l_spr_redraw_00105
1885  069E  3A 00 00    	ld	a,(_s_col1)
1886  06A1  21 00 00    	ld	hl,_s_col0
1887  06A4  96          	sub	a, (hl)
1888  06A5  28 30       	jr	Z,l_spr_redraw_00106
1889  06A7              l_spr_redraw_00105:
1890  06A7  3E 10       	ld	a,0x10
1891  06A9  21 00 00    	ld	hl,_s_lin0
1892  06AC  96          	sub	a, (hl)
1893  06AD  38 0E       	jr	C,l_spr_redraw_00102
1894  06AF  F3          	di
1895  06B0  3A 00 00    	ld	a,(_s_col0)
1896  06B3  F5          	push	af
1897  06B4  33          	inc	sp
1898  06B5  21 49 08    	ld	hl,0x0849
1899  06B8  E5          	push	hl
1900  06B9  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1901  06BC  FB          	ei
1902  06BD              l_spr_redraw_00102:
1903  06BD  2A FF FF    	ld	hl,(_s_col1 - 1)
1904  06C0  3A 00 00    	ld	a,(_s_lin1)
1905  06C3  6F          	ld	l,a
1906  06C4  E5          	push	hl
1907  06C5  2A FF FF    	ld	hl,(_s_tile1 - 1)
1908  06C8  3A 00 00    	ld	a,(_sprite)
1909  06CB  6F          	ld	l,a
1910  06CC  E5          	push	hl
1911  06CD  CD 00 00    	call	_NIRVANAP_spriteT_callee
1912  06D0  CD AD 0C    	call	_spr_back_clr
1913  06D3  2E 01       	ld	l,0x01
1914  06D5  18 22       	jr	l_spr_redraw_00109
1915  06D7              l_spr_redraw_00106:
1916  06D7  3A 00 00    	ld	a,(_s_tile1)
1917  06DA  21 00 00    	ld	hl,_s_tile0
1918  06DD  96          	sub	a, (hl)
1919  06DE  28 17       	jr	Z,l_spr_redraw_00107
1920  06E0  2A FF FF    	ld	hl,(_s_col1 - 1)
1921  06E3  3A 00 00    	ld	a,(_s_lin1)
1922  06E6  6F          	ld	l,a
1923  06E7  E5          	push	hl
1924  06E8  2A FF FF    	ld	hl,(_s_tile1 - 1)
1925  06EB  3A 00 00    	ld	a,(_sprite)
1926  06EE  6F          	ld	l,a
1927  06EF  E5          	push	hl
1928  06F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1929  06F3  2E 00       	ld	l,0x00
1930  06F5  18 02       	jr	l_spr_redraw_00109
1931  06F7              l_spr_redraw_00107:
1932  06F7  2E 00       	ld	l,0x00
1933  06F9              l_spr_redraw_00109:
1934  06F9  C9          	ret
1935  06FA              	SECTION code_compiler
1936  06FA              ;	---------------------------------
1937  06FA              ; Function spr_killed
1938  06FA              ; ---------------------------------
1939  06FA              _spr_killed:
1940  06FA  45          	ld	b,l
1941  06FB  11 00 00    	ld	de,_class+0
1942  06FE  26 00       	ld	h,0x00
1943  0700  19          	add	hl, de
1944  0701  7E          	ld	a, (hl)
1945  0702  FE 07       	cp	a,0x07
1946  0704  28 12       	jr	Z,l_spr_killed_00101
1947  0706  FE 08       	cp	a,0x08
1948  0708  28 24       	jr	Z,l_spr_killed_00103
1949  070A  FE 0A       	cp	a,0x0a
1950  070C  28 2B       	jr	Z,l_spr_killed_00104
1951  070E  FE 0B       	cp	a,0x0b
1952  0710  28 39       	jr	Z,l_spr_killed_00105
1953  0712  D6 0C       	sub	a,0x0c
1954  0714  28 0D       	jr	Z,l_spr_killed_00102
1955  0716  18 45       	jr	l_spr_killed_00106
1956  0718              l_spr_killed_00101:
1957  0718  3E 81       	ld	a,0x81
1958  071A  48          	ld	c,b
1959  071B  47          	ld	b,a
1960  071C  C5          	push	bc
1961  071D  CD 69 07    	call	_spr_anim_kill
1962  0720  F1          	pop	af
1963  0721  18 43       	jr	l_spr_killed_00107
1964  0723              l_spr_killed_00102:
1965  0723  3E BA       	ld	a,0xba
1966  0725  48          	ld	c,b
1967  0726  47          	ld	b,a
1968  0727  C5          	push	bc
1969  0728  CD 69 07    	call	_spr_anim_kill
1970  072B  F1          	pop	af
1971  072C  18 38       	jr	l_spr_killed_00107
1972  072E              l_spr_killed_00103:
1973  072E  3E BA       	ld	a,0xba
1974  0730  48          	ld	c,b
1975  0731  47          	ld	b,a
1976  0732  C5          	push	bc
1977  0733  CD 69 07    	call	_spr_anim_kill
1978  0736  F1          	pop	af
1979  0737  18 2D       	jr	l_spr_killed_00107
1980  0739              l_spr_killed_00104:
1981  0739  C5          	push	bc
1982  073A  68          	ld	l, b
1983  073B  CD 9C 08    	call	_spr_tile
1984  073E  C1          	pop	bc
1985  073F  55          	ld	d,l
1986  0740  14          	inc	d
1987  0741  14          	inc	d
1988  0742  14          	inc	d
1989  0743  58          	ld	e,b
1990  0744  D5          	push	de
1991  0745  CD 69 07    	call	_spr_anim_kill
1992  0748  F1          	pop	af
1993  0749  18 1B       	jr	l_spr_killed_00107
1994  074B              l_spr_killed_00105:
1995  074B  C5          	push	bc
1996  074C  68          	ld	l, b
1997  074D  CD 9C 08    	call	_spr_tile
1998  0750  C1          	pop	bc
1999  0751  55          	ld	d,l
2000  0752  14          	inc	d
2001  0753  14          	inc	d
2002  0754  14          	inc	d
2003  0755  58          	ld	e,b
2004  0756  D5          	push	de
2005  0757  CD 69 07    	call	_spr_anim_kill
2006  075A  F1          	pop	af
2007  075B  18 09       	jr	l_spr_killed_00107
2008  075D              l_spr_killed_00106:
2009  075D  3E BA       	ld	a,0xba
2010  075F  48          	ld	c,b
2011  0760  47          	ld	b,a
2012  0761  C5          	push	bc
2013  0762  CD 69 07    	call	_spr_anim_kill
2014  0765  F1          	pop	af
2015  0766              l_spr_killed_00107:
2016  0766  2E 00       	ld	l,0x00
2017  0768  C9          	ret
2018  0769              	SECTION code_compiler
2019  0769              ;	---------------------------------
2020  0769              ; Function spr_anim_kill
2021  0769              ; ---------------------------------
2022  0769              _spr_anim_kill:
2023  0769  CD 00 00    	call	___sdcc_enter_ix
2024  076C  F5          	push	af
2025  076D  DD 6E 04    	ld	l,(ix+4)
2026  0770  26 00       	ld	h,0x00
2027  0772  29          	add	hl,hl
2028  0773  4D          	ld	c,l
2029  0774  44          	ld	b,h
2030  0775  21 00 00    	ld	hl,_last_time
2031  0778  09          	add	hl,bc
2032  0779  E3          	ex	(sp), hl
2033  077A  E1          	pop	hl
2034  077B  ED 5B 00 00 	ld	de,(_curr_time)
2035  077F  E5          	push	hl
2036  0780  73          	ld	(hl), e
2037  0781  23          	inc	hl
2038  0782  72          	ld	(hl), d
2039  0783  2A 00 00    	ld	hl,(_curr_time)
2040  0786  5D          	ld	e,l
2041  0787  21 00 00    	ld	hl,_spr_timer
2042  078A  09          	add	hl, bc
2043  078B  4E          	ld	c, (hl)
2044  078C  7B          	ld	a, e
2045  078D  91          	sub	a, c
2046  078E  32 00 00    	ld	(_tmp0),a
2047  0791  21 00 00    	ld	hl,_tmp
2048  0794  36 02       	ld	(hl),0x02
2049  0796  3E 28       	ld	a,0x28
2050  0798  21 00 00    	ld	hl,_tmp0
2051  079B  96          	sub	a, (hl)
2052  079C  38 05       	jr	C,l_spr_anim_kill_00102
2053  079E  21 00 00    	ld	hl,_tmp
2054  07A1  36 01       	ld	(hl),0x01
2055  07A3              l_spr_anim_kill_00102:
2056  07A3  3E 14       	ld	a,0x14
2057  07A5  21 00 00    	ld	hl,_tmp0
2058  07A8  96          	sub	a, (hl)
2059  07A9  38 05       	jr	C,l_spr_anim_kill_00104
2060  07AB  21 00 00    	ld	hl,_tmp
2061  07AE  36 00       	ld	(hl),0x00
2062  07B0              l_spr_anim_kill_00104:
2063  07B0  3E 3C       	ld	a,0x3c
2064  07B2  21 00 00    	ld	hl,_tmp0
2065  07B5  96          	sub	a, (hl)
2066  07B6  38 2F       	jr	C,l_spr_anim_kill_00106
2067  07B8  3E 00       	ld	a, +((_col) & 0xFF)
2068  07BA  DD 86 04    	add	a,(ix+4)
2069  07BD  4F          	ld	c, a
2070  07BE  3E 00       	ld	a, +((_col) / 256)
2071  07C0  CE 00       	adc	a,0x00
2072  07C2  47          	ld	b, a
2073  07C3  0A          	ld	a, (bc)
2074  07C4  47          	ld	b, a
2075  07C5  3E 00       	ld	a, +((_lin) & 0xFF)
2076  07C7  DD 86 04    	add	a,(ix+4)
2077  07CA  5F          	ld	e, a
2078  07CB  3E 00       	ld	a, +((_lin) / 256)
2079  07CD  CE 00       	adc	a,0x00
2080  07CF  57          	ld	d, a
2081  07D0  1A          	ld	a, (de)
2082  07D1  57          	ld	d, a
2083  07D2  DD 7E 05    	ld	a,(ix+5)
2084  07D5  21 00 00    	ld	hl,_tmp
2085  07D8  86          	add	a, (hl)
2086  07D9  4A          	ld	c, d
2087  07DA  C5          	push	bc
2088  07DB  F5          	push	af
2089  07DC  33          	inc	sp
2090  07DD  DD 7E 04    	ld	a,(ix+4)
2091  07E0  F5          	push	af
2092  07E1  33          	inc	sp
2093  07E2  CD 00 00    	call	_NIRVANAP_spriteT_callee
2094  07E5  18 06       	jr	l_spr_anim_kill_00108
2095  07E7              l_spr_anim_kill_00106:
2096  07E7  DD 6E 04    	ld	l,(ix+4)
2097  07EA  CD F1 07    	call	_spr_destroy
2098  07ED              l_spr_anim_kill_00108:
2099  07ED  F1          	pop	af
2100  07EE  DD E1       	pop	ix
2101  07F0  C9          	ret
2102  07F1              	SECTION code_compiler
2103  07F1              ;	---------------------------------
2104  07F1              ; Function spr_destroy
2105  07F1              ; ---------------------------------
2106  07F1              _spr_destroy:
2107  07F1  CD 00 00    	call	___sdcc_enter_ix
2108  07F4  F5          	push	af
2109  07F5  4D          	ld	c, l
2110  07F6  21 00 00    	ld	hl,_spr_count
2111  07F9  35          	dec	(hl)
2112  07FA  3E 00       	ld	a, +((_lin) & 0xFF)
2113  07FC  81          	add	a, c
2114  07FD  DD 77 FE    	ld	(ix-2),a
2115  0800  3E 00       	ld	a, +((_lin) / 256)
2116  0802  CE 00       	adc	a,0x00
2117  0804  DD 77 FF    	ld	(ix-1),a
2118  0807  E1          	pop	hl
2119  0808  7E          	ld	a,(hl)
2120  0809  E5          	push	hl
2121  080A  32 00 00    	ld	(_s_lin0),a
2122  080D  3E 00       	ld	a, +((_col) & 0xFF)
2123  080F  81          	add	a, c
2124  0810  5F          	ld	e, a
2125  0811  3E 00       	ld	a, +((_col) / 256)
2126  0813  CE 00       	adc	a,0x00
2127  0815  57          	ld	d, a
2128  0816  1A          	ld	a, (de)
2129  0817  32 00 00    	ld	(_s_col0),a
2130  081A  06 00       	ld	b,0x00
2131  081C  21 00 00    	ld	hl,_tile
2132  081F  09          	add	hl, bc
2133  0820  AF          	xor	a,a
2134  0821  77          	ld	(hl),a
2135  0822  E1          	pop	hl
2136  0823  12          	ld	(de),a
2137  0824  E5          	push	hl
2138  0825  36 00       	ld	(hl),0x00
2139  0827  11 00 00    	ld	de,_class+0
2140  082A  69          	ld	l,c
2141  082B  26 00       	ld	h,0x00
2142  082D  19          	add	hl, de
2143  082E  36 00       	ld	(hl),0x00
2144  0830  11 00 00    	ld	de,_state+0
2145  0833  69          	ld	l,c
2146  0834  26 00       	ld	h,0x00
2147  0836  19          	add	hl, de
2148  0837  36 00       	ld	(hl),0x00
2149  0839  11 00 00    	ld	de,_state_a+0
2150  083C  69          	ld	l,c
2151  083D  26 00       	ld	h,0x00
2152  083F  19          	add	hl, de
2153  0840  36 00       	ld	(hl),0x00
2154  0842  21 00 00    	ld	hl,0x0000
2155  0845  E5          	push	hl
2156  0846  AF          	xor	a, a
2157  0847  F5          	push	af
2158  0848  33          	inc	sp
2159  0849  79          	ld	a, c
2160  084A  F5          	push	af
2161  084B  33          	inc	sp
2162  084C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2163  084F  76          	halt
2164  0850  3A 00 00    	ld	a,(_s_col0)
2165  0853  F5          	push	af
2166  0854  33          	inc	sp
2167  0855  3A 00 00    	ld	a,(_s_lin0)
2168  0858  57          	ld	d,a
2169  0859  1E 49       	ld	e,0x49
2170  085B  D5          	push	de
2171  085C  CD 00 00    	call	_NIRVANAP_fillT_callee
2172  085F  F1          	pop	af
2173  0860  DD E1       	pop	ix
2174  0862  C9          	ret
2175  0863              	SECTION code_compiler
2176  0863              ;	---------------------------------
2177  0863              ; Function spr_set_fall
2178  0863              ; ---------------------------------
2179  0863              _spr_set_fall:
2180  0863  21 00 00    	ld	hl,_s_state
2181  0866  7E          	ld	a,(hl)
2182  0867  E6 FE       	and	a,0xfe
2183  0869  F6 02       	or	a,0x02
2184  086B  77          	ld	(hl),a
2185  086C  21 00 00    	ld	hl,_sprite
2186  086F  7E          	ld	a, (hl)
2187  0870  D6 06       	sub	a,0x06
2188  0872  38 0E       	jr	C,l_spr_set_fall_00104
2189  0874  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2190  0876  86          	add	a, (hl)
2191  0877  4F          	ld	c, a
2192  0878  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2193  087A  CE 00       	adc	a,0x00
2194  087C  47          	ld	b, a
2195  087D  3E 02       	ld	a,0x02
2196  087F  02          	ld	(bc), a
2197  0880  18 19       	jr	l_spr_set_fall_00106
2198  0882              l_spr_set_fall_00104:
2199  0882  2A 00 00    	ld	hl,(_sprite)
2200  0885  26 00       	ld	h,0x00
2201  0887  01 00 00    	ld	bc,_class
2202  088A  09          	add	hl,bc
2203  088B  4E          	ld	c,(hl)
2204  088C  3E 08       	ld	a,0x08
2205  088E  91          	sub	a,c
2206  088F  D8          	ret	C
2207  0890  2A 00 00    	ld	hl,(_sprite)
2208  0893  26 00       	ld	h,0x00
2209  0895  01 00 00    	ld	bc,_sprite_speed_alt
2210  0898  09          	add	hl,bc
2211  0899  36 01       	ld	(hl),0x01
2212  089B              l_spr_set_fall_00106:
2213  089B  C9          	ret
2214  089C              	SECTION code_compiler
2215  089C              ;	---------------------------------
2216  089C              ; Function spr_tile
2217  089C              ; ---------------------------------
2218  089C              _spr_tile:
2219  089C  45          	ld	b, l
2220  089D  0E 00       	ld	c,0x00
2221  089F  11 00 00    	ld	de,_state+0
2222  08A2  68          	ld	l,b
2223  08A3  26 00       	ld	h,0x00
2224  08A5  19          	add	hl, de
2225  08A6  5E          	ld	e, (hl)
2226  08A7  CB 73       	bit	6, e
2227  08A9  28 02       	jr	Z,l_spr_tile_00102
2228  08AB  0E 03       	ld	c,0x03
2229  08AD              l_spr_tile_00102:
2230  08AD  CB 63       	bit	4, e
2231  08AF  28 02       	jr	Z,l_spr_tile_00104
2232  08B1  0E 06       	ld	c,0x06
2233  08B3              l_spr_tile_00104:
2234  08B3  11 00 00    	ld	de,_class+0
2235  08B6  68          	ld	l,b
2236  08B7  26 00       	ld	h,0x00
2237  08B9  19          	add	hl, de
2238  08BA  5E          	ld	e, (hl)
2239  08BB  3E 0C       	ld	a,0x0c
2240  08BD  93          	sub	a, e
2241  08BE  DA 4B 09    	jp	C, l_spr_tile_00117
2242  08C1  16 00       	ld	d,0x00
2243  08C3  21 CA 08    	ld	hl,l_spr_tile_00134
2244  08C6  19          	add	hl, de
2245  08C7  19          	add	hl, de
2246  08C8  19          	add	hl, de
2247  08C9  E9          	jp	(hl)
2248  08CA              l_spr_tile_00134:
2249  08CA  C3 4B 09    	jp	l_spr_tile_00117
2250  08CD  C3 F1 08    	jp	l_spr_tile_00105
2251  08D0  C3 01 09    	jp	l_spr_tile_00106
2252  08D3  C3 11 09    	jp	l_spr_tile_00107
2253  08D6  C3 21 09    	jp	l_spr_tile_00108
2254  08D9  C3 27 09    	jp	l_spr_tile_00109
2255  08DC  C3 2D 09    	jp	l_spr_tile_00110
2256  08DF  C3 33 09    	jp	l_spr_tile_00111
2257  08E2  C3 37 09    	jp	l_spr_tile_00112
2258  08E5  C3 3F 09    	jp	l_spr_tile_00114
2259  08E8  C3 43 09    	jp	l_spr_tile_00115
2260  08EB  C3 47 09    	jp	l_spr_tile_00116
2261  08EE  C3 3B 09    	jp	l_spr_tile_00113
2262  08F1              l_spr_tile_00105:
2263  08F1  3E 03       	ld	a,0x03
2264  08F3  48          	ld	c,b
2265  08F4  47          	ld	b,a
2266  08F5  C5          	push	bc
2267  08F6  3E 30       	ld	a,0x30
2268  08F8  F5          	push	af
2269  08F9  33          	inc	sp
2270  08FA  CD 4E 09    	call	_spr_tile_dir
2271  08FD  F1          	pop	af
2272  08FE  33          	inc	sp
2273  08FF  18 4C       	jr	l_spr_tile_00118
2274  0901              l_spr_tile_00106:
2275  0901  3E 03       	ld	a,0x03
2276  0903  48          	ld	c,b
2277  0904  47          	ld	b,a
2278  0905  C5          	push	bc
2279  0906  3E 3C       	ld	a,0x3c
2280  0908  F5          	push	af
2281  0909  33          	inc	sp
2282  090A  CD 4E 09    	call	_spr_tile_dir
2283  090D  F1          	pop	af
2284  090E  33          	inc	sp
2285  090F  18 3C       	jr	l_spr_tile_00118
2286  0911              l_spr_tile_00107:
2287  0911  3E 03       	ld	a,0x03
2288  0913  48          	ld	c,b
2289  0914  47          	ld	b,a
2290  0915  C5          	push	bc
2291  0916  3E 48       	ld	a,0x48
2292  0918  F5          	push	af
2293  0919  33          	inc	sp
2294  091A  CD 4E 09    	call	_spr_tile_dir
2295  091D  F1          	pop	af
2296  091E  33          	inc	sp
2297  091F  18 2C       	jr	l_spr_tile_00118
2298  0921              l_spr_tile_00108:
2299  0921  79          	ld	a, c
2300  0922  C6 54       	add	a,0x54
2301  0924  6F          	ld	l, a
2302  0925  18 26       	jr	l_spr_tile_00118
2303  0927              l_spr_tile_00109:
2304  0927  79          	ld	a, c
2305  0928  C6 60       	add	a,0x60
2306  092A  6F          	ld	l, a
2307  092B  18 20       	jr	l_spr_tile_00118
2308  092D              l_spr_tile_00110:
2309  092D  79          	ld	a, c
2310  092E  C6 6C       	add	a,0x6c
2311  0930  6F          	ld	l, a
2312  0931  18 1A       	jr	l_spr_tile_00118
2313  0933              l_spr_tile_00111:
2314  0933  2E 7B       	ld	l,0x7b
2315  0935  18 16       	jr	l_spr_tile_00118
2316  0937              l_spr_tile_00112:
2317  0937  2E B4       	ld	l,0xb4
2318  0939  18 12       	jr	l_spr_tile_00118
2319  093B              l_spr_tile_00113:
2320  093B  2E B7       	ld	l,0xb7
2321  093D  18 0E       	jr	l_spr_tile_00118
2322  093F              l_spr_tile_00114:
2323  093F  2E 78       	ld	l,0x78
2324  0941  18 0A       	jr	l_spr_tile_00118
2325  0943              l_spr_tile_00115:
2326  0943  2E 90       	ld	l,0x90
2327  0945  18 06       	jr	l_spr_tile_00118
2328  0947              l_spr_tile_00116:
2329  0947  2E 96       	ld	l,0x96
2330  0949  18 02       	jr	l_spr_tile_00118
2331  094B              l_spr_tile_00117:
2332  094B  2E 00       	ld	l,0x00
2333  094D              l_spr_tile_00118:
2334  094D  C9          	ret
2335  094E              	SECTION code_compiler
2336  094E              ;	---------------------------------
2337  094E              ; Function spr_tile_dir
2338  094E              ; ---------------------------------
2339  094E              _spr_tile_dir:
2340  094E  CD 00 00    	call	___sdcc_enter_ix
2341  0951  3E 00       	ld	a, +((_state) & 0xFF)
2342  0953  DD 86 05    	add	a,(ix+5)
2343  0956  4F          	ld	c, a
2344  0957  3E 00       	ld	a, +((_state) / 256)
2345  0959  CE 00       	adc	a,0x00
2346  095B  47          	ld	b, a
2347  095C  0A          	ld	a, (bc)
2348  095D  4F          	ld	c,a
2349  095E  CB 57       	bit	2,a
2350  0960  28 05       	jr	Z,l_spr_tile_dir_00102
2351  0962  DD 6E 04    	ld	l,(ix+4)
2352  0965  18 2D       	jr	l_spr_tile_dir_00109
2353  0967              l_spr_tile_dir_00102:
2354  0967  DD 7E 04    	ld	a,(ix+4)
2355  096A  DD 86 06    	add	a,(ix+6)
2356  096D  47          	ld	b, a
2357  096E  CB 59       	bit	3, c
2358  0970  28 03       	jr	Z,l_spr_tile_dir_00104
2359  0972  68          	ld	l, b
2360  0973  18 1F       	jr	l_spr_tile_dir_00109
2361  0975              l_spr_tile_dir_00104:
2362  0975  3E 00       	ld	a, +((_state_a) & 0xFF)
2363  0977  DD 86 05    	add	a,(ix+5)
2364  097A  5F          	ld	e, a
2365  097B  3E 00       	ld	a, +((_state_a) / 256)
2366  097D  CE 00       	adc	a,0x00
2367  097F  57          	ld	d, a
2368  0980  1A          	ld	a, (de)
2369  0981  CB 67       	bit	4, a
2370  0983  28 05       	jr	Z,l_spr_tile_dir_00106
2371  0985  DD 6E 04    	ld	l,(ix+4)
2372  0988  18 0A       	jr	l_spr_tile_dir_00109
2373  098A              l_spr_tile_dir_00106:
2374  098A  CB 5F       	bit	3, a
2375  098C  28 03       	jr	Z,l_spr_tile_dir_00108
2376  098E  68          	ld	l, b
2377  098F  18 03       	jr	l_spr_tile_dir_00109
2378  0991              l_spr_tile_dir_00108:
2379  0991  DD 6E 04    	ld	l,(ix+4)
2380  0994              l_spr_tile_dir_00109:
2381  0994  DD E1       	pop	ix
2382  0996  C9          	ret
2383  0997              	SECTION code_compiler
2384  0997              ;	---------------------------------
2385  0997              ; Function spr_draw_background
2386  0997              ; ---------------------------------
2387  0997              _spr_draw_background:
2388  0997  76          	halt
2389  0998  21 10 00    	ld	hl,0x0010
2390  099B  22 00 00    	ld	(_index1),hl
2391  099E  21 00 00    	ld	hl,_s_lin1
2392  09A1  36 00       	ld	(hl),0x00
2393  09A3  21 00 00    	ld	hl,_s_col1
2394  09A6  36 02       	ld	(hl),0x02
2395  09A8              l_spr_draw_background_00103:
2396  09A8  21 00 00    	ld	hl,_index1
2397  09AB  7E          	ld	a, (hl)
2398  09AC  D6 A0       	sub	a,0xa0
2399  09AE  23          	inc	hl
2400  09AF  7E          	ld	a, (hl)
2401  09B0  DE 00       	sbc	a,0x00
2402  09B2  30 37       	jr	NC,l_spr_draw_background_00106
2403  09B4  2B          	dec	hl
2404  09B5  7E          	ld	a, (hl)
2405  09B6  E6 0F       	and	a,0x0f
2406  09B8  20 0C       	jr	NZ,l_spr_draw_background_00102
2407  09BA  21 00 00    	ld	hl,_s_lin1
2408  09BD  7E          	ld	a, (hl)
2409  09BE  C6 10       	add	a,0x10
2410  09C0  77          	ld	(hl), a
2411  09C1  21 00 00    	ld	hl,_s_col1
2412  09C4  36 00       	ld	(hl),0x00
2413  09C6              l_spr_draw_background_00102:
2414  09C6  01 00 00    	ld	bc,_scr_map
2415  09C9  2A 00 00    	ld	hl,(_index1)
2416  09CC  09          	add	hl,bc
2417  09CD  46          	ld	b, (hl)
2418  09CE  3A 00 00    	ld	a,(_s_col1)
2419  09D1  F5          	push	af
2420  09D2  33          	inc	sp
2421  09D3  3A 00 00    	ld	a,(_s_lin1)
2422  09D6  48          	ld	c,b
2423  09D7  47          	ld	b,a
2424  09D8  C5          	push	bc
2425  09D9  CD 00 00    	call	_NIRVANAP_drawT_callee
2426  09DC  21 00 00    	ld	hl,_s_col1
2427  09DF  34          	inc	(hl)
2428  09E0  34          	inc	(hl)
2429  09E1  21 00 00    	ld	hl,_index1
2430  09E4  34          	inc	(hl)
2431  09E5  20 C1       	jr	NZ,l_spr_draw_background_00103
2432  09E7  23          	inc	hl
2433  09E8  34          	inc	(hl)
2434  09E9  18 BD       	jr	l_spr_draw_background_00103
2435  09EB              l_spr_draw_background_00106:
2436  09EB  C9          	ret
2437  09EC              	SECTION code_compiler
2438  09EC              ;	---------------------------------
2439  09EC              ; Function spr_draw_clear
2440  09EC              ; ---------------------------------
2441  09EC              _spr_draw_clear:
2442  09EC  F3          	di
2443  09ED  2E 00       	ld	l,0x00
2444  09EF  CD 00 00    	call	_zx_cls_fastcall
2445  09F2  21 00 00    	ld	hl,_s_lin1
2446  09F5  36 10       	ld	(hl),0x10
2447  09F7              l_spr_draw_clear_00105:
2448  09F7  21 00 00    	ld	hl,_s_col1
2449  09FA  36 00       	ld	(hl),0x00
2450  09FC              l_spr_draw_clear_00103:
2451  09FC  2A FF FF    	ld	hl,(_s_col1 - 1)
2452  09FF  3A 00 00    	ld	a,(_s_lin1)
2453  0A02  6F          	ld	l,a
2454  0A03  E5          	push	hl
2455  0A04  AF          	xor	a, a
2456  0A05  F5          	push	af
2457  0A06  33          	inc	sp
2458  0A07  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2459  0A0A  21 00 00    	ld	hl,_s_col1
2460  0A0D  7E          	ld	a,(hl)
2461  0A0E  C6 02       	add	a,0x02
2462  0A10  77          	ld	(hl),a
2463  0A11  D6 20       	sub	a,0x20
2464  0A13  38 E7       	jr	C,l_spr_draw_clear_00103
2465  0A15  21 00 00    	ld	hl,_s_lin1
2466  0A18  7E          	ld	a, (hl)
2467  0A19  C6 10       	add	a,0x10
2468  0A1B  77          	ld	(hl), a
2469  0A1C  3E A2       	ld	a,0xa2
2470  0A1E  96          	sub	a, (hl)
2471  0A1F  30 D6       	jr	NC,l_spr_draw_clear_00105
2472  0A21  FB          	ei
2473  0A22  C9          	ret
2474  0A23              	SECTION code_compiler
2475  0A23              ;	---------------------------------
2476  0A23              ; Function spr_back_paint
2477  0A23              ; ---------------------------------
2478  0A23              _spr_back_paint:
2479  0A23  CD 00 00    	call	___sdcc_enter_ix
2480  0A26  76          	halt
2481  0A27  F3          	di
2482  0A28  DD 7E 04    	ld	a,(ix+4)
2483  0A2B  C6 40       	add	a,0x40
2484  0A2D  4F          	ld	c, a
2485  0A2E  DD 7E 05    	ld	a,(ix+5)
2486  0A31  CE 00       	adc	a,0x00
2487  0A33  47          	ld	b, a
2488  0A34  C5          	push	bc
2489  0A35  CD 1F 0B    	call	_spr_draw_index
2490  0A38  F1          	pop	af
2491  0A39  DD 7E 04    	ld	a,(ix+4)
2492  0A3C  C6 42       	add	a,0x42
2493  0A3E  4F          	ld	c, a
2494  0A3F  DD 7E 05    	ld	a,(ix+5)
2495  0A42  CE 00       	adc	a,0x00
2496  0A44  47          	ld	b, a
2497  0A45  C5          	push	bc
2498  0A46  CD 1F 0B    	call	_spr_draw_index
2499  0A49  F1          	pop	af
2500  0A4A  DD 7E 04    	ld	a,(ix+4)
2501  0A4D  C6 44       	add	a,0x44
2502  0A4F  4F          	ld	c, a
2503  0A50  DD 7E 05    	ld	a,(ix+5)
2504  0A53  CE 00       	adc	a,0x00
2505  0A55  47          	ld	b, a
2506  0A56  C5          	push	bc
2507  0A57  CD 1F 0B    	call	_spr_draw_index
2508  0A5A  F1          	pop	af
2509  0A5B  DD 7E 04    	ld	a,(ix+4)
2510  0A5E  C6 80       	add	a,0x80
2511  0A60  4F          	ld	c, a
2512  0A61  DD 7E 05    	ld	a,(ix+5)
2513  0A64  CE 00       	adc	a,0x00
2514  0A66  47          	ld	b, a
2515  0A67  C5          	push	bc
2516  0A68  CD 1F 0B    	call	_spr_draw_index
2517  0A6B  F1          	pop	af
2518  0A6C  DD 7E 04    	ld	a,(ix+4)
2519  0A6F  C6 82       	add	a,0x82
2520  0A71  4F          	ld	c, a
2521  0A72  DD 7E 05    	ld	a,(ix+5)
2522  0A75  CE 00       	adc	a,0x00
2523  0A77  47          	ld	b, a
2524  0A78  C5          	push	bc
2525  0A79  CD 1F 0B    	call	_spr_draw_index
2526  0A7C  F1          	pop	af
2527  0A7D  DD 7E 04    	ld	a,(ix+4)
2528  0A80  C6 84       	add	a,0x84
2529  0A82  4F          	ld	c, a
2530  0A83  DD 7E 05    	ld	a,(ix+5)
2531  0A86  CE 00       	adc	a,0x00
2532  0A88  47          	ld	b, a
2533  0A89  C5          	push	bc
2534  0A8A  CD 1F 0B    	call	_spr_draw_index
2535  0A8D  F1          	pop	af
2536  0A8E  FB          	ei
2537  0A8F  DD E1       	pop	ix
2538  0A91  C9          	ret
2539  0A92              	SECTION code_compiler
2540  0A92              ;	---------------------------------
2541  0A92              ; Function spr_brick_anim
2542  0A92              ; ---------------------------------
2543  0A92              _spr_brick_anim:
2544  0A92  CD 00 00    	call	___sdcc_enter_ix
2545  0A95  F5          	push	af
2546  0A96  DD 75 FF    	ld	(ix-1),l
2547  0A99  21 00 00    	ld	hl,_player_hit_col
2548  0A9C  56          	ld	d, (hl)
2549  0A9D  21 00 00    	ld	hl,_player_hit_lin
2550  0AA0  5E          	ld	e, (hl)
2551  0AA1  D5          	push	de
2552  0AA2  D5          	push	de
2553  0AA3  CD 00 00    	call	_spr_calc_index
2554  0AA6  F1          	pop	af
2555  0AA7  D1          	pop	de
2556  0AA8  22 00 00    	ld	(_index1),hl
2557  0AAB  01 F0 FF    	ld	bc,0xfff0
2558  0AAE  09          	add	hl,bc
2559  0AAF  01 00 00    	ld	bc,_scr_map
2560  0AB2  09          	add	hl,bc
2561  0AB3  7E          	ld	a, (hl)
2562  0AB4  DD 77 FE    	ld	(ix-2),a
2563  0AB7  01 00 00    	ld	bc,_scr_map
2564  0ABA  2A 00 00    	ld	hl,(_index1)
2565  0ABD  09          	add	hl,bc
2566  0ABE  4D          	ld	c,l
2567  0ABF  46          	ld	b, (hl)
2568  0AC0  DD 7E FF    	ld	a,(ix-1)
2569  0AC3  B7          	or	a, a
2570  0AC4  28 08       	jr	Z,l_spr_brick_anim_00102
2571  0AC6  7B          	ld	a, e
2572  0AC7  C6 F6       	add	a,0xf6
2573  0AC9  32 00 00    	ld	(_tmp),a
2574  0ACC  18 06       	jr	l_spr_brick_anim_00103
2575  0ACE              l_spr_brick_anim_00102:
2576  0ACE  7B          	ld	a, e
2577  0ACF  C6 F8       	add	a,0xf8
2578  0AD1  32 00 00    	ld	(_tmp),a
2579  0AD4              l_spr_brick_anim_00103:
2580  0AD4  DD 7E FF    	ld	a,(ix-1)
2581  0AD7  B7          	or	a, a
2582  0AD8  28 23       	jr	Z,l_spr_brick_anim_00105
2583  0ADA  D5          	push	de
2584  0ADB  D5          	push	de
2585  0ADC  33          	inc	sp
2586  0ADD  53          	ld	d, e
2587  0ADE  1E 49       	ld	e,0x49
2588  0AE0  D5          	push	de
2589  0AE1  CD 00 00    	call	_NIRVANAP_fillC_callee
2590  0AE4  D1          	pop	de
2591  0AE5  62          	ld	h, d
2592  0AE6  24          	inc	h
2593  0AE7  D5          	push	de
2594  0AE8  E5          	push	hl
2595  0AE9  33          	inc	sp
2596  0AEA  53          	ld	d, e
2597  0AEB  1E 49       	ld	e,0x49
2598  0AED  D5          	push	de
2599  0AEE  CD 00 00    	call	_NIRVANAP_fillC_callee
2600  0AF1  33          	inc	sp
2601  0AF2  3A 00 00    	ld	a,(_tmp)
2602  0AF5  48          	ld	c,b
2603  0AF6  47          	ld	b,a
2604  0AF7  C5          	push	bc
2605  0AF8  CD 00 00    	call	_NIRVANAP_drawT_callee
2606  0AFB  18 1E       	jr	l_spr_brick_anim_00107
2607  0AFD              l_spr_brick_anim_00105:
2608  0AFD  3A 00 00    	ld	a,(_tmp)
2609  0B00  C6 F0       	add	a,0xf0
2610  0B02  C5          	push	bc
2611  0B03  D5          	push	de
2612  0B04  5F          	ld	e,a
2613  0B05  D5          	push	de
2614  0B06  DD 7E FE    	ld	a,(ix-2)
2615  0B09  F5          	push	af
2616  0B0A  33          	inc	sp
2617  0B0B  CD 00 00    	call	_NIRVANAP_drawT_callee
2618  0B0E  D1          	pop	de
2619  0B0F  C1          	pop	bc
2620  0B10  D5          	push	de
2621  0B11  33          	inc	sp
2622  0B12  3A 00 00    	ld	a,(_tmp)
2623  0B15  48          	ld	c,b
2624  0B16  47          	ld	b,a
2625  0B17  C5          	push	bc
2626  0B18  CD 00 00    	call	_NIRVANAP_drawT_callee
2627  0B1B              l_spr_brick_anim_00107:
2628  0B1B  F1          	pop	af
2629  0B1C  DD E1       	pop	ix
2630  0B1E  C9          	ret
2631  0B1F              	SECTION code_compiler
2632  0B1F              ;	---------------------------------
2633  0B1F              ; Function spr_draw_index
2634  0B1F              ; ---------------------------------
2635  0B1F              _spr_draw_index:
2636  0B1F  CD 00 00    	call	___sdcc_enter_ix
2637  0B22  DD 7E 04    	ld	a,(ix+4)
2638  0B25  E6 1F       	and	a,0x1f
2639  0B27  32 00 00    	ld	(_s_col1),a
2640  0B2A  DD 4E 04    	ld	c,(ix+4)
2641  0B2D  DD 5E 05    	ld	e,(ix+5)
2642  0B30  06 05       	ld	b,0x05
2643  0B32  79          	ld	a,c
2644  0B33              l_spr_draw_index_00103:
2645  0B33  CB 3B       	srl	e
2646  0B35  1F          	rra
2647  0B36  10 FB       	djnz	l_spr_draw_index_00103
2648  0B38  21 00 00    	ld	hl,_s_lin1
2649  0B3B  77          	ld	(hl),a
2650  0B3C  07          	rlca
2651  0B3D  07          	rlca
2652  0B3E  07          	rlca
2653  0B3F  E6 F8       	and	a,0xf8
2654  0B41  77          	ld	(hl), a
2655  0B42  3E 00       	ld	a, +((_scr_map) & 0xFF)
2656  0B44  DD 86 04    	add	a,(ix+4)
2657  0B47  4F          	ld	c, a
2658  0B48  3E 00       	ld	a, +((_scr_map) / 256)
2659  0B4A  DD 8E 05    	adc	a,(ix+5)
2660  0B4D  47          	ld	b, a
2661  0B4E  0A          	ld	a, (bc)
2662  0B4F  47          	ld	b, a
2663  0B50  3A 00 00    	ld	a,(_s_col1)
2664  0B53  F5          	push	af
2665  0B54  33          	inc	sp
2666  0B55  3A 00 00    	ld	a,(_s_lin1)
2667  0B58  48          	ld	c,b
2668  0B59  47          	ld	b,a
2669  0B5A  C5          	push	bc
2670  0B5B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2671  0B5E  DD E1       	pop	ix
2672  0B60  C9          	ret
2673  0B61              	SECTION code_compiler
2674  0B61              ;	---------------------------------
2675  0B61              ; Function spr_draw_row
2676  0B61              ; ---------------------------------
2677  0B61              _spr_draw_row:
2678  0B61  CD 00 00    	call	___sdcc_enter_ix
2679  0B64  3B          	dec	sp
2680  0B65  F3          	di
2681  0B66  21 00 00    	ld	hl,_tmp
2682  0B69  36 00       	ld	(hl),0x00
2683  0B6B  DD 7E 04    	ld	a,(ix+4)
2684  0B6E  07          	rlca
2685  0B6F  07          	rlca
2686  0B70  07          	rlca
2687  0B71  E6 F8       	and	a,0xf8
2688  0B73  DD 77 FF    	ld	(ix-1),a
2689  0B76              l_spr_draw_row_00101:
2690  0B76  21 00 00    	ld	hl,_tmp
2691  0B79  7E          	ld	a, (hl)
2692  0B7A  D6 20       	sub	a,0x20
2693  0B7C  30 38       	jr	NC,l_spr_draw_row_00103
2694  0B7E  DD 4E 04    	ld	c,(ix+4)
2695  0B81  3E 00       	ld	a,0x00
2696  0B83  CB 21       	sla	c
2697  0B85  17          	rla
2698  0B86  CB 21       	sla	c
2699  0B88  17          	rla
2700  0B89  CB 21       	sla	c
2701  0B8B  17          	rla
2702  0B8C  CB 21       	sla	c
2703  0B8E  17          	rla
2704  0B8F  CB 21       	sla	c
2705  0B91  17          	rla
2706  0B92  47          	ld	b,a
2707  0B93  5E          	ld	e, (hl)
2708  0B94  16 00       	ld	d,0x00
2709  0B96  79          	ld	a, c
2710  0B97  83          	add	a, e
2711  0B98  21 00 00    	ld	hl,_index1
2712  0B9B  77          	ld	(hl), a
2713  0B9C  78          	ld	a, b
2714  0B9D  8A          	adc	a, d
2715  0B9E  23          	inc	hl
2716  0B9F  77          	ld	(hl), a
2717  0BA0  2A FF FF    	ld	hl,(_tmp-1)
2718  0BA3  DD 6E FF    	ld	l,(ix-1)
2719  0BA6  3A 00 00    	ld	a,(_game_brick_tile)
2720  0BA9  E5          	push	hl
2721  0BAA  F5          	push	af
2722  0BAB  33          	inc	sp
2723  0BAC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2724  0BAF  21 00 00    	ld	hl,_tmp
2725  0BB2  34          	inc	(hl)
2726  0BB3  34          	inc	(hl)
2727  0BB4  18 C0       	jr	l_spr_draw_row_00101
2728  0BB6              l_spr_draw_row_00103:
2729  0BB6  FB          	ei
2730  0BB7  33          	inc	sp
2731  0BB8  DD E1       	pop	ix
2732  0BBA  C9          	ret
2733  0BBB              	SECTION code_compiler
2734  0BBB              ;	---------------------------------
2735  0BBB              ; Function spr_calc_hor
2736  0BBB              ; ---------------------------------
2737  0BBB              _spr_calc_hor:
2738  0BBB  CD 00 00    	call	___sdcc_enter_ix
2739  0BBE  3E 00       	ld	a, +((_class) & 0xFF)
2740  0BC0  DD 86 04    	add	a,(ix+4)
2741  0BC3  4F          	ld	c, a
2742  0BC4  3E 00       	ld	a, +((_class) / 256)
2743  0BC6  CE 00       	adc	a,0x00
2744  0BC8  47          	ld	b, a
2745  0BC9  0A          	ld	a, (bc)
2746  0BCA  D6 0C       	sub	a,0x0c
2747  0BCC  28 20       	jr	Z,l_spr_calc_hor_00102
2748  0BCE  3E 00       	ld	a, +((_col) & 0xFF)
2749  0BD0  DD 86 04    	add	a,(ix+4)
2750  0BD3  4F          	ld	c, a
2751  0BD4  3E 00       	ld	a, +((_col) / 256)
2752  0BD6  CE 00       	adc	a,0x00
2753  0BD8  47          	ld	b, a
2754  0BD9  0A          	ld	a, (bc)
2755  0BDA  4F          	ld	c, a
2756  0BDB  87          	add	a, a
2757  0BDC  81          	add	a, c
2758  0BDD  4F          	ld	c, a
2759  0BDE  3E 00       	ld	a, +((_colint) & 0xFF)
2760  0BE0  DD 86 04    	add	a,(ix+4)
2761  0BE3  5F          	ld	e, a
2762  0BE4  3E 00       	ld	a, +((_colint) / 256)
2763  0BE6  CE 00       	adc	a,0x00
2764  0BE8  57          	ld	d, a
2765  0BE9  1A          	ld	a, (de)
2766  0BEA  6F          	ld	l, a
2767  0BEB  09          	add	hl, bc
2768  0BEC  18 10       	jr	l_spr_calc_hor_00104
2769  0BEE              l_spr_calc_hor_00102:
2770  0BEE  3E 00       	ld	a, +((_col) & 0xFF)
2771  0BF0  DD 86 04    	add	a,(ix+4)
2772  0BF3  4F          	ld	c, a
2773  0BF4  3E 00       	ld	a, +((_col) / 256)
2774  0BF6  CE 00       	adc	a,0x00
2775  0BF8  47          	ld	b, a
2776  0BF9  0A          	ld	a, (bc)
2777  0BFA  4F          	ld	c, a
2778  0BFB  69          	ld	l, c
2779  0BFC  29          	add	hl, hl
2780  0BFD  09          	add	hl, bc
2781  0BFE              l_spr_calc_hor_00104:
2782  0BFE  DD E1       	pop	ix
2783  0C00  C9          	ret
2784  0C01              	SECTION code_compiler
2785  0C01              ;	---------------------------------
2786  0C01              ; Function spr_collision_check
2787  0C01              ; ---------------------------------
2788  0C01              _spr_collision_check:
2789  0C01  CD 00 00    	call	___sdcc_enter_ix
2790  0C04  3E 00       	ld	a, +((_class) & 0xFF)
2791  0C06  DD 86 05    	add	a,(ix+5)
2792  0C09  4F          	ld	c, a
2793  0C0A  3E 00       	ld	a, +((_class) / 256)
2794  0C0C  CE 00       	adc	a,0x00
2795  0C0E  47          	ld	b, a
2796  0C0F  0A          	ld	a, (bc)
2797  0C10  B7          	or	a, a
2798  0C11  28 10       	jr	Z,l_spr_collision_check_00101
2799  0C13  3E 00       	ld	a, +((_state) & 0xFF)
2800  0C15  DD 86 05    	add	a,(ix+5)
2801  0C18  4F          	ld	c, a
2802  0C19  3E 00       	ld	a, +((_state) / 256)
2803  0C1B  CE 00       	adc	a,0x00
2804  0C1D  47          	ld	b, a
2805  0C1E  0A          	ld	a, (bc)
2806  0C1F  CB 6F       	bit	5, a
2807  0C21  28 04       	jr	Z,l_spr_collision_check_00102
2808  0C23              l_spr_collision_check_00101:
2809  0C23  2E 00       	ld	l,0x00
2810  0C25  18 6D       	jr	l_spr_collision_check_00109
2811  0C27              l_spr_collision_check_00102:
2812  0C27  01 00 00    	ld	bc,_lin+0
2813  0C2A  79          	ld	a, c
2814  0C2B  DD 86 05    	add	a,(ix+5)
2815  0C2E  5F          	ld	e, a
2816  0C2F  78          	ld	a, b
2817  0C30  CE 00       	adc	a,0x00
2818  0C32  57          	ld	d, a
2819  0C33  1A          	ld	a, (de)
2820  0C34  5F          	ld	e, a
2821  0C35  16 00       	ld	d,0x00
2822  0C37  79          	ld	a, c
2823  0C38  DD 86 04    	add	a,(ix+4)
2824  0C3B  4F          	ld	c, a
2825  0C3C  78          	ld	a, b
2826  0C3D  CE 00       	adc	a,0x00
2827  0C3F  47          	ld	b, a
2828  0C40  0A          	ld	a, (bc)
2829  0C41  4F          	ld	c, a
2830  0C42  AF          	xor	a,a
2831  0C43  47          	ld	b,a
2832  0C44  EB          	ex	de,hl
2833  0C45  ED 42       	sbc	hl,bc
2834  0C47  CD 00 00    	call	_abs_fastcall
2835  0C4A  22 00 00    	ld	(_tmp_ui),hl
2836  0C4D  21 01 00    	ld	hl,_tmp_ui + 1
2837  0C50  DD 7E 06    	ld	a,(ix+6)
2838  0C53  06 00       	ld	b,0x00
2839  0C55  2B          	dec	hl
2840  0C56  96          	sub	a, (hl)
2841  0C57  78          	ld	a, b
2842  0C58  23          	inc	hl
2843  0C59  9E          	sbc	a, (hl)
2844  0C5A  30 04       	jr	NC,l_spr_collision_check_00105
2845  0C5C  2E 00       	ld	l,0x00
2846  0C5E  18 34       	jr	l_spr_collision_check_00109
2847  0C60              l_spr_collision_check_00105:
2848  0C60  DD 7E 04    	ld	a,(ix+4)
2849  0C63  F5          	push	af
2850  0C64  33          	inc	sp
2851  0C65  CD BB 0B    	call	_spr_calc_hor
2852  0C68  33          	inc	sp
2853  0C69  4D          	ld	c, l
2854  0C6A  C5          	push	bc
2855  0C6B  DD 7E 05    	ld	a,(ix+5)
2856  0C6E  F5          	push	af
2857  0C6F  33          	inc	sp
2858  0C70  CD BB 0B    	call	_spr_calc_hor
2859  0C73  33          	inc	sp
2860  0C74  C1          	pop	bc
2861  0C75  5D          	ld	e,l
2862  0C76  69          	ld	l, c
2863  0C77  AF          	xor	a,a
2864  0C78  67          	ld	h,a
2865  0C79  57          	ld	d,a
2866  0C7A  ED 52       	sbc	hl,de
2867  0C7C  CD 00 00    	call	_abs_fastcall
2868  0C7F  22 00 00    	ld	(_tmp_ui),hl
2869  0C82  3E 03       	ld	a,0x03
2870  0C84  21 00 00    	ld	hl,_tmp_ui
2871  0C87  BE          	cp	a, (hl)
2872  0C88  3E 00       	ld	a,0x00
2873  0C8A  23          	inc	hl
2874  0C8B  9E          	sbc	a, (hl)
2875  0C8C  30 04       	jr	NC,l_spr_collision_check_00107
2876  0C8E  2E 00       	ld	l,0x00
2877  0C90  18 02       	jr	l_spr_collision_check_00109
2878  0C92              l_spr_collision_check_00107:
2879  0C92  2E 01       	ld	l,0x01
2880  0C94              l_spr_collision_check_00109:
2881  0C94  DD E1       	pop	ix
2882  0C96  C9          	ret
2883  0C97              	SECTION code_compiler
2884  0C97              ;	---------------------------------
2885  0C97              ; Function spr_kill_all
2886  0C97              ; ---------------------------------
2887  0C97              _spr_kill_all:
2888  0C97  21 00 00    	ld	hl,_sprite
2889  0C9A  36 00       	ld	(hl),0x00
2890  0C9C              l_spr_kill_all_00102:
2891  0C9C  2A 00 00    	ld	hl,(_sprite)
2892  0C9F  CD F1 07    	call	_spr_destroy
2893  0CA2  21 00 00    	ld	hl,_sprite
2894  0CA5  7E          	ld	a,(hl)
2895  0CA6  3C          	inc	a
2896  0CA7  77          	ld	(hl),a
2897  0CA8  D6 08       	sub	a,0x08
2898  0CAA  38 F0       	jr	C,l_spr_kill_all_00102
2899  0CAC  C9          	ret
2900  0CAD              	SECTION code_compiler
2901  0CAD              ;	---------------------------------
2902  0CAD              ; Function spr_back_clr
2903  0CAD              ; ---------------------------------
2904  0CAD              _spr_back_clr:
2905  0CAD  2A FF FF    	ld	hl,(_s_col0 - 1)
2906  0CB0  3A 00 00    	ld	a,(_s_lin0)
2907  0CB3  6F          	ld	l,a
2908  0CB4  E5          	push	hl
2909  0CB5  CD 00 00    	call	_spr_calc_index
2910  0CB8  F1          	pop	af
2911  0CB9  7D          	ld	a,l
2912  0CBA  32 00 00    	ld	(_sprite_curr_index),a
2913  0CBD  21 00 00    	ld	hl,_s_lin0
2914  0CC0  7E          	ld	a, (hl)
2915  0CC1  E6 0F       	and	a,0x0f
2916  0CC3  4F          	ld	c, a
2917  0CC4  7E          	ld	a, (hl)
2918  0CC5  07          	rlca
2919  0CC6  07          	rlca
2920  0CC7  07          	rlca
2921  0CC8  07          	rlca
2922  0CC9  E6 0F       	and	a,0x0f
2923  0CCB  47          	ld	b, a
2924  0CCC  21 00 00    	ld	hl,_s_col0
2925  0CCF  CB 46       	bit	0, (hl)
2926  0CD1  20 69       	jr	NZ,l_spr_back_clr_00108
2927  0CD3  79          	ld	a, c
2928  0CD4  B7          	or	a, a
2929  0CD5  20 20       	jr	NZ,l_spr_back_clr_00102
2930  0CD7  2A 00 00    	ld	hl,(_sprite_curr_index)
2931  0CDA  26 00       	ld	h,0x00
2932  0CDC  01 00 00    	ld	bc,_scr_map
2933  0CDF  09          	add	hl,bc
2934  0CE0  46          	ld	b,(hl)
2935  0CE1  3A 00 00    	ld	a,(_s_col0)
2936  0CE4  F5          	push	af
2937  0CE5  33          	inc	sp
2938  0CE6  3A 00 00    	ld	a,(_s_lin0)
2939  0CE9  48          	ld	c,b
2940  0CEA  47          	ld	b,a
2941  0CEB  C5          	push	bc
2942  0CEC  CD FF 0D    	call	_spr_tile_paint
2943  0CEF  F1          	pop	af
2944  0CF0  33          	inc	sp
2945  0CF1  CD 00 00    	call	_player_pick_item
2946  0CF4  C3 FE 0D    	jp	l_spr_back_clr_00110
2947  0CF7              l_spr_back_clr_00102:
2948  0CF7  78          	ld	a, b
2949  0CF8  07          	rlca
2950  0CF9  07          	rlca
2951  0CFA  07          	rlca
2952  0CFB  07          	rlca
2953  0CFC  E6 F0       	and	a,0xf0
2954  0CFE  47          	ld	b, a
2955  0CFF  2A 00 00    	ld	hl,(_sprite_curr_index)
2956  0D02  26 00       	ld	h,0x00
2957  0D04  11 00 00    	ld	de,_scr_map
2958  0D07  19          	add	hl,de
2959  0D08  56          	ld	d, (hl)
2960  0D09  3A 00 00    	ld	a,(_s_col0)
2961  0D0C  C5          	push	bc
2962  0D0D  F5          	push	af
2963  0D0E  33          	inc	sp
2964  0D0F  4A          	ld	c, d
2965  0D10  C5          	push	bc
2966  0D11  CD FF 0D    	call	_spr_tile_paint
2967  0D14  F1          	pop	af
2968  0D15  33          	inc	sp
2969  0D16  C1          	pop	bc
2970  0D17  78          	ld	a, b
2971  0D18  C6 10       	add	a,0x10
2972  0D1A  57          	ld	d, a
2973  0D1B  21 00 00    	ld	hl,_sprite_curr_index
2974  0D1E  7E          	ld	a, (hl)
2975  0D1F  C6 10       	add	a,0x10
2976  0D21  77          	ld	(hl), a
2977  0D22  C6 00       	add	a,+((_scr_map) & 0xFF)
2978  0D24  4F          	ld	c, a
2979  0D25  3E 00       	ld	a, +((_scr_map) / 256)
2980  0D27  CE 00       	adc	a,0x00
2981  0D29  47          	ld	b, a
2982  0D2A  0A          	ld	a, (bc)
2983  0D2B  47          	ld	b, a
2984  0D2C  3A 00 00    	ld	a,(_s_col0)
2985  0D2F  5A          	ld	e,d
2986  0D30  57          	ld	d,a
2987  0D31  D5          	push	de
2988  0D32  C5          	push	bc
2989  0D33  33          	inc	sp
2990  0D34  CD FF 0D    	call	_spr_tile_paint
2991  0D37  F1          	pop	af
2992  0D38  33          	inc	sp
2993  0D39  C3 FE 0D    	jp	l_spr_back_clr_00110
2994  0D3C              l_spr_back_clr_00108:
2995  0D3C  21 00 00    	ld	hl,_s_col0
2996  0D3F  56          	ld	d, (hl)
2997  0D40  15          	dec	d
2998  0D41  79          	ld	a, c
2999  0D42  B7          	or	a, a
3000  0D43  20 3A       	jr	NZ,l_spr_back_clr_00105
3001  0D45  2A 00 00    	ld	hl,(_sprite_curr_index)
3002  0D48  26 00       	ld	h,0x00
3003  0D4A  01 00 00    	ld	bc,_scr_map
3004  0D4D  09          	add	hl,bc
3005  0D4E  46          	ld	b,(hl)
3006  0D4F  D5          	push	de
3007  0D50  33          	inc	sp
3008  0D51  3A 00 00    	ld	a,(_s_lin0)
3009  0D54  48          	ld	c,b
3010  0D55  47          	ld	b,a
3011  0D56  C5          	push	bc
3012  0D57  CD FF 0D    	call	_spr_tile_paint
3013  0D5A  F1          	pop	af
3014  0D5B  33          	inc	sp
3015  0D5C  21 00 00    	ld	hl,_sprite_curr_index
3016  0D5F  34          	inc	(hl)
3017  0D60  21 00 00    	ld	hl,_s_col0
3018  0D63  46          	ld	b, (hl)
3019  0D64  04          	inc	b
3020  0D65  2A 00 00    	ld	hl,(_sprite_curr_index)
3021  0D68  26 00       	ld	h,0x00
3022  0D6A  11 00 00    	ld	de,_scr_map
3023  0D6D  19          	add	hl,de
3024  0D6E  56          	ld	d, (hl)
3025  0D6F  C5          	push	bc
3026  0D70  33          	inc	sp
3027  0D71  3A 00 00    	ld	a,(_s_lin0)
3028  0D74  5A          	ld	e,d
3029  0D75  57          	ld	d,a
3030  0D76  D5          	push	de
3031  0D77  CD FF 0D    	call	_spr_tile_paint
3032  0D7A  F1          	pop	af
3033  0D7B  33          	inc	sp
3034  0D7C  C3 FE 0D    	jp	l_spr_back_clr_00110
3035  0D7F              l_spr_back_clr_00105:
3036  0D7F  78          	ld	a, b
3037  0D80  07          	rlca
3038  0D81  07          	rlca
3039  0D82  07          	rlca
3040  0D83  07          	rlca
3041  0D84  E6 F0       	and	a,0xf0
3042  0D86  47          	ld	b, a
3043  0D87  3A 00 00    	ld	a,(_sprite_curr_index)
3044  0D8A  C6 00       	add	a,+((_scr_map) & 0xFF)
3045  0D8C  4F          	ld	c,a
3046  0D8D  3E 00       	ld	a,+((_scr_map) / 256)
3047  0D8F  CE 00       	adc	a,0x00
3048  0D91  67          	ld	h, a
3049  0D92  69          	ld	l, c
3050  0D93  7E          	ld	a, (hl)
3051  0D94  C5          	push	bc
3052  0D95  58          	ld	e,b
3053  0D96  D5          	push	de
3054  0D97  F5          	push	af
3055  0D98  33          	inc	sp
3056  0D99  CD FF 0D    	call	_spr_tile_paint
3057  0D9C  F1          	pop	af
3058  0D9D  33          	inc	sp
3059  0D9E  C1          	pop	bc
3060  0D9F  21 00 00    	ld	hl,_sprite_curr_index
3061  0DA2  34          	inc	(hl)
3062  0DA3  21 00 00    	ld	hl,_s_col0
3063  0DA6  4E          	ld	c, (hl)
3064  0DA7  0C          	inc	c
3065  0DA8  2A 00 00    	ld	hl,(_sprite_curr_index)
3066  0DAB  26 00       	ld	h,0x00
3067  0DAD  11 00 00    	ld	de,_scr_map
3068  0DB0  19          	add	hl,de
3069  0DB1  56          	ld	d, (hl)
3070  0DB2  C5          	push	bc
3071  0DB3  79          	ld	a, c
3072  0DB4  F5          	push	af
3073  0DB5  33          	inc	sp
3074  0DB6  4A          	ld	c, d
3075  0DB7  C5          	push	bc
3076  0DB8  CD FF 0D    	call	_spr_tile_paint
3077  0DBB  F1          	pop	af
3078  0DBC  33          	inc	sp
3079  0DBD  C1          	pop	bc
3080  0DBE  78          	ld	a, b
3081  0DBF  C6 10       	add	a,0x10
3082  0DC1  4F          	ld	c, a
3083  0DC2  21 00 00    	ld	hl,_sprite_curr_index
3084  0DC5  7E          	ld	a, (hl)
3085  0DC6  C6 0F       	add	a,0x0f
3086  0DC8  77          	ld	(hl), a
3087  0DC9  21 00 00    	ld	hl,_s_col0
3088  0DCC  46          	ld	b, (hl)
3089  0DCD  05          	dec	b
3090  0DCE  2A 00 00    	ld	hl,(_sprite_curr_index)
3091  0DD1  26 00       	ld	h,0x00
3092  0DD3  11 00 00    	ld	de,_scr_map
3093  0DD6  19          	add	hl,de
3094  0DD7  66          	ld	h, (hl)
3095  0DD8  EB          	ex	de,hl
3096  0DD9  C5          	push	bc
3097  0DDA  C5          	push	bc
3098  0DDB  D5          	push	de
3099  0DDC  33          	inc	sp
3100  0DDD  CD FF 0D    	call	_spr_tile_paint
3101  0DE0  F1          	pop	af
3102  0DE1  33          	inc	sp
3103  0DE2  C1          	pop	bc
3104  0DE3  21 00 00    	ld	hl,_sprite_curr_index
3105  0DE6  34          	inc	(hl)
3106  0DE7  21 00 00    	ld	hl,_s_col0
3107  0DEA  46          	ld	b, (hl)
3108  0DEB  04          	inc	b
3109  0DEC  2A 00 00    	ld	hl,(_sprite_curr_index)
3110  0DEF  26 00       	ld	h,0x00
3111  0DF1  11 00 00    	ld	de,_scr_map
3112  0DF4  19          	add	hl,de
3113  0DF5  66          	ld	h, (hl)
3114  0DF6  C5          	push	bc
3115  0DF7  E5          	push	hl
3116  0DF8  33          	inc	sp
3117  0DF9  CD FF 0D    	call	_spr_tile_paint
3118  0DFC  F1          	pop	af
3119  0DFD  33          	inc	sp
3120  0DFE              l_spr_back_clr_00110:
3121  0DFE  C9          	ret
3122  0DFF              	SECTION code_compiler
3123  0DFF              ;	---------------------------------
3124  0DFF              ; Function spr_tile_paint
3125  0DFF              ; ---------------------------------
3126  0DFF              _spr_tile_paint:
3127  0DFF  CD 00 00    	call	___sdcc_enter_ix
3128  0E02  DD 7E 04    	ld	a,(ix+4)
3129  0E05  B7          	or	a, a
3130  0E06  20 3E       	jr	NZ,l_spr_tile_paint_00102
3131  0E08  DD 7E 06    	ld	a,(ix+6)
3132  0E0B  F5          	push	af
3133  0E0C  33          	inc	sp
3134  0E0D  DD 56 05    	ld	d,(ix+5)
3135  0E10  1E 49       	ld	e,0x49
3136  0E12  D5          	push	de
3137  0E13  CD 00 00    	call	_NIRVANAP_fillC_callee
3138  0E16  DD 7E 05    	ld	a,(ix+5)
3139  0E19  C6 08       	add	a,0x08
3140  0E1B  47          	ld	b, a
3141  0E1C  DD 7E 06    	ld	a,(ix+6)
3142  0E1F  F5          	push	af
3143  0E20  33          	inc	sp
3144  0E21  C5          	push	bc
3145  0E22  33          	inc	sp
3146  0E23  3E 49       	ld	a,0x49
3147  0E25  F5          	push	af
3148  0E26  33          	inc	sp
3149  0E27  CD 00 00    	call	_NIRVANAP_fillC_callee
3150  0E2A  DD 56 06    	ld	d,(ix+6)
3151  0E2D  14          	inc	d
3152  0E2E  D5          	push	de
3153  0E2F  D5          	push	de
3154  0E30  33          	inc	sp
3155  0E31  DD 56 05    	ld	d,(ix+5)
3156  0E34  1E 49       	ld	e,0x49
3157  0E36  D5          	push	de
3158  0E37  CD 00 00    	call	_NIRVANAP_fillC_callee
3159  0E3A  33          	inc	sp
3160  0E3B  C5          	push	bc
3161  0E3C  33          	inc	sp
3162  0E3D  3E 49       	ld	a,0x49
3163  0E3F  F5          	push	af
3164  0E40  33          	inc	sp
3165  0E41  CD 00 00    	call	_NIRVANAP_fillC_callee
3166  0E44  18 0F       	jr	l_spr_tile_paint_00104
3167  0E46              l_spr_tile_paint_00102:
3168  0E46  DD 66 06    	ld	h,(ix+6)
3169  0E49  DD 6E 05    	ld	l,(ix+5)
3170  0E4C  E5          	push	hl
3171  0E4D  DD 7E 04    	ld	a,(ix+4)
3172  0E50  F5          	push	af
3173  0E51  33          	inc	sp
3174  0E52  CD 00 00    	call	_NIRVANAP_drawT_callee
3175  0E55              l_spr_tile_paint_00104:
3176  0E55  DD E1       	pop	ix
3177  0E57  C9          	ret
3178  0E58              	SECTION code_compiler
3179  0E58              ;	---------------------------------
3180  0E58              ; Function spr_init_anim
3181  0E58              ; ---------------------------------
3182  0E58              _spr_init_anim:
3183  0E58  01 00 00    	ld	bc,_anim_lin+0
3184  0E5B  1E 00       	ld	e,0x00
3185  0E5D              l_spr_init_anim_00102:
3186  0E5D  6B          	ld	l,e
3187  0E5E  26 00       	ld	h,0x00
3188  0E60  09          	add	hl, bc
3189  0E61  36 FF       	ld	(hl),0xff
3190  0E63  1C          	inc	e
3191  0E64  7B          	ld	a, e
3192  0E65  D6 08       	sub	a,0x08
3193  0E67  38 F4       	jr	C,l_spr_init_anim_00102
3194  0E69  C9          	ret
3195  0E6A              	SECTION code_compiler
3196  0E6A              ;	---------------------------------
3197  0E6A              ; Function spr_add_anim
3198  0E6A              ; ---------------------------------
3199  0E6A              _spr_add_anim:
3200  0E6A  CD 00 00    	call	___sdcc_enter_ix
3201  0E6D  F5          	push	af
3202  0E6E  01 00 00    	ld	bc,0x0000
3203  0E71              l_spr_add_anim_00104:
3204  0E71  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3205  0E73  80          	add	a, b
3206  0E74  DD 77 FE    	ld	(ix-2),a
3207  0E77  3E 00       	ld	a, +((_anim_lin) / 256)
3208  0E79  CE 00       	adc	a,0x00
3209  0E7B  DD 77 FF    	ld	(ix-1),a
3210  0E7E  E1          	pop	hl
3211  0E7F  5E          	ld	e,(hl)
3212  0E80  E5          	push	hl
3213  0E81  1C          	inc	e
3214  0E82  20 34       	jr	NZ,l_spr_add_anim_00105
3215  0E84  E1          	pop	hl
3216  0E85  E5          	push	hl
3217  0E86  DD 7E 04    	ld	a,(ix+4)
3218  0E89  77          	ld	(hl), a
3219  0E8A  3E 00       	ld	a, +((_anim_col) & 0xFF)
3220  0E8C  81          	add	a, c
3221  0E8D  5F          	ld	e, a
3222  0E8E  3E 00       	ld	a, +((_anim_col) / 256)
3223  0E90  CE 00       	adc	a,0x00
3224  0E92  57          	ld	d, a
3225  0E93  DD 7E 05    	ld	a,(ix+5)
3226  0E96  12          	ld	(de), a
3227  0E97  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3228  0E99  81          	add	a, c
3229  0E9A  5F          	ld	e, a
3230  0E9B  3E 00       	ld	a, +((_anim_tile) / 256)
3231  0E9D  CE 00       	adc	a,0x00
3232  0E9F  57          	ld	d, a
3233  0EA0  DD 7E 06    	ld	a,(ix+6)
3234  0EA3  12          	ld	(de), a
3235  0EA4  11 00 00    	ld	de,_anim_int+0
3236  0EA7  69          	ld	l,c
3237  0EA8  26 00       	ld	h,0x00
3238  0EAA  19          	add	hl, de
3239  0EAB  06 00       	ld	b,0x00
3240  0EAD  70          	ld	(hl),b
3241  0EAE  21 00 00    	ld	hl,_anim_end
3242  0EB1  09          	add	hl,bc
3243  0EB2  DD 7E 07    	ld	a,(ix+7)
3244  0EB5  77          	ld	(hl),a
3245  0EB6  18 07       	jr	l_spr_add_anim_00106
3246  0EB8              l_spr_add_anim_00105:
3247  0EB8  04          	inc	b
3248  0EB9  78          	ld	a,b
3249  0EBA  48          	ld	c,b
3250  0EBB  D6 08       	sub	a,0x08
3251  0EBD  38 B2       	jr	C,l_spr_add_anim_00104
3252  0EBF              l_spr_add_anim_00106:
3253  0EBF  F1          	pop	af
3254  0EC0  DD E1       	pop	ix
3255  0EC2  C9          	ret
3256  0EC3              	SECTION code_compiler
3257  0EC3              ;	---------------------------------
3258  0EC3              ; Function spr_play_anim
3259  0EC3              ; ---------------------------------
3260  0EC3              _spr_play_anim:
3261  0EC3  CD 00 00    	call	___sdcc_enter_ix
3262  0EC6  F5          	push	af
3263  0EC7  F5          	push	af
3264  0EC8  3B          	dec	sp
3265  0EC9  DD 36 FB 01 	ld	(ix-5),0x01
3266  0ECD  0E 00       	ld	c,0x00
3267  0ECF              l_spr_play_anim_00109:
3268  0ECF  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3269  0ED1  81          	add	a, c
3270  0ED2  5F          	ld	e, a
3271  0ED3  3E 00       	ld	a, +((_anim_lin) / 256)
3272  0ED5  CE 00       	adc	a,0x00
3273  0ED7  57          	ld	d, a
3274  0ED8  1A          	ld	a, (de)
3275  0ED9  3C          	inc	a
3276  0EDA  28 76       	jr	Z,l_spr_play_anim_00110
3277  0EDC  DD 7E FB    	ld	a,(ix-5)
3278  0EDF  B7          	or	a, a
3279  0EE0  28 05       	jr	Z,l_spr_play_anim_00102
3280  0EE2  76          	halt
3281  0EE3  DD 36 FB 00 	ld	(ix-5),0x00
3282  0EE7              l_spr_play_anim_00102:
3283  0EE7  3E 00       	ld	a, +((_anim_int) & 0xFF)
3284  0EE9  81          	add	a, c
3285  0EEA  DD 77 FE    	ld	(ix-2),a
3286  0EED  6F          	ld	l,a
3287  0EEE  3E 00       	ld	a,+((_anim_int) / 256)
3288  0EF0  CE 00       	adc	a,0x00
3289  0EF2  DD 77 FF    	ld	(ix-1),a
3290  0EF5  67          	ld	h,a
3291  0EF6  7E          	ld	a, (hl)
3292  0EF7  DD 77 FD    	ld	(ix-3),a
3293  0EFA  06 00       	ld	b,0x00
3294  0EFC  21 00 00    	ld	hl,_anim_end
3295  0EFF  09          	add	hl, bc
3296  0F00  7E          	ld	a, (hl)
3297  0F01  DD 77 FC    	ld	(ix-4),a
3298  0F04  1A          	ld	a, (de)
3299  0F05  47          	ld	b, a
3300  0F06  DD 7E FD    	ld	a,(ix-3)
3301  0F09  DD 96 FC    	sub	a,(ix-4)
3302  0F0C  30 2B       	jr	NC,l_spr_play_anim_00104
3303  0F0E  3E 00       	ld	a, +((_anim_col) & 0xFF)
3304  0F10  81          	add	a, c
3305  0F11  6F          	ld	l, a
3306  0F12  3E 00       	ld	a, +((_anim_col) / 256)
3307  0F14  CE 00       	adc	a,0x00
3308  0F16  67          	ld	h, a
3309  0F17  56          	ld	d, (hl)
3310  0F18  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3311  0F1A  81          	add	a, c
3312  0F1B  6F          	ld	l, a
3313  0F1C  3E 00       	ld	a, +((_anim_tile) / 256)
3314  0F1E  CE 00       	adc	a,0x00
3315  0F20  67          	ld	h, a
3316  0F21  7E          	ld	a,(hl)
3317  0F22  DD 86 FD    	add	a,(ix-3)
3318  0F25  C5          	push	bc
3319  0F26  58          	ld	e,b
3320  0F27  D5          	push	de
3321  0F28  F5          	push	af
3322  0F29  33          	inc	sp
3323  0F2A  CD 00 00    	call	_NIRVANAP_drawT_callee
3324  0F2D  C1          	pop	bc
3325  0F2E  DD 6E FE    	ld	l,(ix-2)
3326  0F31  DD 66 FF    	ld	h,(ix-1)
3327  0F34  46          	ld	b,(hl)
3328  0F35  04          	inc	b
3329  0F36  70          	ld	(hl), b
3330  0F37  18 19       	jr	l_spr_play_anim_00110
3331  0F39              l_spr_play_anim_00104:
3332  0F39  3E 00       	ld	a, +((_anim_col) & 0xFF)
3333  0F3B  81          	add	a, c
3334  0F3C  6F          	ld	l, a
3335  0F3D  3E 00       	ld	a, +((_anim_col) / 256)
3336  0F3F  CE 00       	adc	a,0x00
3337  0F41  67          	ld	h, a
3338  0F42  66          	ld	h, (hl)
3339  0F43  C5          	push	bc
3340  0F44  D5          	push	de
3341  0F45  68          	ld	l,b
3342  0F46  E5          	push	hl
3343  0F47  AF          	xor	a, a
3344  0F48  F5          	push	af
3345  0F49  33          	inc	sp
3346  0F4A  CD 00 00    	call	_NIRVANAP_drawT_callee
3347  0F4D  D1          	pop	de
3348  0F4E  C1          	pop	bc
3349  0F4F  3E FF       	ld	a,0xff
3350  0F51  12          	ld	(de), a
3351  0F52              l_spr_play_anim_00110:
3352  0F52  0C          	inc	c
3353  0F53  79          	ld	a, c
3354  0F54  D6 08       	sub	a,0x08
3355  0F56  DA CF 0E    	jp	C, l_spr_play_anim_00109
3356  0F59  DD F9       	ld	sp, ix
3357  0F5B  DD E1       	pop	ix
3358  0F5D  C9          	ret
3359  0F5E              	SECTION IGNORE
3360  0000              
