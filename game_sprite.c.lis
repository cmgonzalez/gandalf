1     0000              MODULE game_sprite_c
2     0000              LINE -1, "game_sprite.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _spr_bullet_player_colision
204   0000              	GLOBAL _spr_bullet_enemy_colision
205   0000              	GLOBAL _spr_bullet_axe
206   0000              	GLOBAL _spr_bullet_fireball
207   0000              	GLOBAL _spr_calc_index
208   0000              	GLOBAL _spr_chktime
209   0000              	GLOBAL _spr_set_up
210   0000              	GLOBAL _spr_set_down
211   0000              	GLOBAL _spr_set_left
212   0000              	GLOBAL _spr_set_right
213   0000              	GLOBAL _spr_move_up
214   0000              	GLOBAL _spr_move_down
215   0000              	GLOBAL _spr_move_horizontal
216   0000              	GLOBAL _spr_move_right
217   0000              	GLOBAL _spr_move_left
218   0000              	GLOBAL _spr_page_right
219   0000              	GLOBAL _spr_page_left
220   0000              	GLOBAL _spr_page_down
221   0000              	GLOBAL _spr_page_up
222   0000              	GLOBAL _spr_clear_scr
223   0000              	GLOBAL _spr_page_map
224   0000              	GLOBAL _spr_paint_player
225   0000              	GLOBAL _spr_paint
226   0000              	GLOBAL _spr_destroy
227   0000              	GLOBAL _spr_tile
228   0000              	GLOBAL _spr_tile_dir
229   0000              	GLOBAL _spr_brick_anim
230   0000              	GLOBAL _spr_draw_index
231   0000              	GLOBAL _spr_back_repaint
232   0000              	GLOBAL _spr_tile_paint
233   0000              	GLOBAL _spr_init_effects
234   0000              	GLOBAL _spr_add_anim
235   0000              	GLOBAL _spr_play_anim
236   0000              	GLOBAL _spr_colision_b
237   0000              	GLOBAL _spr_colision_boss
238   0000              	GLOBAL _spr_bullets_play
239   0000              	GLOBAL _spr_bullet_explode
240   0000              	GLOBAL _spr_turn_horizontal
241   0000              	GLOBAL _spr_btile_paint_back
242   0000              	GLOBAL _spr_flatten
243   0000              	GLOBAL _spr_unflattenP1
244   0000              ;--------------------------------------------------------
245   0000              ; Externals used
246   0000              ;--------------------------------------------------------
247   0000              	GLOBAL _ulltoa_callee
248   0000              	GLOBAL _ulltoa
249   0000              	GLOBAL _strtoull_callee
250   0000              	GLOBAL _strtoull
251   0000              	GLOBAL _strtoll_callee
252   0000              	GLOBAL _strtoll
253   0000              	GLOBAL _lltoa_callee
254   0000              	GLOBAL _lltoa
255   0000              	GLOBAL _llabs_callee
256   0000              	GLOBAL _llabs
257   0000              	GLOBAL __lldivu__callee
258   0000              	GLOBAL __lldivu_
259   0000              	GLOBAL __lldiv__callee
260   0000              	GLOBAL __lldiv_
261   0000              	GLOBAL _atoll_callee
262   0000              	GLOBAL _atoll
263   0000              	GLOBAL _realloc_unlocked_callee
264   0000              	GLOBAL _realloc_unlocked
265   0000              	GLOBAL _malloc_unlocked_fastcall
266   0000              	GLOBAL _malloc_unlocked
267   0000              	GLOBAL _free_unlocked_fastcall
268   0000              	GLOBAL _free_unlocked
269   0000              	GLOBAL _calloc_unlocked_callee
270   0000              	GLOBAL _calloc_unlocked
271   0000              	GLOBAL _aligned_alloc_unlocked_callee
272   0000              	GLOBAL _aligned_alloc_unlocked
273   0000              	GLOBAL _realloc_callee
274   0000              	GLOBAL _realloc
275   0000              	GLOBAL _malloc_fastcall
276   0000              	GLOBAL _malloc
277   0000              	GLOBAL _free_fastcall
278   0000              	GLOBAL _free
279   0000              	GLOBAL _calloc_callee
280   0000              	GLOBAL _calloc
281   0000              	GLOBAL _aligned_alloc_callee
282   0000              	GLOBAL _aligned_alloc
283   0000              	GLOBAL _utoa_callee
284   0000              	GLOBAL _utoa
285   0000              	GLOBAL _ultoa_callee
286   0000              	GLOBAL _ultoa
287   0000              	GLOBAL _system_fastcall
288   0000              	GLOBAL _system
289   0000              	GLOBAL _strtoul_callee
290   0000              	GLOBAL _strtoul
291   0000              	GLOBAL _strtol_callee
292   0000              	GLOBAL _strtol
293   0000              	GLOBAL _strtof_callee
294   0000              	GLOBAL _strtof
295   0000              	GLOBAL _strtod_callee
296   0000              	GLOBAL _strtod
297   0000              	GLOBAL _srand_fastcall
298   0000              	GLOBAL _srand
299   0000              	GLOBAL _rand
300   0000              	GLOBAL _quick_exit_fastcall
301   0000              	GLOBAL _quick_exit
302   0000              	GLOBAL _qsort_callee
303   0000              	GLOBAL _qsort
304   0000              	GLOBAL _ltoa_callee
305   0000              	GLOBAL _ltoa
306   0000              	GLOBAL _labs_fastcall
307   0000              	GLOBAL _labs
308   0000              	GLOBAL _itoa_callee
309   0000              	GLOBAL _itoa
310   0000              	GLOBAL _ftoh_callee
311   0000              	GLOBAL _ftoh
312   0000              	GLOBAL _ftog_callee
313   0000              	GLOBAL _ftog
314   0000              	GLOBAL _ftoe_callee
315   0000              	GLOBAL _ftoe
316   0000              	GLOBAL _ftoa_callee
317   0000              	GLOBAL _ftoa
318   0000              	GLOBAL _exit_fastcall
319   0000              	GLOBAL _exit
320   0000              	GLOBAL _dtoh_callee
321   0000              	GLOBAL _dtoh
322   0000              	GLOBAL _dtog_callee
323   0000              	GLOBAL _dtog
324   0000              	GLOBAL _dtoe_callee
325   0000              	GLOBAL _dtoe
326   0000              	GLOBAL _dtoa_callee
327   0000              	GLOBAL _dtoa
328   0000              	GLOBAL _bsearch_callee
329   0000              	GLOBAL _bsearch
330   0000              	GLOBAL _atol_fastcall
331   0000              	GLOBAL _atol
332   0000              	GLOBAL _atoi_fastcall
333   0000              	GLOBAL _atoi
334   0000              	GLOBAL _atof_fastcall
335   0000              	GLOBAL _atof
336   0000              	GLOBAL _atexit_fastcall
337   0000              	GLOBAL _atexit
338   0000              	GLOBAL _at_quick_exit_fastcall
339   0000              	GLOBAL _at_quick_exit
340   0000              	GLOBAL _abs_fastcall
341   0000              	GLOBAL _abs
342   0000              	GLOBAL _abort
343   0000              	GLOBAL __strtou__callee
344   0000              	GLOBAL __strtou_
345   0000              	GLOBAL __strtoi__callee
346   0000              	GLOBAL __strtoi_
347   0000              	GLOBAL __random_uniform_xor_8__fastcall
348   0000              	GLOBAL __random_uniform_xor_8_
349   0000              	GLOBAL __random_uniform_xor_32__fastcall
350   0000              	GLOBAL __random_uniform_xor_32_
351   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
352   0000              	GLOBAL __random_uniform_cmwc_8_
353   0000              	GLOBAL __shellsort__callee
354   0000              	GLOBAL __shellsort_
355   0000              	GLOBAL __quicksort__callee
356   0000              	GLOBAL __quicksort_
357   0000              	GLOBAL __insertion_sort__callee
358   0000              	GLOBAL __insertion_sort_
359   0000              	GLOBAL __ldivu__callee
360   0000              	GLOBAL __ldivu_
361   0000              	GLOBAL __ldiv__callee
362   0000              	GLOBAL __ldiv_
363   0000              	GLOBAL __divu__callee
364   0000              	GLOBAL __divu_
365   0000              	GLOBAL __div__callee
366   0000              	GLOBAL __div_
367   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
368   0000              	GLOBAL _NIRVANAP_drawTW_raw
369   0000              	GLOBAL _NIRVANAP_drawTW_callee
370   0000              	GLOBAL _NIRVANAP_drawTW
371   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
372   0000              	GLOBAL _NIRVANAP_drawW_raw
373   0000              	GLOBAL _NIRVANAP_drawW_callee
374   0000              	GLOBAL _NIRVANAP_drawW
375   0000              	GLOBAL _NIRVANAP_spriteT_callee
376   0000              	GLOBAL _NIRVANAP_spriteT
377   0000              	GLOBAL _NIRVANAP_fillC_callee
378   0000              	GLOBAL _NIRVANAP_fillC
379   0000              	GLOBAL _NIRVANAP_readC_callee
380   0000              	GLOBAL _NIRVANAP_readC
381   0000              	GLOBAL _NIRVANAP_paintC_callee
382   0000              	GLOBAL _NIRVANAP_paintC
383   0000              	GLOBAL _NIRVANAP_printC_callee
384   0000              	GLOBAL _NIRVANAP_printC
385   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
386   0000              	GLOBAL _NIRVANAP_fillT_raw
387   0000              	GLOBAL _NIRVANAP_fillT_callee
388   0000              	GLOBAL _NIRVANAP_fillT
389   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
390   0000              	GLOBAL _NIRVANAP_drawT_raw
391   0000              	GLOBAL _NIRVANAP_drawT_callee
392   0000              	GLOBAL _NIRVANAP_drawT
393   0000              	GLOBAL _NIRVANAP_stop
394   0000              	GLOBAL _NIRVANAP_start
395   0000              	GLOBAL _debug3
396   0000              	GLOBAL _debug2
397   0000              	GLOBAL _debug
398   0000              	GLOBAL _zx_print_str
399   0000              	GLOBAL _zx_print_int
400   0000              	GLOBAL _zx_print_chr
401   0000              	GLOBAL _zx_print_bonus_time
402   0000              	GLOBAL _zx_isr
403   0000              	GLOBAL _z80_otdr_callee
404   0000              	GLOBAL _z80_otdr
405   0000              	GLOBAL _z80_otir_callee
406   0000              	GLOBAL _z80_otir
407   0000              	GLOBAL _z80_outp_callee
408   0000              	GLOBAL _z80_outp
409   0000              	GLOBAL _z80_indr_callee
410   0000              	GLOBAL _z80_indr
411   0000              	GLOBAL _z80_inir_callee
412   0000              	GLOBAL _z80_inir
413   0000              	GLOBAL _z80_inp_fastcall
414   0000              	GLOBAL _z80_inp
415   0000              	GLOBAL _z80_set_int_state_fastcall
416   0000              	GLOBAL _z80_set_int_state
417   0000              	GLOBAL _z80_get_int_state
418   0000              	GLOBAL _z80_delay_tstate_fastcall
419   0000              	GLOBAL _z80_delay_tstate
420   0000              	GLOBAL _z80_delay_ms_fastcall
421   0000              	GLOBAL _z80_delay_ms
422   0000              	GLOBAL _im2_remove_generic_callback_callee
423   0000              	GLOBAL _im2_remove_generic_callback
424   0000              	GLOBAL _im2_prepend_generic_callback_callee
425   0000              	GLOBAL _im2_prepend_generic_callback
426   0000              	GLOBAL _im2_append_generic_callback_callee
427   0000              	GLOBAL _im2_append_generic_callback
428   0000              	GLOBAL _im2_create_generic_isr_8080_callee
429   0000              	GLOBAL _im2_create_generic_isr_8080
430   0000              	GLOBAL _im2_create_generic_isr_callee
431   0000              	GLOBAL _im2_create_generic_isr
432   0000              	GLOBAL _im2_install_isr_callee
433   0000              	GLOBAL _im2_install_isr
434   0000              	GLOBAL _im2_init_fastcall
435   0000              	GLOBAL _im2_init
436   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
437   0000              	GLOBAL _intrinsic_swap_word_32
438   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
439   0000              	GLOBAL _intrinsic_swap_endian_32
440   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
441   0000              	GLOBAL _intrinsic_swap_endian_16
442   0000              	GLOBAL _intrinsic_return_de
443   0000              	GLOBAL _intrinsic_return_bc
444   0000              	GLOBAL _intrinsic_exx
445   0000              	GLOBAL _intrinsic_ex_de_hl
446   0000              	GLOBAL _intrinsic_nop
447   0000              	GLOBAL _intrinsic_im_2
448   0000              	GLOBAL _intrinsic_im_1
449   0000              	GLOBAL _intrinsic_im_0
450   0000              	GLOBAL _intrinsic_retn
451   0000              	GLOBAL _intrinsic_reti
452   0000              	GLOBAL _intrinsic_halt
453   0000              	GLOBAL _intrinsic_ei
454   0000              	GLOBAL _intrinsic_di
455   0000              	GLOBAL _intrinsic_stub
456   0000              	GLOBAL _intrinsic_outi
457   0000              	GLOBAL _intrinsic_ldi
458   0000              	GLOBAL _zx_pattern_fill_callee
459   0000              	GLOBAL _zx_pattern_fill
460   0000              	GLOBAL _zx_saddrpup_fastcall
461   0000              	GLOBAL _zx_saddrpup
462   0000              	GLOBAL _zx_saddrpright_callee
463   0000              	GLOBAL _zx_saddrpright
464   0000              	GLOBAL _zx_saddrpleft_callee
465   0000              	GLOBAL _zx_saddrpleft
466   0000              	GLOBAL _zx_saddrpdown_fastcall
467   0000              	GLOBAL _zx_saddrpdown
468   0000              	GLOBAL _zx_saddrcup_fastcall
469   0000              	GLOBAL _zx_saddrcup
470   0000              	GLOBAL _zx_saddrcright_fastcall
471   0000              	GLOBAL _zx_saddrcright
472   0000              	GLOBAL _zx_saddrcleft_fastcall
473   0000              	GLOBAL _zx_saddrcleft
474   0000              	GLOBAL _zx_saddrcdown_fastcall
475   0000              	GLOBAL _zx_saddrcdown
476   0000              	GLOBAL _zx_saddr2py_fastcall
477   0000              	GLOBAL _zx_saddr2py
478   0000              	GLOBAL _zx_saddr2px_fastcall
479   0000              	GLOBAL _zx_saddr2px
480   0000              	GLOBAL _zx_saddr2cy_fastcall
481   0000              	GLOBAL _zx_saddr2cy
482   0000              	GLOBAL _zx_saddr2cx_fastcall
483   0000              	GLOBAL _zx_saddr2cx
484   0000              	GLOBAL _zx_saddr2aaddr_fastcall
485   0000              	GLOBAL _zx_saddr2aaddr
486   0000              	GLOBAL _zx_py2saddr_fastcall
487   0000              	GLOBAL _zx_py2saddr
488   0000              	GLOBAL _zx_py2aaddr_fastcall
489   0000              	GLOBAL _zx_py2aaddr
490   0000              	GLOBAL _zx_pxy2saddr_callee
491   0000              	GLOBAL _zx_pxy2saddr
492   0000              	GLOBAL _zx_pxy2aaddr_callee
493   0000              	GLOBAL _zx_pxy2aaddr
494   0000              	GLOBAL _zx_px2bitmask_fastcall
495   0000              	GLOBAL _zx_px2bitmask
496   0000              	GLOBAL _zx_cy2saddr_fastcall
497   0000              	GLOBAL _zx_cy2saddr
498   0000              	GLOBAL _zx_cy2aaddr_fastcall
499   0000              	GLOBAL _zx_cy2aaddr
500   0000              	GLOBAL _zx_cxy2saddr_callee
501   0000              	GLOBAL _zx_cxy2saddr
502   0000              	GLOBAL _zx_cxy2aaddr_callee
503   0000              	GLOBAL _zx_cxy2aaddr
504   0000              	GLOBAL _zx_bitmask2px_fastcall
505   0000              	GLOBAL _zx_bitmask2px
506   0000              	GLOBAL _zx_aaddrcup_fastcall
507   0000              	GLOBAL _zx_aaddrcup
508   0000              	GLOBAL _zx_aaddrcright_fastcall
509   0000              	GLOBAL _zx_aaddrcright
510   0000              	GLOBAL _zx_aaddrcleft_fastcall
511   0000              	GLOBAL _zx_aaddrcleft
512   0000              	GLOBAL _zx_aaddrcdown_fastcall
513   0000              	GLOBAL _zx_aaddrcdown
514   0000              	GLOBAL _zx_aaddr2saddr_fastcall
515   0000              	GLOBAL _zx_aaddr2saddr
516   0000              	GLOBAL _zx_aaddr2py_fastcall
517   0000              	GLOBAL _zx_aaddr2py
518   0000              	GLOBAL _zx_aaddr2px_fastcall
519   0000              	GLOBAL _zx_aaddr2px
520   0000              	GLOBAL _zx_aaddr2cy_fastcall
521   0000              	GLOBAL _zx_aaddr2cy
522   0000              	GLOBAL _zx_aaddr2cx_fastcall
523   0000              	GLOBAL _zx_aaddr2cx
524   0000              	GLOBAL _zx_visit_wc_pix_callee
525   0000              	GLOBAL _zx_visit_wc_pix
526   0000              	GLOBAL _zx_visit_wc_attr_callee
527   0000              	GLOBAL _zx_visit_wc_attr
528   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
529   0000              	GLOBAL _zx_scroll_wc_up_pix
530   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
531   0000              	GLOBAL _zx_scroll_wc_up_attr
532   0000              	GLOBAL _zx_scroll_wc_up_callee
533   0000              	GLOBAL _zx_scroll_wc_up
534   0000              	GLOBAL _zx_scroll_up_pix_callee
535   0000              	GLOBAL _zx_scroll_up_pix
536   0000              	GLOBAL _zx_scroll_up_attr_callee
537   0000              	GLOBAL _zx_scroll_up_attr
538   0000              	GLOBAL _zx_scroll_up_callee
539   0000              	GLOBAL _zx_scroll_up
540   0000              	GLOBAL _zx_cls_wc_pix_callee
541   0000              	GLOBAL _zx_cls_wc_pix
542   0000              	GLOBAL _zx_cls_wc_attr_callee
543   0000              	GLOBAL _zx_cls_wc_attr
544   0000              	GLOBAL _zx_cls_wc_callee
545   0000              	GLOBAL _zx_cls_wc
546   0000              	GLOBAL _zx_cls_pix_fastcall
547   0000              	GLOBAL _zx_cls_pix
548   0000              	GLOBAL _zx_cls_attr_fastcall
549   0000              	GLOBAL _zx_cls_attr
550   0000              	GLOBAL _zx_cls_fastcall
551   0000              	GLOBAL _zx_cls
552   0000              	GLOBAL _zx_border_fastcall
553   0000              	GLOBAL _zx_border
554   0000              	GLOBAL _zx_tape_verify_block_callee
555   0000              	GLOBAL _zx_tape_verify_block
556   0000              	GLOBAL _zx_tape_save_block_callee
557   0000              	GLOBAL _zx_tape_save_block
558   0000              	GLOBAL _zx_tape_load_block_callee
559   0000              	GLOBAL _zx_tape_load_block
560   0000              	GLOBAL _player_fix_walk_lin
561   0000              	GLOBAL _player_gasta_brick
562   0000              	GLOBAL _player_lost_life
563   0000              	GLOBAL _player_damage
564   0000              	GLOBAL _player_open_door
565   0000              	GLOBAL _player_move_jump
566   0000              	GLOBAL _player_fire
567   0000              	GLOBAL _player_check_stairs_vertical
568   0000              	GLOBAL _player_check_stairs
569   0000              	GLOBAL _player_tile
570   0000              	GLOBAL _player_anim_stairs
571   0000              	GLOBAL _player_pick_item
572   0000              	GLOBAL _player_check_floor
573   0000              	GLOBAL _player_hit_platform_clear
574   0000              	GLOBAL _player_score_add
575   0000              	GLOBAL _player_hit_platform
576   0000              	GLOBAL _player_move_input
577   0000              	GLOBAL _player_turn
578   0000              	GLOBAL _player_move
579   0000              	GLOBAL _player_action_jump
580   0000              	GLOBAL _player_action_fire
581   0000              	GLOBAL _player_check_input
582   0000              	GLOBAL _player_pick_mushroom
583   0000              	GLOBAL _player_collision
584   0000              	GLOBAL _player_init
585   0000              	GLOBAL _game_match_back_strict
586   0000              	GLOBAL _game_match_back
587   0000              	GLOBAL _game_attribs
588   0000              	GLOBAL _game_boss_clear
589   0000              	GLOBAL _game_boss_kill
590   0000              	GLOBAL _game_obj_clear
591   0000              	GLOBAL _game_obj_chk
592   0000              	GLOBAL _game_obj_set
593   0000              	GLOBAL _game_shoot_fire_boss
594   0000              	GLOBAL _game_shoot_fire
595   0000              	GLOBAL _game_add_enemy
596   0000              	GLOBAL _game_print_header
597   0000              	GLOBAL _game_check_time
598   0000              	GLOBAL _game_rotate_attrib_osd
599   0000              	GLOBAL _game_rotate_attrib
600   0000              	GLOBAL _game_colour_message
601   0000              	GLOBAL _game_paint_attrib
602   0000              	GLOBAL _game_print_score
603   0000              	GLOBAL _game_check_cell
604   0000              	GLOBAL _game_check_map
605   0000              	GLOBAL _game_loop
606   0000              	GLOBAL _game_round_init
607   0000              	GLOBAL _game_set_checkpoint
608   0000              	GLOBAL _game_start_timer
609   0000              	GLOBAL _game_update_stats
610   0000              	GLOBAL _game_print_footer
611   0000              	GLOBAL _game_fill_row
612   0000              	GLOBAL _game_cls
613   0000              	GLOBAL _game_fps
614   0000              	GLOBAL _game_respawn
615   0000              	GLOBAL _game_draw_screen
616   0000              	GLOBAL _boss_draw_frame
617   0000              	GLOBAL _boss_draw
618   0000              	GLOBAL _boss_turn
619   0000              	GLOBAL _enemy_avoid_dead
620   0000              	GLOBAL _enemy_avoid_fall
621   0000              	GLOBAL _enemy_kill
622   0000              	GLOBAL _enemy_respawn
623   0000              	GLOBAL _enemy_init
624   0000              	GLOBAL _enemy_move
625   0000              	GLOBAL _enemy_turn
626   0000              	GLOBAL _enemy_static
627   0000              	GLOBAL _enemy_walk
628   0000              	GLOBAL _enemy_horizontal
629   0000              	GLOBAL _enemy_vertical
630   0000              	GLOBAL _ay_reset
631   0000              	GLOBAL _ay_song_stop
632   0000              	GLOBAL _ay_song_play
633   0000              	GLOBAL _ay_fx_stop
634   0000              	GLOBAL _ay_fx_play
635   0000              	GLOBAL _ay_is_playing
636   0000              	GLOBAL _audio_levelup
637   0000              	GLOBAL _audio_checkpoint
638   0000              	GLOBAL _audio_menu
639   0000              	GLOBAL _audio_game_end
640   0000              	GLOBAL _audio_level_complete
641   0000              	GLOBAL _audio_level_start
642   0000              	GLOBAL _audio_lotr_lose_a_life
643   0000              	GLOBAL _audio_mushroom
644   0000              	GLOBAL _audio_puerta
645   0000              	GLOBAL _audio_sin_mana
646   0000              	GLOBAL _audio_magic1
647   0000              	GLOBAL _audio_coin
648   0000              	GLOBAL _audio_golpe
649   0000              	GLOBAL _audio_salto
650   0000              	GLOBAL _audio_efecto
651   0000              	GLOBAL _audio_disparo_fire
652   0000              	GLOBAL _audio_disparo_axe
653   0000              	GLOBAL _audio_disparo2
654   0000              	GLOBAL _audio_disparo1
655   0000              	GLOBAL _audio_respawn
656   0000              	GLOBAL _audio_explosion1
657   0000              	GLOBAL _audio_explosion
658   0000              	GLOBAL _audio_ingame
659   0000              	GLOBAL _test_func
660   0000              	GLOBAL _test_proc
661   0000              	GLOBAL _in_mouse_kempston_wheel_delta
662   0000              	GLOBAL _in_mouse_kempston_wheel
663   0000              	GLOBAL _in_mouse_kempston_callee
664   0000              	GLOBAL _in_mouse_kempston
665   0000              	GLOBAL _in_mouse_kempston_setpos_callee
666   0000              	GLOBAL _in_mouse_kempston_setpos
667   0000              	GLOBAL _in_mouse_kempston_reset
668   0000              	GLOBAL _in_mouse_kempston_init
669   0000              	GLOBAL _in_mouse_amx_wheel_delta
670   0000              	GLOBAL _in_mouse_amx_wheel
671   0000              	GLOBAL _in_mouse_amx_callee
672   0000              	GLOBAL _in_mouse_amx
673   0000              	GLOBAL _in_mouse_amx_setpos_callee
674   0000              	GLOBAL _in_mouse_amx_setpos
675   0000              	GLOBAL _in_mouse_amx_reset
676   0000              	GLOBAL _in_mouse_amx_init_callee
677   0000              	GLOBAL _in_mouse_amx_init
678   0000              	GLOBAL _in_stick_sinclair2
679   0000              	GLOBAL _in_stick_sinclair1
680   0000              	GLOBAL _in_stick_kempston
681   0000              	GLOBAL _in_stick_fuller
682   0000              	GLOBAL _in_stick_cursor
683   0000              	GLOBAL _in_stick_keyboard_fastcall
684   0000              	GLOBAL _in_stick_keyboard
685   0000              	GLOBAL _in_wait_nokey
686   0000              	GLOBAL _in_wait_key
687   0000              	GLOBAL _in_test_key
688   0000              	GLOBAL _in_pause_fastcall
689   0000              	GLOBAL _in_pause
690   0000              	GLOBAL _in_key_scancode_fastcall
691   0000              	GLOBAL _in_key_scancode
692   0000              	GLOBAL _in_key_pressed_fastcall
693   0000              	GLOBAL _in_key_pressed
694   0000              	GLOBAL _in_inkey
695   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
696   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
697   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
698   0000              	GLOBAL _NIRVANAP_HOLE
699   0000              	GLOBAL _NIRVANAP_ISR_HOOK
700   0000              	GLOBAL _scan_map
701   0000              	GLOBAL _key_map
702   0000              	GLOBAL _player_lvl_table
703   0000              	GLOBAL _stp_row
704   0000              	GLOBAL _stp_col
705   0000              	GLOBAL _stp_tile
706   0000              	GLOBAL _map_paper_last_a
707   0000              	GLOBAL _map_paper_last
708   0000              	GLOBAL _map_paper_clr
709   0000              	GLOBAL _map_paper
710   0000              	GLOBAL _draw_count
711   0000              	GLOBAL _g_player_hit_right
712   0000              	GLOBAL _g_player_hit_left
713   0000              	GLOBAL _bullet_count
714   0000              	GLOBAL _spr_hack
715   0000              	GLOBAL _boss_stat
716   0000              	GLOBAL _boss_time_fire
717   0000              	GLOBAL _boss_time
718   0000              	GLOBAL _boss_tile
719   0000              	GLOBAL _boss_inc
720   0000              	GLOBAL _boss_col
721   0000              	GLOBAL _boss_lin
722   0000              	GLOBAL _bullet
723   0000              	GLOBAL _bullet_vel
724   0000              	GLOBAL _bullet_frames
725   0000              	GLOBAL _bullet_colint
726   0000              	GLOBAL _bullet_dir
727   0000              	GLOBAL _bullet_tile
728   0000              	GLOBAL _bullet_col
729   0000              	GLOBAL _bullet_lin
730   0000              	GLOBAL _bullet_col0
731   0000              	GLOBAL _bullet_lin0
732   0000              	GLOBAL _bullet_max
733   0000              	GLOBAL _bullet_class
734   0000              	GLOBAL _mush_class
735   0000              	GLOBAL _mush_index
736   0000              	GLOBAL _anim_count
737   0000              	GLOBAL _anim_respanwn
738   0000              	GLOBAL _anim_loop
739   0000              	GLOBAL _anim_end
740   0000              	GLOBAL _anim_int
741   0000              	GLOBAL _anim_tile
742   0000              	GLOBAL _anim_col
743   0000              	GLOBAL _anim_lin
744   0000              	GLOBAL _map_heigth
745   0000              	GLOBAL _map_width
746   0000              	GLOBAL _scr_curr
747   0000              	GLOBAL _sprite_kind
748   0000              	GLOBAL _scr_obj1
749   0000              	GLOBAL _scr_obj0
750   0000              	GLOBAL _scr_map
751   0000              	GLOBAL _spr_init
752   0000              	GLOBAL _spr_map_tile
753   0000              	GLOBAL _sprite_frames
754   0000              	GLOBAL _sprite_base_speed
755   0000              	GLOBAL _sprite_speed
756   0000              	GLOBAL _screen_ink
757   0000              	GLOBAL _screen_paper
758   0000              	GLOBAL _player_onstair
759   0000              	GLOBAL _game_start_scr
760   0000              	GLOBAL _game_respawn_tile
761   0000              	GLOBAL _game_respawn_index
762   0000              	GLOBAL _game_respawn_time
763   0000              	GLOBAL _game_score_top
764   0000              	GLOBAL _player_coins
765   0000              	GLOBAL _player_lives
766   0000              	GLOBAL _game_over
767   0000              	GLOBAL _game_sound
768   0000              	GLOBAL _game_inf_lives
769   0000              	GLOBAL _game_inmune
770   0000              	GLOBAL _sprite_curr_index
771   0000              	GLOBAL _spr_count
772   0000              	GLOBAL _bullet_time
773   0000              	GLOBAL _anim_time
774   0000              	GLOBAL _frame_time
775   0000              	GLOBAL _curr_time
776   0000              	GLOBAL _s_state
777   0000              	GLOBAL _attrib_osd
778   0000              	GLOBAL _attrib_hl
779   0000              	GLOBAL _attrib
780   0000              	GLOBAL _zx_val_asm
781   0000              	GLOBAL _enemies
782   0000              	GLOBAL _tmp_ui
783   0000              	GLOBAL _tmp_sc
784   0000              	GLOBAL _tmp_uc
785   0000              	GLOBAL _tmp1
786   0000              	GLOBAL _tmp0
787   0000              	GLOBAL _tmp
788   0000              	GLOBAL _index1
789   0000              	GLOBAL _index0
790   0000              	GLOBAL _loop_count
791   0000              	GLOBAL _s_class
792   0000              	GLOBAL _s_col1
793   0000              	GLOBAL _s_col0
794   0000              	GLOBAL _s_lin1
795   0000              	GLOBAL _s_lin0
796   0000              	GLOBAL _s_tile1
797   0000              	GLOBAL _s_tile0
798   0000              	GLOBAL _player_brick_time
799   0000              	GLOBAL _player_hit_count
800   0000              	GLOBAL _game_debug
801   0000              	GLOBAL _sprite_horizontal_check
802   0000              	GLOBAL _sprite_on_air
803   0000              	GLOBAL _sprite
804   0000              	GLOBAL _fps
805   0000              	GLOBAL _menu_curr_sel
806   0000              	GLOBAL _game_control_jump_lock
807   0000              	GLOBAL _game_control_fire_lock
808   0000              	GLOBAL _game_control_mode
809   0000              	GLOBAL _game_respawn_curr_time
810   0000              	GLOBAL _game_round_up
811   0000              	GLOBAL _game_mush_count
812   0000              	GLOBAL _game_song_play_start
813   0000              	GLOBAL _game_song_play
814   0000              	GLOBAL _game_boss_fix
815   0000              	GLOBAL _game_boss_hit
816   0000              	GLOBAL _game_boss_alive
817   0000              	GLOBAL _game_boss
818   0000              	GLOBAL _game_world
819   0000              	GLOBAL _game_gravity
820   0000              	GLOBAL _player_onfire
821   0000              	GLOBAL _player_anim_stair
822   0000              	GLOBAL _player_hit
823   0000              	GLOBAL _player_hit_time
824   0000              	GLOBAL _game_checkpoint_scr
825   0000              	GLOBAL _game_checkpoint_lin
826   0000              	GLOBAL _game_checkpoint_col
827   0000              	GLOBAL _player_jump_check
828   0000              	GLOBAL _player_lin_scr
829   0000              	GLOBAL _player_col_scr
830   0000              	GLOBAL _player_lvl
831   0000              	GLOBAL _player_int
832   0000              	GLOBAL _player_str
833   0000              	GLOBAL _player_max_vita
834   0000              	GLOBAL _player_max_mana
835   0000              	GLOBAL _player_vita
836   0000              	GLOBAL _player_mana
837   0000              	GLOBAL _player_keys
838   0000              	GLOBAL _player_vel_inc
839   0000              	GLOBAL _player_vel_y1
840   0000              	GLOBAL _player_vel_y0
841   0000              	GLOBAL _player_vel_y
842   0000              	GLOBAL _player_vel_x
843   0000              	GLOBAL _player_score
844   0000              	GLOBAL _last_time
845   0000              	GLOBAL _spr_timer
846   0000              	GLOBAL _jump_lin
847   0000              	GLOBAL _player_hit_col
848   0000              	GLOBAL _player_hit_lin
849   0000              	GLOBAL _colint
850   0000              	GLOBAL _col
851   0000              	GLOBAL _tbuffer
852   0000              	GLOBAL _lin
853   0000              	GLOBAL _tile
854   0000              	GLOBAL _state_a
855   0000              	GLOBAL _state
856   0000              	GLOBAL _class
857   0000              	GLOBAL _dirs_alt
858   0000              	GLOBAL _dirs
859   0000              	GLOBAL _k2
860   0000              	GLOBAL _k1
861   0000              	GLOBAL _joyfunc2
862   0000              	GLOBAL _joyfunc1
863   0000              	GLOBAL _btiles
864   0000              	GLOBAL _spec128
865   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
866   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
867   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
868   0000              	GLOBAL _ay_fx_06_disparo_fire
869   0000              	GLOBAL _ay_fx_06_disparo_axe
870   0000              	GLOBAL _ay_fx_06_respawn
871   0000              	GLOBAL _ay_fx_06_explosion1
872   0000              	GLOBAL _ay_fx_06_efecto
873   0000              	GLOBAL _ay_fx_06_disparo2
874   0000              	GLOBAL _ay_fx_06_disparo1
875   0000              	GLOBAL _ay_fx_06_checkpoint
876   0000              	GLOBAL _ay_fx_06_levelup
877   0000              	GLOBAL _ay_fx_06_mushroom
878   0000              	GLOBAL _ay_fx_06_magic
879   0000              	GLOBAL _ay_fx_06_sin_mana
880   0000              	GLOBAL _ay_fx_06_salto
881   0000              	GLOBAL _ay_fx_06_puerta
882   0000              	GLOBAL _ay_fx_06_magic1
883   0000              	GLOBAL _ay_fx_06_golpe
884   0000              	GLOBAL _ay_fx_06_explosion
885   0000              	GLOBAL _ay_fx_06_dano_por_toque
886   0000              	GLOBAL _ay_fx_06_coin
887   0000              	GLOBAL _ay_song_06_lotr_level_start
888   0000              	GLOBAL _ay_song_06_lotr_level_complete
889   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
890   0000              	GLOBAL _ay_song_04_doom
891   0000              	GLOBAL _ay_song_04_luna
892   0000              	GLOBAL _ay_song_04_ciel
893   0000              	GLOBAL _ay_song_04_hope
894   0000              	GLOBAL _ay_song_03_regis
895   0000              	GLOBAL _ay_song_03_sunflower
896   0000              	GLOBAL _ay_song_03_lotr
897   0000              	GLOBAL _world0_h
898   0000              	GLOBAL _world0_w
899   0000              	GLOBAL _world0
900   0000              	GLOBAL _paper0
901   0000              	GLOBAL _lenght0
902   0000              	GLOBAL _start_scr0
903   0000              ;--------------------------------------------------------
904   0000              ; special function registers
905   0000              ;--------------------------------------------------------
906   0000              defc _IO_FE	=	0x00fe
907   0000              defc _IO_1FFD	=	0x1ffd
908   0000              defc _IO_7FFD	=	0x7ffd
909   0000              ;--------------------------------------------------------
910   0000              ; ram data
911   0000              ;--------------------------------------------------------
912   0000              	SECTION bss_compiler
913   0000              ;--------------------------------------------------------
914   0000              ; ram data
915   0000              ;--------------------------------------------------------
916   0000              
917   0000              IF 0
918   0000              
919   0000              ; .area _INITIALIZED removed by z88dk
920   0000              
921   0000              
922   0000              ENDIF
923   0000              
924   0000              ;--------------------------------------------------------
925   0000              ; absolute external ram data
926   0000              ;--------------------------------------------------------
927   0000              	SECTION IGNORE
928   0000              ;--------------------------------------------------------
929   0000              ; global & static initialisations
930   0000              ;--------------------------------------------------------
931   0000              	SECTION code_crt_init
932   0000              ;--------------------------------------------------------
933   0000              ; Home
934   0000              ;--------------------------------------------------------
935   0000              	SECTION IGNORE
936   0000              ;--------------------------------------------------------
937   0000              ; code
938   0000              ;--------------------------------------------------------
939   0000              	SECTION code_compiler
940   0000              ;	---------------------------------
941   0000              ; Function spr_calc_index
942   0000              ; ---------------------------------
943   0000              _spr_calc_index:
944   0000  CD 00 00    	call	___sdcc_enter_ix
945   0003  DD 4E 05    	ld	c,(ix+5)
946   0006  CB 39       	srl	c
947   0008  06 00       	ld	b,0x00
948   000A  DD 7E 04    	ld	a,(ix+4)
949   000D  07          	rlca
950   000E  07          	rlca
951   000F  07          	rlca
952   0010  07          	rlca
953   0011  E6 0F       	and	a,0x0f
954   0013  6F          	ld	l, a
955   0014  26 00       	ld	h,0x00
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  29          	add	hl, hl
959   0019  29          	add	hl, hl
960   001A  09          	add	hl, bc
961   001B  DD E1       	pop	ix
962   001D  C9          	ret
963   001E              	SECTION code_compiler
964   001E              ;	---------------------------------
965   001E              ; Function spr_chktime
966   001E              ; ---------------------------------
967   001E              _spr_chktime:
968   001E  CD 00 00    	call	___sdcc_enter_ix
969   0021  F5          	push	af
970   0022  EB          	ex	de,hl
971   0023  ED 4B 00 00 	ld	bc,(_curr_time)
972   0027  1A          	ld	a, (de)
973   0028  5F          	ld	e,a
974   0029  6F          	ld	l,a
975   002A  26 00       	ld	h,0x00
976   002C  29          	add	hl, hl
977   002D  3E 00       	ld	a, +((_last_time) & 0xFF)
978   002F  85          	add	a, l
979   0030  DD 77 FE    	ld	(ix-2),a
980   0033  3E 00       	ld	a, +((_last_time) / 256)
981   0035  8C          	adc	a, h
982   0036  DD 77 FF    	ld	(ix-1),a
983   0039  E1          	pop	hl
984   003A  56          	ld	d,(hl)
985   003B  E5          	push	hl
986   003C  23          	inc	hl
987   003D  6E          	ld	l, (hl)
988   003E  79          	ld	a, c
989   003F  92          	sub	a, d
990   0040  4F          	ld	c, a
991   0041  78          	ld	a, b
992   0042  9D          	sbc	a, l
993   0043  47          	ld	b, a
994   0044  16 00       	ld	d,0x00
995   0046  21 00 00    	ld	hl,_sprite_speed
996   0049  19          	add	hl, de
997   004A  6E          	ld	l, (hl)
998   004B  AF          	xor	a,a
999   004C  67          	ld	h,a
1000  004D  ED 42       	sbc	hl,bc
1001  004F  30 0D       	jr	NC,l_spr_chktime_00102
1002  0051  E1          	pop	hl
1003  0052  ED 4B 00 00 	ld	bc,(_curr_time)
1004  0056  E5          	push	hl
1005  0057  71          	ld	(hl), c
1006  0058  23          	inc	hl
1007  0059  70          	ld	(hl), b
1008  005A  2E 01       	ld	l,0x01
1009  005C  18 02       	jr	l_spr_chktime_00103
1010  005E              l_spr_chktime_00102:
1011  005E  2E 00       	ld	l,0x00
1012  0060              l_spr_chktime_00103:
1013  0060  F1          	pop	af
1014  0061  DD E1       	pop	ix
1015  0063  C9          	ret
1016  0064              	SECTION code_compiler
1017  0064              ;	---------------------------------
1018  0064              ; Function spr_set_up
1019  0064              ; ---------------------------------
1020  0064              _spr_set_up:
1021  0064  CB C6       	set	0, (hl)
1022  0066  7E          	ld	a, (hl)
1023  0067  E6 FD       	and	a,0xfd
1024  0069  77          	ld	(hl), a
1025  006A  C9          	ret
1026  006B              	SECTION code_compiler
1027  006B              ;	---------------------------------
1028  006B              ; Function spr_set_down
1029  006B              ; ---------------------------------
1030  006B              _spr_set_down:
1031  006B  CB CE       	set	1, (hl)
1032  006D  7E          	ld	a, (hl)
1033  006E  E6 FE       	and	a,0xfe
1034  0070  77          	ld	(hl), a
1035  0071  C9          	ret
1036  0072              	SECTION code_compiler
1037  0072              ;	---------------------------------
1038  0072              ; Function spr_set_left
1039  0072              ; ---------------------------------
1040  0072              _spr_set_left:
1041  0072  CB DE       	set	3, (hl)
1042  0074  7E          	ld	a, (hl)
1043  0075  E6 FB       	and	a,0xfb
1044  0077  77          	ld	(hl), a
1045  0078  C9          	ret
1046  0079              	SECTION code_compiler
1047  0079              ;	---------------------------------
1048  0079              ; Function spr_set_right
1049  0079              ; ---------------------------------
1050  0079              _spr_set_right:
1051  0079  CB D6       	set	2, (hl)
1052  007B  7E          	ld	a, (hl)
1053  007C  E6 F7       	and	a,0xf7
1054  007E  77          	ld	(hl), a
1055  007F  C9          	ret
1056  0080              	SECTION code_compiler
1057  0080              ;	---------------------------------
1058  0080              ; Function spr_move_up
1059  0080              ; ---------------------------------
1060  0080              _spr_move_up:
1061  0080  2A 00 00    	ld	hl,(_sprite)
1062  0083  26 00       	ld	h,0x00
1063  0085  01 00 00    	ld	bc,_lin
1064  0088  09          	add	hl,bc
1065  0089  4E          	ld	c,(hl)
1066  008A  3E 10       	ld	a,0x10
1067  008C  91          	sub	a,c
1068  008D  38 16       	jr	C,l_spr_move_up_00109
1069  008F  3A 00 00    	ld	a,(_sprite)
1070  0092  D6 07       	sub	a,0x07
1071  0094  20 0B       	jr	NZ,l_spr_move_up_00104
1072  0096  CD 34 04    	call	_spr_page_up
1073  0099  7D          	ld	a, l
1074  009A  B7          	or	a, a
1075  009B  28 04       	jr	Z,l_spr_move_up_00104
1076  009D  2E 00       	ld	l,0x00
1077  009F  18 50       	jr	l_spr_move_up_00111
1078  00A1              l_spr_move_up_00104:
1079  00A1  2E 01       	ld	l,0x01
1080  00A3  18 4C       	jr	l_spr_move_up_00111
1081  00A5              l_spr_move_up_00109:
1082  00A5  79          	ld	a, c
1083  00A6  C6 FE       	add	a,0xfe
1084  00A8  32 00 00    	ld	(_s_lin1),a
1085  00AB  07          	rlca
1086  00AC  07          	rlca
1087  00AD  07          	rlca
1088  00AE  07          	rlca
1089  00AF  E6 0F       	and	a,0x0f
1090  00B1  4F          	ld	c, a
1091  00B2  3A 00 00    	ld	a,(_s_lin0)
1092  00B5  07          	rlca
1093  00B6  07          	rlca
1094  00B7  07          	rlca
1095  00B8  07          	rlca
1096  00B9  E6 0F       	and	a,0x0f
1097  00BB  47          	ld	b, a
1098  00BC  79          	ld	a, c
1099  00BD  90          	sub	a, b
1100  00BE  20 04       	jr	NZ,l_spr_move_up_00135
1101  00C0  3E 01       	ld	a,0x01
1102  00C2  18 01       	jr	l_spr_move_up_00136
1103  00C4              l_spr_move_up_00135:
1104  00C4  AF          	xor	a,a
1105  00C5              l_spr_move_up_00136:
1106  00C5  EE 01       	xor	a,0x01
1107  00C7  28 19       	jr	Z,l_spr_move_up_00106
1108  00C9  2A 00 00    	ld	hl,(_sprite)
1109  00CC  26 00       	ld	h,0x00
1110  00CE  01 00 00    	ld	bc,_col
1111  00D1  09          	add	hl,bc
1112  00D2  2A 00 00    	ld	hl, (_s_lin1)
1113  00D5  E5          	push	hl
1114  00D6  CD 00 00    	call	_game_check_map
1115  00D9  F1          	pop	af
1116  00DA  7C          	ld	a,h
1117  00DB  B5          	or	a,l
1118  00DC  28 04       	jr	Z,l_spr_move_up_00106
1119  00DE  2E 01       	ld	l,0x01
1120  00E0  18 0F       	jr	l_spr_move_up_00111
1121  00E2              l_spr_move_up_00106:
1122  00E2  2A 00 00    	ld	hl,(_sprite)
1123  00E5  26 00       	ld	h,0x00
1124  00E7  01 00 00    	ld	bc,_lin
1125  00EA  09          	add	hl,bc
1126  00EB  3A 00 00    	ld	a,(_s_lin1)
1127  00EE  77          	ld	(hl),a
1128  00EF  2E 00       	ld	l,0x00
1129  00F1              l_spr_move_up_00111:
1130  00F1  C9          	ret
1131  00F2              	SECTION code_compiler
1132  00F2              ;	---------------------------------
1133  00F2              ; Function spr_move_down
1134  00F2              ; ---------------------------------
1135  00F2              _spr_move_down:
1136  00F2  2A 00 00    	ld	hl,(_sprite)
1137  00F5  26 00       	ld	h,0x00
1138  00F7  01 00 00    	ld	bc,_lin
1139  00FA  09          	add	hl,bc
1140  00FB  7E          	ld	a,(hl)
1141  00FC  FE 90       	cp	a,0x90
1142  00FE  38 2C       	jr	C,l_spr_move_down_00112
1143  0100  3A 00 00    	ld	a,(_sprite)
1144  0103  D6 07       	sub	a,0x07
1145  0105  28 04       	jr	Z,l_spr_move_down_00137
1146  0107  4D          	ld	c,l
1147  0108  44          	ld	b,h
1148  0109  18 1A       	jr	l_spr_move_down_00105
1149  010B              l_spr_move_down_00137:
1150  010B  CD E5 03    	call	_spr_page_down
1151  010E  7D          	ld	a, l
1152  010F  B7          	or	a, a
1153  0110  28 04       	jr	Z,l_spr_move_down_00102
1154  0112  2E 01       	ld	l,0x01
1155  0114  18 63       	jr	l_spr_move_down_00114
1156  0116              l_spr_move_down_00102:
1157  0116  2A 00 00    	ld	hl,(_sprite)
1158  0119  26 00       	ld	h,0x00
1159  011B  01 00 00    	ld	bc,_lin
1160  011E  09          	add	hl,bc
1161  011F  36 90       	ld	(hl),0x90
1162  0121  2E 01       	ld	l,0x01
1163  0123  18 54       	jr	l_spr_move_down_00114
1164  0125              l_spr_move_down_00105:
1165  0125  3E 90       	ld	a,0x90
1166  0127  02          	ld	(bc), a
1167  0128  2E 01       	ld	l,0x01
1168  012A  18 4D       	jr	l_spr_move_down_00114
1169  012C              l_spr_move_down_00112:
1170  012C  C6 10       	add	a,0x10
1171  012E  32 00 00    	ld	(_s_lin1),a
1172  0131  07          	rlca
1173  0132  07          	rlca
1174  0133  07          	rlca
1175  0134  07          	rlca
1176  0135  E6 0F       	and	a,0x0f
1177  0137  4F          	ld	c, a
1178  0138  3A 00 00    	ld	a,(_s_lin0)
1179  013B  07          	rlca
1180  013C  07          	rlca
1181  013D  07          	rlca
1182  013E  07          	rlca
1183  013F  E6 0F       	and	a,0x0f
1184  0141  47          	ld	b, a
1185  0142  79          	ld	a, c
1186  0143  90          	sub	a, b
1187  0144  20 04       	jr	NZ,l_spr_move_down_00138
1188  0146  3E 01       	ld	a,0x01
1189  0148  18 01       	jr	l_spr_move_down_00139
1190  014A              l_spr_move_down_00138:
1191  014A  AF          	xor	a,a
1192  014B              l_spr_move_down_00139:
1193  014B  EE 01       	xor	a,0x01
1194  014D  28 19       	jr	Z,l_spr_move_down_00110
1195  014F  2A 00 00    	ld	hl,(_sprite)
1196  0152  26 00       	ld	h,0x00
1197  0154  01 00 00    	ld	bc,_col
1198  0157  09          	add	hl,bc
1199  0158  2A 00 00    	ld	hl, (_s_lin1)
1200  015B  E5          	push	hl
1201  015C  CD 00 00    	call	_game_check_map
1202  015F  F1          	pop	af
1203  0160  7C          	ld	a,h
1204  0161  B5          	or	a,l
1205  0162  28 04       	jr	Z,l_spr_move_down_00110
1206  0164  2E 01       	ld	l,0x01
1207  0166  18 11       	jr	l_spr_move_down_00114
1208  0168              l_spr_move_down_00110:
1209  0168  2A 00 00    	ld	hl,(_sprite)
1210  016B  26 00       	ld	h,0x00
1211  016D  01 00 00    	ld	bc,_lin
1212  0170  09          	add	hl,bc
1213  0171  3A 00 00    	ld	a,(_s_lin1)
1214  0174  C6 F2       	add	a,0xf2
1215  0176  77          	ld	(hl),a
1216  0177  2E 00       	ld	l,0x00
1217  0179              l_spr_move_down_00114:
1218  0179  C9          	ret
1219  017A              	SECTION code_compiler
1220  017A              ;	---------------------------------
1221  017A              ; Function spr_move_horizontal
1222  017A              ; ---------------------------------
1223  017A              _spr_move_horizontal:
1224  017A  2A 00 00    	ld	hl,(_sprite)
1225  017D  26 00       	ld	h,0x00
1226  017F  01 00 00    	ld	bc,_state
1227  0182  09          	add	hl,bc
1228  0183  7E          	ld	a,(hl)
1229  0184  CB 57       	bit	2, a
1230  0186  28 05       	jr	Z,l_spr_move_horizontal_00104
1231  0188  CD 99 01    	call	_spr_move_right
1232  018B  18 0B       	jr	l_spr_move_horizontal_00106
1233  018D              l_spr_move_horizontal_00104:
1234  018D  CB 5F       	bit	3, a
1235  018F  28 05       	jr	Z,l_spr_move_horizontal_00105
1236  0191  CD 8D 02    	call	_spr_move_left
1237  0194  18 02       	jr	l_spr_move_horizontal_00106
1238  0196              l_spr_move_horizontal_00105:
1239  0196  2E 00       	ld	l,0x00
1240  0198              l_spr_move_horizontal_00106:
1241  0198  C9          	ret
1242  0199              	SECTION code_compiler
1243  0199              ;	---------------------------------
1244  0199              ; Function spr_move_right
1245  0199              ; ---------------------------------
1246  0199              _spr_move_right:
1247  0199  2A 00 00    	ld	hl,(_sprite)
1248  019C  26 00       	ld	h,0x00
1249  019E  01 00 00    	ld	bc,_colint
1250  01A1  09          	add	hl,bc
1251  01A2  7E          	ld	a,(hl)
1252  01A3  3C          	inc	a
1253  01A4  77          	ld	(hl),a
1254  01A5  4F          	ld	c, a
1255  01A6  2A 00 00    	ld	hl,(_s_class)
1256  01A9  26 00       	ld	h,0x00
1257  01AB  11 00 00    	ld	de,_sprite_frames
1258  01AE  19          	add	hl,de
1259  01AF  7E          	ld	a,(hl)
1260  01B0  91          	sub	a, c
1261  01B1  C2 8A 02    	jp	NZ,l_spr_move_right_00118
1262  01B4  2A 00 00    	ld	hl,(_sprite)
1263  01B7  26 00       	ld	h,0x00
1264  01B9  01 00 00    	ld	bc,_lin
1265  01BC  09          	add	hl,bc
1266  01BD  7E          	ld	a,(hl)
1267  01BE  32 00 00    	ld	(_s_lin1),a
1268  01C1  2A 00 00    	ld	hl,(_sprite)
1269  01C4  26 00       	ld	h,0x00
1270  01C6  01 00 00    	ld	bc,_col
1271  01C9  09          	add	hl,bc
1272  01CA  7E          	ld	a,(hl)
1273  01CB  FE 1E       	cp	a,0x1e
1274  01CD  30 5E       	jr	NC,l_spr_move_right_00108
1275  01CF  3C          	inc	a
1276  01D0  32 00 00    	ld	(_s_col1),a
1277  01D3  21 00 00    	ld	hl,_sprite_horizontal_check
1278  01D6  36 01       	ld	(hl),0x01
1279  01D8  2A FF FF    	ld	hl,(_s_col1 - 1)
1280  01DB  3A 00 00    	ld	a,(_s_lin1)
1281  01DE  6F          	ld	l,a
1282  01DF  E5          	push	hl
1283  01E0  CD 00 00    	call	_game_check_map
1284  01E3  F1          	pop	af
1285  01E4  7D          	ld	a,l
1286  01E5  32 00 00    	ld	(_tmp0),a
1287  01E8  B7          	or	a, a
1288  01E9  20 13       	jr	NZ,l_spr_move_right_00102
1289  01EB  3A 00 00    	ld	a,(_s_lin1)
1290  01EE  C6 0F       	add	a,0x0f
1291  01F0  4F          	ld	c, a
1292  01F1  3A 00 00    	ld	a, (_s_col1)
1293  01F4  47          	ld	b,a
1294  01F5  C5          	push	bc
1295  01F6  CD 00 00    	call	_game_check_map
1296  01F9  F1          	pop	af
1297  01FA  7D          	ld	a,l
1298  01FB  32 00 00    	ld	(_tmp0),a
1299  01FE              l_spr_move_right_00102:
1300  01FE  21 00 00    	ld	hl,_sprite_horizontal_check
1301  0201  36 00       	ld	(hl),0x00
1302  0203  3A 00 00    	ld	a,(_tmp0)
1303  0206  B7          	or	a, a
1304  0207  28 24       	jr	Z,l_spr_move_right_00108
1305  0209  2A 00 00    	ld	hl,(_sprite)
1306  020C  26 00       	ld	h,0x00
1307  020E  01 00 00    	ld	bc,_colint
1308  0211  09          	add	hl,bc
1309  0212  7E          	ld	a,(hl)
1310  0213  C6 FF       	add	a,0xff
1311  0215  77          	ld	(hl),a
1312  0216  3A 00 00    	ld	a,(_sprite_on_air)
1313  0219  B7          	or	a,a
1314  021A  20 0D       	jr	NZ,l_spr_move_right_00104
1315  021C  2A 00 00    	ld	hl,(_sprite)
1316  021F  26 00       	ld	h,0x00
1317  0221  01 00 00    	ld	bc,_colint
1318  0224  09          	add	hl,bc
1319  0225  7E          	ld	a,(hl)
1320  0226  C6 FF       	add	a,0xff
1321  0228  77          	ld	(hl),a
1322  0229              l_spr_move_right_00104:
1323  0229  2E 01       	ld	l,0x01
1324  022B  18 5F       	jr	l_spr_move_right_00119
1325  022D              l_spr_move_right_00108:
1326  022D  2A 00 00    	ld	hl,(_sprite)
1327  0230  26 00       	ld	h,0x00
1328  0232  01 00 00    	ld	bc,_col
1329  0235  09          	add	hl,bc
1330  0236  34          	inc	(hl)
1331  0237  2A 00 00    	ld	hl,(_sprite)
1332  023A  26 00       	ld	h,0x00
1333  023C  01 00 00    	ld	bc,_colint
1334  023F  09          	add	hl,bc
1335  0240  AF          	xor	a,a
1336  0241  77          	ld	(hl),a
1337  0242  2A 00 00    	ld	hl,(_sprite)
1338  0245  26 00       	ld	h,0x00
1339  0247  01 00 00    	ld	bc,_col
1340  024A  09          	add	hl,bc
1341  024B  5E          	ld	e,(hl)
1342  024C  3E 1E       	ld	a,0x1e
1343  024E  93          	sub	a,e
1344  024F  30 39       	jr	NC,l_spr_move_right_00118
1345  0251  3A 00 00    	ld	a,(_sprite)
1346  0254  D6 07       	sub	a,0x07
1347  0256  28 04       	jr	Z,l_spr_move_right_00156
1348  0258  4D          	ld	c,l
1349  0259  44          	ld	b,h
1350  025A  18 27       	jr	l_spr_move_right_00113
1351  025C              l_spr_move_right_00156:
1352  025C  CD 83 03    	call	_spr_page_right
1353  025F  3A 00 00    	ld	a,(_sprite)
1354  0262  C6 00       	add	a,+((_col) & 0xFF)
1355  0264  4D          	ld	c,l
1356  0265  5F          	ld	e,a
1357  0266  3E 00       	ld	a,+((_col) / 256)
1358  0268  CE 00       	adc	a,0x00
1359  026A  57          	ld	d,a
1360  026B  79          	ld	a, c
1361  026C  B7          	or	a, a
1362  026D  28 0F       	jr	Z,l_spr_move_right_00110
1363  026F  AF          	xor	a, a
1364  0270  12          	ld	(de), a
1365  0271  3A 07 00    	ld	a,(_lin + 7)
1366  0274  32 00 00    	ld	(_player_lin_scr),a
1367  0277  21 00 00    	ld	hl,_player_col_scr
1368  027A  36 00       	ld	(hl),0x00
1369  027C  18 08       	jr	l_spr_move_right_00114
1370  027E              l_spr_move_right_00110:
1371  027E  3E 1E       	ld	a,0x1e
1372  0280  12          	ld	(de), a
1373  0281  18 03       	jr	l_spr_move_right_00114
1374  0283              l_spr_move_right_00113:
1375  0283  3E 1E       	ld	a,0x1e
1376  0285  02          	ld	(bc), a
1377  0286              l_spr_move_right_00114:
1378  0286  2E 01       	ld	l,0x01
1379  0288  18 02       	jr	l_spr_move_right_00119
1380  028A              l_spr_move_right_00118:
1381  028A  2E 00       	ld	l,0x00
1382  028C              l_spr_move_right_00119:
1383  028C  C9          	ret
1384  028D              	SECTION code_compiler
1385  028D              ;	---------------------------------
1386  028D              ; Function spr_move_left
1387  028D              ; ---------------------------------
1388  028D              _spr_move_left:
1389  028D  01 00 00    	ld	bc,_colint+0
1390  0290  79          	ld	a, c
1391  0291  21 00 00    	ld	hl,_sprite
1392  0294  86          	add	a, (hl)
1393  0295  5F          	ld	e, a
1394  0296  78          	ld	a, b
1395  0297  CE 00       	adc	a,0x00
1396  0299  57          	ld	d, a
1397  029A  1A          	ld	a, (de)
1398  029B  C6 FF       	add	a,0xff
1399  029D  12          	ld	(de), a
1400  029E  79          	ld	a, c
1401  029F  86          	add	a, (hl)
1402  02A0  5F          	ld	e, a
1403  02A1  78          	ld	a, b
1404  02A2  CE 00       	adc	a,0x00
1405  02A4  57          	ld	d, a
1406  02A5  1A          	ld	a, (de)
1407  02A6  3C          	inc	a
1408  02A7  C2 80 03    	jp	NZ,l_spr_move_left_00118
1409  02AA  5E          	ld	e,(hl)
1410  02AB  16 00       	ld	d,0x00
1411  02AD  21 00 00    	ld	hl,_lin
1412  02B0  19          	add	hl,de
1413  02B1  7E          	ld	a,(hl)
1414  02B2  32 00 00    	ld	(_s_lin1),a
1415  02B5  2A 00 00    	ld	hl,(_sprite)
1416  02B8  26 00       	ld	h,0x00
1417  02BA  11 00 00    	ld	de,_col
1418  02BD  19          	add	hl,de
1419  02BE  7E          	ld	a,(hl)
1420  02BF  B7          	or	a, a
1421  02C0  28 58       	jr	Z,l_spr_move_left_00108
1422  02C2  C6 FF       	add	a,0xff
1423  02C4  32 00 00    	ld	(_s_col1),a
1424  02C7  21 00 00    	ld	hl,_sprite_horizontal_check
1425  02CA  36 01       	ld	(hl),0x01
1426  02CC  3A 00 00    	ld	a,(_s_col1)
1427  02CF  2A 00 00    	ld	hl,(_s_lin1)
1428  02D2  C5          	push	bc
1429  02D3  67          	ld	h,a
1430  02D4  E5          	push	hl
1431  02D5  CD 00 00    	call	_game_check_map
1432  02D8  F1          	pop	af
1433  02D9  C1          	pop	bc
1434  02DA  7D          	ld	a,l
1435  02DB  32 00 00    	ld	(_tmp0),a
1436  02DE  B7          	or	a, a
1437  02DF  20 16       	jr	NZ,l_spr_move_left_00102
1438  02E1  3A 00 00    	ld	a,(_s_lin1)
1439  02E4  C6 0F       	add	a,0x0f
1440  02E6  57          	ld	d, a
1441  02E7  3A 00 00    	ld	a,(_s_col1)
1442  02EA  C5          	push	bc
1443  02EB  5A          	ld	e,d
1444  02EC  57          	ld	d,a
1445  02ED  D5          	push	de
1446  02EE  CD 00 00    	call	_game_check_map
1447  02F1  F1          	pop	af
1448  02F2  C1          	pop	bc
1449  02F3  7D          	ld	a,l
1450  02F4  32 00 00    	ld	(_tmp0),a
1451  02F7              l_spr_move_left_00102:
1452  02F7  21 00 00    	ld	hl,_sprite_horizontal_check
1453  02FA  36 00       	ld	(hl),0x00
1454  02FC  3A 00 00    	ld	a,(_tmp0)
1455  02FF  B7          	or	a, a
1456  0300  28 18       	jr	Z,l_spr_move_left_00108
1457  0302  2A 00 00    	ld	hl,(_sprite)
1458  0305  26 00       	ld	h,0x00
1459  0307  09          	add	hl,bc
1460  0308  34          	inc	(hl)
1461  0309  3A 00 00    	ld	a,(_sprite_on_air)
1462  030C  B7          	or	a, a
1463  030D  20 07       	jr	NZ,l_spr_move_left_00104
1464  030F  2A 00 00    	ld	hl,(_sprite)
1465  0312  26 00       	ld	h,0x00
1466  0314  09          	add	hl,bc
1467  0315  34          	inc	(hl)
1468  0316              l_spr_move_left_00104:
1469  0316  2E 01       	ld	l,0x01
1470  0318  18 68       	jr	l_spr_move_left_00119
1471  031A              l_spr_move_left_00108:
1472  031A  2A 00 00    	ld	hl,(_sprite)
1473  031D  26 00       	ld	h,0x00
1474  031F  11 00 00    	ld	de,_col
1475  0322  19          	add	hl,de
1476  0323  7E          	ld	a,(hl)
1477  0324  EB          	ex	de,hl
1478  0325  C6 FF       	add	a,0xff
1479  0327  12          	ld	(de),a
1480  0328  2A 00 00    	ld	hl,(_sprite)
1481  032B  26 00       	ld	h,0x00
1482  032D  09          	add	hl,bc
1483  032E  4D          	ld	c,l
1484  032F  44          	ld	b,h
1485  0330  2A 00 00    	ld	hl,(_s_class)
1486  0333  26 00       	ld	h,0x00
1487  0335  11 00 00    	ld	de,_sprite_frames
1488  0338  19          	add	hl,de
1489  0339  7E          	ld	a,(hl)
1490  033A  C6 FF       	add	a,0xff
1491  033C  02          	ld	(bc), a
1492  033D  2A 00 00    	ld	hl,(_sprite)
1493  0340  26 00       	ld	h,0x00
1494  0342  01 00 00    	ld	bc,_col
1495  0345  09          	add	hl,bc
1496  0346  7E          	ld	a,(hl)
1497  0347  3C          	inc	a
1498  0348  20 36       	jr	NZ,l_spr_move_left_00118
1499  034A  3A 00 00    	ld	a,(_sprite)
1500  034D  D6 07       	sub	a,0x07
1501  034F  4D          	ld	c,l
1502  0350  44          	ld	b,h
1503  0351  20 27       	jr	NZ,l_spr_move_left_00113
1504  0353  CD B6 03    	call	_spr_page_left
1505  0356  3A 00 00    	ld	a,(_sprite)
1506  0359  C6 00       	add	a,+((_col) & 0xFF)
1507  035B  4D          	ld	c,l
1508  035C  5F          	ld	e,a
1509  035D  3E 00       	ld	a,+((_col) / 256)
1510  035F  CE 00       	adc	a,0x00
1511  0361  57          	ld	d,a
1512  0362  79          	ld	a, c
1513  0363  B7          	or	a, a
1514  0364  28 10       	jr	Z,l_spr_move_left_00110
1515  0366  3E 1E       	ld	a,0x1e
1516  0368  12          	ld	(de), a
1517  0369  3A 07 00    	ld	a,(_lin + 7)
1518  036C  32 00 00    	ld	(_player_lin_scr),a
1519  036F  21 00 00    	ld	hl,_player_col_scr
1520  0372  36 1E       	ld	(hl),0x1e
1521  0374  18 06       	jr	l_spr_move_left_00114
1522  0376              l_spr_move_left_00110:
1523  0376  AF          	xor	a, a
1524  0377  12          	ld	(de), a
1525  0378  18 02       	jr	l_spr_move_left_00114
1526  037A              l_spr_move_left_00113:
1527  037A  AF          	xor	a, a
1528  037B  02          	ld	(bc), a
1529  037C              l_spr_move_left_00114:
1530  037C  2E 01       	ld	l,0x01
1531  037E  18 02       	jr	l_spr_move_left_00119
1532  0380              l_spr_move_left_00118:
1533  0380  2E 00       	ld	l,0x00
1534  0382              l_spr_move_left_00119:
1535  0382  C9          	ret
1536  0383              	SECTION code_compiler
1537  0383              ;	---------------------------------
1538  0383              ; Function spr_page_right
1539  0383              ; ---------------------------------
1540  0383              _spr_page_right:
1541  0383  2A FF FF    	ld	hl,(_map_width - 1)
1542  0386  3A 00 00    	ld	a,(_scr_curr)
1543  0389  6F          	ld	l,a
1544  038A  E5          	push	hl
1545  038B  CD 00 00    	call	__moduchar_callee
1546  038E  7D          	ld	a, l
1547  038F  3C          	inc	a
1548  0390  32 00 00    	ld	(_tmp1),a
1549  0393  21 00 00    	ld	hl,_map_width
1550  0396  96          	sub	a, (hl)
1551  0397  30 1A       	jr	NC,l_spr_page_right_00102
1552  0399  3A 00 00    	ld	a,(_game_boss)
1553  039C  B7          	or	a, a
1554  039D  28 06       	jr	Z,l_spr_page_right_00101
1555  039F  3A 00 00    	ld	a,(_game_inmune)
1556  03A2  B7          	or	a, a
1557  03A3  28 0E       	jr	Z,l_spr_page_right_00102
1558  03A5              l_spr_page_right_00101:
1559  03A5  21 00 00    	ld	hl,_scr_curr
1560  03A8  34          	inc	(hl)
1561  03A9  CD E2 04    	call	_spr_page_map
1562  03AC  CD 00 00    	call	_game_draw_screen
1563  03AF  2E 01       	ld	l,0x01
1564  03B1  18 02       	jr	l_spr_page_right_00105
1565  03B3              l_spr_page_right_00102:
1566  03B3  2E 00       	ld	l,0x00
1567  03B5              l_spr_page_right_00105:
1568  03B5  C9          	ret
1569  03B6              	SECTION code_compiler
1570  03B6              ;	---------------------------------
1571  03B6              ; Function spr_page_left
1572  03B6              ; ---------------------------------
1573  03B6              _spr_page_left:
1574  03B6  2A FF FF    	ld	hl,(_map_width - 1)
1575  03B9  3A 00 00    	ld	a,(_scr_curr)
1576  03BC  6F          	ld	l,a
1577  03BD  E5          	push	hl
1578  03BE  CD 00 00    	call	__moduchar_callee
1579  03C1  7D          	ld	a,l
1580  03C2  32 00 00    	ld	(_tmp1),a
1581  03C5  B7          	or	a, a
1582  03C6  28 1A       	jr	Z,l_spr_page_left_00102
1583  03C8  3A 00 00    	ld	a,(_game_boss)
1584  03CB  B7          	or	a, a
1585  03CC  28 06       	jr	Z,l_spr_page_left_00101
1586  03CE  3A 00 00    	ld	a,(_game_inmune)
1587  03D1  B7          	or	a, a
1588  03D2  28 0E       	jr	Z,l_spr_page_left_00102
1589  03D4              l_spr_page_left_00101:
1590  03D4  21 00 00    	ld	hl,_scr_curr
1591  03D7  35          	dec	(hl)
1592  03D8  CD E2 04    	call	_spr_page_map
1593  03DB  CD 00 00    	call	_game_draw_screen
1594  03DE  2E 01       	ld	l,0x01
1595  03E0  18 02       	jr	l_spr_page_left_00105
1596  03E2              l_spr_page_left_00102:
1597  03E2  2E 00       	ld	l,0x00
1598  03E4              l_spr_page_left_00105:
1599  03E4  C9          	ret
1600  03E5              	SECTION code_compiler
1601  03E5              ;	---------------------------------
1602  03E5              ; Function spr_page_down
1603  03E5              ; ---------------------------------
1604  03E5              _spr_page_down:
1605  03E5  2A FF FF    	ld	hl,(_map_width - 1)
1606  03E8  3A 00 00    	ld	a,(_scr_curr)
1607  03EB  6F          	ld	l,a
1608  03EC  E5          	push	hl
1609  03ED  CD 00 00    	call	__divuchar_callee
1610  03F0  7D          	ld	a, l
1611  03F1  3C          	inc	a
1612  03F2  32 00 00    	ld	(_tmp1),a
1613  03F5  21 00 00    	ld	hl,_map_heigth
1614  03F8  96          	sub	a, (hl)
1615  03F9  30 36       	jr	NC,l_spr_page_down_00102
1616  03FB  3A 00 00    	ld	a,(_game_boss)
1617  03FE  B7          	or	a, a
1618  03FF  28 06       	jr	Z,l_spr_page_down_00101
1619  0401  3A 00 00    	ld	a,(_game_inmune)
1620  0404  B7          	or	a, a
1621  0405  28 2A       	jr	Z,l_spr_page_down_00102
1622  0407              l_spr_page_down_00101:
1623  0407  3A 00 00    	ld	a,(_scr_curr)
1624  040A  21 00 00    	ld	hl,_map_width
1625  040D  86          	add	a, (hl)
1626  040E  32 00 00    	ld	(_scr_curr),a
1627  0411  CD E2 04    	call	_spr_page_map
1628  0414  CD 00 00    	call	_game_draw_screen
1629  0417  21 00 00    	ld	hl,_player_lin_scr
1630  041A  36 08       	ld	(hl),0x08
1631  041C  2A 00 00    	ld	hl,(_sprite)
1632  041F  26 00       	ld	h,0x00
1633  0421  01 00 00    	ld	bc,_lin
1634  0424  09          	add	hl,bc
1635  0425  36 08       	ld	(hl),0x08
1636  0427  3A 07 00    	ld	a,(_col + 0x0007)
1637  042A  32 00 00    	ld	(_player_col_scr),a
1638  042D  2E 01       	ld	l,0x01
1639  042F  18 02       	jr	l_spr_page_down_00105
1640  0431              l_spr_page_down_00102:
1641  0431  2E 00       	ld	l,0x00
1642  0433              l_spr_page_down_00105:
1643  0433  C9          	ret
1644  0434              	SECTION code_compiler
1645  0434              ;	---------------------------------
1646  0434              ; Function spr_page_up
1647  0434              ; ---------------------------------
1648  0434              _spr_page_up:
1649  0434  2A FF FF    	ld	hl,(_map_width - 1)
1650  0437  3A 00 00    	ld	a,(_scr_curr)
1651  043A  6F          	ld	l,a
1652  043B  E5          	push	hl
1653  043C  CD 00 00    	call	__divuchar_callee
1654  043F  7D          	ld	a,l
1655  0440  32 00 00    	ld	(_tmp1),a
1656  0443  B7          	or	a, a
1657  0444  28 36       	jr	Z,l_spr_page_up_00102
1658  0446  3A 00 00    	ld	a,(_game_boss)
1659  0449  B7          	or	a, a
1660  044A  28 06       	jr	Z,l_spr_page_up_00101
1661  044C  3A 00 00    	ld	a,(_game_inmune)
1662  044F  B7          	or	a, a
1663  0450  28 2A       	jr	Z,l_spr_page_up_00102
1664  0452              l_spr_page_up_00101:
1665  0452  3A 00 00    	ld	a,(_scr_curr)
1666  0455  21 00 00    	ld	hl,_map_width
1667  0458  96          	sub	a, (hl)
1668  0459  32 00 00    	ld	(_scr_curr),a
1669  045C  CD E2 04    	call	_spr_page_map
1670  045F  CD 00 00    	call	_game_draw_screen
1671  0462  2A 00 00    	ld	hl,(_sprite)
1672  0465  26 00       	ld	h,0x00
1673  0467  01 00 00    	ld	bc,_lin
1674  046A  09          	add	hl,bc
1675  046B  36 8C       	ld	(hl),0x8c
1676  046D  21 00 00    	ld	hl,_player_lin_scr
1677  0470  36 8C       	ld	(hl),0x8c
1678  0472  3A 07 00    	ld	a,(_col + 0x0007)
1679  0475  32 00 00    	ld	(_player_col_scr),a
1680  0478  2E 01       	ld	l,0x01
1681  047A  18 02       	jr	l_spr_page_up_00105
1682  047C              l_spr_page_up_00102:
1683  047C  2E 00       	ld	l,0x00
1684  047E              l_spr_page_up_00105:
1685  047E  C9          	ret
1686  047F              	SECTION code_compiler
1687  047F              ;	---------------------------------
1688  047F              ; Function spr_clear_scr
1689  047F              ; ---------------------------------
1690  047F              _spr_clear_scr:
1691  047F  06 00       	ld	b,0x00
1692  0481              l_spr_clear_scr_00105:
1693  0481  C5          	push	bc
1694  0482  21 00 00    	ld	hl,0x0000
1695  0485  E5          	push	hl
1696  0486  AF          	xor	a, a
1697  0487  48          	ld	c,b
1698  0488  47          	ld	b,a
1699  0489  C5          	push	bc
1700  048A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1701  048D  C1          	pop	bc
1702  048E  04          	inc	b
1703  048F  78          	ld	a, b
1704  0490  D6 08       	sub	a,0x08
1705  0492  38 ED       	jr	C,l_spr_clear_scr_00105
1706  0494  76          	halt
1707  0495  F3          	di
1708  0496  0E 00       	ld	c,0x00
1709  0498              l_spr_clear_scr_00117:
1710  0498  79          	ld	a, c
1711  0499  87          	add	a, a
1712  049A  47          	ld	b, a
1713  049B  50          	ld	d, b
1714  049C  1E 01       	ld	e,0x01
1715  049E              l_spr_clear_scr_00107:
1716  049E  7B          	ld	a, e
1717  049F  07          	rlca
1718  04A0  07          	rlca
1719  04A1  07          	rlca
1720  04A2  07          	rlca
1721  04A3  E6 F0       	and	a,0xf0
1722  04A5  C5          	push	bc
1723  04A6  D5          	push	de
1724  04A7  5F          	ld	e,a
1725  04A8  D5          	push	de
1726  04A9  AF          	xor	a, a
1727  04AA  F5          	push	af
1728  04AB  33          	inc	sp
1729  04AC  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1730  04AF  D1          	pop	de
1731  04B0  C1          	pop	bc
1732  04B1  1C          	inc	e
1733  04B2  7B          	ld	a, e
1734  04B3  D6 0A       	sub	a,0x0a
1735  04B5  38 E7       	jr	C,l_spr_clear_scr_00107
1736  04B7  3E 1E       	ld	a,0x1e
1737  04B9  90          	sub	a, b
1738  04BA  47          	ld	b, a
1739  04BB  1E 01       	ld	e,0x01
1740  04BD              l_spr_clear_scr_00109:
1741  04BD  7B          	ld	a, e
1742  04BE  07          	rlca
1743  04BF  07          	rlca
1744  04C0  07          	rlca
1745  04C1  07          	rlca
1746  04C2  E6 F0       	and	a,0xf0
1747  04C4  57          	ld	d, a
1748  04C5  C5          	push	bc
1749  04C6  D5          	push	de
1750  04C7  4A          	ld	c, d
1751  04C8  C5          	push	bc
1752  04C9  AF          	xor	a, a
1753  04CA  F5          	push	af
1754  04CB  33          	inc	sp
1755  04CC  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1756  04CF  D1          	pop	de
1757  04D0  C1          	pop	bc
1758  04D1  1C          	inc	e
1759  04D2  7B          	ld	a, e
1760  04D3  D6 0A       	sub	a,0x0a
1761  04D5  38 E6       	jr	C,l_spr_clear_scr_00109
1762  04D7  FB          	ei
1763  04D8  76          	halt
1764  04D9  F3          	di
1765  04DA  0C          	inc	c
1766  04DB  79          	ld	a, c
1767  04DC  D6 08       	sub	a,0x08
1768  04DE  38 B8       	jr	C,l_spr_clear_scr_00117
1769  04E0  FB          	ei
1770  04E1  C9          	ret
1771  04E2              	SECTION code_compiler
1772  04E2              ;	---------------------------------
1773  04E2              ; Function spr_page_map
1774  04E2              ; ---------------------------------
1775  04E2              _spr_page_map:
1776  04E2  CD 00 00    	call	___sdcc_enter_ix
1777  04E5  21 F3 FF    	ld	hl, -13
1778  04E8  39          	add	hl, sp
1779  04E9  F9          	ld	sp, hl
1780  04EA  21 00 00    	ld	hl,_game_world
1781  04ED  5E          	ld	e, (hl)
1782  04EE  3A 00 00    	ld	a,(_scr_curr)
1783  04F1  DD 77 F3    	ld	(ix-13),a
1784  04F4  7B          	ld	a, e
1785  04F5  07          	rlca
1786  04F6  07          	rlca
1787  04F7  07          	rlca
1788  04F8  07          	rlca
1789  04F9  E6 F0       	and	a,0xf0
1790  04FB  47          	ld	b,a
1791  04FC  DD 86 F3    	add	a,(ix-13)
1792  04FF  4F          	ld	c, a
1793  0500  DD 36 F9 10 	ld	(ix-7),0x10
1794  0504  C5          	push	bc
1795  0505  D5          	push	de
1796  0506  CD 7F 04    	call	_spr_clear_scr
1797  0509  D1          	pop	de
1798  050A  C1          	pop	bc
1799  050B  F3          	di
1800  050C  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1801  050F  36 16       	ld	(hl),0x16
1802  0511  C5          	push	bc
1803  0512  3E 16       	ld	a,0x16
1804  0514  01 FD 7F    	ld	bc,_IO_7FFD
1805  0517  ED 79       	out	(c),a
1806  0519  C1          	pop	bc
1807  051A  DD 7E F3    	ld	a,(ix-13)
1808  051D  3C          	inc	a
1809  051E  20 0E       	jr	NZ,l_spr_page_map_00102
1810  0520  57          	ld	d,a
1811  0521  21 00 00    	ld	hl,_start_scr0
1812  0524  19          	add	hl, de
1813  0525  7E          	ld	a, (hl)
1814  0526  DD 77 F3    	ld	(ix-13),a
1815  0529  78          	ld	a, b
1816  052A  DD 86 F3    	add	a,(ix-13)
1817  052D  4F          	ld	c, a
1818  052E              l_spr_page_map_00102:
1819  052E  06 00       	ld	b,0x00
1820  0530  21 00 00    	ld	hl,_paper0
1821  0533  09          	add	hl, bc
1822  0534  7E          	ld	a, (hl)
1823  0535  DD 77 F4    	ld	(ix-12),a
1824  0538  16 00       	ld	d,0x00
1825  053A  21 00 00    	ld	hl,_world0_w
1826  053D  19          	add	hl, de
1827  053E  7E          	ld	a, (hl)
1828  053F  DD 77 F6    	ld	(ix-10),a
1829  0542  16 00       	ld	d,0x00
1830  0544  21 00 00    	ld	hl,_world0_h
1831  0547  19          	add	hl, de
1832  0548  7E          	ld	a, (hl)
1833  0549  DD 77 F5    	ld	(ix-11),a
1834  054C  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1835  054F  36 10       	ld	(hl),0x10
1836  0551  C5          	push	bc
1837  0552  3E 10       	ld	a,0x10
1838  0554  01 FD 7F    	ld	bc,_IO_7FFD
1839  0557  ED 79       	out	(c),a
1840  0559  C1          	pop	bc
1841  055A  1E 00       	ld	e,0x00
1842  055C  DD 73 F7    	ld	(ix-9),e
1843  055F  DD 73 F8    	ld	(ix-8),e
1844  0562              l_spr_page_map_00103:
1845  0562  7B          	ld	a, e
1846  0563  91          	sub	a, c
1847  0564  30 31       	jr	NC,l_spr_page_map_00105
1848  0566  C5          	push	bc
1849  0567  3E 16       	ld	a,0x16
1850  0569  01 FD 7F    	ld	bc,_IO_7FFD
1851  056C  ED 79       	out	(c),a
1852  056E  C1          	pop	bc
1853  056F  16 00       	ld	d,0x00
1854  0571  21 00 00    	ld	hl,_lenght0
1855  0574  19          	add	hl, de
1856  0575  46          	ld	b, (hl)
1857  0576  16 00       	ld	d,0x00
1858  0578  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1859  057B  36 10       	ld	(hl),0x10
1860  057D  C5          	push	bc
1861  057E  3E 10       	ld	a,0x10
1862  0580  01 FD 7F    	ld	bc,_IO_7FFD
1863  0583  ED 79       	out	(c),a
1864  0585  C1          	pop	bc
1865  0586  DD 7E F7    	ld	a,(ix-9)
1866  0589  80          	add	a, b
1867  058A  DD 77 F7    	ld	(ix-9),a
1868  058D  DD 7E F8    	ld	a,(ix-8)
1869  0590  8A          	adc	a, d
1870  0591  DD 77 F8    	ld	(ix-8),a
1871  0594  1C          	inc	e
1872  0595  18 CB       	jr	l_spr_page_map_00103
1873  0597              l_spr_page_map_00105:
1874  0597  FB          	ei
1875  0598  F3          	di
1876  0599  0E 00       	ld	c,0x00
1877  059B              l_spr_page_map_00128:
1878  059B  C5          	push	bc
1879  059C  3E 16       	ld	a,0x16
1880  059E  01 FD 7F    	ld	bc,_IO_7FFD
1881  05A1  ED 79       	out	(c),a
1882  05A3  C1          	pop	bc
1883  05A4  59          	ld	e, c
1884  05A5  16 00       	ld	d,0x00
1885  05A7  DD 6E F7    	ld	l,(ix-9)
1886  05AA  DD 66 F8    	ld	h,(ix-8)
1887  05AD  19          	add	hl,de
1888  05AE  EB          	ex	de,hl
1889  05AF  21 00 00    	ld	hl,_world0
1890  05B2  19          	add	hl, de
1891  05B3  7E          	ld	a, (hl)
1892  05B4  DD 77 FD    	ld	(ix-3),a
1893  05B7  13          	inc	de
1894  05B8  21 00 00    	ld	hl,_world0
1895  05BB  19          	add	hl, de
1896  05BC  7E          	ld	a, (hl)
1897  05BD  DD 77 FC    	ld	(ix-4),a
1898  05C0  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1899  05C3  36 10       	ld	(hl),0x10
1900  05C5  C5          	push	bc
1901  05C6  3E 10       	ld	a,0x10
1902  05C8  01 FD 7F    	ld	bc,_IO_7FFD
1903  05CB  ED 79       	out	(c),a
1904  05CD  C1          	pop	bc
1905  05CE  DD 7E FD    	ld	a,(ix-3)
1906  05D1  D6 80       	sub	a,0x80
1907  05D3  30 4F       	jr	NC,l_spr_page_map_00116
1908  05D5  DD 7E F9    	ld	a,(ix-7)
1909  05D8  DD 77 FE    	ld	(ix-2),a
1910  05DB  DD 36 FF 00 	ld	(ix-1),0x00
1911  05DF  C5          	push	bc
1912  05E0  DD 6E FE    	ld	l,(ix-2)
1913  05E3  DD 66 FF    	ld	h,(ix-1)
1914  05E6  CD 00 00    	call	_game_obj_chk
1915  05E9  C1          	pop	bc
1916  05EA  45          	ld	b, l
1917  05EB  3E 00       	ld	a, +((_scr_map) & 0xFF)
1918  05ED  DD 86 F9    	add	a,(ix-7)
1919  05F0  5F          	ld	e, a
1920  05F1  3E 00       	ld	a, +((_scr_map) / 256)
1921  05F3  CE 00       	adc	a,0x00
1922  05F5  57          	ld	d, a
1923  05F6  78          	ld	a, b
1924  05F7  B7          	or	a, a
1925  05F8  20 06       	jr	NZ,l_spr_page_map_00107
1926  05FA  DD 7E FD    	ld	a,(ix-3)
1927  05FD  12          	ld	(de), a
1928  05FE  18 1F       	jr	l_spr_page_map_00108
1929  0600              l_spr_page_map_00107:
1930  0600  DD 6E F9    	ld	l,(ix-7)
1931  0603  26 00       	ld	h,0x00
1932  0605  23          	inc	hl
1933  0606  3E 00       	ld	a, +((_scr_map) & 0xFF)
1934  0608  85          	add	a, l
1935  0609  6F          	ld	l, a
1936  060A  3E 00       	ld	a, +((_scr_map) / 256)
1937  060C  8C          	adc	a, h
1938  060D  67          	ld	h, a
1939  060E  36 00       	ld	(hl),0x00
1940  0610  C5          	push	bc
1941  0611  D5          	push	de
1942  0612  DD 6E FE    	ld	l,(ix-2)
1943  0615  DD 66 FF    	ld	h,(ix-1)
1944  0618  CD 00 00    	call	_game_match_back
1945  061B  D1          	pop	de
1946  061C  C1          	pop	bc
1947  061D  7D          	ld	a,l
1948  061E  12          	ld	(de), a
1949  061F              l_spr_page_map_00108:
1950  061F  DD 34 F9    	inc	(ix-7)
1951  0622  18 6D       	jr	l_spr_page_map_00117
1952  0624              l_spr_page_map_00116:
1953  0624  DD 7E FD    	ld	a,(ix-3)
1954  0627  C6 80       	add	a,0x80
1955  0629  DD 77 FB    	ld	(ix-5),a
1956  062C  DD 46 F9    	ld	b,(ix-7)
1957  062F  DD 36 FA 00 	ld	(ix-6),0x00
1958  0633              l_spr_page_map_00126:
1959  0633  DD 7E FA    	ld	a,(ix-6)
1960  0636  DD 96 FB    	sub	a,(ix-5)
1961  0639  30 52       	jr	NC,l_spr_page_map_00146
1962  063B  DD 70 FE    	ld	(ix-2),b
1963  063E  DD 36 FF 00 	ld	(ix-1),0x00
1964  0642  C5          	push	bc
1965  0643  DD 6E FE    	ld	l,(ix-2)
1966  0646  DD 66 FF    	ld	h,(ix-1)
1967  0649  CD 00 00    	call	_game_obj_chk
1968  064C  C1          	pop	bc
1969  064D  7D          	ld	a,l
1970  064E  B7          	or	a, a
1971  064F  20 0F       	jr	NZ,l_spr_page_map_00110
1972  0651  3E 00       	ld	a, +((_scr_map) & 0xFF)
1973  0653  80          	add	a, b
1974  0654  5F          	ld	e, a
1975  0655  3E 00       	ld	a, +((_scr_map) / 256)
1976  0657  CE 00       	adc	a,0x00
1977  0659  57          	ld	d, a
1978  065A  DD 7E FC    	ld	a,(ix-4)
1979  065D  12          	ld	(de), a
1980  065E  18 22       	jr	l_spr_page_map_00111
1981  0660              l_spr_page_map_00110:
1982  0660  58          	ld	e, b
1983  0661  16 00       	ld	d,0x00
1984  0663  13          	inc	de
1985  0664  21 00 00    	ld	hl,_scr_map
1986  0667  19          	add	hl, de
1987  0668  36 00       	ld	(hl),0x00
1988  066A  3E 00       	ld	a, +((_scr_map) & 0xFF)
1989  066C  80          	add	a, b
1990  066D  5F          	ld	e, a
1991  066E  3E 00       	ld	a, +((_scr_map) / 256)
1992  0670  CE 00       	adc	a,0x00
1993  0672  57          	ld	d, a
1994  0673  C5          	push	bc
1995  0674  D5          	push	de
1996  0675  DD 6E FE    	ld	l,(ix-2)
1997  0678  DD 66 FF    	ld	h,(ix-1)
1998  067B  CD 00 00    	call	_game_match_back
1999  067E  D1          	pop	de
2000  067F  C1          	pop	bc
2001  0680  7D          	ld	a,l
2002  0681  12          	ld	(de), a
2003  0682              l_spr_page_map_00111:
2004  0682  04          	inc	b
2005  0683  78          	ld	a, b
2006  0684  D6 A0       	sub	a,0xa0
2007  0686  30 05       	jr	NC,l_spr_page_map_00146
2008  0688  DD 34 FA    	inc	(ix-6)
2009  068B  18 A6       	jr	l_spr_page_map_00126
2010  068D              l_spr_page_map_00146:
2011  068D  DD 70 F9    	ld	(ix-7),b
2012  0690  0C          	inc	c
2013  0691              l_spr_page_map_00117:
2014  0691  DD 7E F9    	ld	a,(ix-7)
2015  0694  D6 A0       	sub	a,0xa0
2016  0696  30 07       	jr	NC,l_spr_page_map_00120
2017  0698  0C          	inc	c
2018  0699  79          	ld	a, c
2019  069A  D6 A0       	sub	a,0xa0
2020  069C  DA 9B 05    	jp	C, l_spr_page_map_00128
2021  069F              l_spr_page_map_00120:
2022  069F  DD 7E F3    	ld	a,(ix-13)
2023  06A2  32 00 00    	ld	(_scr_curr),a
2024  06A5  DD 7E F6    	ld	a,(ix-10)
2025  06A8  32 00 00    	ld	(_map_width),a
2026  06AB  DD 7E F5    	ld	a,(ix-11)
2027  06AE  32 00 00    	ld	(_map_heigth),a
2028  06B1  DD 7E F4    	ld	a,(ix-12)
2029  06B4  32 00 00    	ld	(_map_paper),a
2030  06B7  CD E6 0B    	call	_spr_init_effects
2031  06BA  3A 00 00    	ld	a,(_map_paper_last)
2032  06BD  21 00 00    	ld	hl,_map_paper
2033  06C0  96          	sub	a, (hl)
2034  06C1  28 03       	jr	Z,l_spr_page_map_00122
2035  06C3  CD 9E 13    	call	_spr_btile_paint_back
2036  06C6              l_spr_page_map_00122:
2037  06C6  FB          	ei
2038  06C7  CD 00 00    	call	_NIRVANAP_start
2039  06CA  21 00 00    	ld	hl,_screen_ink
2040  06CD  36 06       	ld	(hl),0x06
2041  06CF  3A 00 00    	ld	a,(_game_debug)
2042  06D2  B7          	or	a, a
2043  06D3  28 17       	jr	Z,l_spr_page_map_00130
2044  06D5  21 00 00    	ld	hl,___str_0
2045  06D8  E5          	push	hl
2046  06D9  21 17 0C    	ld	hl,0x0c17
2047  06DC  E5          	push	hl
2048  06DD  CD 00 00    	call	_zx_print_str
2049  06E0  3A 00 00    	ld	a,(_scr_curr)
2050  06E3  F5          	push	af
2051  06E4  33          	inc	sp
2052  06E5  21 17 10    	ld	hl,0x1017
2053  06E8  E5          	push	hl
2054  06E9  CD 00 00    	call	_zx_print_chr
2055  06EC              l_spr_page_map_00130:
2056  06EC  DD F9       	ld	sp, ix
2057  06EE  DD E1       	pop	ix
2058  06F0  C9          	ret
2059  06F1              	SECTION rodata_compiler
2060  0000              ___str_0:
2061  0000  53 43 52 3A 	DEFM "SCR:"
2062  0004  00          	DEFB 0x00
2063  0005              	SECTION code_compiler
2064  06F1              ;	---------------------------------
2065  06F1              ; Function spr_paint_player
2066  06F1              ; ---------------------------------
2067  06F1              _spr_paint_player:
2068  06F1  3A 00 00    	ld	a,(_player_hit)
2069  06F4  B7          	or	a, a
2070  06F5  28 1C       	jr	Z,l_spr_paint_player_00104
2071  06F7  21 00 00    	ld	hl,_loop_count
2072  06FA  CB 46       	bit	0, (hl)
2073  06FC  20 15       	jr	NZ,l_spr_paint_player_00104
2074  06FE  CD 63 0A    	call	_spr_back_repaint
2075  0701  21 00 00    	ld	hl,0x0000
2076  0704  E5          	push	hl
2077  0705  AF          	xor	a, a
2078  0706  2A 00 00    	ld	hl,(_sprite)
2079  0709  67          	ld	h,a
2080  070A  E5          	push	hl
2081  070B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2082  070E  2E 01       	ld	l,0x01
2083  0710  C3 9D 07    	jp	l_spr_paint_player_00113
2084  0713              l_spr_paint_player_00104:
2085  0713  3A 07 00    	ld	a,(_col + 0x0007)
2086  0716  32 00 00    	ld	(_s_col1),a
2087  0719  3A 07 00    	ld	a,(_lin + 0x0007)
2088  071C  32 00 00    	ld	(_s_lin1),a
2089  071F  21 00 00    	ld	hl,_s_lin0
2090  0722  96          	sub	a, (hl)
2091  0723  20 09       	jr	NZ,l_spr_paint_player_00109
2092  0725  3A 00 00    	ld	a,(_s_col1)
2093  0728  21 00 00    	ld	hl,_s_col0
2094  072B  96          	sub	a, (hl)
2095  072C  28 30       	jr	Z,l_spr_paint_player_00110
2096  072E              l_spr_paint_player_00109:
2097  072E  21 07 00    	ld	hl,+(_tile + 0x0007)
2098  0731  4E          	ld	c, (hl)
2099  0732  21 07 00    	ld	hl,+(_colint + 0x0007)
2100  0735  46          	ld	b, (hl)
2101  0736  79          	ld	a, c
2102  0737  80          	add	a, b
2103  0738  32 00 00    	ld	(_s_tile1),a
2104  073B  3A 00 00    	ld	a,(_player_onstair)
2105  073E  B7          	or	a, a
2106  073F  28 03       	jr	Z,l_spr_paint_player_00106
2107  0741  CD 00 00    	call	_player_anim_stairs
2108  0744              l_spr_paint_player_00106:
2109  0744  CD 63 0A    	call	_spr_back_repaint
2110  0747  2A FF FF    	ld	hl,(_s_col1 - 1)
2111  074A  3A 00 00    	ld	a,(_s_lin1)
2112  074D  6F          	ld	l,a
2113  074E  E5          	push	hl
2114  074F  2A FF FF    	ld	hl,(_s_tile1 - 1)
2115  0752  3A 00 00    	ld	a,(_sprite)
2116  0755  6F          	ld	l,a
2117  0756  E5          	push	hl
2118  0757  CD 00 00    	call	_NIRVANAP_spriteT_callee
2119  075A  2E 01       	ld	l,0x01
2120  075C  18 3F       	jr	l_spr_paint_player_00113
2121  075E              l_spr_paint_player_00110:
2122  075E  3A 00 00    	ld	a,(_sprite)
2123  0761  07          	rlca
2124  0762  07          	rlca
2125  0763  07          	rlca
2126  0764  E6 F8       	and	a,0xf8
2127  0766  4F          	ld	c, a
2128  0767  06 00       	ld	b,0x00
2129  0769  21 98 DC    	ld	hl,0xdc98
2130  076C  09          	add	hl, bc
2131  076D  7E          	ld	a, (hl)
2132  076E  32 00 00    	ld	(_s_tile0),a
2133  0771  21 07 00    	ld	hl,+(_tile + 0x0007)
2134  0774  4E          	ld	c, (hl)
2135  0775  21 07 00    	ld	hl,+(_colint + 0x0007)
2136  0778  46          	ld	b, (hl)
2137  0779  79          	ld	a, c
2138  077A  80          	add	a, b
2139  077B  32 00 00    	ld	(_s_tile1),a
2140  077E  21 00 00    	ld	hl,_s_tile0
2141  0781  96          	sub	a, (hl)
2142  0782  28 17       	jr	Z,l_spr_paint_player_00111
2143  0784  2A FF FF    	ld	hl,(_s_col1 - 1)
2144  0787  3A 00 00    	ld	a,(_s_lin1)
2145  078A  6F          	ld	l,a
2146  078B  E5          	push	hl
2147  078C  2A FF FF    	ld	hl,(_s_tile1 - 1)
2148  078F  3A 00 00    	ld	a,(_sprite)
2149  0792  6F          	ld	l,a
2150  0793  E5          	push	hl
2151  0794  CD 00 00    	call	_NIRVANAP_spriteT_callee
2152  0797  2E 00       	ld	l,0x00
2153  0799  18 02       	jr	l_spr_paint_player_00113
2154  079B              l_spr_paint_player_00111:
2155  079B  2E 00       	ld	l,0x00
2156  079D              l_spr_paint_player_00113:
2157  079D  C9          	ret
2158  079E              	SECTION code_compiler
2159  079E              ;	---------------------------------
2160  079E              ; Function spr_paint
2161  079E              ; ---------------------------------
2162  079E              _spr_paint:
2163  079E  2A 00 00    	ld	hl,(_sprite)
2164  07A1  26 00       	ld	h,0x00
2165  07A3  01 00 00    	ld	bc,_col
2166  07A6  09          	add	hl,bc
2167  07A7  7E          	ld	a,(hl)
2168  07A8  32 00 00    	ld	(_s_col1),a
2169  07AB  2A 00 00    	ld	hl,(_sprite)
2170  07AE  26 00       	ld	h,0x00
2171  07B0  01 00 00    	ld	bc,_lin
2172  07B3  09          	add	hl,bc
2173  07B4  7E          	ld	a,(hl)
2174  07B5  32 00 00    	ld	(_s_lin1),a
2175  07B8  21 00 00    	ld	hl,_s_lin0
2176  07BB  96          	sub	a, (hl)
2177  07BC  20 09       	jr	NZ,l_spr_paint_00106
2178  07BE  3A 00 00    	ld	a,(_s_col1)
2179  07C1  21 00 00    	ld	hl,_s_col0
2180  07C4  96          	sub	a, (hl)
2181  07C5  28 4C       	jr	Z,l_spr_paint_00107
2182  07C7              l_spr_paint_00106:
2183  07C7  2A 00 00    	ld	hl,(_sprite)
2184  07CA  26 00       	ld	h,0x00
2185  07CC  01 00 00    	ld	bc,_tile
2186  07CF  09          	add	hl,bc
2187  07D0  4E          	ld	c, (hl)
2188  07D1  3A 00 00    	ld	a,(_sprite)
2189  07D4  5F          	ld	e,a
2190  07D5  16 00       	ld	d,0x00
2191  07D7  21 00 00    	ld	hl,_colint
2192  07DA  19          	add	hl,de
2193  07DB  7E          	ld	a,(hl)
2194  07DC  81          	add	a,c
2195  07DD  32 00 00    	ld	(_s_tile1),a
2196  07E0  3A 00 00    	ld	a,(_s_lin1)
2197  07E3  E6 07       	and	a,0x07
2198  07E5  20 05       	jr	NZ,l_spr_paint_00102
2199  07E7  CD 63 0A    	call	_spr_back_repaint
2200  07EA  18 10       	jr	l_spr_paint_00103
2201  07EC              l_spr_paint_00102:
2202  07EC  2A FF FF    	ld	hl,(_s_col0 - 1)
2203  07EF  3A 00 00    	ld	a,(_s_lin0)
2204  07F2  6F          	ld	l,a
2205  07F3  3A 00 00    	ld	a,(_map_paper_clr)
2206  07F6  E5          	push	hl
2207  07F7  F5          	push	af
2208  07F8  33          	inc	sp
2209  07F9  CD 00 00    	call	_NIRVANAP_fillT_callee
2210  07FC              l_spr_paint_00103:
2211  07FC  2A FF FF    	ld	hl,(_s_col1 - 1)
2212  07FF  3A 00 00    	ld	a,(_s_lin1)
2213  0802  6F          	ld	l,a
2214  0803  E5          	push	hl
2215  0804  2A FF FF    	ld	hl,(_s_tile1 - 1)
2216  0807  3A 00 00    	ld	a,(_sprite)
2217  080A  6F          	ld	l,a
2218  080B  E5          	push	hl
2219  080C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2220  080F  2E 01       	ld	l,0x01
2221  0811  18 4B       	jr	l_spr_paint_00110
2222  0813              l_spr_paint_00107:
2223  0813  3A 00 00    	ld	a,(_sprite)
2224  0816  07          	rlca
2225  0817  07          	rlca
2226  0818  07          	rlca
2227  0819  E6 F8       	and	a,0xf8
2228  081B  4F          	ld	c, a
2229  081C  06 00       	ld	b,0x00
2230  081E  21 98 DC    	ld	hl,0xdc98
2231  0821  09          	add	hl, bc
2232  0822  7E          	ld	a, (hl)
2233  0823  32 00 00    	ld	(_s_tile0),a
2234  0826  2A 00 00    	ld	hl,(_sprite)
2235  0829  26 00       	ld	h,0x00
2236  082B  01 00 00    	ld	bc,_tile
2237  082E  09          	add	hl,bc
2238  082F  4E          	ld	c, (hl)
2239  0830  3A 00 00    	ld	a,(_sprite)
2240  0833  5F          	ld	e,a
2241  0834  16 00       	ld	d,0x00
2242  0836  21 00 00    	ld	hl,_colint
2243  0839  19          	add	hl,de
2244  083A  7E          	ld	a,(hl)
2245  083B  81          	add	a,c
2246  083C  32 00 00    	ld	(_s_tile1),a
2247  083F  21 00 00    	ld	hl,_s_tile0
2248  0842  96          	sub	a, (hl)
2249  0843  28 17       	jr	Z,l_spr_paint_00108
2250  0845  2A FF FF    	ld	hl,(_s_col1 - 1)
2251  0848  3A 00 00    	ld	a,(_s_lin1)
2252  084B  6F          	ld	l,a
2253  084C  E5          	push	hl
2254  084D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2255  0850  3A 00 00    	ld	a,(_sprite)
2256  0853  6F          	ld	l,a
2257  0854  E5          	push	hl
2258  0855  CD 00 00    	call	_NIRVANAP_spriteT_callee
2259  0858  2E 00       	ld	l,0x00
2260  085A  18 02       	jr	l_spr_paint_00110
2261  085C              l_spr_paint_00108:
2262  085C  2E 00       	ld	l,0x00
2263  085E              l_spr_paint_00110:
2264  085E  C9          	ret
2265  085F              	SECTION code_compiler
2266  085F              ;	---------------------------------
2267  085F              ; Function spr_destroy
2268  085F              ; ---------------------------------
2269  085F              _spr_destroy:
2270  085F  CD 00 00    	call	___sdcc_enter_ix
2271  0862  F5          	push	af
2272  0863  F5          	push	af
2273  0864  45          	ld	b, l
2274  0865  21 00 00    	ld	hl,_spr_count
2275  0868  35          	dec	(hl)
2276  0869  3E 00       	ld	a, +((_lin) & 0xFF)
2277  086B  80          	add	a, b
2278  086C  DD 77 FC    	ld	(ix-4),a
2279  086F  3E 00       	ld	a, +((_lin) / 256)
2280  0871  CE 00       	adc	a,0x00
2281  0873  DD 77 FD    	ld	(ix-3),a
2282  0876  E1          	pop	hl
2283  0877  7E          	ld	a,(hl)
2284  0878  E5          	push	hl
2285  0879  32 00 00    	ld	(_s_lin0),a
2286  087C  3E 00       	ld	a, +((_col) & 0xFF)
2287  087E  80          	add	a, b
2288  087F  DD 77 FE    	ld	(ix-2),a
2289  0882  6F          	ld	l,a
2290  0883  3E 00       	ld	a,+((_col) / 256)
2291  0885  CE 00       	adc	a,0x00
2292  0887  DD 77 FF    	ld	(ix-1),a
2293  088A  67          	ld	h,a
2294  088B  7E          	ld	a, (hl)
2295  088C  32 00 00    	ld	(_s_col0),a
2296  088F  2A 00 00    	ld	hl,(_s_lin0)
2297  0892  C5          	push	bc
2298  0893  67          	ld	h,a
2299  0894  E5          	push	hl
2300  0895  CD 00 00    	call	_spr_calc_index
2301  0898  F1          	pop	af
2302  0899  EB          	ex	de,hl
2303  089A  C1          	pop	bc
2304  089B  EB          	ex	de,hl
2305  089C  22 00 00    	ld	(_index0),hl
2306  089F  C5          	push	bc
2307  08A0  CD 00 00    	call	_game_match_back
2308  08A3  C1          	pop	bc
2309  08A4  7D          	ld	a,l
2310  08A5  32 00 00    	ld	(_s_tile0),a
2311  08A8  C5          	push	bc
2312  08A9  21 00 00    	ld	hl,0x0000
2313  08AC  E5          	push	hl
2314  08AD  48          	ld	c,b
2315  08AE  47          	ld	b,a
2316  08AF  C5          	push	bc
2317  08B0  CD 00 00    	call	_NIRVANAP_spriteT_callee
2318  08B3  CD 63 0A    	call	_spr_back_repaint
2319  08B6  C1          	pop	bc
2320  08B7  3E 00       	ld	a, +((_tile) & 0xFF)
2321  08B9  80          	add	a, b
2322  08BA  5F          	ld	e, a
2323  08BB  3E 00       	ld	a, +((_tile) / 256)
2324  08BD  CE 00       	adc	a,0x00
2325  08BF  57          	ld	d, a
2326  08C0  3A 00 00    	ld	a,(_s_tile0)
2327  08C3  12          	ld	(de), a
2328  08C4  DD 6E FE    	ld	l,(ix-2)
2329  08C7  DD 66 FF    	ld	h,(ix-1)
2330  08CA  36 00       	ld	(hl),0x00
2331  08CC  E1          	pop	hl
2332  08CD  E5          	push	hl
2333  08CE  36 00       	ld	(hl),0x00
2334  08D0  11 00 00    	ld	de,_class+0
2335  08D3  68          	ld	l,b
2336  08D4  26 00       	ld	h,0x00
2337  08D6  19          	add	hl, de
2338  08D7  36 00       	ld	(hl),0x00
2339  08D9  11 00 00    	ld	de,_state+0
2340  08DC  68          	ld	l,b
2341  08DD  26 00       	ld	h,0x00
2342  08DF  19          	add	hl, de
2343  08E0  36 00       	ld	(hl),0x00
2344  08E2  11 00 00    	ld	de,_state_a+0
2345  08E5  68          	ld	l,b
2346  08E6  26 00       	ld	h,0x00
2347  08E8  19          	add	hl, de
2348  08E9  36 00       	ld	(hl),0x00
2349  08EB  DD F9       	ld	sp, ix
2350  08ED  DD E1       	pop	ix
2351  08EF  C9          	ret
2352  08F0              	SECTION code_compiler
2353  08F0              ;	---------------------------------
2354  08F0              ; Function spr_tile
2355  08F0              ; ---------------------------------
2356  08F0              _spr_tile:
2357  08F0  CD 00 00    	call	___sdcc_enter_ix
2358  08F3  3B          	dec	sp
2359  08F4  4D          	ld	c, l
2360  08F5  44          	ld	b, h
2361  08F6  21 00 00    	ld	hl,_tmp0
2362  08F9  36 00       	ld	(hl),0x00
2363  08FB  11 00 00    	ld	de,_class+0
2364  08FE  0A          	ld	a, (bc)
2365  08FF  6F          	ld	l, a
2366  0900  26 00       	ld	h,0x00
2367  0902  19          	add	hl, de
2368  0903  7E          	ld	a, (hl)
2369  0904  DD 77 FF    	ld	(ix-1),a
2370  0907              l_spr_tile_00103:
2371  0907  21 00 00    	ld	hl,_tmp0
2372  090A  7E          	ld	a, (hl)
2373  090B  D6 14       	sub	a,0x14
2374  090D  30 41       	jr	NC,l_spr_tile_00105
2375  090F  7E          	ld	a, (hl)
2376  0910  5F          	ld	e, a
2377  0911  87          	add	a, a
2378  0912  83          	add	a, e
2379  0913  21 00 00    	ld	hl,_tmp1
2380  0916  77          	ld	(hl), a
2381  0917  C6 00       	add	a,+((_spr_map_tile) & 0xFF)
2382  0919  5F          	ld	e, a
2383  091A  3E 00       	ld	a, +((_spr_map_tile) / 256)
2384  091C  CE 00       	adc	a,0x00
2385  091E  57          	ld	d, a
2386  091F  1A          	ld	a, (de)
2387  0920  5F          	ld	e, a
2388  0921  DD 7E FF    	ld	a,(ix-1)
2389  0924  93          	sub	a, e
2390  0925  20 23       	jr	NZ,l_spr_tile_00102
2391  0927  6E          	ld	l,(hl)
2392  0928  26 00       	ld	h,0x00
2393  092A  5D          	ld	e,l
2394  092B  54          	ld	d,h
2395  092C  23          	inc	hl
2396  092D  23          	inc	hl
2397  092E  3E 00       	ld	a, +((_spr_map_tile) & 0xFF)
2398  0930  85          	add	a, l
2399  0931  6F          	ld	l, a
2400  0932  3E 00       	ld	a, +((_spr_map_tile) / 256)
2401  0934  8C          	adc	a, h
2402  0935  67          	ld	h, a
2403  0936  13          	inc	de
2404  0937  3E 00       	ld	a, +((_spr_map_tile) & 0xFF)
2405  0939  83          	add	a, e
2406  093A  5F          	ld	e, a
2407  093B  3E 00       	ld	a, +((_spr_map_tile) / 256)
2408  093D  8A          	adc	a, d
2409  093E  57          	ld	d, a
2410  093F  E5          	push	hl
2411  0940  C5          	push	bc
2412  0941  D5          	push	de
2413  0942  CD 56 09    	call	_spr_tile_dir
2414  0945  F1          	pop	af
2415  0946  F1          	pop	af
2416  0947  F1          	pop	af
2417  0948  18 08       	jr	l_spr_tile_00106
2418  094A              l_spr_tile_00102:
2419  094A  21 00 00    	ld	hl,_tmp0
2420  094D  34          	inc	(hl)
2421  094E  18 B7       	jr	l_spr_tile_00103
2422  0950              l_spr_tile_00105:
2423  0950  2E 00       	ld	l,0x00
2424  0952              l_spr_tile_00106:
2425  0952  33          	inc	sp
2426  0953  DD E1       	pop	ix
2427  0955  C9          	ret
2428  0956              	SECTION code_compiler
2429  0956              ;	---------------------------------
2430  0956              ; Function spr_tile_dir
2431  0956              ; ---------------------------------
2432  0956              _spr_tile_dir:
2433  0956  CD 00 00    	call	___sdcc_enter_ix
2434  0959  F5          	push	af
2435  095A  01 00 00    	ld	bc,_state+0
2436  095D  DD 5E 06    	ld	e,(ix+6)
2437  0960  DD 56 07    	ld	d,(ix+7)
2438  0963  1A          	ld	a, (de)
2439  0964  5F          	ld	e,a
2440  0965  6F          	ld	l,a
2441  0966  26 00       	ld	h,0x00
2442  0968  09          	add	hl, bc
2443  0969  46          	ld	b, (hl)
2444  096A  DD 6E 04    	ld	l,(ix+4)
2445  096D  DD 66 05    	ld	h,(ix+5)
2446  0970  4E          	ld	c, (hl)
2447  0971  CB 50       	bit	2, b
2448  0973  28 03       	jr	Z,l_spr_tile_dir_00102
2449  0975  69          	ld	l, c
2450  0976  18 2F       	jr	l_spr_tile_dir_00109
2451  0978              l_spr_tile_dir_00102:
2452  0978  DD 7E 08    	ld	a,(ix+8)
2453  097B  DD 77 FE    	ld	(ix-2),a
2454  097E  DD 7E 09    	ld	a,(ix+9)
2455  0981  DD 77 FF    	ld	(ix-1),a
2456  0984  CB 58       	bit	3, b
2457  0986  28 06       	jr	Z,l_spr_tile_dir_00104
2458  0988  E1          	pop	hl
2459  0989  E5          	push	hl
2460  098A  6E          	ld	l, (hl)
2461  098B  09          	add	hl, bc
2462  098C  18 19       	jr	l_spr_tile_dir_00109
2463  098E              l_spr_tile_dir_00104:
2464  098E  16 00       	ld	d,0x00
2465  0990  21 00 00    	ld	hl,_state_a
2466  0993  19          	add	hl, de
2467  0994  46          	ld	b, (hl)
2468  0995  CB 60       	bit	4, b
2469  0997  28 03       	jr	Z,l_spr_tile_dir_00106
2470  0999  69          	ld	l, c
2471  099A  18 0B       	jr	l_spr_tile_dir_00109
2472  099C              l_spr_tile_dir_00106:
2473  099C  CB 58       	bit	3, b
2474  099E  28 06       	jr	Z,l_spr_tile_dir_00108
2475  09A0  E1          	pop	hl
2476  09A1  E5          	push	hl
2477  09A2  6E          	ld	l, (hl)
2478  09A3  09          	add	hl, bc
2479  09A4  18 01       	jr	l_spr_tile_dir_00109
2480  09A6              l_spr_tile_dir_00108:
2481  09A6  69          	ld	l, c
2482  09A7              l_spr_tile_dir_00109:
2483  09A7  F1          	pop	af
2484  09A8  DD E1       	pop	ix
2485  09AA  C9          	ret
2486  09AB              	SECTION code_compiler
2487  09AB              ;	---------------------------------
2488  09AB              ; Function spr_brick_anim
2489  09AB              ; ---------------------------------
2490  09AB              _spr_brick_anim:
2491  09AB  CD 00 00    	call	___sdcc_enter_ix
2492  09AE  F5          	push	af
2493  09AF  DD 75 FF    	ld	(ix-1),l
2494  09B2  21 00 00    	ld	hl,_player_hit_col
2495  09B5  46          	ld	b, (hl)
2496  09B6  21 00 00    	ld	hl,_player_hit_lin
2497  09B9  4E          	ld	c, (hl)
2498  09BA  C5          	push	bc
2499  09BB  C5          	push	bc
2500  09BC  CD 00 00    	call	_spr_calc_index
2501  09BF  F1          	pop	af
2502  09C0  C1          	pop	bc
2503  09C1  22 00 00    	ld	(_index1),hl
2504  09C4  11 F0 FF    	ld	de,0xfff0
2505  09C7  19          	add	hl,de
2506  09C8  11 00 00    	ld	de,_scr_map
2507  09CB  19          	add	hl, de
2508  09CC  7E          	ld	a, (hl)
2509  09CD  DD 77 FE    	ld	(ix-2),a
2510  09D0  11 00 00    	ld	de,_scr_map
2511  09D3  2A 00 00    	ld	hl,(_index1)
2512  09D6  19          	add	hl,de
2513  09D7  6E          	ld	l, (hl)
2514  09D8  EB          	ex	de,hl
2515  09D9  DD 7E FF    	ld	a,(ix-1)
2516  09DC  B7          	or	a, a
2517  09DD  28 06       	jr	Z,l_spr_brick_anim_00102
2518  09DF  79          	ld	a, c
2519  09E0  C6 F6       	add	a,0xf6
2520  09E2  57          	ld	d, a
2521  09E3  18 04       	jr	l_spr_brick_anim_00103
2522  09E5              l_spr_brick_anim_00102:
2523  09E5  79          	ld	a, c
2524  09E6  C6 F8       	add	a,0xf8
2525  09E8  57          	ld	d, a
2526  09E9              l_spr_brick_anim_00103:
2527  09E9  F3          	di
2528  09EA  DD 7E FF    	ld	a,(ix-1)
2529  09ED  B7          	or	a, a
2530  09EE  28 17       	jr	Z,l_spr_brick_anim_00107
2531  09F0  3A 00 00    	ld	a,(_map_paper_clr)
2532  09F3  C5          	push	bc
2533  09F4  D5          	push	de
2534  09F5  C5          	push	bc
2535  09F6  F5          	push	af
2536  09F7  33          	inc	sp
2537  09F8  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2538  09FB  D1          	pop	de
2539  09FC  C1          	pop	bc
2540  09FD  4A          	ld	c, d
2541  09FE  C5          	push	bc
2542  09FF  7B          	ld	a, e
2543  0A00  F5          	push	af
2544  0A01  33          	inc	sp
2545  0A02  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2546  0A05  18 20       	jr	l_spr_brick_anim_00108
2547  0A07              l_spr_brick_anim_00107:
2548  0A07  DD 7E FE    	ld	a,(ix-2)
2549  0A0A  D6 80       	sub	a,0x80
2550  0A0C  30 11       	jr	NC,l_spr_brick_anim_00105
2551  0A0E  7A          	ld	a, d
2552  0A0F  C6 F0       	add	a,0xf0
2553  0A11  C5          	push	bc
2554  0A12  D5          	push	de
2555  0A13  4F          	ld	c,a
2556  0A14  C5          	push	bc
2557  0A15  DD 7E FE    	ld	a,(ix-2)
2558  0A18  F5          	push	af
2559  0A19  33          	inc	sp
2560  0A1A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2561  0A1D  D1          	pop	de
2562  0A1E  C1          	pop	bc
2563  0A1F              l_spr_brick_anim_00105:
2564  0A1F  4A          	ld	c, d
2565  0A20  C5          	push	bc
2566  0A21  7B          	ld	a, e
2567  0A22  F5          	push	af
2568  0A23  33          	inc	sp
2569  0A24  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2570  0A27              l_spr_brick_anim_00108:
2571  0A27  FB          	ei
2572  0A28  F1          	pop	af
2573  0A29  DD E1       	pop	ix
2574  0A2B  C9          	ret
2575  0A2C              	SECTION code_compiler
2576  0A2C              ;	---------------------------------
2577  0A2C              ; Function spr_draw_index
2578  0A2C              ; ---------------------------------
2579  0A2C              _spr_draw_index:
2580  0A2C  7E          	ld	a,(hl)
2581  0A2D  5F          	ld	e,a
2582  0A2E  E6 0F       	and	a,0x0f
2583  0A30  87          	add	a,a
2584  0A31  32 00 00    	ld	(_s_col1),a
2585  0A34  4D          	ld	c,l
2586  0A35  44          	ld	b,h
2587  0A36  21 00 00    	ld	hl,_s_lin1
2588  0A39  73          	ld	(hl),e
2589  0A3A  7B          	ld	a,e
2590  0A3B  07          	rlca
2591  0A3C  07          	rlca
2592  0A3D  07          	rlca
2593  0A3E  07          	rlca
2594  0A3F  E6 0F       	and	a,0x0f
2595  0A41  07          	rlca
2596  0A42  07          	rlca
2597  0A43  07          	rlca
2598  0A44  07          	rlca
2599  0A45  E6 F0       	and	a,0xf0
2600  0A47  77          	ld	(hl), a
2601  0A48  F3          	di
2602  0A49  69          	ld	l, c
2603  0A4A  60          	ld	h, b
2604  0A4B  4E          	ld	c, (hl)
2605  0A4C  23          	inc	hl
2606  0A4D  46          	ld	b, (hl)
2607  0A4E  21 00 00    	ld	hl,_scr_map
2608  0A51  09          	add	hl, bc
2609  0A52  46          	ld	b, (hl)
2610  0A53  3A 00 00    	ld	a,(_s_col1)
2611  0A56  F5          	push	af
2612  0A57  33          	inc	sp
2613  0A58  3A 00 00    	ld	a,(_s_lin1)
2614  0A5B  48          	ld	c,b
2615  0A5C  47          	ld	b,a
2616  0A5D  C5          	push	bc
2617  0A5E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2618  0A61  FB          	ei
2619  0A62  C9          	ret
2620  0A63              	SECTION code_compiler
2621  0A63              ;	---------------------------------
2622  0A63              ; Function spr_back_repaint
2623  0A63              ; ---------------------------------
2624  0A63              _spr_back_repaint:
2625  0A63  2A FF FF    	ld	hl,(_s_col0 - 1)
2626  0A66  3A 00 00    	ld	a,(_s_lin0)
2627  0A69  6F          	ld	l,a
2628  0A6A  E5          	push	hl
2629  0A6B  CD 00 00    	call	_spr_calc_index
2630  0A6E  F1          	pop	af
2631  0A6F  4D          	ld	c, l
2632  0A70  21 00 00    	ld	hl,_sprite_curr_index
2633  0A73  71          	ld	(hl), c
2634  0A74  3E 00       	ld	a, +((_scr_map) & 0xFF)
2635  0A76  86          	add	a, (hl)
2636  0A77  4F          	ld	c, a
2637  0A78  3E 00       	ld	a, +((_scr_map) / 256)
2638  0A7A  CE 00       	adc	a,0x00
2639  0A7C  47          	ld	b, a
2640  0A7D  0A          	ld	a, (bc)
2641  0A7E  32 00 00    	ld	(_stp_tile),a
2642  0A81  21 00 00    	ld	hl,_s_col0
2643  0A84  CB 46       	bit	0, (hl)
2644  0A86  20 46       	jr	NZ,l_spr_back_repaint_00108
2645  0A88  3A 00 00    	ld	a,(_s_col0)
2646  0A8B  32 00 00    	ld	(_stp_col),a
2647  0A8E  76          	halt
2648  0A8F  3A 00 00    	ld	a,(_s_lin0)
2649  0A92  E6 0F       	and	a,0x0f
2650  0A94  20 0C       	jr	NZ,l_spr_back_repaint_00102
2651  0A96  3A 00 00    	ld	a,(_s_lin0)
2652  0A99  32 00 00    	ld	(_stp_row),a
2653  0A9C  CD 4D 0B    	call	_spr_tile_paint
2654  0A9F  C3 4C 0B    	jp	l_spr_back_repaint_00110
2655  0AA2              l_spr_back_repaint_00102:
2656  0AA2  3A 00 00    	ld	a,(_s_lin0)
2657  0AA5  07          	rlca
2658  0AA6  07          	rlca
2659  0AA7  07          	rlca
2660  0AA8  07          	rlca
2661  0AA9  E6 0F       	and	a,0x0f
2662  0AAB  07          	rlca
2663  0AAC  07          	rlca
2664  0AAD  07          	rlca
2665  0AAE  07          	rlca
2666  0AAF  E6 F0       	and	a,0xf0
2667  0AB1  32 00 00    	ld	(_stp_row),a
2668  0AB4  C5          	push	bc
2669  0AB5  CD 4D 0B    	call	_spr_tile_paint
2670  0AB8  C1          	pop	bc
2671  0AB9  21 00 00    	ld	hl,_stp_row
2672  0ABC  7E          	ld	a, (hl)
2673  0ABD  C6 10       	add	a,0x10
2674  0ABF  77          	ld	(hl), a
2675  0AC0  21 10 00    	ld	hl,0x0010
2676  0AC3  09          	add	hl, bc
2677  0AC4  7E          	ld	a, (hl)
2678  0AC5  32 00 00    	ld	(_stp_tile),a
2679  0AC8  CD 4D 0B    	call	_spr_tile_paint
2680  0ACB  C3 4C 0B    	jp	l_spr_back_repaint_00110
2681  0ACE              l_spr_back_repaint_00108:
2682  0ACE  3A 00 00    	ld	a,(_s_col0)
2683  0AD1  C6 FF       	add	a,0xff
2684  0AD3  32 00 00    	ld	(_stp_col),a
2685  0AD6  76          	halt
2686  0AD7  03          	inc	bc
2687  0AD8  3A 00 00    	ld	a,(_s_lin0)
2688  0ADB  E6 0F       	and	a,0x0f
2689  0ADD  20 1B       	jr	NZ,l_spr_back_repaint_00105
2690  0ADF  3A 00 00    	ld	a,(_s_lin0)
2691  0AE2  32 00 00    	ld	(_stp_row),a
2692  0AE5  C5          	push	bc
2693  0AE6  CD 4D 0B    	call	_spr_tile_paint
2694  0AE9  C1          	pop	bc
2695  0AEA  0A          	ld	a, (bc)
2696  0AEB  32 00 00    	ld	(_stp_tile),a
2697  0AEE  3A 00 00    	ld	a,(_s_col0)
2698  0AF1  3C          	inc	a
2699  0AF2  32 00 00    	ld	(_stp_col),a
2700  0AF5  CD 4D 0B    	call	_spr_tile_paint
2701  0AF8  18 52       	jr	l_spr_back_repaint_00110
2702  0AFA              l_spr_back_repaint_00105:
2703  0AFA  3A 00 00    	ld	a,(_s_lin0)
2704  0AFD  07          	rlca
2705  0AFE  07          	rlca
2706  0AFF  07          	rlca
2707  0B00  07          	rlca
2708  0B01  E6 0F       	and	a,0x0f
2709  0B03  07          	rlca
2710  0B04  07          	rlca
2711  0B05  07          	rlca
2712  0B06  07          	rlca
2713  0B07  E6 F0       	and	a,0xf0
2714  0B09  32 00 00    	ld	(_stp_row),a
2715  0B0C  C5          	push	bc
2716  0B0D  CD 4D 0B    	call	_spr_tile_paint
2717  0B10  C1          	pop	bc
2718  0B11  3A 00 00    	ld	a,(_s_col0)
2719  0B14  3C          	inc	a
2720  0B15  32 00 00    	ld	(_stp_col),a
2721  0B18  0A          	ld	a, (bc)
2722  0B19  32 00 00    	ld	(_stp_tile),a
2723  0B1C  C5          	push	bc
2724  0B1D  CD 4D 0B    	call	_spr_tile_paint
2725  0B20  C1          	pop	bc
2726  0B21  3A 00 00    	ld	a,(_s_col0)
2727  0B24  C6 FF       	add	a,0xff
2728  0B26  32 00 00    	ld	(_stp_col),a
2729  0B29  21 00 00    	ld	hl,_stp_row
2730  0B2C  7E          	ld	a, (hl)
2731  0B2D  C6 10       	add	a,0x10
2732  0B2F  77          	ld	(hl), a
2733  0B30  21 0F 00    	ld	hl,0x000f
2734  0B33  09          	add	hl,bc
2735  0B34  7E          	ld	a,(hl)
2736  0B35  32 00 00    	ld	(_stp_tile),a
2737  0B38  E5          	push	hl
2738  0B39  CD 4D 0B    	call	_spr_tile_paint
2739  0B3C  C1          	pop	bc
2740  0B3D  03          	inc	bc
2741  0B3E  0A          	ld	a, (bc)
2742  0B3F  32 00 00    	ld	(_stp_tile),a
2743  0B42  3A 00 00    	ld	a,(_s_col0)
2744  0B45  3C          	inc	a
2745  0B46  32 00 00    	ld	(_stp_col),a
2746  0B49  CD 4D 0B    	call	_spr_tile_paint
2747  0B4C              l_spr_back_repaint_00110:
2748  0B4C  C9          	ret
2749  0B4D              	SECTION code_compiler
2750  0B4D              ;	---------------------------------
2751  0B4D              ; Function spr_tile_paint
2752  0B4D              ; ---------------------------------
2753  0B4D              _spr_tile_paint:
2754  0B4D  3A 00 00    	ld	a,(_stp_tile)
2755  0B50  B7          	or	a, a
2756  0B51  20 13       	jr	NZ,l_spr_tile_paint_00111
2757  0B53  2A FF FF    	ld	hl,(_stp_col - 1)
2758  0B56  3A 00 00    	ld	a,(_stp_row)
2759  0B59  6F          	ld	l,a
2760  0B5A  3A 00 00    	ld	a,(_map_paper_clr)
2761  0B5D  E5          	push	hl
2762  0B5E  F5          	push	af
2763  0B5F  33          	inc	sp
2764  0B60  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2765  0B63  C3 E5 0B    	jp	l_spr_tile_paint_00113
2766  0B66              l_spr_tile_paint_00111:
2767  0B66  21 00 00    	ld	hl,_stp_tile
2768  0B69  7E          	ld	a, (hl)
2769  0B6A  D6 80       	sub	a,0x80
2770  0B6C  30 35       	jr	NC,l_spr_tile_paint_00108
2771  0B6E  7E          	ld	a, (hl)
2772  0B6F  D6 23       	sub	a,0x23
2773  0B71  28 12       	jr	Z,l_spr_tile_paint_00102
2774  0B73  2A FF FF    	ld	hl,(_stp_col - 1)
2775  0B76  3A 00 00    	ld	a,(_stp_row)
2776  0B79  6F          	ld	l,a
2777  0B7A  3A 00 00    	ld	a,(_stp_tile)
2778  0B7D  E5          	push	hl
2779  0B7E  F5          	push	af
2780  0B7F  33          	inc	sp
2781  0B80  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2782  0B83  18 60       	jr	l_spr_tile_paint_00113
2783  0B85              l_spr_tile_paint_00102:
2784  0B85  2A 00 00    	ld	hl,(_sprite_curr_index)
2785  0B88  26 00       	ld	h,0x00
2786  0B8A  CD 00 00    	call	_game_match_back
2787  0B8D  7D          	ld	a,l
2788  0B8E  32 00 00    	ld	(_stp_tile),a
2789  0B91  2A FF FF    	ld	hl,(_stp_col - 1)
2790  0B94  3A 00 00    	ld	a,(_stp_row)
2791  0B97  6F          	ld	l,a
2792  0B98  3A 00 00    	ld	a,(_stp_tile)
2793  0B9B  E5          	push	hl
2794  0B9C  F5          	push	af
2795  0B9D  33          	inc	sp
2796  0B9E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2797  0BA1  18 42       	jr	l_spr_tile_paint_00113
2798  0BA3              l_spr_tile_paint_00108:
2799  0BA3  3A 00 00    	ld	a,(_stp_tile)
2800  0BA6  C6 80       	add	a,0x80
2801  0BA8  4F          	ld	c, a
2802  0BA9  06 00       	ld	b,0x00
2803  0BAB  21 00 00    	ld	hl,_anim_end
2804  0BAE  09          	add	hl, bc
2805  0BAF  46          	ld	b, (hl)
2806  0BB0  11 00 00    	ld	de,_anim_int+0
2807  0BB3  69          	ld	l,c
2808  0BB4  26 00       	ld	h,0x00
2809  0BB6  19          	add	hl, de
2810  0BB7  7E          	ld	a,(hl)
2811  0BB8  5F          	ld	e,a
2812  0BB9  90          	sub	a, b
2813  0BBA  30 19       	jr	NC,l_spr_tile_paint_00105
2814  0BBC  06 00       	ld	b,0x00
2815  0BBE  21 00 00    	ld	hl,_anim_tile
2816  0BC1  09          	add	hl, bc
2817  0BC2  7E          	ld	a,(hl)
2818  0BC3  83          	add	a, e
2819  0BC4  47          	ld	b, a
2820  0BC5  3A 00 00    	ld	a,(_stp_col)
2821  0BC8  F5          	push	af
2822  0BC9  33          	inc	sp
2823  0BCA  3A 00 00    	ld	a,(_stp_row)
2824  0BCD  48          	ld	c,b
2825  0BCE  47          	ld	b,a
2826  0BCF  C5          	push	bc
2827  0BD0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2828  0BD3  18 10       	jr	l_spr_tile_paint_00113
2829  0BD5              l_spr_tile_paint_00105:
2830  0BD5  2A FF FF    	ld	hl,(_stp_col - 1)
2831  0BD8  3A 00 00    	ld	a,(_stp_row)
2832  0BDB  6F          	ld	l,a
2833  0BDC  3A 00 00    	ld	a,(_map_paper_clr)
2834  0BDF  E5          	push	hl
2835  0BE0  F5          	push	af
2836  0BE1  33          	inc	sp
2837  0BE2  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2838  0BE5              l_spr_tile_paint_00113:
2839  0BE5  C9          	ret
2840  0BE6              	SECTION code_compiler
2841  0BE6              ;	---------------------------------
2842  0BE6              ; Function spr_init_effects
2843  0BE6              ; ---------------------------------
2844  0BE6              _spr_init_effects:
2845  0BE6  01 00 00    	ld	bc,_anim_lin+0
2846  0BE9  1E 00       	ld	e,0x00
2847  0BEB              l_spr_init_effects_00102:
2848  0BEB  6B          	ld	l,e
2849  0BEC  26 00       	ld	h,0x00
2850  0BEE  09          	add	hl, bc
2851  0BEF  36 FF       	ld	(hl),0xff
2852  0BF1  16 00       	ld	d,0x00
2853  0BF3  21 00 00    	ld	hl,_bullet_col
2854  0BF6  19          	add	hl, de
2855  0BF7  36 FF       	ld	(hl),0xff
2856  0BF9  1C          	inc	e
2857  0BFA  3E 07       	ld	a,0x07
2858  0BFC  93          	sub	a, e
2859  0BFD  30 EC       	jr	NC,l_spr_init_effects_00102
2860  0BFF  21 00 00    	ld	hl,_bullet_count
2861  0C02  36 00       	ld	(hl),0x00
2862  0C04  21 00 00    	ld	hl,_anim_count
2863  0C07  36 00       	ld	(hl),0x00
2864  0C09  C9          	ret
2865  0C0A              	SECTION code_compiler
2866  0C0A              ;	---------------------------------
2867  0C0A              ; Function spr_add_anim
2868  0C0A              ; ---------------------------------
2869  0C0A              _spr_add_anim:
2870  0C0A  CD 00 00    	call	___sdcc_enter_ix
2871  0C0D  F5          	push	af
2872  0C0E  F5          	push	af
2873  0C0F  3B          	dec	sp
2874  0C10  DD 7E 05    	ld	a,(ix+5)
2875  0C13  D6 1F       	sub	a,0x1f
2876  0C15  D2 D8 0C    	jp	NC, l_spr_add_anim_00111
2877  0C18  DD 7E 04    	ld	a,(ix+4)
2878  0C1B  D6 B8       	sub	a,0xb8
2879  0C1D  D2 D8 0C    	jp	NC, l_spr_add_anim_00111
2880  0C20  0E 00       	ld	c,0x00
2881  0C22  DD 71 FF    	ld	(ix-1),c
2882  0C25              l_spr_add_anim_00109:
2883  0C25  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2884  0C27  81          	add	a, c
2885  0C28  5F          	ld	e, a
2886  0C29  3E 00       	ld	a, +((_anim_lin) / 256)
2887  0C2B  CE 00       	adc	a,0x00
2888  0C2D  57          	ld	d, a
2889  0C2E  1A          	ld	a, (de)
2890  0C2F  3C          	inc	a
2891  0C30  C2 CE 0C    	jp	NZ,l_spr_add_anim_00110
2892  0C33  21 00 00    	ld	hl,_anim_count
2893  0C36  34          	inc	(hl)
2894  0C37  DD 7E 04    	ld	a,(ix+4)
2895  0C3A  12          	ld	(de), a
2896  0C3B  01 00 00    	ld	bc,_anim_col
2897  0C3E  DD 6E FF    	ld	l,(ix-1)
2898  0C41  26 00       	ld	h,0x00
2899  0C43  09          	add	hl,bc
2900  0C44  DD 75 FD    	ld	(ix-3),l
2901  0C47  DD 74 FE    	ld	(ix-2),h
2902  0C4A  DD 7E 05    	ld	a,(ix+5)
2903  0C4D  77          	ld	(hl), a
2904  0C4E  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2905  0C50  DD 86 FF    	add	a,(ix-1)
2906  0C53  DD 77 FB    	ld	(ix-5),a
2907  0C56  3E 00       	ld	a, +((_anim_tile) / 256)
2908  0C58  CE 00       	adc	a,0x00
2909  0C5A  DD 77 FC    	ld	(ix-4),a
2910  0C5D  E1          	pop	hl
2911  0C5E  E5          	push	hl
2912  0C5F  DD 7E 06    	ld	a,(ix+6)
2913  0C62  77          	ld	(hl), a
2914  0C63  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2915  0C65  DD 86 FF    	add	a,(ix-1)
2916  0C68  4F          	ld	c, a
2917  0C69  3E 00       	ld	a, +((_anim_loop) / 256)
2918  0C6B  CE 00       	adc	a,0x00
2919  0C6D  47          	ld	b, a
2920  0C6E  DD 7E 08    	ld	a,(ix+8)
2921  0C71  02          	ld	(bc), a
2922  0C72  01 00 00    	ld	bc,_anim_int+0
2923  0C75  DD 6E FF    	ld	l,(ix-1)
2924  0C78  26 00       	ld	h,0x00
2925  0C7A  09          	add	hl, bc
2926  0C7B  36 00       	ld	(hl),0x00
2927  0C7D  3E 00       	ld	a, +((_anim_end) & 0xFF)
2928  0C7F  DD 86 FF    	add	a,(ix-1)
2929  0C82  4F          	ld	c, a
2930  0C83  3E 00       	ld	a, +((_anim_end) / 256)
2931  0C85  CE 00       	adc	a,0x00
2932  0C87  47          	ld	b, a
2933  0C88  DD 7E 07    	ld	a,(ix+7)
2934  0C8B  02          	ld	(bc), a
2935  0C8C  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2936  0C8E  DD 86 FF    	add	a,(ix-1)
2937  0C91  4F          	ld	c, a
2938  0C92  3E 00       	ld	a, +((_anim_respanwn) / 256)
2939  0C94  CE 00       	adc	a,0x00
2940  0C96  47          	ld	b, a
2941  0C97  DD 7E 09    	ld	a,(ix+9)
2942  0C9A  02          	ld	(bc), a
2943  0C9B  F3          	di
2944  0C9C  DD 6E FD    	ld	l,(ix-3)
2945  0C9F  DD 66 FE    	ld	h,(ix-2)
2946  0CA2  46          	ld	b, (hl)
2947  0CA3  E1          	pop	hl
2948  0CA4  1A          	ld	a,(de)
2949  0CA5  56          	ld	d,(hl)
2950  0CA6  E5          	push	hl
2951  0CA7  C5          	push	bc
2952  0CA8  33          	inc	sp
2953  0CA9  5A          	ld	e,d
2954  0CAA  57          	ld	d,a
2955  0CAB  D5          	push	de
2956  0CAC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2957  0CAF  FB          	ei
2958  0CB0  DD 66 05    	ld	h,(ix+5)
2959  0CB3  DD 6E 04    	ld	l,(ix+4)
2960  0CB6  E5          	push	hl
2961  0CB7  CD 00 00    	call	_spr_calc_index
2962  0CBA  F1          	pop	af
2963  0CBB  22 00 00    	ld	(_index0),hl
2964  0CBE  01 00 00    	ld	bc,_scr_map
2965  0CC1  09          	add	hl,bc
2966  0CC2  7E          	ld	a,(hl)
2967  0CC3  B7          	or	a,a
2968  0CC4  20 12       	jr	NZ,l_spr_add_anim_00111
2969  0CC6  DD 7E FF    	ld	a,(ix-1)
2970  0CC9  C6 80       	add	a,0x80
2971  0CCB  77          	ld	(hl),a
2972  0CCC  18 0A       	jr	l_spr_add_anim_00111
2973  0CCE              l_spr_add_anim_00110:
2974  0CCE  0C          	inc	c
2975  0CCF  DD 71 FF    	ld	(ix-1),c
2976  0CD2  79          	ld	a, c
2977  0CD3  D6 08       	sub	a,0x08
2978  0CD5  DA 25 0C    	jp	C, l_spr_add_anim_00109
2979  0CD8              l_spr_add_anim_00111:
2980  0CD8  DD F9       	ld	sp, ix
2981  0CDA  DD E1       	pop	ix
2982  0CDC  C9          	ret
2983  0CDD              	SECTION code_compiler
2984  0CDD              ;	---------------------------------
2985  0CDD              ; Function spr_play_anim
2986  0CDD              ; ---------------------------------
2987  0CDD              _spr_play_anim:
2988  0CDD  CD 00 00    	call	___sdcc_enter_ix
2989  0CE0  F5          	push	af
2990  0CE1  F5          	push	af
2991  0CE2  3B          	dec	sp
2992  0CE3  0E 00       	ld	c,0x00
2993  0CE5              l_spr_play_anim_00114:
2994  0CE5  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2995  0CE7  81          	add	a, c
2996  0CE8  DD 77 FB    	ld	(ix-5),a
2997  0CEB  3E 00       	ld	a, +((_anim_lin) / 256)
2998  0CED  CE 00       	adc	a,0x00
2999  0CEF  DD 77 FC    	ld	(ix-4),a
3000  0CF2  E1          	pop	hl
3001  0CF3  7E          	ld	a,(hl)
3002  0CF4  E5          	push	hl
3003  0CF5  5F          	ld	e,a
3004  0CF6  3C          	inc	a
3005  0CF7  CA BD 0D    	jp	Z,l_spr_play_anim_00115
3006  0CFA  3E 00       	ld	a, +((_anim_int) & 0xFF)
3007  0CFC  81          	add	a, c
3008  0CFD  DD 77 FE    	ld	(ix-2),a
3009  0D00  6F          	ld	l,a
3010  0D01  3E 00       	ld	a,+((_anim_int) / 256)
3011  0D03  CE 00       	adc	a,0x00
3012  0D05  DD 77 FF    	ld	(ix-1),a
3013  0D08  67          	ld	h,a
3014  0D09  56          	ld	d, (hl)
3015  0D0A  06 00       	ld	b,0x00
3016  0D0C  21 00 00    	ld	hl,_anim_end
3017  0D0F  09          	add	hl, bc
3018  0D10  46          	ld	b, (hl)
3019  0D11  7A          	ld	a, d
3020  0D12  90          	sub	a, b
3021  0D13  30 33       	jr	NC,l_spr_play_anim_00109
3022  0D15  F3          	di
3023  0D16  06 00       	ld	b,0x00
3024  0D18  21 00 00    	ld	hl,_anim_col
3025  0D1B  09          	add	hl, bc
3026  0D1C  5E          	ld	e, (hl)
3027  0D1D  E1          	pop	hl
3028  0D1E  56          	ld	d,(hl)
3029  0D1F  E5          	push	hl
3030  0D20  06 00       	ld	b,0x00
3031  0D22  21 00 00    	ld	hl,_anim_tile
3032  0D25  09          	add	hl, bc
3033  0D26  46          	ld	b, (hl)
3034  0D27  DD 6E FE    	ld	l,(ix-2)
3035  0D2A  DD 66 FF    	ld	h,(ix-1)
3036  0D2D  6E          	ld	l, (hl)
3037  0D2E  78          	ld	a, b
3038  0D2F  85          	add	a, l
3039  0D30  47          	ld	b, a
3040  0D31  C5          	push	bc
3041  0D32  7B          	ld	a, e
3042  0D33  5A          	ld	e,d
3043  0D34  57          	ld	d,a
3044  0D35  D5          	push	de
3045  0D36  C5          	push	bc
3046  0D37  33          	inc	sp
3047  0D38  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3048  0D3B  C1          	pop	bc
3049  0D3C  FB          	ei
3050  0D3D  DD 6E FE    	ld	l,(ix-2)
3051  0D40  DD 66 FF    	ld	h,(ix-1)
3052  0D43  46          	ld	b,(hl)
3053  0D44  04          	inc	b
3054  0D45  70          	ld	(hl), b
3055  0D46  18 75       	jr	l_spr_play_anim_00115
3056  0D48              l_spr_play_anim_00109:
3057  0D48  06 00       	ld	b,0x00
3058  0D4A  21 00 00    	ld	hl,_anim_loop
3059  0D4D  09          	add	hl, bc
3060  0D4E  7E          	ld	a, (hl)
3061  0D4F  DD 77 FD    	ld	(ix-3),a
3062  0D52  B7          	or	a, a
3063  0D53  20 5B       	jr	NZ,l_spr_play_anim_00106
3064  0D55  21 00 00    	ld	hl,_anim_count
3065  0D58  35          	dec	(hl)
3066  0D59  06 00       	ld	b,0x00
3067  0D5B  21 00 00    	ld	hl,_anim_col
3068  0D5E  09          	add	hl, bc
3069  0D5F  7E          	ld	a, (hl)
3070  0D60  32 00 00    	ld	(_s_col0),a
3071  0D63  21 00 00    	ld	hl,_s_lin0
3072  0D66  73          	ld	(hl), e
3073  0D67  3A 00 00    	ld	a,(_s_col0)
3074  0D6A  2A 00 00    	ld	hl,(_s_lin0)
3075  0D6D  C5          	push	bc
3076  0D6E  67          	ld	h,a
3077  0D6F  E5          	push	hl
3078  0D70  CD 00 00    	call	_spr_calc_index
3079  0D73  F1          	pop	af
3080  0D74  EB          	ex	de,hl
3081  0D75  C1          	pop	bc
3082  0D76  EB          	ex	de,hl
3083  0D77  22 00 00    	ld	(_index0),hl
3084  0D7A  11 00 00    	ld	de,_scr_map
3085  0D7D  19          	add	hl,de
3086  0D7E  7E          	ld	a,(hl)
3087  0D7F  EB          	ex	de,hl
3088  0D80  D6 80       	sub	a,0x80
3089  0D82  38 11       	jr	C,l_spr_play_anim_00102
3090  0D84  21 01 00    	ld	hl,_index0 + 1
3091  0D87  C5          	push	bc
3092  0D88  D5          	push	de
3093  0D89  2B          	dec	hl
3094  0D8A  7E          	ld	a, (hl)
3095  0D8B  23          	inc	hl
3096  0D8C  66          	ld	h, (hl)
3097  0D8D  6F          	ld	l, a
3098  0D8E  CD 00 00    	call	_game_match_back_strict
3099  0D91  D1          	pop	de
3100  0D92  C1          	pop	bc
3101  0D93  7D          	ld	a,l
3102  0D94  12          	ld	(de), a
3103  0D95              l_spr_play_anim_00102:
3104  0D95  C5          	push	bc
3105  0D96  CD 63 0A    	call	_spr_back_repaint
3106  0D99  C1          	pop	bc
3107  0D9A  06 00       	ld	b,0x00
3108  0D9C  21 00 00    	ld	hl,_anim_respanwn
3109  0D9F  09          	add	hl, bc
3110  0DA0  7E          	ld	a, (hl)
3111  0DA1  B7          	or	a, a
3112  0DA2  28 06       	jr	Z,l_spr_play_anim_00104
3113  0DA4  C5          	push	bc
3114  0DA5  69          	ld	l, c
3115  0DA6  CD 00 00    	call	_enemy_respawn
3116  0DA9  C1          	pop	bc
3117  0DAA              l_spr_play_anim_00104:
3118  0DAA  E1          	pop	hl
3119  0DAB  E5          	push	hl
3120  0DAC  36 FF       	ld	(hl),0xff
3121  0DAE  18 0D       	jr	l_spr_play_anim_00115
3122  0DB0              l_spr_play_anim_00106:
3123  0DB0  DD 46 FD    	ld	b,(ix-3)
3124  0DB3  05          	dec	b
3125  0DB4  70          	ld	(hl), b
3126  0DB5  DD 6E FE    	ld	l,(ix-2)
3127  0DB8  DD 66 FF    	ld	h,(ix-1)
3128  0DBB  36 FF       	ld	(hl),0xff
3129  0DBD              l_spr_play_anim_00115:
3130  0DBD  0C          	inc	c
3131  0DBE  79          	ld	a, c
3132  0DBF  D6 08       	sub	a,0x08
3133  0DC1  DA E5 0C    	jp	C, l_spr_play_anim_00114
3134  0DC4  DD F9       	ld	sp, ix
3135  0DC6  DD E1       	pop	ix
3136  0DC8  C9          	ret
3137  0DC9              	SECTION code_compiler
3138  0DC9              ;	---------------------------------
3139  0DC9              ; Function spr_bullet_fireball
3140  0DC9              ; ---------------------------------
3141  0DC9              _spr_bullet_fireball:
3142  0DC9  CD 00 00    	call	___sdcc_enter_ix
3143  0DCC  3A 00 00    	ld	a,(_s_lin0)
3144  0DCF  4F          	ld	c,a
3145  0DD0  06 00       	ld	b,0x00
3146  0DD2  2A 00 00    	ld	hl,(_bullet)
3147  0DD5  60          	ld	h,b
3148  0DD6  11 00 00    	ld	de,_bullet_lin0
3149  0DD9  19          	add	hl,de
3150  0DDA  5E          	ld	e, (hl)
3151  0DDB  16 00       	ld	d,0x00
3152  0DDD  79          	ld	a, c
3153  0DDE  93          	sub	a, e
3154  0DDF  6F          	ld	l, a
3155  0DE0  78          	ld	a, b
3156  0DE1  9A          	sbc	a, d
3157  0DE2  67          	ld	h, a
3158  0DE3  CD 00 00    	call	_abs_fastcall
3159  0DE6  4D          	ld	c, l
3160  0DE7  44          	ld	b, h
3161  0DE8  21 00 00    	ld	hl,_s_lin0
3162  0DEB  5E          	ld	e, (hl)
3163  0DEC  3E 08       	ld	a,0x08
3164  0DEE  B9          	cp	a, c
3165  0DEF  3E 00       	ld	a,0x00
3166  0DF1  98          	sbc	a, b
3167  0DF2  E2 F7 0D    	jp	PO, l_spr_bullet_fireball_00110
3168  0DF5  EE 80       	xor	a,0x80
3169  0DF7              l_spr_bullet_fireball_00110:
3170  0DF7  FA 10 0E    	jp	M, l_spr_bullet_fireball_00102
3171  0DFA  7B          	ld	a, e
3172  0DFB  DD 86 04    	add	a,(ix+4)
3173  0DFE  32 00 00    	ld	(_s_lin0),a
3174  0E01  2A 00 00    	ld	hl,(_bullet)
3175  0E04  26 00       	ld	h,0x00
3176  0E06  01 00 00    	ld	bc,_bullet_lin
3177  0E09  09          	add	hl,bc
3178  0E0A  3A 00 00    	ld	a,(_s_lin0)
3179  0E0D  77          	ld	(hl),a
3180  0E0E  18 21       	jr	l_spr_bullet_fireball_00104
3181  0E10              l_spr_bullet_fireball_00102:
3182  0E10  7B          	ld	a, e
3183  0E11  DD 96 04    	sub	a,(ix+4)
3184  0E14  32 00 00    	ld	(_s_lin0),a
3185  0E17  2A 00 00    	ld	hl,(_bullet)
3186  0E1A  26 00       	ld	h,0x00
3187  0E1C  01 00 00    	ld	bc,_bullet_lin
3188  0E1F  09          	add	hl,bc
3189  0E20  3A 00 00    	ld	a,(_s_lin0)
3190  0E23  77          	ld	(hl),a
3191  0E24  2A 00 00    	ld	hl,(_bullet)
3192  0E27  26 00       	ld	h,0x00
3193  0E29  01 00 00    	ld	bc,_bullet_class
3194  0E2C  09          	add	hl,bc
3195  0E2D  DD 7E 05    	ld	a,(ix+5)
3196  0E30  77          	ld	(hl),a
3197  0E31              l_spr_bullet_fireball_00104:
3198  0E31  DD E1       	pop	ix
3199  0E33  C9          	ret
3200  0E34              	SECTION code_compiler
3201  0E34              ;	---------------------------------
3202  0E34              ; Function spr_bullet_axe
3203  0E34              ; ---------------------------------
3204  0E34              _spr_bullet_axe:
3205  0E34  2A 00 00    	ld	hl,(_bullet)
3206  0E37  26 00       	ld	h,0x00
3207  0E39  01 00 00    	ld	bc,_bullet_lin
3208  0E3C  09          	add	hl,bc
3209  0E3D  7E          	ld	a,(hl)
3210  0E3E  32 00 00    	ld	(_s_lin0),a
3211  0E41  2A 00 00    	ld	hl,(_bullet)
3212  0E44  26 00       	ld	h,0x00
3213  0E46  01 00 00    	ld	bc,_bullet_col
3214  0E49  09          	add	hl,bc
3215  0E4A  7E          	ld	a,(hl)
3216  0E4B  C6 FF       	add	a,0xff
3217  0E4D  32 00 00    	ld	(_s_col0),a
3218  0E50  2A 00 00    	ld	hl,(_bullet)
3219  0E53  26 00       	ld	h,0x00
3220  0E55  01 00 00    	ld	bc,_bullet_vel
3221  0E58  09          	add	hl,bc
3222  0E59  5E          	ld	e,(hl)
3223  0E5A  4D          	ld	c,l
3224  0E5B  44          	ld	b,h
3225  0E5C  21 00 00    	ld	hl,_game_gravity
3226  0E5F  56          	ld	d, (hl)
3227  0E60  7B          	ld	a, e
3228  0E61  82          	add	a, d
3229  0E62  02          	ld	(bc), a
3230  0E63  2A 00 00    	ld	hl,(_bullet)
3231  0E66  26 00       	ld	h,0x00
3232  0E68  01 00 00    	ld	bc,_bullet_vel
3233  0E6B  09          	add	hl,bc
3234  0E6C  5E          	ld	e,(hl)
3235  0E6D  3E 78       	ld	a,0x78
3236  0E6F  93          	sub	a,e
3237  0E70  4D          	ld	c,l
3238  0E71  44          	ld	b,h
3239  0E72  E2 77 0E    	jp	PO, l_spr_bullet_axe_00128
3240  0E75  EE 80       	xor	a,0x80
3241  0E77              l_spr_bullet_axe_00128:
3242  0E77  F2 7D 0E    	jp	P, l_spr_bullet_axe_00102
3243  0E7A  3E 78       	ld	a,0x78
3244  0E7C  02          	ld	(bc), a
3245  0E7D              l_spr_bullet_axe_00102:
3246  0E7D  2A 00 00    	ld	hl,(_bullet)
3247  0E80  26 00       	ld	h,0x00
3248  0E82  01 00 00    	ld	bc,_bullet_vel
3249  0E85  09          	add	hl,bc
3250  0E86  7E          	ld	a,(hl)
3251  0E87  EE 80       	xor	a,0x80
3252  0E89  D6 08       	sub	a,0x08
3253  0E8B  30 02       	jr	NC,l_spr_bullet_axe_00104
3254  0E8D  36 88       	ld	(hl),0x88
3255  0E8F              l_spr_bullet_axe_00104:
3256  0E8F  2A 00 00    	ld	hl,(_bullet)
3257  0E92  26 00       	ld	h,0x00
3258  0E94  01 00 00    	ld	bc,_bullet_vel
3259  0E97  09          	add	hl,bc
3260  0E98  7E          	ld	a,(hl)
3261  0E99  CB 47       	bit	0,a
3262  0E9B  32 00 00    	ld	(_s_lin1),a
3263  0E9E  28 04       	jr	Z,l_spr_bullet_axe_00106
3264  0EA0  21 00 00    	ld	hl,_s_lin1
3265  0EA3  35          	dec	(hl)
3266  0EA4              l_spr_bullet_axe_00106:
3267  0EA4  2A 00 00    	ld	hl,(_bullet)
3268  0EA7  26 00       	ld	h,0x00
3269  0EA9  01 00 00    	ld	bc,_bullet_lin
3270  0EAC  09          	add	hl,bc
3271  0EAD  7E          	ld	a,(hl)
3272  0EAE  4D          	ld	c,l
3273  0EAF  44          	ld	b,h
3274  0EB0  21 00 00    	ld	hl,_s_lin1
3275  0EB3  86          	add	a, (hl)
3276  0EB4  21 00 00    	ld	hl,_s_lin0
3277  0EB7  77          	ld	(hl), a
3278  0EB8  3E 90       	ld	a,0x90
3279  0EBA  96          	sub	a, (hl)
3280  0EBB  30 11       	jr	NC,l_spr_bullet_axe_00108
3281  0EBD  21 00 00    	ld	hl,_bullet_count
3282  0EC0  35          	dec	(hl)
3283  0EC1  2A 00 00    	ld	hl,(_bullet)
3284  0EC4  26 00       	ld	h,0x00
3285  0EC6  01 00 00    	ld	bc,_bullet_col
3286  0EC9  09          	add	hl,bc
3287  0ECA  36 FF       	ld	(hl),0xff
3288  0ECC  18 04       	jr	l_spr_bullet_axe_00110
3289  0ECE              l_spr_bullet_axe_00108:
3290  0ECE  3A 00 00    	ld	a,(_s_lin0)
3291  0ED1  02          	ld	(bc), a
3292  0ED2              l_spr_bullet_axe_00110:
3293  0ED2  C9          	ret
3294  0ED3              	SECTION code_compiler
3295  0ED3              ;	---------------------------------
3296  0ED3              ; Function spr_colision_b
3297  0ED3              ; ---------------------------------
3298  0ED3              _spr_colision_b:
3299  0ED3  CD 00 00    	call	___sdcc_enter_ix
3300  0ED6  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3301  0ED8  DD 86 05    	add	a,(ix+5)
3302  0EDB  4F          	ld	c, a
3303  0EDC  3E 00       	ld	a, +((_bullet_class) / 256)
3304  0EDE  CE 00       	adc	a,0x00
3305  0EE0  47          	ld	b, a
3306  0EE1  0A          	ld	a, (bc)
3307  0EE2  D6 04       	sub	a,0x04
3308  0EE4  20 69       	jr	NZ,l_spr_colision_b_00110
3309  0EE6  3E 00       	ld	a, +((_lin) & 0xFF)
3310  0EE8  DD 86 04    	add	a,(ix+4)
3311  0EEB  4F          	ld	c, a
3312  0EEC  3E 00       	ld	a, +((_lin) / 256)
3313  0EEE  CE 00       	adc	a,0x00
3314  0EF0  47          	ld	b, a
3315  0EF1  0A          	ld	a, (bc)
3316  0EF2  4F          	ld	c, a
3317  0EF3  06 00       	ld	b,0x00
3318  0EF5  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3319  0EF7  DD 86 05    	add	a,(ix+5)
3320  0EFA  5F          	ld	e, a
3321  0EFB  3E 00       	ld	a, +((_bullet_lin) / 256)
3322  0EFD  CE 00       	adc	a,0x00
3323  0EFF  57          	ld	d, a
3324  0F00  1A          	ld	a, (de)
3325  0F01  5F          	ld	e, a
3326  0F02  16 00       	ld	d,0x00
3327  0F04  79          	ld	a, c
3328  0F05  93          	sub	a, e
3329  0F06  6F          	ld	l, a
3330  0F07  78          	ld	a, b
3331  0F08  9A          	sbc	a, d
3332  0F09  67          	ld	h, a
3333  0F0A  CD 00 00    	call	_abs_fastcall
3334  0F0D  7D          	ld	a,l
3335  0F0E  D6 10       	sub	a,0x10
3336  0F10  7C          	ld	a,h
3337  0F11  17          	rla
3338  0F12  3F          	ccf
3339  0F13  1F          	rra
3340  0F14  DE 80       	sbc	a,0x80
3341  0F16  D2 BA 0F    	jp	NC, l_spr_colision_b_00111
3342  0F19  3E 00       	ld	a, +((_col) & 0xFF)
3343  0F1B  DD 86 04    	add	a,(ix+4)
3344  0F1E  4F          	ld	c, a
3345  0F1F  3E 00       	ld	a, +((_col) / 256)
3346  0F21  CE 00       	adc	a,0x00
3347  0F23  47          	ld	b, a
3348  0F24  0A          	ld	a, (bc)
3349  0F25  4F          	ld	c, a
3350  0F26  06 00       	ld	b,0x00
3351  0F28  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3352  0F2A  DD 86 05    	add	a,(ix+5)
3353  0F2D  5F          	ld	e, a
3354  0F2E  3E 00       	ld	a, +((_bullet_col) / 256)
3355  0F30  CE 00       	adc	a,0x00
3356  0F32  57          	ld	d, a
3357  0F33  1A          	ld	a, (de)
3358  0F34  5F          	ld	e, a
3359  0F35  16 00       	ld	d,0x00
3360  0F37  79          	ld	a, c
3361  0F38  93          	sub	a, e
3362  0F39  6F          	ld	l, a
3363  0F3A  78          	ld	a, b
3364  0F3B  9A          	sbc	a, d
3365  0F3C  67          	ld	h, a
3366  0F3D  CD 00 00    	call	_abs_fastcall
3367  0F40  7D          	ld	a,l
3368  0F41  D6 02       	sub	a,0x02
3369  0F43  7C          	ld	a,h
3370  0F44  17          	rla
3371  0F45  3F          	ccf
3372  0F46  1F          	rra
3373  0F47  DE 80       	sbc	a,0x80
3374  0F49  30 6F       	jr	NC,l_spr_colision_b_00111
3375  0F4B  2E 01       	ld	l,0x01
3376  0F4D  18 6D       	jr	l_spr_colision_b_00112
3377  0F4F              l_spr_colision_b_00110:
3378  0F4F  3E 00       	ld	a, +((_lin) & 0xFF)
3379  0F51  DD 86 04    	add	a,(ix+4)
3380  0F54  4F          	ld	c, a
3381  0F55  3E 00       	ld	a, +((_lin) / 256)
3382  0F57  CE 00       	adc	a,0x00
3383  0F59  47          	ld	b, a
3384  0F5A  0A          	ld	a, (bc)
3385  0F5B  4F          	ld	c, a
3386  0F5C  06 00       	ld	b,0x00
3387  0F5E  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3388  0F60  DD 86 05    	add	a,(ix+5)
3389  0F63  5F          	ld	e, a
3390  0F64  3E 00       	ld	a, +((_bullet_lin) / 256)
3391  0F66  CE 00       	adc	a,0x00
3392  0F68  57          	ld	d, a
3393  0F69  1A          	ld	a, (de)
3394  0F6A  5F          	ld	e, a
3395  0F6B  16 00       	ld	d,0x00
3396  0F6D  79          	ld	a, c
3397  0F6E  93          	sub	a, e
3398  0F6F  6F          	ld	l, a
3399  0F70  78          	ld	a, b
3400  0F71  9A          	sbc	a, d
3401  0F72  67          	ld	h, a
3402  0F73  CD 00 00    	call	_abs_fastcall
3403  0F76  3E 08       	ld	a,0x08
3404  0F78  BD          	cp	a,l
3405  0F79  3E 00       	ld	a,0x00
3406  0F7B  9C          	sbc	a,h
3407  0F7C  E2 81 0F    	jp	PO, l_spr_colision_b_00136
3408  0F7F  EE 80       	xor	a,0x80
3409  0F81              l_spr_colision_b_00136:
3410  0F81  FA BA 0F    	jp	M, l_spr_colision_b_00111
3411  0F84  3E 00       	ld	a, +((_col) & 0xFF)
3412  0F86  DD 86 04    	add	a,(ix+4)
3413  0F89  4F          	ld	c, a
3414  0F8A  3E 00       	ld	a, +((_col) / 256)
3415  0F8C  CE 00       	adc	a,0x00
3416  0F8E  47          	ld	b, a
3417  0F8F  0A          	ld	a, (bc)
3418  0F90  4F          	ld	c, a
3419  0F91  06 00       	ld	b,0x00
3420  0F93  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3421  0F95  DD 86 05    	add	a,(ix+5)
3422  0F98  5F          	ld	e, a
3423  0F99  3E 00       	ld	a, +((_bullet_col) / 256)
3424  0F9B  CE 00       	adc	a,0x00
3425  0F9D  57          	ld	d, a
3426  0F9E  1A          	ld	a, (de)
3427  0F9F  5F          	ld	e, a
3428  0FA0  16 00       	ld	d,0x00
3429  0FA2  79          	ld	a, c
3430  0FA3  93          	sub	a, e
3431  0FA4  6F          	ld	l, a
3432  0FA5  78          	ld	a, b
3433  0FA6  9A          	sbc	a, d
3434  0FA7  67          	ld	h, a
3435  0FA8  CD 00 00    	call	_abs_fastcall
3436  0FAB  7D          	ld	a,l
3437  0FAC  D6 02       	sub	a,0x02
3438  0FAE  7C          	ld	a,h
3439  0FAF  17          	rla
3440  0FB0  3F          	ccf
3441  0FB1  1F          	rra
3442  0FB2  DE 80       	sbc	a,0x80
3443  0FB4  30 04       	jr	NC,l_spr_colision_b_00111
3444  0FB6  2E 01       	ld	l,0x01
3445  0FB8  18 02       	jr	l_spr_colision_b_00112
3446  0FBA              l_spr_colision_b_00111:
3447  0FBA  2E 00       	ld	l,0x00
3448  0FBC              l_spr_colision_b_00112:
3449  0FBC  DD E1       	pop	ix
3450  0FBE  C9          	ret
3451  0FBF              	SECTION code_compiler
3452  0FBF              ;	---------------------------------
3453  0FBF              ; Function spr_colision_boss
3454  0FBF              ; ---------------------------------
3455  0FBF              _spr_colision_boss:
3456  0FBF  CD 00 00    	call	___sdcc_enter_ix
3457  0FC2  DD 4E 05    	ld	c,(ix+5)
3458  0FC5  06 00       	ld	b,0x00
3459  0FC7  03          	inc	bc
3460  0FC8  3A 00 00    	ld	a,(_boss_col)
3461  0FCB  5F          	ld	e,a
3462  0FCC  16 00       	ld	d,0x00
3463  0FCE  13          	inc	de
3464  0FCF  13          	inc	de
3465  0FD0  62          	ld	h, d
3466  0FD1  79          	ld	a, c
3467  0FD2  93          	sub	a, e
3468  0FD3  6F          	ld	l, a
3469  0FD4  78          	ld	a, b
3470  0FD5  9C          	sbc	a, h
3471  0FD6  67          	ld	h, a
3472  0FD7  CD 00 00    	call	_abs_fastcall
3473  0FDA  7D          	ld	a,l
3474  0FDB  32 00 00    	ld	(_tmp0),a
3475  0FDE  D6 02       	sub	a,0x02
3476  0FE0  30 2A       	jr	NC,l_spr_colision_boss_00104
3477  0FE2  DD 4E 04    	ld	c,(ix+4)
3478  0FE5  06 00       	ld	b,0x00
3479  0FE7  21 08 00    	ld	hl,0x0008
3480  0FEA  09          	add	hl,bc
3481  0FEB  3A 00 00    	ld	a,(_boss_lin)
3482  0FEE  5F          	ld	e,a
3483  0FEF  16 00       	ld	d,0x00
3484  0FF1  4D          	ld	c,l
3485  0FF2  44          	ld	b,h
3486  0FF3  21 10 00    	ld	hl,0x0010
3487  0FF6  19          	add	hl, de
3488  0FF7  79          	ld	a, c
3489  0FF8  95          	sub	a, l
3490  0FF9  6F          	ld	l, a
3491  0FFA  78          	ld	a, b
3492  0FFB  9C          	sbc	a, h
3493  0FFC  67          	ld	h, a
3494  0FFD  CD 00 00    	call	_abs_fastcall
3495  1000  7D          	ld	a,l
3496  1001  32 00 00    	ld	(_tmp1),a
3497  1004  D6 10       	sub	a,0x10
3498  1006  30 04       	jr	NC,l_spr_colision_boss_00104
3499  1008  2E 01       	ld	l,0x01
3500  100A  18 02       	jr	l_spr_colision_boss_00105
3501  100C              l_spr_colision_boss_00104:
3502  100C  2E 00       	ld	l,0x00
3503  100E              l_spr_colision_boss_00105:
3504  100E  DD E1       	pop	ix
3505  1010  C9          	ret
3506  1011              	SECTION code_compiler
3507  1011              ;	---------------------------------
3508  1011              ; Function spr_bullets_play
3509  1011              ; ---------------------------------
3510  1011              _spr_bullets_play:
3511  1011  CD 00 00    	call	___sdcc_enter_ix
3512  1014  F5          	push	af
3513  1015  21 00 00    	ld	hl,_bullet
3514  1018  36 00       	ld	(hl),0x00
3515  101A              l_spr_bullets_play_00143:
3516  101A  2A 00 00    	ld	hl,(_bullet)
3517  101D  26 00       	ld	h,0x00
3518  101F  01 00 00    	ld	bc,_bullet_col
3519  1022  09          	add	hl,bc
3520  1023  7E          	ld	a,(hl)
3521  1024  4F          	ld	c,a
3522  1025  3C          	inc	a
3523  1026  CA 85 12    	jp	Z,l_spr_bullets_play_00141
3524  1029  3A 00 00    	ld	a,(_bullet)
3525  102C  5F          	ld	e,a
3526  102D  16 00       	ld	d,0x00
3527  102F  21 00 00    	ld	hl,_bullet_lin
3528  1032  19          	add	hl,de
3529  1033  7E          	ld	a,(hl)
3530  1034  32 00 00    	ld	(_s_lin0),a
3531  1037  21 00 00    	ld	hl,_s_col0
3532  103A  71          	ld	(hl),c
3533  103B  DD 71 FE    	ld	(ix-2),c
3534  103E  CD 63 0A    	call	_spr_back_repaint
3535  1041  2A 00 00    	ld	hl,(_bullet)
3536  1044  26 00       	ld	h,0x00
3537  1046  01 00 00    	ld	bc,_bullet_class
3538  1049  09          	add	hl,bc
3539  104A  7E          	ld	a,(hl)
3540  104B  FE 02       	cp	a,0x02
3541  104D  28 0A       	jr	Z,l_spr_bullets_play_00103
3542  104F  FE 03       	cp	a,0x03
3543  1051  28 10       	jr	Z,l_spr_bullets_play_00104
3544  1053  D6 04       	sub	a,0x04
3545  1055  28 16       	jr	Z,l_spr_bullets_play_00105
3546  1057  18 25       	jr	l_spr_bullets_play_00108
3547  1059              l_spr_bullets_play_00103:
3548  1059  21 FE 03    	ld	hl,0x03fe
3549  105C  E5          	push	hl
3550  105D  CD C9 0D    	call	_spr_bullet_fireball
3551  1060  F1          	pop	af
3552  1061  18 1B       	jr	l_spr_bullets_play_00108
3553  1063              l_spr_bullets_play_00104:
3554  1063  21 02 02    	ld	hl,0x0202
3555  1066  E5          	push	hl
3556  1067  CD C9 0D    	call	_spr_bullet_fireball
3557  106A  F1          	pop	af
3558  106B  18 11       	jr	l_spr_bullets_play_00108
3559  106D              l_spr_bullets_play_00105:
3560  106D  CD 34 0E    	call	_spr_bullet_axe
3561  1070  2A 00 00    	ld	hl,(_bullet)
3562  1073  26 00       	ld	h,0x00
3563  1075  01 00 00    	ld	bc,_bullet_col
3564  1078  09          	add	hl,bc
3565  1079  7E          	ld	a,(hl)
3566  107A  3C          	inc	a
3567  107B  CA 85 12    	jp	Z,l_spr_bullets_play_00141
3568  107E              l_spr_bullets_play_00108:
3569  107E  2A 00 00    	ld	hl,(_bullet)
3570  1081  26 00       	ld	h,0x00
3571  1083  01 00 00    	ld	bc,_bullet_dir
3572  1086  09          	add	hl,bc
3573  1087  56          	ld	d, (hl)
3574  1088  2A 00 00    	ld	hl,(_bullet)
3575  108B  26 00       	ld	h,0x00
3576  108D  01 00 00    	ld	bc,_bullet_colint
3577  1090  09          	add	hl,bc
3578  1091  5E          	ld	e,(hl)
3579  1092  14          	inc	d
3580  1093  4D          	ld	c,l
3581  1094  44          	ld	b,h
3582  1095  20 45       	jr	NZ,l_spr_bullets_play_00118
3583  1097  1C          	inc	e
3584  1098  7B          	ld	a,e
3585  1099  02          	ld	(bc),a
3586  109A  2A 00 00    	ld	hl,(_bullet)
3587  109D  26 00       	ld	h,0x00
3588  109F  01 00 00    	ld	bc,_bullet_colint
3589  10A2  09          	add	hl,bc
3590  10A3  7E          	ld	a,(hl)
3591  10A4  4D          	ld	c,l
3592  10A5  44          	ld	b,h
3593  10A6  21 00 00    	ld	hl,_bullet
3594  10A9  DD 77 FF    	ld	(ix-1),a
3595  10AC  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3596  10AE  86          	add	a, (hl)
3597  10AF  5F          	ld	e, a
3598  10B0  3E 00       	ld	a, +((_bullet_frames) / 256)
3599  10B2  CE 00       	adc	a,0x00
3600  10B4  57          	ld	d, a
3601  10B5  1A          	ld	a, (de)
3602  10B6  5F          	ld	e, a
3603  10B7  DD 7E FF    	ld	a,(ix-1)
3604  10BA  93          	sub	a, e
3605  10BB  38 5E       	jr	C,l_spr_bullets_play_00119
3606  10BD  5E          	ld	e,(hl)
3607  10BE  16 00       	ld	d,0x00
3608  10C0  21 00 00    	ld	hl,_bullet_col
3609  10C3  19          	add	hl,de
3610  10C4  7E          	ld	a,(hl)
3611  10C5  3C          	inc	a
3612  10C6  DD 77 FE    	ld	(ix-2),a
3613  10C9  AF          	xor	a, a
3614  10CA  02          	ld	(bc), a
3615  10CB  DD 7E FE    	ld	a,(ix-2)
3616  10CE  E6 01       	and	a,0x01
3617  10D0  3D          	dec	a
3618  10D1  20 48       	jr	NZ,l_spr_bullets_play_00119
3619  10D3  DD 7E FE    	ld	a,(ix-2)
3620  10D6  3C          	inc	a
3621  10D7  32 00 00    	ld	(_s_col0),a
3622  10DA  18 3F       	jr	l_spr_bullets_play_00119
3623  10DC              l_spr_bullets_play_00118:
3624  10DC  1D          	dec	e
3625  10DD  7B          	ld	a, e
3626  10DE  02          	ld	(bc), a
3627  10DF  2A 00 00    	ld	hl,(_bullet)
3628  10E2  26 00       	ld	h,0x00
3629  10E4  01 00 00    	ld	bc,_bullet_colint
3630  10E7  09          	add	hl,bc
3631  10E8  7E          	ld	a,(hl)
3632  10E9  3C          	inc	a
3633  10EA  20 2F       	jr	NZ,l_spr_bullets_play_00119
3634  10EC  4D          	ld	c,l
3635  10ED  44          	ld	b,h
3636  10EE  2A 00 00    	ld	hl,(_bullet)
3637  10F1  26 00       	ld	h,0x00
3638  10F3  11 00 00    	ld	de,_bullet_col
3639  10F6  19          	add	hl,de
3640  10F7  7E          	ld	a,(hl)
3641  10F8  C6 FF       	add	a,0xff
3642  10FA  21 00 00    	ld	hl,_bullet
3643  10FD  DD 77 FE    	ld	(ix-2),a
3644  1100  5E          	ld	e,(hl)
3645  1101  16 00       	ld	d,0x00
3646  1103  21 00 00    	ld	hl,_bullet_frames
3647  1106  19          	add	hl,de
3648  1107  7E          	ld	a,(hl)
3649  1108  C6 FF       	add	a,0xff
3650  110A  02          	ld	(bc), a
3651  110B  DD 7E FE    	ld	a,(ix-2)
3652  110E  E6 01       	and	a,0x01
3653  1110  3D          	dec	a
3654  1111  20 08       	jr	NZ,l_spr_bullets_play_00119
3655  1113  DD 7E FE    	ld	a,(ix-2)
3656  1116  C6 FF       	add	a,0xff
3657  1118  32 00 00    	ld	(_s_col0),a
3658  111B              l_spr_bullets_play_00119:
3659  111B  2A 00 00    	ld	hl,(_bullet)
3660  111E  26 00       	ld	h,0x00
3661  1120  01 00 00    	ld	bc,_bullet_max
3662  1123  09          	add	hl,bc
3663  1124  7E          	ld	a,(hl)
3664  1125  B7          	or	a,a
3665  1126  28 62       	jr	Z,l_spr_bullets_play_00123
3666  1128  21 00 00    	ld	hl,_bullet
3667  112B  DD 4E FE    	ld	c,(ix-2)
3668  112E  06 00       	ld	b,0x00
3669  1130  5E          	ld	e,(hl)
3670  1131  50          	ld	d,b
3671  1132  21 00 00    	ld	hl,_bullet_col0
3672  1135  19          	add	hl,de
3673  1136  5E          	ld	e, (hl)
3674  1137  16 00       	ld	d,0x00
3675  1139  79          	ld	a, c
3676  113A  93          	sub	a, e
3677  113B  6F          	ld	l, a
3678  113C  78          	ld	a, b
3679  113D  9A          	sbc	a, d
3680  113E  67          	ld	h, a
3681  113F  CD 00 00    	call	_abs_fastcall
3682  1142  7D          	ld	a,l
3683  1143  32 00 00    	ld	(_tmp0),a
3684  1146  2A 00 00    	ld	hl,(_bullet)
3685  1149  26 00       	ld	h,0x00
3686  114B  01 00 00    	ld	bc,_bullet_max
3687  114E  09          	add	hl,bc
3688  114F  7E          	ld	a,(hl)
3689  1150  21 00 00    	ld	hl,_tmp0
3690  1153  96          	sub	a, (hl)
3691  1154  30 34       	jr	NC,l_spr_bullets_play_00123
3692  1156  21 00 00    	ld	hl,_bullet_count
3693  1159  35          	dec	(hl)
3694  115A  2A 00 00    	ld	hl,(_bullet)
3695  115D  26 00       	ld	h,0x00
3696  115F  5D          	ld	e,l
3697  1160  01 00 00    	ld	bc,_bullet_col
3698  1163  09          	add	hl,bc
3699  1164  46          	ld	b,(hl)
3700  1165  16 00       	ld	d,0x00
3701  1167  21 00 00    	ld	hl,_bullet_lin
3702  116A  19          	add	hl,de
3703  116B  56          	ld	d, (hl)
3704  116C  21 00 00    	ld	hl,0x0000
3705  116F  E5          	push	hl
3706  1170  21 59 02    	ld	hl,0x0259
3707  1173  E5          	push	hl
3708  1174  4A          	ld	c, d
3709  1175  C5          	push	bc
3710  1176  CD 0A 0C    	call	_spr_add_anim
3711  1179  F1          	pop	af
3712  117A  F1          	pop	af
3713  117B  F1          	pop	af
3714  117C  2A 00 00    	ld	hl,(_bullet)
3715  117F  26 00       	ld	h,0x00
3716  1181  01 00 00    	ld	bc,_bullet_col
3717  1184  09          	add	hl,bc
3718  1185  36 FF       	ld	(hl),0xff
3719  1187  C3 85 12    	jp	l_spr_bullets_play_00141
3720  118A              l_spr_bullets_play_00123:
3721  118A  2A 00 00    	ld	hl,(_bullet)
3722  118D  26 00       	ld	h,0x00
3723  118F  01 00 00    	ld	bc,_bullet_col
3724  1192  09          	add	hl,bc
3725  1193  3E 1E       	ld	a,0x1e
3726  1195  DD 96 FE    	sub	a,(ix-2)
3727  1198  4D          	ld	c,l
3728  1199  44          	ld	b,h
3729  119A  30 0A       	jr	NC,l_spr_bullets_play_00125
3730  119C  21 00 00    	ld	hl,_bullet_count
3731  119F  35          	dec	(hl)
3732  11A0  3E FF       	ld	a,0xff
3733  11A2  02          	ld	(bc), a
3734  11A3  C3 85 12    	jp	l_spr_bullets_play_00141
3735  11A6              l_spr_bullets_play_00125:
3736  11A6  0A          	ld	a, (bc)
3737  11A7  4F          	ld	c, a
3738  11A8  DD 7E FE    	ld	a,(ix-2)
3739  11AB  91          	sub	a, c
3740  11AC  CA 4A 12    	jp	Z,l_spr_bullets_play_00137
3741  11AF  3A 00 00    	ld	a,(_s_lin0)
3742  11B2  C6 08       	add	a,0x08
3743  11B4  4F          	ld	c, a
3744  11B5  3A 00 00    	ld	a, (_s_col0)
3745  11B8  47          	ld	b,a
3746  11B9  C5          	push	bc
3747  11BA  CD 00 00    	call	_spr_calc_index
3748  11BD  F1          	pop	af
3749  11BE  22 00 00    	ld	(_index0),hl
3750  11C1  01 00 00    	ld	bc,_scr_map
3751  11C4  09          	add	hl,bc
3752  11C5  7E          	ld	a,(hl)
3753  11C6  5F          	ld	e,a
3754  11C7  D6 4D       	sub	a,0x4d
3755  11C9  20 4C       	jr	NZ,l_spr_bullets_play_00127
3756  11CB  3A 00 00    	ld	a,(_bullet)
3757  11CE  D6 07       	sub	a,0x07
3758  11D0  20 45       	jr	NZ,l_spr_bullets_play_00127
3759  11D2  E5          	push	hl
3760  11D3  2A 00 00    	ld	hl,(_index0)
3761  11D6  CD 00 00    	call	_game_match_back
3762  11D9  C1          	pop	bc
3763  11DA  7D          	ld	a,l
3764  11DB  02          	ld	(bc), a
3765  11DC  2A 00 00    	ld	hl,(_index0)
3766  11DF  CD 00 00    	call	_game_obj_set
3767  11E2  2A 00 00    	ld	hl,(_bullet)
3768  11E5  26 00       	ld	h,0x00
3769  11E7  01 00 00    	ld	bc,_bullet_lin
3770  11EA  09          	add	hl,bc
3771  11EB  ED 5B 00 00 	ld	de,(_index0)
3772  11EF  3E 04       	ld	a,0x04
3773  11F1  4D          	ld	c,l
3774  11F2  44          	ld	b,h
3775  11F3              l_spr_bullets_play_00252:
3776  11F3  CB 3A       	srl	d
3777  11F5  CB 1B       	rr	e
3778  11F7  3D          	dec	a
3779  11F8  20 F9       	jr	NZ,l_spr_bullets_play_00252
3780  11FA  7B          	ld	a, e
3781  11FB  07          	rlca
3782  11FC  07          	rlca
3783  11FD  07          	rlca
3784  11FE  07          	rlca
3785  11FF  E6 F0       	and	a,0xf0
3786  1201  02          	ld	(bc), a
3787  1202  2A 00 00    	ld	hl,(_bullet)
3788  1205  26 00       	ld	h,0x00
3789  1207  01 00 00    	ld	bc,_bullet_col
3790  120A  09          	add	hl,bc
3791  120B  3A 00 00    	ld	a,(_index0)
3792  120E  E6 0F       	and	a,0x0f
3793  1210  87          	add	a,a
3794  1211  77          	ld	(hl),a
3795  1212  CD 34 13    	call	_spr_bullet_explode
3796  1215  18 6E       	jr	l_spr_bullets_play_00141
3797  1217              l_spr_bullets_play_00127:
3798  1217  7B          	ld	a,e
3799  1218  FE 48       	cp	a,0x48
3800  121A  38 09       	jr	C,l_spr_bullets_play_00130
3801  121C  D6 80       	sub	a,0x80
3802  121E  30 05       	jr	NC,l_spr_bullets_play_00130
3803  1220  CD 34 13    	call	_spr_bullet_explode
3804  1223  18 60       	jr	l_spr_bullets_play_00141
3805  1225              l_spr_bullets_play_00130:
3806  1225  2A 00 00    	ld	hl,(_bullet)
3807  1228  26 00       	ld	h,0x00
3808  122A  01 00 00    	ld	bc,_bullet_col
3809  122D  09          	add	hl,bc
3810  122E  4D          	ld	c,l
3811  122F  44          	ld	b,h
3812  1230  21 00 00    	ld	hl,_bullet
3813  1233  DD 7E FE    	ld	a,(ix-2)
3814  1236  02          	ld	(bc), a
3815  1237  7E          	ld	a, (hl)
3816  1238  D6 07       	sub	a,0x07
3817  123A  20 0B       	jr	NZ,l_spr_bullets_play_00133
3818  123C  3A 07 00    	ld	a, (_bullet_col + 7)
3819  123F  3C          	inc	a
3820  1240  28 05       	jr	Z,l_spr_bullets_play_00133
3821  1242  CD C6 12    	call	_spr_bullet_player_colision
3822  1245  18 03       	jr	l_spr_bullets_play_00137
3823  1247              l_spr_bullets_play_00133:
3824  1247  CD 94 12    	call	_spr_bullet_enemy_colision
3825  124A              l_spr_bullets_play_00137:
3826  124A  2A 00 00    	ld	hl,(_bullet)
3827  124D  26 00       	ld	h,0x00
3828  124F  01 00 00    	ld	bc,_bullet_col
3829  1252  09          	add	hl,bc
3830  1253  7E          	ld	a,(hl)
3831  1254  3C          	inc	a
3832  1255  28 2E       	jr	Z,l_spr_bullets_play_00141
3833  1257  DD 7E FE    	ld	a,(ix-2)
3834  125A  D6 20       	sub	a,0x20
3835  125C  30 27       	jr	NC,l_spr_bullets_play_00141
3836  125E  F3          	di
3837  125F  2A 00 00    	ld	hl,(_bullet)
3838  1262  26 00       	ld	h,0x00
3839  1264  01 00 00    	ld	bc,_bullet_tile
3840  1267  09          	add	hl,bc
3841  1268  4E          	ld	c, (hl)
3842  1269  3A 00 00    	ld	a,(_bullet)
3843  126C  5F          	ld	e,a
3844  126D  16 00       	ld	d,0x00
3845  126F  21 00 00    	ld	hl,_bullet_colint
3846  1272  19          	add	hl,de
3847  1273  7E          	ld	a,(hl)
3848  1274  81          	add	a,c
3849  1275  47          	ld	b, a
3850  1276  DD 7E FE    	ld	a,(ix-2)
3851  1279  F5          	push	af
3852  127A  33          	inc	sp
3853  127B  3A 00 00    	ld	a,(_s_lin0)
3854  127E  48          	ld	c,b
3855  127F  47          	ld	b,a
3856  1280  C5          	push	bc
3857  1281  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3858  1284  FB          	ei
3859  1285              l_spr_bullets_play_00141:
3860  1285  21 00 00    	ld	hl,_bullet
3861  1288  7E          	ld	a,(hl)
3862  1289  3C          	inc	a
3863  128A  77          	ld	(hl),a
3864  128B  D6 08       	sub	a,0x08
3865  128D  DA 1A 10    	jp	C, l_spr_bullets_play_00143
3866  1290  F1          	pop	af
3867  1291  DD E1       	pop	ix
3868  1293  C9          	ret
3869  1294              	SECTION code_compiler
3870  1294              ;	---------------------------------
3871  1294              ; Function spr_bullet_enemy_colision
3872  1294              ; ---------------------------------
3873  1294              _spr_bullet_enemy_colision:
3874  1294  3A 00 00    	ld	a,(_bullet)
3875  1297  57          	ld	d,a
3876  1298  1E 07       	ld	e,0x07
3877  129A  D5          	push	de
3878  129B  CD D3 0E    	call	_spr_colision_b
3879  129E  F1          	pop	af
3880  129F  7D          	ld	a, l
3881  12A0  B7          	or	a, a
3882  12A1  28 22       	jr	Z,l_spr_bullet_enemy_colision_00106
3883  12A3  2A 00 00    	ld	hl,(_bullet)
3884  12A6  26 00       	ld	h,0x00
3885  12A8  01 00 00    	ld	bc,_bullet_col
3886  12AB  09          	add	hl,bc
3887  12AC  3A 00 00    	ld	a,(_s_col0)
3888  12AF  77          	ld	(hl),a
3889  12B0  CD 34 13    	call	_spr_bullet_explode
3890  12B3  3A 00 00    	ld	a,(_game_boss)
3891  12B6  B7          	or	a, a
3892  12B7  28 07       	jr	Z,l_spr_bullet_enemy_colision_00102
3893  12B9  2E 14       	ld	l,0x14
3894  12BB  CD 00 00    	call	_player_damage
3895  12BE  18 05       	jr	l_spr_bullet_enemy_colision_00106
3896  12C0              l_spr_bullet_enemy_colision_00102:
3897  12C0  2E 0A       	ld	l,0x0a
3898  12C2  CD 00 00    	call	_player_damage
3899  12C5              l_spr_bullet_enemy_colision_00106:
3900  12C5  C9          	ret
3901  12C6              	SECTION code_compiler
3902  12C6              ;	---------------------------------
3903  12C6              ; Function spr_bullet_player_colision
3904  12C6              ; ---------------------------------
3905  12C6              _spr_bullet_player_colision:
3906  12C6  0E 00       	ld	c,0x00
3907  12C8  11 00 00    	ld	de,_class+0
3908  12CB  41          	ld	b,c
3909  12CC              l_spr_bullet_player_colision_00106:
3910  12CC  78          	ld	a, b
3911  12CD  D6 07       	sub	a,0x07
3912  12CF  30 3C       	jr	NC,l_spr_bullet_player_colision_00108
3913  12D1  68          	ld	l,b
3914  12D2  26 00       	ld	h,0x00
3915  12D4  19          	add	hl, de
3916  12D5  7E          	ld	a, (hl)
3917  12D6  B7          	or	a, a
3918  12D7  28 30       	jr	Z,l_spr_bullet_player_colision_00102
3919  12D9  FE 01       	cp	a,0x01
3920  12DB  28 2C       	jr	Z,l_spr_bullet_player_colision_00102
3921  12DD  D6 09       	sub	a,0x09
3922  12DF  28 28       	jr	Z,l_spr_bullet_player_colision_00102
3923  12E1  3A 00 00    	ld	a,(_bullet)
3924  12E4  C5          	push	bc
3925  12E5  D5          	push	de
3926  12E6  48          	ld	c,b
3927  12E7  47          	ld	b,a
3928  12E8  C5          	push	bc
3929  12E9  CD D3 0E    	call	_spr_colision_b
3930  12EC  F1          	pop	af
3931  12ED  D1          	pop	de
3932  12EE  C1          	pop	bc
3933  12EF  7D          	ld	a,l
3934  12F0  B7          	or	a, a
3935  12F1  28 16       	jr	Z,l_spr_bullet_player_colision_00102
3936  12F3  C5          	push	bc
3937  12F4  CD 00 00    	call	_rand
3938  12F7  11 06 00    	ld	de,0x0006
3939  12FA  D5          	push	de
3940  12FB  E5          	push	hl
3941  12FC  CD 00 00    	call	__modsint_callee
3942  12FF  CD 00 00    	call	_player_score_add
3943  1302  C1          	pop	bc
3944  1303  69          	ld	l, c
3945  1304  CD 00 00    	call	_enemy_kill
3946  1307  18 04       	jr	l_spr_bullet_player_colision_00108
3947  1309              l_spr_bullet_player_colision_00102:
3948  1309  04          	inc	b
3949  130A  48          	ld	c, b
3950  130B  18 BF       	jr	l_spr_bullet_player_colision_00106
3951  130D              l_spr_bullet_player_colision_00108:
3952  130D  3A 00 00    	ld	a,(_game_boss)
3953  1310  B7          	or	a, a
3954  1311  C8          	ret	Z
3955  1312  21 07 00    	ld	hl,+(_bullet_col + 0x0007)
3956  1315  46          	ld	b, (hl)
3957  1316  21 07 00    	ld	hl,+(_bullet_lin + 0x0007)
3958  1319  4E          	ld	c, (hl)
3959  131A  C5          	push	bc
3960  131B  CD BF 0F    	call	_spr_colision_boss
3961  131E  F1          	pop	af
3962  131F  7D          	ld	a, l
3963  1320  B7          	or	a, a
3964  1321  C8          	ret	Z
3965  1322  CD 34 13    	call	_spr_bullet_explode
3966  1325  21 00 00    	ld	hl,_game_boss_hit
3967  1328  35          	dec	(hl)
3968  1329  CD 00 00    	call	_game_update_stats
3969  132C  3A 00 00    	ld	a,(_game_boss_hit)
3970  132F  B7          	or	a, a
3971  1330  C0          	ret	NZ
3972  1331  C3 00 00    	jp  _game_boss_kill
3973  1334              	SECTION code_compiler
3974  1334              ;	---------------------------------
3975  1334              ; Function spr_bullet_explode
3976  1334              ; ---------------------------------
3977  1334              _spr_bullet_explode:
3978  1334  CD 00 00    	call	_audio_explosion
3979  1337  2A 00 00    	ld	hl,(_bullet)
3980  133A  26 00       	ld	h,0x00
3981  133C  01 00 00    	ld	bc,_bullet_col
3982  133F  09          	add	hl,bc
3983  1340  56          	ld	d, (hl)
3984  1341  2A 00 00    	ld	hl,(_bullet)
3985  1344  26 00       	ld	h,0x00
3986  1346  01 00 00    	ld	bc,_bullet_lin
3987  1349  09          	add	hl,bc
3988  134A  46          	ld	b, (hl)
3989  134B  21 00 00    	ld	hl,0x0000
3990  134E  E5          	push	hl
3991  134F  21 87 03    	ld	hl,0x0387
3992  1352  E5          	push	hl
3993  1353  58          	ld	e,b
3994  1354  D5          	push	de
3995  1355  CD 0A 0C    	call	_spr_add_anim
3996  1358  F1          	pop	af
3997  1359  F1          	pop	af
3998  135A  F1          	pop	af
3999  135B  21 00 00    	ld	hl,_bullet_count
4000  135E  35          	dec	(hl)
4001  135F  2A 00 00    	ld	hl,(_bullet)
4002  1362  26 00       	ld	h,0x00
4003  1364  01 00 00    	ld	bc,_bullet_col
4004  1367  09          	add	hl,bc
4005  1368  36 FF       	ld	(hl),0xff
4006  136A  C9          	ret
4007  136B              	SECTION code_compiler
4008  136B              ;	---------------------------------
4009  136B              ; Function spr_turn_horizontal
4010  136B              ; ---------------------------------
4011  136B              _spr_turn_horizontal:
4012  136B  21 00 00    	ld	hl,_s_state
4013  136E  CB 56       	bit	2,(hl)
4014  1370  28 05       	jr	Z,l_spr_turn_horizontal_00102
4015  1372  CD 72 00    	call	_spr_set_left
4016  1375  18 06       	jr	l_spr_turn_horizontal_00103
4017  1377              l_spr_turn_horizontal_00102:
4018  1377  21 00 00    	ld	hl,_s_state
4019  137A  CD 79 00    	call	_spr_set_right
4020  137D              l_spr_turn_horizontal_00103:
4021  137D  2A 00 00    	ld	hl,(_sprite)
4022  1380  26 00       	ld	h,0x00
4023  1382  01 00 00    	ld	bc,_state
4024  1385  09          	add	hl,bc
4025  1386  3A 00 00    	ld	a,(_s_state)
4026  1389  77          	ld	(hl),a
4027  138A  2A 00 00    	ld	hl,(_sprite)
4028  138D  26 00       	ld	h,0x00
4029  138F  01 00 00    	ld	bc,_tile
4030  1392  09          	add	hl,bc
4031  1393  E5          	push	hl
4032  1394  21 00 00    	ld	hl,_sprite
4033  1397  CD F0 08    	call	_spr_tile
4034  139A  C1          	pop	bc
4035  139B  7D          	ld	a,l
4036  139C  02          	ld	(bc), a
4037  139D  C9          	ret
4038  139E              	SECTION code_compiler
4039  139E              ;	---------------------------------
4040  139E              ; Function spr_btile_paint_back
4041  139E              ; ---------------------------------
4042  139E              _spr_btile_paint_back:
4043  139E  21 20 00    	ld	hl,0x0020
4044  13A1  22 00 00    	ld	(_tmp_ui),hl
4045  13A4  21 00 00    	ld	hl,_map_paper
4046  13A7  7E          	ld	a, (hl)
4047  13A8  0F          	rrca
4048  13A9  0F          	rrca
4049  13AA  0F          	rrca
4050  13AB  E6 1F       	and	a,0x1f
4051  13AD  B6          	or	a, (hl)
4052  13AE  F6 40       	or	a,0x40
4053  13B0  32 00 00    	ld	(_map_paper_clr),a
4054  13B3  0E 00       	ld	c,0x00
4055  13B5              l_spr_btile_paint_back_00120:
4056  13B5  21 00 00    	ld	hl,_tmp_ui
4057  13B8  7E          	ld	a, (hl)
4058  13B9  D6 20       	sub	a,0x20
4059  13BB  23          	inc	hl
4060  13BC  7E          	ld	a, (hl)
4061  13BD  DE 2D       	sbc	a,0x2d
4062  13BF  D2 4E 14    	jp	NC, l_spr_btile_paint_back_00122
4063  13C2  79          	ld	a,c
4064  13C3  FE 49       	cp	a,0x49
4065  13C5  30 09       	jr	NC,l_spr_btile_paint_back_00119
4066  13C7  D6 0D       	sub	a,0x0d
4067  13C9  28 05       	jr	Z,l_spr_btile_paint_back_00119
4068  13CB  79          	ld	a, c
4069  13CC  D6 0E       	sub	a,0x0e
4070  13CE  20 05       	jr	NZ,l_spr_btile_paint_back_00115
4071  13D0              l_spr_btile_paint_back_00119:
4072  13D0  3E 58       	ld	a,0x58
4073  13D2  91          	sub	a, c
4074  13D3  30 6B       	jr	NC,l_spr_btile_paint_back_00116
4075  13D5              l_spr_btile_paint_back_00115:
4076  13D5  21 00 00    	ld	hl,_tmp0
4077  13D8  36 00       	ld	(hl),0x00
4078  13DA  21 00 00    	ld	hl,_map_paper_last
4079  13DD  5E          	ld	e, (hl)
4080  13DE  43          	ld	b, e
4081  13DF  3E 38       	ld	a,0x38
4082  13E1  91          	sub	a, c
4083  13E2  30 05       	jr	NC,l_spr_btile_paint_back_00109
4084  13E4  79          	ld	a, c
4085  13E5  D6 41       	sub	a,0x41
4086  13E7  38 0A       	jr	C,l_spr_btile_paint_back_00105
4087  13E9              l_spr_btile_paint_back_00109:
4088  13E9  3E 10       	ld	a,0x10
4089  13EB  91          	sub	a, c
4090  13EC  30 20       	jr	NC,l_spr_btile_paint_back_00112
4091  13EE  79          	ld	a, c
4092  13EF  D6 14       	sub	a,0x14
4093  13F1  30 1B       	jr	NC,l_spr_btile_paint_back_00112
4094  13F3              l_spr_btile_paint_back_00105:
4095  13F3  3A 00 00    	ld	a,(_map_paper)
4096  13F6  D6 10       	sub	a,0x10
4097  13F8  20 09       	jr	NZ,l_spr_btile_paint_back_00102
4098  13FA  21 00 00    	ld	hl,_tmp0
4099  13FD  36 10       	ld	(hl),0x10
4100  13FF  21 00 00    	ld	hl,_map_paper_last_a
4101  1402  73          	ld	(hl), e
4102  1403              l_spr_btile_paint_back_00102:
4103  1403  3A 00 00    	ld	a,(_map_paper_last)
4104  1406  D6 10       	sub	a,0x10
4105  1408  20 04       	jr	NZ,l_spr_btile_paint_back_00112
4106  140A  21 00 00    	ld	hl,_map_paper_last_a
4107  140D  46          	ld	b, (hl)
4108  140E              l_spr_btile_paint_back_00112:
4109  140E  3A 00 00    	ld	a,(_tmp0)
4110  1411  D6 10       	sub	a,0x10
4111  1413  30 2B       	jr	NC,l_spr_btile_paint_back_00116
4112  1415  11 00 00    	ld	de,_btiles
4113  1418  2A 00 00    	ld	hl,(_tmp_ui)
4114  141B  19          	add	hl,de
4115  141C  EB          	ex	de,hl
4116  141D  2A 00 00    	ld	hl,(_tmp0)
4117  1420  26 00       	ld	h,0x00
4118  1422  19          	add	hl,de
4119  1423  7E          	ld	a,(hl)
4120  1424  EB          	ex	de,hl
4121  1425  21 00 00    	ld	hl,_tmp
4122  1428  77          	ld	(hl),a
4123  1429  E6 38       	and	a,0x38
4124  142B  90          	sub	a, b
4125  142C  20 0C       	jr	NZ,l_spr_btile_paint_back_00111
4126  142E  7E          	ld	a, (hl)
4127  142F  E6 C7       	and	a,0xc7
4128  1431  77          	ld	(hl),a
4129  1432  21 00 00    	ld	hl,_map_paper
4130  1435  B6          	or	a, (hl)
4131  1436  32 00 00    	ld	(_tmp),a
4132  1439  12          	ld	(de), a
4133  143A              l_spr_btile_paint_back_00111:
4134  143A  21 00 00    	ld	hl,_tmp0
4135  143D  34          	inc	(hl)
4136  143E  18 CE       	jr	l_spr_btile_paint_back_00112
4137  1440              l_spr_btile_paint_back_00116:
4138  1440  2A 00 00    	ld	hl,(_tmp_ui)
4139  1443  11 30 00    	ld	de,0x0030
4140  1446  19          	add	hl,de
4141  1447  22 00 00    	ld	(_tmp_ui),hl
4142  144A  0C          	inc	c
4143  144B  C3 B5 13    	jp	l_spr_btile_paint_back_00120
4144  144E              l_spr_btile_paint_back_00122:
4145  144E  3A 00 00    	ld	a,(_map_paper)
4146  1451  32 00 00    	ld	(_map_paper_last),a
4147  1454  C3 00 00    	jp  _game_attribs
4148  1457              	SECTION code_compiler
4149  1457              ;	---------------------------------
4150  1457              ; Function spr_flatten
4151  1457              ; ---------------------------------
4152  1457              _spr_flatten:
4153  1457  06 00       	ld	b,0x00
4154  1459              l_spr_flatten_00102:
4155  1459  78          	ld	a, b
4156  145A  07          	rlca
4157  145B  07          	rlca
4158  145C  07          	rlca
4159  145D  E6 F8       	and	a,0xf8
4160  145F  5F          	ld	e, a
4161  1460  16 00       	ld	d,0x00
4162  1462  21 96 DC    	ld	hl,0xdc96
4163  1465  19          	add	hl, de
4164  1466  7E          	ld	a, (hl)
4165  1467  32 00 00    	ld	(_s_lin1),a
4166  146A  16 00       	ld	d,0x00
4167  146C  21 95 DC    	ld	hl,0xdc95
4168  146F  19          	add	hl, de
4169  1470  7E          	ld	a, (hl)
4170  1471  32 00 00    	ld	(_s_col1),a
4171  1474  16 00       	ld	d,0x00
4172  1476  21 98 DC    	ld	hl,0xdc98
4173  1479  19          	add	hl, de
4174  147A  7E          	ld	a, (hl)
4175  147B  32 00 00    	ld	(_s_tile1),a
4176  147E  C5          	push	bc
4177  147F  21 00 00    	ld	hl,0x0000
4178  1482  E5          	push	hl
4179  1483  AF          	xor	a, a
4180  1484  48          	ld	c,b
4181  1485  47          	ld	b,a
4182  1486  C5          	push	bc
4183  1487  CD 00 00    	call	_NIRVANAP_spriteT_callee
4184  148A  2A FF FF    	ld	hl,(_s_col1 - 1)
4185  148D  3A 00 00    	ld	a,(_s_lin1)
4186  1490  6F          	ld	l,a
4187  1491  3A 00 00    	ld	a,(_s_tile1)
4188  1494  E5          	push	hl
4189  1495  F5          	push	af
4190  1496  33          	inc	sp
4191  1497  CD 00 00    	call	_NIRVANAP_drawT_callee
4192  149A  C1          	pop	bc
4193  149B  04          	inc	b
4194  149C  3E 07       	ld	a,0x07
4195  149E  90          	sub	a, b
4196  149F  30 B8       	jr	NC,l_spr_flatten_00102
4197  14A1  C9          	ret
4198  14A2              	SECTION code_compiler
4199  14A2              ;	---------------------------------
4200  14A2              ; Function spr_unflattenP1
4201  14A2              ; ---------------------------------
4202  14A2              _spr_unflattenP1:
4203  14A2  CD 00 00    	call	_player_anim_stairs
4204  14A5  21 07 00    	ld	hl,+(_col + 0x0007)
4205  14A8  46          	ld	b, (hl)
4206  14A9  21 07 00    	ld	hl,+(_lin + 0x0007)
4207  14AC  4E          	ld	c, (hl)
4208  14AD  3A 00 00    	ld	a,(_s_tile1)
4209  14B0  C5          	push	bc
4210  14B1  F5          	push	af
4211  14B2  33          	inc	sp
4212  14B3  CD 00 00    	call	_NIRVANAP_drawT_callee
4213  14B6  C9          	ret
4214  14B7              	SECTION IGNORE
4215  0000              
