1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_turn_horizontal
214   0000              ;--------------------------------------------------------
215   0000              ; Externals used
216   0000              ;--------------------------------------------------------
217   0000              	GLOBAL _ulltoa_callee
218   0000              	GLOBAL _ulltoa
219   0000              	GLOBAL _strtoull_callee
220   0000              	GLOBAL _strtoull
221   0000              	GLOBAL _strtoll_callee
222   0000              	GLOBAL _strtoll
223   0000              	GLOBAL _lltoa_callee
224   0000              	GLOBAL _lltoa
225   0000              	GLOBAL _llabs_callee
226   0000              	GLOBAL _llabs
227   0000              	GLOBAL __lldivu__callee
228   0000              	GLOBAL __lldivu_
229   0000              	GLOBAL __lldiv__callee
230   0000              	GLOBAL __lldiv_
231   0000              	GLOBAL _atoll_callee
232   0000              	GLOBAL _atoll
233   0000              	GLOBAL _realloc_unlocked_callee
234   0000              	GLOBAL _realloc_unlocked
235   0000              	GLOBAL _malloc_unlocked_fastcall
236   0000              	GLOBAL _malloc_unlocked
237   0000              	GLOBAL _free_unlocked_fastcall
238   0000              	GLOBAL _free_unlocked
239   0000              	GLOBAL _calloc_unlocked_callee
240   0000              	GLOBAL _calloc_unlocked
241   0000              	GLOBAL _aligned_alloc_unlocked_callee
242   0000              	GLOBAL _aligned_alloc_unlocked
243   0000              	GLOBAL _realloc_callee
244   0000              	GLOBAL _realloc
245   0000              	GLOBAL _malloc_fastcall
246   0000              	GLOBAL _malloc
247   0000              	GLOBAL _free_fastcall
248   0000              	GLOBAL _free
249   0000              	GLOBAL _calloc_callee
250   0000              	GLOBAL _calloc
251   0000              	GLOBAL _aligned_alloc_callee
252   0000              	GLOBAL _aligned_alloc
253   0000              	GLOBAL _utoa_callee
254   0000              	GLOBAL _utoa
255   0000              	GLOBAL _ultoa_callee
256   0000              	GLOBAL _ultoa
257   0000              	GLOBAL _system_fastcall
258   0000              	GLOBAL _system
259   0000              	GLOBAL _strtoul_callee
260   0000              	GLOBAL _strtoul
261   0000              	GLOBAL _strtol_callee
262   0000              	GLOBAL _strtol
263   0000              	GLOBAL _strtof_callee
264   0000              	GLOBAL _strtof
265   0000              	GLOBAL _strtod_callee
266   0000              	GLOBAL _strtod
267   0000              	GLOBAL _srand_fastcall
268   0000              	GLOBAL _srand
269   0000              	GLOBAL _rand
270   0000              	GLOBAL _quick_exit_fastcall
271   0000              	GLOBAL _quick_exit
272   0000              	GLOBAL _qsort_callee
273   0000              	GLOBAL _qsort
274   0000              	GLOBAL _ltoa_callee
275   0000              	GLOBAL _ltoa
276   0000              	GLOBAL _labs_fastcall
277   0000              	GLOBAL _labs
278   0000              	GLOBAL _itoa_callee
279   0000              	GLOBAL _itoa
280   0000              	GLOBAL _ftoh_callee
281   0000              	GLOBAL _ftoh
282   0000              	GLOBAL _ftog_callee
283   0000              	GLOBAL _ftog
284   0000              	GLOBAL _ftoe_callee
285   0000              	GLOBAL _ftoe
286   0000              	GLOBAL _ftoa_callee
287   0000              	GLOBAL _ftoa
288   0000              	GLOBAL _exit_fastcall
289   0000              	GLOBAL _exit
290   0000              	GLOBAL _dtoh_callee
291   0000              	GLOBAL _dtoh
292   0000              	GLOBAL _dtog_callee
293   0000              	GLOBAL _dtog
294   0000              	GLOBAL _dtoe_callee
295   0000              	GLOBAL _dtoe
296   0000              	GLOBAL _dtoa_callee
297   0000              	GLOBAL _dtoa
298   0000              	GLOBAL _bsearch_callee
299   0000              	GLOBAL _bsearch
300   0000              	GLOBAL _atol_fastcall
301   0000              	GLOBAL _atol
302   0000              	GLOBAL _atoi_fastcall
303   0000              	GLOBAL _atoi
304   0000              	GLOBAL _atof_fastcall
305   0000              	GLOBAL _atof
306   0000              	GLOBAL _atexit_fastcall
307   0000              	GLOBAL _atexit
308   0000              	GLOBAL _at_quick_exit_fastcall
309   0000              	GLOBAL _at_quick_exit
310   0000              	GLOBAL _abs_fastcall
311   0000              	GLOBAL _abs
312   0000              	GLOBAL _abort
313   0000              	GLOBAL __strtou__callee
314   0000              	GLOBAL __strtou_
315   0000              	GLOBAL __strtoi__callee
316   0000              	GLOBAL __strtoi_
317   0000              	GLOBAL __random_uniform_xor_8__fastcall
318   0000              	GLOBAL __random_uniform_xor_8_
319   0000              	GLOBAL __random_uniform_xor_32__fastcall
320   0000              	GLOBAL __random_uniform_xor_32_
321   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
322   0000              	GLOBAL __random_uniform_cmwc_8_
323   0000              	GLOBAL __shellsort__callee
324   0000              	GLOBAL __shellsort_
325   0000              	GLOBAL __quicksort__callee
326   0000              	GLOBAL __quicksort_
327   0000              	GLOBAL __insertion_sort__callee
328   0000              	GLOBAL __insertion_sort_
329   0000              	GLOBAL __ldivu__callee
330   0000              	GLOBAL __ldivu_
331   0000              	GLOBAL __ldiv__callee
332   0000              	GLOBAL __ldiv_
333   0000              	GLOBAL __divu__callee
334   0000              	GLOBAL __divu_
335   0000              	GLOBAL __div__callee
336   0000              	GLOBAL __div_
337   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawTW_raw
339   0000              	GLOBAL _NIRVANAP_drawTW_callee
340   0000              	GLOBAL _NIRVANAP_drawTW
341   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawW_raw
343   0000              	GLOBAL _NIRVANAP_drawW_callee
344   0000              	GLOBAL _NIRVANAP_drawW
345   0000              	GLOBAL _NIRVANAP_spriteT_callee
346   0000              	GLOBAL _NIRVANAP_spriteT
347   0000              	GLOBAL _NIRVANAP_fillC_callee
348   0000              	GLOBAL _NIRVANAP_fillC
349   0000              	GLOBAL _NIRVANAP_readC_callee
350   0000              	GLOBAL _NIRVANAP_readC
351   0000              	GLOBAL _NIRVANAP_paintC_callee
352   0000              	GLOBAL _NIRVANAP_paintC
353   0000              	GLOBAL _NIRVANAP_printC_callee
354   0000              	GLOBAL _NIRVANAP_printC
355   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
356   0000              	GLOBAL _NIRVANAP_fillT_raw
357   0000              	GLOBAL _NIRVANAP_fillT_callee
358   0000              	GLOBAL _NIRVANAP_fillT
359   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawT_raw
361   0000              	GLOBAL _NIRVANAP_drawT_callee
362   0000              	GLOBAL _NIRVANAP_drawT
363   0000              	GLOBAL _NIRVANAP_stop
364   0000              	GLOBAL _NIRVANAP_start
365   0000              	GLOBAL _debug3
366   0000              	GLOBAL _debug2
367   0000              	GLOBAL _debug
368   0000              	GLOBAL _zx_print_str
369   0000              	GLOBAL _zx_print_int
370   0000              	GLOBAL _zx_print_chr
371   0000              	GLOBAL _zx_print_bonus_time
372   0000              	GLOBAL _zx_isr
373   0000              	GLOBAL _z80_otdr_callee
374   0000              	GLOBAL _z80_otdr
375   0000              	GLOBAL _z80_otir_callee
376   0000              	GLOBAL _z80_otir
377   0000              	GLOBAL _z80_outp_callee
378   0000              	GLOBAL _z80_outp
379   0000              	GLOBAL _z80_indr_callee
380   0000              	GLOBAL _z80_indr
381   0000              	GLOBAL _z80_inir_callee
382   0000              	GLOBAL _z80_inir
383   0000              	GLOBAL _z80_inp_fastcall
384   0000              	GLOBAL _z80_inp
385   0000              	GLOBAL _z80_set_int_state_fastcall
386   0000              	GLOBAL _z80_set_int_state
387   0000              	GLOBAL _z80_get_int_state
388   0000              	GLOBAL _z80_delay_tstate_fastcall
389   0000              	GLOBAL _z80_delay_tstate
390   0000              	GLOBAL _z80_delay_ms_fastcall
391   0000              	GLOBAL _z80_delay_ms
392   0000              	GLOBAL _im2_remove_generic_callback_callee
393   0000              	GLOBAL _im2_remove_generic_callback
394   0000              	GLOBAL _im2_prepend_generic_callback_callee
395   0000              	GLOBAL _im2_prepend_generic_callback
396   0000              	GLOBAL _im2_append_generic_callback_callee
397   0000              	GLOBAL _im2_append_generic_callback
398   0000              	GLOBAL _im2_create_generic_isr_8080_callee
399   0000              	GLOBAL _im2_create_generic_isr_8080
400   0000              	GLOBAL _im2_create_generic_isr_callee
401   0000              	GLOBAL _im2_create_generic_isr
402   0000              	GLOBAL _im2_install_isr_callee
403   0000              	GLOBAL _im2_install_isr
404   0000              	GLOBAL _im2_init_fastcall
405   0000              	GLOBAL _im2_init
406   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
407   0000              	GLOBAL _intrinsic_swap_word_32
408   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_endian_32
410   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_16
412   0000              	GLOBAL _intrinsic_return_de
413   0000              	GLOBAL _intrinsic_return_bc
414   0000              	GLOBAL _intrinsic_exx
415   0000              	GLOBAL _intrinsic_ex_de_hl
416   0000              	GLOBAL _intrinsic_nop
417   0000              	GLOBAL _intrinsic_im_2
418   0000              	GLOBAL _intrinsic_im_1
419   0000              	GLOBAL _intrinsic_im_0
420   0000              	GLOBAL _intrinsic_retn
421   0000              	GLOBAL _intrinsic_reti
422   0000              	GLOBAL _intrinsic_halt
423   0000              	GLOBAL _intrinsic_ei
424   0000              	GLOBAL _intrinsic_di
425   0000              	GLOBAL _intrinsic_stub
426   0000              	GLOBAL _intrinsic_outi
427   0000              	GLOBAL _intrinsic_ldi
428   0000              	GLOBAL _zx_pattern_fill_callee
429   0000              	GLOBAL _zx_pattern_fill
430   0000              	GLOBAL _zx_saddrpup_fastcall
431   0000              	GLOBAL _zx_saddrpup
432   0000              	GLOBAL _zx_saddrpright_callee
433   0000              	GLOBAL _zx_saddrpright
434   0000              	GLOBAL _zx_saddrpleft_callee
435   0000              	GLOBAL _zx_saddrpleft
436   0000              	GLOBAL _zx_saddrpdown_fastcall
437   0000              	GLOBAL _zx_saddrpdown
438   0000              	GLOBAL _zx_saddrcup_fastcall
439   0000              	GLOBAL _zx_saddrcup
440   0000              	GLOBAL _zx_saddrcright_fastcall
441   0000              	GLOBAL _zx_saddrcright
442   0000              	GLOBAL _zx_saddrcleft_fastcall
443   0000              	GLOBAL _zx_saddrcleft
444   0000              	GLOBAL _zx_saddrcdown_fastcall
445   0000              	GLOBAL _zx_saddrcdown
446   0000              	GLOBAL _zx_saddr2py_fastcall
447   0000              	GLOBAL _zx_saddr2py
448   0000              	GLOBAL _zx_saddr2px_fastcall
449   0000              	GLOBAL _zx_saddr2px
450   0000              	GLOBAL _zx_saddr2cy_fastcall
451   0000              	GLOBAL _zx_saddr2cy
452   0000              	GLOBAL _zx_saddr2cx_fastcall
453   0000              	GLOBAL _zx_saddr2cx
454   0000              	GLOBAL _zx_saddr2aaddr_fastcall
455   0000              	GLOBAL _zx_saddr2aaddr
456   0000              	GLOBAL _zx_py2saddr_fastcall
457   0000              	GLOBAL _zx_py2saddr
458   0000              	GLOBAL _zx_py2aaddr_fastcall
459   0000              	GLOBAL _zx_py2aaddr
460   0000              	GLOBAL _zx_pxy2saddr_callee
461   0000              	GLOBAL _zx_pxy2saddr
462   0000              	GLOBAL _zx_pxy2aaddr_callee
463   0000              	GLOBAL _zx_pxy2aaddr
464   0000              	GLOBAL _zx_px2bitmask_fastcall
465   0000              	GLOBAL _zx_px2bitmask
466   0000              	GLOBAL _zx_cy2saddr_fastcall
467   0000              	GLOBAL _zx_cy2saddr
468   0000              	GLOBAL _zx_cy2aaddr_fastcall
469   0000              	GLOBAL _zx_cy2aaddr
470   0000              	GLOBAL _zx_cxy2saddr_callee
471   0000              	GLOBAL _zx_cxy2saddr
472   0000              	GLOBAL _zx_cxy2aaddr_callee
473   0000              	GLOBAL _zx_cxy2aaddr
474   0000              	GLOBAL _zx_bitmask2px_fastcall
475   0000              	GLOBAL _zx_bitmask2px
476   0000              	GLOBAL _zx_aaddrcup_fastcall
477   0000              	GLOBAL _zx_aaddrcup
478   0000              	GLOBAL _zx_aaddrcright_fastcall
479   0000              	GLOBAL _zx_aaddrcright
480   0000              	GLOBAL _zx_aaddrcleft_fastcall
481   0000              	GLOBAL _zx_aaddrcleft
482   0000              	GLOBAL _zx_aaddrcdown_fastcall
483   0000              	GLOBAL _zx_aaddrcdown
484   0000              	GLOBAL _zx_aaddr2saddr_fastcall
485   0000              	GLOBAL _zx_aaddr2saddr
486   0000              	GLOBAL _zx_aaddr2py_fastcall
487   0000              	GLOBAL _zx_aaddr2py
488   0000              	GLOBAL _zx_aaddr2px_fastcall
489   0000              	GLOBAL _zx_aaddr2px
490   0000              	GLOBAL _zx_aaddr2cy_fastcall
491   0000              	GLOBAL _zx_aaddr2cy
492   0000              	GLOBAL _zx_aaddr2cx_fastcall
493   0000              	GLOBAL _zx_aaddr2cx
494   0000              	GLOBAL _zx_visit_wc_pix_callee
495   0000              	GLOBAL _zx_visit_wc_pix
496   0000              	GLOBAL _zx_visit_wc_attr_callee
497   0000              	GLOBAL _zx_visit_wc_attr
498   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
499   0000              	GLOBAL _zx_scroll_wc_up_pix
500   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
501   0000              	GLOBAL _zx_scroll_wc_up_attr
502   0000              	GLOBAL _zx_scroll_wc_up_callee
503   0000              	GLOBAL _zx_scroll_wc_up
504   0000              	GLOBAL _zx_scroll_up_pix_callee
505   0000              	GLOBAL _zx_scroll_up_pix
506   0000              	GLOBAL _zx_scroll_up_attr_callee
507   0000              	GLOBAL _zx_scroll_up_attr
508   0000              	GLOBAL _zx_scroll_up_callee
509   0000              	GLOBAL _zx_scroll_up
510   0000              	GLOBAL _zx_cls_wc_pix_callee
511   0000              	GLOBAL _zx_cls_wc_pix
512   0000              	GLOBAL _zx_cls_wc_attr_callee
513   0000              	GLOBAL _zx_cls_wc_attr
514   0000              	GLOBAL _zx_cls_wc_callee
515   0000              	GLOBAL _zx_cls_wc
516   0000              	GLOBAL _zx_cls_pix_fastcall
517   0000              	GLOBAL _zx_cls_pix
518   0000              	GLOBAL _zx_cls_attr_fastcall
519   0000              	GLOBAL _zx_cls_attr
520   0000              	GLOBAL _zx_cls_fastcall
521   0000              	GLOBAL _zx_cls
522   0000              	GLOBAL _zx_border_fastcall
523   0000              	GLOBAL _zx_border
524   0000              	GLOBAL _sound_hit_brick
525   0000              	GLOBAL _sound_hit_enemy
526   0000              	GLOBAL _sound_kill
527   0000              	GLOBAL _sound_enter_enemy
528   0000              	GLOBAL _sound_coin
529   0000              	GLOBAL _sound_jump
530   0000              	GLOBAL _sound_slide
531   0000              	GLOBAL _player_open_door
532   0000              	GLOBAL _player_move_jump
533   0000              	GLOBAL _player_fire
534   0000              	GLOBAL _player_check_stairs_down
535   0000              	GLOBAL _player_check_stairs
536   0000              	GLOBAL _player_tile
537   0000              	GLOBAL _player_pick_item
538   0000              	GLOBAL _player_check_floor
539   0000              	GLOBAL _player_hit_platform_clear
540   0000              	GLOBAL _player_lost_life
541   0000              	GLOBAL _player_score_add
542   0000              	GLOBAL _player_player_hit_pow
543   0000              	GLOBAL _player_hit_platform
544   0000              	GLOBAL _player_move_input
545   0000              	GLOBAL _player_turn
546   0000              	GLOBAL _player_move
547   0000              	GLOBAL _player_restart
548   0000              	GLOBAL _player_kill
549   0000              	GLOBAL _player_check_input
550   0000              	GLOBAL _player_collision
551   0000              	GLOBAL _player_init
552   0000              	GLOBAL _game_joystick_set_menu
553   0000              	GLOBAL _game_joystick_set
554   0000              	GLOBAL _game_joystick_change
555   0000              	GLOBAL _game_print_header
556   0000              	GLOBAL _game_end
557   0000              	GLOBAL _game_phase_print_score_back
558   0000              	GLOBAL _game_check_time
559   0000              	GLOBAL _game_rotate_attrib
560   0000              	GLOBAL _game_colour_message
561   0000              	GLOBAL _game_paint_attrib_lin_h
562   0000              	GLOBAL _game_paint_attrib_lin
563   0000              	GLOBAL _game_paint_attrib
564   0000              	GLOBAL _game_print_score
565   0000              	GLOBAL _game_unfreeze_all
566   0000              	GLOBAL _game_freeze_all
567   0000              	GLOBAL _game_freeze
568   0000              	GLOBAL _game_enemy_add_get_index
569   0000              	GLOBAL _game_check_cell
570   0000              	GLOBAL _game_check_map
571   0000              	GLOBAL _game_loop
572   0000              	GLOBAL _game_phase_init
573   0000              	GLOBAL _game_start_timer
574   0000              	GLOBAL _game_tick
575   0000              	GLOBAL _game_print_lives
576   0000              	GLOBAL _game_print_footer
577   0000              	GLOBAL _game_fill_row
578   0000              	GLOBAL _game_draw_screen
579   0000              	GLOBAL _enemy_avoid_edge
580   0000              	GLOBAL _enemy_kill
581   0000              	GLOBAL _enemy_init
582   0000              	GLOBAL _enemy_move
583   0000              	GLOBAL _enemy_turn
584   0000              	GLOBAL _enemy_hit
585   0000              	GLOBAL _enemy_coin1
586   0000              	GLOBAL _enemy_static
587   0000              	GLOBAL _enemy_walk
588   0000              	GLOBAL _enemy_vertical
589   0000              	GLOBAL _ay_fx_play
590   0000              	GLOBAL _ay_midi_play
591   0000              	GLOBAL _ay_is_playing
592   0000              	GLOBAL _ay_reset
593   0000              	GLOBAL _test_func
594   0000              	GLOBAL _test_proc
595   0000              	GLOBAL _in_mouse_kempston_wheel_delta
596   0000              	GLOBAL _in_mouse_kempston_wheel
597   0000              	GLOBAL _in_mouse_kempston_callee
598   0000              	GLOBAL _in_mouse_kempston
599   0000              	GLOBAL _in_mouse_kempston_setpos_callee
600   0000              	GLOBAL _in_mouse_kempston_setpos
601   0000              	GLOBAL _in_mouse_kempston_reset
602   0000              	GLOBAL _in_mouse_kempston_init
603   0000              	GLOBAL _in_mouse_amx_wheel_delta
604   0000              	GLOBAL _in_mouse_amx_wheel
605   0000              	GLOBAL _in_mouse_amx_callee
606   0000              	GLOBAL _in_mouse_amx
607   0000              	GLOBAL _in_mouse_amx_setpos_callee
608   0000              	GLOBAL _in_mouse_amx_setpos
609   0000              	GLOBAL _in_mouse_amx_reset
610   0000              	GLOBAL _in_mouse_amx_init_callee
611   0000              	GLOBAL _in_mouse_amx_init
612   0000              	GLOBAL _in_stick_sinclair2
613   0000              	GLOBAL _in_stick_sinclair1
614   0000              	GLOBAL _in_stick_kempston
615   0000              	GLOBAL _in_stick_fuller
616   0000              	GLOBAL _in_stick_cursor
617   0000              	GLOBAL _in_stick_keyboard_fastcall
618   0000              	GLOBAL _in_stick_keyboard
619   0000              	GLOBAL _in_wait_nokey
620   0000              	GLOBAL _in_wait_key
621   0000              	GLOBAL _in_test_key
622   0000              	GLOBAL _in_pause_fastcall
623   0000              	GLOBAL _in_pause
624   0000              	GLOBAL _in_key_scancode_fastcall
625   0000              	GLOBAL _in_key_scancode
626   0000              	GLOBAL _in_key_pressed_fastcall
627   0000              	GLOBAL _in_key_pressed
628   0000              	GLOBAL _in_inkey
629   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
630   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
631   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
632   0000              	GLOBAL _NIRVANAP_HOLE
633   0000              	GLOBAL _NIRVANAP_ISR_HOOK
634   0000              	GLOBAL _draw_count
635   0000              	GLOBAL _g_player_hit_right
636   0000              	GLOBAL _g_player_hit_left
637   0000              	GLOBAL _joynames
638   0000              	GLOBAL _initials
639   0000              	GLOBAL _bullet_count
640   0000              	GLOBAL _bullet_frames
641   0000              	GLOBAL _bullet_colint
642   0000              	GLOBAL _bullet_dir
643   0000              	GLOBAL _bullet_tile
644   0000              	GLOBAL _bullet_col
645   0000              	GLOBAL _bullet_lin
646   0000              	GLOBAL _anim_count
647   0000              	GLOBAL _anim_end
648   0000              	GLOBAL _anim_int
649   0000              	GLOBAL _anim_tile
650   0000              	GLOBAL _anim_col
651   0000              	GLOBAL _anim_lin
652   0000              	GLOBAL _phase_curr
653   0000              	GLOBAL _map_heigth
654   0000              	GLOBAL _map_width
655   0000              	GLOBAL _scr_curr
656   0000              	GLOBAL _scr_7
657   0000              	GLOBAL _scr_6
658   0000              	GLOBAL _scr_5
659   0000              	GLOBAL _scr_4
660   0000              	GLOBAL _scr_3
661   0000              	GLOBAL _scr_2
662   0000              	GLOBAL _scr_1
663   0000              	GLOBAL _scr_0
664   0000              	GLOBAL _scr_obj
665   0000              	GLOBAL _scr_map
666   0000              	GLOBAL _sprite_speed_alt
667   0000              	GLOBAL _sprite_frames
668   0000              	GLOBAL _sprite_speed
669   0000              	GLOBAL _screen_ink
670   0000              	GLOBAL _screen_paper
671   0000              	GLOBAL _player_over_stair
672   0000              	GLOBAL _game_menu_sel
673   0000              	GLOBAL _game_score_top
674   0000              	GLOBAL _player_lives
675   0000              	GLOBAL _game_over
676   0000              	GLOBAL _game_sound
677   0000              	GLOBAL _game_inmune
678   0000              	GLOBAL _game_god_mode
679   0000              	GLOBAL _game_two_player
680   0000              	GLOBAL _game_brick_tile
681   0000              	GLOBAL _sprite_curr_index
682   0000              	GLOBAL _spr_count
683   0000              	GLOBAL _bullet_time
684   0000              	GLOBAL _anim_time
685   0000              	GLOBAL _frame_time
686   0000              	GLOBAL _entry_time
687   0000              	GLOBAL _curr_time
688   0000              	GLOBAL _s_state
689   0000              	GLOBAL _attrib_hl
690   0000              	GLOBAL _attrib
691   0000              	GLOBAL _zx_val_asm
692   0000              	GLOBAL _enemies
693   0000              	GLOBAL _tmp_ui
694   0000              	GLOBAL _tmp_sc
695   0000              	GLOBAL _tmp_uc
696   0000              	GLOBAL _tmp1
697   0000              	GLOBAL _tmp0
698   0000              	GLOBAL _tmp
699   0000              	GLOBAL _index1
700   0000              	GLOBAL _index0
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _s_col1
703   0000              	GLOBAL _s_col0
704   0000              	GLOBAL _s_lin1
705   0000              	GLOBAL _s_lin0
706   0000              	GLOBAL _s_tile1
707   0000              	GLOBAL _s_tile0
708   0000              	GLOBAL _player_hit_count
709   0000              	GLOBAL _sprite_horizontal_check
710   0000              	GLOBAL _sprite_on_air
711   0000              	GLOBAL _sprite
712   0000              	GLOBAL _game_gravity
713   0000              	GLOBAL _player_keys
714   0000              	GLOBAL _player_vel_inc
715   0000              	GLOBAL _player_vel_y1
716   0000              	GLOBAL _player_vel_y0
717   0000              	GLOBAL _player_vel_y
718   0000              	GLOBAL _player_vel_x
719   0000              	GLOBAL _player_joy
720   0000              	GLOBAL _player_score
721   0000              	GLOBAL _last_time
722   0000              	GLOBAL _player_slide
723   0000              	GLOBAL _spr_timer
724   0000              	GLOBAL _jump_lin
725   0000              	GLOBAL _player_hit_col
726   0000              	GLOBAL _player_hit_lin
727   0000              	GLOBAL _colint
728   0000              	GLOBAL _col
729   0000              	GLOBAL _lin
730   0000              	GLOBAL _tile
731   0000              	GLOBAL _state_a
732   0000              	GLOBAL _state
733   0000              	GLOBAL _class
734   0000              	GLOBAL _tbuffer
735   0000              	GLOBAL _dirs
736   0000              	GLOBAL _k1
737   0000              	GLOBAL _joyfunc1
738   0000              	GLOBAL _btiles
739   0000              	GLOBAL _spec128
740   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
741   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
742   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
743   0000              	GLOBAL _ay_effect_20
744   0000              	GLOBAL _ay_effect_19
745   0000              	GLOBAL _ay_effect_18
746   0000              	GLOBAL _ay_effect_17
747   0000              	GLOBAL _ay_effect_16
748   0000              	GLOBAL _ay_effect_15
749   0000              	GLOBAL _ay_effect_14
750   0000              	GLOBAL _ay_effect_13
751   0000              	GLOBAL _ay_effect_12
752   0000              	GLOBAL _ay_effect_11
753   0000              	GLOBAL _ay_effect_10
754   0000              	GLOBAL _ay_effect_09
755   0000              	GLOBAL _ay_effect_08
756   0000              	GLOBAL _ay_effect_07
757   0000              	GLOBAL _ay_effect_06
758   0000              	GLOBAL _ay_effect_05
759   0000              	GLOBAL _ay_effect_04
760   0000              	GLOBAL _ay_effect_03
761   0000              	GLOBAL _ay_effect_02
762   0000              	GLOBAL _ay_effect_01
763   0000              	GLOBAL _pb_midi_phase_1
764   0000              	GLOBAL _pb_midi_title
765   0000              	GLOBAL _control_method
766   0000              ;--------------------------------------------------------
767   0000              ; special function registers
768   0000              ;--------------------------------------------------------
769   0000              defc _IO_FE	=	0x00fe
770   0000              defc _IO_1FFD	=	0x1ffd
771   0000              defc _IO_7FFD	=	0x7ffd
772   0000              ;--------------------------------------------------------
773   0000              ; ram data
774   0000              ;--------------------------------------------------------
775   0000              	SECTION bss_compiler
776   0000              ;--------------------------------------------------------
777   0000              ; ram data
778   0000              ;--------------------------------------------------------
779   0000              
780   0000              IF 0
781   0000              
782   0000              ; .area _INITIALIZED removed by z88dk
783   0000              
784   0000              
785   0000              ENDIF
786   0000              
787   0000              ;--------------------------------------------------------
788   0000              ; absolute external ram data
789   0000              ;--------------------------------------------------------
790   0000              	SECTION IGNORE
791   0000              ;--------------------------------------------------------
792   0000              ; global & static initialisations
793   0000              ;--------------------------------------------------------
794   0000              	SECTION code_crt_init
795   0000              ;--------------------------------------------------------
796   0000              ; Home
797   0000              ;--------------------------------------------------------
798   0000              	SECTION IGNORE
799   0000              ;--------------------------------------------------------
800   0000              ; code
801   0000              ;--------------------------------------------------------
802   0000              	SECTION code_compiler
803   0000              ;	---------------------------------
804   0000              ; Function spr_calc_index
805   0000              ; ---------------------------------
806   0000              _spr_calc_index:
807   0000  CD 00 00    	call	___sdcc_enter_ix
808   0003  DD 4E 05    	ld	c,(ix+5)
809   0006  CB 39       	srl	c
810   0008  06 00       	ld	b,0x00
811   000A  DD 7E 04    	ld	a,(ix+4)
812   000D  07          	rlca
813   000E  07          	rlca
814   000F  07          	rlca
815   0010  07          	rlca
816   0011  E6 0F       	and	a,0x0f
817   0013  6F          	ld	l, a
818   0014  26 00       	ld	h,0x00
819   0016  29          	add	hl, hl
820   0017  29          	add	hl, hl
821   0018  29          	add	hl, hl
822   0019  29          	add	hl, hl
823   001A  09          	add	hl, bc
824   001B  DD E1       	pop	ix
825   001D  C9          	ret
826   001E              	SECTION code_compiler
827   001E              ;	---------------------------------
828   001E              ; Function spr_chktime
829   001E              ; ---------------------------------
830   001E              _spr_chktime:
831   001E  CD 00 00    	call	___sdcc_enter_ix
832   0021  F5          	push	af
833   0022  DD 75 FE    	ld	(ix-2),l
834   0025  DD 74 FF    	ld	(ix-1),h
835   0028  E1          	pop	hl
836   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
837   002C  5E          	ld	e,(hl)
838   002D  E5          	push	hl
839   002E  6B          	ld	l,e
840   002F  26 00       	ld	h,0x00
841   0031  09          	add	hl, bc
842   0032  7E          	ld	a, (hl)
843   0033  B7          	or	a, a
844   0034  20 13       	jr	NZ,l_spr_chktime_00102
845   0036  01 00 00    	ld	bc,_sprite_speed+0
846   0039  16 00       	ld	d,0x00
847   003B  21 00 00    	ld	hl,_class
848   003E  19          	add	hl, de
849   003F  6E          	ld	l, (hl)
850   0040  26 00       	ld	h,0x00
851   0042  09          	add	hl, bc
852   0043  7E          	ld	a, (hl)
853   0044  32 00 00    	ld	(_tmp),a
854   0047  18 03       	jr	l_spr_chktime_00103
855   0049              l_spr_chktime_00102:
856   0049  32 00 00    	ld	(_tmp),a
857   004C              l_spr_chktime_00103:
858   004C  3A 00 00    	ld	a,(_tmp)
859   004F  4F          	ld	c,a
860   0050  06 00       	ld	b,0x00
861   0052  60          	ld	h,b
862   0053  6B          	ld	l, e
863   0054  29          	add	hl, hl
864   0055  11 00 00    	ld	de,_last_time
865   0058  19          	add	hl, de
866   0059  5E          	ld	e, (hl)
867   005A  23          	inc	hl
868   005B  56          	ld	d, (hl)
869   005C  C5          	push	bc
870   005D  D5          	push	de
871   005E  CD 00 00    	call	_game_check_time
872   0061  F1          	pop	af
873   0062  F1          	pop	af
874   0063  7D          	ld	a, l
875   0064  B7          	or	a, a
876   0065  28 15       	jr	Z,l_spr_chktime_00105
877   0067  E1          	pop	hl
878   0068  E5          	push	hl
879   0069  6E          	ld	l, (hl)
880   006A  26 00       	ld	h,0x00
881   006C  29          	add	hl, hl
882   006D  01 00 00    	ld	bc,_last_time
883   0070  09          	add	hl,bc
884   0071  ED 5B 00 00 	ld	de,(_curr_time)
885   0075  73          	ld	(hl),e
886   0076  23          	inc	hl
887   0077  72          	ld	(hl),d
888   0078  2E 01       	ld	l,0x01
889   007A  18 02       	jr	l_spr_chktime_00106
890   007C              l_spr_chktime_00105:
891   007C  2E 00       	ld	l,0x00
892   007E              l_spr_chktime_00106:
893   007E  F1          	pop	af
894   007F  DD E1       	pop	ix
895   0081  C9          	ret
896   0082              	SECTION code_compiler
897   0082              ;	---------------------------------
898   0082              ; Function spr_move_up
899   0082              ; ---------------------------------
900   0082              _spr_move_up:
901   0082  2A 00 00    	ld	hl,(_sprite)
902   0085  26 00       	ld	h,0x00
903   0087  01 00 00    	ld	bc,_lin
904   008A  09          	add	hl,bc
905   008B  7E          	ld	a,(hl)
906   008C  C6 FE       	add	a,0xfe
907   008E  32 00 00    	ld	(_s_lin1),a
908   0091  07          	rlca
909   0092  07          	rlca
910   0093  07          	rlca
911   0094  07          	rlca
912   0095  E6 0F       	and	a,0x0f
913   0097  4F          	ld	c, a
914   0098  3A 00 00    	ld	a,(_tmp1)
915   009B  07          	rlca
916   009C  07          	rlca
917   009D  07          	rlca
918   009E  07          	rlca
919   009F  E6 0F       	and	a,0x0f
920   00A1  47          	ld	b, a
921   00A2  79          	ld	a, c
922   00A3  90          	sub	a, b
923   00A4  20 04       	jr	NZ,l_spr_move_up_00134
924   00A6  3E 01       	ld	a,0x01
925   00A8  18 01       	jr	l_spr_move_up_00135
926   00AA              l_spr_move_up_00134:
927   00AA  AF          	xor	a,a
928   00AB              l_spr_move_up_00135:
929   00AB  EE 01       	xor	a,0x01
930   00AD  28 2D       	jr	Z,l_spr_move_up_00108
931   00AF  2A 00 00    	ld	hl,(_sprite)
932   00B2  26 00       	ld	h,0x00
933   00B4  01 00 00    	ld	bc,_col
934   00B7  09          	add	hl,bc
935   00B8  7E          	ld	a,(hl)
936   00B9  F5          	push	af
937   00BA  33          	inc	sp
938   00BB  3A 00 00    	ld	a,(_s_lin1)
939   00BE  F5          	push	af
940   00BF  33          	inc	sp
941   00C0  CD 00 00    	call	_game_check_map
942   00C3  F1          	pop	af
943   00C4  7C          	ld	a,h
944   00C5  B5          	or	a,l
945   00C6  28 14       	jr	Z,l_spr_move_up_00108
946   00C8  3A 00 00    	ld	a,(_sprite)
947   00CB  D6 07       	sub	a,0x07
948   00CD  20 09       	jr	NZ,l_spr_move_up_00104
949   00CF  3A 07 00    	ld	a,(_state_a + 0x0007)
950   00D2  07          	rlca
951   00D3  38 03       	jr	C,l_spr_move_up_00104
952   00D5  CD 00 00    	call	_player_hit_platform
953   00D8              l_spr_move_up_00104:
954   00D8  2E 01       	ld	l,0x01
955   00DA  18 1F       	jr	l_spr_move_up_00112
956   00DC              l_spr_move_up_00108:
957   00DC  2A 00 00    	ld	hl,(_sprite)
958   00DF  26 00       	ld	h,0x00
959   00E1  01 00 00    	ld	bc,_lin
960   00E4  09          	add	hl,bc
961   00E5  3E 90       	ld	a,0x90
962   00E7  4D          	ld	c,l
963   00E8  44          	ld	b,h
964   00E9  21 00 00    	ld	hl,_s_lin1
965   00EC  96          	sub	a, (hl)
966   00ED  30 06       	jr	NC,l_spr_move_up_00110
967   00EF  AF          	xor	a, a
968   00F0  02          	ld	(bc), a
969   00F1  2E 01       	ld	l,0x01
970   00F3  18 06       	jr	l_spr_move_up_00112
971   00F5              l_spr_move_up_00110:
972   00F5  3A 00 00    	ld	a,(_s_lin1)
973   00F8  02          	ld	(bc), a
974   00F9  2E 00       	ld	l,0x00
975   00FB              l_spr_move_up_00112:
976   00FB  C9          	ret
977   00FC              	SECTION code_compiler
978   00FC              ;	---------------------------------
979   00FC              ; Function spr_move_down
980   00FC              ; ---------------------------------
981   00FC              _spr_move_down:
982   00FC  2A 00 00    	ld	hl,(_sprite)
983   00FF  26 00       	ld	h,0x00
984   0101  01 00 00    	ld	bc,_lin
985   0104  09          	add	hl,bc
986   0105  7E          	ld	a,(hl)
987   0106  C6 10       	add	a,0x10
988   0108  32 00 00    	ld	(_s_lin1),a
989   010B  07          	rlca
990   010C  07          	rlca
991   010D  07          	rlca
992   010E  07          	rlca
993   010F  E6 0F       	and	a,0x0f
994   0111  4F          	ld	c, a
995   0112  3A 00 00    	ld	a,(_tmp1)
996   0115  07          	rlca
997   0116  07          	rlca
998   0117  07          	rlca
999   0118  07          	rlca
1000  0119  E6 0F       	and	a,0x0f
1001  011B  47          	ld	b, a
1002  011C  79          	ld	a, c
1003  011D  90          	sub	a, b
1004  011E  20 04       	jr	NZ,l_spr_move_down_00122
1005  0120  3E 01       	ld	a,0x01
1006  0122  18 01       	jr	l_spr_move_down_00123
1007  0124              l_spr_move_down_00122:
1008  0124  AF          	xor	a,a
1009  0125              l_spr_move_down_00123:
1010  0125  EE 01       	xor	a,0x01
1011  0127  28 1D       	jr	Z,l_spr_move_down_00104
1012  0129  2A 00 00    	ld	hl,(_sprite)
1013  012C  26 00       	ld	h,0x00
1014  012E  01 00 00    	ld	bc,_col
1015  0131  09          	add	hl,bc
1016  0132  7E          	ld	a,(hl)
1017  0133  F5          	push	af
1018  0134  33          	inc	sp
1019  0135  3A 00 00    	ld	a,(_s_lin1)
1020  0138  F5          	push	af
1021  0139  33          	inc	sp
1022  013A  CD 00 00    	call	_game_check_map
1023  013D  F1          	pop	af
1024  013E  7C          	ld	a,h
1025  013F  B5          	or	a,l
1026  0140  28 04       	jr	Z,l_spr_move_down_00104
1027  0142  2E 01       	ld	l,0x01
1028  0144  18 22       	jr	l_spr_move_down_00108
1029  0146              l_spr_move_down_00104:
1030  0146  2A 00 00    	ld	hl,(_sprite)
1031  0149  26 00       	ld	h,0x00
1032  014B  01 00 00    	ld	bc,_lin
1033  014E  09          	add	hl,bc
1034  014F  3E 90       	ld	a,0x90
1035  0151  4D          	ld	c,l
1036  0152  44          	ld	b,h
1037  0153  21 00 00    	ld	hl,_s_lin1
1038  0156  96          	sub	a, (hl)
1039  0157  30 07       	jr	NC,l_spr_move_down_00106
1040  0159  3E 90       	ld	a,0x90
1041  015B  02          	ld	(bc), a
1042  015C  2E 01       	ld	l,0x01
1043  015E  18 08       	jr	l_spr_move_down_00108
1044  0160              l_spr_move_down_00106:
1045  0160  3A 00 00    	ld	a,(_s_lin1)
1046  0163  C6 F2       	add	a,0xf2
1047  0165  02          	ld	(bc), a
1048  0166  2E 00       	ld	l,0x00
1049  0168              l_spr_move_down_00108:
1050  0168  C9          	ret
1051  0169              	SECTION code_compiler
1052  0169              ;	---------------------------------
1053  0169              ; Function spr_move_horizontal
1054  0169              ; ---------------------------------
1055  0169              _spr_move_horizontal:
1056  0169  2A 00 00    	ld	hl,(_sprite)
1057  016C  26 00       	ld	h,0x00
1058  016E  01 00 00    	ld	bc,_state
1059  0171  09          	add	hl,bc
1060  0172  7E          	ld	a,(hl)
1061  0173  CB 57       	bit	2, a
1062  0175  28 05       	jr	Z,l_spr_move_horizontal_00104
1063  0177  CD 88 01    	call	_spr_move_right
1064  017A  18 0B       	jr	l_spr_move_horizontal_00106
1065  017C              l_spr_move_horizontal_00104:
1066  017C  CB 5F       	bit	3, a
1067  017E  28 05       	jr	Z,l_spr_move_horizontal_00105
1068  0180  CD 67 02    	call	_spr_move_left
1069  0183  18 02       	jr	l_spr_move_horizontal_00106
1070  0185              l_spr_move_horizontal_00105:
1071  0185  2E 00       	ld	l,0x00
1072  0187              l_spr_move_horizontal_00106:
1073  0187  C9          	ret
1074  0188              	SECTION code_compiler
1075  0188              ;	---------------------------------
1076  0188              ; Function spr_move_right
1077  0188              ; ---------------------------------
1078  0188              _spr_move_right:
1079  0188  2A 00 00    	ld	hl,(_sprite)
1080  018B  26 00       	ld	h,0x00
1081  018D  01 00 00    	ld	bc,_colint
1082  0190  09          	add	hl,bc
1083  0191  7E          	ld	a,(hl)
1084  0192  3C          	inc	a
1085  0193  77          	ld	(hl),a
1086  0194  4F          	ld	c,a
1087  0195  3A 00 00    	ld	a,(_sprite)
1088  0198  5F          	ld	e,a
1089  0199  16 00       	ld	d,0x00
1090  019B  21 00 00    	ld	hl,_class
1091  019E  19          	add	hl,de
1092  019F  5E          	ld	e, (hl)
1093  01A0  16 00       	ld	d,0x00
1094  01A2  21 00 00    	ld	hl,_sprite_frames
1095  01A5  19          	add	hl, de
1096  01A6  7E          	ld	a, (hl)
1097  01A7  91          	sub	a, c
1098  01A8  C2 64 02    	jp	NZ,l_spr_move_right_00117
1099  01AB  2A 00 00    	ld	hl,(_sprite)
1100  01AE  26 00       	ld	h,0x00
1101  01B0  01 00 00    	ld	bc,_lin
1102  01B3  09          	add	hl,bc
1103  01B4  7E          	ld	a,(hl)
1104  01B5  32 00 00    	ld	(_s_lin1),a
1105  01B8  2A 00 00    	ld	hl,(_sprite)
1106  01BB  26 00       	ld	h,0x00
1107  01BD  01 00 00    	ld	bc,_col
1108  01C0  09          	add	hl,bc
1109  01C1  7E          	ld	a,(hl)
1110  01C2  FE 1E       	cp	a,0x1e
1111  01C4  30 4A       	jr	NC,l_spr_move_right_00107
1112  01C6  3C          	inc	a
1113  01C7  32 00 00    	ld	(_s_col1),a
1114  01CA  F5          	push	af
1115  01CB  33          	inc	sp
1116  01CC  3A 00 00    	ld	a,(_s_lin1)
1117  01CF  F5          	push	af
1118  01D0  33          	inc	sp
1119  01D1  CD 00 00    	call	_game_check_map
1120  01D4  F1          	pop	af
1121  01D5  7C          	ld	a,h
1122  01D6  B5          	or	a,l
1123  01D7  20 13       	jr	NZ,l_spr_move_right_00103
1124  01D9  3A 00 00    	ld	a,(_s_lin1)
1125  01DC  C6 0F       	add	a,0x0f
1126  01DE  4F          	ld	c, a
1127  01DF  3A 00 00    	ld	a, (_s_col1)
1128  01E2  47          	ld	b,a
1129  01E3  C5          	push	bc
1130  01E4  CD 00 00    	call	_game_check_map
1131  01E7  F1          	pop	af
1132  01E8  7C          	ld	a,h
1133  01E9  B5          	or	a,l
1134  01EA  28 24       	jr	Z,l_spr_move_right_00107
1135  01EC              l_spr_move_right_00103:
1136  01EC  2A 00 00    	ld	hl,(_sprite)
1137  01EF  26 00       	ld	h,0x00
1138  01F1  01 00 00    	ld	bc,_colint
1139  01F4  09          	add	hl,bc
1140  01F5  7E          	ld	a,(hl)
1141  01F6  C6 FF       	add	a,0xff
1142  01F8  77          	ld	(hl),a
1143  01F9  3A 00 00    	ld	a,(_sprite_on_air)
1144  01FC  B7          	or	a,a
1145  01FD  20 0D       	jr	NZ,l_spr_move_right_00102
1146  01FF  2A 00 00    	ld	hl,(_sprite)
1147  0202  26 00       	ld	h,0x00
1148  0204  01 00 00    	ld	bc,_colint
1149  0207  09          	add	hl,bc
1150  0208  7E          	ld	a,(hl)
1151  0209  C6 FF       	add	a,0xff
1152  020B  77          	ld	(hl),a
1153  020C              l_spr_move_right_00102:
1154  020C  2E 01       	ld	l,0x01
1155  020E  18 56       	jr	l_spr_move_right_00118
1156  0210              l_spr_move_right_00107:
1157  0210  2A 00 00    	ld	hl,(_sprite)
1158  0213  26 00       	ld	h,0x00
1159  0215  01 00 00    	ld	bc,_col
1160  0218  09          	add	hl,bc
1161  0219  34          	inc	(hl)
1162  021A  2A 00 00    	ld	hl,(_sprite)
1163  021D  26 00       	ld	h,0x00
1164  021F  01 00 00    	ld	bc,_colint
1165  0222  09          	add	hl,bc
1166  0223  AF          	xor	a,a
1167  0224  77          	ld	(hl),a
1168  0225  2A 00 00    	ld	hl,(_sprite)
1169  0228  26 00       	ld	h,0x00
1170  022A  01 00 00    	ld	bc,_col
1171  022D  09          	add	hl,bc
1172  022E  5E          	ld	e,(hl)
1173  022F  3E 1E       	ld	a,0x1e
1174  0231  93          	sub	a,e
1175  0232  30 30       	jr	NC,l_spr_move_right_00117
1176  0234  3A 00 00    	ld	a,(_sprite)
1177  0237  D6 07       	sub	a,0x07
1178  0239  28 04       	jr	Z,l_spr_move_right_00151
1179  023B  4D          	ld	c,l
1180  023C  44          	ld	b,h
1181  023D  18 1C       	jr	l_spr_move_right_00112
1182  023F              l_spr_move_right_00151:
1183  023F  CD 47 03    	call	_spr_page_right
1184  0242  3A 00 00    	ld	a,(_sprite)
1185  0245  C6 00       	add	a,+((_col) & 0xFF)
1186  0247  4D          	ld	c,l
1187  0248  5F          	ld	e,a
1188  0249  3E 00       	ld	a,+((_col) / 256)
1189  024B  CE 00       	adc	a,0x00
1190  024D  57          	ld	d,a
1191  024E  79          	ld	a, c
1192  024F  B7          	or	a, a
1193  0250  28 04       	jr	Z,l_spr_move_right_00109
1194  0252  AF          	xor	a, a
1195  0253  12          	ld	(de), a
1196  0254  18 0E       	jr	l_spr_move_right_00117
1197  0256              l_spr_move_right_00109:
1198  0256  3E 1E       	ld	a,0x1e
1199  0258  12          	ld	(de), a
1200  0259  18 09       	jr	l_spr_move_right_00117
1201  025B              l_spr_move_right_00112:
1202  025B  3E 1E       	ld	a,0x1e
1203  025D  02          	ld	(bc), a
1204  025E  2A 00 00    	ld	hl,(_sprite)
1205  0261  CD A0 06    	call	_spr_destroy
1206  0264              l_spr_move_right_00117:
1207  0264  2E 00       	ld	l,0x00
1208  0266              l_spr_move_right_00118:
1209  0266  C9          	ret
1210  0267              	SECTION code_compiler
1211  0267              ;	---------------------------------
1212  0267              ; Function spr_move_left
1213  0267              ; ---------------------------------
1214  0267              _spr_move_left:
1215  0267  01 00 00    	ld	bc,_colint+0
1216  026A  79          	ld	a, c
1217  026B  21 00 00    	ld	hl,_sprite
1218  026E  86          	add	a, (hl)
1219  026F  5F          	ld	e, a
1220  0270  78          	ld	a, b
1221  0271  CE 00       	adc	a,0x00
1222  0273  57          	ld	d, a
1223  0274  1A          	ld	a, (de)
1224  0275  C6 FF       	add	a,0xff
1225  0277  12          	ld	(de), a
1226  0278  79          	ld	a, c
1227  0279  86          	add	a, (hl)
1228  027A  5F          	ld	e, a
1229  027B  78          	ld	a, b
1230  027C  CE 00       	adc	a,0x00
1231  027E  57          	ld	d, a
1232  027F  1A          	ld	a, (de)
1233  0280  3C          	inc	a
1234  0281  C2 44 03    	jp	NZ,l_spr_move_left_00117
1235  0284  5E          	ld	e,(hl)
1236  0285  16 00       	ld	d,0x00
1237  0287  21 00 00    	ld	hl,_lin
1238  028A  19          	add	hl,de
1239  028B  7E          	ld	a,(hl)
1240  028C  32 00 00    	ld	(_s_lin1),a
1241  028F  2A 00 00    	ld	hl,(_sprite)
1242  0292  26 00       	ld	h,0x00
1243  0294  11 00 00    	ld	de,_col
1244  0297  19          	add	hl,de
1245  0298  7E          	ld	a,(hl)
1246  0299  B7          	or	a, a
1247  029A  28 44       	jr	Z,l_spr_move_left_00107
1248  029C  C6 FF       	add	a,0xff
1249  029E  32 00 00    	ld	(_s_col1),a
1250  02A1  C5          	push	bc
1251  02A2  F5          	push	af
1252  02A3  33          	inc	sp
1253  02A4  3A 00 00    	ld	a,(_s_lin1)
1254  02A7  F5          	push	af
1255  02A8  33          	inc	sp
1256  02A9  CD 00 00    	call	_game_check_map
1257  02AC  F1          	pop	af
1258  02AD  C1          	pop	bc
1259  02AE  7C          	ld	a,h
1260  02AF  B5          	or	a,l
1261  02B0  20 16       	jr	NZ,l_spr_move_left_00103
1262  02B2  3A 00 00    	ld	a,(_s_lin1)
1263  02B5  C6 0F       	add	a,0x0f
1264  02B7  57          	ld	d, a
1265  02B8  3A 00 00    	ld	a,(_s_col1)
1266  02BB  C5          	push	bc
1267  02BC  5A          	ld	e,d
1268  02BD  57          	ld	d,a
1269  02BE  D5          	push	de
1270  02BF  CD 00 00    	call	_game_check_map
1271  02C2  F1          	pop	af
1272  02C3  C1          	pop	bc
1273  02C4  7C          	ld	a,h
1274  02C5  B5          	or	a,l
1275  02C6  28 18       	jr	Z,l_spr_move_left_00107
1276  02C8              l_spr_move_left_00103:
1277  02C8  2A 00 00    	ld	hl,(_sprite)
1278  02CB  26 00       	ld	h,0x00
1279  02CD  09          	add	hl,bc
1280  02CE  34          	inc	(hl)
1281  02CF  3A 00 00    	ld	a,(_sprite_on_air)
1282  02D2  B7          	or	a, a
1283  02D3  20 07       	jr	NZ,l_spr_move_left_00102
1284  02D5  2A 00 00    	ld	hl,(_sprite)
1285  02D8  26 00       	ld	h,0x00
1286  02DA  09          	add	hl,bc
1287  02DB  34          	inc	(hl)
1288  02DC              l_spr_move_left_00102:
1289  02DC  2E 01       	ld	l,0x01
1290  02DE  18 66       	jr	l_spr_move_left_00118
1291  02E0              l_spr_move_left_00107:
1292  02E0  2A 00 00    	ld	hl,(_sprite)
1293  02E3  26 00       	ld	h,0x00
1294  02E5  11 00 00    	ld	de,_col
1295  02E8  19          	add	hl,de
1296  02E9  7E          	ld	a,(hl)
1297  02EA  EB          	ex	de,hl
1298  02EB  C6 FF       	add	a,0xff
1299  02ED  12          	ld	(de),a
1300  02EE  79          	ld	a,c
1301  02EF  21 00 00    	ld	hl,_sprite
1302  02F2  86          	add	a, (hl)
1303  02F3  4F          	ld	c, a
1304  02F4  78          	ld	a, b
1305  02F5  CE 00       	adc	a,0x00
1306  02F7  47          	ld	b, a
1307  02F8  5E          	ld	e,(hl)
1308  02F9  16 00       	ld	d,0x00
1309  02FB  21 00 00    	ld	hl,_class
1310  02FE  19          	add	hl,de
1311  02FF  5E          	ld	e, (hl)
1312  0300  16 00       	ld	d,0x00
1313  0302  21 00 00    	ld	hl,_sprite_frames
1314  0305  19          	add	hl, de
1315  0306  5E          	ld	e, (hl)
1316  0307  1D          	dec	e
1317  0308  7B          	ld	a, e
1318  0309  02          	ld	(bc), a
1319  030A  2A 00 00    	ld	hl,(_sprite)
1320  030D  26 00       	ld	h,0x00
1321  030F  01 00 00    	ld	bc,_col
1322  0312  09          	add	hl,bc
1323  0313  7E          	ld	a,(hl)
1324  0314  3C          	inc	a
1325  0315  20 2D       	jr	NZ,l_spr_move_left_00117
1326  0317  3A 00 00    	ld	a,(_sprite)
1327  031A  D6 07       	sub	a,0x07
1328  031C  4D          	ld	c,l
1329  031D  44          	ld	b,h
1330  031E  20 1C       	jr	NZ,l_spr_move_left_00112
1331  0320  CD 61 03    	call	_spr_page_left
1332  0323  3A 00 00    	ld	a,(_sprite)
1333  0326  C6 00       	add	a,+((_col) & 0xFF)
1334  0328  4D          	ld	c,l
1335  0329  5F          	ld	e,a
1336  032A  3E 00       	ld	a,+((_col) / 256)
1337  032C  CE 00       	adc	a,0x00
1338  032E  57          	ld	d,a
1339  032F  79          	ld	a, c
1340  0330  B7          	or	a, a
1341  0331  28 05       	jr	Z,l_spr_move_left_00109
1342  0333  3E 1E       	ld	a,0x1e
1343  0335  12          	ld	(de), a
1344  0336  18 0C       	jr	l_spr_move_left_00117
1345  0338              l_spr_move_left_00109:
1346  0338  AF          	xor	a, a
1347  0339  12          	ld	(de), a
1348  033A  18 08       	jr	l_spr_move_left_00117
1349  033C              l_spr_move_left_00112:
1350  033C  AF          	xor	a, a
1351  033D  02          	ld	(bc), a
1352  033E  2A 00 00    	ld	hl,(_sprite)
1353  0341  CD A0 06    	call	_spr_destroy
1354  0344              l_spr_move_left_00117:
1355  0344  2E 00       	ld	l,0x00
1356  0346              l_spr_move_left_00118:
1357  0346  C9          	ret
1358  0347              	SECTION code_compiler
1359  0347              ;	---------------------------------
1360  0347              ; Function spr_page_right
1361  0347              ; ---------------------------------
1362  0347              _spr_page_right:
1363  0347  3A 00 00    	ld	a,(_scr_curr)
1364  034A  21 00 00    	ld	hl,_map_width
1365  034D  96          	sub	a, (hl)
1366  034E  30 0E       	jr	NC,l_spr_page_right_00102
1367  0350  21 00 00    	ld	hl,_scr_curr
1368  0353  34          	inc	(hl)
1369  0354  CD 88 03    	call	_spr_page_map
1370  0357  CD 00 00    	call	_game_draw_screen
1371  035A  2E 01       	ld	l,0x01
1372  035C  18 02       	jr	l_spr_page_right_00103
1373  035E              l_spr_page_right_00102:
1374  035E  2E 00       	ld	l,0x00
1375  0360              l_spr_page_right_00103:
1376  0360  C9          	ret
1377  0361              	SECTION code_compiler
1378  0361              ;	---------------------------------
1379  0361              ; Function spr_page_left
1380  0361              ; ---------------------------------
1381  0361              _spr_page_left:
1382  0361  2A 00 00    	ld	hl,(_sprite)
1383  0364  26 00       	ld	h,0x00
1384  0366  01 00 00    	ld	bc,_class
1385  0369  09          	add	hl,bc
1386  036A  7E          	ld	a,(hl)
1387  036B  D6 10       	sub	a,0x10
1388  036D  28 04       	jr	Z,l_spr_page_left_00102
1389  036F  2E 00       	ld	l,0x00
1390  0371  18 14       	jr	l_spr_page_left_00105
1391  0373              l_spr_page_left_00102:
1392  0373  21 00 00    	ld	hl,_scr_curr
1393  0376  7E          	ld	a, (hl)
1394  0377  B7          	or	a, a
1395  0378  28 0B       	jr	Z,l_spr_page_left_00104
1396  037A  35          	dec	(hl)
1397  037B  CD 88 03    	call	_spr_page_map
1398  037E  CD 00 00    	call	_game_draw_screen
1399  0381  2E 01       	ld	l,0x01
1400  0383  18 02       	jr	l_spr_page_left_00105
1401  0385              l_spr_page_left_00104:
1402  0385  2E 00       	ld	l,0x00
1403  0387              l_spr_page_left_00105:
1404  0387  C9          	ret
1405  0388              	SECTION code_compiler
1406  0388              ;	---------------------------------
1407  0388              ; Function spr_page_map
1408  0388              ; ---------------------------------
1409  0388              _spr_page_map:
1410  0388  CD 00 00    	call	___sdcc_enter_ix
1411  038B  F5          	push	af
1412  038C  F5          	push	af
1413  038D  F5          	push	af
1414  038E  3B          	dec	sp
1415  038F  DD 36 F9 10 	ld	(ix-7),0x10
1416  0393  DD 36 FA 00 	ld	(ix-6),0x00
1417  0397              l_spr_page_map_00129:
1418  0397  3E 07       	ld	a,0x07
1419  0399  21 00 00    	ld	hl,_scr_curr
1420  039C  96          	sub	a, (hl)
1421  039D  DA CE 04    	jp	C, l_spr_page_map_00109
1422  03A0  DD 7E FA    	ld	a,(ix-6)
1423  03A3  DD 77 FE    	ld	(ix-2),a
1424  03A6  DD 36 FF 00 	ld	(ix-1),0x00
1425  03AA  DD 34 FE    	inc	(ix-2)
1426  03AD  20 03       	jr	NZ,l_spr_page_map_00181
1427  03AF  DD 34 FF    	inc	(ix-1)
1428  03B2              l_spr_page_map_00181:
1429  03B2  4E          	ld	c, (hl)
1430  03B3  06 00       	ld	b,0x00
1431  03B5  21 BC 03    	ld	hl,l_spr_page_map_00182
1432  03B8  09          	add	hl, bc
1433  03B9  09          	add	hl, bc
1434  03BA  09          	add	hl, bc
1435  03BB  E9          	jp	(hl)
1436  03BC              l_spr_page_map_00182:
1437  03BC  C3 D4 03    	jp	l_spr_page_map_00101
1438  03BF  C3 F4 03    	jp	l_spr_page_map_00102
1439  03C2  C3 14 04    	jp	l_spr_page_map_00103
1440  03C5  C3 34 04    	jp	l_spr_page_map_00104
1441  03C8  C3 54 04    	jp	l_spr_page_map_00105
1442  03CB  C3 73 04    	jp	l_spr_page_map_00106
1443  03CE  C3 92 04    	jp	l_spr_page_map_00107
1444  03D1  C3 B1 04    	jp	l_spr_page_map_00108
1445  03D4              l_spr_page_map_00101:
1446  03D4  3E 00       	ld	a, +((_scr_0) & 0xFF)
1447  03D6  DD 86 FA    	add	a,(ix-6)
1448  03D9  6F          	ld	l, a
1449  03DA  3E 00       	ld	a, +((_scr_0) / 256)
1450  03DC  CE 00       	adc	a,0x00
1451  03DE  67          	ld	h, a
1452  03DF  7E          	ld	a, (hl)
1453  03E0  DD 77 FD    	ld	(ix-3),a
1454  03E3  01 00 00    	ld	bc,_scr_0
1455  03E6  DD 6E FE    	ld	l,(ix-2)
1456  03E9  DD 66 FF    	ld	h,(ix-1)
1457  03EC  09          	add	hl,bc
1458  03ED  7E          	ld	a, (hl)
1459  03EE  DD 77 FC    	ld	(ix-4),a
1460  03F1  C3 CE 04    	jp	l_spr_page_map_00109
1461  03F4              l_spr_page_map_00102:
1462  03F4  3E 00       	ld	a, +((_scr_1) & 0xFF)
1463  03F6  DD 86 FA    	add	a,(ix-6)
1464  03F9  6F          	ld	l, a
1465  03FA  3E 00       	ld	a, +((_scr_1) / 256)
1466  03FC  CE 00       	adc	a,0x00
1467  03FE  67          	ld	h, a
1468  03FF  7E          	ld	a, (hl)
1469  0400  DD 77 FD    	ld	(ix-3),a
1470  0403  01 00 00    	ld	bc,_scr_1
1471  0406  DD 6E FE    	ld	l,(ix-2)
1472  0409  DD 66 FF    	ld	h,(ix-1)
1473  040C  09          	add	hl,bc
1474  040D  7E          	ld	a, (hl)
1475  040E  DD 77 FC    	ld	(ix-4),a
1476  0411  C3 CE 04    	jp	l_spr_page_map_00109
1477  0414              l_spr_page_map_00103:
1478  0414  3E 00       	ld	a, +((_scr_2) & 0xFF)
1479  0416  DD 86 FA    	add	a,(ix-6)
1480  0419  6F          	ld	l, a
1481  041A  3E 00       	ld	a, +((_scr_2) / 256)
1482  041C  CE 00       	adc	a,0x00
1483  041E  67          	ld	h, a
1484  041F  7E          	ld	a, (hl)
1485  0420  DD 77 FD    	ld	(ix-3),a
1486  0423  01 00 00    	ld	bc,_scr_2
1487  0426  DD 6E FE    	ld	l,(ix-2)
1488  0429  DD 66 FF    	ld	h,(ix-1)
1489  042C  09          	add	hl,bc
1490  042D  7E          	ld	a, (hl)
1491  042E  DD 77 FC    	ld	(ix-4),a
1492  0431  C3 CE 04    	jp	l_spr_page_map_00109
1493  0434              l_spr_page_map_00104:
1494  0434  3E 00       	ld	a, +((_scr_3) & 0xFF)
1495  0436  DD 86 FA    	add	a,(ix-6)
1496  0439  6F          	ld	l, a
1497  043A  3E 00       	ld	a, +((_scr_3) / 256)
1498  043C  CE 00       	adc	a,0x00
1499  043E  67          	ld	h, a
1500  043F  7E          	ld	a, (hl)
1501  0440  DD 77 FD    	ld	(ix-3),a
1502  0443  01 00 00    	ld	bc,_scr_3
1503  0446  DD 6E FE    	ld	l,(ix-2)
1504  0449  DD 66 FF    	ld	h,(ix-1)
1505  044C  09          	add	hl,bc
1506  044D  7E          	ld	a, (hl)
1507  044E  DD 77 FC    	ld	(ix-4),a
1508  0451  C3 CE 04    	jp	l_spr_page_map_00109
1509  0454              l_spr_page_map_00105:
1510  0454  3E 00       	ld	a, +((_scr_4) & 0xFF)
1511  0456  DD 86 FA    	add	a,(ix-6)
1512  0459  6F          	ld	l, a
1513  045A  3E 00       	ld	a, +((_scr_4) / 256)
1514  045C  CE 00       	adc	a,0x00
1515  045E  67          	ld	h, a
1516  045F  7E          	ld	a, (hl)
1517  0460  DD 77 FD    	ld	(ix-3),a
1518  0463  01 00 00    	ld	bc,_scr_4
1519  0466  DD 6E FE    	ld	l,(ix-2)
1520  0469  DD 66 FF    	ld	h,(ix-1)
1521  046C  09          	add	hl,bc
1522  046D  7E          	ld	a, (hl)
1523  046E  DD 77 FC    	ld	(ix-4),a
1524  0471  18 5B       	jr	l_spr_page_map_00109
1525  0473              l_spr_page_map_00106:
1526  0473  3E 00       	ld	a, +((_scr_5) & 0xFF)
1527  0475  DD 86 FA    	add	a,(ix-6)
1528  0478  6F          	ld	l, a
1529  0479  3E 00       	ld	a, +((_scr_5) / 256)
1530  047B  CE 00       	adc	a,0x00
1531  047D  67          	ld	h, a
1532  047E  7E          	ld	a, (hl)
1533  047F  DD 77 FD    	ld	(ix-3),a
1534  0482  01 00 00    	ld	bc,_scr_5
1535  0485  DD 6E FE    	ld	l,(ix-2)
1536  0488  DD 66 FF    	ld	h,(ix-1)
1537  048B  09          	add	hl,bc
1538  048C  7E          	ld	a, (hl)
1539  048D  DD 77 FC    	ld	(ix-4),a
1540  0490  18 3C       	jr	l_spr_page_map_00109
1541  0492              l_spr_page_map_00107:
1542  0492  3E 00       	ld	a, +((_scr_6) & 0xFF)
1543  0494  DD 86 FA    	add	a,(ix-6)
1544  0497  6F          	ld	l, a
1545  0498  3E 00       	ld	a, +((_scr_6) / 256)
1546  049A  CE 00       	adc	a,0x00
1547  049C  67          	ld	h, a
1548  049D  7E          	ld	a, (hl)
1549  049E  DD 77 FD    	ld	(ix-3),a
1550  04A1  01 00 00    	ld	bc,_scr_6
1551  04A4  DD 6E FE    	ld	l,(ix-2)
1552  04A7  DD 66 FF    	ld	h,(ix-1)
1553  04AA  09          	add	hl,bc
1554  04AB  7E          	ld	a, (hl)
1555  04AC  DD 77 FC    	ld	(ix-4),a
1556  04AF  18 1D       	jr	l_spr_page_map_00109
1557  04B1              l_spr_page_map_00108:
1558  04B1  3E 00       	ld	a, +((_scr_7) & 0xFF)
1559  04B3  DD 86 FA    	add	a,(ix-6)
1560  04B6  6F          	ld	l, a
1561  04B7  3E 00       	ld	a, +((_scr_7) / 256)
1562  04B9  CE 00       	adc	a,0x00
1563  04BB  67          	ld	h, a
1564  04BC  7E          	ld	a, (hl)
1565  04BD  DD 77 FD    	ld	(ix-3),a
1566  04C0  01 00 00    	ld	bc,_scr_7
1567  04C3  DD 6E FE    	ld	l,(ix-2)
1568  04C6  DD 66 FF    	ld	h,(ix-1)
1569  04C9  09          	add	hl,bc
1570  04CA  7E          	ld	a, (hl)
1571  04CB  DD 77 FC    	ld	(ix-4),a
1572  04CE              l_spr_page_map_00109:
1573  04CE  DD 7E FD    	ld	a,(ix-3)
1574  04D1  D6 80       	sub	a,0x80
1575  04D3  30 3C       	jr	NC,l_spr_page_map_00120
1576  04D5  3E 00       	ld	a, +((_scr_obj) & 0xFF)
1577  04D7  DD 86 F9    	add	a,(ix-7)
1578  04DA  6F          	ld	l, a
1579  04DB  3E 00       	ld	a, +((_scr_obj) / 256)
1580  04DD  CE 00       	adc	a,0x00
1581  04DF  67          	ld	h, a
1582  04E0  5E          	ld	e, (hl)
1583  04E1  21 00 00    	ld	hl,_scr_curr
1584  04E4  46          	ld	b, (hl)
1585  04E5  04          	inc	b
1586  04E6  21 01 00    	ld	hl,0x0001
1587  04E9  18 01       	jr	l_spr_page_map_00184
1588  04EB              l_spr_page_map_00183:
1589  04EB  29          	add	hl, hl
1590  04EC              l_spr_page_map_00184:
1591  04EC  10 FD       	djnz	l_spr_page_map_00183
1592  04EE  16 00       	ld	d,0x00
1593  04F0  3E 00       	ld	a, +((_scr_map) & 0xFF)
1594  04F2  DD 86 F9    	add	a,(ix-7)
1595  04F5  4F          	ld	c, a
1596  04F6  3E 00       	ld	a, +((_scr_map) / 256)
1597  04F8  CE 00       	adc	a,0x00
1598  04FA  47          	ld	b, a
1599  04FB  7D          	ld	a, l
1600  04FC  A3          	and	a, e
1601  04FD  5F          	ld	e, a
1602  04FE  7C          	ld	a, h
1603  04FF  A2          	and	a, d
1604  0500  57          	ld	d,a
1605  0501  B3          	or	a,e
1606  0502  20 06       	jr	NZ,l_spr_page_map_00111
1607  0504  DD 7E FD    	ld	a,(ix-3)
1608  0507  02          	ld	(bc), a
1609  0508  18 02       	jr	l_spr_page_map_00112
1610  050A              l_spr_page_map_00111:
1611  050A  AF          	xor	a, a
1612  050B  02          	ld	(bc), a
1613  050C              l_spr_page_map_00112:
1614  050C  DD 34 F9    	inc	(ix-7)
1615  050F  18 54       	jr	l_spr_page_map_00121
1616  0511              l_spr_page_map_00120:
1617  0511  DD 7E FD    	ld	a,(ix-3)
1618  0514  C6 80       	add	a,0x80
1619  0516  DD 77 FB    	ld	(ix-5),a
1620  0519  DD 4E F9    	ld	c,(ix-7)
1621  051C  1E 00       	ld	e,0x00
1622  051E              l_spr_page_map_00127:
1623  051E  7B          	ld	a, e
1624  051F  DD 96 FB    	sub	a,(ix-5)
1625  0522  30 3B       	jr	NC,l_spr_page_map_00146
1626  0524  06 00       	ld	b,0x00
1627  0526  21 00 00    	ld	hl,_scr_obj
1628  0529  09          	add	hl, bc
1629  052A  56          	ld	d, (hl)
1630  052B  21 00 00    	ld	hl,_scr_curr
1631  052E  46          	ld	b, (hl)
1632  052F  04          	inc	b
1633  0530  21 01 00    	ld	hl,0x0001
1634  0533  18 01       	jr	l_spr_page_map_00186
1635  0535              l_spr_page_map_00185:
1636  0535  29          	add	hl, hl
1637  0536              l_spr_page_map_00186:
1638  0536  10 FD       	djnz	l_spr_page_map_00185
1639  0538  06 00       	ld	b,0x00
1640  053A  7D          	ld	a, l
1641  053B  A2          	and	a, d
1642  053C  6F          	ld	l, a
1643  053D  7C          	ld	a, h
1644  053E  A0          	and	a, b
1645  053F  57          	ld	d,a
1646  0540  B5          	or	a,l
1647  0541  20 0B       	jr	NZ,l_spr_page_map_00114
1648  0543  47          	ld	b,a
1649  0544  21 00 00    	ld	hl,_scr_map
1650  0547  09          	add	hl, bc
1651  0548  DD 7E FC    	ld	a,(ix-4)
1652  054B  77          	ld	(hl), a
1653  054C  18 08       	jr	l_spr_page_map_00115
1654  054E              l_spr_page_map_00114:
1655  054E  06 00       	ld	b,0x00
1656  0550  21 00 00    	ld	hl,_scr_map
1657  0553  09          	add	hl, bc
1658  0554  36 00       	ld	(hl),0x00
1659  0556              l_spr_page_map_00115:
1660  0556  0C          	inc	c
1661  0557  79          	ld	a, c
1662  0558  D6 A0       	sub	a,0xa0
1663  055A  30 03       	jr	NC,l_spr_page_map_00146
1664  055C  1C          	inc	e
1665  055D  18 BF       	jr	l_spr_page_map_00127
1666  055F              l_spr_page_map_00146:
1667  055F  DD 71 F9    	ld	(ix-7),c
1668  0562  DD 34 FA    	inc	(ix-6)
1669  0565              l_spr_page_map_00121:
1670  0565  DD 7E F9    	ld	a,(ix-7)
1671  0568  D6 A0       	sub	a,0xa0
1672  056A  30 0B       	jr	NC,l_spr_page_map_00144
1673  056C  DD 34 FA    	inc	(ix-6)
1674  056F  DD 7E FA    	ld	a,(ix-6)
1675  0572  D6 A0       	sub	a,0xa0
1676  0574  DA 97 03    	jp	C, l_spr_page_map_00129
1677  0577              l_spr_page_map_00144:
1678  0577  0E 00       	ld	c,0x00
1679  0579              l_spr_page_map_00131:
1680  0579  06 00       	ld	b,0x00
1681  057B  21 00 00    	ld	hl,_class
1682  057E  09          	add	hl, bc
1683  057F  36 00       	ld	(hl),0x00
1684  0581  C5          	push	bc
1685  0582  21 00 00    	ld	hl,0x0000
1686  0585  E5          	push	hl
1687  0586  AF          	xor	a, a
1688  0587  F5          	push	af
1689  0588  33          	inc	sp
1690  0589  79          	ld	a, c
1691  058A  F5          	push	af
1692  058B  33          	inc	sp
1693  058C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1694  058F  C1          	pop	bc
1695  0590  0C          	inc	c
1696  0591  79          	ld	a, c
1697  0592  D6 07       	sub	a,0x07
1698  0594  38 E3       	jr	C,l_spr_page_map_00131
1699  0596  CD 3B 0B    	call	_spr_init_anim_bullets
1700  0599  DD F9       	ld	sp, ix
1701  059B  DD E1       	pop	ix
1702  059D  C9          	ret
1703  059E              	SECTION code_compiler
1704  059E              ;	---------------------------------
1705  059E              ; Function spr_redraw
1706  059E              ; ---------------------------------
1707  059E              _spr_redraw:
1708  059E  2A 00 00    	ld	hl,(_sprite)
1709  05A1  26 00       	ld	h,0x00
1710  05A3  01 00 00    	ld	bc,_tile
1711  05A6  09          	add	hl,bc
1712  05A7  4E          	ld	c, (hl)
1713  05A8  3A 00 00    	ld	a,(_sprite)
1714  05AB  5F          	ld	e,a
1715  05AC  16 00       	ld	d,0x00
1716  05AE  21 00 00    	ld	hl,_colint
1717  05B1  19          	add	hl,de
1718  05B2  7E          	ld	a,(hl)
1719  05B3  81          	add	a,c
1720  05B4  32 00 00    	ld	(_s_tile1),a
1721  05B7  2A 00 00    	ld	hl,(_sprite)
1722  05BA  26 00       	ld	h,0x00
1723  05BC  01 00 00    	ld	bc,_col
1724  05BF  09          	add	hl,bc
1725  05C0  7E          	ld	a,(hl)
1726  05C1  32 00 00    	ld	(_s_col1),a
1727  05C4  2A 00 00    	ld	hl,(_sprite)
1728  05C7  26 00       	ld	h,0x00
1729  05C9  01 00 00    	ld	bc,_lin
1730  05CC  09          	add	hl,bc
1731  05CD  7E          	ld	a,(hl)
1732  05CE  21 00 00    	ld	hl,_s_lin1
1733  05D1  77          	ld	(hl),a
1734  05D2  4F          	ld	c,a
1735  05D3  7E          	ld	a, (hl)
1736  05D4  21 00 00    	ld	hl,_s_lin0
1737  05D7  96          	sub	a, (hl)
1738  05D8  20 0A       	jr	NZ,l_spr_redraw_00117
1739  05DA  3A 00 00    	ld	a,(_s_col1)
1740  05DD  21 00 00    	ld	hl,_s_col0
1741  05E0  96          	sub	a, (hl)
1742  05E1  CA 7D 06    	jp	Z,l_spr_redraw_00118
1743  05E4              l_spr_redraw_00117:
1744  05E4  3A 00 00    	ld	a,(_sprite)
1745  05E7  D6 07       	sub	a,0x07
1746  05E9  20 04       	jr	NZ,l_spr_redraw_00158
1747  05EB  3E 01       	ld	a,0x01
1748  05ED  18 01       	jr	l_spr_redraw_00159
1749  05EF              l_spr_redraw_00158:
1750  05EF  AF          	xor	a,a
1751  05F0              l_spr_redraw_00159:
1752  05F0  47          	ld	b,a
1753  05F1  B7          	or	a, a
1754  05F2  28 12       	jr	Z,l_spr_redraw_00105
1755  05F4  3A 00 00    	ld	a,(_player_over_stair)
1756  05F7  B7          	or	a, a
1757  05F8  28 0C       	jr	Z,l_spr_redraw_00105
1758  05FA  79          	ld	a, c
1759  05FB  E6 03       	and	a,0x03
1760  05FD  20 07       	jr	NZ,l_spr_redraw_00105
1761  05FF  21 00 00    	ld	hl,_s_tile1
1762  0602  34          	inc	(hl)
1763  0603  34          	inc	(hl)
1764  0604  34          	inc	(hl)
1765  0605  34          	inc	(hl)
1766  0606              l_spr_redraw_00105:
1767  0606  78          	ld	a, b
1768  0607  B7          	or	a, a
1769  0608  28 05       	jr	Z,l_spr_redraw_00113
1770  060A  CD B9 09    	call	_spr_back_repaint
1771  060D  18 57       	jr	l_spr_redraw_00114
1772  060F              l_spr_redraw_00113:
1773  060F  3A 00 00    	ld	a,(_s_lin1)
1774  0612  E6 07       	and	a,0x07
1775  0614  20 05       	jr	NZ,l_spr_redraw_00110
1776  0616  CD B9 09    	call	_spr_back_repaint
1777  0619  18 4B       	jr	l_spr_redraw_00114
1778  061B              l_spr_redraw_00110:
1779  061B  21 00 00    	ld	hl,_s_state
1780  061E  CB 46       	bit	0, (hl)
1781  0620  28 24       	jr	Z,l_spr_redraw_00107
1782  0622  3A 00 00    	ld	a,(_s_lin0)
1783  0625  C6 08       	add	a,0x08
1784  0627  47          	ld	b, a
1785  0628  3A 00 00    	ld	a,(_s_col0)
1786  062B  F5          	push	af
1787  062C  33          	inc	sp
1788  062D  C5          	push	bc
1789  062E  33          	inc	sp
1790  062F  3E 49       	ld	a,0x49
1791  0631  F5          	push	af
1792  0632  33          	inc	sp
1793  0633  CD 00 00    	call	_NIRVANAP_fillC_callee
1794  0636  21 00 00    	ld	hl,_s_col0
1795  0639  56          	ld	d, (hl)
1796  063A  14          	inc	d
1797  063B  58          	ld	e,b
1798  063C  D5          	push	de
1799  063D  3E 49       	ld	a,0x49
1800  063F  F5          	push	af
1801  0640  33          	inc	sp
1802  0641  CD 00 00    	call	_NIRVANAP_fillC_callee
1803  0644  18 20       	jr	l_spr_redraw_00114
1804  0646              l_spr_redraw_00107:
1805  0646  3A 00 00    	ld	a,(_s_col0)
1806  0649  F5          	push	af
1807  064A  33          	inc	sp
1808  064B  3A 00 00    	ld	a,(_s_lin0)
1809  064E  57          	ld	d,a
1810  064F  1E 49       	ld	e,0x49
1811  0651  D5          	push	de
1812  0652  CD 00 00    	call	_NIRVANAP_fillC_callee
1813  0655  21 00 00    	ld	hl,_s_col0
1814  0658  46          	ld	b, (hl)
1815  0659  04          	inc	b
1816  065A  C5          	push	bc
1817  065B  33          	inc	sp
1818  065C  3A 00 00    	ld	a,(_s_lin0)
1819  065F  57          	ld	d,a
1820  0660  1E 49       	ld	e,0x49
1821  0662  D5          	push	de
1822  0663  CD 00 00    	call	_NIRVANAP_fillC_callee
1823  0666              l_spr_redraw_00114:
1824  0666  2A FF FF    	ld	hl,(_s_col1 - 1)
1825  0669  3A 00 00    	ld	a,(_s_lin1)
1826  066C  6F          	ld	l,a
1827  066D  E5          	push	hl
1828  066E  2A FF FF    	ld	hl,(_s_tile1 - 1)
1829  0671  3A 00 00    	ld	a,(_sprite)
1830  0674  6F          	ld	l,a
1831  0675  E5          	push	hl
1832  0676  CD 00 00    	call	_NIRVANAP_spriteT_callee
1833  0679  2E 01       	ld	l,0x01
1834  067B  18 22       	jr	l_spr_redraw_00121
1835  067D              l_spr_redraw_00118:
1836  067D  3A 00 00    	ld	a,(_s_tile1)
1837  0680  21 00 00    	ld	hl,_s_tile0
1838  0683  96          	sub	a, (hl)
1839  0684  28 17       	jr	Z,l_spr_redraw_00119
1840  0686  2A FF FF    	ld	hl,(_s_col1 - 1)
1841  0689  3A 00 00    	ld	a,(_s_lin1)
1842  068C  6F          	ld	l,a
1843  068D  E5          	push	hl
1844  068E  2A FF FF    	ld	hl,(_s_tile1 - 1)
1845  0691  3A 00 00    	ld	a,(_sprite)
1846  0694  6F          	ld	l,a
1847  0695  E5          	push	hl
1848  0696  CD 00 00    	call	_NIRVANAP_spriteT_callee
1849  0699  2E 00       	ld	l,0x00
1850  069B  18 02       	jr	l_spr_redraw_00121
1851  069D              l_spr_redraw_00119:
1852  069D  2E 00       	ld	l,0x00
1853  069F              l_spr_redraw_00121:
1854  069F  C9          	ret
1855  06A0              	SECTION code_compiler
1856  06A0              ;	---------------------------------
1857  06A0              ; Function spr_destroy
1858  06A0              ; ---------------------------------
1859  06A0              _spr_destroy:
1860  06A0  CD 00 00    	call	___sdcc_enter_ix
1861  06A3  F5          	push	af
1862  06A4  4D          	ld	c, l
1863  06A5  21 00 00    	ld	hl,_spr_count
1864  06A8  35          	dec	(hl)
1865  06A9  3E 00       	ld	a, +((_lin) & 0xFF)
1866  06AB  81          	add	a, c
1867  06AC  DD 77 FE    	ld	(ix-2),a
1868  06AF  3E 00       	ld	a, +((_lin) / 256)
1869  06B1  CE 00       	adc	a,0x00
1870  06B3  DD 77 FF    	ld	(ix-1),a
1871  06B6  E1          	pop	hl
1872  06B7  7E          	ld	a,(hl)
1873  06B8  E5          	push	hl
1874  06B9  32 00 00    	ld	(_s_lin0),a
1875  06BC  3E 00       	ld	a, +((_col) & 0xFF)
1876  06BE  81          	add	a, c
1877  06BF  5F          	ld	e, a
1878  06C0  3E 00       	ld	a, +((_col) / 256)
1879  06C2  CE 00       	adc	a,0x00
1880  06C4  57          	ld	d, a
1881  06C5  1A          	ld	a, (de)
1882  06C6  32 00 00    	ld	(_s_col0),a
1883  06C9  C5          	push	bc
1884  06CA  D5          	push	de
1885  06CB  21 00 00    	ld	hl,0x0000
1886  06CE  E5          	push	hl
1887  06CF  AF          	xor	a, a
1888  06D0  F5          	push	af
1889  06D1  33          	inc	sp
1890  06D2  79          	ld	a, c
1891  06D3  F5          	push	af
1892  06D4  33          	inc	sp
1893  06D5  CD 00 00    	call	_NIRVANAP_spriteT_callee
1894  06D8  CD B9 09    	call	_spr_back_repaint
1895  06DB  D1          	pop	de
1896  06DC  C1          	pop	bc
1897  06DD  06 00       	ld	b,0x00
1898  06DF  21 00 00    	ld	hl,_tile
1899  06E2  09          	add	hl, bc
1900  06E3  AF          	xor	a,a
1901  06E4  77          	ld	(hl),a
1902  06E5  E1          	pop	hl
1903  06E6  12          	ld	(de),a
1904  06E7  E5          	push	hl
1905  06E8  36 00       	ld	(hl),0x00
1906  06EA  11 00 00    	ld	de,_class+0
1907  06ED  69          	ld	l,c
1908  06EE  26 00       	ld	h,0x00
1909  06F0  19          	add	hl, de
1910  06F1  36 00       	ld	(hl),0x00
1911  06F3  11 00 00    	ld	de,_state+0
1912  06F6  69          	ld	l,c
1913  06F7  26 00       	ld	h,0x00
1914  06F9  19          	add	hl, de
1915  06FA  36 00       	ld	(hl),0x00
1916  06FC  11 00 00    	ld	de,_state_a+0
1917  06FF  69          	ld	l,c
1918  0700  26 00       	ld	h,0x00
1919  0702  19          	add	hl, de
1920  0703  F1          	pop	af
1921  0704  36 00       	ld	(hl),0x00
1922  0706  DD E1       	pop	ix
1923  0708  C9          	ret
1924  0709              	SECTION code_compiler
1925  0709              ;	---------------------------------
1926  0709              ; Function spr_tile
1927  0709              ; ---------------------------------
1928  0709              _spr_tile:
1929  0709  45          	ld	b,l
1930  070A  11 00 00    	ld	de,_class+0
1931  070D  26 00       	ld	h,0x00
1932  070F  19          	add	hl, de
1933  0710  5E          	ld	e, (hl)
1934  0711  3E 0B       	ld	a,0x0b
1935  0713  93          	sub	a, e
1936  0714  DA EF 07    	jp	C, l_spr_tile_00112
1937  0717  16 00       	ld	d,0x00
1938  0719  21 20 07    	ld	hl,l_spr_tile_00119
1939  071C  19          	add	hl, de
1940  071D  19          	add	hl, de
1941  071E  19          	add	hl, de
1942  071F  E9          	jp	(hl)
1943  0720              l_spr_tile_00119:
1944  0720  C3 EF 07    	jp	l_spr_tile_00112
1945  0723  C3 94 07    	jp	l_spr_tile_00106
1946  0726  C3 A4 07    	jp	l_spr_tile_00107
1947  0729  C3 B3 07    	jp	l_spr_tile_00108
1948  072C  C3 C2 07    	jp	l_spr_tile_00109
1949  072F  C3 44 07    	jp	l_spr_tile_00101
1950  0732  C3 54 07    	jp	l_spr_tile_00102
1951  0735  C3 64 07    	jp	l_spr_tile_00103
1952  0738  C3 75 07    	jp	l_spr_tile_00104
1953  073B  C3 84 07    	jp	l_spr_tile_00105
1954  073E  C3 D1 07    	jp	l_spr_tile_00110
1955  0741  C3 E0 07    	jp	l_spr_tile_00111
1956  0744              l_spr_tile_00101:
1957  0744  AF          	xor	a, a
1958  0745  48          	ld	c,b
1959  0746  47          	ld	b,a
1960  0747  C5          	push	bc
1961  0748  3E 84       	ld	a,0x84
1962  074A  F5          	push	af
1963  074B  33          	inc	sp
1964  074C  CD F2 07    	call	_spr_tile_dir
1965  074F  F1          	pop	af
1966  0750  33          	inc	sp
1967  0751  C3 F1 07    	jp	l_spr_tile_00113
1968  0754              l_spr_tile_00102:
1969  0754  AF          	xor	a, a
1970  0755  48          	ld	c,b
1971  0756  47          	ld	b,a
1972  0757  C5          	push	bc
1973  0758  3E 88       	ld	a,0x88
1974  075A  F5          	push	af
1975  075B  33          	inc	sp
1976  075C  CD F2 07    	call	_spr_tile_dir
1977  075F  F1          	pop	af
1978  0760  33          	inc	sp
1979  0761  C3 F1 07    	jp	l_spr_tile_00113
1980  0764              l_spr_tile_00103:
1981  0764  3E 02       	ld	a,0x02
1982  0766  48          	ld	c,b
1983  0767  47          	ld	b,a
1984  0768  C5          	push	bc
1985  0769  3E 8C       	ld	a,0x8c
1986  076B  F5          	push	af
1987  076C  33          	inc	sp
1988  076D  CD F2 07    	call	_spr_tile_dir
1989  0770  F1          	pop	af
1990  0771  33          	inc	sp
1991  0772  C3 F1 07    	jp	l_spr_tile_00113
1992  0775              l_spr_tile_00104:
1993  0775  AF          	xor	a, a
1994  0776  48          	ld	c,b
1995  0777  47          	ld	b,a
1996  0778  C5          	push	bc
1997  0779  3E 90       	ld	a,0x90
1998  077B  F5          	push	af
1999  077C  33          	inc	sp
2000  077D  CD F2 07    	call	_spr_tile_dir
2001  0780  F1          	pop	af
2002  0781  33          	inc	sp
2003  0782  18 6D       	jr	l_spr_tile_00113
2004  0784              l_spr_tile_00105:
2005  0784  3E 04       	ld	a,0x04
2006  0786  48          	ld	c,b
2007  0787  47          	ld	b,a
2008  0788  C5          	push	bc
2009  0789  3E 94       	ld	a,0x94
2010  078B  F5          	push	af
2011  078C  33          	inc	sp
2012  078D  CD F2 07    	call	_spr_tile_dir
2013  0790  F1          	pop	af
2014  0791  33          	inc	sp
2015  0792  18 5D       	jr	l_spr_tile_00113
2016  0794              l_spr_tile_00106:
2017  0794  3E 02       	ld	a,0x02
2018  0796  48          	ld	c,b
2019  0797  47          	ld	b,a
2020  0798  C5          	push	bc
2021  0799  3E 9C       	ld	a,0x9c
2022  079B  F5          	push	af
2023  079C  33          	inc	sp
2024  079D  CD F2 07    	call	_spr_tile_dir
2025  07A0  F1          	pop	af
2026  07A1  33          	inc	sp
2027  07A2  18 4D       	jr	l_spr_tile_00113
2028  07A4              l_spr_tile_00107:
2029  07A4  AF          	xor	a, a
2030  07A5  48          	ld	c,b
2031  07A6  47          	ld	b,a
2032  07A7  C5          	push	bc
2033  07A8  3E A0       	ld	a,0xa0
2034  07AA  F5          	push	af
2035  07AB  33          	inc	sp
2036  07AC  CD F2 07    	call	_spr_tile_dir
2037  07AF  F1          	pop	af
2038  07B0  33          	inc	sp
2039  07B1  18 3E       	jr	l_spr_tile_00113
2040  07B3              l_spr_tile_00108:
2041  07B3  AF          	xor	a, a
2042  07B4  48          	ld	c,b
2043  07B5  47          	ld	b,a
2044  07B6  C5          	push	bc
2045  07B7  3E A2       	ld	a,0xa2
2046  07B9  F5          	push	af
2047  07BA  33          	inc	sp
2048  07BB  CD F2 07    	call	_spr_tile_dir
2049  07BE  F1          	pop	af
2050  07BF  33          	inc	sp
2051  07C0  18 2F       	jr	l_spr_tile_00113
2052  07C2              l_spr_tile_00109:
2053  07C2  AF          	xor	a, a
2054  07C3  48          	ld	c,b
2055  07C4  47          	ld	b,a
2056  07C5  C5          	push	bc
2057  07C6  3E A4       	ld	a,0xa4
2058  07C8  F5          	push	af
2059  07C9  33          	inc	sp
2060  07CA  CD F2 07    	call	_spr_tile_dir
2061  07CD  F1          	pop	af
2062  07CE  33          	inc	sp
2063  07CF  18 20       	jr	l_spr_tile_00113
2064  07D1              l_spr_tile_00110:
2065  07D1  AF          	xor	a, a
2066  07D2  48          	ld	c,b
2067  07D3  47          	ld	b,a
2068  07D4  C5          	push	bc
2069  07D5  3E A6       	ld	a,0xa6
2070  07D7  F5          	push	af
2071  07D8  33          	inc	sp
2072  07D9  CD F2 07    	call	_spr_tile_dir
2073  07DC  F1          	pop	af
2074  07DD  33          	inc	sp
2075  07DE  18 11       	jr	l_spr_tile_00113
2076  07E0              l_spr_tile_00111:
2077  07E0  AF          	xor	a, a
2078  07E1  48          	ld	c,b
2079  07E2  47          	ld	b,a
2080  07E3  C5          	push	bc
2081  07E4  3E A8       	ld	a,0xa8
2082  07E6  F5          	push	af
2083  07E7  33          	inc	sp
2084  07E8  CD F2 07    	call	_spr_tile_dir
2085  07EB  F1          	pop	af
2086  07EC  33          	inc	sp
2087  07ED  18 02       	jr	l_spr_tile_00113
2088  07EF              l_spr_tile_00112:
2089  07EF  2E 00       	ld	l,0x00
2090  07F1              l_spr_tile_00113:
2091  07F1  C9          	ret
2092  07F2              	SECTION code_compiler
2093  07F2              ;	---------------------------------
2094  07F2              ; Function spr_tile_dir
2095  07F2              ; ---------------------------------
2096  07F2              _spr_tile_dir:
2097  07F2  CD 00 00    	call	___sdcc_enter_ix
2098  07F5  3E 00       	ld	a, +((_state) & 0xFF)
2099  07F7  DD 86 05    	add	a,(ix+5)
2100  07FA  4F          	ld	c, a
2101  07FB  3E 00       	ld	a, +((_state) / 256)
2102  07FD  CE 00       	adc	a,0x00
2103  07FF  47          	ld	b, a
2104  0800  0A          	ld	a, (bc)
2105  0801  4F          	ld	c,a
2106  0802  CB 57       	bit	2,a
2107  0804  28 05       	jr	Z,l_spr_tile_dir_00102
2108  0806  DD 6E 04    	ld	l,(ix+4)
2109  0809  18 2D       	jr	l_spr_tile_dir_00109
2110  080B              l_spr_tile_dir_00102:
2111  080B  DD 7E 04    	ld	a,(ix+4)
2112  080E  DD 86 06    	add	a,(ix+6)
2113  0811  47          	ld	b, a
2114  0812  CB 59       	bit	3, c
2115  0814  28 03       	jr	Z,l_spr_tile_dir_00104
2116  0816  68          	ld	l, b
2117  0817  18 1F       	jr	l_spr_tile_dir_00109
2118  0819              l_spr_tile_dir_00104:
2119  0819  3E 00       	ld	a, +((_state_a) & 0xFF)
2120  081B  DD 86 05    	add	a,(ix+5)
2121  081E  5F          	ld	e, a
2122  081F  3E 00       	ld	a, +((_state_a) / 256)
2123  0821  CE 00       	adc	a,0x00
2124  0823  57          	ld	d, a
2125  0824  1A          	ld	a, (de)
2126  0825  CB 67       	bit	4, a
2127  0827  28 05       	jr	Z,l_spr_tile_dir_00106
2128  0829  DD 6E 04    	ld	l,(ix+4)
2129  082C  18 0A       	jr	l_spr_tile_dir_00109
2130  082E              l_spr_tile_dir_00106:
2131  082E  CB 5F       	bit	3, a
2132  0830  28 03       	jr	Z,l_spr_tile_dir_00108
2133  0832  68          	ld	l, b
2134  0833  18 03       	jr	l_spr_tile_dir_00109
2135  0835              l_spr_tile_dir_00108:
2136  0835  DD 6E 04    	ld	l,(ix+4)
2137  0838              l_spr_tile_dir_00109:
2138  0838  DD E1       	pop	ix
2139  083A  C9          	ret
2140  083B              	SECTION code_compiler
2141  083B              ;	---------------------------------
2142  083B              ; Function spr_draw_clear
2143  083B              ; ---------------------------------
2144  083B              _spr_draw_clear:
2145  083B  F3          	di
2146  083C  2E 00       	ld	l,0x00
2147  083E  CD 00 00    	call	_zx_cls_fastcall
2148  0841  21 00 00    	ld	hl,_s_lin1
2149  0844  36 10       	ld	(hl),0x10
2150  0846              l_spr_draw_clear_00105:
2151  0846  21 00 00    	ld	hl,_s_col1
2152  0849  36 00       	ld	(hl),0x00
2153  084B              l_spr_draw_clear_00103:
2154  084B  2A FF FF    	ld	hl,(_s_col1 - 1)
2155  084E  3A 00 00    	ld	a,(_s_lin1)
2156  0851  6F          	ld	l,a
2157  0852  E5          	push	hl
2158  0853  AF          	xor	a, a
2159  0854  F5          	push	af
2160  0855  33          	inc	sp
2161  0856  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2162  0859  21 00 00    	ld	hl,_s_col1
2163  085C  7E          	ld	a,(hl)
2164  085D  C6 02       	add	a,0x02
2165  085F  77          	ld	(hl),a
2166  0860  D6 20       	sub	a,0x20
2167  0862  38 E7       	jr	C,l_spr_draw_clear_00103
2168  0864  21 00 00    	ld	hl,_s_lin1
2169  0867  7E          	ld	a, (hl)
2170  0868  C6 10       	add	a,0x10
2171  086A  77          	ld	(hl), a
2172  086B  3E A2       	ld	a,0xa2
2173  086D  96          	sub	a, (hl)
2174  086E  30 D6       	jr	NC,l_spr_draw_clear_00105
2175  0870  FB          	ei
2176  0871  C9          	ret
2177  0872              	SECTION code_compiler
2178  0872              ;	---------------------------------
2179  0872              ; Function spr_brick_anim
2180  0872              ; ---------------------------------
2181  0872              _spr_brick_anim:
2182  0872  CD 00 00    	call	___sdcc_enter_ix
2183  0875  F5          	push	af
2184  0876  DD 75 FF    	ld	(ix-1),l
2185  0879  21 00 00    	ld	hl,_player_hit_col
2186  087C  46          	ld	b, (hl)
2187  087D  21 00 00    	ld	hl,_player_hit_lin
2188  0880  4E          	ld	c, (hl)
2189  0881  C5          	push	bc
2190  0882  C5          	push	bc
2191  0883  CD 00 00    	call	_spr_calc_index
2192  0886  F1          	pop	af
2193  0887  C1          	pop	bc
2194  0888  22 00 00    	ld	(_index1),hl
2195  088B  11 F0 FF    	ld	de,0xfff0
2196  088E  19          	add	hl,de
2197  088F  11 00 00    	ld	de,_scr_map
2198  0892  19          	add	hl, de
2199  0893  7E          	ld	a, (hl)
2200  0894  DD 77 FE    	ld	(ix-2),a
2201  0897  11 00 00    	ld	de,_scr_map
2202  089A  2A 00 00    	ld	hl,(_index1)
2203  089D  19          	add	hl,de
2204  089E  66          	ld	h, (hl)
2205  089F  EB          	ex	de,hl
2206  08A0  DD 7E FF    	ld	a,(ix-1)
2207  08A3  B7          	or	a, a
2208  08A4  28 08       	jr	Z,l_spr_brick_anim_00102
2209  08A6  79          	ld	a, c
2210  08A7  C6 F6       	add	a,0xf6
2211  08A9  32 00 00    	ld	(_tmp),a
2212  08AC  18 06       	jr	l_spr_brick_anim_00103
2213  08AE              l_spr_brick_anim_00102:
2214  08AE  79          	ld	a, c
2215  08AF  C6 F8       	add	a,0xf8
2216  08B1  32 00 00    	ld	(_tmp),a
2217  08B4              l_spr_brick_anim_00103:
2218  08B4  F3          	di
2219  08B5  DD 7E FF    	ld	a,(ix-1)
2220  08B8  B7          	or	a, a
2221  08B9  28 18       	jr	Z,l_spr_brick_anim_00105
2222  08BB  C5          	push	bc
2223  08BC  D5          	push	de
2224  08BD  C5          	push	bc
2225  08BE  33          	inc	sp
2226  08BF  51          	ld	d,c
2227  08C0  1E 49       	ld	e,0x49
2228  08C2  D5          	push	de
2229  08C3  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2230  08C6  D1          	pop	de
2231  08C7  33          	inc	sp
2232  08C8  3A 00 00    	ld	a,(_tmp)
2233  08CB  5A          	ld	e,d
2234  08CC  57          	ld	d,a
2235  08CD  D5          	push	de
2236  08CE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2237  08D1  18 1C       	jr	l_spr_brick_anim_00106
2238  08D3              l_spr_brick_anim_00105:
2239  08D3  3A 00 00    	ld	a,(_tmp)
2240  08D6  C6 F0       	add	a,0xf0
2241  08D8  C5          	push	bc
2242  08D9  D5          	push	de
2243  08DA  4F          	ld	c,a
2244  08DB  C5          	push	bc
2245  08DC  DD 7E FE    	ld	a,(ix-2)
2246  08DF  F5          	push	af
2247  08E0  33          	inc	sp
2248  08E1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2249  08E4  D1          	pop	de
2250  08E5  33          	inc	sp
2251  08E6  3A 00 00    	ld	a,(_tmp)
2252  08E9  5A          	ld	e,d
2253  08EA  57          	ld	d,a
2254  08EB  D5          	push	de
2255  08EC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2256  08EF              l_spr_brick_anim_00106:
2257  08EF  FB          	ei
2258  08F0  F1          	pop	af
2259  08F1  DD E1       	pop	ix
2260  08F3  C9          	ret
2261  08F4              	SECTION code_compiler
2262  08F4              ;	---------------------------------
2263  08F4              ; Function spr_draw_index
2264  08F4              ; ---------------------------------
2265  08F4              _spr_draw_index:
2266  08F4  CD 00 00    	call	___sdcc_enter_ix
2267  08F7  DD 4E 04    	ld	c,(ix+4)
2268  08FA  79          	ld	a, c
2269  08FB  E6 0F       	and	a,0x0f
2270  08FD  87          	add	a, a
2271  08FE  32 00 00    	ld	(_s_col1),a
2272  0901  21 00 00    	ld	hl,_s_lin1
2273  0904  71          	ld	(hl),c
2274  0905  79          	ld	a,c
2275  0906  07          	rlca
2276  0907  07          	rlca
2277  0908  07          	rlca
2278  0909  07          	rlca
2279  090A  E6 0F       	and	a,0x0f
2280  090C  07          	rlca
2281  090D  07          	rlca
2282  090E  07          	rlca
2283  090F  07          	rlca
2284  0910  E6 F0       	and	a,0xf0
2285  0912  77          	ld	(hl), a
2286  0913  F3          	di
2287  0914  3E 00       	ld	a, +((_scr_map) & 0xFF)
2288  0916  DD 86 04    	add	a,(ix+4)
2289  0919  4F          	ld	c, a
2290  091A  3E 00       	ld	a, +((_scr_map) / 256)
2291  091C  DD 8E 05    	adc	a,(ix+5)
2292  091F  47          	ld	b, a
2293  0920  0A          	ld	a, (bc)
2294  0921  47          	ld	b, a
2295  0922  3A 00 00    	ld	a,(_s_col1)
2296  0925  F5          	push	af
2297  0926  33          	inc	sp
2298  0927  3A 00 00    	ld	a,(_s_lin1)
2299  092A  48          	ld	c,b
2300  092B  47          	ld	b,a
2301  092C  C5          	push	bc
2302  092D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2303  0930  FB          	ei
2304  0931  DD E1       	pop	ix
2305  0933  C9          	ret
2306  0934              	SECTION code_compiler
2307  0934              ;	---------------------------------
2308  0934              ; Function spr_draw_row
2309  0934              ; ---------------------------------
2310  0934              _spr_draw_row:
2311  0934  CD 00 00    	call	___sdcc_enter_ix
2312  0937  3B          	dec	sp
2313  0938  F3          	di
2314  0939  21 00 00    	ld	hl,_tmp
2315  093C  36 00       	ld	(hl),0x00
2316  093E  DD 7E 04    	ld	a,(ix+4)
2317  0941  07          	rlca
2318  0942  07          	rlca
2319  0943  07          	rlca
2320  0944  E6 F8       	and	a,0xf8
2321  0946  DD 77 FF    	ld	(ix-1),a
2322  0949              l_spr_draw_row_00101:
2323  0949  21 00 00    	ld	hl,_tmp
2324  094C  7E          	ld	a, (hl)
2325  094D  D6 20       	sub	a,0x20
2326  094F  30 38       	jr	NC,l_spr_draw_row_00103
2327  0951  DD 4E 04    	ld	c,(ix+4)
2328  0954  3E 00       	ld	a,0x00
2329  0956  CB 21       	sla	c
2330  0958  17          	rla
2331  0959  CB 21       	sla	c
2332  095B  17          	rla
2333  095C  CB 21       	sla	c
2334  095E  17          	rla
2335  095F  CB 21       	sla	c
2336  0961  17          	rla
2337  0962  CB 21       	sla	c
2338  0964  17          	rla
2339  0965  47          	ld	b,a
2340  0966  5E          	ld	e, (hl)
2341  0967  16 00       	ld	d,0x00
2342  0969  79          	ld	a, c
2343  096A  83          	add	a, e
2344  096B  21 00 00    	ld	hl,_index1
2345  096E  77          	ld	(hl), a
2346  096F  78          	ld	a, b
2347  0970  8A          	adc	a, d
2348  0971  23          	inc	hl
2349  0972  77          	ld	(hl), a
2350  0973  2A FF FF    	ld	hl,(_tmp-1)
2351  0976  DD 6E FF    	ld	l,(ix-1)
2352  0979  3A 00 00    	ld	a,(_game_brick_tile)
2353  097C  E5          	push	hl
2354  097D  F5          	push	af
2355  097E  33          	inc	sp
2356  097F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2357  0982  21 00 00    	ld	hl,_tmp
2358  0985  34          	inc	(hl)
2359  0986  34          	inc	(hl)
2360  0987  18 C0       	jr	l_spr_draw_row_00101
2361  0989              l_spr_draw_row_00103:
2362  0989  FB          	ei
2363  098A  33          	inc	sp
2364  098B  DD E1       	pop	ix
2365  098D  C9          	ret
2366  098E              	SECTION code_compiler
2367  098E              ;	---------------------------------
2368  098E              ; Function spr_calc_hor
2369  098E              ; ---------------------------------
2370  098E              _spr_calc_hor:
2371  098E  CD 00 00    	call	___sdcc_enter_ix
2372  0991  3E 00       	ld	a, +((_col) & 0xFF)
2373  0993  DD 86 04    	add	a,(ix+4)
2374  0996  4F          	ld	c, a
2375  0997  3E 00       	ld	a, +((_col) / 256)
2376  0999  CE 00       	adc	a,0x00
2377  099B  47          	ld	b, a
2378  099C  0A          	ld	a, (bc)
2379  099D  5F          	ld	e, a
2380  099E  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2381  09A0  DD 86 04    	add	a,(ix+4)
2382  09A3  4F          	ld	c, a
2383  09A4  3E 00       	ld	a, +((_sprite_frames) / 256)
2384  09A6  CE 00       	adc	a,0x00
2385  09A8  47          	ld	b, a
2386  09A9  0A          	ld	a, (bc)
2387  09AA  67          	ld	h, a
2388  09AB  2E 00       	ld	l,0x00
2389  09AD  55          	ld	d, l
2390  09AE  06 08       	ld	b,0x08
2391  09B0              l_spr_calc_hor_00103:
2392  09B0  29          	add	hl, hl
2393  09B1  30 01       	jr	NC,l_spr_calc_hor_00104
2394  09B3  19          	add	hl, de
2395  09B4              l_spr_calc_hor_00104:
2396  09B4  10 FA       	djnz	l_spr_calc_hor_00103
2397  09B6  DD E1       	pop	ix
2398  09B8  C9          	ret
2399  09B9              	SECTION code_compiler
2400  09B9              ;	---------------------------------
2401  09B9              ; Function spr_back_repaint
2402  09B9              ; ---------------------------------
2403  09B9              _spr_back_repaint:
2404  09B9  76          	halt
2405  09BA  F3          	di
2406  09BB  2A FF FF    	ld	hl,(_s_col0 - 1)
2407  09BE  3A 00 00    	ld	a,(_s_lin0)
2408  09C1  6F          	ld	l,a
2409  09C2  E5          	push	hl
2410  09C3  CD 00 00    	call	_spr_calc_index
2411  09C6  F1          	pop	af
2412  09C7  7D          	ld	a,l
2413  09C8  32 00 00    	ld	(_sprite_curr_index),a
2414  09CB  21 00 00    	ld	hl,_s_lin0
2415  09CE  7E          	ld	a, (hl)
2416  09CF  E6 0F       	and	a,0x0f
2417  09D1  4F          	ld	c, a
2418  09D2  7E          	ld	a, (hl)
2419  09D3  07          	rlca
2420  09D4  07          	rlca
2421  09D5  07          	rlca
2422  09D6  07          	rlca
2423  09D7  E6 0F       	and	a,0x0f
2424  09D9  47          	ld	b, a
2425  09DA  21 00 00    	ld	hl,_s_col0
2426  09DD  CB 46       	bit	0, (hl)
2427  09DF  20 66       	jr	NZ,l_spr_back_repaint_00108
2428  09E1  79          	ld	a, c
2429  09E2  B7          	or	a, a
2430  09E3  20 1D       	jr	NZ,l_spr_back_repaint_00102
2431  09E5  2A 00 00    	ld	hl,(_sprite_curr_index)
2432  09E8  26 00       	ld	h,0x00
2433  09EA  01 00 00    	ld	bc,_scr_map
2434  09ED  09          	add	hl,bc
2435  09EE  46          	ld	b,(hl)
2436  09EF  3A 00 00    	ld	a,(_s_col0)
2437  09F2  F5          	push	af
2438  09F3  33          	inc	sp
2439  09F4  3A 00 00    	ld	a,(_s_lin0)
2440  09F7  48          	ld	c,b
2441  09F8  47          	ld	b,a
2442  09F9  C5          	push	bc
2443  09FA  CD 0B 0B    	call	_spr_tile_paint
2444  09FD  F1          	pop	af
2445  09FE  33          	inc	sp
2446  09FF  C3 09 0B    	jp	l_spr_back_repaint_00109
2447  0A02              l_spr_back_repaint_00102:
2448  0A02  78          	ld	a, b
2449  0A03  07          	rlca
2450  0A04  07          	rlca
2451  0A05  07          	rlca
2452  0A06  07          	rlca
2453  0A07  E6 F0       	and	a,0xf0
2454  0A09  47          	ld	b, a
2455  0A0A  2A 00 00    	ld	hl,(_sprite_curr_index)
2456  0A0D  26 00       	ld	h,0x00
2457  0A0F  11 00 00    	ld	de,_scr_map
2458  0A12  19          	add	hl,de
2459  0A13  56          	ld	d, (hl)
2460  0A14  3A 00 00    	ld	a,(_s_col0)
2461  0A17  C5          	push	bc
2462  0A18  F5          	push	af
2463  0A19  33          	inc	sp
2464  0A1A  4A          	ld	c, d
2465  0A1B  C5          	push	bc
2466  0A1C  CD 0B 0B    	call	_spr_tile_paint
2467  0A1F  F1          	pop	af
2468  0A20  33          	inc	sp
2469  0A21  C1          	pop	bc
2470  0A22  78          	ld	a, b
2471  0A23  C6 10       	add	a,0x10
2472  0A25  57          	ld	d, a
2473  0A26  21 00 00    	ld	hl,_sprite_curr_index
2474  0A29  7E          	ld	a, (hl)
2475  0A2A  C6 10       	add	a,0x10
2476  0A2C  77          	ld	(hl), a
2477  0A2D  C6 00       	add	a,+((_scr_map) & 0xFF)
2478  0A2F  4F          	ld	c, a
2479  0A30  3E 00       	ld	a, +((_scr_map) / 256)
2480  0A32  CE 00       	adc	a,0x00
2481  0A34  47          	ld	b, a
2482  0A35  0A          	ld	a, (bc)
2483  0A36  47          	ld	b, a
2484  0A37  3A 00 00    	ld	a,(_s_col0)
2485  0A3A  5A          	ld	e,d
2486  0A3B  57          	ld	d,a
2487  0A3C  D5          	push	de
2488  0A3D  C5          	push	bc
2489  0A3E  33          	inc	sp
2490  0A3F  CD 0B 0B    	call	_spr_tile_paint
2491  0A42  F1          	pop	af
2492  0A43  33          	inc	sp
2493  0A44  C3 09 0B    	jp	l_spr_back_repaint_00109
2494  0A47              l_spr_back_repaint_00108:
2495  0A47  21 00 00    	ld	hl,_s_col0
2496  0A4A  56          	ld	d, (hl)
2497  0A4B  15          	dec	d
2498  0A4C  79          	ld	a, c
2499  0A4D  B7          	or	a, a
2500  0A4E  20 3A       	jr	NZ,l_spr_back_repaint_00105
2501  0A50  2A 00 00    	ld	hl,(_sprite_curr_index)
2502  0A53  26 00       	ld	h,0x00
2503  0A55  01 00 00    	ld	bc,_scr_map
2504  0A58  09          	add	hl,bc
2505  0A59  46          	ld	b,(hl)
2506  0A5A  D5          	push	de
2507  0A5B  33          	inc	sp
2508  0A5C  3A 00 00    	ld	a,(_s_lin0)
2509  0A5F  48          	ld	c,b
2510  0A60  47          	ld	b,a
2511  0A61  C5          	push	bc
2512  0A62  CD 0B 0B    	call	_spr_tile_paint
2513  0A65  F1          	pop	af
2514  0A66  33          	inc	sp
2515  0A67  21 00 00    	ld	hl,_sprite_curr_index
2516  0A6A  34          	inc	(hl)
2517  0A6B  21 00 00    	ld	hl,_s_col0
2518  0A6E  46          	ld	b, (hl)
2519  0A6F  04          	inc	b
2520  0A70  2A 00 00    	ld	hl,(_sprite_curr_index)
2521  0A73  26 00       	ld	h,0x00
2522  0A75  11 00 00    	ld	de,_scr_map
2523  0A78  19          	add	hl,de
2524  0A79  56          	ld	d, (hl)
2525  0A7A  C5          	push	bc
2526  0A7B  33          	inc	sp
2527  0A7C  3A 00 00    	ld	a,(_s_lin0)
2528  0A7F  5A          	ld	e,d
2529  0A80  57          	ld	d,a
2530  0A81  D5          	push	de
2531  0A82  CD 0B 0B    	call	_spr_tile_paint
2532  0A85  F1          	pop	af
2533  0A86  33          	inc	sp
2534  0A87  C3 09 0B    	jp	l_spr_back_repaint_00109
2535  0A8A              l_spr_back_repaint_00105:
2536  0A8A  78          	ld	a, b
2537  0A8B  07          	rlca
2538  0A8C  07          	rlca
2539  0A8D  07          	rlca
2540  0A8E  07          	rlca
2541  0A8F  E6 F0       	and	a,0xf0
2542  0A91  47          	ld	b, a
2543  0A92  3A 00 00    	ld	a,(_sprite_curr_index)
2544  0A95  C6 00       	add	a,+((_scr_map) & 0xFF)
2545  0A97  4F          	ld	c,a
2546  0A98  3E 00       	ld	a,+((_scr_map) / 256)
2547  0A9A  CE 00       	adc	a,0x00
2548  0A9C  67          	ld	h, a
2549  0A9D  69          	ld	l, c
2550  0A9E  7E          	ld	a, (hl)
2551  0A9F  C5          	push	bc
2552  0AA0  58          	ld	e,b
2553  0AA1  D5          	push	de
2554  0AA2  F5          	push	af
2555  0AA3  33          	inc	sp
2556  0AA4  CD 0B 0B    	call	_spr_tile_paint
2557  0AA7  F1          	pop	af
2558  0AA8  33          	inc	sp
2559  0AA9  C1          	pop	bc
2560  0AAA  21 00 00    	ld	hl,_sprite_curr_index
2561  0AAD  34          	inc	(hl)
2562  0AAE  21 00 00    	ld	hl,_s_col0
2563  0AB1  4E          	ld	c, (hl)
2564  0AB2  0C          	inc	c
2565  0AB3  2A 00 00    	ld	hl,(_sprite_curr_index)
2566  0AB6  26 00       	ld	h,0x00
2567  0AB8  11 00 00    	ld	de,_scr_map
2568  0ABB  19          	add	hl,de
2569  0ABC  56          	ld	d, (hl)
2570  0ABD  C5          	push	bc
2571  0ABE  79          	ld	a, c
2572  0ABF  F5          	push	af
2573  0AC0  33          	inc	sp
2574  0AC1  4A          	ld	c, d
2575  0AC2  C5          	push	bc
2576  0AC3  CD 0B 0B    	call	_spr_tile_paint
2577  0AC6  F1          	pop	af
2578  0AC7  33          	inc	sp
2579  0AC8  C1          	pop	bc
2580  0AC9  78          	ld	a, b
2581  0ACA  C6 10       	add	a,0x10
2582  0ACC  4F          	ld	c, a
2583  0ACD  21 00 00    	ld	hl,_sprite_curr_index
2584  0AD0  7E          	ld	a, (hl)
2585  0AD1  C6 0F       	add	a,0x0f
2586  0AD3  77          	ld	(hl), a
2587  0AD4  21 00 00    	ld	hl,_s_col0
2588  0AD7  46          	ld	b, (hl)
2589  0AD8  05          	dec	b
2590  0AD9  2A 00 00    	ld	hl,(_sprite_curr_index)
2591  0ADC  26 00       	ld	h,0x00
2592  0ADE  11 00 00    	ld	de,_scr_map
2593  0AE1  19          	add	hl,de
2594  0AE2  66          	ld	h, (hl)
2595  0AE3  EB          	ex	de,hl
2596  0AE4  C5          	push	bc
2597  0AE5  C5          	push	bc
2598  0AE6  D5          	push	de
2599  0AE7  33          	inc	sp
2600  0AE8  CD 0B 0B    	call	_spr_tile_paint
2601  0AEB  F1          	pop	af
2602  0AEC  33          	inc	sp
2603  0AED  C1          	pop	bc
2604  0AEE  21 00 00    	ld	hl,_sprite_curr_index
2605  0AF1  34          	inc	(hl)
2606  0AF2  21 00 00    	ld	hl,_s_col0
2607  0AF5  46          	ld	b, (hl)
2608  0AF6  04          	inc	b
2609  0AF7  2A 00 00    	ld	hl,(_sprite_curr_index)
2610  0AFA  26 00       	ld	h,0x00
2611  0AFC  11 00 00    	ld	de,_scr_map
2612  0AFF  19          	add	hl,de
2613  0B00  66          	ld	h, (hl)
2614  0B01  C5          	push	bc
2615  0B02  E5          	push	hl
2616  0B03  33          	inc	sp
2617  0B04  CD 0B 0B    	call	_spr_tile_paint
2618  0B07  F1          	pop	af
2619  0B08  33          	inc	sp
2620  0B09              l_spr_back_repaint_00109:
2621  0B09  FB          	ei
2622  0B0A  C9          	ret
2623  0B0B              	SECTION code_compiler
2624  0B0B              ;	---------------------------------
2625  0B0B              ; Function spr_tile_paint
2626  0B0B              ; ---------------------------------
2627  0B0B              _spr_tile_paint:
2628  0B0B  CD 00 00    	call	___sdcc_enter_ix
2629  0B0E  DD 7E 04    	ld	a,(ix+4)
2630  0B11  B7          	or	a, a
2631  0B12  28 05       	jr	Z,l_spr_tile_paint_00101
2632  0B14  3C          	inc	a
2633  0B15  28 21       	jr	Z,l_spr_tile_paint_00105
2634  0B17  18 10       	jr	l_spr_tile_paint_00103
2635  0B19              l_spr_tile_paint_00101:
2636  0B19  DD 7E 06    	ld	a,(ix+6)
2637  0B1C  F5          	push	af
2638  0B1D  33          	inc	sp
2639  0B1E  DD 56 05    	ld	d,(ix+5)
2640  0B21  1E 49       	ld	e,0x49
2641  0B23  D5          	push	de
2642  0B24  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2643  0B27  18 0F       	jr	l_spr_tile_paint_00105
2644  0B29              l_spr_tile_paint_00103:
2645  0B29  DD 66 06    	ld	h,(ix+6)
2646  0B2C  DD 6E 05    	ld	l,(ix+5)
2647  0B2F  E5          	push	hl
2648  0B30  DD 7E 04    	ld	a,(ix+4)
2649  0B33  F5          	push	af
2650  0B34  33          	inc	sp
2651  0B35  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2652  0B38              l_spr_tile_paint_00105:
2653  0B38  DD E1       	pop	ix
2654  0B3A  C9          	ret
2655  0B3B              	SECTION code_compiler
2656  0B3B              ;	---------------------------------
2657  0B3B              ; Function spr_init_anim_bullets
2658  0B3B              ; ---------------------------------
2659  0B3B              _spr_init_anim_bullets:
2660  0B3B  01 00 00    	ld	bc,_anim_lin+0
2661  0B3E  1E 00       	ld	e,0x00
2662  0B40              l_spr_init_anim_bullets_00102:
2663  0B40  6B          	ld	l,e
2664  0B41  26 00       	ld	h,0x00
2665  0B43  09          	add	hl, bc
2666  0B44  36 FF       	ld	(hl),0xff
2667  0B46  16 00       	ld	d,0x00
2668  0B48  21 00 00    	ld	hl,_bullet_col
2669  0B4B  19          	add	hl, de
2670  0B4C  36 FF       	ld	(hl),0xff
2671  0B4E  1C          	inc	e
2672  0B4F  7B          	ld	a, e
2673  0B50  D6 08       	sub	a,0x08
2674  0B52  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2675  0B54  21 00 00    	ld	hl,_bullet_count
2676  0B57  36 00       	ld	(hl),0x00
2677  0B59  21 00 00    	ld	hl,_anim_count
2678  0B5C  36 00       	ld	(hl),0x00
2679  0B5E  C9          	ret
2680  0B5F              	SECTION code_compiler
2681  0B5F              ;	---------------------------------
2682  0B5F              ; Function spr_add_anim
2683  0B5F              ; ---------------------------------
2684  0B5F              _spr_add_anim:
2685  0B5F  CD 00 00    	call	___sdcc_enter_ix
2686  0B62  F5          	push	af
2687  0B63  F5          	push	af
2688  0B64  0E 00       	ld	c,0x00
2689  0B66  51          	ld	d,c
2690  0B67              l_spr_add_anim_00106:
2691  0B67  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2692  0B69  82          	add	a, d
2693  0B6A  DD 77 FC    	ld	(ix-4),a
2694  0B6D  3E 00       	ld	a, +((_anim_lin) / 256)
2695  0B6F  CE 00       	adc	a,0x00
2696  0B71  DD 77 FD    	ld	(ix-3),a
2697  0B74  E1          	pop	hl
2698  0B75  46          	ld	b,(hl)
2699  0B76  E5          	push	hl
2700  0B77  04          	inc	b
2701  0B78  20 6B       	jr	NZ,l_spr_add_anim_00107
2702  0B7A  21 00 00    	ld	hl,_anim_count
2703  0B7D  34          	inc	(hl)
2704  0B7E  E1          	pop	hl
2705  0B7F  E5          	push	hl
2706  0B80  DD 7E 04    	ld	a,(ix+4)
2707  0B83  77          	ld	(hl), a
2708  0B84  3E 00       	ld	a, +((_anim_col) & 0xFF)
2709  0B86  81          	add	a, c
2710  0B87  5F          	ld	e, a
2711  0B88  3E 00       	ld	a, +((_anim_col) / 256)
2712  0B8A  CE 00       	adc	a,0x00
2713  0B8C  57          	ld	d, a
2714  0B8D  DD 7E 05    	ld	a,(ix+5)
2715  0B90  12          	ld	(de), a
2716  0B91  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2717  0B93  81          	add	a, c
2718  0B94  DD 77 FE    	ld	(ix-2),a
2719  0B97  6F          	ld	l,a
2720  0B98  3E 00       	ld	a,+((_anim_tile) / 256)
2721  0B9A  CE 00       	adc	a,0x00
2722  0B9C  DD 77 FF    	ld	(ix-1),a
2723  0B9F  67          	ld	h,a
2724  0BA0  DD 7E 06    	ld	a,(ix+6)
2725  0BA3  77          	ld	(hl), a
2726  0BA4  06 00       	ld	b,0x00
2727  0BA6  21 00 00    	ld	hl,_anim_int
2728  0BA9  09          	add	hl, bc
2729  0BAA  06 00       	ld	b,0x00
2730  0BAC  70          	ld	(hl),b
2731  0BAD  21 00 00    	ld	hl,_anim_end
2732  0BB0  09          	add	hl,bc
2733  0BB1  DD 7E 07    	ld	a,(ix+7)
2734  0BB4  77          	ld	(hl),a
2735  0BB5  4D          	ld	c,l
2736  0BB6  F3          	di
2737  0BB7  E1          	pop	hl
2738  0BB8  1A          	ld	a,(de)
2739  0BB9  56          	ld	d,(hl)
2740  0BBA  E5          	push	hl
2741  0BBB  DD 6E FE    	ld	l,(ix-2)
2742  0BBE  DD 66 FF    	ld	h,(ix-1)
2743  0BC1  46          	ld	b, (hl)
2744  0BC2  5A          	ld	e,d
2745  0BC3  57          	ld	d,a
2746  0BC4  D5          	push	de
2747  0BC5  C5          	push	bc
2748  0BC6  33          	inc	sp
2749  0BC7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2750  0BCA  FB          	ei
2751  0BCB  DD 66 05    	ld	h,(ix+5)
2752  0BCE  DD 6E 04    	ld	l,(ix+4)
2753  0BD1  E5          	push	hl
2754  0BD2  CD 00 00    	call	_spr_calc_index
2755  0BD5  F1          	pop	af
2756  0BD6  22 00 00    	ld	(_index0),hl
2757  0BD9  01 00 00    	ld	bc,_scr_map
2758  0BDC  09          	add	hl,bc
2759  0BDD  7E          	ld	a,(hl)
2760  0BDE  B7          	or	a,a
2761  0BDF  20 0C       	jr	NZ,l_spr_add_anim_00108
2762  0BE1  36 FF       	ld	(hl),0xff
2763  0BE3  18 08       	jr	l_spr_add_anim_00108
2764  0BE5              l_spr_add_anim_00107:
2765  0BE5  14          	inc	d
2766  0BE6  7A          	ld	a,d
2767  0BE7  4F          	ld	c,a
2768  0BE8  D6 08       	sub	a,0x08
2769  0BEA  DA 67 0B    	jp	C, l_spr_add_anim_00106
2770  0BED              l_spr_add_anim_00108:
2771  0BED  DD F9       	ld	sp, ix
2772  0BEF  DD E1       	pop	ix
2773  0BF1  C9          	ret
2774  0BF2              	SECTION code_compiler
2775  0BF2              ;	---------------------------------
2776  0BF2              ; Function spr_play_anim
2777  0BF2              ; ---------------------------------
2778  0BF2              _spr_play_anim:
2779  0BF2  CD 00 00    	call	___sdcc_enter_ix
2780  0BF5  F5          	push	af
2781  0BF6  F5          	push	af
2782  0BF7  0E 00       	ld	c,0x00
2783  0BF9              l_spr_play_anim_00109:
2784  0BF9  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2785  0BFB  81          	add	a, c
2786  0BFC  DD 77 FE    	ld	(ix-2),a
2787  0BFF  6F          	ld	l,a
2788  0C00  3E 00       	ld	a,+((_anim_lin) / 256)
2789  0C02  CE 00       	adc	a,0x00
2790  0C04  DD 77 FF    	ld	(ix-1),a
2791  0C07  67          	ld	h,a
2792  0C08  7E          	ld	a,(hl)
2793  0C09  5F          	ld	e,a
2794  0C0A  3C          	inc	a
2795  0C0B  CA B3 0C    	jp	Z,l_spr_play_anim_00110
2796  0C0E  3E 00       	ld	a, +((_anim_int) & 0xFF)
2797  0C10  81          	add	a, c
2798  0C11  DD 77 FC    	ld	(ix-4),a
2799  0C14  3E 00       	ld	a, +((_anim_int) / 256)
2800  0C16  CE 00       	adc	a,0x00
2801  0C18  DD 77 FD    	ld	(ix-3),a
2802  0C1B  E1          	pop	hl
2803  0C1C  56          	ld	d,(hl)
2804  0C1D  E5          	push	hl
2805  0C1E  06 00       	ld	b,0x00
2806  0C20  21 00 00    	ld	hl,_anim_end
2807  0C23  09          	add	hl, bc
2808  0C24  46          	ld	b, (hl)
2809  0C25  7A          	ld	a, d
2810  0C26  90          	sub	a, b
2811  0C27  30 2F       	jr	NC,l_spr_play_anim_00104
2812  0C29  F3          	di
2813  0C2A  06 00       	ld	b,0x00
2814  0C2C  21 00 00    	ld	hl,_anim_col
2815  0C2F  09          	add	hl, bc
2816  0C30  5E          	ld	e, (hl)
2817  0C31  DD 6E FE    	ld	l,(ix-2)
2818  0C34  DD 66 FF    	ld	h,(ix-1)
2819  0C37  56          	ld	d, (hl)
2820  0C38  06 00       	ld	b,0x00
2821  0C3A  21 00 00    	ld	hl,_anim_tile
2822  0C3D  09          	add	hl, bc
2823  0C3E  46          	ld	b, (hl)
2824  0C3F  E1          	pop	hl
2825  0C40  E5          	push	hl
2826  0C41  6E          	ld	l, (hl)
2827  0C42  78          	ld	a, b
2828  0C43  85          	add	a, l
2829  0C44  47          	ld	b, a
2830  0C45  C5          	push	bc
2831  0C46  7B          	ld	a, e
2832  0C47  5A          	ld	e,d
2833  0C48  57          	ld	d,a
2834  0C49  D5          	push	de
2835  0C4A  C5          	push	bc
2836  0C4B  33          	inc	sp
2837  0C4C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2838  0C4F  C1          	pop	bc
2839  0C50  FB          	ei
2840  0C51  E1          	pop	hl
2841  0C52  46          	ld	b,(hl)
2842  0C53  04          	inc	b
2843  0C54  E5          	push	hl
2844  0C55  70          	ld	(hl), b
2845  0C56  18 5B       	jr	l_spr_play_anim_00110
2846  0C58              l_spr_play_anim_00104:
2847  0C58  21 00 00    	ld	hl,_anim_count
2848  0C5B  35          	dec	(hl)
2849  0C5C  06 00       	ld	b,0x00
2850  0C5E  21 00 00    	ld	hl,_anim_col
2851  0C61  09          	add	hl, bc
2852  0C62  7E          	ld	a, (hl)
2853  0C63  32 00 00    	ld	(_s_col0),a
2854  0C66  21 00 00    	ld	hl,_s_lin0
2855  0C69  73          	ld	(hl), e
2856  0C6A  3A 00 00    	ld	a,(_s_col0)
2857  0C6D  C5          	push	bc
2858  0C6E  F5          	push	af
2859  0C6F  33          	inc	sp
2860  0C70  3A 00 00    	ld	a,(_s_lin0)
2861  0C73  F5          	push	af
2862  0C74  33          	inc	sp
2863  0C75  CD 00 00    	call	_spr_calc_index
2864  0C78  F1          	pop	af
2865  0C79  2A FF FF    	ld	hl,(_s_col0 - 1)
2866  0C7C  3A 00 00    	ld	a,(_s_lin0)
2867  0C7F  6F          	ld	l,a
2868  0C80  E5          	push	hl
2869  0C81  CD 00 00    	call	_spr_calc_index
2870  0C84  F1          	pop	af
2871  0C85  EB          	ex	de,hl
2872  0C86  C1          	pop	bc
2873  0C87  21 00 00    	ld	hl,_scr_map
2874  0C8A  19          	add	hl, de
2875  0C8B  46          	ld	b, (hl)
2876  0C8C  04          	inc	b
2877  0C8D  20 17       	jr	NZ,l_spr_play_anim_00102
2878  0C8F  3A 00 00    	ld	a,(_s_col0)
2879  0C92  C5          	push	bc
2880  0C93  F5          	push	af
2881  0C94  33          	inc	sp
2882  0C95  3A 00 00    	ld	a,(_s_lin0)
2883  0C98  F5          	push	af
2884  0C99  33          	inc	sp
2885  0C9A  CD 00 00    	call	_spr_calc_index
2886  0C9D  F1          	pop	af
2887  0C9E  EB          	ex	de,hl
2888  0C9F  C1          	pop	bc
2889  0CA0  21 00 00    	ld	hl,_scr_map
2890  0CA3  19          	add	hl, de
2891  0CA4  36 00       	ld	(hl),0x00
2892  0CA6              l_spr_play_anim_00102:
2893  0CA6  C5          	push	bc
2894  0CA7  CD B9 09    	call	_spr_back_repaint
2895  0CAA  C1          	pop	bc
2896  0CAB  DD 6E FE    	ld	l,(ix-2)
2897  0CAE  DD 66 FF    	ld	h,(ix-1)
2898  0CB1  36 FF       	ld	(hl),0xff
2899  0CB3              l_spr_play_anim_00110:
2900  0CB3  0C          	inc	c
2901  0CB4  79          	ld	a, c
2902  0CB5  D6 08       	sub	a,0x08
2903  0CB7  DA F9 0B    	jp	C, l_spr_play_anim_00109
2904  0CBA  DD F9       	ld	sp, ix
2905  0CBC  DD E1       	pop	ix
2906  0CBE  C9          	ret
2907  0CBF              	SECTION code_compiler
2908  0CBF              ;	---------------------------------
2909  0CBF              ; Function spr_play_bullets
2910  0CBF              ; ---------------------------------
2911  0CBF              _spr_play_bullets:
2912  0CBF  CD 00 00    	call	___sdcc_enter_ix
2913  0CC2  F5          	push	af
2914  0CC3  F5          	push	af
2915  0CC4  3B          	dec	sp
2916  0CC5  0E 00       	ld	c,0x00
2917  0CC7              l_spr_play_bullets_00131:
2918  0CC7  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2919  0CC9  81          	add	a, c
2920  0CCA  DD 77 FE    	ld	(ix-2),a
2921  0CCD  6F          	ld	l,a
2922  0CCE  3E 00       	ld	a,+((_bullet_col) / 256)
2923  0CD0  CE 00       	adc	a,0x00
2924  0CD2  DD 77 FF    	ld	(ix-1),a
2925  0CD5  67          	ld	h,a
2926  0CD6  7E          	ld	a, (hl)
2927  0CD7  DD 77 FD    	ld	(ix-3),a
2928  0CDA  3C          	inc	a
2929  0CDB  CA 92 0E    	jp	Z,l_spr_play_bullets_00132
2930  0CDE  06 00       	ld	b,0x00
2931  0CE0  21 00 00    	ld	hl,_bullet_lin
2932  0CE3  09          	add	hl, bc
2933  0CE4  7E          	ld	a, (hl)
2934  0CE5  32 00 00    	ld	(_s_lin0),a
2935  0CE8  DD 7E FD    	ld	a,(ix-3)
2936  0CEB  32 00 00    	ld	(_s_col0),a
2937  0CEE  32 00 00    	ld	(_s_col1),a
2938  0CF1  C5          	push	bc
2939  0CF2  CD B9 09    	call	_spr_back_repaint
2940  0CF5  C1          	pop	bc
2941  0CF6  06 00       	ld	b,0x00
2942  0CF8  21 00 00    	ld	hl,_bullet_dir
2943  0CFB  09          	add	hl, bc
2944  0CFC  46          	ld	b, (hl)
2945  0CFD  04          	inc	b
2946  0CFE  20 3E       	jr	NZ,l_spr_play_bullets_00110
2947  0D00  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2948  0D02  81          	add	a, c
2949  0D03  5F          	ld	e, a
2950  0D04  3E 00       	ld	a, +((_bullet_colint) / 256)
2951  0D06  CE 00       	adc	a,0x00
2952  0D08  57          	ld	d, a
2953  0D09  1A          	ld	a, (de)
2954  0D0A  3C          	inc	a
2955  0D0B  47          	ld	b,a
2956  0D0C  12          	ld	(de), a
2957  0D0D  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2958  0D0F  81          	add	a, c
2959  0D10  6F          	ld	l, a
2960  0D11  3E 00       	ld	a, +((_bullet_frames) / 256)
2961  0D13  CE 00       	adc	a,0x00
2962  0D15  67          	ld	h, a
2963  0D16  6E          	ld	l, (hl)
2964  0D17  78          	ld	a, b
2965  0D18  95          	sub	a, l
2966  0D19  38 0B       	jr	C,l_spr_play_bullets_00102
2967  0D1B  DD 6E FE    	ld	l,(ix-2)
2968  0D1E  DD 66 FF    	ld	h,(ix-1)
2969  0D21  46          	ld	b,(hl)
2970  0D22  04          	inc	b
2971  0D23  70          	ld	(hl), b
2972  0D24  AF          	xor	a, a
2973  0D25  12          	ld	(de), a
2974  0D26              l_spr_play_bullets_00102:
2975  0D26  DD 6E FE    	ld	l,(ix-2)
2976  0D29  DD 66 FF    	ld	h,(ix-1)
2977  0D2C  46          	ld	b, (hl)
2978  0D2D  CB 40       	bit	0, b
2979  0D2F  28 46       	jr	Z,l_spr_play_bullets_00111
2980  0D31  78          	ld	a, b
2981  0D32  3C          	inc	a
2982  0D33  32 00 00    	ld	(_s_col1),a
2983  0D36  78          	ld	a, b
2984  0D37  C6 FF       	add	a,0xff
2985  0D39  32 00 00    	ld	(_tmp),a
2986  0D3C  18 39       	jr	l_spr_play_bullets_00111
2987  0D3E              l_spr_play_bullets_00110:
2988  0D3E  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2989  0D40  81          	add	a, c
2990  0D41  5F          	ld	e, a
2991  0D42  3E 00       	ld	a, +((_bullet_colint) / 256)
2992  0D44  CE 00       	adc	a,0x00
2993  0D46  57          	ld	d, a
2994  0D47  1A          	ld	a, (de)
2995  0D48  C6 FF       	add	a,0xff
2996  0D4A  12          	ld	(de), a
2997  0D4B  3C          	inc	a
2998  0D4C  20 13       	jr	NZ,l_spr_play_bullets_00106
2999  0D4E  DD 6E FE    	ld	l,(ix-2)
3000  0D51  DD 66 FF    	ld	h,(ix-1)
3001  0D54  46          	ld	b,(hl)
3002  0D55  05          	dec	b
3003  0D56  70          	ld	(hl), b
3004  0D57  06 00       	ld	b,0x00
3005  0D59  21 00 00    	ld	hl,_bullet_frames
3006  0D5C  09          	add	hl, bc
3007  0D5D  46          	ld	b, (hl)
3008  0D5E  05          	dec	b
3009  0D5F  78          	ld	a, b
3010  0D60  12          	ld	(de), a
3011  0D61              l_spr_play_bullets_00106:
3012  0D61  DD 6E FE    	ld	l,(ix-2)
3013  0D64  DD 66 FF    	ld	h,(ix-1)
3014  0D67  46          	ld	b, (hl)
3015  0D68  CB 40       	bit	0, b
3016  0D6A  28 0B       	jr	Z,l_spr_play_bullets_00111
3017  0D6C  78          	ld	a, b
3018  0D6D  C6 FF       	add	a,0xff
3019  0D6F  32 00 00    	ld	(_s_col1),a
3020  0D72  78          	ld	a, b
3021  0D73  3C          	inc	a
3022  0D74  32 00 00    	ld	(_tmp),a
3023  0D77              l_spr_play_bullets_00111:
3024  0D77  DD 7E FE    	ld	a,(ix-2)
3025  0D7A  DD 77 FB    	ld	(ix-5),a
3026  0D7D  DD 7E FF    	ld	a,(ix-1)
3027  0D80  DD 77 FC    	ld	(ix-4),a
3028  0D83  78          	ld	a,b
3029  0D84  B7          	or	a, a
3030  0D85  CA 86 0E    	jp	Z,l_spr_play_bullets_00123
3031  0D88  D6 1E       	sub	a,0x1e
3032  0D8A  D2 86 0E    	jp	NC, l_spr_play_bullets_00123
3033  0D8D  3A 00 00    	ld	a,(_s_col1)
3034  0D90  C5          	push	bc
3035  0D91  F5          	push	af
3036  0D92  33          	inc	sp
3037  0D93  3A 00 00    	ld	a,(_s_lin0)
3038  0D96  F5          	push	af
3039  0D97  33          	inc	sp
3040  0D98  CD 00 00    	call	_spr_calc_index
3041  0D9B  F1          	pop	af
3042  0D9C  EB          	ex	de,hl
3043  0D9D  C1          	pop	bc
3044  0D9E  ED 53 00 00 	ld	(_index0),de
3045  0DA2  21 00 00    	ld	hl,_tmp0
3046  0DA5  36 00       	ld	(hl),0x00
3047  0DA7              l_spr_play_bullets_00129:
3048  0DA7  2A 00 00    	ld	hl,(_tmp0)
3049  0DAA  26 00       	ld	h,0x00
3050  0DAC  11 00 00    	ld	de,_class
3051  0DAF  19          	add	hl,de
3052  0DB0  7E          	ld	a,(hl)
3053  0DB1  B7          	or	a,a
3054  0DB2  28 6F       	jr	Z,l_spr_play_bullets_00130
3055  0DB4  2A 00 00    	ld	hl,(_tmp0)
3056  0DB7  26 00       	ld	h,0x00
3057  0DB9  11 00 00    	ld	de,_col
3058  0DBC  19          	add	hl,de
3059  0DBD  46          	ld	b, (hl)
3060  0DBE  3A 00 00    	ld	a,(_tmp0)
3061  0DC1  5F          	ld	e,a
3062  0DC2  16 00       	ld	d,0x00
3063  0DC4  21 00 00    	ld	hl,_lin
3064  0DC7  19          	add	hl,de
3065  0DC8  56          	ld	d, (hl)
3066  0DC9  C5          	push	bc
3067  0DCA  4A          	ld	c, d
3068  0DCB  C5          	push	bc
3069  0DCC  CD 00 00    	call	_spr_calc_index
3070  0DCF  F1          	pop	af
3071  0DD0  EB          	ex	de,hl
3072  0DD1  C1          	pop	bc
3073  0DD2  ED 53 00 00 	ld	(_index1),de
3074  0DD6  3A 00 00    	ld	a,(_index0)
3075  0DD9  21 00 00    	ld	hl,_index1
3076  0DDC  96          	sub	a, (hl)
3077  0DDD  20 44       	jr	NZ,l_spr_play_bullets_00130
3078  0DDF  3A 01 00    	ld	a,(_index0 + 1)
3079  0DE2  23          	inc	hl
3080  0DE3  96          	sub	a, (hl)
3081  0DE4  20 3D       	jr	NZ,l_spr_play_bullets_00130
3082  0DE6  2A 00 00    	ld	hl,(_tmp0)
3083  0DE9  26 00       	ld	h,0x00
3084  0DEB  11 00 00    	ld	de,_lin
3085  0DEE  19          	add	hl,de
3086  0DEF  7E          	ld	a,(hl)
3087  0DF0  32 00 00    	ld	(_s_lin0),a
3088  0DF3  2A 00 00    	ld	hl,(_tmp0)
3089  0DF6  26 00       	ld	h,0x00
3090  0DF8  11 00 00    	ld	de,_col
3091  0DFB  19          	add	hl,de
3092  0DFC  7E          	ld	a,(hl)
3093  0DFD  32 00 00    	ld	(_s_col0),a
3094  0E00  2A 00 00    	ld	hl,(_tmp0)
3095  0E03  C5          	push	bc
3096  0E04  CD A0 06    	call	_spr_destroy
3097  0E07  C1          	pop	bc
3098  0E08  E1          	pop	hl
3099  0E09  E5          	push	hl
3100  0E0A  36 FF       	ld	(hl),0xff
3101  0E0C  3A 00 00    	ld	a,(_s_col0)
3102  0E0F  C5          	push	bc
3103  0E10  21 7B 03    	ld	hl,0x037b
3104  0E13  E5          	push	hl
3105  0E14  F5          	push	af
3106  0E15  33          	inc	sp
3107  0E16  3A 00 00    	ld	a,(_s_lin0)
3108  0E19  F5          	push	af
3109  0E1A  33          	inc	sp
3110  0E1B  CD 5F 0B    	call	_spr_add_anim
3111  0E1E  F1          	pop	af
3112  0E1F  F1          	pop	af
3113  0E20  C1          	pop	bc
3114  0E21  18 0B       	jr	l_spr_play_bullets_00116
3115  0E23              l_spr_play_bullets_00130:
3116  0E23  21 00 00    	ld	hl,_tmp0
3117  0E26  7E          	ld	a,(hl)
3118  0E27  3C          	inc	a
3119  0E28  77          	ld	(hl),a
3120  0E29  D6 07       	sub	a,0x07
3121  0E2B  DA A7 0D    	jp	C, l_spr_play_bullets_00129
3122  0E2E              l_spr_play_bullets_00116:
3123  0E2E  E1          	pop	hl
3124  0E2F  7E          	ld	a,(hl)
3125  0E30  E5          	push	hl
3126  0E31  57          	ld	d,a
3127  0E32  3C          	inc	a
3128  0E33  28 5D       	jr	Z,l_spr_play_bullets_00132
3129  0E35  3E 00       	ld	a, +((_scr_map) & 0xFF)
3130  0E37  21 00 00    	ld	hl,_index0
3131  0E3A  86          	add	a, (hl)
3132  0E3B  47          	ld	b, a
3133  0E3C  3E 00       	ld	a, +((_scr_map) / 256)
3134  0E3E  23          	inc	hl
3135  0E3F  8E          	adc	a, (hl)
3136  0E40  67          	ld	h, a
3137  0E41  68          	ld	l, b
3138  0E42  7E          	ld	a, (hl)
3139  0E43  D6 3C       	sub	a,0x3c
3140  0E45  30 20       	jr	NC,l_spr_play_bullets_00118
3141  0E47  06 00       	ld	b,0x00
3142  0E49  21 00 00    	ld	hl,_bullet_tile
3143  0E4C  09          	add	hl, bc
3144  0E4D  5E          	ld	e, (hl)
3145  0E4E  06 00       	ld	b,0x00
3146  0E50  21 00 00    	ld	hl,_bullet_colint
3147  0E53  09          	add	hl, bc
3148  0E54  46          	ld	b, (hl)
3149  0E55  7B          	ld	a, e
3150  0E56  80          	add	a, b
3151  0E57  47          	ld	b, a
3152  0E58  C5          	push	bc
3153  0E59  D5          	push	de
3154  0E5A  33          	inc	sp
3155  0E5B  3A 00 00    	ld	a,(_s_lin0)
3156  0E5E  48          	ld	c,b
3157  0E5F  47          	ld	b,a
3158  0E60  C5          	push	bc
3159  0E61  CD 00 00    	call	_NIRVANAP_drawT_callee
3160  0E64  C1          	pop	bc
3161  0E65  18 2B       	jr	l_spr_play_bullets_00132
3162  0E67              l_spr_play_bullets_00118:
3163  0E67  3A 00 00    	ld	a,(_tmp)
3164  0E6A  C5          	push	bc
3165  0E6B  21 7B 03    	ld	hl,0x037b
3166  0E6E  E5          	push	hl
3167  0E6F  F5          	push	af
3168  0E70  33          	inc	sp
3169  0E71  3A 00 00    	ld	a,(_s_lin0)
3170  0E74  F5          	push	af
3171  0E75  33          	inc	sp
3172  0E76  CD 5F 0B    	call	_spr_add_anim
3173  0E79  F1          	pop	af
3174  0E7A  F1          	pop	af
3175  0E7B  C1          	pop	bc
3176  0E7C  21 00 00    	ld	hl,_bullet_count
3177  0E7F  35          	dec	(hl)
3178  0E80  E1          	pop	hl
3179  0E81  E5          	push	hl
3180  0E82  36 FF       	ld	(hl),0xff
3181  0E84  18 0C       	jr	l_spr_play_bullets_00132
3182  0E86              l_spr_play_bullets_00123:
3183  0E86  21 00 00    	ld	hl,_bullet_count
3184  0E89  35          	dec	(hl)
3185  0E8A  DD 6E FE    	ld	l,(ix-2)
3186  0E8D  DD 66 FF    	ld	h,(ix-1)
3187  0E90  36 FF       	ld	(hl),0xff
3188  0E92              l_spr_play_bullets_00132:
3189  0E92  0C          	inc	c
3190  0E93  79          	ld	a, c
3191  0E94  D6 08       	sub	a,0x08
3192  0E96  DA C7 0C    	jp	C, l_spr_play_bullets_00131
3193  0E99  DD F9       	ld	sp, ix
3194  0E9B  DD E1       	pop	ix
3195  0E9D  C9          	ret
3196  0E9E              	SECTION code_compiler
3197  0E9E              ;	---------------------------------
3198  0E9E              ; Function spr_turn_horizontal
3199  0E9E              ; ---------------------------------
3200  0E9E              _spr_turn_horizontal:
3201  0E9E  21 00 00    	ld	hl,_s_state
3202  0EA1  CB 56       	bit	2, (hl)
3203  0EA3  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3204  0EA5  21 00 00    	ld	hl,_s_state
3205  0EA8  7E          	ld	a,(hl)
3206  0EA9  F6 08       	or	a,0x08
3207  0EAB  E6 FB       	and	a,0xfb
3208  0EAD  77          	ld	(hl),a
3209  0EAE  18 09       	jr	l_spr_turn_horizontal_00103
3210  0EB0              l_spr_turn_horizontal_00102:
3211  0EB0  21 00 00    	ld	hl,_s_state
3212  0EB3  7E          	ld	a,(hl)
3213  0EB4  E6 F7       	and	a,0xf7
3214  0EB6  F6 04       	or	a,0x04
3215  0EB8  77          	ld	(hl),a
3216  0EB9              l_spr_turn_horizontal_00103:
3217  0EB9  2A 00 00    	ld	hl,(_sprite)
3218  0EBC  26 00       	ld	h,0x00
3219  0EBE  01 00 00    	ld	bc,_state
3220  0EC1  09          	add	hl,bc
3221  0EC2  3A 00 00    	ld	a,(_s_state)
3222  0EC5  77          	ld	(hl),a
3223  0EC6  2A 00 00    	ld	hl,(_sprite)
3224  0EC9  26 00       	ld	h,0x00
3225  0ECB  01 00 00    	ld	bc,_tile
3226  0ECE  09          	add	hl,bc
3227  0ECF  E5          	push	hl
3228  0ED0  2A 00 00    	ld	hl,(_sprite)
3229  0ED3  CD 09 07    	call	_spr_tile
3230  0ED6  C1          	pop	bc
3231  0ED7  7D          	ld	a,l
3232  0ED8  02          	ld	(bc), a
3233  0ED9  C9          	ret
3234  0EDA              	SECTION IGNORE
3235  0000              
