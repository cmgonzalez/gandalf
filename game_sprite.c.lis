1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_turn_horizontal
214   0000              ;--------------------------------------------------------
215   0000              ; Externals used
216   0000              ;--------------------------------------------------------
217   0000              	GLOBAL _ulltoa_callee
218   0000              	GLOBAL _ulltoa
219   0000              	GLOBAL _strtoull_callee
220   0000              	GLOBAL _strtoull
221   0000              	GLOBAL _strtoll_callee
222   0000              	GLOBAL _strtoll
223   0000              	GLOBAL _lltoa_callee
224   0000              	GLOBAL _lltoa
225   0000              	GLOBAL _llabs_callee
226   0000              	GLOBAL _llabs
227   0000              	GLOBAL __lldivu__callee
228   0000              	GLOBAL __lldivu_
229   0000              	GLOBAL __lldiv__callee
230   0000              	GLOBAL __lldiv_
231   0000              	GLOBAL _atoll_callee
232   0000              	GLOBAL _atoll
233   0000              	GLOBAL _realloc_unlocked_callee
234   0000              	GLOBAL _realloc_unlocked
235   0000              	GLOBAL _malloc_unlocked_fastcall
236   0000              	GLOBAL _malloc_unlocked
237   0000              	GLOBAL _free_unlocked_fastcall
238   0000              	GLOBAL _free_unlocked
239   0000              	GLOBAL _calloc_unlocked_callee
240   0000              	GLOBAL _calloc_unlocked
241   0000              	GLOBAL _aligned_alloc_unlocked_callee
242   0000              	GLOBAL _aligned_alloc_unlocked
243   0000              	GLOBAL _realloc_callee
244   0000              	GLOBAL _realloc
245   0000              	GLOBAL _malloc_fastcall
246   0000              	GLOBAL _malloc
247   0000              	GLOBAL _free_fastcall
248   0000              	GLOBAL _free
249   0000              	GLOBAL _calloc_callee
250   0000              	GLOBAL _calloc
251   0000              	GLOBAL _aligned_alloc_callee
252   0000              	GLOBAL _aligned_alloc
253   0000              	GLOBAL _utoa_callee
254   0000              	GLOBAL _utoa
255   0000              	GLOBAL _ultoa_callee
256   0000              	GLOBAL _ultoa
257   0000              	GLOBAL _system_fastcall
258   0000              	GLOBAL _system
259   0000              	GLOBAL _strtoul_callee
260   0000              	GLOBAL _strtoul
261   0000              	GLOBAL _strtol_callee
262   0000              	GLOBAL _strtol
263   0000              	GLOBAL _strtof_callee
264   0000              	GLOBAL _strtof
265   0000              	GLOBAL _strtod_callee
266   0000              	GLOBAL _strtod
267   0000              	GLOBAL _srand_fastcall
268   0000              	GLOBAL _srand
269   0000              	GLOBAL _rand
270   0000              	GLOBAL _quick_exit_fastcall
271   0000              	GLOBAL _quick_exit
272   0000              	GLOBAL _qsort_callee
273   0000              	GLOBAL _qsort
274   0000              	GLOBAL _ltoa_callee
275   0000              	GLOBAL _ltoa
276   0000              	GLOBAL _labs_fastcall
277   0000              	GLOBAL _labs
278   0000              	GLOBAL _itoa_callee
279   0000              	GLOBAL _itoa
280   0000              	GLOBAL _ftoh_callee
281   0000              	GLOBAL _ftoh
282   0000              	GLOBAL _ftog_callee
283   0000              	GLOBAL _ftog
284   0000              	GLOBAL _ftoe_callee
285   0000              	GLOBAL _ftoe
286   0000              	GLOBAL _ftoa_callee
287   0000              	GLOBAL _ftoa
288   0000              	GLOBAL _exit_fastcall
289   0000              	GLOBAL _exit
290   0000              	GLOBAL _dtoh_callee
291   0000              	GLOBAL _dtoh
292   0000              	GLOBAL _dtog_callee
293   0000              	GLOBAL _dtog
294   0000              	GLOBAL _dtoe_callee
295   0000              	GLOBAL _dtoe
296   0000              	GLOBAL _dtoa_callee
297   0000              	GLOBAL _dtoa
298   0000              	GLOBAL _bsearch_callee
299   0000              	GLOBAL _bsearch
300   0000              	GLOBAL _atol_fastcall
301   0000              	GLOBAL _atol
302   0000              	GLOBAL _atoi_fastcall
303   0000              	GLOBAL _atoi
304   0000              	GLOBAL _atof_fastcall
305   0000              	GLOBAL _atof
306   0000              	GLOBAL _atexit_fastcall
307   0000              	GLOBAL _atexit
308   0000              	GLOBAL _at_quick_exit_fastcall
309   0000              	GLOBAL _at_quick_exit
310   0000              	GLOBAL _abs_fastcall
311   0000              	GLOBAL _abs
312   0000              	GLOBAL _abort
313   0000              	GLOBAL __strtou__callee
314   0000              	GLOBAL __strtou_
315   0000              	GLOBAL __strtoi__callee
316   0000              	GLOBAL __strtoi_
317   0000              	GLOBAL __random_uniform_xor_8__fastcall
318   0000              	GLOBAL __random_uniform_xor_8_
319   0000              	GLOBAL __random_uniform_xor_32__fastcall
320   0000              	GLOBAL __random_uniform_xor_32_
321   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
322   0000              	GLOBAL __random_uniform_cmwc_8_
323   0000              	GLOBAL __shellsort__callee
324   0000              	GLOBAL __shellsort_
325   0000              	GLOBAL __quicksort__callee
326   0000              	GLOBAL __quicksort_
327   0000              	GLOBAL __insertion_sort__callee
328   0000              	GLOBAL __insertion_sort_
329   0000              	GLOBAL __ldivu__callee
330   0000              	GLOBAL __ldivu_
331   0000              	GLOBAL __ldiv__callee
332   0000              	GLOBAL __ldiv_
333   0000              	GLOBAL __divu__callee
334   0000              	GLOBAL __divu_
335   0000              	GLOBAL __div__callee
336   0000              	GLOBAL __div_
337   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawTW_raw
339   0000              	GLOBAL _NIRVANAP_drawTW_callee
340   0000              	GLOBAL _NIRVANAP_drawTW
341   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawW_raw
343   0000              	GLOBAL _NIRVANAP_drawW_callee
344   0000              	GLOBAL _NIRVANAP_drawW
345   0000              	GLOBAL _NIRVANAP_spriteT_callee
346   0000              	GLOBAL _NIRVANAP_spriteT
347   0000              	GLOBAL _NIRVANAP_fillC_callee
348   0000              	GLOBAL _NIRVANAP_fillC
349   0000              	GLOBAL _NIRVANAP_readC_callee
350   0000              	GLOBAL _NIRVANAP_readC
351   0000              	GLOBAL _NIRVANAP_paintC_callee
352   0000              	GLOBAL _NIRVANAP_paintC
353   0000              	GLOBAL _NIRVANAP_printC_callee
354   0000              	GLOBAL _NIRVANAP_printC
355   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
356   0000              	GLOBAL _NIRVANAP_fillT_raw
357   0000              	GLOBAL _NIRVANAP_fillT_callee
358   0000              	GLOBAL _NIRVANAP_fillT
359   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawT_raw
361   0000              	GLOBAL _NIRVANAP_drawT_callee
362   0000              	GLOBAL _NIRVANAP_drawT
363   0000              	GLOBAL _NIRVANAP_stop
364   0000              	GLOBAL _NIRVANAP_start
365   0000              	GLOBAL _debug3
366   0000              	GLOBAL _debug2
367   0000              	GLOBAL _debug
368   0000              	GLOBAL _zx_print_str
369   0000              	GLOBAL _zx_print_int
370   0000              	GLOBAL _zx_print_chr
371   0000              	GLOBAL _zx_print_bonus_time
372   0000              	GLOBAL _zx_isr
373   0000              	GLOBAL _z80_otdr_callee
374   0000              	GLOBAL _z80_otdr
375   0000              	GLOBAL _z80_otir_callee
376   0000              	GLOBAL _z80_otir
377   0000              	GLOBAL _z80_outp_callee
378   0000              	GLOBAL _z80_outp
379   0000              	GLOBAL _z80_indr_callee
380   0000              	GLOBAL _z80_indr
381   0000              	GLOBAL _z80_inir_callee
382   0000              	GLOBAL _z80_inir
383   0000              	GLOBAL _z80_inp_fastcall
384   0000              	GLOBAL _z80_inp
385   0000              	GLOBAL _z80_set_int_state_fastcall
386   0000              	GLOBAL _z80_set_int_state
387   0000              	GLOBAL _z80_get_int_state
388   0000              	GLOBAL _z80_delay_tstate_fastcall
389   0000              	GLOBAL _z80_delay_tstate
390   0000              	GLOBAL _z80_delay_ms_fastcall
391   0000              	GLOBAL _z80_delay_ms
392   0000              	GLOBAL _im2_remove_generic_callback_callee
393   0000              	GLOBAL _im2_remove_generic_callback
394   0000              	GLOBAL _im2_prepend_generic_callback_callee
395   0000              	GLOBAL _im2_prepend_generic_callback
396   0000              	GLOBAL _im2_append_generic_callback_callee
397   0000              	GLOBAL _im2_append_generic_callback
398   0000              	GLOBAL _im2_create_generic_isr_8080_callee
399   0000              	GLOBAL _im2_create_generic_isr_8080
400   0000              	GLOBAL _im2_create_generic_isr_callee
401   0000              	GLOBAL _im2_create_generic_isr
402   0000              	GLOBAL _im2_install_isr_callee
403   0000              	GLOBAL _im2_install_isr
404   0000              	GLOBAL _im2_init_fastcall
405   0000              	GLOBAL _im2_init
406   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
407   0000              	GLOBAL _intrinsic_swap_word_32
408   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_endian_32
410   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_16
412   0000              	GLOBAL _intrinsic_return_de
413   0000              	GLOBAL _intrinsic_return_bc
414   0000              	GLOBAL _intrinsic_exx
415   0000              	GLOBAL _intrinsic_ex_de_hl
416   0000              	GLOBAL _intrinsic_nop
417   0000              	GLOBAL _intrinsic_im_2
418   0000              	GLOBAL _intrinsic_im_1
419   0000              	GLOBAL _intrinsic_im_0
420   0000              	GLOBAL _intrinsic_retn
421   0000              	GLOBAL _intrinsic_reti
422   0000              	GLOBAL _intrinsic_halt
423   0000              	GLOBAL _intrinsic_ei
424   0000              	GLOBAL _intrinsic_di
425   0000              	GLOBAL _intrinsic_stub
426   0000              	GLOBAL _intrinsic_outi
427   0000              	GLOBAL _intrinsic_ldi
428   0000              	GLOBAL _zx_pattern_fill_callee
429   0000              	GLOBAL _zx_pattern_fill
430   0000              	GLOBAL _zx_saddrpup_fastcall
431   0000              	GLOBAL _zx_saddrpup
432   0000              	GLOBAL _zx_saddrpright_callee
433   0000              	GLOBAL _zx_saddrpright
434   0000              	GLOBAL _zx_saddrpleft_callee
435   0000              	GLOBAL _zx_saddrpleft
436   0000              	GLOBAL _zx_saddrpdown_fastcall
437   0000              	GLOBAL _zx_saddrpdown
438   0000              	GLOBAL _zx_saddrcup_fastcall
439   0000              	GLOBAL _zx_saddrcup
440   0000              	GLOBAL _zx_saddrcright_fastcall
441   0000              	GLOBAL _zx_saddrcright
442   0000              	GLOBAL _zx_saddrcleft_fastcall
443   0000              	GLOBAL _zx_saddrcleft
444   0000              	GLOBAL _zx_saddrcdown_fastcall
445   0000              	GLOBAL _zx_saddrcdown
446   0000              	GLOBAL _zx_saddr2py_fastcall
447   0000              	GLOBAL _zx_saddr2py
448   0000              	GLOBAL _zx_saddr2px_fastcall
449   0000              	GLOBAL _zx_saddr2px
450   0000              	GLOBAL _zx_saddr2cy_fastcall
451   0000              	GLOBAL _zx_saddr2cy
452   0000              	GLOBAL _zx_saddr2cx_fastcall
453   0000              	GLOBAL _zx_saddr2cx
454   0000              	GLOBAL _zx_saddr2aaddr_fastcall
455   0000              	GLOBAL _zx_saddr2aaddr
456   0000              	GLOBAL _zx_py2saddr_fastcall
457   0000              	GLOBAL _zx_py2saddr
458   0000              	GLOBAL _zx_py2aaddr_fastcall
459   0000              	GLOBAL _zx_py2aaddr
460   0000              	GLOBAL _zx_pxy2saddr_callee
461   0000              	GLOBAL _zx_pxy2saddr
462   0000              	GLOBAL _zx_pxy2aaddr_callee
463   0000              	GLOBAL _zx_pxy2aaddr
464   0000              	GLOBAL _zx_px2bitmask_fastcall
465   0000              	GLOBAL _zx_px2bitmask
466   0000              	GLOBAL _zx_cy2saddr_fastcall
467   0000              	GLOBAL _zx_cy2saddr
468   0000              	GLOBAL _zx_cy2aaddr_fastcall
469   0000              	GLOBAL _zx_cy2aaddr
470   0000              	GLOBAL _zx_cxy2saddr_callee
471   0000              	GLOBAL _zx_cxy2saddr
472   0000              	GLOBAL _zx_cxy2aaddr_callee
473   0000              	GLOBAL _zx_cxy2aaddr
474   0000              	GLOBAL _zx_bitmask2px_fastcall
475   0000              	GLOBAL _zx_bitmask2px
476   0000              	GLOBAL _zx_aaddrcup_fastcall
477   0000              	GLOBAL _zx_aaddrcup
478   0000              	GLOBAL _zx_aaddrcright_fastcall
479   0000              	GLOBAL _zx_aaddrcright
480   0000              	GLOBAL _zx_aaddrcleft_fastcall
481   0000              	GLOBAL _zx_aaddrcleft
482   0000              	GLOBAL _zx_aaddrcdown_fastcall
483   0000              	GLOBAL _zx_aaddrcdown
484   0000              	GLOBAL _zx_aaddr2saddr_fastcall
485   0000              	GLOBAL _zx_aaddr2saddr
486   0000              	GLOBAL _zx_aaddr2py_fastcall
487   0000              	GLOBAL _zx_aaddr2py
488   0000              	GLOBAL _zx_aaddr2px_fastcall
489   0000              	GLOBAL _zx_aaddr2px
490   0000              	GLOBAL _zx_aaddr2cy_fastcall
491   0000              	GLOBAL _zx_aaddr2cy
492   0000              	GLOBAL _zx_aaddr2cx_fastcall
493   0000              	GLOBAL _zx_aaddr2cx
494   0000              	GLOBAL _zx_visit_wc_pix_callee
495   0000              	GLOBAL _zx_visit_wc_pix
496   0000              	GLOBAL _zx_visit_wc_attr_callee
497   0000              	GLOBAL _zx_visit_wc_attr
498   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
499   0000              	GLOBAL _zx_scroll_wc_up_pix
500   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
501   0000              	GLOBAL _zx_scroll_wc_up_attr
502   0000              	GLOBAL _zx_scroll_wc_up_callee
503   0000              	GLOBAL _zx_scroll_wc_up
504   0000              	GLOBAL _zx_scroll_up_pix_callee
505   0000              	GLOBAL _zx_scroll_up_pix
506   0000              	GLOBAL _zx_scroll_up_attr_callee
507   0000              	GLOBAL _zx_scroll_up_attr
508   0000              	GLOBAL _zx_scroll_up_callee
509   0000              	GLOBAL _zx_scroll_up
510   0000              	GLOBAL _zx_cls_wc_pix_callee
511   0000              	GLOBAL _zx_cls_wc_pix
512   0000              	GLOBAL _zx_cls_wc_attr_callee
513   0000              	GLOBAL _zx_cls_wc_attr
514   0000              	GLOBAL _zx_cls_wc_callee
515   0000              	GLOBAL _zx_cls_wc
516   0000              	GLOBAL _zx_cls_pix_fastcall
517   0000              	GLOBAL _zx_cls_pix
518   0000              	GLOBAL _zx_cls_attr_fastcall
519   0000              	GLOBAL _zx_cls_attr
520   0000              	GLOBAL _zx_cls_fastcall
521   0000              	GLOBAL _zx_cls
522   0000              	GLOBAL _zx_border_fastcall
523   0000              	GLOBAL _zx_border
524   0000              	GLOBAL _sound_hit_brick
525   0000              	GLOBAL _sound_hit_enemy
526   0000              	GLOBAL _sound_kill
527   0000              	GLOBAL _sound_enter_enemy
528   0000              	GLOBAL _sound_coin
529   0000              	GLOBAL _sound_jump
530   0000              	GLOBAL _sound_slide
531   0000              	GLOBAL _player_move_jump
532   0000              	GLOBAL _player_fire
533   0000              	GLOBAL _player_check_stairs_down
534   0000              	GLOBAL _player_check_stairs
535   0000              	GLOBAL _player_tile
536   0000              	GLOBAL _player_pick_item
537   0000              	GLOBAL _player_check_floor
538   0000              	GLOBAL _player_hit_platform_clear
539   0000              	GLOBAL _player_lost_life
540   0000              	GLOBAL _player_score_add
541   0000              	GLOBAL _player_player_hit_pow
542   0000              	GLOBAL _player_hit_platform
543   0000              	GLOBAL _player_move_input
544   0000              	GLOBAL _player_turn
545   0000              	GLOBAL _player_move
546   0000              	GLOBAL _player_restart
547   0000              	GLOBAL _player_kill
548   0000              	GLOBAL _player_check_input
549   0000              	GLOBAL _player_collision
550   0000              	GLOBAL _player_init
551   0000              	GLOBAL _game_joystick_set_menu
552   0000              	GLOBAL _game_joystick_set
553   0000              	GLOBAL _game_joystick_change
554   0000              	GLOBAL _game_print_header
555   0000              	GLOBAL _game_end
556   0000              	GLOBAL _game_phase_print_score_back
557   0000              	GLOBAL _game_check_time
558   0000              	GLOBAL _game_rotate_attrib
559   0000              	GLOBAL _game_colour_message
560   0000              	GLOBAL _game_paint_attrib_lin_h
561   0000              	GLOBAL _game_paint_attrib_lin
562   0000              	GLOBAL _game_paint_attrib
563   0000              	GLOBAL _game_print_score
564   0000              	GLOBAL _game_unfreeze_all
565   0000              	GLOBAL _game_freeze_all
566   0000              	GLOBAL _game_freeze
567   0000              	GLOBAL _game_enemy_add_get_index
568   0000              	GLOBAL _game_check_cell
569   0000              	GLOBAL _game_check_map
570   0000              	GLOBAL _game_loop
571   0000              	GLOBAL _game_phase_init
572   0000              	GLOBAL _game_start_timer
573   0000              	GLOBAL _game_tick
574   0000              	GLOBAL _game_print_lives
575   0000              	GLOBAL _game_print_footer
576   0000              	GLOBAL _game_fill_row
577   0000              	GLOBAL _game_draw_screen
578   0000              	GLOBAL _enemy_avoid_edge
579   0000              	GLOBAL _enemy_kill
580   0000              	GLOBAL _enemy_init
581   0000              	GLOBAL _enemy_move
582   0000              	GLOBAL _enemy_turn
583   0000              	GLOBAL _enemy_hit
584   0000              	GLOBAL _enemy_coin1
585   0000              	GLOBAL _enemy_static
586   0000              	GLOBAL _enemy_walk
587   0000              	GLOBAL _enemy_vertical
588   0000              	GLOBAL _ay_fx_play
589   0000              	GLOBAL _ay_midi_play
590   0000              	GLOBAL _ay_is_playing
591   0000              	GLOBAL _ay_reset
592   0000              	GLOBAL _test_func
593   0000              	GLOBAL _test_proc
594   0000              	GLOBAL _in_mouse_kempston_wheel_delta
595   0000              	GLOBAL _in_mouse_kempston_wheel
596   0000              	GLOBAL _in_mouse_kempston_callee
597   0000              	GLOBAL _in_mouse_kempston
598   0000              	GLOBAL _in_mouse_kempston_setpos_callee
599   0000              	GLOBAL _in_mouse_kempston_setpos
600   0000              	GLOBAL _in_mouse_kempston_reset
601   0000              	GLOBAL _in_mouse_kempston_init
602   0000              	GLOBAL _in_mouse_amx_wheel_delta
603   0000              	GLOBAL _in_mouse_amx_wheel
604   0000              	GLOBAL _in_mouse_amx_callee
605   0000              	GLOBAL _in_mouse_amx
606   0000              	GLOBAL _in_mouse_amx_setpos_callee
607   0000              	GLOBAL _in_mouse_amx_setpos
608   0000              	GLOBAL _in_mouse_amx_reset
609   0000              	GLOBAL _in_mouse_amx_init_callee
610   0000              	GLOBAL _in_mouse_amx_init
611   0000              	GLOBAL _in_stick_sinclair2
612   0000              	GLOBAL _in_stick_sinclair1
613   0000              	GLOBAL _in_stick_kempston
614   0000              	GLOBAL _in_stick_fuller
615   0000              	GLOBAL _in_stick_cursor
616   0000              	GLOBAL _in_stick_keyboard_fastcall
617   0000              	GLOBAL _in_stick_keyboard
618   0000              	GLOBAL _in_wait_nokey
619   0000              	GLOBAL _in_wait_key
620   0000              	GLOBAL _in_test_key
621   0000              	GLOBAL _in_pause_fastcall
622   0000              	GLOBAL _in_pause
623   0000              	GLOBAL _in_key_scancode_fastcall
624   0000              	GLOBAL _in_key_scancode
625   0000              	GLOBAL _in_key_pressed_fastcall
626   0000              	GLOBAL _in_key_pressed
627   0000              	GLOBAL _in_inkey
628   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
629   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
630   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
631   0000              	GLOBAL _NIRVANAP_HOLE
632   0000              	GLOBAL _NIRVANAP_ISR_HOOK
633   0000              	GLOBAL _draw_count
634   0000              	GLOBAL _g_player_hit_right
635   0000              	GLOBAL _g_player_hit_left
636   0000              	GLOBAL _joynames
637   0000              	GLOBAL _initials
638   0000              	GLOBAL _bullet_count
639   0000              	GLOBAL _bullet_frames
640   0000              	GLOBAL _bullet_colint
641   0000              	GLOBAL _bullet_dir
642   0000              	GLOBAL _bullet_tile
643   0000              	GLOBAL _bullet_col
644   0000              	GLOBAL _bullet_lin
645   0000              	GLOBAL _anim_count
646   0000              	GLOBAL _anim_end
647   0000              	GLOBAL _anim_int
648   0000              	GLOBAL _anim_tile
649   0000              	GLOBAL _anim_col
650   0000              	GLOBAL _anim_lin
651   0000              	GLOBAL _phase_curr
652   0000              	GLOBAL _map_heigth
653   0000              	GLOBAL _map_width
654   0000              	GLOBAL _scr_curr
655   0000              	GLOBAL _scr_7
656   0000              	GLOBAL _scr_6
657   0000              	GLOBAL _scr_5
658   0000              	GLOBAL _scr_4
659   0000              	GLOBAL _scr_3
660   0000              	GLOBAL _scr_2
661   0000              	GLOBAL _scr_1
662   0000              	GLOBAL _scr_0
663   0000              	GLOBAL _scr_obj
664   0000              	GLOBAL _scr_map
665   0000              	GLOBAL _sprite_speed_alt
666   0000              	GLOBAL _sprite_frames
667   0000              	GLOBAL _sprite_speed
668   0000              	GLOBAL _screen_ink
669   0000              	GLOBAL _screen_paper
670   0000              	GLOBAL _player_over_stair
671   0000              	GLOBAL _game_menu_sel
672   0000              	GLOBAL _game_score_top
673   0000              	GLOBAL _player_lives
674   0000              	GLOBAL _game_over
675   0000              	GLOBAL _game_sound
676   0000              	GLOBAL _game_inmune
677   0000              	GLOBAL _game_god_mode
678   0000              	GLOBAL _game_two_player
679   0000              	GLOBAL _game_brick_tile
680   0000              	GLOBAL _sprite_curr_index
681   0000              	GLOBAL _spr_count
682   0000              	GLOBAL _bullet_time
683   0000              	GLOBAL _anim_time
684   0000              	GLOBAL _frame_time
685   0000              	GLOBAL _entry_time
686   0000              	GLOBAL _curr_time
687   0000              	GLOBAL _s_state
688   0000              	GLOBAL _attrib_hl
689   0000              	GLOBAL _attrib
690   0000              	GLOBAL _zx_val_asm
691   0000              	GLOBAL _enemies
692   0000              	GLOBAL _tmp_ui
693   0000              	GLOBAL _tmp_sc
694   0000              	GLOBAL _tmp_uc
695   0000              	GLOBAL _tmp1
696   0000              	GLOBAL _tmp0
697   0000              	GLOBAL _tmp
698   0000              	GLOBAL _index1
699   0000              	GLOBAL _index0
700   0000              	GLOBAL _loop_count
701   0000              	GLOBAL _s_col1
702   0000              	GLOBAL _s_col0
703   0000              	GLOBAL _s_lin1
704   0000              	GLOBAL _s_lin0
705   0000              	GLOBAL _s_tile1
706   0000              	GLOBAL _s_tile0
707   0000              	GLOBAL _player_hit_count
708   0000              	GLOBAL _sprite_horizontal_check
709   0000              	GLOBAL _sprite_on_air
710   0000              	GLOBAL _sprite
711   0000              	GLOBAL _game_gravity
712   0000              	GLOBAL _player_vel_inc
713   0000              	GLOBAL _player_vel_y1
714   0000              	GLOBAL _player_vel_y0
715   0000              	GLOBAL _player_vel_y
716   0000              	GLOBAL _player_vel_x
717   0000              	GLOBAL _player_joy
718   0000              	GLOBAL _player_score
719   0000              	GLOBAL _last_time
720   0000              	GLOBAL _player_slide
721   0000              	GLOBAL _spr_timer
722   0000              	GLOBAL _jump_lin
723   0000              	GLOBAL _player_hit_col
724   0000              	GLOBAL _player_hit_lin
725   0000              	GLOBAL _colint
726   0000              	GLOBAL _col
727   0000              	GLOBAL _lin
728   0000              	GLOBAL _tile
729   0000              	GLOBAL _state_a
730   0000              	GLOBAL _state
731   0000              	GLOBAL _class
732   0000              	GLOBAL _tbuffer
733   0000              	GLOBAL _dirs
734   0000              	GLOBAL _k1
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
739   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
740   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
741   0000              	GLOBAL _ay_effect_20
742   0000              	GLOBAL _ay_effect_19
743   0000              	GLOBAL _ay_effect_18
744   0000              	GLOBAL _ay_effect_17
745   0000              	GLOBAL _ay_effect_16
746   0000              	GLOBAL _ay_effect_15
747   0000              	GLOBAL _ay_effect_14
748   0000              	GLOBAL _ay_effect_13
749   0000              	GLOBAL _ay_effect_12
750   0000              	GLOBAL _ay_effect_11
751   0000              	GLOBAL _ay_effect_10
752   0000              	GLOBAL _ay_effect_09
753   0000              	GLOBAL _ay_effect_08
754   0000              	GLOBAL _ay_effect_07
755   0000              	GLOBAL _ay_effect_06
756   0000              	GLOBAL _ay_effect_05
757   0000              	GLOBAL _ay_effect_04
758   0000              	GLOBAL _ay_effect_03
759   0000              	GLOBAL _ay_effect_02
760   0000              	GLOBAL _ay_effect_01
761   0000              	GLOBAL _pb_midi_phase_1
762   0000              	GLOBAL _pb_midi_title
763   0000              	GLOBAL _control_method
764   0000              ;--------------------------------------------------------
765   0000              ; special function registers
766   0000              ;--------------------------------------------------------
767   0000              defc _IO_FE	=	0x00fe
768   0000              defc _IO_1FFD	=	0x1ffd
769   0000              defc _IO_7FFD	=	0x7ffd
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              	SECTION bss_compiler
774   0000              ;--------------------------------------------------------
775   0000              ; ram data
776   0000              ;--------------------------------------------------------
777   0000              
778   0000              IF 0
779   0000              
780   0000              ; .area _INITIALIZED removed by z88dk
781   0000              
782   0000              
783   0000              ENDIF
784   0000              
785   0000              ;--------------------------------------------------------
786   0000              ; absolute external ram data
787   0000              ;--------------------------------------------------------
788   0000              	SECTION IGNORE
789   0000              ;--------------------------------------------------------
790   0000              ; global & static initialisations
791   0000              ;--------------------------------------------------------
792   0000              	SECTION code_crt_init
793   0000              ;--------------------------------------------------------
794   0000              ; Home
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; code
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_compiler
801   0000              ;	---------------------------------
802   0000              ; Function spr_calc_index
803   0000              ; ---------------------------------
804   0000              _spr_calc_index:
805   0000  CD 00 00    	call	___sdcc_enter_ix
806   0003  DD 4E 05    	ld	c,(ix+5)
807   0006  CB 39       	srl	c
808   0008  06 00       	ld	b,0x00
809   000A  DD 7E 04    	ld	a,(ix+4)
810   000D  07          	rlca
811   000E  07          	rlca
812   000F  07          	rlca
813   0010  07          	rlca
814   0011  E6 0F       	and	a,0x0f
815   0013  6F          	ld	l, a
816   0014  26 00       	ld	h,0x00
817   0016  29          	add	hl, hl
818   0017  29          	add	hl, hl
819   0018  29          	add	hl, hl
820   0019  29          	add	hl, hl
821   001A  09          	add	hl, bc
822   001B  DD E1       	pop	ix
823   001D  C9          	ret
824   001E              	SECTION code_compiler
825   001E              ;	---------------------------------
826   001E              ; Function spr_chktime
827   001E              ; ---------------------------------
828   001E              _spr_chktime:
829   001E  CD 00 00    	call	___sdcc_enter_ix
830   0021  F5          	push	af
831   0022  DD 75 FE    	ld	(ix-2),l
832   0025  DD 74 FF    	ld	(ix-1),h
833   0028  E1          	pop	hl
834   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
835   002C  5E          	ld	e,(hl)
836   002D  E5          	push	hl
837   002E  6B          	ld	l,e
838   002F  26 00       	ld	h,0x00
839   0031  09          	add	hl, bc
840   0032  7E          	ld	a, (hl)
841   0033  B7          	or	a, a
842   0034  20 13       	jr	NZ,l_spr_chktime_00102
843   0036  01 00 00    	ld	bc,_sprite_speed+0
844   0039  16 00       	ld	d,0x00
845   003B  21 00 00    	ld	hl,_class
846   003E  19          	add	hl, de
847   003F  6E          	ld	l, (hl)
848   0040  26 00       	ld	h,0x00
849   0042  09          	add	hl, bc
850   0043  7E          	ld	a, (hl)
851   0044  32 00 00    	ld	(_tmp),a
852   0047  18 03       	jr	l_spr_chktime_00103
853   0049              l_spr_chktime_00102:
854   0049  32 00 00    	ld	(_tmp),a
855   004C              l_spr_chktime_00103:
856   004C  3A 00 00    	ld	a,(_tmp)
857   004F  4F          	ld	c,a
858   0050  06 00       	ld	b,0x00
859   0052  60          	ld	h,b
860   0053  6B          	ld	l, e
861   0054  29          	add	hl, hl
862   0055  11 00 00    	ld	de,_last_time
863   0058  19          	add	hl, de
864   0059  5E          	ld	e, (hl)
865   005A  23          	inc	hl
866   005B  56          	ld	d, (hl)
867   005C  C5          	push	bc
868   005D  D5          	push	de
869   005E  CD 00 00    	call	_game_check_time
870   0061  F1          	pop	af
871   0062  F1          	pop	af
872   0063  7D          	ld	a, l
873   0064  B7          	or	a, a
874   0065  28 15       	jr	Z,l_spr_chktime_00105
875   0067  E1          	pop	hl
876   0068  E5          	push	hl
877   0069  6E          	ld	l, (hl)
878   006A  26 00       	ld	h,0x00
879   006C  29          	add	hl, hl
880   006D  01 00 00    	ld	bc,_last_time
881   0070  09          	add	hl,bc
882   0071  ED 5B 00 00 	ld	de,(_curr_time)
883   0075  73          	ld	(hl),e
884   0076  23          	inc	hl
885   0077  72          	ld	(hl),d
886   0078  2E 01       	ld	l,0x01
887   007A  18 02       	jr	l_spr_chktime_00106
888   007C              l_spr_chktime_00105:
889   007C  2E 00       	ld	l,0x00
890   007E              l_spr_chktime_00106:
891   007E  F1          	pop	af
892   007F  DD E1       	pop	ix
893   0081  C9          	ret
894   0082              	SECTION code_compiler
895   0082              ;	---------------------------------
896   0082              ; Function spr_move_up
897   0082              ; ---------------------------------
898   0082              _spr_move_up:
899   0082  2A 00 00    	ld	hl,(_sprite)
900   0085  26 00       	ld	h,0x00
901   0087  01 00 00    	ld	bc,_lin
902   008A  09          	add	hl,bc
903   008B  7E          	ld	a,(hl)
904   008C  C6 FE       	add	a,0xfe
905   008E  32 00 00    	ld	(_s_lin1),a
906   0091  07          	rlca
907   0092  07          	rlca
908   0093  07          	rlca
909   0094  07          	rlca
910   0095  E6 0F       	and	a,0x0f
911   0097  4F          	ld	c, a
912   0098  3A 00 00    	ld	a,(_tmp1)
913   009B  07          	rlca
914   009C  07          	rlca
915   009D  07          	rlca
916   009E  07          	rlca
917   009F  E6 0F       	and	a,0x0f
918   00A1  47          	ld	b, a
919   00A2  79          	ld	a, c
920   00A3  90          	sub	a, b
921   00A4  20 04       	jr	NZ,l_spr_move_up_00134
922   00A6  3E 01       	ld	a,0x01
923   00A8  18 01       	jr	l_spr_move_up_00135
924   00AA              l_spr_move_up_00134:
925   00AA  AF          	xor	a,a
926   00AB              l_spr_move_up_00135:
927   00AB  EE 01       	xor	a,0x01
928   00AD  28 2D       	jr	Z,l_spr_move_up_00108
929   00AF  2A 00 00    	ld	hl,(_sprite)
930   00B2  26 00       	ld	h,0x00
931   00B4  01 00 00    	ld	bc,_col
932   00B7  09          	add	hl,bc
933   00B8  7E          	ld	a,(hl)
934   00B9  F5          	push	af
935   00BA  33          	inc	sp
936   00BB  3A 00 00    	ld	a,(_s_lin1)
937   00BE  F5          	push	af
938   00BF  33          	inc	sp
939   00C0  CD 00 00    	call	_game_check_map
940   00C3  F1          	pop	af
941   00C4  7C          	ld	a,h
942   00C5  B5          	or	a,l
943   00C6  28 14       	jr	Z,l_spr_move_up_00108
944   00C8  3A 00 00    	ld	a,(_sprite)
945   00CB  D6 07       	sub	a,0x07
946   00CD  20 09       	jr	NZ,l_spr_move_up_00104
947   00CF  3A 07 00    	ld	a,(_state_a + 0x0007)
948   00D2  07          	rlca
949   00D3  38 03       	jr	C,l_spr_move_up_00104
950   00D5  CD 00 00    	call	_player_hit_platform
951   00D8              l_spr_move_up_00104:
952   00D8  2E 01       	ld	l,0x01
953   00DA  18 1F       	jr	l_spr_move_up_00112
954   00DC              l_spr_move_up_00108:
955   00DC  2A 00 00    	ld	hl,(_sprite)
956   00DF  26 00       	ld	h,0x00
957   00E1  01 00 00    	ld	bc,_lin
958   00E4  09          	add	hl,bc
959   00E5  3E 90       	ld	a,0x90
960   00E7  4D          	ld	c,l
961   00E8  44          	ld	b,h
962   00E9  21 00 00    	ld	hl,_s_lin1
963   00EC  96          	sub	a, (hl)
964   00ED  30 06       	jr	NC,l_spr_move_up_00110
965   00EF  AF          	xor	a, a
966   00F0  02          	ld	(bc), a
967   00F1  2E 01       	ld	l,0x01
968   00F3  18 06       	jr	l_spr_move_up_00112
969   00F5              l_spr_move_up_00110:
970   00F5  3A 00 00    	ld	a,(_s_lin1)
971   00F8  02          	ld	(bc), a
972   00F9  2E 00       	ld	l,0x00
973   00FB              l_spr_move_up_00112:
974   00FB  C9          	ret
975   00FC              	SECTION code_compiler
976   00FC              ;	---------------------------------
977   00FC              ; Function spr_move_down
978   00FC              ; ---------------------------------
979   00FC              _spr_move_down:
980   00FC  2A 00 00    	ld	hl,(_sprite)
981   00FF  26 00       	ld	h,0x00
982   0101  01 00 00    	ld	bc,_lin
983   0104  09          	add	hl,bc
984   0105  7E          	ld	a,(hl)
985   0106  C6 10       	add	a,0x10
986   0108  32 00 00    	ld	(_s_lin1),a
987   010B  07          	rlca
988   010C  07          	rlca
989   010D  07          	rlca
990   010E  07          	rlca
991   010F  E6 0F       	and	a,0x0f
992   0111  4F          	ld	c, a
993   0112  3A 00 00    	ld	a,(_tmp1)
994   0115  07          	rlca
995   0116  07          	rlca
996   0117  07          	rlca
997   0118  07          	rlca
998   0119  E6 0F       	and	a,0x0f
999   011B  47          	ld	b, a
1000  011C  79          	ld	a, c
1001  011D  90          	sub	a, b
1002  011E  20 04       	jr	NZ,l_spr_move_down_00122
1003  0120  3E 01       	ld	a,0x01
1004  0122  18 01       	jr	l_spr_move_down_00123
1005  0124              l_spr_move_down_00122:
1006  0124  AF          	xor	a,a
1007  0125              l_spr_move_down_00123:
1008  0125  EE 01       	xor	a,0x01
1009  0127  28 1D       	jr	Z,l_spr_move_down_00104
1010  0129  2A 00 00    	ld	hl,(_sprite)
1011  012C  26 00       	ld	h,0x00
1012  012E  01 00 00    	ld	bc,_col
1013  0131  09          	add	hl,bc
1014  0132  7E          	ld	a,(hl)
1015  0133  F5          	push	af
1016  0134  33          	inc	sp
1017  0135  3A 00 00    	ld	a,(_s_lin1)
1018  0138  F5          	push	af
1019  0139  33          	inc	sp
1020  013A  CD 00 00    	call	_game_check_map
1021  013D  F1          	pop	af
1022  013E  7C          	ld	a,h
1023  013F  B5          	or	a,l
1024  0140  28 04       	jr	Z,l_spr_move_down_00104
1025  0142  2E 01       	ld	l,0x01
1026  0144  18 22       	jr	l_spr_move_down_00108
1027  0146              l_spr_move_down_00104:
1028  0146  2A 00 00    	ld	hl,(_sprite)
1029  0149  26 00       	ld	h,0x00
1030  014B  01 00 00    	ld	bc,_lin
1031  014E  09          	add	hl,bc
1032  014F  3E 90       	ld	a,0x90
1033  0151  4D          	ld	c,l
1034  0152  44          	ld	b,h
1035  0153  21 00 00    	ld	hl,_s_lin1
1036  0156  96          	sub	a, (hl)
1037  0157  30 07       	jr	NC,l_spr_move_down_00106
1038  0159  3E 90       	ld	a,0x90
1039  015B  02          	ld	(bc), a
1040  015C  2E 01       	ld	l,0x01
1041  015E  18 08       	jr	l_spr_move_down_00108
1042  0160              l_spr_move_down_00106:
1043  0160  3A 00 00    	ld	a,(_s_lin1)
1044  0163  C6 F2       	add	a,0xf2
1045  0165  02          	ld	(bc), a
1046  0166  2E 00       	ld	l,0x00
1047  0168              l_spr_move_down_00108:
1048  0168  C9          	ret
1049  0169              	SECTION code_compiler
1050  0169              ;	---------------------------------
1051  0169              ; Function spr_move_horizontal
1052  0169              ; ---------------------------------
1053  0169              _spr_move_horizontal:
1054  0169  2A 00 00    	ld	hl,(_sprite)
1055  016C  26 00       	ld	h,0x00
1056  016E  01 00 00    	ld	bc,_state
1057  0171  09          	add	hl,bc
1058  0172  7E          	ld	a,(hl)
1059  0173  CB 57       	bit	2, a
1060  0175  28 05       	jr	Z,l_spr_move_horizontal_00104
1061  0177  CD 88 01    	call	_spr_move_right
1062  017A  18 0B       	jr	l_spr_move_horizontal_00106
1063  017C              l_spr_move_horizontal_00104:
1064  017C  CB 5F       	bit	3, a
1065  017E  28 05       	jr	Z,l_spr_move_horizontal_00105
1066  0180  CD 67 02    	call	_spr_move_left
1067  0183  18 02       	jr	l_spr_move_horizontal_00106
1068  0185              l_spr_move_horizontal_00105:
1069  0185  2E 00       	ld	l,0x00
1070  0187              l_spr_move_horizontal_00106:
1071  0187  C9          	ret
1072  0188              	SECTION code_compiler
1073  0188              ;	---------------------------------
1074  0188              ; Function spr_move_right
1075  0188              ; ---------------------------------
1076  0188              _spr_move_right:
1077  0188  2A 00 00    	ld	hl,(_sprite)
1078  018B  26 00       	ld	h,0x00
1079  018D  01 00 00    	ld	bc,_colint
1080  0190  09          	add	hl,bc
1081  0191  7E          	ld	a,(hl)
1082  0192  3C          	inc	a
1083  0193  77          	ld	(hl),a
1084  0194  4F          	ld	c,a
1085  0195  3A 00 00    	ld	a,(_sprite)
1086  0198  5F          	ld	e,a
1087  0199  16 00       	ld	d,0x00
1088  019B  21 00 00    	ld	hl,_class
1089  019E  19          	add	hl,de
1090  019F  5E          	ld	e, (hl)
1091  01A0  16 00       	ld	d,0x00
1092  01A2  21 00 00    	ld	hl,_sprite_frames
1093  01A5  19          	add	hl, de
1094  01A6  7E          	ld	a, (hl)
1095  01A7  91          	sub	a, c
1096  01A8  C2 64 02    	jp	NZ,l_spr_move_right_00117
1097  01AB  2A 00 00    	ld	hl,(_sprite)
1098  01AE  26 00       	ld	h,0x00
1099  01B0  01 00 00    	ld	bc,_lin
1100  01B3  09          	add	hl,bc
1101  01B4  7E          	ld	a,(hl)
1102  01B5  32 00 00    	ld	(_s_lin1),a
1103  01B8  2A 00 00    	ld	hl,(_sprite)
1104  01BB  26 00       	ld	h,0x00
1105  01BD  01 00 00    	ld	bc,_col
1106  01C0  09          	add	hl,bc
1107  01C1  7E          	ld	a,(hl)
1108  01C2  FE 1E       	cp	a,0x1e
1109  01C4  30 4A       	jr	NC,l_spr_move_right_00107
1110  01C6  3C          	inc	a
1111  01C7  32 00 00    	ld	(_s_col1),a
1112  01CA  F5          	push	af
1113  01CB  33          	inc	sp
1114  01CC  3A 00 00    	ld	a,(_s_lin1)
1115  01CF  F5          	push	af
1116  01D0  33          	inc	sp
1117  01D1  CD 00 00    	call	_game_check_map
1118  01D4  F1          	pop	af
1119  01D5  7C          	ld	a,h
1120  01D6  B5          	or	a,l
1121  01D7  20 13       	jr	NZ,l_spr_move_right_00103
1122  01D9  3A 00 00    	ld	a,(_s_lin1)
1123  01DC  C6 0F       	add	a,0x0f
1124  01DE  4F          	ld	c, a
1125  01DF  3A 00 00    	ld	a, (_s_col1)
1126  01E2  47          	ld	b,a
1127  01E3  C5          	push	bc
1128  01E4  CD 00 00    	call	_game_check_map
1129  01E7  F1          	pop	af
1130  01E8  7C          	ld	a,h
1131  01E9  B5          	or	a,l
1132  01EA  28 24       	jr	Z,l_spr_move_right_00107
1133  01EC              l_spr_move_right_00103:
1134  01EC  2A 00 00    	ld	hl,(_sprite)
1135  01EF  26 00       	ld	h,0x00
1136  01F1  01 00 00    	ld	bc,_colint
1137  01F4  09          	add	hl,bc
1138  01F5  7E          	ld	a,(hl)
1139  01F6  C6 FF       	add	a,0xff
1140  01F8  77          	ld	(hl),a
1141  01F9  3A 00 00    	ld	a,(_sprite_on_air)
1142  01FC  B7          	or	a,a
1143  01FD  20 0D       	jr	NZ,l_spr_move_right_00102
1144  01FF  2A 00 00    	ld	hl,(_sprite)
1145  0202  26 00       	ld	h,0x00
1146  0204  01 00 00    	ld	bc,_colint
1147  0207  09          	add	hl,bc
1148  0208  7E          	ld	a,(hl)
1149  0209  C6 FF       	add	a,0xff
1150  020B  77          	ld	(hl),a
1151  020C              l_spr_move_right_00102:
1152  020C  2E 01       	ld	l,0x01
1153  020E  18 56       	jr	l_spr_move_right_00118
1154  0210              l_spr_move_right_00107:
1155  0210  2A 00 00    	ld	hl,(_sprite)
1156  0213  26 00       	ld	h,0x00
1157  0215  01 00 00    	ld	bc,_col
1158  0218  09          	add	hl,bc
1159  0219  34          	inc	(hl)
1160  021A  2A 00 00    	ld	hl,(_sprite)
1161  021D  26 00       	ld	h,0x00
1162  021F  01 00 00    	ld	bc,_colint
1163  0222  09          	add	hl,bc
1164  0223  AF          	xor	a,a
1165  0224  77          	ld	(hl),a
1166  0225  2A 00 00    	ld	hl,(_sprite)
1167  0228  26 00       	ld	h,0x00
1168  022A  01 00 00    	ld	bc,_col
1169  022D  09          	add	hl,bc
1170  022E  5E          	ld	e,(hl)
1171  022F  3E 1E       	ld	a,0x1e
1172  0231  93          	sub	a,e
1173  0232  30 30       	jr	NC,l_spr_move_right_00117
1174  0234  3A 00 00    	ld	a,(_sprite)
1175  0237  D6 07       	sub	a,0x07
1176  0239  28 04       	jr	Z,l_spr_move_right_00151
1177  023B  4D          	ld	c,l
1178  023C  44          	ld	b,h
1179  023D  18 1C       	jr	l_spr_move_right_00112
1180  023F              l_spr_move_right_00151:
1181  023F  CD 47 03    	call	_spr_page_right
1182  0242  3A 00 00    	ld	a,(_sprite)
1183  0245  C6 00       	add	a,+((_col) & 0xFF)
1184  0247  4D          	ld	c,l
1185  0248  5F          	ld	e,a
1186  0249  3E 00       	ld	a,+((_col) / 256)
1187  024B  CE 00       	adc	a,0x00
1188  024D  57          	ld	d,a
1189  024E  79          	ld	a, c
1190  024F  B7          	or	a, a
1191  0250  28 04       	jr	Z,l_spr_move_right_00109
1192  0252  AF          	xor	a, a
1193  0253  12          	ld	(de), a
1194  0254  18 0E       	jr	l_spr_move_right_00117
1195  0256              l_spr_move_right_00109:
1196  0256  3E 1E       	ld	a,0x1e
1197  0258  12          	ld	(de), a
1198  0259  18 09       	jr	l_spr_move_right_00117
1199  025B              l_spr_move_right_00112:
1200  025B  3E 1E       	ld	a,0x1e
1201  025D  02          	ld	(bc), a
1202  025E  2A 00 00    	ld	hl,(_sprite)
1203  0261  CD A0 06    	call	_spr_destroy
1204  0264              l_spr_move_right_00117:
1205  0264  2E 00       	ld	l,0x00
1206  0266              l_spr_move_right_00118:
1207  0266  C9          	ret
1208  0267              	SECTION code_compiler
1209  0267              ;	---------------------------------
1210  0267              ; Function spr_move_left
1211  0267              ; ---------------------------------
1212  0267              _spr_move_left:
1213  0267  01 00 00    	ld	bc,_colint+0
1214  026A  79          	ld	a, c
1215  026B  21 00 00    	ld	hl,_sprite
1216  026E  86          	add	a, (hl)
1217  026F  5F          	ld	e, a
1218  0270  78          	ld	a, b
1219  0271  CE 00       	adc	a,0x00
1220  0273  57          	ld	d, a
1221  0274  1A          	ld	a, (de)
1222  0275  C6 FF       	add	a,0xff
1223  0277  12          	ld	(de), a
1224  0278  79          	ld	a, c
1225  0279  86          	add	a, (hl)
1226  027A  5F          	ld	e, a
1227  027B  78          	ld	a, b
1228  027C  CE 00       	adc	a,0x00
1229  027E  57          	ld	d, a
1230  027F  1A          	ld	a, (de)
1231  0280  3C          	inc	a
1232  0281  C2 44 03    	jp	NZ,l_spr_move_left_00117
1233  0284  5E          	ld	e,(hl)
1234  0285  16 00       	ld	d,0x00
1235  0287  21 00 00    	ld	hl,_lin
1236  028A  19          	add	hl,de
1237  028B  7E          	ld	a,(hl)
1238  028C  32 00 00    	ld	(_s_lin1),a
1239  028F  2A 00 00    	ld	hl,(_sprite)
1240  0292  26 00       	ld	h,0x00
1241  0294  11 00 00    	ld	de,_col
1242  0297  19          	add	hl,de
1243  0298  7E          	ld	a,(hl)
1244  0299  B7          	or	a, a
1245  029A  28 44       	jr	Z,l_spr_move_left_00107
1246  029C  C6 FF       	add	a,0xff
1247  029E  32 00 00    	ld	(_s_col1),a
1248  02A1  C5          	push	bc
1249  02A2  F5          	push	af
1250  02A3  33          	inc	sp
1251  02A4  3A 00 00    	ld	a,(_s_lin1)
1252  02A7  F5          	push	af
1253  02A8  33          	inc	sp
1254  02A9  CD 00 00    	call	_game_check_map
1255  02AC  F1          	pop	af
1256  02AD  C1          	pop	bc
1257  02AE  7C          	ld	a,h
1258  02AF  B5          	or	a,l
1259  02B0  20 16       	jr	NZ,l_spr_move_left_00103
1260  02B2  3A 00 00    	ld	a,(_s_lin1)
1261  02B5  C6 0F       	add	a,0x0f
1262  02B7  57          	ld	d, a
1263  02B8  3A 00 00    	ld	a,(_s_col1)
1264  02BB  C5          	push	bc
1265  02BC  5A          	ld	e,d
1266  02BD  57          	ld	d,a
1267  02BE  D5          	push	de
1268  02BF  CD 00 00    	call	_game_check_map
1269  02C2  F1          	pop	af
1270  02C3  C1          	pop	bc
1271  02C4  7C          	ld	a,h
1272  02C5  B5          	or	a,l
1273  02C6  28 18       	jr	Z,l_spr_move_left_00107
1274  02C8              l_spr_move_left_00103:
1275  02C8  2A 00 00    	ld	hl,(_sprite)
1276  02CB  26 00       	ld	h,0x00
1277  02CD  09          	add	hl,bc
1278  02CE  34          	inc	(hl)
1279  02CF  3A 00 00    	ld	a,(_sprite_on_air)
1280  02D2  B7          	or	a, a
1281  02D3  20 07       	jr	NZ,l_spr_move_left_00102
1282  02D5  2A 00 00    	ld	hl,(_sprite)
1283  02D8  26 00       	ld	h,0x00
1284  02DA  09          	add	hl,bc
1285  02DB  34          	inc	(hl)
1286  02DC              l_spr_move_left_00102:
1287  02DC  2E 01       	ld	l,0x01
1288  02DE  18 66       	jr	l_spr_move_left_00118
1289  02E0              l_spr_move_left_00107:
1290  02E0  2A 00 00    	ld	hl,(_sprite)
1291  02E3  26 00       	ld	h,0x00
1292  02E5  11 00 00    	ld	de,_col
1293  02E8  19          	add	hl,de
1294  02E9  7E          	ld	a,(hl)
1295  02EA  EB          	ex	de,hl
1296  02EB  C6 FF       	add	a,0xff
1297  02ED  12          	ld	(de),a
1298  02EE  79          	ld	a,c
1299  02EF  21 00 00    	ld	hl,_sprite
1300  02F2  86          	add	a, (hl)
1301  02F3  4F          	ld	c, a
1302  02F4  78          	ld	a, b
1303  02F5  CE 00       	adc	a,0x00
1304  02F7  47          	ld	b, a
1305  02F8  5E          	ld	e,(hl)
1306  02F9  16 00       	ld	d,0x00
1307  02FB  21 00 00    	ld	hl,_class
1308  02FE  19          	add	hl,de
1309  02FF  5E          	ld	e, (hl)
1310  0300  16 00       	ld	d,0x00
1311  0302  21 00 00    	ld	hl,_sprite_frames
1312  0305  19          	add	hl, de
1313  0306  5E          	ld	e, (hl)
1314  0307  1D          	dec	e
1315  0308  7B          	ld	a, e
1316  0309  02          	ld	(bc), a
1317  030A  2A 00 00    	ld	hl,(_sprite)
1318  030D  26 00       	ld	h,0x00
1319  030F  01 00 00    	ld	bc,_col
1320  0312  09          	add	hl,bc
1321  0313  7E          	ld	a,(hl)
1322  0314  3C          	inc	a
1323  0315  20 2D       	jr	NZ,l_spr_move_left_00117
1324  0317  3A 00 00    	ld	a,(_sprite)
1325  031A  D6 07       	sub	a,0x07
1326  031C  4D          	ld	c,l
1327  031D  44          	ld	b,h
1328  031E  20 1C       	jr	NZ,l_spr_move_left_00112
1329  0320  CD 61 03    	call	_spr_page_left
1330  0323  3A 00 00    	ld	a,(_sprite)
1331  0326  C6 00       	add	a,+((_col) & 0xFF)
1332  0328  4D          	ld	c,l
1333  0329  5F          	ld	e,a
1334  032A  3E 00       	ld	a,+((_col) / 256)
1335  032C  CE 00       	adc	a,0x00
1336  032E  57          	ld	d,a
1337  032F  79          	ld	a, c
1338  0330  B7          	or	a, a
1339  0331  28 05       	jr	Z,l_spr_move_left_00109
1340  0333  3E 1E       	ld	a,0x1e
1341  0335  12          	ld	(de), a
1342  0336  18 0C       	jr	l_spr_move_left_00117
1343  0338              l_spr_move_left_00109:
1344  0338  AF          	xor	a, a
1345  0339  12          	ld	(de), a
1346  033A  18 08       	jr	l_spr_move_left_00117
1347  033C              l_spr_move_left_00112:
1348  033C  AF          	xor	a, a
1349  033D  02          	ld	(bc), a
1350  033E  2A 00 00    	ld	hl,(_sprite)
1351  0341  CD A0 06    	call	_spr_destroy
1352  0344              l_spr_move_left_00117:
1353  0344  2E 00       	ld	l,0x00
1354  0346              l_spr_move_left_00118:
1355  0346  C9          	ret
1356  0347              	SECTION code_compiler
1357  0347              ;	---------------------------------
1358  0347              ; Function spr_page_right
1359  0347              ; ---------------------------------
1360  0347              _spr_page_right:
1361  0347  3A 00 00    	ld	a,(_scr_curr)
1362  034A  21 00 00    	ld	hl,_map_width
1363  034D  96          	sub	a, (hl)
1364  034E  30 0E       	jr	NC,l_spr_page_right_00102
1365  0350  21 00 00    	ld	hl,_scr_curr
1366  0353  34          	inc	(hl)
1367  0354  CD 88 03    	call	_spr_page_map
1368  0357  CD 00 00    	call	_game_draw_screen
1369  035A  2E 01       	ld	l,0x01
1370  035C  18 02       	jr	l_spr_page_right_00103
1371  035E              l_spr_page_right_00102:
1372  035E  2E 00       	ld	l,0x00
1373  0360              l_spr_page_right_00103:
1374  0360  C9          	ret
1375  0361              	SECTION code_compiler
1376  0361              ;	---------------------------------
1377  0361              ; Function spr_page_left
1378  0361              ; ---------------------------------
1379  0361              _spr_page_left:
1380  0361  2A 00 00    	ld	hl,(_sprite)
1381  0364  26 00       	ld	h,0x00
1382  0366  01 00 00    	ld	bc,_class
1383  0369  09          	add	hl,bc
1384  036A  7E          	ld	a,(hl)
1385  036B  D6 10       	sub	a,0x10
1386  036D  28 04       	jr	Z,l_spr_page_left_00102
1387  036F  2E 00       	ld	l,0x00
1388  0371  18 14       	jr	l_spr_page_left_00105
1389  0373              l_spr_page_left_00102:
1390  0373  21 00 00    	ld	hl,_scr_curr
1391  0376  7E          	ld	a, (hl)
1392  0377  B7          	or	a, a
1393  0378  28 0B       	jr	Z,l_spr_page_left_00104
1394  037A  35          	dec	(hl)
1395  037B  CD 88 03    	call	_spr_page_map
1396  037E  CD 00 00    	call	_game_draw_screen
1397  0381  2E 01       	ld	l,0x01
1398  0383  18 02       	jr	l_spr_page_left_00105
1399  0385              l_spr_page_left_00104:
1400  0385  2E 00       	ld	l,0x00
1401  0387              l_spr_page_left_00105:
1402  0387  C9          	ret
1403  0388              	SECTION code_compiler
1404  0388              ;	---------------------------------
1405  0388              ; Function spr_page_map
1406  0388              ; ---------------------------------
1407  0388              _spr_page_map:
1408  0388  CD 00 00    	call	___sdcc_enter_ix
1409  038B  F5          	push	af
1410  038C  F5          	push	af
1411  038D  F5          	push	af
1412  038E  3B          	dec	sp
1413  038F  DD 36 F9 10 	ld	(ix-7),0x10
1414  0393  DD 36 FA 00 	ld	(ix-6),0x00
1415  0397              l_spr_page_map_00129:
1416  0397  3E 07       	ld	a,0x07
1417  0399  21 00 00    	ld	hl,_scr_curr
1418  039C  96          	sub	a, (hl)
1419  039D  DA CE 04    	jp	C, l_spr_page_map_00109
1420  03A0  DD 7E FA    	ld	a,(ix-6)
1421  03A3  DD 77 FE    	ld	(ix-2),a
1422  03A6  DD 36 FF 00 	ld	(ix-1),0x00
1423  03AA  DD 34 FE    	inc	(ix-2)
1424  03AD  20 03       	jr	NZ,l_spr_page_map_00181
1425  03AF  DD 34 FF    	inc	(ix-1)
1426  03B2              l_spr_page_map_00181:
1427  03B2  4E          	ld	c, (hl)
1428  03B3  06 00       	ld	b,0x00
1429  03B5  21 BC 03    	ld	hl,l_spr_page_map_00182
1430  03B8  09          	add	hl, bc
1431  03B9  09          	add	hl, bc
1432  03BA  09          	add	hl, bc
1433  03BB  E9          	jp	(hl)
1434  03BC              l_spr_page_map_00182:
1435  03BC  C3 D4 03    	jp	l_spr_page_map_00101
1436  03BF  C3 F4 03    	jp	l_spr_page_map_00102
1437  03C2  C3 14 04    	jp	l_spr_page_map_00103
1438  03C5  C3 34 04    	jp	l_spr_page_map_00104
1439  03C8  C3 54 04    	jp	l_spr_page_map_00105
1440  03CB  C3 73 04    	jp	l_spr_page_map_00106
1441  03CE  C3 92 04    	jp	l_spr_page_map_00107
1442  03D1  C3 B1 04    	jp	l_spr_page_map_00108
1443  03D4              l_spr_page_map_00101:
1444  03D4  3E 00       	ld	a, +((_scr_0) & 0xFF)
1445  03D6  DD 86 FA    	add	a,(ix-6)
1446  03D9  6F          	ld	l, a
1447  03DA  3E 00       	ld	a, +((_scr_0) / 256)
1448  03DC  CE 00       	adc	a,0x00
1449  03DE  67          	ld	h, a
1450  03DF  7E          	ld	a, (hl)
1451  03E0  DD 77 FD    	ld	(ix-3),a
1452  03E3  01 00 00    	ld	bc,_scr_0
1453  03E6  DD 6E FE    	ld	l,(ix-2)
1454  03E9  DD 66 FF    	ld	h,(ix-1)
1455  03EC  09          	add	hl,bc
1456  03ED  7E          	ld	a, (hl)
1457  03EE  DD 77 FC    	ld	(ix-4),a
1458  03F1  C3 CE 04    	jp	l_spr_page_map_00109
1459  03F4              l_spr_page_map_00102:
1460  03F4  3E 00       	ld	a, +((_scr_1) & 0xFF)
1461  03F6  DD 86 FA    	add	a,(ix-6)
1462  03F9  6F          	ld	l, a
1463  03FA  3E 00       	ld	a, +((_scr_1) / 256)
1464  03FC  CE 00       	adc	a,0x00
1465  03FE  67          	ld	h, a
1466  03FF  7E          	ld	a, (hl)
1467  0400  DD 77 FD    	ld	(ix-3),a
1468  0403  01 00 00    	ld	bc,_scr_1
1469  0406  DD 6E FE    	ld	l,(ix-2)
1470  0409  DD 66 FF    	ld	h,(ix-1)
1471  040C  09          	add	hl,bc
1472  040D  7E          	ld	a, (hl)
1473  040E  DD 77 FC    	ld	(ix-4),a
1474  0411  C3 CE 04    	jp	l_spr_page_map_00109
1475  0414              l_spr_page_map_00103:
1476  0414  3E 00       	ld	a, +((_scr_2) & 0xFF)
1477  0416  DD 86 FA    	add	a,(ix-6)
1478  0419  6F          	ld	l, a
1479  041A  3E 00       	ld	a, +((_scr_2) / 256)
1480  041C  CE 00       	adc	a,0x00
1481  041E  67          	ld	h, a
1482  041F  7E          	ld	a, (hl)
1483  0420  DD 77 FD    	ld	(ix-3),a
1484  0423  01 00 00    	ld	bc,_scr_2
1485  0426  DD 6E FE    	ld	l,(ix-2)
1486  0429  DD 66 FF    	ld	h,(ix-1)
1487  042C  09          	add	hl,bc
1488  042D  7E          	ld	a, (hl)
1489  042E  DD 77 FC    	ld	(ix-4),a
1490  0431  C3 CE 04    	jp	l_spr_page_map_00109
1491  0434              l_spr_page_map_00104:
1492  0434  3E 00       	ld	a, +((_scr_3) & 0xFF)
1493  0436  DD 86 FA    	add	a,(ix-6)
1494  0439  6F          	ld	l, a
1495  043A  3E 00       	ld	a, +((_scr_3) / 256)
1496  043C  CE 00       	adc	a,0x00
1497  043E  67          	ld	h, a
1498  043F  7E          	ld	a, (hl)
1499  0440  DD 77 FD    	ld	(ix-3),a
1500  0443  01 00 00    	ld	bc,_scr_3
1501  0446  DD 6E FE    	ld	l,(ix-2)
1502  0449  DD 66 FF    	ld	h,(ix-1)
1503  044C  09          	add	hl,bc
1504  044D  7E          	ld	a, (hl)
1505  044E  DD 77 FC    	ld	(ix-4),a
1506  0451  C3 CE 04    	jp	l_spr_page_map_00109
1507  0454              l_spr_page_map_00105:
1508  0454  3E 00       	ld	a, +((_scr_4) & 0xFF)
1509  0456  DD 86 FA    	add	a,(ix-6)
1510  0459  6F          	ld	l, a
1511  045A  3E 00       	ld	a, +((_scr_4) / 256)
1512  045C  CE 00       	adc	a,0x00
1513  045E  67          	ld	h, a
1514  045F  7E          	ld	a, (hl)
1515  0460  DD 77 FD    	ld	(ix-3),a
1516  0463  01 00 00    	ld	bc,_scr_4
1517  0466  DD 6E FE    	ld	l,(ix-2)
1518  0469  DD 66 FF    	ld	h,(ix-1)
1519  046C  09          	add	hl,bc
1520  046D  7E          	ld	a, (hl)
1521  046E  DD 77 FC    	ld	(ix-4),a
1522  0471  18 5B       	jr	l_spr_page_map_00109
1523  0473              l_spr_page_map_00106:
1524  0473  3E 00       	ld	a, +((_scr_5) & 0xFF)
1525  0475  DD 86 FA    	add	a,(ix-6)
1526  0478  6F          	ld	l, a
1527  0479  3E 00       	ld	a, +((_scr_5) / 256)
1528  047B  CE 00       	adc	a,0x00
1529  047D  67          	ld	h, a
1530  047E  7E          	ld	a, (hl)
1531  047F  DD 77 FD    	ld	(ix-3),a
1532  0482  01 00 00    	ld	bc,_scr_5
1533  0485  DD 6E FE    	ld	l,(ix-2)
1534  0488  DD 66 FF    	ld	h,(ix-1)
1535  048B  09          	add	hl,bc
1536  048C  7E          	ld	a, (hl)
1537  048D  DD 77 FC    	ld	(ix-4),a
1538  0490  18 3C       	jr	l_spr_page_map_00109
1539  0492              l_spr_page_map_00107:
1540  0492  3E 00       	ld	a, +((_scr_6) & 0xFF)
1541  0494  DD 86 FA    	add	a,(ix-6)
1542  0497  6F          	ld	l, a
1543  0498  3E 00       	ld	a, +((_scr_6) / 256)
1544  049A  CE 00       	adc	a,0x00
1545  049C  67          	ld	h, a
1546  049D  7E          	ld	a, (hl)
1547  049E  DD 77 FD    	ld	(ix-3),a
1548  04A1  01 00 00    	ld	bc,_scr_6
1549  04A4  DD 6E FE    	ld	l,(ix-2)
1550  04A7  DD 66 FF    	ld	h,(ix-1)
1551  04AA  09          	add	hl,bc
1552  04AB  7E          	ld	a, (hl)
1553  04AC  DD 77 FC    	ld	(ix-4),a
1554  04AF  18 1D       	jr	l_spr_page_map_00109
1555  04B1              l_spr_page_map_00108:
1556  04B1  3E 00       	ld	a, +((_scr_7) & 0xFF)
1557  04B3  DD 86 FA    	add	a,(ix-6)
1558  04B6  6F          	ld	l, a
1559  04B7  3E 00       	ld	a, +((_scr_7) / 256)
1560  04B9  CE 00       	adc	a,0x00
1561  04BB  67          	ld	h, a
1562  04BC  7E          	ld	a, (hl)
1563  04BD  DD 77 FD    	ld	(ix-3),a
1564  04C0  01 00 00    	ld	bc,_scr_7
1565  04C3  DD 6E FE    	ld	l,(ix-2)
1566  04C6  DD 66 FF    	ld	h,(ix-1)
1567  04C9  09          	add	hl,bc
1568  04CA  7E          	ld	a, (hl)
1569  04CB  DD 77 FC    	ld	(ix-4),a
1570  04CE              l_spr_page_map_00109:
1571  04CE  DD 7E FD    	ld	a,(ix-3)
1572  04D1  D6 80       	sub	a,0x80
1573  04D3  30 3C       	jr	NC,l_spr_page_map_00120
1574  04D5  3E 00       	ld	a, +((_scr_obj) & 0xFF)
1575  04D7  DD 86 F9    	add	a,(ix-7)
1576  04DA  6F          	ld	l, a
1577  04DB  3E 00       	ld	a, +((_scr_obj) / 256)
1578  04DD  CE 00       	adc	a,0x00
1579  04DF  67          	ld	h, a
1580  04E0  5E          	ld	e, (hl)
1581  04E1  21 00 00    	ld	hl,_scr_curr
1582  04E4  46          	ld	b, (hl)
1583  04E5  04          	inc	b
1584  04E6  21 01 00    	ld	hl,0x0001
1585  04E9  18 01       	jr	l_spr_page_map_00184
1586  04EB              l_spr_page_map_00183:
1587  04EB  29          	add	hl, hl
1588  04EC              l_spr_page_map_00184:
1589  04EC  10 FD       	djnz	l_spr_page_map_00183
1590  04EE  16 00       	ld	d,0x00
1591  04F0  3E 00       	ld	a, +((_scr_map) & 0xFF)
1592  04F2  DD 86 F9    	add	a,(ix-7)
1593  04F5  4F          	ld	c, a
1594  04F6  3E 00       	ld	a, +((_scr_map) / 256)
1595  04F8  CE 00       	adc	a,0x00
1596  04FA  47          	ld	b, a
1597  04FB  7D          	ld	a, l
1598  04FC  A3          	and	a, e
1599  04FD  5F          	ld	e, a
1600  04FE  7C          	ld	a, h
1601  04FF  A2          	and	a, d
1602  0500  57          	ld	d,a
1603  0501  B3          	or	a,e
1604  0502  20 06       	jr	NZ,l_spr_page_map_00111
1605  0504  DD 7E FD    	ld	a,(ix-3)
1606  0507  02          	ld	(bc), a
1607  0508  18 02       	jr	l_spr_page_map_00112
1608  050A              l_spr_page_map_00111:
1609  050A  AF          	xor	a, a
1610  050B  02          	ld	(bc), a
1611  050C              l_spr_page_map_00112:
1612  050C  DD 34 F9    	inc	(ix-7)
1613  050F  18 54       	jr	l_spr_page_map_00121
1614  0511              l_spr_page_map_00120:
1615  0511  DD 7E FD    	ld	a,(ix-3)
1616  0514  C6 80       	add	a,0x80
1617  0516  DD 77 FB    	ld	(ix-5),a
1618  0519  DD 4E F9    	ld	c,(ix-7)
1619  051C  1E 00       	ld	e,0x00
1620  051E              l_spr_page_map_00127:
1621  051E  7B          	ld	a, e
1622  051F  DD 96 FB    	sub	a,(ix-5)
1623  0522  30 3B       	jr	NC,l_spr_page_map_00146
1624  0524  06 00       	ld	b,0x00
1625  0526  21 00 00    	ld	hl,_scr_obj
1626  0529  09          	add	hl, bc
1627  052A  56          	ld	d, (hl)
1628  052B  21 00 00    	ld	hl,_scr_curr
1629  052E  46          	ld	b, (hl)
1630  052F  04          	inc	b
1631  0530  21 01 00    	ld	hl,0x0001
1632  0533  18 01       	jr	l_spr_page_map_00186
1633  0535              l_spr_page_map_00185:
1634  0535  29          	add	hl, hl
1635  0536              l_spr_page_map_00186:
1636  0536  10 FD       	djnz	l_spr_page_map_00185
1637  0538  06 00       	ld	b,0x00
1638  053A  7D          	ld	a, l
1639  053B  A2          	and	a, d
1640  053C  6F          	ld	l, a
1641  053D  7C          	ld	a, h
1642  053E  A0          	and	a, b
1643  053F  57          	ld	d,a
1644  0540  B5          	or	a,l
1645  0541  20 0B       	jr	NZ,l_spr_page_map_00114
1646  0543  47          	ld	b,a
1647  0544  21 00 00    	ld	hl,_scr_map
1648  0547  09          	add	hl, bc
1649  0548  DD 7E FC    	ld	a,(ix-4)
1650  054B  77          	ld	(hl), a
1651  054C  18 08       	jr	l_spr_page_map_00115
1652  054E              l_spr_page_map_00114:
1653  054E  06 00       	ld	b,0x00
1654  0550  21 00 00    	ld	hl,_scr_map
1655  0553  09          	add	hl, bc
1656  0554  36 00       	ld	(hl),0x00
1657  0556              l_spr_page_map_00115:
1658  0556  0C          	inc	c
1659  0557  79          	ld	a, c
1660  0558  D6 A0       	sub	a,0xa0
1661  055A  30 03       	jr	NC,l_spr_page_map_00146
1662  055C  1C          	inc	e
1663  055D  18 BF       	jr	l_spr_page_map_00127
1664  055F              l_spr_page_map_00146:
1665  055F  DD 71 F9    	ld	(ix-7),c
1666  0562  DD 34 FA    	inc	(ix-6)
1667  0565              l_spr_page_map_00121:
1668  0565  DD 7E F9    	ld	a,(ix-7)
1669  0568  D6 A0       	sub	a,0xa0
1670  056A  30 0B       	jr	NC,l_spr_page_map_00144
1671  056C  DD 34 FA    	inc	(ix-6)
1672  056F  DD 7E FA    	ld	a,(ix-6)
1673  0572  D6 A0       	sub	a,0xa0
1674  0574  DA 97 03    	jp	C, l_spr_page_map_00129
1675  0577              l_spr_page_map_00144:
1676  0577  0E 00       	ld	c,0x00
1677  0579              l_spr_page_map_00131:
1678  0579  06 00       	ld	b,0x00
1679  057B  21 00 00    	ld	hl,_class
1680  057E  09          	add	hl, bc
1681  057F  36 00       	ld	(hl),0x00
1682  0581  C5          	push	bc
1683  0582  21 00 00    	ld	hl,0x0000
1684  0585  E5          	push	hl
1685  0586  AF          	xor	a, a
1686  0587  F5          	push	af
1687  0588  33          	inc	sp
1688  0589  79          	ld	a, c
1689  058A  F5          	push	af
1690  058B  33          	inc	sp
1691  058C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1692  058F  C1          	pop	bc
1693  0590  0C          	inc	c
1694  0591  79          	ld	a, c
1695  0592  D6 07       	sub	a,0x07
1696  0594  38 E3       	jr	C,l_spr_page_map_00131
1697  0596  CD 3D 0B    	call	_spr_init_anim_bullets
1698  0599  DD F9       	ld	sp, ix
1699  059B  DD E1       	pop	ix
1700  059D  C9          	ret
1701  059E              	SECTION code_compiler
1702  059E              ;	---------------------------------
1703  059E              ; Function spr_redraw
1704  059E              ; ---------------------------------
1705  059E              _spr_redraw:
1706  059E  2A 00 00    	ld	hl,(_sprite)
1707  05A1  26 00       	ld	h,0x00
1708  05A3  01 00 00    	ld	bc,_tile
1709  05A6  09          	add	hl,bc
1710  05A7  4E          	ld	c, (hl)
1711  05A8  3A 00 00    	ld	a,(_sprite)
1712  05AB  5F          	ld	e,a
1713  05AC  16 00       	ld	d,0x00
1714  05AE  21 00 00    	ld	hl,_colint
1715  05B1  19          	add	hl,de
1716  05B2  7E          	ld	a,(hl)
1717  05B3  81          	add	a,c
1718  05B4  32 00 00    	ld	(_s_tile1),a
1719  05B7  2A 00 00    	ld	hl,(_sprite)
1720  05BA  26 00       	ld	h,0x00
1721  05BC  01 00 00    	ld	bc,_col
1722  05BF  09          	add	hl,bc
1723  05C0  7E          	ld	a,(hl)
1724  05C1  32 00 00    	ld	(_s_col1),a
1725  05C4  2A 00 00    	ld	hl,(_sprite)
1726  05C7  26 00       	ld	h,0x00
1727  05C9  01 00 00    	ld	bc,_lin
1728  05CC  09          	add	hl,bc
1729  05CD  7E          	ld	a,(hl)
1730  05CE  21 00 00    	ld	hl,_s_lin1
1731  05D1  77          	ld	(hl),a
1732  05D2  4F          	ld	c,a
1733  05D3  7E          	ld	a, (hl)
1734  05D4  21 00 00    	ld	hl,_s_lin0
1735  05D7  96          	sub	a, (hl)
1736  05D8  20 0A       	jr	NZ,l_spr_redraw_00117
1737  05DA  3A 00 00    	ld	a,(_s_col1)
1738  05DD  21 00 00    	ld	hl,_s_col0
1739  05E0  96          	sub	a, (hl)
1740  05E1  CA 7D 06    	jp	Z,l_spr_redraw_00118
1741  05E4              l_spr_redraw_00117:
1742  05E4  3A 00 00    	ld	a,(_sprite)
1743  05E7  D6 07       	sub	a,0x07
1744  05E9  20 04       	jr	NZ,l_spr_redraw_00158
1745  05EB  3E 01       	ld	a,0x01
1746  05ED  18 01       	jr	l_spr_redraw_00159
1747  05EF              l_spr_redraw_00158:
1748  05EF  AF          	xor	a,a
1749  05F0              l_spr_redraw_00159:
1750  05F0  47          	ld	b,a
1751  05F1  B7          	or	a, a
1752  05F2  28 12       	jr	Z,l_spr_redraw_00105
1753  05F4  3A 00 00    	ld	a,(_player_over_stair)
1754  05F7  B7          	or	a, a
1755  05F8  28 0C       	jr	Z,l_spr_redraw_00105
1756  05FA  79          	ld	a, c
1757  05FB  E6 03       	and	a,0x03
1758  05FD  20 07       	jr	NZ,l_spr_redraw_00105
1759  05FF  21 00 00    	ld	hl,_s_tile1
1760  0602  34          	inc	(hl)
1761  0603  34          	inc	(hl)
1762  0604  34          	inc	(hl)
1763  0605  34          	inc	(hl)
1764  0606              l_spr_redraw_00105:
1765  0606  78          	ld	a, b
1766  0607  B7          	or	a, a
1767  0608  28 05       	jr	Z,l_spr_redraw_00113
1768  060A  CD BB 09    	call	_spr_back_repaint
1769  060D  18 57       	jr	l_spr_redraw_00114
1770  060F              l_spr_redraw_00113:
1771  060F  3A 00 00    	ld	a,(_s_lin1)
1772  0612  E6 07       	and	a,0x07
1773  0614  20 05       	jr	NZ,l_spr_redraw_00110
1774  0616  CD BB 09    	call	_spr_back_repaint
1775  0619  18 4B       	jr	l_spr_redraw_00114
1776  061B              l_spr_redraw_00110:
1777  061B  21 00 00    	ld	hl,_s_state
1778  061E  CB 46       	bit	0, (hl)
1779  0620  28 24       	jr	Z,l_spr_redraw_00107
1780  0622  3A 00 00    	ld	a,(_s_lin0)
1781  0625  C6 08       	add	a,0x08
1782  0627  47          	ld	b, a
1783  0628  3A 00 00    	ld	a,(_s_col0)
1784  062B  F5          	push	af
1785  062C  33          	inc	sp
1786  062D  C5          	push	bc
1787  062E  33          	inc	sp
1788  062F  3E 49       	ld	a,0x49
1789  0631  F5          	push	af
1790  0632  33          	inc	sp
1791  0633  CD 00 00    	call	_NIRVANAP_fillC_callee
1792  0636  21 00 00    	ld	hl,_s_col0
1793  0639  56          	ld	d, (hl)
1794  063A  14          	inc	d
1795  063B  58          	ld	e,b
1796  063C  D5          	push	de
1797  063D  3E 49       	ld	a,0x49
1798  063F  F5          	push	af
1799  0640  33          	inc	sp
1800  0641  CD 00 00    	call	_NIRVANAP_fillC_callee
1801  0644  18 20       	jr	l_spr_redraw_00114
1802  0646              l_spr_redraw_00107:
1803  0646  3A 00 00    	ld	a,(_s_col0)
1804  0649  F5          	push	af
1805  064A  33          	inc	sp
1806  064B  3A 00 00    	ld	a,(_s_lin0)
1807  064E  57          	ld	d,a
1808  064F  1E 49       	ld	e,0x49
1809  0651  D5          	push	de
1810  0652  CD 00 00    	call	_NIRVANAP_fillC_callee
1811  0655  21 00 00    	ld	hl,_s_col0
1812  0658  46          	ld	b, (hl)
1813  0659  04          	inc	b
1814  065A  C5          	push	bc
1815  065B  33          	inc	sp
1816  065C  3A 00 00    	ld	a,(_s_lin0)
1817  065F  57          	ld	d,a
1818  0660  1E 49       	ld	e,0x49
1819  0662  D5          	push	de
1820  0663  CD 00 00    	call	_NIRVANAP_fillC_callee
1821  0666              l_spr_redraw_00114:
1822  0666  2A FF FF    	ld	hl,(_s_col1 - 1)
1823  0669  3A 00 00    	ld	a,(_s_lin1)
1824  066C  6F          	ld	l,a
1825  066D  E5          	push	hl
1826  066E  2A FF FF    	ld	hl,(_s_tile1 - 1)
1827  0671  3A 00 00    	ld	a,(_sprite)
1828  0674  6F          	ld	l,a
1829  0675  E5          	push	hl
1830  0676  CD 00 00    	call	_NIRVANAP_spriteT_callee
1831  0679  2E 01       	ld	l,0x01
1832  067B  18 22       	jr	l_spr_redraw_00121
1833  067D              l_spr_redraw_00118:
1834  067D  3A 00 00    	ld	a,(_s_tile1)
1835  0680  21 00 00    	ld	hl,_s_tile0
1836  0683  96          	sub	a, (hl)
1837  0684  28 17       	jr	Z,l_spr_redraw_00119
1838  0686  2A FF FF    	ld	hl,(_s_col1 - 1)
1839  0689  3A 00 00    	ld	a,(_s_lin1)
1840  068C  6F          	ld	l,a
1841  068D  E5          	push	hl
1842  068E  2A FF FF    	ld	hl,(_s_tile1 - 1)
1843  0691  3A 00 00    	ld	a,(_sprite)
1844  0694  6F          	ld	l,a
1845  0695  E5          	push	hl
1846  0696  CD 00 00    	call	_NIRVANAP_spriteT_callee
1847  0699  2E 00       	ld	l,0x00
1848  069B  18 02       	jr	l_spr_redraw_00121
1849  069D              l_spr_redraw_00119:
1850  069D  2E 00       	ld	l,0x00
1851  069F              l_spr_redraw_00121:
1852  069F  C9          	ret
1853  06A0              	SECTION code_compiler
1854  06A0              ;	---------------------------------
1855  06A0              ; Function spr_destroy
1856  06A0              ; ---------------------------------
1857  06A0              _spr_destroy:
1858  06A0  CD 00 00    	call	___sdcc_enter_ix
1859  06A3  F5          	push	af
1860  06A4  4D          	ld	c, l
1861  06A5  21 00 00    	ld	hl,_spr_count
1862  06A8  35          	dec	(hl)
1863  06A9  3E 00       	ld	a, +((_lin) & 0xFF)
1864  06AB  81          	add	a, c
1865  06AC  DD 77 FE    	ld	(ix-2),a
1866  06AF  3E 00       	ld	a, +((_lin) / 256)
1867  06B1  CE 00       	adc	a,0x00
1868  06B3  DD 77 FF    	ld	(ix-1),a
1869  06B6  E1          	pop	hl
1870  06B7  7E          	ld	a,(hl)
1871  06B8  E5          	push	hl
1872  06B9  32 00 00    	ld	(_s_lin0),a
1873  06BC  3E 00       	ld	a, +((_col) & 0xFF)
1874  06BE  81          	add	a, c
1875  06BF  5F          	ld	e, a
1876  06C0  3E 00       	ld	a, +((_col) / 256)
1877  06C2  CE 00       	adc	a,0x00
1878  06C4  57          	ld	d, a
1879  06C5  1A          	ld	a, (de)
1880  06C6  32 00 00    	ld	(_s_col0),a
1881  06C9  C5          	push	bc
1882  06CA  D5          	push	de
1883  06CB  21 00 00    	ld	hl,0x0000
1884  06CE  E5          	push	hl
1885  06CF  AF          	xor	a, a
1886  06D0  F5          	push	af
1887  06D1  33          	inc	sp
1888  06D2  79          	ld	a, c
1889  06D3  F5          	push	af
1890  06D4  33          	inc	sp
1891  06D5  CD 00 00    	call	_NIRVANAP_spriteT_callee
1892  06D8  CD BB 09    	call	_spr_back_repaint
1893  06DB  D1          	pop	de
1894  06DC  C1          	pop	bc
1895  06DD  06 00       	ld	b,0x00
1896  06DF  21 00 00    	ld	hl,_tile
1897  06E2  09          	add	hl, bc
1898  06E3  AF          	xor	a,a
1899  06E4  77          	ld	(hl),a
1900  06E5  E1          	pop	hl
1901  06E6  12          	ld	(de),a
1902  06E7  E5          	push	hl
1903  06E8  36 00       	ld	(hl),0x00
1904  06EA  11 00 00    	ld	de,_class+0
1905  06ED  69          	ld	l,c
1906  06EE  26 00       	ld	h,0x00
1907  06F0  19          	add	hl, de
1908  06F1  36 00       	ld	(hl),0x00
1909  06F3  11 00 00    	ld	de,_state+0
1910  06F6  69          	ld	l,c
1911  06F7  26 00       	ld	h,0x00
1912  06F9  19          	add	hl, de
1913  06FA  36 00       	ld	(hl),0x00
1914  06FC  11 00 00    	ld	de,_state_a+0
1915  06FF  69          	ld	l,c
1916  0700  26 00       	ld	h,0x00
1917  0702  19          	add	hl, de
1918  0703  F1          	pop	af
1919  0704  36 00       	ld	(hl),0x00
1920  0706  DD E1       	pop	ix
1921  0708  C9          	ret
1922  0709              	SECTION code_compiler
1923  0709              ;	---------------------------------
1924  0709              ; Function spr_tile
1925  0709              ; ---------------------------------
1926  0709              _spr_tile:
1927  0709  45          	ld	b,l
1928  070A  11 00 00    	ld	de,_class+0
1929  070D  26 00       	ld	h,0x00
1930  070F  19          	add	hl, de
1931  0710  5E          	ld	e, (hl)
1932  0711  3E 0B       	ld	a,0x0b
1933  0713  93          	sub	a, e
1934  0714  DA EF 07    	jp	C, l_spr_tile_00112
1935  0717  16 00       	ld	d,0x00
1936  0719  21 20 07    	ld	hl,l_spr_tile_00119
1937  071C  19          	add	hl, de
1938  071D  19          	add	hl, de
1939  071E  19          	add	hl, de
1940  071F  E9          	jp	(hl)
1941  0720              l_spr_tile_00119:
1942  0720  C3 EF 07    	jp	l_spr_tile_00112
1943  0723  C3 94 07    	jp	l_spr_tile_00106
1944  0726  C3 A4 07    	jp	l_spr_tile_00107
1945  0729  C3 B3 07    	jp	l_spr_tile_00108
1946  072C  C3 C2 07    	jp	l_spr_tile_00109
1947  072F  C3 44 07    	jp	l_spr_tile_00101
1948  0732  C3 54 07    	jp	l_spr_tile_00102
1949  0735  C3 64 07    	jp	l_spr_tile_00103
1950  0738  C3 75 07    	jp	l_spr_tile_00104
1951  073B  C3 84 07    	jp	l_spr_tile_00105
1952  073E  C3 D1 07    	jp	l_spr_tile_00110
1953  0741  C3 E0 07    	jp	l_spr_tile_00111
1954  0744              l_spr_tile_00101:
1955  0744  AF          	xor	a, a
1956  0745  48          	ld	c,b
1957  0746  47          	ld	b,a
1958  0747  C5          	push	bc
1959  0748  3E 84       	ld	a,0x84
1960  074A  F5          	push	af
1961  074B  33          	inc	sp
1962  074C  CD F2 07    	call	_spr_tile_dir
1963  074F  F1          	pop	af
1964  0750  33          	inc	sp
1965  0751  C3 F1 07    	jp	l_spr_tile_00113
1966  0754              l_spr_tile_00102:
1967  0754  AF          	xor	a, a
1968  0755  48          	ld	c,b
1969  0756  47          	ld	b,a
1970  0757  C5          	push	bc
1971  0758  3E 88       	ld	a,0x88
1972  075A  F5          	push	af
1973  075B  33          	inc	sp
1974  075C  CD F2 07    	call	_spr_tile_dir
1975  075F  F1          	pop	af
1976  0760  33          	inc	sp
1977  0761  C3 F1 07    	jp	l_spr_tile_00113
1978  0764              l_spr_tile_00103:
1979  0764  3E 02       	ld	a,0x02
1980  0766  48          	ld	c,b
1981  0767  47          	ld	b,a
1982  0768  C5          	push	bc
1983  0769  3E 8C       	ld	a,0x8c
1984  076B  F5          	push	af
1985  076C  33          	inc	sp
1986  076D  CD F2 07    	call	_spr_tile_dir
1987  0770  F1          	pop	af
1988  0771  33          	inc	sp
1989  0772  C3 F1 07    	jp	l_spr_tile_00113
1990  0775              l_spr_tile_00104:
1991  0775  AF          	xor	a, a
1992  0776  48          	ld	c,b
1993  0777  47          	ld	b,a
1994  0778  C5          	push	bc
1995  0779  3E 90       	ld	a,0x90
1996  077B  F5          	push	af
1997  077C  33          	inc	sp
1998  077D  CD F2 07    	call	_spr_tile_dir
1999  0780  F1          	pop	af
2000  0781  33          	inc	sp
2001  0782  18 6D       	jr	l_spr_tile_00113
2002  0784              l_spr_tile_00105:
2003  0784  3E 04       	ld	a,0x04
2004  0786  48          	ld	c,b
2005  0787  47          	ld	b,a
2006  0788  C5          	push	bc
2007  0789  3E 94       	ld	a,0x94
2008  078B  F5          	push	af
2009  078C  33          	inc	sp
2010  078D  CD F2 07    	call	_spr_tile_dir
2011  0790  F1          	pop	af
2012  0791  33          	inc	sp
2013  0792  18 5D       	jr	l_spr_tile_00113
2014  0794              l_spr_tile_00106:
2015  0794  3E 02       	ld	a,0x02
2016  0796  48          	ld	c,b
2017  0797  47          	ld	b,a
2018  0798  C5          	push	bc
2019  0799  3E 9C       	ld	a,0x9c
2020  079B  F5          	push	af
2021  079C  33          	inc	sp
2022  079D  CD F2 07    	call	_spr_tile_dir
2023  07A0  F1          	pop	af
2024  07A1  33          	inc	sp
2025  07A2  18 4D       	jr	l_spr_tile_00113
2026  07A4              l_spr_tile_00107:
2027  07A4  AF          	xor	a, a
2028  07A5  48          	ld	c,b
2029  07A6  47          	ld	b,a
2030  07A7  C5          	push	bc
2031  07A8  3E A0       	ld	a,0xa0
2032  07AA  F5          	push	af
2033  07AB  33          	inc	sp
2034  07AC  CD F2 07    	call	_spr_tile_dir
2035  07AF  F1          	pop	af
2036  07B0  33          	inc	sp
2037  07B1  18 3E       	jr	l_spr_tile_00113
2038  07B3              l_spr_tile_00108:
2039  07B3  AF          	xor	a, a
2040  07B4  48          	ld	c,b
2041  07B5  47          	ld	b,a
2042  07B6  C5          	push	bc
2043  07B7  3E A2       	ld	a,0xa2
2044  07B9  F5          	push	af
2045  07BA  33          	inc	sp
2046  07BB  CD F2 07    	call	_spr_tile_dir
2047  07BE  F1          	pop	af
2048  07BF  33          	inc	sp
2049  07C0  18 2F       	jr	l_spr_tile_00113
2050  07C2              l_spr_tile_00109:
2051  07C2  AF          	xor	a, a
2052  07C3  48          	ld	c,b
2053  07C4  47          	ld	b,a
2054  07C5  C5          	push	bc
2055  07C6  3E A4       	ld	a,0xa4
2056  07C8  F5          	push	af
2057  07C9  33          	inc	sp
2058  07CA  CD F2 07    	call	_spr_tile_dir
2059  07CD  F1          	pop	af
2060  07CE  33          	inc	sp
2061  07CF  18 20       	jr	l_spr_tile_00113
2062  07D1              l_spr_tile_00110:
2063  07D1  AF          	xor	a, a
2064  07D2  48          	ld	c,b
2065  07D3  47          	ld	b,a
2066  07D4  C5          	push	bc
2067  07D5  3E A6       	ld	a,0xa6
2068  07D7  F5          	push	af
2069  07D8  33          	inc	sp
2070  07D9  CD F2 07    	call	_spr_tile_dir
2071  07DC  F1          	pop	af
2072  07DD  33          	inc	sp
2073  07DE  18 11       	jr	l_spr_tile_00113
2074  07E0              l_spr_tile_00111:
2075  07E0  AF          	xor	a, a
2076  07E1  48          	ld	c,b
2077  07E2  47          	ld	b,a
2078  07E3  C5          	push	bc
2079  07E4  3E A8       	ld	a,0xa8
2080  07E6  F5          	push	af
2081  07E7  33          	inc	sp
2082  07E8  CD F2 07    	call	_spr_tile_dir
2083  07EB  F1          	pop	af
2084  07EC  33          	inc	sp
2085  07ED  18 02       	jr	l_spr_tile_00113
2086  07EF              l_spr_tile_00112:
2087  07EF  2E 00       	ld	l,0x00
2088  07F1              l_spr_tile_00113:
2089  07F1  C9          	ret
2090  07F2              	SECTION code_compiler
2091  07F2              ;	---------------------------------
2092  07F2              ; Function spr_tile_dir
2093  07F2              ; ---------------------------------
2094  07F2              _spr_tile_dir:
2095  07F2  CD 00 00    	call	___sdcc_enter_ix
2096  07F5  3E 00       	ld	a, +((_state) & 0xFF)
2097  07F7  DD 86 05    	add	a,(ix+5)
2098  07FA  4F          	ld	c, a
2099  07FB  3E 00       	ld	a, +((_state) / 256)
2100  07FD  CE 00       	adc	a,0x00
2101  07FF  47          	ld	b, a
2102  0800  0A          	ld	a, (bc)
2103  0801  4F          	ld	c,a
2104  0802  CB 57       	bit	2,a
2105  0804  28 05       	jr	Z,l_spr_tile_dir_00102
2106  0806  DD 6E 04    	ld	l,(ix+4)
2107  0809  18 2D       	jr	l_spr_tile_dir_00109
2108  080B              l_spr_tile_dir_00102:
2109  080B  DD 7E 04    	ld	a,(ix+4)
2110  080E  DD 86 06    	add	a,(ix+6)
2111  0811  47          	ld	b, a
2112  0812  CB 59       	bit	3, c
2113  0814  28 03       	jr	Z,l_spr_tile_dir_00104
2114  0816  68          	ld	l, b
2115  0817  18 1F       	jr	l_spr_tile_dir_00109
2116  0819              l_spr_tile_dir_00104:
2117  0819  3E 00       	ld	a, +((_state_a) & 0xFF)
2118  081B  DD 86 05    	add	a,(ix+5)
2119  081E  5F          	ld	e, a
2120  081F  3E 00       	ld	a, +((_state_a) / 256)
2121  0821  CE 00       	adc	a,0x00
2122  0823  57          	ld	d, a
2123  0824  1A          	ld	a, (de)
2124  0825  CB 67       	bit	4, a
2125  0827  28 05       	jr	Z,l_spr_tile_dir_00106
2126  0829  DD 6E 04    	ld	l,(ix+4)
2127  082C  18 0A       	jr	l_spr_tile_dir_00109
2128  082E              l_spr_tile_dir_00106:
2129  082E  CB 5F       	bit	3, a
2130  0830  28 03       	jr	Z,l_spr_tile_dir_00108
2131  0832  68          	ld	l, b
2132  0833  18 03       	jr	l_spr_tile_dir_00109
2133  0835              l_spr_tile_dir_00108:
2134  0835  DD 6E 04    	ld	l,(ix+4)
2135  0838              l_spr_tile_dir_00109:
2136  0838  DD E1       	pop	ix
2137  083A  C9          	ret
2138  083B              	SECTION code_compiler
2139  083B              ;	---------------------------------
2140  083B              ; Function spr_draw_clear
2141  083B              ; ---------------------------------
2142  083B              _spr_draw_clear:
2143  083B  F3          	di
2144  083C  2E 00       	ld	l,0x00
2145  083E  CD 00 00    	call	_zx_cls_fastcall
2146  0841  21 00 00    	ld	hl,_s_lin1
2147  0844  36 10       	ld	(hl),0x10
2148  0846              l_spr_draw_clear_00105:
2149  0846  21 00 00    	ld	hl,_s_col1
2150  0849  36 00       	ld	(hl),0x00
2151  084B              l_spr_draw_clear_00103:
2152  084B  2A FF FF    	ld	hl,(_s_col1 - 1)
2153  084E  3A 00 00    	ld	a,(_s_lin1)
2154  0851  6F          	ld	l,a
2155  0852  E5          	push	hl
2156  0853  AF          	xor	a, a
2157  0854  F5          	push	af
2158  0855  33          	inc	sp
2159  0856  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2160  0859  21 00 00    	ld	hl,_s_col1
2161  085C  7E          	ld	a,(hl)
2162  085D  C6 02       	add	a,0x02
2163  085F  77          	ld	(hl),a
2164  0860  D6 20       	sub	a,0x20
2165  0862  38 E7       	jr	C,l_spr_draw_clear_00103
2166  0864  21 00 00    	ld	hl,_s_lin1
2167  0867  7E          	ld	a, (hl)
2168  0868  C6 10       	add	a,0x10
2169  086A  77          	ld	(hl), a
2170  086B  3E A2       	ld	a,0xa2
2171  086D  96          	sub	a, (hl)
2172  086E  30 D6       	jr	NC,l_spr_draw_clear_00105
2173  0870  FB          	ei
2174  0871  C9          	ret
2175  0872              	SECTION code_compiler
2176  0872              ;	---------------------------------
2177  0872              ; Function spr_brick_anim
2178  0872              ; ---------------------------------
2179  0872              _spr_brick_anim:
2180  0872  CD 00 00    	call	___sdcc_enter_ix
2181  0875  F5          	push	af
2182  0876  DD 75 FF    	ld	(ix-1),l
2183  0879  21 00 00    	ld	hl,_player_hit_col
2184  087C  46          	ld	b, (hl)
2185  087D  21 00 00    	ld	hl,_player_hit_lin
2186  0880  4E          	ld	c, (hl)
2187  0881  C5          	push	bc
2188  0882  C5          	push	bc
2189  0883  CD 00 00    	call	_spr_calc_index
2190  0886  F1          	pop	af
2191  0887  C1          	pop	bc
2192  0888  22 00 00    	ld	(_index1),hl
2193  088B  11 F0 FF    	ld	de,0xfff0
2194  088E  19          	add	hl,de
2195  088F  11 00 00    	ld	de,_scr_map
2196  0892  19          	add	hl, de
2197  0893  7E          	ld	a, (hl)
2198  0894  DD 77 FE    	ld	(ix-2),a
2199  0897  11 00 00    	ld	de,_scr_map
2200  089A  2A 00 00    	ld	hl,(_index1)
2201  089D  19          	add	hl,de
2202  089E  66          	ld	h, (hl)
2203  089F  EB          	ex	de,hl
2204  08A0  DD 7E FF    	ld	a,(ix-1)
2205  08A3  B7          	or	a, a
2206  08A4  28 08       	jr	Z,l_spr_brick_anim_00102
2207  08A6  79          	ld	a, c
2208  08A7  C6 F6       	add	a,0xf6
2209  08A9  32 00 00    	ld	(_tmp),a
2210  08AC  18 06       	jr	l_spr_brick_anim_00103
2211  08AE              l_spr_brick_anim_00102:
2212  08AE  79          	ld	a, c
2213  08AF  C6 F8       	add	a,0xf8
2214  08B1  32 00 00    	ld	(_tmp),a
2215  08B4              l_spr_brick_anim_00103:
2216  08B4  F3          	di
2217  08B5  DD 7E FF    	ld	a,(ix-1)
2218  08B8  B7          	or	a, a
2219  08B9  28 18       	jr	Z,l_spr_brick_anim_00105
2220  08BB  C5          	push	bc
2221  08BC  D5          	push	de
2222  08BD  C5          	push	bc
2223  08BE  33          	inc	sp
2224  08BF  51          	ld	d,c
2225  08C0  1E 49       	ld	e,0x49
2226  08C2  D5          	push	de
2227  08C3  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2228  08C6  D1          	pop	de
2229  08C7  33          	inc	sp
2230  08C8  3A 00 00    	ld	a,(_tmp)
2231  08CB  5A          	ld	e,d
2232  08CC  57          	ld	d,a
2233  08CD  D5          	push	de
2234  08CE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2235  08D1  18 1C       	jr	l_spr_brick_anim_00106
2236  08D3              l_spr_brick_anim_00105:
2237  08D3  3A 00 00    	ld	a,(_tmp)
2238  08D6  C6 F0       	add	a,0xf0
2239  08D8  C5          	push	bc
2240  08D9  D5          	push	de
2241  08DA  4F          	ld	c,a
2242  08DB  C5          	push	bc
2243  08DC  DD 7E FE    	ld	a,(ix-2)
2244  08DF  F5          	push	af
2245  08E0  33          	inc	sp
2246  08E1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2247  08E4  D1          	pop	de
2248  08E5  33          	inc	sp
2249  08E6  3A 00 00    	ld	a,(_tmp)
2250  08E9  5A          	ld	e,d
2251  08EA  57          	ld	d,a
2252  08EB  D5          	push	de
2253  08EC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2254  08EF              l_spr_brick_anim_00106:
2255  08EF  FB          	ei
2256  08F0  F1          	pop	af
2257  08F1  DD E1       	pop	ix
2258  08F3  C9          	ret
2259  08F4              	SECTION code_compiler
2260  08F4              ;	---------------------------------
2261  08F4              ; Function spr_draw_index
2262  08F4              ; ---------------------------------
2263  08F4              _spr_draw_index:
2264  08F4  CD 00 00    	call	___sdcc_enter_ix
2265  08F7  DD 7E 04    	ld	a,(ix+4)
2266  08FA  E6 1F       	and	a,0x1f
2267  08FC  32 00 00    	ld	(_s_col1),a
2268  08FF  DD 4E 04    	ld	c,(ix+4)
2269  0902  DD 5E 05    	ld	e,(ix+5)
2270  0905  06 05       	ld	b,0x05
2271  0907  79          	ld	a,c
2272  0908              l_spr_draw_index_00103:
2273  0908  CB 3B       	srl	e
2274  090A  1F          	rra
2275  090B  10 FB       	djnz	l_spr_draw_index_00103
2276  090D  21 00 00    	ld	hl,_s_lin1
2277  0910  77          	ld	(hl),a
2278  0911  07          	rlca
2279  0912  07          	rlca
2280  0913  07          	rlca
2281  0914  E6 F8       	and	a,0xf8
2282  0916  77          	ld	(hl), a
2283  0917  3E 00       	ld	a, +((_scr_map) & 0xFF)
2284  0919  DD 86 04    	add	a,(ix+4)
2285  091C  4F          	ld	c, a
2286  091D  3E 00       	ld	a, +((_scr_map) / 256)
2287  091F  DD 8E 05    	adc	a,(ix+5)
2288  0922  47          	ld	b, a
2289  0923  0A          	ld	a, (bc)
2290  0924  47          	ld	b, a
2291  0925  3A 00 00    	ld	a,(_s_col1)
2292  0928  F5          	push	af
2293  0929  33          	inc	sp
2294  092A  3A 00 00    	ld	a,(_s_lin1)
2295  092D  48          	ld	c,b
2296  092E  47          	ld	b,a
2297  092F  C5          	push	bc
2298  0930  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2299  0933  DD E1       	pop	ix
2300  0935  C9          	ret
2301  0936              	SECTION code_compiler
2302  0936              ;	---------------------------------
2303  0936              ; Function spr_draw_row
2304  0936              ; ---------------------------------
2305  0936              _spr_draw_row:
2306  0936  CD 00 00    	call	___sdcc_enter_ix
2307  0939  3B          	dec	sp
2308  093A  F3          	di
2309  093B  21 00 00    	ld	hl,_tmp
2310  093E  36 00       	ld	(hl),0x00
2311  0940  DD 7E 04    	ld	a,(ix+4)
2312  0943  07          	rlca
2313  0944  07          	rlca
2314  0945  07          	rlca
2315  0946  E6 F8       	and	a,0xf8
2316  0948  DD 77 FF    	ld	(ix-1),a
2317  094B              l_spr_draw_row_00101:
2318  094B  21 00 00    	ld	hl,_tmp
2319  094E  7E          	ld	a, (hl)
2320  094F  D6 20       	sub	a,0x20
2321  0951  30 38       	jr	NC,l_spr_draw_row_00103
2322  0953  DD 4E 04    	ld	c,(ix+4)
2323  0956  3E 00       	ld	a,0x00
2324  0958  CB 21       	sla	c
2325  095A  17          	rla
2326  095B  CB 21       	sla	c
2327  095D  17          	rla
2328  095E  CB 21       	sla	c
2329  0960  17          	rla
2330  0961  CB 21       	sla	c
2331  0963  17          	rla
2332  0964  CB 21       	sla	c
2333  0966  17          	rla
2334  0967  47          	ld	b,a
2335  0968  5E          	ld	e, (hl)
2336  0969  16 00       	ld	d,0x00
2337  096B  79          	ld	a, c
2338  096C  83          	add	a, e
2339  096D  21 00 00    	ld	hl,_index1
2340  0970  77          	ld	(hl), a
2341  0971  78          	ld	a, b
2342  0972  8A          	adc	a, d
2343  0973  23          	inc	hl
2344  0974  77          	ld	(hl), a
2345  0975  2A FF FF    	ld	hl,(_tmp-1)
2346  0978  DD 6E FF    	ld	l,(ix-1)
2347  097B  3A 00 00    	ld	a,(_game_brick_tile)
2348  097E  E5          	push	hl
2349  097F  F5          	push	af
2350  0980  33          	inc	sp
2351  0981  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2352  0984  21 00 00    	ld	hl,_tmp
2353  0987  34          	inc	(hl)
2354  0988  34          	inc	(hl)
2355  0989  18 C0       	jr	l_spr_draw_row_00101
2356  098B              l_spr_draw_row_00103:
2357  098B  FB          	ei
2358  098C  33          	inc	sp
2359  098D  DD E1       	pop	ix
2360  098F  C9          	ret
2361  0990              	SECTION code_compiler
2362  0990              ;	---------------------------------
2363  0990              ; Function spr_calc_hor
2364  0990              ; ---------------------------------
2365  0990              _spr_calc_hor:
2366  0990  CD 00 00    	call	___sdcc_enter_ix
2367  0993  3E 00       	ld	a, +((_col) & 0xFF)
2368  0995  DD 86 04    	add	a,(ix+4)
2369  0998  4F          	ld	c, a
2370  0999  3E 00       	ld	a, +((_col) / 256)
2371  099B  CE 00       	adc	a,0x00
2372  099D  47          	ld	b, a
2373  099E  0A          	ld	a, (bc)
2374  099F  5F          	ld	e, a
2375  09A0  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2376  09A2  DD 86 04    	add	a,(ix+4)
2377  09A5  4F          	ld	c, a
2378  09A6  3E 00       	ld	a, +((_sprite_frames) / 256)
2379  09A8  CE 00       	adc	a,0x00
2380  09AA  47          	ld	b, a
2381  09AB  0A          	ld	a, (bc)
2382  09AC  67          	ld	h, a
2383  09AD  2E 00       	ld	l,0x00
2384  09AF  55          	ld	d, l
2385  09B0  06 08       	ld	b,0x08
2386  09B2              l_spr_calc_hor_00103:
2387  09B2  29          	add	hl, hl
2388  09B3  30 01       	jr	NC,l_spr_calc_hor_00104
2389  09B5  19          	add	hl, de
2390  09B6              l_spr_calc_hor_00104:
2391  09B6  10 FA       	djnz	l_spr_calc_hor_00103
2392  09B8  DD E1       	pop	ix
2393  09BA  C9          	ret
2394  09BB              	SECTION code_compiler
2395  09BB              ;	---------------------------------
2396  09BB              ; Function spr_back_repaint
2397  09BB              ; ---------------------------------
2398  09BB              _spr_back_repaint:
2399  09BB  76          	halt
2400  09BC  F3          	di
2401  09BD  2A FF FF    	ld	hl,(_s_col0 - 1)
2402  09C0  3A 00 00    	ld	a,(_s_lin0)
2403  09C3  6F          	ld	l,a
2404  09C4  E5          	push	hl
2405  09C5  CD 00 00    	call	_spr_calc_index
2406  09C8  F1          	pop	af
2407  09C9  7D          	ld	a,l
2408  09CA  32 00 00    	ld	(_sprite_curr_index),a
2409  09CD  21 00 00    	ld	hl,_s_lin0
2410  09D0  7E          	ld	a, (hl)
2411  09D1  E6 0F       	and	a,0x0f
2412  09D3  4F          	ld	c, a
2413  09D4  7E          	ld	a, (hl)
2414  09D5  07          	rlca
2415  09D6  07          	rlca
2416  09D7  07          	rlca
2417  09D8  07          	rlca
2418  09D9  E6 0F       	and	a,0x0f
2419  09DB  47          	ld	b, a
2420  09DC  21 00 00    	ld	hl,_s_col0
2421  09DF  CB 46       	bit	0, (hl)
2422  09E1  20 66       	jr	NZ,l_spr_back_repaint_00108
2423  09E3  79          	ld	a, c
2424  09E4  B7          	or	a, a
2425  09E5  20 1D       	jr	NZ,l_spr_back_repaint_00102
2426  09E7  2A 00 00    	ld	hl,(_sprite_curr_index)
2427  09EA  26 00       	ld	h,0x00
2428  09EC  01 00 00    	ld	bc,_scr_map
2429  09EF  09          	add	hl,bc
2430  09F0  46          	ld	b,(hl)
2431  09F1  3A 00 00    	ld	a,(_s_col0)
2432  09F4  F5          	push	af
2433  09F5  33          	inc	sp
2434  09F6  3A 00 00    	ld	a,(_s_lin0)
2435  09F9  48          	ld	c,b
2436  09FA  47          	ld	b,a
2437  09FB  C5          	push	bc
2438  09FC  CD 0D 0B    	call	_spr_tile_paint
2439  09FF  F1          	pop	af
2440  0A00  33          	inc	sp
2441  0A01  C3 0B 0B    	jp	l_spr_back_repaint_00109
2442  0A04              l_spr_back_repaint_00102:
2443  0A04  78          	ld	a, b
2444  0A05  07          	rlca
2445  0A06  07          	rlca
2446  0A07  07          	rlca
2447  0A08  07          	rlca
2448  0A09  E6 F0       	and	a,0xf0
2449  0A0B  47          	ld	b, a
2450  0A0C  2A 00 00    	ld	hl,(_sprite_curr_index)
2451  0A0F  26 00       	ld	h,0x00
2452  0A11  11 00 00    	ld	de,_scr_map
2453  0A14  19          	add	hl,de
2454  0A15  56          	ld	d, (hl)
2455  0A16  3A 00 00    	ld	a,(_s_col0)
2456  0A19  C5          	push	bc
2457  0A1A  F5          	push	af
2458  0A1B  33          	inc	sp
2459  0A1C  4A          	ld	c, d
2460  0A1D  C5          	push	bc
2461  0A1E  CD 0D 0B    	call	_spr_tile_paint
2462  0A21  F1          	pop	af
2463  0A22  33          	inc	sp
2464  0A23  C1          	pop	bc
2465  0A24  78          	ld	a, b
2466  0A25  C6 10       	add	a,0x10
2467  0A27  57          	ld	d, a
2468  0A28  21 00 00    	ld	hl,_sprite_curr_index
2469  0A2B  7E          	ld	a, (hl)
2470  0A2C  C6 10       	add	a,0x10
2471  0A2E  77          	ld	(hl), a
2472  0A2F  C6 00       	add	a,+((_scr_map) & 0xFF)
2473  0A31  4F          	ld	c, a
2474  0A32  3E 00       	ld	a, +((_scr_map) / 256)
2475  0A34  CE 00       	adc	a,0x00
2476  0A36  47          	ld	b, a
2477  0A37  0A          	ld	a, (bc)
2478  0A38  47          	ld	b, a
2479  0A39  3A 00 00    	ld	a,(_s_col0)
2480  0A3C  5A          	ld	e,d
2481  0A3D  57          	ld	d,a
2482  0A3E  D5          	push	de
2483  0A3F  C5          	push	bc
2484  0A40  33          	inc	sp
2485  0A41  CD 0D 0B    	call	_spr_tile_paint
2486  0A44  F1          	pop	af
2487  0A45  33          	inc	sp
2488  0A46  C3 0B 0B    	jp	l_spr_back_repaint_00109
2489  0A49              l_spr_back_repaint_00108:
2490  0A49  21 00 00    	ld	hl,_s_col0
2491  0A4C  56          	ld	d, (hl)
2492  0A4D  15          	dec	d
2493  0A4E  79          	ld	a, c
2494  0A4F  B7          	or	a, a
2495  0A50  20 3A       	jr	NZ,l_spr_back_repaint_00105
2496  0A52  2A 00 00    	ld	hl,(_sprite_curr_index)
2497  0A55  26 00       	ld	h,0x00
2498  0A57  01 00 00    	ld	bc,_scr_map
2499  0A5A  09          	add	hl,bc
2500  0A5B  46          	ld	b,(hl)
2501  0A5C  D5          	push	de
2502  0A5D  33          	inc	sp
2503  0A5E  3A 00 00    	ld	a,(_s_lin0)
2504  0A61  48          	ld	c,b
2505  0A62  47          	ld	b,a
2506  0A63  C5          	push	bc
2507  0A64  CD 0D 0B    	call	_spr_tile_paint
2508  0A67  F1          	pop	af
2509  0A68  33          	inc	sp
2510  0A69  21 00 00    	ld	hl,_sprite_curr_index
2511  0A6C  34          	inc	(hl)
2512  0A6D  21 00 00    	ld	hl,_s_col0
2513  0A70  46          	ld	b, (hl)
2514  0A71  04          	inc	b
2515  0A72  2A 00 00    	ld	hl,(_sprite_curr_index)
2516  0A75  26 00       	ld	h,0x00
2517  0A77  11 00 00    	ld	de,_scr_map
2518  0A7A  19          	add	hl,de
2519  0A7B  56          	ld	d, (hl)
2520  0A7C  C5          	push	bc
2521  0A7D  33          	inc	sp
2522  0A7E  3A 00 00    	ld	a,(_s_lin0)
2523  0A81  5A          	ld	e,d
2524  0A82  57          	ld	d,a
2525  0A83  D5          	push	de
2526  0A84  CD 0D 0B    	call	_spr_tile_paint
2527  0A87  F1          	pop	af
2528  0A88  33          	inc	sp
2529  0A89  C3 0B 0B    	jp	l_spr_back_repaint_00109
2530  0A8C              l_spr_back_repaint_00105:
2531  0A8C  78          	ld	a, b
2532  0A8D  07          	rlca
2533  0A8E  07          	rlca
2534  0A8F  07          	rlca
2535  0A90  07          	rlca
2536  0A91  E6 F0       	and	a,0xf0
2537  0A93  47          	ld	b, a
2538  0A94  3A 00 00    	ld	a,(_sprite_curr_index)
2539  0A97  C6 00       	add	a,+((_scr_map) & 0xFF)
2540  0A99  4F          	ld	c,a
2541  0A9A  3E 00       	ld	a,+((_scr_map) / 256)
2542  0A9C  CE 00       	adc	a,0x00
2543  0A9E  67          	ld	h, a
2544  0A9F  69          	ld	l, c
2545  0AA0  7E          	ld	a, (hl)
2546  0AA1  C5          	push	bc
2547  0AA2  58          	ld	e,b
2548  0AA3  D5          	push	de
2549  0AA4  F5          	push	af
2550  0AA5  33          	inc	sp
2551  0AA6  CD 0D 0B    	call	_spr_tile_paint
2552  0AA9  F1          	pop	af
2553  0AAA  33          	inc	sp
2554  0AAB  C1          	pop	bc
2555  0AAC  21 00 00    	ld	hl,_sprite_curr_index
2556  0AAF  34          	inc	(hl)
2557  0AB0  21 00 00    	ld	hl,_s_col0
2558  0AB3  4E          	ld	c, (hl)
2559  0AB4  0C          	inc	c
2560  0AB5  2A 00 00    	ld	hl,(_sprite_curr_index)
2561  0AB8  26 00       	ld	h,0x00
2562  0ABA  11 00 00    	ld	de,_scr_map
2563  0ABD  19          	add	hl,de
2564  0ABE  56          	ld	d, (hl)
2565  0ABF  C5          	push	bc
2566  0AC0  79          	ld	a, c
2567  0AC1  F5          	push	af
2568  0AC2  33          	inc	sp
2569  0AC3  4A          	ld	c, d
2570  0AC4  C5          	push	bc
2571  0AC5  CD 0D 0B    	call	_spr_tile_paint
2572  0AC8  F1          	pop	af
2573  0AC9  33          	inc	sp
2574  0ACA  C1          	pop	bc
2575  0ACB  78          	ld	a, b
2576  0ACC  C6 10       	add	a,0x10
2577  0ACE  4F          	ld	c, a
2578  0ACF  21 00 00    	ld	hl,_sprite_curr_index
2579  0AD2  7E          	ld	a, (hl)
2580  0AD3  C6 0F       	add	a,0x0f
2581  0AD5  77          	ld	(hl), a
2582  0AD6  21 00 00    	ld	hl,_s_col0
2583  0AD9  46          	ld	b, (hl)
2584  0ADA  05          	dec	b
2585  0ADB  2A 00 00    	ld	hl,(_sprite_curr_index)
2586  0ADE  26 00       	ld	h,0x00
2587  0AE0  11 00 00    	ld	de,_scr_map
2588  0AE3  19          	add	hl,de
2589  0AE4  66          	ld	h, (hl)
2590  0AE5  EB          	ex	de,hl
2591  0AE6  C5          	push	bc
2592  0AE7  C5          	push	bc
2593  0AE8  D5          	push	de
2594  0AE9  33          	inc	sp
2595  0AEA  CD 0D 0B    	call	_spr_tile_paint
2596  0AED  F1          	pop	af
2597  0AEE  33          	inc	sp
2598  0AEF  C1          	pop	bc
2599  0AF0  21 00 00    	ld	hl,_sprite_curr_index
2600  0AF3  34          	inc	(hl)
2601  0AF4  21 00 00    	ld	hl,_s_col0
2602  0AF7  46          	ld	b, (hl)
2603  0AF8  04          	inc	b
2604  0AF9  2A 00 00    	ld	hl,(_sprite_curr_index)
2605  0AFC  26 00       	ld	h,0x00
2606  0AFE  11 00 00    	ld	de,_scr_map
2607  0B01  19          	add	hl,de
2608  0B02  66          	ld	h, (hl)
2609  0B03  C5          	push	bc
2610  0B04  E5          	push	hl
2611  0B05  33          	inc	sp
2612  0B06  CD 0D 0B    	call	_spr_tile_paint
2613  0B09  F1          	pop	af
2614  0B0A  33          	inc	sp
2615  0B0B              l_spr_back_repaint_00109:
2616  0B0B  FB          	ei
2617  0B0C  C9          	ret
2618  0B0D              	SECTION code_compiler
2619  0B0D              ;	---------------------------------
2620  0B0D              ; Function spr_tile_paint
2621  0B0D              ; ---------------------------------
2622  0B0D              _spr_tile_paint:
2623  0B0D  CD 00 00    	call	___sdcc_enter_ix
2624  0B10  DD 7E 04    	ld	a,(ix+4)
2625  0B13  B7          	or	a, a
2626  0B14  28 05       	jr	Z,l_spr_tile_paint_00101
2627  0B16  3C          	inc	a
2628  0B17  28 21       	jr	Z,l_spr_tile_paint_00105
2629  0B19  18 10       	jr	l_spr_tile_paint_00103
2630  0B1B              l_spr_tile_paint_00101:
2631  0B1B  DD 7E 06    	ld	a,(ix+6)
2632  0B1E  F5          	push	af
2633  0B1F  33          	inc	sp
2634  0B20  DD 56 05    	ld	d,(ix+5)
2635  0B23  1E 49       	ld	e,0x49
2636  0B25  D5          	push	de
2637  0B26  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2638  0B29  18 0F       	jr	l_spr_tile_paint_00105
2639  0B2B              l_spr_tile_paint_00103:
2640  0B2B  DD 66 06    	ld	h,(ix+6)
2641  0B2E  DD 6E 05    	ld	l,(ix+5)
2642  0B31  E5          	push	hl
2643  0B32  DD 7E 04    	ld	a,(ix+4)
2644  0B35  F5          	push	af
2645  0B36  33          	inc	sp
2646  0B37  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2647  0B3A              l_spr_tile_paint_00105:
2648  0B3A  DD E1       	pop	ix
2649  0B3C  C9          	ret
2650  0B3D              	SECTION code_compiler
2651  0B3D              ;	---------------------------------
2652  0B3D              ; Function spr_init_anim_bullets
2653  0B3D              ; ---------------------------------
2654  0B3D              _spr_init_anim_bullets:
2655  0B3D  01 00 00    	ld	bc,_anim_lin+0
2656  0B40  1E 00       	ld	e,0x00
2657  0B42              l_spr_init_anim_bullets_00102:
2658  0B42  6B          	ld	l,e
2659  0B43  26 00       	ld	h,0x00
2660  0B45  09          	add	hl, bc
2661  0B46  36 FF       	ld	(hl),0xff
2662  0B48  16 00       	ld	d,0x00
2663  0B4A  21 00 00    	ld	hl,_bullet_col
2664  0B4D  19          	add	hl, de
2665  0B4E  36 FF       	ld	(hl),0xff
2666  0B50  1C          	inc	e
2667  0B51  7B          	ld	a, e
2668  0B52  D6 08       	sub	a,0x08
2669  0B54  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2670  0B56  21 00 00    	ld	hl,_bullet_count
2671  0B59  36 00       	ld	(hl),0x00
2672  0B5B  21 00 00    	ld	hl,_anim_count
2673  0B5E  36 00       	ld	(hl),0x00
2674  0B60  C9          	ret
2675  0B61              	SECTION code_compiler
2676  0B61              ;	---------------------------------
2677  0B61              ; Function spr_add_anim
2678  0B61              ; ---------------------------------
2679  0B61              _spr_add_anim:
2680  0B61  CD 00 00    	call	___sdcc_enter_ix
2681  0B64  F5          	push	af
2682  0B65  F5          	push	af
2683  0B66  0E 00       	ld	c,0x00
2684  0B68  51          	ld	d,c
2685  0B69              l_spr_add_anim_00106:
2686  0B69  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2687  0B6B  82          	add	a, d
2688  0B6C  DD 77 FE    	ld	(ix-2),a
2689  0B6F  6F          	ld	l,a
2690  0B70  3E 00       	ld	a,+((_anim_lin) / 256)
2691  0B72  CE 00       	adc	a,0x00
2692  0B74  DD 77 FF    	ld	(ix-1),a
2693  0B77  67          	ld	h,a
2694  0B78  46          	ld	b, (hl)
2695  0B79  04          	inc	b
2696  0B7A  20 6F       	jr	NZ,l_spr_add_anim_00107
2697  0B7C  21 00 00    	ld	hl,_anim_count
2698  0B7F  34          	inc	(hl)
2699  0B80  DD 6E FE    	ld	l,(ix-2)
2700  0B83  DD 66 FF    	ld	h,(ix-1)
2701  0B86  DD 7E 04    	ld	a,(ix+4)
2702  0B89  77          	ld	(hl), a
2703  0B8A  3E 00       	ld	a, +((_anim_col) & 0xFF)
2704  0B8C  81          	add	a, c
2705  0B8D  5F          	ld	e, a
2706  0B8E  3E 00       	ld	a, +((_anim_col) / 256)
2707  0B90  CE 00       	adc	a,0x00
2708  0B92  57          	ld	d, a
2709  0B93  DD 7E 05    	ld	a,(ix+5)
2710  0B96  12          	ld	(de), a
2711  0B97  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2712  0B99  81          	add	a, c
2713  0B9A  DD 77 FC    	ld	(ix-4),a
2714  0B9D  3E 00       	ld	a, +((_anim_tile) / 256)
2715  0B9F  CE 00       	adc	a,0x00
2716  0BA1  DD 77 FD    	ld	(ix-3),a
2717  0BA4  E1          	pop	hl
2718  0BA5  E5          	push	hl
2719  0BA6  DD 7E 06    	ld	a,(ix+6)
2720  0BA9  77          	ld	(hl), a
2721  0BAA  06 00       	ld	b,0x00
2722  0BAC  21 00 00    	ld	hl,_anim_int
2723  0BAF  09          	add	hl, bc
2724  0BB0  06 00       	ld	b,0x00
2725  0BB2  70          	ld	(hl),b
2726  0BB3  21 00 00    	ld	hl,_anim_end
2727  0BB6  09          	add	hl,bc
2728  0BB7  DD 7E 07    	ld	a,(ix+7)
2729  0BBA  77          	ld	(hl),a
2730  0BBB  4D          	ld	c,l
2731  0BBC  F3          	di
2732  0BBD  1A          	ld	a, (de)
2733  0BBE  DD 6E FE    	ld	l,(ix-2)
2734  0BC1  DD 66 FF    	ld	h,(ix-1)
2735  0BC4  56          	ld	d, (hl)
2736  0BC5  E1          	pop	hl
2737  0BC6  46          	ld	b,(hl)
2738  0BC7  E5          	push	hl
2739  0BC8  5A          	ld	e,d
2740  0BC9  57          	ld	d,a
2741  0BCA  D5          	push	de
2742  0BCB  C5          	push	bc
2743  0BCC  33          	inc	sp
2744  0BCD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2745  0BD0  FB          	ei
2746  0BD1  DD 66 05    	ld	h,(ix+5)
2747  0BD4  DD 6E 04    	ld	l,(ix+4)
2748  0BD7  E5          	push	hl
2749  0BD8  CD 00 00    	call	_spr_calc_index
2750  0BDB  F1          	pop	af
2751  0BDC  22 00 00    	ld	(_index0),hl
2752  0BDF  01 00 00    	ld	bc,_scr_map
2753  0BE2  09          	add	hl,bc
2754  0BE3  7E          	ld	a,(hl)
2755  0BE4  B7          	or	a,a
2756  0BE5  20 0C       	jr	NZ,l_spr_add_anim_00108
2757  0BE7  36 FF       	ld	(hl),0xff
2758  0BE9  18 08       	jr	l_spr_add_anim_00108
2759  0BEB              l_spr_add_anim_00107:
2760  0BEB  14          	inc	d
2761  0BEC  7A          	ld	a,d
2762  0BED  4F          	ld	c,a
2763  0BEE  D6 08       	sub	a,0x08
2764  0BF0  DA 69 0B    	jp	C, l_spr_add_anim_00106
2765  0BF3              l_spr_add_anim_00108:
2766  0BF3  DD F9       	ld	sp, ix
2767  0BF5  DD E1       	pop	ix
2768  0BF7  C9          	ret
2769  0BF8              	SECTION code_compiler
2770  0BF8              ;	---------------------------------
2771  0BF8              ; Function spr_play_anim
2772  0BF8              ; ---------------------------------
2773  0BF8              _spr_play_anim:
2774  0BF8  CD 00 00    	call	___sdcc_enter_ix
2775  0BFB  F5          	push	af
2776  0BFC  F5          	push	af
2777  0BFD  0E 00       	ld	c,0x00
2778  0BFF              l_spr_play_anim_00109:
2779  0BFF  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2780  0C01  81          	add	a, c
2781  0C02  DD 77 FE    	ld	(ix-2),a
2782  0C05  6F          	ld	l,a
2783  0C06  3E 00       	ld	a,+((_anim_lin) / 256)
2784  0C08  CE 00       	adc	a,0x00
2785  0C0A  DD 77 FF    	ld	(ix-1),a
2786  0C0D  67          	ld	h,a
2787  0C0E  7E          	ld	a,(hl)
2788  0C0F  5F          	ld	e,a
2789  0C10  3C          	inc	a
2790  0C11  CA B9 0C    	jp	Z,l_spr_play_anim_00110
2791  0C14  3E 00       	ld	a, +((_anim_int) & 0xFF)
2792  0C16  81          	add	a, c
2793  0C17  DD 77 FC    	ld	(ix-4),a
2794  0C1A  3E 00       	ld	a, +((_anim_int) / 256)
2795  0C1C  CE 00       	adc	a,0x00
2796  0C1E  DD 77 FD    	ld	(ix-3),a
2797  0C21  E1          	pop	hl
2798  0C22  56          	ld	d,(hl)
2799  0C23  E5          	push	hl
2800  0C24  06 00       	ld	b,0x00
2801  0C26  21 00 00    	ld	hl,_anim_end
2802  0C29  09          	add	hl, bc
2803  0C2A  46          	ld	b, (hl)
2804  0C2B  7A          	ld	a, d
2805  0C2C  90          	sub	a, b
2806  0C2D  30 2F       	jr	NC,l_spr_play_anim_00104
2807  0C2F  F3          	di
2808  0C30  06 00       	ld	b,0x00
2809  0C32  21 00 00    	ld	hl,_anim_col
2810  0C35  09          	add	hl, bc
2811  0C36  5E          	ld	e, (hl)
2812  0C37  DD 6E FE    	ld	l,(ix-2)
2813  0C3A  DD 66 FF    	ld	h,(ix-1)
2814  0C3D  56          	ld	d, (hl)
2815  0C3E  06 00       	ld	b,0x00
2816  0C40  21 00 00    	ld	hl,_anim_tile
2817  0C43  09          	add	hl, bc
2818  0C44  46          	ld	b, (hl)
2819  0C45  E1          	pop	hl
2820  0C46  E5          	push	hl
2821  0C47  6E          	ld	l, (hl)
2822  0C48  78          	ld	a, b
2823  0C49  85          	add	a, l
2824  0C4A  47          	ld	b, a
2825  0C4B  C5          	push	bc
2826  0C4C  7B          	ld	a, e
2827  0C4D  5A          	ld	e,d
2828  0C4E  57          	ld	d,a
2829  0C4F  D5          	push	de
2830  0C50  C5          	push	bc
2831  0C51  33          	inc	sp
2832  0C52  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2833  0C55  C1          	pop	bc
2834  0C56  FB          	ei
2835  0C57  E1          	pop	hl
2836  0C58  46          	ld	b,(hl)
2837  0C59  04          	inc	b
2838  0C5A  E5          	push	hl
2839  0C5B  70          	ld	(hl), b
2840  0C5C  18 5B       	jr	l_spr_play_anim_00110
2841  0C5E              l_spr_play_anim_00104:
2842  0C5E  21 00 00    	ld	hl,_anim_count
2843  0C61  35          	dec	(hl)
2844  0C62  06 00       	ld	b,0x00
2845  0C64  21 00 00    	ld	hl,_anim_col
2846  0C67  09          	add	hl, bc
2847  0C68  7E          	ld	a, (hl)
2848  0C69  32 00 00    	ld	(_s_col0),a
2849  0C6C  21 00 00    	ld	hl,_s_lin0
2850  0C6F  73          	ld	(hl), e
2851  0C70  3A 00 00    	ld	a,(_s_col0)
2852  0C73  C5          	push	bc
2853  0C74  F5          	push	af
2854  0C75  33          	inc	sp
2855  0C76  3A 00 00    	ld	a,(_s_lin0)
2856  0C79  F5          	push	af
2857  0C7A  33          	inc	sp
2858  0C7B  CD 00 00    	call	_spr_calc_index
2859  0C7E  F1          	pop	af
2860  0C7F  2A FF FF    	ld	hl,(_s_col0 - 1)
2861  0C82  3A 00 00    	ld	a,(_s_lin0)
2862  0C85  6F          	ld	l,a
2863  0C86  E5          	push	hl
2864  0C87  CD 00 00    	call	_spr_calc_index
2865  0C8A  F1          	pop	af
2866  0C8B  EB          	ex	de,hl
2867  0C8C  C1          	pop	bc
2868  0C8D  21 00 00    	ld	hl,_scr_map
2869  0C90  19          	add	hl, de
2870  0C91  46          	ld	b, (hl)
2871  0C92  04          	inc	b
2872  0C93  20 17       	jr	NZ,l_spr_play_anim_00102
2873  0C95  3A 00 00    	ld	a,(_s_col0)
2874  0C98  C5          	push	bc
2875  0C99  F5          	push	af
2876  0C9A  33          	inc	sp
2877  0C9B  3A 00 00    	ld	a,(_s_lin0)
2878  0C9E  F5          	push	af
2879  0C9F  33          	inc	sp
2880  0CA0  CD 00 00    	call	_spr_calc_index
2881  0CA3  F1          	pop	af
2882  0CA4  EB          	ex	de,hl
2883  0CA5  C1          	pop	bc
2884  0CA6  21 00 00    	ld	hl,_scr_map
2885  0CA9  19          	add	hl, de
2886  0CAA  36 00       	ld	(hl),0x00
2887  0CAC              l_spr_play_anim_00102:
2888  0CAC  C5          	push	bc
2889  0CAD  CD BB 09    	call	_spr_back_repaint
2890  0CB0  C1          	pop	bc
2891  0CB1  DD 6E FE    	ld	l,(ix-2)
2892  0CB4  DD 66 FF    	ld	h,(ix-1)
2893  0CB7  36 FF       	ld	(hl),0xff
2894  0CB9              l_spr_play_anim_00110:
2895  0CB9  0C          	inc	c
2896  0CBA  79          	ld	a, c
2897  0CBB  D6 08       	sub	a,0x08
2898  0CBD  DA FF 0B    	jp	C, l_spr_play_anim_00109
2899  0CC0  DD F9       	ld	sp, ix
2900  0CC2  DD E1       	pop	ix
2901  0CC4  C9          	ret
2902  0CC5              	SECTION code_compiler
2903  0CC5              ;	---------------------------------
2904  0CC5              ; Function spr_play_bullets
2905  0CC5              ; ---------------------------------
2906  0CC5              _spr_play_bullets:
2907  0CC5  CD 00 00    	call	___sdcc_enter_ix
2908  0CC8  F5          	push	af
2909  0CC9  F5          	push	af
2910  0CCA  3B          	dec	sp
2911  0CCB  0E 00       	ld	c,0x00
2912  0CCD              l_spr_play_bullets_00131:
2913  0CCD  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2914  0CCF  81          	add	a, c
2915  0CD0  DD 77 FB    	ld	(ix-5),a
2916  0CD3  3E 00       	ld	a, +((_bullet_col) / 256)
2917  0CD5  CE 00       	adc	a,0x00
2918  0CD7  DD 77 FC    	ld	(ix-4),a
2919  0CDA  E1          	pop	hl
2920  0CDB  7E          	ld	a,(hl)
2921  0CDC  E5          	push	hl
2922  0CDD  DD 77 FF    	ld	(ix-1),a
2923  0CE0  3C          	inc	a
2924  0CE1  CA 90 0E    	jp	Z,l_spr_play_bullets_00132
2925  0CE4  06 00       	ld	b,0x00
2926  0CE6  21 00 00    	ld	hl,_bullet_lin
2927  0CE9  09          	add	hl, bc
2928  0CEA  7E          	ld	a, (hl)
2929  0CEB  32 00 00    	ld	(_s_lin0),a
2930  0CEE  DD 7E FF    	ld	a,(ix-1)
2931  0CF1  32 00 00    	ld	(_s_col0),a
2932  0CF4  32 00 00    	ld	(_s_col1),a
2933  0CF7  C5          	push	bc
2934  0CF8  CD BB 09    	call	_spr_back_repaint
2935  0CFB  C1          	pop	bc
2936  0CFC  06 00       	ld	b,0x00
2937  0CFE  21 00 00    	ld	hl,_bullet_dir
2938  0D01  09          	add	hl, bc
2939  0D02  46          	ld	b, (hl)
2940  0D03  04          	inc	b
2941  0D04  20 36       	jr	NZ,l_spr_play_bullets_00110
2942  0D06  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2943  0D08  81          	add	a, c
2944  0D09  5F          	ld	e, a
2945  0D0A  3E 00       	ld	a, +((_bullet_colint) / 256)
2946  0D0C  CE 00       	adc	a,0x00
2947  0D0E  57          	ld	d, a
2948  0D0F  1A          	ld	a, (de)
2949  0D10  3C          	inc	a
2950  0D11  47          	ld	b,a
2951  0D12  12          	ld	(de), a
2952  0D13  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2953  0D15  81          	add	a, c
2954  0D16  6F          	ld	l, a
2955  0D17  3E 00       	ld	a, +((_bullet_frames) / 256)
2956  0D19  CE 00       	adc	a,0x00
2957  0D1B  67          	ld	h, a
2958  0D1C  6E          	ld	l, (hl)
2959  0D1D  78          	ld	a, b
2960  0D1E  95          	sub	a, l
2961  0D1F  38 07       	jr	C,l_spr_play_bullets_00102
2962  0D21  E1          	pop	hl
2963  0D22  46          	ld	b,(hl)
2964  0D23  04          	inc	b
2965  0D24  E5          	push	hl
2966  0D25  70          	ld	(hl), b
2967  0D26  AF          	xor	a, a
2968  0D27  12          	ld	(de), a
2969  0D28              l_spr_play_bullets_00102:
2970  0D28  E1          	pop	hl
2971  0D29  46          	ld	b,(hl)
2972  0D2A  E5          	push	hl
2973  0D2B  CB 40       	bit	0, b
2974  0D2D  28 3E       	jr	Z,l_spr_play_bullets_00111
2975  0D2F  78          	ld	a, b
2976  0D30  3C          	inc	a
2977  0D31  32 00 00    	ld	(_s_col1),a
2978  0D34  78          	ld	a, b
2979  0D35  C6 FF       	add	a,0xff
2980  0D37  32 00 00    	ld	(_tmp),a
2981  0D3A  18 31       	jr	l_spr_play_bullets_00111
2982  0D3C              l_spr_play_bullets_00110:
2983  0D3C  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2984  0D3E  81          	add	a, c
2985  0D3F  5F          	ld	e, a
2986  0D40  3E 00       	ld	a, +((_bullet_colint) / 256)
2987  0D42  CE 00       	adc	a,0x00
2988  0D44  57          	ld	d, a
2989  0D45  1A          	ld	a, (de)
2990  0D46  C6 FF       	add	a,0xff
2991  0D48  12          	ld	(de), a
2992  0D49  3C          	inc	a
2993  0D4A  20 0F       	jr	NZ,l_spr_play_bullets_00106
2994  0D4C  E1          	pop	hl
2995  0D4D  46          	ld	b,(hl)
2996  0D4E  05          	dec	b
2997  0D4F  E5          	push	hl
2998  0D50  70          	ld	(hl), b
2999  0D51  06 00       	ld	b,0x00
3000  0D53  21 00 00    	ld	hl,_bullet_frames
3001  0D56  09          	add	hl, bc
3002  0D57  46          	ld	b, (hl)
3003  0D58  05          	dec	b
3004  0D59  78          	ld	a, b
3005  0D5A  12          	ld	(de), a
3006  0D5B              l_spr_play_bullets_00106:
3007  0D5B  E1          	pop	hl
3008  0D5C  46          	ld	b,(hl)
3009  0D5D  E5          	push	hl
3010  0D5E  CB 40       	bit	0, b
3011  0D60  28 0B       	jr	Z,l_spr_play_bullets_00111
3012  0D62  78          	ld	a, b
3013  0D63  C6 FF       	add	a,0xff
3014  0D65  32 00 00    	ld	(_s_col1),a
3015  0D68  78          	ld	a, b
3016  0D69  3C          	inc	a
3017  0D6A  32 00 00    	ld	(_tmp),a
3018  0D6D              l_spr_play_bullets_00111:
3019  0D6D  DD 7E FB    	ld	a,(ix-5)
3020  0D70  DD 77 FD    	ld	(ix-3),a
3021  0D73  DD 7E FC    	ld	a,(ix-4)
3022  0D76  DD 77 FE    	ld	(ix-2),a
3023  0D79  78          	ld	a,b
3024  0D7A  B7          	or	a, a
3025  0D7B  CA 88 0E    	jp	Z,l_spr_play_bullets_00123
3026  0D7E  D6 1E       	sub	a,0x1e
3027  0D80  D2 88 0E    	jp	NC, l_spr_play_bullets_00123
3028  0D83  3A 00 00    	ld	a,(_s_col1)
3029  0D86  C5          	push	bc
3030  0D87  F5          	push	af
3031  0D88  33          	inc	sp
3032  0D89  3A 00 00    	ld	a,(_s_lin0)
3033  0D8C  F5          	push	af
3034  0D8D  33          	inc	sp
3035  0D8E  CD 00 00    	call	_spr_calc_index
3036  0D91  F1          	pop	af
3037  0D92  EB          	ex	de,hl
3038  0D93  C1          	pop	bc
3039  0D94  ED 53 00 00 	ld	(_index0),de
3040  0D98  21 00 00    	ld	hl,_tmp0
3041  0D9B  36 00       	ld	(hl),0x00
3042  0D9D              l_spr_play_bullets_00129:
3043  0D9D  2A 00 00    	ld	hl,(_tmp0)
3044  0DA0  26 00       	ld	h,0x00
3045  0DA2  11 00 00    	ld	de,_class
3046  0DA5  19          	add	hl,de
3047  0DA6  7E          	ld	a,(hl)
3048  0DA7  B7          	or	a,a
3049  0DA8  28 73       	jr	Z,l_spr_play_bullets_00130
3050  0DAA  2A 00 00    	ld	hl,(_tmp0)
3051  0DAD  26 00       	ld	h,0x00
3052  0DAF  11 00 00    	ld	de,_col
3053  0DB2  19          	add	hl,de
3054  0DB3  46          	ld	b, (hl)
3055  0DB4  3A 00 00    	ld	a,(_tmp0)
3056  0DB7  5F          	ld	e,a
3057  0DB8  16 00       	ld	d,0x00
3058  0DBA  21 00 00    	ld	hl,_lin
3059  0DBD  19          	add	hl,de
3060  0DBE  56          	ld	d, (hl)
3061  0DBF  C5          	push	bc
3062  0DC0  4A          	ld	c, d
3063  0DC1  C5          	push	bc
3064  0DC2  CD 00 00    	call	_spr_calc_index
3065  0DC5  F1          	pop	af
3066  0DC6  EB          	ex	de,hl
3067  0DC7  C1          	pop	bc
3068  0DC8  ED 53 00 00 	ld	(_index1),de
3069  0DCC  3A 00 00    	ld	a,(_index0)
3070  0DCF  21 00 00    	ld	hl,_index1
3071  0DD2  96          	sub	a, (hl)
3072  0DD3  20 48       	jr	NZ,l_spr_play_bullets_00130
3073  0DD5  3A 01 00    	ld	a,(_index0 + 1)
3074  0DD8  23          	inc	hl
3075  0DD9  96          	sub	a, (hl)
3076  0DDA  20 41       	jr	NZ,l_spr_play_bullets_00130
3077  0DDC  2A 00 00    	ld	hl,(_tmp0)
3078  0DDF  26 00       	ld	h,0x00
3079  0DE1  11 00 00    	ld	de,_lin
3080  0DE4  19          	add	hl,de
3081  0DE5  7E          	ld	a,(hl)
3082  0DE6  32 00 00    	ld	(_s_lin0),a
3083  0DE9  2A 00 00    	ld	hl,(_tmp0)
3084  0DEC  26 00       	ld	h,0x00
3085  0DEE  11 00 00    	ld	de,_col
3086  0DF1  19          	add	hl,de
3087  0DF2  7E          	ld	a,(hl)
3088  0DF3  32 00 00    	ld	(_s_col0),a
3089  0DF6  2A 00 00    	ld	hl,(_tmp0)
3090  0DF9  C5          	push	bc
3091  0DFA  CD A0 06    	call	_spr_destroy
3092  0DFD  C1          	pop	bc
3093  0DFE  DD 6E FD    	ld	l,(ix-3)
3094  0E01  DD 66 FE    	ld	h,(ix-2)
3095  0E04  36 FF       	ld	(hl),0xff
3096  0E06  3A 00 00    	ld	a,(_s_col0)
3097  0E09  C5          	push	bc
3098  0E0A  21 7B 03    	ld	hl,0x037b
3099  0E0D  E5          	push	hl
3100  0E0E  F5          	push	af
3101  0E0F  33          	inc	sp
3102  0E10  3A 00 00    	ld	a,(_s_lin0)
3103  0E13  F5          	push	af
3104  0E14  33          	inc	sp
3105  0E15  CD 61 0B    	call	_spr_add_anim
3106  0E18  F1          	pop	af
3107  0E19  F1          	pop	af
3108  0E1A  C1          	pop	bc
3109  0E1B  18 0B       	jr	l_spr_play_bullets_00116
3110  0E1D              l_spr_play_bullets_00130:
3111  0E1D  21 00 00    	ld	hl,_tmp0
3112  0E20  7E          	ld	a,(hl)
3113  0E21  3C          	inc	a
3114  0E22  77          	ld	(hl),a
3115  0E23  D6 07       	sub	a,0x07
3116  0E25  DA 9D 0D    	jp	C, l_spr_play_bullets_00129
3117  0E28              l_spr_play_bullets_00116:
3118  0E28  DD 6E FD    	ld	l,(ix-3)
3119  0E2B  DD 66 FE    	ld	h,(ix-2)
3120  0E2E  7E          	ld	a,(hl)
3121  0E2F  57          	ld	d,a
3122  0E30  3C          	inc	a
3123  0E31  28 5D       	jr	Z,l_spr_play_bullets_00132
3124  0E33  3E 00       	ld	a, +((_scr_map) & 0xFF)
3125  0E35  21 00 00    	ld	hl,_index0
3126  0E38  86          	add	a, (hl)
3127  0E39  47          	ld	b, a
3128  0E3A  3E 00       	ld	a, +((_scr_map) / 256)
3129  0E3C  23          	inc	hl
3130  0E3D  8E          	adc	a, (hl)
3131  0E3E  67          	ld	h, a
3132  0E3F  68          	ld	l, b
3133  0E40  7E          	ld	a, (hl)
3134  0E41  D6 3C       	sub	a,0x3c
3135  0E43  30 20       	jr	NC,l_spr_play_bullets_00118
3136  0E45  06 00       	ld	b,0x00
3137  0E47  21 00 00    	ld	hl,_bullet_tile
3138  0E4A  09          	add	hl, bc
3139  0E4B  5E          	ld	e, (hl)
3140  0E4C  06 00       	ld	b,0x00
3141  0E4E  21 00 00    	ld	hl,_bullet_colint
3142  0E51  09          	add	hl, bc
3143  0E52  46          	ld	b, (hl)
3144  0E53  7B          	ld	a, e
3145  0E54  80          	add	a, b
3146  0E55  47          	ld	b, a
3147  0E56  C5          	push	bc
3148  0E57  D5          	push	de
3149  0E58  33          	inc	sp
3150  0E59  3A 00 00    	ld	a,(_s_lin0)
3151  0E5C  48          	ld	c,b
3152  0E5D  47          	ld	b,a
3153  0E5E  C5          	push	bc
3154  0E5F  CD 00 00    	call	_NIRVANAP_drawT_callee
3155  0E62  C1          	pop	bc
3156  0E63  18 2B       	jr	l_spr_play_bullets_00132
3157  0E65              l_spr_play_bullets_00118:
3158  0E65  3A 00 00    	ld	a,(_tmp)
3159  0E68  C5          	push	bc
3160  0E69  21 7B 03    	ld	hl,0x037b
3161  0E6C  E5          	push	hl
3162  0E6D  F5          	push	af
3163  0E6E  33          	inc	sp
3164  0E6F  3A 00 00    	ld	a,(_s_lin0)
3165  0E72  F5          	push	af
3166  0E73  33          	inc	sp
3167  0E74  CD 61 0B    	call	_spr_add_anim
3168  0E77  F1          	pop	af
3169  0E78  F1          	pop	af
3170  0E79  C1          	pop	bc
3171  0E7A  21 00 00    	ld	hl,_bullet_count
3172  0E7D  35          	dec	(hl)
3173  0E7E  DD 6E FD    	ld	l,(ix-3)
3174  0E81  DD 66 FE    	ld	h,(ix-2)
3175  0E84  36 FF       	ld	(hl),0xff
3176  0E86  18 08       	jr	l_spr_play_bullets_00132
3177  0E88              l_spr_play_bullets_00123:
3178  0E88  21 00 00    	ld	hl,_bullet_count
3179  0E8B  35          	dec	(hl)
3180  0E8C  E1          	pop	hl
3181  0E8D  E5          	push	hl
3182  0E8E  36 FF       	ld	(hl),0xff
3183  0E90              l_spr_play_bullets_00132:
3184  0E90  0C          	inc	c
3185  0E91  79          	ld	a, c
3186  0E92  D6 08       	sub	a,0x08
3187  0E94  DA CD 0C    	jp	C, l_spr_play_bullets_00131
3188  0E97  DD F9       	ld	sp, ix
3189  0E99  DD E1       	pop	ix
3190  0E9B  C9          	ret
3191  0E9C              	SECTION code_compiler
3192  0E9C              ;	---------------------------------
3193  0E9C              ; Function spr_turn_horizontal
3194  0E9C              ; ---------------------------------
3195  0E9C              _spr_turn_horizontal:
3196  0E9C  21 00 00    	ld	hl,_s_state
3197  0E9F  CB 56       	bit	2, (hl)
3198  0EA1  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3199  0EA3  21 00 00    	ld	hl,_s_state
3200  0EA6  7E          	ld	a,(hl)
3201  0EA7  F6 08       	or	a,0x08
3202  0EA9  E6 FB       	and	a,0xfb
3203  0EAB  77          	ld	(hl),a
3204  0EAC  18 09       	jr	l_spr_turn_horizontal_00103
3205  0EAE              l_spr_turn_horizontal_00102:
3206  0EAE  21 00 00    	ld	hl,_s_state
3207  0EB1  7E          	ld	a,(hl)
3208  0EB2  E6 F7       	and	a,0xf7
3209  0EB4  F6 04       	or	a,0x04
3210  0EB6  77          	ld	(hl),a
3211  0EB7              l_spr_turn_horizontal_00103:
3212  0EB7  2A 00 00    	ld	hl,(_sprite)
3213  0EBA  26 00       	ld	h,0x00
3214  0EBC  01 00 00    	ld	bc,_state
3215  0EBF  09          	add	hl,bc
3216  0EC0  3A 00 00    	ld	a,(_s_state)
3217  0EC3  77          	ld	(hl),a
3218  0EC4  2A 00 00    	ld	hl,(_sprite)
3219  0EC7  26 00       	ld	h,0x00
3220  0EC9  01 00 00    	ld	bc,_tile
3221  0ECC  09          	add	hl,bc
3222  0ECD  E5          	push	hl
3223  0ECE  2A 00 00    	ld	hl,(_sprite)
3224  0ED1  CD 09 07    	call	_spr_tile
3225  0ED4  C1          	pop	bc
3226  0ED5  7D          	ld	a,l
3227  0ED6  02          	ld	(bc), a
3228  0ED7  C9          	ret
3229  0ED8              	SECTION IGNORE
3230  0000              
