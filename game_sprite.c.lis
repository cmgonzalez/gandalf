1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_init_anim
189   0000              	GLOBAL _spr_calc_index
190   0000              	GLOBAL _spr_check_map
191   0000              	GLOBAL _spr_check_map_fall
192   0000              	GLOBAL _spr_chktime
193   0000              	GLOBAL _spr_move_jump
194   0000              	GLOBAL _spr_move_up
195   0000              	GLOBAL _spr_move_down
196   0000              	GLOBAL _spr_move_horizontal
197   0000              	GLOBAL _spr_move_right
198   0000              	GLOBAL _spr_move_left
199   0000              	GLOBAL _spr_page_right
200   0000              	GLOBAL _spr_page_left
201   0000              	GLOBAL _spr_page_map
202   0000              	GLOBAL _spr_redraw
203   0000              	GLOBAL _spr_destroy
204   0000              	GLOBAL _spr_tile
205   0000              	GLOBAL _spr_tile_dir
206   0000              	GLOBAL _spr_draw_background
207   0000              	GLOBAL _spr_draw_clear
208   0000              	GLOBAL _spr_brick_anim
209   0000              	GLOBAL _spr_draw_index
210   0000              	GLOBAL _spr_draw_row
211   0000              	GLOBAL _spr_calc_hor
212   0000              	GLOBAL _spr_collision_check
213   0000              	GLOBAL _spr_kill_all
214   0000              	GLOBAL _spr_back_clr
215   0000              	GLOBAL _spr_tile_paint
216   0000              	GLOBAL _spr_add_anim
217   0000              	GLOBAL _spr_play_anim
218   0000              	GLOBAL _spr_turn_horizontal
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _spr_anim_kill
530   0000              	GLOBAL _sound_hit_brick
531   0000              	GLOBAL _sound_hit_enemy
532   0000              	GLOBAL _sound_kill
533   0000              	GLOBAL _sound_enter_enemy
534   0000              	GLOBAL _sound_coin
535   0000              	GLOBAL _sound_jump
536   0000              	GLOBAL _sound_slide
537   0000              	GLOBAL _player_tile
538   0000              	GLOBAL _player_pick_item
539   0000              	GLOBAL _player_check_floor
540   0000              	GLOBAL _player_hit_platform_clear
541   0000              	GLOBAL _player_lost_life
542   0000              	GLOBAL _player_score_add
543   0000              	GLOBAL _player_player_hit_pow
544   0000              	GLOBAL _player_hit_platform
545   0000              	GLOBAL _player_move_input
546   0000              	GLOBAL _player_turn
547   0000              	GLOBAL _player_move
548   0000              	GLOBAL _player_restart
549   0000              	GLOBAL _player_kill
550   0000              	GLOBAL _player_check_input
551   0000              	GLOBAL _player_collision
552   0000              	GLOBAL _player_init
553   0000              	GLOBAL _game_joystick_set_menu
554   0000              	GLOBAL _game_joystick_set
555   0000              	GLOBAL _game_joystick_change
556   0000              	GLOBAL _game_print_header
557   0000              	GLOBAL _game_end
558   0000              	GLOBAL _game_phase_print_score_back
559   0000              	GLOBAL _game_check_time
560   0000              	GLOBAL _game_rotate_attrib
561   0000              	GLOBAL _game_colour_message
562   0000              	GLOBAL _game_paint_attrib_lin_h
563   0000              	GLOBAL _game_paint_attrib_lin
564   0000              	GLOBAL _game_paint_attrib
565   0000              	GLOBAL _game_print_score
566   0000              	GLOBAL _game_unfreeze_all
567   0000              	GLOBAL _game_freeze_all
568   0000              	GLOBAL _game_freeze
569   0000              	GLOBAL _game_enemy_add_get_index
570   0000              	GLOBAL _game_check_maze_floor
571   0000              	GLOBAL _game_check_maze
572   0000              	GLOBAL _game_loop
573   0000              	GLOBAL _game_phase_init
574   0000              	GLOBAL _game_start_timer
575   0000              	GLOBAL _game_tick
576   0000              	GLOBAL _game_print_lives
577   0000              	GLOBAL _game_print_footer
578   0000              	GLOBAL _game_fill_row
579   0000              	GLOBAL _enemy_avoid_edge
580   0000              	GLOBAL _enemy_kill
581   0000              	GLOBAL _enemy_init
582   0000              	GLOBAL _enemy_walk
583   0000              	GLOBAL _enemy_move
584   0000              	GLOBAL _enemy_turn
585   0000              	GLOBAL _enemy_hit
586   0000              	GLOBAL _enemy_coin1
587   0000              	GLOBAL _ay_fx_play
588   0000              	GLOBAL _ay_midi_play
589   0000              	GLOBAL _ay_is_playing
590   0000              	GLOBAL _ay_reset
591   0000              	GLOBAL _test_func
592   0000              	GLOBAL _test_proc
593   0000              	GLOBAL _in_mouse_kempston_wheel_delta
594   0000              	GLOBAL _in_mouse_kempston_wheel
595   0000              	GLOBAL _in_mouse_kempston_callee
596   0000              	GLOBAL _in_mouse_kempston
597   0000              	GLOBAL _in_mouse_kempston_setpos_callee
598   0000              	GLOBAL _in_mouse_kempston_setpos
599   0000              	GLOBAL _in_mouse_kempston_reset
600   0000              	GLOBAL _in_mouse_kempston_init
601   0000              	GLOBAL _in_mouse_amx_wheel_delta
602   0000              	GLOBAL _in_mouse_amx_wheel
603   0000              	GLOBAL _in_mouse_amx_callee
604   0000              	GLOBAL _in_mouse_amx
605   0000              	GLOBAL _in_mouse_amx_setpos_callee
606   0000              	GLOBAL _in_mouse_amx_setpos
607   0000              	GLOBAL _in_mouse_amx_reset
608   0000              	GLOBAL _in_mouse_amx_init_callee
609   0000              	GLOBAL _in_mouse_amx_init
610   0000              	GLOBAL _in_stick_sinclair2
611   0000              	GLOBAL _in_stick_sinclair1
612   0000              	GLOBAL _in_stick_kempston
613   0000              	GLOBAL _in_stick_fuller
614   0000              	GLOBAL _in_stick_cursor
615   0000              	GLOBAL _in_stick_keyboard_fastcall
616   0000              	GLOBAL _in_stick_keyboard
617   0000              	GLOBAL _in_wait_nokey
618   0000              	GLOBAL _in_wait_key
619   0000              	GLOBAL _in_test_key
620   0000              	GLOBAL _in_pause_fastcall
621   0000              	GLOBAL _in_pause
622   0000              	GLOBAL _in_key_scancode_fastcall
623   0000              	GLOBAL _in_key_scancode
624   0000              	GLOBAL _in_key_pressed_fastcall
625   0000              	GLOBAL _in_key_pressed
626   0000              	GLOBAL _in_inkey
627   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
628   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
629   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
630   0000              	GLOBAL _NIRVANAP_HOLE
631   0000              	GLOBAL _NIRVANAP_ISR_HOOK
632   0000              	GLOBAL _g_player_hit_right
633   0000              	GLOBAL _g_player_hit_left
634   0000              	GLOBAL _joynames
635   0000              	GLOBAL _initials
636   0000              	GLOBAL _anim_end
637   0000              	GLOBAL _anim_int
638   0000              	GLOBAL _anim_tile
639   0000              	GLOBAL _anim_col
640   0000              	GLOBAL _anim_lin
641   0000              	GLOBAL _phase_angry
642   0000              	GLOBAL _phase_curr
643   0000              	GLOBAL _phase_end
644   0000              	GLOBAL _phase_coins
645   0000              	GLOBAL _phase_pop
646   0000              	GLOBAL _phase_tot
647   0000              	GLOBAL _map_heigth
648   0000              	GLOBAL _map_width
649   0000              	GLOBAL _scr_curr
650   0000              	GLOBAL _scr_7
651   0000              	GLOBAL _scr_6
652   0000              	GLOBAL _scr_5
653   0000              	GLOBAL _scr_4
654   0000              	GLOBAL _scr_3
655   0000              	GLOBAL _scr_2
656   0000              	GLOBAL _scr_1
657   0000              	GLOBAL _scr_0
658   0000              	GLOBAL _scr_map
659   0000              	GLOBAL _sprite_speed_alt
660   0000              	GLOBAL _sprite_frames
661   0000              	GLOBAL _sprite_speed
662   0000              	GLOBAL _screen_ink
663   0000              	GLOBAL _screen_paper
664   0000              	GLOBAL _player_over_stair
665   0000              	GLOBAL _game_menu_sel
666   0000              	GLOBAL _game_type
667   0000              	GLOBAL _game_score_top
668   0000              	GLOBAL _player_lives
669   0000              	GLOBAL _game_over
670   0000              	GLOBAL _game_sound
671   0000              	GLOBAL _game_inmune
672   0000              	GLOBAL _game_god_mode
673   0000              	GLOBAL _game_start_phase
674   0000              	GLOBAL _game_two_player
675   0000              	GLOBAL _game_brick_tile
676   0000              	GLOBAL _sprite_curr_index
677   0000              	GLOBAL _spr_count
678   0000              	GLOBAL _anim_time
679   0000              	GLOBAL _frame_time
680   0000              	GLOBAL _entry_time
681   0000              	GLOBAL _curr_time
682   0000              	GLOBAL _s_state
683   0000              	GLOBAL _attrib_hl
684   0000              	GLOBAL _attrib
685   0000              	GLOBAL _zx_val_asm
686   0000              	GLOBAL _enemies
687   0000              	GLOBAL _tmp_ui
688   0000              	GLOBAL _tmp_sc
689   0000              	GLOBAL _tmp_uc
690   0000              	GLOBAL _tmp1
691   0000              	GLOBAL _tmp0
692   0000              	GLOBAL _tmp
693   0000              	GLOBAL _index1
694   0000              	GLOBAL _loop_count
695   0000              	GLOBAL _sprite_lin_inc_mul
696   0000              	GLOBAL _s_col1
697   0000              	GLOBAL _s_col0
698   0000              	GLOBAL _s_lin1
699   0000              	GLOBAL _s_lin0
700   0000              	GLOBAL _s_tile1
701   0000              	GLOBAL _s_tile0
702   0000              	GLOBAL _player_hit_count
703   0000              	GLOBAL _sprite
704   0000              	GLOBAL _game_gravity
705   0000              	GLOBAL _player_vel_y0
706   0000              	GLOBAL _player_vel_y
707   0000              	GLOBAL _player_vel_x
708   0000              	GLOBAL _player_joy
709   0000              	GLOBAL _player_score
710   0000              	GLOBAL _last_time
711   0000              	GLOBAL _player_slide
712   0000              	GLOBAL _spr_timer
713   0000              	GLOBAL _jump_lin
714   0000              	GLOBAL _player_hit_col
715   0000              	GLOBAL _player_hit_lin
716   0000              	GLOBAL _colint
717   0000              	GLOBAL _col
718   0000              	GLOBAL _lin
719   0000              	GLOBAL _tile
720   0000              	GLOBAL _state_a
721   0000              	GLOBAL _state
722   0000              	GLOBAL _class
723   0000              	GLOBAL _tbuffer
724   0000              	GLOBAL _dirs
725   0000              	GLOBAL _k1
726   0000              	GLOBAL _joyfunc1
727   0000              	GLOBAL _btiles
728   0000              	GLOBAL _spec128
729   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
730   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
731   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
732   0000              	GLOBAL _ay_effect_20
733   0000              	GLOBAL _ay_effect_19
734   0000              	GLOBAL _ay_effect_18
735   0000              	GLOBAL _ay_effect_17
736   0000              	GLOBAL _ay_effect_16
737   0000              	GLOBAL _ay_effect_15
738   0000              	GLOBAL _ay_effect_14
739   0000              	GLOBAL _ay_effect_13
740   0000              	GLOBAL _ay_effect_12
741   0000              	GLOBAL _ay_effect_11
742   0000              	GLOBAL _ay_effect_10
743   0000              	GLOBAL _ay_effect_09
744   0000              	GLOBAL _ay_effect_08
745   0000              	GLOBAL _ay_effect_07
746   0000              	GLOBAL _ay_effect_06
747   0000              	GLOBAL _ay_effect_05
748   0000              	GLOBAL _ay_effect_04
749   0000              	GLOBAL _ay_effect_03
750   0000              	GLOBAL _ay_effect_02
751   0000              	GLOBAL _ay_effect_01
752   0000              	GLOBAL _pb_midi_phase_1
753   0000              	GLOBAL _pb_midi_title
754   0000              	GLOBAL _control_method
755   0000              ;--------------------------------------------------------
756   0000              ; special function registers
757   0000              ;--------------------------------------------------------
758   0000              defc _IO_FE	=	0x00fe
759   0000              defc _IO_1FFD	=	0x1ffd
760   0000              defc _IO_7FFD	=	0x7ffd
761   0000              ;--------------------------------------------------------
762   0000              ; ram data
763   0000              ;--------------------------------------------------------
764   0000              	SECTION bss_compiler
765   0000              ;--------------------------------------------------------
766   0000              ; ram data
767   0000              ;--------------------------------------------------------
768   0000              
769   0000              IF 0
770   0000              
771   0000              ; .area _INITIALIZED removed by z88dk
772   0000              
773   0000              
774   0000              ENDIF
775   0000              
776   0000              ;--------------------------------------------------------
777   0000              ; absolute external ram data
778   0000              ;--------------------------------------------------------
779   0000              	SECTION IGNORE
780   0000              ;--------------------------------------------------------
781   0000              ; global & static initialisations
782   0000              ;--------------------------------------------------------
783   0000              	SECTION code_crt_init
784   0000              ;--------------------------------------------------------
785   0000              ; Home
786   0000              ;--------------------------------------------------------
787   0000              	SECTION IGNORE
788   0000              ;--------------------------------------------------------
789   0000              ; code
790   0000              ;--------------------------------------------------------
791   0000              	SECTION code_compiler
792   0000              ;	---------------------------------
793   0000              ; Function spr_calc_index
794   0000              ; ---------------------------------
795   0000              _spr_calc_index:
796   0000  CD 00 00    	call	___sdcc_enter_ix
797   0003  DD 4E 05    	ld	c,(ix+5)
798   0006  CB 39       	srl	c
799   0008  06 00       	ld	b,0x00
800   000A  DD 7E 04    	ld	a,(ix+4)
801   000D  07          	rlca
802   000E  07          	rlca
803   000F  07          	rlca
804   0010  07          	rlca
805   0011  E6 0F       	and	a,0x0f
806   0013  6F          	ld	l, a
807   0014  26 00       	ld	h,0x00
808   0016  29          	add	hl, hl
809   0017  29          	add	hl, hl
810   0018  29          	add	hl, hl
811   0019  29          	add	hl, hl
812   001A  09          	add	hl, bc
813   001B  DD E1       	pop	ix
814   001D  C9          	ret
815   001E              	SECTION code_compiler
816   001E              ;	---------------------------------
817   001E              ; Function spr_check_map
818   001E              ; ---------------------------------
819   001E              _spr_check_map:
820   001E  CD 00 00    	call	___sdcc_enter_ix
821   0021  DD CB 05 46 	bit	0,(ix+5)
822   0025  20 15       	jr	NZ,l_spr_check_map_00106
823   0027  DD 66 05    	ld	h,(ix+5)
824   002A  DD 6E 04    	ld	l,(ix+4)
825   002D  E5          	push	hl
826   002E  CD 00 00    	call	_spr_calc_index
827   0031  F1          	pop	af
828   0032  22 00 00    	ld	(_index1),hl
829   0035  CD 00 00    	call	_game_check_maze
830   0038  26 00       	ld	h,0x00
831   003A  18 4B       	jr	l_spr_check_map_00108
832   003C              l_spr_check_map_00106:
833   003C  DD 46 05    	ld	b,(ix+5)
834   003F  05          	dec	b
835   0040  DD 4E 04    	ld	c,(ix+4)
836   0043  C5          	push	bc
837   0044  CD 00 00    	call	_spr_calc_index
838   0047  F1          	pop	af
839   0048  22 00 00    	ld	(_index1),hl
840   004B  21 00 00    	ld	hl,_g_player_hit_left
841   004E  36 00       	ld	(hl),0x00
842   0050  21 00 00    	ld	hl,_g_player_hit_right
843   0053  36 00       	ld	(hl),0x00
844   0055  2A 00 00    	ld	hl,(_index1)
845   0058  CD 00 00    	call	_game_check_maze
846   005B  7D          	ld	a, l
847   005C  B7          	or	a, a
848   005D  28 05       	jr	Z,l_spr_check_map_00102
849   005F  21 00 00    	ld	hl,_g_player_hit_left
850   0062  36 01       	ld	(hl),0x01
851   0064              l_spr_check_map_00102:
852   0064  2A 00 00    	ld	hl,(_index1)
853   0067  23          	inc	hl
854   0068  CD 00 00    	call	_game_check_maze
855   006B  7D          	ld	a, l
856   006C  B7          	or	a, a
857   006D  28 05       	jr	Z,l_spr_check_map_00104
858   006F  21 00 00    	ld	hl,_g_player_hit_right
859   0072  36 01       	ld	(hl),0x01
860   0074              l_spr_check_map_00104:
861   0074  3A 00 00    	ld	a,(_g_player_hit_left)
862   0077  B7          	or	a, a
863   0078  20 09       	jr	NZ,l_spr_check_map_00111
864   007A  3A 00 00    	ld	a,(_g_player_hit_right)
865   007D  B7          	or	a,a
866   007E  20 03       	jr	NZ,l_spr_check_map_00111
867   0080  6F          	ld	l,a
868   0081  18 02       	jr	l_spr_check_map_00112
869   0083              l_spr_check_map_00111:
870   0083  2E 01       	ld	l,0x01
871   0085              l_spr_check_map_00112:
872   0085  26 00       	ld	h,0x00
873   0087              l_spr_check_map_00108:
874   0087  DD E1       	pop	ix
875   0089  C9          	ret
876   008A              	SECTION code_compiler
877   008A              ;	---------------------------------
878   008A              ; Function spr_check_map_fall
879   008A              ; ---------------------------------
880   008A              _spr_check_map_fall:
881   008A  CD 00 00    	call	___sdcc_enter_ix
882   008D  DD CB 05 46 	bit	0,(ix+5)
883   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
884   0093  DD 66 05    	ld	h,(ix+5)
885   0096  DD 6E 04    	ld	l,(ix+4)
886   0099  E5          	push	hl
887   009A  CD 00 00    	call	_spr_calc_index
888   009D  F1          	pop	af
889   009E  22 00 00    	ld	(_index1),hl
890   00A1  CD 00 00    	call	_game_check_maze_floor
891   00A4  26 00       	ld	h,0x00
892   00A6  18 4B       	jr	l_spr_check_map_fall_00108
893   00A8              l_spr_check_map_fall_00106:
894   00A8  DD 46 05    	ld	b,(ix+5)
895   00AB  05          	dec	b
896   00AC  DD 4E 04    	ld	c,(ix+4)
897   00AF  C5          	push	bc
898   00B0  CD 00 00    	call	_spr_calc_index
899   00B3  F1          	pop	af
900   00B4  22 00 00    	ld	(_index1),hl
901   00B7  21 00 00    	ld	hl,_g_player_hit_left
902   00BA  36 00       	ld	(hl),0x00
903   00BC  21 00 00    	ld	hl,_g_player_hit_right
904   00BF  36 00       	ld	(hl),0x00
905   00C1  2A 00 00    	ld	hl,(_index1)
906   00C4  CD 00 00    	call	_game_check_maze_floor
907   00C7  7D          	ld	a, l
908   00C8  B7          	or	a, a
909   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
910   00CB  21 00 00    	ld	hl,_g_player_hit_left
911   00CE  36 01       	ld	(hl),0x01
912   00D0              l_spr_check_map_fall_00102:
913   00D0  2A 00 00    	ld	hl,(_index1)
914   00D3  23          	inc	hl
915   00D4  CD 00 00    	call	_game_check_maze_floor
916   00D7  7D          	ld	a, l
917   00D8  B7          	or	a, a
918   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
919   00DB  21 00 00    	ld	hl,_g_player_hit_right
920   00DE  36 01       	ld	(hl),0x01
921   00E0              l_spr_check_map_fall_00104:
922   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
923   00E3  B7          	or	a, a
924   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
925   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
926   00E9  B7          	or	a,a
927   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
928   00EC  6F          	ld	l,a
929   00ED  18 02       	jr	l_spr_check_map_fall_00112
930   00EF              l_spr_check_map_fall_00111:
931   00EF  2E 01       	ld	l,0x01
932   00F1              l_spr_check_map_fall_00112:
933   00F1  26 00       	ld	h,0x00
934   00F3              l_spr_check_map_fall_00108:
935   00F3  DD E1       	pop	ix
936   00F5  C9          	ret
937   00F6              	SECTION code_compiler
938   00F6              ;	---------------------------------
939   00F6              ; Function spr_chktime
940   00F6              ; ---------------------------------
941   00F6              _spr_chktime:
942   00F6  CD 00 00    	call	___sdcc_enter_ix
943   00F9  F5          	push	af
944   00FA  DD 75 FE    	ld	(ix-2),l
945   00FD  DD 74 FF    	ld	(ix-1),h
946   0100  E1          	pop	hl
947   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
948   0104  5E          	ld	e,(hl)
949   0105  E5          	push	hl
950   0106  6B          	ld	l,e
951   0107  26 00       	ld	h,0x00
952   0109  09          	add	hl, bc
953   010A  7E          	ld	a, (hl)
954   010B  B7          	or	a, a
955   010C  20 13       	jr	NZ,l_spr_chktime_00102
956   010E  01 00 00    	ld	bc,_sprite_speed+0
957   0111  16 00       	ld	d,0x00
958   0113  21 00 00    	ld	hl,_class
959   0116  19          	add	hl, de
960   0117  6E          	ld	l, (hl)
961   0118  26 00       	ld	h,0x00
962   011A  09          	add	hl, bc
963   011B  7E          	ld	a, (hl)
964   011C  32 00 00    	ld	(_tmp),a
965   011F  18 03       	jr	l_spr_chktime_00103
966   0121              l_spr_chktime_00102:
967   0121  32 00 00    	ld	(_tmp),a
968   0124              l_spr_chktime_00103:
969   0124  3A 00 00    	ld	a,(_tmp)
970   0127  4F          	ld	c,a
971   0128  06 00       	ld	b,0x00
972   012A  60          	ld	h,b
973   012B  6B          	ld	l, e
974   012C  29          	add	hl, hl
975   012D  11 00 00    	ld	de,_last_time
976   0130  19          	add	hl, de
977   0131  5E          	ld	e, (hl)
978   0132  23          	inc	hl
979   0133  56          	ld	d, (hl)
980   0134  C5          	push	bc
981   0135  D5          	push	de
982   0136  CD 00 00    	call	_game_check_time
983   0139  F1          	pop	af
984   013A  F1          	pop	af
985   013B  7D          	ld	a, l
986   013C  B7          	or	a, a
987   013D  28 15       	jr	Z,l_spr_chktime_00105
988   013F  E1          	pop	hl
989   0140  E5          	push	hl
990   0141  6E          	ld	l, (hl)
991   0142  26 00       	ld	h,0x00
992   0144  29          	add	hl, hl
993   0145  01 00 00    	ld	bc,_last_time
994   0148  09          	add	hl,bc
995   0149  ED 5B 00 00 	ld	de,(_curr_time)
996   014D  73          	ld	(hl),e
997   014E  23          	inc	hl
998   014F  72          	ld	(hl),d
999   0150  2E 01       	ld	l,0x01
1000  0152  18 02       	jr	l_spr_chktime_00106
1001  0154              l_spr_chktime_00105:
1002  0154  2E 00       	ld	l,0x00
1003  0156              l_spr_chktime_00106:
1004  0156  F1          	pop	af
1005  0157  DD E1       	pop	ix
1006  0159  C9          	ret
1007  015A              	SECTION code_compiler
1008  015A              ;	---------------------------------
1009  015A              ; Function spr_move_jump
1010  015A              ; ---------------------------------
1011  015A              _spr_move_jump:
1012  015A  2A 00 00    	ld	hl,(_player_vel_y)
1013  015D  ED 4B 00 00 	ld	bc,(_game_gravity)
1014  0161  09          	add	hl,bc
1015  0162  22 00 00    	ld	(_player_vel_y),hl
1016  0165  3E 78       	ld	a,0x78
1017  0167  21 00 00    	ld	hl,_player_vel_y
1018  016A  BE          	cp	a, (hl)
1019  016B  3E 00       	ld	a,0x00
1020  016D  23          	inc	hl
1021  016E  9E          	sbc	a, (hl)
1022  016F  E2 74 01    	jp	PO, l_spr_move_jump_00155
1023  0172  EE 80       	xor	a,0x80
1024  0174              l_spr_move_jump_00155:
1025  0174  F2 7D 01    	jp	P, l_spr_move_jump_00102
1026  0177  21 78 00    	ld	hl,0x0078
1027  017A  22 00 00    	ld	(_player_vel_y),hl
1028  017D              l_spr_move_jump_00102:
1029  017D  21 00 00    	ld	hl,_player_vel_y
1030  0180  7E          	ld	a, (hl)
1031  0181  D6 88       	sub	a,0x88
1032  0183  23          	inc	hl
1033  0184  7E          	ld	a, (hl)
1034  0185  17          	rla
1035  0186  3F          	ccf
1036  0187  1F          	rra
1037  0188  DE 7F       	sbc	a,0x7f
1038  018A  30 06       	jr	NC,l_spr_move_jump_00104
1039  018C  2B          	dec	hl
1040  018D  36 88       	ld	(hl),0x88
1041  018F  23          	inc	hl
1042  0190  36 FF       	ld	(hl),0xff
1043  0192              l_spr_move_jump_00104:
1044  0192  21 0A 00    	ld	hl,0x000a
1045  0195  E5          	push	hl
1046  0196  2A 00 00    	ld	hl,(_player_vel_y)
1047  0199  E5          	push	hl
1048  019A  CD 00 00    	call	__divsint_callee
1049  019D  4D          	ld	c, l
1050  019E  44          	ld	b, h
1051  019F  CB 41       	bit	0,c
1052  01A1  21 00 00    	ld	hl,_s_lin1
1053  01A4  71          	ld	(hl),c
1054  01A5  28 04       	jr	Z,l_spr_move_jump_00106
1055  01A7  21 00 00    	ld	hl,_s_lin1
1056  01AA  34          	inc	(hl)
1057  01AB              l_spr_move_jump_00106:
1058  01AB  2A 00 00    	ld	hl,(_sprite)
1059  01AE  26 00       	ld	h,0x00
1060  01B0  11 00 00    	ld	de,_lin
1061  01B3  19          	add	hl,de
1062  01B4  7E          	ld	a,(hl)
1063  01B5  21 00 00    	ld	hl,_s_lin1
1064  01B8  86          	add	a, (hl)
1065  01B9  77          	ld	(hl), a
1066  01BA  3E 90       	ld	a,0x90
1067  01BC  96          	sub	a, (hl)
1068  01BD  30 02       	jr	NC,l_spr_move_jump_00108
1069  01BF  36 90       	ld	(hl),0x90
1070  01C1              l_spr_move_jump_00108:
1071  01C1  CB 78       	bit	7, b
1072  01C3  28 59       	jr	Z,l_spr_move_jump_00119
1073  01C5  2A 00 00    	ld	hl,(_sprite)
1074  01C8  26 00       	ld	h,0x00
1075  01CA  01 00 00    	ld	bc,_col
1076  01CD  09          	add	hl,bc
1077  01CE  7E          	ld	a,(hl)
1078  01CF  F5          	push	af
1079  01D0  33          	inc	sp
1080  01D1  3A 00 00    	ld	a,(_s_lin1)
1081  01D4  F5          	push	af
1082  01D5  33          	inc	sp
1083  01D6  CD 1E 00    	call	_spr_check_map
1084  01D9  F1          	pop	af
1085  01DA  7C          	ld	a,h
1086  01DB  B5          	or	a,l
1087  01DC  28 31       	jr	Z,l_spr_move_jump_00112
1088  01DE  CD 00 00    	call	_player_hit_platform
1089  01E1  7D          	ld	a, l
1090  01E2  B7          	or	a, a
1091  01E3  28 19       	jr	Z,l_spr_move_jump_00110
1092  01E5  2A 00 00    	ld	hl,(_sprite)
1093  01E8  26 00       	ld	h,0x00
1094  01EA  01 00 00    	ld	bc,_lin
1095  01ED  09          	add	hl,bc
1096  01EE  7E          	ld	a,(hl)
1097  01EF  4D          	ld	c,l
1098  01F0  44          	ld	b,h
1099  01F1  07          	rlca
1100  01F2  07          	rlca
1101  01F3  07          	rlca
1102  01F4  07          	rlca
1103  01F5  E6 0F       	and	a,0x0f
1104  01F7  07          	rlca
1105  01F8  07          	rlca
1106  01F9  07          	rlca
1107  01FA  07          	rlca
1108  01FB  E6 F0       	and	a,0xf0
1109  01FD  02          	ld	(bc), a
1110  01FE              l_spr_move_jump_00110:
1111  01FE  21 00 00    	ld	hl,0x0000
1112  0201  22 00 00    	ld	(_player_vel_y),hl
1113  0204  21 00 00    	ld	hl,_s_state
1114  0207  7E          	ld	a,(hl)
1115  0208  E6 FE       	and	a,0xfe
1116  020A  F6 02       	or	a,0x02
1117  020C  77          	ld	(hl),a
1118  020D  18 6B       	jr	l_spr_move_jump_00120
1119  020F              l_spr_move_jump_00112:
1120  020F  2A 00 00    	ld	hl,(_sprite)
1121  0212  26 00       	ld	h,0x00
1122  0214  01 00 00    	ld	bc,_lin
1123  0217  09          	add	hl,bc
1124  0218  3A 00 00    	ld	a,(_s_lin1)
1125  021B  77          	ld	(hl),a
1126  021C  18 5C       	jr	l_spr_move_jump_00120
1127  021E              l_spr_move_jump_00119:
1128  021E  2A 00 00    	ld	hl,(_sprite)
1129  0221  26 00       	ld	h,0x00
1130  0223  01 00 00    	ld	bc,_col
1131  0226  09          	add	hl,bc
1132  0227  46          	ld	b,(hl)
1133  0228  3A 00 00    	ld	a,(_s_lin1)
1134  022B  C6 10       	add	a,0x10
1135  022D  4F          	ld	c,a
1136  022E  C5          	push	bc
1137  022F  CD 8A 00    	call	_spr_check_map_fall
1138  0232  F1          	pop	af
1139  0233  4D          	ld	c,l
1140  0234  44          	ld	b,h
1141  0235  2A 00 00    	ld	hl,(_sprite)
1142  0238  26 00       	ld	h,0x00
1143  023A  11 00 00    	ld	de,_lin
1144  023D  19          	add	hl,de
1145  023E  78          	ld	a,b
1146  023F  EB          	ex	de,hl
1147  0240  B1          	or	a,c
1148  0241  20 07       	jr	NZ,l_spr_move_jump_00114
1149  0243  3A 00 00    	ld	a,(_s_lin1)
1150  0246  D6 90       	sub	a,0x90
1151  0248  38 2C       	jr	C,l_spr_move_jump_00115
1152  024A              l_spr_move_jump_00114:
1153  024A  3A 00 00    	ld	a,(_s_lin1)
1154  024D  07          	rlca
1155  024E  07          	rlca
1156  024F  07          	rlca
1157  0250  07          	rlca
1158  0251  E6 0F       	and	a,0x0f
1159  0253  07          	rlca
1160  0254  07          	rlca
1161  0255  07          	rlca
1162  0256  07          	rlca
1163  0257  E6 F0       	and	a,0xf0
1164  0259  12          	ld	(de), a
1165  025A  21 00 00    	ld	hl,0x0000
1166  025D  22 00 00    	ld	(_player_vel_y),hl
1167  0260  21 00 00    	ld	hl,_s_state
1168  0263  7E          	ld	a,(hl)
1169  0264  E6 FC       	and	a,+(0xfd&0xfe)
1170  0266  77          	ld	(hl),a
1171  0267  2A 00 00    	ld	hl,(_sprite)
1172  026A  26 00       	ld	h,0x00
1173  026C  01 00 00    	ld	bc,_colint
1174  026F  09          	add	hl,bc
1175  0270  AF          	xor	a,a
1176  0271  77          	ld	(hl),a
1177  0272  2E 01       	ld	l,0x01
1178  0274  18 09       	jr	l_spr_move_jump_00121
1179  0276              l_spr_move_jump_00115:
1180  0276  3A 00 00    	ld	a,(_s_lin1)
1181  0279  12          	ld	(de), a
1182  027A              l_spr_move_jump_00120:
1183  027A  CD 7F 03    	call	_spr_move_horizontal
1184  027D  2E 00       	ld	l,0x00
1185  027F              l_spr_move_jump_00121:
1186  027F  C9          	ret
1187  0280              	SECTION code_compiler
1188  0280              ;	---------------------------------
1189  0280              ; Function spr_move_up
1190  0280              ; ---------------------------------
1191  0280              _spr_move_up:
1192  0280  2A 00 00    	ld	hl,(_sprite)
1193  0283  26 00       	ld	h,0x00
1194  0285  01 00 00    	ld	bc,_lin
1195  0288  09          	add	hl,bc
1196  0289  4E          	ld	c,(hl)
1197  028A  21 00 00    	ld	hl,_sprite_lin_inc_mul
1198  028D  46          	ld	b, (hl)
1199  028E  1E 02       	ld	e,0x02
1200  0290  04          	inc	b
1201  0291  18 02       	jr	l_spr_move_up_00134
1202  0293              l_spr_move_up_00133:
1203  0293  CB 23       	sla	e
1204  0295              l_spr_move_up_00134:
1205  0295  10 FC       	djnz	l_spr_move_up_00133
1206  0297  79          	ld	a, c
1207  0298  93          	sub	a, e
1208  0299  32 00 00    	ld	(_tmp1),a
1209  029C  2A 00 00    	ld	hl,(_sprite)
1210  029F  26 00       	ld	h,0x00
1211  02A1  01 00 00    	ld	bc,_class
1212  02A4  09          	add	hl,bc
1213  02A5  7E          	ld	a,(hl)
1214  02A6  D6 10       	sub	a,0x10
1215  02A8  20 2D       	jr	NZ,l_spr_move_up_00107
1216  02AA  2A 00 00    	ld	hl,(_sprite)
1217  02AD  26 00       	ld	h,0x00
1218  02AF  01 00 00    	ld	bc,_col
1219  02B2  09          	add	hl,bc
1220  02B3  7E          	ld	a,(hl)
1221  02B4  F5          	push	af
1222  02B5  33          	inc	sp
1223  02B6  3A 00 00    	ld	a,(_tmp1)
1224  02B9  F5          	push	af
1225  02BA  33          	inc	sp
1226  02BB  CD 1E 00    	call	_spr_check_map
1227  02BE  F1          	pop	af
1228  02BF  7C          	ld	a,h
1229  02C0  B5          	or	a,l
1230  02C1  28 14       	jr	Z,l_spr_move_up_00107
1231  02C3  3A 00 00    	ld	a,(_sprite)
1232  02C6  D6 07       	sub	a,0x07
1233  02C8  20 09       	jr	NZ,l_spr_move_up_00102
1234  02CA  3A 07 00    	ld	a,(_state_a + 0x0007)
1235  02CD  07          	rlca
1236  02CE  38 03       	jr	C,l_spr_move_up_00102
1237  02D0  CD 00 00    	call	_player_hit_platform
1238  02D3              l_spr_move_up_00102:
1239  02D3  2E 01       	ld	l,0x01
1240  02D5  18 39       	jr	l_spr_move_up_00111
1241  02D7              l_spr_move_up_00107:
1242  02D7  2A 00 00    	ld	hl,(_sprite)
1243  02DA  26 00       	ld	h,0x00
1244  02DC  01 00 00    	ld	bc,_lin
1245  02DF  09          	add	hl,bc
1246  02E0  3A 00 00    	ld	a,(_tmp1)
1247  02E3  77          	ld	(hl),a
1248  02E4  2A 00 00    	ld	hl,(_sprite)
1249  02E7  26 00       	ld	h,0x00
1250  02E9  01 00 00    	ld	bc,_lin
1251  02EC  09          	add	hl,bc
1252  02ED  7E          	ld	a,(hl)
1253  02EE  5F          	ld	e,a
1254  02EF  B7          	or	a,a
1255  02F0  4D          	ld	c,l
1256  02F1  44          	ld	b,h
1257  02F2  28 05       	jr	Z,l_spr_move_up_00108
1258  02F4  3E 90       	ld	a,0x90
1259  02F6  93          	sub	a, e
1260  02F7  30 15       	jr	NC,l_spr_move_up_00109
1261  02F9              l_spr_move_up_00108:
1262  02F9  AF          	xor	a, a
1263  02FA  02          	ld	(bc), a
1264  02FB  3A 00 00    	ld	a,(_s_col0)
1265  02FE  F5          	push	af
1266  02FF  33          	inc	sp
1267  0300  3A 00 00    	ld	a,(_s_lin0)
1268  0303  57          	ld	d,a
1269  0304  1E 12       	ld	e,0x12
1270  0306  D5          	push	de
1271  0307  CD 00 00    	call	_NIRVANAP_fillT_callee
1272  030A  2E 01       	ld	l,0x01
1273  030C  18 02       	jr	l_spr_move_up_00111
1274  030E              l_spr_move_up_00109:
1275  030E  2E 00       	ld	l,0x00
1276  0310              l_spr_move_up_00111:
1277  0310  C9          	ret
1278  0311              	SECTION code_compiler
1279  0311              ;	---------------------------------
1280  0311              ; Function spr_move_down
1281  0311              ; ---------------------------------
1282  0311              _spr_move_down:
1283  0311  2A 00 00    	ld	hl,(_sprite)
1284  0314  26 00       	ld	h,0x00
1285  0316  01 00 00    	ld	bc,_lin
1286  0319  09          	add	hl,bc
1287  031A  4E          	ld	c,(hl)
1288  031B  21 00 00    	ld	hl,_sprite_lin_inc_mul
1289  031E  46          	ld	b, (hl)
1290  031F  1E 02       	ld	e,0x02
1291  0321  04          	inc	b
1292  0322  18 02       	jr	l_spr_move_down_00116
1293  0324              l_spr_move_down_00115:
1294  0324  CB 23       	sla	e
1295  0326              l_spr_move_down_00116:
1296  0326  10 FC       	djnz	l_spr_move_down_00115
1297  0328  79          	ld	a, c
1298  0329  83          	add	a, e
1299  032A  32 00 00    	ld	(_tmp1),a
1300  032D  2A 00 00    	ld	hl,(_sprite)
1301  0330  26 00       	ld	h,0x00
1302  0332  01 00 00    	ld	bc,_col
1303  0335  09          	add	hl,bc
1304  0336  56          	ld	d, (hl)
1305  0337  3A 00 00    	ld	a,(_tmp1)
1306  033A  C6 10       	add	a,0x10
1307  033C  5F          	ld	e, a
1308  033D  D5          	push	de
1309  033E  CD 8A 00    	call	_spr_check_map_fall
1310  0341  F1          	pop	af
1311  0342  4D          	ld	c,l
1312  0343  44          	ld	b,h
1313  0344  2A 00 00    	ld	hl,(_sprite)
1314  0347  26 00       	ld	h,0x00
1315  0349  11 00 00    	ld	de,_lin
1316  034C  19          	add	hl,de
1317  034D  78          	ld	a,b
1318  034E  EB          	ex	de,hl
1319  034F  B1          	or	a,c
1320  0350  28 12       	jr	Z,l_spr_move_down_00102
1321  0352  3A 00 00    	ld	a,(_tmp1)
1322  0355  0F          	rrca
1323  0356  0F          	rrca
1324  0357  0F          	rrca
1325  0358  E6 1F       	and	a,0x1f
1326  035A  07          	rlca
1327  035B  07          	rlca
1328  035C  07          	rlca
1329  035D  E6 F8       	and	a,0xf8
1330  035F  12          	ld	(de), a
1331  0360  2E 01       	ld	l,0x01
1332  0362  18 1A       	jr	l_spr_move_down_00105
1333  0364              l_spr_move_down_00102:
1334  0364  3A 00 00    	ld	a,(_tmp1)
1335  0367  12          	ld	(de), a
1336  0368  2A 00 00    	ld	hl,(_sprite)
1337  036B  26 00       	ld	h,0x00
1338  036D  01 00 00    	ld	bc,_lin
1339  0370  09          	add	hl,bc
1340  0371  5E          	ld	e,(hl)
1341  0372  3E 90       	ld	a,0x90
1342  0374  BB          	cp	a,e
1343  0375  30 05       	jr	NC,l_spr_move_down_00104
1344  0377  77          	ld	(hl),a
1345  0378  2E 01       	ld	l,0x01
1346  037A  18 02       	jr	l_spr_move_down_00105
1347  037C              l_spr_move_down_00104:
1348  037C  2E 00       	ld	l,0x00
1349  037E              l_spr_move_down_00105:
1350  037E  C9          	ret
1351  037F              	SECTION code_compiler
1352  037F              ;	---------------------------------
1353  037F              ; Function spr_move_horizontal
1354  037F              ; ---------------------------------
1355  037F              _spr_move_horizontal:
1356  037F  2A 00 00    	ld	hl,(_sprite)
1357  0382  26 00       	ld	h,0x00
1358  0384  01 00 00    	ld	bc,_state
1359  0387  09          	add	hl,bc
1360  0388  7E          	ld	a,(hl)
1361  0389  CB 57       	bit	2, a
1362  038B  28 05       	jr	Z,l_spr_move_horizontal_00104
1363  038D  CD 9E 03    	call	_spr_move_right
1364  0390  18 0B       	jr	l_spr_move_horizontal_00106
1365  0392              l_spr_move_horizontal_00104:
1366  0392  CB 5F       	bit	3, a
1367  0394  28 05       	jr	Z,l_spr_move_horizontal_00105
1368  0396  CD 77 04    	call	_spr_move_left
1369  0399  18 02       	jr	l_spr_move_horizontal_00106
1370  039B              l_spr_move_horizontal_00105:
1371  039B  2E 00       	ld	l,0x00
1372  039D              l_spr_move_horizontal_00106:
1373  039D  C9          	ret
1374  039E              	SECTION code_compiler
1375  039E              ;	---------------------------------
1376  039E              ; Function spr_move_right
1377  039E              ; ---------------------------------
1378  039E              _spr_move_right:
1379  039E  2A 00 00    	ld	hl,(_sprite)
1380  03A1  26 00       	ld	h,0x00
1381  03A3  01 00 00    	ld	bc,_colint
1382  03A6  09          	add	hl,bc
1383  03A7  7E          	ld	a,(hl)
1384  03A8  3C          	inc	a
1385  03A9  77          	ld	(hl),a
1386  03AA  4F          	ld	c,a
1387  03AB  3A 00 00    	ld	a,(_sprite)
1388  03AE  5F          	ld	e,a
1389  03AF  16 00       	ld	d,0x00
1390  03B1  21 00 00    	ld	hl,_class
1391  03B4  19          	add	hl,de
1392  03B5  5E          	ld	e, (hl)
1393  03B6  16 00       	ld	d,0x00
1394  03B8  21 00 00    	ld	hl,_sprite_frames
1395  03BB  19          	add	hl, de
1396  03BC  7E          	ld	a, (hl)
1397  03BD  91          	sub	a, c
1398  03BE  C2 74 04    	jp	NZ,l_spr_move_right_00115
1399  03C1  2A 00 00    	ld	hl,(_sprite)
1400  03C4  26 00       	ld	h,0x00
1401  03C6  01 00 00    	ld	bc,_lin
1402  03C9  09          	add	hl,bc
1403  03CA  7E          	ld	a,(hl)
1404  03CB  32 00 00    	ld	(_s_lin1),a
1405  03CE  2A 00 00    	ld	hl,(_sprite)
1406  03D1  26 00       	ld	h,0x00
1407  03D3  01 00 00    	ld	bc,_col
1408  03D6  09          	add	hl,bc
1409  03D7  7E          	ld	a,(hl)
1410  03D8  FE 1E       	cp	a,0x1e
1411  03DA  30 44       	jr	NC,l_spr_move_right_00105
1412  03DC  3C          	inc	a
1413  03DD  32 00 00    	ld	(_s_col1),a
1414  03E0  F5          	push	af
1415  03E1  33          	inc	sp
1416  03E2  3A 00 00    	ld	a,(_s_lin1)
1417  03E5  F5          	push	af
1418  03E6  33          	inc	sp
1419  03E7  CD 1E 00    	call	_spr_check_map
1420  03EA  F1          	pop	af
1421  03EB  7C          	ld	a,h
1422  03EC  B5          	or	a,l
1423  03ED  20 13       	jr	NZ,l_spr_move_right_00101
1424  03EF  3A 00 00    	ld	a,(_s_lin1)
1425  03F2  C6 0F       	add	a,0x0f
1426  03F4  4F          	ld	c, a
1427  03F5  3A 00 00    	ld	a, (_s_col1)
1428  03F8  47          	ld	b,a
1429  03F9  C5          	push	bc
1430  03FA  CD 1E 00    	call	_spr_check_map
1431  03FD  F1          	pop	af
1432  03FE  7C          	ld	a,h
1433  03FF  B5          	or	a,l
1434  0400  28 1E       	jr	Z,l_spr_move_right_00105
1435  0402              l_spr_move_right_00101:
1436  0402  2A 00 00    	ld	hl,(_sprite)
1437  0405  26 00       	ld	h,0x00
1438  0407  01 00 00    	ld	bc,_colint
1439  040A  09          	add	hl,bc
1440  040B  7E          	ld	a,(hl)
1441  040C  C6 FF       	add	a,0xff
1442  040E  77          	ld	(hl),a
1443  040F  2A 00 00    	ld	hl,(_sprite)
1444  0412  26 00       	ld	h,0x00
1445  0414  01 00 00    	ld	bc,_colint
1446  0417  09          	add	hl,bc
1447  0418  7E          	ld	a,(hl)
1448  0419  C6 FF       	add	a,0xff
1449  041B  77          	ld	(hl),a
1450  041C  2E 01       	ld	l,0x01
1451  041E  18 56       	jr	l_spr_move_right_00116
1452  0420              l_spr_move_right_00105:
1453  0420  2A 00 00    	ld	hl,(_sprite)
1454  0423  26 00       	ld	h,0x00
1455  0425  01 00 00    	ld	bc,_col
1456  0428  09          	add	hl,bc
1457  0429  34          	inc	(hl)
1458  042A  2A 00 00    	ld	hl,(_sprite)
1459  042D  26 00       	ld	h,0x00
1460  042F  01 00 00    	ld	bc,_colint
1461  0432  09          	add	hl,bc
1462  0433  AF          	xor	a,a
1463  0434  77          	ld	(hl),a
1464  0435  2A 00 00    	ld	hl,(_sprite)
1465  0438  26 00       	ld	h,0x00
1466  043A  01 00 00    	ld	bc,_col
1467  043D  09          	add	hl,bc
1468  043E  5E          	ld	e,(hl)
1469  043F  3E 1E       	ld	a,0x1e
1470  0441  93          	sub	a,e
1471  0442  30 30       	jr	NC,l_spr_move_right_00115
1472  0444  3A 00 00    	ld	a,(_sprite)
1473  0447  D6 07       	sub	a,0x07
1474  0449  28 04       	jr	Z,l_spr_move_right_00145
1475  044B  4D          	ld	c,l
1476  044C  44          	ld	b,h
1477  044D  18 1C       	jr	l_spr_move_right_00110
1478  044F              l_spr_move_right_00145:
1479  044F  CD 5A 05    	call	_spr_page_right
1480  0452  3A 00 00    	ld	a,(_sprite)
1481  0455  C6 00       	add	a,+((_col) & 0xFF)
1482  0457  4D          	ld	c,l
1483  0458  5F          	ld	e,a
1484  0459  3E 00       	ld	a,+((_col) / 256)
1485  045B  CE 00       	adc	a,0x00
1486  045D  57          	ld	d,a
1487  045E  79          	ld	a, c
1488  045F  B7          	or	a, a
1489  0460  28 04       	jr	Z,l_spr_move_right_00107
1490  0462  AF          	xor	a, a
1491  0463  12          	ld	(de), a
1492  0464  18 0E       	jr	l_spr_move_right_00115
1493  0466              l_spr_move_right_00107:
1494  0466  3E 1E       	ld	a,0x1e
1495  0468  12          	ld	(de), a
1496  0469  18 09       	jr	l_spr_move_right_00115
1497  046B              l_spr_move_right_00110:
1498  046B  3E 1E       	ld	a,0x1e
1499  046D  02          	ld	(bc), a
1500  046E  2A 00 00    	ld	hl,(_sprite)
1501  0471  CD A5 07    	call	_spr_destroy
1502  0474              l_spr_move_right_00115:
1503  0474  2E 00       	ld	l,0x00
1504  0476              l_spr_move_right_00116:
1505  0476  C9          	ret
1506  0477              	SECTION code_compiler
1507  0477              ;	---------------------------------
1508  0477              ; Function spr_move_left
1509  0477              ; ---------------------------------
1510  0477              _spr_move_left:
1511  0477  01 00 00    	ld	bc,_colint+0
1512  047A  79          	ld	a, c
1513  047B  21 00 00    	ld	hl,_sprite
1514  047E  86          	add	a, (hl)
1515  047F  5F          	ld	e, a
1516  0480  78          	ld	a, b
1517  0481  CE 00       	adc	a,0x00
1518  0483  57          	ld	d, a
1519  0484  1A          	ld	a, (de)
1520  0485  C6 FF       	add	a,0xff
1521  0487  12          	ld	(de), a
1522  0488  79          	ld	a, c
1523  0489  86          	add	a, (hl)
1524  048A  5F          	ld	e, a
1525  048B  78          	ld	a, b
1526  048C  CE 00       	adc	a,0x00
1527  048E  57          	ld	d, a
1528  048F  1A          	ld	a, (de)
1529  0490  3C          	inc	a
1530  0491  C2 57 05    	jp	NZ,l_spr_move_left_00115
1531  0494  5E          	ld	e,(hl)
1532  0495  16 00       	ld	d,0x00
1533  0497  21 00 00    	ld	hl,_lin
1534  049A  19          	add	hl,de
1535  049B  7E          	ld	a,(hl)
1536  049C  32 00 00    	ld	(_s_lin1),a
1537  049F  2A 00 00    	ld	hl,(_sprite)
1538  04A2  26 00       	ld	h,0x00
1539  04A4  11 00 00    	ld	de,_col
1540  04A7  19          	add	hl,de
1541  04A8  7E          	ld	a,(hl)
1542  04A9  B7          	or	a, a
1543  04AA  28 47       	jr	Z,l_spr_move_left_00105
1544  04AC  C6 FF       	add	a,0xff
1545  04AE  32 00 00    	ld	(_s_col1),a
1546  04B1  C5          	push	bc
1547  04B2  F5          	push	af
1548  04B3  33          	inc	sp
1549  04B4  3A 00 00    	ld	a,(_s_lin1)
1550  04B7  F5          	push	af
1551  04B8  33          	inc	sp
1552  04B9  CD 1E 00    	call	_spr_check_map
1553  04BC  F1          	pop	af
1554  04BD  C1          	pop	bc
1555  04BE  7C          	ld	a,h
1556  04BF  B5          	or	a,l
1557  04C0  20 16       	jr	NZ,l_spr_move_left_00101
1558  04C2  3A 00 00    	ld	a,(_s_lin1)
1559  04C5  C6 0F       	add	a,0x0f
1560  04C7  57          	ld	d, a
1561  04C8  3A 00 00    	ld	a,(_s_col1)
1562  04CB  C5          	push	bc
1563  04CC  5A          	ld	e,d
1564  04CD  57          	ld	d,a
1565  04CE  D5          	push	de
1566  04CF  CD 1E 00    	call	_spr_check_map
1567  04D2  F1          	pop	af
1568  04D3  C1          	pop	bc
1569  04D4  7C          	ld	a,h
1570  04D5  B5          	or	a,l
1571  04D6  28 1B       	jr	Z,l_spr_move_left_00105
1572  04D8              l_spr_move_left_00101:
1573  04D8  79          	ld	a, c
1574  04D9  21 00 00    	ld	hl,_sprite
1575  04DC  86          	add	a, (hl)
1576  04DD  5F          	ld	e, a
1577  04DE  78          	ld	a, b
1578  04DF  CE 00       	adc	a,0x00
1579  04E1  57          	ld	d, a
1580  04E2  1A          	ld	a, (de)
1581  04E3  3C          	inc	a
1582  04E4  12          	ld	(de), a
1583  04E5  79          	ld	a, c
1584  04E6  86          	add	a, (hl)
1585  04E7  4F          	ld	c, a
1586  04E8  78          	ld	a, b
1587  04E9  CE 00       	adc	a,0x00
1588  04EB  47          	ld	b, a
1589  04EC  0A          	ld	a, (bc)
1590  04ED  3C          	inc	a
1591  04EE  02          	ld	(bc), a
1592  04EF  2E 01       	ld	l,0x01
1593  04F1  18 66       	jr	l_spr_move_left_00116
1594  04F3              l_spr_move_left_00105:
1595  04F3  2A 00 00    	ld	hl,(_sprite)
1596  04F6  26 00       	ld	h,0x00
1597  04F8  11 00 00    	ld	de,_col
1598  04FB  19          	add	hl,de
1599  04FC  7E          	ld	a,(hl)
1600  04FD  EB          	ex	de,hl
1601  04FE  C6 FF       	add	a,0xff
1602  0500  12          	ld	(de),a
1603  0501  79          	ld	a,c
1604  0502  21 00 00    	ld	hl,_sprite
1605  0505  86          	add	a, (hl)
1606  0506  4F          	ld	c, a
1607  0507  78          	ld	a, b
1608  0508  CE 00       	adc	a,0x00
1609  050A  47          	ld	b, a
1610  050B  5E          	ld	e,(hl)
1611  050C  16 00       	ld	d,0x00
1612  050E  21 00 00    	ld	hl,_class
1613  0511  19          	add	hl,de
1614  0512  5E          	ld	e, (hl)
1615  0513  16 00       	ld	d,0x00
1616  0515  21 00 00    	ld	hl,_sprite_frames
1617  0518  19          	add	hl, de
1618  0519  5E          	ld	e, (hl)
1619  051A  1D          	dec	e
1620  051B  7B          	ld	a, e
1621  051C  02          	ld	(bc), a
1622  051D  2A 00 00    	ld	hl,(_sprite)
1623  0520  26 00       	ld	h,0x00
1624  0522  01 00 00    	ld	bc,_col
1625  0525  09          	add	hl,bc
1626  0526  7E          	ld	a,(hl)
1627  0527  3C          	inc	a
1628  0528  20 2D       	jr	NZ,l_spr_move_left_00115
1629  052A  3A 00 00    	ld	a,(_sprite)
1630  052D  D6 07       	sub	a,0x07
1631  052F  4D          	ld	c,l
1632  0530  44          	ld	b,h
1633  0531  20 1C       	jr	NZ,l_spr_move_left_00110
1634  0533  CD 74 05    	call	_spr_page_left
1635  0536  3A 00 00    	ld	a,(_sprite)
1636  0539  C6 00       	add	a,+((_col) & 0xFF)
1637  053B  4D          	ld	c,l
1638  053C  5F          	ld	e,a
1639  053D  3E 00       	ld	a,+((_col) / 256)
1640  053F  CE 00       	adc	a,0x00
1641  0541  57          	ld	d,a
1642  0542  79          	ld	a, c
1643  0543  B7          	or	a, a
1644  0544  28 05       	jr	Z,l_spr_move_left_00107
1645  0546  3E 1E       	ld	a,0x1e
1646  0548  12          	ld	(de), a
1647  0549  18 0C       	jr	l_spr_move_left_00115
1648  054B              l_spr_move_left_00107:
1649  054B  AF          	xor	a, a
1650  054C  12          	ld	(de), a
1651  054D  18 08       	jr	l_spr_move_left_00115
1652  054F              l_spr_move_left_00110:
1653  054F  AF          	xor	a, a
1654  0550  02          	ld	(bc), a
1655  0551  2A 00 00    	ld	hl,(_sprite)
1656  0554  CD A5 07    	call	_spr_destroy
1657  0557              l_spr_move_left_00115:
1658  0557  2E 00       	ld	l,0x00
1659  0559              l_spr_move_left_00116:
1660  0559  C9          	ret
1661  055A              	SECTION code_compiler
1662  055A              ;	---------------------------------
1663  055A              ; Function spr_page_right
1664  055A              ; ---------------------------------
1665  055A              _spr_page_right:
1666  055A  3A 00 00    	ld	a,(_scr_curr)
1667  055D  21 00 00    	ld	hl,_map_width
1668  0560  96          	sub	a, (hl)
1669  0561  30 0E       	jr	NC,l_spr_page_right_00102
1670  0563  21 00 00    	ld	hl,_scr_curr
1671  0566  34          	inc	(hl)
1672  0567  CD 9B 05    	call	_spr_page_map
1673  056A  CD C5 08    	call	_spr_draw_background
1674  056D  2E 01       	ld	l,0x01
1675  056F  18 02       	jr	l_spr_page_right_00103
1676  0571              l_spr_page_right_00102:
1677  0571  2E 00       	ld	l,0x00
1678  0573              l_spr_page_right_00103:
1679  0573  C9          	ret
1680  0574              	SECTION code_compiler
1681  0574              ;	---------------------------------
1682  0574              ; Function spr_page_left
1683  0574              ; ---------------------------------
1684  0574              _spr_page_left:
1685  0574  2A 00 00    	ld	hl,(_sprite)
1686  0577  26 00       	ld	h,0x00
1687  0579  01 00 00    	ld	bc,_class
1688  057C  09          	add	hl,bc
1689  057D  7E          	ld	a,(hl)
1690  057E  D6 10       	sub	a,0x10
1691  0580  28 04       	jr	Z,l_spr_page_left_00102
1692  0582  2E 00       	ld	l,0x00
1693  0584  18 14       	jr	l_spr_page_left_00105
1694  0586              l_spr_page_left_00102:
1695  0586  21 00 00    	ld	hl,_scr_curr
1696  0589  7E          	ld	a, (hl)
1697  058A  B7          	or	a, a
1698  058B  28 0B       	jr	Z,l_spr_page_left_00104
1699  058D  35          	dec	(hl)
1700  058E  CD 9B 05    	call	_spr_page_map
1701  0591  CD C5 08    	call	_spr_draw_background
1702  0594  2E 01       	ld	l,0x01
1703  0596  18 02       	jr	l_spr_page_left_00105
1704  0598              l_spr_page_left_00104:
1705  0598  2E 00       	ld	l,0x00
1706  059A              l_spr_page_left_00105:
1707  059A  C9          	ret
1708  059B              	SECTION code_compiler
1709  059B              ;	---------------------------------
1710  059B              ; Function spr_page_map
1711  059B              ; ---------------------------------
1712  059B              _spr_page_map:
1713  059B  CD 00 00    	call	___sdcc_enter_ix
1714  059E  F5          	push	af
1715  059F  3E 10       	ld	a,0x10
1716  05A1  F5          	push	af
1717  05A2  33          	inc	sp
1718  05A3  0E 00       	ld	c,0x00
1719  05A5              l_spr_page_map_00123:
1720  05A5  3E 07       	ld	a,0x07
1721  05A7  21 00 00    	ld	hl,_scr_curr
1722  05AA  96          	sub	a, (hl)
1723  05AB  DA 75 06    	jp	C, l_spr_page_map_00109
1724  05AE  59          	ld	e, c
1725  05AF  16 00       	ld	d,0x00
1726  05B1  13          	inc	de
1727  05B2  D5          	push	de
1728  05B3  5E          	ld	e, (hl)
1729  05B4  16 00       	ld	d,0x00
1730  05B6  21 BE 05    	ld	hl,l_spr_page_map_00167
1731  05B9  19          	add	hl, de
1732  05BA  19          	add	hl, de
1733  05BB  19          	add	hl, de
1734  05BC  D1          	pop	de
1735  05BD  E9          	jp	(hl)
1736  05BE              l_spr_page_map_00167:
1737  05BE  C3 D6 05    	jp	l_spr_page_map_00101
1738  05C1  C3 EB 05    	jp	l_spr_page_map_00102
1739  05C4  C3 FF 05    	jp	l_spr_page_map_00103
1740  05C7  C3 13 06    	jp	l_spr_page_map_00104
1741  05CA  C3 27 06    	jp	l_spr_page_map_00105
1742  05CD  C3 3B 06    	jp	l_spr_page_map_00106
1743  05D0  C3 4F 06    	jp	l_spr_page_map_00107
1744  05D3  C3 63 06    	jp	l_spr_page_map_00108
1745  05D6              l_spr_page_map_00101:
1746  05D6  06 00       	ld	b,0x00
1747  05D8  21 00 00    	ld	hl,_scr_0
1748  05DB  09          	add	hl, bc
1749  05DC  7E          	ld	a, (hl)
1750  05DD  DD 77 FF    	ld	(ix-1),a
1751  05E0  21 00 00    	ld	hl,_scr_0
1752  05E3  19          	add	hl, de
1753  05E4  7E          	ld	a, (hl)
1754  05E5  DD 77 FE    	ld	(ix-2),a
1755  05E8  C3 75 06    	jp	l_spr_page_map_00109
1756  05EB              l_spr_page_map_00102:
1757  05EB  06 00       	ld	b,0x00
1758  05ED  21 00 00    	ld	hl,_scr_1
1759  05F0  09          	add	hl, bc
1760  05F1  7E          	ld	a, (hl)
1761  05F2  DD 77 FF    	ld	(ix-1),a
1762  05F5  21 00 00    	ld	hl,_scr_1
1763  05F8  19          	add	hl, de
1764  05F9  7E          	ld	a, (hl)
1765  05FA  DD 77 FE    	ld	(ix-2),a
1766  05FD  18 76       	jr	l_spr_page_map_00109
1767  05FF              l_spr_page_map_00103:
1768  05FF  06 00       	ld	b,0x00
1769  0601  21 00 00    	ld	hl,_scr_2
1770  0604  09          	add	hl, bc
1771  0605  7E          	ld	a, (hl)
1772  0606  DD 77 FF    	ld	(ix-1),a
1773  0609  21 00 00    	ld	hl,_scr_2
1774  060C  19          	add	hl, de
1775  060D  7E          	ld	a, (hl)
1776  060E  DD 77 FE    	ld	(ix-2),a
1777  0611  18 62       	jr	l_spr_page_map_00109
1778  0613              l_spr_page_map_00104:
1779  0613  06 00       	ld	b,0x00
1780  0615  21 00 00    	ld	hl,_scr_3
1781  0618  09          	add	hl, bc
1782  0619  7E          	ld	a, (hl)
1783  061A  DD 77 FF    	ld	(ix-1),a
1784  061D  21 00 00    	ld	hl,_scr_3
1785  0620  19          	add	hl, de
1786  0621  7E          	ld	a, (hl)
1787  0622  DD 77 FE    	ld	(ix-2),a
1788  0625  18 4E       	jr	l_spr_page_map_00109
1789  0627              l_spr_page_map_00105:
1790  0627  06 00       	ld	b,0x00
1791  0629  21 00 00    	ld	hl,_scr_4
1792  062C  09          	add	hl, bc
1793  062D  7E          	ld	a, (hl)
1794  062E  DD 77 FF    	ld	(ix-1),a
1795  0631  21 00 00    	ld	hl,_scr_4
1796  0634  19          	add	hl, de
1797  0635  7E          	ld	a, (hl)
1798  0636  DD 77 FE    	ld	(ix-2),a
1799  0639  18 3A       	jr	l_spr_page_map_00109
1800  063B              l_spr_page_map_00106:
1801  063B  06 00       	ld	b,0x00
1802  063D  21 00 00    	ld	hl,_scr_5
1803  0640  09          	add	hl, bc
1804  0641  7E          	ld	a, (hl)
1805  0642  DD 77 FF    	ld	(ix-1),a
1806  0645  21 00 00    	ld	hl,_scr_5
1807  0648  19          	add	hl, de
1808  0649  7E          	ld	a, (hl)
1809  064A  DD 77 FE    	ld	(ix-2),a
1810  064D  18 26       	jr	l_spr_page_map_00109
1811  064F              l_spr_page_map_00107:
1812  064F  06 00       	ld	b,0x00
1813  0651  21 00 00    	ld	hl,_scr_6
1814  0654  09          	add	hl, bc
1815  0655  7E          	ld	a, (hl)
1816  0656  DD 77 FF    	ld	(ix-1),a
1817  0659  21 00 00    	ld	hl,_scr_6
1818  065C  19          	add	hl, de
1819  065D  7E          	ld	a, (hl)
1820  065E  DD 77 FE    	ld	(ix-2),a
1821  0661  18 12       	jr	l_spr_page_map_00109
1822  0663              l_spr_page_map_00108:
1823  0663  06 00       	ld	b,0x00
1824  0665  21 00 00    	ld	hl,_scr_7
1825  0668  09          	add	hl, bc
1826  0669  7E          	ld	a, (hl)
1827  066A  DD 77 FF    	ld	(ix-1),a
1828  066D  21 00 00    	ld	hl,_scr_7
1829  0670  19          	add	hl, de
1830  0671  7E          	ld	a, (hl)
1831  0672  DD 77 FE    	ld	(ix-2),a
1832  0675              l_spr_page_map_00109:
1833  0675  DD 7E FF    	ld	a,(ix-1)
1834  0678  D6 80       	sub	a,0x80
1835  067A  30 14       	jr	NC,l_spr_page_map_00114
1836  067C  3E 00       	ld	a, +((_scr_map) & 0xFF)
1837  067E  DD 86 FD    	add	a,(ix-3)
1838  0681  5F          	ld	e, a
1839  0682  3E 00       	ld	a, +((_scr_map) / 256)
1840  0684  CE 00       	adc	a,0x00
1841  0686  57          	ld	d, a
1842  0687  DD 7E FF    	ld	a,(ix-1)
1843  068A  12          	ld	(de), a
1844  068B  DD 34 FD    	inc	(ix-3)
1845  068E  18 29       	jr	l_spr_page_map_00115
1846  0690              l_spr_page_map_00114:
1847  0690  DD 7E FF    	ld	a,(ix-1)
1848  0693  C6 80       	add	a,0x80
1849  0695  47          	ld	b, a
1850  0696  DD 5E FD    	ld	e,(ix-3)
1851  0699  16 00       	ld	d,0x00
1852  069B              l_spr_page_map_00121:
1853  069B  7A          	ld	a, d
1854  069C  90          	sub	a, b
1855  069D  30 16       	jr	NC,l_spr_page_map_00138
1856  069F  3E 00       	ld	a, +((_scr_map) & 0xFF)
1857  06A1  83          	add	a, e
1858  06A2  6F          	ld	l, a
1859  06A3  3E 00       	ld	a, +((_scr_map) / 256)
1860  06A5  CE 00       	adc	a,0x00
1861  06A7  67          	ld	h, a
1862  06A8  DD 7E FE    	ld	a,(ix-2)
1863  06AB  77          	ld	(hl), a
1864  06AC  1C          	inc	e
1865  06AD  7B          	ld	a, e
1866  06AE  D6 A0       	sub	a,0xa0
1867  06B0  30 03       	jr	NC,l_spr_page_map_00138
1868  06B2  14          	inc	d
1869  06B3  18 E6       	jr	l_spr_page_map_00121
1870  06B5              l_spr_page_map_00138:
1871  06B5  DD 73 FD    	ld	(ix-3),e
1872  06B8  0C          	inc	c
1873  06B9              l_spr_page_map_00115:
1874  06B9  DD 7E FD    	ld	a,(ix-3)
1875  06BC  D6 A0       	sub	a,0xa0
1876  06BE  30 07       	jr	NC,l_spr_page_map_00136
1877  06C0  0C          	inc	c
1878  06C1  79          	ld	a, c
1879  06C2  D6 A0       	sub	a,0xa0
1880  06C4  DA A5 05    	jp	C, l_spr_page_map_00123
1881  06C7              l_spr_page_map_00136:
1882  06C7  0E 00       	ld	c,0x00
1883  06C9              l_spr_page_map_00125:
1884  06C9  06 00       	ld	b,0x00
1885  06CB  21 00 00    	ld	hl,_class
1886  06CE  09          	add	hl, bc
1887  06CF  36 00       	ld	(hl),0x00
1888  06D1  C5          	push	bc
1889  06D2  21 00 00    	ld	hl,0x0000
1890  06D5  E5          	push	hl
1891  06D6  AF          	xor	a, a
1892  06D7  F5          	push	af
1893  06D8  33          	inc	sp
1894  06D9  79          	ld	a, c
1895  06DA  F5          	push	af
1896  06DB  33          	inc	sp
1897  06DC  CD 00 00    	call	_NIRVANAP_spriteT_callee
1898  06DF  C1          	pop	bc
1899  06E0  0C          	inc	c
1900  06E1  79          	ld	a, c
1901  06E2  D6 07       	sub	a,0x07
1902  06E4  38 E3       	jr	C,l_spr_page_map_00125
1903  06E6  CD 1F 0E    	call	_spr_init_anim
1904  06E9  DD F9       	ld	sp, ix
1905  06EB  DD E1       	pop	ix
1906  06ED  C9          	ret
1907  06EE              	SECTION code_compiler
1908  06EE              ;	---------------------------------
1909  06EE              ; Function spr_redraw
1910  06EE              ; ---------------------------------
1911  06EE              _spr_redraw:
1912  06EE  2A 00 00    	ld	hl,(_sprite)
1913  06F1  26 00       	ld	h,0x00
1914  06F3  01 00 00    	ld	bc,_tile
1915  06F6  09          	add	hl,bc
1916  06F7  4E          	ld	c, (hl)
1917  06F8  3A 00 00    	ld	a,(_sprite)
1918  06FB  5F          	ld	e,a
1919  06FC  16 00       	ld	d,0x00
1920  06FE  21 00 00    	ld	hl,_colint
1921  0701  19          	add	hl,de
1922  0702  7E          	ld	a,(hl)
1923  0703  81          	add	a,c
1924  0704  32 00 00    	ld	(_s_tile1),a
1925  0707  2A 00 00    	ld	hl,(_sprite)
1926  070A  26 00       	ld	h,0x00
1927  070C  01 00 00    	ld	bc,_col
1928  070F  09          	add	hl,bc
1929  0710  7E          	ld	a,(hl)
1930  0711  32 00 00    	ld	(_s_col1),a
1931  0714  2A 00 00    	ld	hl,(_sprite)
1932  0717  26 00       	ld	h,0x00
1933  0719  01 00 00    	ld	bc,_lin
1934  071C  09          	add	hl,bc
1935  071D  7E          	ld	a,(hl)
1936  071E  32 00 00    	ld	(_s_lin1),a
1937  0721  21 00 00    	ld	hl,_s_lin0
1938  0724  96          	sub	a, (hl)
1939  0725  20 09       	jr	NZ,l_spr_redraw_00109
1940  0727  3A 00 00    	ld	a,(_s_col1)
1941  072A  21 00 00    	ld	hl,_s_col0
1942  072D  96          	sub	a, (hl)
1943  072E  28 52       	jr	Z,l_spr_redraw_00110
1944  0730              l_spr_redraw_00109:
1945  0730  3E 10       	ld	a,0x10
1946  0732  21 00 00    	ld	hl,_s_lin0
1947  0735  96          	sub	a, (hl)
1948  0736  38 0E       	jr	C,l_spr_redraw_00102
1949  0738  F3          	di
1950  0739  3A 00 00    	ld	a,(_s_col0)
1951  073C  F5          	push	af
1952  073D  33          	inc	sp
1953  073E  21 49 08    	ld	hl,0x0849
1954  0741  E5          	push	hl
1955  0742  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1956  0745  FB          	ei
1957  0746              l_spr_redraw_00102:
1958  0746  3A 00 00    	ld	a,(_sprite)
1959  0749  D6 07       	sub	a,0x07
1960  074B  20 1B       	jr	NZ,l_spr_redraw_00104
1961  074D  3A 00 00    	ld	a,(_player_over_stair)
1962  0750  B7          	or	a, a
1963  0751  28 15       	jr	Z,l_spr_redraw_00104
1964  0753  2A 00 00    	ld	hl,(_sprite)
1965  0756  26 00       	ld	h,0x00
1966  0758  01 00 00    	ld	bc,_lin
1967  075B  09          	add	hl,bc
1968  075C  7E          	ld	a,(hl)
1969  075D  E6 03       	and	a,0x03
1970  075F  20 07       	jr	NZ,l_spr_redraw_00104
1971  0761  21 00 00    	ld	hl,_s_tile1
1972  0764  34          	inc	(hl)
1973  0765  34          	inc	(hl)
1974  0766  34          	inc	(hl)
1975  0767  34          	inc	(hl)
1976  0768              l_spr_redraw_00104:
1977  0768  2A FF FF    	ld	hl,(_s_col1 - 1)
1978  076B  3A 00 00    	ld	a,(_s_lin1)
1979  076E  6F          	ld	l,a
1980  076F  E5          	push	hl
1981  0770  2A FF FF    	ld	hl,(_s_tile1 - 1)
1982  0773  3A 00 00    	ld	a,(_sprite)
1983  0776  6F          	ld	l,a
1984  0777  E5          	push	hl
1985  0778  CD 00 00    	call	_NIRVANAP_spriteT_callee
1986  077B  CD 77 0C    	call	_spr_back_clr
1987  077E  2E 01       	ld	l,0x01
1988  0780  18 22       	jr	l_spr_redraw_00113
1989  0782              l_spr_redraw_00110:
1990  0782  3A 00 00    	ld	a,(_s_tile1)
1991  0785  21 00 00    	ld	hl,_s_tile0
1992  0788  96          	sub	a, (hl)
1993  0789  28 17       	jr	Z,l_spr_redraw_00111
1994  078B  2A FF FF    	ld	hl,(_s_col1 - 1)
1995  078E  3A 00 00    	ld	a,(_s_lin1)
1996  0791  6F          	ld	l,a
1997  0792  E5          	push	hl
1998  0793  2A FF FF    	ld	hl,(_s_tile1 - 1)
1999  0796  3A 00 00    	ld	a,(_sprite)
2000  0799  6F          	ld	l,a
2001  079A  E5          	push	hl
2002  079B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2003  079E  2E 00       	ld	l,0x00
2004  07A0  18 02       	jr	l_spr_redraw_00113
2005  07A2              l_spr_redraw_00111:
2006  07A2  2E 00       	ld	l,0x00
2007  07A4              l_spr_redraw_00113:
2008  07A4  C9          	ret
2009  07A5              	SECTION code_compiler
2010  07A5              ;	---------------------------------
2011  07A5              ; Function spr_destroy
2012  07A5              ; ---------------------------------
2013  07A5              _spr_destroy:
2014  07A5  CD 00 00    	call	___sdcc_enter_ix
2015  07A8  F5          	push	af
2016  07A9  4D          	ld	c, l
2017  07AA  21 00 00    	ld	hl,_spr_count
2018  07AD  35          	dec	(hl)
2019  07AE  3E 00       	ld	a, +((_lin) & 0xFF)
2020  07B0  81          	add	a, c
2021  07B1  DD 77 FE    	ld	(ix-2),a
2022  07B4  3E 00       	ld	a, +((_lin) / 256)
2023  07B6  CE 00       	adc	a,0x00
2024  07B8  DD 77 FF    	ld	(ix-1),a
2025  07BB  E1          	pop	hl
2026  07BC  7E          	ld	a,(hl)
2027  07BD  E5          	push	hl
2028  07BE  32 00 00    	ld	(_s_lin0),a
2029  07C1  3E 00       	ld	a, +((_col) & 0xFF)
2030  07C3  81          	add	a, c
2031  07C4  5F          	ld	e, a
2032  07C5  3E 00       	ld	a, +((_col) / 256)
2033  07C7  CE 00       	adc	a,0x00
2034  07C9  57          	ld	d, a
2035  07CA  1A          	ld	a, (de)
2036  07CB  32 00 00    	ld	(_s_col0),a
2037  07CE  C5          	push	bc
2038  07CF  D5          	push	de
2039  07D0  21 00 00    	ld	hl,0x0000
2040  07D3  E5          	push	hl
2041  07D4  AF          	xor	a, a
2042  07D5  F5          	push	af
2043  07D6  33          	inc	sp
2044  07D7  79          	ld	a, c
2045  07D8  F5          	push	af
2046  07D9  33          	inc	sp
2047  07DA  CD 00 00    	call	_NIRVANAP_spriteT_callee
2048  07DD  CD 77 0C    	call	_spr_back_clr
2049  07E0  D1          	pop	de
2050  07E1  C1          	pop	bc
2051  07E2  06 00       	ld	b,0x00
2052  07E4  21 00 00    	ld	hl,_tile
2053  07E7  09          	add	hl, bc
2054  07E8  AF          	xor	a,a
2055  07E9  77          	ld	(hl),a
2056  07EA  E1          	pop	hl
2057  07EB  12          	ld	(de),a
2058  07EC  E5          	push	hl
2059  07ED  36 00       	ld	(hl),0x00
2060  07EF  11 00 00    	ld	de,_class+0
2061  07F2  69          	ld	l,c
2062  07F3  26 00       	ld	h,0x00
2063  07F5  19          	add	hl, de
2064  07F6  36 00       	ld	(hl),0x00
2065  07F8  11 00 00    	ld	de,_state+0
2066  07FB  69          	ld	l,c
2067  07FC  26 00       	ld	h,0x00
2068  07FE  19          	add	hl, de
2069  07FF  36 00       	ld	(hl),0x00
2070  0801  11 00 00    	ld	de,_state_a+0
2071  0804  69          	ld	l,c
2072  0805  26 00       	ld	h,0x00
2073  0807  19          	add	hl, de
2074  0808  F1          	pop	af
2075  0809  36 00       	ld	(hl),0x00
2076  080B  DD E1       	pop	ix
2077  080D  C9          	ret
2078  080E              	SECTION code_compiler
2079  080E              ;	---------------------------------
2080  080E              ; Function spr_tile
2081  080E              ; ---------------------------------
2082  080E              _spr_tile:
2083  080E  45          	ld	b,l
2084  080F  11 00 00    	ld	de,_class+0
2085  0812  26 00       	ld	h,0x00
2086  0814  19          	add	hl, de
2087  0815  7E          	ld	a, (hl)
2088  0816  FE 01       	cp	a,0x01
2089  0818  28 12       	jr	Z,l_spr_tile_00101
2090  081A  FE 02       	cp	a,0x02
2091  081C  28 1D       	jr	Z,l_spr_tile_00102
2092  081E  FE 03       	cp	a,0x03
2093  0820  28 28       	jr	Z,l_spr_tile_00103
2094  0822  FE 04       	cp	a,0x04
2095  0824  28 34       	jr	Z,l_spr_tile_00104
2096  0826  D6 05       	sub	a,0x05
2097  0828  28 3F       	jr	Z,l_spr_tile_00105
2098  082A  18 4D       	jr	l_spr_tile_00106
2099  082C              l_spr_tile_00101:
2100  082C  AF          	xor	a, a
2101  082D  48          	ld	c,b
2102  082E  47          	ld	b,a
2103  082F  C5          	push	bc
2104  0830  3E 84       	ld	a,0x84
2105  0832  F5          	push	af
2106  0833  33          	inc	sp
2107  0834  CD 7C 08    	call	_spr_tile_dir
2108  0837  F1          	pop	af
2109  0838  33          	inc	sp
2110  0839  18 40       	jr	l_spr_tile_00107
2111  083B              l_spr_tile_00102:
2112  083B  AF          	xor	a, a
2113  083C  48          	ld	c,b
2114  083D  47          	ld	b,a
2115  083E  C5          	push	bc
2116  083F  3E 88       	ld	a,0x88
2117  0841  F5          	push	af
2118  0842  33          	inc	sp
2119  0843  CD 7C 08    	call	_spr_tile_dir
2120  0846  F1          	pop	af
2121  0847  33          	inc	sp
2122  0848  18 31       	jr	l_spr_tile_00107
2123  084A              l_spr_tile_00103:
2124  084A  3E 02       	ld	a,0x02
2125  084C  48          	ld	c,b
2126  084D  47          	ld	b,a
2127  084E  C5          	push	bc
2128  084F  3E 8C       	ld	a,0x8c
2129  0851  F5          	push	af
2130  0852  33          	inc	sp
2131  0853  CD 7C 08    	call	_spr_tile_dir
2132  0856  F1          	pop	af
2133  0857  33          	inc	sp
2134  0858  18 21       	jr	l_spr_tile_00107
2135  085A              l_spr_tile_00104:
2136  085A  AF          	xor	a, a
2137  085B  48          	ld	c,b
2138  085C  47          	ld	b,a
2139  085D  C5          	push	bc
2140  085E  3E 90       	ld	a,0x90
2141  0860  F5          	push	af
2142  0861  33          	inc	sp
2143  0862  CD 7C 08    	call	_spr_tile_dir
2144  0865  F1          	pop	af
2145  0866  33          	inc	sp
2146  0867  18 12       	jr	l_spr_tile_00107
2147  0869              l_spr_tile_00105:
2148  0869  3E 04       	ld	a,0x04
2149  086B  48          	ld	c,b
2150  086C  47          	ld	b,a
2151  086D  C5          	push	bc
2152  086E  3E 94       	ld	a,0x94
2153  0870  F5          	push	af
2154  0871  33          	inc	sp
2155  0872  CD 7C 08    	call	_spr_tile_dir
2156  0875  F1          	pop	af
2157  0876  33          	inc	sp
2158  0877  18 02       	jr	l_spr_tile_00107
2159  0879              l_spr_tile_00106:
2160  0879  2E 00       	ld	l,0x00
2161  087B              l_spr_tile_00107:
2162  087B  C9          	ret
2163  087C              	SECTION code_compiler
2164  087C              ;	---------------------------------
2165  087C              ; Function spr_tile_dir
2166  087C              ; ---------------------------------
2167  087C              _spr_tile_dir:
2168  087C  CD 00 00    	call	___sdcc_enter_ix
2169  087F  3E 00       	ld	a, +((_state) & 0xFF)
2170  0881  DD 86 05    	add	a,(ix+5)
2171  0884  4F          	ld	c, a
2172  0885  3E 00       	ld	a, +((_state) / 256)
2173  0887  CE 00       	adc	a,0x00
2174  0889  47          	ld	b, a
2175  088A  0A          	ld	a, (bc)
2176  088B  4F          	ld	c,a
2177  088C  CB 57       	bit	2,a
2178  088E  28 05       	jr	Z,l_spr_tile_dir_00102
2179  0890  DD 6E 04    	ld	l,(ix+4)
2180  0893  18 2D       	jr	l_spr_tile_dir_00109
2181  0895              l_spr_tile_dir_00102:
2182  0895  DD 7E 04    	ld	a,(ix+4)
2183  0898  DD 86 06    	add	a,(ix+6)
2184  089B  47          	ld	b, a
2185  089C  CB 59       	bit	3, c
2186  089E  28 03       	jr	Z,l_spr_tile_dir_00104
2187  08A0  68          	ld	l, b
2188  08A1  18 1F       	jr	l_spr_tile_dir_00109
2189  08A3              l_spr_tile_dir_00104:
2190  08A3  3E 00       	ld	a, +((_state_a) & 0xFF)
2191  08A5  DD 86 05    	add	a,(ix+5)
2192  08A8  5F          	ld	e, a
2193  08A9  3E 00       	ld	a, +((_state_a) / 256)
2194  08AB  CE 00       	adc	a,0x00
2195  08AD  57          	ld	d, a
2196  08AE  1A          	ld	a, (de)
2197  08AF  CB 67       	bit	4, a
2198  08B1  28 05       	jr	Z,l_spr_tile_dir_00106
2199  08B3  DD 6E 04    	ld	l,(ix+4)
2200  08B6  18 0A       	jr	l_spr_tile_dir_00109
2201  08B8              l_spr_tile_dir_00106:
2202  08B8  CB 5F       	bit	3, a
2203  08BA  28 03       	jr	Z,l_spr_tile_dir_00108
2204  08BC  68          	ld	l, b
2205  08BD  18 03       	jr	l_spr_tile_dir_00109
2206  08BF              l_spr_tile_dir_00108:
2207  08BF  DD 6E 04    	ld	l,(ix+4)
2208  08C2              l_spr_tile_dir_00109:
2209  08C2  DD E1       	pop	ix
2210  08C4  C9          	ret
2211  08C5              	SECTION code_compiler
2212  08C5              ;	---------------------------------
2213  08C5              ; Function spr_draw_background
2214  08C5              ; ---------------------------------
2215  08C5              _spr_draw_background:
2216  08C5  76          	halt
2217  08C6  21 10 00    	ld	hl,0x0010
2218  08C9  22 00 00    	ld	(_index1),hl
2219  08CC  21 00 00    	ld	hl,_s_lin1
2220  08CF  36 00       	ld	(hl),0x00
2221  08D1  21 00 00    	ld	hl,_s_col1
2222  08D4  36 02       	ld	(hl),0x02
2223  08D6  21 00 00    	ld	hl,_spr_count
2224  08D9  36 00       	ld	(hl),0x00
2225  08DB              l_spr_draw_background_00117:
2226  08DB  21 00 00    	ld	hl,_index1
2227  08DE  7E          	ld	a, (hl)
2228  08DF  D6 A0       	sub	a,0xa0
2229  08E1  23          	inc	hl
2230  08E2  7E          	ld	a, (hl)
2231  08E3  DE 00       	sbc	a,0x00
2232  08E5  D2 3F 0A    	jp	NC, l_spr_draw_background_00120
2233  08E8  2B          	dec	hl
2234  08E9  7E          	ld	a, (hl)
2235  08EA  E6 0F       	and	a,0x0f
2236  08EC  20 0C       	jr	NZ,l_spr_draw_background_00102
2237  08EE  21 00 00    	ld	hl,_s_lin1
2238  08F1  7E          	ld	a, (hl)
2239  08F2  C6 10       	add	a,0x10
2240  08F4  77          	ld	(hl), a
2241  08F5  21 00 00    	ld	hl,_s_col1
2242  08F8  36 00       	ld	(hl),0x00
2243  08FA              l_spr_draw_background_00102:
2244  08FA  01 00 00    	ld	bc,_scr_map
2245  08FD  2A 00 00    	ld	hl,(_index1)
2246  0900  09          	add	hl,bc
2247  0901  7E          	ld	a,(hl)
2248  0902  47          	ld	b,a
2249  0903  D6 54       	sub	a,0x54
2250  0905  3E 00       	ld	a,0x00
2251  0907  17          	rla
2252  0908  B7          	or	a, a
2253  0909  28 11       	jr	Z,l_spr_draw_background_00115
2254  090B  3A 00 00    	ld	a,(_s_col1)
2255  090E  F5          	push	af
2256  090F  33          	inc	sp
2257  0910  3A 00 00    	ld	a,(_s_lin1)
2258  0913  48          	ld	c,b
2259  0914  47          	ld	b,a
2260  0915  C5          	push	bc
2261  0916  CD 00 00    	call	_NIRVANAP_drawT_callee
2262  0919  C3 2E 0A    	jp	l_spr_draw_background_00116
2263  091C              l_spr_draw_background_00115:
2264  091C  B7          	or	a, a
2265  091D  C2 25 0A    	jp	NZ, l_spr_draw_background_00113
2266  0920  3E 5D       	ld	a,0x5d
2267  0922  90          	sub	a, b
2268  0923  DA 25 0A    	jp	C, l_spr_draw_background_00113
2269  0926  78          	ld	a, b
2270  0927  C6 AC       	add	a,0xac
2271  0929  4F          	ld	c, a
2272  092A  06 00       	ld	b,0x00
2273  092C  21 33 09    	ld	hl,l_spr_draw_background_00148
2274  092F  09          	add	hl, bc
2275  0930  09          	add	hl, bc
2276  0931  09          	add	hl, bc
2277  0932  E9          	jp	(hl)
2278  0933              l_spr_draw_background_00148:
2279  0933  C3 67 09    	jp	l_spr_draw_background_00104
2280  0936  C3 51 09    	jp	l_spr_draw_background_00103
2281  0939  C3 93 09    	jp	l_spr_draw_background_00106
2282  093C  C3 7D 09    	jp	l_spr_draw_background_00105
2283  093F  C3 BE 09    	jp	l_spr_draw_background_00108
2284  0942  C3 A9 09    	jp	l_spr_draw_background_00107
2285  0945  C3 E8 09    	jp	l_spr_draw_background_00110
2286  0948  C3 D3 09    	jp	l_spr_draw_background_00109
2287  094B  C3 12 0A    	jp	l_spr_draw_background_00112
2288  094E  C3 FD 09    	jp	l_spr_draw_background_00111
2289  0951              l_spr_draw_background_00103:
2290  0951  3A 00 00    	ld	a,(_s_col1)
2291  0954  21 01 01    	ld	hl,0x0101
2292  0957  E5          	push	hl
2293  0958  F5          	push	af
2294  0959  33          	inc	sp
2295  095A  3A 00 00    	ld	a,(_s_lin1)
2296  095D  F5          	push	af
2297  095E  33          	inc	sp
2298  095F  CD 00 00    	call	_enemy_init
2299  0962  F1          	pop	af
2300  0963  F1          	pop	af
2301  0964  C3 25 0A    	jp	l_spr_draw_background_00113
2302  0967              l_spr_draw_background_00104:
2303  0967  3A 00 00    	ld	a,(_s_col1)
2304  096A  21 01 FF    	ld	hl,0xff01
2305  096D  E5          	push	hl
2306  096E  F5          	push	af
2307  096F  33          	inc	sp
2308  0970  3A 00 00    	ld	a,(_s_lin1)
2309  0973  F5          	push	af
2310  0974  33          	inc	sp
2311  0975  CD 00 00    	call	_enemy_init
2312  0978  F1          	pop	af
2313  0979  F1          	pop	af
2314  097A  C3 25 0A    	jp	l_spr_draw_background_00113
2315  097D              l_spr_draw_background_00105:
2316  097D  3A 00 00    	ld	a,(_s_col1)
2317  0980  21 02 01    	ld	hl,0x0102
2318  0983  E5          	push	hl
2319  0984  F5          	push	af
2320  0985  33          	inc	sp
2321  0986  3A 00 00    	ld	a,(_s_lin1)
2322  0989  F5          	push	af
2323  098A  33          	inc	sp
2324  098B  CD 00 00    	call	_enemy_init
2325  098E  F1          	pop	af
2326  098F  F1          	pop	af
2327  0990  C3 25 0A    	jp	l_spr_draw_background_00113
2328  0993              l_spr_draw_background_00106:
2329  0993  3A 00 00    	ld	a,(_s_col1)
2330  0996  21 02 FF    	ld	hl,0xff02
2331  0999  E5          	push	hl
2332  099A  F5          	push	af
2333  099B  33          	inc	sp
2334  099C  3A 00 00    	ld	a,(_s_lin1)
2335  099F  F5          	push	af
2336  09A0  33          	inc	sp
2337  09A1  CD 00 00    	call	_enemy_init
2338  09A4  F1          	pop	af
2339  09A5  F1          	pop	af
2340  09A6  C3 25 0A    	jp	l_spr_draw_background_00113
2341  09A9              l_spr_draw_background_00107:
2342  09A9  3A 00 00    	ld	a,(_s_col1)
2343  09AC  21 03 01    	ld	hl,0x0103
2344  09AF  E5          	push	hl
2345  09B0  F5          	push	af
2346  09B1  33          	inc	sp
2347  09B2  3A 00 00    	ld	a,(_s_lin1)
2348  09B5  F5          	push	af
2349  09B6  33          	inc	sp
2350  09B7  CD 00 00    	call	_enemy_init
2351  09BA  F1          	pop	af
2352  09BB  F1          	pop	af
2353  09BC  18 67       	jr	l_spr_draw_background_00113
2354  09BE              l_spr_draw_background_00108:
2355  09BE  3A 00 00    	ld	a,(_s_col1)
2356  09C1  21 03 FF    	ld	hl,0xff03
2357  09C4  E5          	push	hl
2358  09C5  F5          	push	af
2359  09C6  33          	inc	sp
2360  09C7  3A 00 00    	ld	a,(_s_lin1)
2361  09CA  F5          	push	af
2362  09CB  33          	inc	sp
2363  09CC  CD 00 00    	call	_enemy_init
2364  09CF  F1          	pop	af
2365  09D0  F1          	pop	af
2366  09D1  18 52       	jr	l_spr_draw_background_00113
2367  09D3              l_spr_draw_background_00109:
2368  09D3  3A 00 00    	ld	a,(_s_col1)
2369  09D6  21 04 01    	ld	hl,0x0104
2370  09D9  E5          	push	hl
2371  09DA  F5          	push	af
2372  09DB  33          	inc	sp
2373  09DC  3A 00 00    	ld	a,(_s_lin1)
2374  09DF  F5          	push	af
2375  09E0  33          	inc	sp
2376  09E1  CD 00 00    	call	_enemy_init
2377  09E4  F1          	pop	af
2378  09E5  F1          	pop	af
2379  09E6  18 3D       	jr	l_spr_draw_background_00113
2380  09E8              l_spr_draw_background_00110:
2381  09E8  3A 00 00    	ld	a,(_s_col1)
2382  09EB  21 04 FF    	ld	hl,0xff04
2383  09EE  E5          	push	hl
2384  09EF  F5          	push	af
2385  09F0  33          	inc	sp
2386  09F1  3A 00 00    	ld	a,(_s_lin1)
2387  09F4  F5          	push	af
2388  09F5  33          	inc	sp
2389  09F6  CD 00 00    	call	_enemy_init
2390  09F9  F1          	pop	af
2391  09FA  F1          	pop	af
2392  09FB  18 28       	jr	l_spr_draw_background_00113
2393  09FD              l_spr_draw_background_00111:
2394  09FD  3A 00 00    	ld	a,(_s_col1)
2395  0A00  21 05 01    	ld	hl,0x0105
2396  0A03  E5          	push	hl
2397  0A04  F5          	push	af
2398  0A05  33          	inc	sp
2399  0A06  3A 00 00    	ld	a,(_s_lin1)
2400  0A09  F5          	push	af
2401  0A0A  33          	inc	sp
2402  0A0B  CD 00 00    	call	_enemy_init
2403  0A0E  F1          	pop	af
2404  0A0F  F1          	pop	af
2405  0A10  18 13       	jr	l_spr_draw_background_00113
2406  0A12              l_spr_draw_background_00112:
2407  0A12  3A 00 00    	ld	a,(_s_col1)
2408  0A15  21 05 FF    	ld	hl,0xff05
2409  0A18  E5          	push	hl
2410  0A19  F5          	push	af
2411  0A1A  33          	inc	sp
2412  0A1B  3A 00 00    	ld	a,(_s_lin1)
2413  0A1E  F5          	push	af
2414  0A1F  33          	inc	sp
2415  0A20  CD 00 00    	call	_enemy_init
2416  0A23  F1          	pop	af
2417  0A24  F1          	pop	af
2418  0A25              l_spr_draw_background_00113:
2419  0A25  01 00 00    	ld	bc,_scr_map
2420  0A28  2A 00 00    	ld	hl,(_index1)
2421  0A2B  09          	add	hl,bc
2422  0A2C  AF          	xor	a,a
2423  0A2D  77          	ld	(hl),a
2424  0A2E              l_spr_draw_background_00116:
2425  0A2E  21 00 00    	ld	hl,_s_col1
2426  0A31  34          	inc	(hl)
2427  0A32  34          	inc	(hl)
2428  0A33  21 00 00    	ld	hl,_index1
2429  0A36  34          	inc	(hl)
2430  0A37  C2 DB 08    	jp	NZ,l_spr_draw_background_00117
2431  0A3A  23          	inc	hl
2432  0A3B  34          	inc	(hl)
2433  0A3C  C3 DB 08    	jp	l_spr_draw_background_00117
2434  0A3F              l_spr_draw_background_00120:
2435  0A3F  C9          	ret
2436  0A40              	SECTION code_compiler
2437  0A40              ;	---------------------------------
2438  0A40              ; Function spr_draw_clear
2439  0A40              ; ---------------------------------
2440  0A40              _spr_draw_clear:
2441  0A40  F3          	di
2442  0A41  2E 00       	ld	l,0x00
2443  0A43  CD 00 00    	call	_zx_cls_fastcall
2444  0A46  21 00 00    	ld	hl,_s_lin1
2445  0A49  36 10       	ld	(hl),0x10
2446  0A4B              l_spr_draw_clear_00105:
2447  0A4B  21 00 00    	ld	hl,_s_col1
2448  0A4E  36 00       	ld	(hl),0x00
2449  0A50              l_spr_draw_clear_00103:
2450  0A50  2A FF FF    	ld	hl,(_s_col1 - 1)
2451  0A53  3A 00 00    	ld	a,(_s_lin1)
2452  0A56  6F          	ld	l,a
2453  0A57  E5          	push	hl
2454  0A58  AF          	xor	a, a
2455  0A59  F5          	push	af
2456  0A5A  33          	inc	sp
2457  0A5B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2458  0A5E  21 00 00    	ld	hl,_s_col1
2459  0A61  7E          	ld	a,(hl)
2460  0A62  C6 02       	add	a,0x02
2461  0A64  77          	ld	(hl),a
2462  0A65  D6 20       	sub	a,0x20
2463  0A67  38 E7       	jr	C,l_spr_draw_clear_00103
2464  0A69  21 00 00    	ld	hl,_s_lin1
2465  0A6C  7E          	ld	a, (hl)
2466  0A6D  C6 10       	add	a,0x10
2467  0A6F  77          	ld	(hl), a
2468  0A70  3E A2       	ld	a,0xa2
2469  0A72  96          	sub	a, (hl)
2470  0A73  30 D6       	jr	NC,l_spr_draw_clear_00105
2471  0A75  FB          	ei
2472  0A76  C9          	ret
2473  0A77              	SECTION code_compiler
2474  0A77              ;	---------------------------------
2475  0A77              ; Function spr_brick_anim
2476  0A77              ; ---------------------------------
2477  0A77              _spr_brick_anim:
2478  0A77  CD 00 00    	call	___sdcc_enter_ix
2479  0A7A  F5          	push	af
2480  0A7B  DD 75 FF    	ld	(ix-1),l
2481  0A7E  21 00 00    	ld	hl,_player_hit_col
2482  0A81  56          	ld	d, (hl)
2483  0A82  21 00 00    	ld	hl,_player_hit_lin
2484  0A85  5E          	ld	e, (hl)
2485  0A86  D5          	push	de
2486  0A87  D5          	push	de
2487  0A88  CD 00 00    	call	_spr_calc_index
2488  0A8B  F1          	pop	af
2489  0A8C  D1          	pop	de
2490  0A8D  22 00 00    	ld	(_index1),hl
2491  0A90  01 F0 FF    	ld	bc,0xfff0
2492  0A93  09          	add	hl,bc
2493  0A94  01 00 00    	ld	bc,_scr_map
2494  0A97  09          	add	hl,bc
2495  0A98  7E          	ld	a, (hl)
2496  0A99  DD 77 FE    	ld	(ix-2),a
2497  0A9C  01 00 00    	ld	bc,_scr_map
2498  0A9F  2A 00 00    	ld	hl,(_index1)
2499  0AA2  09          	add	hl,bc
2500  0AA3  4D          	ld	c,l
2501  0AA4  46          	ld	b, (hl)
2502  0AA5  DD 7E FF    	ld	a,(ix-1)
2503  0AA8  B7          	or	a, a
2504  0AA9  28 08       	jr	Z,l_spr_brick_anim_00102
2505  0AAB  7B          	ld	a, e
2506  0AAC  C6 F6       	add	a,0xf6
2507  0AAE  32 00 00    	ld	(_tmp),a
2508  0AB1  18 06       	jr	l_spr_brick_anim_00103
2509  0AB3              l_spr_brick_anim_00102:
2510  0AB3  7B          	ld	a, e
2511  0AB4  C6 F8       	add	a,0xf8
2512  0AB6  32 00 00    	ld	(_tmp),a
2513  0AB9              l_spr_brick_anim_00103:
2514  0AB9  DD 7E FF    	ld	a,(ix-1)
2515  0ABC  B7          	or	a, a
2516  0ABD  28 23       	jr	Z,l_spr_brick_anim_00105
2517  0ABF  D5          	push	de
2518  0AC0  D5          	push	de
2519  0AC1  33          	inc	sp
2520  0AC2  53          	ld	d, e
2521  0AC3  1E 49       	ld	e,0x49
2522  0AC5  D5          	push	de
2523  0AC6  CD 00 00    	call	_NIRVANAP_fillC_callee
2524  0AC9  D1          	pop	de
2525  0ACA  62          	ld	h, d
2526  0ACB  24          	inc	h
2527  0ACC  D5          	push	de
2528  0ACD  E5          	push	hl
2529  0ACE  33          	inc	sp
2530  0ACF  53          	ld	d, e
2531  0AD0  1E 49       	ld	e,0x49
2532  0AD2  D5          	push	de
2533  0AD3  CD 00 00    	call	_NIRVANAP_fillC_callee
2534  0AD6  33          	inc	sp
2535  0AD7  3A 00 00    	ld	a,(_tmp)
2536  0ADA  48          	ld	c,b
2537  0ADB  47          	ld	b,a
2538  0ADC  C5          	push	bc
2539  0ADD  CD 00 00    	call	_NIRVANAP_drawT_callee
2540  0AE0  18 1E       	jr	l_spr_brick_anim_00107
2541  0AE2              l_spr_brick_anim_00105:
2542  0AE2  3A 00 00    	ld	a,(_tmp)
2543  0AE5  C6 F0       	add	a,0xf0
2544  0AE7  C5          	push	bc
2545  0AE8  D5          	push	de
2546  0AE9  5F          	ld	e,a
2547  0AEA  D5          	push	de
2548  0AEB  DD 7E FE    	ld	a,(ix-2)
2549  0AEE  F5          	push	af
2550  0AEF  33          	inc	sp
2551  0AF0  CD 00 00    	call	_NIRVANAP_drawT_callee
2552  0AF3  D1          	pop	de
2553  0AF4  C1          	pop	bc
2554  0AF5  D5          	push	de
2555  0AF6  33          	inc	sp
2556  0AF7  3A 00 00    	ld	a,(_tmp)
2557  0AFA  48          	ld	c,b
2558  0AFB  47          	ld	b,a
2559  0AFC  C5          	push	bc
2560  0AFD  CD 00 00    	call	_NIRVANAP_drawT_callee
2561  0B00              l_spr_brick_anim_00107:
2562  0B00  F1          	pop	af
2563  0B01  DD E1       	pop	ix
2564  0B03  C9          	ret
2565  0B04              	SECTION code_compiler
2566  0B04              ;	---------------------------------
2567  0B04              ; Function spr_draw_index
2568  0B04              ; ---------------------------------
2569  0B04              _spr_draw_index:
2570  0B04  CD 00 00    	call	___sdcc_enter_ix
2571  0B07  DD 7E 04    	ld	a,(ix+4)
2572  0B0A  E6 1F       	and	a,0x1f
2573  0B0C  32 00 00    	ld	(_s_col1),a
2574  0B0F  DD 4E 04    	ld	c,(ix+4)
2575  0B12  DD 5E 05    	ld	e,(ix+5)
2576  0B15  06 05       	ld	b,0x05
2577  0B17  79          	ld	a,c
2578  0B18              l_spr_draw_index_00103:
2579  0B18  CB 3B       	srl	e
2580  0B1A  1F          	rra
2581  0B1B  10 FB       	djnz	l_spr_draw_index_00103
2582  0B1D  21 00 00    	ld	hl,_s_lin1
2583  0B20  77          	ld	(hl),a
2584  0B21  07          	rlca
2585  0B22  07          	rlca
2586  0B23  07          	rlca
2587  0B24  E6 F8       	and	a,0xf8
2588  0B26  77          	ld	(hl), a
2589  0B27  3E 00       	ld	a, +((_scr_map) & 0xFF)
2590  0B29  DD 86 04    	add	a,(ix+4)
2591  0B2C  4F          	ld	c, a
2592  0B2D  3E 00       	ld	a, +((_scr_map) / 256)
2593  0B2F  DD 8E 05    	adc	a,(ix+5)
2594  0B32  47          	ld	b, a
2595  0B33  0A          	ld	a, (bc)
2596  0B34  47          	ld	b, a
2597  0B35  3A 00 00    	ld	a,(_s_col1)
2598  0B38  F5          	push	af
2599  0B39  33          	inc	sp
2600  0B3A  3A 00 00    	ld	a,(_s_lin1)
2601  0B3D  48          	ld	c,b
2602  0B3E  47          	ld	b,a
2603  0B3F  C5          	push	bc
2604  0B40  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2605  0B43  DD E1       	pop	ix
2606  0B45  C9          	ret
2607  0B46              	SECTION code_compiler
2608  0B46              ;	---------------------------------
2609  0B46              ; Function spr_draw_row
2610  0B46              ; ---------------------------------
2611  0B46              _spr_draw_row:
2612  0B46  CD 00 00    	call	___sdcc_enter_ix
2613  0B49  3B          	dec	sp
2614  0B4A  F3          	di
2615  0B4B  21 00 00    	ld	hl,_tmp
2616  0B4E  36 00       	ld	(hl),0x00
2617  0B50  DD 7E 04    	ld	a,(ix+4)
2618  0B53  07          	rlca
2619  0B54  07          	rlca
2620  0B55  07          	rlca
2621  0B56  E6 F8       	and	a,0xf8
2622  0B58  DD 77 FF    	ld	(ix-1),a
2623  0B5B              l_spr_draw_row_00101:
2624  0B5B  21 00 00    	ld	hl,_tmp
2625  0B5E  7E          	ld	a, (hl)
2626  0B5F  D6 20       	sub	a,0x20
2627  0B61  30 38       	jr	NC,l_spr_draw_row_00103
2628  0B63  DD 4E 04    	ld	c,(ix+4)
2629  0B66  3E 00       	ld	a,0x00
2630  0B68  CB 21       	sla	c
2631  0B6A  17          	rla
2632  0B6B  CB 21       	sla	c
2633  0B6D  17          	rla
2634  0B6E  CB 21       	sla	c
2635  0B70  17          	rla
2636  0B71  CB 21       	sla	c
2637  0B73  17          	rla
2638  0B74  CB 21       	sla	c
2639  0B76  17          	rla
2640  0B77  47          	ld	b,a
2641  0B78  5E          	ld	e, (hl)
2642  0B79  16 00       	ld	d,0x00
2643  0B7B  79          	ld	a, c
2644  0B7C  83          	add	a, e
2645  0B7D  21 00 00    	ld	hl,_index1
2646  0B80  77          	ld	(hl), a
2647  0B81  78          	ld	a, b
2648  0B82  8A          	adc	a, d
2649  0B83  23          	inc	hl
2650  0B84  77          	ld	(hl), a
2651  0B85  2A FF FF    	ld	hl,(_tmp-1)
2652  0B88  DD 6E FF    	ld	l,(ix-1)
2653  0B8B  3A 00 00    	ld	a,(_game_brick_tile)
2654  0B8E  E5          	push	hl
2655  0B8F  F5          	push	af
2656  0B90  33          	inc	sp
2657  0B91  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2658  0B94  21 00 00    	ld	hl,_tmp
2659  0B97  34          	inc	(hl)
2660  0B98  34          	inc	(hl)
2661  0B99  18 C0       	jr	l_spr_draw_row_00101
2662  0B9B              l_spr_draw_row_00103:
2663  0B9B  FB          	ei
2664  0B9C  33          	inc	sp
2665  0B9D  DD E1       	pop	ix
2666  0B9F  C9          	ret
2667  0BA0              	SECTION code_compiler
2668  0BA0              ;	---------------------------------
2669  0BA0              ; Function spr_calc_hor
2670  0BA0              ; ---------------------------------
2671  0BA0              _spr_calc_hor:
2672  0BA0  CD 00 00    	call	___sdcc_enter_ix
2673  0BA3  3E 00       	ld	a, +((_col) & 0xFF)
2674  0BA5  DD 86 04    	add	a,(ix+4)
2675  0BA8  4F          	ld	c, a
2676  0BA9  3E 00       	ld	a, +((_col) / 256)
2677  0BAB  CE 00       	adc	a,0x00
2678  0BAD  47          	ld	b, a
2679  0BAE  0A          	ld	a, (bc)
2680  0BAF  5F          	ld	e, a
2681  0BB0  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2682  0BB2  DD 86 04    	add	a,(ix+4)
2683  0BB5  4F          	ld	c, a
2684  0BB6  3E 00       	ld	a, +((_sprite_frames) / 256)
2685  0BB8  CE 00       	adc	a,0x00
2686  0BBA  47          	ld	b, a
2687  0BBB  0A          	ld	a, (bc)
2688  0BBC  67          	ld	h, a
2689  0BBD  2E 00       	ld	l,0x00
2690  0BBF  55          	ld	d, l
2691  0BC0  06 08       	ld	b,0x08
2692  0BC2              l_spr_calc_hor_00103:
2693  0BC2  29          	add	hl, hl
2694  0BC3  30 01       	jr	NC,l_spr_calc_hor_00104
2695  0BC5  19          	add	hl, de
2696  0BC6              l_spr_calc_hor_00104:
2697  0BC6  10 FA       	djnz	l_spr_calc_hor_00103
2698  0BC8  DD E1       	pop	ix
2699  0BCA  C9          	ret
2700  0BCB              	SECTION code_compiler
2701  0BCB              ;	---------------------------------
2702  0BCB              ; Function spr_collision_check
2703  0BCB              ; ---------------------------------
2704  0BCB              _spr_collision_check:
2705  0BCB  CD 00 00    	call	___sdcc_enter_ix
2706  0BCE  3E 00       	ld	a, +((_class) & 0xFF)
2707  0BD0  DD 86 05    	add	a,(ix+5)
2708  0BD3  4F          	ld	c, a
2709  0BD4  3E 00       	ld	a, +((_class) / 256)
2710  0BD6  CE 00       	adc	a,0x00
2711  0BD8  47          	ld	b, a
2712  0BD9  0A          	ld	a, (bc)
2713  0BDA  B7          	or	a, a
2714  0BDB  28 10       	jr	Z,l_spr_collision_check_00101
2715  0BDD  3E 00       	ld	a, +((_state) & 0xFF)
2716  0BDF  DD 86 05    	add	a,(ix+5)
2717  0BE2  4F          	ld	c, a
2718  0BE3  3E 00       	ld	a, +((_state) / 256)
2719  0BE5  CE 00       	adc	a,0x00
2720  0BE7  47          	ld	b, a
2721  0BE8  0A          	ld	a, (bc)
2722  0BE9  CB 6F       	bit	5, a
2723  0BEB  28 04       	jr	Z,l_spr_collision_check_00102
2724  0BED              l_spr_collision_check_00101:
2725  0BED  2E 00       	ld	l,0x00
2726  0BEF  18 6D       	jr	l_spr_collision_check_00109
2727  0BF1              l_spr_collision_check_00102:
2728  0BF1  01 00 00    	ld	bc,_lin+0
2729  0BF4  79          	ld	a, c
2730  0BF5  DD 86 05    	add	a,(ix+5)
2731  0BF8  5F          	ld	e, a
2732  0BF9  78          	ld	a, b
2733  0BFA  CE 00       	adc	a,0x00
2734  0BFC  57          	ld	d, a
2735  0BFD  1A          	ld	a, (de)
2736  0BFE  5F          	ld	e, a
2737  0BFF  16 00       	ld	d,0x00
2738  0C01  79          	ld	a, c
2739  0C02  DD 86 04    	add	a,(ix+4)
2740  0C05  4F          	ld	c, a
2741  0C06  78          	ld	a, b
2742  0C07  CE 00       	adc	a,0x00
2743  0C09  47          	ld	b, a
2744  0C0A  0A          	ld	a, (bc)
2745  0C0B  4F          	ld	c, a
2746  0C0C  AF          	xor	a,a
2747  0C0D  47          	ld	b,a
2748  0C0E  EB          	ex	de,hl
2749  0C0F  ED 42       	sbc	hl,bc
2750  0C11  CD 00 00    	call	_abs_fastcall
2751  0C14  22 00 00    	ld	(_tmp_ui),hl
2752  0C17  21 01 00    	ld	hl,_tmp_ui + 1
2753  0C1A  DD 7E 06    	ld	a,(ix+6)
2754  0C1D  06 00       	ld	b,0x00
2755  0C1F  2B          	dec	hl
2756  0C20  96          	sub	a, (hl)
2757  0C21  78          	ld	a, b
2758  0C22  23          	inc	hl
2759  0C23  9E          	sbc	a, (hl)
2760  0C24  30 04       	jr	NC,l_spr_collision_check_00105
2761  0C26  2E 00       	ld	l,0x00
2762  0C28  18 34       	jr	l_spr_collision_check_00109
2763  0C2A              l_spr_collision_check_00105:
2764  0C2A  DD 7E 04    	ld	a,(ix+4)
2765  0C2D  F5          	push	af
2766  0C2E  33          	inc	sp
2767  0C2F  CD A0 0B    	call	_spr_calc_hor
2768  0C32  33          	inc	sp
2769  0C33  4D          	ld	c, l
2770  0C34  C5          	push	bc
2771  0C35  DD 7E 05    	ld	a,(ix+5)
2772  0C38  F5          	push	af
2773  0C39  33          	inc	sp
2774  0C3A  CD A0 0B    	call	_spr_calc_hor
2775  0C3D  33          	inc	sp
2776  0C3E  C1          	pop	bc
2777  0C3F  5D          	ld	e,l
2778  0C40  69          	ld	l, c
2779  0C41  AF          	xor	a,a
2780  0C42  67          	ld	h,a
2781  0C43  57          	ld	d,a
2782  0C44  ED 52       	sbc	hl,de
2783  0C46  CD 00 00    	call	_abs_fastcall
2784  0C49  22 00 00    	ld	(_tmp_ui),hl
2785  0C4C  3E 03       	ld	a,0x03
2786  0C4E  21 00 00    	ld	hl,_tmp_ui
2787  0C51  BE          	cp	a, (hl)
2788  0C52  3E 00       	ld	a,0x00
2789  0C54  23          	inc	hl
2790  0C55  9E          	sbc	a, (hl)
2791  0C56  30 04       	jr	NC,l_spr_collision_check_00107
2792  0C58  2E 00       	ld	l,0x00
2793  0C5A  18 02       	jr	l_spr_collision_check_00109
2794  0C5C              l_spr_collision_check_00107:
2795  0C5C  2E 01       	ld	l,0x01
2796  0C5E              l_spr_collision_check_00109:
2797  0C5E  DD E1       	pop	ix
2798  0C60  C9          	ret
2799  0C61              	SECTION code_compiler
2800  0C61              ;	---------------------------------
2801  0C61              ; Function spr_kill_all
2802  0C61              ; ---------------------------------
2803  0C61              _spr_kill_all:
2804  0C61  21 00 00    	ld	hl,_sprite
2805  0C64  36 00       	ld	(hl),0x00
2806  0C66              l_spr_kill_all_00102:
2807  0C66  2A 00 00    	ld	hl,(_sprite)
2808  0C69  CD A5 07    	call	_spr_destroy
2809  0C6C  21 00 00    	ld	hl,_sprite
2810  0C6F  7E          	ld	a,(hl)
2811  0C70  3C          	inc	a
2812  0C71  77          	ld	(hl),a
2813  0C72  D6 08       	sub	a,0x08
2814  0C74  38 F0       	jr	C,l_spr_kill_all_00102
2815  0C76  C9          	ret
2816  0C77              	SECTION code_compiler
2817  0C77              ;	---------------------------------
2818  0C77              ; Function spr_back_clr
2819  0C77              ; ---------------------------------
2820  0C77              _spr_back_clr:
2821  0C77  2A FF FF    	ld	hl,(_s_col0 - 1)
2822  0C7A  3A 00 00    	ld	a,(_s_lin0)
2823  0C7D  6F          	ld	l,a
2824  0C7E  E5          	push	hl
2825  0C7F  CD 00 00    	call	_spr_calc_index
2826  0C82  F1          	pop	af
2827  0C83  7D          	ld	a,l
2828  0C84  32 00 00    	ld	(_sprite_curr_index),a
2829  0C87  21 00 00    	ld	hl,_s_lin0
2830  0C8A  7E          	ld	a, (hl)
2831  0C8B  E6 0F       	and	a,0x0f
2832  0C8D  4F          	ld	c, a
2833  0C8E  7E          	ld	a, (hl)
2834  0C8F  07          	rlca
2835  0C90  07          	rlca
2836  0C91  07          	rlca
2837  0C92  07          	rlca
2838  0C93  E6 0F       	and	a,0x0f
2839  0C95  47          	ld	b, a
2840  0C96  21 00 00    	ld	hl,_s_col0
2841  0C99  CB 46       	bit	0, (hl)
2842  0C9B  20 66       	jr	NZ,l_spr_back_clr_00108
2843  0C9D  79          	ld	a, c
2844  0C9E  B7          	or	a, a
2845  0C9F  20 1D       	jr	NZ,l_spr_back_clr_00102
2846  0CA1  2A 00 00    	ld	hl,(_sprite_curr_index)
2847  0CA4  26 00       	ld	h,0x00
2848  0CA6  01 00 00    	ld	bc,_scr_map
2849  0CA9  09          	add	hl,bc
2850  0CAA  46          	ld	b,(hl)
2851  0CAB  3A 00 00    	ld	a,(_s_col0)
2852  0CAE  F5          	push	af
2853  0CAF  33          	inc	sp
2854  0CB0  3A 00 00    	ld	a,(_s_lin0)
2855  0CB3  48          	ld	c,b
2856  0CB4  47          	ld	b,a
2857  0CB5  C5          	push	bc
2858  0CB6  CD C6 0D    	call	_spr_tile_paint
2859  0CB9  F1          	pop	af
2860  0CBA  33          	inc	sp
2861  0CBB  C3 C5 0D    	jp	l_spr_back_clr_00110
2862  0CBE              l_spr_back_clr_00102:
2863  0CBE  78          	ld	a, b
2864  0CBF  07          	rlca
2865  0CC0  07          	rlca
2866  0CC1  07          	rlca
2867  0CC2  07          	rlca
2868  0CC3  E6 F0       	and	a,0xf0
2869  0CC5  47          	ld	b, a
2870  0CC6  2A 00 00    	ld	hl,(_sprite_curr_index)
2871  0CC9  26 00       	ld	h,0x00
2872  0CCB  11 00 00    	ld	de,_scr_map
2873  0CCE  19          	add	hl,de
2874  0CCF  56          	ld	d, (hl)
2875  0CD0  3A 00 00    	ld	a,(_s_col0)
2876  0CD3  C5          	push	bc
2877  0CD4  F5          	push	af
2878  0CD5  33          	inc	sp
2879  0CD6  4A          	ld	c, d
2880  0CD7  C5          	push	bc
2881  0CD8  CD C6 0D    	call	_spr_tile_paint
2882  0CDB  F1          	pop	af
2883  0CDC  33          	inc	sp
2884  0CDD  C1          	pop	bc
2885  0CDE  78          	ld	a, b
2886  0CDF  C6 10       	add	a,0x10
2887  0CE1  57          	ld	d, a
2888  0CE2  21 00 00    	ld	hl,_sprite_curr_index
2889  0CE5  7E          	ld	a, (hl)
2890  0CE6  C6 10       	add	a,0x10
2891  0CE8  77          	ld	(hl), a
2892  0CE9  C6 00       	add	a,+((_scr_map) & 0xFF)
2893  0CEB  4F          	ld	c, a
2894  0CEC  3E 00       	ld	a, +((_scr_map) / 256)
2895  0CEE  CE 00       	adc	a,0x00
2896  0CF0  47          	ld	b, a
2897  0CF1  0A          	ld	a, (bc)
2898  0CF2  47          	ld	b, a
2899  0CF3  3A 00 00    	ld	a,(_s_col0)
2900  0CF6  5A          	ld	e,d
2901  0CF7  57          	ld	d,a
2902  0CF8  D5          	push	de
2903  0CF9  C5          	push	bc
2904  0CFA  33          	inc	sp
2905  0CFB  CD C6 0D    	call	_spr_tile_paint
2906  0CFE  F1          	pop	af
2907  0CFF  33          	inc	sp
2908  0D00  C3 C5 0D    	jp	l_spr_back_clr_00110
2909  0D03              l_spr_back_clr_00108:
2910  0D03  21 00 00    	ld	hl,_s_col0
2911  0D06  56          	ld	d, (hl)
2912  0D07  15          	dec	d
2913  0D08  79          	ld	a, c
2914  0D09  B7          	or	a, a
2915  0D0A  20 3A       	jr	NZ,l_spr_back_clr_00105
2916  0D0C  2A 00 00    	ld	hl,(_sprite_curr_index)
2917  0D0F  26 00       	ld	h,0x00
2918  0D11  01 00 00    	ld	bc,_scr_map
2919  0D14  09          	add	hl,bc
2920  0D15  46          	ld	b,(hl)
2921  0D16  D5          	push	de
2922  0D17  33          	inc	sp
2923  0D18  3A 00 00    	ld	a,(_s_lin0)
2924  0D1B  48          	ld	c,b
2925  0D1C  47          	ld	b,a
2926  0D1D  C5          	push	bc
2927  0D1E  CD C6 0D    	call	_spr_tile_paint
2928  0D21  F1          	pop	af
2929  0D22  33          	inc	sp
2930  0D23  21 00 00    	ld	hl,_sprite_curr_index
2931  0D26  34          	inc	(hl)
2932  0D27  21 00 00    	ld	hl,_s_col0
2933  0D2A  46          	ld	b, (hl)
2934  0D2B  04          	inc	b
2935  0D2C  2A 00 00    	ld	hl,(_sprite_curr_index)
2936  0D2F  26 00       	ld	h,0x00
2937  0D31  11 00 00    	ld	de,_scr_map
2938  0D34  19          	add	hl,de
2939  0D35  56          	ld	d, (hl)
2940  0D36  C5          	push	bc
2941  0D37  33          	inc	sp
2942  0D38  3A 00 00    	ld	a,(_s_lin0)
2943  0D3B  5A          	ld	e,d
2944  0D3C  57          	ld	d,a
2945  0D3D  D5          	push	de
2946  0D3E  CD C6 0D    	call	_spr_tile_paint
2947  0D41  F1          	pop	af
2948  0D42  33          	inc	sp
2949  0D43  C3 C5 0D    	jp	l_spr_back_clr_00110
2950  0D46              l_spr_back_clr_00105:
2951  0D46  78          	ld	a, b
2952  0D47  07          	rlca
2953  0D48  07          	rlca
2954  0D49  07          	rlca
2955  0D4A  07          	rlca
2956  0D4B  E6 F0       	and	a,0xf0
2957  0D4D  47          	ld	b, a
2958  0D4E  3A 00 00    	ld	a,(_sprite_curr_index)
2959  0D51  C6 00       	add	a,+((_scr_map) & 0xFF)
2960  0D53  4F          	ld	c,a
2961  0D54  3E 00       	ld	a,+((_scr_map) / 256)
2962  0D56  CE 00       	adc	a,0x00
2963  0D58  67          	ld	h, a
2964  0D59  69          	ld	l, c
2965  0D5A  7E          	ld	a, (hl)
2966  0D5B  C5          	push	bc
2967  0D5C  58          	ld	e,b
2968  0D5D  D5          	push	de
2969  0D5E  F5          	push	af
2970  0D5F  33          	inc	sp
2971  0D60  CD C6 0D    	call	_spr_tile_paint
2972  0D63  F1          	pop	af
2973  0D64  33          	inc	sp
2974  0D65  C1          	pop	bc
2975  0D66  21 00 00    	ld	hl,_sprite_curr_index
2976  0D69  34          	inc	(hl)
2977  0D6A  21 00 00    	ld	hl,_s_col0
2978  0D6D  4E          	ld	c, (hl)
2979  0D6E  0C          	inc	c
2980  0D6F  2A 00 00    	ld	hl,(_sprite_curr_index)
2981  0D72  26 00       	ld	h,0x00
2982  0D74  11 00 00    	ld	de,_scr_map
2983  0D77  19          	add	hl,de
2984  0D78  56          	ld	d, (hl)
2985  0D79  C5          	push	bc
2986  0D7A  79          	ld	a, c
2987  0D7B  F5          	push	af
2988  0D7C  33          	inc	sp
2989  0D7D  4A          	ld	c, d
2990  0D7E  C5          	push	bc
2991  0D7F  CD C6 0D    	call	_spr_tile_paint
2992  0D82  F1          	pop	af
2993  0D83  33          	inc	sp
2994  0D84  C1          	pop	bc
2995  0D85  78          	ld	a, b
2996  0D86  C6 10       	add	a,0x10
2997  0D88  4F          	ld	c, a
2998  0D89  21 00 00    	ld	hl,_sprite_curr_index
2999  0D8C  7E          	ld	a, (hl)
3000  0D8D  C6 0F       	add	a,0x0f
3001  0D8F  77          	ld	(hl), a
3002  0D90  21 00 00    	ld	hl,_s_col0
3003  0D93  46          	ld	b, (hl)
3004  0D94  05          	dec	b
3005  0D95  2A 00 00    	ld	hl,(_sprite_curr_index)
3006  0D98  26 00       	ld	h,0x00
3007  0D9A  11 00 00    	ld	de,_scr_map
3008  0D9D  19          	add	hl,de
3009  0D9E  66          	ld	h, (hl)
3010  0D9F  EB          	ex	de,hl
3011  0DA0  C5          	push	bc
3012  0DA1  C5          	push	bc
3013  0DA2  D5          	push	de
3014  0DA3  33          	inc	sp
3015  0DA4  CD C6 0D    	call	_spr_tile_paint
3016  0DA7  F1          	pop	af
3017  0DA8  33          	inc	sp
3018  0DA9  C1          	pop	bc
3019  0DAA  21 00 00    	ld	hl,_sprite_curr_index
3020  0DAD  34          	inc	(hl)
3021  0DAE  21 00 00    	ld	hl,_s_col0
3022  0DB1  46          	ld	b, (hl)
3023  0DB2  04          	inc	b
3024  0DB3  2A 00 00    	ld	hl,(_sprite_curr_index)
3025  0DB6  26 00       	ld	h,0x00
3026  0DB8  11 00 00    	ld	de,_scr_map
3027  0DBB  19          	add	hl,de
3028  0DBC  66          	ld	h, (hl)
3029  0DBD  C5          	push	bc
3030  0DBE  E5          	push	hl
3031  0DBF  33          	inc	sp
3032  0DC0  CD C6 0D    	call	_spr_tile_paint
3033  0DC3  F1          	pop	af
3034  0DC4  33          	inc	sp
3035  0DC5              l_spr_back_clr_00110:
3036  0DC5  C9          	ret
3037  0DC6              	SECTION code_compiler
3038  0DC6              ;	---------------------------------
3039  0DC6              ; Function spr_tile_paint
3040  0DC6              ; ---------------------------------
3041  0DC6              _spr_tile_paint:
3042  0DC6  CD 00 00    	call	___sdcc_enter_ix
3043  0DC9  DD 7E 04    	ld	a,(ix+4)
3044  0DCC  B7          	or	a, a
3045  0DCD  20 3E       	jr	NZ,l_spr_tile_paint_00102
3046  0DCF  DD 7E 06    	ld	a,(ix+6)
3047  0DD2  F5          	push	af
3048  0DD3  33          	inc	sp
3049  0DD4  DD 56 05    	ld	d,(ix+5)
3050  0DD7  1E 49       	ld	e,0x49
3051  0DD9  D5          	push	de
3052  0DDA  CD 00 00    	call	_NIRVANAP_fillC_callee
3053  0DDD  DD 7E 05    	ld	a,(ix+5)
3054  0DE0  C6 08       	add	a,0x08
3055  0DE2  47          	ld	b, a
3056  0DE3  DD 7E 06    	ld	a,(ix+6)
3057  0DE6  F5          	push	af
3058  0DE7  33          	inc	sp
3059  0DE8  C5          	push	bc
3060  0DE9  33          	inc	sp
3061  0DEA  3E 49       	ld	a,0x49
3062  0DEC  F5          	push	af
3063  0DED  33          	inc	sp
3064  0DEE  CD 00 00    	call	_NIRVANAP_fillC_callee
3065  0DF1  DD 56 06    	ld	d,(ix+6)
3066  0DF4  14          	inc	d
3067  0DF5  D5          	push	de
3068  0DF6  D5          	push	de
3069  0DF7  33          	inc	sp
3070  0DF8  DD 56 05    	ld	d,(ix+5)
3071  0DFB  1E 49       	ld	e,0x49
3072  0DFD  D5          	push	de
3073  0DFE  CD 00 00    	call	_NIRVANAP_fillC_callee
3074  0E01  33          	inc	sp
3075  0E02  C5          	push	bc
3076  0E03  33          	inc	sp
3077  0E04  3E 49       	ld	a,0x49
3078  0E06  F5          	push	af
3079  0E07  33          	inc	sp
3080  0E08  CD 00 00    	call	_NIRVANAP_fillC_callee
3081  0E0B  18 0F       	jr	l_spr_tile_paint_00104
3082  0E0D              l_spr_tile_paint_00102:
3083  0E0D  DD 66 06    	ld	h,(ix+6)
3084  0E10  DD 6E 05    	ld	l,(ix+5)
3085  0E13  E5          	push	hl
3086  0E14  DD 7E 04    	ld	a,(ix+4)
3087  0E17  F5          	push	af
3088  0E18  33          	inc	sp
3089  0E19  CD 00 00    	call	_NIRVANAP_drawT_callee
3090  0E1C              l_spr_tile_paint_00104:
3091  0E1C  DD E1       	pop	ix
3092  0E1E  C9          	ret
3093  0E1F              	SECTION code_compiler
3094  0E1F              ;	---------------------------------
3095  0E1F              ; Function spr_init_anim
3096  0E1F              ; ---------------------------------
3097  0E1F              _spr_init_anim:
3098  0E1F  01 00 00    	ld	bc,_anim_lin+0
3099  0E22  1E 00       	ld	e,0x00
3100  0E24              l_spr_init_anim_00102:
3101  0E24  6B          	ld	l,e
3102  0E25  26 00       	ld	h,0x00
3103  0E27  09          	add	hl, bc
3104  0E28  36 FF       	ld	(hl),0xff
3105  0E2A  1C          	inc	e
3106  0E2B  7B          	ld	a, e
3107  0E2C  D6 08       	sub	a,0x08
3108  0E2E  38 F4       	jr	C,l_spr_init_anim_00102
3109  0E30  C9          	ret
3110  0E31              	SECTION code_compiler
3111  0E31              ;	---------------------------------
3112  0E31              ; Function spr_add_anim
3113  0E31              ; ---------------------------------
3114  0E31              _spr_add_anim:
3115  0E31  CD 00 00    	call	___sdcc_enter_ix
3116  0E34  F5          	push	af
3117  0E35  01 00 00    	ld	bc,0x0000
3118  0E38              l_spr_add_anim_00104:
3119  0E38  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3120  0E3A  80          	add	a, b
3121  0E3B  DD 77 FE    	ld	(ix-2),a
3122  0E3E  3E 00       	ld	a, +((_anim_lin) / 256)
3123  0E40  CE 00       	adc	a,0x00
3124  0E42  DD 77 FF    	ld	(ix-1),a
3125  0E45  E1          	pop	hl
3126  0E46  5E          	ld	e,(hl)
3127  0E47  E5          	push	hl
3128  0E48  1C          	inc	e
3129  0E49  20 34       	jr	NZ,l_spr_add_anim_00105
3130  0E4B  E1          	pop	hl
3131  0E4C  E5          	push	hl
3132  0E4D  DD 7E 04    	ld	a,(ix+4)
3133  0E50  77          	ld	(hl), a
3134  0E51  3E 00       	ld	a, +((_anim_col) & 0xFF)
3135  0E53  81          	add	a, c
3136  0E54  5F          	ld	e, a
3137  0E55  3E 00       	ld	a, +((_anim_col) / 256)
3138  0E57  CE 00       	adc	a,0x00
3139  0E59  57          	ld	d, a
3140  0E5A  DD 7E 05    	ld	a,(ix+5)
3141  0E5D  12          	ld	(de), a
3142  0E5E  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3143  0E60  81          	add	a, c
3144  0E61  5F          	ld	e, a
3145  0E62  3E 00       	ld	a, +((_anim_tile) / 256)
3146  0E64  CE 00       	adc	a,0x00
3147  0E66  57          	ld	d, a
3148  0E67  DD 7E 06    	ld	a,(ix+6)
3149  0E6A  12          	ld	(de), a
3150  0E6B  11 00 00    	ld	de,_anim_int+0
3151  0E6E  69          	ld	l,c
3152  0E6F  26 00       	ld	h,0x00
3153  0E71  19          	add	hl, de
3154  0E72  06 00       	ld	b,0x00
3155  0E74  70          	ld	(hl),b
3156  0E75  21 00 00    	ld	hl,_anim_end
3157  0E78  09          	add	hl,bc
3158  0E79  DD 7E 07    	ld	a,(ix+7)
3159  0E7C  77          	ld	(hl),a
3160  0E7D  18 07       	jr	l_spr_add_anim_00106
3161  0E7F              l_spr_add_anim_00105:
3162  0E7F  04          	inc	b
3163  0E80  78          	ld	a,b
3164  0E81  48          	ld	c,b
3165  0E82  D6 08       	sub	a,0x08
3166  0E84  38 B2       	jr	C,l_spr_add_anim_00104
3167  0E86              l_spr_add_anim_00106:
3168  0E86  F1          	pop	af
3169  0E87  DD E1       	pop	ix
3170  0E89  C9          	ret
3171  0E8A              	SECTION code_compiler
3172  0E8A              ;	---------------------------------
3173  0E8A              ; Function spr_play_anim
3174  0E8A              ; ---------------------------------
3175  0E8A              _spr_play_anim:
3176  0E8A  CD 00 00    	call	___sdcc_enter_ix
3177  0E8D  F5          	push	af
3178  0E8E  F5          	push	af
3179  0E8F  3B          	dec	sp
3180  0E90  DD 36 FB 01 	ld	(ix-5),0x01
3181  0E94  0E 00       	ld	c,0x00
3182  0E96              l_spr_play_anim_00109:
3183  0E96  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3184  0E98  81          	add	a, c
3185  0E99  5F          	ld	e, a
3186  0E9A  3E 00       	ld	a, +((_anim_lin) / 256)
3187  0E9C  CE 00       	adc	a,0x00
3188  0E9E  57          	ld	d, a
3189  0E9F  1A          	ld	a, (de)
3190  0EA0  3C          	inc	a
3191  0EA1  28 76       	jr	Z,l_spr_play_anim_00110
3192  0EA3  DD 7E FB    	ld	a,(ix-5)
3193  0EA6  B7          	or	a, a
3194  0EA7  28 05       	jr	Z,l_spr_play_anim_00102
3195  0EA9  76          	halt
3196  0EAA  DD 36 FB 00 	ld	(ix-5),0x00
3197  0EAE              l_spr_play_anim_00102:
3198  0EAE  3E 00       	ld	a, +((_anim_int) & 0xFF)
3199  0EB0  81          	add	a, c
3200  0EB1  DD 77 FE    	ld	(ix-2),a
3201  0EB4  6F          	ld	l,a
3202  0EB5  3E 00       	ld	a,+((_anim_int) / 256)
3203  0EB7  CE 00       	adc	a,0x00
3204  0EB9  DD 77 FF    	ld	(ix-1),a
3205  0EBC  67          	ld	h,a
3206  0EBD  7E          	ld	a, (hl)
3207  0EBE  DD 77 FD    	ld	(ix-3),a
3208  0EC1  06 00       	ld	b,0x00
3209  0EC3  21 00 00    	ld	hl,_anim_end
3210  0EC6  09          	add	hl, bc
3211  0EC7  7E          	ld	a, (hl)
3212  0EC8  DD 77 FC    	ld	(ix-4),a
3213  0ECB  1A          	ld	a, (de)
3214  0ECC  47          	ld	b, a
3215  0ECD  DD 7E FD    	ld	a,(ix-3)
3216  0ED0  DD 96 FC    	sub	a,(ix-4)
3217  0ED3  30 2B       	jr	NC,l_spr_play_anim_00104
3218  0ED5  3E 00       	ld	a, +((_anim_col) & 0xFF)
3219  0ED7  81          	add	a, c
3220  0ED8  6F          	ld	l, a
3221  0ED9  3E 00       	ld	a, +((_anim_col) / 256)
3222  0EDB  CE 00       	adc	a,0x00
3223  0EDD  67          	ld	h, a
3224  0EDE  56          	ld	d, (hl)
3225  0EDF  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3226  0EE1  81          	add	a, c
3227  0EE2  6F          	ld	l, a
3228  0EE3  3E 00       	ld	a, +((_anim_tile) / 256)
3229  0EE5  CE 00       	adc	a,0x00
3230  0EE7  67          	ld	h, a
3231  0EE8  7E          	ld	a,(hl)
3232  0EE9  DD 86 FD    	add	a,(ix-3)
3233  0EEC  C5          	push	bc
3234  0EED  58          	ld	e,b
3235  0EEE  D5          	push	de
3236  0EEF  F5          	push	af
3237  0EF0  33          	inc	sp
3238  0EF1  CD 00 00    	call	_NIRVANAP_drawT_callee
3239  0EF4  C1          	pop	bc
3240  0EF5  DD 6E FE    	ld	l,(ix-2)
3241  0EF8  DD 66 FF    	ld	h,(ix-1)
3242  0EFB  46          	ld	b,(hl)
3243  0EFC  04          	inc	b
3244  0EFD  70          	ld	(hl), b
3245  0EFE  18 19       	jr	l_spr_play_anim_00110
3246  0F00              l_spr_play_anim_00104:
3247  0F00  3E 00       	ld	a, +((_anim_col) & 0xFF)
3248  0F02  81          	add	a, c
3249  0F03  6F          	ld	l, a
3250  0F04  3E 00       	ld	a, +((_anim_col) / 256)
3251  0F06  CE 00       	adc	a,0x00
3252  0F08  67          	ld	h, a
3253  0F09  66          	ld	h, (hl)
3254  0F0A  C5          	push	bc
3255  0F0B  D5          	push	de
3256  0F0C  68          	ld	l,b
3257  0F0D  E5          	push	hl
3258  0F0E  AF          	xor	a, a
3259  0F0F  F5          	push	af
3260  0F10  33          	inc	sp
3261  0F11  CD 00 00    	call	_NIRVANAP_drawT_callee
3262  0F14  D1          	pop	de
3263  0F15  C1          	pop	bc
3264  0F16  3E FF       	ld	a,0xff
3265  0F18  12          	ld	(de), a
3266  0F19              l_spr_play_anim_00110:
3267  0F19  0C          	inc	c
3268  0F1A  79          	ld	a, c
3269  0F1B  D6 08       	sub	a,0x08
3270  0F1D  DA 96 0E    	jp	C, l_spr_play_anim_00109
3271  0F20  DD F9       	ld	sp, ix
3272  0F22  DD E1       	pop	ix
3273  0F24  C9          	ret
3274  0F25              	SECTION code_compiler
3275  0F25              ;	---------------------------------
3276  0F25              ; Function spr_turn_horizontal
3277  0F25              ; ---------------------------------
3278  0F25              _spr_turn_horizontal:
3279  0F25  21 00 00    	ld	hl,_s_state
3280  0F28  CB 56       	bit	2, (hl)
3281  0F2A  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3282  0F2C  21 00 00    	ld	hl,_s_state
3283  0F2F  7E          	ld	a,(hl)
3284  0F30  F6 08       	or	a,0x08
3285  0F32  E6 FB       	and	a,0xfb
3286  0F34  77          	ld	(hl),a
3287  0F35  18 09       	jr	l_spr_turn_horizontal_00103
3288  0F37              l_spr_turn_horizontal_00102:
3289  0F37  21 00 00    	ld	hl,_s_state
3290  0F3A  7E          	ld	a,(hl)
3291  0F3B  E6 F7       	and	a,0xf7
3292  0F3D  F6 04       	or	a,0x04
3293  0F3F  77          	ld	(hl),a
3294  0F40              l_spr_turn_horizontal_00103:
3295  0F40  2A 00 00    	ld	hl,(_sprite)
3296  0F43  26 00       	ld	h,0x00
3297  0F45  01 00 00    	ld	bc,_state
3298  0F48  09          	add	hl,bc
3299  0F49  3A 00 00    	ld	a,(_s_state)
3300  0F4C  77          	ld	(hl),a
3301  0F4D  2A 00 00    	ld	hl,(_sprite)
3302  0F50  26 00       	ld	h,0x00
3303  0F52  01 00 00    	ld	bc,_tile
3304  0F55  09          	add	hl,bc
3305  0F56  E5          	push	hl
3306  0F57  2A 00 00    	ld	hl,(_sprite)
3307  0F5A  CD 0E 08    	call	_spr_tile
3308  0F5D  C1          	pop	bc
3309  0F5E  7D          	ld	a,l
3310  0F5F  02          	ld	(bc), a
3311  0F60  C9          	ret
3312  0F61              	SECTION IGNORE
3313  0000              
