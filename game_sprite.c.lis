1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_jump
191   0000              	GLOBAL _spr_move_up
192   0000              	GLOBAL _spr_move_down
193   0000              	GLOBAL _spr_move_horizontal
194   0000              	GLOBAL _spr_move_right
195   0000              	GLOBAL _spr_move_left
196   0000              	GLOBAL _spr_page_right
197   0000              	GLOBAL _spr_page_left
198   0000              	GLOBAL _spr_page_map
199   0000              	GLOBAL _spr_redraw
200   0000              	GLOBAL _spr_destroy
201   0000              	GLOBAL _spr_tile
202   0000              	GLOBAL _spr_tile_dir
203   0000              	GLOBAL _spr_draw_map
204   0000              	GLOBAL _spr_draw_clear
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_draw_row
208   0000              	GLOBAL _spr_calc_hor
209   0000              	GLOBAL _spr_collision_check
210   0000              	GLOBAL _spr_kill_all
211   0000              	GLOBAL _spr_back_repaint
212   0000              	GLOBAL _spr_tile_paint
213   0000              	GLOBAL _spr_init_anim
214   0000              	GLOBAL _spr_init_bullet
215   0000              	GLOBAL _spr_add_anim
216   0000              	GLOBAL _spr_play_anim
217   0000              	GLOBAL _spr_play_bullets
218   0000              	GLOBAL _spr_turn_horizontal
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _spr_anim_kill
530   0000              	GLOBAL _sound_hit_brick
531   0000              	GLOBAL _sound_hit_enemy
532   0000              	GLOBAL _sound_kill
533   0000              	GLOBAL _sound_enter_enemy
534   0000              	GLOBAL _sound_coin
535   0000              	GLOBAL _sound_jump
536   0000              	GLOBAL _sound_slide
537   0000              	GLOBAL _player_fire
538   0000              	GLOBAL _player_check_stairs_down
539   0000              	GLOBAL _player_check_stairs
540   0000              	GLOBAL _player_tile
541   0000              	GLOBAL _player_pick_item
542   0000              	GLOBAL _player_check_floor
543   0000              	GLOBAL _player_hit_platform_clear
544   0000              	GLOBAL _player_lost_life
545   0000              	GLOBAL _player_score_add
546   0000              	GLOBAL _player_player_hit_pow
547   0000              	GLOBAL _player_hit_platform
548   0000              	GLOBAL _player_move_input
549   0000              	GLOBAL _player_turn
550   0000              	GLOBAL _player_move
551   0000              	GLOBAL _player_restart
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_joystick_set_menu
557   0000              	GLOBAL _game_joystick_set
558   0000              	GLOBAL _game_joystick_change
559   0000              	GLOBAL _game_print_header
560   0000              	GLOBAL _game_end
561   0000              	GLOBAL _game_phase_print_score_back
562   0000              	GLOBAL _game_check_time
563   0000              	GLOBAL _game_rotate_attrib
564   0000              	GLOBAL _game_colour_message
565   0000              	GLOBAL _game_paint_attrib_lin_h
566   0000              	GLOBAL _game_paint_attrib_lin
567   0000              	GLOBAL _game_paint_attrib
568   0000              	GLOBAL _game_print_score
569   0000              	GLOBAL _game_unfreeze_all
570   0000              	GLOBAL _game_freeze_all
571   0000              	GLOBAL _game_freeze
572   0000              	GLOBAL _game_enemy_add_get_index
573   0000              	GLOBAL _game_check_cell
574   0000              	GLOBAL _game_check_map
575   0000              	GLOBAL _game_loop
576   0000              	GLOBAL _game_phase_init
577   0000              	GLOBAL _game_start_timer
578   0000              	GLOBAL _game_tick
579   0000              	GLOBAL _game_print_lives
580   0000              	GLOBAL _game_print_footer
581   0000              	GLOBAL _game_fill_row
582   0000              	GLOBAL _enemy_avoid_edge
583   0000              	GLOBAL _enemy_kill
584   0000              	GLOBAL _enemy_init
585   0000              	GLOBAL _enemy_walk
586   0000              	GLOBAL _enemy_move
587   0000              	GLOBAL _enemy_turn
588   0000              	GLOBAL _enemy_hit
589   0000              	GLOBAL _enemy_coin1
590   0000              	GLOBAL _ay_fx_play
591   0000              	GLOBAL _ay_midi_play
592   0000              	GLOBAL _ay_is_playing
593   0000              	GLOBAL _ay_reset
594   0000              	GLOBAL _test_func
595   0000              	GLOBAL _test_proc
596   0000              	GLOBAL _in_mouse_kempston_wheel_delta
597   0000              	GLOBAL _in_mouse_kempston_wheel
598   0000              	GLOBAL _in_mouse_kempston_callee
599   0000              	GLOBAL _in_mouse_kempston
600   0000              	GLOBAL _in_mouse_kempston_setpos_callee
601   0000              	GLOBAL _in_mouse_kempston_setpos
602   0000              	GLOBAL _in_mouse_kempston_reset
603   0000              	GLOBAL _in_mouse_kempston_init
604   0000              	GLOBAL _in_mouse_amx_wheel_delta
605   0000              	GLOBAL _in_mouse_amx_wheel
606   0000              	GLOBAL _in_mouse_amx_callee
607   0000              	GLOBAL _in_mouse_amx
608   0000              	GLOBAL _in_mouse_amx_setpos_callee
609   0000              	GLOBAL _in_mouse_amx_setpos
610   0000              	GLOBAL _in_mouse_amx_reset
611   0000              	GLOBAL _in_mouse_amx_init_callee
612   0000              	GLOBAL _in_mouse_amx_init
613   0000              	GLOBAL _in_stick_sinclair2
614   0000              	GLOBAL _in_stick_sinclair1
615   0000              	GLOBAL _in_stick_kempston
616   0000              	GLOBAL _in_stick_fuller
617   0000              	GLOBAL _in_stick_cursor
618   0000              	GLOBAL _in_stick_keyboard_fastcall
619   0000              	GLOBAL _in_stick_keyboard
620   0000              	GLOBAL _in_wait_nokey
621   0000              	GLOBAL _in_wait_key
622   0000              	GLOBAL _in_test_key
623   0000              	GLOBAL _in_pause_fastcall
624   0000              	GLOBAL _in_pause
625   0000              	GLOBAL _in_key_scancode_fastcall
626   0000              	GLOBAL _in_key_scancode
627   0000              	GLOBAL _in_key_pressed_fastcall
628   0000              	GLOBAL _in_key_pressed
629   0000              	GLOBAL _in_inkey
630   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
631   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
632   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
633   0000              	GLOBAL _NIRVANAP_HOLE
634   0000              	GLOBAL _NIRVANAP_ISR_HOOK
635   0000              	GLOBAL _g_player_hit_right
636   0000              	GLOBAL _g_player_hit_left
637   0000              	GLOBAL _joynames
638   0000              	GLOBAL _initials
639   0000              	GLOBAL _bullet_frames
640   0000              	GLOBAL _bullet_colint
641   0000              	GLOBAL _bullet_dir
642   0000              	GLOBAL _bullet_tile
643   0000              	GLOBAL _bullet_col
644   0000              	GLOBAL _bullet_lin
645   0000              	GLOBAL _anim_end
646   0000              	GLOBAL _anim_int
647   0000              	GLOBAL _anim_tile
648   0000              	GLOBAL _anim_col
649   0000              	GLOBAL _anim_lin
650   0000              	GLOBAL _phase_angry
651   0000              	GLOBAL _phase_curr
652   0000              	GLOBAL _phase_end
653   0000              	GLOBAL _phase_coins
654   0000              	GLOBAL _phase_pop
655   0000              	GLOBAL _phase_tot
656   0000              	GLOBAL _map_heigth
657   0000              	GLOBAL _map_width
658   0000              	GLOBAL _scr_curr
659   0000              	GLOBAL _scr_7
660   0000              	GLOBAL _scr_6
661   0000              	GLOBAL _scr_5
662   0000              	GLOBAL _scr_4
663   0000              	GLOBAL _scr_3
664   0000              	GLOBAL _scr_2
665   0000              	GLOBAL _scr_1
666   0000              	GLOBAL _scr_0
667   0000              	GLOBAL _scr_map
668   0000              	GLOBAL _sprite_speed_alt
669   0000              	GLOBAL _sprite_frames
670   0000              	GLOBAL _sprite_speed
671   0000              	GLOBAL _screen_ink
672   0000              	GLOBAL _screen_paper
673   0000              	GLOBAL _player_over_stair
674   0000              	GLOBAL _game_menu_sel
675   0000              	GLOBAL _game_type
676   0000              	GLOBAL _game_score_top
677   0000              	GLOBAL _player_lives
678   0000              	GLOBAL _game_over
679   0000              	GLOBAL _game_sound
680   0000              	GLOBAL _game_inmune
681   0000              	GLOBAL _game_god_mode
682   0000              	GLOBAL _game_start_phase
683   0000              	GLOBAL _game_two_player
684   0000              	GLOBAL _game_brick_tile
685   0000              	GLOBAL _sprite_curr_index
686   0000              	GLOBAL _spr_count
687   0000              	GLOBAL _bullet_time
688   0000              	GLOBAL _anim_time
689   0000              	GLOBAL _frame_time
690   0000              	GLOBAL _entry_time
691   0000              	GLOBAL _curr_time
692   0000              	GLOBAL _s_state
693   0000              	GLOBAL _attrib_hl
694   0000              	GLOBAL _attrib
695   0000              	GLOBAL _zx_val_asm
696   0000              	GLOBAL _enemies
697   0000              	GLOBAL _tmp_ui
698   0000              	GLOBAL _tmp_sc
699   0000              	GLOBAL _tmp_uc
700   0000              	GLOBAL _tmp1
701   0000              	GLOBAL _tmp0
702   0000              	GLOBAL _tmp
703   0000              	GLOBAL _index1
704   0000              	GLOBAL _index0
705   0000              	GLOBAL _loop_count
706   0000              	GLOBAL _s_col1
707   0000              	GLOBAL _s_col0
708   0000              	GLOBAL _s_lin1
709   0000              	GLOBAL _s_lin0
710   0000              	GLOBAL _s_tile1
711   0000              	GLOBAL _s_tile0
712   0000              	GLOBAL _player_hit_count
713   0000              	GLOBAL _sprite_horizontal_check
714   0000              	GLOBAL _sprite_on_air
715   0000              	GLOBAL _sprite
716   0000              	GLOBAL _game_gravity
717   0000              	GLOBAL _player_vel_inc
718   0000              	GLOBAL _player_vel_y1
719   0000              	GLOBAL _player_vel_y0
720   0000              	GLOBAL _player_vel_y
721   0000              	GLOBAL _player_vel_x
722   0000              	GLOBAL _player_joy
723   0000              	GLOBAL _player_score
724   0000              	GLOBAL _last_time
725   0000              	GLOBAL _player_slide
726   0000              	GLOBAL _spr_timer
727   0000              	GLOBAL _jump_lin
728   0000              	GLOBAL _player_hit_col
729   0000              	GLOBAL _player_hit_lin
730   0000              	GLOBAL _colint
731   0000              	GLOBAL _col
732   0000              	GLOBAL _lin
733   0000              	GLOBAL _tile
734   0000              	GLOBAL _state_a
735   0000              	GLOBAL _state
736   0000              	GLOBAL _class
737   0000              	GLOBAL _tbuffer
738   0000              	GLOBAL _dirs
739   0000              	GLOBAL _k1
740   0000              	GLOBAL _joyfunc1
741   0000              	GLOBAL _btiles
742   0000              	GLOBAL _spec128
743   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
744   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
745   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
746   0000              	GLOBAL _ay_effect_20
747   0000              	GLOBAL _ay_effect_19
748   0000              	GLOBAL _ay_effect_18
749   0000              	GLOBAL _ay_effect_17
750   0000              	GLOBAL _ay_effect_16
751   0000              	GLOBAL _ay_effect_15
752   0000              	GLOBAL _ay_effect_14
753   0000              	GLOBAL _ay_effect_13
754   0000              	GLOBAL _ay_effect_12
755   0000              	GLOBAL _ay_effect_11
756   0000              	GLOBAL _ay_effect_10
757   0000              	GLOBAL _ay_effect_09
758   0000              	GLOBAL _ay_effect_08
759   0000              	GLOBAL _ay_effect_07
760   0000              	GLOBAL _ay_effect_06
761   0000              	GLOBAL _ay_effect_05
762   0000              	GLOBAL _ay_effect_04
763   0000              	GLOBAL _ay_effect_03
764   0000              	GLOBAL _ay_effect_02
765   0000              	GLOBAL _ay_effect_01
766   0000              	GLOBAL _pb_midi_phase_1
767   0000              	GLOBAL _pb_midi_title
768   0000              	GLOBAL _control_method
769   0000              ;--------------------------------------------------------
770   0000              ; special function registers
771   0000              ;--------------------------------------------------------
772   0000              defc _IO_FE	=	0x00fe
773   0000              defc _IO_1FFD	=	0x1ffd
774   0000              defc _IO_7FFD	=	0x7ffd
775   0000              ;--------------------------------------------------------
776   0000              ; ram data
777   0000              ;--------------------------------------------------------
778   0000              	SECTION bss_compiler
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              
783   0000              IF 0
784   0000              
785   0000              ; .area _INITIALIZED removed by z88dk
786   0000              
787   0000              
788   0000              ENDIF
789   0000              
790   0000              ;--------------------------------------------------------
791   0000              ; absolute external ram data
792   0000              ;--------------------------------------------------------
793   0000              	SECTION IGNORE
794   0000              ;--------------------------------------------------------
795   0000              ; global & static initialisations
796   0000              ;--------------------------------------------------------
797   0000              	SECTION code_crt_init
798   0000              ;--------------------------------------------------------
799   0000              ; Home
800   0000              ;--------------------------------------------------------
801   0000              	SECTION IGNORE
802   0000              ;--------------------------------------------------------
803   0000              ; code
804   0000              ;--------------------------------------------------------
805   0000              	SECTION code_compiler
806   0000              ;	---------------------------------
807   0000              ; Function spr_calc_index
808   0000              ; ---------------------------------
809   0000              _spr_calc_index:
810   0000  CD 00 00    	call	___sdcc_enter_ix
811   0003  DD 4E 05    	ld	c,(ix+5)
812   0006  CB 39       	srl	c
813   0008  06 00       	ld	b,0x00
814   000A  DD 7E 04    	ld	a,(ix+4)
815   000D  07          	rlca
816   000E  07          	rlca
817   000F  07          	rlca
818   0010  07          	rlca
819   0011  E6 0F       	and	a,0x0f
820   0013  6F          	ld	l, a
821   0014  26 00       	ld	h,0x00
822   0016  29          	add	hl, hl
823   0017  29          	add	hl, hl
824   0018  29          	add	hl, hl
825   0019  29          	add	hl, hl
826   001A  09          	add	hl, bc
827   001B  DD E1       	pop	ix
828   001D  C9          	ret
829   001E              	SECTION code_compiler
830   001E              ;	---------------------------------
831   001E              ; Function spr_chktime
832   001E              ; ---------------------------------
833   001E              _spr_chktime:
834   001E  CD 00 00    	call	___sdcc_enter_ix
835   0021  F5          	push	af
836   0022  DD 75 FE    	ld	(ix-2),l
837   0025  DD 74 FF    	ld	(ix-1),h
838   0028  E1          	pop	hl
839   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
840   002C  5E          	ld	e,(hl)
841   002D  E5          	push	hl
842   002E  6B          	ld	l,e
843   002F  26 00       	ld	h,0x00
844   0031  09          	add	hl, bc
845   0032  7E          	ld	a, (hl)
846   0033  B7          	or	a, a
847   0034  20 13       	jr	NZ,l_spr_chktime_00102
848   0036  01 00 00    	ld	bc,_sprite_speed+0
849   0039  16 00       	ld	d,0x00
850   003B  21 00 00    	ld	hl,_class
851   003E  19          	add	hl, de
852   003F  6E          	ld	l, (hl)
853   0040  26 00       	ld	h,0x00
854   0042  09          	add	hl, bc
855   0043  7E          	ld	a, (hl)
856   0044  32 00 00    	ld	(_tmp),a
857   0047  18 03       	jr	l_spr_chktime_00103
858   0049              l_spr_chktime_00102:
859   0049  32 00 00    	ld	(_tmp),a
860   004C              l_spr_chktime_00103:
861   004C  3A 00 00    	ld	a,(_tmp)
862   004F  4F          	ld	c,a
863   0050  06 00       	ld	b,0x00
864   0052  60          	ld	h,b
865   0053  6B          	ld	l, e
866   0054  29          	add	hl, hl
867   0055  11 00 00    	ld	de,_last_time
868   0058  19          	add	hl, de
869   0059  5E          	ld	e, (hl)
870   005A  23          	inc	hl
871   005B  56          	ld	d, (hl)
872   005C  C5          	push	bc
873   005D  D5          	push	de
874   005E  CD 00 00    	call	_game_check_time
875   0061  F1          	pop	af
876   0062  F1          	pop	af
877   0063  7D          	ld	a, l
878   0064  B7          	or	a, a
879   0065  28 15       	jr	Z,l_spr_chktime_00105
880   0067  E1          	pop	hl
881   0068  E5          	push	hl
882   0069  6E          	ld	l, (hl)
883   006A  26 00       	ld	h,0x00
884   006C  29          	add	hl, hl
885   006D  01 00 00    	ld	bc,_last_time
886   0070  09          	add	hl,bc
887   0071  ED 5B 00 00 	ld	de,(_curr_time)
888   0075  73          	ld	(hl),e
889   0076  23          	inc	hl
890   0077  72          	ld	(hl),d
891   0078  2E 01       	ld	l,0x01
892   007A  18 02       	jr	l_spr_chktime_00106
893   007C              l_spr_chktime_00105:
894   007C  2E 00       	ld	l,0x00
895   007E              l_spr_chktime_00106:
896   007E  F1          	pop	af
897   007F  DD E1       	pop	ix
898   0081  C9          	ret
899   0082              	SECTION code_compiler
900   0082              ;	---------------------------------
901   0082              ; Function spr_move_jump
902   0082              ; ---------------------------------
903   0082              _spr_move_jump:
904   0082  2A 00 00    	ld	hl,(_player_vel_y)
905   0085  ED 5B 00 00 	ld	de,(_game_gravity)
906   0089  19          	add	hl,de
907   008A  22 00 00    	ld	(_player_vel_y),hl
908   008D  21 00 00    	ld	hl,_sprite_on_air
909   0090  36 01       	ld	(hl),0x01
910   0092  3A 00 00    	ld	a,(_player_vel_inc)
911   0095  B7          	or	a, a
912   0096  28 2C       	jr	Z,l_spr_move_jump_00106
913   0098  21 00 00    	ld	hl,_dirs
914   009B  CB 7E       	bit	7, (hl)
915   009D  20 25       	jr	NZ,l_spr_move_jump_00106
916   009F  3A 00 00    	ld	a,(_player_vel_y1)
917   00A2  21 00 00    	ld	hl,_player_vel_y
918   00A5  96          	sub	a, (hl)
919   00A6  3A 01 00    	ld	a,(_player_vel_y1 + 1)
920   00A9  23          	inc	hl
921   00AA  9E          	sbc	a, (hl)
922   00AB  E2 B0 00    	jp	PO, l_spr_move_jump_00210
923   00AE  EE 80       	xor	a,0x80
924   00B0              l_spr_move_jump_00210:
925   00B0  F2 C4 00    	jp	P, l_spr_move_jump_00106
926   00B3  21 01 00    	ld	hl,_player_vel_y + 1
927   00B6  CB 7E       	bit	7,(hl)
928   00B8  28 0A       	jr	Z,l_spr_move_jump_00106
929   00BA  2B          	dec	hl
930   00BB  AF          	xor	a, a
931   00BC  77          	ld	(hl), a
932   00BD  23          	inc	hl
933   00BE  77          	ld	(hl), a
934   00BF  21 00 00    	ld	hl,_player_vel_inc
935   00C2  36 00       	ld	(hl),0x00
936   00C4              l_spr_move_jump_00106:
937   00C4  3E 78       	ld	a,0x78
938   00C6  21 00 00    	ld	hl,_player_vel_y
939   00C9  BE          	cp	a, (hl)
940   00CA  3E 00       	ld	a,0x00
941   00CC  23          	inc	hl
942   00CD  9E          	sbc	a, (hl)
943   00CE  E2 D3 00    	jp	PO, l_spr_move_jump_00211
944   00D1  EE 80       	xor	a,0x80
945   00D3              l_spr_move_jump_00211:
946   00D3  F2 DC 00    	jp	P, l_spr_move_jump_00108
947   00D6  21 78 00    	ld	hl,0x0078
948   00D9  22 00 00    	ld	(_player_vel_y),hl
949   00DC              l_spr_move_jump_00108:
950   00DC  21 00 00    	ld	hl,_player_vel_y
951   00DF  7E          	ld	a, (hl)
952   00E0  D6 88       	sub	a,0x88
953   00E2  23          	inc	hl
954   00E3  7E          	ld	a, (hl)
955   00E4  17          	rla
956   00E5  3F          	ccf
957   00E6  1F          	rra
958   00E7  DE 7F       	sbc	a,0x7f
959   00E9  30 06       	jr	NC,l_spr_move_jump_00110
960   00EB  2B          	dec	hl
961   00EC  36 88       	ld	(hl),0x88
962   00EE  23          	inc	hl
963   00EF  36 FF       	ld	(hl),0xff
964   00F1              l_spr_move_jump_00110:
965   00F1  21 0A 00    	ld	hl,0x000a
966   00F4  E5          	push	hl
967   00F5  2A 00 00    	ld	hl,(_player_vel_y)
968   00F8  E5          	push	hl
969   00F9  CD 00 00    	call	__divsint_callee
970   00FC  4D          	ld	c, l
971   00FD  44          	ld	b, h
972   00FE  CB 41       	bit	0,c
973   0100  21 00 00    	ld	hl,_s_lin1
974   0103  71          	ld	(hl),c
975   0104  28 04       	jr	Z,l_spr_move_jump_00112
976   0106  21 00 00    	ld	hl,_s_lin1
977   0109  34          	inc	(hl)
978   010A              l_spr_move_jump_00112:
979   010A  2A 00 00    	ld	hl,(_sprite)
980   010D  26 00       	ld	h,0x00
981   010F  11 00 00    	ld	de,_lin
982   0112  19          	add	hl,de
983   0113  7E          	ld	a,(hl)
984   0114  21 00 00    	ld	hl,_s_lin1
985   0117  86          	add	a, (hl)
986   0118  77          	ld	(hl), a
987   0119  3E 90       	ld	a,0x90
988   011B  96          	sub	a, (hl)
989   011C  30 0E       	jr	NC,l_spr_move_jump_00117
990   011E  3E C8       	ld	a,0xc8
991   0120  96          	sub	a, (hl)
992   0121  30 04       	jr	NC,l_spr_move_jump_00114
993   0123  36 00       	ld	(hl),0x00
994   0125  18 05       	jr	l_spr_move_jump_00117
995   0127              l_spr_move_jump_00114:
996   0127  21 00 00    	ld	hl,_s_lin1
997   012A  36 90       	ld	(hl),0x90
998   012C              l_spr_move_jump_00117:
999   012C  CB 78       	bit	7, b
1000  012E  28 5B       	jr	Z,l_spr_move_jump_00134
1001  0130  21 00 00    	ld	hl,_s_state
1002  0133  7E          	ld	a,(hl)
1003  0134  F6 01       	or	a,0x01
1004  0136  E6 FD       	and	a,0xfd
1005  0138  77          	ld	(hl),a
1006  0139  2A 00 00    	ld	hl,(_sprite)
1007  013C  26 00       	ld	h,0x00
1008  013E  01 00 00    	ld	bc,_col
1009  0141  09          	add	hl,bc
1010  0142  7E          	ld	a,(hl)
1011  0143  F5          	push	af
1012  0144  33          	inc	sp
1013  0145  3A 00 00    	ld	a,(_s_lin1)
1014  0148  F5          	push	af
1015  0149  33          	inc	sp
1016  014A  CD 00 00    	call	_game_check_map
1017  014D  F1          	pop	af
1018  014E  7C          	ld	a,h
1019  014F  B5          	or	a,l
1020  0150  28 29       	jr	Z,l_spr_move_jump_00121
1021  0152  CD 00 00    	call	_player_hit_platform
1022  0155  7D          	ld	a, l
1023  0156  B7          	or	a, a
1024  0157  28 19       	jr	Z,l_spr_move_jump_00119
1025  0159  2A 00 00    	ld	hl,(_sprite)
1026  015C  26 00       	ld	h,0x00
1027  015E  01 00 00    	ld	bc,_lin
1028  0161  09          	add	hl,bc
1029  0162  7E          	ld	a,(hl)
1030  0163  4D          	ld	c,l
1031  0164  44          	ld	b,h
1032  0165  07          	rlca
1033  0166  07          	rlca
1034  0167  07          	rlca
1035  0168  07          	rlca
1036  0169  E6 0F       	and	a,0x0f
1037  016B  07          	rlca
1038  016C  07          	rlca
1039  016D  07          	rlca
1040  016E  07          	rlca
1041  016F  E6 F0       	and	a,0xf0
1042  0171  02          	ld	(bc), a
1043  0172              l_spr_move_jump_00119:
1044  0172  21 00 00    	ld	hl,0x0000
1045  0175  22 00 00    	ld	(_player_vel_y),hl
1046  0178  C3 1C 02    	jp	l_spr_move_jump_00135
1047  017B              l_spr_move_jump_00121:
1048  017B  2A 00 00    	ld	hl,(_sprite)
1049  017E  26 00       	ld	h,0x00
1050  0180  01 00 00    	ld	bc,_lin
1051  0183  09          	add	hl,bc
1052  0184  3A 00 00    	ld	a,(_s_lin1)
1053  0187  77          	ld	(hl),a
1054  0188  C3 1C 02    	jp	l_spr_move_jump_00135
1055  018B              l_spr_move_jump_00134:
1056  018B  21 00 00    	ld	hl,_s_state
1057  018E  7E          	ld	a,(hl)
1058  018F  F6 02       	or	a,0x02
1059  0191  E6 FE       	and	a,0xfe
1060  0193  77          	ld	(hl),a
1061  0194  2A 00 00    	ld	hl,(_sprite)
1062  0197  26 00       	ld	h,0x00
1063  0199  01 00 00    	ld	bc,_col
1064  019C  09          	add	hl,bc
1065  019D  56          	ld	d, (hl)
1066  019E  3A 00 00    	ld	a,(_s_lin1)
1067  01A1  C6 10       	add	a,0x10
1068  01A3  5F          	ld	e, a
1069  01A4  D5          	push	de
1070  01A5  CD 00 00    	call	_game_check_map
1071  01A8  F1          	pop	af
1072  01A9  7C          	ld	a,h
1073  01AA  B5          	or	a,l
1074  01AB  28 62       	jr	Z,l_spr_move_jump_00131
1075  01AD  2E 00       	ld	l,0x00
1076  01AF  CD 00 00    	call	_player_check_stairs
1077  01B2  3A 00 00    	ld	a,(_player_over_stair)
1078  01B5  B7          	or	a, a
1079  01B6  20 05       	jr	NZ,l_spr_move_jump_00124
1080  01B8  2E 01       	ld	l,0x01
1081  01BA  CD 00 00    	call	_player_check_stairs
1082  01BD              l_spr_move_jump_00124:
1083  01BD  3A 00 00    	ld	a,(_player_over_stair)
1084  01C0  B7          	or	a, a
1085  01C1  20 30       	jr	NZ,l_spr_move_jump_00129
1086  01C3  21 00 00    	ld	hl,_s_lin1
1087  01C6  7E          	ld	a, (hl)
1088  01C7  07          	rlca
1089  01C8  07          	rlca
1090  01C9  07          	rlca
1091  01CA  07          	rlca
1092  01CB  E6 0F       	and	a,0x0f
1093  01CD  07          	rlca
1094  01CE  07          	rlca
1095  01CF  07          	rlca
1096  01D0  07          	rlca
1097  01D1  E6 F0       	and	a,0xf0
1098  01D3  77          	ld	(hl), a
1099  01D4  2A 00 00    	ld	hl,(_sprite)
1100  01D7  26 00       	ld	h,0x00
1101  01D9  01 00 00    	ld	bc,_lin
1102  01DC  09          	add	hl,bc
1103  01DD  5E          	ld	e,(hl)
1104  01DE  4D          	ld	c,l
1105  01DF  44          	ld	b,h
1106  01E0  21 00 00    	ld	hl,_s_lin1
1107  01E3  7E          	ld	a, (hl)
1108  01E4  93          	sub	a, e
1109  01E5  30 08       	jr	NC,l_spr_move_jump_00126
1110  01E7  7E          	ld	a, (hl)
1111  01E8  C6 10       	add	a,0x10
1112  01EA  02          	ld	(bc), a
1113  01EB  2E 00       	ld	l,0x00
1114  01ED  18 47       	jr	l_spr_move_jump_00138
1115  01EF              l_spr_move_jump_00126:
1116  01EF  3A 00 00    	ld	a,(_s_lin1)
1117  01F2  02          	ld	(bc), a
1118  01F3              l_spr_move_jump_00129:
1119  01F3  21 00 00    	ld	hl,0x0000
1120  01F6  22 00 00    	ld	(_player_vel_y),hl
1121  01F9  21 00 00    	ld	hl,_s_state
1122  01FC  7E          	ld	a,(hl)
1123  01FD  E6 FC       	and	a,+(0xfd&0xfe)
1124  01FF  77          	ld	(hl),a
1125  0200  2A 00 00    	ld	hl,(_sprite)
1126  0203  26 00       	ld	h,0x00
1127  0205  01 00 00    	ld	bc,_colint
1128  0208  09          	add	hl,bc
1129  0209  AF          	xor	a,a
1130  020A  77          	ld	(hl),a
1131  020B  2E 01       	ld	l,0x01
1132  020D  18 27       	jr	l_spr_move_jump_00138
1133  020F              l_spr_move_jump_00131:
1134  020F  2A 00 00    	ld	hl,(_sprite)
1135  0212  26 00       	ld	h,0x00
1136  0214  01 00 00    	ld	bc,_lin
1137  0217  09          	add	hl,bc
1138  0218  3A 00 00    	ld	a,(_s_lin1)
1139  021B  77          	ld	(hl),a
1140  021C              l_spr_move_jump_00135:
1141  021C  21 00 00    	ld	hl,_sprite_horizontal_check
1142  021F  36 01       	ld	(hl),0x01
1143  0221  CD EF 02    	call	_spr_move_horizontal
1144  0224  7D          	ld	a, l
1145  0225  B7          	or	a, a
1146  0226  28 07       	jr	Z,l_spr_move_jump_00137
1147  0228  21 00 00    	ld	hl,_s_state
1148  022B  7E          	ld	a,(hl)
1149  022C  E6 F3       	and	a,+(0xf7&0xfb)
1150  022E  77          	ld	(hl),a
1151  022F              l_spr_move_jump_00137:
1152  022F  21 00 00    	ld	hl,_sprite_horizontal_check
1153  0232  36 00       	ld	(hl),0x00
1154  0234  2E 00       	ld	l,0x00
1155  0236              l_spr_move_jump_00138:
1156  0236  C9          	ret
1157  0237              	SECTION code_compiler
1158  0237              ;	---------------------------------
1159  0237              ; Function spr_move_up
1160  0237              ; ---------------------------------
1161  0237              _spr_move_up:
1162  0237  01 00 00    	ld	bc,_lin+0
1163  023A  2A 00 00    	ld	hl,(_sprite)
1164  023D  26 00       	ld	h,0x00
1165  023F  09          	add	hl,bc
1166  0240  7E          	ld	a,(hl)
1167  0241  C6 FE       	add	a,0xfe
1168  0243  32 00 00    	ld	(_tmp1),a
1169  0246  2A 00 00    	ld	hl,(_sprite)
1170  0249  26 00       	ld	h,0x00
1171  024B  11 00 00    	ld	de,_class
1172  024E  19          	add	hl,de
1173  024F  7E          	ld	a,(hl)
1174  0250  D6 10       	sub	a,0x10
1175  0252  20 30       	jr	NZ,l_spr_move_up_00107
1176  0254  3A 00 00    	ld	a,(_sprite)
1177  0257  5F          	ld	e,a
1178  0258  16 00       	ld	d,0x00
1179  025A  21 00 00    	ld	hl,_col
1180  025D  19          	add	hl,de
1181  025E  66          	ld	h, (hl)
1182  025F  C5          	push	bc
1183  0260  E5          	push	hl
1184  0261  33          	inc	sp
1185  0262  3A 00 00    	ld	a,(_tmp1)
1186  0265  F5          	push	af
1187  0266  33          	inc	sp
1188  0267  CD 00 00    	call	_game_check_map
1189  026A  F1          	pop	af
1190  026B  C1          	pop	bc
1191  026C  7C          	ld	a,h
1192  026D  B5          	or	a,l
1193  026E  28 14       	jr	Z,l_spr_move_up_00107
1194  0270  3A 00 00    	ld	a,(_sprite)
1195  0273  D6 07       	sub	a,0x07
1196  0275  20 09       	jr	NZ,l_spr_move_up_00102
1197  0277  3A 07 00    	ld	a,(_state_a + 0x0007)
1198  027A  07          	rlca
1199  027B  38 03       	jr	C,l_spr_move_up_00102
1200  027D  CD 00 00    	call	_player_hit_platform
1201  0280              l_spr_move_up_00102:
1202  0280  2E 01       	ld	l,0x01
1203  0282  18 1E       	jr	l_spr_move_up_00110
1204  0284              l_spr_move_up_00107:
1205  0284  2A 00 00    	ld	hl,(_sprite)
1206  0287  26 00       	ld	h,0x00
1207  0289  09          	add	hl,bc
1208  028A  3A 00 00    	ld	a,(_tmp1)
1209  028D  77          	ld	(hl),a
1210  028E  2A 00 00    	ld	hl,(_sprite)
1211  0291  26 00       	ld	h,0x00
1212  0293  09          	add	hl,bc
1213  0294  5E          	ld	e, (hl)
1214  0295  3E 90       	ld	a,0x90
1215  0297  93          	sub	a,e
1216  0298  30 06       	jr	NC,l_spr_move_up_00109
1217  029A  AF          	xor	a,a
1218  029B  77          	ld	(hl),a
1219  029C  2E 01       	ld	l,0x01
1220  029E  18 02       	jr	l_spr_move_up_00110
1221  02A0              l_spr_move_up_00109:
1222  02A0  2E 00       	ld	l,0x00
1223  02A2              l_spr_move_up_00110:
1224  02A2  C9          	ret
1225  02A3              	SECTION code_compiler
1226  02A3              ;	---------------------------------
1227  02A3              ; Function spr_move_down
1228  02A3              ; ---------------------------------
1229  02A3              _spr_move_down:
1230  02A3  01 00 00    	ld	bc,_lin+0
1231  02A6  2A 00 00    	ld	hl,(_sprite)
1232  02A9  26 00       	ld	h,0x00
1233  02AB  09          	add	hl,bc
1234  02AC  7E          	ld	a,(hl)
1235  02AD  C6 02       	add	a,0x02
1236  02AF  32 00 00    	ld	(_tmp1),a
1237  02B2  2A 00 00    	ld	hl,(_sprite)
1238  02B5  26 00       	ld	h,0x00
1239  02B7  11 00 00    	ld	de,_col
1240  02BA  19          	add	hl,de
1241  02BB  56          	ld	d, (hl)
1242  02BC  3A 00 00    	ld	a,(_tmp1)
1243  02BF  C6 0E       	add	a,0x0e
1244  02C1  C5          	push	bc
1245  02C2  5F          	ld	e,a
1246  02C3  D5          	push	de
1247  02C4  CD 00 00    	call	_game_check_map
1248  02C7  F1          	pop	af
1249  02C8  C1          	pop	bc
1250  02C9  7C          	ld	a,h
1251  02CA  B5          	or	a,l
1252  02CB  28 04       	jr	Z,l_spr_move_down_00102
1253  02CD  2E 01       	ld	l,0x01
1254  02CF  18 1D       	jr	l_spr_move_down_00105
1255  02D1              l_spr_move_down_00102:
1256  02D1  2A 00 00    	ld	hl,(_sprite)
1257  02D4  26 00       	ld	h,0x00
1258  02D6  09          	add	hl,bc
1259  02D7  3A 00 00    	ld	a,(_tmp1)
1260  02DA  77          	ld	(hl),a
1261  02DB  2A 00 00    	ld	hl,(_sprite)
1262  02DE  26 00       	ld	h,0x00
1263  02E0  09          	add	hl,bc
1264  02E1  5E          	ld	e, (hl)
1265  02E2  3E 90       	ld	a,0x90
1266  02E4  BB          	cp	a,e
1267  02E5  30 05       	jr	NC,l_spr_move_down_00104
1268  02E7  77          	ld	(hl),a
1269  02E8  2E 01       	ld	l,0x01
1270  02EA  18 02       	jr	l_spr_move_down_00105
1271  02EC              l_spr_move_down_00104:
1272  02EC  2E 00       	ld	l,0x00
1273  02EE              l_spr_move_down_00105:
1274  02EE  C9          	ret
1275  02EF              	SECTION code_compiler
1276  02EF              ;	---------------------------------
1277  02EF              ; Function spr_move_horizontal
1278  02EF              ; ---------------------------------
1279  02EF              _spr_move_horizontal:
1280  02EF  2A 00 00    	ld	hl,(_sprite)
1281  02F2  26 00       	ld	h,0x00
1282  02F4  01 00 00    	ld	bc,_state
1283  02F7  09          	add	hl,bc
1284  02F8  7E          	ld	a,(hl)
1285  02F9  CB 57       	bit	2, a
1286  02FB  28 05       	jr	Z,l_spr_move_horizontal_00104
1287  02FD  CD 0E 03    	call	_spr_move_right
1288  0300  18 0B       	jr	l_spr_move_horizontal_00106
1289  0302              l_spr_move_horizontal_00104:
1290  0302  CB 5F       	bit	3, a
1291  0304  28 05       	jr	Z,l_spr_move_horizontal_00105
1292  0306  CD ED 03    	call	_spr_move_left
1293  0309  18 02       	jr	l_spr_move_horizontal_00106
1294  030B              l_spr_move_horizontal_00105:
1295  030B  2E 00       	ld	l,0x00
1296  030D              l_spr_move_horizontal_00106:
1297  030D  C9          	ret
1298  030E              	SECTION code_compiler
1299  030E              ;	---------------------------------
1300  030E              ; Function spr_move_right
1301  030E              ; ---------------------------------
1302  030E              _spr_move_right:
1303  030E  2A 00 00    	ld	hl,(_sprite)
1304  0311  26 00       	ld	h,0x00
1305  0313  01 00 00    	ld	bc,_colint
1306  0316  09          	add	hl,bc
1307  0317  7E          	ld	a,(hl)
1308  0318  3C          	inc	a
1309  0319  77          	ld	(hl),a
1310  031A  4F          	ld	c,a
1311  031B  3A 00 00    	ld	a,(_sprite)
1312  031E  5F          	ld	e,a
1313  031F  16 00       	ld	d,0x00
1314  0321  21 00 00    	ld	hl,_class
1315  0324  19          	add	hl,de
1316  0325  5E          	ld	e, (hl)
1317  0326  16 00       	ld	d,0x00
1318  0328  21 00 00    	ld	hl,_sprite_frames
1319  032B  19          	add	hl, de
1320  032C  7E          	ld	a, (hl)
1321  032D  91          	sub	a, c
1322  032E  C2 EA 03    	jp	NZ,l_spr_move_right_00117
1323  0331  2A 00 00    	ld	hl,(_sprite)
1324  0334  26 00       	ld	h,0x00
1325  0336  01 00 00    	ld	bc,_lin
1326  0339  09          	add	hl,bc
1327  033A  7E          	ld	a,(hl)
1328  033B  32 00 00    	ld	(_s_lin1),a
1329  033E  2A 00 00    	ld	hl,(_sprite)
1330  0341  26 00       	ld	h,0x00
1331  0343  01 00 00    	ld	bc,_col
1332  0346  09          	add	hl,bc
1333  0347  7E          	ld	a,(hl)
1334  0348  FE 1E       	cp	a,0x1e
1335  034A  30 4A       	jr	NC,l_spr_move_right_00107
1336  034C  3C          	inc	a
1337  034D  32 00 00    	ld	(_s_col1),a
1338  0350  F5          	push	af
1339  0351  33          	inc	sp
1340  0352  3A 00 00    	ld	a,(_s_lin1)
1341  0355  F5          	push	af
1342  0356  33          	inc	sp
1343  0357  CD 00 00    	call	_game_check_map
1344  035A  F1          	pop	af
1345  035B  7C          	ld	a,h
1346  035C  B5          	or	a,l
1347  035D  20 13       	jr	NZ,l_spr_move_right_00103
1348  035F  3A 00 00    	ld	a,(_s_lin1)
1349  0362  C6 0F       	add	a,0x0f
1350  0364  4F          	ld	c, a
1351  0365  3A 00 00    	ld	a, (_s_col1)
1352  0368  47          	ld	b,a
1353  0369  C5          	push	bc
1354  036A  CD 00 00    	call	_game_check_map
1355  036D  F1          	pop	af
1356  036E  7C          	ld	a,h
1357  036F  B5          	or	a,l
1358  0370  28 24       	jr	Z,l_spr_move_right_00107
1359  0372              l_spr_move_right_00103:
1360  0372  2A 00 00    	ld	hl,(_sprite)
1361  0375  26 00       	ld	h,0x00
1362  0377  01 00 00    	ld	bc,_colint
1363  037A  09          	add	hl,bc
1364  037B  7E          	ld	a,(hl)
1365  037C  C6 FF       	add	a,0xff
1366  037E  77          	ld	(hl),a
1367  037F  3A 00 00    	ld	a,(_sprite_on_air)
1368  0382  B7          	or	a,a
1369  0383  20 0D       	jr	NZ,l_spr_move_right_00102
1370  0385  2A 00 00    	ld	hl,(_sprite)
1371  0388  26 00       	ld	h,0x00
1372  038A  01 00 00    	ld	bc,_colint
1373  038D  09          	add	hl,bc
1374  038E  7E          	ld	a,(hl)
1375  038F  C6 FF       	add	a,0xff
1376  0391  77          	ld	(hl),a
1377  0392              l_spr_move_right_00102:
1378  0392  2E 01       	ld	l,0x01
1379  0394  18 56       	jr	l_spr_move_right_00118
1380  0396              l_spr_move_right_00107:
1381  0396  2A 00 00    	ld	hl,(_sprite)
1382  0399  26 00       	ld	h,0x00
1383  039B  01 00 00    	ld	bc,_col
1384  039E  09          	add	hl,bc
1385  039F  34          	inc	(hl)
1386  03A0  2A 00 00    	ld	hl,(_sprite)
1387  03A3  26 00       	ld	h,0x00
1388  03A5  01 00 00    	ld	bc,_colint
1389  03A8  09          	add	hl,bc
1390  03A9  AF          	xor	a,a
1391  03AA  77          	ld	(hl),a
1392  03AB  2A 00 00    	ld	hl,(_sprite)
1393  03AE  26 00       	ld	h,0x00
1394  03B0  01 00 00    	ld	bc,_col
1395  03B3  09          	add	hl,bc
1396  03B4  5E          	ld	e,(hl)
1397  03B5  3E 1E       	ld	a,0x1e
1398  03B7  93          	sub	a,e
1399  03B8  30 30       	jr	NC,l_spr_move_right_00117
1400  03BA  3A 00 00    	ld	a,(_sprite)
1401  03BD  D6 07       	sub	a,0x07
1402  03BF  28 04       	jr	Z,l_spr_move_right_00151
1403  03C1  4D          	ld	c,l
1404  03C2  44          	ld	b,h
1405  03C3  18 1C       	jr	l_spr_move_right_00112
1406  03C5              l_spr_move_right_00151:
1407  03C5  CD CD 04    	call	_spr_page_right
1408  03C8  3A 00 00    	ld	a,(_sprite)
1409  03CB  C6 00       	add	a,+((_col) & 0xFF)
1410  03CD  4D          	ld	c,l
1411  03CE  5F          	ld	e,a
1412  03CF  3E 00       	ld	a,+((_col) / 256)
1413  03D1  CE 00       	adc	a,0x00
1414  03D3  57          	ld	d,a
1415  03D4  79          	ld	a, c
1416  03D5  B7          	or	a, a
1417  03D6  28 04       	jr	Z,l_spr_move_right_00109
1418  03D8  AF          	xor	a, a
1419  03D9  12          	ld	(de), a
1420  03DA  18 0E       	jr	l_spr_move_right_00117
1421  03DC              l_spr_move_right_00109:
1422  03DC  3E 1E       	ld	a,0x1e
1423  03DE  12          	ld	(de), a
1424  03DF  18 09       	jr	l_spr_move_right_00117
1425  03E1              l_spr_move_right_00112:
1426  03E1  3E 1E       	ld	a,0x1e
1427  03E3  02          	ld	(bc), a
1428  03E4  2A 00 00    	ld	hl,(_sprite)
1429  03E7  CD FF 06    	call	_spr_destroy
1430  03EA              l_spr_move_right_00117:
1431  03EA  2E 00       	ld	l,0x00
1432  03EC              l_spr_move_right_00118:
1433  03EC  C9          	ret
1434  03ED              	SECTION code_compiler
1435  03ED              ;	---------------------------------
1436  03ED              ; Function spr_move_left
1437  03ED              ; ---------------------------------
1438  03ED              _spr_move_left:
1439  03ED  01 00 00    	ld	bc,_colint+0
1440  03F0  79          	ld	a, c
1441  03F1  21 00 00    	ld	hl,_sprite
1442  03F4  86          	add	a, (hl)
1443  03F5  5F          	ld	e, a
1444  03F6  78          	ld	a, b
1445  03F7  CE 00       	adc	a,0x00
1446  03F9  57          	ld	d, a
1447  03FA  1A          	ld	a, (de)
1448  03FB  C6 FF       	add	a,0xff
1449  03FD  12          	ld	(de), a
1450  03FE  79          	ld	a, c
1451  03FF  86          	add	a, (hl)
1452  0400  5F          	ld	e, a
1453  0401  78          	ld	a, b
1454  0402  CE 00       	adc	a,0x00
1455  0404  57          	ld	d, a
1456  0405  1A          	ld	a, (de)
1457  0406  3C          	inc	a
1458  0407  C2 CA 04    	jp	NZ,l_spr_move_left_00117
1459  040A  5E          	ld	e,(hl)
1460  040B  16 00       	ld	d,0x00
1461  040D  21 00 00    	ld	hl,_lin
1462  0410  19          	add	hl,de
1463  0411  7E          	ld	a,(hl)
1464  0412  32 00 00    	ld	(_s_lin1),a
1465  0415  2A 00 00    	ld	hl,(_sprite)
1466  0418  26 00       	ld	h,0x00
1467  041A  11 00 00    	ld	de,_col
1468  041D  19          	add	hl,de
1469  041E  7E          	ld	a,(hl)
1470  041F  B7          	or	a, a
1471  0420  28 44       	jr	Z,l_spr_move_left_00107
1472  0422  C6 FF       	add	a,0xff
1473  0424  32 00 00    	ld	(_s_col1),a
1474  0427  C5          	push	bc
1475  0428  F5          	push	af
1476  0429  33          	inc	sp
1477  042A  3A 00 00    	ld	a,(_s_lin1)
1478  042D  F5          	push	af
1479  042E  33          	inc	sp
1480  042F  CD 00 00    	call	_game_check_map
1481  0432  F1          	pop	af
1482  0433  C1          	pop	bc
1483  0434  7C          	ld	a,h
1484  0435  B5          	or	a,l
1485  0436  20 16       	jr	NZ,l_spr_move_left_00103
1486  0438  3A 00 00    	ld	a,(_s_lin1)
1487  043B  C6 0F       	add	a,0x0f
1488  043D  57          	ld	d, a
1489  043E  3A 00 00    	ld	a,(_s_col1)
1490  0441  C5          	push	bc
1491  0442  5A          	ld	e,d
1492  0443  57          	ld	d,a
1493  0444  D5          	push	de
1494  0445  CD 00 00    	call	_game_check_map
1495  0448  F1          	pop	af
1496  0449  C1          	pop	bc
1497  044A  7C          	ld	a,h
1498  044B  B5          	or	a,l
1499  044C  28 18       	jr	Z,l_spr_move_left_00107
1500  044E              l_spr_move_left_00103:
1501  044E  2A 00 00    	ld	hl,(_sprite)
1502  0451  26 00       	ld	h,0x00
1503  0453  09          	add	hl,bc
1504  0454  34          	inc	(hl)
1505  0455  3A 00 00    	ld	a,(_sprite_on_air)
1506  0458  B7          	or	a, a
1507  0459  20 07       	jr	NZ,l_spr_move_left_00102
1508  045B  2A 00 00    	ld	hl,(_sprite)
1509  045E  26 00       	ld	h,0x00
1510  0460  09          	add	hl,bc
1511  0461  34          	inc	(hl)
1512  0462              l_spr_move_left_00102:
1513  0462  2E 01       	ld	l,0x01
1514  0464  18 66       	jr	l_spr_move_left_00118
1515  0466              l_spr_move_left_00107:
1516  0466  2A 00 00    	ld	hl,(_sprite)
1517  0469  26 00       	ld	h,0x00
1518  046B  11 00 00    	ld	de,_col
1519  046E  19          	add	hl,de
1520  046F  7E          	ld	a,(hl)
1521  0470  EB          	ex	de,hl
1522  0471  C6 FF       	add	a,0xff
1523  0473  12          	ld	(de),a
1524  0474  79          	ld	a,c
1525  0475  21 00 00    	ld	hl,_sprite
1526  0478  86          	add	a, (hl)
1527  0479  4F          	ld	c, a
1528  047A  78          	ld	a, b
1529  047B  CE 00       	adc	a,0x00
1530  047D  47          	ld	b, a
1531  047E  5E          	ld	e,(hl)
1532  047F  16 00       	ld	d,0x00
1533  0481  21 00 00    	ld	hl,_class
1534  0484  19          	add	hl,de
1535  0485  5E          	ld	e, (hl)
1536  0486  16 00       	ld	d,0x00
1537  0488  21 00 00    	ld	hl,_sprite_frames
1538  048B  19          	add	hl, de
1539  048C  5E          	ld	e, (hl)
1540  048D  1D          	dec	e
1541  048E  7B          	ld	a, e
1542  048F  02          	ld	(bc), a
1543  0490  2A 00 00    	ld	hl,(_sprite)
1544  0493  26 00       	ld	h,0x00
1545  0495  01 00 00    	ld	bc,_col
1546  0498  09          	add	hl,bc
1547  0499  7E          	ld	a,(hl)
1548  049A  3C          	inc	a
1549  049B  20 2D       	jr	NZ,l_spr_move_left_00117
1550  049D  3A 00 00    	ld	a,(_sprite)
1551  04A0  D6 07       	sub	a,0x07
1552  04A2  4D          	ld	c,l
1553  04A3  44          	ld	b,h
1554  04A4  20 1C       	jr	NZ,l_spr_move_left_00112
1555  04A6  CD E7 04    	call	_spr_page_left
1556  04A9  3A 00 00    	ld	a,(_sprite)
1557  04AC  C6 00       	add	a,+((_col) & 0xFF)
1558  04AE  4D          	ld	c,l
1559  04AF  5F          	ld	e,a
1560  04B0  3E 00       	ld	a,+((_col) / 256)
1561  04B2  CE 00       	adc	a,0x00
1562  04B4  57          	ld	d,a
1563  04B5  79          	ld	a, c
1564  04B6  B7          	or	a, a
1565  04B7  28 05       	jr	Z,l_spr_move_left_00109
1566  04B9  3E 1E       	ld	a,0x1e
1567  04BB  12          	ld	(de), a
1568  04BC  18 0C       	jr	l_spr_move_left_00117
1569  04BE              l_spr_move_left_00109:
1570  04BE  AF          	xor	a, a
1571  04BF  12          	ld	(de), a
1572  04C0  18 08       	jr	l_spr_move_left_00117
1573  04C2              l_spr_move_left_00112:
1574  04C2  AF          	xor	a, a
1575  04C3  02          	ld	(bc), a
1576  04C4  2A 00 00    	ld	hl,(_sprite)
1577  04C7  CD FF 06    	call	_spr_destroy
1578  04CA              l_spr_move_left_00117:
1579  04CA  2E 00       	ld	l,0x00
1580  04CC              l_spr_move_left_00118:
1581  04CC  C9          	ret
1582  04CD              	SECTION code_compiler
1583  04CD              ;	---------------------------------
1584  04CD              ; Function spr_page_right
1585  04CD              ; ---------------------------------
1586  04CD              _spr_page_right:
1587  04CD  3A 00 00    	ld	a,(_scr_curr)
1588  04D0  21 00 00    	ld	hl,_map_width
1589  04D3  96          	sub	a, (hl)
1590  04D4  30 0E       	jr	NC,l_spr_page_right_00102
1591  04D6  21 00 00    	ld	hl,_scr_curr
1592  04D9  34          	inc	(hl)
1593  04DA  CD 0E 05    	call	_spr_page_map
1594  04DD  CD 1F 08    	call	_spr_draw_map
1595  04E0  2E 01       	ld	l,0x01
1596  04E2  18 02       	jr	l_spr_page_right_00103
1597  04E4              l_spr_page_right_00102:
1598  04E4  2E 00       	ld	l,0x00
1599  04E6              l_spr_page_right_00103:
1600  04E6  C9          	ret
1601  04E7              	SECTION code_compiler
1602  04E7              ;	---------------------------------
1603  04E7              ; Function spr_page_left
1604  04E7              ; ---------------------------------
1605  04E7              _spr_page_left:
1606  04E7  2A 00 00    	ld	hl,(_sprite)
1607  04EA  26 00       	ld	h,0x00
1608  04EC  01 00 00    	ld	bc,_class
1609  04EF  09          	add	hl,bc
1610  04F0  7E          	ld	a,(hl)
1611  04F1  D6 10       	sub	a,0x10
1612  04F3  28 04       	jr	Z,l_spr_page_left_00102
1613  04F5  2E 00       	ld	l,0x00
1614  04F7  18 14       	jr	l_spr_page_left_00105
1615  04F9              l_spr_page_left_00102:
1616  04F9  21 00 00    	ld	hl,_scr_curr
1617  04FC  7E          	ld	a, (hl)
1618  04FD  B7          	or	a, a
1619  04FE  28 0B       	jr	Z,l_spr_page_left_00104
1620  0500  35          	dec	(hl)
1621  0501  CD 0E 05    	call	_spr_page_map
1622  0504  CD 1F 08    	call	_spr_draw_map
1623  0507  2E 01       	ld	l,0x01
1624  0509  18 02       	jr	l_spr_page_left_00105
1625  050B              l_spr_page_left_00104:
1626  050B  2E 00       	ld	l,0x00
1627  050D              l_spr_page_left_00105:
1628  050D  C9          	ret
1629  050E              	SECTION code_compiler
1630  050E              ;	---------------------------------
1631  050E              ; Function spr_page_map
1632  050E              ; ---------------------------------
1633  050E              _spr_page_map:
1634  050E  CD 00 00    	call	___sdcc_enter_ix
1635  0511  F5          	push	af
1636  0512  3E 10       	ld	a,0x10
1637  0514  F5          	push	af
1638  0515  33          	inc	sp
1639  0516  0E 00       	ld	c,0x00
1640  0518              l_spr_page_map_00123:
1641  0518  3E 07       	ld	a,0x07
1642  051A  21 00 00    	ld	hl,_scr_curr
1643  051D  96          	sub	a, (hl)
1644  051E  DA E8 05    	jp	C, l_spr_page_map_00109
1645  0521  59          	ld	e, c
1646  0522  16 00       	ld	d,0x00
1647  0524  13          	inc	de
1648  0525  D5          	push	de
1649  0526  5E          	ld	e, (hl)
1650  0527  16 00       	ld	d,0x00
1651  0529  21 31 05    	ld	hl,l_spr_page_map_00167
1652  052C  19          	add	hl, de
1653  052D  19          	add	hl, de
1654  052E  19          	add	hl, de
1655  052F  D1          	pop	de
1656  0530  E9          	jp	(hl)
1657  0531              l_spr_page_map_00167:
1658  0531  C3 49 05    	jp	l_spr_page_map_00101
1659  0534  C3 5E 05    	jp	l_spr_page_map_00102
1660  0537  C3 72 05    	jp	l_spr_page_map_00103
1661  053A  C3 86 05    	jp	l_spr_page_map_00104
1662  053D  C3 9A 05    	jp	l_spr_page_map_00105
1663  0540  C3 AE 05    	jp	l_spr_page_map_00106
1664  0543  C3 C2 05    	jp	l_spr_page_map_00107
1665  0546  C3 D6 05    	jp	l_spr_page_map_00108
1666  0549              l_spr_page_map_00101:
1667  0549  06 00       	ld	b,0x00
1668  054B  21 00 00    	ld	hl,_scr_0
1669  054E  09          	add	hl, bc
1670  054F  7E          	ld	a, (hl)
1671  0550  DD 77 FF    	ld	(ix-1),a
1672  0553  21 00 00    	ld	hl,_scr_0
1673  0556  19          	add	hl, de
1674  0557  7E          	ld	a, (hl)
1675  0558  DD 77 FE    	ld	(ix-2),a
1676  055B  C3 E8 05    	jp	l_spr_page_map_00109
1677  055E              l_spr_page_map_00102:
1678  055E  06 00       	ld	b,0x00
1679  0560  21 00 00    	ld	hl,_scr_1
1680  0563  09          	add	hl, bc
1681  0564  7E          	ld	a, (hl)
1682  0565  DD 77 FF    	ld	(ix-1),a
1683  0568  21 00 00    	ld	hl,_scr_1
1684  056B  19          	add	hl, de
1685  056C  7E          	ld	a, (hl)
1686  056D  DD 77 FE    	ld	(ix-2),a
1687  0570  18 76       	jr	l_spr_page_map_00109
1688  0572              l_spr_page_map_00103:
1689  0572  06 00       	ld	b,0x00
1690  0574  21 00 00    	ld	hl,_scr_2
1691  0577  09          	add	hl, bc
1692  0578  7E          	ld	a, (hl)
1693  0579  DD 77 FF    	ld	(ix-1),a
1694  057C  21 00 00    	ld	hl,_scr_2
1695  057F  19          	add	hl, de
1696  0580  7E          	ld	a, (hl)
1697  0581  DD 77 FE    	ld	(ix-2),a
1698  0584  18 62       	jr	l_spr_page_map_00109
1699  0586              l_spr_page_map_00104:
1700  0586  06 00       	ld	b,0x00
1701  0588  21 00 00    	ld	hl,_scr_3
1702  058B  09          	add	hl, bc
1703  058C  7E          	ld	a, (hl)
1704  058D  DD 77 FF    	ld	(ix-1),a
1705  0590  21 00 00    	ld	hl,_scr_3
1706  0593  19          	add	hl, de
1707  0594  7E          	ld	a, (hl)
1708  0595  DD 77 FE    	ld	(ix-2),a
1709  0598  18 4E       	jr	l_spr_page_map_00109
1710  059A              l_spr_page_map_00105:
1711  059A  06 00       	ld	b,0x00
1712  059C  21 00 00    	ld	hl,_scr_4
1713  059F  09          	add	hl, bc
1714  05A0  7E          	ld	a, (hl)
1715  05A1  DD 77 FF    	ld	(ix-1),a
1716  05A4  21 00 00    	ld	hl,_scr_4
1717  05A7  19          	add	hl, de
1718  05A8  7E          	ld	a, (hl)
1719  05A9  DD 77 FE    	ld	(ix-2),a
1720  05AC  18 3A       	jr	l_spr_page_map_00109
1721  05AE              l_spr_page_map_00106:
1722  05AE  06 00       	ld	b,0x00
1723  05B0  21 00 00    	ld	hl,_scr_5
1724  05B3  09          	add	hl, bc
1725  05B4  7E          	ld	a, (hl)
1726  05B5  DD 77 FF    	ld	(ix-1),a
1727  05B8  21 00 00    	ld	hl,_scr_5
1728  05BB  19          	add	hl, de
1729  05BC  7E          	ld	a, (hl)
1730  05BD  DD 77 FE    	ld	(ix-2),a
1731  05C0  18 26       	jr	l_spr_page_map_00109
1732  05C2              l_spr_page_map_00107:
1733  05C2  06 00       	ld	b,0x00
1734  05C4  21 00 00    	ld	hl,_scr_6
1735  05C7  09          	add	hl, bc
1736  05C8  7E          	ld	a, (hl)
1737  05C9  DD 77 FF    	ld	(ix-1),a
1738  05CC  21 00 00    	ld	hl,_scr_6
1739  05CF  19          	add	hl, de
1740  05D0  7E          	ld	a, (hl)
1741  05D1  DD 77 FE    	ld	(ix-2),a
1742  05D4  18 12       	jr	l_spr_page_map_00109
1743  05D6              l_spr_page_map_00108:
1744  05D6  06 00       	ld	b,0x00
1745  05D8  21 00 00    	ld	hl,_scr_7
1746  05DB  09          	add	hl, bc
1747  05DC  7E          	ld	a, (hl)
1748  05DD  DD 77 FF    	ld	(ix-1),a
1749  05E0  21 00 00    	ld	hl,_scr_7
1750  05E3  19          	add	hl, de
1751  05E4  7E          	ld	a, (hl)
1752  05E5  DD 77 FE    	ld	(ix-2),a
1753  05E8              l_spr_page_map_00109:
1754  05E8  DD 7E FF    	ld	a,(ix-1)
1755  05EB  D6 80       	sub	a,0x80
1756  05ED  30 14       	jr	NC,l_spr_page_map_00114
1757  05EF  3E 00       	ld	a, +((_scr_map) & 0xFF)
1758  05F1  DD 86 FD    	add	a,(ix-3)
1759  05F4  5F          	ld	e, a
1760  05F5  3E 00       	ld	a, +((_scr_map) / 256)
1761  05F7  CE 00       	adc	a,0x00
1762  05F9  57          	ld	d, a
1763  05FA  DD 7E FF    	ld	a,(ix-1)
1764  05FD  12          	ld	(de), a
1765  05FE  DD 34 FD    	inc	(ix-3)
1766  0601  18 29       	jr	l_spr_page_map_00115
1767  0603              l_spr_page_map_00114:
1768  0603  DD 7E FF    	ld	a,(ix-1)
1769  0606  C6 80       	add	a,0x80
1770  0608  47          	ld	b, a
1771  0609  DD 5E FD    	ld	e,(ix-3)
1772  060C  16 00       	ld	d,0x00
1773  060E              l_spr_page_map_00121:
1774  060E  7A          	ld	a, d
1775  060F  90          	sub	a, b
1776  0610  30 16       	jr	NC,l_spr_page_map_00138
1777  0612  3E 00       	ld	a, +((_scr_map) & 0xFF)
1778  0614  83          	add	a, e
1779  0615  6F          	ld	l, a
1780  0616  3E 00       	ld	a, +((_scr_map) / 256)
1781  0618  CE 00       	adc	a,0x00
1782  061A  67          	ld	h, a
1783  061B  DD 7E FE    	ld	a,(ix-2)
1784  061E  77          	ld	(hl), a
1785  061F  1C          	inc	e
1786  0620  7B          	ld	a, e
1787  0621  D6 A0       	sub	a,0xa0
1788  0623  30 03       	jr	NC,l_spr_page_map_00138
1789  0625  14          	inc	d
1790  0626  18 E6       	jr	l_spr_page_map_00121
1791  0628              l_spr_page_map_00138:
1792  0628  DD 73 FD    	ld	(ix-3),e
1793  062B  0C          	inc	c
1794  062C              l_spr_page_map_00115:
1795  062C  DD 7E FD    	ld	a,(ix-3)
1796  062F  D6 A0       	sub	a,0xa0
1797  0631  30 07       	jr	NC,l_spr_page_map_00136
1798  0633  0C          	inc	c
1799  0634  79          	ld	a, c
1800  0635  D6 A0       	sub	a,0xa0
1801  0637  DA 18 05    	jp	C, l_spr_page_map_00123
1802  063A              l_spr_page_map_00136:
1803  063A  0E 00       	ld	c,0x00
1804  063C              l_spr_page_map_00125:
1805  063C  06 00       	ld	b,0x00
1806  063E  21 00 00    	ld	hl,_class
1807  0641  09          	add	hl, bc
1808  0642  36 00       	ld	(hl),0x00
1809  0644  C5          	push	bc
1810  0645  21 00 00    	ld	hl,0x0000
1811  0648  E5          	push	hl
1812  0649  AF          	xor	a, a
1813  064A  F5          	push	af
1814  064B  33          	inc	sp
1815  064C  79          	ld	a, c
1816  064D  F5          	push	af
1817  064E  33          	inc	sp
1818  064F  CD 00 00    	call	_NIRVANAP_spriteT_callee
1819  0652  C1          	pop	bc
1820  0653  0C          	inc	c
1821  0654  79          	ld	a, c
1822  0655  D6 07       	sub	a,0x07
1823  0657  38 E3       	jr	C,l_spr_page_map_00125
1824  0659  CD 4D 0D    	call	_spr_init_anim
1825  065C  CD 5F 0D    	call	_spr_init_bullet
1826  065F  DD F9       	ld	sp, ix
1827  0661  DD E1       	pop	ix
1828  0663  C9          	ret
1829  0664              	SECTION code_compiler
1830  0664              ;	---------------------------------
1831  0664              ; Function spr_redraw
1832  0664              ; ---------------------------------
1833  0664              _spr_redraw:
1834  0664  2A 00 00    	ld	hl,(_sprite)
1835  0667  26 00       	ld	h,0x00
1836  0669  01 00 00    	ld	bc,_tile
1837  066C  09          	add	hl,bc
1838  066D  4E          	ld	c, (hl)
1839  066E  3A 00 00    	ld	a,(_sprite)
1840  0671  5F          	ld	e,a
1841  0672  16 00       	ld	d,0x00
1842  0674  21 00 00    	ld	hl,_colint
1843  0677  19          	add	hl,de
1844  0678  7E          	ld	a,(hl)
1845  0679  81          	add	a,c
1846  067A  32 00 00    	ld	(_s_tile1),a
1847  067D  2A 00 00    	ld	hl,(_sprite)
1848  0680  26 00       	ld	h,0x00
1849  0682  01 00 00    	ld	bc,_col
1850  0685  09          	add	hl,bc
1851  0686  7E          	ld	a,(hl)
1852  0687  32 00 00    	ld	(_s_col1),a
1853  068A  2A 00 00    	ld	hl,(_sprite)
1854  068D  26 00       	ld	h,0x00
1855  068F  01 00 00    	ld	bc,_lin
1856  0692  09          	add	hl,bc
1857  0693  7E          	ld	a,(hl)
1858  0694  21 00 00    	ld	hl,_s_lin1
1859  0697  77          	ld	(hl),a
1860  0698  4F          	ld	c,a
1861  0699  7E          	ld	a, (hl)
1862  069A  21 00 00    	ld	hl,_s_lin0
1863  069D  96          	sub	a, (hl)
1864  069E  20 09       	jr	NZ,l_spr_redraw_00108
1865  06A0  3A 00 00    	ld	a,(_s_col1)
1866  06A3  21 00 00    	ld	hl,_s_col0
1867  06A6  96          	sub	a, (hl)
1868  06A7  28 33       	jr	Z,l_spr_redraw_00109
1869  06A9              l_spr_redraw_00108:
1870  06A9  3A 00 00    	ld	a,(_sprite)
1871  06AC  D6 07       	sub	a,0x07
1872  06AE  20 12       	jr	NZ,l_spr_redraw_00105
1873  06B0  3A 00 00    	ld	a,(_player_over_stair)
1874  06B3  B7          	or	a, a
1875  06B4  28 0C       	jr	Z,l_spr_redraw_00105
1876  06B6  79          	ld	a, c
1877  06B7  E6 03       	and	a,0x03
1878  06B9  20 07       	jr	NZ,l_spr_redraw_00105
1879  06BB  21 00 00    	ld	hl,_s_tile1
1880  06BE  34          	inc	(hl)
1881  06BF  34          	inc	(hl)
1882  06C0  34          	inc	(hl)
1883  06C1  34          	inc	(hl)
1884  06C2              l_spr_redraw_00105:
1885  06C2  2A FF FF    	ld	hl,(_s_col1 - 1)
1886  06C5  3A 00 00    	ld	a,(_s_lin1)
1887  06C8  6F          	ld	l,a
1888  06C9  E5          	push	hl
1889  06CA  2A FF FF    	ld	hl,(_s_tile1 - 1)
1890  06CD  3A 00 00    	ld	a,(_sprite)
1891  06D0  6F          	ld	l,a
1892  06D1  E5          	push	hl
1893  06D2  CD 00 00    	call	_NIRVANAP_spriteT_callee
1894  06D5  CD C8 0B    	call	_spr_back_repaint
1895  06D8  2E 01       	ld	l,0x01
1896  06DA  18 22       	jr	l_spr_redraw_00112
1897  06DC              l_spr_redraw_00109:
1898  06DC  3A 00 00    	ld	a,(_s_tile1)
1899  06DF  21 00 00    	ld	hl,_s_tile0
1900  06E2  96          	sub	a, (hl)
1901  06E3  28 17       	jr	Z,l_spr_redraw_00110
1902  06E5  2A FF FF    	ld	hl,(_s_col1 - 1)
1903  06E8  3A 00 00    	ld	a,(_s_lin1)
1904  06EB  6F          	ld	l,a
1905  06EC  E5          	push	hl
1906  06ED  2A FF FF    	ld	hl,(_s_tile1 - 1)
1907  06F0  3A 00 00    	ld	a,(_sprite)
1908  06F3  6F          	ld	l,a
1909  06F4  E5          	push	hl
1910  06F5  CD 00 00    	call	_NIRVANAP_spriteT_callee
1911  06F8  2E 00       	ld	l,0x00
1912  06FA  18 02       	jr	l_spr_redraw_00112
1913  06FC              l_spr_redraw_00110:
1914  06FC  2E 00       	ld	l,0x00
1915  06FE              l_spr_redraw_00112:
1916  06FE  C9          	ret
1917  06FF              	SECTION code_compiler
1918  06FF              ;	---------------------------------
1919  06FF              ; Function spr_destroy
1920  06FF              ; ---------------------------------
1921  06FF              _spr_destroy:
1922  06FF  CD 00 00    	call	___sdcc_enter_ix
1923  0702  F5          	push	af
1924  0703  4D          	ld	c, l
1925  0704  21 00 00    	ld	hl,_spr_count
1926  0707  35          	dec	(hl)
1927  0708  3E 00       	ld	a, +((_lin) & 0xFF)
1928  070A  81          	add	a, c
1929  070B  DD 77 FE    	ld	(ix-2),a
1930  070E  3E 00       	ld	a, +((_lin) / 256)
1931  0710  CE 00       	adc	a,0x00
1932  0712  DD 77 FF    	ld	(ix-1),a
1933  0715  E1          	pop	hl
1934  0716  7E          	ld	a,(hl)
1935  0717  E5          	push	hl
1936  0718  32 00 00    	ld	(_s_lin0),a
1937  071B  3E 00       	ld	a, +((_col) & 0xFF)
1938  071D  81          	add	a, c
1939  071E  5F          	ld	e, a
1940  071F  3E 00       	ld	a, +((_col) / 256)
1941  0721  CE 00       	adc	a,0x00
1942  0723  57          	ld	d, a
1943  0724  1A          	ld	a, (de)
1944  0725  32 00 00    	ld	(_s_col0),a
1945  0728  C5          	push	bc
1946  0729  D5          	push	de
1947  072A  21 00 00    	ld	hl,0x0000
1948  072D  E5          	push	hl
1949  072E  AF          	xor	a, a
1950  072F  F5          	push	af
1951  0730  33          	inc	sp
1952  0731  79          	ld	a, c
1953  0732  F5          	push	af
1954  0733  33          	inc	sp
1955  0734  CD 00 00    	call	_NIRVANAP_spriteT_callee
1956  0737  CD C8 0B    	call	_spr_back_repaint
1957  073A  D1          	pop	de
1958  073B  C1          	pop	bc
1959  073C  06 00       	ld	b,0x00
1960  073E  21 00 00    	ld	hl,_tile
1961  0741  09          	add	hl, bc
1962  0742  AF          	xor	a,a
1963  0743  77          	ld	(hl),a
1964  0744  E1          	pop	hl
1965  0745  12          	ld	(de),a
1966  0746  E5          	push	hl
1967  0747  36 00       	ld	(hl),0x00
1968  0749  11 00 00    	ld	de,_class+0
1969  074C  69          	ld	l,c
1970  074D  26 00       	ld	h,0x00
1971  074F  19          	add	hl, de
1972  0750  36 00       	ld	(hl),0x00
1973  0752  11 00 00    	ld	de,_state+0
1974  0755  69          	ld	l,c
1975  0756  26 00       	ld	h,0x00
1976  0758  19          	add	hl, de
1977  0759  36 00       	ld	(hl),0x00
1978  075B  11 00 00    	ld	de,_state_a+0
1979  075E  69          	ld	l,c
1980  075F  26 00       	ld	h,0x00
1981  0761  19          	add	hl, de
1982  0762  F1          	pop	af
1983  0763  36 00       	ld	(hl),0x00
1984  0765  DD E1       	pop	ix
1985  0767  C9          	ret
1986  0768              	SECTION code_compiler
1987  0768              ;	---------------------------------
1988  0768              ; Function spr_tile
1989  0768              ; ---------------------------------
1990  0768              _spr_tile:
1991  0768  45          	ld	b,l
1992  0769  11 00 00    	ld	de,_class+0
1993  076C  26 00       	ld	h,0x00
1994  076E  19          	add	hl, de
1995  076F  7E          	ld	a, (hl)
1996  0770  FE 01       	cp	a,0x01
1997  0772  28 12       	jr	Z,l_spr_tile_00101
1998  0774  FE 02       	cp	a,0x02
1999  0776  28 1D       	jr	Z,l_spr_tile_00102
2000  0778  FE 03       	cp	a,0x03
2001  077A  28 28       	jr	Z,l_spr_tile_00103
2002  077C  FE 04       	cp	a,0x04
2003  077E  28 34       	jr	Z,l_spr_tile_00104
2004  0780  D6 05       	sub	a,0x05
2005  0782  28 3F       	jr	Z,l_spr_tile_00105
2006  0784  18 4D       	jr	l_spr_tile_00106
2007  0786              l_spr_tile_00101:
2008  0786  AF          	xor	a, a
2009  0787  48          	ld	c,b
2010  0788  47          	ld	b,a
2011  0789  C5          	push	bc
2012  078A  3E 84       	ld	a,0x84
2013  078C  F5          	push	af
2014  078D  33          	inc	sp
2015  078E  CD D6 07    	call	_spr_tile_dir
2016  0791  F1          	pop	af
2017  0792  33          	inc	sp
2018  0793  18 40       	jr	l_spr_tile_00107
2019  0795              l_spr_tile_00102:
2020  0795  AF          	xor	a, a
2021  0796  48          	ld	c,b
2022  0797  47          	ld	b,a
2023  0798  C5          	push	bc
2024  0799  3E 88       	ld	a,0x88
2025  079B  F5          	push	af
2026  079C  33          	inc	sp
2027  079D  CD D6 07    	call	_spr_tile_dir
2028  07A0  F1          	pop	af
2029  07A1  33          	inc	sp
2030  07A2  18 31       	jr	l_spr_tile_00107
2031  07A4              l_spr_tile_00103:
2032  07A4  3E 02       	ld	a,0x02
2033  07A6  48          	ld	c,b
2034  07A7  47          	ld	b,a
2035  07A8  C5          	push	bc
2036  07A9  3E 8C       	ld	a,0x8c
2037  07AB  F5          	push	af
2038  07AC  33          	inc	sp
2039  07AD  CD D6 07    	call	_spr_tile_dir
2040  07B0  F1          	pop	af
2041  07B1  33          	inc	sp
2042  07B2  18 21       	jr	l_spr_tile_00107
2043  07B4              l_spr_tile_00104:
2044  07B4  AF          	xor	a, a
2045  07B5  48          	ld	c,b
2046  07B6  47          	ld	b,a
2047  07B7  C5          	push	bc
2048  07B8  3E 90       	ld	a,0x90
2049  07BA  F5          	push	af
2050  07BB  33          	inc	sp
2051  07BC  CD D6 07    	call	_spr_tile_dir
2052  07BF  F1          	pop	af
2053  07C0  33          	inc	sp
2054  07C1  18 12       	jr	l_spr_tile_00107
2055  07C3              l_spr_tile_00105:
2056  07C3  3E 04       	ld	a,0x04
2057  07C5  48          	ld	c,b
2058  07C6  47          	ld	b,a
2059  07C7  C5          	push	bc
2060  07C8  3E 94       	ld	a,0x94
2061  07CA  F5          	push	af
2062  07CB  33          	inc	sp
2063  07CC  CD D6 07    	call	_spr_tile_dir
2064  07CF  F1          	pop	af
2065  07D0  33          	inc	sp
2066  07D1  18 02       	jr	l_spr_tile_00107
2067  07D3              l_spr_tile_00106:
2068  07D3  2E 00       	ld	l,0x00
2069  07D5              l_spr_tile_00107:
2070  07D5  C9          	ret
2071  07D6              	SECTION code_compiler
2072  07D6              ;	---------------------------------
2073  07D6              ; Function spr_tile_dir
2074  07D6              ; ---------------------------------
2075  07D6              _spr_tile_dir:
2076  07D6  CD 00 00    	call	___sdcc_enter_ix
2077  07D9  3E 00       	ld	a, +((_state) & 0xFF)
2078  07DB  DD 86 05    	add	a,(ix+5)
2079  07DE  4F          	ld	c, a
2080  07DF  3E 00       	ld	a, +((_state) / 256)
2081  07E1  CE 00       	adc	a,0x00
2082  07E3  47          	ld	b, a
2083  07E4  0A          	ld	a, (bc)
2084  07E5  4F          	ld	c,a
2085  07E6  CB 57       	bit	2,a
2086  07E8  28 05       	jr	Z,l_spr_tile_dir_00102
2087  07EA  DD 6E 04    	ld	l,(ix+4)
2088  07ED  18 2D       	jr	l_spr_tile_dir_00109
2089  07EF              l_spr_tile_dir_00102:
2090  07EF  DD 7E 04    	ld	a,(ix+4)
2091  07F2  DD 86 06    	add	a,(ix+6)
2092  07F5  47          	ld	b, a
2093  07F6  CB 59       	bit	3, c
2094  07F8  28 03       	jr	Z,l_spr_tile_dir_00104
2095  07FA  68          	ld	l, b
2096  07FB  18 1F       	jr	l_spr_tile_dir_00109
2097  07FD              l_spr_tile_dir_00104:
2098  07FD  3E 00       	ld	a, +((_state_a) & 0xFF)
2099  07FF  DD 86 05    	add	a,(ix+5)
2100  0802  5F          	ld	e, a
2101  0803  3E 00       	ld	a, +((_state_a) / 256)
2102  0805  CE 00       	adc	a,0x00
2103  0807  57          	ld	d, a
2104  0808  1A          	ld	a, (de)
2105  0809  CB 67       	bit	4, a
2106  080B  28 05       	jr	Z,l_spr_tile_dir_00106
2107  080D  DD 6E 04    	ld	l,(ix+4)
2108  0810  18 0A       	jr	l_spr_tile_dir_00109
2109  0812              l_spr_tile_dir_00106:
2110  0812  CB 5F       	bit	3, a
2111  0814  28 03       	jr	Z,l_spr_tile_dir_00108
2112  0816  68          	ld	l, b
2113  0817  18 03       	jr	l_spr_tile_dir_00109
2114  0819              l_spr_tile_dir_00108:
2115  0819  DD 6E 04    	ld	l,(ix+4)
2116  081C              l_spr_tile_dir_00109:
2117  081C  DD E1       	pop	ix
2118  081E  C9          	ret
2119  081F              	SECTION code_compiler
2120  081F              ;	---------------------------------
2121  081F              ; Function spr_draw_map
2122  081F              ; ---------------------------------
2123  081F              _spr_draw_map:
2124  081F  76          	halt
2125  0820  21 10 00    	ld	hl,0x0010
2126  0823  22 00 00    	ld	(_index1),hl
2127  0826  21 00 00    	ld	hl,_s_lin1
2128  0829  36 00       	ld	(hl),0x00
2129  082B  21 00 00    	ld	hl,_s_col1
2130  082E  36 02       	ld	(hl),0x02
2131  0830  21 00 00    	ld	hl,_spr_count
2132  0833  36 00       	ld	(hl),0x00
2133  0835  F3          	di
2134  0836              l_spr_draw_map_00117:
2135  0836  21 00 00    	ld	hl,_index1
2136  0839  7E          	ld	a, (hl)
2137  083A  D6 A0       	sub	a,0xa0
2138  083C  23          	inc	hl
2139  083D  7E          	ld	a, (hl)
2140  083E  DE 00       	sbc	a,0x00
2141  0840  D2 9A 09    	jp	NC, l_spr_draw_map_00119
2142  0843  2B          	dec	hl
2143  0844  7E          	ld	a, (hl)
2144  0845  E6 0F       	and	a,0x0f
2145  0847  20 0C       	jr	NZ,l_spr_draw_map_00102
2146  0849  21 00 00    	ld	hl,_s_lin1
2147  084C  7E          	ld	a, (hl)
2148  084D  C6 10       	add	a,0x10
2149  084F  77          	ld	(hl), a
2150  0850  21 00 00    	ld	hl,_s_col1
2151  0853  36 00       	ld	(hl),0x00
2152  0855              l_spr_draw_map_00102:
2153  0855  01 00 00    	ld	bc,_scr_map
2154  0858  2A 00 00    	ld	hl,(_index1)
2155  085B  09          	add	hl,bc
2156  085C  7E          	ld	a,(hl)
2157  085D  47          	ld	b,a
2158  085E  D6 54       	sub	a,0x54
2159  0860  3E 00       	ld	a,0x00
2160  0862  17          	rla
2161  0863  B7          	or	a, a
2162  0864  28 11       	jr	Z,l_spr_draw_map_00115
2163  0866  3A 00 00    	ld	a,(_s_col1)
2164  0869  F5          	push	af
2165  086A  33          	inc	sp
2166  086B  3A 00 00    	ld	a,(_s_lin1)
2167  086E  48          	ld	c,b
2168  086F  47          	ld	b,a
2169  0870  C5          	push	bc
2170  0871  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2171  0874  C3 89 09    	jp	l_spr_draw_map_00116
2172  0877              l_spr_draw_map_00115:
2173  0877  B7          	or	a, a
2174  0878  C2 80 09    	jp	NZ, l_spr_draw_map_00113
2175  087B  3E 5D       	ld	a,0x5d
2176  087D  90          	sub	a, b
2177  087E  DA 80 09    	jp	C, l_spr_draw_map_00113
2178  0881  78          	ld	a, b
2179  0882  C6 AC       	add	a,0xac
2180  0884  4F          	ld	c, a
2181  0885  06 00       	ld	b,0x00
2182  0887  21 8E 08    	ld	hl,l_spr_draw_map_00148
2183  088A  09          	add	hl, bc
2184  088B  09          	add	hl, bc
2185  088C  09          	add	hl, bc
2186  088D  E9          	jp	(hl)
2187  088E              l_spr_draw_map_00148:
2188  088E  C3 C2 08    	jp	l_spr_draw_map_00104
2189  0891  C3 AC 08    	jp	l_spr_draw_map_00103
2190  0894  C3 EE 08    	jp	l_spr_draw_map_00106
2191  0897  C3 D8 08    	jp	l_spr_draw_map_00105
2192  089A  C3 19 09    	jp	l_spr_draw_map_00108
2193  089D  C3 04 09    	jp	l_spr_draw_map_00107
2194  08A0  C3 43 09    	jp	l_spr_draw_map_00110
2195  08A3  C3 2E 09    	jp	l_spr_draw_map_00109
2196  08A6  C3 6D 09    	jp	l_spr_draw_map_00112
2197  08A9  C3 58 09    	jp	l_spr_draw_map_00111
2198  08AC              l_spr_draw_map_00103:
2199  08AC  3A 00 00    	ld	a,(_s_col1)
2200  08AF  21 01 01    	ld	hl,0x0101
2201  08B2  E5          	push	hl
2202  08B3  F5          	push	af
2203  08B4  33          	inc	sp
2204  08B5  3A 00 00    	ld	a,(_s_lin1)
2205  08B8  F5          	push	af
2206  08B9  33          	inc	sp
2207  08BA  CD 00 00    	call	_enemy_init
2208  08BD  F1          	pop	af
2209  08BE  F1          	pop	af
2210  08BF  C3 80 09    	jp	l_spr_draw_map_00113
2211  08C2              l_spr_draw_map_00104:
2212  08C2  3A 00 00    	ld	a,(_s_col1)
2213  08C5  21 01 FF    	ld	hl,0xff01
2214  08C8  E5          	push	hl
2215  08C9  F5          	push	af
2216  08CA  33          	inc	sp
2217  08CB  3A 00 00    	ld	a,(_s_lin1)
2218  08CE  F5          	push	af
2219  08CF  33          	inc	sp
2220  08D0  CD 00 00    	call	_enemy_init
2221  08D3  F1          	pop	af
2222  08D4  F1          	pop	af
2223  08D5  C3 80 09    	jp	l_spr_draw_map_00113
2224  08D8              l_spr_draw_map_00105:
2225  08D8  3A 00 00    	ld	a,(_s_col1)
2226  08DB  21 02 01    	ld	hl,0x0102
2227  08DE  E5          	push	hl
2228  08DF  F5          	push	af
2229  08E0  33          	inc	sp
2230  08E1  3A 00 00    	ld	a,(_s_lin1)
2231  08E4  F5          	push	af
2232  08E5  33          	inc	sp
2233  08E6  CD 00 00    	call	_enemy_init
2234  08E9  F1          	pop	af
2235  08EA  F1          	pop	af
2236  08EB  C3 80 09    	jp	l_spr_draw_map_00113
2237  08EE              l_spr_draw_map_00106:
2238  08EE  3A 00 00    	ld	a,(_s_col1)
2239  08F1  21 02 FF    	ld	hl,0xff02
2240  08F4  E5          	push	hl
2241  08F5  F5          	push	af
2242  08F6  33          	inc	sp
2243  08F7  3A 00 00    	ld	a,(_s_lin1)
2244  08FA  F5          	push	af
2245  08FB  33          	inc	sp
2246  08FC  CD 00 00    	call	_enemy_init
2247  08FF  F1          	pop	af
2248  0900  F1          	pop	af
2249  0901  C3 80 09    	jp	l_spr_draw_map_00113
2250  0904              l_spr_draw_map_00107:
2251  0904  3A 00 00    	ld	a,(_s_col1)
2252  0907  21 03 01    	ld	hl,0x0103
2253  090A  E5          	push	hl
2254  090B  F5          	push	af
2255  090C  33          	inc	sp
2256  090D  3A 00 00    	ld	a,(_s_lin1)
2257  0910  F5          	push	af
2258  0911  33          	inc	sp
2259  0912  CD 00 00    	call	_enemy_init
2260  0915  F1          	pop	af
2261  0916  F1          	pop	af
2262  0917  18 67       	jr	l_spr_draw_map_00113
2263  0919              l_spr_draw_map_00108:
2264  0919  3A 00 00    	ld	a,(_s_col1)
2265  091C  21 03 FF    	ld	hl,0xff03
2266  091F  E5          	push	hl
2267  0920  F5          	push	af
2268  0921  33          	inc	sp
2269  0922  3A 00 00    	ld	a,(_s_lin1)
2270  0925  F5          	push	af
2271  0926  33          	inc	sp
2272  0927  CD 00 00    	call	_enemy_init
2273  092A  F1          	pop	af
2274  092B  F1          	pop	af
2275  092C  18 52       	jr	l_spr_draw_map_00113
2276  092E              l_spr_draw_map_00109:
2277  092E  3A 00 00    	ld	a,(_s_col1)
2278  0931  21 04 01    	ld	hl,0x0104
2279  0934  E5          	push	hl
2280  0935  F5          	push	af
2281  0936  33          	inc	sp
2282  0937  3A 00 00    	ld	a,(_s_lin1)
2283  093A  F5          	push	af
2284  093B  33          	inc	sp
2285  093C  CD 00 00    	call	_enemy_init
2286  093F  F1          	pop	af
2287  0940  F1          	pop	af
2288  0941  18 3D       	jr	l_spr_draw_map_00113
2289  0943              l_spr_draw_map_00110:
2290  0943  3A 00 00    	ld	a,(_s_col1)
2291  0946  21 04 FF    	ld	hl,0xff04
2292  0949  E5          	push	hl
2293  094A  F5          	push	af
2294  094B  33          	inc	sp
2295  094C  3A 00 00    	ld	a,(_s_lin1)
2296  094F  F5          	push	af
2297  0950  33          	inc	sp
2298  0951  CD 00 00    	call	_enemy_init
2299  0954  F1          	pop	af
2300  0955  F1          	pop	af
2301  0956  18 28       	jr	l_spr_draw_map_00113
2302  0958              l_spr_draw_map_00111:
2303  0958  3A 00 00    	ld	a,(_s_col1)
2304  095B  21 05 01    	ld	hl,0x0105
2305  095E  E5          	push	hl
2306  095F  F5          	push	af
2307  0960  33          	inc	sp
2308  0961  3A 00 00    	ld	a,(_s_lin1)
2309  0964  F5          	push	af
2310  0965  33          	inc	sp
2311  0966  CD 00 00    	call	_enemy_init
2312  0969  F1          	pop	af
2313  096A  F1          	pop	af
2314  096B  18 13       	jr	l_spr_draw_map_00113
2315  096D              l_spr_draw_map_00112:
2316  096D  3A 00 00    	ld	a,(_s_col1)
2317  0970  21 05 FF    	ld	hl,0xff05
2318  0973  E5          	push	hl
2319  0974  F5          	push	af
2320  0975  33          	inc	sp
2321  0976  3A 00 00    	ld	a,(_s_lin1)
2322  0979  F5          	push	af
2323  097A  33          	inc	sp
2324  097B  CD 00 00    	call	_enemy_init
2325  097E  F1          	pop	af
2326  097F  F1          	pop	af
2327  0980              l_spr_draw_map_00113:
2328  0980  01 00 00    	ld	bc,_scr_map
2329  0983  2A 00 00    	ld	hl,(_index1)
2330  0986  09          	add	hl,bc
2331  0987  AF          	xor	a,a
2332  0988  77          	ld	(hl),a
2333  0989              l_spr_draw_map_00116:
2334  0989  21 00 00    	ld	hl,_s_col1
2335  098C  34          	inc	(hl)
2336  098D  34          	inc	(hl)
2337  098E  21 00 00    	ld	hl,_index1
2338  0991  34          	inc	(hl)
2339  0992  C2 36 08    	jp	NZ,l_spr_draw_map_00117
2340  0995  23          	inc	hl
2341  0996  34          	inc	(hl)
2342  0997  C3 36 08    	jp	l_spr_draw_map_00117
2343  099A              l_spr_draw_map_00119:
2344  099A  FB          	ei
2345  099B  C9          	ret
2346  099C              	SECTION code_compiler
2347  099C              ;	---------------------------------
2348  099C              ; Function spr_draw_clear
2349  099C              ; ---------------------------------
2350  099C              _spr_draw_clear:
2351  099C  F3          	di
2352  099D  2E 00       	ld	l,0x00
2353  099F  CD 00 00    	call	_zx_cls_fastcall
2354  09A2  21 00 00    	ld	hl,_s_lin1
2355  09A5  36 10       	ld	(hl),0x10
2356  09A7              l_spr_draw_clear_00105:
2357  09A7  21 00 00    	ld	hl,_s_col1
2358  09AA  36 00       	ld	(hl),0x00
2359  09AC              l_spr_draw_clear_00103:
2360  09AC  2A FF FF    	ld	hl,(_s_col1 - 1)
2361  09AF  3A 00 00    	ld	a,(_s_lin1)
2362  09B2  6F          	ld	l,a
2363  09B3  E5          	push	hl
2364  09B4  AF          	xor	a, a
2365  09B5  F5          	push	af
2366  09B6  33          	inc	sp
2367  09B7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2368  09BA  21 00 00    	ld	hl,_s_col1
2369  09BD  7E          	ld	a,(hl)
2370  09BE  C6 02       	add	a,0x02
2371  09C0  77          	ld	(hl),a
2372  09C1  D6 20       	sub	a,0x20
2373  09C3  38 E7       	jr	C,l_spr_draw_clear_00103
2374  09C5  21 00 00    	ld	hl,_s_lin1
2375  09C8  7E          	ld	a, (hl)
2376  09C9  C6 10       	add	a,0x10
2377  09CB  77          	ld	(hl), a
2378  09CC  3E A2       	ld	a,0xa2
2379  09CE  96          	sub	a, (hl)
2380  09CF  30 D6       	jr	NC,l_spr_draw_clear_00105
2381  09D1  FB          	ei
2382  09D2  C9          	ret
2383  09D3              	SECTION code_compiler
2384  09D3              ;	---------------------------------
2385  09D3              ; Function spr_brick_anim
2386  09D3              ; ---------------------------------
2387  09D3              _spr_brick_anim:
2388  09D3  CD 00 00    	call	___sdcc_enter_ix
2389  09D6  F5          	push	af
2390  09D7  DD 75 FF    	ld	(ix-1),l
2391  09DA  21 00 00    	ld	hl,_player_hit_col
2392  09DD  46          	ld	b, (hl)
2393  09DE  21 00 00    	ld	hl,_player_hit_lin
2394  09E1  4E          	ld	c, (hl)
2395  09E2  C5          	push	bc
2396  09E3  C5          	push	bc
2397  09E4  CD 00 00    	call	_spr_calc_index
2398  09E7  F1          	pop	af
2399  09E8  C1          	pop	bc
2400  09E9  22 00 00    	ld	(_index1),hl
2401  09EC  11 F0 FF    	ld	de,0xfff0
2402  09EF  19          	add	hl,de
2403  09F0  11 00 00    	ld	de,_scr_map
2404  09F3  19          	add	hl, de
2405  09F4  7E          	ld	a, (hl)
2406  09F5  DD 77 FE    	ld	(ix-2),a
2407  09F8  11 00 00    	ld	de,_scr_map
2408  09FB  2A 00 00    	ld	hl,(_index1)
2409  09FE  19          	add	hl,de
2410  09FF  66          	ld	h, (hl)
2411  0A00  EB          	ex	de,hl
2412  0A01  DD 7E FF    	ld	a,(ix-1)
2413  0A04  B7          	or	a, a
2414  0A05  28 08       	jr	Z,l_spr_brick_anim_00102
2415  0A07  79          	ld	a, c
2416  0A08  C6 F6       	add	a,0xf6
2417  0A0A  32 00 00    	ld	(_tmp),a
2418  0A0D  18 06       	jr	l_spr_brick_anim_00103
2419  0A0F              l_spr_brick_anim_00102:
2420  0A0F  79          	ld	a, c
2421  0A10  C6 F8       	add	a,0xf8
2422  0A12  32 00 00    	ld	(_tmp),a
2423  0A15              l_spr_brick_anim_00103:
2424  0A15  F3          	di
2425  0A16  DD 7E FF    	ld	a,(ix-1)
2426  0A19  B7          	or	a, a
2427  0A1A  28 18       	jr	Z,l_spr_brick_anim_00105
2428  0A1C  C5          	push	bc
2429  0A1D  D5          	push	de
2430  0A1E  C5          	push	bc
2431  0A1F  33          	inc	sp
2432  0A20  51          	ld	d,c
2433  0A21  1E 49       	ld	e,0x49
2434  0A23  D5          	push	de
2435  0A24  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2436  0A27  D1          	pop	de
2437  0A28  33          	inc	sp
2438  0A29  3A 00 00    	ld	a,(_tmp)
2439  0A2C  5A          	ld	e,d
2440  0A2D  57          	ld	d,a
2441  0A2E  D5          	push	de
2442  0A2F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2443  0A32  18 1C       	jr	l_spr_brick_anim_00106
2444  0A34              l_spr_brick_anim_00105:
2445  0A34  3A 00 00    	ld	a,(_tmp)
2446  0A37  C6 F0       	add	a,0xf0
2447  0A39  C5          	push	bc
2448  0A3A  D5          	push	de
2449  0A3B  4F          	ld	c,a
2450  0A3C  C5          	push	bc
2451  0A3D  DD 7E FE    	ld	a,(ix-2)
2452  0A40  F5          	push	af
2453  0A41  33          	inc	sp
2454  0A42  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2455  0A45  D1          	pop	de
2456  0A46  33          	inc	sp
2457  0A47  3A 00 00    	ld	a,(_tmp)
2458  0A4A  5A          	ld	e,d
2459  0A4B  57          	ld	d,a
2460  0A4C  D5          	push	de
2461  0A4D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2462  0A50              l_spr_brick_anim_00106:
2463  0A50  FB          	ei
2464  0A51  F1          	pop	af
2465  0A52  DD E1       	pop	ix
2466  0A54  C9          	ret
2467  0A55              	SECTION code_compiler
2468  0A55              ;	---------------------------------
2469  0A55              ; Function spr_draw_index
2470  0A55              ; ---------------------------------
2471  0A55              _spr_draw_index:
2472  0A55  CD 00 00    	call	___sdcc_enter_ix
2473  0A58  DD 7E 04    	ld	a,(ix+4)
2474  0A5B  E6 1F       	and	a,0x1f
2475  0A5D  32 00 00    	ld	(_s_col1),a
2476  0A60  DD 4E 04    	ld	c,(ix+4)
2477  0A63  DD 5E 05    	ld	e,(ix+5)
2478  0A66  06 05       	ld	b,0x05
2479  0A68  79          	ld	a,c
2480  0A69              l_spr_draw_index_00103:
2481  0A69  CB 3B       	srl	e
2482  0A6B  1F          	rra
2483  0A6C  10 FB       	djnz	l_spr_draw_index_00103
2484  0A6E  21 00 00    	ld	hl,_s_lin1
2485  0A71  77          	ld	(hl),a
2486  0A72  07          	rlca
2487  0A73  07          	rlca
2488  0A74  07          	rlca
2489  0A75  E6 F8       	and	a,0xf8
2490  0A77  77          	ld	(hl), a
2491  0A78  3E 00       	ld	a, +((_scr_map) & 0xFF)
2492  0A7A  DD 86 04    	add	a,(ix+4)
2493  0A7D  4F          	ld	c, a
2494  0A7E  3E 00       	ld	a, +((_scr_map) / 256)
2495  0A80  DD 8E 05    	adc	a,(ix+5)
2496  0A83  47          	ld	b, a
2497  0A84  0A          	ld	a, (bc)
2498  0A85  47          	ld	b, a
2499  0A86  3A 00 00    	ld	a,(_s_col1)
2500  0A89  F5          	push	af
2501  0A8A  33          	inc	sp
2502  0A8B  3A 00 00    	ld	a,(_s_lin1)
2503  0A8E  48          	ld	c,b
2504  0A8F  47          	ld	b,a
2505  0A90  C5          	push	bc
2506  0A91  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2507  0A94  DD E1       	pop	ix
2508  0A96  C9          	ret
2509  0A97              	SECTION code_compiler
2510  0A97              ;	---------------------------------
2511  0A97              ; Function spr_draw_row
2512  0A97              ; ---------------------------------
2513  0A97              _spr_draw_row:
2514  0A97  CD 00 00    	call	___sdcc_enter_ix
2515  0A9A  3B          	dec	sp
2516  0A9B  F3          	di
2517  0A9C  21 00 00    	ld	hl,_tmp
2518  0A9F  36 00       	ld	(hl),0x00
2519  0AA1  DD 7E 04    	ld	a,(ix+4)
2520  0AA4  07          	rlca
2521  0AA5  07          	rlca
2522  0AA6  07          	rlca
2523  0AA7  E6 F8       	and	a,0xf8
2524  0AA9  DD 77 FF    	ld	(ix-1),a
2525  0AAC              l_spr_draw_row_00101:
2526  0AAC  21 00 00    	ld	hl,_tmp
2527  0AAF  7E          	ld	a, (hl)
2528  0AB0  D6 20       	sub	a,0x20
2529  0AB2  30 38       	jr	NC,l_spr_draw_row_00103
2530  0AB4  DD 4E 04    	ld	c,(ix+4)
2531  0AB7  3E 00       	ld	a,0x00
2532  0AB9  CB 21       	sla	c
2533  0ABB  17          	rla
2534  0ABC  CB 21       	sla	c
2535  0ABE  17          	rla
2536  0ABF  CB 21       	sla	c
2537  0AC1  17          	rla
2538  0AC2  CB 21       	sla	c
2539  0AC4  17          	rla
2540  0AC5  CB 21       	sla	c
2541  0AC7  17          	rla
2542  0AC8  47          	ld	b,a
2543  0AC9  5E          	ld	e, (hl)
2544  0ACA  16 00       	ld	d,0x00
2545  0ACC  79          	ld	a, c
2546  0ACD  83          	add	a, e
2547  0ACE  21 00 00    	ld	hl,_index1
2548  0AD1  77          	ld	(hl), a
2549  0AD2  78          	ld	a, b
2550  0AD3  8A          	adc	a, d
2551  0AD4  23          	inc	hl
2552  0AD5  77          	ld	(hl), a
2553  0AD6  2A FF FF    	ld	hl,(_tmp-1)
2554  0AD9  DD 6E FF    	ld	l,(ix-1)
2555  0ADC  3A 00 00    	ld	a,(_game_brick_tile)
2556  0ADF  E5          	push	hl
2557  0AE0  F5          	push	af
2558  0AE1  33          	inc	sp
2559  0AE2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2560  0AE5  21 00 00    	ld	hl,_tmp
2561  0AE8  34          	inc	(hl)
2562  0AE9  34          	inc	(hl)
2563  0AEA  18 C0       	jr	l_spr_draw_row_00101
2564  0AEC              l_spr_draw_row_00103:
2565  0AEC  FB          	ei
2566  0AED  33          	inc	sp
2567  0AEE  DD E1       	pop	ix
2568  0AF0  C9          	ret
2569  0AF1              	SECTION code_compiler
2570  0AF1              ;	---------------------------------
2571  0AF1              ; Function spr_calc_hor
2572  0AF1              ; ---------------------------------
2573  0AF1              _spr_calc_hor:
2574  0AF1  CD 00 00    	call	___sdcc_enter_ix
2575  0AF4  3E 00       	ld	a, +((_col) & 0xFF)
2576  0AF6  DD 86 04    	add	a,(ix+4)
2577  0AF9  4F          	ld	c, a
2578  0AFA  3E 00       	ld	a, +((_col) / 256)
2579  0AFC  CE 00       	adc	a,0x00
2580  0AFE  47          	ld	b, a
2581  0AFF  0A          	ld	a, (bc)
2582  0B00  5F          	ld	e, a
2583  0B01  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2584  0B03  DD 86 04    	add	a,(ix+4)
2585  0B06  4F          	ld	c, a
2586  0B07  3E 00       	ld	a, +((_sprite_frames) / 256)
2587  0B09  CE 00       	adc	a,0x00
2588  0B0B  47          	ld	b, a
2589  0B0C  0A          	ld	a, (bc)
2590  0B0D  67          	ld	h, a
2591  0B0E  2E 00       	ld	l,0x00
2592  0B10  55          	ld	d, l
2593  0B11  06 08       	ld	b,0x08
2594  0B13              l_spr_calc_hor_00103:
2595  0B13  29          	add	hl, hl
2596  0B14  30 01       	jr	NC,l_spr_calc_hor_00104
2597  0B16  19          	add	hl, de
2598  0B17              l_spr_calc_hor_00104:
2599  0B17  10 FA       	djnz	l_spr_calc_hor_00103
2600  0B19  DD E1       	pop	ix
2601  0B1B  C9          	ret
2602  0B1C              	SECTION code_compiler
2603  0B1C              ;	---------------------------------
2604  0B1C              ; Function spr_collision_check
2605  0B1C              ; ---------------------------------
2606  0B1C              _spr_collision_check:
2607  0B1C  CD 00 00    	call	___sdcc_enter_ix
2608  0B1F  3E 00       	ld	a, +((_class) & 0xFF)
2609  0B21  DD 86 05    	add	a,(ix+5)
2610  0B24  4F          	ld	c, a
2611  0B25  3E 00       	ld	a, +((_class) / 256)
2612  0B27  CE 00       	adc	a,0x00
2613  0B29  47          	ld	b, a
2614  0B2A  0A          	ld	a, (bc)
2615  0B2B  B7          	or	a, a
2616  0B2C  28 10       	jr	Z,l_spr_collision_check_00101
2617  0B2E  3E 00       	ld	a, +((_state) & 0xFF)
2618  0B30  DD 86 05    	add	a,(ix+5)
2619  0B33  4F          	ld	c, a
2620  0B34  3E 00       	ld	a, +((_state) / 256)
2621  0B36  CE 00       	adc	a,0x00
2622  0B38  47          	ld	b, a
2623  0B39  0A          	ld	a, (bc)
2624  0B3A  CB 6F       	bit	5, a
2625  0B3C  28 04       	jr	Z,l_spr_collision_check_00102
2626  0B3E              l_spr_collision_check_00101:
2627  0B3E  2E 00       	ld	l,0x00
2628  0B40  18 6D       	jr	l_spr_collision_check_00109
2629  0B42              l_spr_collision_check_00102:
2630  0B42  01 00 00    	ld	bc,_lin+0
2631  0B45  79          	ld	a, c
2632  0B46  DD 86 05    	add	a,(ix+5)
2633  0B49  5F          	ld	e, a
2634  0B4A  78          	ld	a, b
2635  0B4B  CE 00       	adc	a,0x00
2636  0B4D  57          	ld	d, a
2637  0B4E  1A          	ld	a, (de)
2638  0B4F  5F          	ld	e, a
2639  0B50  16 00       	ld	d,0x00
2640  0B52  79          	ld	a, c
2641  0B53  DD 86 04    	add	a,(ix+4)
2642  0B56  4F          	ld	c, a
2643  0B57  78          	ld	a, b
2644  0B58  CE 00       	adc	a,0x00
2645  0B5A  47          	ld	b, a
2646  0B5B  0A          	ld	a, (bc)
2647  0B5C  4F          	ld	c, a
2648  0B5D  AF          	xor	a,a
2649  0B5E  47          	ld	b,a
2650  0B5F  EB          	ex	de,hl
2651  0B60  ED 42       	sbc	hl,bc
2652  0B62  CD 00 00    	call	_abs_fastcall
2653  0B65  22 00 00    	ld	(_tmp_ui),hl
2654  0B68  21 01 00    	ld	hl,_tmp_ui + 1
2655  0B6B  DD 7E 06    	ld	a,(ix+6)
2656  0B6E  06 00       	ld	b,0x00
2657  0B70  2B          	dec	hl
2658  0B71  96          	sub	a, (hl)
2659  0B72  78          	ld	a, b
2660  0B73  23          	inc	hl
2661  0B74  9E          	sbc	a, (hl)
2662  0B75  30 04       	jr	NC,l_spr_collision_check_00105
2663  0B77  2E 00       	ld	l,0x00
2664  0B79  18 34       	jr	l_spr_collision_check_00109
2665  0B7B              l_spr_collision_check_00105:
2666  0B7B  DD 7E 04    	ld	a,(ix+4)
2667  0B7E  F5          	push	af
2668  0B7F  33          	inc	sp
2669  0B80  CD F1 0A    	call	_spr_calc_hor
2670  0B83  33          	inc	sp
2671  0B84  4D          	ld	c, l
2672  0B85  C5          	push	bc
2673  0B86  DD 7E 05    	ld	a,(ix+5)
2674  0B89  F5          	push	af
2675  0B8A  33          	inc	sp
2676  0B8B  CD F1 0A    	call	_spr_calc_hor
2677  0B8E  33          	inc	sp
2678  0B8F  C1          	pop	bc
2679  0B90  5D          	ld	e,l
2680  0B91  69          	ld	l, c
2681  0B92  AF          	xor	a,a
2682  0B93  67          	ld	h,a
2683  0B94  57          	ld	d,a
2684  0B95  ED 52       	sbc	hl,de
2685  0B97  CD 00 00    	call	_abs_fastcall
2686  0B9A  22 00 00    	ld	(_tmp_ui),hl
2687  0B9D  3E 03       	ld	a,0x03
2688  0B9F  21 00 00    	ld	hl,_tmp_ui
2689  0BA2  BE          	cp	a, (hl)
2690  0BA3  3E 00       	ld	a,0x00
2691  0BA5  23          	inc	hl
2692  0BA6  9E          	sbc	a, (hl)
2693  0BA7  30 04       	jr	NC,l_spr_collision_check_00107
2694  0BA9  2E 00       	ld	l,0x00
2695  0BAB  18 02       	jr	l_spr_collision_check_00109
2696  0BAD              l_spr_collision_check_00107:
2697  0BAD  2E 01       	ld	l,0x01
2698  0BAF              l_spr_collision_check_00109:
2699  0BAF  DD E1       	pop	ix
2700  0BB1  C9          	ret
2701  0BB2              	SECTION code_compiler
2702  0BB2              ;	---------------------------------
2703  0BB2              ; Function spr_kill_all
2704  0BB2              ; ---------------------------------
2705  0BB2              _spr_kill_all:
2706  0BB2  21 00 00    	ld	hl,_sprite
2707  0BB5  36 00       	ld	(hl),0x00
2708  0BB7              l_spr_kill_all_00102:
2709  0BB7  2A 00 00    	ld	hl,(_sprite)
2710  0BBA  CD FF 06    	call	_spr_destroy
2711  0BBD  21 00 00    	ld	hl,_sprite
2712  0BC0  7E          	ld	a,(hl)
2713  0BC1  3C          	inc	a
2714  0BC2  77          	ld	(hl),a
2715  0BC3  D6 08       	sub	a,0x08
2716  0BC5  38 F0       	jr	C,l_spr_kill_all_00102
2717  0BC7  C9          	ret
2718  0BC8              	SECTION code_compiler
2719  0BC8              ;	---------------------------------
2720  0BC8              ; Function spr_back_repaint
2721  0BC8              ; ---------------------------------
2722  0BC8              _spr_back_repaint:
2723  0BC8  76          	halt
2724  0BC9  F3          	di
2725  0BCA  2A FF FF    	ld	hl,(_s_col0 - 1)
2726  0BCD  3A 00 00    	ld	a,(_s_lin0)
2727  0BD0  6F          	ld	l,a
2728  0BD1  E5          	push	hl
2729  0BD2  CD 00 00    	call	_spr_calc_index
2730  0BD5  F1          	pop	af
2731  0BD6  7D          	ld	a,l
2732  0BD7  32 00 00    	ld	(_sprite_curr_index),a
2733  0BDA  21 00 00    	ld	hl,_s_lin0
2734  0BDD  7E          	ld	a, (hl)
2735  0BDE  E6 0F       	and	a,0x0f
2736  0BE0  4F          	ld	c, a
2737  0BE1  7E          	ld	a, (hl)
2738  0BE2  07          	rlca
2739  0BE3  07          	rlca
2740  0BE4  07          	rlca
2741  0BE5  07          	rlca
2742  0BE6  E6 0F       	and	a,0x0f
2743  0BE8  47          	ld	b, a
2744  0BE9  21 00 00    	ld	hl,_s_col0
2745  0BEC  CB 46       	bit	0, (hl)
2746  0BEE  20 66       	jr	NZ,l_spr_back_repaint_00108
2747  0BF0  79          	ld	a, c
2748  0BF1  B7          	or	a, a
2749  0BF2  20 1D       	jr	NZ,l_spr_back_repaint_00102
2750  0BF4  2A 00 00    	ld	hl,(_sprite_curr_index)
2751  0BF7  26 00       	ld	h,0x00
2752  0BF9  01 00 00    	ld	bc,_scr_map
2753  0BFC  09          	add	hl,bc
2754  0BFD  46          	ld	b,(hl)
2755  0BFE  3A 00 00    	ld	a,(_s_col0)
2756  0C01  F5          	push	af
2757  0C02  33          	inc	sp
2758  0C03  3A 00 00    	ld	a,(_s_lin0)
2759  0C06  48          	ld	c,b
2760  0C07  47          	ld	b,a
2761  0C08  C5          	push	bc
2762  0C09  CD 1D 0D    	call	_spr_tile_paint
2763  0C0C  F1          	pop	af
2764  0C0D  33          	inc	sp
2765  0C0E  C3 1B 0D    	jp	l_spr_back_repaint_00109
2766  0C11              l_spr_back_repaint_00102:
2767  0C11  78          	ld	a, b
2768  0C12  07          	rlca
2769  0C13  07          	rlca
2770  0C14  07          	rlca
2771  0C15  07          	rlca
2772  0C16  E6 F0       	and	a,0xf0
2773  0C18  47          	ld	b, a
2774  0C19  2A 00 00    	ld	hl,(_sprite_curr_index)
2775  0C1C  26 00       	ld	h,0x00
2776  0C1E  11 00 00    	ld	de,_scr_map
2777  0C21  19          	add	hl,de
2778  0C22  56          	ld	d, (hl)
2779  0C23  3A 00 00    	ld	a,(_s_col0)
2780  0C26  C5          	push	bc
2781  0C27  F5          	push	af
2782  0C28  33          	inc	sp
2783  0C29  4A          	ld	c, d
2784  0C2A  C5          	push	bc
2785  0C2B  CD 1D 0D    	call	_spr_tile_paint
2786  0C2E  F1          	pop	af
2787  0C2F  33          	inc	sp
2788  0C30  C1          	pop	bc
2789  0C31  78          	ld	a, b
2790  0C32  C6 10       	add	a,0x10
2791  0C34  57          	ld	d, a
2792  0C35  21 00 00    	ld	hl,_sprite_curr_index
2793  0C38  7E          	ld	a, (hl)
2794  0C39  C6 10       	add	a,0x10
2795  0C3B  77          	ld	(hl), a
2796  0C3C  C6 00       	add	a,+((_scr_map) & 0xFF)
2797  0C3E  4F          	ld	c, a
2798  0C3F  3E 00       	ld	a, +((_scr_map) / 256)
2799  0C41  CE 00       	adc	a,0x00
2800  0C43  47          	ld	b, a
2801  0C44  0A          	ld	a, (bc)
2802  0C45  47          	ld	b, a
2803  0C46  3A 00 00    	ld	a,(_s_col0)
2804  0C49  5A          	ld	e,d
2805  0C4A  57          	ld	d,a
2806  0C4B  D5          	push	de
2807  0C4C  C5          	push	bc
2808  0C4D  33          	inc	sp
2809  0C4E  CD 1D 0D    	call	_spr_tile_paint
2810  0C51  F1          	pop	af
2811  0C52  33          	inc	sp
2812  0C53  C3 1B 0D    	jp	l_spr_back_repaint_00109
2813  0C56              l_spr_back_repaint_00108:
2814  0C56  21 00 00    	ld	hl,_s_col0
2815  0C59  56          	ld	d, (hl)
2816  0C5A  15          	dec	d
2817  0C5B  79          	ld	a, c
2818  0C5C  B7          	or	a, a
2819  0C5D  20 3A       	jr	NZ,l_spr_back_repaint_00105
2820  0C5F  2A 00 00    	ld	hl,(_sprite_curr_index)
2821  0C62  26 00       	ld	h,0x00
2822  0C64  01 00 00    	ld	bc,_scr_map
2823  0C67  09          	add	hl,bc
2824  0C68  46          	ld	b,(hl)
2825  0C69  D5          	push	de
2826  0C6A  33          	inc	sp
2827  0C6B  3A 00 00    	ld	a,(_s_lin0)
2828  0C6E  48          	ld	c,b
2829  0C6F  47          	ld	b,a
2830  0C70  C5          	push	bc
2831  0C71  CD 1D 0D    	call	_spr_tile_paint
2832  0C74  F1          	pop	af
2833  0C75  33          	inc	sp
2834  0C76  21 00 00    	ld	hl,_sprite_curr_index
2835  0C79  34          	inc	(hl)
2836  0C7A  21 00 00    	ld	hl,_s_col0
2837  0C7D  46          	ld	b, (hl)
2838  0C7E  04          	inc	b
2839  0C7F  2A 00 00    	ld	hl,(_sprite_curr_index)
2840  0C82  26 00       	ld	h,0x00
2841  0C84  11 00 00    	ld	de,_scr_map
2842  0C87  19          	add	hl,de
2843  0C88  56          	ld	d, (hl)
2844  0C89  C5          	push	bc
2845  0C8A  33          	inc	sp
2846  0C8B  3A 00 00    	ld	a,(_s_lin0)
2847  0C8E  5A          	ld	e,d
2848  0C8F  57          	ld	d,a
2849  0C90  D5          	push	de
2850  0C91  CD 1D 0D    	call	_spr_tile_paint
2851  0C94  F1          	pop	af
2852  0C95  33          	inc	sp
2853  0C96  C3 1B 0D    	jp	l_spr_back_repaint_00109
2854  0C99              l_spr_back_repaint_00105:
2855  0C99  78          	ld	a, b
2856  0C9A  07          	rlca
2857  0C9B  07          	rlca
2858  0C9C  07          	rlca
2859  0C9D  07          	rlca
2860  0C9E  E6 F0       	and	a,0xf0
2861  0CA0  47          	ld	b, a
2862  0CA1  3A 00 00    	ld	a,(_sprite_curr_index)
2863  0CA4  C6 00       	add	a,+((_scr_map) & 0xFF)
2864  0CA6  4F          	ld	c,a
2865  0CA7  3E 00       	ld	a,+((_scr_map) / 256)
2866  0CA9  CE 00       	adc	a,0x00
2867  0CAB  67          	ld	h, a
2868  0CAC  69          	ld	l, c
2869  0CAD  7E          	ld	a, (hl)
2870  0CAE  C5          	push	bc
2871  0CAF  58          	ld	e,b
2872  0CB0  D5          	push	de
2873  0CB1  F5          	push	af
2874  0CB2  33          	inc	sp
2875  0CB3  CD 1D 0D    	call	_spr_tile_paint
2876  0CB6  F1          	pop	af
2877  0CB7  33          	inc	sp
2878  0CB8  C1          	pop	bc
2879  0CB9  21 00 00    	ld	hl,_sprite_curr_index
2880  0CBC  34          	inc	(hl)
2881  0CBD  21 00 00    	ld	hl,_s_col0
2882  0CC0  4E          	ld	c, (hl)
2883  0CC1  0C          	inc	c
2884  0CC2  2A 00 00    	ld	hl,(_sprite_curr_index)
2885  0CC5  26 00       	ld	h,0x00
2886  0CC7  11 00 00    	ld	de,_scr_map
2887  0CCA  19          	add	hl,de
2888  0CCB  56          	ld	d, (hl)
2889  0CCC  C5          	push	bc
2890  0CCD  79          	ld	a, c
2891  0CCE  F5          	push	af
2892  0CCF  33          	inc	sp
2893  0CD0  4A          	ld	c, d
2894  0CD1  C5          	push	bc
2895  0CD2  CD 1D 0D    	call	_spr_tile_paint
2896  0CD5  F1          	pop	af
2897  0CD6  33          	inc	sp
2898  0CD7  C1          	pop	bc
2899  0CD8  78          	ld	a, b
2900  0CD9  C6 10       	add	a,0x10
2901  0CDB  4F          	ld	c, a
2902  0CDC  21 00 00    	ld	hl,_sprite_curr_index
2903  0CDF  7E          	ld	a, (hl)
2904  0CE0  C6 0F       	add	a,0x0f
2905  0CE2  77          	ld	(hl), a
2906  0CE3  FB          	ei
2907  0CE4  76          	halt
2908  0CE5  F3          	di
2909  0CE6  21 00 00    	ld	hl,_s_col0
2910  0CE9  46          	ld	b, (hl)
2911  0CEA  05          	dec	b
2912  0CEB  2A 00 00    	ld	hl,(_sprite_curr_index)
2913  0CEE  26 00       	ld	h,0x00
2914  0CF0  11 00 00    	ld	de,_scr_map
2915  0CF3  19          	add	hl,de
2916  0CF4  66          	ld	h, (hl)
2917  0CF5  EB          	ex	de,hl
2918  0CF6  C5          	push	bc
2919  0CF7  C5          	push	bc
2920  0CF8  D5          	push	de
2921  0CF9  33          	inc	sp
2922  0CFA  CD 1D 0D    	call	_spr_tile_paint
2923  0CFD  F1          	pop	af
2924  0CFE  33          	inc	sp
2925  0CFF  C1          	pop	bc
2926  0D00  21 00 00    	ld	hl,_sprite_curr_index
2927  0D03  34          	inc	(hl)
2928  0D04  21 00 00    	ld	hl,_s_col0
2929  0D07  46          	ld	b, (hl)
2930  0D08  04          	inc	b
2931  0D09  2A 00 00    	ld	hl,(_sprite_curr_index)
2932  0D0C  26 00       	ld	h,0x00
2933  0D0E  11 00 00    	ld	de,_scr_map
2934  0D11  19          	add	hl,de
2935  0D12  66          	ld	h, (hl)
2936  0D13  C5          	push	bc
2937  0D14  E5          	push	hl
2938  0D15  33          	inc	sp
2939  0D16  CD 1D 0D    	call	_spr_tile_paint
2940  0D19  F1          	pop	af
2941  0D1A  33          	inc	sp
2942  0D1B              l_spr_back_repaint_00109:
2943  0D1B  FB          	ei
2944  0D1C  C9          	ret
2945  0D1D              	SECTION code_compiler
2946  0D1D              ;	---------------------------------
2947  0D1D              ; Function spr_tile_paint
2948  0D1D              ; ---------------------------------
2949  0D1D              _spr_tile_paint:
2950  0D1D  CD 00 00    	call	___sdcc_enter_ix
2951  0D20  DD 7E 04    	ld	a,(ix+4)
2952  0D23  B7          	or	a, a
2953  0D24  28 05       	jr	Z,l_spr_tile_paint_00101
2954  0D26  3C          	inc	a
2955  0D27  28 21       	jr	Z,l_spr_tile_paint_00105
2956  0D29  18 10       	jr	l_spr_tile_paint_00103
2957  0D2B              l_spr_tile_paint_00101:
2958  0D2B  DD 7E 06    	ld	a,(ix+6)
2959  0D2E  F5          	push	af
2960  0D2F  33          	inc	sp
2961  0D30  DD 56 05    	ld	d,(ix+5)
2962  0D33  1E 49       	ld	e,0x49
2963  0D35  D5          	push	de
2964  0D36  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2965  0D39  18 0F       	jr	l_spr_tile_paint_00105
2966  0D3B              l_spr_tile_paint_00103:
2967  0D3B  DD 66 06    	ld	h,(ix+6)
2968  0D3E  DD 6E 05    	ld	l,(ix+5)
2969  0D41  E5          	push	hl
2970  0D42  DD 7E 04    	ld	a,(ix+4)
2971  0D45  F5          	push	af
2972  0D46  33          	inc	sp
2973  0D47  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2974  0D4A              l_spr_tile_paint_00105:
2975  0D4A  DD E1       	pop	ix
2976  0D4C  C9          	ret
2977  0D4D              	SECTION code_compiler
2978  0D4D              ;	---------------------------------
2979  0D4D              ; Function spr_init_anim
2980  0D4D              ; ---------------------------------
2981  0D4D              _spr_init_anim:
2982  0D4D  01 00 00    	ld	bc,_anim_lin+0
2983  0D50  1E 00       	ld	e,0x00
2984  0D52              l_spr_init_anim_00102:
2985  0D52  6B          	ld	l,e
2986  0D53  26 00       	ld	h,0x00
2987  0D55  09          	add	hl, bc
2988  0D56  36 FF       	ld	(hl),0xff
2989  0D58  1C          	inc	e
2990  0D59  7B          	ld	a, e
2991  0D5A  D6 08       	sub	a,0x08
2992  0D5C  38 F4       	jr	C,l_spr_init_anim_00102
2993  0D5E  C9          	ret
2994  0D5F              	SECTION code_compiler
2995  0D5F              ;	---------------------------------
2996  0D5F              ; Function spr_init_bullet
2997  0D5F              ; ---------------------------------
2998  0D5F              _spr_init_bullet:
2999  0D5F  01 00 00    	ld	bc,_bullet_col+0
3000  0D62  1E 00       	ld	e,0x00
3001  0D64              l_spr_init_bullet_00102:
3002  0D64  6B          	ld	l,e
3003  0D65  26 00       	ld	h,0x00
3004  0D67  09          	add	hl, bc
3005  0D68  36 FF       	ld	(hl),0xff
3006  0D6A  1C          	inc	e
3007  0D6B  7B          	ld	a, e
3008  0D6C  D6 08       	sub	a,0x08
3009  0D6E  38 F4       	jr	C,l_spr_init_bullet_00102
3010  0D70  C9          	ret
3011  0D71              	SECTION code_compiler
3012  0D71              ;	---------------------------------
3013  0D71              ; Function spr_add_anim
3014  0D71              ; ---------------------------------
3015  0D71              _spr_add_anim:
3016  0D71  CD 00 00    	call	___sdcc_enter_ix
3017  0D74  F5          	push	af
3018  0D75  F5          	push	af
3019  0D76  01 00 00    	ld	bc,0x0000
3020  0D79              l_spr_add_anim_00106:
3021  0D79  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3022  0D7B  80          	add	a, b
3023  0D7C  5F          	ld	e, a
3024  0D7D  3E 00       	ld	a, +((_anim_lin) / 256)
3025  0D7F  CE 00       	adc	a,0x00
3026  0D81  57          	ld	d, a
3027  0D82  1A          	ld	a, (de)
3028  0D83  3C          	inc	a
3029  0D84  20 6B       	jr	NZ,l_spr_add_anim_00107
3030  0D86  DD 7E 04    	ld	a,(ix+4)
3031  0D89  12          	ld	(de), a
3032  0D8A  3E 00       	ld	a, +((_anim_col) & 0xFF)
3033  0D8C  81          	add	a, c
3034  0D8D  DD 77 FC    	ld	(ix-4),a
3035  0D90  3E 00       	ld	a, +((_anim_col) / 256)
3036  0D92  CE 00       	adc	a,0x00
3037  0D94  DD 77 FD    	ld	(ix-3),a
3038  0D97  E1          	pop	hl
3039  0D98  E5          	push	hl
3040  0D99  DD 7E 05    	ld	a,(ix+5)
3041  0D9C  77          	ld	(hl), a
3042  0D9D  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3043  0D9F  81          	add	a, c
3044  0DA0  DD 77 FE    	ld	(ix-2),a
3045  0DA3  6F          	ld	l,a
3046  0DA4  3E 00       	ld	a,+((_anim_tile) / 256)
3047  0DA6  CE 00       	adc	a,0x00
3048  0DA8  DD 77 FF    	ld	(ix-1),a
3049  0DAB  67          	ld	h,a
3050  0DAC  DD 7E 06    	ld	a,(ix+6)
3051  0DAF  77          	ld	(hl), a
3052  0DB0  06 00       	ld	b,0x00
3053  0DB2  21 00 00    	ld	hl,_anim_int
3054  0DB5  09          	add	hl, bc
3055  0DB6  06 00       	ld	b,0x00
3056  0DB8  70          	ld	(hl),b
3057  0DB9  21 00 00    	ld	hl,_anim_end
3058  0DBC  09          	add	hl,bc
3059  0DBD  DD 7E 07    	ld	a,(ix+7)
3060  0DC0  77          	ld	(hl),a
3061  0DC1  4D          	ld	c,l
3062  0DC2  F3          	di
3063  0DC3  E1          	pop	hl
3064  0DC4  46          	ld	b,(hl)
3065  0DC5  1A          	ld	a,(de)
3066  0DC6  E5          	push	hl
3067  0DC7  DD 6E FE    	ld	l,(ix-2)
3068  0DCA  DD 66 FF    	ld	h,(ix-1)
3069  0DCD  56          	ld	d, (hl)
3070  0DCE  C5          	push	bc
3071  0DCF  33          	inc	sp
3072  0DD0  5A          	ld	e,d
3073  0DD1  57          	ld	d,a
3074  0DD2  D5          	push	de
3075  0DD3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3076  0DD6  FB          	ei
3077  0DD7  DD 66 05    	ld	h,(ix+5)
3078  0DDA  DD 6E 04    	ld	l,(ix+4)
3079  0DDD  E5          	push	hl
3080  0DDE  CD 00 00    	call	_spr_calc_index
3081  0DE1  F1          	pop	af
3082  0DE2  22 00 00    	ld	(_index0),hl
3083  0DE5  01 00 00    	ld	bc,_scr_map
3084  0DE8  09          	add	hl,bc
3085  0DE9  7E          	ld	a,(hl)
3086  0DEA  B7          	or	a,a
3087  0DEB  20 0C       	jr	NZ,l_spr_add_anim_00108
3088  0DED  36 FF       	ld	(hl),0xff
3089  0DEF  18 08       	jr	l_spr_add_anim_00108
3090  0DF1              l_spr_add_anim_00107:
3091  0DF1  04          	inc	b
3092  0DF2  78          	ld	a,b
3093  0DF3  48          	ld	c,b
3094  0DF4  D6 08       	sub	a,0x08
3095  0DF6  DA 79 0D    	jp	C, l_spr_add_anim_00106
3096  0DF9              l_spr_add_anim_00108:
3097  0DF9  DD F9       	ld	sp, ix
3098  0DFB  DD E1       	pop	ix
3099  0DFD  C9          	ret
3100  0DFE              	SECTION code_compiler
3101  0DFE              ;	---------------------------------
3102  0DFE              ; Function spr_play_anim
3103  0DFE              ; ---------------------------------
3104  0DFE              _spr_play_anim:
3105  0DFE  CD 00 00    	call	___sdcc_enter_ix
3106  0E01  F5          	push	af
3107  0E02  F5          	push	af
3108  0E03  3B          	dec	sp
3109  0E04  DD 36 FB 01 	ld	(ix-5),0x01
3110  0E08  DD 36 FC 00 	ld	(ix-4),0x00
3111  0E0C              l_spr_play_anim_00111:
3112  0E0C  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3113  0E0E  DD 86 FC    	add	a,(ix-4)
3114  0E11  5F          	ld	e, a
3115  0E12  3E 00       	ld	a, +((_anim_lin) / 256)
3116  0E14  CE 00       	adc	a,0x00
3117  0E16  57          	ld	d, a
3118  0E17  1A          	ld	a, (de)
3119  0E18  3C          	inc	a
3120  0E19  CA D4 0E    	jp	Z,l_spr_play_anim_00112
3121  0E1C  DD 7E FB    	ld	a,(ix-5)
3122  0E1F  B7          	or	a, a
3123  0E20  28 05       	jr	Z,l_spr_play_anim_00102
3124  0E22  76          	halt
3125  0E23  DD 36 FB 00 	ld	(ix-5),0x00
3126  0E27              l_spr_play_anim_00102:
3127  0E27  3E 00       	ld	a, +((_anim_int) & 0xFF)
3128  0E29  DD 86 FC    	add	a,(ix-4)
3129  0E2C  4F          	ld	c, a
3130  0E2D  3E 00       	ld	a, +((_anim_int) / 256)
3131  0E2F  CE 00       	adc	a,0x00
3132  0E31  47          	ld	b, a
3133  0E32  0A          	ld	a, (bc)
3134  0E33  DD 77 FD    	ld	(ix-3),a
3135  0E36  3E 00       	ld	a, +((_anim_end) & 0xFF)
3136  0E38  DD 86 FC    	add	a,(ix-4)
3137  0E3B  6F          	ld	l, a
3138  0E3C  3E 00       	ld	a, +((_anim_end) / 256)
3139  0E3E  CE 00       	adc	a,0x00
3140  0E40  67          	ld	h, a
3141  0E41  7E          	ld	a, (hl)
3142  0E42  DD 77 FF    	ld	(ix-1),a
3143  0E45  1A          	ld	a, (de)
3144  0E46  DD 77 FE    	ld	(ix-2),a
3145  0E49  DD 7E FD    	ld	a,(ix-3)
3146  0E4C  DD 96 FF    	sub	a,(ix-1)
3147  0E4F  30 2C       	jr	NC,l_spr_play_anim_00106
3148  0E51  3E 00       	ld	a, +((_anim_col) & 0xFF)
3149  0E53  DD 86 FC    	add	a,(ix-4)
3150  0E56  6F          	ld	l, a
3151  0E57  3E 00       	ld	a, +((_anim_col) / 256)
3152  0E59  CE 00       	adc	a,0x00
3153  0E5B  67          	ld	h, a
3154  0E5C  56          	ld	d, (hl)
3155  0E5D  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3156  0E5F  DD 86 FC    	add	a,(ix-4)
3157  0E62  6F          	ld	l, a
3158  0E63  3E 00       	ld	a, +((_anim_tile) / 256)
3159  0E65  CE 00       	adc	a,0x00
3160  0E67  67          	ld	h, a
3161  0E68  7E          	ld	a, (hl)
3162  0E69  DD 86 FD    	add	a,(ix-3)
3163  0E6C  5F          	ld	e, a
3164  0E6D  C5          	push	bc
3165  0E6E  D5          	push	de
3166  0E6F  33          	inc	sp
3167  0E70  DD 56 FE    	ld	d,(ix-2)
3168  0E73  D5          	push	de
3169  0E74  CD 00 00    	call	_NIRVANAP_drawT_callee
3170  0E77  C1          	pop	bc
3171  0E78  0A          	ld	a, (bc)
3172  0E79  3C          	inc	a
3173  0E7A  02          	ld	(bc), a
3174  0E7B  18 57       	jr	l_spr_play_anim_00112
3175  0E7D              l_spr_play_anim_00106:
3176  0E7D  3E 00       	ld	a, +((_anim_col) & 0xFF)
3177  0E7F  DD 86 FC    	add	a,(ix-4)
3178  0E82  6F          	ld	l, a
3179  0E83  3E 00       	ld	a, +((_anim_col) / 256)
3180  0E85  CE 00       	adc	a,0x00
3181  0E87  67          	ld	h, a
3182  0E88  7E          	ld	a, (hl)
3183  0E89  32 00 00    	ld	(_s_col0),a
3184  0E8C  DD 7E FE    	ld	a,(ix-2)
3185  0E8F  32 00 00    	ld	(_s_lin0),a
3186  0E92  3A 00 00    	ld	a,(_s_col0)
3187  0E95  D5          	push	de
3188  0E96  F5          	push	af
3189  0E97  33          	inc	sp
3190  0E98  3A 00 00    	ld	a,(_s_lin0)
3191  0E9B  F5          	push	af
3192  0E9C  33          	inc	sp
3193  0E9D  CD 00 00    	call	_spr_calc_index
3194  0EA0  F1          	pop	af
3195  0EA1  2A FF FF    	ld	hl,(_s_col0 - 1)
3196  0EA4  3A 00 00    	ld	a,(_s_lin0)
3197  0EA7  6F          	ld	l,a
3198  0EA8  E5          	push	hl
3199  0EA9  CD 00 00    	call	_spr_calc_index
3200  0EAC  F1          	pop	af
3201  0EAD  D1          	pop	de
3202  0EAE  01 00 00    	ld	bc,_scr_map
3203  0EB1  09          	add	hl,bc
3204  0EB2  4E          	ld	c, (hl)
3205  0EB3  0C          	inc	c
3206  0EB4  20 16       	jr	NZ,l_spr_play_anim_00104
3207  0EB6  3A 00 00    	ld	a,(_s_col0)
3208  0EB9  D5          	push	de
3209  0EBA  F5          	push	af
3210  0EBB  33          	inc	sp
3211  0EBC  3A 00 00    	ld	a,(_s_lin0)
3212  0EBF  F5          	push	af
3213  0EC0  33          	inc	sp
3214  0EC1  CD 00 00    	call	_spr_calc_index
3215  0EC4  F1          	pop	af
3216  0EC5  D1          	pop	de
3217  0EC6  01 00 00    	ld	bc,_scr_map
3218  0EC9  09          	add	hl,bc
3219  0ECA  36 00       	ld	(hl),0x00
3220  0ECC              l_spr_play_anim_00104:
3221  0ECC  D5          	push	de
3222  0ECD  CD C8 0B    	call	_spr_back_repaint
3223  0ED0  D1          	pop	de
3224  0ED1  3E FF       	ld	a,0xff
3225  0ED3  12          	ld	(de), a
3226  0ED4              l_spr_play_anim_00112:
3227  0ED4  DD 34 FC    	inc	(ix-4)
3228  0ED7  DD 7E FC    	ld	a,(ix-4)
3229  0EDA  D6 08       	sub	a,0x08
3230  0EDC  DA 0C 0E    	jp	C, l_spr_play_anim_00111
3231  0EDF  DD F9       	ld	sp, ix
3232  0EE1  DD E1       	pop	ix
3233  0EE3  C9          	ret
3234  0EE4              	SECTION code_compiler
3235  0EE4              ;	---------------------------------
3236  0EE4              ; Function spr_play_bullets
3237  0EE4              ; ---------------------------------
3238  0EE4              _spr_play_bullets:
3239  0EE4  CD 00 00    	call	___sdcc_enter_ix
3240  0EE7  F5          	push	af
3241  0EE8  F5          	push	af
3242  0EE9  3B          	dec	sp
3243  0EEA  0E 00       	ld	c,0x00
3244  0EEC              l_spr_play_bullets_00131:
3245  0EEC  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3246  0EEE  81          	add	a, c
3247  0EEF  DD 77 FE    	ld	(ix-2),a
3248  0EF2  6F          	ld	l,a
3249  0EF3  3E 00       	ld	a,+((_bullet_col) / 256)
3250  0EF5  CE 00       	adc	a,0x00
3251  0EF7  DD 77 FF    	ld	(ix-1),a
3252  0EFA  67          	ld	h,a
3253  0EFB  7E          	ld	a, (hl)
3254  0EFC  DD 77 FD    	ld	(ix-3),a
3255  0EFF  3C          	inc	a
3256  0F00  CA AF 10    	jp	Z,l_spr_play_bullets_00132
3257  0F03  06 00       	ld	b,0x00
3258  0F05  21 00 00    	ld	hl,_bullet_lin
3259  0F08  09          	add	hl, bc
3260  0F09  7E          	ld	a, (hl)
3261  0F0A  32 00 00    	ld	(_s_lin0),a
3262  0F0D  DD 7E FD    	ld	a,(ix-3)
3263  0F10  32 00 00    	ld	(_s_col0),a
3264  0F13  32 00 00    	ld	(_s_col1),a
3265  0F16  C5          	push	bc
3266  0F17  CD C8 0B    	call	_spr_back_repaint
3267  0F1A  C1          	pop	bc
3268  0F1B  06 00       	ld	b,0x00
3269  0F1D  21 00 00    	ld	hl,_bullet_dir
3270  0F20  09          	add	hl, bc
3271  0F21  46          	ld	b, (hl)
3272  0F22  04          	inc	b
3273  0F23  20 3E       	jr	NZ,l_spr_play_bullets_00110
3274  0F25  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3275  0F27  81          	add	a, c
3276  0F28  5F          	ld	e, a
3277  0F29  3E 00       	ld	a, +((_bullet_colint) / 256)
3278  0F2B  CE 00       	adc	a,0x00
3279  0F2D  57          	ld	d, a
3280  0F2E  1A          	ld	a, (de)
3281  0F2F  3C          	inc	a
3282  0F30  47          	ld	b,a
3283  0F31  12          	ld	(de), a
3284  0F32  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3285  0F34  81          	add	a, c
3286  0F35  6F          	ld	l, a
3287  0F36  3E 00       	ld	a, +((_bullet_frames) / 256)
3288  0F38  CE 00       	adc	a,0x00
3289  0F3A  67          	ld	h, a
3290  0F3B  6E          	ld	l, (hl)
3291  0F3C  78          	ld	a, b
3292  0F3D  95          	sub	a, l
3293  0F3E  38 0B       	jr	C,l_spr_play_bullets_00102
3294  0F40  DD 6E FE    	ld	l,(ix-2)
3295  0F43  DD 66 FF    	ld	h,(ix-1)
3296  0F46  46          	ld	b,(hl)
3297  0F47  04          	inc	b
3298  0F48  70          	ld	(hl), b
3299  0F49  AF          	xor	a, a
3300  0F4A  12          	ld	(de), a
3301  0F4B              l_spr_play_bullets_00102:
3302  0F4B  DD 6E FE    	ld	l,(ix-2)
3303  0F4E  DD 66 FF    	ld	h,(ix-1)
3304  0F51  46          	ld	b, (hl)
3305  0F52  CB 40       	bit	0, b
3306  0F54  28 46       	jr	Z,l_spr_play_bullets_00111
3307  0F56  78          	ld	a, b
3308  0F57  3C          	inc	a
3309  0F58  32 00 00    	ld	(_s_col1),a
3310  0F5B  78          	ld	a, b
3311  0F5C  C6 FF       	add	a,0xff
3312  0F5E  32 00 00    	ld	(_tmp),a
3313  0F61  18 39       	jr	l_spr_play_bullets_00111
3314  0F63              l_spr_play_bullets_00110:
3315  0F63  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3316  0F65  81          	add	a, c
3317  0F66  5F          	ld	e, a
3318  0F67  3E 00       	ld	a, +((_bullet_colint) / 256)
3319  0F69  CE 00       	adc	a,0x00
3320  0F6B  57          	ld	d, a
3321  0F6C  1A          	ld	a, (de)
3322  0F6D  C6 FF       	add	a,0xff
3323  0F6F  12          	ld	(de), a
3324  0F70  3C          	inc	a
3325  0F71  20 13       	jr	NZ,l_spr_play_bullets_00106
3326  0F73  DD 6E FE    	ld	l,(ix-2)
3327  0F76  DD 66 FF    	ld	h,(ix-1)
3328  0F79  46          	ld	b,(hl)
3329  0F7A  05          	dec	b
3330  0F7B  70          	ld	(hl), b
3331  0F7C  06 00       	ld	b,0x00
3332  0F7E  21 00 00    	ld	hl,_bullet_frames
3333  0F81  09          	add	hl, bc
3334  0F82  46          	ld	b, (hl)
3335  0F83  05          	dec	b
3336  0F84  78          	ld	a, b
3337  0F85  12          	ld	(de), a
3338  0F86              l_spr_play_bullets_00106:
3339  0F86  DD 6E FE    	ld	l,(ix-2)
3340  0F89  DD 66 FF    	ld	h,(ix-1)
3341  0F8C  46          	ld	b, (hl)
3342  0F8D  CB 40       	bit	0, b
3343  0F8F  28 0B       	jr	Z,l_spr_play_bullets_00111
3344  0F91  78          	ld	a, b
3345  0F92  C6 FF       	add	a,0xff
3346  0F94  32 00 00    	ld	(_s_col1),a
3347  0F97  78          	ld	a, b
3348  0F98  3C          	inc	a
3349  0F99  32 00 00    	ld	(_tmp),a
3350  0F9C              l_spr_play_bullets_00111:
3351  0F9C  DD 7E FE    	ld	a,(ix-2)
3352  0F9F  DD 77 FB    	ld	(ix-5),a
3353  0FA2  DD 7E FF    	ld	a,(ix-1)
3354  0FA5  DD 77 FC    	ld	(ix-4),a
3355  0FA8  78          	ld	a,b
3356  0FA9  B7          	or	a, a
3357  0FAA  CA A7 10    	jp	Z,l_spr_play_bullets_00123
3358  0FAD  D6 1E       	sub	a,0x1e
3359  0FAF  D2 A7 10    	jp	NC, l_spr_play_bullets_00123
3360  0FB2  3A 00 00    	ld	a,(_s_col1)
3361  0FB5  C5          	push	bc
3362  0FB6  F5          	push	af
3363  0FB7  33          	inc	sp
3364  0FB8  3A 00 00    	ld	a,(_s_lin0)
3365  0FBB  F5          	push	af
3366  0FBC  33          	inc	sp
3367  0FBD  CD 00 00    	call	_spr_calc_index
3368  0FC0  F1          	pop	af
3369  0FC1  EB          	ex	de,hl
3370  0FC2  C1          	pop	bc
3371  0FC3  ED 53 00 00 	ld	(_index0),de
3372  0FC7  21 00 00    	ld	hl,_tmp0
3373  0FCA  36 00       	ld	(hl),0x00
3374  0FCC              l_spr_play_bullets_00129:
3375  0FCC  2A 00 00    	ld	hl,(_tmp0)
3376  0FCF  26 00       	ld	h,0x00
3377  0FD1  11 00 00    	ld	de,_class
3378  0FD4  19          	add	hl,de
3379  0FD5  7E          	ld	a,(hl)
3380  0FD6  B7          	or	a,a
3381  0FD7  28 6F       	jr	Z,l_spr_play_bullets_00130
3382  0FD9  2A 00 00    	ld	hl,(_tmp0)
3383  0FDC  26 00       	ld	h,0x00
3384  0FDE  11 00 00    	ld	de,_col
3385  0FE1  19          	add	hl,de
3386  0FE2  46          	ld	b, (hl)
3387  0FE3  3A 00 00    	ld	a,(_tmp0)
3388  0FE6  5F          	ld	e,a
3389  0FE7  16 00       	ld	d,0x00
3390  0FE9  21 00 00    	ld	hl,_lin
3391  0FEC  19          	add	hl,de
3392  0FED  56          	ld	d, (hl)
3393  0FEE  C5          	push	bc
3394  0FEF  4A          	ld	c, d
3395  0FF0  C5          	push	bc
3396  0FF1  CD 00 00    	call	_spr_calc_index
3397  0FF4  F1          	pop	af
3398  0FF5  EB          	ex	de,hl
3399  0FF6  C1          	pop	bc
3400  0FF7  ED 53 00 00 	ld	(_index1),de
3401  0FFB  3A 00 00    	ld	a,(_index0)
3402  0FFE  21 00 00    	ld	hl,_index1
3403  1001  96          	sub	a, (hl)
3404  1002  20 44       	jr	NZ,l_spr_play_bullets_00130
3405  1004  3A 01 00    	ld	a,(_index0 + 1)
3406  1007  23          	inc	hl
3407  1008  96          	sub	a, (hl)
3408  1009  20 3D       	jr	NZ,l_spr_play_bullets_00130
3409  100B  2A 00 00    	ld	hl,(_tmp0)
3410  100E  26 00       	ld	h,0x00
3411  1010  11 00 00    	ld	de,_lin
3412  1013  19          	add	hl,de
3413  1014  7E          	ld	a,(hl)
3414  1015  32 00 00    	ld	(_s_lin0),a
3415  1018  2A 00 00    	ld	hl,(_tmp0)
3416  101B  26 00       	ld	h,0x00
3417  101D  11 00 00    	ld	de,_col
3418  1020  19          	add	hl,de
3419  1021  7E          	ld	a,(hl)
3420  1022  32 00 00    	ld	(_s_col0),a
3421  1025  2A 00 00    	ld	hl,(_tmp0)
3422  1028  C5          	push	bc
3423  1029  CD FF 06    	call	_spr_destroy
3424  102C  C1          	pop	bc
3425  102D  E1          	pop	hl
3426  102E  E5          	push	hl
3427  102F  36 FF       	ld	(hl),0xff
3428  1031  3A 00 00    	ld	a,(_s_col0)
3429  1034  C5          	push	bc
3430  1035  21 7B 03    	ld	hl,0x037b
3431  1038  E5          	push	hl
3432  1039  F5          	push	af
3433  103A  33          	inc	sp
3434  103B  3A 00 00    	ld	a,(_s_lin0)
3435  103E  F5          	push	af
3436  103F  33          	inc	sp
3437  1040  CD 71 0D    	call	_spr_add_anim
3438  1043  F1          	pop	af
3439  1044  F1          	pop	af
3440  1045  C1          	pop	bc
3441  1046  18 0B       	jr	l_spr_play_bullets_00116
3442  1048              l_spr_play_bullets_00130:
3443  1048  21 00 00    	ld	hl,_tmp0
3444  104B  7E          	ld	a,(hl)
3445  104C  3C          	inc	a
3446  104D  77          	ld	(hl),a
3447  104E  D6 07       	sub	a,0x07
3448  1050  DA CC 0F    	jp	C, l_spr_play_bullets_00129
3449  1053              l_spr_play_bullets_00116:
3450  1053  E1          	pop	hl
3451  1054  7E          	ld	a,(hl)
3452  1055  E5          	push	hl
3453  1056  57          	ld	d,a
3454  1057  3C          	inc	a
3455  1058  28 55       	jr	Z,l_spr_play_bullets_00132
3456  105A  3E 00       	ld	a, +((_scr_map) & 0xFF)
3457  105C  21 00 00    	ld	hl,_index0
3458  105F  86          	add	a, (hl)
3459  1060  47          	ld	b, a
3460  1061  3E 00       	ld	a, +((_scr_map) / 256)
3461  1063  23          	inc	hl
3462  1064  8E          	adc	a, (hl)
3463  1065  67          	ld	h, a
3464  1066  68          	ld	l, b
3465  1067  7E          	ld	a, (hl)
3466  1068  D6 3C       	sub	a,0x3c
3467  106A  30 20       	jr	NC,l_spr_play_bullets_00118
3468  106C  06 00       	ld	b,0x00
3469  106E  21 00 00    	ld	hl,_bullet_tile
3470  1071  09          	add	hl, bc
3471  1072  5E          	ld	e, (hl)
3472  1073  06 00       	ld	b,0x00
3473  1075  21 00 00    	ld	hl,_bullet_colint
3474  1078  09          	add	hl, bc
3475  1079  46          	ld	b, (hl)
3476  107A  7B          	ld	a, e
3477  107B  80          	add	a, b
3478  107C  47          	ld	b, a
3479  107D  C5          	push	bc
3480  107E  D5          	push	de
3481  107F  33          	inc	sp
3482  1080  3A 00 00    	ld	a,(_s_lin0)
3483  1083  48          	ld	c,b
3484  1084  47          	ld	b,a
3485  1085  C5          	push	bc
3486  1086  CD 00 00    	call	_NIRVANAP_drawT_callee
3487  1089  C1          	pop	bc
3488  108A  18 23       	jr	l_spr_play_bullets_00132
3489  108C              l_spr_play_bullets_00118:
3490  108C  3A 00 00    	ld	a,(_tmp)
3491  108F  C5          	push	bc
3492  1090  21 7B 03    	ld	hl,0x037b
3493  1093  E5          	push	hl
3494  1094  F5          	push	af
3495  1095  33          	inc	sp
3496  1096  3A 00 00    	ld	a,(_s_lin0)
3497  1099  F5          	push	af
3498  109A  33          	inc	sp
3499  109B  CD 71 0D    	call	_spr_add_anim
3500  109E  F1          	pop	af
3501  109F  F1          	pop	af
3502  10A0  C1          	pop	bc
3503  10A1  E1          	pop	hl
3504  10A2  E5          	push	hl
3505  10A3  36 FF       	ld	(hl),0xff
3506  10A5  18 08       	jr	l_spr_play_bullets_00132
3507  10A7              l_spr_play_bullets_00123:
3508  10A7  DD 6E FE    	ld	l,(ix-2)
3509  10AA  DD 66 FF    	ld	h,(ix-1)
3510  10AD  36 FF       	ld	(hl),0xff
3511  10AF              l_spr_play_bullets_00132:
3512  10AF  0C          	inc	c
3513  10B0  79          	ld	a, c
3514  10B1  D6 08       	sub	a,0x08
3515  10B3  DA EC 0E    	jp	C, l_spr_play_bullets_00131
3516  10B6  DD F9       	ld	sp, ix
3517  10B8  DD E1       	pop	ix
3518  10BA  C9          	ret
3519  10BB              	SECTION code_compiler
3520  10BB              ;	---------------------------------
3521  10BB              ; Function spr_turn_horizontal
3522  10BB              ; ---------------------------------
3523  10BB              _spr_turn_horizontal:
3524  10BB  21 00 00    	ld	hl,_s_state
3525  10BE  CB 56       	bit	2, (hl)
3526  10C0  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3527  10C2  21 00 00    	ld	hl,_s_state
3528  10C5  7E          	ld	a,(hl)
3529  10C6  F6 08       	or	a,0x08
3530  10C8  E6 FB       	and	a,0xfb
3531  10CA  77          	ld	(hl),a
3532  10CB  18 09       	jr	l_spr_turn_horizontal_00103
3533  10CD              l_spr_turn_horizontal_00102:
3534  10CD  21 00 00    	ld	hl,_s_state
3535  10D0  7E          	ld	a,(hl)
3536  10D1  E6 F7       	and	a,0xf7
3537  10D3  F6 04       	or	a,0x04
3538  10D5  77          	ld	(hl),a
3539  10D6              l_spr_turn_horizontal_00103:
3540  10D6  2A 00 00    	ld	hl,(_sprite)
3541  10D9  26 00       	ld	h,0x00
3542  10DB  01 00 00    	ld	bc,_state
3543  10DE  09          	add	hl,bc
3544  10DF  3A 00 00    	ld	a,(_s_state)
3545  10E2  77          	ld	(hl),a
3546  10E3  2A 00 00    	ld	hl,(_sprite)
3547  10E6  26 00       	ld	h,0x00
3548  10E8  01 00 00    	ld	bc,_tile
3549  10EB  09          	add	hl,bc
3550  10EC  E5          	push	hl
3551  10ED  2A 00 00    	ld	hl,(_sprite)
3552  10F0  CD 68 07    	call	_spr_tile
3553  10F3  C1          	pop	bc
3554  10F4  7D          	ld	a,l
3555  10F5  02          	ld	(bc), a
3556  10F6  C9          	ret
3557  10F7              	SECTION IGNORE
3558  0000              
