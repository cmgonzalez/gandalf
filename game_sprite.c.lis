1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_clear_scr
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_draw_row
208   0000              	GLOBAL _spr_calc_hor
209   0000              	GLOBAL _spr_back_repaint
210   0000              	GLOBAL _spr_tile_paint
211   0000              	GLOBAL _spr_init_anim_bullets
212   0000              	GLOBAL _spr_add_anim
213   0000              	GLOBAL _spr_play_anim
214   0000              	GLOBAL _spr_play_bullets
215   0000              	GLOBAL _spr_explode_bullet
216   0000              	GLOBAL _spr_turn_horizontal
217   0000              	GLOBAL _spr_btile_paint_back
218   0000              ;--------------------------------------------------------
219   0000              ; Externals used
220   0000              ;--------------------------------------------------------
221   0000              	GLOBAL _ulltoa_callee
222   0000              	GLOBAL _ulltoa
223   0000              	GLOBAL _strtoull_callee
224   0000              	GLOBAL _strtoull
225   0000              	GLOBAL _strtoll_callee
226   0000              	GLOBAL _strtoll
227   0000              	GLOBAL _lltoa_callee
228   0000              	GLOBAL _lltoa
229   0000              	GLOBAL _llabs_callee
230   0000              	GLOBAL _llabs
231   0000              	GLOBAL __lldivu__callee
232   0000              	GLOBAL __lldivu_
233   0000              	GLOBAL __lldiv__callee
234   0000              	GLOBAL __lldiv_
235   0000              	GLOBAL _atoll_callee
236   0000              	GLOBAL _atoll
237   0000              	GLOBAL _realloc_unlocked_callee
238   0000              	GLOBAL _realloc_unlocked
239   0000              	GLOBAL _malloc_unlocked_fastcall
240   0000              	GLOBAL _malloc_unlocked
241   0000              	GLOBAL _free_unlocked_fastcall
242   0000              	GLOBAL _free_unlocked
243   0000              	GLOBAL _calloc_unlocked_callee
244   0000              	GLOBAL _calloc_unlocked
245   0000              	GLOBAL _aligned_alloc_unlocked_callee
246   0000              	GLOBAL _aligned_alloc_unlocked
247   0000              	GLOBAL _realloc_callee
248   0000              	GLOBAL _realloc
249   0000              	GLOBAL _malloc_fastcall
250   0000              	GLOBAL _malloc
251   0000              	GLOBAL _free_fastcall
252   0000              	GLOBAL _free
253   0000              	GLOBAL _calloc_callee
254   0000              	GLOBAL _calloc
255   0000              	GLOBAL _aligned_alloc_callee
256   0000              	GLOBAL _aligned_alloc
257   0000              	GLOBAL _utoa_callee
258   0000              	GLOBAL _utoa
259   0000              	GLOBAL _ultoa_callee
260   0000              	GLOBAL _ultoa
261   0000              	GLOBAL _system_fastcall
262   0000              	GLOBAL _system
263   0000              	GLOBAL _strtoul_callee
264   0000              	GLOBAL _strtoul
265   0000              	GLOBAL _strtol_callee
266   0000              	GLOBAL _strtol
267   0000              	GLOBAL _strtof_callee
268   0000              	GLOBAL _strtof
269   0000              	GLOBAL _strtod_callee
270   0000              	GLOBAL _strtod
271   0000              	GLOBAL _srand_fastcall
272   0000              	GLOBAL _srand
273   0000              	GLOBAL _rand
274   0000              	GLOBAL _quick_exit_fastcall
275   0000              	GLOBAL _quick_exit
276   0000              	GLOBAL _qsort_callee
277   0000              	GLOBAL _qsort
278   0000              	GLOBAL _ltoa_callee
279   0000              	GLOBAL _ltoa
280   0000              	GLOBAL _labs_fastcall
281   0000              	GLOBAL _labs
282   0000              	GLOBAL _itoa_callee
283   0000              	GLOBAL _itoa
284   0000              	GLOBAL _ftoh_callee
285   0000              	GLOBAL _ftoh
286   0000              	GLOBAL _ftog_callee
287   0000              	GLOBAL _ftog
288   0000              	GLOBAL _ftoe_callee
289   0000              	GLOBAL _ftoe
290   0000              	GLOBAL _ftoa_callee
291   0000              	GLOBAL _ftoa
292   0000              	GLOBAL _exit_fastcall
293   0000              	GLOBAL _exit
294   0000              	GLOBAL _dtoh_callee
295   0000              	GLOBAL _dtoh
296   0000              	GLOBAL _dtog_callee
297   0000              	GLOBAL _dtog
298   0000              	GLOBAL _dtoe_callee
299   0000              	GLOBAL _dtoe
300   0000              	GLOBAL _dtoa_callee
301   0000              	GLOBAL _dtoa
302   0000              	GLOBAL _bsearch_callee
303   0000              	GLOBAL _bsearch
304   0000              	GLOBAL _atol_fastcall
305   0000              	GLOBAL _atol
306   0000              	GLOBAL _atoi_fastcall
307   0000              	GLOBAL _atoi
308   0000              	GLOBAL _atof_fastcall
309   0000              	GLOBAL _atof
310   0000              	GLOBAL _atexit_fastcall
311   0000              	GLOBAL _atexit
312   0000              	GLOBAL _at_quick_exit_fastcall
313   0000              	GLOBAL _at_quick_exit
314   0000              	GLOBAL _abs_fastcall
315   0000              	GLOBAL _abs
316   0000              	GLOBAL _abort
317   0000              	GLOBAL __strtou__callee
318   0000              	GLOBAL __strtou_
319   0000              	GLOBAL __strtoi__callee
320   0000              	GLOBAL __strtoi_
321   0000              	GLOBAL __random_uniform_xor_8__fastcall
322   0000              	GLOBAL __random_uniform_xor_8_
323   0000              	GLOBAL __random_uniform_xor_32__fastcall
324   0000              	GLOBAL __random_uniform_xor_32_
325   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
326   0000              	GLOBAL __random_uniform_cmwc_8_
327   0000              	GLOBAL __shellsort__callee
328   0000              	GLOBAL __shellsort_
329   0000              	GLOBAL __quicksort__callee
330   0000              	GLOBAL __quicksort_
331   0000              	GLOBAL __insertion_sort__callee
332   0000              	GLOBAL __insertion_sort_
333   0000              	GLOBAL __ldivu__callee
334   0000              	GLOBAL __ldivu_
335   0000              	GLOBAL __ldiv__callee
336   0000              	GLOBAL __ldiv_
337   0000              	GLOBAL __divu__callee
338   0000              	GLOBAL __divu_
339   0000              	GLOBAL __div__callee
340   0000              	GLOBAL __div_
341   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawTW_raw
343   0000              	GLOBAL _NIRVANAP_drawTW_callee
344   0000              	GLOBAL _NIRVANAP_drawTW
345   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
346   0000              	GLOBAL _NIRVANAP_drawW_raw
347   0000              	GLOBAL _NIRVANAP_drawW_callee
348   0000              	GLOBAL _NIRVANAP_drawW
349   0000              	GLOBAL _NIRVANAP_spriteT_callee
350   0000              	GLOBAL _NIRVANAP_spriteT
351   0000              	GLOBAL _NIRVANAP_fillC_callee
352   0000              	GLOBAL _NIRVANAP_fillC
353   0000              	GLOBAL _NIRVANAP_readC_callee
354   0000              	GLOBAL _NIRVANAP_readC
355   0000              	GLOBAL _NIRVANAP_paintC_callee
356   0000              	GLOBAL _NIRVANAP_paintC
357   0000              	GLOBAL _NIRVANAP_printC_callee
358   0000              	GLOBAL _NIRVANAP_printC
359   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
360   0000              	GLOBAL _NIRVANAP_fillT_raw
361   0000              	GLOBAL _NIRVANAP_fillT_callee
362   0000              	GLOBAL _NIRVANAP_fillT
363   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawT_raw
365   0000              	GLOBAL _NIRVANAP_drawT_callee
366   0000              	GLOBAL _NIRVANAP_drawT
367   0000              	GLOBAL _NIRVANAP_stop
368   0000              	GLOBAL _NIRVANAP_start
369   0000              	GLOBAL _debug3
370   0000              	GLOBAL _debug2
371   0000              	GLOBAL _debug
372   0000              	GLOBAL _zx_print_str
373   0000              	GLOBAL _zx_print_int
374   0000              	GLOBAL _zx_print_chr
375   0000              	GLOBAL _zx_print_bonus_time
376   0000              	GLOBAL _zx_isr
377   0000              	GLOBAL _z80_otdr_callee
378   0000              	GLOBAL _z80_otdr
379   0000              	GLOBAL _z80_otir_callee
380   0000              	GLOBAL _z80_otir
381   0000              	GLOBAL _z80_outp_callee
382   0000              	GLOBAL _z80_outp
383   0000              	GLOBAL _z80_indr_callee
384   0000              	GLOBAL _z80_indr
385   0000              	GLOBAL _z80_inir_callee
386   0000              	GLOBAL _z80_inir
387   0000              	GLOBAL _z80_inp_fastcall
388   0000              	GLOBAL _z80_inp
389   0000              	GLOBAL _z80_set_int_state_fastcall
390   0000              	GLOBAL _z80_set_int_state
391   0000              	GLOBAL _z80_get_int_state
392   0000              	GLOBAL _z80_delay_tstate_fastcall
393   0000              	GLOBAL _z80_delay_tstate
394   0000              	GLOBAL _z80_delay_ms_fastcall
395   0000              	GLOBAL _z80_delay_ms
396   0000              	GLOBAL _im2_remove_generic_callback_callee
397   0000              	GLOBAL _im2_remove_generic_callback
398   0000              	GLOBAL _im2_prepend_generic_callback_callee
399   0000              	GLOBAL _im2_prepend_generic_callback
400   0000              	GLOBAL _im2_append_generic_callback_callee
401   0000              	GLOBAL _im2_append_generic_callback
402   0000              	GLOBAL _im2_create_generic_isr_8080_callee
403   0000              	GLOBAL _im2_create_generic_isr_8080
404   0000              	GLOBAL _im2_create_generic_isr_callee
405   0000              	GLOBAL _im2_create_generic_isr
406   0000              	GLOBAL _im2_install_isr_callee
407   0000              	GLOBAL _im2_install_isr
408   0000              	GLOBAL _im2_init_fastcall
409   0000              	GLOBAL _im2_init
410   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_word_32
412   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_32
414   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
415   0000              	GLOBAL _intrinsic_swap_endian_16
416   0000              	GLOBAL _intrinsic_return_de
417   0000              	GLOBAL _intrinsic_return_bc
418   0000              	GLOBAL _intrinsic_exx
419   0000              	GLOBAL _intrinsic_ex_de_hl
420   0000              	GLOBAL _intrinsic_nop
421   0000              	GLOBAL _intrinsic_im_2
422   0000              	GLOBAL _intrinsic_im_1
423   0000              	GLOBAL _intrinsic_im_0
424   0000              	GLOBAL _intrinsic_retn
425   0000              	GLOBAL _intrinsic_reti
426   0000              	GLOBAL _intrinsic_halt
427   0000              	GLOBAL _intrinsic_ei
428   0000              	GLOBAL _intrinsic_di
429   0000              	GLOBAL _intrinsic_stub
430   0000              	GLOBAL _intrinsic_outi
431   0000              	GLOBAL _intrinsic_ldi
432   0000              	GLOBAL _zx_pattern_fill_callee
433   0000              	GLOBAL _zx_pattern_fill
434   0000              	GLOBAL _zx_saddrpup_fastcall
435   0000              	GLOBAL _zx_saddrpup
436   0000              	GLOBAL _zx_saddrpright_callee
437   0000              	GLOBAL _zx_saddrpright
438   0000              	GLOBAL _zx_saddrpleft_callee
439   0000              	GLOBAL _zx_saddrpleft
440   0000              	GLOBAL _zx_saddrpdown_fastcall
441   0000              	GLOBAL _zx_saddrpdown
442   0000              	GLOBAL _zx_saddrcup_fastcall
443   0000              	GLOBAL _zx_saddrcup
444   0000              	GLOBAL _zx_saddrcright_fastcall
445   0000              	GLOBAL _zx_saddrcright
446   0000              	GLOBAL _zx_saddrcleft_fastcall
447   0000              	GLOBAL _zx_saddrcleft
448   0000              	GLOBAL _zx_saddrcdown_fastcall
449   0000              	GLOBAL _zx_saddrcdown
450   0000              	GLOBAL _zx_saddr2py_fastcall
451   0000              	GLOBAL _zx_saddr2py
452   0000              	GLOBAL _zx_saddr2px_fastcall
453   0000              	GLOBAL _zx_saddr2px
454   0000              	GLOBAL _zx_saddr2cy_fastcall
455   0000              	GLOBAL _zx_saddr2cy
456   0000              	GLOBAL _zx_saddr2cx_fastcall
457   0000              	GLOBAL _zx_saddr2cx
458   0000              	GLOBAL _zx_saddr2aaddr_fastcall
459   0000              	GLOBAL _zx_saddr2aaddr
460   0000              	GLOBAL _zx_py2saddr_fastcall
461   0000              	GLOBAL _zx_py2saddr
462   0000              	GLOBAL _zx_py2aaddr_fastcall
463   0000              	GLOBAL _zx_py2aaddr
464   0000              	GLOBAL _zx_pxy2saddr_callee
465   0000              	GLOBAL _zx_pxy2saddr
466   0000              	GLOBAL _zx_pxy2aaddr_callee
467   0000              	GLOBAL _zx_pxy2aaddr
468   0000              	GLOBAL _zx_px2bitmask_fastcall
469   0000              	GLOBAL _zx_px2bitmask
470   0000              	GLOBAL _zx_cy2saddr_fastcall
471   0000              	GLOBAL _zx_cy2saddr
472   0000              	GLOBAL _zx_cy2aaddr_fastcall
473   0000              	GLOBAL _zx_cy2aaddr
474   0000              	GLOBAL _zx_cxy2saddr_callee
475   0000              	GLOBAL _zx_cxy2saddr
476   0000              	GLOBAL _zx_cxy2aaddr_callee
477   0000              	GLOBAL _zx_cxy2aaddr
478   0000              	GLOBAL _zx_bitmask2px_fastcall
479   0000              	GLOBAL _zx_bitmask2px
480   0000              	GLOBAL _zx_aaddrcup_fastcall
481   0000              	GLOBAL _zx_aaddrcup
482   0000              	GLOBAL _zx_aaddrcright_fastcall
483   0000              	GLOBAL _zx_aaddrcright
484   0000              	GLOBAL _zx_aaddrcleft_fastcall
485   0000              	GLOBAL _zx_aaddrcleft
486   0000              	GLOBAL _zx_aaddrcdown_fastcall
487   0000              	GLOBAL _zx_aaddrcdown
488   0000              	GLOBAL _zx_aaddr2saddr_fastcall
489   0000              	GLOBAL _zx_aaddr2saddr
490   0000              	GLOBAL _zx_aaddr2py_fastcall
491   0000              	GLOBAL _zx_aaddr2py
492   0000              	GLOBAL _zx_aaddr2px_fastcall
493   0000              	GLOBAL _zx_aaddr2px
494   0000              	GLOBAL _zx_aaddr2cy_fastcall
495   0000              	GLOBAL _zx_aaddr2cy
496   0000              	GLOBAL _zx_aaddr2cx_fastcall
497   0000              	GLOBAL _zx_aaddr2cx
498   0000              	GLOBAL _zx_visit_wc_pix_callee
499   0000              	GLOBAL _zx_visit_wc_pix
500   0000              	GLOBAL _zx_visit_wc_attr_callee
501   0000              	GLOBAL _zx_visit_wc_attr
502   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
503   0000              	GLOBAL _zx_scroll_wc_up_pix
504   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
505   0000              	GLOBAL _zx_scroll_wc_up_attr
506   0000              	GLOBAL _zx_scroll_wc_up_callee
507   0000              	GLOBAL _zx_scroll_wc_up
508   0000              	GLOBAL _zx_scroll_up_pix_callee
509   0000              	GLOBAL _zx_scroll_up_pix
510   0000              	GLOBAL _zx_scroll_up_attr_callee
511   0000              	GLOBAL _zx_scroll_up_attr
512   0000              	GLOBAL _zx_scroll_up_callee
513   0000              	GLOBAL _zx_scroll_up
514   0000              	GLOBAL _zx_cls_wc_pix_callee
515   0000              	GLOBAL _zx_cls_wc_pix
516   0000              	GLOBAL _zx_cls_wc_attr_callee
517   0000              	GLOBAL _zx_cls_wc_attr
518   0000              	GLOBAL _zx_cls_wc_callee
519   0000              	GLOBAL _zx_cls_wc
520   0000              	GLOBAL _zx_cls_pix_fastcall
521   0000              	GLOBAL _zx_cls_pix
522   0000              	GLOBAL _zx_cls_attr_fastcall
523   0000              	GLOBAL _zx_cls_attr
524   0000              	GLOBAL _zx_cls_fastcall
525   0000              	GLOBAL _zx_cls
526   0000              	GLOBAL _zx_border_fastcall
527   0000              	GLOBAL _zx_border
528   0000              	GLOBAL _sound_hit_brick
529   0000              	GLOBAL _sound_hit_enemy
530   0000              	GLOBAL _sound_kill
531   0000              	GLOBAL _sound_enter_enemy
532   0000              	GLOBAL _sound_coin
533   0000              	GLOBAL _sound_jump
534   0000              	GLOBAL _sound_slide
535   0000              	GLOBAL _player_gasta_brick
536   0000              	GLOBAL _player_lost_life
537   0000              	GLOBAL _player_hit
538   0000              	GLOBAL _player_open_door
539   0000              	GLOBAL _player_move_jump
540   0000              	GLOBAL _player_fire
541   0000              	GLOBAL _player_check_stairs_down
542   0000              	GLOBAL _player_check_stairs
543   0000              	GLOBAL _player_tile
544   0000              	GLOBAL _player_pick_item
545   0000              	GLOBAL _player_check_floor
546   0000              	GLOBAL _player_hit_platform_clear
547   0000              	GLOBAL _player_score_add
548   0000              	GLOBAL _player_player_hit_pow
549   0000              	GLOBAL _player_hit_platform
550   0000              	GLOBAL _player_move_input
551   0000              	GLOBAL _player_turn
552   0000              	GLOBAL _player_move
553   0000              	GLOBAL _player_kill
554   0000              	GLOBAL _player_check_input
555   0000              	GLOBAL _player_collision
556   0000              	GLOBAL _player_init
557   0000              	GLOBAL _game_match_back
558   0000              	GLOBAL _game_attribs
559   0000              	GLOBAL _game_boss_clear
560   0000              	GLOBAL _game_obj_clear
561   0000              	GLOBAL _game_obj_chk
562   0000              	GLOBAL _game_obj_set
563   0000              	GLOBAL _game_shoot_fire_boss
564   0000              	GLOBAL _game_shoot_fire
565   0000              	GLOBAL _game_add_enemy
566   0000              	GLOBAL _game_joystick_set_menu
567   0000              	GLOBAL _game_joystick_set
568   0000              	GLOBAL _game_joystick_change
569   0000              	GLOBAL _game_print_header
570   0000              	GLOBAL _game_end
571   0000              	GLOBAL _game_phase_print_score_back
572   0000              	GLOBAL _game_check_time
573   0000              	GLOBAL _game_rotate_attrib_osd
574   0000              	GLOBAL _game_rotate_attrib
575   0000              	GLOBAL _game_colour_message
576   0000              	GLOBAL _game_paint_attrib_lin_osd
577   0000              	GLOBAL _game_paint_attrib_lin_h
578   0000              	GLOBAL _game_paint_attrib_lin
579   0000              	GLOBAL _game_paint_attrib
580   0000              	GLOBAL _game_print_score
581   0000              	GLOBAL _game_unfreeze_all
582   0000              	GLOBAL _game_freeze_all
583   0000              	GLOBAL _game_freeze
584   0000              	GLOBAL _game_enemy_add_get_index
585   0000              	GLOBAL _game_check_cell
586   0000              	GLOBAL _game_check_map
587   0000              	GLOBAL _game_loop
588   0000              	GLOBAL _game_round_init
589   0000              	GLOBAL _game_start_timer
590   0000              	GLOBAL _game_tick
591   0000              	GLOBAL _game_update_stats
592   0000              	GLOBAL _game_print_footer
593   0000              	GLOBAL _game_fill_row
594   0000              	GLOBAL _game_fps
595   0000              	GLOBAL _game_respawn
596   0000              	GLOBAL _game_draw_screen
597   0000              	GLOBAL _boss_turn
598   0000              	GLOBAL _enemy_avoid_dead
599   0000              	GLOBAL _enemy_avoid_fall
600   0000              	GLOBAL _enemy_respawn
601   0000              	GLOBAL _enemy_init
602   0000              	GLOBAL _enemy_move
603   0000              	GLOBAL _enemy_turn
604   0000              	GLOBAL _enemy_hit
605   0000              	GLOBAL _enemy_coin1
606   0000              	GLOBAL _enemy_static
607   0000              	GLOBAL _enemy_walk
608   0000              	GLOBAL _enemy_horizontal
609   0000              	GLOBAL _enemy_vertical
610   0000              	GLOBAL _ay_fx_play
611   0000              	GLOBAL _ay_midi_play
612   0000              	GLOBAL _ay_is_playing
613   0000              	GLOBAL _ay_reset
614   0000              	GLOBAL _test_func
615   0000              	GLOBAL _test_proc
616   0000              	GLOBAL _in_mouse_kempston_wheel_delta
617   0000              	GLOBAL _in_mouse_kempston_wheel
618   0000              	GLOBAL _in_mouse_kempston_callee
619   0000              	GLOBAL _in_mouse_kempston
620   0000              	GLOBAL _in_mouse_kempston_setpos_callee
621   0000              	GLOBAL _in_mouse_kempston_setpos
622   0000              	GLOBAL _in_mouse_kempston_reset
623   0000              	GLOBAL _in_mouse_kempston_init
624   0000              	GLOBAL _in_mouse_amx_wheel_delta
625   0000              	GLOBAL _in_mouse_amx_wheel
626   0000              	GLOBAL _in_mouse_amx_callee
627   0000              	GLOBAL _in_mouse_amx
628   0000              	GLOBAL _in_mouse_amx_setpos_callee
629   0000              	GLOBAL _in_mouse_amx_setpos
630   0000              	GLOBAL _in_mouse_amx_reset
631   0000              	GLOBAL _in_mouse_amx_init_callee
632   0000              	GLOBAL _in_mouse_amx_init
633   0000              	GLOBAL _in_stick_sinclair2
634   0000              	GLOBAL _in_stick_sinclair1
635   0000              	GLOBAL _in_stick_kempston
636   0000              	GLOBAL _in_stick_fuller
637   0000              	GLOBAL _in_stick_cursor
638   0000              	GLOBAL _in_stick_keyboard_fastcall
639   0000              	GLOBAL _in_stick_keyboard
640   0000              	GLOBAL _in_wait_nokey
641   0000              	GLOBAL _in_wait_key
642   0000              	GLOBAL _in_test_key
643   0000              	GLOBAL _in_pause_fastcall
644   0000              	GLOBAL _in_pause
645   0000              	GLOBAL _in_key_scancode_fastcall
646   0000              	GLOBAL _in_key_scancode
647   0000              	GLOBAL _in_key_pressed_fastcall
648   0000              	GLOBAL _in_key_pressed
649   0000              	GLOBAL _in_inkey
650   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
651   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
652   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
653   0000              	GLOBAL _NIRVANAP_HOLE
654   0000              	GLOBAL _NIRVANAP_ISR_HOOK
655   0000              	GLOBAL _player_lvl_table
656   0000              	GLOBAL _map_paper_last
657   0000              	GLOBAL _map_paper_clr
658   0000              	GLOBAL _map_paper
659   0000              	GLOBAL _draw_count
660   0000              	GLOBAL _g_player_hit_right
661   0000              	GLOBAL _g_player_hit_left
662   0000              	GLOBAL _joynames
663   0000              	GLOBAL _initials
664   0000              	GLOBAL _bullet_count
665   0000              	GLOBAL _spr_hack
666   0000              	GLOBAL _boss_stat
667   0000              	GLOBAL _boss_time_fire
668   0000              	GLOBAL _boss_time
669   0000              	GLOBAL _boss_tile
670   0000              	GLOBAL _boss_inc
671   0000              	GLOBAL _boss_col
672   0000              	GLOBAL _boss_lin
673   0000              	GLOBAL _bullet_vel
674   0000              	GLOBAL _bullet_frames
675   0000              	GLOBAL _bullet_colint
676   0000              	GLOBAL _bullet_dir
677   0000              	GLOBAL _bullet_tile
678   0000              	GLOBAL _bullet_col
679   0000              	GLOBAL _bullet_lin
680   0000              	GLOBAL _bullet_col0
681   0000              	GLOBAL _bullet_lin0
682   0000              	GLOBAL _bullet_max
683   0000              	GLOBAL _bullet_class
684   0000              	GLOBAL _mush_class
685   0000              	GLOBAL _mush_index
686   0000              	GLOBAL _anim_count
687   0000              	GLOBAL _anim_respanwn
688   0000              	GLOBAL _anim_loop
689   0000              	GLOBAL _anim_end
690   0000              	GLOBAL _anim_int
691   0000              	GLOBAL _anim_tile
692   0000              	GLOBAL _anim_col
693   0000              	GLOBAL _anim_lin
694   0000              	GLOBAL _map_heigth
695   0000              	GLOBAL _map_width
696   0000              	GLOBAL _scr_curr
697   0000              	GLOBAL _scr_obj1
698   0000              	GLOBAL _scr_obj0
699   0000              	GLOBAL _scr_map
700   0000              	GLOBAL _sprite_speed_alt
701   0000              	GLOBAL _sprite_frames
702   0000              	GLOBAL _sprite_speed
703   0000              	GLOBAL _screen_ink
704   0000              	GLOBAL _screen_paper
705   0000              	GLOBAL _player_over_stair
706   0000              	GLOBAL _game_start_scr
707   0000              	GLOBAL _game_respawn_tile
708   0000              	GLOBAL _game_respawn_index
709   0000              	GLOBAL _game_respawn_time
710   0000              	GLOBAL _game_menu_sel
711   0000              	GLOBAL _game_score_top
712   0000              	GLOBAL _player_coins
713   0000              	GLOBAL _player_lives
714   0000              	GLOBAL _game_over
715   0000              	GLOBAL _game_sound
716   0000              	GLOBAL _game_inmune
717   0000              	GLOBAL _game_god_mode
718   0000              	GLOBAL _game_two_player
719   0000              	GLOBAL _game_brick_tile
720   0000              	GLOBAL _sprite_curr_index
721   0000              	GLOBAL _spr_count
722   0000              	GLOBAL _bullet_time
723   0000              	GLOBAL _anim_time
724   0000              	GLOBAL _frame_time
725   0000              	GLOBAL _entry_time
726   0000              	GLOBAL _curr_time
727   0000              	GLOBAL _s_state
728   0000              	GLOBAL _attrib_osd
729   0000              	GLOBAL _attrib_hl
730   0000              	GLOBAL _attrib
731   0000              	GLOBAL _zx_val_asm
732   0000              	GLOBAL _enemies
733   0000              	GLOBAL _tmp_ui
734   0000              	GLOBAL _tmp_sc
735   0000              	GLOBAL _tmp_uc
736   0000              	GLOBAL _tmp1
737   0000              	GLOBAL _tmp0
738   0000              	GLOBAL _tmp
739   0000              	GLOBAL _index1
740   0000              	GLOBAL _index0
741   0000              	GLOBAL _loop_count
742   0000              	GLOBAL _s_col1
743   0000              	GLOBAL _s_col0
744   0000              	GLOBAL _s_lin1
745   0000              	GLOBAL _s_lin0
746   0000              	GLOBAL _s_tile1
747   0000              	GLOBAL _s_tile0
748   0000              	GLOBAL _player_brick_time
749   0000              	GLOBAL _player_hit_count
750   0000              	GLOBAL _sprite_horizontal_check
751   0000              	GLOBAL _sprite_on_air
752   0000              	GLOBAL _sprite
753   0000              	GLOBAL _fps
754   0000              	GLOBAL _game_respawn_curr_time
755   0000              	GLOBAL _game_worldup
756   0000              	GLOBAL _game_mush_count
757   0000              	GLOBAL _game_boss_fix
758   0000              	GLOBAL _game_boss_hit
759   0000              	GLOBAL _game_boss_alive
760   0000              	GLOBAL _game_boss
761   0000              	GLOBAL _game_world
762   0000              	GLOBAL _game_gravity
763   0000              	GLOBAL _player_anim_stair
764   0000              	GLOBAL _player_hit_time
765   0000              	GLOBAL _player_lin_scr
766   0000              	GLOBAL _player_col_scr
767   0000              	GLOBAL _player_lvl
768   0000              	GLOBAL _player_int
769   0000              	GLOBAL _player_str
770   0000              	GLOBAL _player_max_vita
771   0000              	GLOBAL _player_max_mana
772   0000              	GLOBAL _player_vita
773   0000              	GLOBAL _player_mana
774   0000              	GLOBAL _player_keys
775   0000              	GLOBAL _player_vel_inc
776   0000              	GLOBAL _player_vel_y1
777   0000              	GLOBAL _player_vel_y0
778   0000              	GLOBAL _player_vel_y
779   0000              	GLOBAL _player_vel_x
780   0000              	GLOBAL _player_joy
781   0000              	GLOBAL _player_score
782   0000              	GLOBAL _last_time
783   0000              	GLOBAL _player_slide
784   0000              	GLOBAL _spr_timer
785   0000              	GLOBAL _jump_lin
786   0000              	GLOBAL _player_hit_col
787   0000              	GLOBAL _player_hit_lin
788   0000              	GLOBAL _colint
789   0000              	GLOBAL _col
790   0000              	GLOBAL _lin
791   0000              	GLOBAL _tile
792   0000              	GLOBAL _state_a
793   0000              	GLOBAL _state
794   0000              	GLOBAL _class
795   0000              	GLOBAL _tbuffer
796   0000              	GLOBAL _dirs
797   0000              	GLOBAL _k1
798   0000              	GLOBAL _joyfunc1
799   0000              	GLOBAL _btiles
800   0000              	GLOBAL _spec128
801   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
802   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
803   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
804   0000              	GLOBAL _ay_effect_20
805   0000              	GLOBAL _ay_effect_19
806   0000              	GLOBAL _ay_effect_18
807   0000              	GLOBAL _ay_effect_17
808   0000              	GLOBAL _ay_effect_16
809   0000              	GLOBAL _ay_effect_15
810   0000              	GLOBAL _ay_effect_14
811   0000              	GLOBAL _ay_effect_13
812   0000              	GLOBAL _ay_effect_12
813   0000              	GLOBAL _ay_effect_11
814   0000              	GLOBAL _ay_effect_10
815   0000              	GLOBAL _ay_effect_09
816   0000              	GLOBAL _ay_effect_08
817   0000              	GLOBAL _ay_effect_07
818   0000              	GLOBAL _ay_effect_06
819   0000              	GLOBAL _ay_effect_05
820   0000              	GLOBAL _ay_effect_04
821   0000              	GLOBAL _ay_effect_03
822   0000              	GLOBAL _ay_effect_02
823   0000              	GLOBAL _ay_effect_01
824   0000              	GLOBAL _pb_midi_phase_1
825   0000              	GLOBAL _pb_midi_title
826   0000              	GLOBAL _control_method
827   0000              	GLOBAL _world1_h
828   0000              	GLOBAL _world1_w
829   0000              	GLOBAL _world1
830   0000              	GLOBAL _paper1
831   0000              	GLOBAL _lenght1
832   0000              	GLOBAL _start_scr1
833   0000              	GLOBAL _world0_h
834   0000              	GLOBAL _world0_w
835   0000              	GLOBAL _world0
836   0000              	GLOBAL _paper0
837   0000              	GLOBAL _lenght0
838   0000              	GLOBAL _start_scr0
839   0000              ;--------------------------------------------------------
840   0000              ; special function registers
841   0000              ;--------------------------------------------------------
842   0000              defc _IO_FE	=	0x00fe
843   0000              defc _IO_1FFD	=	0x1ffd
844   0000              defc _IO_7FFD	=	0x7ffd
845   0000              ;--------------------------------------------------------
846   0000              ; ram data
847   0000              ;--------------------------------------------------------
848   0000              	SECTION bss_compiler
849   0000              ;--------------------------------------------------------
850   0000              ; ram data
851   0000              ;--------------------------------------------------------
852   0000              
853   0000              IF 0
854   0000              
855   0000              ; .area _INITIALIZED removed by z88dk
856   0000              
857   0000              
858   0000              ENDIF
859   0000              
860   0000              ;--------------------------------------------------------
861   0000              ; absolute external ram data
862   0000              ;--------------------------------------------------------
863   0000              	SECTION IGNORE
864   0000              ;--------------------------------------------------------
865   0000              ; global & static initialisations
866   0000              ;--------------------------------------------------------
867   0000              	SECTION code_crt_init
868   0000              ;--------------------------------------------------------
869   0000              ; Home
870   0000              ;--------------------------------------------------------
871   0000              	SECTION IGNORE
872   0000              ;--------------------------------------------------------
873   0000              ; code
874   0000              ;--------------------------------------------------------
875   0000              	SECTION code_compiler
876   0000              ;	---------------------------------
877   0000              ; Function spr_calc_index
878   0000              ; ---------------------------------
879   0000              _spr_calc_index:
880   0000  CD 00 00    	call	___sdcc_enter_ix
881   0003  DD 4E 05    	ld	c,(ix+5)
882   0006  CB 39       	srl	c
883   0008  06 00       	ld	b,0x00
884   000A  DD 7E 04    	ld	a,(ix+4)
885   000D  07          	rlca
886   000E  07          	rlca
887   000F  07          	rlca
888   0010  07          	rlca
889   0011  E6 0F       	and	a,0x0f
890   0013  6F          	ld	l, a
891   0014  26 00       	ld	h,0x00
892   0016  29          	add	hl, hl
893   0017  29          	add	hl, hl
894   0018  29          	add	hl, hl
895   0019  29          	add	hl, hl
896   001A  09          	add	hl, bc
897   001B  DD E1       	pop	ix
898   001D  C9          	ret
899   001E              	SECTION code_compiler
900   001E              ;	---------------------------------
901   001E              ; Function spr_chktime
902   001E              ; ---------------------------------
903   001E              _spr_chktime:
904   001E  CD 00 00    	call	___sdcc_enter_ix
905   0021  5E          	ld	e,(hl)
906   0022  F5          	push	af
907   0023  16 00       	ld	d,0x00
908   0025  4D          	ld	c,l
909   0026  44          	ld	b,h
910   0027  21 00 00    	ld	hl,_sprite_speed_alt
911   002A  19          	add	hl, de
912   002B  7E          	ld	a, (hl)
913   002C  B7          	or	a,a
914   002D  20 15       	jr	NZ,l_spr_chktime_00102
915   002F  57          	ld	d,a
916   0030  21 00 00    	ld	hl,_class
917   0033  19          	add	hl, de
918   0034  56          	ld	d, (hl)
919   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
920   0037  82          	add	a, d
921   0038  6F          	ld	l, a
922   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
923   003B  CE 00       	adc	a,0x00
924   003D  67          	ld	h, a
925   003E  7E          	ld	a, (hl)
926   003F  32 00 00    	ld	(_tmp),a
927   0042  18 03       	jr	l_spr_chktime_00103
928   0044              l_spr_chktime_00102:
929   0044  32 00 00    	ld	(_tmp),a
930   0047              l_spr_chktime_00103:
931   0047  3A 00 00    	ld	a,(_tmp)
932   004A  DD 77 FE    	ld	(ix-2),a
933   004D  26 00       	ld	h,0x00
934   004F  DD 74 FF    	ld	(ix-1),h
935   0052  6B          	ld	l, e
936   0053  29          	add	hl, hl
937   0054  11 00 00    	ld	de,_last_time
938   0057  19          	add	hl, de
939   0058  5E          	ld	e, (hl)
940   0059  23          	inc	hl
941   005A  56          	ld	d, (hl)
942   005B  C5          	push	bc
943   005C  DD 6E FE    	ld	l,(ix-2)
944   005F  DD 66 FF    	ld	h,(ix-1)
945   0062  E5          	push	hl
946   0063  D5          	push	de
947   0064  CD 00 00    	call	_game_check_time
948   0067  F1          	pop	af
949   0068  F1          	pop	af
950   0069  C1          	pop	bc
951   006A  7D          	ld	a,l
952   006B  B7          	or	a, a
953   006C  28 14       	jr	Z,l_spr_chktime_00105
954   006E  0A          	ld	a, (bc)
955   006F  6F          	ld	l, a
956   0070  26 00       	ld	h,0x00
957   0072  29          	add	hl, hl
958   0073  01 00 00    	ld	bc,_last_time
959   0076  09          	add	hl,bc
960   0077  ED 5B 00 00 	ld	de,(_curr_time)
961   007B  73          	ld	(hl),e
962   007C  23          	inc	hl
963   007D  72          	ld	(hl),d
964   007E  2E 01       	ld	l,0x01
965   0080  18 02       	jr	l_spr_chktime_00106
966   0082              l_spr_chktime_00105:
967   0082  2E 00       	ld	l,0x00
968   0084              l_spr_chktime_00106:
969   0084  F1          	pop	af
970   0085  DD E1       	pop	ix
971   0087  C9          	ret
972   0088              	SECTION code_compiler
973   0088              ;	---------------------------------
974   0088              ; Function spr_move_up
975   0088              ; ---------------------------------
976   0088              _spr_move_up:
977   0088  2A 00 00    	ld	hl,(_sprite)
978   008B  26 00       	ld	h,0x00
979   008D  01 00 00    	ld	bc,_lin
980   0090  09          	add	hl,bc
981   0091  7E          	ld	a,(hl)
982   0092  C6 FE       	add	a,0xfe
983   0094  32 00 00    	ld	(_s_lin1),a
984   0097  07          	rlca
985   0098  07          	rlca
986   0099  07          	rlca
987   009A  07          	rlca
988   009B  E6 0F       	and	a,0x0f
989   009D  4F          	ld	c, a
990   009E  3A 00 00    	ld	a,(_s_lin0)
991   00A1  07          	rlca
992   00A2  07          	rlca
993   00A3  07          	rlca
994   00A4  07          	rlca
995   00A5  E6 0F       	and	a,0x0f
996   00A7  47          	ld	b, a
997   00A8  79          	ld	a, c
998   00A9  90          	sub	a, b
999   00AA  20 04       	jr	NZ,l_spr_move_up_00136
1000  00AC  3E 01       	ld	a,0x01
1001  00AE  18 01       	jr	l_spr_move_up_00137
1002  00B0              l_spr_move_up_00136:
1003  00B0  AF          	xor	a,a
1004  00B1              l_spr_move_up_00137:
1005  00B1  EE 01       	xor	a,0x01
1006  00B3  28 1D       	jr	Z,l_spr_move_up_00104
1007  00B5  2A 00 00    	ld	hl,(_sprite)
1008  00B8  26 00       	ld	h,0x00
1009  00BA  01 00 00    	ld	bc,_col
1010  00BD  09          	add	hl,bc
1011  00BE  7E          	ld	a,(hl)
1012  00BF  F5          	push	af
1013  00C0  33          	inc	sp
1014  00C1  3A 00 00    	ld	a,(_s_lin1)
1015  00C4  F5          	push	af
1016  00C5  33          	inc	sp
1017  00C6  CD 00 00    	call	_game_check_map
1018  00C9  F1          	pop	af
1019  00CA  7C          	ld	a,h
1020  00CB  B5          	or	a,l
1021  00CC  28 04       	jr	Z,l_spr_move_up_00104
1022  00CE  2E 01       	ld	l,0x01
1023  00D0  18 30       	jr	l_spr_move_up_00114
1024  00D2              l_spr_move_up_00104:
1025  00D2  3A 00 00    	ld	a,(_s_lin1)
1026  00D5  D6 10       	sub	a,0x10
1027  00D7  30 1A       	jr	NC,l_spr_move_up_00112
1028  00D9  3A 00 00    	ld	a,(_sprite)
1029  00DC  D6 07       	sub	a,0x07
1030  00DE  20 0F       	jr	NZ,l_spr_move_up_00109
1031  00E0  CD 64 04    	call	_spr_page_up
1032  00E3  7D          	ld	a, l
1033  00E4  B7          	or	a, a
1034  00E5  28 04       	jr	Z,l_spr_move_up_00106
1035  00E7  2E 01       	ld	l,0x01
1036  00E9  18 17       	jr	l_spr_move_up_00114
1037  00EB              l_spr_move_up_00106:
1038  00EB  2E 01       	ld	l,0x01
1039  00ED  18 13       	jr	l_spr_move_up_00114
1040  00EF              l_spr_move_up_00109:
1041  00EF  2E 01       	ld	l,0x01
1042  00F1  18 0F       	jr	l_spr_move_up_00114
1043  00F3              l_spr_move_up_00112:
1044  00F3  2A 00 00    	ld	hl,(_sprite)
1045  00F6  26 00       	ld	h,0x00
1046  00F8  01 00 00    	ld	bc,_lin
1047  00FB  09          	add	hl,bc
1048  00FC  3A 00 00    	ld	a,(_s_lin1)
1049  00FF  77          	ld	(hl),a
1050  0100  2E 00       	ld	l,0x00
1051  0102              l_spr_move_up_00114:
1052  0102  C9          	ret
1053  0103              	SECTION code_compiler
1054  0103              ;	---------------------------------
1055  0103              ; Function spr_move_down
1056  0103              ; ---------------------------------
1057  0103              _spr_move_down:
1058  0103  2A 00 00    	ld	hl,(_sprite)
1059  0106  26 00       	ld	h,0x00
1060  0108  01 00 00    	ld	bc,_lin
1061  010B  09          	add	hl,bc
1062  010C  7E          	ld	a,(hl)
1063  010D  C6 10       	add	a,0x10
1064  010F  32 00 00    	ld	(_s_lin1),a
1065  0112  07          	rlca
1066  0113  07          	rlca
1067  0114  07          	rlca
1068  0115  07          	rlca
1069  0116  E6 0F       	and	a,0x0f
1070  0118  4F          	ld	c, a
1071  0119  3A 00 00    	ld	a,(_s_lin0)
1072  011C  07          	rlca
1073  011D  07          	rlca
1074  011E  07          	rlca
1075  011F  07          	rlca
1076  0120  E6 0F       	and	a,0x0f
1077  0122  47          	ld	b, a
1078  0123  79          	ld	a, c
1079  0124  90          	sub	a, b
1080  0125  20 04       	jr	NZ,l_spr_move_down_00136
1081  0127  3E 01       	ld	a,0x01
1082  0129  18 01       	jr	l_spr_move_down_00137
1083  012B              l_spr_move_down_00136:
1084  012B  AF          	xor	a,a
1085  012C              l_spr_move_down_00137:
1086  012C  EE 01       	xor	a,0x01
1087  012E  28 1D       	jr	Z,l_spr_move_down_00104
1088  0130  2A 00 00    	ld	hl,(_sprite)
1089  0133  26 00       	ld	h,0x00
1090  0135  01 00 00    	ld	bc,_col
1091  0138  09          	add	hl,bc
1092  0139  7E          	ld	a,(hl)
1093  013A  F5          	push	af
1094  013B  33          	inc	sp
1095  013C  3A 00 00    	ld	a,(_s_lin1)
1096  013F  F5          	push	af
1097  0140  33          	inc	sp
1098  0141  CD 00 00    	call	_game_check_map
1099  0144  F1          	pop	af
1100  0145  7C          	ld	a,h
1101  0146  B5          	or	a,l
1102  0147  28 04       	jr	Z,l_spr_move_down_00104
1103  0149  2E 01       	ld	l,0x01
1104  014B  18 43       	jr	l_spr_move_down_00114
1105  014D              l_spr_move_down_00104:
1106  014D  2A 00 00    	ld	hl,(_sprite)
1107  0150  26 00       	ld	h,0x00
1108  0152  01 00 00    	ld	bc,_lin
1109  0155  09          	add	hl,bc
1110  0156  3E 98       	ld	a,0x98
1111  0158  4D          	ld	c,l
1112  0159  44          	ld	b,h
1113  015A  21 00 00    	ld	hl,_s_lin1
1114  015D  96          	sub	a, (hl)
1115  015E  30 28       	jr	NC,l_spr_move_down_00112
1116  0160  3A 00 00    	ld	a,(_sprite)
1117  0163  D6 07       	sub	a,0x07
1118  0165  20 1A       	jr	NZ,l_spr_move_down_00109
1119  0167  CD 15 04    	call	_spr_page_down
1120  016A  7D          	ld	a, l
1121  016B  B7          	or	a, a
1122  016C  28 04       	jr	Z,l_spr_move_down_00106
1123  016E  2E 01       	ld	l,0x01
1124  0170  18 1E       	jr	l_spr_move_down_00114
1125  0172              l_spr_move_down_00106:
1126  0172  2A 00 00    	ld	hl,(_sprite)
1127  0175  26 00       	ld	h,0x00
1128  0177  01 00 00    	ld	bc,_lin
1129  017A  09          	add	hl,bc
1130  017B  36 90       	ld	(hl),0x90
1131  017D  2E 01       	ld	l,0x01
1132  017F  18 0F       	jr	l_spr_move_down_00114
1133  0181              l_spr_move_down_00109:
1134  0181  3E 90       	ld	a,0x90
1135  0183  02          	ld	(bc), a
1136  0184  2E 01       	ld	l,0x01
1137  0186  18 08       	jr	l_spr_move_down_00114
1138  0188              l_spr_move_down_00112:
1139  0188  3A 00 00    	ld	a,(_s_lin1)
1140  018B  C6 F2       	add	a,0xf2
1141  018D  02          	ld	(bc), a
1142  018E  2E 00       	ld	l,0x00
1143  0190              l_spr_move_down_00114:
1144  0190  C9          	ret
1145  0191              	SECTION code_compiler
1146  0191              ;	---------------------------------
1147  0191              ; Function spr_move_horizontal
1148  0191              ; ---------------------------------
1149  0191              _spr_move_horizontal:
1150  0191  2A 00 00    	ld	hl,(_sprite)
1151  0194  26 00       	ld	h,0x00
1152  0196  01 00 00    	ld	bc,_state
1153  0199  09          	add	hl,bc
1154  019A  7E          	ld	a,(hl)
1155  019B  CB 57       	bit	2, a
1156  019D  28 05       	jr	Z,l_spr_move_horizontal_00104
1157  019F  CD B0 01    	call	_spr_move_right
1158  01A2  18 0B       	jr	l_spr_move_horizontal_00106
1159  01A4              l_spr_move_horizontal_00104:
1160  01A4  CB 5F       	bit	3, a
1161  01A6  28 05       	jr	Z,l_spr_move_horizontal_00105
1162  01A8  CD AF 02    	call	_spr_move_left
1163  01AB  18 02       	jr	l_spr_move_horizontal_00106
1164  01AD              l_spr_move_horizontal_00105:
1165  01AD  2E 00       	ld	l,0x00
1166  01AF              l_spr_move_horizontal_00106:
1167  01AF  C9          	ret
1168  01B0              	SECTION code_compiler
1169  01B0              ;	---------------------------------
1170  01B0              ; Function spr_move_right
1171  01B0              ; ---------------------------------
1172  01B0              _spr_move_right:
1173  01B0  2A 00 00    	ld	hl,(_sprite)
1174  01B3  26 00       	ld	h,0x00
1175  01B5  01 00 00    	ld	bc,_colint
1176  01B8  09          	add	hl,bc
1177  01B9  7E          	ld	a,(hl)
1178  01BA  3C          	inc	a
1179  01BB  77          	ld	(hl),a
1180  01BC  4F          	ld	c,a
1181  01BD  3A 00 00    	ld	a,(_sprite)
1182  01C0  5F          	ld	e,a
1183  01C1  16 00       	ld	d,0x00
1184  01C3  21 00 00    	ld	hl,_class
1185  01C6  19          	add	hl,de
1186  01C7  5E          	ld	e, (hl)
1187  01C8  16 00       	ld	d,0x00
1188  01CA  21 00 00    	ld	hl,_sprite_frames
1189  01CD  19          	add	hl, de
1190  01CE  7E          	ld	a, (hl)
1191  01CF  91          	sub	a, c
1192  01D0  C2 AC 02    	jp	NZ,l_spr_move_right_00118
1193  01D3  2A 00 00    	ld	hl,(_sprite)
1194  01D6  26 00       	ld	h,0x00
1195  01D8  01 00 00    	ld	bc,_lin
1196  01DB  09          	add	hl,bc
1197  01DC  7E          	ld	a,(hl)
1198  01DD  32 00 00    	ld	(_s_lin1),a
1199  01E0  2A 00 00    	ld	hl,(_sprite)
1200  01E3  26 00       	ld	h,0x00
1201  01E5  01 00 00    	ld	bc,_col
1202  01E8  09          	add	hl,bc
1203  01E9  7E          	ld	a,(hl)
1204  01EA  FE 1E       	cp	a,0x1e
1205  01EC  30 61       	jr	NC,l_spr_move_right_00108
1206  01EE  3C          	inc	a
1207  01EF  32 00 00    	ld	(_s_col1),a
1208  01F2  21 00 00    	ld	hl,_sprite_horizontal_check
1209  01F5  36 01       	ld	(hl),0x01
1210  01F7  2A FF FF    	ld	hl,(_s_col1 - 1)
1211  01FA  3A 00 00    	ld	a,(_s_lin1)
1212  01FD  6F          	ld	l,a
1213  01FE  E5          	push	hl
1214  01FF  CD 00 00    	call	_game_check_map
1215  0202  F1          	pop	af
1216  0203  7D          	ld	a,l
1217  0204  32 00 00    	ld	(_tmp0),a
1218  0207  B7          	or	a, a
1219  0208  20 16       	jr	NZ,l_spr_move_right_00102
1220  020A  3A 00 00    	ld	a,(_s_lin1)
1221  020D  C6 0F       	add	a,0x0f
1222  020F  4F          	ld	c, a
1223  0210  3A 00 00    	ld	a,(_s_col1)
1224  0213  F5          	push	af
1225  0214  33          	inc	sp
1226  0215  79          	ld	a, c
1227  0216  F5          	push	af
1228  0217  33          	inc	sp
1229  0218  CD 00 00    	call	_game_check_map
1230  021B  F1          	pop	af
1231  021C  7D          	ld	a,l
1232  021D  32 00 00    	ld	(_tmp0),a
1233  0220              l_spr_move_right_00102:
1234  0220  21 00 00    	ld	hl,_sprite_horizontal_check
1235  0223  36 00       	ld	(hl),0x00
1236  0225  3A 00 00    	ld	a,(_tmp0)
1237  0228  B7          	or	a, a
1238  0229  28 24       	jr	Z,l_spr_move_right_00108
1239  022B  2A 00 00    	ld	hl,(_sprite)
1240  022E  26 00       	ld	h,0x00
1241  0230  01 00 00    	ld	bc,_colint
1242  0233  09          	add	hl,bc
1243  0234  7E          	ld	a,(hl)
1244  0235  C6 FF       	add	a,0xff
1245  0237  77          	ld	(hl),a
1246  0238  3A 00 00    	ld	a,(_sprite_on_air)
1247  023B  B7          	or	a,a
1248  023C  20 0D       	jr	NZ,l_spr_move_right_00104
1249  023E  2A 00 00    	ld	hl,(_sprite)
1250  0241  26 00       	ld	h,0x00
1251  0243  01 00 00    	ld	bc,_colint
1252  0246  09          	add	hl,bc
1253  0247  7E          	ld	a,(hl)
1254  0248  C6 FF       	add	a,0xff
1255  024A  77          	ld	(hl),a
1256  024B              l_spr_move_right_00104:
1257  024B  2E 01       	ld	l,0x01
1258  024D  18 5F       	jr	l_spr_move_right_00119
1259  024F              l_spr_move_right_00108:
1260  024F  2A 00 00    	ld	hl,(_sprite)
1261  0252  26 00       	ld	h,0x00
1262  0254  01 00 00    	ld	bc,_col
1263  0257  09          	add	hl,bc
1264  0258  34          	inc	(hl)
1265  0259  2A 00 00    	ld	hl,(_sprite)
1266  025C  26 00       	ld	h,0x00
1267  025E  01 00 00    	ld	bc,_colint
1268  0261  09          	add	hl,bc
1269  0262  AF          	xor	a,a
1270  0263  77          	ld	(hl),a
1271  0264  2A 00 00    	ld	hl,(_sprite)
1272  0267  26 00       	ld	h,0x00
1273  0269  01 00 00    	ld	bc,_col
1274  026C  09          	add	hl,bc
1275  026D  5E          	ld	e,(hl)
1276  026E  3E 1E       	ld	a,0x1e
1277  0270  93          	sub	a,e
1278  0271  30 39       	jr	NC,l_spr_move_right_00118
1279  0273  3A 00 00    	ld	a,(_sprite)
1280  0276  D6 07       	sub	a,0x07
1281  0278  28 04       	jr	Z,l_spr_move_right_00156
1282  027A  4D          	ld	c,l
1283  027B  44          	ld	b,h
1284  027C  18 27       	jr	l_spr_move_right_00113
1285  027E              l_spr_move_right_00156:
1286  027E  CD B3 03    	call	_spr_page_right
1287  0281  3A 00 00    	ld	a,(_sprite)
1288  0284  C6 00       	add	a,+((_col) & 0xFF)
1289  0286  4D          	ld	c,l
1290  0287  5F          	ld	e,a
1291  0288  3E 00       	ld	a,+((_col) / 256)
1292  028A  CE 00       	adc	a,0x00
1293  028C  57          	ld	d,a
1294  028D  79          	ld	a, c
1295  028E  B7          	or	a, a
1296  028F  28 0F       	jr	Z,l_spr_move_right_00110
1297  0291  AF          	xor	a, a
1298  0292  12          	ld	(de), a
1299  0293  3A 07 00    	ld	a,(_lin + 7)
1300  0296  32 00 00    	ld	(_player_lin_scr),a
1301  0299  21 00 00    	ld	hl,_player_col_scr
1302  029C  36 00       	ld	(hl),0x00
1303  029E  18 08       	jr	l_spr_move_right_00114
1304  02A0              l_spr_move_right_00110:
1305  02A0  3E 1E       	ld	a,0x1e
1306  02A2  12          	ld	(de), a
1307  02A3  18 03       	jr	l_spr_move_right_00114
1308  02A5              l_spr_move_right_00113:
1309  02A5  3E 1E       	ld	a,0x1e
1310  02A7  02          	ld	(bc), a
1311  02A8              l_spr_move_right_00114:
1312  02A8  2E 01       	ld	l,0x01
1313  02AA  18 02       	jr	l_spr_move_right_00119
1314  02AC              l_spr_move_right_00118:
1315  02AC  2E 00       	ld	l,0x00
1316  02AE              l_spr_move_right_00119:
1317  02AE  C9          	ret
1318  02AF              	SECTION code_compiler
1319  02AF              ;	---------------------------------
1320  02AF              ; Function spr_move_left
1321  02AF              ; ---------------------------------
1322  02AF              _spr_move_left:
1323  02AF  2A 00 00    	ld	hl,(_sprite)
1324  02B2  26 00       	ld	h,0x00
1325  02B4  01 00 00    	ld	bc,_colint
1326  02B7  09          	add	hl,bc
1327  02B8  7E          	ld	a,(hl)
1328  02B9  C6 FF       	add	a,0xff
1329  02BB  77          	ld	(hl),a
1330  02BC  2A 00 00    	ld	hl,(_sprite)
1331  02BF  26 00       	ld	h,0x00
1332  02C1  01 00 00    	ld	bc,_colint
1333  02C4  09          	add	hl,bc
1334  02C5  7E          	ld	a,(hl)
1335  02C6  3C          	inc	a
1336  02C7  C2 B0 03    	jp	NZ,l_spr_move_left_00118
1337  02CA  2A 00 00    	ld	hl,(_sprite)
1338  02CD  26 00       	ld	h,0x00
1339  02CF  01 00 00    	ld	bc,_lin
1340  02D2  09          	add	hl,bc
1341  02D3  7E          	ld	a,(hl)
1342  02D4  32 00 00    	ld	(_s_lin1),a
1343  02D7  2A 00 00    	ld	hl,(_sprite)
1344  02DA  26 00       	ld	h,0x00
1345  02DC  01 00 00    	ld	bc,_col
1346  02DF  09          	add	hl,bc
1347  02E0  7E          	ld	a,(hl)
1348  02E1  B7          	or	a, a
1349  02E2  28 5C       	jr	Z,l_spr_move_left_00108
1350  02E4  C6 FF       	add	a,0xff
1351  02E6  32 00 00    	ld	(_s_col1),a
1352  02E9  21 00 00    	ld	hl,_sprite_horizontal_check
1353  02EC  36 01       	ld	(hl),0x01
1354  02EE  2A FF FF    	ld	hl,(_s_col1 - 1)
1355  02F1  3A 00 00    	ld	a,(_s_lin1)
1356  02F4  6F          	ld	l,a
1357  02F5  E5          	push	hl
1358  02F6  CD 00 00    	call	_game_check_map
1359  02F9  F1          	pop	af
1360  02FA  7D          	ld	a,l
1361  02FB  32 00 00    	ld	(_tmp0),a
1362  02FE  B7          	or	a, a
1363  02FF  20 16       	jr	NZ,l_spr_move_left_00102
1364  0301  3A 00 00    	ld	a,(_s_lin1)
1365  0304  C6 0F       	add	a,0x0f
1366  0306  4F          	ld	c, a
1367  0307  3A 00 00    	ld	a,(_s_col1)
1368  030A  F5          	push	af
1369  030B  33          	inc	sp
1370  030C  79          	ld	a, c
1371  030D  F5          	push	af
1372  030E  33          	inc	sp
1373  030F  CD 00 00    	call	_game_check_map
1374  0312  F1          	pop	af
1375  0313  7D          	ld	a,l
1376  0314  32 00 00    	ld	(_tmp0),a
1377  0317              l_spr_move_left_00102:
1378  0317  21 00 00    	ld	hl,_sprite_horizontal_check
1379  031A  36 00       	ld	(hl),0x00
1380  031C  3A 00 00    	ld	a,(_tmp0)
1381  031F  B7          	or	a, a
1382  0320  28 1E       	jr	Z,l_spr_move_left_00108
1383  0322  2A 00 00    	ld	hl,(_sprite)
1384  0325  26 00       	ld	h,0x00
1385  0327  01 00 00    	ld	bc,_colint
1386  032A  09          	add	hl,bc
1387  032B  34          	inc	(hl)
1388  032C  3A 00 00    	ld	a,(_sprite_on_air)
1389  032F  B7          	or	a,a
1390  0330  20 0A       	jr	NZ,l_spr_move_left_00104
1391  0332  2A 00 00    	ld	hl,(_sprite)
1392  0335  26 00       	ld	h,0x00
1393  0337  01 00 00    	ld	bc,_colint
1394  033A  09          	add	hl,bc
1395  033B  34          	inc	(hl)
1396  033C              l_spr_move_left_00104:
1397  033C  2E 01       	ld	l,0x01
1398  033E  18 72       	jr	l_spr_move_left_00119
1399  0340              l_spr_move_left_00108:
1400  0340  2A 00 00    	ld	hl,(_sprite)
1401  0343  26 00       	ld	h,0x00
1402  0345  01 00 00    	ld	bc,_col
1403  0348  09          	add	hl,bc
1404  0349  7E          	ld	a,(hl)
1405  034A  C6 FF       	add	a,0xff
1406  034C  77          	ld	(hl),a
1407  034D  2A 00 00    	ld	hl,(_sprite)
1408  0350  26 00       	ld	h,0x00
1409  0352  01 00 00    	ld	bc,_colint
1410  0355  09          	add	hl,bc
1411  0356  3A 00 00    	ld	a,(_sprite)
1412  0359  5F          	ld	e,a
1413  035A  16 00       	ld	d,0x00
1414  035C  4D          	ld	c,l
1415  035D  44          	ld	b,h
1416  035E  21 00 00    	ld	hl,_class
1417  0361  19          	add	hl,de
1418  0362  5E          	ld	e, (hl)
1419  0363  16 00       	ld	d,0x00
1420  0365  21 00 00    	ld	hl,_sprite_frames
1421  0368  19          	add	hl, de
1422  0369  5E          	ld	e, (hl)
1423  036A  1D          	dec	e
1424  036B  7B          	ld	a, e
1425  036C  02          	ld	(bc), a
1426  036D  2A 00 00    	ld	hl,(_sprite)
1427  0370  26 00       	ld	h,0x00
1428  0372  01 00 00    	ld	bc,_col
1429  0375  09          	add	hl,bc
1430  0376  7E          	ld	a,(hl)
1431  0377  3C          	inc	a
1432  0378  20 36       	jr	NZ,l_spr_move_left_00118
1433  037A  3A 00 00    	ld	a,(_sprite)
1434  037D  D6 07       	sub	a,0x07
1435  037F  4D          	ld	c,l
1436  0380  44          	ld	b,h
1437  0381  20 27       	jr	NZ,l_spr_move_left_00113
1438  0383  CD E6 03    	call	_spr_page_left
1439  0386  3A 00 00    	ld	a,(_sprite)
1440  0389  C6 00       	add	a,+((_col) & 0xFF)
1441  038B  4D          	ld	c,l
1442  038C  5F          	ld	e,a
1443  038D  3E 00       	ld	a,+((_col) / 256)
1444  038F  CE 00       	adc	a,0x00
1445  0391  57          	ld	d,a
1446  0392  79          	ld	a, c
1447  0393  B7          	or	a, a
1448  0394  28 10       	jr	Z,l_spr_move_left_00110
1449  0396  3E 1E       	ld	a,0x1e
1450  0398  12          	ld	(de), a
1451  0399  3A 07 00    	ld	a,(_lin + 7)
1452  039C  32 00 00    	ld	(_player_lin_scr),a
1453  039F  21 00 00    	ld	hl,_player_col_scr
1454  03A2  36 1E       	ld	(hl),0x1e
1455  03A4  18 06       	jr	l_spr_move_left_00114
1456  03A6              l_spr_move_left_00110:
1457  03A6  AF          	xor	a, a
1458  03A7  12          	ld	(de), a
1459  03A8  18 02       	jr	l_spr_move_left_00114
1460  03AA              l_spr_move_left_00113:
1461  03AA  AF          	xor	a, a
1462  03AB  02          	ld	(bc), a
1463  03AC              l_spr_move_left_00114:
1464  03AC  2E 01       	ld	l,0x01
1465  03AE  18 02       	jr	l_spr_move_left_00119
1466  03B0              l_spr_move_left_00118:
1467  03B0  2E 00       	ld	l,0x00
1468  03B2              l_spr_move_left_00119:
1469  03B2  C9          	ret
1470  03B3              	SECTION code_compiler
1471  03B3              ;	---------------------------------
1472  03B3              ; Function spr_page_right
1473  03B3              ; ---------------------------------
1474  03B3              _spr_page_right:
1475  03B3  2A FF FF    	ld	hl,(_map_width - 1)
1476  03B6  3A 00 00    	ld	a,(_scr_curr)
1477  03B9  6F          	ld	l,a
1478  03BA  E5          	push	hl
1479  03BB  CD 00 00    	call	__moduchar_callee
1480  03BE  7D          	ld	a, l
1481  03BF  3C          	inc	a
1482  03C0  32 00 00    	ld	(_tmp1),a
1483  03C3  21 00 00    	ld	hl,_map_width
1484  03C6  96          	sub	a, (hl)
1485  03C7  30 1A       	jr	NC,l_spr_page_right_00102
1486  03C9  3A 00 00    	ld	a,(_game_boss)
1487  03CC  B7          	or	a, a
1488  03CD  28 06       	jr	Z,l_spr_page_right_00101
1489  03CF  3A 00 00    	ld	a,(_game_god_mode)
1490  03D2  B7          	or	a, a
1491  03D3  28 0E       	jr	Z,l_spr_page_right_00102
1492  03D5              l_spr_page_right_00101:
1493  03D5  21 00 00    	ld	hl,_scr_curr
1494  03D8  34          	inc	(hl)
1495  03D9  CD 20 05    	call	_spr_page_map
1496  03DC  CD 00 00    	call	_game_draw_screen
1497  03DF  2E 01       	ld	l,0x01
1498  03E1  18 02       	jr	l_spr_page_right_00105
1499  03E3              l_spr_page_right_00102:
1500  03E3  2E 00       	ld	l,0x00
1501  03E5              l_spr_page_right_00105:
1502  03E5  C9          	ret
1503  03E6              	SECTION code_compiler
1504  03E6              ;	---------------------------------
1505  03E6              ; Function spr_page_left
1506  03E6              ; ---------------------------------
1507  03E6              _spr_page_left:
1508  03E6  2A FF FF    	ld	hl,(_map_width - 1)
1509  03E9  3A 00 00    	ld	a,(_scr_curr)
1510  03EC  6F          	ld	l,a
1511  03ED  E5          	push	hl
1512  03EE  CD 00 00    	call	__moduchar_callee
1513  03F1  7D          	ld	a,l
1514  03F2  32 00 00    	ld	(_tmp1),a
1515  03F5  B7          	or	a, a
1516  03F6  28 1A       	jr	Z,l_spr_page_left_00102
1517  03F8  3A 00 00    	ld	a,(_game_boss)
1518  03FB  B7          	or	a, a
1519  03FC  28 06       	jr	Z,l_spr_page_left_00101
1520  03FE  3A 00 00    	ld	a,(_game_god_mode)
1521  0401  B7          	or	a, a
1522  0402  28 0E       	jr	Z,l_spr_page_left_00102
1523  0404              l_spr_page_left_00101:
1524  0404  21 00 00    	ld	hl,_scr_curr
1525  0407  35          	dec	(hl)
1526  0408  CD 20 05    	call	_spr_page_map
1527  040B  CD 00 00    	call	_game_draw_screen
1528  040E  2E 01       	ld	l,0x01
1529  0410  18 02       	jr	l_spr_page_left_00105
1530  0412              l_spr_page_left_00102:
1531  0412  2E 00       	ld	l,0x00
1532  0414              l_spr_page_left_00105:
1533  0414  C9          	ret
1534  0415              	SECTION code_compiler
1535  0415              ;	---------------------------------
1536  0415              ; Function spr_page_down
1537  0415              ; ---------------------------------
1538  0415              _spr_page_down:
1539  0415  2A FF FF    	ld	hl,(_map_heigth - 1)
1540  0418  3A 00 00    	ld	a,(_scr_curr)
1541  041B  6F          	ld	l,a
1542  041C  E5          	push	hl
1543  041D  CD 00 00    	call	__divuchar_callee
1544  0420  7D          	ld	a, l
1545  0421  3C          	inc	a
1546  0422  32 00 00    	ld	(_tmp1),a
1547  0425  21 00 00    	ld	hl,_map_heigth
1548  0428  96          	sub	a, (hl)
1549  0429  30 36       	jr	NC,l_spr_page_down_00102
1550  042B  3A 00 00    	ld	a,(_game_boss)
1551  042E  B7          	or	a, a
1552  042F  28 06       	jr	Z,l_spr_page_down_00101
1553  0431  3A 00 00    	ld	a,(_game_god_mode)
1554  0434  B7          	or	a, a
1555  0435  28 2A       	jr	Z,l_spr_page_down_00102
1556  0437              l_spr_page_down_00101:
1557  0437  3A 00 00    	ld	a,(_scr_curr)
1558  043A  21 00 00    	ld	hl,_map_width
1559  043D  86          	add	a, (hl)
1560  043E  32 00 00    	ld	(_scr_curr),a
1561  0441  CD 20 05    	call	_spr_page_map
1562  0444  CD 00 00    	call	_game_draw_screen
1563  0447  21 00 00    	ld	hl,_player_lin_scr
1564  044A  36 08       	ld	(hl),0x08
1565  044C  2A 00 00    	ld	hl,(_sprite)
1566  044F  26 00       	ld	h,0x00
1567  0451  01 00 00    	ld	bc,_lin
1568  0454  09          	add	hl,bc
1569  0455  36 08       	ld	(hl),0x08
1570  0457  3A 07 00    	ld	a,(_col + 0x0007)
1571  045A  32 00 00    	ld	(_player_col_scr),a
1572  045D  2E 01       	ld	l,0x01
1573  045F  18 02       	jr	l_spr_page_down_00105
1574  0461              l_spr_page_down_00102:
1575  0461  2E 00       	ld	l,0x00
1576  0463              l_spr_page_down_00105:
1577  0463  C9          	ret
1578  0464              	SECTION code_compiler
1579  0464              ;	---------------------------------
1580  0464              ; Function spr_page_up
1581  0464              ; ---------------------------------
1582  0464              _spr_page_up:
1583  0464  2A FF FF    	ld	hl,(_map_heigth - 1)
1584  0467  3A 00 00    	ld	a,(_scr_curr)
1585  046A  6F          	ld	l,a
1586  046B  E5          	push	hl
1587  046C  CD 00 00    	call	__divuchar_callee
1588  046F  7D          	ld	a,l
1589  0470  32 00 00    	ld	(_tmp1),a
1590  0473  B7          	or	a, a
1591  0474  28 36       	jr	Z,l_spr_page_up_00102
1592  0476  3A 00 00    	ld	a,(_game_boss)
1593  0479  B7          	or	a, a
1594  047A  28 06       	jr	Z,l_spr_page_up_00101
1595  047C  3A 00 00    	ld	a,(_game_god_mode)
1596  047F  B7          	or	a, a
1597  0480  28 2A       	jr	Z,l_spr_page_up_00102
1598  0482              l_spr_page_up_00101:
1599  0482  3A 00 00    	ld	a,(_scr_curr)
1600  0485  21 00 00    	ld	hl,_map_width
1601  0488  96          	sub	a, (hl)
1602  0489  32 00 00    	ld	(_scr_curr),a
1603  048C  CD 20 05    	call	_spr_page_map
1604  048F  CD 00 00    	call	_game_draw_screen
1605  0492  2A 00 00    	ld	hl,(_sprite)
1606  0495  26 00       	ld	h,0x00
1607  0497  01 00 00    	ld	bc,_lin
1608  049A  09          	add	hl,bc
1609  049B  36 8C       	ld	(hl),0x8c
1610  049D  21 00 00    	ld	hl,_player_lin_scr
1611  04A0  36 90       	ld	(hl),0x90
1612  04A2  3A 07 00    	ld	a,(_col + 0x0007)
1613  04A5  32 00 00    	ld	(_player_col_scr),a
1614  04A8  2E 01       	ld	l,0x01
1615  04AA  18 02       	jr	l_spr_page_up_00105
1616  04AC              l_spr_page_up_00102:
1617  04AC  2E 00       	ld	l,0x00
1618  04AE              l_spr_page_up_00105:
1619  04AE  C9          	ret
1620  04AF              	SECTION code_compiler
1621  04AF              ;	---------------------------------
1622  04AF              ; Function spr_clear_scr
1623  04AF              ; ---------------------------------
1624  04AF              _spr_clear_scr:
1625  04AF  CD 00 00    	call	___sdcc_enter_ix
1626  04B2  3B          	dec	sp
1627  04B3  06 00       	ld	b,0x00
1628  04B5              l_spr_clear_scr_00105:
1629  04B5  C5          	push	bc
1630  04B6  21 00 00    	ld	hl,0x0000
1631  04B9  E5          	push	hl
1632  04BA  AF          	xor	a, a
1633  04BB  48          	ld	c,b
1634  04BC  47          	ld	b,a
1635  04BD  C5          	push	bc
1636  04BE  CD 00 00    	call	_NIRVANAP_spriteT_callee
1637  04C1  C1          	pop	bc
1638  04C2  04          	inc	b
1639  04C3  78          	ld	a, b
1640  04C4  D6 08       	sub	a,0x08
1641  04C6  38 ED       	jr	C,l_spr_clear_scr_00105
1642  04C8  76          	halt
1643  04C9  F3          	di
1644  04CA  0E 00       	ld	c,0x00
1645  04CC              l_spr_clear_scr_00117:
1646  04CC  79          	ld	a, c
1647  04CD  87          	add	a, a
1648  04CE  DD 77 FF    	ld	(ix-1),a
1649  04D1  5F          	ld	e,a
1650  04D2  06 01       	ld	b,0x01
1651  04D4              l_spr_clear_scr_00107:
1652  04D4  78          	ld	a, b
1653  04D5  07          	rlca
1654  04D6  07          	rlca
1655  04D7  07          	rlca
1656  04D8  07          	rlca
1657  04D9  E6 F0       	and	a,0xf0
1658  04DB  57          	ld	d, a
1659  04DC  C5          	push	bc
1660  04DD  D5          	push	de
1661  04DE  DD 7E FF    	ld	a,(ix-1)
1662  04E1  5A          	ld	e,d
1663  04E2  57          	ld	d,a
1664  04E3  D5          	push	de
1665  04E4  AF          	xor	a, a
1666  04E5  F5          	push	af
1667  04E6  33          	inc	sp
1668  04E7  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1669  04EA  D1          	pop	de
1670  04EB  C1          	pop	bc
1671  04EC  04          	inc	b
1672  04ED  78          	ld	a, b
1673  04EE  D6 0A       	sub	a,0x0a
1674  04F0  38 E2       	jr	C,l_spr_clear_scr_00107
1675  04F2  3E 1E       	ld	a,0x1e
1676  04F4  93          	sub	a, e
1677  04F5  57          	ld	d, a
1678  04F6  1E 01       	ld	e,0x01
1679  04F8              l_spr_clear_scr_00109:
1680  04F8  7B          	ld	a, e
1681  04F9  07          	rlca
1682  04FA  07          	rlca
1683  04FB  07          	rlca
1684  04FC  07          	rlca
1685  04FD  E6 F0       	and	a,0xf0
1686  04FF  47          	ld	b, a
1687  0500  C5          	push	bc
1688  0501  D5          	push	de
1689  0502  58          	ld	e,b
1690  0503  D5          	push	de
1691  0504  AF          	xor	a, a
1692  0505  F5          	push	af
1693  0506  33          	inc	sp
1694  0507  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1695  050A  D1          	pop	de
1696  050B  C1          	pop	bc
1697  050C  1C          	inc	e
1698  050D  7B          	ld	a, e
1699  050E  D6 0A       	sub	a,0x0a
1700  0510  38 E6       	jr	C,l_spr_clear_scr_00109
1701  0512  FB          	ei
1702  0513  76          	halt
1703  0514  F3          	di
1704  0515  0C          	inc	c
1705  0516  79          	ld	a, c
1706  0517  D6 08       	sub	a,0x08
1707  0519  38 B1       	jr	C,l_spr_clear_scr_00117
1708  051B  FB          	ei
1709  051C  33          	inc	sp
1710  051D  DD E1       	pop	ix
1711  051F  C9          	ret
1712  0520              	SECTION code_compiler
1713  0520              ;	---------------------------------
1714  0520              ; Function spr_page_map
1715  0520              ; ---------------------------------
1716  0520              _spr_page_map:
1717  0520  CD 00 00    	call	___sdcc_enter_ix
1718  0523  21 EA FF    	ld	hl, -22
1719  0526  39          	add	hl, sp
1720  0527  F9          	ld	sp, hl
1721  0528  3A 00 00    	ld	a,(_game_world)
1722  052B  DD 77 ED    	ld	(ix-19),a
1723  052E  3A 00 00    	ld	a,(_scr_curr)
1724  0531  DD 77 EA    	ld	(ix-22),a
1725  0534  DD 36 F0 10 	ld	(ix-16),0x10
1726  0538  CD AF 04    	call	_spr_clear_scr
1727  053B  F3          	di
1728  053C  3E 16       	ld	a,0x16
1729  053E  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1730  0541  01 FD 7F    	ld	bc,_IO_7FFD
1731  0544  ED 79       	out	(c),a
1732  0546  DD 7E EA    	ld	a,(ix-22)
1733  0549  3C          	inc	a
1734  054A  20 04       	jr	NZ,l_spr_page_map_00207
1735  054C  3E 01       	ld	a,0x01
1736  054E  18 01       	jr	l_spr_page_map_00208
1737  0550              l_spr_page_map_00207:
1738  0550  AF          	xor	a,a
1739  0551              l_spr_page_map_00208:
1740  0551  DD 77 FB    	ld	(ix-5),a
1741  0554  DD 7E ED    	ld	a,(ix-19)
1742  0557  B7          	or	a, a
1743  0558  20 32       	jr	NZ,l_spr_page_map_00106
1744  055A  DD 7E FB    	ld	a,(ix-5)
1745  055D  B7          	or	a, a
1746  055E  28 07       	jr	Z,l_spr_page_map_00102
1747  0560  21 00 00    	ld	hl,_start_scr0
1748  0563  4E          	ld	c, (hl)
1749  0564  DD 71 EA    	ld	(ix-22),c
1750  0567              l_spr_page_map_00102:
1751  0567  01 00 00    	ld	bc,_paper0
1752  056A  DD 6E EA    	ld	l,(ix-22)
1753  056D  26 00       	ld	h,0x00
1754  056F  09          	add	hl,bc
1755  0570  DD 75 FE    	ld	(ix-2),l
1756  0573  DD 74 FF    	ld	(ix-1),h
1757  0576  7E          	ld	a, (hl)
1758  0577  DD 77 FE    	ld	(ix-2),a
1759  057A  3A 00 00    	ld	a,(_world0_w)
1760  057D  DD 77 EC    	ld	(ix-20),a
1761  0580  DD 77 FD    	ld	(ix-3),a
1762  0583  21 00 00    	ld	hl,_world0_h
1763  0586  4E          	ld	c, (hl)
1764  0587  DD 71 FC    	ld	(ix-4),c
1765  058A  18 32       	jr	l_spr_page_map_00107
1766  058C              l_spr_page_map_00106:
1767  058C  DD 7E FB    	ld	a,(ix-5)
1768  058F  B7          	or	a, a
1769  0590  28 07       	jr	Z,l_spr_page_map_00104
1770  0592  21 00 00    	ld	hl,_start_scr1
1771  0595  4E          	ld	c, (hl)
1772  0596  DD 71 EA    	ld	(ix-22),c
1773  0599              l_spr_page_map_00104:
1774  0599  01 00 00    	ld	bc,_paper1
1775  059C  DD 6E EA    	ld	l,(ix-22)
1776  059F  26 00       	ld	h,0x00
1777  05A1  09          	add	hl,bc
1778  05A2  DD 75 F9    	ld	(ix-7),l
1779  05A5  DD 74 FA    	ld	(ix-6),h
1780  05A8  7E          	ld	a, (hl)
1781  05A9  DD 77 FE    	ld	(ix-2),a
1782  05AC  3A 00 00    	ld	a,(_world1_w)
1783  05AF  DD 77 EC    	ld	(ix-20),a
1784  05B2  DD 77 FD    	ld	(ix-3),a
1785  05B5  3A 00 00    	ld	a,(_world1_h)
1786  05B8  DD 77 EB    	ld	(ix-21),a
1787  05BB  DD 77 FC    	ld	(ix-4),a
1788  05BE              l_spr_page_map_00107:
1789  05BE  3E 10       	ld	a,0x10
1790  05C0  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1791  05C3  01 FD 7F    	ld	bc,_IO_7FFD
1792  05C6  ED 79       	out	(c),a
1793  05C8  3E 00       	ld	a,0x00
1794  05CA  DD 77 EE    	ld	(ix-18),a
1795  05CD  DD 77 EF    	ld	(ix-17),a
1796  05D0  DD 77 F1    	ld	(ix-15),a
1797  05D3              l_spr_page_map_00111:
1798  05D3  DD 7E F1    	ld	a,(ix-15)
1799  05D6  DD 96 EA    	sub	a,(ix-22)
1800  05D9  30 64       	jr	NC,l_spr_page_map_00113
1801  05DB  3E 16       	ld	a,0x16
1802  05DD  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1803  05E0  01 FD 7F    	ld	bc,_IO_7FFD
1804  05E3  ED 79       	out	(c),a
1805  05E5  DD 7E ED    	ld	a,(ix-19)
1806  05E8  B7          	or	a, a
1807  05E9  20 19       	jr	NZ,l_spr_page_map_00109
1808  05EB  01 00 00    	ld	bc,_lenght0
1809  05EE  DD 6E F1    	ld	l,(ix-15)
1810  05F1  26 00       	ld	h,0x00
1811  05F3  09          	add	hl,bc
1812  05F4  DD 75 F9    	ld	(ix-7),l
1813  05F7  DD 74 FA    	ld	(ix-6),h
1814  05FA  7E          	ld	a, (hl)
1815  05FB  DD 77 F9    	ld	(ix-7),a
1816  05FE  DD 36 FA 00 	ld	(ix-6),0x00
1817  0602  18 1A       	jr	l_spr_page_map_00110
1818  0604              l_spr_page_map_00109:
1819  0604  01 00 00    	ld	bc,_lenght1
1820  0607  DD 6E F1    	ld	l,(ix-15)
1821  060A  26 00       	ld	h,0x00
1822  060C  09          	add	hl,bc
1823  060D  DD 75 F7    	ld	(ix-9),l
1824  0610  DD 74 F8    	ld	(ix-8),h
1825  0613  7E          	ld	a, (hl)
1826  0614  DD 77 F7    	ld	(ix-9),a
1827  0617  DD 77 F9    	ld	(ix-7),a
1828  061A  DD 36 FA 00 	ld	(ix-6),0x00
1829  061E              l_spr_page_map_00110:
1830  061E  3E 10       	ld	a,0x10
1831  0620  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1832  0623  01 FD 7F    	ld	bc,_IO_7FFD
1833  0626  ED 79       	out	(c),a
1834  0628  DD 7E EE    	ld	a,(ix-18)
1835  062B  DD 86 F9    	add	a,(ix-7)
1836  062E  DD 77 EE    	ld	(ix-18),a
1837  0631  DD 7E EF    	ld	a,(ix-17)
1838  0634  DD 8E FA    	adc	a,(ix-6)
1839  0637  DD 77 EF    	ld	(ix-17),a
1840  063A  DD 34 F1    	inc	(ix-15)
1841  063D  18 94       	jr	l_spr_page_map_00111
1842  063F              l_spr_page_map_00113:
1843  063F  FB          	ei
1844  0640  F3          	di
1845  0641  DD 36 F2 00 	ld	(ix-14),0x00
1846  0645              l_spr_page_map_00137:
1847  0645  3E 16       	ld	a,0x16
1848  0647  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1849  064A  01 FD 7F    	ld	bc,_IO_7FFD
1850  064D  ED 79       	out	(c),a
1851  064F  DD 7E F2    	ld	a,(ix-14)
1852  0652  DD 77 F7    	ld	(ix-9),a
1853  0655  DD 36 F8 00 	ld	(ix-8),0x00
1854  0659  DD 7E EE    	ld	a,(ix-18)
1855  065C  DD 86 F7    	add	a,(ix-9)
1856  065F  DD 77 F7    	ld	(ix-9),a
1857  0662  DD 7E EF    	ld	a,(ix-17)
1858  0665  DD 8E F8    	adc	a,(ix-8)
1859  0668  DD 77 F8    	ld	(ix-8),a
1860  066B  DD 7E F7    	ld	a,(ix-9)
1861  066E  C6 01       	add	a,0x01
1862  0670  DD 77 F9    	ld	(ix-7),a
1863  0673  DD 7E F8    	ld	a,(ix-8)
1864  0676  CE 00       	adc	a,0x00
1865  0678  DD 77 FA    	ld	(ix-6),a
1866  067B  DD 7E ED    	ld	a,(ix-19)
1867  067E  B7          	or	a, a
1868  067F  20 2A       	jr	NZ,l_spr_page_map_00115
1869  0681  DD 6E F7    	ld	l,(ix-9)
1870  0684  DD 66 F8    	ld	h,(ix-8)
1871  0687  01 00 00    	ld	bc,_world0
1872  068A  09          	add	hl,bc
1873  068B  DD 75 F5    	ld	(ix-11),l
1874  068E  DD 74 F6    	ld	(ix-10),h
1875  0691  7E          	ld	a, (hl)
1876  0692  DD 77 F4    	ld	(ix-12),a
1877  0695  DD 6E F9    	ld	l,(ix-7)
1878  0698  DD 66 FA    	ld	h,(ix-6)
1879  069B  01 00 00    	ld	bc,_world0
1880  069E  09          	add	hl,bc
1881  069F  DD 75 F5    	ld	(ix-11),l
1882  06A2  DD 74 F6    	ld	(ix-10),h
1883  06A5  7E          	ld	a, (hl)
1884  06A6  DD 77 F3    	ld	(ix-13),a
1885  06A9  18 28       	jr	l_spr_page_map_00116
1886  06AB              l_spr_page_map_00115:
1887  06AB  DD 6E F7    	ld	l,(ix-9)
1888  06AE  DD 66 F8    	ld	h,(ix-8)
1889  06B1  01 00 00    	ld	bc,_world1
1890  06B4  09          	add	hl,bc
1891  06B5  DD 75 F5    	ld	(ix-11),l
1892  06B8  DD 74 F6    	ld	(ix-10),h
1893  06BB  7E          	ld	a, (hl)
1894  06BC  DD 77 F4    	ld	(ix-12),a
1895  06BF  DD 6E F9    	ld	l,(ix-7)
1896  06C2  DD 66 FA    	ld	h,(ix-6)
1897  06C5  01 00 00    	ld	bc,_world1
1898  06C8  09          	add	hl,bc
1899  06C9  DD 75 F5    	ld	(ix-11),l
1900  06CC  DD 74 F6    	ld	(ix-10),h
1901  06CF  7E          	ld	a, (hl)
1902  06D0  DD 77 F3    	ld	(ix-13),a
1903  06D3              l_spr_page_map_00116:
1904  06D3  3E 10       	ld	a,0x10
1905  06D5  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1906  06D8  01 FD 7F    	ld	bc,_IO_7FFD
1907  06DB  ED 79       	out	(c),a
1908  06DD  DD 7E F4    	ld	a,(ix-12)
1909  06E0  D6 80       	sub	a,0x80
1910  06E2  30 4D       	jr	NC,l_spr_page_map_00127
1911  06E4  DD 7E F0    	ld	a,(ix-16)
1912  06E7  DD 77 F5    	ld	(ix-11),a
1913  06EA  6F          	ld	l, a
1914  06EB  26 00       	ld	h,0x00
1915  06ED  DD 74 F6    	ld	(ix-10),h
1916  06F0  E5          	push	hl
1917  06F1  CD 00 00    	call	_game_obj_chk
1918  06F4  F1          	pop	af
1919  06F5  DD 75 F7    	ld	(ix-9),l
1920  06F8  3E 00       	ld	a, +((_scr_map) & 0xFF)
1921  06FA  DD 86 F0    	add	a,(ix-16)
1922  06FD  DD 77 F9    	ld	(ix-7),a
1923  0700  3E 00       	ld	a, +((_scr_map) / 256)
1924  0702  CE 00       	adc	a,0x00
1925  0704  DD 77 FA    	ld	(ix-6),a
1926  0707  DD 7E F7    	ld	a,(ix-9)
1927  070A  B7          	or	a, a
1928  070B  20 0C       	jr	NZ,l_spr_page_map_00118
1929  070D  DD 6E F9    	ld	l,(ix-7)
1930  0710  DD 66 FA    	ld	h,(ix-6)
1931  0713  DD 7E F4    	ld	a,(ix-12)
1932  0716  77          	ld	(hl), a
1933  0717  18 13       	jr	l_spr_page_map_00119
1934  0719              l_spr_page_map_00118:
1935  0719  DD 6E F5    	ld	l,(ix-11)
1936  071C  DD 66 F6    	ld	h,(ix-10)
1937  071F  E5          	push	hl
1938  0720  CD 00 00    	call	_game_match_back
1939  0723  F1          	pop	af
1940  0724  4D          	ld	c, l
1941  0725  DD 6E F9    	ld	l,(ix-7)
1942  0728  DD 66 FA    	ld	h,(ix-6)
1943  072B  71          	ld	(hl), c
1944  072C              l_spr_page_map_00119:
1945  072C  DD 34 F0    	inc	(ix-16)
1946  072F  18 67       	jr	l_spr_page_map_00128
1947  0731              l_spr_page_map_00127:
1948  0731  DD 7E F4    	ld	a,(ix-12)
1949  0734  C6 80       	add	a,0x80
1950  0736  4F          	ld	c, a
1951  0737  DD 5E F0    	ld	e,(ix-16)
1952  073A  06 00       	ld	b,0x00
1953  073C              l_spr_page_map_00135:
1954  073C  78          	ld	a, b
1955  073D  91          	sub	a, c
1956  073E  30 52       	jr	NC,l_spr_page_map_00158
1957  0740  DD 73 F5    	ld	(ix-11),e
1958  0743  DD 36 F6 00 	ld	(ix-10),0x00
1959  0747  C5          	push	bc
1960  0748  D5          	push	de
1961  0749  DD 6E F5    	ld	l,(ix-11)
1962  074C  DD 66 F6    	ld	h,(ix-10)
1963  074F  E5          	push	hl
1964  0750  CD 00 00    	call	_game_obj_chk
1965  0753  F1          	pop	af
1966  0754  D1          	pop	de
1967  0755  C1          	pop	bc
1968  0756  7D          	ld	a,l
1969  0757  B7          	or	a,a
1970  0758  20 0B       	jr	NZ,l_spr_page_map_00121
1971  075A  57          	ld	d,a
1972  075B  21 00 00    	ld	hl,_scr_map
1973  075E  19          	add	hl, de
1974  075F  DD 7E F3    	ld	a,(ix-13)
1975  0762  77          	ld	(hl), a
1976  0763  18 24       	jr	l_spr_page_map_00122
1977  0765              l_spr_page_map_00121:
1978  0765  3E 00       	ld	a, +((_scr_map) & 0xFF)
1979  0767  83          	add	a, e
1980  0768  DD 77 F7    	ld	(ix-9),a
1981  076B  3E 00       	ld	a, +((_scr_map) / 256)
1982  076D  CE 00       	adc	a,0x00
1983  076F  DD 77 F8    	ld	(ix-8),a
1984  0772  C5          	push	bc
1985  0773  D5          	push	de
1986  0774  DD 6E F5    	ld	l,(ix-11)
1987  0777  DD 66 F6    	ld	h,(ix-10)
1988  077A  E5          	push	hl
1989  077B  CD 00 00    	call	_game_match_back
1990  077E  F1          	pop	af
1991  077F  D1          	pop	de
1992  0780  C1          	pop	bc
1993  0781  7D          	ld	a,l
1994  0782  DD 6E F7    	ld	l,(ix-9)
1995  0785  DD 66 F8    	ld	h,(ix-8)
1996  0788  77          	ld	(hl), a
1997  0789              l_spr_page_map_00122:
1998  0789  1C          	inc	e
1999  078A  7B          	ld	a, e
2000  078B  D6 A0       	sub	a,0xa0
2001  078D  30 03       	jr	NC,l_spr_page_map_00158
2002  078F  04          	inc	b
2003  0790  18 AA       	jr	l_spr_page_map_00135
2004  0792              l_spr_page_map_00158:
2005  0792  DD 73 F0    	ld	(ix-16),e
2006  0795  DD 34 F2    	inc	(ix-14)
2007  0798              l_spr_page_map_00128:
2008  0798  DD 7E F0    	ld	a,(ix-16)
2009  079B  D6 A0       	sub	a,0xa0
2010  079D  30 0B       	jr	NC,l_spr_page_map_00131
2011  079F  DD 34 F2    	inc	(ix-14)
2012  07A2  DD 7E F2    	ld	a,(ix-14)
2013  07A5  D6 A0       	sub	a,0xa0
2014  07A7  DA 45 06    	jp	C, l_spr_page_map_00137
2015  07AA              l_spr_page_map_00131:
2016  07AA  CD 52 0E    	call	_spr_init_anim_bullets
2017  07AD  DD 7E EA    	ld	a,(ix-22)
2018  07B0  32 00 00    	ld	(_scr_curr),a
2019  07B3  DD 7E FD    	ld	a,(ix-3)
2020  07B6  32 00 00    	ld	(_map_width),a
2021  07B9  DD 7E FC    	ld	a,(ix-4)
2022  07BC  32 00 00    	ld	(_map_heigth),a
2023  07BF  DD 7E FE    	ld	a,(ix-2)
2024  07C2  32 00 00    	ld	(_map_paper),a
2025  07C5  3A 00 00    	ld	a,(_map_paper_last)
2026  07C8  21 00 00    	ld	hl,_map_paper
2027  07CB  96          	sub	a, (hl)
2028  07CC  28 03       	jr	Z,l_spr_page_map_00133
2029  07CE  CD A9 16    	call	_spr_btile_paint_back
2030  07D1              l_spr_page_map_00133:
2031  07D1  3A 00 00    	ld	a,(_map_paper)
2032  07D4  32 00 00    	ld	(_map_paper_last),a
2033  07D7  FB          	ei
2034  07D8  CD 00 00    	call	_NIRVANAP_start
2035  07DB  21 00 00    	ld	hl,_screen_ink
2036  07DE  36 06       	ld	(hl),0x06
2037  07E0  21 00 00    	ld	hl,___str_0
2038  07E3  E5          	push	hl
2039  07E4  21 17 0C    	ld	hl,0x0c17
2040  07E7  E5          	push	hl
2041  07E8  CD 00 00    	call	_zx_print_str
2042  07EB  3A 00 00    	ld	a,(_scr_curr)
2043  07EE  F5          	push	af
2044  07EF  33          	inc	sp
2045  07F0  21 17 10    	ld	hl,0x1017
2046  07F3  E5          	push	hl
2047  07F4  CD 00 00    	call	_zx_print_chr
2048  07F7  DD F9       	ld	sp, ix
2049  07F9  DD E1       	pop	ix
2050  07FB  C9          	ret
2051  07FC              	SECTION rodata_compiler
2052  0000              ___str_0:
2053  0000  53 43 52 3A 	DEFM "SCR:"
2054  0004  00          	DEFB 0x00
2055  0005              	SECTION code_compiler
2056  07FC              ;	---------------------------------
2057  07FC              ; Function spr_redraw
2058  07FC              ; ---------------------------------
2059  07FC              _spr_redraw:
2060  07FC  2A 00 00    	ld	hl,(_sprite)
2061  07FF  26 00       	ld	h,0x00
2062  0801  01 00 00    	ld	bc,_tile
2063  0804  09          	add	hl,bc
2064  0805  4E          	ld	c, (hl)
2065  0806  3A 00 00    	ld	a,(_sprite)
2066  0809  5F          	ld	e,a
2067  080A  16 00       	ld	d,0x00
2068  080C  21 00 00    	ld	hl,_colint
2069  080F  19          	add	hl,de
2070  0810  7E          	ld	a,(hl)
2071  0811  81          	add	a,c
2072  0812  32 00 00    	ld	(_s_tile1),a
2073  0815  2A 00 00    	ld	hl,(_sprite)
2074  0818  26 00       	ld	h,0x00
2075  081A  01 00 00    	ld	bc,_col
2076  081D  09          	add	hl,bc
2077  081E  7E          	ld	a,(hl)
2078  081F  32 00 00    	ld	(_s_col1),a
2079  0822  2A 00 00    	ld	hl,(_sprite)
2080  0825  26 00       	ld	h,0x00
2081  0827  01 00 00    	ld	bc,_lin
2082  082A  09          	add	hl,bc
2083  082B  7E          	ld	a,(hl)
2084  082C  4D          	ld	c,l
2085  082D  32 00 00    	ld	(_s_lin1),a
2086  0830  21 00 00    	ld	hl,_s_lin0
2087  0833  96          	sub	a, (hl)
2088  0834  20 0A       	jr	NZ,l_spr_redraw_00117
2089  0836  3A 00 00    	ld	a,(_s_col1)
2090  0839  21 00 00    	ld	hl,_s_col0
2091  083C  96          	sub	a, (hl)
2092  083D  CA F3 08    	jp	Z,l_spr_redraw_00118
2093  0840              l_spr_redraw_00117:
2094  0840  3A 00 00    	ld	a,(_sprite)
2095  0843  D6 07       	sub	a,0x07
2096  0845  20 3A       	jr	NZ,l_spr_redraw_00113
2097  0847  3A 00 00    	ld	a,(_player_over_stair)
2098  084A  B7          	or	a, a
2099  084B  28 2F       	jr	Z,l_spr_redraw_00104
2100  084D  3A 07 00    	ld	a, (_lin + 7)
2101  0850  E6 03       	and	a,0x03
2102  0852  20 28       	jr	NZ,l_spr_redraw_00104
2103  0854  21 00 00    	ld	hl,_player_anim_stair
2104  0857  34          	inc	(hl)
2105  0858  20 02       	jr	NZ,l_spr_redraw_00162
2106  085A  23          	inc	hl
2107  085B  34          	inc	(hl)
2108  085C              l_spr_redraw_00162:
2109  085C  3E 01       	ld	a,0x01
2110  085E  21 00 00    	ld	hl,_player_anim_stair
2111  0861  BE          	cp	a, (hl)
2112  0862  3E 00       	ld	a,0x00
2113  0864  23          	inc	hl
2114  0865  9E          	sbc	a, (hl)
2115  0866  30 05       	jr	NC,l_spr_redraw_00102
2116  0868  2B          	dec	hl
2117  0869  AF          	xor	a, a
2118  086A  77          	ld	(hl), a
2119  086B  23          	inc	hl
2120  086C  77          	ld	(hl), a
2121  086D              l_spr_redraw_00102:
2122  086D  21 07 00    	ld	hl,_tile + 7
2123  0870  4E          	ld	c, (hl)
2124  0871  21 00 00    	ld	hl,_player_anim_stair
2125  0874  46          	ld	b, (hl)
2126  0875  79          	ld	a, c
2127  0876  80          	add	a, b
2128  0877  C6 04       	add	a,0x04
2129  0879  32 00 00    	ld	(_s_tile1),a
2130  087C              l_spr_redraw_00104:
2131  087C  CD AA 0C    	call	_spr_back_repaint
2132  087F  18 5B       	jr	l_spr_redraw_00114
2133  0881              l_spr_redraw_00113:
2134  0881  3A 00 00    	ld	a,(_s_lin1)
2135  0884  E6 07       	and	a,0x07
2136  0886  20 05       	jr	NZ,l_spr_redraw_00110
2137  0888  CD AA 0C    	call	_spr_back_repaint
2138  088B  18 4F       	jr	l_spr_redraw_00114
2139  088D              l_spr_redraw_00110:
2140  088D  21 00 00    	ld	hl,_s_state
2141  0890  CB 46       	bit	0, (hl)
2142  0892  28 26       	jr	Z,l_spr_redraw_00107
2143  0894  3A 00 00    	ld	a,(_s_lin0)
2144  0897  C6 08       	add	a,0x08
2145  0899  47          	ld	b, a
2146  089A  3A 00 00    	ld	a,(_s_col0)
2147  089D  F5          	push	af
2148  089E  33          	inc	sp
2149  089F  C5          	push	bc
2150  08A0  33          	inc	sp
2151  08A1  3A 00 00    	ld	a,(_map_paper_clr)
2152  08A4  F5          	push	af
2153  08A5  33          	inc	sp
2154  08A6  CD 00 00    	call	_NIRVANAP_fillC_callee
2155  08A9  21 00 00    	ld	hl,_s_col0
2156  08AC  56          	ld	d, (hl)
2157  08AD  14          	inc	d
2158  08AE  58          	ld	e,b
2159  08AF  3A 00 00    	ld	a,(_map_paper_clr)
2160  08B2  D5          	push	de
2161  08B3  F5          	push	af
2162  08B4  33          	inc	sp
2163  08B5  CD 00 00    	call	_NIRVANAP_fillC_callee
2164  08B8  18 22       	jr	l_spr_redraw_00114
2165  08BA              l_spr_redraw_00107:
2166  08BA  2A FF FF    	ld	hl,(_s_col0 - 1)
2167  08BD  3A 00 00    	ld	a,(_s_lin0)
2168  08C0  6F          	ld	l,a
2169  08C1  3A 00 00    	ld	a,(_map_paper_clr)
2170  08C4  E5          	push	hl
2171  08C5  F5          	push	af
2172  08C6  33          	inc	sp
2173  08C7  CD 00 00    	call	_NIRVANAP_fillC_callee
2174  08CA  21 00 00    	ld	hl,_s_col0
2175  08CD  46          	ld	b, (hl)
2176  08CE  04          	inc	b
2177  08CF  C5          	push	bc
2178  08D0  33          	inc	sp
2179  08D1  2A FF FF    	ld	hl,(_s_lin0 - 1)
2180  08D4  3A 00 00    	ld	a,(_map_paper_clr)
2181  08D7  6F          	ld	l,a
2182  08D8  E5          	push	hl
2183  08D9  CD 00 00    	call	_NIRVANAP_fillC_callee
2184  08DC              l_spr_redraw_00114:
2185  08DC  2A FF FF    	ld	hl,(_s_col1 - 1)
2186  08DF  3A 00 00    	ld	a,(_s_lin1)
2187  08E2  6F          	ld	l,a
2188  08E3  E5          	push	hl
2189  08E4  2A FF FF    	ld	hl,(_s_tile1 - 1)
2190  08E7  3A 00 00    	ld	a,(_sprite)
2191  08EA  6F          	ld	l,a
2192  08EB  E5          	push	hl
2193  08EC  CD 00 00    	call	_NIRVANAP_spriteT_callee
2194  08EF  2E 01       	ld	l,0x01
2195  08F1  18 22       	jr	l_spr_redraw_00121
2196  08F3              l_spr_redraw_00118:
2197  08F3  3A 00 00    	ld	a,(_s_tile1)
2198  08F6  21 00 00    	ld	hl,_s_tile0
2199  08F9  96          	sub	a, (hl)
2200  08FA  28 17       	jr	Z,l_spr_redraw_00119
2201  08FC  2A FF FF    	ld	hl,(_s_col1 - 1)
2202  08FF  3A 00 00    	ld	a,(_s_lin1)
2203  0902  6F          	ld	l,a
2204  0903  E5          	push	hl
2205  0904  2A FF FF    	ld	hl,(_s_tile1 - 1)
2206  0907  3A 00 00    	ld	a,(_sprite)
2207  090A  6F          	ld	l,a
2208  090B  E5          	push	hl
2209  090C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2210  090F  2E 00       	ld	l,0x00
2211  0911  18 02       	jr	l_spr_redraw_00121
2212  0913              l_spr_redraw_00119:
2213  0913  2E 00       	ld	l,0x00
2214  0915              l_spr_redraw_00121:
2215  0915  C9          	ret
2216  0916              	SECTION code_compiler
2217  0916              ;	---------------------------------
2218  0916              ; Function spr_destroy
2219  0916              ; ---------------------------------
2220  0916              _spr_destroy:
2221  0916  CD 00 00    	call	___sdcc_enter_ix
2222  0919  F5          	push	af
2223  091A  F5          	push	af
2224  091B  45          	ld	b, l
2225  091C  21 00 00    	ld	hl,_spr_count
2226  091F  35          	dec	(hl)
2227  0920  3E 00       	ld	a, +((_lin) & 0xFF)
2228  0922  80          	add	a, b
2229  0923  DD 77 FC    	ld	(ix-4),a
2230  0926  3E 00       	ld	a, +((_lin) / 256)
2231  0928  CE 00       	adc	a,0x00
2232  092A  DD 77 FD    	ld	(ix-3),a
2233  092D  E1          	pop	hl
2234  092E  7E          	ld	a,(hl)
2235  092F  E5          	push	hl
2236  0930  32 00 00    	ld	(_s_lin0),a
2237  0933  3E 00       	ld	a, +((_col) & 0xFF)
2238  0935  80          	add	a, b
2239  0936  DD 77 FE    	ld	(ix-2),a
2240  0939  6F          	ld	l,a
2241  093A  3E 00       	ld	a,+((_col) / 256)
2242  093C  CE 00       	adc	a,0x00
2243  093E  DD 77 FF    	ld	(ix-1),a
2244  0941  67          	ld	h,a
2245  0942  7E          	ld	a, (hl)
2246  0943  32 00 00    	ld	(_s_col0),a
2247  0946  C5          	push	bc
2248  0947  F5          	push	af
2249  0948  33          	inc	sp
2250  0949  3A 00 00    	ld	a,(_s_lin0)
2251  094C  F5          	push	af
2252  094D  33          	inc	sp
2253  094E  CD 00 00    	call	_spr_calc_index
2254  0951  F1          	pop	af
2255  0952  EB          	ex	de,hl
2256  0953  C1          	pop	bc
2257  0954  EB          	ex	de,hl
2258  0955  22 00 00    	ld	(_index0),hl
2259  0958  C5          	push	bc
2260  0959  E5          	push	hl
2261  095A  CD 00 00    	call	_game_match_back
2262  095D  F1          	pop	af
2263  095E  C1          	pop	bc
2264  095F  7D          	ld	a,l
2265  0960  32 00 00    	ld	(_s_tile0),a
2266  0963  C5          	push	bc
2267  0964  21 00 00    	ld	hl,0x0000
2268  0967  E5          	push	hl
2269  0968  48          	ld	c,b
2270  0969  47          	ld	b,a
2271  096A  C5          	push	bc
2272  096B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2273  096E  CD AA 0C    	call	_spr_back_repaint
2274  0971  C1          	pop	bc
2275  0972  3E 00       	ld	a, +((_tile) & 0xFF)
2276  0974  80          	add	a, b
2277  0975  5F          	ld	e, a
2278  0976  3E 00       	ld	a, +((_tile) / 256)
2279  0978  CE 00       	adc	a,0x00
2280  097A  57          	ld	d, a
2281  097B  3A 00 00    	ld	a,(_s_tile0)
2282  097E  12          	ld	(de), a
2283  097F  DD 6E FE    	ld	l,(ix-2)
2284  0982  DD 66 FF    	ld	h,(ix-1)
2285  0985  36 00       	ld	(hl),0x00
2286  0987  E1          	pop	hl
2287  0988  E5          	push	hl
2288  0989  36 00       	ld	(hl),0x00
2289  098B  11 00 00    	ld	de,_class+0
2290  098E  68          	ld	l,b
2291  098F  26 00       	ld	h,0x00
2292  0991  19          	add	hl, de
2293  0992  36 00       	ld	(hl),0x00
2294  0994  11 00 00    	ld	de,_state+0
2295  0997  68          	ld	l,b
2296  0998  26 00       	ld	h,0x00
2297  099A  19          	add	hl, de
2298  099B  36 00       	ld	(hl),0x00
2299  099D  11 00 00    	ld	de,_state_a+0
2300  09A0  68          	ld	l,b
2301  09A1  26 00       	ld	h,0x00
2302  09A3  19          	add	hl, de
2303  09A4  36 00       	ld	(hl),0x00
2304  09A6  DD F9       	ld	sp, ix
2305  09A8  DD E1       	pop	ix
2306  09AA  C9          	ret
2307  09AB              	SECTION code_compiler
2308  09AB              ;	---------------------------------
2309  09AB              ; Function spr_tile
2310  09AB              ; ---------------------------------
2311  09AB              _spr_tile:
2312  09AB  45          	ld	b,l
2313  09AC  11 00 00    	ld	de,_class+0
2314  09AF  26 00       	ld	h,0x00
2315  09B1  19          	add	hl, de
2316  09B2  5E          	ld	e, (hl)
2317  09B3  3E 13       	ld	a,0x13
2318  09B5  93          	sub	a, e
2319  09B6  DA E9 0A    	jp	C, l_spr_tile_00116
2320  09B9  16 00       	ld	d,0x00
2321  09BB  21 C2 09    	ld	hl,l_spr_tile_00123
2322  09BE  19          	add	hl, de
2323  09BF  19          	add	hl, de
2324  09C0  19          	add	hl, de
2325  09C1  E9          	jp	(hl)
2326  09C2              l_spr_tile_00123:
2327  09C2  C3 E9 0A    	jp	l_spr_tile_00116
2328  09C5  C3 E9 0A    	jp	l_spr_tile_00116
2329  09C8  C3 50 0A    	jp	l_spr_tile_00106
2330  09CB  C3 61 0A    	jp	l_spr_tile_00107
2331  09CE  C3 71 0A    	jp	l_spr_tile_00108
2332  09D1  C3 80 0A    	jp	l_spr_tile_00109
2333  09D4  C3 BC 0A    	jp	l_spr_tile_00113
2334  09D7  C3 CB 0A    	jp	l_spr_tile_00114
2335  09DA  C3 DA 0A    	jp	l_spr_tile_00115
2336  09DD  C3 E9 0A    	jp	l_spr_tile_00116
2337  09E0  C3 E9 0A    	jp	l_spr_tile_00116
2338  09E3  C3 FE 09    	jp	l_spr_tile_00101
2339  09E6  C3 0E 0A    	jp	l_spr_tile_00102
2340  09E9  C3 1E 0A    	jp	l_spr_tile_00103
2341  09EC  C3 2F 0A    	jp	l_spr_tile_00104
2342  09EF  C3 3F 0A    	jp	l_spr_tile_00105
2343  09F2  C3 8F 0A    	jp	l_spr_tile_00110
2344  09F5  C3 E9 0A    	jp	l_spr_tile_00116
2345  09F8  C3 9E 0A    	jp	l_spr_tile_00111
2346  09FB  C3 AD 0A    	jp	l_spr_tile_00112
2347  09FE              l_spr_tile_00101:
2348  09FE  AF          	xor	a, a
2349  09FF  48          	ld	c,b
2350  0A00  47          	ld	b,a
2351  0A01  C5          	push	bc
2352  0A02  3E 90       	ld	a,0x90
2353  0A04  F5          	push	af
2354  0A05  33          	inc	sp
2355  0A06  CD EC 0A    	call	_spr_tile_dir
2356  0A09  F1          	pop	af
2357  0A0A  33          	inc	sp
2358  0A0B  C3 EB 0A    	jp	l_spr_tile_00117
2359  0A0E              l_spr_tile_00102:
2360  0A0E  AF          	xor	a, a
2361  0A0F  48          	ld	c,b
2362  0A10  47          	ld	b,a
2363  0A11  C5          	push	bc
2364  0A12  3E 94       	ld	a,0x94
2365  0A14  F5          	push	af
2366  0A15  33          	inc	sp
2367  0A16  CD EC 0A    	call	_spr_tile_dir
2368  0A19  F1          	pop	af
2369  0A1A  33          	inc	sp
2370  0A1B  C3 EB 0A    	jp	l_spr_tile_00117
2371  0A1E              l_spr_tile_00103:
2372  0A1E  3E 02       	ld	a,0x02
2373  0A20  48          	ld	c,b
2374  0A21  47          	ld	b,a
2375  0A22  C5          	push	bc
2376  0A23  3E 98       	ld	a,0x98
2377  0A25  F5          	push	af
2378  0A26  33          	inc	sp
2379  0A27  CD EC 0A    	call	_spr_tile_dir
2380  0A2A  F1          	pop	af
2381  0A2B  33          	inc	sp
2382  0A2C  C3 EB 0A    	jp	l_spr_tile_00117
2383  0A2F              l_spr_tile_00104:
2384  0A2F  AF          	xor	a, a
2385  0A30  48          	ld	c,b
2386  0A31  47          	ld	b,a
2387  0A32  C5          	push	bc
2388  0A33  3E 9C       	ld	a,0x9c
2389  0A35  F5          	push	af
2390  0A36  33          	inc	sp
2391  0A37  CD EC 0A    	call	_spr_tile_dir
2392  0A3A  F1          	pop	af
2393  0A3B  33          	inc	sp
2394  0A3C  C3 EB 0A    	jp	l_spr_tile_00117
2395  0A3F              l_spr_tile_00105:
2396  0A3F  3E 04       	ld	a,0x04
2397  0A41  48          	ld	c,b
2398  0A42  47          	ld	b,a
2399  0A43  C5          	push	bc
2400  0A44  3E A0       	ld	a,0xa0
2401  0A46  F5          	push	af
2402  0A47  33          	inc	sp
2403  0A48  CD EC 0A    	call	_spr_tile_dir
2404  0A4B  F1          	pop	af
2405  0A4C  33          	inc	sp
2406  0A4D  C3 EB 0A    	jp	l_spr_tile_00117
2407  0A50              l_spr_tile_00106:
2408  0A50  3E 02       	ld	a,0x02
2409  0A52  48          	ld	c,b
2410  0A53  47          	ld	b,a
2411  0A54  C5          	push	bc
2412  0A55  3E A8       	ld	a,0xa8
2413  0A57  F5          	push	af
2414  0A58  33          	inc	sp
2415  0A59  CD EC 0A    	call	_spr_tile_dir
2416  0A5C  F1          	pop	af
2417  0A5D  33          	inc	sp
2418  0A5E  C3 EB 0A    	jp	l_spr_tile_00117
2419  0A61              l_spr_tile_00107:
2420  0A61  AF          	xor	a, a
2421  0A62  48          	ld	c,b
2422  0A63  47          	ld	b,a
2423  0A64  C5          	push	bc
2424  0A65  3E AC       	ld	a,0xac
2425  0A67  F5          	push	af
2426  0A68  33          	inc	sp
2427  0A69  CD EC 0A    	call	_spr_tile_dir
2428  0A6C  F1          	pop	af
2429  0A6D  33          	inc	sp
2430  0A6E  C3 EB 0A    	jp	l_spr_tile_00117
2431  0A71              l_spr_tile_00108:
2432  0A71  AF          	xor	a, a
2433  0A72  48          	ld	c,b
2434  0A73  47          	ld	b,a
2435  0A74  C5          	push	bc
2436  0A75  3E AE       	ld	a,0xae
2437  0A77  F5          	push	af
2438  0A78  33          	inc	sp
2439  0A79  CD EC 0A    	call	_spr_tile_dir
2440  0A7C  F1          	pop	af
2441  0A7D  33          	inc	sp
2442  0A7E  18 6B       	jr	l_spr_tile_00117
2443  0A80              l_spr_tile_00109:
2444  0A80  AF          	xor	a, a
2445  0A81  48          	ld	c,b
2446  0A82  47          	ld	b,a
2447  0A83  C5          	push	bc
2448  0A84  3E B0       	ld	a,0xb0
2449  0A86  F5          	push	af
2450  0A87  33          	inc	sp
2451  0A88  CD EC 0A    	call	_spr_tile_dir
2452  0A8B  F1          	pop	af
2453  0A8C  33          	inc	sp
2454  0A8D  18 5C       	jr	l_spr_tile_00117
2455  0A8F              l_spr_tile_00110:
2456  0A8F  AF          	xor	a, a
2457  0A90  48          	ld	c,b
2458  0A91  47          	ld	b,a
2459  0A92  C5          	push	bc
2460  0A93  3E B2       	ld	a,0xb2
2461  0A95  F5          	push	af
2462  0A96  33          	inc	sp
2463  0A97  CD EC 0A    	call	_spr_tile_dir
2464  0A9A  F1          	pop	af
2465  0A9B  33          	inc	sp
2466  0A9C  18 4D       	jr	l_spr_tile_00117
2467  0A9E              l_spr_tile_00111:
2468  0A9E  AF          	xor	a, a
2469  0A9F  48          	ld	c,b
2470  0AA0  47          	ld	b,a
2471  0AA1  C5          	push	bc
2472  0AA2  3E B4       	ld	a,0xb4
2473  0AA4  F5          	push	af
2474  0AA5  33          	inc	sp
2475  0AA6  CD EC 0A    	call	_spr_tile_dir
2476  0AA9  F1          	pop	af
2477  0AAA  33          	inc	sp
2478  0AAB  18 3E       	jr	l_spr_tile_00117
2479  0AAD              l_spr_tile_00112:
2480  0AAD  AF          	xor	a, a
2481  0AAE  48          	ld	c,b
2482  0AAF  47          	ld	b,a
2483  0AB0  C5          	push	bc
2484  0AB1  3E B6       	ld	a,0xb6
2485  0AB3  F5          	push	af
2486  0AB4  33          	inc	sp
2487  0AB5  CD EC 0A    	call	_spr_tile_dir
2488  0AB8  F1          	pop	af
2489  0AB9  33          	inc	sp
2490  0ABA  18 2F       	jr	l_spr_tile_00117
2491  0ABC              l_spr_tile_00113:
2492  0ABC  AF          	xor	a, a
2493  0ABD  48          	ld	c,b
2494  0ABE  47          	ld	b,a
2495  0ABF  C5          	push	bc
2496  0AC0  3E C0       	ld	a,0xc0
2497  0AC2  F5          	push	af
2498  0AC3  33          	inc	sp
2499  0AC4  CD EC 0A    	call	_spr_tile_dir
2500  0AC7  F1          	pop	af
2501  0AC8  33          	inc	sp
2502  0AC9  18 20       	jr	l_spr_tile_00117
2503  0ACB              l_spr_tile_00114:
2504  0ACB  AF          	xor	a, a
2505  0ACC  48          	ld	c,b
2506  0ACD  47          	ld	b,a
2507  0ACE  C5          	push	bc
2508  0ACF  3E C2       	ld	a,0xc2
2509  0AD1  F5          	push	af
2510  0AD2  33          	inc	sp
2511  0AD3  CD EC 0A    	call	_spr_tile_dir
2512  0AD6  F1          	pop	af
2513  0AD7  33          	inc	sp
2514  0AD8  18 11       	jr	l_spr_tile_00117
2515  0ADA              l_spr_tile_00115:
2516  0ADA  AF          	xor	a, a
2517  0ADB  48          	ld	c,b
2518  0ADC  47          	ld	b,a
2519  0ADD  C5          	push	bc
2520  0ADE  3E C4       	ld	a,0xc4
2521  0AE0  F5          	push	af
2522  0AE1  33          	inc	sp
2523  0AE2  CD EC 0A    	call	_spr_tile_dir
2524  0AE5  F1          	pop	af
2525  0AE6  33          	inc	sp
2526  0AE7  18 02       	jr	l_spr_tile_00117
2527  0AE9              l_spr_tile_00116:
2528  0AE9  2E 00       	ld	l,0x00
2529  0AEB              l_spr_tile_00117:
2530  0AEB  C9          	ret
2531  0AEC              	SECTION code_compiler
2532  0AEC              ;	---------------------------------
2533  0AEC              ; Function spr_tile_dir
2534  0AEC              ; ---------------------------------
2535  0AEC              _spr_tile_dir:
2536  0AEC  CD 00 00    	call	___sdcc_enter_ix
2537  0AEF  3E 00       	ld	a, +((_state) & 0xFF)
2538  0AF1  DD 86 05    	add	a,(ix+5)
2539  0AF4  4F          	ld	c, a
2540  0AF5  3E 00       	ld	a, +((_state) / 256)
2541  0AF7  CE 00       	adc	a,0x00
2542  0AF9  47          	ld	b, a
2543  0AFA  0A          	ld	a, (bc)
2544  0AFB  4F          	ld	c,a
2545  0AFC  CB 57       	bit	2,a
2546  0AFE  28 05       	jr	Z,l_spr_tile_dir_00102
2547  0B00  DD 6E 04    	ld	l,(ix+4)
2548  0B03  18 2D       	jr	l_spr_tile_dir_00109
2549  0B05              l_spr_tile_dir_00102:
2550  0B05  DD 7E 04    	ld	a,(ix+4)
2551  0B08  DD 86 06    	add	a,(ix+6)
2552  0B0B  47          	ld	b, a
2553  0B0C  CB 59       	bit	3, c
2554  0B0E  28 03       	jr	Z,l_spr_tile_dir_00104
2555  0B10  68          	ld	l, b
2556  0B11  18 1F       	jr	l_spr_tile_dir_00109
2557  0B13              l_spr_tile_dir_00104:
2558  0B13  3E 00       	ld	a, +((_state_a) & 0xFF)
2559  0B15  DD 86 05    	add	a,(ix+5)
2560  0B18  5F          	ld	e, a
2561  0B19  3E 00       	ld	a, +((_state_a) / 256)
2562  0B1B  CE 00       	adc	a,0x00
2563  0B1D  57          	ld	d, a
2564  0B1E  1A          	ld	a, (de)
2565  0B1F  CB 67       	bit	4, a
2566  0B21  28 05       	jr	Z,l_spr_tile_dir_00106
2567  0B23  DD 6E 04    	ld	l,(ix+4)
2568  0B26  18 0A       	jr	l_spr_tile_dir_00109
2569  0B28              l_spr_tile_dir_00106:
2570  0B28  CB 5F       	bit	3, a
2571  0B2A  28 03       	jr	Z,l_spr_tile_dir_00108
2572  0B2C  68          	ld	l, b
2573  0B2D  18 03       	jr	l_spr_tile_dir_00109
2574  0B2F              l_spr_tile_dir_00108:
2575  0B2F  DD 6E 04    	ld	l,(ix+4)
2576  0B32              l_spr_tile_dir_00109:
2577  0B32  DD E1       	pop	ix
2578  0B34  C9          	ret
2579  0B35              	SECTION code_compiler
2580  0B35              ;	---------------------------------
2581  0B35              ; Function spr_brick_anim
2582  0B35              ; ---------------------------------
2583  0B35              _spr_brick_anim:
2584  0B35  CD 00 00    	call	___sdcc_enter_ix
2585  0B38  F5          	push	af
2586  0B39  3B          	dec	sp
2587  0B3A  4D          	ld	c, l
2588  0B3B  21 00 00    	ld	hl,_player_hit_col
2589  0B3E  56          	ld	d, (hl)
2590  0B3F  21 00 00    	ld	hl,_player_hit_lin
2591  0B42  5E          	ld	e, (hl)
2592  0B43  C5          	push	bc
2593  0B44  D5          	push	de
2594  0B45  D5          	push	de
2595  0B46  CD 00 00    	call	_spr_calc_index
2596  0B49  F1          	pop	af
2597  0B4A  DD 74 FF    	ld	(ix-1),h
2598  0B4D  DD 75 FE    	ld	(ix-2),l
2599  0B50  D1          	pop	de
2600  0B51  C1          	pop	bc
2601  0B52  DD 6E FE    	ld	l,(ix-2)
2602  0B55  DD 66 FF    	ld	h,(ix-1)
2603  0B58  22 00 00    	ld	(_index1),hl
2604  0B5B  21 00 00    	ld	hl,_index1
2605  0B5E  7E          	ld	a, (hl)
2606  0B5F  C6 F0       	add	a,0xf0
2607  0B61  DD 77 FE    	ld	(ix-2),a
2608  0B64  23          	inc	hl
2609  0B65  7E          	ld	a, (hl)
2610  0B66  CE FF       	adc	a,0xff
2611  0B68  DD 77 FF    	ld	(ix-1),a
2612  0B6B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2613  0B6D  DD 86 FE    	add	a,(ix-2)
2614  0B70  6F          	ld	l, a
2615  0B71  3E 00       	ld	a, +((_scr_map) / 256)
2616  0B73  DD 8E FF    	adc	a,(ix-1)
2617  0B76  67          	ld	h, a
2618  0B77  7E          	ld	a, (hl)
2619  0B78  DD 77 FD    	ld	(ix-3),a
2620  0B7B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2621  0B7D  21 00 00    	ld	hl,_index1
2622  0B80  86          	add	a, (hl)
2623  0B81  DD 77 FE    	ld	(ix-2),a
2624  0B84  3E 00       	ld	a, +((_scr_map) / 256)
2625  0B86  23          	inc	hl
2626  0B87  8E          	adc	a, (hl)
2627  0B88  DD 6E FE    	ld	l,(ix-2)
2628  0B8B  DD 77 FF    	ld	(ix-1),a
2629  0B8E  67          	ld	h,a
2630  0B8F  46          	ld	b, (hl)
2631  0B90  79          	ld	a, c
2632  0B91  B7          	or	a, a
2633  0B92  28 08       	jr	Z,l_spr_brick_anim_00102
2634  0B94  7B          	ld	a, e
2635  0B95  C6 F6       	add	a,0xf6
2636  0B97  32 00 00    	ld	(_tmp),a
2637  0B9A  18 06       	jr	l_spr_brick_anim_00103
2638  0B9C              l_spr_brick_anim_00102:
2639  0B9C  7B          	ld	a, e
2640  0B9D  C6 F8       	add	a,0xf8
2641  0B9F  32 00 00    	ld	(_tmp),a
2642  0BA2              l_spr_brick_anim_00103:
2643  0BA2  F3          	di
2644  0BA3  79          	ld	a, c
2645  0BA4  B7          	or	a, a
2646  0BA5  28 1A       	jr	Z,l_spr_brick_anim_00105
2647  0BA7  3A 00 00    	ld	a,(_map_paper_clr)
2648  0BAA  C5          	push	bc
2649  0BAB  D5          	push	de
2650  0BAC  D5          	push	de
2651  0BAD  F5          	push	af
2652  0BAE  33          	inc	sp
2653  0BAF  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2654  0BB2  D1          	pop	de
2655  0BB3  C1          	pop	bc
2656  0BB4  D5          	push	de
2657  0BB5  33          	inc	sp
2658  0BB6  3A 00 00    	ld	a,(_tmp)
2659  0BB9  48          	ld	c,b
2660  0BBA  47          	ld	b,a
2661  0BBB  C5          	push	bc
2662  0BBC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2663  0BBF  18 1E       	jr	l_spr_brick_anim_00106
2664  0BC1              l_spr_brick_anim_00105:
2665  0BC1  3A 00 00    	ld	a,(_tmp)
2666  0BC4  C6 F0       	add	a,0xf0
2667  0BC6  C5          	push	bc
2668  0BC7  D5          	push	de
2669  0BC8  5F          	ld	e,a
2670  0BC9  D5          	push	de
2671  0BCA  DD 7E FD    	ld	a,(ix-3)
2672  0BCD  F5          	push	af
2673  0BCE  33          	inc	sp
2674  0BCF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2675  0BD2  D1          	pop	de
2676  0BD3  C1          	pop	bc
2677  0BD4  D5          	push	de
2678  0BD5  33          	inc	sp
2679  0BD6  3A 00 00    	ld	a,(_tmp)
2680  0BD9  48          	ld	c,b
2681  0BDA  47          	ld	b,a
2682  0BDB  C5          	push	bc
2683  0BDC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2684  0BDF              l_spr_brick_anim_00106:
2685  0BDF  FB          	ei
2686  0BE0  DD F9       	ld	sp, ix
2687  0BE2  DD E1       	pop	ix
2688  0BE4  C9          	ret
2689  0BE5              	SECTION code_compiler
2690  0BE5              ;	---------------------------------
2691  0BE5              ; Function spr_draw_index
2692  0BE5              ; ---------------------------------
2693  0BE5              _spr_draw_index:
2694  0BE5  CD 00 00    	call	___sdcc_enter_ix
2695  0BE8  DD 4E 04    	ld	c,(ix+4)
2696  0BEB  79          	ld	a, c
2697  0BEC  E6 0F       	and	a,0x0f
2698  0BEE  87          	add	a, a
2699  0BEF  32 00 00    	ld	(_s_col1),a
2700  0BF2  21 00 00    	ld	hl,_s_lin1
2701  0BF5  71          	ld	(hl),c
2702  0BF6  79          	ld	a,c
2703  0BF7  07          	rlca
2704  0BF8  07          	rlca
2705  0BF9  07          	rlca
2706  0BFA  07          	rlca
2707  0BFB  E6 0F       	and	a,0x0f
2708  0BFD  07          	rlca
2709  0BFE  07          	rlca
2710  0BFF  07          	rlca
2711  0C00  07          	rlca
2712  0C01  E6 F0       	and	a,0xf0
2713  0C03  77          	ld	(hl), a
2714  0C04  F3          	di
2715  0C05  3E 00       	ld	a, +((_scr_map) & 0xFF)
2716  0C07  DD 86 04    	add	a,(ix+4)
2717  0C0A  4F          	ld	c, a
2718  0C0B  3E 00       	ld	a, +((_scr_map) / 256)
2719  0C0D  DD 8E 05    	adc	a,(ix+5)
2720  0C10  47          	ld	b, a
2721  0C11  0A          	ld	a, (bc)
2722  0C12  47          	ld	b, a
2723  0C13  3A 00 00    	ld	a,(_s_col1)
2724  0C16  F5          	push	af
2725  0C17  33          	inc	sp
2726  0C18  3A 00 00    	ld	a,(_s_lin1)
2727  0C1B  48          	ld	c,b
2728  0C1C  47          	ld	b,a
2729  0C1D  C5          	push	bc
2730  0C1E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2731  0C21  FB          	ei
2732  0C22  DD E1       	pop	ix
2733  0C24  C9          	ret
2734  0C25              	SECTION code_compiler
2735  0C25              ;	---------------------------------
2736  0C25              ; Function spr_draw_row
2737  0C25              ; ---------------------------------
2738  0C25              _spr_draw_row:
2739  0C25  CD 00 00    	call	___sdcc_enter_ix
2740  0C28  3B          	dec	sp
2741  0C29  F3          	di
2742  0C2A  21 00 00    	ld	hl,_tmp
2743  0C2D  36 00       	ld	(hl),0x00
2744  0C2F  DD 7E 04    	ld	a,(ix+4)
2745  0C32  07          	rlca
2746  0C33  07          	rlca
2747  0C34  07          	rlca
2748  0C35  E6 F8       	and	a,0xf8
2749  0C37  DD 77 FF    	ld	(ix-1),a
2750  0C3A              l_spr_draw_row_00101:
2751  0C3A  21 00 00    	ld	hl,_tmp
2752  0C3D  7E          	ld	a, (hl)
2753  0C3E  D6 20       	sub	a,0x20
2754  0C40  30 38       	jr	NC,l_spr_draw_row_00103
2755  0C42  DD 4E 04    	ld	c,(ix+4)
2756  0C45  3E 00       	ld	a,0x00
2757  0C47  CB 21       	sla	c
2758  0C49  17          	rla
2759  0C4A  CB 21       	sla	c
2760  0C4C  17          	rla
2761  0C4D  CB 21       	sla	c
2762  0C4F  17          	rla
2763  0C50  CB 21       	sla	c
2764  0C52  17          	rla
2765  0C53  CB 21       	sla	c
2766  0C55  17          	rla
2767  0C56  47          	ld	b,a
2768  0C57  5E          	ld	e, (hl)
2769  0C58  16 00       	ld	d,0x00
2770  0C5A  79          	ld	a, c
2771  0C5B  83          	add	a, e
2772  0C5C  21 00 00    	ld	hl,_index1
2773  0C5F  77          	ld	(hl), a
2774  0C60  78          	ld	a, b
2775  0C61  8A          	adc	a, d
2776  0C62  23          	inc	hl
2777  0C63  77          	ld	(hl), a
2778  0C64  2A FF FF    	ld	hl,(_tmp-1)
2779  0C67  DD 6E FF    	ld	l,(ix-1)
2780  0C6A  3A 00 00    	ld	a,(_game_brick_tile)
2781  0C6D  E5          	push	hl
2782  0C6E  F5          	push	af
2783  0C6F  33          	inc	sp
2784  0C70  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2785  0C73  21 00 00    	ld	hl,_tmp
2786  0C76  34          	inc	(hl)
2787  0C77  34          	inc	(hl)
2788  0C78  18 C0       	jr	l_spr_draw_row_00101
2789  0C7A              l_spr_draw_row_00103:
2790  0C7A  FB          	ei
2791  0C7B  33          	inc	sp
2792  0C7C  DD E1       	pop	ix
2793  0C7E  C9          	ret
2794  0C7F              	SECTION code_compiler
2795  0C7F              ;	---------------------------------
2796  0C7F              ; Function spr_calc_hor
2797  0C7F              ; ---------------------------------
2798  0C7F              _spr_calc_hor:
2799  0C7F  CD 00 00    	call	___sdcc_enter_ix
2800  0C82  3E 00       	ld	a, +((_col) & 0xFF)
2801  0C84  DD 86 04    	add	a,(ix+4)
2802  0C87  4F          	ld	c, a
2803  0C88  3E 00       	ld	a, +((_col) / 256)
2804  0C8A  CE 00       	adc	a,0x00
2805  0C8C  47          	ld	b, a
2806  0C8D  0A          	ld	a, (bc)
2807  0C8E  5F          	ld	e, a
2808  0C8F  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2809  0C91  DD 86 04    	add	a,(ix+4)
2810  0C94  4F          	ld	c, a
2811  0C95  3E 00       	ld	a, +((_sprite_frames) / 256)
2812  0C97  CE 00       	adc	a,0x00
2813  0C99  47          	ld	b, a
2814  0C9A  0A          	ld	a, (bc)
2815  0C9B  67          	ld	h, a
2816  0C9C  2E 00       	ld	l,0x00
2817  0C9E  55          	ld	d, l
2818  0C9F  06 08       	ld	b,0x08
2819  0CA1              l_spr_calc_hor_00103:
2820  0CA1  29          	add	hl, hl
2821  0CA2  30 01       	jr	NC,l_spr_calc_hor_00104
2822  0CA4  19          	add	hl, de
2823  0CA5              l_spr_calc_hor_00104:
2824  0CA5  10 FA       	djnz	l_spr_calc_hor_00103
2825  0CA7  DD E1       	pop	ix
2826  0CA9  C9          	ret
2827  0CAA              	SECTION code_compiler
2828  0CAA              ;	---------------------------------
2829  0CAA              ; Function spr_back_repaint
2830  0CAA              ; ---------------------------------
2831  0CAA              _spr_back_repaint:
2832  0CAA  CD 00 00    	call	___sdcc_enter_ix
2833  0CAD  3B          	dec	sp
2834  0CAE  3A 00 00    	ld	a,(_spr_hack)
2835  0CB1  B7          	or	a, a
2836  0CB2  20 02       	jr	NZ,l_spr_back_repaint_00102
2837  0CB4  76          	halt
2838  0CB5  F3          	di
2839  0CB6              l_spr_back_repaint_00102:
2840  0CB6  2A FF FF    	ld	hl,(_s_col0 - 1)
2841  0CB9  3A 00 00    	ld	a,(_s_lin0)
2842  0CBC  6F          	ld	l,a
2843  0CBD  E5          	push	hl
2844  0CBE  CD 00 00    	call	_spr_calc_index
2845  0CC1  F1          	pop	af
2846  0CC2  7D          	ld	a,l
2847  0CC3  32 00 00    	ld	(_sprite_curr_index),a
2848  0CC6  21 00 00    	ld	hl,_s_lin0
2849  0CC9  7E          	ld	a, (hl)
2850  0CCA  E6 0F       	and	a,0x0f
2851  0CCC  4F          	ld	c, a
2852  0CCD  7E          	ld	a, (hl)
2853  0CCE  07          	rlca
2854  0CCF  07          	rlca
2855  0CD0  07          	rlca
2856  0CD1  07          	rlca
2857  0CD2  E6 0F       	and	a,0x0f
2858  0CD4  5F          	ld	e, a
2859  0CD5  21 00 00    	ld	hl,_s_col0
2860  0CD8  CB 46       	bit	0, (hl)
2861  0CDA  20 68       	jr	NZ,l_spr_back_repaint_00110
2862  0CDC  79          	ld	a, c
2863  0CDD  B7          	or	a, a
2864  0CDE  20 1D       	jr	NZ,l_spr_back_repaint_00104
2865  0CE0  2A 00 00    	ld	hl,(_sprite_curr_index)
2866  0CE3  26 00       	ld	h,0x00
2867  0CE5  01 00 00    	ld	bc,_scr_map
2868  0CE8  09          	add	hl,bc
2869  0CE9  46          	ld	b,(hl)
2870  0CEA  3A 00 00    	ld	a,(_s_col0)
2871  0CED  F5          	push	af
2872  0CEE  33          	inc	sp
2873  0CEF  3A 00 00    	ld	a,(_s_lin0)
2874  0CF2  48          	ld	c,b
2875  0CF3  47          	ld	b,a
2876  0CF4  C5          	push	bc
2877  0CF5  CD 21 0E    	call	_spr_tile_paint
2878  0CF8  F1          	pop	af
2879  0CF9  33          	inc	sp
2880  0CFA  C3 16 0E    	jp	l_spr_back_repaint_00111
2881  0CFD              l_spr_back_repaint_00104:
2882  0CFD  7B          	ld	a, e
2883  0CFE  07          	rlca
2884  0CFF  07          	rlca
2885  0D00  07          	rlca
2886  0D01  07          	rlca
2887  0D02  E6 F0       	and	a,0xf0
2888  0D04  4F          	ld	c, a
2889  0D05  2A 00 00    	ld	hl,(_sprite_curr_index)
2890  0D08  26 00       	ld	h,0x00
2891  0D0A  11 00 00    	ld	de,_scr_map
2892  0D0D  19          	add	hl,de
2893  0D0E  46          	ld	b, (hl)
2894  0D0F  3A 00 00    	ld	a,(_s_col0)
2895  0D12  C5          	push	bc
2896  0D13  F5          	push	af
2897  0D14  33          	inc	sp
2898  0D15  79          	ld	a, c
2899  0D16  48          	ld	c,b
2900  0D17  47          	ld	b,a
2901  0D18  C5          	push	bc
2902  0D19  CD 21 0E    	call	_spr_tile_paint
2903  0D1C  F1          	pop	af
2904  0D1D  33          	inc	sp
2905  0D1E  C1          	pop	bc
2906  0D1F  79          	ld	a, c
2907  0D20  C6 10       	add	a,0x10
2908  0D22  57          	ld	d, a
2909  0D23  21 00 00    	ld	hl,_sprite_curr_index
2910  0D26  7E          	ld	a, (hl)
2911  0D27  C6 10       	add	a,0x10
2912  0D29  77          	ld	(hl), a
2913  0D2A  C6 00       	add	a,+((_scr_map) & 0xFF)
2914  0D2C  4F          	ld	c, a
2915  0D2D  3E 00       	ld	a, +((_scr_map) / 256)
2916  0D2F  CE 00       	adc	a,0x00
2917  0D31  47          	ld	b, a
2918  0D32  0A          	ld	a, (bc)
2919  0D33  47          	ld	b, a
2920  0D34  3A 00 00    	ld	a,(_s_col0)
2921  0D37  5A          	ld	e,d
2922  0D38  57          	ld	d,a
2923  0D39  D5          	push	de
2924  0D3A  C5          	push	bc
2925  0D3B  33          	inc	sp
2926  0D3C  CD 21 0E    	call	_spr_tile_paint
2927  0D3F  F1          	pop	af
2928  0D40  33          	inc	sp
2929  0D41  C3 16 0E    	jp	l_spr_back_repaint_00111
2930  0D44              l_spr_back_repaint_00110:
2931  0D44  3A 00 00    	ld	a,(_s_col0)
2932  0D47  C6 FF       	add	a,0xff
2933  0D49  DD 77 FF    	ld	(ix-1),a
2934  0D4C  79          	ld	a, c
2935  0D4D  B7          	or	a, a
2936  0D4E  20 3E       	jr	NZ,l_spr_back_repaint_00107
2937  0D50  2A 00 00    	ld	hl,(_sprite_curr_index)
2938  0D53  26 00       	ld	h,0x00
2939  0D55  01 00 00    	ld	bc,_scr_map
2940  0D58  09          	add	hl,bc
2941  0D59  46          	ld	b,(hl)
2942  0D5A  DD 7E FF    	ld	a,(ix-1)
2943  0D5D  F5          	push	af
2944  0D5E  33          	inc	sp
2945  0D5F  3A 00 00    	ld	a,(_s_lin0)
2946  0D62  48          	ld	c,b
2947  0D63  47          	ld	b,a
2948  0D64  C5          	push	bc
2949  0D65  CD 21 0E    	call	_spr_tile_paint
2950  0D68  F1          	pop	af
2951  0D69  33          	inc	sp
2952  0D6A  21 00 00    	ld	hl,_sprite_curr_index
2953  0D6D  34          	inc	(hl)
2954  0D6E  21 00 00    	ld	hl,_s_col0
2955  0D71  4E          	ld	c, (hl)
2956  0D72  0C          	inc	c
2957  0D73  2A 00 00    	ld	hl,(_sprite_curr_index)
2958  0D76  26 00       	ld	h,0x00
2959  0D78  11 00 00    	ld	de,_scr_map
2960  0D7B  19          	add	hl,de
2961  0D7C  46          	ld	b, (hl)
2962  0D7D  79          	ld	a, c
2963  0D7E  F5          	push	af
2964  0D7F  33          	inc	sp
2965  0D80  3A 00 00    	ld	a,(_s_lin0)
2966  0D83  48          	ld	c,b
2967  0D84  47          	ld	b,a
2968  0D85  C5          	push	bc
2969  0D86  CD 21 0E    	call	_spr_tile_paint
2970  0D89  F1          	pop	af
2971  0D8A  33          	inc	sp
2972  0D8B  C3 16 0E    	jp	l_spr_back_repaint_00111
2973  0D8E              l_spr_back_repaint_00107:
2974  0D8E  7B          	ld	a, e
2975  0D8F  07          	rlca
2976  0D90  07          	rlca
2977  0D91  07          	rlca
2978  0D92  07          	rlca
2979  0D93  E6 F0       	and	a,0xf0
2980  0D95  47          	ld	b, a
2981  0D96  2A 00 00    	ld	hl,(_sprite_curr_index)
2982  0D99  26 00       	ld	h,0x00
2983  0D9B  11 00 00    	ld	de,_scr_map
2984  0D9E  19          	add	hl,de
2985  0D9F  56          	ld	d, (hl)
2986  0DA0  C5          	push	bc
2987  0DA1  DD 7E FF    	ld	a,(ix-1)
2988  0DA4  F5          	push	af
2989  0DA5  33          	inc	sp
2990  0DA6  4A          	ld	c, d
2991  0DA7  C5          	push	bc
2992  0DA8  CD 21 0E    	call	_spr_tile_paint
2993  0DAB  F1          	pop	af
2994  0DAC  33          	inc	sp
2995  0DAD  C1          	pop	bc
2996  0DAE  21 00 00    	ld	hl,_sprite_curr_index
2997  0DB1  34          	inc	(hl)
2998  0DB2  21 00 00    	ld	hl,_s_col0
2999  0DB5  4E          	ld	c, (hl)
3000  0DB6  0C          	inc	c
3001  0DB7  2A 00 00    	ld	hl,(_sprite_curr_index)
3002  0DBA  26 00       	ld	h,0x00
3003  0DBC  11 00 00    	ld	de,_scr_map
3004  0DBF  19          	add	hl,de
3005  0DC0  5E          	ld	e, (hl)
3006  0DC1  C5          	push	bc
3007  0DC2  79          	ld	a, c
3008  0DC3  48          	ld	c,b
3009  0DC4  47          	ld	b,a
3010  0DC5  C5          	push	bc
3011  0DC6  7B          	ld	a, e
3012  0DC7  F5          	push	af
3013  0DC8  33          	inc	sp
3014  0DC9  CD 21 0E    	call	_spr_tile_paint
3015  0DCC  F1          	pop	af
3016  0DCD  33          	inc	sp
3017  0DCE  C1          	pop	bc
3018  0DCF  78          	ld	a, b
3019  0DD0  C6 10       	add	a,0x10
3020  0DD2  DD 77 FF    	ld	(ix-1),a
3021  0DD5  21 00 00    	ld	hl,_sprite_curr_index
3022  0DD8  7E          	ld	a, (hl)
3023  0DD9  C6 0F       	add	a,0x0f
3024  0DDB  77          	ld	(hl), a
3025  0DDC  21 00 00    	ld	hl,_s_col0
3026  0DDF  4E          	ld	c, (hl)
3027  0DE0  0D          	dec	c
3028  0DE1  2A 00 00    	ld	hl,(_sprite_curr_index)
3029  0DE4  26 00       	ld	h,0x00
3030  0DE6  11 00 00    	ld	de,_scr_map
3031  0DE9  19          	add	hl,de
3032  0DEA  5E          	ld	e, (hl)
3033  0DEB  79          	ld	a, c
3034  0DEC  F5          	push	af
3035  0DED  33          	inc	sp
3036  0DEE  DD 56 FF    	ld	d,(ix-1)
3037  0DF1  D5          	push	de
3038  0DF2  CD 21 0E    	call	_spr_tile_paint
3039  0DF5  F1          	pop	af
3040  0DF6  33          	inc	sp
3041  0DF7  21 00 00    	ld	hl,_sprite_curr_index
3042  0DFA  34          	inc	(hl)
3043  0DFB  21 00 00    	ld	hl,_s_col0
3044  0DFE  4E          	ld	c, (hl)
3045  0DFF  0C          	inc	c
3046  0E00  2A 00 00    	ld	hl,(_sprite_curr_index)
3047  0E03  26 00       	ld	h,0x00
3048  0E05  11 00 00    	ld	de,_scr_map
3049  0E08  19          	add	hl,de
3050  0E09  5E          	ld	e, (hl)
3051  0E0A  79          	ld	a, c
3052  0E0B  F5          	push	af
3053  0E0C  33          	inc	sp
3054  0E0D  DD 56 FF    	ld	d,(ix-1)
3055  0E10  D5          	push	de
3056  0E11  CD 21 0E    	call	_spr_tile_paint
3057  0E14  F1          	pop	af
3058  0E15  33          	inc	sp
3059  0E16              l_spr_back_repaint_00111:
3060  0E16  3A 00 00    	ld	a,(_spr_hack)
3061  0E19  B7          	or	a, a
3062  0E1A  20 01       	jr	NZ,l_spr_back_repaint_00114
3063  0E1C  FB          	ei
3064  0E1D              l_spr_back_repaint_00114:
3065  0E1D  33          	inc	sp
3066  0E1E  DD E1       	pop	ix
3067  0E20  C9          	ret
3068  0E21              	SECTION code_compiler
3069  0E21              ;	---------------------------------
3070  0E21              ; Function spr_tile_paint
3071  0E21              ; ---------------------------------
3072  0E21              _spr_tile_paint:
3073  0E21  CD 00 00    	call	___sdcc_enter_ix
3074  0E24  DD 7E 04    	ld	a,(ix+4)
3075  0E27  B7          	or	a, a
3076  0E28  28 05       	jr	Z,l_spr_tile_paint_00101
3077  0E2A  3C          	inc	a
3078  0E2B  28 22       	jr	Z,l_spr_tile_paint_00105
3079  0E2D  18 11       	jr	l_spr_tile_paint_00103
3080  0E2F              l_spr_tile_paint_00101:
3081  0E2F  DD 66 06    	ld	h,(ix+6)
3082  0E32  DD 6E 05    	ld	l,(ix+5)
3083  0E35  3A 00 00    	ld	a,(_map_paper_clr)
3084  0E38  E5          	push	hl
3085  0E39  F5          	push	af
3086  0E3A  33          	inc	sp
3087  0E3B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3088  0E3E  18 0F       	jr	l_spr_tile_paint_00105
3089  0E40              l_spr_tile_paint_00103:
3090  0E40  DD 66 06    	ld	h,(ix+6)
3091  0E43  DD 6E 05    	ld	l,(ix+5)
3092  0E46  E5          	push	hl
3093  0E47  DD 7E 04    	ld	a,(ix+4)
3094  0E4A  F5          	push	af
3095  0E4B  33          	inc	sp
3096  0E4C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3097  0E4F              l_spr_tile_paint_00105:
3098  0E4F  DD E1       	pop	ix
3099  0E51  C9          	ret
3100  0E52              	SECTION code_compiler
3101  0E52              ;	---------------------------------
3102  0E52              ; Function spr_init_anim_bullets
3103  0E52              ; ---------------------------------
3104  0E52              _spr_init_anim_bullets:
3105  0E52  01 00 00    	ld	bc,_anim_lin+0
3106  0E55  1E 00       	ld	e,0x00
3107  0E57              l_spr_init_anim_bullets_00102:
3108  0E57  6B          	ld	l,e
3109  0E58  26 00       	ld	h,0x00
3110  0E5A  09          	add	hl, bc
3111  0E5B  36 FF       	ld	(hl),0xff
3112  0E5D  16 00       	ld	d,0x00
3113  0E5F  21 00 00    	ld	hl,_bullet_col
3114  0E62  19          	add	hl, de
3115  0E63  36 FF       	ld	(hl),0xff
3116  0E65  1C          	inc	e
3117  0E66  7B          	ld	a, e
3118  0E67  D6 08       	sub	a,0x08
3119  0E69  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3120  0E6B  21 00 00    	ld	hl,_bullet_count
3121  0E6E  36 00       	ld	(hl),0x00
3122  0E70  21 00 00    	ld	hl,_anim_count
3123  0E73  36 00       	ld	(hl),0x00
3124  0E75  C9          	ret
3125  0E76              	SECTION code_compiler
3126  0E76              ;	---------------------------------
3127  0E76              ; Function spr_add_anim
3128  0E76              ; ---------------------------------
3129  0E76              _spr_add_anim:
3130  0E76  CD 00 00    	call	___sdcc_enter_ix
3131  0E79  F5          	push	af
3132  0E7A  F5          	push	af
3133  0E7B  3B          	dec	sp
3134  0E7C  DD 7E 05    	ld	a,(ix+5)
3135  0E7F  D6 1F       	sub	a,0x1f
3136  0E81  D2 40 0F    	jp	NC, l_spr_add_anim_00111
3137  0E84  DD 7E 04    	ld	a,(ix+4)
3138  0E87  D6 B8       	sub	a,0xb8
3139  0E89  D2 40 0F    	jp	NC, l_spr_add_anim_00111
3140  0E8C  0E 00       	ld	c,0x00
3141  0E8E  DD 71 FF    	ld	(ix-1),c
3142  0E91              l_spr_add_anim_00109:
3143  0E91  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3144  0E93  81          	add	a, c
3145  0E94  5F          	ld	e, a
3146  0E95  3E 00       	ld	a, +((_anim_lin) / 256)
3147  0E97  CE 00       	adc	a,0x00
3148  0E99  57          	ld	d, a
3149  0E9A  1A          	ld	a, (de)
3150  0E9B  3C          	inc	a
3151  0E9C  C2 36 0F    	jp	NZ,l_spr_add_anim_00110
3152  0E9F  21 00 00    	ld	hl,_anim_count
3153  0EA2  34          	inc	(hl)
3154  0EA3  DD 7E 04    	ld	a,(ix+4)
3155  0EA6  12          	ld	(de), a
3156  0EA7  01 00 00    	ld	bc,_anim_col
3157  0EAA  DD 6E FF    	ld	l,(ix-1)
3158  0EAD  26 00       	ld	h,0x00
3159  0EAF  09          	add	hl,bc
3160  0EB0  DD 75 FD    	ld	(ix-3),l
3161  0EB3  DD 74 FE    	ld	(ix-2),h
3162  0EB6  DD 7E 05    	ld	a,(ix+5)
3163  0EB9  77          	ld	(hl), a
3164  0EBA  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3165  0EBC  DD 86 FF    	add	a,(ix-1)
3166  0EBF  DD 77 FB    	ld	(ix-5),a
3167  0EC2  3E 00       	ld	a, +((_anim_tile) / 256)
3168  0EC4  CE 00       	adc	a,0x00
3169  0EC6  DD 77 FC    	ld	(ix-4),a
3170  0EC9  E1          	pop	hl
3171  0ECA  E5          	push	hl
3172  0ECB  DD 7E 06    	ld	a,(ix+6)
3173  0ECE  77          	ld	(hl), a
3174  0ECF  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3175  0ED1  DD 86 FF    	add	a,(ix-1)
3176  0ED4  4F          	ld	c, a
3177  0ED5  3E 00       	ld	a, +((_anim_loop) / 256)
3178  0ED7  CE 00       	adc	a,0x00
3179  0ED9  47          	ld	b, a
3180  0EDA  DD 7E 08    	ld	a,(ix+8)
3181  0EDD  02          	ld	(bc), a
3182  0EDE  01 00 00    	ld	bc,_anim_int+0
3183  0EE1  DD 6E FF    	ld	l,(ix-1)
3184  0EE4  26 00       	ld	h,0x00
3185  0EE6  09          	add	hl, bc
3186  0EE7  36 00       	ld	(hl),0x00
3187  0EE9  3E 00       	ld	a, +((_anim_end) & 0xFF)
3188  0EEB  DD 86 FF    	add	a,(ix-1)
3189  0EEE  4F          	ld	c, a
3190  0EEF  3E 00       	ld	a, +((_anim_end) / 256)
3191  0EF1  CE 00       	adc	a,0x00
3192  0EF3  47          	ld	b, a
3193  0EF4  DD 7E 07    	ld	a,(ix+7)
3194  0EF7  02          	ld	(bc), a
3195  0EF8  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3196  0EFA  DD 86 FF    	add	a,(ix-1)
3197  0EFD  4F          	ld	c, a
3198  0EFE  3E 00       	ld	a, +((_anim_respanwn) / 256)
3199  0F00  CE 00       	adc	a,0x00
3200  0F02  47          	ld	b, a
3201  0F03  DD 7E 09    	ld	a,(ix+9)
3202  0F06  02          	ld	(bc), a
3203  0F07  F3          	di
3204  0F08  DD 6E FD    	ld	l,(ix-3)
3205  0F0B  DD 66 FE    	ld	h,(ix-2)
3206  0F0E  46          	ld	b, (hl)
3207  0F0F  E1          	pop	hl
3208  0F10  1A          	ld	a,(de)
3209  0F11  56          	ld	d,(hl)
3210  0F12  E5          	push	hl
3211  0F13  C5          	push	bc
3212  0F14  33          	inc	sp
3213  0F15  5A          	ld	e,d
3214  0F16  57          	ld	d,a
3215  0F17  D5          	push	de
3216  0F18  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3217  0F1B  FB          	ei
3218  0F1C  DD 66 05    	ld	h,(ix+5)
3219  0F1F  DD 6E 04    	ld	l,(ix+4)
3220  0F22  E5          	push	hl
3221  0F23  CD 00 00    	call	_spr_calc_index
3222  0F26  F1          	pop	af
3223  0F27  22 00 00    	ld	(_index0),hl
3224  0F2A  01 00 00    	ld	bc,_scr_map
3225  0F2D  09          	add	hl,bc
3226  0F2E  7E          	ld	a,(hl)
3227  0F2F  B7          	or	a,a
3228  0F30  20 0E       	jr	NZ,l_spr_add_anim_00111
3229  0F32  36 FF       	ld	(hl),0xff
3230  0F34  18 0A       	jr	l_spr_add_anim_00111
3231  0F36              l_spr_add_anim_00110:
3232  0F36  0C          	inc	c
3233  0F37  DD 71 FF    	ld	(ix-1),c
3234  0F3A  79          	ld	a, c
3235  0F3B  D6 08       	sub	a,0x08
3236  0F3D  DA 91 0E    	jp	C, l_spr_add_anim_00109
3237  0F40              l_spr_add_anim_00111:
3238  0F40  DD F9       	ld	sp, ix
3239  0F42  DD E1       	pop	ix
3240  0F44  C9          	ret
3241  0F45              	SECTION code_compiler
3242  0F45              ;	---------------------------------
3243  0F45              ; Function spr_play_anim
3244  0F45              ; ---------------------------------
3245  0F45              _spr_play_anim:
3246  0F45  CD 00 00    	call	___sdcc_enter_ix
3247  0F48  F5          	push	af
3248  0F49  F5          	push	af
3249  0F4A  F5          	push	af
3250  0F4B  F5          	push	af
3251  0F4C  DD 36 F8 00 	ld	(ix-8),0x00
3252  0F50              l_spr_play_anim_00114:
3253  0F50  01 00 00    	ld	bc,_anim_lin
3254  0F53  DD 6E F8    	ld	l,(ix-8)
3255  0F56  26 00       	ld	h,0x00
3256  0F58  09          	add	hl,bc
3257  0F59  DD 75 F9    	ld	(ix-7),l
3258  0F5C  DD 74 FA    	ld	(ix-6),h
3259  0F5F  4E          	ld	c, (hl)
3260  0F60  0C          	inc	c
3261  0F61  CA 72 10    	jp	Z,l_spr_play_anim_00115
3262  0F64  21 01 00    	ld	hl,0x0001
3263  0F67  CD 00 00    	call	_z80_delay_ms_fastcall
3264  0F6A  01 00 00    	ld	bc,_anim_int
3265  0F6D  DD 6E F8    	ld	l,(ix-8)
3266  0F70  26 00       	ld	h,0x00
3267  0F72  09          	add	hl,bc
3268  0F73  DD 75 FB    	ld	(ix-5),l
3269  0F76  DD 74 FC    	ld	(ix-4),h
3270  0F79  4E          	ld	c, (hl)
3271  0F7A  3E 00       	ld	a, +((_anim_end) & 0xFF)
3272  0F7C  DD 86 F8    	add	a,(ix-8)
3273  0F7F  6F          	ld	l, a
3274  0F80  3E 00       	ld	a, +((_anim_end) / 256)
3275  0F82  CE 00       	adc	a,0x00
3276  0F84  67          	ld	h, a
3277  0F85  46          	ld	b, (hl)
3278  0F86  79          	ld	a, c
3279  0F87  90          	sub	a, b
3280  0F88  30 40       	jr	NC,l_spr_play_anim_00109
3281  0F8A  F3          	di
3282  0F8B  3E 00       	ld	a, +((_anim_col) & 0xFF)
3283  0F8D  DD 86 F8    	add	a,(ix-8)
3284  0F90  6F          	ld	l, a
3285  0F91  3E 00       	ld	a, +((_anim_col) / 256)
3286  0F93  CE 00       	adc	a,0x00
3287  0F95  67          	ld	h, a
3288  0F96  56          	ld	d, (hl)
3289  0F97  DD 6E F9    	ld	l,(ix-7)
3290  0F9A  DD 66 FA    	ld	h,(ix-6)
3291  0F9D  4E          	ld	c, (hl)
3292  0F9E  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3293  0FA0  DD 86 F8    	add	a,(ix-8)
3294  0FA3  6F          	ld	l, a
3295  0FA4  3E 00       	ld	a, +((_anim_tile) / 256)
3296  0FA6  CE 00       	adc	a,0x00
3297  0FA8  67          	ld	h, a
3298  0FA9  5E          	ld	e, (hl)
3299  0FAA  DD 6E FB    	ld	l,(ix-5)
3300  0FAD  DD 66 FC    	ld	h,(ix-4)
3301  0FB0  6E          	ld	l, (hl)
3302  0FB1  7B          	ld	a, e
3303  0FB2  85          	add	a, l
3304  0FB3  47          	ld	b, a
3305  0FB4  D5          	push	de
3306  0FB5  33          	inc	sp
3307  0FB6  79          	ld	a, c
3308  0FB7  48          	ld	c,b
3309  0FB8  47          	ld	b,a
3310  0FB9  C5          	push	bc
3311  0FBA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3312  0FBD  FB          	ei
3313  0FBE  DD 6E FB    	ld	l,(ix-5)
3314  0FC1  DD 66 FC    	ld	h,(ix-4)
3315  0FC4  4E          	ld	c,(hl)
3316  0FC5  0C          	inc	c
3317  0FC6  71          	ld	(hl), c
3318  0FC7  C3 72 10    	jp	l_spr_play_anim_00115
3319  0FCA              l_spr_play_anim_00109:
3320  0FCA  01 00 00    	ld	bc,_anim_loop
3321  0FCD  DD 6E F8    	ld	l,(ix-8)
3322  0FD0  26 00       	ld	h,0x00
3323  0FD2  09          	add	hl,bc
3324  0FD3  DD 75 FE    	ld	(ix-2),l
3325  0FD6  DD 74 FF    	ld	(ix-1),h
3326  0FD9  7E          	ld	a, (hl)
3327  0FDA  DD 77 FD    	ld	(ix-3),a
3328  0FDD  B7          	or	a, a
3329  0FDE  C2 5F 10    	jp	NZ, l_spr_play_anim_00106
3330  0FE1  21 00 00    	ld	hl,_anim_count
3331  0FE4  35          	dec	(hl)
3332  0FE5  3E 00       	ld	a, +((_anim_col) & 0xFF)
3333  0FE7  DD 86 F8    	add	a,(ix-8)
3334  0FEA  6F          	ld	l, a
3335  0FEB  3E 00       	ld	a, +((_anim_col) / 256)
3336  0FED  CE 00       	adc	a,0x00
3337  0FEF  67          	ld	h, a
3338  0FF0  7E          	ld	a, (hl)
3339  0FF1  32 00 00    	ld	(_s_col0),a
3340  0FF4  DD 6E F9    	ld	l,(ix-7)
3341  0FF7  DD 66 FA    	ld	h,(ix-6)
3342  0FFA  7E          	ld	a, (hl)
3343  0FFB  32 00 00    	ld	(_s_lin0),a
3344  0FFE  2A FF FF    	ld	hl,(_s_col0 - 1)
3345  1001  6F          	ld	l,a
3346  1002  E5          	push	hl
3347  1003  CD 00 00    	call	_spr_calc_index
3348  1006  F1          	pop	af
3349  1007  2A FF FF    	ld	hl,(_s_col0 - 1)
3350  100A  3A 00 00    	ld	a,(_s_lin0)
3351  100D  6F          	ld	l,a
3352  100E  E5          	push	hl
3353  100F  CD 00 00    	call	_spr_calc_index
3354  1012  F1          	pop	af
3355  1013  01 00 00    	ld	bc,_scr_map
3356  1016  09          	add	hl,bc
3357  1017  4E          	ld	c, (hl)
3358  1018  0C          	inc	c
3359  1019  20 1F       	jr	NZ,l_spr_play_anim_00102
3360  101B  2A FF FF    	ld	hl,(_s_col0 - 1)
3361  101E  3A 00 00    	ld	a,(_s_lin0)
3362  1021  6F          	ld	l,a
3363  1022  E5          	push	hl
3364  1023  CD 00 00    	call	_spr_calc_index
3365  1026  F1          	pop	af
3366  1027  22 00 00    	ld	(_index0),hl
3367  102A  01 00 00    	ld	bc,_scr_map
3368  102D  09          	add	hl,bc
3369  102E  E5          	push	hl
3370  102F  2A 00 00    	ld	hl,(_index0)
3371  1032  E5          	push	hl
3372  1033  CD 00 00    	call	_game_match_back
3373  1036  F1          	pop	af
3374  1037  C1          	pop	bc
3375  1038  7D          	ld	a,l
3376  1039  02          	ld	(bc), a
3377  103A              l_spr_play_anim_00102:
3378  103A  CD AA 0C    	call	_spr_back_repaint
3379  103D  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3380  103F  DD 86 F8    	add	a,(ix-8)
3381  1042  4F          	ld	c, a
3382  1043  3E 00       	ld	a, +((_anim_respanwn) / 256)
3383  1045  CE 00       	adc	a,0x00
3384  1047  47          	ld	b, a
3385  1048  0A          	ld	a, (bc)
3386  1049  B7          	or	a, a
3387  104A  28 09       	jr	Z,l_spr_play_anim_00104
3388  104C  DD 7E F8    	ld	a,(ix-8)
3389  104F  F5          	push	af
3390  1050  33          	inc	sp
3391  1051  CD 00 00    	call	_enemy_respawn
3392  1054  33          	inc	sp
3393  1055              l_spr_play_anim_00104:
3394  1055  DD 6E F9    	ld	l,(ix-7)
3395  1058  DD 66 FA    	ld	h,(ix-6)
3396  105B  36 FF       	ld	(hl),0xff
3397  105D  18 13       	jr	l_spr_play_anim_00115
3398  105F              l_spr_play_anim_00106:
3399  105F  DD 4E FD    	ld	c,(ix-3)
3400  1062  0D          	dec	c
3401  1063  DD 6E FE    	ld	l,(ix-2)
3402  1066  DD 66 FF    	ld	h,(ix-1)
3403  1069  71          	ld	(hl), c
3404  106A  DD 6E FB    	ld	l,(ix-5)
3405  106D  DD 66 FC    	ld	h,(ix-4)
3406  1070  36 00       	ld	(hl),0x00
3407  1072              l_spr_play_anim_00115:
3408  1072  DD 34 F8    	inc	(ix-8)
3409  1075  DD 7E F8    	ld	a,(ix-8)
3410  1078  D6 08       	sub	a,0x08
3411  107A  DA 50 0F    	jp	C, l_spr_play_anim_00114
3412  107D  DD F9       	ld	sp, ix
3413  107F  DD E1       	pop	ix
3414  1081  C9          	ret
3415  1082              	SECTION code_compiler
3416  1082              ;	---------------------------------
3417  1082              ; Function spr_play_bullets
3418  1082              ; ---------------------------------
3419  1082              _spr_play_bullets:
3420  1082  CD 00 00    	call	___sdcc_enter_ix
3421  1085  21 F2 FF    	ld	hl, -14
3422  1088  39          	add	hl, sp
3423  1089  F9          	ld	sp, hl
3424  108A  3E 00       	ld	a,0x00
3425  108C  DD 77 FF    	ld	(ix-1),a
3426  108F  DD 77 F5    	ld	(ix-11),a
3427  1092              l_spr_play_bullets_00198:
3428  1092  01 00 00    	ld	bc,_bullet_col
3429  1095  DD 6E F5    	ld	l,(ix-11)
3430  1098  26 00       	ld	h,0x00
3431  109A  09          	add	hl,bc
3432  109B  DD 75 FD    	ld	(ix-3),l
3433  109E  DD 74 FE    	ld	(ix-2),h
3434  10A1  7E          	ld	a, (hl)
3435  10A2  DD 77 FC    	ld	(ix-4),a
3436  10A5  3C          	inc	a
3437  10A6  CA 2B 16    	jp	Z,l_spr_play_bullets_00192
3438  10A9  01 00 00    	ld	bc,_bullet_lin
3439  10AC  DD 6E F5    	ld	l,(ix-11)
3440  10AF  26 00       	ld	h,0x00
3441  10B1  09          	add	hl,bc
3442  10B2  DD 75 FA    	ld	(ix-6),l
3443  10B5  DD 74 FB    	ld	(ix-5),h
3444  10B8  7E          	ld	a, (hl)
3445  10B9  32 00 00    	ld	(_s_lin0),a
3446  10BC  DD 7E FC    	ld	a,(ix-4)
3447  10BF  32 00 00    	ld	(_s_col0),a
3448  10C2  DD 77 F4    	ld	(ix-12),a
3449  10C5  CD AA 0C    	call	_spr_back_repaint
3450  10C8  01 00 00    	ld	bc,_bullet_class
3451  10CB  DD 6E F5    	ld	l,(ix-11)
3452  10CE  26 00       	ld	h,0x00
3453  10D0  09          	add	hl,bc
3454  10D1  DD 75 F8    	ld	(ix-8),l
3455  10D4  DD 74 F9    	ld	(ix-7),h
3456  10D7  7E          	ld	a, (hl)
3457  10D8  D6 02       	sub	a,0x02
3458  10DA  20 46       	jr	NZ,l_spr_play_bullets_00107
3459  10DC  3A 00 00    	ld	a,(_s_lin0)
3460  10DF  4F          	ld	c,a
3461  10E0  06 00       	ld	b,0x00
3462  10E2  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3463  10E4  DD 86 F5    	add	a,(ix-11)
3464  10E7  6F          	ld	l, a
3465  10E8  3E 00       	ld	a, +((_bullet_lin0) / 256)
3466  10EA  CE 00       	adc	a,0x00
3467  10EC  67          	ld	h, a
3468  10ED  5E          	ld	e, (hl)
3469  10EE  16 00       	ld	d,0x00
3470  10F0  79          	ld	a, c
3471  10F1  93          	sub	a, e
3472  10F2  4F          	ld	c, a
3473  10F3  78          	ld	a, b
3474  10F4  9A          	sbc	a, d
3475  10F5  47          	ld	b, a
3476  10F6  3E 08       	ld	a,0x08
3477  10F8  B9          	cp	a, c
3478  10F9  3E 00       	ld	a,0x00
3479  10FB  98          	sbc	a, b
3480  10FC  E2 01 11    	jp	PO, l_spr_play_bullets_00412
3481  10FF  EE 80       	xor	a,0x80
3482  1101              l_spr_play_bullets_00412:
3483  1101  FA 1A 11    	jp	M, l_spr_play_bullets_00104
3484  1104  DD 6E FA    	ld	l,(ix-6)
3485  1107  DD 66 FB    	ld	h,(ix-5)
3486  110A  4E          	ld	c, (hl)
3487  110B  0C          	inc	c
3488  110C  0C          	inc	c
3489  110D  DD 6E FA    	ld	l,(ix-6)
3490  1110  DD 66 FB    	ld	h,(ix-5)
3491  1113  71          	ld	(hl), c
3492  1114  21 00 00    	ld	hl,_s_lin0
3493  1117  71          	ld	(hl), c
3494  1118  18 08       	jr	l_spr_play_bullets_00107
3495  111A              l_spr_play_bullets_00104:
3496  111A  DD 6E F8    	ld	l,(ix-8)
3497  111D  DD 66 F9    	ld	h,(ix-7)
3498  1120  36 03       	ld	(hl),0x03
3499  1122              l_spr_play_bullets_00107:
3500  1122  DD 6E F8    	ld	l,(ix-8)
3501  1125  DD 66 F9    	ld	h,(ix-7)
3502  1128  7E          	ld	a, (hl)
3503  1129  D6 03       	sub	a,0x03
3504  112B  20 46       	jr	NZ,l_spr_play_bullets_00112
3505  112D  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3506  112F  DD 86 F5    	add	a,(ix-11)
3507  1132  6F          	ld	l, a
3508  1133  3E 00       	ld	a, +((_bullet_lin0) / 256)
3509  1135  CE 00       	adc	a,0x00
3510  1137  67          	ld	h, a
3511  1138  4E          	ld	c, (hl)
3512  1139  06 00       	ld	b,0x00
3513  113B  3A 00 00    	ld	a,(_s_lin0)
3514  113E  5F          	ld	e,a
3515  113F  16 00       	ld	d,0x00
3516  1141  79          	ld	a, c
3517  1142  93          	sub	a, e
3518  1143  4F          	ld	c, a
3519  1144  78          	ld	a, b
3520  1145  9A          	sbc	a, d
3521  1146  47          	ld	b, a
3522  1147  3E 08       	ld	a,0x08
3523  1149  B9          	cp	a, c
3524  114A  3E 00       	ld	a,0x00
3525  114C  98          	sbc	a, b
3526  114D  E2 52 11    	jp	PO, l_spr_play_bullets_00415
3527  1150  EE 80       	xor	a,0x80
3528  1152              l_spr_play_bullets_00415:
3529  1152  FA 6B 11    	jp	M, l_spr_play_bullets_00109
3530  1155  DD 6E FA    	ld	l,(ix-6)
3531  1158  DD 66 FB    	ld	h,(ix-5)
3532  115B  4E          	ld	c, (hl)
3533  115C  0D          	dec	c
3534  115D  0D          	dec	c
3535  115E  DD 6E FA    	ld	l,(ix-6)
3536  1161  DD 66 FB    	ld	h,(ix-5)
3537  1164  71          	ld	(hl), c
3538  1165  21 00 00    	ld	hl,_s_lin0
3539  1168  71          	ld	(hl), c
3540  1169  18 08       	jr	l_spr_play_bullets_00112
3541  116B              l_spr_play_bullets_00109:
3542  116B  DD 6E F8    	ld	l,(ix-8)
3543  116E  DD 66 F9    	ld	h,(ix-7)
3544  1171  36 02       	ld	(hl),0x02
3545  1173              l_spr_play_bullets_00112:
3546  1173  DD 6E F8    	ld	l,(ix-8)
3547  1176  DD 66 F9    	ld	h,(ix-7)
3548  1179  7E          	ld	a, (hl)
3549  117A  D6 04       	sub	a,0x04
3550  117C  C2 02 12    	jp	NZ,l_spr_play_bullets_00125
3551  117F  DD 6E FA    	ld	l,(ix-6)
3552  1182  DD 66 FB    	ld	h,(ix-5)
3553  1185  7E          	ld	a, (hl)
3554  1186  32 00 00    	ld	(_s_lin0),a
3555  1189  DD 6E FD    	ld	l,(ix-3)
3556  118C  DD 66 FE    	ld	h,(ix-2)
3557  118F  7E          	ld	a, (hl)
3558  1190  C6 FF       	add	a,0xff
3559  1192  32 00 00    	ld	(_s_col0),a
3560  1195  D6 20       	sub	a,0x20
3561  1197  30 03       	jr	NC,l_spr_play_bullets_00114
3562  1199  CD AA 0C    	call	_spr_back_repaint
3563  119C              l_spr_play_bullets_00114:
3564  119C  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3565  119E  DD 86 F5    	add	a,(ix-11)
3566  11A1  4F          	ld	c, a
3567  11A2  3E 00       	ld	a, +((_bullet_vel) / 256)
3568  11A4  CE 00       	adc	a,0x00
3569  11A6  47          	ld	b, a
3570  11A7  0A          	ld	a, (bc)
3571  11A8  5F          	ld	e, a
3572  11A9  21 00 00    	ld	hl,_game_gravity
3573  11AC  56          	ld	d, (hl)
3574  11AD  7B          	ld	a, e
3575  11AE  82          	add	a, d
3576  11AF  5F          	ld	e,a
3577  11B0  02          	ld	(bc), a
3578  11B1  3E 78       	ld	a,0x78
3579  11B3  93          	sub	a, e
3580  11B4  E2 B9 11    	jp	PO, l_spr_play_bullets_00418
3581  11B7  EE 80       	xor	a,0x80
3582  11B9              l_spr_play_bullets_00418:
3583  11B9  F2 BF 11    	jp	P, l_spr_play_bullets_00116
3584  11BC  3E 78       	ld	a,0x78
3585  11BE  02          	ld	(bc), a
3586  11BF              l_spr_play_bullets_00116:
3587  11BF  0A          	ld	a, (bc)
3588  11C0  EE 80       	xor	a,0x80
3589  11C2  D6 08       	sub	a,0x08
3590  11C4  30 03       	jr	NC,l_spr_play_bullets_00118
3591  11C6  3E 88       	ld	a,0x88
3592  11C8  02          	ld	(bc), a
3593  11C9              l_spr_play_bullets_00118:
3594  11C9  0A          	ld	a, (bc)
3595  11CA  CB 47       	bit	0,a
3596  11CC  32 00 00    	ld	(_s_lin1),a
3597  11CF  28 04       	jr	Z,l_spr_play_bullets_00120
3598  11D1  21 00 00    	ld	hl,_s_lin1
3599  11D4  35          	dec	(hl)
3600  11D5              l_spr_play_bullets_00120:
3601  11D5  DD 6E FA    	ld	l,(ix-6)
3602  11D8  DD 66 FB    	ld	h,(ix-5)
3603  11DB  7E          	ld	a, (hl)
3604  11DC  21 00 00    	ld	hl,_s_lin1
3605  11DF  86          	add	a, (hl)
3606  11E0  21 00 00    	ld	hl,_s_lin0
3607  11E3  77          	ld	(hl), a
3608  11E4  3E 90       	ld	a,0x90
3609  11E6  96          	sub	a, (hl)
3610  11E7  30 0F       	jr	NC,l_spr_play_bullets_00122
3611  11E9  21 00 00    	ld	hl,_bullet_count
3612  11EC  35          	dec	(hl)
3613  11ED  DD 6E FD    	ld	l,(ix-3)
3614  11F0  DD 66 FE    	ld	h,(ix-2)
3615  11F3  36 FF       	ld	(hl),0xff
3616  11F5  C3 2B 16    	jp	l_spr_play_bullets_00192
3617  11F8              l_spr_play_bullets_00122:
3618  11F8  DD 6E FA    	ld	l,(ix-6)
3619  11FB  DD 66 FB    	ld	h,(ix-5)
3620  11FE  3A 00 00    	ld	a,(_s_lin0)
3621  1201  77          	ld	(hl),a
3622  1202              l_spr_play_bullets_00125:
3623  1202  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3624  1204  DD 86 F5    	add	a,(ix-11)
3625  1207  6F          	ld	l, a
3626  1208  3E 00       	ld	a, +((_bullet_dir) / 256)
3627  120A  CE 00       	adc	a,0x00
3628  120C  67          	ld	h, a
3629  120D  4E          	ld	c, (hl)
3630  120E  0C          	inc	c
3631  120F  20 3D       	jr	NZ,l_spr_play_bullets_00135
3632  1211  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3633  1213  DD 86 F5    	add	a,(ix-11)
3634  1216  4F          	ld	c, a
3635  1217  3E 00       	ld	a, +((_bullet_colint) / 256)
3636  1219  CE 00       	adc	a,0x00
3637  121B  47          	ld	b, a
3638  121C  0A          	ld	a, (bc)
3639  121D  3C          	inc	a
3640  121E  5F          	ld	e,a
3641  121F  02          	ld	(bc), a
3642  1220  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3643  1222  DD 86 F5    	add	a,(ix-11)
3644  1225  6F          	ld	l, a
3645  1226  3E 00       	ld	a, +((_bullet_frames) / 256)
3646  1228  CE 00       	adc	a,0x00
3647  122A  67          	ld	h, a
3648  122B  56          	ld	d, (hl)
3649  122C  7B          	ld	a, e
3650  122D  92          	sub	a, d
3651  122E  38 63       	jr	C,l_spr_play_bullets_00136
3652  1230  DD 6E FD    	ld	l,(ix-3)
3653  1233  DD 66 FE    	ld	h,(ix-2)
3654  1236  7E          	ld	a, (hl)
3655  1237  3C          	inc	a
3656  1238  DD 77 F4    	ld	(ix-12),a
3657  123B  AF          	xor	a, a
3658  123C  02          	ld	(bc), a
3659  123D  DD 7E F4    	ld	a,(ix-12)
3660  1240  E6 01       	and	a,0x01
3661  1242  3D          	dec	a
3662  1243  20 4E       	jr	NZ,l_spr_play_bullets_00136
3663  1245  DD 7E F4    	ld	a,(ix-12)
3664  1248  3C          	inc	a
3665  1249  32 00 00    	ld	(_s_col0),a
3666  124C  18 45       	jr	l_spr_play_bullets_00136
3667  124E              l_spr_play_bullets_00135:
3668  124E  01 00 00    	ld	bc,_bullet_colint
3669  1251  DD 6E F5    	ld	l,(ix-11)
3670  1254  26 00       	ld	h,0x00
3671  1256  09          	add	hl,bc
3672  1257  DD 75 F6    	ld	(ix-10),l
3673  125A  DD 74 F7    	ld	(ix-9),h
3674  125D  4E          	ld	c,(hl)
3675  125E  0D          	dec	c
3676  125F  71          	ld	(hl), c
3677  1260  0C          	inc	c
3678  1261  20 30       	jr	NZ,l_spr_play_bullets_00136
3679  1263  DD 6E FD    	ld	l,(ix-3)
3680  1266  DD 66 FE    	ld	h,(ix-2)
3681  1269  7E          	ld	a, (hl)
3682  126A  C6 FF       	add	a,0xff
3683  126C  DD 77 F4    	ld	(ix-12),a
3684  126F  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3685  1271  DD 86 F5    	add	a,(ix-11)
3686  1274  6F          	ld	l, a
3687  1275  3E 00       	ld	a, +((_bullet_frames) / 256)
3688  1277  CE 00       	adc	a,0x00
3689  1279  67          	ld	h, a
3690  127A  4E          	ld	c, (hl)
3691  127B  0D          	dec	c
3692  127C  DD 6E F6    	ld	l,(ix-10)
3693  127F  DD 66 F7    	ld	h,(ix-9)
3694  1282  71          	ld	(hl), c
3695  1283  DD 7E F4    	ld	a,(ix-12)
3696  1286  E6 01       	and	a,0x01
3697  1288  3D          	dec	a
3698  1289  20 08       	jr	NZ,l_spr_play_bullets_00136
3699  128B  DD 7E F4    	ld	a,(ix-12)
3700  128E  C6 FF       	add	a,0xff
3701  1290  32 00 00    	ld	(_s_col0),a
3702  1293              l_spr_play_bullets_00136:
3703  1293  21 00 00    	ld	hl,_tmp1
3704  1296  36 00       	ld	(hl),0x00
3705  1298  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3706  129A  DD 86 F5    	add	a,(ix-11)
3707  129D  4F          	ld	c, a
3708  129E  3E 00       	ld	a, +((_bullet_max) / 256)
3709  12A0  CE 00       	adc	a,0x00
3710  12A2  47          	ld	b, a
3711  12A3  0A          	ld	a, (bc)
3712  12A4  B7          	or	a, a
3713  12A5  28 27       	jr	Z,l_spr_play_bullets_00140
3714  12A7  DD 5E F4    	ld	e,(ix-12)
3715  12AA  16 00       	ld	d,0x00
3716  12AC  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3717  12AE  DD 86 F5    	add	a,(ix-11)
3718  12B1  6F          	ld	l, a
3719  12B2  3E 00       	ld	a, +((_bullet_col0) / 256)
3720  12B4  CE 00       	adc	a,0x00
3721  12B6  67          	ld	h, a
3722  12B7  6E          	ld	l, (hl)
3723  12B8  AF          	xor	a,a
3724  12B9  67          	ld	h,a
3725  12BA  EB          	ex	de,hl
3726  12BB  ED 52       	sbc	hl,de
3727  12BD  CD 00 00    	call	_abs_fastcall
3728  12C0  5D          	ld	e, l
3729  12C1  21 00 00    	ld	hl,_tmp0
3730  12C4  73          	ld	(hl), e
3731  12C5  0A          	ld	a, (bc)
3732  12C6  96          	sub	a, (hl)
3733  12C7  30 05       	jr	NC,l_spr_play_bullets_00140
3734  12C9  21 00 00    	ld	hl,_tmp1
3735  12CC  36 01       	ld	(hl),0x01
3736  12CE              l_spr_play_bullets_00140:
3737  12CE  DD 7E F4    	ld	a,(ix-12)
3738  12D1  D6 1E       	sub	a,0x1e
3739  12D3  38 05       	jr	C,l_spr_play_bullets_00142
3740  12D5  21 00 00    	ld	hl,_tmp1
3741  12D8  36 01       	ld	(hl),0x01
3742  12DA              l_spr_play_bullets_00142:
3743  12DA  3A 00 00    	ld	a,(_tmp1)
3744  12DD  B7          	or	a, a
3745  12DE  28 0F       	jr	Z,l_spr_play_bullets_00144
3746  12E0  21 00 00    	ld	hl,_bullet_count
3747  12E3  35          	dec	(hl)
3748  12E4  DD 6E FD    	ld	l,(ix-3)
3749  12E7  DD 66 FE    	ld	h,(ix-2)
3750  12EA  36 FF       	ld	(hl),0xff
3751  12EC  C3 2B 16    	jp	l_spr_play_bullets_00192
3752  12EF              l_spr_play_bullets_00144:
3753  12EF  DD 7E FD    	ld	a,(ix-3)
3754  12F2  DD 77 F6    	ld	(ix-10),a
3755  12F5  DD 7E FE    	ld	a,(ix-2)
3756  12F8  DD 77 F7    	ld	(ix-9),a
3757  12FB  DD 6E FD    	ld	l,(ix-3)
3758  12FE  DD 66 FE    	ld	h,(ix-2)
3759  1301  DD 7E F4    	ld	a,(ix-12)
3760  1304  96          	sub	a,(hl)
3761  1305  CA EF 15    	jp	Z,l_spr_play_bullets_00187
3762  1308  3A 00 00    	ld	a,(_s_lin0)
3763  130B  C6 08       	add	a,0x08
3764  130D  4F          	ld	c, a
3765  130E  3A 00 00    	ld	a, (_s_col0)
3766  1311  47          	ld	b,a
3767  1312  C5          	push	bc
3768  1313  CD 00 00    	call	_spr_calc_index
3769  1316  F1          	pop	af
3770  1317  22 00 00    	ld	(_index0),hl
3771  131A  01 00 00    	ld	bc,_scr_map
3772  131D  09          	add	hl,bc
3773  131E  4D          	ld	c,l
3774  131F  44          	ld	b,h
3775  1320  6E          	ld	l, (hl)
3776  1321  DD 7E F5    	ld	a,(ix-11)
3777  1324  D6 07       	sub	a,0x07
3778  1326  20 04       	jr	NZ,l_spr_play_bullets_00429
3779  1328  3E 01       	ld	a,0x01
3780  132A  18 01       	jr	l_spr_play_bullets_00430
3781  132C              l_spr_play_bullets_00429:
3782  132C  AF          	xor	a,a
3783  132D              l_spr_play_bullets_00430:
3784  132D  5F          	ld	e, a
3785  132E  7D          	ld	a, l
3786  132F  D6 4D       	sub	a,0x4d
3787  1331  20 47       	jr	NZ,l_spr_play_bullets_00146
3788  1333  B3          	or	a,e
3789  1334  28 44       	jr	Z,l_spr_play_bullets_00146
3790  1336  2A 00 00    	ld	hl,(_index0)
3791  1339  C5          	push	bc
3792  133A  E5          	push	hl
3793  133B  CD 00 00    	call	_game_match_back
3794  133E  F1          	pop	af
3795  133F  C1          	pop	bc
3796  1340  7D          	ld	a,l
3797  1341  02          	ld	(bc), a
3798  1342  2A 00 00    	ld	hl,(_index0)
3799  1345  E5          	push	hl
3800  1346  CD 00 00    	call	_game_obj_set
3801  1349  F1          	pop	af
3802  134A  2A 00 00    	ld	hl,(_index0)
3803  134D  4D          	ld	c,l
3804  134E  5C          	ld	e,h
3805  134F  06 04       	ld	b,0x04
3806  1351  79          	ld	a,c
3807  1352              l_spr_play_bullets_00433:
3808  1352  CB 3B       	srl	e
3809  1354  1F          	rra
3810  1355  10 FB       	djnz	l_spr_play_bullets_00433
3811  1357  07          	rlca
3812  1358  07          	rlca
3813  1359  07          	rlca
3814  135A  07          	rlca
3815  135B  E6 F0       	and	a,0xf0
3816  135D  DD 6E FA    	ld	l,(ix-6)
3817  1360  DD 66 FB    	ld	h,(ix-5)
3818  1363  77          	ld	(hl), a
3819  1364  3A 00 00    	ld	a,(_index0)
3820  1367  E6 0F       	and	a,0x0f
3821  1369  87          	add	a, a
3822  136A  DD 6E FD    	ld	l,(ix-3)
3823  136D  DD 66 FE    	ld	h,(ix-2)
3824  1370  77          	ld	(hl), a
3825  1371  DD 6E F5    	ld	l,(ix-11)
3826  1374  CD 3E 16    	call	_spr_explode_bullet
3827  1377  C3 2B 16    	jp	l_spr_play_bullets_00192
3828  137A              l_spr_play_bullets_00146:
3829  137A  7D          	ld	a, l
3830  137B  D6 48       	sub	a,0x48
3831  137D  38 0C       	jr	C,l_spr_play_bullets_00149
3832  137F  2C          	inc	l
3833  1380  28 09       	jr	Z,l_spr_play_bullets_00149
3834  1382  DD 6E F5    	ld	l,(ix-11)
3835  1385  CD 3E 16    	call	_spr_explode_bullet
3836  1388  C3 2B 16    	jp	l_spr_play_bullets_00192
3837  138B              l_spr_play_bullets_00149:
3838  138B  DD 6E FD    	ld	l,(ix-3)
3839  138E  DD 66 FE    	ld	h,(ix-2)
3840  1391  DD 7E F4    	ld	a,(ix-12)
3841  1394  77          	ld	(hl), a
3842  1395  DD 6E F8    	ld	l,(ix-8)
3843  1398  DD 66 F9    	ld	h,(ix-7)
3844  139B  7E          	ld	a, (hl)
3845  139C  D6 04       	sub	a,0x04
3846  139E  20 19       	jr	NZ,l_spr_play_bullets_00152
3847  13A0  21 00 00    	ld	hl,_s_lin0
3848  13A3  7E          	ld	a, (hl)
3849  13A4  C6 F0       	add	a,0xf0
3850  13A6  4F          	ld	c, a
3851  13A7  7E          	ld	a, (hl)
3852  13A8  C6 10       	add	a,0x10
3853  13AA  DD 77 F3    	ld	(ix-13),a
3854  13AD  DD 35 F4    	dec	(ix-12)
3855  13B0  DD 7E F4    	ld	a,(ix-12)
3856  13B3  3C          	inc	a
3857  13B4  DD 77 F2    	ld	(ix-14),a
3858  13B7  18 14       	jr	l_spr_play_bullets_00153
3859  13B9              l_spr_play_bullets_00152:
3860  13B9  21 00 00    	ld	hl,_s_lin0
3861  13BC  7E          	ld	a, (hl)
3862  13BD  C6 F8       	add	a,0xf8
3863  13BF  4F          	ld	c, a
3864  13C0  7E          	ld	a, (hl)
3865  13C1  C6 08       	add	a,0x08
3866  13C3  DD 77 F3    	ld	(ix-13),a
3867  13C6  DD 7E F4    	ld	a,(ix-12)
3868  13C9  3C          	inc	a
3869  13CA  DD 77 F2    	ld	(ix-14),a
3870  13CD              l_spr_play_bullets_00153:
3871  13CD  7B          	ld	a, e
3872  13CE  B7          	or	a, a
3873  13CF  CA B7 15    	jp	Z, l_spr_play_bullets_00184
3874  13D2  21 00 00    	ld	hl,_tmp0
3875  13D5  36 00       	ld	(hl),0x00
3876  13D7              l_spr_play_bullets_00194:
3877  13D7  2A 00 00    	ld	hl,(_tmp0)
3878  13DA  26 00       	ld	h,0x00
3879  13DC  11 00 00    	ld	de,_class
3880  13DF  19          	add	hl,de
3881  13E0  7E          	ld	a,(hl)
3882  13E1  B7          	or	a,a
3883  13E2  CA 82 14    	jp	Z,l_spr_play_bullets_00195
3884  13E5  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3885  13E8  3C          	inc	a
3886  13E9  CA 82 14    	jp	Z,l_spr_play_bullets_00195
3887  13EC  2A 00 00    	ld	hl,(_tmp0)
3888  13EF  26 00       	ld	h,0x00
3889  13F1  11 00 00    	ld	de,_lin
3890  13F4  19          	add	hl,de
3891  13F5  7E          	ld	a,(hl)
3892  13F6  47          	ld	b,a
3893  13F7  91          	sub	a,c
3894  13F8  DA 82 14    	jp	C,l_spr_play_bullets_00195
3895  13FB  21 00 00    	ld	hl,_tmp0
3896  13FE  DD 7E F3    	ld	a,(ix-13)
3897  1401  90          	sub	a, b
3898  1402  DA 82 14    	jp	C, l_spr_play_bullets_00195
3899  1405  5E          	ld	e,(hl)
3900  1406  16 00       	ld	d,0x00
3901  1408  21 00 00    	ld	hl,_col
3902  140B  19          	add	hl,de
3903  140C  7E          	ld	a,(hl)
3904  140D  5F          	ld	e,a
3905  140E  DD 96 F4    	sub	a,(ix-12)
3906  1411  38 6F       	jr	C,l_spr_play_bullets_00195
3907  1413  DD 7E F2    	ld	a,(ix-14)
3908  1416  93          	sub	a, e
3909  1417  38 69       	jr	C,l_spr_play_bullets_00195
3910  1419  21 00 00    	ld	hl,_s_lin0
3911  141C  70          	ld	(hl), b
3912  141D  21 00 00    	ld	hl,_s_col0
3913  1420  73          	ld	(hl), e
3914  1421  C5          	push	bc
3915  1422  CD 00 00    	call	_rand
3916  1425  11 06 00    	ld	de,0x0006
3917  1428  D5          	push	de
3918  1429  E5          	push	hl
3919  142A  CD 00 00    	call	__modsint_callee
3920  142D  CD 00 00    	call	_player_score_add
3921  1430  C1          	pop	bc
3922  1431  2A 00 00    	ld	hl,(_tmp0)
3923  1434  26 00       	ld	h,0x00
3924  1436  29          	add	hl,hl
3925  1437  11 00 00    	ld	de,_game_respawn_time
3926  143A  19          	add	hl, de
3927  143B  DD 75 F8    	ld	(ix-8),l
3928  143E  DD 74 F9    	ld	(ix-7),h
3929  1441  ED 5B 00 00 	ld	de,(_curr_time)
3930  1445  73          	ld	(hl), e
3931  1446  23          	inc	hl
3932  1447  72          	ld	(hl), d
3933  1448  2A 00 00    	ld	hl,(_tmp0)
3934  144B  C5          	push	bc
3935  144C  CD 16 09    	call	_spr_destroy
3936  144F  C1          	pop	bc
3937  1450  2A 00 00    	ld	hl,(_tmp0)
3938  1453  26 00       	ld	h,0x00
3939  1455  11 00 00    	ld	de,_bullet_col
3940  1458  19          	add	hl,de
3941  1459  7E          	ld	a,(hl)
3942  145A  47          	ld	b,a
3943  145B  3C          	inc	a
3944  145C  28 17       	jr	Z,l_spr_play_bullets_00155
3945  145E  3A 00 00    	ld	a,(_tmp0)
3946  1461  5F          	ld	e,a
3947  1462  16 00       	ld	d,0x00
3948  1464  21 00 00    	ld	hl,_bullet_lin
3949  1467  19          	add	hl,de
3950  1468  7E          	ld	a,(hl)
3951  1469  32 00 00    	ld	(_s_lin0),a
3952  146C  21 00 00    	ld	hl,_s_col0
3953  146F  70          	ld	(hl), b
3954  1470  C5          	push	bc
3955  1471  CD AA 0C    	call	_spr_back_repaint
3956  1474  C1          	pop	bc
3957  1475              l_spr_play_bullets_00155:
3958  1475  3A 00 00    	ld	a,(_s_col0)
3959  1478  32 07 00    	ld	((_bullet_col + 0x0007)),a
3960  147B  C5          	push	bc
3961  147C  2E 07       	ld	l,0x07
3962  147E  CD 3E 16    	call	_spr_explode_bullet
3963  1481  C1          	pop	bc
3964  1482              l_spr_play_bullets_00195:
3965  1482  21 00 00    	ld	hl,_tmp0
3966  1485  7E          	ld	a,(hl)
3967  1486  3C          	inc	a
3968  1487  77          	ld	(hl),a
3969  1488  D6 07       	sub	a,0x07
3970  148A  DA D7 13    	jp	C, l_spr_play_bullets_00194
3971  148D  3A 00 00    	ld	a,(_game_boss)
3972  1490  B7          	or	a, a
3973  1491  CA EF 15    	jp	Z, l_spr_play_bullets_00187
3974  1494  21 00 00    	ld	hl,_boss_lin
3975  1497  7E          	ld	a, (hl)
3976  1498  91          	sub	a, c
3977  1499  38 06       	jr	C,l_spr_play_bullets_00173
3978  149B  DD 7E F3    	ld	a,(ix-13)
3979  149E  96          	sub	a, (hl)
3980  149F  30 28       	jr	NC,l_spr_play_bullets_00174
3981  14A1              l_spr_play_bullets_00173:
3982  14A1  3A 00 00    	ld	a,(_boss_lin)
3983  14A4  5F          	ld	e,a
3984  14A5  16 00       	ld	d,0x00
3985  14A7  21 10 00    	ld	hl,0x0010
3986  14AA  19          	add	hl, de
3987  14AB  06 00       	ld	b,0x00
3988  14AD  7D          	ld	a, l
3989  14AE  91          	sub	a, c
3990  14AF  7C          	ld	a, h
3991  14B0  98          	sbc	a, b
3992  14B1  E2 B6 14    	jp	PO, l_spr_play_bullets_00441
3993  14B4  EE 80       	xor	a,0x80
3994  14B6              l_spr_play_bullets_00441:
3995  14B6  FA EF 15    	jp	M, l_spr_play_bullets_00187
3996  14B9  DD 7E F3    	ld	a,(ix-13)
3997  14BC  06 00       	ld	b,0x00
3998  14BE  95          	sub	a, l
3999  14BF  78          	ld	a, b
4000  14C0  9C          	sbc	a, h
4001  14C1  E2 C6 14    	jp	PO, l_spr_play_bullets_00442
4002  14C4  EE 80       	xor	a,0x80
4003  14C6              l_spr_play_bullets_00442:
4004  14C6  FA EF 15    	jp	M, l_spr_play_bullets_00187
4005  14C9              l_spr_play_bullets_00174:
4006  14C9  21 00 00    	ld	hl,_boss_col
4007  14CC  7E          	ld	a, (hl)
4008  14CD  DD 96 F4    	sub	a,(ix-12)
4009  14D0  DA EF 15    	jp	C, l_spr_play_bullets_00187
4010  14D3  DD 7E F2    	ld	a,(ix-14)
4011  14D6  96          	sub	a, (hl)
4012  14D7  DA EF 15    	jp	C, l_spr_play_bullets_00187
4013  14DA  DD 6E F5    	ld	l,(ix-11)
4014  14DD  CD 3E 16    	call	_spr_explode_bullet
4015  14E0  21 00 00    	ld	hl,_game_boss_hit
4016  14E3  35          	dec	(hl)
4017  14E4  CD 00 00    	call	_game_update_stats
4018  14E7  3A 00 00    	ld	a,(_game_boss_hit)
4019  14EA  B7          	or	a, a
4020  14EB  C2 EF 15    	jp	NZ, l_spr_play_bullets_00187
4021  14EE  21 00 00    	ld	hl,_game_boss
4022  14F1  36 00       	ld	(hl),0x00
4023  14F3  21 00 00    	ld	hl,_game_boss_alive
4024  14F6  36 00       	ld	(hl),0x00
4025  14F8  3A 00 00    	ld	a,(_boss_col)
4026  14FB  21 00 00    	ld	hl,0x0000
4027  14FE  E5          	push	hl
4028  14FF  21 87 03    	ld	hl,0x0387
4029  1502  E5          	push	hl
4030  1503  F5          	push	af
4031  1504  33          	inc	sp
4032  1505  3A 00 00    	ld	a,(_boss_lin)
4033  1508  F5          	push	af
4034  1509  33          	inc	sp
4035  150A  CD 76 0E    	call	_spr_add_anim
4036  150D  F1          	pop	af
4037  150E  F1          	pop	af
4038  150F  F1          	pop	af
4039  1510  21 00 00    	ld	hl,_boss_col
4040  1513  46          	ld	b, (hl)
4041  1514  04          	inc	b
4042  1515  04          	inc	b
4043  1516  21 00 00    	ld	hl,0x0000
4044  1519  E5          	push	hl
4045  151A  21 87 03    	ld	hl,0x0387
4046  151D  E5          	push	hl
4047  151E  C5          	push	bc
4048  151F  33          	inc	sp
4049  1520  3A 00 00    	ld	a,(_boss_lin)
4050  1523  F5          	push	af
4051  1524  33          	inc	sp
4052  1525  CD 76 0E    	call	_spr_add_anim
4053  1528  F1          	pop	af
4054  1529  F1          	pop	af
4055  152A  F1          	pop	af
4056  152B  3A 00 00    	ld	a,(_boss_lin)
4057  152E  C6 10       	add	a,0x10
4058  1530  47          	ld	b, a
4059  1531  3A 00 00    	ld	a,(_boss_col)
4060  1534  21 00 00    	ld	hl,0x0000
4061  1537  E5          	push	hl
4062  1538  21 87 03    	ld	hl,0x0387
4063  153B  E5          	push	hl
4064  153C  48          	ld	c,b
4065  153D  47          	ld	b,a
4066  153E  C5          	push	bc
4067  153F  CD 76 0E    	call	_spr_add_anim
4068  1542  F1          	pop	af
4069  1543  F1          	pop	af
4070  1544  F1          	pop	af
4071  1545  21 00 00    	ld	hl,_boss_col
4072  1548  46          	ld	b, (hl)
4073  1549  04          	inc	b
4074  154A  04          	inc	b
4075  154B  3A 00 00    	ld	a,(_boss_lin)
4076  154E  C6 10       	add	a,0x10
4077  1550  57          	ld	d, a
4078  1551  21 00 00    	ld	hl,0x0000
4079  1554  E5          	push	hl
4080  1555  21 87 03    	ld	hl,0x0387
4081  1558  E5          	push	hl
4082  1559  4A          	ld	c, d
4083  155A  C5          	push	bc
4084  155B  CD 76 0E    	call	_spr_add_anim
4085  155E  F1          	pop	af
4086  155F  F1          	pop	af
4087  1560  F1          	pop	af
4088  1561  21 00 00    	ld	hl,_tmp0
4089  1564  36 00       	ld	(hl),0x00
4090  1566              l_spr_play_bullets_00196:
4091  1566  2A 00 00    	ld	hl,(_tmp0)
4092  1569  26 00       	ld	h,0x00
4093  156B  01 00 00    	ld	bc,_bullet_col
4094  156E  09          	add	hl,bc
4095  156F  7E          	ld	a,(hl)
4096  1570  4F          	ld	c,a
4097  1571  3C          	inc	a
4098  1572  28 15       	jr	Z,l_spr_play_bullets_00165
4099  1574  3A 00 00    	ld	a,(_tmp0)
4100  1577  5F          	ld	e,a
4101  1578  16 00       	ld	d,0x00
4102  157A  21 00 00    	ld	hl,_bullet_lin
4103  157D  19          	add	hl,de
4104  157E  7E          	ld	a,(hl)
4105  157F  32 00 00    	ld	(_s_lin0),a
4106  1582  21 00 00    	ld	hl,_s_col0
4107  1585  71          	ld	(hl), c
4108  1586  CD AA 0C    	call	_spr_back_repaint
4109  1589              l_spr_play_bullets_00165:
4110  1589  2A 00 00    	ld	hl,(_tmp0)
4111  158C  26 00       	ld	h,0x00
4112  158E  01 00 00    	ld	bc,_bullet_col
4113  1591  09          	add	hl,bc
4114  1592  36 FF       	ld	(hl),0xff
4115  1594  2A 00 00    	ld	hl,(_tmp0)
4116  1597  CD 16 09    	call	_spr_destroy
4117  159A  2A 00 00    	ld	hl,(_tmp0)
4118  159D  26 00       	ld	h,0x00
4119  159F  29          	add	hl, hl
4120  15A0  11 00 00    	ld	de,_game_respawn_time
4121  15A3  19          	add	hl, de
4122  15A4  AF          	xor	a, a
4123  15A5  77          	ld	(hl), a
4124  15A6  23          	inc	hl
4125  15A7  77          	ld	(hl), a
4126  15A8  21 00 00    	ld	hl,_tmp0
4127  15AB  7E          	ld	a,(hl)
4128  15AC  3C          	inc	a
4129  15AD  77          	ld	(hl),a
4130  15AE  D6 07       	sub	a,0x07
4131  15B0  38 B4       	jr	C,l_spr_play_bullets_00196
4132  15B2  CD 00 00    	call	_game_boss_clear
4133  15B5  18 38       	jr	l_spr_play_bullets_00187
4134  15B7              l_spr_play_bullets_00184:
4135  15B7  3A 07 00    	ld	a,(_lin + 7)
4136  15BA  47          	ld	b,a
4137  15BB  91          	sub	a, c
4138  15BC  38 31       	jr	C,l_spr_play_bullets_00187
4139  15BE  DD 7E F3    	ld	a,(ix-13)
4140  15C1  90          	sub	a, b
4141  15C2  38 2B       	jr	C,l_spr_play_bullets_00187
4142  15C4  3A 07 00    	ld	a,(_col + 7)
4143  15C7  4F          	ld	c,a
4144  15C8  DD 96 F4    	sub	a,(ix-12)
4145  15CB  38 22       	jr	C,l_spr_play_bullets_00187
4146  15CD  DD 7E F2    	ld	a,(ix-14)
4147  15D0  91          	sub	a, c
4148  15D1  38 1C       	jr	C,l_spr_play_bullets_00187
4149  15D3  2E 03       	ld	l,0x03
4150  15D5  CD 00 00    	call	_zx_border_fastcall
4151  15D8  2E 0A       	ld	l,0x0a
4152  15DA  CD 00 00    	call	_player_hit
4153  15DD  DD 6E FD    	ld	l,(ix-3)
4154  15E0  DD 66 FE    	ld	h,(ix-2)
4155  15E3  3A 00 00    	ld	a,(_s_col0)
4156  15E6  77          	ld	(hl),a
4157  15E7  DD 6E FF    	ld	l,(ix-1)
4158  15EA  CD 3E 16    	call	_spr_explode_bullet
4159  15ED  18 4A       	jr	l_spr_play_bullets_00199
4160  15EF              l_spr_play_bullets_00187:
4161  15EF  DD 6E F6    	ld	l,(ix-10)
4162  15F2  DD 66 F7    	ld	h,(ix-9)
4163  15F5  4E          	ld	c, (hl)
4164  15F6  0C          	inc	c
4165  15F7  28 32       	jr	Z,l_spr_play_bullets_00192
4166  15F9  DD 7E F4    	ld	a,(ix-12)
4167  15FC  D6 20       	sub	a,0x20
4168  15FE  30 2B       	jr	NC,l_spr_play_bullets_00192
4169  1600  F3          	di
4170  1601  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4171  1603  DD 86 F5    	add	a,(ix-11)
4172  1606  6F          	ld	l, a
4173  1607  3E 00       	ld	a, +((_bullet_tile) / 256)
4174  1609  CE 00       	adc	a,0x00
4175  160B  67          	ld	h, a
4176  160C  4E          	ld	c, (hl)
4177  160D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4178  160F  DD 86 F5    	add	a,(ix-11)
4179  1612  6F          	ld	l, a
4180  1613  3E 00       	ld	a, +((_bullet_colint) / 256)
4181  1615  CE 00       	adc	a,0x00
4182  1617  67          	ld	h, a
4183  1618  46          	ld	b, (hl)
4184  1619  79          	ld	a, c
4185  161A  80          	add	a, b
4186  161B  47          	ld	b, a
4187  161C  DD 7E F4    	ld	a,(ix-12)
4188  161F  F5          	push	af
4189  1620  33          	inc	sp
4190  1621  3A 00 00    	ld	a,(_s_lin0)
4191  1624  48          	ld	c,b
4192  1625  47          	ld	b,a
4193  1626  C5          	push	bc
4194  1627  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4195  162A  FB          	ei
4196  162B              l_spr_play_bullets_00192:
4197  162B  DD 34 F5    	inc	(ix-11)
4198  162E  DD 7E F5    	ld	a,(ix-11)
4199  1631  DD 77 FF    	ld	(ix-1),a
4200  1634  D6 08       	sub	a,0x08
4201  1636  DA 92 10    	jp	C, l_spr_play_bullets_00198
4202  1639              l_spr_play_bullets_00199:
4203  1639  DD F9       	ld	sp, ix
4204  163B  DD E1       	pop	ix
4205  163D  C9          	ret
4206  163E              	SECTION code_compiler
4207  163E              ;	---------------------------------
4208  163E              ; Function spr_explode_bullet
4209  163E              ; ---------------------------------
4210  163E              _spr_explode_bullet:
4211  163E  5D          	ld	e, l
4212  163F  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4213  1641  83          	add	a, e
4214  1642  4F          	ld	c, a
4215  1643  3E 00       	ld	a, +((_bullet_col) / 256)
4216  1645  CE 00       	adc	a,0x00
4217  1647  47          	ld	b, a
4218  1648  0A          	ld	a, (bc)
4219  1649  57          	ld	d, a
4220  164A  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4221  164C  83          	add	a, e
4222  164D  6F          	ld	l, a
4223  164E  3E 00       	ld	a, +((_bullet_lin) / 256)
4224  1650  CE 00       	adc	a,0x00
4225  1652  67          	ld	h, a
4226  1653  5E          	ld	e, (hl)
4227  1654  C5          	push	bc
4228  1655  21 00 00    	ld	hl,0x0000
4229  1658  E5          	push	hl
4230  1659  21 87 03    	ld	hl,0x0387
4231  165C  E5          	push	hl
4232  165D  D5          	push	de
4233  165E  CD 76 0E    	call	_spr_add_anim
4234  1661  F1          	pop	af
4235  1662  F1          	pop	af
4236  1663  F1          	pop	af
4237  1664  C1          	pop	bc
4238  1665  21 00 00    	ld	hl,_bullet_count
4239  1668  35          	dec	(hl)
4240  1669  3E FF       	ld	a,0xff
4241  166B  02          	ld	(bc), a
4242  166C  C9          	ret
4243  166D              	SECTION code_compiler
4244  166D              ;	---------------------------------
4245  166D              ; Function spr_turn_horizontal
4246  166D              ; ---------------------------------
4247  166D              _spr_turn_horizontal:
4248  166D  21 00 00    	ld	hl,_s_state
4249  1670  CB 56       	bit	2, (hl)
4250  1672  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4251  1674  21 00 00    	ld	hl,_s_state
4252  1677  7E          	ld	a,(hl)
4253  1678  F6 08       	or	a,0x08
4254  167A  E6 FB       	and	a,0xfb
4255  167C  77          	ld	(hl),a
4256  167D  18 09       	jr	l_spr_turn_horizontal_00103
4257  167F              l_spr_turn_horizontal_00102:
4258  167F  21 00 00    	ld	hl,_s_state
4259  1682  7E          	ld	a,(hl)
4260  1683  E6 F7       	and	a,0xf7
4261  1685  F6 04       	or	a,0x04
4262  1687  77          	ld	(hl),a
4263  1688              l_spr_turn_horizontal_00103:
4264  1688  2A 00 00    	ld	hl,(_sprite)
4265  168B  26 00       	ld	h,0x00
4266  168D  01 00 00    	ld	bc,_state
4267  1690  09          	add	hl,bc
4268  1691  3A 00 00    	ld	a,(_s_state)
4269  1694  77          	ld	(hl),a
4270  1695  2A 00 00    	ld	hl,(_sprite)
4271  1698  26 00       	ld	h,0x00
4272  169A  01 00 00    	ld	bc,_tile
4273  169D  09          	add	hl,bc
4274  169E  E5          	push	hl
4275  169F  2A 00 00    	ld	hl,(_sprite)
4276  16A2  CD AB 09    	call	_spr_tile
4277  16A5  C1          	pop	bc
4278  16A6  7D          	ld	a,l
4279  16A7  02          	ld	(bc), a
4280  16A8  C9          	ret
4281  16A9              	SECTION code_compiler
4282  16A9              ;	---------------------------------
4283  16A9              ; Function spr_btile_paint_back
4284  16A9              ; ---------------------------------
4285  16A9              _spr_btile_paint_back:
4286  16A9  21 20 00    	ld	hl,0x0020
4287  16AC  22 00 00    	ld	(_tmp_ui),hl
4288  16AF  21 00 00    	ld	hl,_map_paper
4289  16B2  7E          	ld	a, (hl)
4290  16B3  0F          	rrca
4291  16B4  0F          	rrca
4292  16B5  0F          	rrca
4293  16B6  E6 1F       	and	a,0x1f
4294  16B8  B6          	or	a, (hl)
4295  16B9  F6 40       	or	a,0x40
4296  16BB  32 00 00    	ld	(_map_paper_clr),a
4297  16BE              l_spr_btile_paint_back_00106:
4298  16BE  21 00 00    	ld	hl,_tmp_ui
4299  16C1  7E          	ld	a, (hl)
4300  16C2  D6 A0       	sub	a,0xa0
4301  16C4  23          	inc	hl
4302  16C5  7E          	ld	a, (hl)
4303  16C6  DE 28       	sbc	a,0x28
4304  16C8  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4305  16CA  21 00 00    	ld	hl,_tmp0
4306  16CD  36 00       	ld	(hl),0x00
4307  16CF              l_spr_btile_paint_back_00103:
4308  16CF  3A 00 00    	ld	a,(_tmp0)
4309  16D2  D6 10       	sub	a,0x10
4310  16D4  30 34       	jr	NC,l_spr_btile_paint_back_00105
4311  16D6  01 00 00    	ld	bc,_btiles
4312  16D9  2A 00 00    	ld	hl,(_tmp_ui)
4313  16DC  09          	add	hl,bc
4314  16DD  7D          	ld	a,l
4315  16DE  44          	ld	b,h
4316  16DF  21 00 00    	ld	hl,_tmp0
4317  16E2  86          	add	a, (hl)
4318  16E3  4F          	ld	c, a
4319  16E4  78          	ld	a, b
4320  16E5  CE 00       	adc	a,0x00
4321  16E7  47          	ld	b, a
4322  16E8  0A          	ld	a, (bc)
4323  16E9  32 00 00    	ld	(_tmp),a
4324  16EC  E6 38       	and	a,0x38
4325  16EE  5F          	ld	e, a
4326  16EF  3A 00 00    	ld	a,(_map_paper_last)
4327  16F2  93          	sub	a, e
4328  16F3  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4329  16F5  21 00 00    	ld	hl,_tmp
4330  16F8  7E          	ld	a, (hl)
4331  16F9  E6 C7       	and	a,0xc7
4332  16FB  77          	ld	(hl),a
4333  16FC  21 00 00    	ld	hl,_map_paper
4334  16FF  B6          	or	a, (hl)
4335  1700  32 00 00    	ld	(_tmp),a
4336  1703  02          	ld	(bc), a
4337  1704              l_spr_btile_paint_back_00102:
4338  1704  21 00 00    	ld	hl,_tmp0
4339  1707  34          	inc	(hl)
4340  1708  18 C5       	jr	l_spr_btile_paint_back_00103
4341  170A              l_spr_btile_paint_back_00105:
4342  170A  2A 00 00    	ld	hl,(_tmp_ui)
4343  170D  11 30 00    	ld	de,0x0030
4344  1710  19          	add	hl,de
4345  1711  22 00 00    	ld	(_tmp_ui),hl
4346  1714  18 A8       	jr	l_spr_btile_paint_back_00106
4347  1716              l_spr_btile_paint_back_00108:
4348  1716  C3 00 00    	jp  _game_attribs
4349  1719              	SECTION IGNORE
4350  0000              
