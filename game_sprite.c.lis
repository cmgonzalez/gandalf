1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_bullet_player_colision
189   0000              	GLOBAL _spr_bullet_enemy_colision
190   0000              	GLOBAL _spr_bullet_axe
191   0000              	GLOBAL _spr_bullet_fireball
192   0000              	GLOBAL _spr_calc_index
193   0000              	GLOBAL _spr_chktime
194   0000              	GLOBAL _spr_set_up
195   0000              	GLOBAL _spr_set_down
196   0000              	GLOBAL _spr_set_left
197   0000              	GLOBAL _spr_set_right
198   0000              	GLOBAL _spr_move_up
199   0000              	GLOBAL _spr_move_down
200   0000              	GLOBAL _spr_move_horizontal
201   0000              	GLOBAL _spr_move_right
202   0000              	GLOBAL _spr_move_left
203   0000              	GLOBAL _spr_page_right
204   0000              	GLOBAL _spr_page_left
205   0000              	GLOBAL _spr_page_down
206   0000              	GLOBAL _spr_page_up
207   0000              	GLOBAL _spr_clear_scr
208   0000              	GLOBAL _spr_page_map
209   0000              	GLOBAL _spr_redraw
210   0000              	GLOBAL _spr_destroy
211   0000              	GLOBAL _spr_tile
212   0000              	GLOBAL _spr_tile_dir
213   0000              	GLOBAL _spr_brick_anim
214   0000              	GLOBAL _spr_draw_index
215   0000              	GLOBAL _spr_back_repaint
216   0000              	GLOBAL _spr_tile_paint
217   0000              	GLOBAL _spr_init_effects
218   0000              	GLOBAL _spr_add_anim
219   0000              	GLOBAL _spr_play_anim
220   0000              	GLOBAL _spr_colision_b
221   0000              	GLOBAL _spr_colision_b2
222   0000              	GLOBAL _spr_bullets_play
223   0000              	GLOBAL _spr_bullet_explode
224   0000              	GLOBAL _spr_turn_horizontal
225   0000              	GLOBAL _spr_btile_paint_back
226   0000              	GLOBAL _spr_flatten
227   0000              	GLOBAL _spr_unflatten
228   0000              ;--------------------------------------------------------
229   0000              ; Externals used
230   0000              ;--------------------------------------------------------
231   0000              	GLOBAL _ulltoa_callee
232   0000              	GLOBAL _ulltoa
233   0000              	GLOBAL _strtoull_callee
234   0000              	GLOBAL _strtoull
235   0000              	GLOBAL _strtoll_callee
236   0000              	GLOBAL _strtoll
237   0000              	GLOBAL _lltoa_callee
238   0000              	GLOBAL _lltoa
239   0000              	GLOBAL _llabs_callee
240   0000              	GLOBAL _llabs
241   0000              	GLOBAL __lldivu__callee
242   0000              	GLOBAL __lldivu_
243   0000              	GLOBAL __lldiv__callee
244   0000              	GLOBAL __lldiv_
245   0000              	GLOBAL _atoll_callee
246   0000              	GLOBAL _atoll
247   0000              	GLOBAL _realloc_unlocked_callee
248   0000              	GLOBAL _realloc_unlocked
249   0000              	GLOBAL _malloc_unlocked_fastcall
250   0000              	GLOBAL _malloc_unlocked
251   0000              	GLOBAL _free_unlocked_fastcall
252   0000              	GLOBAL _free_unlocked
253   0000              	GLOBAL _calloc_unlocked_callee
254   0000              	GLOBAL _calloc_unlocked
255   0000              	GLOBAL _aligned_alloc_unlocked_callee
256   0000              	GLOBAL _aligned_alloc_unlocked
257   0000              	GLOBAL _realloc_callee
258   0000              	GLOBAL _realloc
259   0000              	GLOBAL _malloc_fastcall
260   0000              	GLOBAL _malloc
261   0000              	GLOBAL _free_fastcall
262   0000              	GLOBAL _free
263   0000              	GLOBAL _calloc_callee
264   0000              	GLOBAL _calloc
265   0000              	GLOBAL _aligned_alloc_callee
266   0000              	GLOBAL _aligned_alloc
267   0000              	GLOBAL _utoa_callee
268   0000              	GLOBAL _utoa
269   0000              	GLOBAL _ultoa_callee
270   0000              	GLOBAL _ultoa
271   0000              	GLOBAL _system_fastcall
272   0000              	GLOBAL _system
273   0000              	GLOBAL _strtoul_callee
274   0000              	GLOBAL _strtoul
275   0000              	GLOBAL _strtol_callee
276   0000              	GLOBAL _strtol
277   0000              	GLOBAL _strtof_callee
278   0000              	GLOBAL _strtof
279   0000              	GLOBAL _strtod_callee
280   0000              	GLOBAL _strtod
281   0000              	GLOBAL _srand_fastcall
282   0000              	GLOBAL _srand
283   0000              	GLOBAL _rand
284   0000              	GLOBAL _quick_exit_fastcall
285   0000              	GLOBAL _quick_exit
286   0000              	GLOBAL _qsort_callee
287   0000              	GLOBAL _qsort
288   0000              	GLOBAL _ltoa_callee
289   0000              	GLOBAL _ltoa
290   0000              	GLOBAL _labs_fastcall
291   0000              	GLOBAL _labs
292   0000              	GLOBAL _itoa_callee
293   0000              	GLOBAL _itoa
294   0000              	GLOBAL _ftoh_callee
295   0000              	GLOBAL _ftoh
296   0000              	GLOBAL _ftog_callee
297   0000              	GLOBAL _ftog
298   0000              	GLOBAL _ftoe_callee
299   0000              	GLOBAL _ftoe
300   0000              	GLOBAL _ftoa_callee
301   0000              	GLOBAL _ftoa
302   0000              	GLOBAL _exit_fastcall
303   0000              	GLOBAL _exit
304   0000              	GLOBAL _dtoh_callee
305   0000              	GLOBAL _dtoh
306   0000              	GLOBAL _dtog_callee
307   0000              	GLOBAL _dtog
308   0000              	GLOBAL _dtoe_callee
309   0000              	GLOBAL _dtoe
310   0000              	GLOBAL _dtoa_callee
311   0000              	GLOBAL _dtoa
312   0000              	GLOBAL _bsearch_callee
313   0000              	GLOBAL _bsearch
314   0000              	GLOBAL _atol_fastcall
315   0000              	GLOBAL _atol
316   0000              	GLOBAL _atoi_fastcall
317   0000              	GLOBAL _atoi
318   0000              	GLOBAL _atof_fastcall
319   0000              	GLOBAL _atof
320   0000              	GLOBAL _atexit_fastcall
321   0000              	GLOBAL _atexit
322   0000              	GLOBAL _at_quick_exit_fastcall
323   0000              	GLOBAL _at_quick_exit
324   0000              	GLOBAL _abs_fastcall
325   0000              	GLOBAL _abs
326   0000              	GLOBAL _abort
327   0000              	GLOBAL __strtou__callee
328   0000              	GLOBAL __strtou_
329   0000              	GLOBAL __strtoi__callee
330   0000              	GLOBAL __strtoi_
331   0000              	GLOBAL __random_uniform_xor_8__fastcall
332   0000              	GLOBAL __random_uniform_xor_8_
333   0000              	GLOBAL __random_uniform_xor_32__fastcall
334   0000              	GLOBAL __random_uniform_xor_32_
335   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
336   0000              	GLOBAL __random_uniform_cmwc_8_
337   0000              	GLOBAL __shellsort__callee
338   0000              	GLOBAL __shellsort_
339   0000              	GLOBAL __quicksort__callee
340   0000              	GLOBAL __quicksort_
341   0000              	GLOBAL __insertion_sort__callee
342   0000              	GLOBAL __insertion_sort_
343   0000              	GLOBAL __ldivu__callee
344   0000              	GLOBAL __ldivu_
345   0000              	GLOBAL __ldiv__callee
346   0000              	GLOBAL __ldiv_
347   0000              	GLOBAL __divu__callee
348   0000              	GLOBAL __divu_
349   0000              	GLOBAL __div__callee
350   0000              	GLOBAL __div_
351   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
352   0000              	GLOBAL _NIRVANAP_drawTW_raw
353   0000              	GLOBAL _NIRVANAP_drawTW_callee
354   0000              	GLOBAL _NIRVANAP_drawTW
355   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
356   0000              	GLOBAL _NIRVANAP_drawW_raw
357   0000              	GLOBAL _NIRVANAP_drawW_callee
358   0000              	GLOBAL _NIRVANAP_drawW
359   0000              	GLOBAL _NIRVANAP_spriteT_callee
360   0000              	GLOBAL _NIRVANAP_spriteT
361   0000              	GLOBAL _NIRVANAP_fillC_callee
362   0000              	GLOBAL _NIRVANAP_fillC
363   0000              	GLOBAL _NIRVANAP_readC_callee
364   0000              	GLOBAL _NIRVANAP_readC
365   0000              	GLOBAL _NIRVANAP_paintC_callee
366   0000              	GLOBAL _NIRVANAP_paintC
367   0000              	GLOBAL _NIRVANAP_printC_callee
368   0000              	GLOBAL _NIRVANAP_printC
369   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
370   0000              	GLOBAL _NIRVANAP_fillT_raw
371   0000              	GLOBAL _NIRVANAP_fillT_callee
372   0000              	GLOBAL _NIRVANAP_fillT
373   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
374   0000              	GLOBAL _NIRVANAP_drawT_raw
375   0000              	GLOBAL _NIRVANAP_drawT_callee
376   0000              	GLOBAL _NIRVANAP_drawT
377   0000              	GLOBAL _NIRVANAP_stop
378   0000              	GLOBAL _NIRVANAP_start
379   0000              	GLOBAL _debug3
380   0000              	GLOBAL _debug2
381   0000              	GLOBAL _debug
382   0000              	GLOBAL _zx_print_str
383   0000              	GLOBAL _zx_print_int
384   0000              	GLOBAL _zx_print_chr
385   0000              	GLOBAL _zx_print_bonus_time
386   0000              	GLOBAL _zx_isr
387   0000              	GLOBAL _z80_otdr_callee
388   0000              	GLOBAL _z80_otdr
389   0000              	GLOBAL _z80_otir_callee
390   0000              	GLOBAL _z80_otir
391   0000              	GLOBAL _z80_outp_callee
392   0000              	GLOBAL _z80_outp
393   0000              	GLOBAL _z80_indr_callee
394   0000              	GLOBAL _z80_indr
395   0000              	GLOBAL _z80_inir_callee
396   0000              	GLOBAL _z80_inir
397   0000              	GLOBAL _z80_inp_fastcall
398   0000              	GLOBAL _z80_inp
399   0000              	GLOBAL _z80_set_int_state_fastcall
400   0000              	GLOBAL _z80_set_int_state
401   0000              	GLOBAL _z80_get_int_state
402   0000              	GLOBAL _z80_delay_tstate_fastcall
403   0000              	GLOBAL _z80_delay_tstate
404   0000              	GLOBAL _z80_delay_ms_fastcall
405   0000              	GLOBAL _z80_delay_ms
406   0000              	GLOBAL _im2_remove_generic_callback_callee
407   0000              	GLOBAL _im2_remove_generic_callback
408   0000              	GLOBAL _im2_prepend_generic_callback_callee
409   0000              	GLOBAL _im2_prepend_generic_callback
410   0000              	GLOBAL _im2_append_generic_callback_callee
411   0000              	GLOBAL _im2_append_generic_callback
412   0000              	GLOBAL _im2_create_generic_isr_8080_callee
413   0000              	GLOBAL _im2_create_generic_isr_8080
414   0000              	GLOBAL _im2_create_generic_isr_callee
415   0000              	GLOBAL _im2_create_generic_isr
416   0000              	GLOBAL _im2_install_isr_callee
417   0000              	GLOBAL _im2_install_isr
418   0000              	GLOBAL _im2_init_fastcall
419   0000              	GLOBAL _im2_init
420   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
421   0000              	GLOBAL _intrinsic_swap_word_32
422   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
423   0000              	GLOBAL _intrinsic_swap_endian_32
424   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
425   0000              	GLOBAL _intrinsic_swap_endian_16
426   0000              	GLOBAL _intrinsic_return_de
427   0000              	GLOBAL _intrinsic_return_bc
428   0000              	GLOBAL _intrinsic_exx
429   0000              	GLOBAL _intrinsic_ex_de_hl
430   0000              	GLOBAL _intrinsic_nop
431   0000              	GLOBAL _intrinsic_im_2
432   0000              	GLOBAL _intrinsic_im_1
433   0000              	GLOBAL _intrinsic_im_0
434   0000              	GLOBAL _intrinsic_retn
435   0000              	GLOBAL _intrinsic_reti
436   0000              	GLOBAL _intrinsic_halt
437   0000              	GLOBAL _intrinsic_ei
438   0000              	GLOBAL _intrinsic_di
439   0000              	GLOBAL _intrinsic_stub
440   0000              	GLOBAL _intrinsic_outi
441   0000              	GLOBAL _intrinsic_ldi
442   0000              	GLOBAL _zx_pattern_fill_callee
443   0000              	GLOBAL _zx_pattern_fill
444   0000              	GLOBAL _zx_saddrpup_fastcall
445   0000              	GLOBAL _zx_saddrpup
446   0000              	GLOBAL _zx_saddrpright_callee
447   0000              	GLOBAL _zx_saddrpright
448   0000              	GLOBAL _zx_saddrpleft_callee
449   0000              	GLOBAL _zx_saddrpleft
450   0000              	GLOBAL _zx_saddrpdown_fastcall
451   0000              	GLOBAL _zx_saddrpdown
452   0000              	GLOBAL _zx_saddrcup_fastcall
453   0000              	GLOBAL _zx_saddrcup
454   0000              	GLOBAL _zx_saddrcright_fastcall
455   0000              	GLOBAL _zx_saddrcright
456   0000              	GLOBAL _zx_saddrcleft_fastcall
457   0000              	GLOBAL _zx_saddrcleft
458   0000              	GLOBAL _zx_saddrcdown_fastcall
459   0000              	GLOBAL _zx_saddrcdown
460   0000              	GLOBAL _zx_saddr2py_fastcall
461   0000              	GLOBAL _zx_saddr2py
462   0000              	GLOBAL _zx_saddr2px_fastcall
463   0000              	GLOBAL _zx_saddr2px
464   0000              	GLOBAL _zx_saddr2cy_fastcall
465   0000              	GLOBAL _zx_saddr2cy
466   0000              	GLOBAL _zx_saddr2cx_fastcall
467   0000              	GLOBAL _zx_saddr2cx
468   0000              	GLOBAL _zx_saddr2aaddr_fastcall
469   0000              	GLOBAL _zx_saddr2aaddr
470   0000              	GLOBAL _zx_py2saddr_fastcall
471   0000              	GLOBAL _zx_py2saddr
472   0000              	GLOBAL _zx_py2aaddr_fastcall
473   0000              	GLOBAL _zx_py2aaddr
474   0000              	GLOBAL _zx_pxy2saddr_callee
475   0000              	GLOBAL _zx_pxy2saddr
476   0000              	GLOBAL _zx_pxy2aaddr_callee
477   0000              	GLOBAL _zx_pxy2aaddr
478   0000              	GLOBAL _zx_px2bitmask_fastcall
479   0000              	GLOBAL _zx_px2bitmask
480   0000              	GLOBAL _zx_cy2saddr_fastcall
481   0000              	GLOBAL _zx_cy2saddr
482   0000              	GLOBAL _zx_cy2aaddr_fastcall
483   0000              	GLOBAL _zx_cy2aaddr
484   0000              	GLOBAL _zx_cxy2saddr_callee
485   0000              	GLOBAL _zx_cxy2saddr
486   0000              	GLOBAL _zx_cxy2aaddr_callee
487   0000              	GLOBAL _zx_cxy2aaddr
488   0000              	GLOBAL _zx_bitmask2px_fastcall
489   0000              	GLOBAL _zx_bitmask2px
490   0000              	GLOBAL _zx_aaddrcup_fastcall
491   0000              	GLOBAL _zx_aaddrcup
492   0000              	GLOBAL _zx_aaddrcright_fastcall
493   0000              	GLOBAL _zx_aaddrcright
494   0000              	GLOBAL _zx_aaddrcleft_fastcall
495   0000              	GLOBAL _zx_aaddrcleft
496   0000              	GLOBAL _zx_aaddrcdown_fastcall
497   0000              	GLOBAL _zx_aaddrcdown
498   0000              	GLOBAL _zx_aaddr2saddr_fastcall
499   0000              	GLOBAL _zx_aaddr2saddr
500   0000              	GLOBAL _zx_aaddr2py_fastcall
501   0000              	GLOBAL _zx_aaddr2py
502   0000              	GLOBAL _zx_aaddr2px_fastcall
503   0000              	GLOBAL _zx_aaddr2px
504   0000              	GLOBAL _zx_aaddr2cy_fastcall
505   0000              	GLOBAL _zx_aaddr2cy
506   0000              	GLOBAL _zx_aaddr2cx_fastcall
507   0000              	GLOBAL _zx_aaddr2cx
508   0000              	GLOBAL _zx_visit_wc_pix_callee
509   0000              	GLOBAL _zx_visit_wc_pix
510   0000              	GLOBAL _zx_visit_wc_attr_callee
511   0000              	GLOBAL _zx_visit_wc_attr
512   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
513   0000              	GLOBAL _zx_scroll_wc_up_pix
514   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
515   0000              	GLOBAL _zx_scroll_wc_up_attr
516   0000              	GLOBAL _zx_scroll_wc_up_callee
517   0000              	GLOBAL _zx_scroll_wc_up
518   0000              	GLOBAL _zx_scroll_up_pix_callee
519   0000              	GLOBAL _zx_scroll_up_pix
520   0000              	GLOBAL _zx_scroll_up_attr_callee
521   0000              	GLOBAL _zx_scroll_up_attr
522   0000              	GLOBAL _zx_scroll_up_callee
523   0000              	GLOBAL _zx_scroll_up
524   0000              	GLOBAL _zx_cls_wc_pix_callee
525   0000              	GLOBAL _zx_cls_wc_pix
526   0000              	GLOBAL _zx_cls_wc_attr_callee
527   0000              	GLOBAL _zx_cls_wc_attr
528   0000              	GLOBAL _zx_cls_wc_callee
529   0000              	GLOBAL _zx_cls_wc
530   0000              	GLOBAL _zx_cls_pix_fastcall
531   0000              	GLOBAL _zx_cls_pix
532   0000              	GLOBAL _zx_cls_attr_fastcall
533   0000              	GLOBAL _zx_cls_attr
534   0000              	GLOBAL _zx_cls_fastcall
535   0000              	GLOBAL _zx_cls
536   0000              	GLOBAL _zx_border_fastcall
537   0000              	GLOBAL _zx_border
538   0000              	GLOBAL _player_fix_walk_lin
539   0000              	GLOBAL _player_gasta_brick
540   0000              	GLOBAL _player_lost_life
541   0000              	GLOBAL _player_hit
542   0000              	GLOBAL _player_open_door
543   0000              	GLOBAL _player_move_jump
544   0000              	GLOBAL _player_fire
545   0000              	GLOBAL _player_check_stairs_vertical
546   0000              	GLOBAL _player_check_stairs
547   0000              	GLOBAL _player_tile
548   0000              	GLOBAL _player_anim_tile
549   0000              	GLOBAL _player_pick_item
550   0000              	GLOBAL _player_check_floor
551   0000              	GLOBAL _player_hit_platform_clear
552   0000              	GLOBAL _player_score_add
553   0000              	GLOBAL _player_hit_platform
554   0000              	GLOBAL _player_move_input
555   0000              	GLOBAL _player_turn
556   0000              	GLOBAL _player_move
557   0000              	GLOBAL _player_check_input
558   0000              	GLOBAL _player_pick_mushroom
559   0000              	GLOBAL _player_collision
560   0000              	GLOBAL _player_init
561   0000              	GLOBAL _menu_define_key
562   0000              	GLOBAL _menu_redefine
563   0000              	GLOBAL _menu_main_print
564   0000              	GLOBAL _menu_main
565   0000              	GLOBAL _game_match_back
566   0000              	GLOBAL _game_attribs
567   0000              	GLOBAL _game_boss_clear
568   0000              	GLOBAL _game_boss_kill
569   0000              	GLOBAL _game_obj_clear
570   0000              	GLOBAL _game_obj_chk
571   0000              	GLOBAL _game_obj_set
572   0000              	GLOBAL _game_shoot_fire_boss
573   0000              	GLOBAL _game_shoot_fire
574   0000              	GLOBAL _game_add_enemy
575   0000              	GLOBAL _game_print_header
576   0000              	GLOBAL _game_check_time
577   0000              	GLOBAL _game_rotate_attrib_osd
578   0000              	GLOBAL _game_rotate_attrib
579   0000              	GLOBAL _game_colour_message
580   0000              	GLOBAL _game_paint_attrib_lin_osd
581   0000              	GLOBAL _game_paint_attrib_lin_h
582   0000              	GLOBAL _game_paint_attrib_lin
583   0000              	GLOBAL _game_print_score
584   0000              	GLOBAL _game_check_cell
585   0000              	GLOBAL _game_check_map
586   0000              	GLOBAL _game_loop
587   0000              	GLOBAL _game_round_init
588   0000              	GLOBAL _game_set_checkpoint
589   0000              	GLOBAL _game_start_timer
590   0000              	GLOBAL _game_update_stats
591   0000              	GLOBAL _game_print_footer
592   0000              	GLOBAL _game_fill_row
593   0000              	GLOBAL _game_fps
594   0000              	GLOBAL _game_respawn
595   0000              	GLOBAL _game_draw_screen
596   0000              	GLOBAL _boss_draw
597   0000              	GLOBAL _boss_turn
598   0000              	GLOBAL _enemy_avoid_dead
599   0000              	GLOBAL _enemy_avoid_fall
600   0000              	GLOBAL _enemy_kill
601   0000              	GLOBAL _enemy_respawn
602   0000              	GLOBAL _enemy_init
603   0000              	GLOBAL _enemy_move
604   0000              	GLOBAL _enemy_turn
605   0000              	GLOBAL _enemy_static
606   0000              	GLOBAL _enemy_walk
607   0000              	GLOBAL _enemy_horizontal
608   0000              	GLOBAL _enemy_vertical
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _ay_song_stop
611   0000              	GLOBAL _ay_song_play
612   0000              	GLOBAL _ay_fx_stop
613   0000              	GLOBAL _ay_fx_play
614   0000              	GLOBAL _ay_is_playing
615   0000              	GLOBAL _test_func
616   0000              	GLOBAL _test_proc
617   0000              	GLOBAL _in_mouse_kempston_wheel_delta
618   0000              	GLOBAL _in_mouse_kempston_wheel
619   0000              	GLOBAL _in_mouse_kempston_callee
620   0000              	GLOBAL _in_mouse_kempston
621   0000              	GLOBAL _in_mouse_kempston_setpos_callee
622   0000              	GLOBAL _in_mouse_kempston_setpos
623   0000              	GLOBAL _in_mouse_kempston_reset
624   0000              	GLOBAL _in_mouse_kempston_init
625   0000              	GLOBAL _in_mouse_amx_wheel_delta
626   0000              	GLOBAL _in_mouse_amx_wheel
627   0000              	GLOBAL _in_mouse_amx_callee
628   0000              	GLOBAL _in_mouse_amx
629   0000              	GLOBAL _in_mouse_amx_setpos_callee
630   0000              	GLOBAL _in_mouse_amx_setpos
631   0000              	GLOBAL _in_mouse_amx_reset
632   0000              	GLOBAL _in_mouse_amx_init_callee
633   0000              	GLOBAL _in_mouse_amx_init
634   0000              	GLOBAL _in_stick_sinclair2
635   0000              	GLOBAL _in_stick_sinclair1
636   0000              	GLOBAL _in_stick_kempston
637   0000              	GLOBAL _in_stick_fuller
638   0000              	GLOBAL _in_stick_cursor
639   0000              	GLOBAL _in_stick_keyboard_fastcall
640   0000              	GLOBAL _in_stick_keyboard
641   0000              	GLOBAL _in_wait_nokey
642   0000              	GLOBAL _in_wait_key
643   0000              	GLOBAL _in_test_key
644   0000              	GLOBAL _in_pause_fastcall
645   0000              	GLOBAL _in_pause
646   0000              	GLOBAL _in_key_scancode_fastcall
647   0000              	GLOBAL _in_key_scancode
648   0000              	GLOBAL _in_key_pressed_fastcall
649   0000              	GLOBAL _in_key_pressed
650   0000              	GLOBAL _in_inkey
651   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
652   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
653   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
654   0000              	GLOBAL _NIRVANAP_HOLE
655   0000              	GLOBAL _NIRVANAP_ISR_HOOK
656   0000              	GLOBAL _scan_map
657   0000              	GLOBAL _key_map
658   0000              	GLOBAL _player_lvl_table
659   0000              	GLOBAL _stp_row
660   0000              	GLOBAL _stp_col
661   0000              	GLOBAL _stp_tile
662   0000              	GLOBAL _map_paper_last_a
663   0000              	GLOBAL _map_paper_last
664   0000              	GLOBAL _map_paper_clr
665   0000              	GLOBAL _map_paper
666   0000              	GLOBAL _draw_count
667   0000              	GLOBAL _g_player_hit_right
668   0000              	GLOBAL _g_player_hit_left
669   0000              	GLOBAL _bullet_count
670   0000              	GLOBAL _spr_hack
671   0000              	GLOBAL _boss_stat
672   0000              	GLOBAL _boss_time_fire
673   0000              	GLOBAL _boss_time
674   0000              	GLOBAL _boss_tile
675   0000              	GLOBAL _boss_inc
676   0000              	GLOBAL _boss_col
677   0000              	GLOBAL _boss_lin
678   0000              	GLOBAL _bullet
679   0000              	GLOBAL _bullet_vel
680   0000              	GLOBAL _bullet_frames
681   0000              	GLOBAL _bullet_colint
682   0000              	GLOBAL _bullet_dir
683   0000              	GLOBAL _bullet_tile
684   0000              	GLOBAL _bullet_col
685   0000              	GLOBAL _bullet_lin
686   0000              	GLOBAL _bullet_col0
687   0000              	GLOBAL _bullet_lin0
688   0000              	GLOBAL _bullet_max
689   0000              	GLOBAL _bullet_class
690   0000              	GLOBAL _mush_class
691   0000              	GLOBAL _mush_index
692   0000              	GLOBAL _anim_count
693   0000              	GLOBAL _anim_respanwn
694   0000              	GLOBAL _anim_loop
695   0000              	GLOBAL _anim_end
696   0000              	GLOBAL _anim_int
697   0000              	GLOBAL _anim_tile
698   0000              	GLOBAL _anim_col
699   0000              	GLOBAL _anim_lin
700   0000              	GLOBAL _map_heigth
701   0000              	GLOBAL _map_width
702   0000              	GLOBAL _scr_curr
703   0000              	GLOBAL _sprite_kind
704   0000              	GLOBAL _scr_obj1
705   0000              	GLOBAL _scr_obj0
706   0000              	GLOBAL _scr_map
707   0000              	GLOBAL _sprite_speed_alt
708   0000              	GLOBAL _spr_init
709   0000              	GLOBAL _spr_map_tile
710   0000              	GLOBAL _sprite_frames
711   0000              	GLOBAL _sprite_speed
712   0000              	GLOBAL _screen_ink
713   0000              	GLOBAL _screen_paper
714   0000              	GLOBAL _player_onstair
715   0000              	GLOBAL _game_start_scr
716   0000              	GLOBAL _game_respawn_tile
717   0000              	GLOBAL _game_respawn_index
718   0000              	GLOBAL _game_respawn_time
719   0000              	GLOBAL _game_score_top
720   0000              	GLOBAL _player_coins
721   0000              	GLOBAL _player_lives
722   0000              	GLOBAL _game_over
723   0000              	GLOBAL _game_sound
724   0000              	GLOBAL _game_inf_lives
725   0000              	GLOBAL _game_inmune
726   0000              	GLOBAL _sprite_curr_index
727   0000              	GLOBAL _spr_count
728   0000              	GLOBAL _bullet_time
729   0000              	GLOBAL _anim_time
730   0000              	GLOBAL _frame_time
731   0000              	GLOBAL _curr_time
732   0000              	GLOBAL _s_state
733   0000              	GLOBAL _attrib_osd
734   0000              	GLOBAL _attrib_hl
735   0000              	GLOBAL _attrib
736   0000              	GLOBAL _zx_val_asm
737   0000              	GLOBAL _enemies
738   0000              	GLOBAL _tmp_ui
739   0000              	GLOBAL _tmp_sc
740   0000              	GLOBAL _tmp_uc
741   0000              	GLOBAL _tmp1
742   0000              	GLOBAL _tmp0
743   0000              	GLOBAL _tmp
744   0000              	GLOBAL _index1
745   0000              	GLOBAL _index0
746   0000              	GLOBAL _loop_count
747   0000              	GLOBAL _s_class
748   0000              	GLOBAL _s_col1
749   0000              	GLOBAL _s_col0
750   0000              	GLOBAL _s_lin1
751   0000              	GLOBAL _s_lin0
752   0000              	GLOBAL _s_tile1
753   0000              	GLOBAL _s_tile0
754   0000              	GLOBAL _player_brick_time
755   0000              	GLOBAL _player_hit_count
756   0000              	GLOBAL _game_show_fps
757   0000              	GLOBAL _sprite_horizontal_check
758   0000              	GLOBAL _sprite_on_air
759   0000              	GLOBAL _sprite
760   0000              	GLOBAL _fps
761   0000              	GLOBAL _game_2buttons
762   0000              	GLOBAL _game_respawn_curr_time
763   0000              	GLOBAL _game_worldup
764   0000              	GLOBAL _game_mush_count
765   0000              	GLOBAL _game_boss_fix
766   0000              	GLOBAL _game_boss_hit
767   0000              	GLOBAL _game_boss_alive
768   0000              	GLOBAL _game_boss
769   0000              	GLOBAL _game_world
770   0000              	GLOBAL _game_gravity
771   0000              	GLOBAL _player_onfire
772   0000              	GLOBAL _player_anim_stair
773   0000              	GLOBAL _player_hit_time
774   0000              	GLOBAL _game_checkpoint_scr
775   0000              	GLOBAL _game_checkpoint_lin
776   0000              	GLOBAL _game_checkpoint_col
777   0000              	GLOBAL _player_lin_scr
778   0000              	GLOBAL _player_col_scr
779   0000              	GLOBAL _player_lvl
780   0000              	GLOBAL _player_int
781   0000              	GLOBAL _player_str
782   0000              	GLOBAL _player_max_vita
783   0000              	GLOBAL _player_max_mana
784   0000              	GLOBAL _player_vita
785   0000              	GLOBAL _player_mana
786   0000              	GLOBAL _player_keys
787   0000              	GLOBAL _player_vel_inc
788   0000              	GLOBAL _player_vel_y1
789   0000              	GLOBAL _player_vel_y0
790   0000              	GLOBAL _player_vel_y
791   0000              	GLOBAL _player_vel_x
792   0000              	GLOBAL _player_score
793   0000              	GLOBAL _last_time
794   0000              	GLOBAL _player_slide
795   0000              	GLOBAL _spr_timer
796   0000              	GLOBAL _jump_lin
797   0000              	GLOBAL _player_hit_col
798   0000              	GLOBAL _player_hit_lin
799   0000              	GLOBAL _colint
800   0000              	GLOBAL _col
801   0000              	GLOBAL _lin
802   0000              	GLOBAL _tile
803   0000              	GLOBAL _state_a
804   0000              	GLOBAL _state
805   0000              	GLOBAL _class
806   0000              	GLOBAL _tbuffer
807   0000              	GLOBAL _dirs_alt
808   0000              	GLOBAL _dirs
809   0000              	GLOBAL _k2
810   0000              	GLOBAL _k1
811   0000              	GLOBAL _joyfunc2
812   0000              	GLOBAL _joyfunc1
813   0000              	GLOBAL _btiles
814   0000              	GLOBAL _spec128
815   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
816   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
817   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
818   0000              	GLOBAL _ay_song_06_ciel
819   0000              	GLOBAL _ay_song_04_sunflower
820   0000              	GLOBAL _ay_song_04_lotr_level_start
821   0000              	GLOBAL _ay_song_04_lotr_level_complete
822   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
823   0000              	GLOBAL _ay_song_04_lotr
824   0000              	GLOBAL _ay_fx_06_explosion1
825   0000              	GLOBAL _ay_fx_06_efecto
826   0000              	GLOBAL _ay_fx_06_disparo2
827   0000              	GLOBAL _ay_fx_06_disparo1
828   0000              	GLOBAL _ay_fx_04_sin_mana
829   0000              	GLOBAL _ay_fx_04_salto
830   0000              	GLOBAL _ay_fx_04_pierto_abierta
831   0000              	GLOBAL _ay_fx_04_magia1
832   0000              	GLOBAL _ay_fx_04_golpe
833   0000              	GLOBAL _ay_fx_04_explosion
834   0000              	GLOBAL _ay_fx_04_dano_por_toque
835   0000              	GLOBAL _ay_fx_04_coin
836   0000              	GLOBAL _world0_h
837   0000              	GLOBAL _world0_w
838   0000              	GLOBAL _world0
839   0000              	GLOBAL _paper0
840   0000              	GLOBAL _lenght0
841   0000              	GLOBAL _start_scr0
842   0000              ;--------------------------------------------------------
843   0000              ; special function registers
844   0000              ;--------------------------------------------------------
845   0000              defc _IO_FE	=	0x00fe
846   0000              defc _IO_1FFD	=	0x1ffd
847   0000              defc _IO_7FFD	=	0x7ffd
848   0000              ;--------------------------------------------------------
849   0000              ; ram data
850   0000              ;--------------------------------------------------------
851   0000              	SECTION bss_compiler
852   0000              ;--------------------------------------------------------
853   0000              ; ram data
854   0000              ;--------------------------------------------------------
855   0000              
856   0000              IF 0
857   0000              
858   0000              ; .area _INITIALIZED removed by z88dk
859   0000              
860   0000              
861   0000              ENDIF
862   0000              
863   0000              ;--------------------------------------------------------
864   0000              ; absolute external ram data
865   0000              ;--------------------------------------------------------
866   0000              	SECTION IGNORE
867   0000              ;--------------------------------------------------------
868   0000              ; global & static initialisations
869   0000              ;--------------------------------------------------------
870   0000              	SECTION code_crt_init
871   0000              ;--------------------------------------------------------
872   0000              ; Home
873   0000              ;--------------------------------------------------------
874   0000              	SECTION IGNORE
875   0000              ;--------------------------------------------------------
876   0000              ; code
877   0000              ;--------------------------------------------------------
878   0000              	SECTION code_compiler
879   0000              ;	---------------------------------
880   0000              ; Function spr_calc_index
881   0000              ; ---------------------------------
882   0000              _spr_calc_index:
883   0000  CD 00 00    	call	___sdcc_enter_ix
884   0003  DD 4E 05    	ld	c,(ix+5)
885   0006  CB 39       	srl	c
886   0008  06 00       	ld	b,0x00
887   000A  DD 7E 04    	ld	a,(ix+4)
888   000D  07          	rlca
889   000E  07          	rlca
890   000F  07          	rlca
891   0010  07          	rlca
892   0011  E6 0F       	and	a,0x0f
893   0013  6F          	ld	l, a
894   0014  26 00       	ld	h,0x00
895   0016  29          	add	hl, hl
896   0017  29          	add	hl, hl
897   0018  29          	add	hl, hl
898   0019  29          	add	hl, hl
899   001A  09          	add	hl, bc
900   001B  DD E1       	pop	ix
901   001D  C9          	ret
902   001E              	SECTION code_compiler
903   001E              ;	---------------------------------
904   001E              ; Function spr_chktime
905   001E              ; ---------------------------------
906   001E              _spr_chktime:
907   001E  5E          	ld	e,(hl)
908   001F  16 00       	ld	d,0x00
909   0021  4D          	ld	c,l
910   0022  44          	ld	b,h
911   0023  21 00 00    	ld	hl,_sprite_speed_alt
912   0026  19          	add	hl, de
913   0027  7E          	ld	a, (hl)
914   0028  B7          	or	a,a
915   0029  20 15       	jr	NZ,l_spr_chktime_00102
916   002B  57          	ld	d,a
917   002C  21 00 00    	ld	hl,_class
918   002F  19          	add	hl, de
919   0030  56          	ld	d, (hl)
920   0031  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
921   0033  82          	add	a, d
922   0034  6F          	ld	l, a
923   0035  3E 00       	ld	a, +((_sprite_speed) / 256)
924   0037  CE 00       	adc	a,0x00
925   0039  67          	ld	h, a
926   003A  7E          	ld	a, (hl)
927   003B  32 00 00    	ld	(_tmp),a
928   003E  18 03       	jr	l_spr_chktime_00103
929   0040              l_spr_chktime_00102:
930   0040  32 00 00    	ld	(_tmp),a
931   0043              l_spr_chktime_00103:
932   0043  26 00       	ld	h,0x00
933   0045  6B          	ld	l, e
934   0046  29          	add	hl, hl
935   0047  11 00 00    	ld	de,_last_time
936   004A  19          	add	hl, de
937   004B  3A 00 00    	ld	a,(_tmp)
938   004E  EB          	ex	de,hl
939   004F  C5          	push	bc
940   0050  F5          	push	af
941   0051  33          	inc	sp
942   0052  D5          	push	de
943   0053  CD 00 00    	call	_game_check_time
944   0056  F1          	pop	af
945   0057  33          	inc	sp
946   0058  C1          	pop	bc
947   0059  7D          	ld	a,l
948   005A  B7          	or	a, a
949   005B  28 14       	jr	Z,l_spr_chktime_00105
950   005D  0A          	ld	a, (bc)
951   005E  6F          	ld	l, a
952   005F  26 00       	ld	h,0x00
953   0061  29          	add	hl, hl
954   0062  01 00 00    	ld	bc,_last_time
955   0065  09          	add	hl,bc
956   0066  ED 5B 00 00 	ld	de,(_curr_time)
957   006A  73          	ld	(hl),e
958   006B  23          	inc	hl
959   006C  72          	ld	(hl),d
960   006D  2E 01       	ld	l,0x01
961   006F  18 02       	jr	l_spr_chktime_00106
962   0071              l_spr_chktime_00105:
963   0071  2E 00       	ld	l,0x00
964   0073              l_spr_chktime_00106:
965   0073  C9          	ret
966   0074              	SECTION code_compiler
967   0074              ;	---------------------------------
968   0074              ; Function spr_set_up
969   0074              ; ---------------------------------
970   0074              _spr_set_up:
971   0074  CB C6       	set	0, (hl)
972   0076  7E          	ld	a, (hl)
973   0077  E6 FD       	and	a,0xfd
974   0079  77          	ld	(hl), a
975   007A  C9          	ret
976   007B              	SECTION code_compiler
977   007B              ;	---------------------------------
978   007B              ; Function spr_set_down
979   007B              ; ---------------------------------
980   007B              _spr_set_down:
981   007B  CB CE       	set	1, (hl)
982   007D  7E          	ld	a, (hl)
983   007E  E6 FE       	and	a,0xfe
984   0080  77          	ld	(hl), a
985   0081  C9          	ret
986   0082              	SECTION code_compiler
987   0082              ;	---------------------------------
988   0082              ; Function spr_set_left
989   0082              ; ---------------------------------
990   0082              _spr_set_left:
991   0082  CB DE       	set	3, (hl)
992   0084  7E          	ld	a, (hl)
993   0085  E6 FB       	and	a,0xfb
994   0087  77          	ld	(hl), a
995   0088  C9          	ret
996   0089              	SECTION code_compiler
997   0089              ;	---------------------------------
998   0089              ; Function spr_set_right
999   0089              ; ---------------------------------
1000  0089              _spr_set_right:
1001  0089  CB D6       	set	2, (hl)
1002  008B  7E          	ld	a, (hl)
1003  008C  E6 F7       	and	a,0xf7
1004  008E  77          	ld	(hl), a
1005  008F  C9          	ret
1006  0090              	SECTION code_compiler
1007  0090              ;	---------------------------------
1008  0090              ; Function spr_move_up
1009  0090              ; ---------------------------------
1010  0090              _spr_move_up:
1011  0090  2A 00 00    	ld	hl,(_sprite)
1012  0093  26 00       	ld	h,0x00
1013  0095  01 00 00    	ld	bc,_lin
1014  0098  09          	add	hl,bc
1015  0099  4E          	ld	c,(hl)
1016  009A  3E 10       	ld	a,0x10
1017  009C  91          	sub	a,c
1018  009D  38 16       	jr	C,l_spr_move_up_00109
1019  009F  3A 00 00    	ld	a,(_sprite)
1020  00A2  D6 07       	sub	a,0x07
1021  00A4  20 0B       	jr	NZ,l_spr_move_up_00104
1022  00A6  CD 50 04    	call	_spr_page_up
1023  00A9  7D          	ld	a, l
1024  00AA  B7          	or	a, a
1025  00AB  28 04       	jr	Z,l_spr_move_up_00104
1026  00AD  2E 00       	ld	l,0x00
1027  00AF  18 54       	jr	l_spr_move_up_00111
1028  00B1              l_spr_move_up_00104:
1029  00B1  2E 01       	ld	l,0x01
1030  00B3  18 50       	jr	l_spr_move_up_00111
1031  00B5              l_spr_move_up_00109:
1032  00B5  79          	ld	a, c
1033  00B6  C6 FE       	add	a,0xfe
1034  00B8  32 00 00    	ld	(_s_lin1),a
1035  00BB  07          	rlca
1036  00BC  07          	rlca
1037  00BD  07          	rlca
1038  00BE  07          	rlca
1039  00BF  E6 0F       	and	a,0x0f
1040  00C1  4F          	ld	c, a
1041  00C2  3A 00 00    	ld	a,(_s_lin0)
1042  00C5  07          	rlca
1043  00C6  07          	rlca
1044  00C7  07          	rlca
1045  00C8  07          	rlca
1046  00C9  E6 0F       	and	a,0x0f
1047  00CB  47          	ld	b, a
1048  00CC  79          	ld	a, c
1049  00CD  90          	sub	a, b
1050  00CE  20 04       	jr	NZ,l_spr_move_up_00135
1051  00D0  3E 01       	ld	a,0x01
1052  00D2  18 01       	jr	l_spr_move_up_00136
1053  00D4              l_spr_move_up_00135:
1054  00D4  AF          	xor	a,a
1055  00D5              l_spr_move_up_00136:
1056  00D5  EE 01       	xor	a,0x01
1057  00D7  28 1D       	jr	Z,l_spr_move_up_00106
1058  00D9  2A 00 00    	ld	hl,(_sprite)
1059  00DC  26 00       	ld	h,0x00
1060  00DE  01 00 00    	ld	bc,_col
1061  00E1  09          	add	hl,bc
1062  00E2  7E          	ld	a,(hl)
1063  00E3  F5          	push	af
1064  00E4  33          	inc	sp
1065  00E5  3A 00 00    	ld	a,(_s_lin1)
1066  00E8  F5          	push	af
1067  00E9  33          	inc	sp
1068  00EA  CD 00 00    	call	_game_check_map
1069  00ED  F1          	pop	af
1070  00EE  7C          	ld	a,h
1071  00EF  B5          	or	a,l
1072  00F0  28 04       	jr	Z,l_spr_move_up_00106
1073  00F2  2E 01       	ld	l,0x01
1074  00F4  18 0F       	jr	l_spr_move_up_00111
1075  00F6              l_spr_move_up_00106:
1076  00F6  2A 00 00    	ld	hl,(_sprite)
1077  00F9  26 00       	ld	h,0x00
1078  00FB  01 00 00    	ld	bc,_lin
1079  00FE  09          	add	hl,bc
1080  00FF  3A 00 00    	ld	a,(_s_lin1)
1081  0102  77          	ld	(hl),a
1082  0103  2E 00       	ld	l,0x00
1083  0105              l_spr_move_up_00111:
1084  0105  C9          	ret
1085  0106              	SECTION code_compiler
1086  0106              ;	---------------------------------
1087  0106              ; Function spr_move_down
1088  0106              ; ---------------------------------
1089  0106              _spr_move_down:
1090  0106  2A 00 00    	ld	hl,(_sprite)
1091  0109  26 00       	ld	h,0x00
1092  010B  01 00 00    	ld	bc,_lin
1093  010E  09          	add	hl,bc
1094  010F  7E          	ld	a,(hl)
1095  0110  FE 90       	cp	a,0x90
1096  0112  38 2C       	jr	C,l_spr_move_down_00112
1097  0114  3A 00 00    	ld	a,(_sprite)
1098  0117  D6 07       	sub	a,0x07
1099  0119  28 04       	jr	Z,l_spr_move_down_00137
1100  011B  4D          	ld	c,l
1101  011C  44          	ld	b,h
1102  011D  18 1A       	jr	l_spr_move_down_00105
1103  011F              l_spr_move_down_00137:
1104  011F  CD 01 04    	call	_spr_page_down
1105  0122  7D          	ld	a, l
1106  0123  B7          	or	a, a
1107  0124  28 04       	jr	Z,l_spr_move_down_00102
1108  0126  2E 01       	ld	l,0x01
1109  0128  18 67       	jr	l_spr_move_down_00114
1110  012A              l_spr_move_down_00102:
1111  012A  2A 00 00    	ld	hl,(_sprite)
1112  012D  26 00       	ld	h,0x00
1113  012F  01 00 00    	ld	bc,_lin
1114  0132  09          	add	hl,bc
1115  0133  36 90       	ld	(hl),0x90
1116  0135  2E 01       	ld	l,0x01
1117  0137  18 58       	jr	l_spr_move_down_00114
1118  0139              l_spr_move_down_00105:
1119  0139  3E 90       	ld	a,0x90
1120  013B  02          	ld	(bc), a
1121  013C  2E 01       	ld	l,0x01
1122  013E  18 51       	jr	l_spr_move_down_00114
1123  0140              l_spr_move_down_00112:
1124  0140  C6 10       	add	a,0x10
1125  0142  32 00 00    	ld	(_s_lin1),a
1126  0145  07          	rlca
1127  0146  07          	rlca
1128  0147  07          	rlca
1129  0148  07          	rlca
1130  0149  E6 0F       	and	a,0x0f
1131  014B  4F          	ld	c, a
1132  014C  3A 00 00    	ld	a,(_s_lin0)
1133  014F  07          	rlca
1134  0150  07          	rlca
1135  0151  07          	rlca
1136  0152  07          	rlca
1137  0153  E6 0F       	and	a,0x0f
1138  0155  47          	ld	b, a
1139  0156  79          	ld	a, c
1140  0157  90          	sub	a, b
1141  0158  20 04       	jr	NZ,l_spr_move_down_00138
1142  015A  3E 01       	ld	a,0x01
1143  015C  18 01       	jr	l_spr_move_down_00139
1144  015E              l_spr_move_down_00138:
1145  015E  AF          	xor	a,a
1146  015F              l_spr_move_down_00139:
1147  015F  EE 01       	xor	a,0x01
1148  0161  28 1D       	jr	Z,l_spr_move_down_00110
1149  0163  2A 00 00    	ld	hl,(_sprite)
1150  0166  26 00       	ld	h,0x00
1151  0168  01 00 00    	ld	bc,_col
1152  016B  09          	add	hl,bc
1153  016C  7E          	ld	a,(hl)
1154  016D  F5          	push	af
1155  016E  33          	inc	sp
1156  016F  3A 00 00    	ld	a,(_s_lin1)
1157  0172  F5          	push	af
1158  0173  33          	inc	sp
1159  0174  CD 00 00    	call	_game_check_map
1160  0177  F1          	pop	af
1161  0178  7C          	ld	a,h
1162  0179  B5          	or	a,l
1163  017A  28 04       	jr	Z,l_spr_move_down_00110
1164  017C  2E 01       	ld	l,0x01
1165  017E  18 11       	jr	l_spr_move_down_00114
1166  0180              l_spr_move_down_00110:
1167  0180  2A 00 00    	ld	hl,(_sprite)
1168  0183  26 00       	ld	h,0x00
1169  0185  01 00 00    	ld	bc,_lin
1170  0188  09          	add	hl,bc
1171  0189  3A 00 00    	ld	a,(_s_lin1)
1172  018C  C6 F2       	add	a,0xf2
1173  018E  77          	ld	(hl),a
1174  018F  2E 00       	ld	l,0x00
1175  0191              l_spr_move_down_00114:
1176  0191  C9          	ret
1177  0192              	SECTION code_compiler
1178  0192              ;	---------------------------------
1179  0192              ; Function spr_move_horizontal
1180  0192              ; ---------------------------------
1181  0192              _spr_move_horizontal:
1182  0192  2A 00 00    	ld	hl,(_sprite)
1183  0195  26 00       	ld	h,0x00
1184  0197  01 00 00    	ld	bc,_state
1185  019A  09          	add	hl,bc
1186  019B  7E          	ld	a,(hl)
1187  019C  CB 57       	bit	2, a
1188  019E  28 05       	jr	Z,l_spr_move_horizontal_00104
1189  01A0  CD B1 01    	call	_spr_move_right
1190  01A3  18 0B       	jr	l_spr_move_horizontal_00106
1191  01A5              l_spr_move_horizontal_00104:
1192  01A5  CB 5F       	bit	3, a
1193  01A7  28 05       	jr	Z,l_spr_move_horizontal_00105
1194  01A9  CD A5 02    	call	_spr_move_left
1195  01AC  18 02       	jr	l_spr_move_horizontal_00106
1196  01AE              l_spr_move_horizontal_00105:
1197  01AE  2E 00       	ld	l,0x00
1198  01B0              l_spr_move_horizontal_00106:
1199  01B0  C9          	ret
1200  01B1              	SECTION code_compiler
1201  01B1              ;	---------------------------------
1202  01B1              ; Function spr_move_right
1203  01B1              ; ---------------------------------
1204  01B1              _spr_move_right:
1205  01B1  2A 00 00    	ld	hl,(_sprite)
1206  01B4  26 00       	ld	h,0x00
1207  01B6  01 00 00    	ld	bc,_colint
1208  01B9  09          	add	hl,bc
1209  01BA  7E          	ld	a,(hl)
1210  01BB  3C          	inc	a
1211  01BC  77          	ld	(hl),a
1212  01BD  4F          	ld	c, a
1213  01BE  2A 00 00    	ld	hl,(_s_class)
1214  01C1  26 00       	ld	h,0x00
1215  01C3  11 00 00    	ld	de,_sprite_frames
1216  01C6  19          	add	hl,de
1217  01C7  7E          	ld	a,(hl)
1218  01C8  91          	sub	a, c
1219  01C9  C2 A2 02    	jp	NZ,l_spr_move_right_00118
1220  01CC  2A 00 00    	ld	hl,(_sprite)
1221  01CF  26 00       	ld	h,0x00
1222  01D1  01 00 00    	ld	bc,_lin
1223  01D4  09          	add	hl,bc
1224  01D5  7E          	ld	a,(hl)
1225  01D6  32 00 00    	ld	(_s_lin1),a
1226  01D9  2A 00 00    	ld	hl,(_sprite)
1227  01DC  26 00       	ld	h,0x00
1228  01DE  01 00 00    	ld	bc,_col
1229  01E1  09          	add	hl,bc
1230  01E2  7E          	ld	a,(hl)
1231  01E3  FE 1E       	cp	a,0x1e
1232  01E5  30 5E       	jr	NC,l_spr_move_right_00108
1233  01E7  3C          	inc	a
1234  01E8  32 00 00    	ld	(_s_col1),a
1235  01EB  21 00 00    	ld	hl,_sprite_horizontal_check
1236  01EE  36 01       	ld	(hl),0x01
1237  01F0  2A FF FF    	ld	hl,(_s_col1 - 1)
1238  01F3  3A 00 00    	ld	a,(_s_lin1)
1239  01F6  6F          	ld	l,a
1240  01F7  E5          	push	hl
1241  01F8  CD 00 00    	call	_game_check_map
1242  01FB  F1          	pop	af
1243  01FC  7D          	ld	a,l
1244  01FD  32 00 00    	ld	(_tmp0),a
1245  0200  B7          	or	a, a
1246  0201  20 13       	jr	NZ,l_spr_move_right_00102
1247  0203  3A 00 00    	ld	a,(_s_lin1)
1248  0206  C6 0F       	add	a,0x0f
1249  0208  4F          	ld	c, a
1250  0209  3A 00 00    	ld	a, (_s_col1)
1251  020C  47          	ld	b,a
1252  020D  C5          	push	bc
1253  020E  CD 00 00    	call	_game_check_map
1254  0211  F1          	pop	af
1255  0212  7D          	ld	a,l
1256  0213  32 00 00    	ld	(_tmp0),a
1257  0216              l_spr_move_right_00102:
1258  0216  21 00 00    	ld	hl,_sprite_horizontal_check
1259  0219  36 00       	ld	(hl),0x00
1260  021B  3A 00 00    	ld	a,(_tmp0)
1261  021E  B7          	or	a, a
1262  021F  28 24       	jr	Z,l_spr_move_right_00108
1263  0221  2A 00 00    	ld	hl,(_sprite)
1264  0224  26 00       	ld	h,0x00
1265  0226  01 00 00    	ld	bc,_colint
1266  0229  09          	add	hl,bc
1267  022A  7E          	ld	a,(hl)
1268  022B  C6 FF       	add	a,0xff
1269  022D  77          	ld	(hl),a
1270  022E  3A 00 00    	ld	a,(_sprite_on_air)
1271  0231  B7          	or	a,a
1272  0232  20 0D       	jr	NZ,l_spr_move_right_00104
1273  0234  2A 00 00    	ld	hl,(_sprite)
1274  0237  26 00       	ld	h,0x00
1275  0239  01 00 00    	ld	bc,_colint
1276  023C  09          	add	hl,bc
1277  023D  7E          	ld	a,(hl)
1278  023E  C6 FF       	add	a,0xff
1279  0240  77          	ld	(hl),a
1280  0241              l_spr_move_right_00104:
1281  0241  2E 01       	ld	l,0x01
1282  0243  18 5F       	jr	l_spr_move_right_00119
1283  0245              l_spr_move_right_00108:
1284  0245  2A 00 00    	ld	hl,(_sprite)
1285  0248  26 00       	ld	h,0x00
1286  024A  01 00 00    	ld	bc,_col
1287  024D  09          	add	hl,bc
1288  024E  34          	inc	(hl)
1289  024F  2A 00 00    	ld	hl,(_sprite)
1290  0252  26 00       	ld	h,0x00
1291  0254  01 00 00    	ld	bc,_colint
1292  0257  09          	add	hl,bc
1293  0258  AF          	xor	a,a
1294  0259  77          	ld	(hl),a
1295  025A  2A 00 00    	ld	hl,(_sprite)
1296  025D  26 00       	ld	h,0x00
1297  025F  01 00 00    	ld	bc,_col
1298  0262  09          	add	hl,bc
1299  0263  5E          	ld	e,(hl)
1300  0264  3E 1E       	ld	a,0x1e
1301  0266  93          	sub	a,e
1302  0267  30 39       	jr	NC,l_spr_move_right_00118
1303  0269  3A 00 00    	ld	a,(_sprite)
1304  026C  D6 07       	sub	a,0x07
1305  026E  28 04       	jr	Z,l_spr_move_right_00156
1306  0270  4D          	ld	c,l
1307  0271  44          	ld	b,h
1308  0272  18 27       	jr	l_spr_move_right_00113
1309  0274              l_spr_move_right_00156:
1310  0274  CD 9F 03    	call	_spr_page_right
1311  0277  3A 00 00    	ld	a,(_sprite)
1312  027A  C6 00       	add	a,+((_col) & 0xFF)
1313  027C  4D          	ld	c,l
1314  027D  5F          	ld	e,a
1315  027E  3E 00       	ld	a,+((_col) / 256)
1316  0280  CE 00       	adc	a,0x00
1317  0282  57          	ld	d,a
1318  0283  79          	ld	a, c
1319  0284  B7          	or	a, a
1320  0285  28 0F       	jr	Z,l_spr_move_right_00110
1321  0287  AF          	xor	a, a
1322  0288  12          	ld	(de), a
1323  0289  3A 07 00    	ld	a,(_lin + 7)
1324  028C  32 00 00    	ld	(_player_lin_scr),a
1325  028F  21 00 00    	ld	hl,_player_col_scr
1326  0292  36 00       	ld	(hl),0x00
1327  0294  18 08       	jr	l_spr_move_right_00114
1328  0296              l_spr_move_right_00110:
1329  0296  3E 1E       	ld	a,0x1e
1330  0298  12          	ld	(de), a
1331  0299  18 03       	jr	l_spr_move_right_00114
1332  029B              l_spr_move_right_00113:
1333  029B  3E 1E       	ld	a,0x1e
1334  029D  02          	ld	(bc), a
1335  029E              l_spr_move_right_00114:
1336  029E  2E 01       	ld	l,0x01
1337  02A0  18 02       	jr	l_spr_move_right_00119
1338  02A2              l_spr_move_right_00118:
1339  02A2  2E 00       	ld	l,0x00
1340  02A4              l_spr_move_right_00119:
1341  02A4  C9          	ret
1342  02A5              	SECTION code_compiler
1343  02A5              ;	---------------------------------
1344  02A5              ; Function spr_move_left
1345  02A5              ; ---------------------------------
1346  02A5              _spr_move_left:
1347  02A5  01 00 00    	ld	bc,_colint+0
1348  02A8  79          	ld	a, c
1349  02A9  21 00 00    	ld	hl,_sprite
1350  02AC  86          	add	a, (hl)
1351  02AD  5F          	ld	e, a
1352  02AE  78          	ld	a, b
1353  02AF  CE 00       	adc	a,0x00
1354  02B1  57          	ld	d, a
1355  02B2  1A          	ld	a, (de)
1356  02B3  C6 FF       	add	a,0xff
1357  02B5  12          	ld	(de), a
1358  02B6  79          	ld	a, c
1359  02B7  86          	add	a, (hl)
1360  02B8  5F          	ld	e, a
1361  02B9  78          	ld	a, b
1362  02BA  CE 00       	adc	a,0x00
1363  02BC  57          	ld	d, a
1364  02BD  1A          	ld	a, (de)
1365  02BE  3C          	inc	a
1366  02BF  C2 9C 03    	jp	NZ,l_spr_move_left_00118
1367  02C2  5E          	ld	e,(hl)
1368  02C3  16 00       	ld	d,0x00
1369  02C5  21 00 00    	ld	hl,_lin
1370  02C8  19          	add	hl,de
1371  02C9  7E          	ld	a,(hl)
1372  02CA  32 00 00    	ld	(_s_lin1),a
1373  02CD  2A 00 00    	ld	hl,(_sprite)
1374  02D0  26 00       	ld	h,0x00
1375  02D2  11 00 00    	ld	de,_col
1376  02D5  19          	add	hl,de
1377  02D6  7E          	ld	a,(hl)
1378  02D7  B7          	or	a, a
1379  02D8  28 5A       	jr	Z,l_spr_move_left_00108
1380  02DA  C6 FF       	add	a,0xff
1381  02DC  32 00 00    	ld	(_s_col1),a
1382  02DF  21 00 00    	ld	hl,_sprite_horizontal_check
1383  02E2  36 01       	ld	(hl),0x01
1384  02E4  3A 00 00    	ld	a,(_s_col1)
1385  02E7  C5          	push	bc
1386  02E8  F5          	push	af
1387  02E9  33          	inc	sp
1388  02EA  3A 00 00    	ld	a,(_s_lin1)
1389  02ED  F5          	push	af
1390  02EE  33          	inc	sp
1391  02EF  CD 00 00    	call	_game_check_map
1392  02F2  F1          	pop	af
1393  02F3  C1          	pop	bc
1394  02F4  7D          	ld	a,l
1395  02F5  32 00 00    	ld	(_tmp0),a
1396  02F8  B7          	or	a, a
1397  02F9  20 16       	jr	NZ,l_spr_move_left_00102
1398  02FB  3A 00 00    	ld	a,(_s_lin1)
1399  02FE  C6 0F       	add	a,0x0f
1400  0300  57          	ld	d, a
1401  0301  3A 00 00    	ld	a,(_s_col1)
1402  0304  C5          	push	bc
1403  0305  5A          	ld	e,d
1404  0306  57          	ld	d,a
1405  0307  D5          	push	de
1406  0308  CD 00 00    	call	_game_check_map
1407  030B  F1          	pop	af
1408  030C  C1          	pop	bc
1409  030D  7D          	ld	a,l
1410  030E  32 00 00    	ld	(_tmp0),a
1411  0311              l_spr_move_left_00102:
1412  0311  21 00 00    	ld	hl,_sprite_horizontal_check
1413  0314  36 00       	ld	(hl),0x00
1414  0316  3A 00 00    	ld	a,(_tmp0)
1415  0319  B7          	or	a, a
1416  031A  28 18       	jr	Z,l_spr_move_left_00108
1417  031C  2A 00 00    	ld	hl,(_sprite)
1418  031F  26 00       	ld	h,0x00
1419  0321  09          	add	hl,bc
1420  0322  34          	inc	(hl)
1421  0323  3A 00 00    	ld	a,(_sprite_on_air)
1422  0326  B7          	or	a, a
1423  0327  20 07       	jr	NZ,l_spr_move_left_00104
1424  0329  2A 00 00    	ld	hl,(_sprite)
1425  032C  26 00       	ld	h,0x00
1426  032E  09          	add	hl,bc
1427  032F  34          	inc	(hl)
1428  0330              l_spr_move_left_00104:
1429  0330  2E 01       	ld	l,0x01
1430  0332  18 6A       	jr	l_spr_move_left_00119
1431  0334              l_spr_move_left_00108:
1432  0334  2A 00 00    	ld	hl,(_sprite)
1433  0337  26 00       	ld	h,0x00
1434  0339  11 00 00    	ld	de,_col
1435  033C  19          	add	hl,de
1436  033D  7E          	ld	a,(hl)
1437  033E  EB          	ex	de,hl
1438  033F  C6 FF       	add	a,0xff
1439  0341  12          	ld	(de),a
1440  0342  79          	ld	a,c
1441  0343  21 00 00    	ld	hl,_sprite
1442  0346  86          	add	a, (hl)
1443  0347  4F          	ld	c, a
1444  0348  78          	ld	a, b
1445  0349  CE 00       	adc	a,0x00
1446  034B  47          	ld	b, a
1447  034C  2A 00 00    	ld	hl,(_s_class)
1448  034F  26 00       	ld	h,0x00
1449  0351  11 00 00    	ld	de,_sprite_frames
1450  0354  19          	add	hl,de
1451  0355  7E          	ld	a,(hl)
1452  0356  C6 FF       	add	a,0xff
1453  0358  02          	ld	(bc), a
1454  0359  2A 00 00    	ld	hl,(_sprite)
1455  035C  26 00       	ld	h,0x00
1456  035E  01 00 00    	ld	bc,_col
1457  0361  09          	add	hl,bc
1458  0362  7E          	ld	a,(hl)
1459  0363  3C          	inc	a
1460  0364  20 36       	jr	NZ,l_spr_move_left_00118
1461  0366  3A 00 00    	ld	a,(_sprite)
1462  0369  D6 07       	sub	a,0x07
1463  036B  4D          	ld	c,l
1464  036C  44          	ld	b,h
1465  036D  20 27       	jr	NZ,l_spr_move_left_00113
1466  036F  CD D2 03    	call	_spr_page_left
1467  0372  3A 00 00    	ld	a,(_sprite)
1468  0375  C6 00       	add	a,+((_col) & 0xFF)
1469  0377  4D          	ld	c,l
1470  0378  5F          	ld	e,a
1471  0379  3E 00       	ld	a,+((_col) / 256)
1472  037B  CE 00       	adc	a,0x00
1473  037D  57          	ld	d,a
1474  037E  79          	ld	a, c
1475  037F  B7          	or	a, a
1476  0380  28 10       	jr	Z,l_spr_move_left_00110
1477  0382  3E 1E       	ld	a,0x1e
1478  0384  12          	ld	(de), a
1479  0385  3A 07 00    	ld	a,(_lin + 7)
1480  0388  32 00 00    	ld	(_player_lin_scr),a
1481  038B  21 00 00    	ld	hl,_player_col_scr
1482  038E  36 1E       	ld	(hl),0x1e
1483  0390  18 06       	jr	l_spr_move_left_00114
1484  0392              l_spr_move_left_00110:
1485  0392  AF          	xor	a, a
1486  0393  12          	ld	(de), a
1487  0394  18 02       	jr	l_spr_move_left_00114
1488  0396              l_spr_move_left_00113:
1489  0396  AF          	xor	a, a
1490  0397  02          	ld	(bc), a
1491  0398              l_spr_move_left_00114:
1492  0398  2E 01       	ld	l,0x01
1493  039A  18 02       	jr	l_spr_move_left_00119
1494  039C              l_spr_move_left_00118:
1495  039C  2E 00       	ld	l,0x00
1496  039E              l_spr_move_left_00119:
1497  039E  C9          	ret
1498  039F              	SECTION code_compiler
1499  039F              ;	---------------------------------
1500  039F              ; Function spr_page_right
1501  039F              ; ---------------------------------
1502  039F              _spr_page_right:
1503  039F  2A FF FF    	ld	hl,(_map_width - 1)
1504  03A2  3A 00 00    	ld	a,(_scr_curr)
1505  03A5  6F          	ld	l,a
1506  03A6  E5          	push	hl
1507  03A7  CD 00 00    	call	__moduchar_callee
1508  03AA  7D          	ld	a, l
1509  03AB  3C          	inc	a
1510  03AC  32 00 00    	ld	(_tmp1),a
1511  03AF  21 00 00    	ld	hl,_map_width
1512  03B2  96          	sub	a, (hl)
1513  03B3  30 1A       	jr	NC,l_spr_page_right_00102
1514  03B5  3A 00 00    	ld	a,(_game_boss)
1515  03B8  B7          	or	a, a
1516  03B9  28 06       	jr	Z,l_spr_page_right_00101
1517  03BB  3A 00 00    	ld	a,(_game_inmune)
1518  03BE  B7          	or	a, a
1519  03BF  28 0E       	jr	Z,l_spr_page_right_00102
1520  03C1              l_spr_page_right_00101:
1521  03C1  21 00 00    	ld	hl,_scr_curr
1522  03C4  34          	inc	(hl)
1523  03C5  CD FE 04    	call	_spr_page_map
1524  03C8  CD 00 00    	call	_game_draw_screen
1525  03CB  2E 01       	ld	l,0x01
1526  03CD  18 02       	jr	l_spr_page_right_00105
1527  03CF              l_spr_page_right_00102:
1528  03CF  2E 00       	ld	l,0x00
1529  03D1              l_spr_page_right_00105:
1530  03D1  C9          	ret
1531  03D2              	SECTION code_compiler
1532  03D2              ;	---------------------------------
1533  03D2              ; Function spr_page_left
1534  03D2              ; ---------------------------------
1535  03D2              _spr_page_left:
1536  03D2  2A FF FF    	ld	hl,(_map_width - 1)
1537  03D5  3A 00 00    	ld	a,(_scr_curr)
1538  03D8  6F          	ld	l,a
1539  03D9  E5          	push	hl
1540  03DA  CD 00 00    	call	__moduchar_callee
1541  03DD  7D          	ld	a,l
1542  03DE  32 00 00    	ld	(_tmp1),a
1543  03E1  B7          	or	a, a
1544  03E2  28 1A       	jr	Z,l_spr_page_left_00102
1545  03E4  3A 00 00    	ld	a,(_game_boss)
1546  03E7  B7          	or	a, a
1547  03E8  28 06       	jr	Z,l_spr_page_left_00101
1548  03EA  3A 00 00    	ld	a,(_game_inmune)
1549  03ED  B7          	or	a, a
1550  03EE  28 0E       	jr	Z,l_spr_page_left_00102
1551  03F0              l_spr_page_left_00101:
1552  03F0  21 00 00    	ld	hl,_scr_curr
1553  03F3  35          	dec	(hl)
1554  03F4  CD FE 04    	call	_spr_page_map
1555  03F7  CD 00 00    	call	_game_draw_screen
1556  03FA  2E 01       	ld	l,0x01
1557  03FC  18 02       	jr	l_spr_page_left_00105
1558  03FE              l_spr_page_left_00102:
1559  03FE  2E 00       	ld	l,0x00
1560  0400              l_spr_page_left_00105:
1561  0400  C9          	ret
1562  0401              	SECTION code_compiler
1563  0401              ;	---------------------------------
1564  0401              ; Function spr_page_down
1565  0401              ; ---------------------------------
1566  0401              _spr_page_down:
1567  0401  2A FF FF    	ld	hl,(_map_width - 1)
1568  0404  3A 00 00    	ld	a,(_scr_curr)
1569  0407  6F          	ld	l,a
1570  0408  E5          	push	hl
1571  0409  CD 00 00    	call	__divuchar_callee
1572  040C  7D          	ld	a, l
1573  040D  3C          	inc	a
1574  040E  32 00 00    	ld	(_tmp1),a
1575  0411  21 00 00    	ld	hl,_map_heigth
1576  0414  96          	sub	a, (hl)
1577  0415  30 36       	jr	NC,l_spr_page_down_00102
1578  0417  3A 00 00    	ld	a,(_game_boss)
1579  041A  B7          	or	a, a
1580  041B  28 06       	jr	Z,l_spr_page_down_00101
1581  041D  3A 00 00    	ld	a,(_game_inmune)
1582  0420  B7          	or	a, a
1583  0421  28 2A       	jr	Z,l_spr_page_down_00102
1584  0423              l_spr_page_down_00101:
1585  0423  3A 00 00    	ld	a,(_scr_curr)
1586  0426  21 00 00    	ld	hl,_map_width
1587  0429  86          	add	a, (hl)
1588  042A  32 00 00    	ld	(_scr_curr),a
1589  042D  CD FE 04    	call	_spr_page_map
1590  0430  CD 00 00    	call	_game_draw_screen
1591  0433  21 00 00    	ld	hl,_player_lin_scr
1592  0436  36 08       	ld	(hl),0x08
1593  0438  2A 00 00    	ld	hl,(_sprite)
1594  043B  26 00       	ld	h,0x00
1595  043D  01 00 00    	ld	bc,_lin
1596  0440  09          	add	hl,bc
1597  0441  36 08       	ld	(hl),0x08
1598  0443  3A 07 00    	ld	a,(_col + 0x0007)
1599  0446  32 00 00    	ld	(_player_col_scr),a
1600  0449  2E 01       	ld	l,0x01
1601  044B  18 02       	jr	l_spr_page_down_00105
1602  044D              l_spr_page_down_00102:
1603  044D  2E 00       	ld	l,0x00
1604  044F              l_spr_page_down_00105:
1605  044F  C9          	ret
1606  0450              	SECTION code_compiler
1607  0450              ;	---------------------------------
1608  0450              ; Function spr_page_up
1609  0450              ; ---------------------------------
1610  0450              _spr_page_up:
1611  0450  2A FF FF    	ld	hl,(_map_width - 1)
1612  0453  3A 00 00    	ld	a,(_scr_curr)
1613  0456  6F          	ld	l,a
1614  0457  E5          	push	hl
1615  0458  CD 00 00    	call	__divuchar_callee
1616  045B  7D          	ld	a,l
1617  045C  32 00 00    	ld	(_tmp1),a
1618  045F  B7          	or	a, a
1619  0460  28 36       	jr	Z,l_spr_page_up_00102
1620  0462  3A 00 00    	ld	a,(_game_boss)
1621  0465  B7          	or	a, a
1622  0466  28 06       	jr	Z,l_spr_page_up_00101
1623  0468  3A 00 00    	ld	a,(_game_inmune)
1624  046B  B7          	or	a, a
1625  046C  28 2A       	jr	Z,l_spr_page_up_00102
1626  046E              l_spr_page_up_00101:
1627  046E  3A 00 00    	ld	a,(_scr_curr)
1628  0471  21 00 00    	ld	hl,_map_width
1629  0474  96          	sub	a, (hl)
1630  0475  32 00 00    	ld	(_scr_curr),a
1631  0478  CD FE 04    	call	_spr_page_map
1632  047B  CD 00 00    	call	_game_draw_screen
1633  047E  2A 00 00    	ld	hl,(_sprite)
1634  0481  26 00       	ld	h,0x00
1635  0483  01 00 00    	ld	bc,_lin
1636  0486  09          	add	hl,bc
1637  0487  36 8C       	ld	(hl),0x8c
1638  0489  21 00 00    	ld	hl,_player_lin_scr
1639  048C  36 8C       	ld	(hl),0x8c
1640  048E  3A 07 00    	ld	a,(_col + 0x0007)
1641  0491  32 00 00    	ld	(_player_col_scr),a
1642  0494  2E 01       	ld	l,0x01
1643  0496  18 02       	jr	l_spr_page_up_00105
1644  0498              l_spr_page_up_00102:
1645  0498  2E 00       	ld	l,0x00
1646  049A              l_spr_page_up_00105:
1647  049A  C9          	ret
1648  049B              	SECTION code_compiler
1649  049B              ;	---------------------------------
1650  049B              ; Function spr_clear_scr
1651  049B              ; ---------------------------------
1652  049B              _spr_clear_scr:
1653  049B  06 00       	ld	b,0x00
1654  049D              l_spr_clear_scr_00105:
1655  049D  C5          	push	bc
1656  049E  21 00 00    	ld	hl,0x0000
1657  04A1  E5          	push	hl
1658  04A2  AF          	xor	a, a
1659  04A3  48          	ld	c,b
1660  04A4  47          	ld	b,a
1661  04A5  C5          	push	bc
1662  04A6  CD 00 00    	call	_NIRVANAP_spriteT_callee
1663  04A9  C1          	pop	bc
1664  04AA  04          	inc	b
1665  04AB  78          	ld	a, b
1666  04AC  D6 08       	sub	a,0x08
1667  04AE  38 ED       	jr	C,l_spr_clear_scr_00105
1668  04B0  76          	halt
1669  04B1  F3          	di
1670  04B2  0E 00       	ld	c,0x00
1671  04B4              l_spr_clear_scr_00117:
1672  04B4  79          	ld	a, c
1673  04B5  87          	add	a, a
1674  04B6  47          	ld	b, a
1675  04B7  50          	ld	d, b
1676  04B8  1E 01       	ld	e,0x01
1677  04BA              l_spr_clear_scr_00107:
1678  04BA  7B          	ld	a, e
1679  04BB  07          	rlca
1680  04BC  07          	rlca
1681  04BD  07          	rlca
1682  04BE  07          	rlca
1683  04BF  E6 F0       	and	a,0xf0
1684  04C1  C5          	push	bc
1685  04C2  D5          	push	de
1686  04C3  5F          	ld	e,a
1687  04C4  D5          	push	de
1688  04C5  AF          	xor	a, a
1689  04C6  F5          	push	af
1690  04C7  33          	inc	sp
1691  04C8  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1692  04CB  D1          	pop	de
1693  04CC  C1          	pop	bc
1694  04CD  1C          	inc	e
1695  04CE  7B          	ld	a, e
1696  04CF  D6 0A       	sub	a,0x0a
1697  04D1  38 E7       	jr	C,l_spr_clear_scr_00107
1698  04D3  3E 1E       	ld	a,0x1e
1699  04D5  90          	sub	a, b
1700  04D6  47          	ld	b, a
1701  04D7  1E 01       	ld	e,0x01
1702  04D9              l_spr_clear_scr_00109:
1703  04D9  7B          	ld	a, e
1704  04DA  07          	rlca
1705  04DB  07          	rlca
1706  04DC  07          	rlca
1707  04DD  07          	rlca
1708  04DE  E6 F0       	and	a,0xf0
1709  04E0  57          	ld	d, a
1710  04E1  C5          	push	bc
1711  04E2  D5          	push	de
1712  04E3  4A          	ld	c, d
1713  04E4  C5          	push	bc
1714  04E5  AF          	xor	a, a
1715  04E6  F5          	push	af
1716  04E7  33          	inc	sp
1717  04E8  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1718  04EB  D1          	pop	de
1719  04EC  C1          	pop	bc
1720  04ED  1C          	inc	e
1721  04EE  7B          	ld	a, e
1722  04EF  D6 0A       	sub	a,0x0a
1723  04F1  38 E6       	jr	C,l_spr_clear_scr_00109
1724  04F3  FB          	ei
1725  04F4  76          	halt
1726  04F5  F3          	di
1727  04F6  0C          	inc	c
1728  04F7  79          	ld	a, c
1729  04F8  D6 08       	sub	a,0x08
1730  04FA  38 B8       	jr	C,l_spr_clear_scr_00117
1731  04FC  FB          	ei
1732  04FD  C9          	ret
1733  04FE              	SECTION code_compiler
1734  04FE              ;	---------------------------------
1735  04FE              ; Function spr_page_map
1736  04FE              ; ---------------------------------
1737  04FE              _spr_page_map:
1738  04FE  CD 00 00    	call	___sdcc_enter_ix
1739  0501  21 F3 FF    	ld	hl, -13
1740  0504  39          	add	hl, sp
1741  0505  F9          	ld	sp, hl
1742  0506  21 00 00    	ld	hl,_game_world
1743  0509  5E          	ld	e, (hl)
1744  050A  3A 00 00    	ld	a,(_scr_curr)
1745  050D  DD 77 F3    	ld	(ix-13),a
1746  0510  7B          	ld	a, e
1747  0511  07          	rlca
1748  0512  07          	rlca
1749  0513  07          	rlca
1750  0514  07          	rlca
1751  0515  E6 F0       	and	a,0xf0
1752  0517  47          	ld	b,a
1753  0518  DD 86 F3    	add	a,(ix-13)
1754  051B  4F          	ld	c, a
1755  051C  DD 36 F9 10 	ld	(ix-7),0x10
1756  0520  C5          	push	bc
1757  0521  D5          	push	de
1758  0522  CD 9B 04    	call	_spr_clear_scr
1759  0525  D1          	pop	de
1760  0526  C1          	pop	bc
1761  0527  F3          	di
1762  0528  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1763  052B  36 16       	ld	(hl),0x16
1764  052D  C5          	push	bc
1765  052E  3E 16       	ld	a,0x16
1766  0530  01 FD 7F    	ld	bc,_IO_7FFD
1767  0533  ED 79       	out	(c),a
1768  0535  C1          	pop	bc
1769  0536  DD 7E F3    	ld	a,(ix-13)
1770  0539  3C          	inc	a
1771  053A  20 0E       	jr	NZ,l_spr_page_map_00102
1772  053C  57          	ld	d,a
1773  053D  21 00 00    	ld	hl,_start_scr0
1774  0540  19          	add	hl, de
1775  0541  7E          	ld	a, (hl)
1776  0542  DD 77 F3    	ld	(ix-13),a
1777  0545  78          	ld	a, b
1778  0546  DD 86 F3    	add	a,(ix-13)
1779  0549  4F          	ld	c, a
1780  054A              l_spr_page_map_00102:
1781  054A  06 00       	ld	b,0x00
1782  054C  21 00 00    	ld	hl,_paper0
1783  054F  09          	add	hl, bc
1784  0550  7E          	ld	a, (hl)
1785  0551  DD 77 F4    	ld	(ix-12),a
1786  0554  16 00       	ld	d,0x00
1787  0556  21 00 00    	ld	hl,_world0_w
1788  0559  19          	add	hl, de
1789  055A  7E          	ld	a, (hl)
1790  055B  DD 77 F6    	ld	(ix-10),a
1791  055E  16 00       	ld	d,0x00
1792  0560  21 00 00    	ld	hl,_world0_h
1793  0563  19          	add	hl, de
1794  0564  7E          	ld	a, (hl)
1795  0565  DD 77 F5    	ld	(ix-11),a
1796  0568  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1797  056B  36 10       	ld	(hl),0x10
1798  056D  C5          	push	bc
1799  056E  3E 10       	ld	a,0x10
1800  0570  01 FD 7F    	ld	bc,_IO_7FFD
1801  0573  ED 79       	out	(c),a
1802  0575  C1          	pop	bc
1803  0576  1E 00       	ld	e,0x00
1804  0578  DD 73 F7    	ld	(ix-9),e
1805  057B  DD 73 F8    	ld	(ix-8),e
1806  057E              l_spr_page_map_00103:
1807  057E  7B          	ld	a, e
1808  057F  91          	sub	a, c
1809  0580  30 31       	jr	NC,l_spr_page_map_00105
1810  0582  C5          	push	bc
1811  0583  3E 16       	ld	a,0x16
1812  0585  01 FD 7F    	ld	bc,_IO_7FFD
1813  0588  ED 79       	out	(c),a
1814  058A  C1          	pop	bc
1815  058B  16 00       	ld	d,0x00
1816  058D  21 00 00    	ld	hl,_lenght0
1817  0590  19          	add	hl, de
1818  0591  46          	ld	b, (hl)
1819  0592  16 00       	ld	d,0x00
1820  0594  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1821  0597  36 10       	ld	(hl),0x10
1822  0599  C5          	push	bc
1823  059A  3E 10       	ld	a,0x10
1824  059C  01 FD 7F    	ld	bc,_IO_7FFD
1825  059F  ED 79       	out	(c),a
1826  05A1  C1          	pop	bc
1827  05A2  DD 7E F7    	ld	a,(ix-9)
1828  05A5  80          	add	a, b
1829  05A6  DD 77 F7    	ld	(ix-9),a
1830  05A9  DD 7E F8    	ld	a,(ix-8)
1831  05AC  8A          	adc	a, d
1832  05AD  DD 77 F8    	ld	(ix-8),a
1833  05B0  1C          	inc	e
1834  05B1  18 CB       	jr	l_spr_page_map_00103
1835  05B3              l_spr_page_map_00105:
1836  05B3  FB          	ei
1837  05B4  F3          	di
1838  05B5  0E 00       	ld	c,0x00
1839  05B7              l_spr_page_map_00128:
1840  05B7  C5          	push	bc
1841  05B8  3E 16       	ld	a,0x16
1842  05BA  01 FD 7F    	ld	bc,_IO_7FFD
1843  05BD  ED 79       	out	(c),a
1844  05BF  C1          	pop	bc
1845  05C0  59          	ld	e, c
1846  05C1  16 00       	ld	d,0x00
1847  05C3  DD 6E F7    	ld	l,(ix-9)
1848  05C6  DD 66 F8    	ld	h,(ix-8)
1849  05C9  19          	add	hl,de
1850  05CA  EB          	ex	de,hl
1851  05CB  21 00 00    	ld	hl,_world0
1852  05CE  19          	add	hl, de
1853  05CF  7E          	ld	a, (hl)
1854  05D0  DD 77 FD    	ld	(ix-3),a
1855  05D3  13          	inc	de
1856  05D4  21 00 00    	ld	hl,_world0
1857  05D7  19          	add	hl, de
1858  05D8  7E          	ld	a, (hl)
1859  05D9  DD 77 FC    	ld	(ix-4),a
1860  05DC  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1861  05DF  36 10       	ld	(hl),0x10
1862  05E1  C5          	push	bc
1863  05E2  3E 10       	ld	a,0x10
1864  05E4  01 FD 7F    	ld	bc,_IO_7FFD
1865  05E7  ED 79       	out	(c),a
1866  05E9  C1          	pop	bc
1867  05EA  DD 7E FD    	ld	a,(ix-3)
1868  05ED  D6 80       	sub	a,0x80
1869  05EF  30 4F       	jr	NC,l_spr_page_map_00116
1870  05F1  DD 7E F9    	ld	a,(ix-7)
1871  05F4  DD 77 FE    	ld	(ix-2),a
1872  05F7  DD 36 FF 00 	ld	(ix-1),0x00
1873  05FB  C5          	push	bc
1874  05FC  DD 6E FE    	ld	l,(ix-2)
1875  05FF  DD 66 FF    	ld	h,(ix-1)
1876  0602  CD 00 00    	call	_game_obj_chk
1877  0605  C1          	pop	bc
1878  0606  45          	ld	b, l
1879  0607  3E 00       	ld	a, +((_scr_map) & 0xFF)
1880  0609  DD 86 F9    	add	a,(ix-7)
1881  060C  5F          	ld	e, a
1882  060D  3E 00       	ld	a, +((_scr_map) / 256)
1883  060F  CE 00       	adc	a,0x00
1884  0611  57          	ld	d, a
1885  0612  78          	ld	a, b
1886  0613  B7          	or	a, a
1887  0614  20 06       	jr	NZ,l_spr_page_map_00107
1888  0616  DD 7E FD    	ld	a,(ix-3)
1889  0619  12          	ld	(de), a
1890  061A  18 1F       	jr	l_spr_page_map_00108
1891  061C              l_spr_page_map_00107:
1892  061C  DD 6E F9    	ld	l,(ix-7)
1893  061F  26 00       	ld	h,0x00
1894  0621  23          	inc	hl
1895  0622  3E 00       	ld	a, +((_scr_map) & 0xFF)
1896  0624  85          	add	a, l
1897  0625  6F          	ld	l, a
1898  0626  3E 00       	ld	a, +((_scr_map) / 256)
1899  0628  8C          	adc	a, h
1900  0629  67          	ld	h, a
1901  062A  36 00       	ld	(hl),0x00
1902  062C  C5          	push	bc
1903  062D  D5          	push	de
1904  062E  DD 6E FE    	ld	l,(ix-2)
1905  0631  DD 66 FF    	ld	h,(ix-1)
1906  0634  CD 00 00    	call	_game_match_back
1907  0637  D1          	pop	de
1908  0638  C1          	pop	bc
1909  0639  7D          	ld	a,l
1910  063A  12          	ld	(de), a
1911  063B              l_spr_page_map_00108:
1912  063B  DD 34 F9    	inc	(ix-7)
1913  063E  18 6D       	jr	l_spr_page_map_00117
1914  0640              l_spr_page_map_00116:
1915  0640  DD 7E FD    	ld	a,(ix-3)
1916  0643  C6 80       	add	a,0x80
1917  0645  DD 77 FB    	ld	(ix-5),a
1918  0648  DD 46 F9    	ld	b,(ix-7)
1919  064B  DD 36 FA 00 	ld	(ix-6),0x00
1920  064F              l_spr_page_map_00126:
1921  064F  DD 7E FA    	ld	a,(ix-6)
1922  0652  DD 96 FB    	sub	a,(ix-5)
1923  0655  30 52       	jr	NC,l_spr_page_map_00146
1924  0657  DD 70 FE    	ld	(ix-2),b
1925  065A  DD 36 FF 00 	ld	(ix-1),0x00
1926  065E  C5          	push	bc
1927  065F  DD 6E FE    	ld	l,(ix-2)
1928  0662  DD 66 FF    	ld	h,(ix-1)
1929  0665  CD 00 00    	call	_game_obj_chk
1930  0668  C1          	pop	bc
1931  0669  7D          	ld	a,l
1932  066A  B7          	or	a, a
1933  066B  20 0F       	jr	NZ,l_spr_page_map_00110
1934  066D  3E 00       	ld	a, +((_scr_map) & 0xFF)
1935  066F  80          	add	a, b
1936  0670  5F          	ld	e, a
1937  0671  3E 00       	ld	a, +((_scr_map) / 256)
1938  0673  CE 00       	adc	a,0x00
1939  0675  57          	ld	d, a
1940  0676  DD 7E FC    	ld	a,(ix-4)
1941  0679  12          	ld	(de), a
1942  067A  18 22       	jr	l_spr_page_map_00111
1943  067C              l_spr_page_map_00110:
1944  067C  58          	ld	e, b
1945  067D  16 00       	ld	d,0x00
1946  067F  13          	inc	de
1947  0680  21 00 00    	ld	hl,_scr_map
1948  0683  19          	add	hl, de
1949  0684  36 00       	ld	(hl),0x00
1950  0686  3E 00       	ld	a, +((_scr_map) & 0xFF)
1951  0688  80          	add	a, b
1952  0689  5F          	ld	e, a
1953  068A  3E 00       	ld	a, +((_scr_map) / 256)
1954  068C  CE 00       	adc	a,0x00
1955  068E  57          	ld	d, a
1956  068F  C5          	push	bc
1957  0690  D5          	push	de
1958  0691  DD 6E FE    	ld	l,(ix-2)
1959  0694  DD 66 FF    	ld	h,(ix-1)
1960  0697  CD 00 00    	call	_game_match_back
1961  069A  D1          	pop	de
1962  069B  C1          	pop	bc
1963  069C  7D          	ld	a,l
1964  069D  12          	ld	(de), a
1965  069E              l_spr_page_map_00111:
1966  069E  04          	inc	b
1967  069F  78          	ld	a, b
1968  06A0  D6 A0       	sub	a,0xa0
1969  06A2  30 05       	jr	NC,l_spr_page_map_00146
1970  06A4  DD 34 FA    	inc	(ix-6)
1971  06A7  18 A6       	jr	l_spr_page_map_00126
1972  06A9              l_spr_page_map_00146:
1973  06A9  DD 70 F9    	ld	(ix-7),b
1974  06AC  0C          	inc	c
1975  06AD              l_spr_page_map_00117:
1976  06AD  DD 7E F9    	ld	a,(ix-7)
1977  06B0  D6 A0       	sub	a,0xa0
1978  06B2  30 07       	jr	NC,l_spr_page_map_00120
1979  06B4  0C          	inc	c
1980  06B5  79          	ld	a, c
1981  06B6  D6 A0       	sub	a,0xa0
1982  06B8  DA B7 05    	jp	C, l_spr_page_map_00128
1983  06BB              l_spr_page_map_00120:
1984  06BB  DD 7E F3    	ld	a,(ix-13)
1985  06BE  32 00 00    	ld	(_scr_curr),a
1986  06C1  DD 7E F6    	ld	a,(ix-10)
1987  06C4  32 00 00    	ld	(_map_width),a
1988  06C7  DD 7E F5    	ld	a,(ix-11)
1989  06CA  32 00 00    	ld	(_map_heigth),a
1990  06CD  DD 7E F4    	ld	a,(ix-12)
1991  06D0  32 00 00    	ld	(_map_paper),a
1992  06D3  CD 92 0B    	call	_spr_init_effects
1993  06D6  3A 00 00    	ld	a,(_map_paper_last)
1994  06D9  21 00 00    	ld	hl,_map_paper
1995  06DC  96          	sub	a, (hl)
1996  06DD  28 03       	jr	Z,l_spr_page_map_00122
1997  06DF  CD 30 13    	call	_spr_btile_paint_back
1998  06E2              l_spr_page_map_00122:
1999  06E2  3A 00 00    	ld	a,(_map_paper)
2000  06E5  32 00 00    	ld	(_map_paper_last),a
2001  06E8  FB          	ei
2002  06E9  CD 00 00    	call	_NIRVANAP_start
2003  06EC  21 00 00    	ld	hl,_screen_ink
2004  06EF  36 06       	ld	(hl),0x06
2005  06F1  3A 00 00    	ld	a,(_game_show_fps)
2006  06F4  B7          	or	a, a
2007  06F5  28 17       	jr	Z,l_spr_page_map_00130
2008  06F7  21 00 00    	ld	hl,___str_0
2009  06FA  E5          	push	hl
2010  06FB  21 17 0C    	ld	hl,0x0c17
2011  06FE  E5          	push	hl
2012  06FF  CD 00 00    	call	_zx_print_str
2013  0702  3A 00 00    	ld	a,(_scr_curr)
2014  0705  F5          	push	af
2015  0706  33          	inc	sp
2016  0707  21 17 10    	ld	hl,0x1017
2017  070A  E5          	push	hl
2018  070B  CD 00 00    	call	_zx_print_chr
2019  070E              l_spr_page_map_00130:
2020  070E  DD F9       	ld	sp, ix
2021  0710  DD E1       	pop	ix
2022  0712  C9          	ret
2023  0713              	SECTION rodata_compiler
2024  0000              ___str_0:
2025  0000  53 43 52 3A 	DEFM "SCR:"
2026  0004  00          	DEFB 0x00
2027  0005              	SECTION code_compiler
2028  0713              ;	---------------------------------
2029  0713              ; Function spr_redraw
2030  0713              ; ---------------------------------
2031  0713              _spr_redraw:
2032  0713  2A 00 00    	ld	hl,(_sprite)
2033  0716  26 00       	ld	h,0x00
2034  0718  01 00 00    	ld	bc,_col
2035  071B  09          	add	hl,bc
2036  071C  7E          	ld	a,(hl)
2037  071D  32 00 00    	ld	(_s_col1),a
2038  0720  2A 00 00    	ld	hl,(_sprite)
2039  0723  26 00       	ld	h,0x00
2040  0725  01 00 00    	ld	bc,_lin
2041  0728  09          	add	hl,bc
2042  0729  7E          	ld	a,(hl)
2043  072A  32 00 00    	ld	(_s_lin1),a
2044  072D  21 00 00    	ld	hl,_s_lin0
2045  0730  96          	sub	a, (hl)
2046  0731  20 09       	jr	NZ,l_spr_redraw_00109
2047  0733  3A 00 00    	ld	a,(_s_col1)
2048  0736  21 00 00    	ld	hl,_s_col0
2049  0739  96          	sub	a, (hl)
2050  073A  28 5B       	jr	Z,l_spr_redraw_00110
2051  073C              l_spr_redraw_00109:
2052  073C  3A 00 00    	ld	a,(_sprite)
2053  073F  D6 07       	sub	a,0x07
2054  0741  20 08       	jr	NZ,l_spr_redraw_00105
2055  0743  CD 00 00    	call	_player_anim_tile
2056  0746  CD EA 09    	call	_spr_back_repaint
2057  0749  18 35       	jr	l_spr_redraw_00106
2058  074B              l_spr_redraw_00105:
2059  074B  2A 00 00    	ld	hl,(_sprite)
2060  074E  26 00       	ld	h,0x00
2061  0750  01 00 00    	ld	bc,_tile
2062  0753  09          	add	hl,bc
2063  0754  4E          	ld	c, (hl)
2064  0755  3A 00 00    	ld	a,(_sprite)
2065  0758  5F          	ld	e,a
2066  0759  16 00       	ld	d,0x00
2067  075B  21 00 00    	ld	hl,_colint
2068  075E  19          	add	hl,de
2069  075F  7E          	ld	a,(hl)
2070  0760  81          	add	a,c
2071  0761  32 00 00    	ld	(_s_tile1),a
2072  0764  3A 00 00    	ld	a,(_s_lin1)
2073  0767  E6 07       	and	a,0x07
2074  0769  20 05       	jr	NZ,l_spr_redraw_00102
2075  076B  CD EA 09    	call	_spr_back_repaint
2076  076E  18 10       	jr	l_spr_redraw_00106
2077  0770              l_spr_redraw_00102:
2078  0770  2A FF FF    	ld	hl,(_s_col0 - 1)
2079  0773  3A 00 00    	ld	a,(_s_lin0)
2080  0776  6F          	ld	l,a
2081  0777  3A 00 00    	ld	a,(_map_paper_clr)
2082  077A  E5          	push	hl
2083  077B  F5          	push	af
2084  077C  33          	inc	sp
2085  077D  CD 00 00    	call	_NIRVANAP_fillT_callee
2086  0780              l_spr_redraw_00106:
2087  0780  2A FF FF    	ld	hl,(_s_col1 - 1)
2088  0783  3A 00 00    	ld	a,(_s_lin1)
2089  0786  6F          	ld	l,a
2090  0787  E5          	push	hl
2091  0788  2A FF FF    	ld	hl,(_s_tile1 - 1)
2092  078B  3A 00 00    	ld	a,(_sprite)
2093  078E  6F          	ld	l,a
2094  078F  E5          	push	hl
2095  0790  CD 00 00    	call	_NIRVANAP_spriteT_callee
2096  0793  2E 01       	ld	l,0x01
2097  0795  18 4B       	jr	l_spr_redraw_00113
2098  0797              l_spr_redraw_00110:
2099  0797  3A 00 00    	ld	a,(_sprite)
2100  079A  07          	rlca
2101  079B  07          	rlca
2102  079C  07          	rlca
2103  079D  E6 F8       	and	a,0xf8
2104  079F  4F          	ld	c, a
2105  07A0  06 00       	ld	b,0x00
2106  07A2  21 98 DC    	ld	hl,0xdc98
2107  07A5  09          	add	hl, bc
2108  07A6  7E          	ld	a, (hl)
2109  07A7  32 00 00    	ld	(_s_tile0),a
2110  07AA  2A 00 00    	ld	hl,(_sprite)
2111  07AD  26 00       	ld	h,0x00
2112  07AF  01 00 00    	ld	bc,_tile
2113  07B2  09          	add	hl,bc
2114  07B3  4E          	ld	c, (hl)
2115  07B4  3A 00 00    	ld	a,(_sprite)
2116  07B7  5F          	ld	e,a
2117  07B8  16 00       	ld	d,0x00
2118  07BA  21 00 00    	ld	hl,_colint
2119  07BD  19          	add	hl,de
2120  07BE  7E          	ld	a,(hl)
2121  07BF  81          	add	a,c
2122  07C0  32 00 00    	ld	(_s_tile1),a
2123  07C3  21 00 00    	ld	hl,_s_tile0
2124  07C6  96          	sub	a, (hl)
2125  07C7  28 17       	jr	Z,l_spr_redraw_00111
2126  07C9  2A FF FF    	ld	hl,(_s_col1 - 1)
2127  07CC  3A 00 00    	ld	a,(_s_lin1)
2128  07CF  6F          	ld	l,a
2129  07D0  E5          	push	hl
2130  07D1  2A FF FF    	ld	hl,(_s_tile1 - 1)
2131  07D4  3A 00 00    	ld	a,(_sprite)
2132  07D7  6F          	ld	l,a
2133  07D8  E5          	push	hl
2134  07D9  CD 00 00    	call	_NIRVANAP_spriteT_callee
2135  07DC  2E 00       	ld	l,0x00
2136  07DE  18 02       	jr	l_spr_redraw_00113
2137  07E0              l_spr_redraw_00111:
2138  07E0  2E 00       	ld	l,0x00
2139  07E2              l_spr_redraw_00113:
2140  07E2  C9          	ret
2141  07E3              	SECTION code_compiler
2142  07E3              ;	---------------------------------
2143  07E3              ; Function spr_destroy
2144  07E3              ; ---------------------------------
2145  07E3              _spr_destroy:
2146  07E3  CD 00 00    	call	___sdcc_enter_ix
2147  07E6  F5          	push	af
2148  07E7  F5          	push	af
2149  07E8  45          	ld	b, l
2150  07E9  21 00 00    	ld	hl,_spr_count
2151  07EC  35          	dec	(hl)
2152  07ED  3E 00       	ld	a, +((_lin) & 0xFF)
2153  07EF  80          	add	a, b
2154  07F0  DD 77 FE    	ld	(ix-2),a
2155  07F3  6F          	ld	l,a
2156  07F4  3E 00       	ld	a,+((_lin) / 256)
2157  07F6  CE 00       	adc	a,0x00
2158  07F8  DD 77 FF    	ld	(ix-1),a
2159  07FB  67          	ld	h,a
2160  07FC  7E          	ld	a, (hl)
2161  07FD  32 00 00    	ld	(_s_lin0),a
2162  0800  3E 00       	ld	a, +((_col) & 0xFF)
2163  0802  80          	add	a, b
2164  0803  DD 77 FC    	ld	(ix-4),a
2165  0806  3E 00       	ld	a, +((_col) / 256)
2166  0808  CE 00       	adc	a,0x00
2167  080A  DD 77 FD    	ld	(ix-3),a
2168  080D  E1          	pop	hl
2169  080E  7E          	ld	a,(hl)
2170  080F  E5          	push	hl
2171  0810  32 00 00    	ld	(_s_col0),a
2172  0813  C5          	push	bc
2173  0814  F5          	push	af
2174  0815  33          	inc	sp
2175  0816  3A 00 00    	ld	a,(_s_lin0)
2176  0819  F5          	push	af
2177  081A  33          	inc	sp
2178  081B  CD 00 00    	call	_spr_calc_index
2179  081E  F1          	pop	af
2180  081F  EB          	ex	de,hl
2181  0820  C1          	pop	bc
2182  0821  EB          	ex	de,hl
2183  0822  22 00 00    	ld	(_index0),hl
2184  0825  C5          	push	bc
2185  0826  CD 00 00    	call	_game_match_back
2186  0829  C1          	pop	bc
2187  082A  7D          	ld	a,l
2188  082B  32 00 00    	ld	(_s_tile0),a
2189  082E  C5          	push	bc
2190  082F  21 00 00    	ld	hl,0x0000
2191  0832  E5          	push	hl
2192  0833  48          	ld	c,b
2193  0834  47          	ld	b,a
2194  0835  C5          	push	bc
2195  0836  CD 00 00    	call	_NIRVANAP_spriteT_callee
2196  0839  CD EA 09    	call	_spr_back_repaint
2197  083C  C1          	pop	bc
2198  083D  3E 00       	ld	a, +((_tile) & 0xFF)
2199  083F  80          	add	a, b
2200  0840  5F          	ld	e, a
2201  0841  3E 00       	ld	a, +((_tile) / 256)
2202  0843  CE 00       	adc	a,0x00
2203  0845  E1          	pop	hl
2204  0846  57          	ld	d,a
2205  0847  3A 00 00    	ld	a,(_s_tile0)
2206  084A  12          	ld	(de),a
2207  084B  E5          	push	hl
2208  084C  36 00       	ld	(hl),0x00
2209  084E  DD 6E FE    	ld	l,(ix-2)
2210  0851  DD 66 FF    	ld	h,(ix-1)
2211  0854  36 00       	ld	(hl),0x00
2212  0856  11 00 00    	ld	de,_class+0
2213  0859  68          	ld	l,b
2214  085A  26 00       	ld	h,0x00
2215  085C  19          	add	hl, de
2216  085D  36 00       	ld	(hl),0x00
2217  085F  11 00 00    	ld	de,_state+0
2218  0862  68          	ld	l,b
2219  0863  26 00       	ld	h,0x00
2220  0865  19          	add	hl, de
2221  0866  36 00       	ld	(hl),0x00
2222  0868  11 00 00    	ld	de,_state_a+0
2223  086B  68          	ld	l,b
2224  086C  26 00       	ld	h,0x00
2225  086E  19          	add	hl, de
2226  086F  36 00       	ld	(hl),0x00
2227  0871  DD F9       	ld	sp, ix
2228  0873  DD E1       	pop	ix
2229  0875  C9          	ret
2230  0876              	SECTION code_compiler
2231  0876              ;	---------------------------------
2232  0876              ; Function spr_tile
2233  0876              ; ---------------------------------
2234  0876              _spr_tile:
2235  0876  CD 00 00    	call	___sdcc_enter_ix
2236  0879  3B          	dec	sp
2237  087A  4D          	ld	c, l
2238  087B  44          	ld	b, h
2239  087C  21 00 00    	ld	hl,_tmp0
2240  087F  36 00       	ld	(hl),0x00
2241  0881  11 00 00    	ld	de,_class+0
2242  0884  0A          	ld	a, (bc)
2243  0885  6F          	ld	l, a
2244  0886  26 00       	ld	h,0x00
2245  0888  19          	add	hl, de
2246  0889  7E          	ld	a, (hl)
2247  088A  DD 77 FF    	ld	(ix-1),a
2248  088D              l_spr_tile_00103:
2249  088D  21 00 00    	ld	hl,_tmp0
2250  0890  7E          	ld	a, (hl)
2251  0891  D6 14       	sub	a,0x14
2252  0893  30 41       	jr	NC,l_spr_tile_00105
2253  0895  7E          	ld	a, (hl)
2254  0896  5F          	ld	e, a
2255  0897  87          	add	a, a
2256  0898  83          	add	a, e
2257  0899  21 00 00    	ld	hl,_tmp1
2258  089C  77          	ld	(hl), a
2259  089D  C6 00       	add	a,+((_spr_map_tile) & 0xFF)
2260  089F  5F          	ld	e, a
2261  08A0  3E 00       	ld	a, +((_spr_map_tile) / 256)
2262  08A2  CE 00       	adc	a,0x00
2263  08A4  57          	ld	d, a
2264  08A5  1A          	ld	a, (de)
2265  08A6  5F          	ld	e, a
2266  08A7  DD 7E FF    	ld	a,(ix-1)
2267  08AA  93          	sub	a, e
2268  08AB  20 23       	jr	NZ,l_spr_tile_00102
2269  08AD  6E          	ld	l,(hl)
2270  08AE  26 00       	ld	h,0x00
2271  08B0  5D          	ld	e,l
2272  08B1  54          	ld	d,h
2273  08B2  23          	inc	hl
2274  08B3  23          	inc	hl
2275  08B4  3E 00       	ld	a, +((_spr_map_tile) & 0xFF)
2276  08B6  85          	add	a, l
2277  08B7  6F          	ld	l, a
2278  08B8  3E 00       	ld	a, +((_spr_map_tile) / 256)
2279  08BA  8C          	adc	a, h
2280  08BB  67          	ld	h, a
2281  08BC  13          	inc	de
2282  08BD  3E 00       	ld	a, +((_spr_map_tile) & 0xFF)
2283  08BF  83          	add	a, e
2284  08C0  5F          	ld	e, a
2285  08C1  3E 00       	ld	a, +((_spr_map_tile) / 256)
2286  08C3  8A          	adc	a, d
2287  08C4  57          	ld	d, a
2288  08C5  E5          	push	hl
2289  08C6  C5          	push	bc
2290  08C7  D5          	push	de
2291  08C8  CD DC 08    	call	_spr_tile_dir
2292  08CB  F1          	pop	af
2293  08CC  F1          	pop	af
2294  08CD  F1          	pop	af
2295  08CE  18 08       	jr	l_spr_tile_00106
2296  08D0              l_spr_tile_00102:
2297  08D0  21 00 00    	ld	hl,_tmp0
2298  08D3  34          	inc	(hl)
2299  08D4  18 B7       	jr	l_spr_tile_00103
2300  08D6              l_spr_tile_00105:
2301  08D6  2E 00       	ld	l,0x00
2302  08D8              l_spr_tile_00106:
2303  08D8  33          	inc	sp
2304  08D9  DD E1       	pop	ix
2305  08DB  C9          	ret
2306  08DC              	SECTION code_compiler
2307  08DC              ;	---------------------------------
2308  08DC              ; Function spr_tile_dir
2309  08DC              ; ---------------------------------
2310  08DC              _spr_tile_dir:
2311  08DC  CD 00 00    	call	___sdcc_enter_ix
2312  08DF  F5          	push	af
2313  08E0  01 00 00    	ld	bc,_state+0
2314  08E3  DD 5E 06    	ld	e,(ix+6)
2315  08E6  DD 56 07    	ld	d,(ix+7)
2316  08E9  1A          	ld	a, (de)
2317  08EA  5F          	ld	e,a
2318  08EB  6F          	ld	l,a
2319  08EC  26 00       	ld	h,0x00
2320  08EE  09          	add	hl, bc
2321  08EF  46          	ld	b, (hl)
2322  08F0  DD 6E 04    	ld	l,(ix+4)
2323  08F3  DD 66 05    	ld	h,(ix+5)
2324  08F6  4E          	ld	c, (hl)
2325  08F7  CB 50       	bit	2, b
2326  08F9  28 03       	jr	Z,l_spr_tile_dir_00102
2327  08FB  69          	ld	l, c
2328  08FC  18 2F       	jr	l_spr_tile_dir_00109
2329  08FE              l_spr_tile_dir_00102:
2330  08FE  DD 7E 08    	ld	a,(ix+8)
2331  0901  DD 77 FE    	ld	(ix-2),a
2332  0904  DD 7E 09    	ld	a,(ix+9)
2333  0907  DD 77 FF    	ld	(ix-1),a
2334  090A  CB 58       	bit	3, b
2335  090C  28 06       	jr	Z,l_spr_tile_dir_00104
2336  090E  E1          	pop	hl
2337  090F  E5          	push	hl
2338  0910  6E          	ld	l, (hl)
2339  0911  09          	add	hl, bc
2340  0912  18 19       	jr	l_spr_tile_dir_00109
2341  0914              l_spr_tile_dir_00104:
2342  0914  16 00       	ld	d,0x00
2343  0916  21 00 00    	ld	hl,_state_a
2344  0919  19          	add	hl, de
2345  091A  46          	ld	b, (hl)
2346  091B  CB 60       	bit	4, b
2347  091D  28 03       	jr	Z,l_spr_tile_dir_00106
2348  091F  69          	ld	l, c
2349  0920  18 0B       	jr	l_spr_tile_dir_00109
2350  0922              l_spr_tile_dir_00106:
2351  0922  CB 58       	bit	3, b
2352  0924  28 06       	jr	Z,l_spr_tile_dir_00108
2353  0926  E1          	pop	hl
2354  0927  E5          	push	hl
2355  0928  6E          	ld	l, (hl)
2356  0929  09          	add	hl, bc
2357  092A  18 01       	jr	l_spr_tile_dir_00109
2358  092C              l_spr_tile_dir_00108:
2359  092C  69          	ld	l, c
2360  092D              l_spr_tile_dir_00109:
2361  092D  F1          	pop	af
2362  092E  DD E1       	pop	ix
2363  0930  C9          	ret
2364  0931              	SECTION code_compiler
2365  0931              ;	---------------------------------
2366  0931              ; Function spr_brick_anim
2367  0931              ; ---------------------------------
2368  0931              _spr_brick_anim:
2369  0931  CD 00 00    	call	___sdcc_enter_ix
2370  0934  F5          	push	af
2371  0935  DD 75 FF    	ld	(ix-1),l
2372  0938  21 00 00    	ld	hl,_player_hit_col
2373  093B  46          	ld	b, (hl)
2374  093C  21 00 00    	ld	hl,_player_hit_lin
2375  093F  4E          	ld	c, (hl)
2376  0940  C5          	push	bc
2377  0941  C5          	push	bc
2378  0942  CD 00 00    	call	_spr_calc_index
2379  0945  F1          	pop	af
2380  0946  C1          	pop	bc
2381  0947  22 00 00    	ld	(_index1),hl
2382  094A  11 F0 FF    	ld	de,0xfff0
2383  094D  19          	add	hl,de
2384  094E  11 00 00    	ld	de,_scr_map
2385  0951  19          	add	hl, de
2386  0952  7E          	ld	a, (hl)
2387  0953  DD 77 FE    	ld	(ix-2),a
2388  0956  11 00 00    	ld	de,_scr_map
2389  0959  2A 00 00    	ld	hl,(_index1)
2390  095C  19          	add	hl,de
2391  095D  66          	ld	h, (hl)
2392  095E  EB          	ex	de,hl
2393  095F  DD 7E FF    	ld	a,(ix-1)
2394  0962  B7          	or	a, a
2395  0963  28 08       	jr	Z,l_spr_brick_anim_00102
2396  0965  79          	ld	a, c
2397  0966  C6 F6       	add	a,0xf6
2398  0968  32 00 00    	ld	(_tmp),a
2399  096B  18 06       	jr	l_spr_brick_anim_00103
2400  096D              l_spr_brick_anim_00102:
2401  096D  79          	ld	a, c
2402  096E  C6 F8       	add	a,0xf8
2403  0970  32 00 00    	ld	(_tmp),a
2404  0973              l_spr_brick_anim_00103:
2405  0973  F3          	di
2406  0974  DD 7E FF    	ld	a,(ix-1)
2407  0977  B7          	or	a, a
2408  0978  28 18       	jr	Z,l_spr_brick_anim_00105
2409  097A  3A 00 00    	ld	a,(_map_paper_clr)
2410  097D  C5          	push	bc
2411  097E  D5          	push	de
2412  097F  C5          	push	bc
2413  0980  F5          	push	af
2414  0981  33          	inc	sp
2415  0982  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2416  0985  D1          	pop	de
2417  0986  33          	inc	sp
2418  0987  3A 00 00    	ld	a,(_tmp)
2419  098A  5A          	ld	e,d
2420  098B  57          	ld	d,a
2421  098C  D5          	push	de
2422  098D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2423  0990  18 1C       	jr	l_spr_brick_anim_00106
2424  0992              l_spr_brick_anim_00105:
2425  0992  3A 00 00    	ld	a,(_tmp)
2426  0995  C6 F0       	add	a,0xf0
2427  0997  C5          	push	bc
2428  0998  D5          	push	de
2429  0999  4F          	ld	c,a
2430  099A  C5          	push	bc
2431  099B  DD 7E FE    	ld	a,(ix-2)
2432  099E  F5          	push	af
2433  099F  33          	inc	sp
2434  09A0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2435  09A3  D1          	pop	de
2436  09A4  33          	inc	sp
2437  09A5  3A 00 00    	ld	a,(_tmp)
2438  09A8  5A          	ld	e,d
2439  09A9  57          	ld	d,a
2440  09AA  D5          	push	de
2441  09AB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2442  09AE              l_spr_brick_anim_00106:
2443  09AE  FB          	ei
2444  09AF  F1          	pop	af
2445  09B0  DD E1       	pop	ix
2446  09B2  C9          	ret
2447  09B3              	SECTION code_compiler
2448  09B3              ;	---------------------------------
2449  09B3              ; Function spr_draw_index
2450  09B3              ; ---------------------------------
2451  09B3              _spr_draw_index:
2452  09B3  7E          	ld	a,(hl)
2453  09B4  5F          	ld	e,a
2454  09B5  E6 0F       	and	a,0x0f
2455  09B7  87          	add	a,a
2456  09B8  32 00 00    	ld	(_s_col1),a
2457  09BB  4D          	ld	c,l
2458  09BC  44          	ld	b,h
2459  09BD  21 00 00    	ld	hl,_s_lin1
2460  09C0  73          	ld	(hl),e
2461  09C1  7B          	ld	a,e
2462  09C2  07          	rlca
2463  09C3  07          	rlca
2464  09C4  07          	rlca
2465  09C5  07          	rlca
2466  09C6  E6 0F       	and	a,0x0f
2467  09C8  07          	rlca
2468  09C9  07          	rlca
2469  09CA  07          	rlca
2470  09CB  07          	rlca
2471  09CC  E6 F0       	and	a,0xf0
2472  09CE  77          	ld	(hl), a
2473  09CF  F3          	di
2474  09D0  69          	ld	l, c
2475  09D1  60          	ld	h, b
2476  09D2  4E          	ld	c, (hl)
2477  09D3  23          	inc	hl
2478  09D4  46          	ld	b, (hl)
2479  09D5  21 00 00    	ld	hl,_scr_map
2480  09D8  09          	add	hl, bc
2481  09D9  46          	ld	b, (hl)
2482  09DA  3A 00 00    	ld	a,(_s_col1)
2483  09DD  F5          	push	af
2484  09DE  33          	inc	sp
2485  09DF  3A 00 00    	ld	a,(_s_lin1)
2486  09E2  48          	ld	c,b
2487  09E3  47          	ld	b,a
2488  09E4  C5          	push	bc
2489  09E5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2490  09E8  FB          	ei
2491  09E9  C9          	ret
2492  09EA              	SECTION code_compiler
2493  09EA              ;	---------------------------------
2494  09EA              ; Function spr_back_repaint
2495  09EA              ; ---------------------------------
2496  09EA              _spr_back_repaint:
2497  09EA  CD 00 00    	call	___sdcc_enter_ix
2498  09ED  3B          	dec	sp
2499  09EE  3A 00 00    	ld	a,(_spr_hack)
2500  09F1  B7          	or	a, a
2501  09F2  20 02       	jr	NZ,l_spr_back_repaint_00102
2502  09F4  76          	halt
2503  09F5  F3          	di
2504  09F6              l_spr_back_repaint_00102:
2505  09F6  2A FF FF    	ld	hl,(_s_col0 - 1)
2506  09F9  3A 00 00    	ld	a,(_s_lin0)
2507  09FC  6F          	ld	l,a
2508  09FD  E5          	push	hl
2509  09FE  CD 00 00    	call	_spr_calc_index
2510  0A01  F1          	pop	af
2511  0A02  7D          	ld	a,l
2512  0A03  32 00 00    	ld	(_sprite_curr_index),a
2513  0A06  21 00 00    	ld	hl,_s_lin0
2514  0A09  7E          	ld	a, (hl)
2515  0A0A  E6 0F       	and	a,0x0f
2516  0A0C  DD 77 FF    	ld	(ix-1),a
2517  0A0F  7E          	ld	a,(hl)
2518  0A10  4F          	ld	c,a
2519  0A11  07          	rlca
2520  0A12  07          	rlca
2521  0A13  07          	rlca
2522  0A14  07          	rlca
2523  0A15  E6 0F       	and	a,0x0f
2524  0A17  07          	rlca
2525  0A18  07          	rlca
2526  0A19  07          	rlca
2527  0A1A  07          	rlca
2528  0A1B  E6 F0       	and	a,0xf0
2529  0A1D  47          	ld	b, a
2530  0A1E  21 00 00    	ld	hl,_s_col0
2531  0A21  CB 46       	bit	0, (hl)
2532  0A23  20 48       	jr	NZ,l_spr_back_repaint_00110
2533  0A25  2A 00 00    	ld	hl,(_sprite_curr_index)
2534  0A28  26 00       	ld	h,0x00
2535  0A2A  11 00 00    	ld	de,_scr_map
2536  0A2D  19          	add	hl,de
2537  0A2E  7E          	ld	a,(hl)
2538  0A2F  32 00 00    	ld	(_stp_tile),a
2539  0A32  3A 00 00    	ld	a,(_s_col0)
2540  0A35  32 00 00    	ld	(_stp_col),a
2541  0A38  DD 7E FF    	ld	a,(ix-1)
2542  0A3B  B7          	or	a, a
2543  0A3C  20 0A       	jr	NZ,l_spr_back_repaint_00104
2544  0A3E  21 00 00    	ld	hl,_stp_row
2545  0A41  71          	ld	(hl), c
2546  0A42  CD 16 0B    	call	_spr_tile_paint
2547  0A45  C3 0B 0B    	jp	l_spr_back_repaint_00111
2548  0A48              l_spr_back_repaint_00104:
2549  0A48  21 00 00    	ld	hl,_stp_row
2550  0A4B  70          	ld	(hl), b
2551  0A4C  CD 16 0B    	call	_spr_tile_paint
2552  0A4F  21 00 00    	ld	hl,_stp_row
2553  0A52  7E          	ld	a, (hl)
2554  0A53  C6 10       	add	a,0x10
2555  0A55  77          	ld	(hl), a
2556  0A56  2A 00 00    	ld	hl,(_sprite_curr_index)
2557  0A59  26 00       	ld	h,0x00
2558  0A5B  01 10 00    	ld	bc,0x0010
2559  0A5E  09          	add	hl,bc
2560  0A5F  11 00 00    	ld	de,_scr_map
2561  0A62  19          	add	hl, de
2562  0A63  7E          	ld	a, (hl)
2563  0A64  32 00 00    	ld	(_stp_tile),a
2564  0A67  CD 16 0B    	call	_spr_tile_paint
2565  0A6A  C3 0B 0B    	jp	l_spr_back_repaint_00111
2566  0A6D              l_spr_back_repaint_00110:
2567  0A6D  2A 00 00    	ld	hl,(_sprite_curr_index)
2568  0A70  26 00       	ld	h,0x00
2569  0A72  11 00 00    	ld	de,_scr_map
2570  0A75  19          	add	hl,de
2571  0A76  7E          	ld	a,(hl)
2572  0A77  32 00 00    	ld	(_stp_tile),a
2573  0A7A  3A 00 00    	ld	a,(_s_col0)
2574  0A7D  C6 FF       	add	a,0xff
2575  0A7F  32 00 00    	ld	(_stp_col),a
2576  0A82  DD 7E FF    	ld	a,(ix-1)
2577  0A85  B7          	or	a, a
2578  0A86  20 23       	jr	NZ,l_spr_back_repaint_00107
2579  0A88  21 00 00    	ld	hl,_stp_row
2580  0A8B  71          	ld	(hl), c
2581  0A8C  CD 16 0B    	call	_spr_tile_paint
2582  0A8F  21 00 00    	ld	hl,_sprite_curr_index
2583  0A92  4E          	ld	c,(hl)
2584  0A93  0C          	inc	c
2585  0A94  71          	ld	(hl),c
2586  0A95  06 00       	ld	b,0x00
2587  0A97  21 00 00    	ld	hl,_scr_map
2588  0A9A  09          	add	hl,bc
2589  0A9B  7E          	ld	a,(hl)
2590  0A9C  32 00 00    	ld	(_stp_tile),a
2591  0A9F  3A 00 00    	ld	a,(_s_col0)
2592  0AA2  3C          	inc	a
2593  0AA3  32 00 00    	ld	(_stp_col),a
2594  0AA6  CD 16 0B    	call	_spr_tile_paint
2595  0AA9  18 60       	jr	l_spr_back_repaint_00111
2596  0AAB              l_spr_back_repaint_00107:
2597  0AAB  21 00 00    	ld	hl,_stp_row
2598  0AAE  70          	ld	(hl), b
2599  0AAF  CD 16 0B    	call	_spr_tile_paint
2600  0AB2  3A 00 00    	ld	a,(_s_col0)
2601  0AB5  3C          	inc	a
2602  0AB6  32 00 00    	ld	(_stp_col),a
2603  0AB9  21 00 00    	ld	hl,_sprite_curr_index
2604  0ABC  4E          	ld	c,(hl)
2605  0ABD  0C          	inc	c
2606  0ABE  71          	ld	(hl),c
2607  0ABF  06 00       	ld	b,0x00
2608  0AC1  21 00 00    	ld	hl,_scr_map
2609  0AC4  09          	add	hl,bc
2610  0AC5  7E          	ld	a,(hl)
2611  0AC6  32 00 00    	ld	(_stp_tile),a
2612  0AC9  CD 16 0B    	call	_spr_tile_paint
2613  0ACC  3A 00 00    	ld	a,(_s_col0)
2614  0ACF  C6 FF       	add	a,0xff
2615  0AD1  32 00 00    	ld	(_stp_col),a
2616  0AD4  21 00 00    	ld	hl,_stp_row
2617  0AD7  7E          	ld	a, (hl)
2618  0AD8  C6 10       	add	a,0x10
2619  0ADA  77          	ld	(hl), a
2620  0ADB  21 00 00    	ld	hl,_sprite_curr_index
2621  0ADE  7E          	ld	a, (hl)
2622  0ADF  C6 0F       	add	a,0x0f
2623  0AE1  77          	ld	(hl), a
2624  0AE2  C6 00       	add	a,+((_scr_map) & 0xFF)
2625  0AE4  4F          	ld	c, a
2626  0AE5  3E 00       	ld	a, +((_scr_map) / 256)
2627  0AE7  CE 00       	adc	a,0x00
2628  0AE9  47          	ld	b, a
2629  0AEA  0A          	ld	a, (bc)
2630  0AEB  32 00 00    	ld	(_stp_tile),a
2631  0AEE  CD 16 0B    	call	_spr_tile_paint
2632  0AF1  21 00 00    	ld	hl,_sprite_curr_index
2633  0AF4  4E          	ld	c,(hl)
2634  0AF5  0C          	inc	c
2635  0AF6  71          	ld	(hl),c
2636  0AF7  06 00       	ld	b,0x00
2637  0AF9  21 00 00    	ld	hl,_scr_map
2638  0AFC  09          	add	hl,bc
2639  0AFD  7E          	ld	a,(hl)
2640  0AFE  32 00 00    	ld	(_stp_tile),a
2641  0B01  3A 00 00    	ld	a,(_s_col0)
2642  0B04  3C          	inc	a
2643  0B05  32 00 00    	ld	(_stp_col),a
2644  0B08  CD 16 0B    	call	_spr_tile_paint
2645  0B0B              l_spr_back_repaint_00111:
2646  0B0B  3A 00 00    	ld	a,(_spr_hack)
2647  0B0E  B7          	or	a, a
2648  0B0F  20 01       	jr	NZ,l_spr_back_repaint_00114
2649  0B11  FB          	ei
2650  0B12              l_spr_back_repaint_00114:
2651  0B12  33          	inc	sp
2652  0B13  DD E1       	pop	ix
2653  0B15  C9          	ret
2654  0B16              	SECTION code_compiler
2655  0B16              ;	---------------------------------
2656  0B16              ; Function spr_tile_paint
2657  0B16              ; ---------------------------------
2658  0B16              _spr_tile_paint:
2659  0B16  3A 00 00    	ld	a,(_stp_tile)
2660  0B19  B7          	or	a, a
2661  0B1A  20 12       	jr	NZ,l_spr_tile_paint_00108
2662  0B1C  2A FF FF    	ld	hl,(_stp_col - 1)
2663  0B1F  3A 00 00    	ld	a,(_stp_row)
2664  0B22  6F          	ld	l,a
2665  0B23  3A 00 00    	ld	a,(_map_paper_clr)
2666  0B26  E5          	push	hl
2667  0B27  F5          	push	af
2668  0B28  33          	inc	sp
2669  0B29  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2670  0B2C  18 63       	jr	l_spr_tile_paint_00110
2671  0B2E              l_spr_tile_paint_00108:
2672  0B2E  21 00 00    	ld	hl,_stp_tile
2673  0B31  7E          	ld	a, (hl)
2674  0B32  D6 80       	sub	a,0x80
2675  0B34  30 35       	jr	NC,l_spr_tile_paint_00105
2676  0B36  7E          	ld	a, (hl)
2677  0B37  D6 23       	sub	a,0x23
2678  0B39  28 12       	jr	Z,l_spr_tile_paint_00102
2679  0B3B  2A FF FF    	ld	hl,(_stp_col - 1)
2680  0B3E  3A 00 00    	ld	a,(_stp_row)
2681  0B41  6F          	ld	l,a
2682  0B42  3A 00 00    	ld	a,(_stp_tile)
2683  0B45  E5          	push	hl
2684  0B46  F5          	push	af
2685  0B47  33          	inc	sp
2686  0B48  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2687  0B4B  18 44       	jr	l_spr_tile_paint_00110
2688  0B4D              l_spr_tile_paint_00102:
2689  0B4D  2A 00 00    	ld	hl,(_sprite_curr_index)
2690  0B50  26 00       	ld	h,0x00
2691  0B52  CD 00 00    	call	_game_match_back
2692  0B55  7D          	ld	a,l
2693  0B56  32 00 00    	ld	(_stp_tile),a
2694  0B59  2A FF FF    	ld	hl,(_stp_col - 1)
2695  0B5C  3A 00 00    	ld	a,(_stp_row)
2696  0B5F  6F          	ld	l,a
2697  0B60  3A 00 00    	ld	a,(_stp_tile)
2698  0B63  E5          	push	hl
2699  0B64  F5          	push	af
2700  0B65  33          	inc	sp
2701  0B66  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2702  0B69  18 26       	jr	l_spr_tile_paint_00110
2703  0B6B              l_spr_tile_paint_00105:
2704  0B6B  3A 00 00    	ld	a,(_stp_tile)
2705  0B6E  C6 80       	add	a,0x80
2706  0B70  4F          	ld	c, a
2707  0B71  06 00       	ld	b,0x00
2708  0B73  21 00 00    	ld	hl,_anim_tile
2709  0B76  09          	add	hl, bc
2710  0B77  46          	ld	b, (hl)
2711  0B78  11 00 00    	ld	de,_anim_int+0
2712  0B7B  69          	ld	l,c
2713  0B7C  26 00       	ld	h,0x00
2714  0B7E  19          	add	hl, de
2715  0B7F  4E          	ld	c, (hl)
2716  0B80  78          	ld	a, b
2717  0B81  81          	add	a, c
2718  0B82  47          	ld	b, a
2719  0B83  3A 00 00    	ld	a,(_stp_col)
2720  0B86  F5          	push	af
2721  0B87  33          	inc	sp
2722  0B88  3A 00 00    	ld	a,(_stp_row)
2723  0B8B  48          	ld	c,b
2724  0B8C  47          	ld	b,a
2725  0B8D  C5          	push	bc
2726  0B8E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2727  0B91              l_spr_tile_paint_00110:
2728  0B91  C9          	ret
2729  0B92              	SECTION code_compiler
2730  0B92              ;	---------------------------------
2731  0B92              ; Function spr_init_effects
2732  0B92              ; ---------------------------------
2733  0B92              _spr_init_effects:
2734  0B92  01 00 00    	ld	bc,_anim_lin+0
2735  0B95  1E 00       	ld	e,0x00
2736  0B97              l_spr_init_effects_00102:
2737  0B97  6B          	ld	l,e
2738  0B98  26 00       	ld	h,0x00
2739  0B9A  09          	add	hl, bc
2740  0B9B  36 FF       	ld	(hl),0xff
2741  0B9D  16 00       	ld	d,0x00
2742  0B9F  21 00 00    	ld	hl,_bullet_col
2743  0BA2  19          	add	hl, de
2744  0BA3  36 FF       	ld	(hl),0xff
2745  0BA5  1C          	inc	e
2746  0BA6  3E 07       	ld	a,0x07
2747  0BA8  93          	sub	a, e
2748  0BA9  30 EC       	jr	NC,l_spr_init_effects_00102
2749  0BAB  21 00 00    	ld	hl,_bullet_count
2750  0BAE  36 00       	ld	(hl),0x00
2751  0BB0  21 00 00    	ld	hl,_anim_count
2752  0BB3  36 00       	ld	(hl),0x00
2753  0BB5  C9          	ret
2754  0BB6              	SECTION code_compiler
2755  0BB6              ;	---------------------------------
2756  0BB6              ; Function spr_add_anim
2757  0BB6              ; ---------------------------------
2758  0BB6              _spr_add_anim:
2759  0BB6  CD 00 00    	call	___sdcc_enter_ix
2760  0BB9  F5          	push	af
2761  0BBA  F5          	push	af
2762  0BBB  3B          	dec	sp
2763  0BBC  DD 7E 05    	ld	a,(ix+5)
2764  0BBF  D6 1F       	sub	a,0x1f
2765  0BC1  D2 84 0C    	jp	NC, l_spr_add_anim_00111
2766  0BC4  DD 7E 04    	ld	a,(ix+4)
2767  0BC7  D6 B8       	sub	a,0xb8
2768  0BC9  D2 84 0C    	jp	NC, l_spr_add_anim_00111
2769  0BCC  0E 00       	ld	c,0x00
2770  0BCE  DD 71 FD    	ld	(ix-3),c
2771  0BD1              l_spr_add_anim_00109:
2772  0BD1  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2773  0BD3  81          	add	a, c
2774  0BD4  5F          	ld	e, a
2775  0BD5  3E 00       	ld	a, +((_anim_lin) / 256)
2776  0BD7  CE 00       	adc	a,0x00
2777  0BD9  57          	ld	d, a
2778  0BDA  1A          	ld	a, (de)
2779  0BDB  3C          	inc	a
2780  0BDC  C2 7A 0C    	jp	NZ,l_spr_add_anim_00110
2781  0BDF  21 00 00    	ld	hl,_anim_count
2782  0BE2  34          	inc	(hl)
2783  0BE3  DD 7E 04    	ld	a,(ix+4)
2784  0BE6  12          	ld	(de), a
2785  0BE7  01 00 00    	ld	bc,_anim_col
2786  0BEA  DD 6E FD    	ld	l,(ix-3)
2787  0BED  26 00       	ld	h,0x00
2788  0BEF  09          	add	hl,bc
2789  0BF0  DD 75 FE    	ld	(ix-2),l
2790  0BF3  DD 74 FF    	ld	(ix-1),h
2791  0BF6  DD 7E 05    	ld	a,(ix+5)
2792  0BF9  77          	ld	(hl), a
2793  0BFA  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2794  0BFC  DD 86 FD    	add	a,(ix-3)
2795  0BFF  DD 77 FB    	ld	(ix-5),a
2796  0C02  3E 00       	ld	a, +((_anim_tile) / 256)
2797  0C04  CE 00       	adc	a,0x00
2798  0C06  DD 77 FC    	ld	(ix-4),a
2799  0C09  E1          	pop	hl
2800  0C0A  E5          	push	hl
2801  0C0B  DD 7E 06    	ld	a,(ix+6)
2802  0C0E  77          	ld	(hl), a
2803  0C0F  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2804  0C11  DD 86 FD    	add	a,(ix-3)
2805  0C14  4F          	ld	c, a
2806  0C15  3E 00       	ld	a, +((_anim_loop) / 256)
2807  0C17  CE 00       	adc	a,0x00
2808  0C19  47          	ld	b, a
2809  0C1A  DD 7E 08    	ld	a,(ix+8)
2810  0C1D  02          	ld	(bc), a
2811  0C1E  01 00 00    	ld	bc,_anim_int+0
2812  0C21  DD 6E FD    	ld	l,(ix-3)
2813  0C24  26 00       	ld	h,0x00
2814  0C26  09          	add	hl, bc
2815  0C27  36 FF       	ld	(hl),0xff
2816  0C29  3E 00       	ld	a, +((_anim_end) & 0xFF)
2817  0C2B  DD 86 FD    	add	a,(ix-3)
2818  0C2E  4F          	ld	c, a
2819  0C2F  3E 00       	ld	a, +((_anim_end) / 256)
2820  0C31  CE 00       	adc	a,0x00
2821  0C33  47          	ld	b, a
2822  0C34  DD 7E 07    	ld	a,(ix+7)
2823  0C37  02          	ld	(bc), a
2824  0C38  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2825  0C3A  DD 86 FD    	add	a,(ix-3)
2826  0C3D  4F          	ld	c, a
2827  0C3E  3E 00       	ld	a, +((_anim_respanwn) / 256)
2828  0C40  CE 00       	adc	a,0x00
2829  0C42  47          	ld	b, a
2830  0C43  DD 7E 09    	ld	a,(ix+9)
2831  0C46  02          	ld	(bc), a
2832  0C47  F3          	di
2833  0C48  DD 6E FE    	ld	l,(ix-2)
2834  0C4B  DD 66 FF    	ld	h,(ix-1)
2835  0C4E  46          	ld	b, (hl)
2836  0C4F  E1          	pop	hl
2837  0C50  1A          	ld	a,(de)
2838  0C51  56          	ld	d,(hl)
2839  0C52  E5          	push	hl
2840  0C53  C5          	push	bc
2841  0C54  33          	inc	sp
2842  0C55  5A          	ld	e,d
2843  0C56  57          	ld	d,a
2844  0C57  D5          	push	de
2845  0C58  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2846  0C5B  FB          	ei
2847  0C5C  DD 66 05    	ld	h,(ix+5)
2848  0C5F  DD 6E 04    	ld	l,(ix+4)
2849  0C62  E5          	push	hl
2850  0C63  CD 00 00    	call	_spr_calc_index
2851  0C66  F1          	pop	af
2852  0C67  22 00 00    	ld	(_index0),hl
2853  0C6A  01 00 00    	ld	bc,_scr_map
2854  0C6D  09          	add	hl,bc
2855  0C6E  7E          	ld	a,(hl)
2856  0C6F  B7          	or	a,a
2857  0C70  20 12       	jr	NZ,l_spr_add_anim_00111
2858  0C72  DD 7E FD    	ld	a,(ix-3)
2859  0C75  C6 80       	add	a,0x80
2860  0C77  77          	ld	(hl),a
2861  0C78  18 0A       	jr	l_spr_add_anim_00111
2862  0C7A              l_spr_add_anim_00110:
2863  0C7A  0C          	inc	c
2864  0C7B  DD 71 FD    	ld	(ix-3),c
2865  0C7E  79          	ld	a, c
2866  0C7F  D6 08       	sub	a,0x08
2867  0C81  DA D1 0B    	jp	C, l_spr_add_anim_00109
2868  0C84              l_spr_add_anim_00111:
2869  0C84  DD F9       	ld	sp, ix
2870  0C86  DD E1       	pop	ix
2871  0C88  C9          	ret
2872  0C89              	SECTION code_compiler
2873  0C89              ;	---------------------------------
2874  0C89              ; Function spr_play_anim
2875  0C89              ; ---------------------------------
2876  0C89              _spr_play_anim:
2877  0C89  CD 00 00    	call	___sdcc_enter_ix
2878  0C8C  F5          	push	af
2879  0C8D  F5          	push	af
2880  0C8E  0E 00       	ld	c,0x00
2881  0C90              l_spr_play_anim_00114:
2882  0C90  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2883  0C92  81          	add	a, c
2884  0C93  DD 77 FE    	ld	(ix-2),a
2885  0C96  6F          	ld	l,a
2886  0C97  3E 00       	ld	a,+((_anim_lin) / 256)
2887  0C99  CE 00       	adc	a,0x00
2888  0C9B  DD 77 FF    	ld	(ix-1),a
2889  0C9E  67          	ld	h,a
2890  0C9F  46          	ld	b, (hl)
2891  0CA0  04          	inc	b
2892  0CA1  CA 88 0D    	jp	Z,l_spr_play_anim_00115
2893  0CA4  3E 00       	ld	a, +((_anim_int) & 0xFF)
2894  0CA6  81          	add	a, c
2895  0CA7  5F          	ld	e, a
2896  0CA8  3E 00       	ld	a, +((_anim_int) / 256)
2897  0CAA  CE 00       	adc	a,0x00
2898  0CAC  57          	ld	d, a
2899  0CAD  1A          	ld	a, (de)
2900  0CAE  3C          	inc	a
2901  0CAF  47          	ld	b,a
2902  0CB0  12          	ld	(de), a
2903  0CB1  3E 00       	ld	a, +((_anim_end) & 0xFF)
2904  0CB3  81          	add	a, c
2905  0CB4  6F          	ld	l, a
2906  0CB5  3E 00       	ld	a, +((_anim_end) / 256)
2907  0CB7  CE 00       	adc	a,0x00
2908  0CB9  67          	ld	h, a
2909  0CBA  6E          	ld	l, (hl)
2910  0CBB  78          	ld	a, b
2911  0CBC  95          	sub	a, l
2912  0CBD  30 2E       	jr	NC,l_spr_play_anim_00109
2913  0CBF  76          	halt
2914  0CC0  F3          	di
2915  0CC1  06 00       	ld	b,0x00
2916  0CC3  21 00 00    	ld	hl,_anim_col
2917  0CC6  09          	add	hl, bc
2918  0CC7  7E          	ld	a, (hl)
2919  0CC8  DD 77 FD    	ld	(ix-3),a
2920  0CCB  06 00       	ld	b,0x00
2921  0CCD  21 00 00    	ld	hl,_anim_tile
2922  0CD0  09          	add	hl,bc
2923  0CD1  7E          	ld	a,(hl)
2924  0CD2  47          	ld	b,a
2925  0CD3  DD 77 FC    	ld	(ix-4),a
2926  0CD6  1A          	ld	a, (de)
2927  0CD7  5F          	ld	e, a
2928  0CD8  DD 7E FC    	ld	a,(ix-4)
2929  0CDB  83          	add	a, e
2930  0CDC  57          	ld	d, a
2931  0CDD  C5          	push	bc
2932  0CDE  DD 7E FD    	ld	a,(ix-3)
2933  0CE1  F5          	push	af
2934  0CE2  33          	inc	sp
2935  0CE3  4A          	ld	c, d
2936  0CE4  C5          	push	bc
2937  0CE5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2938  0CE8  C1          	pop	bc
2939  0CE9  FB          	ei
2940  0CEA  C3 88 0D    	jp	l_spr_play_anim_00115
2941  0CED              l_spr_play_anim_00109:
2942  0CED  06 00       	ld	b,0x00
2943  0CEF  21 00 00    	ld	hl,_anim_loop
2944  0CF2  09          	add	hl, bc
2945  0CF3  7E          	ld	a,(hl)
2946  0CF4  47          	ld	b,a
2947  0CF5  B7          	or	a, a
2948  0CF6  C2 83 0D    	jp	NZ, l_spr_play_anim_00106
2949  0CF9  21 00 00    	ld	hl,_anim_count
2950  0CFC  35          	dec	(hl)
2951  0CFD  06 00       	ld	b,0x00
2952  0CFF  21 00 00    	ld	hl,_anim_col
2953  0D02  09          	add	hl, bc
2954  0D03  7E          	ld	a, (hl)
2955  0D04  32 00 00    	ld	(_s_col0),a
2956  0D07  DD 6E FE    	ld	l,(ix-2)
2957  0D0A  DD 66 FF    	ld	h,(ix-1)
2958  0D0D  7E          	ld	a, (hl)
2959  0D0E  32 00 00    	ld	(_s_lin0),a
2960  0D11  3A 00 00    	ld	a,(_s_col0)
2961  0D14  C5          	push	bc
2962  0D15  F5          	push	af
2963  0D16  33          	inc	sp
2964  0D17  3A 00 00    	ld	a,(_s_lin0)
2965  0D1A  F5          	push	af
2966  0D1B  33          	inc	sp
2967  0D1C  CD 00 00    	call	_spr_calc_index
2968  0D1F  F1          	pop	af
2969  0D20  2A FF FF    	ld	hl,(_s_col0 - 1)
2970  0D23  3A 00 00    	ld	a,(_s_lin0)
2971  0D26  6F          	ld	l,a
2972  0D27  E5          	push	hl
2973  0D28  CD 00 00    	call	_spr_calc_index
2974  0D2B  F1          	pop	af
2975  0D2C  EB          	ex	de,hl
2976  0D2D  C1          	pop	bc
2977  0D2E  21 00 00    	ld	hl,_scr_map
2978  0D31  19          	add	hl, de
2979  0D32  7E          	ld	a, (hl)
2980  0D33  D6 80       	sub	a,0x80
2981  0D35  38 2B       	jr	C,l_spr_play_anim_00102
2982  0D37  3A 00 00    	ld	a,(_s_col0)
2983  0D3A  C5          	push	bc
2984  0D3B  F5          	push	af
2985  0D3C  33          	inc	sp
2986  0D3D  3A 00 00    	ld	a,(_s_lin0)
2987  0D40  F5          	push	af
2988  0D41  33          	inc	sp
2989  0D42  CD 00 00    	call	_spr_calc_index
2990  0D45  F1          	pop	af
2991  0D46  EB          	ex	de,hl
2992  0D47  C1          	pop	bc
2993  0D48  EB          	ex	de,hl
2994  0D49  22 00 00    	ld	(_index0),hl
2995  0D4C  11 00 00    	ld	de,_scr_map
2996  0D4F  19          	add	hl,de
2997  0D50  EB          	ex	de,hl
2998  0D51  21 01 00    	ld	hl,_index0 + 1
2999  0D54  C5          	push	bc
3000  0D55  D5          	push	de
3001  0D56  2B          	dec	hl
3002  0D57  7E          	ld	a, (hl)
3003  0D58  23          	inc	hl
3004  0D59  66          	ld	h, (hl)
3005  0D5A  6F          	ld	l, a
3006  0D5B  CD 00 00    	call	_game_match_back
3007  0D5E  D1          	pop	de
3008  0D5F  C1          	pop	bc
3009  0D60  7D          	ld	a,l
3010  0D61  12          	ld	(de), a
3011  0D62              l_spr_play_anim_00102:
3012  0D62  76          	halt
3013  0D63  C5          	push	bc
3014  0D64  CD EA 09    	call	_spr_back_repaint
3015  0D67  C1          	pop	bc
3016  0D68  06 00       	ld	b,0x00
3017  0D6A  21 00 00    	ld	hl,_anim_respanwn
3018  0D6D  09          	add	hl, bc
3019  0D6E  7E          	ld	a,(hl)
3020  0D6F  47          	ld	b,a
3021  0D70  B7          	or	a, a
3022  0D71  28 06       	jr	Z,l_spr_play_anim_00104
3023  0D73  C5          	push	bc
3024  0D74  69          	ld	l, c
3025  0D75  CD 00 00    	call	_enemy_respawn
3026  0D78  C1          	pop	bc
3027  0D79              l_spr_play_anim_00104:
3028  0D79  DD 6E FE    	ld	l,(ix-2)
3029  0D7C  DD 66 FF    	ld	h,(ix-1)
3030  0D7F  36 FF       	ld	(hl),0xff
3031  0D81  18 05       	jr	l_spr_play_anim_00115
3032  0D83              l_spr_play_anim_00106:
3033  0D83  05          	dec	b
3034  0D84  70          	ld	(hl), b
3035  0D85  3E FF       	ld	a,0xff
3036  0D87  12          	ld	(de), a
3037  0D88              l_spr_play_anim_00115:
3038  0D88  0C          	inc	c
3039  0D89  79          	ld	a, c
3040  0D8A  D6 08       	sub	a,0x08
3041  0D8C  DA 90 0C    	jp	C, l_spr_play_anim_00114
3042  0D8F  DD F9       	ld	sp, ix
3043  0D91  DD E1       	pop	ix
3044  0D93  C9          	ret
3045  0D94              	SECTION code_compiler
3046  0D94              ;	---------------------------------
3047  0D94              ; Function spr_bullet_fireball
3048  0D94              ; ---------------------------------
3049  0D94              _spr_bullet_fireball:
3050  0D94  CD 00 00    	call	___sdcc_enter_ix
3051  0D97  3A 00 00    	ld	a,(_s_lin0)
3052  0D9A  4F          	ld	c,a
3053  0D9B  06 00       	ld	b,0x00
3054  0D9D  2A 00 00    	ld	hl,(_bullet)
3055  0DA0  60          	ld	h,b
3056  0DA1  11 00 00    	ld	de,_bullet_lin0
3057  0DA4  19          	add	hl,de
3058  0DA5  5E          	ld	e, (hl)
3059  0DA6  16 00       	ld	d,0x00
3060  0DA8  79          	ld	a, c
3061  0DA9  93          	sub	a, e
3062  0DAA  6F          	ld	l, a
3063  0DAB  78          	ld	a, b
3064  0DAC  9A          	sbc	a, d
3065  0DAD  67          	ld	h, a
3066  0DAE  CD 00 00    	call	_abs_fastcall
3067  0DB1  4D          	ld	c, l
3068  0DB2  44          	ld	b, h
3069  0DB3  21 00 00    	ld	hl,_s_lin0
3070  0DB6  5E          	ld	e, (hl)
3071  0DB7  3E 08       	ld	a,0x08
3072  0DB9  B9          	cp	a, c
3073  0DBA  3E 00       	ld	a,0x00
3074  0DBC  98          	sbc	a, b
3075  0DBD  E2 C2 0D    	jp	PO, l_spr_bullet_fireball_00110
3076  0DC0  EE 80       	xor	a,0x80
3077  0DC2              l_spr_bullet_fireball_00110:
3078  0DC2  FA DB 0D    	jp	M, l_spr_bullet_fireball_00102
3079  0DC5  7B          	ld	a, e
3080  0DC6  DD 86 04    	add	a,(ix+4)
3081  0DC9  32 00 00    	ld	(_s_lin0),a
3082  0DCC  2A 00 00    	ld	hl,(_bullet)
3083  0DCF  26 00       	ld	h,0x00
3084  0DD1  01 00 00    	ld	bc,_bullet_lin
3085  0DD4  09          	add	hl,bc
3086  0DD5  3A 00 00    	ld	a,(_s_lin0)
3087  0DD8  77          	ld	(hl),a
3088  0DD9  18 21       	jr	l_spr_bullet_fireball_00104
3089  0DDB              l_spr_bullet_fireball_00102:
3090  0DDB  7B          	ld	a, e
3091  0DDC  DD 96 04    	sub	a,(ix+4)
3092  0DDF  32 00 00    	ld	(_s_lin0),a
3093  0DE2  2A 00 00    	ld	hl,(_bullet)
3094  0DE5  26 00       	ld	h,0x00
3095  0DE7  01 00 00    	ld	bc,_bullet_lin
3096  0DEA  09          	add	hl,bc
3097  0DEB  3A 00 00    	ld	a,(_s_lin0)
3098  0DEE  77          	ld	(hl),a
3099  0DEF  2A 00 00    	ld	hl,(_bullet)
3100  0DF2  26 00       	ld	h,0x00
3101  0DF4  01 00 00    	ld	bc,_bullet_class
3102  0DF7  09          	add	hl,bc
3103  0DF8  DD 7E 05    	ld	a,(ix+5)
3104  0DFB  77          	ld	(hl),a
3105  0DFC              l_spr_bullet_fireball_00104:
3106  0DFC  DD E1       	pop	ix
3107  0DFE  C9          	ret
3108  0DFF              	SECTION code_compiler
3109  0DFF              ;	---------------------------------
3110  0DFF              ; Function spr_bullet_axe
3111  0DFF              ; ---------------------------------
3112  0DFF              _spr_bullet_axe:
3113  0DFF  2A 00 00    	ld	hl,(_bullet)
3114  0E02  26 00       	ld	h,0x00
3115  0E04  01 00 00    	ld	bc,_bullet_lin
3116  0E07  09          	add	hl,bc
3117  0E08  7E          	ld	a,(hl)
3118  0E09  32 00 00    	ld	(_s_lin0),a
3119  0E0C  2A 00 00    	ld	hl,(_bullet)
3120  0E0F  26 00       	ld	h,0x00
3121  0E11  01 00 00    	ld	bc,_bullet_col
3122  0E14  09          	add	hl,bc
3123  0E15  7E          	ld	a,(hl)
3124  0E16  C6 FF       	add	a,0xff
3125  0E18  32 00 00    	ld	(_s_col0),a
3126  0E1B  2A 00 00    	ld	hl,(_bullet)
3127  0E1E  26 00       	ld	h,0x00
3128  0E20  01 00 00    	ld	bc,_bullet_vel
3129  0E23  09          	add	hl,bc
3130  0E24  5E          	ld	e,(hl)
3131  0E25  4D          	ld	c,l
3132  0E26  44          	ld	b,h
3133  0E27  21 00 00    	ld	hl,_game_gravity
3134  0E2A  56          	ld	d, (hl)
3135  0E2B  7B          	ld	a, e
3136  0E2C  82          	add	a, d
3137  0E2D  02          	ld	(bc), a
3138  0E2E  2A 00 00    	ld	hl,(_bullet)
3139  0E31  26 00       	ld	h,0x00
3140  0E33  01 00 00    	ld	bc,_bullet_vel
3141  0E36  09          	add	hl,bc
3142  0E37  5E          	ld	e,(hl)
3143  0E38  3E 78       	ld	a,0x78
3144  0E3A  93          	sub	a,e
3145  0E3B  4D          	ld	c,l
3146  0E3C  44          	ld	b,h
3147  0E3D  E2 42 0E    	jp	PO, l_spr_bullet_axe_00128
3148  0E40  EE 80       	xor	a,0x80
3149  0E42              l_spr_bullet_axe_00128:
3150  0E42  F2 48 0E    	jp	P, l_spr_bullet_axe_00102
3151  0E45  3E 78       	ld	a,0x78
3152  0E47  02          	ld	(bc), a
3153  0E48              l_spr_bullet_axe_00102:
3154  0E48  2A 00 00    	ld	hl,(_bullet)
3155  0E4B  26 00       	ld	h,0x00
3156  0E4D  01 00 00    	ld	bc,_bullet_vel
3157  0E50  09          	add	hl,bc
3158  0E51  7E          	ld	a,(hl)
3159  0E52  EE 80       	xor	a,0x80
3160  0E54  D6 08       	sub	a,0x08
3161  0E56  30 02       	jr	NC,l_spr_bullet_axe_00104
3162  0E58  36 88       	ld	(hl),0x88
3163  0E5A              l_spr_bullet_axe_00104:
3164  0E5A  2A 00 00    	ld	hl,(_bullet)
3165  0E5D  26 00       	ld	h,0x00
3166  0E5F  01 00 00    	ld	bc,_bullet_vel
3167  0E62  09          	add	hl,bc
3168  0E63  7E          	ld	a,(hl)
3169  0E64  CB 47       	bit	0,a
3170  0E66  32 00 00    	ld	(_s_lin1),a
3171  0E69  28 04       	jr	Z,l_spr_bullet_axe_00106
3172  0E6B  21 00 00    	ld	hl,_s_lin1
3173  0E6E  35          	dec	(hl)
3174  0E6F              l_spr_bullet_axe_00106:
3175  0E6F  2A 00 00    	ld	hl,(_bullet)
3176  0E72  26 00       	ld	h,0x00
3177  0E74  01 00 00    	ld	bc,_bullet_lin
3178  0E77  09          	add	hl,bc
3179  0E78  7E          	ld	a,(hl)
3180  0E79  4D          	ld	c,l
3181  0E7A  44          	ld	b,h
3182  0E7B  21 00 00    	ld	hl,_s_lin1
3183  0E7E  86          	add	a, (hl)
3184  0E7F  21 00 00    	ld	hl,_s_lin0
3185  0E82  77          	ld	(hl), a
3186  0E83  3E 90       	ld	a,0x90
3187  0E85  96          	sub	a, (hl)
3188  0E86  30 11       	jr	NC,l_spr_bullet_axe_00108
3189  0E88  21 00 00    	ld	hl,_bullet_count
3190  0E8B  35          	dec	(hl)
3191  0E8C  2A 00 00    	ld	hl,(_bullet)
3192  0E8F  26 00       	ld	h,0x00
3193  0E91  01 00 00    	ld	bc,_bullet_col
3194  0E94  09          	add	hl,bc
3195  0E95  36 FF       	ld	(hl),0xff
3196  0E97  18 04       	jr	l_spr_bullet_axe_00110
3197  0E99              l_spr_bullet_axe_00108:
3198  0E99  3A 00 00    	ld	a,(_s_lin0)
3199  0E9C  02          	ld	(bc), a
3200  0E9D              l_spr_bullet_axe_00110:
3201  0E9D  C9          	ret
3202  0E9E              	SECTION code_compiler
3203  0E9E              ;	---------------------------------
3204  0E9E              ; Function spr_colision_b
3205  0E9E              ; ---------------------------------
3206  0E9E              _spr_colision_b:
3207  0E9E  CD 00 00    	call	___sdcc_enter_ix
3208  0EA1  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3209  0EA3  DD 86 05    	add	a,(ix+5)
3210  0EA6  4F          	ld	c, a
3211  0EA7  3E 00       	ld	a, +((_bullet_class) / 256)
3212  0EA9  CE 00       	adc	a,0x00
3213  0EAB  47          	ld	b, a
3214  0EAC  0A          	ld	a, (bc)
3215  0EAD  D6 04       	sub	a,0x04
3216  0EAF  20 69       	jr	NZ,l_spr_colision_b_00110
3217  0EB1  3E 00       	ld	a, +((_lin) & 0xFF)
3218  0EB3  DD 86 04    	add	a,(ix+4)
3219  0EB6  4F          	ld	c, a
3220  0EB7  3E 00       	ld	a, +((_lin) / 256)
3221  0EB9  CE 00       	adc	a,0x00
3222  0EBB  47          	ld	b, a
3223  0EBC  0A          	ld	a, (bc)
3224  0EBD  4F          	ld	c, a
3225  0EBE  06 00       	ld	b,0x00
3226  0EC0  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3227  0EC2  DD 86 05    	add	a,(ix+5)
3228  0EC5  5F          	ld	e, a
3229  0EC6  3E 00       	ld	a, +((_bullet_lin) / 256)
3230  0EC8  CE 00       	adc	a,0x00
3231  0ECA  57          	ld	d, a
3232  0ECB  1A          	ld	a, (de)
3233  0ECC  5F          	ld	e, a
3234  0ECD  16 00       	ld	d,0x00
3235  0ECF  79          	ld	a, c
3236  0ED0  93          	sub	a, e
3237  0ED1  6F          	ld	l, a
3238  0ED2  78          	ld	a, b
3239  0ED3  9A          	sbc	a, d
3240  0ED4  67          	ld	h, a
3241  0ED5  CD 00 00    	call	_abs_fastcall
3242  0ED8  7D          	ld	a,l
3243  0ED9  D6 10       	sub	a,0x10
3244  0EDB  7C          	ld	a,h
3245  0EDC  17          	rla
3246  0EDD  3F          	ccf
3247  0EDE  1F          	rra
3248  0EDF  DE 80       	sbc	a,0x80
3249  0EE1  D2 85 0F    	jp	NC, l_spr_colision_b_00111
3250  0EE4  3E 00       	ld	a, +((_col) & 0xFF)
3251  0EE6  DD 86 04    	add	a,(ix+4)
3252  0EE9  4F          	ld	c, a
3253  0EEA  3E 00       	ld	a, +((_col) / 256)
3254  0EEC  CE 00       	adc	a,0x00
3255  0EEE  47          	ld	b, a
3256  0EEF  0A          	ld	a, (bc)
3257  0EF0  4F          	ld	c, a
3258  0EF1  06 00       	ld	b,0x00
3259  0EF3  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3260  0EF5  DD 86 05    	add	a,(ix+5)
3261  0EF8  5F          	ld	e, a
3262  0EF9  3E 00       	ld	a, +((_bullet_col) / 256)
3263  0EFB  CE 00       	adc	a,0x00
3264  0EFD  57          	ld	d, a
3265  0EFE  1A          	ld	a, (de)
3266  0EFF  5F          	ld	e, a
3267  0F00  16 00       	ld	d,0x00
3268  0F02  79          	ld	a, c
3269  0F03  93          	sub	a, e
3270  0F04  6F          	ld	l, a
3271  0F05  78          	ld	a, b
3272  0F06  9A          	sbc	a, d
3273  0F07  67          	ld	h, a
3274  0F08  CD 00 00    	call	_abs_fastcall
3275  0F0B  7D          	ld	a,l
3276  0F0C  D6 02       	sub	a,0x02
3277  0F0E  7C          	ld	a,h
3278  0F0F  17          	rla
3279  0F10  3F          	ccf
3280  0F11  1F          	rra
3281  0F12  DE 80       	sbc	a,0x80
3282  0F14  30 6F       	jr	NC,l_spr_colision_b_00111
3283  0F16  2E 01       	ld	l,0x01
3284  0F18  18 6D       	jr	l_spr_colision_b_00112
3285  0F1A              l_spr_colision_b_00110:
3286  0F1A  3E 00       	ld	a, +((_lin) & 0xFF)
3287  0F1C  DD 86 04    	add	a,(ix+4)
3288  0F1F  4F          	ld	c, a
3289  0F20  3E 00       	ld	a, +((_lin) / 256)
3290  0F22  CE 00       	adc	a,0x00
3291  0F24  47          	ld	b, a
3292  0F25  0A          	ld	a, (bc)
3293  0F26  4F          	ld	c, a
3294  0F27  06 00       	ld	b,0x00
3295  0F29  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3296  0F2B  DD 86 05    	add	a,(ix+5)
3297  0F2E  5F          	ld	e, a
3298  0F2F  3E 00       	ld	a, +((_bullet_lin) / 256)
3299  0F31  CE 00       	adc	a,0x00
3300  0F33  57          	ld	d, a
3301  0F34  1A          	ld	a, (de)
3302  0F35  5F          	ld	e, a
3303  0F36  16 00       	ld	d,0x00
3304  0F38  79          	ld	a, c
3305  0F39  93          	sub	a, e
3306  0F3A  6F          	ld	l, a
3307  0F3B  78          	ld	a, b
3308  0F3C  9A          	sbc	a, d
3309  0F3D  67          	ld	h, a
3310  0F3E  CD 00 00    	call	_abs_fastcall
3311  0F41  3E 08       	ld	a,0x08
3312  0F43  BD          	cp	a,l
3313  0F44  3E 00       	ld	a,0x00
3314  0F46  9C          	sbc	a,h
3315  0F47  E2 4C 0F    	jp	PO, l_spr_colision_b_00136
3316  0F4A  EE 80       	xor	a,0x80
3317  0F4C              l_spr_colision_b_00136:
3318  0F4C  FA 85 0F    	jp	M, l_spr_colision_b_00111
3319  0F4F  3E 00       	ld	a, +((_col) & 0xFF)
3320  0F51  DD 86 04    	add	a,(ix+4)
3321  0F54  4F          	ld	c, a
3322  0F55  3E 00       	ld	a, +((_col) / 256)
3323  0F57  CE 00       	adc	a,0x00
3324  0F59  47          	ld	b, a
3325  0F5A  0A          	ld	a, (bc)
3326  0F5B  4F          	ld	c, a
3327  0F5C  06 00       	ld	b,0x00
3328  0F5E  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3329  0F60  DD 86 05    	add	a,(ix+5)
3330  0F63  5F          	ld	e, a
3331  0F64  3E 00       	ld	a, +((_bullet_col) / 256)
3332  0F66  CE 00       	adc	a,0x00
3333  0F68  57          	ld	d, a
3334  0F69  1A          	ld	a, (de)
3335  0F6A  5F          	ld	e, a
3336  0F6B  16 00       	ld	d,0x00
3337  0F6D  79          	ld	a, c
3338  0F6E  93          	sub	a, e
3339  0F6F  6F          	ld	l, a
3340  0F70  78          	ld	a, b
3341  0F71  9A          	sbc	a, d
3342  0F72  67          	ld	h, a
3343  0F73  CD 00 00    	call	_abs_fastcall
3344  0F76  7D          	ld	a,l
3345  0F77  D6 02       	sub	a,0x02
3346  0F79  7C          	ld	a,h
3347  0F7A  17          	rla
3348  0F7B  3F          	ccf
3349  0F7C  1F          	rra
3350  0F7D  DE 80       	sbc	a,0x80
3351  0F7F  30 04       	jr	NC,l_spr_colision_b_00111
3352  0F81  2E 01       	ld	l,0x01
3353  0F83  18 02       	jr	l_spr_colision_b_00112
3354  0F85              l_spr_colision_b_00111:
3355  0F85  2E 00       	ld	l,0x00
3356  0F87              l_spr_colision_b_00112:
3357  0F87  DD E1       	pop	ix
3358  0F89  C9          	ret
3359  0F8A              	SECTION code_compiler
3360  0F8A              ;	---------------------------------
3361  0F8A              ; Function spr_colision_b2
3362  0F8A              ; ---------------------------------
3363  0F8A              _spr_colision_b2:
3364  0F8A  3A 00 00    	ld	a,(_boss_lin)
3365  0F8D  5F          	ld	e,a
3366  0F8E  16 00       	ld	d,0x00
3367  0F90  01 07 00    	ld	bc,_bullet_lin+7
3368  0F93  0A          	ld	a, (bc)
3369  0F94  6F          	ld	l, a
3370  0F95  AF          	xor	a,a
3371  0F96  67          	ld	h,a
3372  0F97  EB          	ex	de,hl
3373  0F98  ED 52       	sbc	hl,de
3374  0F9A  CD 00 00    	call	_abs_fastcall
3375  0F9D  EB          	ex	de,hl
3376  0F9E  7B          	ld	a, e
3377  0F9F  D6 20       	sub	a,0x20
3378  0FA1  7A          	ld	a, d
3379  0FA2  17          	rla
3380  0FA3  3F          	ccf
3381  0FA4  1F          	rra
3382  0FA5  DE 80       	sbc	a,0x80
3383  0FA7  30 2A       	jr	NC,l_spr_colision_b2_00106
3384  0FA9  0A          	ld	a, (bc)
3385  0FAA  21 00 00    	ld	hl,_boss_lin
3386  0FAD  96          	sub	a, (hl)
3387  0FAE  38 23       	jr	C,l_spr_colision_b2_00106
3388  0FB0  3A 00 00    	ld	a,(_boss_col)
3389  0FB3  4F          	ld	c,a
3390  0FB4  06 00       	ld	b,0x00
3391  0FB6  ED 5B 07 00 	ld	de,(_bullet_col + 0x0007)
3392  0FBA  50          	ld	d,b
3393  0FBB  79          	ld	a, c
3394  0FBC  93          	sub	a, e
3395  0FBD  6F          	ld	l, a
3396  0FBE  78          	ld	a, b
3397  0FBF  9A          	sbc	a, d
3398  0FC0  67          	ld	h, a
3399  0FC1  CD 00 00    	call	_abs_fastcall
3400  0FC4  7D          	ld	a,l
3401  0FC5  D6 02       	sub	a,0x02
3402  0FC7  7C          	ld	a,h
3403  0FC8  17          	rla
3404  0FC9  3F          	ccf
3405  0FCA  1F          	rra
3406  0FCB  DE 80       	sbc	a,0x80
3407  0FCD  30 04       	jr	NC,l_spr_colision_b2_00106
3408  0FCF  2E 01       	ld	l,0x01
3409  0FD1  18 02       	jr	l_spr_colision_b2_00107
3410  0FD3              l_spr_colision_b2_00106:
3411  0FD3  2E 00       	ld	l,0x00
3412  0FD5              l_spr_colision_b2_00107:
3413  0FD5  C9          	ret
3414  0FD6              	SECTION code_compiler
3415  0FD6              ;	---------------------------------
3416  0FD6              ; Function spr_bullets_play
3417  0FD6              ; ---------------------------------
3418  0FD6              _spr_bullets_play:
3419  0FD6  CD 00 00    	call	___sdcc_enter_ix
3420  0FD9  F5          	push	af
3421  0FDA  21 00 00    	ld	hl,_bullet
3422  0FDD  36 00       	ld	(hl),0x00
3423  0FDF              l_spr_bullets_play_00143:
3424  0FDF  2A 00 00    	ld	hl,(_bullet)
3425  0FE2  26 00       	ld	h,0x00
3426  0FE4  01 00 00    	ld	bc,_bullet_col
3427  0FE7  09          	add	hl,bc
3428  0FE8  7E          	ld	a,(hl)
3429  0FE9  4F          	ld	c,a
3430  0FEA  3C          	inc	a
3431  0FEB  CA 28 12    	jp	Z,l_spr_bullets_play_00141
3432  0FEE  3A 00 00    	ld	a,(_bullet)
3433  0FF1  5F          	ld	e,a
3434  0FF2  16 00       	ld	d,0x00
3435  0FF4  21 00 00    	ld	hl,_bullet_lin
3436  0FF7  19          	add	hl,de
3437  0FF8  7E          	ld	a,(hl)
3438  0FF9  32 00 00    	ld	(_s_lin0),a
3439  0FFC  21 00 00    	ld	hl,_s_col0
3440  0FFF  71          	ld	(hl),c
3441  1000  DD 71 FE    	ld	(ix-2),c
3442  1003  CD EA 09    	call	_spr_back_repaint
3443  1006  2A 00 00    	ld	hl,(_bullet)
3444  1009  26 00       	ld	h,0x00
3445  100B  01 00 00    	ld	bc,_bullet_class
3446  100E  09          	add	hl,bc
3447  100F  7E          	ld	a,(hl)
3448  1010  FE 02       	cp	a,0x02
3449  1012  28 0A       	jr	Z,l_spr_bullets_play_00103
3450  1014  FE 03       	cp	a,0x03
3451  1016  28 10       	jr	Z,l_spr_bullets_play_00104
3452  1018  D6 04       	sub	a,0x04
3453  101A  28 16       	jr	Z,l_spr_bullets_play_00105
3454  101C  18 25       	jr	l_spr_bullets_play_00108
3455  101E              l_spr_bullets_play_00103:
3456  101E  21 FE 03    	ld	hl,0x03fe
3457  1021  E5          	push	hl
3458  1022  CD 94 0D    	call	_spr_bullet_fireball
3459  1025  F1          	pop	af
3460  1026  18 1B       	jr	l_spr_bullets_play_00108
3461  1028              l_spr_bullets_play_00104:
3462  1028  21 02 02    	ld	hl,0x0202
3463  102B  E5          	push	hl
3464  102C  CD 94 0D    	call	_spr_bullet_fireball
3465  102F  F1          	pop	af
3466  1030  18 11       	jr	l_spr_bullets_play_00108
3467  1032              l_spr_bullets_play_00105:
3468  1032  CD FF 0D    	call	_spr_bullet_axe
3469  1035  2A 00 00    	ld	hl,(_bullet)
3470  1038  26 00       	ld	h,0x00
3471  103A  01 00 00    	ld	bc,_bullet_col
3472  103D  09          	add	hl,bc
3473  103E  7E          	ld	a,(hl)
3474  103F  3C          	inc	a
3475  1040  CA 28 12    	jp	Z,l_spr_bullets_play_00141
3476  1043              l_spr_bullets_play_00108:
3477  1043  2A 00 00    	ld	hl,(_bullet)
3478  1046  26 00       	ld	h,0x00
3479  1048  01 00 00    	ld	bc,_bullet_dir
3480  104B  09          	add	hl,bc
3481  104C  56          	ld	d, (hl)
3482  104D  2A 00 00    	ld	hl,(_bullet)
3483  1050  26 00       	ld	h,0x00
3484  1052  01 00 00    	ld	bc,_bullet_colint
3485  1055  09          	add	hl,bc
3486  1056  5E          	ld	e,(hl)
3487  1057  14          	inc	d
3488  1058  4D          	ld	c,l
3489  1059  44          	ld	b,h
3490  105A  20 45       	jr	NZ,l_spr_bullets_play_00118
3491  105C  1C          	inc	e
3492  105D  7B          	ld	a,e
3493  105E  02          	ld	(bc),a
3494  105F  2A 00 00    	ld	hl,(_bullet)
3495  1062  26 00       	ld	h,0x00
3496  1064  01 00 00    	ld	bc,_bullet_colint
3497  1067  09          	add	hl,bc
3498  1068  7E          	ld	a,(hl)
3499  1069  4D          	ld	c,l
3500  106A  44          	ld	b,h
3501  106B  21 00 00    	ld	hl,_bullet
3502  106E  DD 77 FF    	ld	(ix-1),a
3503  1071  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3504  1073  86          	add	a, (hl)
3505  1074  5F          	ld	e, a
3506  1075  3E 00       	ld	a, +((_bullet_frames) / 256)
3507  1077  CE 00       	adc	a,0x00
3508  1079  57          	ld	d, a
3509  107A  1A          	ld	a, (de)
3510  107B  5F          	ld	e, a
3511  107C  DD 7E FF    	ld	a,(ix-1)
3512  107F  93          	sub	a, e
3513  1080  38 5E       	jr	C,l_spr_bullets_play_00119
3514  1082  5E          	ld	e,(hl)
3515  1083  16 00       	ld	d,0x00
3516  1085  21 00 00    	ld	hl,_bullet_col
3517  1088  19          	add	hl,de
3518  1089  7E          	ld	a,(hl)
3519  108A  3C          	inc	a
3520  108B  DD 77 FE    	ld	(ix-2),a
3521  108E  AF          	xor	a, a
3522  108F  02          	ld	(bc), a
3523  1090  DD 7E FE    	ld	a,(ix-2)
3524  1093  E6 01       	and	a,0x01
3525  1095  3D          	dec	a
3526  1096  20 48       	jr	NZ,l_spr_bullets_play_00119
3527  1098  DD 7E FE    	ld	a,(ix-2)
3528  109B  3C          	inc	a
3529  109C  32 00 00    	ld	(_s_col0),a
3530  109F  18 3F       	jr	l_spr_bullets_play_00119
3531  10A1              l_spr_bullets_play_00118:
3532  10A1  1D          	dec	e
3533  10A2  7B          	ld	a, e
3534  10A3  02          	ld	(bc), a
3535  10A4  2A 00 00    	ld	hl,(_bullet)
3536  10A7  26 00       	ld	h,0x00
3537  10A9  01 00 00    	ld	bc,_bullet_colint
3538  10AC  09          	add	hl,bc
3539  10AD  7E          	ld	a,(hl)
3540  10AE  3C          	inc	a
3541  10AF  20 2F       	jr	NZ,l_spr_bullets_play_00119
3542  10B1  4D          	ld	c,l
3543  10B2  44          	ld	b,h
3544  10B3  2A 00 00    	ld	hl,(_bullet)
3545  10B6  26 00       	ld	h,0x00
3546  10B8  11 00 00    	ld	de,_bullet_col
3547  10BB  19          	add	hl,de
3548  10BC  7E          	ld	a,(hl)
3549  10BD  C6 FF       	add	a,0xff
3550  10BF  21 00 00    	ld	hl,_bullet
3551  10C2  DD 77 FE    	ld	(ix-2),a
3552  10C5  5E          	ld	e,(hl)
3553  10C6  16 00       	ld	d,0x00
3554  10C8  21 00 00    	ld	hl,_bullet_frames
3555  10CB  19          	add	hl,de
3556  10CC  7E          	ld	a,(hl)
3557  10CD  C6 FF       	add	a,0xff
3558  10CF  02          	ld	(bc), a
3559  10D0  DD 7E FE    	ld	a,(ix-2)
3560  10D3  E6 01       	and	a,0x01
3561  10D5  3D          	dec	a
3562  10D6  20 08       	jr	NZ,l_spr_bullets_play_00119
3563  10D8  DD 7E FE    	ld	a,(ix-2)
3564  10DB  C6 FF       	add	a,0xff
3565  10DD  32 00 00    	ld	(_s_col0),a
3566  10E0              l_spr_bullets_play_00119:
3567  10E0  2A 00 00    	ld	hl,(_bullet)
3568  10E3  26 00       	ld	h,0x00
3569  10E5  01 00 00    	ld	bc,_bullet_max
3570  10E8  09          	add	hl,bc
3571  10E9  7E          	ld	a,(hl)
3572  10EA  B7          	or	a,a
3573  10EB  28 40       	jr	Z,l_spr_bullets_play_00123
3574  10ED  21 00 00    	ld	hl,_bullet
3575  10F0  DD 4E FE    	ld	c,(ix-2)
3576  10F3  06 00       	ld	b,0x00
3577  10F5  5E          	ld	e,(hl)
3578  10F6  50          	ld	d,b
3579  10F7  21 00 00    	ld	hl,_bullet_col0
3580  10FA  19          	add	hl,de
3581  10FB  5E          	ld	e, (hl)
3582  10FC  16 00       	ld	d,0x00
3583  10FE  79          	ld	a, c
3584  10FF  93          	sub	a, e
3585  1100  6F          	ld	l, a
3586  1101  78          	ld	a, b
3587  1102  9A          	sbc	a, d
3588  1103  67          	ld	h, a
3589  1104  CD 00 00    	call	_abs_fastcall
3590  1107  7D          	ld	a,l
3591  1108  32 00 00    	ld	(_tmp0),a
3592  110B  2A 00 00    	ld	hl,(_bullet)
3593  110E  26 00       	ld	h,0x00
3594  1110  01 00 00    	ld	bc,_bullet_max
3595  1113  09          	add	hl,bc
3596  1114  7E          	ld	a,(hl)
3597  1115  21 00 00    	ld	hl,_tmp0
3598  1118  96          	sub	a, (hl)
3599  1119  30 12       	jr	NC,l_spr_bullets_play_00123
3600  111B  21 00 00    	ld	hl,_bullet_count
3601  111E  35          	dec	(hl)
3602  111F  2A 00 00    	ld	hl,(_bullet)
3603  1122  26 00       	ld	h,0x00
3604  1124  01 00 00    	ld	bc,_bullet_col
3605  1127  09          	add	hl,bc
3606  1128  36 FF       	ld	(hl),0xff
3607  112A  C3 28 12    	jp	l_spr_bullets_play_00141
3608  112D              l_spr_bullets_play_00123:
3609  112D  2A 00 00    	ld	hl,(_bullet)
3610  1130  26 00       	ld	h,0x00
3611  1132  01 00 00    	ld	bc,_bullet_col
3612  1135  09          	add	hl,bc
3613  1136  3E 1E       	ld	a,0x1e
3614  1138  DD 96 FE    	sub	a,(ix-2)
3615  113B  4D          	ld	c,l
3616  113C  44          	ld	b,h
3617  113D  30 0A       	jr	NC,l_spr_bullets_play_00125
3618  113F  21 00 00    	ld	hl,_bullet_count
3619  1142  35          	dec	(hl)
3620  1143  3E FF       	ld	a,0xff
3621  1145  02          	ld	(bc), a
3622  1146  C3 28 12    	jp	l_spr_bullets_play_00141
3623  1149              l_spr_bullets_play_00125:
3624  1149  0A          	ld	a, (bc)
3625  114A  4F          	ld	c, a
3626  114B  DD 7E FE    	ld	a,(ix-2)
3627  114E  91          	sub	a, c
3628  114F  CA ED 11    	jp	Z,l_spr_bullets_play_00137
3629  1152  3A 00 00    	ld	a,(_s_lin0)
3630  1155  C6 08       	add	a,0x08
3631  1157  4F          	ld	c, a
3632  1158  3A 00 00    	ld	a, (_s_col0)
3633  115B  47          	ld	b,a
3634  115C  C5          	push	bc
3635  115D  CD 00 00    	call	_spr_calc_index
3636  1160  F1          	pop	af
3637  1161  22 00 00    	ld	(_index0),hl
3638  1164  01 00 00    	ld	bc,_scr_map
3639  1167  09          	add	hl,bc
3640  1168  7E          	ld	a,(hl)
3641  1169  5F          	ld	e,a
3642  116A  D6 4D       	sub	a,0x4d
3643  116C  20 4C       	jr	NZ,l_spr_bullets_play_00127
3644  116E  3A 00 00    	ld	a,(_bullet)
3645  1171  D6 07       	sub	a,0x07
3646  1173  20 45       	jr	NZ,l_spr_bullets_play_00127
3647  1175  E5          	push	hl
3648  1176  2A 00 00    	ld	hl,(_index0)
3649  1179  CD 00 00    	call	_game_match_back
3650  117C  C1          	pop	bc
3651  117D  7D          	ld	a,l
3652  117E  02          	ld	(bc), a
3653  117F  2A 00 00    	ld	hl,(_index0)
3654  1182  CD 00 00    	call	_game_obj_set
3655  1185  2A 00 00    	ld	hl,(_bullet)
3656  1188  26 00       	ld	h,0x00
3657  118A  01 00 00    	ld	bc,_bullet_lin
3658  118D  09          	add	hl,bc
3659  118E  ED 5B 00 00 	ld	de,(_index0)
3660  1192  3E 04       	ld	a,0x04
3661  1194  4D          	ld	c,l
3662  1195  44          	ld	b,h
3663  1196              l_spr_bullets_play_00252:
3664  1196  CB 3A       	srl	d
3665  1198  CB 1B       	rr	e
3666  119A  3D          	dec	a
3667  119B  20 F9       	jr	NZ,l_spr_bullets_play_00252
3668  119D  7B          	ld	a, e
3669  119E  07          	rlca
3670  119F  07          	rlca
3671  11A0  07          	rlca
3672  11A1  07          	rlca
3673  11A2  E6 F0       	and	a,0xf0
3674  11A4  02          	ld	(bc), a
3675  11A5  2A 00 00    	ld	hl,(_bullet)
3676  11A8  26 00       	ld	h,0x00
3677  11AA  01 00 00    	ld	bc,_bullet_col
3678  11AD  09          	add	hl,bc
3679  11AE  3A 00 00    	ld	a,(_index0)
3680  11B1  E6 0F       	and	a,0x0f
3681  11B3  87          	add	a,a
3682  11B4  77          	ld	(hl),a
3683  11B5  CD BB 12    	call	_spr_bullet_explode
3684  11B8  18 6E       	jr	l_spr_bullets_play_00141
3685  11BA              l_spr_bullets_play_00127:
3686  11BA  7B          	ld	a,e
3687  11BB  FE 48       	cp	a,0x48
3688  11BD  38 09       	jr	C,l_spr_bullets_play_00130
3689  11BF  D6 80       	sub	a,0x80
3690  11C1  30 05       	jr	NC,l_spr_bullets_play_00130
3691  11C3  CD BB 12    	call	_spr_bullet_explode
3692  11C6  18 60       	jr	l_spr_bullets_play_00141
3693  11C8              l_spr_bullets_play_00130:
3694  11C8  2A 00 00    	ld	hl,(_bullet)
3695  11CB  26 00       	ld	h,0x00
3696  11CD  01 00 00    	ld	bc,_bullet_col
3697  11D0  09          	add	hl,bc
3698  11D1  4D          	ld	c,l
3699  11D2  44          	ld	b,h
3700  11D3  21 00 00    	ld	hl,_bullet
3701  11D6  DD 7E FE    	ld	a,(ix-2)
3702  11D9  02          	ld	(bc), a
3703  11DA  7E          	ld	a, (hl)
3704  11DB  D6 07       	sub	a,0x07
3705  11DD  20 0B       	jr	NZ,l_spr_bullets_play_00133
3706  11DF  3A 07 00    	ld	a, (_bullet_col + 7)
3707  11E2  3C          	inc	a
3708  11E3  28 05       	jr	Z,l_spr_bullets_play_00133
3709  11E5  CD 5F 12    	call	_spr_bullet_player_colision
3710  11E8  18 03       	jr	l_spr_bullets_play_00137
3711  11EA              l_spr_bullets_play_00133:
3712  11EA  CD 37 12    	call	_spr_bullet_enemy_colision
3713  11ED              l_spr_bullets_play_00137:
3714  11ED  2A 00 00    	ld	hl,(_bullet)
3715  11F0  26 00       	ld	h,0x00
3716  11F2  01 00 00    	ld	bc,_bullet_col
3717  11F5  09          	add	hl,bc
3718  11F6  7E          	ld	a,(hl)
3719  11F7  3C          	inc	a
3720  11F8  28 2E       	jr	Z,l_spr_bullets_play_00141
3721  11FA  DD 7E FE    	ld	a,(ix-2)
3722  11FD  D6 20       	sub	a,0x20
3723  11FF  30 27       	jr	NC,l_spr_bullets_play_00141
3724  1201  F3          	di
3725  1202  2A 00 00    	ld	hl,(_bullet)
3726  1205  26 00       	ld	h,0x00
3727  1207  01 00 00    	ld	bc,_bullet_tile
3728  120A  09          	add	hl,bc
3729  120B  4E          	ld	c, (hl)
3730  120C  3A 00 00    	ld	a,(_bullet)
3731  120F  5F          	ld	e,a
3732  1210  16 00       	ld	d,0x00
3733  1212  21 00 00    	ld	hl,_bullet_colint
3734  1215  19          	add	hl,de
3735  1216  7E          	ld	a,(hl)
3736  1217  81          	add	a,c
3737  1218  47          	ld	b, a
3738  1219  DD 7E FE    	ld	a,(ix-2)
3739  121C  F5          	push	af
3740  121D  33          	inc	sp
3741  121E  3A 00 00    	ld	a,(_s_lin0)
3742  1221  48          	ld	c,b
3743  1222  47          	ld	b,a
3744  1223  C5          	push	bc
3745  1224  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3746  1227  FB          	ei
3747  1228              l_spr_bullets_play_00141:
3748  1228  21 00 00    	ld	hl,_bullet
3749  122B  7E          	ld	a,(hl)
3750  122C  3C          	inc	a
3751  122D  77          	ld	(hl),a
3752  122E  D6 08       	sub	a,0x08
3753  1230  DA DF 0F    	jp	C, l_spr_bullets_play_00143
3754  1233  F1          	pop	af
3755  1234  DD E1       	pop	ix
3756  1236  C9          	ret
3757  1237              	SECTION code_compiler
3758  1237              ;	---------------------------------
3759  1237              ; Function spr_bullet_enemy_colision
3760  1237              ; ---------------------------------
3761  1237              _spr_bullet_enemy_colision:
3762  1237  3A 00 00    	ld	a,(_bullet)
3763  123A  57          	ld	d,a
3764  123B  1E 07       	ld	e,0x07
3765  123D  D5          	push	de
3766  123E  CD 9E 0E    	call	_spr_colision_b
3767  1241  F1          	pop	af
3768  1242  7D          	ld	a, l
3769  1243  B7          	or	a, a
3770  1244  C8          	ret	Z
3771  1245  2E 03       	ld	l,0x03
3772  1247  CD 00 00    	call	_zx_border_fastcall
3773  124A  2A 00 00    	ld	hl,(_bullet)
3774  124D  26 00       	ld	h,0x00
3775  124F  01 00 00    	ld	bc,_bullet_col
3776  1252  09          	add	hl,bc
3777  1253  3A 00 00    	ld	a,(_s_col0)
3778  1256  77          	ld	(hl),a
3779  1257  CD BB 12    	call	_spr_bullet_explode
3780  125A  2E 0A       	ld	l,0x0a
3781  125C  C3 00 00    	jp  _player_hit
3782  125F              	SECTION code_compiler
3783  125F              ;	---------------------------------
3784  125F              ; Function spr_bullet_player_colision
3785  125F              ; ---------------------------------
3786  125F              _spr_bullet_player_colision:
3787  125F  0E 00       	ld	c,0x00
3788  1261  11 00 00    	ld	de,_class+0
3789  1264  41          	ld	b,c
3790  1265              l_spr_bullet_player_colision_00104:
3791  1265  78          	ld	a, b
3792  1266  D6 07       	sub	a,0x07
3793  1268  30 34       	jr	NC,l_spr_bullet_player_colision_00106
3794  126A  68          	ld	l,b
3795  126B  26 00       	ld	h,0x00
3796  126D  19          	add	hl, de
3797  126E  7E          	ld	a, (hl)
3798  126F  B7          	or	a, a
3799  1270  28 28       	jr	Z,l_spr_bullet_player_colision_00102
3800  1272  3A 00 00    	ld	a,(_bullet)
3801  1275  C5          	push	bc
3802  1276  D5          	push	de
3803  1277  48          	ld	c,b
3804  1278  47          	ld	b,a
3805  1279  C5          	push	bc
3806  127A  CD 9E 0E    	call	_spr_colision_b
3807  127D  F1          	pop	af
3808  127E  D1          	pop	de
3809  127F  C1          	pop	bc
3810  1280  7D          	ld	a,l
3811  1281  B7          	or	a, a
3812  1282  28 16       	jr	Z,l_spr_bullet_player_colision_00102
3813  1284  C5          	push	bc
3814  1285  CD 00 00    	call	_rand
3815  1288  11 06 00    	ld	de,0x0006
3816  128B  D5          	push	de
3817  128C  E5          	push	hl
3818  128D  CD 00 00    	call	__modsint_callee
3819  1290  CD 00 00    	call	_player_score_add
3820  1293  C1          	pop	bc
3821  1294  69          	ld	l, c
3822  1295  CD 00 00    	call	_enemy_kill
3823  1298  18 04       	jr	l_spr_bullet_player_colision_00106
3824  129A              l_spr_bullet_player_colision_00102:
3825  129A  04          	inc	b
3826  129B  48          	ld	c, b
3827  129C  18 C7       	jr	l_spr_bullet_player_colision_00104
3828  129E              l_spr_bullet_player_colision_00106:
3829  129E  3A 00 00    	ld	a,(_game_boss)
3830  12A1  B7          	or	a, a
3831  12A2  C8          	ret	Z
3832  12A3  CD 8A 0F    	call	_spr_colision_b2
3833  12A6  7D          	ld	a, l
3834  12A7  B7          	or	a, a
3835  12A8  C8          	ret	Z
3836  12A9  CD BB 12    	call	_spr_bullet_explode
3837  12AC  21 00 00    	ld	hl,_game_boss_hit
3838  12AF  35          	dec	(hl)
3839  12B0  CD 00 00    	call	_game_update_stats
3840  12B3  3A 00 00    	ld	a,(_game_boss_hit)
3841  12B6  B7          	or	a, a
3842  12B7  C0          	ret	NZ
3843  12B8  C3 00 00    	jp  _game_boss_kill
3844  12BB              	SECTION code_compiler
3845  12BB              ;	---------------------------------
3846  12BB              ; Function spr_bullet_explode
3847  12BB              ; ---------------------------------
3848  12BB              _spr_bullet_explode:
3849  12BB  21 00 00    	ld	hl,_ay_fx_04_explosion
3850  12BE  E5          	push	hl
3851  12BF  21 01 04    	ld	hl,0x0401
3852  12C2  E5          	push	hl
3853  12C3  CD 00 00    	call	_ay_song_play
3854  12C6  2A 00 00    	ld	hl,(_bullet)
3855  12C9  26 00       	ld	h,0x00
3856  12CB  01 00 00    	ld	bc,_bullet_col
3857  12CE  09          	add	hl,bc
3858  12CF  56          	ld	d, (hl)
3859  12D0  2A 00 00    	ld	hl,(_bullet)
3860  12D3  26 00       	ld	h,0x00
3861  12D5  01 00 00    	ld	bc,_bullet_lin
3862  12D8  09          	add	hl,bc
3863  12D9  46          	ld	b, (hl)
3864  12DA  21 00 00    	ld	hl,0x0000
3865  12DD  E5          	push	hl
3866  12DE  21 87 03    	ld	hl,0x0387
3867  12E1  E5          	push	hl
3868  12E2  58          	ld	e,b
3869  12E3  D5          	push	de
3870  12E4  CD B6 0B    	call	_spr_add_anim
3871  12E7  F1          	pop	af
3872  12E8  F1          	pop	af
3873  12E9  F1          	pop	af
3874  12EA  21 00 00    	ld	hl,_bullet_count
3875  12ED  35          	dec	(hl)
3876  12EE  2A 00 00    	ld	hl,(_bullet)
3877  12F1  26 00       	ld	h,0x00
3878  12F3  01 00 00    	ld	bc,_bullet_col
3879  12F6  09          	add	hl,bc
3880  12F7  36 FF       	ld	(hl),0xff
3881  12F9  C9          	ret
3882  12FA              	SECTION code_compiler
3883  12FA              ;	---------------------------------
3884  12FA              ; Function spr_turn_horizontal
3885  12FA              ; ---------------------------------
3886  12FA              _spr_turn_horizontal:
3887  12FA  21 00 00    	ld	hl,_s_state
3888  12FD  CB 56       	bit	2, (hl)
3889  12FF  28 08       	jr	Z,l_spr_turn_horizontal_00102
3890  1301  21 00 00    	ld	hl,_s_state
3891  1304  CD 82 00    	call	_spr_set_left
3892  1307  18 06       	jr	l_spr_turn_horizontal_00103
3893  1309              l_spr_turn_horizontal_00102:
3894  1309  21 00 00    	ld	hl,_s_state
3895  130C  CD 89 00    	call	_spr_set_right
3896  130F              l_spr_turn_horizontal_00103:
3897  130F  2A 00 00    	ld	hl,(_sprite)
3898  1312  26 00       	ld	h,0x00
3899  1314  01 00 00    	ld	bc,_state
3900  1317  09          	add	hl,bc
3901  1318  3A 00 00    	ld	a,(_s_state)
3902  131B  77          	ld	(hl),a
3903  131C  2A 00 00    	ld	hl,(_sprite)
3904  131F  26 00       	ld	h,0x00
3905  1321  01 00 00    	ld	bc,_tile
3906  1324  09          	add	hl,bc
3907  1325  E5          	push	hl
3908  1326  21 00 00    	ld	hl,_sprite
3909  1329  CD 76 08    	call	_spr_tile
3910  132C  C1          	pop	bc
3911  132D  7D          	ld	a,l
3912  132E  02          	ld	(bc), a
3913  132F  C9          	ret
3914  1330              	SECTION code_compiler
3915  1330              ;	---------------------------------
3916  1330              ; Function spr_btile_paint_back
3917  1330              ; ---------------------------------
3918  1330              _spr_btile_paint_back:
3919  1330  21 20 00    	ld	hl,0x0020
3920  1333  22 00 00    	ld	(_tmp_ui),hl
3921  1336  21 00 00    	ld	hl,_map_paper
3922  1339  7E          	ld	a, (hl)
3923  133A  0F          	rrca
3924  133B  0F          	rrca
3925  133C  0F          	rrca
3926  133D  E6 1F       	and	a,0x1f
3927  133F  B6          	or	a, (hl)
3928  1340  F6 40       	or	a,0x40
3929  1342  32 00 00    	ld	(_map_paper_clr),a
3930  1345  0E 00       	ld	c,0x00
3931  1347              l_spr_btile_paint_back_00120:
3932  1347  21 00 00    	ld	hl,_tmp_ui
3933  134A  7E          	ld	a, (hl)
3934  134B  D6 20       	sub	a,0x20
3935  134D  23          	inc	hl
3936  134E  7E          	ld	a, (hl)
3937  134F  DE 2D       	sbc	a,0x2d
3938  1351  D2 E0 13    	jp	NC, l_spr_btile_paint_back_00122
3939  1354  79          	ld	a,c
3940  1355  FE 49       	cp	a,0x49
3941  1357  30 09       	jr	NC,l_spr_btile_paint_back_00119
3942  1359  D6 0D       	sub	a,0x0d
3943  135B  28 05       	jr	Z,l_spr_btile_paint_back_00119
3944  135D  79          	ld	a, c
3945  135E  D6 0E       	sub	a,0x0e
3946  1360  20 05       	jr	NZ,l_spr_btile_paint_back_00115
3947  1362              l_spr_btile_paint_back_00119:
3948  1362  3E 5A       	ld	a,0x5a
3949  1364  91          	sub	a, c
3950  1365  30 6B       	jr	NC,l_spr_btile_paint_back_00116
3951  1367              l_spr_btile_paint_back_00115:
3952  1367  21 00 00    	ld	hl,_tmp0
3953  136A  36 00       	ld	(hl),0x00
3954  136C  21 00 00    	ld	hl,_map_paper_last
3955  136F  5E          	ld	e, (hl)
3956  1370  43          	ld	b, e
3957  1371  3E 38       	ld	a,0x38
3958  1373  91          	sub	a, c
3959  1374  30 05       	jr	NC,l_spr_btile_paint_back_00109
3960  1376  79          	ld	a, c
3961  1377  D6 41       	sub	a,0x41
3962  1379  38 0A       	jr	C,l_spr_btile_paint_back_00105
3963  137B              l_spr_btile_paint_back_00109:
3964  137B  3E 10       	ld	a,0x10
3965  137D  91          	sub	a, c
3966  137E  30 20       	jr	NC,l_spr_btile_paint_back_00112
3967  1380  79          	ld	a, c
3968  1381  D6 14       	sub	a,0x14
3969  1383  30 1B       	jr	NC,l_spr_btile_paint_back_00112
3970  1385              l_spr_btile_paint_back_00105:
3971  1385  3A 00 00    	ld	a,(_map_paper)
3972  1388  D6 10       	sub	a,0x10
3973  138A  20 09       	jr	NZ,l_spr_btile_paint_back_00102
3974  138C  21 00 00    	ld	hl,_tmp0
3975  138F  36 10       	ld	(hl),0x10
3976  1391  21 00 00    	ld	hl,_map_paper_last_a
3977  1394  73          	ld	(hl), e
3978  1395              l_spr_btile_paint_back_00102:
3979  1395  3A 00 00    	ld	a,(_map_paper_last)
3980  1398  D6 10       	sub	a,0x10
3981  139A  20 04       	jr	NZ,l_spr_btile_paint_back_00112
3982  139C  21 00 00    	ld	hl,_map_paper_last_a
3983  139F  46          	ld	b, (hl)
3984  13A0              l_spr_btile_paint_back_00112:
3985  13A0  3A 00 00    	ld	a,(_tmp0)
3986  13A3  D6 10       	sub	a,0x10
3987  13A5  30 2B       	jr	NC,l_spr_btile_paint_back_00116
3988  13A7  11 00 00    	ld	de,_btiles
3989  13AA  2A 00 00    	ld	hl,(_tmp_ui)
3990  13AD  19          	add	hl,de
3991  13AE  EB          	ex	de,hl
3992  13AF  2A 00 00    	ld	hl,(_tmp0)
3993  13B2  26 00       	ld	h,0x00
3994  13B4  19          	add	hl,de
3995  13B5  7E          	ld	a,(hl)
3996  13B6  EB          	ex	de,hl
3997  13B7  21 00 00    	ld	hl,_tmp
3998  13BA  77          	ld	(hl),a
3999  13BB  E6 38       	and	a,0x38
4000  13BD  90          	sub	a, b
4001  13BE  20 0C       	jr	NZ,l_spr_btile_paint_back_00111
4002  13C0  7E          	ld	a, (hl)
4003  13C1  E6 C7       	and	a,0xc7
4004  13C3  77          	ld	(hl),a
4005  13C4  21 00 00    	ld	hl,_map_paper
4006  13C7  B6          	or	a, (hl)
4007  13C8  32 00 00    	ld	(_tmp),a
4008  13CB  12          	ld	(de), a
4009  13CC              l_spr_btile_paint_back_00111:
4010  13CC  21 00 00    	ld	hl,_tmp0
4011  13CF  34          	inc	(hl)
4012  13D0  18 CE       	jr	l_spr_btile_paint_back_00112
4013  13D2              l_spr_btile_paint_back_00116:
4014  13D2  2A 00 00    	ld	hl,(_tmp_ui)
4015  13D5  11 30 00    	ld	de,0x0030
4016  13D8  19          	add	hl,de
4017  13D9  22 00 00    	ld	(_tmp_ui),hl
4018  13DC  0C          	inc	c
4019  13DD  C3 47 13    	jp	l_spr_btile_paint_back_00120
4020  13E0              l_spr_btile_paint_back_00122:
4021  13E0  C3 00 00    	jp  _game_attribs
4022  13E3              	SECTION code_compiler
4023  13E3              ;	---------------------------------
4024  13E3              ; Function spr_flatten
4025  13E3              ; ---------------------------------
4026  13E3              _spr_flatten:
4027  13E3  06 00       	ld	b,0x00
4028  13E5              l_spr_flatten_00102:
4029  13E5  78          	ld	a, b
4030  13E6  07          	rlca
4031  13E7  07          	rlca
4032  13E8  07          	rlca
4033  13E9  E6 F8       	and	a,0xf8
4034  13EB  5F          	ld	e, a
4035  13EC  16 00       	ld	d,0x00
4036  13EE  21 96 DC    	ld	hl,0xdc96
4037  13F1  19          	add	hl, de
4038  13F2  7E          	ld	a, (hl)
4039  13F3  32 00 00    	ld	(_s_lin1),a
4040  13F6  16 00       	ld	d,0x00
4041  13F8  21 95 DC    	ld	hl,0xdc95
4042  13FB  19          	add	hl, de
4043  13FC  7E          	ld	a, (hl)
4044  13FD  32 00 00    	ld	(_s_col1),a
4045  1400  16 00       	ld	d,0x00
4046  1402  21 98 DC    	ld	hl,0xdc98
4047  1405  19          	add	hl, de
4048  1406  7E          	ld	a, (hl)
4049  1407  32 00 00    	ld	(_s_tile1),a
4050  140A  C5          	push	bc
4051  140B  21 00 00    	ld	hl,0x0000
4052  140E  E5          	push	hl
4053  140F  AF          	xor	a, a
4054  1410  48          	ld	c,b
4055  1411  47          	ld	b,a
4056  1412  C5          	push	bc
4057  1413  CD 00 00    	call	_NIRVANAP_spriteT_callee
4058  1416  2A FF FF    	ld	hl,(_s_col1 - 1)
4059  1419  3A 00 00    	ld	a,(_s_lin1)
4060  141C  6F          	ld	l,a
4061  141D  3A 00 00    	ld	a,(_s_tile1)
4062  1420  E5          	push	hl
4063  1421  F5          	push	af
4064  1422  33          	inc	sp
4065  1423  CD 00 00    	call	_NIRVANAP_drawT_callee
4066  1426  C1          	pop	bc
4067  1427  04          	inc	b
4068  1428  3E 07       	ld	a,0x07
4069  142A  90          	sub	a, b
4070  142B  30 B8       	jr	NC,l_spr_flatten_00102
4071  142D  C9          	ret
4072  142E              	SECTION code_compiler
4073  142E              ;	---------------------------------
4074  142E              ; Function spr_unflatten
4075  142E              ; ---------------------------------
4076  142E              _spr_unflatten:
4077  142E  CD 00 00    	call	_player_anim_tile
4078  1431  21 07 00    	ld	hl,+(_col + 0x0007)
4079  1434  46          	ld	b, (hl)
4080  1435  21 07 00    	ld	hl,+(_lin + 0x0007)
4081  1438  4E          	ld	c, (hl)
4082  1439  3A 00 00    	ld	a,(_s_tile1)
4083  143C  C5          	push	bc
4084  143D  F5          	push	af
4085  143E  33          	inc	sp
4086  143F  CD 00 00    	call	_NIRVANAP_drawT_callee
4087  1442  C9          	ret
4088  1443              	SECTION IGNORE
4089  0000              
