1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_brick_anim
205   0000              	GLOBAL _spr_draw_index
206   0000              	GLOBAL _spr_draw_row
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_attribs
557   0000              	GLOBAL _game_boss_clear
558   0000              	GLOBAL _game_obj_clear
559   0000              	GLOBAL _game_obj_chk
560   0000              	GLOBAL _game_obj_set
561   0000              	GLOBAL _game_shoot_fire_boss
562   0000              	GLOBAL _game_shoot_fire
563   0000              	GLOBAL _game_add_enemy
564   0000              	GLOBAL _game_joystick_set_menu
565   0000              	GLOBAL _game_joystick_set
566   0000              	GLOBAL _game_joystick_change
567   0000              	GLOBAL _game_print_header
568   0000              	GLOBAL _game_end
569   0000              	GLOBAL _game_phase_print_score_back
570   0000              	GLOBAL _game_check_time
571   0000              	GLOBAL _game_rotate_attrib
572   0000              	GLOBAL _game_colour_message
573   0000              	GLOBAL _game_paint_attrib_lin_h
574   0000              	GLOBAL _game_paint_attrib_lin
575   0000              	GLOBAL _game_paint_attrib
576   0000              	GLOBAL _game_print_score
577   0000              	GLOBAL _game_unfreeze_all
578   0000              	GLOBAL _game_freeze_all
579   0000              	GLOBAL _game_freeze
580   0000              	GLOBAL _game_enemy_add_get_index
581   0000              	GLOBAL _game_check_cell
582   0000              	GLOBAL _game_check_map
583   0000              	GLOBAL _game_loop
584   0000              	GLOBAL _game_round_init
585   0000              	GLOBAL _game_start_timer
586   0000              	GLOBAL _game_tick
587   0000              	GLOBAL _game_update_stats
588   0000              	GLOBAL _game_print_footer
589   0000              	GLOBAL _game_fill_row
590   0000              	GLOBAL _game_fps
591   0000              	GLOBAL _game_respawn
592   0000              	GLOBAL _game_draw_screen
593   0000              	GLOBAL _boss_turn
594   0000              	GLOBAL _enemy_avoid_dead
595   0000              	GLOBAL _enemy_avoid_fall
596   0000              	GLOBAL _enemy_respawn
597   0000              	GLOBAL _enemy_init
598   0000              	GLOBAL _enemy_move
599   0000              	GLOBAL _enemy_turn
600   0000              	GLOBAL _enemy_hit
601   0000              	GLOBAL _enemy_coin1
602   0000              	GLOBAL _enemy_static
603   0000              	GLOBAL _enemy_walk
604   0000              	GLOBAL _enemy_horizontal
605   0000              	GLOBAL _enemy_vertical
606   0000              	GLOBAL _ay_fx_play
607   0000              	GLOBAL _ay_midi_play
608   0000              	GLOBAL _ay_is_playing
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _test_func
611   0000              	GLOBAL _test_proc
612   0000              	GLOBAL _in_mouse_kempston_wheel_delta
613   0000              	GLOBAL _in_mouse_kempston_wheel
614   0000              	GLOBAL _in_mouse_kempston_callee
615   0000              	GLOBAL _in_mouse_kempston
616   0000              	GLOBAL _in_mouse_kempston_setpos_callee
617   0000              	GLOBAL _in_mouse_kempston_setpos
618   0000              	GLOBAL _in_mouse_kempston_reset
619   0000              	GLOBAL _in_mouse_kempston_init
620   0000              	GLOBAL _in_mouse_amx_wheel_delta
621   0000              	GLOBAL _in_mouse_amx_wheel
622   0000              	GLOBAL _in_mouse_amx_callee
623   0000              	GLOBAL _in_mouse_amx
624   0000              	GLOBAL _in_mouse_amx_setpos_callee
625   0000              	GLOBAL _in_mouse_amx_setpos
626   0000              	GLOBAL _in_mouse_amx_reset
627   0000              	GLOBAL _in_mouse_amx_init_callee
628   0000              	GLOBAL _in_mouse_amx_init
629   0000              	GLOBAL _in_stick_sinclair2
630   0000              	GLOBAL _in_stick_sinclair1
631   0000              	GLOBAL _in_stick_kempston
632   0000              	GLOBAL _in_stick_fuller
633   0000              	GLOBAL _in_stick_cursor
634   0000              	GLOBAL _in_stick_keyboard_fastcall
635   0000              	GLOBAL _in_stick_keyboard
636   0000              	GLOBAL _in_wait_nokey
637   0000              	GLOBAL _in_wait_key
638   0000              	GLOBAL _in_test_key
639   0000              	GLOBAL _in_pause_fastcall
640   0000              	GLOBAL _in_pause
641   0000              	GLOBAL _in_key_scancode_fastcall
642   0000              	GLOBAL _in_key_scancode
643   0000              	GLOBAL _in_key_pressed_fastcall
644   0000              	GLOBAL _in_key_pressed
645   0000              	GLOBAL _in_inkey
646   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
647   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
648   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
649   0000              	GLOBAL _NIRVANAP_HOLE
650   0000              	GLOBAL _NIRVANAP_ISR_HOOK
651   0000              	GLOBAL _player_lvl_table
652   0000              	GLOBAL _map_paper_last
653   0000              	GLOBAL _map_paper_clr
654   0000              	GLOBAL _map_paper
655   0000              	GLOBAL _draw_count
656   0000              	GLOBAL _g_player_hit_right
657   0000              	GLOBAL _g_player_hit_left
658   0000              	GLOBAL _joynames
659   0000              	GLOBAL _initials
660   0000              	GLOBAL _bullet_count
661   0000              	GLOBAL _spr_hack
662   0000              	GLOBAL _boss_stat
663   0000              	GLOBAL _boss_time_fire
664   0000              	GLOBAL _boss_time
665   0000              	GLOBAL _boss_tile
666   0000              	GLOBAL _boss_inc
667   0000              	GLOBAL _boss_col
668   0000              	GLOBAL _boss_lin
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_obj1
694   0000              	GLOBAL _scr_obj0
695   0000              	GLOBAL _scr_map
696   0000              	GLOBAL _sprite_speed_alt
697   0000              	GLOBAL _sprite_frames
698   0000              	GLOBAL _sprite_speed
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _player_over_stair
702   0000              	GLOBAL _game_start_scr
703   0000              	GLOBAL _game_respawn_tile
704   0000              	GLOBAL _game_respawn_index
705   0000              	GLOBAL _game_respawn_time
706   0000              	GLOBAL _game_menu_sel
707   0000              	GLOBAL _game_score_top
708   0000              	GLOBAL _player_lives
709   0000              	GLOBAL _game_over
710   0000              	GLOBAL _game_sound
711   0000              	GLOBAL _game_inmune
712   0000              	GLOBAL _game_god_mode
713   0000              	GLOBAL _game_two_player
714   0000              	GLOBAL _game_brick_tile
715   0000              	GLOBAL _sprite_curr_index
716   0000              	GLOBAL _spr_count
717   0000              	GLOBAL _bullet_time
718   0000              	GLOBAL _anim_time
719   0000              	GLOBAL _frame_time
720   0000              	GLOBAL _entry_time
721   0000              	GLOBAL _curr_time
722   0000              	GLOBAL _s_state
723   0000              	GLOBAL _attrib_hl
724   0000              	GLOBAL _attrib
725   0000              	GLOBAL _zx_val_asm
726   0000              	GLOBAL _enemies
727   0000              	GLOBAL _tmp_ui
728   0000              	GLOBAL _tmp_sc
729   0000              	GLOBAL _tmp_uc
730   0000              	GLOBAL _tmp1
731   0000              	GLOBAL _tmp0
732   0000              	GLOBAL _tmp
733   0000              	GLOBAL _index1
734   0000              	GLOBAL _index0
735   0000              	GLOBAL _loop_count
736   0000              	GLOBAL _s_col1
737   0000              	GLOBAL _s_col0
738   0000              	GLOBAL _s_lin1
739   0000              	GLOBAL _s_lin0
740   0000              	GLOBAL _s_tile1
741   0000              	GLOBAL _s_tile0
742   0000              	GLOBAL _player_brick_time
743   0000              	GLOBAL _player_hit_count
744   0000              	GLOBAL _sprite_horizontal_check
745   0000              	GLOBAL _sprite_on_air
746   0000              	GLOBAL _sprite
747   0000              	GLOBAL _fps
748   0000              	GLOBAL _game_respawn_curr_time
749   0000              	GLOBAL _game_worldup
750   0000              	GLOBAL _game_mush_count
751   0000              	GLOBAL _game_boss_fix
752   0000              	GLOBAL _game_boss_hit
753   0000              	GLOBAL _game_boss_alive
754   0000              	GLOBAL _game_boss
755   0000              	GLOBAL _game_world
756   0000              	GLOBAL _game_gravity
757   0000              	GLOBAL _player_hit_time
758   0000              	GLOBAL _player_lin_scr
759   0000              	GLOBAL _player_col_scr
760   0000              	GLOBAL _player_lvl
761   0000              	GLOBAL _player_int
762   0000              	GLOBAL _player_str
763   0000              	GLOBAL _player_max_vita
764   0000              	GLOBAL _player_max_mana
765   0000              	GLOBAL _player_vita
766   0000              	GLOBAL _player_mana
767   0000              	GLOBAL _player_keys
768   0000              	GLOBAL _player_vel_inc
769   0000              	GLOBAL _player_vel_y1
770   0000              	GLOBAL _player_vel_y0
771   0000              	GLOBAL _player_vel_y
772   0000              	GLOBAL _player_vel_x
773   0000              	GLOBAL _player_joy
774   0000              	GLOBAL _player_score
775   0000              	GLOBAL _last_time
776   0000              	GLOBAL _player_slide
777   0000              	GLOBAL _spr_timer
778   0000              	GLOBAL _jump_lin
779   0000              	GLOBAL _player_hit_col
780   0000              	GLOBAL _player_hit_lin
781   0000              	GLOBAL _colint
782   0000              	GLOBAL _col
783   0000              	GLOBAL _lin
784   0000              	GLOBAL _tile
785   0000              	GLOBAL _state_a
786   0000              	GLOBAL _state
787   0000              	GLOBAL _class
788   0000              	GLOBAL _tbuffer
789   0000              	GLOBAL _dirs
790   0000              	GLOBAL _k1
791   0000              	GLOBAL _joyfunc1
792   0000              	GLOBAL _btiles
793   0000              	GLOBAL _spec128
794   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
795   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
797   0000              	GLOBAL _ay_effect_20
798   0000              	GLOBAL _ay_effect_19
799   0000              	GLOBAL _ay_effect_18
800   0000              	GLOBAL _ay_effect_17
801   0000              	GLOBAL _ay_effect_16
802   0000              	GLOBAL _ay_effect_15
803   0000              	GLOBAL _ay_effect_14
804   0000              	GLOBAL _ay_effect_13
805   0000              	GLOBAL _ay_effect_12
806   0000              	GLOBAL _ay_effect_11
807   0000              	GLOBAL _ay_effect_10
808   0000              	GLOBAL _ay_effect_09
809   0000              	GLOBAL _ay_effect_08
810   0000              	GLOBAL _ay_effect_07
811   0000              	GLOBAL _ay_effect_06
812   0000              	GLOBAL _ay_effect_05
813   0000              	GLOBAL _ay_effect_04
814   0000              	GLOBAL _ay_effect_03
815   0000              	GLOBAL _ay_effect_02
816   0000              	GLOBAL _ay_effect_01
817   0000              	GLOBAL _pb_midi_phase_1
818   0000              	GLOBAL _pb_midi_title
819   0000              	GLOBAL _control_method
820   0000              	GLOBAL _world1_h
821   0000              	GLOBAL _world1_w
822   0000              	GLOBAL _world1
823   0000              	GLOBAL _paper1
824   0000              	GLOBAL _lenght1
825   0000              	GLOBAL _start_scr1
826   0000              	GLOBAL _world0_h
827   0000              	GLOBAL _world0_w
828   0000              	GLOBAL _world0
829   0000              	GLOBAL _paper0
830   0000              	GLOBAL _lenght0
831   0000              	GLOBAL _start_scr0
832   0000              ;--------------------------------------------------------
833   0000              ; special function registers
834   0000              ;--------------------------------------------------------
835   0000              defc _IO_FE	=	0x00fe
836   0000              defc _IO_1FFD	=	0x1ffd
837   0000              defc _IO_7FFD	=	0x7ffd
838   0000              ;--------------------------------------------------------
839   0000              ; ram data
840   0000              ;--------------------------------------------------------
841   0000              	SECTION bss_compiler
842   0000              ;--------------------------------------------------------
843   0000              ; ram data
844   0000              ;--------------------------------------------------------
845   0000              
846   0000              IF 0
847   0000              
848   0000              ; .area _INITIALIZED removed by z88dk
849   0000              
850   0000              
851   0000              ENDIF
852   0000              
853   0000              ;--------------------------------------------------------
854   0000              ; absolute external ram data
855   0000              ;--------------------------------------------------------
856   0000              	SECTION IGNORE
857   0000              ;--------------------------------------------------------
858   0000              ; global & static initialisations
859   0000              ;--------------------------------------------------------
860   0000              	SECTION code_crt_init
861   0000              ;--------------------------------------------------------
862   0000              ; Home
863   0000              ;--------------------------------------------------------
864   0000              	SECTION IGNORE
865   0000              ;--------------------------------------------------------
866   0000              ; code
867   0000              ;--------------------------------------------------------
868   0000              	SECTION code_compiler
869   0000              ;	---------------------------------
870   0000              ; Function spr_calc_index
871   0000              ; ---------------------------------
872   0000              _spr_calc_index:
873   0000  CD 00 00    	call	___sdcc_enter_ix
874   0003  DD 4E 05    	ld	c,(ix+5)
875   0006  CB 39       	srl	c
876   0008  06 00       	ld	b,0x00
877   000A  DD 7E 04    	ld	a,(ix+4)
878   000D  07          	rlca
879   000E  07          	rlca
880   000F  07          	rlca
881   0010  07          	rlca
882   0011  E6 0F       	and	a,0x0f
883   0013  6F          	ld	l, a
884   0014  26 00       	ld	h,0x00
885   0016  29          	add	hl, hl
886   0017  29          	add	hl, hl
887   0018  29          	add	hl, hl
888   0019  29          	add	hl, hl
889   001A  09          	add	hl, bc
890   001B  DD E1       	pop	ix
891   001D  C9          	ret
892   001E              	SECTION code_compiler
893   001E              ;	---------------------------------
894   001E              ; Function spr_chktime
895   001E              ; ---------------------------------
896   001E              _spr_chktime:
897   001E  CD 00 00    	call	___sdcc_enter_ix
898   0021  5E          	ld	e,(hl)
899   0022  F5          	push	af
900   0023  16 00       	ld	d,0x00
901   0025  4D          	ld	c,l
902   0026  44          	ld	b,h
903   0027  21 00 00    	ld	hl,_sprite_speed_alt
904   002A  19          	add	hl, de
905   002B  7E          	ld	a, (hl)
906   002C  B7          	or	a,a
907   002D  20 15       	jr	NZ,l_spr_chktime_00102
908   002F  57          	ld	d,a
909   0030  21 00 00    	ld	hl,_class
910   0033  19          	add	hl, de
911   0034  56          	ld	d, (hl)
912   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
913   0037  82          	add	a, d
914   0038  6F          	ld	l, a
915   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
916   003B  CE 00       	adc	a,0x00
917   003D  67          	ld	h, a
918   003E  7E          	ld	a, (hl)
919   003F  32 00 00    	ld	(_tmp),a
920   0042  18 03       	jr	l_spr_chktime_00103
921   0044              l_spr_chktime_00102:
922   0044  32 00 00    	ld	(_tmp),a
923   0047              l_spr_chktime_00103:
924   0047  3A 00 00    	ld	a,(_tmp)
925   004A  DD 77 FE    	ld	(ix-2),a
926   004D  26 00       	ld	h,0x00
927   004F  DD 74 FF    	ld	(ix-1),h
928   0052  6B          	ld	l, e
929   0053  29          	add	hl, hl
930   0054  11 00 00    	ld	de,_last_time
931   0057  19          	add	hl, de
932   0058  5E          	ld	e, (hl)
933   0059  23          	inc	hl
934   005A  56          	ld	d, (hl)
935   005B  C5          	push	bc
936   005C  DD 6E FE    	ld	l,(ix-2)
937   005F  DD 66 FF    	ld	h,(ix-1)
938   0062  E5          	push	hl
939   0063  D5          	push	de
940   0064  CD 00 00    	call	_game_check_time
941   0067  F1          	pop	af
942   0068  F1          	pop	af
943   0069  C1          	pop	bc
944   006A  7D          	ld	a,l
945   006B  B7          	or	a, a
946   006C  28 14       	jr	Z,l_spr_chktime_00105
947   006E  0A          	ld	a, (bc)
948   006F  6F          	ld	l, a
949   0070  26 00       	ld	h,0x00
950   0072  29          	add	hl, hl
951   0073  01 00 00    	ld	bc,_last_time
952   0076  09          	add	hl,bc
953   0077  ED 5B 00 00 	ld	de,(_curr_time)
954   007B  73          	ld	(hl),e
955   007C  23          	inc	hl
956   007D  72          	ld	(hl),d
957   007E  2E 01       	ld	l,0x01
958   0080  18 02       	jr	l_spr_chktime_00106
959   0082              l_spr_chktime_00105:
960   0082  2E 00       	ld	l,0x00
961   0084              l_spr_chktime_00106:
962   0084  F1          	pop	af
963   0085  DD E1       	pop	ix
964   0087  C9          	ret
965   0088              	SECTION code_compiler
966   0088              ;	---------------------------------
967   0088              ; Function spr_move_up
968   0088              ; ---------------------------------
969   0088              _spr_move_up:
970   0088  2A 00 00    	ld	hl,(_sprite)
971   008B  26 00       	ld	h,0x00
972   008D  01 00 00    	ld	bc,_lin
973   0090  09          	add	hl,bc
974   0091  7E          	ld	a,(hl)
975   0092  C6 FE       	add	a,0xfe
976   0094  32 00 00    	ld	(_s_lin1),a
977   0097  07          	rlca
978   0098  07          	rlca
979   0099  07          	rlca
980   009A  07          	rlca
981   009B  E6 0F       	and	a,0x0f
982   009D  4F          	ld	c, a
983   009E  3A 00 00    	ld	a,(_s_lin0)
984   00A1  07          	rlca
985   00A2  07          	rlca
986   00A3  07          	rlca
987   00A4  07          	rlca
988   00A5  E6 0F       	and	a,0x0f
989   00A7  47          	ld	b, a
990   00A8  79          	ld	a, c
991   00A9  90          	sub	a, b
992   00AA  20 04       	jr	NZ,l_spr_move_up_00136
993   00AC  3E 01       	ld	a,0x01
994   00AE  18 01       	jr	l_spr_move_up_00137
995   00B0              l_spr_move_up_00136:
996   00B0  AF          	xor	a,a
997   00B1              l_spr_move_up_00137:
998   00B1  EE 01       	xor	a,0x01
999   00B3  28 1D       	jr	Z,l_spr_move_up_00104
1000  00B5  2A 00 00    	ld	hl,(_sprite)
1001  00B8  26 00       	ld	h,0x00
1002  00BA  01 00 00    	ld	bc,_col
1003  00BD  09          	add	hl,bc
1004  00BE  7E          	ld	a,(hl)
1005  00BF  F5          	push	af
1006  00C0  33          	inc	sp
1007  00C1  3A 00 00    	ld	a,(_s_lin1)
1008  00C4  F5          	push	af
1009  00C5  33          	inc	sp
1010  00C6  CD 00 00    	call	_game_check_map
1011  00C9  F1          	pop	af
1012  00CA  7C          	ld	a,h
1013  00CB  B5          	or	a,l
1014  00CC  28 04       	jr	Z,l_spr_move_up_00104
1015  00CE  2E 01       	ld	l,0x01
1016  00D0  18 3F       	jr	l_spr_move_up_00114
1017  00D2              l_spr_move_up_00104:
1018  00D2  2A 00 00    	ld	hl,(_sprite)
1019  00D5  26 00       	ld	h,0x00
1020  00D7  01 00 00    	ld	bc,_lin
1021  00DA  09          	add	hl,bc
1022  00DB  3A 00 00    	ld	a,(_s_lin1)
1023  00DE  D6 10       	sub	a,0x10
1024  00E0  4D          	ld	c,l
1025  00E1  44          	ld	b,h
1026  00E2  30 27       	jr	NC,l_spr_move_up_00112
1027  00E4  3A 00 00    	ld	a,(_sprite)
1028  00E7  D6 07       	sub	a,0x07
1029  00E9  20 1A       	jr	NZ,l_spr_move_up_00109
1030  00EB  CD 78 04    	call	_spr_page_up
1031  00EE  7D          	ld	a, l
1032  00EF  B7          	or	a, a
1033  00F0  28 04       	jr	Z,l_spr_move_up_00106
1034  00F2  2E 01       	ld	l,0x01
1035  00F4  18 1B       	jr	l_spr_move_up_00114
1036  00F6              l_spr_move_up_00106:
1037  00F6  2A 00 00    	ld	hl,(_sprite)
1038  00F9  26 00       	ld	h,0x00
1039  00FB  01 00 00    	ld	bc,_lin
1040  00FE  09          	add	hl,bc
1041  00FF  AF          	xor	a,a
1042  0100  77          	ld	(hl),a
1043  0101  2E 01       	ld	l,0x01
1044  0103  18 0C       	jr	l_spr_move_up_00114
1045  0105              l_spr_move_up_00109:
1046  0105  AF          	xor	a, a
1047  0106  02          	ld	(bc), a
1048  0107  2E 01       	ld	l,0x01
1049  0109  18 06       	jr	l_spr_move_up_00114
1050  010B              l_spr_move_up_00112:
1051  010B  3A 00 00    	ld	a,(_s_lin1)
1052  010E  02          	ld	(bc), a
1053  010F  2E 00       	ld	l,0x00
1054  0111              l_spr_move_up_00114:
1055  0111  C9          	ret
1056  0112              	SECTION code_compiler
1057  0112              ;	---------------------------------
1058  0112              ; Function spr_move_down
1059  0112              ; ---------------------------------
1060  0112              _spr_move_down:
1061  0112  2A 00 00    	ld	hl,(_sprite)
1062  0115  26 00       	ld	h,0x00
1063  0117  01 00 00    	ld	bc,_lin
1064  011A  09          	add	hl,bc
1065  011B  7E          	ld	a,(hl)
1066  011C  C6 10       	add	a,0x10
1067  011E  32 00 00    	ld	(_s_lin1),a
1068  0121  07          	rlca
1069  0122  07          	rlca
1070  0123  07          	rlca
1071  0124  07          	rlca
1072  0125  E6 0F       	and	a,0x0f
1073  0127  4F          	ld	c, a
1074  0128  3A 00 00    	ld	a,(_s_lin0)
1075  012B  07          	rlca
1076  012C  07          	rlca
1077  012D  07          	rlca
1078  012E  07          	rlca
1079  012F  E6 0F       	and	a,0x0f
1080  0131  47          	ld	b, a
1081  0132  79          	ld	a, c
1082  0133  90          	sub	a, b
1083  0134  20 04       	jr	NZ,l_spr_move_down_00136
1084  0136  3E 01       	ld	a,0x01
1085  0138  18 01       	jr	l_spr_move_down_00137
1086  013A              l_spr_move_down_00136:
1087  013A  AF          	xor	a,a
1088  013B              l_spr_move_down_00137:
1089  013B  EE 01       	xor	a,0x01
1090  013D  28 1D       	jr	Z,l_spr_move_down_00104
1091  013F  2A 00 00    	ld	hl,(_sprite)
1092  0142  26 00       	ld	h,0x00
1093  0144  01 00 00    	ld	bc,_col
1094  0147  09          	add	hl,bc
1095  0148  7E          	ld	a,(hl)
1096  0149  F5          	push	af
1097  014A  33          	inc	sp
1098  014B  3A 00 00    	ld	a,(_s_lin1)
1099  014E  F5          	push	af
1100  014F  33          	inc	sp
1101  0150  CD 00 00    	call	_game_check_map
1102  0153  F1          	pop	af
1103  0154  7C          	ld	a,h
1104  0155  B5          	or	a,l
1105  0156  28 04       	jr	Z,l_spr_move_down_00104
1106  0158  2E 01       	ld	l,0x01
1107  015A  18 48       	jr	l_spr_move_down_00114
1108  015C              l_spr_move_down_00104:
1109  015C  2A 00 00    	ld	hl,(_sprite)
1110  015F  26 00       	ld	h,0x00
1111  0161  01 00 00    	ld	bc,_lin
1112  0164  09          	add	hl,bc
1113  0165  3E 90       	ld	a,0x90
1114  0167  4D          	ld	c,l
1115  0168  44          	ld	b,h
1116  0169  21 00 00    	ld	hl,_s_lin1
1117  016C  96          	sub	a, (hl)
1118  016D  30 2D       	jr	NC,l_spr_move_down_00112
1119  016F  3A 00 00    	ld	a,(_sprite)
1120  0172  D6 07       	sub	a,0x07
1121  0174  20 1F       	jr	NZ,l_spr_move_down_00109
1122  0176  2E 06       	ld	l,0x06
1123  0178  CD 00 00    	call	_zx_border_fastcall
1124  017B  CD 29 04    	call	_spr_page_down
1125  017E  7D          	ld	a, l
1126  017F  B7          	or	a, a
1127  0180  28 04       	jr	Z,l_spr_move_down_00106
1128  0182  2E 01       	ld	l,0x01
1129  0184  18 1E       	jr	l_spr_move_down_00114
1130  0186              l_spr_move_down_00106:
1131  0186  2A 00 00    	ld	hl,(_sprite)
1132  0189  26 00       	ld	h,0x00
1133  018B  01 00 00    	ld	bc,_lin
1134  018E  09          	add	hl,bc
1135  018F  36 90       	ld	(hl),0x90
1136  0191  2E 01       	ld	l,0x01
1137  0193  18 0F       	jr	l_spr_move_down_00114
1138  0195              l_spr_move_down_00109:
1139  0195  3E 90       	ld	a,0x90
1140  0197  02          	ld	(bc), a
1141  0198  2E 01       	ld	l,0x01
1142  019A  18 08       	jr	l_spr_move_down_00114
1143  019C              l_spr_move_down_00112:
1144  019C  3A 00 00    	ld	a,(_s_lin1)
1145  019F  C6 F2       	add	a,0xf2
1146  01A1  02          	ld	(bc), a
1147  01A2  2E 00       	ld	l,0x00
1148  01A4              l_spr_move_down_00114:
1149  01A4  C9          	ret
1150  01A5              	SECTION code_compiler
1151  01A5              ;	---------------------------------
1152  01A5              ; Function spr_move_horizontal
1153  01A5              ; ---------------------------------
1154  01A5              _spr_move_horizontal:
1155  01A5  2A 00 00    	ld	hl,(_sprite)
1156  01A8  26 00       	ld	h,0x00
1157  01AA  01 00 00    	ld	bc,_state
1158  01AD  09          	add	hl,bc
1159  01AE  7E          	ld	a,(hl)
1160  01AF  CB 57       	bit	2, a
1161  01B1  28 05       	jr	Z,l_spr_move_horizontal_00104
1162  01B3  CD C4 01    	call	_spr_move_right
1163  01B6  18 0B       	jr	l_spr_move_horizontal_00106
1164  01B8              l_spr_move_horizontal_00104:
1165  01B8  CB 5F       	bit	3, a
1166  01BA  28 05       	jr	Z,l_spr_move_horizontal_00105
1167  01BC  CD C3 02    	call	_spr_move_left
1168  01BF  18 02       	jr	l_spr_move_horizontal_00106
1169  01C1              l_spr_move_horizontal_00105:
1170  01C1  2E 00       	ld	l,0x00
1171  01C3              l_spr_move_horizontal_00106:
1172  01C3  C9          	ret
1173  01C4              	SECTION code_compiler
1174  01C4              ;	---------------------------------
1175  01C4              ; Function spr_move_right
1176  01C4              ; ---------------------------------
1177  01C4              _spr_move_right:
1178  01C4  2A 00 00    	ld	hl,(_sprite)
1179  01C7  26 00       	ld	h,0x00
1180  01C9  01 00 00    	ld	bc,_colint
1181  01CC  09          	add	hl,bc
1182  01CD  7E          	ld	a,(hl)
1183  01CE  3C          	inc	a
1184  01CF  77          	ld	(hl),a
1185  01D0  4F          	ld	c,a
1186  01D1  3A 00 00    	ld	a,(_sprite)
1187  01D4  5F          	ld	e,a
1188  01D5  16 00       	ld	d,0x00
1189  01D7  21 00 00    	ld	hl,_class
1190  01DA  19          	add	hl,de
1191  01DB  5E          	ld	e, (hl)
1192  01DC  16 00       	ld	d,0x00
1193  01DE  21 00 00    	ld	hl,_sprite_frames
1194  01E1  19          	add	hl, de
1195  01E2  7E          	ld	a, (hl)
1196  01E3  91          	sub	a, c
1197  01E4  C2 C0 02    	jp	NZ,l_spr_move_right_00118
1198  01E7  2A 00 00    	ld	hl,(_sprite)
1199  01EA  26 00       	ld	h,0x00
1200  01EC  01 00 00    	ld	bc,_lin
1201  01EF  09          	add	hl,bc
1202  01F0  7E          	ld	a,(hl)
1203  01F1  32 00 00    	ld	(_s_lin1),a
1204  01F4  2A 00 00    	ld	hl,(_sprite)
1205  01F7  26 00       	ld	h,0x00
1206  01F9  01 00 00    	ld	bc,_col
1207  01FC  09          	add	hl,bc
1208  01FD  7E          	ld	a,(hl)
1209  01FE  FE 1E       	cp	a,0x1e
1210  0200  30 61       	jr	NC,l_spr_move_right_00108
1211  0202  3C          	inc	a
1212  0203  32 00 00    	ld	(_s_col1),a
1213  0206  21 00 00    	ld	hl,_sprite_horizontal_check
1214  0209  36 01       	ld	(hl),0x01
1215  020B  2A FF FF    	ld	hl,(_s_col1 - 1)
1216  020E  3A 00 00    	ld	a,(_s_lin1)
1217  0211  6F          	ld	l,a
1218  0212  E5          	push	hl
1219  0213  CD 00 00    	call	_game_check_map
1220  0216  F1          	pop	af
1221  0217  7D          	ld	a,l
1222  0218  32 00 00    	ld	(_tmp0),a
1223  021B  B7          	or	a, a
1224  021C  20 16       	jr	NZ,l_spr_move_right_00102
1225  021E  3A 00 00    	ld	a,(_s_lin1)
1226  0221  C6 0F       	add	a,0x0f
1227  0223  4F          	ld	c, a
1228  0224  3A 00 00    	ld	a,(_s_col1)
1229  0227  F5          	push	af
1230  0228  33          	inc	sp
1231  0229  79          	ld	a, c
1232  022A  F5          	push	af
1233  022B  33          	inc	sp
1234  022C  CD 00 00    	call	_game_check_map
1235  022F  F1          	pop	af
1236  0230  7D          	ld	a,l
1237  0231  32 00 00    	ld	(_tmp0),a
1238  0234              l_spr_move_right_00102:
1239  0234  21 00 00    	ld	hl,_sprite_horizontal_check
1240  0237  36 00       	ld	(hl),0x00
1241  0239  3A 00 00    	ld	a,(_tmp0)
1242  023C  B7          	or	a, a
1243  023D  28 24       	jr	Z,l_spr_move_right_00108
1244  023F  2A 00 00    	ld	hl,(_sprite)
1245  0242  26 00       	ld	h,0x00
1246  0244  01 00 00    	ld	bc,_colint
1247  0247  09          	add	hl,bc
1248  0248  7E          	ld	a,(hl)
1249  0249  C6 FF       	add	a,0xff
1250  024B  77          	ld	(hl),a
1251  024C  3A 00 00    	ld	a,(_sprite_on_air)
1252  024F  B7          	or	a,a
1253  0250  20 0D       	jr	NZ,l_spr_move_right_00104
1254  0252  2A 00 00    	ld	hl,(_sprite)
1255  0255  26 00       	ld	h,0x00
1256  0257  01 00 00    	ld	bc,_colint
1257  025A  09          	add	hl,bc
1258  025B  7E          	ld	a,(hl)
1259  025C  C6 FF       	add	a,0xff
1260  025E  77          	ld	(hl),a
1261  025F              l_spr_move_right_00104:
1262  025F  2E 01       	ld	l,0x01
1263  0261  18 5F       	jr	l_spr_move_right_00119
1264  0263              l_spr_move_right_00108:
1265  0263  2A 00 00    	ld	hl,(_sprite)
1266  0266  26 00       	ld	h,0x00
1267  0268  01 00 00    	ld	bc,_col
1268  026B  09          	add	hl,bc
1269  026C  34          	inc	(hl)
1270  026D  2A 00 00    	ld	hl,(_sprite)
1271  0270  26 00       	ld	h,0x00
1272  0272  01 00 00    	ld	bc,_colint
1273  0275  09          	add	hl,bc
1274  0276  AF          	xor	a,a
1275  0277  77          	ld	(hl),a
1276  0278  2A 00 00    	ld	hl,(_sprite)
1277  027B  26 00       	ld	h,0x00
1278  027D  01 00 00    	ld	bc,_col
1279  0280  09          	add	hl,bc
1280  0281  5E          	ld	e,(hl)
1281  0282  3E 1E       	ld	a,0x1e
1282  0284  93          	sub	a,e
1283  0285  30 39       	jr	NC,l_spr_move_right_00118
1284  0287  3A 00 00    	ld	a,(_sprite)
1285  028A  D6 07       	sub	a,0x07
1286  028C  28 04       	jr	Z,l_spr_move_right_00156
1287  028E  4D          	ld	c,l
1288  028F  44          	ld	b,h
1289  0290  18 27       	jr	l_spr_move_right_00113
1290  0292              l_spr_move_right_00156:
1291  0292  CD C7 03    	call	_spr_page_right
1292  0295  3A 00 00    	ld	a,(_sprite)
1293  0298  C6 00       	add	a,+((_col) & 0xFF)
1294  029A  4D          	ld	c,l
1295  029B  5F          	ld	e,a
1296  029C  3E 00       	ld	a,+((_col) / 256)
1297  029E  CE 00       	adc	a,0x00
1298  02A0  57          	ld	d,a
1299  02A1  79          	ld	a, c
1300  02A2  B7          	or	a, a
1301  02A3  28 0F       	jr	Z,l_spr_move_right_00110
1302  02A5  AF          	xor	a, a
1303  02A6  12          	ld	(de), a
1304  02A7  3A 07 00    	ld	a,(_lin + 7)
1305  02AA  32 00 00    	ld	(_player_lin_scr),a
1306  02AD  21 00 00    	ld	hl,_player_col_scr
1307  02B0  36 00       	ld	(hl),0x00
1308  02B2  18 08       	jr	l_spr_move_right_00114
1309  02B4              l_spr_move_right_00110:
1310  02B4  3E 1E       	ld	a,0x1e
1311  02B6  12          	ld	(de), a
1312  02B7  18 03       	jr	l_spr_move_right_00114
1313  02B9              l_spr_move_right_00113:
1314  02B9  3E 1E       	ld	a,0x1e
1315  02BB  02          	ld	(bc), a
1316  02BC              l_spr_move_right_00114:
1317  02BC  2E 01       	ld	l,0x01
1318  02BE  18 02       	jr	l_spr_move_right_00119
1319  02C0              l_spr_move_right_00118:
1320  02C0  2E 00       	ld	l,0x00
1321  02C2              l_spr_move_right_00119:
1322  02C2  C9          	ret
1323  02C3              	SECTION code_compiler
1324  02C3              ;	---------------------------------
1325  02C3              ; Function spr_move_left
1326  02C3              ; ---------------------------------
1327  02C3              _spr_move_left:
1328  02C3  2A 00 00    	ld	hl,(_sprite)
1329  02C6  26 00       	ld	h,0x00
1330  02C8  01 00 00    	ld	bc,_colint
1331  02CB  09          	add	hl,bc
1332  02CC  7E          	ld	a,(hl)
1333  02CD  C6 FF       	add	a,0xff
1334  02CF  77          	ld	(hl),a
1335  02D0  2A 00 00    	ld	hl,(_sprite)
1336  02D3  26 00       	ld	h,0x00
1337  02D5  01 00 00    	ld	bc,_colint
1338  02D8  09          	add	hl,bc
1339  02D9  7E          	ld	a,(hl)
1340  02DA  3C          	inc	a
1341  02DB  C2 C4 03    	jp	NZ,l_spr_move_left_00118
1342  02DE  2A 00 00    	ld	hl,(_sprite)
1343  02E1  26 00       	ld	h,0x00
1344  02E3  01 00 00    	ld	bc,_lin
1345  02E6  09          	add	hl,bc
1346  02E7  7E          	ld	a,(hl)
1347  02E8  32 00 00    	ld	(_s_lin1),a
1348  02EB  2A 00 00    	ld	hl,(_sprite)
1349  02EE  26 00       	ld	h,0x00
1350  02F0  01 00 00    	ld	bc,_col
1351  02F3  09          	add	hl,bc
1352  02F4  7E          	ld	a,(hl)
1353  02F5  B7          	or	a, a
1354  02F6  28 5C       	jr	Z,l_spr_move_left_00108
1355  02F8  C6 FF       	add	a,0xff
1356  02FA  32 00 00    	ld	(_s_col1),a
1357  02FD  21 00 00    	ld	hl,_sprite_horizontal_check
1358  0300  36 01       	ld	(hl),0x01
1359  0302  2A FF FF    	ld	hl,(_s_col1 - 1)
1360  0305  3A 00 00    	ld	a,(_s_lin1)
1361  0308  6F          	ld	l,a
1362  0309  E5          	push	hl
1363  030A  CD 00 00    	call	_game_check_map
1364  030D  F1          	pop	af
1365  030E  7D          	ld	a,l
1366  030F  32 00 00    	ld	(_tmp0),a
1367  0312  B7          	or	a, a
1368  0313  20 16       	jr	NZ,l_spr_move_left_00102
1369  0315  3A 00 00    	ld	a,(_s_lin1)
1370  0318  C6 0F       	add	a,0x0f
1371  031A  4F          	ld	c, a
1372  031B  3A 00 00    	ld	a,(_s_col1)
1373  031E  F5          	push	af
1374  031F  33          	inc	sp
1375  0320  79          	ld	a, c
1376  0321  F5          	push	af
1377  0322  33          	inc	sp
1378  0323  CD 00 00    	call	_game_check_map
1379  0326  F1          	pop	af
1380  0327  7D          	ld	a,l
1381  0328  32 00 00    	ld	(_tmp0),a
1382  032B              l_spr_move_left_00102:
1383  032B  21 00 00    	ld	hl,_sprite_horizontal_check
1384  032E  36 00       	ld	(hl),0x00
1385  0330  3A 00 00    	ld	a,(_tmp0)
1386  0333  B7          	or	a, a
1387  0334  28 1E       	jr	Z,l_spr_move_left_00108
1388  0336  2A 00 00    	ld	hl,(_sprite)
1389  0339  26 00       	ld	h,0x00
1390  033B  01 00 00    	ld	bc,_colint
1391  033E  09          	add	hl,bc
1392  033F  34          	inc	(hl)
1393  0340  3A 00 00    	ld	a,(_sprite_on_air)
1394  0343  B7          	or	a,a
1395  0344  20 0A       	jr	NZ,l_spr_move_left_00104
1396  0346  2A 00 00    	ld	hl,(_sprite)
1397  0349  26 00       	ld	h,0x00
1398  034B  01 00 00    	ld	bc,_colint
1399  034E  09          	add	hl,bc
1400  034F  34          	inc	(hl)
1401  0350              l_spr_move_left_00104:
1402  0350  2E 01       	ld	l,0x01
1403  0352  18 72       	jr	l_spr_move_left_00119
1404  0354              l_spr_move_left_00108:
1405  0354  2A 00 00    	ld	hl,(_sprite)
1406  0357  26 00       	ld	h,0x00
1407  0359  01 00 00    	ld	bc,_col
1408  035C  09          	add	hl,bc
1409  035D  7E          	ld	a,(hl)
1410  035E  C6 FF       	add	a,0xff
1411  0360  77          	ld	(hl),a
1412  0361  2A 00 00    	ld	hl,(_sprite)
1413  0364  26 00       	ld	h,0x00
1414  0366  01 00 00    	ld	bc,_colint
1415  0369  09          	add	hl,bc
1416  036A  3A 00 00    	ld	a,(_sprite)
1417  036D  5F          	ld	e,a
1418  036E  16 00       	ld	d,0x00
1419  0370  4D          	ld	c,l
1420  0371  44          	ld	b,h
1421  0372  21 00 00    	ld	hl,_class
1422  0375  19          	add	hl,de
1423  0376  5E          	ld	e, (hl)
1424  0377  16 00       	ld	d,0x00
1425  0379  21 00 00    	ld	hl,_sprite_frames
1426  037C  19          	add	hl, de
1427  037D  5E          	ld	e, (hl)
1428  037E  1D          	dec	e
1429  037F  7B          	ld	a, e
1430  0380  02          	ld	(bc), a
1431  0381  2A 00 00    	ld	hl,(_sprite)
1432  0384  26 00       	ld	h,0x00
1433  0386  01 00 00    	ld	bc,_col
1434  0389  09          	add	hl,bc
1435  038A  7E          	ld	a,(hl)
1436  038B  3C          	inc	a
1437  038C  20 36       	jr	NZ,l_spr_move_left_00118
1438  038E  3A 00 00    	ld	a,(_sprite)
1439  0391  D6 07       	sub	a,0x07
1440  0393  4D          	ld	c,l
1441  0394  44          	ld	b,h
1442  0395  20 27       	jr	NZ,l_spr_move_left_00113
1443  0397  CD FA 03    	call	_spr_page_left
1444  039A  3A 00 00    	ld	a,(_sprite)
1445  039D  C6 00       	add	a,+((_col) & 0xFF)
1446  039F  4D          	ld	c,l
1447  03A0  5F          	ld	e,a
1448  03A1  3E 00       	ld	a,+((_col) / 256)
1449  03A3  CE 00       	adc	a,0x00
1450  03A5  57          	ld	d,a
1451  03A6  79          	ld	a, c
1452  03A7  B7          	or	a, a
1453  03A8  28 10       	jr	Z,l_spr_move_left_00110
1454  03AA  3E 1E       	ld	a,0x1e
1455  03AC  12          	ld	(de), a
1456  03AD  3A 07 00    	ld	a,(_lin + 7)
1457  03B0  32 00 00    	ld	(_player_lin_scr),a
1458  03B3  21 00 00    	ld	hl,_player_col_scr
1459  03B6  36 1E       	ld	(hl),0x1e
1460  03B8  18 06       	jr	l_spr_move_left_00114
1461  03BA              l_spr_move_left_00110:
1462  03BA  AF          	xor	a, a
1463  03BB  12          	ld	(de), a
1464  03BC  18 02       	jr	l_spr_move_left_00114
1465  03BE              l_spr_move_left_00113:
1466  03BE  AF          	xor	a, a
1467  03BF  02          	ld	(bc), a
1468  03C0              l_spr_move_left_00114:
1469  03C0  2E 01       	ld	l,0x01
1470  03C2  18 02       	jr	l_spr_move_left_00119
1471  03C4              l_spr_move_left_00118:
1472  03C4  2E 00       	ld	l,0x00
1473  03C6              l_spr_move_left_00119:
1474  03C6  C9          	ret
1475  03C7              	SECTION code_compiler
1476  03C7              ;	---------------------------------
1477  03C7              ; Function spr_page_right
1478  03C7              ; ---------------------------------
1479  03C7              _spr_page_right:
1480  03C7  2A FF FF    	ld	hl,(_map_width - 1)
1481  03CA  3A 00 00    	ld	a,(_scr_curr)
1482  03CD  6F          	ld	l,a
1483  03CE  E5          	push	hl
1484  03CF  CD 00 00    	call	__moduchar_callee
1485  03D2  7D          	ld	a, l
1486  03D3  3C          	inc	a
1487  03D4  32 00 00    	ld	(_tmp1),a
1488  03D7  21 00 00    	ld	hl,_map_width
1489  03DA  96          	sub	a, (hl)
1490  03DB  30 1A       	jr	NC,l_spr_page_right_00102
1491  03DD  3A 00 00    	ld	a,(_game_boss)
1492  03E0  B7          	or	a, a
1493  03E1  28 06       	jr	Z,l_spr_page_right_00101
1494  03E3  3A 00 00    	ld	a,(_game_god_mode)
1495  03E6  B7          	or	a, a
1496  03E7  28 0E       	jr	Z,l_spr_page_right_00102
1497  03E9              l_spr_page_right_00101:
1498  03E9  21 00 00    	ld	hl,_scr_curr
1499  03EC  34          	inc	(hl)
1500  03ED  CD C3 04    	call	_spr_page_map
1501  03F0  CD 00 00    	call	_game_draw_screen
1502  03F3  2E 01       	ld	l,0x01
1503  03F5  18 02       	jr	l_spr_page_right_00105
1504  03F7              l_spr_page_right_00102:
1505  03F7  2E 00       	ld	l,0x00
1506  03F9              l_spr_page_right_00105:
1507  03F9  C9          	ret
1508  03FA              	SECTION code_compiler
1509  03FA              ;	---------------------------------
1510  03FA              ; Function spr_page_left
1511  03FA              ; ---------------------------------
1512  03FA              _spr_page_left:
1513  03FA  2A FF FF    	ld	hl,(_map_width - 1)
1514  03FD  3A 00 00    	ld	a,(_scr_curr)
1515  0400  6F          	ld	l,a
1516  0401  E5          	push	hl
1517  0402  CD 00 00    	call	__moduchar_callee
1518  0405  7D          	ld	a,l
1519  0406  32 00 00    	ld	(_tmp1),a
1520  0409  B7          	or	a, a
1521  040A  28 1A       	jr	Z,l_spr_page_left_00102
1522  040C  3A 00 00    	ld	a,(_game_boss)
1523  040F  B7          	or	a, a
1524  0410  28 06       	jr	Z,l_spr_page_left_00101
1525  0412  3A 00 00    	ld	a,(_game_god_mode)
1526  0415  B7          	or	a, a
1527  0416  28 0E       	jr	Z,l_spr_page_left_00102
1528  0418              l_spr_page_left_00101:
1529  0418  21 00 00    	ld	hl,_scr_curr
1530  041B  35          	dec	(hl)
1531  041C  CD C3 04    	call	_spr_page_map
1532  041F  CD 00 00    	call	_game_draw_screen
1533  0422  2E 01       	ld	l,0x01
1534  0424  18 02       	jr	l_spr_page_left_00105
1535  0426              l_spr_page_left_00102:
1536  0426  2E 00       	ld	l,0x00
1537  0428              l_spr_page_left_00105:
1538  0428  C9          	ret
1539  0429              	SECTION code_compiler
1540  0429              ;	---------------------------------
1541  0429              ; Function spr_page_down
1542  0429              ; ---------------------------------
1543  0429              _spr_page_down:
1544  0429  2A FF FF    	ld	hl,(_map_heigth - 1)
1545  042C  3A 00 00    	ld	a,(_scr_curr)
1546  042F  6F          	ld	l,a
1547  0430  E5          	push	hl
1548  0431  CD 00 00    	call	__divuchar_callee
1549  0434  7D          	ld	a, l
1550  0435  3C          	inc	a
1551  0436  32 00 00    	ld	(_tmp1),a
1552  0439  21 00 00    	ld	hl,_map_heigth
1553  043C  96          	sub	a, (hl)
1554  043D  30 36       	jr	NC,l_spr_page_down_00102
1555  043F  3A 00 00    	ld	a,(_game_boss)
1556  0442  B7          	or	a, a
1557  0443  28 06       	jr	Z,l_spr_page_down_00101
1558  0445  3A 00 00    	ld	a,(_game_god_mode)
1559  0448  B7          	or	a, a
1560  0449  28 2A       	jr	Z,l_spr_page_down_00102
1561  044B              l_spr_page_down_00101:
1562  044B  3A 00 00    	ld	a,(_scr_curr)
1563  044E  21 00 00    	ld	hl,_map_width
1564  0451  86          	add	a, (hl)
1565  0452  32 00 00    	ld	(_scr_curr),a
1566  0455  CD C3 04    	call	_spr_page_map
1567  0458  CD 00 00    	call	_game_draw_screen
1568  045B  21 00 00    	ld	hl,_player_lin_scr
1569  045E  36 08       	ld	(hl),0x08
1570  0460  2A 00 00    	ld	hl,(_sprite)
1571  0463  26 00       	ld	h,0x00
1572  0465  01 00 00    	ld	bc,_lin
1573  0468  09          	add	hl,bc
1574  0469  36 08       	ld	(hl),0x08
1575  046B  3A 07 00    	ld	a,(_col + 0x0007)
1576  046E  32 00 00    	ld	(_player_col_scr),a
1577  0471  2E 01       	ld	l,0x01
1578  0473  18 02       	jr	l_spr_page_down_00105
1579  0475              l_spr_page_down_00102:
1580  0475  2E 00       	ld	l,0x00
1581  0477              l_spr_page_down_00105:
1582  0477  C9          	ret
1583  0478              	SECTION code_compiler
1584  0478              ;	---------------------------------
1585  0478              ; Function spr_page_up
1586  0478              ; ---------------------------------
1587  0478              _spr_page_up:
1588  0478  2A FF FF    	ld	hl,(_map_heigth - 1)
1589  047B  3A 00 00    	ld	a,(_scr_curr)
1590  047E  6F          	ld	l,a
1591  047F  E5          	push	hl
1592  0480  CD 00 00    	call	__divuchar_callee
1593  0483  7D          	ld	a,l
1594  0484  32 00 00    	ld	(_tmp1),a
1595  0487  B7          	or	a, a
1596  0488  28 36       	jr	Z,l_spr_page_up_00102
1597  048A  3A 00 00    	ld	a,(_game_boss)
1598  048D  B7          	or	a, a
1599  048E  28 06       	jr	Z,l_spr_page_up_00101
1600  0490  3A 00 00    	ld	a,(_game_god_mode)
1601  0493  B7          	or	a, a
1602  0494  28 2A       	jr	Z,l_spr_page_up_00102
1603  0496              l_spr_page_up_00101:
1604  0496  3A 00 00    	ld	a,(_scr_curr)
1605  0499  21 00 00    	ld	hl,_map_width
1606  049C  96          	sub	a, (hl)
1607  049D  32 00 00    	ld	(_scr_curr),a
1608  04A0  CD C3 04    	call	_spr_page_map
1609  04A3  CD 00 00    	call	_game_draw_screen
1610  04A6  2A 00 00    	ld	hl,(_sprite)
1611  04A9  26 00       	ld	h,0x00
1612  04AB  01 00 00    	ld	bc,_lin
1613  04AE  09          	add	hl,bc
1614  04AF  36 8C       	ld	(hl),0x8c
1615  04B1  21 00 00    	ld	hl,_player_lin_scr
1616  04B4  36 90       	ld	(hl),0x90
1617  04B6  3A 07 00    	ld	a,(_col + 0x0007)
1618  04B9  32 00 00    	ld	(_player_col_scr),a
1619  04BC  2E 01       	ld	l,0x01
1620  04BE  18 02       	jr	l_spr_page_up_00105
1621  04C0              l_spr_page_up_00102:
1622  04C0  2E 00       	ld	l,0x00
1623  04C2              l_spr_page_up_00105:
1624  04C2  C9          	ret
1625  04C3              	SECTION code_compiler
1626  04C3              ;	---------------------------------
1627  04C3              ; Function spr_page_map
1628  04C3              ; ---------------------------------
1629  04C3              _spr_page_map:
1630  04C3  CD 00 00    	call	___sdcc_enter_ix
1631  04C6  21 EB FF    	ld	hl, -21
1632  04C9  39          	add	hl, sp
1633  04CA  F9          	ld	sp, hl
1634  04CB  3A 00 00    	ld	a,(_game_world)
1635  04CE  DD 77 EE    	ld	(ix-18),a
1636  04D1  3A 00 00    	ld	a,(_scr_curr)
1637  04D4  DD 77 EB    	ld	(ix-21),a
1638  04D7  DD 36 F1 10 	ld	(ix-15),0x10
1639  04DB  06 00       	ld	b,0x00
1640  04DD              l_spr_page_map_00138:
1641  04DD  C5          	push	bc
1642  04DE  21 00 00    	ld	hl,0x0000
1643  04E1  E5          	push	hl
1644  04E2  AF          	xor	a, a
1645  04E3  48          	ld	c,b
1646  04E4  47          	ld	b,a
1647  04E5  C5          	push	bc
1648  04E6  CD 00 00    	call	_NIRVANAP_spriteT_callee
1649  04E9  C1          	pop	bc
1650  04EA  04          	inc	b
1651  04EB  78          	ld	a, b
1652  04EC  D6 08       	sub	a,0x08
1653  04EE  38 ED       	jr	C,l_spr_page_map_00138
1654  04F0  76          	halt
1655  04F1  F3          	di
1656  04F2  DD 36 F3 00 	ld	(ix-13),0x00
1657  04F6              l_spr_page_map_00155:
1658  04F6  DD 7E F3    	ld	a,(ix-13)
1659  04F9  87          	add	a, a
1660  04FA  DD 77 FF    	ld	(ix-1),a
1661  04FD  DD 77 FE    	ld	(ix-2),a
1662  0500  DD 36 F2 01 	ld	(ix-14),0x01
1663  0504              l_spr_page_map_00140:
1664  0504  DD 7E F2    	ld	a,(ix-14)
1665  0507  07          	rlca
1666  0508  07          	rlca
1667  0509  07          	rlca
1668  050A  07          	rlca
1669  050B  E6 F0       	and	a,0xf0
1670  050D  47          	ld	b, a
1671  050E  DD 7E FE    	ld	a,(ix-2)
1672  0511  48          	ld	c,b
1673  0512  47          	ld	b,a
1674  0513  C5          	push	bc
1675  0514  AF          	xor	a, a
1676  0515  F5          	push	af
1677  0516  33          	inc	sp
1678  0517  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1679  051A  DD 34 F2    	inc	(ix-14)
1680  051D  DD 7E F2    	ld	a,(ix-14)
1681  0520  D6 0A       	sub	a,0x0a
1682  0522  38 E0       	jr	C,l_spr_page_map_00140
1683  0524  3E 1E       	ld	a,0x1e
1684  0526  DD 96 FF    	sub	a,(ix-1)
1685  0529  47          	ld	b, a
1686  052A  0E 01       	ld	c,0x01
1687  052C              l_spr_page_map_00142:
1688  052C  79          	ld	a, c
1689  052D  07          	rlca
1690  052E  07          	rlca
1691  052F  07          	rlca
1692  0530  07          	rlca
1693  0531  E6 F0       	and	a,0xf0
1694  0533  57          	ld	d, a
1695  0534  C5          	push	bc
1696  0535  4A          	ld	c, d
1697  0536  C5          	push	bc
1698  0537  AF          	xor	a, a
1699  0538  F5          	push	af
1700  0539  33          	inc	sp
1701  053A  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1702  053D  C1          	pop	bc
1703  053E  0C          	inc	c
1704  053F  79          	ld	a, c
1705  0540  D6 0A       	sub	a,0x0a
1706  0542  38 E8       	jr	C,l_spr_page_map_00142
1707  0544  FB          	ei
1708  0545  76          	halt
1709  0546  F3          	di
1710  0547  DD 34 F3    	inc	(ix-13)
1711  054A  DD 7E F3    	ld	a,(ix-13)
1712  054D  D6 08       	sub	a,0x08
1713  054F  38 A5       	jr	C,l_spr_page_map_00155
1714  0551  3E 16       	ld	a,0x16
1715  0553  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1716  0556  01 FD 7F    	ld	bc,_IO_7FFD
1717  0559  ED 79       	out	(c),a
1718  055B  DD 7E EB    	ld	a,(ix-21)
1719  055E  3C          	inc	a
1720  055F  20 04       	jr	NZ,l_spr_page_map_00255
1721  0561  3E 01       	ld	a,0x01
1722  0563  18 01       	jr	l_spr_page_map_00256
1723  0565              l_spr_page_map_00255:
1724  0565  AF          	xor	a,a
1725  0566              l_spr_page_map_00256:
1726  0566  DD 77 FE    	ld	(ix-2),a
1727  0569  DD 7E EE    	ld	a,(ix-18)
1728  056C  B7          	or	a, a
1729  056D  20 32       	jr	NZ,l_spr_page_map_00110
1730  056F  DD 7E FE    	ld	a,(ix-2)
1731  0572  B7          	or	a, a
1732  0573  28 07       	jr	Z,l_spr_page_map_00106
1733  0575  21 00 00    	ld	hl,_start_scr0
1734  0578  4E          	ld	c, (hl)
1735  0579  DD 71 EB    	ld	(ix-21),c
1736  057C              l_spr_page_map_00106:
1737  057C  01 00 00    	ld	bc,_paper0
1738  057F  DD 6E EB    	ld	l,(ix-21)
1739  0582  26 00       	ld	h,0x00
1740  0584  09          	add	hl,bc
1741  0585  DD 75 FC    	ld	(ix-4),l
1742  0588  DD 74 FD    	ld	(ix-3),h
1743  058B  7E          	ld	a, (hl)
1744  058C  DD 77 FC    	ld	(ix-4),a
1745  058F  3A 00 00    	ld	a,(_world0_w)
1746  0592  DD 77 ED    	ld	(ix-19),a
1747  0595  DD 77 FF    	ld	(ix-1),a
1748  0598  21 00 00    	ld	hl,_world0_h
1749  059B  4E          	ld	c, (hl)
1750  059C  DD 71 FB    	ld	(ix-5),c
1751  059F  18 32       	jr	l_spr_page_map_00111
1752  05A1              l_spr_page_map_00110:
1753  05A1  DD 7E FE    	ld	a,(ix-2)
1754  05A4  B7          	or	a, a
1755  05A5  28 07       	jr	Z,l_spr_page_map_00108
1756  05A7  21 00 00    	ld	hl,_start_scr1
1757  05AA  4E          	ld	c, (hl)
1758  05AB  DD 71 EB    	ld	(ix-21),c
1759  05AE              l_spr_page_map_00108:
1760  05AE  01 00 00    	ld	bc,_paper1
1761  05B1  DD 6E EB    	ld	l,(ix-21)
1762  05B4  26 00       	ld	h,0x00
1763  05B6  09          	add	hl,bc
1764  05B7  DD 75 F9    	ld	(ix-7),l
1765  05BA  DD 74 FA    	ld	(ix-6),h
1766  05BD  7E          	ld	a, (hl)
1767  05BE  DD 77 FC    	ld	(ix-4),a
1768  05C1  3A 00 00    	ld	a,(_world1_w)
1769  05C4  DD 77 ED    	ld	(ix-19),a
1770  05C7  DD 77 FF    	ld	(ix-1),a
1771  05CA  3A 00 00    	ld	a,(_world1_h)
1772  05CD  DD 77 EC    	ld	(ix-20),a
1773  05D0  DD 77 FB    	ld	(ix-5),a
1774  05D3              l_spr_page_map_00111:
1775  05D3  3E 10       	ld	a,0x10
1776  05D5  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1777  05D8  01 FD 7F    	ld	bc,_IO_7FFD
1778  05DB  ED 79       	out	(c),a
1779  05DD  3E 00       	ld	a,0x00
1780  05DF  DD 77 EF    	ld	(ix-17),a
1781  05E2  DD 77 F0    	ld	(ix-16),a
1782  05E5  DD 77 F2    	ld	(ix-14),a
1783  05E8              l_spr_page_map_00115:
1784  05E8  DD 7E F2    	ld	a,(ix-14)
1785  05EB  DD 96 EB    	sub	a,(ix-21)
1786  05EE  30 64       	jr	NC,l_spr_page_map_00117
1787  05F0  3E 16       	ld	a,0x16
1788  05F2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1789  05F5  01 FD 7F    	ld	bc,_IO_7FFD
1790  05F8  ED 79       	out	(c),a
1791  05FA  DD 7E EE    	ld	a,(ix-18)
1792  05FD  B7          	or	a, a
1793  05FE  20 19       	jr	NZ,l_spr_page_map_00113
1794  0600  01 00 00    	ld	bc,_lenght0
1795  0603  DD 6E F2    	ld	l,(ix-14)
1796  0606  26 00       	ld	h,0x00
1797  0608  09          	add	hl,bc
1798  0609  DD 75 F9    	ld	(ix-7),l
1799  060C  DD 74 FA    	ld	(ix-6),h
1800  060F  7E          	ld	a, (hl)
1801  0610  DD 77 F9    	ld	(ix-7),a
1802  0613  DD 36 FA 00 	ld	(ix-6),0x00
1803  0617  18 1A       	jr	l_spr_page_map_00114
1804  0619              l_spr_page_map_00113:
1805  0619  01 00 00    	ld	bc,_lenght1
1806  061C  DD 6E F2    	ld	l,(ix-14)
1807  061F  26 00       	ld	h,0x00
1808  0621  09          	add	hl,bc
1809  0622  DD 75 F7    	ld	(ix-9),l
1810  0625  DD 74 F8    	ld	(ix-8),h
1811  0628  7E          	ld	a, (hl)
1812  0629  DD 77 F7    	ld	(ix-9),a
1813  062C  DD 77 F9    	ld	(ix-7),a
1814  062F  DD 36 FA 00 	ld	(ix-6),0x00
1815  0633              l_spr_page_map_00114:
1816  0633  3E 10       	ld	a,0x10
1817  0635  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1818  0638  01 FD 7F    	ld	bc,_IO_7FFD
1819  063B  ED 79       	out	(c),a
1820  063D  DD 7E EF    	ld	a,(ix-17)
1821  0640  DD 86 F9    	add	a,(ix-7)
1822  0643  DD 77 EF    	ld	(ix-17),a
1823  0646  DD 7E F0    	ld	a,(ix-16)
1824  0649  DD 8E FA    	adc	a,(ix-6)
1825  064C  DD 77 F0    	ld	(ix-16),a
1826  064F  DD 34 F2    	inc	(ix-14)
1827  0652  18 94       	jr	l_spr_page_map_00115
1828  0654              l_spr_page_map_00117:
1829  0654  FB          	ei
1830  0655  F3          	di
1831  0656  DD 36 F3 00 	ld	(ix-13),0x00
1832  065A              l_spr_page_map_00149:
1833  065A  3E 16       	ld	a,0x16
1834  065C  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1835  065F  01 FD 7F    	ld	bc,_IO_7FFD
1836  0662  ED 79       	out	(c),a
1837  0664  DD 7E F3    	ld	a,(ix-13)
1838  0667  DD 77 F7    	ld	(ix-9),a
1839  066A  DD 36 F8 00 	ld	(ix-8),0x00
1840  066E  DD 7E EF    	ld	a,(ix-17)
1841  0671  DD 86 F7    	add	a,(ix-9)
1842  0674  DD 77 F7    	ld	(ix-9),a
1843  0677  DD 7E F0    	ld	a,(ix-16)
1844  067A  DD 8E F8    	adc	a,(ix-8)
1845  067D  DD 77 F8    	ld	(ix-8),a
1846  0680  DD 7E F7    	ld	a,(ix-9)
1847  0683  C6 01       	add	a,0x01
1848  0685  DD 77 F9    	ld	(ix-7),a
1849  0688  DD 7E F8    	ld	a,(ix-8)
1850  068B  CE 00       	adc	a,0x00
1851  068D  DD 77 FA    	ld	(ix-6),a
1852  0690  DD 7E EE    	ld	a,(ix-18)
1853  0693  B7          	or	a, a
1854  0694  20 1E       	jr	NZ,l_spr_page_map_00119
1855  0696  01 00 00    	ld	bc,_world0
1856  0699  DD 6E F7    	ld	l,(ix-9)
1857  069C  DD 66 F8    	ld	h,(ix-8)
1858  069F  09          	add	hl,bc
1859  06A0  7E          	ld	a, (hl)
1860  06A1  DD 77 F6    	ld	(ix-10),a
1861  06A4  01 00 00    	ld	bc,_world0
1862  06A7  DD 6E F9    	ld	l,(ix-7)
1863  06AA  DD 66 FA    	ld	h,(ix-6)
1864  06AD  09          	add	hl,bc
1865  06AE  7E          	ld	a, (hl)
1866  06AF  DD 77 F5    	ld	(ix-11),a
1867  06B2  18 1C       	jr	l_spr_page_map_00120
1868  06B4              l_spr_page_map_00119:
1869  06B4  01 00 00    	ld	bc,_world1
1870  06B7  DD 6E F7    	ld	l,(ix-9)
1871  06BA  DD 66 F8    	ld	h,(ix-8)
1872  06BD  09          	add	hl,bc
1873  06BE  7E          	ld	a, (hl)
1874  06BF  DD 77 F6    	ld	(ix-10),a
1875  06C2  01 00 00    	ld	bc,_world1
1876  06C5  DD 6E F9    	ld	l,(ix-7)
1877  06C8  DD 66 FA    	ld	h,(ix-6)
1878  06CB  09          	add	hl,bc
1879  06CC  7E          	ld	a, (hl)
1880  06CD  DD 77 F5    	ld	(ix-11),a
1881  06D0              l_spr_page_map_00120:
1882  06D0  3E 10       	ld	a,0x10
1883  06D2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1884  06D5  01 FD 7F    	ld	bc,_IO_7FFD
1885  06D8  ED 79       	out	(c),a
1886  06DA  DD 7E F6    	ld	a,(ix-10)
1887  06DD  D6 80       	sub	a,0x80
1888  06DF  30 42       	jr	NC,l_spr_page_map_00131
1889  06E1  DD 7E F1    	ld	a,(ix-15)
1890  06E4  DD 77 F7    	ld	(ix-9),a
1891  06E7  6F          	ld	l, a
1892  06E8  26 00       	ld	h,0x00
1893  06EA  DD 74 F8    	ld	(ix-8),h
1894  06ED  E5          	push	hl
1895  06EE  CD 00 00    	call	_game_obj_chk
1896  06F1  F1          	pop	af
1897  06F2  DD 75 F7    	ld	(ix-9),l
1898  06F5  3E 00       	ld	a, +((_scr_map) & 0xFF)
1899  06F7  DD 86 F1    	add	a,(ix-15)
1900  06FA  DD 77 F9    	ld	(ix-7),a
1901  06FD  3E 00       	ld	a, +((_scr_map) / 256)
1902  06FF  CE 00       	adc	a,0x00
1903  0701  DD 77 FA    	ld	(ix-6),a
1904  0704  DD 7E F7    	ld	a,(ix-9)
1905  0707  B7          	or	a, a
1906  0708  20 0C       	jr	NZ,l_spr_page_map_00122
1907  070A  DD 6E F9    	ld	l,(ix-7)
1908  070D  DD 66 FA    	ld	h,(ix-6)
1909  0710  DD 7E F6    	ld	a,(ix-10)
1910  0713  77          	ld	(hl), a
1911  0714  18 08       	jr	l_spr_page_map_00123
1912  0716              l_spr_page_map_00122:
1913  0716  DD 6E F9    	ld	l,(ix-7)
1914  0719  DD 66 FA    	ld	h,(ix-6)
1915  071C  36 00       	ld	(hl),0x00
1916  071E              l_spr_page_map_00123:
1917  071E  DD 34 F1    	inc	(ix-15)
1918  0721  18 6D       	jr	l_spr_page_map_00132
1919  0723              l_spr_page_map_00131:
1920  0723  DD 7E F6    	ld	a,(ix-10)
1921  0726  C6 80       	add	a,0x80
1922  0728  DD 77 F4    	ld	(ix-12),a
1923  072B  DD 7E F1    	ld	a,(ix-15)
1924  072E  DD 77 F7    	ld	(ix-9),a
1925  0731  DD 36 F2 00 	ld	(ix-14),0x00
1926  0735              l_spr_page_map_00147:
1927  0735  DD 7E F2    	ld	a,(ix-14)
1928  0738  DD 96 F4    	sub	a,(ix-12)
1929  073B  30 4A       	jr	NC,l_spr_page_map_00181
1930  073D  DD 7E F7    	ld	a,(ix-9)
1931  0740  DD 77 F9    	ld	(ix-7),a
1932  0743  6F          	ld	l, a
1933  0744  26 00       	ld	h,0x00
1934  0746  DD 74 FA    	ld	(ix-6),h
1935  0749  E5          	push	hl
1936  074A  CD 00 00    	call	_game_obj_chk
1937  074D  F1          	pop	af
1938  074E  7D          	ld	a, l
1939  074F  B7          	or	a, a
1940  0750  20 15       	jr	NZ,l_spr_page_map_00125
1941  0752  01 00 00    	ld	bc,_scr_map
1942  0755  DD 6E F7    	ld	l,(ix-9)
1943  0758  26 00       	ld	h,0x00
1944  075A  09          	add	hl,bc
1945  075B  DD 75 F9    	ld	(ix-7),l
1946  075E  DD 74 FA    	ld	(ix-6),h
1947  0761  DD 7E F5    	ld	a,(ix-11)
1948  0764  77          	ld	(hl), a
1949  0765  18 11       	jr	l_spr_page_map_00126
1950  0767              l_spr_page_map_00125:
1951  0767  01 00 00    	ld	bc,_scr_map
1952  076A  DD 6E F7    	ld	l,(ix-9)
1953  076D  26 00       	ld	h,0x00
1954  076F  09          	add	hl,bc
1955  0770  DD 75 F9    	ld	(ix-7),l
1956  0773  DD 74 FA    	ld	(ix-6),h
1957  0776  36 00       	ld	(hl),0x00
1958  0778              l_spr_page_map_00126:
1959  0778  DD 34 F7    	inc	(ix-9)
1960  077B  DD 7E F7    	ld	a,(ix-9)
1961  077E  D6 A0       	sub	a,0xa0
1962  0780  30 05       	jr	NC,l_spr_page_map_00181
1963  0782  DD 34 F2    	inc	(ix-14)
1964  0785  18 AE       	jr	l_spr_page_map_00147
1965  0787              l_spr_page_map_00181:
1966  0787  DD 7E F7    	ld	a,(ix-9)
1967  078A  DD 77 F1    	ld	(ix-15),a
1968  078D  DD 34 F3    	inc	(ix-13)
1969  0790              l_spr_page_map_00132:
1970  0790  DD 7E F1    	ld	a,(ix-15)
1971  0793  D6 A0       	sub	a,0xa0
1972  0795  30 0B       	jr	NC,l_spr_page_map_00135
1973  0797  DD 34 F3    	inc	(ix-13)
1974  079A  DD 7E F3    	ld	a,(ix-13)
1975  079D  D6 A0       	sub	a,0xa0
1976  079F  DA 5A 06    	jp	C, l_spr_page_map_00149
1977  07A2              l_spr_page_map_00135:
1978  07A2  CD 37 0E    	call	_spr_init_anim_bullets
1979  07A5  DD 7E EB    	ld	a,(ix-21)
1980  07A8  32 00 00    	ld	(_scr_curr),a
1981  07AB  DD 7E FF    	ld	a,(ix-1)
1982  07AE  32 00 00    	ld	(_map_width),a
1983  07B1  DD 7E FB    	ld	a,(ix-5)
1984  07B4  32 00 00    	ld	(_map_heigth),a
1985  07B7  DD 7E FC    	ld	a,(ix-4)
1986  07BA  32 00 00    	ld	(_map_paper),a
1987  07BD  3A 00 00    	ld	a,(_map_paper_last)
1988  07C0  21 00 00    	ld	hl,_map_paper
1989  07C3  96          	sub	a, (hl)
1990  07C4  28 03       	jr	Z,l_spr_page_map_00137
1991  07C6  CD 76 16    	call	_spr_btile_paint_back
1992  07C9              l_spr_page_map_00137:
1993  07C9  3A 00 00    	ld	a,(_map_paper)
1994  07CC  32 00 00    	ld	(_map_paper_last),a
1995  07CF  FB          	ei
1996  07D0  CD 00 00    	call	_NIRVANAP_start
1997  07D3  21 00 00    	ld	hl,_screen_ink
1998  07D6  36 06       	ld	(hl),0x06
1999  07D8  21 00 00    	ld	hl,___str_0
2000  07DB  E5          	push	hl
2001  07DC  21 17 0C    	ld	hl,0x0c17
2002  07DF  E5          	push	hl
2003  07E0  CD 00 00    	call	_zx_print_str
2004  07E3  3A 00 00    	ld	a,(_scr_curr)
2005  07E6  F5          	push	af
2006  07E7  33          	inc	sp
2007  07E8  21 17 10    	ld	hl,0x1017
2008  07EB  E5          	push	hl
2009  07EC  CD 00 00    	call	_zx_print_chr
2010  07EF  DD F9       	ld	sp, ix
2011  07F1  DD E1       	pop	ix
2012  07F3  C9          	ret
2013  07F4              	SECTION rodata_compiler
2014  0000              ___str_0:
2015  0000  53 43 52 3A 	DEFM "SCR:"
2016  0004  00          	DEFB 0x00
2017  0005              	SECTION code_compiler
2018  07F4              ;	---------------------------------
2019  07F4              ; Function spr_redraw
2020  07F4              ; ---------------------------------
2021  07F4              _spr_redraw:
2022  07F4  CD 00 00    	call	___sdcc_enter_ix
2023  07F7  F5          	push	af
2024  07F8  3B          	dec	sp
2025  07F9  3E 00       	ld	a, +((_tile) & 0xFF)
2026  07FB  21 00 00    	ld	hl,_sprite
2027  07FE  86          	add	a, (hl)
2028  07FF  DD 77 FE    	ld	(ix-2),a
2029  0802  6F          	ld	l,a
2030  0803  3E 00       	ld	a,+((_tile) / 256)
2031  0805  CE 00       	adc	a,0x00
2032  0807  DD 77 FF    	ld	(ix-1),a
2033  080A  67          	ld	h,a
2034  080B  7E          	ld	a, (hl)
2035  080C  DD 77 FE    	ld	(ix-2),a
2036  080F  2A 00 00    	ld	hl,(_sprite)
2037  0812  26 00       	ld	h,0x00
2038  0814  11 00 00    	ld	de,_colint
2039  0817  19          	add	hl,de
2040  0818  7E          	ld	a,(hl)
2041  0819  EB          	ex	de,hl
2042  081A  DD 77 FD    	ld	(ix-3),a
2043  081D  DD 7E FE    	ld	a,(ix-2)
2044  0820  DD 86 FD    	add	a,(ix-3)
2045  0823  32 00 00    	ld	(_s_tile1),a
2046  0826  2A 00 00    	ld	hl,(_sprite)
2047  0829  26 00       	ld	h,0x00
2048  082B  01 00 00    	ld	bc,_col
2049  082E  09          	add	hl,bc
2050  082F  7E          	ld	a,(hl)
2051  0830  32 00 00    	ld	(_s_col1),a
2052  0833  2A 00 00    	ld	hl,(_sprite)
2053  0836  26 00       	ld	h,0x00
2054  0838  01 00 00    	ld	bc,_lin
2055  083B  09          	add	hl,bc
2056  083C  7E          	ld	a,(hl)
2057  083D  21 00 00    	ld	hl,_s_lin1
2058  0840  77          	ld	(hl),a
2059  0841  4F          	ld	c,a
2060  0842  7E          	ld	a, (hl)
2061  0843  21 00 00    	ld	hl,_s_lin0
2062  0846  96          	sub	a, (hl)
2063  0847  20 0A       	jr	NZ,l_spr_redraw_00117
2064  0849  3A 00 00    	ld	a,(_s_col1)
2065  084C  21 00 00    	ld	hl,_s_col0
2066  084F  96          	sub	a, (hl)
2067  0850  CA 00 09    	jp	Z,l_spr_redraw_00118
2068  0853              l_spr_redraw_00117:
2069  0853  3A 00 00    	ld	a,(_sprite)
2070  0856  D6 07       	sub	a,0x07
2071  0858  20 34       	jr	NZ,l_spr_redraw_00113
2072  085A  3A 00 00    	ld	a,(_player_over_stair)
2073  085D  B7          	or	a, a
2074  085E  28 29       	jr	Z,l_spr_redraw_00104
2075  0860  79          	ld	a, c
2076  0861  E6 03       	and	a,0x03
2077  0863  20 24       	jr	NZ,l_spr_redraw_00104
2078  0865  3E 01       	ld	a,0x01
2079  0867  DD 96 FD    	sub	a,(ix-3)
2080  086A  30 02       	jr	NC,l_spr_redraw_00102
2081  086C  AF          	xor	a, a
2082  086D  12          	ld	(de), a
2083  086E              l_spr_redraw_00102:
2084  086E  2A 00 00    	ld	hl,(_sprite)
2085  0871  26 00       	ld	h,0x00
2086  0873  01 00 00    	ld	bc,_tile
2087  0876  09          	add	hl,bc
2088  0877  4E          	ld	c, (hl)
2089  0878  3A 00 00    	ld	a,(_sprite)
2090  087B  5F          	ld	e,a
2091  087C  16 00       	ld	d,0x00
2092  087E  21 00 00    	ld	hl,_colint
2093  0881  19          	add	hl,de
2094  0882  7E          	ld	a,(hl)
2095  0883  81          	add	a,c
2096  0884  C6 04       	add	a,0x04
2097  0886  32 00 00    	ld	(_s_tile1),a
2098  0889              l_spr_redraw_00104:
2099  0889  CD 8F 0C    	call	_spr_back_repaint
2100  088C  18 5B       	jr	l_spr_redraw_00114
2101  088E              l_spr_redraw_00113:
2102  088E  3A 00 00    	ld	a,(_s_lin1)
2103  0891  E6 07       	and	a,0x07
2104  0893  20 05       	jr	NZ,l_spr_redraw_00110
2105  0895  CD 8F 0C    	call	_spr_back_repaint
2106  0898  18 4F       	jr	l_spr_redraw_00114
2107  089A              l_spr_redraw_00110:
2108  089A  21 00 00    	ld	hl,_s_state
2109  089D  CB 46       	bit	0, (hl)
2110  089F  28 26       	jr	Z,l_spr_redraw_00107
2111  08A1  3A 00 00    	ld	a,(_s_lin0)
2112  08A4  C6 08       	add	a,0x08
2113  08A6  47          	ld	b, a
2114  08A7  3A 00 00    	ld	a,(_s_col0)
2115  08AA  F5          	push	af
2116  08AB  33          	inc	sp
2117  08AC  C5          	push	bc
2118  08AD  33          	inc	sp
2119  08AE  3A 00 00    	ld	a,(_map_paper_clr)
2120  08B1  F5          	push	af
2121  08B2  33          	inc	sp
2122  08B3  CD 00 00    	call	_NIRVANAP_fillC_callee
2123  08B6  21 00 00    	ld	hl,_s_col0
2124  08B9  56          	ld	d, (hl)
2125  08BA  14          	inc	d
2126  08BB  58          	ld	e,b
2127  08BC  3A 00 00    	ld	a,(_map_paper_clr)
2128  08BF  D5          	push	de
2129  08C0  F5          	push	af
2130  08C1  33          	inc	sp
2131  08C2  CD 00 00    	call	_NIRVANAP_fillC_callee
2132  08C5  18 22       	jr	l_spr_redraw_00114
2133  08C7              l_spr_redraw_00107:
2134  08C7  2A FF FF    	ld	hl,(_s_col0 - 1)
2135  08CA  3A 00 00    	ld	a,(_s_lin0)
2136  08CD  6F          	ld	l,a
2137  08CE  3A 00 00    	ld	a,(_map_paper_clr)
2138  08D1  E5          	push	hl
2139  08D2  F5          	push	af
2140  08D3  33          	inc	sp
2141  08D4  CD 00 00    	call	_NIRVANAP_fillC_callee
2142  08D7  21 00 00    	ld	hl,_s_col0
2143  08DA  46          	ld	b, (hl)
2144  08DB  04          	inc	b
2145  08DC  C5          	push	bc
2146  08DD  33          	inc	sp
2147  08DE  2A FF FF    	ld	hl,(_s_lin0 - 1)
2148  08E1  3A 00 00    	ld	a,(_map_paper_clr)
2149  08E4  6F          	ld	l,a
2150  08E5  E5          	push	hl
2151  08E6  CD 00 00    	call	_NIRVANAP_fillC_callee
2152  08E9              l_spr_redraw_00114:
2153  08E9  2A FF FF    	ld	hl,(_s_col1 - 1)
2154  08EC  3A 00 00    	ld	a,(_s_lin1)
2155  08EF  6F          	ld	l,a
2156  08F0  E5          	push	hl
2157  08F1  2A FF FF    	ld	hl,(_s_tile1 - 1)
2158  08F4  3A 00 00    	ld	a,(_sprite)
2159  08F7  6F          	ld	l,a
2160  08F8  E5          	push	hl
2161  08F9  CD 00 00    	call	_NIRVANAP_spriteT_callee
2162  08FC  2E 01       	ld	l,0x01
2163  08FE  18 22       	jr	l_spr_redraw_00121
2164  0900              l_spr_redraw_00118:
2165  0900  3A 00 00    	ld	a,(_s_tile1)
2166  0903  21 00 00    	ld	hl,_s_tile0
2167  0906  96          	sub	a, (hl)
2168  0907  28 17       	jr	Z,l_spr_redraw_00119
2169  0909  2A FF FF    	ld	hl,(_s_col1 - 1)
2170  090C  3A 00 00    	ld	a,(_s_lin1)
2171  090F  6F          	ld	l,a
2172  0910  E5          	push	hl
2173  0911  2A FF FF    	ld	hl,(_s_tile1 - 1)
2174  0914  3A 00 00    	ld	a,(_sprite)
2175  0917  6F          	ld	l,a
2176  0918  E5          	push	hl
2177  0919  CD 00 00    	call	_NIRVANAP_spriteT_callee
2178  091C  2E 00       	ld	l,0x00
2179  091E  18 02       	jr	l_spr_redraw_00121
2180  0920              l_spr_redraw_00119:
2181  0920  2E 00       	ld	l,0x00
2182  0922              l_spr_redraw_00121:
2183  0922  DD F9       	ld	sp, ix
2184  0924  DD E1       	pop	ix
2185  0926  C9          	ret
2186  0927              	SECTION code_compiler
2187  0927              ;	---------------------------------
2188  0927              ; Function spr_destroy
2189  0927              ; ---------------------------------
2190  0927              _spr_destroy:
2191  0927  CD 00 00    	call	___sdcc_enter_ix
2192  092A  F5          	push	af
2193  092B  4D          	ld	c, l
2194  092C  21 00 00    	ld	hl,_spr_count
2195  092F  35          	dec	(hl)
2196  0930  3E 00       	ld	a, +((_lin) & 0xFF)
2197  0932  81          	add	a, c
2198  0933  DD 77 FE    	ld	(ix-2),a
2199  0936  3E 00       	ld	a, +((_lin) / 256)
2200  0938  CE 00       	adc	a,0x00
2201  093A  DD 77 FF    	ld	(ix-1),a
2202  093D  E1          	pop	hl
2203  093E  7E          	ld	a,(hl)
2204  093F  E5          	push	hl
2205  0940  32 00 00    	ld	(_s_lin0),a
2206  0943  3E 00       	ld	a, +((_col) & 0xFF)
2207  0945  81          	add	a, c
2208  0946  5F          	ld	e, a
2209  0947  3E 00       	ld	a, +((_col) / 256)
2210  0949  CE 00       	adc	a,0x00
2211  094B  57          	ld	d, a
2212  094C  1A          	ld	a, (de)
2213  094D  32 00 00    	ld	(_s_col0),a
2214  0950  C5          	push	bc
2215  0951  D5          	push	de
2216  0952  21 00 00    	ld	hl,0x0000
2217  0955  E5          	push	hl
2218  0956  AF          	xor	a, a
2219  0957  F5          	push	af
2220  0958  33          	inc	sp
2221  0959  79          	ld	a, c
2222  095A  F5          	push	af
2223  095B  33          	inc	sp
2224  095C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2225  095F  CD 8F 0C    	call	_spr_back_repaint
2226  0962  D1          	pop	de
2227  0963  C1          	pop	bc
2228  0964  06 00       	ld	b,0x00
2229  0966  21 00 00    	ld	hl,_tile
2230  0969  09          	add	hl, bc
2231  096A  AF          	xor	a,a
2232  096B  77          	ld	(hl),a
2233  096C  E1          	pop	hl
2234  096D  12          	ld	(de),a
2235  096E  E5          	push	hl
2236  096F  36 00       	ld	(hl),0x00
2237  0971  11 00 00    	ld	de,_class+0
2238  0974  69          	ld	l,c
2239  0975  26 00       	ld	h,0x00
2240  0977  19          	add	hl, de
2241  0978  36 00       	ld	(hl),0x00
2242  097A  11 00 00    	ld	de,_state+0
2243  097D  69          	ld	l,c
2244  097E  26 00       	ld	h,0x00
2245  0980  19          	add	hl, de
2246  0981  36 00       	ld	(hl),0x00
2247  0983  11 00 00    	ld	de,_state_a+0
2248  0986  69          	ld	l,c
2249  0987  26 00       	ld	h,0x00
2250  0989  19          	add	hl, de
2251  098A  F1          	pop	af
2252  098B  36 00       	ld	(hl),0x00
2253  098D  DD E1       	pop	ix
2254  098F  C9          	ret
2255  0990              	SECTION code_compiler
2256  0990              ;	---------------------------------
2257  0990              ; Function spr_tile
2258  0990              ; ---------------------------------
2259  0990              _spr_tile:
2260  0990  45          	ld	b,l
2261  0991  11 00 00    	ld	de,_class+0
2262  0994  26 00       	ld	h,0x00
2263  0996  19          	add	hl, de
2264  0997  5E          	ld	e, (hl)
2265  0998  3E 13       	ld	a,0x13
2266  099A  93          	sub	a, e
2267  099B  DA CE 0A    	jp	C, l_spr_tile_00116
2268  099E  16 00       	ld	d,0x00
2269  09A0  21 A7 09    	ld	hl,l_spr_tile_00123
2270  09A3  19          	add	hl, de
2271  09A4  19          	add	hl, de
2272  09A5  19          	add	hl, de
2273  09A6  E9          	jp	(hl)
2274  09A7              l_spr_tile_00123:
2275  09A7  C3 CE 0A    	jp	l_spr_tile_00116
2276  09AA  C3 CE 0A    	jp	l_spr_tile_00116
2277  09AD  C3 35 0A    	jp	l_spr_tile_00106
2278  09B0  C3 46 0A    	jp	l_spr_tile_00107
2279  09B3  C3 56 0A    	jp	l_spr_tile_00108
2280  09B6  C3 65 0A    	jp	l_spr_tile_00109
2281  09B9  C3 A1 0A    	jp	l_spr_tile_00113
2282  09BC  C3 B0 0A    	jp	l_spr_tile_00114
2283  09BF  C3 BF 0A    	jp	l_spr_tile_00115
2284  09C2  C3 CE 0A    	jp	l_spr_tile_00116
2285  09C5  C3 CE 0A    	jp	l_spr_tile_00116
2286  09C8  C3 E3 09    	jp	l_spr_tile_00101
2287  09CB  C3 F3 09    	jp	l_spr_tile_00102
2288  09CE  C3 03 0A    	jp	l_spr_tile_00103
2289  09D1  C3 14 0A    	jp	l_spr_tile_00104
2290  09D4  C3 24 0A    	jp	l_spr_tile_00105
2291  09D7  C3 74 0A    	jp	l_spr_tile_00110
2292  09DA  C3 CE 0A    	jp	l_spr_tile_00116
2293  09DD  C3 83 0A    	jp	l_spr_tile_00111
2294  09E0  C3 92 0A    	jp	l_spr_tile_00112
2295  09E3              l_spr_tile_00101:
2296  09E3  AF          	xor	a, a
2297  09E4  48          	ld	c,b
2298  09E5  47          	ld	b,a
2299  09E6  C5          	push	bc
2300  09E7  3E 90       	ld	a,0x90
2301  09E9  F5          	push	af
2302  09EA  33          	inc	sp
2303  09EB  CD D1 0A    	call	_spr_tile_dir
2304  09EE  F1          	pop	af
2305  09EF  33          	inc	sp
2306  09F0  C3 D0 0A    	jp	l_spr_tile_00117
2307  09F3              l_spr_tile_00102:
2308  09F3  AF          	xor	a, a
2309  09F4  48          	ld	c,b
2310  09F5  47          	ld	b,a
2311  09F6  C5          	push	bc
2312  09F7  3E 94       	ld	a,0x94
2313  09F9  F5          	push	af
2314  09FA  33          	inc	sp
2315  09FB  CD D1 0A    	call	_spr_tile_dir
2316  09FE  F1          	pop	af
2317  09FF  33          	inc	sp
2318  0A00  C3 D0 0A    	jp	l_spr_tile_00117
2319  0A03              l_spr_tile_00103:
2320  0A03  3E 02       	ld	a,0x02
2321  0A05  48          	ld	c,b
2322  0A06  47          	ld	b,a
2323  0A07  C5          	push	bc
2324  0A08  3E 98       	ld	a,0x98
2325  0A0A  F5          	push	af
2326  0A0B  33          	inc	sp
2327  0A0C  CD D1 0A    	call	_spr_tile_dir
2328  0A0F  F1          	pop	af
2329  0A10  33          	inc	sp
2330  0A11  C3 D0 0A    	jp	l_spr_tile_00117
2331  0A14              l_spr_tile_00104:
2332  0A14  AF          	xor	a, a
2333  0A15  48          	ld	c,b
2334  0A16  47          	ld	b,a
2335  0A17  C5          	push	bc
2336  0A18  3E 9C       	ld	a,0x9c
2337  0A1A  F5          	push	af
2338  0A1B  33          	inc	sp
2339  0A1C  CD D1 0A    	call	_spr_tile_dir
2340  0A1F  F1          	pop	af
2341  0A20  33          	inc	sp
2342  0A21  C3 D0 0A    	jp	l_spr_tile_00117
2343  0A24              l_spr_tile_00105:
2344  0A24  3E 04       	ld	a,0x04
2345  0A26  48          	ld	c,b
2346  0A27  47          	ld	b,a
2347  0A28  C5          	push	bc
2348  0A29  3E A0       	ld	a,0xa0
2349  0A2B  F5          	push	af
2350  0A2C  33          	inc	sp
2351  0A2D  CD D1 0A    	call	_spr_tile_dir
2352  0A30  F1          	pop	af
2353  0A31  33          	inc	sp
2354  0A32  C3 D0 0A    	jp	l_spr_tile_00117
2355  0A35              l_spr_tile_00106:
2356  0A35  3E 02       	ld	a,0x02
2357  0A37  48          	ld	c,b
2358  0A38  47          	ld	b,a
2359  0A39  C5          	push	bc
2360  0A3A  3E A8       	ld	a,0xa8
2361  0A3C  F5          	push	af
2362  0A3D  33          	inc	sp
2363  0A3E  CD D1 0A    	call	_spr_tile_dir
2364  0A41  F1          	pop	af
2365  0A42  33          	inc	sp
2366  0A43  C3 D0 0A    	jp	l_spr_tile_00117
2367  0A46              l_spr_tile_00107:
2368  0A46  AF          	xor	a, a
2369  0A47  48          	ld	c,b
2370  0A48  47          	ld	b,a
2371  0A49  C5          	push	bc
2372  0A4A  3E AC       	ld	a,0xac
2373  0A4C  F5          	push	af
2374  0A4D  33          	inc	sp
2375  0A4E  CD D1 0A    	call	_spr_tile_dir
2376  0A51  F1          	pop	af
2377  0A52  33          	inc	sp
2378  0A53  C3 D0 0A    	jp	l_spr_tile_00117
2379  0A56              l_spr_tile_00108:
2380  0A56  AF          	xor	a, a
2381  0A57  48          	ld	c,b
2382  0A58  47          	ld	b,a
2383  0A59  C5          	push	bc
2384  0A5A  3E AE       	ld	a,0xae
2385  0A5C  F5          	push	af
2386  0A5D  33          	inc	sp
2387  0A5E  CD D1 0A    	call	_spr_tile_dir
2388  0A61  F1          	pop	af
2389  0A62  33          	inc	sp
2390  0A63  18 6B       	jr	l_spr_tile_00117
2391  0A65              l_spr_tile_00109:
2392  0A65  AF          	xor	a, a
2393  0A66  48          	ld	c,b
2394  0A67  47          	ld	b,a
2395  0A68  C5          	push	bc
2396  0A69  3E B0       	ld	a,0xb0
2397  0A6B  F5          	push	af
2398  0A6C  33          	inc	sp
2399  0A6D  CD D1 0A    	call	_spr_tile_dir
2400  0A70  F1          	pop	af
2401  0A71  33          	inc	sp
2402  0A72  18 5C       	jr	l_spr_tile_00117
2403  0A74              l_spr_tile_00110:
2404  0A74  AF          	xor	a, a
2405  0A75  48          	ld	c,b
2406  0A76  47          	ld	b,a
2407  0A77  C5          	push	bc
2408  0A78  3E B2       	ld	a,0xb2
2409  0A7A  F5          	push	af
2410  0A7B  33          	inc	sp
2411  0A7C  CD D1 0A    	call	_spr_tile_dir
2412  0A7F  F1          	pop	af
2413  0A80  33          	inc	sp
2414  0A81  18 4D       	jr	l_spr_tile_00117
2415  0A83              l_spr_tile_00111:
2416  0A83  AF          	xor	a, a
2417  0A84  48          	ld	c,b
2418  0A85  47          	ld	b,a
2419  0A86  C5          	push	bc
2420  0A87  3E B4       	ld	a,0xb4
2421  0A89  F5          	push	af
2422  0A8A  33          	inc	sp
2423  0A8B  CD D1 0A    	call	_spr_tile_dir
2424  0A8E  F1          	pop	af
2425  0A8F  33          	inc	sp
2426  0A90  18 3E       	jr	l_spr_tile_00117
2427  0A92              l_spr_tile_00112:
2428  0A92  AF          	xor	a, a
2429  0A93  48          	ld	c,b
2430  0A94  47          	ld	b,a
2431  0A95  C5          	push	bc
2432  0A96  3E B6       	ld	a,0xb6
2433  0A98  F5          	push	af
2434  0A99  33          	inc	sp
2435  0A9A  CD D1 0A    	call	_spr_tile_dir
2436  0A9D  F1          	pop	af
2437  0A9E  33          	inc	sp
2438  0A9F  18 2F       	jr	l_spr_tile_00117
2439  0AA1              l_spr_tile_00113:
2440  0AA1  AF          	xor	a, a
2441  0AA2  48          	ld	c,b
2442  0AA3  47          	ld	b,a
2443  0AA4  C5          	push	bc
2444  0AA5  3E C0       	ld	a,0xc0
2445  0AA7  F5          	push	af
2446  0AA8  33          	inc	sp
2447  0AA9  CD D1 0A    	call	_spr_tile_dir
2448  0AAC  F1          	pop	af
2449  0AAD  33          	inc	sp
2450  0AAE  18 20       	jr	l_spr_tile_00117
2451  0AB0              l_spr_tile_00114:
2452  0AB0  AF          	xor	a, a
2453  0AB1  48          	ld	c,b
2454  0AB2  47          	ld	b,a
2455  0AB3  C5          	push	bc
2456  0AB4  3E C2       	ld	a,0xc2
2457  0AB6  F5          	push	af
2458  0AB7  33          	inc	sp
2459  0AB8  CD D1 0A    	call	_spr_tile_dir
2460  0ABB  F1          	pop	af
2461  0ABC  33          	inc	sp
2462  0ABD  18 11       	jr	l_spr_tile_00117
2463  0ABF              l_spr_tile_00115:
2464  0ABF  AF          	xor	a, a
2465  0AC0  48          	ld	c,b
2466  0AC1  47          	ld	b,a
2467  0AC2  C5          	push	bc
2468  0AC3  3E C4       	ld	a,0xc4
2469  0AC5  F5          	push	af
2470  0AC6  33          	inc	sp
2471  0AC7  CD D1 0A    	call	_spr_tile_dir
2472  0ACA  F1          	pop	af
2473  0ACB  33          	inc	sp
2474  0ACC  18 02       	jr	l_spr_tile_00117
2475  0ACE              l_spr_tile_00116:
2476  0ACE  2E 00       	ld	l,0x00
2477  0AD0              l_spr_tile_00117:
2478  0AD0  C9          	ret
2479  0AD1              	SECTION code_compiler
2480  0AD1              ;	---------------------------------
2481  0AD1              ; Function spr_tile_dir
2482  0AD1              ; ---------------------------------
2483  0AD1              _spr_tile_dir:
2484  0AD1  CD 00 00    	call	___sdcc_enter_ix
2485  0AD4  3E 00       	ld	a, +((_state) & 0xFF)
2486  0AD6  DD 86 05    	add	a,(ix+5)
2487  0AD9  4F          	ld	c, a
2488  0ADA  3E 00       	ld	a, +((_state) / 256)
2489  0ADC  CE 00       	adc	a,0x00
2490  0ADE  47          	ld	b, a
2491  0ADF  0A          	ld	a, (bc)
2492  0AE0  4F          	ld	c,a
2493  0AE1  CB 57       	bit	2,a
2494  0AE3  28 05       	jr	Z,l_spr_tile_dir_00102
2495  0AE5  DD 6E 04    	ld	l,(ix+4)
2496  0AE8  18 2D       	jr	l_spr_tile_dir_00109
2497  0AEA              l_spr_tile_dir_00102:
2498  0AEA  DD 7E 04    	ld	a,(ix+4)
2499  0AED  DD 86 06    	add	a,(ix+6)
2500  0AF0  47          	ld	b, a
2501  0AF1  CB 59       	bit	3, c
2502  0AF3  28 03       	jr	Z,l_spr_tile_dir_00104
2503  0AF5  68          	ld	l, b
2504  0AF6  18 1F       	jr	l_spr_tile_dir_00109
2505  0AF8              l_spr_tile_dir_00104:
2506  0AF8  3E 00       	ld	a, +((_state_a) & 0xFF)
2507  0AFA  DD 86 05    	add	a,(ix+5)
2508  0AFD  5F          	ld	e, a
2509  0AFE  3E 00       	ld	a, +((_state_a) / 256)
2510  0B00  CE 00       	adc	a,0x00
2511  0B02  57          	ld	d, a
2512  0B03  1A          	ld	a, (de)
2513  0B04  CB 67       	bit	4, a
2514  0B06  28 05       	jr	Z,l_spr_tile_dir_00106
2515  0B08  DD 6E 04    	ld	l,(ix+4)
2516  0B0B  18 0A       	jr	l_spr_tile_dir_00109
2517  0B0D              l_spr_tile_dir_00106:
2518  0B0D  CB 5F       	bit	3, a
2519  0B0F  28 03       	jr	Z,l_spr_tile_dir_00108
2520  0B11  68          	ld	l, b
2521  0B12  18 03       	jr	l_spr_tile_dir_00109
2522  0B14              l_spr_tile_dir_00108:
2523  0B14  DD 6E 04    	ld	l,(ix+4)
2524  0B17              l_spr_tile_dir_00109:
2525  0B17  DD E1       	pop	ix
2526  0B19  C9          	ret
2527  0B1A              	SECTION code_compiler
2528  0B1A              ;	---------------------------------
2529  0B1A              ; Function spr_brick_anim
2530  0B1A              ; ---------------------------------
2531  0B1A              _spr_brick_anim:
2532  0B1A  CD 00 00    	call	___sdcc_enter_ix
2533  0B1D  F5          	push	af
2534  0B1E  3B          	dec	sp
2535  0B1F  4D          	ld	c, l
2536  0B20  21 00 00    	ld	hl,_player_hit_col
2537  0B23  56          	ld	d, (hl)
2538  0B24  21 00 00    	ld	hl,_player_hit_lin
2539  0B27  5E          	ld	e, (hl)
2540  0B28  C5          	push	bc
2541  0B29  D5          	push	de
2542  0B2A  D5          	push	de
2543  0B2B  CD 00 00    	call	_spr_calc_index
2544  0B2E  F1          	pop	af
2545  0B2F  DD 74 FF    	ld	(ix-1),h
2546  0B32  DD 75 FE    	ld	(ix-2),l
2547  0B35  D1          	pop	de
2548  0B36  C1          	pop	bc
2549  0B37  DD 6E FE    	ld	l,(ix-2)
2550  0B3A  DD 66 FF    	ld	h,(ix-1)
2551  0B3D  22 00 00    	ld	(_index1),hl
2552  0B40  21 00 00    	ld	hl,_index1
2553  0B43  7E          	ld	a, (hl)
2554  0B44  C6 F0       	add	a,0xf0
2555  0B46  DD 77 FE    	ld	(ix-2),a
2556  0B49  23          	inc	hl
2557  0B4A  7E          	ld	a, (hl)
2558  0B4B  CE FF       	adc	a,0xff
2559  0B4D  DD 77 FF    	ld	(ix-1),a
2560  0B50  3E 00       	ld	a, +((_scr_map) & 0xFF)
2561  0B52  DD 86 FE    	add	a,(ix-2)
2562  0B55  6F          	ld	l, a
2563  0B56  3E 00       	ld	a, +((_scr_map) / 256)
2564  0B58  DD 8E FF    	adc	a,(ix-1)
2565  0B5B  67          	ld	h, a
2566  0B5C  7E          	ld	a, (hl)
2567  0B5D  DD 77 FD    	ld	(ix-3),a
2568  0B60  3E 00       	ld	a, +((_scr_map) & 0xFF)
2569  0B62  21 00 00    	ld	hl,_index1
2570  0B65  86          	add	a, (hl)
2571  0B66  DD 77 FE    	ld	(ix-2),a
2572  0B69  3E 00       	ld	a, +((_scr_map) / 256)
2573  0B6B  23          	inc	hl
2574  0B6C  8E          	adc	a, (hl)
2575  0B6D  DD 6E FE    	ld	l,(ix-2)
2576  0B70  DD 77 FF    	ld	(ix-1),a
2577  0B73  67          	ld	h,a
2578  0B74  46          	ld	b, (hl)
2579  0B75  79          	ld	a, c
2580  0B76  B7          	or	a, a
2581  0B77  28 08       	jr	Z,l_spr_brick_anim_00102
2582  0B79  7B          	ld	a, e
2583  0B7A  C6 F6       	add	a,0xf6
2584  0B7C  32 00 00    	ld	(_tmp),a
2585  0B7F  18 06       	jr	l_spr_brick_anim_00103
2586  0B81              l_spr_brick_anim_00102:
2587  0B81  7B          	ld	a, e
2588  0B82  C6 F8       	add	a,0xf8
2589  0B84  32 00 00    	ld	(_tmp),a
2590  0B87              l_spr_brick_anim_00103:
2591  0B87  F3          	di
2592  0B88  79          	ld	a, c
2593  0B89  B7          	or	a, a
2594  0B8A  28 1A       	jr	Z,l_spr_brick_anim_00105
2595  0B8C  3A 00 00    	ld	a,(_map_paper_clr)
2596  0B8F  C5          	push	bc
2597  0B90  D5          	push	de
2598  0B91  D5          	push	de
2599  0B92  F5          	push	af
2600  0B93  33          	inc	sp
2601  0B94  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2602  0B97  D1          	pop	de
2603  0B98  C1          	pop	bc
2604  0B99  D5          	push	de
2605  0B9A  33          	inc	sp
2606  0B9B  3A 00 00    	ld	a,(_tmp)
2607  0B9E  48          	ld	c,b
2608  0B9F  47          	ld	b,a
2609  0BA0  C5          	push	bc
2610  0BA1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2611  0BA4  18 1E       	jr	l_spr_brick_anim_00106
2612  0BA6              l_spr_brick_anim_00105:
2613  0BA6  3A 00 00    	ld	a,(_tmp)
2614  0BA9  C6 F0       	add	a,0xf0
2615  0BAB  C5          	push	bc
2616  0BAC  D5          	push	de
2617  0BAD  5F          	ld	e,a
2618  0BAE  D5          	push	de
2619  0BAF  DD 7E FD    	ld	a,(ix-3)
2620  0BB2  F5          	push	af
2621  0BB3  33          	inc	sp
2622  0BB4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2623  0BB7  D1          	pop	de
2624  0BB8  C1          	pop	bc
2625  0BB9  D5          	push	de
2626  0BBA  33          	inc	sp
2627  0BBB  3A 00 00    	ld	a,(_tmp)
2628  0BBE  48          	ld	c,b
2629  0BBF  47          	ld	b,a
2630  0BC0  C5          	push	bc
2631  0BC1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2632  0BC4              l_spr_brick_anim_00106:
2633  0BC4  FB          	ei
2634  0BC5  DD F9       	ld	sp, ix
2635  0BC7  DD E1       	pop	ix
2636  0BC9  C9          	ret
2637  0BCA              	SECTION code_compiler
2638  0BCA              ;	---------------------------------
2639  0BCA              ; Function spr_draw_index
2640  0BCA              ; ---------------------------------
2641  0BCA              _spr_draw_index:
2642  0BCA  CD 00 00    	call	___sdcc_enter_ix
2643  0BCD  DD 4E 04    	ld	c,(ix+4)
2644  0BD0  79          	ld	a, c
2645  0BD1  E6 0F       	and	a,0x0f
2646  0BD3  87          	add	a, a
2647  0BD4  32 00 00    	ld	(_s_col1),a
2648  0BD7  21 00 00    	ld	hl,_s_lin1
2649  0BDA  71          	ld	(hl),c
2650  0BDB  79          	ld	a,c
2651  0BDC  07          	rlca
2652  0BDD  07          	rlca
2653  0BDE  07          	rlca
2654  0BDF  07          	rlca
2655  0BE0  E6 0F       	and	a,0x0f
2656  0BE2  07          	rlca
2657  0BE3  07          	rlca
2658  0BE4  07          	rlca
2659  0BE5  07          	rlca
2660  0BE6  E6 F0       	and	a,0xf0
2661  0BE8  77          	ld	(hl), a
2662  0BE9  F3          	di
2663  0BEA  3E 00       	ld	a, +((_scr_map) & 0xFF)
2664  0BEC  DD 86 04    	add	a,(ix+4)
2665  0BEF  4F          	ld	c, a
2666  0BF0  3E 00       	ld	a, +((_scr_map) / 256)
2667  0BF2  DD 8E 05    	adc	a,(ix+5)
2668  0BF5  47          	ld	b, a
2669  0BF6  0A          	ld	a, (bc)
2670  0BF7  47          	ld	b, a
2671  0BF8  3A 00 00    	ld	a,(_s_col1)
2672  0BFB  F5          	push	af
2673  0BFC  33          	inc	sp
2674  0BFD  3A 00 00    	ld	a,(_s_lin1)
2675  0C00  48          	ld	c,b
2676  0C01  47          	ld	b,a
2677  0C02  C5          	push	bc
2678  0C03  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2679  0C06  FB          	ei
2680  0C07  DD E1       	pop	ix
2681  0C09  C9          	ret
2682  0C0A              	SECTION code_compiler
2683  0C0A              ;	---------------------------------
2684  0C0A              ; Function spr_draw_row
2685  0C0A              ; ---------------------------------
2686  0C0A              _spr_draw_row:
2687  0C0A  CD 00 00    	call	___sdcc_enter_ix
2688  0C0D  3B          	dec	sp
2689  0C0E  F3          	di
2690  0C0F  21 00 00    	ld	hl,_tmp
2691  0C12  36 00       	ld	(hl),0x00
2692  0C14  DD 7E 04    	ld	a,(ix+4)
2693  0C17  07          	rlca
2694  0C18  07          	rlca
2695  0C19  07          	rlca
2696  0C1A  E6 F8       	and	a,0xf8
2697  0C1C  DD 77 FF    	ld	(ix-1),a
2698  0C1F              l_spr_draw_row_00101:
2699  0C1F  21 00 00    	ld	hl,_tmp
2700  0C22  7E          	ld	a, (hl)
2701  0C23  D6 20       	sub	a,0x20
2702  0C25  30 38       	jr	NC,l_spr_draw_row_00103
2703  0C27  DD 4E 04    	ld	c,(ix+4)
2704  0C2A  3E 00       	ld	a,0x00
2705  0C2C  CB 21       	sla	c
2706  0C2E  17          	rla
2707  0C2F  CB 21       	sla	c
2708  0C31  17          	rla
2709  0C32  CB 21       	sla	c
2710  0C34  17          	rla
2711  0C35  CB 21       	sla	c
2712  0C37  17          	rla
2713  0C38  CB 21       	sla	c
2714  0C3A  17          	rla
2715  0C3B  47          	ld	b,a
2716  0C3C  5E          	ld	e, (hl)
2717  0C3D  16 00       	ld	d,0x00
2718  0C3F  79          	ld	a, c
2719  0C40  83          	add	a, e
2720  0C41  21 00 00    	ld	hl,_index1
2721  0C44  77          	ld	(hl), a
2722  0C45  78          	ld	a, b
2723  0C46  8A          	adc	a, d
2724  0C47  23          	inc	hl
2725  0C48  77          	ld	(hl), a
2726  0C49  2A FF FF    	ld	hl,(_tmp-1)
2727  0C4C  DD 6E FF    	ld	l,(ix-1)
2728  0C4F  3A 00 00    	ld	a,(_game_brick_tile)
2729  0C52  E5          	push	hl
2730  0C53  F5          	push	af
2731  0C54  33          	inc	sp
2732  0C55  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2733  0C58  21 00 00    	ld	hl,_tmp
2734  0C5B  34          	inc	(hl)
2735  0C5C  34          	inc	(hl)
2736  0C5D  18 C0       	jr	l_spr_draw_row_00101
2737  0C5F              l_spr_draw_row_00103:
2738  0C5F  FB          	ei
2739  0C60  33          	inc	sp
2740  0C61  DD E1       	pop	ix
2741  0C63  C9          	ret
2742  0C64              	SECTION code_compiler
2743  0C64              ;	---------------------------------
2744  0C64              ; Function spr_calc_hor
2745  0C64              ; ---------------------------------
2746  0C64              _spr_calc_hor:
2747  0C64  CD 00 00    	call	___sdcc_enter_ix
2748  0C67  3E 00       	ld	a, +((_col) & 0xFF)
2749  0C69  DD 86 04    	add	a,(ix+4)
2750  0C6C  4F          	ld	c, a
2751  0C6D  3E 00       	ld	a, +((_col) / 256)
2752  0C6F  CE 00       	adc	a,0x00
2753  0C71  47          	ld	b, a
2754  0C72  0A          	ld	a, (bc)
2755  0C73  5F          	ld	e, a
2756  0C74  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2757  0C76  DD 86 04    	add	a,(ix+4)
2758  0C79  4F          	ld	c, a
2759  0C7A  3E 00       	ld	a, +((_sprite_frames) / 256)
2760  0C7C  CE 00       	adc	a,0x00
2761  0C7E  47          	ld	b, a
2762  0C7F  0A          	ld	a, (bc)
2763  0C80  67          	ld	h, a
2764  0C81  2E 00       	ld	l,0x00
2765  0C83  55          	ld	d, l
2766  0C84  06 08       	ld	b,0x08
2767  0C86              l_spr_calc_hor_00103:
2768  0C86  29          	add	hl, hl
2769  0C87  30 01       	jr	NC,l_spr_calc_hor_00104
2770  0C89  19          	add	hl, de
2771  0C8A              l_spr_calc_hor_00104:
2772  0C8A  10 FA       	djnz	l_spr_calc_hor_00103
2773  0C8C  DD E1       	pop	ix
2774  0C8E  C9          	ret
2775  0C8F              	SECTION code_compiler
2776  0C8F              ;	---------------------------------
2777  0C8F              ; Function spr_back_repaint
2778  0C8F              ; ---------------------------------
2779  0C8F              _spr_back_repaint:
2780  0C8F  CD 00 00    	call	___sdcc_enter_ix
2781  0C92  3B          	dec	sp
2782  0C93  3A 00 00    	ld	a,(_spr_hack)
2783  0C96  B7          	or	a, a
2784  0C97  20 02       	jr	NZ,l_spr_back_repaint_00102
2785  0C99  76          	halt
2786  0C9A  F3          	di
2787  0C9B              l_spr_back_repaint_00102:
2788  0C9B  2A FF FF    	ld	hl,(_s_col0 - 1)
2789  0C9E  3A 00 00    	ld	a,(_s_lin0)
2790  0CA1  6F          	ld	l,a
2791  0CA2  E5          	push	hl
2792  0CA3  CD 00 00    	call	_spr_calc_index
2793  0CA6  F1          	pop	af
2794  0CA7  7D          	ld	a,l
2795  0CA8  32 00 00    	ld	(_sprite_curr_index),a
2796  0CAB  21 00 00    	ld	hl,_s_lin0
2797  0CAE  7E          	ld	a, (hl)
2798  0CAF  E6 0F       	and	a,0x0f
2799  0CB1  4F          	ld	c, a
2800  0CB2  7E          	ld	a, (hl)
2801  0CB3  07          	rlca
2802  0CB4  07          	rlca
2803  0CB5  07          	rlca
2804  0CB6  07          	rlca
2805  0CB7  E6 0F       	and	a,0x0f
2806  0CB9  5F          	ld	e, a
2807  0CBA  21 00 00    	ld	hl,_s_col0
2808  0CBD  CB 46       	bit	0, (hl)
2809  0CBF  20 68       	jr	NZ,l_spr_back_repaint_00110
2810  0CC1  79          	ld	a, c
2811  0CC2  B7          	or	a, a
2812  0CC3  20 1D       	jr	NZ,l_spr_back_repaint_00104
2813  0CC5  2A 00 00    	ld	hl,(_sprite_curr_index)
2814  0CC8  26 00       	ld	h,0x00
2815  0CCA  01 00 00    	ld	bc,_scr_map
2816  0CCD  09          	add	hl,bc
2817  0CCE  46          	ld	b,(hl)
2818  0CCF  3A 00 00    	ld	a,(_s_col0)
2819  0CD2  F5          	push	af
2820  0CD3  33          	inc	sp
2821  0CD4  3A 00 00    	ld	a,(_s_lin0)
2822  0CD7  48          	ld	c,b
2823  0CD8  47          	ld	b,a
2824  0CD9  C5          	push	bc
2825  0CDA  CD 06 0E    	call	_spr_tile_paint
2826  0CDD  F1          	pop	af
2827  0CDE  33          	inc	sp
2828  0CDF  C3 FB 0D    	jp	l_spr_back_repaint_00111
2829  0CE2              l_spr_back_repaint_00104:
2830  0CE2  7B          	ld	a, e
2831  0CE3  07          	rlca
2832  0CE4  07          	rlca
2833  0CE5  07          	rlca
2834  0CE6  07          	rlca
2835  0CE7  E6 F0       	and	a,0xf0
2836  0CE9  4F          	ld	c, a
2837  0CEA  2A 00 00    	ld	hl,(_sprite_curr_index)
2838  0CED  26 00       	ld	h,0x00
2839  0CEF  11 00 00    	ld	de,_scr_map
2840  0CF2  19          	add	hl,de
2841  0CF3  46          	ld	b, (hl)
2842  0CF4  3A 00 00    	ld	a,(_s_col0)
2843  0CF7  C5          	push	bc
2844  0CF8  F5          	push	af
2845  0CF9  33          	inc	sp
2846  0CFA  79          	ld	a, c
2847  0CFB  48          	ld	c,b
2848  0CFC  47          	ld	b,a
2849  0CFD  C5          	push	bc
2850  0CFE  CD 06 0E    	call	_spr_tile_paint
2851  0D01  F1          	pop	af
2852  0D02  33          	inc	sp
2853  0D03  C1          	pop	bc
2854  0D04  79          	ld	a, c
2855  0D05  C6 10       	add	a,0x10
2856  0D07  57          	ld	d, a
2857  0D08  21 00 00    	ld	hl,_sprite_curr_index
2858  0D0B  7E          	ld	a, (hl)
2859  0D0C  C6 10       	add	a,0x10
2860  0D0E  77          	ld	(hl), a
2861  0D0F  C6 00       	add	a,+((_scr_map) & 0xFF)
2862  0D11  4F          	ld	c, a
2863  0D12  3E 00       	ld	a, +((_scr_map) / 256)
2864  0D14  CE 00       	adc	a,0x00
2865  0D16  47          	ld	b, a
2866  0D17  0A          	ld	a, (bc)
2867  0D18  47          	ld	b, a
2868  0D19  3A 00 00    	ld	a,(_s_col0)
2869  0D1C  5A          	ld	e,d
2870  0D1D  57          	ld	d,a
2871  0D1E  D5          	push	de
2872  0D1F  C5          	push	bc
2873  0D20  33          	inc	sp
2874  0D21  CD 06 0E    	call	_spr_tile_paint
2875  0D24  F1          	pop	af
2876  0D25  33          	inc	sp
2877  0D26  C3 FB 0D    	jp	l_spr_back_repaint_00111
2878  0D29              l_spr_back_repaint_00110:
2879  0D29  3A 00 00    	ld	a,(_s_col0)
2880  0D2C  C6 FF       	add	a,0xff
2881  0D2E  DD 77 FF    	ld	(ix-1),a
2882  0D31  79          	ld	a, c
2883  0D32  B7          	or	a, a
2884  0D33  20 3E       	jr	NZ,l_spr_back_repaint_00107
2885  0D35  2A 00 00    	ld	hl,(_sprite_curr_index)
2886  0D38  26 00       	ld	h,0x00
2887  0D3A  01 00 00    	ld	bc,_scr_map
2888  0D3D  09          	add	hl,bc
2889  0D3E  46          	ld	b,(hl)
2890  0D3F  DD 7E FF    	ld	a,(ix-1)
2891  0D42  F5          	push	af
2892  0D43  33          	inc	sp
2893  0D44  3A 00 00    	ld	a,(_s_lin0)
2894  0D47  48          	ld	c,b
2895  0D48  47          	ld	b,a
2896  0D49  C5          	push	bc
2897  0D4A  CD 06 0E    	call	_spr_tile_paint
2898  0D4D  F1          	pop	af
2899  0D4E  33          	inc	sp
2900  0D4F  21 00 00    	ld	hl,_sprite_curr_index
2901  0D52  34          	inc	(hl)
2902  0D53  21 00 00    	ld	hl,_s_col0
2903  0D56  4E          	ld	c, (hl)
2904  0D57  0C          	inc	c
2905  0D58  2A 00 00    	ld	hl,(_sprite_curr_index)
2906  0D5B  26 00       	ld	h,0x00
2907  0D5D  11 00 00    	ld	de,_scr_map
2908  0D60  19          	add	hl,de
2909  0D61  46          	ld	b, (hl)
2910  0D62  79          	ld	a, c
2911  0D63  F5          	push	af
2912  0D64  33          	inc	sp
2913  0D65  3A 00 00    	ld	a,(_s_lin0)
2914  0D68  48          	ld	c,b
2915  0D69  47          	ld	b,a
2916  0D6A  C5          	push	bc
2917  0D6B  CD 06 0E    	call	_spr_tile_paint
2918  0D6E  F1          	pop	af
2919  0D6F  33          	inc	sp
2920  0D70  C3 FB 0D    	jp	l_spr_back_repaint_00111
2921  0D73              l_spr_back_repaint_00107:
2922  0D73  7B          	ld	a, e
2923  0D74  07          	rlca
2924  0D75  07          	rlca
2925  0D76  07          	rlca
2926  0D77  07          	rlca
2927  0D78  E6 F0       	and	a,0xf0
2928  0D7A  47          	ld	b, a
2929  0D7B  2A 00 00    	ld	hl,(_sprite_curr_index)
2930  0D7E  26 00       	ld	h,0x00
2931  0D80  11 00 00    	ld	de,_scr_map
2932  0D83  19          	add	hl,de
2933  0D84  56          	ld	d, (hl)
2934  0D85  C5          	push	bc
2935  0D86  DD 7E FF    	ld	a,(ix-1)
2936  0D89  F5          	push	af
2937  0D8A  33          	inc	sp
2938  0D8B  4A          	ld	c, d
2939  0D8C  C5          	push	bc
2940  0D8D  CD 06 0E    	call	_spr_tile_paint
2941  0D90  F1          	pop	af
2942  0D91  33          	inc	sp
2943  0D92  C1          	pop	bc
2944  0D93  21 00 00    	ld	hl,_sprite_curr_index
2945  0D96  34          	inc	(hl)
2946  0D97  21 00 00    	ld	hl,_s_col0
2947  0D9A  4E          	ld	c, (hl)
2948  0D9B  0C          	inc	c
2949  0D9C  2A 00 00    	ld	hl,(_sprite_curr_index)
2950  0D9F  26 00       	ld	h,0x00
2951  0DA1  11 00 00    	ld	de,_scr_map
2952  0DA4  19          	add	hl,de
2953  0DA5  5E          	ld	e, (hl)
2954  0DA6  C5          	push	bc
2955  0DA7  79          	ld	a, c
2956  0DA8  48          	ld	c,b
2957  0DA9  47          	ld	b,a
2958  0DAA  C5          	push	bc
2959  0DAB  7B          	ld	a, e
2960  0DAC  F5          	push	af
2961  0DAD  33          	inc	sp
2962  0DAE  CD 06 0E    	call	_spr_tile_paint
2963  0DB1  F1          	pop	af
2964  0DB2  33          	inc	sp
2965  0DB3  C1          	pop	bc
2966  0DB4  78          	ld	a, b
2967  0DB5  C6 10       	add	a,0x10
2968  0DB7  DD 77 FF    	ld	(ix-1),a
2969  0DBA  21 00 00    	ld	hl,_sprite_curr_index
2970  0DBD  7E          	ld	a, (hl)
2971  0DBE  C6 0F       	add	a,0x0f
2972  0DC0  77          	ld	(hl), a
2973  0DC1  21 00 00    	ld	hl,_s_col0
2974  0DC4  4E          	ld	c, (hl)
2975  0DC5  0D          	dec	c
2976  0DC6  2A 00 00    	ld	hl,(_sprite_curr_index)
2977  0DC9  26 00       	ld	h,0x00
2978  0DCB  11 00 00    	ld	de,_scr_map
2979  0DCE  19          	add	hl,de
2980  0DCF  5E          	ld	e, (hl)
2981  0DD0  79          	ld	a, c
2982  0DD1  F5          	push	af
2983  0DD2  33          	inc	sp
2984  0DD3  DD 56 FF    	ld	d,(ix-1)
2985  0DD6  D5          	push	de
2986  0DD7  CD 06 0E    	call	_spr_tile_paint
2987  0DDA  F1          	pop	af
2988  0DDB  33          	inc	sp
2989  0DDC  21 00 00    	ld	hl,_sprite_curr_index
2990  0DDF  34          	inc	(hl)
2991  0DE0  21 00 00    	ld	hl,_s_col0
2992  0DE3  4E          	ld	c, (hl)
2993  0DE4  0C          	inc	c
2994  0DE5  2A 00 00    	ld	hl,(_sprite_curr_index)
2995  0DE8  26 00       	ld	h,0x00
2996  0DEA  11 00 00    	ld	de,_scr_map
2997  0DED  19          	add	hl,de
2998  0DEE  5E          	ld	e, (hl)
2999  0DEF  79          	ld	a, c
3000  0DF0  F5          	push	af
3001  0DF1  33          	inc	sp
3002  0DF2  DD 56 FF    	ld	d,(ix-1)
3003  0DF5  D5          	push	de
3004  0DF6  CD 06 0E    	call	_spr_tile_paint
3005  0DF9  F1          	pop	af
3006  0DFA  33          	inc	sp
3007  0DFB              l_spr_back_repaint_00111:
3008  0DFB  3A 00 00    	ld	a,(_spr_hack)
3009  0DFE  B7          	or	a, a
3010  0DFF  20 01       	jr	NZ,l_spr_back_repaint_00114
3011  0E01  FB          	ei
3012  0E02              l_spr_back_repaint_00114:
3013  0E02  33          	inc	sp
3014  0E03  DD E1       	pop	ix
3015  0E05  C9          	ret
3016  0E06              	SECTION code_compiler
3017  0E06              ;	---------------------------------
3018  0E06              ; Function spr_tile_paint
3019  0E06              ; ---------------------------------
3020  0E06              _spr_tile_paint:
3021  0E06  CD 00 00    	call	___sdcc_enter_ix
3022  0E09  DD 7E 04    	ld	a,(ix+4)
3023  0E0C  B7          	or	a, a
3024  0E0D  28 05       	jr	Z,l_spr_tile_paint_00101
3025  0E0F  3C          	inc	a
3026  0E10  28 22       	jr	Z,l_spr_tile_paint_00105
3027  0E12  18 11       	jr	l_spr_tile_paint_00103
3028  0E14              l_spr_tile_paint_00101:
3029  0E14  DD 66 06    	ld	h,(ix+6)
3030  0E17  DD 6E 05    	ld	l,(ix+5)
3031  0E1A  3A 00 00    	ld	a,(_map_paper_clr)
3032  0E1D  E5          	push	hl
3033  0E1E  F5          	push	af
3034  0E1F  33          	inc	sp
3035  0E20  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3036  0E23  18 0F       	jr	l_spr_tile_paint_00105
3037  0E25              l_spr_tile_paint_00103:
3038  0E25  DD 66 06    	ld	h,(ix+6)
3039  0E28  DD 6E 05    	ld	l,(ix+5)
3040  0E2B  E5          	push	hl
3041  0E2C  DD 7E 04    	ld	a,(ix+4)
3042  0E2F  F5          	push	af
3043  0E30  33          	inc	sp
3044  0E31  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3045  0E34              l_spr_tile_paint_00105:
3046  0E34  DD E1       	pop	ix
3047  0E36  C9          	ret
3048  0E37              	SECTION code_compiler
3049  0E37              ;	---------------------------------
3050  0E37              ; Function spr_init_anim_bullets
3051  0E37              ; ---------------------------------
3052  0E37              _spr_init_anim_bullets:
3053  0E37  01 00 00    	ld	bc,_anim_lin+0
3054  0E3A  1E 00       	ld	e,0x00
3055  0E3C              l_spr_init_anim_bullets_00102:
3056  0E3C  6B          	ld	l,e
3057  0E3D  26 00       	ld	h,0x00
3058  0E3F  09          	add	hl, bc
3059  0E40  36 FF       	ld	(hl),0xff
3060  0E42  16 00       	ld	d,0x00
3061  0E44  21 00 00    	ld	hl,_bullet_col
3062  0E47  19          	add	hl, de
3063  0E48  36 FF       	ld	(hl),0xff
3064  0E4A  1C          	inc	e
3065  0E4B  7B          	ld	a, e
3066  0E4C  D6 08       	sub	a,0x08
3067  0E4E  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3068  0E50  21 00 00    	ld	hl,_bullet_count
3069  0E53  36 00       	ld	(hl),0x00
3070  0E55  21 00 00    	ld	hl,_anim_count
3071  0E58  36 00       	ld	(hl),0x00
3072  0E5A  C9          	ret
3073  0E5B              	SECTION code_compiler
3074  0E5B              ;	---------------------------------
3075  0E5B              ; Function spr_add_anim
3076  0E5B              ; ---------------------------------
3077  0E5B              _spr_add_anim:
3078  0E5B  CD 00 00    	call	___sdcc_enter_ix
3079  0E5E  F5          	push	af
3080  0E5F  F5          	push	af
3081  0E60  3B          	dec	sp
3082  0E61  DD 7E 05    	ld	a,(ix+5)
3083  0E64  D6 1F       	sub	a,0x1f
3084  0E66  D2 25 0F    	jp	NC, l_spr_add_anim_00111
3085  0E69  DD 7E 04    	ld	a,(ix+4)
3086  0E6C  D6 B8       	sub	a,0xb8
3087  0E6E  D2 25 0F    	jp	NC, l_spr_add_anim_00111
3088  0E71  0E 00       	ld	c,0x00
3089  0E73  DD 71 FF    	ld	(ix-1),c
3090  0E76              l_spr_add_anim_00109:
3091  0E76  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3092  0E78  81          	add	a, c
3093  0E79  5F          	ld	e, a
3094  0E7A  3E 00       	ld	a, +((_anim_lin) / 256)
3095  0E7C  CE 00       	adc	a,0x00
3096  0E7E  57          	ld	d, a
3097  0E7F  1A          	ld	a, (de)
3098  0E80  3C          	inc	a
3099  0E81  C2 1B 0F    	jp	NZ,l_spr_add_anim_00110
3100  0E84  21 00 00    	ld	hl,_anim_count
3101  0E87  34          	inc	(hl)
3102  0E88  DD 7E 04    	ld	a,(ix+4)
3103  0E8B  12          	ld	(de), a
3104  0E8C  01 00 00    	ld	bc,_anim_col
3105  0E8F  DD 6E FF    	ld	l,(ix-1)
3106  0E92  26 00       	ld	h,0x00
3107  0E94  09          	add	hl,bc
3108  0E95  DD 75 FD    	ld	(ix-3),l
3109  0E98  DD 74 FE    	ld	(ix-2),h
3110  0E9B  DD 7E 05    	ld	a,(ix+5)
3111  0E9E  77          	ld	(hl), a
3112  0E9F  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3113  0EA1  DD 86 FF    	add	a,(ix-1)
3114  0EA4  DD 77 FB    	ld	(ix-5),a
3115  0EA7  3E 00       	ld	a, +((_anim_tile) / 256)
3116  0EA9  CE 00       	adc	a,0x00
3117  0EAB  DD 77 FC    	ld	(ix-4),a
3118  0EAE  E1          	pop	hl
3119  0EAF  E5          	push	hl
3120  0EB0  DD 7E 06    	ld	a,(ix+6)
3121  0EB3  77          	ld	(hl), a
3122  0EB4  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3123  0EB6  DD 86 FF    	add	a,(ix-1)
3124  0EB9  4F          	ld	c, a
3125  0EBA  3E 00       	ld	a, +((_anim_loop) / 256)
3126  0EBC  CE 00       	adc	a,0x00
3127  0EBE  47          	ld	b, a
3128  0EBF  DD 7E 08    	ld	a,(ix+8)
3129  0EC2  02          	ld	(bc), a
3130  0EC3  01 00 00    	ld	bc,_anim_int+0
3131  0EC6  DD 6E FF    	ld	l,(ix-1)
3132  0EC9  26 00       	ld	h,0x00
3133  0ECB  09          	add	hl, bc
3134  0ECC  36 00       	ld	(hl),0x00
3135  0ECE  3E 00       	ld	a, +((_anim_end) & 0xFF)
3136  0ED0  DD 86 FF    	add	a,(ix-1)
3137  0ED3  4F          	ld	c, a
3138  0ED4  3E 00       	ld	a, +((_anim_end) / 256)
3139  0ED6  CE 00       	adc	a,0x00
3140  0ED8  47          	ld	b, a
3141  0ED9  DD 7E 07    	ld	a,(ix+7)
3142  0EDC  02          	ld	(bc), a
3143  0EDD  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3144  0EDF  DD 86 FF    	add	a,(ix-1)
3145  0EE2  4F          	ld	c, a
3146  0EE3  3E 00       	ld	a, +((_anim_respanwn) / 256)
3147  0EE5  CE 00       	adc	a,0x00
3148  0EE7  47          	ld	b, a
3149  0EE8  DD 7E 09    	ld	a,(ix+9)
3150  0EEB  02          	ld	(bc), a
3151  0EEC  F3          	di
3152  0EED  DD 6E FD    	ld	l,(ix-3)
3153  0EF0  DD 66 FE    	ld	h,(ix-2)
3154  0EF3  46          	ld	b, (hl)
3155  0EF4  E1          	pop	hl
3156  0EF5  1A          	ld	a,(de)
3157  0EF6  56          	ld	d,(hl)
3158  0EF7  E5          	push	hl
3159  0EF8  C5          	push	bc
3160  0EF9  33          	inc	sp
3161  0EFA  5A          	ld	e,d
3162  0EFB  57          	ld	d,a
3163  0EFC  D5          	push	de
3164  0EFD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3165  0F00  FB          	ei
3166  0F01  DD 66 05    	ld	h,(ix+5)
3167  0F04  DD 6E 04    	ld	l,(ix+4)
3168  0F07  E5          	push	hl
3169  0F08  CD 00 00    	call	_spr_calc_index
3170  0F0B  F1          	pop	af
3171  0F0C  22 00 00    	ld	(_index0),hl
3172  0F0F  01 00 00    	ld	bc,_scr_map
3173  0F12  09          	add	hl,bc
3174  0F13  7E          	ld	a,(hl)
3175  0F14  B7          	or	a,a
3176  0F15  20 0E       	jr	NZ,l_spr_add_anim_00111
3177  0F17  36 FF       	ld	(hl),0xff
3178  0F19  18 0A       	jr	l_spr_add_anim_00111
3179  0F1B              l_spr_add_anim_00110:
3180  0F1B  0C          	inc	c
3181  0F1C  DD 71 FF    	ld	(ix-1),c
3182  0F1F  79          	ld	a, c
3183  0F20  D6 08       	sub	a,0x08
3184  0F22  DA 76 0E    	jp	C, l_spr_add_anim_00109
3185  0F25              l_spr_add_anim_00111:
3186  0F25  DD F9       	ld	sp, ix
3187  0F27  DD E1       	pop	ix
3188  0F29  C9          	ret
3189  0F2A              	SECTION code_compiler
3190  0F2A              ;	---------------------------------
3191  0F2A              ; Function spr_play_anim
3192  0F2A              ; ---------------------------------
3193  0F2A              _spr_play_anim:
3194  0F2A  CD 00 00    	call	___sdcc_enter_ix
3195  0F2D  F5          	push	af
3196  0F2E  F5          	push	af
3197  0F2F  F5          	push	af
3198  0F30  F5          	push	af
3199  0F31  DD 36 F8 00 	ld	(ix-8),0x00
3200  0F35              l_spr_play_anim_00114:
3201  0F35  01 00 00    	ld	bc,_anim_lin
3202  0F38  DD 6E F8    	ld	l,(ix-8)
3203  0F3B  26 00       	ld	h,0x00
3204  0F3D  09          	add	hl,bc
3205  0F3E  DD 75 FE    	ld	(ix-2),l
3206  0F41  DD 74 FF    	ld	(ix-1),h
3207  0F44  4E          	ld	c, (hl)
3208  0F45  0C          	inc	c
3209  0F46  CA 49 10    	jp	Z,l_spr_play_anim_00115
3210  0F49  21 01 00    	ld	hl,0x0001
3211  0F4C  CD 00 00    	call	_z80_delay_ms_fastcall
3212  0F4F  01 00 00    	ld	bc,_anim_int
3213  0F52  DD 6E F8    	ld	l,(ix-8)
3214  0F55  26 00       	ld	h,0x00
3215  0F57  09          	add	hl,bc
3216  0F58  DD 75 FC    	ld	(ix-4),l
3217  0F5B  DD 74 FD    	ld	(ix-3),h
3218  0F5E  4E          	ld	c, (hl)
3219  0F5F  3E 00       	ld	a, +((_anim_end) & 0xFF)
3220  0F61  DD 86 F8    	add	a,(ix-8)
3221  0F64  6F          	ld	l, a
3222  0F65  3E 00       	ld	a, +((_anim_end) / 256)
3223  0F67  CE 00       	adc	a,0x00
3224  0F69  67          	ld	h, a
3225  0F6A  46          	ld	b, (hl)
3226  0F6B  79          	ld	a, c
3227  0F6C  90          	sub	a, b
3228  0F6D  30 40       	jr	NC,l_spr_play_anim_00109
3229  0F6F  F3          	di
3230  0F70  3E 00       	ld	a, +((_anim_col) & 0xFF)
3231  0F72  DD 86 F8    	add	a,(ix-8)
3232  0F75  6F          	ld	l, a
3233  0F76  3E 00       	ld	a, +((_anim_col) / 256)
3234  0F78  CE 00       	adc	a,0x00
3235  0F7A  67          	ld	h, a
3236  0F7B  56          	ld	d, (hl)
3237  0F7C  DD 6E FE    	ld	l,(ix-2)
3238  0F7F  DD 66 FF    	ld	h,(ix-1)
3239  0F82  4E          	ld	c, (hl)
3240  0F83  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3241  0F85  DD 86 F8    	add	a,(ix-8)
3242  0F88  6F          	ld	l, a
3243  0F89  3E 00       	ld	a, +((_anim_tile) / 256)
3244  0F8B  CE 00       	adc	a,0x00
3245  0F8D  67          	ld	h, a
3246  0F8E  5E          	ld	e, (hl)
3247  0F8F  DD 6E FC    	ld	l,(ix-4)
3248  0F92  DD 66 FD    	ld	h,(ix-3)
3249  0F95  6E          	ld	l, (hl)
3250  0F96  7B          	ld	a, e
3251  0F97  85          	add	a, l
3252  0F98  47          	ld	b, a
3253  0F99  D5          	push	de
3254  0F9A  33          	inc	sp
3255  0F9B  79          	ld	a, c
3256  0F9C  48          	ld	c,b
3257  0F9D  47          	ld	b,a
3258  0F9E  C5          	push	bc
3259  0F9F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3260  0FA2  FB          	ei
3261  0FA3  DD 6E FC    	ld	l,(ix-4)
3262  0FA6  DD 66 FD    	ld	h,(ix-3)
3263  0FA9  4E          	ld	c,(hl)
3264  0FAA  0C          	inc	c
3265  0FAB  71          	ld	(hl), c
3266  0FAC  C3 49 10    	jp	l_spr_play_anim_00115
3267  0FAF              l_spr_play_anim_00109:
3268  0FAF  01 00 00    	ld	bc,_anim_loop
3269  0FB2  DD 6E F8    	ld	l,(ix-8)
3270  0FB5  26 00       	ld	h,0x00
3271  0FB7  09          	add	hl,bc
3272  0FB8  DD 75 FA    	ld	(ix-6),l
3273  0FBB  DD 74 FB    	ld	(ix-5),h
3274  0FBE  7E          	ld	a, (hl)
3275  0FBF  DD 77 F9    	ld	(ix-7),a
3276  0FC2  B7          	or	a, a
3277  0FC3  20 71       	jr	NZ,l_spr_play_anim_00106
3278  0FC5  21 00 00    	ld	hl,_anim_count
3279  0FC8  35          	dec	(hl)
3280  0FC9  3E 00       	ld	a, +((_anim_col) & 0xFF)
3281  0FCB  DD 86 F8    	add	a,(ix-8)
3282  0FCE  6F          	ld	l, a
3283  0FCF  3E 00       	ld	a, +((_anim_col) / 256)
3284  0FD1  CE 00       	adc	a,0x00
3285  0FD3  67          	ld	h, a
3286  0FD4  7E          	ld	a, (hl)
3287  0FD5  32 00 00    	ld	(_s_col0),a
3288  0FD8  DD 6E FE    	ld	l,(ix-2)
3289  0FDB  DD 66 FF    	ld	h,(ix-1)
3290  0FDE  7E          	ld	a, (hl)
3291  0FDF  32 00 00    	ld	(_s_lin0),a
3292  0FE2  2A FF FF    	ld	hl,(_s_col0 - 1)
3293  0FE5  6F          	ld	l,a
3294  0FE6  E5          	push	hl
3295  0FE7  CD 00 00    	call	_spr_calc_index
3296  0FEA  F1          	pop	af
3297  0FEB  2A FF FF    	ld	hl,(_s_col0 - 1)
3298  0FEE  3A 00 00    	ld	a,(_s_lin0)
3299  0FF1  6F          	ld	l,a
3300  0FF2  E5          	push	hl
3301  0FF3  CD 00 00    	call	_spr_calc_index
3302  0FF6  F1          	pop	af
3303  0FF7  01 00 00    	ld	bc,_scr_map
3304  0FFA  09          	add	hl,bc
3305  0FFB  4E          	ld	c, (hl)
3306  0FFC  0C          	inc	c
3307  0FFD  20 12       	jr	NZ,l_spr_play_anim_00102
3308  0FFF  2A FF FF    	ld	hl,(_s_col0 - 1)
3309  1002  3A 00 00    	ld	a,(_s_lin0)
3310  1005  6F          	ld	l,a
3311  1006  E5          	push	hl
3312  1007  CD 00 00    	call	_spr_calc_index
3313  100A  F1          	pop	af
3314  100B  01 00 00    	ld	bc,_scr_map
3315  100E  09          	add	hl,bc
3316  100F  36 00       	ld	(hl),0x00
3317  1011              l_spr_play_anim_00102:
3318  1011  CD 8F 0C    	call	_spr_back_repaint
3319  1014  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3320  1016  DD 86 F8    	add	a,(ix-8)
3321  1019  4F          	ld	c, a
3322  101A  3E 00       	ld	a, +((_anim_respanwn) / 256)
3323  101C  CE 00       	adc	a,0x00
3324  101E  47          	ld	b, a
3325  101F  0A          	ld	a, (bc)
3326  1020  B7          	or	a, a
3327  1021  28 09       	jr	Z,l_spr_play_anim_00104
3328  1023  DD 7E F8    	ld	a,(ix-8)
3329  1026  F5          	push	af
3330  1027  33          	inc	sp
3331  1028  CD 00 00    	call	_enemy_respawn
3332  102B  33          	inc	sp
3333  102C              l_spr_play_anim_00104:
3334  102C  DD 6E FE    	ld	l,(ix-2)
3335  102F  DD 66 FF    	ld	h,(ix-1)
3336  1032  36 FF       	ld	(hl),0xff
3337  1034  18 13       	jr	l_spr_play_anim_00115
3338  1036              l_spr_play_anim_00106:
3339  1036  DD 4E F9    	ld	c,(ix-7)
3340  1039  0D          	dec	c
3341  103A  DD 6E FA    	ld	l,(ix-6)
3342  103D  DD 66 FB    	ld	h,(ix-5)
3343  1040  71          	ld	(hl), c
3344  1041  DD 6E FC    	ld	l,(ix-4)
3345  1044  DD 66 FD    	ld	h,(ix-3)
3346  1047  36 00       	ld	(hl),0x00
3347  1049              l_spr_play_anim_00115:
3348  1049  DD 34 F8    	inc	(ix-8)
3349  104C  DD 7E F8    	ld	a,(ix-8)
3350  104F  D6 08       	sub	a,0x08
3351  1051  DA 35 0F    	jp	C, l_spr_play_anim_00114
3352  1054  DD F9       	ld	sp, ix
3353  1056  DD E1       	pop	ix
3354  1058  C9          	ret
3355  1059              	SECTION code_compiler
3356  1059              ;	---------------------------------
3357  1059              ; Function spr_play_bullets
3358  1059              ; ---------------------------------
3359  1059              _spr_play_bullets:
3360  1059  CD 00 00    	call	___sdcc_enter_ix
3361  105C  21 F2 FF    	ld	hl, -14
3362  105F  39          	add	hl, sp
3363  1060  F9          	ld	sp, hl
3364  1061  3E 00       	ld	a,0x00
3365  1063  DD 77 F6    	ld	(ix-10),a
3366  1066  DD 77 F3    	ld	(ix-13),a
3367  1069              l_spr_play_bullets_00197:
3368  1069  01 00 00    	ld	bc,_bullet_col
3369  106C  DD 6E F3    	ld	l,(ix-13)
3370  106F  26 00       	ld	h,0x00
3371  1071  09          	add	hl,bc
3372  1072  DD 75 FE    	ld	(ix-2),l
3373  1075  DD 74 FF    	ld	(ix-1),h
3374  1078  7E          	ld	a, (hl)
3375  1079  DD 77 FD    	ld	(ix-3),a
3376  107C  3C          	inc	a
3377  107D  CA F8 15    	jp	Z,l_spr_play_bullets_00191
3378  1080  01 00 00    	ld	bc,_bullet_lin
3379  1083  DD 6E F3    	ld	l,(ix-13)
3380  1086  26 00       	ld	h,0x00
3381  1088  09          	add	hl,bc
3382  1089  DD 75 FB    	ld	(ix-5),l
3383  108C  DD 74 FC    	ld	(ix-4),h
3384  108F  7E          	ld	a, (hl)
3385  1090  32 00 00    	ld	(_s_lin0),a
3386  1093  DD 7E FD    	ld	a,(ix-3)
3387  1096  32 00 00    	ld	(_s_col0),a
3388  1099  DD 77 F2    	ld	(ix-14),a
3389  109C  CD 8F 0C    	call	_spr_back_repaint
3390  109F  01 00 00    	ld	bc,_bullet_class
3391  10A2  DD 6E F3    	ld	l,(ix-13)
3392  10A5  26 00       	ld	h,0x00
3393  10A7  09          	add	hl,bc
3394  10A8  DD 75 F9    	ld	(ix-7),l
3395  10AB  DD 74 FA    	ld	(ix-6),h
3396  10AE  7E          	ld	a, (hl)
3397  10AF  D6 02       	sub	a,0x02
3398  10B1  20 46       	jr	NZ,l_spr_play_bullets_00107
3399  10B3  3A 00 00    	ld	a,(_s_lin0)
3400  10B6  4F          	ld	c,a
3401  10B7  06 00       	ld	b,0x00
3402  10B9  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3403  10BB  DD 86 F3    	add	a,(ix-13)
3404  10BE  6F          	ld	l, a
3405  10BF  3E 00       	ld	a, +((_bullet_lin0) / 256)
3406  10C1  CE 00       	adc	a,0x00
3407  10C3  67          	ld	h, a
3408  10C4  5E          	ld	e, (hl)
3409  10C5  16 00       	ld	d,0x00
3410  10C7  79          	ld	a, c
3411  10C8  93          	sub	a, e
3412  10C9  4F          	ld	c, a
3413  10CA  78          	ld	a, b
3414  10CB  9A          	sbc	a, d
3415  10CC  47          	ld	b, a
3416  10CD  3E 08       	ld	a,0x08
3417  10CF  B9          	cp	a, c
3418  10D0  3E 00       	ld	a,0x00
3419  10D2  98          	sbc	a, b
3420  10D3  E2 D8 10    	jp	PO, l_spr_play_bullets_00403
3421  10D6  EE 80       	xor	a,0x80
3422  10D8              l_spr_play_bullets_00403:
3423  10D8  FA F1 10    	jp	M, l_spr_play_bullets_00104
3424  10DB  DD 6E FB    	ld	l,(ix-5)
3425  10DE  DD 66 FC    	ld	h,(ix-4)
3426  10E1  4E          	ld	c, (hl)
3427  10E2  0C          	inc	c
3428  10E3  0C          	inc	c
3429  10E4  DD 6E FB    	ld	l,(ix-5)
3430  10E7  DD 66 FC    	ld	h,(ix-4)
3431  10EA  71          	ld	(hl), c
3432  10EB  21 00 00    	ld	hl,_s_lin0
3433  10EE  71          	ld	(hl), c
3434  10EF  18 08       	jr	l_spr_play_bullets_00107
3435  10F1              l_spr_play_bullets_00104:
3436  10F1  DD 6E F9    	ld	l,(ix-7)
3437  10F4  DD 66 FA    	ld	h,(ix-6)
3438  10F7  36 03       	ld	(hl),0x03
3439  10F9              l_spr_play_bullets_00107:
3440  10F9  DD 6E F9    	ld	l,(ix-7)
3441  10FC  DD 66 FA    	ld	h,(ix-6)
3442  10FF  7E          	ld	a, (hl)
3443  1100  D6 03       	sub	a,0x03
3444  1102  20 46       	jr	NZ,l_spr_play_bullets_00112
3445  1104  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3446  1106  DD 86 F3    	add	a,(ix-13)
3447  1109  6F          	ld	l, a
3448  110A  3E 00       	ld	a, +((_bullet_lin0) / 256)
3449  110C  CE 00       	adc	a,0x00
3450  110E  67          	ld	h, a
3451  110F  4E          	ld	c, (hl)
3452  1110  06 00       	ld	b,0x00
3453  1112  3A 00 00    	ld	a,(_s_lin0)
3454  1115  5F          	ld	e,a
3455  1116  16 00       	ld	d,0x00
3456  1118  79          	ld	a, c
3457  1119  93          	sub	a, e
3458  111A  4F          	ld	c, a
3459  111B  78          	ld	a, b
3460  111C  9A          	sbc	a, d
3461  111D  47          	ld	b, a
3462  111E  3E 08       	ld	a,0x08
3463  1120  B9          	cp	a, c
3464  1121  3E 00       	ld	a,0x00
3465  1123  98          	sbc	a, b
3466  1124  E2 29 11    	jp	PO, l_spr_play_bullets_00406
3467  1127  EE 80       	xor	a,0x80
3468  1129              l_spr_play_bullets_00406:
3469  1129  FA 42 11    	jp	M, l_spr_play_bullets_00109
3470  112C  DD 6E FB    	ld	l,(ix-5)
3471  112F  DD 66 FC    	ld	h,(ix-4)
3472  1132  4E          	ld	c, (hl)
3473  1133  0D          	dec	c
3474  1134  0D          	dec	c
3475  1135  DD 6E FB    	ld	l,(ix-5)
3476  1138  DD 66 FC    	ld	h,(ix-4)
3477  113B  71          	ld	(hl), c
3478  113C  21 00 00    	ld	hl,_s_lin0
3479  113F  71          	ld	(hl), c
3480  1140  18 08       	jr	l_spr_play_bullets_00112
3481  1142              l_spr_play_bullets_00109:
3482  1142  DD 6E F9    	ld	l,(ix-7)
3483  1145  DD 66 FA    	ld	h,(ix-6)
3484  1148  36 02       	ld	(hl),0x02
3485  114A              l_spr_play_bullets_00112:
3486  114A  DD 6E F9    	ld	l,(ix-7)
3487  114D  DD 66 FA    	ld	h,(ix-6)
3488  1150  7E          	ld	a, (hl)
3489  1151  D6 04       	sub	a,0x04
3490  1153  C2 D9 11    	jp	NZ,l_spr_play_bullets_00125
3491  1156  DD 6E FB    	ld	l,(ix-5)
3492  1159  DD 66 FC    	ld	h,(ix-4)
3493  115C  7E          	ld	a, (hl)
3494  115D  32 00 00    	ld	(_s_lin0),a
3495  1160  DD 6E FE    	ld	l,(ix-2)
3496  1163  DD 66 FF    	ld	h,(ix-1)
3497  1166  7E          	ld	a, (hl)
3498  1167  C6 FF       	add	a,0xff
3499  1169  32 00 00    	ld	(_s_col0),a
3500  116C  D6 20       	sub	a,0x20
3501  116E  30 03       	jr	NC,l_spr_play_bullets_00114
3502  1170  CD 8F 0C    	call	_spr_back_repaint
3503  1173              l_spr_play_bullets_00114:
3504  1173  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3505  1175  DD 86 F3    	add	a,(ix-13)
3506  1178  4F          	ld	c, a
3507  1179  3E 00       	ld	a, +((_bullet_vel) / 256)
3508  117B  CE 00       	adc	a,0x00
3509  117D  47          	ld	b, a
3510  117E  0A          	ld	a, (bc)
3511  117F  5F          	ld	e, a
3512  1180  21 00 00    	ld	hl,_game_gravity
3513  1183  56          	ld	d, (hl)
3514  1184  7B          	ld	a, e
3515  1185  82          	add	a, d
3516  1186  5F          	ld	e,a
3517  1187  02          	ld	(bc), a
3518  1188  3E 78       	ld	a,0x78
3519  118A  93          	sub	a, e
3520  118B  E2 90 11    	jp	PO, l_spr_play_bullets_00409
3521  118E  EE 80       	xor	a,0x80
3522  1190              l_spr_play_bullets_00409:
3523  1190  F2 96 11    	jp	P, l_spr_play_bullets_00116
3524  1193  3E 78       	ld	a,0x78
3525  1195  02          	ld	(bc), a
3526  1196              l_spr_play_bullets_00116:
3527  1196  0A          	ld	a, (bc)
3528  1197  EE 80       	xor	a,0x80
3529  1199  D6 08       	sub	a,0x08
3530  119B  30 03       	jr	NC,l_spr_play_bullets_00118
3531  119D  3E 88       	ld	a,0x88
3532  119F  02          	ld	(bc), a
3533  11A0              l_spr_play_bullets_00118:
3534  11A0  0A          	ld	a, (bc)
3535  11A1  CB 47       	bit	0,a
3536  11A3  32 00 00    	ld	(_s_lin1),a
3537  11A6  28 04       	jr	Z,l_spr_play_bullets_00120
3538  11A8  21 00 00    	ld	hl,_s_lin1
3539  11AB  35          	dec	(hl)
3540  11AC              l_spr_play_bullets_00120:
3541  11AC  DD 6E FB    	ld	l,(ix-5)
3542  11AF  DD 66 FC    	ld	h,(ix-4)
3543  11B2  7E          	ld	a, (hl)
3544  11B3  21 00 00    	ld	hl,_s_lin1
3545  11B6  86          	add	a, (hl)
3546  11B7  21 00 00    	ld	hl,_s_lin0
3547  11BA  77          	ld	(hl), a
3548  11BB  3E 90       	ld	a,0x90
3549  11BD  96          	sub	a, (hl)
3550  11BE  30 0F       	jr	NC,l_spr_play_bullets_00122
3551  11C0  21 00 00    	ld	hl,_bullet_count
3552  11C3  35          	dec	(hl)
3553  11C4  DD 6E FE    	ld	l,(ix-2)
3554  11C7  DD 66 FF    	ld	h,(ix-1)
3555  11CA  36 FF       	ld	(hl),0xff
3556  11CC  C3 F8 15    	jp	l_spr_play_bullets_00191
3557  11CF              l_spr_play_bullets_00122:
3558  11CF  DD 6E FB    	ld	l,(ix-5)
3559  11D2  DD 66 FC    	ld	h,(ix-4)
3560  11D5  3A 00 00    	ld	a,(_s_lin0)
3561  11D8  77          	ld	(hl),a
3562  11D9              l_spr_play_bullets_00125:
3563  11D9  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3564  11DB  DD 86 F3    	add	a,(ix-13)
3565  11DE  6F          	ld	l, a
3566  11DF  3E 00       	ld	a, +((_bullet_dir) / 256)
3567  11E1  CE 00       	adc	a,0x00
3568  11E3  67          	ld	h, a
3569  11E4  4E          	ld	c, (hl)
3570  11E5  0C          	inc	c
3571  11E6  20 3D       	jr	NZ,l_spr_play_bullets_00135
3572  11E8  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3573  11EA  DD 86 F3    	add	a,(ix-13)
3574  11ED  4F          	ld	c, a
3575  11EE  3E 00       	ld	a, +((_bullet_colint) / 256)
3576  11F0  CE 00       	adc	a,0x00
3577  11F2  47          	ld	b, a
3578  11F3  0A          	ld	a, (bc)
3579  11F4  3C          	inc	a
3580  11F5  5F          	ld	e,a
3581  11F6  02          	ld	(bc), a
3582  11F7  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3583  11F9  DD 86 F3    	add	a,(ix-13)
3584  11FC  6F          	ld	l, a
3585  11FD  3E 00       	ld	a, +((_bullet_frames) / 256)
3586  11FF  CE 00       	adc	a,0x00
3587  1201  67          	ld	h, a
3588  1202  56          	ld	d, (hl)
3589  1203  7B          	ld	a, e
3590  1204  92          	sub	a, d
3591  1205  38 63       	jr	C,l_spr_play_bullets_00136
3592  1207  DD 6E FE    	ld	l,(ix-2)
3593  120A  DD 66 FF    	ld	h,(ix-1)
3594  120D  7E          	ld	a, (hl)
3595  120E  3C          	inc	a
3596  120F  DD 77 F2    	ld	(ix-14),a
3597  1212  AF          	xor	a, a
3598  1213  02          	ld	(bc), a
3599  1214  DD 7E F2    	ld	a,(ix-14)
3600  1217  E6 01       	and	a,0x01
3601  1219  3D          	dec	a
3602  121A  20 4E       	jr	NZ,l_spr_play_bullets_00136
3603  121C  DD 7E F2    	ld	a,(ix-14)
3604  121F  3C          	inc	a
3605  1220  32 00 00    	ld	(_s_col0),a
3606  1223  18 45       	jr	l_spr_play_bullets_00136
3607  1225              l_spr_play_bullets_00135:
3608  1225  01 00 00    	ld	bc,_bullet_colint
3609  1228  DD 6E F3    	ld	l,(ix-13)
3610  122B  26 00       	ld	h,0x00
3611  122D  09          	add	hl,bc
3612  122E  DD 75 F7    	ld	(ix-9),l
3613  1231  DD 74 F8    	ld	(ix-8),h
3614  1234  4E          	ld	c,(hl)
3615  1235  0D          	dec	c
3616  1236  71          	ld	(hl), c
3617  1237  0C          	inc	c
3618  1238  20 30       	jr	NZ,l_spr_play_bullets_00136
3619  123A  DD 6E FE    	ld	l,(ix-2)
3620  123D  DD 66 FF    	ld	h,(ix-1)
3621  1240  7E          	ld	a, (hl)
3622  1241  C6 FF       	add	a,0xff
3623  1243  DD 77 F2    	ld	(ix-14),a
3624  1246  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3625  1248  DD 86 F3    	add	a,(ix-13)
3626  124B  6F          	ld	l, a
3627  124C  3E 00       	ld	a, +((_bullet_frames) / 256)
3628  124E  CE 00       	adc	a,0x00
3629  1250  67          	ld	h, a
3630  1251  4E          	ld	c, (hl)
3631  1252  0D          	dec	c
3632  1253  DD 6E F7    	ld	l,(ix-9)
3633  1256  DD 66 F8    	ld	h,(ix-8)
3634  1259  71          	ld	(hl), c
3635  125A  DD 7E F2    	ld	a,(ix-14)
3636  125D  E6 01       	and	a,0x01
3637  125F  3D          	dec	a
3638  1260  20 08       	jr	NZ,l_spr_play_bullets_00136
3639  1262  DD 7E F2    	ld	a,(ix-14)
3640  1265  C6 FF       	add	a,0xff
3641  1267  32 00 00    	ld	(_s_col0),a
3642  126A              l_spr_play_bullets_00136:
3643  126A  21 00 00    	ld	hl,_tmp1
3644  126D  36 00       	ld	(hl),0x00
3645  126F  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3646  1271  DD 86 F3    	add	a,(ix-13)
3647  1274  4F          	ld	c, a
3648  1275  3E 00       	ld	a, +((_bullet_max) / 256)
3649  1277  CE 00       	adc	a,0x00
3650  1279  47          	ld	b, a
3651  127A  0A          	ld	a, (bc)
3652  127B  B7          	or	a, a
3653  127C  28 27       	jr	Z,l_spr_play_bullets_00140
3654  127E  DD 5E F2    	ld	e,(ix-14)
3655  1281  16 00       	ld	d,0x00
3656  1283  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3657  1285  DD 86 F3    	add	a,(ix-13)
3658  1288  6F          	ld	l, a
3659  1289  3E 00       	ld	a, +((_bullet_col0) / 256)
3660  128B  CE 00       	adc	a,0x00
3661  128D  67          	ld	h, a
3662  128E  6E          	ld	l, (hl)
3663  128F  AF          	xor	a,a
3664  1290  67          	ld	h,a
3665  1291  EB          	ex	de,hl
3666  1292  ED 52       	sbc	hl,de
3667  1294  CD 00 00    	call	_abs_fastcall
3668  1297  5D          	ld	e, l
3669  1298  21 00 00    	ld	hl,_tmp0
3670  129B  73          	ld	(hl), e
3671  129C  0A          	ld	a, (bc)
3672  129D  96          	sub	a, (hl)
3673  129E  30 05       	jr	NC,l_spr_play_bullets_00140
3674  12A0  21 00 00    	ld	hl,_tmp1
3675  12A3  36 01       	ld	(hl),0x01
3676  12A5              l_spr_play_bullets_00140:
3677  12A5  DD 7E F2    	ld	a,(ix-14)
3678  12A8  D6 1E       	sub	a,0x1e
3679  12AA  38 05       	jr	C,l_spr_play_bullets_00142
3680  12AC  21 00 00    	ld	hl,_tmp1
3681  12AF  36 01       	ld	(hl),0x01
3682  12B1              l_spr_play_bullets_00142:
3683  12B1  3A 00 00    	ld	a,(_tmp1)
3684  12B4  B7          	or	a, a
3685  12B5  28 0F       	jr	Z,l_spr_play_bullets_00144
3686  12B7  21 00 00    	ld	hl,_bullet_count
3687  12BA  35          	dec	(hl)
3688  12BB  DD 6E FE    	ld	l,(ix-2)
3689  12BE  DD 66 FF    	ld	h,(ix-1)
3690  12C1  36 FF       	ld	(hl),0xff
3691  12C3  C3 F8 15    	jp	l_spr_play_bullets_00191
3692  12C6              l_spr_play_bullets_00144:
3693  12C6  DD 7E FE    	ld	a,(ix-2)
3694  12C9  DD 77 F7    	ld	(ix-9),a
3695  12CC  DD 7E FF    	ld	a,(ix-1)
3696  12CF  DD 77 F8    	ld	(ix-8),a
3697  12D2  DD 6E FE    	ld	l,(ix-2)
3698  12D5  DD 66 FF    	ld	h,(ix-1)
3699  12D8  DD 7E F2    	ld	a,(ix-14)
3700  12DB  96          	sub	a,(hl)
3701  12DC  CA BC 15    	jp	Z,l_spr_play_bullets_00186
3702  12DF  3A 00 00    	ld	a,(_s_lin0)
3703  12E2  C6 08       	add	a,0x08
3704  12E4  4F          	ld	c, a
3705  12E5  3A 00 00    	ld	a, (_s_col0)
3706  12E8  47          	ld	b,a
3707  12E9  C5          	push	bc
3708  12EA  CD 00 00    	call	_spr_calc_index
3709  12ED  F1          	pop	af
3710  12EE  22 00 00    	ld	(_index0),hl
3711  12F1  01 00 00    	ld	bc,_scr_map
3712  12F4  09          	add	hl,bc
3713  12F5  4D          	ld	c,l
3714  12F6  44          	ld	b,h
3715  12F7  6E          	ld	l, (hl)
3716  12F8  DD 7E F3    	ld	a,(ix-13)
3717  12FB  D6 07       	sub	a,0x07
3718  12FD  20 04       	jr	NZ,l_spr_play_bullets_00420
3719  12FF  3E 01       	ld	a,0x01
3720  1301  18 01       	jr	l_spr_play_bullets_00421
3721  1303              l_spr_play_bullets_00420:
3722  1303  AF          	xor	a,a
3723  1304              l_spr_play_bullets_00421:
3724  1304  5F          	ld	e, a
3725  1305  7D          	ld	a, l
3726  1306  D6 4D       	sub	a,0x4d
3727  1308  20 3D       	jr	NZ,l_spr_play_bullets_00146
3728  130A  B3          	or	a,e
3729  130B  28 3A       	jr	Z,l_spr_play_bullets_00146
3730  130D  AF          	xor	a, a
3731  130E  02          	ld	(bc), a
3732  130F  2A 00 00    	ld	hl,(_index0)
3733  1312  E5          	push	hl
3734  1313  CD 00 00    	call	_game_obj_set
3735  1316  F1          	pop	af
3736  1317  2A 00 00    	ld	hl,(_index0)
3737  131A  4D          	ld	c,l
3738  131B  5C          	ld	e,h
3739  131C  06 04       	ld	b,0x04
3740  131E  79          	ld	a,c
3741  131F              l_spr_play_bullets_00424:
3742  131F  CB 3B       	srl	e
3743  1321  1F          	rra
3744  1322  10 FB       	djnz	l_spr_play_bullets_00424
3745  1324  07          	rlca
3746  1325  07          	rlca
3747  1326  07          	rlca
3748  1327  07          	rlca
3749  1328  E6 F0       	and	a,0xf0
3750  132A  DD 6E FB    	ld	l,(ix-5)
3751  132D  DD 66 FC    	ld	h,(ix-4)
3752  1330  77          	ld	(hl), a
3753  1331  3A 00 00    	ld	a,(_index0)
3754  1334  E6 0F       	and	a,0x0f
3755  1336  87          	add	a, a
3756  1337  DD 6E FE    	ld	l,(ix-2)
3757  133A  DD 66 FF    	ld	h,(ix-1)
3758  133D  77          	ld	(hl), a
3759  133E  DD 6E F3    	ld	l,(ix-13)
3760  1341  CD 0B 16    	call	_spr_explode_bullet
3761  1344  C3 F8 15    	jp	l_spr_play_bullets_00191
3762  1347              l_spr_play_bullets_00146:
3763  1347  7D          	ld	a, l
3764  1348  D6 48       	sub	a,0x48
3765  134A  38 0C       	jr	C,l_spr_play_bullets_00149
3766  134C  2C          	inc	l
3767  134D  28 09       	jr	Z,l_spr_play_bullets_00149
3768  134F  DD 6E F3    	ld	l,(ix-13)
3769  1352  CD 0B 16    	call	_spr_explode_bullet
3770  1355  C3 F8 15    	jp	l_spr_play_bullets_00191
3771  1358              l_spr_play_bullets_00149:
3772  1358  DD 6E FE    	ld	l,(ix-2)
3773  135B  DD 66 FF    	ld	h,(ix-1)
3774  135E  DD 7E F2    	ld	a,(ix-14)
3775  1361  77          	ld	(hl), a
3776  1362  DD 6E F9    	ld	l,(ix-7)
3777  1365  DD 66 FA    	ld	h,(ix-6)
3778  1368  7E          	ld	a, (hl)
3779  1369  D6 04       	sub	a,0x04
3780  136B  20 19       	jr	NZ,l_spr_play_bullets_00152
3781  136D  21 00 00    	ld	hl,_s_lin0
3782  1370  7E          	ld	a, (hl)
3783  1371  C6 F0       	add	a,0xf0
3784  1373  4F          	ld	c, a
3785  1374  7E          	ld	a, (hl)
3786  1375  C6 10       	add	a,0x10
3787  1377  DD 77 F4    	ld	(ix-12),a
3788  137A  DD 35 F2    	dec	(ix-14)
3789  137D  DD 7E F2    	ld	a,(ix-14)
3790  1380  3C          	inc	a
3791  1381  DD 77 F5    	ld	(ix-11),a
3792  1384  18 14       	jr	l_spr_play_bullets_00153
3793  1386              l_spr_play_bullets_00152:
3794  1386  21 00 00    	ld	hl,_s_lin0
3795  1389  7E          	ld	a, (hl)
3796  138A  C6 F8       	add	a,0xf8
3797  138C  4F          	ld	c, a
3798  138D  7E          	ld	a, (hl)
3799  138E  C6 08       	add	a,0x08
3800  1390  DD 77 F4    	ld	(ix-12),a
3801  1393  DD 7E F2    	ld	a,(ix-14)
3802  1396  3C          	inc	a
3803  1397  DD 77 F5    	ld	(ix-11),a
3804  139A              l_spr_play_bullets_00153:
3805  139A  7B          	ld	a, e
3806  139B  B7          	or	a, a
3807  139C  CA 84 15    	jp	Z, l_spr_play_bullets_00183
3808  139F  21 00 00    	ld	hl,_tmp0
3809  13A2  36 00       	ld	(hl),0x00
3810  13A4              l_spr_play_bullets_00193:
3811  13A4  2A 00 00    	ld	hl,(_tmp0)
3812  13A7  26 00       	ld	h,0x00
3813  13A9  11 00 00    	ld	de,_class
3814  13AC  19          	add	hl,de
3815  13AD  7E          	ld	a,(hl)
3816  13AE  B7          	or	a,a
3817  13AF  CA 4F 14    	jp	Z,l_spr_play_bullets_00194
3818  13B2  2A 00 00    	ld	hl,(_tmp0)
3819  13B5  26 00       	ld	h,0x00
3820  13B7  11 00 00    	ld	de,_lin
3821  13BA  19          	add	hl,de
3822  13BB  7E          	ld	a,(hl)
3823  13BC  47          	ld	b,a
3824  13BD  91          	sub	a,c
3825  13BE  DA 4F 14    	jp	C,l_spr_play_bullets_00194
3826  13C1  21 00 00    	ld	hl,_tmp0
3827  13C4  DD 7E F4    	ld	a,(ix-12)
3828  13C7  90          	sub	a, b
3829  13C8  DA 4F 14    	jp	C, l_spr_play_bullets_00194
3830  13CB  5E          	ld	e,(hl)
3831  13CC  16 00       	ld	d,0x00
3832  13CE  21 00 00    	ld	hl,_col
3833  13D1  19          	add	hl,de
3834  13D2  7E          	ld	a,(hl)
3835  13D3  5F          	ld	e,a
3836  13D4  DD 96 F2    	sub	a,(ix-14)
3837  13D7  38 76       	jr	C,l_spr_play_bullets_00194
3838  13D9  DD 7E F5    	ld	a,(ix-11)
3839  13DC  93          	sub	a, e
3840  13DD  38 70       	jr	C,l_spr_play_bullets_00194
3841  13DF  21 00 00    	ld	hl,_s_lin0
3842  13E2  70          	ld	(hl), b
3843  13E3  21 00 00    	ld	hl,_s_col0
3844  13E6  73          	ld	(hl), e
3845  13E7  C5          	push	bc
3846  13E8  CD 00 00    	call	_rand
3847  13EB  11 06 00    	ld	de,0x0006
3848  13EE  D5          	push	de
3849  13EF  E5          	push	hl
3850  13F0  CD 00 00    	call	__modsint_callee
3851  13F3  CD 00 00    	call	_player_score_add
3852  13F6  C1          	pop	bc
3853  13F7  2A 00 00    	ld	hl,(_tmp0)
3854  13FA  26 00       	ld	h,0x00
3855  13FC  29          	add	hl,hl
3856  13FD  11 00 00    	ld	de,_game_respawn_time
3857  1400  19          	add	hl, de
3858  1401  DD 75 F9    	ld	(ix-7),l
3859  1404  DD 74 FA    	ld	(ix-6),h
3860  1407  ED 5B 00 00 	ld	de,(_curr_time)
3861  140B  73          	ld	(hl), e
3862  140C  23          	inc	hl
3863  140D  72          	ld	(hl), d
3864  140E  2A 00 00    	ld	hl,(_tmp0)
3865  1411  C5          	push	bc
3866  1412  CD 27 09    	call	_spr_destroy
3867  1415  C1          	pop	bc
3868  1416  2A 00 00    	ld	hl,(_tmp0)
3869  1419  26 00       	ld	h,0x00
3870  141B  11 00 00    	ld	de,_bullet_col
3871  141E  19          	add	hl,de
3872  141F  7E          	ld	a,(hl)
3873  1420  47          	ld	b,a
3874  1421  3C          	inc	a
3875  1422  28 17       	jr	Z,l_spr_play_bullets_00155
3876  1424  3A 00 00    	ld	a,(_tmp0)
3877  1427  5F          	ld	e,a
3878  1428  16 00       	ld	d,0x00
3879  142A  21 00 00    	ld	hl,_bullet_lin
3880  142D  19          	add	hl,de
3881  142E  7E          	ld	a,(hl)
3882  142F  32 00 00    	ld	(_s_lin0),a
3883  1432  21 00 00    	ld	hl,_s_col0
3884  1435  70          	ld	(hl), b
3885  1436  C5          	push	bc
3886  1437  CD 8F 0C    	call	_spr_back_repaint
3887  143A  C1          	pop	bc
3888  143B              l_spr_play_bullets_00155:
3889  143B  DD 6E F7    	ld	l,(ix-9)
3890  143E  DD 66 F8    	ld	h,(ix-8)
3891  1441  3A 00 00    	ld	a,(_s_col0)
3892  1444  77          	ld	(hl),a
3893  1445  C5          	push	bc
3894  1446  DD 6E F3    	ld	l,(ix-13)
3895  1449  CD 0B 16    	call	_spr_explode_bullet
3896  144C  C1          	pop	bc
3897  144D  18 0B       	jr	l_spr_play_bullets_00162
3898  144F              l_spr_play_bullets_00194:
3899  144F  21 00 00    	ld	hl,_tmp0
3900  1452  7E          	ld	a,(hl)
3901  1453  3C          	inc	a
3902  1454  77          	ld	(hl),a
3903  1455  D6 07       	sub	a,0x07
3904  1457  DA A4 13    	jp	C, l_spr_play_bullets_00193
3905  145A              l_spr_play_bullets_00162:
3906  145A  3A 00 00    	ld	a,(_game_boss)
3907  145D  B7          	or	a, a
3908  145E  CA BC 15    	jp	Z, l_spr_play_bullets_00186
3909  1461  21 00 00    	ld	hl,_boss_lin
3910  1464  7E          	ld	a, (hl)
3911  1465  91          	sub	a, c
3912  1466  38 06       	jr	C,l_spr_play_bullets_00172
3913  1468  DD 7E F4    	ld	a,(ix-12)
3914  146B  96          	sub	a, (hl)
3915  146C  30 28       	jr	NC,l_spr_play_bullets_00173
3916  146E              l_spr_play_bullets_00172:
3917  146E  3A 00 00    	ld	a,(_boss_lin)
3918  1471  5F          	ld	e,a
3919  1472  16 00       	ld	d,0x00
3920  1474  21 10 00    	ld	hl,0x0010
3921  1477  19          	add	hl, de
3922  1478  06 00       	ld	b,0x00
3923  147A  7D          	ld	a, l
3924  147B  91          	sub	a, c
3925  147C  7C          	ld	a, h
3926  147D  98          	sbc	a, b
3927  147E  E2 83 14    	jp	PO, l_spr_play_bullets_00431
3928  1481  EE 80       	xor	a,0x80
3929  1483              l_spr_play_bullets_00431:
3930  1483  FA BC 15    	jp	M, l_spr_play_bullets_00186
3931  1486  DD 7E F4    	ld	a,(ix-12)
3932  1489  06 00       	ld	b,0x00
3933  148B  95          	sub	a, l
3934  148C  78          	ld	a, b
3935  148D  9C          	sbc	a, h
3936  148E  E2 93 14    	jp	PO, l_spr_play_bullets_00432
3937  1491  EE 80       	xor	a,0x80
3938  1493              l_spr_play_bullets_00432:
3939  1493  FA BC 15    	jp	M, l_spr_play_bullets_00186
3940  1496              l_spr_play_bullets_00173:
3941  1496  21 00 00    	ld	hl,_boss_col
3942  1499  7E          	ld	a, (hl)
3943  149A  DD 96 F2    	sub	a,(ix-14)
3944  149D  DA BC 15    	jp	C, l_spr_play_bullets_00186
3945  14A0  DD 7E F5    	ld	a,(ix-11)
3946  14A3  96          	sub	a, (hl)
3947  14A4  DA BC 15    	jp	C, l_spr_play_bullets_00186
3948  14A7  DD 6E F3    	ld	l,(ix-13)
3949  14AA  CD 0B 16    	call	_spr_explode_bullet
3950  14AD  21 00 00    	ld	hl,_game_boss_hit
3951  14B0  35          	dec	(hl)
3952  14B1  CD 00 00    	call	_game_update_stats
3953  14B4  3A 00 00    	ld	a,(_game_boss_hit)
3954  14B7  B7          	or	a, a
3955  14B8  C2 BC 15    	jp	NZ, l_spr_play_bullets_00186
3956  14BB  21 00 00    	ld	hl,_game_boss
3957  14BE  36 00       	ld	(hl),0x00
3958  14C0  21 00 00    	ld	hl,_game_boss_alive
3959  14C3  36 00       	ld	(hl),0x00
3960  14C5  3A 00 00    	ld	a,(_boss_col)
3961  14C8  21 00 00    	ld	hl,0x0000
3962  14CB  E5          	push	hl
3963  14CC  21 87 03    	ld	hl,0x0387
3964  14CF  E5          	push	hl
3965  14D0  F5          	push	af
3966  14D1  33          	inc	sp
3967  14D2  3A 00 00    	ld	a,(_boss_lin)
3968  14D5  F5          	push	af
3969  14D6  33          	inc	sp
3970  14D7  CD 5B 0E    	call	_spr_add_anim
3971  14DA  F1          	pop	af
3972  14DB  F1          	pop	af
3973  14DC  F1          	pop	af
3974  14DD  21 00 00    	ld	hl,_boss_col
3975  14E0  46          	ld	b, (hl)
3976  14E1  04          	inc	b
3977  14E2  04          	inc	b
3978  14E3  21 00 00    	ld	hl,0x0000
3979  14E6  E5          	push	hl
3980  14E7  21 87 03    	ld	hl,0x0387
3981  14EA  E5          	push	hl
3982  14EB  C5          	push	bc
3983  14EC  33          	inc	sp
3984  14ED  3A 00 00    	ld	a,(_boss_lin)
3985  14F0  F5          	push	af
3986  14F1  33          	inc	sp
3987  14F2  CD 5B 0E    	call	_spr_add_anim
3988  14F5  F1          	pop	af
3989  14F6  F1          	pop	af
3990  14F7  F1          	pop	af
3991  14F8  3A 00 00    	ld	a,(_boss_lin)
3992  14FB  C6 10       	add	a,0x10
3993  14FD  47          	ld	b, a
3994  14FE  3A 00 00    	ld	a,(_boss_col)
3995  1501  21 00 00    	ld	hl,0x0000
3996  1504  E5          	push	hl
3997  1505  21 87 03    	ld	hl,0x0387
3998  1508  E5          	push	hl
3999  1509  48          	ld	c,b
4000  150A  47          	ld	b,a
4001  150B  C5          	push	bc
4002  150C  CD 5B 0E    	call	_spr_add_anim
4003  150F  F1          	pop	af
4004  1510  F1          	pop	af
4005  1511  F1          	pop	af
4006  1512  21 00 00    	ld	hl,_boss_col
4007  1515  46          	ld	b, (hl)
4008  1516  04          	inc	b
4009  1517  04          	inc	b
4010  1518  3A 00 00    	ld	a,(_boss_lin)
4011  151B  C6 10       	add	a,0x10
4012  151D  57          	ld	d, a
4013  151E  21 00 00    	ld	hl,0x0000
4014  1521  E5          	push	hl
4015  1522  21 87 03    	ld	hl,0x0387
4016  1525  E5          	push	hl
4017  1526  4A          	ld	c, d
4018  1527  C5          	push	bc
4019  1528  CD 5B 0E    	call	_spr_add_anim
4020  152B  F1          	pop	af
4021  152C  F1          	pop	af
4022  152D  F1          	pop	af
4023  152E  21 00 00    	ld	hl,_tmp0
4024  1531  36 00       	ld	(hl),0x00
4025  1533              l_spr_play_bullets_00195:
4026  1533  2A 00 00    	ld	hl,(_tmp0)
4027  1536  26 00       	ld	h,0x00
4028  1538  01 00 00    	ld	bc,_bullet_col
4029  153B  09          	add	hl,bc
4030  153C  7E          	ld	a,(hl)
4031  153D  4F          	ld	c,a
4032  153E  3C          	inc	a
4033  153F  28 15       	jr	Z,l_spr_play_bullets_00164
4034  1541  3A 00 00    	ld	a,(_tmp0)
4035  1544  5F          	ld	e,a
4036  1545  16 00       	ld	d,0x00
4037  1547  21 00 00    	ld	hl,_bullet_lin
4038  154A  19          	add	hl,de
4039  154B  7E          	ld	a,(hl)
4040  154C  32 00 00    	ld	(_s_lin0),a
4041  154F  21 00 00    	ld	hl,_s_col0
4042  1552  71          	ld	(hl), c
4043  1553  CD 8F 0C    	call	_spr_back_repaint
4044  1556              l_spr_play_bullets_00164:
4045  1556  2A 00 00    	ld	hl,(_tmp0)
4046  1559  26 00       	ld	h,0x00
4047  155B  01 00 00    	ld	bc,_bullet_col
4048  155E  09          	add	hl,bc
4049  155F  36 FF       	ld	(hl),0xff
4050  1561  2A 00 00    	ld	hl,(_tmp0)
4051  1564  CD 27 09    	call	_spr_destroy
4052  1567  2A 00 00    	ld	hl,(_tmp0)
4053  156A  26 00       	ld	h,0x00
4054  156C  29          	add	hl, hl
4055  156D  11 00 00    	ld	de,_game_respawn_time
4056  1570  19          	add	hl, de
4057  1571  AF          	xor	a, a
4058  1572  77          	ld	(hl), a
4059  1573  23          	inc	hl
4060  1574  77          	ld	(hl), a
4061  1575  21 00 00    	ld	hl,_tmp0
4062  1578  7E          	ld	a,(hl)
4063  1579  3C          	inc	a
4064  157A  77          	ld	(hl),a
4065  157B  D6 07       	sub	a,0x07
4066  157D  38 B4       	jr	C,l_spr_play_bullets_00195
4067  157F  CD 00 00    	call	_game_boss_clear
4068  1582  18 38       	jr	l_spr_play_bullets_00186
4069  1584              l_spr_play_bullets_00183:
4070  1584  3A 07 00    	ld	a,(_lin + 7)
4071  1587  47          	ld	b,a
4072  1588  91          	sub	a, c
4073  1589  38 31       	jr	C,l_spr_play_bullets_00186
4074  158B  DD 7E F4    	ld	a,(ix-12)
4075  158E  90          	sub	a, b
4076  158F  38 2B       	jr	C,l_spr_play_bullets_00186
4077  1591  3A 07 00    	ld	a,(_col + 7)
4078  1594  4F          	ld	c,a
4079  1595  DD 96 F2    	sub	a,(ix-14)
4080  1598  38 22       	jr	C,l_spr_play_bullets_00186
4081  159A  DD 7E F5    	ld	a,(ix-11)
4082  159D  91          	sub	a, c
4083  159E  38 1C       	jr	C,l_spr_play_bullets_00186
4084  15A0  2E 03       	ld	l,0x03
4085  15A2  CD 00 00    	call	_zx_border_fastcall
4086  15A5  2E 0A       	ld	l,0x0a
4087  15A7  CD 00 00    	call	_player_hit
4088  15AA  DD 6E FE    	ld	l,(ix-2)
4089  15AD  DD 66 FF    	ld	h,(ix-1)
4090  15B0  3A 00 00    	ld	a,(_s_col0)
4091  15B3  77          	ld	(hl),a
4092  15B4  DD 6E F6    	ld	l,(ix-10)
4093  15B7  CD 0B 16    	call	_spr_explode_bullet
4094  15BA  18 4A       	jr	l_spr_play_bullets_00198
4095  15BC              l_spr_play_bullets_00186:
4096  15BC  DD 6E F7    	ld	l,(ix-9)
4097  15BF  DD 66 F8    	ld	h,(ix-8)
4098  15C2  4E          	ld	c, (hl)
4099  15C3  0C          	inc	c
4100  15C4  28 32       	jr	Z,l_spr_play_bullets_00191
4101  15C6  DD 7E F2    	ld	a,(ix-14)
4102  15C9  D6 20       	sub	a,0x20
4103  15CB  30 2B       	jr	NC,l_spr_play_bullets_00191
4104  15CD  F3          	di
4105  15CE  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4106  15D0  DD 86 F3    	add	a,(ix-13)
4107  15D3  6F          	ld	l, a
4108  15D4  3E 00       	ld	a, +((_bullet_tile) / 256)
4109  15D6  CE 00       	adc	a,0x00
4110  15D8  67          	ld	h, a
4111  15D9  4E          	ld	c, (hl)
4112  15DA  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4113  15DC  DD 86 F3    	add	a,(ix-13)
4114  15DF  6F          	ld	l, a
4115  15E0  3E 00       	ld	a, +((_bullet_colint) / 256)
4116  15E2  CE 00       	adc	a,0x00
4117  15E4  67          	ld	h, a
4118  15E5  46          	ld	b, (hl)
4119  15E6  79          	ld	a, c
4120  15E7  80          	add	a, b
4121  15E8  47          	ld	b, a
4122  15E9  DD 7E F2    	ld	a,(ix-14)
4123  15EC  F5          	push	af
4124  15ED  33          	inc	sp
4125  15EE  3A 00 00    	ld	a,(_s_lin0)
4126  15F1  48          	ld	c,b
4127  15F2  47          	ld	b,a
4128  15F3  C5          	push	bc
4129  15F4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4130  15F7  FB          	ei
4131  15F8              l_spr_play_bullets_00191:
4132  15F8  DD 34 F3    	inc	(ix-13)
4133  15FB  DD 7E F3    	ld	a,(ix-13)
4134  15FE  DD 77 F6    	ld	(ix-10),a
4135  1601  D6 08       	sub	a,0x08
4136  1603  DA 69 10    	jp	C, l_spr_play_bullets_00197
4137  1606              l_spr_play_bullets_00198:
4138  1606  DD F9       	ld	sp, ix
4139  1608  DD E1       	pop	ix
4140  160A  C9          	ret
4141  160B              	SECTION code_compiler
4142  160B              ;	---------------------------------
4143  160B              ; Function spr_explode_bullet
4144  160B              ; ---------------------------------
4145  160B              _spr_explode_bullet:
4146  160B  5D          	ld	e, l
4147  160C  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4148  160E  83          	add	a, e
4149  160F  4F          	ld	c, a
4150  1610  3E 00       	ld	a, +((_bullet_col) / 256)
4151  1612  CE 00       	adc	a,0x00
4152  1614  47          	ld	b, a
4153  1615  0A          	ld	a, (bc)
4154  1616  57          	ld	d, a
4155  1617  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4156  1619  83          	add	a, e
4157  161A  6F          	ld	l, a
4158  161B  3E 00       	ld	a, +((_bullet_lin) / 256)
4159  161D  CE 00       	adc	a,0x00
4160  161F  67          	ld	h, a
4161  1620  5E          	ld	e, (hl)
4162  1621  C5          	push	bc
4163  1622  21 00 00    	ld	hl,0x0000
4164  1625  E5          	push	hl
4165  1626  21 87 03    	ld	hl,0x0387
4166  1629  E5          	push	hl
4167  162A  D5          	push	de
4168  162B  CD 5B 0E    	call	_spr_add_anim
4169  162E  F1          	pop	af
4170  162F  F1          	pop	af
4171  1630  F1          	pop	af
4172  1631  C1          	pop	bc
4173  1632  21 00 00    	ld	hl,_bullet_count
4174  1635  35          	dec	(hl)
4175  1636  3E FF       	ld	a,0xff
4176  1638  02          	ld	(bc), a
4177  1639  C9          	ret
4178  163A              	SECTION code_compiler
4179  163A              ;	---------------------------------
4180  163A              ; Function spr_turn_horizontal
4181  163A              ; ---------------------------------
4182  163A              _spr_turn_horizontal:
4183  163A  21 00 00    	ld	hl,_s_state
4184  163D  CB 56       	bit	2, (hl)
4185  163F  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4186  1641  21 00 00    	ld	hl,_s_state
4187  1644  7E          	ld	a,(hl)
4188  1645  F6 08       	or	a,0x08
4189  1647  E6 FB       	and	a,0xfb
4190  1649  77          	ld	(hl),a
4191  164A  18 09       	jr	l_spr_turn_horizontal_00103
4192  164C              l_spr_turn_horizontal_00102:
4193  164C  21 00 00    	ld	hl,_s_state
4194  164F  7E          	ld	a,(hl)
4195  1650  E6 F7       	and	a,0xf7
4196  1652  F6 04       	or	a,0x04
4197  1654  77          	ld	(hl),a
4198  1655              l_spr_turn_horizontal_00103:
4199  1655  2A 00 00    	ld	hl,(_sprite)
4200  1658  26 00       	ld	h,0x00
4201  165A  01 00 00    	ld	bc,_state
4202  165D  09          	add	hl,bc
4203  165E  3A 00 00    	ld	a,(_s_state)
4204  1661  77          	ld	(hl),a
4205  1662  2A 00 00    	ld	hl,(_sprite)
4206  1665  26 00       	ld	h,0x00
4207  1667  01 00 00    	ld	bc,_tile
4208  166A  09          	add	hl,bc
4209  166B  E5          	push	hl
4210  166C  2A 00 00    	ld	hl,(_sprite)
4211  166F  CD 90 09    	call	_spr_tile
4212  1672  C1          	pop	bc
4213  1673  7D          	ld	a,l
4214  1674  02          	ld	(bc), a
4215  1675  C9          	ret
4216  1676              	SECTION code_compiler
4217  1676              ;	---------------------------------
4218  1676              ; Function spr_btile_paint_back
4219  1676              ; ---------------------------------
4220  1676              _spr_btile_paint_back:
4221  1676  21 20 00    	ld	hl,0x0020
4222  1679  22 00 00    	ld	(_tmp_ui),hl
4223  167C  21 00 00    	ld	hl,_map_paper
4224  167F  7E          	ld	a, (hl)
4225  1680  0F          	rrca
4226  1681  0F          	rrca
4227  1682  0F          	rrca
4228  1683  E6 1F       	and	a,0x1f
4229  1685  B6          	or	a, (hl)
4230  1686  F6 40       	or	a,0x40
4231  1688  32 00 00    	ld	(_map_paper_clr),a
4232  168B              l_spr_btile_paint_back_00106:
4233  168B  21 00 00    	ld	hl,_tmp_ui
4234  168E  7E          	ld	a, (hl)
4235  168F  D6 A0       	sub	a,0xa0
4236  1691  23          	inc	hl
4237  1692  7E          	ld	a, (hl)
4238  1693  DE 28       	sbc	a,0x28
4239  1695  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4240  1697  21 00 00    	ld	hl,_tmp0
4241  169A  36 00       	ld	(hl),0x00
4242  169C              l_spr_btile_paint_back_00103:
4243  169C  3A 00 00    	ld	a,(_tmp0)
4244  169F  D6 10       	sub	a,0x10
4245  16A1  30 34       	jr	NC,l_spr_btile_paint_back_00105
4246  16A3  01 00 00    	ld	bc,_btiles
4247  16A6  2A 00 00    	ld	hl,(_tmp_ui)
4248  16A9  09          	add	hl,bc
4249  16AA  7D          	ld	a,l
4250  16AB  44          	ld	b,h
4251  16AC  21 00 00    	ld	hl,_tmp0
4252  16AF  86          	add	a, (hl)
4253  16B0  4F          	ld	c, a
4254  16B1  78          	ld	a, b
4255  16B2  CE 00       	adc	a,0x00
4256  16B4  47          	ld	b, a
4257  16B5  0A          	ld	a, (bc)
4258  16B6  32 00 00    	ld	(_tmp),a
4259  16B9  E6 38       	and	a,0x38
4260  16BB  5F          	ld	e, a
4261  16BC  3A 00 00    	ld	a,(_map_paper_last)
4262  16BF  93          	sub	a, e
4263  16C0  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4264  16C2  21 00 00    	ld	hl,_tmp
4265  16C5  7E          	ld	a, (hl)
4266  16C6  E6 C7       	and	a,0xc7
4267  16C8  77          	ld	(hl),a
4268  16C9  21 00 00    	ld	hl,_map_paper
4269  16CC  B6          	or	a, (hl)
4270  16CD  32 00 00    	ld	(_tmp),a
4271  16D0  02          	ld	(bc), a
4272  16D1              l_spr_btile_paint_back_00102:
4273  16D1  21 00 00    	ld	hl,_tmp0
4274  16D4  34          	inc	(hl)
4275  16D5  18 C5       	jr	l_spr_btile_paint_back_00103
4276  16D7              l_spr_btile_paint_back_00105:
4277  16D7  2A 00 00    	ld	hl,(_tmp_ui)
4278  16DA  11 30 00    	ld	de,0x0030
4279  16DD  19          	add	hl,de
4280  16DE  22 00 00    	ld	(_tmp_ui),hl
4281  16E1  18 A8       	jr	l_spr_btile_paint_back_00106
4282  16E3              l_spr_btile_paint_back_00108:
4283  16E3  C3 00 00    	jp  _game_attribs
4284  16E6              	SECTION IGNORE
4285  0000              
