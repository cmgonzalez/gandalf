1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_bullet_player_colision
189   0000              	GLOBAL _spr_bullet_enemy_colision
190   0000              	GLOBAL _spr_bullet_axe
191   0000              	GLOBAL _spr_bullet_fireball
192   0000              	GLOBAL _spr_calc_index
193   0000              	GLOBAL _spr_chktime
194   0000              	GLOBAL _spr_set_up
195   0000              	GLOBAL _spr_set_down
196   0000              	GLOBAL _spr_move_up
197   0000              	GLOBAL _spr_move_down
198   0000              	GLOBAL _spr_move_horizontal
199   0000              	GLOBAL _spr_move_right
200   0000              	GLOBAL _spr_move_left
201   0000              	GLOBAL _spr_page_right
202   0000              	GLOBAL _spr_page_left
203   0000              	GLOBAL _spr_page_down
204   0000              	GLOBAL _spr_page_up
205   0000              	GLOBAL _spr_clear_scr
206   0000              	GLOBAL _spr_page_map
207   0000              	GLOBAL _spr_redraw
208   0000              	GLOBAL _spr_destroy
209   0000              	GLOBAL _spr_tile
210   0000              	GLOBAL _spr_tile_dir
211   0000              	GLOBAL _spr_brick_anim
212   0000              	GLOBAL _spr_draw_index
213   0000              	GLOBAL _spr_calc_hor
214   0000              	GLOBAL _spr_back_repaint
215   0000              	GLOBAL _spr_tile_paint
216   0000              	GLOBAL _spr_init_effects
217   0000              	GLOBAL _spr_add_anim
218   0000              	GLOBAL _spr_play_anim
219   0000              	GLOBAL _spr_colision_b
220   0000              	GLOBAL _spr_colision_b2
221   0000              	GLOBAL _spr_bullets_play
222   0000              	GLOBAL _spr_bullet_explode
223   0000              	GLOBAL _spr_turn_horizontal
224   0000              	GLOBAL _spr_btile_paint_back
225   0000              	GLOBAL _spr_flatten
226   0000              	GLOBAL _spr_unflatten
227   0000              ;--------------------------------------------------------
228   0000              ; Externals used
229   0000              ;--------------------------------------------------------
230   0000              	GLOBAL _ulltoa_callee
231   0000              	GLOBAL _ulltoa
232   0000              	GLOBAL _strtoull_callee
233   0000              	GLOBAL _strtoull
234   0000              	GLOBAL _strtoll_callee
235   0000              	GLOBAL _strtoll
236   0000              	GLOBAL _lltoa_callee
237   0000              	GLOBAL _lltoa
238   0000              	GLOBAL _llabs_callee
239   0000              	GLOBAL _llabs
240   0000              	GLOBAL __lldivu__callee
241   0000              	GLOBAL __lldivu_
242   0000              	GLOBAL __lldiv__callee
243   0000              	GLOBAL __lldiv_
244   0000              	GLOBAL _atoll_callee
245   0000              	GLOBAL _atoll
246   0000              	GLOBAL _realloc_unlocked_callee
247   0000              	GLOBAL _realloc_unlocked
248   0000              	GLOBAL _malloc_unlocked_fastcall
249   0000              	GLOBAL _malloc_unlocked
250   0000              	GLOBAL _free_unlocked_fastcall
251   0000              	GLOBAL _free_unlocked
252   0000              	GLOBAL _calloc_unlocked_callee
253   0000              	GLOBAL _calloc_unlocked
254   0000              	GLOBAL _aligned_alloc_unlocked_callee
255   0000              	GLOBAL _aligned_alloc_unlocked
256   0000              	GLOBAL _realloc_callee
257   0000              	GLOBAL _realloc
258   0000              	GLOBAL _malloc_fastcall
259   0000              	GLOBAL _malloc
260   0000              	GLOBAL _free_fastcall
261   0000              	GLOBAL _free
262   0000              	GLOBAL _calloc_callee
263   0000              	GLOBAL _calloc
264   0000              	GLOBAL _aligned_alloc_callee
265   0000              	GLOBAL _aligned_alloc
266   0000              	GLOBAL _utoa_callee
267   0000              	GLOBAL _utoa
268   0000              	GLOBAL _ultoa_callee
269   0000              	GLOBAL _ultoa
270   0000              	GLOBAL _system_fastcall
271   0000              	GLOBAL _system
272   0000              	GLOBAL _strtoul_callee
273   0000              	GLOBAL _strtoul
274   0000              	GLOBAL _strtol_callee
275   0000              	GLOBAL _strtol
276   0000              	GLOBAL _strtof_callee
277   0000              	GLOBAL _strtof
278   0000              	GLOBAL _strtod_callee
279   0000              	GLOBAL _strtod
280   0000              	GLOBAL _srand_fastcall
281   0000              	GLOBAL _srand
282   0000              	GLOBAL _rand
283   0000              	GLOBAL _quick_exit_fastcall
284   0000              	GLOBAL _quick_exit
285   0000              	GLOBAL _qsort_callee
286   0000              	GLOBAL _qsort
287   0000              	GLOBAL _ltoa_callee
288   0000              	GLOBAL _ltoa
289   0000              	GLOBAL _labs_fastcall
290   0000              	GLOBAL _labs
291   0000              	GLOBAL _itoa_callee
292   0000              	GLOBAL _itoa
293   0000              	GLOBAL _ftoh_callee
294   0000              	GLOBAL _ftoh
295   0000              	GLOBAL _ftog_callee
296   0000              	GLOBAL _ftog
297   0000              	GLOBAL _ftoe_callee
298   0000              	GLOBAL _ftoe
299   0000              	GLOBAL _ftoa_callee
300   0000              	GLOBAL _ftoa
301   0000              	GLOBAL _exit_fastcall
302   0000              	GLOBAL _exit
303   0000              	GLOBAL _dtoh_callee
304   0000              	GLOBAL _dtoh
305   0000              	GLOBAL _dtog_callee
306   0000              	GLOBAL _dtog
307   0000              	GLOBAL _dtoe_callee
308   0000              	GLOBAL _dtoe
309   0000              	GLOBAL _dtoa_callee
310   0000              	GLOBAL _dtoa
311   0000              	GLOBAL _bsearch_callee
312   0000              	GLOBAL _bsearch
313   0000              	GLOBAL _atol_fastcall
314   0000              	GLOBAL _atol
315   0000              	GLOBAL _atoi_fastcall
316   0000              	GLOBAL _atoi
317   0000              	GLOBAL _atof_fastcall
318   0000              	GLOBAL _atof
319   0000              	GLOBAL _atexit_fastcall
320   0000              	GLOBAL _atexit
321   0000              	GLOBAL _at_quick_exit_fastcall
322   0000              	GLOBAL _at_quick_exit
323   0000              	GLOBAL _abs_fastcall
324   0000              	GLOBAL _abs
325   0000              	GLOBAL _abort
326   0000              	GLOBAL __strtou__callee
327   0000              	GLOBAL __strtou_
328   0000              	GLOBAL __strtoi__callee
329   0000              	GLOBAL __strtoi_
330   0000              	GLOBAL __random_uniform_xor_8__fastcall
331   0000              	GLOBAL __random_uniform_xor_8_
332   0000              	GLOBAL __random_uniform_xor_32__fastcall
333   0000              	GLOBAL __random_uniform_xor_32_
334   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
335   0000              	GLOBAL __random_uniform_cmwc_8_
336   0000              	GLOBAL __shellsort__callee
337   0000              	GLOBAL __shellsort_
338   0000              	GLOBAL __quicksort__callee
339   0000              	GLOBAL __quicksort_
340   0000              	GLOBAL __insertion_sort__callee
341   0000              	GLOBAL __insertion_sort_
342   0000              	GLOBAL __ldivu__callee
343   0000              	GLOBAL __ldivu_
344   0000              	GLOBAL __ldiv__callee
345   0000              	GLOBAL __ldiv_
346   0000              	GLOBAL __divu__callee
347   0000              	GLOBAL __divu_
348   0000              	GLOBAL __div__callee
349   0000              	GLOBAL __div_
350   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
351   0000              	GLOBAL _NIRVANAP_drawTW_raw
352   0000              	GLOBAL _NIRVANAP_drawTW_callee
353   0000              	GLOBAL _NIRVANAP_drawTW
354   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
355   0000              	GLOBAL _NIRVANAP_drawW_raw
356   0000              	GLOBAL _NIRVANAP_drawW_callee
357   0000              	GLOBAL _NIRVANAP_drawW
358   0000              	GLOBAL _NIRVANAP_spriteT_callee
359   0000              	GLOBAL _NIRVANAP_spriteT
360   0000              	GLOBAL _NIRVANAP_fillC_callee
361   0000              	GLOBAL _NIRVANAP_fillC
362   0000              	GLOBAL _NIRVANAP_readC_callee
363   0000              	GLOBAL _NIRVANAP_readC
364   0000              	GLOBAL _NIRVANAP_paintC_callee
365   0000              	GLOBAL _NIRVANAP_paintC
366   0000              	GLOBAL _NIRVANAP_printC_callee
367   0000              	GLOBAL _NIRVANAP_printC
368   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
369   0000              	GLOBAL _NIRVANAP_fillT_raw
370   0000              	GLOBAL _NIRVANAP_fillT_callee
371   0000              	GLOBAL _NIRVANAP_fillT
372   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
373   0000              	GLOBAL _NIRVANAP_drawT_raw
374   0000              	GLOBAL _NIRVANAP_drawT_callee
375   0000              	GLOBAL _NIRVANAP_drawT
376   0000              	GLOBAL _NIRVANAP_stop
377   0000              	GLOBAL _NIRVANAP_start
378   0000              	GLOBAL _debug3
379   0000              	GLOBAL _debug2
380   0000              	GLOBAL _debug
381   0000              	GLOBAL _zx_print_str
382   0000              	GLOBAL _zx_print_int
383   0000              	GLOBAL _zx_print_chr
384   0000              	GLOBAL _zx_print_bonus_time
385   0000              	GLOBAL _zx_isr
386   0000              	GLOBAL _z80_otdr_callee
387   0000              	GLOBAL _z80_otdr
388   0000              	GLOBAL _z80_otir_callee
389   0000              	GLOBAL _z80_otir
390   0000              	GLOBAL _z80_outp_callee
391   0000              	GLOBAL _z80_outp
392   0000              	GLOBAL _z80_indr_callee
393   0000              	GLOBAL _z80_indr
394   0000              	GLOBAL _z80_inir_callee
395   0000              	GLOBAL _z80_inir
396   0000              	GLOBAL _z80_inp_fastcall
397   0000              	GLOBAL _z80_inp
398   0000              	GLOBAL _z80_set_int_state_fastcall
399   0000              	GLOBAL _z80_set_int_state
400   0000              	GLOBAL _z80_get_int_state
401   0000              	GLOBAL _z80_delay_tstate_fastcall
402   0000              	GLOBAL _z80_delay_tstate
403   0000              	GLOBAL _z80_delay_ms_fastcall
404   0000              	GLOBAL _z80_delay_ms
405   0000              	GLOBAL _im2_remove_generic_callback_callee
406   0000              	GLOBAL _im2_remove_generic_callback
407   0000              	GLOBAL _im2_prepend_generic_callback_callee
408   0000              	GLOBAL _im2_prepend_generic_callback
409   0000              	GLOBAL _im2_append_generic_callback_callee
410   0000              	GLOBAL _im2_append_generic_callback
411   0000              	GLOBAL _im2_create_generic_isr_8080_callee
412   0000              	GLOBAL _im2_create_generic_isr_8080
413   0000              	GLOBAL _im2_create_generic_isr_callee
414   0000              	GLOBAL _im2_create_generic_isr
415   0000              	GLOBAL _im2_install_isr_callee
416   0000              	GLOBAL _im2_install_isr
417   0000              	GLOBAL _im2_init_fastcall
418   0000              	GLOBAL _im2_init
419   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
420   0000              	GLOBAL _intrinsic_swap_word_32
421   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
422   0000              	GLOBAL _intrinsic_swap_endian_32
423   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
424   0000              	GLOBAL _intrinsic_swap_endian_16
425   0000              	GLOBAL _intrinsic_return_de
426   0000              	GLOBAL _intrinsic_return_bc
427   0000              	GLOBAL _intrinsic_exx
428   0000              	GLOBAL _intrinsic_ex_de_hl
429   0000              	GLOBAL _intrinsic_nop
430   0000              	GLOBAL _intrinsic_im_2
431   0000              	GLOBAL _intrinsic_im_1
432   0000              	GLOBAL _intrinsic_im_0
433   0000              	GLOBAL _intrinsic_retn
434   0000              	GLOBAL _intrinsic_reti
435   0000              	GLOBAL _intrinsic_halt
436   0000              	GLOBAL _intrinsic_ei
437   0000              	GLOBAL _intrinsic_di
438   0000              	GLOBAL _intrinsic_stub
439   0000              	GLOBAL _intrinsic_outi
440   0000              	GLOBAL _intrinsic_ldi
441   0000              	GLOBAL _zx_pattern_fill_callee
442   0000              	GLOBAL _zx_pattern_fill
443   0000              	GLOBAL _zx_saddrpup_fastcall
444   0000              	GLOBAL _zx_saddrpup
445   0000              	GLOBAL _zx_saddrpright_callee
446   0000              	GLOBAL _zx_saddrpright
447   0000              	GLOBAL _zx_saddrpleft_callee
448   0000              	GLOBAL _zx_saddrpleft
449   0000              	GLOBAL _zx_saddrpdown_fastcall
450   0000              	GLOBAL _zx_saddrpdown
451   0000              	GLOBAL _zx_saddrcup_fastcall
452   0000              	GLOBAL _zx_saddrcup
453   0000              	GLOBAL _zx_saddrcright_fastcall
454   0000              	GLOBAL _zx_saddrcright
455   0000              	GLOBAL _zx_saddrcleft_fastcall
456   0000              	GLOBAL _zx_saddrcleft
457   0000              	GLOBAL _zx_saddrcdown_fastcall
458   0000              	GLOBAL _zx_saddrcdown
459   0000              	GLOBAL _zx_saddr2py_fastcall
460   0000              	GLOBAL _zx_saddr2py
461   0000              	GLOBAL _zx_saddr2px_fastcall
462   0000              	GLOBAL _zx_saddr2px
463   0000              	GLOBAL _zx_saddr2cy_fastcall
464   0000              	GLOBAL _zx_saddr2cy
465   0000              	GLOBAL _zx_saddr2cx_fastcall
466   0000              	GLOBAL _zx_saddr2cx
467   0000              	GLOBAL _zx_saddr2aaddr_fastcall
468   0000              	GLOBAL _zx_saddr2aaddr
469   0000              	GLOBAL _zx_py2saddr_fastcall
470   0000              	GLOBAL _zx_py2saddr
471   0000              	GLOBAL _zx_py2aaddr_fastcall
472   0000              	GLOBAL _zx_py2aaddr
473   0000              	GLOBAL _zx_pxy2saddr_callee
474   0000              	GLOBAL _zx_pxy2saddr
475   0000              	GLOBAL _zx_pxy2aaddr_callee
476   0000              	GLOBAL _zx_pxy2aaddr
477   0000              	GLOBAL _zx_px2bitmask_fastcall
478   0000              	GLOBAL _zx_px2bitmask
479   0000              	GLOBAL _zx_cy2saddr_fastcall
480   0000              	GLOBAL _zx_cy2saddr
481   0000              	GLOBAL _zx_cy2aaddr_fastcall
482   0000              	GLOBAL _zx_cy2aaddr
483   0000              	GLOBAL _zx_cxy2saddr_callee
484   0000              	GLOBAL _zx_cxy2saddr
485   0000              	GLOBAL _zx_cxy2aaddr_callee
486   0000              	GLOBAL _zx_cxy2aaddr
487   0000              	GLOBAL _zx_bitmask2px_fastcall
488   0000              	GLOBAL _zx_bitmask2px
489   0000              	GLOBAL _zx_aaddrcup_fastcall
490   0000              	GLOBAL _zx_aaddrcup
491   0000              	GLOBAL _zx_aaddrcright_fastcall
492   0000              	GLOBAL _zx_aaddrcright
493   0000              	GLOBAL _zx_aaddrcleft_fastcall
494   0000              	GLOBAL _zx_aaddrcleft
495   0000              	GLOBAL _zx_aaddrcdown_fastcall
496   0000              	GLOBAL _zx_aaddrcdown
497   0000              	GLOBAL _zx_aaddr2saddr_fastcall
498   0000              	GLOBAL _zx_aaddr2saddr
499   0000              	GLOBAL _zx_aaddr2py_fastcall
500   0000              	GLOBAL _zx_aaddr2py
501   0000              	GLOBAL _zx_aaddr2px_fastcall
502   0000              	GLOBAL _zx_aaddr2px
503   0000              	GLOBAL _zx_aaddr2cy_fastcall
504   0000              	GLOBAL _zx_aaddr2cy
505   0000              	GLOBAL _zx_aaddr2cx_fastcall
506   0000              	GLOBAL _zx_aaddr2cx
507   0000              	GLOBAL _zx_visit_wc_pix_callee
508   0000              	GLOBAL _zx_visit_wc_pix
509   0000              	GLOBAL _zx_visit_wc_attr_callee
510   0000              	GLOBAL _zx_visit_wc_attr
511   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
512   0000              	GLOBAL _zx_scroll_wc_up_pix
513   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
514   0000              	GLOBAL _zx_scroll_wc_up_attr
515   0000              	GLOBAL _zx_scroll_wc_up_callee
516   0000              	GLOBAL _zx_scroll_wc_up
517   0000              	GLOBAL _zx_scroll_up_pix_callee
518   0000              	GLOBAL _zx_scroll_up_pix
519   0000              	GLOBAL _zx_scroll_up_attr_callee
520   0000              	GLOBAL _zx_scroll_up_attr
521   0000              	GLOBAL _zx_scroll_up_callee
522   0000              	GLOBAL _zx_scroll_up
523   0000              	GLOBAL _zx_cls_wc_pix_callee
524   0000              	GLOBAL _zx_cls_wc_pix
525   0000              	GLOBAL _zx_cls_wc_attr_callee
526   0000              	GLOBAL _zx_cls_wc_attr
527   0000              	GLOBAL _zx_cls_wc_callee
528   0000              	GLOBAL _zx_cls_wc
529   0000              	GLOBAL _zx_cls_pix_fastcall
530   0000              	GLOBAL _zx_cls_pix
531   0000              	GLOBAL _zx_cls_attr_fastcall
532   0000              	GLOBAL _zx_cls_attr
533   0000              	GLOBAL _zx_cls_fastcall
534   0000              	GLOBAL _zx_cls
535   0000              	GLOBAL _zx_border_fastcall
536   0000              	GLOBAL _zx_border
537   0000              	GLOBAL _player_fix_walk_lin
538   0000              	GLOBAL _player_gasta_brick
539   0000              	GLOBAL _player_lost_life
540   0000              	GLOBAL _player_hit
541   0000              	GLOBAL _player_open_door
542   0000              	GLOBAL _player_move_jump
543   0000              	GLOBAL _player_fire
544   0000              	GLOBAL _player_check_stairs_vertical
545   0000              	GLOBAL _player_check_stairs
546   0000              	GLOBAL _player_tile
547   0000              	GLOBAL _player_anim_tile
548   0000              	GLOBAL _player_pick_item
549   0000              	GLOBAL _player_check_floor
550   0000              	GLOBAL _player_hit_platform_clear
551   0000              	GLOBAL _player_score_add
552   0000              	GLOBAL _player_hit_platform
553   0000              	GLOBAL _player_move_input
554   0000              	GLOBAL _player_turn
555   0000              	GLOBAL _player_move
556   0000              	GLOBAL _player_check_input
557   0000              	GLOBAL _player_pick_mushroom
558   0000              	GLOBAL _player_collision
559   0000              	GLOBAL _player_init
560   0000              	GLOBAL _menu_define_key
561   0000              	GLOBAL _menu_redefine
562   0000              	GLOBAL _menu_main_print
563   0000              	GLOBAL _menu_main
564   0000              	GLOBAL _game_match_back
565   0000              	GLOBAL _game_attribs
566   0000              	GLOBAL _game_boss_clear
567   0000              	GLOBAL _game_boss_kill
568   0000              	GLOBAL _game_obj_clear
569   0000              	GLOBAL _game_obj_chk
570   0000              	GLOBAL _game_obj_set
571   0000              	GLOBAL _game_shoot_fire_boss
572   0000              	GLOBAL _game_shoot_fire
573   0000              	GLOBAL _game_add_enemy
574   0000              	GLOBAL _game_print_header
575   0000              	GLOBAL _game_check_time
576   0000              	GLOBAL _game_rotate_attrib_osd
577   0000              	GLOBAL _game_rotate_attrib
578   0000              	GLOBAL _game_colour_message
579   0000              	GLOBAL _game_paint_attrib_lin_osd
580   0000              	GLOBAL _game_paint_attrib_lin_h
581   0000              	GLOBAL _game_paint_attrib_lin
582   0000              	GLOBAL _game_print_score
583   0000              	GLOBAL _game_check_cell
584   0000              	GLOBAL _game_check_map
585   0000              	GLOBAL _game_loop
586   0000              	GLOBAL _game_round_init
587   0000              	GLOBAL _game_start_timer
588   0000              	GLOBAL _game_update_stats
589   0000              	GLOBAL _game_print_footer
590   0000              	GLOBAL _game_fill_row
591   0000              	GLOBAL _game_fps
592   0000              	GLOBAL _game_respawn
593   0000              	GLOBAL _game_draw_screen
594   0000              	GLOBAL _boss_draw
595   0000              	GLOBAL _boss_turn
596   0000              	GLOBAL _enemy_avoid_dead
597   0000              	GLOBAL _enemy_avoid_fall
598   0000              	GLOBAL _enemy_kill
599   0000              	GLOBAL _enemy_respawn
600   0000              	GLOBAL _enemy_init
601   0000              	GLOBAL _enemy_move
602   0000              	GLOBAL _enemy_turn
603   0000              	GLOBAL _enemy_static
604   0000              	GLOBAL _enemy_walk
605   0000              	GLOBAL _enemy_horizontal
606   0000              	GLOBAL _enemy_vertical
607   0000              	GLOBAL _ay_fx_play
608   0000              	GLOBAL _ay_midi_play
609   0000              	GLOBAL _ay_is_playing
610   0000              	GLOBAL _ay_reset
611   0000              	GLOBAL _test_func
612   0000              	GLOBAL _test_proc
613   0000              	GLOBAL _in_mouse_kempston_wheel_delta
614   0000              	GLOBAL _in_mouse_kempston_wheel
615   0000              	GLOBAL _in_mouse_kempston_callee
616   0000              	GLOBAL _in_mouse_kempston
617   0000              	GLOBAL _in_mouse_kempston_setpos_callee
618   0000              	GLOBAL _in_mouse_kempston_setpos
619   0000              	GLOBAL _in_mouse_kempston_reset
620   0000              	GLOBAL _in_mouse_kempston_init
621   0000              	GLOBAL _in_mouse_amx_wheel_delta
622   0000              	GLOBAL _in_mouse_amx_wheel
623   0000              	GLOBAL _in_mouse_amx_callee
624   0000              	GLOBAL _in_mouse_amx
625   0000              	GLOBAL _in_mouse_amx_setpos_callee
626   0000              	GLOBAL _in_mouse_amx_setpos
627   0000              	GLOBAL _in_mouse_amx_reset
628   0000              	GLOBAL _in_mouse_amx_init_callee
629   0000              	GLOBAL _in_mouse_amx_init
630   0000              	GLOBAL _in_stick_sinclair2
631   0000              	GLOBAL _in_stick_sinclair1
632   0000              	GLOBAL _in_stick_kempston
633   0000              	GLOBAL _in_stick_fuller
634   0000              	GLOBAL _in_stick_cursor
635   0000              	GLOBAL _in_stick_keyboard_fastcall
636   0000              	GLOBAL _in_stick_keyboard
637   0000              	GLOBAL _in_wait_nokey
638   0000              	GLOBAL _in_wait_key
639   0000              	GLOBAL _in_test_key
640   0000              	GLOBAL _in_pause_fastcall
641   0000              	GLOBAL _in_pause
642   0000              	GLOBAL _in_key_scancode_fastcall
643   0000              	GLOBAL _in_key_scancode
644   0000              	GLOBAL _in_key_pressed_fastcall
645   0000              	GLOBAL _in_key_pressed
646   0000              	GLOBAL _in_inkey
647   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
648   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
649   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
650   0000              	GLOBAL _NIRVANAP_HOLE
651   0000              	GLOBAL _NIRVANAP_ISR_HOOK
652   0000              	GLOBAL _scan_map
653   0000              	GLOBAL _key_map
654   0000              	GLOBAL _player_lvl_table
655   0000              	GLOBAL _map_paper_last
656   0000              	GLOBAL _map_paper_clr
657   0000              	GLOBAL _map_paper
658   0000              	GLOBAL _draw_count
659   0000              	GLOBAL _g_player_hit_right
660   0000              	GLOBAL _g_player_hit_left
661   0000              	GLOBAL _bullet_count
662   0000              	GLOBAL _spr_hack
663   0000              	GLOBAL _boss_stat
664   0000              	GLOBAL _boss_time_fire
665   0000              	GLOBAL _boss_time
666   0000              	GLOBAL _boss_tile
667   0000              	GLOBAL _boss_inc
668   0000              	GLOBAL _boss_col
669   0000              	GLOBAL _boss_lin
670   0000              	GLOBAL _bullet
671   0000              	GLOBAL _bullet_vel
672   0000              	GLOBAL _bullet_frames
673   0000              	GLOBAL _bullet_colint
674   0000              	GLOBAL _bullet_dir
675   0000              	GLOBAL _bullet_tile
676   0000              	GLOBAL _bullet_col
677   0000              	GLOBAL _bullet_lin
678   0000              	GLOBAL _bullet_col0
679   0000              	GLOBAL _bullet_lin0
680   0000              	GLOBAL _bullet_max
681   0000              	GLOBAL _bullet_class
682   0000              	GLOBAL _mush_class
683   0000              	GLOBAL _mush_index
684   0000              	GLOBAL _anim_count
685   0000              	GLOBAL _anim_respanwn
686   0000              	GLOBAL _anim_loop
687   0000              	GLOBAL _anim_end
688   0000              	GLOBAL _anim_int
689   0000              	GLOBAL _anim_tile
690   0000              	GLOBAL _anim_col
691   0000              	GLOBAL _anim_lin
692   0000              	GLOBAL _map_heigth
693   0000              	GLOBAL _map_width
694   0000              	GLOBAL _scr_curr
695   0000              	GLOBAL _sprite_kind
696   0000              	GLOBAL _scr_obj1
697   0000              	GLOBAL _scr_obj0
698   0000              	GLOBAL _scr_map
699   0000              	GLOBAL _sprite_speed_alt
700   0000              	GLOBAL _spr_init
701   0000              	GLOBAL _spr_map_tile
702   0000              	GLOBAL _sprite_frames
703   0000              	GLOBAL _sprite_speed
704   0000              	GLOBAL _screen_ink
705   0000              	GLOBAL _screen_paper
706   0000              	GLOBAL _player_onstair
707   0000              	GLOBAL _game_start_scr
708   0000              	GLOBAL _game_respawn_tile
709   0000              	GLOBAL _game_respawn_index
710   0000              	GLOBAL _game_respawn_time
711   0000              	GLOBAL _game_score_top
712   0000              	GLOBAL _player_coins
713   0000              	GLOBAL _player_lives
714   0000              	GLOBAL _game_over
715   0000              	GLOBAL _game_sound
716   0000              	GLOBAL _game_inmune
717   0000              	GLOBAL _game_god_mode
718   0000              	GLOBAL _sprite_curr_index
719   0000              	GLOBAL _spr_count
720   0000              	GLOBAL _bullet_time
721   0000              	GLOBAL _anim_time
722   0000              	GLOBAL _frame_time
723   0000              	GLOBAL _curr_time
724   0000              	GLOBAL _s_state
725   0000              	GLOBAL _attrib_osd
726   0000              	GLOBAL _attrib_hl
727   0000              	GLOBAL _attrib
728   0000              	GLOBAL _zx_val_asm
729   0000              	GLOBAL _enemies
730   0000              	GLOBAL _tmp_ui
731   0000              	GLOBAL _tmp_sc
732   0000              	GLOBAL _tmp_uc
733   0000              	GLOBAL _tmp1
734   0000              	GLOBAL _tmp0
735   0000              	GLOBAL _tmp
736   0000              	GLOBAL _index1
737   0000              	GLOBAL _index0
738   0000              	GLOBAL _loop_count
739   0000              	GLOBAL _s_class
740   0000              	GLOBAL _s_col1
741   0000              	GLOBAL _s_col0
742   0000              	GLOBAL _s_lin1
743   0000              	GLOBAL _s_lin0
744   0000              	GLOBAL _s_tile1
745   0000              	GLOBAL _s_tile0
746   0000              	GLOBAL _player_brick_time
747   0000              	GLOBAL _player_hit_count
748   0000              	GLOBAL _sprite_horizontal_check
749   0000              	GLOBAL _sprite_on_air
750   0000              	GLOBAL _sprite
751   0000              	GLOBAL _fps
752   0000              	GLOBAL _game_2buttons
753   0000              	GLOBAL _game_respawn_curr_time
754   0000              	GLOBAL _game_worldup
755   0000              	GLOBAL _game_mush_count
756   0000              	GLOBAL _game_boss_fix
757   0000              	GLOBAL _game_boss_hit
758   0000              	GLOBAL _game_boss_alive
759   0000              	GLOBAL _game_boss
760   0000              	GLOBAL _game_world
761   0000              	GLOBAL _game_gravity
762   0000              	GLOBAL _player_onfire
763   0000              	GLOBAL _player_anim_stair
764   0000              	GLOBAL _player_hit_time
765   0000              	GLOBAL _player_lin_scr
766   0000              	GLOBAL _player_col_scr
767   0000              	GLOBAL _player_lvl
768   0000              	GLOBAL _player_int
769   0000              	GLOBAL _player_str
770   0000              	GLOBAL _player_max_vita
771   0000              	GLOBAL _player_max_mana
772   0000              	GLOBAL _player_vita
773   0000              	GLOBAL _player_mana
774   0000              	GLOBAL _player_keys
775   0000              	GLOBAL _player_vel_inc
776   0000              	GLOBAL _player_vel_y1
777   0000              	GLOBAL _player_vel_y0
778   0000              	GLOBAL _player_vel_y
779   0000              	GLOBAL _player_vel_x
780   0000              	GLOBAL _player_score
781   0000              	GLOBAL _last_time
782   0000              	GLOBAL _player_slide
783   0000              	GLOBAL _spr_timer
784   0000              	GLOBAL _jump_lin
785   0000              	GLOBAL _player_hit_col
786   0000              	GLOBAL _player_hit_lin
787   0000              	GLOBAL _colint
788   0000              	GLOBAL _col
789   0000              	GLOBAL _lin
790   0000              	GLOBAL _tile
791   0000              	GLOBAL _state_a
792   0000              	GLOBAL _state
793   0000              	GLOBAL _class
794   0000              	GLOBAL _tbuffer
795   0000              	GLOBAL _dirs_alt
796   0000              	GLOBAL _dirs
797   0000              	GLOBAL _k2
798   0000              	GLOBAL _k1
799   0000              	GLOBAL _joyfunc2
800   0000              	GLOBAL _joyfunc1
801   0000              	GLOBAL _btiles
802   0000              	GLOBAL _spec128
803   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
804   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
805   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
806   0000              	GLOBAL _ay_effect_20
807   0000              	GLOBAL _ay_effect_19
808   0000              	GLOBAL _ay_effect_18
809   0000              	GLOBAL _ay_effect_17
810   0000              	GLOBAL _ay_effect_16
811   0000              	GLOBAL _ay_effect_15
812   0000              	GLOBAL _ay_effect_14
813   0000              	GLOBAL _ay_effect_13
814   0000              	GLOBAL _ay_effect_12
815   0000              	GLOBAL _ay_effect_11
816   0000              	GLOBAL _ay_effect_10
817   0000              	GLOBAL _ay_effect_09
818   0000              	GLOBAL _ay_effect_08
819   0000              	GLOBAL _ay_effect_07
820   0000              	GLOBAL _ay_effect_06
821   0000              	GLOBAL _ay_effect_05
822   0000              	GLOBAL _ay_effect_04
823   0000              	GLOBAL _ay_effect_03
824   0000              	GLOBAL _ay_effect_02
825   0000              	GLOBAL _ay_effect_01
826   0000              	GLOBAL _pb_midi_phase_1
827   0000              	GLOBAL _pb_midi_title
828   0000              	GLOBAL _control_method
829   0000              	GLOBAL _world0_h
830   0000              	GLOBAL _world0_w
831   0000              	GLOBAL _world0
832   0000              	GLOBAL _paper0
833   0000              	GLOBAL _lenght0
834   0000              	GLOBAL _start_scr0
835   0000              ;--------------------------------------------------------
836   0000              ; special function registers
837   0000              ;--------------------------------------------------------
838   0000              defc _IO_FE	=	0x00fe
839   0000              defc _IO_1FFD	=	0x1ffd
840   0000              defc _IO_7FFD	=	0x7ffd
841   0000              ;--------------------------------------------------------
842   0000              ; ram data
843   0000              ;--------------------------------------------------------
844   0000              	SECTION bss_compiler
845   0000              ;--------------------------------------------------------
846   0000              ; ram data
847   0000              ;--------------------------------------------------------
848   0000              
849   0000              IF 0
850   0000              
851   0000              ; .area _INITIALIZED removed by z88dk
852   0000              
853   0000              
854   0000              ENDIF
855   0000              
856   0000              ;--------------------------------------------------------
857   0000              ; absolute external ram data
858   0000              ;--------------------------------------------------------
859   0000              	SECTION IGNORE
860   0000              ;--------------------------------------------------------
861   0000              ; global & static initialisations
862   0000              ;--------------------------------------------------------
863   0000              	SECTION code_crt_init
864   0000              ;--------------------------------------------------------
865   0000              ; Home
866   0000              ;--------------------------------------------------------
867   0000              	SECTION IGNORE
868   0000              ;--------------------------------------------------------
869   0000              ; code
870   0000              ;--------------------------------------------------------
871   0000              	SECTION code_compiler
872   0000              ;	---------------------------------
873   0000              ; Function spr_calc_index
874   0000              ; ---------------------------------
875   0000              _spr_calc_index:
876   0000  CD 00 00    	call	___sdcc_enter_ix
877   0003  DD 4E 05    	ld	c,(ix+5)
878   0006  CB 39       	srl	c
879   0008  06 00       	ld	b,0x00
880   000A  DD 7E 04    	ld	a,(ix+4)
881   000D  07          	rlca
882   000E  07          	rlca
883   000F  07          	rlca
884   0010  07          	rlca
885   0011  E6 0F       	and	a,0x0f
886   0013  6F          	ld	l, a
887   0014  26 00       	ld	h,0x00
888   0016  29          	add	hl, hl
889   0017  29          	add	hl, hl
890   0018  29          	add	hl, hl
891   0019  29          	add	hl, hl
892   001A  09          	add	hl, bc
893   001B  DD E1       	pop	ix
894   001D  C9          	ret
895   001E              	SECTION code_compiler
896   001E              ;	---------------------------------
897   001E              ; Function spr_chktime
898   001E              ; ---------------------------------
899   001E              _spr_chktime:
900   001E  5E          	ld	e,(hl)
901   001F  16 00       	ld	d,0x00
902   0021  4D          	ld	c,l
903   0022  44          	ld	b,h
904   0023  21 00 00    	ld	hl,_sprite_speed_alt
905   0026  19          	add	hl, de
906   0027  7E          	ld	a, (hl)
907   0028  B7          	or	a,a
908   0029  20 15       	jr	NZ,l_spr_chktime_00102
909   002B  57          	ld	d,a
910   002C  21 00 00    	ld	hl,_class
911   002F  19          	add	hl, de
912   0030  56          	ld	d, (hl)
913   0031  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
914   0033  82          	add	a, d
915   0034  6F          	ld	l, a
916   0035  3E 00       	ld	a, +((_sprite_speed) / 256)
917   0037  CE 00       	adc	a,0x00
918   0039  67          	ld	h, a
919   003A  7E          	ld	a, (hl)
920   003B  32 00 00    	ld	(_tmp),a
921   003E  18 03       	jr	l_spr_chktime_00103
922   0040              l_spr_chktime_00102:
923   0040  32 00 00    	ld	(_tmp),a
924   0043              l_spr_chktime_00103:
925   0043  26 00       	ld	h,0x00
926   0045  6B          	ld	l, e
927   0046  29          	add	hl, hl
928   0047  11 00 00    	ld	de,_last_time
929   004A  19          	add	hl, de
930   004B  3A 00 00    	ld	a,(_tmp)
931   004E  EB          	ex	de,hl
932   004F  C5          	push	bc
933   0050  F5          	push	af
934   0051  33          	inc	sp
935   0052  D5          	push	de
936   0053  CD 00 00    	call	_game_check_time
937   0056  F1          	pop	af
938   0057  33          	inc	sp
939   0058  C1          	pop	bc
940   0059  7D          	ld	a,l
941   005A  B7          	or	a, a
942   005B  28 14       	jr	Z,l_spr_chktime_00105
943   005D  0A          	ld	a, (bc)
944   005E  6F          	ld	l, a
945   005F  26 00       	ld	h,0x00
946   0061  29          	add	hl, hl
947   0062  01 00 00    	ld	bc,_last_time
948   0065  09          	add	hl,bc
949   0066  ED 5B 00 00 	ld	de,(_curr_time)
950   006A  73          	ld	(hl),e
951   006B  23          	inc	hl
952   006C  72          	ld	(hl),d
953   006D  2E 01       	ld	l,0x01
954   006F  18 02       	jr	l_spr_chktime_00106
955   0071              l_spr_chktime_00105:
956   0071  2E 00       	ld	l,0x00
957   0073              l_spr_chktime_00106:
958   0073  C9          	ret
959   0074              	SECTION code_compiler
960   0074              ;	---------------------------------
961   0074              ; Function spr_set_up
962   0074              ; ---------------------------------
963   0074              _spr_set_up:
964   0074  CB C6       	set	0, (hl)
965   0076  7E          	ld	a, (hl)
966   0077  E6 FD       	and	a,0xfd
967   0079  77          	ld	(hl), a
968   007A  C9          	ret
969   007B              	SECTION code_compiler
970   007B              ;	---------------------------------
971   007B              ; Function spr_set_down
972   007B              ; ---------------------------------
973   007B              _spr_set_down:
974   007B  CB CE       	set	1, (hl)
975   007D  7E          	ld	a, (hl)
976   007E  E6 FE       	and	a,0xfe
977   0080  77          	ld	(hl), a
978   0081  C9          	ret
979   0082              	SECTION code_compiler
980   0082              ;	---------------------------------
981   0082              ; Function spr_move_up
982   0082              ; ---------------------------------
983   0082              _spr_move_up:
984   0082  2A 00 00    	ld	hl,(_sprite)
985   0085  26 00       	ld	h,0x00
986   0087  01 00 00    	ld	bc,_lin
987   008A  09          	add	hl,bc
988   008B  4E          	ld	c,(hl)
989   008C  3E 10       	ld	a,0x10
990   008E  91          	sub	a,c
991   008F  38 16       	jr	C,l_spr_move_up_00109
992   0091  3A 00 00    	ld	a,(_sprite)
993   0094  D6 07       	sub	a,0x07
994   0096  20 0B       	jr	NZ,l_spr_move_up_00104
995   0098  CD 52 04    	call	_spr_page_up
996   009B  7D          	ld	a, l
997   009C  B7          	or	a, a
998   009D  28 04       	jr	Z,l_spr_move_up_00104
999   009F  2E 00       	ld	l,0x00
1000  00A1  18 52       	jr	l_spr_move_up_00111
1001  00A3              l_spr_move_up_00104:
1002  00A3  2E 01       	ld	l,0x01
1003  00A5  18 4E       	jr	l_spr_move_up_00111
1004  00A7              l_spr_move_up_00109:
1005  00A7  79          	ld	a, c
1006  00A8  C6 FE       	add	a,0xfe
1007  00AA  32 00 00    	ld	(_s_lin1),a
1008  00AD  07          	rlca
1009  00AE  07          	rlca
1010  00AF  07          	rlca
1011  00B0  07          	rlca
1012  00B1  E6 0F       	and	a,0x0f
1013  00B3  4F          	ld	c, a
1014  00B4  3A 00 00    	ld	a,(_s_lin0)
1015  00B7  07          	rlca
1016  00B8  07          	rlca
1017  00B9  07          	rlca
1018  00BA  07          	rlca
1019  00BB  E6 0F       	and	a,0x0f
1020  00BD  91          	sub	a, c
1021  00BE  20 04       	jr	NZ,l_spr_move_up_00135
1022  00C0  3E 01       	ld	a,0x01
1023  00C2  18 01       	jr	l_spr_move_up_00136
1024  00C4              l_spr_move_up_00135:
1025  00C4  AF          	xor	a,a
1026  00C5              l_spr_move_up_00136:
1027  00C5  EE 01       	xor	a,0x01
1028  00C7  28 1D       	jr	Z,l_spr_move_up_00106
1029  00C9  2A 00 00    	ld	hl,(_sprite)
1030  00CC  26 00       	ld	h,0x00
1031  00CE  01 00 00    	ld	bc,_col
1032  00D1  09          	add	hl,bc
1033  00D2  7E          	ld	a,(hl)
1034  00D3  F5          	push	af
1035  00D4  33          	inc	sp
1036  00D5  3A 00 00    	ld	a,(_s_lin1)
1037  00D8  F5          	push	af
1038  00D9  33          	inc	sp
1039  00DA  CD 00 00    	call	_game_check_map
1040  00DD  F1          	pop	af
1041  00DE  7C          	ld	a,h
1042  00DF  B5          	or	a,l
1043  00E0  28 04       	jr	Z,l_spr_move_up_00106
1044  00E2  2E 01       	ld	l,0x01
1045  00E4  18 0F       	jr	l_spr_move_up_00111
1046  00E6              l_spr_move_up_00106:
1047  00E6  2A 00 00    	ld	hl,(_sprite)
1048  00E9  26 00       	ld	h,0x00
1049  00EB  01 00 00    	ld	bc,_lin
1050  00EE  09          	add	hl,bc
1051  00EF  3A 00 00    	ld	a,(_s_lin1)
1052  00F2  77          	ld	(hl),a
1053  00F3  2E 00       	ld	l,0x00
1054  00F5              l_spr_move_up_00111:
1055  00F5  C9          	ret
1056  00F6              	SECTION code_compiler
1057  00F6              ;	---------------------------------
1058  00F6              ; Function spr_move_down
1059  00F6              ; ---------------------------------
1060  00F6              _spr_move_down:
1061  00F6  CD 00 00    	call	___sdcc_enter_ix
1062  00F9  F5          	push	af
1063  00FA  3E 00       	ld	a, +((_lin) & 0xFF)
1064  00FC  21 00 00    	ld	hl,_sprite
1065  00FF  86          	add	a, (hl)
1066  0100  DD 77 FE    	ld	(ix-2),a
1067  0103  3E 00       	ld	a, +((_lin) / 256)
1068  0105  CE 00       	adc	a,0x00
1069  0107  DD 77 FF    	ld	(ix-1),a
1070  010A  E1          	pop	hl
1071  010B  7E          	ld	a,(hl)
1072  010C  E5          	push	hl
1073  010D  FE 90       	cp	a,0x90
1074  010F  38 29       	jr	C,l_spr_move_down_00112
1075  0111  3A 00 00    	ld	a,(_sprite)
1076  0114  D6 07       	sub	a,0x07
1077  0116  20 1A       	jr	NZ,l_spr_move_down_00105
1078  0118  CD 03 04    	call	_spr_page_down
1079  011B  7D          	ld	a, l
1080  011C  B7          	or	a, a
1081  011D  28 04       	jr	Z,l_spr_move_down_00102
1082  011F  2E 01       	ld	l,0x01
1083  0121  18 68       	jr	l_spr_move_down_00114
1084  0123              l_spr_move_down_00102:
1085  0123  2A 00 00    	ld	hl,(_sprite)
1086  0126  26 00       	ld	h,0x00
1087  0128  01 00 00    	ld	bc,_lin
1088  012B  09          	add	hl,bc
1089  012C  36 90       	ld	(hl),0x90
1090  012E  2E 01       	ld	l,0x01
1091  0130  18 59       	jr	l_spr_move_down_00114
1092  0132              l_spr_move_down_00105:
1093  0132  E1          	pop	hl
1094  0133  E5          	push	hl
1095  0134  36 90       	ld	(hl),0x90
1096  0136  2E 01       	ld	l,0x01
1097  0138  18 51       	jr	l_spr_move_down_00114
1098  013A              l_spr_move_down_00112:
1099  013A  C6 10       	add	a,0x10
1100  013C  32 00 00    	ld	(_s_lin1),a
1101  013F  07          	rlca
1102  0140  07          	rlca
1103  0141  07          	rlca
1104  0142  07          	rlca
1105  0143  E6 0F       	and	a,0x0f
1106  0145  4F          	ld	c, a
1107  0146  3A 00 00    	ld	a,(_s_lin0)
1108  0149  07          	rlca
1109  014A  07          	rlca
1110  014B  07          	rlca
1111  014C  07          	rlca
1112  014D  E6 0F       	and	a,0x0f
1113  014F  5F          	ld	e, a
1114  0150  79          	ld	a, c
1115  0151  93          	sub	a, e
1116  0152  20 04       	jr	NZ,l_spr_move_down_00138
1117  0154  3E 01       	ld	a,0x01
1118  0156  18 01       	jr	l_spr_move_down_00139
1119  0158              l_spr_move_down_00138:
1120  0158  AF          	xor	a,a
1121  0159              l_spr_move_down_00139:
1122  0159  EE 01       	xor	a,0x01
1123  015B  28 1D       	jr	Z,l_spr_move_down_00110
1124  015D  2A 00 00    	ld	hl,(_sprite)
1125  0160  26 00       	ld	h,0x00
1126  0162  01 00 00    	ld	bc,_col
1127  0165  09          	add	hl,bc
1128  0166  7E          	ld	a,(hl)
1129  0167  F5          	push	af
1130  0168  33          	inc	sp
1131  0169  3A 00 00    	ld	a,(_s_lin1)
1132  016C  F5          	push	af
1133  016D  33          	inc	sp
1134  016E  CD 00 00    	call	_game_check_map
1135  0171  F1          	pop	af
1136  0172  7C          	ld	a,h
1137  0173  B5          	or	a,l
1138  0174  28 04       	jr	Z,l_spr_move_down_00110
1139  0176  2E 01       	ld	l,0x01
1140  0178  18 11       	jr	l_spr_move_down_00114
1141  017A              l_spr_move_down_00110:
1142  017A  2A 00 00    	ld	hl,(_sprite)
1143  017D  26 00       	ld	h,0x00
1144  017F  01 00 00    	ld	bc,_lin
1145  0182  09          	add	hl,bc
1146  0183  3A 00 00    	ld	a,(_s_lin1)
1147  0186  C6 F2       	add	a,0xf2
1148  0188  77          	ld	(hl),a
1149  0189  2E 00       	ld	l,0x00
1150  018B              l_spr_move_down_00114:
1151  018B  F1          	pop	af
1152  018C  DD E1       	pop	ix
1153  018E  C9          	ret
1154  018F              	SECTION code_compiler
1155  018F              ;	---------------------------------
1156  018F              ; Function spr_move_horizontal
1157  018F              ; ---------------------------------
1158  018F              _spr_move_horizontal:
1159  018F  2A 00 00    	ld	hl,(_sprite)
1160  0192  26 00       	ld	h,0x00
1161  0194  01 00 00    	ld	bc,_state
1162  0197  09          	add	hl,bc
1163  0198  7E          	ld	a,(hl)
1164  0199  CB 57       	bit	2, a
1165  019B  28 05       	jr	Z,l_spr_move_horizontal_00104
1166  019D  CD AE 01    	call	_spr_move_right
1167  01A0  18 0B       	jr	l_spr_move_horizontal_00106
1168  01A2              l_spr_move_horizontal_00104:
1169  01A2  CB 5F       	bit	3, a
1170  01A4  28 05       	jr	Z,l_spr_move_horizontal_00105
1171  01A6  CD A5 02    	call	_spr_move_left
1172  01A9  18 02       	jr	l_spr_move_horizontal_00106
1173  01AB              l_spr_move_horizontal_00105:
1174  01AB  2E 00       	ld	l,0x00
1175  01AD              l_spr_move_horizontal_00106:
1176  01AD  C9          	ret
1177  01AE              	SECTION code_compiler
1178  01AE              ;	---------------------------------
1179  01AE              ; Function spr_move_right
1180  01AE              ; ---------------------------------
1181  01AE              _spr_move_right:
1182  01AE  2A 00 00    	ld	hl,(_sprite)
1183  01B1  26 00       	ld	h,0x00
1184  01B3  01 00 00    	ld	bc,_colint
1185  01B6  09          	add	hl,bc
1186  01B7  7E          	ld	a,(hl)
1187  01B8  3C          	inc	a
1188  01B9  77          	ld	(hl),a
1189  01BA  4F          	ld	c, a
1190  01BB  2A 00 00    	ld	hl,(_s_class)
1191  01BE  26 00       	ld	h,0x00
1192  01C0  11 00 00    	ld	de,_sprite_frames
1193  01C3  19          	add	hl,de
1194  01C4  7E          	ld	a,(hl)
1195  01C5  91          	sub	a, c
1196  01C6  C2 A2 02    	jp	NZ,l_spr_move_right_00118
1197  01C9  2A 00 00    	ld	hl,(_sprite)
1198  01CC  26 00       	ld	h,0x00
1199  01CE  01 00 00    	ld	bc,_lin
1200  01D1  09          	add	hl,bc
1201  01D2  7E          	ld	a,(hl)
1202  01D3  32 00 00    	ld	(_s_lin1),a
1203  01D6  2A 00 00    	ld	hl,(_sprite)
1204  01D9  26 00       	ld	h,0x00
1205  01DB  01 00 00    	ld	bc,_col
1206  01DE  09          	add	hl,bc
1207  01DF  7E          	ld	a,(hl)
1208  01E0  FE 1E       	cp	a,0x1e
1209  01E2  30 61       	jr	NC,l_spr_move_right_00108
1210  01E4  3C          	inc	a
1211  01E5  32 00 00    	ld	(_s_col1),a
1212  01E8  21 00 00    	ld	hl,_sprite_horizontal_check
1213  01EB  36 01       	ld	(hl),0x01
1214  01ED  2A FF FF    	ld	hl,(_s_col1 - 1)
1215  01F0  3A 00 00    	ld	a,(_s_lin1)
1216  01F3  6F          	ld	l,a
1217  01F4  E5          	push	hl
1218  01F5  CD 00 00    	call	_game_check_map
1219  01F8  F1          	pop	af
1220  01F9  7D          	ld	a,l
1221  01FA  32 00 00    	ld	(_tmp0),a
1222  01FD  B7          	or	a, a
1223  01FE  20 16       	jr	NZ,l_spr_move_right_00102
1224  0200  3A 00 00    	ld	a,(_s_lin1)
1225  0203  C6 0F       	add	a,0x0f
1226  0205  4F          	ld	c, a
1227  0206  3A 00 00    	ld	a,(_s_col1)
1228  0209  F5          	push	af
1229  020A  33          	inc	sp
1230  020B  79          	ld	a, c
1231  020C  F5          	push	af
1232  020D  33          	inc	sp
1233  020E  CD 00 00    	call	_game_check_map
1234  0211  F1          	pop	af
1235  0212  7D          	ld	a,l
1236  0213  32 00 00    	ld	(_tmp0),a
1237  0216              l_spr_move_right_00102:
1238  0216  21 00 00    	ld	hl,_sprite_horizontal_check
1239  0219  36 00       	ld	(hl),0x00
1240  021B  3A 00 00    	ld	a,(_tmp0)
1241  021E  B7          	or	a, a
1242  021F  28 24       	jr	Z,l_spr_move_right_00108
1243  0221  2A 00 00    	ld	hl,(_sprite)
1244  0224  26 00       	ld	h,0x00
1245  0226  01 00 00    	ld	bc,_colint
1246  0229  09          	add	hl,bc
1247  022A  7E          	ld	a,(hl)
1248  022B  C6 FF       	add	a,0xff
1249  022D  77          	ld	(hl),a
1250  022E  3A 00 00    	ld	a,(_sprite_on_air)
1251  0231  B7          	or	a,a
1252  0232  20 0D       	jr	NZ,l_spr_move_right_00104
1253  0234  2A 00 00    	ld	hl,(_sprite)
1254  0237  26 00       	ld	h,0x00
1255  0239  01 00 00    	ld	bc,_colint
1256  023C  09          	add	hl,bc
1257  023D  7E          	ld	a,(hl)
1258  023E  C6 FF       	add	a,0xff
1259  0240  77          	ld	(hl),a
1260  0241              l_spr_move_right_00104:
1261  0241  2E 01       	ld	l,0x01
1262  0243  18 5F       	jr	l_spr_move_right_00119
1263  0245              l_spr_move_right_00108:
1264  0245  2A 00 00    	ld	hl,(_sprite)
1265  0248  26 00       	ld	h,0x00
1266  024A  01 00 00    	ld	bc,_col
1267  024D  09          	add	hl,bc
1268  024E  34          	inc	(hl)
1269  024F  2A 00 00    	ld	hl,(_sprite)
1270  0252  26 00       	ld	h,0x00
1271  0254  01 00 00    	ld	bc,_colint
1272  0257  09          	add	hl,bc
1273  0258  AF          	xor	a,a
1274  0259  77          	ld	(hl),a
1275  025A  2A 00 00    	ld	hl,(_sprite)
1276  025D  26 00       	ld	h,0x00
1277  025F  01 00 00    	ld	bc,_col
1278  0262  09          	add	hl,bc
1279  0263  5E          	ld	e,(hl)
1280  0264  3E 1E       	ld	a,0x1e
1281  0266  93          	sub	a,e
1282  0267  30 39       	jr	NC,l_spr_move_right_00118
1283  0269  3A 00 00    	ld	a,(_sprite)
1284  026C  D6 07       	sub	a,0x07
1285  026E  28 04       	jr	Z,l_spr_move_right_00156
1286  0270  4D          	ld	c,l
1287  0271  44          	ld	b,h
1288  0272  18 27       	jr	l_spr_move_right_00113
1289  0274              l_spr_move_right_00156:
1290  0274  CD A1 03    	call	_spr_page_right
1291  0277  3A 00 00    	ld	a,(_sprite)
1292  027A  C6 00       	add	a,+((_col) & 0xFF)
1293  027C  4D          	ld	c,l
1294  027D  5F          	ld	e,a
1295  027E  3E 00       	ld	a,+((_col) / 256)
1296  0280  CE 00       	adc	a,0x00
1297  0282  57          	ld	d,a
1298  0283  79          	ld	a, c
1299  0284  B7          	or	a, a
1300  0285  28 0F       	jr	Z,l_spr_move_right_00110
1301  0287  AF          	xor	a, a
1302  0288  12          	ld	(de), a
1303  0289  3A 07 00    	ld	a,(_lin + 7)
1304  028C  32 00 00    	ld	(_player_lin_scr),a
1305  028F  21 00 00    	ld	hl,_player_col_scr
1306  0292  36 00       	ld	(hl),0x00
1307  0294  18 08       	jr	l_spr_move_right_00114
1308  0296              l_spr_move_right_00110:
1309  0296  3E 1E       	ld	a,0x1e
1310  0298  12          	ld	(de), a
1311  0299  18 03       	jr	l_spr_move_right_00114
1312  029B              l_spr_move_right_00113:
1313  029B  3E 1E       	ld	a,0x1e
1314  029D  02          	ld	(bc), a
1315  029E              l_spr_move_right_00114:
1316  029E  2E 01       	ld	l,0x01
1317  02A0  18 02       	jr	l_spr_move_right_00119
1318  02A2              l_spr_move_right_00118:
1319  02A2  2E 00       	ld	l,0x00
1320  02A4              l_spr_move_right_00119:
1321  02A4  C9          	ret
1322  02A5              	SECTION code_compiler
1323  02A5              ;	---------------------------------
1324  02A5              ; Function spr_move_left
1325  02A5              ; ---------------------------------
1326  02A5              _spr_move_left:
1327  02A5  2A 00 00    	ld	hl,(_sprite)
1328  02A8  26 00       	ld	h,0x00
1329  02AA  01 00 00    	ld	bc,_colint
1330  02AD  09          	add	hl,bc
1331  02AE  7E          	ld	a,(hl)
1332  02AF  C6 FF       	add	a,0xff
1333  02B1  77          	ld	(hl),a
1334  02B2  2A 00 00    	ld	hl,(_sprite)
1335  02B5  26 00       	ld	h,0x00
1336  02B7  01 00 00    	ld	bc,_colint
1337  02BA  09          	add	hl,bc
1338  02BB  7E          	ld	a,(hl)
1339  02BC  3C          	inc	a
1340  02BD  C2 9E 03    	jp	NZ,l_spr_move_left_00118
1341  02C0  2A 00 00    	ld	hl,(_sprite)
1342  02C3  26 00       	ld	h,0x00
1343  02C5  01 00 00    	ld	bc,_lin
1344  02C8  09          	add	hl,bc
1345  02C9  7E          	ld	a,(hl)
1346  02CA  32 00 00    	ld	(_s_lin1),a
1347  02CD  2A 00 00    	ld	hl,(_sprite)
1348  02D0  26 00       	ld	h,0x00
1349  02D2  01 00 00    	ld	bc,_col
1350  02D5  09          	add	hl,bc
1351  02D6  7E          	ld	a,(hl)
1352  02D7  B7          	or	a, a
1353  02D8  28 5C       	jr	Z,l_spr_move_left_00108
1354  02DA  C6 FF       	add	a,0xff
1355  02DC  32 00 00    	ld	(_s_col1),a
1356  02DF  21 00 00    	ld	hl,_sprite_horizontal_check
1357  02E2  36 01       	ld	(hl),0x01
1358  02E4  2A FF FF    	ld	hl,(_s_col1 - 1)
1359  02E7  3A 00 00    	ld	a,(_s_lin1)
1360  02EA  6F          	ld	l,a
1361  02EB  E5          	push	hl
1362  02EC  CD 00 00    	call	_game_check_map
1363  02EF  F1          	pop	af
1364  02F0  7D          	ld	a,l
1365  02F1  32 00 00    	ld	(_tmp0),a
1366  02F4  B7          	or	a, a
1367  02F5  20 16       	jr	NZ,l_spr_move_left_00102
1368  02F7  3A 00 00    	ld	a,(_s_lin1)
1369  02FA  C6 0F       	add	a,0x0f
1370  02FC  4F          	ld	c, a
1371  02FD  3A 00 00    	ld	a,(_s_col1)
1372  0300  F5          	push	af
1373  0301  33          	inc	sp
1374  0302  79          	ld	a, c
1375  0303  F5          	push	af
1376  0304  33          	inc	sp
1377  0305  CD 00 00    	call	_game_check_map
1378  0308  F1          	pop	af
1379  0309  7D          	ld	a,l
1380  030A  32 00 00    	ld	(_tmp0),a
1381  030D              l_spr_move_left_00102:
1382  030D  21 00 00    	ld	hl,_sprite_horizontal_check
1383  0310  36 00       	ld	(hl),0x00
1384  0312  3A 00 00    	ld	a,(_tmp0)
1385  0315  B7          	or	a, a
1386  0316  28 1E       	jr	Z,l_spr_move_left_00108
1387  0318  2A 00 00    	ld	hl,(_sprite)
1388  031B  26 00       	ld	h,0x00
1389  031D  01 00 00    	ld	bc,_colint
1390  0320  09          	add	hl,bc
1391  0321  34          	inc	(hl)
1392  0322  3A 00 00    	ld	a,(_sprite_on_air)
1393  0325  B7          	or	a,a
1394  0326  20 0A       	jr	NZ,l_spr_move_left_00104
1395  0328  2A 00 00    	ld	hl,(_sprite)
1396  032B  26 00       	ld	h,0x00
1397  032D  01 00 00    	ld	bc,_colint
1398  0330  09          	add	hl,bc
1399  0331  34          	inc	(hl)
1400  0332              l_spr_move_left_00104:
1401  0332  2E 01       	ld	l,0x01
1402  0334  18 6A       	jr	l_spr_move_left_00119
1403  0336              l_spr_move_left_00108:
1404  0336  2A 00 00    	ld	hl,(_sprite)
1405  0339  26 00       	ld	h,0x00
1406  033B  01 00 00    	ld	bc,_col
1407  033E  09          	add	hl,bc
1408  033F  7E          	ld	a,(hl)
1409  0340  C6 FF       	add	a,0xff
1410  0342  77          	ld	(hl),a
1411  0343  2A 00 00    	ld	hl,(_sprite)
1412  0346  26 00       	ld	h,0x00
1413  0348  01 00 00    	ld	bc,_colint
1414  034B  09          	add	hl,bc
1415  034C  4D          	ld	c,l
1416  034D  44          	ld	b,h
1417  034E  2A 00 00    	ld	hl,(_s_class)
1418  0351  26 00       	ld	h,0x00
1419  0353  11 00 00    	ld	de,_sprite_frames
1420  0356  19          	add	hl,de
1421  0357  7E          	ld	a,(hl)
1422  0358  C6 FF       	add	a,0xff
1423  035A  02          	ld	(bc), a
1424  035B  2A 00 00    	ld	hl,(_sprite)
1425  035E  26 00       	ld	h,0x00
1426  0360  01 00 00    	ld	bc,_col
1427  0363  09          	add	hl,bc
1428  0364  7E          	ld	a,(hl)
1429  0365  3C          	inc	a
1430  0366  20 36       	jr	NZ,l_spr_move_left_00118
1431  0368  3A 00 00    	ld	a,(_sprite)
1432  036B  D6 07       	sub	a,0x07
1433  036D  4D          	ld	c,l
1434  036E  44          	ld	b,h
1435  036F  20 27       	jr	NZ,l_spr_move_left_00113
1436  0371  CD D4 03    	call	_spr_page_left
1437  0374  3A 00 00    	ld	a,(_sprite)
1438  0377  C6 00       	add	a,+((_col) & 0xFF)
1439  0379  4D          	ld	c,l
1440  037A  5F          	ld	e,a
1441  037B  3E 00       	ld	a,+((_col) / 256)
1442  037D  CE 00       	adc	a,0x00
1443  037F  57          	ld	d,a
1444  0380  79          	ld	a, c
1445  0381  B7          	or	a, a
1446  0382  28 10       	jr	Z,l_spr_move_left_00110
1447  0384  3E 1E       	ld	a,0x1e
1448  0386  12          	ld	(de), a
1449  0387  3A 07 00    	ld	a,(_lin + 7)
1450  038A  32 00 00    	ld	(_player_lin_scr),a
1451  038D  21 00 00    	ld	hl,_player_col_scr
1452  0390  36 1E       	ld	(hl),0x1e
1453  0392  18 06       	jr	l_spr_move_left_00114
1454  0394              l_spr_move_left_00110:
1455  0394  AF          	xor	a, a
1456  0395  12          	ld	(de), a
1457  0396  18 02       	jr	l_spr_move_left_00114
1458  0398              l_spr_move_left_00113:
1459  0398  AF          	xor	a, a
1460  0399  02          	ld	(bc), a
1461  039A              l_spr_move_left_00114:
1462  039A  2E 01       	ld	l,0x01
1463  039C  18 02       	jr	l_spr_move_left_00119
1464  039E              l_spr_move_left_00118:
1465  039E  2E 00       	ld	l,0x00
1466  03A0              l_spr_move_left_00119:
1467  03A0  C9          	ret
1468  03A1              	SECTION code_compiler
1469  03A1              ;	---------------------------------
1470  03A1              ; Function spr_page_right
1471  03A1              ; ---------------------------------
1472  03A1              _spr_page_right:
1473  03A1  2A FF FF    	ld	hl,(_map_width - 1)
1474  03A4  3A 00 00    	ld	a,(_scr_curr)
1475  03A7  6F          	ld	l,a
1476  03A8  E5          	push	hl
1477  03A9  CD 00 00    	call	__moduchar_callee
1478  03AC  7D          	ld	a, l
1479  03AD  3C          	inc	a
1480  03AE  32 00 00    	ld	(_tmp1),a
1481  03B1  21 00 00    	ld	hl,_map_width
1482  03B4  96          	sub	a, (hl)
1483  03B5  30 1A       	jr	NC,l_spr_page_right_00102
1484  03B7  3A 00 00    	ld	a,(_game_boss)
1485  03BA  B7          	or	a, a
1486  03BB  28 06       	jr	Z,l_spr_page_right_00101
1487  03BD  3A 00 00    	ld	a,(_game_god_mode)
1488  03C0  B7          	or	a, a
1489  03C1  28 0E       	jr	Z,l_spr_page_right_00102
1490  03C3              l_spr_page_right_00101:
1491  03C3  21 00 00    	ld	hl,_scr_curr
1492  03C6  34          	inc	(hl)
1493  03C7  CD 0E 05    	call	_spr_page_map
1494  03CA  CD 00 00    	call	_game_draw_screen
1495  03CD  2E 01       	ld	l,0x01
1496  03CF  18 02       	jr	l_spr_page_right_00105
1497  03D1              l_spr_page_right_00102:
1498  03D1  2E 00       	ld	l,0x00
1499  03D3              l_spr_page_right_00105:
1500  03D3  C9          	ret
1501  03D4              	SECTION code_compiler
1502  03D4              ;	---------------------------------
1503  03D4              ; Function spr_page_left
1504  03D4              ; ---------------------------------
1505  03D4              _spr_page_left:
1506  03D4  2A FF FF    	ld	hl,(_map_width - 1)
1507  03D7  3A 00 00    	ld	a,(_scr_curr)
1508  03DA  6F          	ld	l,a
1509  03DB  E5          	push	hl
1510  03DC  CD 00 00    	call	__moduchar_callee
1511  03DF  7D          	ld	a,l
1512  03E0  32 00 00    	ld	(_tmp1),a
1513  03E3  B7          	or	a, a
1514  03E4  28 1A       	jr	Z,l_spr_page_left_00102
1515  03E6  3A 00 00    	ld	a,(_game_boss)
1516  03E9  B7          	or	a, a
1517  03EA  28 06       	jr	Z,l_spr_page_left_00101
1518  03EC  3A 00 00    	ld	a,(_game_god_mode)
1519  03EF  B7          	or	a, a
1520  03F0  28 0E       	jr	Z,l_spr_page_left_00102
1521  03F2              l_spr_page_left_00101:
1522  03F2  21 00 00    	ld	hl,_scr_curr
1523  03F5  35          	dec	(hl)
1524  03F6  CD 0E 05    	call	_spr_page_map
1525  03F9  CD 00 00    	call	_game_draw_screen
1526  03FC  2E 01       	ld	l,0x01
1527  03FE  18 02       	jr	l_spr_page_left_00105
1528  0400              l_spr_page_left_00102:
1529  0400  2E 00       	ld	l,0x00
1530  0402              l_spr_page_left_00105:
1531  0402  C9          	ret
1532  0403              	SECTION code_compiler
1533  0403              ;	---------------------------------
1534  0403              ; Function spr_page_down
1535  0403              ; ---------------------------------
1536  0403              _spr_page_down:
1537  0403  2A FF FF    	ld	hl,(_map_width - 1)
1538  0406  3A 00 00    	ld	a,(_scr_curr)
1539  0409  6F          	ld	l,a
1540  040A  E5          	push	hl
1541  040B  CD 00 00    	call	__divuchar_callee
1542  040E  7D          	ld	a, l
1543  040F  3C          	inc	a
1544  0410  32 00 00    	ld	(_tmp1),a
1545  0413  21 00 00    	ld	hl,_map_heigth
1546  0416  96          	sub	a, (hl)
1547  0417  30 36       	jr	NC,l_spr_page_down_00102
1548  0419  3A 00 00    	ld	a,(_game_boss)
1549  041C  B7          	or	a, a
1550  041D  28 06       	jr	Z,l_spr_page_down_00101
1551  041F  3A 00 00    	ld	a,(_game_god_mode)
1552  0422  B7          	or	a, a
1553  0423  28 2A       	jr	Z,l_spr_page_down_00102
1554  0425              l_spr_page_down_00101:
1555  0425  3A 00 00    	ld	a,(_scr_curr)
1556  0428  21 00 00    	ld	hl,_map_width
1557  042B  86          	add	a, (hl)
1558  042C  32 00 00    	ld	(_scr_curr),a
1559  042F  CD 0E 05    	call	_spr_page_map
1560  0432  CD 00 00    	call	_game_draw_screen
1561  0435  21 00 00    	ld	hl,_player_lin_scr
1562  0438  36 08       	ld	(hl),0x08
1563  043A  2A 00 00    	ld	hl,(_sprite)
1564  043D  26 00       	ld	h,0x00
1565  043F  01 00 00    	ld	bc,_lin
1566  0442  09          	add	hl,bc
1567  0443  36 08       	ld	(hl),0x08
1568  0445  3A 07 00    	ld	a,(_col + 0x0007)
1569  0448  32 00 00    	ld	(_player_col_scr),a
1570  044B  2E 01       	ld	l,0x01
1571  044D  18 02       	jr	l_spr_page_down_00105
1572  044F              l_spr_page_down_00102:
1573  044F  2E 00       	ld	l,0x00
1574  0451              l_spr_page_down_00105:
1575  0451  C9          	ret
1576  0452              	SECTION code_compiler
1577  0452              ;	---------------------------------
1578  0452              ; Function spr_page_up
1579  0452              ; ---------------------------------
1580  0452              _spr_page_up:
1581  0452  2A FF FF    	ld	hl,(_map_width - 1)
1582  0455  3A 00 00    	ld	a,(_scr_curr)
1583  0458  6F          	ld	l,a
1584  0459  E5          	push	hl
1585  045A  CD 00 00    	call	__divuchar_callee
1586  045D  7D          	ld	a,l
1587  045E  32 00 00    	ld	(_tmp1),a
1588  0461  B7          	or	a, a
1589  0462  28 36       	jr	Z,l_spr_page_up_00102
1590  0464  3A 00 00    	ld	a,(_game_boss)
1591  0467  B7          	or	a, a
1592  0468  28 06       	jr	Z,l_spr_page_up_00101
1593  046A  3A 00 00    	ld	a,(_game_god_mode)
1594  046D  B7          	or	a, a
1595  046E  28 2A       	jr	Z,l_spr_page_up_00102
1596  0470              l_spr_page_up_00101:
1597  0470  3A 00 00    	ld	a,(_scr_curr)
1598  0473  21 00 00    	ld	hl,_map_width
1599  0476  96          	sub	a, (hl)
1600  0477  32 00 00    	ld	(_scr_curr),a
1601  047A  CD 0E 05    	call	_spr_page_map
1602  047D  CD 00 00    	call	_game_draw_screen
1603  0480  2A 00 00    	ld	hl,(_sprite)
1604  0483  26 00       	ld	h,0x00
1605  0485  01 00 00    	ld	bc,_lin
1606  0488  09          	add	hl,bc
1607  0489  36 8C       	ld	(hl),0x8c
1608  048B  21 00 00    	ld	hl,_player_lin_scr
1609  048E  36 8C       	ld	(hl),0x8c
1610  0490  3A 07 00    	ld	a,(_col + 0x0007)
1611  0493  32 00 00    	ld	(_player_col_scr),a
1612  0496  2E 01       	ld	l,0x01
1613  0498  18 02       	jr	l_spr_page_up_00105
1614  049A              l_spr_page_up_00102:
1615  049A  2E 00       	ld	l,0x00
1616  049C              l_spr_page_up_00105:
1617  049C  C9          	ret
1618  049D              	SECTION code_compiler
1619  049D              ;	---------------------------------
1620  049D              ; Function spr_clear_scr
1621  049D              ; ---------------------------------
1622  049D              _spr_clear_scr:
1623  049D  CD 00 00    	call	___sdcc_enter_ix
1624  04A0  3B          	dec	sp
1625  04A1  06 00       	ld	b,0x00
1626  04A3              l_spr_clear_scr_00105:
1627  04A3  C5          	push	bc
1628  04A4  21 00 00    	ld	hl,0x0000
1629  04A7  E5          	push	hl
1630  04A8  AF          	xor	a, a
1631  04A9  48          	ld	c,b
1632  04AA  47          	ld	b,a
1633  04AB  C5          	push	bc
1634  04AC  CD 00 00    	call	_NIRVANAP_spriteT_callee
1635  04AF  C1          	pop	bc
1636  04B0  04          	inc	b
1637  04B1  78          	ld	a, b
1638  04B2  D6 08       	sub	a,0x08
1639  04B4  38 ED       	jr	C,l_spr_clear_scr_00105
1640  04B6  76          	halt
1641  04B7  F3          	di
1642  04B8  0E 00       	ld	c,0x00
1643  04BA              l_spr_clear_scr_00117:
1644  04BA  79          	ld	a, c
1645  04BB  87          	add	a, a
1646  04BC  DD 77 FF    	ld	(ix-1),a
1647  04BF  5F          	ld	e,a
1648  04C0  06 01       	ld	b,0x01
1649  04C2              l_spr_clear_scr_00107:
1650  04C2  78          	ld	a, b
1651  04C3  07          	rlca
1652  04C4  07          	rlca
1653  04C5  07          	rlca
1654  04C6  07          	rlca
1655  04C7  E6 F0       	and	a,0xf0
1656  04C9  57          	ld	d, a
1657  04CA  C5          	push	bc
1658  04CB  D5          	push	de
1659  04CC  DD 7E FF    	ld	a,(ix-1)
1660  04CF  5A          	ld	e,d
1661  04D0  57          	ld	d,a
1662  04D1  D5          	push	de
1663  04D2  AF          	xor	a, a
1664  04D3  F5          	push	af
1665  04D4  33          	inc	sp
1666  04D5  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1667  04D8  D1          	pop	de
1668  04D9  C1          	pop	bc
1669  04DA  04          	inc	b
1670  04DB  78          	ld	a, b
1671  04DC  D6 0A       	sub	a,0x0a
1672  04DE  38 E2       	jr	C,l_spr_clear_scr_00107
1673  04E0  3E 1E       	ld	a,0x1e
1674  04E2  93          	sub	a, e
1675  04E3  57          	ld	d, a
1676  04E4  1E 01       	ld	e,0x01
1677  04E6              l_spr_clear_scr_00109:
1678  04E6  7B          	ld	a, e
1679  04E7  07          	rlca
1680  04E8  07          	rlca
1681  04E9  07          	rlca
1682  04EA  07          	rlca
1683  04EB  E6 F0       	and	a,0xf0
1684  04ED  47          	ld	b, a
1685  04EE  C5          	push	bc
1686  04EF  D5          	push	de
1687  04F0  58          	ld	e,b
1688  04F1  D5          	push	de
1689  04F2  AF          	xor	a, a
1690  04F3  F5          	push	af
1691  04F4  33          	inc	sp
1692  04F5  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1693  04F8  D1          	pop	de
1694  04F9  C1          	pop	bc
1695  04FA  1C          	inc	e
1696  04FB  7B          	ld	a, e
1697  04FC  D6 0A       	sub	a,0x0a
1698  04FE  38 E6       	jr	C,l_spr_clear_scr_00109
1699  0500  FB          	ei
1700  0501  76          	halt
1701  0502  F3          	di
1702  0503  0C          	inc	c
1703  0504  79          	ld	a, c
1704  0505  D6 08       	sub	a,0x08
1705  0507  38 B1       	jr	C,l_spr_clear_scr_00117
1706  0509  FB          	ei
1707  050A  33          	inc	sp
1708  050B  DD E1       	pop	ix
1709  050D  C9          	ret
1710  050E              	SECTION code_compiler
1711  050E              ;	---------------------------------
1712  050E              ; Function spr_page_map
1713  050E              ; ---------------------------------
1714  050E              _spr_page_map:
1715  050E  CD 00 00    	call	___sdcc_enter_ix
1716  0511  21 F1 FF    	ld	hl, -15
1717  0514  39          	add	hl, sp
1718  0515  F9          	ld	sp, hl
1719  0516  21 00 00    	ld	hl,_game_world
1720  0519  5E          	ld	e, (hl)
1721  051A  21 00 00    	ld	hl,_scr_curr
1722  051D  4E          	ld	c, (hl)
1723  051E  7B          	ld	a, e
1724  051F  07          	rlca
1725  0520  07          	rlca
1726  0521  07          	rlca
1727  0522  07          	rlca
1728  0523  E6 F0       	and	a,0xf0
1729  0525  47          	ld	b,a
1730  0526  81          	add	a, c
1731  0527  DD 77 F1    	ld	(ix-15),a
1732  052A  DD 36 F7 10 	ld	(ix-9),0x10
1733  052E  C5          	push	bc
1734  052F  D5          	push	de
1735  0530  CD 9D 04    	call	_spr_clear_scr
1736  0533  D1          	pop	de
1737  0534  C1          	pop	bc
1738  0535  F3          	di
1739  0536  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1740  0539  36 16       	ld	(hl),0x16
1741  053B  C5          	push	bc
1742  053C  3E 16       	ld	a,0x16
1743  053E  01 FD 7F    	ld	bc,_IO_7FFD
1744  0541  ED 79       	out	(c),a
1745  0543  C1          	pop	bc
1746  0544  79          	ld	a, c
1747  0545  3C          	inc	a
1748  0546  20 0B       	jr	NZ,l_spr_page_map_00102
1749  0548  57          	ld	d,a
1750  0549  21 00 00    	ld	hl,_start_scr0
1751  054C  19          	add	hl, de
1752  054D  4E          	ld	c, (hl)
1753  054E  78          	ld	a, b
1754  054F  81          	add	a, c
1755  0550  DD 77 F1    	ld	(ix-15),a
1756  0553              l_spr_page_map_00102:
1757  0553  3E 00       	ld	a, +((_paper0) & 0xFF)
1758  0555  DD 86 F1    	add	a,(ix-15)
1759  0558  6F          	ld	l, a
1760  0559  3E 00       	ld	a, +((_paper0) / 256)
1761  055B  CE 00       	adc	a,0x00
1762  055D  67          	ld	h, a
1763  055E  7E          	ld	a, (hl)
1764  055F  DD 77 F2    	ld	(ix-14),a
1765  0562  16 00       	ld	d,0x00
1766  0564  21 00 00    	ld	hl,_world0_w
1767  0567  19          	add	hl, de
1768  0568  7E          	ld	a, (hl)
1769  0569  DD 77 F4    	ld	(ix-12),a
1770  056C  16 00       	ld	d,0x00
1771  056E  21 00 00    	ld	hl,_world0_h
1772  0571  19          	add	hl, de
1773  0572  7E          	ld	a, (hl)
1774  0573  DD 77 F3    	ld	(ix-13),a
1775  0576  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1776  0579  36 10       	ld	(hl),0x10
1777  057B  C5          	push	bc
1778  057C  3E 10       	ld	a,0x10
1779  057E  01 FD 7F    	ld	bc,_IO_7FFD
1780  0581  ED 79       	out	(c),a
1781  0583  C1          	pop	bc
1782  0584  3E 00       	ld	a,0x00
1783  0586  DD 77 F5    	ld	(ix-11),a
1784  0589  DD 77 F6    	ld	(ix-10),a
1785  058C  DD 77 F8    	ld	(ix-8),a
1786  058F              l_spr_page_map_00103:
1787  058F  DD 7E F8    	ld	a,(ix-8)
1788  0592  DD 96 F1    	sub	a,(ix-15)
1789  0595  30 3C       	jr	NC,l_spr_page_map_00105
1790  0597  C5          	push	bc
1791  0598  3E 16       	ld	a,0x16
1792  059A  01 FD 7F    	ld	bc,_IO_7FFD
1793  059D  ED 79       	out	(c),a
1794  059F  C1          	pop	bc
1795  05A0  11 00 00    	ld	de,_lenght0
1796  05A3  DD 6E F8    	ld	l,(ix-8)
1797  05A6  26 00       	ld	h,0x00
1798  05A8  19          	add	hl,de
1799  05A9  DD 75 FE    	ld	(ix-2),l
1800  05AC  DD 74 FF    	ld	(ix-1),h
1801  05AF  5E          	ld	e, (hl)
1802  05B0  06 00       	ld	b,0x00
1803  05B2  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1804  05B5  36 10       	ld	(hl),0x10
1805  05B7  C5          	push	bc
1806  05B8  3E 10       	ld	a,0x10
1807  05BA  01 FD 7F    	ld	bc,_IO_7FFD
1808  05BD  ED 79       	out	(c),a
1809  05BF  C1          	pop	bc
1810  05C0  DD 7E F5    	ld	a,(ix-11)
1811  05C3  83          	add	a, e
1812  05C4  DD 77 F5    	ld	(ix-11),a
1813  05C7  DD 7E F6    	ld	a,(ix-10)
1814  05CA  88          	adc	a, b
1815  05CB  DD 77 F6    	ld	(ix-10),a
1816  05CE  DD 34 F8    	inc	(ix-8)
1817  05D1  18 BC       	jr	l_spr_page_map_00103
1818  05D3              l_spr_page_map_00105:
1819  05D3  FB          	ei
1820  05D4  F3          	di
1821  05D5  06 00       	ld	b,0x00
1822  05D7              l_spr_page_map_00126:
1823  05D7  C5          	push	bc
1824  05D8  3E 16       	ld	a,0x16
1825  05DA  01 FD 7F    	ld	bc,_IO_7FFD
1826  05DD  ED 79       	out	(c),a
1827  05DF  C1          	pop	bc
1828  05E0  58          	ld	e, b
1829  05E1  16 00       	ld	d,0x00
1830  05E3  DD 6E F5    	ld	l,(ix-11)
1831  05E6  DD 66 F6    	ld	h,(ix-10)
1832  05E9  19          	add	hl,de
1833  05EA  EB          	ex	de,hl
1834  05EB  21 00 00    	ld	hl,_world0
1835  05EE  19          	add	hl, de
1836  05EF  7E          	ld	a, (hl)
1837  05F0  DD 77 FB    	ld	(ix-5),a
1838  05F3  13          	inc	de
1839  05F4  21 00 00    	ld	hl,_world0
1840  05F7  19          	add	hl, de
1841  05F8  7E          	ld	a, (hl)
1842  05F9  DD 77 FA    	ld	(ix-6),a
1843  05FC  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1844  05FF  36 10       	ld	(hl),0x10
1845  0601  C5          	push	bc
1846  0602  3E 10       	ld	a,0x10
1847  0604  01 FD 7F    	ld	bc,_IO_7FFD
1848  0607  ED 79       	out	(c),a
1849  0609  C1          	pop	bc
1850  060A  DD 7E FB    	ld	a,(ix-5)
1851  060D  D6 80       	sub	a,0x80
1852  060F  30 44       	jr	NC,l_spr_page_map_00116
1853  0611  DD 5E F7    	ld	e,(ix-9)
1854  0614  16 00       	ld	d,0x00
1855  0616  C5          	push	bc
1856  0617  D5          	push	de
1857  0618  EB          	ex	de,hl
1858  0619  CD 00 00    	call	_game_obj_chk
1859  061C  DD 75 FE    	ld	(ix-2),l
1860  061F  D1          	pop	de
1861  0620  C1          	pop	bc
1862  0621  3E 00       	ld	a, +((_scr_map) & 0xFF)
1863  0623  DD 86 F7    	add	a,(ix-9)
1864  0626  DD 77 FC    	ld	(ix-4),a
1865  0629  3E 00       	ld	a, +((_scr_map) / 256)
1866  062B  CE 00       	adc	a,0x00
1867  062D  DD 77 FD    	ld	(ix-3),a
1868  0630  DD 7E FE    	ld	a,(ix-2)
1869  0633  B7          	or	a, a
1870  0634  20 0C       	jr	NZ,l_spr_page_map_00107
1871  0636  DD 6E FC    	ld	l,(ix-4)
1872  0639  DD 66 FD    	ld	h,(ix-3)
1873  063C  DD 7E FB    	ld	a,(ix-5)
1874  063F  77          	ld	(hl), a
1875  0640  18 0E       	jr	l_spr_page_map_00108
1876  0642              l_spr_page_map_00107:
1877  0642  C5          	push	bc
1878  0643  EB          	ex	de,hl
1879  0644  CD 00 00    	call	_game_match_back
1880  0647  C1          	pop	bc
1881  0648  5D          	ld	e,l
1882  0649  DD 6E FC    	ld	l,(ix-4)
1883  064C  DD 66 FD    	ld	h,(ix-3)
1884  064F  73          	ld	(hl), e
1885  0650              l_spr_page_map_00108:
1886  0650  DD 34 F7    	inc	(ix-9)
1887  0653  18 69       	jr	l_spr_page_map_00117
1888  0655              l_spr_page_map_00116:
1889  0655  DD 7E FB    	ld	a,(ix-5)
1890  0658  C6 80       	add	a,0x80
1891  065A  DD 77 F9    	ld	(ix-7),a
1892  065D  DD 5E F7    	ld	e,(ix-9)
1893  0660  16 00       	ld	d,0x00
1894  0662              l_spr_page_map_00124:
1895  0662  7A          	ld	a, d
1896  0663  DD 96 F9    	sub	a,(ix-7)
1897  0666  30 52       	jr	NC,l_spr_page_map_00143
1898  0668  DD 73 FC    	ld	(ix-4),e
1899  066B  DD 36 FD 00 	ld	(ix-3),0x00
1900  066F  C5          	push	bc
1901  0670  D5          	push	de
1902  0671  DD 6E FC    	ld	l,(ix-4)
1903  0674  DD 66 FD    	ld	h,(ix-3)
1904  0677  CD 00 00    	call	_game_obj_chk
1905  067A  D1          	pop	de
1906  067B  C1          	pop	bc
1907  067C  7D          	ld	a,l
1908  067D  B7          	or	a, a
1909  067E  20 0F       	jr	NZ,l_spr_page_map_00110
1910  0680  3E 00       	ld	a, +((_scr_map) & 0xFF)
1911  0682  83          	add	a, e
1912  0683  6F          	ld	l, a
1913  0684  3E 00       	ld	a, +((_scr_map) / 256)
1914  0686  CE 00       	adc	a,0x00
1915  0688  67          	ld	h, a
1916  0689  DD 7E FA    	ld	a,(ix-6)
1917  068C  77          	ld	(hl), a
1918  068D  18 22       	jr	l_spr_page_map_00111
1919  068F              l_spr_page_map_00110:
1920  068F  3E 00       	ld	a, +((_scr_map) & 0xFF)
1921  0691  83          	add	a, e
1922  0692  DD 77 FE    	ld	(ix-2),a
1923  0695  3E 00       	ld	a, +((_scr_map) / 256)
1924  0697  CE 00       	adc	a,0x00
1925  0699  DD 77 FF    	ld	(ix-1),a
1926  069C  C5          	push	bc
1927  069D  D5          	push	de
1928  069E  DD 6E FC    	ld	l,(ix-4)
1929  06A1  DD 66 FD    	ld	h,(ix-3)
1930  06A4  CD 00 00    	call	_game_match_back
1931  06A7  D1          	pop	de
1932  06A8  C1          	pop	bc
1933  06A9  7D          	ld	a,l
1934  06AA  DD 6E FE    	ld	l,(ix-2)
1935  06AD  DD 66 FF    	ld	h,(ix-1)
1936  06B0  77          	ld	(hl), a
1937  06B1              l_spr_page_map_00111:
1938  06B1  1C          	inc	e
1939  06B2  7B          	ld	a, e
1940  06B3  D6 A0       	sub	a,0xa0
1941  06B5  30 03       	jr	NC,l_spr_page_map_00143
1942  06B7  14          	inc	d
1943  06B8  18 A8       	jr	l_spr_page_map_00124
1944  06BA              l_spr_page_map_00143:
1945  06BA  DD 73 F7    	ld	(ix-9),e
1946  06BD  04          	inc	b
1947  06BE              l_spr_page_map_00117:
1948  06BE  DD 7E F7    	ld	a,(ix-9)
1949  06C1  D6 A0       	sub	a,0xa0
1950  06C3  30 07       	jr	NC,l_spr_page_map_00120
1951  06C5  04          	inc	b
1952  06C6  78          	ld	a, b
1953  06C7  D6 A0       	sub	a,0xa0
1954  06C9  DA D7 05    	jp	C, l_spr_page_map_00126
1955  06CC              l_spr_page_map_00120:
1956  06CC  21 00 00    	ld	hl,_scr_curr
1957  06CF  71          	ld	(hl), c
1958  06D0  DD 7E F4    	ld	a,(ix-12)
1959  06D3  32 00 00    	ld	(_map_width),a
1960  06D6  DD 7E F3    	ld	a,(ix-13)
1961  06D9  32 00 00    	ld	(_map_heigth),a
1962  06DC  DD 7E F2    	ld	a,(ix-14)
1963  06DF  32 00 00    	ld	(_map_paper),a
1964  06E2  CD 70 0C    	call	_spr_init_effects
1965  06E5  3A 00 00    	ld	a,(_map_paper_last)
1966  06E8  21 00 00    	ld	hl,_map_paper
1967  06EB  96          	sub	a, (hl)
1968  06EC  28 03       	jr	Z,l_spr_page_map_00122
1969  06EE  CD 0F 15    	call	_spr_btile_paint_back
1970  06F1              l_spr_page_map_00122:
1971  06F1  3A 00 00    	ld	a,(_map_paper)
1972  06F4  32 00 00    	ld	(_map_paper_last),a
1973  06F7  FB          	ei
1974  06F8  CD 00 00    	call	_NIRVANAP_start
1975  06FB  21 00 00    	ld	hl,_screen_ink
1976  06FE  36 06       	ld	(hl),0x06
1977  0700  21 00 00    	ld	hl,___str_0
1978  0703  E5          	push	hl
1979  0704  21 17 0C    	ld	hl,0x0c17
1980  0707  E5          	push	hl
1981  0708  CD 00 00    	call	_zx_print_str
1982  070B  3A 00 00    	ld	a,(_scr_curr)
1983  070E  F5          	push	af
1984  070F  33          	inc	sp
1985  0710  21 17 10    	ld	hl,0x1017
1986  0713  E5          	push	hl
1987  0714  CD 00 00    	call	_zx_print_chr
1988  0717  DD F9       	ld	sp, ix
1989  0719  DD E1       	pop	ix
1990  071B  C9          	ret
1991  071C              	SECTION rodata_compiler
1992  0000              ___str_0:
1993  0000  53 43 52 3A 	DEFM "SCR:"
1994  0004  00          	DEFB 0x00
1995  0005              	SECTION code_compiler
1996  071C              ;	---------------------------------
1997  071C              ; Function spr_redraw
1998  071C              ; ---------------------------------
1999  071C              _spr_redraw:
2000  071C  2A 00 00    	ld	hl,(_sprite)
2001  071F  26 00       	ld	h,0x00
2002  0721  01 00 00    	ld	bc,_col
2003  0724  09          	add	hl,bc
2004  0725  7E          	ld	a,(hl)
2005  0726  32 00 00    	ld	(_s_col1),a
2006  0729  2A 00 00    	ld	hl,(_sprite)
2007  072C  26 00       	ld	h,0x00
2008  072E  01 00 00    	ld	bc,_lin
2009  0731  09          	add	hl,bc
2010  0732  7E          	ld	a,(hl)
2011  0733  32 00 00    	ld	(_s_lin1),a
2012  0736  21 00 00    	ld	hl,_s_lin0
2013  0739  96          	sub	a, (hl)
2014  073A  20 0A       	jr	NZ,l_spr_redraw_00112
2015  073C  3A 00 00    	ld	a,(_s_col1)
2016  073F  21 00 00    	ld	hl,_s_col0
2017  0742  96          	sub	a, (hl)
2018  0743  CA E0 07    	jp	Z,l_spr_redraw_00113
2019  0746              l_spr_redraw_00112:
2020  0746  3A 00 00    	ld	a,(_sprite)
2021  0749  D6 07       	sub	a,0x07
2022  074B  20 08       	jr	NZ,l_spr_redraw_00108
2023  074D  CD 00 00    	call	_player_anim_tile
2024  0750  CD 69 0A    	call	_spr_back_repaint
2025  0753  18 74       	jr	l_spr_redraw_00109
2026  0755              l_spr_redraw_00108:
2027  0755  2A 00 00    	ld	hl,(_sprite)
2028  0758  26 00       	ld	h,0x00
2029  075A  01 00 00    	ld	bc,_tile
2030  075D  09          	add	hl,bc
2031  075E  4E          	ld	c, (hl)
2032  075F  3A 00 00    	ld	a,(_sprite)
2033  0762  5F          	ld	e,a
2034  0763  16 00       	ld	d,0x00
2035  0765  21 00 00    	ld	hl,_colint
2036  0768  19          	add	hl,de
2037  0769  7E          	ld	a,(hl)
2038  076A  81          	add	a,c
2039  076B  32 00 00    	ld	(_s_tile1),a
2040  076E  3A 00 00    	ld	a,(_s_lin1)
2041  0771  E6 07       	and	a,0x07
2042  0773  20 05       	jr	NZ,l_spr_redraw_00105
2043  0775  CD 69 0A    	call	_spr_back_repaint
2044  0778  18 4F       	jr	l_spr_redraw_00109
2045  077A              l_spr_redraw_00105:
2046  077A  21 00 00    	ld	hl,_s_state
2047  077D  CB 46       	bit	0, (hl)
2048  077F  28 26       	jr	Z,l_spr_redraw_00102
2049  0781  3A 00 00    	ld	a,(_s_lin0)
2050  0784  C6 08       	add	a,0x08
2051  0786  47          	ld	b, a
2052  0787  3A 00 00    	ld	a,(_s_col0)
2053  078A  F5          	push	af
2054  078B  33          	inc	sp
2055  078C  C5          	push	bc
2056  078D  33          	inc	sp
2057  078E  3A 00 00    	ld	a,(_map_paper_clr)
2058  0791  F5          	push	af
2059  0792  33          	inc	sp
2060  0793  CD 00 00    	call	_NIRVANAP_fillC_callee
2061  0796  21 00 00    	ld	hl,_s_col0
2062  0799  56          	ld	d, (hl)
2063  079A  14          	inc	d
2064  079B  58          	ld	e,b
2065  079C  3A 00 00    	ld	a,(_map_paper_clr)
2066  079F  D5          	push	de
2067  07A0  F5          	push	af
2068  07A1  33          	inc	sp
2069  07A2  CD 00 00    	call	_NIRVANAP_fillC_callee
2070  07A5  18 22       	jr	l_spr_redraw_00109
2071  07A7              l_spr_redraw_00102:
2072  07A7  2A FF FF    	ld	hl,(_s_col0 - 1)
2073  07AA  3A 00 00    	ld	a,(_s_lin0)
2074  07AD  6F          	ld	l,a
2075  07AE  3A 00 00    	ld	a,(_map_paper_clr)
2076  07B1  E5          	push	hl
2077  07B2  F5          	push	af
2078  07B3  33          	inc	sp
2079  07B4  CD 00 00    	call	_NIRVANAP_fillC_callee
2080  07B7  21 00 00    	ld	hl,_s_col0
2081  07BA  46          	ld	b, (hl)
2082  07BB  04          	inc	b
2083  07BC  C5          	push	bc
2084  07BD  33          	inc	sp
2085  07BE  2A FF FF    	ld	hl,(_s_lin0 - 1)
2086  07C1  3A 00 00    	ld	a,(_map_paper_clr)
2087  07C4  6F          	ld	l,a
2088  07C5  E5          	push	hl
2089  07C6  CD 00 00    	call	_NIRVANAP_fillC_callee
2090  07C9              l_spr_redraw_00109:
2091  07C9  2A FF FF    	ld	hl,(_s_col1 - 1)
2092  07CC  3A 00 00    	ld	a,(_s_lin1)
2093  07CF  6F          	ld	l,a
2094  07D0  E5          	push	hl
2095  07D1  2A FF FF    	ld	hl,(_s_tile1 - 1)
2096  07D4  3A 00 00    	ld	a,(_sprite)
2097  07D7  6F          	ld	l,a
2098  07D8  E5          	push	hl
2099  07D9  CD 00 00    	call	_NIRVANAP_spriteT_callee
2100  07DC  2E 01       	ld	l,0x01
2101  07DE  18 38       	jr	l_spr_redraw_00116
2102  07E0              l_spr_redraw_00113:
2103  07E0  2A 00 00    	ld	hl,(_sprite)
2104  07E3  26 00       	ld	h,0x00
2105  07E5  01 00 00    	ld	bc,_tile
2106  07E8  09          	add	hl,bc
2107  07E9  4E          	ld	c, (hl)
2108  07EA  3A 00 00    	ld	a,(_sprite)
2109  07ED  5F          	ld	e,a
2110  07EE  16 00       	ld	d,0x00
2111  07F0  21 00 00    	ld	hl,_colint
2112  07F3  19          	add	hl,de
2113  07F4  7E          	ld	a,(hl)
2114  07F5  81          	add	a,c
2115  07F6  32 00 00    	ld	(_s_tile1),a
2116  07F9  21 00 00    	ld	hl,_s_tile0
2117  07FC  96          	sub	a, (hl)
2118  07FD  28 17       	jr	Z,l_spr_redraw_00114
2119  07FF  2A FF FF    	ld	hl,(_s_col1 - 1)
2120  0802  3A 00 00    	ld	a,(_s_lin1)
2121  0805  6F          	ld	l,a
2122  0806  E5          	push	hl
2123  0807  2A FF FF    	ld	hl,(_s_tile1 - 1)
2124  080A  3A 00 00    	ld	a,(_sprite)
2125  080D  6F          	ld	l,a
2126  080E  E5          	push	hl
2127  080F  CD 00 00    	call	_NIRVANAP_spriteT_callee
2128  0812  2E 00       	ld	l,0x00
2129  0814  18 02       	jr	l_spr_redraw_00116
2130  0816              l_spr_redraw_00114:
2131  0816  2E 00       	ld	l,0x00
2132  0818              l_spr_redraw_00116:
2133  0818  C9          	ret
2134  0819              	SECTION code_compiler
2135  0819              ;	---------------------------------
2136  0819              ; Function spr_destroy
2137  0819              ; ---------------------------------
2138  0819              _spr_destroy:
2139  0819  CD 00 00    	call	___sdcc_enter_ix
2140  081C  F5          	push	af
2141  081D  F5          	push	af
2142  081E  45          	ld	b, l
2143  081F  21 00 00    	ld	hl,_spr_count
2144  0822  35          	dec	(hl)
2145  0823  3E 00       	ld	a, +((_lin) & 0xFF)
2146  0825  80          	add	a, b
2147  0826  DD 77 FE    	ld	(ix-2),a
2148  0829  6F          	ld	l,a
2149  082A  3E 00       	ld	a,+((_lin) / 256)
2150  082C  CE 00       	adc	a,0x00
2151  082E  DD 77 FF    	ld	(ix-1),a
2152  0831  67          	ld	h,a
2153  0832  7E          	ld	a, (hl)
2154  0833  32 00 00    	ld	(_s_lin0),a
2155  0836  3E 00       	ld	a, +((_col) & 0xFF)
2156  0838  80          	add	a, b
2157  0839  DD 77 FC    	ld	(ix-4),a
2158  083C  3E 00       	ld	a, +((_col) / 256)
2159  083E  CE 00       	adc	a,0x00
2160  0840  DD 77 FD    	ld	(ix-3),a
2161  0843  E1          	pop	hl
2162  0844  7E          	ld	a,(hl)
2163  0845  E5          	push	hl
2164  0846  32 00 00    	ld	(_s_col0),a
2165  0849  C5          	push	bc
2166  084A  F5          	push	af
2167  084B  33          	inc	sp
2168  084C  3A 00 00    	ld	a,(_s_lin0)
2169  084F  F5          	push	af
2170  0850  33          	inc	sp
2171  0851  CD 00 00    	call	_spr_calc_index
2172  0854  F1          	pop	af
2173  0855  EB          	ex	de,hl
2174  0856  C1          	pop	bc
2175  0857  EB          	ex	de,hl
2176  0858  22 00 00    	ld	(_index0),hl
2177  085B  C5          	push	bc
2178  085C  CD 00 00    	call	_game_match_back
2179  085F  C1          	pop	bc
2180  0860  7D          	ld	a,l
2181  0861  32 00 00    	ld	(_s_tile0),a
2182  0864  C5          	push	bc
2183  0865  21 00 00    	ld	hl,0x0000
2184  0868  E5          	push	hl
2185  0869  48          	ld	c,b
2186  086A  47          	ld	b,a
2187  086B  C5          	push	bc
2188  086C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2189  086F  CD 69 0A    	call	_spr_back_repaint
2190  0872  C1          	pop	bc
2191  0873  3E 00       	ld	a, +((_tile) & 0xFF)
2192  0875  80          	add	a, b
2193  0876  5F          	ld	e, a
2194  0877  3E 00       	ld	a, +((_tile) / 256)
2195  0879  CE 00       	adc	a,0x00
2196  087B  E1          	pop	hl
2197  087C  57          	ld	d,a
2198  087D  3A 00 00    	ld	a,(_s_tile0)
2199  0880  12          	ld	(de),a
2200  0881  E5          	push	hl
2201  0882  36 00       	ld	(hl),0x00
2202  0884  DD 6E FE    	ld	l,(ix-2)
2203  0887  DD 66 FF    	ld	h,(ix-1)
2204  088A  36 00       	ld	(hl),0x00
2205  088C  11 00 00    	ld	de,_class+0
2206  088F  68          	ld	l,b
2207  0890  26 00       	ld	h,0x00
2208  0892  19          	add	hl, de
2209  0893  36 00       	ld	(hl),0x00
2210  0895  11 00 00    	ld	de,_state+0
2211  0898  68          	ld	l,b
2212  0899  26 00       	ld	h,0x00
2213  089B  19          	add	hl, de
2214  089C  36 00       	ld	(hl),0x00
2215  089E  11 00 00    	ld	de,_state_a+0
2216  08A1  68          	ld	l,b
2217  08A2  26 00       	ld	h,0x00
2218  08A4  19          	add	hl, de
2219  08A5  36 00       	ld	(hl),0x00
2220  08A7  DD F9       	ld	sp, ix
2221  08A9  DD E1       	pop	ix
2222  08AB  C9          	ret
2223  08AC              	SECTION code_compiler
2224  08AC              ;	---------------------------------
2225  08AC              ; Function spr_tile
2226  08AC              ; ---------------------------------
2227  08AC              _spr_tile:
2228  08AC  CD 00 00    	call	___sdcc_enter_ix
2229  08AF  F5          	push	af
2230  08B0  DD 75 FE    	ld	(ix-2),l
2231  08B3  DD 74 FF    	ld	(ix-1),h
2232  08B6  21 00 00    	ld	hl,_tmp0
2233  08B9  36 00       	ld	(hl),0x00
2234  08BB  E1          	pop	hl
2235  08BC  01 00 00    	ld	bc,_class+0
2236  08BF  E5          	push	hl
2237  08C0  6E          	ld	l, (hl)
2238  08C1  26 00       	ld	h,0x00
2239  08C3  09          	add	hl, bc
2240  08C4  4E          	ld	c, (hl)
2241  08C5              l_spr_tile_00103:
2242  08C5  21 00 00    	ld	hl,_tmp0
2243  08C8  7E          	ld	a, (hl)
2244  08C9  D6 14       	sub	a,0x14
2245  08CB  30 3A       	jr	NC,l_spr_tile_00105
2246  08CD  7E          	ld	a, (hl)
2247  08CE  5F          	ld	e, a
2248  08CF  87          	add	a, a
2249  08D0  83          	add	a, e
2250  08D1  21 00 00    	ld	hl,_tmp1
2251  08D4  77          	ld	(hl), a
2252  08D5  C6 00       	add	a,+((_spr_map_tile) & 0xFF)
2253  08D7  5F          	ld	e, a
2254  08D8  3E 00       	ld	a, +((_spr_map_tile) / 256)
2255  08DA  CE 00       	adc	a,0x00
2256  08DC  57          	ld	d, a
2257  08DD  1A          	ld	a, (de)
2258  08DE  47          	ld	b, a
2259  08DF  79          	ld	a, c
2260  08E0  90          	sub	a, b
2261  08E1  20 1E       	jr	NZ,l_spr_tile_00102
2262  08E3  4E          	ld	c, (hl)
2263  08E4  06 00       	ld	b,0x00
2264  08E6  59          	ld	e, c
2265  08E7  50          	ld	d, b
2266  08E8  13          	inc	de
2267  08E9  13          	inc	de
2268  08EA  21 00 00    	ld	hl,_spr_map_tile
2269  08ED  19          	add	hl,de
2270  08EE  03          	inc	bc
2271  08EF  EB          	ex	de,hl
2272  08F0  21 00 00    	ld	hl,_spr_map_tile
2273  08F3  09          	add	hl, bc
2274  08F4  C1          	pop	bc
2275  08F5  C5          	push	bc
2276  08F6  D5          	push	de
2277  08F7  C5          	push	bc
2278  08F8  E5          	push	hl
2279  08F9  CD 0D 09    	call	_spr_tile_dir
2280  08FC  F1          	pop	af
2281  08FD  F1          	pop	af
2282  08FE  F1          	pop	af
2283  08FF  18 08       	jr	l_spr_tile_00106
2284  0901              l_spr_tile_00102:
2285  0901  21 00 00    	ld	hl,_tmp0
2286  0904  34          	inc	(hl)
2287  0905  18 BE       	jr	l_spr_tile_00103
2288  0907              l_spr_tile_00105:
2289  0907  2E 00       	ld	l,0x00
2290  0909              l_spr_tile_00106:
2291  0909  F1          	pop	af
2292  090A  DD E1       	pop	ix
2293  090C  C9          	ret
2294  090D              	SECTION code_compiler
2295  090D              ;	---------------------------------
2296  090D              ; Function spr_tile_dir
2297  090D              ; ---------------------------------
2298  090D              _spr_tile_dir:
2299  090D  CD 00 00    	call	___sdcc_enter_ix
2300  0910  F5          	push	af
2301  0911  11 00 00    	ld	de,_state+0
2302  0914  DD 4E 06    	ld	c,(ix+6)
2303  0917  DD 46 07    	ld	b,(ix+7)
2304  091A  0A          	ld	a, (bc)
2305  091B  4F          	ld	c, a
2306  091C  69          	ld	l,c
2307  091D  26 00       	ld	h,0x00
2308  091F  19          	add	hl, de
2309  0920  46          	ld	b, (hl)
2310  0921  DD 5E 04    	ld	e,(ix+4)
2311  0924  DD 56 05    	ld	d,(ix+5)
2312  0927  1A          	ld	a, (de)
2313  0928  5F          	ld	e, a
2314  0929  CB 50       	bit	2, b
2315  092B  28 03       	jr	Z,l_spr_tile_dir_00102
2316  092D  6B          	ld	l, e
2317  092E  18 33       	jr	l_spr_tile_dir_00109
2318  0930              l_spr_tile_dir_00102:
2319  0930  DD 7E 08    	ld	a,(ix+8)
2320  0933  DD 77 FE    	ld	(ix-2),a
2321  0936  DD 7E 09    	ld	a,(ix+9)
2322  0939  DD 77 FF    	ld	(ix-1),a
2323  093C  CB 58       	bit	3, b
2324  093E  28 08       	jr	Z,l_spr_tile_dir_00104
2325  0940  E1          	pop	hl
2326  0941  4E          	ld	c,(hl)
2327  0942  E5          	push	hl
2328  0943  7B          	ld	a, e
2329  0944  81          	add	a, c
2330  0945  6F          	ld	l, a
2331  0946  18 1B       	jr	l_spr_tile_dir_00109
2332  0948              l_spr_tile_dir_00104:
2333  0948  06 00       	ld	b,0x00
2334  094A  21 00 00    	ld	hl,_state_a
2335  094D  09          	add	hl, bc
2336  094E  4E          	ld	c, (hl)
2337  094F  CB 61       	bit	4, c
2338  0951  28 03       	jr	Z,l_spr_tile_dir_00106
2339  0953  6B          	ld	l, e
2340  0954  18 0D       	jr	l_spr_tile_dir_00109
2341  0956              l_spr_tile_dir_00106:
2342  0956  CB 59       	bit	3, c
2343  0958  28 08       	jr	Z,l_spr_tile_dir_00108
2344  095A  E1          	pop	hl
2345  095B  4E          	ld	c,(hl)
2346  095C  E5          	push	hl
2347  095D  7B          	ld	a, e
2348  095E  81          	add	a, c
2349  095F  6F          	ld	l, a
2350  0960  18 01       	jr	l_spr_tile_dir_00109
2351  0962              l_spr_tile_dir_00108:
2352  0962  6B          	ld	l, e
2353  0963              l_spr_tile_dir_00109:
2354  0963  F1          	pop	af
2355  0964  DD E1       	pop	ix
2356  0966  C9          	ret
2357  0967              	SECTION code_compiler
2358  0967              ;	---------------------------------
2359  0967              ; Function spr_brick_anim
2360  0967              ; ---------------------------------
2361  0967              _spr_brick_anim:
2362  0967  CD 00 00    	call	___sdcc_enter_ix
2363  096A  F5          	push	af
2364  096B  3B          	dec	sp
2365  096C  4D          	ld	c, l
2366  096D  21 00 00    	ld	hl,_player_hit_col
2367  0970  56          	ld	d, (hl)
2368  0971  21 00 00    	ld	hl,_player_hit_lin
2369  0974  5E          	ld	e, (hl)
2370  0975  C5          	push	bc
2371  0976  D5          	push	de
2372  0977  D5          	push	de
2373  0978  CD 00 00    	call	_spr_calc_index
2374  097B  F1          	pop	af
2375  097C  DD 74 FF    	ld	(ix-1),h
2376  097F  DD 75 FE    	ld	(ix-2),l
2377  0982  D1          	pop	de
2378  0983  C1          	pop	bc
2379  0984  DD 6E FE    	ld	l,(ix-2)
2380  0987  DD 66 FF    	ld	h,(ix-1)
2381  098A  22 00 00    	ld	(_index1),hl
2382  098D  21 00 00    	ld	hl,_index1
2383  0990  7E          	ld	a, (hl)
2384  0991  C6 F0       	add	a,0xf0
2385  0993  DD 77 FE    	ld	(ix-2),a
2386  0996  23          	inc	hl
2387  0997  7E          	ld	a, (hl)
2388  0998  CE FF       	adc	a,0xff
2389  099A  DD 77 FF    	ld	(ix-1),a
2390  099D  3E 00       	ld	a, +((_scr_map) & 0xFF)
2391  099F  DD 86 FE    	add	a,(ix-2)
2392  09A2  6F          	ld	l, a
2393  09A3  3E 00       	ld	a, +((_scr_map) / 256)
2394  09A5  DD 8E FF    	adc	a,(ix-1)
2395  09A8  67          	ld	h, a
2396  09A9  7E          	ld	a, (hl)
2397  09AA  DD 77 FD    	ld	(ix-3),a
2398  09AD  3E 00       	ld	a, +((_scr_map) & 0xFF)
2399  09AF  21 00 00    	ld	hl,_index1
2400  09B2  86          	add	a, (hl)
2401  09B3  DD 77 FE    	ld	(ix-2),a
2402  09B6  3E 00       	ld	a, +((_scr_map) / 256)
2403  09B8  23          	inc	hl
2404  09B9  8E          	adc	a, (hl)
2405  09BA  DD 6E FE    	ld	l,(ix-2)
2406  09BD  DD 77 FF    	ld	(ix-1),a
2407  09C0  67          	ld	h,a
2408  09C1  46          	ld	b, (hl)
2409  09C2  79          	ld	a, c
2410  09C3  B7          	or	a, a
2411  09C4  28 08       	jr	Z,l_spr_brick_anim_00102
2412  09C6  7B          	ld	a, e
2413  09C7  C6 F6       	add	a,0xf6
2414  09C9  32 00 00    	ld	(_tmp),a
2415  09CC  18 06       	jr	l_spr_brick_anim_00103
2416  09CE              l_spr_brick_anim_00102:
2417  09CE  7B          	ld	a, e
2418  09CF  C6 F8       	add	a,0xf8
2419  09D1  32 00 00    	ld	(_tmp),a
2420  09D4              l_spr_brick_anim_00103:
2421  09D4  F3          	di
2422  09D5  79          	ld	a, c
2423  09D6  B7          	or	a, a
2424  09D7  28 1A       	jr	Z,l_spr_brick_anim_00105
2425  09D9  3A 00 00    	ld	a,(_map_paper_clr)
2426  09DC  C5          	push	bc
2427  09DD  D5          	push	de
2428  09DE  D5          	push	de
2429  09DF  F5          	push	af
2430  09E0  33          	inc	sp
2431  09E1  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2432  09E4  D1          	pop	de
2433  09E5  C1          	pop	bc
2434  09E6  D5          	push	de
2435  09E7  33          	inc	sp
2436  09E8  3A 00 00    	ld	a,(_tmp)
2437  09EB  48          	ld	c,b
2438  09EC  47          	ld	b,a
2439  09ED  C5          	push	bc
2440  09EE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2441  09F1  18 1E       	jr	l_spr_brick_anim_00106
2442  09F3              l_spr_brick_anim_00105:
2443  09F3  3A 00 00    	ld	a,(_tmp)
2444  09F6  C6 F0       	add	a,0xf0
2445  09F8  C5          	push	bc
2446  09F9  D5          	push	de
2447  09FA  5F          	ld	e,a
2448  09FB  D5          	push	de
2449  09FC  DD 7E FD    	ld	a,(ix-3)
2450  09FF  F5          	push	af
2451  0A00  33          	inc	sp
2452  0A01  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2453  0A04  D1          	pop	de
2454  0A05  C1          	pop	bc
2455  0A06  D5          	push	de
2456  0A07  33          	inc	sp
2457  0A08  3A 00 00    	ld	a,(_tmp)
2458  0A0B  48          	ld	c,b
2459  0A0C  47          	ld	b,a
2460  0A0D  C5          	push	bc
2461  0A0E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2462  0A11              l_spr_brick_anim_00106:
2463  0A11  FB          	ei
2464  0A12  DD F9       	ld	sp, ix
2465  0A14  DD E1       	pop	ix
2466  0A16  C9          	ret
2467  0A17              	SECTION code_compiler
2468  0A17              ;	---------------------------------
2469  0A17              ; Function spr_draw_index
2470  0A17              ; ---------------------------------
2471  0A17              _spr_draw_index:
2472  0A17  7E          	ld	a,(hl)
2473  0A18  5F          	ld	e,a
2474  0A19  E6 0F       	and	a,0x0f
2475  0A1B  87          	add	a,a
2476  0A1C  32 00 00    	ld	(_s_col1),a
2477  0A1F  4D          	ld	c,l
2478  0A20  44          	ld	b,h
2479  0A21  21 00 00    	ld	hl,_s_lin1
2480  0A24  73          	ld	(hl),e
2481  0A25  7B          	ld	a,e
2482  0A26  07          	rlca
2483  0A27  07          	rlca
2484  0A28  07          	rlca
2485  0A29  07          	rlca
2486  0A2A  E6 0F       	and	a,0x0f
2487  0A2C  07          	rlca
2488  0A2D  07          	rlca
2489  0A2E  07          	rlca
2490  0A2F  07          	rlca
2491  0A30  E6 F0       	and	a,0xf0
2492  0A32  77          	ld	(hl), a
2493  0A33  F3          	di
2494  0A34  69          	ld	l, c
2495  0A35  60          	ld	h, b
2496  0A36  4E          	ld	c, (hl)
2497  0A37  23          	inc	hl
2498  0A38  46          	ld	b, (hl)
2499  0A39  21 00 00    	ld	hl,_scr_map
2500  0A3C  09          	add	hl, bc
2501  0A3D  4E          	ld	c, (hl)
2502  0A3E  2A FF FF    	ld	hl,(_s_col1 - 1)
2503  0A41  3A 00 00    	ld	a,(_s_lin1)
2504  0A44  6F          	ld	l,a
2505  0A45  E5          	push	hl
2506  0A46  79          	ld	a, c
2507  0A47  F5          	push	af
2508  0A48  33          	inc	sp
2509  0A49  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2510  0A4C  FB          	ei
2511  0A4D  C9          	ret
2512  0A4E              	SECTION code_compiler
2513  0A4E              ;	---------------------------------
2514  0A4E              ; Function spr_calc_hor
2515  0A4E              ; ---------------------------------
2516  0A4E              _spr_calc_hor:
2517  0A4E  4D          	ld	c,l
2518  0A4F  11 00 00    	ld	de,_col+0
2519  0A52  26 00       	ld	h,0x00
2520  0A54  19          	add	hl, de
2521  0A55  5E          	ld	e, (hl)
2522  0A56  06 00       	ld	b,0x00
2523  0A58  21 00 00    	ld	hl,_sprite_frames
2524  0A5B  09          	add	hl, bc
2525  0A5C  66          	ld	h, (hl)
2526  0A5D  2E 00       	ld	l,0x00
2527  0A5F  55          	ld	d, l
2528  0A60  06 08       	ld	b,0x08
2529  0A62              l_spr_calc_hor_00103:
2530  0A62  29          	add	hl, hl
2531  0A63  30 01       	jr	NC,l_spr_calc_hor_00104
2532  0A65  19          	add	hl, de
2533  0A66              l_spr_calc_hor_00104:
2534  0A66  10 FA       	djnz	l_spr_calc_hor_00103
2535  0A68  C9          	ret
2536  0A69              	SECTION code_compiler
2537  0A69              ;	---------------------------------
2538  0A69              ; Function spr_back_repaint
2539  0A69              ; ---------------------------------
2540  0A69              _spr_back_repaint:
2541  0A69  CD 00 00    	call	___sdcc_enter_ix
2542  0A6C  3B          	dec	sp
2543  0A6D  3A 00 00    	ld	a,(_spr_hack)
2544  0A70  B7          	or	a, a
2545  0A71  20 02       	jr	NZ,l_spr_back_repaint_00102
2546  0A73  76          	halt
2547  0A74  F3          	di
2548  0A75              l_spr_back_repaint_00102:
2549  0A75  2A FF FF    	ld	hl,(_s_col0 - 1)
2550  0A78  3A 00 00    	ld	a,(_s_lin0)
2551  0A7B  6F          	ld	l,a
2552  0A7C  E5          	push	hl
2553  0A7D  CD 00 00    	call	_spr_calc_index
2554  0A80  F1          	pop	af
2555  0A81  7D          	ld	a,l
2556  0A82  32 00 00    	ld	(_sprite_curr_index),a
2557  0A85  21 00 00    	ld	hl,_s_lin0
2558  0A88  7E          	ld	a, (hl)
2559  0A89  E6 0F       	and	a,0x0f
2560  0A8B  4F          	ld	c, a
2561  0A8C  7E          	ld	a, (hl)
2562  0A8D  07          	rlca
2563  0A8E  07          	rlca
2564  0A8F  07          	rlca
2565  0A90  07          	rlca
2566  0A91  E6 0F       	and	a,0x0f
2567  0A93  5F          	ld	e, a
2568  0A94  21 00 00    	ld	hl,_s_col0
2569  0A97  CB 46       	bit	0, (hl)
2570  0A99  20 68       	jr	NZ,l_spr_back_repaint_00110
2571  0A9B  79          	ld	a, c
2572  0A9C  B7          	or	a, a
2573  0A9D  20 1D       	jr	NZ,l_spr_back_repaint_00104
2574  0A9F  2A 00 00    	ld	hl,(_sprite_curr_index)
2575  0AA2  26 00       	ld	h,0x00
2576  0AA4  01 00 00    	ld	bc,_scr_map
2577  0AA7  09          	add	hl,bc
2578  0AA8  46          	ld	b,(hl)
2579  0AA9  3A 00 00    	ld	a,(_s_col0)
2580  0AAC  F5          	push	af
2581  0AAD  33          	inc	sp
2582  0AAE  3A 00 00    	ld	a,(_s_lin0)
2583  0AB1  48          	ld	c,b
2584  0AB2  47          	ld	b,a
2585  0AB3  C5          	push	bc
2586  0AB4  CD E0 0B    	call	_spr_tile_paint
2587  0AB7  F1          	pop	af
2588  0AB8  33          	inc	sp
2589  0AB9  C3 D5 0B    	jp	l_spr_back_repaint_00111
2590  0ABC              l_spr_back_repaint_00104:
2591  0ABC  7B          	ld	a, e
2592  0ABD  07          	rlca
2593  0ABE  07          	rlca
2594  0ABF  07          	rlca
2595  0AC0  07          	rlca
2596  0AC1  E6 F0       	and	a,0xf0
2597  0AC3  4F          	ld	c, a
2598  0AC4  2A 00 00    	ld	hl,(_sprite_curr_index)
2599  0AC7  26 00       	ld	h,0x00
2600  0AC9  11 00 00    	ld	de,_scr_map
2601  0ACC  19          	add	hl,de
2602  0ACD  46          	ld	b, (hl)
2603  0ACE  3A 00 00    	ld	a,(_s_col0)
2604  0AD1  C5          	push	bc
2605  0AD2  F5          	push	af
2606  0AD3  33          	inc	sp
2607  0AD4  79          	ld	a, c
2608  0AD5  48          	ld	c,b
2609  0AD6  47          	ld	b,a
2610  0AD7  C5          	push	bc
2611  0AD8  CD E0 0B    	call	_spr_tile_paint
2612  0ADB  F1          	pop	af
2613  0ADC  33          	inc	sp
2614  0ADD  C1          	pop	bc
2615  0ADE  79          	ld	a, c
2616  0ADF  C6 10       	add	a,0x10
2617  0AE1  57          	ld	d, a
2618  0AE2  21 00 00    	ld	hl,_sprite_curr_index
2619  0AE5  7E          	ld	a, (hl)
2620  0AE6  C6 10       	add	a,0x10
2621  0AE8  77          	ld	(hl), a
2622  0AE9  C6 00       	add	a,+((_scr_map) & 0xFF)
2623  0AEB  4F          	ld	c, a
2624  0AEC  3E 00       	ld	a, +((_scr_map) / 256)
2625  0AEE  CE 00       	adc	a,0x00
2626  0AF0  47          	ld	b, a
2627  0AF1  0A          	ld	a, (bc)
2628  0AF2  47          	ld	b, a
2629  0AF3  3A 00 00    	ld	a,(_s_col0)
2630  0AF6  5A          	ld	e,d
2631  0AF7  57          	ld	d,a
2632  0AF8  D5          	push	de
2633  0AF9  C5          	push	bc
2634  0AFA  33          	inc	sp
2635  0AFB  CD E0 0B    	call	_spr_tile_paint
2636  0AFE  F1          	pop	af
2637  0AFF  33          	inc	sp
2638  0B00  C3 D5 0B    	jp	l_spr_back_repaint_00111
2639  0B03              l_spr_back_repaint_00110:
2640  0B03  3A 00 00    	ld	a,(_s_col0)
2641  0B06  C6 FF       	add	a,0xff
2642  0B08  DD 77 FF    	ld	(ix-1),a
2643  0B0B  79          	ld	a, c
2644  0B0C  B7          	or	a, a
2645  0B0D  20 3E       	jr	NZ,l_spr_back_repaint_00107
2646  0B0F  2A 00 00    	ld	hl,(_sprite_curr_index)
2647  0B12  26 00       	ld	h,0x00
2648  0B14  01 00 00    	ld	bc,_scr_map
2649  0B17  09          	add	hl,bc
2650  0B18  46          	ld	b,(hl)
2651  0B19  DD 7E FF    	ld	a,(ix-1)
2652  0B1C  F5          	push	af
2653  0B1D  33          	inc	sp
2654  0B1E  3A 00 00    	ld	a,(_s_lin0)
2655  0B21  48          	ld	c,b
2656  0B22  47          	ld	b,a
2657  0B23  C5          	push	bc
2658  0B24  CD E0 0B    	call	_spr_tile_paint
2659  0B27  F1          	pop	af
2660  0B28  33          	inc	sp
2661  0B29  21 00 00    	ld	hl,_sprite_curr_index
2662  0B2C  34          	inc	(hl)
2663  0B2D  21 00 00    	ld	hl,_s_col0
2664  0B30  4E          	ld	c, (hl)
2665  0B31  0C          	inc	c
2666  0B32  2A 00 00    	ld	hl,(_sprite_curr_index)
2667  0B35  26 00       	ld	h,0x00
2668  0B37  11 00 00    	ld	de,_scr_map
2669  0B3A  19          	add	hl,de
2670  0B3B  46          	ld	b, (hl)
2671  0B3C  79          	ld	a, c
2672  0B3D  F5          	push	af
2673  0B3E  33          	inc	sp
2674  0B3F  3A 00 00    	ld	a,(_s_lin0)
2675  0B42  48          	ld	c,b
2676  0B43  47          	ld	b,a
2677  0B44  C5          	push	bc
2678  0B45  CD E0 0B    	call	_spr_tile_paint
2679  0B48  F1          	pop	af
2680  0B49  33          	inc	sp
2681  0B4A  C3 D5 0B    	jp	l_spr_back_repaint_00111
2682  0B4D              l_spr_back_repaint_00107:
2683  0B4D  7B          	ld	a, e
2684  0B4E  07          	rlca
2685  0B4F  07          	rlca
2686  0B50  07          	rlca
2687  0B51  07          	rlca
2688  0B52  E6 F0       	and	a,0xf0
2689  0B54  47          	ld	b, a
2690  0B55  2A 00 00    	ld	hl,(_sprite_curr_index)
2691  0B58  26 00       	ld	h,0x00
2692  0B5A  11 00 00    	ld	de,_scr_map
2693  0B5D  19          	add	hl,de
2694  0B5E  56          	ld	d, (hl)
2695  0B5F  C5          	push	bc
2696  0B60  DD 7E FF    	ld	a,(ix-1)
2697  0B63  F5          	push	af
2698  0B64  33          	inc	sp
2699  0B65  4A          	ld	c, d
2700  0B66  C5          	push	bc
2701  0B67  CD E0 0B    	call	_spr_tile_paint
2702  0B6A  F1          	pop	af
2703  0B6B  33          	inc	sp
2704  0B6C  C1          	pop	bc
2705  0B6D  21 00 00    	ld	hl,_sprite_curr_index
2706  0B70  34          	inc	(hl)
2707  0B71  21 00 00    	ld	hl,_s_col0
2708  0B74  4E          	ld	c, (hl)
2709  0B75  0C          	inc	c
2710  0B76  2A 00 00    	ld	hl,(_sprite_curr_index)
2711  0B79  26 00       	ld	h,0x00
2712  0B7B  11 00 00    	ld	de,_scr_map
2713  0B7E  19          	add	hl,de
2714  0B7F  5E          	ld	e, (hl)
2715  0B80  C5          	push	bc
2716  0B81  79          	ld	a, c
2717  0B82  48          	ld	c,b
2718  0B83  47          	ld	b,a
2719  0B84  C5          	push	bc
2720  0B85  7B          	ld	a, e
2721  0B86  F5          	push	af
2722  0B87  33          	inc	sp
2723  0B88  CD E0 0B    	call	_spr_tile_paint
2724  0B8B  F1          	pop	af
2725  0B8C  33          	inc	sp
2726  0B8D  C1          	pop	bc
2727  0B8E  78          	ld	a, b
2728  0B8F  C6 10       	add	a,0x10
2729  0B91  DD 77 FF    	ld	(ix-1),a
2730  0B94  21 00 00    	ld	hl,_sprite_curr_index
2731  0B97  7E          	ld	a, (hl)
2732  0B98  C6 0F       	add	a,0x0f
2733  0B9A  77          	ld	(hl), a
2734  0B9B  21 00 00    	ld	hl,_s_col0
2735  0B9E  4E          	ld	c, (hl)
2736  0B9F  0D          	dec	c
2737  0BA0  2A 00 00    	ld	hl,(_sprite_curr_index)
2738  0BA3  26 00       	ld	h,0x00
2739  0BA5  11 00 00    	ld	de,_scr_map
2740  0BA8  19          	add	hl,de
2741  0BA9  5E          	ld	e, (hl)
2742  0BAA  79          	ld	a, c
2743  0BAB  F5          	push	af
2744  0BAC  33          	inc	sp
2745  0BAD  DD 56 FF    	ld	d,(ix-1)
2746  0BB0  D5          	push	de
2747  0BB1  CD E0 0B    	call	_spr_tile_paint
2748  0BB4  F1          	pop	af
2749  0BB5  33          	inc	sp
2750  0BB6  21 00 00    	ld	hl,_sprite_curr_index
2751  0BB9  34          	inc	(hl)
2752  0BBA  21 00 00    	ld	hl,_s_col0
2753  0BBD  4E          	ld	c, (hl)
2754  0BBE  0C          	inc	c
2755  0BBF  2A 00 00    	ld	hl,(_sprite_curr_index)
2756  0BC2  26 00       	ld	h,0x00
2757  0BC4  11 00 00    	ld	de,_scr_map
2758  0BC7  19          	add	hl,de
2759  0BC8  5E          	ld	e, (hl)
2760  0BC9  79          	ld	a, c
2761  0BCA  F5          	push	af
2762  0BCB  33          	inc	sp
2763  0BCC  DD 56 FF    	ld	d,(ix-1)
2764  0BCF  D5          	push	de
2765  0BD0  CD E0 0B    	call	_spr_tile_paint
2766  0BD3  F1          	pop	af
2767  0BD4  33          	inc	sp
2768  0BD5              l_spr_back_repaint_00111:
2769  0BD5  3A 00 00    	ld	a,(_spr_hack)
2770  0BD8  B7          	or	a, a
2771  0BD9  20 01       	jr	NZ,l_spr_back_repaint_00114
2772  0BDB  FB          	ei
2773  0BDC              l_spr_back_repaint_00114:
2774  0BDC  33          	inc	sp
2775  0BDD  DD E1       	pop	ix
2776  0BDF  C9          	ret
2777  0BE0              	SECTION code_compiler
2778  0BE0              ;	---------------------------------
2779  0BE0              ; Function spr_tile_paint
2780  0BE0              ; ---------------------------------
2781  0BE0              _spr_tile_paint:
2782  0BE0  CD 00 00    	call	___sdcc_enter_ix
2783  0BE3  DD 7E 04    	ld	a,(ix+4)
2784  0BE6  B7          	or	a, a
2785  0BE7  28 05       	jr	Z,l_spr_tile_paint_00101
2786  0BE9  3C          	inc	a
2787  0BEA  28 13       	jr	Z,l_spr_tile_paint_00102
2788  0BEC  18 70       	jr	l_spr_tile_paint_00110
2789  0BEE              l_spr_tile_paint_00101:
2790  0BEE  DD 66 06    	ld	h,(ix+6)
2791  0BF1  DD 6E 05    	ld	l,(ix+5)
2792  0BF4  3A 00 00    	ld	a,(_map_paper_clr)
2793  0BF7  E5          	push	hl
2794  0BF8  F5          	push	af
2795  0BF9  33          	inc	sp
2796  0BFA  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2797  0BFD  18 6E       	jr	l_spr_tile_paint_00114
2798  0BFF              l_spr_tile_paint_00102:
2799  0BFF  0E 00       	ld	c,0x00
2800  0C01  59          	ld	e,c
2801  0C02              l_spr_tile_paint_00112:
2802  0C02  16 00       	ld	d,0x00
2803  0C04  21 00 00    	ld	hl,_anim_col
2804  0C07  19          	add	hl, de
2805  0C08  DD 7E 06    	ld	a,(ix+6)
2806  0C0B  96          	sub	a,(hl)
2807  0C0C  20 47       	jr	NZ,l_spr_tile_paint_00113
2808  0C0E  57          	ld	d,a
2809  0C0F  21 00 00    	ld	hl,_anim_lin
2810  0C12  19          	add	hl, de
2811  0C13  DD 7E 05    	ld	a,(ix+5)
2812  0C16  96          	sub	a,(hl)
2813  0C17  20 3C       	jr	NZ,l_spr_tile_paint_00113
2814  0C19  11 00 00    	ld	de,_anim_int+0
2815  0C1C  69          	ld	l,c
2816  0C1D  26 00       	ld	h,0x00
2817  0C1F  19          	add	hl, de
2818  0C20  5E          	ld	e, (hl)
2819  0C21  06 00       	ld	b,0x00
2820  0C23  21 00 00    	ld	hl,_anim_end
2821  0C26  09          	add	hl, bc
2822  0C27  46          	ld	b, (hl)
2823  0C28  7B          	ld	a, e
2824  0C29  90          	sub	a, b
2825  0C2A  30 18       	jr	NC,l_spr_tile_paint_00104
2826  0C2C  06 00       	ld	b,0x00
2827  0C2E  21 00 00    	ld	hl,_anim_tile
2828  0C31  09          	add	hl, bc
2829  0C32  7E          	ld	a,(hl)
2830  0C33  4F          	ld	c,a
2831  0C34  83          	add	a, e
2832  0C35  47          	ld	b, a
2833  0C36  DD 66 06    	ld	h,(ix+6)
2834  0C39  DD 6E 05    	ld	l,(ix+5)
2835  0C3C  E5          	push	hl
2836  0C3D  C5          	push	bc
2837  0C3E  33          	inc	sp
2838  0C3F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2839  0C42  18 29       	jr	l_spr_tile_paint_00114
2840  0C44              l_spr_tile_paint_00104:
2841  0C44  DD 66 06    	ld	h,(ix+6)
2842  0C47  DD 6E 05    	ld	l,(ix+5)
2843  0C4A  3A 00 00    	ld	a,(_map_paper_clr)
2844  0C4D  E5          	push	hl
2845  0C4E  F5          	push	af
2846  0C4F  33          	inc	sp
2847  0C50  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2848  0C53  18 18       	jr	l_spr_tile_paint_00114
2849  0C55              l_spr_tile_paint_00113:
2850  0C55  1C          	inc	e
2851  0C56  7B          	ld	a,e
2852  0C57  4F          	ld	c,a
2853  0C58  D6 08       	sub	a,0x08
2854  0C5A  38 A6       	jr	C,l_spr_tile_paint_00112
2855  0C5C  18 0F       	jr	l_spr_tile_paint_00114
2856  0C5E              l_spr_tile_paint_00110:
2857  0C5E  DD 66 06    	ld	h,(ix+6)
2858  0C61  DD 6E 05    	ld	l,(ix+5)
2859  0C64  E5          	push	hl
2860  0C65  DD 7E 04    	ld	a,(ix+4)
2861  0C68  F5          	push	af
2862  0C69  33          	inc	sp
2863  0C6A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2864  0C6D              l_spr_tile_paint_00114:
2865  0C6D  DD E1       	pop	ix
2866  0C6F  C9          	ret
2867  0C70              	SECTION code_compiler
2868  0C70              ;	---------------------------------
2869  0C70              ; Function spr_init_effects
2870  0C70              ; ---------------------------------
2871  0C70              _spr_init_effects:
2872  0C70  01 00 00    	ld	bc,_anim_lin+0
2873  0C73  1E 00       	ld	e,0x00
2874  0C75              l_spr_init_effects_00102:
2875  0C75  6B          	ld	l,e
2876  0C76  26 00       	ld	h,0x00
2877  0C78  09          	add	hl, bc
2878  0C79  36 FF       	ld	(hl),0xff
2879  0C7B  16 00       	ld	d,0x00
2880  0C7D  21 00 00    	ld	hl,_bullet_col
2881  0C80  19          	add	hl, de
2882  0C81  36 FF       	ld	(hl),0xff
2883  0C83  1C          	inc	e
2884  0C84  3E 07       	ld	a,0x07
2885  0C86  93          	sub	a, e
2886  0C87  30 EC       	jr	NC,l_spr_init_effects_00102
2887  0C89  21 00 00    	ld	hl,_bullet_count
2888  0C8C  36 00       	ld	(hl),0x00
2889  0C8E  21 00 00    	ld	hl,_anim_count
2890  0C91  36 00       	ld	(hl),0x00
2891  0C93  C9          	ret
2892  0C94              	SECTION code_compiler
2893  0C94              ;	---------------------------------
2894  0C94              ; Function spr_add_anim
2895  0C94              ; ---------------------------------
2896  0C94              _spr_add_anim:
2897  0C94  CD 00 00    	call	___sdcc_enter_ix
2898  0C97  F5          	push	af
2899  0C98  F5          	push	af
2900  0C99  3B          	dec	sp
2901  0C9A  DD 7E 05    	ld	a,(ix+5)
2902  0C9D  D6 1F       	sub	a,0x1f
2903  0C9F  D2 5E 0D    	jp	NC, l_spr_add_anim_00111
2904  0CA2  DD 7E 04    	ld	a,(ix+4)
2905  0CA5  D6 B8       	sub	a,0xb8
2906  0CA7  D2 5E 0D    	jp	NC, l_spr_add_anim_00111
2907  0CAA  0E 00       	ld	c,0x00
2908  0CAC  DD 71 FF    	ld	(ix-1),c
2909  0CAF              l_spr_add_anim_00109:
2910  0CAF  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2911  0CB1  81          	add	a, c
2912  0CB2  5F          	ld	e, a
2913  0CB3  3E 00       	ld	a, +((_anim_lin) / 256)
2914  0CB5  CE 00       	adc	a,0x00
2915  0CB7  57          	ld	d, a
2916  0CB8  1A          	ld	a, (de)
2917  0CB9  3C          	inc	a
2918  0CBA  C2 54 0D    	jp	NZ,l_spr_add_anim_00110
2919  0CBD  21 00 00    	ld	hl,_anim_count
2920  0CC0  34          	inc	(hl)
2921  0CC1  DD 7E 04    	ld	a,(ix+4)
2922  0CC4  12          	ld	(de), a
2923  0CC5  01 00 00    	ld	bc,_anim_col
2924  0CC8  DD 6E FF    	ld	l,(ix-1)
2925  0CCB  26 00       	ld	h,0x00
2926  0CCD  09          	add	hl,bc
2927  0CCE  DD 75 FD    	ld	(ix-3),l
2928  0CD1  DD 74 FE    	ld	(ix-2),h
2929  0CD4  DD 7E 05    	ld	a,(ix+5)
2930  0CD7  77          	ld	(hl), a
2931  0CD8  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2932  0CDA  DD 86 FF    	add	a,(ix-1)
2933  0CDD  DD 77 FB    	ld	(ix-5),a
2934  0CE0  3E 00       	ld	a, +((_anim_tile) / 256)
2935  0CE2  CE 00       	adc	a,0x00
2936  0CE4  DD 77 FC    	ld	(ix-4),a
2937  0CE7  E1          	pop	hl
2938  0CE8  E5          	push	hl
2939  0CE9  DD 7E 06    	ld	a,(ix+6)
2940  0CEC  77          	ld	(hl), a
2941  0CED  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2942  0CEF  DD 86 FF    	add	a,(ix-1)
2943  0CF2  4F          	ld	c, a
2944  0CF3  3E 00       	ld	a, +((_anim_loop) / 256)
2945  0CF5  CE 00       	adc	a,0x00
2946  0CF7  47          	ld	b, a
2947  0CF8  DD 7E 08    	ld	a,(ix+8)
2948  0CFB  02          	ld	(bc), a
2949  0CFC  01 00 00    	ld	bc,_anim_int+0
2950  0CFF  DD 6E FF    	ld	l,(ix-1)
2951  0D02  26 00       	ld	h,0x00
2952  0D04  09          	add	hl, bc
2953  0D05  36 00       	ld	(hl),0x00
2954  0D07  3E 00       	ld	a, +((_anim_end) & 0xFF)
2955  0D09  DD 86 FF    	add	a,(ix-1)
2956  0D0C  4F          	ld	c, a
2957  0D0D  3E 00       	ld	a, +((_anim_end) / 256)
2958  0D0F  CE 00       	adc	a,0x00
2959  0D11  47          	ld	b, a
2960  0D12  DD 7E 07    	ld	a,(ix+7)
2961  0D15  02          	ld	(bc), a
2962  0D16  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2963  0D18  DD 86 FF    	add	a,(ix-1)
2964  0D1B  4F          	ld	c, a
2965  0D1C  3E 00       	ld	a, +((_anim_respanwn) / 256)
2966  0D1E  CE 00       	adc	a,0x00
2967  0D20  47          	ld	b, a
2968  0D21  DD 7E 09    	ld	a,(ix+9)
2969  0D24  02          	ld	(bc), a
2970  0D25  F3          	di
2971  0D26  DD 6E FD    	ld	l,(ix-3)
2972  0D29  DD 66 FE    	ld	h,(ix-2)
2973  0D2C  46          	ld	b, (hl)
2974  0D2D  E1          	pop	hl
2975  0D2E  1A          	ld	a,(de)
2976  0D2F  56          	ld	d,(hl)
2977  0D30  E5          	push	hl
2978  0D31  C5          	push	bc
2979  0D32  33          	inc	sp
2980  0D33  5A          	ld	e,d
2981  0D34  57          	ld	d,a
2982  0D35  D5          	push	de
2983  0D36  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2984  0D39  FB          	ei
2985  0D3A  DD 66 05    	ld	h,(ix+5)
2986  0D3D  DD 6E 04    	ld	l,(ix+4)
2987  0D40  E5          	push	hl
2988  0D41  CD 00 00    	call	_spr_calc_index
2989  0D44  F1          	pop	af
2990  0D45  22 00 00    	ld	(_index0),hl
2991  0D48  01 00 00    	ld	bc,_scr_map
2992  0D4B  09          	add	hl,bc
2993  0D4C  7E          	ld	a,(hl)
2994  0D4D  B7          	or	a,a
2995  0D4E  20 0E       	jr	NZ,l_spr_add_anim_00111
2996  0D50  36 FF       	ld	(hl),0xff
2997  0D52  18 0A       	jr	l_spr_add_anim_00111
2998  0D54              l_spr_add_anim_00110:
2999  0D54  0C          	inc	c
3000  0D55  DD 71 FF    	ld	(ix-1),c
3001  0D58  79          	ld	a, c
3002  0D59  D6 08       	sub	a,0x08
3003  0D5B  DA AF 0C    	jp	C, l_spr_add_anim_00109
3004  0D5E              l_spr_add_anim_00111:
3005  0D5E  DD F9       	ld	sp, ix
3006  0D60  DD E1       	pop	ix
3007  0D62  C9          	ret
3008  0D63              	SECTION code_compiler
3009  0D63              ;	---------------------------------
3010  0D63              ; Function spr_play_anim
3011  0D63              ; ---------------------------------
3012  0D63              _spr_play_anim:
3013  0D63  CD 00 00    	call	___sdcc_enter_ix
3014  0D66  F5          	push	af
3015  0D67  F5          	push	af
3016  0D68  F5          	push	af
3017  0D69  F5          	push	af
3018  0D6A  DD 36 F8 00 	ld	(ix-8),0x00
3019  0D6E              l_spr_play_anim_00114:
3020  0D6E  01 00 00    	ld	bc,_anim_lin
3021  0D71  DD 6E F8    	ld	l,(ix-8)
3022  0D74  26 00       	ld	h,0x00
3023  0D76  09          	add	hl,bc
3024  0D77  DD 75 FE    	ld	(ix-2),l
3025  0D7A  DD 74 FF    	ld	(ix-1),h
3026  0D7D  4E          	ld	c, (hl)
3027  0D7E  0C          	inc	c
3028  0D7F  CA 8C 0E    	jp	Z,l_spr_play_anim_00115
3029  0D82  21 01 00    	ld	hl,0x0001
3030  0D85  CD 00 00    	call	_z80_delay_ms_fastcall
3031  0D88  01 00 00    	ld	bc,_anim_int
3032  0D8B  DD 6E F8    	ld	l,(ix-8)
3033  0D8E  26 00       	ld	h,0x00
3034  0D90  09          	add	hl,bc
3035  0D91  DD 75 FC    	ld	(ix-4),l
3036  0D94  DD 74 FD    	ld	(ix-3),h
3037  0D97  4E          	ld	c, (hl)
3038  0D98  3E 00       	ld	a, +((_anim_end) & 0xFF)
3039  0D9A  DD 86 F8    	add	a,(ix-8)
3040  0D9D  6F          	ld	l, a
3041  0D9E  3E 00       	ld	a, +((_anim_end) / 256)
3042  0DA0  CE 00       	adc	a,0x00
3043  0DA2  67          	ld	h, a
3044  0DA3  46          	ld	b, (hl)
3045  0DA4  79          	ld	a, c
3046  0DA5  90          	sub	a, b
3047  0DA6  30 41       	jr	NC,l_spr_play_anim_00109
3048  0DA8  76          	halt
3049  0DA9  F3          	di
3050  0DAA  3E 00       	ld	a, +((_anim_col) & 0xFF)
3051  0DAC  DD 86 F8    	add	a,(ix-8)
3052  0DAF  6F          	ld	l, a
3053  0DB0  3E 00       	ld	a, +((_anim_col) / 256)
3054  0DB2  CE 00       	adc	a,0x00
3055  0DB4  67          	ld	h, a
3056  0DB5  56          	ld	d, (hl)
3057  0DB6  DD 6E FE    	ld	l,(ix-2)
3058  0DB9  DD 66 FF    	ld	h,(ix-1)
3059  0DBC  4E          	ld	c, (hl)
3060  0DBD  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3061  0DBF  DD 86 F8    	add	a,(ix-8)
3062  0DC2  6F          	ld	l, a
3063  0DC3  3E 00       	ld	a, +((_anim_tile) / 256)
3064  0DC5  CE 00       	adc	a,0x00
3065  0DC7  67          	ld	h, a
3066  0DC8  5E          	ld	e, (hl)
3067  0DC9  DD 6E FC    	ld	l,(ix-4)
3068  0DCC  DD 66 FD    	ld	h,(ix-3)
3069  0DCF  6E          	ld	l, (hl)
3070  0DD0  7B          	ld	a, e
3071  0DD1  85          	add	a, l
3072  0DD2  47          	ld	b, a
3073  0DD3  D5          	push	de
3074  0DD4  33          	inc	sp
3075  0DD5  79          	ld	a, c
3076  0DD6  48          	ld	c,b
3077  0DD7  47          	ld	b,a
3078  0DD8  C5          	push	bc
3079  0DD9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3080  0DDC  FB          	ei
3081  0DDD  DD 6E FC    	ld	l,(ix-4)
3082  0DE0  DD 66 FD    	ld	h,(ix-3)
3083  0DE3  4E          	ld	c,(hl)
3084  0DE4  0C          	inc	c
3085  0DE5  71          	ld	(hl), c
3086  0DE6  C3 8C 0E    	jp	l_spr_play_anim_00115
3087  0DE9              l_spr_play_anim_00109:
3088  0DE9  01 00 00    	ld	bc,_anim_loop
3089  0DEC  DD 6E F8    	ld	l,(ix-8)
3090  0DEF  26 00       	ld	h,0x00
3091  0DF1  09          	add	hl,bc
3092  0DF2  DD 75 FA    	ld	(ix-6),l
3093  0DF5  DD 74 FB    	ld	(ix-5),h
3094  0DF8  7E          	ld	a, (hl)
3095  0DF9  DD 77 F9    	ld	(ix-7),a
3096  0DFC  B7          	or	a, a
3097  0DFD  20 7A       	jr	NZ,l_spr_play_anim_00106
3098  0DFF  21 00 00    	ld	hl,_anim_count
3099  0E02  35          	dec	(hl)
3100  0E03  3E 00       	ld	a, +((_anim_col) & 0xFF)
3101  0E05  DD 86 F8    	add	a,(ix-8)
3102  0E08  6F          	ld	l, a
3103  0E09  3E 00       	ld	a, +((_anim_col) / 256)
3104  0E0B  CE 00       	adc	a,0x00
3105  0E0D  67          	ld	h, a
3106  0E0E  7E          	ld	a, (hl)
3107  0E0F  32 00 00    	ld	(_s_col0),a
3108  0E12  DD 6E FE    	ld	l,(ix-2)
3109  0E15  DD 66 FF    	ld	h,(ix-1)
3110  0E18  7E          	ld	a, (hl)
3111  0E19  32 00 00    	ld	(_s_lin0),a
3112  0E1C  2A FF FF    	ld	hl,(_s_col0 - 1)
3113  0E1F  6F          	ld	l,a
3114  0E20  E5          	push	hl
3115  0E21  CD 00 00    	call	_spr_calc_index
3116  0E24  F1          	pop	af
3117  0E25  2A FF FF    	ld	hl,(_s_col0 - 1)
3118  0E28  3A 00 00    	ld	a,(_s_lin0)
3119  0E2B  6F          	ld	l,a
3120  0E2C  E5          	push	hl
3121  0E2D  CD 00 00    	call	_spr_calc_index
3122  0E30  F1          	pop	af
3123  0E31  01 00 00    	ld	bc,_scr_map
3124  0E34  09          	add	hl,bc
3125  0E35  4E          	ld	c, (hl)
3126  0E36  0C          	inc	c
3127  0E37  20 1D       	jr	NZ,l_spr_play_anim_00102
3128  0E39  2A FF FF    	ld	hl,(_s_col0 - 1)
3129  0E3C  3A 00 00    	ld	a,(_s_lin0)
3130  0E3F  6F          	ld	l,a
3131  0E40  E5          	push	hl
3132  0E41  CD 00 00    	call	_spr_calc_index
3133  0E44  F1          	pop	af
3134  0E45  22 00 00    	ld	(_index0),hl
3135  0E48  01 00 00    	ld	bc,_scr_map
3136  0E4B  09          	add	hl,bc
3137  0E4C  E5          	push	hl
3138  0E4D  2A 00 00    	ld	hl,(_index0)
3139  0E50  CD 00 00    	call	_game_match_back
3140  0E53  C1          	pop	bc
3141  0E54  7D          	ld	a,l
3142  0E55  02          	ld	(bc), a
3143  0E56              l_spr_play_anim_00102:
3144  0E56  76          	halt
3145  0E57  CD 69 0A    	call	_spr_back_repaint
3146  0E5A  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3147  0E5C  DD 86 F8    	add	a,(ix-8)
3148  0E5F  4F          	ld	c, a
3149  0E60  3E 00       	ld	a, +((_anim_respanwn) / 256)
3150  0E62  CE 00       	adc	a,0x00
3151  0E64  47          	ld	b, a
3152  0E65  0A          	ld	a, (bc)
3153  0E66  B7          	or	a, a
3154  0E67  28 06       	jr	Z,l_spr_play_anim_00104
3155  0E69  DD 6E F8    	ld	l,(ix-8)
3156  0E6C  CD 00 00    	call	_enemy_respawn
3157  0E6F              l_spr_play_anim_00104:
3158  0E6F  DD 6E FE    	ld	l,(ix-2)
3159  0E72  DD 66 FF    	ld	h,(ix-1)
3160  0E75  36 FF       	ld	(hl),0xff
3161  0E77  18 13       	jr	l_spr_play_anim_00115
3162  0E79              l_spr_play_anim_00106:
3163  0E79  DD 4E F9    	ld	c,(ix-7)
3164  0E7C  0D          	dec	c
3165  0E7D  DD 6E FA    	ld	l,(ix-6)
3166  0E80  DD 66 FB    	ld	h,(ix-5)
3167  0E83  71          	ld	(hl), c
3168  0E84  DD 6E FC    	ld	l,(ix-4)
3169  0E87  DD 66 FD    	ld	h,(ix-3)
3170  0E8A  36 00       	ld	(hl),0x00
3171  0E8C              l_spr_play_anim_00115:
3172  0E8C  DD 34 F8    	inc	(ix-8)
3173  0E8F  DD 7E F8    	ld	a,(ix-8)
3174  0E92  D6 08       	sub	a,0x08
3175  0E94  DA 6E 0D    	jp	C, l_spr_play_anim_00114
3176  0E97  DD F9       	ld	sp, ix
3177  0E99  DD E1       	pop	ix
3178  0E9B  C9          	ret
3179  0E9C              	SECTION code_compiler
3180  0E9C              ;	---------------------------------
3181  0E9C              ; Function spr_bullet_fireball
3182  0E9C              ; ---------------------------------
3183  0E9C              _spr_bullet_fireball:
3184  0E9C  CD 00 00    	call	___sdcc_enter_ix
3185  0E9F  3A 00 00    	ld	a,(_s_lin0)
3186  0EA2  4F          	ld	c,a
3187  0EA3  06 00       	ld	b,0x00
3188  0EA5  2A 00 00    	ld	hl,(_bullet)
3189  0EA8  60          	ld	h,b
3190  0EA9  11 00 00    	ld	de,_bullet_lin0
3191  0EAC  19          	add	hl,de
3192  0EAD  5E          	ld	e, (hl)
3193  0EAE  16 00       	ld	d,0x00
3194  0EB0  79          	ld	a, c
3195  0EB1  93          	sub	a, e
3196  0EB2  6F          	ld	l, a
3197  0EB3  78          	ld	a, b
3198  0EB4  9A          	sbc	a, d
3199  0EB5  67          	ld	h, a
3200  0EB6  CD 00 00    	call	_abs_fastcall
3201  0EB9  4D          	ld	c, l
3202  0EBA  44          	ld	b, h
3203  0EBB  21 00 00    	ld	hl,_s_lin0
3204  0EBE  5E          	ld	e, (hl)
3205  0EBF  3E 08       	ld	a,0x08
3206  0EC1  B9          	cp	a, c
3207  0EC2  3E 00       	ld	a,0x00
3208  0EC4  98          	sbc	a, b
3209  0EC5  E2 CA 0E    	jp	PO, l_spr_bullet_fireball_00110
3210  0EC8  EE 80       	xor	a,0x80
3211  0ECA              l_spr_bullet_fireball_00110:
3212  0ECA  FA E3 0E    	jp	M, l_spr_bullet_fireball_00102
3213  0ECD  7B          	ld	a, e
3214  0ECE  DD 86 04    	add	a,(ix+4)
3215  0ED1  32 00 00    	ld	(_s_lin0),a
3216  0ED4  2A 00 00    	ld	hl,(_bullet)
3217  0ED7  26 00       	ld	h,0x00
3218  0ED9  01 00 00    	ld	bc,_bullet_lin
3219  0EDC  09          	add	hl,bc
3220  0EDD  3A 00 00    	ld	a,(_s_lin0)
3221  0EE0  77          	ld	(hl),a
3222  0EE1  18 21       	jr	l_spr_bullet_fireball_00104
3223  0EE3              l_spr_bullet_fireball_00102:
3224  0EE3  7B          	ld	a, e
3225  0EE4  DD 96 04    	sub	a,(ix+4)
3226  0EE7  32 00 00    	ld	(_s_lin0),a
3227  0EEA  2A 00 00    	ld	hl,(_bullet)
3228  0EED  26 00       	ld	h,0x00
3229  0EEF  01 00 00    	ld	bc,_bullet_lin
3230  0EF2  09          	add	hl,bc
3231  0EF3  3A 00 00    	ld	a,(_s_lin0)
3232  0EF6  77          	ld	(hl),a
3233  0EF7  2A 00 00    	ld	hl,(_bullet)
3234  0EFA  26 00       	ld	h,0x00
3235  0EFC  01 00 00    	ld	bc,_bullet_class
3236  0EFF  09          	add	hl,bc
3237  0F00  DD 7E 05    	ld	a,(ix+5)
3238  0F03  77          	ld	(hl),a
3239  0F04              l_spr_bullet_fireball_00104:
3240  0F04  DD E1       	pop	ix
3241  0F06  C9          	ret
3242  0F07              	SECTION code_compiler
3243  0F07              ;	---------------------------------
3244  0F07              ; Function spr_bullet_axe
3245  0F07              ; ---------------------------------
3246  0F07              _spr_bullet_axe:
3247  0F07  CD 00 00    	call	___sdcc_enter_ix
3248  0F0A  2A 00 00    	ld	hl,(_bullet)
3249  0F0D  F5          	push	af
3250  0F0E  26 00       	ld	h,0x00
3251  0F10  01 00 00    	ld	bc,_bullet_lin
3252  0F13  09          	add	hl,bc
3253  0F14  7E          	ld	a,(hl)
3254  0F15  32 00 00    	ld	(_s_lin0),a
3255  0F18  01 00 00    	ld	bc,_bullet_col+0
3256  0F1B  2A 00 00    	ld	hl,(_bullet)
3257  0F1E  26 00       	ld	h,0x00
3258  0F20  09          	add	hl,bc
3259  0F21  7E          	ld	a,(hl)
3260  0F22  C6 FF       	add	a,0xff
3261  0F24  32 00 00    	ld	(_s_col0),a
3262  0F27  D6 20       	sub	a,0x20
3263  0F29  30 05       	jr	NC,l_spr_bullet_axe_00102
3264  0F2B  C5          	push	bc
3265  0F2C  CD 69 0A    	call	_spr_back_repaint
3266  0F2F  C1          	pop	bc
3267  0F30              l_spr_bullet_axe_00102:
3268  0F30  2A 00 00    	ld	hl,(_bullet)
3269  0F33  26 00       	ld	h,0x00
3270  0F35  11 00 00    	ld	de,_bullet_vel
3271  0F38  19          	add	hl,de
3272  0F39  7E          	ld	a,(hl)
3273  0F3A  EB          	ex	de,hl
3274  0F3B  DD 77 FF    	ld	(ix-1),a
3275  0F3E  3A 00 00    	ld	a,(_game_gravity)
3276  0F41  DD 77 FE    	ld	(ix-2),a
3277  0F44  DD 7E FF    	ld	a,(ix-1)
3278  0F47  DD 86 FE    	add	a,(ix-2)
3279  0F4A  12          	ld	(de), a
3280  0F4B  2A 00 00    	ld	hl,(_bullet)
3281  0F4E  26 00       	ld	h,0x00
3282  0F50  11 00 00    	ld	de,_bullet_vel
3283  0F53  19          	add	hl,de
3284  0F54  5E          	ld	e, (hl)
3285  0F55  3E 78       	ld	a,0x78
3286  0F57  EB          	ex	de,hl
3287  0F58  95          	sub	a, l
3288  0F59  E2 5E 0F    	jp	PO, l_spr_bullet_axe_00134
3289  0F5C  EE 80       	xor	a,0x80
3290  0F5E              l_spr_bullet_axe_00134:
3291  0F5E  F2 64 0F    	jp	P, l_spr_bullet_axe_00104
3292  0F61  3E 78       	ld	a,0x78
3293  0F63  12          	ld	(de), a
3294  0F64              l_spr_bullet_axe_00104:
3295  0F64  2A 00 00    	ld	hl,(_bullet)
3296  0F67  26 00       	ld	h,0x00
3297  0F69  11 00 00    	ld	de,_bullet_vel
3298  0F6C  19          	add	hl,de
3299  0F6D  7E          	ld	a,(hl)
3300  0F6E  EB          	ex	de,hl
3301  0F6F  EE 80       	xor	a,0x80
3302  0F71  D6 08       	sub	a,0x08
3303  0F73  30 03       	jr	NC,l_spr_bullet_axe_00106
3304  0F75  3E 88       	ld	a,0x88
3305  0F77  12          	ld	(de), a
3306  0F78              l_spr_bullet_axe_00106:
3307  0F78  2A 00 00    	ld	hl,(_bullet)
3308  0F7B  26 00       	ld	h,0x00
3309  0F7D  11 00 00    	ld	de,_bullet_vel
3310  0F80  19          	add	hl,de
3311  0F81  7E          	ld	a,(hl)
3312  0F82  CB 47       	bit	0,a
3313  0F84  32 00 00    	ld	(_s_lin1),a
3314  0F87  28 04       	jr	Z,l_spr_bullet_axe_00108
3315  0F89  21 00 00    	ld	hl,_s_lin1
3316  0F8C  35          	dec	(hl)
3317  0F8D              l_spr_bullet_axe_00108:
3318  0F8D  2A 00 00    	ld	hl,(_bullet)
3319  0F90  26 00       	ld	h,0x00
3320  0F92  11 00 00    	ld	de,_bullet_lin
3321  0F95  19          	add	hl,de
3322  0F96  7E          	ld	a,(hl)
3323  0F97  EB          	ex	de,hl
3324  0F98  DD 77 FE    	ld	(ix-2),a
3325  0F9B  21 00 00    	ld	hl,_s_lin1
3326  0F9E  86          	add	a, (hl)
3327  0F9F  21 00 00    	ld	hl,_s_lin0
3328  0FA2  77          	ld	(hl), a
3329  0FA3  3E 90       	ld	a,0x90
3330  0FA5  96          	sub	a, (hl)
3331  0FA6  30 13       	jr	NC,l_spr_bullet_axe_00110
3332  0FA8  21 00 00    	ld	hl,_bullet_count
3333  0FAB  35          	dec	(hl)
3334  0FAC  79          	ld	a, c
3335  0FAD  21 00 00    	ld	hl,_bullet
3336  0FB0  86          	add	a, (hl)
3337  0FB1  4F          	ld	c, a
3338  0FB2  78          	ld	a, b
3339  0FB3  CE 00       	adc	a,0x00
3340  0FB5  47          	ld	b, a
3341  0FB6  3E FF       	ld	a,0xff
3342  0FB8  02          	ld	(bc), a
3343  0FB9  18 04       	jr	l_spr_bullet_axe_00112
3344  0FBB              l_spr_bullet_axe_00110:
3345  0FBB  3A 00 00    	ld	a,(_s_lin0)
3346  0FBE  12          	ld	(de), a
3347  0FBF              l_spr_bullet_axe_00112:
3348  0FBF  F1          	pop	af
3349  0FC0  DD E1       	pop	ix
3350  0FC2  C9          	ret
3351  0FC3              	SECTION code_compiler
3352  0FC3              ;	---------------------------------
3353  0FC3              ; Function spr_colision_b
3354  0FC3              ; ---------------------------------
3355  0FC3              _spr_colision_b:
3356  0FC3  CD 00 00    	call	___sdcc_enter_ix
3357  0FC6  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3358  0FC8  DD 86 05    	add	a,(ix+5)
3359  0FCB  4F          	ld	c, a
3360  0FCC  3E 00       	ld	a, +((_bullet_class) / 256)
3361  0FCE  CE 00       	adc	a,0x00
3362  0FD0  47          	ld	b, a
3363  0FD1  0A          	ld	a, (bc)
3364  0FD2  D6 04       	sub	a,0x04
3365  0FD4  20 69       	jr	NZ,l_spr_colision_b_00110
3366  0FD6  3E 00       	ld	a, +((_lin) & 0xFF)
3367  0FD8  DD 86 04    	add	a,(ix+4)
3368  0FDB  4F          	ld	c, a
3369  0FDC  3E 00       	ld	a, +((_lin) / 256)
3370  0FDE  CE 00       	adc	a,0x00
3371  0FE0  47          	ld	b, a
3372  0FE1  0A          	ld	a, (bc)
3373  0FE2  4F          	ld	c, a
3374  0FE3  06 00       	ld	b,0x00
3375  0FE5  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3376  0FE7  DD 86 05    	add	a,(ix+5)
3377  0FEA  5F          	ld	e, a
3378  0FEB  3E 00       	ld	a, +((_bullet_lin) / 256)
3379  0FED  CE 00       	adc	a,0x00
3380  0FEF  57          	ld	d, a
3381  0FF0  1A          	ld	a, (de)
3382  0FF1  5F          	ld	e, a
3383  0FF2  16 00       	ld	d,0x00
3384  0FF4  79          	ld	a, c
3385  0FF5  93          	sub	a, e
3386  0FF6  6F          	ld	l, a
3387  0FF7  78          	ld	a, b
3388  0FF8  9A          	sbc	a, d
3389  0FF9  67          	ld	h, a
3390  0FFA  CD 00 00    	call	_abs_fastcall
3391  0FFD  7D          	ld	a,l
3392  0FFE  D6 10       	sub	a,0x10
3393  1000  7C          	ld	a,h
3394  1001  17          	rla
3395  1002  3F          	ccf
3396  1003  1F          	rra
3397  1004  DE 80       	sbc	a,0x80
3398  1006  D2 AA 10    	jp	NC, l_spr_colision_b_00111
3399  1009  3E 00       	ld	a, +((_col) & 0xFF)
3400  100B  DD 86 04    	add	a,(ix+4)
3401  100E  4F          	ld	c, a
3402  100F  3E 00       	ld	a, +((_col) / 256)
3403  1011  CE 00       	adc	a,0x00
3404  1013  47          	ld	b, a
3405  1014  0A          	ld	a, (bc)
3406  1015  4F          	ld	c, a
3407  1016  06 00       	ld	b,0x00
3408  1018  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3409  101A  DD 86 05    	add	a,(ix+5)
3410  101D  5F          	ld	e, a
3411  101E  3E 00       	ld	a, +((_bullet_col) / 256)
3412  1020  CE 00       	adc	a,0x00
3413  1022  57          	ld	d, a
3414  1023  1A          	ld	a, (de)
3415  1024  5F          	ld	e, a
3416  1025  16 00       	ld	d,0x00
3417  1027  79          	ld	a, c
3418  1028  93          	sub	a, e
3419  1029  6F          	ld	l, a
3420  102A  78          	ld	a, b
3421  102B  9A          	sbc	a, d
3422  102C  67          	ld	h, a
3423  102D  CD 00 00    	call	_abs_fastcall
3424  1030  7D          	ld	a,l
3425  1031  D6 02       	sub	a,0x02
3426  1033  7C          	ld	a,h
3427  1034  17          	rla
3428  1035  3F          	ccf
3429  1036  1F          	rra
3430  1037  DE 80       	sbc	a,0x80
3431  1039  30 6F       	jr	NC,l_spr_colision_b_00111
3432  103B  2E 01       	ld	l,0x01
3433  103D  18 6D       	jr	l_spr_colision_b_00112
3434  103F              l_spr_colision_b_00110:
3435  103F  3E 00       	ld	a, +((_lin) & 0xFF)
3436  1041  DD 86 04    	add	a,(ix+4)
3437  1044  4F          	ld	c, a
3438  1045  3E 00       	ld	a, +((_lin) / 256)
3439  1047  CE 00       	adc	a,0x00
3440  1049  47          	ld	b, a
3441  104A  0A          	ld	a, (bc)
3442  104B  4F          	ld	c, a
3443  104C  06 00       	ld	b,0x00
3444  104E  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3445  1050  DD 86 05    	add	a,(ix+5)
3446  1053  5F          	ld	e, a
3447  1054  3E 00       	ld	a, +((_bullet_lin) / 256)
3448  1056  CE 00       	adc	a,0x00
3449  1058  57          	ld	d, a
3450  1059  1A          	ld	a, (de)
3451  105A  5F          	ld	e, a
3452  105B  16 00       	ld	d,0x00
3453  105D  79          	ld	a, c
3454  105E  93          	sub	a, e
3455  105F  6F          	ld	l, a
3456  1060  78          	ld	a, b
3457  1061  9A          	sbc	a, d
3458  1062  67          	ld	h, a
3459  1063  CD 00 00    	call	_abs_fastcall
3460  1066  3E 08       	ld	a,0x08
3461  1068  BD          	cp	a,l
3462  1069  3E 00       	ld	a,0x00
3463  106B  9C          	sbc	a,h
3464  106C  E2 71 10    	jp	PO, l_spr_colision_b_00136
3465  106F  EE 80       	xor	a,0x80
3466  1071              l_spr_colision_b_00136:
3467  1071  FA AA 10    	jp	M, l_spr_colision_b_00111
3468  1074  3E 00       	ld	a, +((_col) & 0xFF)
3469  1076  DD 86 04    	add	a,(ix+4)
3470  1079  4F          	ld	c, a
3471  107A  3E 00       	ld	a, +((_col) / 256)
3472  107C  CE 00       	adc	a,0x00
3473  107E  47          	ld	b, a
3474  107F  0A          	ld	a, (bc)
3475  1080  4F          	ld	c, a
3476  1081  06 00       	ld	b,0x00
3477  1083  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3478  1085  DD 86 05    	add	a,(ix+5)
3479  1088  5F          	ld	e, a
3480  1089  3E 00       	ld	a, +((_bullet_col) / 256)
3481  108B  CE 00       	adc	a,0x00
3482  108D  57          	ld	d, a
3483  108E  1A          	ld	a, (de)
3484  108F  5F          	ld	e, a
3485  1090  16 00       	ld	d,0x00
3486  1092  79          	ld	a, c
3487  1093  93          	sub	a, e
3488  1094  6F          	ld	l, a
3489  1095  78          	ld	a, b
3490  1096  9A          	sbc	a, d
3491  1097  67          	ld	h, a
3492  1098  CD 00 00    	call	_abs_fastcall
3493  109B  7D          	ld	a,l
3494  109C  D6 02       	sub	a,0x02
3495  109E  7C          	ld	a,h
3496  109F  17          	rla
3497  10A0  3F          	ccf
3498  10A1  1F          	rra
3499  10A2  DE 80       	sbc	a,0x80
3500  10A4  30 04       	jr	NC,l_spr_colision_b_00111
3501  10A6  2E 01       	ld	l,0x01
3502  10A8  18 02       	jr	l_spr_colision_b_00112
3503  10AA              l_spr_colision_b_00111:
3504  10AA  2E 00       	ld	l,0x00
3505  10AC              l_spr_colision_b_00112:
3506  10AC  DD E1       	pop	ix
3507  10AE  C9          	ret
3508  10AF              	SECTION code_compiler
3509  10AF              ;	---------------------------------
3510  10AF              ; Function spr_colision_b2
3511  10AF              ; ---------------------------------
3512  10AF              _spr_colision_b2:
3513  10AF  3A 00 00    	ld	a,(_boss_lin)
3514  10B2  5F          	ld	e,a
3515  10B3  16 00       	ld	d,0x00
3516  10B5  01 07 00    	ld	bc,_bullet_lin+7
3517  10B8  0A          	ld	a, (bc)
3518  10B9  6F          	ld	l, a
3519  10BA  AF          	xor	a,a
3520  10BB  67          	ld	h,a
3521  10BC  EB          	ex	de,hl
3522  10BD  ED 52       	sbc	hl,de
3523  10BF  CD 00 00    	call	_abs_fastcall
3524  10C2  EB          	ex	de,hl
3525  10C3  7B          	ld	a, e
3526  10C4  D6 20       	sub	a,0x20
3527  10C6  7A          	ld	a, d
3528  10C7  17          	rla
3529  10C8  3F          	ccf
3530  10C9  1F          	rra
3531  10CA  DE 80       	sbc	a,0x80
3532  10CC  30 2A       	jr	NC,l_spr_colision_b2_00106
3533  10CE  0A          	ld	a, (bc)
3534  10CF  21 00 00    	ld	hl,_boss_lin
3535  10D2  96          	sub	a, (hl)
3536  10D3  38 23       	jr	C,l_spr_colision_b2_00106
3537  10D5  3A 00 00    	ld	a,(_boss_col)
3538  10D8  4F          	ld	c,a
3539  10D9  06 00       	ld	b,0x00
3540  10DB  ED 5B 07 00 	ld	de,(_bullet_col + 0x0007)
3541  10DF  50          	ld	d,b
3542  10E0  79          	ld	a, c
3543  10E1  93          	sub	a, e
3544  10E2  6F          	ld	l, a
3545  10E3  78          	ld	a, b
3546  10E4  9A          	sbc	a, d
3547  10E5  67          	ld	h, a
3548  10E6  CD 00 00    	call	_abs_fastcall
3549  10E9  7D          	ld	a,l
3550  10EA  D6 02       	sub	a,0x02
3551  10EC  7C          	ld	a,h
3552  10ED  17          	rla
3553  10EE  3F          	ccf
3554  10EF  1F          	rra
3555  10F0  DE 80       	sbc	a,0x80
3556  10F2  30 04       	jr	NC,l_spr_colision_b2_00106
3557  10F4  2E 01       	ld	l,0x01
3558  10F6  18 02       	jr	l_spr_colision_b2_00107
3559  10F8              l_spr_colision_b2_00106:
3560  10F8  2E 00       	ld	l,0x00
3561  10FA              l_spr_colision_b2_00107:
3562  10FA  C9          	ret
3563  10FB              	SECTION code_compiler
3564  10FB              ;	---------------------------------
3565  10FB              ; Function spr_bullets_play
3566  10FB              ; ---------------------------------
3567  10FB              _spr_bullets_play:
3568  10FB  CD 00 00    	call	___sdcc_enter_ix
3569  10FE  21 F7 FF    	ld	hl, -9
3570  1101  39          	add	hl, sp
3571  1102  F9          	ld	sp, hl
3572  1103  21 00 00    	ld	hl,_bullet
3573  1106  36 00       	ld	(hl),0x00
3574  1108              l_spr_bullets_play_00143:
3575  1108  2A 00 00    	ld	hl,(_bullet)
3576  110B  26 00       	ld	h,0x00
3577  110D  01 00 00    	ld	bc,_bullet_col
3578  1110  09          	add	hl,bc
3579  1111  7E          	ld	a,(hl)
3580  1112  21 00 00    	ld	hl,_bullet
3581  1115  DD 77 FA    	ld	(ix-6),a
3582  1118  3C          	inc	a
3583  1119  CA F2 13    	jp	Z,l_spr_bullets_play_00141
3584  111C  4E          	ld	c,(hl)
3585  111D  06 00       	ld	b,0x00
3586  111F  21 00 00    	ld	hl,_bullet_lin
3587  1122  09          	add	hl,bc
3588  1123  7E          	ld	a,(hl)
3589  1124  32 00 00    	ld	(_s_lin0),a
3590  1127  DD 7E FA    	ld	a,(ix-6)
3591  112A  32 00 00    	ld	(_s_col0),a
3592  112D  DD 77 F7    	ld	(ix-9),a
3593  1130  CD 69 0A    	call	_spr_back_repaint
3594  1133  2A 00 00    	ld	hl,(_bullet)
3595  1136  26 00       	ld	h,0x00
3596  1138  01 00 00    	ld	bc,_bullet_class
3597  113B  09          	add	hl,bc
3598  113C  7E          	ld	a,(hl)
3599  113D  FE 02       	cp	a,0x02
3600  113F  28 0A       	jr	Z,l_spr_bullets_play_00103
3601  1141  FE 03       	cp	a,0x03
3602  1143  28 10       	jr	Z,l_spr_bullets_play_00104
3603  1145  D6 04       	sub	a,0x04
3604  1147  28 16       	jr	Z,l_spr_bullets_play_00105
3605  1149  18 25       	jr	l_spr_bullets_play_00108
3606  114B              l_spr_bullets_play_00103:
3607  114B  21 FE 03    	ld	hl,0x03fe
3608  114E  E5          	push	hl
3609  114F  CD 9C 0E    	call	_spr_bullet_fireball
3610  1152  F1          	pop	af
3611  1153  18 1B       	jr	l_spr_bullets_play_00108
3612  1155              l_spr_bullets_play_00104:
3613  1155  21 02 02    	ld	hl,0x0202
3614  1158  E5          	push	hl
3615  1159  CD 9C 0E    	call	_spr_bullet_fireball
3616  115C  F1          	pop	af
3617  115D  18 11       	jr	l_spr_bullets_play_00108
3618  115F              l_spr_bullets_play_00105:
3619  115F  CD 07 0F    	call	_spr_bullet_axe
3620  1162  2A 00 00    	ld	hl,(_bullet)
3621  1165  26 00       	ld	h,0x00
3622  1167  01 00 00    	ld	bc,_bullet_col
3623  116A  09          	add	hl,bc
3624  116B  7E          	ld	a,(hl)
3625  116C  3C          	inc	a
3626  116D  CA F2 13    	jp	Z,l_spr_bullets_play_00141
3627  1170              l_spr_bullets_play_00108:
3628  1170  2A 00 00    	ld	hl,(_bullet)
3629  1173  26 00       	ld	h,0x00
3630  1175  01 00 00    	ld	bc,_bullet_dir
3631  1178  09          	add	hl,bc
3632  1179  5E          	ld	e, (hl)
3633  117A  2A 00 00    	ld	hl,(_bullet)
3634  117D  26 00       	ld	h,0x00
3635  117F  01 00 00    	ld	bc,_bullet_colint
3636  1182  09          	add	hl,bc
3637  1183  7E          	ld	a,(hl)
3638  1184  4D          	ld	c,l
3639  1185  44          	ld	b,h
3640  1186  21 00 00    	ld	hl,_bullet
3641  1189  DD 77 FA    	ld	(ix-6),a
3642  118C  1C          	inc	e
3643  118D  20 42       	jr	NZ,l_spr_bullets_play_00118
3644  118F  DD 7E FA    	ld	a,(ix-6)
3645  1192  3C          	inc	a
3646  1193  02          	ld	(bc), a
3647  1194  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3648  1196  86          	add	a, (hl)
3649  1197  4F          	ld	c, a
3650  1198  3E 00       	ld	a, +((_bullet_colint) / 256)
3651  119A  CE 00       	adc	a,0x00
3652  119C  47          	ld	b, a
3653  119D  0A          	ld	a, (bc)
3654  119E  DD 77 FF    	ld	(ix-1),a
3655  11A1  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3656  11A3  86          	add	a, (hl)
3657  11A4  5F          	ld	e, a
3658  11A5  3E 00       	ld	a, +((_bullet_frames) / 256)
3659  11A7  CE 00       	adc	a,0x00
3660  11A9  57          	ld	d, a
3661  11AA  1A          	ld	a, (de)
3662  11AB  5F          	ld	e, a
3663  11AC  DD 7E FF    	ld	a,(ix-1)
3664  11AF  93          	sub	a, e
3665  11B0  38 61       	jr	C,l_spr_bullets_play_00119
3666  11B2  5E          	ld	e,(hl)
3667  11B3  16 00       	ld	d,0x00
3668  11B5  21 00 00    	ld	hl,_bullet_col
3669  11B8  19          	add	hl,de
3670  11B9  7E          	ld	a,(hl)
3671  11BA  3C          	inc	a
3672  11BB  DD 77 F7    	ld	(ix-9),a
3673  11BE  AF          	xor	a, a
3674  11BF  02          	ld	(bc), a
3675  11C0  DD 7E F7    	ld	a,(ix-9)
3676  11C3  E6 01       	and	a,0x01
3677  11C5  3D          	dec	a
3678  11C6  20 4B       	jr	NZ,l_spr_bullets_play_00119
3679  11C8  DD 7E F7    	ld	a,(ix-9)
3680  11CB  3C          	inc	a
3681  11CC  32 00 00    	ld	(_s_col0),a
3682  11CF  18 42       	jr	l_spr_bullets_play_00119
3683  11D1              l_spr_bullets_play_00118:
3684  11D1  DD 5E FA    	ld	e,(ix-6)
3685  11D4  1D          	dec	e
3686  11D5  7B          	ld	a, e
3687  11D6  02          	ld	(bc), a
3688  11D7  2A 00 00    	ld	hl,(_bullet)
3689  11DA  26 00       	ld	h,0x00
3690  11DC  01 00 00    	ld	bc,_bullet_colint
3691  11DF  09          	add	hl,bc
3692  11E0  7E          	ld	a,(hl)
3693  11E1  3C          	inc	a
3694  11E2  20 2F       	jr	NZ,l_spr_bullets_play_00119
3695  11E4  4D          	ld	c,l
3696  11E5  44          	ld	b,h
3697  11E6  2A 00 00    	ld	hl,(_bullet)
3698  11E9  26 00       	ld	h,0x00
3699  11EB  11 00 00    	ld	de,_bullet_col
3700  11EE  19          	add	hl,de
3701  11EF  7E          	ld	a,(hl)
3702  11F0  C6 FF       	add	a,0xff
3703  11F2  21 00 00    	ld	hl,_bullet
3704  11F5  DD 77 F7    	ld	(ix-9),a
3705  11F8  5E          	ld	e,(hl)
3706  11F9  16 00       	ld	d,0x00
3707  11FB  21 00 00    	ld	hl,_bullet_frames
3708  11FE  19          	add	hl,de
3709  11FF  7E          	ld	a,(hl)
3710  1200  C6 FF       	add	a,0xff
3711  1202  02          	ld	(bc), a
3712  1203  DD 7E F7    	ld	a,(ix-9)
3713  1206  E6 01       	and	a,0x01
3714  1208  3D          	dec	a
3715  1209  20 08       	jr	NZ,l_spr_bullets_play_00119
3716  120B  DD 7E F7    	ld	a,(ix-9)
3717  120E  C6 FF       	add	a,0xff
3718  1210  32 00 00    	ld	(_s_col0),a
3719  1213              l_spr_bullets_play_00119:
3720  1213  2A 00 00    	ld	hl,(_bullet)
3721  1216  26 00       	ld	h,0x00
3722  1218  01 00 00    	ld	bc,_bullet_max
3723  121B  09          	add	hl,bc
3724  121C  7E          	ld	a,(hl)
3725  121D  B7          	or	a,a
3726  121E  28 61       	jr	Z,l_spr_bullets_play_00123
3727  1220  21 00 00    	ld	hl,_bullet
3728  1223  DD 7E F7    	ld	a,(ix-9)
3729  1226  DD 77 FD    	ld	(ix-3),a
3730  1229  DD 36 FE 00 	ld	(ix-2),0x00
3731  122D  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3732  122F  86          	add	a, (hl)
3733  1230  DD 77 FB    	ld	(ix-5),a
3734  1233  6F          	ld	l,a
3735  1234  3E 00       	ld	a,+((_bullet_col0) / 256)
3736  1236  CE 00       	adc	a,0x00
3737  1238  DD 77 FC    	ld	(ix-4),a
3738  123B  67          	ld	h,a
3739  123C  7E          	ld	a, (hl)
3740  123D  DD 77 FB    	ld	(ix-5),a
3741  1240  DD 36 FC 00 	ld	(ix-4),0x00
3742  1244  DD 7E FD    	ld	a,(ix-3)
3743  1247  DD 96 FB    	sub	a,(ix-5)
3744  124A  DD 77 FB    	ld	(ix-5),a
3745  124D  6F          	ld	l,a
3746  124E  DD 7E FE    	ld	a,(ix-2)
3747  1251  DD 9E FC    	sbc	a,(ix-4)
3748  1254  DD 77 FC    	ld	(ix-4),a
3749  1257  67          	ld	h,a
3750  1258  CD 00 00    	call	_abs_fastcall
3751  125B  7D          	ld	a,l
3752  125C  32 00 00    	ld	(_tmp0),a
3753  125F  2A 00 00    	ld	hl,(_bullet)
3754  1262  26 00       	ld	h,0x00
3755  1264  01 00 00    	ld	bc,_bullet_max
3756  1267  09          	add	hl,bc
3757  1268  7E          	ld	a,(hl)
3758  1269  21 00 00    	ld	hl,_tmp0
3759  126C  96          	sub	a, (hl)
3760  126D  30 12       	jr	NC,l_spr_bullets_play_00123
3761  126F  21 00 00    	ld	hl,_bullet_count
3762  1272  35          	dec	(hl)
3763  1273  2A 00 00    	ld	hl,(_bullet)
3764  1276  26 00       	ld	h,0x00
3765  1278  01 00 00    	ld	bc,_bullet_col
3766  127B  09          	add	hl,bc
3767  127C  36 FF       	ld	(hl),0xff
3768  127E  C3 F2 13    	jp	l_spr_bullets_play_00141
3769  1281              l_spr_bullets_play_00123:
3770  1281  2A 00 00    	ld	hl,(_bullet)
3771  1284  26 00       	ld	h,0x00
3772  1286  01 00 00    	ld	bc,_bullet_col
3773  1289  09          	add	hl,bc
3774  128A  3E 1E       	ld	a,0x1e
3775  128C  DD 96 F7    	sub	a,(ix-9)
3776  128F  4D          	ld	c,l
3777  1290  44          	ld	b,h
3778  1291  30 0A       	jr	NC,l_spr_bullets_play_00125
3779  1293  21 00 00    	ld	hl,_bullet_count
3780  1296  35          	dec	(hl)
3781  1297  3E FF       	ld	a,0xff
3782  1299  02          	ld	(bc), a
3783  129A  C3 F2 13    	jp	l_spr_bullets_play_00141
3784  129D              l_spr_bullets_play_00125:
3785  129D  0A          	ld	a, (bc)
3786  129E  4F          	ld	c, a
3787  129F  DD 7E F7    	ld	a,(ix-9)
3788  12A2  91          	sub	a, c
3789  12A3  CA 8C 13    	jp	Z,l_spr_bullets_play_00137
3790  12A6  3A 00 00    	ld	a,(_s_lin0)
3791  12A9  C6 08       	add	a,0x08
3792  12AB  4F          	ld	c, a
3793  12AC  3A 00 00    	ld	a, (_s_col0)
3794  12AF  47          	ld	b,a
3795  12B0  C5          	push	bc
3796  12B1  CD 00 00    	call	_spr_calc_index
3797  12B4  F1          	pop	af
3798  12B5  22 00 00    	ld	(_index0),hl
3799  12B8  3E 00       	ld	a,+((_scr_map) & 0xFF)
3800  12BA  21 00 00    	ld	hl,_index0
3801  12BD  86          	add	a, (hl)
3802  12BE  DD 77 FB    	ld	(ix-5),a
3803  12C1  3E 00       	ld	a, +((_scr_map) / 256)
3804  12C3  23          	inc	hl
3805  12C4  8E          	adc	a, (hl)
3806  12C5  DD 6E FB    	ld	l,(ix-5)
3807  12C8  DD 77 FC    	ld	(ix-4),a
3808  12CB  67          	ld	h,a
3809  12CC  7E          	ld	a, (hl)
3810  12CD  DD 77 FD    	ld	(ix-3),a
3811  12D0  D6 4D       	sub	a,0x4d
3812  12D2  C2 54 13    	jp	NZ,l_spr_bullets_play_00127
3813  12D5  3A 00 00    	ld	a,(_bullet)
3814  12D8  D6 07       	sub	a,0x07
3815  12DA  20 78       	jr	NZ,l_spr_bullets_play_00127
3816  12DC  2A 00 00    	ld	hl,(_index0)
3817  12DF  CD 00 00    	call	_game_match_back
3818  12E2  4D          	ld	c, l
3819  12E3  DD 6E FB    	ld	l,(ix-5)
3820  12E6  DD 66 FC    	ld	h,(ix-4)
3821  12E9  71          	ld	(hl), c
3822  12EA  2A 00 00    	ld	hl,(_index0)
3823  12ED  CD 00 00    	call	_game_obj_set
3824  12F0  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3825  12F2  21 00 00    	ld	hl,_bullet
3826  12F5  86          	add	a, (hl)
3827  12F6  DD 77 FB    	ld	(ix-5),a
3828  12F9  3E 00       	ld	a, +((_bullet_lin) / 256)
3829  12FB  CE 00       	adc	a,0x00
3830  12FD  DD 77 FC    	ld	(ix-4),a
3831  1300  11 F8 FF    	ld	de,-8
3832  1303  21 00 00    	ld	hl,_index0
3833  1306  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
3834  1309  06 04       	ld	b,0x04
3835  130B              l_spr_bullets_play_00252:
3836  130B  DD CB F9 3E 	srl	(ix-7)
3837  130F  DD CB F8 1E 	rr	(ix-8)
3838  1313  10 F6       	djnz	l_spr_bullets_play_00252
3839  1315  DD 7E F8    	ld	a,(ix-8)
3840  1318  07          	rlca
3841  1319  07          	rlca
3842  131A  07          	rlca
3843  131B  07          	rlca
3844  131C  E6 F0       	and	a,0xf0
3845  131E  DD 77 F8    	ld	(ix-8),a
3846  1321  DD 6E FB    	ld	l,(ix-5)
3847  1324  DD 66 FC    	ld	h,(ix-4)
3848  1327  DD 7E F8    	ld	a,(ix-8)
3849  132A  77          	ld	(hl), a
3850  132B  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3851  132D  21 00 00    	ld	hl,_bullet
3852  1330  86          	add	a, (hl)
3853  1331  DD 77 F8    	ld	(ix-8),a
3854  1334  3E 00       	ld	a, +((_bullet_col) / 256)
3855  1336  CE 00       	adc	a,0x00
3856  1338  DD 77 F9    	ld	(ix-7),a
3857  133B  3A 00 00    	ld	a,(_index0)
3858  133E  E6 0F       	and	a,0x0f
3859  1340  87          	add	a,a
3860  1341  DD 77 FB    	ld	(ix-5),a
3861  1344  DD 6E F8    	ld	l,(ix-8)
3862  1347  DD 66 F9    	ld	h,(ix-7)
3863  134A  DD 7E FB    	ld	a,(ix-5)
3864  134D  77          	ld	(hl), a
3865  134E  CD 9A 14    	call	_spr_bullet_explode
3866  1351  C3 F2 13    	jp	l_spr_bullets_play_00141
3867  1354              l_spr_bullets_play_00127:
3868  1354  DD 7E FD    	ld	a,(ix-3)
3869  1357  D6 48       	sub	a,0x48
3870  1359  38 0C       	jr	C,l_spr_bullets_play_00130
3871  135B  DD 7E FD    	ld	a,(ix-3)
3872  135E  3C          	inc	a
3873  135F  28 06       	jr	Z,l_spr_bullets_play_00130
3874  1361  CD 9A 14    	call	_spr_bullet_explode
3875  1364  C3 F2 13    	jp	l_spr_bullets_play_00141
3876  1367              l_spr_bullets_play_00130:
3877  1367  2A 00 00    	ld	hl,(_bullet)
3878  136A  26 00       	ld	h,0x00
3879  136C  01 00 00    	ld	bc,_bullet_col
3880  136F  09          	add	hl,bc
3881  1370  4D          	ld	c,l
3882  1371  44          	ld	b,h
3883  1372  21 00 00    	ld	hl,_bullet
3884  1375  DD 7E F7    	ld	a,(ix-9)
3885  1378  02          	ld	(bc), a
3886  1379  7E          	ld	a, (hl)
3887  137A  D6 07       	sub	a,0x07
3888  137C  20 0B       	jr	NZ,l_spr_bullets_play_00133
3889  137E  3A 07 00    	ld	a, (_bullet_col + 7)
3890  1381  3C          	inc	a
3891  1382  28 05       	jr	Z,l_spr_bullets_play_00133
3892  1384  CD 30 14    	call	_spr_bullet_player_colision
3893  1387  18 03       	jr	l_spr_bullets_play_00137
3894  1389              l_spr_bullets_play_00133:
3895  1389  CD 02 14    	call	_spr_bullet_enemy_colision
3896  138C              l_spr_bullets_play_00137:
3897  138C  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3898  138E  21 00 00    	ld	hl,_bullet
3899  1391  86          	add	a, (hl)
3900  1392  DD 77 F8    	ld	(ix-8),a
3901  1395  6F          	ld	l,a
3902  1396  3E 00       	ld	a,+((_bullet_col) / 256)
3903  1398  CE 00       	adc	a,0x00
3904  139A  DD 77 F9    	ld	(ix-7),a
3905  139D  67          	ld	h,a
3906  139E  7E          	ld	a, (hl)
3907  139F  DD 77 F8    	ld	(ix-8),a
3908  13A2  3C          	inc	a
3909  13A3  28 4D       	jr	Z,l_spr_bullets_play_00141
3910  13A5  DD 7E F7    	ld	a,(ix-9)
3911  13A8  D6 20       	sub	a,0x20
3912  13AA  30 46       	jr	NC,l_spr_bullets_play_00141
3913  13AC  F3          	di
3914  13AD  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3915  13AF  21 00 00    	ld	hl,_bullet
3916  13B2  86          	add	a, (hl)
3917  13B3  DD 77 F8    	ld	(ix-8),a
3918  13B6  6F          	ld	l,a
3919  13B7  3E 00       	ld	a,+((_bullet_tile) / 256)
3920  13B9  CE 00       	adc	a,0x00
3921  13BB  DD 77 F9    	ld	(ix-7),a
3922  13BE  67          	ld	h,a
3923  13BF  7E          	ld	a, (hl)
3924  13C0  DD 77 F8    	ld	(ix-8),a
3925  13C3  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3926  13C5  21 00 00    	ld	hl,_bullet
3927  13C8  86          	add	a, (hl)
3928  13C9  DD 77 FB    	ld	(ix-5),a
3929  13CC  6F          	ld	l,a
3930  13CD  3E 00       	ld	a,+((_bullet_colint) / 256)
3931  13CF  CE 00       	adc	a,0x00
3932  13D1  DD 77 FC    	ld	(ix-4),a
3933  13D4  67          	ld	h,a
3934  13D5  7E          	ld	a, (hl)
3935  13D6  DD 77 FB    	ld	(ix-5),a
3936  13D9  DD 7E F8    	ld	a,(ix-8)
3937  13DC  DD 86 FB    	add	a,(ix-5)
3938  13DF  DD 77 F8    	ld	(ix-8),a
3939  13E2  DD 7E F7    	ld	a,(ix-9)
3940  13E5  F5          	push	af
3941  13E6  33          	inc	sp
3942  13E7  2A FF FF    	ld	hl,(_s_lin0-1)
3943  13EA  DD 6E F8    	ld	l,(ix-8)
3944  13ED  E5          	push	hl
3945  13EE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3946  13F1  FB          	ei
3947  13F2              l_spr_bullets_play_00141:
3948  13F2  21 00 00    	ld	hl,_bullet
3949  13F5  7E          	ld	a,(hl)
3950  13F6  3C          	inc	a
3951  13F7  77          	ld	(hl),a
3952  13F8  D6 08       	sub	a,0x08
3953  13FA  DA 08 11    	jp	C, l_spr_bullets_play_00143
3954  13FD  DD F9       	ld	sp, ix
3955  13FF  DD E1       	pop	ix
3956  1401  C9          	ret
3957  1402              	SECTION code_compiler
3958  1402              ;	---------------------------------
3959  1402              ; Function spr_bullet_enemy_colision
3960  1402              ; ---------------------------------
3961  1402              _spr_bullet_enemy_colision:
3962  1402  3A 00 00    	ld	a,(_bullet)
3963  1405  57          	ld	d,a
3964  1406  1E 07       	ld	e,0x07
3965  1408  D5          	push	de
3966  1409  CD C3 0F    	call	_spr_colision_b
3967  140C  F1          	pop	af
3968  140D  7D          	ld	a, l
3969  140E  B7          	or	a, a
3970  140F  C8          	ret	Z
3971  1410  21 00 00    	ld	hl,_ay_effect_06
3972  1413  CD 00 00    	call	_ay_fx_play
3973  1416  2E 03       	ld	l,0x03
3974  1418  CD 00 00    	call	_zx_border_fastcall
3975  141B  2A 00 00    	ld	hl,(_bullet)
3976  141E  26 00       	ld	h,0x00
3977  1420  01 00 00    	ld	bc,_bullet_col
3978  1423  09          	add	hl,bc
3979  1424  3A 00 00    	ld	a,(_s_col0)
3980  1427  77          	ld	(hl),a
3981  1428  CD 9A 14    	call	_spr_bullet_explode
3982  142B  2E 0A       	ld	l,0x0a
3983  142D  C3 00 00    	jp  _player_hit
3984  1430              	SECTION code_compiler
3985  1430              ;	---------------------------------
3986  1430              ; Function spr_bullet_player_colision
3987  1430              ; ---------------------------------
3988  1430              _spr_bullet_player_colision:
3989  1430  CD 00 00    	call	___sdcc_enter_ix
3990  1433  3B          	dec	sp
3991  1434  0E 00       	ld	c,0x00
3992  1436  DD 71 FF    	ld	(ix-1),c
3993  1439              l_spr_bullet_player_colision_00104:
3994  1439  79          	ld	a, c
3995  143A  D6 07       	sub	a,0x07
3996  143C  30 38       	jr	NC,l_spr_bullet_player_colision_00106
3997  143E  06 00       	ld	b,0x00
3998  1440  21 00 00    	ld	hl,_class
3999  1443  09          	add	hl, bc
4000  1444  7E          	ld	a, (hl)
4001  1445  B7          	or	a, a
4002  1446  28 28       	jr	Z,l_spr_bullet_player_colision_00102
4003  1448  3A 00 00    	ld	a,(_bullet)
4004  144B  C5          	push	bc
4005  144C  F5          	push	af
4006  144D  33          	inc	sp
4007  144E  79          	ld	a, c
4008  144F  F5          	push	af
4009  1450  33          	inc	sp
4010  1451  CD C3 0F    	call	_spr_colision_b
4011  1454  F1          	pop	af
4012  1455  C1          	pop	bc
4013  1456  7D          	ld	a,l
4014  1457  B7          	or	a, a
4015  1458  28 16       	jr	Z,l_spr_bullet_player_colision_00102
4016  145A  CD 00 00    	call	_rand
4017  145D  01 06 00    	ld	bc,0x0006
4018  1460  C5          	push	bc
4019  1461  E5          	push	hl
4020  1462  CD 00 00    	call	__modsint_callee
4021  1465  CD 00 00    	call	_player_score_add
4022  1468  DD 6E FF    	ld	l,(ix-1)
4023  146B  CD 00 00    	call	_enemy_kill
4024  146E  18 06       	jr	l_spr_bullet_player_colision_00106
4025  1470              l_spr_bullet_player_colision_00102:
4026  1470  0C          	inc	c
4027  1471  DD 71 FF    	ld	(ix-1),c
4028  1474  18 C3       	jr	l_spr_bullet_player_colision_00104
4029  1476              l_spr_bullet_player_colision_00106:
4030  1476  3A 00 00    	ld	a,(_game_boss)
4031  1479  B7          	or	a, a
4032  147A  28 1A       	jr	Z,l_spr_bullet_player_colision_00113
4033  147C  CD AF 10    	call	_spr_colision_b2
4034  147F  7D          	ld	a, l
4035  1480  B7          	or	a, a
4036  1481  28 13       	jr	Z,l_spr_bullet_player_colision_00113
4037  1483  CD 9A 14    	call	_spr_bullet_explode
4038  1486  21 00 00    	ld	hl,_game_boss_hit
4039  1489  35          	dec	(hl)
4040  148A  CD 00 00    	call	_game_update_stats
4041  148D  3A 00 00    	ld	a,(_game_boss_hit)
4042  1490  B7          	or	a, a
4043  1491  20 03       	jr	NZ,l_spr_bullet_player_colision_00113
4044  1493  CD 00 00    	call	_game_boss_kill
4045  1496              l_spr_bullet_player_colision_00113:
4046  1496  33          	inc	sp
4047  1497  DD E1       	pop	ix
4048  1499  C9          	ret
4049  149A              	SECTION code_compiler
4050  149A              ;	---------------------------------
4051  149A              ; Function spr_bullet_explode
4052  149A              ; ---------------------------------
4053  149A              _spr_bullet_explode:
4054  149A  2A 00 00    	ld	hl,(_bullet)
4055  149D  26 00       	ld	h,0x00
4056  149F  01 00 00    	ld	bc,_bullet_col
4057  14A2  09          	add	hl,bc
4058  14A3  56          	ld	d, (hl)
4059  14A4  2A 00 00    	ld	hl,(_bullet)
4060  14A7  26 00       	ld	h,0x00
4061  14A9  01 00 00    	ld	bc,_bullet_lin
4062  14AC  09          	add	hl,bc
4063  14AD  46          	ld	b, (hl)
4064  14AE  21 00 00    	ld	hl,0x0000
4065  14B1  E5          	push	hl
4066  14B2  21 87 03    	ld	hl,0x0387
4067  14B5  E5          	push	hl
4068  14B6  58          	ld	e,b
4069  14B7  D5          	push	de
4070  14B8  CD 94 0C    	call	_spr_add_anim
4071  14BB  F1          	pop	af
4072  14BC  F1          	pop	af
4073  14BD  F1          	pop	af
4074  14BE  21 00 00    	ld	hl,_bullet_count
4075  14C1  35          	dec	(hl)
4076  14C2  2A 00 00    	ld	hl,(_bullet)
4077  14C5  26 00       	ld	h,0x00
4078  14C7  01 00 00    	ld	bc,_bullet_col
4079  14CA  09          	add	hl,bc
4080  14CB  36 FF       	ld	(hl),0xff
4081  14CD  21 00 00    	ld	hl,_ay_effect_11
4082  14D0  C3 00 00    	jp  _ay_fx_play
4083  14D3              	SECTION code_compiler
4084  14D3              ;	---------------------------------
4085  14D3              ; Function spr_turn_horizontal
4086  14D3              ; ---------------------------------
4087  14D3              _spr_turn_horizontal:
4088  14D3  21 00 00    	ld	hl,_s_state
4089  14D6  CB 56       	bit	2, (hl)
4090  14D8  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4091  14DA  21 00 00    	ld	hl,_s_state
4092  14DD  7E          	ld	a,(hl)
4093  14DE  F6 08       	or	a,0x08
4094  14E0  E6 FB       	and	a,0xfb
4095  14E2  77          	ld	(hl),a
4096  14E3  18 09       	jr	l_spr_turn_horizontal_00103
4097  14E5              l_spr_turn_horizontal_00102:
4098  14E5  21 00 00    	ld	hl,_s_state
4099  14E8  7E          	ld	a,(hl)
4100  14E9  E6 F7       	and	a,0xf7
4101  14EB  F6 04       	or	a,0x04
4102  14ED  77          	ld	(hl),a
4103  14EE              l_spr_turn_horizontal_00103:
4104  14EE  2A 00 00    	ld	hl,(_sprite)
4105  14F1  26 00       	ld	h,0x00
4106  14F3  01 00 00    	ld	bc,_state
4107  14F6  09          	add	hl,bc
4108  14F7  3A 00 00    	ld	a,(_s_state)
4109  14FA  77          	ld	(hl),a
4110  14FB  2A 00 00    	ld	hl,(_sprite)
4111  14FE  26 00       	ld	h,0x00
4112  1500  01 00 00    	ld	bc,_tile
4113  1503  09          	add	hl,bc
4114  1504  E5          	push	hl
4115  1505  21 00 00    	ld	hl,_sprite
4116  1508  CD AC 08    	call	_spr_tile
4117  150B  C1          	pop	bc
4118  150C  7D          	ld	a,l
4119  150D  02          	ld	(bc), a
4120  150E  C9          	ret
4121  150F              	SECTION code_compiler
4122  150F              ;	---------------------------------
4123  150F              ; Function spr_btile_paint_back
4124  150F              ; ---------------------------------
4125  150F              _spr_btile_paint_back:
4126  150F  21 20 00    	ld	hl,0x0020
4127  1512  22 00 00    	ld	(_tmp_ui),hl
4128  1515  21 00 00    	ld	hl,_map_paper
4129  1518  7E          	ld	a, (hl)
4130  1519  0F          	rrca
4131  151A  0F          	rrca
4132  151B  0F          	rrca
4133  151C  E6 1F       	and	a,0x1f
4134  151E  B6          	or	a, (hl)
4135  151F  F6 40       	or	a,0x40
4136  1521  32 00 00    	ld	(_map_paper_clr),a
4137  1524              l_spr_btile_paint_back_00106:
4138  1524  21 00 00    	ld	hl,_tmp_ui
4139  1527  7E          	ld	a, (hl)
4140  1528  D6 20       	sub	a,0x20
4141  152A  23          	inc	hl
4142  152B  7E          	ld	a, (hl)
4143  152C  DE 2D       	sbc	a,0x2d
4144  152E  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4145  1530  21 00 00    	ld	hl,_tmp0
4146  1533  36 00       	ld	(hl),0x00
4147  1535              l_spr_btile_paint_back_00103:
4148  1535  3A 00 00    	ld	a,(_tmp0)
4149  1538  D6 10       	sub	a,0x10
4150  153A  30 34       	jr	NC,l_spr_btile_paint_back_00105
4151  153C  01 00 00    	ld	bc,_btiles
4152  153F  2A 00 00    	ld	hl,(_tmp_ui)
4153  1542  09          	add	hl,bc
4154  1543  7D          	ld	a,l
4155  1544  44          	ld	b,h
4156  1545  21 00 00    	ld	hl,_tmp0
4157  1548  86          	add	a, (hl)
4158  1549  4F          	ld	c, a
4159  154A  78          	ld	a, b
4160  154B  CE 00       	adc	a,0x00
4161  154D  47          	ld	b, a
4162  154E  0A          	ld	a, (bc)
4163  154F  32 00 00    	ld	(_tmp),a
4164  1552  E6 38       	and	a,0x38
4165  1554  5F          	ld	e, a
4166  1555  3A 00 00    	ld	a,(_map_paper_last)
4167  1558  93          	sub	a, e
4168  1559  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4169  155B  21 00 00    	ld	hl,_tmp
4170  155E  7E          	ld	a, (hl)
4171  155F  E6 C7       	and	a,0xc7
4172  1561  77          	ld	(hl),a
4173  1562  21 00 00    	ld	hl,_map_paper
4174  1565  B6          	or	a, (hl)
4175  1566  32 00 00    	ld	(_tmp),a
4176  1569  02          	ld	(bc), a
4177  156A              l_spr_btile_paint_back_00102:
4178  156A  21 00 00    	ld	hl,_tmp0
4179  156D  34          	inc	(hl)
4180  156E  18 C5       	jr	l_spr_btile_paint_back_00103
4181  1570              l_spr_btile_paint_back_00105:
4182  1570  2A 00 00    	ld	hl,(_tmp_ui)
4183  1573  11 30 00    	ld	de,0x0030
4184  1576  19          	add	hl,de
4185  1577  22 00 00    	ld	(_tmp_ui),hl
4186  157A  18 A8       	jr	l_spr_btile_paint_back_00106
4187  157C              l_spr_btile_paint_back_00108:
4188  157C  C3 00 00    	jp  _game_attribs
4189  157F              	SECTION code_compiler
4190  157F              ;	---------------------------------
4191  157F              ; Function spr_flatten
4192  157F              ; ---------------------------------
4193  157F              _spr_flatten:
4194  157F  06 00       	ld	b,0x00
4195  1581              l_spr_flatten_00102:
4196  1581  78          	ld	a, b
4197  1582  07          	rlca
4198  1583  07          	rlca
4199  1584  07          	rlca
4200  1585  E6 F8       	and	a,0xf8
4201  1587  5F          	ld	e, a
4202  1588  16 00       	ld	d,0x00
4203  158A  21 96 DC    	ld	hl,0xdc96
4204  158D  19          	add	hl, de
4205  158E  7E          	ld	a, (hl)
4206  158F  32 00 00    	ld	(_s_lin1),a
4207  1592  16 00       	ld	d,0x00
4208  1594  21 95 DC    	ld	hl,0xdc95
4209  1597  19          	add	hl, de
4210  1598  7E          	ld	a, (hl)
4211  1599  32 00 00    	ld	(_s_col1),a
4212  159C  16 00       	ld	d,0x00
4213  159E  21 98 DC    	ld	hl,0xdc98
4214  15A1  19          	add	hl, de
4215  15A2  7E          	ld	a, (hl)
4216  15A3  32 00 00    	ld	(_s_tile1),a
4217  15A6  C5          	push	bc
4218  15A7  21 00 00    	ld	hl,0x0000
4219  15AA  E5          	push	hl
4220  15AB  AF          	xor	a, a
4221  15AC  48          	ld	c,b
4222  15AD  47          	ld	b,a
4223  15AE  C5          	push	bc
4224  15AF  CD 00 00    	call	_NIRVANAP_spriteT_callee
4225  15B2  2A FF FF    	ld	hl,(_s_col1 - 1)
4226  15B5  3A 00 00    	ld	a,(_s_lin1)
4227  15B8  6F          	ld	l,a
4228  15B9  3A 00 00    	ld	a,(_s_tile1)
4229  15BC  E5          	push	hl
4230  15BD  F5          	push	af
4231  15BE  33          	inc	sp
4232  15BF  CD 00 00    	call	_NIRVANAP_drawT_callee
4233  15C2  C1          	pop	bc
4234  15C3  04          	inc	b
4235  15C4  3E 07       	ld	a,0x07
4236  15C6  90          	sub	a, b
4237  15C7  30 B8       	jr	NC,l_spr_flatten_00102
4238  15C9  C9          	ret
4239  15CA              	SECTION code_compiler
4240  15CA              ;	---------------------------------
4241  15CA              ; Function spr_unflatten
4242  15CA              ; ---------------------------------
4243  15CA              _spr_unflatten:
4244  15CA  2E 02       	ld	l,0x02
4245  15CC  CD 00 00    	call	_zx_border_fastcall
4246  15CF  CD 00 00    	call	_player_anim_tile
4247  15D2  21 07 00    	ld	hl,+(_col + 0x0007)
4248  15D5  46          	ld	b, (hl)
4249  15D6  21 07 00    	ld	hl,+(_lin + 0x0007)
4250  15D9  4E          	ld	c, (hl)
4251  15DA  3A 00 00    	ld	a,(_s_tile1)
4252  15DD  C5          	push	bc
4253  15DE  F5          	push	af
4254  15DF  33          	inc	sp
4255  15E0  CD 00 00    	call	_NIRVANAP_drawT_callee
4256  15E3  C9          	ret
4257  15E4              	SECTION IGNORE
4258  0000              
