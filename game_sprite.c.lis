1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_bullet_axe
189   0000              	GLOBAL _spr_bullet_fireball
190   0000              	GLOBAL _spr_calc_index
191   0000              	GLOBAL _spr_chktime
192   0000              	GLOBAL _spr_move_up
193   0000              	GLOBAL _spr_move_down
194   0000              	GLOBAL _spr_move_horizontal
195   0000              	GLOBAL _spr_move_right
196   0000              	GLOBAL _spr_move_left
197   0000              	GLOBAL _spr_page_right
198   0000              	GLOBAL _spr_page_left
199   0000              	GLOBAL _spr_page_down
200   0000              	GLOBAL _spr_page_up
201   0000              	GLOBAL _spr_clear_scr
202   0000              	GLOBAL _spr_page_map
203   0000              	GLOBAL _spr_redraw
204   0000              	GLOBAL _spr_destroy
205   0000              	GLOBAL _spr_tile
206   0000              	GLOBAL _spr_tile_dir
207   0000              	GLOBAL _spr_brick_anim
208   0000              	GLOBAL _spr_draw_index
209   0000              	GLOBAL _spr_calc_hor
210   0000              	GLOBAL _spr_back_repaint
211   0000              	GLOBAL _spr_tile_paint
212   0000              	GLOBAL _spr_init_anim_bullets
213   0000              	GLOBAL _spr_add_anim
214   0000              	GLOBAL _spr_play_anim
215   0000              	GLOBAL _spr_play_bullets
216   0000              	GLOBAL _spr_explode_bullet
217   0000              	GLOBAL _spr_turn_horizontal
218   0000              	GLOBAL _spr_btile_paint_back
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _player_fix_walk_lin
530   0000              	GLOBAL _player_gasta_brick
531   0000              	GLOBAL _player_lost_life
532   0000              	GLOBAL _player_hit
533   0000              	GLOBAL _player_open_door
534   0000              	GLOBAL _player_move_jump
535   0000              	GLOBAL _player_fire
536   0000              	GLOBAL _player_check_stairs_vertical
537   0000              	GLOBAL _player_check_stairs
538   0000              	GLOBAL _player_tile
539   0000              	GLOBAL _player_pick_item
540   0000              	GLOBAL _player_check_floor
541   0000              	GLOBAL _player_hit_platform_clear
542   0000              	GLOBAL _player_score_add
543   0000              	GLOBAL _player_hit_platform
544   0000              	GLOBAL _player_move_input
545   0000              	GLOBAL _player_turn
546   0000              	GLOBAL _player_move
547   0000              	GLOBAL _player_check_input
548   0000              	GLOBAL _player_pick_mushroom
549   0000              	GLOBAL _player_collision
550   0000              	GLOBAL _player_init
551   0000              	GLOBAL _menu_define_key
552   0000              	GLOBAL _menu_redefine
553   0000              	GLOBAL _menu_main_print
554   0000              	GLOBAL _menu_main
555   0000              	GLOBAL _game_match_back
556   0000              	GLOBAL _game_attribs
557   0000              	GLOBAL _game_boss_clear
558   0000              	GLOBAL _game_obj_clear
559   0000              	GLOBAL _game_obj_chk
560   0000              	GLOBAL _game_obj_set
561   0000              	GLOBAL _game_shoot_fire_boss
562   0000              	GLOBAL _game_shoot_fire
563   0000              	GLOBAL _game_add_enemy
564   0000              	GLOBAL _game_print_header
565   0000              	GLOBAL _game_check_time
566   0000              	GLOBAL _game_rotate_attrib_osd
567   0000              	GLOBAL _game_rotate_attrib
568   0000              	GLOBAL _game_colour_message
569   0000              	GLOBAL _game_paint_attrib_lin_osd
570   0000              	GLOBAL _game_paint_attrib_lin_h
571   0000              	GLOBAL _game_paint_attrib_lin
572   0000              	GLOBAL _game_print_score
573   0000              	GLOBAL _game_check_cell
574   0000              	GLOBAL _game_check_map
575   0000              	GLOBAL _game_loop
576   0000              	GLOBAL _game_round_init
577   0000              	GLOBAL _game_start_timer
578   0000              	GLOBAL _game_update_stats
579   0000              	GLOBAL _game_print_footer
580   0000              	GLOBAL _game_fill_row
581   0000              	GLOBAL _game_fps
582   0000              	GLOBAL _game_respawn
583   0000              	GLOBAL _game_draw_screen
584   0000              	GLOBAL _boss_turn
585   0000              	GLOBAL _enemy_avoid_dead
586   0000              	GLOBAL _enemy_avoid_fall
587   0000              	GLOBAL _enemy_respawn
588   0000              	GLOBAL _enemy_init
589   0000              	GLOBAL _enemy_move
590   0000              	GLOBAL _enemy_turn
591   0000              	GLOBAL _enemy_static
592   0000              	GLOBAL _enemy_walk
593   0000              	GLOBAL _enemy_horizontal
594   0000              	GLOBAL _enemy_vertical
595   0000              	GLOBAL _ay_fx_play
596   0000              	GLOBAL _ay_midi_play
597   0000              	GLOBAL _ay_is_playing
598   0000              	GLOBAL _ay_reset
599   0000              	GLOBAL _test_func
600   0000              	GLOBAL _test_proc
601   0000              	GLOBAL _in_mouse_kempston_wheel_delta
602   0000              	GLOBAL _in_mouse_kempston_wheel
603   0000              	GLOBAL _in_mouse_kempston_callee
604   0000              	GLOBAL _in_mouse_kempston
605   0000              	GLOBAL _in_mouse_kempston_setpos_callee
606   0000              	GLOBAL _in_mouse_kempston_setpos
607   0000              	GLOBAL _in_mouse_kempston_reset
608   0000              	GLOBAL _in_mouse_kempston_init
609   0000              	GLOBAL _in_mouse_amx_wheel_delta
610   0000              	GLOBAL _in_mouse_amx_wheel
611   0000              	GLOBAL _in_mouse_amx_callee
612   0000              	GLOBAL _in_mouse_amx
613   0000              	GLOBAL _in_mouse_amx_setpos_callee
614   0000              	GLOBAL _in_mouse_amx_setpos
615   0000              	GLOBAL _in_mouse_amx_reset
616   0000              	GLOBAL _in_mouse_amx_init_callee
617   0000              	GLOBAL _in_mouse_amx_init
618   0000              	GLOBAL _in_stick_sinclair2
619   0000              	GLOBAL _in_stick_sinclair1
620   0000              	GLOBAL _in_stick_kempston
621   0000              	GLOBAL _in_stick_fuller
622   0000              	GLOBAL _in_stick_cursor
623   0000              	GLOBAL _in_stick_keyboard_fastcall
624   0000              	GLOBAL _in_stick_keyboard
625   0000              	GLOBAL _in_wait_nokey
626   0000              	GLOBAL _in_wait_key
627   0000              	GLOBAL _in_test_key
628   0000              	GLOBAL _in_pause_fastcall
629   0000              	GLOBAL _in_pause
630   0000              	GLOBAL _in_key_scancode_fastcall
631   0000              	GLOBAL _in_key_scancode
632   0000              	GLOBAL _in_key_pressed_fastcall
633   0000              	GLOBAL _in_key_pressed
634   0000              	GLOBAL _in_inkey
635   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
636   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
637   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
638   0000              	GLOBAL _NIRVANAP_HOLE
639   0000              	GLOBAL _NIRVANAP_ISR_HOOK
640   0000              	GLOBAL _scan_map
641   0000              	GLOBAL _key_map
642   0000              	GLOBAL _player_lvl_table
643   0000              	GLOBAL _map_paper_last
644   0000              	GLOBAL _map_paper_clr
645   0000              	GLOBAL _map_paper
646   0000              	GLOBAL _draw_count
647   0000              	GLOBAL _g_player_hit_right
648   0000              	GLOBAL _g_player_hit_left
649   0000              	GLOBAL _bullet_count
650   0000              	GLOBAL _spr_hack
651   0000              	GLOBAL _boss_stat
652   0000              	GLOBAL _boss_time_fire
653   0000              	GLOBAL _boss_time
654   0000              	GLOBAL _boss_tile
655   0000              	GLOBAL _boss_inc
656   0000              	GLOBAL _boss_col
657   0000              	GLOBAL _boss_lin
658   0000              	GLOBAL _bullet
659   0000              	GLOBAL _bullet_vel
660   0000              	GLOBAL _bullet_frames
661   0000              	GLOBAL _bullet_colint
662   0000              	GLOBAL _bullet_dir
663   0000              	GLOBAL _bullet_tile
664   0000              	GLOBAL _bullet_col
665   0000              	GLOBAL _bullet_lin
666   0000              	GLOBAL _bullet_col0
667   0000              	GLOBAL _bullet_lin0
668   0000              	GLOBAL _bullet_max
669   0000              	GLOBAL _bullet_class
670   0000              	GLOBAL _mush_class
671   0000              	GLOBAL _mush_index
672   0000              	GLOBAL _anim_count
673   0000              	GLOBAL _anim_respanwn
674   0000              	GLOBAL _anim_loop
675   0000              	GLOBAL _anim_end
676   0000              	GLOBAL _anim_int
677   0000              	GLOBAL _anim_tile
678   0000              	GLOBAL _anim_col
679   0000              	GLOBAL _anim_lin
680   0000              	GLOBAL _map_heigth
681   0000              	GLOBAL _map_width
682   0000              	GLOBAL _scr_curr
683   0000              	GLOBAL _scr_obj1
684   0000              	GLOBAL _scr_obj0
685   0000              	GLOBAL _scr_map
686   0000              	GLOBAL _sprite_speed_alt
687   0000              	GLOBAL _spr_init
688   0000              	GLOBAL _spr_map_tile
689   0000              	GLOBAL _sprite_frames
690   0000              	GLOBAL _sprite_speed
691   0000              	GLOBAL _screen_ink
692   0000              	GLOBAL _screen_paper
693   0000              	GLOBAL _player_onstair
694   0000              	GLOBAL _game_start_scr
695   0000              	GLOBAL _game_respawn_tile
696   0000              	GLOBAL _game_respawn_index
697   0000              	GLOBAL _game_respawn_time
698   0000              	GLOBAL _game_score_top
699   0000              	GLOBAL _player_coins
700   0000              	GLOBAL _player_lives
701   0000              	GLOBAL _game_over
702   0000              	GLOBAL _game_sound
703   0000              	GLOBAL _game_inmune
704   0000              	GLOBAL _game_god_mode
705   0000              	GLOBAL _sprite_curr_index
706   0000              	GLOBAL _spr_count
707   0000              	GLOBAL _bullet_time
708   0000              	GLOBAL _anim_time
709   0000              	GLOBAL _frame_time
710   0000              	GLOBAL _curr_time
711   0000              	GLOBAL _s_state
712   0000              	GLOBAL _attrib_osd
713   0000              	GLOBAL _attrib_hl
714   0000              	GLOBAL _attrib
715   0000              	GLOBAL _zx_val_asm
716   0000              	GLOBAL _enemies
717   0000              	GLOBAL _tmp_ui
718   0000              	GLOBAL _tmp_sc
719   0000              	GLOBAL _tmp_uc
720   0000              	GLOBAL _tmp1
721   0000              	GLOBAL _tmp0
722   0000              	GLOBAL _tmp
723   0000              	GLOBAL _index1
724   0000              	GLOBAL _index0
725   0000              	GLOBAL _loop_count
726   0000              	GLOBAL _s_col1
727   0000              	GLOBAL _s_col0
728   0000              	GLOBAL _s_lin1
729   0000              	GLOBAL _s_lin0
730   0000              	GLOBAL _s_tile1
731   0000              	GLOBAL _s_tile0
732   0000              	GLOBAL _player_brick_time
733   0000              	GLOBAL _player_hit_count
734   0000              	GLOBAL _sprite_horizontal_check
735   0000              	GLOBAL _sprite_on_air
736   0000              	GLOBAL _sprite
737   0000              	GLOBAL _fps
738   0000              	GLOBAL _game_2buttons
739   0000              	GLOBAL _game_respawn_curr_time
740   0000              	GLOBAL _game_worldup
741   0000              	GLOBAL _game_mush_count
742   0000              	GLOBAL _game_boss_fix
743   0000              	GLOBAL _game_boss_hit
744   0000              	GLOBAL _game_boss_alive
745   0000              	GLOBAL _game_boss
746   0000              	GLOBAL _game_world
747   0000              	GLOBAL _game_gravity
748   0000              	GLOBAL _player_anim_stair
749   0000              	GLOBAL _player_hit_time
750   0000              	GLOBAL _player_lin_scr
751   0000              	GLOBAL _player_col_scr
752   0000              	GLOBAL _player_lvl
753   0000              	GLOBAL _player_int
754   0000              	GLOBAL _player_str
755   0000              	GLOBAL _player_max_vita
756   0000              	GLOBAL _player_max_mana
757   0000              	GLOBAL _player_vita
758   0000              	GLOBAL _player_mana
759   0000              	GLOBAL _player_keys
760   0000              	GLOBAL _player_vel_inc
761   0000              	GLOBAL _player_vel_y1
762   0000              	GLOBAL _player_vel_y0
763   0000              	GLOBAL _player_vel_y
764   0000              	GLOBAL _player_vel_x
765   0000              	GLOBAL _player_joy
766   0000              	GLOBAL _player_score
767   0000              	GLOBAL _last_time
768   0000              	GLOBAL _player_slide
769   0000              	GLOBAL _spr_timer
770   0000              	GLOBAL _jump_lin
771   0000              	GLOBAL _player_hit_col
772   0000              	GLOBAL _player_hit_lin
773   0000              	GLOBAL _colint
774   0000              	GLOBAL _col
775   0000              	GLOBAL _lin
776   0000              	GLOBAL _tile
777   0000              	GLOBAL _state_a
778   0000              	GLOBAL _state
779   0000              	GLOBAL _class
780   0000              	GLOBAL _tbuffer
781   0000              	GLOBAL _dirs_alt
782   0000              	GLOBAL _dirs
783   0000              	GLOBAL _k2
784   0000              	GLOBAL _k1
785   0000              	GLOBAL _joyfunc2
786   0000              	GLOBAL _joyfunc1
787   0000              	GLOBAL _btiles
788   0000              	GLOBAL _spec128
789   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
790   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
791   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
792   0000              	GLOBAL _ay_effect_20
793   0000              	GLOBAL _ay_effect_19
794   0000              	GLOBAL _ay_effect_18
795   0000              	GLOBAL _ay_effect_17
796   0000              	GLOBAL _ay_effect_16
797   0000              	GLOBAL _ay_effect_15
798   0000              	GLOBAL _ay_effect_14
799   0000              	GLOBAL _ay_effect_13
800   0000              	GLOBAL _ay_effect_12
801   0000              	GLOBAL _ay_effect_11
802   0000              	GLOBAL _ay_effect_10
803   0000              	GLOBAL _ay_effect_09
804   0000              	GLOBAL _ay_effect_08
805   0000              	GLOBAL _ay_effect_07
806   0000              	GLOBAL _ay_effect_06
807   0000              	GLOBAL _ay_effect_05
808   0000              	GLOBAL _ay_effect_04
809   0000              	GLOBAL _ay_effect_03
810   0000              	GLOBAL _ay_effect_02
811   0000              	GLOBAL _ay_effect_01
812   0000              	GLOBAL _pb_midi_phase_1
813   0000              	GLOBAL _pb_midi_title
814   0000              	GLOBAL _control_method
815   0000              	GLOBAL _world0_h
816   0000              	GLOBAL _world0_w
817   0000              	GLOBAL _world0
818   0000              	GLOBAL _paper0
819   0000              	GLOBAL _lenght0
820   0000              	GLOBAL _start_scr0
821   0000              ;--------------------------------------------------------
822   0000              ; special function registers
823   0000              ;--------------------------------------------------------
824   0000              defc _IO_FE	=	0x00fe
825   0000              defc _IO_1FFD	=	0x1ffd
826   0000              defc _IO_7FFD	=	0x7ffd
827   0000              ;--------------------------------------------------------
828   0000              ; ram data
829   0000              ;--------------------------------------------------------
830   0000              	SECTION bss_compiler
831   0000              ;--------------------------------------------------------
832   0000              ; ram data
833   0000              ;--------------------------------------------------------
834   0000              
835   0000              IF 0
836   0000              
837   0000              ; .area _INITIALIZED removed by z88dk
838   0000              
839   0000              
840   0000              ENDIF
841   0000              
842   0000              ;--------------------------------------------------------
843   0000              ; absolute external ram data
844   0000              ;--------------------------------------------------------
845   0000              	SECTION IGNORE
846   0000              ;--------------------------------------------------------
847   0000              ; global & static initialisations
848   0000              ;--------------------------------------------------------
849   0000              	SECTION code_crt_init
850   0000              ;--------------------------------------------------------
851   0000              ; Home
852   0000              ;--------------------------------------------------------
853   0000              	SECTION IGNORE
854   0000              ;--------------------------------------------------------
855   0000              ; code
856   0000              ;--------------------------------------------------------
857   0000              	SECTION code_compiler
858   0000              ;	---------------------------------
859   0000              ; Function spr_calc_index
860   0000              ; ---------------------------------
861   0000              _spr_calc_index:
862   0000  CD 00 00    	call	___sdcc_enter_ix
863   0003  DD 4E 05    	ld	c,(ix+5)
864   0006  CB 39       	srl	c
865   0008  06 00       	ld	b,0x00
866   000A  DD 7E 04    	ld	a,(ix+4)
867   000D  07          	rlca
868   000E  07          	rlca
869   000F  07          	rlca
870   0010  07          	rlca
871   0011  E6 0F       	and	a,0x0f
872   0013  6F          	ld	l, a
873   0014  26 00       	ld	h,0x00
874   0016  29          	add	hl, hl
875   0017  29          	add	hl, hl
876   0018  29          	add	hl, hl
877   0019  29          	add	hl, hl
878   001A  09          	add	hl, bc
879   001B  DD E1       	pop	ix
880   001D  C9          	ret
881   001E              	SECTION code_compiler
882   001E              ;	---------------------------------
883   001E              ; Function spr_chktime
884   001E              ; ---------------------------------
885   001E              _spr_chktime:
886   001E  CD 00 00    	call	___sdcc_enter_ix
887   0021  5E          	ld	e,(hl)
888   0022  F5          	push	af
889   0023  16 00       	ld	d,0x00
890   0025  4D          	ld	c,l
891   0026  44          	ld	b,h
892   0027  21 00 00    	ld	hl,_sprite_speed_alt
893   002A  19          	add	hl, de
894   002B  7E          	ld	a, (hl)
895   002C  B7          	or	a,a
896   002D  20 15       	jr	NZ,l_spr_chktime_00102
897   002F  57          	ld	d,a
898   0030  21 00 00    	ld	hl,_class
899   0033  19          	add	hl, de
900   0034  56          	ld	d, (hl)
901   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
902   0037  82          	add	a, d
903   0038  6F          	ld	l, a
904   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
905   003B  CE 00       	adc	a,0x00
906   003D  67          	ld	h, a
907   003E  7E          	ld	a, (hl)
908   003F  32 00 00    	ld	(_tmp),a
909   0042  18 03       	jr	l_spr_chktime_00103
910   0044              l_spr_chktime_00102:
911   0044  32 00 00    	ld	(_tmp),a
912   0047              l_spr_chktime_00103:
913   0047  3A 00 00    	ld	a,(_tmp)
914   004A  DD 77 FE    	ld	(ix-2),a
915   004D  26 00       	ld	h,0x00
916   004F  DD 74 FF    	ld	(ix-1),h
917   0052  6B          	ld	l, e
918   0053  29          	add	hl, hl
919   0054  11 00 00    	ld	de,_last_time
920   0057  19          	add	hl, de
921   0058  5E          	ld	e, (hl)
922   0059  23          	inc	hl
923   005A  56          	ld	d, (hl)
924   005B  C5          	push	bc
925   005C  DD 6E FE    	ld	l,(ix-2)
926   005F  DD 66 FF    	ld	h,(ix-1)
927   0062  E5          	push	hl
928   0063  D5          	push	de
929   0064  CD 00 00    	call	_game_check_time
930   0067  F1          	pop	af
931   0068  F1          	pop	af
932   0069  C1          	pop	bc
933   006A  7D          	ld	a,l
934   006B  B7          	or	a, a
935   006C  28 14       	jr	Z,l_spr_chktime_00105
936   006E  0A          	ld	a, (bc)
937   006F  6F          	ld	l, a
938   0070  26 00       	ld	h,0x00
939   0072  29          	add	hl, hl
940   0073  01 00 00    	ld	bc,_last_time
941   0076  09          	add	hl,bc
942   0077  ED 5B 00 00 	ld	de,(_curr_time)
943   007B  73          	ld	(hl),e
944   007C  23          	inc	hl
945   007D  72          	ld	(hl),d
946   007E  2E 01       	ld	l,0x01
947   0080  18 02       	jr	l_spr_chktime_00106
948   0082              l_spr_chktime_00105:
949   0082  2E 00       	ld	l,0x00
950   0084              l_spr_chktime_00106:
951   0084  F1          	pop	af
952   0085  DD E1       	pop	ix
953   0087  C9          	ret
954   0088              	SECTION code_compiler
955   0088              ;	---------------------------------
956   0088              ; Function spr_move_up
957   0088              ; ---------------------------------
958   0088              _spr_move_up:
959   0088  2A 00 00    	ld	hl,(_sprite)
960   008B  26 00       	ld	h,0x00
961   008D  01 00 00    	ld	bc,_lin
962   0090  09          	add	hl,bc
963   0091  4E          	ld	c,(hl)
964   0092  3E 10       	ld	a,0x10
965   0094  91          	sub	a,c
966   0095  38 16       	jr	C,l_spr_move_up_00109
967   0097  3A 00 00    	ld	a,(_sprite)
968   009A  D6 07       	sub	a,0x07
969   009C  20 0B       	jr	NZ,l_spr_move_up_00104
970   009E  CD 68 04    	call	_spr_page_up
971   00A1  7D          	ld	a, l
972   00A2  B7          	or	a, a
973   00A3  28 04       	jr	Z,l_spr_move_up_00104
974   00A5  2E 00       	ld	l,0x00
975   00A7  18 52       	jr	l_spr_move_up_00111
976   00A9              l_spr_move_up_00104:
977   00A9  2E 01       	ld	l,0x01
978   00AB  18 4E       	jr	l_spr_move_up_00111
979   00AD              l_spr_move_up_00109:
980   00AD  79          	ld	a, c
981   00AE  C6 FE       	add	a,0xfe
982   00B0  32 00 00    	ld	(_s_lin1),a
983   00B3  07          	rlca
984   00B4  07          	rlca
985   00B5  07          	rlca
986   00B6  07          	rlca
987   00B7  E6 0F       	and	a,0x0f
988   00B9  4F          	ld	c, a
989   00BA  3A 00 00    	ld	a,(_s_lin0)
990   00BD  07          	rlca
991   00BE  07          	rlca
992   00BF  07          	rlca
993   00C0  07          	rlca
994   00C1  E6 0F       	and	a,0x0f
995   00C3  91          	sub	a, c
996   00C4  20 04       	jr	NZ,l_spr_move_up_00135
997   00C6  3E 01       	ld	a,0x01
998   00C8  18 01       	jr	l_spr_move_up_00136
999   00CA              l_spr_move_up_00135:
1000  00CA  AF          	xor	a,a
1001  00CB              l_spr_move_up_00136:
1002  00CB  EE 01       	xor	a,0x01
1003  00CD  28 1D       	jr	Z,l_spr_move_up_00106
1004  00CF  2A 00 00    	ld	hl,(_sprite)
1005  00D2  26 00       	ld	h,0x00
1006  00D4  01 00 00    	ld	bc,_col
1007  00D7  09          	add	hl,bc
1008  00D8  7E          	ld	a,(hl)
1009  00D9  F5          	push	af
1010  00DA  33          	inc	sp
1011  00DB  3A 00 00    	ld	a,(_s_lin1)
1012  00DE  F5          	push	af
1013  00DF  33          	inc	sp
1014  00E0  CD 00 00    	call	_game_check_map
1015  00E3  F1          	pop	af
1016  00E4  7C          	ld	a,h
1017  00E5  B5          	or	a,l
1018  00E6  28 04       	jr	Z,l_spr_move_up_00106
1019  00E8  2E 01       	ld	l,0x01
1020  00EA  18 0F       	jr	l_spr_move_up_00111
1021  00EC              l_spr_move_up_00106:
1022  00EC  2A 00 00    	ld	hl,(_sprite)
1023  00EF  26 00       	ld	h,0x00
1024  00F1  01 00 00    	ld	bc,_lin
1025  00F4  09          	add	hl,bc
1026  00F5  3A 00 00    	ld	a,(_s_lin1)
1027  00F8  77          	ld	(hl),a
1028  00F9  2E 00       	ld	l,0x00
1029  00FB              l_spr_move_up_00111:
1030  00FB  C9          	ret
1031  00FC              	SECTION code_compiler
1032  00FC              ;	---------------------------------
1033  00FC              ; Function spr_move_down
1034  00FC              ; ---------------------------------
1035  00FC              _spr_move_down:
1036  00FC  CD 00 00    	call	___sdcc_enter_ix
1037  00FF  F5          	push	af
1038  0100  3E 00       	ld	a, +((_lin) & 0xFF)
1039  0102  21 00 00    	ld	hl,_sprite
1040  0105  86          	add	a, (hl)
1041  0106  DD 77 FE    	ld	(ix-2),a
1042  0109  3E 00       	ld	a, +((_lin) / 256)
1043  010B  CE 00       	adc	a,0x00
1044  010D  DD 77 FF    	ld	(ix-1),a
1045  0110  E1          	pop	hl
1046  0111  7E          	ld	a,(hl)
1047  0112  E5          	push	hl
1048  0113  FE 90       	cp	a,0x90
1049  0115  38 29       	jr	C,l_spr_move_down_00112
1050  0117  3A 00 00    	ld	a,(_sprite)
1051  011A  D6 07       	sub	a,0x07
1052  011C  20 1A       	jr	NZ,l_spr_move_down_00105
1053  011E  CD 19 04    	call	_spr_page_down
1054  0121  7D          	ld	a, l
1055  0122  B7          	or	a, a
1056  0123  28 04       	jr	Z,l_spr_move_down_00102
1057  0125  2E 01       	ld	l,0x01
1058  0127  18 68       	jr	l_spr_move_down_00114
1059  0129              l_spr_move_down_00102:
1060  0129  2A 00 00    	ld	hl,(_sprite)
1061  012C  26 00       	ld	h,0x00
1062  012E  01 00 00    	ld	bc,_lin
1063  0131  09          	add	hl,bc
1064  0132  36 90       	ld	(hl),0x90
1065  0134  2E 01       	ld	l,0x01
1066  0136  18 59       	jr	l_spr_move_down_00114
1067  0138              l_spr_move_down_00105:
1068  0138  E1          	pop	hl
1069  0139  E5          	push	hl
1070  013A  36 90       	ld	(hl),0x90
1071  013C  2E 01       	ld	l,0x01
1072  013E  18 51       	jr	l_spr_move_down_00114
1073  0140              l_spr_move_down_00112:
1074  0140  C6 10       	add	a,0x10
1075  0142  32 00 00    	ld	(_s_lin1),a
1076  0145  07          	rlca
1077  0146  07          	rlca
1078  0147  07          	rlca
1079  0148  07          	rlca
1080  0149  E6 0F       	and	a,0x0f
1081  014B  4F          	ld	c, a
1082  014C  3A 00 00    	ld	a,(_s_lin0)
1083  014F  07          	rlca
1084  0150  07          	rlca
1085  0151  07          	rlca
1086  0152  07          	rlca
1087  0153  E6 0F       	and	a,0x0f
1088  0155  5F          	ld	e, a
1089  0156  79          	ld	a, c
1090  0157  93          	sub	a, e
1091  0158  20 04       	jr	NZ,l_spr_move_down_00138
1092  015A  3E 01       	ld	a,0x01
1093  015C  18 01       	jr	l_spr_move_down_00139
1094  015E              l_spr_move_down_00138:
1095  015E  AF          	xor	a,a
1096  015F              l_spr_move_down_00139:
1097  015F  EE 01       	xor	a,0x01
1098  0161  28 1D       	jr	Z,l_spr_move_down_00110
1099  0163  2A 00 00    	ld	hl,(_sprite)
1100  0166  26 00       	ld	h,0x00
1101  0168  01 00 00    	ld	bc,_col
1102  016B  09          	add	hl,bc
1103  016C  7E          	ld	a,(hl)
1104  016D  F5          	push	af
1105  016E  33          	inc	sp
1106  016F  3A 00 00    	ld	a,(_s_lin1)
1107  0172  F5          	push	af
1108  0173  33          	inc	sp
1109  0174  CD 00 00    	call	_game_check_map
1110  0177  F1          	pop	af
1111  0178  7C          	ld	a,h
1112  0179  B5          	or	a,l
1113  017A  28 04       	jr	Z,l_spr_move_down_00110
1114  017C  2E 01       	ld	l,0x01
1115  017E  18 11       	jr	l_spr_move_down_00114
1116  0180              l_spr_move_down_00110:
1117  0180  2A 00 00    	ld	hl,(_sprite)
1118  0183  26 00       	ld	h,0x00
1119  0185  01 00 00    	ld	bc,_lin
1120  0188  09          	add	hl,bc
1121  0189  3A 00 00    	ld	a,(_s_lin1)
1122  018C  C6 F2       	add	a,0xf2
1123  018E  77          	ld	(hl),a
1124  018F  2E 00       	ld	l,0x00
1125  0191              l_spr_move_down_00114:
1126  0191  F1          	pop	af
1127  0192  DD E1       	pop	ix
1128  0194  C9          	ret
1129  0195              	SECTION code_compiler
1130  0195              ;	---------------------------------
1131  0195              ; Function spr_move_horizontal
1132  0195              ; ---------------------------------
1133  0195              _spr_move_horizontal:
1134  0195  2A 00 00    	ld	hl,(_sprite)
1135  0198  26 00       	ld	h,0x00
1136  019A  01 00 00    	ld	bc,_state
1137  019D  09          	add	hl,bc
1138  019E  7E          	ld	a,(hl)
1139  019F  CB 57       	bit	2, a
1140  01A1  28 05       	jr	Z,l_spr_move_horizontal_00104
1141  01A3  CD B4 01    	call	_spr_move_right
1142  01A6  18 0B       	jr	l_spr_move_horizontal_00106
1143  01A8              l_spr_move_horizontal_00104:
1144  01A8  CB 5F       	bit	3, a
1145  01AA  28 05       	jr	Z,l_spr_move_horizontal_00105
1146  01AC  CD B3 02    	call	_spr_move_left
1147  01AF  18 02       	jr	l_spr_move_horizontal_00106
1148  01B1              l_spr_move_horizontal_00105:
1149  01B1  2E 00       	ld	l,0x00
1150  01B3              l_spr_move_horizontal_00106:
1151  01B3  C9          	ret
1152  01B4              	SECTION code_compiler
1153  01B4              ;	---------------------------------
1154  01B4              ; Function spr_move_right
1155  01B4              ; ---------------------------------
1156  01B4              _spr_move_right:
1157  01B4  2A 00 00    	ld	hl,(_sprite)
1158  01B7  26 00       	ld	h,0x00
1159  01B9  01 00 00    	ld	bc,_colint
1160  01BC  09          	add	hl,bc
1161  01BD  7E          	ld	a,(hl)
1162  01BE  3C          	inc	a
1163  01BF  77          	ld	(hl),a
1164  01C0  4F          	ld	c,a
1165  01C1  3A 00 00    	ld	a,(_sprite)
1166  01C4  5F          	ld	e,a
1167  01C5  16 00       	ld	d,0x00
1168  01C7  21 00 00    	ld	hl,_class
1169  01CA  19          	add	hl,de
1170  01CB  5E          	ld	e, (hl)
1171  01CC  16 00       	ld	d,0x00
1172  01CE  21 00 00    	ld	hl,_sprite_frames
1173  01D1  19          	add	hl, de
1174  01D2  7E          	ld	a, (hl)
1175  01D3  91          	sub	a, c
1176  01D4  C2 B0 02    	jp	NZ,l_spr_move_right_00118
1177  01D7  2A 00 00    	ld	hl,(_sprite)
1178  01DA  26 00       	ld	h,0x00
1179  01DC  01 00 00    	ld	bc,_lin
1180  01DF  09          	add	hl,bc
1181  01E0  7E          	ld	a,(hl)
1182  01E1  32 00 00    	ld	(_s_lin1),a
1183  01E4  2A 00 00    	ld	hl,(_sprite)
1184  01E7  26 00       	ld	h,0x00
1185  01E9  01 00 00    	ld	bc,_col
1186  01EC  09          	add	hl,bc
1187  01ED  7E          	ld	a,(hl)
1188  01EE  FE 1E       	cp	a,0x1e
1189  01F0  30 61       	jr	NC,l_spr_move_right_00108
1190  01F2  3C          	inc	a
1191  01F3  32 00 00    	ld	(_s_col1),a
1192  01F6  21 00 00    	ld	hl,_sprite_horizontal_check
1193  01F9  36 01       	ld	(hl),0x01
1194  01FB  2A FF FF    	ld	hl,(_s_col1 - 1)
1195  01FE  3A 00 00    	ld	a,(_s_lin1)
1196  0201  6F          	ld	l,a
1197  0202  E5          	push	hl
1198  0203  CD 00 00    	call	_game_check_map
1199  0206  F1          	pop	af
1200  0207  7D          	ld	a,l
1201  0208  32 00 00    	ld	(_tmp0),a
1202  020B  B7          	or	a, a
1203  020C  20 16       	jr	NZ,l_spr_move_right_00102
1204  020E  3A 00 00    	ld	a,(_s_lin1)
1205  0211  C6 0F       	add	a,0x0f
1206  0213  4F          	ld	c, a
1207  0214  3A 00 00    	ld	a,(_s_col1)
1208  0217  F5          	push	af
1209  0218  33          	inc	sp
1210  0219  79          	ld	a, c
1211  021A  F5          	push	af
1212  021B  33          	inc	sp
1213  021C  CD 00 00    	call	_game_check_map
1214  021F  F1          	pop	af
1215  0220  7D          	ld	a,l
1216  0221  32 00 00    	ld	(_tmp0),a
1217  0224              l_spr_move_right_00102:
1218  0224  21 00 00    	ld	hl,_sprite_horizontal_check
1219  0227  36 00       	ld	(hl),0x00
1220  0229  3A 00 00    	ld	a,(_tmp0)
1221  022C  B7          	or	a, a
1222  022D  28 24       	jr	Z,l_spr_move_right_00108
1223  022F  2A 00 00    	ld	hl,(_sprite)
1224  0232  26 00       	ld	h,0x00
1225  0234  01 00 00    	ld	bc,_colint
1226  0237  09          	add	hl,bc
1227  0238  7E          	ld	a,(hl)
1228  0239  C6 FF       	add	a,0xff
1229  023B  77          	ld	(hl),a
1230  023C  3A 00 00    	ld	a,(_sprite_on_air)
1231  023F  B7          	or	a,a
1232  0240  20 0D       	jr	NZ,l_spr_move_right_00104
1233  0242  2A 00 00    	ld	hl,(_sprite)
1234  0245  26 00       	ld	h,0x00
1235  0247  01 00 00    	ld	bc,_colint
1236  024A  09          	add	hl,bc
1237  024B  7E          	ld	a,(hl)
1238  024C  C6 FF       	add	a,0xff
1239  024E  77          	ld	(hl),a
1240  024F              l_spr_move_right_00104:
1241  024F  2E 01       	ld	l,0x01
1242  0251  18 5F       	jr	l_spr_move_right_00119
1243  0253              l_spr_move_right_00108:
1244  0253  2A 00 00    	ld	hl,(_sprite)
1245  0256  26 00       	ld	h,0x00
1246  0258  01 00 00    	ld	bc,_col
1247  025B  09          	add	hl,bc
1248  025C  34          	inc	(hl)
1249  025D  2A 00 00    	ld	hl,(_sprite)
1250  0260  26 00       	ld	h,0x00
1251  0262  01 00 00    	ld	bc,_colint
1252  0265  09          	add	hl,bc
1253  0266  AF          	xor	a,a
1254  0267  77          	ld	(hl),a
1255  0268  2A 00 00    	ld	hl,(_sprite)
1256  026B  26 00       	ld	h,0x00
1257  026D  01 00 00    	ld	bc,_col
1258  0270  09          	add	hl,bc
1259  0271  5E          	ld	e,(hl)
1260  0272  3E 1E       	ld	a,0x1e
1261  0274  93          	sub	a,e
1262  0275  30 39       	jr	NC,l_spr_move_right_00118
1263  0277  3A 00 00    	ld	a,(_sprite)
1264  027A  D6 07       	sub	a,0x07
1265  027C  28 04       	jr	Z,l_spr_move_right_00156
1266  027E  4D          	ld	c,l
1267  027F  44          	ld	b,h
1268  0280  18 27       	jr	l_spr_move_right_00113
1269  0282              l_spr_move_right_00156:
1270  0282  CD B7 03    	call	_spr_page_right
1271  0285  3A 00 00    	ld	a,(_sprite)
1272  0288  C6 00       	add	a,+((_col) & 0xFF)
1273  028A  4D          	ld	c,l
1274  028B  5F          	ld	e,a
1275  028C  3E 00       	ld	a,+((_col) / 256)
1276  028E  CE 00       	adc	a,0x00
1277  0290  57          	ld	d,a
1278  0291  79          	ld	a, c
1279  0292  B7          	or	a, a
1280  0293  28 0F       	jr	Z,l_spr_move_right_00110
1281  0295  AF          	xor	a, a
1282  0296  12          	ld	(de), a
1283  0297  3A 07 00    	ld	a,(_lin + 7)
1284  029A  32 00 00    	ld	(_player_lin_scr),a
1285  029D  21 00 00    	ld	hl,_player_col_scr
1286  02A0  36 00       	ld	(hl),0x00
1287  02A2  18 08       	jr	l_spr_move_right_00114
1288  02A4              l_spr_move_right_00110:
1289  02A4  3E 1E       	ld	a,0x1e
1290  02A6  12          	ld	(de), a
1291  02A7  18 03       	jr	l_spr_move_right_00114
1292  02A9              l_spr_move_right_00113:
1293  02A9  3E 1E       	ld	a,0x1e
1294  02AB  02          	ld	(bc), a
1295  02AC              l_spr_move_right_00114:
1296  02AC  2E 01       	ld	l,0x01
1297  02AE  18 02       	jr	l_spr_move_right_00119
1298  02B0              l_spr_move_right_00118:
1299  02B0  2E 00       	ld	l,0x00
1300  02B2              l_spr_move_right_00119:
1301  02B2  C9          	ret
1302  02B3              	SECTION code_compiler
1303  02B3              ;	---------------------------------
1304  02B3              ; Function spr_move_left
1305  02B3              ; ---------------------------------
1306  02B3              _spr_move_left:
1307  02B3  2A 00 00    	ld	hl,(_sprite)
1308  02B6  26 00       	ld	h,0x00
1309  02B8  01 00 00    	ld	bc,_colint
1310  02BB  09          	add	hl,bc
1311  02BC  7E          	ld	a,(hl)
1312  02BD  C6 FF       	add	a,0xff
1313  02BF  77          	ld	(hl),a
1314  02C0  2A 00 00    	ld	hl,(_sprite)
1315  02C3  26 00       	ld	h,0x00
1316  02C5  01 00 00    	ld	bc,_colint
1317  02C8  09          	add	hl,bc
1318  02C9  7E          	ld	a,(hl)
1319  02CA  3C          	inc	a
1320  02CB  C2 B4 03    	jp	NZ,l_spr_move_left_00118
1321  02CE  2A 00 00    	ld	hl,(_sprite)
1322  02D1  26 00       	ld	h,0x00
1323  02D3  01 00 00    	ld	bc,_lin
1324  02D6  09          	add	hl,bc
1325  02D7  7E          	ld	a,(hl)
1326  02D8  32 00 00    	ld	(_s_lin1),a
1327  02DB  2A 00 00    	ld	hl,(_sprite)
1328  02DE  26 00       	ld	h,0x00
1329  02E0  01 00 00    	ld	bc,_col
1330  02E3  09          	add	hl,bc
1331  02E4  7E          	ld	a,(hl)
1332  02E5  B7          	or	a, a
1333  02E6  28 5C       	jr	Z,l_spr_move_left_00108
1334  02E8  C6 FF       	add	a,0xff
1335  02EA  32 00 00    	ld	(_s_col1),a
1336  02ED  21 00 00    	ld	hl,_sprite_horizontal_check
1337  02F0  36 01       	ld	(hl),0x01
1338  02F2  2A FF FF    	ld	hl,(_s_col1 - 1)
1339  02F5  3A 00 00    	ld	a,(_s_lin1)
1340  02F8  6F          	ld	l,a
1341  02F9  E5          	push	hl
1342  02FA  CD 00 00    	call	_game_check_map
1343  02FD  F1          	pop	af
1344  02FE  7D          	ld	a,l
1345  02FF  32 00 00    	ld	(_tmp0),a
1346  0302  B7          	or	a, a
1347  0303  20 16       	jr	NZ,l_spr_move_left_00102
1348  0305  3A 00 00    	ld	a,(_s_lin1)
1349  0308  C6 0F       	add	a,0x0f
1350  030A  4F          	ld	c, a
1351  030B  3A 00 00    	ld	a,(_s_col1)
1352  030E  F5          	push	af
1353  030F  33          	inc	sp
1354  0310  79          	ld	a, c
1355  0311  F5          	push	af
1356  0312  33          	inc	sp
1357  0313  CD 00 00    	call	_game_check_map
1358  0316  F1          	pop	af
1359  0317  7D          	ld	a,l
1360  0318  32 00 00    	ld	(_tmp0),a
1361  031B              l_spr_move_left_00102:
1362  031B  21 00 00    	ld	hl,_sprite_horizontal_check
1363  031E  36 00       	ld	(hl),0x00
1364  0320  3A 00 00    	ld	a,(_tmp0)
1365  0323  B7          	or	a, a
1366  0324  28 1E       	jr	Z,l_spr_move_left_00108
1367  0326  2A 00 00    	ld	hl,(_sprite)
1368  0329  26 00       	ld	h,0x00
1369  032B  01 00 00    	ld	bc,_colint
1370  032E  09          	add	hl,bc
1371  032F  34          	inc	(hl)
1372  0330  3A 00 00    	ld	a,(_sprite_on_air)
1373  0333  B7          	or	a,a
1374  0334  20 0A       	jr	NZ,l_spr_move_left_00104
1375  0336  2A 00 00    	ld	hl,(_sprite)
1376  0339  26 00       	ld	h,0x00
1377  033B  01 00 00    	ld	bc,_colint
1378  033E  09          	add	hl,bc
1379  033F  34          	inc	(hl)
1380  0340              l_spr_move_left_00104:
1381  0340  2E 01       	ld	l,0x01
1382  0342  18 72       	jr	l_spr_move_left_00119
1383  0344              l_spr_move_left_00108:
1384  0344  2A 00 00    	ld	hl,(_sprite)
1385  0347  26 00       	ld	h,0x00
1386  0349  01 00 00    	ld	bc,_col
1387  034C  09          	add	hl,bc
1388  034D  7E          	ld	a,(hl)
1389  034E  C6 FF       	add	a,0xff
1390  0350  77          	ld	(hl),a
1391  0351  2A 00 00    	ld	hl,(_sprite)
1392  0354  26 00       	ld	h,0x00
1393  0356  01 00 00    	ld	bc,_colint
1394  0359  09          	add	hl,bc
1395  035A  3A 00 00    	ld	a,(_sprite)
1396  035D  5F          	ld	e,a
1397  035E  16 00       	ld	d,0x00
1398  0360  4D          	ld	c,l
1399  0361  44          	ld	b,h
1400  0362  21 00 00    	ld	hl,_class
1401  0365  19          	add	hl,de
1402  0366  5E          	ld	e, (hl)
1403  0367  16 00       	ld	d,0x00
1404  0369  21 00 00    	ld	hl,_sprite_frames
1405  036C  19          	add	hl, de
1406  036D  5E          	ld	e, (hl)
1407  036E  1D          	dec	e
1408  036F  7B          	ld	a, e
1409  0370  02          	ld	(bc), a
1410  0371  2A 00 00    	ld	hl,(_sprite)
1411  0374  26 00       	ld	h,0x00
1412  0376  01 00 00    	ld	bc,_col
1413  0379  09          	add	hl,bc
1414  037A  7E          	ld	a,(hl)
1415  037B  3C          	inc	a
1416  037C  20 36       	jr	NZ,l_spr_move_left_00118
1417  037E  3A 00 00    	ld	a,(_sprite)
1418  0381  D6 07       	sub	a,0x07
1419  0383  4D          	ld	c,l
1420  0384  44          	ld	b,h
1421  0385  20 27       	jr	NZ,l_spr_move_left_00113
1422  0387  CD EA 03    	call	_spr_page_left
1423  038A  3A 00 00    	ld	a,(_sprite)
1424  038D  C6 00       	add	a,+((_col) & 0xFF)
1425  038F  4D          	ld	c,l
1426  0390  5F          	ld	e,a
1427  0391  3E 00       	ld	a,+((_col) / 256)
1428  0393  CE 00       	adc	a,0x00
1429  0395  57          	ld	d,a
1430  0396  79          	ld	a, c
1431  0397  B7          	or	a, a
1432  0398  28 10       	jr	Z,l_spr_move_left_00110
1433  039A  3E 1E       	ld	a,0x1e
1434  039C  12          	ld	(de), a
1435  039D  3A 07 00    	ld	a,(_lin + 7)
1436  03A0  32 00 00    	ld	(_player_lin_scr),a
1437  03A3  21 00 00    	ld	hl,_player_col_scr
1438  03A6  36 1E       	ld	(hl),0x1e
1439  03A8  18 06       	jr	l_spr_move_left_00114
1440  03AA              l_spr_move_left_00110:
1441  03AA  AF          	xor	a, a
1442  03AB  12          	ld	(de), a
1443  03AC  18 02       	jr	l_spr_move_left_00114
1444  03AE              l_spr_move_left_00113:
1445  03AE  AF          	xor	a, a
1446  03AF  02          	ld	(bc), a
1447  03B0              l_spr_move_left_00114:
1448  03B0  2E 01       	ld	l,0x01
1449  03B2  18 02       	jr	l_spr_move_left_00119
1450  03B4              l_spr_move_left_00118:
1451  03B4  2E 00       	ld	l,0x00
1452  03B6              l_spr_move_left_00119:
1453  03B6  C9          	ret
1454  03B7              	SECTION code_compiler
1455  03B7              ;	---------------------------------
1456  03B7              ; Function spr_page_right
1457  03B7              ; ---------------------------------
1458  03B7              _spr_page_right:
1459  03B7  2A FF FF    	ld	hl,(_map_width - 1)
1460  03BA  3A 00 00    	ld	a,(_scr_curr)
1461  03BD  6F          	ld	l,a
1462  03BE  E5          	push	hl
1463  03BF  CD 00 00    	call	__moduchar_callee
1464  03C2  7D          	ld	a, l
1465  03C3  3C          	inc	a
1466  03C4  32 00 00    	ld	(_tmp1),a
1467  03C7  21 00 00    	ld	hl,_map_width
1468  03CA  96          	sub	a, (hl)
1469  03CB  30 1A       	jr	NC,l_spr_page_right_00102
1470  03CD  3A 00 00    	ld	a,(_game_boss)
1471  03D0  B7          	or	a, a
1472  03D1  28 06       	jr	Z,l_spr_page_right_00101
1473  03D3  3A 00 00    	ld	a,(_game_god_mode)
1474  03D6  B7          	or	a, a
1475  03D7  28 0E       	jr	Z,l_spr_page_right_00102
1476  03D9              l_spr_page_right_00101:
1477  03D9  21 00 00    	ld	hl,_scr_curr
1478  03DC  34          	inc	(hl)
1479  03DD  CD 24 05    	call	_spr_page_map
1480  03E0  CD 00 00    	call	_game_draw_screen
1481  03E3  2E 01       	ld	l,0x01
1482  03E5  18 02       	jr	l_spr_page_right_00105
1483  03E7              l_spr_page_right_00102:
1484  03E7  2E 00       	ld	l,0x00
1485  03E9              l_spr_page_right_00105:
1486  03E9  C9          	ret
1487  03EA              	SECTION code_compiler
1488  03EA              ;	---------------------------------
1489  03EA              ; Function spr_page_left
1490  03EA              ; ---------------------------------
1491  03EA              _spr_page_left:
1492  03EA  2A FF FF    	ld	hl,(_map_width - 1)
1493  03ED  3A 00 00    	ld	a,(_scr_curr)
1494  03F0  6F          	ld	l,a
1495  03F1  E5          	push	hl
1496  03F2  CD 00 00    	call	__moduchar_callee
1497  03F5  7D          	ld	a,l
1498  03F6  32 00 00    	ld	(_tmp1),a
1499  03F9  B7          	or	a, a
1500  03FA  28 1A       	jr	Z,l_spr_page_left_00102
1501  03FC  3A 00 00    	ld	a,(_game_boss)
1502  03FF  B7          	or	a, a
1503  0400  28 06       	jr	Z,l_spr_page_left_00101
1504  0402  3A 00 00    	ld	a,(_game_god_mode)
1505  0405  B7          	or	a, a
1506  0406  28 0E       	jr	Z,l_spr_page_left_00102
1507  0408              l_spr_page_left_00101:
1508  0408  21 00 00    	ld	hl,_scr_curr
1509  040B  35          	dec	(hl)
1510  040C  CD 24 05    	call	_spr_page_map
1511  040F  CD 00 00    	call	_game_draw_screen
1512  0412  2E 01       	ld	l,0x01
1513  0414  18 02       	jr	l_spr_page_left_00105
1514  0416              l_spr_page_left_00102:
1515  0416  2E 00       	ld	l,0x00
1516  0418              l_spr_page_left_00105:
1517  0418  C9          	ret
1518  0419              	SECTION code_compiler
1519  0419              ;	---------------------------------
1520  0419              ; Function spr_page_down
1521  0419              ; ---------------------------------
1522  0419              _spr_page_down:
1523  0419  2A FF FF    	ld	hl,(_map_heigth - 1)
1524  041C  3A 00 00    	ld	a,(_scr_curr)
1525  041F  6F          	ld	l,a
1526  0420  E5          	push	hl
1527  0421  CD 00 00    	call	__divuchar_callee
1528  0424  7D          	ld	a, l
1529  0425  3C          	inc	a
1530  0426  32 00 00    	ld	(_tmp1),a
1531  0429  21 00 00    	ld	hl,_map_heigth
1532  042C  96          	sub	a, (hl)
1533  042D  30 36       	jr	NC,l_spr_page_down_00102
1534  042F  3A 00 00    	ld	a,(_game_boss)
1535  0432  B7          	or	a, a
1536  0433  28 06       	jr	Z,l_spr_page_down_00101
1537  0435  3A 00 00    	ld	a,(_game_god_mode)
1538  0438  B7          	or	a, a
1539  0439  28 2A       	jr	Z,l_spr_page_down_00102
1540  043B              l_spr_page_down_00101:
1541  043B  3A 00 00    	ld	a,(_scr_curr)
1542  043E  21 00 00    	ld	hl,_map_width
1543  0441  86          	add	a, (hl)
1544  0442  32 00 00    	ld	(_scr_curr),a
1545  0445  CD 24 05    	call	_spr_page_map
1546  0448  CD 00 00    	call	_game_draw_screen
1547  044B  21 00 00    	ld	hl,_player_lin_scr
1548  044E  36 08       	ld	(hl),0x08
1549  0450  2A 00 00    	ld	hl,(_sprite)
1550  0453  26 00       	ld	h,0x00
1551  0455  01 00 00    	ld	bc,_lin
1552  0458  09          	add	hl,bc
1553  0459  36 08       	ld	(hl),0x08
1554  045B  3A 07 00    	ld	a,(_col + 0x0007)
1555  045E  32 00 00    	ld	(_player_col_scr),a
1556  0461  2E 01       	ld	l,0x01
1557  0463  18 02       	jr	l_spr_page_down_00105
1558  0465              l_spr_page_down_00102:
1559  0465  2E 00       	ld	l,0x00
1560  0467              l_spr_page_down_00105:
1561  0467  C9          	ret
1562  0468              	SECTION code_compiler
1563  0468              ;	---------------------------------
1564  0468              ; Function spr_page_up
1565  0468              ; ---------------------------------
1566  0468              _spr_page_up:
1567  0468  2A FF FF    	ld	hl,(_map_width - 1)
1568  046B  3A 00 00    	ld	a,(_scr_curr)
1569  046E  6F          	ld	l,a
1570  046F  E5          	push	hl
1571  0470  CD 00 00    	call	__divuchar_callee
1572  0473  7D          	ld	a,l
1573  0474  32 00 00    	ld	(_tmp1),a
1574  0477  B7          	or	a, a
1575  0478  28 36       	jr	Z,l_spr_page_up_00102
1576  047A  3A 00 00    	ld	a,(_game_boss)
1577  047D  B7          	or	a, a
1578  047E  28 06       	jr	Z,l_spr_page_up_00101
1579  0480  3A 00 00    	ld	a,(_game_god_mode)
1580  0483  B7          	or	a, a
1581  0484  28 2A       	jr	Z,l_spr_page_up_00102
1582  0486              l_spr_page_up_00101:
1583  0486  3A 00 00    	ld	a,(_scr_curr)
1584  0489  21 00 00    	ld	hl,_map_width
1585  048C  96          	sub	a, (hl)
1586  048D  32 00 00    	ld	(_scr_curr),a
1587  0490  CD 24 05    	call	_spr_page_map
1588  0493  CD 00 00    	call	_game_draw_screen
1589  0496  2A 00 00    	ld	hl,(_sprite)
1590  0499  26 00       	ld	h,0x00
1591  049B  01 00 00    	ld	bc,_lin
1592  049E  09          	add	hl,bc
1593  049F  36 8C       	ld	(hl),0x8c
1594  04A1  21 00 00    	ld	hl,_player_lin_scr
1595  04A4  36 8C       	ld	(hl),0x8c
1596  04A6  3A 07 00    	ld	a,(_col + 0x0007)
1597  04A9  32 00 00    	ld	(_player_col_scr),a
1598  04AC  2E 01       	ld	l,0x01
1599  04AE  18 02       	jr	l_spr_page_up_00105
1600  04B0              l_spr_page_up_00102:
1601  04B0  2E 00       	ld	l,0x00
1602  04B2              l_spr_page_up_00105:
1603  04B2  C9          	ret
1604  04B3              	SECTION code_compiler
1605  04B3              ;	---------------------------------
1606  04B3              ; Function spr_clear_scr
1607  04B3              ; ---------------------------------
1608  04B3              _spr_clear_scr:
1609  04B3  CD 00 00    	call	___sdcc_enter_ix
1610  04B6  3B          	dec	sp
1611  04B7  06 00       	ld	b,0x00
1612  04B9              l_spr_clear_scr_00105:
1613  04B9  C5          	push	bc
1614  04BA  21 00 00    	ld	hl,0x0000
1615  04BD  E5          	push	hl
1616  04BE  AF          	xor	a, a
1617  04BF  48          	ld	c,b
1618  04C0  47          	ld	b,a
1619  04C1  C5          	push	bc
1620  04C2  CD 00 00    	call	_NIRVANAP_spriteT_callee
1621  04C5  C1          	pop	bc
1622  04C6  04          	inc	b
1623  04C7  78          	ld	a, b
1624  04C8  D6 08       	sub	a,0x08
1625  04CA  38 ED       	jr	C,l_spr_clear_scr_00105
1626  04CC  76          	halt
1627  04CD  F3          	di
1628  04CE  0E 00       	ld	c,0x00
1629  04D0              l_spr_clear_scr_00117:
1630  04D0  79          	ld	a, c
1631  04D1  87          	add	a, a
1632  04D2  DD 77 FF    	ld	(ix-1),a
1633  04D5  5F          	ld	e,a
1634  04D6  06 01       	ld	b,0x01
1635  04D8              l_spr_clear_scr_00107:
1636  04D8  78          	ld	a, b
1637  04D9  07          	rlca
1638  04DA  07          	rlca
1639  04DB  07          	rlca
1640  04DC  07          	rlca
1641  04DD  E6 F0       	and	a,0xf0
1642  04DF  57          	ld	d, a
1643  04E0  C5          	push	bc
1644  04E1  D5          	push	de
1645  04E2  DD 7E FF    	ld	a,(ix-1)
1646  04E5  5A          	ld	e,d
1647  04E6  57          	ld	d,a
1648  04E7  D5          	push	de
1649  04E8  AF          	xor	a, a
1650  04E9  F5          	push	af
1651  04EA  33          	inc	sp
1652  04EB  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1653  04EE  D1          	pop	de
1654  04EF  C1          	pop	bc
1655  04F0  04          	inc	b
1656  04F1  78          	ld	a, b
1657  04F2  D6 0A       	sub	a,0x0a
1658  04F4  38 E2       	jr	C,l_spr_clear_scr_00107
1659  04F6  3E 1E       	ld	a,0x1e
1660  04F8  93          	sub	a, e
1661  04F9  57          	ld	d, a
1662  04FA  1E 01       	ld	e,0x01
1663  04FC              l_spr_clear_scr_00109:
1664  04FC  7B          	ld	a, e
1665  04FD  07          	rlca
1666  04FE  07          	rlca
1667  04FF  07          	rlca
1668  0500  07          	rlca
1669  0501  E6 F0       	and	a,0xf0
1670  0503  47          	ld	b, a
1671  0504  C5          	push	bc
1672  0505  D5          	push	de
1673  0506  58          	ld	e,b
1674  0507  D5          	push	de
1675  0508  AF          	xor	a, a
1676  0509  F5          	push	af
1677  050A  33          	inc	sp
1678  050B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1679  050E  D1          	pop	de
1680  050F  C1          	pop	bc
1681  0510  1C          	inc	e
1682  0511  7B          	ld	a, e
1683  0512  D6 0A       	sub	a,0x0a
1684  0514  38 E6       	jr	C,l_spr_clear_scr_00109
1685  0516  FB          	ei
1686  0517  76          	halt
1687  0518  F3          	di
1688  0519  0C          	inc	c
1689  051A  79          	ld	a, c
1690  051B  D6 08       	sub	a,0x08
1691  051D  38 B1       	jr	C,l_spr_clear_scr_00117
1692  051F  FB          	ei
1693  0520  33          	inc	sp
1694  0521  DD E1       	pop	ix
1695  0523  C9          	ret
1696  0524              	SECTION code_compiler
1697  0524              ;	---------------------------------
1698  0524              ; Function spr_page_map
1699  0524              ; ---------------------------------
1700  0524              _spr_page_map:
1701  0524  CD 00 00    	call	___sdcc_enter_ix
1702  0527  21 F1 FF    	ld	hl, -15
1703  052A  39          	add	hl, sp
1704  052B  F9          	ld	sp, hl
1705  052C  21 00 00    	ld	hl,_game_world
1706  052F  5E          	ld	e, (hl)
1707  0530  21 00 00    	ld	hl,_scr_curr
1708  0533  4E          	ld	c, (hl)
1709  0534  7B          	ld	a, e
1710  0535  07          	rlca
1711  0536  07          	rlca
1712  0537  07          	rlca
1713  0538  07          	rlca
1714  0539  E6 F0       	and	a,0xf0
1715  053B  47          	ld	b,a
1716  053C  81          	add	a, c
1717  053D  DD 77 F1    	ld	(ix-15),a
1718  0540  DD 36 F7 10 	ld	(ix-9),0x10
1719  0544  C5          	push	bc
1720  0545  D5          	push	de
1721  0546  CD B3 04    	call	_spr_clear_scr
1722  0549  D1          	pop	de
1723  054A  C1          	pop	bc
1724  054B  F3          	di
1725  054C  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1726  054F  36 16       	ld	(hl),0x16
1727  0551  C5          	push	bc
1728  0552  3E 16       	ld	a,0x16
1729  0554  01 FD 7F    	ld	bc,_IO_7FFD
1730  0557  ED 79       	out	(c),a
1731  0559  C1          	pop	bc
1732  055A  79          	ld	a, c
1733  055B  3C          	inc	a
1734  055C  20 0B       	jr	NZ,l_spr_page_map_00102
1735  055E  57          	ld	d,a
1736  055F  21 00 00    	ld	hl,_start_scr0
1737  0562  19          	add	hl, de
1738  0563  4E          	ld	c, (hl)
1739  0564  78          	ld	a, b
1740  0565  81          	add	a, c
1741  0566  DD 77 F1    	ld	(ix-15),a
1742  0569              l_spr_page_map_00102:
1743  0569  3E 00       	ld	a, +((_paper0) & 0xFF)
1744  056B  DD 86 F1    	add	a,(ix-15)
1745  056E  6F          	ld	l, a
1746  056F  3E 00       	ld	a, +((_paper0) / 256)
1747  0571  CE 00       	adc	a,0x00
1748  0573  67          	ld	h, a
1749  0574  7E          	ld	a, (hl)
1750  0575  DD 77 F2    	ld	(ix-14),a
1751  0578  16 00       	ld	d,0x00
1752  057A  21 00 00    	ld	hl,_world0_w
1753  057D  19          	add	hl, de
1754  057E  7E          	ld	a, (hl)
1755  057F  DD 77 F4    	ld	(ix-12),a
1756  0582  16 00       	ld	d,0x00
1757  0584  21 00 00    	ld	hl,_world0_h
1758  0587  19          	add	hl, de
1759  0588  7E          	ld	a, (hl)
1760  0589  DD 77 F3    	ld	(ix-13),a
1761  058C  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1762  058F  36 10       	ld	(hl),0x10
1763  0591  C5          	push	bc
1764  0592  3E 10       	ld	a,0x10
1765  0594  01 FD 7F    	ld	bc,_IO_7FFD
1766  0597  ED 79       	out	(c),a
1767  0599  C1          	pop	bc
1768  059A  3E 00       	ld	a,0x00
1769  059C  DD 77 F5    	ld	(ix-11),a
1770  059F  DD 77 F6    	ld	(ix-10),a
1771  05A2  DD 77 F8    	ld	(ix-8),a
1772  05A5              l_spr_page_map_00103:
1773  05A5  DD 7E F8    	ld	a,(ix-8)
1774  05A8  DD 96 F1    	sub	a,(ix-15)
1775  05AB  30 3C       	jr	NC,l_spr_page_map_00105
1776  05AD  C5          	push	bc
1777  05AE  3E 16       	ld	a,0x16
1778  05B0  01 FD 7F    	ld	bc,_IO_7FFD
1779  05B3  ED 79       	out	(c),a
1780  05B5  C1          	pop	bc
1781  05B6  11 00 00    	ld	de,_lenght0
1782  05B9  DD 6E F8    	ld	l,(ix-8)
1783  05BC  26 00       	ld	h,0x00
1784  05BE  19          	add	hl,de
1785  05BF  DD 75 FE    	ld	(ix-2),l
1786  05C2  DD 74 FF    	ld	(ix-1),h
1787  05C5  5E          	ld	e, (hl)
1788  05C6  06 00       	ld	b,0x00
1789  05C8  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1790  05CB  36 10       	ld	(hl),0x10
1791  05CD  C5          	push	bc
1792  05CE  3E 10       	ld	a,0x10
1793  05D0  01 FD 7F    	ld	bc,_IO_7FFD
1794  05D3  ED 79       	out	(c),a
1795  05D5  C1          	pop	bc
1796  05D6  DD 7E F5    	ld	a,(ix-11)
1797  05D9  83          	add	a, e
1798  05DA  DD 77 F5    	ld	(ix-11),a
1799  05DD  DD 7E F6    	ld	a,(ix-10)
1800  05E0  88          	adc	a, b
1801  05E1  DD 77 F6    	ld	(ix-10),a
1802  05E4  DD 34 F8    	inc	(ix-8)
1803  05E7  18 BC       	jr	l_spr_page_map_00103
1804  05E9              l_spr_page_map_00105:
1805  05E9  FB          	ei
1806  05EA  F3          	di
1807  05EB  06 00       	ld	b,0x00
1808  05ED              l_spr_page_map_00126:
1809  05ED  C5          	push	bc
1810  05EE  3E 16       	ld	a,0x16
1811  05F0  01 FD 7F    	ld	bc,_IO_7FFD
1812  05F3  ED 79       	out	(c),a
1813  05F5  C1          	pop	bc
1814  05F6  58          	ld	e, b
1815  05F7  16 00       	ld	d,0x00
1816  05F9  DD 6E F5    	ld	l,(ix-11)
1817  05FC  DD 66 F6    	ld	h,(ix-10)
1818  05FF  19          	add	hl,de
1819  0600  EB          	ex	de,hl
1820  0601  21 00 00    	ld	hl,_world0
1821  0604  19          	add	hl, de
1822  0605  7E          	ld	a, (hl)
1823  0606  DD 77 FB    	ld	(ix-5),a
1824  0609  13          	inc	de
1825  060A  21 00 00    	ld	hl,_world0
1826  060D  19          	add	hl, de
1827  060E  7E          	ld	a, (hl)
1828  060F  DD 77 FA    	ld	(ix-6),a
1829  0612  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1830  0615  36 10       	ld	(hl),0x10
1831  0617  C5          	push	bc
1832  0618  3E 10       	ld	a,0x10
1833  061A  01 FD 7F    	ld	bc,_IO_7FFD
1834  061D  ED 79       	out	(c),a
1835  061F  C1          	pop	bc
1836  0620  DD 7E FB    	ld	a,(ix-5)
1837  0623  D6 80       	sub	a,0x80
1838  0625  30 45       	jr	NC,l_spr_page_map_00116
1839  0627  DD 5E F7    	ld	e,(ix-9)
1840  062A  16 00       	ld	d,0x00
1841  062C  C5          	push	bc
1842  062D  D5          	push	de
1843  062E  EB          	ex	de,hl
1844  062F  CD 00 00    	call	_game_obj_chk
1845  0632  DD 75 FE    	ld	(ix-2),l
1846  0635  D1          	pop	de
1847  0636  C1          	pop	bc
1848  0637  3E 00       	ld	a, +((_scr_map) & 0xFF)
1849  0639  DD 86 F7    	add	a,(ix-9)
1850  063C  DD 77 FC    	ld	(ix-4),a
1851  063F  3E 00       	ld	a, +((_scr_map) / 256)
1852  0641  CE 00       	adc	a,0x00
1853  0643  DD 77 FD    	ld	(ix-3),a
1854  0646  DD 7E FE    	ld	a,(ix-2)
1855  0649  B7          	or	a, a
1856  064A  20 0C       	jr	NZ,l_spr_page_map_00107
1857  064C  DD 6E FC    	ld	l,(ix-4)
1858  064F  DD 66 FD    	ld	h,(ix-3)
1859  0652  DD 7E FB    	ld	a,(ix-5)
1860  0655  77          	ld	(hl), a
1861  0656  18 0F       	jr	l_spr_page_map_00108
1862  0658              l_spr_page_map_00107:
1863  0658  C5          	push	bc
1864  0659  D5          	push	de
1865  065A  CD 00 00    	call	_game_match_back
1866  065D  F1          	pop	af
1867  065E  C1          	pop	bc
1868  065F  5D          	ld	e,l
1869  0660  DD 6E FC    	ld	l,(ix-4)
1870  0663  DD 66 FD    	ld	h,(ix-3)
1871  0666  73          	ld	(hl), e
1872  0667              l_spr_page_map_00108:
1873  0667  DD 34 F7    	inc	(ix-9)
1874  066A  18 6B       	jr	l_spr_page_map_00117
1875  066C              l_spr_page_map_00116:
1876  066C  DD 7E FB    	ld	a,(ix-5)
1877  066F  C6 80       	add	a,0x80
1878  0671  DD 77 F9    	ld	(ix-7),a
1879  0674  DD 5E F7    	ld	e,(ix-9)
1880  0677  16 00       	ld	d,0x00
1881  0679              l_spr_page_map_00124:
1882  0679  7A          	ld	a, d
1883  067A  DD 96 F9    	sub	a,(ix-7)
1884  067D  30 54       	jr	NC,l_spr_page_map_00143
1885  067F  DD 73 FC    	ld	(ix-4),e
1886  0682  DD 36 FD 00 	ld	(ix-3),0x00
1887  0686  C5          	push	bc
1888  0687  D5          	push	de
1889  0688  DD 6E FC    	ld	l,(ix-4)
1890  068B  DD 66 FD    	ld	h,(ix-3)
1891  068E  CD 00 00    	call	_game_obj_chk
1892  0691  D1          	pop	de
1893  0692  C1          	pop	bc
1894  0693  7D          	ld	a,l
1895  0694  B7          	or	a, a
1896  0695  20 0F       	jr	NZ,l_spr_page_map_00110
1897  0697  3E 00       	ld	a, +((_scr_map) & 0xFF)
1898  0699  83          	add	a, e
1899  069A  6F          	ld	l, a
1900  069B  3E 00       	ld	a, +((_scr_map) / 256)
1901  069D  CE 00       	adc	a,0x00
1902  069F  67          	ld	h, a
1903  06A0  DD 7E FA    	ld	a,(ix-6)
1904  06A3  77          	ld	(hl), a
1905  06A4  18 24       	jr	l_spr_page_map_00111
1906  06A6              l_spr_page_map_00110:
1907  06A6  3E 00       	ld	a, +((_scr_map) & 0xFF)
1908  06A8  83          	add	a, e
1909  06A9  DD 77 FE    	ld	(ix-2),a
1910  06AC  3E 00       	ld	a, +((_scr_map) / 256)
1911  06AE  CE 00       	adc	a,0x00
1912  06B0  DD 77 FF    	ld	(ix-1),a
1913  06B3  C5          	push	bc
1914  06B4  D5          	push	de
1915  06B5  DD 6E FC    	ld	l,(ix-4)
1916  06B8  DD 66 FD    	ld	h,(ix-3)
1917  06BB  E5          	push	hl
1918  06BC  CD 00 00    	call	_game_match_back
1919  06BF  F1          	pop	af
1920  06C0  D1          	pop	de
1921  06C1  C1          	pop	bc
1922  06C2  7D          	ld	a,l
1923  06C3  DD 6E FE    	ld	l,(ix-2)
1924  06C6  DD 66 FF    	ld	h,(ix-1)
1925  06C9  77          	ld	(hl), a
1926  06CA              l_spr_page_map_00111:
1927  06CA  1C          	inc	e
1928  06CB  7B          	ld	a, e
1929  06CC  D6 A0       	sub	a,0xa0
1930  06CE  30 03       	jr	NC,l_spr_page_map_00143
1931  06D0  14          	inc	d
1932  06D1  18 A6       	jr	l_spr_page_map_00124
1933  06D3              l_spr_page_map_00143:
1934  06D3  DD 73 F7    	ld	(ix-9),e
1935  06D6  04          	inc	b
1936  06D7              l_spr_page_map_00117:
1937  06D7  DD 7E F7    	ld	a,(ix-9)
1938  06DA  D6 A0       	sub	a,0xa0
1939  06DC  30 07       	jr	NC,l_spr_page_map_00120
1940  06DE  04          	inc	b
1941  06DF  78          	ld	a, b
1942  06E0  D6 A0       	sub	a,0xa0
1943  06E2  DA ED 05    	jp	C, l_spr_page_map_00126
1944  06E5              l_spr_page_map_00120:
1945  06E5  21 00 00    	ld	hl,_scr_curr
1946  06E8  71          	ld	(hl), c
1947  06E9  DD 7E F4    	ld	a,(ix-12)
1948  06EC  32 00 00    	ld	(_map_width),a
1949  06EF  DD 7E F3    	ld	a,(ix-13)
1950  06F2  32 00 00    	ld	(_map_heigth),a
1951  06F5  DD 7E F2    	ld	a,(ix-14)
1952  06F8  32 00 00    	ld	(_map_paper),a
1953  06FB  CD 54 0C    	call	_spr_init_anim_bullets
1954  06FE  3A 00 00    	ld	a,(_map_paper_last)
1955  0701  21 00 00    	ld	hl,_map_paper
1956  0704  96          	sub	a, (hl)
1957  0705  28 03       	jr	Z,l_spr_page_map_00122
1958  0707  CD EC 14    	call	_spr_btile_paint_back
1959  070A              l_spr_page_map_00122:
1960  070A  3A 00 00    	ld	a,(_map_paper)
1961  070D  32 00 00    	ld	(_map_paper_last),a
1962  0710  FB          	ei
1963  0711  CD 00 00    	call	_NIRVANAP_start
1964  0714  21 00 00    	ld	hl,_screen_ink
1965  0717  36 06       	ld	(hl),0x06
1966  0719  21 00 00    	ld	hl,___str_0
1967  071C  E5          	push	hl
1968  071D  21 17 0C    	ld	hl,0x0c17
1969  0720  E5          	push	hl
1970  0721  CD 00 00    	call	_zx_print_str
1971  0724  3A 00 00    	ld	a,(_scr_curr)
1972  0727  F5          	push	af
1973  0728  33          	inc	sp
1974  0729  21 17 10    	ld	hl,0x1017
1975  072C  E5          	push	hl
1976  072D  CD 00 00    	call	_zx_print_chr
1977  0730  DD F9       	ld	sp, ix
1978  0732  DD E1       	pop	ix
1979  0734  C9          	ret
1980  0735              	SECTION rodata_compiler
1981  0000              ___str_0:
1982  0000  53 43 52 3A 	DEFM "SCR:"
1983  0004  00          	DEFB 0x00
1984  0005              	SECTION code_compiler
1985  0735              ;	---------------------------------
1986  0735              ; Function spr_redraw
1987  0735              ; ---------------------------------
1988  0735              _spr_redraw:
1989  0735  2A 00 00    	ld	hl,(_sprite)
1990  0738  26 00       	ld	h,0x00
1991  073A  01 00 00    	ld	bc,_tile
1992  073D  09          	add	hl,bc
1993  073E  4E          	ld	c, (hl)
1994  073F  3A 00 00    	ld	a,(_sprite)
1995  0742  5F          	ld	e,a
1996  0743  16 00       	ld	d,0x00
1997  0745  21 00 00    	ld	hl,_colint
1998  0748  19          	add	hl,de
1999  0749  7E          	ld	a,(hl)
2000  074A  81          	add	a,c
2001  074B  32 00 00    	ld	(_s_tile1),a
2002  074E  2A 00 00    	ld	hl,(_sprite)
2003  0751  26 00       	ld	h,0x00
2004  0753  01 00 00    	ld	bc,_col
2005  0756  09          	add	hl,bc
2006  0757  7E          	ld	a,(hl)
2007  0758  32 00 00    	ld	(_s_col1),a
2008  075B  2A 00 00    	ld	hl,(_sprite)
2009  075E  26 00       	ld	h,0x00
2010  0760  01 00 00    	ld	bc,_lin
2011  0763  09          	add	hl,bc
2012  0764  7E          	ld	a,(hl)
2013  0765  4D          	ld	c,l
2014  0766  32 00 00    	ld	(_s_lin1),a
2015  0769  21 00 00    	ld	hl,_s_lin0
2016  076C  96          	sub	a, (hl)
2017  076D  20 0A       	jr	NZ,l_spr_redraw_00117
2018  076F  3A 00 00    	ld	a,(_s_col1)
2019  0772  21 00 00    	ld	hl,_s_col0
2020  0775  96          	sub	a, (hl)
2021  0776  CA 2C 08    	jp	Z,l_spr_redraw_00118
2022  0779              l_spr_redraw_00117:
2023  0779  3A 00 00    	ld	a,(_sprite)
2024  077C  D6 07       	sub	a,0x07
2025  077E  20 3A       	jr	NZ,l_spr_redraw_00113
2026  0780  3A 00 00    	ld	a,(_player_onstair)
2027  0783  B7          	or	a, a
2028  0784  28 2F       	jr	Z,l_spr_redraw_00104
2029  0786  3A 07 00    	ld	a, (_lin + 7)
2030  0789  E6 03       	and	a,0x03
2031  078B  20 28       	jr	NZ,l_spr_redraw_00104
2032  078D  21 00 00    	ld	hl,_player_anim_stair
2033  0790  34          	inc	(hl)
2034  0791  20 02       	jr	NZ,l_spr_redraw_00162
2035  0793  23          	inc	hl
2036  0794  34          	inc	(hl)
2037  0795              l_spr_redraw_00162:
2038  0795  3E 01       	ld	a,0x01
2039  0797  21 00 00    	ld	hl,_player_anim_stair
2040  079A  BE          	cp	a, (hl)
2041  079B  3E 00       	ld	a,0x00
2042  079D  23          	inc	hl
2043  079E  9E          	sbc	a, (hl)
2044  079F  30 05       	jr	NC,l_spr_redraw_00102
2045  07A1  2B          	dec	hl
2046  07A2  AF          	xor	a, a
2047  07A3  77          	ld	(hl), a
2048  07A4  23          	inc	hl
2049  07A5  77          	ld	(hl), a
2050  07A6              l_spr_redraw_00102:
2051  07A6  21 07 00    	ld	hl,_tile + 7
2052  07A9  4E          	ld	c, (hl)
2053  07AA  21 00 00    	ld	hl,_player_anim_stair
2054  07AD  46          	ld	b, (hl)
2055  07AE  79          	ld	a, c
2056  07AF  80          	add	a, b
2057  07B0  C6 04       	add	a,0x04
2058  07B2  32 00 00    	ld	(_s_tile1),a
2059  07B5              l_spr_redraw_00104:
2060  07B5  CD AC 0A    	call	_spr_back_repaint
2061  07B8  18 5B       	jr	l_spr_redraw_00114
2062  07BA              l_spr_redraw_00113:
2063  07BA  3A 00 00    	ld	a,(_s_lin1)
2064  07BD  E6 07       	and	a,0x07
2065  07BF  20 05       	jr	NZ,l_spr_redraw_00110
2066  07C1  CD AC 0A    	call	_spr_back_repaint
2067  07C4  18 4F       	jr	l_spr_redraw_00114
2068  07C6              l_spr_redraw_00110:
2069  07C6  21 00 00    	ld	hl,_s_state
2070  07C9  CB 46       	bit	0, (hl)
2071  07CB  28 26       	jr	Z,l_spr_redraw_00107
2072  07CD  3A 00 00    	ld	a,(_s_lin0)
2073  07D0  C6 08       	add	a,0x08
2074  07D2  47          	ld	b, a
2075  07D3  3A 00 00    	ld	a,(_s_col0)
2076  07D6  F5          	push	af
2077  07D7  33          	inc	sp
2078  07D8  C5          	push	bc
2079  07D9  33          	inc	sp
2080  07DA  3A 00 00    	ld	a,(_map_paper_clr)
2081  07DD  F5          	push	af
2082  07DE  33          	inc	sp
2083  07DF  CD 00 00    	call	_NIRVANAP_fillC_callee
2084  07E2  21 00 00    	ld	hl,_s_col0
2085  07E5  56          	ld	d, (hl)
2086  07E6  14          	inc	d
2087  07E7  58          	ld	e,b
2088  07E8  3A 00 00    	ld	a,(_map_paper_clr)
2089  07EB  D5          	push	de
2090  07EC  F5          	push	af
2091  07ED  33          	inc	sp
2092  07EE  CD 00 00    	call	_NIRVANAP_fillC_callee
2093  07F1  18 22       	jr	l_spr_redraw_00114
2094  07F3              l_spr_redraw_00107:
2095  07F3  2A FF FF    	ld	hl,(_s_col0 - 1)
2096  07F6  3A 00 00    	ld	a,(_s_lin0)
2097  07F9  6F          	ld	l,a
2098  07FA  3A 00 00    	ld	a,(_map_paper_clr)
2099  07FD  E5          	push	hl
2100  07FE  F5          	push	af
2101  07FF  33          	inc	sp
2102  0800  CD 00 00    	call	_NIRVANAP_fillC_callee
2103  0803  21 00 00    	ld	hl,_s_col0
2104  0806  46          	ld	b, (hl)
2105  0807  04          	inc	b
2106  0808  C5          	push	bc
2107  0809  33          	inc	sp
2108  080A  2A FF FF    	ld	hl,(_s_lin0 - 1)
2109  080D  3A 00 00    	ld	a,(_map_paper_clr)
2110  0810  6F          	ld	l,a
2111  0811  E5          	push	hl
2112  0812  CD 00 00    	call	_NIRVANAP_fillC_callee
2113  0815              l_spr_redraw_00114:
2114  0815  2A FF FF    	ld	hl,(_s_col1 - 1)
2115  0818  3A 00 00    	ld	a,(_s_lin1)
2116  081B  6F          	ld	l,a
2117  081C  E5          	push	hl
2118  081D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2119  0820  3A 00 00    	ld	a,(_sprite)
2120  0823  6F          	ld	l,a
2121  0824  E5          	push	hl
2122  0825  CD 00 00    	call	_NIRVANAP_spriteT_callee
2123  0828  2E 01       	ld	l,0x01
2124  082A  18 22       	jr	l_spr_redraw_00121
2125  082C              l_spr_redraw_00118:
2126  082C  3A 00 00    	ld	a,(_s_tile1)
2127  082F  21 00 00    	ld	hl,_s_tile0
2128  0832  96          	sub	a, (hl)
2129  0833  28 17       	jr	Z,l_spr_redraw_00119
2130  0835  2A FF FF    	ld	hl,(_s_col1 - 1)
2131  0838  3A 00 00    	ld	a,(_s_lin1)
2132  083B  6F          	ld	l,a
2133  083C  E5          	push	hl
2134  083D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2135  0840  3A 00 00    	ld	a,(_sprite)
2136  0843  6F          	ld	l,a
2137  0844  E5          	push	hl
2138  0845  CD 00 00    	call	_NIRVANAP_spriteT_callee
2139  0848  2E 00       	ld	l,0x00
2140  084A  18 02       	jr	l_spr_redraw_00121
2141  084C              l_spr_redraw_00119:
2142  084C  2E 00       	ld	l,0x00
2143  084E              l_spr_redraw_00121:
2144  084E  C9          	ret
2145  084F              	SECTION code_compiler
2146  084F              ;	---------------------------------
2147  084F              ; Function spr_destroy
2148  084F              ; ---------------------------------
2149  084F              _spr_destroy:
2150  084F  CD 00 00    	call	___sdcc_enter_ix
2151  0852  F5          	push	af
2152  0853  F5          	push	af
2153  0854  45          	ld	b, l
2154  0855  21 00 00    	ld	hl,_spr_count
2155  0858  35          	dec	(hl)
2156  0859  3E 00       	ld	a, +((_lin) & 0xFF)
2157  085B  80          	add	a, b
2158  085C  DD 77 FE    	ld	(ix-2),a
2159  085F  6F          	ld	l,a
2160  0860  3E 00       	ld	a,+((_lin) / 256)
2161  0862  CE 00       	adc	a,0x00
2162  0864  DD 77 FF    	ld	(ix-1),a
2163  0867  67          	ld	h,a
2164  0868  7E          	ld	a, (hl)
2165  0869  32 00 00    	ld	(_s_lin0),a
2166  086C  3E 00       	ld	a, +((_col) & 0xFF)
2167  086E  80          	add	a, b
2168  086F  DD 77 FC    	ld	(ix-4),a
2169  0872  3E 00       	ld	a, +((_col) / 256)
2170  0874  CE 00       	adc	a,0x00
2171  0876  DD 77 FD    	ld	(ix-3),a
2172  0879  E1          	pop	hl
2173  087A  7E          	ld	a,(hl)
2174  087B  E5          	push	hl
2175  087C  32 00 00    	ld	(_s_col0),a
2176  087F  C5          	push	bc
2177  0880  F5          	push	af
2178  0881  33          	inc	sp
2179  0882  3A 00 00    	ld	a,(_s_lin0)
2180  0885  F5          	push	af
2181  0886  33          	inc	sp
2182  0887  CD 00 00    	call	_spr_calc_index
2183  088A  F1          	pop	af
2184  088B  EB          	ex	de,hl
2185  088C  C1          	pop	bc
2186  088D  EB          	ex	de,hl
2187  088E  22 00 00    	ld	(_index0),hl
2188  0891  C5          	push	bc
2189  0892  E5          	push	hl
2190  0893  CD 00 00    	call	_game_match_back
2191  0896  F1          	pop	af
2192  0897  C1          	pop	bc
2193  0898  7D          	ld	a,l
2194  0899  32 00 00    	ld	(_s_tile0),a
2195  089C  C5          	push	bc
2196  089D  21 00 00    	ld	hl,0x0000
2197  08A0  E5          	push	hl
2198  08A1  48          	ld	c,b
2199  08A2  47          	ld	b,a
2200  08A3  C5          	push	bc
2201  08A4  CD 00 00    	call	_NIRVANAP_spriteT_callee
2202  08A7  CD AC 0A    	call	_spr_back_repaint
2203  08AA  C1          	pop	bc
2204  08AB  3E 00       	ld	a, +((_tile) & 0xFF)
2205  08AD  80          	add	a, b
2206  08AE  5F          	ld	e, a
2207  08AF  3E 00       	ld	a, +((_tile) / 256)
2208  08B1  CE 00       	adc	a,0x00
2209  08B3  E1          	pop	hl
2210  08B4  57          	ld	d,a
2211  08B5  3A 00 00    	ld	a,(_s_tile0)
2212  08B8  12          	ld	(de),a
2213  08B9  E5          	push	hl
2214  08BA  36 00       	ld	(hl),0x00
2215  08BC  DD 6E FE    	ld	l,(ix-2)
2216  08BF  DD 66 FF    	ld	h,(ix-1)
2217  08C2  36 00       	ld	(hl),0x00
2218  08C4  11 00 00    	ld	de,_class+0
2219  08C7  68          	ld	l,b
2220  08C8  26 00       	ld	h,0x00
2221  08CA  19          	add	hl, de
2222  08CB  36 00       	ld	(hl),0x00
2223  08CD  11 00 00    	ld	de,_state+0
2224  08D0  68          	ld	l,b
2225  08D1  26 00       	ld	h,0x00
2226  08D3  19          	add	hl, de
2227  08D4  36 00       	ld	(hl),0x00
2228  08D6  11 00 00    	ld	de,_state_a+0
2229  08D9  68          	ld	l,b
2230  08DA  26 00       	ld	h,0x00
2231  08DC  19          	add	hl, de
2232  08DD  36 00       	ld	(hl),0x00
2233  08DF  DD F9       	ld	sp, ix
2234  08E1  DD E1       	pop	ix
2235  08E3  C9          	ret
2236  08E4              	SECTION code_compiler
2237  08E4              ;	---------------------------------
2238  08E4              ; Function spr_tile
2239  08E4              ; ---------------------------------
2240  08E4              _spr_tile:
2241  08E4  CD 00 00    	call	___sdcc_enter_ix
2242  08E7  3B          	dec	sp
2243  08E8  DD 75 FF    	ld	(ix-1),l
2244  08EB  21 00 00    	ld	hl,_tmp0
2245  08EE  36 00       	ld	(hl),0x00
2246  08F0  01 00 00    	ld	bc,_class+0
2247  08F3  DD 6E FF    	ld	l,(ix-1)
2248  08F6  26 00       	ld	h,0x00
2249  08F8  09          	add	hl, bc
2250  08F9  4E          	ld	c, (hl)
2251  08FA              l_spr_tile_00103:
2252  08FA  21 00 00    	ld	hl,_tmp0
2253  08FD  7E          	ld	a, (hl)
2254  08FE  D6 10       	sub	a,0x10
2255  0900  30 40       	jr	NC,l_spr_tile_00105
2256  0902  7E          	ld	a, (hl)
2257  0903  5F          	ld	e, a
2258  0904  87          	add	a, a
2259  0905  83          	add	a, e
2260  0906  21 00 00    	ld	hl,_tmp1
2261  0909  77          	ld	(hl), a
2262  090A  C6 00       	add	a,+((_spr_map_tile) & 0xFF)
2263  090C  5F          	ld	e, a
2264  090D  3E 00       	ld	a, +((_spr_map_tile) / 256)
2265  090F  CE 00       	adc	a,0x00
2266  0911  57          	ld	d, a
2267  0912  1A          	ld	a, (de)
2268  0913  47          	ld	b, a
2269  0914  79          	ld	a, c
2270  0915  90          	sub	a, b
2271  0916  20 24       	jr	NZ,l_spr_tile_00102
2272  0918  4E          	ld	c, (hl)
2273  0919  06 00       	ld	b,0x00
2274  091B  59          	ld	e, c
2275  091C  50          	ld	d, b
2276  091D  13          	inc	de
2277  091E  13          	inc	de
2278  091F  21 00 00    	ld	hl,_spr_map_tile
2279  0922  19          	add	hl, de
2280  0923  5E          	ld	e, (hl)
2281  0924  03          	inc	bc
2282  0925  21 00 00    	ld	hl,_spr_map_tile
2283  0928  09          	add	hl, bc
2284  0929  4E          	ld	c, (hl)
2285  092A  7B          	ld	a, e
2286  092B  F5          	push	af
2287  092C  33          	inc	sp
2288  092D  DD 7E FF    	ld	a,(ix-1)
2289  0930  F5          	push	af
2290  0931  33          	inc	sp
2291  0932  79          	ld	a, c
2292  0933  F5          	push	af
2293  0934  33          	inc	sp
2294  0935  CD 48 09    	call	_spr_tile_dir
2295  0938  F1          	pop	af
2296  0939  33          	inc	sp
2297  093A  18 08       	jr	l_spr_tile_00106
2298  093C              l_spr_tile_00102:
2299  093C  21 00 00    	ld	hl,_tmp0
2300  093F  34          	inc	(hl)
2301  0940  18 B8       	jr	l_spr_tile_00103
2302  0942              l_spr_tile_00105:
2303  0942  2E 00       	ld	l,0x00
2304  0944              l_spr_tile_00106:
2305  0944  33          	inc	sp
2306  0945  DD E1       	pop	ix
2307  0947  C9          	ret
2308  0948              	SECTION code_compiler
2309  0948              ;	---------------------------------
2310  0948              ; Function spr_tile_dir
2311  0948              ; ---------------------------------
2312  0948              _spr_tile_dir:
2313  0948  CD 00 00    	call	___sdcc_enter_ix
2314  094B  3E 00       	ld	a, +((_state) & 0xFF)
2315  094D  DD 86 05    	add	a,(ix+5)
2316  0950  4F          	ld	c, a
2317  0951  3E 00       	ld	a, +((_state) / 256)
2318  0953  CE 00       	adc	a,0x00
2319  0955  47          	ld	b, a
2320  0956  0A          	ld	a, (bc)
2321  0957  4F          	ld	c,a
2322  0958  CB 57       	bit	2,a
2323  095A  28 05       	jr	Z,l_spr_tile_dir_00102
2324  095C  DD 6E 04    	ld	l,(ix+4)
2325  095F  18 2D       	jr	l_spr_tile_dir_00109
2326  0961              l_spr_tile_dir_00102:
2327  0961  DD 7E 04    	ld	a,(ix+4)
2328  0964  DD 86 06    	add	a,(ix+6)
2329  0967  47          	ld	b, a
2330  0968  CB 59       	bit	3, c
2331  096A  28 03       	jr	Z,l_spr_tile_dir_00104
2332  096C  68          	ld	l, b
2333  096D  18 1F       	jr	l_spr_tile_dir_00109
2334  096F              l_spr_tile_dir_00104:
2335  096F  3E 00       	ld	a, +((_state_a) & 0xFF)
2336  0971  DD 86 05    	add	a,(ix+5)
2337  0974  5F          	ld	e, a
2338  0975  3E 00       	ld	a, +((_state_a) / 256)
2339  0977  CE 00       	adc	a,0x00
2340  0979  57          	ld	d, a
2341  097A  1A          	ld	a, (de)
2342  097B  CB 67       	bit	4, a
2343  097D  28 05       	jr	Z,l_spr_tile_dir_00106
2344  097F  DD 6E 04    	ld	l,(ix+4)
2345  0982  18 0A       	jr	l_spr_tile_dir_00109
2346  0984              l_spr_tile_dir_00106:
2347  0984  CB 5F       	bit	3, a
2348  0986  28 03       	jr	Z,l_spr_tile_dir_00108
2349  0988  68          	ld	l, b
2350  0989  18 03       	jr	l_spr_tile_dir_00109
2351  098B              l_spr_tile_dir_00108:
2352  098B  DD 6E 04    	ld	l,(ix+4)
2353  098E              l_spr_tile_dir_00109:
2354  098E  DD E1       	pop	ix
2355  0990  C9          	ret
2356  0991              	SECTION code_compiler
2357  0991              ;	---------------------------------
2358  0991              ; Function spr_brick_anim
2359  0991              ; ---------------------------------
2360  0991              _spr_brick_anim:
2361  0991  CD 00 00    	call	___sdcc_enter_ix
2362  0994  F5          	push	af
2363  0995  3B          	dec	sp
2364  0996  4D          	ld	c, l
2365  0997  21 00 00    	ld	hl,_player_hit_col
2366  099A  56          	ld	d, (hl)
2367  099B  21 00 00    	ld	hl,_player_hit_lin
2368  099E  5E          	ld	e, (hl)
2369  099F  C5          	push	bc
2370  09A0  D5          	push	de
2371  09A1  D5          	push	de
2372  09A2  CD 00 00    	call	_spr_calc_index
2373  09A5  F1          	pop	af
2374  09A6  DD 74 FF    	ld	(ix-1),h
2375  09A9  DD 75 FE    	ld	(ix-2),l
2376  09AC  D1          	pop	de
2377  09AD  C1          	pop	bc
2378  09AE  DD 6E FE    	ld	l,(ix-2)
2379  09B1  DD 66 FF    	ld	h,(ix-1)
2380  09B4  22 00 00    	ld	(_index1),hl
2381  09B7  21 00 00    	ld	hl,_index1
2382  09BA  7E          	ld	a, (hl)
2383  09BB  C6 F0       	add	a,0xf0
2384  09BD  DD 77 FE    	ld	(ix-2),a
2385  09C0  23          	inc	hl
2386  09C1  7E          	ld	a, (hl)
2387  09C2  CE FF       	adc	a,0xff
2388  09C4  DD 77 FF    	ld	(ix-1),a
2389  09C7  3E 00       	ld	a, +((_scr_map) & 0xFF)
2390  09C9  DD 86 FE    	add	a,(ix-2)
2391  09CC  6F          	ld	l, a
2392  09CD  3E 00       	ld	a, +((_scr_map) / 256)
2393  09CF  DD 8E FF    	adc	a,(ix-1)
2394  09D2  67          	ld	h, a
2395  09D3  7E          	ld	a, (hl)
2396  09D4  DD 77 FD    	ld	(ix-3),a
2397  09D7  3E 00       	ld	a, +((_scr_map) & 0xFF)
2398  09D9  21 00 00    	ld	hl,_index1
2399  09DC  86          	add	a, (hl)
2400  09DD  DD 77 FE    	ld	(ix-2),a
2401  09E0  3E 00       	ld	a, +((_scr_map) / 256)
2402  09E2  23          	inc	hl
2403  09E3  8E          	adc	a, (hl)
2404  09E4  DD 6E FE    	ld	l,(ix-2)
2405  09E7  DD 77 FF    	ld	(ix-1),a
2406  09EA  67          	ld	h,a
2407  09EB  46          	ld	b, (hl)
2408  09EC  79          	ld	a, c
2409  09ED  B7          	or	a, a
2410  09EE  28 08       	jr	Z,l_spr_brick_anim_00102
2411  09F0  7B          	ld	a, e
2412  09F1  C6 F6       	add	a,0xf6
2413  09F3  32 00 00    	ld	(_tmp),a
2414  09F6  18 06       	jr	l_spr_brick_anim_00103
2415  09F8              l_spr_brick_anim_00102:
2416  09F8  7B          	ld	a, e
2417  09F9  C6 F8       	add	a,0xf8
2418  09FB  32 00 00    	ld	(_tmp),a
2419  09FE              l_spr_brick_anim_00103:
2420  09FE  F3          	di
2421  09FF  79          	ld	a, c
2422  0A00  B7          	or	a, a
2423  0A01  28 1A       	jr	Z,l_spr_brick_anim_00105
2424  0A03  3A 00 00    	ld	a,(_map_paper_clr)
2425  0A06  C5          	push	bc
2426  0A07  D5          	push	de
2427  0A08  D5          	push	de
2428  0A09  F5          	push	af
2429  0A0A  33          	inc	sp
2430  0A0B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2431  0A0E  D1          	pop	de
2432  0A0F  C1          	pop	bc
2433  0A10  D5          	push	de
2434  0A11  33          	inc	sp
2435  0A12  3A 00 00    	ld	a,(_tmp)
2436  0A15  48          	ld	c,b
2437  0A16  47          	ld	b,a
2438  0A17  C5          	push	bc
2439  0A18  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2440  0A1B  18 1E       	jr	l_spr_brick_anim_00106
2441  0A1D              l_spr_brick_anim_00105:
2442  0A1D  3A 00 00    	ld	a,(_tmp)
2443  0A20  C6 F0       	add	a,0xf0
2444  0A22  C5          	push	bc
2445  0A23  D5          	push	de
2446  0A24  5F          	ld	e,a
2447  0A25  D5          	push	de
2448  0A26  DD 7E FD    	ld	a,(ix-3)
2449  0A29  F5          	push	af
2450  0A2A  33          	inc	sp
2451  0A2B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2452  0A2E  D1          	pop	de
2453  0A2F  C1          	pop	bc
2454  0A30  D5          	push	de
2455  0A31  33          	inc	sp
2456  0A32  3A 00 00    	ld	a,(_tmp)
2457  0A35  48          	ld	c,b
2458  0A36  47          	ld	b,a
2459  0A37  C5          	push	bc
2460  0A38  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2461  0A3B              l_spr_brick_anim_00106:
2462  0A3B  FB          	ei
2463  0A3C  DD F9       	ld	sp, ix
2464  0A3E  DD E1       	pop	ix
2465  0A40  C9          	ret
2466  0A41              	SECTION code_compiler
2467  0A41              ;	---------------------------------
2468  0A41              ; Function spr_draw_index
2469  0A41              ; ---------------------------------
2470  0A41              _spr_draw_index:
2471  0A41  CD 00 00    	call	___sdcc_enter_ix
2472  0A44  DD 4E 04    	ld	c,(ix+4)
2473  0A47  79          	ld	a, c
2474  0A48  E6 0F       	and	a,0x0f
2475  0A4A  87          	add	a, a
2476  0A4B  32 00 00    	ld	(_s_col1),a
2477  0A4E  21 00 00    	ld	hl,_s_lin1
2478  0A51  71          	ld	(hl),c
2479  0A52  79          	ld	a,c
2480  0A53  07          	rlca
2481  0A54  07          	rlca
2482  0A55  07          	rlca
2483  0A56  07          	rlca
2484  0A57  E6 0F       	and	a,0x0f
2485  0A59  07          	rlca
2486  0A5A  07          	rlca
2487  0A5B  07          	rlca
2488  0A5C  07          	rlca
2489  0A5D  E6 F0       	and	a,0xf0
2490  0A5F  77          	ld	(hl), a
2491  0A60  F3          	di
2492  0A61  3E 00       	ld	a, +((_scr_map) & 0xFF)
2493  0A63  DD 86 04    	add	a,(ix+4)
2494  0A66  4F          	ld	c, a
2495  0A67  3E 00       	ld	a, +((_scr_map) / 256)
2496  0A69  DD 8E 05    	adc	a,(ix+5)
2497  0A6C  47          	ld	b, a
2498  0A6D  0A          	ld	a, (bc)
2499  0A6E  47          	ld	b, a
2500  0A6F  3A 00 00    	ld	a,(_s_col1)
2501  0A72  F5          	push	af
2502  0A73  33          	inc	sp
2503  0A74  3A 00 00    	ld	a,(_s_lin1)
2504  0A77  48          	ld	c,b
2505  0A78  47          	ld	b,a
2506  0A79  C5          	push	bc
2507  0A7A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2508  0A7D  FB          	ei
2509  0A7E  DD E1       	pop	ix
2510  0A80  C9          	ret
2511  0A81              	SECTION code_compiler
2512  0A81              ;	---------------------------------
2513  0A81              ; Function spr_calc_hor
2514  0A81              ; ---------------------------------
2515  0A81              _spr_calc_hor:
2516  0A81  CD 00 00    	call	___sdcc_enter_ix
2517  0A84  3E 00       	ld	a, +((_col) & 0xFF)
2518  0A86  DD 86 04    	add	a,(ix+4)
2519  0A89  4F          	ld	c, a
2520  0A8A  3E 00       	ld	a, +((_col) / 256)
2521  0A8C  CE 00       	adc	a,0x00
2522  0A8E  47          	ld	b, a
2523  0A8F  0A          	ld	a, (bc)
2524  0A90  5F          	ld	e, a
2525  0A91  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2526  0A93  DD 86 04    	add	a,(ix+4)
2527  0A96  4F          	ld	c, a
2528  0A97  3E 00       	ld	a, +((_sprite_frames) / 256)
2529  0A99  CE 00       	adc	a,0x00
2530  0A9B  47          	ld	b, a
2531  0A9C  0A          	ld	a, (bc)
2532  0A9D  67          	ld	h, a
2533  0A9E  2E 00       	ld	l,0x00
2534  0AA0  55          	ld	d, l
2535  0AA1  06 08       	ld	b,0x08
2536  0AA3              l_spr_calc_hor_00103:
2537  0AA3  29          	add	hl, hl
2538  0AA4  30 01       	jr	NC,l_spr_calc_hor_00104
2539  0AA6  19          	add	hl, de
2540  0AA7              l_spr_calc_hor_00104:
2541  0AA7  10 FA       	djnz	l_spr_calc_hor_00103
2542  0AA9  DD E1       	pop	ix
2543  0AAB  C9          	ret
2544  0AAC              	SECTION code_compiler
2545  0AAC              ;	---------------------------------
2546  0AAC              ; Function spr_back_repaint
2547  0AAC              ; ---------------------------------
2548  0AAC              _spr_back_repaint:
2549  0AAC  CD 00 00    	call	___sdcc_enter_ix
2550  0AAF  3B          	dec	sp
2551  0AB0  3A 00 00    	ld	a,(_spr_hack)
2552  0AB3  B7          	or	a, a
2553  0AB4  20 02       	jr	NZ,l_spr_back_repaint_00102
2554  0AB6  76          	halt
2555  0AB7  F3          	di
2556  0AB8              l_spr_back_repaint_00102:
2557  0AB8  2A FF FF    	ld	hl,(_s_col0 - 1)
2558  0ABB  3A 00 00    	ld	a,(_s_lin0)
2559  0ABE  6F          	ld	l,a
2560  0ABF  E5          	push	hl
2561  0AC0  CD 00 00    	call	_spr_calc_index
2562  0AC3  F1          	pop	af
2563  0AC4  7D          	ld	a,l
2564  0AC5  32 00 00    	ld	(_sprite_curr_index),a
2565  0AC8  21 00 00    	ld	hl,_s_lin0
2566  0ACB  7E          	ld	a, (hl)
2567  0ACC  E6 0F       	and	a,0x0f
2568  0ACE  4F          	ld	c, a
2569  0ACF  7E          	ld	a, (hl)
2570  0AD0  07          	rlca
2571  0AD1  07          	rlca
2572  0AD2  07          	rlca
2573  0AD3  07          	rlca
2574  0AD4  E6 0F       	and	a,0x0f
2575  0AD6  5F          	ld	e, a
2576  0AD7  21 00 00    	ld	hl,_s_col0
2577  0ADA  CB 46       	bit	0, (hl)
2578  0ADC  20 68       	jr	NZ,l_spr_back_repaint_00110
2579  0ADE  79          	ld	a, c
2580  0ADF  B7          	or	a, a
2581  0AE0  20 1D       	jr	NZ,l_spr_back_repaint_00104
2582  0AE2  2A 00 00    	ld	hl,(_sprite_curr_index)
2583  0AE5  26 00       	ld	h,0x00
2584  0AE7  01 00 00    	ld	bc,_scr_map
2585  0AEA  09          	add	hl,bc
2586  0AEB  46          	ld	b,(hl)
2587  0AEC  3A 00 00    	ld	a,(_s_col0)
2588  0AEF  F5          	push	af
2589  0AF0  33          	inc	sp
2590  0AF1  3A 00 00    	ld	a,(_s_lin0)
2591  0AF4  48          	ld	c,b
2592  0AF5  47          	ld	b,a
2593  0AF6  C5          	push	bc
2594  0AF7  CD 23 0C    	call	_spr_tile_paint
2595  0AFA  F1          	pop	af
2596  0AFB  33          	inc	sp
2597  0AFC  C3 18 0C    	jp	l_spr_back_repaint_00111
2598  0AFF              l_spr_back_repaint_00104:
2599  0AFF  7B          	ld	a, e
2600  0B00  07          	rlca
2601  0B01  07          	rlca
2602  0B02  07          	rlca
2603  0B03  07          	rlca
2604  0B04  E6 F0       	and	a,0xf0
2605  0B06  4F          	ld	c, a
2606  0B07  2A 00 00    	ld	hl,(_sprite_curr_index)
2607  0B0A  26 00       	ld	h,0x00
2608  0B0C  11 00 00    	ld	de,_scr_map
2609  0B0F  19          	add	hl,de
2610  0B10  46          	ld	b, (hl)
2611  0B11  3A 00 00    	ld	a,(_s_col0)
2612  0B14  C5          	push	bc
2613  0B15  F5          	push	af
2614  0B16  33          	inc	sp
2615  0B17  79          	ld	a, c
2616  0B18  48          	ld	c,b
2617  0B19  47          	ld	b,a
2618  0B1A  C5          	push	bc
2619  0B1B  CD 23 0C    	call	_spr_tile_paint
2620  0B1E  F1          	pop	af
2621  0B1F  33          	inc	sp
2622  0B20  C1          	pop	bc
2623  0B21  79          	ld	a, c
2624  0B22  C6 10       	add	a,0x10
2625  0B24  57          	ld	d, a
2626  0B25  21 00 00    	ld	hl,_sprite_curr_index
2627  0B28  7E          	ld	a, (hl)
2628  0B29  C6 10       	add	a,0x10
2629  0B2B  77          	ld	(hl), a
2630  0B2C  C6 00       	add	a,+((_scr_map) & 0xFF)
2631  0B2E  4F          	ld	c, a
2632  0B2F  3E 00       	ld	a, +((_scr_map) / 256)
2633  0B31  CE 00       	adc	a,0x00
2634  0B33  47          	ld	b, a
2635  0B34  0A          	ld	a, (bc)
2636  0B35  47          	ld	b, a
2637  0B36  3A 00 00    	ld	a,(_s_col0)
2638  0B39  5A          	ld	e,d
2639  0B3A  57          	ld	d,a
2640  0B3B  D5          	push	de
2641  0B3C  C5          	push	bc
2642  0B3D  33          	inc	sp
2643  0B3E  CD 23 0C    	call	_spr_tile_paint
2644  0B41  F1          	pop	af
2645  0B42  33          	inc	sp
2646  0B43  C3 18 0C    	jp	l_spr_back_repaint_00111
2647  0B46              l_spr_back_repaint_00110:
2648  0B46  3A 00 00    	ld	a,(_s_col0)
2649  0B49  C6 FF       	add	a,0xff
2650  0B4B  DD 77 FF    	ld	(ix-1),a
2651  0B4E  79          	ld	a, c
2652  0B4F  B7          	or	a, a
2653  0B50  20 3E       	jr	NZ,l_spr_back_repaint_00107
2654  0B52  2A 00 00    	ld	hl,(_sprite_curr_index)
2655  0B55  26 00       	ld	h,0x00
2656  0B57  01 00 00    	ld	bc,_scr_map
2657  0B5A  09          	add	hl,bc
2658  0B5B  46          	ld	b,(hl)
2659  0B5C  DD 7E FF    	ld	a,(ix-1)
2660  0B5F  F5          	push	af
2661  0B60  33          	inc	sp
2662  0B61  3A 00 00    	ld	a,(_s_lin0)
2663  0B64  48          	ld	c,b
2664  0B65  47          	ld	b,a
2665  0B66  C5          	push	bc
2666  0B67  CD 23 0C    	call	_spr_tile_paint
2667  0B6A  F1          	pop	af
2668  0B6B  33          	inc	sp
2669  0B6C  21 00 00    	ld	hl,_sprite_curr_index
2670  0B6F  34          	inc	(hl)
2671  0B70  21 00 00    	ld	hl,_s_col0
2672  0B73  4E          	ld	c, (hl)
2673  0B74  0C          	inc	c
2674  0B75  2A 00 00    	ld	hl,(_sprite_curr_index)
2675  0B78  26 00       	ld	h,0x00
2676  0B7A  11 00 00    	ld	de,_scr_map
2677  0B7D  19          	add	hl,de
2678  0B7E  46          	ld	b, (hl)
2679  0B7F  79          	ld	a, c
2680  0B80  F5          	push	af
2681  0B81  33          	inc	sp
2682  0B82  3A 00 00    	ld	a,(_s_lin0)
2683  0B85  48          	ld	c,b
2684  0B86  47          	ld	b,a
2685  0B87  C5          	push	bc
2686  0B88  CD 23 0C    	call	_spr_tile_paint
2687  0B8B  F1          	pop	af
2688  0B8C  33          	inc	sp
2689  0B8D  C3 18 0C    	jp	l_spr_back_repaint_00111
2690  0B90              l_spr_back_repaint_00107:
2691  0B90  7B          	ld	a, e
2692  0B91  07          	rlca
2693  0B92  07          	rlca
2694  0B93  07          	rlca
2695  0B94  07          	rlca
2696  0B95  E6 F0       	and	a,0xf0
2697  0B97  47          	ld	b, a
2698  0B98  2A 00 00    	ld	hl,(_sprite_curr_index)
2699  0B9B  26 00       	ld	h,0x00
2700  0B9D  11 00 00    	ld	de,_scr_map
2701  0BA0  19          	add	hl,de
2702  0BA1  56          	ld	d, (hl)
2703  0BA2  C5          	push	bc
2704  0BA3  DD 7E FF    	ld	a,(ix-1)
2705  0BA6  F5          	push	af
2706  0BA7  33          	inc	sp
2707  0BA8  4A          	ld	c, d
2708  0BA9  C5          	push	bc
2709  0BAA  CD 23 0C    	call	_spr_tile_paint
2710  0BAD  F1          	pop	af
2711  0BAE  33          	inc	sp
2712  0BAF  C1          	pop	bc
2713  0BB0  21 00 00    	ld	hl,_sprite_curr_index
2714  0BB3  34          	inc	(hl)
2715  0BB4  21 00 00    	ld	hl,_s_col0
2716  0BB7  4E          	ld	c, (hl)
2717  0BB8  0C          	inc	c
2718  0BB9  2A 00 00    	ld	hl,(_sprite_curr_index)
2719  0BBC  26 00       	ld	h,0x00
2720  0BBE  11 00 00    	ld	de,_scr_map
2721  0BC1  19          	add	hl,de
2722  0BC2  5E          	ld	e, (hl)
2723  0BC3  C5          	push	bc
2724  0BC4  79          	ld	a, c
2725  0BC5  48          	ld	c,b
2726  0BC6  47          	ld	b,a
2727  0BC7  C5          	push	bc
2728  0BC8  7B          	ld	a, e
2729  0BC9  F5          	push	af
2730  0BCA  33          	inc	sp
2731  0BCB  CD 23 0C    	call	_spr_tile_paint
2732  0BCE  F1          	pop	af
2733  0BCF  33          	inc	sp
2734  0BD0  C1          	pop	bc
2735  0BD1  78          	ld	a, b
2736  0BD2  C6 10       	add	a,0x10
2737  0BD4  DD 77 FF    	ld	(ix-1),a
2738  0BD7  21 00 00    	ld	hl,_sprite_curr_index
2739  0BDA  7E          	ld	a, (hl)
2740  0BDB  C6 0F       	add	a,0x0f
2741  0BDD  77          	ld	(hl), a
2742  0BDE  21 00 00    	ld	hl,_s_col0
2743  0BE1  4E          	ld	c, (hl)
2744  0BE2  0D          	dec	c
2745  0BE3  2A 00 00    	ld	hl,(_sprite_curr_index)
2746  0BE6  26 00       	ld	h,0x00
2747  0BE8  11 00 00    	ld	de,_scr_map
2748  0BEB  19          	add	hl,de
2749  0BEC  5E          	ld	e, (hl)
2750  0BED  79          	ld	a, c
2751  0BEE  F5          	push	af
2752  0BEF  33          	inc	sp
2753  0BF0  DD 56 FF    	ld	d,(ix-1)
2754  0BF3  D5          	push	de
2755  0BF4  CD 23 0C    	call	_spr_tile_paint
2756  0BF7  F1          	pop	af
2757  0BF8  33          	inc	sp
2758  0BF9  21 00 00    	ld	hl,_sprite_curr_index
2759  0BFC  34          	inc	(hl)
2760  0BFD  21 00 00    	ld	hl,_s_col0
2761  0C00  4E          	ld	c, (hl)
2762  0C01  0C          	inc	c
2763  0C02  2A 00 00    	ld	hl,(_sprite_curr_index)
2764  0C05  26 00       	ld	h,0x00
2765  0C07  11 00 00    	ld	de,_scr_map
2766  0C0A  19          	add	hl,de
2767  0C0B  5E          	ld	e, (hl)
2768  0C0C  79          	ld	a, c
2769  0C0D  F5          	push	af
2770  0C0E  33          	inc	sp
2771  0C0F  DD 56 FF    	ld	d,(ix-1)
2772  0C12  D5          	push	de
2773  0C13  CD 23 0C    	call	_spr_tile_paint
2774  0C16  F1          	pop	af
2775  0C17  33          	inc	sp
2776  0C18              l_spr_back_repaint_00111:
2777  0C18  3A 00 00    	ld	a,(_spr_hack)
2778  0C1B  B7          	or	a, a
2779  0C1C  20 01       	jr	NZ,l_spr_back_repaint_00114
2780  0C1E  FB          	ei
2781  0C1F              l_spr_back_repaint_00114:
2782  0C1F  33          	inc	sp
2783  0C20  DD E1       	pop	ix
2784  0C22  C9          	ret
2785  0C23              	SECTION code_compiler
2786  0C23              ;	---------------------------------
2787  0C23              ; Function spr_tile_paint
2788  0C23              ; ---------------------------------
2789  0C23              _spr_tile_paint:
2790  0C23  CD 00 00    	call	___sdcc_enter_ix
2791  0C26  DD 7E 04    	ld	a,(ix+4)
2792  0C29  B7          	or	a, a
2793  0C2A  28 05       	jr	Z,l_spr_tile_paint_00101
2794  0C2C  3C          	inc	a
2795  0C2D  28 22       	jr	Z,l_spr_tile_paint_00105
2796  0C2F  18 11       	jr	l_spr_tile_paint_00103
2797  0C31              l_spr_tile_paint_00101:
2798  0C31  DD 66 06    	ld	h,(ix+6)
2799  0C34  DD 6E 05    	ld	l,(ix+5)
2800  0C37  3A 00 00    	ld	a,(_map_paper_clr)
2801  0C3A  E5          	push	hl
2802  0C3B  F5          	push	af
2803  0C3C  33          	inc	sp
2804  0C3D  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2805  0C40  18 0F       	jr	l_spr_tile_paint_00105
2806  0C42              l_spr_tile_paint_00103:
2807  0C42  DD 66 06    	ld	h,(ix+6)
2808  0C45  DD 6E 05    	ld	l,(ix+5)
2809  0C48  E5          	push	hl
2810  0C49  DD 7E 04    	ld	a,(ix+4)
2811  0C4C  F5          	push	af
2812  0C4D  33          	inc	sp
2813  0C4E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2814  0C51              l_spr_tile_paint_00105:
2815  0C51  DD E1       	pop	ix
2816  0C53  C9          	ret
2817  0C54              	SECTION code_compiler
2818  0C54              ;	---------------------------------
2819  0C54              ; Function spr_init_anim_bullets
2820  0C54              ; ---------------------------------
2821  0C54              _spr_init_anim_bullets:
2822  0C54  01 00 00    	ld	bc,_anim_lin+0
2823  0C57  1E 00       	ld	e,0x00
2824  0C59              l_spr_init_anim_bullets_00102:
2825  0C59  6B          	ld	l,e
2826  0C5A  26 00       	ld	h,0x00
2827  0C5C  09          	add	hl, bc
2828  0C5D  36 FF       	ld	(hl),0xff
2829  0C5F  16 00       	ld	d,0x00
2830  0C61  21 00 00    	ld	hl,_bullet_col
2831  0C64  19          	add	hl, de
2832  0C65  36 FF       	ld	(hl),0xff
2833  0C67  1C          	inc	e
2834  0C68  7B          	ld	a, e
2835  0C69  D6 08       	sub	a,0x08
2836  0C6B  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2837  0C6D  21 00 00    	ld	hl,_bullet_count
2838  0C70  36 00       	ld	(hl),0x00
2839  0C72  21 00 00    	ld	hl,_anim_count
2840  0C75  36 00       	ld	(hl),0x00
2841  0C77  C9          	ret
2842  0C78              	SECTION code_compiler
2843  0C78              ;	---------------------------------
2844  0C78              ; Function spr_add_anim
2845  0C78              ; ---------------------------------
2846  0C78              _spr_add_anim:
2847  0C78  CD 00 00    	call	___sdcc_enter_ix
2848  0C7B  F5          	push	af
2849  0C7C  F5          	push	af
2850  0C7D  3B          	dec	sp
2851  0C7E  DD 7E 05    	ld	a,(ix+5)
2852  0C81  D6 1F       	sub	a,0x1f
2853  0C83  D2 42 0D    	jp	NC, l_spr_add_anim_00111
2854  0C86  DD 7E 04    	ld	a,(ix+4)
2855  0C89  D6 B8       	sub	a,0xb8
2856  0C8B  D2 42 0D    	jp	NC, l_spr_add_anim_00111
2857  0C8E  0E 00       	ld	c,0x00
2858  0C90  DD 71 FD    	ld	(ix-3),c
2859  0C93              l_spr_add_anim_00109:
2860  0C93  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2861  0C95  81          	add	a, c
2862  0C96  5F          	ld	e, a
2863  0C97  3E 00       	ld	a, +((_anim_lin) / 256)
2864  0C99  CE 00       	adc	a,0x00
2865  0C9B  57          	ld	d, a
2866  0C9C  1A          	ld	a, (de)
2867  0C9D  3C          	inc	a
2868  0C9E  C2 38 0D    	jp	NZ,l_spr_add_anim_00110
2869  0CA1  21 00 00    	ld	hl,_anim_count
2870  0CA4  34          	inc	(hl)
2871  0CA5  DD 7E 04    	ld	a,(ix+4)
2872  0CA8  12          	ld	(de), a
2873  0CA9  01 00 00    	ld	bc,_anim_col
2874  0CAC  DD 6E FD    	ld	l,(ix-3)
2875  0CAF  26 00       	ld	h,0x00
2876  0CB1  09          	add	hl,bc
2877  0CB2  DD 75 FE    	ld	(ix-2),l
2878  0CB5  DD 74 FF    	ld	(ix-1),h
2879  0CB8  DD 7E 05    	ld	a,(ix+5)
2880  0CBB  77          	ld	(hl), a
2881  0CBC  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2882  0CBE  DD 86 FD    	add	a,(ix-3)
2883  0CC1  DD 77 FB    	ld	(ix-5),a
2884  0CC4  3E 00       	ld	a, +((_anim_tile) / 256)
2885  0CC6  CE 00       	adc	a,0x00
2886  0CC8  DD 77 FC    	ld	(ix-4),a
2887  0CCB  E1          	pop	hl
2888  0CCC  E5          	push	hl
2889  0CCD  DD 7E 06    	ld	a,(ix+6)
2890  0CD0  77          	ld	(hl), a
2891  0CD1  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2892  0CD3  DD 86 FD    	add	a,(ix-3)
2893  0CD6  4F          	ld	c, a
2894  0CD7  3E 00       	ld	a, +((_anim_loop) / 256)
2895  0CD9  CE 00       	adc	a,0x00
2896  0CDB  47          	ld	b, a
2897  0CDC  DD 7E 08    	ld	a,(ix+8)
2898  0CDF  02          	ld	(bc), a
2899  0CE0  01 00 00    	ld	bc,_anim_int+0
2900  0CE3  DD 6E FD    	ld	l,(ix-3)
2901  0CE6  26 00       	ld	h,0x00
2902  0CE8  09          	add	hl, bc
2903  0CE9  36 00       	ld	(hl),0x00
2904  0CEB  3E 00       	ld	a, +((_anim_end) & 0xFF)
2905  0CED  DD 86 FD    	add	a,(ix-3)
2906  0CF0  4F          	ld	c, a
2907  0CF1  3E 00       	ld	a, +((_anim_end) / 256)
2908  0CF3  CE 00       	adc	a,0x00
2909  0CF5  47          	ld	b, a
2910  0CF6  DD 7E 07    	ld	a,(ix+7)
2911  0CF9  02          	ld	(bc), a
2912  0CFA  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2913  0CFC  DD 86 FD    	add	a,(ix-3)
2914  0CFF  4F          	ld	c, a
2915  0D00  3E 00       	ld	a, +((_anim_respanwn) / 256)
2916  0D02  CE 00       	adc	a,0x00
2917  0D04  47          	ld	b, a
2918  0D05  DD 7E 09    	ld	a,(ix+9)
2919  0D08  02          	ld	(bc), a
2920  0D09  F3          	di
2921  0D0A  DD 6E FE    	ld	l,(ix-2)
2922  0D0D  DD 66 FF    	ld	h,(ix-1)
2923  0D10  46          	ld	b, (hl)
2924  0D11  E1          	pop	hl
2925  0D12  1A          	ld	a,(de)
2926  0D13  56          	ld	d,(hl)
2927  0D14  E5          	push	hl
2928  0D15  C5          	push	bc
2929  0D16  33          	inc	sp
2930  0D17  5A          	ld	e,d
2931  0D18  57          	ld	d,a
2932  0D19  D5          	push	de
2933  0D1A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2934  0D1D  FB          	ei
2935  0D1E  DD 66 05    	ld	h,(ix+5)
2936  0D21  DD 6E 04    	ld	l,(ix+4)
2937  0D24  E5          	push	hl
2938  0D25  CD 00 00    	call	_spr_calc_index
2939  0D28  F1          	pop	af
2940  0D29  22 00 00    	ld	(_index0),hl
2941  0D2C  01 00 00    	ld	bc,_scr_map
2942  0D2F  09          	add	hl,bc
2943  0D30  7E          	ld	a,(hl)
2944  0D31  B7          	or	a,a
2945  0D32  20 0E       	jr	NZ,l_spr_add_anim_00111
2946  0D34  36 FF       	ld	(hl),0xff
2947  0D36  18 0A       	jr	l_spr_add_anim_00111
2948  0D38              l_spr_add_anim_00110:
2949  0D38  0C          	inc	c
2950  0D39  DD 71 FD    	ld	(ix-3),c
2951  0D3C  79          	ld	a, c
2952  0D3D  D6 08       	sub	a,0x08
2953  0D3F  DA 93 0C    	jp	C, l_spr_add_anim_00109
2954  0D42              l_spr_add_anim_00111:
2955  0D42  DD F9       	ld	sp, ix
2956  0D44  DD E1       	pop	ix
2957  0D46  C9          	ret
2958  0D47              	SECTION code_compiler
2959  0D47              ;	---------------------------------
2960  0D47              ; Function spr_play_anim
2961  0D47              ; ---------------------------------
2962  0D47              _spr_play_anim:
2963  0D47  CD 00 00    	call	___sdcc_enter_ix
2964  0D4A  F5          	push	af
2965  0D4B  F5          	push	af
2966  0D4C  F5          	push	af
2967  0D4D  F5          	push	af
2968  0D4E  DD 36 F8 00 	ld	(ix-8),0x00
2969  0D52              l_spr_play_anim_00114:
2970  0D52  01 00 00    	ld	bc,_anim_lin
2971  0D55  DD 6E F8    	ld	l,(ix-8)
2972  0D58  26 00       	ld	h,0x00
2973  0D5A  09          	add	hl,bc
2974  0D5B  DD 75 FE    	ld	(ix-2),l
2975  0D5E  DD 74 FF    	ld	(ix-1),h
2976  0D61  4E          	ld	c, (hl)
2977  0D62  0C          	inc	c
2978  0D63  CA 74 0E    	jp	Z,l_spr_play_anim_00115
2979  0D66  21 01 00    	ld	hl,0x0001
2980  0D69  CD 00 00    	call	_z80_delay_ms_fastcall
2981  0D6C  01 00 00    	ld	bc,_anim_int
2982  0D6F  DD 6E F8    	ld	l,(ix-8)
2983  0D72  26 00       	ld	h,0x00
2984  0D74  09          	add	hl,bc
2985  0D75  DD 75 FC    	ld	(ix-4),l
2986  0D78  DD 74 FD    	ld	(ix-3),h
2987  0D7B  4E          	ld	c, (hl)
2988  0D7C  3E 00       	ld	a, +((_anim_end) & 0xFF)
2989  0D7E  DD 86 F8    	add	a,(ix-8)
2990  0D81  6F          	ld	l, a
2991  0D82  3E 00       	ld	a, +((_anim_end) / 256)
2992  0D84  CE 00       	adc	a,0x00
2993  0D86  67          	ld	h, a
2994  0D87  46          	ld	b, (hl)
2995  0D88  79          	ld	a, c
2996  0D89  90          	sub	a, b
2997  0D8A  30 40       	jr	NC,l_spr_play_anim_00109
2998  0D8C  F3          	di
2999  0D8D  3E 00       	ld	a, +((_anim_col) & 0xFF)
3000  0D8F  DD 86 F8    	add	a,(ix-8)
3001  0D92  6F          	ld	l, a
3002  0D93  3E 00       	ld	a, +((_anim_col) / 256)
3003  0D95  CE 00       	adc	a,0x00
3004  0D97  67          	ld	h, a
3005  0D98  56          	ld	d, (hl)
3006  0D99  DD 6E FE    	ld	l,(ix-2)
3007  0D9C  DD 66 FF    	ld	h,(ix-1)
3008  0D9F  4E          	ld	c, (hl)
3009  0DA0  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3010  0DA2  DD 86 F8    	add	a,(ix-8)
3011  0DA5  6F          	ld	l, a
3012  0DA6  3E 00       	ld	a, +((_anim_tile) / 256)
3013  0DA8  CE 00       	adc	a,0x00
3014  0DAA  67          	ld	h, a
3015  0DAB  5E          	ld	e, (hl)
3016  0DAC  DD 6E FC    	ld	l,(ix-4)
3017  0DAF  DD 66 FD    	ld	h,(ix-3)
3018  0DB2  6E          	ld	l, (hl)
3019  0DB3  7B          	ld	a, e
3020  0DB4  85          	add	a, l
3021  0DB5  47          	ld	b, a
3022  0DB6  D5          	push	de
3023  0DB7  33          	inc	sp
3024  0DB8  79          	ld	a, c
3025  0DB9  48          	ld	c,b
3026  0DBA  47          	ld	b,a
3027  0DBB  C5          	push	bc
3028  0DBC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3029  0DBF  FB          	ei
3030  0DC0  DD 6E FC    	ld	l,(ix-4)
3031  0DC3  DD 66 FD    	ld	h,(ix-3)
3032  0DC6  4E          	ld	c,(hl)
3033  0DC7  0C          	inc	c
3034  0DC8  71          	ld	(hl), c
3035  0DC9  C3 74 0E    	jp	l_spr_play_anim_00115
3036  0DCC              l_spr_play_anim_00109:
3037  0DCC  01 00 00    	ld	bc,_anim_loop
3038  0DCF  DD 6E F8    	ld	l,(ix-8)
3039  0DD2  26 00       	ld	h,0x00
3040  0DD4  09          	add	hl,bc
3041  0DD5  DD 75 FA    	ld	(ix-6),l
3042  0DD8  DD 74 FB    	ld	(ix-5),h
3043  0DDB  7E          	ld	a, (hl)
3044  0DDC  DD 77 F9    	ld	(ix-7),a
3045  0DDF  B7          	or	a, a
3046  0DE0  C2 61 0E    	jp	NZ, l_spr_play_anim_00106
3047  0DE3  21 00 00    	ld	hl,_anim_count
3048  0DE6  35          	dec	(hl)
3049  0DE7  3E 00       	ld	a, +((_anim_col) & 0xFF)
3050  0DE9  DD 86 F8    	add	a,(ix-8)
3051  0DEC  6F          	ld	l, a
3052  0DED  3E 00       	ld	a, +((_anim_col) / 256)
3053  0DEF  CE 00       	adc	a,0x00
3054  0DF1  67          	ld	h, a
3055  0DF2  7E          	ld	a, (hl)
3056  0DF3  32 00 00    	ld	(_s_col0),a
3057  0DF6  DD 6E FE    	ld	l,(ix-2)
3058  0DF9  DD 66 FF    	ld	h,(ix-1)
3059  0DFC  7E          	ld	a, (hl)
3060  0DFD  32 00 00    	ld	(_s_lin0),a
3061  0E00  2A FF FF    	ld	hl,(_s_col0 - 1)
3062  0E03  6F          	ld	l,a
3063  0E04  E5          	push	hl
3064  0E05  CD 00 00    	call	_spr_calc_index
3065  0E08  F1          	pop	af
3066  0E09  2A FF FF    	ld	hl,(_s_col0 - 1)
3067  0E0C  3A 00 00    	ld	a,(_s_lin0)
3068  0E0F  6F          	ld	l,a
3069  0E10  E5          	push	hl
3070  0E11  CD 00 00    	call	_spr_calc_index
3071  0E14  F1          	pop	af
3072  0E15  01 00 00    	ld	bc,_scr_map
3073  0E18  09          	add	hl,bc
3074  0E19  4E          	ld	c, (hl)
3075  0E1A  0C          	inc	c
3076  0E1B  20 1F       	jr	NZ,l_spr_play_anim_00102
3077  0E1D  2A FF FF    	ld	hl,(_s_col0 - 1)
3078  0E20  3A 00 00    	ld	a,(_s_lin0)
3079  0E23  6F          	ld	l,a
3080  0E24  E5          	push	hl
3081  0E25  CD 00 00    	call	_spr_calc_index
3082  0E28  F1          	pop	af
3083  0E29  22 00 00    	ld	(_index0),hl
3084  0E2C  01 00 00    	ld	bc,_scr_map
3085  0E2F  09          	add	hl,bc
3086  0E30  E5          	push	hl
3087  0E31  2A 00 00    	ld	hl,(_index0)
3088  0E34  E5          	push	hl
3089  0E35  CD 00 00    	call	_game_match_back
3090  0E38  F1          	pop	af
3091  0E39  C1          	pop	bc
3092  0E3A  7D          	ld	a,l
3093  0E3B  02          	ld	(bc), a
3094  0E3C              l_spr_play_anim_00102:
3095  0E3C  CD AC 0A    	call	_spr_back_repaint
3096  0E3F  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3097  0E41  DD 86 F8    	add	a,(ix-8)
3098  0E44  4F          	ld	c, a
3099  0E45  3E 00       	ld	a, +((_anim_respanwn) / 256)
3100  0E47  CE 00       	adc	a,0x00
3101  0E49  47          	ld	b, a
3102  0E4A  0A          	ld	a, (bc)
3103  0E4B  B7          	or	a, a
3104  0E4C  28 09       	jr	Z,l_spr_play_anim_00104
3105  0E4E  DD 7E F8    	ld	a,(ix-8)
3106  0E51  F5          	push	af
3107  0E52  33          	inc	sp
3108  0E53  CD 00 00    	call	_enemy_respawn
3109  0E56  33          	inc	sp
3110  0E57              l_spr_play_anim_00104:
3111  0E57  DD 6E FE    	ld	l,(ix-2)
3112  0E5A  DD 66 FF    	ld	h,(ix-1)
3113  0E5D  36 FF       	ld	(hl),0xff
3114  0E5F  18 13       	jr	l_spr_play_anim_00115
3115  0E61              l_spr_play_anim_00106:
3116  0E61  DD 4E F9    	ld	c,(ix-7)
3117  0E64  0D          	dec	c
3118  0E65  DD 6E FA    	ld	l,(ix-6)
3119  0E68  DD 66 FB    	ld	h,(ix-5)
3120  0E6B  71          	ld	(hl), c
3121  0E6C  DD 6E FC    	ld	l,(ix-4)
3122  0E6F  DD 66 FD    	ld	h,(ix-3)
3123  0E72  36 00       	ld	(hl),0x00
3124  0E74              l_spr_play_anim_00115:
3125  0E74  DD 34 F8    	inc	(ix-8)
3126  0E77  DD 7E F8    	ld	a,(ix-8)
3127  0E7A  D6 08       	sub	a,0x08
3128  0E7C  DA 52 0D    	jp	C, l_spr_play_anim_00114
3129  0E7F  DD F9       	ld	sp, ix
3130  0E81  DD E1       	pop	ix
3131  0E83  C9          	ret
3132  0E84              	SECTION code_compiler
3133  0E84              ;	---------------------------------
3134  0E84              ; Function spr_bullet_fireball
3135  0E84              ; ---------------------------------
3136  0E84              _spr_bullet_fireball:
3137  0E84  CD 00 00    	call	___sdcc_enter_ix
3138  0E87  3A 00 00    	ld	a,(_s_lin0)
3139  0E8A  4F          	ld	c,a
3140  0E8B  06 00       	ld	b,0x00
3141  0E8D  2A 00 00    	ld	hl,(_bullet)
3142  0E90  60          	ld	h,b
3143  0E91  11 00 00    	ld	de,_bullet_lin0
3144  0E94  19          	add	hl,de
3145  0E95  5E          	ld	e, (hl)
3146  0E96  16 00       	ld	d,0x00
3147  0E98  79          	ld	a, c
3148  0E99  93          	sub	a, e
3149  0E9A  6F          	ld	l, a
3150  0E9B  78          	ld	a, b
3151  0E9C  9A          	sbc	a, d
3152  0E9D  67          	ld	h, a
3153  0E9E  CD 00 00    	call	_abs_fastcall
3154  0EA1  3E 08       	ld	a,0x08
3155  0EA3  BD          	cp	a,l
3156  0EA4  3E 00       	ld	a,0x00
3157  0EA6  9C          	sbc	a,h
3158  0EA7  E2 AC 0E    	jp	PO, l_spr_bullet_fireball_00110
3159  0EAA  EE 80       	xor	a,0x80
3160  0EAC              l_spr_bullet_fireball_00110:
3161  0EAC  FA CF 0E    	jp	M, l_spr_bullet_fireball_00102
3162  0EAF  2A 00 00    	ld	hl,(_bullet)
3163  0EB2  26 00       	ld	h,0x00
3164  0EB4  01 00 00    	ld	bc,_bullet_lin
3165  0EB7  09          	add	hl,bc
3166  0EB8  7E          	ld	a,(hl)
3167  0EB9  4D          	ld	c,l
3168  0EBA  44          	ld	b,h
3169  0EBB  21 00 00    	ld	hl,_bullet
3170  0EBE  DD 86 04    	add	a,(ix+4)
3171  0EC1  02          	ld	(bc), a
3172  0EC2  4E          	ld	c,(hl)
3173  0EC3  06 00       	ld	b,0x00
3174  0EC5  21 00 00    	ld	hl,_bullet_lin
3175  0EC8  09          	add	hl,bc
3176  0EC9  7E          	ld	a,(hl)
3177  0ECA  32 00 00    	ld	(_s_lin0),a
3178  0ECD  18 0D       	jr	l_spr_bullet_fireball_00104
3179  0ECF              l_spr_bullet_fireball_00102:
3180  0ECF  2A 00 00    	ld	hl,(_bullet)
3181  0ED2  26 00       	ld	h,0x00
3182  0ED4  01 00 00    	ld	bc,_bullet_class
3183  0ED7  09          	add	hl,bc
3184  0ED8  DD 7E 05    	ld	a,(ix+5)
3185  0EDB  77          	ld	(hl),a
3186  0EDC              l_spr_bullet_fireball_00104:
3187  0EDC  DD E1       	pop	ix
3188  0EDE  C9          	ret
3189  0EDF              	SECTION code_compiler
3190  0EDF              ;	---------------------------------
3191  0EDF              ; Function spr_bullet_axe
3192  0EDF              ; ---------------------------------
3193  0EDF              _spr_bullet_axe:
3194  0EDF  CD 00 00    	call	___sdcc_enter_ix
3195  0EE2  2A 00 00    	ld	hl,(_bullet)
3196  0EE5  F5          	push	af
3197  0EE6  26 00       	ld	h,0x00
3198  0EE8  01 00 00    	ld	bc,_bullet_lin
3199  0EEB  09          	add	hl,bc
3200  0EEC  7E          	ld	a,(hl)
3201  0EED  32 00 00    	ld	(_s_lin0),a
3202  0EF0  01 00 00    	ld	bc,_bullet_col+0
3203  0EF3  2A 00 00    	ld	hl,(_bullet)
3204  0EF6  26 00       	ld	h,0x00
3205  0EF8  09          	add	hl,bc
3206  0EF9  7E          	ld	a,(hl)
3207  0EFA  C6 FF       	add	a,0xff
3208  0EFC  32 00 00    	ld	(_s_col0),a
3209  0EFF  D6 20       	sub	a,0x20
3210  0F01  30 05       	jr	NC,l_spr_bullet_axe_00102
3211  0F03  C5          	push	bc
3212  0F04  CD AC 0A    	call	_spr_back_repaint
3213  0F07  C1          	pop	bc
3214  0F08              l_spr_bullet_axe_00102:
3215  0F08  2A 00 00    	ld	hl,(_bullet)
3216  0F0B  26 00       	ld	h,0x00
3217  0F0D  11 00 00    	ld	de,_bullet_vel
3218  0F10  19          	add	hl,de
3219  0F11  7E          	ld	a,(hl)
3220  0F12  EB          	ex	de,hl
3221  0F13  DD 77 FF    	ld	(ix-1),a
3222  0F16  3A 00 00    	ld	a,(_game_gravity)
3223  0F19  DD 77 FE    	ld	(ix-2),a
3224  0F1C  DD 7E FF    	ld	a,(ix-1)
3225  0F1F  DD 86 FE    	add	a,(ix-2)
3226  0F22  12          	ld	(de), a
3227  0F23  2A 00 00    	ld	hl,(_bullet)
3228  0F26  26 00       	ld	h,0x00
3229  0F28  11 00 00    	ld	de,_bullet_vel
3230  0F2B  19          	add	hl,de
3231  0F2C  5E          	ld	e, (hl)
3232  0F2D  3E 78       	ld	a,0x78
3233  0F2F  EB          	ex	de,hl
3234  0F30  95          	sub	a, l
3235  0F31  E2 36 0F    	jp	PO, l_spr_bullet_axe_00134
3236  0F34  EE 80       	xor	a,0x80
3237  0F36              l_spr_bullet_axe_00134:
3238  0F36  F2 3C 0F    	jp	P, l_spr_bullet_axe_00104
3239  0F39  3E 78       	ld	a,0x78
3240  0F3B  12          	ld	(de), a
3241  0F3C              l_spr_bullet_axe_00104:
3242  0F3C  2A 00 00    	ld	hl,(_bullet)
3243  0F3F  26 00       	ld	h,0x00
3244  0F41  11 00 00    	ld	de,_bullet_vel
3245  0F44  19          	add	hl,de
3246  0F45  7E          	ld	a,(hl)
3247  0F46  EB          	ex	de,hl
3248  0F47  EE 80       	xor	a,0x80
3249  0F49  D6 08       	sub	a,0x08
3250  0F4B  30 03       	jr	NC,l_spr_bullet_axe_00106
3251  0F4D  3E 88       	ld	a,0x88
3252  0F4F  12          	ld	(de), a
3253  0F50              l_spr_bullet_axe_00106:
3254  0F50  2A 00 00    	ld	hl,(_bullet)
3255  0F53  26 00       	ld	h,0x00
3256  0F55  11 00 00    	ld	de,_bullet_vel
3257  0F58  19          	add	hl,de
3258  0F59  7E          	ld	a,(hl)
3259  0F5A  CB 47       	bit	0,a
3260  0F5C  32 00 00    	ld	(_s_lin1),a
3261  0F5F  28 04       	jr	Z,l_spr_bullet_axe_00108
3262  0F61  21 00 00    	ld	hl,_s_lin1
3263  0F64  35          	dec	(hl)
3264  0F65              l_spr_bullet_axe_00108:
3265  0F65  2A 00 00    	ld	hl,(_bullet)
3266  0F68  26 00       	ld	h,0x00
3267  0F6A  11 00 00    	ld	de,_bullet_lin
3268  0F6D  19          	add	hl,de
3269  0F6E  7E          	ld	a,(hl)
3270  0F6F  EB          	ex	de,hl
3271  0F70  DD 77 FE    	ld	(ix-2),a
3272  0F73  21 00 00    	ld	hl,_s_lin1
3273  0F76  86          	add	a, (hl)
3274  0F77  21 00 00    	ld	hl,_s_lin0
3275  0F7A  77          	ld	(hl), a
3276  0F7B  3E 90       	ld	a,0x90
3277  0F7D  96          	sub	a, (hl)
3278  0F7E  30 13       	jr	NC,l_spr_bullet_axe_00110
3279  0F80  21 00 00    	ld	hl,_bullet_count
3280  0F83  35          	dec	(hl)
3281  0F84  79          	ld	a, c
3282  0F85  21 00 00    	ld	hl,_bullet
3283  0F88  86          	add	a, (hl)
3284  0F89  4F          	ld	c, a
3285  0F8A  78          	ld	a, b
3286  0F8B  CE 00       	adc	a,0x00
3287  0F8D  47          	ld	b, a
3288  0F8E  3E FF       	ld	a,0xff
3289  0F90  02          	ld	(bc), a
3290  0F91  18 04       	jr	l_spr_bullet_axe_00112
3291  0F93              l_spr_bullet_axe_00110:
3292  0F93  3A 00 00    	ld	a,(_s_lin0)
3293  0F96  12          	ld	(de), a
3294  0F97              l_spr_bullet_axe_00112:
3295  0F97  F1          	pop	af
3296  0F98  DD E1       	pop	ix
3297  0F9A  C9          	ret
3298  0F9B              	SECTION code_compiler
3299  0F9B              ;	---------------------------------
3300  0F9B              ; Function spr_play_bullets
3301  0F9B              ; ---------------------------------
3302  0F9B              _spr_play_bullets:
3303  0F9B  CD 00 00    	call	___sdcc_enter_ix
3304  0F9E  F5          	push	af
3305  0F9F  F5          	push	af
3306  0FA0  3B          	dec	sp
3307  0FA1  21 00 00    	ld	hl,_bullet
3308  0FA4  36 00       	ld	(hl),0x00
3309  0FA6              l_spr_play_bullets_00180:
3310  0FA6  2A 00 00    	ld	hl,(_bullet)
3311  0FA9  26 00       	ld	h,0x00
3312  0FAB  01 00 00    	ld	bc,_bullet_col
3313  0FAE  09          	add	hl,bc
3314  0FAF  7E          	ld	a,(hl)
3315  0FB0  21 00 00    	ld	hl,_bullet
3316  0FB3  DD 77 FF    	ld	(ix-1),a
3317  0FB6  3C          	inc	a
3318  0FB7  CA 67 14    	jp	Z,l_spr_play_bullets_00174
3319  0FBA  4E          	ld	c,(hl)
3320  0FBB  06 00       	ld	b,0x00
3321  0FBD  21 00 00    	ld	hl,_bullet_lin
3322  0FC0  09          	add	hl,bc
3323  0FC1  7E          	ld	a,(hl)
3324  0FC2  32 00 00    	ld	(_s_lin0),a
3325  0FC5  DD 7E FF    	ld	a,(ix-1)
3326  0FC8  32 00 00    	ld	(_s_col0),a
3327  0FCB  DD 77 FC    	ld	(ix-4),a
3328  0FCE  CD AC 0A    	call	_spr_back_repaint
3329  0FD1  2A 00 00    	ld	hl,(_bullet)
3330  0FD4  26 00       	ld	h,0x00
3331  0FD6  01 00 00    	ld	bc,_bullet_class
3332  0FD9  09          	add	hl,bc
3333  0FDA  7E          	ld	a,(hl)
3334  0FDB  D6 02       	sub	a,0x02
3335  0FDD  20 08       	jr	NZ,l_spr_play_bullets_00104
3336  0FDF  21 02 03    	ld	hl,0x0302
3337  0FE2  E5          	push	hl
3338  0FE3  CD 84 0E    	call	_spr_bullet_fireball
3339  0FE6  F1          	pop	af
3340  0FE7              l_spr_play_bullets_00104:
3341  0FE7  2A 00 00    	ld	hl,(_bullet)
3342  0FEA  26 00       	ld	h,0x00
3343  0FEC  01 00 00    	ld	bc,_bullet_class
3344  0FEF  09          	add	hl,bc
3345  0FF0  7E          	ld	a,(hl)
3346  0FF1  D6 03       	sub	a,0x03
3347  0FF3  20 08       	jr	NZ,l_spr_play_bullets_00106
3348  0FF5  21 02 03    	ld	hl,0x0302
3349  0FF8  E5          	push	hl
3350  0FF9  CD 84 0E    	call	_spr_bullet_fireball
3351  0FFC  F1          	pop	af
3352  0FFD              l_spr_play_bullets_00106:
3353  0FFD  2A 00 00    	ld	hl,(_bullet)
3354  1000  26 00       	ld	h,0x00
3355  1002  01 00 00    	ld	bc,_bullet_class
3356  1005  09          	add	hl,bc
3357  1006  7E          	ld	a,(hl)
3358  1007  D6 04       	sub	a,0x04
3359  1009  20 11       	jr	NZ,l_spr_play_bullets_00110
3360  100B  CD DF 0E    	call	_spr_bullet_axe
3361  100E  2A 00 00    	ld	hl,(_bullet)
3362  1011  26 00       	ld	h,0x00
3363  1013  01 00 00    	ld	bc,_bullet_col
3364  1016  09          	add	hl,bc
3365  1017  7E          	ld	a,(hl)
3366  1018  3C          	inc	a
3367  1019  CA 67 14    	jp	Z,l_spr_play_bullets_00174
3368  101C              l_spr_play_bullets_00110:
3369  101C  2A 00 00    	ld	hl,(_bullet)
3370  101F  26 00       	ld	h,0x00
3371  1021  01 00 00    	ld	bc,_bullet_dir
3372  1024  09          	add	hl,bc
3373  1025  7E          	ld	a,(hl)
3374  1026  3C          	inc	a
3375  1027  20 44       	jr	NZ,l_spr_play_bullets_00120
3376  1029  2A 00 00    	ld	hl,(_bullet)
3377  102C  26 00       	ld	h,0x00
3378  102E  01 00 00    	ld	bc,_bullet_colint
3379  1031  09          	add	hl,bc
3380  1032  7E          	ld	a,(hl)
3381  1033  3C          	inc	a
3382  1034  77          	ld	(hl),a
3383  1035  4D          	ld	c,l
3384  1036  44          	ld	b,h
3385  1037  21 00 00    	ld	hl,_bullet
3386  103A  DD 77 FF    	ld	(ix-1),a
3387  103D  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3388  103F  86          	add	a, (hl)
3389  1040  5F          	ld	e, a
3390  1041  3E 00       	ld	a, +((_bullet_frames) / 256)
3391  1043  CE 00       	adc	a,0x00
3392  1045  57          	ld	d, a
3393  1046  1A          	ld	a, (de)
3394  1047  5F          	ld	e, a
3395  1048  DD 7E FF    	ld	a,(ix-1)
3396  104B  93          	sub	a, e
3397  104C  38 76       	jr	C,l_spr_play_bullets_00121
3398  104E  5E          	ld	e,(hl)
3399  104F  16 00       	ld	d,0x00
3400  1051  21 00 00    	ld	hl,_bullet_col
3401  1054  19          	add	hl,de
3402  1055  7E          	ld	a,(hl)
3403  1056  3C          	inc	a
3404  1057  DD 77 FC    	ld	(ix-4),a
3405  105A  AF          	xor	a, a
3406  105B  02          	ld	(bc), a
3407  105C  DD 7E FC    	ld	a,(ix-4)
3408  105F  E6 01       	and	a,0x01
3409  1061  3D          	dec	a
3410  1062  20 60       	jr	NZ,l_spr_play_bullets_00121
3411  1064  DD 7E FC    	ld	a,(ix-4)
3412  1067  3C          	inc	a
3413  1068  32 00 00    	ld	(_s_col0),a
3414  106B  18 57       	jr	l_spr_play_bullets_00121
3415  106D              l_spr_play_bullets_00120:
3416  106D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3417  106F  21 00 00    	ld	hl,_bullet
3418  1072  86          	add	a, (hl)
3419  1073  DD 77 FD    	ld	(ix-3),a
3420  1076  6F          	ld	l,a
3421  1077  3E 00       	ld	a,+((_bullet_colint) / 256)
3422  1079  CE 00       	adc	a,0x00
3423  107B  DD 77 FE    	ld	(ix-2),a
3424  107E  67          	ld	h,a
3425  107F  4E          	ld	c, (hl)
3426  1080  0D          	dec	c
3427  1081  DD 6E FD    	ld	l,(ix-3)
3428  1084  DD 66 FE    	ld	h,(ix-2)
3429  1087  71          	ld	(hl), c
3430  1088  2A 00 00    	ld	hl,(_bullet)
3431  108B  26 00       	ld	h,0x00
3432  108D  01 00 00    	ld	bc,_bullet_colint
3433  1090  09          	add	hl,bc
3434  1091  7E          	ld	a,(hl)
3435  1092  3C          	inc	a
3436  1093  20 2F       	jr	NZ,l_spr_play_bullets_00121
3437  1095  4D          	ld	c,l
3438  1096  44          	ld	b,h
3439  1097  2A 00 00    	ld	hl,(_bullet)
3440  109A  26 00       	ld	h,0x00
3441  109C  11 00 00    	ld	de,_bullet_col
3442  109F  19          	add	hl,de
3443  10A0  7E          	ld	a,(hl)
3444  10A1  C6 FF       	add	a,0xff
3445  10A3  21 00 00    	ld	hl,_bullet
3446  10A6  DD 77 FC    	ld	(ix-4),a
3447  10A9  5E          	ld	e,(hl)
3448  10AA  16 00       	ld	d,0x00
3449  10AC  21 00 00    	ld	hl,_bullet_frames
3450  10AF  19          	add	hl,de
3451  10B0  7E          	ld	a,(hl)
3452  10B1  C6 FF       	add	a,0xff
3453  10B3  02          	ld	(bc), a
3454  10B4  DD 7E FC    	ld	a,(ix-4)
3455  10B7  E6 01       	and	a,0x01
3456  10B9  3D          	dec	a
3457  10BA  20 08       	jr	NZ,l_spr_play_bullets_00121
3458  10BC  DD 7E FC    	ld	a,(ix-4)
3459  10BF  C6 FF       	add	a,0xff
3460  10C1  32 00 00    	ld	(_s_col0),a
3461  10C4              l_spr_play_bullets_00121:
3462  10C4  2A 00 00    	ld	hl,(_bullet)
3463  10C7  26 00       	ld	h,0x00
3464  10C9  01 00 00    	ld	bc,_bullet_max
3465  10CC  09          	add	hl,bc
3466  10CD  7E          	ld	a,(hl)
3467  10CE  B7          	or	a,a
3468  10CF  28 40       	jr	Z,l_spr_play_bullets_00125
3469  10D1  21 00 00    	ld	hl,_bullet
3470  10D4  DD 4E FC    	ld	c,(ix-4)
3471  10D7  06 00       	ld	b,0x00
3472  10D9  5E          	ld	e,(hl)
3473  10DA  50          	ld	d,b
3474  10DB  21 00 00    	ld	hl,_bullet_col0
3475  10DE  19          	add	hl,de
3476  10DF  5E          	ld	e, (hl)
3477  10E0  16 00       	ld	d,0x00
3478  10E2  79          	ld	a, c
3479  10E3  93          	sub	a, e
3480  10E4  6F          	ld	l, a
3481  10E5  78          	ld	a, b
3482  10E6  9A          	sbc	a, d
3483  10E7  67          	ld	h, a
3484  10E8  CD 00 00    	call	_abs_fastcall
3485  10EB  7D          	ld	a,l
3486  10EC  32 00 00    	ld	(_tmp0),a
3487  10EF  2A 00 00    	ld	hl,(_bullet)
3488  10F2  26 00       	ld	h,0x00
3489  10F4  01 00 00    	ld	bc,_bullet_max
3490  10F7  09          	add	hl,bc
3491  10F8  7E          	ld	a,(hl)
3492  10F9  21 00 00    	ld	hl,_tmp0
3493  10FC  96          	sub	a, (hl)
3494  10FD  30 12       	jr	NC,l_spr_play_bullets_00125
3495  10FF  21 00 00    	ld	hl,_bullet_count
3496  1102  35          	dec	(hl)
3497  1103  2A 00 00    	ld	hl,(_bullet)
3498  1106  26 00       	ld	h,0x00
3499  1108  01 00 00    	ld	bc,_bullet_col
3500  110B  09          	add	hl,bc
3501  110C  36 FF       	ld	(hl),0xff
3502  110E  C3 67 14    	jp	l_spr_play_bullets_00174
3503  1111              l_spr_play_bullets_00125:
3504  1111  2A 00 00    	ld	hl,(_bullet)
3505  1114  26 00       	ld	h,0x00
3506  1116  01 00 00    	ld	bc,_bullet_col
3507  1119  09          	add	hl,bc
3508  111A  3E 1E       	ld	a,0x1e
3509  111C  DD 96 FC    	sub	a,(ix-4)
3510  111F  4D          	ld	c,l
3511  1120  44          	ld	b,h
3512  1121  30 0A       	jr	NC,l_spr_play_bullets_00127
3513  1123  21 00 00    	ld	hl,_bullet_count
3514  1126  35          	dec	(hl)
3515  1127  3E FF       	ld	a,0xff
3516  1129  02          	ld	(bc), a
3517  112A  C3 67 14    	jp	l_spr_play_bullets_00174
3518  112D              l_spr_play_bullets_00127:
3519  112D  0A          	ld	a, (bc)
3520  112E  4F          	ld	c, a
3521  112F  DD 7E FC    	ld	a,(ix-4)
3522  1132  91          	sub	a, c
3523  1133  CA 2C 14    	jp	Z,l_spr_play_bullets_00170
3524  1136  3A 00 00    	ld	a,(_s_lin0)
3525  1139  C6 08       	add	a,0x08
3526  113B  4F          	ld	c, a
3527  113C  3A 00 00    	ld	a, (_s_col0)
3528  113F  47          	ld	b,a
3529  1140  C5          	push	bc
3530  1141  CD 00 00    	call	_spr_calc_index
3531  1144  F1          	pop	af
3532  1145  22 00 00    	ld	(_index0),hl
3533  1148  11 00 00    	ld	de,_scr_map
3534  114B  19          	add	hl,de
3535  114C  7E          	ld	a,(hl)
3536  114D  EB          	ex	de,hl
3537  114E  4F          	ld	c,a
3538  114F  D6 4D       	sub	a,0x4d
3539  1151  20 4F       	jr	NZ,l_spr_play_bullets_00129
3540  1153  3A 00 00    	ld	a,(_bullet)
3541  1156  D6 07       	sub	a,0x07
3542  1158  20 48       	jr	NZ,l_spr_play_bullets_00129
3543  115A  2A 00 00    	ld	hl,(_index0)
3544  115D  D5          	push	de
3545  115E  E5          	push	hl
3546  115F  CD 00 00    	call	_game_match_back
3547  1162  F1          	pop	af
3548  1163  D1          	pop	de
3549  1164  7D          	ld	a,l
3550  1165  12          	ld	(de), a
3551  1166  2A 00 00    	ld	hl,(_index0)
3552  1169  CD 00 00    	call	_game_obj_set
3553  116C  2A 00 00    	ld	hl,(_bullet)
3554  116F  26 00       	ld	h,0x00
3555  1171  01 00 00    	ld	bc,_bullet_lin
3556  1174  09          	add	hl,bc
3557  1175  ED 5B 00 00 	ld	de,(_index0)
3558  1179  3E 04       	ld	a,0x04
3559  117B  4D          	ld	c,l
3560  117C  44          	ld	b,h
3561  117D              l_spr_play_bullets_00380:
3562  117D  CB 3A       	srl	d
3563  117F  CB 1B       	rr	e
3564  1181  3D          	dec	a
3565  1182  20 F9       	jr	NZ,l_spr_play_bullets_00380
3566  1184  7B          	ld	a, e
3567  1185  07          	rlca
3568  1186  07          	rlca
3569  1187  07          	rlca
3570  1188  07          	rlca
3571  1189  E6 F0       	and	a,0xf0
3572  118B  02          	ld	(bc), a
3573  118C  2A 00 00    	ld	hl,(_bullet)
3574  118F  26 00       	ld	h,0x00
3575  1191  01 00 00    	ld	bc,_bullet_col
3576  1194  09          	add	hl,bc
3577  1195  3A 00 00    	ld	a,(_index0)
3578  1198  E6 0F       	and	a,0x0f
3579  119A  87          	add	a,a
3580  119B  77          	ld	(hl),a
3581  119C  CD 77 14    	call	_spr_explode_bullet
3582  119F  C3 67 14    	jp	l_spr_play_bullets_00174
3583  11A2              l_spr_play_bullets_00129:
3584  11A2  79          	ld	a, c
3585  11A3  D6 48       	sub	a,0x48
3586  11A5  38 09       	jr	C,l_spr_play_bullets_00132
3587  11A7  0C          	inc	c
3588  11A8  28 06       	jr	Z,l_spr_play_bullets_00132
3589  11AA  CD 77 14    	call	_spr_explode_bullet
3590  11AD  C3 67 14    	jp	l_spr_play_bullets_00174
3591  11B0              l_spr_play_bullets_00132:
3592  11B0  2A 00 00    	ld	hl,(_bullet)
3593  11B3  26 00       	ld	h,0x00
3594  11B5  01 00 00    	ld	bc,_bullet_col
3595  11B8  09          	add	hl,bc
3596  11B9  4D          	ld	c,l
3597  11BA  44          	ld	b,h
3598  11BB  21 00 00    	ld	hl,_bullet
3599  11BE  DD 7E FC    	ld	a,(ix-4)
3600  11C1  02          	ld	(bc), a
3601  11C2  4E          	ld	c,(hl)
3602  11C3  06 00       	ld	b,0x00
3603  11C5  21 00 00    	ld	hl,_bullet_class
3604  11C8  09          	add	hl,bc
3605  11C9  7E          	ld	a,(hl)
3606  11CA  D6 04       	sub	a,0x04
3607  11CC  20 16       	jr	NZ,l_spr_play_bullets_00135
3608  11CE  21 00 00    	ld	hl,_s_lin0
3609  11D1  7E          	ld	a, (hl)
3610  11D2  C6 F0       	add	a,0xf0
3611  11D4  4F          	ld	c, a
3612  11D5  7E          	ld	a, (hl)
3613  11D6  C6 10       	add	a,0x10
3614  11D8  DD 77 FB    	ld	(ix-5),a
3615  11DB  DD 35 FC    	dec	(ix-4)
3616  11DE  DD 46 FC    	ld	b,(ix-4)
3617  11E1  04          	inc	b
3618  11E2  18 11       	jr	l_spr_play_bullets_00136
3619  11E4              l_spr_play_bullets_00135:
3620  11E4  21 00 00    	ld	hl,_s_lin0
3621  11E7  7E          	ld	a, (hl)
3622  11E8  C6 F8       	add	a,0xf8
3623  11EA  4F          	ld	c, a
3624  11EB  7E          	ld	a, (hl)
3625  11EC  C6 08       	add	a,0x08
3626  11EE  DD 77 FB    	ld	(ix-5),a
3627  11F1  DD 46 FC    	ld	b,(ix-4)
3628  11F4  04          	inc	b
3629  11F5              l_spr_play_bullets_00136:
3630  11F5  3A 00 00    	ld	a,(_bullet)
3631  11F8  D6 07       	sub	a,0x07
3632  11FA  C2 F0 13    	jp	NZ,l_spr_play_bullets_00166
3633  11FD  3A 07 00    	ld	a,(_bullet_col + 0x0007)
3634  1200  3C          	inc	a
3635  1201  CA F0 13    	jp	Z,l_spr_play_bullets_00166
3636  1204  21 00 00    	ld	hl,_tmp0
3637  1207  36 00       	ld	(hl),0x00
3638  1209              l_spr_play_bullets_00176:
3639  1209  2A 00 00    	ld	hl,(_tmp0)
3640  120C  26 00       	ld	h,0x00
3641  120E  11 00 00    	ld	de,_class
3642  1211  19          	add	hl,de
3643  1212  7E          	ld	a,(hl)
3644  1213  B7          	or	a,a
3645  1214  CA BF 12    	jp	Z,l_spr_play_bullets_00177
3646  1217  2A 00 00    	ld	hl,(_tmp0)
3647  121A  26 00       	ld	h,0x00
3648  121C  11 00 00    	ld	de,_col
3649  121F  19          	add	hl,de
3650  1220  7E          	ld	a,(hl)
3651  1221  21 00 00    	ld	hl,_tmp0
3652  1224  DD 77 FD    	ld	(ix-3),a
3653  1227  DD 96 FC    	sub	a,(ix-4)
3654  122A  DA BF 12    	jp	C, l_spr_play_bullets_00177
3655  122D  78          	ld	a, b
3656  122E  DD 96 FD    	sub	a,(ix-3)
3657  1231  DA BF 12    	jp	C, l_spr_play_bullets_00177
3658  1234  5E          	ld	e,(hl)
3659  1235  16 00       	ld	d,0x00
3660  1237  21 00 00    	ld	hl,_lin
3661  123A  19          	add	hl,de
3662  123B  7E          	ld	a,(hl)
3663  123C  5F          	ld	e,a
3664  123D  91          	sub	a, c
3665  123E  DA BF 12    	jp	C, l_spr_play_bullets_00177
3666  1241  DD 7E FB    	ld	a,(ix-5)
3667  1244  93          	sub	a, e
3668  1245  38 78       	jr	C,l_spr_play_bullets_00177
3669  1247  21 00 00    	ld	hl,_s_lin0
3670  124A  73          	ld	(hl), e
3671  124B  DD 7E FD    	ld	a,(ix-3)
3672  124E  32 00 00    	ld	(_s_col0),a
3673  1251  C5          	push	bc
3674  1252  CD 00 00    	call	_rand
3675  1255  11 06 00    	ld	de,0x0006
3676  1258  D5          	push	de
3677  1259  E5          	push	hl
3678  125A  CD 00 00    	call	__modsint_callee
3679  125D  CD 00 00    	call	_player_score_add
3680  1260  C1          	pop	bc
3681  1261  2A 00 00    	ld	hl,(_tmp0)
3682  1264  26 00       	ld	h,0x00
3683  1266  29          	add	hl,hl
3684  1267  11 00 00    	ld	de,_game_respawn_time
3685  126A  19          	add	hl, de
3686  126B  DD 75 FD    	ld	(ix-3),l
3687  126E  DD 74 FE    	ld	(ix-2),h
3688  1271  ED 5B 00 00 	ld	de,(_curr_time)
3689  1275  73          	ld	(hl), e
3690  1276  23          	inc	hl
3691  1277  72          	ld	(hl), d
3692  1278  2A 00 00    	ld	hl,(_tmp0)
3693  127B  C5          	push	bc
3694  127C  CD 4F 08    	call	_spr_destroy
3695  127F  C1          	pop	bc
3696  1280  2A 00 00    	ld	hl,(_tmp0)
3697  1283  26 00       	ld	h,0x00
3698  1285  11 00 00    	ld	de,_bullet_col
3699  1288  19          	add	hl,de
3700  1289  7E          	ld	a,(hl)
3701  128A  21 00 00    	ld	hl,_tmp0
3702  128D  DD 77 FD    	ld	(ix-3),a
3703  1290  3C          	inc	a
3704  1291  28 16       	jr	Z,l_spr_play_bullets_00138
3705  1293  5E          	ld	e,(hl)
3706  1294  16 00       	ld	d,0x00
3707  1296  21 00 00    	ld	hl,_bullet_lin
3708  1299  19          	add	hl,de
3709  129A  7E          	ld	a,(hl)
3710  129B  32 00 00    	ld	(_s_lin0),a
3711  129E  DD 7E FD    	ld	a,(ix-3)
3712  12A1  32 00 00    	ld	(_s_col0),a
3713  12A4  C5          	push	bc
3714  12A5  CD AC 0A    	call	_spr_back_repaint
3715  12A8  C1          	pop	bc
3716  12A9              l_spr_play_bullets_00138:
3717  12A9  3A 00 00    	ld	a,(_s_col0)
3718  12AC  32 07 00    	ld	((_bullet_col + 0x0007)),a
3719  12AF  C5          	push	bc
3720  12B0  CD 77 14    	call	_spr_explode_bullet
3721  12B3  C1          	pop	bc
3722  12B4  21 00 00    	ld	hl,_ay_effect_02
3723  12B7  CD 00 00    	call	_ay_fx_play
3724  12BA  21 00 00    	ld	hl,_tmp0
3725  12BD  36 07       	ld	(hl),0x07
3726  12BF              l_spr_play_bullets_00177:
3727  12BF  21 00 00    	ld	hl,_tmp0
3728  12C2  7E          	ld	a,(hl)
3729  12C3  3C          	inc	a
3730  12C4  77          	ld	(hl),a
3731  12C5  D6 07       	sub	a,0x07
3732  12C7  DA 09 12    	jp	C, l_spr_play_bullets_00176
3733  12CA  3A 00 00    	ld	a,(_game_boss)
3734  12CD  B7          	or	a, a
3735  12CE  CA 2C 14    	jp	Z, l_spr_play_bullets_00170
3736  12D1  21 00 00    	ld	hl,_boss_lin
3737  12D4  7E          	ld	a, (hl)
3738  12D5  91          	sub	a, c
3739  12D6  38 06       	jr	C,l_spr_play_bullets_00155
3740  12D8  DD 7E FB    	ld	a,(ix-5)
3741  12DB  96          	sub	a, (hl)
3742  12DC  30 29       	jr	NC,l_spr_play_bullets_00156
3743  12DE              l_spr_play_bullets_00155:
3744  12DE  3A 00 00    	ld	a,(_boss_lin)
3745  12E1  5F          	ld	e,a
3746  12E2  16 00       	ld	d,0x00
3747  12E4  21 10 00    	ld	hl,0x0010
3748  12E7  19          	add	hl, de
3749  12E8  59          	ld	e, c
3750  12E9  16 00       	ld	d,0x00
3751  12EB  7D          	ld	a, l
3752  12EC  93          	sub	a, e
3753  12ED  7C          	ld	a, h
3754  12EE  9A          	sbc	a, d
3755  12EF  E2 F4 12    	jp	PO, l_spr_play_bullets_00390
3756  12F2  EE 80       	xor	a,0x80
3757  12F4              l_spr_play_bullets_00390:
3758  12F4  FA 2C 14    	jp	M, l_spr_play_bullets_00170
3759  12F7  DD 7E FB    	ld	a,(ix-5)
3760  12FA  1E 00       	ld	e,0x00
3761  12FC  95          	sub	a, l
3762  12FD  7B          	ld	a, e
3763  12FE  9C          	sbc	a, h
3764  12FF  E2 04 13    	jp	PO, l_spr_play_bullets_00391
3765  1302  EE 80       	xor	a,0x80
3766  1304              l_spr_play_bullets_00391:
3767  1304  FA 2C 14    	jp	M, l_spr_play_bullets_00170
3768  1307              l_spr_play_bullets_00156:
3769  1307  21 00 00    	ld	hl,_boss_col
3770  130A  7E          	ld	a, (hl)
3771  130B  DD 96 FC    	sub	a,(ix-4)
3772  130E  DA 2C 14    	jp	C, l_spr_play_bullets_00170
3773  1311  78          	ld	a, b
3774  1312  96          	sub	a, (hl)
3775  1313  DA 2C 14    	jp	C, l_spr_play_bullets_00170
3776  1316  CD 77 14    	call	_spr_explode_bullet
3777  1319  21 00 00    	ld	hl,_game_boss_hit
3778  131C  35          	dec	(hl)
3779  131D  CD 00 00    	call	_game_update_stats
3780  1320  3A 00 00    	ld	a,(_game_boss_hit)
3781  1323  B7          	or	a, a
3782  1324  C2 2C 14    	jp	NZ, l_spr_play_bullets_00170
3783  1327  21 00 00    	ld	hl,_game_boss
3784  132A  36 00       	ld	(hl),0x00
3785  132C  21 00 00    	ld	hl,_game_boss_alive
3786  132F  36 00       	ld	(hl),0x00
3787  1331  3A 00 00    	ld	a,(_boss_col)
3788  1334  21 00 00    	ld	hl,0x0000
3789  1337  E5          	push	hl
3790  1338  21 87 03    	ld	hl,0x0387
3791  133B  E5          	push	hl
3792  133C  F5          	push	af
3793  133D  33          	inc	sp
3794  133E  3A 00 00    	ld	a,(_boss_lin)
3795  1341  F5          	push	af
3796  1342  33          	inc	sp
3797  1343  CD 78 0C    	call	_spr_add_anim
3798  1346  F1          	pop	af
3799  1347  F1          	pop	af
3800  1348  F1          	pop	af
3801  1349  21 00 00    	ld	hl,_boss_col
3802  134C  46          	ld	b, (hl)
3803  134D  04          	inc	b
3804  134E  04          	inc	b
3805  134F  21 00 00    	ld	hl,0x0000
3806  1352  E5          	push	hl
3807  1353  21 87 03    	ld	hl,0x0387
3808  1356  E5          	push	hl
3809  1357  C5          	push	bc
3810  1358  33          	inc	sp
3811  1359  3A 00 00    	ld	a,(_boss_lin)
3812  135C  F5          	push	af
3813  135D  33          	inc	sp
3814  135E  CD 78 0C    	call	_spr_add_anim
3815  1361  F1          	pop	af
3816  1362  F1          	pop	af
3817  1363  F1          	pop	af
3818  1364  3A 00 00    	ld	a,(_boss_lin)
3819  1367  C6 10       	add	a,0x10
3820  1369  47          	ld	b, a
3821  136A  3A 00 00    	ld	a,(_boss_col)
3822  136D  21 00 00    	ld	hl,0x0000
3823  1370  E5          	push	hl
3824  1371  21 87 03    	ld	hl,0x0387
3825  1374  E5          	push	hl
3826  1375  48          	ld	c,b
3827  1376  47          	ld	b,a
3828  1377  C5          	push	bc
3829  1378  CD 78 0C    	call	_spr_add_anim
3830  137B  F1          	pop	af
3831  137C  F1          	pop	af
3832  137D  F1          	pop	af
3833  137E  21 00 00    	ld	hl,_boss_col
3834  1381  46          	ld	b, (hl)
3835  1382  04          	inc	b
3836  1383  04          	inc	b
3837  1384  3A 00 00    	ld	a,(_boss_lin)
3838  1387  C6 10       	add	a,0x10
3839  1389  57          	ld	d, a
3840  138A  21 00 00    	ld	hl,0x0000
3841  138D  E5          	push	hl
3842  138E  21 87 03    	ld	hl,0x0387
3843  1391  E5          	push	hl
3844  1392  4A          	ld	c, d
3845  1393  C5          	push	bc
3846  1394  CD 78 0C    	call	_spr_add_anim
3847  1397  F1          	pop	af
3848  1398  F1          	pop	af
3849  1399  F1          	pop	af
3850  139A  21 00 00    	ld	hl,_tmp0
3851  139D  36 00       	ld	(hl),0x00
3852  139F              l_spr_play_bullets_00178:
3853  139F  2A 00 00    	ld	hl,(_tmp0)
3854  13A2  26 00       	ld	h,0x00
3855  13A4  01 00 00    	ld	bc,_bullet_col
3856  13A7  09          	add	hl,bc
3857  13A8  7E          	ld	a,(hl)
3858  13A9  4F          	ld	c,a
3859  13AA  3C          	inc	a
3860  13AB  28 15       	jr	Z,l_spr_play_bullets_00147
3861  13AD  3A 00 00    	ld	a,(_tmp0)
3862  13B0  5F          	ld	e,a
3863  13B1  16 00       	ld	d,0x00
3864  13B3  21 00 00    	ld	hl,_bullet_lin
3865  13B6  19          	add	hl,de
3866  13B7  7E          	ld	a,(hl)
3867  13B8  32 00 00    	ld	(_s_lin0),a
3868  13BB  21 00 00    	ld	hl,_s_col0
3869  13BE  71          	ld	(hl), c
3870  13BF  CD AC 0A    	call	_spr_back_repaint
3871  13C2              l_spr_play_bullets_00147:
3872  13C2  2A 00 00    	ld	hl,(_tmp0)
3873  13C5  26 00       	ld	h,0x00
3874  13C7  01 00 00    	ld	bc,_bullet_col
3875  13CA  09          	add	hl,bc
3876  13CB  36 FF       	ld	(hl),0xff
3877  13CD  2A 00 00    	ld	hl,(_tmp0)
3878  13D0  CD 4F 08    	call	_spr_destroy
3879  13D3  2A 00 00    	ld	hl,(_tmp0)
3880  13D6  26 00       	ld	h,0x00
3881  13D8  29          	add	hl, hl
3882  13D9  11 00 00    	ld	de,_game_respawn_time
3883  13DC  19          	add	hl, de
3884  13DD  AF          	xor	a, a
3885  13DE  77          	ld	(hl), a
3886  13DF  23          	inc	hl
3887  13E0  77          	ld	(hl), a
3888  13E1  21 00 00    	ld	hl,_tmp0
3889  13E4  7E          	ld	a,(hl)
3890  13E5  3C          	inc	a
3891  13E6  77          	ld	(hl),a
3892  13E7  D6 07       	sub	a,0x07
3893  13E9  38 B4       	jr	C,l_spr_play_bullets_00178
3894  13EB  CD 00 00    	call	_game_boss_clear
3895  13EE  18 3C       	jr	l_spr_play_bullets_00170
3896  13F0              l_spr_play_bullets_00166:
3897  13F0  3A 07 00    	ld	a,(_col + 7)
3898  13F3  5F          	ld	e,a
3899  13F4  DD 96 FC    	sub	a,(ix-4)
3900  13F7  38 33       	jr	C,l_spr_play_bullets_00170
3901  13F9  78          	ld	a, b
3902  13FA  93          	sub	a, e
3903  13FB  38 2F       	jr	C,l_spr_play_bullets_00170
3904  13FD  3A 07 00    	ld	a,(_lin + 7)
3905  1400  47          	ld	b,a
3906  1401  91          	sub	a, c
3907  1402  38 28       	jr	C,l_spr_play_bullets_00170
3908  1404  DD 7E FB    	ld	a,(ix-5)
3909  1407  90          	sub	a, b
3910  1408  38 22       	jr	C,l_spr_play_bullets_00170
3911  140A  21 00 00    	ld	hl,_ay_effect_06
3912  140D  CD 00 00    	call	_ay_fx_play
3913  1410  2E 03       	ld	l,0x03
3914  1412  CD 00 00    	call	_zx_border_fastcall
3915  1415  2E 0A       	ld	l,0x0a
3916  1417  CD 00 00    	call	_player_hit
3917  141A  2A 00 00    	ld	hl,(_bullet)
3918  141D  26 00       	ld	h,0x00
3919  141F  01 00 00    	ld	bc,_bullet_col
3920  1422  09          	add	hl,bc
3921  1423  3A 00 00    	ld	a,(_s_col0)
3922  1426  77          	ld	(hl),a
3923  1427  CD 77 14    	call	_spr_explode_bullet
3924  142A  18 46       	jr	l_spr_play_bullets_00181
3925  142C              l_spr_play_bullets_00170:
3926  142C  2A 00 00    	ld	hl,(_bullet)
3927  142F  26 00       	ld	h,0x00
3928  1431  01 00 00    	ld	bc,_bullet_col
3929  1434  09          	add	hl,bc
3930  1435  7E          	ld	a,(hl)
3931  1436  3C          	inc	a
3932  1437  28 2E       	jr	Z,l_spr_play_bullets_00174
3933  1439  DD 7E FC    	ld	a,(ix-4)
3934  143C  D6 20       	sub	a,0x20
3935  143E  30 27       	jr	NC,l_spr_play_bullets_00174
3936  1440  F3          	di
3937  1441  2A 00 00    	ld	hl,(_bullet)
3938  1444  26 00       	ld	h,0x00
3939  1446  01 00 00    	ld	bc,_bullet_tile
3940  1449  09          	add	hl,bc
3941  144A  4E          	ld	c, (hl)
3942  144B  3A 00 00    	ld	a,(_bullet)
3943  144E  5F          	ld	e,a
3944  144F  16 00       	ld	d,0x00
3945  1451  21 00 00    	ld	hl,_bullet_colint
3946  1454  19          	add	hl,de
3947  1455  7E          	ld	a,(hl)
3948  1456  81          	add	a,c
3949  1457  47          	ld	b, a
3950  1458  DD 7E FC    	ld	a,(ix-4)
3951  145B  F5          	push	af
3952  145C  33          	inc	sp
3953  145D  3A 00 00    	ld	a,(_s_lin0)
3954  1460  48          	ld	c,b
3955  1461  47          	ld	b,a
3956  1462  C5          	push	bc
3957  1463  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3958  1466  FB          	ei
3959  1467              l_spr_play_bullets_00174:
3960  1467  21 00 00    	ld	hl,_bullet
3961  146A  7E          	ld	a,(hl)
3962  146B  3C          	inc	a
3963  146C  77          	ld	(hl),a
3964  146D  D6 08       	sub	a,0x08
3965  146F  DA A6 0F    	jp	C, l_spr_play_bullets_00180
3966  1472              l_spr_play_bullets_00181:
3967  1472  DD F9       	ld	sp, ix
3968  1474  DD E1       	pop	ix
3969  1476  C9          	ret
3970  1477              	SECTION code_compiler
3971  1477              ;	---------------------------------
3972  1477              ; Function spr_explode_bullet
3973  1477              ; ---------------------------------
3974  1477              _spr_explode_bullet:
3975  1477  2A 00 00    	ld	hl,(_bullet)
3976  147A  26 00       	ld	h,0x00
3977  147C  01 00 00    	ld	bc,_bullet_col
3978  147F  09          	add	hl,bc
3979  1480  56          	ld	d, (hl)
3980  1481  2A 00 00    	ld	hl,(_bullet)
3981  1484  26 00       	ld	h,0x00
3982  1486  01 00 00    	ld	bc,_bullet_lin
3983  1489  09          	add	hl,bc
3984  148A  46          	ld	b, (hl)
3985  148B  21 00 00    	ld	hl,0x0000
3986  148E  E5          	push	hl
3987  148F  21 87 03    	ld	hl,0x0387
3988  1492  E5          	push	hl
3989  1493  58          	ld	e,b
3990  1494  D5          	push	de
3991  1495  CD 78 0C    	call	_spr_add_anim
3992  1498  F1          	pop	af
3993  1499  F1          	pop	af
3994  149A  F1          	pop	af
3995  149B  21 00 00    	ld	hl,_bullet_count
3996  149E  35          	dec	(hl)
3997  149F  2A 00 00    	ld	hl,(_bullet)
3998  14A2  26 00       	ld	h,0x00
3999  14A4  01 00 00    	ld	bc,_bullet_col
4000  14A7  09          	add	hl,bc
4001  14A8  36 FF       	ld	(hl),0xff
4002  14AA  21 00 00    	ld	hl,_ay_effect_11
4003  14AD  C3 00 00    	jp  _ay_fx_play
4004  14B0              	SECTION code_compiler
4005  14B0              ;	---------------------------------
4006  14B0              ; Function spr_turn_horizontal
4007  14B0              ; ---------------------------------
4008  14B0              _spr_turn_horizontal:
4009  14B0  21 00 00    	ld	hl,_s_state
4010  14B3  CB 56       	bit	2, (hl)
4011  14B5  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4012  14B7  21 00 00    	ld	hl,_s_state
4013  14BA  7E          	ld	a,(hl)
4014  14BB  F6 08       	or	a,0x08
4015  14BD  E6 FB       	and	a,0xfb
4016  14BF  77          	ld	(hl),a
4017  14C0  18 09       	jr	l_spr_turn_horizontal_00103
4018  14C2              l_spr_turn_horizontal_00102:
4019  14C2  21 00 00    	ld	hl,_s_state
4020  14C5  7E          	ld	a,(hl)
4021  14C6  E6 F7       	and	a,0xf7
4022  14C8  F6 04       	or	a,0x04
4023  14CA  77          	ld	(hl),a
4024  14CB              l_spr_turn_horizontal_00103:
4025  14CB  2A 00 00    	ld	hl,(_sprite)
4026  14CE  26 00       	ld	h,0x00
4027  14D0  01 00 00    	ld	bc,_state
4028  14D3  09          	add	hl,bc
4029  14D4  3A 00 00    	ld	a,(_s_state)
4030  14D7  77          	ld	(hl),a
4031  14D8  2A 00 00    	ld	hl,(_sprite)
4032  14DB  26 00       	ld	h,0x00
4033  14DD  01 00 00    	ld	bc,_tile
4034  14E0  09          	add	hl,bc
4035  14E1  E5          	push	hl
4036  14E2  2A 00 00    	ld	hl,(_sprite)
4037  14E5  CD E4 08    	call	_spr_tile
4038  14E8  C1          	pop	bc
4039  14E9  7D          	ld	a,l
4040  14EA  02          	ld	(bc), a
4041  14EB  C9          	ret
4042  14EC              	SECTION code_compiler
4043  14EC              ;	---------------------------------
4044  14EC              ; Function spr_btile_paint_back
4045  14EC              ; ---------------------------------
4046  14EC              _spr_btile_paint_back:
4047  14EC  21 20 00    	ld	hl,0x0020
4048  14EF  22 00 00    	ld	(_tmp_ui),hl
4049  14F2  21 00 00    	ld	hl,_map_paper
4050  14F5  7E          	ld	a, (hl)
4051  14F6  0F          	rrca
4052  14F7  0F          	rrca
4053  14F8  0F          	rrca
4054  14F9  E6 1F       	and	a,0x1f
4055  14FB  B6          	or	a, (hl)
4056  14FC  F6 40       	or	a,0x40
4057  14FE  32 00 00    	ld	(_map_paper_clr),a
4058  1501              l_spr_btile_paint_back_00106:
4059  1501  21 00 00    	ld	hl,_tmp_ui
4060  1504  7E          	ld	a, (hl)
4061  1505  D6 20       	sub	a,0x20
4062  1507  23          	inc	hl
4063  1508  7E          	ld	a, (hl)
4064  1509  DE 2D       	sbc	a,0x2d
4065  150B  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4066  150D  21 00 00    	ld	hl,_tmp0
4067  1510  36 00       	ld	(hl),0x00
4068  1512              l_spr_btile_paint_back_00103:
4069  1512  3A 00 00    	ld	a,(_tmp0)
4070  1515  D6 10       	sub	a,0x10
4071  1517  30 34       	jr	NC,l_spr_btile_paint_back_00105
4072  1519  01 00 00    	ld	bc,_btiles
4073  151C  2A 00 00    	ld	hl,(_tmp_ui)
4074  151F  09          	add	hl,bc
4075  1520  7D          	ld	a,l
4076  1521  44          	ld	b,h
4077  1522  21 00 00    	ld	hl,_tmp0
4078  1525  86          	add	a, (hl)
4079  1526  4F          	ld	c, a
4080  1527  78          	ld	a, b
4081  1528  CE 00       	adc	a,0x00
4082  152A  47          	ld	b, a
4083  152B  0A          	ld	a, (bc)
4084  152C  32 00 00    	ld	(_tmp),a
4085  152F  E6 38       	and	a,0x38
4086  1531  5F          	ld	e, a
4087  1532  3A 00 00    	ld	a,(_map_paper_last)
4088  1535  93          	sub	a, e
4089  1536  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4090  1538  21 00 00    	ld	hl,_tmp
4091  153B  7E          	ld	a, (hl)
4092  153C  E6 C7       	and	a,0xc7
4093  153E  77          	ld	(hl),a
4094  153F  21 00 00    	ld	hl,_map_paper
4095  1542  B6          	or	a, (hl)
4096  1543  32 00 00    	ld	(_tmp),a
4097  1546  02          	ld	(bc), a
4098  1547              l_spr_btile_paint_back_00102:
4099  1547  21 00 00    	ld	hl,_tmp0
4100  154A  34          	inc	(hl)
4101  154B  18 C5       	jr	l_spr_btile_paint_back_00103
4102  154D              l_spr_btile_paint_back_00105:
4103  154D  2A 00 00    	ld	hl,(_tmp_ui)
4104  1550  11 30 00    	ld	de,0x0030
4105  1553  19          	add	hl,de
4106  1554  22 00 00    	ld	(_tmp_ui),hl
4107  1557  18 A8       	jr	l_spr_btile_paint_back_00106
4108  1559              l_spr_btile_paint_back_00108:
4109  1559  C3 00 00    	jp  _game_attribs
4110  155C              	SECTION IGNORE
4111  0000              
