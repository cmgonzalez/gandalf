1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_turn_horizontal
214   0000              ;--------------------------------------------------------
215   0000              ; Externals used
216   0000              ;--------------------------------------------------------
217   0000              	GLOBAL _ulltoa_callee
218   0000              	GLOBAL _ulltoa
219   0000              	GLOBAL _strtoull_callee
220   0000              	GLOBAL _strtoull
221   0000              	GLOBAL _strtoll_callee
222   0000              	GLOBAL _strtoll
223   0000              	GLOBAL _lltoa_callee
224   0000              	GLOBAL _lltoa
225   0000              	GLOBAL _llabs_callee
226   0000              	GLOBAL _llabs
227   0000              	GLOBAL __lldivu__callee
228   0000              	GLOBAL __lldivu_
229   0000              	GLOBAL __lldiv__callee
230   0000              	GLOBAL __lldiv_
231   0000              	GLOBAL _atoll_callee
232   0000              	GLOBAL _atoll
233   0000              	GLOBAL _realloc_unlocked_callee
234   0000              	GLOBAL _realloc_unlocked
235   0000              	GLOBAL _malloc_unlocked_fastcall
236   0000              	GLOBAL _malloc_unlocked
237   0000              	GLOBAL _free_unlocked_fastcall
238   0000              	GLOBAL _free_unlocked
239   0000              	GLOBAL _calloc_unlocked_callee
240   0000              	GLOBAL _calloc_unlocked
241   0000              	GLOBAL _aligned_alloc_unlocked_callee
242   0000              	GLOBAL _aligned_alloc_unlocked
243   0000              	GLOBAL _realloc_callee
244   0000              	GLOBAL _realloc
245   0000              	GLOBAL _malloc_fastcall
246   0000              	GLOBAL _malloc
247   0000              	GLOBAL _free_fastcall
248   0000              	GLOBAL _free
249   0000              	GLOBAL _calloc_callee
250   0000              	GLOBAL _calloc
251   0000              	GLOBAL _aligned_alloc_callee
252   0000              	GLOBAL _aligned_alloc
253   0000              	GLOBAL _utoa_callee
254   0000              	GLOBAL _utoa
255   0000              	GLOBAL _ultoa_callee
256   0000              	GLOBAL _ultoa
257   0000              	GLOBAL _system_fastcall
258   0000              	GLOBAL _system
259   0000              	GLOBAL _strtoul_callee
260   0000              	GLOBAL _strtoul
261   0000              	GLOBAL _strtol_callee
262   0000              	GLOBAL _strtol
263   0000              	GLOBAL _strtof_callee
264   0000              	GLOBAL _strtof
265   0000              	GLOBAL _strtod_callee
266   0000              	GLOBAL _strtod
267   0000              	GLOBAL _srand_fastcall
268   0000              	GLOBAL _srand
269   0000              	GLOBAL _rand
270   0000              	GLOBAL _quick_exit_fastcall
271   0000              	GLOBAL _quick_exit
272   0000              	GLOBAL _qsort_callee
273   0000              	GLOBAL _qsort
274   0000              	GLOBAL _ltoa_callee
275   0000              	GLOBAL _ltoa
276   0000              	GLOBAL _labs_fastcall
277   0000              	GLOBAL _labs
278   0000              	GLOBAL _itoa_callee
279   0000              	GLOBAL _itoa
280   0000              	GLOBAL _ftoh_callee
281   0000              	GLOBAL _ftoh
282   0000              	GLOBAL _ftog_callee
283   0000              	GLOBAL _ftog
284   0000              	GLOBAL _ftoe_callee
285   0000              	GLOBAL _ftoe
286   0000              	GLOBAL _ftoa_callee
287   0000              	GLOBAL _ftoa
288   0000              	GLOBAL _exit_fastcall
289   0000              	GLOBAL _exit
290   0000              	GLOBAL _dtoh_callee
291   0000              	GLOBAL _dtoh
292   0000              	GLOBAL _dtog_callee
293   0000              	GLOBAL _dtog
294   0000              	GLOBAL _dtoe_callee
295   0000              	GLOBAL _dtoe
296   0000              	GLOBAL _dtoa_callee
297   0000              	GLOBAL _dtoa
298   0000              	GLOBAL _bsearch_callee
299   0000              	GLOBAL _bsearch
300   0000              	GLOBAL _atol_fastcall
301   0000              	GLOBAL _atol
302   0000              	GLOBAL _atoi_fastcall
303   0000              	GLOBAL _atoi
304   0000              	GLOBAL _atof_fastcall
305   0000              	GLOBAL _atof
306   0000              	GLOBAL _atexit_fastcall
307   0000              	GLOBAL _atexit
308   0000              	GLOBAL _at_quick_exit_fastcall
309   0000              	GLOBAL _at_quick_exit
310   0000              	GLOBAL _abs_fastcall
311   0000              	GLOBAL _abs
312   0000              	GLOBAL _abort
313   0000              	GLOBAL __strtou__callee
314   0000              	GLOBAL __strtou_
315   0000              	GLOBAL __strtoi__callee
316   0000              	GLOBAL __strtoi_
317   0000              	GLOBAL __random_uniform_xor_8__fastcall
318   0000              	GLOBAL __random_uniform_xor_8_
319   0000              	GLOBAL __random_uniform_xor_32__fastcall
320   0000              	GLOBAL __random_uniform_xor_32_
321   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
322   0000              	GLOBAL __random_uniform_cmwc_8_
323   0000              	GLOBAL __shellsort__callee
324   0000              	GLOBAL __shellsort_
325   0000              	GLOBAL __quicksort__callee
326   0000              	GLOBAL __quicksort_
327   0000              	GLOBAL __insertion_sort__callee
328   0000              	GLOBAL __insertion_sort_
329   0000              	GLOBAL __ldivu__callee
330   0000              	GLOBAL __ldivu_
331   0000              	GLOBAL __ldiv__callee
332   0000              	GLOBAL __ldiv_
333   0000              	GLOBAL __divu__callee
334   0000              	GLOBAL __divu_
335   0000              	GLOBAL __div__callee
336   0000              	GLOBAL __div_
337   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawTW_raw
339   0000              	GLOBAL _NIRVANAP_drawTW_callee
340   0000              	GLOBAL _NIRVANAP_drawTW
341   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawW_raw
343   0000              	GLOBAL _NIRVANAP_drawW_callee
344   0000              	GLOBAL _NIRVANAP_drawW
345   0000              	GLOBAL _NIRVANAP_spriteT_callee
346   0000              	GLOBAL _NIRVANAP_spriteT
347   0000              	GLOBAL _NIRVANAP_fillC_callee
348   0000              	GLOBAL _NIRVANAP_fillC
349   0000              	GLOBAL _NIRVANAP_readC_callee
350   0000              	GLOBAL _NIRVANAP_readC
351   0000              	GLOBAL _NIRVANAP_paintC_callee
352   0000              	GLOBAL _NIRVANAP_paintC
353   0000              	GLOBAL _NIRVANAP_printC_callee
354   0000              	GLOBAL _NIRVANAP_printC
355   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
356   0000              	GLOBAL _NIRVANAP_fillT_raw
357   0000              	GLOBAL _NIRVANAP_fillT_callee
358   0000              	GLOBAL _NIRVANAP_fillT
359   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawT_raw
361   0000              	GLOBAL _NIRVANAP_drawT_callee
362   0000              	GLOBAL _NIRVANAP_drawT
363   0000              	GLOBAL _NIRVANAP_stop
364   0000              	GLOBAL _NIRVANAP_start
365   0000              	GLOBAL _debug3
366   0000              	GLOBAL _debug2
367   0000              	GLOBAL _debug
368   0000              	GLOBAL _zx_print_str
369   0000              	GLOBAL _zx_print_int
370   0000              	GLOBAL _zx_print_chr
371   0000              	GLOBAL _zx_print_bonus_time
372   0000              	GLOBAL _zx_isr
373   0000              	GLOBAL _z80_otdr_callee
374   0000              	GLOBAL _z80_otdr
375   0000              	GLOBAL _z80_otir_callee
376   0000              	GLOBAL _z80_otir
377   0000              	GLOBAL _z80_outp_callee
378   0000              	GLOBAL _z80_outp
379   0000              	GLOBAL _z80_indr_callee
380   0000              	GLOBAL _z80_indr
381   0000              	GLOBAL _z80_inir_callee
382   0000              	GLOBAL _z80_inir
383   0000              	GLOBAL _z80_inp_fastcall
384   0000              	GLOBAL _z80_inp
385   0000              	GLOBAL _z80_set_int_state_fastcall
386   0000              	GLOBAL _z80_set_int_state
387   0000              	GLOBAL _z80_get_int_state
388   0000              	GLOBAL _z80_delay_tstate_fastcall
389   0000              	GLOBAL _z80_delay_tstate
390   0000              	GLOBAL _z80_delay_ms_fastcall
391   0000              	GLOBAL _z80_delay_ms
392   0000              	GLOBAL _im2_remove_generic_callback_callee
393   0000              	GLOBAL _im2_remove_generic_callback
394   0000              	GLOBAL _im2_prepend_generic_callback_callee
395   0000              	GLOBAL _im2_prepend_generic_callback
396   0000              	GLOBAL _im2_append_generic_callback_callee
397   0000              	GLOBAL _im2_append_generic_callback
398   0000              	GLOBAL _im2_create_generic_isr_8080_callee
399   0000              	GLOBAL _im2_create_generic_isr_8080
400   0000              	GLOBAL _im2_create_generic_isr_callee
401   0000              	GLOBAL _im2_create_generic_isr
402   0000              	GLOBAL _im2_install_isr_callee
403   0000              	GLOBAL _im2_install_isr
404   0000              	GLOBAL _im2_init_fastcall
405   0000              	GLOBAL _im2_init
406   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
407   0000              	GLOBAL _intrinsic_swap_word_32
408   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_endian_32
410   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_16
412   0000              	GLOBAL _intrinsic_return_de
413   0000              	GLOBAL _intrinsic_return_bc
414   0000              	GLOBAL _intrinsic_exx
415   0000              	GLOBAL _intrinsic_ex_de_hl
416   0000              	GLOBAL _intrinsic_nop
417   0000              	GLOBAL _intrinsic_im_2
418   0000              	GLOBAL _intrinsic_im_1
419   0000              	GLOBAL _intrinsic_im_0
420   0000              	GLOBAL _intrinsic_retn
421   0000              	GLOBAL _intrinsic_reti
422   0000              	GLOBAL _intrinsic_halt
423   0000              	GLOBAL _intrinsic_ei
424   0000              	GLOBAL _intrinsic_di
425   0000              	GLOBAL _intrinsic_stub
426   0000              	GLOBAL _intrinsic_outi
427   0000              	GLOBAL _intrinsic_ldi
428   0000              	GLOBAL _zx_pattern_fill_callee
429   0000              	GLOBAL _zx_pattern_fill
430   0000              	GLOBAL _zx_saddrpup_fastcall
431   0000              	GLOBAL _zx_saddrpup
432   0000              	GLOBAL _zx_saddrpright_callee
433   0000              	GLOBAL _zx_saddrpright
434   0000              	GLOBAL _zx_saddrpleft_callee
435   0000              	GLOBAL _zx_saddrpleft
436   0000              	GLOBAL _zx_saddrpdown_fastcall
437   0000              	GLOBAL _zx_saddrpdown
438   0000              	GLOBAL _zx_saddrcup_fastcall
439   0000              	GLOBAL _zx_saddrcup
440   0000              	GLOBAL _zx_saddrcright_fastcall
441   0000              	GLOBAL _zx_saddrcright
442   0000              	GLOBAL _zx_saddrcleft_fastcall
443   0000              	GLOBAL _zx_saddrcleft
444   0000              	GLOBAL _zx_saddrcdown_fastcall
445   0000              	GLOBAL _zx_saddrcdown
446   0000              	GLOBAL _zx_saddr2py_fastcall
447   0000              	GLOBAL _zx_saddr2py
448   0000              	GLOBAL _zx_saddr2px_fastcall
449   0000              	GLOBAL _zx_saddr2px
450   0000              	GLOBAL _zx_saddr2cy_fastcall
451   0000              	GLOBAL _zx_saddr2cy
452   0000              	GLOBAL _zx_saddr2cx_fastcall
453   0000              	GLOBAL _zx_saddr2cx
454   0000              	GLOBAL _zx_saddr2aaddr_fastcall
455   0000              	GLOBAL _zx_saddr2aaddr
456   0000              	GLOBAL _zx_py2saddr_fastcall
457   0000              	GLOBAL _zx_py2saddr
458   0000              	GLOBAL _zx_py2aaddr_fastcall
459   0000              	GLOBAL _zx_py2aaddr
460   0000              	GLOBAL _zx_pxy2saddr_callee
461   0000              	GLOBAL _zx_pxy2saddr
462   0000              	GLOBAL _zx_pxy2aaddr_callee
463   0000              	GLOBAL _zx_pxy2aaddr
464   0000              	GLOBAL _zx_px2bitmask_fastcall
465   0000              	GLOBAL _zx_px2bitmask
466   0000              	GLOBAL _zx_cy2saddr_fastcall
467   0000              	GLOBAL _zx_cy2saddr
468   0000              	GLOBAL _zx_cy2aaddr_fastcall
469   0000              	GLOBAL _zx_cy2aaddr
470   0000              	GLOBAL _zx_cxy2saddr_callee
471   0000              	GLOBAL _zx_cxy2saddr
472   0000              	GLOBAL _zx_cxy2aaddr_callee
473   0000              	GLOBAL _zx_cxy2aaddr
474   0000              	GLOBAL _zx_bitmask2px_fastcall
475   0000              	GLOBAL _zx_bitmask2px
476   0000              	GLOBAL _zx_aaddrcup_fastcall
477   0000              	GLOBAL _zx_aaddrcup
478   0000              	GLOBAL _zx_aaddrcright_fastcall
479   0000              	GLOBAL _zx_aaddrcright
480   0000              	GLOBAL _zx_aaddrcleft_fastcall
481   0000              	GLOBAL _zx_aaddrcleft
482   0000              	GLOBAL _zx_aaddrcdown_fastcall
483   0000              	GLOBAL _zx_aaddrcdown
484   0000              	GLOBAL _zx_aaddr2saddr_fastcall
485   0000              	GLOBAL _zx_aaddr2saddr
486   0000              	GLOBAL _zx_aaddr2py_fastcall
487   0000              	GLOBAL _zx_aaddr2py
488   0000              	GLOBAL _zx_aaddr2px_fastcall
489   0000              	GLOBAL _zx_aaddr2px
490   0000              	GLOBAL _zx_aaddr2cy_fastcall
491   0000              	GLOBAL _zx_aaddr2cy
492   0000              	GLOBAL _zx_aaddr2cx_fastcall
493   0000              	GLOBAL _zx_aaddr2cx
494   0000              	GLOBAL _zx_visit_wc_pix_callee
495   0000              	GLOBAL _zx_visit_wc_pix
496   0000              	GLOBAL _zx_visit_wc_attr_callee
497   0000              	GLOBAL _zx_visit_wc_attr
498   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
499   0000              	GLOBAL _zx_scroll_wc_up_pix
500   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
501   0000              	GLOBAL _zx_scroll_wc_up_attr
502   0000              	GLOBAL _zx_scroll_wc_up_callee
503   0000              	GLOBAL _zx_scroll_wc_up
504   0000              	GLOBAL _zx_scroll_up_pix_callee
505   0000              	GLOBAL _zx_scroll_up_pix
506   0000              	GLOBAL _zx_scroll_up_attr_callee
507   0000              	GLOBAL _zx_scroll_up_attr
508   0000              	GLOBAL _zx_scroll_up_callee
509   0000              	GLOBAL _zx_scroll_up
510   0000              	GLOBAL _zx_cls_wc_pix_callee
511   0000              	GLOBAL _zx_cls_wc_pix
512   0000              	GLOBAL _zx_cls_wc_attr_callee
513   0000              	GLOBAL _zx_cls_wc_attr
514   0000              	GLOBAL _zx_cls_wc_callee
515   0000              	GLOBAL _zx_cls_wc
516   0000              	GLOBAL _zx_cls_pix_fastcall
517   0000              	GLOBAL _zx_cls_pix
518   0000              	GLOBAL _zx_cls_attr_fastcall
519   0000              	GLOBAL _zx_cls_attr
520   0000              	GLOBAL _zx_cls_fastcall
521   0000              	GLOBAL _zx_cls
522   0000              	GLOBAL _zx_border_fastcall
523   0000              	GLOBAL _zx_border
524   0000              	GLOBAL _sound_hit_brick
525   0000              	GLOBAL _sound_hit_enemy
526   0000              	GLOBAL _sound_kill
527   0000              	GLOBAL _sound_enter_enemy
528   0000              	GLOBAL _sound_coin
529   0000              	GLOBAL _sound_jump
530   0000              	GLOBAL _sound_slide
531   0000              	GLOBAL _player_open_door
532   0000              	GLOBAL _player_move_jump
533   0000              	GLOBAL _player_fire
534   0000              	GLOBAL _player_check_stairs_down
535   0000              	GLOBAL _player_check_stairs
536   0000              	GLOBAL _player_tile
537   0000              	GLOBAL _player_pick_item
538   0000              	GLOBAL _player_check_floor
539   0000              	GLOBAL _player_hit_platform_clear
540   0000              	GLOBAL _player_lost_life
541   0000              	GLOBAL _player_score_add
542   0000              	GLOBAL _player_player_hit_pow
543   0000              	GLOBAL _player_hit_platform
544   0000              	GLOBAL _player_move_input
545   0000              	GLOBAL _player_turn
546   0000              	GLOBAL _player_move
547   0000              	GLOBAL _player_restart
548   0000              	GLOBAL _player_kill
549   0000              	GLOBAL _player_check_input
550   0000              	GLOBAL _player_collision
551   0000              	GLOBAL _player_init
552   0000              	GLOBAL _game_add_enemy
553   0000              	GLOBAL _game_joystick_set_menu
554   0000              	GLOBAL _game_joystick_set
555   0000              	GLOBAL _game_joystick_change
556   0000              	GLOBAL _game_print_header
557   0000              	GLOBAL _game_end
558   0000              	GLOBAL _game_phase_print_score_back
559   0000              	GLOBAL _game_check_time
560   0000              	GLOBAL _game_rotate_attrib
561   0000              	GLOBAL _game_colour_message
562   0000              	GLOBAL _game_paint_attrib_lin_h
563   0000              	GLOBAL _game_paint_attrib_lin
564   0000              	GLOBAL _game_paint_attrib
565   0000              	GLOBAL _game_print_score
566   0000              	GLOBAL _game_unfreeze_all
567   0000              	GLOBAL _game_freeze_all
568   0000              	GLOBAL _game_freeze
569   0000              	GLOBAL _game_enemy_add_get_index
570   0000              	GLOBAL _game_check_cell
571   0000              	GLOBAL _game_check_map
572   0000              	GLOBAL _game_loop
573   0000              	GLOBAL _game_phase_init
574   0000              	GLOBAL _game_start_timer
575   0000              	GLOBAL _game_tick
576   0000              	GLOBAL _game_print_lives
577   0000              	GLOBAL _game_print_footer
578   0000              	GLOBAL _game_fill_row
579   0000              	GLOBAL _game_draw_screen
580   0000              	GLOBAL _enemy_avoid_edge
581   0000              	GLOBAL _enemy_kill
582   0000              	GLOBAL _enemy_init
583   0000              	GLOBAL _enemy_move
584   0000              	GLOBAL _enemy_turn
585   0000              	GLOBAL _enemy_hit
586   0000              	GLOBAL _enemy_coin1
587   0000              	GLOBAL _enemy_static
588   0000              	GLOBAL _enemy_walk
589   0000              	GLOBAL _enemy_horizontal
590   0000              	GLOBAL _enemy_vertical
591   0000              	GLOBAL _ay_fx_play
592   0000              	GLOBAL _ay_midi_play
593   0000              	GLOBAL _ay_is_playing
594   0000              	GLOBAL _ay_reset
595   0000              	GLOBAL _test_func
596   0000              	GLOBAL _test_proc
597   0000              	GLOBAL _in_mouse_kempston_wheel_delta
598   0000              	GLOBAL _in_mouse_kempston_wheel
599   0000              	GLOBAL _in_mouse_kempston_callee
600   0000              	GLOBAL _in_mouse_kempston
601   0000              	GLOBAL _in_mouse_kempston_setpos_callee
602   0000              	GLOBAL _in_mouse_kempston_setpos
603   0000              	GLOBAL _in_mouse_kempston_reset
604   0000              	GLOBAL _in_mouse_kempston_init
605   0000              	GLOBAL _in_mouse_amx_wheel_delta
606   0000              	GLOBAL _in_mouse_amx_wheel
607   0000              	GLOBAL _in_mouse_amx_callee
608   0000              	GLOBAL _in_mouse_amx
609   0000              	GLOBAL _in_mouse_amx_setpos_callee
610   0000              	GLOBAL _in_mouse_amx_setpos
611   0000              	GLOBAL _in_mouse_amx_reset
612   0000              	GLOBAL _in_mouse_amx_init_callee
613   0000              	GLOBAL _in_mouse_amx_init
614   0000              	GLOBAL _in_stick_sinclair2
615   0000              	GLOBAL _in_stick_sinclair1
616   0000              	GLOBAL _in_stick_kempston
617   0000              	GLOBAL _in_stick_fuller
618   0000              	GLOBAL _in_stick_cursor
619   0000              	GLOBAL _in_stick_keyboard_fastcall
620   0000              	GLOBAL _in_stick_keyboard
621   0000              	GLOBAL _in_wait_nokey
622   0000              	GLOBAL _in_wait_key
623   0000              	GLOBAL _in_test_key
624   0000              	GLOBAL _in_pause_fastcall
625   0000              	GLOBAL _in_pause
626   0000              	GLOBAL _in_key_scancode_fastcall
627   0000              	GLOBAL _in_key_scancode
628   0000              	GLOBAL _in_key_pressed_fastcall
629   0000              	GLOBAL _in_key_pressed
630   0000              	GLOBAL _in_inkey
631   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
632   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
633   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
634   0000              	GLOBAL _NIRVANAP_HOLE
635   0000              	GLOBAL _NIRVANAP_ISR_HOOK
636   0000              	GLOBAL _draw_count
637   0000              	GLOBAL _g_player_hit_right
638   0000              	GLOBAL _g_player_hit_left
639   0000              	GLOBAL _joynames
640   0000              	GLOBAL _initials
641   0000              	GLOBAL _bullet_count
642   0000              	GLOBAL _bullet_frames
643   0000              	GLOBAL _bullet_colint
644   0000              	GLOBAL _bullet_dir
645   0000              	GLOBAL _bullet_tile
646   0000              	GLOBAL _bullet_col
647   0000              	GLOBAL _bullet_lin
648   0000              	GLOBAL _anim_count
649   0000              	GLOBAL _anim_loop
650   0000              	GLOBAL _anim_end
651   0000              	GLOBAL _anim_int
652   0000              	GLOBAL _anim_tile
653   0000              	GLOBAL _anim_col
654   0000              	GLOBAL _anim_lin
655   0000              	GLOBAL _phase_curr
656   0000              	GLOBAL _map_heigth
657   0000              	GLOBAL _map_width
658   0000              	GLOBAL _scr_curr
659   0000              	GLOBAL _scr_7
660   0000              	GLOBAL _scr_6
661   0000              	GLOBAL _scr_5
662   0000              	GLOBAL _scr_4
663   0000              	GLOBAL _scr_3
664   0000              	GLOBAL _scr_2
665   0000              	GLOBAL _scr_1
666   0000              	GLOBAL _scr_0
667   0000              	GLOBAL _scr_obj
668   0000              	GLOBAL _scr_map
669   0000              	GLOBAL _sprite_speed_alt
670   0000              	GLOBAL _sprite_frames
671   0000              	GLOBAL _sprite_speed
672   0000              	GLOBAL _screen_ink
673   0000              	GLOBAL _screen_paper
674   0000              	GLOBAL _player_over_stair
675   0000              	GLOBAL _game_respawn_index
676   0000              	GLOBAL _game_respawn_tile_index
677   0000              	GLOBAL _game_respawn
678   0000              	GLOBAL _game_menu_sel
679   0000              	GLOBAL _game_score_top
680   0000              	GLOBAL _player_lives
681   0000              	GLOBAL _game_over
682   0000              	GLOBAL _game_sound
683   0000              	GLOBAL _game_inmune
684   0000              	GLOBAL _game_god_mode
685   0000              	GLOBAL _game_two_player
686   0000              	GLOBAL _game_brick_tile
687   0000              	GLOBAL _sprite_curr_index
688   0000              	GLOBAL _spr_count
689   0000              	GLOBAL _bullet_time
690   0000              	GLOBAL _anim_time
691   0000              	GLOBAL _frame_time
692   0000              	GLOBAL _entry_time
693   0000              	GLOBAL _curr_time
694   0000              	GLOBAL _s_state
695   0000              	GLOBAL _attrib_hl
696   0000              	GLOBAL _attrib
697   0000              	GLOBAL _zx_val_asm
698   0000              	GLOBAL _enemies
699   0000              	GLOBAL _tmp_ui
700   0000              	GLOBAL _tmp_sc
701   0000              	GLOBAL _tmp_uc
702   0000              	GLOBAL _tmp1
703   0000              	GLOBAL _tmp0
704   0000              	GLOBAL _tmp
705   0000              	GLOBAL _index1
706   0000              	GLOBAL _index0
707   0000              	GLOBAL _loop_count
708   0000              	GLOBAL _s_col1
709   0000              	GLOBAL _s_col0
710   0000              	GLOBAL _s_lin1
711   0000              	GLOBAL _s_lin0
712   0000              	GLOBAL _s_tile1
713   0000              	GLOBAL _s_tile0
714   0000              	GLOBAL _player_hit_count
715   0000              	GLOBAL _sprite_horizontal_check
716   0000              	GLOBAL _sprite_on_air
717   0000              	GLOBAL _sprite
718   0000              	GLOBAL _game_gravity
719   0000              	GLOBAL _player_keys
720   0000              	GLOBAL _player_vel_inc
721   0000              	GLOBAL _player_vel_y1
722   0000              	GLOBAL _player_vel_y0
723   0000              	GLOBAL _player_vel_y
724   0000              	GLOBAL _player_vel_x
725   0000              	GLOBAL _player_joy
726   0000              	GLOBAL _player_score
727   0000              	GLOBAL _last_time
728   0000              	GLOBAL _player_slide
729   0000              	GLOBAL _spr_timer
730   0000              	GLOBAL _jump_lin
731   0000              	GLOBAL _player_hit_col
732   0000              	GLOBAL _player_hit_lin
733   0000              	GLOBAL _colint
734   0000              	GLOBAL _col
735   0000              	GLOBAL _lin
736   0000              	GLOBAL _tile
737   0000              	GLOBAL _state_a
738   0000              	GLOBAL _state
739   0000              	GLOBAL _class
740   0000              	GLOBAL _tbuffer
741   0000              	GLOBAL _dirs
742   0000              	GLOBAL _k1
743   0000              	GLOBAL _joyfunc1
744   0000              	GLOBAL _btiles
745   0000              	GLOBAL _spec128
746   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
747   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
748   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
749   0000              	GLOBAL _ay_effect_20
750   0000              	GLOBAL _ay_effect_19
751   0000              	GLOBAL _ay_effect_18
752   0000              	GLOBAL _ay_effect_17
753   0000              	GLOBAL _ay_effect_16
754   0000              	GLOBAL _ay_effect_15
755   0000              	GLOBAL _ay_effect_14
756   0000              	GLOBAL _ay_effect_13
757   0000              	GLOBAL _ay_effect_12
758   0000              	GLOBAL _ay_effect_11
759   0000              	GLOBAL _ay_effect_10
760   0000              	GLOBAL _ay_effect_09
761   0000              	GLOBAL _ay_effect_08
762   0000              	GLOBAL _ay_effect_07
763   0000              	GLOBAL _ay_effect_06
764   0000              	GLOBAL _ay_effect_05
765   0000              	GLOBAL _ay_effect_04
766   0000              	GLOBAL _ay_effect_03
767   0000              	GLOBAL _ay_effect_02
768   0000              	GLOBAL _ay_effect_01
769   0000              	GLOBAL _pb_midi_phase_1
770   0000              	GLOBAL _pb_midi_title
771   0000              	GLOBAL _control_method
772   0000              ;--------------------------------------------------------
773   0000              ; special function registers
774   0000              ;--------------------------------------------------------
775   0000              defc _IO_FE	=	0x00fe
776   0000              defc _IO_1FFD	=	0x1ffd
777   0000              defc _IO_7FFD	=	0x7ffd
778   0000              ;--------------------------------------------------------
779   0000              ; ram data
780   0000              ;--------------------------------------------------------
781   0000              	SECTION bss_compiler
782   0000              ;--------------------------------------------------------
783   0000              ; ram data
784   0000              ;--------------------------------------------------------
785   0000              
786   0000              IF 0
787   0000              
788   0000              ; .area _INITIALIZED removed by z88dk
789   0000              
790   0000              
791   0000              ENDIF
792   0000              
793   0000              ;--------------------------------------------------------
794   0000              ; absolute external ram data
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; global & static initialisations
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_crt_init
801   0000              ;--------------------------------------------------------
802   0000              ; Home
803   0000              ;--------------------------------------------------------
804   0000              	SECTION IGNORE
805   0000              ;--------------------------------------------------------
806   0000              ; code
807   0000              ;--------------------------------------------------------
808   0000              	SECTION code_compiler
809   0000              ;	---------------------------------
810   0000              ; Function spr_calc_index
811   0000              ; ---------------------------------
812   0000              _spr_calc_index:
813   0000  CD 00 00    	call	___sdcc_enter_ix
814   0003  DD 4E 05    	ld	c,(ix+5)
815   0006  CB 39       	srl	c
816   0008  06 00       	ld	b,0x00
817   000A  DD 7E 04    	ld	a,(ix+4)
818   000D  07          	rlca
819   000E  07          	rlca
820   000F  07          	rlca
821   0010  07          	rlca
822   0011  E6 0F       	and	a,0x0f
823   0013  6F          	ld	l, a
824   0014  26 00       	ld	h,0x00
825   0016  29          	add	hl, hl
826   0017  29          	add	hl, hl
827   0018  29          	add	hl, hl
828   0019  29          	add	hl, hl
829   001A  09          	add	hl, bc
830   001B  DD E1       	pop	ix
831   001D  C9          	ret
832   001E              	SECTION code_compiler
833   001E              ;	---------------------------------
834   001E              ; Function spr_chktime
835   001E              ; ---------------------------------
836   001E              _spr_chktime:
837   001E  CD 00 00    	call	___sdcc_enter_ix
838   0021  F5          	push	af
839   0022  DD 75 FE    	ld	(ix-2),l
840   0025  DD 74 FF    	ld	(ix-1),h
841   0028  E1          	pop	hl
842   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
843   002C  5E          	ld	e,(hl)
844   002D  E5          	push	hl
845   002E  6B          	ld	l,e
846   002F  26 00       	ld	h,0x00
847   0031  09          	add	hl, bc
848   0032  7E          	ld	a, (hl)
849   0033  B7          	or	a, a
850   0034  20 13       	jr	NZ,l_spr_chktime_00102
851   0036  01 00 00    	ld	bc,_sprite_speed+0
852   0039  16 00       	ld	d,0x00
853   003B  21 00 00    	ld	hl,_class
854   003E  19          	add	hl, de
855   003F  6E          	ld	l, (hl)
856   0040  26 00       	ld	h,0x00
857   0042  09          	add	hl, bc
858   0043  7E          	ld	a, (hl)
859   0044  32 00 00    	ld	(_tmp),a
860   0047  18 03       	jr	l_spr_chktime_00103
861   0049              l_spr_chktime_00102:
862   0049  32 00 00    	ld	(_tmp),a
863   004C              l_spr_chktime_00103:
864   004C  3A 00 00    	ld	a,(_tmp)
865   004F  4F          	ld	c,a
866   0050  06 00       	ld	b,0x00
867   0052  60          	ld	h,b
868   0053  6B          	ld	l, e
869   0054  29          	add	hl, hl
870   0055  11 00 00    	ld	de,_last_time
871   0058  19          	add	hl, de
872   0059  5E          	ld	e, (hl)
873   005A  23          	inc	hl
874   005B  56          	ld	d, (hl)
875   005C  C5          	push	bc
876   005D  D5          	push	de
877   005E  CD 00 00    	call	_game_check_time
878   0061  F1          	pop	af
879   0062  F1          	pop	af
880   0063  7D          	ld	a, l
881   0064  B7          	or	a, a
882   0065  28 15       	jr	Z,l_spr_chktime_00105
883   0067  E1          	pop	hl
884   0068  E5          	push	hl
885   0069  6E          	ld	l, (hl)
886   006A  26 00       	ld	h,0x00
887   006C  29          	add	hl, hl
888   006D  01 00 00    	ld	bc,_last_time
889   0070  09          	add	hl,bc
890   0071  ED 5B 00 00 	ld	de,(_curr_time)
891   0075  73          	ld	(hl),e
892   0076  23          	inc	hl
893   0077  72          	ld	(hl),d
894   0078  2E 01       	ld	l,0x01
895   007A  18 02       	jr	l_spr_chktime_00106
896   007C              l_spr_chktime_00105:
897   007C  2E 00       	ld	l,0x00
898   007E              l_spr_chktime_00106:
899   007E  F1          	pop	af
900   007F  DD E1       	pop	ix
901   0081  C9          	ret
902   0082              	SECTION code_compiler
903   0082              ;	---------------------------------
904   0082              ; Function spr_move_up
905   0082              ; ---------------------------------
906   0082              _spr_move_up:
907   0082  2A 00 00    	ld	hl,(_sprite)
908   0085  26 00       	ld	h,0x00
909   0087  01 00 00    	ld	bc,_lin
910   008A  09          	add	hl,bc
911   008B  7E          	ld	a,(hl)
912   008C  C6 FE       	add	a,0xfe
913   008E  32 00 00    	ld	(_s_lin1),a
914   0091  07          	rlca
915   0092  07          	rlca
916   0093  07          	rlca
917   0094  07          	rlca
918   0095  E6 0F       	and	a,0x0f
919   0097  4F          	ld	c, a
920   0098  3A 00 00    	ld	a,(_tmp1)
921   009B  07          	rlca
922   009C  07          	rlca
923   009D  07          	rlca
924   009E  07          	rlca
925   009F  E6 0F       	and	a,0x0f
926   00A1  47          	ld	b, a
927   00A2  79          	ld	a, c
928   00A3  90          	sub	a, b
929   00A4  20 04       	jr	NZ,l_spr_move_up_00134
930   00A6  3E 01       	ld	a,0x01
931   00A8  18 01       	jr	l_spr_move_up_00135
932   00AA              l_spr_move_up_00134:
933   00AA  AF          	xor	a,a
934   00AB              l_spr_move_up_00135:
935   00AB  EE 01       	xor	a,0x01
936   00AD  28 2D       	jr	Z,l_spr_move_up_00108
937   00AF  2A 00 00    	ld	hl,(_sprite)
938   00B2  26 00       	ld	h,0x00
939   00B4  01 00 00    	ld	bc,_col
940   00B7  09          	add	hl,bc
941   00B8  7E          	ld	a,(hl)
942   00B9  F5          	push	af
943   00BA  33          	inc	sp
944   00BB  3A 00 00    	ld	a,(_s_lin1)
945   00BE  F5          	push	af
946   00BF  33          	inc	sp
947   00C0  CD 00 00    	call	_game_check_map
948   00C3  F1          	pop	af
949   00C4  7C          	ld	a,h
950   00C5  B5          	or	a,l
951   00C6  28 14       	jr	Z,l_spr_move_up_00108
952   00C8  3A 00 00    	ld	a,(_sprite)
953   00CB  D6 07       	sub	a,0x07
954   00CD  20 09       	jr	NZ,l_spr_move_up_00104
955   00CF  3A 07 00    	ld	a,(_state_a + 0x0007)
956   00D2  07          	rlca
957   00D3  38 03       	jr	C,l_spr_move_up_00104
958   00D5  CD 00 00    	call	_player_hit_platform
959   00D8              l_spr_move_up_00104:
960   00D8  2E 01       	ld	l,0x01
961   00DA  18 1F       	jr	l_spr_move_up_00112
962   00DC              l_spr_move_up_00108:
963   00DC  2A 00 00    	ld	hl,(_sprite)
964   00DF  26 00       	ld	h,0x00
965   00E1  01 00 00    	ld	bc,_lin
966   00E4  09          	add	hl,bc
967   00E5  3E 90       	ld	a,0x90
968   00E7  4D          	ld	c,l
969   00E8  44          	ld	b,h
970   00E9  21 00 00    	ld	hl,_s_lin1
971   00EC  96          	sub	a, (hl)
972   00ED  30 06       	jr	NC,l_spr_move_up_00110
973   00EF  AF          	xor	a, a
974   00F0  02          	ld	(bc), a
975   00F1  2E 01       	ld	l,0x01
976   00F3  18 06       	jr	l_spr_move_up_00112
977   00F5              l_spr_move_up_00110:
978   00F5  3A 00 00    	ld	a,(_s_lin1)
979   00F8  02          	ld	(bc), a
980   00F9  2E 00       	ld	l,0x00
981   00FB              l_spr_move_up_00112:
982   00FB  C9          	ret
983   00FC              	SECTION code_compiler
984   00FC              ;	---------------------------------
985   00FC              ; Function spr_move_down
986   00FC              ; ---------------------------------
987   00FC              _spr_move_down:
988   00FC  2A 00 00    	ld	hl,(_sprite)
989   00FF  26 00       	ld	h,0x00
990   0101  01 00 00    	ld	bc,_lin
991   0104  09          	add	hl,bc
992   0105  7E          	ld	a,(hl)
993   0106  C6 10       	add	a,0x10
994   0108  32 00 00    	ld	(_s_lin1),a
995   010B  07          	rlca
996   010C  07          	rlca
997   010D  07          	rlca
998   010E  07          	rlca
999   010F  E6 0F       	and	a,0x0f
1000  0111  4F          	ld	c, a
1001  0112  3A 00 00    	ld	a,(_tmp1)
1002  0115  07          	rlca
1003  0116  07          	rlca
1004  0117  07          	rlca
1005  0118  07          	rlca
1006  0119  E6 0F       	and	a,0x0f
1007  011B  47          	ld	b, a
1008  011C  79          	ld	a, c
1009  011D  90          	sub	a, b
1010  011E  20 04       	jr	NZ,l_spr_move_down_00122
1011  0120  3E 01       	ld	a,0x01
1012  0122  18 01       	jr	l_spr_move_down_00123
1013  0124              l_spr_move_down_00122:
1014  0124  AF          	xor	a,a
1015  0125              l_spr_move_down_00123:
1016  0125  EE 01       	xor	a,0x01
1017  0127  28 1D       	jr	Z,l_spr_move_down_00104
1018  0129  2A 00 00    	ld	hl,(_sprite)
1019  012C  26 00       	ld	h,0x00
1020  012E  01 00 00    	ld	bc,_col
1021  0131  09          	add	hl,bc
1022  0132  7E          	ld	a,(hl)
1023  0133  F5          	push	af
1024  0134  33          	inc	sp
1025  0135  3A 00 00    	ld	a,(_s_lin1)
1026  0138  F5          	push	af
1027  0139  33          	inc	sp
1028  013A  CD 00 00    	call	_game_check_map
1029  013D  F1          	pop	af
1030  013E  7C          	ld	a,h
1031  013F  B5          	or	a,l
1032  0140  28 04       	jr	Z,l_spr_move_down_00104
1033  0142  2E 01       	ld	l,0x01
1034  0144  18 22       	jr	l_spr_move_down_00108
1035  0146              l_spr_move_down_00104:
1036  0146  2A 00 00    	ld	hl,(_sprite)
1037  0149  26 00       	ld	h,0x00
1038  014B  01 00 00    	ld	bc,_lin
1039  014E  09          	add	hl,bc
1040  014F  3E 90       	ld	a,0x90
1041  0151  4D          	ld	c,l
1042  0152  44          	ld	b,h
1043  0153  21 00 00    	ld	hl,_s_lin1
1044  0156  96          	sub	a, (hl)
1045  0157  30 07       	jr	NC,l_spr_move_down_00106
1046  0159  3E 90       	ld	a,0x90
1047  015B  02          	ld	(bc), a
1048  015C  2E 01       	ld	l,0x01
1049  015E  18 08       	jr	l_spr_move_down_00108
1050  0160              l_spr_move_down_00106:
1051  0160  3A 00 00    	ld	a,(_s_lin1)
1052  0163  C6 F2       	add	a,0xf2
1053  0165  02          	ld	(bc), a
1054  0166  2E 00       	ld	l,0x00
1055  0168              l_spr_move_down_00108:
1056  0168  C9          	ret
1057  0169              	SECTION code_compiler
1058  0169              ;	---------------------------------
1059  0169              ; Function spr_move_horizontal
1060  0169              ; ---------------------------------
1061  0169              _spr_move_horizontal:
1062  0169  2A 00 00    	ld	hl,(_sprite)
1063  016C  26 00       	ld	h,0x00
1064  016E  01 00 00    	ld	bc,_state
1065  0171  09          	add	hl,bc
1066  0172  7E          	ld	a,(hl)
1067  0173  CB 57       	bit	2, a
1068  0175  28 05       	jr	Z,l_spr_move_horizontal_00104
1069  0177  CD 88 01    	call	_spr_move_right
1070  017A  18 0B       	jr	l_spr_move_horizontal_00106
1071  017C              l_spr_move_horizontal_00104:
1072  017C  CB 5F       	bit	3, a
1073  017E  28 05       	jr	Z,l_spr_move_horizontal_00105
1074  0180  CD 65 02    	call	_spr_move_left
1075  0183  18 02       	jr	l_spr_move_horizontal_00106
1076  0185              l_spr_move_horizontal_00105:
1077  0185  2E 00       	ld	l,0x00
1078  0187              l_spr_move_horizontal_00106:
1079  0187  C9          	ret
1080  0188              	SECTION code_compiler
1081  0188              ;	---------------------------------
1082  0188              ; Function spr_move_right
1083  0188              ; ---------------------------------
1084  0188              _spr_move_right:
1085  0188  2A 00 00    	ld	hl,(_sprite)
1086  018B  26 00       	ld	h,0x00
1087  018D  01 00 00    	ld	bc,_colint
1088  0190  09          	add	hl,bc
1089  0191  7E          	ld	a,(hl)
1090  0192  3C          	inc	a
1091  0193  77          	ld	(hl),a
1092  0194  4F          	ld	c,a
1093  0195  3A 00 00    	ld	a,(_sprite)
1094  0198  5F          	ld	e,a
1095  0199  16 00       	ld	d,0x00
1096  019B  21 00 00    	ld	hl,_class
1097  019E  19          	add	hl,de
1098  019F  5E          	ld	e, (hl)
1099  01A0  16 00       	ld	d,0x00
1100  01A2  21 00 00    	ld	hl,_sprite_frames
1101  01A5  19          	add	hl, de
1102  01A6  7E          	ld	a, (hl)
1103  01A7  91          	sub	a, c
1104  01A8  C2 62 02    	jp	NZ,l_spr_move_right_00117
1105  01AB  2A 00 00    	ld	hl,(_sprite)
1106  01AE  26 00       	ld	h,0x00
1107  01B0  01 00 00    	ld	bc,_lin
1108  01B3  09          	add	hl,bc
1109  01B4  7E          	ld	a,(hl)
1110  01B5  32 00 00    	ld	(_s_lin1),a
1111  01B8  2A 00 00    	ld	hl,(_sprite)
1112  01BB  26 00       	ld	h,0x00
1113  01BD  01 00 00    	ld	bc,_col
1114  01C0  09          	add	hl,bc
1115  01C1  7E          	ld	a,(hl)
1116  01C2  FE 1E       	cp	a,0x1e
1117  01C4  30 4A       	jr	NC,l_spr_move_right_00107
1118  01C6  3C          	inc	a
1119  01C7  32 00 00    	ld	(_s_col1),a
1120  01CA  F5          	push	af
1121  01CB  33          	inc	sp
1122  01CC  3A 00 00    	ld	a,(_s_lin1)
1123  01CF  F5          	push	af
1124  01D0  33          	inc	sp
1125  01D1  CD 00 00    	call	_game_check_map
1126  01D4  F1          	pop	af
1127  01D5  7C          	ld	a,h
1128  01D6  B5          	or	a,l
1129  01D7  20 13       	jr	NZ,l_spr_move_right_00103
1130  01D9  3A 00 00    	ld	a,(_s_lin1)
1131  01DC  C6 0F       	add	a,0x0f
1132  01DE  4F          	ld	c, a
1133  01DF  3A 00 00    	ld	a, (_s_col1)
1134  01E2  47          	ld	b,a
1135  01E3  C5          	push	bc
1136  01E4  CD 00 00    	call	_game_check_map
1137  01E7  F1          	pop	af
1138  01E8  7C          	ld	a,h
1139  01E9  B5          	or	a,l
1140  01EA  28 24       	jr	Z,l_spr_move_right_00107
1141  01EC              l_spr_move_right_00103:
1142  01EC  2A 00 00    	ld	hl,(_sprite)
1143  01EF  26 00       	ld	h,0x00
1144  01F1  01 00 00    	ld	bc,_colint
1145  01F4  09          	add	hl,bc
1146  01F5  7E          	ld	a,(hl)
1147  01F6  C6 FF       	add	a,0xff
1148  01F8  77          	ld	(hl),a
1149  01F9  3A 00 00    	ld	a,(_sprite_on_air)
1150  01FC  B7          	or	a,a
1151  01FD  20 0D       	jr	NZ,l_spr_move_right_00102
1152  01FF  2A 00 00    	ld	hl,(_sprite)
1153  0202  26 00       	ld	h,0x00
1154  0204  01 00 00    	ld	bc,_colint
1155  0207  09          	add	hl,bc
1156  0208  7E          	ld	a,(hl)
1157  0209  C6 FF       	add	a,0xff
1158  020B  77          	ld	(hl),a
1159  020C              l_spr_move_right_00102:
1160  020C  2E 01       	ld	l,0x01
1161  020E  18 54       	jr	l_spr_move_right_00118
1162  0210              l_spr_move_right_00107:
1163  0210  2A 00 00    	ld	hl,(_sprite)
1164  0213  26 00       	ld	h,0x00
1165  0215  01 00 00    	ld	bc,_col
1166  0218  09          	add	hl,bc
1167  0219  34          	inc	(hl)
1168  021A  2A 00 00    	ld	hl,(_sprite)
1169  021D  26 00       	ld	h,0x00
1170  021F  01 00 00    	ld	bc,_colint
1171  0222  09          	add	hl,bc
1172  0223  AF          	xor	a,a
1173  0224  77          	ld	(hl),a
1174  0225  2A 00 00    	ld	hl,(_sprite)
1175  0228  26 00       	ld	h,0x00
1176  022A  01 00 00    	ld	bc,_col
1177  022D  09          	add	hl,bc
1178  022E  5E          	ld	e,(hl)
1179  022F  3E 1E       	ld	a,0x1e
1180  0231  93          	sub	a,e
1181  0232  30 2E       	jr	NC,l_spr_move_right_00117
1182  0234  3A 00 00    	ld	a,(_sprite)
1183  0237  D6 07       	sub	a,0x07
1184  0239  28 04       	jr	Z,l_spr_move_right_00151
1185  023B  4D          	ld	c,l
1186  023C  44          	ld	b,h
1187  023D  18 1C       	jr	l_spr_move_right_00112
1188  023F              l_spr_move_right_00151:
1189  023F  CD 43 03    	call	_spr_page_right
1190  0242  3A 00 00    	ld	a,(_sprite)
1191  0245  C6 00       	add	a,+((_col) & 0xFF)
1192  0247  4D          	ld	c,l
1193  0248  5F          	ld	e,a
1194  0249  3E 00       	ld	a,+((_col) / 256)
1195  024B  CE 00       	adc	a,0x00
1196  024D  57          	ld	d,a
1197  024E  79          	ld	a, c
1198  024F  B7          	or	a, a
1199  0250  28 04       	jr	Z,l_spr_move_right_00109
1200  0252  AF          	xor	a, a
1201  0253  12          	ld	(de), a
1202  0254  18 08       	jr	l_spr_move_right_00113
1203  0256              l_spr_move_right_00109:
1204  0256  3E 1E       	ld	a,0x1e
1205  0258  12          	ld	(de), a
1206  0259  18 03       	jr	l_spr_move_right_00113
1207  025B              l_spr_move_right_00112:
1208  025B  3E 1E       	ld	a,0x1e
1209  025D  02          	ld	(bc), a
1210  025E              l_spr_move_right_00113:
1211  025E  2E 01       	ld	l,0x01
1212  0260  18 02       	jr	l_spr_move_right_00118
1213  0262              l_spr_move_right_00117:
1214  0262  2E 00       	ld	l,0x00
1215  0264              l_spr_move_right_00118:
1216  0264  C9          	ret
1217  0265              	SECTION code_compiler
1218  0265              ;	---------------------------------
1219  0265              ; Function spr_move_left
1220  0265              ; ---------------------------------
1221  0265              _spr_move_left:
1222  0265  01 00 00    	ld	bc,_colint+0
1223  0268  79          	ld	a, c
1224  0269  21 00 00    	ld	hl,_sprite
1225  026C  86          	add	a, (hl)
1226  026D  5F          	ld	e, a
1227  026E  78          	ld	a, b
1228  026F  CE 00       	adc	a,0x00
1229  0271  57          	ld	d, a
1230  0272  1A          	ld	a, (de)
1231  0273  C6 FF       	add	a,0xff
1232  0275  12          	ld	(de), a
1233  0276  79          	ld	a, c
1234  0277  86          	add	a, (hl)
1235  0278  5F          	ld	e, a
1236  0279  78          	ld	a, b
1237  027A  CE 00       	adc	a,0x00
1238  027C  57          	ld	d, a
1239  027D  1A          	ld	a, (de)
1240  027E  3C          	inc	a
1241  027F  C2 40 03    	jp	NZ,l_spr_move_left_00117
1242  0282  5E          	ld	e,(hl)
1243  0283  16 00       	ld	d,0x00
1244  0285  21 00 00    	ld	hl,_lin
1245  0288  19          	add	hl,de
1246  0289  7E          	ld	a,(hl)
1247  028A  32 00 00    	ld	(_s_lin1),a
1248  028D  2A 00 00    	ld	hl,(_sprite)
1249  0290  26 00       	ld	h,0x00
1250  0292  11 00 00    	ld	de,_col
1251  0295  19          	add	hl,de
1252  0296  7E          	ld	a,(hl)
1253  0297  B7          	or	a, a
1254  0298  28 44       	jr	Z,l_spr_move_left_00107
1255  029A  C6 FF       	add	a,0xff
1256  029C  32 00 00    	ld	(_s_col1),a
1257  029F  C5          	push	bc
1258  02A0  F5          	push	af
1259  02A1  33          	inc	sp
1260  02A2  3A 00 00    	ld	a,(_s_lin1)
1261  02A5  F5          	push	af
1262  02A6  33          	inc	sp
1263  02A7  CD 00 00    	call	_game_check_map
1264  02AA  F1          	pop	af
1265  02AB  C1          	pop	bc
1266  02AC  7C          	ld	a,h
1267  02AD  B5          	or	a,l
1268  02AE  20 16       	jr	NZ,l_spr_move_left_00103
1269  02B0  3A 00 00    	ld	a,(_s_lin1)
1270  02B3  C6 0F       	add	a,0x0f
1271  02B5  57          	ld	d, a
1272  02B6  3A 00 00    	ld	a,(_s_col1)
1273  02B9  C5          	push	bc
1274  02BA  5A          	ld	e,d
1275  02BB  57          	ld	d,a
1276  02BC  D5          	push	de
1277  02BD  CD 00 00    	call	_game_check_map
1278  02C0  F1          	pop	af
1279  02C1  C1          	pop	bc
1280  02C2  7C          	ld	a,h
1281  02C3  B5          	or	a,l
1282  02C4  28 18       	jr	Z,l_spr_move_left_00107
1283  02C6              l_spr_move_left_00103:
1284  02C6  2A 00 00    	ld	hl,(_sprite)
1285  02C9  26 00       	ld	h,0x00
1286  02CB  09          	add	hl,bc
1287  02CC  34          	inc	(hl)
1288  02CD  3A 00 00    	ld	a,(_sprite_on_air)
1289  02D0  B7          	or	a, a
1290  02D1  20 07       	jr	NZ,l_spr_move_left_00102
1291  02D3  2A 00 00    	ld	hl,(_sprite)
1292  02D6  26 00       	ld	h,0x00
1293  02D8  09          	add	hl,bc
1294  02D9  34          	inc	(hl)
1295  02DA              l_spr_move_left_00102:
1296  02DA  2E 01       	ld	l,0x01
1297  02DC  18 64       	jr	l_spr_move_left_00118
1298  02DE              l_spr_move_left_00107:
1299  02DE  2A 00 00    	ld	hl,(_sprite)
1300  02E1  26 00       	ld	h,0x00
1301  02E3  11 00 00    	ld	de,_col
1302  02E6  19          	add	hl,de
1303  02E7  7E          	ld	a,(hl)
1304  02E8  EB          	ex	de,hl
1305  02E9  C6 FF       	add	a,0xff
1306  02EB  12          	ld	(de),a
1307  02EC  79          	ld	a,c
1308  02ED  21 00 00    	ld	hl,_sprite
1309  02F0  86          	add	a, (hl)
1310  02F1  4F          	ld	c, a
1311  02F2  78          	ld	a, b
1312  02F3  CE 00       	adc	a,0x00
1313  02F5  47          	ld	b, a
1314  02F6  5E          	ld	e,(hl)
1315  02F7  16 00       	ld	d,0x00
1316  02F9  21 00 00    	ld	hl,_class
1317  02FC  19          	add	hl,de
1318  02FD  5E          	ld	e, (hl)
1319  02FE  16 00       	ld	d,0x00
1320  0300  21 00 00    	ld	hl,_sprite_frames
1321  0303  19          	add	hl, de
1322  0304  5E          	ld	e, (hl)
1323  0305  1D          	dec	e
1324  0306  7B          	ld	a, e
1325  0307  02          	ld	(bc), a
1326  0308  2A 00 00    	ld	hl,(_sprite)
1327  030B  26 00       	ld	h,0x00
1328  030D  01 00 00    	ld	bc,_col
1329  0310  09          	add	hl,bc
1330  0311  7E          	ld	a,(hl)
1331  0312  3C          	inc	a
1332  0313  20 2B       	jr	NZ,l_spr_move_left_00117
1333  0315  3A 00 00    	ld	a,(_sprite)
1334  0318  D6 07       	sub	a,0x07
1335  031A  4D          	ld	c,l
1336  031B  44          	ld	b,h
1337  031C  20 1C       	jr	NZ,l_spr_move_left_00112
1338  031E  CD 5D 03    	call	_spr_page_left
1339  0321  3A 00 00    	ld	a,(_sprite)
1340  0324  C6 00       	add	a,+((_col) & 0xFF)
1341  0326  4D          	ld	c,l
1342  0327  5F          	ld	e,a
1343  0328  3E 00       	ld	a,+((_col) / 256)
1344  032A  CE 00       	adc	a,0x00
1345  032C  57          	ld	d,a
1346  032D  79          	ld	a, c
1347  032E  B7          	or	a, a
1348  032F  28 05       	jr	Z,l_spr_move_left_00109
1349  0331  3E 1E       	ld	a,0x1e
1350  0333  12          	ld	(de), a
1351  0334  18 06       	jr	l_spr_move_left_00113
1352  0336              l_spr_move_left_00109:
1353  0336  AF          	xor	a, a
1354  0337  12          	ld	(de), a
1355  0338  18 02       	jr	l_spr_move_left_00113
1356  033A              l_spr_move_left_00112:
1357  033A  AF          	xor	a, a
1358  033B  02          	ld	(bc), a
1359  033C              l_spr_move_left_00113:
1360  033C  2E 01       	ld	l,0x01
1361  033E  18 02       	jr	l_spr_move_left_00118
1362  0340              l_spr_move_left_00117:
1363  0340  2E 00       	ld	l,0x00
1364  0342              l_spr_move_left_00118:
1365  0342  C9          	ret
1366  0343              	SECTION code_compiler
1367  0343              ;	---------------------------------
1368  0343              ; Function spr_page_right
1369  0343              ; ---------------------------------
1370  0343              _spr_page_right:
1371  0343  3A 00 00    	ld	a,(_scr_curr)
1372  0346  21 00 00    	ld	hl,_map_width
1373  0349  96          	sub	a, (hl)
1374  034A  30 0E       	jr	NC,l_spr_page_right_00102
1375  034C  21 00 00    	ld	hl,_scr_curr
1376  034F  34          	inc	(hl)
1377  0350  CD 84 03    	call	_spr_page_map
1378  0353  CD 00 00    	call	_game_draw_screen
1379  0356  2E 01       	ld	l,0x01
1380  0358  18 02       	jr	l_spr_page_right_00103
1381  035A              l_spr_page_right_00102:
1382  035A  2E 00       	ld	l,0x00
1383  035C              l_spr_page_right_00103:
1384  035C  C9          	ret
1385  035D              	SECTION code_compiler
1386  035D              ;	---------------------------------
1387  035D              ; Function spr_page_left
1388  035D              ; ---------------------------------
1389  035D              _spr_page_left:
1390  035D  2A 00 00    	ld	hl,(_sprite)
1391  0360  26 00       	ld	h,0x00
1392  0362  01 00 00    	ld	bc,_class
1393  0365  09          	add	hl,bc
1394  0366  7E          	ld	a,(hl)
1395  0367  D6 10       	sub	a,0x10
1396  0369  28 04       	jr	Z,l_spr_page_left_00102
1397  036B  2E 00       	ld	l,0x00
1398  036D  18 14       	jr	l_spr_page_left_00105
1399  036F              l_spr_page_left_00102:
1400  036F  21 00 00    	ld	hl,_scr_curr
1401  0372  7E          	ld	a, (hl)
1402  0373  B7          	or	a, a
1403  0374  28 0B       	jr	Z,l_spr_page_left_00104
1404  0376  35          	dec	(hl)
1405  0377  CD 84 03    	call	_spr_page_map
1406  037A  CD 00 00    	call	_game_draw_screen
1407  037D  2E 01       	ld	l,0x01
1408  037F  18 02       	jr	l_spr_page_left_00105
1409  0381              l_spr_page_left_00104:
1410  0381  2E 00       	ld	l,0x00
1411  0383              l_spr_page_left_00105:
1412  0383  C9          	ret
1413  0384              	SECTION code_compiler
1414  0384              ;	---------------------------------
1415  0384              ; Function spr_page_map
1416  0384              ; ---------------------------------
1417  0384              _spr_page_map:
1418  0384  CD 00 00    	call	___sdcc_enter_ix
1419  0387  F5          	push	af
1420  0388  F5          	push	af
1421  0389  F5          	push	af
1422  038A  3B          	dec	sp
1423  038B  DD 36 F9 10 	ld	(ix-7),0x10
1424  038F  DD 36 FA 00 	ld	(ix-6),0x00
1425  0393              l_spr_page_map_00129:
1426  0393  3E 07       	ld	a,0x07
1427  0395  21 00 00    	ld	hl,_scr_curr
1428  0398  96          	sub	a, (hl)
1429  0399  DA CA 04    	jp	C, l_spr_page_map_00109
1430  039C  DD 7E FA    	ld	a,(ix-6)
1431  039F  DD 77 FE    	ld	(ix-2),a
1432  03A2  DD 36 FF 00 	ld	(ix-1),0x00
1433  03A6  DD 34 FE    	inc	(ix-2)
1434  03A9  20 03       	jr	NZ,l_spr_page_map_00181
1435  03AB  DD 34 FF    	inc	(ix-1)
1436  03AE              l_spr_page_map_00181:
1437  03AE  4E          	ld	c, (hl)
1438  03AF  06 00       	ld	b,0x00
1439  03B1  21 B8 03    	ld	hl,l_spr_page_map_00182
1440  03B4  09          	add	hl, bc
1441  03B5  09          	add	hl, bc
1442  03B6  09          	add	hl, bc
1443  03B7  E9          	jp	(hl)
1444  03B8              l_spr_page_map_00182:
1445  03B8  C3 D0 03    	jp	l_spr_page_map_00101
1446  03BB  C3 F0 03    	jp	l_spr_page_map_00102
1447  03BE  C3 10 04    	jp	l_spr_page_map_00103
1448  03C1  C3 30 04    	jp	l_spr_page_map_00104
1449  03C4  C3 50 04    	jp	l_spr_page_map_00105
1450  03C7  C3 6F 04    	jp	l_spr_page_map_00106
1451  03CA  C3 8E 04    	jp	l_spr_page_map_00107
1452  03CD  C3 AD 04    	jp	l_spr_page_map_00108
1453  03D0              l_spr_page_map_00101:
1454  03D0  3E 00       	ld	a, +((_scr_0) & 0xFF)
1455  03D2  DD 86 FA    	add	a,(ix-6)
1456  03D5  6F          	ld	l, a
1457  03D6  3E 00       	ld	a, +((_scr_0) / 256)
1458  03D8  CE 00       	adc	a,0x00
1459  03DA  67          	ld	h, a
1460  03DB  7E          	ld	a, (hl)
1461  03DC  DD 77 FD    	ld	(ix-3),a
1462  03DF  01 00 00    	ld	bc,_scr_0
1463  03E2  DD 6E FE    	ld	l,(ix-2)
1464  03E5  DD 66 FF    	ld	h,(ix-1)
1465  03E8  09          	add	hl,bc
1466  03E9  7E          	ld	a, (hl)
1467  03EA  DD 77 FC    	ld	(ix-4),a
1468  03ED  C3 CA 04    	jp	l_spr_page_map_00109
1469  03F0              l_spr_page_map_00102:
1470  03F0  3E 00       	ld	a, +((_scr_1) & 0xFF)
1471  03F2  DD 86 FA    	add	a,(ix-6)
1472  03F5  6F          	ld	l, a
1473  03F6  3E 00       	ld	a, +((_scr_1) / 256)
1474  03F8  CE 00       	adc	a,0x00
1475  03FA  67          	ld	h, a
1476  03FB  7E          	ld	a, (hl)
1477  03FC  DD 77 FD    	ld	(ix-3),a
1478  03FF  01 00 00    	ld	bc,_scr_1
1479  0402  DD 6E FE    	ld	l,(ix-2)
1480  0405  DD 66 FF    	ld	h,(ix-1)
1481  0408  09          	add	hl,bc
1482  0409  7E          	ld	a, (hl)
1483  040A  DD 77 FC    	ld	(ix-4),a
1484  040D  C3 CA 04    	jp	l_spr_page_map_00109
1485  0410              l_spr_page_map_00103:
1486  0410  3E 00       	ld	a, +((_scr_2) & 0xFF)
1487  0412  DD 86 FA    	add	a,(ix-6)
1488  0415  6F          	ld	l, a
1489  0416  3E 00       	ld	a, +((_scr_2) / 256)
1490  0418  CE 00       	adc	a,0x00
1491  041A  67          	ld	h, a
1492  041B  7E          	ld	a, (hl)
1493  041C  DD 77 FD    	ld	(ix-3),a
1494  041F  01 00 00    	ld	bc,_scr_2
1495  0422  DD 6E FE    	ld	l,(ix-2)
1496  0425  DD 66 FF    	ld	h,(ix-1)
1497  0428  09          	add	hl,bc
1498  0429  7E          	ld	a, (hl)
1499  042A  DD 77 FC    	ld	(ix-4),a
1500  042D  C3 CA 04    	jp	l_spr_page_map_00109
1501  0430              l_spr_page_map_00104:
1502  0430  3E 00       	ld	a, +((_scr_3) & 0xFF)
1503  0432  DD 86 FA    	add	a,(ix-6)
1504  0435  6F          	ld	l, a
1505  0436  3E 00       	ld	a, +((_scr_3) / 256)
1506  0438  CE 00       	adc	a,0x00
1507  043A  67          	ld	h, a
1508  043B  7E          	ld	a, (hl)
1509  043C  DD 77 FD    	ld	(ix-3),a
1510  043F  01 00 00    	ld	bc,_scr_3
1511  0442  DD 6E FE    	ld	l,(ix-2)
1512  0445  DD 66 FF    	ld	h,(ix-1)
1513  0448  09          	add	hl,bc
1514  0449  7E          	ld	a, (hl)
1515  044A  DD 77 FC    	ld	(ix-4),a
1516  044D  C3 CA 04    	jp	l_spr_page_map_00109
1517  0450              l_spr_page_map_00105:
1518  0450  3E 00       	ld	a, +((_scr_4) & 0xFF)
1519  0452  DD 86 FA    	add	a,(ix-6)
1520  0455  6F          	ld	l, a
1521  0456  3E 00       	ld	a, +((_scr_4) / 256)
1522  0458  CE 00       	adc	a,0x00
1523  045A  67          	ld	h, a
1524  045B  7E          	ld	a, (hl)
1525  045C  DD 77 FD    	ld	(ix-3),a
1526  045F  01 00 00    	ld	bc,_scr_4
1527  0462  DD 6E FE    	ld	l,(ix-2)
1528  0465  DD 66 FF    	ld	h,(ix-1)
1529  0468  09          	add	hl,bc
1530  0469  7E          	ld	a, (hl)
1531  046A  DD 77 FC    	ld	(ix-4),a
1532  046D  18 5B       	jr	l_spr_page_map_00109
1533  046F              l_spr_page_map_00106:
1534  046F  3E 00       	ld	a, +((_scr_5) & 0xFF)
1535  0471  DD 86 FA    	add	a,(ix-6)
1536  0474  6F          	ld	l, a
1537  0475  3E 00       	ld	a, +((_scr_5) / 256)
1538  0477  CE 00       	adc	a,0x00
1539  0479  67          	ld	h, a
1540  047A  7E          	ld	a, (hl)
1541  047B  DD 77 FD    	ld	(ix-3),a
1542  047E  01 00 00    	ld	bc,_scr_5
1543  0481  DD 6E FE    	ld	l,(ix-2)
1544  0484  DD 66 FF    	ld	h,(ix-1)
1545  0487  09          	add	hl,bc
1546  0488  7E          	ld	a, (hl)
1547  0489  DD 77 FC    	ld	(ix-4),a
1548  048C  18 3C       	jr	l_spr_page_map_00109
1549  048E              l_spr_page_map_00107:
1550  048E  3E 00       	ld	a, +((_scr_6) & 0xFF)
1551  0490  DD 86 FA    	add	a,(ix-6)
1552  0493  6F          	ld	l, a
1553  0494  3E 00       	ld	a, +((_scr_6) / 256)
1554  0496  CE 00       	adc	a,0x00
1555  0498  67          	ld	h, a
1556  0499  7E          	ld	a, (hl)
1557  049A  DD 77 FD    	ld	(ix-3),a
1558  049D  01 00 00    	ld	bc,_scr_6
1559  04A0  DD 6E FE    	ld	l,(ix-2)
1560  04A3  DD 66 FF    	ld	h,(ix-1)
1561  04A6  09          	add	hl,bc
1562  04A7  7E          	ld	a, (hl)
1563  04A8  DD 77 FC    	ld	(ix-4),a
1564  04AB  18 1D       	jr	l_spr_page_map_00109
1565  04AD              l_spr_page_map_00108:
1566  04AD  3E 00       	ld	a, +((_scr_7) & 0xFF)
1567  04AF  DD 86 FA    	add	a,(ix-6)
1568  04B2  6F          	ld	l, a
1569  04B3  3E 00       	ld	a, +((_scr_7) / 256)
1570  04B5  CE 00       	adc	a,0x00
1571  04B7  67          	ld	h, a
1572  04B8  7E          	ld	a, (hl)
1573  04B9  DD 77 FD    	ld	(ix-3),a
1574  04BC  01 00 00    	ld	bc,_scr_7
1575  04BF  DD 6E FE    	ld	l,(ix-2)
1576  04C2  DD 66 FF    	ld	h,(ix-1)
1577  04C5  09          	add	hl,bc
1578  04C6  7E          	ld	a, (hl)
1579  04C7  DD 77 FC    	ld	(ix-4),a
1580  04CA              l_spr_page_map_00109:
1581  04CA  DD 7E FD    	ld	a,(ix-3)
1582  04CD  D6 80       	sub	a,0x80
1583  04CF  30 3C       	jr	NC,l_spr_page_map_00120
1584  04D1  3E 00       	ld	a, +((_scr_obj) & 0xFF)
1585  04D3  DD 86 F9    	add	a,(ix-7)
1586  04D6  6F          	ld	l, a
1587  04D7  3E 00       	ld	a, +((_scr_obj) / 256)
1588  04D9  CE 00       	adc	a,0x00
1589  04DB  67          	ld	h, a
1590  04DC  5E          	ld	e, (hl)
1591  04DD  21 00 00    	ld	hl,_scr_curr
1592  04E0  46          	ld	b, (hl)
1593  04E1  04          	inc	b
1594  04E2  21 01 00    	ld	hl,0x0001
1595  04E5  18 01       	jr	l_spr_page_map_00184
1596  04E7              l_spr_page_map_00183:
1597  04E7  29          	add	hl, hl
1598  04E8              l_spr_page_map_00184:
1599  04E8  10 FD       	djnz	l_spr_page_map_00183
1600  04EA  16 00       	ld	d,0x00
1601  04EC  3E 00       	ld	a, +((_scr_map) & 0xFF)
1602  04EE  DD 86 F9    	add	a,(ix-7)
1603  04F1  4F          	ld	c, a
1604  04F2  3E 00       	ld	a, +((_scr_map) / 256)
1605  04F4  CE 00       	adc	a,0x00
1606  04F6  47          	ld	b, a
1607  04F7  7D          	ld	a, l
1608  04F8  A3          	and	a, e
1609  04F9  5F          	ld	e, a
1610  04FA  7C          	ld	a, h
1611  04FB  A2          	and	a, d
1612  04FC  57          	ld	d,a
1613  04FD  B3          	or	a,e
1614  04FE  20 06       	jr	NZ,l_spr_page_map_00111
1615  0500  DD 7E FD    	ld	a,(ix-3)
1616  0503  02          	ld	(bc), a
1617  0504  18 02       	jr	l_spr_page_map_00112
1618  0506              l_spr_page_map_00111:
1619  0506  AF          	xor	a, a
1620  0507  02          	ld	(bc), a
1621  0508              l_spr_page_map_00112:
1622  0508  DD 34 F9    	inc	(ix-7)
1623  050B  18 54       	jr	l_spr_page_map_00121
1624  050D              l_spr_page_map_00120:
1625  050D  DD 7E FD    	ld	a,(ix-3)
1626  0510  C6 80       	add	a,0x80
1627  0512  DD 77 FB    	ld	(ix-5),a
1628  0515  DD 4E F9    	ld	c,(ix-7)
1629  0518  1E 00       	ld	e,0x00
1630  051A              l_spr_page_map_00127:
1631  051A  7B          	ld	a, e
1632  051B  DD 96 FB    	sub	a,(ix-5)
1633  051E  30 3B       	jr	NC,l_spr_page_map_00146
1634  0520  06 00       	ld	b,0x00
1635  0522  21 00 00    	ld	hl,_scr_obj
1636  0525  09          	add	hl, bc
1637  0526  56          	ld	d, (hl)
1638  0527  21 00 00    	ld	hl,_scr_curr
1639  052A  46          	ld	b, (hl)
1640  052B  04          	inc	b
1641  052C  21 01 00    	ld	hl,0x0001
1642  052F  18 01       	jr	l_spr_page_map_00186
1643  0531              l_spr_page_map_00185:
1644  0531  29          	add	hl, hl
1645  0532              l_spr_page_map_00186:
1646  0532  10 FD       	djnz	l_spr_page_map_00185
1647  0534  06 00       	ld	b,0x00
1648  0536  7D          	ld	a, l
1649  0537  A2          	and	a, d
1650  0538  6F          	ld	l, a
1651  0539  7C          	ld	a, h
1652  053A  A0          	and	a, b
1653  053B  57          	ld	d,a
1654  053C  B5          	or	a,l
1655  053D  20 0B       	jr	NZ,l_spr_page_map_00114
1656  053F  47          	ld	b,a
1657  0540  21 00 00    	ld	hl,_scr_map
1658  0543  09          	add	hl, bc
1659  0544  DD 7E FC    	ld	a,(ix-4)
1660  0547  77          	ld	(hl), a
1661  0548  18 08       	jr	l_spr_page_map_00115
1662  054A              l_spr_page_map_00114:
1663  054A  06 00       	ld	b,0x00
1664  054C  21 00 00    	ld	hl,_scr_map
1665  054F  09          	add	hl, bc
1666  0550  36 00       	ld	(hl),0x00
1667  0552              l_spr_page_map_00115:
1668  0552  0C          	inc	c
1669  0553  79          	ld	a, c
1670  0554  D6 A0       	sub	a,0xa0
1671  0556  30 03       	jr	NC,l_spr_page_map_00146
1672  0558  1C          	inc	e
1673  0559  18 BF       	jr	l_spr_page_map_00127
1674  055B              l_spr_page_map_00146:
1675  055B  DD 71 F9    	ld	(ix-7),c
1676  055E  DD 34 FA    	inc	(ix-6)
1677  0561              l_spr_page_map_00121:
1678  0561  DD 7E F9    	ld	a,(ix-7)
1679  0564  D6 A0       	sub	a,0xa0
1680  0566  30 0B       	jr	NC,l_spr_page_map_00144
1681  0568  DD 34 FA    	inc	(ix-6)
1682  056B  DD 7E FA    	ld	a,(ix-6)
1683  056E  D6 A0       	sub	a,0xa0
1684  0570  DA 93 03    	jp	C, l_spr_page_map_00129
1685  0573              l_spr_page_map_00144:
1686  0573  0E 00       	ld	c,0x00
1687  0575              l_spr_page_map_00131:
1688  0575  06 00       	ld	b,0x00
1689  0577  21 00 00    	ld	hl,_class
1690  057A  09          	add	hl, bc
1691  057B  36 00       	ld	(hl),0x00
1692  057D  C5          	push	bc
1693  057E  21 00 00    	ld	hl,0x0000
1694  0581  E5          	push	hl
1695  0582  AF          	xor	a, a
1696  0583  F5          	push	af
1697  0584  33          	inc	sp
1698  0585  79          	ld	a, c
1699  0586  F5          	push	af
1700  0587  33          	inc	sp
1701  0588  CD 00 00    	call	_NIRVANAP_spriteT_callee
1702  058B  C1          	pop	bc
1703  058C  0C          	inc	c
1704  058D  79          	ld	a, c
1705  058E  D6 07       	sub	a,0x07
1706  0590  38 E3       	jr	C,l_spr_page_map_00131
1707  0592  CD 4A 0B    	call	_spr_init_anim_bullets
1708  0595  DD F9       	ld	sp, ix
1709  0597  DD E1       	pop	ix
1710  0599  C9          	ret
1711  059A              	SECTION code_compiler
1712  059A              ;	---------------------------------
1713  059A              ; Function spr_redraw
1714  059A              ; ---------------------------------
1715  059A              _spr_redraw:
1716  059A  2A 00 00    	ld	hl,(_sprite)
1717  059D  26 00       	ld	h,0x00
1718  059F  01 00 00    	ld	bc,_tile
1719  05A2  09          	add	hl,bc
1720  05A3  4E          	ld	c, (hl)
1721  05A4  3A 00 00    	ld	a,(_sprite)
1722  05A7  5F          	ld	e,a
1723  05A8  16 00       	ld	d,0x00
1724  05AA  21 00 00    	ld	hl,_colint
1725  05AD  19          	add	hl,de
1726  05AE  7E          	ld	a,(hl)
1727  05AF  81          	add	a,c
1728  05B0  32 00 00    	ld	(_s_tile1),a
1729  05B3  2A 00 00    	ld	hl,(_sprite)
1730  05B6  26 00       	ld	h,0x00
1731  05B8  01 00 00    	ld	bc,_col
1732  05BB  09          	add	hl,bc
1733  05BC  7E          	ld	a,(hl)
1734  05BD  32 00 00    	ld	(_s_col1),a
1735  05C0  2A 00 00    	ld	hl,(_sprite)
1736  05C3  26 00       	ld	h,0x00
1737  05C5  01 00 00    	ld	bc,_lin
1738  05C8  09          	add	hl,bc
1739  05C9  7E          	ld	a,(hl)
1740  05CA  21 00 00    	ld	hl,_s_lin1
1741  05CD  77          	ld	(hl),a
1742  05CE  4F          	ld	c,a
1743  05CF  7E          	ld	a, (hl)
1744  05D0  21 00 00    	ld	hl,_s_lin0
1745  05D3  96          	sub	a, (hl)
1746  05D4  20 0A       	jr	NZ,l_spr_redraw_00117
1747  05D6  3A 00 00    	ld	a,(_s_col1)
1748  05D9  21 00 00    	ld	hl,_s_col0
1749  05DC  96          	sub	a, (hl)
1750  05DD  CA 79 06    	jp	Z,l_spr_redraw_00118
1751  05E0              l_spr_redraw_00117:
1752  05E0  3A 00 00    	ld	a,(_sprite)
1753  05E3  D6 07       	sub	a,0x07
1754  05E5  20 04       	jr	NZ,l_spr_redraw_00158
1755  05E7  3E 01       	ld	a,0x01
1756  05E9  18 01       	jr	l_spr_redraw_00159
1757  05EB              l_spr_redraw_00158:
1758  05EB  AF          	xor	a,a
1759  05EC              l_spr_redraw_00159:
1760  05EC  47          	ld	b,a
1761  05ED  B7          	or	a, a
1762  05EE  28 12       	jr	Z,l_spr_redraw_00105
1763  05F0  3A 00 00    	ld	a,(_player_over_stair)
1764  05F3  B7          	or	a, a
1765  05F4  28 0C       	jr	Z,l_spr_redraw_00105
1766  05F6  79          	ld	a, c
1767  05F7  E6 03       	and	a,0x03
1768  05F9  20 07       	jr	NZ,l_spr_redraw_00105
1769  05FB  21 00 00    	ld	hl,_s_tile1
1770  05FE  34          	inc	(hl)
1771  05FF  34          	inc	(hl)
1772  0600  34          	inc	(hl)
1773  0601  34          	inc	(hl)
1774  0602              l_spr_redraw_00105:
1775  0602  78          	ld	a, b
1776  0603  B7          	or	a, a
1777  0604  28 05       	jr	Z,l_spr_redraw_00113
1778  0606  CD C8 09    	call	_spr_back_repaint
1779  0609  18 57       	jr	l_spr_redraw_00114
1780  060B              l_spr_redraw_00113:
1781  060B  3A 00 00    	ld	a,(_s_lin1)
1782  060E  E6 07       	and	a,0x07
1783  0610  20 05       	jr	NZ,l_spr_redraw_00110
1784  0612  CD C8 09    	call	_spr_back_repaint
1785  0615  18 4B       	jr	l_spr_redraw_00114
1786  0617              l_spr_redraw_00110:
1787  0617  21 00 00    	ld	hl,_s_state
1788  061A  CB 46       	bit	0, (hl)
1789  061C  28 24       	jr	Z,l_spr_redraw_00107
1790  061E  3A 00 00    	ld	a,(_s_lin0)
1791  0621  C6 08       	add	a,0x08
1792  0623  47          	ld	b, a
1793  0624  3A 00 00    	ld	a,(_s_col0)
1794  0627  F5          	push	af
1795  0628  33          	inc	sp
1796  0629  C5          	push	bc
1797  062A  33          	inc	sp
1798  062B  3E 49       	ld	a,0x49
1799  062D  F5          	push	af
1800  062E  33          	inc	sp
1801  062F  CD 00 00    	call	_NIRVANAP_fillC_callee
1802  0632  21 00 00    	ld	hl,_s_col0
1803  0635  56          	ld	d, (hl)
1804  0636  14          	inc	d
1805  0637  58          	ld	e,b
1806  0638  D5          	push	de
1807  0639  3E 49       	ld	a,0x49
1808  063B  F5          	push	af
1809  063C  33          	inc	sp
1810  063D  CD 00 00    	call	_NIRVANAP_fillC_callee
1811  0640  18 20       	jr	l_spr_redraw_00114
1812  0642              l_spr_redraw_00107:
1813  0642  3A 00 00    	ld	a,(_s_col0)
1814  0645  F5          	push	af
1815  0646  33          	inc	sp
1816  0647  3A 00 00    	ld	a,(_s_lin0)
1817  064A  57          	ld	d,a
1818  064B  1E 49       	ld	e,0x49
1819  064D  D5          	push	de
1820  064E  CD 00 00    	call	_NIRVANAP_fillC_callee
1821  0651  21 00 00    	ld	hl,_s_col0
1822  0654  46          	ld	b, (hl)
1823  0655  04          	inc	b
1824  0656  C5          	push	bc
1825  0657  33          	inc	sp
1826  0658  3A 00 00    	ld	a,(_s_lin0)
1827  065B  57          	ld	d,a
1828  065C  1E 49       	ld	e,0x49
1829  065E  D5          	push	de
1830  065F  CD 00 00    	call	_NIRVANAP_fillC_callee
1831  0662              l_spr_redraw_00114:
1832  0662  2A FF FF    	ld	hl,(_s_col1 - 1)
1833  0665  3A 00 00    	ld	a,(_s_lin1)
1834  0668  6F          	ld	l,a
1835  0669  E5          	push	hl
1836  066A  2A FF FF    	ld	hl,(_s_tile1 - 1)
1837  066D  3A 00 00    	ld	a,(_sprite)
1838  0670  6F          	ld	l,a
1839  0671  E5          	push	hl
1840  0672  CD 00 00    	call	_NIRVANAP_spriteT_callee
1841  0675  2E 01       	ld	l,0x01
1842  0677  18 22       	jr	l_spr_redraw_00121
1843  0679              l_spr_redraw_00118:
1844  0679  3A 00 00    	ld	a,(_s_tile1)
1845  067C  21 00 00    	ld	hl,_s_tile0
1846  067F  96          	sub	a, (hl)
1847  0680  28 17       	jr	Z,l_spr_redraw_00119
1848  0682  2A FF FF    	ld	hl,(_s_col1 - 1)
1849  0685  3A 00 00    	ld	a,(_s_lin1)
1850  0688  6F          	ld	l,a
1851  0689  E5          	push	hl
1852  068A  2A FF FF    	ld	hl,(_s_tile1 - 1)
1853  068D  3A 00 00    	ld	a,(_sprite)
1854  0690  6F          	ld	l,a
1855  0691  E5          	push	hl
1856  0692  CD 00 00    	call	_NIRVANAP_spriteT_callee
1857  0695  2E 00       	ld	l,0x00
1858  0697  18 02       	jr	l_spr_redraw_00121
1859  0699              l_spr_redraw_00119:
1860  0699  2E 00       	ld	l,0x00
1861  069B              l_spr_redraw_00121:
1862  069B  C9          	ret
1863  069C              	SECTION code_compiler
1864  069C              ;	---------------------------------
1865  069C              ; Function spr_destroy
1866  069C              ; ---------------------------------
1867  069C              _spr_destroy:
1868  069C  CD 00 00    	call	___sdcc_enter_ix
1869  069F  F5          	push	af
1870  06A0  4D          	ld	c, l
1871  06A1  21 00 00    	ld	hl,_spr_count
1872  06A4  35          	dec	(hl)
1873  06A5  3E 00       	ld	a, +((_lin) & 0xFF)
1874  06A7  81          	add	a, c
1875  06A8  DD 77 FE    	ld	(ix-2),a
1876  06AB  3E 00       	ld	a, +((_lin) / 256)
1877  06AD  CE 00       	adc	a,0x00
1878  06AF  DD 77 FF    	ld	(ix-1),a
1879  06B2  E1          	pop	hl
1880  06B3  7E          	ld	a,(hl)
1881  06B4  E5          	push	hl
1882  06B5  32 00 00    	ld	(_s_lin0),a
1883  06B8  3E 00       	ld	a, +((_col) & 0xFF)
1884  06BA  81          	add	a, c
1885  06BB  5F          	ld	e, a
1886  06BC  3E 00       	ld	a, +((_col) / 256)
1887  06BE  CE 00       	adc	a,0x00
1888  06C0  57          	ld	d, a
1889  06C1  1A          	ld	a, (de)
1890  06C2  32 00 00    	ld	(_s_col0),a
1891  06C5  C5          	push	bc
1892  06C6  D5          	push	de
1893  06C7  21 00 00    	ld	hl,0x0000
1894  06CA  E5          	push	hl
1895  06CB  AF          	xor	a, a
1896  06CC  F5          	push	af
1897  06CD  33          	inc	sp
1898  06CE  79          	ld	a, c
1899  06CF  F5          	push	af
1900  06D0  33          	inc	sp
1901  06D1  CD 00 00    	call	_NIRVANAP_spriteT_callee
1902  06D4  CD C8 09    	call	_spr_back_repaint
1903  06D7  D1          	pop	de
1904  06D8  C1          	pop	bc
1905  06D9  06 00       	ld	b,0x00
1906  06DB  21 00 00    	ld	hl,_tile
1907  06DE  09          	add	hl, bc
1908  06DF  AF          	xor	a,a
1909  06E0  77          	ld	(hl),a
1910  06E1  E1          	pop	hl
1911  06E2  12          	ld	(de),a
1912  06E3  E5          	push	hl
1913  06E4  36 00       	ld	(hl),0x00
1914  06E6  11 00 00    	ld	de,_class+0
1915  06E9  69          	ld	l,c
1916  06EA  26 00       	ld	h,0x00
1917  06EC  19          	add	hl, de
1918  06ED  36 00       	ld	(hl),0x00
1919  06EF  11 00 00    	ld	de,_state+0
1920  06F2  69          	ld	l,c
1921  06F3  26 00       	ld	h,0x00
1922  06F5  19          	add	hl, de
1923  06F6  36 00       	ld	(hl),0x00
1924  06F8  11 00 00    	ld	de,_state_a+0
1925  06FB  69          	ld	l,c
1926  06FC  26 00       	ld	h,0x00
1927  06FE  19          	add	hl, de
1928  06FF  F1          	pop	af
1929  0700  36 00       	ld	(hl),0x00
1930  0702  DD E1       	pop	ix
1931  0704  C9          	ret
1932  0705              	SECTION code_compiler
1933  0705              ;	---------------------------------
1934  0705              ; Function spr_tile
1935  0705              ; ---------------------------------
1936  0705              _spr_tile:
1937  0705  45          	ld	b,l
1938  0706  11 00 00    	ld	de,_class+0
1939  0709  26 00       	ld	h,0x00
1940  070B  19          	add	hl, de
1941  070C  5E          	ld	e, (hl)
1942  070D  3E 0C       	ld	a,0x0c
1943  070F  93          	sub	a, e
1944  0710  DA FE 07    	jp	C, l_spr_tile_00113
1945  0713  16 00       	ld	d,0x00
1946  0715  21 1C 07    	ld	hl,l_spr_tile_00120
1947  0718  19          	add	hl, de
1948  0719  19          	add	hl, de
1949  071A  19          	add	hl, de
1950  071B  E9          	jp	(hl)
1951  071C              l_spr_tile_00120:
1952  071C  C3 FE 07    	jp	l_spr_tile_00113
1953  071F  C3 94 07    	jp	l_spr_tile_00106
1954  0722  C3 A4 07    	jp	l_spr_tile_00107
1955  0725  C3 B3 07    	jp	l_spr_tile_00108
1956  0728  C3 C2 07    	jp	l_spr_tile_00109
1957  072B  C3 43 07    	jp	l_spr_tile_00101
1958  072E  C3 53 07    	jp	l_spr_tile_00102
1959  0731  C3 63 07    	jp	l_spr_tile_00103
1960  0734  C3 74 07    	jp	l_spr_tile_00104
1961  0737  C3 84 07    	jp	l_spr_tile_00105
1962  073A  C3 D1 07    	jp	l_spr_tile_00110
1963  073D  C3 E0 07    	jp	l_spr_tile_00111
1964  0740  C3 EF 07    	jp	l_spr_tile_00112
1965  0743              l_spr_tile_00101:
1966  0743  AF          	xor	a, a
1967  0744  48          	ld	c,b
1968  0745  47          	ld	b,a
1969  0746  C5          	push	bc
1970  0747  3E 84       	ld	a,0x84
1971  0749  F5          	push	af
1972  074A  33          	inc	sp
1973  074B  CD 01 08    	call	_spr_tile_dir
1974  074E  F1          	pop	af
1975  074F  33          	inc	sp
1976  0750  C3 00 08    	jp	l_spr_tile_00114
1977  0753              l_spr_tile_00102:
1978  0753  AF          	xor	a, a
1979  0754  48          	ld	c,b
1980  0755  47          	ld	b,a
1981  0756  C5          	push	bc
1982  0757  3E 88       	ld	a,0x88
1983  0759  F5          	push	af
1984  075A  33          	inc	sp
1985  075B  CD 01 08    	call	_spr_tile_dir
1986  075E  F1          	pop	af
1987  075F  33          	inc	sp
1988  0760  C3 00 08    	jp	l_spr_tile_00114
1989  0763              l_spr_tile_00103:
1990  0763  3E 02       	ld	a,0x02
1991  0765  48          	ld	c,b
1992  0766  47          	ld	b,a
1993  0767  C5          	push	bc
1994  0768  3E 8C       	ld	a,0x8c
1995  076A  F5          	push	af
1996  076B  33          	inc	sp
1997  076C  CD 01 08    	call	_spr_tile_dir
1998  076F  F1          	pop	af
1999  0770  33          	inc	sp
2000  0771  C3 00 08    	jp	l_spr_tile_00114
2001  0774              l_spr_tile_00104:
2002  0774  AF          	xor	a, a
2003  0775  48          	ld	c,b
2004  0776  47          	ld	b,a
2005  0777  C5          	push	bc
2006  0778  3E 90       	ld	a,0x90
2007  077A  F5          	push	af
2008  077B  33          	inc	sp
2009  077C  CD 01 08    	call	_spr_tile_dir
2010  077F  F1          	pop	af
2011  0780  33          	inc	sp
2012  0781  C3 00 08    	jp	l_spr_tile_00114
2013  0784              l_spr_tile_00105:
2014  0784  3E 04       	ld	a,0x04
2015  0786  48          	ld	c,b
2016  0787  47          	ld	b,a
2017  0788  C5          	push	bc
2018  0789  3E 94       	ld	a,0x94
2019  078B  F5          	push	af
2020  078C  33          	inc	sp
2021  078D  CD 01 08    	call	_spr_tile_dir
2022  0790  F1          	pop	af
2023  0791  33          	inc	sp
2024  0792  18 6C       	jr	l_spr_tile_00114
2025  0794              l_spr_tile_00106:
2026  0794  3E 02       	ld	a,0x02
2027  0796  48          	ld	c,b
2028  0797  47          	ld	b,a
2029  0798  C5          	push	bc
2030  0799  3E 9C       	ld	a,0x9c
2031  079B  F5          	push	af
2032  079C  33          	inc	sp
2033  079D  CD 01 08    	call	_spr_tile_dir
2034  07A0  F1          	pop	af
2035  07A1  33          	inc	sp
2036  07A2  18 5C       	jr	l_spr_tile_00114
2037  07A4              l_spr_tile_00107:
2038  07A4  AF          	xor	a, a
2039  07A5  48          	ld	c,b
2040  07A6  47          	ld	b,a
2041  07A7  C5          	push	bc
2042  07A8  3E A0       	ld	a,0xa0
2043  07AA  F5          	push	af
2044  07AB  33          	inc	sp
2045  07AC  CD 01 08    	call	_spr_tile_dir
2046  07AF  F1          	pop	af
2047  07B0  33          	inc	sp
2048  07B1  18 4D       	jr	l_spr_tile_00114
2049  07B3              l_spr_tile_00108:
2050  07B3  AF          	xor	a, a
2051  07B4  48          	ld	c,b
2052  07B5  47          	ld	b,a
2053  07B6  C5          	push	bc
2054  07B7  3E A2       	ld	a,0xa2
2055  07B9  F5          	push	af
2056  07BA  33          	inc	sp
2057  07BB  CD 01 08    	call	_spr_tile_dir
2058  07BE  F1          	pop	af
2059  07BF  33          	inc	sp
2060  07C0  18 3E       	jr	l_spr_tile_00114
2061  07C2              l_spr_tile_00109:
2062  07C2  AF          	xor	a, a
2063  07C3  48          	ld	c,b
2064  07C4  47          	ld	b,a
2065  07C5  C5          	push	bc
2066  07C6  3E A4       	ld	a,0xa4
2067  07C8  F5          	push	af
2068  07C9  33          	inc	sp
2069  07CA  CD 01 08    	call	_spr_tile_dir
2070  07CD  F1          	pop	af
2071  07CE  33          	inc	sp
2072  07CF  18 2F       	jr	l_spr_tile_00114
2073  07D1              l_spr_tile_00110:
2074  07D1  AF          	xor	a, a
2075  07D2  48          	ld	c,b
2076  07D3  47          	ld	b,a
2077  07D4  C5          	push	bc
2078  07D5  3E A6       	ld	a,0xa6
2079  07D7  F5          	push	af
2080  07D8  33          	inc	sp
2081  07D9  CD 01 08    	call	_spr_tile_dir
2082  07DC  F1          	pop	af
2083  07DD  33          	inc	sp
2084  07DE  18 20       	jr	l_spr_tile_00114
2085  07E0              l_spr_tile_00111:
2086  07E0  AF          	xor	a, a
2087  07E1  48          	ld	c,b
2088  07E2  47          	ld	b,a
2089  07E3  C5          	push	bc
2090  07E4  3E A8       	ld	a,0xa8
2091  07E6  F5          	push	af
2092  07E7  33          	inc	sp
2093  07E8  CD 01 08    	call	_spr_tile_dir
2094  07EB  F1          	pop	af
2095  07EC  33          	inc	sp
2096  07ED  18 11       	jr	l_spr_tile_00114
2097  07EF              l_spr_tile_00112:
2098  07EF  AF          	xor	a, a
2099  07F0  48          	ld	c,b
2100  07F1  47          	ld	b,a
2101  07F2  C5          	push	bc
2102  07F3  3E AA       	ld	a,0xaa
2103  07F5  F5          	push	af
2104  07F6  33          	inc	sp
2105  07F7  CD 01 08    	call	_spr_tile_dir
2106  07FA  F1          	pop	af
2107  07FB  33          	inc	sp
2108  07FC  18 02       	jr	l_spr_tile_00114
2109  07FE              l_spr_tile_00113:
2110  07FE  2E 00       	ld	l,0x00
2111  0800              l_spr_tile_00114:
2112  0800  C9          	ret
2113  0801              	SECTION code_compiler
2114  0801              ;	---------------------------------
2115  0801              ; Function spr_tile_dir
2116  0801              ; ---------------------------------
2117  0801              _spr_tile_dir:
2118  0801  CD 00 00    	call	___sdcc_enter_ix
2119  0804  3E 00       	ld	a, +((_state) & 0xFF)
2120  0806  DD 86 05    	add	a,(ix+5)
2121  0809  4F          	ld	c, a
2122  080A  3E 00       	ld	a, +((_state) / 256)
2123  080C  CE 00       	adc	a,0x00
2124  080E  47          	ld	b, a
2125  080F  0A          	ld	a, (bc)
2126  0810  4F          	ld	c,a
2127  0811  CB 57       	bit	2,a
2128  0813  28 05       	jr	Z,l_spr_tile_dir_00102
2129  0815  DD 6E 04    	ld	l,(ix+4)
2130  0818  18 2D       	jr	l_spr_tile_dir_00109
2131  081A              l_spr_tile_dir_00102:
2132  081A  DD 7E 04    	ld	a,(ix+4)
2133  081D  DD 86 06    	add	a,(ix+6)
2134  0820  47          	ld	b, a
2135  0821  CB 59       	bit	3, c
2136  0823  28 03       	jr	Z,l_spr_tile_dir_00104
2137  0825  68          	ld	l, b
2138  0826  18 1F       	jr	l_spr_tile_dir_00109
2139  0828              l_spr_tile_dir_00104:
2140  0828  3E 00       	ld	a, +((_state_a) & 0xFF)
2141  082A  DD 86 05    	add	a,(ix+5)
2142  082D  5F          	ld	e, a
2143  082E  3E 00       	ld	a, +((_state_a) / 256)
2144  0830  CE 00       	adc	a,0x00
2145  0832  57          	ld	d, a
2146  0833  1A          	ld	a, (de)
2147  0834  CB 67       	bit	4, a
2148  0836  28 05       	jr	Z,l_spr_tile_dir_00106
2149  0838  DD 6E 04    	ld	l,(ix+4)
2150  083B  18 0A       	jr	l_spr_tile_dir_00109
2151  083D              l_spr_tile_dir_00106:
2152  083D  CB 5F       	bit	3, a
2153  083F  28 03       	jr	Z,l_spr_tile_dir_00108
2154  0841  68          	ld	l, b
2155  0842  18 03       	jr	l_spr_tile_dir_00109
2156  0844              l_spr_tile_dir_00108:
2157  0844  DD 6E 04    	ld	l,(ix+4)
2158  0847              l_spr_tile_dir_00109:
2159  0847  DD E1       	pop	ix
2160  0849  C9          	ret
2161  084A              	SECTION code_compiler
2162  084A              ;	---------------------------------
2163  084A              ; Function spr_draw_clear
2164  084A              ; ---------------------------------
2165  084A              _spr_draw_clear:
2166  084A  F3          	di
2167  084B  2E 00       	ld	l,0x00
2168  084D  CD 00 00    	call	_zx_cls_fastcall
2169  0850  21 00 00    	ld	hl,_s_lin1
2170  0853  36 10       	ld	(hl),0x10
2171  0855              l_spr_draw_clear_00105:
2172  0855  21 00 00    	ld	hl,_s_col1
2173  0858  36 00       	ld	(hl),0x00
2174  085A              l_spr_draw_clear_00103:
2175  085A  2A FF FF    	ld	hl,(_s_col1 - 1)
2176  085D  3A 00 00    	ld	a,(_s_lin1)
2177  0860  6F          	ld	l,a
2178  0861  E5          	push	hl
2179  0862  AF          	xor	a, a
2180  0863  F5          	push	af
2181  0864  33          	inc	sp
2182  0865  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2183  0868  21 00 00    	ld	hl,_s_col1
2184  086B  7E          	ld	a,(hl)
2185  086C  C6 02       	add	a,0x02
2186  086E  77          	ld	(hl),a
2187  086F  D6 20       	sub	a,0x20
2188  0871  38 E7       	jr	C,l_spr_draw_clear_00103
2189  0873  21 00 00    	ld	hl,_s_lin1
2190  0876  7E          	ld	a, (hl)
2191  0877  C6 10       	add	a,0x10
2192  0879  77          	ld	(hl), a
2193  087A  3E A2       	ld	a,0xa2
2194  087C  96          	sub	a, (hl)
2195  087D  30 D6       	jr	NC,l_spr_draw_clear_00105
2196  087F  FB          	ei
2197  0880  C9          	ret
2198  0881              	SECTION code_compiler
2199  0881              ;	---------------------------------
2200  0881              ; Function spr_brick_anim
2201  0881              ; ---------------------------------
2202  0881              _spr_brick_anim:
2203  0881  CD 00 00    	call	___sdcc_enter_ix
2204  0884  F5          	push	af
2205  0885  DD 75 FF    	ld	(ix-1),l
2206  0888  21 00 00    	ld	hl,_player_hit_col
2207  088B  46          	ld	b, (hl)
2208  088C  21 00 00    	ld	hl,_player_hit_lin
2209  088F  4E          	ld	c, (hl)
2210  0890  C5          	push	bc
2211  0891  C5          	push	bc
2212  0892  CD 00 00    	call	_spr_calc_index
2213  0895  F1          	pop	af
2214  0896  C1          	pop	bc
2215  0897  22 00 00    	ld	(_index1),hl
2216  089A  11 F0 FF    	ld	de,0xfff0
2217  089D  19          	add	hl,de
2218  089E  11 00 00    	ld	de,_scr_map
2219  08A1  19          	add	hl, de
2220  08A2  7E          	ld	a, (hl)
2221  08A3  DD 77 FE    	ld	(ix-2),a
2222  08A6  11 00 00    	ld	de,_scr_map
2223  08A9  2A 00 00    	ld	hl,(_index1)
2224  08AC  19          	add	hl,de
2225  08AD  66          	ld	h, (hl)
2226  08AE  EB          	ex	de,hl
2227  08AF  DD 7E FF    	ld	a,(ix-1)
2228  08B2  B7          	or	a, a
2229  08B3  28 08       	jr	Z,l_spr_brick_anim_00102
2230  08B5  79          	ld	a, c
2231  08B6  C6 F6       	add	a,0xf6
2232  08B8  32 00 00    	ld	(_tmp),a
2233  08BB  18 06       	jr	l_spr_brick_anim_00103
2234  08BD              l_spr_brick_anim_00102:
2235  08BD  79          	ld	a, c
2236  08BE  C6 F8       	add	a,0xf8
2237  08C0  32 00 00    	ld	(_tmp),a
2238  08C3              l_spr_brick_anim_00103:
2239  08C3  F3          	di
2240  08C4  DD 7E FF    	ld	a,(ix-1)
2241  08C7  B7          	or	a, a
2242  08C8  28 18       	jr	Z,l_spr_brick_anim_00105
2243  08CA  C5          	push	bc
2244  08CB  D5          	push	de
2245  08CC  C5          	push	bc
2246  08CD  33          	inc	sp
2247  08CE  51          	ld	d,c
2248  08CF  1E 49       	ld	e,0x49
2249  08D1  D5          	push	de
2250  08D2  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2251  08D5  D1          	pop	de
2252  08D6  33          	inc	sp
2253  08D7  3A 00 00    	ld	a,(_tmp)
2254  08DA  5A          	ld	e,d
2255  08DB  57          	ld	d,a
2256  08DC  D5          	push	de
2257  08DD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2258  08E0  18 1C       	jr	l_spr_brick_anim_00106
2259  08E2              l_spr_brick_anim_00105:
2260  08E2  3A 00 00    	ld	a,(_tmp)
2261  08E5  C6 F0       	add	a,0xf0
2262  08E7  C5          	push	bc
2263  08E8  D5          	push	de
2264  08E9  4F          	ld	c,a
2265  08EA  C5          	push	bc
2266  08EB  DD 7E FE    	ld	a,(ix-2)
2267  08EE  F5          	push	af
2268  08EF  33          	inc	sp
2269  08F0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2270  08F3  D1          	pop	de
2271  08F4  33          	inc	sp
2272  08F5  3A 00 00    	ld	a,(_tmp)
2273  08F8  5A          	ld	e,d
2274  08F9  57          	ld	d,a
2275  08FA  D5          	push	de
2276  08FB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2277  08FE              l_spr_brick_anim_00106:
2278  08FE  FB          	ei
2279  08FF  F1          	pop	af
2280  0900  DD E1       	pop	ix
2281  0902  C9          	ret
2282  0903              	SECTION code_compiler
2283  0903              ;	---------------------------------
2284  0903              ; Function spr_draw_index
2285  0903              ; ---------------------------------
2286  0903              _spr_draw_index:
2287  0903  CD 00 00    	call	___sdcc_enter_ix
2288  0906  DD 4E 04    	ld	c,(ix+4)
2289  0909  79          	ld	a, c
2290  090A  E6 0F       	and	a,0x0f
2291  090C  87          	add	a, a
2292  090D  32 00 00    	ld	(_s_col1),a
2293  0910  21 00 00    	ld	hl,_s_lin1
2294  0913  71          	ld	(hl),c
2295  0914  79          	ld	a,c
2296  0915  07          	rlca
2297  0916  07          	rlca
2298  0917  07          	rlca
2299  0918  07          	rlca
2300  0919  E6 0F       	and	a,0x0f
2301  091B  07          	rlca
2302  091C  07          	rlca
2303  091D  07          	rlca
2304  091E  07          	rlca
2305  091F  E6 F0       	and	a,0xf0
2306  0921  77          	ld	(hl), a
2307  0922  F3          	di
2308  0923  3E 00       	ld	a, +((_scr_map) & 0xFF)
2309  0925  DD 86 04    	add	a,(ix+4)
2310  0928  4F          	ld	c, a
2311  0929  3E 00       	ld	a, +((_scr_map) / 256)
2312  092B  DD 8E 05    	adc	a,(ix+5)
2313  092E  47          	ld	b, a
2314  092F  0A          	ld	a, (bc)
2315  0930  47          	ld	b, a
2316  0931  3A 00 00    	ld	a,(_s_col1)
2317  0934  F5          	push	af
2318  0935  33          	inc	sp
2319  0936  3A 00 00    	ld	a,(_s_lin1)
2320  0939  48          	ld	c,b
2321  093A  47          	ld	b,a
2322  093B  C5          	push	bc
2323  093C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2324  093F  FB          	ei
2325  0940  DD E1       	pop	ix
2326  0942  C9          	ret
2327  0943              	SECTION code_compiler
2328  0943              ;	---------------------------------
2329  0943              ; Function spr_draw_row
2330  0943              ; ---------------------------------
2331  0943              _spr_draw_row:
2332  0943  CD 00 00    	call	___sdcc_enter_ix
2333  0946  3B          	dec	sp
2334  0947  F3          	di
2335  0948  21 00 00    	ld	hl,_tmp
2336  094B  36 00       	ld	(hl),0x00
2337  094D  DD 7E 04    	ld	a,(ix+4)
2338  0950  07          	rlca
2339  0951  07          	rlca
2340  0952  07          	rlca
2341  0953  E6 F8       	and	a,0xf8
2342  0955  DD 77 FF    	ld	(ix-1),a
2343  0958              l_spr_draw_row_00101:
2344  0958  21 00 00    	ld	hl,_tmp
2345  095B  7E          	ld	a, (hl)
2346  095C  D6 20       	sub	a,0x20
2347  095E  30 38       	jr	NC,l_spr_draw_row_00103
2348  0960  DD 4E 04    	ld	c,(ix+4)
2349  0963  3E 00       	ld	a,0x00
2350  0965  CB 21       	sla	c
2351  0967  17          	rla
2352  0968  CB 21       	sla	c
2353  096A  17          	rla
2354  096B  CB 21       	sla	c
2355  096D  17          	rla
2356  096E  CB 21       	sla	c
2357  0970  17          	rla
2358  0971  CB 21       	sla	c
2359  0973  17          	rla
2360  0974  47          	ld	b,a
2361  0975  5E          	ld	e, (hl)
2362  0976  16 00       	ld	d,0x00
2363  0978  79          	ld	a, c
2364  0979  83          	add	a, e
2365  097A  21 00 00    	ld	hl,_index1
2366  097D  77          	ld	(hl), a
2367  097E  78          	ld	a, b
2368  097F  8A          	adc	a, d
2369  0980  23          	inc	hl
2370  0981  77          	ld	(hl), a
2371  0982  2A FF FF    	ld	hl,(_tmp-1)
2372  0985  DD 6E FF    	ld	l,(ix-1)
2373  0988  3A 00 00    	ld	a,(_game_brick_tile)
2374  098B  E5          	push	hl
2375  098C  F5          	push	af
2376  098D  33          	inc	sp
2377  098E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2378  0991  21 00 00    	ld	hl,_tmp
2379  0994  34          	inc	(hl)
2380  0995  34          	inc	(hl)
2381  0996  18 C0       	jr	l_spr_draw_row_00101
2382  0998              l_spr_draw_row_00103:
2383  0998  FB          	ei
2384  0999  33          	inc	sp
2385  099A  DD E1       	pop	ix
2386  099C  C9          	ret
2387  099D              	SECTION code_compiler
2388  099D              ;	---------------------------------
2389  099D              ; Function spr_calc_hor
2390  099D              ; ---------------------------------
2391  099D              _spr_calc_hor:
2392  099D  CD 00 00    	call	___sdcc_enter_ix
2393  09A0  3E 00       	ld	a, +((_col) & 0xFF)
2394  09A2  DD 86 04    	add	a,(ix+4)
2395  09A5  4F          	ld	c, a
2396  09A6  3E 00       	ld	a, +((_col) / 256)
2397  09A8  CE 00       	adc	a,0x00
2398  09AA  47          	ld	b, a
2399  09AB  0A          	ld	a, (bc)
2400  09AC  5F          	ld	e, a
2401  09AD  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2402  09AF  DD 86 04    	add	a,(ix+4)
2403  09B2  4F          	ld	c, a
2404  09B3  3E 00       	ld	a, +((_sprite_frames) / 256)
2405  09B5  CE 00       	adc	a,0x00
2406  09B7  47          	ld	b, a
2407  09B8  0A          	ld	a, (bc)
2408  09B9  67          	ld	h, a
2409  09BA  2E 00       	ld	l,0x00
2410  09BC  55          	ld	d, l
2411  09BD  06 08       	ld	b,0x08
2412  09BF              l_spr_calc_hor_00103:
2413  09BF  29          	add	hl, hl
2414  09C0  30 01       	jr	NC,l_spr_calc_hor_00104
2415  09C2  19          	add	hl, de
2416  09C3              l_spr_calc_hor_00104:
2417  09C3  10 FA       	djnz	l_spr_calc_hor_00103
2418  09C5  DD E1       	pop	ix
2419  09C7  C9          	ret
2420  09C8              	SECTION code_compiler
2421  09C8              ;	---------------------------------
2422  09C8              ; Function spr_back_repaint
2423  09C8              ; ---------------------------------
2424  09C8              _spr_back_repaint:
2425  09C8  76          	halt
2426  09C9  F3          	di
2427  09CA  2A FF FF    	ld	hl,(_s_col0 - 1)
2428  09CD  3A 00 00    	ld	a,(_s_lin0)
2429  09D0  6F          	ld	l,a
2430  09D1  E5          	push	hl
2431  09D2  CD 00 00    	call	_spr_calc_index
2432  09D5  F1          	pop	af
2433  09D6  7D          	ld	a,l
2434  09D7  32 00 00    	ld	(_sprite_curr_index),a
2435  09DA  21 00 00    	ld	hl,_s_lin0
2436  09DD  7E          	ld	a, (hl)
2437  09DE  E6 0F       	and	a,0x0f
2438  09E0  4F          	ld	c, a
2439  09E1  7E          	ld	a, (hl)
2440  09E2  07          	rlca
2441  09E3  07          	rlca
2442  09E4  07          	rlca
2443  09E5  07          	rlca
2444  09E6  E6 0F       	and	a,0x0f
2445  09E8  47          	ld	b, a
2446  09E9  21 00 00    	ld	hl,_s_col0
2447  09EC  CB 46       	bit	0, (hl)
2448  09EE  20 66       	jr	NZ,l_spr_back_repaint_00108
2449  09F0  79          	ld	a, c
2450  09F1  B7          	or	a, a
2451  09F2  20 1D       	jr	NZ,l_spr_back_repaint_00102
2452  09F4  2A 00 00    	ld	hl,(_sprite_curr_index)
2453  09F7  26 00       	ld	h,0x00
2454  09F9  01 00 00    	ld	bc,_scr_map
2455  09FC  09          	add	hl,bc
2456  09FD  46          	ld	b,(hl)
2457  09FE  3A 00 00    	ld	a,(_s_col0)
2458  0A01  F5          	push	af
2459  0A02  33          	inc	sp
2460  0A03  3A 00 00    	ld	a,(_s_lin0)
2461  0A06  48          	ld	c,b
2462  0A07  47          	ld	b,a
2463  0A08  C5          	push	bc
2464  0A09  CD 1A 0B    	call	_spr_tile_paint
2465  0A0C  F1          	pop	af
2466  0A0D  33          	inc	sp
2467  0A0E  C3 18 0B    	jp	l_spr_back_repaint_00109
2468  0A11              l_spr_back_repaint_00102:
2469  0A11  78          	ld	a, b
2470  0A12  07          	rlca
2471  0A13  07          	rlca
2472  0A14  07          	rlca
2473  0A15  07          	rlca
2474  0A16  E6 F0       	and	a,0xf0
2475  0A18  47          	ld	b, a
2476  0A19  2A 00 00    	ld	hl,(_sprite_curr_index)
2477  0A1C  26 00       	ld	h,0x00
2478  0A1E  11 00 00    	ld	de,_scr_map
2479  0A21  19          	add	hl,de
2480  0A22  56          	ld	d, (hl)
2481  0A23  3A 00 00    	ld	a,(_s_col0)
2482  0A26  C5          	push	bc
2483  0A27  F5          	push	af
2484  0A28  33          	inc	sp
2485  0A29  4A          	ld	c, d
2486  0A2A  C5          	push	bc
2487  0A2B  CD 1A 0B    	call	_spr_tile_paint
2488  0A2E  F1          	pop	af
2489  0A2F  33          	inc	sp
2490  0A30  C1          	pop	bc
2491  0A31  78          	ld	a, b
2492  0A32  C6 10       	add	a,0x10
2493  0A34  57          	ld	d, a
2494  0A35  21 00 00    	ld	hl,_sprite_curr_index
2495  0A38  7E          	ld	a, (hl)
2496  0A39  C6 10       	add	a,0x10
2497  0A3B  77          	ld	(hl), a
2498  0A3C  C6 00       	add	a,+((_scr_map) & 0xFF)
2499  0A3E  4F          	ld	c, a
2500  0A3F  3E 00       	ld	a, +((_scr_map) / 256)
2501  0A41  CE 00       	adc	a,0x00
2502  0A43  47          	ld	b, a
2503  0A44  0A          	ld	a, (bc)
2504  0A45  47          	ld	b, a
2505  0A46  3A 00 00    	ld	a,(_s_col0)
2506  0A49  5A          	ld	e,d
2507  0A4A  57          	ld	d,a
2508  0A4B  D5          	push	de
2509  0A4C  C5          	push	bc
2510  0A4D  33          	inc	sp
2511  0A4E  CD 1A 0B    	call	_spr_tile_paint
2512  0A51  F1          	pop	af
2513  0A52  33          	inc	sp
2514  0A53  C3 18 0B    	jp	l_spr_back_repaint_00109
2515  0A56              l_spr_back_repaint_00108:
2516  0A56  21 00 00    	ld	hl,_s_col0
2517  0A59  56          	ld	d, (hl)
2518  0A5A  15          	dec	d
2519  0A5B  79          	ld	a, c
2520  0A5C  B7          	or	a, a
2521  0A5D  20 3A       	jr	NZ,l_spr_back_repaint_00105
2522  0A5F  2A 00 00    	ld	hl,(_sprite_curr_index)
2523  0A62  26 00       	ld	h,0x00
2524  0A64  01 00 00    	ld	bc,_scr_map
2525  0A67  09          	add	hl,bc
2526  0A68  46          	ld	b,(hl)
2527  0A69  D5          	push	de
2528  0A6A  33          	inc	sp
2529  0A6B  3A 00 00    	ld	a,(_s_lin0)
2530  0A6E  48          	ld	c,b
2531  0A6F  47          	ld	b,a
2532  0A70  C5          	push	bc
2533  0A71  CD 1A 0B    	call	_spr_tile_paint
2534  0A74  F1          	pop	af
2535  0A75  33          	inc	sp
2536  0A76  21 00 00    	ld	hl,_sprite_curr_index
2537  0A79  34          	inc	(hl)
2538  0A7A  21 00 00    	ld	hl,_s_col0
2539  0A7D  46          	ld	b, (hl)
2540  0A7E  04          	inc	b
2541  0A7F  2A 00 00    	ld	hl,(_sprite_curr_index)
2542  0A82  26 00       	ld	h,0x00
2543  0A84  11 00 00    	ld	de,_scr_map
2544  0A87  19          	add	hl,de
2545  0A88  56          	ld	d, (hl)
2546  0A89  C5          	push	bc
2547  0A8A  33          	inc	sp
2548  0A8B  3A 00 00    	ld	a,(_s_lin0)
2549  0A8E  5A          	ld	e,d
2550  0A8F  57          	ld	d,a
2551  0A90  D5          	push	de
2552  0A91  CD 1A 0B    	call	_spr_tile_paint
2553  0A94  F1          	pop	af
2554  0A95  33          	inc	sp
2555  0A96  C3 18 0B    	jp	l_spr_back_repaint_00109
2556  0A99              l_spr_back_repaint_00105:
2557  0A99  78          	ld	a, b
2558  0A9A  07          	rlca
2559  0A9B  07          	rlca
2560  0A9C  07          	rlca
2561  0A9D  07          	rlca
2562  0A9E  E6 F0       	and	a,0xf0
2563  0AA0  47          	ld	b, a
2564  0AA1  3A 00 00    	ld	a,(_sprite_curr_index)
2565  0AA4  C6 00       	add	a,+((_scr_map) & 0xFF)
2566  0AA6  4F          	ld	c,a
2567  0AA7  3E 00       	ld	a,+((_scr_map) / 256)
2568  0AA9  CE 00       	adc	a,0x00
2569  0AAB  67          	ld	h, a
2570  0AAC  69          	ld	l, c
2571  0AAD  7E          	ld	a, (hl)
2572  0AAE  C5          	push	bc
2573  0AAF  58          	ld	e,b
2574  0AB0  D5          	push	de
2575  0AB1  F5          	push	af
2576  0AB2  33          	inc	sp
2577  0AB3  CD 1A 0B    	call	_spr_tile_paint
2578  0AB6  F1          	pop	af
2579  0AB7  33          	inc	sp
2580  0AB8  C1          	pop	bc
2581  0AB9  21 00 00    	ld	hl,_sprite_curr_index
2582  0ABC  34          	inc	(hl)
2583  0ABD  21 00 00    	ld	hl,_s_col0
2584  0AC0  4E          	ld	c, (hl)
2585  0AC1  0C          	inc	c
2586  0AC2  2A 00 00    	ld	hl,(_sprite_curr_index)
2587  0AC5  26 00       	ld	h,0x00
2588  0AC7  11 00 00    	ld	de,_scr_map
2589  0ACA  19          	add	hl,de
2590  0ACB  56          	ld	d, (hl)
2591  0ACC  C5          	push	bc
2592  0ACD  79          	ld	a, c
2593  0ACE  F5          	push	af
2594  0ACF  33          	inc	sp
2595  0AD0  4A          	ld	c, d
2596  0AD1  C5          	push	bc
2597  0AD2  CD 1A 0B    	call	_spr_tile_paint
2598  0AD5  F1          	pop	af
2599  0AD6  33          	inc	sp
2600  0AD7  C1          	pop	bc
2601  0AD8  78          	ld	a, b
2602  0AD9  C6 10       	add	a,0x10
2603  0ADB  4F          	ld	c, a
2604  0ADC  21 00 00    	ld	hl,_sprite_curr_index
2605  0ADF  7E          	ld	a, (hl)
2606  0AE0  C6 0F       	add	a,0x0f
2607  0AE2  77          	ld	(hl), a
2608  0AE3  21 00 00    	ld	hl,_s_col0
2609  0AE6  46          	ld	b, (hl)
2610  0AE7  05          	dec	b
2611  0AE8  2A 00 00    	ld	hl,(_sprite_curr_index)
2612  0AEB  26 00       	ld	h,0x00
2613  0AED  11 00 00    	ld	de,_scr_map
2614  0AF0  19          	add	hl,de
2615  0AF1  66          	ld	h, (hl)
2616  0AF2  EB          	ex	de,hl
2617  0AF3  C5          	push	bc
2618  0AF4  C5          	push	bc
2619  0AF5  D5          	push	de
2620  0AF6  33          	inc	sp
2621  0AF7  CD 1A 0B    	call	_spr_tile_paint
2622  0AFA  F1          	pop	af
2623  0AFB  33          	inc	sp
2624  0AFC  C1          	pop	bc
2625  0AFD  21 00 00    	ld	hl,_sprite_curr_index
2626  0B00  34          	inc	(hl)
2627  0B01  21 00 00    	ld	hl,_s_col0
2628  0B04  46          	ld	b, (hl)
2629  0B05  04          	inc	b
2630  0B06  2A 00 00    	ld	hl,(_sprite_curr_index)
2631  0B09  26 00       	ld	h,0x00
2632  0B0B  11 00 00    	ld	de,_scr_map
2633  0B0E  19          	add	hl,de
2634  0B0F  66          	ld	h, (hl)
2635  0B10  C5          	push	bc
2636  0B11  E5          	push	hl
2637  0B12  33          	inc	sp
2638  0B13  CD 1A 0B    	call	_spr_tile_paint
2639  0B16  F1          	pop	af
2640  0B17  33          	inc	sp
2641  0B18              l_spr_back_repaint_00109:
2642  0B18  FB          	ei
2643  0B19  C9          	ret
2644  0B1A              	SECTION code_compiler
2645  0B1A              ;	---------------------------------
2646  0B1A              ; Function spr_tile_paint
2647  0B1A              ; ---------------------------------
2648  0B1A              _spr_tile_paint:
2649  0B1A  CD 00 00    	call	___sdcc_enter_ix
2650  0B1D  DD 7E 04    	ld	a,(ix+4)
2651  0B20  B7          	or	a, a
2652  0B21  28 05       	jr	Z,l_spr_tile_paint_00101
2653  0B23  3C          	inc	a
2654  0B24  28 21       	jr	Z,l_spr_tile_paint_00105
2655  0B26  18 10       	jr	l_spr_tile_paint_00103
2656  0B28              l_spr_tile_paint_00101:
2657  0B28  DD 7E 06    	ld	a,(ix+6)
2658  0B2B  F5          	push	af
2659  0B2C  33          	inc	sp
2660  0B2D  DD 56 05    	ld	d,(ix+5)
2661  0B30  1E 49       	ld	e,0x49
2662  0B32  D5          	push	de
2663  0B33  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2664  0B36  18 0F       	jr	l_spr_tile_paint_00105
2665  0B38              l_spr_tile_paint_00103:
2666  0B38  DD 66 06    	ld	h,(ix+6)
2667  0B3B  DD 6E 05    	ld	l,(ix+5)
2668  0B3E  E5          	push	hl
2669  0B3F  DD 7E 04    	ld	a,(ix+4)
2670  0B42  F5          	push	af
2671  0B43  33          	inc	sp
2672  0B44  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2673  0B47              l_spr_tile_paint_00105:
2674  0B47  DD E1       	pop	ix
2675  0B49  C9          	ret
2676  0B4A              	SECTION code_compiler
2677  0B4A              ;	---------------------------------
2678  0B4A              ; Function spr_init_anim_bullets
2679  0B4A              ; ---------------------------------
2680  0B4A              _spr_init_anim_bullets:
2681  0B4A  01 00 00    	ld	bc,_anim_lin+0
2682  0B4D  1E 00       	ld	e,0x00
2683  0B4F              l_spr_init_anim_bullets_00102:
2684  0B4F  6B          	ld	l,e
2685  0B50  26 00       	ld	h,0x00
2686  0B52  09          	add	hl, bc
2687  0B53  36 FF       	ld	(hl),0xff
2688  0B55  16 00       	ld	d,0x00
2689  0B57  21 00 00    	ld	hl,_bullet_col
2690  0B5A  19          	add	hl, de
2691  0B5B  36 FF       	ld	(hl),0xff
2692  0B5D  1C          	inc	e
2693  0B5E  7B          	ld	a, e
2694  0B5F  D6 08       	sub	a,0x08
2695  0B61  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2696  0B63  21 00 00    	ld	hl,_bullet_count
2697  0B66  36 00       	ld	(hl),0x00
2698  0B68  21 00 00    	ld	hl,_anim_count
2699  0B6B  36 00       	ld	(hl),0x00
2700  0B6D  C9          	ret
2701  0B6E              	SECTION code_compiler
2702  0B6E              ;	---------------------------------
2703  0B6E              ; Function spr_add_anim
2704  0B6E              ; ---------------------------------
2705  0B6E              _spr_add_anim:
2706  0B6E  CD 00 00    	call	___sdcc_enter_ix
2707  0B71  F5          	push	af
2708  0B72  F5          	push	af
2709  0B73  F5          	push	af
2710  0B74  0E 00       	ld	c,0x00
2711  0B76  51          	ld	d,c
2712  0B77              l_spr_add_anim_00106:
2713  0B77  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2714  0B79  82          	add	a, d
2715  0B7A  DD 77 FA    	ld	(ix-6),a
2716  0B7D  3E 00       	ld	a, +((_anim_lin) / 256)
2717  0B7F  CE 00       	adc	a,0x00
2718  0B81  DD 77 FB    	ld	(ix-5),a
2719  0B84  E1          	pop	hl
2720  0B85  46          	ld	b,(hl)
2721  0B86  E5          	push	hl
2722  0B87  04          	inc	b
2723  0B88  C2 09 0C    	jp	NZ,l_spr_add_anim_00107
2724  0B8B  21 00 00    	ld	hl,_anim_count
2725  0B8E  34          	inc	(hl)
2726  0B8F  E1          	pop	hl
2727  0B90  E5          	push	hl
2728  0B91  DD 7E 04    	ld	a,(ix+4)
2729  0B94  77          	ld	(hl), a
2730  0B95  3E 00       	ld	a, +((_anim_col) & 0xFF)
2731  0B97  81          	add	a, c
2732  0B98  5F          	ld	e, a
2733  0B99  3E 00       	ld	a, +((_anim_col) / 256)
2734  0B9B  CE 00       	adc	a,0x00
2735  0B9D  57          	ld	d, a
2736  0B9E  DD 7E 05    	ld	a,(ix+5)
2737  0BA1  12          	ld	(de), a
2738  0BA2  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2739  0BA4  81          	add	a, c
2740  0BA5  DD 77 FE    	ld	(ix-2),a
2741  0BA8  6F          	ld	l,a
2742  0BA9  3E 00       	ld	a,+((_anim_tile) / 256)
2743  0BAB  CE 00       	adc	a,0x00
2744  0BAD  DD 77 FF    	ld	(ix-1),a
2745  0BB0  67          	ld	h,a
2746  0BB1  DD 7E 06    	ld	a,(ix+6)
2747  0BB4  77          	ld	(hl), a
2748  0BB5  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2749  0BB7  81          	add	a, c
2750  0BB8  DD 77 FC    	ld	(ix-4),a
2751  0BBB  6F          	ld	l,a
2752  0BBC  3E 00       	ld	a,+((_anim_loop) / 256)
2753  0BBE  CE 00       	adc	a,0x00
2754  0BC0  DD 77 FD    	ld	(ix-3),a
2755  0BC3  67          	ld	h,a
2756  0BC4  DD 7E 08    	ld	a,(ix+8)
2757  0BC7  77          	ld	(hl), a
2758  0BC8  06 00       	ld	b,0x00
2759  0BCA  21 00 00    	ld	hl,_anim_int
2760  0BCD  09          	add	hl, bc
2761  0BCE  06 00       	ld	b,0x00
2762  0BD0  70          	ld	(hl),b
2763  0BD1  21 00 00    	ld	hl,_anim_end
2764  0BD4  09          	add	hl,bc
2765  0BD5  DD 7E 07    	ld	a,(ix+7)
2766  0BD8  77          	ld	(hl),a
2767  0BD9  4D          	ld	c,l
2768  0BDA  F3          	di
2769  0BDB  E1          	pop	hl
2770  0BDC  1A          	ld	a,(de)
2771  0BDD  56          	ld	d,(hl)
2772  0BDE  E5          	push	hl
2773  0BDF  DD 6E FE    	ld	l,(ix-2)
2774  0BE2  DD 66 FF    	ld	h,(ix-1)
2775  0BE5  46          	ld	b, (hl)
2776  0BE6  5A          	ld	e,d
2777  0BE7  57          	ld	d,a
2778  0BE8  D5          	push	de
2779  0BE9  C5          	push	bc
2780  0BEA  33          	inc	sp
2781  0BEB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2782  0BEE  FB          	ei
2783  0BEF  DD 66 05    	ld	h,(ix+5)
2784  0BF2  DD 6E 04    	ld	l,(ix+4)
2785  0BF5  E5          	push	hl
2786  0BF6  CD 00 00    	call	_spr_calc_index
2787  0BF9  F1          	pop	af
2788  0BFA  22 00 00    	ld	(_index0),hl
2789  0BFD  01 00 00    	ld	bc,_scr_map
2790  0C00  09          	add	hl,bc
2791  0C01  7E          	ld	a,(hl)
2792  0C02  B7          	or	a,a
2793  0C03  20 0C       	jr	NZ,l_spr_add_anim_00108
2794  0C05  36 FF       	ld	(hl),0xff
2795  0C07  18 08       	jr	l_spr_add_anim_00108
2796  0C09              l_spr_add_anim_00107:
2797  0C09  14          	inc	d
2798  0C0A  7A          	ld	a,d
2799  0C0B  4F          	ld	c,a
2800  0C0C  D6 08       	sub	a,0x08
2801  0C0E  DA 77 0B    	jp	C, l_spr_add_anim_00106
2802  0C11              l_spr_add_anim_00108:
2803  0C11  DD F9       	ld	sp, ix
2804  0C13  DD E1       	pop	ix
2805  0C15  C9          	ret
2806  0C16              	SECTION code_compiler
2807  0C16              ;	---------------------------------
2808  0C16              ; Function spr_play_anim
2809  0C16              ; ---------------------------------
2810  0C16              _spr_play_anim:
2811  0C16  CD 00 00    	call	___sdcc_enter_ix
2812  0C19  F5          	push	af
2813  0C1A  F5          	push	af
2814  0C1B  0E 00       	ld	c,0x00
2815  0C1D              l_spr_play_anim_00114:
2816  0C1D  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2817  0C1F  81          	add	a, c
2818  0C20  DD 77 FE    	ld	(ix-2),a
2819  0C23  6F          	ld	l,a
2820  0C24  3E 00       	ld	a,+((_anim_lin) / 256)
2821  0C26  CE 00       	adc	a,0x00
2822  0C28  DD 77 FF    	ld	(ix-1),a
2823  0C2B  67          	ld	h,a
2824  0C2C  7E          	ld	a,(hl)
2825  0C2D  5F          	ld	e,a
2826  0C2E  3C          	inc	a
2827  0C2F  CA 2F 0D    	jp	Z,l_spr_play_anim_00115
2828  0C32  3E 00       	ld	a, +((_anim_int) & 0xFF)
2829  0C34  81          	add	a, c
2830  0C35  DD 77 FC    	ld	(ix-4),a
2831  0C38  3E 00       	ld	a, +((_anim_int) / 256)
2832  0C3A  CE 00       	adc	a,0x00
2833  0C3C  DD 77 FD    	ld	(ix-3),a
2834  0C3F  E1          	pop	hl
2835  0C40  56          	ld	d,(hl)
2836  0C41  E5          	push	hl
2837  0C42  06 00       	ld	b,0x00
2838  0C44  21 00 00    	ld	hl,_anim_end
2839  0C47  09          	add	hl, bc
2840  0C48  46          	ld	b, (hl)
2841  0C49  7A          	ld	a, d
2842  0C4A  90          	sub	a, b
2843  0C4B  30 30       	jr	NC,l_spr_play_anim_00109
2844  0C4D  F3          	di
2845  0C4E  06 00       	ld	b,0x00
2846  0C50  21 00 00    	ld	hl,_anim_col
2847  0C53  09          	add	hl, bc
2848  0C54  5E          	ld	e, (hl)
2849  0C55  DD 6E FE    	ld	l,(ix-2)
2850  0C58  DD 66 FF    	ld	h,(ix-1)
2851  0C5B  56          	ld	d, (hl)
2852  0C5C  06 00       	ld	b,0x00
2853  0C5E  21 00 00    	ld	hl,_anim_tile
2854  0C61  09          	add	hl, bc
2855  0C62  46          	ld	b, (hl)
2856  0C63  E1          	pop	hl
2857  0C64  E5          	push	hl
2858  0C65  6E          	ld	l, (hl)
2859  0C66  78          	ld	a, b
2860  0C67  85          	add	a, l
2861  0C68  47          	ld	b, a
2862  0C69  C5          	push	bc
2863  0C6A  7B          	ld	a, e
2864  0C6B  5A          	ld	e,d
2865  0C6C  57          	ld	d,a
2866  0C6D  D5          	push	de
2867  0C6E  C5          	push	bc
2868  0C6F  33          	inc	sp
2869  0C70  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2870  0C73  C1          	pop	bc
2871  0C74  FB          	ei
2872  0C75  E1          	pop	hl
2873  0C76  46          	ld	b,(hl)
2874  0C77  04          	inc	b
2875  0C78  E5          	push	hl
2876  0C79  70          	ld	(hl), b
2877  0C7A  C3 2F 0D    	jp	l_spr_play_anim_00115
2878  0C7D              l_spr_play_anim_00109:
2879  0C7D  06 00       	ld	b,0x00
2880  0C7F  21 00 00    	ld	hl,_anim_loop
2881  0C82  09          	add	hl, bc
2882  0C83  7E          	ld	a,(hl)
2883  0C84  47          	ld	b,a
2884  0C85  B7          	or	a, a
2885  0C86  C2 29 0D    	jp	NZ, l_spr_play_anim_00106
2886  0C89  21 00 00    	ld	hl,_anim_count
2887  0C8C  35          	dec	(hl)
2888  0C8D  06 00       	ld	b,0x00
2889  0C8F  21 00 00    	ld	hl,_anim_col
2890  0C92  09          	add	hl, bc
2891  0C93  7E          	ld	a, (hl)
2892  0C94  32 00 00    	ld	(_s_col0),a
2893  0C97  21 00 00    	ld	hl,_s_lin0
2894  0C9A  73          	ld	(hl), e
2895  0C9B  3A 00 00    	ld	a,(_s_col0)
2896  0C9E  C5          	push	bc
2897  0C9F  F5          	push	af
2898  0CA0  33          	inc	sp
2899  0CA1  3A 00 00    	ld	a,(_s_lin0)
2900  0CA4  F5          	push	af
2901  0CA5  33          	inc	sp
2902  0CA6  CD 00 00    	call	_spr_calc_index
2903  0CA9  F1          	pop	af
2904  0CAA  2A FF FF    	ld	hl,(_s_col0 - 1)
2905  0CAD  3A 00 00    	ld	a,(_s_lin0)
2906  0CB0  6F          	ld	l,a
2907  0CB1  E5          	push	hl
2908  0CB2  CD 00 00    	call	_spr_calc_index
2909  0CB5  F1          	pop	af
2910  0CB6  EB          	ex	de,hl
2911  0CB7  C1          	pop	bc
2912  0CB8  21 00 00    	ld	hl,_scr_map
2913  0CBB  19          	add	hl, de
2914  0CBC  46          	ld	b, (hl)
2915  0CBD  04          	inc	b
2916  0CBE  20 17       	jr	NZ,l_spr_play_anim_00102
2917  0CC0  3A 00 00    	ld	a,(_s_col0)
2918  0CC3  C5          	push	bc
2919  0CC4  F5          	push	af
2920  0CC5  33          	inc	sp
2921  0CC6  3A 00 00    	ld	a,(_s_lin0)
2922  0CC9  F5          	push	af
2923  0CCA  33          	inc	sp
2924  0CCB  CD 00 00    	call	_spr_calc_index
2925  0CCE  F1          	pop	af
2926  0CCF  EB          	ex	de,hl
2927  0CD0  C1          	pop	bc
2928  0CD1  21 00 00    	ld	hl,_scr_map
2929  0CD4  19          	add	hl, de
2930  0CD5  36 00       	ld	(hl),0x00
2931  0CD7              l_spr_play_anim_00102:
2932  0CD7  C5          	push	bc
2933  0CD8  CD C8 09    	call	_spr_back_repaint
2934  0CDB  C1          	pop	bc
2935  0CDC  06 00       	ld	b,0x00
2936  0CDE  21 00 00    	ld	hl,_anim_tile
2937  0CE1  09          	add	hl, bc
2938  0CE2  7E          	ld	a, (hl)
2939  0CE3  D6 7E       	sub	a,0x7e
2940  0CE5  20 38       	jr	NZ,l_spr_play_anim_00104
2941  0CE7  3A 00 00    	ld	a,(_s_col0)
2942  0CEA  C5          	push	bc
2943  0CEB  F5          	push	af
2944  0CEC  33          	inc	sp
2945  0CED  3A 00 00    	ld	a,(_s_lin0)
2946  0CF0  F5          	push	af
2947  0CF1  33          	inc	sp
2948  0CF2  CD 00 00    	call	_spr_calc_index
2949  0CF5  F1          	pop	af
2950  0CF6  EB          	ex	de,hl
2951  0CF7  C1          	pop	bc
2952  0CF8  ED 53 00 00 	ld	(_index1),de
2953  0CFC  3A 00 00    	ld	a,(_s_lin0)
2954  0CFF  32 00 00    	ld	(_s_lin1),a
2955  0D02  3A 00 00    	ld	a,(_s_col0)
2956  0D05  32 00 00    	ld	(_s_col1),a
2957  0D08  2A 00 00    	ld	hl,(_game_respawn_index)
2958  0D0B  26 00       	ld	h,0x00
2959  0D0D  11 00 00    	ld	de,_game_respawn_tile_index
2960  0D10  19          	add	hl,de
2961  0D11  46          	ld	b, (hl)
2962  0D12  C5          	push	bc
2963  0D13  C5          	push	bc
2964  0D14  33          	inc	sp
2965  0D15  CD 00 00    	call	_game_add_enemy
2966  0D18  33          	inc	sp
2967  0D19  C1          	pop	bc
2968  0D1A  21 00 00    	ld	hl,_game_respawn_index
2969  0D1D  36 00       	ld	(hl),0x00
2970  0D1F              l_spr_play_anim_00104:
2971  0D1F  DD 6E FE    	ld	l,(ix-2)
2972  0D22  DD 66 FF    	ld	h,(ix-1)
2973  0D25  36 FF       	ld	(hl),0xff
2974  0D27  18 06       	jr	l_spr_play_anim_00115
2975  0D29              l_spr_play_anim_00106:
2976  0D29  05          	dec	b
2977  0D2A  70          	ld	(hl), b
2978  0D2B  E1          	pop	hl
2979  0D2C  E5          	push	hl
2980  0D2D  36 00       	ld	(hl),0x00
2981  0D2F              l_spr_play_anim_00115:
2982  0D2F  0C          	inc	c
2983  0D30  79          	ld	a, c
2984  0D31  D6 08       	sub	a,0x08
2985  0D33  DA 1D 0C    	jp	C, l_spr_play_anim_00114
2986  0D36  DD F9       	ld	sp, ix
2987  0D38  DD E1       	pop	ix
2988  0D3A  C9          	ret
2989  0D3B              	SECTION code_compiler
2990  0D3B              ;	---------------------------------
2991  0D3B              ; Function spr_play_bullets
2992  0D3B              ; ---------------------------------
2993  0D3B              _spr_play_bullets:
2994  0D3B  CD 00 00    	call	___sdcc_enter_ix
2995  0D3E  F5          	push	af
2996  0D3F  F5          	push	af
2997  0D40  3B          	dec	sp
2998  0D41  0E 00       	ld	c,0x00
2999  0D43              l_spr_play_bullets_00131:
3000  0D43  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3001  0D45  81          	add	a, c
3002  0D46  DD 77 FB    	ld	(ix-5),a
3003  0D49  3E 00       	ld	a, +((_bullet_col) / 256)
3004  0D4B  CE 00       	adc	a,0x00
3005  0D4D  DD 77 FC    	ld	(ix-4),a
3006  0D50  E1          	pop	hl
3007  0D51  7E          	ld	a,(hl)
3008  0D52  E5          	push	hl
3009  0D53  DD 77 FF    	ld	(ix-1),a
3010  0D56  3C          	inc	a
3011  0D57  CA 0A 0F    	jp	Z,l_spr_play_bullets_00132
3012  0D5A  06 00       	ld	b,0x00
3013  0D5C  21 00 00    	ld	hl,_bullet_lin
3014  0D5F  09          	add	hl, bc
3015  0D60  7E          	ld	a, (hl)
3016  0D61  32 00 00    	ld	(_s_lin0),a
3017  0D64  DD 7E FF    	ld	a,(ix-1)
3018  0D67  32 00 00    	ld	(_s_col0),a
3019  0D6A  32 00 00    	ld	(_s_col1),a
3020  0D6D  C5          	push	bc
3021  0D6E  CD C8 09    	call	_spr_back_repaint
3022  0D71  C1          	pop	bc
3023  0D72  06 00       	ld	b,0x00
3024  0D74  21 00 00    	ld	hl,_bullet_dir
3025  0D77  09          	add	hl, bc
3026  0D78  46          	ld	b, (hl)
3027  0D79  04          	inc	b
3028  0D7A  20 36       	jr	NZ,l_spr_play_bullets_00110
3029  0D7C  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3030  0D7E  81          	add	a, c
3031  0D7F  5F          	ld	e, a
3032  0D80  3E 00       	ld	a, +((_bullet_colint) / 256)
3033  0D82  CE 00       	adc	a,0x00
3034  0D84  57          	ld	d, a
3035  0D85  1A          	ld	a, (de)
3036  0D86  3C          	inc	a
3037  0D87  47          	ld	b,a
3038  0D88  12          	ld	(de), a
3039  0D89  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3040  0D8B  81          	add	a, c
3041  0D8C  6F          	ld	l, a
3042  0D8D  3E 00       	ld	a, +((_bullet_frames) / 256)
3043  0D8F  CE 00       	adc	a,0x00
3044  0D91  67          	ld	h, a
3045  0D92  6E          	ld	l, (hl)
3046  0D93  78          	ld	a, b
3047  0D94  95          	sub	a, l
3048  0D95  38 07       	jr	C,l_spr_play_bullets_00102
3049  0D97  E1          	pop	hl
3050  0D98  46          	ld	b,(hl)
3051  0D99  04          	inc	b
3052  0D9A  E5          	push	hl
3053  0D9B  70          	ld	(hl), b
3054  0D9C  AF          	xor	a, a
3055  0D9D  12          	ld	(de), a
3056  0D9E              l_spr_play_bullets_00102:
3057  0D9E  E1          	pop	hl
3058  0D9F  46          	ld	b,(hl)
3059  0DA0  E5          	push	hl
3060  0DA1  CB 40       	bit	0, b
3061  0DA3  28 3E       	jr	Z,l_spr_play_bullets_00111
3062  0DA5  78          	ld	a, b
3063  0DA6  3C          	inc	a
3064  0DA7  32 00 00    	ld	(_s_col1),a
3065  0DAA  78          	ld	a, b
3066  0DAB  C6 FF       	add	a,0xff
3067  0DAD  32 00 00    	ld	(_tmp),a
3068  0DB0  18 31       	jr	l_spr_play_bullets_00111
3069  0DB2              l_spr_play_bullets_00110:
3070  0DB2  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3071  0DB4  81          	add	a, c
3072  0DB5  5F          	ld	e, a
3073  0DB6  3E 00       	ld	a, +((_bullet_colint) / 256)
3074  0DB8  CE 00       	adc	a,0x00
3075  0DBA  57          	ld	d, a
3076  0DBB  1A          	ld	a, (de)
3077  0DBC  C6 FF       	add	a,0xff
3078  0DBE  12          	ld	(de), a
3079  0DBF  3C          	inc	a
3080  0DC0  20 0F       	jr	NZ,l_spr_play_bullets_00106
3081  0DC2  E1          	pop	hl
3082  0DC3  46          	ld	b,(hl)
3083  0DC4  05          	dec	b
3084  0DC5  E5          	push	hl
3085  0DC6  70          	ld	(hl), b
3086  0DC7  06 00       	ld	b,0x00
3087  0DC9  21 00 00    	ld	hl,_bullet_frames
3088  0DCC  09          	add	hl, bc
3089  0DCD  46          	ld	b, (hl)
3090  0DCE  05          	dec	b
3091  0DCF  78          	ld	a, b
3092  0DD0  12          	ld	(de), a
3093  0DD1              l_spr_play_bullets_00106:
3094  0DD1  E1          	pop	hl
3095  0DD2  46          	ld	b,(hl)
3096  0DD3  E5          	push	hl
3097  0DD4  CB 40       	bit	0, b
3098  0DD6  28 0B       	jr	Z,l_spr_play_bullets_00111
3099  0DD8  78          	ld	a, b
3100  0DD9  C6 FF       	add	a,0xff
3101  0DDB  32 00 00    	ld	(_s_col1),a
3102  0DDE  78          	ld	a, b
3103  0DDF  3C          	inc	a
3104  0DE0  32 00 00    	ld	(_tmp),a
3105  0DE3              l_spr_play_bullets_00111:
3106  0DE3  DD 7E FB    	ld	a,(ix-5)
3107  0DE6  DD 77 FD    	ld	(ix-3),a
3108  0DE9  DD 7E FC    	ld	a,(ix-4)
3109  0DEC  DD 77 FE    	ld	(ix-2),a
3110  0DEF  78          	ld	a,b
3111  0DF0  B7          	or	a, a
3112  0DF1  CA 02 0F    	jp	Z,l_spr_play_bullets_00123
3113  0DF4  D6 1E       	sub	a,0x1e
3114  0DF6  D2 02 0F    	jp	NC, l_spr_play_bullets_00123
3115  0DF9  3A 00 00    	ld	a,(_s_col1)
3116  0DFC  C5          	push	bc
3117  0DFD  F5          	push	af
3118  0DFE  33          	inc	sp
3119  0DFF  3A 00 00    	ld	a,(_s_lin0)
3120  0E02  F5          	push	af
3121  0E03  33          	inc	sp
3122  0E04  CD 00 00    	call	_spr_calc_index
3123  0E07  F1          	pop	af
3124  0E08  EB          	ex	de,hl
3125  0E09  C1          	pop	bc
3126  0E0A  ED 53 00 00 	ld	(_index0),de
3127  0E0E  21 00 00    	ld	hl,_tmp0
3128  0E11  36 00       	ld	(hl),0x00
3129  0E13              l_spr_play_bullets_00129:
3130  0E13  2A 00 00    	ld	hl,(_tmp0)
3131  0E16  26 00       	ld	h,0x00
3132  0E18  11 00 00    	ld	de,_class
3133  0E1B  19          	add	hl,de
3134  0E1C  7E          	ld	a,(hl)
3135  0E1D  B7          	or	a,a
3136  0E1E  28 75       	jr	Z,l_spr_play_bullets_00130
3137  0E20  2A 00 00    	ld	hl,(_tmp0)
3138  0E23  26 00       	ld	h,0x00
3139  0E25  11 00 00    	ld	de,_col
3140  0E28  19          	add	hl,de
3141  0E29  46          	ld	b, (hl)
3142  0E2A  3A 00 00    	ld	a,(_tmp0)
3143  0E2D  5F          	ld	e,a
3144  0E2E  16 00       	ld	d,0x00
3145  0E30  21 00 00    	ld	hl,_lin
3146  0E33  19          	add	hl,de
3147  0E34  56          	ld	d, (hl)
3148  0E35  C5          	push	bc
3149  0E36  4A          	ld	c, d
3150  0E37  C5          	push	bc
3151  0E38  CD 00 00    	call	_spr_calc_index
3152  0E3B  F1          	pop	af
3153  0E3C  EB          	ex	de,hl
3154  0E3D  C1          	pop	bc
3155  0E3E  ED 53 00 00 	ld	(_index1),de
3156  0E42  3A 00 00    	ld	a,(_index0)
3157  0E45  21 00 00    	ld	hl,_index1
3158  0E48  96          	sub	a, (hl)
3159  0E49  20 4A       	jr	NZ,l_spr_play_bullets_00130
3160  0E4B  3A 01 00    	ld	a,(_index0 + 1)
3161  0E4E  23          	inc	hl
3162  0E4F  96          	sub	a, (hl)
3163  0E50  20 43       	jr	NZ,l_spr_play_bullets_00130
3164  0E52  2A 00 00    	ld	hl,(_tmp0)
3165  0E55  26 00       	ld	h,0x00
3166  0E57  11 00 00    	ld	de,_lin
3167  0E5A  19          	add	hl,de
3168  0E5B  7E          	ld	a,(hl)
3169  0E5C  32 00 00    	ld	(_s_lin0),a
3170  0E5F  2A 00 00    	ld	hl,(_tmp0)
3171  0E62  26 00       	ld	h,0x00
3172  0E64  11 00 00    	ld	de,_col
3173  0E67  19          	add	hl,de
3174  0E68  7E          	ld	a,(hl)
3175  0E69  32 00 00    	ld	(_s_col0),a
3176  0E6C  2A 00 00    	ld	hl,(_tmp0)
3177  0E6F  C5          	push	bc
3178  0E70  CD 9C 06    	call	_spr_destroy
3179  0E73  C1          	pop	bc
3180  0E74  DD 6E FD    	ld	l,(ix-3)
3181  0E77  DD 66 FE    	ld	h,(ix-2)
3182  0E7A  36 FF       	ld	(hl),0xff
3183  0E7C  C5          	push	bc
3184  0E7D  21 03 00    	ld	hl,0x0003
3185  0E80  E5          	push	hl
3186  0E81  2A 00 00    	ld	hl,(_s_col0)
3187  0E84  26 7B       	ld	h,0x7b
3188  0E86  3A 00 00    	ld	a,(_s_lin0)
3189  0E89  E5          	push	hl
3190  0E8A  F5          	push	af
3191  0E8B  33          	inc	sp
3192  0E8C  CD 6E 0B    	call	_spr_add_anim
3193  0E8F  F1          	pop	af
3194  0E90  F1          	pop	af
3195  0E91  33          	inc	sp
3196  0E92  C1          	pop	bc
3197  0E93  18 0B       	jr	l_spr_play_bullets_00116
3198  0E95              l_spr_play_bullets_00130:
3199  0E95  21 00 00    	ld	hl,_tmp0
3200  0E98  7E          	ld	a,(hl)
3201  0E99  3C          	inc	a
3202  0E9A  77          	ld	(hl),a
3203  0E9B  D6 07       	sub	a,0x07
3204  0E9D  DA 13 0E    	jp	C, l_spr_play_bullets_00129
3205  0EA0              l_spr_play_bullets_00116:
3206  0EA0  DD 6E FD    	ld	l,(ix-3)
3207  0EA3  DD 66 FE    	ld	h,(ix-2)
3208  0EA6  7E          	ld	a,(hl)
3209  0EA7  57          	ld	d,a
3210  0EA8  3C          	inc	a
3211  0EA9  28 5F       	jr	Z,l_spr_play_bullets_00132
3212  0EAB  3E 00       	ld	a, +((_scr_map) & 0xFF)
3213  0EAD  21 00 00    	ld	hl,_index0
3214  0EB0  86          	add	a, (hl)
3215  0EB1  47          	ld	b, a
3216  0EB2  3E 00       	ld	a, +((_scr_map) / 256)
3217  0EB4  23          	inc	hl
3218  0EB5  8E          	adc	a, (hl)
3219  0EB6  67          	ld	h, a
3220  0EB7  68          	ld	l, b
3221  0EB8  7E          	ld	a, (hl)
3222  0EB9  D6 3C       	sub	a,0x3c
3223  0EBB  30 20       	jr	NC,l_spr_play_bullets_00118
3224  0EBD  06 00       	ld	b,0x00
3225  0EBF  21 00 00    	ld	hl,_bullet_tile
3226  0EC2  09          	add	hl, bc
3227  0EC3  5E          	ld	e, (hl)
3228  0EC4  06 00       	ld	b,0x00
3229  0EC6  21 00 00    	ld	hl,_bullet_colint
3230  0EC9  09          	add	hl, bc
3231  0ECA  46          	ld	b, (hl)
3232  0ECB  7B          	ld	a, e
3233  0ECC  80          	add	a, b
3234  0ECD  47          	ld	b, a
3235  0ECE  C5          	push	bc
3236  0ECF  D5          	push	de
3237  0ED0  33          	inc	sp
3238  0ED1  3A 00 00    	ld	a,(_s_lin0)
3239  0ED4  48          	ld	c,b
3240  0ED5  47          	ld	b,a
3241  0ED6  C5          	push	bc
3242  0ED7  CD 00 00    	call	_NIRVANAP_drawT_callee
3243  0EDA  C1          	pop	bc
3244  0EDB  18 2D       	jr	l_spr_play_bullets_00132
3245  0EDD              l_spr_play_bullets_00118:
3246  0EDD  C5          	push	bc
3247  0EDE  21 03 00    	ld	hl,0x0003
3248  0EE1  E5          	push	hl
3249  0EE2  2A 00 00    	ld	hl,(_tmp)
3250  0EE5  26 7B       	ld	h,0x7b
3251  0EE7  3A 00 00    	ld	a,(_s_lin0)
3252  0EEA  E5          	push	hl
3253  0EEB  F5          	push	af
3254  0EEC  33          	inc	sp
3255  0EED  CD 6E 0B    	call	_spr_add_anim
3256  0EF0  F1          	pop	af
3257  0EF1  F1          	pop	af
3258  0EF2  33          	inc	sp
3259  0EF3  C1          	pop	bc
3260  0EF4  21 00 00    	ld	hl,_bullet_count
3261  0EF7  35          	dec	(hl)
3262  0EF8  DD 6E FD    	ld	l,(ix-3)
3263  0EFB  DD 66 FE    	ld	h,(ix-2)
3264  0EFE  36 FF       	ld	(hl),0xff
3265  0F00  18 08       	jr	l_spr_play_bullets_00132
3266  0F02              l_spr_play_bullets_00123:
3267  0F02  21 00 00    	ld	hl,_bullet_count
3268  0F05  35          	dec	(hl)
3269  0F06  E1          	pop	hl
3270  0F07  E5          	push	hl
3271  0F08  36 FF       	ld	(hl),0xff
3272  0F0A              l_spr_play_bullets_00132:
3273  0F0A  0C          	inc	c
3274  0F0B  79          	ld	a, c
3275  0F0C  D6 08       	sub	a,0x08
3276  0F0E  DA 43 0D    	jp	C, l_spr_play_bullets_00131
3277  0F11  DD F9       	ld	sp, ix
3278  0F13  DD E1       	pop	ix
3279  0F15  C9          	ret
3280  0F16              	SECTION code_compiler
3281  0F16              ;	---------------------------------
3282  0F16              ; Function spr_turn_horizontal
3283  0F16              ; ---------------------------------
3284  0F16              _spr_turn_horizontal:
3285  0F16  21 00 00    	ld	hl,_s_state
3286  0F19  CB 56       	bit	2, (hl)
3287  0F1B  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3288  0F1D  21 00 00    	ld	hl,_s_state
3289  0F20  7E          	ld	a,(hl)
3290  0F21  F6 08       	or	a,0x08
3291  0F23  E6 FB       	and	a,0xfb
3292  0F25  77          	ld	(hl),a
3293  0F26  18 09       	jr	l_spr_turn_horizontal_00103
3294  0F28              l_spr_turn_horizontal_00102:
3295  0F28  21 00 00    	ld	hl,_s_state
3296  0F2B  7E          	ld	a,(hl)
3297  0F2C  E6 F7       	and	a,0xf7
3298  0F2E  F6 04       	or	a,0x04
3299  0F30  77          	ld	(hl),a
3300  0F31              l_spr_turn_horizontal_00103:
3301  0F31  2A 00 00    	ld	hl,(_sprite)
3302  0F34  26 00       	ld	h,0x00
3303  0F36  01 00 00    	ld	bc,_state
3304  0F39  09          	add	hl,bc
3305  0F3A  3A 00 00    	ld	a,(_s_state)
3306  0F3D  77          	ld	(hl),a
3307  0F3E  2A 00 00    	ld	hl,(_sprite)
3308  0F41  26 00       	ld	h,0x00
3309  0F43  01 00 00    	ld	bc,_tile
3310  0F46  09          	add	hl,bc
3311  0F47  E5          	push	hl
3312  0F48  2A 00 00    	ld	hl,(_sprite)
3313  0F4B  CD 05 07    	call	_spr_tile
3314  0F4E  C1          	pop	bc
3315  0F4F  7D          	ld	a,l
3316  0F50  02          	ld	(bc), a
3317  0F51  C9          	ret
3318  0F52              	SECTION IGNORE
3319  0000              
