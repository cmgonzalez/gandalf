1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_explode_bullet
214   0000              	GLOBAL _spr_turn_horizontal
215   0000              	GLOBAL _spr_btile_paint_back
216   0000              ;--------------------------------------------------------
217   0000              ; Externals used
218   0000              ;--------------------------------------------------------
219   0000              	GLOBAL _ulltoa_callee
220   0000              	GLOBAL _ulltoa
221   0000              	GLOBAL _strtoull_callee
222   0000              	GLOBAL _strtoull
223   0000              	GLOBAL _strtoll_callee
224   0000              	GLOBAL _strtoll
225   0000              	GLOBAL _lltoa_callee
226   0000              	GLOBAL _lltoa
227   0000              	GLOBAL _llabs_callee
228   0000              	GLOBAL _llabs
229   0000              	GLOBAL __lldivu__callee
230   0000              	GLOBAL __lldivu_
231   0000              	GLOBAL __lldiv__callee
232   0000              	GLOBAL __lldiv_
233   0000              	GLOBAL _atoll_callee
234   0000              	GLOBAL _atoll
235   0000              	GLOBAL _realloc_unlocked_callee
236   0000              	GLOBAL _realloc_unlocked
237   0000              	GLOBAL _malloc_unlocked_fastcall
238   0000              	GLOBAL _malloc_unlocked
239   0000              	GLOBAL _free_unlocked_fastcall
240   0000              	GLOBAL _free_unlocked
241   0000              	GLOBAL _calloc_unlocked_callee
242   0000              	GLOBAL _calloc_unlocked
243   0000              	GLOBAL _aligned_alloc_unlocked_callee
244   0000              	GLOBAL _aligned_alloc_unlocked
245   0000              	GLOBAL _realloc_callee
246   0000              	GLOBAL _realloc
247   0000              	GLOBAL _malloc_fastcall
248   0000              	GLOBAL _malloc
249   0000              	GLOBAL _free_fastcall
250   0000              	GLOBAL _free
251   0000              	GLOBAL _calloc_callee
252   0000              	GLOBAL _calloc
253   0000              	GLOBAL _aligned_alloc_callee
254   0000              	GLOBAL _aligned_alloc
255   0000              	GLOBAL _utoa_callee
256   0000              	GLOBAL _utoa
257   0000              	GLOBAL _ultoa_callee
258   0000              	GLOBAL _ultoa
259   0000              	GLOBAL _system_fastcall
260   0000              	GLOBAL _system
261   0000              	GLOBAL _strtoul_callee
262   0000              	GLOBAL _strtoul
263   0000              	GLOBAL _strtol_callee
264   0000              	GLOBAL _strtol
265   0000              	GLOBAL _strtof_callee
266   0000              	GLOBAL _strtof
267   0000              	GLOBAL _strtod_callee
268   0000              	GLOBAL _strtod
269   0000              	GLOBAL _srand_fastcall
270   0000              	GLOBAL _srand
271   0000              	GLOBAL _rand
272   0000              	GLOBAL _quick_exit_fastcall
273   0000              	GLOBAL _quick_exit
274   0000              	GLOBAL _qsort_callee
275   0000              	GLOBAL _qsort
276   0000              	GLOBAL _ltoa_callee
277   0000              	GLOBAL _ltoa
278   0000              	GLOBAL _labs_fastcall
279   0000              	GLOBAL _labs
280   0000              	GLOBAL _itoa_callee
281   0000              	GLOBAL _itoa
282   0000              	GLOBAL _ftoh_callee
283   0000              	GLOBAL _ftoh
284   0000              	GLOBAL _ftog_callee
285   0000              	GLOBAL _ftog
286   0000              	GLOBAL _ftoe_callee
287   0000              	GLOBAL _ftoe
288   0000              	GLOBAL _ftoa_callee
289   0000              	GLOBAL _ftoa
290   0000              	GLOBAL _exit_fastcall
291   0000              	GLOBAL _exit
292   0000              	GLOBAL _dtoh_callee
293   0000              	GLOBAL _dtoh
294   0000              	GLOBAL _dtog_callee
295   0000              	GLOBAL _dtog
296   0000              	GLOBAL _dtoe_callee
297   0000              	GLOBAL _dtoe
298   0000              	GLOBAL _dtoa_callee
299   0000              	GLOBAL _dtoa
300   0000              	GLOBAL _bsearch_callee
301   0000              	GLOBAL _bsearch
302   0000              	GLOBAL _atol_fastcall
303   0000              	GLOBAL _atol
304   0000              	GLOBAL _atoi_fastcall
305   0000              	GLOBAL _atoi
306   0000              	GLOBAL _atof_fastcall
307   0000              	GLOBAL _atof
308   0000              	GLOBAL _atexit_fastcall
309   0000              	GLOBAL _atexit
310   0000              	GLOBAL _at_quick_exit_fastcall
311   0000              	GLOBAL _at_quick_exit
312   0000              	GLOBAL _abs_fastcall
313   0000              	GLOBAL _abs
314   0000              	GLOBAL _abort
315   0000              	GLOBAL __strtou__callee
316   0000              	GLOBAL __strtou_
317   0000              	GLOBAL __strtoi__callee
318   0000              	GLOBAL __strtoi_
319   0000              	GLOBAL __random_uniform_xor_8__fastcall
320   0000              	GLOBAL __random_uniform_xor_8_
321   0000              	GLOBAL __random_uniform_xor_32__fastcall
322   0000              	GLOBAL __random_uniform_xor_32_
323   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
324   0000              	GLOBAL __random_uniform_cmwc_8_
325   0000              	GLOBAL __shellsort__callee
326   0000              	GLOBAL __shellsort_
327   0000              	GLOBAL __quicksort__callee
328   0000              	GLOBAL __quicksort_
329   0000              	GLOBAL __insertion_sort__callee
330   0000              	GLOBAL __insertion_sort_
331   0000              	GLOBAL __ldivu__callee
332   0000              	GLOBAL __ldivu_
333   0000              	GLOBAL __ldiv__callee
334   0000              	GLOBAL __ldiv_
335   0000              	GLOBAL __divu__callee
336   0000              	GLOBAL __divu_
337   0000              	GLOBAL __div__callee
338   0000              	GLOBAL __div_
339   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
340   0000              	GLOBAL _NIRVANAP_drawTW_raw
341   0000              	GLOBAL _NIRVANAP_drawTW_callee
342   0000              	GLOBAL _NIRVANAP_drawTW
343   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
344   0000              	GLOBAL _NIRVANAP_drawW_raw
345   0000              	GLOBAL _NIRVANAP_drawW_callee
346   0000              	GLOBAL _NIRVANAP_drawW
347   0000              	GLOBAL _NIRVANAP_spriteT_callee
348   0000              	GLOBAL _NIRVANAP_spriteT
349   0000              	GLOBAL _NIRVANAP_fillC_callee
350   0000              	GLOBAL _NIRVANAP_fillC
351   0000              	GLOBAL _NIRVANAP_readC_callee
352   0000              	GLOBAL _NIRVANAP_readC
353   0000              	GLOBAL _NIRVANAP_paintC_callee
354   0000              	GLOBAL _NIRVANAP_paintC
355   0000              	GLOBAL _NIRVANAP_printC_callee
356   0000              	GLOBAL _NIRVANAP_printC
357   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
358   0000              	GLOBAL _NIRVANAP_fillT_raw
359   0000              	GLOBAL _NIRVANAP_fillT_callee
360   0000              	GLOBAL _NIRVANAP_fillT
361   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawT_raw
363   0000              	GLOBAL _NIRVANAP_drawT_callee
364   0000              	GLOBAL _NIRVANAP_drawT
365   0000              	GLOBAL _NIRVANAP_stop
366   0000              	GLOBAL _NIRVANAP_start
367   0000              	GLOBAL _debug3
368   0000              	GLOBAL _debug2
369   0000              	GLOBAL _debug
370   0000              	GLOBAL _zx_print_str
371   0000              	GLOBAL _zx_print_int
372   0000              	GLOBAL _zx_print_chr
373   0000              	GLOBAL _zx_print_bonus_time
374   0000              	GLOBAL _zx_isr
375   0000              	GLOBAL _z80_otdr_callee
376   0000              	GLOBAL _z80_otdr
377   0000              	GLOBAL _z80_otir_callee
378   0000              	GLOBAL _z80_otir
379   0000              	GLOBAL _z80_outp_callee
380   0000              	GLOBAL _z80_outp
381   0000              	GLOBAL _z80_indr_callee
382   0000              	GLOBAL _z80_indr
383   0000              	GLOBAL _z80_inir_callee
384   0000              	GLOBAL _z80_inir
385   0000              	GLOBAL _z80_inp_fastcall
386   0000              	GLOBAL _z80_inp
387   0000              	GLOBAL _z80_set_int_state_fastcall
388   0000              	GLOBAL _z80_set_int_state
389   0000              	GLOBAL _z80_get_int_state
390   0000              	GLOBAL _z80_delay_tstate_fastcall
391   0000              	GLOBAL _z80_delay_tstate
392   0000              	GLOBAL _z80_delay_ms_fastcall
393   0000              	GLOBAL _z80_delay_ms
394   0000              	GLOBAL _im2_remove_generic_callback_callee
395   0000              	GLOBAL _im2_remove_generic_callback
396   0000              	GLOBAL _im2_prepend_generic_callback_callee
397   0000              	GLOBAL _im2_prepend_generic_callback
398   0000              	GLOBAL _im2_append_generic_callback_callee
399   0000              	GLOBAL _im2_append_generic_callback
400   0000              	GLOBAL _im2_create_generic_isr_8080_callee
401   0000              	GLOBAL _im2_create_generic_isr_8080
402   0000              	GLOBAL _im2_create_generic_isr_callee
403   0000              	GLOBAL _im2_create_generic_isr
404   0000              	GLOBAL _im2_install_isr_callee
405   0000              	GLOBAL _im2_install_isr
406   0000              	GLOBAL _im2_init_fastcall
407   0000              	GLOBAL _im2_init
408   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_word_32
410   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_32
412   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_16
414   0000              	GLOBAL _intrinsic_return_de
415   0000              	GLOBAL _intrinsic_return_bc
416   0000              	GLOBAL _intrinsic_exx
417   0000              	GLOBAL _intrinsic_ex_de_hl
418   0000              	GLOBAL _intrinsic_nop
419   0000              	GLOBAL _intrinsic_im_2
420   0000              	GLOBAL _intrinsic_im_1
421   0000              	GLOBAL _intrinsic_im_0
422   0000              	GLOBAL _intrinsic_retn
423   0000              	GLOBAL _intrinsic_reti
424   0000              	GLOBAL _intrinsic_halt
425   0000              	GLOBAL _intrinsic_ei
426   0000              	GLOBAL _intrinsic_di
427   0000              	GLOBAL _intrinsic_stub
428   0000              	GLOBAL _intrinsic_outi
429   0000              	GLOBAL _intrinsic_ldi
430   0000              	GLOBAL _zx_pattern_fill_callee
431   0000              	GLOBAL _zx_pattern_fill
432   0000              	GLOBAL _zx_saddrpup_fastcall
433   0000              	GLOBAL _zx_saddrpup
434   0000              	GLOBAL _zx_saddrpright_callee
435   0000              	GLOBAL _zx_saddrpright
436   0000              	GLOBAL _zx_saddrpleft_callee
437   0000              	GLOBAL _zx_saddrpleft
438   0000              	GLOBAL _zx_saddrpdown_fastcall
439   0000              	GLOBAL _zx_saddrpdown
440   0000              	GLOBAL _zx_saddrcup_fastcall
441   0000              	GLOBAL _zx_saddrcup
442   0000              	GLOBAL _zx_saddrcright_fastcall
443   0000              	GLOBAL _zx_saddrcright
444   0000              	GLOBAL _zx_saddrcleft_fastcall
445   0000              	GLOBAL _zx_saddrcleft
446   0000              	GLOBAL _zx_saddrcdown_fastcall
447   0000              	GLOBAL _zx_saddrcdown
448   0000              	GLOBAL _zx_saddr2py_fastcall
449   0000              	GLOBAL _zx_saddr2py
450   0000              	GLOBAL _zx_saddr2px_fastcall
451   0000              	GLOBAL _zx_saddr2px
452   0000              	GLOBAL _zx_saddr2cy_fastcall
453   0000              	GLOBAL _zx_saddr2cy
454   0000              	GLOBAL _zx_saddr2cx_fastcall
455   0000              	GLOBAL _zx_saddr2cx
456   0000              	GLOBAL _zx_saddr2aaddr_fastcall
457   0000              	GLOBAL _zx_saddr2aaddr
458   0000              	GLOBAL _zx_py2saddr_fastcall
459   0000              	GLOBAL _zx_py2saddr
460   0000              	GLOBAL _zx_py2aaddr_fastcall
461   0000              	GLOBAL _zx_py2aaddr
462   0000              	GLOBAL _zx_pxy2saddr_callee
463   0000              	GLOBAL _zx_pxy2saddr
464   0000              	GLOBAL _zx_pxy2aaddr_callee
465   0000              	GLOBAL _zx_pxy2aaddr
466   0000              	GLOBAL _zx_px2bitmask_fastcall
467   0000              	GLOBAL _zx_px2bitmask
468   0000              	GLOBAL _zx_cy2saddr_fastcall
469   0000              	GLOBAL _zx_cy2saddr
470   0000              	GLOBAL _zx_cy2aaddr_fastcall
471   0000              	GLOBAL _zx_cy2aaddr
472   0000              	GLOBAL _zx_cxy2saddr_callee
473   0000              	GLOBAL _zx_cxy2saddr
474   0000              	GLOBAL _zx_cxy2aaddr_callee
475   0000              	GLOBAL _zx_cxy2aaddr
476   0000              	GLOBAL _zx_bitmask2px_fastcall
477   0000              	GLOBAL _zx_bitmask2px
478   0000              	GLOBAL _zx_aaddrcup_fastcall
479   0000              	GLOBAL _zx_aaddrcup
480   0000              	GLOBAL _zx_aaddrcright_fastcall
481   0000              	GLOBAL _zx_aaddrcright
482   0000              	GLOBAL _zx_aaddrcleft_fastcall
483   0000              	GLOBAL _zx_aaddrcleft
484   0000              	GLOBAL _zx_aaddrcdown_fastcall
485   0000              	GLOBAL _zx_aaddrcdown
486   0000              	GLOBAL _zx_aaddr2saddr_fastcall
487   0000              	GLOBAL _zx_aaddr2saddr
488   0000              	GLOBAL _zx_aaddr2py_fastcall
489   0000              	GLOBAL _zx_aaddr2py
490   0000              	GLOBAL _zx_aaddr2px_fastcall
491   0000              	GLOBAL _zx_aaddr2px
492   0000              	GLOBAL _zx_aaddr2cy_fastcall
493   0000              	GLOBAL _zx_aaddr2cy
494   0000              	GLOBAL _zx_aaddr2cx_fastcall
495   0000              	GLOBAL _zx_aaddr2cx
496   0000              	GLOBAL _zx_visit_wc_pix_callee
497   0000              	GLOBAL _zx_visit_wc_pix
498   0000              	GLOBAL _zx_visit_wc_attr_callee
499   0000              	GLOBAL _zx_visit_wc_attr
500   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
501   0000              	GLOBAL _zx_scroll_wc_up_pix
502   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
503   0000              	GLOBAL _zx_scroll_wc_up_attr
504   0000              	GLOBAL _zx_scroll_wc_up_callee
505   0000              	GLOBAL _zx_scroll_wc_up
506   0000              	GLOBAL _zx_scroll_up_pix_callee
507   0000              	GLOBAL _zx_scroll_up_pix
508   0000              	GLOBAL _zx_scroll_up_attr_callee
509   0000              	GLOBAL _zx_scroll_up_attr
510   0000              	GLOBAL _zx_scroll_up_callee
511   0000              	GLOBAL _zx_scroll_up
512   0000              	GLOBAL _zx_cls_wc_pix_callee
513   0000              	GLOBAL _zx_cls_wc_pix
514   0000              	GLOBAL _zx_cls_wc_attr_callee
515   0000              	GLOBAL _zx_cls_wc_attr
516   0000              	GLOBAL _zx_cls_wc_callee
517   0000              	GLOBAL _zx_cls_wc
518   0000              	GLOBAL _zx_cls_pix_fastcall
519   0000              	GLOBAL _zx_cls_pix
520   0000              	GLOBAL _zx_cls_attr_fastcall
521   0000              	GLOBAL _zx_cls_attr
522   0000              	GLOBAL _zx_cls_fastcall
523   0000              	GLOBAL _zx_cls
524   0000              	GLOBAL _zx_border_fastcall
525   0000              	GLOBAL _zx_border
526   0000              	GLOBAL _sound_hit_brick
527   0000              	GLOBAL _sound_hit_enemy
528   0000              	GLOBAL _sound_kill
529   0000              	GLOBAL _sound_enter_enemy
530   0000              	GLOBAL _sound_coin
531   0000              	GLOBAL _sound_jump
532   0000              	GLOBAL _sound_slide
533   0000              	GLOBAL _player_lost_life
534   0000              	GLOBAL _player_hit
535   0000              	GLOBAL _player_open_door
536   0000              	GLOBAL _player_move_jump
537   0000              	GLOBAL _player_fire
538   0000              	GLOBAL _player_check_stairs_down
539   0000              	GLOBAL _player_check_stairs
540   0000              	GLOBAL _player_tile
541   0000              	GLOBAL _player_pick_item
542   0000              	GLOBAL _player_check_floor
543   0000              	GLOBAL _player_hit_platform_clear
544   0000              	GLOBAL _player_score_add
545   0000              	GLOBAL _player_player_hit_pow
546   0000              	GLOBAL _player_hit_platform
547   0000              	GLOBAL _player_move_input
548   0000              	GLOBAL _player_turn
549   0000              	GLOBAL _player_move
550   0000              	GLOBAL _player_restart
551   0000              	GLOBAL _player_kill
552   0000              	GLOBAL _player_check_input
553   0000              	GLOBAL _player_collision
554   0000              	GLOBAL _player_init
555   0000              	GLOBAL _game_obj_clear
556   0000              	GLOBAL _game_obj_chk
557   0000              	GLOBAL _game_obj_set
558   0000              	GLOBAL _game_shoot_fire
559   0000              	GLOBAL _game_add_enemy
560   0000              	GLOBAL _game_joystick_set_menu
561   0000              	GLOBAL _game_joystick_set
562   0000              	GLOBAL _game_joystick_change
563   0000              	GLOBAL _game_print_header
564   0000              	GLOBAL _game_end
565   0000              	GLOBAL _game_phase_print_score_back
566   0000              	GLOBAL _game_check_time
567   0000              	GLOBAL _game_rotate_attrib
568   0000              	GLOBAL _game_colour_message
569   0000              	GLOBAL _game_paint_attrib_lin_h
570   0000              	GLOBAL _game_paint_attrib_lin
571   0000              	GLOBAL _game_paint_attrib
572   0000              	GLOBAL _game_print_score
573   0000              	GLOBAL _game_unfreeze_all
574   0000              	GLOBAL _game_freeze_all
575   0000              	GLOBAL _game_freeze
576   0000              	GLOBAL _game_enemy_add_get_index
577   0000              	GLOBAL _game_check_cell
578   0000              	GLOBAL _game_check_map
579   0000              	GLOBAL _game_loop
580   0000              	GLOBAL _game_round_init
581   0000              	GLOBAL _game_start_timer
582   0000              	GLOBAL _game_tick
583   0000              	GLOBAL _game_update_stats
584   0000              	GLOBAL _game_print_footer
585   0000              	GLOBAL _game_fill_row
586   0000              	GLOBAL _game_fps
587   0000              	GLOBAL _game_respawn
588   0000              	GLOBAL _game_draw_screen
589   0000              	GLOBAL _enemy_avoid_fall_dead
590   0000              	GLOBAL _enemy_avoid_fall
591   0000              	GLOBAL _enemy_respawn
592   0000              	GLOBAL _enemy_init
593   0000              	GLOBAL _enemy_move
594   0000              	GLOBAL _enemy_turn
595   0000              	GLOBAL _enemy_hit
596   0000              	GLOBAL _enemy_coin1
597   0000              	GLOBAL _enemy_static
598   0000              	GLOBAL _enemy_walk
599   0000              	GLOBAL _enemy_horizontal
600   0000              	GLOBAL _enemy_vertical
601   0000              	GLOBAL _ay_fx_play
602   0000              	GLOBAL _ay_midi_play
603   0000              	GLOBAL _ay_is_playing
604   0000              	GLOBAL _ay_reset
605   0000              	GLOBAL _test_func
606   0000              	GLOBAL _test_proc
607   0000              	GLOBAL _in_mouse_kempston_wheel_delta
608   0000              	GLOBAL _in_mouse_kempston_wheel
609   0000              	GLOBAL _in_mouse_kempston_callee
610   0000              	GLOBAL _in_mouse_kempston
611   0000              	GLOBAL _in_mouse_kempston_setpos_callee
612   0000              	GLOBAL _in_mouse_kempston_setpos
613   0000              	GLOBAL _in_mouse_kempston_reset
614   0000              	GLOBAL _in_mouse_kempston_init
615   0000              	GLOBAL _in_mouse_amx_wheel_delta
616   0000              	GLOBAL _in_mouse_amx_wheel
617   0000              	GLOBAL _in_mouse_amx_callee
618   0000              	GLOBAL _in_mouse_amx
619   0000              	GLOBAL _in_mouse_amx_setpos_callee
620   0000              	GLOBAL _in_mouse_amx_setpos
621   0000              	GLOBAL _in_mouse_amx_reset
622   0000              	GLOBAL _in_mouse_amx_init_callee
623   0000              	GLOBAL _in_mouse_amx_init
624   0000              	GLOBAL _in_stick_sinclair2
625   0000              	GLOBAL _in_stick_sinclair1
626   0000              	GLOBAL _in_stick_kempston
627   0000              	GLOBAL _in_stick_fuller
628   0000              	GLOBAL _in_stick_cursor
629   0000              	GLOBAL _in_stick_keyboard_fastcall
630   0000              	GLOBAL _in_stick_keyboard
631   0000              	GLOBAL _in_wait_nokey
632   0000              	GLOBAL _in_wait_key
633   0000              	GLOBAL _in_test_key
634   0000              	GLOBAL _in_pause_fastcall
635   0000              	GLOBAL _in_pause
636   0000              	GLOBAL _in_key_scancode_fastcall
637   0000              	GLOBAL _in_key_scancode
638   0000              	GLOBAL _in_key_pressed_fastcall
639   0000              	GLOBAL _in_key_pressed
640   0000              	GLOBAL _in_inkey
641   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
642   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
643   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
644   0000              	GLOBAL _NIRVANAP_HOLE
645   0000              	GLOBAL _NIRVANAP_ISR_HOOK
646   0000              	GLOBAL _player_lvl_table
647   0000              	GLOBAL _map_paper_last
648   0000              	GLOBAL _map_paper_clr
649   0000              	GLOBAL _map_paper
650   0000              	GLOBAL _draw_count
651   0000              	GLOBAL _g_player_hit_right
652   0000              	GLOBAL _g_player_hit_left
653   0000              	GLOBAL _joynames
654   0000              	GLOBAL _initials
655   0000              	GLOBAL _bullet_count
656   0000              	GLOBAL _bullet_vel
657   0000              	GLOBAL _bullet_frames
658   0000              	GLOBAL _bullet_colint
659   0000              	GLOBAL _bullet_dir
660   0000              	GLOBAL _bullet_tile
661   0000              	GLOBAL _bullet_col
662   0000              	GLOBAL _bullet_lin
663   0000              	GLOBAL _bullet_col0
664   0000              	GLOBAL _bullet_lin0
665   0000              	GLOBAL _bullet_max
666   0000              	GLOBAL _bullet_class
667   0000              	GLOBAL _mush_class
668   0000              	GLOBAL _mush_index
669   0000              	GLOBAL _anim_count
670   0000              	GLOBAL _anim_respanwn
671   0000              	GLOBAL _anim_loop
672   0000              	GLOBAL _anim_end
673   0000              	GLOBAL _anim_int
674   0000              	GLOBAL _anim_tile
675   0000              	GLOBAL _anim_col
676   0000              	GLOBAL _anim_lin
677   0000              	GLOBAL _map_heigth
678   0000              	GLOBAL _map_width
679   0000              	GLOBAL _scr_curr
680   0000              	GLOBAL _scr_obj1
681   0000              	GLOBAL _scr_obj0
682   0000              	GLOBAL _scr_map
683   0000              	GLOBAL _sprite_speed_alt
684   0000              	GLOBAL _sprite_frames
685   0000              	GLOBAL _sprite_speed
686   0000              	GLOBAL _screen_ink
687   0000              	GLOBAL _screen_paper
688   0000              	GLOBAL _player_over_stair
689   0000              	GLOBAL _game_start_scr
690   0000              	GLOBAL _game_respawn_tile
691   0000              	GLOBAL _game_respawn_index
692   0000              	GLOBAL _game_respawn_time
693   0000              	GLOBAL _game_menu_sel
694   0000              	GLOBAL _game_score_top
695   0000              	GLOBAL _player_lives
696   0000              	GLOBAL _game_over
697   0000              	GLOBAL _game_sound
698   0000              	GLOBAL _game_inmune
699   0000              	GLOBAL _game_god_mode
700   0000              	GLOBAL _game_two_player
701   0000              	GLOBAL _game_brick_tile
702   0000              	GLOBAL _sprite_curr_index
703   0000              	GLOBAL _spr_count
704   0000              	GLOBAL _bullet_time
705   0000              	GLOBAL _anim_time
706   0000              	GLOBAL _frame_time
707   0000              	GLOBAL _entry_time
708   0000              	GLOBAL _curr_time
709   0000              	GLOBAL _s_state
710   0000              	GLOBAL _attrib_hl
711   0000              	GLOBAL _attrib
712   0000              	GLOBAL _zx_val_asm
713   0000              	GLOBAL _enemies
714   0000              	GLOBAL _tmp_ui
715   0000              	GLOBAL _tmp_sc
716   0000              	GLOBAL _tmp_uc
717   0000              	GLOBAL _tmp1
718   0000              	GLOBAL _tmp0
719   0000              	GLOBAL _tmp
720   0000              	GLOBAL _index1
721   0000              	GLOBAL _index0
722   0000              	GLOBAL _loop_count
723   0000              	GLOBAL _s_col1
724   0000              	GLOBAL _s_col0
725   0000              	GLOBAL _s_lin1
726   0000              	GLOBAL _s_lin0
727   0000              	GLOBAL _s_tile1
728   0000              	GLOBAL _s_tile0
729   0000              	GLOBAL _player_hit_count
730   0000              	GLOBAL _sprite_horizontal_check
731   0000              	GLOBAL _sprite_on_air
732   0000              	GLOBAL _sprite
733   0000              	GLOBAL _fps
734   0000              	GLOBAL _game_respawn_curr_time
735   0000              	GLOBAL _game_worldup
736   0000              	GLOBAL _game_world
737   0000              	GLOBAL _game_gravity
738   0000              	GLOBAL _player_hit_time
739   0000              	GLOBAL _player_lin_scr
740   0000              	GLOBAL _player_col_scr
741   0000              	GLOBAL _player_lvl
742   0000              	GLOBAL _player_int
743   0000              	GLOBAL _player_str
744   0000              	GLOBAL _player_max_vita
745   0000              	GLOBAL _player_max_mana
746   0000              	GLOBAL _player_vita
747   0000              	GLOBAL _player_mana
748   0000              	GLOBAL _player_keys
749   0000              	GLOBAL _player_vel_inc
750   0000              	GLOBAL _player_vel_y1
751   0000              	GLOBAL _player_vel_y0
752   0000              	GLOBAL _player_vel_y
753   0000              	GLOBAL _player_vel_x
754   0000              	GLOBAL _player_joy
755   0000              	GLOBAL _player_score
756   0000              	GLOBAL _last_time
757   0000              	GLOBAL _player_slide
758   0000              	GLOBAL _spr_timer
759   0000              	GLOBAL _jump_lin
760   0000              	GLOBAL _player_hit_col
761   0000              	GLOBAL _player_hit_lin
762   0000              	GLOBAL _colint
763   0000              	GLOBAL _col
764   0000              	GLOBAL _lin
765   0000              	GLOBAL _tile
766   0000              	GLOBAL _state_a
767   0000              	GLOBAL _state
768   0000              	GLOBAL _class
769   0000              	GLOBAL _tbuffer
770   0000              	GLOBAL _dirs
771   0000              	GLOBAL _k1
772   0000              	GLOBAL _joyfunc1
773   0000              	GLOBAL _btiles
774   0000              	GLOBAL _spec128
775   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
776   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
777   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
778   0000              	GLOBAL _ay_effect_20
779   0000              	GLOBAL _ay_effect_19
780   0000              	GLOBAL _ay_effect_18
781   0000              	GLOBAL _ay_effect_17
782   0000              	GLOBAL _ay_effect_16
783   0000              	GLOBAL _ay_effect_15
784   0000              	GLOBAL _ay_effect_14
785   0000              	GLOBAL _ay_effect_13
786   0000              	GLOBAL _ay_effect_12
787   0000              	GLOBAL _ay_effect_11
788   0000              	GLOBAL _ay_effect_10
789   0000              	GLOBAL _ay_effect_09
790   0000              	GLOBAL _ay_effect_08
791   0000              	GLOBAL _ay_effect_07
792   0000              	GLOBAL _ay_effect_06
793   0000              	GLOBAL _ay_effect_05
794   0000              	GLOBAL _ay_effect_04
795   0000              	GLOBAL _ay_effect_03
796   0000              	GLOBAL _ay_effect_02
797   0000              	GLOBAL _ay_effect_01
798   0000              	GLOBAL _pb_midi_phase_1
799   0000              	GLOBAL _pb_midi_title
800   0000              	GLOBAL _control_method
801   0000              	GLOBAL _world0
802   0000              	GLOBAL _lenght0
803   0000              	GLOBAL _start_scr0
804   0000              ;--------------------------------------------------------
805   0000              ; special function registers
806   0000              ;--------------------------------------------------------
807   0000              defc _IO_FE	=	0x00fe
808   0000              defc _IO_1FFD	=	0x1ffd
809   0000              defc _IO_7FFD	=	0x7ffd
810   0000              ;--------------------------------------------------------
811   0000              ; ram data
812   0000              ;--------------------------------------------------------
813   0000              	SECTION bss_compiler
814   0000              ;--------------------------------------------------------
815   0000              ; ram data
816   0000              ;--------------------------------------------------------
817   0000              
818   0000              IF 0
819   0000              
820   0000              ; .area _INITIALIZED removed by z88dk
821   0000              
822   0000              
823   0000              ENDIF
824   0000              
825   0000              ;--------------------------------------------------------
826   0000              ; absolute external ram data
827   0000              ;--------------------------------------------------------
828   0000              	SECTION IGNORE
829   0000              ;--------------------------------------------------------
830   0000              ; global & static initialisations
831   0000              ;--------------------------------------------------------
832   0000              	SECTION code_crt_init
833   0000              ;--------------------------------------------------------
834   0000              ; Home
835   0000              ;--------------------------------------------------------
836   0000              	SECTION IGNORE
837   0000              ;--------------------------------------------------------
838   0000              ; code
839   0000              ;--------------------------------------------------------
840   0000              	SECTION code_compiler
841   0000              ;	---------------------------------
842   0000              ; Function spr_calc_index
843   0000              ; ---------------------------------
844   0000              _spr_calc_index:
845   0000  CD 00 00    	call	___sdcc_enter_ix
846   0003  DD 4E 05    	ld	c,(ix+5)
847   0006  CB 39       	srl	c
848   0008  06 00       	ld	b,0x00
849   000A  DD 7E 04    	ld	a,(ix+4)
850   000D  07          	rlca
851   000E  07          	rlca
852   000F  07          	rlca
853   0010  07          	rlca
854   0011  E6 0F       	and	a,0x0f
855   0013  6F          	ld	l, a
856   0014  26 00       	ld	h,0x00
857   0016  29          	add	hl, hl
858   0017  29          	add	hl, hl
859   0018  29          	add	hl, hl
860   0019  29          	add	hl, hl
861   001A  09          	add	hl, bc
862   001B  DD E1       	pop	ix
863   001D  C9          	ret
864   001E              	SECTION code_compiler
865   001E              ;	---------------------------------
866   001E              ; Function spr_chktime
867   001E              ; ---------------------------------
868   001E              _spr_chktime:
869   001E  CD 00 00    	call	___sdcc_enter_ix
870   0021  5E          	ld	e,(hl)
871   0022  F5          	push	af
872   0023  16 00       	ld	d,0x00
873   0025  4D          	ld	c,l
874   0026  44          	ld	b,h
875   0027  21 00 00    	ld	hl,_sprite_speed_alt
876   002A  19          	add	hl, de
877   002B  7E          	ld	a, (hl)
878   002C  B7          	or	a,a
879   002D  20 15       	jr	NZ,l_spr_chktime_00102
880   002F  57          	ld	d,a
881   0030  21 00 00    	ld	hl,_class
882   0033  19          	add	hl, de
883   0034  56          	ld	d, (hl)
884   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
885   0037  82          	add	a, d
886   0038  6F          	ld	l, a
887   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
888   003B  CE 00       	adc	a,0x00
889   003D  67          	ld	h, a
890   003E  7E          	ld	a, (hl)
891   003F  32 00 00    	ld	(_tmp),a
892   0042  18 03       	jr	l_spr_chktime_00103
893   0044              l_spr_chktime_00102:
894   0044  32 00 00    	ld	(_tmp),a
895   0047              l_spr_chktime_00103:
896   0047  3A 00 00    	ld	a,(_tmp)
897   004A  DD 77 FE    	ld	(ix-2),a
898   004D  26 00       	ld	h,0x00
899   004F  DD 74 FF    	ld	(ix-1),h
900   0052  6B          	ld	l, e
901   0053  29          	add	hl, hl
902   0054  11 00 00    	ld	de,_last_time
903   0057  19          	add	hl, de
904   0058  5E          	ld	e, (hl)
905   0059  23          	inc	hl
906   005A  56          	ld	d, (hl)
907   005B  C5          	push	bc
908   005C  DD 6E FE    	ld	l,(ix-2)
909   005F  DD 66 FF    	ld	h,(ix-1)
910   0062  E5          	push	hl
911   0063  D5          	push	de
912   0064  CD 00 00    	call	_game_check_time
913   0067  F1          	pop	af
914   0068  F1          	pop	af
915   0069  C1          	pop	bc
916   006A  7D          	ld	a,l
917   006B  B7          	or	a, a
918   006C  28 14       	jr	Z,l_spr_chktime_00105
919   006E  0A          	ld	a, (bc)
920   006F  6F          	ld	l, a
921   0070  26 00       	ld	h,0x00
922   0072  29          	add	hl, hl
923   0073  01 00 00    	ld	bc,_last_time
924   0076  09          	add	hl,bc
925   0077  ED 5B 00 00 	ld	de,(_curr_time)
926   007B  73          	ld	(hl),e
927   007C  23          	inc	hl
928   007D  72          	ld	(hl),d
929   007E  2E 01       	ld	l,0x01
930   0080  18 02       	jr	l_spr_chktime_00106
931   0082              l_spr_chktime_00105:
932   0082  2E 00       	ld	l,0x00
933   0084              l_spr_chktime_00106:
934   0084  F1          	pop	af
935   0085  DD E1       	pop	ix
936   0087  C9          	ret
937   0088              	SECTION code_compiler
938   0088              ;	---------------------------------
939   0088              ; Function spr_move_up
940   0088              ; ---------------------------------
941   0088              _spr_move_up:
942   0088  2A 00 00    	ld	hl,(_sprite)
943   008B  26 00       	ld	h,0x00
944   008D  01 00 00    	ld	bc,_lin
945   0090  09          	add	hl,bc
946   0091  7E          	ld	a,(hl)
947   0092  C6 FE       	add	a,0xfe
948   0094  32 00 00    	ld	(_s_lin1),a
949   0097  07          	rlca
950   0098  07          	rlca
951   0099  07          	rlca
952   009A  07          	rlca
953   009B  E6 0F       	and	a,0x0f
954   009D  4F          	ld	c, a
955   009E  3A 00 00    	ld	a,(_s_lin0)
956   00A1  07          	rlca
957   00A2  07          	rlca
958   00A3  07          	rlca
959   00A4  07          	rlca
960   00A5  E6 0F       	and	a,0x0f
961   00A7  47          	ld	b, a
962   00A8  79          	ld	a, c
963   00A9  90          	sub	a, b
964   00AA  20 04       	jr	NZ,l_spr_move_up_00122
965   00AC  3E 01       	ld	a,0x01
966   00AE  18 01       	jr	l_spr_move_up_00123
967   00B0              l_spr_move_up_00122:
968   00B0  AF          	xor	a,a
969   00B1              l_spr_move_up_00123:
970   00B1  EE 01       	xor	a,0x01
971   00B3  28 1D       	jr	Z,l_spr_move_up_00104
972   00B5  2A 00 00    	ld	hl,(_sprite)
973   00B8  26 00       	ld	h,0x00
974   00BA  01 00 00    	ld	bc,_col
975   00BD  09          	add	hl,bc
976   00BE  7E          	ld	a,(hl)
977   00BF  F5          	push	af
978   00C0  33          	inc	sp
979   00C1  3A 00 00    	ld	a,(_s_lin1)
980   00C4  F5          	push	af
981   00C5  33          	inc	sp
982   00C6  CD 00 00    	call	_game_check_map
983   00C9  F1          	pop	af
984   00CA  7C          	ld	a,h
985   00CB  B5          	or	a,l
986   00CC  28 04       	jr	Z,l_spr_move_up_00104
987   00CE  2E 01       	ld	l,0x01
988   00D0  18 1F       	jr	l_spr_move_up_00108
989   00D2              l_spr_move_up_00104:
990   00D2  2A 00 00    	ld	hl,(_sprite)
991   00D5  26 00       	ld	h,0x00
992   00D7  01 00 00    	ld	bc,_lin
993   00DA  09          	add	hl,bc
994   00DB  3E 90       	ld	a,0x90
995   00DD  4D          	ld	c,l
996   00DE  44          	ld	b,h
997   00DF  21 00 00    	ld	hl,_s_lin1
998   00E2  96          	sub	a, (hl)
999   00E3  30 06       	jr	NC,l_spr_move_up_00106
1000  00E5  AF          	xor	a, a
1001  00E6  02          	ld	(bc), a
1002  00E7  2E 01       	ld	l,0x01
1003  00E9  18 06       	jr	l_spr_move_up_00108
1004  00EB              l_spr_move_up_00106:
1005  00EB  3A 00 00    	ld	a,(_s_lin1)
1006  00EE  02          	ld	(bc), a
1007  00EF  2E 00       	ld	l,0x00
1008  00F1              l_spr_move_up_00108:
1009  00F1  C9          	ret
1010  00F2              	SECTION code_compiler
1011  00F2              ;	---------------------------------
1012  00F2              ; Function spr_move_down
1013  00F2              ; ---------------------------------
1014  00F2              _spr_move_down:
1015  00F2  2A 00 00    	ld	hl,(_sprite)
1016  00F5  26 00       	ld	h,0x00
1017  00F7  01 00 00    	ld	bc,_lin
1018  00FA  09          	add	hl,bc
1019  00FB  7E          	ld	a,(hl)
1020  00FC  C6 10       	add	a,0x10
1021  00FE  32 00 00    	ld	(_s_lin1),a
1022  0101  07          	rlca
1023  0102  07          	rlca
1024  0103  07          	rlca
1025  0104  07          	rlca
1026  0105  E6 0F       	and	a,0x0f
1027  0107  4F          	ld	c, a
1028  0108  3A 00 00    	ld	a,(_s_lin0)
1029  010B  07          	rlca
1030  010C  07          	rlca
1031  010D  07          	rlca
1032  010E  07          	rlca
1033  010F  E6 0F       	and	a,0x0f
1034  0111  47          	ld	b, a
1035  0112  79          	ld	a, c
1036  0113  90          	sub	a, b
1037  0114  20 04       	jr	NZ,l_spr_move_down_00122
1038  0116  3E 01       	ld	a,0x01
1039  0118  18 01       	jr	l_spr_move_down_00123
1040  011A              l_spr_move_down_00122:
1041  011A  AF          	xor	a,a
1042  011B              l_spr_move_down_00123:
1043  011B  EE 01       	xor	a,0x01
1044  011D  28 1D       	jr	Z,l_spr_move_down_00104
1045  011F  2A 00 00    	ld	hl,(_sprite)
1046  0122  26 00       	ld	h,0x00
1047  0124  01 00 00    	ld	bc,_col
1048  0127  09          	add	hl,bc
1049  0128  7E          	ld	a,(hl)
1050  0129  F5          	push	af
1051  012A  33          	inc	sp
1052  012B  3A 00 00    	ld	a,(_s_lin1)
1053  012E  F5          	push	af
1054  012F  33          	inc	sp
1055  0130  CD 00 00    	call	_game_check_map
1056  0133  F1          	pop	af
1057  0134  7C          	ld	a,h
1058  0135  B5          	or	a,l
1059  0136  28 04       	jr	Z,l_spr_move_down_00104
1060  0138  2E 01       	ld	l,0x01
1061  013A  18 22       	jr	l_spr_move_down_00108
1062  013C              l_spr_move_down_00104:
1063  013C  2A 00 00    	ld	hl,(_sprite)
1064  013F  26 00       	ld	h,0x00
1065  0141  01 00 00    	ld	bc,_lin
1066  0144  09          	add	hl,bc
1067  0145  3E 90       	ld	a,0x90
1068  0147  4D          	ld	c,l
1069  0148  44          	ld	b,h
1070  0149  21 00 00    	ld	hl,_s_lin1
1071  014C  96          	sub	a, (hl)
1072  014D  30 07       	jr	NC,l_spr_move_down_00106
1073  014F  3E 90       	ld	a,0x90
1074  0151  02          	ld	(bc), a
1075  0152  2E 01       	ld	l,0x01
1076  0154  18 08       	jr	l_spr_move_down_00108
1077  0156              l_spr_move_down_00106:
1078  0156  3A 00 00    	ld	a,(_s_lin1)
1079  0159  C6 F2       	add	a,0xf2
1080  015B  02          	ld	(bc), a
1081  015C  2E 00       	ld	l,0x00
1082  015E              l_spr_move_down_00108:
1083  015E  C9          	ret
1084  015F              	SECTION code_compiler
1085  015F              ;	---------------------------------
1086  015F              ; Function spr_move_horizontal
1087  015F              ; ---------------------------------
1088  015F              _spr_move_horizontal:
1089  015F  2A 00 00    	ld	hl,(_sprite)
1090  0162  26 00       	ld	h,0x00
1091  0164  01 00 00    	ld	bc,_state
1092  0167  09          	add	hl,bc
1093  0168  7E          	ld	a,(hl)
1094  0169  CB 57       	bit	2, a
1095  016B  28 05       	jr	Z,l_spr_move_horizontal_00104
1096  016D  CD 7E 01    	call	_spr_move_right
1097  0170  18 0B       	jr	l_spr_move_horizontal_00106
1098  0172              l_spr_move_horizontal_00104:
1099  0172  CB 5F       	bit	3, a
1100  0174  28 05       	jr	Z,l_spr_move_horizontal_00105
1101  0176  CD 7D 02    	call	_spr_move_left
1102  0179  18 02       	jr	l_spr_move_horizontal_00106
1103  017B              l_spr_move_horizontal_00105:
1104  017B  2E 00       	ld	l,0x00
1105  017D              l_spr_move_horizontal_00106:
1106  017D  C9          	ret
1107  017E              	SECTION code_compiler
1108  017E              ;	---------------------------------
1109  017E              ; Function spr_move_right
1110  017E              ; ---------------------------------
1111  017E              _spr_move_right:
1112  017E  2A 00 00    	ld	hl,(_sprite)
1113  0181  26 00       	ld	h,0x00
1114  0183  01 00 00    	ld	bc,_colint
1115  0186  09          	add	hl,bc
1116  0187  7E          	ld	a,(hl)
1117  0188  3C          	inc	a
1118  0189  77          	ld	(hl),a
1119  018A  4F          	ld	c,a
1120  018B  3A 00 00    	ld	a,(_sprite)
1121  018E  5F          	ld	e,a
1122  018F  16 00       	ld	d,0x00
1123  0191  21 00 00    	ld	hl,_class
1124  0194  19          	add	hl,de
1125  0195  5E          	ld	e, (hl)
1126  0196  16 00       	ld	d,0x00
1127  0198  21 00 00    	ld	hl,_sprite_frames
1128  019B  19          	add	hl, de
1129  019C  7E          	ld	a, (hl)
1130  019D  91          	sub	a, c
1131  019E  C2 7A 02    	jp	NZ,l_spr_move_right_00118
1132  01A1  2A 00 00    	ld	hl,(_sprite)
1133  01A4  26 00       	ld	h,0x00
1134  01A6  01 00 00    	ld	bc,_lin
1135  01A9  09          	add	hl,bc
1136  01AA  7E          	ld	a,(hl)
1137  01AB  32 00 00    	ld	(_s_lin1),a
1138  01AE  2A 00 00    	ld	hl,(_sprite)
1139  01B1  26 00       	ld	h,0x00
1140  01B3  01 00 00    	ld	bc,_col
1141  01B6  09          	add	hl,bc
1142  01B7  7E          	ld	a,(hl)
1143  01B8  FE 1E       	cp	a,0x1e
1144  01BA  30 61       	jr	NC,l_spr_move_right_00108
1145  01BC  3C          	inc	a
1146  01BD  32 00 00    	ld	(_s_col1),a
1147  01C0  21 00 00    	ld	hl,_sprite_horizontal_check
1148  01C3  36 01       	ld	(hl),0x01
1149  01C5  2A FF FF    	ld	hl,(_s_col1 - 1)
1150  01C8  3A 00 00    	ld	a,(_s_lin1)
1151  01CB  6F          	ld	l,a
1152  01CC  E5          	push	hl
1153  01CD  CD 00 00    	call	_game_check_map
1154  01D0  F1          	pop	af
1155  01D1  7D          	ld	a,l
1156  01D2  32 00 00    	ld	(_tmp0),a
1157  01D5  B7          	or	a, a
1158  01D6  20 16       	jr	NZ,l_spr_move_right_00102
1159  01D8  3A 00 00    	ld	a,(_s_lin1)
1160  01DB  C6 0F       	add	a,0x0f
1161  01DD  4F          	ld	c, a
1162  01DE  3A 00 00    	ld	a,(_s_col1)
1163  01E1  F5          	push	af
1164  01E2  33          	inc	sp
1165  01E3  79          	ld	a, c
1166  01E4  F5          	push	af
1167  01E5  33          	inc	sp
1168  01E6  CD 00 00    	call	_game_check_map
1169  01E9  F1          	pop	af
1170  01EA  7D          	ld	a,l
1171  01EB  32 00 00    	ld	(_tmp0),a
1172  01EE              l_spr_move_right_00102:
1173  01EE  21 00 00    	ld	hl,_sprite_horizontal_check
1174  01F1  36 00       	ld	(hl),0x00
1175  01F3  3A 00 00    	ld	a,(_tmp0)
1176  01F6  B7          	or	a, a
1177  01F7  28 24       	jr	Z,l_spr_move_right_00108
1178  01F9  2A 00 00    	ld	hl,(_sprite)
1179  01FC  26 00       	ld	h,0x00
1180  01FE  01 00 00    	ld	bc,_colint
1181  0201  09          	add	hl,bc
1182  0202  7E          	ld	a,(hl)
1183  0203  C6 FF       	add	a,0xff
1184  0205  77          	ld	(hl),a
1185  0206  3A 00 00    	ld	a,(_sprite_on_air)
1186  0209  B7          	or	a,a
1187  020A  20 0D       	jr	NZ,l_spr_move_right_00104
1188  020C  2A 00 00    	ld	hl,(_sprite)
1189  020F  26 00       	ld	h,0x00
1190  0211  01 00 00    	ld	bc,_colint
1191  0214  09          	add	hl,bc
1192  0215  7E          	ld	a,(hl)
1193  0216  C6 FF       	add	a,0xff
1194  0218  77          	ld	(hl),a
1195  0219              l_spr_move_right_00104:
1196  0219  2E 01       	ld	l,0x01
1197  021B  18 5F       	jr	l_spr_move_right_00119
1198  021D              l_spr_move_right_00108:
1199  021D  2A 00 00    	ld	hl,(_sprite)
1200  0220  26 00       	ld	h,0x00
1201  0222  01 00 00    	ld	bc,_col
1202  0225  09          	add	hl,bc
1203  0226  34          	inc	(hl)
1204  0227  2A 00 00    	ld	hl,(_sprite)
1205  022A  26 00       	ld	h,0x00
1206  022C  01 00 00    	ld	bc,_colint
1207  022F  09          	add	hl,bc
1208  0230  AF          	xor	a,a
1209  0231  77          	ld	(hl),a
1210  0232  2A 00 00    	ld	hl,(_sprite)
1211  0235  26 00       	ld	h,0x00
1212  0237  01 00 00    	ld	bc,_col
1213  023A  09          	add	hl,bc
1214  023B  5E          	ld	e,(hl)
1215  023C  3E 1E       	ld	a,0x1e
1216  023E  93          	sub	a,e
1217  023F  30 39       	jr	NC,l_spr_move_right_00118
1218  0241  3A 00 00    	ld	a,(_sprite)
1219  0244  D6 07       	sub	a,0x07
1220  0246  28 04       	jr	Z,l_spr_move_right_00156
1221  0248  4D          	ld	c,l
1222  0249  44          	ld	b,h
1223  024A  18 27       	jr	l_spr_move_right_00113
1224  024C              l_spr_move_right_00156:
1225  024C  CD 81 03    	call	_spr_page_right
1226  024F  3A 00 00    	ld	a,(_sprite)
1227  0252  C6 00       	add	a,+((_col) & 0xFF)
1228  0254  4D          	ld	c,l
1229  0255  5F          	ld	e,a
1230  0256  3E 00       	ld	a,+((_col) / 256)
1231  0258  CE 00       	adc	a,0x00
1232  025A  57          	ld	d,a
1233  025B  79          	ld	a, c
1234  025C  B7          	or	a, a
1235  025D  28 0F       	jr	Z,l_spr_move_right_00110
1236  025F  AF          	xor	a, a
1237  0260  12          	ld	(de), a
1238  0261  3A 07 00    	ld	a,(_lin + 7)
1239  0264  32 00 00    	ld	(_player_lin_scr),a
1240  0267  21 00 00    	ld	hl,_player_col_scr
1241  026A  36 00       	ld	(hl),0x00
1242  026C  18 08       	jr	l_spr_move_right_00114
1243  026E              l_spr_move_right_00110:
1244  026E  3E 1E       	ld	a,0x1e
1245  0270  12          	ld	(de), a
1246  0271  18 03       	jr	l_spr_move_right_00114
1247  0273              l_spr_move_right_00113:
1248  0273  3E 1E       	ld	a,0x1e
1249  0275  02          	ld	(bc), a
1250  0276              l_spr_move_right_00114:
1251  0276  2E 01       	ld	l,0x01
1252  0278  18 02       	jr	l_spr_move_right_00119
1253  027A              l_spr_move_right_00118:
1254  027A  2E 00       	ld	l,0x00
1255  027C              l_spr_move_right_00119:
1256  027C  C9          	ret
1257  027D              	SECTION code_compiler
1258  027D              ;	---------------------------------
1259  027D              ; Function spr_move_left
1260  027D              ; ---------------------------------
1261  027D              _spr_move_left:
1262  027D  2A 00 00    	ld	hl,(_sprite)
1263  0280  26 00       	ld	h,0x00
1264  0282  01 00 00    	ld	bc,_colint
1265  0285  09          	add	hl,bc
1266  0286  7E          	ld	a,(hl)
1267  0287  C6 FF       	add	a,0xff
1268  0289  77          	ld	(hl),a
1269  028A  2A 00 00    	ld	hl,(_sprite)
1270  028D  26 00       	ld	h,0x00
1271  028F  01 00 00    	ld	bc,_colint
1272  0292  09          	add	hl,bc
1273  0293  7E          	ld	a,(hl)
1274  0294  3C          	inc	a
1275  0295  C2 7E 03    	jp	NZ,l_spr_move_left_00118
1276  0298  2A 00 00    	ld	hl,(_sprite)
1277  029B  26 00       	ld	h,0x00
1278  029D  01 00 00    	ld	bc,_lin
1279  02A0  09          	add	hl,bc
1280  02A1  7E          	ld	a,(hl)
1281  02A2  32 00 00    	ld	(_s_lin1),a
1282  02A5  2A 00 00    	ld	hl,(_sprite)
1283  02A8  26 00       	ld	h,0x00
1284  02AA  01 00 00    	ld	bc,_col
1285  02AD  09          	add	hl,bc
1286  02AE  7E          	ld	a,(hl)
1287  02AF  B7          	or	a, a
1288  02B0  28 5C       	jr	Z,l_spr_move_left_00108
1289  02B2  C6 FF       	add	a,0xff
1290  02B4  32 00 00    	ld	(_s_col1),a
1291  02B7  21 00 00    	ld	hl,_sprite_horizontal_check
1292  02BA  36 01       	ld	(hl),0x01
1293  02BC  2A FF FF    	ld	hl,(_s_col1 - 1)
1294  02BF  3A 00 00    	ld	a,(_s_lin1)
1295  02C2  6F          	ld	l,a
1296  02C3  E5          	push	hl
1297  02C4  CD 00 00    	call	_game_check_map
1298  02C7  F1          	pop	af
1299  02C8  7D          	ld	a,l
1300  02C9  32 00 00    	ld	(_tmp0),a
1301  02CC  B7          	or	a, a
1302  02CD  20 16       	jr	NZ,l_spr_move_left_00102
1303  02CF  3A 00 00    	ld	a,(_s_lin1)
1304  02D2  C6 0F       	add	a,0x0f
1305  02D4  4F          	ld	c, a
1306  02D5  3A 00 00    	ld	a,(_s_col1)
1307  02D8  F5          	push	af
1308  02D9  33          	inc	sp
1309  02DA  79          	ld	a, c
1310  02DB  F5          	push	af
1311  02DC  33          	inc	sp
1312  02DD  CD 00 00    	call	_game_check_map
1313  02E0  F1          	pop	af
1314  02E1  7D          	ld	a,l
1315  02E2  32 00 00    	ld	(_tmp0),a
1316  02E5              l_spr_move_left_00102:
1317  02E5  21 00 00    	ld	hl,_sprite_horizontal_check
1318  02E8  36 00       	ld	(hl),0x00
1319  02EA  3A 00 00    	ld	a,(_tmp0)
1320  02ED  B7          	or	a, a
1321  02EE  28 1E       	jr	Z,l_spr_move_left_00108
1322  02F0  2A 00 00    	ld	hl,(_sprite)
1323  02F3  26 00       	ld	h,0x00
1324  02F5  01 00 00    	ld	bc,_colint
1325  02F8  09          	add	hl,bc
1326  02F9  34          	inc	(hl)
1327  02FA  3A 00 00    	ld	a,(_sprite_on_air)
1328  02FD  B7          	or	a,a
1329  02FE  20 0A       	jr	NZ,l_spr_move_left_00104
1330  0300  2A 00 00    	ld	hl,(_sprite)
1331  0303  26 00       	ld	h,0x00
1332  0305  01 00 00    	ld	bc,_colint
1333  0308  09          	add	hl,bc
1334  0309  34          	inc	(hl)
1335  030A              l_spr_move_left_00104:
1336  030A  2E 01       	ld	l,0x01
1337  030C  18 72       	jr	l_spr_move_left_00119
1338  030E              l_spr_move_left_00108:
1339  030E  2A 00 00    	ld	hl,(_sprite)
1340  0311  26 00       	ld	h,0x00
1341  0313  01 00 00    	ld	bc,_col
1342  0316  09          	add	hl,bc
1343  0317  7E          	ld	a,(hl)
1344  0318  C6 FF       	add	a,0xff
1345  031A  77          	ld	(hl),a
1346  031B  2A 00 00    	ld	hl,(_sprite)
1347  031E  26 00       	ld	h,0x00
1348  0320  01 00 00    	ld	bc,_colint
1349  0323  09          	add	hl,bc
1350  0324  3A 00 00    	ld	a,(_sprite)
1351  0327  5F          	ld	e,a
1352  0328  16 00       	ld	d,0x00
1353  032A  4D          	ld	c,l
1354  032B  44          	ld	b,h
1355  032C  21 00 00    	ld	hl,_class
1356  032F  19          	add	hl,de
1357  0330  5E          	ld	e, (hl)
1358  0331  16 00       	ld	d,0x00
1359  0333  21 00 00    	ld	hl,_sprite_frames
1360  0336  19          	add	hl, de
1361  0337  5E          	ld	e, (hl)
1362  0338  1D          	dec	e
1363  0339  7B          	ld	a, e
1364  033A  02          	ld	(bc), a
1365  033B  2A 00 00    	ld	hl,(_sprite)
1366  033E  26 00       	ld	h,0x00
1367  0340  01 00 00    	ld	bc,_col
1368  0343  09          	add	hl,bc
1369  0344  7E          	ld	a,(hl)
1370  0345  3C          	inc	a
1371  0346  20 36       	jr	NZ,l_spr_move_left_00118
1372  0348  3A 00 00    	ld	a,(_sprite)
1373  034B  D6 07       	sub	a,0x07
1374  034D  4D          	ld	c,l
1375  034E  44          	ld	b,h
1376  034F  20 27       	jr	NZ,l_spr_move_left_00113
1377  0351  CD 9B 03    	call	_spr_page_left
1378  0354  3A 00 00    	ld	a,(_sprite)
1379  0357  C6 00       	add	a,+((_col) & 0xFF)
1380  0359  4D          	ld	c,l
1381  035A  5F          	ld	e,a
1382  035B  3E 00       	ld	a,+((_col) / 256)
1383  035D  CE 00       	adc	a,0x00
1384  035F  57          	ld	d,a
1385  0360  79          	ld	a, c
1386  0361  B7          	or	a, a
1387  0362  28 10       	jr	Z,l_spr_move_left_00110
1388  0364  3E 1E       	ld	a,0x1e
1389  0366  12          	ld	(de), a
1390  0367  3A 07 00    	ld	a,(_lin + 7)
1391  036A  32 00 00    	ld	(_player_lin_scr),a
1392  036D  21 00 00    	ld	hl,_player_col_scr
1393  0370  36 1E       	ld	(hl),0x1e
1394  0372  18 06       	jr	l_spr_move_left_00114
1395  0374              l_spr_move_left_00110:
1396  0374  AF          	xor	a, a
1397  0375  12          	ld	(de), a
1398  0376  18 02       	jr	l_spr_move_left_00114
1399  0378              l_spr_move_left_00113:
1400  0378  AF          	xor	a, a
1401  0379  02          	ld	(bc), a
1402  037A              l_spr_move_left_00114:
1403  037A  2E 01       	ld	l,0x01
1404  037C  18 02       	jr	l_spr_move_left_00119
1405  037E              l_spr_move_left_00118:
1406  037E  2E 00       	ld	l,0x00
1407  0380              l_spr_move_left_00119:
1408  0380  C9          	ret
1409  0381              	SECTION code_compiler
1410  0381              ;	---------------------------------
1411  0381              ; Function spr_page_right
1412  0381              ; ---------------------------------
1413  0381              _spr_page_right:
1414  0381  3A 00 00    	ld	a,(_scr_curr)
1415  0384  21 00 00    	ld	hl,_map_width
1416  0387  96          	sub	a, (hl)
1417  0388  30 0E       	jr	NC,l_spr_page_right_00102
1418  038A  21 00 00    	ld	hl,_scr_curr
1419  038D  34          	inc	(hl)
1420  038E  CD C1 03    	call	_spr_page_map
1421  0391  CD 00 00    	call	_game_draw_screen
1422  0394  2E 01       	ld	l,0x01
1423  0396  18 02       	jr	l_spr_page_right_00103
1424  0398              l_spr_page_right_00102:
1425  0398  2E 00       	ld	l,0x00
1426  039A              l_spr_page_right_00103:
1427  039A  C9          	ret
1428  039B              	SECTION code_compiler
1429  039B              ;	---------------------------------
1430  039B              ; Function spr_page_left
1431  039B              ; ---------------------------------
1432  039B              _spr_page_left:
1433  039B  2A 00 00    	ld	hl,(_sprite)
1434  039E  26 00       	ld	h,0x00
1435  03A0  01 00 00    	ld	bc,_class
1436  03A3  09          	add	hl,bc
1437  03A4  7E          	ld	a,(hl)
1438  03A5  B7          	or	a, a
1439  03A6  28 04       	jr	Z,l_spr_page_left_00102
1440  03A8  2E 00       	ld	l,0x00
1441  03AA  18 14       	jr	l_spr_page_left_00105
1442  03AC              l_spr_page_left_00102:
1443  03AC  21 00 00    	ld	hl,_scr_curr
1444  03AF  7E          	ld	a, (hl)
1445  03B0  B7          	or	a, a
1446  03B1  28 0B       	jr	Z,l_spr_page_left_00104
1447  03B3  35          	dec	(hl)
1448  03B4  CD C1 03    	call	_spr_page_map
1449  03B7  CD 00 00    	call	_game_draw_screen
1450  03BA  2E 01       	ld	l,0x01
1451  03BC  18 02       	jr	l_spr_page_left_00105
1452  03BE              l_spr_page_left_00104:
1453  03BE  2E 00       	ld	l,0x00
1454  03C0              l_spr_page_left_00105:
1455  03C0  C9          	ret
1456  03C1              	SECTION code_compiler
1457  03C1              ;	---------------------------------
1458  03C1              ; Function spr_page_map
1459  03C1              ; ---------------------------------
1460  03C1              _spr_page_map:
1461  03C1  CD 00 00    	call	___sdcc_enter_ix
1462  03C4  F5          	push	af
1463  03C5  F5          	push	af
1464  03C6  F5          	push	af
1465  03C7  F5          	push	af
1466  03C8  DD 36 FA 10 	ld	(ix-6),0x10
1467  03CC  F3          	di
1468  03CD  3E 16       	ld	a,0x16
1469  03CF  01 FD 7F    	ld	bc,_IO_7FFD
1470  03D2  ED 79       	out	(c),a
1471  03D4  21 00 00    	ld	hl,_start_scr0
1472  03D7  4E          	ld	c, (hl)
1473  03D8  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1474  03DB  36 10       	ld	(hl),0x10
1475  03DD  C5          	push	bc
1476  03DE  3E 10       	ld	a,0x10
1477  03E0  01 FD 7F    	ld	bc,_IO_7FFD
1478  03E3  ED 79       	out	(c),a
1479  03E5  C1          	pop	bc
1480  03E6  21 00 00    	ld	hl,_game_start_scr
1481  03E9  71          	ld	(hl), c
1482  03EA  01 00 00    	ld	bc,0x0000
1483  03ED  3A 00 00    	ld	a,(_scr_curr)
1484  03F0  3C          	inc	a
1485  03F1  20 06       	jr	NZ,l_spr_page_map_00133
1486  03F3  3A 00 00    	ld	a,(_game_start_scr)
1487  03F6  32 00 00    	ld	(_scr_curr),a
1488  03F9              l_spr_page_map_00133:
1489  03F9  11 00 00    	ld	de,_lenght0+0
1490  03FC  DD 36 FB 00 	ld	(ix-5),0x00
1491  0400              l_spr_page_map_00103:
1492  0400  DD 7E FB    	ld	a,(ix-5)
1493  0403  21 00 00    	ld	hl,_scr_curr
1494  0406  96          	sub	a, (hl)
1495  0407  30 34       	jr	NC,l_spr_page_map_00105
1496  0409  C5          	push	bc
1497  040A  3E 16       	ld	a,0x16
1498  040C  01 FD 7F    	ld	bc,_IO_7FFD
1499  040F  ED 79       	out	(c),a
1500  0411  C1          	pop	bc
1501  0412  DD 6E FB    	ld	l,(ix-5)
1502  0415  26 00       	ld	h,0x00
1503  0417  19          	add	hl, de
1504  0418  6E          	ld	l, (hl)
1505  0419  DD 75 F8    	ld	(ix-8),l
1506  041C  DD 36 F9 00 	ld	(ix-7),0x00
1507  0420  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1508  0423  36 10       	ld	(hl),0x10
1509  0425  C5          	push	bc
1510  0426  3E 10       	ld	a,0x10
1511  0428  01 FD 7F    	ld	bc,_IO_7FFD
1512  042B  ED 79       	out	(c),a
1513  042D  C1          	pop	bc
1514  042E  79          	ld	a, c
1515  042F  DD 86 F8    	add	a,(ix-8)
1516  0432  4F          	ld	c, a
1517  0433  78          	ld	a, b
1518  0434  DD 8E F9    	adc	a,(ix-7)
1519  0437  47          	ld	b, a
1520  0438  DD 34 FB    	inc	(ix-5)
1521  043B  18 C3       	jr	l_spr_page_map_00103
1522  043D              l_spr_page_map_00105:
1523  043D  FB          	ei
1524  043E  F3          	di
1525  043F  DD 36 FC 00 	ld	(ix-4),0x00
1526  0443              l_spr_page_map_00125:
1527  0443  C5          	push	bc
1528  0444  3E 16       	ld	a,0x16
1529  0446  01 FD 7F    	ld	bc,_IO_7FFD
1530  0449  ED 79       	out	(c),a
1531  044B  C1          	pop	bc
1532  044C  DD 6E FC    	ld	l,(ix-4)
1533  044F  26 00       	ld	h,0x00
1534  0451  09          	add	hl,bc
1535  0452  EB          	ex	de,hl
1536  0453  21 00 00    	ld	hl,_world0
1537  0456  19          	add	hl, de
1538  0457  7E          	ld	a, (hl)
1539  0458  DD 77 FF    	ld	(ix-1),a
1540  045B  13          	inc	de
1541  045C  21 00 00    	ld	hl,_world0
1542  045F  19          	add	hl, de
1543  0460  7E          	ld	a, (hl)
1544  0461  DD 77 FE    	ld	(ix-2),a
1545  0464  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1546  0467  36 10       	ld	(hl),0x10
1547  0469  C5          	push	bc
1548  046A  3E 10       	ld	a,0x10
1549  046C  01 FD 7F    	ld	bc,_IO_7FFD
1550  046F  ED 79       	out	(c),a
1551  0471  C1          	pop	bc
1552  0472  DD 7E FF    	ld	a,(ix-1)
1553  0475  D6 80       	sub	a,0x80
1554  0477  30 2B       	jr	NC,l_spr_page_map_00116
1555  0479  DD 5E FA    	ld	e,(ix-6)
1556  047C  16 00       	ld	d,0x00
1557  047E  C5          	push	bc
1558  047F  D5          	push	de
1559  0480  CD 00 00    	call	_game_obj_chk
1560  0483  F1          	pop	af
1561  0484  C1          	pop	bc
1562  0485  55          	ld	d,l
1563  0486  3E 00       	ld	a, +((_scr_map) & 0xFF)
1564  0488  DD 86 FA    	add	a,(ix-6)
1565  048B  5F          	ld	e, a
1566  048C  3E 00       	ld	a, +((_scr_map) / 256)
1567  048E  CE 00       	adc	a,0x00
1568  0490  67          	ld	h, a
1569  0491  7A          	ld	a, d
1570  0492  B7          	or	a, a
1571  0493  20 07       	jr	NZ,l_spr_page_map_00107
1572  0495  6B          	ld	l, e
1573  0496  DD 7E FF    	ld	a,(ix-1)
1574  0499  77          	ld	(hl), a
1575  049A  18 03       	jr	l_spr_page_map_00108
1576  049C              l_spr_page_map_00107:
1577  049C  6B          	ld	l, e
1578  049D  36 00       	ld	(hl),0x00
1579  049F              l_spr_page_map_00108:
1580  049F  DD 34 FA    	inc	(ix-6)
1581  04A2  18 4C       	jr	l_spr_page_map_00117
1582  04A4              l_spr_page_map_00116:
1583  04A4  DD 7E FF    	ld	a,(ix-1)
1584  04A7  C6 80       	add	a,0x80
1585  04A9  DD 77 FD    	ld	(ix-3),a
1586  04AC  DD 5E FA    	ld	e,(ix-6)
1587  04AF  16 00       	ld	d,0x00
1588  04B1              l_spr_page_map_00123:
1589  04B1  7A          	ld	a, d
1590  04B2  DD 96 FD    	sub	a,(ix-3)
1591  04B5  30 33       	jr	NC,l_spr_page_map_00144
1592  04B7  6B          	ld	l, e
1593  04B8  26 00       	ld	h,0x00
1594  04BA  C5          	push	bc
1595  04BB  D5          	push	de
1596  04BC  E5          	push	hl
1597  04BD  CD 00 00    	call	_game_obj_chk
1598  04C0  F1          	pop	af
1599  04C1  D1          	pop	de
1600  04C2  C1          	pop	bc
1601  04C3  7D          	ld	a,l
1602  04C4  B7          	or	a, a
1603  04C5  20 0F       	jr	NZ,l_spr_page_map_00110
1604  04C7  3E 00       	ld	a, +((_scr_map) & 0xFF)
1605  04C9  83          	add	a, e
1606  04CA  6F          	ld	l, a
1607  04CB  3E 00       	ld	a, +((_scr_map) / 256)
1608  04CD  CE 00       	adc	a,0x00
1609  04CF  67          	ld	h, a
1610  04D0  DD 7E FE    	ld	a,(ix-2)
1611  04D3  77          	ld	(hl), a
1612  04D4  18 0B       	jr	l_spr_page_map_00111
1613  04D6              l_spr_page_map_00110:
1614  04D6  3E 00       	ld	a, +((_scr_map) & 0xFF)
1615  04D8  83          	add	a, e
1616  04D9  6F          	ld	l, a
1617  04DA  3E 00       	ld	a, +((_scr_map) / 256)
1618  04DC  CE 00       	adc	a,0x00
1619  04DE  67          	ld	h, a
1620  04DF  36 00       	ld	(hl),0x00
1621  04E1              l_spr_page_map_00111:
1622  04E1  1C          	inc	e
1623  04E2  7B          	ld	a, e
1624  04E3  D6 A0       	sub	a,0xa0
1625  04E5  30 03       	jr	NC,l_spr_page_map_00144
1626  04E7  14          	inc	d
1627  04E8  18 C7       	jr	l_spr_page_map_00123
1628  04EA              l_spr_page_map_00144:
1629  04EA  DD 73 FA    	ld	(ix-6),e
1630  04ED  DD 34 FC    	inc	(ix-4)
1631  04F0              l_spr_page_map_00117:
1632  04F0  DD 7E FA    	ld	a,(ix-6)
1633  04F3  D6 A0       	sub	a,0xa0
1634  04F5  30 0B       	jr	NC,l_spr_page_map_00120
1635  04F7  DD 34 FC    	inc	(ix-4)
1636  04FA  DD 7E FC    	ld	a,(ix-4)
1637  04FD  D6 A0       	sub	a,0xa0
1638  04FF  DA 43 04    	jp	C, l_spr_page_map_00125
1639  0502              l_spr_page_map_00120:
1640  0502  CD 6E 0B    	call	_spr_init_anim_bullets
1641  0505  FB          	ei
1642  0506  CD 00 00    	call	_NIRVANAP_start
1643  0509  0E 00       	ld	c,0x00
1644  050B              l_spr_page_map_00127:
1645  050B  06 00       	ld	b,0x00
1646  050D  21 00 00    	ld	hl,_class
1647  0510  09          	add	hl, bc
1648  0511  36 00       	ld	(hl),0x00
1649  0513  C5          	push	bc
1650  0514  21 00 00    	ld	hl,0x0000
1651  0517  E5          	push	hl
1652  0518  AF          	xor	a, a
1653  0519  F5          	push	af
1654  051A  33          	inc	sp
1655  051B  79          	ld	a, c
1656  051C  F5          	push	af
1657  051D  33          	inc	sp
1658  051E  CD 00 00    	call	_NIRVANAP_spriteT_callee
1659  0521  C1          	pop	bc
1660  0522  0C          	inc	c
1661  0523  79          	ld	a, c
1662  0524  D6 07       	sub	a,0x07
1663  0526  38 E3       	jr	C,l_spr_page_map_00127
1664  0528  DD F9       	ld	sp, ix
1665  052A  DD E1       	pop	ix
1666  052C  C9          	ret
1667  052D              	SECTION code_compiler
1668  052D              ;	---------------------------------
1669  052D              ; Function spr_redraw
1670  052D              ; ---------------------------------
1671  052D              _spr_redraw:
1672  052D  2A 00 00    	ld	hl,(_sprite)
1673  0530  26 00       	ld	h,0x00
1674  0532  01 00 00    	ld	bc,_tile
1675  0535  09          	add	hl,bc
1676  0536  4E          	ld	c, (hl)
1677  0537  3A 00 00    	ld	a,(_sprite)
1678  053A  5F          	ld	e,a
1679  053B  16 00       	ld	d,0x00
1680  053D  21 00 00    	ld	hl,_colint
1681  0540  19          	add	hl,de
1682  0541  7E          	ld	a,(hl)
1683  0542  81          	add	a,c
1684  0543  32 00 00    	ld	(_s_tile1),a
1685  0546  2A 00 00    	ld	hl,(_sprite)
1686  0549  26 00       	ld	h,0x00
1687  054B  01 00 00    	ld	bc,_col
1688  054E  09          	add	hl,bc
1689  054F  7E          	ld	a,(hl)
1690  0550  32 00 00    	ld	(_s_col1),a
1691  0553  2A 00 00    	ld	hl,(_sprite)
1692  0556  26 00       	ld	h,0x00
1693  0558  01 00 00    	ld	bc,_lin
1694  055B  09          	add	hl,bc
1695  055C  7E          	ld	a,(hl)
1696  055D  21 00 00    	ld	hl,_s_lin1
1697  0560  77          	ld	(hl),a
1698  0561  4F          	ld	c,a
1699  0562  7E          	ld	a, (hl)
1700  0563  21 00 00    	ld	hl,_s_lin0
1701  0566  96          	sub	a, (hl)
1702  0567  20 0A       	jr	NZ,l_spr_redraw_00117
1703  0569  3A 00 00    	ld	a,(_s_col1)
1704  056C  21 00 00    	ld	hl,_s_col0
1705  056F  96          	sub	a, (hl)
1706  0570  CA 10 06    	jp	Z,l_spr_redraw_00118
1707  0573              l_spr_redraw_00117:
1708  0573  3A 00 00    	ld	a,(_sprite)
1709  0576  D6 07       	sub	a,0x07
1710  0578  20 04       	jr	NZ,l_spr_redraw_00158
1711  057A  3E 01       	ld	a,0x01
1712  057C  18 01       	jr	l_spr_redraw_00159
1713  057E              l_spr_redraw_00158:
1714  057E  AF          	xor	a,a
1715  057F              l_spr_redraw_00159:
1716  057F  47          	ld	b,a
1717  0580  B7          	or	a, a
1718  0581  28 12       	jr	Z,l_spr_redraw_00105
1719  0583  3A 00 00    	ld	a,(_player_over_stair)
1720  0586  B7          	or	a, a
1721  0587  28 0C       	jr	Z,l_spr_redraw_00105
1722  0589  79          	ld	a, c
1723  058A  E6 03       	and	a,0x03
1724  058C  20 07       	jr	NZ,l_spr_redraw_00105
1725  058E  21 00 00    	ld	hl,_s_tile1
1726  0591  34          	inc	(hl)
1727  0592  34          	inc	(hl)
1728  0593  34          	inc	(hl)
1729  0594  34          	inc	(hl)
1730  0595              l_spr_redraw_00105:
1731  0595  78          	ld	a, b
1732  0596  B7          	or	a, a
1733  0597  28 05       	jr	Z,l_spr_redraw_00113
1734  0599  CD D2 09    	call	_spr_back_repaint
1735  059C  18 5B       	jr	l_spr_redraw_00114
1736  059E              l_spr_redraw_00113:
1737  059E  3A 00 00    	ld	a,(_s_lin1)
1738  05A1  E6 07       	and	a,0x07
1739  05A3  20 05       	jr	NZ,l_spr_redraw_00110
1740  05A5  CD D2 09    	call	_spr_back_repaint
1741  05A8  18 4F       	jr	l_spr_redraw_00114
1742  05AA              l_spr_redraw_00110:
1743  05AA  21 00 00    	ld	hl,_s_state
1744  05AD  CB 46       	bit	0, (hl)
1745  05AF  28 26       	jr	Z,l_spr_redraw_00107
1746  05B1  3A 00 00    	ld	a,(_s_lin0)
1747  05B4  C6 08       	add	a,0x08
1748  05B6  47          	ld	b, a
1749  05B7  3A 00 00    	ld	a,(_s_col0)
1750  05BA  F5          	push	af
1751  05BB  33          	inc	sp
1752  05BC  C5          	push	bc
1753  05BD  33          	inc	sp
1754  05BE  3A 00 00    	ld	a,(_map_paper_clr)
1755  05C1  F5          	push	af
1756  05C2  33          	inc	sp
1757  05C3  CD 00 00    	call	_NIRVANAP_fillC_callee
1758  05C6  21 00 00    	ld	hl,_s_col0
1759  05C9  56          	ld	d, (hl)
1760  05CA  14          	inc	d
1761  05CB  58          	ld	e,b
1762  05CC  3A 00 00    	ld	a,(_map_paper_clr)
1763  05CF  D5          	push	de
1764  05D0  F5          	push	af
1765  05D1  33          	inc	sp
1766  05D2  CD 00 00    	call	_NIRVANAP_fillC_callee
1767  05D5  18 22       	jr	l_spr_redraw_00114
1768  05D7              l_spr_redraw_00107:
1769  05D7  2A FF FF    	ld	hl,(_s_col0 - 1)
1770  05DA  3A 00 00    	ld	a,(_s_lin0)
1771  05DD  6F          	ld	l,a
1772  05DE  3A 00 00    	ld	a,(_map_paper_clr)
1773  05E1  E5          	push	hl
1774  05E2  F5          	push	af
1775  05E3  33          	inc	sp
1776  05E4  CD 00 00    	call	_NIRVANAP_fillC_callee
1777  05E7  21 00 00    	ld	hl,_s_col0
1778  05EA  46          	ld	b, (hl)
1779  05EB  04          	inc	b
1780  05EC  C5          	push	bc
1781  05ED  33          	inc	sp
1782  05EE  2A FF FF    	ld	hl,(_s_lin0 - 1)
1783  05F1  3A 00 00    	ld	a,(_map_paper_clr)
1784  05F4  6F          	ld	l,a
1785  05F5  E5          	push	hl
1786  05F6  CD 00 00    	call	_NIRVANAP_fillC_callee
1787  05F9              l_spr_redraw_00114:
1788  05F9  2A FF FF    	ld	hl,(_s_col1 - 1)
1789  05FC  3A 00 00    	ld	a,(_s_lin1)
1790  05FF  6F          	ld	l,a
1791  0600  E5          	push	hl
1792  0601  2A FF FF    	ld	hl,(_s_tile1 - 1)
1793  0604  3A 00 00    	ld	a,(_sprite)
1794  0607  6F          	ld	l,a
1795  0608  E5          	push	hl
1796  0609  CD 00 00    	call	_NIRVANAP_spriteT_callee
1797  060C  2E 01       	ld	l,0x01
1798  060E  18 22       	jr	l_spr_redraw_00121
1799  0610              l_spr_redraw_00118:
1800  0610  3A 00 00    	ld	a,(_s_tile1)
1801  0613  21 00 00    	ld	hl,_s_tile0
1802  0616  96          	sub	a, (hl)
1803  0617  28 17       	jr	Z,l_spr_redraw_00119
1804  0619  2A FF FF    	ld	hl,(_s_col1 - 1)
1805  061C  3A 00 00    	ld	a,(_s_lin1)
1806  061F  6F          	ld	l,a
1807  0620  E5          	push	hl
1808  0621  2A FF FF    	ld	hl,(_s_tile1 - 1)
1809  0624  3A 00 00    	ld	a,(_sprite)
1810  0627  6F          	ld	l,a
1811  0628  E5          	push	hl
1812  0629  CD 00 00    	call	_NIRVANAP_spriteT_callee
1813  062C  2E 00       	ld	l,0x00
1814  062E  18 02       	jr	l_spr_redraw_00121
1815  0630              l_spr_redraw_00119:
1816  0630  2E 00       	ld	l,0x00
1817  0632              l_spr_redraw_00121:
1818  0632  C9          	ret
1819  0633              	SECTION code_compiler
1820  0633              ;	---------------------------------
1821  0633              ; Function spr_destroy
1822  0633              ; ---------------------------------
1823  0633              _spr_destroy:
1824  0633  CD 00 00    	call	___sdcc_enter_ix
1825  0636  F5          	push	af
1826  0637  4D          	ld	c, l
1827  0638  21 00 00    	ld	hl,_spr_count
1828  063B  35          	dec	(hl)
1829  063C  3E 00       	ld	a, +((_lin) & 0xFF)
1830  063E  81          	add	a, c
1831  063F  DD 77 FE    	ld	(ix-2),a
1832  0642  3E 00       	ld	a, +((_lin) / 256)
1833  0644  CE 00       	adc	a,0x00
1834  0646  DD 77 FF    	ld	(ix-1),a
1835  0649  E1          	pop	hl
1836  064A  7E          	ld	a,(hl)
1837  064B  E5          	push	hl
1838  064C  32 00 00    	ld	(_s_lin0),a
1839  064F  3E 00       	ld	a, +((_col) & 0xFF)
1840  0651  81          	add	a, c
1841  0652  5F          	ld	e, a
1842  0653  3E 00       	ld	a, +((_col) / 256)
1843  0655  CE 00       	adc	a,0x00
1844  0657  57          	ld	d, a
1845  0658  1A          	ld	a, (de)
1846  0659  32 00 00    	ld	(_s_col0),a
1847  065C  C5          	push	bc
1848  065D  D5          	push	de
1849  065E  21 00 00    	ld	hl,0x0000
1850  0661  E5          	push	hl
1851  0662  AF          	xor	a, a
1852  0663  F5          	push	af
1853  0664  33          	inc	sp
1854  0665  79          	ld	a, c
1855  0666  F5          	push	af
1856  0667  33          	inc	sp
1857  0668  CD 00 00    	call	_NIRVANAP_spriteT_callee
1858  066B  CD D2 09    	call	_spr_back_repaint
1859  066E  D1          	pop	de
1860  066F  C1          	pop	bc
1861  0670  06 00       	ld	b,0x00
1862  0672  21 00 00    	ld	hl,_tile
1863  0675  09          	add	hl, bc
1864  0676  AF          	xor	a,a
1865  0677  77          	ld	(hl),a
1866  0678  E1          	pop	hl
1867  0679  12          	ld	(de),a
1868  067A  E5          	push	hl
1869  067B  36 00       	ld	(hl),0x00
1870  067D  11 00 00    	ld	de,_class+0
1871  0680  69          	ld	l,c
1872  0681  26 00       	ld	h,0x00
1873  0683  19          	add	hl, de
1874  0684  36 00       	ld	(hl),0x00
1875  0686  11 00 00    	ld	de,_state+0
1876  0689  69          	ld	l,c
1877  068A  26 00       	ld	h,0x00
1878  068C  19          	add	hl, de
1879  068D  36 00       	ld	(hl),0x00
1880  068F  11 00 00    	ld	de,_state_a+0
1881  0692  69          	ld	l,c
1882  0693  26 00       	ld	h,0x00
1883  0695  19          	add	hl, de
1884  0696  F1          	pop	af
1885  0697  36 00       	ld	(hl),0x00
1886  0699  DD E1       	pop	ix
1887  069B  C9          	ret
1888  069C              	SECTION code_compiler
1889  069C              ;	---------------------------------
1890  069C              ; Function spr_tile
1891  069C              ; ---------------------------------
1892  069C              _spr_tile:
1893  069C  45          	ld	b,l
1894  069D  11 00 00    	ld	de,_class+0
1895  06A0  26 00       	ld	h,0x00
1896  06A2  19          	add	hl, de
1897  06A3  5E          	ld	e, (hl)
1898  06A4  3E 13       	ld	a,0x13
1899  06A6  93          	sub	a, e
1900  06A7  DA DA 07    	jp	C, l_spr_tile_00116
1901  06AA  16 00       	ld	d,0x00
1902  06AC  21 B3 06    	ld	hl,l_spr_tile_00123
1903  06AF  19          	add	hl, de
1904  06B0  19          	add	hl, de
1905  06B1  19          	add	hl, de
1906  06B2  E9          	jp	(hl)
1907  06B3              l_spr_tile_00123:
1908  06B3  C3 DA 07    	jp	l_spr_tile_00116
1909  06B6  C3 DA 07    	jp	l_spr_tile_00116
1910  06B9  C3 41 07    	jp	l_spr_tile_00106
1911  06BC  C3 52 07    	jp	l_spr_tile_00107
1912  06BF  C3 62 07    	jp	l_spr_tile_00108
1913  06C2  C3 71 07    	jp	l_spr_tile_00109
1914  06C5  C3 AD 07    	jp	l_spr_tile_00113
1915  06C8  C3 BC 07    	jp	l_spr_tile_00114
1916  06CB  C3 CB 07    	jp	l_spr_tile_00115
1917  06CE  C3 DA 07    	jp	l_spr_tile_00116
1918  06D1  C3 DA 07    	jp	l_spr_tile_00116
1919  06D4  C3 EF 06    	jp	l_spr_tile_00101
1920  06D7  C3 FF 06    	jp	l_spr_tile_00102
1921  06DA  C3 0F 07    	jp	l_spr_tile_00103
1922  06DD  C3 20 07    	jp	l_spr_tile_00104
1923  06E0  C3 30 07    	jp	l_spr_tile_00105
1924  06E3  C3 80 07    	jp	l_spr_tile_00110
1925  06E6  C3 DA 07    	jp	l_spr_tile_00116
1926  06E9  C3 8F 07    	jp	l_spr_tile_00111
1927  06EC  C3 9E 07    	jp	l_spr_tile_00112
1928  06EF              l_spr_tile_00101:
1929  06EF  AF          	xor	a, a
1930  06F0  48          	ld	c,b
1931  06F1  47          	ld	b,a
1932  06F2  C5          	push	bc
1933  06F3  3E 90       	ld	a,0x90
1934  06F5  F5          	push	af
1935  06F6  33          	inc	sp
1936  06F7  CD DD 07    	call	_spr_tile_dir
1937  06FA  F1          	pop	af
1938  06FB  33          	inc	sp
1939  06FC  C3 DC 07    	jp	l_spr_tile_00117
1940  06FF              l_spr_tile_00102:
1941  06FF  AF          	xor	a, a
1942  0700  48          	ld	c,b
1943  0701  47          	ld	b,a
1944  0702  C5          	push	bc
1945  0703  3E 94       	ld	a,0x94
1946  0705  F5          	push	af
1947  0706  33          	inc	sp
1948  0707  CD DD 07    	call	_spr_tile_dir
1949  070A  F1          	pop	af
1950  070B  33          	inc	sp
1951  070C  C3 DC 07    	jp	l_spr_tile_00117
1952  070F              l_spr_tile_00103:
1953  070F  3E 02       	ld	a,0x02
1954  0711  48          	ld	c,b
1955  0712  47          	ld	b,a
1956  0713  C5          	push	bc
1957  0714  3E 98       	ld	a,0x98
1958  0716  F5          	push	af
1959  0717  33          	inc	sp
1960  0718  CD DD 07    	call	_spr_tile_dir
1961  071B  F1          	pop	af
1962  071C  33          	inc	sp
1963  071D  C3 DC 07    	jp	l_spr_tile_00117
1964  0720              l_spr_tile_00104:
1965  0720  AF          	xor	a, a
1966  0721  48          	ld	c,b
1967  0722  47          	ld	b,a
1968  0723  C5          	push	bc
1969  0724  3E 9C       	ld	a,0x9c
1970  0726  F5          	push	af
1971  0727  33          	inc	sp
1972  0728  CD DD 07    	call	_spr_tile_dir
1973  072B  F1          	pop	af
1974  072C  33          	inc	sp
1975  072D  C3 DC 07    	jp	l_spr_tile_00117
1976  0730              l_spr_tile_00105:
1977  0730  3E 04       	ld	a,0x04
1978  0732  48          	ld	c,b
1979  0733  47          	ld	b,a
1980  0734  C5          	push	bc
1981  0735  3E A0       	ld	a,0xa0
1982  0737  F5          	push	af
1983  0738  33          	inc	sp
1984  0739  CD DD 07    	call	_spr_tile_dir
1985  073C  F1          	pop	af
1986  073D  33          	inc	sp
1987  073E  C3 DC 07    	jp	l_spr_tile_00117
1988  0741              l_spr_tile_00106:
1989  0741  3E 02       	ld	a,0x02
1990  0743  48          	ld	c,b
1991  0744  47          	ld	b,a
1992  0745  C5          	push	bc
1993  0746  3E A8       	ld	a,0xa8
1994  0748  F5          	push	af
1995  0749  33          	inc	sp
1996  074A  CD DD 07    	call	_spr_tile_dir
1997  074D  F1          	pop	af
1998  074E  33          	inc	sp
1999  074F  C3 DC 07    	jp	l_spr_tile_00117
2000  0752              l_spr_tile_00107:
2001  0752  AF          	xor	a, a
2002  0753  48          	ld	c,b
2003  0754  47          	ld	b,a
2004  0755  C5          	push	bc
2005  0756  3E AC       	ld	a,0xac
2006  0758  F5          	push	af
2007  0759  33          	inc	sp
2008  075A  CD DD 07    	call	_spr_tile_dir
2009  075D  F1          	pop	af
2010  075E  33          	inc	sp
2011  075F  C3 DC 07    	jp	l_spr_tile_00117
2012  0762              l_spr_tile_00108:
2013  0762  AF          	xor	a, a
2014  0763  48          	ld	c,b
2015  0764  47          	ld	b,a
2016  0765  C5          	push	bc
2017  0766  3E AE       	ld	a,0xae
2018  0768  F5          	push	af
2019  0769  33          	inc	sp
2020  076A  CD DD 07    	call	_spr_tile_dir
2021  076D  F1          	pop	af
2022  076E  33          	inc	sp
2023  076F  18 6B       	jr	l_spr_tile_00117
2024  0771              l_spr_tile_00109:
2025  0771  AF          	xor	a, a
2026  0772  48          	ld	c,b
2027  0773  47          	ld	b,a
2028  0774  C5          	push	bc
2029  0775  3E B0       	ld	a,0xb0
2030  0777  F5          	push	af
2031  0778  33          	inc	sp
2032  0779  CD DD 07    	call	_spr_tile_dir
2033  077C  F1          	pop	af
2034  077D  33          	inc	sp
2035  077E  18 5C       	jr	l_spr_tile_00117
2036  0780              l_spr_tile_00110:
2037  0780  AF          	xor	a, a
2038  0781  48          	ld	c,b
2039  0782  47          	ld	b,a
2040  0783  C5          	push	bc
2041  0784  3E B2       	ld	a,0xb2
2042  0786  F5          	push	af
2043  0787  33          	inc	sp
2044  0788  CD DD 07    	call	_spr_tile_dir
2045  078B  F1          	pop	af
2046  078C  33          	inc	sp
2047  078D  18 4D       	jr	l_spr_tile_00117
2048  078F              l_spr_tile_00111:
2049  078F  AF          	xor	a, a
2050  0790  48          	ld	c,b
2051  0791  47          	ld	b,a
2052  0792  C5          	push	bc
2053  0793  3E B4       	ld	a,0xb4
2054  0795  F5          	push	af
2055  0796  33          	inc	sp
2056  0797  CD DD 07    	call	_spr_tile_dir
2057  079A  F1          	pop	af
2058  079B  33          	inc	sp
2059  079C  18 3E       	jr	l_spr_tile_00117
2060  079E              l_spr_tile_00112:
2061  079E  AF          	xor	a, a
2062  079F  48          	ld	c,b
2063  07A0  47          	ld	b,a
2064  07A1  C5          	push	bc
2065  07A2  3E B6       	ld	a,0xb6
2066  07A4  F5          	push	af
2067  07A5  33          	inc	sp
2068  07A6  CD DD 07    	call	_spr_tile_dir
2069  07A9  F1          	pop	af
2070  07AA  33          	inc	sp
2071  07AB  18 2F       	jr	l_spr_tile_00117
2072  07AD              l_spr_tile_00113:
2073  07AD  AF          	xor	a, a
2074  07AE  48          	ld	c,b
2075  07AF  47          	ld	b,a
2076  07B0  C5          	push	bc
2077  07B1  3E C0       	ld	a,0xc0
2078  07B3  F5          	push	af
2079  07B4  33          	inc	sp
2080  07B5  CD DD 07    	call	_spr_tile_dir
2081  07B8  F1          	pop	af
2082  07B9  33          	inc	sp
2083  07BA  18 20       	jr	l_spr_tile_00117
2084  07BC              l_spr_tile_00114:
2085  07BC  AF          	xor	a, a
2086  07BD  48          	ld	c,b
2087  07BE  47          	ld	b,a
2088  07BF  C5          	push	bc
2089  07C0  3E C2       	ld	a,0xc2
2090  07C2  F5          	push	af
2091  07C3  33          	inc	sp
2092  07C4  CD DD 07    	call	_spr_tile_dir
2093  07C7  F1          	pop	af
2094  07C8  33          	inc	sp
2095  07C9  18 11       	jr	l_spr_tile_00117
2096  07CB              l_spr_tile_00115:
2097  07CB  AF          	xor	a, a
2098  07CC  48          	ld	c,b
2099  07CD  47          	ld	b,a
2100  07CE  C5          	push	bc
2101  07CF  3E C4       	ld	a,0xc4
2102  07D1  F5          	push	af
2103  07D2  33          	inc	sp
2104  07D3  CD DD 07    	call	_spr_tile_dir
2105  07D6  F1          	pop	af
2106  07D7  33          	inc	sp
2107  07D8  18 02       	jr	l_spr_tile_00117
2108  07DA              l_spr_tile_00116:
2109  07DA  2E 00       	ld	l,0x00
2110  07DC              l_spr_tile_00117:
2111  07DC  C9          	ret
2112  07DD              	SECTION code_compiler
2113  07DD              ;	---------------------------------
2114  07DD              ; Function spr_tile_dir
2115  07DD              ; ---------------------------------
2116  07DD              _spr_tile_dir:
2117  07DD  CD 00 00    	call	___sdcc_enter_ix
2118  07E0  3E 00       	ld	a, +((_state) & 0xFF)
2119  07E2  DD 86 05    	add	a,(ix+5)
2120  07E5  4F          	ld	c, a
2121  07E6  3E 00       	ld	a, +((_state) / 256)
2122  07E8  CE 00       	adc	a,0x00
2123  07EA  47          	ld	b, a
2124  07EB  0A          	ld	a, (bc)
2125  07EC  4F          	ld	c,a
2126  07ED  CB 57       	bit	2,a
2127  07EF  28 05       	jr	Z,l_spr_tile_dir_00102
2128  07F1  DD 6E 04    	ld	l,(ix+4)
2129  07F4  18 2D       	jr	l_spr_tile_dir_00109
2130  07F6              l_spr_tile_dir_00102:
2131  07F6  DD 7E 04    	ld	a,(ix+4)
2132  07F9  DD 86 06    	add	a,(ix+6)
2133  07FC  47          	ld	b, a
2134  07FD  CB 59       	bit	3, c
2135  07FF  28 03       	jr	Z,l_spr_tile_dir_00104
2136  0801  68          	ld	l, b
2137  0802  18 1F       	jr	l_spr_tile_dir_00109
2138  0804              l_spr_tile_dir_00104:
2139  0804  3E 00       	ld	a, +((_state_a) & 0xFF)
2140  0806  DD 86 05    	add	a,(ix+5)
2141  0809  5F          	ld	e, a
2142  080A  3E 00       	ld	a, +((_state_a) / 256)
2143  080C  CE 00       	adc	a,0x00
2144  080E  57          	ld	d, a
2145  080F  1A          	ld	a, (de)
2146  0810  CB 67       	bit	4, a
2147  0812  28 05       	jr	Z,l_spr_tile_dir_00106
2148  0814  DD 6E 04    	ld	l,(ix+4)
2149  0817  18 0A       	jr	l_spr_tile_dir_00109
2150  0819              l_spr_tile_dir_00106:
2151  0819  CB 5F       	bit	3, a
2152  081B  28 03       	jr	Z,l_spr_tile_dir_00108
2153  081D  68          	ld	l, b
2154  081E  18 03       	jr	l_spr_tile_dir_00109
2155  0820              l_spr_tile_dir_00108:
2156  0820  DD 6E 04    	ld	l,(ix+4)
2157  0823              l_spr_tile_dir_00109:
2158  0823  DD E1       	pop	ix
2159  0825  C9          	ret
2160  0826              	SECTION code_compiler
2161  0826              ;	---------------------------------
2162  0826              ; Function spr_draw_clear
2163  0826              ; ---------------------------------
2164  0826              _spr_draw_clear:
2165  0826  F3          	di
2166  0827  2E 00       	ld	l,0x00
2167  0829  CD 00 00    	call	_zx_cls_fastcall
2168  082C  21 00 00    	ld	hl,_s_lin1
2169  082F  36 10       	ld	(hl),0x10
2170  0831              l_spr_draw_clear_00105:
2171  0831  21 00 00    	ld	hl,_s_col1
2172  0834  36 00       	ld	(hl),0x00
2173  0836              l_spr_draw_clear_00103:
2174  0836  2A FF FF    	ld	hl,(_s_col1 - 1)
2175  0839  3A 00 00    	ld	a,(_s_lin1)
2176  083C  6F          	ld	l,a
2177  083D  E5          	push	hl
2178  083E  AF          	xor	a, a
2179  083F  F5          	push	af
2180  0840  33          	inc	sp
2181  0841  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2182  0844  21 00 00    	ld	hl,_s_col1
2183  0847  7E          	ld	a,(hl)
2184  0848  C6 02       	add	a,0x02
2185  084A  77          	ld	(hl),a
2186  084B  D6 20       	sub	a,0x20
2187  084D  38 E7       	jr	C,l_spr_draw_clear_00103
2188  084F  21 00 00    	ld	hl,_s_lin1
2189  0852  7E          	ld	a, (hl)
2190  0853  C6 10       	add	a,0x10
2191  0855  77          	ld	(hl), a
2192  0856  3E A2       	ld	a,0xa2
2193  0858  96          	sub	a, (hl)
2194  0859  30 D6       	jr	NC,l_spr_draw_clear_00105
2195  085B  FB          	ei
2196  085C  C9          	ret
2197  085D              	SECTION code_compiler
2198  085D              ;	---------------------------------
2199  085D              ; Function spr_brick_anim
2200  085D              ; ---------------------------------
2201  085D              _spr_brick_anim:
2202  085D  CD 00 00    	call	___sdcc_enter_ix
2203  0860  F5          	push	af
2204  0861  3B          	dec	sp
2205  0862  4D          	ld	c, l
2206  0863  21 00 00    	ld	hl,_player_hit_col
2207  0866  56          	ld	d, (hl)
2208  0867  21 00 00    	ld	hl,_player_hit_lin
2209  086A  5E          	ld	e, (hl)
2210  086B  C5          	push	bc
2211  086C  D5          	push	de
2212  086D  D5          	push	de
2213  086E  CD 00 00    	call	_spr_calc_index
2214  0871  F1          	pop	af
2215  0872  DD 74 FF    	ld	(ix-1),h
2216  0875  DD 75 FE    	ld	(ix-2),l
2217  0878  D1          	pop	de
2218  0879  C1          	pop	bc
2219  087A  DD 6E FE    	ld	l,(ix-2)
2220  087D  DD 66 FF    	ld	h,(ix-1)
2221  0880  22 00 00    	ld	(_index1),hl
2222  0883  21 00 00    	ld	hl,_index1
2223  0886  7E          	ld	a, (hl)
2224  0887  C6 F0       	add	a,0xf0
2225  0889  DD 77 FE    	ld	(ix-2),a
2226  088C  23          	inc	hl
2227  088D  7E          	ld	a, (hl)
2228  088E  CE FF       	adc	a,0xff
2229  0890  DD 77 FF    	ld	(ix-1),a
2230  0893  3E 00       	ld	a, +((_scr_map) & 0xFF)
2231  0895  DD 86 FE    	add	a,(ix-2)
2232  0898  6F          	ld	l, a
2233  0899  3E 00       	ld	a, +((_scr_map) / 256)
2234  089B  DD 8E FF    	adc	a,(ix-1)
2235  089E  67          	ld	h, a
2236  089F  7E          	ld	a, (hl)
2237  08A0  DD 77 FD    	ld	(ix-3),a
2238  08A3  3E 00       	ld	a, +((_scr_map) & 0xFF)
2239  08A5  21 00 00    	ld	hl,_index1
2240  08A8  86          	add	a, (hl)
2241  08A9  DD 77 FE    	ld	(ix-2),a
2242  08AC  3E 00       	ld	a, +((_scr_map) / 256)
2243  08AE  23          	inc	hl
2244  08AF  8E          	adc	a, (hl)
2245  08B0  DD 6E FE    	ld	l,(ix-2)
2246  08B3  DD 77 FF    	ld	(ix-1),a
2247  08B6  67          	ld	h,a
2248  08B7  46          	ld	b, (hl)
2249  08B8  79          	ld	a, c
2250  08B9  B7          	or	a, a
2251  08BA  28 08       	jr	Z,l_spr_brick_anim_00102
2252  08BC  7B          	ld	a, e
2253  08BD  C6 F6       	add	a,0xf6
2254  08BF  32 00 00    	ld	(_tmp),a
2255  08C2  18 06       	jr	l_spr_brick_anim_00103
2256  08C4              l_spr_brick_anim_00102:
2257  08C4  7B          	ld	a, e
2258  08C5  C6 F8       	add	a,0xf8
2259  08C7  32 00 00    	ld	(_tmp),a
2260  08CA              l_spr_brick_anim_00103:
2261  08CA  F3          	di
2262  08CB  79          	ld	a, c
2263  08CC  B7          	or	a, a
2264  08CD  28 1A       	jr	Z,l_spr_brick_anim_00105
2265  08CF  3A 00 00    	ld	a,(_map_paper_clr)
2266  08D2  C5          	push	bc
2267  08D3  D5          	push	de
2268  08D4  D5          	push	de
2269  08D5  F5          	push	af
2270  08D6  33          	inc	sp
2271  08D7  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2272  08DA  D1          	pop	de
2273  08DB  C1          	pop	bc
2274  08DC  D5          	push	de
2275  08DD  33          	inc	sp
2276  08DE  3A 00 00    	ld	a,(_tmp)
2277  08E1  48          	ld	c,b
2278  08E2  47          	ld	b,a
2279  08E3  C5          	push	bc
2280  08E4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2281  08E7  18 1E       	jr	l_spr_brick_anim_00106
2282  08E9              l_spr_brick_anim_00105:
2283  08E9  3A 00 00    	ld	a,(_tmp)
2284  08EC  C6 F0       	add	a,0xf0
2285  08EE  C5          	push	bc
2286  08EF  D5          	push	de
2287  08F0  5F          	ld	e,a
2288  08F1  D5          	push	de
2289  08F2  DD 7E FD    	ld	a,(ix-3)
2290  08F5  F5          	push	af
2291  08F6  33          	inc	sp
2292  08F7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2293  08FA  D1          	pop	de
2294  08FB  C1          	pop	bc
2295  08FC  D5          	push	de
2296  08FD  33          	inc	sp
2297  08FE  3A 00 00    	ld	a,(_tmp)
2298  0901  48          	ld	c,b
2299  0902  47          	ld	b,a
2300  0903  C5          	push	bc
2301  0904  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2302  0907              l_spr_brick_anim_00106:
2303  0907  FB          	ei
2304  0908  DD F9       	ld	sp, ix
2305  090A  DD E1       	pop	ix
2306  090C  C9          	ret
2307  090D              	SECTION code_compiler
2308  090D              ;	---------------------------------
2309  090D              ; Function spr_draw_index
2310  090D              ; ---------------------------------
2311  090D              _spr_draw_index:
2312  090D  CD 00 00    	call	___sdcc_enter_ix
2313  0910  DD 4E 04    	ld	c,(ix+4)
2314  0913  79          	ld	a, c
2315  0914  E6 0F       	and	a,0x0f
2316  0916  87          	add	a, a
2317  0917  32 00 00    	ld	(_s_col1),a
2318  091A  21 00 00    	ld	hl,_s_lin1
2319  091D  71          	ld	(hl),c
2320  091E  79          	ld	a,c
2321  091F  07          	rlca
2322  0920  07          	rlca
2323  0921  07          	rlca
2324  0922  07          	rlca
2325  0923  E6 0F       	and	a,0x0f
2326  0925  07          	rlca
2327  0926  07          	rlca
2328  0927  07          	rlca
2329  0928  07          	rlca
2330  0929  E6 F0       	and	a,0xf0
2331  092B  77          	ld	(hl), a
2332  092C  F3          	di
2333  092D  3E 00       	ld	a, +((_scr_map) & 0xFF)
2334  092F  DD 86 04    	add	a,(ix+4)
2335  0932  4F          	ld	c, a
2336  0933  3E 00       	ld	a, +((_scr_map) / 256)
2337  0935  DD 8E 05    	adc	a,(ix+5)
2338  0938  47          	ld	b, a
2339  0939  0A          	ld	a, (bc)
2340  093A  47          	ld	b, a
2341  093B  3A 00 00    	ld	a,(_s_col1)
2342  093E  F5          	push	af
2343  093F  33          	inc	sp
2344  0940  3A 00 00    	ld	a,(_s_lin1)
2345  0943  48          	ld	c,b
2346  0944  47          	ld	b,a
2347  0945  C5          	push	bc
2348  0946  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2349  0949  FB          	ei
2350  094A  DD E1       	pop	ix
2351  094C  C9          	ret
2352  094D              	SECTION code_compiler
2353  094D              ;	---------------------------------
2354  094D              ; Function spr_draw_row
2355  094D              ; ---------------------------------
2356  094D              _spr_draw_row:
2357  094D  CD 00 00    	call	___sdcc_enter_ix
2358  0950  3B          	dec	sp
2359  0951  F3          	di
2360  0952  21 00 00    	ld	hl,_tmp
2361  0955  36 00       	ld	(hl),0x00
2362  0957  DD 7E 04    	ld	a,(ix+4)
2363  095A  07          	rlca
2364  095B  07          	rlca
2365  095C  07          	rlca
2366  095D  E6 F8       	and	a,0xf8
2367  095F  DD 77 FF    	ld	(ix-1),a
2368  0962              l_spr_draw_row_00101:
2369  0962  21 00 00    	ld	hl,_tmp
2370  0965  7E          	ld	a, (hl)
2371  0966  D6 20       	sub	a,0x20
2372  0968  30 38       	jr	NC,l_spr_draw_row_00103
2373  096A  DD 4E 04    	ld	c,(ix+4)
2374  096D  3E 00       	ld	a,0x00
2375  096F  CB 21       	sla	c
2376  0971  17          	rla
2377  0972  CB 21       	sla	c
2378  0974  17          	rla
2379  0975  CB 21       	sla	c
2380  0977  17          	rla
2381  0978  CB 21       	sla	c
2382  097A  17          	rla
2383  097B  CB 21       	sla	c
2384  097D  17          	rla
2385  097E  47          	ld	b,a
2386  097F  5E          	ld	e, (hl)
2387  0980  16 00       	ld	d,0x00
2388  0982  79          	ld	a, c
2389  0983  83          	add	a, e
2390  0984  21 00 00    	ld	hl,_index1
2391  0987  77          	ld	(hl), a
2392  0988  78          	ld	a, b
2393  0989  8A          	adc	a, d
2394  098A  23          	inc	hl
2395  098B  77          	ld	(hl), a
2396  098C  2A FF FF    	ld	hl,(_tmp-1)
2397  098F  DD 6E FF    	ld	l,(ix-1)
2398  0992  3A 00 00    	ld	a,(_game_brick_tile)
2399  0995  E5          	push	hl
2400  0996  F5          	push	af
2401  0997  33          	inc	sp
2402  0998  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2403  099B  21 00 00    	ld	hl,_tmp
2404  099E  34          	inc	(hl)
2405  099F  34          	inc	(hl)
2406  09A0  18 C0       	jr	l_spr_draw_row_00101
2407  09A2              l_spr_draw_row_00103:
2408  09A2  FB          	ei
2409  09A3  33          	inc	sp
2410  09A4  DD E1       	pop	ix
2411  09A6  C9          	ret
2412  09A7              	SECTION code_compiler
2413  09A7              ;	---------------------------------
2414  09A7              ; Function spr_calc_hor
2415  09A7              ; ---------------------------------
2416  09A7              _spr_calc_hor:
2417  09A7  CD 00 00    	call	___sdcc_enter_ix
2418  09AA  3E 00       	ld	a, +((_col) & 0xFF)
2419  09AC  DD 86 04    	add	a,(ix+4)
2420  09AF  4F          	ld	c, a
2421  09B0  3E 00       	ld	a, +((_col) / 256)
2422  09B2  CE 00       	adc	a,0x00
2423  09B4  47          	ld	b, a
2424  09B5  0A          	ld	a, (bc)
2425  09B6  5F          	ld	e, a
2426  09B7  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2427  09B9  DD 86 04    	add	a,(ix+4)
2428  09BC  4F          	ld	c, a
2429  09BD  3E 00       	ld	a, +((_sprite_frames) / 256)
2430  09BF  CE 00       	adc	a,0x00
2431  09C1  47          	ld	b, a
2432  09C2  0A          	ld	a, (bc)
2433  09C3  67          	ld	h, a
2434  09C4  2E 00       	ld	l,0x00
2435  09C6  55          	ld	d, l
2436  09C7  06 08       	ld	b,0x08
2437  09C9              l_spr_calc_hor_00103:
2438  09C9  29          	add	hl, hl
2439  09CA  30 01       	jr	NC,l_spr_calc_hor_00104
2440  09CC  19          	add	hl, de
2441  09CD              l_spr_calc_hor_00104:
2442  09CD  10 FA       	djnz	l_spr_calc_hor_00103
2443  09CF  DD E1       	pop	ix
2444  09D1  C9          	ret
2445  09D2              	SECTION code_compiler
2446  09D2              ;	---------------------------------
2447  09D2              ; Function spr_back_repaint
2448  09D2              ; ---------------------------------
2449  09D2              _spr_back_repaint:
2450  09D2  CD 00 00    	call	___sdcc_enter_ix
2451  09D5  3B          	dec	sp
2452  09D6  76          	halt
2453  09D7  F3          	di
2454  09D8  2A FF FF    	ld	hl,(_s_col0 - 1)
2455  09DB  3A 00 00    	ld	a,(_s_lin0)
2456  09DE  6F          	ld	l,a
2457  09DF  E5          	push	hl
2458  09E0  CD 00 00    	call	_spr_calc_index
2459  09E3  F1          	pop	af
2460  09E4  7D          	ld	a,l
2461  09E5  32 00 00    	ld	(_sprite_curr_index),a
2462  09E8  21 00 00    	ld	hl,_s_lin0
2463  09EB  7E          	ld	a, (hl)
2464  09EC  E6 0F       	and	a,0x0f
2465  09EE  4F          	ld	c, a
2466  09EF  7E          	ld	a, (hl)
2467  09F0  07          	rlca
2468  09F1  07          	rlca
2469  09F2  07          	rlca
2470  09F3  07          	rlca
2471  09F4  E6 0F       	and	a,0x0f
2472  09F6  5F          	ld	e, a
2473  09F7  21 00 00    	ld	hl,_s_col0
2474  09FA  CB 46       	bit	0, (hl)
2475  09FC  20 68       	jr	NZ,l_spr_back_repaint_00108
2476  09FE  79          	ld	a, c
2477  09FF  B7          	or	a, a
2478  0A00  20 1D       	jr	NZ,l_spr_back_repaint_00102
2479  0A02  2A 00 00    	ld	hl,(_sprite_curr_index)
2480  0A05  26 00       	ld	h,0x00
2481  0A07  01 00 00    	ld	bc,_scr_map
2482  0A0A  09          	add	hl,bc
2483  0A0B  46          	ld	b,(hl)
2484  0A0C  3A 00 00    	ld	a,(_s_col0)
2485  0A0F  F5          	push	af
2486  0A10  33          	inc	sp
2487  0A11  3A 00 00    	ld	a,(_s_lin0)
2488  0A14  48          	ld	c,b
2489  0A15  47          	ld	b,a
2490  0A16  C5          	push	bc
2491  0A17  CD 3D 0B    	call	_spr_tile_paint
2492  0A1A  F1          	pop	af
2493  0A1B  33          	inc	sp
2494  0A1C  C3 38 0B    	jp	l_spr_back_repaint_00109
2495  0A1F              l_spr_back_repaint_00102:
2496  0A1F  7B          	ld	a, e
2497  0A20  07          	rlca
2498  0A21  07          	rlca
2499  0A22  07          	rlca
2500  0A23  07          	rlca
2501  0A24  E6 F0       	and	a,0xf0
2502  0A26  4F          	ld	c, a
2503  0A27  2A 00 00    	ld	hl,(_sprite_curr_index)
2504  0A2A  26 00       	ld	h,0x00
2505  0A2C  11 00 00    	ld	de,_scr_map
2506  0A2F  19          	add	hl,de
2507  0A30  46          	ld	b, (hl)
2508  0A31  3A 00 00    	ld	a,(_s_col0)
2509  0A34  C5          	push	bc
2510  0A35  F5          	push	af
2511  0A36  33          	inc	sp
2512  0A37  79          	ld	a, c
2513  0A38  48          	ld	c,b
2514  0A39  47          	ld	b,a
2515  0A3A  C5          	push	bc
2516  0A3B  CD 3D 0B    	call	_spr_tile_paint
2517  0A3E  F1          	pop	af
2518  0A3F  33          	inc	sp
2519  0A40  C1          	pop	bc
2520  0A41  79          	ld	a, c
2521  0A42  C6 10       	add	a,0x10
2522  0A44  57          	ld	d, a
2523  0A45  21 00 00    	ld	hl,_sprite_curr_index
2524  0A48  7E          	ld	a, (hl)
2525  0A49  C6 10       	add	a,0x10
2526  0A4B  77          	ld	(hl), a
2527  0A4C  C6 00       	add	a,+((_scr_map) & 0xFF)
2528  0A4E  4F          	ld	c, a
2529  0A4F  3E 00       	ld	a, +((_scr_map) / 256)
2530  0A51  CE 00       	adc	a,0x00
2531  0A53  47          	ld	b, a
2532  0A54  0A          	ld	a, (bc)
2533  0A55  47          	ld	b, a
2534  0A56  3A 00 00    	ld	a,(_s_col0)
2535  0A59  5A          	ld	e,d
2536  0A5A  57          	ld	d,a
2537  0A5B  D5          	push	de
2538  0A5C  C5          	push	bc
2539  0A5D  33          	inc	sp
2540  0A5E  CD 3D 0B    	call	_spr_tile_paint
2541  0A61  F1          	pop	af
2542  0A62  33          	inc	sp
2543  0A63  C3 38 0B    	jp	l_spr_back_repaint_00109
2544  0A66              l_spr_back_repaint_00108:
2545  0A66  3A 00 00    	ld	a,(_s_col0)
2546  0A69  C6 FF       	add	a,0xff
2547  0A6B  DD 77 FF    	ld	(ix-1),a
2548  0A6E  79          	ld	a, c
2549  0A6F  B7          	or	a, a
2550  0A70  20 3E       	jr	NZ,l_spr_back_repaint_00105
2551  0A72  2A 00 00    	ld	hl,(_sprite_curr_index)
2552  0A75  26 00       	ld	h,0x00
2553  0A77  01 00 00    	ld	bc,_scr_map
2554  0A7A  09          	add	hl,bc
2555  0A7B  46          	ld	b,(hl)
2556  0A7C  DD 7E FF    	ld	a,(ix-1)
2557  0A7F  F5          	push	af
2558  0A80  33          	inc	sp
2559  0A81  3A 00 00    	ld	a,(_s_lin0)
2560  0A84  48          	ld	c,b
2561  0A85  47          	ld	b,a
2562  0A86  C5          	push	bc
2563  0A87  CD 3D 0B    	call	_spr_tile_paint
2564  0A8A  F1          	pop	af
2565  0A8B  33          	inc	sp
2566  0A8C  21 00 00    	ld	hl,_sprite_curr_index
2567  0A8F  34          	inc	(hl)
2568  0A90  21 00 00    	ld	hl,_s_col0
2569  0A93  4E          	ld	c, (hl)
2570  0A94  0C          	inc	c
2571  0A95  2A 00 00    	ld	hl,(_sprite_curr_index)
2572  0A98  26 00       	ld	h,0x00
2573  0A9A  11 00 00    	ld	de,_scr_map
2574  0A9D  19          	add	hl,de
2575  0A9E  46          	ld	b, (hl)
2576  0A9F  79          	ld	a, c
2577  0AA0  F5          	push	af
2578  0AA1  33          	inc	sp
2579  0AA2  3A 00 00    	ld	a,(_s_lin0)
2580  0AA5  48          	ld	c,b
2581  0AA6  47          	ld	b,a
2582  0AA7  C5          	push	bc
2583  0AA8  CD 3D 0B    	call	_spr_tile_paint
2584  0AAB  F1          	pop	af
2585  0AAC  33          	inc	sp
2586  0AAD  C3 38 0B    	jp	l_spr_back_repaint_00109
2587  0AB0              l_spr_back_repaint_00105:
2588  0AB0  7B          	ld	a, e
2589  0AB1  07          	rlca
2590  0AB2  07          	rlca
2591  0AB3  07          	rlca
2592  0AB4  07          	rlca
2593  0AB5  E6 F0       	and	a,0xf0
2594  0AB7  47          	ld	b, a
2595  0AB8  2A 00 00    	ld	hl,(_sprite_curr_index)
2596  0ABB  26 00       	ld	h,0x00
2597  0ABD  11 00 00    	ld	de,_scr_map
2598  0AC0  19          	add	hl,de
2599  0AC1  56          	ld	d, (hl)
2600  0AC2  C5          	push	bc
2601  0AC3  DD 7E FF    	ld	a,(ix-1)
2602  0AC6  F5          	push	af
2603  0AC7  33          	inc	sp
2604  0AC8  4A          	ld	c, d
2605  0AC9  C5          	push	bc
2606  0ACA  CD 3D 0B    	call	_spr_tile_paint
2607  0ACD  F1          	pop	af
2608  0ACE  33          	inc	sp
2609  0ACF  C1          	pop	bc
2610  0AD0  21 00 00    	ld	hl,_sprite_curr_index
2611  0AD3  34          	inc	(hl)
2612  0AD4  21 00 00    	ld	hl,_s_col0
2613  0AD7  4E          	ld	c, (hl)
2614  0AD8  0C          	inc	c
2615  0AD9  2A 00 00    	ld	hl,(_sprite_curr_index)
2616  0ADC  26 00       	ld	h,0x00
2617  0ADE  11 00 00    	ld	de,_scr_map
2618  0AE1  19          	add	hl,de
2619  0AE2  5E          	ld	e, (hl)
2620  0AE3  C5          	push	bc
2621  0AE4  79          	ld	a, c
2622  0AE5  48          	ld	c,b
2623  0AE6  47          	ld	b,a
2624  0AE7  C5          	push	bc
2625  0AE8  7B          	ld	a, e
2626  0AE9  F5          	push	af
2627  0AEA  33          	inc	sp
2628  0AEB  CD 3D 0B    	call	_spr_tile_paint
2629  0AEE  F1          	pop	af
2630  0AEF  33          	inc	sp
2631  0AF0  C1          	pop	bc
2632  0AF1  78          	ld	a, b
2633  0AF2  C6 10       	add	a,0x10
2634  0AF4  DD 77 FF    	ld	(ix-1),a
2635  0AF7  21 00 00    	ld	hl,_sprite_curr_index
2636  0AFA  7E          	ld	a, (hl)
2637  0AFB  C6 0F       	add	a,0x0f
2638  0AFD  77          	ld	(hl), a
2639  0AFE  21 00 00    	ld	hl,_s_col0
2640  0B01  4E          	ld	c, (hl)
2641  0B02  0D          	dec	c
2642  0B03  2A 00 00    	ld	hl,(_sprite_curr_index)
2643  0B06  26 00       	ld	h,0x00
2644  0B08  11 00 00    	ld	de,_scr_map
2645  0B0B  19          	add	hl,de
2646  0B0C  5E          	ld	e, (hl)
2647  0B0D  79          	ld	a, c
2648  0B0E  F5          	push	af
2649  0B0F  33          	inc	sp
2650  0B10  DD 56 FF    	ld	d,(ix-1)
2651  0B13  D5          	push	de
2652  0B14  CD 3D 0B    	call	_spr_tile_paint
2653  0B17  F1          	pop	af
2654  0B18  33          	inc	sp
2655  0B19  21 00 00    	ld	hl,_sprite_curr_index
2656  0B1C  34          	inc	(hl)
2657  0B1D  21 00 00    	ld	hl,_s_col0
2658  0B20  4E          	ld	c, (hl)
2659  0B21  0C          	inc	c
2660  0B22  2A 00 00    	ld	hl,(_sprite_curr_index)
2661  0B25  26 00       	ld	h,0x00
2662  0B27  11 00 00    	ld	de,_scr_map
2663  0B2A  19          	add	hl,de
2664  0B2B  5E          	ld	e, (hl)
2665  0B2C  79          	ld	a, c
2666  0B2D  F5          	push	af
2667  0B2E  33          	inc	sp
2668  0B2F  DD 56 FF    	ld	d,(ix-1)
2669  0B32  D5          	push	de
2670  0B33  CD 3D 0B    	call	_spr_tile_paint
2671  0B36  F1          	pop	af
2672  0B37  33          	inc	sp
2673  0B38              l_spr_back_repaint_00109:
2674  0B38  FB          	ei
2675  0B39  33          	inc	sp
2676  0B3A  DD E1       	pop	ix
2677  0B3C  C9          	ret
2678  0B3D              	SECTION code_compiler
2679  0B3D              ;	---------------------------------
2680  0B3D              ; Function spr_tile_paint
2681  0B3D              ; ---------------------------------
2682  0B3D              _spr_tile_paint:
2683  0B3D  CD 00 00    	call	___sdcc_enter_ix
2684  0B40  DD 7E 04    	ld	a,(ix+4)
2685  0B43  B7          	or	a, a
2686  0B44  28 05       	jr	Z,l_spr_tile_paint_00101
2687  0B46  3C          	inc	a
2688  0B47  28 22       	jr	Z,l_spr_tile_paint_00105
2689  0B49  18 11       	jr	l_spr_tile_paint_00103
2690  0B4B              l_spr_tile_paint_00101:
2691  0B4B  DD 66 06    	ld	h,(ix+6)
2692  0B4E  DD 6E 05    	ld	l,(ix+5)
2693  0B51  3A 00 00    	ld	a,(_map_paper_clr)
2694  0B54  E5          	push	hl
2695  0B55  F5          	push	af
2696  0B56  33          	inc	sp
2697  0B57  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2698  0B5A  18 0F       	jr	l_spr_tile_paint_00105
2699  0B5C              l_spr_tile_paint_00103:
2700  0B5C  DD 66 06    	ld	h,(ix+6)
2701  0B5F  DD 6E 05    	ld	l,(ix+5)
2702  0B62  E5          	push	hl
2703  0B63  DD 7E 04    	ld	a,(ix+4)
2704  0B66  F5          	push	af
2705  0B67  33          	inc	sp
2706  0B68  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2707  0B6B              l_spr_tile_paint_00105:
2708  0B6B  DD E1       	pop	ix
2709  0B6D  C9          	ret
2710  0B6E              	SECTION code_compiler
2711  0B6E              ;	---------------------------------
2712  0B6E              ; Function spr_init_anim_bullets
2713  0B6E              ; ---------------------------------
2714  0B6E              _spr_init_anim_bullets:
2715  0B6E  01 00 00    	ld	bc,_anim_lin+0
2716  0B71  1E 00       	ld	e,0x00
2717  0B73              l_spr_init_anim_bullets_00102:
2718  0B73  6B          	ld	l,e
2719  0B74  26 00       	ld	h,0x00
2720  0B76  09          	add	hl, bc
2721  0B77  36 FF       	ld	(hl),0xff
2722  0B79  16 00       	ld	d,0x00
2723  0B7B  21 00 00    	ld	hl,_bullet_col
2724  0B7E  19          	add	hl, de
2725  0B7F  36 FF       	ld	(hl),0xff
2726  0B81  1C          	inc	e
2727  0B82  7B          	ld	a, e
2728  0B83  D6 08       	sub	a,0x08
2729  0B85  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2730  0B87  21 00 00    	ld	hl,_bullet_count
2731  0B8A  36 00       	ld	(hl),0x00
2732  0B8C  21 00 00    	ld	hl,_anim_count
2733  0B8F  36 00       	ld	(hl),0x00
2734  0B91  C9          	ret
2735  0B92              	SECTION code_compiler
2736  0B92              ;	---------------------------------
2737  0B92              ; Function spr_add_anim
2738  0B92              ; ---------------------------------
2739  0B92              _spr_add_anim:
2740  0B92  CD 00 00    	call	___sdcc_enter_ix
2741  0B95  F5          	push	af
2742  0B96  F5          	push	af
2743  0B97  3B          	dec	sp
2744  0B98  DD 7E 05    	ld	a,(ix+5)
2745  0B9B  D6 1F       	sub	a,0x1f
2746  0B9D  D2 5E 0C    	jp	NC, l_spr_add_anim_00111
2747  0BA0  DD 7E 04    	ld	a,(ix+4)
2748  0BA3  D6 B8       	sub	a,0xb8
2749  0BA5  D2 5E 0C    	jp	NC, l_spr_add_anim_00111
2750  0BA8  0E 00       	ld	c,0x00
2751  0BAA  DD 71 FB    	ld	(ix-5),c
2752  0BAD              l_spr_add_anim_00109:
2753  0BAD  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2754  0BAF  81          	add	a, c
2755  0BB0  5F          	ld	e, a
2756  0BB1  3E 00       	ld	a, +((_anim_lin) / 256)
2757  0BB3  CE 00       	adc	a,0x00
2758  0BB5  57          	ld	d, a
2759  0BB6  1A          	ld	a, (de)
2760  0BB7  3C          	inc	a
2761  0BB8  C2 54 0C    	jp	NZ,l_spr_add_anim_00110
2762  0BBB  21 00 00    	ld	hl,_anim_count
2763  0BBE  34          	inc	(hl)
2764  0BBF  DD 7E 04    	ld	a,(ix+4)
2765  0BC2  12          	ld	(de), a
2766  0BC3  01 00 00    	ld	bc,_anim_col
2767  0BC6  DD 6E FB    	ld	l,(ix-5)
2768  0BC9  26 00       	ld	h,0x00
2769  0BCB  09          	add	hl,bc
2770  0BCC  DD 75 FE    	ld	(ix-2),l
2771  0BCF  DD 74 FF    	ld	(ix-1),h
2772  0BD2  DD 7E 05    	ld	a,(ix+5)
2773  0BD5  77          	ld	(hl), a
2774  0BD6  01 00 00    	ld	bc,_anim_tile
2775  0BD9  DD 6E FB    	ld	l,(ix-5)
2776  0BDC  26 00       	ld	h,0x00
2777  0BDE  09          	add	hl,bc
2778  0BDF  DD 75 FC    	ld	(ix-4),l
2779  0BE2  DD 74 FD    	ld	(ix-3),h
2780  0BE5  DD 7E 06    	ld	a,(ix+6)
2781  0BE8  77          	ld	(hl), a
2782  0BE9  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2783  0BEB  DD 86 FB    	add	a,(ix-5)
2784  0BEE  4F          	ld	c, a
2785  0BEF  3E 00       	ld	a, +((_anim_loop) / 256)
2786  0BF1  CE 00       	adc	a,0x00
2787  0BF3  47          	ld	b, a
2788  0BF4  DD 7E 08    	ld	a,(ix+8)
2789  0BF7  02          	ld	(bc), a
2790  0BF8  01 00 00    	ld	bc,_anim_int+0
2791  0BFB  DD 6E FB    	ld	l,(ix-5)
2792  0BFE  26 00       	ld	h,0x00
2793  0C00  09          	add	hl, bc
2794  0C01  36 00       	ld	(hl),0x00
2795  0C03  3E 00       	ld	a, +((_anim_end) & 0xFF)
2796  0C05  DD 86 FB    	add	a,(ix-5)
2797  0C08  4F          	ld	c, a
2798  0C09  3E 00       	ld	a, +((_anim_end) / 256)
2799  0C0B  CE 00       	adc	a,0x00
2800  0C0D  47          	ld	b, a
2801  0C0E  DD 7E 07    	ld	a,(ix+7)
2802  0C11  02          	ld	(bc), a
2803  0C12  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2804  0C14  DD 86 FB    	add	a,(ix-5)
2805  0C17  4F          	ld	c, a
2806  0C18  3E 00       	ld	a, +((_anim_respanwn) / 256)
2807  0C1A  CE 00       	adc	a,0x00
2808  0C1C  47          	ld	b, a
2809  0C1D  DD 7E 09    	ld	a,(ix+9)
2810  0C20  02          	ld	(bc), a
2811  0C21  F3          	di
2812  0C22  DD 6E FE    	ld	l,(ix-2)
2813  0C25  DD 66 FF    	ld	h,(ix-1)
2814  0C28  46          	ld	b, (hl)
2815  0C29  1A          	ld	a, (de)
2816  0C2A  DD 6E FC    	ld	l,(ix-4)
2817  0C2D  DD 66 FD    	ld	h,(ix-3)
2818  0C30  56          	ld	d, (hl)
2819  0C31  C5          	push	bc
2820  0C32  33          	inc	sp
2821  0C33  5A          	ld	e,d
2822  0C34  57          	ld	d,a
2823  0C35  D5          	push	de
2824  0C36  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2825  0C39  FB          	ei
2826  0C3A  DD 66 05    	ld	h,(ix+5)
2827  0C3D  DD 6E 04    	ld	l,(ix+4)
2828  0C40  E5          	push	hl
2829  0C41  CD 00 00    	call	_spr_calc_index
2830  0C44  F1          	pop	af
2831  0C45  22 00 00    	ld	(_index0),hl
2832  0C48  01 00 00    	ld	bc,_scr_map
2833  0C4B  09          	add	hl,bc
2834  0C4C  7E          	ld	a,(hl)
2835  0C4D  B7          	or	a,a
2836  0C4E  20 0E       	jr	NZ,l_spr_add_anim_00111
2837  0C50  36 FF       	ld	(hl),0xff
2838  0C52  18 0A       	jr	l_spr_add_anim_00111
2839  0C54              l_spr_add_anim_00110:
2840  0C54  0C          	inc	c
2841  0C55  DD 71 FB    	ld	(ix-5),c
2842  0C58  79          	ld	a, c
2843  0C59  D6 08       	sub	a,0x08
2844  0C5B  DA AD 0B    	jp	C, l_spr_add_anim_00109
2845  0C5E              l_spr_add_anim_00111:
2846  0C5E  DD F9       	ld	sp, ix
2847  0C60  DD E1       	pop	ix
2848  0C62  C9          	ret
2849  0C63              	SECTION code_compiler
2850  0C63              ;	---------------------------------
2851  0C63              ; Function spr_play_anim
2852  0C63              ; ---------------------------------
2853  0C63              _spr_play_anim:
2854  0C63  CD 00 00    	call	___sdcc_enter_ix
2855  0C66  F5          	push	af
2856  0C67  F5          	push	af
2857  0C68  F5          	push	af
2858  0C69  F5          	push	af
2859  0C6A  DD 36 F8 00 	ld	(ix-8),0x00
2860  0C6E              l_spr_play_anim_00114:
2861  0C6E  01 00 00    	ld	bc,_anim_lin
2862  0C71  DD 6E F8    	ld	l,(ix-8)
2863  0C74  26 00       	ld	h,0x00
2864  0C76  09          	add	hl,bc
2865  0C77  DD 75 FE    	ld	(ix-2),l
2866  0C7A  DD 74 FF    	ld	(ix-1),h
2867  0C7D  4E          	ld	c, (hl)
2868  0C7E  0C          	inc	c
2869  0C7F  CA 82 0D    	jp	Z,l_spr_play_anim_00115
2870  0C82  21 01 00    	ld	hl,0x0001
2871  0C85  CD 00 00    	call	_z80_delay_ms_fastcall
2872  0C88  01 00 00    	ld	bc,_anim_int
2873  0C8B  DD 6E F8    	ld	l,(ix-8)
2874  0C8E  26 00       	ld	h,0x00
2875  0C90  09          	add	hl,bc
2876  0C91  DD 75 FC    	ld	(ix-4),l
2877  0C94  DD 74 FD    	ld	(ix-3),h
2878  0C97  4E          	ld	c, (hl)
2879  0C98  3E 00       	ld	a, +((_anim_end) & 0xFF)
2880  0C9A  DD 86 F8    	add	a,(ix-8)
2881  0C9D  6F          	ld	l, a
2882  0C9E  3E 00       	ld	a, +((_anim_end) / 256)
2883  0CA0  CE 00       	adc	a,0x00
2884  0CA2  67          	ld	h, a
2885  0CA3  46          	ld	b, (hl)
2886  0CA4  79          	ld	a, c
2887  0CA5  90          	sub	a, b
2888  0CA6  30 40       	jr	NC,l_spr_play_anim_00109
2889  0CA8  F3          	di
2890  0CA9  3E 00       	ld	a, +((_anim_col) & 0xFF)
2891  0CAB  DD 86 F8    	add	a,(ix-8)
2892  0CAE  6F          	ld	l, a
2893  0CAF  3E 00       	ld	a, +((_anim_col) / 256)
2894  0CB1  CE 00       	adc	a,0x00
2895  0CB3  67          	ld	h, a
2896  0CB4  56          	ld	d, (hl)
2897  0CB5  DD 6E FE    	ld	l,(ix-2)
2898  0CB8  DD 66 FF    	ld	h,(ix-1)
2899  0CBB  4E          	ld	c, (hl)
2900  0CBC  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2901  0CBE  DD 86 F8    	add	a,(ix-8)
2902  0CC1  6F          	ld	l, a
2903  0CC2  3E 00       	ld	a, +((_anim_tile) / 256)
2904  0CC4  CE 00       	adc	a,0x00
2905  0CC6  67          	ld	h, a
2906  0CC7  5E          	ld	e, (hl)
2907  0CC8  DD 6E FC    	ld	l,(ix-4)
2908  0CCB  DD 66 FD    	ld	h,(ix-3)
2909  0CCE  6E          	ld	l, (hl)
2910  0CCF  7B          	ld	a, e
2911  0CD0  85          	add	a, l
2912  0CD1  47          	ld	b, a
2913  0CD2  D5          	push	de
2914  0CD3  33          	inc	sp
2915  0CD4  79          	ld	a, c
2916  0CD5  48          	ld	c,b
2917  0CD6  47          	ld	b,a
2918  0CD7  C5          	push	bc
2919  0CD8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2920  0CDB  FB          	ei
2921  0CDC  DD 6E FC    	ld	l,(ix-4)
2922  0CDF  DD 66 FD    	ld	h,(ix-3)
2923  0CE2  4E          	ld	c,(hl)
2924  0CE3  0C          	inc	c
2925  0CE4  71          	ld	(hl), c
2926  0CE5  C3 82 0D    	jp	l_spr_play_anim_00115
2927  0CE8              l_spr_play_anim_00109:
2928  0CE8  01 00 00    	ld	bc,_anim_loop
2929  0CEB  DD 6E F8    	ld	l,(ix-8)
2930  0CEE  26 00       	ld	h,0x00
2931  0CF0  09          	add	hl,bc
2932  0CF1  DD 75 FA    	ld	(ix-6),l
2933  0CF4  DD 74 FB    	ld	(ix-5),h
2934  0CF7  7E          	ld	a, (hl)
2935  0CF8  DD 77 F9    	ld	(ix-7),a
2936  0CFB  B7          	or	a, a
2937  0CFC  20 71       	jr	NZ,l_spr_play_anim_00106
2938  0CFE  21 00 00    	ld	hl,_anim_count
2939  0D01  35          	dec	(hl)
2940  0D02  3E 00       	ld	a, +((_anim_col) & 0xFF)
2941  0D04  DD 86 F8    	add	a,(ix-8)
2942  0D07  6F          	ld	l, a
2943  0D08  3E 00       	ld	a, +((_anim_col) / 256)
2944  0D0A  CE 00       	adc	a,0x00
2945  0D0C  67          	ld	h, a
2946  0D0D  7E          	ld	a, (hl)
2947  0D0E  32 00 00    	ld	(_s_col0),a
2948  0D11  DD 6E FE    	ld	l,(ix-2)
2949  0D14  DD 66 FF    	ld	h,(ix-1)
2950  0D17  7E          	ld	a, (hl)
2951  0D18  32 00 00    	ld	(_s_lin0),a
2952  0D1B  2A FF FF    	ld	hl,(_s_col0 - 1)
2953  0D1E  6F          	ld	l,a
2954  0D1F  E5          	push	hl
2955  0D20  CD 00 00    	call	_spr_calc_index
2956  0D23  F1          	pop	af
2957  0D24  2A FF FF    	ld	hl,(_s_col0 - 1)
2958  0D27  3A 00 00    	ld	a,(_s_lin0)
2959  0D2A  6F          	ld	l,a
2960  0D2B  E5          	push	hl
2961  0D2C  CD 00 00    	call	_spr_calc_index
2962  0D2F  F1          	pop	af
2963  0D30  01 00 00    	ld	bc,_scr_map
2964  0D33  09          	add	hl,bc
2965  0D34  4E          	ld	c, (hl)
2966  0D35  0C          	inc	c
2967  0D36  20 12       	jr	NZ,l_spr_play_anim_00102
2968  0D38  2A FF FF    	ld	hl,(_s_col0 - 1)
2969  0D3B  3A 00 00    	ld	a,(_s_lin0)
2970  0D3E  6F          	ld	l,a
2971  0D3F  E5          	push	hl
2972  0D40  CD 00 00    	call	_spr_calc_index
2973  0D43  F1          	pop	af
2974  0D44  01 00 00    	ld	bc,_scr_map
2975  0D47  09          	add	hl,bc
2976  0D48  36 00       	ld	(hl),0x00
2977  0D4A              l_spr_play_anim_00102:
2978  0D4A  CD D2 09    	call	_spr_back_repaint
2979  0D4D  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2980  0D4F  DD 86 F8    	add	a,(ix-8)
2981  0D52  4F          	ld	c, a
2982  0D53  3E 00       	ld	a, +((_anim_respanwn) / 256)
2983  0D55  CE 00       	adc	a,0x00
2984  0D57  47          	ld	b, a
2985  0D58  0A          	ld	a, (bc)
2986  0D59  B7          	or	a, a
2987  0D5A  28 09       	jr	Z,l_spr_play_anim_00104
2988  0D5C  DD 7E F8    	ld	a,(ix-8)
2989  0D5F  F5          	push	af
2990  0D60  33          	inc	sp
2991  0D61  CD 00 00    	call	_enemy_respawn
2992  0D64  33          	inc	sp
2993  0D65              l_spr_play_anim_00104:
2994  0D65  DD 6E FE    	ld	l,(ix-2)
2995  0D68  DD 66 FF    	ld	h,(ix-1)
2996  0D6B  36 FF       	ld	(hl),0xff
2997  0D6D  18 13       	jr	l_spr_play_anim_00115
2998  0D6F              l_spr_play_anim_00106:
2999  0D6F  DD 4E F9    	ld	c,(ix-7)
3000  0D72  0D          	dec	c
3001  0D73  DD 6E FA    	ld	l,(ix-6)
3002  0D76  DD 66 FB    	ld	h,(ix-5)
3003  0D79  71          	ld	(hl), c
3004  0D7A  DD 6E FC    	ld	l,(ix-4)
3005  0D7D  DD 66 FD    	ld	h,(ix-3)
3006  0D80  36 00       	ld	(hl),0x00
3007  0D82              l_spr_play_anim_00115:
3008  0D82  DD 34 F8    	inc	(ix-8)
3009  0D85  DD 7E F8    	ld	a,(ix-8)
3010  0D88  D6 08       	sub	a,0x08
3011  0D8A  DA 6E 0C    	jp	C, l_spr_play_anim_00114
3012  0D8D  DD F9       	ld	sp, ix
3013  0D8F  DD E1       	pop	ix
3014  0D91  C9          	ret
3015  0D92              	SECTION code_compiler
3016  0D92              ;	---------------------------------
3017  0D92              ; Function spr_play_bullets
3018  0D92              ; ---------------------------------
3019  0D92              _spr_play_bullets:
3020  0D92  CD 00 00    	call	___sdcc_enter_ix
3021  0D95  21 F4 FF    	ld	hl, -12
3022  0D98  39          	add	hl, sp
3023  0D99  F9          	ld	sp, hl
3024  0D9A  3E 00       	ld	a,0x00
3025  0D9C  DD 77 F6    	ld	(ix-10),a
3026  0D9F  DD 77 F5    	ld	(ix-11),a
3027  0DA2              l_spr_play_bullets_00175:
3028  0DA2  01 00 00    	ld	bc,_bullet_col
3029  0DA5  DD 6E F5    	ld	l,(ix-11)
3030  0DA8  26 00       	ld	h,0x00
3031  0DAA  09          	add	hl,bc
3032  0DAB  DD 75 FE    	ld	(ix-2),l
3033  0DAE  DD 74 FF    	ld	(ix-1),h
3034  0DB1  7E          	ld	a, (hl)
3035  0DB2  DD 77 FD    	ld	(ix-3),a
3036  0DB5  3C          	inc	a
3037  0DB6  CA C6 11    	jp	Z,l_spr_play_bullets_00171
3038  0DB9  01 00 00    	ld	bc,_bullet_lin
3039  0DBC  DD 6E F5    	ld	l,(ix-11)
3040  0DBF  26 00       	ld	h,0x00
3041  0DC1  09          	add	hl,bc
3042  0DC2  DD 75 FB    	ld	(ix-5),l
3043  0DC5  DD 74 FC    	ld	(ix-4),h
3044  0DC8  7E          	ld	a, (hl)
3045  0DC9  32 00 00    	ld	(_s_lin0),a
3046  0DCC  DD 7E FD    	ld	a,(ix-3)
3047  0DCF  32 00 00    	ld	(_s_col0),a
3048  0DD2  DD 77 F4    	ld	(ix-12),a
3049  0DD5  CD D2 09    	call	_spr_back_repaint
3050  0DD8  01 00 00    	ld	bc,_bullet_class
3051  0DDB  DD 6E F5    	ld	l,(ix-11)
3052  0DDE  26 00       	ld	h,0x00
3053  0DE0  09          	add	hl,bc
3054  0DE1  DD 75 F9    	ld	(ix-7),l
3055  0DE4  DD 74 FA    	ld	(ix-6),h
3056  0DE7  7E          	ld	a, (hl)
3057  0DE8  D6 02       	sub	a,0x02
3058  0DEA  20 46       	jr	NZ,l_spr_play_bullets_00107
3059  0DEC  3A 00 00    	ld	a,(_s_lin0)
3060  0DEF  4F          	ld	c,a
3061  0DF0  06 00       	ld	b,0x00
3062  0DF2  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3063  0DF4  DD 86 F5    	add	a,(ix-11)
3064  0DF7  6F          	ld	l, a
3065  0DF8  3E 00       	ld	a, +((_bullet_lin0) / 256)
3066  0DFA  CE 00       	adc	a,0x00
3067  0DFC  67          	ld	h, a
3068  0DFD  5E          	ld	e, (hl)
3069  0DFE  16 00       	ld	d,0x00
3070  0E00  79          	ld	a, c
3071  0E01  93          	sub	a, e
3072  0E02  4F          	ld	c, a
3073  0E03  78          	ld	a, b
3074  0E04  9A          	sbc	a, d
3075  0E05  47          	ld	b, a
3076  0E06  3E 08       	ld	a,0x08
3077  0E08  B9          	cp	a, c
3078  0E09  3E 00       	ld	a,0x00
3079  0E0B  98          	sbc	a, b
3080  0E0C  E2 11 0E    	jp	PO, l_spr_play_bullets_00337
3081  0E0F  EE 80       	xor	a,0x80
3082  0E11              l_spr_play_bullets_00337:
3083  0E11  FA 2A 0E    	jp	M, l_spr_play_bullets_00104
3084  0E14  DD 6E FB    	ld	l,(ix-5)
3085  0E17  DD 66 FC    	ld	h,(ix-4)
3086  0E1A  4E          	ld	c, (hl)
3087  0E1B  0C          	inc	c
3088  0E1C  0C          	inc	c
3089  0E1D  DD 6E FB    	ld	l,(ix-5)
3090  0E20  DD 66 FC    	ld	h,(ix-4)
3091  0E23  71          	ld	(hl), c
3092  0E24  21 00 00    	ld	hl,_s_lin0
3093  0E27  71          	ld	(hl), c
3094  0E28  18 08       	jr	l_spr_play_bullets_00107
3095  0E2A              l_spr_play_bullets_00104:
3096  0E2A  DD 6E F9    	ld	l,(ix-7)
3097  0E2D  DD 66 FA    	ld	h,(ix-6)
3098  0E30  36 03       	ld	(hl),0x03
3099  0E32              l_spr_play_bullets_00107:
3100  0E32  DD 6E F9    	ld	l,(ix-7)
3101  0E35  DD 66 FA    	ld	h,(ix-6)
3102  0E38  7E          	ld	a, (hl)
3103  0E39  D6 03       	sub	a,0x03
3104  0E3B  20 46       	jr	NZ,l_spr_play_bullets_00112
3105  0E3D  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3106  0E3F  DD 86 F5    	add	a,(ix-11)
3107  0E42  6F          	ld	l, a
3108  0E43  3E 00       	ld	a, +((_bullet_lin0) / 256)
3109  0E45  CE 00       	adc	a,0x00
3110  0E47  67          	ld	h, a
3111  0E48  4E          	ld	c, (hl)
3112  0E49  06 00       	ld	b,0x00
3113  0E4B  3A 00 00    	ld	a,(_s_lin0)
3114  0E4E  5F          	ld	e,a
3115  0E4F  16 00       	ld	d,0x00
3116  0E51  79          	ld	a, c
3117  0E52  93          	sub	a, e
3118  0E53  4F          	ld	c, a
3119  0E54  78          	ld	a, b
3120  0E55  9A          	sbc	a, d
3121  0E56  47          	ld	b, a
3122  0E57  3E 08       	ld	a,0x08
3123  0E59  B9          	cp	a, c
3124  0E5A  3E 00       	ld	a,0x00
3125  0E5C  98          	sbc	a, b
3126  0E5D  E2 62 0E    	jp	PO, l_spr_play_bullets_00340
3127  0E60  EE 80       	xor	a,0x80
3128  0E62              l_spr_play_bullets_00340:
3129  0E62  FA 7B 0E    	jp	M, l_spr_play_bullets_00109
3130  0E65  DD 6E FB    	ld	l,(ix-5)
3131  0E68  DD 66 FC    	ld	h,(ix-4)
3132  0E6B  4E          	ld	c, (hl)
3133  0E6C  0D          	dec	c
3134  0E6D  0D          	dec	c
3135  0E6E  DD 6E FB    	ld	l,(ix-5)
3136  0E71  DD 66 FC    	ld	h,(ix-4)
3137  0E74  71          	ld	(hl), c
3138  0E75  21 00 00    	ld	hl,_s_lin0
3139  0E78  71          	ld	(hl), c
3140  0E79  18 08       	jr	l_spr_play_bullets_00112
3141  0E7B              l_spr_play_bullets_00109:
3142  0E7B  DD 6E F9    	ld	l,(ix-7)
3143  0E7E  DD 66 FA    	ld	h,(ix-6)
3144  0E81  36 02       	ld	(hl),0x02
3145  0E83              l_spr_play_bullets_00112:
3146  0E83  DD 6E F9    	ld	l,(ix-7)
3147  0E86  DD 66 FA    	ld	h,(ix-6)
3148  0E89  7E          	ld	a, (hl)
3149  0E8A  D6 04       	sub	a,0x04
3150  0E8C  20 66       	jr	NZ,l_spr_play_bullets_00123
3151  0E8E  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3152  0E90  DD 86 F5    	add	a,(ix-11)
3153  0E93  4F          	ld	c, a
3154  0E94  3E 00       	ld	a, +((_bullet_vel) / 256)
3155  0E96  CE 00       	adc	a,0x00
3156  0E98  47          	ld	b, a
3157  0E99  0A          	ld	a, (bc)
3158  0E9A  5F          	ld	e, a
3159  0E9B  21 00 00    	ld	hl,_game_gravity
3160  0E9E  56          	ld	d, (hl)
3161  0E9F  7B          	ld	a, e
3162  0EA0  82          	add	a, d
3163  0EA1  5F          	ld	e,a
3164  0EA2  02          	ld	(bc), a
3165  0EA3  3E 78       	ld	a,0x78
3166  0EA5  93          	sub	a, e
3167  0EA6  E2 AB 0E    	jp	PO, l_spr_play_bullets_00343
3168  0EA9  EE 80       	xor	a,0x80
3169  0EAB              l_spr_play_bullets_00343:
3170  0EAB  F2 B1 0E    	jp	P, l_spr_play_bullets_00114
3171  0EAE  3E 78       	ld	a,0x78
3172  0EB0  02          	ld	(bc), a
3173  0EB1              l_spr_play_bullets_00114:
3174  0EB1  0A          	ld	a, (bc)
3175  0EB2  EE 80       	xor	a,0x80
3176  0EB4  D6 08       	sub	a,0x08
3177  0EB6  30 03       	jr	NC,l_spr_play_bullets_00116
3178  0EB8  3E 88       	ld	a,0x88
3179  0EBA  02          	ld	(bc), a
3180  0EBB              l_spr_play_bullets_00116:
3181  0EBB  0A          	ld	a, (bc)
3182  0EBC  CB 47       	bit	0,a
3183  0EBE  32 00 00    	ld	(_s_lin1),a
3184  0EC1  28 04       	jr	Z,l_spr_play_bullets_00118
3185  0EC3  21 00 00    	ld	hl,_s_lin1
3186  0EC6  35          	dec	(hl)
3187  0EC7              l_spr_play_bullets_00118:
3188  0EC7  DD 6E FB    	ld	l,(ix-5)
3189  0ECA  DD 66 FC    	ld	h,(ix-4)
3190  0ECD  7E          	ld	a, (hl)
3191  0ECE  21 00 00    	ld	hl,_s_lin1
3192  0ED1  86          	add	a, (hl)
3193  0ED2  21 00 00    	ld	hl,_s_lin0
3194  0ED5  77          	ld	(hl), a
3195  0ED6  3E 90       	ld	a,0x90
3196  0ED8  96          	sub	a, (hl)
3197  0ED9  30 0F       	jr	NC,l_spr_play_bullets_00120
3198  0EDB  21 00 00    	ld	hl,_bullet_count
3199  0EDE  35          	dec	(hl)
3200  0EDF  DD 6E FE    	ld	l,(ix-2)
3201  0EE2  DD 66 FF    	ld	h,(ix-1)
3202  0EE5  36 FF       	ld	(hl),0xff
3203  0EE7  C3 C6 11    	jp	l_spr_play_bullets_00171
3204  0EEA              l_spr_play_bullets_00120:
3205  0EEA  DD 6E FB    	ld	l,(ix-5)
3206  0EED  DD 66 FC    	ld	h,(ix-4)
3207  0EF0  3A 00 00    	ld	a,(_s_lin0)
3208  0EF3  77          	ld	(hl),a
3209  0EF4              l_spr_play_bullets_00123:
3210  0EF4  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3211  0EF6  DD 86 F5    	add	a,(ix-11)
3212  0EF9  6F          	ld	l, a
3213  0EFA  3E 00       	ld	a, +((_bullet_dir) / 256)
3214  0EFC  CE 00       	adc	a,0x00
3215  0EFE  67          	ld	h, a
3216  0EFF  4E          	ld	c, (hl)
3217  0F00  0C          	inc	c
3218  0F01  20 3D       	jr	NZ,l_spr_play_bullets_00133
3219  0F03  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3220  0F05  DD 86 F5    	add	a,(ix-11)
3221  0F08  4F          	ld	c, a
3222  0F09  3E 00       	ld	a, +((_bullet_colint) / 256)
3223  0F0B  CE 00       	adc	a,0x00
3224  0F0D  47          	ld	b, a
3225  0F0E  0A          	ld	a, (bc)
3226  0F0F  3C          	inc	a
3227  0F10  5F          	ld	e,a
3228  0F11  02          	ld	(bc), a
3229  0F12  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3230  0F14  DD 86 F5    	add	a,(ix-11)
3231  0F17  6F          	ld	l, a
3232  0F18  3E 00       	ld	a, +((_bullet_frames) / 256)
3233  0F1A  CE 00       	adc	a,0x00
3234  0F1C  67          	ld	h, a
3235  0F1D  56          	ld	d, (hl)
3236  0F1E  7B          	ld	a, e
3237  0F1F  92          	sub	a, d
3238  0F20  38 63       	jr	C,l_spr_play_bullets_00134
3239  0F22  DD 6E FE    	ld	l,(ix-2)
3240  0F25  DD 66 FF    	ld	h,(ix-1)
3241  0F28  7E          	ld	a, (hl)
3242  0F29  3C          	inc	a
3243  0F2A  DD 77 F4    	ld	(ix-12),a
3244  0F2D  AF          	xor	a, a
3245  0F2E  02          	ld	(bc), a
3246  0F2F  DD 7E F4    	ld	a,(ix-12)
3247  0F32  E6 01       	and	a,0x01
3248  0F34  3D          	dec	a
3249  0F35  20 4E       	jr	NZ,l_spr_play_bullets_00134
3250  0F37  DD 7E F4    	ld	a,(ix-12)
3251  0F3A  3C          	inc	a
3252  0F3B  32 00 00    	ld	(_s_col0),a
3253  0F3E  18 45       	jr	l_spr_play_bullets_00134
3254  0F40              l_spr_play_bullets_00133:
3255  0F40  01 00 00    	ld	bc,_bullet_colint
3256  0F43  DD 6E F5    	ld	l,(ix-11)
3257  0F46  26 00       	ld	h,0x00
3258  0F48  09          	add	hl,bc
3259  0F49  DD 75 F7    	ld	(ix-9),l
3260  0F4C  DD 74 F8    	ld	(ix-8),h
3261  0F4F  4E          	ld	c,(hl)
3262  0F50  0D          	dec	c
3263  0F51  71          	ld	(hl), c
3264  0F52  0C          	inc	c
3265  0F53  20 30       	jr	NZ,l_spr_play_bullets_00134
3266  0F55  DD 6E FE    	ld	l,(ix-2)
3267  0F58  DD 66 FF    	ld	h,(ix-1)
3268  0F5B  7E          	ld	a, (hl)
3269  0F5C  C6 FF       	add	a,0xff
3270  0F5E  DD 77 F4    	ld	(ix-12),a
3271  0F61  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3272  0F63  DD 86 F5    	add	a,(ix-11)
3273  0F66  6F          	ld	l, a
3274  0F67  3E 00       	ld	a, +((_bullet_frames) / 256)
3275  0F69  CE 00       	adc	a,0x00
3276  0F6B  67          	ld	h, a
3277  0F6C  4E          	ld	c, (hl)
3278  0F6D  0D          	dec	c
3279  0F6E  DD 6E F7    	ld	l,(ix-9)
3280  0F71  DD 66 F8    	ld	h,(ix-8)
3281  0F74  71          	ld	(hl), c
3282  0F75  DD 7E F4    	ld	a,(ix-12)
3283  0F78  E6 01       	and	a,0x01
3284  0F7A  3D          	dec	a
3285  0F7B  20 08       	jr	NZ,l_spr_play_bullets_00134
3286  0F7D  DD 7E F4    	ld	a,(ix-12)
3287  0F80  C6 FF       	add	a,0xff
3288  0F82  32 00 00    	ld	(_s_col0),a
3289  0F85              l_spr_play_bullets_00134:
3290  0F85  21 00 00    	ld	hl,_tmp1
3291  0F88  36 00       	ld	(hl),0x00
3292  0F8A  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3293  0F8C  DD 86 F5    	add	a,(ix-11)
3294  0F8F  4F          	ld	c, a
3295  0F90  3E 00       	ld	a, +((_bullet_max) / 256)
3296  0F92  CE 00       	adc	a,0x00
3297  0F94  47          	ld	b, a
3298  0F95  0A          	ld	a, (bc)
3299  0F96  B7          	or	a, a
3300  0F97  28 27       	jr	Z,l_spr_play_bullets_00138
3301  0F99  DD 5E F4    	ld	e,(ix-12)
3302  0F9C  16 00       	ld	d,0x00
3303  0F9E  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3304  0FA0  DD 86 F5    	add	a,(ix-11)
3305  0FA3  6F          	ld	l, a
3306  0FA4  3E 00       	ld	a, +((_bullet_col0) / 256)
3307  0FA6  CE 00       	adc	a,0x00
3308  0FA8  67          	ld	h, a
3309  0FA9  6E          	ld	l, (hl)
3310  0FAA  AF          	xor	a,a
3311  0FAB  67          	ld	h,a
3312  0FAC  EB          	ex	de,hl
3313  0FAD  ED 52       	sbc	hl,de
3314  0FAF  CD 00 00    	call	_abs_fastcall
3315  0FB2  5D          	ld	e, l
3316  0FB3  21 00 00    	ld	hl,_tmp0
3317  0FB6  73          	ld	(hl), e
3318  0FB7  0A          	ld	a, (bc)
3319  0FB8  96          	sub	a, (hl)
3320  0FB9  30 05       	jr	NC,l_spr_play_bullets_00138
3321  0FBB  21 00 00    	ld	hl,_tmp1
3322  0FBE  36 01       	ld	(hl),0x01
3323  0FC0              l_spr_play_bullets_00138:
3324  0FC0  DD 7E F4    	ld	a,(ix-12)
3325  0FC3  D6 1E       	sub	a,0x1e
3326  0FC5  38 05       	jr	C,l_spr_play_bullets_00140
3327  0FC7  21 00 00    	ld	hl,_tmp1
3328  0FCA  36 01       	ld	(hl),0x01
3329  0FCC              l_spr_play_bullets_00140:
3330  0FCC  3A 00 00    	ld	a,(_tmp1)
3331  0FCF  B7          	or	a, a
3332  0FD0  28 0F       	jr	Z,l_spr_play_bullets_00142
3333  0FD2  21 00 00    	ld	hl,_bullet_count
3334  0FD5  35          	dec	(hl)
3335  0FD6  DD 6E FE    	ld	l,(ix-2)
3336  0FD9  DD 66 FF    	ld	h,(ix-1)
3337  0FDC  36 FF       	ld	(hl),0xff
3338  0FDE  C3 C6 11    	jp	l_spr_play_bullets_00171
3339  0FE1              l_spr_play_bullets_00142:
3340  0FE1  DD 7E FE    	ld	a,(ix-2)
3341  0FE4  DD 77 F7    	ld	(ix-9),a
3342  0FE7  DD 7E FF    	ld	a,(ix-1)
3343  0FEA  DD 77 F8    	ld	(ix-8),a
3344  0FED  DD 6E FE    	ld	l,(ix-2)
3345  0FF0  DD 66 FF    	ld	h,(ix-1)
3346  0FF3  DD 7E F4    	ld	a,(ix-12)
3347  0FF6  96          	sub	a,(hl)
3348  0FF7  CA 91 11    	jp	Z,l_spr_play_bullets_00168
3349  0FFA  3A 00 00    	ld	a,(_s_lin0)
3350  0FFD  C6 08       	add	a,0x08
3351  0FFF  4F          	ld	c, a
3352  1000  3A 00 00    	ld	a, (_s_col0)
3353  1003  47          	ld	b,a
3354  1004  C5          	push	bc
3355  1005  CD 00 00    	call	_spr_calc_index
3356  1008  F1          	pop	af
3357  1009  22 00 00    	ld	(_index0),hl
3358  100C  01 00 00    	ld	bc,_scr_map
3359  100F  09          	add	hl,bc
3360  1010  5E          	ld	e,(hl)
3361  1011  DD 7E F5    	ld	a,(ix-11)
3362  1014  D6 07       	sub	a,0x07
3363  1016  4D          	ld	c,l
3364  1017  44          	ld	b,h
3365  1018  20 04       	jr	NZ,l_spr_play_bullets_00354
3366  101A  3E 01       	ld	a,0x01
3367  101C  18 01       	jr	l_spr_play_bullets_00355
3368  101E              l_spr_play_bullets_00354:
3369  101E  AF          	xor	a,a
3370  101F              l_spr_play_bullets_00355:
3371  101F  DD 77 FD    	ld	(ix-3),a
3372  1022  7B          	ld	a, e
3373  1023  D6 4D       	sub	a,0x4d
3374  1025  20 40       	jr	NZ,l_spr_play_bullets_00144
3375  1027  DD 7E FD    	ld	a,(ix-3)
3376  102A  B7          	or	a, a
3377  102B  28 3A       	jr	Z,l_spr_play_bullets_00144
3378  102D  AF          	xor	a, a
3379  102E  02          	ld	(bc), a
3380  102F  2A 00 00    	ld	hl,(_index0)
3381  1032  E5          	push	hl
3382  1033  CD 00 00    	call	_game_obj_set
3383  1036  F1          	pop	af
3384  1037  2A 00 00    	ld	hl,(_index0)
3385  103A  4D          	ld	c,l
3386  103B  5C          	ld	e,h
3387  103C  06 04       	ld	b,0x04
3388  103E  79          	ld	a,c
3389  103F              l_spr_play_bullets_00358:
3390  103F  CB 3B       	srl	e
3391  1041  1F          	rra
3392  1042  10 FB       	djnz	l_spr_play_bullets_00358
3393  1044  07          	rlca
3394  1045  07          	rlca
3395  1046  07          	rlca
3396  1047  07          	rlca
3397  1048  E6 F0       	and	a,0xf0
3398  104A  DD 6E FB    	ld	l,(ix-5)
3399  104D  DD 66 FC    	ld	h,(ix-4)
3400  1050  77          	ld	(hl), a
3401  1051  3A 00 00    	ld	a,(_index0)
3402  1054  E6 0F       	and	a,0x0f
3403  1056  87          	add	a, a
3404  1057  DD 6E FE    	ld	l,(ix-2)
3405  105A  DD 66 FF    	ld	h,(ix-1)
3406  105D  77          	ld	(hl), a
3407  105E  DD 6E F5    	ld	l,(ix-11)
3408  1061  CD D9 11    	call	_spr_explode_bullet
3409  1064  C3 C6 11    	jp	l_spr_play_bullets_00171
3410  1067              l_spr_play_bullets_00144:
3411  1067  7B          	ld	a, e
3412  1068  D6 3C       	sub	a,0x3c
3413  106A  38 0C       	jr	C,l_spr_play_bullets_00147
3414  106C  1C          	inc	e
3415  106D  28 09       	jr	Z,l_spr_play_bullets_00147
3416  106F  DD 6E F5    	ld	l,(ix-11)
3417  1072  CD D9 11    	call	_spr_explode_bullet
3418  1075  C3 C6 11    	jp	l_spr_play_bullets_00171
3419  1078              l_spr_play_bullets_00147:
3420  1078  DD 6E FE    	ld	l,(ix-2)
3421  107B  DD 66 FF    	ld	h,(ix-1)
3422  107E  DD 7E F4    	ld	a,(ix-12)
3423  1081  77          	ld	(hl), a
3424  1082  DD 6E F9    	ld	l,(ix-7)
3425  1085  DD 66 FA    	ld	h,(ix-6)
3426  1088  7E          	ld	a, (hl)
3427  1089  D6 04       	sub	a,0x04
3428  108B  20 14       	jr	NZ,l_spr_play_bullets_00150
3429  108D  21 00 00    	ld	hl,_s_lin0
3430  1090  7E          	ld	a, (hl)
3431  1091  C6 F0       	add	a,0xf0
3432  1093  4F          	ld	c, a
3433  1094  7E          	ld	a, (hl)
3434  1095  C6 10       	add	a,0x10
3435  1097  5F          	ld	e, a
3436  1098  DD 35 F4    	dec	(ix-12)
3437  109B  DD 56 F4    	ld	d,(ix-12)
3438  109E  14          	inc	d
3439  109F  18 0F       	jr	l_spr_play_bullets_00151
3440  10A1              l_spr_play_bullets_00150:
3441  10A1  21 00 00    	ld	hl,_s_lin0
3442  10A4  7E          	ld	a, (hl)
3443  10A5  C6 F8       	add	a,0xf8
3444  10A7  4F          	ld	c, a
3445  10A8  7E          	ld	a, (hl)
3446  10A9  C6 08       	add	a,0x08
3447  10AB  5F          	ld	e, a
3448  10AC  DD 56 F4    	ld	d,(ix-12)
3449  10AF  14          	inc	d
3450  10B0              l_spr_play_bullets_00151:
3451  10B0  DD 7E FD    	ld	a,(ix-3)
3452  10B3  B7          	or	a, a
3453  10B4  CA 5D 11    	jp	Z, l_spr_play_bullets_00165
3454  10B7  21 00 00    	ld	hl,_tmp0
3455  10BA  36 00       	ld	(hl),0x00
3456  10BC              l_spr_play_bullets_00173:
3457  10BC  3E 00       	ld	a, +((_class) & 0xFF)
3458  10BE  21 00 00    	ld	hl,_tmp0
3459  10C1  86          	add	a, (hl)
3460  10C2  DD 77 F9    	ld	(ix-7),a
3461  10C5  6F          	ld	l,a
3462  10C6  3E 00       	ld	a,+((_class) / 256)
3463  10C8  CE 00       	adc	a,0x00
3464  10CA  DD 77 FA    	ld	(ix-6),a
3465  10CD  67          	ld	h,a
3466  10CE  7E          	ld	a, (hl)
3467  10CF  B7          	or	a, a
3468  10D0  CA 50 11    	jp	Z, l_spr_play_bullets_00174
3469  10D3  3E 00       	ld	a, +((_lin) & 0xFF)
3470  10D5  21 00 00    	ld	hl,_tmp0
3471  10D8  86          	add	a, (hl)
3472  10D9  DD 77 F9    	ld	(ix-7),a
3473  10DC  6F          	ld	l,a
3474  10DD  3E 00       	ld	a,+((_lin) / 256)
3475  10DF  CE 00       	adc	a,0x00
3476  10E1  DD 77 FA    	ld	(ix-6),a
3477  10E4  67          	ld	h,a
3478  10E5  7E          	ld	a, (hl)
3479  10E6  DD 77 F9    	ld	(ix-7),a
3480  10E9  91          	sub	a, c
3481  10EA  38 64       	jr	C,l_spr_play_bullets_00174
3482  10EC  7B          	ld	a, e
3483  10ED  DD 96 F9    	sub	a,(ix-7)
3484  10F0  38 5E       	jr	C,l_spr_play_bullets_00174
3485  10F2  3E 00       	ld	a, +((_col) & 0xFF)
3486  10F4  21 00 00    	ld	hl,_tmp0
3487  10F7  86          	add	a, (hl)
3488  10F8  DD 77 FB    	ld	(ix-5),a
3489  10FB  6F          	ld	l,a
3490  10FC  3E 00       	ld	a,+((_col) / 256)
3491  10FE  CE 00       	adc	a,0x00
3492  1100  DD 77 FC    	ld	(ix-4),a
3493  1103  67          	ld	h,a
3494  1104  7E          	ld	a,(hl)
3495  1105  47          	ld	b,a
3496  1106  DD 96 F4    	sub	a,(ix-12)
3497  1109  38 45       	jr	C,l_spr_play_bullets_00174
3498  110B  7A          	ld	a, d
3499  110C  90          	sub	a, b
3500  110D  38 41       	jr	C,l_spr_play_bullets_00174
3501  110F  DD 7E F9    	ld	a,(ix-7)
3502  1112  32 00 00    	ld	(_s_lin0),a
3503  1115  21 00 00    	ld	hl,_s_col0
3504  1118  70          	ld	(hl), b
3505  1119  CD 00 00    	call	_rand
3506  111C  01 06 00    	ld	bc,0x0006
3507  111F  C5          	push	bc
3508  1120  E5          	push	hl
3509  1121  CD 00 00    	call	__modsint_callee
3510  1124  CD 00 00    	call	_player_score_add
3511  1127  2A 00 00    	ld	hl,(_tmp0)
3512  112A  26 00       	ld	h,0x00
3513  112C  29          	add	hl,hl
3514  112D  01 00 00    	ld	bc,_game_respawn_time
3515  1130  09          	add	hl,bc
3516  1131  ED 5B 00 00 	ld	de,(_curr_time)
3517  1135  73          	ld	(hl),e
3518  1136  23          	inc	hl
3519  1137  72          	ld	(hl),d
3520  1138  2A 00 00    	ld	hl,(_tmp0)
3521  113B  CD 33 06    	call	_spr_destroy
3522  113E  DD 6E F7    	ld	l,(ix-9)
3523  1141  DD 66 F8    	ld	h,(ix-8)
3524  1144  3A 00 00    	ld	a,(_s_col0)
3525  1147  77          	ld	(hl),a
3526  1148  DD 6E F5    	ld	l,(ix-11)
3527  114B  CD D9 11    	call	_spr_explode_bullet
3528  114E  18 41       	jr	l_spr_play_bullets_00168
3529  1150              l_spr_play_bullets_00174:
3530  1150  21 00 00    	ld	hl,_tmp0
3531  1153  7E          	ld	a,(hl)
3532  1154  3C          	inc	a
3533  1155  77          	ld	(hl),a
3534  1156  D6 07       	sub	a,0x07
3535  1158  DA BC 10    	jp	C, l_spr_play_bullets_00173
3536  115B  18 34       	jr	l_spr_play_bullets_00168
3537  115D              l_spr_play_bullets_00165:
3538  115D  3A 07 00    	ld	a,(_lin + 7)
3539  1160  47          	ld	b,a
3540  1161  91          	sub	a, c
3541  1162  38 2D       	jr	C,l_spr_play_bullets_00168
3542  1164  7B          	ld	a, e
3543  1165  90          	sub	a, b
3544  1166  38 29       	jr	C,l_spr_play_bullets_00168
3545  1168  3A 07 00    	ld	a,(_col + 7)
3546  116B  4F          	ld	c,a
3547  116C  DD 96 F4    	sub	a,(ix-12)
3548  116F  38 20       	jr	C,l_spr_play_bullets_00168
3549  1171  7A          	ld	a, d
3550  1172  91          	sub	a, c
3551  1173  38 1C       	jr	C,l_spr_play_bullets_00168
3552  1175  2E 03       	ld	l,0x03
3553  1177  CD 00 00    	call	_zx_border_fastcall
3554  117A  2E 0A       	ld	l,0x0a
3555  117C  CD 00 00    	call	_player_hit
3556  117F  DD 6E FE    	ld	l,(ix-2)
3557  1182  DD 66 FF    	ld	h,(ix-1)
3558  1185  3A 00 00    	ld	a,(_s_col0)
3559  1188  77          	ld	(hl),a
3560  1189  DD 6E F6    	ld	l,(ix-10)
3561  118C  CD D9 11    	call	_spr_explode_bullet
3562  118F  18 43       	jr	l_spr_play_bullets_00176
3563  1191              l_spr_play_bullets_00168:
3564  1191  DD 6E F7    	ld	l,(ix-9)
3565  1194  DD 66 F8    	ld	h,(ix-8)
3566  1197  4E          	ld	c, (hl)
3567  1198  0C          	inc	c
3568  1199  28 2B       	jr	Z,l_spr_play_bullets_00171
3569  119B  F3          	di
3570  119C  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3571  119E  DD 86 F5    	add	a,(ix-11)
3572  11A1  6F          	ld	l, a
3573  11A2  3E 00       	ld	a, +((_bullet_tile) / 256)
3574  11A4  CE 00       	adc	a,0x00
3575  11A6  67          	ld	h, a
3576  11A7  4E          	ld	c, (hl)
3577  11A8  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3578  11AA  DD 86 F5    	add	a,(ix-11)
3579  11AD  6F          	ld	l, a
3580  11AE  3E 00       	ld	a, +((_bullet_colint) / 256)
3581  11B0  CE 00       	adc	a,0x00
3582  11B2  67          	ld	h, a
3583  11B3  46          	ld	b, (hl)
3584  11B4  79          	ld	a, c
3585  11B5  80          	add	a, b
3586  11B6  47          	ld	b, a
3587  11B7  DD 7E F4    	ld	a,(ix-12)
3588  11BA  F5          	push	af
3589  11BB  33          	inc	sp
3590  11BC  3A 00 00    	ld	a,(_s_lin0)
3591  11BF  48          	ld	c,b
3592  11C0  47          	ld	b,a
3593  11C1  C5          	push	bc
3594  11C2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3595  11C5  FB          	ei
3596  11C6              l_spr_play_bullets_00171:
3597  11C6  DD 34 F5    	inc	(ix-11)
3598  11C9  DD 7E F5    	ld	a,(ix-11)
3599  11CC  DD 77 F6    	ld	(ix-10),a
3600  11CF  D6 08       	sub	a,0x08
3601  11D1  DA A2 0D    	jp	C, l_spr_play_bullets_00175
3602  11D4              l_spr_play_bullets_00176:
3603  11D4  DD F9       	ld	sp, ix
3604  11D6  DD E1       	pop	ix
3605  11D8  C9          	ret
3606  11D9              	SECTION code_compiler
3607  11D9              ;	---------------------------------
3608  11D9              ; Function spr_explode_bullet
3609  11D9              ; ---------------------------------
3610  11D9              _spr_explode_bullet:
3611  11D9  5D          	ld	e, l
3612  11DA  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3613  11DC  83          	add	a, e
3614  11DD  4F          	ld	c, a
3615  11DE  3E 00       	ld	a, +((_bullet_col) / 256)
3616  11E0  CE 00       	adc	a,0x00
3617  11E2  47          	ld	b, a
3618  11E3  0A          	ld	a, (bc)
3619  11E4  57          	ld	d, a
3620  11E5  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3621  11E7  83          	add	a, e
3622  11E8  6F          	ld	l, a
3623  11E9  3E 00       	ld	a, +((_bullet_lin) / 256)
3624  11EB  CE 00       	adc	a,0x00
3625  11ED  67          	ld	h, a
3626  11EE  5E          	ld	e, (hl)
3627  11EF  C5          	push	bc
3628  11F0  21 00 00    	ld	hl,0x0000
3629  11F3  E5          	push	hl
3630  11F4  21 87 03    	ld	hl,0x0387
3631  11F7  E5          	push	hl
3632  11F8  D5          	push	de
3633  11F9  CD 92 0B    	call	_spr_add_anim
3634  11FC  F1          	pop	af
3635  11FD  F1          	pop	af
3636  11FE  F1          	pop	af
3637  11FF  C1          	pop	bc
3638  1200  21 00 00    	ld	hl,_bullet_count
3639  1203  35          	dec	(hl)
3640  1204  3E FF       	ld	a,0xff
3641  1206  02          	ld	(bc), a
3642  1207  C9          	ret
3643  1208              	SECTION code_compiler
3644  1208              ;	---------------------------------
3645  1208              ; Function spr_turn_horizontal
3646  1208              ; ---------------------------------
3647  1208              _spr_turn_horizontal:
3648  1208  21 00 00    	ld	hl,_s_state
3649  120B  CB 56       	bit	2, (hl)
3650  120D  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3651  120F  21 00 00    	ld	hl,_s_state
3652  1212  7E          	ld	a,(hl)
3653  1213  F6 08       	or	a,0x08
3654  1215  E6 FB       	and	a,0xfb
3655  1217  77          	ld	(hl),a
3656  1218  18 09       	jr	l_spr_turn_horizontal_00103
3657  121A              l_spr_turn_horizontal_00102:
3658  121A  21 00 00    	ld	hl,_s_state
3659  121D  7E          	ld	a,(hl)
3660  121E  E6 F7       	and	a,0xf7
3661  1220  F6 04       	or	a,0x04
3662  1222  77          	ld	(hl),a
3663  1223              l_spr_turn_horizontal_00103:
3664  1223  2A 00 00    	ld	hl,(_sprite)
3665  1226  26 00       	ld	h,0x00
3666  1228  01 00 00    	ld	bc,_state
3667  122B  09          	add	hl,bc
3668  122C  3A 00 00    	ld	a,(_s_state)
3669  122F  77          	ld	(hl),a
3670  1230  2A 00 00    	ld	hl,(_sprite)
3671  1233  26 00       	ld	h,0x00
3672  1235  01 00 00    	ld	bc,_tile
3673  1238  09          	add	hl,bc
3674  1239  E5          	push	hl
3675  123A  2A 00 00    	ld	hl,(_sprite)
3676  123D  CD 9C 06    	call	_spr_tile
3677  1240  C1          	pop	bc
3678  1241  7D          	ld	a,l
3679  1242  02          	ld	(bc), a
3680  1243  C9          	ret
3681  1244              	SECTION code_compiler
3682  1244              ;	---------------------------------
3683  1244              ; Function spr_btile_paint_back
3684  1244              ; ---------------------------------
3685  1244              _spr_btile_paint_back:
3686  1244  21 20 00    	ld	hl,0x0020
3687  1247  22 00 00    	ld	(_tmp_ui),hl
3688  124A              l_spr_btile_paint_back_00106:
3689  124A  21 00 00    	ld	hl,_tmp_ui
3690  124D  7E          	ld	a, (hl)
3691  124E  D6 A0       	sub	a,0xa0
3692  1250  23          	inc	hl
3693  1251  7E          	ld	a, (hl)
3694  1252  DE 28       	sbc	a,0x28
3695  1254  30 4C       	jr	NC,l_spr_btile_paint_back_00109
3696  1256  21 00 00    	ld	hl,_tmp0
3697  1259  36 00       	ld	(hl),0x00
3698  125B              l_spr_btile_paint_back_00103:
3699  125B  3A 00 00    	ld	a,(_tmp0)
3700  125E  D6 10       	sub	a,0x10
3701  1260  30 34       	jr	NC,l_spr_btile_paint_back_00105
3702  1262  01 00 00    	ld	bc,_btiles
3703  1265  2A 00 00    	ld	hl,(_tmp_ui)
3704  1268  09          	add	hl,bc
3705  1269  7D          	ld	a,l
3706  126A  44          	ld	b,h
3707  126B  21 00 00    	ld	hl,_tmp0
3708  126E  86          	add	a, (hl)
3709  126F  4F          	ld	c, a
3710  1270  78          	ld	a, b
3711  1271  CE 00       	adc	a,0x00
3712  1273  47          	ld	b, a
3713  1274  0A          	ld	a, (bc)
3714  1275  32 00 00    	ld	(_tmp),a
3715  1278  E6 38       	and	a,0x38
3716  127A  5F          	ld	e, a
3717  127B  3A 00 00    	ld	a,(_map_paper_last)
3718  127E  93          	sub	a, e
3719  127F  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
3720  1281  21 00 00    	ld	hl,_tmp
3721  1284  7E          	ld	a, (hl)
3722  1285  E6 C7       	and	a,0xc7
3723  1287  77          	ld	(hl),a
3724  1288  21 00 00    	ld	hl,_map_paper
3725  128B  B6          	or	a, (hl)
3726  128C  32 00 00    	ld	(_tmp),a
3727  128F  02          	ld	(bc), a
3728  1290              l_spr_btile_paint_back_00102:
3729  1290  21 00 00    	ld	hl,_tmp0
3730  1293  34          	inc	(hl)
3731  1294  18 C5       	jr	l_spr_btile_paint_back_00103
3732  1296              l_spr_btile_paint_back_00105:
3733  1296  2A 00 00    	ld	hl,(_tmp_ui)
3734  1299  11 30 00    	ld	de,0x0030
3735  129C  19          	add	hl,de
3736  129D  22 00 00    	ld	(_tmp_ui),hl
3737  12A0  18 A8       	jr	l_spr_btile_paint_back_00106
3738  12A2              l_spr_btile_paint_back_00109:
3739  12A2  C9          	ret
3740  12A3              	SECTION IGNORE
3741  0000              
