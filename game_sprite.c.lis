1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_check_map
190   0000              	GLOBAL _spr_check_map_fall
191   0000              	GLOBAL _spr_chktime
192   0000              	GLOBAL _spr_move_jump
193   0000              	GLOBAL _spr_move_up
194   0000              	GLOBAL _spr_move_down
195   0000              	GLOBAL _spr_move_horizontal
196   0000              	GLOBAL _spr_move_right
197   0000              	GLOBAL _spr_move_left
198   0000              	GLOBAL _spr_page_right
199   0000              	GLOBAL _spr_page_left
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_destroy
203   0000              	GLOBAL _spr_tile
204   0000              	GLOBAL _spr_tile_dir
205   0000              	GLOBAL _spr_draw_map
206   0000              	GLOBAL _spr_draw_clear
207   0000              	GLOBAL _spr_brick_anim
208   0000              	GLOBAL _spr_draw_index
209   0000              	GLOBAL _spr_draw_row
210   0000              	GLOBAL _spr_calc_hor
211   0000              	GLOBAL _spr_collision_check
212   0000              	GLOBAL _spr_kill_all
213   0000              	GLOBAL _spr_back_repaint
214   0000              	GLOBAL _spr_tile_paint
215   0000              	GLOBAL _spr_init_anim
216   0000              	GLOBAL _spr_init_bullet
217   0000              	GLOBAL _spr_add_anim
218   0000              	GLOBAL _spr_play_anim
219   0000              	GLOBAL _spr_play_bullets
220   0000              	GLOBAL _spr_turn_horizontal
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ulltoa_callee
225   0000              	GLOBAL _ulltoa
226   0000              	GLOBAL _strtoull_callee
227   0000              	GLOBAL _strtoull
228   0000              	GLOBAL _strtoll_callee
229   0000              	GLOBAL _strtoll
230   0000              	GLOBAL _lltoa_callee
231   0000              	GLOBAL _lltoa
232   0000              	GLOBAL _llabs_callee
233   0000              	GLOBAL _llabs
234   0000              	GLOBAL __lldivu__callee
235   0000              	GLOBAL __lldivu_
236   0000              	GLOBAL __lldiv__callee
237   0000              	GLOBAL __lldiv_
238   0000              	GLOBAL _atoll_callee
239   0000              	GLOBAL _atoll
240   0000              	GLOBAL _realloc_unlocked_callee
241   0000              	GLOBAL _realloc_unlocked
242   0000              	GLOBAL _malloc_unlocked_fastcall
243   0000              	GLOBAL _malloc_unlocked
244   0000              	GLOBAL _free_unlocked_fastcall
245   0000              	GLOBAL _free_unlocked
246   0000              	GLOBAL _calloc_unlocked_callee
247   0000              	GLOBAL _calloc_unlocked
248   0000              	GLOBAL _aligned_alloc_unlocked_callee
249   0000              	GLOBAL _aligned_alloc_unlocked
250   0000              	GLOBAL _realloc_callee
251   0000              	GLOBAL _realloc
252   0000              	GLOBAL _malloc_fastcall
253   0000              	GLOBAL _malloc
254   0000              	GLOBAL _free_fastcall
255   0000              	GLOBAL _free
256   0000              	GLOBAL _calloc_callee
257   0000              	GLOBAL _calloc
258   0000              	GLOBAL _aligned_alloc_callee
259   0000              	GLOBAL _aligned_alloc
260   0000              	GLOBAL _utoa_callee
261   0000              	GLOBAL _utoa
262   0000              	GLOBAL _ultoa_callee
263   0000              	GLOBAL _ultoa
264   0000              	GLOBAL _system_fastcall
265   0000              	GLOBAL _system
266   0000              	GLOBAL _strtoul_callee
267   0000              	GLOBAL _strtoul
268   0000              	GLOBAL _strtol_callee
269   0000              	GLOBAL _strtol
270   0000              	GLOBAL _strtof_callee
271   0000              	GLOBAL _strtof
272   0000              	GLOBAL _strtod_callee
273   0000              	GLOBAL _strtod
274   0000              	GLOBAL _srand_fastcall
275   0000              	GLOBAL _srand
276   0000              	GLOBAL _rand
277   0000              	GLOBAL _quick_exit_fastcall
278   0000              	GLOBAL _quick_exit
279   0000              	GLOBAL _qsort_callee
280   0000              	GLOBAL _qsort
281   0000              	GLOBAL _ltoa_callee
282   0000              	GLOBAL _ltoa
283   0000              	GLOBAL _labs_fastcall
284   0000              	GLOBAL _labs
285   0000              	GLOBAL _itoa_callee
286   0000              	GLOBAL _itoa
287   0000              	GLOBAL _ftoh_callee
288   0000              	GLOBAL _ftoh
289   0000              	GLOBAL _ftog_callee
290   0000              	GLOBAL _ftog
291   0000              	GLOBAL _ftoe_callee
292   0000              	GLOBAL _ftoe
293   0000              	GLOBAL _ftoa_callee
294   0000              	GLOBAL _ftoa
295   0000              	GLOBAL _exit_fastcall
296   0000              	GLOBAL _exit
297   0000              	GLOBAL _dtoh_callee
298   0000              	GLOBAL _dtoh
299   0000              	GLOBAL _dtog_callee
300   0000              	GLOBAL _dtog
301   0000              	GLOBAL _dtoe_callee
302   0000              	GLOBAL _dtoe
303   0000              	GLOBAL _dtoa_callee
304   0000              	GLOBAL _dtoa
305   0000              	GLOBAL _bsearch_callee
306   0000              	GLOBAL _bsearch
307   0000              	GLOBAL _atol_fastcall
308   0000              	GLOBAL _atol
309   0000              	GLOBAL _atoi_fastcall
310   0000              	GLOBAL _atoi
311   0000              	GLOBAL _atof_fastcall
312   0000              	GLOBAL _atof
313   0000              	GLOBAL _atexit_fastcall
314   0000              	GLOBAL _atexit
315   0000              	GLOBAL _at_quick_exit_fastcall
316   0000              	GLOBAL _at_quick_exit
317   0000              	GLOBAL _abs_fastcall
318   0000              	GLOBAL _abs
319   0000              	GLOBAL _abort
320   0000              	GLOBAL __strtou__callee
321   0000              	GLOBAL __strtou_
322   0000              	GLOBAL __strtoi__callee
323   0000              	GLOBAL __strtoi_
324   0000              	GLOBAL __random_uniform_xor_8__fastcall
325   0000              	GLOBAL __random_uniform_xor_8_
326   0000              	GLOBAL __random_uniform_xor_32__fastcall
327   0000              	GLOBAL __random_uniform_xor_32_
328   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
329   0000              	GLOBAL __random_uniform_cmwc_8_
330   0000              	GLOBAL __shellsort__callee
331   0000              	GLOBAL __shellsort_
332   0000              	GLOBAL __quicksort__callee
333   0000              	GLOBAL __quicksort_
334   0000              	GLOBAL __insertion_sort__callee
335   0000              	GLOBAL __insertion_sort_
336   0000              	GLOBAL __ldivu__callee
337   0000              	GLOBAL __ldivu_
338   0000              	GLOBAL __ldiv__callee
339   0000              	GLOBAL __ldiv_
340   0000              	GLOBAL __divu__callee
341   0000              	GLOBAL __divu_
342   0000              	GLOBAL __div__callee
343   0000              	GLOBAL __div_
344   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawTW_raw
346   0000              	GLOBAL _NIRVANAP_drawTW_callee
347   0000              	GLOBAL _NIRVANAP_drawTW
348   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawW_raw
350   0000              	GLOBAL _NIRVANAP_drawW_callee
351   0000              	GLOBAL _NIRVANAP_drawW
352   0000              	GLOBAL _NIRVANAP_spriteT_callee
353   0000              	GLOBAL _NIRVANAP_spriteT
354   0000              	GLOBAL _NIRVANAP_fillC_callee
355   0000              	GLOBAL _NIRVANAP_fillC
356   0000              	GLOBAL _NIRVANAP_readC_callee
357   0000              	GLOBAL _NIRVANAP_readC
358   0000              	GLOBAL _NIRVANAP_paintC_callee
359   0000              	GLOBAL _NIRVANAP_paintC
360   0000              	GLOBAL _NIRVANAP_printC_callee
361   0000              	GLOBAL _NIRVANAP_printC
362   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
363   0000              	GLOBAL _NIRVANAP_fillT_raw
364   0000              	GLOBAL _NIRVANAP_fillT_callee
365   0000              	GLOBAL _NIRVANAP_fillT
366   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawT_raw
368   0000              	GLOBAL _NIRVANAP_drawT_callee
369   0000              	GLOBAL _NIRVANAP_drawT
370   0000              	GLOBAL _NIRVANAP_stop
371   0000              	GLOBAL _NIRVANAP_start
372   0000              	GLOBAL _debug3
373   0000              	GLOBAL _debug2
374   0000              	GLOBAL _debug
375   0000              	GLOBAL _zx_print_str
376   0000              	GLOBAL _zx_print_int
377   0000              	GLOBAL _zx_print_chr
378   0000              	GLOBAL _zx_print_bonus_time
379   0000              	GLOBAL _zx_isr
380   0000              	GLOBAL _z80_otdr_callee
381   0000              	GLOBAL _z80_otdr
382   0000              	GLOBAL _z80_otir_callee
383   0000              	GLOBAL _z80_otir
384   0000              	GLOBAL _z80_outp_callee
385   0000              	GLOBAL _z80_outp
386   0000              	GLOBAL _z80_indr_callee
387   0000              	GLOBAL _z80_indr
388   0000              	GLOBAL _z80_inir_callee
389   0000              	GLOBAL _z80_inir
390   0000              	GLOBAL _z80_inp_fastcall
391   0000              	GLOBAL _z80_inp
392   0000              	GLOBAL _z80_set_int_state_fastcall
393   0000              	GLOBAL _z80_set_int_state
394   0000              	GLOBAL _z80_get_int_state
395   0000              	GLOBAL _z80_delay_tstate_fastcall
396   0000              	GLOBAL _z80_delay_tstate
397   0000              	GLOBAL _z80_delay_ms_fastcall
398   0000              	GLOBAL _z80_delay_ms
399   0000              	GLOBAL _im2_remove_generic_callback_callee
400   0000              	GLOBAL _im2_remove_generic_callback
401   0000              	GLOBAL _im2_prepend_generic_callback_callee
402   0000              	GLOBAL _im2_prepend_generic_callback
403   0000              	GLOBAL _im2_append_generic_callback_callee
404   0000              	GLOBAL _im2_append_generic_callback
405   0000              	GLOBAL _im2_create_generic_isr_8080_callee
406   0000              	GLOBAL _im2_create_generic_isr_8080
407   0000              	GLOBAL _im2_create_generic_isr_callee
408   0000              	GLOBAL _im2_create_generic_isr
409   0000              	GLOBAL _im2_install_isr_callee
410   0000              	GLOBAL _im2_install_isr
411   0000              	GLOBAL _im2_init_fastcall
412   0000              	GLOBAL _im2_init
413   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_word_32
415   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_32
417   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
418   0000              	GLOBAL _intrinsic_swap_endian_16
419   0000              	GLOBAL _intrinsic_return_de
420   0000              	GLOBAL _intrinsic_return_bc
421   0000              	GLOBAL _intrinsic_exx
422   0000              	GLOBAL _intrinsic_ex_de_hl
423   0000              	GLOBAL _intrinsic_nop
424   0000              	GLOBAL _intrinsic_im_2
425   0000              	GLOBAL _intrinsic_im_1
426   0000              	GLOBAL _intrinsic_im_0
427   0000              	GLOBAL _intrinsic_retn
428   0000              	GLOBAL _intrinsic_reti
429   0000              	GLOBAL _intrinsic_halt
430   0000              	GLOBAL _intrinsic_ei
431   0000              	GLOBAL _intrinsic_di
432   0000              	GLOBAL _intrinsic_stub
433   0000              	GLOBAL _intrinsic_outi
434   0000              	GLOBAL _intrinsic_ldi
435   0000              	GLOBAL _zx_pattern_fill_callee
436   0000              	GLOBAL _zx_pattern_fill
437   0000              	GLOBAL _zx_saddrpup_fastcall
438   0000              	GLOBAL _zx_saddrpup
439   0000              	GLOBAL _zx_saddrpright_callee
440   0000              	GLOBAL _zx_saddrpright
441   0000              	GLOBAL _zx_saddrpleft_callee
442   0000              	GLOBAL _zx_saddrpleft
443   0000              	GLOBAL _zx_saddrpdown_fastcall
444   0000              	GLOBAL _zx_saddrpdown
445   0000              	GLOBAL _zx_saddrcup_fastcall
446   0000              	GLOBAL _zx_saddrcup
447   0000              	GLOBAL _zx_saddrcright_fastcall
448   0000              	GLOBAL _zx_saddrcright
449   0000              	GLOBAL _zx_saddrcleft_fastcall
450   0000              	GLOBAL _zx_saddrcleft
451   0000              	GLOBAL _zx_saddrcdown_fastcall
452   0000              	GLOBAL _zx_saddrcdown
453   0000              	GLOBAL _zx_saddr2py_fastcall
454   0000              	GLOBAL _zx_saddr2py
455   0000              	GLOBAL _zx_saddr2px_fastcall
456   0000              	GLOBAL _zx_saddr2px
457   0000              	GLOBAL _zx_saddr2cy_fastcall
458   0000              	GLOBAL _zx_saddr2cy
459   0000              	GLOBAL _zx_saddr2cx_fastcall
460   0000              	GLOBAL _zx_saddr2cx
461   0000              	GLOBAL _zx_saddr2aaddr_fastcall
462   0000              	GLOBAL _zx_saddr2aaddr
463   0000              	GLOBAL _zx_py2saddr_fastcall
464   0000              	GLOBAL _zx_py2saddr
465   0000              	GLOBAL _zx_py2aaddr_fastcall
466   0000              	GLOBAL _zx_py2aaddr
467   0000              	GLOBAL _zx_pxy2saddr_callee
468   0000              	GLOBAL _zx_pxy2saddr
469   0000              	GLOBAL _zx_pxy2aaddr_callee
470   0000              	GLOBAL _zx_pxy2aaddr
471   0000              	GLOBAL _zx_px2bitmask_fastcall
472   0000              	GLOBAL _zx_px2bitmask
473   0000              	GLOBAL _zx_cy2saddr_fastcall
474   0000              	GLOBAL _zx_cy2saddr
475   0000              	GLOBAL _zx_cy2aaddr_fastcall
476   0000              	GLOBAL _zx_cy2aaddr
477   0000              	GLOBAL _zx_cxy2saddr_callee
478   0000              	GLOBAL _zx_cxy2saddr
479   0000              	GLOBAL _zx_cxy2aaddr_callee
480   0000              	GLOBAL _zx_cxy2aaddr
481   0000              	GLOBAL _zx_bitmask2px_fastcall
482   0000              	GLOBAL _zx_bitmask2px
483   0000              	GLOBAL _zx_aaddrcup_fastcall
484   0000              	GLOBAL _zx_aaddrcup
485   0000              	GLOBAL _zx_aaddrcright_fastcall
486   0000              	GLOBAL _zx_aaddrcright
487   0000              	GLOBAL _zx_aaddrcleft_fastcall
488   0000              	GLOBAL _zx_aaddrcleft
489   0000              	GLOBAL _zx_aaddrcdown_fastcall
490   0000              	GLOBAL _zx_aaddrcdown
491   0000              	GLOBAL _zx_aaddr2saddr_fastcall
492   0000              	GLOBAL _zx_aaddr2saddr
493   0000              	GLOBAL _zx_aaddr2py_fastcall
494   0000              	GLOBAL _zx_aaddr2py
495   0000              	GLOBAL _zx_aaddr2px_fastcall
496   0000              	GLOBAL _zx_aaddr2px
497   0000              	GLOBAL _zx_aaddr2cy_fastcall
498   0000              	GLOBAL _zx_aaddr2cy
499   0000              	GLOBAL _zx_aaddr2cx_fastcall
500   0000              	GLOBAL _zx_aaddr2cx
501   0000              	GLOBAL _zx_visit_wc_pix_callee
502   0000              	GLOBAL _zx_visit_wc_pix
503   0000              	GLOBAL _zx_visit_wc_attr_callee
504   0000              	GLOBAL _zx_visit_wc_attr
505   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
506   0000              	GLOBAL _zx_scroll_wc_up_pix
507   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
508   0000              	GLOBAL _zx_scroll_wc_up_attr
509   0000              	GLOBAL _zx_scroll_wc_up_callee
510   0000              	GLOBAL _zx_scroll_wc_up
511   0000              	GLOBAL _zx_scroll_up_pix_callee
512   0000              	GLOBAL _zx_scroll_up_pix
513   0000              	GLOBAL _zx_scroll_up_attr_callee
514   0000              	GLOBAL _zx_scroll_up_attr
515   0000              	GLOBAL _zx_scroll_up_callee
516   0000              	GLOBAL _zx_scroll_up
517   0000              	GLOBAL _zx_cls_wc_pix_callee
518   0000              	GLOBAL _zx_cls_wc_pix
519   0000              	GLOBAL _zx_cls_wc_attr_callee
520   0000              	GLOBAL _zx_cls_wc_attr
521   0000              	GLOBAL _zx_cls_wc_callee
522   0000              	GLOBAL _zx_cls_wc
523   0000              	GLOBAL _zx_cls_pix_fastcall
524   0000              	GLOBAL _zx_cls_pix
525   0000              	GLOBAL _zx_cls_attr_fastcall
526   0000              	GLOBAL _zx_cls_attr
527   0000              	GLOBAL _zx_cls_fastcall
528   0000              	GLOBAL _zx_cls
529   0000              	GLOBAL _zx_border_fastcall
530   0000              	GLOBAL _zx_border
531   0000              	GLOBAL _spr_anim_kill
532   0000              	GLOBAL _sound_hit_brick
533   0000              	GLOBAL _sound_hit_enemy
534   0000              	GLOBAL _sound_kill
535   0000              	GLOBAL _sound_enter_enemy
536   0000              	GLOBAL _sound_coin
537   0000              	GLOBAL _sound_jump
538   0000              	GLOBAL _sound_slide
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_lost_life
547   0000              	GLOBAL _player_score_add
548   0000              	GLOBAL _player_player_hit_pow
549   0000              	GLOBAL _player_hit_platform
550   0000              	GLOBAL _player_move_input
551   0000              	GLOBAL _player_turn
552   0000              	GLOBAL _player_move
553   0000              	GLOBAL _player_restart
554   0000              	GLOBAL _player_kill
555   0000              	GLOBAL _player_check_input
556   0000              	GLOBAL _player_collision
557   0000              	GLOBAL _player_init
558   0000              	GLOBAL _game_joystick_set_menu
559   0000              	GLOBAL _game_joystick_set
560   0000              	GLOBAL _game_joystick_change
561   0000              	GLOBAL _game_print_header
562   0000              	GLOBAL _game_end
563   0000              	GLOBAL _game_phase_print_score_back
564   0000              	GLOBAL _game_check_time
565   0000              	GLOBAL _game_rotate_attrib
566   0000              	GLOBAL _game_colour_message
567   0000              	GLOBAL _game_paint_attrib_lin_h
568   0000              	GLOBAL _game_paint_attrib_lin
569   0000              	GLOBAL _game_paint_attrib
570   0000              	GLOBAL _game_print_score
571   0000              	GLOBAL _game_unfreeze_all
572   0000              	GLOBAL _game_freeze_all
573   0000              	GLOBAL _game_freeze
574   0000              	GLOBAL _game_enemy_add_get_index
575   0000              	GLOBAL _game_check_maze_floor
576   0000              	GLOBAL _game_check_maze
577   0000              	GLOBAL _game_loop
578   0000              	GLOBAL _game_phase_init
579   0000              	GLOBAL _game_start_timer
580   0000              	GLOBAL _game_tick
581   0000              	GLOBAL _game_print_lives
582   0000              	GLOBAL _game_print_footer
583   0000              	GLOBAL _game_fill_row
584   0000              	GLOBAL _enemy_avoid_edge
585   0000              	GLOBAL _enemy_kill
586   0000              	GLOBAL _enemy_init
587   0000              	GLOBAL _enemy_walk
588   0000              	GLOBAL _enemy_move
589   0000              	GLOBAL _enemy_turn
590   0000              	GLOBAL _enemy_hit
591   0000              	GLOBAL _enemy_coin1
592   0000              	GLOBAL _ay_fx_play
593   0000              	GLOBAL _ay_midi_play
594   0000              	GLOBAL _ay_is_playing
595   0000              	GLOBAL _ay_reset
596   0000              	GLOBAL _test_func
597   0000              	GLOBAL _test_proc
598   0000              	GLOBAL _in_mouse_kempston_wheel_delta
599   0000              	GLOBAL _in_mouse_kempston_wheel
600   0000              	GLOBAL _in_mouse_kempston_callee
601   0000              	GLOBAL _in_mouse_kempston
602   0000              	GLOBAL _in_mouse_kempston_setpos_callee
603   0000              	GLOBAL _in_mouse_kempston_setpos
604   0000              	GLOBAL _in_mouse_kempston_reset
605   0000              	GLOBAL _in_mouse_kempston_init
606   0000              	GLOBAL _in_mouse_amx_wheel_delta
607   0000              	GLOBAL _in_mouse_amx_wheel
608   0000              	GLOBAL _in_mouse_amx_callee
609   0000              	GLOBAL _in_mouse_amx
610   0000              	GLOBAL _in_mouse_amx_setpos_callee
611   0000              	GLOBAL _in_mouse_amx_setpos
612   0000              	GLOBAL _in_mouse_amx_reset
613   0000              	GLOBAL _in_mouse_amx_init_callee
614   0000              	GLOBAL _in_mouse_amx_init
615   0000              	GLOBAL _in_stick_sinclair2
616   0000              	GLOBAL _in_stick_sinclair1
617   0000              	GLOBAL _in_stick_kempston
618   0000              	GLOBAL _in_stick_fuller
619   0000              	GLOBAL _in_stick_cursor
620   0000              	GLOBAL _in_stick_keyboard_fastcall
621   0000              	GLOBAL _in_stick_keyboard
622   0000              	GLOBAL _in_wait_nokey
623   0000              	GLOBAL _in_wait_key
624   0000              	GLOBAL _in_test_key
625   0000              	GLOBAL _in_pause_fastcall
626   0000              	GLOBAL _in_pause
627   0000              	GLOBAL _in_key_scancode_fastcall
628   0000              	GLOBAL _in_key_scancode
629   0000              	GLOBAL _in_key_pressed_fastcall
630   0000              	GLOBAL _in_key_pressed
631   0000              	GLOBAL _in_inkey
632   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
633   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
634   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
635   0000              	GLOBAL _NIRVANAP_HOLE
636   0000              	GLOBAL _NIRVANAP_ISR_HOOK
637   0000              	GLOBAL _g_player_hit_right
638   0000              	GLOBAL _g_player_hit_left
639   0000              	GLOBAL _joynames
640   0000              	GLOBAL _initials
641   0000              	GLOBAL _bullet_frames
642   0000              	GLOBAL _bullet_colint
643   0000              	GLOBAL _bullet_dir
644   0000              	GLOBAL _bullet_tile
645   0000              	GLOBAL _bullet_col
646   0000              	GLOBAL _bullet_lin
647   0000              	GLOBAL _anim_end
648   0000              	GLOBAL _anim_int
649   0000              	GLOBAL _anim_tile
650   0000              	GLOBAL _anim_col
651   0000              	GLOBAL _anim_lin
652   0000              	GLOBAL _phase_angry
653   0000              	GLOBAL _phase_curr
654   0000              	GLOBAL _phase_end
655   0000              	GLOBAL _phase_coins
656   0000              	GLOBAL _phase_pop
657   0000              	GLOBAL _phase_tot
658   0000              	GLOBAL _map_heigth
659   0000              	GLOBAL _map_width
660   0000              	GLOBAL _scr_curr
661   0000              	GLOBAL _scr_7
662   0000              	GLOBAL _scr_6
663   0000              	GLOBAL _scr_5
664   0000              	GLOBAL _scr_4
665   0000              	GLOBAL _scr_3
666   0000              	GLOBAL _scr_2
667   0000              	GLOBAL _scr_1
668   0000              	GLOBAL _scr_0
669   0000              	GLOBAL _scr_map
670   0000              	GLOBAL _sprite_speed_alt
671   0000              	GLOBAL _sprite_frames
672   0000              	GLOBAL _sprite_speed
673   0000              	GLOBAL _screen_ink
674   0000              	GLOBAL _screen_paper
675   0000              	GLOBAL _player_over_stair
676   0000              	GLOBAL _game_menu_sel
677   0000              	GLOBAL _game_type
678   0000              	GLOBAL _game_score_top
679   0000              	GLOBAL _player_lives
680   0000              	GLOBAL _game_over
681   0000              	GLOBAL _game_sound
682   0000              	GLOBAL _game_inmune
683   0000              	GLOBAL _game_god_mode
684   0000              	GLOBAL _game_start_phase
685   0000              	GLOBAL _game_two_player
686   0000              	GLOBAL _game_brick_tile
687   0000              	GLOBAL _sprite_curr_index
688   0000              	GLOBAL _spr_count
689   0000              	GLOBAL _bullet_time
690   0000              	GLOBAL _anim_time
691   0000              	GLOBAL _frame_time
692   0000              	GLOBAL _entry_time
693   0000              	GLOBAL _curr_time
694   0000              	GLOBAL _s_state
695   0000              	GLOBAL _attrib_hl
696   0000              	GLOBAL _attrib
697   0000              	GLOBAL _zx_val_asm
698   0000              	GLOBAL _enemies
699   0000              	GLOBAL _tmp_ui
700   0000              	GLOBAL _tmp_sc
701   0000              	GLOBAL _tmp_uc
702   0000              	GLOBAL _tmp1
703   0000              	GLOBAL _tmp0
704   0000              	GLOBAL _tmp
705   0000              	GLOBAL _index1
706   0000              	GLOBAL _index0
707   0000              	GLOBAL _loop_count
708   0000              	GLOBAL _sprite_lin_inc_mul
709   0000              	GLOBAL _s_col1
710   0000              	GLOBAL _s_col0
711   0000              	GLOBAL _s_lin1
712   0000              	GLOBAL _s_lin0
713   0000              	GLOBAL _s_tile1
714   0000              	GLOBAL _s_tile0
715   0000              	GLOBAL _player_hit_count
716   0000              	GLOBAL _sprite
717   0000              	GLOBAL _game_gravity
718   0000              	GLOBAL _player_vel_inc
719   0000              	GLOBAL _player_vel_y1
720   0000              	GLOBAL _player_vel_y0
721   0000              	GLOBAL _player_vel_y
722   0000              	GLOBAL _player_vel_x
723   0000              	GLOBAL _player_joy
724   0000              	GLOBAL _player_score
725   0000              	GLOBAL _last_time
726   0000              	GLOBAL _player_slide
727   0000              	GLOBAL _spr_timer
728   0000              	GLOBAL _jump_lin
729   0000              	GLOBAL _player_hit_col
730   0000              	GLOBAL _player_hit_lin
731   0000              	GLOBAL _colint
732   0000              	GLOBAL _col
733   0000              	GLOBAL _lin
734   0000              	GLOBAL _tile
735   0000              	GLOBAL _state_a
736   0000              	GLOBAL _state
737   0000              	GLOBAL _class
738   0000              	GLOBAL _tbuffer
739   0000              	GLOBAL _dirs
740   0000              	GLOBAL _k1
741   0000              	GLOBAL _joyfunc1
742   0000              	GLOBAL _btiles
743   0000              	GLOBAL _spec128
744   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
745   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
746   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
747   0000              	GLOBAL _ay_effect_20
748   0000              	GLOBAL _ay_effect_19
749   0000              	GLOBAL _ay_effect_18
750   0000              	GLOBAL _ay_effect_17
751   0000              	GLOBAL _ay_effect_16
752   0000              	GLOBAL _ay_effect_15
753   0000              	GLOBAL _ay_effect_14
754   0000              	GLOBAL _ay_effect_13
755   0000              	GLOBAL _ay_effect_12
756   0000              	GLOBAL _ay_effect_11
757   0000              	GLOBAL _ay_effect_10
758   0000              	GLOBAL _ay_effect_09
759   0000              	GLOBAL _ay_effect_08
760   0000              	GLOBAL _ay_effect_07
761   0000              	GLOBAL _ay_effect_06
762   0000              	GLOBAL _ay_effect_05
763   0000              	GLOBAL _ay_effect_04
764   0000              	GLOBAL _ay_effect_03
765   0000              	GLOBAL _ay_effect_02
766   0000              	GLOBAL _ay_effect_01
767   0000              	GLOBAL _pb_midi_phase_1
768   0000              	GLOBAL _pb_midi_title
769   0000              	GLOBAL _control_method
770   0000              ;--------------------------------------------------------
771   0000              ; special function registers
772   0000              ;--------------------------------------------------------
773   0000              defc _IO_FE	=	0x00fe
774   0000              defc _IO_1FFD	=	0x1ffd
775   0000              defc _IO_7FFD	=	0x7ffd
776   0000              ;--------------------------------------------------------
777   0000              ; ram data
778   0000              ;--------------------------------------------------------
779   0000              	SECTION bss_compiler
780   0000              ;--------------------------------------------------------
781   0000              ; ram data
782   0000              ;--------------------------------------------------------
783   0000              
784   0000              IF 0
785   0000              
786   0000              ; .area _INITIALIZED removed by z88dk
787   0000              
788   0000              
789   0000              ENDIF
790   0000              
791   0000              ;--------------------------------------------------------
792   0000              ; absolute external ram data
793   0000              ;--------------------------------------------------------
794   0000              	SECTION IGNORE
795   0000              ;--------------------------------------------------------
796   0000              ; global & static initialisations
797   0000              ;--------------------------------------------------------
798   0000              	SECTION code_crt_init
799   0000              ;--------------------------------------------------------
800   0000              ; Home
801   0000              ;--------------------------------------------------------
802   0000              	SECTION IGNORE
803   0000              ;--------------------------------------------------------
804   0000              ; code
805   0000              ;--------------------------------------------------------
806   0000              	SECTION code_compiler
807   0000              ;	---------------------------------
808   0000              ; Function spr_calc_index
809   0000              ; ---------------------------------
810   0000              _spr_calc_index:
811   0000  CD 00 00    	call	___sdcc_enter_ix
812   0003  DD 4E 05    	ld	c,(ix+5)
813   0006  CB 39       	srl	c
814   0008  06 00       	ld	b,0x00
815   000A  DD 7E 04    	ld	a,(ix+4)
816   000D  07          	rlca
817   000E  07          	rlca
818   000F  07          	rlca
819   0010  07          	rlca
820   0011  E6 0F       	and	a,0x0f
821   0013  6F          	ld	l, a
822   0014  26 00       	ld	h,0x00
823   0016  29          	add	hl, hl
824   0017  29          	add	hl, hl
825   0018  29          	add	hl, hl
826   0019  29          	add	hl, hl
827   001A  09          	add	hl, bc
828   001B  DD E1       	pop	ix
829   001D  C9          	ret
830   001E              	SECTION code_compiler
831   001E              ;	---------------------------------
832   001E              ; Function spr_check_map
833   001E              ; ---------------------------------
834   001E              _spr_check_map:
835   001E  CD 00 00    	call	___sdcc_enter_ix
836   0021  DD CB 05 46 	bit	0,(ix+5)
837   0025  20 15       	jr	NZ,l_spr_check_map_00106
838   0027  DD 66 05    	ld	h,(ix+5)
839   002A  DD 6E 04    	ld	l,(ix+4)
840   002D  E5          	push	hl
841   002E  CD 00 00    	call	_spr_calc_index
842   0031  F1          	pop	af
843   0032  22 00 00    	ld	(_index1),hl
844   0035  CD 00 00    	call	_game_check_maze
845   0038  26 00       	ld	h,0x00
846   003A  18 4B       	jr	l_spr_check_map_00108
847   003C              l_spr_check_map_00106:
848   003C  DD 46 05    	ld	b,(ix+5)
849   003F  05          	dec	b
850   0040  DD 4E 04    	ld	c,(ix+4)
851   0043  C5          	push	bc
852   0044  CD 00 00    	call	_spr_calc_index
853   0047  F1          	pop	af
854   0048  22 00 00    	ld	(_index1),hl
855   004B  21 00 00    	ld	hl,_g_player_hit_left
856   004E  36 00       	ld	(hl),0x00
857   0050  21 00 00    	ld	hl,_g_player_hit_right
858   0053  36 00       	ld	(hl),0x00
859   0055  2A 00 00    	ld	hl,(_index1)
860   0058  CD 00 00    	call	_game_check_maze
861   005B  7D          	ld	a, l
862   005C  B7          	or	a, a
863   005D  28 05       	jr	Z,l_spr_check_map_00102
864   005F  21 00 00    	ld	hl,_g_player_hit_left
865   0062  36 01       	ld	(hl),0x01
866   0064              l_spr_check_map_00102:
867   0064  2A 00 00    	ld	hl,(_index1)
868   0067  23          	inc	hl
869   0068  CD 00 00    	call	_game_check_maze
870   006B  7D          	ld	a, l
871   006C  B7          	or	a, a
872   006D  28 05       	jr	Z,l_spr_check_map_00104
873   006F  21 00 00    	ld	hl,_g_player_hit_right
874   0072  36 01       	ld	(hl),0x01
875   0074              l_spr_check_map_00104:
876   0074  3A 00 00    	ld	a,(_g_player_hit_left)
877   0077  B7          	or	a, a
878   0078  20 09       	jr	NZ,l_spr_check_map_00111
879   007A  3A 00 00    	ld	a,(_g_player_hit_right)
880   007D  B7          	or	a,a
881   007E  20 03       	jr	NZ,l_spr_check_map_00111
882   0080  6F          	ld	l,a
883   0081  18 02       	jr	l_spr_check_map_00112
884   0083              l_spr_check_map_00111:
885   0083  2E 01       	ld	l,0x01
886   0085              l_spr_check_map_00112:
887   0085  26 00       	ld	h,0x00
888   0087              l_spr_check_map_00108:
889   0087  DD E1       	pop	ix
890   0089  C9          	ret
891   008A              	SECTION code_compiler
892   008A              ;	---------------------------------
893   008A              ; Function spr_check_map_fall
894   008A              ; ---------------------------------
895   008A              _spr_check_map_fall:
896   008A  CD 00 00    	call	___sdcc_enter_ix
897   008D  DD CB 05 46 	bit	0,(ix+5)
898   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
899   0093  DD 66 05    	ld	h,(ix+5)
900   0096  DD 6E 04    	ld	l,(ix+4)
901   0099  E5          	push	hl
902   009A  CD 00 00    	call	_spr_calc_index
903   009D  F1          	pop	af
904   009E  22 00 00    	ld	(_index1),hl
905   00A1  CD 00 00    	call	_game_check_maze_floor
906   00A4  26 00       	ld	h,0x00
907   00A6  18 4B       	jr	l_spr_check_map_fall_00108
908   00A8              l_spr_check_map_fall_00106:
909   00A8  DD 46 05    	ld	b,(ix+5)
910   00AB  05          	dec	b
911   00AC  DD 4E 04    	ld	c,(ix+4)
912   00AF  C5          	push	bc
913   00B0  CD 00 00    	call	_spr_calc_index
914   00B3  F1          	pop	af
915   00B4  22 00 00    	ld	(_index1),hl
916   00B7  21 00 00    	ld	hl,_g_player_hit_left
917   00BA  36 00       	ld	(hl),0x00
918   00BC  21 00 00    	ld	hl,_g_player_hit_right
919   00BF  36 00       	ld	(hl),0x00
920   00C1  2A 00 00    	ld	hl,(_index1)
921   00C4  CD 00 00    	call	_game_check_maze_floor
922   00C7  7D          	ld	a, l
923   00C8  B7          	or	a, a
924   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
925   00CB  21 00 00    	ld	hl,_g_player_hit_left
926   00CE  36 01       	ld	(hl),0x01
927   00D0              l_spr_check_map_fall_00102:
928   00D0  2A 00 00    	ld	hl,(_index1)
929   00D3  23          	inc	hl
930   00D4  CD 00 00    	call	_game_check_maze_floor
931   00D7  7D          	ld	a, l
932   00D8  B7          	or	a, a
933   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
934   00DB  21 00 00    	ld	hl,_g_player_hit_right
935   00DE  36 01       	ld	(hl),0x01
936   00E0              l_spr_check_map_fall_00104:
937   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
938   00E3  B7          	or	a, a
939   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
940   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
941   00E9  B7          	or	a,a
942   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
943   00EC  6F          	ld	l,a
944   00ED  18 02       	jr	l_spr_check_map_fall_00112
945   00EF              l_spr_check_map_fall_00111:
946   00EF  2E 01       	ld	l,0x01
947   00F1              l_spr_check_map_fall_00112:
948   00F1  26 00       	ld	h,0x00
949   00F3              l_spr_check_map_fall_00108:
950   00F3  DD E1       	pop	ix
951   00F5  C9          	ret
952   00F6              	SECTION code_compiler
953   00F6              ;	---------------------------------
954   00F6              ; Function spr_chktime
955   00F6              ; ---------------------------------
956   00F6              _spr_chktime:
957   00F6  CD 00 00    	call	___sdcc_enter_ix
958   00F9  F5          	push	af
959   00FA  DD 75 FE    	ld	(ix-2),l
960   00FD  DD 74 FF    	ld	(ix-1),h
961   0100  E1          	pop	hl
962   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
963   0104  5E          	ld	e,(hl)
964   0105  E5          	push	hl
965   0106  6B          	ld	l,e
966   0107  26 00       	ld	h,0x00
967   0109  09          	add	hl, bc
968   010A  7E          	ld	a, (hl)
969   010B  B7          	or	a, a
970   010C  20 13       	jr	NZ,l_spr_chktime_00102
971   010E  01 00 00    	ld	bc,_sprite_speed+0
972   0111  16 00       	ld	d,0x00
973   0113  21 00 00    	ld	hl,_class
974   0116  19          	add	hl, de
975   0117  6E          	ld	l, (hl)
976   0118  26 00       	ld	h,0x00
977   011A  09          	add	hl, bc
978   011B  7E          	ld	a, (hl)
979   011C  32 00 00    	ld	(_tmp),a
980   011F  18 03       	jr	l_spr_chktime_00103
981   0121              l_spr_chktime_00102:
982   0121  32 00 00    	ld	(_tmp),a
983   0124              l_spr_chktime_00103:
984   0124  3A 00 00    	ld	a,(_tmp)
985   0127  4F          	ld	c,a
986   0128  06 00       	ld	b,0x00
987   012A  60          	ld	h,b
988   012B  6B          	ld	l, e
989   012C  29          	add	hl, hl
990   012D  11 00 00    	ld	de,_last_time
991   0130  19          	add	hl, de
992   0131  5E          	ld	e, (hl)
993   0132  23          	inc	hl
994   0133  56          	ld	d, (hl)
995   0134  C5          	push	bc
996   0135  D5          	push	de
997   0136  CD 00 00    	call	_game_check_time
998   0139  F1          	pop	af
999   013A  F1          	pop	af
1000  013B  7D          	ld	a, l
1001  013C  B7          	or	a, a
1002  013D  28 15       	jr	Z,l_spr_chktime_00105
1003  013F  E1          	pop	hl
1004  0140  E5          	push	hl
1005  0141  6E          	ld	l, (hl)
1006  0142  26 00       	ld	h,0x00
1007  0144  29          	add	hl, hl
1008  0145  01 00 00    	ld	bc,_last_time
1009  0148  09          	add	hl,bc
1010  0149  ED 5B 00 00 	ld	de,(_curr_time)
1011  014D  73          	ld	(hl),e
1012  014E  23          	inc	hl
1013  014F  72          	ld	(hl),d
1014  0150  2E 01       	ld	l,0x01
1015  0152  18 02       	jr	l_spr_chktime_00106
1016  0154              l_spr_chktime_00105:
1017  0154  2E 00       	ld	l,0x00
1018  0156              l_spr_chktime_00106:
1019  0156  F1          	pop	af
1020  0157  DD E1       	pop	ix
1021  0159  C9          	ret
1022  015A              	SECTION code_compiler
1023  015A              ;	---------------------------------
1024  015A              ; Function spr_move_jump
1025  015A              ; ---------------------------------
1026  015A              _spr_move_jump:
1027  015A  2A 00 00    	ld	hl,(_player_vel_y)
1028  015D  ED 5B 00 00 	ld	de,(_game_gravity)
1029  0161  19          	add	hl,de
1030  0162  22 00 00    	ld	(_player_vel_y),hl
1031  0165  3A 00 00    	ld	a,(_player_vel_inc)
1032  0168  B7          	or	a,a
1033  0169  28 26       	jr	Z,l_spr_move_jump_00102
1034  016B  21 00 00    	ld	hl,_dirs
1035  016E  CB 7E       	bit	7, (hl)
1036  0170  20 1F       	jr	NZ,l_spr_move_jump_00102
1037  0172  3A 00 00    	ld	a,(_player_vel_y1)
1038  0175  21 00 00    	ld	hl,_player_vel_y
1039  0178  96          	sub	a, (hl)
1040  0179  3A 01 00    	ld	a,(_player_vel_y1 + 1)
1041  017C  23          	inc	hl
1042  017D  9E          	sbc	a, (hl)
1043  017E  E2 83 01    	jp	PO, l_spr_move_jump_00173
1044  0181  EE 80       	xor	a,0x80
1045  0183              l_spr_move_jump_00173:
1046  0183  F2 91 01    	jp	P, l_spr_move_jump_00102
1047  0186  21 00 00    	ld	hl,0x0000
1048  0189  22 00 00    	ld	(_player_vel_y),hl
1049  018C  21 00 00    	ld	hl,_player_vel_inc
1050  018F  36 00       	ld	(hl),0x00
1051  0191              l_spr_move_jump_00102:
1052  0191  3E 78       	ld	a,0x78
1053  0193  21 00 00    	ld	hl,_player_vel_y
1054  0196  BE          	cp	a, (hl)
1055  0197  3E 00       	ld	a,0x00
1056  0199  23          	inc	hl
1057  019A  9E          	sbc	a, (hl)
1058  019B  E2 A0 01    	jp	PO, l_spr_move_jump_00174
1059  019E  EE 80       	xor	a,0x80
1060  01A0              l_spr_move_jump_00174:
1061  01A0  F2 A9 01    	jp	P, l_spr_move_jump_00106
1062  01A3  21 78 00    	ld	hl,0x0078
1063  01A6  22 00 00    	ld	(_player_vel_y),hl
1064  01A9              l_spr_move_jump_00106:
1065  01A9  21 00 00    	ld	hl,_player_vel_y
1066  01AC  7E          	ld	a, (hl)
1067  01AD  D6 88       	sub	a,0x88
1068  01AF  23          	inc	hl
1069  01B0  7E          	ld	a, (hl)
1070  01B1  17          	rla
1071  01B2  3F          	ccf
1072  01B3  1F          	rra
1073  01B4  DE 7F       	sbc	a,0x7f
1074  01B6  30 06       	jr	NC,l_spr_move_jump_00108
1075  01B8  2B          	dec	hl
1076  01B9  36 88       	ld	(hl),0x88
1077  01BB  23          	inc	hl
1078  01BC  36 FF       	ld	(hl),0xff
1079  01BE              l_spr_move_jump_00108:
1080  01BE  21 0A 00    	ld	hl,0x000a
1081  01C1  E5          	push	hl
1082  01C2  2A 00 00    	ld	hl,(_player_vel_y)
1083  01C5  E5          	push	hl
1084  01C6  CD 00 00    	call	__divsint_callee
1085  01C9  4D          	ld	c, l
1086  01CA  44          	ld	b, h
1087  01CB  CB 41       	bit	0,c
1088  01CD  21 00 00    	ld	hl,_s_lin1
1089  01D0  71          	ld	(hl),c
1090  01D1  28 04       	jr	Z,l_spr_move_jump_00110
1091  01D3  21 00 00    	ld	hl,_s_lin1
1092  01D6  34          	inc	(hl)
1093  01D7              l_spr_move_jump_00110:
1094  01D7  2A 00 00    	ld	hl,(_sprite)
1095  01DA  26 00       	ld	h,0x00
1096  01DC  11 00 00    	ld	de,_lin
1097  01DF  19          	add	hl,de
1098  01E0  7E          	ld	a,(hl)
1099  01E1  21 00 00    	ld	hl,_s_lin1
1100  01E4  86          	add	a, (hl)
1101  01E5  77          	ld	(hl), a
1102  01E6  3E 90       	ld	a,0x90
1103  01E8  96          	sub	a, (hl)
1104  01E9  30 02       	jr	NC,l_spr_move_jump_00112
1105  01EB  36 90       	ld	(hl),0x90
1106  01ED              l_spr_move_jump_00112:
1107  01ED  CB 78       	bit	7, b
1108  01EF  28 59       	jr	Z,l_spr_move_jump_00123
1109  01F1  2A 00 00    	ld	hl,(_sprite)
1110  01F4  26 00       	ld	h,0x00
1111  01F6  01 00 00    	ld	bc,_col
1112  01F9  09          	add	hl,bc
1113  01FA  7E          	ld	a,(hl)
1114  01FB  F5          	push	af
1115  01FC  33          	inc	sp
1116  01FD  3A 00 00    	ld	a,(_s_lin1)
1117  0200  F5          	push	af
1118  0201  33          	inc	sp
1119  0202  CD 1E 00    	call	_spr_check_map
1120  0205  F1          	pop	af
1121  0206  7C          	ld	a,h
1122  0207  B5          	or	a,l
1123  0208  28 31       	jr	Z,l_spr_move_jump_00116
1124  020A  CD 00 00    	call	_player_hit_platform
1125  020D  7D          	ld	a, l
1126  020E  B7          	or	a, a
1127  020F  28 19       	jr	Z,l_spr_move_jump_00114
1128  0211  2A 00 00    	ld	hl,(_sprite)
1129  0214  26 00       	ld	h,0x00
1130  0216  01 00 00    	ld	bc,_lin
1131  0219  09          	add	hl,bc
1132  021A  7E          	ld	a,(hl)
1133  021B  4D          	ld	c,l
1134  021C  44          	ld	b,h
1135  021D  07          	rlca
1136  021E  07          	rlca
1137  021F  07          	rlca
1138  0220  07          	rlca
1139  0221  E6 0F       	and	a,0x0f
1140  0223  07          	rlca
1141  0224  07          	rlca
1142  0225  07          	rlca
1143  0226  07          	rlca
1144  0227  E6 F0       	and	a,0xf0
1145  0229  02          	ld	(bc), a
1146  022A              l_spr_move_jump_00114:
1147  022A  21 00 00    	ld	hl,0x0000
1148  022D  22 00 00    	ld	(_player_vel_y),hl
1149  0230  21 00 00    	ld	hl,_s_state
1150  0233  7E          	ld	a,(hl)
1151  0234  E6 FE       	and	a,0xfe
1152  0236  F6 02       	or	a,0x02
1153  0238  77          	ld	(hl),a
1154  0239  18 6B       	jr	l_spr_move_jump_00124
1155  023B              l_spr_move_jump_00116:
1156  023B  2A 00 00    	ld	hl,(_sprite)
1157  023E  26 00       	ld	h,0x00
1158  0240  01 00 00    	ld	bc,_lin
1159  0243  09          	add	hl,bc
1160  0244  3A 00 00    	ld	a,(_s_lin1)
1161  0247  77          	ld	(hl),a
1162  0248  18 5C       	jr	l_spr_move_jump_00124
1163  024A              l_spr_move_jump_00123:
1164  024A  2A 00 00    	ld	hl,(_sprite)
1165  024D  26 00       	ld	h,0x00
1166  024F  01 00 00    	ld	bc,_col
1167  0252  09          	add	hl,bc
1168  0253  46          	ld	b,(hl)
1169  0254  3A 00 00    	ld	a,(_s_lin1)
1170  0257  C6 10       	add	a,0x10
1171  0259  4F          	ld	c,a
1172  025A  C5          	push	bc
1173  025B  CD 8A 00    	call	_spr_check_map_fall
1174  025E  F1          	pop	af
1175  025F  4D          	ld	c,l
1176  0260  44          	ld	b,h
1177  0261  2A 00 00    	ld	hl,(_sprite)
1178  0264  26 00       	ld	h,0x00
1179  0266  11 00 00    	ld	de,_lin
1180  0269  19          	add	hl,de
1181  026A  78          	ld	a,b
1182  026B  EB          	ex	de,hl
1183  026C  B1          	or	a,c
1184  026D  20 07       	jr	NZ,l_spr_move_jump_00118
1185  026F  3A 00 00    	ld	a,(_s_lin1)
1186  0272  D6 90       	sub	a,0x90
1187  0274  38 2C       	jr	C,l_spr_move_jump_00119
1188  0276              l_spr_move_jump_00118:
1189  0276  3A 00 00    	ld	a,(_s_lin1)
1190  0279  07          	rlca
1191  027A  07          	rlca
1192  027B  07          	rlca
1193  027C  07          	rlca
1194  027D  E6 0F       	and	a,0x0f
1195  027F  07          	rlca
1196  0280  07          	rlca
1197  0281  07          	rlca
1198  0282  07          	rlca
1199  0283  E6 F0       	and	a,0xf0
1200  0285  12          	ld	(de), a
1201  0286  21 00 00    	ld	hl,0x0000
1202  0289  22 00 00    	ld	(_player_vel_y),hl
1203  028C  21 00 00    	ld	hl,_s_state
1204  028F  7E          	ld	a,(hl)
1205  0290  E6 FC       	and	a,+(0xfd&0xfe)
1206  0292  77          	ld	(hl),a
1207  0293  2A 00 00    	ld	hl,(_sprite)
1208  0296  26 00       	ld	h,0x00
1209  0298  01 00 00    	ld	bc,_colint
1210  029B  09          	add	hl,bc
1211  029C  AF          	xor	a,a
1212  029D  77          	ld	(hl),a
1213  029E  2E 01       	ld	l,0x01
1214  02A0  18 09       	jr	l_spr_move_jump_00125
1215  02A2              l_spr_move_jump_00119:
1216  02A2  3A 00 00    	ld	a,(_s_lin1)
1217  02A5  12          	ld	(de), a
1218  02A6              l_spr_move_jump_00124:
1219  02A6  CD BE 03    	call	_spr_move_horizontal
1220  02A9  2E 00       	ld	l,0x00
1221  02AB              l_spr_move_jump_00125:
1222  02AB  C9          	ret
1223  02AC              	SECTION code_compiler
1224  02AC              ;	---------------------------------
1225  02AC              ; Function spr_move_up
1226  02AC              ; ---------------------------------
1227  02AC              _spr_move_up:
1228  02AC  2A 00 00    	ld	hl,(_sprite)
1229  02AF  26 00       	ld	h,0x00
1230  02B1  01 00 00    	ld	bc,_lin
1231  02B4  09          	add	hl,bc
1232  02B5  4E          	ld	c,(hl)
1233  02B6  21 00 00    	ld	hl,_sprite_lin_inc_mul
1234  02B9  46          	ld	b, (hl)
1235  02BA  1E 02       	ld	e,0x02
1236  02BC  04          	inc	b
1237  02BD  18 02       	jr	l_spr_move_up_00134
1238  02BF              l_spr_move_up_00133:
1239  02BF  CB 23       	sla	e
1240  02C1              l_spr_move_up_00134:
1241  02C1  10 FC       	djnz	l_spr_move_up_00133
1242  02C3  79          	ld	a, c
1243  02C4  93          	sub	a, e
1244  02C5  32 00 00    	ld	(_tmp1),a
1245  02C8  2A 00 00    	ld	hl,(_sprite)
1246  02CB  26 00       	ld	h,0x00
1247  02CD  01 00 00    	ld	bc,_class
1248  02D0  09          	add	hl,bc
1249  02D1  7E          	ld	a,(hl)
1250  02D2  D6 10       	sub	a,0x10
1251  02D4  20 2D       	jr	NZ,l_spr_move_up_00107
1252  02D6  2A 00 00    	ld	hl,(_sprite)
1253  02D9  26 00       	ld	h,0x00
1254  02DB  01 00 00    	ld	bc,_col
1255  02DE  09          	add	hl,bc
1256  02DF  7E          	ld	a,(hl)
1257  02E0  F5          	push	af
1258  02E1  33          	inc	sp
1259  02E2  3A 00 00    	ld	a,(_tmp1)
1260  02E5  F5          	push	af
1261  02E6  33          	inc	sp
1262  02E7  CD 1E 00    	call	_spr_check_map
1263  02EA  F1          	pop	af
1264  02EB  7C          	ld	a,h
1265  02EC  B5          	or	a,l
1266  02ED  28 14       	jr	Z,l_spr_move_up_00107
1267  02EF  3A 00 00    	ld	a,(_sprite)
1268  02F2  D6 07       	sub	a,0x07
1269  02F4  20 09       	jr	NZ,l_spr_move_up_00102
1270  02F6  3A 07 00    	ld	a,(_state_a + 0x0007)
1271  02F9  07          	rlca
1272  02FA  38 03       	jr	C,l_spr_move_up_00102
1273  02FC  CD 00 00    	call	_player_hit_platform
1274  02FF              l_spr_move_up_00102:
1275  02FF  2E 01       	ld	l,0x01
1276  0301  18 39       	jr	l_spr_move_up_00111
1277  0303              l_spr_move_up_00107:
1278  0303  2A 00 00    	ld	hl,(_sprite)
1279  0306  26 00       	ld	h,0x00
1280  0308  01 00 00    	ld	bc,_lin
1281  030B  09          	add	hl,bc
1282  030C  3A 00 00    	ld	a,(_tmp1)
1283  030F  77          	ld	(hl),a
1284  0310  2A 00 00    	ld	hl,(_sprite)
1285  0313  26 00       	ld	h,0x00
1286  0315  01 00 00    	ld	bc,_lin
1287  0318  09          	add	hl,bc
1288  0319  7E          	ld	a,(hl)
1289  031A  5F          	ld	e,a
1290  031B  B7          	or	a,a
1291  031C  4D          	ld	c,l
1292  031D  44          	ld	b,h
1293  031E  28 05       	jr	Z,l_spr_move_up_00108
1294  0320  3E 90       	ld	a,0x90
1295  0322  93          	sub	a, e
1296  0323  30 15       	jr	NC,l_spr_move_up_00109
1297  0325              l_spr_move_up_00108:
1298  0325  AF          	xor	a, a
1299  0326  02          	ld	(bc), a
1300  0327  3A 00 00    	ld	a,(_s_col0)
1301  032A  F5          	push	af
1302  032B  33          	inc	sp
1303  032C  3A 00 00    	ld	a,(_s_lin0)
1304  032F  57          	ld	d,a
1305  0330  1E 12       	ld	e,0x12
1306  0332  D5          	push	de
1307  0333  CD 00 00    	call	_NIRVANAP_fillT_callee
1308  0336  2E 01       	ld	l,0x01
1309  0338  18 02       	jr	l_spr_move_up_00111
1310  033A              l_spr_move_up_00109:
1311  033A  2E 00       	ld	l,0x00
1312  033C              l_spr_move_up_00111:
1313  033C  C9          	ret
1314  033D              	SECTION code_compiler
1315  033D              ;	---------------------------------
1316  033D              ; Function spr_move_down
1317  033D              ; ---------------------------------
1318  033D              _spr_move_down:
1319  033D  2A 00 00    	ld	hl,(_sprite)
1320  0340  26 00       	ld	h,0x00
1321  0342  01 00 00    	ld	bc,_lin
1322  0345  09          	add	hl,bc
1323  0346  4E          	ld	c,(hl)
1324  0347  21 00 00    	ld	hl,_sprite_lin_inc_mul
1325  034A  46          	ld	b, (hl)
1326  034B  1E 02       	ld	e,0x02
1327  034D  04          	inc	b
1328  034E  18 02       	jr	l_spr_move_down_00129
1329  0350              l_spr_move_down_00128:
1330  0350  CB 23       	sla	e
1331  0352              l_spr_move_down_00129:
1332  0352  10 FC       	djnz	l_spr_move_down_00128
1333  0354  79          	ld	a, c
1334  0355  83          	add	a, e
1335  0356  32 00 00    	ld	(_tmp1),a
1336  0359  2A 00 00    	ld	hl,(_sprite)
1337  035C  26 00       	ld	h,0x00
1338  035E  01 00 00    	ld	bc,_col
1339  0361  09          	add	hl,bc
1340  0362  56          	ld	d, (hl)
1341  0363  3A 00 00    	ld	a,(_tmp1)
1342  0366  C6 10       	add	a,0x10
1343  0368  5F          	ld	e, a
1344  0369  D5          	push	de
1345  036A  CD 8A 00    	call	_spr_check_map_fall
1346  036D  F1          	pop	af
1347  036E  4D          	ld	c,l
1348  036F  44          	ld	b,h
1349  0370  2A 00 00    	ld	hl,(_sprite)
1350  0373  26 00       	ld	h,0x00
1351  0375  11 00 00    	ld	de,_lin
1352  0378  19          	add	hl,de
1353  0379  78          	ld	a,b
1354  037A  EB          	ex	de,hl
1355  037B  B1          	or	a,c
1356  037C  28 25       	jr	Z,l_spr_move_down_00107
1357  037E  3A 00 00    	ld	a,(_tmp1)
1358  0381  0F          	rrca
1359  0382  0F          	rrca
1360  0383  0F          	rrca
1361  0384  E6 1F       	and	a,0x1f
1362  0386  07          	rlca
1363  0387  07          	rlca
1364  0388  07          	rlca
1365  0389  E6 F8       	and	a,0xf8
1366  038B  4F          	ld	c, a
1367  038C  3A 00 00    	ld	a,(_sprite)
1368  038F  D6 07       	sub	a,0x07
1369  0391  20 0A       	jr	NZ,l_spr_move_down_00104
1370  0393  3A 00 00    	ld	a,(_player_over_stair)
1371  0396  B7          	or	a, a
1372  0397  20 06       	jr	NZ,l_spr_move_down_00105
1373  0399  79          	ld	a, c
1374  039A  12          	ld	(de), a
1375  039B  18 02       	jr	l_spr_move_down_00105
1376  039D              l_spr_move_down_00104:
1377  039D  79          	ld	a, c
1378  039E  12          	ld	(de), a
1379  039F              l_spr_move_down_00105:
1380  039F  2E 01       	ld	l,0x01
1381  03A1  18 1A       	jr	l_spr_move_down_00110
1382  03A3              l_spr_move_down_00107:
1383  03A3  3A 00 00    	ld	a,(_tmp1)
1384  03A6  12          	ld	(de), a
1385  03A7  2A 00 00    	ld	hl,(_sprite)
1386  03AA  26 00       	ld	h,0x00
1387  03AC  01 00 00    	ld	bc,_lin
1388  03AF  09          	add	hl,bc
1389  03B0  5E          	ld	e,(hl)
1390  03B1  3E 90       	ld	a,0x90
1391  03B3  BB          	cp	a,e
1392  03B4  30 05       	jr	NC,l_spr_move_down_00109
1393  03B6  77          	ld	(hl),a
1394  03B7  2E 01       	ld	l,0x01
1395  03B9  18 02       	jr	l_spr_move_down_00110
1396  03BB              l_spr_move_down_00109:
1397  03BB  2E 00       	ld	l,0x00
1398  03BD              l_spr_move_down_00110:
1399  03BD  C9          	ret
1400  03BE              	SECTION code_compiler
1401  03BE              ;	---------------------------------
1402  03BE              ; Function spr_move_horizontal
1403  03BE              ; ---------------------------------
1404  03BE              _spr_move_horizontal:
1405  03BE  2A 00 00    	ld	hl,(_sprite)
1406  03C1  26 00       	ld	h,0x00
1407  03C3  01 00 00    	ld	bc,_state
1408  03C6  09          	add	hl,bc
1409  03C7  7E          	ld	a,(hl)
1410  03C8  CB 57       	bit	2, a
1411  03CA  28 05       	jr	Z,l_spr_move_horizontal_00104
1412  03CC  CD DD 03    	call	_spr_move_right
1413  03CF  18 0B       	jr	l_spr_move_horizontal_00106
1414  03D1              l_spr_move_horizontal_00104:
1415  03D1  CB 5F       	bit	3, a
1416  03D3  28 05       	jr	Z,l_spr_move_horizontal_00105
1417  03D5  CD C8 04    	call	_spr_move_left
1418  03D8  18 02       	jr	l_spr_move_horizontal_00106
1419  03DA              l_spr_move_horizontal_00105:
1420  03DA  2E 00       	ld	l,0x00
1421  03DC              l_spr_move_horizontal_00106:
1422  03DC  C9          	ret
1423  03DD              	SECTION code_compiler
1424  03DD              ;	---------------------------------
1425  03DD              ; Function spr_move_right
1426  03DD              ; ---------------------------------
1427  03DD              _spr_move_right:
1428  03DD  2A 00 00    	ld	hl,(_sprite)
1429  03E0  26 00       	ld	h,0x00
1430  03E2  01 00 00    	ld	bc,_colint
1431  03E5  09          	add	hl,bc
1432  03E6  7E          	ld	a,(hl)
1433  03E7  3C          	inc	a
1434  03E8  77          	ld	(hl),a
1435  03E9  4F          	ld	c,a
1436  03EA  3A 00 00    	ld	a,(_sprite)
1437  03ED  5F          	ld	e,a
1438  03EE  16 00       	ld	d,0x00
1439  03F0  21 00 00    	ld	hl,_class
1440  03F3  19          	add	hl,de
1441  03F4  5E          	ld	e, (hl)
1442  03F5  16 00       	ld	d,0x00
1443  03F7  21 00 00    	ld	hl,_sprite_frames
1444  03FA  19          	add	hl, de
1445  03FB  7E          	ld	a, (hl)
1446  03FC  91          	sub	a, c
1447  03FD  C2 C5 04    	jp	NZ,l_spr_move_right_00118
1448  0400  2A 00 00    	ld	hl,(_sprite)
1449  0403  26 00       	ld	h,0x00
1450  0405  01 00 00    	ld	bc,_lin
1451  0408  09          	add	hl,bc
1452  0409  7E          	ld	a,(hl)
1453  040A  32 00 00    	ld	(_s_lin1),a
1454  040D  2A 00 00    	ld	hl,(_sprite)
1455  0410  26 00       	ld	h,0x00
1456  0412  01 00 00    	ld	bc,_col
1457  0415  09          	add	hl,bc
1458  0416  7E          	ld	a,(hl)
1459  0417  FE 1E       	cp	a,0x1e
1460  0419  30 56       	jr	NC,l_spr_move_right_00108
1461  041B  3C          	inc	a
1462  041C  32 00 00    	ld	(_s_col1),a
1463  041F  F5          	push	af
1464  0420  33          	inc	sp
1465  0421  3A 00 00    	ld	a,(_s_lin1)
1466  0424  F5          	push	af
1467  0425  33          	inc	sp
1468  0426  CD 1E 00    	call	_spr_check_map
1469  0429  F1          	pop	af
1470  042A  7C          	ld	a,h
1471  042B  B5          	or	a,l
1472  042C  20 13       	jr	NZ,l_spr_move_right_00104
1473  042E  3A 00 00    	ld	a,(_s_lin1)
1474  0431  C6 0F       	add	a,0x0f
1475  0433  4F          	ld	c, a
1476  0434  3A 00 00    	ld	a, (_s_col1)
1477  0437  47          	ld	b,a
1478  0438  C5          	push	bc
1479  0439  CD 1E 00    	call	_spr_check_map
1480  043C  F1          	pop	af
1481  043D  7C          	ld	a,h
1482  043E  B5          	or	a,l
1483  043F  28 30       	jr	Z,l_spr_move_right_00108
1484  0441              l_spr_move_right_00104:
1485  0441  2A 00 00    	ld	hl,(_sprite)
1486  0444  26 00       	ld	h,0x00
1487  0446  01 00 00    	ld	bc,_colint
1488  0449  09          	add	hl,bc
1489  044A  7E          	ld	a,(hl)
1490  044B  C6 FF       	add	a,0xff
1491  044D  77          	ld	(hl),a
1492  044E  2A 00 00    	ld	hl,(_sprite)
1493  0451  26 00       	ld	h,0x00
1494  0453  01 00 00    	ld	bc,_state
1495  0456  09          	add	hl,bc
1496  0457  7E          	ld	a,(hl)
1497  0458  CB 47       	bit	0, a
1498  045A  20 11       	jr	NZ,l_spr_move_right_00102
1499  045C  CB 4F       	bit	1, a
1500  045E  20 0D       	jr	NZ,l_spr_move_right_00102
1501  0460  2A 00 00    	ld	hl,(_sprite)
1502  0463  26 00       	ld	h,0x00
1503  0465  01 00 00    	ld	bc,_colint
1504  0468  09          	add	hl,bc
1505  0469  7E          	ld	a,(hl)
1506  046A  C6 FF       	add	a,0xff
1507  046C  77          	ld	(hl),a
1508  046D              l_spr_move_right_00102:
1509  046D  2E 01       	ld	l,0x01
1510  046F  18 56       	jr	l_spr_move_right_00119
1511  0471              l_spr_move_right_00108:
1512  0471  2A 00 00    	ld	hl,(_sprite)
1513  0474  26 00       	ld	h,0x00
1514  0476  01 00 00    	ld	bc,_col
1515  0479  09          	add	hl,bc
1516  047A  34          	inc	(hl)
1517  047B  2A 00 00    	ld	hl,(_sprite)
1518  047E  26 00       	ld	h,0x00
1519  0480  01 00 00    	ld	bc,_colint
1520  0483  09          	add	hl,bc
1521  0484  AF          	xor	a,a
1522  0485  77          	ld	(hl),a
1523  0486  2A 00 00    	ld	hl,(_sprite)
1524  0489  26 00       	ld	h,0x00
1525  048B  01 00 00    	ld	bc,_col
1526  048E  09          	add	hl,bc
1527  048F  5E          	ld	e,(hl)
1528  0490  3E 1E       	ld	a,0x1e
1529  0492  93          	sub	a,e
1530  0493  30 30       	jr	NC,l_spr_move_right_00118
1531  0495  3A 00 00    	ld	a,(_sprite)
1532  0498  D6 07       	sub	a,0x07
1533  049A  28 04       	jr	Z,l_spr_move_right_00160
1534  049C  4D          	ld	c,l
1535  049D  44          	ld	b,h
1536  049E  18 1C       	jr	l_spr_move_right_00113
1537  04A0              l_spr_move_right_00160:
1538  04A0  CD B8 05    	call	_spr_page_right
1539  04A3  3A 00 00    	ld	a,(_sprite)
1540  04A6  C6 00       	add	a,+((_col) & 0xFF)
1541  04A8  4D          	ld	c,l
1542  04A9  5F          	ld	e,a
1543  04AA  3E 00       	ld	a,+((_col) / 256)
1544  04AC  CE 00       	adc	a,0x00
1545  04AE  57          	ld	d,a
1546  04AF  79          	ld	a, c
1547  04B0  B7          	or	a, a
1548  04B1  28 04       	jr	Z,l_spr_move_right_00110
1549  04B3  AF          	xor	a, a
1550  04B4  12          	ld	(de), a
1551  04B5  18 0E       	jr	l_spr_move_right_00118
1552  04B7              l_spr_move_right_00110:
1553  04B7  3E 1E       	ld	a,0x1e
1554  04B9  12          	ld	(de), a
1555  04BA  18 09       	jr	l_spr_move_right_00118
1556  04BC              l_spr_move_right_00113:
1557  04BC  3E 1E       	ld	a,0x1e
1558  04BE  02          	ld	(bc), a
1559  04BF  2A 00 00    	ld	hl,(_sprite)
1560  04C2  CD 07 08    	call	_spr_destroy
1561  04C5              l_spr_move_right_00118:
1562  04C5  2E 00       	ld	l,0x00
1563  04C7              l_spr_move_right_00119:
1564  04C7  C9          	ret
1565  04C8              	SECTION code_compiler
1566  04C8              ;	---------------------------------
1567  04C8              ; Function spr_move_left
1568  04C8              ; ---------------------------------
1569  04C8              _spr_move_left:
1570  04C8  01 00 00    	ld	bc,_colint+0
1571  04CB  79          	ld	a, c
1572  04CC  21 00 00    	ld	hl,_sprite
1573  04CF  86          	add	a, (hl)
1574  04D0  5F          	ld	e, a
1575  04D1  78          	ld	a, b
1576  04D2  CE 00       	adc	a,0x00
1577  04D4  57          	ld	d, a
1578  04D5  1A          	ld	a, (de)
1579  04D6  C6 FF       	add	a,0xff
1580  04D8  12          	ld	(de), a
1581  04D9  79          	ld	a, c
1582  04DA  86          	add	a, (hl)
1583  04DB  5F          	ld	e, a
1584  04DC  78          	ld	a, b
1585  04DD  CE 00       	adc	a,0x00
1586  04DF  57          	ld	d, a
1587  04E0  1A          	ld	a, (de)
1588  04E1  3C          	inc	a
1589  04E2  C2 B5 05    	jp	NZ,l_spr_move_left_00118
1590  04E5  5E          	ld	e,(hl)
1591  04E6  16 00       	ld	d,0x00
1592  04E8  21 00 00    	ld	hl,_lin
1593  04EB  19          	add	hl,de
1594  04EC  7E          	ld	a,(hl)
1595  04ED  32 00 00    	ld	(_s_lin1),a
1596  04F0  2A 00 00    	ld	hl,(_sprite)
1597  04F3  26 00       	ld	h,0x00
1598  04F5  11 00 00    	ld	de,_col
1599  04F8  19          	add	hl,de
1600  04F9  7E          	ld	a,(hl)
1601  04FA  B7          	or	a, a
1602  04FB  28 54       	jr	Z,l_spr_move_left_00108
1603  04FD  C6 FF       	add	a,0xff
1604  04FF  32 00 00    	ld	(_s_col1),a
1605  0502  C5          	push	bc
1606  0503  F5          	push	af
1607  0504  33          	inc	sp
1608  0505  3A 00 00    	ld	a,(_s_lin1)
1609  0508  F5          	push	af
1610  0509  33          	inc	sp
1611  050A  CD 1E 00    	call	_spr_check_map
1612  050D  F1          	pop	af
1613  050E  C1          	pop	bc
1614  050F  7C          	ld	a,h
1615  0510  B5          	or	a,l
1616  0511  20 16       	jr	NZ,l_spr_move_left_00104
1617  0513  3A 00 00    	ld	a,(_s_lin1)
1618  0516  C6 0F       	add	a,0x0f
1619  0518  57          	ld	d, a
1620  0519  3A 00 00    	ld	a,(_s_col1)
1621  051C  C5          	push	bc
1622  051D  5A          	ld	e,d
1623  051E  57          	ld	d,a
1624  051F  D5          	push	de
1625  0520  CD 1E 00    	call	_spr_check_map
1626  0523  F1          	pop	af
1627  0524  C1          	pop	bc
1628  0525  7C          	ld	a,h
1629  0526  B5          	or	a,l
1630  0527  28 28       	jr	Z,l_spr_move_left_00108
1631  0529              l_spr_move_left_00104:
1632  0529  79          	ld	a, c
1633  052A  21 00 00    	ld	hl,_sprite
1634  052D  86          	add	a, (hl)
1635  052E  5F          	ld	e, a
1636  052F  78          	ld	a, b
1637  0530  CE 00       	adc	a,0x00
1638  0532  57          	ld	d, a
1639  0533  1A          	ld	a, (de)
1640  0534  3C          	inc	a
1641  0535  12          	ld	(de), a
1642  0536  5E          	ld	e,(hl)
1643  0537  16 00       	ld	d,0x00
1644  0539  21 00 00    	ld	hl,_state
1645  053C  19          	add	hl,de
1646  053D  7E          	ld	a,(hl)
1647  053E  CB 47       	bit	0,a
1648  0540  20 0B       	jr	NZ,l_spr_move_left_00102
1649  0542  CB 4F       	bit	1, a
1650  0544  20 07       	jr	NZ,l_spr_move_left_00102
1651  0546  2A 00 00    	ld	hl,(_sprite)
1652  0549  26 00       	ld	h,0x00
1653  054B  09          	add	hl,bc
1654  054C  34          	inc	(hl)
1655  054D              l_spr_move_left_00102:
1656  054D  2E 01       	ld	l,0x01
1657  054F  18 66       	jr	l_spr_move_left_00119
1658  0551              l_spr_move_left_00108:
1659  0551  2A 00 00    	ld	hl,(_sprite)
1660  0554  26 00       	ld	h,0x00
1661  0556  11 00 00    	ld	de,_col
1662  0559  19          	add	hl,de
1663  055A  7E          	ld	a,(hl)
1664  055B  EB          	ex	de,hl
1665  055C  C6 FF       	add	a,0xff
1666  055E  12          	ld	(de),a
1667  055F  79          	ld	a,c
1668  0560  21 00 00    	ld	hl,_sprite
1669  0563  86          	add	a, (hl)
1670  0564  4F          	ld	c, a
1671  0565  78          	ld	a, b
1672  0566  CE 00       	adc	a,0x00
1673  0568  47          	ld	b, a
1674  0569  5E          	ld	e,(hl)
1675  056A  16 00       	ld	d,0x00
1676  056C  21 00 00    	ld	hl,_class
1677  056F  19          	add	hl,de
1678  0570  5E          	ld	e, (hl)
1679  0571  16 00       	ld	d,0x00
1680  0573  21 00 00    	ld	hl,_sprite_frames
1681  0576  19          	add	hl, de
1682  0577  5E          	ld	e, (hl)
1683  0578  1D          	dec	e
1684  0579  7B          	ld	a, e
1685  057A  02          	ld	(bc), a
1686  057B  2A 00 00    	ld	hl,(_sprite)
1687  057E  26 00       	ld	h,0x00
1688  0580  01 00 00    	ld	bc,_col
1689  0583  09          	add	hl,bc
1690  0584  7E          	ld	a,(hl)
1691  0585  3C          	inc	a
1692  0586  20 2D       	jr	NZ,l_spr_move_left_00118
1693  0588  3A 00 00    	ld	a,(_sprite)
1694  058B  D6 07       	sub	a,0x07
1695  058D  4D          	ld	c,l
1696  058E  44          	ld	b,h
1697  058F  20 1C       	jr	NZ,l_spr_move_left_00113
1698  0591  CD D2 05    	call	_spr_page_left
1699  0594  3A 00 00    	ld	a,(_sprite)
1700  0597  C6 00       	add	a,+((_col) & 0xFF)
1701  0599  4D          	ld	c,l
1702  059A  5F          	ld	e,a
1703  059B  3E 00       	ld	a,+((_col) / 256)
1704  059D  CE 00       	adc	a,0x00
1705  059F  57          	ld	d,a
1706  05A0  79          	ld	a, c
1707  05A1  B7          	or	a, a
1708  05A2  28 05       	jr	Z,l_spr_move_left_00110
1709  05A4  3E 1E       	ld	a,0x1e
1710  05A6  12          	ld	(de), a
1711  05A7  18 0C       	jr	l_spr_move_left_00118
1712  05A9              l_spr_move_left_00110:
1713  05A9  AF          	xor	a, a
1714  05AA  12          	ld	(de), a
1715  05AB  18 08       	jr	l_spr_move_left_00118
1716  05AD              l_spr_move_left_00113:
1717  05AD  AF          	xor	a, a
1718  05AE  02          	ld	(bc), a
1719  05AF  2A 00 00    	ld	hl,(_sprite)
1720  05B2  CD 07 08    	call	_spr_destroy
1721  05B5              l_spr_move_left_00118:
1722  05B5  2E 00       	ld	l,0x00
1723  05B7              l_spr_move_left_00119:
1724  05B7  C9          	ret
1725  05B8              	SECTION code_compiler
1726  05B8              ;	---------------------------------
1727  05B8              ; Function spr_page_right
1728  05B8              ; ---------------------------------
1729  05B8              _spr_page_right:
1730  05B8  3A 00 00    	ld	a,(_scr_curr)
1731  05BB  21 00 00    	ld	hl,_map_width
1732  05BE  96          	sub	a, (hl)
1733  05BF  30 0E       	jr	NC,l_spr_page_right_00102
1734  05C1  21 00 00    	ld	hl,_scr_curr
1735  05C4  34          	inc	(hl)
1736  05C5  CD F9 05    	call	_spr_page_map
1737  05C8  CD 27 09    	call	_spr_draw_map
1738  05CB  2E 01       	ld	l,0x01
1739  05CD  18 02       	jr	l_spr_page_right_00103
1740  05CF              l_spr_page_right_00102:
1741  05CF  2E 00       	ld	l,0x00
1742  05D1              l_spr_page_right_00103:
1743  05D1  C9          	ret
1744  05D2              	SECTION code_compiler
1745  05D2              ;	---------------------------------
1746  05D2              ; Function spr_page_left
1747  05D2              ; ---------------------------------
1748  05D2              _spr_page_left:
1749  05D2  2A 00 00    	ld	hl,(_sprite)
1750  05D5  26 00       	ld	h,0x00
1751  05D7  01 00 00    	ld	bc,_class
1752  05DA  09          	add	hl,bc
1753  05DB  7E          	ld	a,(hl)
1754  05DC  D6 10       	sub	a,0x10
1755  05DE  28 04       	jr	Z,l_spr_page_left_00102
1756  05E0  2E 00       	ld	l,0x00
1757  05E2  18 14       	jr	l_spr_page_left_00105
1758  05E4              l_spr_page_left_00102:
1759  05E4  21 00 00    	ld	hl,_scr_curr
1760  05E7  7E          	ld	a, (hl)
1761  05E8  B7          	or	a, a
1762  05E9  28 0B       	jr	Z,l_spr_page_left_00104
1763  05EB  35          	dec	(hl)
1764  05EC  CD F9 05    	call	_spr_page_map
1765  05EF  CD 27 09    	call	_spr_draw_map
1766  05F2  2E 01       	ld	l,0x01
1767  05F4  18 02       	jr	l_spr_page_left_00105
1768  05F6              l_spr_page_left_00104:
1769  05F6  2E 00       	ld	l,0x00
1770  05F8              l_spr_page_left_00105:
1771  05F8  C9          	ret
1772  05F9              	SECTION code_compiler
1773  05F9              ;	---------------------------------
1774  05F9              ; Function spr_page_map
1775  05F9              ; ---------------------------------
1776  05F9              _spr_page_map:
1777  05F9  CD 00 00    	call	___sdcc_enter_ix
1778  05FC  F5          	push	af
1779  05FD  3B          	dec	sp
1780  05FE  DD 36 FE 10 	ld	(ix-2),0x10
1781  0602  0E 00       	ld	c,0x00
1782  0604              l_spr_page_map_00123:
1783  0604  3E 07       	ld	a,0x07
1784  0606  21 00 00    	ld	hl,_scr_curr
1785  0609  96          	sub	a, (hl)
1786  060A  DA D4 06    	jp	C, l_spr_page_map_00109
1787  060D  59          	ld	e, c
1788  060E  16 00       	ld	d,0x00
1789  0610  13          	inc	de
1790  0611  D5          	push	de
1791  0612  5E          	ld	e, (hl)
1792  0613  16 00       	ld	d,0x00
1793  0615  21 1D 06    	ld	hl,l_spr_page_map_00167
1794  0618  19          	add	hl, de
1795  0619  19          	add	hl, de
1796  061A  19          	add	hl, de
1797  061B  D1          	pop	de
1798  061C  E9          	jp	(hl)
1799  061D              l_spr_page_map_00167:
1800  061D  C3 35 06    	jp	l_spr_page_map_00101
1801  0620  C3 4A 06    	jp	l_spr_page_map_00102
1802  0623  C3 5E 06    	jp	l_spr_page_map_00103
1803  0626  C3 72 06    	jp	l_spr_page_map_00104
1804  0629  C3 86 06    	jp	l_spr_page_map_00105
1805  062C  C3 9A 06    	jp	l_spr_page_map_00106
1806  062F  C3 AE 06    	jp	l_spr_page_map_00107
1807  0632  C3 C2 06    	jp	l_spr_page_map_00108
1808  0635              l_spr_page_map_00101:
1809  0635  06 00       	ld	b,0x00
1810  0637  21 00 00    	ld	hl,_scr_0
1811  063A  09          	add	hl, bc
1812  063B  7E          	ld	a, (hl)
1813  063C  DD 77 FD    	ld	(ix-3),a
1814  063F  21 00 00    	ld	hl,_scr_0
1815  0642  19          	add	hl, de
1816  0643  7E          	ld	a, (hl)
1817  0644  DD 77 FF    	ld	(ix-1),a
1818  0647  C3 D4 06    	jp	l_spr_page_map_00109
1819  064A              l_spr_page_map_00102:
1820  064A  06 00       	ld	b,0x00
1821  064C  21 00 00    	ld	hl,_scr_1
1822  064F  09          	add	hl, bc
1823  0650  7E          	ld	a, (hl)
1824  0651  DD 77 FD    	ld	(ix-3),a
1825  0654  21 00 00    	ld	hl,_scr_1
1826  0657  19          	add	hl, de
1827  0658  7E          	ld	a, (hl)
1828  0659  DD 77 FF    	ld	(ix-1),a
1829  065C  18 76       	jr	l_spr_page_map_00109
1830  065E              l_spr_page_map_00103:
1831  065E  06 00       	ld	b,0x00
1832  0660  21 00 00    	ld	hl,_scr_2
1833  0663  09          	add	hl, bc
1834  0664  7E          	ld	a, (hl)
1835  0665  DD 77 FD    	ld	(ix-3),a
1836  0668  21 00 00    	ld	hl,_scr_2
1837  066B  19          	add	hl, de
1838  066C  7E          	ld	a, (hl)
1839  066D  DD 77 FF    	ld	(ix-1),a
1840  0670  18 62       	jr	l_spr_page_map_00109
1841  0672              l_spr_page_map_00104:
1842  0672  06 00       	ld	b,0x00
1843  0674  21 00 00    	ld	hl,_scr_3
1844  0677  09          	add	hl, bc
1845  0678  7E          	ld	a, (hl)
1846  0679  DD 77 FD    	ld	(ix-3),a
1847  067C  21 00 00    	ld	hl,_scr_3
1848  067F  19          	add	hl, de
1849  0680  7E          	ld	a, (hl)
1850  0681  DD 77 FF    	ld	(ix-1),a
1851  0684  18 4E       	jr	l_spr_page_map_00109
1852  0686              l_spr_page_map_00105:
1853  0686  06 00       	ld	b,0x00
1854  0688  21 00 00    	ld	hl,_scr_4
1855  068B  09          	add	hl, bc
1856  068C  7E          	ld	a, (hl)
1857  068D  DD 77 FD    	ld	(ix-3),a
1858  0690  21 00 00    	ld	hl,_scr_4
1859  0693  19          	add	hl, de
1860  0694  7E          	ld	a, (hl)
1861  0695  DD 77 FF    	ld	(ix-1),a
1862  0698  18 3A       	jr	l_spr_page_map_00109
1863  069A              l_spr_page_map_00106:
1864  069A  06 00       	ld	b,0x00
1865  069C  21 00 00    	ld	hl,_scr_5
1866  069F  09          	add	hl, bc
1867  06A0  7E          	ld	a, (hl)
1868  06A1  DD 77 FD    	ld	(ix-3),a
1869  06A4  21 00 00    	ld	hl,_scr_5
1870  06A7  19          	add	hl, de
1871  06A8  7E          	ld	a, (hl)
1872  06A9  DD 77 FF    	ld	(ix-1),a
1873  06AC  18 26       	jr	l_spr_page_map_00109
1874  06AE              l_spr_page_map_00107:
1875  06AE  06 00       	ld	b,0x00
1876  06B0  21 00 00    	ld	hl,_scr_6
1877  06B3  09          	add	hl, bc
1878  06B4  7E          	ld	a, (hl)
1879  06B5  DD 77 FD    	ld	(ix-3),a
1880  06B8  21 00 00    	ld	hl,_scr_6
1881  06BB  19          	add	hl, de
1882  06BC  7E          	ld	a, (hl)
1883  06BD  DD 77 FF    	ld	(ix-1),a
1884  06C0  18 12       	jr	l_spr_page_map_00109
1885  06C2              l_spr_page_map_00108:
1886  06C2  06 00       	ld	b,0x00
1887  06C4  21 00 00    	ld	hl,_scr_7
1888  06C7  09          	add	hl, bc
1889  06C8  7E          	ld	a, (hl)
1890  06C9  DD 77 FD    	ld	(ix-3),a
1891  06CC  21 00 00    	ld	hl,_scr_7
1892  06CF  19          	add	hl, de
1893  06D0  7E          	ld	a, (hl)
1894  06D1  DD 77 FF    	ld	(ix-1),a
1895  06D4              l_spr_page_map_00109:
1896  06D4  DD 7E FD    	ld	a,(ix-3)
1897  06D7  D6 80       	sub	a,0x80
1898  06D9  30 14       	jr	NC,l_spr_page_map_00114
1899  06DB  3E 00       	ld	a, +((_scr_map) & 0xFF)
1900  06DD  DD 86 FE    	add	a,(ix-2)
1901  06E0  5F          	ld	e, a
1902  06E1  3E 00       	ld	a, +((_scr_map) / 256)
1903  06E3  CE 00       	adc	a,0x00
1904  06E5  57          	ld	d, a
1905  06E6  DD 7E FD    	ld	a,(ix-3)
1906  06E9  12          	ld	(de), a
1907  06EA  DD 34 FE    	inc	(ix-2)
1908  06ED  18 29       	jr	l_spr_page_map_00115
1909  06EF              l_spr_page_map_00114:
1910  06EF  DD 7E FD    	ld	a,(ix-3)
1911  06F2  C6 80       	add	a,0x80
1912  06F4  47          	ld	b, a
1913  06F5  DD 5E FE    	ld	e,(ix-2)
1914  06F8  16 00       	ld	d,0x00
1915  06FA              l_spr_page_map_00121:
1916  06FA  7A          	ld	a, d
1917  06FB  90          	sub	a, b
1918  06FC  30 16       	jr	NC,l_spr_page_map_00138
1919  06FE  3E 00       	ld	a, +((_scr_map) & 0xFF)
1920  0700  83          	add	a, e
1921  0701  6F          	ld	l, a
1922  0702  3E 00       	ld	a, +((_scr_map) / 256)
1923  0704  CE 00       	adc	a,0x00
1924  0706  67          	ld	h, a
1925  0707  DD 7E FF    	ld	a,(ix-1)
1926  070A  77          	ld	(hl), a
1927  070B  1C          	inc	e
1928  070C  7B          	ld	a, e
1929  070D  D6 A0       	sub	a,0xa0
1930  070F  30 03       	jr	NC,l_spr_page_map_00138
1931  0711  14          	inc	d
1932  0712  18 E6       	jr	l_spr_page_map_00121
1933  0714              l_spr_page_map_00138:
1934  0714  DD 73 FE    	ld	(ix-2),e
1935  0717  0C          	inc	c
1936  0718              l_spr_page_map_00115:
1937  0718  DD 7E FE    	ld	a,(ix-2)
1938  071B  D6 A0       	sub	a,0xa0
1939  071D  30 07       	jr	NC,l_spr_page_map_00136
1940  071F  0C          	inc	c
1941  0720  79          	ld	a, c
1942  0721  D6 A0       	sub	a,0xa0
1943  0723  DA 04 06    	jp	C, l_spr_page_map_00123
1944  0726              l_spr_page_map_00136:
1945  0726  0E 00       	ld	c,0x00
1946  0728              l_spr_page_map_00125:
1947  0728  06 00       	ld	b,0x00
1948  072A  21 00 00    	ld	hl,_class
1949  072D  09          	add	hl, bc
1950  072E  36 00       	ld	(hl),0x00
1951  0730  C5          	push	bc
1952  0731  21 00 00    	ld	hl,0x0000
1953  0734  E5          	push	hl
1954  0735  AF          	xor	a, a
1955  0736  F5          	push	af
1956  0737  33          	inc	sp
1957  0738  79          	ld	a, c
1958  0739  F5          	push	af
1959  073A  33          	inc	sp
1960  073B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1961  073E  C1          	pop	bc
1962  073F  0C          	inc	c
1963  0740  79          	ld	a, c
1964  0741  D6 07       	sub	a,0x07
1965  0743  38 E3       	jr	C,l_spr_page_map_00125
1966  0745  CD 5C 0E    	call	_spr_init_anim
1967  0748  CD 6E 0E    	call	_spr_init_bullet
1968  074B  DD F9       	ld	sp, ix
1969  074D  DD E1       	pop	ix
1970  074F  C9          	ret
1971  0750              	SECTION code_compiler
1972  0750              ;	---------------------------------
1973  0750              ; Function spr_redraw
1974  0750              ; ---------------------------------
1975  0750              _spr_redraw:
1976  0750  2A 00 00    	ld	hl,(_sprite)
1977  0753  26 00       	ld	h,0x00
1978  0755  01 00 00    	ld	bc,_tile
1979  0758  09          	add	hl,bc
1980  0759  4E          	ld	c, (hl)
1981  075A  3A 00 00    	ld	a,(_sprite)
1982  075D  5F          	ld	e,a
1983  075E  16 00       	ld	d,0x00
1984  0760  21 00 00    	ld	hl,_colint
1985  0763  19          	add	hl,de
1986  0764  7E          	ld	a,(hl)
1987  0765  81          	add	a,c
1988  0766  32 00 00    	ld	(_s_tile1),a
1989  0769  2A 00 00    	ld	hl,(_sprite)
1990  076C  26 00       	ld	h,0x00
1991  076E  01 00 00    	ld	bc,_col
1992  0771  09          	add	hl,bc
1993  0772  7E          	ld	a,(hl)
1994  0773  32 00 00    	ld	(_s_col1),a
1995  0776  2A 00 00    	ld	hl,(_sprite)
1996  0779  26 00       	ld	h,0x00
1997  077B  01 00 00    	ld	bc,_lin
1998  077E  09          	add	hl,bc
1999  077F  7E          	ld	a,(hl)
2000  0780  32 00 00    	ld	(_s_lin1),a
2001  0783  21 00 00    	ld	hl,_s_lin0
2002  0786  96          	sub	a, (hl)
2003  0787  20 09       	jr	NZ,l_spr_redraw_00109
2004  0789  3A 00 00    	ld	a,(_s_col1)
2005  078C  21 00 00    	ld	hl,_s_col0
2006  078F  96          	sub	a, (hl)
2007  0790  28 52       	jr	Z,l_spr_redraw_00110
2008  0792              l_spr_redraw_00109:
2009  0792  3E 10       	ld	a,0x10
2010  0794  21 00 00    	ld	hl,_s_lin0
2011  0797  96          	sub	a, (hl)
2012  0798  38 0E       	jr	C,l_spr_redraw_00102
2013  079A  F3          	di
2014  079B  3A 00 00    	ld	a,(_s_col0)
2015  079E  F5          	push	af
2016  079F  33          	inc	sp
2017  07A0  21 49 08    	ld	hl,0x0849
2018  07A3  E5          	push	hl
2019  07A4  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2020  07A7  FB          	ei
2021  07A8              l_spr_redraw_00102:
2022  07A8  3A 00 00    	ld	a,(_sprite)
2023  07AB  D6 07       	sub	a,0x07
2024  07AD  20 1B       	jr	NZ,l_spr_redraw_00104
2025  07AF  3A 00 00    	ld	a,(_player_over_stair)
2026  07B2  B7          	or	a, a
2027  07B3  28 15       	jr	Z,l_spr_redraw_00104
2028  07B5  2A 00 00    	ld	hl,(_sprite)
2029  07B8  26 00       	ld	h,0x00
2030  07BA  01 00 00    	ld	bc,_lin
2031  07BD  09          	add	hl,bc
2032  07BE  7E          	ld	a,(hl)
2033  07BF  E6 03       	and	a,0x03
2034  07C1  20 07       	jr	NZ,l_spr_redraw_00104
2035  07C3  21 00 00    	ld	hl,_s_tile1
2036  07C6  34          	inc	(hl)
2037  07C7  34          	inc	(hl)
2038  07C8  34          	inc	(hl)
2039  07C9  34          	inc	(hl)
2040  07CA              l_spr_redraw_00104:
2041  07CA  2A FF FF    	ld	hl,(_s_col1 - 1)
2042  07CD  3A 00 00    	ld	a,(_s_lin1)
2043  07D0  6F          	ld	l,a
2044  07D1  E5          	push	hl
2045  07D2  2A FF FF    	ld	hl,(_s_tile1 - 1)
2046  07D5  3A 00 00    	ld	a,(_sprite)
2047  07D8  6F          	ld	l,a
2048  07D9  E5          	push	hl
2049  07DA  CD 00 00    	call	_NIRVANAP_spriteT_callee
2050  07DD  CD D0 0C    	call	_spr_back_repaint
2051  07E0  2E 01       	ld	l,0x01
2052  07E2  18 22       	jr	l_spr_redraw_00113
2053  07E4              l_spr_redraw_00110:
2054  07E4  3A 00 00    	ld	a,(_s_tile1)
2055  07E7  21 00 00    	ld	hl,_s_tile0
2056  07EA  96          	sub	a, (hl)
2057  07EB  28 17       	jr	Z,l_spr_redraw_00111
2058  07ED  2A FF FF    	ld	hl,(_s_col1 - 1)
2059  07F0  3A 00 00    	ld	a,(_s_lin1)
2060  07F3  6F          	ld	l,a
2061  07F4  E5          	push	hl
2062  07F5  2A FF FF    	ld	hl,(_s_tile1 - 1)
2063  07F8  3A 00 00    	ld	a,(_sprite)
2064  07FB  6F          	ld	l,a
2065  07FC  E5          	push	hl
2066  07FD  CD 00 00    	call	_NIRVANAP_spriteT_callee
2067  0800  2E 00       	ld	l,0x00
2068  0802  18 02       	jr	l_spr_redraw_00113
2069  0804              l_spr_redraw_00111:
2070  0804  2E 00       	ld	l,0x00
2071  0806              l_spr_redraw_00113:
2072  0806  C9          	ret
2073  0807              	SECTION code_compiler
2074  0807              ;	---------------------------------
2075  0807              ; Function spr_destroy
2076  0807              ; ---------------------------------
2077  0807              _spr_destroy:
2078  0807  CD 00 00    	call	___sdcc_enter_ix
2079  080A  F5          	push	af
2080  080B  4D          	ld	c, l
2081  080C  21 00 00    	ld	hl,_spr_count
2082  080F  35          	dec	(hl)
2083  0810  3E 00       	ld	a, +((_lin) & 0xFF)
2084  0812  81          	add	a, c
2085  0813  DD 77 FE    	ld	(ix-2),a
2086  0816  3E 00       	ld	a, +((_lin) / 256)
2087  0818  CE 00       	adc	a,0x00
2088  081A  DD 77 FF    	ld	(ix-1),a
2089  081D  E1          	pop	hl
2090  081E  7E          	ld	a,(hl)
2091  081F  E5          	push	hl
2092  0820  32 00 00    	ld	(_s_lin0),a
2093  0823  3E 00       	ld	a, +((_col) & 0xFF)
2094  0825  81          	add	a, c
2095  0826  5F          	ld	e, a
2096  0827  3E 00       	ld	a, +((_col) / 256)
2097  0829  CE 00       	adc	a,0x00
2098  082B  57          	ld	d, a
2099  082C  1A          	ld	a, (de)
2100  082D  32 00 00    	ld	(_s_col0),a
2101  0830  C5          	push	bc
2102  0831  D5          	push	de
2103  0832  21 00 00    	ld	hl,0x0000
2104  0835  E5          	push	hl
2105  0836  AF          	xor	a, a
2106  0837  F5          	push	af
2107  0838  33          	inc	sp
2108  0839  79          	ld	a, c
2109  083A  F5          	push	af
2110  083B  33          	inc	sp
2111  083C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2112  083F  CD D0 0C    	call	_spr_back_repaint
2113  0842  D1          	pop	de
2114  0843  C1          	pop	bc
2115  0844  06 00       	ld	b,0x00
2116  0846  21 00 00    	ld	hl,_tile
2117  0849  09          	add	hl, bc
2118  084A  AF          	xor	a,a
2119  084B  77          	ld	(hl),a
2120  084C  E1          	pop	hl
2121  084D  12          	ld	(de),a
2122  084E  E5          	push	hl
2123  084F  36 00       	ld	(hl),0x00
2124  0851  11 00 00    	ld	de,_class+0
2125  0854  69          	ld	l,c
2126  0855  26 00       	ld	h,0x00
2127  0857  19          	add	hl, de
2128  0858  36 00       	ld	(hl),0x00
2129  085A  11 00 00    	ld	de,_state+0
2130  085D  69          	ld	l,c
2131  085E  26 00       	ld	h,0x00
2132  0860  19          	add	hl, de
2133  0861  36 00       	ld	(hl),0x00
2134  0863  11 00 00    	ld	de,_state_a+0
2135  0866  69          	ld	l,c
2136  0867  26 00       	ld	h,0x00
2137  0869  19          	add	hl, de
2138  086A  F1          	pop	af
2139  086B  36 00       	ld	(hl),0x00
2140  086D  DD E1       	pop	ix
2141  086F  C9          	ret
2142  0870              	SECTION code_compiler
2143  0870              ;	---------------------------------
2144  0870              ; Function spr_tile
2145  0870              ; ---------------------------------
2146  0870              _spr_tile:
2147  0870  45          	ld	b,l
2148  0871  11 00 00    	ld	de,_class+0
2149  0874  26 00       	ld	h,0x00
2150  0876  19          	add	hl, de
2151  0877  7E          	ld	a, (hl)
2152  0878  FE 01       	cp	a,0x01
2153  087A  28 12       	jr	Z,l_spr_tile_00101
2154  087C  FE 02       	cp	a,0x02
2155  087E  28 1D       	jr	Z,l_spr_tile_00102
2156  0880  FE 03       	cp	a,0x03
2157  0882  28 28       	jr	Z,l_spr_tile_00103
2158  0884  FE 04       	cp	a,0x04
2159  0886  28 34       	jr	Z,l_spr_tile_00104
2160  0888  D6 05       	sub	a,0x05
2161  088A  28 3F       	jr	Z,l_spr_tile_00105
2162  088C  18 4D       	jr	l_spr_tile_00106
2163  088E              l_spr_tile_00101:
2164  088E  AF          	xor	a, a
2165  088F  48          	ld	c,b
2166  0890  47          	ld	b,a
2167  0891  C5          	push	bc
2168  0892  3E 84       	ld	a,0x84
2169  0894  F5          	push	af
2170  0895  33          	inc	sp
2171  0896  CD DE 08    	call	_spr_tile_dir
2172  0899  F1          	pop	af
2173  089A  33          	inc	sp
2174  089B  18 40       	jr	l_spr_tile_00107
2175  089D              l_spr_tile_00102:
2176  089D  AF          	xor	a, a
2177  089E  48          	ld	c,b
2178  089F  47          	ld	b,a
2179  08A0  C5          	push	bc
2180  08A1  3E 88       	ld	a,0x88
2181  08A3  F5          	push	af
2182  08A4  33          	inc	sp
2183  08A5  CD DE 08    	call	_spr_tile_dir
2184  08A8  F1          	pop	af
2185  08A9  33          	inc	sp
2186  08AA  18 31       	jr	l_spr_tile_00107
2187  08AC              l_spr_tile_00103:
2188  08AC  3E 02       	ld	a,0x02
2189  08AE  48          	ld	c,b
2190  08AF  47          	ld	b,a
2191  08B0  C5          	push	bc
2192  08B1  3E 8C       	ld	a,0x8c
2193  08B3  F5          	push	af
2194  08B4  33          	inc	sp
2195  08B5  CD DE 08    	call	_spr_tile_dir
2196  08B8  F1          	pop	af
2197  08B9  33          	inc	sp
2198  08BA  18 21       	jr	l_spr_tile_00107
2199  08BC              l_spr_tile_00104:
2200  08BC  AF          	xor	a, a
2201  08BD  48          	ld	c,b
2202  08BE  47          	ld	b,a
2203  08BF  C5          	push	bc
2204  08C0  3E 90       	ld	a,0x90
2205  08C2  F5          	push	af
2206  08C3  33          	inc	sp
2207  08C4  CD DE 08    	call	_spr_tile_dir
2208  08C7  F1          	pop	af
2209  08C8  33          	inc	sp
2210  08C9  18 12       	jr	l_spr_tile_00107
2211  08CB              l_spr_tile_00105:
2212  08CB  3E 04       	ld	a,0x04
2213  08CD  48          	ld	c,b
2214  08CE  47          	ld	b,a
2215  08CF  C5          	push	bc
2216  08D0  3E 94       	ld	a,0x94
2217  08D2  F5          	push	af
2218  08D3  33          	inc	sp
2219  08D4  CD DE 08    	call	_spr_tile_dir
2220  08D7  F1          	pop	af
2221  08D8  33          	inc	sp
2222  08D9  18 02       	jr	l_spr_tile_00107
2223  08DB              l_spr_tile_00106:
2224  08DB  2E 00       	ld	l,0x00
2225  08DD              l_spr_tile_00107:
2226  08DD  C9          	ret
2227  08DE              	SECTION code_compiler
2228  08DE              ;	---------------------------------
2229  08DE              ; Function spr_tile_dir
2230  08DE              ; ---------------------------------
2231  08DE              _spr_tile_dir:
2232  08DE  CD 00 00    	call	___sdcc_enter_ix
2233  08E1  3E 00       	ld	a, +((_state) & 0xFF)
2234  08E3  DD 86 05    	add	a,(ix+5)
2235  08E6  4F          	ld	c, a
2236  08E7  3E 00       	ld	a, +((_state) / 256)
2237  08E9  CE 00       	adc	a,0x00
2238  08EB  47          	ld	b, a
2239  08EC  0A          	ld	a, (bc)
2240  08ED  4F          	ld	c,a
2241  08EE  CB 57       	bit	2,a
2242  08F0  28 05       	jr	Z,l_spr_tile_dir_00102
2243  08F2  DD 6E 04    	ld	l,(ix+4)
2244  08F5  18 2D       	jr	l_spr_tile_dir_00109
2245  08F7              l_spr_tile_dir_00102:
2246  08F7  DD 7E 04    	ld	a,(ix+4)
2247  08FA  DD 86 06    	add	a,(ix+6)
2248  08FD  47          	ld	b, a
2249  08FE  CB 59       	bit	3, c
2250  0900  28 03       	jr	Z,l_spr_tile_dir_00104
2251  0902  68          	ld	l, b
2252  0903  18 1F       	jr	l_spr_tile_dir_00109
2253  0905              l_spr_tile_dir_00104:
2254  0905  3E 00       	ld	a, +((_state_a) & 0xFF)
2255  0907  DD 86 05    	add	a,(ix+5)
2256  090A  5F          	ld	e, a
2257  090B  3E 00       	ld	a, +((_state_a) / 256)
2258  090D  CE 00       	adc	a,0x00
2259  090F  57          	ld	d, a
2260  0910  1A          	ld	a, (de)
2261  0911  CB 67       	bit	4, a
2262  0913  28 05       	jr	Z,l_spr_tile_dir_00106
2263  0915  DD 6E 04    	ld	l,(ix+4)
2264  0918  18 0A       	jr	l_spr_tile_dir_00109
2265  091A              l_spr_tile_dir_00106:
2266  091A  CB 5F       	bit	3, a
2267  091C  28 03       	jr	Z,l_spr_tile_dir_00108
2268  091E  68          	ld	l, b
2269  091F  18 03       	jr	l_spr_tile_dir_00109
2270  0921              l_spr_tile_dir_00108:
2271  0921  DD 6E 04    	ld	l,(ix+4)
2272  0924              l_spr_tile_dir_00109:
2273  0924  DD E1       	pop	ix
2274  0926  C9          	ret
2275  0927              	SECTION code_compiler
2276  0927              ;	---------------------------------
2277  0927              ; Function spr_draw_map
2278  0927              ; ---------------------------------
2279  0927              _spr_draw_map:
2280  0927  76          	halt
2281  0928  21 10 00    	ld	hl,0x0010
2282  092B  22 00 00    	ld	(_index1),hl
2283  092E  21 00 00    	ld	hl,_s_lin1
2284  0931  36 00       	ld	(hl),0x00
2285  0933  21 00 00    	ld	hl,_s_col1
2286  0936  36 02       	ld	(hl),0x02
2287  0938  21 00 00    	ld	hl,_spr_count
2288  093B  36 00       	ld	(hl),0x00
2289  093D  F3          	di
2290  093E              l_spr_draw_map_00117:
2291  093E  21 00 00    	ld	hl,_index1
2292  0941  7E          	ld	a, (hl)
2293  0942  D6 A0       	sub	a,0xa0
2294  0944  23          	inc	hl
2295  0945  7E          	ld	a, (hl)
2296  0946  DE 00       	sbc	a,0x00
2297  0948  D2 A2 0A    	jp	NC, l_spr_draw_map_00119
2298  094B  2B          	dec	hl
2299  094C  7E          	ld	a, (hl)
2300  094D  E6 0F       	and	a,0x0f
2301  094F  20 0C       	jr	NZ,l_spr_draw_map_00102
2302  0951  21 00 00    	ld	hl,_s_lin1
2303  0954  7E          	ld	a, (hl)
2304  0955  C6 10       	add	a,0x10
2305  0957  77          	ld	(hl), a
2306  0958  21 00 00    	ld	hl,_s_col1
2307  095B  36 00       	ld	(hl),0x00
2308  095D              l_spr_draw_map_00102:
2309  095D  01 00 00    	ld	bc,_scr_map
2310  0960  2A 00 00    	ld	hl,(_index1)
2311  0963  09          	add	hl,bc
2312  0964  7E          	ld	a,(hl)
2313  0965  47          	ld	b,a
2314  0966  D6 54       	sub	a,0x54
2315  0968  3E 00       	ld	a,0x00
2316  096A  17          	rla
2317  096B  B7          	or	a, a
2318  096C  28 11       	jr	Z,l_spr_draw_map_00115
2319  096E  3A 00 00    	ld	a,(_s_col1)
2320  0971  F5          	push	af
2321  0972  33          	inc	sp
2322  0973  3A 00 00    	ld	a,(_s_lin1)
2323  0976  48          	ld	c,b
2324  0977  47          	ld	b,a
2325  0978  C5          	push	bc
2326  0979  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2327  097C  C3 91 0A    	jp	l_spr_draw_map_00116
2328  097F              l_spr_draw_map_00115:
2329  097F  B7          	or	a, a
2330  0980  C2 88 0A    	jp	NZ, l_spr_draw_map_00113
2331  0983  3E 5D       	ld	a,0x5d
2332  0985  90          	sub	a, b
2333  0986  DA 88 0A    	jp	C, l_spr_draw_map_00113
2334  0989  78          	ld	a, b
2335  098A  C6 AC       	add	a,0xac
2336  098C  4F          	ld	c, a
2337  098D  06 00       	ld	b,0x00
2338  098F  21 96 09    	ld	hl,l_spr_draw_map_00148
2339  0992  09          	add	hl, bc
2340  0993  09          	add	hl, bc
2341  0994  09          	add	hl, bc
2342  0995  E9          	jp	(hl)
2343  0996              l_spr_draw_map_00148:
2344  0996  C3 CA 09    	jp	l_spr_draw_map_00104
2345  0999  C3 B4 09    	jp	l_spr_draw_map_00103
2346  099C  C3 F6 09    	jp	l_spr_draw_map_00106
2347  099F  C3 E0 09    	jp	l_spr_draw_map_00105
2348  09A2  C3 21 0A    	jp	l_spr_draw_map_00108
2349  09A5  C3 0C 0A    	jp	l_spr_draw_map_00107
2350  09A8  C3 4B 0A    	jp	l_spr_draw_map_00110
2351  09AB  C3 36 0A    	jp	l_spr_draw_map_00109
2352  09AE  C3 75 0A    	jp	l_spr_draw_map_00112
2353  09B1  C3 60 0A    	jp	l_spr_draw_map_00111
2354  09B4              l_spr_draw_map_00103:
2355  09B4  3A 00 00    	ld	a,(_s_col1)
2356  09B7  21 01 01    	ld	hl,0x0101
2357  09BA  E5          	push	hl
2358  09BB  F5          	push	af
2359  09BC  33          	inc	sp
2360  09BD  3A 00 00    	ld	a,(_s_lin1)
2361  09C0  F5          	push	af
2362  09C1  33          	inc	sp
2363  09C2  CD 00 00    	call	_enemy_init
2364  09C5  F1          	pop	af
2365  09C6  F1          	pop	af
2366  09C7  C3 88 0A    	jp	l_spr_draw_map_00113
2367  09CA              l_spr_draw_map_00104:
2368  09CA  3A 00 00    	ld	a,(_s_col1)
2369  09CD  21 01 FF    	ld	hl,0xff01
2370  09D0  E5          	push	hl
2371  09D1  F5          	push	af
2372  09D2  33          	inc	sp
2373  09D3  3A 00 00    	ld	a,(_s_lin1)
2374  09D6  F5          	push	af
2375  09D7  33          	inc	sp
2376  09D8  CD 00 00    	call	_enemy_init
2377  09DB  F1          	pop	af
2378  09DC  F1          	pop	af
2379  09DD  C3 88 0A    	jp	l_spr_draw_map_00113
2380  09E0              l_spr_draw_map_00105:
2381  09E0  3A 00 00    	ld	a,(_s_col1)
2382  09E3  21 02 01    	ld	hl,0x0102
2383  09E6  E5          	push	hl
2384  09E7  F5          	push	af
2385  09E8  33          	inc	sp
2386  09E9  3A 00 00    	ld	a,(_s_lin1)
2387  09EC  F5          	push	af
2388  09ED  33          	inc	sp
2389  09EE  CD 00 00    	call	_enemy_init
2390  09F1  F1          	pop	af
2391  09F2  F1          	pop	af
2392  09F3  C3 88 0A    	jp	l_spr_draw_map_00113
2393  09F6              l_spr_draw_map_00106:
2394  09F6  3A 00 00    	ld	a,(_s_col1)
2395  09F9  21 02 FF    	ld	hl,0xff02
2396  09FC  E5          	push	hl
2397  09FD  F5          	push	af
2398  09FE  33          	inc	sp
2399  09FF  3A 00 00    	ld	a,(_s_lin1)
2400  0A02  F5          	push	af
2401  0A03  33          	inc	sp
2402  0A04  CD 00 00    	call	_enemy_init
2403  0A07  F1          	pop	af
2404  0A08  F1          	pop	af
2405  0A09  C3 88 0A    	jp	l_spr_draw_map_00113
2406  0A0C              l_spr_draw_map_00107:
2407  0A0C  3A 00 00    	ld	a,(_s_col1)
2408  0A0F  21 03 01    	ld	hl,0x0103
2409  0A12  E5          	push	hl
2410  0A13  F5          	push	af
2411  0A14  33          	inc	sp
2412  0A15  3A 00 00    	ld	a,(_s_lin1)
2413  0A18  F5          	push	af
2414  0A19  33          	inc	sp
2415  0A1A  CD 00 00    	call	_enemy_init
2416  0A1D  F1          	pop	af
2417  0A1E  F1          	pop	af
2418  0A1F  18 67       	jr	l_spr_draw_map_00113
2419  0A21              l_spr_draw_map_00108:
2420  0A21  3A 00 00    	ld	a,(_s_col1)
2421  0A24  21 03 FF    	ld	hl,0xff03
2422  0A27  E5          	push	hl
2423  0A28  F5          	push	af
2424  0A29  33          	inc	sp
2425  0A2A  3A 00 00    	ld	a,(_s_lin1)
2426  0A2D  F5          	push	af
2427  0A2E  33          	inc	sp
2428  0A2F  CD 00 00    	call	_enemy_init
2429  0A32  F1          	pop	af
2430  0A33  F1          	pop	af
2431  0A34  18 52       	jr	l_spr_draw_map_00113
2432  0A36              l_spr_draw_map_00109:
2433  0A36  3A 00 00    	ld	a,(_s_col1)
2434  0A39  21 04 01    	ld	hl,0x0104
2435  0A3C  E5          	push	hl
2436  0A3D  F5          	push	af
2437  0A3E  33          	inc	sp
2438  0A3F  3A 00 00    	ld	a,(_s_lin1)
2439  0A42  F5          	push	af
2440  0A43  33          	inc	sp
2441  0A44  CD 00 00    	call	_enemy_init
2442  0A47  F1          	pop	af
2443  0A48  F1          	pop	af
2444  0A49  18 3D       	jr	l_spr_draw_map_00113
2445  0A4B              l_spr_draw_map_00110:
2446  0A4B  3A 00 00    	ld	a,(_s_col1)
2447  0A4E  21 04 FF    	ld	hl,0xff04
2448  0A51  E5          	push	hl
2449  0A52  F5          	push	af
2450  0A53  33          	inc	sp
2451  0A54  3A 00 00    	ld	a,(_s_lin1)
2452  0A57  F5          	push	af
2453  0A58  33          	inc	sp
2454  0A59  CD 00 00    	call	_enemy_init
2455  0A5C  F1          	pop	af
2456  0A5D  F1          	pop	af
2457  0A5E  18 28       	jr	l_spr_draw_map_00113
2458  0A60              l_spr_draw_map_00111:
2459  0A60  3A 00 00    	ld	a,(_s_col1)
2460  0A63  21 05 01    	ld	hl,0x0105
2461  0A66  E5          	push	hl
2462  0A67  F5          	push	af
2463  0A68  33          	inc	sp
2464  0A69  3A 00 00    	ld	a,(_s_lin1)
2465  0A6C  F5          	push	af
2466  0A6D  33          	inc	sp
2467  0A6E  CD 00 00    	call	_enemy_init
2468  0A71  F1          	pop	af
2469  0A72  F1          	pop	af
2470  0A73  18 13       	jr	l_spr_draw_map_00113
2471  0A75              l_spr_draw_map_00112:
2472  0A75  3A 00 00    	ld	a,(_s_col1)
2473  0A78  21 05 FF    	ld	hl,0xff05
2474  0A7B  E5          	push	hl
2475  0A7C  F5          	push	af
2476  0A7D  33          	inc	sp
2477  0A7E  3A 00 00    	ld	a,(_s_lin1)
2478  0A81  F5          	push	af
2479  0A82  33          	inc	sp
2480  0A83  CD 00 00    	call	_enemy_init
2481  0A86  F1          	pop	af
2482  0A87  F1          	pop	af
2483  0A88              l_spr_draw_map_00113:
2484  0A88  01 00 00    	ld	bc,_scr_map
2485  0A8B  2A 00 00    	ld	hl,(_index1)
2486  0A8E  09          	add	hl,bc
2487  0A8F  AF          	xor	a,a
2488  0A90  77          	ld	(hl),a
2489  0A91              l_spr_draw_map_00116:
2490  0A91  21 00 00    	ld	hl,_s_col1
2491  0A94  34          	inc	(hl)
2492  0A95  34          	inc	(hl)
2493  0A96  21 00 00    	ld	hl,_index1
2494  0A99  34          	inc	(hl)
2495  0A9A  C2 3E 09    	jp	NZ,l_spr_draw_map_00117
2496  0A9D  23          	inc	hl
2497  0A9E  34          	inc	(hl)
2498  0A9F  C3 3E 09    	jp	l_spr_draw_map_00117
2499  0AA2              l_spr_draw_map_00119:
2500  0AA2  FB          	ei
2501  0AA3  C9          	ret
2502  0AA4              	SECTION code_compiler
2503  0AA4              ;	---------------------------------
2504  0AA4              ; Function spr_draw_clear
2505  0AA4              ; ---------------------------------
2506  0AA4              _spr_draw_clear:
2507  0AA4  F3          	di
2508  0AA5  2E 00       	ld	l,0x00
2509  0AA7  CD 00 00    	call	_zx_cls_fastcall
2510  0AAA  21 00 00    	ld	hl,_s_lin1
2511  0AAD  36 10       	ld	(hl),0x10
2512  0AAF              l_spr_draw_clear_00105:
2513  0AAF  21 00 00    	ld	hl,_s_col1
2514  0AB2  36 00       	ld	(hl),0x00
2515  0AB4              l_spr_draw_clear_00103:
2516  0AB4  2A FF FF    	ld	hl,(_s_col1 - 1)
2517  0AB7  3A 00 00    	ld	a,(_s_lin1)
2518  0ABA  6F          	ld	l,a
2519  0ABB  E5          	push	hl
2520  0ABC  AF          	xor	a, a
2521  0ABD  F5          	push	af
2522  0ABE  33          	inc	sp
2523  0ABF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2524  0AC2  21 00 00    	ld	hl,_s_col1
2525  0AC5  7E          	ld	a,(hl)
2526  0AC6  C6 02       	add	a,0x02
2527  0AC8  77          	ld	(hl),a
2528  0AC9  D6 20       	sub	a,0x20
2529  0ACB  38 E7       	jr	C,l_spr_draw_clear_00103
2530  0ACD  21 00 00    	ld	hl,_s_lin1
2531  0AD0  7E          	ld	a, (hl)
2532  0AD1  C6 10       	add	a,0x10
2533  0AD3  77          	ld	(hl), a
2534  0AD4  3E A2       	ld	a,0xa2
2535  0AD6  96          	sub	a, (hl)
2536  0AD7  30 D6       	jr	NC,l_spr_draw_clear_00105
2537  0AD9  FB          	ei
2538  0ADA  C9          	ret
2539  0ADB              	SECTION code_compiler
2540  0ADB              ;	---------------------------------
2541  0ADB              ; Function spr_brick_anim
2542  0ADB              ; ---------------------------------
2543  0ADB              _spr_brick_anim:
2544  0ADB  CD 00 00    	call	___sdcc_enter_ix
2545  0ADE  F5          	push	af
2546  0ADF  DD 75 FF    	ld	(ix-1),l
2547  0AE2  21 00 00    	ld	hl,_player_hit_col
2548  0AE5  46          	ld	b, (hl)
2549  0AE6  21 00 00    	ld	hl,_player_hit_lin
2550  0AE9  4E          	ld	c, (hl)
2551  0AEA  C5          	push	bc
2552  0AEB  C5          	push	bc
2553  0AEC  CD 00 00    	call	_spr_calc_index
2554  0AEF  F1          	pop	af
2555  0AF0  C1          	pop	bc
2556  0AF1  22 00 00    	ld	(_index1),hl
2557  0AF4  11 F0 FF    	ld	de,0xfff0
2558  0AF7  19          	add	hl,de
2559  0AF8  11 00 00    	ld	de,_scr_map
2560  0AFB  19          	add	hl, de
2561  0AFC  7E          	ld	a, (hl)
2562  0AFD  DD 77 FE    	ld	(ix-2),a
2563  0B00  11 00 00    	ld	de,_scr_map
2564  0B03  2A 00 00    	ld	hl,(_index1)
2565  0B06  19          	add	hl,de
2566  0B07  66          	ld	h, (hl)
2567  0B08  EB          	ex	de,hl
2568  0B09  DD 7E FF    	ld	a,(ix-1)
2569  0B0C  B7          	or	a, a
2570  0B0D  28 08       	jr	Z,l_spr_brick_anim_00102
2571  0B0F  79          	ld	a, c
2572  0B10  C6 F6       	add	a,0xf6
2573  0B12  32 00 00    	ld	(_tmp),a
2574  0B15  18 06       	jr	l_spr_brick_anim_00103
2575  0B17              l_spr_brick_anim_00102:
2576  0B17  79          	ld	a, c
2577  0B18  C6 F8       	add	a,0xf8
2578  0B1A  32 00 00    	ld	(_tmp),a
2579  0B1D              l_spr_brick_anim_00103:
2580  0B1D  F3          	di
2581  0B1E  DD 7E FF    	ld	a,(ix-1)
2582  0B21  B7          	or	a, a
2583  0B22  28 18       	jr	Z,l_spr_brick_anim_00105
2584  0B24  C5          	push	bc
2585  0B25  D5          	push	de
2586  0B26  C5          	push	bc
2587  0B27  33          	inc	sp
2588  0B28  51          	ld	d,c
2589  0B29  1E 49       	ld	e,0x49
2590  0B2B  D5          	push	de
2591  0B2C  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2592  0B2F  D1          	pop	de
2593  0B30  33          	inc	sp
2594  0B31  3A 00 00    	ld	a,(_tmp)
2595  0B34  5A          	ld	e,d
2596  0B35  57          	ld	d,a
2597  0B36  D5          	push	de
2598  0B37  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2599  0B3A  18 1C       	jr	l_spr_brick_anim_00106
2600  0B3C              l_spr_brick_anim_00105:
2601  0B3C  3A 00 00    	ld	a,(_tmp)
2602  0B3F  C6 F0       	add	a,0xf0
2603  0B41  C5          	push	bc
2604  0B42  D5          	push	de
2605  0B43  4F          	ld	c,a
2606  0B44  C5          	push	bc
2607  0B45  DD 7E FE    	ld	a,(ix-2)
2608  0B48  F5          	push	af
2609  0B49  33          	inc	sp
2610  0B4A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2611  0B4D  D1          	pop	de
2612  0B4E  33          	inc	sp
2613  0B4F  3A 00 00    	ld	a,(_tmp)
2614  0B52  5A          	ld	e,d
2615  0B53  57          	ld	d,a
2616  0B54  D5          	push	de
2617  0B55  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2618  0B58              l_spr_brick_anim_00106:
2619  0B58  FB          	ei
2620  0B59  F1          	pop	af
2621  0B5A  DD E1       	pop	ix
2622  0B5C  C9          	ret
2623  0B5D              	SECTION code_compiler
2624  0B5D              ;	---------------------------------
2625  0B5D              ; Function spr_draw_index
2626  0B5D              ; ---------------------------------
2627  0B5D              _spr_draw_index:
2628  0B5D  CD 00 00    	call	___sdcc_enter_ix
2629  0B60  DD 7E 04    	ld	a,(ix+4)
2630  0B63  E6 1F       	and	a,0x1f
2631  0B65  32 00 00    	ld	(_s_col1),a
2632  0B68  DD 4E 04    	ld	c,(ix+4)
2633  0B6B  DD 5E 05    	ld	e,(ix+5)
2634  0B6E  06 05       	ld	b,0x05
2635  0B70  79          	ld	a,c
2636  0B71              l_spr_draw_index_00103:
2637  0B71  CB 3B       	srl	e
2638  0B73  1F          	rra
2639  0B74  10 FB       	djnz	l_spr_draw_index_00103
2640  0B76  21 00 00    	ld	hl,_s_lin1
2641  0B79  77          	ld	(hl),a
2642  0B7A  07          	rlca
2643  0B7B  07          	rlca
2644  0B7C  07          	rlca
2645  0B7D  E6 F8       	and	a,0xf8
2646  0B7F  77          	ld	(hl), a
2647  0B80  3E 00       	ld	a, +((_scr_map) & 0xFF)
2648  0B82  DD 86 04    	add	a,(ix+4)
2649  0B85  4F          	ld	c, a
2650  0B86  3E 00       	ld	a, +((_scr_map) / 256)
2651  0B88  DD 8E 05    	adc	a,(ix+5)
2652  0B8B  47          	ld	b, a
2653  0B8C  0A          	ld	a, (bc)
2654  0B8D  47          	ld	b, a
2655  0B8E  3A 00 00    	ld	a,(_s_col1)
2656  0B91  F5          	push	af
2657  0B92  33          	inc	sp
2658  0B93  3A 00 00    	ld	a,(_s_lin1)
2659  0B96  48          	ld	c,b
2660  0B97  47          	ld	b,a
2661  0B98  C5          	push	bc
2662  0B99  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2663  0B9C  DD E1       	pop	ix
2664  0B9E  C9          	ret
2665  0B9F              	SECTION code_compiler
2666  0B9F              ;	---------------------------------
2667  0B9F              ; Function spr_draw_row
2668  0B9F              ; ---------------------------------
2669  0B9F              _spr_draw_row:
2670  0B9F  CD 00 00    	call	___sdcc_enter_ix
2671  0BA2  3B          	dec	sp
2672  0BA3  F3          	di
2673  0BA4  21 00 00    	ld	hl,_tmp
2674  0BA7  36 00       	ld	(hl),0x00
2675  0BA9  DD 7E 04    	ld	a,(ix+4)
2676  0BAC  07          	rlca
2677  0BAD  07          	rlca
2678  0BAE  07          	rlca
2679  0BAF  E6 F8       	and	a,0xf8
2680  0BB1  DD 77 FF    	ld	(ix-1),a
2681  0BB4              l_spr_draw_row_00101:
2682  0BB4  21 00 00    	ld	hl,_tmp
2683  0BB7  7E          	ld	a, (hl)
2684  0BB8  D6 20       	sub	a,0x20
2685  0BBA  30 38       	jr	NC,l_spr_draw_row_00103
2686  0BBC  DD 4E 04    	ld	c,(ix+4)
2687  0BBF  3E 00       	ld	a,0x00
2688  0BC1  CB 21       	sla	c
2689  0BC3  17          	rla
2690  0BC4  CB 21       	sla	c
2691  0BC6  17          	rla
2692  0BC7  CB 21       	sla	c
2693  0BC9  17          	rla
2694  0BCA  CB 21       	sla	c
2695  0BCC  17          	rla
2696  0BCD  CB 21       	sla	c
2697  0BCF  17          	rla
2698  0BD0  47          	ld	b,a
2699  0BD1  5E          	ld	e, (hl)
2700  0BD2  16 00       	ld	d,0x00
2701  0BD4  79          	ld	a, c
2702  0BD5  83          	add	a, e
2703  0BD6  21 00 00    	ld	hl,_index1
2704  0BD9  77          	ld	(hl), a
2705  0BDA  78          	ld	a, b
2706  0BDB  8A          	adc	a, d
2707  0BDC  23          	inc	hl
2708  0BDD  77          	ld	(hl), a
2709  0BDE  2A FF FF    	ld	hl,(_tmp-1)
2710  0BE1  DD 6E FF    	ld	l,(ix-1)
2711  0BE4  3A 00 00    	ld	a,(_game_brick_tile)
2712  0BE7  E5          	push	hl
2713  0BE8  F5          	push	af
2714  0BE9  33          	inc	sp
2715  0BEA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2716  0BED  21 00 00    	ld	hl,_tmp
2717  0BF0  34          	inc	(hl)
2718  0BF1  34          	inc	(hl)
2719  0BF2  18 C0       	jr	l_spr_draw_row_00101
2720  0BF4              l_spr_draw_row_00103:
2721  0BF4  FB          	ei
2722  0BF5  33          	inc	sp
2723  0BF6  DD E1       	pop	ix
2724  0BF8  C9          	ret
2725  0BF9              	SECTION code_compiler
2726  0BF9              ;	---------------------------------
2727  0BF9              ; Function spr_calc_hor
2728  0BF9              ; ---------------------------------
2729  0BF9              _spr_calc_hor:
2730  0BF9  CD 00 00    	call	___sdcc_enter_ix
2731  0BFC  3E 00       	ld	a, +((_col) & 0xFF)
2732  0BFE  DD 86 04    	add	a,(ix+4)
2733  0C01  4F          	ld	c, a
2734  0C02  3E 00       	ld	a, +((_col) / 256)
2735  0C04  CE 00       	adc	a,0x00
2736  0C06  47          	ld	b, a
2737  0C07  0A          	ld	a, (bc)
2738  0C08  5F          	ld	e, a
2739  0C09  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2740  0C0B  DD 86 04    	add	a,(ix+4)
2741  0C0E  4F          	ld	c, a
2742  0C0F  3E 00       	ld	a, +((_sprite_frames) / 256)
2743  0C11  CE 00       	adc	a,0x00
2744  0C13  47          	ld	b, a
2745  0C14  0A          	ld	a, (bc)
2746  0C15  67          	ld	h, a
2747  0C16  2E 00       	ld	l,0x00
2748  0C18  55          	ld	d, l
2749  0C19  06 08       	ld	b,0x08
2750  0C1B              l_spr_calc_hor_00103:
2751  0C1B  29          	add	hl, hl
2752  0C1C  30 01       	jr	NC,l_spr_calc_hor_00104
2753  0C1E  19          	add	hl, de
2754  0C1F              l_spr_calc_hor_00104:
2755  0C1F  10 FA       	djnz	l_spr_calc_hor_00103
2756  0C21  DD E1       	pop	ix
2757  0C23  C9          	ret
2758  0C24              	SECTION code_compiler
2759  0C24              ;	---------------------------------
2760  0C24              ; Function spr_collision_check
2761  0C24              ; ---------------------------------
2762  0C24              _spr_collision_check:
2763  0C24  CD 00 00    	call	___sdcc_enter_ix
2764  0C27  3E 00       	ld	a, +((_class) & 0xFF)
2765  0C29  DD 86 05    	add	a,(ix+5)
2766  0C2C  4F          	ld	c, a
2767  0C2D  3E 00       	ld	a, +((_class) / 256)
2768  0C2F  CE 00       	adc	a,0x00
2769  0C31  47          	ld	b, a
2770  0C32  0A          	ld	a, (bc)
2771  0C33  B7          	or	a, a
2772  0C34  28 10       	jr	Z,l_spr_collision_check_00101
2773  0C36  3E 00       	ld	a, +((_state) & 0xFF)
2774  0C38  DD 86 05    	add	a,(ix+5)
2775  0C3B  4F          	ld	c, a
2776  0C3C  3E 00       	ld	a, +((_state) / 256)
2777  0C3E  CE 00       	adc	a,0x00
2778  0C40  47          	ld	b, a
2779  0C41  0A          	ld	a, (bc)
2780  0C42  CB 6F       	bit	5, a
2781  0C44  28 04       	jr	Z,l_spr_collision_check_00102
2782  0C46              l_spr_collision_check_00101:
2783  0C46  2E 00       	ld	l,0x00
2784  0C48  18 6D       	jr	l_spr_collision_check_00109
2785  0C4A              l_spr_collision_check_00102:
2786  0C4A  01 00 00    	ld	bc,_lin+0
2787  0C4D  79          	ld	a, c
2788  0C4E  DD 86 05    	add	a,(ix+5)
2789  0C51  5F          	ld	e, a
2790  0C52  78          	ld	a, b
2791  0C53  CE 00       	adc	a,0x00
2792  0C55  57          	ld	d, a
2793  0C56  1A          	ld	a, (de)
2794  0C57  5F          	ld	e, a
2795  0C58  16 00       	ld	d,0x00
2796  0C5A  79          	ld	a, c
2797  0C5B  DD 86 04    	add	a,(ix+4)
2798  0C5E  4F          	ld	c, a
2799  0C5F  78          	ld	a, b
2800  0C60  CE 00       	adc	a,0x00
2801  0C62  47          	ld	b, a
2802  0C63  0A          	ld	a, (bc)
2803  0C64  4F          	ld	c, a
2804  0C65  AF          	xor	a,a
2805  0C66  47          	ld	b,a
2806  0C67  EB          	ex	de,hl
2807  0C68  ED 42       	sbc	hl,bc
2808  0C6A  CD 00 00    	call	_abs_fastcall
2809  0C6D  22 00 00    	ld	(_tmp_ui),hl
2810  0C70  21 01 00    	ld	hl,_tmp_ui + 1
2811  0C73  DD 7E 06    	ld	a,(ix+6)
2812  0C76  06 00       	ld	b,0x00
2813  0C78  2B          	dec	hl
2814  0C79  96          	sub	a, (hl)
2815  0C7A  78          	ld	a, b
2816  0C7B  23          	inc	hl
2817  0C7C  9E          	sbc	a, (hl)
2818  0C7D  30 04       	jr	NC,l_spr_collision_check_00105
2819  0C7F  2E 00       	ld	l,0x00
2820  0C81  18 34       	jr	l_spr_collision_check_00109
2821  0C83              l_spr_collision_check_00105:
2822  0C83  DD 7E 04    	ld	a,(ix+4)
2823  0C86  F5          	push	af
2824  0C87  33          	inc	sp
2825  0C88  CD F9 0B    	call	_spr_calc_hor
2826  0C8B  33          	inc	sp
2827  0C8C  4D          	ld	c, l
2828  0C8D  C5          	push	bc
2829  0C8E  DD 7E 05    	ld	a,(ix+5)
2830  0C91  F5          	push	af
2831  0C92  33          	inc	sp
2832  0C93  CD F9 0B    	call	_spr_calc_hor
2833  0C96  33          	inc	sp
2834  0C97  C1          	pop	bc
2835  0C98  5D          	ld	e,l
2836  0C99  69          	ld	l, c
2837  0C9A  AF          	xor	a,a
2838  0C9B  67          	ld	h,a
2839  0C9C  57          	ld	d,a
2840  0C9D  ED 52       	sbc	hl,de
2841  0C9F  CD 00 00    	call	_abs_fastcall
2842  0CA2  22 00 00    	ld	(_tmp_ui),hl
2843  0CA5  3E 03       	ld	a,0x03
2844  0CA7  21 00 00    	ld	hl,_tmp_ui
2845  0CAA  BE          	cp	a, (hl)
2846  0CAB  3E 00       	ld	a,0x00
2847  0CAD  23          	inc	hl
2848  0CAE  9E          	sbc	a, (hl)
2849  0CAF  30 04       	jr	NC,l_spr_collision_check_00107
2850  0CB1  2E 00       	ld	l,0x00
2851  0CB3  18 02       	jr	l_spr_collision_check_00109
2852  0CB5              l_spr_collision_check_00107:
2853  0CB5  2E 01       	ld	l,0x01
2854  0CB7              l_spr_collision_check_00109:
2855  0CB7  DD E1       	pop	ix
2856  0CB9  C9          	ret
2857  0CBA              	SECTION code_compiler
2858  0CBA              ;	---------------------------------
2859  0CBA              ; Function spr_kill_all
2860  0CBA              ; ---------------------------------
2861  0CBA              _spr_kill_all:
2862  0CBA  21 00 00    	ld	hl,_sprite
2863  0CBD  36 00       	ld	(hl),0x00
2864  0CBF              l_spr_kill_all_00102:
2865  0CBF  2A 00 00    	ld	hl,(_sprite)
2866  0CC2  CD 07 08    	call	_spr_destroy
2867  0CC5  21 00 00    	ld	hl,_sprite
2868  0CC8  7E          	ld	a,(hl)
2869  0CC9  3C          	inc	a
2870  0CCA  77          	ld	(hl),a
2871  0CCB  D6 08       	sub	a,0x08
2872  0CCD  38 F0       	jr	C,l_spr_kill_all_00102
2873  0CCF  C9          	ret
2874  0CD0              	SECTION code_compiler
2875  0CD0              ;	---------------------------------
2876  0CD0              ; Function spr_back_repaint
2877  0CD0              ; ---------------------------------
2878  0CD0              _spr_back_repaint:
2879  0CD0  F3          	di
2880  0CD1  2A FF FF    	ld	hl,(_s_col0 - 1)
2881  0CD4  3A 00 00    	ld	a,(_s_lin0)
2882  0CD7  6F          	ld	l,a
2883  0CD8  E5          	push	hl
2884  0CD9  CD 00 00    	call	_spr_calc_index
2885  0CDC  F1          	pop	af
2886  0CDD  7D          	ld	a,l
2887  0CDE  32 00 00    	ld	(_sprite_curr_index),a
2888  0CE1  21 00 00    	ld	hl,_s_lin0
2889  0CE4  7E          	ld	a, (hl)
2890  0CE5  E6 0F       	and	a,0x0f
2891  0CE7  4F          	ld	c, a
2892  0CE8  7E          	ld	a, (hl)
2893  0CE9  07          	rlca
2894  0CEA  07          	rlca
2895  0CEB  07          	rlca
2896  0CEC  07          	rlca
2897  0CED  E6 0F       	and	a,0x0f
2898  0CEF  47          	ld	b, a
2899  0CF0  21 00 00    	ld	hl,_s_col0
2900  0CF3  CB 46       	bit	0, (hl)
2901  0CF5  20 66       	jr	NZ,l_spr_back_repaint_00108
2902  0CF7  79          	ld	a, c
2903  0CF8  B7          	or	a, a
2904  0CF9  20 1D       	jr	NZ,l_spr_back_repaint_00102
2905  0CFB  2A 00 00    	ld	hl,(_sprite_curr_index)
2906  0CFE  26 00       	ld	h,0x00
2907  0D00  01 00 00    	ld	bc,_scr_map
2908  0D03  09          	add	hl,bc
2909  0D04  46          	ld	b,(hl)
2910  0D05  3A 00 00    	ld	a,(_s_col0)
2911  0D08  F5          	push	af
2912  0D09  33          	inc	sp
2913  0D0A  3A 00 00    	ld	a,(_s_lin0)
2914  0D0D  48          	ld	c,b
2915  0D0E  47          	ld	b,a
2916  0D0F  C5          	push	bc
2917  0D10  CD 2C 0E    	call	_spr_tile_paint
2918  0D13  F1          	pop	af
2919  0D14  33          	inc	sp
2920  0D15  C3 2A 0E    	jp	l_spr_back_repaint_00109
2921  0D18              l_spr_back_repaint_00102:
2922  0D18  78          	ld	a, b
2923  0D19  07          	rlca
2924  0D1A  07          	rlca
2925  0D1B  07          	rlca
2926  0D1C  07          	rlca
2927  0D1D  E6 F0       	and	a,0xf0
2928  0D1F  47          	ld	b, a
2929  0D20  2A 00 00    	ld	hl,(_sprite_curr_index)
2930  0D23  26 00       	ld	h,0x00
2931  0D25  11 00 00    	ld	de,_scr_map
2932  0D28  19          	add	hl,de
2933  0D29  56          	ld	d, (hl)
2934  0D2A  3A 00 00    	ld	a,(_s_col0)
2935  0D2D  C5          	push	bc
2936  0D2E  F5          	push	af
2937  0D2F  33          	inc	sp
2938  0D30  4A          	ld	c, d
2939  0D31  C5          	push	bc
2940  0D32  CD 2C 0E    	call	_spr_tile_paint
2941  0D35  F1          	pop	af
2942  0D36  33          	inc	sp
2943  0D37  C1          	pop	bc
2944  0D38  78          	ld	a, b
2945  0D39  C6 10       	add	a,0x10
2946  0D3B  57          	ld	d, a
2947  0D3C  21 00 00    	ld	hl,_sprite_curr_index
2948  0D3F  7E          	ld	a, (hl)
2949  0D40  C6 10       	add	a,0x10
2950  0D42  77          	ld	(hl), a
2951  0D43  C6 00       	add	a,+((_scr_map) & 0xFF)
2952  0D45  4F          	ld	c, a
2953  0D46  3E 00       	ld	a, +((_scr_map) / 256)
2954  0D48  CE 00       	adc	a,0x00
2955  0D4A  47          	ld	b, a
2956  0D4B  0A          	ld	a, (bc)
2957  0D4C  47          	ld	b, a
2958  0D4D  3A 00 00    	ld	a,(_s_col0)
2959  0D50  5A          	ld	e,d
2960  0D51  57          	ld	d,a
2961  0D52  D5          	push	de
2962  0D53  C5          	push	bc
2963  0D54  33          	inc	sp
2964  0D55  CD 2C 0E    	call	_spr_tile_paint
2965  0D58  F1          	pop	af
2966  0D59  33          	inc	sp
2967  0D5A  C3 2A 0E    	jp	l_spr_back_repaint_00109
2968  0D5D              l_spr_back_repaint_00108:
2969  0D5D  79          	ld	a, c
2970  0D5E  B7          	or	a, a
2971  0D5F  20 42       	jr	NZ,l_spr_back_repaint_00105
2972  0D61  FB          	ei
2973  0D62  76          	halt
2974  0D63  F3          	di
2975  0D64  21 00 00    	ld	hl,_s_col0
2976  0D67  56          	ld	d, (hl)
2977  0D68  15          	dec	d
2978  0D69  2A 00 00    	ld	hl,(_sprite_curr_index)
2979  0D6C  26 00       	ld	h,0x00
2980  0D6E  01 00 00    	ld	bc,_scr_map
2981  0D71  09          	add	hl,bc
2982  0D72  46          	ld	b,(hl)
2983  0D73  D5          	push	de
2984  0D74  33          	inc	sp
2985  0D75  3A 00 00    	ld	a,(_s_lin0)
2986  0D78  48          	ld	c,b
2987  0D79  47          	ld	b,a
2988  0D7A  C5          	push	bc
2989  0D7B  CD 2C 0E    	call	_spr_tile_paint
2990  0D7E  F1          	pop	af
2991  0D7F  33          	inc	sp
2992  0D80  21 00 00    	ld	hl,_sprite_curr_index
2993  0D83  34          	inc	(hl)
2994  0D84  21 00 00    	ld	hl,_s_col0
2995  0D87  56          	ld	d, (hl)
2996  0D88  14          	inc	d
2997  0D89  2A 00 00    	ld	hl,(_sprite_curr_index)
2998  0D8C  26 00       	ld	h,0x00
2999  0D8E  01 00 00    	ld	bc,_scr_map
3000  0D91  09          	add	hl,bc
3001  0D92  46          	ld	b,(hl)
3002  0D93  D5          	push	de
3003  0D94  33          	inc	sp
3004  0D95  3A 00 00    	ld	a,(_s_lin0)
3005  0D98  48          	ld	c,b
3006  0D99  47          	ld	b,a
3007  0D9A  C5          	push	bc
3008  0D9B  CD 2C 0E    	call	_spr_tile_paint
3009  0D9E  F1          	pop	af
3010  0D9F  33          	inc	sp
3011  0DA0  C3 2A 0E    	jp	l_spr_back_repaint_00109
3012  0DA3              l_spr_back_repaint_00105:
3013  0DA3  78          	ld	a, b
3014  0DA4  07          	rlca
3015  0DA5  07          	rlca
3016  0DA6  07          	rlca
3017  0DA7  07          	rlca
3018  0DA8  E6 F0       	and	a,0xf0
3019  0DAA  4F          	ld	c, a
3020  0DAB  FB          	ei
3021  0DAC  76          	halt
3022  0DAD  F3          	di
3023  0DAE  21 00 00    	ld	hl,_s_col0
3024  0DB1  46          	ld	b, (hl)
3025  0DB2  05          	dec	b
3026  0DB3  2A 00 00    	ld	hl,(_sprite_curr_index)
3027  0DB6  26 00       	ld	h,0x00
3028  0DB8  11 00 00    	ld	de,_scr_map
3029  0DBB  19          	add	hl,de
3030  0DBC  66          	ld	h, (hl)
3031  0DBD  EB          	ex	de,hl
3032  0DBE  C5          	push	bc
3033  0DBF  C5          	push	bc
3034  0DC0  D5          	push	de
3035  0DC1  33          	inc	sp
3036  0DC2  CD 2C 0E    	call	_spr_tile_paint
3037  0DC5  F1          	pop	af
3038  0DC6  33          	inc	sp
3039  0DC7  C1          	pop	bc
3040  0DC8  21 00 00    	ld	hl,_sprite_curr_index
3041  0DCB  34          	inc	(hl)
3042  0DCC  21 00 00    	ld	hl,_s_col0
3043  0DCF  46          	ld	b, (hl)
3044  0DD0  04          	inc	b
3045  0DD1  2A 00 00    	ld	hl,(_sprite_curr_index)
3046  0DD4  26 00       	ld	h,0x00
3047  0DD6  11 00 00    	ld	de,_scr_map
3048  0DD9  19          	add	hl,de
3049  0DDA  66          	ld	h, (hl)
3050  0DDB  EB          	ex	de,hl
3051  0DDC  C5          	push	bc
3052  0DDD  C5          	push	bc
3053  0DDE  D5          	push	de
3054  0DDF  33          	inc	sp
3055  0DE0  CD 2C 0E    	call	_spr_tile_paint
3056  0DE3  F1          	pop	af
3057  0DE4  33          	inc	sp
3058  0DE5  C1          	pop	bc
3059  0DE6  79          	ld	a, c
3060  0DE7  C6 10       	add	a,0x10
3061  0DE9  5F          	ld	e, a
3062  0DEA  21 00 00    	ld	hl,_sprite_curr_index
3063  0DED  7E          	ld	a, (hl)
3064  0DEE  C6 0F       	add	a,0x0f
3065  0DF0  77          	ld	(hl), a
3066  0DF1  FB          	ei
3067  0DF2  76          	halt
3068  0DF3  F3          	di
3069  0DF4  21 00 00    	ld	hl,_s_col0
3070  0DF7  56          	ld	d, (hl)
3071  0DF8  15          	dec	d
3072  0DF9  2A 00 00    	ld	hl,(_sprite_curr_index)
3073  0DFC  26 00       	ld	h,0x00
3074  0DFE  01 00 00    	ld	bc,_scr_map
3075  0E01  09          	add	hl,bc
3076  0E02  4D          	ld	c,l
3077  0E03  46          	ld	b,(hl)
3078  0E04  D5          	push	de
3079  0E05  D5          	push	de
3080  0E06  C5          	push	bc
3081  0E07  33          	inc	sp
3082  0E08  CD 2C 0E    	call	_spr_tile_paint
3083  0E0B  F1          	pop	af
3084  0E0C  33          	inc	sp
3085  0E0D  D1          	pop	de
3086  0E0E  21 00 00    	ld	hl,_sprite_curr_index
3087  0E11  34          	inc	(hl)
3088  0E12  21 00 00    	ld	hl,_s_col0
3089  0E15  56          	ld	d, (hl)
3090  0E16  14          	inc	d
3091  0E17  2A 00 00    	ld	hl,(_sprite_curr_index)
3092  0E1A  26 00       	ld	h,0x00
3093  0E1C  01 00 00    	ld	bc,_scr_map
3094  0E1F  09          	add	hl,bc
3095  0E20  4D          	ld	c,l
3096  0E21  46          	ld	b,(hl)
3097  0E22  D5          	push	de
3098  0E23  C5          	push	bc
3099  0E24  33          	inc	sp
3100  0E25  CD 2C 0E    	call	_spr_tile_paint
3101  0E28  F1          	pop	af
3102  0E29  33          	inc	sp
3103  0E2A              l_spr_back_repaint_00109:
3104  0E2A  FB          	ei
3105  0E2B  C9          	ret
3106  0E2C              	SECTION code_compiler
3107  0E2C              ;	---------------------------------
3108  0E2C              ; Function spr_tile_paint
3109  0E2C              ; ---------------------------------
3110  0E2C              _spr_tile_paint:
3111  0E2C  CD 00 00    	call	___sdcc_enter_ix
3112  0E2F  DD 7E 04    	ld	a,(ix+4)
3113  0E32  B7          	or	a, a
3114  0E33  28 05       	jr	Z,l_spr_tile_paint_00101
3115  0E35  3C          	inc	a
3116  0E36  28 21       	jr	Z,l_spr_tile_paint_00105
3117  0E38  18 10       	jr	l_spr_tile_paint_00103
3118  0E3A              l_spr_tile_paint_00101:
3119  0E3A  DD 7E 06    	ld	a,(ix+6)
3120  0E3D  F5          	push	af
3121  0E3E  33          	inc	sp
3122  0E3F  DD 56 05    	ld	d,(ix+5)
3123  0E42  1E 49       	ld	e,0x49
3124  0E44  D5          	push	de
3125  0E45  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3126  0E48  18 0F       	jr	l_spr_tile_paint_00105
3127  0E4A              l_spr_tile_paint_00103:
3128  0E4A  DD 66 06    	ld	h,(ix+6)
3129  0E4D  DD 6E 05    	ld	l,(ix+5)
3130  0E50  E5          	push	hl
3131  0E51  DD 7E 04    	ld	a,(ix+4)
3132  0E54  F5          	push	af
3133  0E55  33          	inc	sp
3134  0E56  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3135  0E59              l_spr_tile_paint_00105:
3136  0E59  DD E1       	pop	ix
3137  0E5B  C9          	ret
3138  0E5C              	SECTION code_compiler
3139  0E5C              ;	---------------------------------
3140  0E5C              ; Function spr_init_anim
3141  0E5C              ; ---------------------------------
3142  0E5C              _spr_init_anim:
3143  0E5C  01 00 00    	ld	bc,_anim_lin+0
3144  0E5F  1E 00       	ld	e,0x00
3145  0E61              l_spr_init_anim_00102:
3146  0E61  6B          	ld	l,e
3147  0E62  26 00       	ld	h,0x00
3148  0E64  09          	add	hl, bc
3149  0E65  36 FF       	ld	(hl),0xff
3150  0E67  1C          	inc	e
3151  0E68  7B          	ld	a, e
3152  0E69  D6 08       	sub	a,0x08
3153  0E6B  38 F4       	jr	C,l_spr_init_anim_00102
3154  0E6D  C9          	ret
3155  0E6E              	SECTION code_compiler
3156  0E6E              ;	---------------------------------
3157  0E6E              ; Function spr_init_bullet
3158  0E6E              ; ---------------------------------
3159  0E6E              _spr_init_bullet:
3160  0E6E  01 00 00    	ld	bc,_bullet_col+0
3161  0E71  1E 00       	ld	e,0x00
3162  0E73              l_spr_init_bullet_00102:
3163  0E73  6B          	ld	l,e
3164  0E74  26 00       	ld	h,0x00
3165  0E76  09          	add	hl, bc
3166  0E77  36 FF       	ld	(hl),0xff
3167  0E79  1C          	inc	e
3168  0E7A  7B          	ld	a, e
3169  0E7B  D6 08       	sub	a,0x08
3170  0E7D  38 F4       	jr	C,l_spr_init_bullet_00102
3171  0E7F  C9          	ret
3172  0E80              	SECTION code_compiler
3173  0E80              ;	---------------------------------
3174  0E80              ; Function spr_add_anim
3175  0E80              ; ---------------------------------
3176  0E80              _spr_add_anim:
3177  0E80  CD 00 00    	call	___sdcc_enter_ix
3178  0E83  F5          	push	af
3179  0E84  F5          	push	af
3180  0E85  01 00 00    	ld	bc,0x0000
3181  0E88              l_spr_add_anim_00106:
3182  0E88  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3183  0E8A  80          	add	a, b
3184  0E8B  5F          	ld	e, a
3185  0E8C  3E 00       	ld	a, +((_anim_lin) / 256)
3186  0E8E  CE 00       	adc	a,0x00
3187  0E90  57          	ld	d, a
3188  0E91  1A          	ld	a, (de)
3189  0E92  3C          	inc	a
3190  0E93  20 6B       	jr	NZ,l_spr_add_anim_00107
3191  0E95  DD 7E 04    	ld	a,(ix+4)
3192  0E98  12          	ld	(de), a
3193  0E99  3E 00       	ld	a, +((_anim_col) & 0xFF)
3194  0E9B  81          	add	a, c
3195  0E9C  DD 77 FE    	ld	(ix-2),a
3196  0E9F  6F          	ld	l,a
3197  0EA0  3E 00       	ld	a,+((_anim_col) / 256)
3198  0EA2  CE 00       	adc	a,0x00
3199  0EA4  DD 77 FF    	ld	(ix-1),a
3200  0EA7  67          	ld	h,a
3201  0EA8  DD 7E 05    	ld	a,(ix+5)
3202  0EAB  77          	ld	(hl), a
3203  0EAC  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3204  0EAE  81          	add	a, c
3205  0EAF  DD 77 FC    	ld	(ix-4),a
3206  0EB2  3E 00       	ld	a, +((_anim_tile) / 256)
3207  0EB4  CE 00       	adc	a,0x00
3208  0EB6  DD 77 FD    	ld	(ix-3),a
3209  0EB9  E1          	pop	hl
3210  0EBA  E5          	push	hl
3211  0EBB  DD 7E 06    	ld	a,(ix+6)
3212  0EBE  77          	ld	(hl), a
3213  0EBF  06 00       	ld	b,0x00
3214  0EC1  21 00 00    	ld	hl,_anim_int
3215  0EC4  09          	add	hl, bc
3216  0EC5  06 00       	ld	b,0x00
3217  0EC7  70          	ld	(hl),b
3218  0EC8  21 00 00    	ld	hl,_anim_end
3219  0ECB  09          	add	hl,bc
3220  0ECC  DD 7E 07    	ld	a,(ix+7)
3221  0ECF  77          	ld	(hl),a
3222  0ED0  4D          	ld	c,l
3223  0ED1  F3          	di
3224  0ED2  DD 6E FE    	ld	l,(ix-2)
3225  0ED5  DD 66 FF    	ld	h,(ix-1)
3226  0ED8  46          	ld	b, (hl)
3227  0ED9  E1          	pop	hl
3228  0EDA  1A          	ld	a,(de)
3229  0EDB  56          	ld	d,(hl)
3230  0EDC  E5          	push	hl
3231  0EDD  C5          	push	bc
3232  0EDE  33          	inc	sp
3233  0EDF  5A          	ld	e,d
3234  0EE0  57          	ld	d,a
3235  0EE1  D5          	push	de
3236  0EE2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3237  0EE5  FB          	ei
3238  0EE6  DD 66 05    	ld	h,(ix+5)
3239  0EE9  DD 6E 04    	ld	l,(ix+4)
3240  0EEC  E5          	push	hl
3241  0EED  CD 00 00    	call	_spr_calc_index
3242  0EF0  F1          	pop	af
3243  0EF1  22 00 00    	ld	(_index0),hl
3244  0EF4  01 00 00    	ld	bc,_scr_map
3245  0EF7  09          	add	hl,bc
3246  0EF8  7E          	ld	a,(hl)
3247  0EF9  B7          	or	a,a
3248  0EFA  20 0C       	jr	NZ,l_spr_add_anim_00108
3249  0EFC  36 FF       	ld	(hl),0xff
3250  0EFE  18 08       	jr	l_spr_add_anim_00108
3251  0F00              l_spr_add_anim_00107:
3252  0F00  04          	inc	b
3253  0F01  78          	ld	a,b
3254  0F02  48          	ld	c,b
3255  0F03  D6 08       	sub	a,0x08
3256  0F05  DA 88 0E    	jp	C, l_spr_add_anim_00106
3257  0F08              l_spr_add_anim_00108:
3258  0F08  DD F9       	ld	sp, ix
3259  0F0A  DD E1       	pop	ix
3260  0F0C  C9          	ret
3261  0F0D              	SECTION code_compiler
3262  0F0D              ;	---------------------------------
3263  0F0D              ; Function spr_play_anim
3264  0F0D              ; ---------------------------------
3265  0F0D              _spr_play_anim:
3266  0F0D  CD 00 00    	call	___sdcc_enter_ix
3267  0F10  F5          	push	af
3268  0F11  F5          	push	af
3269  0F12  3B          	dec	sp
3270  0F13  DD 36 FB 01 	ld	(ix-5),0x01
3271  0F17  DD 36 FC 00 	ld	(ix-4),0x00
3272  0F1B              l_spr_play_anim_00111:
3273  0F1B  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3274  0F1D  DD 86 FC    	add	a,(ix-4)
3275  0F20  5F          	ld	e, a
3276  0F21  3E 00       	ld	a, +((_anim_lin) / 256)
3277  0F23  CE 00       	adc	a,0x00
3278  0F25  57          	ld	d, a
3279  0F26  1A          	ld	a, (de)
3280  0F27  3C          	inc	a
3281  0F28  CA E3 0F    	jp	Z,l_spr_play_anim_00112
3282  0F2B  DD 7E FB    	ld	a,(ix-5)
3283  0F2E  B7          	or	a, a
3284  0F2F  28 05       	jr	Z,l_spr_play_anim_00102
3285  0F31  76          	halt
3286  0F32  DD 36 FB 00 	ld	(ix-5),0x00
3287  0F36              l_spr_play_anim_00102:
3288  0F36  3E 00       	ld	a, +((_anim_int) & 0xFF)
3289  0F38  DD 86 FC    	add	a,(ix-4)
3290  0F3B  4F          	ld	c, a
3291  0F3C  3E 00       	ld	a, +((_anim_int) / 256)
3292  0F3E  CE 00       	adc	a,0x00
3293  0F40  47          	ld	b, a
3294  0F41  0A          	ld	a, (bc)
3295  0F42  DD 77 FF    	ld	(ix-1),a
3296  0F45  3E 00       	ld	a, +((_anim_end) & 0xFF)
3297  0F47  DD 86 FC    	add	a,(ix-4)
3298  0F4A  6F          	ld	l, a
3299  0F4B  3E 00       	ld	a, +((_anim_end) / 256)
3300  0F4D  CE 00       	adc	a,0x00
3301  0F4F  67          	ld	h, a
3302  0F50  7E          	ld	a, (hl)
3303  0F51  DD 77 FE    	ld	(ix-2),a
3304  0F54  1A          	ld	a, (de)
3305  0F55  DD 77 FD    	ld	(ix-3),a
3306  0F58  DD 7E FF    	ld	a,(ix-1)
3307  0F5B  DD 96 FE    	sub	a,(ix-2)
3308  0F5E  30 2C       	jr	NC,l_spr_play_anim_00106
3309  0F60  3E 00       	ld	a, +((_anim_col) & 0xFF)
3310  0F62  DD 86 FC    	add	a,(ix-4)
3311  0F65  6F          	ld	l, a
3312  0F66  3E 00       	ld	a, +((_anim_col) / 256)
3313  0F68  CE 00       	adc	a,0x00
3314  0F6A  67          	ld	h, a
3315  0F6B  56          	ld	d, (hl)
3316  0F6C  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3317  0F6E  DD 86 FC    	add	a,(ix-4)
3318  0F71  6F          	ld	l, a
3319  0F72  3E 00       	ld	a, +((_anim_tile) / 256)
3320  0F74  CE 00       	adc	a,0x00
3321  0F76  67          	ld	h, a
3322  0F77  7E          	ld	a, (hl)
3323  0F78  DD 86 FF    	add	a,(ix-1)
3324  0F7B  5F          	ld	e, a
3325  0F7C  C5          	push	bc
3326  0F7D  D5          	push	de
3327  0F7E  33          	inc	sp
3328  0F7F  DD 56 FD    	ld	d,(ix-3)
3329  0F82  D5          	push	de
3330  0F83  CD 00 00    	call	_NIRVANAP_drawT_callee
3331  0F86  C1          	pop	bc
3332  0F87  0A          	ld	a, (bc)
3333  0F88  3C          	inc	a
3334  0F89  02          	ld	(bc), a
3335  0F8A  18 57       	jr	l_spr_play_anim_00112
3336  0F8C              l_spr_play_anim_00106:
3337  0F8C  3E 00       	ld	a, +((_anim_col) & 0xFF)
3338  0F8E  DD 86 FC    	add	a,(ix-4)
3339  0F91  6F          	ld	l, a
3340  0F92  3E 00       	ld	a, +((_anim_col) / 256)
3341  0F94  CE 00       	adc	a,0x00
3342  0F96  67          	ld	h, a
3343  0F97  7E          	ld	a, (hl)
3344  0F98  32 00 00    	ld	(_s_col0),a
3345  0F9B  DD 7E FD    	ld	a,(ix-3)
3346  0F9E  32 00 00    	ld	(_s_lin0),a
3347  0FA1  3A 00 00    	ld	a,(_s_col0)
3348  0FA4  D5          	push	de
3349  0FA5  F5          	push	af
3350  0FA6  33          	inc	sp
3351  0FA7  3A 00 00    	ld	a,(_s_lin0)
3352  0FAA  F5          	push	af
3353  0FAB  33          	inc	sp
3354  0FAC  CD 00 00    	call	_spr_calc_index
3355  0FAF  F1          	pop	af
3356  0FB0  2A FF FF    	ld	hl,(_s_col0 - 1)
3357  0FB3  3A 00 00    	ld	a,(_s_lin0)
3358  0FB6  6F          	ld	l,a
3359  0FB7  E5          	push	hl
3360  0FB8  CD 00 00    	call	_spr_calc_index
3361  0FBB  F1          	pop	af
3362  0FBC  D1          	pop	de
3363  0FBD  01 00 00    	ld	bc,_scr_map
3364  0FC0  09          	add	hl,bc
3365  0FC1  4E          	ld	c, (hl)
3366  0FC2  0C          	inc	c
3367  0FC3  20 16       	jr	NZ,l_spr_play_anim_00104
3368  0FC5  3A 00 00    	ld	a,(_s_col0)
3369  0FC8  D5          	push	de
3370  0FC9  F5          	push	af
3371  0FCA  33          	inc	sp
3372  0FCB  3A 00 00    	ld	a,(_s_lin0)
3373  0FCE  F5          	push	af
3374  0FCF  33          	inc	sp
3375  0FD0  CD 00 00    	call	_spr_calc_index
3376  0FD3  F1          	pop	af
3377  0FD4  D1          	pop	de
3378  0FD5  01 00 00    	ld	bc,_scr_map
3379  0FD8  09          	add	hl,bc
3380  0FD9  36 00       	ld	(hl),0x00
3381  0FDB              l_spr_play_anim_00104:
3382  0FDB  D5          	push	de
3383  0FDC  CD D0 0C    	call	_spr_back_repaint
3384  0FDF  D1          	pop	de
3385  0FE0  3E FF       	ld	a,0xff
3386  0FE2  12          	ld	(de), a
3387  0FE3              l_spr_play_anim_00112:
3388  0FE3  DD 34 FC    	inc	(ix-4)
3389  0FE6  DD 7E FC    	ld	a,(ix-4)
3390  0FE9  D6 08       	sub	a,0x08
3391  0FEB  DA 1B 0F    	jp	C, l_spr_play_anim_00111
3392  0FEE  DD F9       	ld	sp, ix
3393  0FF0  DD E1       	pop	ix
3394  0FF2  C9          	ret
3395  0FF3              	SECTION code_compiler
3396  0FF3              ;	---------------------------------
3397  0FF3              ; Function spr_play_bullets
3398  0FF3              ; ---------------------------------
3399  0FF3              _spr_play_bullets:
3400  0FF3  CD 00 00    	call	___sdcc_enter_ix
3401  0FF6  F5          	push	af
3402  0FF7  F5          	push	af
3403  0FF8  3B          	dec	sp
3404  0FF9  0E 00       	ld	c,0x00
3405  0FFB              l_spr_play_bullets_00131:
3406  0FFB  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3407  0FFD  81          	add	a, c
3408  0FFE  DD 77 FE    	ld	(ix-2),a
3409  1001  6F          	ld	l,a
3410  1002  3E 00       	ld	a,+((_bullet_col) / 256)
3411  1004  CE 00       	adc	a,0x00
3412  1006  DD 77 FF    	ld	(ix-1),a
3413  1009  67          	ld	h,a
3414  100A  7E          	ld	a, (hl)
3415  100B  DD 77 FD    	ld	(ix-3),a
3416  100E  3C          	inc	a
3417  100F  CA BE 11    	jp	Z,l_spr_play_bullets_00132
3418  1012  06 00       	ld	b,0x00
3419  1014  21 00 00    	ld	hl,_bullet_lin
3420  1017  09          	add	hl, bc
3421  1018  7E          	ld	a, (hl)
3422  1019  32 00 00    	ld	(_s_lin0),a
3423  101C  DD 7E FD    	ld	a,(ix-3)
3424  101F  32 00 00    	ld	(_s_col0),a
3425  1022  32 00 00    	ld	(_s_col1),a
3426  1025  C5          	push	bc
3427  1026  CD D0 0C    	call	_spr_back_repaint
3428  1029  C1          	pop	bc
3429  102A  06 00       	ld	b,0x00
3430  102C  21 00 00    	ld	hl,_bullet_dir
3431  102F  09          	add	hl, bc
3432  1030  46          	ld	b, (hl)
3433  1031  04          	inc	b
3434  1032  20 3E       	jr	NZ,l_spr_play_bullets_00110
3435  1034  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3436  1036  81          	add	a, c
3437  1037  5F          	ld	e, a
3438  1038  3E 00       	ld	a, +((_bullet_colint) / 256)
3439  103A  CE 00       	adc	a,0x00
3440  103C  57          	ld	d, a
3441  103D  1A          	ld	a, (de)
3442  103E  3C          	inc	a
3443  103F  47          	ld	b,a
3444  1040  12          	ld	(de), a
3445  1041  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3446  1043  81          	add	a, c
3447  1044  6F          	ld	l, a
3448  1045  3E 00       	ld	a, +((_bullet_frames) / 256)
3449  1047  CE 00       	adc	a,0x00
3450  1049  67          	ld	h, a
3451  104A  6E          	ld	l, (hl)
3452  104B  78          	ld	a, b
3453  104C  95          	sub	a, l
3454  104D  38 0B       	jr	C,l_spr_play_bullets_00102
3455  104F  DD 6E FE    	ld	l,(ix-2)
3456  1052  DD 66 FF    	ld	h,(ix-1)
3457  1055  46          	ld	b,(hl)
3458  1056  04          	inc	b
3459  1057  70          	ld	(hl), b
3460  1058  AF          	xor	a, a
3461  1059  12          	ld	(de), a
3462  105A              l_spr_play_bullets_00102:
3463  105A  DD 6E FE    	ld	l,(ix-2)
3464  105D  DD 66 FF    	ld	h,(ix-1)
3465  1060  46          	ld	b, (hl)
3466  1061  CB 40       	bit	0, b
3467  1063  28 46       	jr	Z,l_spr_play_bullets_00111
3468  1065  78          	ld	a, b
3469  1066  3C          	inc	a
3470  1067  32 00 00    	ld	(_s_col1),a
3471  106A  78          	ld	a, b
3472  106B  C6 FF       	add	a,0xff
3473  106D  32 00 00    	ld	(_tmp),a
3474  1070  18 39       	jr	l_spr_play_bullets_00111
3475  1072              l_spr_play_bullets_00110:
3476  1072  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3477  1074  81          	add	a, c
3478  1075  5F          	ld	e, a
3479  1076  3E 00       	ld	a, +((_bullet_colint) / 256)
3480  1078  CE 00       	adc	a,0x00
3481  107A  57          	ld	d, a
3482  107B  1A          	ld	a, (de)
3483  107C  C6 FF       	add	a,0xff
3484  107E  12          	ld	(de), a
3485  107F  3C          	inc	a
3486  1080  20 13       	jr	NZ,l_spr_play_bullets_00106
3487  1082  DD 6E FE    	ld	l,(ix-2)
3488  1085  DD 66 FF    	ld	h,(ix-1)
3489  1088  46          	ld	b,(hl)
3490  1089  05          	dec	b
3491  108A  70          	ld	(hl), b
3492  108B  06 00       	ld	b,0x00
3493  108D  21 00 00    	ld	hl,_bullet_frames
3494  1090  09          	add	hl, bc
3495  1091  46          	ld	b, (hl)
3496  1092  05          	dec	b
3497  1093  78          	ld	a, b
3498  1094  12          	ld	(de), a
3499  1095              l_spr_play_bullets_00106:
3500  1095  DD 6E FE    	ld	l,(ix-2)
3501  1098  DD 66 FF    	ld	h,(ix-1)
3502  109B  46          	ld	b, (hl)
3503  109C  CB 40       	bit	0, b
3504  109E  28 0B       	jr	Z,l_spr_play_bullets_00111
3505  10A0  78          	ld	a, b
3506  10A1  C6 FF       	add	a,0xff
3507  10A3  32 00 00    	ld	(_s_col1),a
3508  10A6  78          	ld	a, b
3509  10A7  3C          	inc	a
3510  10A8  32 00 00    	ld	(_tmp),a
3511  10AB              l_spr_play_bullets_00111:
3512  10AB  DD 7E FE    	ld	a,(ix-2)
3513  10AE  DD 77 FB    	ld	(ix-5),a
3514  10B1  DD 7E FF    	ld	a,(ix-1)
3515  10B4  DD 77 FC    	ld	(ix-4),a
3516  10B7  78          	ld	a,b
3517  10B8  B7          	or	a, a
3518  10B9  CA B6 11    	jp	Z,l_spr_play_bullets_00123
3519  10BC  D6 1E       	sub	a,0x1e
3520  10BE  D2 B6 11    	jp	NC, l_spr_play_bullets_00123
3521  10C1  3A 00 00    	ld	a,(_s_col1)
3522  10C4  C5          	push	bc
3523  10C5  F5          	push	af
3524  10C6  33          	inc	sp
3525  10C7  3A 00 00    	ld	a,(_s_lin0)
3526  10CA  F5          	push	af
3527  10CB  33          	inc	sp
3528  10CC  CD 00 00    	call	_spr_calc_index
3529  10CF  F1          	pop	af
3530  10D0  EB          	ex	de,hl
3531  10D1  C1          	pop	bc
3532  10D2  ED 53 00 00 	ld	(_index0),de
3533  10D6  21 00 00    	ld	hl,_tmp0
3534  10D9  36 00       	ld	(hl),0x00
3535  10DB              l_spr_play_bullets_00129:
3536  10DB  2A 00 00    	ld	hl,(_tmp0)
3537  10DE  26 00       	ld	h,0x00
3538  10E0  11 00 00    	ld	de,_class
3539  10E3  19          	add	hl,de
3540  10E4  7E          	ld	a,(hl)
3541  10E5  B7          	or	a,a
3542  10E6  28 6F       	jr	Z,l_spr_play_bullets_00130
3543  10E8  2A 00 00    	ld	hl,(_tmp0)
3544  10EB  26 00       	ld	h,0x00
3545  10ED  11 00 00    	ld	de,_col
3546  10F0  19          	add	hl,de
3547  10F1  46          	ld	b, (hl)
3548  10F2  3A 00 00    	ld	a,(_tmp0)
3549  10F5  5F          	ld	e,a
3550  10F6  16 00       	ld	d,0x00
3551  10F8  21 00 00    	ld	hl,_lin
3552  10FB  19          	add	hl,de
3553  10FC  56          	ld	d, (hl)
3554  10FD  C5          	push	bc
3555  10FE  4A          	ld	c, d
3556  10FF  C5          	push	bc
3557  1100  CD 00 00    	call	_spr_calc_index
3558  1103  F1          	pop	af
3559  1104  EB          	ex	de,hl
3560  1105  C1          	pop	bc
3561  1106  ED 53 00 00 	ld	(_index1),de
3562  110A  3A 00 00    	ld	a,(_index0)
3563  110D  21 00 00    	ld	hl,_index1
3564  1110  96          	sub	a, (hl)
3565  1111  20 44       	jr	NZ,l_spr_play_bullets_00130
3566  1113  3A 01 00    	ld	a,(_index0 + 1)
3567  1116  23          	inc	hl
3568  1117  96          	sub	a, (hl)
3569  1118  20 3D       	jr	NZ,l_spr_play_bullets_00130
3570  111A  2A 00 00    	ld	hl,(_tmp0)
3571  111D  26 00       	ld	h,0x00
3572  111F  11 00 00    	ld	de,_lin
3573  1122  19          	add	hl,de
3574  1123  7E          	ld	a,(hl)
3575  1124  32 00 00    	ld	(_s_lin0),a
3576  1127  2A 00 00    	ld	hl,(_tmp0)
3577  112A  26 00       	ld	h,0x00
3578  112C  11 00 00    	ld	de,_col
3579  112F  19          	add	hl,de
3580  1130  7E          	ld	a,(hl)
3581  1131  32 00 00    	ld	(_s_col0),a
3582  1134  2A 00 00    	ld	hl,(_tmp0)
3583  1137  C5          	push	bc
3584  1138  CD 07 08    	call	_spr_destroy
3585  113B  C1          	pop	bc
3586  113C  E1          	pop	hl
3587  113D  E5          	push	hl
3588  113E  36 FF       	ld	(hl),0xff
3589  1140  3A 00 00    	ld	a,(_s_col0)
3590  1143  C5          	push	bc
3591  1144  21 7B 03    	ld	hl,0x037b
3592  1147  E5          	push	hl
3593  1148  F5          	push	af
3594  1149  33          	inc	sp
3595  114A  3A 00 00    	ld	a,(_s_lin0)
3596  114D  F5          	push	af
3597  114E  33          	inc	sp
3598  114F  CD 80 0E    	call	_spr_add_anim
3599  1152  F1          	pop	af
3600  1153  F1          	pop	af
3601  1154  C1          	pop	bc
3602  1155  18 0B       	jr	l_spr_play_bullets_00116
3603  1157              l_spr_play_bullets_00130:
3604  1157  21 00 00    	ld	hl,_tmp0
3605  115A  7E          	ld	a,(hl)
3606  115B  3C          	inc	a
3607  115C  77          	ld	(hl),a
3608  115D  D6 07       	sub	a,0x07
3609  115F  DA DB 10    	jp	C, l_spr_play_bullets_00129
3610  1162              l_spr_play_bullets_00116:
3611  1162  E1          	pop	hl
3612  1163  7E          	ld	a,(hl)
3613  1164  E5          	push	hl
3614  1165  57          	ld	d,a
3615  1166  3C          	inc	a
3616  1167  28 55       	jr	Z,l_spr_play_bullets_00132
3617  1169  3E 00       	ld	a, +((_scr_map) & 0xFF)
3618  116B  21 00 00    	ld	hl,_index0
3619  116E  86          	add	a, (hl)
3620  116F  47          	ld	b, a
3621  1170  3E 00       	ld	a, +((_scr_map) / 256)
3622  1172  23          	inc	hl
3623  1173  8E          	adc	a, (hl)
3624  1174  67          	ld	h, a
3625  1175  68          	ld	l, b
3626  1176  7E          	ld	a, (hl)
3627  1177  D6 3C       	sub	a,0x3c
3628  1179  30 20       	jr	NC,l_spr_play_bullets_00118
3629  117B  06 00       	ld	b,0x00
3630  117D  21 00 00    	ld	hl,_bullet_tile
3631  1180  09          	add	hl, bc
3632  1181  5E          	ld	e, (hl)
3633  1182  06 00       	ld	b,0x00
3634  1184  21 00 00    	ld	hl,_bullet_colint
3635  1187  09          	add	hl, bc
3636  1188  46          	ld	b, (hl)
3637  1189  7B          	ld	a, e
3638  118A  80          	add	a, b
3639  118B  47          	ld	b, a
3640  118C  C5          	push	bc
3641  118D  D5          	push	de
3642  118E  33          	inc	sp
3643  118F  3A 00 00    	ld	a,(_s_lin0)
3644  1192  48          	ld	c,b
3645  1193  47          	ld	b,a
3646  1194  C5          	push	bc
3647  1195  CD 00 00    	call	_NIRVANAP_drawT_callee
3648  1198  C1          	pop	bc
3649  1199  18 23       	jr	l_spr_play_bullets_00132
3650  119B              l_spr_play_bullets_00118:
3651  119B  3A 00 00    	ld	a,(_tmp)
3652  119E  C5          	push	bc
3653  119F  21 7B 03    	ld	hl,0x037b
3654  11A2  E5          	push	hl
3655  11A3  F5          	push	af
3656  11A4  33          	inc	sp
3657  11A5  3A 00 00    	ld	a,(_s_lin0)
3658  11A8  F5          	push	af
3659  11A9  33          	inc	sp
3660  11AA  CD 80 0E    	call	_spr_add_anim
3661  11AD  F1          	pop	af
3662  11AE  F1          	pop	af
3663  11AF  C1          	pop	bc
3664  11B0  E1          	pop	hl
3665  11B1  E5          	push	hl
3666  11B2  36 FF       	ld	(hl),0xff
3667  11B4  18 08       	jr	l_spr_play_bullets_00132
3668  11B6              l_spr_play_bullets_00123:
3669  11B6  DD 6E FE    	ld	l,(ix-2)
3670  11B9  DD 66 FF    	ld	h,(ix-1)
3671  11BC  36 FF       	ld	(hl),0xff
3672  11BE              l_spr_play_bullets_00132:
3673  11BE  0C          	inc	c
3674  11BF  79          	ld	a, c
3675  11C0  D6 08       	sub	a,0x08
3676  11C2  DA FB 0F    	jp	C, l_spr_play_bullets_00131
3677  11C5  DD F9       	ld	sp, ix
3678  11C7  DD E1       	pop	ix
3679  11C9  C9          	ret
3680  11CA              	SECTION code_compiler
3681  11CA              ;	---------------------------------
3682  11CA              ; Function spr_turn_horizontal
3683  11CA              ; ---------------------------------
3684  11CA              _spr_turn_horizontal:
3685  11CA  21 00 00    	ld	hl,_s_state
3686  11CD  CB 56       	bit	2, (hl)
3687  11CF  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3688  11D1  21 00 00    	ld	hl,_s_state
3689  11D4  7E          	ld	a,(hl)
3690  11D5  F6 08       	or	a,0x08
3691  11D7  E6 FB       	and	a,0xfb
3692  11D9  77          	ld	(hl),a
3693  11DA  18 09       	jr	l_spr_turn_horizontal_00103
3694  11DC              l_spr_turn_horizontal_00102:
3695  11DC  21 00 00    	ld	hl,_s_state
3696  11DF  7E          	ld	a,(hl)
3697  11E0  E6 F7       	and	a,0xf7
3698  11E2  F6 04       	or	a,0x04
3699  11E4  77          	ld	(hl),a
3700  11E5              l_spr_turn_horizontal_00103:
3701  11E5  2A 00 00    	ld	hl,(_sprite)
3702  11E8  26 00       	ld	h,0x00
3703  11EA  01 00 00    	ld	bc,_state
3704  11ED  09          	add	hl,bc
3705  11EE  3A 00 00    	ld	a,(_s_state)
3706  11F1  77          	ld	(hl),a
3707  11F2  2A 00 00    	ld	hl,(_sprite)
3708  11F5  26 00       	ld	h,0x00
3709  11F7  01 00 00    	ld	bc,_tile
3710  11FA  09          	add	hl,bc
3711  11FB  E5          	push	hl
3712  11FC  2A 00 00    	ld	hl,(_sprite)
3713  11FF  CD 70 08    	call	_spr_tile
3714  1202  C1          	pop	bc
3715  1203  7D          	ld	a,l
3716  1204  02          	ld	(bc), a
3717  1205  C9          	ret
3718  1206              	SECTION IGNORE
3719  0000              
