1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_brick_anim
205   0000              	GLOBAL _spr_draw_index
206   0000              	GLOBAL _spr_draw_row
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_attribs
557   0000              	GLOBAL _game_boss_clear
558   0000              	GLOBAL _game_obj_clear
559   0000              	GLOBAL _game_obj_chk
560   0000              	GLOBAL _game_obj_set
561   0000              	GLOBAL _game_shoot_fire_boss
562   0000              	GLOBAL _game_shoot_fire
563   0000              	GLOBAL _game_add_enemy
564   0000              	GLOBAL _game_joystick_set_menu
565   0000              	GLOBAL _game_joystick_set
566   0000              	GLOBAL _game_joystick_change
567   0000              	GLOBAL _game_print_header
568   0000              	GLOBAL _game_end
569   0000              	GLOBAL _game_phase_print_score_back
570   0000              	GLOBAL _game_check_time
571   0000              	GLOBAL _game_rotate_attrib
572   0000              	GLOBAL _game_colour_message
573   0000              	GLOBAL _game_paint_attrib_lin_h
574   0000              	GLOBAL _game_paint_attrib_lin
575   0000              	GLOBAL _game_paint_attrib
576   0000              	GLOBAL _game_print_score
577   0000              	GLOBAL _game_unfreeze_all
578   0000              	GLOBAL _game_freeze_all
579   0000              	GLOBAL _game_freeze
580   0000              	GLOBAL _game_enemy_add_get_index
581   0000              	GLOBAL _game_check_cell
582   0000              	GLOBAL _game_check_map
583   0000              	GLOBAL _game_loop
584   0000              	GLOBAL _game_round_init
585   0000              	GLOBAL _game_start_timer
586   0000              	GLOBAL _game_tick
587   0000              	GLOBAL _game_update_stats
588   0000              	GLOBAL _game_print_footer
589   0000              	GLOBAL _game_fill_row
590   0000              	GLOBAL _game_fps
591   0000              	GLOBAL _game_respawn
592   0000              	GLOBAL _game_draw_screen
593   0000              	GLOBAL _boss_turn
594   0000              	GLOBAL _enemy_avoid_dead
595   0000              	GLOBAL _enemy_avoid_fall
596   0000              	GLOBAL _enemy_respawn
597   0000              	GLOBAL _enemy_init
598   0000              	GLOBAL _enemy_move
599   0000              	GLOBAL _enemy_turn
600   0000              	GLOBAL _enemy_hit
601   0000              	GLOBAL _enemy_coin1
602   0000              	GLOBAL _enemy_static
603   0000              	GLOBAL _enemy_walk
604   0000              	GLOBAL _enemy_horizontal
605   0000              	GLOBAL _enemy_vertical
606   0000              	GLOBAL _ay_fx_play
607   0000              	GLOBAL _ay_midi_play
608   0000              	GLOBAL _ay_is_playing
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _test_func
611   0000              	GLOBAL _test_proc
612   0000              	GLOBAL _in_mouse_kempston_wheel_delta
613   0000              	GLOBAL _in_mouse_kempston_wheel
614   0000              	GLOBAL _in_mouse_kempston_callee
615   0000              	GLOBAL _in_mouse_kempston
616   0000              	GLOBAL _in_mouse_kempston_setpos_callee
617   0000              	GLOBAL _in_mouse_kempston_setpos
618   0000              	GLOBAL _in_mouse_kempston_reset
619   0000              	GLOBAL _in_mouse_kempston_init
620   0000              	GLOBAL _in_mouse_amx_wheel_delta
621   0000              	GLOBAL _in_mouse_amx_wheel
622   0000              	GLOBAL _in_mouse_amx_callee
623   0000              	GLOBAL _in_mouse_amx
624   0000              	GLOBAL _in_mouse_amx_setpos_callee
625   0000              	GLOBAL _in_mouse_amx_setpos
626   0000              	GLOBAL _in_mouse_amx_reset
627   0000              	GLOBAL _in_mouse_amx_init_callee
628   0000              	GLOBAL _in_mouse_amx_init
629   0000              	GLOBAL _in_stick_sinclair2
630   0000              	GLOBAL _in_stick_sinclair1
631   0000              	GLOBAL _in_stick_kempston
632   0000              	GLOBAL _in_stick_fuller
633   0000              	GLOBAL _in_stick_cursor
634   0000              	GLOBAL _in_stick_keyboard_fastcall
635   0000              	GLOBAL _in_stick_keyboard
636   0000              	GLOBAL _in_wait_nokey
637   0000              	GLOBAL _in_wait_key
638   0000              	GLOBAL _in_test_key
639   0000              	GLOBAL _in_pause_fastcall
640   0000              	GLOBAL _in_pause
641   0000              	GLOBAL _in_key_scancode_fastcall
642   0000              	GLOBAL _in_key_scancode
643   0000              	GLOBAL _in_key_pressed_fastcall
644   0000              	GLOBAL _in_key_pressed
645   0000              	GLOBAL _in_inkey
646   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
647   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
648   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
649   0000              	GLOBAL _NIRVANAP_HOLE
650   0000              	GLOBAL _NIRVANAP_ISR_HOOK
651   0000              	GLOBAL _player_lvl_table
652   0000              	GLOBAL _map_paper_last
653   0000              	GLOBAL _map_paper_clr
654   0000              	GLOBAL _map_paper
655   0000              	GLOBAL _draw_count
656   0000              	GLOBAL _g_player_hit_right
657   0000              	GLOBAL _g_player_hit_left
658   0000              	GLOBAL _joynames
659   0000              	GLOBAL _initials
660   0000              	GLOBAL _bullet_count
661   0000              	GLOBAL _spr_hack
662   0000              	GLOBAL _boss_stat
663   0000              	GLOBAL _boss_time_fire
664   0000              	GLOBAL _boss_time
665   0000              	GLOBAL _boss_tile
666   0000              	GLOBAL _boss_inc
667   0000              	GLOBAL _boss_col
668   0000              	GLOBAL _boss_lin
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_obj1
694   0000              	GLOBAL _scr_obj0
695   0000              	GLOBAL _scr_map
696   0000              	GLOBAL _sprite_speed_alt
697   0000              	GLOBAL _sprite_frames
698   0000              	GLOBAL _sprite_speed
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _player_over_stair
702   0000              	GLOBAL _game_start_scr
703   0000              	GLOBAL _game_respawn_tile
704   0000              	GLOBAL _game_respawn_index
705   0000              	GLOBAL _game_respawn_time
706   0000              	GLOBAL _game_menu_sel
707   0000              	GLOBAL _game_score_top
708   0000              	GLOBAL _player_lives
709   0000              	GLOBAL _game_over
710   0000              	GLOBAL _game_sound
711   0000              	GLOBAL _game_inmune
712   0000              	GLOBAL _game_god_mode
713   0000              	GLOBAL _game_two_player
714   0000              	GLOBAL _game_brick_tile
715   0000              	GLOBAL _sprite_curr_index
716   0000              	GLOBAL _spr_count
717   0000              	GLOBAL _bullet_time
718   0000              	GLOBAL _anim_time
719   0000              	GLOBAL _frame_time
720   0000              	GLOBAL _entry_time
721   0000              	GLOBAL _curr_time
722   0000              	GLOBAL _s_state
723   0000              	GLOBAL _attrib_hl
724   0000              	GLOBAL _attrib
725   0000              	GLOBAL _zx_val_asm
726   0000              	GLOBAL _enemies
727   0000              	GLOBAL _tmp_ui
728   0000              	GLOBAL _tmp_sc
729   0000              	GLOBAL _tmp_uc
730   0000              	GLOBAL _tmp1
731   0000              	GLOBAL _tmp0
732   0000              	GLOBAL _tmp
733   0000              	GLOBAL _index1
734   0000              	GLOBAL _index0
735   0000              	GLOBAL _loop_count
736   0000              	GLOBAL _s_col1
737   0000              	GLOBAL _s_col0
738   0000              	GLOBAL _s_lin1
739   0000              	GLOBAL _s_lin0
740   0000              	GLOBAL _s_tile1
741   0000              	GLOBAL _s_tile0
742   0000              	GLOBAL _player_brick_time
743   0000              	GLOBAL _player_hit_count
744   0000              	GLOBAL _sprite_horizontal_check
745   0000              	GLOBAL _sprite_on_air
746   0000              	GLOBAL _sprite
747   0000              	GLOBAL _fps
748   0000              	GLOBAL _game_respawn_curr_time
749   0000              	GLOBAL _game_worldup
750   0000              	GLOBAL _game_mush_count
751   0000              	GLOBAL _game_boss_fix
752   0000              	GLOBAL _game_boss_hit
753   0000              	GLOBAL _game_boss_alive
754   0000              	GLOBAL _game_boss
755   0000              	GLOBAL _game_world
756   0000              	GLOBAL _game_gravity
757   0000              	GLOBAL _player_anim_stair
758   0000              	GLOBAL _player_hit_time
759   0000              	GLOBAL _player_lin_scr
760   0000              	GLOBAL _player_col_scr
761   0000              	GLOBAL _player_lvl
762   0000              	GLOBAL _player_int
763   0000              	GLOBAL _player_str
764   0000              	GLOBAL _player_max_vita
765   0000              	GLOBAL _player_max_mana
766   0000              	GLOBAL _player_vita
767   0000              	GLOBAL _player_mana
768   0000              	GLOBAL _player_keys
769   0000              	GLOBAL _player_vel_inc
770   0000              	GLOBAL _player_vel_y1
771   0000              	GLOBAL _player_vel_y0
772   0000              	GLOBAL _player_vel_y
773   0000              	GLOBAL _player_vel_x
774   0000              	GLOBAL _player_joy
775   0000              	GLOBAL _player_score
776   0000              	GLOBAL _last_time
777   0000              	GLOBAL _player_slide
778   0000              	GLOBAL _spr_timer
779   0000              	GLOBAL _jump_lin
780   0000              	GLOBAL _player_hit_col
781   0000              	GLOBAL _player_hit_lin
782   0000              	GLOBAL _colint
783   0000              	GLOBAL _col
784   0000              	GLOBAL _lin
785   0000              	GLOBAL _tile
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _tbuffer
790   0000              	GLOBAL _dirs
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc1
793   0000              	GLOBAL _btiles
794   0000              	GLOBAL _spec128
795   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
798   0000              	GLOBAL _ay_effect_20
799   0000              	GLOBAL _ay_effect_19
800   0000              	GLOBAL _ay_effect_18
801   0000              	GLOBAL _ay_effect_17
802   0000              	GLOBAL _ay_effect_16
803   0000              	GLOBAL _ay_effect_15
804   0000              	GLOBAL _ay_effect_14
805   0000              	GLOBAL _ay_effect_13
806   0000              	GLOBAL _ay_effect_12
807   0000              	GLOBAL _ay_effect_11
808   0000              	GLOBAL _ay_effect_10
809   0000              	GLOBAL _ay_effect_09
810   0000              	GLOBAL _ay_effect_08
811   0000              	GLOBAL _ay_effect_07
812   0000              	GLOBAL _ay_effect_06
813   0000              	GLOBAL _ay_effect_05
814   0000              	GLOBAL _ay_effect_04
815   0000              	GLOBAL _ay_effect_03
816   0000              	GLOBAL _ay_effect_02
817   0000              	GLOBAL _ay_effect_01
818   0000              	GLOBAL _pb_midi_phase_1
819   0000              	GLOBAL _pb_midi_title
820   0000              	GLOBAL _control_method
821   0000              	GLOBAL _world1_h
822   0000              	GLOBAL _world1_w
823   0000              	GLOBAL _world1
824   0000              	GLOBAL _paper1
825   0000              	GLOBAL _lenght1
826   0000              	GLOBAL _start_scr1
827   0000              	GLOBAL _world0_h
828   0000              	GLOBAL _world0_w
829   0000              	GLOBAL _world0
830   0000              	GLOBAL _paper0
831   0000              	GLOBAL _lenght0
832   0000              	GLOBAL _start_scr0
833   0000              ;--------------------------------------------------------
834   0000              ; special function registers
835   0000              ;--------------------------------------------------------
836   0000              defc _IO_FE	=	0x00fe
837   0000              defc _IO_1FFD	=	0x1ffd
838   0000              defc _IO_7FFD	=	0x7ffd
839   0000              ;--------------------------------------------------------
840   0000              ; ram data
841   0000              ;--------------------------------------------------------
842   0000              	SECTION bss_compiler
843   0000              ;--------------------------------------------------------
844   0000              ; ram data
845   0000              ;--------------------------------------------------------
846   0000              
847   0000              IF 0
848   0000              
849   0000              ; .area _INITIALIZED removed by z88dk
850   0000              
851   0000              
852   0000              ENDIF
853   0000              
854   0000              ;--------------------------------------------------------
855   0000              ; absolute external ram data
856   0000              ;--------------------------------------------------------
857   0000              	SECTION IGNORE
858   0000              ;--------------------------------------------------------
859   0000              ; global & static initialisations
860   0000              ;--------------------------------------------------------
861   0000              	SECTION code_crt_init
862   0000              ;--------------------------------------------------------
863   0000              ; Home
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; code
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_compiler
870   0000              ;	---------------------------------
871   0000              ; Function spr_calc_index
872   0000              ; ---------------------------------
873   0000              _spr_calc_index:
874   0000  CD 00 00    	call	___sdcc_enter_ix
875   0003  DD 4E 05    	ld	c,(ix+5)
876   0006  CB 39       	srl	c
877   0008  06 00       	ld	b,0x00
878   000A  DD 7E 04    	ld	a,(ix+4)
879   000D  07          	rlca
880   000E  07          	rlca
881   000F  07          	rlca
882   0010  07          	rlca
883   0011  E6 0F       	and	a,0x0f
884   0013  6F          	ld	l, a
885   0014  26 00       	ld	h,0x00
886   0016  29          	add	hl, hl
887   0017  29          	add	hl, hl
888   0018  29          	add	hl, hl
889   0019  29          	add	hl, hl
890   001A  09          	add	hl, bc
891   001B  DD E1       	pop	ix
892   001D  C9          	ret
893   001E              	SECTION code_compiler
894   001E              ;	---------------------------------
895   001E              ; Function spr_chktime
896   001E              ; ---------------------------------
897   001E              _spr_chktime:
898   001E  CD 00 00    	call	___sdcc_enter_ix
899   0021  5E          	ld	e,(hl)
900   0022  F5          	push	af
901   0023  16 00       	ld	d,0x00
902   0025  4D          	ld	c,l
903   0026  44          	ld	b,h
904   0027  21 00 00    	ld	hl,_sprite_speed_alt
905   002A  19          	add	hl, de
906   002B  7E          	ld	a, (hl)
907   002C  B7          	or	a,a
908   002D  20 15       	jr	NZ,l_spr_chktime_00102
909   002F  57          	ld	d,a
910   0030  21 00 00    	ld	hl,_class
911   0033  19          	add	hl, de
912   0034  56          	ld	d, (hl)
913   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
914   0037  82          	add	a, d
915   0038  6F          	ld	l, a
916   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
917   003B  CE 00       	adc	a,0x00
918   003D  67          	ld	h, a
919   003E  7E          	ld	a, (hl)
920   003F  32 00 00    	ld	(_tmp),a
921   0042  18 03       	jr	l_spr_chktime_00103
922   0044              l_spr_chktime_00102:
923   0044  32 00 00    	ld	(_tmp),a
924   0047              l_spr_chktime_00103:
925   0047  3A 00 00    	ld	a,(_tmp)
926   004A  DD 77 FE    	ld	(ix-2),a
927   004D  26 00       	ld	h,0x00
928   004F  DD 74 FF    	ld	(ix-1),h
929   0052  6B          	ld	l, e
930   0053  29          	add	hl, hl
931   0054  11 00 00    	ld	de,_last_time
932   0057  19          	add	hl, de
933   0058  5E          	ld	e, (hl)
934   0059  23          	inc	hl
935   005A  56          	ld	d, (hl)
936   005B  C5          	push	bc
937   005C  DD 6E FE    	ld	l,(ix-2)
938   005F  DD 66 FF    	ld	h,(ix-1)
939   0062  E5          	push	hl
940   0063  D5          	push	de
941   0064  CD 00 00    	call	_game_check_time
942   0067  F1          	pop	af
943   0068  F1          	pop	af
944   0069  C1          	pop	bc
945   006A  7D          	ld	a,l
946   006B  B7          	or	a, a
947   006C  28 14       	jr	Z,l_spr_chktime_00105
948   006E  0A          	ld	a, (bc)
949   006F  6F          	ld	l, a
950   0070  26 00       	ld	h,0x00
951   0072  29          	add	hl, hl
952   0073  01 00 00    	ld	bc,_last_time
953   0076  09          	add	hl,bc
954   0077  ED 5B 00 00 	ld	de,(_curr_time)
955   007B  73          	ld	(hl),e
956   007C  23          	inc	hl
957   007D  72          	ld	(hl),d
958   007E  2E 01       	ld	l,0x01
959   0080  18 02       	jr	l_spr_chktime_00106
960   0082              l_spr_chktime_00105:
961   0082  2E 00       	ld	l,0x00
962   0084              l_spr_chktime_00106:
963   0084  F1          	pop	af
964   0085  DD E1       	pop	ix
965   0087  C9          	ret
966   0088              	SECTION code_compiler
967   0088              ;	---------------------------------
968   0088              ; Function spr_move_up
969   0088              ; ---------------------------------
970   0088              _spr_move_up:
971   0088  2A 00 00    	ld	hl,(_sprite)
972   008B  26 00       	ld	h,0x00
973   008D  01 00 00    	ld	bc,_lin
974   0090  09          	add	hl,bc
975   0091  7E          	ld	a,(hl)
976   0092  C6 FE       	add	a,0xfe
977   0094  32 00 00    	ld	(_s_lin1),a
978   0097  07          	rlca
979   0098  07          	rlca
980   0099  07          	rlca
981   009A  07          	rlca
982   009B  E6 0F       	and	a,0x0f
983   009D  4F          	ld	c, a
984   009E  3A 00 00    	ld	a,(_s_lin0)
985   00A1  07          	rlca
986   00A2  07          	rlca
987   00A3  07          	rlca
988   00A4  07          	rlca
989   00A5  E6 0F       	and	a,0x0f
990   00A7  47          	ld	b, a
991   00A8  79          	ld	a, c
992   00A9  90          	sub	a, b
993   00AA  20 04       	jr	NZ,l_spr_move_up_00136
994   00AC  3E 01       	ld	a,0x01
995   00AE  18 01       	jr	l_spr_move_up_00137
996   00B0              l_spr_move_up_00136:
997   00B0  AF          	xor	a,a
998   00B1              l_spr_move_up_00137:
999   00B1  EE 01       	xor	a,0x01
1000  00B3  28 1D       	jr	Z,l_spr_move_up_00104
1001  00B5  2A 00 00    	ld	hl,(_sprite)
1002  00B8  26 00       	ld	h,0x00
1003  00BA  01 00 00    	ld	bc,_col
1004  00BD  09          	add	hl,bc
1005  00BE  7E          	ld	a,(hl)
1006  00BF  F5          	push	af
1007  00C0  33          	inc	sp
1008  00C1  3A 00 00    	ld	a,(_s_lin1)
1009  00C4  F5          	push	af
1010  00C5  33          	inc	sp
1011  00C6  CD 00 00    	call	_game_check_map
1012  00C9  F1          	pop	af
1013  00CA  7C          	ld	a,h
1014  00CB  B5          	or	a,l
1015  00CC  28 04       	jr	Z,l_spr_move_up_00104
1016  00CE  2E 01       	ld	l,0x01
1017  00D0  18 3F       	jr	l_spr_move_up_00114
1018  00D2              l_spr_move_up_00104:
1019  00D2  2A 00 00    	ld	hl,(_sprite)
1020  00D5  26 00       	ld	h,0x00
1021  00D7  01 00 00    	ld	bc,_lin
1022  00DA  09          	add	hl,bc
1023  00DB  3A 00 00    	ld	a,(_s_lin1)
1024  00DE  D6 10       	sub	a,0x10
1025  00E0  4D          	ld	c,l
1026  00E1  44          	ld	b,h
1027  00E2  30 27       	jr	NC,l_spr_move_up_00112
1028  00E4  3A 00 00    	ld	a,(_sprite)
1029  00E7  D6 07       	sub	a,0x07
1030  00E9  20 1A       	jr	NZ,l_spr_move_up_00109
1031  00EB  CD 78 04    	call	_spr_page_up
1032  00EE  7D          	ld	a, l
1033  00EF  B7          	or	a, a
1034  00F0  28 04       	jr	Z,l_spr_move_up_00106
1035  00F2  2E 01       	ld	l,0x01
1036  00F4  18 1B       	jr	l_spr_move_up_00114
1037  00F6              l_spr_move_up_00106:
1038  00F6  2A 00 00    	ld	hl,(_sprite)
1039  00F9  26 00       	ld	h,0x00
1040  00FB  01 00 00    	ld	bc,_lin
1041  00FE  09          	add	hl,bc
1042  00FF  AF          	xor	a,a
1043  0100  77          	ld	(hl),a
1044  0101  2E 01       	ld	l,0x01
1045  0103  18 0C       	jr	l_spr_move_up_00114
1046  0105              l_spr_move_up_00109:
1047  0105  AF          	xor	a, a
1048  0106  02          	ld	(bc), a
1049  0107  2E 01       	ld	l,0x01
1050  0109  18 06       	jr	l_spr_move_up_00114
1051  010B              l_spr_move_up_00112:
1052  010B  3A 00 00    	ld	a,(_s_lin1)
1053  010E  02          	ld	(bc), a
1054  010F  2E 00       	ld	l,0x00
1055  0111              l_spr_move_up_00114:
1056  0111  C9          	ret
1057  0112              	SECTION code_compiler
1058  0112              ;	---------------------------------
1059  0112              ; Function spr_move_down
1060  0112              ; ---------------------------------
1061  0112              _spr_move_down:
1062  0112  2A 00 00    	ld	hl,(_sprite)
1063  0115  26 00       	ld	h,0x00
1064  0117  01 00 00    	ld	bc,_lin
1065  011A  09          	add	hl,bc
1066  011B  7E          	ld	a,(hl)
1067  011C  C6 10       	add	a,0x10
1068  011E  32 00 00    	ld	(_s_lin1),a
1069  0121  07          	rlca
1070  0122  07          	rlca
1071  0123  07          	rlca
1072  0124  07          	rlca
1073  0125  E6 0F       	and	a,0x0f
1074  0127  4F          	ld	c, a
1075  0128  3A 00 00    	ld	a,(_s_lin0)
1076  012B  07          	rlca
1077  012C  07          	rlca
1078  012D  07          	rlca
1079  012E  07          	rlca
1080  012F  E6 0F       	and	a,0x0f
1081  0131  47          	ld	b, a
1082  0132  79          	ld	a, c
1083  0133  90          	sub	a, b
1084  0134  20 04       	jr	NZ,l_spr_move_down_00136
1085  0136  3E 01       	ld	a,0x01
1086  0138  18 01       	jr	l_spr_move_down_00137
1087  013A              l_spr_move_down_00136:
1088  013A  AF          	xor	a,a
1089  013B              l_spr_move_down_00137:
1090  013B  EE 01       	xor	a,0x01
1091  013D  28 1D       	jr	Z,l_spr_move_down_00104
1092  013F  2A 00 00    	ld	hl,(_sprite)
1093  0142  26 00       	ld	h,0x00
1094  0144  01 00 00    	ld	bc,_col
1095  0147  09          	add	hl,bc
1096  0148  7E          	ld	a,(hl)
1097  0149  F5          	push	af
1098  014A  33          	inc	sp
1099  014B  3A 00 00    	ld	a,(_s_lin1)
1100  014E  F5          	push	af
1101  014F  33          	inc	sp
1102  0150  CD 00 00    	call	_game_check_map
1103  0153  F1          	pop	af
1104  0154  7C          	ld	a,h
1105  0155  B5          	or	a,l
1106  0156  28 04       	jr	Z,l_spr_move_down_00104
1107  0158  2E 01       	ld	l,0x01
1108  015A  18 48       	jr	l_spr_move_down_00114
1109  015C              l_spr_move_down_00104:
1110  015C  2A 00 00    	ld	hl,(_sprite)
1111  015F  26 00       	ld	h,0x00
1112  0161  01 00 00    	ld	bc,_lin
1113  0164  09          	add	hl,bc
1114  0165  3E 90       	ld	a,0x90
1115  0167  4D          	ld	c,l
1116  0168  44          	ld	b,h
1117  0169  21 00 00    	ld	hl,_s_lin1
1118  016C  96          	sub	a, (hl)
1119  016D  30 2D       	jr	NC,l_spr_move_down_00112
1120  016F  3A 00 00    	ld	a,(_sprite)
1121  0172  D6 07       	sub	a,0x07
1122  0174  20 1F       	jr	NZ,l_spr_move_down_00109
1123  0176  2E 06       	ld	l,0x06
1124  0178  CD 00 00    	call	_zx_border_fastcall
1125  017B  CD 29 04    	call	_spr_page_down
1126  017E  7D          	ld	a, l
1127  017F  B7          	or	a, a
1128  0180  28 04       	jr	Z,l_spr_move_down_00106
1129  0182  2E 01       	ld	l,0x01
1130  0184  18 1E       	jr	l_spr_move_down_00114
1131  0186              l_spr_move_down_00106:
1132  0186  2A 00 00    	ld	hl,(_sprite)
1133  0189  26 00       	ld	h,0x00
1134  018B  01 00 00    	ld	bc,_lin
1135  018E  09          	add	hl,bc
1136  018F  36 90       	ld	(hl),0x90
1137  0191  2E 01       	ld	l,0x01
1138  0193  18 0F       	jr	l_spr_move_down_00114
1139  0195              l_spr_move_down_00109:
1140  0195  3E 90       	ld	a,0x90
1141  0197  02          	ld	(bc), a
1142  0198  2E 01       	ld	l,0x01
1143  019A  18 08       	jr	l_spr_move_down_00114
1144  019C              l_spr_move_down_00112:
1145  019C  3A 00 00    	ld	a,(_s_lin1)
1146  019F  C6 F2       	add	a,0xf2
1147  01A1  02          	ld	(bc), a
1148  01A2  2E 00       	ld	l,0x00
1149  01A4              l_spr_move_down_00114:
1150  01A4  C9          	ret
1151  01A5              	SECTION code_compiler
1152  01A5              ;	---------------------------------
1153  01A5              ; Function spr_move_horizontal
1154  01A5              ; ---------------------------------
1155  01A5              _spr_move_horizontal:
1156  01A5  2A 00 00    	ld	hl,(_sprite)
1157  01A8  26 00       	ld	h,0x00
1158  01AA  01 00 00    	ld	bc,_state
1159  01AD  09          	add	hl,bc
1160  01AE  7E          	ld	a,(hl)
1161  01AF  CB 57       	bit	2, a
1162  01B1  28 05       	jr	Z,l_spr_move_horizontal_00104
1163  01B3  CD C4 01    	call	_spr_move_right
1164  01B6  18 0B       	jr	l_spr_move_horizontal_00106
1165  01B8              l_spr_move_horizontal_00104:
1166  01B8  CB 5F       	bit	3, a
1167  01BA  28 05       	jr	Z,l_spr_move_horizontal_00105
1168  01BC  CD C3 02    	call	_spr_move_left
1169  01BF  18 02       	jr	l_spr_move_horizontal_00106
1170  01C1              l_spr_move_horizontal_00105:
1171  01C1  2E 00       	ld	l,0x00
1172  01C3              l_spr_move_horizontal_00106:
1173  01C3  C9          	ret
1174  01C4              	SECTION code_compiler
1175  01C4              ;	---------------------------------
1176  01C4              ; Function spr_move_right
1177  01C4              ; ---------------------------------
1178  01C4              _spr_move_right:
1179  01C4  2A 00 00    	ld	hl,(_sprite)
1180  01C7  26 00       	ld	h,0x00
1181  01C9  01 00 00    	ld	bc,_colint
1182  01CC  09          	add	hl,bc
1183  01CD  7E          	ld	a,(hl)
1184  01CE  3C          	inc	a
1185  01CF  77          	ld	(hl),a
1186  01D0  4F          	ld	c,a
1187  01D1  3A 00 00    	ld	a,(_sprite)
1188  01D4  5F          	ld	e,a
1189  01D5  16 00       	ld	d,0x00
1190  01D7  21 00 00    	ld	hl,_class
1191  01DA  19          	add	hl,de
1192  01DB  5E          	ld	e, (hl)
1193  01DC  16 00       	ld	d,0x00
1194  01DE  21 00 00    	ld	hl,_sprite_frames
1195  01E1  19          	add	hl, de
1196  01E2  7E          	ld	a, (hl)
1197  01E3  91          	sub	a, c
1198  01E4  C2 C0 02    	jp	NZ,l_spr_move_right_00118
1199  01E7  2A 00 00    	ld	hl,(_sprite)
1200  01EA  26 00       	ld	h,0x00
1201  01EC  01 00 00    	ld	bc,_lin
1202  01EF  09          	add	hl,bc
1203  01F0  7E          	ld	a,(hl)
1204  01F1  32 00 00    	ld	(_s_lin1),a
1205  01F4  2A 00 00    	ld	hl,(_sprite)
1206  01F7  26 00       	ld	h,0x00
1207  01F9  01 00 00    	ld	bc,_col
1208  01FC  09          	add	hl,bc
1209  01FD  7E          	ld	a,(hl)
1210  01FE  FE 1E       	cp	a,0x1e
1211  0200  30 61       	jr	NC,l_spr_move_right_00108
1212  0202  3C          	inc	a
1213  0203  32 00 00    	ld	(_s_col1),a
1214  0206  21 00 00    	ld	hl,_sprite_horizontal_check
1215  0209  36 01       	ld	(hl),0x01
1216  020B  2A FF FF    	ld	hl,(_s_col1 - 1)
1217  020E  3A 00 00    	ld	a,(_s_lin1)
1218  0211  6F          	ld	l,a
1219  0212  E5          	push	hl
1220  0213  CD 00 00    	call	_game_check_map
1221  0216  F1          	pop	af
1222  0217  7D          	ld	a,l
1223  0218  32 00 00    	ld	(_tmp0),a
1224  021B  B7          	or	a, a
1225  021C  20 16       	jr	NZ,l_spr_move_right_00102
1226  021E  3A 00 00    	ld	a,(_s_lin1)
1227  0221  C6 0F       	add	a,0x0f
1228  0223  4F          	ld	c, a
1229  0224  3A 00 00    	ld	a,(_s_col1)
1230  0227  F5          	push	af
1231  0228  33          	inc	sp
1232  0229  79          	ld	a, c
1233  022A  F5          	push	af
1234  022B  33          	inc	sp
1235  022C  CD 00 00    	call	_game_check_map
1236  022F  F1          	pop	af
1237  0230  7D          	ld	a,l
1238  0231  32 00 00    	ld	(_tmp0),a
1239  0234              l_spr_move_right_00102:
1240  0234  21 00 00    	ld	hl,_sprite_horizontal_check
1241  0237  36 00       	ld	(hl),0x00
1242  0239  3A 00 00    	ld	a,(_tmp0)
1243  023C  B7          	or	a, a
1244  023D  28 24       	jr	Z,l_spr_move_right_00108
1245  023F  2A 00 00    	ld	hl,(_sprite)
1246  0242  26 00       	ld	h,0x00
1247  0244  01 00 00    	ld	bc,_colint
1248  0247  09          	add	hl,bc
1249  0248  7E          	ld	a,(hl)
1250  0249  C6 FF       	add	a,0xff
1251  024B  77          	ld	(hl),a
1252  024C  3A 00 00    	ld	a,(_sprite_on_air)
1253  024F  B7          	or	a,a
1254  0250  20 0D       	jr	NZ,l_spr_move_right_00104
1255  0252  2A 00 00    	ld	hl,(_sprite)
1256  0255  26 00       	ld	h,0x00
1257  0257  01 00 00    	ld	bc,_colint
1258  025A  09          	add	hl,bc
1259  025B  7E          	ld	a,(hl)
1260  025C  C6 FF       	add	a,0xff
1261  025E  77          	ld	(hl),a
1262  025F              l_spr_move_right_00104:
1263  025F  2E 01       	ld	l,0x01
1264  0261  18 5F       	jr	l_spr_move_right_00119
1265  0263              l_spr_move_right_00108:
1266  0263  2A 00 00    	ld	hl,(_sprite)
1267  0266  26 00       	ld	h,0x00
1268  0268  01 00 00    	ld	bc,_col
1269  026B  09          	add	hl,bc
1270  026C  34          	inc	(hl)
1271  026D  2A 00 00    	ld	hl,(_sprite)
1272  0270  26 00       	ld	h,0x00
1273  0272  01 00 00    	ld	bc,_colint
1274  0275  09          	add	hl,bc
1275  0276  AF          	xor	a,a
1276  0277  77          	ld	(hl),a
1277  0278  2A 00 00    	ld	hl,(_sprite)
1278  027B  26 00       	ld	h,0x00
1279  027D  01 00 00    	ld	bc,_col
1280  0280  09          	add	hl,bc
1281  0281  5E          	ld	e,(hl)
1282  0282  3E 1E       	ld	a,0x1e
1283  0284  93          	sub	a,e
1284  0285  30 39       	jr	NC,l_spr_move_right_00118
1285  0287  3A 00 00    	ld	a,(_sprite)
1286  028A  D6 07       	sub	a,0x07
1287  028C  28 04       	jr	Z,l_spr_move_right_00156
1288  028E  4D          	ld	c,l
1289  028F  44          	ld	b,h
1290  0290  18 27       	jr	l_spr_move_right_00113
1291  0292              l_spr_move_right_00156:
1292  0292  CD C7 03    	call	_spr_page_right
1293  0295  3A 00 00    	ld	a,(_sprite)
1294  0298  C6 00       	add	a,+((_col) & 0xFF)
1295  029A  4D          	ld	c,l
1296  029B  5F          	ld	e,a
1297  029C  3E 00       	ld	a,+((_col) / 256)
1298  029E  CE 00       	adc	a,0x00
1299  02A0  57          	ld	d,a
1300  02A1  79          	ld	a, c
1301  02A2  B7          	or	a, a
1302  02A3  28 0F       	jr	Z,l_spr_move_right_00110
1303  02A5  AF          	xor	a, a
1304  02A6  12          	ld	(de), a
1305  02A7  3A 07 00    	ld	a,(_lin + 7)
1306  02AA  32 00 00    	ld	(_player_lin_scr),a
1307  02AD  21 00 00    	ld	hl,_player_col_scr
1308  02B0  36 00       	ld	(hl),0x00
1309  02B2  18 08       	jr	l_spr_move_right_00114
1310  02B4              l_spr_move_right_00110:
1311  02B4  3E 1E       	ld	a,0x1e
1312  02B6  12          	ld	(de), a
1313  02B7  18 03       	jr	l_spr_move_right_00114
1314  02B9              l_spr_move_right_00113:
1315  02B9  3E 1E       	ld	a,0x1e
1316  02BB  02          	ld	(bc), a
1317  02BC              l_spr_move_right_00114:
1318  02BC  2E 01       	ld	l,0x01
1319  02BE  18 02       	jr	l_spr_move_right_00119
1320  02C0              l_spr_move_right_00118:
1321  02C0  2E 00       	ld	l,0x00
1322  02C2              l_spr_move_right_00119:
1323  02C2  C9          	ret
1324  02C3              	SECTION code_compiler
1325  02C3              ;	---------------------------------
1326  02C3              ; Function spr_move_left
1327  02C3              ; ---------------------------------
1328  02C3              _spr_move_left:
1329  02C3  2A 00 00    	ld	hl,(_sprite)
1330  02C6  26 00       	ld	h,0x00
1331  02C8  01 00 00    	ld	bc,_colint
1332  02CB  09          	add	hl,bc
1333  02CC  7E          	ld	a,(hl)
1334  02CD  C6 FF       	add	a,0xff
1335  02CF  77          	ld	(hl),a
1336  02D0  2A 00 00    	ld	hl,(_sprite)
1337  02D3  26 00       	ld	h,0x00
1338  02D5  01 00 00    	ld	bc,_colint
1339  02D8  09          	add	hl,bc
1340  02D9  7E          	ld	a,(hl)
1341  02DA  3C          	inc	a
1342  02DB  C2 C4 03    	jp	NZ,l_spr_move_left_00118
1343  02DE  2A 00 00    	ld	hl,(_sprite)
1344  02E1  26 00       	ld	h,0x00
1345  02E3  01 00 00    	ld	bc,_lin
1346  02E6  09          	add	hl,bc
1347  02E7  7E          	ld	a,(hl)
1348  02E8  32 00 00    	ld	(_s_lin1),a
1349  02EB  2A 00 00    	ld	hl,(_sprite)
1350  02EE  26 00       	ld	h,0x00
1351  02F0  01 00 00    	ld	bc,_col
1352  02F3  09          	add	hl,bc
1353  02F4  7E          	ld	a,(hl)
1354  02F5  B7          	or	a, a
1355  02F6  28 5C       	jr	Z,l_spr_move_left_00108
1356  02F8  C6 FF       	add	a,0xff
1357  02FA  32 00 00    	ld	(_s_col1),a
1358  02FD  21 00 00    	ld	hl,_sprite_horizontal_check
1359  0300  36 01       	ld	(hl),0x01
1360  0302  2A FF FF    	ld	hl,(_s_col1 - 1)
1361  0305  3A 00 00    	ld	a,(_s_lin1)
1362  0308  6F          	ld	l,a
1363  0309  E5          	push	hl
1364  030A  CD 00 00    	call	_game_check_map
1365  030D  F1          	pop	af
1366  030E  7D          	ld	a,l
1367  030F  32 00 00    	ld	(_tmp0),a
1368  0312  B7          	or	a, a
1369  0313  20 16       	jr	NZ,l_spr_move_left_00102
1370  0315  3A 00 00    	ld	a,(_s_lin1)
1371  0318  C6 0F       	add	a,0x0f
1372  031A  4F          	ld	c, a
1373  031B  3A 00 00    	ld	a,(_s_col1)
1374  031E  F5          	push	af
1375  031F  33          	inc	sp
1376  0320  79          	ld	a, c
1377  0321  F5          	push	af
1378  0322  33          	inc	sp
1379  0323  CD 00 00    	call	_game_check_map
1380  0326  F1          	pop	af
1381  0327  7D          	ld	a,l
1382  0328  32 00 00    	ld	(_tmp0),a
1383  032B              l_spr_move_left_00102:
1384  032B  21 00 00    	ld	hl,_sprite_horizontal_check
1385  032E  36 00       	ld	(hl),0x00
1386  0330  3A 00 00    	ld	a,(_tmp0)
1387  0333  B7          	or	a, a
1388  0334  28 1E       	jr	Z,l_spr_move_left_00108
1389  0336  2A 00 00    	ld	hl,(_sprite)
1390  0339  26 00       	ld	h,0x00
1391  033B  01 00 00    	ld	bc,_colint
1392  033E  09          	add	hl,bc
1393  033F  34          	inc	(hl)
1394  0340  3A 00 00    	ld	a,(_sprite_on_air)
1395  0343  B7          	or	a,a
1396  0344  20 0A       	jr	NZ,l_spr_move_left_00104
1397  0346  2A 00 00    	ld	hl,(_sprite)
1398  0349  26 00       	ld	h,0x00
1399  034B  01 00 00    	ld	bc,_colint
1400  034E  09          	add	hl,bc
1401  034F  34          	inc	(hl)
1402  0350              l_spr_move_left_00104:
1403  0350  2E 01       	ld	l,0x01
1404  0352  18 72       	jr	l_spr_move_left_00119
1405  0354              l_spr_move_left_00108:
1406  0354  2A 00 00    	ld	hl,(_sprite)
1407  0357  26 00       	ld	h,0x00
1408  0359  01 00 00    	ld	bc,_col
1409  035C  09          	add	hl,bc
1410  035D  7E          	ld	a,(hl)
1411  035E  C6 FF       	add	a,0xff
1412  0360  77          	ld	(hl),a
1413  0361  2A 00 00    	ld	hl,(_sprite)
1414  0364  26 00       	ld	h,0x00
1415  0366  01 00 00    	ld	bc,_colint
1416  0369  09          	add	hl,bc
1417  036A  3A 00 00    	ld	a,(_sprite)
1418  036D  5F          	ld	e,a
1419  036E  16 00       	ld	d,0x00
1420  0370  4D          	ld	c,l
1421  0371  44          	ld	b,h
1422  0372  21 00 00    	ld	hl,_class
1423  0375  19          	add	hl,de
1424  0376  5E          	ld	e, (hl)
1425  0377  16 00       	ld	d,0x00
1426  0379  21 00 00    	ld	hl,_sprite_frames
1427  037C  19          	add	hl, de
1428  037D  5E          	ld	e, (hl)
1429  037E  1D          	dec	e
1430  037F  7B          	ld	a, e
1431  0380  02          	ld	(bc), a
1432  0381  2A 00 00    	ld	hl,(_sprite)
1433  0384  26 00       	ld	h,0x00
1434  0386  01 00 00    	ld	bc,_col
1435  0389  09          	add	hl,bc
1436  038A  7E          	ld	a,(hl)
1437  038B  3C          	inc	a
1438  038C  20 36       	jr	NZ,l_spr_move_left_00118
1439  038E  3A 00 00    	ld	a,(_sprite)
1440  0391  D6 07       	sub	a,0x07
1441  0393  4D          	ld	c,l
1442  0394  44          	ld	b,h
1443  0395  20 27       	jr	NZ,l_spr_move_left_00113
1444  0397  CD FA 03    	call	_spr_page_left
1445  039A  3A 00 00    	ld	a,(_sprite)
1446  039D  C6 00       	add	a,+((_col) & 0xFF)
1447  039F  4D          	ld	c,l
1448  03A0  5F          	ld	e,a
1449  03A1  3E 00       	ld	a,+((_col) / 256)
1450  03A3  CE 00       	adc	a,0x00
1451  03A5  57          	ld	d,a
1452  03A6  79          	ld	a, c
1453  03A7  B7          	or	a, a
1454  03A8  28 10       	jr	Z,l_spr_move_left_00110
1455  03AA  3E 1E       	ld	a,0x1e
1456  03AC  12          	ld	(de), a
1457  03AD  3A 07 00    	ld	a,(_lin + 7)
1458  03B0  32 00 00    	ld	(_player_lin_scr),a
1459  03B3  21 00 00    	ld	hl,_player_col_scr
1460  03B6  36 1E       	ld	(hl),0x1e
1461  03B8  18 06       	jr	l_spr_move_left_00114
1462  03BA              l_spr_move_left_00110:
1463  03BA  AF          	xor	a, a
1464  03BB  12          	ld	(de), a
1465  03BC  18 02       	jr	l_spr_move_left_00114
1466  03BE              l_spr_move_left_00113:
1467  03BE  AF          	xor	a, a
1468  03BF  02          	ld	(bc), a
1469  03C0              l_spr_move_left_00114:
1470  03C0  2E 01       	ld	l,0x01
1471  03C2  18 02       	jr	l_spr_move_left_00119
1472  03C4              l_spr_move_left_00118:
1473  03C4  2E 00       	ld	l,0x00
1474  03C6              l_spr_move_left_00119:
1475  03C6  C9          	ret
1476  03C7              	SECTION code_compiler
1477  03C7              ;	---------------------------------
1478  03C7              ; Function spr_page_right
1479  03C7              ; ---------------------------------
1480  03C7              _spr_page_right:
1481  03C7  2A FF FF    	ld	hl,(_map_width - 1)
1482  03CA  3A 00 00    	ld	a,(_scr_curr)
1483  03CD  6F          	ld	l,a
1484  03CE  E5          	push	hl
1485  03CF  CD 00 00    	call	__moduchar_callee
1486  03D2  7D          	ld	a, l
1487  03D3  3C          	inc	a
1488  03D4  32 00 00    	ld	(_tmp1),a
1489  03D7  21 00 00    	ld	hl,_map_width
1490  03DA  96          	sub	a, (hl)
1491  03DB  30 1A       	jr	NC,l_spr_page_right_00102
1492  03DD  3A 00 00    	ld	a,(_game_boss)
1493  03E0  B7          	or	a, a
1494  03E1  28 06       	jr	Z,l_spr_page_right_00101
1495  03E3  3A 00 00    	ld	a,(_game_god_mode)
1496  03E6  B7          	or	a, a
1497  03E7  28 0E       	jr	Z,l_spr_page_right_00102
1498  03E9              l_spr_page_right_00101:
1499  03E9  21 00 00    	ld	hl,_scr_curr
1500  03EC  34          	inc	(hl)
1501  03ED  CD C3 04    	call	_spr_page_map
1502  03F0  CD 00 00    	call	_game_draw_screen
1503  03F3  2E 01       	ld	l,0x01
1504  03F5  18 02       	jr	l_spr_page_right_00105
1505  03F7              l_spr_page_right_00102:
1506  03F7  2E 00       	ld	l,0x00
1507  03F9              l_spr_page_right_00105:
1508  03F9  C9          	ret
1509  03FA              	SECTION code_compiler
1510  03FA              ;	---------------------------------
1511  03FA              ; Function spr_page_left
1512  03FA              ; ---------------------------------
1513  03FA              _spr_page_left:
1514  03FA  2A FF FF    	ld	hl,(_map_width - 1)
1515  03FD  3A 00 00    	ld	a,(_scr_curr)
1516  0400  6F          	ld	l,a
1517  0401  E5          	push	hl
1518  0402  CD 00 00    	call	__moduchar_callee
1519  0405  7D          	ld	a,l
1520  0406  32 00 00    	ld	(_tmp1),a
1521  0409  B7          	or	a, a
1522  040A  28 1A       	jr	Z,l_spr_page_left_00102
1523  040C  3A 00 00    	ld	a,(_game_boss)
1524  040F  B7          	or	a, a
1525  0410  28 06       	jr	Z,l_spr_page_left_00101
1526  0412  3A 00 00    	ld	a,(_game_god_mode)
1527  0415  B7          	or	a, a
1528  0416  28 0E       	jr	Z,l_spr_page_left_00102
1529  0418              l_spr_page_left_00101:
1530  0418  21 00 00    	ld	hl,_scr_curr
1531  041B  35          	dec	(hl)
1532  041C  CD C3 04    	call	_spr_page_map
1533  041F  CD 00 00    	call	_game_draw_screen
1534  0422  2E 01       	ld	l,0x01
1535  0424  18 02       	jr	l_spr_page_left_00105
1536  0426              l_spr_page_left_00102:
1537  0426  2E 00       	ld	l,0x00
1538  0428              l_spr_page_left_00105:
1539  0428  C9          	ret
1540  0429              	SECTION code_compiler
1541  0429              ;	---------------------------------
1542  0429              ; Function spr_page_down
1543  0429              ; ---------------------------------
1544  0429              _spr_page_down:
1545  0429  2A FF FF    	ld	hl,(_map_heigth - 1)
1546  042C  3A 00 00    	ld	a,(_scr_curr)
1547  042F  6F          	ld	l,a
1548  0430  E5          	push	hl
1549  0431  CD 00 00    	call	__divuchar_callee
1550  0434  7D          	ld	a, l
1551  0435  3C          	inc	a
1552  0436  32 00 00    	ld	(_tmp1),a
1553  0439  21 00 00    	ld	hl,_map_heigth
1554  043C  96          	sub	a, (hl)
1555  043D  30 36       	jr	NC,l_spr_page_down_00102
1556  043F  3A 00 00    	ld	a,(_game_boss)
1557  0442  B7          	or	a, a
1558  0443  28 06       	jr	Z,l_spr_page_down_00101
1559  0445  3A 00 00    	ld	a,(_game_god_mode)
1560  0448  B7          	or	a, a
1561  0449  28 2A       	jr	Z,l_spr_page_down_00102
1562  044B              l_spr_page_down_00101:
1563  044B  3A 00 00    	ld	a,(_scr_curr)
1564  044E  21 00 00    	ld	hl,_map_width
1565  0451  86          	add	a, (hl)
1566  0452  32 00 00    	ld	(_scr_curr),a
1567  0455  CD C3 04    	call	_spr_page_map
1568  0458  CD 00 00    	call	_game_draw_screen
1569  045B  21 00 00    	ld	hl,_player_lin_scr
1570  045E  36 08       	ld	(hl),0x08
1571  0460  2A 00 00    	ld	hl,(_sprite)
1572  0463  26 00       	ld	h,0x00
1573  0465  01 00 00    	ld	bc,_lin
1574  0468  09          	add	hl,bc
1575  0469  36 08       	ld	(hl),0x08
1576  046B  3A 07 00    	ld	a,(_col + 0x0007)
1577  046E  32 00 00    	ld	(_player_col_scr),a
1578  0471  2E 01       	ld	l,0x01
1579  0473  18 02       	jr	l_spr_page_down_00105
1580  0475              l_spr_page_down_00102:
1581  0475  2E 00       	ld	l,0x00
1582  0477              l_spr_page_down_00105:
1583  0477  C9          	ret
1584  0478              	SECTION code_compiler
1585  0478              ;	---------------------------------
1586  0478              ; Function spr_page_up
1587  0478              ; ---------------------------------
1588  0478              _spr_page_up:
1589  0478  2A FF FF    	ld	hl,(_map_heigth - 1)
1590  047B  3A 00 00    	ld	a,(_scr_curr)
1591  047E  6F          	ld	l,a
1592  047F  E5          	push	hl
1593  0480  CD 00 00    	call	__divuchar_callee
1594  0483  7D          	ld	a,l
1595  0484  32 00 00    	ld	(_tmp1),a
1596  0487  B7          	or	a, a
1597  0488  28 36       	jr	Z,l_spr_page_up_00102
1598  048A  3A 00 00    	ld	a,(_game_boss)
1599  048D  B7          	or	a, a
1600  048E  28 06       	jr	Z,l_spr_page_up_00101
1601  0490  3A 00 00    	ld	a,(_game_god_mode)
1602  0493  B7          	or	a, a
1603  0494  28 2A       	jr	Z,l_spr_page_up_00102
1604  0496              l_spr_page_up_00101:
1605  0496  3A 00 00    	ld	a,(_scr_curr)
1606  0499  21 00 00    	ld	hl,_map_width
1607  049C  96          	sub	a, (hl)
1608  049D  32 00 00    	ld	(_scr_curr),a
1609  04A0  CD C3 04    	call	_spr_page_map
1610  04A3  CD 00 00    	call	_game_draw_screen
1611  04A6  2A 00 00    	ld	hl,(_sprite)
1612  04A9  26 00       	ld	h,0x00
1613  04AB  01 00 00    	ld	bc,_lin
1614  04AE  09          	add	hl,bc
1615  04AF  36 8C       	ld	(hl),0x8c
1616  04B1  21 00 00    	ld	hl,_player_lin_scr
1617  04B4  36 90       	ld	(hl),0x90
1618  04B6  3A 07 00    	ld	a,(_col + 0x0007)
1619  04B9  32 00 00    	ld	(_player_col_scr),a
1620  04BC  2E 01       	ld	l,0x01
1621  04BE  18 02       	jr	l_spr_page_up_00105
1622  04C0              l_spr_page_up_00102:
1623  04C0  2E 00       	ld	l,0x00
1624  04C2              l_spr_page_up_00105:
1625  04C2  C9          	ret
1626  04C3              	SECTION code_compiler
1627  04C3              ;	---------------------------------
1628  04C3              ; Function spr_page_map
1629  04C3              ; ---------------------------------
1630  04C3              _spr_page_map:
1631  04C3  CD 00 00    	call	___sdcc_enter_ix
1632  04C6  21 EB FF    	ld	hl, -21
1633  04C9  39          	add	hl, sp
1634  04CA  F9          	ld	sp, hl
1635  04CB  3A 00 00    	ld	a,(_game_world)
1636  04CE  DD 77 EE    	ld	(ix-18),a
1637  04D1  3A 00 00    	ld	a,(_scr_curr)
1638  04D4  DD 77 EB    	ld	(ix-21),a
1639  04D7  DD 36 F1 10 	ld	(ix-15),0x10
1640  04DB  06 00       	ld	b,0x00
1641  04DD              l_spr_page_map_00138:
1642  04DD  C5          	push	bc
1643  04DE  21 00 00    	ld	hl,0x0000
1644  04E1  E5          	push	hl
1645  04E2  AF          	xor	a, a
1646  04E3  48          	ld	c,b
1647  04E4  47          	ld	b,a
1648  04E5  C5          	push	bc
1649  04E6  CD 00 00    	call	_NIRVANAP_spriteT_callee
1650  04E9  C1          	pop	bc
1651  04EA  04          	inc	b
1652  04EB  78          	ld	a, b
1653  04EC  D6 08       	sub	a,0x08
1654  04EE  38 ED       	jr	C,l_spr_page_map_00138
1655  04F0  76          	halt
1656  04F1  F3          	di
1657  04F2  DD 36 F3 00 	ld	(ix-13),0x00
1658  04F6              l_spr_page_map_00155:
1659  04F6  DD 7E F3    	ld	a,(ix-13)
1660  04F9  87          	add	a, a
1661  04FA  DD 77 FD    	ld	(ix-3),a
1662  04FD  DD 77 F7    	ld	(ix-9),a
1663  0500  DD 36 F2 01 	ld	(ix-14),0x01
1664  0504              l_spr_page_map_00140:
1665  0504  DD 7E F2    	ld	a,(ix-14)
1666  0507  07          	rlca
1667  0508  07          	rlca
1668  0509  07          	rlca
1669  050A  07          	rlca
1670  050B  E6 F0       	and	a,0xf0
1671  050D  47          	ld	b, a
1672  050E  DD 7E F7    	ld	a,(ix-9)
1673  0511  48          	ld	c,b
1674  0512  47          	ld	b,a
1675  0513  C5          	push	bc
1676  0514  AF          	xor	a, a
1677  0515  F5          	push	af
1678  0516  33          	inc	sp
1679  0517  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1680  051A  DD 34 F2    	inc	(ix-14)
1681  051D  DD 7E F2    	ld	a,(ix-14)
1682  0520  D6 0A       	sub	a,0x0a
1683  0522  38 E0       	jr	C,l_spr_page_map_00140
1684  0524  3E 1E       	ld	a,0x1e
1685  0526  DD 96 FD    	sub	a,(ix-3)
1686  0529  47          	ld	b, a
1687  052A  0E 01       	ld	c,0x01
1688  052C              l_spr_page_map_00142:
1689  052C  79          	ld	a, c
1690  052D  07          	rlca
1691  052E  07          	rlca
1692  052F  07          	rlca
1693  0530  07          	rlca
1694  0531  E6 F0       	and	a,0xf0
1695  0533  57          	ld	d, a
1696  0534  C5          	push	bc
1697  0535  4A          	ld	c, d
1698  0536  C5          	push	bc
1699  0537  AF          	xor	a, a
1700  0538  F5          	push	af
1701  0539  33          	inc	sp
1702  053A  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1703  053D  C1          	pop	bc
1704  053E  0C          	inc	c
1705  053F  79          	ld	a, c
1706  0540  D6 0A       	sub	a,0x0a
1707  0542  38 E8       	jr	C,l_spr_page_map_00142
1708  0544  FB          	ei
1709  0545  76          	halt
1710  0546  F3          	di
1711  0547  DD 34 F3    	inc	(ix-13)
1712  054A  DD 7E F3    	ld	a,(ix-13)
1713  054D  D6 08       	sub	a,0x08
1714  054F  38 A5       	jr	C,l_spr_page_map_00155
1715  0551  3E 16       	ld	a,0x16
1716  0553  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1717  0556  01 FD 7F    	ld	bc,_IO_7FFD
1718  0559  ED 79       	out	(c),a
1719  055B  DD 7E EB    	ld	a,(ix-21)
1720  055E  3C          	inc	a
1721  055F  20 04       	jr	NZ,l_spr_page_map_00255
1722  0561  3E 01       	ld	a,0x01
1723  0563  18 01       	jr	l_spr_page_map_00256
1724  0565              l_spr_page_map_00255:
1725  0565  AF          	xor	a,a
1726  0566              l_spr_page_map_00256:
1727  0566  DD 77 F7    	ld	(ix-9),a
1728  0569  DD 7E EE    	ld	a,(ix-18)
1729  056C  B7          	or	a, a
1730  056D  20 32       	jr	NZ,l_spr_page_map_00110
1731  056F  DD 7E F7    	ld	a,(ix-9)
1732  0572  B7          	or	a, a
1733  0573  28 07       	jr	Z,l_spr_page_map_00106
1734  0575  21 00 00    	ld	hl,_start_scr0
1735  0578  4E          	ld	c, (hl)
1736  0579  DD 71 EB    	ld	(ix-21),c
1737  057C              l_spr_page_map_00106:
1738  057C  01 00 00    	ld	bc,_paper0
1739  057F  DD 6E EB    	ld	l,(ix-21)
1740  0582  26 00       	ld	h,0x00
1741  0584  09          	add	hl,bc
1742  0585  DD 75 FE    	ld	(ix-2),l
1743  0588  DD 74 FF    	ld	(ix-1),h
1744  058B  7E          	ld	a, (hl)
1745  058C  DD 77 FE    	ld	(ix-2),a
1746  058F  3A 00 00    	ld	a,(_world0_w)
1747  0592  DD 77 ED    	ld	(ix-19),a
1748  0595  DD 77 FD    	ld	(ix-3),a
1749  0598  21 00 00    	ld	hl,_world0_h
1750  059B  4E          	ld	c, (hl)
1751  059C  DD 71 F8    	ld	(ix-8),c
1752  059F  18 32       	jr	l_spr_page_map_00111
1753  05A1              l_spr_page_map_00110:
1754  05A1  DD 7E F7    	ld	a,(ix-9)
1755  05A4  B7          	or	a, a
1756  05A5  28 07       	jr	Z,l_spr_page_map_00108
1757  05A7  21 00 00    	ld	hl,_start_scr1
1758  05AA  4E          	ld	c, (hl)
1759  05AB  DD 71 EB    	ld	(ix-21),c
1760  05AE              l_spr_page_map_00108:
1761  05AE  01 00 00    	ld	bc,_paper1
1762  05B1  DD 6E EB    	ld	l,(ix-21)
1763  05B4  26 00       	ld	h,0x00
1764  05B6  09          	add	hl,bc
1765  05B7  DD 75 F9    	ld	(ix-7),l
1766  05BA  DD 74 FA    	ld	(ix-6),h
1767  05BD  7E          	ld	a, (hl)
1768  05BE  DD 77 FE    	ld	(ix-2),a
1769  05C1  3A 00 00    	ld	a,(_world1_w)
1770  05C4  DD 77 ED    	ld	(ix-19),a
1771  05C7  DD 77 FD    	ld	(ix-3),a
1772  05CA  3A 00 00    	ld	a,(_world1_h)
1773  05CD  DD 77 EC    	ld	(ix-20),a
1774  05D0  DD 77 F8    	ld	(ix-8),a
1775  05D3              l_spr_page_map_00111:
1776  05D3  3E 10       	ld	a,0x10
1777  05D5  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1778  05D8  01 FD 7F    	ld	bc,_IO_7FFD
1779  05DB  ED 79       	out	(c),a
1780  05DD  3E 00       	ld	a,0x00
1781  05DF  DD 77 EF    	ld	(ix-17),a
1782  05E2  DD 77 F0    	ld	(ix-16),a
1783  05E5  DD 77 F2    	ld	(ix-14),a
1784  05E8              l_spr_page_map_00115:
1785  05E8  DD 7E F2    	ld	a,(ix-14)
1786  05EB  DD 96 EB    	sub	a,(ix-21)
1787  05EE  30 64       	jr	NC,l_spr_page_map_00117
1788  05F0  3E 16       	ld	a,0x16
1789  05F2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1790  05F5  01 FD 7F    	ld	bc,_IO_7FFD
1791  05F8  ED 79       	out	(c),a
1792  05FA  DD 7E EE    	ld	a,(ix-18)
1793  05FD  B7          	or	a, a
1794  05FE  20 19       	jr	NZ,l_spr_page_map_00113
1795  0600  01 00 00    	ld	bc,_lenght0
1796  0603  DD 6E F2    	ld	l,(ix-14)
1797  0606  26 00       	ld	h,0x00
1798  0608  09          	add	hl,bc
1799  0609  DD 75 F9    	ld	(ix-7),l
1800  060C  DD 74 FA    	ld	(ix-6),h
1801  060F  7E          	ld	a, (hl)
1802  0610  DD 77 F9    	ld	(ix-7),a
1803  0613  DD 36 FA 00 	ld	(ix-6),0x00
1804  0617  18 1A       	jr	l_spr_page_map_00114
1805  0619              l_spr_page_map_00113:
1806  0619  01 00 00    	ld	bc,_lenght1
1807  061C  DD 6E F2    	ld	l,(ix-14)
1808  061F  26 00       	ld	h,0x00
1809  0621  09          	add	hl,bc
1810  0622  DD 75 FB    	ld	(ix-5),l
1811  0625  DD 74 FC    	ld	(ix-4),h
1812  0628  7E          	ld	a, (hl)
1813  0629  DD 77 FB    	ld	(ix-5),a
1814  062C  DD 77 F9    	ld	(ix-7),a
1815  062F  DD 36 FA 00 	ld	(ix-6),0x00
1816  0633              l_spr_page_map_00114:
1817  0633  3E 10       	ld	a,0x10
1818  0635  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1819  0638  01 FD 7F    	ld	bc,_IO_7FFD
1820  063B  ED 79       	out	(c),a
1821  063D  DD 7E EF    	ld	a,(ix-17)
1822  0640  DD 86 F9    	add	a,(ix-7)
1823  0643  DD 77 EF    	ld	(ix-17),a
1824  0646  DD 7E F0    	ld	a,(ix-16)
1825  0649  DD 8E FA    	adc	a,(ix-6)
1826  064C  DD 77 F0    	ld	(ix-16),a
1827  064F  DD 34 F2    	inc	(ix-14)
1828  0652  18 94       	jr	l_spr_page_map_00115
1829  0654              l_spr_page_map_00117:
1830  0654  FB          	ei
1831  0655  F3          	di
1832  0656  DD 36 F3 00 	ld	(ix-13),0x00
1833  065A              l_spr_page_map_00149:
1834  065A  3E 16       	ld	a,0x16
1835  065C  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1836  065F  01 FD 7F    	ld	bc,_IO_7FFD
1837  0662  ED 79       	out	(c),a
1838  0664  DD 7E F3    	ld	a,(ix-13)
1839  0667  DD 77 FB    	ld	(ix-5),a
1840  066A  DD 36 FC 00 	ld	(ix-4),0x00
1841  066E  DD 7E EF    	ld	a,(ix-17)
1842  0671  DD 86 FB    	add	a,(ix-5)
1843  0674  DD 77 FB    	ld	(ix-5),a
1844  0677  DD 7E F0    	ld	a,(ix-16)
1845  067A  DD 8E FC    	adc	a,(ix-4)
1846  067D  DD 77 FC    	ld	(ix-4),a
1847  0680  DD 7E FB    	ld	a,(ix-5)
1848  0683  C6 01       	add	a,0x01
1849  0685  DD 77 F9    	ld	(ix-7),a
1850  0688  DD 7E FC    	ld	a,(ix-4)
1851  068B  CE 00       	adc	a,0x00
1852  068D  DD 77 FA    	ld	(ix-6),a
1853  0690  DD 7E EE    	ld	a,(ix-18)
1854  0693  B7          	or	a, a
1855  0694  20 1E       	jr	NZ,l_spr_page_map_00119
1856  0696  01 00 00    	ld	bc,_world0
1857  0699  DD 6E FB    	ld	l,(ix-5)
1858  069C  DD 66 FC    	ld	h,(ix-4)
1859  069F  09          	add	hl,bc
1860  06A0  7E          	ld	a, (hl)
1861  06A1  DD 77 F6    	ld	(ix-10),a
1862  06A4  01 00 00    	ld	bc,_world0
1863  06A7  DD 6E F9    	ld	l,(ix-7)
1864  06AA  DD 66 FA    	ld	h,(ix-6)
1865  06AD  09          	add	hl,bc
1866  06AE  7E          	ld	a, (hl)
1867  06AF  DD 77 F5    	ld	(ix-11),a
1868  06B2  18 1C       	jr	l_spr_page_map_00120
1869  06B4              l_spr_page_map_00119:
1870  06B4  01 00 00    	ld	bc,_world1
1871  06B7  DD 6E FB    	ld	l,(ix-5)
1872  06BA  DD 66 FC    	ld	h,(ix-4)
1873  06BD  09          	add	hl,bc
1874  06BE  7E          	ld	a, (hl)
1875  06BF  DD 77 F6    	ld	(ix-10),a
1876  06C2  01 00 00    	ld	bc,_world1
1877  06C5  DD 6E F9    	ld	l,(ix-7)
1878  06C8  DD 66 FA    	ld	h,(ix-6)
1879  06CB  09          	add	hl,bc
1880  06CC  7E          	ld	a, (hl)
1881  06CD  DD 77 F5    	ld	(ix-11),a
1882  06D0              l_spr_page_map_00120:
1883  06D0  3E 10       	ld	a,0x10
1884  06D2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1885  06D5  01 FD 7F    	ld	bc,_IO_7FFD
1886  06D8  ED 79       	out	(c),a
1887  06DA  DD 7E F6    	ld	a,(ix-10)
1888  06DD  D6 80       	sub	a,0x80
1889  06DF  30 42       	jr	NC,l_spr_page_map_00131
1890  06E1  DD 7E F1    	ld	a,(ix-15)
1891  06E4  DD 77 FB    	ld	(ix-5),a
1892  06E7  6F          	ld	l, a
1893  06E8  26 00       	ld	h,0x00
1894  06EA  DD 74 FC    	ld	(ix-4),h
1895  06ED  E5          	push	hl
1896  06EE  CD 00 00    	call	_game_obj_chk
1897  06F1  F1          	pop	af
1898  06F2  DD 75 FB    	ld	(ix-5),l
1899  06F5  3E 00       	ld	a, +((_scr_map) & 0xFF)
1900  06F7  DD 86 F1    	add	a,(ix-15)
1901  06FA  DD 77 F9    	ld	(ix-7),a
1902  06FD  3E 00       	ld	a, +((_scr_map) / 256)
1903  06FF  CE 00       	adc	a,0x00
1904  0701  DD 77 FA    	ld	(ix-6),a
1905  0704  DD 7E FB    	ld	a,(ix-5)
1906  0707  B7          	or	a, a
1907  0708  20 0C       	jr	NZ,l_spr_page_map_00122
1908  070A  DD 6E F9    	ld	l,(ix-7)
1909  070D  DD 66 FA    	ld	h,(ix-6)
1910  0710  DD 7E F6    	ld	a,(ix-10)
1911  0713  77          	ld	(hl), a
1912  0714  18 08       	jr	l_spr_page_map_00123
1913  0716              l_spr_page_map_00122:
1914  0716  DD 6E F9    	ld	l,(ix-7)
1915  0719  DD 66 FA    	ld	h,(ix-6)
1916  071C  36 00       	ld	(hl),0x00
1917  071E              l_spr_page_map_00123:
1918  071E  DD 34 F1    	inc	(ix-15)
1919  0721  18 6D       	jr	l_spr_page_map_00132
1920  0723              l_spr_page_map_00131:
1921  0723  DD 7E F6    	ld	a,(ix-10)
1922  0726  C6 80       	add	a,0x80
1923  0728  DD 77 F4    	ld	(ix-12),a
1924  072B  DD 7E F1    	ld	a,(ix-15)
1925  072E  DD 77 FB    	ld	(ix-5),a
1926  0731  DD 36 F2 00 	ld	(ix-14),0x00
1927  0735              l_spr_page_map_00147:
1928  0735  DD 7E F2    	ld	a,(ix-14)
1929  0738  DD 96 F4    	sub	a,(ix-12)
1930  073B  30 4A       	jr	NC,l_spr_page_map_00181
1931  073D  DD 7E FB    	ld	a,(ix-5)
1932  0740  DD 77 F9    	ld	(ix-7),a
1933  0743  6F          	ld	l, a
1934  0744  26 00       	ld	h,0x00
1935  0746  DD 74 FA    	ld	(ix-6),h
1936  0749  E5          	push	hl
1937  074A  CD 00 00    	call	_game_obj_chk
1938  074D  F1          	pop	af
1939  074E  7D          	ld	a, l
1940  074F  B7          	or	a, a
1941  0750  20 15       	jr	NZ,l_spr_page_map_00125
1942  0752  01 00 00    	ld	bc,_scr_map
1943  0755  DD 6E FB    	ld	l,(ix-5)
1944  0758  26 00       	ld	h,0x00
1945  075A  09          	add	hl,bc
1946  075B  DD 75 F9    	ld	(ix-7),l
1947  075E  DD 74 FA    	ld	(ix-6),h
1948  0761  DD 7E F5    	ld	a,(ix-11)
1949  0764  77          	ld	(hl), a
1950  0765  18 11       	jr	l_spr_page_map_00126
1951  0767              l_spr_page_map_00125:
1952  0767  01 00 00    	ld	bc,_scr_map
1953  076A  DD 6E FB    	ld	l,(ix-5)
1954  076D  26 00       	ld	h,0x00
1955  076F  09          	add	hl,bc
1956  0770  DD 75 F9    	ld	(ix-7),l
1957  0773  DD 74 FA    	ld	(ix-6),h
1958  0776  36 00       	ld	(hl),0x00
1959  0778              l_spr_page_map_00126:
1960  0778  DD 34 FB    	inc	(ix-5)
1961  077B  DD 7E FB    	ld	a,(ix-5)
1962  077E  D6 A0       	sub	a,0xa0
1963  0780  30 05       	jr	NC,l_spr_page_map_00181
1964  0782  DD 34 F2    	inc	(ix-14)
1965  0785  18 AE       	jr	l_spr_page_map_00147
1966  0787              l_spr_page_map_00181:
1967  0787  DD 7E FB    	ld	a,(ix-5)
1968  078A  DD 77 F1    	ld	(ix-15),a
1969  078D  DD 34 F3    	inc	(ix-13)
1970  0790              l_spr_page_map_00132:
1971  0790  DD 7E F1    	ld	a,(ix-15)
1972  0793  D6 A0       	sub	a,0xa0
1973  0795  30 0B       	jr	NC,l_spr_page_map_00135
1974  0797  DD 34 F3    	inc	(ix-13)
1975  079A  DD 7E F3    	ld	a,(ix-13)
1976  079D  D6 A0       	sub	a,0xa0
1977  079F  DA 5A 06    	jp	C, l_spr_page_map_00149
1978  07A2              l_spr_page_map_00135:
1979  07A2  CD 1A 0E    	call	_spr_init_anim_bullets
1980  07A5  DD 7E EB    	ld	a,(ix-21)
1981  07A8  32 00 00    	ld	(_scr_curr),a
1982  07AB  DD 7E FD    	ld	a,(ix-3)
1983  07AE  32 00 00    	ld	(_map_width),a
1984  07B1  DD 7E F8    	ld	a,(ix-8)
1985  07B4  32 00 00    	ld	(_map_heigth),a
1986  07B7  DD 7E FE    	ld	a,(ix-2)
1987  07BA  32 00 00    	ld	(_map_paper),a
1988  07BD  3A 00 00    	ld	a,(_map_paper_last)
1989  07C0  21 00 00    	ld	hl,_map_paper
1990  07C3  96          	sub	a, (hl)
1991  07C4  28 03       	jr	Z,l_spr_page_map_00137
1992  07C6  CD 5B 16    	call	_spr_btile_paint_back
1993  07C9              l_spr_page_map_00137:
1994  07C9  3A 00 00    	ld	a,(_map_paper)
1995  07CC  32 00 00    	ld	(_map_paper_last),a
1996  07CF  FB          	ei
1997  07D0  CD 00 00    	call	_NIRVANAP_start
1998  07D3  21 00 00    	ld	hl,_screen_ink
1999  07D6  36 06       	ld	(hl),0x06
2000  07D8  21 00 00    	ld	hl,___str_0
2001  07DB  E5          	push	hl
2002  07DC  21 17 0C    	ld	hl,0x0c17
2003  07DF  E5          	push	hl
2004  07E0  CD 00 00    	call	_zx_print_str
2005  07E3  3A 00 00    	ld	a,(_scr_curr)
2006  07E6  F5          	push	af
2007  07E7  33          	inc	sp
2008  07E8  21 17 10    	ld	hl,0x1017
2009  07EB  E5          	push	hl
2010  07EC  CD 00 00    	call	_zx_print_chr
2011  07EF  DD F9       	ld	sp, ix
2012  07F1  DD E1       	pop	ix
2013  07F3  C9          	ret
2014  07F4              	SECTION rodata_compiler
2015  0000              ___str_0:
2016  0000  53 43 52 3A 	DEFM "SCR:"
2017  0004  00          	DEFB 0x00
2018  0005              	SECTION code_compiler
2019  07F4              ;	---------------------------------
2020  07F4              ; Function spr_redraw
2021  07F4              ; ---------------------------------
2022  07F4              _spr_redraw:
2023  07F4  2A 00 00    	ld	hl,(_sprite)
2024  07F7  26 00       	ld	h,0x00
2025  07F9  01 00 00    	ld	bc,_tile
2026  07FC  09          	add	hl,bc
2027  07FD  4E          	ld	c, (hl)
2028  07FE  3A 00 00    	ld	a,(_sprite)
2029  0801  5F          	ld	e,a
2030  0802  16 00       	ld	d,0x00
2031  0804  21 00 00    	ld	hl,_colint
2032  0807  19          	add	hl,de
2033  0808  7E          	ld	a,(hl)
2034  0809  81          	add	a,c
2035  080A  32 00 00    	ld	(_s_tile1),a
2036  080D  2A 00 00    	ld	hl,(_sprite)
2037  0810  26 00       	ld	h,0x00
2038  0812  11 00 00    	ld	de,_col
2039  0815  19          	add	hl,de
2040  0816  7E          	ld	a,(hl)
2041  0817  32 00 00    	ld	(_s_col1),a
2042  081A  2A 00 00    	ld	hl,(_sprite)
2043  081D  26 00       	ld	h,0x00
2044  081F  11 00 00    	ld	de,_lin
2045  0822  19          	add	hl,de
2046  0823  7E          	ld	a,(hl)
2047  0824  21 00 00    	ld	hl,_s_lin1
2048  0827  77          	ld	(hl),a
2049  0828  47          	ld	b,a
2050  0829  7E          	ld	a, (hl)
2051  082A  21 00 00    	ld	hl,_s_lin0
2052  082D  96          	sub	a, (hl)
2053  082E  20 0A       	jr	NZ,l_spr_redraw_00117
2054  0830  3A 00 00    	ld	a,(_s_col1)
2055  0833  21 00 00    	ld	hl,_s_col0
2056  0836  96          	sub	a, (hl)
2057  0837  CA E7 08    	jp	Z,l_spr_redraw_00118
2058  083A              l_spr_redraw_00117:
2059  083A  3A 00 00    	ld	a,(_sprite)
2060  083D  D6 07       	sub	a,0x07
2061  083F  20 34       	jr	NZ,l_spr_redraw_00113
2062  0841  3A 00 00    	ld	a,(_player_over_stair)
2063  0844  B7          	or	a, a
2064  0845  28 29       	jr	Z,l_spr_redraw_00104
2065  0847  78          	ld	a, b
2066  0848  E6 03       	and	a,0x03
2067  084A  20 24       	jr	NZ,l_spr_redraw_00104
2068  084C  21 00 00    	ld	hl,_player_anim_stair
2069  084F  34          	inc	(hl)
2070  0850  20 02       	jr	NZ,l_spr_redraw_00162
2071  0852  23          	inc	hl
2072  0853  34          	inc	(hl)
2073  0854              l_spr_redraw_00162:
2074  0854  3E 01       	ld	a,0x01
2075  0856  21 00 00    	ld	hl,_player_anim_stair
2076  0859  BE          	cp	a, (hl)
2077  085A  3E 00       	ld	a,0x00
2078  085C  23          	inc	hl
2079  085D  9E          	sbc	a, (hl)
2080  085E  30 05       	jr	NC,l_spr_redraw_00102
2081  0860  2B          	dec	hl
2082  0861  AF          	xor	a, a
2083  0862  77          	ld	(hl), a
2084  0863  23          	inc	hl
2085  0864  77          	ld	(hl), a
2086  0865              l_spr_redraw_00102:
2087  0865  21 00 00    	ld	hl,_player_anim_stair
2088  0868  46          	ld	b, (hl)
2089  0869  79          	ld	a, c
2090  086A  80          	add	a, b
2091  086B  C6 04       	add	a,0x04
2092  086D  32 00 00    	ld	(_s_tile1),a
2093  0870              l_spr_redraw_00104:
2094  0870  CD 72 0C    	call	_spr_back_repaint
2095  0873  18 5B       	jr	l_spr_redraw_00114
2096  0875              l_spr_redraw_00113:
2097  0875  3A 00 00    	ld	a,(_s_lin1)
2098  0878  E6 07       	and	a,0x07
2099  087A  20 05       	jr	NZ,l_spr_redraw_00110
2100  087C  CD 72 0C    	call	_spr_back_repaint
2101  087F  18 4F       	jr	l_spr_redraw_00114
2102  0881              l_spr_redraw_00110:
2103  0881  21 00 00    	ld	hl,_s_state
2104  0884  CB 46       	bit	0, (hl)
2105  0886  28 26       	jr	Z,l_spr_redraw_00107
2106  0888  3A 00 00    	ld	a,(_s_lin0)
2107  088B  C6 08       	add	a,0x08
2108  088D  47          	ld	b, a
2109  088E  3A 00 00    	ld	a,(_s_col0)
2110  0891  F5          	push	af
2111  0892  33          	inc	sp
2112  0893  C5          	push	bc
2113  0894  33          	inc	sp
2114  0895  3A 00 00    	ld	a,(_map_paper_clr)
2115  0898  F5          	push	af
2116  0899  33          	inc	sp
2117  089A  CD 00 00    	call	_NIRVANAP_fillC_callee
2118  089D  21 00 00    	ld	hl,_s_col0
2119  08A0  56          	ld	d, (hl)
2120  08A1  14          	inc	d
2121  08A2  58          	ld	e,b
2122  08A3  3A 00 00    	ld	a,(_map_paper_clr)
2123  08A6  D5          	push	de
2124  08A7  F5          	push	af
2125  08A8  33          	inc	sp
2126  08A9  CD 00 00    	call	_NIRVANAP_fillC_callee
2127  08AC  18 22       	jr	l_spr_redraw_00114
2128  08AE              l_spr_redraw_00107:
2129  08AE  2A FF FF    	ld	hl,(_s_col0 - 1)
2130  08B1  3A 00 00    	ld	a,(_s_lin0)
2131  08B4  6F          	ld	l,a
2132  08B5  3A 00 00    	ld	a,(_map_paper_clr)
2133  08B8  E5          	push	hl
2134  08B9  F5          	push	af
2135  08BA  33          	inc	sp
2136  08BB  CD 00 00    	call	_NIRVANAP_fillC_callee
2137  08BE  21 00 00    	ld	hl,_s_col0
2138  08C1  46          	ld	b, (hl)
2139  08C2  04          	inc	b
2140  08C3  C5          	push	bc
2141  08C4  33          	inc	sp
2142  08C5  2A FF FF    	ld	hl,(_s_lin0 - 1)
2143  08C8  3A 00 00    	ld	a,(_map_paper_clr)
2144  08CB  6F          	ld	l,a
2145  08CC  E5          	push	hl
2146  08CD  CD 00 00    	call	_NIRVANAP_fillC_callee
2147  08D0              l_spr_redraw_00114:
2148  08D0  2A FF FF    	ld	hl,(_s_col1 - 1)
2149  08D3  3A 00 00    	ld	a,(_s_lin1)
2150  08D6  6F          	ld	l,a
2151  08D7  E5          	push	hl
2152  08D8  2A FF FF    	ld	hl,(_s_tile1 - 1)
2153  08DB  3A 00 00    	ld	a,(_sprite)
2154  08DE  6F          	ld	l,a
2155  08DF  E5          	push	hl
2156  08E0  CD 00 00    	call	_NIRVANAP_spriteT_callee
2157  08E3  2E 01       	ld	l,0x01
2158  08E5  18 22       	jr	l_spr_redraw_00121
2159  08E7              l_spr_redraw_00118:
2160  08E7  3A 00 00    	ld	a,(_s_tile1)
2161  08EA  21 00 00    	ld	hl,_s_tile0
2162  08ED  96          	sub	a, (hl)
2163  08EE  28 17       	jr	Z,l_spr_redraw_00119
2164  08F0  2A FF FF    	ld	hl,(_s_col1 - 1)
2165  08F3  3A 00 00    	ld	a,(_s_lin1)
2166  08F6  6F          	ld	l,a
2167  08F7  E5          	push	hl
2168  08F8  2A FF FF    	ld	hl,(_s_tile1 - 1)
2169  08FB  3A 00 00    	ld	a,(_sprite)
2170  08FE  6F          	ld	l,a
2171  08FF  E5          	push	hl
2172  0900  CD 00 00    	call	_NIRVANAP_spriteT_callee
2173  0903  2E 00       	ld	l,0x00
2174  0905  18 02       	jr	l_spr_redraw_00121
2175  0907              l_spr_redraw_00119:
2176  0907  2E 00       	ld	l,0x00
2177  0909              l_spr_redraw_00121:
2178  0909  C9          	ret
2179  090A              	SECTION code_compiler
2180  090A              ;	---------------------------------
2181  090A              ; Function spr_destroy
2182  090A              ; ---------------------------------
2183  090A              _spr_destroy:
2184  090A  CD 00 00    	call	___sdcc_enter_ix
2185  090D  F5          	push	af
2186  090E  4D          	ld	c, l
2187  090F  21 00 00    	ld	hl,_spr_count
2188  0912  35          	dec	(hl)
2189  0913  3E 00       	ld	a, +((_lin) & 0xFF)
2190  0915  81          	add	a, c
2191  0916  DD 77 FE    	ld	(ix-2),a
2192  0919  3E 00       	ld	a, +((_lin) / 256)
2193  091B  CE 00       	adc	a,0x00
2194  091D  DD 77 FF    	ld	(ix-1),a
2195  0920  E1          	pop	hl
2196  0921  7E          	ld	a,(hl)
2197  0922  E5          	push	hl
2198  0923  32 00 00    	ld	(_s_lin0),a
2199  0926  3E 00       	ld	a, +((_col) & 0xFF)
2200  0928  81          	add	a, c
2201  0929  5F          	ld	e, a
2202  092A  3E 00       	ld	a, +((_col) / 256)
2203  092C  CE 00       	adc	a,0x00
2204  092E  57          	ld	d, a
2205  092F  1A          	ld	a, (de)
2206  0930  32 00 00    	ld	(_s_col0),a
2207  0933  C5          	push	bc
2208  0934  D5          	push	de
2209  0935  21 00 00    	ld	hl,0x0000
2210  0938  E5          	push	hl
2211  0939  AF          	xor	a, a
2212  093A  F5          	push	af
2213  093B  33          	inc	sp
2214  093C  79          	ld	a, c
2215  093D  F5          	push	af
2216  093E  33          	inc	sp
2217  093F  CD 00 00    	call	_NIRVANAP_spriteT_callee
2218  0942  CD 72 0C    	call	_spr_back_repaint
2219  0945  D1          	pop	de
2220  0946  C1          	pop	bc
2221  0947  06 00       	ld	b,0x00
2222  0949  21 00 00    	ld	hl,_tile
2223  094C  09          	add	hl, bc
2224  094D  AF          	xor	a,a
2225  094E  77          	ld	(hl),a
2226  094F  E1          	pop	hl
2227  0950  12          	ld	(de),a
2228  0951  E5          	push	hl
2229  0952  36 00       	ld	(hl),0x00
2230  0954  11 00 00    	ld	de,_class+0
2231  0957  69          	ld	l,c
2232  0958  26 00       	ld	h,0x00
2233  095A  19          	add	hl, de
2234  095B  36 00       	ld	(hl),0x00
2235  095D  11 00 00    	ld	de,_state+0
2236  0960  69          	ld	l,c
2237  0961  26 00       	ld	h,0x00
2238  0963  19          	add	hl, de
2239  0964  36 00       	ld	(hl),0x00
2240  0966  11 00 00    	ld	de,_state_a+0
2241  0969  69          	ld	l,c
2242  096A  26 00       	ld	h,0x00
2243  096C  19          	add	hl, de
2244  096D  F1          	pop	af
2245  096E  36 00       	ld	(hl),0x00
2246  0970  DD E1       	pop	ix
2247  0972  C9          	ret
2248  0973              	SECTION code_compiler
2249  0973              ;	---------------------------------
2250  0973              ; Function spr_tile
2251  0973              ; ---------------------------------
2252  0973              _spr_tile:
2253  0973  45          	ld	b,l
2254  0974  11 00 00    	ld	de,_class+0
2255  0977  26 00       	ld	h,0x00
2256  0979  19          	add	hl, de
2257  097A  5E          	ld	e, (hl)
2258  097B  3E 13       	ld	a,0x13
2259  097D  93          	sub	a, e
2260  097E  DA B1 0A    	jp	C, l_spr_tile_00116
2261  0981  16 00       	ld	d,0x00
2262  0983  21 8A 09    	ld	hl,l_spr_tile_00123
2263  0986  19          	add	hl, de
2264  0987  19          	add	hl, de
2265  0988  19          	add	hl, de
2266  0989  E9          	jp	(hl)
2267  098A              l_spr_tile_00123:
2268  098A  C3 B1 0A    	jp	l_spr_tile_00116
2269  098D  C3 B1 0A    	jp	l_spr_tile_00116
2270  0990  C3 18 0A    	jp	l_spr_tile_00106
2271  0993  C3 29 0A    	jp	l_spr_tile_00107
2272  0996  C3 39 0A    	jp	l_spr_tile_00108
2273  0999  C3 48 0A    	jp	l_spr_tile_00109
2274  099C  C3 84 0A    	jp	l_spr_tile_00113
2275  099F  C3 93 0A    	jp	l_spr_tile_00114
2276  09A2  C3 A2 0A    	jp	l_spr_tile_00115
2277  09A5  C3 B1 0A    	jp	l_spr_tile_00116
2278  09A8  C3 B1 0A    	jp	l_spr_tile_00116
2279  09AB  C3 C6 09    	jp	l_spr_tile_00101
2280  09AE  C3 D6 09    	jp	l_spr_tile_00102
2281  09B1  C3 E6 09    	jp	l_spr_tile_00103
2282  09B4  C3 F7 09    	jp	l_spr_tile_00104
2283  09B7  C3 07 0A    	jp	l_spr_tile_00105
2284  09BA  C3 57 0A    	jp	l_spr_tile_00110
2285  09BD  C3 B1 0A    	jp	l_spr_tile_00116
2286  09C0  C3 66 0A    	jp	l_spr_tile_00111
2287  09C3  C3 75 0A    	jp	l_spr_tile_00112
2288  09C6              l_spr_tile_00101:
2289  09C6  AF          	xor	a, a
2290  09C7  48          	ld	c,b
2291  09C8  47          	ld	b,a
2292  09C9  C5          	push	bc
2293  09CA  3E 90       	ld	a,0x90
2294  09CC  F5          	push	af
2295  09CD  33          	inc	sp
2296  09CE  CD B4 0A    	call	_spr_tile_dir
2297  09D1  F1          	pop	af
2298  09D2  33          	inc	sp
2299  09D3  C3 B3 0A    	jp	l_spr_tile_00117
2300  09D6              l_spr_tile_00102:
2301  09D6  AF          	xor	a, a
2302  09D7  48          	ld	c,b
2303  09D8  47          	ld	b,a
2304  09D9  C5          	push	bc
2305  09DA  3E 94       	ld	a,0x94
2306  09DC  F5          	push	af
2307  09DD  33          	inc	sp
2308  09DE  CD B4 0A    	call	_spr_tile_dir
2309  09E1  F1          	pop	af
2310  09E2  33          	inc	sp
2311  09E3  C3 B3 0A    	jp	l_spr_tile_00117
2312  09E6              l_spr_tile_00103:
2313  09E6  3E 02       	ld	a,0x02
2314  09E8  48          	ld	c,b
2315  09E9  47          	ld	b,a
2316  09EA  C5          	push	bc
2317  09EB  3E 98       	ld	a,0x98
2318  09ED  F5          	push	af
2319  09EE  33          	inc	sp
2320  09EF  CD B4 0A    	call	_spr_tile_dir
2321  09F2  F1          	pop	af
2322  09F3  33          	inc	sp
2323  09F4  C3 B3 0A    	jp	l_spr_tile_00117
2324  09F7              l_spr_tile_00104:
2325  09F7  AF          	xor	a, a
2326  09F8  48          	ld	c,b
2327  09F9  47          	ld	b,a
2328  09FA  C5          	push	bc
2329  09FB  3E 9C       	ld	a,0x9c
2330  09FD  F5          	push	af
2331  09FE  33          	inc	sp
2332  09FF  CD B4 0A    	call	_spr_tile_dir
2333  0A02  F1          	pop	af
2334  0A03  33          	inc	sp
2335  0A04  C3 B3 0A    	jp	l_spr_tile_00117
2336  0A07              l_spr_tile_00105:
2337  0A07  3E 04       	ld	a,0x04
2338  0A09  48          	ld	c,b
2339  0A0A  47          	ld	b,a
2340  0A0B  C5          	push	bc
2341  0A0C  3E A0       	ld	a,0xa0
2342  0A0E  F5          	push	af
2343  0A0F  33          	inc	sp
2344  0A10  CD B4 0A    	call	_spr_tile_dir
2345  0A13  F1          	pop	af
2346  0A14  33          	inc	sp
2347  0A15  C3 B3 0A    	jp	l_spr_tile_00117
2348  0A18              l_spr_tile_00106:
2349  0A18  3E 02       	ld	a,0x02
2350  0A1A  48          	ld	c,b
2351  0A1B  47          	ld	b,a
2352  0A1C  C5          	push	bc
2353  0A1D  3E A8       	ld	a,0xa8
2354  0A1F  F5          	push	af
2355  0A20  33          	inc	sp
2356  0A21  CD B4 0A    	call	_spr_tile_dir
2357  0A24  F1          	pop	af
2358  0A25  33          	inc	sp
2359  0A26  C3 B3 0A    	jp	l_spr_tile_00117
2360  0A29              l_spr_tile_00107:
2361  0A29  AF          	xor	a, a
2362  0A2A  48          	ld	c,b
2363  0A2B  47          	ld	b,a
2364  0A2C  C5          	push	bc
2365  0A2D  3E AC       	ld	a,0xac
2366  0A2F  F5          	push	af
2367  0A30  33          	inc	sp
2368  0A31  CD B4 0A    	call	_spr_tile_dir
2369  0A34  F1          	pop	af
2370  0A35  33          	inc	sp
2371  0A36  C3 B3 0A    	jp	l_spr_tile_00117
2372  0A39              l_spr_tile_00108:
2373  0A39  AF          	xor	a, a
2374  0A3A  48          	ld	c,b
2375  0A3B  47          	ld	b,a
2376  0A3C  C5          	push	bc
2377  0A3D  3E AE       	ld	a,0xae
2378  0A3F  F5          	push	af
2379  0A40  33          	inc	sp
2380  0A41  CD B4 0A    	call	_spr_tile_dir
2381  0A44  F1          	pop	af
2382  0A45  33          	inc	sp
2383  0A46  18 6B       	jr	l_spr_tile_00117
2384  0A48              l_spr_tile_00109:
2385  0A48  AF          	xor	a, a
2386  0A49  48          	ld	c,b
2387  0A4A  47          	ld	b,a
2388  0A4B  C5          	push	bc
2389  0A4C  3E B0       	ld	a,0xb0
2390  0A4E  F5          	push	af
2391  0A4F  33          	inc	sp
2392  0A50  CD B4 0A    	call	_spr_tile_dir
2393  0A53  F1          	pop	af
2394  0A54  33          	inc	sp
2395  0A55  18 5C       	jr	l_spr_tile_00117
2396  0A57              l_spr_tile_00110:
2397  0A57  AF          	xor	a, a
2398  0A58  48          	ld	c,b
2399  0A59  47          	ld	b,a
2400  0A5A  C5          	push	bc
2401  0A5B  3E B2       	ld	a,0xb2
2402  0A5D  F5          	push	af
2403  0A5E  33          	inc	sp
2404  0A5F  CD B4 0A    	call	_spr_tile_dir
2405  0A62  F1          	pop	af
2406  0A63  33          	inc	sp
2407  0A64  18 4D       	jr	l_spr_tile_00117
2408  0A66              l_spr_tile_00111:
2409  0A66  AF          	xor	a, a
2410  0A67  48          	ld	c,b
2411  0A68  47          	ld	b,a
2412  0A69  C5          	push	bc
2413  0A6A  3E B4       	ld	a,0xb4
2414  0A6C  F5          	push	af
2415  0A6D  33          	inc	sp
2416  0A6E  CD B4 0A    	call	_spr_tile_dir
2417  0A71  F1          	pop	af
2418  0A72  33          	inc	sp
2419  0A73  18 3E       	jr	l_spr_tile_00117
2420  0A75              l_spr_tile_00112:
2421  0A75  AF          	xor	a, a
2422  0A76  48          	ld	c,b
2423  0A77  47          	ld	b,a
2424  0A78  C5          	push	bc
2425  0A79  3E B6       	ld	a,0xb6
2426  0A7B  F5          	push	af
2427  0A7C  33          	inc	sp
2428  0A7D  CD B4 0A    	call	_spr_tile_dir
2429  0A80  F1          	pop	af
2430  0A81  33          	inc	sp
2431  0A82  18 2F       	jr	l_spr_tile_00117
2432  0A84              l_spr_tile_00113:
2433  0A84  AF          	xor	a, a
2434  0A85  48          	ld	c,b
2435  0A86  47          	ld	b,a
2436  0A87  C5          	push	bc
2437  0A88  3E C0       	ld	a,0xc0
2438  0A8A  F5          	push	af
2439  0A8B  33          	inc	sp
2440  0A8C  CD B4 0A    	call	_spr_tile_dir
2441  0A8F  F1          	pop	af
2442  0A90  33          	inc	sp
2443  0A91  18 20       	jr	l_spr_tile_00117
2444  0A93              l_spr_tile_00114:
2445  0A93  AF          	xor	a, a
2446  0A94  48          	ld	c,b
2447  0A95  47          	ld	b,a
2448  0A96  C5          	push	bc
2449  0A97  3E C2       	ld	a,0xc2
2450  0A99  F5          	push	af
2451  0A9A  33          	inc	sp
2452  0A9B  CD B4 0A    	call	_spr_tile_dir
2453  0A9E  F1          	pop	af
2454  0A9F  33          	inc	sp
2455  0AA0  18 11       	jr	l_spr_tile_00117
2456  0AA2              l_spr_tile_00115:
2457  0AA2  AF          	xor	a, a
2458  0AA3  48          	ld	c,b
2459  0AA4  47          	ld	b,a
2460  0AA5  C5          	push	bc
2461  0AA6  3E C4       	ld	a,0xc4
2462  0AA8  F5          	push	af
2463  0AA9  33          	inc	sp
2464  0AAA  CD B4 0A    	call	_spr_tile_dir
2465  0AAD  F1          	pop	af
2466  0AAE  33          	inc	sp
2467  0AAF  18 02       	jr	l_spr_tile_00117
2468  0AB1              l_spr_tile_00116:
2469  0AB1  2E 00       	ld	l,0x00
2470  0AB3              l_spr_tile_00117:
2471  0AB3  C9          	ret
2472  0AB4              	SECTION code_compiler
2473  0AB4              ;	---------------------------------
2474  0AB4              ; Function spr_tile_dir
2475  0AB4              ; ---------------------------------
2476  0AB4              _spr_tile_dir:
2477  0AB4  CD 00 00    	call	___sdcc_enter_ix
2478  0AB7  3E 00       	ld	a, +((_state) & 0xFF)
2479  0AB9  DD 86 05    	add	a,(ix+5)
2480  0ABC  4F          	ld	c, a
2481  0ABD  3E 00       	ld	a, +((_state) / 256)
2482  0ABF  CE 00       	adc	a,0x00
2483  0AC1  47          	ld	b, a
2484  0AC2  0A          	ld	a, (bc)
2485  0AC3  4F          	ld	c,a
2486  0AC4  CB 57       	bit	2,a
2487  0AC6  28 05       	jr	Z,l_spr_tile_dir_00102
2488  0AC8  DD 6E 04    	ld	l,(ix+4)
2489  0ACB  18 2D       	jr	l_spr_tile_dir_00109
2490  0ACD              l_spr_tile_dir_00102:
2491  0ACD  DD 7E 04    	ld	a,(ix+4)
2492  0AD0  DD 86 06    	add	a,(ix+6)
2493  0AD3  47          	ld	b, a
2494  0AD4  CB 59       	bit	3, c
2495  0AD6  28 03       	jr	Z,l_spr_tile_dir_00104
2496  0AD8  68          	ld	l, b
2497  0AD9  18 1F       	jr	l_spr_tile_dir_00109
2498  0ADB              l_spr_tile_dir_00104:
2499  0ADB  3E 00       	ld	a, +((_state_a) & 0xFF)
2500  0ADD  DD 86 05    	add	a,(ix+5)
2501  0AE0  5F          	ld	e, a
2502  0AE1  3E 00       	ld	a, +((_state_a) / 256)
2503  0AE3  CE 00       	adc	a,0x00
2504  0AE5  57          	ld	d, a
2505  0AE6  1A          	ld	a, (de)
2506  0AE7  CB 67       	bit	4, a
2507  0AE9  28 05       	jr	Z,l_spr_tile_dir_00106
2508  0AEB  DD 6E 04    	ld	l,(ix+4)
2509  0AEE  18 0A       	jr	l_spr_tile_dir_00109
2510  0AF0              l_spr_tile_dir_00106:
2511  0AF0  CB 5F       	bit	3, a
2512  0AF2  28 03       	jr	Z,l_spr_tile_dir_00108
2513  0AF4  68          	ld	l, b
2514  0AF5  18 03       	jr	l_spr_tile_dir_00109
2515  0AF7              l_spr_tile_dir_00108:
2516  0AF7  DD 6E 04    	ld	l,(ix+4)
2517  0AFA              l_spr_tile_dir_00109:
2518  0AFA  DD E1       	pop	ix
2519  0AFC  C9          	ret
2520  0AFD              	SECTION code_compiler
2521  0AFD              ;	---------------------------------
2522  0AFD              ; Function spr_brick_anim
2523  0AFD              ; ---------------------------------
2524  0AFD              _spr_brick_anim:
2525  0AFD  CD 00 00    	call	___sdcc_enter_ix
2526  0B00  F5          	push	af
2527  0B01  3B          	dec	sp
2528  0B02  4D          	ld	c, l
2529  0B03  21 00 00    	ld	hl,_player_hit_col
2530  0B06  56          	ld	d, (hl)
2531  0B07  21 00 00    	ld	hl,_player_hit_lin
2532  0B0A  5E          	ld	e, (hl)
2533  0B0B  C5          	push	bc
2534  0B0C  D5          	push	de
2535  0B0D  D5          	push	de
2536  0B0E  CD 00 00    	call	_spr_calc_index
2537  0B11  F1          	pop	af
2538  0B12  DD 74 FF    	ld	(ix-1),h
2539  0B15  DD 75 FE    	ld	(ix-2),l
2540  0B18  D1          	pop	de
2541  0B19  C1          	pop	bc
2542  0B1A  DD 6E FE    	ld	l,(ix-2)
2543  0B1D  DD 66 FF    	ld	h,(ix-1)
2544  0B20  22 00 00    	ld	(_index1),hl
2545  0B23  21 00 00    	ld	hl,_index1
2546  0B26  7E          	ld	a, (hl)
2547  0B27  C6 F0       	add	a,0xf0
2548  0B29  DD 77 FE    	ld	(ix-2),a
2549  0B2C  23          	inc	hl
2550  0B2D  7E          	ld	a, (hl)
2551  0B2E  CE FF       	adc	a,0xff
2552  0B30  DD 77 FF    	ld	(ix-1),a
2553  0B33  3E 00       	ld	a, +((_scr_map) & 0xFF)
2554  0B35  DD 86 FE    	add	a,(ix-2)
2555  0B38  6F          	ld	l, a
2556  0B39  3E 00       	ld	a, +((_scr_map) / 256)
2557  0B3B  DD 8E FF    	adc	a,(ix-1)
2558  0B3E  67          	ld	h, a
2559  0B3F  7E          	ld	a, (hl)
2560  0B40  DD 77 FD    	ld	(ix-3),a
2561  0B43  3E 00       	ld	a, +((_scr_map) & 0xFF)
2562  0B45  21 00 00    	ld	hl,_index1
2563  0B48  86          	add	a, (hl)
2564  0B49  DD 77 FE    	ld	(ix-2),a
2565  0B4C  3E 00       	ld	a, +((_scr_map) / 256)
2566  0B4E  23          	inc	hl
2567  0B4F  8E          	adc	a, (hl)
2568  0B50  DD 6E FE    	ld	l,(ix-2)
2569  0B53  DD 77 FF    	ld	(ix-1),a
2570  0B56  67          	ld	h,a
2571  0B57  46          	ld	b, (hl)
2572  0B58  79          	ld	a, c
2573  0B59  B7          	or	a, a
2574  0B5A  28 08       	jr	Z,l_spr_brick_anim_00102
2575  0B5C  7B          	ld	a, e
2576  0B5D  C6 F6       	add	a,0xf6
2577  0B5F  32 00 00    	ld	(_tmp),a
2578  0B62  18 06       	jr	l_spr_brick_anim_00103
2579  0B64              l_spr_brick_anim_00102:
2580  0B64  7B          	ld	a, e
2581  0B65  C6 F8       	add	a,0xf8
2582  0B67  32 00 00    	ld	(_tmp),a
2583  0B6A              l_spr_brick_anim_00103:
2584  0B6A  F3          	di
2585  0B6B  79          	ld	a, c
2586  0B6C  B7          	or	a, a
2587  0B6D  28 1A       	jr	Z,l_spr_brick_anim_00105
2588  0B6F  3A 00 00    	ld	a,(_map_paper_clr)
2589  0B72  C5          	push	bc
2590  0B73  D5          	push	de
2591  0B74  D5          	push	de
2592  0B75  F5          	push	af
2593  0B76  33          	inc	sp
2594  0B77  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2595  0B7A  D1          	pop	de
2596  0B7B  C1          	pop	bc
2597  0B7C  D5          	push	de
2598  0B7D  33          	inc	sp
2599  0B7E  3A 00 00    	ld	a,(_tmp)
2600  0B81  48          	ld	c,b
2601  0B82  47          	ld	b,a
2602  0B83  C5          	push	bc
2603  0B84  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2604  0B87  18 1E       	jr	l_spr_brick_anim_00106
2605  0B89              l_spr_brick_anim_00105:
2606  0B89  3A 00 00    	ld	a,(_tmp)
2607  0B8C  C6 F0       	add	a,0xf0
2608  0B8E  C5          	push	bc
2609  0B8F  D5          	push	de
2610  0B90  5F          	ld	e,a
2611  0B91  D5          	push	de
2612  0B92  DD 7E FD    	ld	a,(ix-3)
2613  0B95  F5          	push	af
2614  0B96  33          	inc	sp
2615  0B97  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2616  0B9A  D1          	pop	de
2617  0B9B  C1          	pop	bc
2618  0B9C  D5          	push	de
2619  0B9D  33          	inc	sp
2620  0B9E  3A 00 00    	ld	a,(_tmp)
2621  0BA1  48          	ld	c,b
2622  0BA2  47          	ld	b,a
2623  0BA3  C5          	push	bc
2624  0BA4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2625  0BA7              l_spr_brick_anim_00106:
2626  0BA7  FB          	ei
2627  0BA8  DD F9       	ld	sp, ix
2628  0BAA  DD E1       	pop	ix
2629  0BAC  C9          	ret
2630  0BAD              	SECTION code_compiler
2631  0BAD              ;	---------------------------------
2632  0BAD              ; Function spr_draw_index
2633  0BAD              ; ---------------------------------
2634  0BAD              _spr_draw_index:
2635  0BAD  CD 00 00    	call	___sdcc_enter_ix
2636  0BB0  DD 4E 04    	ld	c,(ix+4)
2637  0BB3  79          	ld	a, c
2638  0BB4  E6 0F       	and	a,0x0f
2639  0BB6  87          	add	a, a
2640  0BB7  32 00 00    	ld	(_s_col1),a
2641  0BBA  21 00 00    	ld	hl,_s_lin1
2642  0BBD  71          	ld	(hl),c
2643  0BBE  79          	ld	a,c
2644  0BBF  07          	rlca
2645  0BC0  07          	rlca
2646  0BC1  07          	rlca
2647  0BC2  07          	rlca
2648  0BC3  E6 0F       	and	a,0x0f
2649  0BC5  07          	rlca
2650  0BC6  07          	rlca
2651  0BC7  07          	rlca
2652  0BC8  07          	rlca
2653  0BC9  E6 F0       	and	a,0xf0
2654  0BCB  77          	ld	(hl), a
2655  0BCC  F3          	di
2656  0BCD  3E 00       	ld	a, +((_scr_map) & 0xFF)
2657  0BCF  DD 86 04    	add	a,(ix+4)
2658  0BD2  4F          	ld	c, a
2659  0BD3  3E 00       	ld	a, +((_scr_map) / 256)
2660  0BD5  DD 8E 05    	adc	a,(ix+5)
2661  0BD8  47          	ld	b, a
2662  0BD9  0A          	ld	a, (bc)
2663  0BDA  47          	ld	b, a
2664  0BDB  3A 00 00    	ld	a,(_s_col1)
2665  0BDE  F5          	push	af
2666  0BDF  33          	inc	sp
2667  0BE0  3A 00 00    	ld	a,(_s_lin1)
2668  0BE3  48          	ld	c,b
2669  0BE4  47          	ld	b,a
2670  0BE5  C5          	push	bc
2671  0BE6  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2672  0BE9  FB          	ei
2673  0BEA  DD E1       	pop	ix
2674  0BEC  C9          	ret
2675  0BED              	SECTION code_compiler
2676  0BED              ;	---------------------------------
2677  0BED              ; Function spr_draw_row
2678  0BED              ; ---------------------------------
2679  0BED              _spr_draw_row:
2680  0BED  CD 00 00    	call	___sdcc_enter_ix
2681  0BF0  3B          	dec	sp
2682  0BF1  F3          	di
2683  0BF2  21 00 00    	ld	hl,_tmp
2684  0BF5  36 00       	ld	(hl),0x00
2685  0BF7  DD 7E 04    	ld	a,(ix+4)
2686  0BFA  07          	rlca
2687  0BFB  07          	rlca
2688  0BFC  07          	rlca
2689  0BFD  E6 F8       	and	a,0xf8
2690  0BFF  DD 77 FF    	ld	(ix-1),a
2691  0C02              l_spr_draw_row_00101:
2692  0C02  21 00 00    	ld	hl,_tmp
2693  0C05  7E          	ld	a, (hl)
2694  0C06  D6 20       	sub	a,0x20
2695  0C08  30 38       	jr	NC,l_spr_draw_row_00103
2696  0C0A  DD 4E 04    	ld	c,(ix+4)
2697  0C0D  3E 00       	ld	a,0x00
2698  0C0F  CB 21       	sla	c
2699  0C11  17          	rla
2700  0C12  CB 21       	sla	c
2701  0C14  17          	rla
2702  0C15  CB 21       	sla	c
2703  0C17  17          	rla
2704  0C18  CB 21       	sla	c
2705  0C1A  17          	rla
2706  0C1B  CB 21       	sla	c
2707  0C1D  17          	rla
2708  0C1E  47          	ld	b,a
2709  0C1F  5E          	ld	e, (hl)
2710  0C20  16 00       	ld	d,0x00
2711  0C22  79          	ld	a, c
2712  0C23  83          	add	a, e
2713  0C24  21 00 00    	ld	hl,_index1
2714  0C27  77          	ld	(hl), a
2715  0C28  78          	ld	a, b
2716  0C29  8A          	adc	a, d
2717  0C2A  23          	inc	hl
2718  0C2B  77          	ld	(hl), a
2719  0C2C  2A FF FF    	ld	hl,(_tmp-1)
2720  0C2F  DD 6E FF    	ld	l,(ix-1)
2721  0C32  3A 00 00    	ld	a,(_game_brick_tile)
2722  0C35  E5          	push	hl
2723  0C36  F5          	push	af
2724  0C37  33          	inc	sp
2725  0C38  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2726  0C3B  21 00 00    	ld	hl,_tmp
2727  0C3E  34          	inc	(hl)
2728  0C3F  34          	inc	(hl)
2729  0C40  18 C0       	jr	l_spr_draw_row_00101
2730  0C42              l_spr_draw_row_00103:
2731  0C42  FB          	ei
2732  0C43  33          	inc	sp
2733  0C44  DD E1       	pop	ix
2734  0C46  C9          	ret
2735  0C47              	SECTION code_compiler
2736  0C47              ;	---------------------------------
2737  0C47              ; Function spr_calc_hor
2738  0C47              ; ---------------------------------
2739  0C47              _spr_calc_hor:
2740  0C47  CD 00 00    	call	___sdcc_enter_ix
2741  0C4A  3E 00       	ld	a, +((_col) & 0xFF)
2742  0C4C  DD 86 04    	add	a,(ix+4)
2743  0C4F  4F          	ld	c, a
2744  0C50  3E 00       	ld	a, +((_col) / 256)
2745  0C52  CE 00       	adc	a,0x00
2746  0C54  47          	ld	b, a
2747  0C55  0A          	ld	a, (bc)
2748  0C56  5F          	ld	e, a
2749  0C57  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2750  0C59  DD 86 04    	add	a,(ix+4)
2751  0C5C  4F          	ld	c, a
2752  0C5D  3E 00       	ld	a, +((_sprite_frames) / 256)
2753  0C5F  CE 00       	adc	a,0x00
2754  0C61  47          	ld	b, a
2755  0C62  0A          	ld	a, (bc)
2756  0C63  67          	ld	h, a
2757  0C64  2E 00       	ld	l,0x00
2758  0C66  55          	ld	d, l
2759  0C67  06 08       	ld	b,0x08
2760  0C69              l_spr_calc_hor_00103:
2761  0C69  29          	add	hl, hl
2762  0C6A  30 01       	jr	NC,l_spr_calc_hor_00104
2763  0C6C  19          	add	hl, de
2764  0C6D              l_spr_calc_hor_00104:
2765  0C6D  10 FA       	djnz	l_spr_calc_hor_00103
2766  0C6F  DD E1       	pop	ix
2767  0C71  C9          	ret
2768  0C72              	SECTION code_compiler
2769  0C72              ;	---------------------------------
2770  0C72              ; Function spr_back_repaint
2771  0C72              ; ---------------------------------
2772  0C72              _spr_back_repaint:
2773  0C72  CD 00 00    	call	___sdcc_enter_ix
2774  0C75  3B          	dec	sp
2775  0C76  3A 00 00    	ld	a,(_spr_hack)
2776  0C79  B7          	or	a, a
2777  0C7A  20 02       	jr	NZ,l_spr_back_repaint_00102
2778  0C7C  76          	halt
2779  0C7D  F3          	di
2780  0C7E              l_spr_back_repaint_00102:
2781  0C7E  2A FF FF    	ld	hl,(_s_col0 - 1)
2782  0C81  3A 00 00    	ld	a,(_s_lin0)
2783  0C84  6F          	ld	l,a
2784  0C85  E5          	push	hl
2785  0C86  CD 00 00    	call	_spr_calc_index
2786  0C89  F1          	pop	af
2787  0C8A  7D          	ld	a,l
2788  0C8B  32 00 00    	ld	(_sprite_curr_index),a
2789  0C8E  21 00 00    	ld	hl,_s_lin0
2790  0C91  7E          	ld	a, (hl)
2791  0C92  E6 0F       	and	a,0x0f
2792  0C94  4F          	ld	c, a
2793  0C95  7E          	ld	a, (hl)
2794  0C96  07          	rlca
2795  0C97  07          	rlca
2796  0C98  07          	rlca
2797  0C99  07          	rlca
2798  0C9A  E6 0F       	and	a,0x0f
2799  0C9C  5F          	ld	e, a
2800  0C9D  21 00 00    	ld	hl,_s_col0
2801  0CA0  CB 46       	bit	0, (hl)
2802  0CA2  20 68       	jr	NZ,l_spr_back_repaint_00110
2803  0CA4  79          	ld	a, c
2804  0CA5  B7          	or	a, a
2805  0CA6  20 1D       	jr	NZ,l_spr_back_repaint_00104
2806  0CA8  2A 00 00    	ld	hl,(_sprite_curr_index)
2807  0CAB  26 00       	ld	h,0x00
2808  0CAD  01 00 00    	ld	bc,_scr_map
2809  0CB0  09          	add	hl,bc
2810  0CB1  46          	ld	b,(hl)
2811  0CB2  3A 00 00    	ld	a,(_s_col0)
2812  0CB5  F5          	push	af
2813  0CB6  33          	inc	sp
2814  0CB7  3A 00 00    	ld	a,(_s_lin0)
2815  0CBA  48          	ld	c,b
2816  0CBB  47          	ld	b,a
2817  0CBC  C5          	push	bc
2818  0CBD  CD E9 0D    	call	_spr_tile_paint
2819  0CC0  F1          	pop	af
2820  0CC1  33          	inc	sp
2821  0CC2  C3 DE 0D    	jp	l_spr_back_repaint_00111
2822  0CC5              l_spr_back_repaint_00104:
2823  0CC5  7B          	ld	a, e
2824  0CC6  07          	rlca
2825  0CC7  07          	rlca
2826  0CC8  07          	rlca
2827  0CC9  07          	rlca
2828  0CCA  E6 F0       	and	a,0xf0
2829  0CCC  4F          	ld	c, a
2830  0CCD  2A 00 00    	ld	hl,(_sprite_curr_index)
2831  0CD0  26 00       	ld	h,0x00
2832  0CD2  11 00 00    	ld	de,_scr_map
2833  0CD5  19          	add	hl,de
2834  0CD6  46          	ld	b, (hl)
2835  0CD7  3A 00 00    	ld	a,(_s_col0)
2836  0CDA  C5          	push	bc
2837  0CDB  F5          	push	af
2838  0CDC  33          	inc	sp
2839  0CDD  79          	ld	a, c
2840  0CDE  48          	ld	c,b
2841  0CDF  47          	ld	b,a
2842  0CE0  C5          	push	bc
2843  0CE1  CD E9 0D    	call	_spr_tile_paint
2844  0CE4  F1          	pop	af
2845  0CE5  33          	inc	sp
2846  0CE6  C1          	pop	bc
2847  0CE7  79          	ld	a, c
2848  0CE8  C6 10       	add	a,0x10
2849  0CEA  57          	ld	d, a
2850  0CEB  21 00 00    	ld	hl,_sprite_curr_index
2851  0CEE  7E          	ld	a, (hl)
2852  0CEF  C6 10       	add	a,0x10
2853  0CF1  77          	ld	(hl), a
2854  0CF2  C6 00       	add	a,+((_scr_map) & 0xFF)
2855  0CF4  4F          	ld	c, a
2856  0CF5  3E 00       	ld	a, +((_scr_map) / 256)
2857  0CF7  CE 00       	adc	a,0x00
2858  0CF9  47          	ld	b, a
2859  0CFA  0A          	ld	a, (bc)
2860  0CFB  47          	ld	b, a
2861  0CFC  3A 00 00    	ld	a,(_s_col0)
2862  0CFF  5A          	ld	e,d
2863  0D00  57          	ld	d,a
2864  0D01  D5          	push	de
2865  0D02  C5          	push	bc
2866  0D03  33          	inc	sp
2867  0D04  CD E9 0D    	call	_spr_tile_paint
2868  0D07  F1          	pop	af
2869  0D08  33          	inc	sp
2870  0D09  C3 DE 0D    	jp	l_spr_back_repaint_00111
2871  0D0C              l_spr_back_repaint_00110:
2872  0D0C  3A 00 00    	ld	a,(_s_col0)
2873  0D0F  C6 FF       	add	a,0xff
2874  0D11  DD 77 FF    	ld	(ix-1),a
2875  0D14  79          	ld	a, c
2876  0D15  B7          	or	a, a
2877  0D16  20 3E       	jr	NZ,l_spr_back_repaint_00107
2878  0D18  2A 00 00    	ld	hl,(_sprite_curr_index)
2879  0D1B  26 00       	ld	h,0x00
2880  0D1D  01 00 00    	ld	bc,_scr_map
2881  0D20  09          	add	hl,bc
2882  0D21  46          	ld	b,(hl)
2883  0D22  DD 7E FF    	ld	a,(ix-1)
2884  0D25  F5          	push	af
2885  0D26  33          	inc	sp
2886  0D27  3A 00 00    	ld	a,(_s_lin0)
2887  0D2A  48          	ld	c,b
2888  0D2B  47          	ld	b,a
2889  0D2C  C5          	push	bc
2890  0D2D  CD E9 0D    	call	_spr_tile_paint
2891  0D30  F1          	pop	af
2892  0D31  33          	inc	sp
2893  0D32  21 00 00    	ld	hl,_sprite_curr_index
2894  0D35  34          	inc	(hl)
2895  0D36  21 00 00    	ld	hl,_s_col0
2896  0D39  4E          	ld	c, (hl)
2897  0D3A  0C          	inc	c
2898  0D3B  2A 00 00    	ld	hl,(_sprite_curr_index)
2899  0D3E  26 00       	ld	h,0x00
2900  0D40  11 00 00    	ld	de,_scr_map
2901  0D43  19          	add	hl,de
2902  0D44  46          	ld	b, (hl)
2903  0D45  79          	ld	a, c
2904  0D46  F5          	push	af
2905  0D47  33          	inc	sp
2906  0D48  3A 00 00    	ld	a,(_s_lin0)
2907  0D4B  48          	ld	c,b
2908  0D4C  47          	ld	b,a
2909  0D4D  C5          	push	bc
2910  0D4E  CD E9 0D    	call	_spr_tile_paint
2911  0D51  F1          	pop	af
2912  0D52  33          	inc	sp
2913  0D53  C3 DE 0D    	jp	l_spr_back_repaint_00111
2914  0D56              l_spr_back_repaint_00107:
2915  0D56  7B          	ld	a, e
2916  0D57  07          	rlca
2917  0D58  07          	rlca
2918  0D59  07          	rlca
2919  0D5A  07          	rlca
2920  0D5B  E6 F0       	and	a,0xf0
2921  0D5D  47          	ld	b, a
2922  0D5E  2A 00 00    	ld	hl,(_sprite_curr_index)
2923  0D61  26 00       	ld	h,0x00
2924  0D63  11 00 00    	ld	de,_scr_map
2925  0D66  19          	add	hl,de
2926  0D67  56          	ld	d, (hl)
2927  0D68  C5          	push	bc
2928  0D69  DD 7E FF    	ld	a,(ix-1)
2929  0D6C  F5          	push	af
2930  0D6D  33          	inc	sp
2931  0D6E  4A          	ld	c, d
2932  0D6F  C5          	push	bc
2933  0D70  CD E9 0D    	call	_spr_tile_paint
2934  0D73  F1          	pop	af
2935  0D74  33          	inc	sp
2936  0D75  C1          	pop	bc
2937  0D76  21 00 00    	ld	hl,_sprite_curr_index
2938  0D79  34          	inc	(hl)
2939  0D7A  21 00 00    	ld	hl,_s_col0
2940  0D7D  4E          	ld	c, (hl)
2941  0D7E  0C          	inc	c
2942  0D7F  2A 00 00    	ld	hl,(_sprite_curr_index)
2943  0D82  26 00       	ld	h,0x00
2944  0D84  11 00 00    	ld	de,_scr_map
2945  0D87  19          	add	hl,de
2946  0D88  5E          	ld	e, (hl)
2947  0D89  C5          	push	bc
2948  0D8A  79          	ld	a, c
2949  0D8B  48          	ld	c,b
2950  0D8C  47          	ld	b,a
2951  0D8D  C5          	push	bc
2952  0D8E  7B          	ld	a, e
2953  0D8F  F5          	push	af
2954  0D90  33          	inc	sp
2955  0D91  CD E9 0D    	call	_spr_tile_paint
2956  0D94  F1          	pop	af
2957  0D95  33          	inc	sp
2958  0D96  C1          	pop	bc
2959  0D97  78          	ld	a, b
2960  0D98  C6 10       	add	a,0x10
2961  0D9A  DD 77 FF    	ld	(ix-1),a
2962  0D9D  21 00 00    	ld	hl,_sprite_curr_index
2963  0DA0  7E          	ld	a, (hl)
2964  0DA1  C6 0F       	add	a,0x0f
2965  0DA3  77          	ld	(hl), a
2966  0DA4  21 00 00    	ld	hl,_s_col0
2967  0DA7  4E          	ld	c, (hl)
2968  0DA8  0D          	dec	c
2969  0DA9  2A 00 00    	ld	hl,(_sprite_curr_index)
2970  0DAC  26 00       	ld	h,0x00
2971  0DAE  11 00 00    	ld	de,_scr_map
2972  0DB1  19          	add	hl,de
2973  0DB2  5E          	ld	e, (hl)
2974  0DB3  79          	ld	a, c
2975  0DB4  F5          	push	af
2976  0DB5  33          	inc	sp
2977  0DB6  DD 56 FF    	ld	d,(ix-1)
2978  0DB9  D5          	push	de
2979  0DBA  CD E9 0D    	call	_spr_tile_paint
2980  0DBD  F1          	pop	af
2981  0DBE  33          	inc	sp
2982  0DBF  21 00 00    	ld	hl,_sprite_curr_index
2983  0DC2  34          	inc	(hl)
2984  0DC3  21 00 00    	ld	hl,_s_col0
2985  0DC6  4E          	ld	c, (hl)
2986  0DC7  0C          	inc	c
2987  0DC8  2A 00 00    	ld	hl,(_sprite_curr_index)
2988  0DCB  26 00       	ld	h,0x00
2989  0DCD  11 00 00    	ld	de,_scr_map
2990  0DD0  19          	add	hl,de
2991  0DD1  5E          	ld	e, (hl)
2992  0DD2  79          	ld	a, c
2993  0DD3  F5          	push	af
2994  0DD4  33          	inc	sp
2995  0DD5  DD 56 FF    	ld	d,(ix-1)
2996  0DD8  D5          	push	de
2997  0DD9  CD E9 0D    	call	_spr_tile_paint
2998  0DDC  F1          	pop	af
2999  0DDD  33          	inc	sp
3000  0DDE              l_spr_back_repaint_00111:
3001  0DDE  3A 00 00    	ld	a,(_spr_hack)
3002  0DE1  B7          	or	a, a
3003  0DE2  20 01       	jr	NZ,l_spr_back_repaint_00114
3004  0DE4  FB          	ei
3005  0DE5              l_spr_back_repaint_00114:
3006  0DE5  33          	inc	sp
3007  0DE6  DD E1       	pop	ix
3008  0DE8  C9          	ret
3009  0DE9              	SECTION code_compiler
3010  0DE9              ;	---------------------------------
3011  0DE9              ; Function spr_tile_paint
3012  0DE9              ; ---------------------------------
3013  0DE9              _spr_tile_paint:
3014  0DE9  CD 00 00    	call	___sdcc_enter_ix
3015  0DEC  DD 7E 04    	ld	a,(ix+4)
3016  0DEF  B7          	or	a, a
3017  0DF0  28 05       	jr	Z,l_spr_tile_paint_00101
3018  0DF2  3C          	inc	a
3019  0DF3  28 22       	jr	Z,l_spr_tile_paint_00105
3020  0DF5  18 11       	jr	l_spr_tile_paint_00103
3021  0DF7              l_spr_tile_paint_00101:
3022  0DF7  DD 66 06    	ld	h,(ix+6)
3023  0DFA  DD 6E 05    	ld	l,(ix+5)
3024  0DFD  3A 00 00    	ld	a,(_map_paper_clr)
3025  0E00  E5          	push	hl
3026  0E01  F5          	push	af
3027  0E02  33          	inc	sp
3028  0E03  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3029  0E06  18 0F       	jr	l_spr_tile_paint_00105
3030  0E08              l_spr_tile_paint_00103:
3031  0E08  DD 66 06    	ld	h,(ix+6)
3032  0E0B  DD 6E 05    	ld	l,(ix+5)
3033  0E0E  E5          	push	hl
3034  0E0F  DD 7E 04    	ld	a,(ix+4)
3035  0E12  F5          	push	af
3036  0E13  33          	inc	sp
3037  0E14  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3038  0E17              l_spr_tile_paint_00105:
3039  0E17  DD E1       	pop	ix
3040  0E19  C9          	ret
3041  0E1A              	SECTION code_compiler
3042  0E1A              ;	---------------------------------
3043  0E1A              ; Function spr_init_anim_bullets
3044  0E1A              ; ---------------------------------
3045  0E1A              _spr_init_anim_bullets:
3046  0E1A  01 00 00    	ld	bc,_anim_lin+0
3047  0E1D  1E 00       	ld	e,0x00
3048  0E1F              l_spr_init_anim_bullets_00102:
3049  0E1F  6B          	ld	l,e
3050  0E20  26 00       	ld	h,0x00
3051  0E22  09          	add	hl, bc
3052  0E23  36 FF       	ld	(hl),0xff
3053  0E25  16 00       	ld	d,0x00
3054  0E27  21 00 00    	ld	hl,_bullet_col
3055  0E2A  19          	add	hl, de
3056  0E2B  36 FF       	ld	(hl),0xff
3057  0E2D  1C          	inc	e
3058  0E2E  7B          	ld	a, e
3059  0E2F  D6 08       	sub	a,0x08
3060  0E31  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3061  0E33  21 00 00    	ld	hl,_bullet_count
3062  0E36  36 00       	ld	(hl),0x00
3063  0E38  21 00 00    	ld	hl,_anim_count
3064  0E3B  36 00       	ld	(hl),0x00
3065  0E3D  C9          	ret
3066  0E3E              	SECTION code_compiler
3067  0E3E              ;	---------------------------------
3068  0E3E              ; Function spr_add_anim
3069  0E3E              ; ---------------------------------
3070  0E3E              _spr_add_anim:
3071  0E3E  CD 00 00    	call	___sdcc_enter_ix
3072  0E41  F5          	push	af
3073  0E42  F5          	push	af
3074  0E43  3B          	dec	sp
3075  0E44  DD 7E 05    	ld	a,(ix+5)
3076  0E47  D6 1F       	sub	a,0x1f
3077  0E49  D2 0A 0F    	jp	NC, l_spr_add_anim_00111
3078  0E4C  DD 7E 04    	ld	a,(ix+4)
3079  0E4F  D6 B8       	sub	a,0xb8
3080  0E51  D2 0A 0F    	jp	NC, l_spr_add_anim_00111
3081  0E54  0E 00       	ld	c,0x00
3082  0E56  DD 71 FB    	ld	(ix-5),c
3083  0E59              l_spr_add_anim_00109:
3084  0E59  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3085  0E5B  81          	add	a, c
3086  0E5C  5F          	ld	e, a
3087  0E5D  3E 00       	ld	a, +((_anim_lin) / 256)
3088  0E5F  CE 00       	adc	a,0x00
3089  0E61  57          	ld	d, a
3090  0E62  1A          	ld	a, (de)
3091  0E63  3C          	inc	a
3092  0E64  C2 00 0F    	jp	NZ,l_spr_add_anim_00110
3093  0E67  21 00 00    	ld	hl,_anim_count
3094  0E6A  34          	inc	(hl)
3095  0E6B  DD 7E 04    	ld	a,(ix+4)
3096  0E6E  12          	ld	(de), a
3097  0E6F  01 00 00    	ld	bc,_anim_col
3098  0E72  DD 6E FB    	ld	l,(ix-5)
3099  0E75  26 00       	ld	h,0x00
3100  0E77  09          	add	hl,bc
3101  0E78  DD 75 FE    	ld	(ix-2),l
3102  0E7B  DD 74 FF    	ld	(ix-1),h
3103  0E7E  DD 7E 05    	ld	a,(ix+5)
3104  0E81  77          	ld	(hl), a
3105  0E82  01 00 00    	ld	bc,_anim_tile
3106  0E85  DD 6E FB    	ld	l,(ix-5)
3107  0E88  26 00       	ld	h,0x00
3108  0E8A  09          	add	hl,bc
3109  0E8B  DD 75 FC    	ld	(ix-4),l
3110  0E8E  DD 74 FD    	ld	(ix-3),h
3111  0E91  DD 7E 06    	ld	a,(ix+6)
3112  0E94  77          	ld	(hl), a
3113  0E95  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3114  0E97  DD 86 FB    	add	a,(ix-5)
3115  0E9A  4F          	ld	c, a
3116  0E9B  3E 00       	ld	a, +((_anim_loop) / 256)
3117  0E9D  CE 00       	adc	a,0x00
3118  0E9F  47          	ld	b, a
3119  0EA0  DD 7E 08    	ld	a,(ix+8)
3120  0EA3  02          	ld	(bc), a
3121  0EA4  01 00 00    	ld	bc,_anim_int+0
3122  0EA7  DD 6E FB    	ld	l,(ix-5)
3123  0EAA  26 00       	ld	h,0x00
3124  0EAC  09          	add	hl, bc
3125  0EAD  36 00       	ld	(hl),0x00
3126  0EAF  3E 00       	ld	a, +((_anim_end) & 0xFF)
3127  0EB1  DD 86 FB    	add	a,(ix-5)
3128  0EB4  4F          	ld	c, a
3129  0EB5  3E 00       	ld	a, +((_anim_end) / 256)
3130  0EB7  CE 00       	adc	a,0x00
3131  0EB9  47          	ld	b, a
3132  0EBA  DD 7E 07    	ld	a,(ix+7)
3133  0EBD  02          	ld	(bc), a
3134  0EBE  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3135  0EC0  DD 86 FB    	add	a,(ix-5)
3136  0EC3  4F          	ld	c, a
3137  0EC4  3E 00       	ld	a, +((_anim_respanwn) / 256)
3138  0EC6  CE 00       	adc	a,0x00
3139  0EC8  47          	ld	b, a
3140  0EC9  DD 7E 09    	ld	a,(ix+9)
3141  0ECC  02          	ld	(bc), a
3142  0ECD  F3          	di
3143  0ECE  DD 6E FE    	ld	l,(ix-2)
3144  0ED1  DD 66 FF    	ld	h,(ix-1)
3145  0ED4  46          	ld	b, (hl)
3146  0ED5  1A          	ld	a, (de)
3147  0ED6  DD 6E FC    	ld	l,(ix-4)
3148  0ED9  DD 66 FD    	ld	h,(ix-3)
3149  0EDC  56          	ld	d, (hl)
3150  0EDD  C5          	push	bc
3151  0EDE  33          	inc	sp
3152  0EDF  5A          	ld	e,d
3153  0EE0  57          	ld	d,a
3154  0EE1  D5          	push	de
3155  0EE2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3156  0EE5  FB          	ei
3157  0EE6  DD 66 05    	ld	h,(ix+5)
3158  0EE9  DD 6E 04    	ld	l,(ix+4)
3159  0EEC  E5          	push	hl
3160  0EED  CD 00 00    	call	_spr_calc_index
3161  0EF0  F1          	pop	af
3162  0EF1  22 00 00    	ld	(_index0),hl
3163  0EF4  01 00 00    	ld	bc,_scr_map
3164  0EF7  09          	add	hl,bc
3165  0EF8  7E          	ld	a,(hl)
3166  0EF9  B7          	or	a,a
3167  0EFA  20 0E       	jr	NZ,l_spr_add_anim_00111
3168  0EFC  36 FF       	ld	(hl),0xff
3169  0EFE  18 0A       	jr	l_spr_add_anim_00111
3170  0F00              l_spr_add_anim_00110:
3171  0F00  0C          	inc	c
3172  0F01  DD 71 FB    	ld	(ix-5),c
3173  0F04  79          	ld	a, c
3174  0F05  D6 08       	sub	a,0x08
3175  0F07  DA 59 0E    	jp	C, l_spr_add_anim_00109
3176  0F0A              l_spr_add_anim_00111:
3177  0F0A  DD F9       	ld	sp, ix
3178  0F0C  DD E1       	pop	ix
3179  0F0E  C9          	ret
3180  0F0F              	SECTION code_compiler
3181  0F0F              ;	---------------------------------
3182  0F0F              ; Function spr_play_anim
3183  0F0F              ; ---------------------------------
3184  0F0F              _spr_play_anim:
3185  0F0F  CD 00 00    	call	___sdcc_enter_ix
3186  0F12  F5          	push	af
3187  0F13  F5          	push	af
3188  0F14  F5          	push	af
3189  0F15  F5          	push	af
3190  0F16  DD 36 F8 00 	ld	(ix-8),0x00
3191  0F1A              l_spr_play_anim_00114:
3192  0F1A  01 00 00    	ld	bc,_anim_lin
3193  0F1D  DD 6E F8    	ld	l,(ix-8)
3194  0F20  26 00       	ld	h,0x00
3195  0F22  09          	add	hl,bc
3196  0F23  DD 75 FE    	ld	(ix-2),l
3197  0F26  DD 74 FF    	ld	(ix-1),h
3198  0F29  4E          	ld	c, (hl)
3199  0F2A  0C          	inc	c
3200  0F2B  CA 2E 10    	jp	Z,l_spr_play_anim_00115
3201  0F2E  21 01 00    	ld	hl,0x0001
3202  0F31  CD 00 00    	call	_z80_delay_ms_fastcall
3203  0F34  01 00 00    	ld	bc,_anim_int
3204  0F37  DD 6E F8    	ld	l,(ix-8)
3205  0F3A  26 00       	ld	h,0x00
3206  0F3C  09          	add	hl,bc
3207  0F3D  DD 75 FC    	ld	(ix-4),l
3208  0F40  DD 74 FD    	ld	(ix-3),h
3209  0F43  4E          	ld	c, (hl)
3210  0F44  3E 00       	ld	a, +((_anim_end) & 0xFF)
3211  0F46  DD 86 F8    	add	a,(ix-8)
3212  0F49  6F          	ld	l, a
3213  0F4A  3E 00       	ld	a, +((_anim_end) / 256)
3214  0F4C  CE 00       	adc	a,0x00
3215  0F4E  67          	ld	h, a
3216  0F4F  46          	ld	b, (hl)
3217  0F50  79          	ld	a, c
3218  0F51  90          	sub	a, b
3219  0F52  30 40       	jr	NC,l_spr_play_anim_00109
3220  0F54  F3          	di
3221  0F55  3E 00       	ld	a, +((_anim_col) & 0xFF)
3222  0F57  DD 86 F8    	add	a,(ix-8)
3223  0F5A  6F          	ld	l, a
3224  0F5B  3E 00       	ld	a, +((_anim_col) / 256)
3225  0F5D  CE 00       	adc	a,0x00
3226  0F5F  67          	ld	h, a
3227  0F60  56          	ld	d, (hl)
3228  0F61  DD 6E FE    	ld	l,(ix-2)
3229  0F64  DD 66 FF    	ld	h,(ix-1)
3230  0F67  4E          	ld	c, (hl)
3231  0F68  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3232  0F6A  DD 86 F8    	add	a,(ix-8)
3233  0F6D  6F          	ld	l, a
3234  0F6E  3E 00       	ld	a, +((_anim_tile) / 256)
3235  0F70  CE 00       	adc	a,0x00
3236  0F72  67          	ld	h, a
3237  0F73  5E          	ld	e, (hl)
3238  0F74  DD 6E FC    	ld	l,(ix-4)
3239  0F77  DD 66 FD    	ld	h,(ix-3)
3240  0F7A  6E          	ld	l, (hl)
3241  0F7B  7B          	ld	a, e
3242  0F7C  85          	add	a, l
3243  0F7D  47          	ld	b, a
3244  0F7E  D5          	push	de
3245  0F7F  33          	inc	sp
3246  0F80  79          	ld	a, c
3247  0F81  48          	ld	c,b
3248  0F82  47          	ld	b,a
3249  0F83  C5          	push	bc
3250  0F84  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3251  0F87  FB          	ei
3252  0F88  DD 6E FC    	ld	l,(ix-4)
3253  0F8B  DD 66 FD    	ld	h,(ix-3)
3254  0F8E  4E          	ld	c,(hl)
3255  0F8F  0C          	inc	c
3256  0F90  71          	ld	(hl), c
3257  0F91  C3 2E 10    	jp	l_spr_play_anim_00115
3258  0F94              l_spr_play_anim_00109:
3259  0F94  01 00 00    	ld	bc,_anim_loop
3260  0F97  DD 6E F8    	ld	l,(ix-8)
3261  0F9A  26 00       	ld	h,0x00
3262  0F9C  09          	add	hl,bc
3263  0F9D  DD 75 FA    	ld	(ix-6),l
3264  0FA0  DD 74 FB    	ld	(ix-5),h
3265  0FA3  7E          	ld	a, (hl)
3266  0FA4  DD 77 F9    	ld	(ix-7),a
3267  0FA7  B7          	or	a, a
3268  0FA8  20 71       	jr	NZ,l_spr_play_anim_00106
3269  0FAA  21 00 00    	ld	hl,_anim_count
3270  0FAD  35          	dec	(hl)
3271  0FAE  3E 00       	ld	a, +((_anim_col) & 0xFF)
3272  0FB0  DD 86 F8    	add	a,(ix-8)
3273  0FB3  6F          	ld	l, a
3274  0FB4  3E 00       	ld	a, +((_anim_col) / 256)
3275  0FB6  CE 00       	adc	a,0x00
3276  0FB8  67          	ld	h, a
3277  0FB9  7E          	ld	a, (hl)
3278  0FBA  32 00 00    	ld	(_s_col0),a
3279  0FBD  DD 6E FE    	ld	l,(ix-2)
3280  0FC0  DD 66 FF    	ld	h,(ix-1)
3281  0FC3  7E          	ld	a, (hl)
3282  0FC4  32 00 00    	ld	(_s_lin0),a
3283  0FC7  2A FF FF    	ld	hl,(_s_col0 - 1)
3284  0FCA  6F          	ld	l,a
3285  0FCB  E5          	push	hl
3286  0FCC  CD 00 00    	call	_spr_calc_index
3287  0FCF  F1          	pop	af
3288  0FD0  2A FF FF    	ld	hl,(_s_col0 - 1)
3289  0FD3  3A 00 00    	ld	a,(_s_lin0)
3290  0FD6  6F          	ld	l,a
3291  0FD7  E5          	push	hl
3292  0FD8  CD 00 00    	call	_spr_calc_index
3293  0FDB  F1          	pop	af
3294  0FDC  01 00 00    	ld	bc,_scr_map
3295  0FDF  09          	add	hl,bc
3296  0FE0  4E          	ld	c, (hl)
3297  0FE1  0C          	inc	c
3298  0FE2  20 12       	jr	NZ,l_spr_play_anim_00102
3299  0FE4  2A FF FF    	ld	hl,(_s_col0 - 1)
3300  0FE7  3A 00 00    	ld	a,(_s_lin0)
3301  0FEA  6F          	ld	l,a
3302  0FEB  E5          	push	hl
3303  0FEC  CD 00 00    	call	_spr_calc_index
3304  0FEF  F1          	pop	af
3305  0FF0  01 00 00    	ld	bc,_scr_map
3306  0FF3  09          	add	hl,bc
3307  0FF4  36 00       	ld	(hl),0x00
3308  0FF6              l_spr_play_anim_00102:
3309  0FF6  CD 72 0C    	call	_spr_back_repaint
3310  0FF9  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3311  0FFB  DD 86 F8    	add	a,(ix-8)
3312  0FFE  4F          	ld	c, a
3313  0FFF  3E 00       	ld	a, +((_anim_respanwn) / 256)
3314  1001  CE 00       	adc	a,0x00
3315  1003  47          	ld	b, a
3316  1004  0A          	ld	a, (bc)
3317  1005  B7          	or	a, a
3318  1006  28 09       	jr	Z,l_spr_play_anim_00104
3319  1008  DD 7E F8    	ld	a,(ix-8)
3320  100B  F5          	push	af
3321  100C  33          	inc	sp
3322  100D  CD 00 00    	call	_enemy_respawn
3323  1010  33          	inc	sp
3324  1011              l_spr_play_anim_00104:
3325  1011  DD 6E FE    	ld	l,(ix-2)
3326  1014  DD 66 FF    	ld	h,(ix-1)
3327  1017  36 FF       	ld	(hl),0xff
3328  1019  18 13       	jr	l_spr_play_anim_00115
3329  101B              l_spr_play_anim_00106:
3330  101B  DD 4E F9    	ld	c,(ix-7)
3331  101E  0D          	dec	c
3332  101F  DD 6E FA    	ld	l,(ix-6)
3333  1022  DD 66 FB    	ld	h,(ix-5)
3334  1025  71          	ld	(hl), c
3335  1026  DD 6E FC    	ld	l,(ix-4)
3336  1029  DD 66 FD    	ld	h,(ix-3)
3337  102C  36 00       	ld	(hl),0x00
3338  102E              l_spr_play_anim_00115:
3339  102E  DD 34 F8    	inc	(ix-8)
3340  1031  DD 7E F8    	ld	a,(ix-8)
3341  1034  D6 08       	sub	a,0x08
3342  1036  DA 1A 0F    	jp	C, l_spr_play_anim_00114
3343  1039  DD F9       	ld	sp, ix
3344  103B  DD E1       	pop	ix
3345  103D  C9          	ret
3346  103E              	SECTION code_compiler
3347  103E              ;	---------------------------------
3348  103E              ; Function spr_play_bullets
3349  103E              ; ---------------------------------
3350  103E              _spr_play_bullets:
3351  103E  CD 00 00    	call	___sdcc_enter_ix
3352  1041  21 F2 FF    	ld	hl, -14
3353  1044  39          	add	hl, sp
3354  1045  F9          	ld	sp, hl
3355  1046  3E 00       	ld	a,0x00
3356  1048  DD 77 F6    	ld	(ix-10),a
3357  104B  DD 77 F3    	ld	(ix-13),a
3358  104E              l_spr_play_bullets_00197:
3359  104E  01 00 00    	ld	bc,_bullet_col
3360  1051  DD 6E F3    	ld	l,(ix-13)
3361  1054  26 00       	ld	h,0x00
3362  1056  09          	add	hl,bc
3363  1057  DD 75 FE    	ld	(ix-2),l
3364  105A  DD 74 FF    	ld	(ix-1),h
3365  105D  7E          	ld	a, (hl)
3366  105E  DD 77 FD    	ld	(ix-3),a
3367  1061  3C          	inc	a
3368  1062  CA DD 15    	jp	Z,l_spr_play_bullets_00191
3369  1065  01 00 00    	ld	bc,_bullet_lin
3370  1068  DD 6E F3    	ld	l,(ix-13)
3371  106B  26 00       	ld	h,0x00
3372  106D  09          	add	hl,bc
3373  106E  DD 75 FB    	ld	(ix-5),l
3374  1071  DD 74 FC    	ld	(ix-4),h
3375  1074  7E          	ld	a, (hl)
3376  1075  32 00 00    	ld	(_s_lin0),a
3377  1078  DD 7E FD    	ld	a,(ix-3)
3378  107B  32 00 00    	ld	(_s_col0),a
3379  107E  DD 77 F2    	ld	(ix-14),a
3380  1081  CD 72 0C    	call	_spr_back_repaint
3381  1084  01 00 00    	ld	bc,_bullet_class
3382  1087  DD 6E F3    	ld	l,(ix-13)
3383  108A  26 00       	ld	h,0x00
3384  108C  09          	add	hl,bc
3385  108D  DD 75 F9    	ld	(ix-7),l
3386  1090  DD 74 FA    	ld	(ix-6),h
3387  1093  7E          	ld	a, (hl)
3388  1094  D6 02       	sub	a,0x02
3389  1096  20 46       	jr	NZ,l_spr_play_bullets_00107
3390  1098  3A 00 00    	ld	a,(_s_lin0)
3391  109B  4F          	ld	c,a
3392  109C  06 00       	ld	b,0x00
3393  109E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3394  10A0  DD 86 F3    	add	a,(ix-13)
3395  10A3  6F          	ld	l, a
3396  10A4  3E 00       	ld	a, +((_bullet_lin0) / 256)
3397  10A6  CE 00       	adc	a,0x00
3398  10A8  67          	ld	h, a
3399  10A9  5E          	ld	e, (hl)
3400  10AA  16 00       	ld	d,0x00
3401  10AC  79          	ld	a, c
3402  10AD  93          	sub	a, e
3403  10AE  4F          	ld	c, a
3404  10AF  78          	ld	a, b
3405  10B0  9A          	sbc	a, d
3406  10B1  47          	ld	b, a
3407  10B2  3E 08       	ld	a,0x08
3408  10B4  B9          	cp	a, c
3409  10B5  3E 00       	ld	a,0x00
3410  10B7  98          	sbc	a, b
3411  10B8  E2 BD 10    	jp	PO, l_spr_play_bullets_00403
3412  10BB  EE 80       	xor	a,0x80
3413  10BD              l_spr_play_bullets_00403:
3414  10BD  FA D6 10    	jp	M, l_spr_play_bullets_00104
3415  10C0  DD 6E FB    	ld	l,(ix-5)
3416  10C3  DD 66 FC    	ld	h,(ix-4)
3417  10C6  4E          	ld	c, (hl)
3418  10C7  0C          	inc	c
3419  10C8  0C          	inc	c
3420  10C9  DD 6E FB    	ld	l,(ix-5)
3421  10CC  DD 66 FC    	ld	h,(ix-4)
3422  10CF  71          	ld	(hl), c
3423  10D0  21 00 00    	ld	hl,_s_lin0
3424  10D3  71          	ld	(hl), c
3425  10D4  18 08       	jr	l_spr_play_bullets_00107
3426  10D6              l_spr_play_bullets_00104:
3427  10D6  DD 6E F9    	ld	l,(ix-7)
3428  10D9  DD 66 FA    	ld	h,(ix-6)
3429  10DC  36 03       	ld	(hl),0x03
3430  10DE              l_spr_play_bullets_00107:
3431  10DE  DD 6E F9    	ld	l,(ix-7)
3432  10E1  DD 66 FA    	ld	h,(ix-6)
3433  10E4  7E          	ld	a, (hl)
3434  10E5  D6 03       	sub	a,0x03
3435  10E7  20 46       	jr	NZ,l_spr_play_bullets_00112
3436  10E9  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3437  10EB  DD 86 F3    	add	a,(ix-13)
3438  10EE  6F          	ld	l, a
3439  10EF  3E 00       	ld	a, +((_bullet_lin0) / 256)
3440  10F1  CE 00       	adc	a,0x00
3441  10F3  67          	ld	h, a
3442  10F4  4E          	ld	c, (hl)
3443  10F5  06 00       	ld	b,0x00
3444  10F7  3A 00 00    	ld	a,(_s_lin0)
3445  10FA  5F          	ld	e,a
3446  10FB  16 00       	ld	d,0x00
3447  10FD  79          	ld	a, c
3448  10FE  93          	sub	a, e
3449  10FF  4F          	ld	c, a
3450  1100  78          	ld	a, b
3451  1101  9A          	sbc	a, d
3452  1102  47          	ld	b, a
3453  1103  3E 08       	ld	a,0x08
3454  1105  B9          	cp	a, c
3455  1106  3E 00       	ld	a,0x00
3456  1108  98          	sbc	a, b
3457  1109  E2 0E 11    	jp	PO, l_spr_play_bullets_00406
3458  110C  EE 80       	xor	a,0x80
3459  110E              l_spr_play_bullets_00406:
3460  110E  FA 27 11    	jp	M, l_spr_play_bullets_00109
3461  1111  DD 6E FB    	ld	l,(ix-5)
3462  1114  DD 66 FC    	ld	h,(ix-4)
3463  1117  4E          	ld	c, (hl)
3464  1118  0D          	dec	c
3465  1119  0D          	dec	c
3466  111A  DD 6E FB    	ld	l,(ix-5)
3467  111D  DD 66 FC    	ld	h,(ix-4)
3468  1120  71          	ld	(hl), c
3469  1121  21 00 00    	ld	hl,_s_lin0
3470  1124  71          	ld	(hl), c
3471  1125  18 08       	jr	l_spr_play_bullets_00112
3472  1127              l_spr_play_bullets_00109:
3473  1127  DD 6E F9    	ld	l,(ix-7)
3474  112A  DD 66 FA    	ld	h,(ix-6)
3475  112D  36 02       	ld	(hl),0x02
3476  112F              l_spr_play_bullets_00112:
3477  112F  DD 6E F9    	ld	l,(ix-7)
3478  1132  DD 66 FA    	ld	h,(ix-6)
3479  1135  7E          	ld	a, (hl)
3480  1136  D6 04       	sub	a,0x04
3481  1138  C2 BE 11    	jp	NZ,l_spr_play_bullets_00125
3482  113B  DD 6E FB    	ld	l,(ix-5)
3483  113E  DD 66 FC    	ld	h,(ix-4)
3484  1141  7E          	ld	a, (hl)
3485  1142  32 00 00    	ld	(_s_lin0),a
3486  1145  DD 6E FE    	ld	l,(ix-2)
3487  1148  DD 66 FF    	ld	h,(ix-1)
3488  114B  7E          	ld	a, (hl)
3489  114C  C6 FF       	add	a,0xff
3490  114E  32 00 00    	ld	(_s_col0),a
3491  1151  D6 20       	sub	a,0x20
3492  1153  30 03       	jr	NC,l_spr_play_bullets_00114
3493  1155  CD 72 0C    	call	_spr_back_repaint
3494  1158              l_spr_play_bullets_00114:
3495  1158  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3496  115A  DD 86 F3    	add	a,(ix-13)
3497  115D  4F          	ld	c, a
3498  115E  3E 00       	ld	a, +((_bullet_vel) / 256)
3499  1160  CE 00       	adc	a,0x00
3500  1162  47          	ld	b, a
3501  1163  0A          	ld	a, (bc)
3502  1164  5F          	ld	e, a
3503  1165  21 00 00    	ld	hl,_game_gravity
3504  1168  56          	ld	d, (hl)
3505  1169  7B          	ld	a, e
3506  116A  82          	add	a, d
3507  116B  5F          	ld	e,a
3508  116C  02          	ld	(bc), a
3509  116D  3E 78       	ld	a,0x78
3510  116F  93          	sub	a, e
3511  1170  E2 75 11    	jp	PO, l_spr_play_bullets_00409
3512  1173  EE 80       	xor	a,0x80
3513  1175              l_spr_play_bullets_00409:
3514  1175  F2 7B 11    	jp	P, l_spr_play_bullets_00116
3515  1178  3E 78       	ld	a,0x78
3516  117A  02          	ld	(bc), a
3517  117B              l_spr_play_bullets_00116:
3518  117B  0A          	ld	a, (bc)
3519  117C  EE 80       	xor	a,0x80
3520  117E  D6 08       	sub	a,0x08
3521  1180  30 03       	jr	NC,l_spr_play_bullets_00118
3522  1182  3E 88       	ld	a,0x88
3523  1184  02          	ld	(bc), a
3524  1185              l_spr_play_bullets_00118:
3525  1185  0A          	ld	a, (bc)
3526  1186  CB 47       	bit	0,a
3527  1188  32 00 00    	ld	(_s_lin1),a
3528  118B  28 04       	jr	Z,l_spr_play_bullets_00120
3529  118D  21 00 00    	ld	hl,_s_lin1
3530  1190  35          	dec	(hl)
3531  1191              l_spr_play_bullets_00120:
3532  1191  DD 6E FB    	ld	l,(ix-5)
3533  1194  DD 66 FC    	ld	h,(ix-4)
3534  1197  7E          	ld	a, (hl)
3535  1198  21 00 00    	ld	hl,_s_lin1
3536  119B  86          	add	a, (hl)
3537  119C  21 00 00    	ld	hl,_s_lin0
3538  119F  77          	ld	(hl), a
3539  11A0  3E 90       	ld	a,0x90
3540  11A2  96          	sub	a, (hl)
3541  11A3  30 0F       	jr	NC,l_spr_play_bullets_00122
3542  11A5  21 00 00    	ld	hl,_bullet_count
3543  11A8  35          	dec	(hl)
3544  11A9  DD 6E FE    	ld	l,(ix-2)
3545  11AC  DD 66 FF    	ld	h,(ix-1)
3546  11AF  36 FF       	ld	(hl),0xff
3547  11B1  C3 DD 15    	jp	l_spr_play_bullets_00191
3548  11B4              l_spr_play_bullets_00122:
3549  11B4  DD 6E FB    	ld	l,(ix-5)
3550  11B7  DD 66 FC    	ld	h,(ix-4)
3551  11BA  3A 00 00    	ld	a,(_s_lin0)
3552  11BD  77          	ld	(hl),a
3553  11BE              l_spr_play_bullets_00125:
3554  11BE  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3555  11C0  DD 86 F3    	add	a,(ix-13)
3556  11C3  6F          	ld	l, a
3557  11C4  3E 00       	ld	a, +((_bullet_dir) / 256)
3558  11C6  CE 00       	adc	a,0x00
3559  11C8  67          	ld	h, a
3560  11C9  4E          	ld	c, (hl)
3561  11CA  0C          	inc	c
3562  11CB  20 3D       	jr	NZ,l_spr_play_bullets_00135
3563  11CD  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3564  11CF  DD 86 F3    	add	a,(ix-13)
3565  11D2  4F          	ld	c, a
3566  11D3  3E 00       	ld	a, +((_bullet_colint) / 256)
3567  11D5  CE 00       	adc	a,0x00
3568  11D7  47          	ld	b, a
3569  11D8  0A          	ld	a, (bc)
3570  11D9  3C          	inc	a
3571  11DA  5F          	ld	e,a
3572  11DB  02          	ld	(bc), a
3573  11DC  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3574  11DE  DD 86 F3    	add	a,(ix-13)
3575  11E1  6F          	ld	l, a
3576  11E2  3E 00       	ld	a, +((_bullet_frames) / 256)
3577  11E4  CE 00       	adc	a,0x00
3578  11E6  67          	ld	h, a
3579  11E7  56          	ld	d, (hl)
3580  11E8  7B          	ld	a, e
3581  11E9  92          	sub	a, d
3582  11EA  38 63       	jr	C,l_spr_play_bullets_00136
3583  11EC  DD 6E FE    	ld	l,(ix-2)
3584  11EF  DD 66 FF    	ld	h,(ix-1)
3585  11F2  7E          	ld	a, (hl)
3586  11F3  3C          	inc	a
3587  11F4  DD 77 F2    	ld	(ix-14),a
3588  11F7  AF          	xor	a, a
3589  11F8  02          	ld	(bc), a
3590  11F9  DD 7E F2    	ld	a,(ix-14)
3591  11FC  E6 01       	and	a,0x01
3592  11FE  3D          	dec	a
3593  11FF  20 4E       	jr	NZ,l_spr_play_bullets_00136
3594  1201  DD 7E F2    	ld	a,(ix-14)
3595  1204  3C          	inc	a
3596  1205  32 00 00    	ld	(_s_col0),a
3597  1208  18 45       	jr	l_spr_play_bullets_00136
3598  120A              l_spr_play_bullets_00135:
3599  120A  01 00 00    	ld	bc,_bullet_colint
3600  120D  DD 6E F3    	ld	l,(ix-13)
3601  1210  26 00       	ld	h,0x00
3602  1212  09          	add	hl,bc
3603  1213  DD 75 F7    	ld	(ix-9),l
3604  1216  DD 74 F8    	ld	(ix-8),h
3605  1219  4E          	ld	c,(hl)
3606  121A  0D          	dec	c
3607  121B  71          	ld	(hl), c
3608  121C  0C          	inc	c
3609  121D  20 30       	jr	NZ,l_spr_play_bullets_00136
3610  121F  DD 6E FE    	ld	l,(ix-2)
3611  1222  DD 66 FF    	ld	h,(ix-1)
3612  1225  7E          	ld	a, (hl)
3613  1226  C6 FF       	add	a,0xff
3614  1228  DD 77 F2    	ld	(ix-14),a
3615  122B  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3616  122D  DD 86 F3    	add	a,(ix-13)
3617  1230  6F          	ld	l, a
3618  1231  3E 00       	ld	a, +((_bullet_frames) / 256)
3619  1233  CE 00       	adc	a,0x00
3620  1235  67          	ld	h, a
3621  1236  4E          	ld	c, (hl)
3622  1237  0D          	dec	c
3623  1238  DD 6E F7    	ld	l,(ix-9)
3624  123B  DD 66 F8    	ld	h,(ix-8)
3625  123E  71          	ld	(hl), c
3626  123F  DD 7E F2    	ld	a,(ix-14)
3627  1242  E6 01       	and	a,0x01
3628  1244  3D          	dec	a
3629  1245  20 08       	jr	NZ,l_spr_play_bullets_00136
3630  1247  DD 7E F2    	ld	a,(ix-14)
3631  124A  C6 FF       	add	a,0xff
3632  124C  32 00 00    	ld	(_s_col0),a
3633  124F              l_spr_play_bullets_00136:
3634  124F  21 00 00    	ld	hl,_tmp1
3635  1252  36 00       	ld	(hl),0x00
3636  1254  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3637  1256  DD 86 F3    	add	a,(ix-13)
3638  1259  4F          	ld	c, a
3639  125A  3E 00       	ld	a, +((_bullet_max) / 256)
3640  125C  CE 00       	adc	a,0x00
3641  125E  47          	ld	b, a
3642  125F  0A          	ld	a, (bc)
3643  1260  B7          	or	a, a
3644  1261  28 27       	jr	Z,l_spr_play_bullets_00140
3645  1263  DD 5E F2    	ld	e,(ix-14)
3646  1266  16 00       	ld	d,0x00
3647  1268  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3648  126A  DD 86 F3    	add	a,(ix-13)
3649  126D  6F          	ld	l, a
3650  126E  3E 00       	ld	a, +((_bullet_col0) / 256)
3651  1270  CE 00       	adc	a,0x00
3652  1272  67          	ld	h, a
3653  1273  6E          	ld	l, (hl)
3654  1274  AF          	xor	a,a
3655  1275  67          	ld	h,a
3656  1276  EB          	ex	de,hl
3657  1277  ED 52       	sbc	hl,de
3658  1279  CD 00 00    	call	_abs_fastcall
3659  127C  5D          	ld	e, l
3660  127D  21 00 00    	ld	hl,_tmp0
3661  1280  73          	ld	(hl), e
3662  1281  0A          	ld	a, (bc)
3663  1282  96          	sub	a, (hl)
3664  1283  30 05       	jr	NC,l_spr_play_bullets_00140
3665  1285  21 00 00    	ld	hl,_tmp1
3666  1288  36 01       	ld	(hl),0x01
3667  128A              l_spr_play_bullets_00140:
3668  128A  DD 7E F2    	ld	a,(ix-14)
3669  128D  D6 1E       	sub	a,0x1e
3670  128F  38 05       	jr	C,l_spr_play_bullets_00142
3671  1291  21 00 00    	ld	hl,_tmp1
3672  1294  36 01       	ld	(hl),0x01
3673  1296              l_spr_play_bullets_00142:
3674  1296  3A 00 00    	ld	a,(_tmp1)
3675  1299  B7          	or	a, a
3676  129A  28 0F       	jr	Z,l_spr_play_bullets_00144
3677  129C  21 00 00    	ld	hl,_bullet_count
3678  129F  35          	dec	(hl)
3679  12A0  DD 6E FE    	ld	l,(ix-2)
3680  12A3  DD 66 FF    	ld	h,(ix-1)
3681  12A6  36 FF       	ld	(hl),0xff
3682  12A8  C3 DD 15    	jp	l_spr_play_bullets_00191
3683  12AB              l_spr_play_bullets_00144:
3684  12AB  DD 7E FE    	ld	a,(ix-2)
3685  12AE  DD 77 F7    	ld	(ix-9),a
3686  12B1  DD 7E FF    	ld	a,(ix-1)
3687  12B4  DD 77 F8    	ld	(ix-8),a
3688  12B7  DD 6E FE    	ld	l,(ix-2)
3689  12BA  DD 66 FF    	ld	h,(ix-1)
3690  12BD  DD 7E F2    	ld	a,(ix-14)
3691  12C0  96          	sub	a,(hl)
3692  12C1  CA A1 15    	jp	Z,l_spr_play_bullets_00186
3693  12C4  3A 00 00    	ld	a,(_s_lin0)
3694  12C7  C6 08       	add	a,0x08
3695  12C9  4F          	ld	c, a
3696  12CA  3A 00 00    	ld	a, (_s_col0)
3697  12CD  47          	ld	b,a
3698  12CE  C5          	push	bc
3699  12CF  CD 00 00    	call	_spr_calc_index
3700  12D2  F1          	pop	af
3701  12D3  22 00 00    	ld	(_index0),hl
3702  12D6  01 00 00    	ld	bc,_scr_map
3703  12D9  09          	add	hl,bc
3704  12DA  4D          	ld	c,l
3705  12DB  44          	ld	b,h
3706  12DC  6E          	ld	l, (hl)
3707  12DD  DD 7E F3    	ld	a,(ix-13)
3708  12E0  D6 07       	sub	a,0x07
3709  12E2  20 04       	jr	NZ,l_spr_play_bullets_00420
3710  12E4  3E 01       	ld	a,0x01
3711  12E6  18 01       	jr	l_spr_play_bullets_00421
3712  12E8              l_spr_play_bullets_00420:
3713  12E8  AF          	xor	a,a
3714  12E9              l_spr_play_bullets_00421:
3715  12E9  5F          	ld	e, a
3716  12EA  7D          	ld	a, l
3717  12EB  D6 4D       	sub	a,0x4d
3718  12ED  20 3D       	jr	NZ,l_spr_play_bullets_00146
3719  12EF  B3          	or	a,e
3720  12F0  28 3A       	jr	Z,l_spr_play_bullets_00146
3721  12F2  AF          	xor	a, a
3722  12F3  02          	ld	(bc), a
3723  12F4  2A 00 00    	ld	hl,(_index0)
3724  12F7  E5          	push	hl
3725  12F8  CD 00 00    	call	_game_obj_set
3726  12FB  F1          	pop	af
3727  12FC  2A 00 00    	ld	hl,(_index0)
3728  12FF  4D          	ld	c,l
3729  1300  5C          	ld	e,h
3730  1301  06 04       	ld	b,0x04
3731  1303  79          	ld	a,c
3732  1304              l_spr_play_bullets_00424:
3733  1304  CB 3B       	srl	e
3734  1306  1F          	rra
3735  1307  10 FB       	djnz	l_spr_play_bullets_00424
3736  1309  07          	rlca
3737  130A  07          	rlca
3738  130B  07          	rlca
3739  130C  07          	rlca
3740  130D  E6 F0       	and	a,0xf0
3741  130F  DD 6E FB    	ld	l,(ix-5)
3742  1312  DD 66 FC    	ld	h,(ix-4)
3743  1315  77          	ld	(hl), a
3744  1316  3A 00 00    	ld	a,(_index0)
3745  1319  E6 0F       	and	a,0x0f
3746  131B  87          	add	a, a
3747  131C  DD 6E FE    	ld	l,(ix-2)
3748  131F  DD 66 FF    	ld	h,(ix-1)
3749  1322  77          	ld	(hl), a
3750  1323  DD 6E F3    	ld	l,(ix-13)
3751  1326  CD F0 15    	call	_spr_explode_bullet
3752  1329  C3 DD 15    	jp	l_spr_play_bullets_00191
3753  132C              l_spr_play_bullets_00146:
3754  132C  7D          	ld	a, l
3755  132D  D6 48       	sub	a,0x48
3756  132F  38 0C       	jr	C,l_spr_play_bullets_00149
3757  1331  2C          	inc	l
3758  1332  28 09       	jr	Z,l_spr_play_bullets_00149
3759  1334  DD 6E F3    	ld	l,(ix-13)
3760  1337  CD F0 15    	call	_spr_explode_bullet
3761  133A  C3 DD 15    	jp	l_spr_play_bullets_00191
3762  133D              l_spr_play_bullets_00149:
3763  133D  DD 6E FE    	ld	l,(ix-2)
3764  1340  DD 66 FF    	ld	h,(ix-1)
3765  1343  DD 7E F2    	ld	a,(ix-14)
3766  1346  77          	ld	(hl), a
3767  1347  DD 6E F9    	ld	l,(ix-7)
3768  134A  DD 66 FA    	ld	h,(ix-6)
3769  134D  7E          	ld	a, (hl)
3770  134E  D6 04       	sub	a,0x04
3771  1350  20 19       	jr	NZ,l_spr_play_bullets_00152
3772  1352  21 00 00    	ld	hl,_s_lin0
3773  1355  7E          	ld	a, (hl)
3774  1356  C6 F0       	add	a,0xf0
3775  1358  4F          	ld	c, a
3776  1359  7E          	ld	a, (hl)
3777  135A  C6 10       	add	a,0x10
3778  135C  DD 77 F5    	ld	(ix-11),a
3779  135F  DD 35 F2    	dec	(ix-14)
3780  1362  DD 7E F2    	ld	a,(ix-14)
3781  1365  3C          	inc	a
3782  1366  DD 77 F4    	ld	(ix-12),a
3783  1369  18 14       	jr	l_spr_play_bullets_00153
3784  136B              l_spr_play_bullets_00152:
3785  136B  21 00 00    	ld	hl,_s_lin0
3786  136E  7E          	ld	a, (hl)
3787  136F  C6 F8       	add	a,0xf8
3788  1371  4F          	ld	c, a
3789  1372  7E          	ld	a, (hl)
3790  1373  C6 08       	add	a,0x08
3791  1375  DD 77 F5    	ld	(ix-11),a
3792  1378  DD 7E F2    	ld	a,(ix-14)
3793  137B  3C          	inc	a
3794  137C  DD 77 F4    	ld	(ix-12),a
3795  137F              l_spr_play_bullets_00153:
3796  137F  7B          	ld	a, e
3797  1380  B7          	or	a, a
3798  1381  CA 69 15    	jp	Z, l_spr_play_bullets_00183
3799  1384  21 00 00    	ld	hl,_tmp0
3800  1387  36 00       	ld	(hl),0x00
3801  1389              l_spr_play_bullets_00193:
3802  1389  2A 00 00    	ld	hl,(_tmp0)
3803  138C  26 00       	ld	h,0x00
3804  138E  11 00 00    	ld	de,_class
3805  1391  19          	add	hl,de
3806  1392  7E          	ld	a,(hl)
3807  1393  B7          	or	a,a
3808  1394  CA 34 14    	jp	Z,l_spr_play_bullets_00194
3809  1397  2A 00 00    	ld	hl,(_tmp0)
3810  139A  26 00       	ld	h,0x00
3811  139C  11 00 00    	ld	de,_lin
3812  139F  19          	add	hl,de
3813  13A0  7E          	ld	a,(hl)
3814  13A1  47          	ld	b,a
3815  13A2  91          	sub	a,c
3816  13A3  DA 34 14    	jp	C,l_spr_play_bullets_00194
3817  13A6  21 00 00    	ld	hl,_tmp0
3818  13A9  DD 7E F5    	ld	a,(ix-11)
3819  13AC  90          	sub	a, b
3820  13AD  DA 34 14    	jp	C, l_spr_play_bullets_00194
3821  13B0  5E          	ld	e,(hl)
3822  13B1  16 00       	ld	d,0x00
3823  13B3  21 00 00    	ld	hl,_col
3824  13B6  19          	add	hl,de
3825  13B7  7E          	ld	a,(hl)
3826  13B8  5F          	ld	e,a
3827  13B9  DD 96 F2    	sub	a,(ix-14)
3828  13BC  38 76       	jr	C,l_spr_play_bullets_00194
3829  13BE  DD 7E F4    	ld	a,(ix-12)
3830  13C1  93          	sub	a, e
3831  13C2  38 70       	jr	C,l_spr_play_bullets_00194
3832  13C4  21 00 00    	ld	hl,_s_lin0
3833  13C7  70          	ld	(hl), b
3834  13C8  21 00 00    	ld	hl,_s_col0
3835  13CB  73          	ld	(hl), e
3836  13CC  C5          	push	bc
3837  13CD  CD 00 00    	call	_rand
3838  13D0  11 06 00    	ld	de,0x0006
3839  13D3  D5          	push	de
3840  13D4  E5          	push	hl
3841  13D5  CD 00 00    	call	__modsint_callee
3842  13D8  CD 00 00    	call	_player_score_add
3843  13DB  C1          	pop	bc
3844  13DC  2A 00 00    	ld	hl,(_tmp0)
3845  13DF  26 00       	ld	h,0x00
3846  13E1  29          	add	hl,hl
3847  13E2  11 00 00    	ld	de,_game_respawn_time
3848  13E5  19          	add	hl, de
3849  13E6  DD 75 F9    	ld	(ix-7),l
3850  13E9  DD 74 FA    	ld	(ix-6),h
3851  13EC  ED 5B 00 00 	ld	de,(_curr_time)
3852  13F0  73          	ld	(hl), e
3853  13F1  23          	inc	hl
3854  13F2  72          	ld	(hl), d
3855  13F3  2A 00 00    	ld	hl,(_tmp0)
3856  13F6  C5          	push	bc
3857  13F7  CD 0A 09    	call	_spr_destroy
3858  13FA  C1          	pop	bc
3859  13FB  2A 00 00    	ld	hl,(_tmp0)
3860  13FE  26 00       	ld	h,0x00
3861  1400  11 00 00    	ld	de,_bullet_col
3862  1403  19          	add	hl,de
3863  1404  7E          	ld	a,(hl)
3864  1405  47          	ld	b,a
3865  1406  3C          	inc	a
3866  1407  28 17       	jr	Z,l_spr_play_bullets_00155
3867  1409  3A 00 00    	ld	a,(_tmp0)
3868  140C  5F          	ld	e,a
3869  140D  16 00       	ld	d,0x00
3870  140F  21 00 00    	ld	hl,_bullet_lin
3871  1412  19          	add	hl,de
3872  1413  7E          	ld	a,(hl)
3873  1414  32 00 00    	ld	(_s_lin0),a
3874  1417  21 00 00    	ld	hl,_s_col0
3875  141A  70          	ld	(hl), b
3876  141B  C5          	push	bc
3877  141C  CD 72 0C    	call	_spr_back_repaint
3878  141F  C1          	pop	bc
3879  1420              l_spr_play_bullets_00155:
3880  1420  DD 6E F7    	ld	l,(ix-9)
3881  1423  DD 66 F8    	ld	h,(ix-8)
3882  1426  3A 00 00    	ld	a,(_s_col0)
3883  1429  77          	ld	(hl),a
3884  142A  C5          	push	bc
3885  142B  DD 6E F3    	ld	l,(ix-13)
3886  142E  CD F0 15    	call	_spr_explode_bullet
3887  1431  C1          	pop	bc
3888  1432  18 0B       	jr	l_spr_play_bullets_00162
3889  1434              l_spr_play_bullets_00194:
3890  1434  21 00 00    	ld	hl,_tmp0
3891  1437  7E          	ld	a,(hl)
3892  1438  3C          	inc	a
3893  1439  77          	ld	(hl),a
3894  143A  D6 07       	sub	a,0x07
3895  143C  DA 89 13    	jp	C, l_spr_play_bullets_00193
3896  143F              l_spr_play_bullets_00162:
3897  143F  3A 00 00    	ld	a,(_game_boss)
3898  1442  B7          	or	a, a
3899  1443  CA A1 15    	jp	Z, l_spr_play_bullets_00186
3900  1446  21 00 00    	ld	hl,_boss_lin
3901  1449  7E          	ld	a, (hl)
3902  144A  91          	sub	a, c
3903  144B  38 06       	jr	C,l_spr_play_bullets_00172
3904  144D  DD 7E F5    	ld	a,(ix-11)
3905  1450  96          	sub	a, (hl)
3906  1451  30 28       	jr	NC,l_spr_play_bullets_00173
3907  1453              l_spr_play_bullets_00172:
3908  1453  3A 00 00    	ld	a,(_boss_lin)
3909  1456  5F          	ld	e,a
3910  1457  16 00       	ld	d,0x00
3911  1459  21 10 00    	ld	hl,0x0010
3912  145C  19          	add	hl, de
3913  145D  06 00       	ld	b,0x00
3914  145F  7D          	ld	a, l
3915  1460  91          	sub	a, c
3916  1461  7C          	ld	a, h
3917  1462  98          	sbc	a, b
3918  1463  E2 68 14    	jp	PO, l_spr_play_bullets_00431
3919  1466  EE 80       	xor	a,0x80
3920  1468              l_spr_play_bullets_00431:
3921  1468  FA A1 15    	jp	M, l_spr_play_bullets_00186
3922  146B  DD 7E F5    	ld	a,(ix-11)
3923  146E  06 00       	ld	b,0x00
3924  1470  95          	sub	a, l
3925  1471  78          	ld	a, b
3926  1472  9C          	sbc	a, h
3927  1473  E2 78 14    	jp	PO, l_spr_play_bullets_00432
3928  1476  EE 80       	xor	a,0x80
3929  1478              l_spr_play_bullets_00432:
3930  1478  FA A1 15    	jp	M, l_spr_play_bullets_00186
3931  147B              l_spr_play_bullets_00173:
3932  147B  21 00 00    	ld	hl,_boss_col
3933  147E  7E          	ld	a, (hl)
3934  147F  DD 96 F2    	sub	a,(ix-14)
3935  1482  DA A1 15    	jp	C, l_spr_play_bullets_00186
3936  1485  DD 7E F4    	ld	a,(ix-12)
3937  1488  96          	sub	a, (hl)
3938  1489  DA A1 15    	jp	C, l_spr_play_bullets_00186
3939  148C  DD 6E F3    	ld	l,(ix-13)
3940  148F  CD F0 15    	call	_spr_explode_bullet
3941  1492  21 00 00    	ld	hl,_game_boss_hit
3942  1495  35          	dec	(hl)
3943  1496  CD 00 00    	call	_game_update_stats
3944  1499  3A 00 00    	ld	a,(_game_boss_hit)
3945  149C  B7          	or	a, a
3946  149D  C2 A1 15    	jp	NZ, l_spr_play_bullets_00186
3947  14A0  21 00 00    	ld	hl,_game_boss
3948  14A3  36 00       	ld	(hl),0x00
3949  14A5  21 00 00    	ld	hl,_game_boss_alive
3950  14A8  36 00       	ld	(hl),0x00
3951  14AA  3A 00 00    	ld	a,(_boss_col)
3952  14AD  21 00 00    	ld	hl,0x0000
3953  14B0  E5          	push	hl
3954  14B1  21 87 03    	ld	hl,0x0387
3955  14B4  E5          	push	hl
3956  14B5  F5          	push	af
3957  14B6  33          	inc	sp
3958  14B7  3A 00 00    	ld	a,(_boss_lin)
3959  14BA  F5          	push	af
3960  14BB  33          	inc	sp
3961  14BC  CD 3E 0E    	call	_spr_add_anim
3962  14BF  F1          	pop	af
3963  14C0  F1          	pop	af
3964  14C1  F1          	pop	af
3965  14C2  21 00 00    	ld	hl,_boss_col
3966  14C5  46          	ld	b, (hl)
3967  14C6  04          	inc	b
3968  14C7  04          	inc	b
3969  14C8  21 00 00    	ld	hl,0x0000
3970  14CB  E5          	push	hl
3971  14CC  21 87 03    	ld	hl,0x0387
3972  14CF  E5          	push	hl
3973  14D0  C5          	push	bc
3974  14D1  33          	inc	sp
3975  14D2  3A 00 00    	ld	a,(_boss_lin)
3976  14D5  F5          	push	af
3977  14D6  33          	inc	sp
3978  14D7  CD 3E 0E    	call	_spr_add_anim
3979  14DA  F1          	pop	af
3980  14DB  F1          	pop	af
3981  14DC  F1          	pop	af
3982  14DD  3A 00 00    	ld	a,(_boss_lin)
3983  14E0  C6 10       	add	a,0x10
3984  14E2  47          	ld	b, a
3985  14E3  3A 00 00    	ld	a,(_boss_col)
3986  14E6  21 00 00    	ld	hl,0x0000
3987  14E9  E5          	push	hl
3988  14EA  21 87 03    	ld	hl,0x0387
3989  14ED  E5          	push	hl
3990  14EE  48          	ld	c,b
3991  14EF  47          	ld	b,a
3992  14F0  C5          	push	bc
3993  14F1  CD 3E 0E    	call	_spr_add_anim
3994  14F4  F1          	pop	af
3995  14F5  F1          	pop	af
3996  14F6  F1          	pop	af
3997  14F7  21 00 00    	ld	hl,_boss_col
3998  14FA  46          	ld	b, (hl)
3999  14FB  04          	inc	b
4000  14FC  04          	inc	b
4001  14FD  3A 00 00    	ld	a,(_boss_lin)
4002  1500  C6 10       	add	a,0x10
4003  1502  57          	ld	d, a
4004  1503  21 00 00    	ld	hl,0x0000
4005  1506  E5          	push	hl
4006  1507  21 87 03    	ld	hl,0x0387
4007  150A  E5          	push	hl
4008  150B  4A          	ld	c, d
4009  150C  C5          	push	bc
4010  150D  CD 3E 0E    	call	_spr_add_anim
4011  1510  F1          	pop	af
4012  1511  F1          	pop	af
4013  1512  F1          	pop	af
4014  1513  21 00 00    	ld	hl,_tmp0
4015  1516  36 00       	ld	(hl),0x00
4016  1518              l_spr_play_bullets_00195:
4017  1518  2A 00 00    	ld	hl,(_tmp0)
4018  151B  26 00       	ld	h,0x00
4019  151D  01 00 00    	ld	bc,_bullet_col
4020  1520  09          	add	hl,bc
4021  1521  7E          	ld	a,(hl)
4022  1522  4F          	ld	c,a
4023  1523  3C          	inc	a
4024  1524  28 15       	jr	Z,l_spr_play_bullets_00164
4025  1526  3A 00 00    	ld	a,(_tmp0)
4026  1529  5F          	ld	e,a
4027  152A  16 00       	ld	d,0x00
4028  152C  21 00 00    	ld	hl,_bullet_lin
4029  152F  19          	add	hl,de
4030  1530  7E          	ld	a,(hl)
4031  1531  32 00 00    	ld	(_s_lin0),a
4032  1534  21 00 00    	ld	hl,_s_col0
4033  1537  71          	ld	(hl), c
4034  1538  CD 72 0C    	call	_spr_back_repaint
4035  153B              l_spr_play_bullets_00164:
4036  153B  2A 00 00    	ld	hl,(_tmp0)
4037  153E  26 00       	ld	h,0x00
4038  1540  01 00 00    	ld	bc,_bullet_col
4039  1543  09          	add	hl,bc
4040  1544  36 FF       	ld	(hl),0xff
4041  1546  2A 00 00    	ld	hl,(_tmp0)
4042  1549  CD 0A 09    	call	_spr_destroy
4043  154C  2A 00 00    	ld	hl,(_tmp0)
4044  154F  26 00       	ld	h,0x00
4045  1551  29          	add	hl, hl
4046  1552  11 00 00    	ld	de,_game_respawn_time
4047  1555  19          	add	hl, de
4048  1556  AF          	xor	a, a
4049  1557  77          	ld	(hl), a
4050  1558  23          	inc	hl
4051  1559  77          	ld	(hl), a
4052  155A  21 00 00    	ld	hl,_tmp0
4053  155D  7E          	ld	a,(hl)
4054  155E  3C          	inc	a
4055  155F  77          	ld	(hl),a
4056  1560  D6 07       	sub	a,0x07
4057  1562  38 B4       	jr	C,l_spr_play_bullets_00195
4058  1564  CD 00 00    	call	_game_boss_clear
4059  1567  18 38       	jr	l_spr_play_bullets_00186
4060  1569              l_spr_play_bullets_00183:
4061  1569  3A 07 00    	ld	a,(_lin + 7)
4062  156C  47          	ld	b,a
4063  156D  91          	sub	a, c
4064  156E  38 31       	jr	C,l_spr_play_bullets_00186
4065  1570  DD 7E F5    	ld	a,(ix-11)
4066  1573  90          	sub	a, b
4067  1574  38 2B       	jr	C,l_spr_play_bullets_00186
4068  1576  3A 07 00    	ld	a,(_col + 7)
4069  1579  4F          	ld	c,a
4070  157A  DD 96 F2    	sub	a,(ix-14)
4071  157D  38 22       	jr	C,l_spr_play_bullets_00186
4072  157F  DD 7E F4    	ld	a,(ix-12)
4073  1582  91          	sub	a, c
4074  1583  38 1C       	jr	C,l_spr_play_bullets_00186
4075  1585  2E 03       	ld	l,0x03
4076  1587  CD 00 00    	call	_zx_border_fastcall
4077  158A  2E 0A       	ld	l,0x0a
4078  158C  CD 00 00    	call	_player_hit
4079  158F  DD 6E FE    	ld	l,(ix-2)
4080  1592  DD 66 FF    	ld	h,(ix-1)
4081  1595  3A 00 00    	ld	a,(_s_col0)
4082  1598  77          	ld	(hl),a
4083  1599  DD 6E F6    	ld	l,(ix-10)
4084  159C  CD F0 15    	call	_spr_explode_bullet
4085  159F  18 4A       	jr	l_spr_play_bullets_00198
4086  15A1              l_spr_play_bullets_00186:
4087  15A1  DD 6E F7    	ld	l,(ix-9)
4088  15A4  DD 66 F8    	ld	h,(ix-8)
4089  15A7  4E          	ld	c, (hl)
4090  15A8  0C          	inc	c
4091  15A9  28 32       	jr	Z,l_spr_play_bullets_00191
4092  15AB  DD 7E F2    	ld	a,(ix-14)
4093  15AE  D6 20       	sub	a,0x20
4094  15B0  30 2B       	jr	NC,l_spr_play_bullets_00191
4095  15B2  F3          	di
4096  15B3  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4097  15B5  DD 86 F3    	add	a,(ix-13)
4098  15B8  6F          	ld	l, a
4099  15B9  3E 00       	ld	a, +((_bullet_tile) / 256)
4100  15BB  CE 00       	adc	a,0x00
4101  15BD  67          	ld	h, a
4102  15BE  4E          	ld	c, (hl)
4103  15BF  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4104  15C1  DD 86 F3    	add	a,(ix-13)
4105  15C4  6F          	ld	l, a
4106  15C5  3E 00       	ld	a, +((_bullet_colint) / 256)
4107  15C7  CE 00       	adc	a,0x00
4108  15C9  67          	ld	h, a
4109  15CA  46          	ld	b, (hl)
4110  15CB  79          	ld	a, c
4111  15CC  80          	add	a, b
4112  15CD  47          	ld	b, a
4113  15CE  DD 7E F2    	ld	a,(ix-14)
4114  15D1  F5          	push	af
4115  15D2  33          	inc	sp
4116  15D3  3A 00 00    	ld	a,(_s_lin0)
4117  15D6  48          	ld	c,b
4118  15D7  47          	ld	b,a
4119  15D8  C5          	push	bc
4120  15D9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4121  15DC  FB          	ei
4122  15DD              l_spr_play_bullets_00191:
4123  15DD  DD 34 F3    	inc	(ix-13)
4124  15E0  DD 7E F3    	ld	a,(ix-13)
4125  15E3  DD 77 F6    	ld	(ix-10),a
4126  15E6  D6 08       	sub	a,0x08
4127  15E8  DA 4E 10    	jp	C, l_spr_play_bullets_00197
4128  15EB              l_spr_play_bullets_00198:
4129  15EB  DD F9       	ld	sp, ix
4130  15ED  DD E1       	pop	ix
4131  15EF  C9          	ret
4132  15F0              	SECTION code_compiler
4133  15F0              ;	---------------------------------
4134  15F0              ; Function spr_explode_bullet
4135  15F0              ; ---------------------------------
4136  15F0              _spr_explode_bullet:
4137  15F0  5D          	ld	e, l
4138  15F1  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4139  15F3  83          	add	a, e
4140  15F4  4F          	ld	c, a
4141  15F5  3E 00       	ld	a, +((_bullet_col) / 256)
4142  15F7  CE 00       	adc	a,0x00
4143  15F9  47          	ld	b, a
4144  15FA  0A          	ld	a, (bc)
4145  15FB  57          	ld	d, a
4146  15FC  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4147  15FE  83          	add	a, e
4148  15FF  6F          	ld	l, a
4149  1600  3E 00       	ld	a, +((_bullet_lin) / 256)
4150  1602  CE 00       	adc	a,0x00
4151  1604  67          	ld	h, a
4152  1605  5E          	ld	e, (hl)
4153  1606  C5          	push	bc
4154  1607  21 00 00    	ld	hl,0x0000
4155  160A  E5          	push	hl
4156  160B  21 87 03    	ld	hl,0x0387
4157  160E  E5          	push	hl
4158  160F  D5          	push	de
4159  1610  CD 3E 0E    	call	_spr_add_anim
4160  1613  F1          	pop	af
4161  1614  F1          	pop	af
4162  1615  F1          	pop	af
4163  1616  C1          	pop	bc
4164  1617  21 00 00    	ld	hl,_bullet_count
4165  161A  35          	dec	(hl)
4166  161B  3E FF       	ld	a,0xff
4167  161D  02          	ld	(bc), a
4168  161E  C9          	ret
4169  161F              	SECTION code_compiler
4170  161F              ;	---------------------------------
4171  161F              ; Function spr_turn_horizontal
4172  161F              ; ---------------------------------
4173  161F              _spr_turn_horizontal:
4174  161F  21 00 00    	ld	hl,_s_state
4175  1622  CB 56       	bit	2, (hl)
4176  1624  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4177  1626  21 00 00    	ld	hl,_s_state
4178  1629  7E          	ld	a,(hl)
4179  162A  F6 08       	or	a,0x08
4180  162C  E6 FB       	and	a,0xfb
4181  162E  77          	ld	(hl),a
4182  162F  18 09       	jr	l_spr_turn_horizontal_00103
4183  1631              l_spr_turn_horizontal_00102:
4184  1631  21 00 00    	ld	hl,_s_state
4185  1634  7E          	ld	a,(hl)
4186  1635  E6 F7       	and	a,0xf7
4187  1637  F6 04       	or	a,0x04
4188  1639  77          	ld	(hl),a
4189  163A              l_spr_turn_horizontal_00103:
4190  163A  2A 00 00    	ld	hl,(_sprite)
4191  163D  26 00       	ld	h,0x00
4192  163F  01 00 00    	ld	bc,_state
4193  1642  09          	add	hl,bc
4194  1643  3A 00 00    	ld	a,(_s_state)
4195  1646  77          	ld	(hl),a
4196  1647  2A 00 00    	ld	hl,(_sprite)
4197  164A  26 00       	ld	h,0x00
4198  164C  01 00 00    	ld	bc,_tile
4199  164F  09          	add	hl,bc
4200  1650  E5          	push	hl
4201  1651  2A 00 00    	ld	hl,(_sprite)
4202  1654  CD 73 09    	call	_spr_tile
4203  1657  C1          	pop	bc
4204  1658  7D          	ld	a,l
4205  1659  02          	ld	(bc), a
4206  165A  C9          	ret
4207  165B              	SECTION code_compiler
4208  165B              ;	---------------------------------
4209  165B              ; Function spr_btile_paint_back
4210  165B              ; ---------------------------------
4211  165B              _spr_btile_paint_back:
4212  165B  21 20 00    	ld	hl,0x0020
4213  165E  22 00 00    	ld	(_tmp_ui),hl
4214  1661  21 00 00    	ld	hl,_map_paper
4215  1664  7E          	ld	a, (hl)
4216  1665  0F          	rrca
4217  1666  0F          	rrca
4218  1667  0F          	rrca
4219  1668  E6 1F       	and	a,0x1f
4220  166A  B6          	or	a, (hl)
4221  166B  F6 40       	or	a,0x40
4222  166D  32 00 00    	ld	(_map_paper_clr),a
4223  1670              l_spr_btile_paint_back_00106:
4224  1670  21 00 00    	ld	hl,_tmp_ui
4225  1673  7E          	ld	a, (hl)
4226  1674  D6 A0       	sub	a,0xa0
4227  1676  23          	inc	hl
4228  1677  7E          	ld	a, (hl)
4229  1678  DE 28       	sbc	a,0x28
4230  167A  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4231  167C  21 00 00    	ld	hl,_tmp0
4232  167F  36 00       	ld	(hl),0x00
4233  1681              l_spr_btile_paint_back_00103:
4234  1681  3A 00 00    	ld	a,(_tmp0)
4235  1684  D6 10       	sub	a,0x10
4236  1686  30 34       	jr	NC,l_spr_btile_paint_back_00105
4237  1688  01 00 00    	ld	bc,_btiles
4238  168B  2A 00 00    	ld	hl,(_tmp_ui)
4239  168E  09          	add	hl,bc
4240  168F  7D          	ld	a,l
4241  1690  44          	ld	b,h
4242  1691  21 00 00    	ld	hl,_tmp0
4243  1694  86          	add	a, (hl)
4244  1695  4F          	ld	c, a
4245  1696  78          	ld	a, b
4246  1697  CE 00       	adc	a,0x00
4247  1699  47          	ld	b, a
4248  169A  0A          	ld	a, (bc)
4249  169B  32 00 00    	ld	(_tmp),a
4250  169E  E6 38       	and	a,0x38
4251  16A0  5F          	ld	e, a
4252  16A1  3A 00 00    	ld	a,(_map_paper_last)
4253  16A4  93          	sub	a, e
4254  16A5  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4255  16A7  21 00 00    	ld	hl,_tmp
4256  16AA  7E          	ld	a, (hl)
4257  16AB  E6 C7       	and	a,0xc7
4258  16AD  77          	ld	(hl),a
4259  16AE  21 00 00    	ld	hl,_map_paper
4260  16B1  B6          	or	a, (hl)
4261  16B2  32 00 00    	ld	(_tmp),a
4262  16B5  02          	ld	(bc), a
4263  16B6              l_spr_btile_paint_back_00102:
4264  16B6  21 00 00    	ld	hl,_tmp0
4265  16B9  34          	inc	(hl)
4266  16BA  18 C5       	jr	l_spr_btile_paint_back_00103
4267  16BC              l_spr_btile_paint_back_00105:
4268  16BC  2A 00 00    	ld	hl,(_tmp_ui)
4269  16BF  11 30 00    	ld	de,0x0030
4270  16C2  19          	add	hl,de
4271  16C3  22 00 00    	ld	(_tmp_ui),hl
4272  16C6  18 A8       	jr	l_spr_btile_paint_back_00106
4273  16C8              l_spr_btile_paint_back_00108:
4274  16C8  C3 00 00    	jp  _game_attribs
4275  16CB              	SECTION IGNORE
4276  0000              
