1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_brick_anim
205   0000              	GLOBAL _spr_draw_index
206   0000              	GLOBAL _spr_draw_row
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_restart
553   0000              	GLOBAL _player_kill
554   0000              	GLOBAL _player_check_input
555   0000              	GLOBAL _player_collision
556   0000              	GLOBAL _player_init
557   0000              	GLOBAL _game_attribs
558   0000              	GLOBAL _game_boss_clear
559   0000              	GLOBAL _game_obj_clear
560   0000              	GLOBAL _game_obj_chk
561   0000              	GLOBAL _game_obj_set
562   0000              	GLOBAL _game_shoot_fire_boss
563   0000              	GLOBAL _game_shoot_fire
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_joystick_set_menu
566   0000              	GLOBAL _game_joystick_set
567   0000              	GLOBAL _game_joystick_change
568   0000              	GLOBAL _game_print_header
569   0000              	GLOBAL _game_end
570   0000              	GLOBAL _game_phase_print_score_back
571   0000              	GLOBAL _game_check_time
572   0000              	GLOBAL _game_rotate_attrib
573   0000              	GLOBAL _game_colour_message
574   0000              	GLOBAL _game_paint_attrib_lin_h
575   0000              	GLOBAL _game_paint_attrib_lin
576   0000              	GLOBAL _game_paint_attrib
577   0000              	GLOBAL _game_print_score
578   0000              	GLOBAL _game_unfreeze_all
579   0000              	GLOBAL _game_freeze_all
580   0000              	GLOBAL _game_freeze
581   0000              	GLOBAL _game_enemy_add_get_index
582   0000              	GLOBAL _game_check_cell
583   0000              	GLOBAL _game_check_map
584   0000              	GLOBAL _game_loop
585   0000              	GLOBAL _game_round_init
586   0000              	GLOBAL _game_start_timer
587   0000              	GLOBAL _game_tick
588   0000              	GLOBAL _game_update_stats
589   0000              	GLOBAL _game_print_footer
590   0000              	GLOBAL _game_fill_row
591   0000              	GLOBAL _game_fps
592   0000              	GLOBAL _game_respawn
593   0000              	GLOBAL _game_draw_screen
594   0000              	GLOBAL _boss_turn
595   0000              	GLOBAL _enemy_avoid_dead
596   0000              	GLOBAL _enemy_avoid_fall
597   0000              	GLOBAL _enemy_respawn
598   0000              	GLOBAL _enemy_init
599   0000              	GLOBAL _enemy_move
600   0000              	GLOBAL _enemy_turn
601   0000              	GLOBAL _enemy_hit
602   0000              	GLOBAL _enemy_coin1
603   0000              	GLOBAL _enemy_static
604   0000              	GLOBAL _enemy_walk
605   0000              	GLOBAL _enemy_horizontal
606   0000              	GLOBAL _enemy_vertical
607   0000              	GLOBAL _ay_fx_play
608   0000              	GLOBAL _ay_midi_play
609   0000              	GLOBAL _ay_is_playing
610   0000              	GLOBAL _ay_reset
611   0000              	GLOBAL _test_func
612   0000              	GLOBAL _test_proc
613   0000              	GLOBAL _in_mouse_kempston_wheel_delta
614   0000              	GLOBAL _in_mouse_kempston_wheel
615   0000              	GLOBAL _in_mouse_kempston_callee
616   0000              	GLOBAL _in_mouse_kempston
617   0000              	GLOBAL _in_mouse_kempston_setpos_callee
618   0000              	GLOBAL _in_mouse_kempston_setpos
619   0000              	GLOBAL _in_mouse_kempston_reset
620   0000              	GLOBAL _in_mouse_kempston_init
621   0000              	GLOBAL _in_mouse_amx_wheel_delta
622   0000              	GLOBAL _in_mouse_amx_wheel
623   0000              	GLOBAL _in_mouse_amx_callee
624   0000              	GLOBAL _in_mouse_amx
625   0000              	GLOBAL _in_mouse_amx_setpos_callee
626   0000              	GLOBAL _in_mouse_amx_setpos
627   0000              	GLOBAL _in_mouse_amx_reset
628   0000              	GLOBAL _in_mouse_amx_init_callee
629   0000              	GLOBAL _in_mouse_amx_init
630   0000              	GLOBAL _in_stick_sinclair2
631   0000              	GLOBAL _in_stick_sinclair1
632   0000              	GLOBAL _in_stick_kempston
633   0000              	GLOBAL _in_stick_fuller
634   0000              	GLOBAL _in_stick_cursor
635   0000              	GLOBAL _in_stick_keyboard_fastcall
636   0000              	GLOBAL _in_stick_keyboard
637   0000              	GLOBAL _in_wait_nokey
638   0000              	GLOBAL _in_wait_key
639   0000              	GLOBAL _in_test_key
640   0000              	GLOBAL _in_pause_fastcall
641   0000              	GLOBAL _in_pause
642   0000              	GLOBAL _in_key_scancode_fastcall
643   0000              	GLOBAL _in_key_scancode
644   0000              	GLOBAL _in_key_pressed_fastcall
645   0000              	GLOBAL _in_key_pressed
646   0000              	GLOBAL _in_inkey
647   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
648   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
649   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
650   0000              	GLOBAL _NIRVANAP_HOLE
651   0000              	GLOBAL _NIRVANAP_ISR_HOOK
652   0000              	GLOBAL _player_lvl_table
653   0000              	GLOBAL _map_paper_last
654   0000              	GLOBAL _map_paper_clr
655   0000              	GLOBAL _map_paper
656   0000              	GLOBAL _draw_count
657   0000              	GLOBAL _g_player_hit_right
658   0000              	GLOBAL _g_player_hit_left
659   0000              	GLOBAL _joynames
660   0000              	GLOBAL _initials
661   0000              	GLOBAL _bullet_count
662   0000              	GLOBAL _spr_hack
663   0000              	GLOBAL _boss_stat
664   0000              	GLOBAL _boss_time_fire
665   0000              	GLOBAL _boss_time
666   0000              	GLOBAL _boss_tile
667   0000              	GLOBAL _boss_inc
668   0000              	GLOBAL _boss_col
669   0000              	GLOBAL _boss_lin
670   0000              	GLOBAL _bullet_vel
671   0000              	GLOBAL _bullet_frames
672   0000              	GLOBAL _bullet_colint
673   0000              	GLOBAL _bullet_dir
674   0000              	GLOBAL _bullet_tile
675   0000              	GLOBAL _bullet_col
676   0000              	GLOBAL _bullet_lin
677   0000              	GLOBAL _bullet_col0
678   0000              	GLOBAL _bullet_lin0
679   0000              	GLOBAL _bullet_max
680   0000              	GLOBAL _bullet_class
681   0000              	GLOBAL _mush_class
682   0000              	GLOBAL _mush_index
683   0000              	GLOBAL _anim_count
684   0000              	GLOBAL _anim_respanwn
685   0000              	GLOBAL _anim_loop
686   0000              	GLOBAL _anim_end
687   0000              	GLOBAL _anim_int
688   0000              	GLOBAL _anim_tile
689   0000              	GLOBAL _anim_col
690   0000              	GLOBAL _anim_lin
691   0000              	GLOBAL _map_heigth
692   0000              	GLOBAL _map_width
693   0000              	GLOBAL _scr_curr
694   0000              	GLOBAL _scr_obj1
695   0000              	GLOBAL _scr_obj0
696   0000              	GLOBAL _scr_map
697   0000              	GLOBAL _sprite_speed_alt
698   0000              	GLOBAL _sprite_frames
699   0000              	GLOBAL _sprite_speed
700   0000              	GLOBAL _screen_ink
701   0000              	GLOBAL _screen_paper
702   0000              	GLOBAL _player_over_stair
703   0000              	GLOBAL _game_start_scr
704   0000              	GLOBAL _game_respawn_tile
705   0000              	GLOBAL _game_respawn_index
706   0000              	GLOBAL _game_respawn_time
707   0000              	GLOBAL _game_menu_sel
708   0000              	GLOBAL _game_score_top
709   0000              	GLOBAL _player_lives
710   0000              	GLOBAL _game_over
711   0000              	GLOBAL _game_sound
712   0000              	GLOBAL _game_inmune
713   0000              	GLOBAL _game_god_mode
714   0000              	GLOBAL _game_two_player
715   0000              	GLOBAL _game_brick_tile
716   0000              	GLOBAL _sprite_curr_index
717   0000              	GLOBAL _spr_count
718   0000              	GLOBAL _bullet_time
719   0000              	GLOBAL _anim_time
720   0000              	GLOBAL _frame_time
721   0000              	GLOBAL _entry_time
722   0000              	GLOBAL _curr_time
723   0000              	GLOBAL _s_state
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _enemies
728   0000              	GLOBAL _tmp_ui
729   0000              	GLOBAL _tmp_sc
730   0000              	GLOBAL _tmp_uc
731   0000              	GLOBAL _tmp1
732   0000              	GLOBAL _tmp0
733   0000              	GLOBAL _tmp
734   0000              	GLOBAL _index1
735   0000              	GLOBAL _index0
736   0000              	GLOBAL _loop_count
737   0000              	GLOBAL _s_col1
738   0000              	GLOBAL _s_col0
739   0000              	GLOBAL _s_lin1
740   0000              	GLOBAL _s_lin0
741   0000              	GLOBAL _s_tile1
742   0000              	GLOBAL _s_tile0
743   0000              	GLOBAL _player_brick_time
744   0000              	GLOBAL _player_hit_count
745   0000              	GLOBAL _sprite_horizontal_check
746   0000              	GLOBAL _sprite_on_air
747   0000              	GLOBAL _sprite
748   0000              	GLOBAL _fps
749   0000              	GLOBAL _game_respawn_curr_time
750   0000              	GLOBAL _game_worldup
751   0000              	GLOBAL _game_mush_count
752   0000              	GLOBAL _game_boss_fix
753   0000              	GLOBAL _game_boss_hit
754   0000              	GLOBAL _game_boss_alive
755   0000              	GLOBAL _game_boss
756   0000              	GLOBAL _game_world
757   0000              	GLOBAL _game_gravity
758   0000              	GLOBAL _player_hit_time
759   0000              	GLOBAL _player_lin_scr
760   0000              	GLOBAL _player_col_scr
761   0000              	GLOBAL _player_lvl
762   0000              	GLOBAL _player_int
763   0000              	GLOBAL _player_str
764   0000              	GLOBAL _player_max_vita
765   0000              	GLOBAL _player_max_mana
766   0000              	GLOBAL _player_vita
767   0000              	GLOBAL _player_mana
768   0000              	GLOBAL _player_keys
769   0000              	GLOBAL _player_vel_inc
770   0000              	GLOBAL _player_vel_y1
771   0000              	GLOBAL _player_vel_y0
772   0000              	GLOBAL _player_vel_y
773   0000              	GLOBAL _player_vel_x
774   0000              	GLOBAL _player_joy
775   0000              	GLOBAL _player_score
776   0000              	GLOBAL _last_time
777   0000              	GLOBAL _player_slide
778   0000              	GLOBAL _spr_timer
779   0000              	GLOBAL _jump_lin
780   0000              	GLOBAL _player_hit_col
781   0000              	GLOBAL _player_hit_lin
782   0000              	GLOBAL _colint
783   0000              	GLOBAL _col
784   0000              	GLOBAL _lin
785   0000              	GLOBAL _tile
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _tbuffer
790   0000              	GLOBAL _dirs
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc1
793   0000              	GLOBAL _btiles
794   0000              	GLOBAL _spec128
795   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
798   0000              	GLOBAL _ay_effect_20
799   0000              	GLOBAL _ay_effect_19
800   0000              	GLOBAL _ay_effect_18
801   0000              	GLOBAL _ay_effect_17
802   0000              	GLOBAL _ay_effect_16
803   0000              	GLOBAL _ay_effect_15
804   0000              	GLOBAL _ay_effect_14
805   0000              	GLOBAL _ay_effect_13
806   0000              	GLOBAL _ay_effect_12
807   0000              	GLOBAL _ay_effect_11
808   0000              	GLOBAL _ay_effect_10
809   0000              	GLOBAL _ay_effect_09
810   0000              	GLOBAL _ay_effect_08
811   0000              	GLOBAL _ay_effect_07
812   0000              	GLOBAL _ay_effect_06
813   0000              	GLOBAL _ay_effect_05
814   0000              	GLOBAL _ay_effect_04
815   0000              	GLOBAL _ay_effect_03
816   0000              	GLOBAL _ay_effect_02
817   0000              	GLOBAL _ay_effect_01
818   0000              	GLOBAL _pb_midi_phase_1
819   0000              	GLOBAL _pb_midi_title
820   0000              	GLOBAL _control_method
821   0000              	GLOBAL _world1_h
822   0000              	GLOBAL _world1_w
823   0000              	GLOBAL _world1
824   0000              	GLOBAL _paper1
825   0000              	GLOBAL _lenght1
826   0000              	GLOBAL _start_scr1
827   0000              	GLOBAL _world0_h
828   0000              	GLOBAL _world0_w
829   0000              	GLOBAL _world0
830   0000              	GLOBAL _paper0
831   0000              	GLOBAL _lenght0
832   0000              	GLOBAL _start_scr0
833   0000              ;--------------------------------------------------------
834   0000              ; special function registers
835   0000              ;--------------------------------------------------------
836   0000              defc _IO_FE	=	0x00fe
837   0000              defc _IO_1FFD	=	0x1ffd
838   0000              defc _IO_7FFD	=	0x7ffd
839   0000              ;--------------------------------------------------------
840   0000              ; ram data
841   0000              ;--------------------------------------------------------
842   0000              	SECTION bss_compiler
843   0000              ;--------------------------------------------------------
844   0000              ; ram data
845   0000              ;--------------------------------------------------------
846   0000              
847   0000              IF 0
848   0000              
849   0000              ; .area _INITIALIZED removed by z88dk
850   0000              
851   0000              
852   0000              ENDIF
853   0000              
854   0000              ;--------------------------------------------------------
855   0000              ; absolute external ram data
856   0000              ;--------------------------------------------------------
857   0000              	SECTION IGNORE
858   0000              ;--------------------------------------------------------
859   0000              ; global & static initialisations
860   0000              ;--------------------------------------------------------
861   0000              	SECTION code_crt_init
862   0000              ;--------------------------------------------------------
863   0000              ; Home
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; code
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_compiler
870   0000              ;	---------------------------------
871   0000              ; Function spr_calc_index
872   0000              ; ---------------------------------
873   0000              _spr_calc_index:
874   0000  CD 00 00    	call	___sdcc_enter_ix
875   0003  DD 4E 05    	ld	c,(ix+5)
876   0006  CB 39       	srl	c
877   0008  06 00       	ld	b,0x00
878   000A  DD 7E 04    	ld	a,(ix+4)
879   000D  07          	rlca
880   000E  07          	rlca
881   000F  07          	rlca
882   0010  07          	rlca
883   0011  E6 0F       	and	a,0x0f
884   0013  6F          	ld	l, a
885   0014  26 00       	ld	h,0x00
886   0016  29          	add	hl, hl
887   0017  29          	add	hl, hl
888   0018  29          	add	hl, hl
889   0019  29          	add	hl, hl
890   001A  09          	add	hl, bc
891   001B  DD E1       	pop	ix
892   001D  C9          	ret
893   001E              	SECTION code_compiler
894   001E              ;	---------------------------------
895   001E              ; Function spr_chktime
896   001E              ; ---------------------------------
897   001E              _spr_chktime:
898   001E  CD 00 00    	call	___sdcc_enter_ix
899   0021  5E          	ld	e,(hl)
900   0022  F5          	push	af
901   0023  16 00       	ld	d,0x00
902   0025  4D          	ld	c,l
903   0026  44          	ld	b,h
904   0027  21 00 00    	ld	hl,_sprite_speed_alt
905   002A  19          	add	hl, de
906   002B  7E          	ld	a, (hl)
907   002C  B7          	or	a,a
908   002D  20 15       	jr	NZ,l_spr_chktime_00102
909   002F  57          	ld	d,a
910   0030  21 00 00    	ld	hl,_class
911   0033  19          	add	hl, de
912   0034  56          	ld	d, (hl)
913   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
914   0037  82          	add	a, d
915   0038  6F          	ld	l, a
916   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
917   003B  CE 00       	adc	a,0x00
918   003D  67          	ld	h, a
919   003E  7E          	ld	a, (hl)
920   003F  32 00 00    	ld	(_tmp),a
921   0042  18 03       	jr	l_spr_chktime_00103
922   0044              l_spr_chktime_00102:
923   0044  32 00 00    	ld	(_tmp),a
924   0047              l_spr_chktime_00103:
925   0047  3A 00 00    	ld	a,(_tmp)
926   004A  DD 77 FE    	ld	(ix-2),a
927   004D  26 00       	ld	h,0x00
928   004F  DD 74 FF    	ld	(ix-1),h
929   0052  6B          	ld	l, e
930   0053  29          	add	hl, hl
931   0054  11 00 00    	ld	de,_last_time
932   0057  19          	add	hl, de
933   0058  5E          	ld	e, (hl)
934   0059  23          	inc	hl
935   005A  56          	ld	d, (hl)
936   005B  C5          	push	bc
937   005C  DD 6E FE    	ld	l,(ix-2)
938   005F  DD 66 FF    	ld	h,(ix-1)
939   0062  E5          	push	hl
940   0063  D5          	push	de
941   0064  CD 00 00    	call	_game_check_time
942   0067  F1          	pop	af
943   0068  F1          	pop	af
944   0069  C1          	pop	bc
945   006A  7D          	ld	a,l
946   006B  B7          	or	a, a
947   006C  28 14       	jr	Z,l_spr_chktime_00105
948   006E  0A          	ld	a, (bc)
949   006F  6F          	ld	l, a
950   0070  26 00       	ld	h,0x00
951   0072  29          	add	hl, hl
952   0073  01 00 00    	ld	bc,_last_time
953   0076  09          	add	hl,bc
954   0077  ED 5B 00 00 	ld	de,(_curr_time)
955   007B  73          	ld	(hl),e
956   007C  23          	inc	hl
957   007D  72          	ld	(hl),d
958   007E  2E 01       	ld	l,0x01
959   0080  18 02       	jr	l_spr_chktime_00106
960   0082              l_spr_chktime_00105:
961   0082  2E 00       	ld	l,0x00
962   0084              l_spr_chktime_00106:
963   0084  F1          	pop	af
964   0085  DD E1       	pop	ix
965   0087  C9          	ret
966   0088              	SECTION code_compiler
967   0088              ;	---------------------------------
968   0088              ; Function spr_move_up
969   0088              ; ---------------------------------
970   0088              _spr_move_up:
971   0088  2A 00 00    	ld	hl,(_sprite)
972   008B  26 00       	ld	h,0x00
973   008D  01 00 00    	ld	bc,_lin
974   0090  09          	add	hl,bc
975   0091  7E          	ld	a,(hl)
976   0092  C6 FE       	add	a,0xfe
977   0094  32 00 00    	ld	(_s_lin1),a
978   0097  07          	rlca
979   0098  07          	rlca
980   0099  07          	rlca
981   009A  07          	rlca
982   009B  E6 0F       	and	a,0x0f
983   009D  4F          	ld	c, a
984   009E  3A 00 00    	ld	a,(_s_lin0)
985   00A1  07          	rlca
986   00A2  07          	rlca
987   00A3  07          	rlca
988   00A4  07          	rlca
989   00A5  E6 0F       	and	a,0x0f
990   00A7  47          	ld	b, a
991   00A8  79          	ld	a, c
992   00A9  90          	sub	a, b
993   00AA  20 04       	jr	NZ,l_spr_move_up_00136
994   00AC  3E 01       	ld	a,0x01
995   00AE  18 01       	jr	l_spr_move_up_00137
996   00B0              l_spr_move_up_00136:
997   00B0  AF          	xor	a,a
998   00B1              l_spr_move_up_00137:
999   00B1  EE 01       	xor	a,0x01
1000  00B3  28 1D       	jr	Z,l_spr_move_up_00104
1001  00B5  2A 00 00    	ld	hl,(_sprite)
1002  00B8  26 00       	ld	h,0x00
1003  00BA  01 00 00    	ld	bc,_col
1004  00BD  09          	add	hl,bc
1005  00BE  7E          	ld	a,(hl)
1006  00BF  F5          	push	af
1007  00C0  33          	inc	sp
1008  00C1  3A 00 00    	ld	a,(_s_lin1)
1009  00C4  F5          	push	af
1010  00C5  33          	inc	sp
1011  00C6  CD 00 00    	call	_game_check_map
1012  00C9  F1          	pop	af
1013  00CA  7C          	ld	a,h
1014  00CB  B5          	or	a,l
1015  00CC  28 04       	jr	Z,l_spr_move_up_00104
1016  00CE  2E 01       	ld	l,0x01
1017  00D0  18 50       	jr	l_spr_move_up_00114
1018  00D2              l_spr_move_up_00104:
1019  00D2  2A 00 00    	ld	hl,(_sprite)
1020  00D5  26 00       	ld	h,0x00
1021  00D7  01 00 00    	ld	bc,_lin
1022  00DA  09          	add	hl,bc
1023  00DB  3A 00 00    	ld	a,(_s_lin1)
1024  00DE  D6 10       	sub	a,0x10
1025  00E0  4D          	ld	c,l
1026  00E1  44          	ld	b,h
1027  00E2  30 38       	jr	NC,l_spr_move_up_00112
1028  00E4  3A 00 00    	ld	a,(_sprite)
1029  00E7  D6 07       	sub	a,0x07
1030  00E9  20 2B       	jr	NZ,l_spr_move_up_00109
1031  00EB  CD 84 04    	call	_spr_page_up
1032  00EE  5D          	ld	e, l
1033  00EF  2A 00 00    	ld	hl,(_sprite)
1034  00F2  26 00       	ld	h,0x00
1035  00F4  01 00 00    	ld	bc,_lin
1036  00F7  09          	add	hl,bc
1037  00F8  7B          	ld	a,e
1038  00F9  B7          	or	a,a
1039  00FA  4D          	ld	c,l
1040  00FB  44          	ld	b,h
1041  00FC  28 12       	jr	Z,l_spr_move_up_00106
1042  00FE  3E 90       	ld	a,0x90
1043  0100  02          	ld	(bc), a
1044  0101  21 00 00    	ld	hl,_player_lin_scr
1045  0104  36 00       	ld	(hl),0x00
1046  0106  3A 07 00    	ld	a,(_col + 0x0007)
1047  0109  32 00 00    	ld	(_player_col_scr),a
1048  010C  2E 01       	ld	l,0x01
1049  010E  18 12       	jr	l_spr_move_up_00114
1050  0110              l_spr_move_up_00106:
1051  0110  AF          	xor	a, a
1052  0111  02          	ld	(bc), a
1053  0112  2E 01       	ld	l,0x01
1054  0114  18 0C       	jr	l_spr_move_up_00114
1055  0116              l_spr_move_up_00109:
1056  0116  AF          	xor	a, a
1057  0117  02          	ld	(bc), a
1058  0118  2E 01       	ld	l,0x01
1059  011A  18 06       	jr	l_spr_move_up_00114
1060  011C              l_spr_move_up_00112:
1061  011C  3A 00 00    	ld	a,(_s_lin1)
1062  011F  02          	ld	(bc), a
1063  0120  2E 00       	ld	l,0x00
1064  0122              l_spr_move_up_00114:
1065  0122  C9          	ret
1066  0123              	SECTION code_compiler
1067  0123              ;	---------------------------------
1068  0123              ; Function spr_move_down
1069  0123              ; ---------------------------------
1070  0123              _spr_move_down:
1071  0123  2A 00 00    	ld	hl,(_sprite)
1072  0126  26 00       	ld	h,0x00
1073  0128  01 00 00    	ld	bc,_lin
1074  012B  09          	add	hl,bc
1075  012C  7E          	ld	a,(hl)
1076  012D  C6 10       	add	a,0x10
1077  012F  32 00 00    	ld	(_s_lin1),a
1078  0132  07          	rlca
1079  0133  07          	rlca
1080  0134  07          	rlca
1081  0135  07          	rlca
1082  0136  E6 0F       	and	a,0x0f
1083  0138  4F          	ld	c, a
1084  0139  3A 00 00    	ld	a,(_s_lin0)
1085  013C  07          	rlca
1086  013D  07          	rlca
1087  013E  07          	rlca
1088  013F  07          	rlca
1089  0140  E6 0F       	and	a,0x0f
1090  0142  47          	ld	b, a
1091  0143  79          	ld	a, c
1092  0144  90          	sub	a, b
1093  0145  20 04       	jr	NZ,l_spr_move_down_00136
1094  0147  3E 01       	ld	a,0x01
1095  0149  18 01       	jr	l_spr_move_down_00137
1096  014B              l_spr_move_down_00136:
1097  014B  AF          	xor	a,a
1098  014C              l_spr_move_down_00137:
1099  014C  EE 01       	xor	a,0x01
1100  014E  28 1D       	jr	Z,l_spr_move_down_00104
1101  0150  2A 00 00    	ld	hl,(_sprite)
1102  0153  26 00       	ld	h,0x00
1103  0155  01 00 00    	ld	bc,_col
1104  0158  09          	add	hl,bc
1105  0159  7E          	ld	a,(hl)
1106  015A  F5          	push	af
1107  015B  33          	inc	sp
1108  015C  3A 00 00    	ld	a,(_s_lin1)
1109  015F  F5          	push	af
1110  0160  33          	inc	sp
1111  0161  CD 00 00    	call	_game_check_map
1112  0164  F1          	pop	af
1113  0165  7C          	ld	a,h
1114  0166  B5          	or	a,l
1115  0167  28 04       	jr	Z,l_spr_move_down_00104
1116  0169  2E 01       	ld	l,0x01
1117  016B  18 59       	jr	l_spr_move_down_00114
1118  016D              l_spr_move_down_00104:
1119  016D  2A 00 00    	ld	hl,(_sprite)
1120  0170  26 00       	ld	h,0x00
1121  0172  01 00 00    	ld	bc,_lin
1122  0175  09          	add	hl,bc
1123  0176  3E 90       	ld	a,0x90
1124  0178  4D          	ld	c,l
1125  0179  44          	ld	b,h
1126  017A  21 00 00    	ld	hl,_s_lin1
1127  017D  96          	sub	a, (hl)
1128  017E  30 3E       	jr	NC,l_spr_move_down_00112
1129  0180  3A 00 00    	ld	a,(_sprite)
1130  0183  D6 07       	sub	a,0x07
1131  0185  20 30       	jr	NZ,l_spr_move_down_00109
1132  0187  2E 06       	ld	l,0x06
1133  0189  CD 00 00    	call	_zx_border_fastcall
1134  018C  CD 4B 04    	call	_spr_page_down
1135  018F  5D          	ld	e, l
1136  0190  2A 00 00    	ld	hl,(_sprite)
1137  0193  26 00       	ld	h,0x00
1138  0195  01 00 00    	ld	bc,_lin
1139  0198  09          	add	hl,bc
1140  0199  7B          	ld	a,e
1141  019A  B7          	or	a,a
1142  019B  4D          	ld	c,l
1143  019C  44          	ld	b,h
1144  019D  28 11       	jr	Z,l_spr_move_down_00106
1145  019F  AF          	xor	a, a
1146  01A0  02          	ld	(bc), a
1147  01A1  21 00 00    	ld	hl,_player_lin_scr
1148  01A4  36 00       	ld	(hl),0x00
1149  01A6  3A 07 00    	ld	a,(_col + 0x0007)
1150  01A9  32 00 00    	ld	(_player_col_scr),a
1151  01AC  2E 01       	ld	l,0x01
1152  01AE  18 16       	jr	l_spr_move_down_00114
1153  01B0              l_spr_move_down_00106:
1154  01B0  3E 90       	ld	a,0x90
1155  01B2  02          	ld	(bc), a
1156  01B3  2E 01       	ld	l,0x01
1157  01B5  18 0F       	jr	l_spr_move_down_00114
1158  01B7              l_spr_move_down_00109:
1159  01B7  3E 90       	ld	a,0x90
1160  01B9  02          	ld	(bc), a
1161  01BA  2E 01       	ld	l,0x01
1162  01BC  18 08       	jr	l_spr_move_down_00114
1163  01BE              l_spr_move_down_00112:
1164  01BE  3A 00 00    	ld	a,(_s_lin1)
1165  01C1  C6 F2       	add	a,0xf2
1166  01C3  02          	ld	(bc), a
1167  01C4  2E 00       	ld	l,0x00
1168  01C6              l_spr_move_down_00114:
1169  01C6  C9          	ret
1170  01C7              	SECTION code_compiler
1171  01C7              ;	---------------------------------
1172  01C7              ; Function spr_move_horizontal
1173  01C7              ; ---------------------------------
1174  01C7              _spr_move_horizontal:
1175  01C7  2A 00 00    	ld	hl,(_sprite)
1176  01CA  26 00       	ld	h,0x00
1177  01CC  01 00 00    	ld	bc,_state
1178  01CF  09          	add	hl,bc
1179  01D0  7E          	ld	a,(hl)
1180  01D1  CB 57       	bit	2, a
1181  01D3  28 05       	jr	Z,l_spr_move_horizontal_00104
1182  01D5  CD E6 01    	call	_spr_move_right
1183  01D8  18 0B       	jr	l_spr_move_horizontal_00106
1184  01DA              l_spr_move_horizontal_00104:
1185  01DA  CB 5F       	bit	3, a
1186  01DC  28 05       	jr	Z,l_spr_move_horizontal_00105
1187  01DE  CD E5 02    	call	_spr_move_left
1188  01E1  18 02       	jr	l_spr_move_horizontal_00106
1189  01E3              l_spr_move_horizontal_00105:
1190  01E3  2E 00       	ld	l,0x00
1191  01E5              l_spr_move_horizontal_00106:
1192  01E5  C9          	ret
1193  01E6              	SECTION code_compiler
1194  01E6              ;	---------------------------------
1195  01E6              ; Function spr_move_right
1196  01E6              ; ---------------------------------
1197  01E6              _spr_move_right:
1198  01E6  2A 00 00    	ld	hl,(_sprite)
1199  01E9  26 00       	ld	h,0x00
1200  01EB  01 00 00    	ld	bc,_colint
1201  01EE  09          	add	hl,bc
1202  01EF  7E          	ld	a,(hl)
1203  01F0  3C          	inc	a
1204  01F1  77          	ld	(hl),a
1205  01F2  4F          	ld	c,a
1206  01F3  3A 00 00    	ld	a,(_sprite)
1207  01F6  5F          	ld	e,a
1208  01F7  16 00       	ld	d,0x00
1209  01F9  21 00 00    	ld	hl,_class
1210  01FC  19          	add	hl,de
1211  01FD  5E          	ld	e, (hl)
1212  01FE  16 00       	ld	d,0x00
1213  0200  21 00 00    	ld	hl,_sprite_frames
1214  0203  19          	add	hl, de
1215  0204  7E          	ld	a, (hl)
1216  0205  91          	sub	a, c
1217  0206  C2 E2 02    	jp	NZ,l_spr_move_right_00118
1218  0209  2A 00 00    	ld	hl,(_sprite)
1219  020C  26 00       	ld	h,0x00
1220  020E  01 00 00    	ld	bc,_lin
1221  0211  09          	add	hl,bc
1222  0212  7E          	ld	a,(hl)
1223  0213  32 00 00    	ld	(_s_lin1),a
1224  0216  2A 00 00    	ld	hl,(_sprite)
1225  0219  26 00       	ld	h,0x00
1226  021B  01 00 00    	ld	bc,_col
1227  021E  09          	add	hl,bc
1228  021F  7E          	ld	a,(hl)
1229  0220  FE 1E       	cp	a,0x1e
1230  0222  30 61       	jr	NC,l_spr_move_right_00108
1231  0224  3C          	inc	a
1232  0225  32 00 00    	ld	(_s_col1),a
1233  0228  21 00 00    	ld	hl,_sprite_horizontal_check
1234  022B  36 01       	ld	(hl),0x01
1235  022D  2A FF FF    	ld	hl,(_s_col1 - 1)
1236  0230  3A 00 00    	ld	a,(_s_lin1)
1237  0233  6F          	ld	l,a
1238  0234  E5          	push	hl
1239  0235  CD 00 00    	call	_game_check_map
1240  0238  F1          	pop	af
1241  0239  7D          	ld	a,l
1242  023A  32 00 00    	ld	(_tmp0),a
1243  023D  B7          	or	a, a
1244  023E  20 16       	jr	NZ,l_spr_move_right_00102
1245  0240  3A 00 00    	ld	a,(_s_lin1)
1246  0243  C6 0F       	add	a,0x0f
1247  0245  4F          	ld	c, a
1248  0246  3A 00 00    	ld	a,(_s_col1)
1249  0249  F5          	push	af
1250  024A  33          	inc	sp
1251  024B  79          	ld	a, c
1252  024C  F5          	push	af
1253  024D  33          	inc	sp
1254  024E  CD 00 00    	call	_game_check_map
1255  0251  F1          	pop	af
1256  0252  7D          	ld	a,l
1257  0253  32 00 00    	ld	(_tmp0),a
1258  0256              l_spr_move_right_00102:
1259  0256  21 00 00    	ld	hl,_sprite_horizontal_check
1260  0259  36 00       	ld	(hl),0x00
1261  025B  3A 00 00    	ld	a,(_tmp0)
1262  025E  B7          	or	a, a
1263  025F  28 24       	jr	Z,l_spr_move_right_00108
1264  0261  2A 00 00    	ld	hl,(_sprite)
1265  0264  26 00       	ld	h,0x00
1266  0266  01 00 00    	ld	bc,_colint
1267  0269  09          	add	hl,bc
1268  026A  7E          	ld	a,(hl)
1269  026B  C6 FF       	add	a,0xff
1270  026D  77          	ld	(hl),a
1271  026E  3A 00 00    	ld	a,(_sprite_on_air)
1272  0271  B7          	or	a,a
1273  0272  20 0D       	jr	NZ,l_spr_move_right_00104
1274  0274  2A 00 00    	ld	hl,(_sprite)
1275  0277  26 00       	ld	h,0x00
1276  0279  01 00 00    	ld	bc,_colint
1277  027C  09          	add	hl,bc
1278  027D  7E          	ld	a,(hl)
1279  027E  C6 FF       	add	a,0xff
1280  0280  77          	ld	(hl),a
1281  0281              l_spr_move_right_00104:
1282  0281  2E 01       	ld	l,0x01
1283  0283  18 5F       	jr	l_spr_move_right_00119
1284  0285              l_spr_move_right_00108:
1285  0285  2A 00 00    	ld	hl,(_sprite)
1286  0288  26 00       	ld	h,0x00
1287  028A  01 00 00    	ld	bc,_col
1288  028D  09          	add	hl,bc
1289  028E  34          	inc	(hl)
1290  028F  2A 00 00    	ld	hl,(_sprite)
1291  0292  26 00       	ld	h,0x00
1292  0294  01 00 00    	ld	bc,_colint
1293  0297  09          	add	hl,bc
1294  0298  AF          	xor	a,a
1295  0299  77          	ld	(hl),a
1296  029A  2A 00 00    	ld	hl,(_sprite)
1297  029D  26 00       	ld	h,0x00
1298  029F  01 00 00    	ld	bc,_col
1299  02A2  09          	add	hl,bc
1300  02A3  5E          	ld	e,(hl)
1301  02A4  3E 1E       	ld	a,0x1e
1302  02A6  93          	sub	a,e
1303  02A7  30 39       	jr	NC,l_spr_move_right_00118
1304  02A9  3A 00 00    	ld	a,(_sprite)
1305  02AC  D6 07       	sub	a,0x07
1306  02AE  28 04       	jr	Z,l_spr_move_right_00156
1307  02B0  4D          	ld	c,l
1308  02B1  44          	ld	b,h
1309  02B2  18 27       	jr	l_spr_move_right_00113
1310  02B4              l_spr_move_right_00156:
1311  02B4  CD E9 03    	call	_spr_page_right
1312  02B7  3A 00 00    	ld	a,(_sprite)
1313  02BA  C6 00       	add	a,+((_col) & 0xFF)
1314  02BC  4D          	ld	c,l
1315  02BD  5F          	ld	e,a
1316  02BE  3E 00       	ld	a,+((_col) / 256)
1317  02C0  CE 00       	adc	a,0x00
1318  02C2  57          	ld	d,a
1319  02C3  79          	ld	a, c
1320  02C4  B7          	or	a, a
1321  02C5  28 0F       	jr	Z,l_spr_move_right_00110
1322  02C7  AF          	xor	a, a
1323  02C8  12          	ld	(de), a
1324  02C9  3A 07 00    	ld	a,(_lin + 7)
1325  02CC  32 00 00    	ld	(_player_lin_scr),a
1326  02CF  21 00 00    	ld	hl,_player_col_scr
1327  02D2  36 00       	ld	(hl),0x00
1328  02D4  18 08       	jr	l_spr_move_right_00114
1329  02D6              l_spr_move_right_00110:
1330  02D6  3E 1E       	ld	a,0x1e
1331  02D8  12          	ld	(de), a
1332  02D9  18 03       	jr	l_spr_move_right_00114
1333  02DB              l_spr_move_right_00113:
1334  02DB  3E 1E       	ld	a,0x1e
1335  02DD  02          	ld	(bc), a
1336  02DE              l_spr_move_right_00114:
1337  02DE  2E 01       	ld	l,0x01
1338  02E0  18 02       	jr	l_spr_move_right_00119
1339  02E2              l_spr_move_right_00118:
1340  02E2  2E 00       	ld	l,0x00
1341  02E4              l_spr_move_right_00119:
1342  02E4  C9          	ret
1343  02E5              	SECTION code_compiler
1344  02E5              ;	---------------------------------
1345  02E5              ; Function spr_move_left
1346  02E5              ; ---------------------------------
1347  02E5              _spr_move_left:
1348  02E5  2A 00 00    	ld	hl,(_sprite)
1349  02E8  26 00       	ld	h,0x00
1350  02EA  01 00 00    	ld	bc,_colint
1351  02ED  09          	add	hl,bc
1352  02EE  7E          	ld	a,(hl)
1353  02EF  C6 FF       	add	a,0xff
1354  02F1  77          	ld	(hl),a
1355  02F2  2A 00 00    	ld	hl,(_sprite)
1356  02F5  26 00       	ld	h,0x00
1357  02F7  01 00 00    	ld	bc,_colint
1358  02FA  09          	add	hl,bc
1359  02FB  7E          	ld	a,(hl)
1360  02FC  3C          	inc	a
1361  02FD  C2 E6 03    	jp	NZ,l_spr_move_left_00118
1362  0300  2A 00 00    	ld	hl,(_sprite)
1363  0303  26 00       	ld	h,0x00
1364  0305  01 00 00    	ld	bc,_lin
1365  0308  09          	add	hl,bc
1366  0309  7E          	ld	a,(hl)
1367  030A  32 00 00    	ld	(_s_lin1),a
1368  030D  2A 00 00    	ld	hl,(_sprite)
1369  0310  26 00       	ld	h,0x00
1370  0312  01 00 00    	ld	bc,_col
1371  0315  09          	add	hl,bc
1372  0316  7E          	ld	a,(hl)
1373  0317  B7          	or	a, a
1374  0318  28 5C       	jr	Z,l_spr_move_left_00108
1375  031A  C6 FF       	add	a,0xff
1376  031C  32 00 00    	ld	(_s_col1),a
1377  031F  21 00 00    	ld	hl,_sprite_horizontal_check
1378  0322  36 01       	ld	(hl),0x01
1379  0324  2A FF FF    	ld	hl,(_s_col1 - 1)
1380  0327  3A 00 00    	ld	a,(_s_lin1)
1381  032A  6F          	ld	l,a
1382  032B  E5          	push	hl
1383  032C  CD 00 00    	call	_game_check_map
1384  032F  F1          	pop	af
1385  0330  7D          	ld	a,l
1386  0331  32 00 00    	ld	(_tmp0),a
1387  0334  B7          	or	a, a
1388  0335  20 16       	jr	NZ,l_spr_move_left_00102
1389  0337  3A 00 00    	ld	a,(_s_lin1)
1390  033A  C6 0F       	add	a,0x0f
1391  033C  4F          	ld	c, a
1392  033D  3A 00 00    	ld	a,(_s_col1)
1393  0340  F5          	push	af
1394  0341  33          	inc	sp
1395  0342  79          	ld	a, c
1396  0343  F5          	push	af
1397  0344  33          	inc	sp
1398  0345  CD 00 00    	call	_game_check_map
1399  0348  F1          	pop	af
1400  0349  7D          	ld	a,l
1401  034A  32 00 00    	ld	(_tmp0),a
1402  034D              l_spr_move_left_00102:
1403  034D  21 00 00    	ld	hl,_sprite_horizontal_check
1404  0350  36 00       	ld	(hl),0x00
1405  0352  3A 00 00    	ld	a,(_tmp0)
1406  0355  B7          	or	a, a
1407  0356  28 1E       	jr	Z,l_spr_move_left_00108
1408  0358  2A 00 00    	ld	hl,(_sprite)
1409  035B  26 00       	ld	h,0x00
1410  035D  01 00 00    	ld	bc,_colint
1411  0360  09          	add	hl,bc
1412  0361  34          	inc	(hl)
1413  0362  3A 00 00    	ld	a,(_sprite_on_air)
1414  0365  B7          	or	a,a
1415  0366  20 0A       	jr	NZ,l_spr_move_left_00104
1416  0368  2A 00 00    	ld	hl,(_sprite)
1417  036B  26 00       	ld	h,0x00
1418  036D  01 00 00    	ld	bc,_colint
1419  0370  09          	add	hl,bc
1420  0371  34          	inc	(hl)
1421  0372              l_spr_move_left_00104:
1422  0372  2E 01       	ld	l,0x01
1423  0374  18 72       	jr	l_spr_move_left_00119
1424  0376              l_spr_move_left_00108:
1425  0376  2A 00 00    	ld	hl,(_sprite)
1426  0379  26 00       	ld	h,0x00
1427  037B  01 00 00    	ld	bc,_col
1428  037E  09          	add	hl,bc
1429  037F  7E          	ld	a,(hl)
1430  0380  C6 FF       	add	a,0xff
1431  0382  77          	ld	(hl),a
1432  0383  2A 00 00    	ld	hl,(_sprite)
1433  0386  26 00       	ld	h,0x00
1434  0388  01 00 00    	ld	bc,_colint
1435  038B  09          	add	hl,bc
1436  038C  3A 00 00    	ld	a,(_sprite)
1437  038F  5F          	ld	e,a
1438  0390  16 00       	ld	d,0x00
1439  0392  4D          	ld	c,l
1440  0393  44          	ld	b,h
1441  0394  21 00 00    	ld	hl,_class
1442  0397  19          	add	hl,de
1443  0398  5E          	ld	e, (hl)
1444  0399  16 00       	ld	d,0x00
1445  039B  21 00 00    	ld	hl,_sprite_frames
1446  039E  19          	add	hl, de
1447  039F  5E          	ld	e, (hl)
1448  03A0  1D          	dec	e
1449  03A1  7B          	ld	a, e
1450  03A2  02          	ld	(bc), a
1451  03A3  2A 00 00    	ld	hl,(_sprite)
1452  03A6  26 00       	ld	h,0x00
1453  03A8  01 00 00    	ld	bc,_col
1454  03AB  09          	add	hl,bc
1455  03AC  7E          	ld	a,(hl)
1456  03AD  3C          	inc	a
1457  03AE  20 36       	jr	NZ,l_spr_move_left_00118
1458  03B0  3A 00 00    	ld	a,(_sprite)
1459  03B3  D6 07       	sub	a,0x07
1460  03B5  4D          	ld	c,l
1461  03B6  44          	ld	b,h
1462  03B7  20 27       	jr	NZ,l_spr_move_left_00113
1463  03B9  CD 1C 04    	call	_spr_page_left
1464  03BC  3A 00 00    	ld	a,(_sprite)
1465  03BF  C6 00       	add	a,+((_col) & 0xFF)
1466  03C1  4D          	ld	c,l
1467  03C2  5F          	ld	e,a
1468  03C3  3E 00       	ld	a,+((_col) / 256)
1469  03C5  CE 00       	adc	a,0x00
1470  03C7  57          	ld	d,a
1471  03C8  79          	ld	a, c
1472  03C9  B7          	or	a, a
1473  03CA  28 10       	jr	Z,l_spr_move_left_00110
1474  03CC  3E 1E       	ld	a,0x1e
1475  03CE  12          	ld	(de), a
1476  03CF  3A 07 00    	ld	a,(_lin + 7)
1477  03D2  32 00 00    	ld	(_player_lin_scr),a
1478  03D5  21 00 00    	ld	hl,_player_col_scr
1479  03D8  36 1E       	ld	(hl),0x1e
1480  03DA  18 06       	jr	l_spr_move_left_00114
1481  03DC              l_spr_move_left_00110:
1482  03DC  AF          	xor	a, a
1483  03DD  12          	ld	(de), a
1484  03DE  18 02       	jr	l_spr_move_left_00114
1485  03E0              l_spr_move_left_00113:
1486  03E0  AF          	xor	a, a
1487  03E1  02          	ld	(bc), a
1488  03E2              l_spr_move_left_00114:
1489  03E2  2E 01       	ld	l,0x01
1490  03E4  18 02       	jr	l_spr_move_left_00119
1491  03E6              l_spr_move_left_00118:
1492  03E6  2E 00       	ld	l,0x00
1493  03E8              l_spr_move_left_00119:
1494  03E8  C9          	ret
1495  03E9              	SECTION code_compiler
1496  03E9              ;	---------------------------------
1497  03E9              ; Function spr_page_right
1498  03E9              ; ---------------------------------
1499  03E9              _spr_page_right:
1500  03E9  2A FF FF    	ld	hl,(_map_width - 1)
1501  03EC  3A 00 00    	ld	a,(_scr_curr)
1502  03EF  6F          	ld	l,a
1503  03F0  E5          	push	hl
1504  03F1  CD 00 00    	call	__moduchar_callee
1505  03F4  7D          	ld	a, l
1506  03F5  3C          	inc	a
1507  03F6  32 00 00    	ld	(_tmp1),a
1508  03F9  21 00 00    	ld	hl,_map_width
1509  03FC  96          	sub	a, (hl)
1510  03FD  30 1A       	jr	NC,l_spr_page_right_00102
1511  03FF  3A 00 00    	ld	a,(_game_boss)
1512  0402  B7          	or	a, a
1513  0403  28 06       	jr	Z,l_spr_page_right_00101
1514  0405  3A 00 00    	ld	a,(_game_god_mode)
1515  0408  B7          	or	a, a
1516  0409  28 0E       	jr	Z,l_spr_page_right_00102
1517  040B              l_spr_page_right_00101:
1518  040B  21 00 00    	ld	hl,_scr_curr
1519  040E  34          	inc	(hl)
1520  040F  CD B9 04    	call	_spr_page_map
1521  0412  CD 00 00    	call	_game_draw_screen
1522  0415  2E 01       	ld	l,0x01
1523  0417  18 02       	jr	l_spr_page_right_00105
1524  0419              l_spr_page_right_00102:
1525  0419  2E 00       	ld	l,0x00
1526  041B              l_spr_page_right_00105:
1527  041B  C9          	ret
1528  041C              	SECTION code_compiler
1529  041C              ;	---------------------------------
1530  041C              ; Function spr_page_left
1531  041C              ; ---------------------------------
1532  041C              _spr_page_left:
1533  041C  2A FF FF    	ld	hl,(_map_width - 1)
1534  041F  3A 00 00    	ld	a,(_scr_curr)
1535  0422  6F          	ld	l,a
1536  0423  E5          	push	hl
1537  0424  CD 00 00    	call	__moduchar_callee
1538  0427  7D          	ld	a,l
1539  0428  32 00 00    	ld	(_tmp1),a
1540  042B  B7          	or	a, a
1541  042C  28 1A       	jr	Z,l_spr_page_left_00102
1542  042E  3A 00 00    	ld	a,(_game_boss)
1543  0431  B7          	or	a, a
1544  0432  28 06       	jr	Z,l_spr_page_left_00101
1545  0434  3A 00 00    	ld	a,(_game_god_mode)
1546  0437  B7          	or	a, a
1547  0438  28 0E       	jr	Z,l_spr_page_left_00102
1548  043A              l_spr_page_left_00101:
1549  043A  21 00 00    	ld	hl,_scr_curr
1550  043D  35          	dec	(hl)
1551  043E  CD B9 04    	call	_spr_page_map
1552  0441  CD 00 00    	call	_game_draw_screen
1553  0444  2E 01       	ld	l,0x01
1554  0446  18 02       	jr	l_spr_page_left_00105
1555  0448              l_spr_page_left_00102:
1556  0448  2E 00       	ld	l,0x00
1557  044A              l_spr_page_left_00105:
1558  044A  C9          	ret
1559  044B              	SECTION code_compiler
1560  044B              ;	---------------------------------
1561  044B              ; Function spr_page_down
1562  044B              ; ---------------------------------
1563  044B              _spr_page_down:
1564  044B  2A FF FF    	ld	hl,(_map_heigth - 1)
1565  044E  3A 00 00    	ld	a,(_scr_curr)
1566  0451  6F          	ld	l,a
1567  0452  E5          	push	hl
1568  0453  CD 00 00    	call	__divuchar_callee
1569  0456  7D          	ld	a, l
1570  0457  3C          	inc	a
1571  0458  32 00 00    	ld	(_tmp1),a
1572  045B  21 00 00    	ld	hl,_map_heigth
1573  045E  96          	sub	a, (hl)
1574  045F  30 20       	jr	NC,l_spr_page_down_00102
1575  0461  3A 00 00    	ld	a,(_game_boss)
1576  0464  B7          	or	a, a
1577  0465  28 06       	jr	Z,l_spr_page_down_00101
1578  0467  3A 00 00    	ld	a,(_game_god_mode)
1579  046A  B7          	or	a, a
1580  046B  28 14       	jr	Z,l_spr_page_down_00102
1581  046D              l_spr_page_down_00101:
1582  046D  3A 00 00    	ld	a,(_scr_curr)
1583  0470  21 00 00    	ld	hl,_map_width
1584  0473  86          	add	a, (hl)
1585  0474  32 00 00    	ld	(_scr_curr),a
1586  0477  CD B9 04    	call	_spr_page_map
1587  047A  CD 00 00    	call	_game_draw_screen
1588  047D  2E 01       	ld	l,0x01
1589  047F  18 02       	jr	l_spr_page_down_00105
1590  0481              l_spr_page_down_00102:
1591  0481  2E 00       	ld	l,0x00
1592  0483              l_spr_page_down_00105:
1593  0483  C9          	ret
1594  0484              	SECTION code_compiler
1595  0484              ;	---------------------------------
1596  0484              ; Function spr_page_up
1597  0484              ; ---------------------------------
1598  0484              _spr_page_up:
1599  0484  2A FF FF    	ld	hl,(_map_heigth - 1)
1600  0487  3A 00 00    	ld	a,(_scr_curr)
1601  048A  6F          	ld	l,a
1602  048B  E5          	push	hl
1603  048C  CD 00 00    	call	__divuchar_callee
1604  048F  7D          	ld	a,l
1605  0490  32 00 00    	ld	(_tmp1),a
1606  0493  B7          	or	a, a
1607  0494  28 20       	jr	Z,l_spr_page_up_00102
1608  0496  3A 00 00    	ld	a,(_game_boss)
1609  0499  B7          	or	a, a
1610  049A  28 06       	jr	Z,l_spr_page_up_00101
1611  049C  3A 00 00    	ld	a,(_game_god_mode)
1612  049F  B7          	or	a, a
1613  04A0  28 14       	jr	Z,l_spr_page_up_00102
1614  04A2              l_spr_page_up_00101:
1615  04A2  3A 00 00    	ld	a,(_scr_curr)
1616  04A5  21 00 00    	ld	hl,_map_width
1617  04A8  96          	sub	a, (hl)
1618  04A9  32 00 00    	ld	(_scr_curr),a
1619  04AC  CD B9 04    	call	_spr_page_map
1620  04AF  CD 00 00    	call	_game_draw_screen
1621  04B2  2E 01       	ld	l,0x01
1622  04B4  18 02       	jr	l_spr_page_up_00105
1623  04B6              l_spr_page_up_00102:
1624  04B6  2E 00       	ld	l,0x00
1625  04B8              l_spr_page_up_00105:
1626  04B8  C9          	ret
1627  04B9              	SECTION code_compiler
1628  04B9              ;	---------------------------------
1629  04B9              ; Function spr_page_map
1630  04B9              ; ---------------------------------
1631  04B9              _spr_page_map:
1632  04B9  CD 00 00    	call	___sdcc_enter_ix
1633  04BC  21 EB FF    	ld	hl, -21
1634  04BF  39          	add	hl, sp
1635  04C0  F9          	ld	sp, hl
1636  04C1  3A 00 00    	ld	a,(_game_world)
1637  04C4  DD 77 EE    	ld	(ix-18),a
1638  04C7  3A 00 00    	ld	a,(_scr_curr)
1639  04CA  DD 77 EB    	ld	(ix-21),a
1640  04CD  DD 36 F1 10 	ld	(ix-15),0x10
1641  04D1  06 00       	ld	b,0x00
1642  04D3              l_spr_page_map_00138:
1643  04D3  C5          	push	bc
1644  04D4  21 00 00    	ld	hl,0x0000
1645  04D7  E5          	push	hl
1646  04D8  AF          	xor	a, a
1647  04D9  48          	ld	c,b
1648  04DA  47          	ld	b,a
1649  04DB  C5          	push	bc
1650  04DC  CD 00 00    	call	_NIRVANAP_spriteT_callee
1651  04DF  C1          	pop	bc
1652  04E0  04          	inc	b
1653  04E1  78          	ld	a, b
1654  04E2  D6 08       	sub	a,0x08
1655  04E4  38 ED       	jr	C,l_spr_page_map_00138
1656  04E6  76          	halt
1657  04E7  F3          	di
1658  04E8  DD 36 F3 00 	ld	(ix-13),0x00
1659  04EC              l_spr_page_map_00155:
1660  04EC  DD 7E F3    	ld	a,(ix-13)
1661  04EF  87          	add	a, a
1662  04F0  DD 77 FF    	ld	(ix-1),a
1663  04F3  DD 77 FE    	ld	(ix-2),a
1664  04F6  DD 36 F2 01 	ld	(ix-14),0x01
1665  04FA              l_spr_page_map_00140:
1666  04FA  DD 7E F2    	ld	a,(ix-14)
1667  04FD  07          	rlca
1668  04FE  07          	rlca
1669  04FF  07          	rlca
1670  0500  07          	rlca
1671  0501  E6 F0       	and	a,0xf0
1672  0503  47          	ld	b, a
1673  0504  DD 7E FE    	ld	a,(ix-2)
1674  0507  48          	ld	c,b
1675  0508  47          	ld	b,a
1676  0509  C5          	push	bc
1677  050A  AF          	xor	a, a
1678  050B  F5          	push	af
1679  050C  33          	inc	sp
1680  050D  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1681  0510  DD 34 F2    	inc	(ix-14)
1682  0513  DD 7E F2    	ld	a,(ix-14)
1683  0516  D6 0A       	sub	a,0x0a
1684  0518  38 E0       	jr	C,l_spr_page_map_00140
1685  051A  3E 1E       	ld	a,0x1e
1686  051C  DD 96 FF    	sub	a,(ix-1)
1687  051F  47          	ld	b, a
1688  0520  0E 01       	ld	c,0x01
1689  0522              l_spr_page_map_00142:
1690  0522  79          	ld	a, c
1691  0523  07          	rlca
1692  0524  07          	rlca
1693  0525  07          	rlca
1694  0526  07          	rlca
1695  0527  E6 F0       	and	a,0xf0
1696  0529  57          	ld	d, a
1697  052A  C5          	push	bc
1698  052B  4A          	ld	c, d
1699  052C  C5          	push	bc
1700  052D  AF          	xor	a, a
1701  052E  F5          	push	af
1702  052F  33          	inc	sp
1703  0530  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1704  0533  C1          	pop	bc
1705  0534  0C          	inc	c
1706  0535  79          	ld	a, c
1707  0536  D6 0A       	sub	a,0x0a
1708  0538  38 E8       	jr	C,l_spr_page_map_00142
1709  053A  FB          	ei
1710  053B  76          	halt
1711  053C  F3          	di
1712  053D  DD 34 F3    	inc	(ix-13)
1713  0540  DD 7E F3    	ld	a,(ix-13)
1714  0543  D6 08       	sub	a,0x08
1715  0545  38 A5       	jr	C,l_spr_page_map_00155
1716  0547  3E 16       	ld	a,0x16
1717  0549  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1718  054C  01 FD 7F    	ld	bc,_IO_7FFD
1719  054F  ED 79       	out	(c),a
1720  0551  DD 7E EB    	ld	a,(ix-21)
1721  0554  3C          	inc	a
1722  0555  20 04       	jr	NZ,l_spr_page_map_00255
1723  0557  3E 01       	ld	a,0x01
1724  0559  18 01       	jr	l_spr_page_map_00256
1725  055B              l_spr_page_map_00255:
1726  055B  AF          	xor	a,a
1727  055C              l_spr_page_map_00256:
1728  055C  DD 77 FE    	ld	(ix-2),a
1729  055F  DD 7E EE    	ld	a,(ix-18)
1730  0562  B7          	or	a, a
1731  0563  20 32       	jr	NZ,l_spr_page_map_00110
1732  0565  DD 7E FE    	ld	a,(ix-2)
1733  0568  B7          	or	a, a
1734  0569  28 07       	jr	Z,l_spr_page_map_00106
1735  056B  21 00 00    	ld	hl,_start_scr0
1736  056E  4E          	ld	c, (hl)
1737  056F  DD 71 EB    	ld	(ix-21),c
1738  0572              l_spr_page_map_00106:
1739  0572  01 00 00    	ld	bc,_paper0
1740  0575  DD 6E EB    	ld	l,(ix-21)
1741  0578  26 00       	ld	h,0x00
1742  057A  09          	add	hl,bc
1743  057B  DD 75 FC    	ld	(ix-4),l
1744  057E  DD 74 FD    	ld	(ix-3),h
1745  0581  7E          	ld	a, (hl)
1746  0582  DD 77 FC    	ld	(ix-4),a
1747  0585  3A 00 00    	ld	a,(_world0_w)
1748  0588  DD 77 ED    	ld	(ix-19),a
1749  058B  DD 77 FF    	ld	(ix-1),a
1750  058E  21 00 00    	ld	hl,_world0_h
1751  0591  4E          	ld	c, (hl)
1752  0592  DD 71 FB    	ld	(ix-5),c
1753  0595  18 32       	jr	l_spr_page_map_00111
1754  0597              l_spr_page_map_00110:
1755  0597  DD 7E FE    	ld	a,(ix-2)
1756  059A  B7          	or	a, a
1757  059B  28 07       	jr	Z,l_spr_page_map_00108
1758  059D  21 00 00    	ld	hl,_start_scr1
1759  05A0  4E          	ld	c, (hl)
1760  05A1  DD 71 EB    	ld	(ix-21),c
1761  05A4              l_spr_page_map_00108:
1762  05A4  01 00 00    	ld	bc,_paper1
1763  05A7  DD 6E EB    	ld	l,(ix-21)
1764  05AA  26 00       	ld	h,0x00
1765  05AC  09          	add	hl,bc
1766  05AD  DD 75 F9    	ld	(ix-7),l
1767  05B0  DD 74 FA    	ld	(ix-6),h
1768  05B3  7E          	ld	a, (hl)
1769  05B4  DD 77 FC    	ld	(ix-4),a
1770  05B7  3A 00 00    	ld	a,(_world1_w)
1771  05BA  DD 77 ED    	ld	(ix-19),a
1772  05BD  DD 77 FF    	ld	(ix-1),a
1773  05C0  3A 00 00    	ld	a,(_world1_h)
1774  05C3  DD 77 EC    	ld	(ix-20),a
1775  05C6  DD 77 FB    	ld	(ix-5),a
1776  05C9              l_spr_page_map_00111:
1777  05C9  3E 10       	ld	a,0x10
1778  05CB  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1779  05CE  01 FD 7F    	ld	bc,_IO_7FFD
1780  05D1  ED 79       	out	(c),a
1781  05D3  3E 00       	ld	a,0x00
1782  05D5  DD 77 EF    	ld	(ix-17),a
1783  05D8  DD 77 F0    	ld	(ix-16),a
1784  05DB  DD 77 F2    	ld	(ix-14),a
1785  05DE              l_spr_page_map_00115:
1786  05DE  DD 7E F2    	ld	a,(ix-14)
1787  05E1  DD 96 EB    	sub	a,(ix-21)
1788  05E4  30 64       	jr	NC,l_spr_page_map_00117
1789  05E6  3E 16       	ld	a,0x16
1790  05E8  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1791  05EB  01 FD 7F    	ld	bc,_IO_7FFD
1792  05EE  ED 79       	out	(c),a
1793  05F0  DD 7E EE    	ld	a,(ix-18)
1794  05F3  B7          	or	a, a
1795  05F4  20 19       	jr	NZ,l_spr_page_map_00113
1796  05F6  01 00 00    	ld	bc,_lenght0
1797  05F9  DD 6E F2    	ld	l,(ix-14)
1798  05FC  26 00       	ld	h,0x00
1799  05FE  09          	add	hl,bc
1800  05FF  DD 75 F9    	ld	(ix-7),l
1801  0602  DD 74 FA    	ld	(ix-6),h
1802  0605  7E          	ld	a, (hl)
1803  0606  DD 77 F9    	ld	(ix-7),a
1804  0609  DD 36 FA 00 	ld	(ix-6),0x00
1805  060D  18 1A       	jr	l_spr_page_map_00114
1806  060F              l_spr_page_map_00113:
1807  060F  01 00 00    	ld	bc,_lenght1
1808  0612  DD 6E F2    	ld	l,(ix-14)
1809  0615  26 00       	ld	h,0x00
1810  0617  09          	add	hl,bc
1811  0618  DD 75 F7    	ld	(ix-9),l
1812  061B  DD 74 F8    	ld	(ix-8),h
1813  061E  7E          	ld	a, (hl)
1814  061F  DD 77 F7    	ld	(ix-9),a
1815  0622  DD 77 F9    	ld	(ix-7),a
1816  0625  DD 36 FA 00 	ld	(ix-6),0x00
1817  0629              l_spr_page_map_00114:
1818  0629  3E 10       	ld	a,0x10
1819  062B  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1820  062E  01 FD 7F    	ld	bc,_IO_7FFD
1821  0631  ED 79       	out	(c),a
1822  0633  DD 7E EF    	ld	a,(ix-17)
1823  0636  DD 86 F9    	add	a,(ix-7)
1824  0639  DD 77 EF    	ld	(ix-17),a
1825  063C  DD 7E F0    	ld	a,(ix-16)
1826  063F  DD 8E FA    	adc	a,(ix-6)
1827  0642  DD 77 F0    	ld	(ix-16),a
1828  0645  DD 34 F2    	inc	(ix-14)
1829  0648  18 94       	jr	l_spr_page_map_00115
1830  064A              l_spr_page_map_00117:
1831  064A  FB          	ei
1832  064B  F3          	di
1833  064C  DD 36 F3 00 	ld	(ix-13),0x00
1834  0650              l_spr_page_map_00149:
1835  0650  3E 16       	ld	a,0x16
1836  0652  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1837  0655  01 FD 7F    	ld	bc,_IO_7FFD
1838  0658  ED 79       	out	(c),a
1839  065A  DD 7E F3    	ld	a,(ix-13)
1840  065D  DD 77 F7    	ld	(ix-9),a
1841  0660  DD 36 F8 00 	ld	(ix-8),0x00
1842  0664  DD 7E EF    	ld	a,(ix-17)
1843  0667  DD 86 F7    	add	a,(ix-9)
1844  066A  DD 77 F7    	ld	(ix-9),a
1845  066D  DD 7E F0    	ld	a,(ix-16)
1846  0670  DD 8E F8    	adc	a,(ix-8)
1847  0673  DD 77 F8    	ld	(ix-8),a
1848  0676  DD 7E F7    	ld	a,(ix-9)
1849  0679  C6 01       	add	a,0x01
1850  067B  DD 77 F9    	ld	(ix-7),a
1851  067E  DD 7E F8    	ld	a,(ix-8)
1852  0681  CE 00       	adc	a,0x00
1853  0683  DD 77 FA    	ld	(ix-6),a
1854  0686  DD 7E EE    	ld	a,(ix-18)
1855  0689  B7          	or	a, a
1856  068A  20 1E       	jr	NZ,l_spr_page_map_00119
1857  068C  01 00 00    	ld	bc,_world0
1858  068F  DD 6E F7    	ld	l,(ix-9)
1859  0692  DD 66 F8    	ld	h,(ix-8)
1860  0695  09          	add	hl,bc
1861  0696  7E          	ld	a, (hl)
1862  0697  DD 77 F6    	ld	(ix-10),a
1863  069A  01 00 00    	ld	bc,_world0
1864  069D  DD 6E F9    	ld	l,(ix-7)
1865  06A0  DD 66 FA    	ld	h,(ix-6)
1866  06A3  09          	add	hl,bc
1867  06A4  7E          	ld	a, (hl)
1868  06A5  DD 77 F5    	ld	(ix-11),a
1869  06A8  18 1C       	jr	l_spr_page_map_00120
1870  06AA              l_spr_page_map_00119:
1871  06AA  01 00 00    	ld	bc,_world1
1872  06AD  DD 6E F7    	ld	l,(ix-9)
1873  06B0  DD 66 F8    	ld	h,(ix-8)
1874  06B3  09          	add	hl,bc
1875  06B4  7E          	ld	a, (hl)
1876  06B5  DD 77 F6    	ld	(ix-10),a
1877  06B8  01 00 00    	ld	bc,_world1
1878  06BB  DD 6E F9    	ld	l,(ix-7)
1879  06BE  DD 66 FA    	ld	h,(ix-6)
1880  06C1  09          	add	hl,bc
1881  06C2  7E          	ld	a, (hl)
1882  06C3  DD 77 F5    	ld	(ix-11),a
1883  06C6              l_spr_page_map_00120:
1884  06C6  3E 10       	ld	a,0x10
1885  06C8  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1886  06CB  01 FD 7F    	ld	bc,_IO_7FFD
1887  06CE  ED 79       	out	(c),a
1888  06D0  DD 7E F6    	ld	a,(ix-10)
1889  06D3  D6 80       	sub	a,0x80
1890  06D5  30 42       	jr	NC,l_spr_page_map_00131
1891  06D7  DD 7E F1    	ld	a,(ix-15)
1892  06DA  DD 77 F7    	ld	(ix-9),a
1893  06DD  6F          	ld	l, a
1894  06DE  26 00       	ld	h,0x00
1895  06E0  DD 74 F8    	ld	(ix-8),h
1896  06E3  E5          	push	hl
1897  06E4  CD 00 00    	call	_game_obj_chk
1898  06E7  F1          	pop	af
1899  06E8  DD 75 F7    	ld	(ix-9),l
1900  06EB  3E 00       	ld	a, +((_scr_map) & 0xFF)
1901  06ED  DD 86 F1    	add	a,(ix-15)
1902  06F0  DD 77 F9    	ld	(ix-7),a
1903  06F3  3E 00       	ld	a, +((_scr_map) / 256)
1904  06F5  CE 00       	adc	a,0x00
1905  06F7  DD 77 FA    	ld	(ix-6),a
1906  06FA  DD 7E F7    	ld	a,(ix-9)
1907  06FD  B7          	or	a, a
1908  06FE  20 0C       	jr	NZ,l_spr_page_map_00122
1909  0700  DD 6E F9    	ld	l,(ix-7)
1910  0703  DD 66 FA    	ld	h,(ix-6)
1911  0706  DD 7E F6    	ld	a,(ix-10)
1912  0709  77          	ld	(hl), a
1913  070A  18 08       	jr	l_spr_page_map_00123
1914  070C              l_spr_page_map_00122:
1915  070C  DD 6E F9    	ld	l,(ix-7)
1916  070F  DD 66 FA    	ld	h,(ix-6)
1917  0712  36 00       	ld	(hl),0x00
1918  0714              l_spr_page_map_00123:
1919  0714  DD 34 F1    	inc	(ix-15)
1920  0717  18 6D       	jr	l_spr_page_map_00132
1921  0719              l_spr_page_map_00131:
1922  0719  DD 7E F6    	ld	a,(ix-10)
1923  071C  C6 80       	add	a,0x80
1924  071E  DD 77 F4    	ld	(ix-12),a
1925  0721  DD 7E F1    	ld	a,(ix-15)
1926  0724  DD 77 F7    	ld	(ix-9),a
1927  0727  DD 36 F2 00 	ld	(ix-14),0x00
1928  072B              l_spr_page_map_00147:
1929  072B  DD 7E F2    	ld	a,(ix-14)
1930  072E  DD 96 F4    	sub	a,(ix-12)
1931  0731  30 4A       	jr	NC,l_spr_page_map_00181
1932  0733  DD 7E F7    	ld	a,(ix-9)
1933  0736  DD 77 F9    	ld	(ix-7),a
1934  0739  6F          	ld	l, a
1935  073A  26 00       	ld	h,0x00
1936  073C  DD 74 FA    	ld	(ix-6),h
1937  073F  E5          	push	hl
1938  0740  CD 00 00    	call	_game_obj_chk
1939  0743  F1          	pop	af
1940  0744  7D          	ld	a, l
1941  0745  B7          	or	a, a
1942  0746  20 15       	jr	NZ,l_spr_page_map_00125
1943  0748  01 00 00    	ld	bc,_scr_map
1944  074B  DD 6E F7    	ld	l,(ix-9)
1945  074E  26 00       	ld	h,0x00
1946  0750  09          	add	hl,bc
1947  0751  DD 75 F9    	ld	(ix-7),l
1948  0754  DD 74 FA    	ld	(ix-6),h
1949  0757  DD 7E F5    	ld	a,(ix-11)
1950  075A  77          	ld	(hl), a
1951  075B  18 11       	jr	l_spr_page_map_00126
1952  075D              l_spr_page_map_00125:
1953  075D  01 00 00    	ld	bc,_scr_map
1954  0760  DD 6E F7    	ld	l,(ix-9)
1955  0763  26 00       	ld	h,0x00
1956  0765  09          	add	hl,bc
1957  0766  DD 75 F9    	ld	(ix-7),l
1958  0769  DD 74 FA    	ld	(ix-6),h
1959  076C  36 00       	ld	(hl),0x00
1960  076E              l_spr_page_map_00126:
1961  076E  DD 34 F7    	inc	(ix-9)
1962  0771  DD 7E F7    	ld	a,(ix-9)
1963  0774  D6 A0       	sub	a,0xa0
1964  0776  30 05       	jr	NC,l_spr_page_map_00181
1965  0778  DD 34 F2    	inc	(ix-14)
1966  077B  18 AE       	jr	l_spr_page_map_00147
1967  077D              l_spr_page_map_00181:
1968  077D  DD 7E F7    	ld	a,(ix-9)
1969  0780  DD 77 F1    	ld	(ix-15),a
1970  0783  DD 34 F3    	inc	(ix-13)
1971  0786              l_spr_page_map_00132:
1972  0786  DD 7E F1    	ld	a,(ix-15)
1973  0789  D6 A0       	sub	a,0xa0
1974  078B  30 0B       	jr	NC,l_spr_page_map_00135
1975  078D  DD 34 F3    	inc	(ix-13)
1976  0790  DD 7E F3    	ld	a,(ix-13)
1977  0793  D6 A0       	sub	a,0xa0
1978  0795  DA 50 06    	jp	C, l_spr_page_map_00149
1979  0798              l_spr_page_map_00135:
1980  0798  CD D7 0D    	call	_spr_init_anim_bullets
1981  079B  DD 7E EB    	ld	a,(ix-21)
1982  079E  32 00 00    	ld	(_scr_curr),a
1983  07A1  DD 7E FF    	ld	a,(ix-1)
1984  07A4  32 00 00    	ld	(_map_width),a
1985  07A7  DD 7E FB    	ld	a,(ix-5)
1986  07AA  32 00 00    	ld	(_map_heigth),a
1987  07AD  DD 7E FC    	ld	a,(ix-4)
1988  07B0  32 00 00    	ld	(_map_paper),a
1989  07B3  3A 00 00    	ld	a,(_map_paper_last)
1990  07B6  21 00 00    	ld	hl,_map_paper
1991  07B9  96          	sub	a, (hl)
1992  07BA  28 03       	jr	Z,l_spr_page_map_00137
1993  07BC  CD 18 16    	call	_spr_btile_paint_back
1994  07BF              l_spr_page_map_00137:
1995  07BF  3A 00 00    	ld	a,(_map_paper)
1996  07C2  32 00 00    	ld	(_map_paper_last),a
1997  07C5  FB          	ei
1998  07C6  CD 00 00    	call	_NIRVANAP_start
1999  07C9  DD F9       	ld	sp, ix
2000  07CB  DD E1       	pop	ix
2001  07CD  C9          	ret
2002  07CE              	SECTION code_compiler
2003  07CE              ;	---------------------------------
2004  07CE              ; Function spr_redraw
2005  07CE              ; ---------------------------------
2006  07CE              _spr_redraw:
2007  07CE  2A 00 00    	ld	hl,(_sprite)
2008  07D1  26 00       	ld	h,0x00
2009  07D3  01 00 00    	ld	bc,_tile
2010  07D6  09          	add	hl,bc
2011  07D7  4E          	ld	c, (hl)
2012  07D8  3A 00 00    	ld	a,(_sprite)
2013  07DB  5F          	ld	e,a
2014  07DC  16 00       	ld	d,0x00
2015  07DE  21 00 00    	ld	hl,_colint
2016  07E1  19          	add	hl,de
2017  07E2  7E          	ld	a,(hl)
2018  07E3  81          	add	a,c
2019  07E4  32 00 00    	ld	(_s_tile1),a
2020  07E7  2A 00 00    	ld	hl,(_sprite)
2021  07EA  26 00       	ld	h,0x00
2022  07EC  01 00 00    	ld	bc,_col
2023  07EF  09          	add	hl,bc
2024  07F0  7E          	ld	a,(hl)
2025  07F1  32 00 00    	ld	(_s_col1),a
2026  07F4  2A 00 00    	ld	hl,(_sprite)
2027  07F7  26 00       	ld	h,0x00
2028  07F9  01 00 00    	ld	bc,_lin
2029  07FC  09          	add	hl,bc
2030  07FD  7E          	ld	a,(hl)
2031  07FE  21 00 00    	ld	hl,_s_lin1
2032  0801  77          	ld	(hl),a
2033  0802  4F          	ld	c,a
2034  0803  7E          	ld	a, (hl)
2035  0804  21 00 00    	ld	hl,_s_lin0
2036  0807  96          	sub	a, (hl)
2037  0808  20 0A       	jr	NZ,l_spr_redraw_00115
2038  080A  3A 00 00    	ld	a,(_s_col1)
2039  080D  21 00 00    	ld	hl,_s_col0
2040  0810  96          	sub	a, (hl)
2041  0811  CA A4 08    	jp	Z,l_spr_redraw_00116
2042  0814              l_spr_redraw_00115:
2043  0814  3A 00 00    	ld	a,(_sprite)
2044  0817  D6 07       	sub	a,0x07
2045  0819  20 17       	jr	NZ,l_spr_redraw_00111
2046  081B  3A 00 00    	ld	a,(_player_over_stair)
2047  081E  B7          	or	a, a
2048  081F  28 0C       	jr	Z,l_spr_redraw_00102
2049  0821  79          	ld	a, c
2050  0822  E6 03       	and	a,0x03
2051  0824  20 07       	jr	NZ,l_spr_redraw_00102
2052  0826  21 00 00    	ld	hl,_s_tile1
2053  0829  34          	inc	(hl)
2054  082A  34          	inc	(hl)
2055  082B  34          	inc	(hl)
2056  082C  34          	inc	(hl)
2057  082D              l_spr_redraw_00102:
2058  082D  CD 2F 0C    	call	_spr_back_repaint
2059  0830  18 5B       	jr	l_spr_redraw_00112
2060  0832              l_spr_redraw_00111:
2061  0832  3A 00 00    	ld	a,(_s_lin1)
2062  0835  E6 07       	and	a,0x07
2063  0837  20 05       	jr	NZ,l_spr_redraw_00108
2064  0839  CD 2F 0C    	call	_spr_back_repaint
2065  083C  18 4F       	jr	l_spr_redraw_00112
2066  083E              l_spr_redraw_00108:
2067  083E  21 00 00    	ld	hl,_s_state
2068  0841  CB 46       	bit	0, (hl)
2069  0843  28 26       	jr	Z,l_spr_redraw_00105
2070  0845  3A 00 00    	ld	a,(_s_lin0)
2071  0848  C6 08       	add	a,0x08
2072  084A  47          	ld	b, a
2073  084B  3A 00 00    	ld	a,(_s_col0)
2074  084E  F5          	push	af
2075  084F  33          	inc	sp
2076  0850  C5          	push	bc
2077  0851  33          	inc	sp
2078  0852  3A 00 00    	ld	a,(_map_paper_clr)
2079  0855  F5          	push	af
2080  0856  33          	inc	sp
2081  0857  CD 00 00    	call	_NIRVANAP_fillC_callee
2082  085A  21 00 00    	ld	hl,_s_col0
2083  085D  56          	ld	d, (hl)
2084  085E  14          	inc	d
2085  085F  58          	ld	e,b
2086  0860  3A 00 00    	ld	a,(_map_paper_clr)
2087  0863  D5          	push	de
2088  0864  F5          	push	af
2089  0865  33          	inc	sp
2090  0866  CD 00 00    	call	_NIRVANAP_fillC_callee
2091  0869  18 22       	jr	l_spr_redraw_00112
2092  086B              l_spr_redraw_00105:
2093  086B  2A FF FF    	ld	hl,(_s_col0 - 1)
2094  086E  3A 00 00    	ld	a,(_s_lin0)
2095  0871  6F          	ld	l,a
2096  0872  3A 00 00    	ld	a,(_map_paper_clr)
2097  0875  E5          	push	hl
2098  0876  F5          	push	af
2099  0877  33          	inc	sp
2100  0878  CD 00 00    	call	_NIRVANAP_fillC_callee
2101  087B  21 00 00    	ld	hl,_s_col0
2102  087E  46          	ld	b, (hl)
2103  087F  04          	inc	b
2104  0880  C5          	push	bc
2105  0881  33          	inc	sp
2106  0882  2A FF FF    	ld	hl,(_s_lin0 - 1)
2107  0885  3A 00 00    	ld	a,(_map_paper_clr)
2108  0888  6F          	ld	l,a
2109  0889  E5          	push	hl
2110  088A  CD 00 00    	call	_NIRVANAP_fillC_callee
2111  088D              l_spr_redraw_00112:
2112  088D  2A FF FF    	ld	hl,(_s_col1 - 1)
2113  0890  3A 00 00    	ld	a,(_s_lin1)
2114  0893  6F          	ld	l,a
2115  0894  E5          	push	hl
2116  0895  2A FF FF    	ld	hl,(_s_tile1 - 1)
2117  0898  3A 00 00    	ld	a,(_sprite)
2118  089B  6F          	ld	l,a
2119  089C  E5          	push	hl
2120  089D  CD 00 00    	call	_NIRVANAP_spriteT_callee
2121  08A0  2E 01       	ld	l,0x01
2122  08A2  18 22       	jr	l_spr_redraw_00119
2123  08A4              l_spr_redraw_00116:
2124  08A4  3A 00 00    	ld	a,(_s_tile1)
2125  08A7  21 00 00    	ld	hl,_s_tile0
2126  08AA  96          	sub	a, (hl)
2127  08AB  28 17       	jr	Z,l_spr_redraw_00117
2128  08AD  2A FF FF    	ld	hl,(_s_col1 - 1)
2129  08B0  3A 00 00    	ld	a,(_s_lin1)
2130  08B3  6F          	ld	l,a
2131  08B4  E5          	push	hl
2132  08B5  2A FF FF    	ld	hl,(_s_tile1 - 1)
2133  08B8  3A 00 00    	ld	a,(_sprite)
2134  08BB  6F          	ld	l,a
2135  08BC  E5          	push	hl
2136  08BD  CD 00 00    	call	_NIRVANAP_spriteT_callee
2137  08C0  2E 00       	ld	l,0x00
2138  08C2  18 02       	jr	l_spr_redraw_00119
2139  08C4              l_spr_redraw_00117:
2140  08C4  2E 00       	ld	l,0x00
2141  08C6              l_spr_redraw_00119:
2142  08C6  C9          	ret
2143  08C7              	SECTION code_compiler
2144  08C7              ;	---------------------------------
2145  08C7              ; Function spr_destroy
2146  08C7              ; ---------------------------------
2147  08C7              _spr_destroy:
2148  08C7  CD 00 00    	call	___sdcc_enter_ix
2149  08CA  F5          	push	af
2150  08CB  4D          	ld	c, l
2151  08CC  21 00 00    	ld	hl,_spr_count
2152  08CF  35          	dec	(hl)
2153  08D0  3E 00       	ld	a, +((_lin) & 0xFF)
2154  08D2  81          	add	a, c
2155  08D3  DD 77 FE    	ld	(ix-2),a
2156  08D6  3E 00       	ld	a, +((_lin) / 256)
2157  08D8  CE 00       	adc	a,0x00
2158  08DA  DD 77 FF    	ld	(ix-1),a
2159  08DD  E1          	pop	hl
2160  08DE  7E          	ld	a,(hl)
2161  08DF  E5          	push	hl
2162  08E0  32 00 00    	ld	(_s_lin0),a
2163  08E3  3E 00       	ld	a, +((_col) & 0xFF)
2164  08E5  81          	add	a, c
2165  08E6  5F          	ld	e, a
2166  08E7  3E 00       	ld	a, +((_col) / 256)
2167  08E9  CE 00       	adc	a,0x00
2168  08EB  57          	ld	d, a
2169  08EC  1A          	ld	a, (de)
2170  08ED  32 00 00    	ld	(_s_col0),a
2171  08F0  C5          	push	bc
2172  08F1  D5          	push	de
2173  08F2  21 00 00    	ld	hl,0x0000
2174  08F5  E5          	push	hl
2175  08F6  AF          	xor	a, a
2176  08F7  F5          	push	af
2177  08F8  33          	inc	sp
2178  08F9  79          	ld	a, c
2179  08FA  F5          	push	af
2180  08FB  33          	inc	sp
2181  08FC  CD 00 00    	call	_NIRVANAP_spriteT_callee
2182  08FF  CD 2F 0C    	call	_spr_back_repaint
2183  0902  D1          	pop	de
2184  0903  C1          	pop	bc
2185  0904  06 00       	ld	b,0x00
2186  0906  21 00 00    	ld	hl,_tile
2187  0909  09          	add	hl, bc
2188  090A  AF          	xor	a,a
2189  090B  77          	ld	(hl),a
2190  090C  E1          	pop	hl
2191  090D  12          	ld	(de),a
2192  090E  E5          	push	hl
2193  090F  36 00       	ld	(hl),0x00
2194  0911  11 00 00    	ld	de,_class+0
2195  0914  69          	ld	l,c
2196  0915  26 00       	ld	h,0x00
2197  0917  19          	add	hl, de
2198  0918  36 00       	ld	(hl),0x00
2199  091A  11 00 00    	ld	de,_state+0
2200  091D  69          	ld	l,c
2201  091E  26 00       	ld	h,0x00
2202  0920  19          	add	hl, de
2203  0921  36 00       	ld	(hl),0x00
2204  0923  11 00 00    	ld	de,_state_a+0
2205  0926  69          	ld	l,c
2206  0927  26 00       	ld	h,0x00
2207  0929  19          	add	hl, de
2208  092A  F1          	pop	af
2209  092B  36 00       	ld	(hl),0x00
2210  092D  DD E1       	pop	ix
2211  092F  C9          	ret
2212  0930              	SECTION code_compiler
2213  0930              ;	---------------------------------
2214  0930              ; Function spr_tile
2215  0930              ; ---------------------------------
2216  0930              _spr_tile:
2217  0930  45          	ld	b,l
2218  0931  11 00 00    	ld	de,_class+0
2219  0934  26 00       	ld	h,0x00
2220  0936  19          	add	hl, de
2221  0937  5E          	ld	e, (hl)
2222  0938  3E 13       	ld	a,0x13
2223  093A  93          	sub	a, e
2224  093B  DA 6E 0A    	jp	C, l_spr_tile_00116
2225  093E  16 00       	ld	d,0x00
2226  0940  21 47 09    	ld	hl,l_spr_tile_00123
2227  0943  19          	add	hl, de
2228  0944  19          	add	hl, de
2229  0945  19          	add	hl, de
2230  0946  E9          	jp	(hl)
2231  0947              l_spr_tile_00123:
2232  0947  C3 6E 0A    	jp	l_spr_tile_00116
2233  094A  C3 6E 0A    	jp	l_spr_tile_00116
2234  094D  C3 D5 09    	jp	l_spr_tile_00106
2235  0950  C3 E6 09    	jp	l_spr_tile_00107
2236  0953  C3 F6 09    	jp	l_spr_tile_00108
2237  0956  C3 05 0A    	jp	l_spr_tile_00109
2238  0959  C3 41 0A    	jp	l_spr_tile_00113
2239  095C  C3 50 0A    	jp	l_spr_tile_00114
2240  095F  C3 5F 0A    	jp	l_spr_tile_00115
2241  0962  C3 6E 0A    	jp	l_spr_tile_00116
2242  0965  C3 6E 0A    	jp	l_spr_tile_00116
2243  0968  C3 83 09    	jp	l_spr_tile_00101
2244  096B  C3 93 09    	jp	l_spr_tile_00102
2245  096E  C3 A3 09    	jp	l_spr_tile_00103
2246  0971  C3 B4 09    	jp	l_spr_tile_00104
2247  0974  C3 C4 09    	jp	l_spr_tile_00105
2248  0977  C3 14 0A    	jp	l_spr_tile_00110
2249  097A  C3 6E 0A    	jp	l_spr_tile_00116
2250  097D  C3 23 0A    	jp	l_spr_tile_00111
2251  0980  C3 32 0A    	jp	l_spr_tile_00112
2252  0983              l_spr_tile_00101:
2253  0983  AF          	xor	a, a
2254  0984  48          	ld	c,b
2255  0985  47          	ld	b,a
2256  0986  C5          	push	bc
2257  0987  3E 90       	ld	a,0x90
2258  0989  F5          	push	af
2259  098A  33          	inc	sp
2260  098B  CD 71 0A    	call	_spr_tile_dir
2261  098E  F1          	pop	af
2262  098F  33          	inc	sp
2263  0990  C3 70 0A    	jp	l_spr_tile_00117
2264  0993              l_spr_tile_00102:
2265  0993  AF          	xor	a, a
2266  0994  48          	ld	c,b
2267  0995  47          	ld	b,a
2268  0996  C5          	push	bc
2269  0997  3E 94       	ld	a,0x94
2270  0999  F5          	push	af
2271  099A  33          	inc	sp
2272  099B  CD 71 0A    	call	_spr_tile_dir
2273  099E  F1          	pop	af
2274  099F  33          	inc	sp
2275  09A0  C3 70 0A    	jp	l_spr_tile_00117
2276  09A3              l_spr_tile_00103:
2277  09A3  3E 02       	ld	a,0x02
2278  09A5  48          	ld	c,b
2279  09A6  47          	ld	b,a
2280  09A7  C5          	push	bc
2281  09A8  3E 98       	ld	a,0x98
2282  09AA  F5          	push	af
2283  09AB  33          	inc	sp
2284  09AC  CD 71 0A    	call	_spr_tile_dir
2285  09AF  F1          	pop	af
2286  09B0  33          	inc	sp
2287  09B1  C3 70 0A    	jp	l_spr_tile_00117
2288  09B4              l_spr_tile_00104:
2289  09B4  AF          	xor	a, a
2290  09B5  48          	ld	c,b
2291  09B6  47          	ld	b,a
2292  09B7  C5          	push	bc
2293  09B8  3E 9C       	ld	a,0x9c
2294  09BA  F5          	push	af
2295  09BB  33          	inc	sp
2296  09BC  CD 71 0A    	call	_spr_tile_dir
2297  09BF  F1          	pop	af
2298  09C0  33          	inc	sp
2299  09C1  C3 70 0A    	jp	l_spr_tile_00117
2300  09C4              l_spr_tile_00105:
2301  09C4  3E 04       	ld	a,0x04
2302  09C6  48          	ld	c,b
2303  09C7  47          	ld	b,a
2304  09C8  C5          	push	bc
2305  09C9  3E A0       	ld	a,0xa0
2306  09CB  F5          	push	af
2307  09CC  33          	inc	sp
2308  09CD  CD 71 0A    	call	_spr_tile_dir
2309  09D0  F1          	pop	af
2310  09D1  33          	inc	sp
2311  09D2  C3 70 0A    	jp	l_spr_tile_00117
2312  09D5              l_spr_tile_00106:
2313  09D5  3E 02       	ld	a,0x02
2314  09D7  48          	ld	c,b
2315  09D8  47          	ld	b,a
2316  09D9  C5          	push	bc
2317  09DA  3E A8       	ld	a,0xa8
2318  09DC  F5          	push	af
2319  09DD  33          	inc	sp
2320  09DE  CD 71 0A    	call	_spr_tile_dir
2321  09E1  F1          	pop	af
2322  09E2  33          	inc	sp
2323  09E3  C3 70 0A    	jp	l_spr_tile_00117
2324  09E6              l_spr_tile_00107:
2325  09E6  AF          	xor	a, a
2326  09E7  48          	ld	c,b
2327  09E8  47          	ld	b,a
2328  09E9  C5          	push	bc
2329  09EA  3E AC       	ld	a,0xac
2330  09EC  F5          	push	af
2331  09ED  33          	inc	sp
2332  09EE  CD 71 0A    	call	_spr_tile_dir
2333  09F1  F1          	pop	af
2334  09F2  33          	inc	sp
2335  09F3  C3 70 0A    	jp	l_spr_tile_00117
2336  09F6              l_spr_tile_00108:
2337  09F6  AF          	xor	a, a
2338  09F7  48          	ld	c,b
2339  09F8  47          	ld	b,a
2340  09F9  C5          	push	bc
2341  09FA  3E AE       	ld	a,0xae
2342  09FC  F5          	push	af
2343  09FD  33          	inc	sp
2344  09FE  CD 71 0A    	call	_spr_tile_dir
2345  0A01  F1          	pop	af
2346  0A02  33          	inc	sp
2347  0A03  18 6B       	jr	l_spr_tile_00117
2348  0A05              l_spr_tile_00109:
2349  0A05  AF          	xor	a, a
2350  0A06  48          	ld	c,b
2351  0A07  47          	ld	b,a
2352  0A08  C5          	push	bc
2353  0A09  3E B0       	ld	a,0xb0
2354  0A0B  F5          	push	af
2355  0A0C  33          	inc	sp
2356  0A0D  CD 71 0A    	call	_spr_tile_dir
2357  0A10  F1          	pop	af
2358  0A11  33          	inc	sp
2359  0A12  18 5C       	jr	l_spr_tile_00117
2360  0A14              l_spr_tile_00110:
2361  0A14  AF          	xor	a, a
2362  0A15  48          	ld	c,b
2363  0A16  47          	ld	b,a
2364  0A17  C5          	push	bc
2365  0A18  3E B2       	ld	a,0xb2
2366  0A1A  F5          	push	af
2367  0A1B  33          	inc	sp
2368  0A1C  CD 71 0A    	call	_spr_tile_dir
2369  0A1F  F1          	pop	af
2370  0A20  33          	inc	sp
2371  0A21  18 4D       	jr	l_spr_tile_00117
2372  0A23              l_spr_tile_00111:
2373  0A23  AF          	xor	a, a
2374  0A24  48          	ld	c,b
2375  0A25  47          	ld	b,a
2376  0A26  C5          	push	bc
2377  0A27  3E B4       	ld	a,0xb4
2378  0A29  F5          	push	af
2379  0A2A  33          	inc	sp
2380  0A2B  CD 71 0A    	call	_spr_tile_dir
2381  0A2E  F1          	pop	af
2382  0A2F  33          	inc	sp
2383  0A30  18 3E       	jr	l_spr_tile_00117
2384  0A32              l_spr_tile_00112:
2385  0A32  AF          	xor	a, a
2386  0A33  48          	ld	c,b
2387  0A34  47          	ld	b,a
2388  0A35  C5          	push	bc
2389  0A36  3E B6       	ld	a,0xb6
2390  0A38  F5          	push	af
2391  0A39  33          	inc	sp
2392  0A3A  CD 71 0A    	call	_spr_tile_dir
2393  0A3D  F1          	pop	af
2394  0A3E  33          	inc	sp
2395  0A3F  18 2F       	jr	l_spr_tile_00117
2396  0A41              l_spr_tile_00113:
2397  0A41  AF          	xor	a, a
2398  0A42  48          	ld	c,b
2399  0A43  47          	ld	b,a
2400  0A44  C5          	push	bc
2401  0A45  3E C0       	ld	a,0xc0
2402  0A47  F5          	push	af
2403  0A48  33          	inc	sp
2404  0A49  CD 71 0A    	call	_spr_tile_dir
2405  0A4C  F1          	pop	af
2406  0A4D  33          	inc	sp
2407  0A4E  18 20       	jr	l_spr_tile_00117
2408  0A50              l_spr_tile_00114:
2409  0A50  AF          	xor	a, a
2410  0A51  48          	ld	c,b
2411  0A52  47          	ld	b,a
2412  0A53  C5          	push	bc
2413  0A54  3E C2       	ld	a,0xc2
2414  0A56  F5          	push	af
2415  0A57  33          	inc	sp
2416  0A58  CD 71 0A    	call	_spr_tile_dir
2417  0A5B  F1          	pop	af
2418  0A5C  33          	inc	sp
2419  0A5D  18 11       	jr	l_spr_tile_00117
2420  0A5F              l_spr_tile_00115:
2421  0A5F  AF          	xor	a, a
2422  0A60  48          	ld	c,b
2423  0A61  47          	ld	b,a
2424  0A62  C5          	push	bc
2425  0A63  3E C4       	ld	a,0xc4
2426  0A65  F5          	push	af
2427  0A66  33          	inc	sp
2428  0A67  CD 71 0A    	call	_spr_tile_dir
2429  0A6A  F1          	pop	af
2430  0A6B  33          	inc	sp
2431  0A6C  18 02       	jr	l_spr_tile_00117
2432  0A6E              l_spr_tile_00116:
2433  0A6E  2E 00       	ld	l,0x00
2434  0A70              l_spr_tile_00117:
2435  0A70  C9          	ret
2436  0A71              	SECTION code_compiler
2437  0A71              ;	---------------------------------
2438  0A71              ; Function spr_tile_dir
2439  0A71              ; ---------------------------------
2440  0A71              _spr_tile_dir:
2441  0A71  CD 00 00    	call	___sdcc_enter_ix
2442  0A74  3E 00       	ld	a, +((_state) & 0xFF)
2443  0A76  DD 86 05    	add	a,(ix+5)
2444  0A79  4F          	ld	c, a
2445  0A7A  3E 00       	ld	a, +((_state) / 256)
2446  0A7C  CE 00       	adc	a,0x00
2447  0A7E  47          	ld	b, a
2448  0A7F  0A          	ld	a, (bc)
2449  0A80  4F          	ld	c,a
2450  0A81  CB 57       	bit	2,a
2451  0A83  28 05       	jr	Z,l_spr_tile_dir_00102
2452  0A85  DD 6E 04    	ld	l,(ix+4)
2453  0A88  18 2D       	jr	l_spr_tile_dir_00109
2454  0A8A              l_spr_tile_dir_00102:
2455  0A8A  DD 7E 04    	ld	a,(ix+4)
2456  0A8D  DD 86 06    	add	a,(ix+6)
2457  0A90  47          	ld	b, a
2458  0A91  CB 59       	bit	3, c
2459  0A93  28 03       	jr	Z,l_spr_tile_dir_00104
2460  0A95  68          	ld	l, b
2461  0A96  18 1F       	jr	l_spr_tile_dir_00109
2462  0A98              l_spr_tile_dir_00104:
2463  0A98  3E 00       	ld	a, +((_state_a) & 0xFF)
2464  0A9A  DD 86 05    	add	a,(ix+5)
2465  0A9D  5F          	ld	e, a
2466  0A9E  3E 00       	ld	a, +((_state_a) / 256)
2467  0AA0  CE 00       	adc	a,0x00
2468  0AA2  57          	ld	d, a
2469  0AA3  1A          	ld	a, (de)
2470  0AA4  CB 67       	bit	4, a
2471  0AA6  28 05       	jr	Z,l_spr_tile_dir_00106
2472  0AA8  DD 6E 04    	ld	l,(ix+4)
2473  0AAB  18 0A       	jr	l_spr_tile_dir_00109
2474  0AAD              l_spr_tile_dir_00106:
2475  0AAD  CB 5F       	bit	3, a
2476  0AAF  28 03       	jr	Z,l_spr_tile_dir_00108
2477  0AB1  68          	ld	l, b
2478  0AB2  18 03       	jr	l_spr_tile_dir_00109
2479  0AB4              l_spr_tile_dir_00108:
2480  0AB4  DD 6E 04    	ld	l,(ix+4)
2481  0AB7              l_spr_tile_dir_00109:
2482  0AB7  DD E1       	pop	ix
2483  0AB9  C9          	ret
2484  0ABA              	SECTION code_compiler
2485  0ABA              ;	---------------------------------
2486  0ABA              ; Function spr_brick_anim
2487  0ABA              ; ---------------------------------
2488  0ABA              _spr_brick_anim:
2489  0ABA  CD 00 00    	call	___sdcc_enter_ix
2490  0ABD  F5          	push	af
2491  0ABE  3B          	dec	sp
2492  0ABF  4D          	ld	c, l
2493  0AC0  21 00 00    	ld	hl,_player_hit_col
2494  0AC3  56          	ld	d, (hl)
2495  0AC4  21 00 00    	ld	hl,_player_hit_lin
2496  0AC7  5E          	ld	e, (hl)
2497  0AC8  C5          	push	bc
2498  0AC9  D5          	push	de
2499  0ACA  D5          	push	de
2500  0ACB  CD 00 00    	call	_spr_calc_index
2501  0ACE  F1          	pop	af
2502  0ACF  DD 74 FF    	ld	(ix-1),h
2503  0AD2  DD 75 FE    	ld	(ix-2),l
2504  0AD5  D1          	pop	de
2505  0AD6  C1          	pop	bc
2506  0AD7  DD 6E FE    	ld	l,(ix-2)
2507  0ADA  DD 66 FF    	ld	h,(ix-1)
2508  0ADD  22 00 00    	ld	(_index1),hl
2509  0AE0  21 00 00    	ld	hl,_index1
2510  0AE3  7E          	ld	a, (hl)
2511  0AE4  C6 F0       	add	a,0xf0
2512  0AE6  DD 77 FE    	ld	(ix-2),a
2513  0AE9  23          	inc	hl
2514  0AEA  7E          	ld	a, (hl)
2515  0AEB  CE FF       	adc	a,0xff
2516  0AED  DD 77 FF    	ld	(ix-1),a
2517  0AF0  3E 00       	ld	a, +((_scr_map) & 0xFF)
2518  0AF2  DD 86 FE    	add	a,(ix-2)
2519  0AF5  6F          	ld	l, a
2520  0AF6  3E 00       	ld	a, +((_scr_map) / 256)
2521  0AF8  DD 8E FF    	adc	a,(ix-1)
2522  0AFB  67          	ld	h, a
2523  0AFC  7E          	ld	a, (hl)
2524  0AFD  DD 77 FD    	ld	(ix-3),a
2525  0B00  3E 00       	ld	a, +((_scr_map) & 0xFF)
2526  0B02  21 00 00    	ld	hl,_index1
2527  0B05  86          	add	a, (hl)
2528  0B06  DD 77 FE    	ld	(ix-2),a
2529  0B09  3E 00       	ld	a, +((_scr_map) / 256)
2530  0B0B  23          	inc	hl
2531  0B0C  8E          	adc	a, (hl)
2532  0B0D  DD 6E FE    	ld	l,(ix-2)
2533  0B10  DD 77 FF    	ld	(ix-1),a
2534  0B13  67          	ld	h,a
2535  0B14  46          	ld	b, (hl)
2536  0B15  79          	ld	a, c
2537  0B16  B7          	or	a, a
2538  0B17  28 08       	jr	Z,l_spr_brick_anim_00102
2539  0B19  7B          	ld	a, e
2540  0B1A  C6 F6       	add	a,0xf6
2541  0B1C  32 00 00    	ld	(_tmp),a
2542  0B1F  18 06       	jr	l_spr_brick_anim_00103
2543  0B21              l_spr_brick_anim_00102:
2544  0B21  7B          	ld	a, e
2545  0B22  C6 F8       	add	a,0xf8
2546  0B24  32 00 00    	ld	(_tmp),a
2547  0B27              l_spr_brick_anim_00103:
2548  0B27  F3          	di
2549  0B28  79          	ld	a, c
2550  0B29  B7          	or	a, a
2551  0B2A  28 1A       	jr	Z,l_spr_brick_anim_00105
2552  0B2C  3A 00 00    	ld	a,(_map_paper_clr)
2553  0B2F  C5          	push	bc
2554  0B30  D5          	push	de
2555  0B31  D5          	push	de
2556  0B32  F5          	push	af
2557  0B33  33          	inc	sp
2558  0B34  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2559  0B37  D1          	pop	de
2560  0B38  C1          	pop	bc
2561  0B39  D5          	push	de
2562  0B3A  33          	inc	sp
2563  0B3B  3A 00 00    	ld	a,(_tmp)
2564  0B3E  48          	ld	c,b
2565  0B3F  47          	ld	b,a
2566  0B40  C5          	push	bc
2567  0B41  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2568  0B44  18 1E       	jr	l_spr_brick_anim_00106
2569  0B46              l_spr_brick_anim_00105:
2570  0B46  3A 00 00    	ld	a,(_tmp)
2571  0B49  C6 F0       	add	a,0xf0
2572  0B4B  C5          	push	bc
2573  0B4C  D5          	push	de
2574  0B4D  5F          	ld	e,a
2575  0B4E  D5          	push	de
2576  0B4F  DD 7E FD    	ld	a,(ix-3)
2577  0B52  F5          	push	af
2578  0B53  33          	inc	sp
2579  0B54  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2580  0B57  D1          	pop	de
2581  0B58  C1          	pop	bc
2582  0B59  D5          	push	de
2583  0B5A  33          	inc	sp
2584  0B5B  3A 00 00    	ld	a,(_tmp)
2585  0B5E  48          	ld	c,b
2586  0B5F  47          	ld	b,a
2587  0B60  C5          	push	bc
2588  0B61  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2589  0B64              l_spr_brick_anim_00106:
2590  0B64  FB          	ei
2591  0B65  DD F9       	ld	sp, ix
2592  0B67  DD E1       	pop	ix
2593  0B69  C9          	ret
2594  0B6A              	SECTION code_compiler
2595  0B6A              ;	---------------------------------
2596  0B6A              ; Function spr_draw_index
2597  0B6A              ; ---------------------------------
2598  0B6A              _spr_draw_index:
2599  0B6A  CD 00 00    	call	___sdcc_enter_ix
2600  0B6D  DD 4E 04    	ld	c,(ix+4)
2601  0B70  79          	ld	a, c
2602  0B71  E6 0F       	and	a,0x0f
2603  0B73  87          	add	a, a
2604  0B74  32 00 00    	ld	(_s_col1),a
2605  0B77  21 00 00    	ld	hl,_s_lin1
2606  0B7A  71          	ld	(hl),c
2607  0B7B  79          	ld	a,c
2608  0B7C  07          	rlca
2609  0B7D  07          	rlca
2610  0B7E  07          	rlca
2611  0B7F  07          	rlca
2612  0B80  E6 0F       	and	a,0x0f
2613  0B82  07          	rlca
2614  0B83  07          	rlca
2615  0B84  07          	rlca
2616  0B85  07          	rlca
2617  0B86  E6 F0       	and	a,0xf0
2618  0B88  77          	ld	(hl), a
2619  0B89  F3          	di
2620  0B8A  3E 00       	ld	a, +((_scr_map) & 0xFF)
2621  0B8C  DD 86 04    	add	a,(ix+4)
2622  0B8F  4F          	ld	c, a
2623  0B90  3E 00       	ld	a, +((_scr_map) / 256)
2624  0B92  DD 8E 05    	adc	a,(ix+5)
2625  0B95  47          	ld	b, a
2626  0B96  0A          	ld	a, (bc)
2627  0B97  47          	ld	b, a
2628  0B98  3A 00 00    	ld	a,(_s_col1)
2629  0B9B  F5          	push	af
2630  0B9C  33          	inc	sp
2631  0B9D  3A 00 00    	ld	a,(_s_lin1)
2632  0BA0  48          	ld	c,b
2633  0BA1  47          	ld	b,a
2634  0BA2  C5          	push	bc
2635  0BA3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2636  0BA6  FB          	ei
2637  0BA7  DD E1       	pop	ix
2638  0BA9  C9          	ret
2639  0BAA              	SECTION code_compiler
2640  0BAA              ;	---------------------------------
2641  0BAA              ; Function spr_draw_row
2642  0BAA              ; ---------------------------------
2643  0BAA              _spr_draw_row:
2644  0BAA  CD 00 00    	call	___sdcc_enter_ix
2645  0BAD  3B          	dec	sp
2646  0BAE  F3          	di
2647  0BAF  21 00 00    	ld	hl,_tmp
2648  0BB2  36 00       	ld	(hl),0x00
2649  0BB4  DD 7E 04    	ld	a,(ix+4)
2650  0BB7  07          	rlca
2651  0BB8  07          	rlca
2652  0BB9  07          	rlca
2653  0BBA  E6 F8       	and	a,0xf8
2654  0BBC  DD 77 FF    	ld	(ix-1),a
2655  0BBF              l_spr_draw_row_00101:
2656  0BBF  21 00 00    	ld	hl,_tmp
2657  0BC2  7E          	ld	a, (hl)
2658  0BC3  D6 20       	sub	a,0x20
2659  0BC5  30 38       	jr	NC,l_spr_draw_row_00103
2660  0BC7  DD 4E 04    	ld	c,(ix+4)
2661  0BCA  3E 00       	ld	a,0x00
2662  0BCC  CB 21       	sla	c
2663  0BCE  17          	rla
2664  0BCF  CB 21       	sla	c
2665  0BD1  17          	rla
2666  0BD2  CB 21       	sla	c
2667  0BD4  17          	rla
2668  0BD5  CB 21       	sla	c
2669  0BD7  17          	rla
2670  0BD8  CB 21       	sla	c
2671  0BDA  17          	rla
2672  0BDB  47          	ld	b,a
2673  0BDC  5E          	ld	e, (hl)
2674  0BDD  16 00       	ld	d,0x00
2675  0BDF  79          	ld	a, c
2676  0BE0  83          	add	a, e
2677  0BE1  21 00 00    	ld	hl,_index1
2678  0BE4  77          	ld	(hl), a
2679  0BE5  78          	ld	a, b
2680  0BE6  8A          	adc	a, d
2681  0BE7  23          	inc	hl
2682  0BE8  77          	ld	(hl), a
2683  0BE9  2A FF FF    	ld	hl,(_tmp-1)
2684  0BEC  DD 6E FF    	ld	l,(ix-1)
2685  0BEF  3A 00 00    	ld	a,(_game_brick_tile)
2686  0BF2  E5          	push	hl
2687  0BF3  F5          	push	af
2688  0BF4  33          	inc	sp
2689  0BF5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2690  0BF8  21 00 00    	ld	hl,_tmp
2691  0BFB  34          	inc	(hl)
2692  0BFC  34          	inc	(hl)
2693  0BFD  18 C0       	jr	l_spr_draw_row_00101
2694  0BFF              l_spr_draw_row_00103:
2695  0BFF  FB          	ei
2696  0C00  33          	inc	sp
2697  0C01  DD E1       	pop	ix
2698  0C03  C9          	ret
2699  0C04              	SECTION code_compiler
2700  0C04              ;	---------------------------------
2701  0C04              ; Function spr_calc_hor
2702  0C04              ; ---------------------------------
2703  0C04              _spr_calc_hor:
2704  0C04  CD 00 00    	call	___sdcc_enter_ix
2705  0C07  3E 00       	ld	a, +((_col) & 0xFF)
2706  0C09  DD 86 04    	add	a,(ix+4)
2707  0C0C  4F          	ld	c, a
2708  0C0D  3E 00       	ld	a, +((_col) / 256)
2709  0C0F  CE 00       	adc	a,0x00
2710  0C11  47          	ld	b, a
2711  0C12  0A          	ld	a, (bc)
2712  0C13  5F          	ld	e, a
2713  0C14  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2714  0C16  DD 86 04    	add	a,(ix+4)
2715  0C19  4F          	ld	c, a
2716  0C1A  3E 00       	ld	a, +((_sprite_frames) / 256)
2717  0C1C  CE 00       	adc	a,0x00
2718  0C1E  47          	ld	b, a
2719  0C1F  0A          	ld	a, (bc)
2720  0C20  67          	ld	h, a
2721  0C21  2E 00       	ld	l,0x00
2722  0C23  55          	ld	d, l
2723  0C24  06 08       	ld	b,0x08
2724  0C26              l_spr_calc_hor_00103:
2725  0C26  29          	add	hl, hl
2726  0C27  30 01       	jr	NC,l_spr_calc_hor_00104
2727  0C29  19          	add	hl, de
2728  0C2A              l_spr_calc_hor_00104:
2729  0C2A  10 FA       	djnz	l_spr_calc_hor_00103
2730  0C2C  DD E1       	pop	ix
2731  0C2E  C9          	ret
2732  0C2F              	SECTION code_compiler
2733  0C2F              ;	---------------------------------
2734  0C2F              ; Function spr_back_repaint
2735  0C2F              ; ---------------------------------
2736  0C2F              _spr_back_repaint:
2737  0C2F  CD 00 00    	call	___sdcc_enter_ix
2738  0C32  3B          	dec	sp
2739  0C33  3A 00 00    	ld	a,(_spr_hack)
2740  0C36  B7          	or	a, a
2741  0C37  20 02       	jr	NZ,l_spr_back_repaint_00102
2742  0C39  76          	halt
2743  0C3A  F3          	di
2744  0C3B              l_spr_back_repaint_00102:
2745  0C3B  2A FF FF    	ld	hl,(_s_col0 - 1)
2746  0C3E  3A 00 00    	ld	a,(_s_lin0)
2747  0C41  6F          	ld	l,a
2748  0C42  E5          	push	hl
2749  0C43  CD 00 00    	call	_spr_calc_index
2750  0C46  F1          	pop	af
2751  0C47  7D          	ld	a,l
2752  0C48  32 00 00    	ld	(_sprite_curr_index),a
2753  0C4B  21 00 00    	ld	hl,_s_lin0
2754  0C4E  7E          	ld	a, (hl)
2755  0C4F  E6 0F       	and	a,0x0f
2756  0C51  4F          	ld	c, a
2757  0C52  7E          	ld	a, (hl)
2758  0C53  07          	rlca
2759  0C54  07          	rlca
2760  0C55  07          	rlca
2761  0C56  07          	rlca
2762  0C57  E6 0F       	and	a,0x0f
2763  0C59  5F          	ld	e, a
2764  0C5A  21 00 00    	ld	hl,_s_col0
2765  0C5D  CB 46       	bit	0, (hl)
2766  0C5F  20 68       	jr	NZ,l_spr_back_repaint_00110
2767  0C61  79          	ld	a, c
2768  0C62  B7          	or	a, a
2769  0C63  20 1D       	jr	NZ,l_spr_back_repaint_00104
2770  0C65  2A 00 00    	ld	hl,(_sprite_curr_index)
2771  0C68  26 00       	ld	h,0x00
2772  0C6A  01 00 00    	ld	bc,_scr_map
2773  0C6D  09          	add	hl,bc
2774  0C6E  46          	ld	b,(hl)
2775  0C6F  3A 00 00    	ld	a,(_s_col0)
2776  0C72  F5          	push	af
2777  0C73  33          	inc	sp
2778  0C74  3A 00 00    	ld	a,(_s_lin0)
2779  0C77  48          	ld	c,b
2780  0C78  47          	ld	b,a
2781  0C79  C5          	push	bc
2782  0C7A  CD A6 0D    	call	_spr_tile_paint
2783  0C7D  F1          	pop	af
2784  0C7E  33          	inc	sp
2785  0C7F  C3 9B 0D    	jp	l_spr_back_repaint_00111
2786  0C82              l_spr_back_repaint_00104:
2787  0C82  7B          	ld	a, e
2788  0C83  07          	rlca
2789  0C84  07          	rlca
2790  0C85  07          	rlca
2791  0C86  07          	rlca
2792  0C87  E6 F0       	and	a,0xf0
2793  0C89  4F          	ld	c, a
2794  0C8A  2A 00 00    	ld	hl,(_sprite_curr_index)
2795  0C8D  26 00       	ld	h,0x00
2796  0C8F  11 00 00    	ld	de,_scr_map
2797  0C92  19          	add	hl,de
2798  0C93  46          	ld	b, (hl)
2799  0C94  3A 00 00    	ld	a,(_s_col0)
2800  0C97  C5          	push	bc
2801  0C98  F5          	push	af
2802  0C99  33          	inc	sp
2803  0C9A  79          	ld	a, c
2804  0C9B  48          	ld	c,b
2805  0C9C  47          	ld	b,a
2806  0C9D  C5          	push	bc
2807  0C9E  CD A6 0D    	call	_spr_tile_paint
2808  0CA1  F1          	pop	af
2809  0CA2  33          	inc	sp
2810  0CA3  C1          	pop	bc
2811  0CA4  79          	ld	a, c
2812  0CA5  C6 10       	add	a,0x10
2813  0CA7  57          	ld	d, a
2814  0CA8  21 00 00    	ld	hl,_sprite_curr_index
2815  0CAB  7E          	ld	a, (hl)
2816  0CAC  C6 10       	add	a,0x10
2817  0CAE  77          	ld	(hl), a
2818  0CAF  C6 00       	add	a,+((_scr_map) & 0xFF)
2819  0CB1  4F          	ld	c, a
2820  0CB2  3E 00       	ld	a, +((_scr_map) / 256)
2821  0CB4  CE 00       	adc	a,0x00
2822  0CB6  47          	ld	b, a
2823  0CB7  0A          	ld	a, (bc)
2824  0CB8  47          	ld	b, a
2825  0CB9  3A 00 00    	ld	a,(_s_col0)
2826  0CBC  5A          	ld	e,d
2827  0CBD  57          	ld	d,a
2828  0CBE  D5          	push	de
2829  0CBF  C5          	push	bc
2830  0CC0  33          	inc	sp
2831  0CC1  CD A6 0D    	call	_spr_tile_paint
2832  0CC4  F1          	pop	af
2833  0CC5  33          	inc	sp
2834  0CC6  C3 9B 0D    	jp	l_spr_back_repaint_00111
2835  0CC9              l_spr_back_repaint_00110:
2836  0CC9  3A 00 00    	ld	a,(_s_col0)
2837  0CCC  C6 FF       	add	a,0xff
2838  0CCE  DD 77 FF    	ld	(ix-1),a
2839  0CD1  79          	ld	a, c
2840  0CD2  B7          	or	a, a
2841  0CD3  20 3E       	jr	NZ,l_spr_back_repaint_00107
2842  0CD5  2A 00 00    	ld	hl,(_sprite_curr_index)
2843  0CD8  26 00       	ld	h,0x00
2844  0CDA  01 00 00    	ld	bc,_scr_map
2845  0CDD  09          	add	hl,bc
2846  0CDE  46          	ld	b,(hl)
2847  0CDF  DD 7E FF    	ld	a,(ix-1)
2848  0CE2  F5          	push	af
2849  0CE3  33          	inc	sp
2850  0CE4  3A 00 00    	ld	a,(_s_lin0)
2851  0CE7  48          	ld	c,b
2852  0CE8  47          	ld	b,a
2853  0CE9  C5          	push	bc
2854  0CEA  CD A6 0D    	call	_spr_tile_paint
2855  0CED  F1          	pop	af
2856  0CEE  33          	inc	sp
2857  0CEF  21 00 00    	ld	hl,_sprite_curr_index
2858  0CF2  34          	inc	(hl)
2859  0CF3  21 00 00    	ld	hl,_s_col0
2860  0CF6  4E          	ld	c, (hl)
2861  0CF7  0C          	inc	c
2862  0CF8  2A 00 00    	ld	hl,(_sprite_curr_index)
2863  0CFB  26 00       	ld	h,0x00
2864  0CFD  11 00 00    	ld	de,_scr_map
2865  0D00  19          	add	hl,de
2866  0D01  46          	ld	b, (hl)
2867  0D02  79          	ld	a, c
2868  0D03  F5          	push	af
2869  0D04  33          	inc	sp
2870  0D05  3A 00 00    	ld	a,(_s_lin0)
2871  0D08  48          	ld	c,b
2872  0D09  47          	ld	b,a
2873  0D0A  C5          	push	bc
2874  0D0B  CD A6 0D    	call	_spr_tile_paint
2875  0D0E  F1          	pop	af
2876  0D0F  33          	inc	sp
2877  0D10  C3 9B 0D    	jp	l_spr_back_repaint_00111
2878  0D13              l_spr_back_repaint_00107:
2879  0D13  7B          	ld	a, e
2880  0D14  07          	rlca
2881  0D15  07          	rlca
2882  0D16  07          	rlca
2883  0D17  07          	rlca
2884  0D18  E6 F0       	and	a,0xf0
2885  0D1A  47          	ld	b, a
2886  0D1B  2A 00 00    	ld	hl,(_sprite_curr_index)
2887  0D1E  26 00       	ld	h,0x00
2888  0D20  11 00 00    	ld	de,_scr_map
2889  0D23  19          	add	hl,de
2890  0D24  56          	ld	d, (hl)
2891  0D25  C5          	push	bc
2892  0D26  DD 7E FF    	ld	a,(ix-1)
2893  0D29  F5          	push	af
2894  0D2A  33          	inc	sp
2895  0D2B  4A          	ld	c, d
2896  0D2C  C5          	push	bc
2897  0D2D  CD A6 0D    	call	_spr_tile_paint
2898  0D30  F1          	pop	af
2899  0D31  33          	inc	sp
2900  0D32  C1          	pop	bc
2901  0D33  21 00 00    	ld	hl,_sprite_curr_index
2902  0D36  34          	inc	(hl)
2903  0D37  21 00 00    	ld	hl,_s_col0
2904  0D3A  4E          	ld	c, (hl)
2905  0D3B  0C          	inc	c
2906  0D3C  2A 00 00    	ld	hl,(_sprite_curr_index)
2907  0D3F  26 00       	ld	h,0x00
2908  0D41  11 00 00    	ld	de,_scr_map
2909  0D44  19          	add	hl,de
2910  0D45  5E          	ld	e, (hl)
2911  0D46  C5          	push	bc
2912  0D47  79          	ld	a, c
2913  0D48  48          	ld	c,b
2914  0D49  47          	ld	b,a
2915  0D4A  C5          	push	bc
2916  0D4B  7B          	ld	a, e
2917  0D4C  F5          	push	af
2918  0D4D  33          	inc	sp
2919  0D4E  CD A6 0D    	call	_spr_tile_paint
2920  0D51  F1          	pop	af
2921  0D52  33          	inc	sp
2922  0D53  C1          	pop	bc
2923  0D54  78          	ld	a, b
2924  0D55  C6 10       	add	a,0x10
2925  0D57  DD 77 FF    	ld	(ix-1),a
2926  0D5A  21 00 00    	ld	hl,_sprite_curr_index
2927  0D5D  7E          	ld	a, (hl)
2928  0D5E  C6 0F       	add	a,0x0f
2929  0D60  77          	ld	(hl), a
2930  0D61  21 00 00    	ld	hl,_s_col0
2931  0D64  4E          	ld	c, (hl)
2932  0D65  0D          	dec	c
2933  0D66  2A 00 00    	ld	hl,(_sprite_curr_index)
2934  0D69  26 00       	ld	h,0x00
2935  0D6B  11 00 00    	ld	de,_scr_map
2936  0D6E  19          	add	hl,de
2937  0D6F  5E          	ld	e, (hl)
2938  0D70  79          	ld	a, c
2939  0D71  F5          	push	af
2940  0D72  33          	inc	sp
2941  0D73  DD 56 FF    	ld	d,(ix-1)
2942  0D76  D5          	push	de
2943  0D77  CD A6 0D    	call	_spr_tile_paint
2944  0D7A  F1          	pop	af
2945  0D7B  33          	inc	sp
2946  0D7C  21 00 00    	ld	hl,_sprite_curr_index
2947  0D7F  34          	inc	(hl)
2948  0D80  21 00 00    	ld	hl,_s_col0
2949  0D83  4E          	ld	c, (hl)
2950  0D84  0C          	inc	c
2951  0D85  2A 00 00    	ld	hl,(_sprite_curr_index)
2952  0D88  26 00       	ld	h,0x00
2953  0D8A  11 00 00    	ld	de,_scr_map
2954  0D8D  19          	add	hl,de
2955  0D8E  5E          	ld	e, (hl)
2956  0D8F  79          	ld	a, c
2957  0D90  F5          	push	af
2958  0D91  33          	inc	sp
2959  0D92  DD 56 FF    	ld	d,(ix-1)
2960  0D95  D5          	push	de
2961  0D96  CD A6 0D    	call	_spr_tile_paint
2962  0D99  F1          	pop	af
2963  0D9A  33          	inc	sp
2964  0D9B              l_spr_back_repaint_00111:
2965  0D9B  3A 00 00    	ld	a,(_spr_hack)
2966  0D9E  B7          	or	a, a
2967  0D9F  20 01       	jr	NZ,l_spr_back_repaint_00114
2968  0DA1  FB          	ei
2969  0DA2              l_spr_back_repaint_00114:
2970  0DA2  33          	inc	sp
2971  0DA3  DD E1       	pop	ix
2972  0DA5  C9          	ret
2973  0DA6              	SECTION code_compiler
2974  0DA6              ;	---------------------------------
2975  0DA6              ; Function spr_tile_paint
2976  0DA6              ; ---------------------------------
2977  0DA6              _spr_tile_paint:
2978  0DA6  CD 00 00    	call	___sdcc_enter_ix
2979  0DA9  DD 7E 04    	ld	a,(ix+4)
2980  0DAC  B7          	or	a, a
2981  0DAD  28 05       	jr	Z,l_spr_tile_paint_00101
2982  0DAF  3C          	inc	a
2983  0DB0  28 22       	jr	Z,l_spr_tile_paint_00105
2984  0DB2  18 11       	jr	l_spr_tile_paint_00103
2985  0DB4              l_spr_tile_paint_00101:
2986  0DB4  DD 66 06    	ld	h,(ix+6)
2987  0DB7  DD 6E 05    	ld	l,(ix+5)
2988  0DBA  3A 00 00    	ld	a,(_map_paper_clr)
2989  0DBD  E5          	push	hl
2990  0DBE  F5          	push	af
2991  0DBF  33          	inc	sp
2992  0DC0  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2993  0DC3  18 0F       	jr	l_spr_tile_paint_00105
2994  0DC5              l_spr_tile_paint_00103:
2995  0DC5  DD 66 06    	ld	h,(ix+6)
2996  0DC8  DD 6E 05    	ld	l,(ix+5)
2997  0DCB  E5          	push	hl
2998  0DCC  DD 7E 04    	ld	a,(ix+4)
2999  0DCF  F5          	push	af
3000  0DD0  33          	inc	sp
3001  0DD1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3002  0DD4              l_spr_tile_paint_00105:
3003  0DD4  DD E1       	pop	ix
3004  0DD6  C9          	ret
3005  0DD7              	SECTION code_compiler
3006  0DD7              ;	---------------------------------
3007  0DD7              ; Function spr_init_anim_bullets
3008  0DD7              ; ---------------------------------
3009  0DD7              _spr_init_anim_bullets:
3010  0DD7  01 00 00    	ld	bc,_anim_lin+0
3011  0DDA  1E 00       	ld	e,0x00
3012  0DDC              l_spr_init_anim_bullets_00102:
3013  0DDC  6B          	ld	l,e
3014  0DDD  26 00       	ld	h,0x00
3015  0DDF  09          	add	hl, bc
3016  0DE0  36 FF       	ld	(hl),0xff
3017  0DE2  16 00       	ld	d,0x00
3018  0DE4  21 00 00    	ld	hl,_bullet_col
3019  0DE7  19          	add	hl, de
3020  0DE8  36 FF       	ld	(hl),0xff
3021  0DEA  1C          	inc	e
3022  0DEB  7B          	ld	a, e
3023  0DEC  D6 08       	sub	a,0x08
3024  0DEE  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3025  0DF0  21 00 00    	ld	hl,_bullet_count
3026  0DF3  36 00       	ld	(hl),0x00
3027  0DF5  21 00 00    	ld	hl,_anim_count
3028  0DF8  36 00       	ld	(hl),0x00
3029  0DFA  C9          	ret
3030  0DFB              	SECTION code_compiler
3031  0DFB              ;	---------------------------------
3032  0DFB              ; Function spr_add_anim
3033  0DFB              ; ---------------------------------
3034  0DFB              _spr_add_anim:
3035  0DFB  CD 00 00    	call	___sdcc_enter_ix
3036  0DFE  F5          	push	af
3037  0DFF  F5          	push	af
3038  0E00  3B          	dec	sp
3039  0E01  DD 7E 05    	ld	a,(ix+5)
3040  0E04  D6 1F       	sub	a,0x1f
3041  0E06  D2 C7 0E    	jp	NC, l_spr_add_anim_00111
3042  0E09  DD 7E 04    	ld	a,(ix+4)
3043  0E0C  D6 B8       	sub	a,0xb8
3044  0E0E  D2 C7 0E    	jp	NC, l_spr_add_anim_00111
3045  0E11  0E 00       	ld	c,0x00
3046  0E13  DD 71 FB    	ld	(ix-5),c
3047  0E16              l_spr_add_anim_00109:
3048  0E16  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3049  0E18  81          	add	a, c
3050  0E19  5F          	ld	e, a
3051  0E1A  3E 00       	ld	a, +((_anim_lin) / 256)
3052  0E1C  CE 00       	adc	a,0x00
3053  0E1E  57          	ld	d, a
3054  0E1F  1A          	ld	a, (de)
3055  0E20  3C          	inc	a
3056  0E21  C2 BD 0E    	jp	NZ,l_spr_add_anim_00110
3057  0E24  21 00 00    	ld	hl,_anim_count
3058  0E27  34          	inc	(hl)
3059  0E28  DD 7E 04    	ld	a,(ix+4)
3060  0E2B  12          	ld	(de), a
3061  0E2C  01 00 00    	ld	bc,_anim_col
3062  0E2F  DD 6E FB    	ld	l,(ix-5)
3063  0E32  26 00       	ld	h,0x00
3064  0E34  09          	add	hl,bc
3065  0E35  DD 75 FE    	ld	(ix-2),l
3066  0E38  DD 74 FF    	ld	(ix-1),h
3067  0E3B  DD 7E 05    	ld	a,(ix+5)
3068  0E3E  77          	ld	(hl), a
3069  0E3F  01 00 00    	ld	bc,_anim_tile
3070  0E42  DD 6E FB    	ld	l,(ix-5)
3071  0E45  26 00       	ld	h,0x00
3072  0E47  09          	add	hl,bc
3073  0E48  DD 75 FC    	ld	(ix-4),l
3074  0E4B  DD 74 FD    	ld	(ix-3),h
3075  0E4E  DD 7E 06    	ld	a,(ix+6)
3076  0E51  77          	ld	(hl), a
3077  0E52  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3078  0E54  DD 86 FB    	add	a,(ix-5)
3079  0E57  4F          	ld	c, a
3080  0E58  3E 00       	ld	a, +((_anim_loop) / 256)
3081  0E5A  CE 00       	adc	a,0x00
3082  0E5C  47          	ld	b, a
3083  0E5D  DD 7E 08    	ld	a,(ix+8)
3084  0E60  02          	ld	(bc), a
3085  0E61  01 00 00    	ld	bc,_anim_int+0
3086  0E64  DD 6E FB    	ld	l,(ix-5)
3087  0E67  26 00       	ld	h,0x00
3088  0E69  09          	add	hl, bc
3089  0E6A  36 00       	ld	(hl),0x00
3090  0E6C  3E 00       	ld	a, +((_anim_end) & 0xFF)
3091  0E6E  DD 86 FB    	add	a,(ix-5)
3092  0E71  4F          	ld	c, a
3093  0E72  3E 00       	ld	a, +((_anim_end) / 256)
3094  0E74  CE 00       	adc	a,0x00
3095  0E76  47          	ld	b, a
3096  0E77  DD 7E 07    	ld	a,(ix+7)
3097  0E7A  02          	ld	(bc), a
3098  0E7B  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3099  0E7D  DD 86 FB    	add	a,(ix-5)
3100  0E80  4F          	ld	c, a
3101  0E81  3E 00       	ld	a, +((_anim_respanwn) / 256)
3102  0E83  CE 00       	adc	a,0x00
3103  0E85  47          	ld	b, a
3104  0E86  DD 7E 09    	ld	a,(ix+9)
3105  0E89  02          	ld	(bc), a
3106  0E8A  F3          	di
3107  0E8B  DD 6E FE    	ld	l,(ix-2)
3108  0E8E  DD 66 FF    	ld	h,(ix-1)
3109  0E91  46          	ld	b, (hl)
3110  0E92  1A          	ld	a, (de)
3111  0E93  DD 6E FC    	ld	l,(ix-4)
3112  0E96  DD 66 FD    	ld	h,(ix-3)
3113  0E99  56          	ld	d, (hl)
3114  0E9A  C5          	push	bc
3115  0E9B  33          	inc	sp
3116  0E9C  5A          	ld	e,d
3117  0E9D  57          	ld	d,a
3118  0E9E  D5          	push	de
3119  0E9F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3120  0EA2  FB          	ei
3121  0EA3  DD 66 05    	ld	h,(ix+5)
3122  0EA6  DD 6E 04    	ld	l,(ix+4)
3123  0EA9  E5          	push	hl
3124  0EAA  CD 00 00    	call	_spr_calc_index
3125  0EAD  F1          	pop	af
3126  0EAE  22 00 00    	ld	(_index0),hl
3127  0EB1  01 00 00    	ld	bc,_scr_map
3128  0EB4  09          	add	hl,bc
3129  0EB5  7E          	ld	a,(hl)
3130  0EB6  B7          	or	a,a
3131  0EB7  20 0E       	jr	NZ,l_spr_add_anim_00111
3132  0EB9  36 FF       	ld	(hl),0xff
3133  0EBB  18 0A       	jr	l_spr_add_anim_00111
3134  0EBD              l_spr_add_anim_00110:
3135  0EBD  0C          	inc	c
3136  0EBE  DD 71 FB    	ld	(ix-5),c
3137  0EC1  79          	ld	a, c
3138  0EC2  D6 08       	sub	a,0x08
3139  0EC4  DA 16 0E    	jp	C, l_spr_add_anim_00109
3140  0EC7              l_spr_add_anim_00111:
3141  0EC7  DD F9       	ld	sp, ix
3142  0EC9  DD E1       	pop	ix
3143  0ECB  C9          	ret
3144  0ECC              	SECTION code_compiler
3145  0ECC              ;	---------------------------------
3146  0ECC              ; Function spr_play_anim
3147  0ECC              ; ---------------------------------
3148  0ECC              _spr_play_anim:
3149  0ECC  CD 00 00    	call	___sdcc_enter_ix
3150  0ECF  F5          	push	af
3151  0ED0  F5          	push	af
3152  0ED1  F5          	push	af
3153  0ED2  F5          	push	af
3154  0ED3  DD 36 F8 00 	ld	(ix-8),0x00
3155  0ED7              l_spr_play_anim_00114:
3156  0ED7  01 00 00    	ld	bc,_anim_lin
3157  0EDA  DD 6E F8    	ld	l,(ix-8)
3158  0EDD  26 00       	ld	h,0x00
3159  0EDF  09          	add	hl,bc
3160  0EE0  DD 75 FE    	ld	(ix-2),l
3161  0EE3  DD 74 FF    	ld	(ix-1),h
3162  0EE6  4E          	ld	c, (hl)
3163  0EE7  0C          	inc	c
3164  0EE8  CA EB 0F    	jp	Z,l_spr_play_anim_00115
3165  0EEB  21 01 00    	ld	hl,0x0001
3166  0EEE  CD 00 00    	call	_z80_delay_ms_fastcall
3167  0EF1  01 00 00    	ld	bc,_anim_int
3168  0EF4  DD 6E F8    	ld	l,(ix-8)
3169  0EF7  26 00       	ld	h,0x00
3170  0EF9  09          	add	hl,bc
3171  0EFA  DD 75 FC    	ld	(ix-4),l
3172  0EFD  DD 74 FD    	ld	(ix-3),h
3173  0F00  4E          	ld	c, (hl)
3174  0F01  3E 00       	ld	a, +((_anim_end) & 0xFF)
3175  0F03  DD 86 F8    	add	a,(ix-8)
3176  0F06  6F          	ld	l, a
3177  0F07  3E 00       	ld	a, +((_anim_end) / 256)
3178  0F09  CE 00       	adc	a,0x00
3179  0F0B  67          	ld	h, a
3180  0F0C  46          	ld	b, (hl)
3181  0F0D  79          	ld	a, c
3182  0F0E  90          	sub	a, b
3183  0F0F  30 40       	jr	NC,l_spr_play_anim_00109
3184  0F11  F3          	di
3185  0F12  3E 00       	ld	a, +((_anim_col) & 0xFF)
3186  0F14  DD 86 F8    	add	a,(ix-8)
3187  0F17  6F          	ld	l, a
3188  0F18  3E 00       	ld	a, +((_anim_col) / 256)
3189  0F1A  CE 00       	adc	a,0x00
3190  0F1C  67          	ld	h, a
3191  0F1D  56          	ld	d, (hl)
3192  0F1E  DD 6E FE    	ld	l,(ix-2)
3193  0F21  DD 66 FF    	ld	h,(ix-1)
3194  0F24  4E          	ld	c, (hl)
3195  0F25  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3196  0F27  DD 86 F8    	add	a,(ix-8)
3197  0F2A  6F          	ld	l, a
3198  0F2B  3E 00       	ld	a, +((_anim_tile) / 256)
3199  0F2D  CE 00       	adc	a,0x00
3200  0F2F  67          	ld	h, a
3201  0F30  5E          	ld	e, (hl)
3202  0F31  DD 6E FC    	ld	l,(ix-4)
3203  0F34  DD 66 FD    	ld	h,(ix-3)
3204  0F37  6E          	ld	l, (hl)
3205  0F38  7B          	ld	a, e
3206  0F39  85          	add	a, l
3207  0F3A  47          	ld	b, a
3208  0F3B  D5          	push	de
3209  0F3C  33          	inc	sp
3210  0F3D  79          	ld	a, c
3211  0F3E  48          	ld	c,b
3212  0F3F  47          	ld	b,a
3213  0F40  C5          	push	bc
3214  0F41  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3215  0F44  FB          	ei
3216  0F45  DD 6E FC    	ld	l,(ix-4)
3217  0F48  DD 66 FD    	ld	h,(ix-3)
3218  0F4B  4E          	ld	c,(hl)
3219  0F4C  0C          	inc	c
3220  0F4D  71          	ld	(hl), c
3221  0F4E  C3 EB 0F    	jp	l_spr_play_anim_00115
3222  0F51              l_spr_play_anim_00109:
3223  0F51  01 00 00    	ld	bc,_anim_loop
3224  0F54  DD 6E F8    	ld	l,(ix-8)
3225  0F57  26 00       	ld	h,0x00
3226  0F59  09          	add	hl,bc
3227  0F5A  DD 75 FA    	ld	(ix-6),l
3228  0F5D  DD 74 FB    	ld	(ix-5),h
3229  0F60  7E          	ld	a, (hl)
3230  0F61  DD 77 F9    	ld	(ix-7),a
3231  0F64  B7          	or	a, a
3232  0F65  20 71       	jr	NZ,l_spr_play_anim_00106
3233  0F67  21 00 00    	ld	hl,_anim_count
3234  0F6A  35          	dec	(hl)
3235  0F6B  3E 00       	ld	a, +((_anim_col) & 0xFF)
3236  0F6D  DD 86 F8    	add	a,(ix-8)
3237  0F70  6F          	ld	l, a
3238  0F71  3E 00       	ld	a, +((_anim_col) / 256)
3239  0F73  CE 00       	adc	a,0x00
3240  0F75  67          	ld	h, a
3241  0F76  7E          	ld	a, (hl)
3242  0F77  32 00 00    	ld	(_s_col0),a
3243  0F7A  DD 6E FE    	ld	l,(ix-2)
3244  0F7D  DD 66 FF    	ld	h,(ix-1)
3245  0F80  7E          	ld	a, (hl)
3246  0F81  32 00 00    	ld	(_s_lin0),a
3247  0F84  2A FF FF    	ld	hl,(_s_col0 - 1)
3248  0F87  6F          	ld	l,a
3249  0F88  E5          	push	hl
3250  0F89  CD 00 00    	call	_spr_calc_index
3251  0F8C  F1          	pop	af
3252  0F8D  2A FF FF    	ld	hl,(_s_col0 - 1)
3253  0F90  3A 00 00    	ld	a,(_s_lin0)
3254  0F93  6F          	ld	l,a
3255  0F94  E5          	push	hl
3256  0F95  CD 00 00    	call	_spr_calc_index
3257  0F98  F1          	pop	af
3258  0F99  01 00 00    	ld	bc,_scr_map
3259  0F9C  09          	add	hl,bc
3260  0F9D  4E          	ld	c, (hl)
3261  0F9E  0C          	inc	c
3262  0F9F  20 12       	jr	NZ,l_spr_play_anim_00102
3263  0FA1  2A FF FF    	ld	hl,(_s_col0 - 1)
3264  0FA4  3A 00 00    	ld	a,(_s_lin0)
3265  0FA7  6F          	ld	l,a
3266  0FA8  E5          	push	hl
3267  0FA9  CD 00 00    	call	_spr_calc_index
3268  0FAC  F1          	pop	af
3269  0FAD  01 00 00    	ld	bc,_scr_map
3270  0FB0  09          	add	hl,bc
3271  0FB1  36 00       	ld	(hl),0x00
3272  0FB3              l_spr_play_anim_00102:
3273  0FB3  CD 2F 0C    	call	_spr_back_repaint
3274  0FB6  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3275  0FB8  DD 86 F8    	add	a,(ix-8)
3276  0FBB  4F          	ld	c, a
3277  0FBC  3E 00       	ld	a, +((_anim_respanwn) / 256)
3278  0FBE  CE 00       	adc	a,0x00
3279  0FC0  47          	ld	b, a
3280  0FC1  0A          	ld	a, (bc)
3281  0FC2  B7          	or	a, a
3282  0FC3  28 09       	jr	Z,l_spr_play_anim_00104
3283  0FC5  DD 7E F8    	ld	a,(ix-8)
3284  0FC8  F5          	push	af
3285  0FC9  33          	inc	sp
3286  0FCA  CD 00 00    	call	_enemy_respawn
3287  0FCD  33          	inc	sp
3288  0FCE              l_spr_play_anim_00104:
3289  0FCE  DD 6E FE    	ld	l,(ix-2)
3290  0FD1  DD 66 FF    	ld	h,(ix-1)
3291  0FD4  36 FF       	ld	(hl),0xff
3292  0FD6  18 13       	jr	l_spr_play_anim_00115
3293  0FD8              l_spr_play_anim_00106:
3294  0FD8  DD 4E F9    	ld	c,(ix-7)
3295  0FDB  0D          	dec	c
3296  0FDC  DD 6E FA    	ld	l,(ix-6)
3297  0FDF  DD 66 FB    	ld	h,(ix-5)
3298  0FE2  71          	ld	(hl), c
3299  0FE3  DD 6E FC    	ld	l,(ix-4)
3300  0FE6  DD 66 FD    	ld	h,(ix-3)
3301  0FE9  36 00       	ld	(hl),0x00
3302  0FEB              l_spr_play_anim_00115:
3303  0FEB  DD 34 F8    	inc	(ix-8)
3304  0FEE  DD 7E F8    	ld	a,(ix-8)
3305  0FF1  D6 08       	sub	a,0x08
3306  0FF3  DA D7 0E    	jp	C, l_spr_play_anim_00114
3307  0FF6  DD F9       	ld	sp, ix
3308  0FF8  DD E1       	pop	ix
3309  0FFA  C9          	ret
3310  0FFB              	SECTION code_compiler
3311  0FFB              ;	---------------------------------
3312  0FFB              ; Function spr_play_bullets
3313  0FFB              ; ---------------------------------
3314  0FFB              _spr_play_bullets:
3315  0FFB  CD 00 00    	call	___sdcc_enter_ix
3316  0FFE  21 F2 FF    	ld	hl, -14
3317  1001  39          	add	hl, sp
3318  1002  F9          	ld	sp, hl
3319  1003  3E 00       	ld	a,0x00
3320  1005  DD 77 F6    	ld	(ix-10),a
3321  1008  DD 77 F4    	ld	(ix-12),a
3322  100B              l_spr_play_bullets_00197:
3323  100B  01 00 00    	ld	bc,_bullet_col
3324  100E  DD 6E F4    	ld	l,(ix-12)
3325  1011  26 00       	ld	h,0x00
3326  1013  09          	add	hl,bc
3327  1014  DD 75 FE    	ld	(ix-2),l
3328  1017  DD 74 FF    	ld	(ix-1),h
3329  101A  7E          	ld	a, (hl)
3330  101B  DD 77 FD    	ld	(ix-3),a
3331  101E  3C          	inc	a
3332  101F  CA 9A 15    	jp	Z,l_spr_play_bullets_00191
3333  1022  01 00 00    	ld	bc,_bullet_lin
3334  1025  DD 6E F4    	ld	l,(ix-12)
3335  1028  26 00       	ld	h,0x00
3336  102A  09          	add	hl,bc
3337  102B  DD 75 FB    	ld	(ix-5),l
3338  102E  DD 74 FC    	ld	(ix-4),h
3339  1031  7E          	ld	a, (hl)
3340  1032  32 00 00    	ld	(_s_lin0),a
3341  1035  DD 7E FD    	ld	a,(ix-3)
3342  1038  32 00 00    	ld	(_s_col0),a
3343  103B  DD 77 F3    	ld	(ix-13),a
3344  103E  CD 2F 0C    	call	_spr_back_repaint
3345  1041  01 00 00    	ld	bc,_bullet_class
3346  1044  DD 6E F4    	ld	l,(ix-12)
3347  1047  26 00       	ld	h,0x00
3348  1049  09          	add	hl,bc
3349  104A  DD 75 F9    	ld	(ix-7),l
3350  104D  DD 74 FA    	ld	(ix-6),h
3351  1050  7E          	ld	a, (hl)
3352  1051  D6 02       	sub	a,0x02
3353  1053  20 46       	jr	NZ,l_spr_play_bullets_00107
3354  1055  3A 00 00    	ld	a,(_s_lin0)
3355  1058  4F          	ld	c,a
3356  1059  06 00       	ld	b,0x00
3357  105B  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3358  105D  DD 86 F4    	add	a,(ix-12)
3359  1060  6F          	ld	l, a
3360  1061  3E 00       	ld	a, +((_bullet_lin0) / 256)
3361  1063  CE 00       	adc	a,0x00
3362  1065  67          	ld	h, a
3363  1066  5E          	ld	e, (hl)
3364  1067  16 00       	ld	d,0x00
3365  1069  79          	ld	a, c
3366  106A  93          	sub	a, e
3367  106B  4F          	ld	c, a
3368  106C  78          	ld	a, b
3369  106D  9A          	sbc	a, d
3370  106E  47          	ld	b, a
3371  106F  3E 08       	ld	a,0x08
3372  1071  B9          	cp	a, c
3373  1072  3E 00       	ld	a,0x00
3374  1074  98          	sbc	a, b
3375  1075  E2 7A 10    	jp	PO, l_spr_play_bullets_00403
3376  1078  EE 80       	xor	a,0x80
3377  107A              l_spr_play_bullets_00403:
3378  107A  FA 93 10    	jp	M, l_spr_play_bullets_00104
3379  107D  DD 6E FB    	ld	l,(ix-5)
3380  1080  DD 66 FC    	ld	h,(ix-4)
3381  1083  4E          	ld	c, (hl)
3382  1084  0C          	inc	c
3383  1085  0C          	inc	c
3384  1086  DD 6E FB    	ld	l,(ix-5)
3385  1089  DD 66 FC    	ld	h,(ix-4)
3386  108C  71          	ld	(hl), c
3387  108D  21 00 00    	ld	hl,_s_lin0
3388  1090  71          	ld	(hl), c
3389  1091  18 08       	jr	l_spr_play_bullets_00107
3390  1093              l_spr_play_bullets_00104:
3391  1093  DD 6E F9    	ld	l,(ix-7)
3392  1096  DD 66 FA    	ld	h,(ix-6)
3393  1099  36 03       	ld	(hl),0x03
3394  109B              l_spr_play_bullets_00107:
3395  109B  DD 6E F9    	ld	l,(ix-7)
3396  109E  DD 66 FA    	ld	h,(ix-6)
3397  10A1  7E          	ld	a, (hl)
3398  10A2  D6 03       	sub	a,0x03
3399  10A4  20 46       	jr	NZ,l_spr_play_bullets_00112
3400  10A6  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3401  10A8  DD 86 F4    	add	a,(ix-12)
3402  10AB  6F          	ld	l, a
3403  10AC  3E 00       	ld	a, +((_bullet_lin0) / 256)
3404  10AE  CE 00       	adc	a,0x00
3405  10B0  67          	ld	h, a
3406  10B1  4E          	ld	c, (hl)
3407  10B2  06 00       	ld	b,0x00
3408  10B4  3A 00 00    	ld	a,(_s_lin0)
3409  10B7  5F          	ld	e,a
3410  10B8  16 00       	ld	d,0x00
3411  10BA  79          	ld	a, c
3412  10BB  93          	sub	a, e
3413  10BC  4F          	ld	c, a
3414  10BD  78          	ld	a, b
3415  10BE  9A          	sbc	a, d
3416  10BF  47          	ld	b, a
3417  10C0  3E 08       	ld	a,0x08
3418  10C2  B9          	cp	a, c
3419  10C3  3E 00       	ld	a,0x00
3420  10C5  98          	sbc	a, b
3421  10C6  E2 CB 10    	jp	PO, l_spr_play_bullets_00406
3422  10C9  EE 80       	xor	a,0x80
3423  10CB              l_spr_play_bullets_00406:
3424  10CB  FA E4 10    	jp	M, l_spr_play_bullets_00109
3425  10CE  DD 6E FB    	ld	l,(ix-5)
3426  10D1  DD 66 FC    	ld	h,(ix-4)
3427  10D4  4E          	ld	c, (hl)
3428  10D5  0D          	dec	c
3429  10D6  0D          	dec	c
3430  10D7  DD 6E FB    	ld	l,(ix-5)
3431  10DA  DD 66 FC    	ld	h,(ix-4)
3432  10DD  71          	ld	(hl), c
3433  10DE  21 00 00    	ld	hl,_s_lin0
3434  10E1  71          	ld	(hl), c
3435  10E2  18 08       	jr	l_spr_play_bullets_00112
3436  10E4              l_spr_play_bullets_00109:
3437  10E4  DD 6E F9    	ld	l,(ix-7)
3438  10E7  DD 66 FA    	ld	h,(ix-6)
3439  10EA  36 02       	ld	(hl),0x02
3440  10EC              l_spr_play_bullets_00112:
3441  10EC  DD 6E F9    	ld	l,(ix-7)
3442  10EF  DD 66 FA    	ld	h,(ix-6)
3443  10F2  7E          	ld	a, (hl)
3444  10F3  D6 04       	sub	a,0x04
3445  10F5  C2 7B 11    	jp	NZ,l_spr_play_bullets_00125
3446  10F8  DD 6E FB    	ld	l,(ix-5)
3447  10FB  DD 66 FC    	ld	h,(ix-4)
3448  10FE  7E          	ld	a, (hl)
3449  10FF  32 00 00    	ld	(_s_lin0),a
3450  1102  DD 6E FE    	ld	l,(ix-2)
3451  1105  DD 66 FF    	ld	h,(ix-1)
3452  1108  7E          	ld	a, (hl)
3453  1109  C6 FF       	add	a,0xff
3454  110B  32 00 00    	ld	(_s_col0),a
3455  110E  D6 20       	sub	a,0x20
3456  1110  30 03       	jr	NC,l_spr_play_bullets_00114
3457  1112  CD 2F 0C    	call	_spr_back_repaint
3458  1115              l_spr_play_bullets_00114:
3459  1115  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3460  1117  DD 86 F4    	add	a,(ix-12)
3461  111A  4F          	ld	c, a
3462  111B  3E 00       	ld	a, +((_bullet_vel) / 256)
3463  111D  CE 00       	adc	a,0x00
3464  111F  47          	ld	b, a
3465  1120  0A          	ld	a, (bc)
3466  1121  5F          	ld	e, a
3467  1122  21 00 00    	ld	hl,_game_gravity
3468  1125  56          	ld	d, (hl)
3469  1126  7B          	ld	a, e
3470  1127  82          	add	a, d
3471  1128  5F          	ld	e,a
3472  1129  02          	ld	(bc), a
3473  112A  3E 78       	ld	a,0x78
3474  112C  93          	sub	a, e
3475  112D  E2 32 11    	jp	PO, l_spr_play_bullets_00409
3476  1130  EE 80       	xor	a,0x80
3477  1132              l_spr_play_bullets_00409:
3478  1132  F2 38 11    	jp	P, l_spr_play_bullets_00116
3479  1135  3E 78       	ld	a,0x78
3480  1137  02          	ld	(bc), a
3481  1138              l_spr_play_bullets_00116:
3482  1138  0A          	ld	a, (bc)
3483  1139  EE 80       	xor	a,0x80
3484  113B  D6 08       	sub	a,0x08
3485  113D  30 03       	jr	NC,l_spr_play_bullets_00118
3486  113F  3E 88       	ld	a,0x88
3487  1141  02          	ld	(bc), a
3488  1142              l_spr_play_bullets_00118:
3489  1142  0A          	ld	a, (bc)
3490  1143  CB 47       	bit	0,a
3491  1145  32 00 00    	ld	(_s_lin1),a
3492  1148  28 04       	jr	Z,l_spr_play_bullets_00120
3493  114A  21 00 00    	ld	hl,_s_lin1
3494  114D  35          	dec	(hl)
3495  114E              l_spr_play_bullets_00120:
3496  114E  DD 6E FB    	ld	l,(ix-5)
3497  1151  DD 66 FC    	ld	h,(ix-4)
3498  1154  7E          	ld	a, (hl)
3499  1155  21 00 00    	ld	hl,_s_lin1
3500  1158  86          	add	a, (hl)
3501  1159  21 00 00    	ld	hl,_s_lin0
3502  115C  77          	ld	(hl), a
3503  115D  3E 90       	ld	a,0x90
3504  115F  96          	sub	a, (hl)
3505  1160  30 0F       	jr	NC,l_spr_play_bullets_00122
3506  1162  21 00 00    	ld	hl,_bullet_count
3507  1165  35          	dec	(hl)
3508  1166  DD 6E FE    	ld	l,(ix-2)
3509  1169  DD 66 FF    	ld	h,(ix-1)
3510  116C  36 FF       	ld	(hl),0xff
3511  116E  C3 9A 15    	jp	l_spr_play_bullets_00191
3512  1171              l_spr_play_bullets_00122:
3513  1171  DD 6E FB    	ld	l,(ix-5)
3514  1174  DD 66 FC    	ld	h,(ix-4)
3515  1177  3A 00 00    	ld	a,(_s_lin0)
3516  117A  77          	ld	(hl),a
3517  117B              l_spr_play_bullets_00125:
3518  117B  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3519  117D  DD 86 F4    	add	a,(ix-12)
3520  1180  6F          	ld	l, a
3521  1181  3E 00       	ld	a, +((_bullet_dir) / 256)
3522  1183  CE 00       	adc	a,0x00
3523  1185  67          	ld	h, a
3524  1186  4E          	ld	c, (hl)
3525  1187  0C          	inc	c
3526  1188  20 3D       	jr	NZ,l_spr_play_bullets_00135
3527  118A  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3528  118C  DD 86 F4    	add	a,(ix-12)
3529  118F  4F          	ld	c, a
3530  1190  3E 00       	ld	a, +((_bullet_colint) / 256)
3531  1192  CE 00       	adc	a,0x00
3532  1194  47          	ld	b, a
3533  1195  0A          	ld	a, (bc)
3534  1196  3C          	inc	a
3535  1197  5F          	ld	e,a
3536  1198  02          	ld	(bc), a
3537  1199  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3538  119B  DD 86 F4    	add	a,(ix-12)
3539  119E  6F          	ld	l, a
3540  119F  3E 00       	ld	a, +((_bullet_frames) / 256)
3541  11A1  CE 00       	adc	a,0x00
3542  11A3  67          	ld	h, a
3543  11A4  56          	ld	d, (hl)
3544  11A5  7B          	ld	a, e
3545  11A6  92          	sub	a, d
3546  11A7  38 63       	jr	C,l_spr_play_bullets_00136
3547  11A9  DD 6E FE    	ld	l,(ix-2)
3548  11AC  DD 66 FF    	ld	h,(ix-1)
3549  11AF  7E          	ld	a, (hl)
3550  11B0  3C          	inc	a
3551  11B1  DD 77 F3    	ld	(ix-13),a
3552  11B4  AF          	xor	a, a
3553  11B5  02          	ld	(bc), a
3554  11B6  DD 7E F3    	ld	a,(ix-13)
3555  11B9  E6 01       	and	a,0x01
3556  11BB  3D          	dec	a
3557  11BC  20 4E       	jr	NZ,l_spr_play_bullets_00136
3558  11BE  DD 7E F3    	ld	a,(ix-13)
3559  11C1  3C          	inc	a
3560  11C2  32 00 00    	ld	(_s_col0),a
3561  11C5  18 45       	jr	l_spr_play_bullets_00136
3562  11C7              l_spr_play_bullets_00135:
3563  11C7  01 00 00    	ld	bc,_bullet_colint
3564  11CA  DD 6E F4    	ld	l,(ix-12)
3565  11CD  26 00       	ld	h,0x00
3566  11CF  09          	add	hl,bc
3567  11D0  DD 75 F7    	ld	(ix-9),l
3568  11D3  DD 74 F8    	ld	(ix-8),h
3569  11D6  4E          	ld	c,(hl)
3570  11D7  0D          	dec	c
3571  11D8  71          	ld	(hl), c
3572  11D9  0C          	inc	c
3573  11DA  20 30       	jr	NZ,l_spr_play_bullets_00136
3574  11DC  DD 6E FE    	ld	l,(ix-2)
3575  11DF  DD 66 FF    	ld	h,(ix-1)
3576  11E2  7E          	ld	a, (hl)
3577  11E3  C6 FF       	add	a,0xff
3578  11E5  DD 77 F3    	ld	(ix-13),a
3579  11E8  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3580  11EA  DD 86 F4    	add	a,(ix-12)
3581  11ED  6F          	ld	l, a
3582  11EE  3E 00       	ld	a, +((_bullet_frames) / 256)
3583  11F0  CE 00       	adc	a,0x00
3584  11F2  67          	ld	h, a
3585  11F3  4E          	ld	c, (hl)
3586  11F4  0D          	dec	c
3587  11F5  DD 6E F7    	ld	l,(ix-9)
3588  11F8  DD 66 F8    	ld	h,(ix-8)
3589  11FB  71          	ld	(hl), c
3590  11FC  DD 7E F3    	ld	a,(ix-13)
3591  11FF  E6 01       	and	a,0x01
3592  1201  3D          	dec	a
3593  1202  20 08       	jr	NZ,l_spr_play_bullets_00136
3594  1204  DD 7E F3    	ld	a,(ix-13)
3595  1207  C6 FF       	add	a,0xff
3596  1209  32 00 00    	ld	(_s_col0),a
3597  120C              l_spr_play_bullets_00136:
3598  120C  21 00 00    	ld	hl,_tmp1
3599  120F  36 00       	ld	(hl),0x00
3600  1211  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3601  1213  DD 86 F4    	add	a,(ix-12)
3602  1216  4F          	ld	c, a
3603  1217  3E 00       	ld	a, +((_bullet_max) / 256)
3604  1219  CE 00       	adc	a,0x00
3605  121B  47          	ld	b, a
3606  121C  0A          	ld	a, (bc)
3607  121D  B7          	or	a, a
3608  121E  28 27       	jr	Z,l_spr_play_bullets_00140
3609  1220  DD 5E F3    	ld	e,(ix-13)
3610  1223  16 00       	ld	d,0x00
3611  1225  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3612  1227  DD 86 F4    	add	a,(ix-12)
3613  122A  6F          	ld	l, a
3614  122B  3E 00       	ld	a, +((_bullet_col0) / 256)
3615  122D  CE 00       	adc	a,0x00
3616  122F  67          	ld	h, a
3617  1230  6E          	ld	l, (hl)
3618  1231  AF          	xor	a,a
3619  1232  67          	ld	h,a
3620  1233  EB          	ex	de,hl
3621  1234  ED 52       	sbc	hl,de
3622  1236  CD 00 00    	call	_abs_fastcall
3623  1239  5D          	ld	e, l
3624  123A  21 00 00    	ld	hl,_tmp0
3625  123D  73          	ld	(hl), e
3626  123E  0A          	ld	a, (bc)
3627  123F  96          	sub	a, (hl)
3628  1240  30 05       	jr	NC,l_spr_play_bullets_00140
3629  1242  21 00 00    	ld	hl,_tmp1
3630  1245  36 01       	ld	(hl),0x01
3631  1247              l_spr_play_bullets_00140:
3632  1247  DD 7E F3    	ld	a,(ix-13)
3633  124A  D6 1E       	sub	a,0x1e
3634  124C  38 05       	jr	C,l_spr_play_bullets_00142
3635  124E  21 00 00    	ld	hl,_tmp1
3636  1251  36 01       	ld	(hl),0x01
3637  1253              l_spr_play_bullets_00142:
3638  1253  3A 00 00    	ld	a,(_tmp1)
3639  1256  B7          	or	a, a
3640  1257  28 0F       	jr	Z,l_spr_play_bullets_00144
3641  1259  21 00 00    	ld	hl,_bullet_count
3642  125C  35          	dec	(hl)
3643  125D  DD 6E FE    	ld	l,(ix-2)
3644  1260  DD 66 FF    	ld	h,(ix-1)
3645  1263  36 FF       	ld	(hl),0xff
3646  1265  C3 9A 15    	jp	l_spr_play_bullets_00191
3647  1268              l_spr_play_bullets_00144:
3648  1268  DD 7E FE    	ld	a,(ix-2)
3649  126B  DD 77 F7    	ld	(ix-9),a
3650  126E  DD 7E FF    	ld	a,(ix-1)
3651  1271  DD 77 F8    	ld	(ix-8),a
3652  1274  DD 6E FE    	ld	l,(ix-2)
3653  1277  DD 66 FF    	ld	h,(ix-1)
3654  127A  DD 7E F3    	ld	a,(ix-13)
3655  127D  96          	sub	a,(hl)
3656  127E  CA 5E 15    	jp	Z,l_spr_play_bullets_00186
3657  1281  3A 00 00    	ld	a,(_s_lin0)
3658  1284  C6 08       	add	a,0x08
3659  1286  4F          	ld	c, a
3660  1287  3A 00 00    	ld	a, (_s_col0)
3661  128A  47          	ld	b,a
3662  128B  C5          	push	bc
3663  128C  CD 00 00    	call	_spr_calc_index
3664  128F  F1          	pop	af
3665  1290  22 00 00    	ld	(_index0),hl
3666  1293  01 00 00    	ld	bc,_scr_map
3667  1296  09          	add	hl,bc
3668  1297  4D          	ld	c,l
3669  1298  44          	ld	b,h
3670  1299  6E          	ld	l, (hl)
3671  129A  DD 7E F4    	ld	a,(ix-12)
3672  129D  D6 07       	sub	a,0x07
3673  129F  20 04       	jr	NZ,l_spr_play_bullets_00420
3674  12A1  3E 01       	ld	a,0x01
3675  12A3  18 01       	jr	l_spr_play_bullets_00421
3676  12A5              l_spr_play_bullets_00420:
3677  12A5  AF          	xor	a,a
3678  12A6              l_spr_play_bullets_00421:
3679  12A6  5F          	ld	e, a
3680  12A7  7D          	ld	a, l
3681  12A8  D6 4D       	sub	a,0x4d
3682  12AA  20 3D       	jr	NZ,l_spr_play_bullets_00146
3683  12AC  B3          	or	a,e
3684  12AD  28 3A       	jr	Z,l_spr_play_bullets_00146
3685  12AF  AF          	xor	a, a
3686  12B0  02          	ld	(bc), a
3687  12B1  2A 00 00    	ld	hl,(_index0)
3688  12B4  E5          	push	hl
3689  12B5  CD 00 00    	call	_game_obj_set
3690  12B8  F1          	pop	af
3691  12B9  2A 00 00    	ld	hl,(_index0)
3692  12BC  4D          	ld	c,l
3693  12BD  5C          	ld	e,h
3694  12BE  06 04       	ld	b,0x04
3695  12C0  79          	ld	a,c
3696  12C1              l_spr_play_bullets_00424:
3697  12C1  CB 3B       	srl	e
3698  12C3  1F          	rra
3699  12C4  10 FB       	djnz	l_spr_play_bullets_00424
3700  12C6  07          	rlca
3701  12C7  07          	rlca
3702  12C8  07          	rlca
3703  12C9  07          	rlca
3704  12CA  E6 F0       	and	a,0xf0
3705  12CC  DD 6E FB    	ld	l,(ix-5)
3706  12CF  DD 66 FC    	ld	h,(ix-4)
3707  12D2  77          	ld	(hl), a
3708  12D3  3A 00 00    	ld	a,(_index0)
3709  12D6  E6 0F       	and	a,0x0f
3710  12D8  87          	add	a, a
3711  12D9  DD 6E FE    	ld	l,(ix-2)
3712  12DC  DD 66 FF    	ld	h,(ix-1)
3713  12DF  77          	ld	(hl), a
3714  12E0  DD 6E F4    	ld	l,(ix-12)
3715  12E3  CD AD 15    	call	_spr_explode_bullet
3716  12E6  C3 9A 15    	jp	l_spr_play_bullets_00191
3717  12E9              l_spr_play_bullets_00146:
3718  12E9  7D          	ld	a, l
3719  12EA  D6 48       	sub	a,0x48
3720  12EC  38 0C       	jr	C,l_spr_play_bullets_00149
3721  12EE  2C          	inc	l
3722  12EF  28 09       	jr	Z,l_spr_play_bullets_00149
3723  12F1  DD 6E F4    	ld	l,(ix-12)
3724  12F4  CD AD 15    	call	_spr_explode_bullet
3725  12F7  C3 9A 15    	jp	l_spr_play_bullets_00191
3726  12FA              l_spr_play_bullets_00149:
3727  12FA  DD 6E FE    	ld	l,(ix-2)
3728  12FD  DD 66 FF    	ld	h,(ix-1)
3729  1300  DD 7E F3    	ld	a,(ix-13)
3730  1303  77          	ld	(hl), a
3731  1304  DD 6E F9    	ld	l,(ix-7)
3732  1307  DD 66 FA    	ld	h,(ix-6)
3733  130A  7E          	ld	a, (hl)
3734  130B  D6 04       	sub	a,0x04
3735  130D  20 19       	jr	NZ,l_spr_play_bullets_00152
3736  130F  21 00 00    	ld	hl,_s_lin0
3737  1312  7E          	ld	a, (hl)
3738  1313  C6 F0       	add	a,0xf0
3739  1315  4F          	ld	c, a
3740  1316  7E          	ld	a, (hl)
3741  1317  C6 10       	add	a,0x10
3742  1319  DD 77 F2    	ld	(ix-14),a
3743  131C  DD 35 F3    	dec	(ix-13)
3744  131F  DD 7E F3    	ld	a,(ix-13)
3745  1322  3C          	inc	a
3746  1323  DD 77 F5    	ld	(ix-11),a
3747  1326  18 14       	jr	l_spr_play_bullets_00153
3748  1328              l_spr_play_bullets_00152:
3749  1328  21 00 00    	ld	hl,_s_lin0
3750  132B  7E          	ld	a, (hl)
3751  132C  C6 F8       	add	a,0xf8
3752  132E  4F          	ld	c, a
3753  132F  7E          	ld	a, (hl)
3754  1330  C6 08       	add	a,0x08
3755  1332  DD 77 F2    	ld	(ix-14),a
3756  1335  DD 7E F3    	ld	a,(ix-13)
3757  1338  3C          	inc	a
3758  1339  DD 77 F5    	ld	(ix-11),a
3759  133C              l_spr_play_bullets_00153:
3760  133C  7B          	ld	a, e
3761  133D  B7          	or	a, a
3762  133E  CA 26 15    	jp	Z, l_spr_play_bullets_00183
3763  1341  21 00 00    	ld	hl,_tmp0
3764  1344  36 00       	ld	(hl),0x00
3765  1346              l_spr_play_bullets_00193:
3766  1346  2A 00 00    	ld	hl,(_tmp0)
3767  1349  26 00       	ld	h,0x00
3768  134B  11 00 00    	ld	de,_class
3769  134E  19          	add	hl,de
3770  134F  7E          	ld	a,(hl)
3771  1350  B7          	or	a,a
3772  1351  CA F1 13    	jp	Z,l_spr_play_bullets_00194
3773  1354  2A 00 00    	ld	hl,(_tmp0)
3774  1357  26 00       	ld	h,0x00
3775  1359  11 00 00    	ld	de,_lin
3776  135C  19          	add	hl,de
3777  135D  7E          	ld	a,(hl)
3778  135E  47          	ld	b,a
3779  135F  91          	sub	a,c
3780  1360  DA F1 13    	jp	C,l_spr_play_bullets_00194
3781  1363  21 00 00    	ld	hl,_tmp0
3782  1366  DD 7E F2    	ld	a,(ix-14)
3783  1369  90          	sub	a, b
3784  136A  DA F1 13    	jp	C, l_spr_play_bullets_00194
3785  136D  5E          	ld	e,(hl)
3786  136E  16 00       	ld	d,0x00
3787  1370  21 00 00    	ld	hl,_col
3788  1373  19          	add	hl,de
3789  1374  7E          	ld	a,(hl)
3790  1375  5F          	ld	e,a
3791  1376  DD 96 F3    	sub	a,(ix-13)
3792  1379  38 76       	jr	C,l_spr_play_bullets_00194
3793  137B  DD 7E F5    	ld	a,(ix-11)
3794  137E  93          	sub	a, e
3795  137F  38 70       	jr	C,l_spr_play_bullets_00194
3796  1381  21 00 00    	ld	hl,_s_lin0
3797  1384  70          	ld	(hl), b
3798  1385  21 00 00    	ld	hl,_s_col0
3799  1388  73          	ld	(hl), e
3800  1389  C5          	push	bc
3801  138A  CD 00 00    	call	_rand
3802  138D  11 06 00    	ld	de,0x0006
3803  1390  D5          	push	de
3804  1391  E5          	push	hl
3805  1392  CD 00 00    	call	__modsint_callee
3806  1395  CD 00 00    	call	_player_score_add
3807  1398  C1          	pop	bc
3808  1399  2A 00 00    	ld	hl,(_tmp0)
3809  139C  26 00       	ld	h,0x00
3810  139E  29          	add	hl,hl
3811  139F  11 00 00    	ld	de,_game_respawn_time
3812  13A2  19          	add	hl, de
3813  13A3  DD 75 F9    	ld	(ix-7),l
3814  13A6  DD 74 FA    	ld	(ix-6),h
3815  13A9  ED 5B 00 00 	ld	de,(_curr_time)
3816  13AD  73          	ld	(hl), e
3817  13AE  23          	inc	hl
3818  13AF  72          	ld	(hl), d
3819  13B0  2A 00 00    	ld	hl,(_tmp0)
3820  13B3  C5          	push	bc
3821  13B4  CD C7 08    	call	_spr_destroy
3822  13B7  C1          	pop	bc
3823  13B8  2A 00 00    	ld	hl,(_tmp0)
3824  13BB  26 00       	ld	h,0x00
3825  13BD  11 00 00    	ld	de,_bullet_col
3826  13C0  19          	add	hl,de
3827  13C1  7E          	ld	a,(hl)
3828  13C2  47          	ld	b,a
3829  13C3  3C          	inc	a
3830  13C4  28 17       	jr	Z,l_spr_play_bullets_00155
3831  13C6  3A 00 00    	ld	a,(_tmp0)
3832  13C9  5F          	ld	e,a
3833  13CA  16 00       	ld	d,0x00
3834  13CC  21 00 00    	ld	hl,_bullet_lin
3835  13CF  19          	add	hl,de
3836  13D0  7E          	ld	a,(hl)
3837  13D1  32 00 00    	ld	(_s_lin0),a
3838  13D4  21 00 00    	ld	hl,_s_col0
3839  13D7  70          	ld	(hl), b
3840  13D8  C5          	push	bc
3841  13D9  CD 2F 0C    	call	_spr_back_repaint
3842  13DC  C1          	pop	bc
3843  13DD              l_spr_play_bullets_00155:
3844  13DD  DD 6E F7    	ld	l,(ix-9)
3845  13E0  DD 66 F8    	ld	h,(ix-8)
3846  13E3  3A 00 00    	ld	a,(_s_col0)
3847  13E6  77          	ld	(hl),a
3848  13E7  C5          	push	bc
3849  13E8  DD 6E F4    	ld	l,(ix-12)
3850  13EB  CD AD 15    	call	_spr_explode_bullet
3851  13EE  C1          	pop	bc
3852  13EF  18 0B       	jr	l_spr_play_bullets_00162
3853  13F1              l_spr_play_bullets_00194:
3854  13F1  21 00 00    	ld	hl,_tmp0
3855  13F4  7E          	ld	a,(hl)
3856  13F5  3C          	inc	a
3857  13F6  77          	ld	(hl),a
3858  13F7  D6 07       	sub	a,0x07
3859  13F9  DA 46 13    	jp	C, l_spr_play_bullets_00193
3860  13FC              l_spr_play_bullets_00162:
3861  13FC  3A 00 00    	ld	a,(_game_boss)
3862  13FF  B7          	or	a, a
3863  1400  CA 5E 15    	jp	Z, l_spr_play_bullets_00186
3864  1403  21 00 00    	ld	hl,_boss_lin
3865  1406  7E          	ld	a, (hl)
3866  1407  91          	sub	a, c
3867  1408  38 06       	jr	C,l_spr_play_bullets_00172
3868  140A  DD 7E F2    	ld	a,(ix-14)
3869  140D  96          	sub	a, (hl)
3870  140E  30 28       	jr	NC,l_spr_play_bullets_00173
3871  1410              l_spr_play_bullets_00172:
3872  1410  3A 00 00    	ld	a,(_boss_lin)
3873  1413  5F          	ld	e,a
3874  1414  16 00       	ld	d,0x00
3875  1416  21 10 00    	ld	hl,0x0010
3876  1419  19          	add	hl, de
3877  141A  06 00       	ld	b,0x00
3878  141C  7D          	ld	a, l
3879  141D  91          	sub	a, c
3880  141E  7C          	ld	a, h
3881  141F  98          	sbc	a, b
3882  1420  E2 25 14    	jp	PO, l_spr_play_bullets_00431
3883  1423  EE 80       	xor	a,0x80
3884  1425              l_spr_play_bullets_00431:
3885  1425  FA 5E 15    	jp	M, l_spr_play_bullets_00186
3886  1428  DD 7E F2    	ld	a,(ix-14)
3887  142B  06 00       	ld	b,0x00
3888  142D  95          	sub	a, l
3889  142E  78          	ld	a, b
3890  142F  9C          	sbc	a, h
3891  1430  E2 35 14    	jp	PO, l_spr_play_bullets_00432
3892  1433  EE 80       	xor	a,0x80
3893  1435              l_spr_play_bullets_00432:
3894  1435  FA 5E 15    	jp	M, l_spr_play_bullets_00186
3895  1438              l_spr_play_bullets_00173:
3896  1438  21 00 00    	ld	hl,_boss_col
3897  143B  7E          	ld	a, (hl)
3898  143C  DD 96 F3    	sub	a,(ix-13)
3899  143F  DA 5E 15    	jp	C, l_spr_play_bullets_00186
3900  1442  DD 7E F5    	ld	a,(ix-11)
3901  1445  96          	sub	a, (hl)
3902  1446  DA 5E 15    	jp	C, l_spr_play_bullets_00186
3903  1449  DD 6E F4    	ld	l,(ix-12)
3904  144C  CD AD 15    	call	_spr_explode_bullet
3905  144F  21 00 00    	ld	hl,_game_boss_hit
3906  1452  35          	dec	(hl)
3907  1453  CD 00 00    	call	_game_update_stats
3908  1456  3A 00 00    	ld	a,(_game_boss_hit)
3909  1459  B7          	or	a, a
3910  145A  C2 5E 15    	jp	NZ, l_spr_play_bullets_00186
3911  145D  21 00 00    	ld	hl,_game_boss
3912  1460  36 00       	ld	(hl),0x00
3913  1462  21 00 00    	ld	hl,_game_boss_alive
3914  1465  36 00       	ld	(hl),0x00
3915  1467  3A 00 00    	ld	a,(_boss_col)
3916  146A  21 00 00    	ld	hl,0x0000
3917  146D  E5          	push	hl
3918  146E  21 87 03    	ld	hl,0x0387
3919  1471  E5          	push	hl
3920  1472  F5          	push	af
3921  1473  33          	inc	sp
3922  1474  3A 00 00    	ld	a,(_boss_lin)
3923  1477  F5          	push	af
3924  1478  33          	inc	sp
3925  1479  CD FB 0D    	call	_spr_add_anim
3926  147C  F1          	pop	af
3927  147D  F1          	pop	af
3928  147E  F1          	pop	af
3929  147F  21 00 00    	ld	hl,_boss_col
3930  1482  46          	ld	b, (hl)
3931  1483  04          	inc	b
3932  1484  04          	inc	b
3933  1485  21 00 00    	ld	hl,0x0000
3934  1488  E5          	push	hl
3935  1489  21 87 03    	ld	hl,0x0387
3936  148C  E5          	push	hl
3937  148D  C5          	push	bc
3938  148E  33          	inc	sp
3939  148F  3A 00 00    	ld	a,(_boss_lin)
3940  1492  F5          	push	af
3941  1493  33          	inc	sp
3942  1494  CD FB 0D    	call	_spr_add_anim
3943  1497  F1          	pop	af
3944  1498  F1          	pop	af
3945  1499  F1          	pop	af
3946  149A  3A 00 00    	ld	a,(_boss_lin)
3947  149D  C6 10       	add	a,0x10
3948  149F  47          	ld	b, a
3949  14A0  3A 00 00    	ld	a,(_boss_col)
3950  14A3  21 00 00    	ld	hl,0x0000
3951  14A6  E5          	push	hl
3952  14A7  21 87 03    	ld	hl,0x0387
3953  14AA  E5          	push	hl
3954  14AB  48          	ld	c,b
3955  14AC  47          	ld	b,a
3956  14AD  C5          	push	bc
3957  14AE  CD FB 0D    	call	_spr_add_anim
3958  14B1  F1          	pop	af
3959  14B2  F1          	pop	af
3960  14B3  F1          	pop	af
3961  14B4  21 00 00    	ld	hl,_boss_col
3962  14B7  46          	ld	b, (hl)
3963  14B8  04          	inc	b
3964  14B9  04          	inc	b
3965  14BA  3A 00 00    	ld	a,(_boss_lin)
3966  14BD  C6 10       	add	a,0x10
3967  14BF  57          	ld	d, a
3968  14C0  21 00 00    	ld	hl,0x0000
3969  14C3  E5          	push	hl
3970  14C4  21 87 03    	ld	hl,0x0387
3971  14C7  E5          	push	hl
3972  14C8  4A          	ld	c, d
3973  14C9  C5          	push	bc
3974  14CA  CD FB 0D    	call	_spr_add_anim
3975  14CD  F1          	pop	af
3976  14CE  F1          	pop	af
3977  14CF  F1          	pop	af
3978  14D0  21 00 00    	ld	hl,_tmp0
3979  14D3  36 00       	ld	(hl),0x00
3980  14D5              l_spr_play_bullets_00195:
3981  14D5  2A 00 00    	ld	hl,(_tmp0)
3982  14D8  26 00       	ld	h,0x00
3983  14DA  01 00 00    	ld	bc,_bullet_col
3984  14DD  09          	add	hl,bc
3985  14DE  7E          	ld	a,(hl)
3986  14DF  4F          	ld	c,a
3987  14E0  3C          	inc	a
3988  14E1  28 15       	jr	Z,l_spr_play_bullets_00164
3989  14E3  3A 00 00    	ld	a,(_tmp0)
3990  14E6  5F          	ld	e,a
3991  14E7  16 00       	ld	d,0x00
3992  14E9  21 00 00    	ld	hl,_bullet_lin
3993  14EC  19          	add	hl,de
3994  14ED  7E          	ld	a,(hl)
3995  14EE  32 00 00    	ld	(_s_lin0),a
3996  14F1  21 00 00    	ld	hl,_s_col0
3997  14F4  71          	ld	(hl), c
3998  14F5  CD 2F 0C    	call	_spr_back_repaint
3999  14F8              l_spr_play_bullets_00164:
4000  14F8  2A 00 00    	ld	hl,(_tmp0)
4001  14FB  26 00       	ld	h,0x00
4002  14FD  01 00 00    	ld	bc,_bullet_col
4003  1500  09          	add	hl,bc
4004  1501  36 FF       	ld	(hl),0xff
4005  1503  2A 00 00    	ld	hl,(_tmp0)
4006  1506  CD C7 08    	call	_spr_destroy
4007  1509  2A 00 00    	ld	hl,(_tmp0)
4008  150C  26 00       	ld	h,0x00
4009  150E  29          	add	hl, hl
4010  150F  11 00 00    	ld	de,_game_respawn_time
4011  1512  19          	add	hl, de
4012  1513  AF          	xor	a, a
4013  1514  77          	ld	(hl), a
4014  1515  23          	inc	hl
4015  1516  77          	ld	(hl), a
4016  1517  21 00 00    	ld	hl,_tmp0
4017  151A  7E          	ld	a,(hl)
4018  151B  3C          	inc	a
4019  151C  77          	ld	(hl),a
4020  151D  D6 07       	sub	a,0x07
4021  151F  38 B4       	jr	C,l_spr_play_bullets_00195
4022  1521  CD 00 00    	call	_game_boss_clear
4023  1524  18 38       	jr	l_spr_play_bullets_00186
4024  1526              l_spr_play_bullets_00183:
4025  1526  3A 07 00    	ld	a,(_lin + 7)
4026  1529  47          	ld	b,a
4027  152A  91          	sub	a, c
4028  152B  38 31       	jr	C,l_spr_play_bullets_00186
4029  152D  DD 7E F2    	ld	a,(ix-14)
4030  1530  90          	sub	a, b
4031  1531  38 2B       	jr	C,l_spr_play_bullets_00186
4032  1533  3A 07 00    	ld	a,(_col + 7)
4033  1536  4F          	ld	c,a
4034  1537  DD 96 F3    	sub	a,(ix-13)
4035  153A  38 22       	jr	C,l_spr_play_bullets_00186
4036  153C  DD 7E F5    	ld	a,(ix-11)
4037  153F  91          	sub	a, c
4038  1540  38 1C       	jr	C,l_spr_play_bullets_00186
4039  1542  2E 03       	ld	l,0x03
4040  1544  CD 00 00    	call	_zx_border_fastcall
4041  1547  2E 0A       	ld	l,0x0a
4042  1549  CD 00 00    	call	_player_hit
4043  154C  DD 6E FE    	ld	l,(ix-2)
4044  154F  DD 66 FF    	ld	h,(ix-1)
4045  1552  3A 00 00    	ld	a,(_s_col0)
4046  1555  77          	ld	(hl),a
4047  1556  DD 6E F6    	ld	l,(ix-10)
4048  1559  CD AD 15    	call	_spr_explode_bullet
4049  155C  18 4A       	jr	l_spr_play_bullets_00198
4050  155E              l_spr_play_bullets_00186:
4051  155E  DD 6E F7    	ld	l,(ix-9)
4052  1561  DD 66 F8    	ld	h,(ix-8)
4053  1564  4E          	ld	c, (hl)
4054  1565  0C          	inc	c
4055  1566  28 32       	jr	Z,l_spr_play_bullets_00191
4056  1568  DD 7E F3    	ld	a,(ix-13)
4057  156B  D6 20       	sub	a,0x20
4058  156D  30 2B       	jr	NC,l_spr_play_bullets_00191
4059  156F  F3          	di
4060  1570  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4061  1572  DD 86 F4    	add	a,(ix-12)
4062  1575  6F          	ld	l, a
4063  1576  3E 00       	ld	a, +((_bullet_tile) / 256)
4064  1578  CE 00       	adc	a,0x00
4065  157A  67          	ld	h, a
4066  157B  4E          	ld	c, (hl)
4067  157C  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4068  157E  DD 86 F4    	add	a,(ix-12)
4069  1581  6F          	ld	l, a
4070  1582  3E 00       	ld	a, +((_bullet_colint) / 256)
4071  1584  CE 00       	adc	a,0x00
4072  1586  67          	ld	h, a
4073  1587  46          	ld	b, (hl)
4074  1588  79          	ld	a, c
4075  1589  80          	add	a, b
4076  158A  47          	ld	b, a
4077  158B  DD 7E F3    	ld	a,(ix-13)
4078  158E  F5          	push	af
4079  158F  33          	inc	sp
4080  1590  3A 00 00    	ld	a,(_s_lin0)
4081  1593  48          	ld	c,b
4082  1594  47          	ld	b,a
4083  1595  C5          	push	bc
4084  1596  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4085  1599  FB          	ei
4086  159A              l_spr_play_bullets_00191:
4087  159A  DD 34 F4    	inc	(ix-12)
4088  159D  DD 7E F4    	ld	a,(ix-12)
4089  15A0  DD 77 F6    	ld	(ix-10),a
4090  15A3  D6 08       	sub	a,0x08
4091  15A5  DA 0B 10    	jp	C, l_spr_play_bullets_00197
4092  15A8              l_spr_play_bullets_00198:
4093  15A8  DD F9       	ld	sp, ix
4094  15AA  DD E1       	pop	ix
4095  15AC  C9          	ret
4096  15AD              	SECTION code_compiler
4097  15AD              ;	---------------------------------
4098  15AD              ; Function spr_explode_bullet
4099  15AD              ; ---------------------------------
4100  15AD              _spr_explode_bullet:
4101  15AD  5D          	ld	e, l
4102  15AE  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4103  15B0  83          	add	a, e
4104  15B1  4F          	ld	c, a
4105  15B2  3E 00       	ld	a, +((_bullet_col) / 256)
4106  15B4  CE 00       	adc	a,0x00
4107  15B6  47          	ld	b, a
4108  15B7  0A          	ld	a, (bc)
4109  15B8  57          	ld	d, a
4110  15B9  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4111  15BB  83          	add	a, e
4112  15BC  6F          	ld	l, a
4113  15BD  3E 00       	ld	a, +((_bullet_lin) / 256)
4114  15BF  CE 00       	adc	a,0x00
4115  15C1  67          	ld	h, a
4116  15C2  5E          	ld	e, (hl)
4117  15C3  C5          	push	bc
4118  15C4  21 00 00    	ld	hl,0x0000
4119  15C7  E5          	push	hl
4120  15C8  21 87 03    	ld	hl,0x0387
4121  15CB  E5          	push	hl
4122  15CC  D5          	push	de
4123  15CD  CD FB 0D    	call	_spr_add_anim
4124  15D0  F1          	pop	af
4125  15D1  F1          	pop	af
4126  15D2  F1          	pop	af
4127  15D3  C1          	pop	bc
4128  15D4  21 00 00    	ld	hl,_bullet_count
4129  15D7  35          	dec	(hl)
4130  15D8  3E FF       	ld	a,0xff
4131  15DA  02          	ld	(bc), a
4132  15DB  C9          	ret
4133  15DC              	SECTION code_compiler
4134  15DC              ;	---------------------------------
4135  15DC              ; Function spr_turn_horizontal
4136  15DC              ; ---------------------------------
4137  15DC              _spr_turn_horizontal:
4138  15DC  21 00 00    	ld	hl,_s_state
4139  15DF  CB 56       	bit	2, (hl)
4140  15E1  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4141  15E3  21 00 00    	ld	hl,_s_state
4142  15E6  7E          	ld	a,(hl)
4143  15E7  F6 08       	or	a,0x08
4144  15E9  E6 FB       	and	a,0xfb
4145  15EB  77          	ld	(hl),a
4146  15EC  18 09       	jr	l_spr_turn_horizontal_00103
4147  15EE              l_spr_turn_horizontal_00102:
4148  15EE  21 00 00    	ld	hl,_s_state
4149  15F1  7E          	ld	a,(hl)
4150  15F2  E6 F7       	and	a,0xf7
4151  15F4  F6 04       	or	a,0x04
4152  15F6  77          	ld	(hl),a
4153  15F7              l_spr_turn_horizontal_00103:
4154  15F7  2A 00 00    	ld	hl,(_sprite)
4155  15FA  26 00       	ld	h,0x00
4156  15FC  01 00 00    	ld	bc,_state
4157  15FF  09          	add	hl,bc
4158  1600  3A 00 00    	ld	a,(_s_state)
4159  1603  77          	ld	(hl),a
4160  1604  2A 00 00    	ld	hl,(_sprite)
4161  1607  26 00       	ld	h,0x00
4162  1609  01 00 00    	ld	bc,_tile
4163  160C  09          	add	hl,bc
4164  160D  E5          	push	hl
4165  160E  2A 00 00    	ld	hl,(_sprite)
4166  1611  CD 30 09    	call	_spr_tile
4167  1614  C1          	pop	bc
4168  1615  7D          	ld	a,l
4169  1616  02          	ld	(bc), a
4170  1617  C9          	ret
4171  1618              	SECTION code_compiler
4172  1618              ;	---------------------------------
4173  1618              ; Function spr_btile_paint_back
4174  1618              ; ---------------------------------
4175  1618              _spr_btile_paint_back:
4176  1618  21 20 00    	ld	hl,0x0020
4177  161B  22 00 00    	ld	(_tmp_ui),hl
4178  161E  21 00 00    	ld	hl,_map_paper
4179  1621  7E          	ld	a, (hl)
4180  1622  0F          	rrca
4181  1623  0F          	rrca
4182  1624  0F          	rrca
4183  1625  E6 1F       	and	a,0x1f
4184  1627  B6          	or	a, (hl)
4185  1628  F6 40       	or	a,0x40
4186  162A  32 00 00    	ld	(_map_paper_clr),a
4187  162D              l_spr_btile_paint_back_00106:
4188  162D  21 00 00    	ld	hl,_tmp_ui
4189  1630  7E          	ld	a, (hl)
4190  1631  D6 A0       	sub	a,0xa0
4191  1633  23          	inc	hl
4192  1634  7E          	ld	a, (hl)
4193  1635  DE 28       	sbc	a,0x28
4194  1637  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4195  1639  21 00 00    	ld	hl,_tmp0
4196  163C  36 00       	ld	(hl),0x00
4197  163E              l_spr_btile_paint_back_00103:
4198  163E  3A 00 00    	ld	a,(_tmp0)
4199  1641  D6 10       	sub	a,0x10
4200  1643  30 34       	jr	NC,l_spr_btile_paint_back_00105
4201  1645  01 00 00    	ld	bc,_btiles
4202  1648  2A 00 00    	ld	hl,(_tmp_ui)
4203  164B  09          	add	hl,bc
4204  164C  7D          	ld	a,l
4205  164D  44          	ld	b,h
4206  164E  21 00 00    	ld	hl,_tmp0
4207  1651  86          	add	a, (hl)
4208  1652  4F          	ld	c, a
4209  1653  78          	ld	a, b
4210  1654  CE 00       	adc	a,0x00
4211  1656  47          	ld	b, a
4212  1657  0A          	ld	a, (bc)
4213  1658  32 00 00    	ld	(_tmp),a
4214  165B  E6 38       	and	a,0x38
4215  165D  5F          	ld	e, a
4216  165E  3A 00 00    	ld	a,(_map_paper_last)
4217  1661  93          	sub	a, e
4218  1662  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4219  1664  21 00 00    	ld	hl,_tmp
4220  1667  7E          	ld	a, (hl)
4221  1668  E6 C7       	and	a,0xc7
4222  166A  77          	ld	(hl),a
4223  166B  21 00 00    	ld	hl,_map_paper
4224  166E  B6          	or	a, (hl)
4225  166F  32 00 00    	ld	(_tmp),a
4226  1672  02          	ld	(bc), a
4227  1673              l_spr_btile_paint_back_00102:
4228  1673  21 00 00    	ld	hl,_tmp0
4229  1676  34          	inc	(hl)
4230  1677  18 C5       	jr	l_spr_btile_paint_back_00103
4231  1679              l_spr_btile_paint_back_00105:
4232  1679  2A 00 00    	ld	hl,(_tmp_ui)
4233  167C  11 30 00    	ld	de,0x0030
4234  167F  19          	add	hl,de
4235  1680  22 00 00    	ld	(_tmp_ui),hl
4236  1683  18 A8       	jr	l_spr_btile_paint_back_00106
4237  1685              l_spr_btile_paint_back_00108:
4238  1685  C3 00 00    	jp  _game_attribs
4239  1688              	SECTION IGNORE
4240  0000              
