1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_check_map_fall
189   0000              	GLOBAL _spr_calc_index
190   0000              	GLOBAL _spr_check_map
191   0000              	GLOBAL _spr_chktime
192   0000              	GLOBAL _spr_move_up
193   0000              	GLOBAL _spr_move_down
194   0000              	GLOBAL _spr_move_horizontal
195   0000              	GLOBAL _spr_move_right
196   0000              	GLOBAL _spr_move_left
197   0000              	GLOBAL _spr_redraw
198   0000              	GLOBAL _spr_killed
199   0000              	GLOBAL _spr_anim_kill
200   0000              	GLOBAL _spr_destroy
201   0000              	GLOBAL _spr_set_fall
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_draw_background
205   0000              	GLOBAL _spr_draw_clear
206   0000              	GLOBAL _spr_back_paint
207   0000              	GLOBAL _spr_brick_anim
208   0000              	GLOBAL _spr_draw_index
209   0000              	GLOBAL _spr_draw_row
210   0000              	GLOBAL _spr_calc_hor
211   0000              	GLOBAL _spr_collision_check
212   0000              	GLOBAL _spr_kill_all
213   0000              	GLOBAL _spr_back_clr
214   0000              	GLOBAL _spr_tile_paint
215   0000              ;--------------------------------------------------------
216   0000              ; Externals used
217   0000              ;--------------------------------------------------------
218   0000              	GLOBAL _debug3
219   0000              	GLOBAL _debug2
220   0000              	GLOBAL _debug
221   0000              	GLOBAL _zx_print_str
222   0000              	GLOBAL _zx_print_int
223   0000              	GLOBAL _zx_print_chr
224   0000              	GLOBAL _zx_print_bonus_time
225   0000              	GLOBAL _zx_isr
226   0000              	GLOBAL _z80_otdr_callee
227   0000              	GLOBAL _z80_otdr
228   0000              	GLOBAL _z80_otir_callee
229   0000              	GLOBAL _z80_otir
230   0000              	GLOBAL _z80_outp_callee
231   0000              	GLOBAL _z80_outp
232   0000              	GLOBAL _z80_indr_callee
233   0000              	GLOBAL _z80_indr
234   0000              	GLOBAL _z80_inir_callee
235   0000              	GLOBAL _z80_inir
236   0000              	GLOBAL _z80_inp_fastcall
237   0000              	GLOBAL _z80_inp
238   0000              	GLOBAL _z80_set_int_state_fastcall
239   0000              	GLOBAL _z80_set_int_state
240   0000              	GLOBAL _z80_get_int_state
241   0000              	GLOBAL _z80_delay_tstate_fastcall
242   0000              	GLOBAL _z80_delay_tstate
243   0000              	GLOBAL _z80_delay_ms_fastcall
244   0000              	GLOBAL _z80_delay_ms
245   0000              	GLOBAL _im2_remove_generic_callback_callee
246   0000              	GLOBAL _im2_remove_generic_callback
247   0000              	GLOBAL _im2_prepend_generic_callback_callee
248   0000              	GLOBAL _im2_prepend_generic_callback
249   0000              	GLOBAL _im2_append_generic_callback_callee
250   0000              	GLOBAL _im2_append_generic_callback
251   0000              	GLOBAL _im2_create_generic_isr_8080_callee
252   0000              	GLOBAL _im2_create_generic_isr_8080
253   0000              	GLOBAL _im2_create_generic_isr_callee
254   0000              	GLOBAL _im2_create_generic_isr
255   0000              	GLOBAL _im2_install_isr_callee
256   0000              	GLOBAL _im2_install_isr
257   0000              	GLOBAL _im2_init_fastcall
258   0000              	GLOBAL _im2_init
259   0000              	GLOBAL _sound_hit_brick
260   0000              	GLOBAL _sound_hit_enemy
261   0000              	GLOBAL _sound_kill
262   0000              	GLOBAL _sound_enter_enemy
263   0000              	GLOBAL _sound_coin
264   0000              	GLOBAL _sound_jump
265   0000              	GLOBAL _sound_slide
266   0000              	GLOBAL _game_joystick_set_menu
267   0000              	GLOBAL _game_joystick_set
268   0000              	GLOBAL _game_joystick_change
269   0000              	GLOBAL _game_print_header
270   0000              	GLOBAL _game_end
271   0000              	GLOBAL _game_score_osd
272   0000              	GLOBAL _game_phase_print_score_back
273   0000              	GLOBAL _game_bonus_clock
274   0000              	GLOBAL _game_bonus_summary_player
275   0000              	GLOBAL _game_bonus_summary
276   0000              	GLOBAL _game_check_time
277   0000              	GLOBAL _game_menu_config
278   0000              	GLOBAL _game_menu
279   0000              	GLOBAL _game_rotate_attrib
280   0000              	GLOBAL _game_colour_message
281   0000              	GLOBAL _game_paint_attrib_lin_h
282   0000              	GLOBAL _game_paint_attrib_lin
283   0000              	GLOBAL _game_paint_attrib
284   0000              	GLOBAL _game_menu_paint
285   0000              	GLOBAL _game_menu_top_paint
286   0000              	GLOBAL _game_menu_handle
287   0000              	GLOBAL _game_menu_e
288   0000              	GLOBAL _game_menu_back
289   0000              	GLOBAL _game_print_score
290   0000              	GLOBAL _game_unfreeze_all
291   0000              	GLOBAL _game_freeze_all
292   0000              	GLOBAL _game_freeze
293   0000              	GLOBAL _game_enemy_add_get_index
294   0000              	GLOBAL _game_check_maze_floor
295   0000              	GLOBAL _game_check_maze
296   0000              	GLOBAL _game_loop
297   0000              	GLOBAL _game_phase_init
298   0000              	GLOBAL _game_start_timer
299   0000              	GLOBAL _game_tick
300   0000              	GLOBAL _game_print_lives
301   0000              	GLOBAL _game_print_footer
302   0000              	GLOBAL _game_fill_row
303   0000              	GLOBAL _enemy_ugly_fix
304   0000              	GLOBAL _enemy_kill
305   0000              	GLOBAL _enemy_init
306   0000              	GLOBAL _enemy_walk
307   0000              	GLOBAL _enemy_upgrade
308   0000              	GLOBAL _enemy_evolve
309   0000              	GLOBAL _enemy_standard_hit
310   0000              	GLOBAL _enemy_trip_move
311   0000              	GLOBAL _enemy_trip
312   0000              	GLOBAL _enemy_fighterfly
313   0000              	GLOBAL _enemy_fireball_green
314   0000              	GLOBAL _enemy_fireball_red
315   0000              	GLOBAL _enemy_slipice
316   0000              	GLOBAL _enemy_standard
317   0000              	GLOBAL _enemy_turn
318   0000              	GLOBAL _enemy_flip_sidestepper
319   0000              	GLOBAL _enemy_flip
320   0000              	GLOBAL _enemy_flip_change_dir
321   0000              	GLOBAL _enemy_hit
322   0000              	GLOBAL _enemy_collision_turn_dir
323   0000              	GLOBAL _enemy_collision
324   0000              	GLOBAL _enemy_coin1
325   0000              	GLOBAL _ay_fx_play
326   0000              	GLOBAL _ay_midi_play
327   0000              	GLOBAL _ay_is_playing
328   0000              	GLOBAL _ay_reset
329   0000              	GLOBAL _player_check_floor
330   0000              	GLOBAL _player_hit_brick_clear
331   0000              	GLOBAL _player_lost_life
332   0000              	GLOBAL _player_score_add
333   0000              	GLOBAL _player_coin
334   0000              	GLOBAL _player_hit_pow
335   0000              	GLOBAL _player_hit_brick
336   0000              	GLOBAL _player_move_input
337   0000              	GLOBAL _player_turn
338   0000              	GLOBAL _player_move
339   0000              	GLOBAL _player_restart
340   0000              	GLOBAL _player_kill
341   0000              	GLOBAL _player_check_input
342   0000              	GLOBAL _player_collision
343   0000              	GLOBAL _player_calc_slide
344   0000              	GLOBAL _player_init
345   0000              	GLOBAL _test_func
346   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawTW_raw
348   0000              	GLOBAL _NIRVANAP_drawTW_callee
349   0000              	GLOBAL _NIRVANAP_drawTW
350   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
351   0000              	GLOBAL _NIRVANAP_drawW_raw
352   0000              	GLOBAL _NIRVANAP_drawW_callee
353   0000              	GLOBAL _NIRVANAP_drawW
354   0000              	GLOBAL _NIRVANAP_spriteT_callee
355   0000              	GLOBAL _NIRVANAP_spriteT
356   0000              	GLOBAL _NIRVANAP_fillC_callee
357   0000              	GLOBAL _NIRVANAP_fillC
358   0000              	GLOBAL _NIRVANAP_readC_callee
359   0000              	GLOBAL _NIRVANAP_readC
360   0000              	GLOBAL _NIRVANAP_paintC_callee
361   0000              	GLOBAL _NIRVANAP_paintC
362   0000              	GLOBAL _NIRVANAP_printC_callee
363   0000              	GLOBAL _NIRVANAP_printC
364   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
365   0000              	GLOBAL _NIRVANAP_fillT_raw
366   0000              	GLOBAL _NIRVANAP_fillT_callee
367   0000              	GLOBAL _NIRVANAP_fillT
368   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawT_raw
370   0000              	GLOBAL _NIRVANAP_drawT_callee
371   0000              	GLOBAL _NIRVANAP_drawT
372   0000              	GLOBAL _NIRVANAP_stop
373   0000              	GLOBAL _NIRVANAP_start
374   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
375   0000              	GLOBAL _intrinsic_swap_word_32
376   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
377   0000              	GLOBAL _intrinsic_swap_endian_32
378   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
379   0000              	GLOBAL _intrinsic_swap_endian_16
380   0000              	GLOBAL _intrinsic_return_de
381   0000              	GLOBAL _intrinsic_return_bc
382   0000              	GLOBAL _intrinsic_exx
383   0000              	GLOBAL _intrinsic_ex_de_hl
384   0000              	GLOBAL _intrinsic_nop
385   0000              	GLOBAL _intrinsic_im_2
386   0000              	GLOBAL _intrinsic_im_1
387   0000              	GLOBAL _intrinsic_im_0
388   0000              	GLOBAL _intrinsic_retn
389   0000              	GLOBAL _intrinsic_reti
390   0000              	GLOBAL _intrinsic_halt
391   0000              	GLOBAL _intrinsic_ei
392   0000              	GLOBAL _intrinsic_di
393   0000              	GLOBAL _intrinsic_stub
394   0000              	GLOBAL _intrinsic_outi
395   0000              	GLOBAL _intrinsic_ldi
396   0000              	GLOBAL _ulltoa_callee
397   0000              	GLOBAL _ulltoa
398   0000              	GLOBAL _strtoull_callee
399   0000              	GLOBAL _strtoull
400   0000              	GLOBAL _strtoll_callee
401   0000              	GLOBAL _strtoll
402   0000              	GLOBAL _lltoa_callee
403   0000              	GLOBAL _lltoa
404   0000              	GLOBAL _llabs_callee
405   0000              	GLOBAL _llabs
406   0000              	GLOBAL __lldivu__callee
407   0000              	GLOBAL __lldivu_
408   0000              	GLOBAL __lldiv__callee
409   0000              	GLOBAL __lldiv_
410   0000              	GLOBAL _atoll_callee
411   0000              	GLOBAL _atoll
412   0000              	GLOBAL _realloc_unlocked_callee
413   0000              	GLOBAL _realloc_unlocked
414   0000              	GLOBAL _malloc_unlocked_fastcall
415   0000              	GLOBAL _malloc_unlocked
416   0000              	GLOBAL _free_unlocked_fastcall
417   0000              	GLOBAL _free_unlocked
418   0000              	GLOBAL _calloc_unlocked_callee
419   0000              	GLOBAL _calloc_unlocked
420   0000              	GLOBAL _aligned_alloc_unlocked_callee
421   0000              	GLOBAL _aligned_alloc_unlocked
422   0000              	GLOBAL _realloc_callee
423   0000              	GLOBAL _realloc
424   0000              	GLOBAL _malloc_fastcall
425   0000              	GLOBAL _malloc
426   0000              	GLOBAL _free_fastcall
427   0000              	GLOBAL _free
428   0000              	GLOBAL _calloc_callee
429   0000              	GLOBAL _calloc
430   0000              	GLOBAL _aligned_alloc_callee
431   0000              	GLOBAL _aligned_alloc
432   0000              	GLOBAL _utoa_callee
433   0000              	GLOBAL _utoa
434   0000              	GLOBAL _ultoa_callee
435   0000              	GLOBAL _ultoa
436   0000              	GLOBAL _system_fastcall
437   0000              	GLOBAL _system
438   0000              	GLOBAL _strtoul_callee
439   0000              	GLOBAL _strtoul
440   0000              	GLOBAL _strtol_callee
441   0000              	GLOBAL _strtol
442   0000              	GLOBAL _strtof_callee
443   0000              	GLOBAL _strtof
444   0000              	GLOBAL _strtod_callee
445   0000              	GLOBAL _strtod
446   0000              	GLOBAL _srand_fastcall
447   0000              	GLOBAL _srand
448   0000              	GLOBAL _rand
449   0000              	GLOBAL _quick_exit_fastcall
450   0000              	GLOBAL _quick_exit
451   0000              	GLOBAL _qsort_callee
452   0000              	GLOBAL _qsort
453   0000              	GLOBAL _ltoa_callee
454   0000              	GLOBAL _ltoa
455   0000              	GLOBAL _labs_fastcall
456   0000              	GLOBAL _labs
457   0000              	GLOBAL _itoa_callee
458   0000              	GLOBAL _itoa
459   0000              	GLOBAL _ftoh_callee
460   0000              	GLOBAL _ftoh
461   0000              	GLOBAL _ftog_callee
462   0000              	GLOBAL _ftog
463   0000              	GLOBAL _ftoe_callee
464   0000              	GLOBAL _ftoe
465   0000              	GLOBAL _ftoa_callee
466   0000              	GLOBAL _ftoa
467   0000              	GLOBAL _exit_fastcall
468   0000              	GLOBAL _exit
469   0000              	GLOBAL _dtoh_callee
470   0000              	GLOBAL _dtoh
471   0000              	GLOBAL _dtog_callee
472   0000              	GLOBAL _dtog
473   0000              	GLOBAL _dtoe_callee
474   0000              	GLOBAL _dtoe
475   0000              	GLOBAL _dtoa_callee
476   0000              	GLOBAL _dtoa
477   0000              	GLOBAL _bsearch_callee
478   0000              	GLOBAL _bsearch
479   0000              	GLOBAL _atol_fastcall
480   0000              	GLOBAL _atol
481   0000              	GLOBAL _atoi_fastcall
482   0000              	GLOBAL _atoi
483   0000              	GLOBAL _atof_fastcall
484   0000              	GLOBAL _atof
485   0000              	GLOBAL _atexit_fastcall
486   0000              	GLOBAL _atexit
487   0000              	GLOBAL _at_quick_exit_fastcall
488   0000              	GLOBAL _at_quick_exit
489   0000              	GLOBAL _abs_fastcall
490   0000              	GLOBAL _abs
491   0000              	GLOBAL _abort
492   0000              	GLOBAL __strtou__callee
493   0000              	GLOBAL __strtou_
494   0000              	GLOBAL __strtoi__callee
495   0000              	GLOBAL __strtoi_
496   0000              	GLOBAL __random_uniform_xor_8__fastcall
497   0000              	GLOBAL __random_uniform_xor_8_
498   0000              	GLOBAL __random_uniform_xor_32__fastcall
499   0000              	GLOBAL __random_uniform_xor_32_
500   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
501   0000              	GLOBAL __random_uniform_cmwc_8_
502   0000              	GLOBAL __shellsort__callee
503   0000              	GLOBAL __shellsort_
504   0000              	GLOBAL __quicksort__callee
505   0000              	GLOBAL __quicksort_
506   0000              	GLOBAL __insertion_sort__callee
507   0000              	GLOBAL __insertion_sort_
508   0000              	GLOBAL __ldivu__callee
509   0000              	GLOBAL __ldivu_
510   0000              	GLOBAL __ldiv__callee
511   0000              	GLOBAL __ldiv_
512   0000              	GLOBAL __divu__callee
513   0000              	GLOBAL __divu_
514   0000              	GLOBAL __div__callee
515   0000              	GLOBAL __div_
516   0000              	GLOBAL _in_mouse_kempston_wheel_delta
517   0000              	GLOBAL _in_mouse_kempston_wheel
518   0000              	GLOBAL _in_mouse_kempston_callee
519   0000              	GLOBAL _in_mouse_kempston
520   0000              	GLOBAL _in_mouse_kempston_setpos_callee
521   0000              	GLOBAL _in_mouse_kempston_setpos
522   0000              	GLOBAL _in_mouse_kempston_reset
523   0000              	GLOBAL _in_mouse_kempston_init
524   0000              	GLOBAL _in_mouse_amx_wheel_delta
525   0000              	GLOBAL _in_mouse_amx_wheel
526   0000              	GLOBAL _in_mouse_amx_callee
527   0000              	GLOBAL _in_mouse_amx
528   0000              	GLOBAL _in_mouse_amx_setpos_callee
529   0000              	GLOBAL _in_mouse_amx_setpos
530   0000              	GLOBAL _in_mouse_amx_reset
531   0000              	GLOBAL _in_mouse_amx_init_callee
532   0000              	GLOBAL _in_mouse_amx_init
533   0000              	GLOBAL _in_stick_sinclair2
534   0000              	GLOBAL _in_stick_sinclair1
535   0000              	GLOBAL _in_stick_kempston
536   0000              	GLOBAL _in_stick_fuller
537   0000              	GLOBAL _in_stick_cursor
538   0000              	GLOBAL _in_stick_keyboard_fastcall
539   0000              	GLOBAL _in_stick_keyboard
540   0000              	GLOBAL _in_wait_nokey
541   0000              	GLOBAL _in_wait_key
542   0000              	GLOBAL _in_test_key
543   0000              	GLOBAL _in_pause_fastcall
544   0000              	GLOBAL _in_pause
545   0000              	GLOBAL _in_key_scancode_fastcall
546   0000              	GLOBAL _in_key_scancode
547   0000              	GLOBAL _in_key_pressed_fastcall
548   0000              	GLOBAL _in_key_pressed
549   0000              	GLOBAL _in_inkey
550   0000              	GLOBAL _zx_pattern_fill_callee
551   0000              	GLOBAL _zx_pattern_fill
552   0000              	GLOBAL _zx_saddrpup_fastcall
553   0000              	GLOBAL _zx_saddrpup
554   0000              	GLOBAL _zx_saddrpright_callee
555   0000              	GLOBAL _zx_saddrpright
556   0000              	GLOBAL _zx_saddrpleft_callee
557   0000              	GLOBAL _zx_saddrpleft
558   0000              	GLOBAL _zx_saddrpdown_fastcall
559   0000              	GLOBAL _zx_saddrpdown
560   0000              	GLOBAL _zx_saddrcup_fastcall
561   0000              	GLOBAL _zx_saddrcup
562   0000              	GLOBAL _zx_saddrcright_fastcall
563   0000              	GLOBAL _zx_saddrcright
564   0000              	GLOBAL _zx_saddrcleft_fastcall
565   0000              	GLOBAL _zx_saddrcleft
566   0000              	GLOBAL _zx_saddrcdown_fastcall
567   0000              	GLOBAL _zx_saddrcdown
568   0000              	GLOBAL _zx_saddr2py_fastcall
569   0000              	GLOBAL _zx_saddr2py
570   0000              	GLOBAL _zx_saddr2px_fastcall
571   0000              	GLOBAL _zx_saddr2px
572   0000              	GLOBAL _zx_saddr2cy_fastcall
573   0000              	GLOBAL _zx_saddr2cy
574   0000              	GLOBAL _zx_saddr2cx_fastcall
575   0000              	GLOBAL _zx_saddr2cx
576   0000              	GLOBAL _zx_saddr2aaddr_fastcall
577   0000              	GLOBAL _zx_saddr2aaddr
578   0000              	GLOBAL _zx_py2saddr_fastcall
579   0000              	GLOBAL _zx_py2saddr
580   0000              	GLOBAL _zx_py2aaddr_fastcall
581   0000              	GLOBAL _zx_py2aaddr
582   0000              	GLOBAL _zx_pxy2saddr_callee
583   0000              	GLOBAL _zx_pxy2saddr
584   0000              	GLOBAL _zx_pxy2aaddr_callee
585   0000              	GLOBAL _zx_pxy2aaddr
586   0000              	GLOBAL _zx_px2bitmask_fastcall
587   0000              	GLOBAL _zx_px2bitmask
588   0000              	GLOBAL _zx_cy2saddr_fastcall
589   0000              	GLOBAL _zx_cy2saddr
590   0000              	GLOBAL _zx_cy2aaddr_fastcall
591   0000              	GLOBAL _zx_cy2aaddr
592   0000              	GLOBAL _zx_cxy2saddr_callee
593   0000              	GLOBAL _zx_cxy2saddr
594   0000              	GLOBAL _zx_cxy2aaddr_callee
595   0000              	GLOBAL _zx_cxy2aaddr
596   0000              	GLOBAL _zx_bitmask2px_fastcall
597   0000              	GLOBAL _zx_bitmask2px
598   0000              	GLOBAL _zx_aaddrcup_fastcall
599   0000              	GLOBAL _zx_aaddrcup
600   0000              	GLOBAL _zx_aaddrcright_fastcall
601   0000              	GLOBAL _zx_aaddrcright
602   0000              	GLOBAL _zx_aaddrcleft_fastcall
603   0000              	GLOBAL _zx_aaddrcleft
604   0000              	GLOBAL _zx_aaddrcdown_fastcall
605   0000              	GLOBAL _zx_aaddrcdown
606   0000              	GLOBAL _zx_aaddr2saddr_fastcall
607   0000              	GLOBAL _zx_aaddr2saddr
608   0000              	GLOBAL _zx_aaddr2py_fastcall
609   0000              	GLOBAL _zx_aaddr2py
610   0000              	GLOBAL _zx_aaddr2px_fastcall
611   0000              	GLOBAL _zx_aaddr2px
612   0000              	GLOBAL _zx_aaddr2cy_fastcall
613   0000              	GLOBAL _zx_aaddr2cy
614   0000              	GLOBAL _zx_aaddr2cx_fastcall
615   0000              	GLOBAL _zx_aaddr2cx
616   0000              	GLOBAL _zx_visit_wc_pix_callee
617   0000              	GLOBAL _zx_visit_wc_pix
618   0000              	GLOBAL _zx_visit_wc_attr_callee
619   0000              	GLOBAL _zx_visit_wc_attr
620   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
621   0000              	GLOBAL _zx_scroll_wc_up_pix
622   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
623   0000              	GLOBAL _zx_scroll_wc_up_attr
624   0000              	GLOBAL _zx_scroll_wc_up_callee
625   0000              	GLOBAL _zx_scroll_wc_up
626   0000              	GLOBAL _zx_scroll_up_pix_callee
627   0000              	GLOBAL _zx_scroll_up_pix
628   0000              	GLOBAL _zx_scroll_up_attr_callee
629   0000              	GLOBAL _zx_scroll_up_attr
630   0000              	GLOBAL _zx_scroll_up_callee
631   0000              	GLOBAL _zx_scroll_up
632   0000              	GLOBAL _zx_cls_wc_pix_callee
633   0000              	GLOBAL _zx_cls_wc_pix
634   0000              	GLOBAL _zx_cls_wc_attr_callee
635   0000              	GLOBAL _zx_cls_wc_attr
636   0000              	GLOBAL _zx_cls_wc_callee
637   0000              	GLOBAL _zx_cls_wc
638   0000              	GLOBAL _zx_cls_pix_fastcall
639   0000              	GLOBAL _zx_cls_pix
640   0000              	GLOBAL _zx_cls_attr_fastcall
641   0000              	GLOBAL _zx_cls_attr
642   0000              	GLOBAL _zx_cls_fastcall
643   0000              	GLOBAL _zx_cls
644   0000              	GLOBAL _zx_border_fastcall
645   0000              	GLOBAL _zx_border
646   0000              	GLOBAL _g_hit_right
647   0000              	GLOBAL _g_hit_left
648   0000              	GLOBAL _joynames
649   0000              	GLOBAL _initials
650   0000              	GLOBAL _score_osd_tile
651   0000              	GLOBAL _score_osd_update_time
652   0000              	GLOBAL _score_osd_col
653   0000              	GLOBAL _score_osd_lin
654   0000              	GLOBAL _phase_bonus_total
655   0000              	GLOBAL _phase_angry
656   0000              	GLOBAL _phase_curr
657   0000              	GLOBAL _phase_end
658   0000              	GLOBAL _phase_coins
659   0000              	GLOBAL _phase_pop
660   0000              	GLOBAL _phase_tot
661   0000              	GLOBAL _phase_left
662   0000              	GLOBAL _phase_quota
663   0000              	GLOBAL _lvl_1
664   0000              	GLOBAL _sprite_speed_alt
665   0000              	GLOBAL _sprite_speed
666   0000              	GLOBAL _screen_ink
667   0000              	GLOBAL _screen_paper
668   0000              	GLOBAL _game_menu_sel
669   0000              	GLOBAL _game_type
670   0000              	GLOBAL _game_osd
671   0000              	GLOBAL _game_bonus
672   0000              	GLOBAL _spr_water_time
673   0000              	GLOBAL _spr_water_clear
674   0000              	GLOBAL _game_time_fireball_start
675   0000              	GLOBAL _game_time_flipped
676   0000              	GLOBAL _game_score_top
677   0000              	GLOBAL _game_lives
678   0000              	GLOBAL _game_over
679   0000              	GLOBAL _game_sound
680   0000              	GLOBAL _game_inmune
681   0000              	GLOBAL _game_god_mode
682   0000              	GLOBAL _game_start_phase
683   0000              	GLOBAL _game_two_player
684   0000              	GLOBAL _game_brick_tile
685   0000              	GLOBAL _spr_count
686   0000              	GLOBAL _osd_show_time
687   0000              	GLOBAL _osd_update_time
688   0000              	GLOBAL _frame_time
689   0000              	GLOBAL _entry_time
690   0000              	GLOBAL _curr_time
691   0000              	GLOBAL _s_state
692   0000              	GLOBAL _attrib_hl
693   0000              	GLOBAL _attrib
694   0000              	GLOBAL _zx_val_asm
695   0000              	GLOBAL _enemies
696   0000              	GLOBAL _tmp_ui
697   0000              	GLOBAL _tmp_sc
698   0000              	GLOBAL _tmp_uc
699   0000              	GLOBAL _tmp1
700   0000              	GLOBAL _tmp0
701   0000              	GLOBAL _tmp
702   0000              	GLOBAL _index1
703   0000              	GLOBAL _loop_count
704   0000              	GLOBAL _sprite_lin_inc_mul
705   0000              	GLOBAL _s_col1
706   0000              	GLOBAL _s_col0
707   0000              	GLOBAL _s_lin1
708   0000              	GLOBAL _s_lin0
709   0000              	GLOBAL _s_tile1
710   0000              	GLOBAL _s_tile0
711   0000              	GLOBAL _hit_count
712   0000              	GLOBAL _index_player
713   0000              	GLOBAL _sprite
714   0000              	GLOBAL _player_joy
715   0000              	GLOBAL _player_next_extra
716   0000              	GLOBAL _player_score
717   0000              	GLOBAL _last_time
718   0000              	GLOBAL _sliding
719   0000              	GLOBAL _spr_timer
720   0000              	GLOBAL _jump_lin
721   0000              	GLOBAL _player_jump_c
722   0000              	GLOBAL _hit_col
723   0000              	GLOBAL _hit_lin
724   0000              	GLOBAL _colint
725   0000              	GLOBAL _col
726   0000              	GLOBAL _lin
727   0000              	GLOBAL _tile
728   0000              	GLOBAL _state_a
729   0000              	GLOBAL _state
730   0000              	GLOBAL _class
731   0000              	GLOBAL _tbuffer
732   0000              	GLOBAL _dirs
733   0000              	GLOBAL _sprites
734   0000              	GLOBAL _k2
735   0000              	GLOBAL _k1
736   0000              	GLOBAL _joyfunc2
737   0000              	GLOBAL _joyfunc1
738   0000              	GLOBAL _btiles
739   0000              	GLOBAL _spec128
740   0000              	GLOBAL _ay_effect_20
741   0000              	GLOBAL _ay_effect_19
742   0000              	GLOBAL _ay_effect_18
743   0000              	GLOBAL _ay_effect_17
744   0000              	GLOBAL _ay_effect_16
745   0000              	GLOBAL _ay_effect_15
746   0000              	GLOBAL _ay_effect_14
747   0000              	GLOBAL _ay_effect_13
748   0000              	GLOBAL _ay_effect_12
749   0000              	GLOBAL _ay_effect_11
750   0000              	GLOBAL _ay_effect_10
751   0000              	GLOBAL _ay_effect_09
752   0000              	GLOBAL _ay_effect_08
753   0000              	GLOBAL _ay_effect_07
754   0000              	GLOBAL _ay_effect_06
755   0000              	GLOBAL _ay_effect_05
756   0000              	GLOBAL _ay_effect_04
757   0000              	GLOBAL _ay_effect_03
758   0000              	GLOBAL _ay_effect_02
759   0000              	GLOBAL _ay_effect_01
760   0000              	GLOBAL _pb_midi_phase_1
761   0000              	GLOBAL _pb_midi_title
762   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
763   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
764   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
765   0000              	GLOBAL _NIRVANAP_HOLE
766   0000              	GLOBAL _NIRVANAP_ISR_HOOK
767   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
768   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
769   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
770   0000              	GLOBAL _control_method
771   0000              ;--------------------------------------------------------
772   0000              ; special function registers
773   0000              ;--------------------------------------------------------
774   0000              defc _IO_FE	=	0x00fe
775   0000              defc _IO_1FFD	=	0x1ffd
776   0000              defc _IO_7FFD	=	0x7ffd
777   0000              ;--------------------------------------------------------
778   0000              ; ram data
779   0000              ;--------------------------------------------------------
780   0000              	SECTION bss_compiler
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              
785   0000              IF 0
786   0000              
787   0000              ; .area _INITIALIZED removed by z88dk
788   0000              
789   0000              
790   0000              ENDIF
791   0000              
792   0000              ;--------------------------------------------------------
793   0000              ; absolute external ram data
794   0000              ;--------------------------------------------------------
795   0000              	SECTION IGNORE
796   0000              ;--------------------------------------------------------
797   0000              ; global & static initialisations
798   0000              ;--------------------------------------------------------
799   0000              	SECTION code_crt_init
800   0000              ;--------------------------------------------------------
801   0000              ; Home
802   0000              ;--------------------------------------------------------
803   0000              	SECTION IGNORE
804   0000              ;--------------------------------------------------------
805   0000              ; code
806   0000              ;--------------------------------------------------------
807   0000              	SECTION code_compiler
808   0000              ;	---------------------------------
809   0000              ; Function spr_calc_index
810   0000              ; ---------------------------------
811   0000              _spr_calc_index:
812   0000  CD 00 00    	call	___sdcc_enter_ix
813   0003  DD 4E 05    	ld	c,(ix+5)
814   0006  CB 39       	srl	c
815   0008  06 00       	ld	b,0x00
816   000A  DD 7E 04    	ld	a,(ix+4)
817   000D  07          	rlca
818   000E  07          	rlca
819   000F  07          	rlca
820   0010  07          	rlca
821   0011  E6 0F       	and	a,0x0f
822   0013  6F          	ld	l, a
823   0014  26 00       	ld	h,0x00
824   0016  29          	add	hl, hl
825   0017  29          	add	hl, hl
826   0018  29          	add	hl, hl
827   0019  29          	add	hl, hl
828   001A  09          	add	hl, bc
829   001B  DD E1       	pop	ix
830   001D  C9          	ret
831   001E              	SECTION code_compiler
832   001E              ;	---------------------------------
833   001E              ; Function spr_check_map
834   001E              ; ---------------------------------
835   001E              _spr_check_map:
836   001E  CD 00 00    	call	___sdcc_enter_ix
837   0021  DD CB 05 46 	bit	0,(ix+5)
838   0025  20 15       	jr	NZ,l_spr_check_map_00106
839   0027  DD 66 05    	ld	h,(ix+5)
840   002A  DD 6E 04    	ld	l,(ix+4)
841   002D  E5          	push	hl
842   002E  CD 00 00    	call	_spr_calc_index
843   0031  F1          	pop	af
844   0032  22 00 00    	ld	(_index1),hl
845   0035  CD 00 00    	call	_game_check_maze
846   0038  26 00       	ld	h,0x00
847   003A  18 4B       	jr	l_spr_check_map_00108
848   003C              l_spr_check_map_00106:
849   003C  DD 46 05    	ld	b,(ix+5)
850   003F  05          	dec	b
851   0040  DD 4E 04    	ld	c,(ix+4)
852   0043  C5          	push	bc
853   0044  CD 00 00    	call	_spr_calc_index
854   0047  F1          	pop	af
855   0048  22 00 00    	ld	(_index1),hl
856   004B  21 00 00    	ld	hl,_g_hit_left
857   004E  36 00       	ld	(hl),0x00
858   0050  21 00 00    	ld	hl,_g_hit_right
859   0053  36 00       	ld	(hl),0x00
860   0055  2A 00 00    	ld	hl,(_index1)
861   0058  CD 00 00    	call	_game_check_maze
862   005B  7D          	ld	a, l
863   005C  B7          	or	a, a
864   005D  28 05       	jr	Z,l_spr_check_map_00102
865   005F  21 00 00    	ld	hl,_g_hit_left
866   0062  36 01       	ld	(hl),0x01
867   0064              l_spr_check_map_00102:
868   0064  2A 00 00    	ld	hl,(_index1)
869   0067  23          	inc	hl
870   0068  CD 00 00    	call	_game_check_maze
871   006B  7D          	ld	a, l
872   006C  B7          	or	a, a
873   006D  28 05       	jr	Z,l_spr_check_map_00104
874   006F  21 00 00    	ld	hl,_g_hit_right
875   0072  36 01       	ld	(hl),0x01
876   0074              l_spr_check_map_00104:
877   0074  3A 00 00    	ld	a,(_g_hit_left)
878   0077  B7          	or	a, a
879   0078  20 09       	jr	NZ,l_spr_check_map_00111
880   007A  3A 00 00    	ld	a,(_g_hit_right)
881   007D  B7          	or	a,a
882   007E  20 03       	jr	NZ,l_spr_check_map_00111
883   0080  6F          	ld	l,a
884   0081  18 02       	jr	l_spr_check_map_00112
885   0083              l_spr_check_map_00111:
886   0083  2E 01       	ld	l,0x01
887   0085              l_spr_check_map_00112:
888   0085  26 00       	ld	h,0x00
889   0087              l_spr_check_map_00108:
890   0087  DD E1       	pop	ix
891   0089  C9          	ret
892   008A              	SECTION code_compiler
893   008A              ;	---------------------------------
894   008A              ; Function spr_check_map_fall
895   008A              ; ---------------------------------
896   008A              _spr_check_map_fall:
897   008A  CD 00 00    	call	___sdcc_enter_ix
898   008D  DD CB 05 46 	bit	0,(ix+5)
899   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
900   0093  DD 66 05    	ld	h,(ix+5)
901   0096  DD 6E 04    	ld	l,(ix+4)
902   0099  E5          	push	hl
903   009A  CD 00 00    	call	_spr_calc_index
904   009D  F1          	pop	af
905   009E  22 00 00    	ld	(_index1),hl
906   00A1  CD 00 00    	call	_game_check_maze_floor
907   00A4  26 00       	ld	h,0x00
908   00A6  18 4B       	jr	l_spr_check_map_fall_00108
909   00A8              l_spr_check_map_fall_00106:
910   00A8  DD 46 05    	ld	b,(ix+5)
911   00AB  05          	dec	b
912   00AC  DD 4E 04    	ld	c,(ix+4)
913   00AF  C5          	push	bc
914   00B0  CD 00 00    	call	_spr_calc_index
915   00B3  F1          	pop	af
916   00B4  22 00 00    	ld	(_index1),hl
917   00B7  21 00 00    	ld	hl,_g_hit_left
918   00BA  36 00       	ld	(hl),0x00
919   00BC  21 00 00    	ld	hl,_g_hit_right
920   00BF  36 00       	ld	(hl),0x00
921   00C1  2A 00 00    	ld	hl,(_index1)
922   00C4  CD 00 00    	call	_game_check_maze_floor
923   00C7  7D          	ld	a, l
924   00C8  B7          	or	a, a
925   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
926   00CB  21 00 00    	ld	hl,_g_hit_left
927   00CE  36 01       	ld	(hl),0x01
928   00D0              l_spr_check_map_fall_00102:
929   00D0  2A 00 00    	ld	hl,(_index1)
930   00D3  23          	inc	hl
931   00D4  CD 00 00    	call	_game_check_maze_floor
932   00D7  7D          	ld	a, l
933   00D8  B7          	or	a, a
934   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
935   00DB  21 00 00    	ld	hl,_g_hit_right
936   00DE  36 01       	ld	(hl),0x01
937   00E0              l_spr_check_map_fall_00104:
938   00E0  3A 00 00    	ld	a,(_g_hit_left)
939   00E3  B7          	or	a, a
940   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
941   00E6  3A 00 00    	ld	a,(_g_hit_right)
942   00E9  B7          	or	a,a
943   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
944   00EC  6F          	ld	l,a
945   00ED  18 02       	jr	l_spr_check_map_fall_00112
946   00EF              l_spr_check_map_fall_00111:
947   00EF  2E 01       	ld	l,0x01
948   00F1              l_spr_check_map_fall_00112:
949   00F1  26 00       	ld	h,0x00
950   00F3              l_spr_check_map_fall_00108:
951   00F3  DD E1       	pop	ix
952   00F5  C9          	ret
953   00F6              	SECTION code_compiler
954   00F6              ;	---------------------------------
955   00F6              ; Function spr_chktime
956   00F6              ; ---------------------------------
957   00F6              _spr_chktime:
958   00F6  CD 00 00    	call	___sdcc_enter_ix
959   00F9  F5          	push	af
960   00FA  DD 75 FE    	ld	(ix-2),l
961   00FD  DD 74 FF    	ld	(ix-1),h
962   0100  E1          	pop	hl
963   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
964   0104  5E          	ld	e,(hl)
965   0105  E5          	push	hl
966   0106  6B          	ld	l,e
967   0107  26 00       	ld	h,0x00
968   0109  09          	add	hl, bc
969   010A  7E          	ld	a, (hl)
970   010B  B7          	or	a, a
971   010C  20 13       	jr	NZ,l_spr_chktime_00102
972   010E  01 00 00    	ld	bc,_sprite_speed+0
973   0111  16 00       	ld	d,0x00
974   0113  21 00 00    	ld	hl,_class
975   0116  19          	add	hl, de
976   0117  6E          	ld	l, (hl)
977   0118  26 00       	ld	h,0x00
978   011A  09          	add	hl, bc
979   011B  7E          	ld	a, (hl)
980   011C  32 00 00    	ld	(_tmp),a
981   011F  18 03       	jr	l_spr_chktime_00103
982   0121              l_spr_chktime_00102:
983   0121  32 00 00    	ld	(_tmp),a
984   0124              l_spr_chktime_00103:
985   0124  3A 00 00    	ld	a,(_tmp)
986   0127  4F          	ld	c,a
987   0128  06 00       	ld	b,0x00
988   012A  60          	ld	h,b
989   012B  6B          	ld	l, e
990   012C  29          	add	hl, hl
991   012D  11 00 00    	ld	de,_last_time
992   0130  19          	add	hl, de
993   0131  5E          	ld	e, (hl)
994   0132  23          	inc	hl
995   0133  56          	ld	d, (hl)
996   0134  C5          	push	bc
997   0135  D5          	push	de
998   0136  CD 00 00    	call	_game_check_time
999   0139  F1          	pop	af
1000  013A  F1          	pop	af
1001  013B  7D          	ld	a, l
1002  013C  B7          	or	a, a
1003  013D  28 15       	jr	Z,l_spr_chktime_00105
1004  013F  E1          	pop	hl
1005  0140  E5          	push	hl
1006  0141  6E          	ld	l, (hl)
1007  0142  26 00       	ld	h,0x00
1008  0144  29          	add	hl, hl
1009  0145  01 00 00    	ld	bc,_last_time
1010  0148  09          	add	hl,bc
1011  0149  ED 5B 00 00 	ld	de,(_curr_time)
1012  014D  73          	ld	(hl),e
1013  014E  23          	inc	hl
1014  014F  72          	ld	(hl),d
1015  0150  2E 01       	ld	l,0x01
1016  0152  18 02       	jr	l_spr_chktime_00106
1017  0154              l_spr_chktime_00105:
1018  0154  2E 00       	ld	l,0x00
1019  0156              l_spr_chktime_00106:
1020  0156  F1          	pop	af
1021  0157  DD E1       	pop	ix
1022  0159  C9          	ret
1023  015A              	SECTION code_compiler
1024  015A              ;	---------------------------------
1025  015A              ; Function spr_move_up
1026  015A              ; ---------------------------------
1027  015A              _spr_move_up:
1028  015A  2A 00 00    	ld	hl,(_sprite)
1029  015D  26 00       	ld	h,0x00
1030  015F  01 00 00    	ld	bc,_lin
1031  0162  09          	add	hl,bc
1032  0163  4E          	ld	c,(hl)
1033  0164  21 00 00    	ld	hl,_sprite_lin_inc_mul
1034  0167  46          	ld	b, (hl)
1035  0168  1E 02       	ld	e,0x02
1036  016A  04          	inc	b
1037  016B  18 02       	jr	l_spr_move_up_00134
1038  016D              l_spr_move_up_00133:
1039  016D  CB 23       	sla	e
1040  016F              l_spr_move_up_00134:
1041  016F  10 FC       	djnz	l_spr_move_up_00133
1042  0171  79          	ld	a, c
1043  0172  93          	sub	a, e
1044  0173  32 00 00    	ld	(_tmp1),a
1045  0176  2A 00 00    	ld	hl,(_sprite)
1046  0179  26 00       	ld	h,0x00
1047  017B  01 00 00    	ld	bc,_class
1048  017E  09          	add	hl,bc
1049  017F  7E          	ld	a,(hl)
1050  0180  D6 10       	sub	a,0x10
1051  0182  20 2D       	jr	NZ,l_spr_move_up_00107
1052  0184  2A 00 00    	ld	hl,(_sprite)
1053  0187  26 00       	ld	h,0x00
1054  0189  01 00 00    	ld	bc,_col
1055  018C  09          	add	hl,bc
1056  018D  7E          	ld	a,(hl)
1057  018E  F5          	push	af
1058  018F  33          	inc	sp
1059  0190  3A 00 00    	ld	a,(_tmp1)
1060  0193  F5          	push	af
1061  0194  33          	inc	sp
1062  0195  CD 1E 00    	call	_spr_check_map
1063  0198  F1          	pop	af
1064  0199  7C          	ld	a,h
1065  019A  B5          	or	a,l
1066  019B  28 14       	jr	Z,l_spr_move_up_00107
1067  019D  3A 00 00    	ld	a,(_sprite)
1068  01A0  D6 07       	sub	a,0x07
1069  01A2  20 09       	jr	NZ,l_spr_move_up_00102
1070  01A4  3A 07 00    	ld	a,(_state_a + 0x0007)
1071  01A7  07          	rlca
1072  01A8  38 03       	jr	C,l_spr_move_up_00102
1073  01AA  CD 00 00    	call	_player_hit_brick
1074  01AD              l_spr_move_up_00102:
1075  01AD  2E 01       	ld	l,0x01
1076  01AF  18 39       	jr	l_spr_move_up_00111
1077  01B1              l_spr_move_up_00107:
1078  01B1  2A 00 00    	ld	hl,(_sprite)
1079  01B4  26 00       	ld	h,0x00
1080  01B6  01 00 00    	ld	bc,_lin
1081  01B9  09          	add	hl,bc
1082  01BA  3A 00 00    	ld	a,(_tmp1)
1083  01BD  77          	ld	(hl),a
1084  01BE  2A 00 00    	ld	hl,(_sprite)
1085  01C1  26 00       	ld	h,0x00
1086  01C3  01 00 00    	ld	bc,_lin
1087  01C6  09          	add	hl,bc
1088  01C7  7E          	ld	a,(hl)
1089  01C8  5F          	ld	e,a
1090  01C9  B7          	or	a,a
1091  01CA  4D          	ld	c,l
1092  01CB  44          	ld	b,h
1093  01CC  28 05       	jr	Z,l_spr_move_up_00108
1094  01CE  3E 90       	ld	a,0x90
1095  01D0  93          	sub	a, e
1096  01D1  30 15       	jr	NC,l_spr_move_up_00109
1097  01D3              l_spr_move_up_00108:
1098  01D3  AF          	xor	a, a
1099  01D4  02          	ld	(bc), a
1100  01D5  3A 00 00    	ld	a,(_s_col0)
1101  01D8  F5          	push	af
1102  01D9  33          	inc	sp
1103  01DA  3A 00 00    	ld	a,(_s_lin0)
1104  01DD  57          	ld	d,a
1105  01DE  1E 12       	ld	e,0x12
1106  01E0  D5          	push	de
1107  01E1  CD 00 00    	call	_NIRVANAP_fillT_callee
1108  01E4  2E 01       	ld	l,0x01
1109  01E6  18 02       	jr	l_spr_move_up_00111
1110  01E8              l_spr_move_up_00109:
1111  01E8  2E 00       	ld	l,0x00
1112  01EA              l_spr_move_up_00111:
1113  01EA  C9          	ret
1114  01EB              	SECTION code_compiler
1115  01EB              ;	---------------------------------
1116  01EB              ; Function spr_move_down
1117  01EB              ; ---------------------------------
1118  01EB              _spr_move_down:
1119  01EB  2A 00 00    	ld	hl,(_sprite)
1120  01EE  26 00       	ld	h,0x00
1121  01F0  01 00 00    	ld	bc,_lin
1122  01F3  09          	add	hl,bc
1123  01F4  4E          	ld	c,(hl)
1124  01F5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1125  01F8  46          	ld	b, (hl)
1126  01F9  1E 02       	ld	e,0x02
1127  01FB  04          	inc	b
1128  01FC  18 02       	jr	l_spr_move_down_00116
1129  01FE              l_spr_move_down_00115:
1130  01FE  CB 23       	sla	e
1131  0200              l_spr_move_down_00116:
1132  0200  10 FC       	djnz	l_spr_move_down_00115
1133  0202  79          	ld	a, c
1134  0203  83          	add	a, e
1135  0204  32 00 00    	ld	(_tmp1),a
1136  0207  2A 00 00    	ld	hl,(_sprite)
1137  020A  26 00       	ld	h,0x00
1138  020C  01 00 00    	ld	bc,_col
1139  020F  09          	add	hl,bc
1140  0210  56          	ld	d, (hl)
1141  0211  3A 00 00    	ld	a,(_tmp1)
1142  0214  C6 10       	add	a,0x10
1143  0216  5F          	ld	e, a
1144  0217  D5          	push	de
1145  0218  CD 8A 00    	call	_spr_check_map_fall
1146  021B  F1          	pop	af
1147  021C  4D          	ld	c,l
1148  021D  44          	ld	b,h
1149  021E  2A 00 00    	ld	hl,(_sprite)
1150  0221  26 00       	ld	h,0x00
1151  0223  11 00 00    	ld	de,_lin
1152  0226  19          	add	hl,de
1153  0227  78          	ld	a,b
1154  0228  EB          	ex	de,hl
1155  0229  B1          	or	a,c
1156  022A  28 12       	jr	Z,l_spr_move_down_00102
1157  022C  3A 00 00    	ld	a,(_tmp1)
1158  022F  0F          	rrca
1159  0230  0F          	rrca
1160  0231  0F          	rrca
1161  0232  E6 1F       	and	a,0x1f
1162  0234  07          	rlca
1163  0235  07          	rlca
1164  0236  07          	rlca
1165  0237  E6 F8       	and	a,0xf8
1166  0239  12          	ld	(de), a
1167  023A  2E 01       	ld	l,0x01
1168  023C  18 23       	jr	l_spr_move_down_00105
1169  023E              l_spr_move_down_00102:
1170  023E  3A 00 00    	ld	a,(_tmp1)
1171  0241  12          	ld	(de), a
1172  0242  2A 00 00    	ld	hl,(_sprite)
1173  0245  26 00       	ld	h,0x00
1174  0247  01 00 00    	ld	bc,_lin
1175  024A  09          	add	hl,bc
1176  024B  5E          	ld	e,(hl)
1177  024C  3E 90       	ld	a,0x90
1178  024E  93          	sub	a,e
1179  024F  30 0E       	jr	NC,l_spr_move_down_00104
1180  0251  4D          	ld	c,l
1181  0252  44          	ld	b,h
1182  0253  21 00 00    	ld	hl,_s_state
1183  0256  CB 8E       	res	1, (hl)
1184  0258  3E 90       	ld	a,0x90
1185  025A  02          	ld	(bc), a
1186  025B  2E 01       	ld	l,0x01
1187  025D  18 02       	jr	l_spr_move_down_00105
1188  025F              l_spr_move_down_00104:
1189  025F  2E 00       	ld	l,0x00
1190  0261              l_spr_move_down_00105:
1191  0261  C9          	ret
1192  0262              	SECTION code_compiler
1193  0262              ;	---------------------------------
1194  0262              ; Function spr_move_horizontal
1195  0262              ; ---------------------------------
1196  0262              _spr_move_horizontal:
1197  0262  2A 00 00    	ld	hl,(_sprite)
1198  0265  26 00       	ld	h,0x00
1199  0267  01 00 00    	ld	bc,_state
1200  026A  09          	add	hl,bc
1201  026B  7E          	ld	a,(hl)
1202  026C  CB 57       	bit	2, a
1203  026E  28 05       	jr	Z,l_spr_move_horizontal_00104
1204  0270  CD 81 02    	call	_spr_move_right
1205  0273  18 0B       	jr	l_spr_move_horizontal_00106
1206  0275              l_spr_move_horizontal_00104:
1207  0275  CB 5F       	bit	3, a
1208  0277  28 05       	jr	Z,l_spr_move_horizontal_00105
1209  0279  CD 34 03    	call	_spr_move_left
1210  027C  18 02       	jr	l_spr_move_horizontal_00106
1211  027E              l_spr_move_horizontal_00105:
1212  027E  2E 00       	ld	l,0x00
1213  0280              l_spr_move_horizontal_00106:
1214  0280  C9          	ret
1215  0281              	SECTION code_compiler
1216  0281              ;	---------------------------------
1217  0281              ; Function spr_move_right
1218  0281              ; ---------------------------------
1219  0281              _spr_move_right:
1220  0281  01 00 00    	ld	bc,_colint+0
1221  0284  79          	ld	a, c
1222  0285  21 00 00    	ld	hl,_sprite
1223  0288  86          	add	a, (hl)
1224  0289  5F          	ld	e, a
1225  028A  78          	ld	a, b
1226  028B  CE 00       	adc	a,0x00
1227  028D  57          	ld	d, a
1228  028E  1A          	ld	a, (de)
1229  028F  3C          	inc	a
1230  0290  12          	ld	(de), a
1231  0291  79          	ld	a, c
1232  0292  86          	add	a, (hl)
1233  0293  5F          	ld	e, a
1234  0294  78          	ld	a, b
1235  0295  CE 00       	adc	a,0x00
1236  0297  57          	ld	d, a
1237  0298  1A          	ld	a, (de)
1238  0299  D6 04       	sub	a,0x04
1239  029B  C2 31 03    	jp	NZ,l_spr_move_right_00110
1240  029E  5E          	ld	e,(hl)
1241  029F  16 00       	ld	d,0x00
1242  02A1  21 00 00    	ld	hl,_lin
1243  02A4  19          	add	hl,de
1244  02A5  7E          	ld	a,(hl)
1245  02A6  32 00 00    	ld	(_s_lin1),a
1246  02A9  2A 00 00    	ld	hl,(_sprite)
1247  02AC  26 00       	ld	h,0x00
1248  02AE  11 00 00    	ld	de,_col
1249  02B1  19          	add	hl,de
1250  02B2  7E          	ld	a,(hl)
1251  02B3  FE 1E       	cp	a,0x1e
1252  02B5  30 06       	jr	NC,l_spr_move_right_00102
1253  02B7  3C          	inc	a
1254  02B8  32 00 00    	ld	(_s_col1),a
1255  02BB  18 05       	jr	l_spr_move_right_00103
1256  02BD              l_spr_move_right_00102:
1257  02BD  21 00 00    	ld	hl,_s_col1
1258  02C0  36 00       	ld	(hl),0x00
1259  02C2              l_spr_move_right_00103:
1260  02C2  3A 00 00    	ld	a,(_s_col1)
1261  02C5  C5          	push	bc
1262  02C6  F5          	push	af
1263  02C7  33          	inc	sp
1264  02C8  3A 00 00    	ld	a,(_s_lin1)
1265  02CB  F5          	push	af
1266  02CC  33          	inc	sp
1267  02CD  CD 1E 00    	call	_spr_check_map
1268  02D0  F1          	pop	af
1269  02D1  C1          	pop	bc
1270  02D2  7C          	ld	a,h
1271  02D3  B5          	or	a,l
1272  02D4  20 16       	jr	NZ,l_spr_move_right_00104
1273  02D6  3A 00 00    	ld	a,(_s_lin1)
1274  02D9  C6 0F       	add	a,0x0f
1275  02DB  57          	ld	d, a
1276  02DC  3A 00 00    	ld	a,(_s_col1)
1277  02DF  C5          	push	bc
1278  02E0  5A          	ld	e,d
1279  02E1  57          	ld	d,a
1280  02E2  D5          	push	de
1281  02E3  CD 1E 00    	call	_spr_check_map
1282  02E6  F1          	pop	af
1283  02E7  C1          	pop	bc
1284  02E8  7C          	ld	a,h
1285  02E9  B5          	or	a,l
1286  02EA  28 1D       	jr	Z,l_spr_move_right_00105
1287  02EC              l_spr_move_right_00104:
1288  02EC  79          	ld	a, c
1289  02ED  21 00 00    	ld	hl,_sprite
1290  02F0  86          	add	a, (hl)
1291  02F1  5F          	ld	e, a
1292  02F2  78          	ld	a, b
1293  02F3  CE 00       	adc	a,0x00
1294  02F5  57          	ld	d, a
1295  02F6  1A          	ld	a, (de)
1296  02F7  C6 FF       	add	a,0xff
1297  02F9  12          	ld	(de), a
1298  02FA  79          	ld	a, c
1299  02FB  86          	add	a, (hl)
1300  02FC  4F          	ld	c, a
1301  02FD  78          	ld	a, b
1302  02FE  CE 00       	adc	a,0x00
1303  0300  47          	ld	b, a
1304  0301  0A          	ld	a, (bc)
1305  0302  C6 FF       	add	a,0xff
1306  0304  02          	ld	(bc), a
1307  0305  2E 01       	ld	l,0x01
1308  0307  18 2A       	jr	l_spr_move_right_00111
1309  0309              l_spr_move_right_00105:
1310  0309  2A 00 00    	ld	hl,(_sprite)
1311  030C  26 00       	ld	h,0x00
1312  030E  11 00 00    	ld	de,_col
1313  0311  19          	add	hl,de
1314  0312  34          	inc	(hl)
1315  0313  79          	ld	a,c
1316  0314  21 00 00    	ld	hl,_sprite
1317  0317  86          	add	a, (hl)
1318  0318  4F          	ld	c, a
1319  0319  78          	ld	a, b
1320  031A  CE 00       	adc	a,0x00
1321  031C  47          	ld	b, a
1322  031D  AF          	xor	a, a
1323  031E  02          	ld	(bc), a
1324  031F  3E 00       	ld	a, +((_col) & 0xFF)
1325  0321  86          	add	a, (hl)
1326  0322  4F          	ld	c, a
1327  0323  3E 00       	ld	a, +((_col) / 256)
1328  0325  CE 00       	adc	a,0x00
1329  0327  47          	ld	b, a
1330  0328  0A          	ld	a, (bc)
1331  0329  5F          	ld	e, a
1332  032A  3E 1E       	ld	a,0x1e
1333  032C  93          	sub	a, e
1334  032D  30 02       	jr	NC,l_spr_move_right_00110
1335  032F  AF          	xor	a, a
1336  0330  02          	ld	(bc), a
1337  0331              l_spr_move_right_00110:
1338  0331  2E 00       	ld	l,0x00
1339  0333              l_spr_move_right_00111:
1340  0333  C9          	ret
1341  0334              	SECTION code_compiler
1342  0334              ;	---------------------------------
1343  0334              ; Function spr_move_left
1344  0334              ; ---------------------------------
1345  0334              _spr_move_left:
1346  0334  01 00 00    	ld	bc,_colint+0
1347  0337  79          	ld	a, c
1348  0338  21 00 00    	ld	hl,_sprite
1349  033B  86          	add	a, (hl)
1350  033C  5F          	ld	e, a
1351  033D  78          	ld	a, b
1352  033E  CE 00       	adc	a,0x00
1353  0340  57          	ld	d, a
1354  0341  1A          	ld	a, (de)
1355  0342  C6 FF       	add	a,0xff
1356  0344  12          	ld	(de), a
1357  0345  79          	ld	a, c
1358  0346  86          	add	a, (hl)
1359  0347  5F          	ld	e, a
1360  0348  78          	ld	a, b
1361  0349  CE 00       	adc	a,0x00
1362  034B  57          	ld	d, a
1363  034C  1A          	ld	a, (de)
1364  034D  3C          	inc	a
1365  034E  C2 E5 03    	jp	NZ,l_spr_move_left_00110
1366  0351  5E          	ld	e,(hl)
1367  0352  16 00       	ld	d,0x00
1368  0354  21 00 00    	ld	hl,_lin
1369  0357  19          	add	hl,de
1370  0358  7E          	ld	a,(hl)
1371  0359  32 00 00    	ld	(_s_lin1),a
1372  035C  2A 00 00    	ld	hl,(_sprite)
1373  035F  26 00       	ld	h,0x00
1374  0361  11 00 00    	ld	de,_col
1375  0364  19          	add	hl,de
1376  0365  7E          	ld	a,(hl)
1377  0366  B7          	or	a, a
1378  0367  28 07       	jr	Z,l_spr_move_left_00102
1379  0369  C6 FF       	add	a,0xff
1380  036B  32 00 00    	ld	(_s_col1),a
1381  036E  18 05       	jr	l_spr_move_left_00103
1382  0370              l_spr_move_left_00102:
1383  0370  21 00 00    	ld	hl,_s_col1
1384  0373  36 1E       	ld	(hl),0x1e
1385  0375              l_spr_move_left_00103:
1386  0375  3A 00 00    	ld	a,(_s_col1)
1387  0378  C5          	push	bc
1388  0379  F5          	push	af
1389  037A  33          	inc	sp
1390  037B  3A 00 00    	ld	a,(_s_lin1)
1391  037E  F5          	push	af
1392  037F  33          	inc	sp
1393  0380  CD 1E 00    	call	_spr_check_map
1394  0383  F1          	pop	af
1395  0384  C1          	pop	bc
1396  0385  7C          	ld	a,h
1397  0386  B5          	or	a,l
1398  0387  20 16       	jr	NZ,l_spr_move_left_00104
1399  0389  3A 00 00    	ld	a,(_s_lin1)
1400  038C  C6 0F       	add	a,0x0f
1401  038E  57          	ld	d, a
1402  038F  3A 00 00    	ld	a,(_s_col1)
1403  0392  C5          	push	bc
1404  0393  5A          	ld	e,d
1405  0394  57          	ld	d,a
1406  0395  D5          	push	de
1407  0396  CD 1E 00    	call	_spr_check_map
1408  0399  F1          	pop	af
1409  039A  C1          	pop	bc
1410  039B  7C          	ld	a,h
1411  039C  B5          	or	a,l
1412  039D  28 1B       	jr	Z,l_spr_move_left_00105
1413  039F              l_spr_move_left_00104:
1414  039F  79          	ld	a, c
1415  03A0  21 00 00    	ld	hl,_sprite
1416  03A3  86          	add	a, (hl)
1417  03A4  5F          	ld	e, a
1418  03A5  78          	ld	a, b
1419  03A6  CE 00       	adc	a,0x00
1420  03A8  57          	ld	d, a
1421  03A9  1A          	ld	a, (de)
1422  03AA  3C          	inc	a
1423  03AB  12          	ld	(de), a
1424  03AC  79          	ld	a, c
1425  03AD  86          	add	a, (hl)
1426  03AE  4F          	ld	c, a
1427  03AF  78          	ld	a, b
1428  03B0  CE 00       	adc	a,0x00
1429  03B2  47          	ld	b, a
1430  03B3  0A          	ld	a, (bc)
1431  03B4  3C          	inc	a
1432  03B5  02          	ld	(bc), a
1433  03B6  2E 01       	ld	l,0x01
1434  03B8  18 2D       	jr	l_spr_move_left_00111
1435  03BA              l_spr_move_left_00105:
1436  03BA  2A 00 00    	ld	hl,(_sprite)
1437  03BD  26 00       	ld	h,0x00
1438  03BF  11 00 00    	ld	de,_col
1439  03C2  19          	add	hl,de
1440  03C3  7E          	ld	a,(hl)
1441  03C4  EB          	ex	de,hl
1442  03C5  C6 FF       	add	a,0xff
1443  03C7  12          	ld	(de),a
1444  03C8  79          	ld	a,c
1445  03C9  21 00 00    	ld	hl,_sprite
1446  03CC  86          	add	a, (hl)
1447  03CD  4F          	ld	c, a
1448  03CE  78          	ld	a, b
1449  03CF  CE 00       	adc	a,0x00
1450  03D1  47          	ld	b, a
1451  03D2  3E 03       	ld	a,0x03
1452  03D4  02          	ld	(bc), a
1453  03D5  3E 00       	ld	a, +((_col) & 0xFF)
1454  03D7  86          	add	a, (hl)
1455  03D8  4F          	ld	c, a
1456  03D9  3E 00       	ld	a, +((_col) / 256)
1457  03DB  CE 00       	adc	a,0x00
1458  03DD  47          	ld	b, a
1459  03DE  0A          	ld	a, (bc)
1460  03DF  3C          	inc	a
1461  03E0  20 03       	jr	NZ,l_spr_move_left_00110
1462  03E2  3E 1E       	ld	a,0x1e
1463  03E4  02          	ld	(bc), a
1464  03E5              l_spr_move_left_00110:
1465  03E5  2E 00       	ld	l,0x00
1466  03E7              l_spr_move_left_00111:
1467  03E7  C9          	ret
1468  03E8              	SECTION code_compiler
1469  03E8              ;	---------------------------------
1470  03E8              ; Function spr_redraw
1471  03E8              ; ---------------------------------
1472  03E8              _spr_redraw:
1473  03E8  2A 00 00    	ld	hl,(_sprite)
1474  03EB  26 00       	ld	h,0x00
1475  03ED  01 00 00    	ld	bc,_tile
1476  03F0  09          	add	hl,bc
1477  03F1  4E          	ld	c, (hl)
1478  03F2  3A 00 00    	ld	a,(_sprite)
1479  03F5  5F          	ld	e,a
1480  03F6  16 00       	ld	d,0x00
1481  03F8  21 00 00    	ld	hl,_colint
1482  03FB  19          	add	hl,de
1483  03FC  7E          	ld	a,(hl)
1484  03FD  81          	add	a,c
1485  03FE  32 00 00    	ld	(_s_tile1),a
1486  0401  2A 00 00    	ld	hl,(_sprite)
1487  0404  26 00       	ld	h,0x00
1488  0406  01 00 00    	ld	bc,_col
1489  0409  09          	add	hl,bc
1490  040A  7E          	ld	a,(hl)
1491  040B  32 00 00    	ld	(_s_col1),a
1492  040E  2A 00 00    	ld	hl,(_sprite)
1493  0411  26 00       	ld	h,0x00
1494  0413  01 00 00    	ld	bc,_lin
1495  0416  09          	add	hl,bc
1496  0417  7E          	ld	a,(hl)
1497  0418  32 00 00    	ld	(_s_lin1),a
1498  041B  21 00 00    	ld	hl,_s_lin0
1499  041E  96          	sub	a, (hl)
1500  041F  20 09       	jr	NZ,l_spr_redraw_00105
1501  0421  3A 00 00    	ld	a,(_s_col1)
1502  0424  21 00 00    	ld	hl,_s_col0
1503  0427  96          	sub	a, (hl)
1504  0428  28 2E       	jr	Z,l_spr_redraw_00106
1505  042A              l_spr_redraw_00105:
1506  042A  3E 10       	ld	a,0x10
1507  042C  21 00 00    	ld	hl,_s_lin0
1508  042F  96          	sub	a, (hl)
1509  0430  38 0E       	jr	C,l_spr_redraw_00102
1510  0432  F3          	di
1511  0433  3A 00 00    	ld	a,(_s_col0)
1512  0436  F5          	push	af
1513  0437  33          	inc	sp
1514  0438  21 49 08    	ld	hl,0x0849
1515  043B  E5          	push	hl
1516  043C  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1517  043F  FB          	ei
1518  0440              l_spr_redraw_00102:
1519  0440  2A FF FF    	ld	hl,(_s_col1 - 1)
1520  0443  3A 00 00    	ld	a,(_s_lin1)
1521  0446  6F          	ld	l,a
1522  0447  E5          	push	hl
1523  0448  2A FF FF    	ld	hl,(_s_tile1 - 1)
1524  044B  3A 00 00    	ld	a,(_sprite)
1525  044E  6F          	ld	l,a
1526  044F  E5          	push	hl
1527  0450  CD 00 00    	call	_NIRVANAP_spriteT_callee
1528  0453  CD 58 0A    	call	_spr_back_clr
1529  0456  18 1C       	jr	l_spr_redraw_00107
1530  0458              l_spr_redraw_00106:
1531  0458  3A 00 00    	ld	a,(_s_tile1)
1532  045B  21 00 00    	ld	hl,_s_tile0
1533  045E  96          	sub	a, (hl)
1534  045F  28 13       	jr	Z,l_spr_redraw_00107
1535  0461  2A FF FF    	ld	hl,(_s_col1 - 1)
1536  0464  3A 00 00    	ld	a,(_s_lin1)
1537  0467  6F          	ld	l,a
1538  0468  E5          	push	hl
1539  0469  2A FF FF    	ld	hl,(_s_tile1 - 1)
1540  046C  3A 00 00    	ld	a,(_sprite)
1541  046F  6F          	ld	l,a
1542  0470  E5          	push	hl
1543  0471  CD 00 00    	call	_NIRVANAP_spriteT_callee
1544  0474              l_spr_redraw_00107:
1545  0474  2E 00       	ld	l,0x00
1546  0476  C9          	ret
1547  0477              	SECTION code_compiler
1548  0477              ;	---------------------------------
1549  0477              ; Function spr_killed
1550  0477              ; ---------------------------------
1551  0477              _spr_killed:
1552  0477  45          	ld	b,l
1553  0478  11 00 00    	ld	de,_class+0
1554  047B  26 00       	ld	h,0x00
1555  047D  19          	add	hl, de
1556  047E  7E          	ld	a, (hl)
1557  047F  FE 07       	cp	a,0x07
1558  0481  28 12       	jr	Z,l_spr_killed_00101
1559  0483  FE 08       	cp	a,0x08
1560  0485  28 24       	jr	Z,l_spr_killed_00103
1561  0487  FE 0A       	cp	a,0x0a
1562  0489  28 2B       	jr	Z,l_spr_killed_00104
1563  048B  FE 0B       	cp	a,0x0b
1564  048D  28 39       	jr	Z,l_spr_killed_00105
1565  048F  D6 0C       	sub	a,0x0c
1566  0491  28 0D       	jr	Z,l_spr_killed_00102
1567  0493  18 45       	jr	l_spr_killed_00106
1568  0495              l_spr_killed_00101:
1569  0495  3E 81       	ld	a,0x81
1570  0497  48          	ld	c,b
1571  0498  47          	ld	b,a
1572  0499  C5          	push	bc
1573  049A  CD E6 04    	call	_spr_anim_kill
1574  049D  F1          	pop	af
1575  049E  18 43       	jr	l_spr_killed_00107
1576  04A0              l_spr_killed_00102:
1577  04A0  3E BA       	ld	a,0xba
1578  04A2  48          	ld	c,b
1579  04A3  47          	ld	b,a
1580  04A4  C5          	push	bc
1581  04A5  CD E6 04    	call	_spr_anim_kill
1582  04A8  F1          	pop	af
1583  04A9  18 38       	jr	l_spr_killed_00107
1584  04AB              l_spr_killed_00103:
1585  04AB  3E BA       	ld	a,0xba
1586  04AD  48          	ld	c,b
1587  04AE  47          	ld	b,a
1588  04AF  C5          	push	bc
1589  04B0  CD E6 04    	call	_spr_anim_kill
1590  04B3  F1          	pop	af
1591  04B4  18 2D       	jr	l_spr_killed_00107
1592  04B6              l_spr_killed_00104:
1593  04B6  C5          	push	bc
1594  04B7  68          	ld	l, b
1595  04B8  CD 19 06    	call	_spr_tile
1596  04BB  C1          	pop	bc
1597  04BC  55          	ld	d,l
1598  04BD  14          	inc	d
1599  04BE  14          	inc	d
1600  04BF  14          	inc	d
1601  04C0  58          	ld	e,b
1602  04C1  D5          	push	de
1603  04C2  CD E6 04    	call	_spr_anim_kill
1604  04C5  F1          	pop	af
1605  04C6  18 1B       	jr	l_spr_killed_00107
1606  04C8              l_spr_killed_00105:
1607  04C8  C5          	push	bc
1608  04C9  68          	ld	l, b
1609  04CA  CD 19 06    	call	_spr_tile
1610  04CD  C1          	pop	bc
1611  04CE  55          	ld	d,l
1612  04CF  14          	inc	d
1613  04D0  14          	inc	d
1614  04D1  14          	inc	d
1615  04D2  58          	ld	e,b
1616  04D3  D5          	push	de
1617  04D4  CD E6 04    	call	_spr_anim_kill
1618  04D7  F1          	pop	af
1619  04D8  18 09       	jr	l_spr_killed_00107
1620  04DA              l_spr_killed_00106:
1621  04DA  3E BA       	ld	a,0xba
1622  04DC  48          	ld	c,b
1623  04DD  47          	ld	b,a
1624  04DE  C5          	push	bc
1625  04DF  CD E6 04    	call	_spr_anim_kill
1626  04E2  F1          	pop	af
1627  04E3              l_spr_killed_00107:
1628  04E3  2E 00       	ld	l,0x00
1629  04E5  C9          	ret
1630  04E6              	SECTION code_compiler
1631  04E6              ;	---------------------------------
1632  04E6              ; Function spr_anim_kill
1633  04E6              ; ---------------------------------
1634  04E6              _spr_anim_kill:
1635  04E6  CD 00 00    	call	___sdcc_enter_ix
1636  04E9  F5          	push	af
1637  04EA  DD 6E 04    	ld	l,(ix+4)
1638  04ED  26 00       	ld	h,0x00
1639  04EF  29          	add	hl,hl
1640  04F0  4D          	ld	c,l
1641  04F1  44          	ld	b,h
1642  04F2  21 00 00    	ld	hl,_last_time
1643  04F5  09          	add	hl,bc
1644  04F6  E3          	ex	(sp), hl
1645  04F7  E1          	pop	hl
1646  04F8  ED 5B 00 00 	ld	de,(_curr_time)
1647  04FC  E5          	push	hl
1648  04FD  73          	ld	(hl), e
1649  04FE  23          	inc	hl
1650  04FF  72          	ld	(hl), d
1651  0500  2A 00 00    	ld	hl,(_curr_time)
1652  0503  5D          	ld	e,l
1653  0504  21 00 00    	ld	hl,_spr_timer
1654  0507  09          	add	hl, bc
1655  0508  4E          	ld	c, (hl)
1656  0509  7B          	ld	a, e
1657  050A  91          	sub	a, c
1658  050B  32 00 00    	ld	(_tmp0),a
1659  050E  21 00 00    	ld	hl,_tmp
1660  0511  36 02       	ld	(hl),0x02
1661  0513  3E 28       	ld	a,0x28
1662  0515  21 00 00    	ld	hl,_tmp0
1663  0518  96          	sub	a, (hl)
1664  0519  38 05       	jr	C,l_spr_anim_kill_00102
1665  051B  21 00 00    	ld	hl,_tmp
1666  051E  36 01       	ld	(hl),0x01
1667  0520              l_spr_anim_kill_00102:
1668  0520  3E 14       	ld	a,0x14
1669  0522  21 00 00    	ld	hl,_tmp0
1670  0525  96          	sub	a, (hl)
1671  0526  38 05       	jr	C,l_spr_anim_kill_00104
1672  0528  21 00 00    	ld	hl,_tmp
1673  052B  36 00       	ld	(hl),0x00
1674  052D              l_spr_anim_kill_00104:
1675  052D  3E 3C       	ld	a,0x3c
1676  052F  21 00 00    	ld	hl,_tmp0
1677  0532  96          	sub	a, (hl)
1678  0533  38 2F       	jr	C,l_spr_anim_kill_00106
1679  0535  3E 00       	ld	a, +((_col) & 0xFF)
1680  0537  DD 86 04    	add	a,(ix+4)
1681  053A  4F          	ld	c, a
1682  053B  3E 00       	ld	a, +((_col) / 256)
1683  053D  CE 00       	adc	a,0x00
1684  053F  47          	ld	b, a
1685  0540  0A          	ld	a, (bc)
1686  0541  47          	ld	b, a
1687  0542  3E 00       	ld	a, +((_lin) & 0xFF)
1688  0544  DD 86 04    	add	a,(ix+4)
1689  0547  5F          	ld	e, a
1690  0548  3E 00       	ld	a, +((_lin) / 256)
1691  054A  CE 00       	adc	a,0x00
1692  054C  57          	ld	d, a
1693  054D  1A          	ld	a, (de)
1694  054E  57          	ld	d, a
1695  054F  DD 7E 05    	ld	a,(ix+5)
1696  0552  21 00 00    	ld	hl,_tmp
1697  0555  86          	add	a, (hl)
1698  0556  4A          	ld	c, d
1699  0557  C5          	push	bc
1700  0558  F5          	push	af
1701  0559  33          	inc	sp
1702  055A  DD 7E 04    	ld	a,(ix+4)
1703  055D  F5          	push	af
1704  055E  33          	inc	sp
1705  055F  CD 00 00    	call	_NIRVANAP_spriteT_callee
1706  0562  18 06       	jr	l_spr_anim_kill_00108
1707  0564              l_spr_anim_kill_00106:
1708  0564  DD 6E 04    	ld	l,(ix+4)
1709  0567  CD 6E 05    	call	_spr_destroy
1710  056A              l_spr_anim_kill_00108:
1711  056A  F1          	pop	af
1712  056B  DD E1       	pop	ix
1713  056D  C9          	ret
1714  056E              	SECTION code_compiler
1715  056E              ;	---------------------------------
1716  056E              ; Function spr_destroy
1717  056E              ; ---------------------------------
1718  056E              _spr_destroy:
1719  056E  CD 00 00    	call	___sdcc_enter_ix
1720  0571  F5          	push	af
1721  0572  4D          	ld	c, l
1722  0573  21 00 00    	ld	hl,_spr_count
1723  0576  35          	dec	(hl)
1724  0577  3E 00       	ld	a, +((_lin) & 0xFF)
1725  0579  81          	add	a, c
1726  057A  DD 77 FE    	ld	(ix-2),a
1727  057D  3E 00       	ld	a, +((_lin) / 256)
1728  057F  CE 00       	adc	a,0x00
1729  0581  DD 77 FF    	ld	(ix-1),a
1730  0584  E1          	pop	hl
1731  0585  7E          	ld	a,(hl)
1732  0586  E5          	push	hl
1733  0587  32 00 00    	ld	(_s_lin0),a
1734  058A  3E 00       	ld	a, +((_col) & 0xFF)
1735  058C  81          	add	a, c
1736  058D  5F          	ld	e, a
1737  058E  3E 00       	ld	a, +((_col) / 256)
1738  0590  CE 00       	adc	a,0x00
1739  0592  57          	ld	d, a
1740  0593  1A          	ld	a, (de)
1741  0594  32 00 00    	ld	(_s_col0),a
1742  0597  06 00       	ld	b,0x00
1743  0599  21 00 00    	ld	hl,_tile
1744  059C  09          	add	hl, bc
1745  059D  AF          	xor	a,a
1746  059E  77          	ld	(hl),a
1747  059F  E1          	pop	hl
1748  05A0  12          	ld	(de),a
1749  05A1  E5          	push	hl
1750  05A2  36 00       	ld	(hl),0x00
1751  05A4  11 00 00    	ld	de,_class+0
1752  05A7  69          	ld	l,c
1753  05A8  26 00       	ld	h,0x00
1754  05AA  19          	add	hl, de
1755  05AB  36 00       	ld	(hl),0x00
1756  05AD  11 00 00    	ld	de,_state+0
1757  05B0  69          	ld	l,c
1758  05B1  26 00       	ld	h,0x00
1759  05B3  19          	add	hl, de
1760  05B4  36 00       	ld	(hl),0x00
1761  05B6  11 00 00    	ld	de,_state_a+0
1762  05B9  69          	ld	l,c
1763  05BA  26 00       	ld	h,0x00
1764  05BC  19          	add	hl, de
1765  05BD  36 00       	ld	(hl),0x00
1766  05BF  21 00 00    	ld	hl,0x0000
1767  05C2  E5          	push	hl
1768  05C3  AF          	xor	a, a
1769  05C4  F5          	push	af
1770  05C5  33          	inc	sp
1771  05C6  79          	ld	a, c
1772  05C7  F5          	push	af
1773  05C8  33          	inc	sp
1774  05C9  CD 00 00    	call	_NIRVANAP_spriteT_callee
1775  05CC  76          	halt
1776  05CD  3A 00 00    	ld	a,(_s_col0)
1777  05D0  F5          	push	af
1778  05D1  33          	inc	sp
1779  05D2  3A 00 00    	ld	a,(_s_lin0)
1780  05D5  57          	ld	d,a
1781  05D6  1E 49       	ld	e,0x49
1782  05D8  D5          	push	de
1783  05D9  CD 00 00    	call	_NIRVANAP_fillT_callee
1784  05DC  F1          	pop	af
1785  05DD  DD E1       	pop	ix
1786  05DF  C9          	ret
1787  05E0              	SECTION code_compiler
1788  05E0              ;	---------------------------------
1789  05E0              ; Function spr_set_fall
1790  05E0              ; ---------------------------------
1791  05E0              _spr_set_fall:
1792  05E0  21 00 00    	ld	hl,_s_state
1793  05E3  7E          	ld	a,(hl)
1794  05E4  E6 FE       	and	a,0xfe
1795  05E6  F6 02       	or	a,0x02
1796  05E8  77          	ld	(hl),a
1797  05E9  21 00 00    	ld	hl,_sprite
1798  05EC  7E          	ld	a, (hl)
1799  05ED  D6 06       	sub	a,0x06
1800  05EF  38 0E       	jr	C,l_spr_set_fall_00104
1801  05F1  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1802  05F3  86          	add	a, (hl)
1803  05F4  4F          	ld	c, a
1804  05F5  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1805  05F7  CE 00       	adc	a,0x00
1806  05F9  47          	ld	b, a
1807  05FA  3E 02       	ld	a,0x02
1808  05FC  02          	ld	(bc), a
1809  05FD  18 19       	jr	l_spr_set_fall_00106
1810  05FF              l_spr_set_fall_00104:
1811  05FF  2A 00 00    	ld	hl,(_sprite)
1812  0602  26 00       	ld	h,0x00
1813  0604  01 00 00    	ld	bc,_class
1814  0607  09          	add	hl,bc
1815  0608  4E          	ld	c,(hl)
1816  0609  3E 08       	ld	a,0x08
1817  060B  91          	sub	a,c
1818  060C  D8          	ret	C
1819  060D  2A 00 00    	ld	hl,(_sprite)
1820  0610  26 00       	ld	h,0x00
1821  0612  01 00 00    	ld	bc,_sprite_speed_alt
1822  0615  09          	add	hl,bc
1823  0616  36 01       	ld	(hl),0x01
1824  0618              l_spr_set_fall_00106:
1825  0618  C9          	ret
1826  0619              	SECTION code_compiler
1827  0619              ;	---------------------------------
1828  0619              ; Function spr_tile
1829  0619              ; ---------------------------------
1830  0619              _spr_tile:
1831  0619  45          	ld	b, l
1832  061A  0E 00       	ld	c,0x00
1833  061C  11 00 00    	ld	de,_state+0
1834  061F  68          	ld	l,b
1835  0620  26 00       	ld	h,0x00
1836  0622  19          	add	hl, de
1837  0623  5E          	ld	e, (hl)
1838  0624  CB 73       	bit	6, e
1839  0626  28 02       	jr	Z,l_spr_tile_00102
1840  0628  0E 03       	ld	c,0x03
1841  062A              l_spr_tile_00102:
1842  062A  CB 63       	bit	4, e
1843  062C  28 02       	jr	Z,l_spr_tile_00104
1844  062E  0E 06       	ld	c,0x06
1845  0630              l_spr_tile_00104:
1846  0630  11 00 00    	ld	de,_class+0
1847  0633  68          	ld	l,b
1848  0634  26 00       	ld	h,0x00
1849  0636  19          	add	hl, de
1850  0637  5E          	ld	e, (hl)
1851  0638  3E 0C       	ld	a,0x0c
1852  063A  93          	sub	a, e
1853  063B  DA C8 06    	jp	C, l_spr_tile_00117
1854  063E  16 00       	ld	d,0x00
1855  0640  21 47 06    	ld	hl,l_spr_tile_00134
1856  0643  19          	add	hl, de
1857  0644  19          	add	hl, de
1858  0645  19          	add	hl, de
1859  0646  E9          	jp	(hl)
1860  0647              l_spr_tile_00134:
1861  0647  C3 C8 06    	jp	l_spr_tile_00117
1862  064A  C3 6E 06    	jp	l_spr_tile_00105
1863  064D  C3 7E 06    	jp	l_spr_tile_00106
1864  0650  C3 8E 06    	jp	l_spr_tile_00107
1865  0653  C3 9E 06    	jp	l_spr_tile_00108
1866  0656  C3 A4 06    	jp	l_spr_tile_00109
1867  0659  C3 AA 06    	jp	l_spr_tile_00110
1868  065C  C3 B0 06    	jp	l_spr_tile_00111
1869  065F  C3 B4 06    	jp	l_spr_tile_00112
1870  0662  C3 BC 06    	jp	l_spr_tile_00114
1871  0665  C3 C0 06    	jp	l_spr_tile_00115
1872  0668  C3 C4 06    	jp	l_spr_tile_00116
1873  066B  C3 B8 06    	jp	l_spr_tile_00113
1874  066E              l_spr_tile_00105:
1875  066E  3E 03       	ld	a,0x03
1876  0670  48          	ld	c,b
1877  0671  47          	ld	b,a
1878  0672  C5          	push	bc
1879  0673  3E 30       	ld	a,0x30
1880  0675  F5          	push	af
1881  0676  33          	inc	sp
1882  0677  CD CB 06    	call	_spr_tile_dir
1883  067A  F1          	pop	af
1884  067B  33          	inc	sp
1885  067C  18 4C       	jr	l_spr_tile_00118
1886  067E              l_spr_tile_00106:
1887  067E  3E 03       	ld	a,0x03
1888  0680  48          	ld	c,b
1889  0681  47          	ld	b,a
1890  0682  C5          	push	bc
1891  0683  3E 3C       	ld	a,0x3c
1892  0685  F5          	push	af
1893  0686  33          	inc	sp
1894  0687  CD CB 06    	call	_spr_tile_dir
1895  068A  F1          	pop	af
1896  068B  33          	inc	sp
1897  068C  18 3C       	jr	l_spr_tile_00118
1898  068E              l_spr_tile_00107:
1899  068E  3E 03       	ld	a,0x03
1900  0690  48          	ld	c,b
1901  0691  47          	ld	b,a
1902  0692  C5          	push	bc
1903  0693  3E 48       	ld	a,0x48
1904  0695  F5          	push	af
1905  0696  33          	inc	sp
1906  0697  CD CB 06    	call	_spr_tile_dir
1907  069A  F1          	pop	af
1908  069B  33          	inc	sp
1909  069C  18 2C       	jr	l_spr_tile_00118
1910  069E              l_spr_tile_00108:
1911  069E  79          	ld	a, c
1912  069F  C6 54       	add	a,0x54
1913  06A1  6F          	ld	l, a
1914  06A2  18 26       	jr	l_spr_tile_00118
1915  06A4              l_spr_tile_00109:
1916  06A4  79          	ld	a, c
1917  06A5  C6 60       	add	a,0x60
1918  06A7  6F          	ld	l, a
1919  06A8  18 20       	jr	l_spr_tile_00118
1920  06AA              l_spr_tile_00110:
1921  06AA  79          	ld	a, c
1922  06AB  C6 6C       	add	a,0x6c
1923  06AD  6F          	ld	l, a
1924  06AE  18 1A       	jr	l_spr_tile_00118
1925  06B0              l_spr_tile_00111:
1926  06B0  2E 7B       	ld	l,0x7b
1927  06B2  18 16       	jr	l_spr_tile_00118
1928  06B4              l_spr_tile_00112:
1929  06B4  2E B4       	ld	l,0xb4
1930  06B6  18 12       	jr	l_spr_tile_00118
1931  06B8              l_spr_tile_00113:
1932  06B8  2E B7       	ld	l,0xb7
1933  06BA  18 0E       	jr	l_spr_tile_00118
1934  06BC              l_spr_tile_00114:
1935  06BC  2E 78       	ld	l,0x78
1936  06BE  18 0A       	jr	l_spr_tile_00118
1937  06C0              l_spr_tile_00115:
1938  06C0  2E 90       	ld	l,0x90
1939  06C2  18 06       	jr	l_spr_tile_00118
1940  06C4              l_spr_tile_00116:
1941  06C4  2E 96       	ld	l,0x96
1942  06C6  18 02       	jr	l_spr_tile_00118
1943  06C8              l_spr_tile_00117:
1944  06C8  2E 00       	ld	l,0x00
1945  06CA              l_spr_tile_00118:
1946  06CA  C9          	ret
1947  06CB              	SECTION code_compiler
1948  06CB              ;	---------------------------------
1949  06CB              ; Function spr_tile_dir
1950  06CB              ; ---------------------------------
1951  06CB              _spr_tile_dir:
1952  06CB  CD 00 00    	call	___sdcc_enter_ix
1953  06CE  3E 00       	ld	a, +((_state) & 0xFF)
1954  06D0  DD 86 05    	add	a,(ix+5)
1955  06D3  4F          	ld	c, a
1956  06D4  3E 00       	ld	a, +((_state) / 256)
1957  06D6  CE 00       	adc	a,0x00
1958  06D8  47          	ld	b, a
1959  06D9  0A          	ld	a, (bc)
1960  06DA  4F          	ld	c,a
1961  06DB  CB 67       	bit	4,a
1962  06DD  28 08       	jr	Z,l_spr_tile_dir_00102
1963  06DF  DD 7E 04    	ld	a,(ix+4)
1964  06E2  C6 06       	add	a,0x06
1965  06E4  6F          	ld	l, a
1966  06E5  18 42       	jr	l_spr_tile_dir_00113
1967  06E7              l_spr_tile_dir_00102:
1968  06E7  3E 00       	ld	a, +((_state_a) & 0xFF)
1969  06E9  DD 86 05    	add	a,(ix+5)
1970  06EC  5F          	ld	e, a
1971  06ED  3E 00       	ld	a, +((_state_a) / 256)
1972  06EF  CE 00       	adc	a,0x00
1973  06F1  57          	ld	d, a
1974  06F2  1A          	ld	a, (de)
1975  06F3  47          	ld	b,a
1976  06F4  CB 4F       	bit	1,a
1977  06F6  28 08       	jr	Z,l_spr_tile_dir_00104
1978  06F8  DD 7E 04    	ld	a,(ix+4)
1979  06FB  C6 09       	add	a,0x09
1980  06FD  6F          	ld	l, a
1981  06FE  18 29       	jr	l_spr_tile_dir_00113
1982  0700              l_spr_tile_dir_00104:
1983  0700  CB 51       	bit	2, c
1984  0702  28 05       	jr	Z,l_spr_tile_dir_00106
1985  0704  DD 6E 04    	ld	l,(ix+4)
1986  0707  18 20       	jr	l_spr_tile_dir_00113
1987  0709              l_spr_tile_dir_00106:
1988  0709  DD 7E 04    	ld	a,(ix+4)
1989  070C  DD 86 06    	add	a,(ix+6)
1990  070F  CB 59       	bit	3, c
1991  0711  28 03       	jr	Z,l_spr_tile_dir_00108
1992  0713  6F          	ld	l, a
1993  0714  18 13       	jr	l_spr_tile_dir_00113
1994  0716              l_spr_tile_dir_00108:
1995  0716  CB 60       	bit	4, b
1996  0718  28 05       	jr	Z,l_spr_tile_dir_00110
1997  071A  DD 6E 04    	ld	l,(ix+4)
1998  071D  18 0A       	jr	l_spr_tile_dir_00113
1999  071F              l_spr_tile_dir_00110:
2000  071F  CB 58       	bit	3, b
2001  0721  28 03       	jr	Z,l_spr_tile_dir_00112
2002  0723  6F          	ld	l, a
2003  0724  18 03       	jr	l_spr_tile_dir_00113
2004  0726              l_spr_tile_dir_00112:
2005  0726  DD 6E 04    	ld	l,(ix+4)
2006  0729              l_spr_tile_dir_00113:
2007  0729  DD E1       	pop	ix
2008  072B  C9          	ret
2009  072C              	SECTION code_compiler
2010  072C              ;	---------------------------------
2011  072C              ; Function spr_draw_background
2012  072C              ; ---------------------------------
2013  072C              _spr_draw_background:
2014  072C  76          	halt
2015  072D  21 10 00    	ld	hl,0x0010
2016  0730  22 00 00    	ld	(_index1),hl
2017  0733  21 00 00    	ld	hl,_s_lin1
2018  0736  36 00       	ld	(hl),0x00
2019  0738  21 00 00    	ld	hl,_s_col1
2020  073B  36 02       	ld	(hl),0x02
2021  073D              l_spr_draw_background_00103:
2022  073D  21 00 00    	ld	hl,_index1
2023  0740  7E          	ld	a, (hl)
2024  0741  D6 B0       	sub	a,0xb0
2025  0743  23          	inc	hl
2026  0744  7E          	ld	a, (hl)
2027  0745  DE 00       	sbc	a,0x00
2028  0747  30 37       	jr	NC,l_spr_draw_background_00105
2029  0749  2B          	dec	hl
2030  074A  7E          	ld	a, (hl)
2031  074B  E6 0F       	and	a,0x0f
2032  074D  20 0C       	jr	NZ,l_spr_draw_background_00102
2033  074F  21 00 00    	ld	hl,_s_lin1
2034  0752  7E          	ld	a, (hl)
2035  0753  C6 10       	add	a,0x10
2036  0755  77          	ld	(hl), a
2037  0756  21 00 00    	ld	hl,_s_col1
2038  0759  36 00       	ld	(hl),0x00
2039  075B              l_spr_draw_background_00102:
2040  075B  01 00 00    	ld	bc,_lvl_1
2041  075E  2A 00 00    	ld	hl,(_index1)
2042  0761  09          	add	hl,bc
2043  0762  46          	ld	b, (hl)
2044  0763  3A 00 00    	ld	a,(_s_col1)
2045  0766  F5          	push	af
2046  0767  33          	inc	sp
2047  0768  3A 00 00    	ld	a,(_s_lin1)
2048  076B  48          	ld	c,b
2049  076C  47          	ld	b,a
2050  076D  C5          	push	bc
2051  076E  CD 00 00    	call	_NIRVANAP_drawT_callee
2052  0771  21 00 00    	ld	hl,_s_col1
2053  0774  34          	inc	(hl)
2054  0775  34          	inc	(hl)
2055  0776  21 00 00    	ld	hl,_index1
2056  0779  34          	inc	(hl)
2057  077A  20 C1       	jr	NZ,l_spr_draw_background_00103
2058  077C  23          	inc	hl
2059  077D  34          	inc	(hl)
2060  077E  18 BD       	jr	l_spr_draw_background_00103
2061  0780              l_spr_draw_background_00105:
2062  0780  21 00 00    	ld	hl,_screen_paper
2063  0783  36 00       	ld	(hl),0x00
2064  0785  21 00 00    	ld	hl,_screen_ink
2065  0788  36 00       	ld	(hl),0x00
2066  078A  C9          	ret
2067  078B              	SECTION code_compiler
2068  078B              ;	---------------------------------
2069  078B              ; Function spr_draw_clear
2070  078B              ; ---------------------------------
2071  078B              _spr_draw_clear:
2072  078B  F3          	di
2073  078C  2E 00       	ld	l,0x00
2074  078E  CD 00 00    	call	_zx_cls_fastcall
2075  0791  21 00 00    	ld	hl,_s_lin1
2076  0794  36 10       	ld	(hl),0x10
2077  0796              l_spr_draw_clear_00105:
2078  0796  21 00 00    	ld	hl,_s_col1
2079  0799  36 00       	ld	(hl),0x00
2080  079B              l_spr_draw_clear_00103:
2081  079B  2A FF FF    	ld	hl,(_s_col1 - 1)
2082  079E  3A 00 00    	ld	a,(_s_lin1)
2083  07A1  6F          	ld	l,a
2084  07A2  E5          	push	hl
2085  07A3  AF          	xor	a, a
2086  07A4  F5          	push	af
2087  07A5  33          	inc	sp
2088  07A6  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2089  07A9  21 00 00    	ld	hl,_s_col1
2090  07AC  7E          	ld	a,(hl)
2091  07AD  C6 02       	add	a,0x02
2092  07AF  77          	ld	(hl),a
2093  07B0  D6 20       	sub	a,0x20
2094  07B2  38 E7       	jr	C,l_spr_draw_clear_00103
2095  07B4  21 00 00    	ld	hl,_s_lin1
2096  07B7  7E          	ld	a, (hl)
2097  07B8  C6 10       	add	a,0x10
2098  07BA  77          	ld	(hl), a
2099  07BB  3E A2       	ld	a,0xa2
2100  07BD  96          	sub	a, (hl)
2101  07BE  30 D6       	jr	NC,l_spr_draw_clear_00105
2102  07C0  FB          	ei
2103  07C1  C9          	ret
2104  07C2              	SECTION code_compiler
2105  07C2              ;	---------------------------------
2106  07C2              ; Function spr_back_paint
2107  07C2              ; ---------------------------------
2108  07C2              _spr_back_paint:
2109  07C2  CD 00 00    	call	___sdcc_enter_ix
2110  07C5  76          	halt
2111  07C6  F3          	di
2112  07C7  DD 7E 04    	ld	a,(ix+4)
2113  07CA  C6 40       	add	a,0x40
2114  07CC  4F          	ld	c, a
2115  07CD  DD 7E 05    	ld	a,(ix+5)
2116  07D0  CE 00       	adc	a,0x00
2117  07D2  47          	ld	b, a
2118  07D3  C5          	push	bc
2119  07D4  CD CA 08    	call	_spr_draw_index
2120  07D7  F1          	pop	af
2121  07D8  DD 7E 04    	ld	a,(ix+4)
2122  07DB  C6 42       	add	a,0x42
2123  07DD  4F          	ld	c, a
2124  07DE  DD 7E 05    	ld	a,(ix+5)
2125  07E1  CE 00       	adc	a,0x00
2126  07E3  47          	ld	b, a
2127  07E4  C5          	push	bc
2128  07E5  CD CA 08    	call	_spr_draw_index
2129  07E8  F1          	pop	af
2130  07E9  DD 7E 04    	ld	a,(ix+4)
2131  07EC  C6 44       	add	a,0x44
2132  07EE  4F          	ld	c, a
2133  07EF  DD 7E 05    	ld	a,(ix+5)
2134  07F2  CE 00       	adc	a,0x00
2135  07F4  47          	ld	b, a
2136  07F5  C5          	push	bc
2137  07F6  CD CA 08    	call	_spr_draw_index
2138  07F9  F1          	pop	af
2139  07FA  DD 7E 04    	ld	a,(ix+4)
2140  07FD  C6 80       	add	a,0x80
2141  07FF  4F          	ld	c, a
2142  0800  DD 7E 05    	ld	a,(ix+5)
2143  0803  CE 00       	adc	a,0x00
2144  0805  47          	ld	b, a
2145  0806  C5          	push	bc
2146  0807  CD CA 08    	call	_spr_draw_index
2147  080A  F1          	pop	af
2148  080B  DD 7E 04    	ld	a,(ix+4)
2149  080E  C6 82       	add	a,0x82
2150  0810  4F          	ld	c, a
2151  0811  DD 7E 05    	ld	a,(ix+5)
2152  0814  CE 00       	adc	a,0x00
2153  0816  47          	ld	b, a
2154  0817  C5          	push	bc
2155  0818  CD CA 08    	call	_spr_draw_index
2156  081B  F1          	pop	af
2157  081C  DD 7E 04    	ld	a,(ix+4)
2158  081F  C6 84       	add	a,0x84
2159  0821  4F          	ld	c, a
2160  0822  DD 7E 05    	ld	a,(ix+5)
2161  0825  CE 00       	adc	a,0x00
2162  0827  47          	ld	b, a
2163  0828  C5          	push	bc
2164  0829  CD CA 08    	call	_spr_draw_index
2165  082C  F1          	pop	af
2166  082D  FB          	ei
2167  082E  DD E1       	pop	ix
2168  0830  C9          	ret
2169  0831              	SECTION code_compiler
2170  0831              ;	---------------------------------
2171  0831              ; Function spr_brick_anim
2172  0831              ; ---------------------------------
2173  0831              _spr_brick_anim:
2174  0831  CD 00 00    	call	___sdcc_enter_ix
2175  0834  F5          	push	af
2176  0835  DD 75 FF    	ld	(ix-1),l
2177  0838  2A 00 00    	ld	hl,(_index_player)
2178  083B  26 00       	ld	h,0x00
2179  083D  01 00 00    	ld	bc,_hit_col
2180  0840  09          	add	hl,bc
2181  0841  56          	ld	d, (hl)
2182  0842  2A 00 00    	ld	hl,(_index_player)
2183  0845  26 00       	ld	h,0x00
2184  0847  01 00 00    	ld	bc,_hit_lin
2185  084A  09          	add	hl,bc
2186  084B  5E          	ld	e, (hl)
2187  084C  D5          	push	de
2188  084D  D5          	push	de
2189  084E  CD 00 00    	call	_spr_calc_index
2190  0851  F1          	pop	af
2191  0852  D1          	pop	de
2192  0853  22 00 00    	ld	(_index1),hl
2193  0856  01 F0 FF    	ld	bc,0xfff0
2194  0859  09          	add	hl,bc
2195  085A  01 00 00    	ld	bc,_lvl_1
2196  085D  09          	add	hl,bc
2197  085E  7E          	ld	a, (hl)
2198  085F  DD 77 FE    	ld	(ix-2),a
2199  0862  01 00 00    	ld	bc,_lvl_1
2200  0865  2A 00 00    	ld	hl,(_index1)
2201  0868  09          	add	hl,bc
2202  0869  4D          	ld	c,l
2203  086A  46          	ld	b, (hl)
2204  086B  DD 7E FF    	ld	a,(ix-1)
2205  086E  B7          	or	a, a
2206  086F  28 08       	jr	Z,l_spr_brick_anim_00102
2207  0871  7B          	ld	a, e
2208  0872  C6 F6       	add	a,0xf6
2209  0874  32 00 00    	ld	(_tmp),a
2210  0877  18 06       	jr	l_spr_brick_anim_00103
2211  0879              l_spr_brick_anim_00102:
2212  0879  7B          	ld	a, e
2213  087A  C6 F8       	add	a,0xf8
2214  087C  32 00 00    	ld	(_tmp),a
2215  087F              l_spr_brick_anim_00103:
2216  087F  DD 7E FF    	ld	a,(ix-1)
2217  0882  B7          	or	a, a
2218  0883  28 23       	jr	Z,l_spr_brick_anim_00105
2219  0885  D5          	push	de
2220  0886  D5          	push	de
2221  0887  33          	inc	sp
2222  0888  53          	ld	d, e
2223  0889  1E 49       	ld	e,0x49
2224  088B  D5          	push	de
2225  088C  CD 00 00    	call	_NIRVANAP_fillC_callee
2226  088F  D1          	pop	de
2227  0890  62          	ld	h, d
2228  0891  24          	inc	h
2229  0892  D5          	push	de
2230  0893  E5          	push	hl
2231  0894  33          	inc	sp
2232  0895  53          	ld	d, e
2233  0896  1E 49       	ld	e,0x49
2234  0898  D5          	push	de
2235  0899  CD 00 00    	call	_NIRVANAP_fillC_callee
2236  089C  33          	inc	sp
2237  089D  3A 00 00    	ld	a,(_tmp)
2238  08A0  48          	ld	c,b
2239  08A1  47          	ld	b,a
2240  08A2  C5          	push	bc
2241  08A3  CD 00 00    	call	_NIRVANAP_drawT_callee
2242  08A6  18 1E       	jr	l_spr_brick_anim_00107
2243  08A8              l_spr_brick_anim_00105:
2244  08A8  3A 00 00    	ld	a,(_tmp)
2245  08AB  C6 F0       	add	a,0xf0
2246  08AD  C5          	push	bc
2247  08AE  D5          	push	de
2248  08AF  5F          	ld	e,a
2249  08B0  D5          	push	de
2250  08B1  DD 7E FE    	ld	a,(ix-2)
2251  08B4  F5          	push	af
2252  08B5  33          	inc	sp
2253  08B6  CD 00 00    	call	_NIRVANAP_drawT_callee
2254  08B9  D1          	pop	de
2255  08BA  C1          	pop	bc
2256  08BB  D5          	push	de
2257  08BC  33          	inc	sp
2258  08BD  3A 00 00    	ld	a,(_tmp)
2259  08C0  48          	ld	c,b
2260  08C1  47          	ld	b,a
2261  08C2  C5          	push	bc
2262  08C3  CD 00 00    	call	_NIRVANAP_drawT_callee
2263  08C6              l_spr_brick_anim_00107:
2264  08C6  F1          	pop	af
2265  08C7  DD E1       	pop	ix
2266  08C9  C9          	ret
2267  08CA              	SECTION code_compiler
2268  08CA              ;	---------------------------------
2269  08CA              ; Function spr_draw_index
2270  08CA              ; ---------------------------------
2271  08CA              _spr_draw_index:
2272  08CA  CD 00 00    	call	___sdcc_enter_ix
2273  08CD  DD 7E 04    	ld	a,(ix+4)
2274  08D0  E6 1F       	and	a,0x1f
2275  08D2  32 00 00    	ld	(_s_col1),a
2276  08D5  DD 4E 04    	ld	c,(ix+4)
2277  08D8  DD 5E 05    	ld	e,(ix+5)
2278  08DB  06 05       	ld	b,0x05
2279  08DD  79          	ld	a,c
2280  08DE              l_spr_draw_index_00103:
2281  08DE  CB 3B       	srl	e
2282  08E0  1F          	rra
2283  08E1  10 FB       	djnz	l_spr_draw_index_00103
2284  08E3  21 00 00    	ld	hl,_s_lin1
2285  08E6  77          	ld	(hl),a
2286  08E7  07          	rlca
2287  08E8  07          	rlca
2288  08E9  07          	rlca
2289  08EA  E6 F8       	and	a,0xf8
2290  08EC  77          	ld	(hl), a
2291  08ED  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2292  08EF  DD 86 04    	add	a,(ix+4)
2293  08F2  4F          	ld	c, a
2294  08F3  3E 00       	ld	a, +((_lvl_1) / 256)
2295  08F5  DD 8E 05    	adc	a,(ix+5)
2296  08F8  47          	ld	b, a
2297  08F9  0A          	ld	a, (bc)
2298  08FA  47          	ld	b, a
2299  08FB  3A 00 00    	ld	a,(_s_col1)
2300  08FE  F5          	push	af
2301  08FF  33          	inc	sp
2302  0900  3A 00 00    	ld	a,(_s_lin1)
2303  0903  48          	ld	c,b
2304  0904  47          	ld	b,a
2305  0905  C5          	push	bc
2306  0906  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2307  0909  DD E1       	pop	ix
2308  090B  C9          	ret
2309  090C              	SECTION code_compiler
2310  090C              ;	---------------------------------
2311  090C              ; Function spr_draw_row
2312  090C              ; ---------------------------------
2313  090C              _spr_draw_row:
2314  090C  CD 00 00    	call	___sdcc_enter_ix
2315  090F  3B          	dec	sp
2316  0910  F3          	di
2317  0911  21 00 00    	ld	hl,_tmp
2318  0914  36 00       	ld	(hl),0x00
2319  0916  DD 7E 04    	ld	a,(ix+4)
2320  0919  07          	rlca
2321  091A  07          	rlca
2322  091B  07          	rlca
2323  091C  E6 F8       	and	a,0xf8
2324  091E  DD 77 FF    	ld	(ix-1),a
2325  0921              l_spr_draw_row_00101:
2326  0921  21 00 00    	ld	hl,_tmp
2327  0924  7E          	ld	a, (hl)
2328  0925  D6 20       	sub	a,0x20
2329  0927  30 38       	jr	NC,l_spr_draw_row_00103
2330  0929  DD 4E 04    	ld	c,(ix+4)
2331  092C  3E 00       	ld	a,0x00
2332  092E  CB 21       	sla	c
2333  0930  17          	rla
2334  0931  CB 21       	sla	c
2335  0933  17          	rla
2336  0934  CB 21       	sla	c
2337  0936  17          	rla
2338  0937  CB 21       	sla	c
2339  0939  17          	rla
2340  093A  CB 21       	sla	c
2341  093C  17          	rla
2342  093D  47          	ld	b,a
2343  093E  5E          	ld	e, (hl)
2344  093F  16 00       	ld	d,0x00
2345  0941  79          	ld	a, c
2346  0942  83          	add	a, e
2347  0943  21 00 00    	ld	hl,_index1
2348  0946  77          	ld	(hl), a
2349  0947  78          	ld	a, b
2350  0948  8A          	adc	a, d
2351  0949  23          	inc	hl
2352  094A  77          	ld	(hl), a
2353  094B  2A FF FF    	ld	hl,(_tmp-1)
2354  094E  DD 6E FF    	ld	l,(ix-1)
2355  0951  3A 00 00    	ld	a,(_game_brick_tile)
2356  0954  E5          	push	hl
2357  0955  F5          	push	af
2358  0956  33          	inc	sp
2359  0957  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2360  095A  21 00 00    	ld	hl,_tmp
2361  095D  34          	inc	(hl)
2362  095E  34          	inc	(hl)
2363  095F  18 C0       	jr	l_spr_draw_row_00101
2364  0961              l_spr_draw_row_00103:
2365  0961  FB          	ei
2366  0962  33          	inc	sp
2367  0963  DD E1       	pop	ix
2368  0965  C9          	ret
2369  0966              	SECTION code_compiler
2370  0966              ;	---------------------------------
2371  0966              ; Function spr_calc_hor
2372  0966              ; ---------------------------------
2373  0966              _spr_calc_hor:
2374  0966  CD 00 00    	call	___sdcc_enter_ix
2375  0969  3E 00       	ld	a, +((_class) & 0xFF)
2376  096B  DD 86 04    	add	a,(ix+4)
2377  096E  4F          	ld	c, a
2378  096F  3E 00       	ld	a, +((_class) / 256)
2379  0971  CE 00       	adc	a,0x00
2380  0973  47          	ld	b, a
2381  0974  0A          	ld	a, (bc)
2382  0975  D6 0C       	sub	a,0x0c
2383  0977  28 20       	jr	Z,l_spr_calc_hor_00102
2384  0979  3E 00       	ld	a, +((_col) & 0xFF)
2385  097B  DD 86 04    	add	a,(ix+4)
2386  097E  4F          	ld	c, a
2387  097F  3E 00       	ld	a, +((_col) / 256)
2388  0981  CE 00       	adc	a,0x00
2389  0983  47          	ld	b, a
2390  0984  0A          	ld	a, (bc)
2391  0985  4F          	ld	c, a
2392  0986  87          	add	a, a
2393  0987  81          	add	a, c
2394  0988  4F          	ld	c, a
2395  0989  3E 00       	ld	a, +((_colint) & 0xFF)
2396  098B  DD 86 04    	add	a,(ix+4)
2397  098E  5F          	ld	e, a
2398  098F  3E 00       	ld	a, +((_colint) / 256)
2399  0991  CE 00       	adc	a,0x00
2400  0993  57          	ld	d, a
2401  0994  1A          	ld	a, (de)
2402  0995  6F          	ld	l, a
2403  0996  09          	add	hl, bc
2404  0997  18 10       	jr	l_spr_calc_hor_00104
2405  0999              l_spr_calc_hor_00102:
2406  0999  3E 00       	ld	a, +((_col) & 0xFF)
2407  099B  DD 86 04    	add	a,(ix+4)
2408  099E  4F          	ld	c, a
2409  099F  3E 00       	ld	a, +((_col) / 256)
2410  09A1  CE 00       	adc	a,0x00
2411  09A3  47          	ld	b, a
2412  09A4  0A          	ld	a, (bc)
2413  09A5  4F          	ld	c, a
2414  09A6  69          	ld	l, c
2415  09A7  29          	add	hl, hl
2416  09A8  09          	add	hl, bc
2417  09A9              l_spr_calc_hor_00104:
2418  09A9  DD E1       	pop	ix
2419  09AB  C9          	ret
2420  09AC              	SECTION code_compiler
2421  09AC              ;	---------------------------------
2422  09AC              ; Function spr_collision_check
2423  09AC              ; ---------------------------------
2424  09AC              _spr_collision_check:
2425  09AC  CD 00 00    	call	___sdcc_enter_ix
2426  09AF  3E 00       	ld	a, +((_class) & 0xFF)
2427  09B1  DD 86 05    	add	a,(ix+5)
2428  09B4  4F          	ld	c, a
2429  09B5  3E 00       	ld	a, +((_class) / 256)
2430  09B7  CE 00       	adc	a,0x00
2431  09B9  47          	ld	b, a
2432  09BA  0A          	ld	a, (bc)
2433  09BB  B7          	or	a, a
2434  09BC  28 10       	jr	Z,l_spr_collision_check_00101
2435  09BE  3E 00       	ld	a, +((_state) & 0xFF)
2436  09C0  DD 86 05    	add	a,(ix+5)
2437  09C3  4F          	ld	c, a
2438  09C4  3E 00       	ld	a, +((_state) / 256)
2439  09C6  CE 00       	adc	a,0x00
2440  09C8  47          	ld	b, a
2441  09C9  0A          	ld	a, (bc)
2442  09CA  CB 6F       	bit	5, a
2443  09CC  28 04       	jr	Z,l_spr_collision_check_00102
2444  09CE              l_spr_collision_check_00101:
2445  09CE  2E 00       	ld	l,0x00
2446  09D0  18 6D       	jr	l_spr_collision_check_00109
2447  09D2              l_spr_collision_check_00102:
2448  09D2  01 00 00    	ld	bc,_lin+0
2449  09D5  79          	ld	a, c
2450  09D6  DD 86 05    	add	a,(ix+5)
2451  09D9  5F          	ld	e, a
2452  09DA  78          	ld	a, b
2453  09DB  CE 00       	adc	a,0x00
2454  09DD  57          	ld	d, a
2455  09DE  1A          	ld	a, (de)
2456  09DF  5F          	ld	e, a
2457  09E0  16 00       	ld	d,0x00
2458  09E2  79          	ld	a, c
2459  09E3  DD 86 04    	add	a,(ix+4)
2460  09E6  4F          	ld	c, a
2461  09E7  78          	ld	a, b
2462  09E8  CE 00       	adc	a,0x00
2463  09EA  47          	ld	b, a
2464  09EB  0A          	ld	a, (bc)
2465  09EC  4F          	ld	c, a
2466  09ED  AF          	xor	a,a
2467  09EE  47          	ld	b,a
2468  09EF  EB          	ex	de,hl
2469  09F0  ED 42       	sbc	hl,bc
2470  09F2  CD 00 00    	call	_abs_fastcall
2471  09F5  22 00 00    	ld	(_tmp_ui),hl
2472  09F8  21 01 00    	ld	hl,_tmp_ui + 1
2473  09FB  DD 7E 06    	ld	a,(ix+6)
2474  09FE  06 00       	ld	b,0x00
2475  0A00  2B          	dec	hl
2476  0A01  96          	sub	a, (hl)
2477  0A02  78          	ld	a, b
2478  0A03  23          	inc	hl
2479  0A04  9E          	sbc	a, (hl)
2480  0A05  30 04       	jr	NC,l_spr_collision_check_00105
2481  0A07  2E 00       	ld	l,0x00
2482  0A09  18 34       	jr	l_spr_collision_check_00109
2483  0A0B              l_spr_collision_check_00105:
2484  0A0B  DD 7E 04    	ld	a,(ix+4)
2485  0A0E  F5          	push	af
2486  0A0F  33          	inc	sp
2487  0A10  CD 66 09    	call	_spr_calc_hor
2488  0A13  33          	inc	sp
2489  0A14  4D          	ld	c, l
2490  0A15  C5          	push	bc
2491  0A16  DD 7E 05    	ld	a,(ix+5)
2492  0A19  F5          	push	af
2493  0A1A  33          	inc	sp
2494  0A1B  CD 66 09    	call	_spr_calc_hor
2495  0A1E  33          	inc	sp
2496  0A1F  C1          	pop	bc
2497  0A20  5D          	ld	e,l
2498  0A21  69          	ld	l, c
2499  0A22  AF          	xor	a,a
2500  0A23  67          	ld	h,a
2501  0A24  57          	ld	d,a
2502  0A25  ED 52       	sbc	hl,de
2503  0A27  CD 00 00    	call	_abs_fastcall
2504  0A2A  22 00 00    	ld	(_tmp_ui),hl
2505  0A2D  3E 03       	ld	a,0x03
2506  0A2F  21 00 00    	ld	hl,_tmp_ui
2507  0A32  BE          	cp	a, (hl)
2508  0A33  3E 00       	ld	a,0x00
2509  0A35  23          	inc	hl
2510  0A36  9E          	sbc	a, (hl)
2511  0A37  30 04       	jr	NC,l_spr_collision_check_00107
2512  0A39  2E 00       	ld	l,0x00
2513  0A3B  18 02       	jr	l_spr_collision_check_00109
2514  0A3D              l_spr_collision_check_00107:
2515  0A3D  2E 01       	ld	l,0x01
2516  0A3F              l_spr_collision_check_00109:
2517  0A3F  DD E1       	pop	ix
2518  0A41  C9          	ret
2519  0A42              	SECTION code_compiler
2520  0A42              ;	---------------------------------
2521  0A42              ; Function spr_kill_all
2522  0A42              ; ---------------------------------
2523  0A42              _spr_kill_all:
2524  0A42  21 00 00    	ld	hl,_sprite
2525  0A45  36 00       	ld	(hl),0x00
2526  0A47              l_spr_kill_all_00102:
2527  0A47  2A 00 00    	ld	hl,(_sprite)
2528  0A4A  CD 6E 05    	call	_spr_destroy
2529  0A4D  21 00 00    	ld	hl,_sprite
2530  0A50  7E          	ld	a,(hl)
2531  0A51  3C          	inc	a
2532  0A52  77          	ld	(hl),a
2533  0A53  D6 08       	sub	a,0x08
2534  0A55  38 F0       	jr	C,l_spr_kill_all_00102
2535  0A57  C9          	ret
2536  0A58              	SECTION code_compiler
2537  0A58              ;	---------------------------------
2538  0A58              ; Function spr_back_clr
2539  0A58              ; ---------------------------------
2540  0A58              _spr_back_clr:
2541  0A58  CD 00 00    	call	___sdcc_enter_ix
2542  0A5B  F5          	push	af
2543  0A5C  F5          	push	af
2544  0A5D  3B          	dec	sp
2545  0A5E  2A FF FF    	ld	hl,(_s_col0 - 1)
2546  0A61  3A 00 00    	ld	a,(_s_lin0)
2547  0A64  6F          	ld	l,a
2548  0A65  E5          	push	hl
2549  0A66  CD 00 00    	call	_spr_calc_index
2550  0A69  F1          	pop	af
2551  0A6A  4D          	ld	c, l
2552  0A6B  44          	ld	b, h
2553  0A6C  21 00 00    	ld	hl,_s_lin0
2554  0A6F  7E          	ld	a, (hl)
2555  0A70  E6 0F       	and	a,0x0f
2556  0A72  5F          	ld	e, a
2557  0A73  7E          	ld	a, (hl)
2558  0A74  07          	rlca
2559  0A75  07          	rlca
2560  0A76  07          	rlca
2561  0A77  07          	rlca
2562  0A78  E6 0F       	and	a,0x0f
2563  0A7A  DD 77 FF    	ld	(ix-1),a
2564  0A7D  21 10 00    	ld	hl,0x0010
2565  0A80  09          	add	hl,bc
2566  0A81  DD 75 FD    	ld	(ix-3),l
2567  0A84  DD 74 FE    	ld	(ix-2),h
2568  0A87  21 00 00    	ld	hl,_s_col0
2569  0A8A  CB 46       	bit	0, (hl)
2570  0A8C  20 5B       	jr	NZ,l_spr_back_clr_00108
2571  0A8E  7B          	ld	a, e
2572  0A8F  B7          	or	a, a
2573  0A90  20 18       	jr	NZ,l_spr_back_clr_00102
2574  0A92  21 00 00    	ld	hl,_lvl_1
2575  0A95  09          	add	hl, bc
2576  0A96  46          	ld	b, (hl)
2577  0A97  3A 00 00    	ld	a,(_s_col0)
2578  0A9A  F5          	push	af
2579  0A9B  33          	inc	sp
2580  0A9C  3A 00 00    	ld	a,(_s_lin0)
2581  0A9F  48          	ld	c,b
2582  0AA0  47          	ld	b,a
2583  0AA1  C5          	push	bc
2584  0AA2  CD AE 0B    	call	_spr_tile_paint
2585  0AA5  F1          	pop	af
2586  0AA6  33          	inc	sp
2587  0AA7  C3 A9 0B    	jp	l_spr_back_clr_00110
2588  0AAA              l_spr_back_clr_00102:
2589  0AAA  DD 7E FF    	ld	a,(ix-1)
2590  0AAD  07          	rlca
2591  0AAE  07          	rlca
2592  0AAF  07          	rlca
2593  0AB0  07          	rlca
2594  0AB1  E6 F0       	and	a,0xf0
2595  0AB3  57          	ld	d, a
2596  0AB4  21 00 00    	ld	hl,_lvl_1
2597  0AB7  09          	add	hl, bc
2598  0AB8  46          	ld	b, (hl)
2599  0AB9  3A 00 00    	ld	a,(_s_col0)
2600  0ABC  D5          	push	de
2601  0ABD  5A          	ld	e,d
2602  0ABE  57          	ld	d,a
2603  0ABF  D5          	push	de
2604  0AC0  C5          	push	bc
2605  0AC1  33          	inc	sp
2606  0AC2  CD AE 0B    	call	_spr_tile_paint
2607  0AC5  F1          	pop	af
2608  0AC6  33          	inc	sp
2609  0AC7  D1          	pop	de
2610  0AC8  7A          	ld	a, d
2611  0AC9  C6 10       	add	a,0x10
2612  0ACB  57          	ld	d, a
2613  0ACC  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2614  0ACE  DD 86 FD    	add	a,(ix-3)
2615  0AD1  6F          	ld	l, a
2616  0AD2  3E 00       	ld	a, +((_lvl_1) / 256)
2617  0AD4  DD 8E FE    	adc	a,(ix-2)
2618  0AD7  67          	ld	h, a
2619  0AD8  46          	ld	b, (hl)
2620  0AD9  3A 00 00    	ld	a,(_s_col0)
2621  0ADC  5A          	ld	e,d
2622  0ADD  57          	ld	d,a
2623  0ADE  D5          	push	de
2624  0ADF  C5          	push	bc
2625  0AE0  33          	inc	sp
2626  0AE1  CD AE 0B    	call	_spr_tile_paint
2627  0AE4  F1          	pop	af
2628  0AE5  33          	inc	sp
2629  0AE6  C3 A9 0B    	jp	l_spr_back_clr_00110
2630  0AE9              l_spr_back_clr_00108:
2631  0AE9  21 00 00    	ld	hl,_s_col0
2632  0AEC  56          	ld	d, (hl)
2633  0AED  15          	dec	d
2634  0AEE  21 01 00    	ld	hl,0x0001
2635  0AF1  09          	add	hl,bc
2636  0AF2  E3          	ex	(sp), hl
2637  0AF3  7B          	ld	a, e
2638  0AF4  B7          	or	a, a
2639  0AF5  20 32       	jr	NZ,l_spr_back_clr_00105
2640  0AF7  21 00 00    	ld	hl,_lvl_1
2641  0AFA  09          	add	hl, bc
2642  0AFB  46          	ld	b, (hl)
2643  0AFC  D5          	push	de
2644  0AFD  33          	inc	sp
2645  0AFE  3A 00 00    	ld	a,(_s_lin0)
2646  0B01  48          	ld	c,b
2647  0B02  47          	ld	b,a
2648  0B03  C5          	push	bc
2649  0B04  CD AE 0B    	call	_spr_tile_paint
2650  0B07  F1          	pop	af
2651  0B08  33          	inc	sp
2652  0B09  21 00 00    	ld	hl,_s_col0
2653  0B0C  46          	ld	b, (hl)
2654  0B0D  04          	inc	b
2655  0B0E  11 00 00    	ld	de,_lvl_1
2656  0B11  DD 6E FB    	ld	l,(ix-5)
2657  0B14  DD 66 FC    	ld	h,(ix-4)
2658  0B17  19          	add	hl,de
2659  0B18  56          	ld	d, (hl)
2660  0B19  C5          	push	bc
2661  0B1A  33          	inc	sp
2662  0B1B  3A 00 00    	ld	a,(_s_lin0)
2663  0B1E  5A          	ld	e,d
2664  0B1F  57          	ld	d,a
2665  0B20  D5          	push	de
2666  0B21  CD AE 0B    	call	_spr_tile_paint
2667  0B24  F1          	pop	af
2668  0B25  33          	inc	sp
2669  0B26  C3 A9 0B    	jp	l_spr_back_clr_00110
2670  0B29              l_spr_back_clr_00105:
2671  0B29  DD 7E FF    	ld	a,(ix-1)
2672  0B2C  07          	rlca
2673  0B2D  07          	rlca
2674  0B2E  07          	rlca
2675  0B2F  07          	rlca
2676  0B30  E6 F0       	and	a,0xf0
2677  0B32  DD 77 FF    	ld	(ix-1),a
2678  0B35  21 00 00    	ld	hl,_lvl_1
2679  0B38  09          	add	hl, bc
2680  0B39  5E          	ld	e, (hl)
2681  0B3A  C5          	push	bc
2682  0B3B  D5          	push	de
2683  0B3C  33          	inc	sp
2684  0B3D  DD 56 FF    	ld	d,(ix-1)
2685  0B40  D5          	push	de
2686  0B41  CD AE 0B    	call	_spr_tile_paint
2687  0B44  F1          	pop	af
2688  0B45  33          	inc	sp
2689  0B46  C1          	pop	bc
2690  0B47  21 00 00    	ld	hl,_s_col0
2691  0B4A  5E          	ld	e, (hl)
2692  0B4B  1C          	inc	e
2693  0B4C  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2694  0B4E  DD 86 FB    	add	a,(ix-5)
2695  0B51  6F          	ld	l, a
2696  0B52  3E 00       	ld	a, +((_lvl_1) / 256)
2697  0B54  DD 8E FC    	adc	a,(ix-4)
2698  0B57  67          	ld	h, a
2699  0B58  56          	ld	d, (hl)
2700  0B59  C5          	push	bc
2701  0B5A  7B          	ld	a, e
2702  0B5B  F5          	push	af
2703  0B5C  33          	inc	sp
2704  0B5D  DD 7E FF    	ld	a,(ix-1)
2705  0B60  5A          	ld	e,d
2706  0B61  57          	ld	d,a
2707  0B62  D5          	push	de
2708  0B63  CD AE 0B    	call	_spr_tile_paint
2709  0B66  F1          	pop	af
2710  0B67  33          	inc	sp
2711  0B68  C1          	pop	bc
2712  0B69  DD 7E FF    	ld	a,(ix-1)
2713  0B6C  C6 10       	add	a,0x10
2714  0B6E  5F          	ld	e, a
2715  0B6F  21 00 00    	ld	hl,_s_col0
2716  0B72  56          	ld	d, (hl)
2717  0B73  15          	dec	d
2718  0B74  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2719  0B76  DD 86 FD    	add	a,(ix-3)
2720  0B79  6F          	ld	l, a
2721  0B7A  3E 00       	ld	a, +((_lvl_1) / 256)
2722  0B7C  DD 8E FE    	adc	a,(ix-2)
2723  0B7F  67          	ld	h, a
2724  0B80  7E          	ld	a, (hl)
2725  0B81  DD 77 FB    	ld	(ix-5),a
2726  0B84  C5          	push	bc
2727  0B85  D5          	push	de
2728  0B86  D5          	push	de
2729  0B87  DD 7E FB    	ld	a,(ix-5)
2730  0B8A  F5          	push	af
2731  0B8B  33          	inc	sp
2732  0B8C  CD AE 0B    	call	_spr_tile_paint
2733  0B8F  F1          	pop	af
2734  0B90  33          	inc	sp
2735  0B91  D1          	pop	de
2736  0B92  C1          	pop	bc
2737  0B93  21 00 00    	ld	hl,_s_col0
2738  0B96  56          	ld	d, (hl)
2739  0B97  14          	inc	d
2740  0B98  21 11 00    	ld	hl,0x0011
2741  0B9B  09          	add	hl, bc
2742  0B9C  01 00 00    	ld	bc,_lvl_1
2743  0B9F  09          	add	hl, bc
2744  0BA0  46          	ld	b, (hl)
2745  0BA1  D5          	push	de
2746  0BA2  C5          	push	bc
2747  0BA3  33          	inc	sp
2748  0BA4  CD AE 0B    	call	_spr_tile_paint
2749  0BA7  F1          	pop	af
2750  0BA8  33          	inc	sp
2751  0BA9              l_spr_back_clr_00110:
2752  0BA9  DD F9       	ld	sp, ix
2753  0BAB  DD E1       	pop	ix
2754  0BAD  C9          	ret
2755  0BAE              	SECTION code_compiler
2756  0BAE              ;	---------------------------------
2757  0BAE              ; Function spr_tile_paint
2758  0BAE              ; ---------------------------------
2759  0BAE              _spr_tile_paint:
2760  0BAE  CD 00 00    	call	___sdcc_enter_ix
2761  0BB1  DD 7E 04    	ld	a,(ix+4)
2762  0BB4  B7          	or	a, a
2763  0BB5  20 3E       	jr	NZ,l_spr_tile_paint_00102
2764  0BB7  DD 7E 06    	ld	a,(ix+6)
2765  0BBA  F5          	push	af
2766  0BBB  33          	inc	sp
2767  0BBC  DD 56 05    	ld	d,(ix+5)
2768  0BBF  1E 49       	ld	e,0x49
2769  0BC1  D5          	push	de
2770  0BC2  CD 00 00    	call	_NIRVANAP_fillC_callee
2771  0BC5  DD 7E 05    	ld	a,(ix+5)
2772  0BC8  C6 08       	add	a,0x08
2773  0BCA  47          	ld	b, a
2774  0BCB  DD 7E 06    	ld	a,(ix+6)
2775  0BCE  F5          	push	af
2776  0BCF  33          	inc	sp
2777  0BD0  C5          	push	bc
2778  0BD1  33          	inc	sp
2779  0BD2  3E 49       	ld	a,0x49
2780  0BD4  F5          	push	af
2781  0BD5  33          	inc	sp
2782  0BD6  CD 00 00    	call	_NIRVANAP_fillC_callee
2783  0BD9  DD 56 06    	ld	d,(ix+6)
2784  0BDC  14          	inc	d
2785  0BDD  D5          	push	de
2786  0BDE  D5          	push	de
2787  0BDF  33          	inc	sp
2788  0BE0  DD 56 05    	ld	d,(ix+5)
2789  0BE3  1E 49       	ld	e,0x49
2790  0BE5  D5          	push	de
2791  0BE6  CD 00 00    	call	_NIRVANAP_fillC_callee
2792  0BE9  33          	inc	sp
2793  0BEA  C5          	push	bc
2794  0BEB  33          	inc	sp
2795  0BEC  3E 49       	ld	a,0x49
2796  0BEE  F5          	push	af
2797  0BEF  33          	inc	sp
2798  0BF0  CD 00 00    	call	_NIRVANAP_fillC_callee
2799  0BF3  18 0F       	jr	l_spr_tile_paint_00104
2800  0BF5              l_spr_tile_paint_00102:
2801  0BF5  DD 66 06    	ld	h,(ix+6)
2802  0BF8  DD 6E 05    	ld	l,(ix+5)
2803  0BFB  E5          	push	hl
2804  0BFC  DD 7E 04    	ld	a,(ix+4)
2805  0BFF  F5          	push	af
2806  0C00  33          	inc	sp
2807  0C01  CD 00 00    	call	_NIRVANAP_drawT_callee
2808  0C04              l_spr_tile_paint_00104:
2809  0C04  DD E1       	pop	ix
2810  0C06  C9          	ret
2811  0C07              	SECTION IGNORE
2812  0000              
