1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_brick_anim
205   0000              	GLOBAL _spr_draw_index
206   0000              	GLOBAL _spr_draw_row
207   0000              	GLOBAL _spr_calc_hor
208   0000              	GLOBAL _spr_back_repaint
209   0000              	GLOBAL _spr_tile_paint
210   0000              	GLOBAL _spr_init_anim_bullets
211   0000              	GLOBAL _spr_add_anim
212   0000              	GLOBAL _spr_play_anim
213   0000              	GLOBAL _spr_play_bullets
214   0000              	GLOBAL _spr_explode_bullet
215   0000              	GLOBAL _spr_turn_horizontal
216   0000              	GLOBAL _spr_btile_paint_back
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ulltoa_callee
221   0000              	GLOBAL _ulltoa
222   0000              	GLOBAL _strtoull_callee
223   0000              	GLOBAL _strtoull
224   0000              	GLOBAL _strtoll_callee
225   0000              	GLOBAL _strtoll
226   0000              	GLOBAL _lltoa_callee
227   0000              	GLOBAL _lltoa
228   0000              	GLOBAL _llabs_callee
229   0000              	GLOBAL _llabs
230   0000              	GLOBAL __lldivu__callee
231   0000              	GLOBAL __lldivu_
232   0000              	GLOBAL __lldiv__callee
233   0000              	GLOBAL __lldiv_
234   0000              	GLOBAL _atoll_callee
235   0000              	GLOBAL _atoll
236   0000              	GLOBAL _realloc_unlocked_callee
237   0000              	GLOBAL _realloc_unlocked
238   0000              	GLOBAL _malloc_unlocked_fastcall
239   0000              	GLOBAL _malloc_unlocked
240   0000              	GLOBAL _free_unlocked_fastcall
241   0000              	GLOBAL _free_unlocked
242   0000              	GLOBAL _calloc_unlocked_callee
243   0000              	GLOBAL _calloc_unlocked
244   0000              	GLOBAL _aligned_alloc_unlocked_callee
245   0000              	GLOBAL _aligned_alloc_unlocked
246   0000              	GLOBAL _realloc_callee
247   0000              	GLOBAL _realloc
248   0000              	GLOBAL _malloc_fastcall
249   0000              	GLOBAL _malloc
250   0000              	GLOBAL _free_fastcall
251   0000              	GLOBAL _free
252   0000              	GLOBAL _calloc_callee
253   0000              	GLOBAL _calloc
254   0000              	GLOBAL _aligned_alloc_callee
255   0000              	GLOBAL _aligned_alloc
256   0000              	GLOBAL _utoa_callee
257   0000              	GLOBAL _utoa
258   0000              	GLOBAL _ultoa_callee
259   0000              	GLOBAL _ultoa
260   0000              	GLOBAL _system_fastcall
261   0000              	GLOBAL _system
262   0000              	GLOBAL _strtoul_callee
263   0000              	GLOBAL _strtoul
264   0000              	GLOBAL _strtol_callee
265   0000              	GLOBAL _strtol
266   0000              	GLOBAL _strtof_callee
267   0000              	GLOBAL _strtof
268   0000              	GLOBAL _strtod_callee
269   0000              	GLOBAL _strtod
270   0000              	GLOBAL _srand_fastcall
271   0000              	GLOBAL _srand
272   0000              	GLOBAL _rand
273   0000              	GLOBAL _quick_exit_fastcall
274   0000              	GLOBAL _quick_exit
275   0000              	GLOBAL _qsort_callee
276   0000              	GLOBAL _qsort
277   0000              	GLOBAL _ltoa_callee
278   0000              	GLOBAL _ltoa
279   0000              	GLOBAL _labs_fastcall
280   0000              	GLOBAL _labs
281   0000              	GLOBAL _itoa_callee
282   0000              	GLOBAL _itoa
283   0000              	GLOBAL _ftoh_callee
284   0000              	GLOBAL _ftoh
285   0000              	GLOBAL _ftog_callee
286   0000              	GLOBAL _ftog
287   0000              	GLOBAL _ftoe_callee
288   0000              	GLOBAL _ftoe
289   0000              	GLOBAL _ftoa_callee
290   0000              	GLOBAL _ftoa
291   0000              	GLOBAL _exit_fastcall
292   0000              	GLOBAL _exit
293   0000              	GLOBAL _dtoh_callee
294   0000              	GLOBAL _dtoh
295   0000              	GLOBAL _dtog_callee
296   0000              	GLOBAL _dtog
297   0000              	GLOBAL _dtoe_callee
298   0000              	GLOBAL _dtoe
299   0000              	GLOBAL _dtoa_callee
300   0000              	GLOBAL _dtoa
301   0000              	GLOBAL _bsearch_callee
302   0000              	GLOBAL _bsearch
303   0000              	GLOBAL _atol_fastcall
304   0000              	GLOBAL _atol
305   0000              	GLOBAL _atoi_fastcall
306   0000              	GLOBAL _atoi
307   0000              	GLOBAL _atof_fastcall
308   0000              	GLOBAL _atof
309   0000              	GLOBAL _atexit_fastcall
310   0000              	GLOBAL _atexit
311   0000              	GLOBAL _at_quick_exit_fastcall
312   0000              	GLOBAL _at_quick_exit
313   0000              	GLOBAL _abs_fastcall
314   0000              	GLOBAL _abs
315   0000              	GLOBAL _abort
316   0000              	GLOBAL __strtou__callee
317   0000              	GLOBAL __strtou_
318   0000              	GLOBAL __strtoi__callee
319   0000              	GLOBAL __strtoi_
320   0000              	GLOBAL __random_uniform_xor_8__fastcall
321   0000              	GLOBAL __random_uniform_xor_8_
322   0000              	GLOBAL __random_uniform_xor_32__fastcall
323   0000              	GLOBAL __random_uniform_xor_32_
324   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
325   0000              	GLOBAL __random_uniform_cmwc_8_
326   0000              	GLOBAL __shellsort__callee
327   0000              	GLOBAL __shellsort_
328   0000              	GLOBAL __quicksort__callee
329   0000              	GLOBAL __quicksort_
330   0000              	GLOBAL __insertion_sort__callee
331   0000              	GLOBAL __insertion_sort_
332   0000              	GLOBAL __ldivu__callee
333   0000              	GLOBAL __ldivu_
334   0000              	GLOBAL __ldiv__callee
335   0000              	GLOBAL __ldiv_
336   0000              	GLOBAL __divu__callee
337   0000              	GLOBAL __divu_
338   0000              	GLOBAL __div__callee
339   0000              	GLOBAL __div_
340   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
341   0000              	GLOBAL _NIRVANAP_drawTW_raw
342   0000              	GLOBAL _NIRVANAP_drawTW_callee
343   0000              	GLOBAL _NIRVANAP_drawTW
344   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawW_raw
346   0000              	GLOBAL _NIRVANAP_drawW_callee
347   0000              	GLOBAL _NIRVANAP_drawW
348   0000              	GLOBAL _NIRVANAP_spriteT_callee
349   0000              	GLOBAL _NIRVANAP_spriteT
350   0000              	GLOBAL _NIRVANAP_fillC_callee
351   0000              	GLOBAL _NIRVANAP_fillC
352   0000              	GLOBAL _NIRVANAP_readC_callee
353   0000              	GLOBAL _NIRVANAP_readC
354   0000              	GLOBAL _NIRVANAP_paintC_callee
355   0000              	GLOBAL _NIRVANAP_paintC
356   0000              	GLOBAL _NIRVANAP_printC_callee
357   0000              	GLOBAL _NIRVANAP_printC
358   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
359   0000              	GLOBAL _NIRVANAP_fillT_raw
360   0000              	GLOBAL _NIRVANAP_fillT_callee
361   0000              	GLOBAL _NIRVANAP_fillT
362   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawT_raw
364   0000              	GLOBAL _NIRVANAP_drawT_callee
365   0000              	GLOBAL _NIRVANAP_drawT
366   0000              	GLOBAL _NIRVANAP_stop
367   0000              	GLOBAL _NIRVANAP_start
368   0000              	GLOBAL _debug3
369   0000              	GLOBAL _debug2
370   0000              	GLOBAL _debug
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_print_bonus_time
375   0000              	GLOBAL _zx_isr
376   0000              	GLOBAL _z80_otdr_callee
377   0000              	GLOBAL _z80_otdr
378   0000              	GLOBAL _z80_otir_callee
379   0000              	GLOBAL _z80_otir
380   0000              	GLOBAL _z80_outp_callee
381   0000              	GLOBAL _z80_outp
382   0000              	GLOBAL _z80_indr_callee
383   0000              	GLOBAL _z80_indr
384   0000              	GLOBAL _z80_inir_callee
385   0000              	GLOBAL _z80_inir
386   0000              	GLOBAL _z80_inp_fastcall
387   0000              	GLOBAL _z80_inp
388   0000              	GLOBAL _z80_set_int_state_fastcall
389   0000              	GLOBAL _z80_set_int_state
390   0000              	GLOBAL _z80_get_int_state
391   0000              	GLOBAL _z80_delay_tstate_fastcall
392   0000              	GLOBAL _z80_delay_tstate
393   0000              	GLOBAL _z80_delay_ms_fastcall
394   0000              	GLOBAL _z80_delay_ms
395   0000              	GLOBAL _im2_remove_generic_callback_callee
396   0000              	GLOBAL _im2_remove_generic_callback
397   0000              	GLOBAL _im2_prepend_generic_callback_callee
398   0000              	GLOBAL _im2_prepend_generic_callback
399   0000              	GLOBAL _im2_append_generic_callback_callee
400   0000              	GLOBAL _im2_append_generic_callback
401   0000              	GLOBAL _im2_create_generic_isr_8080_callee
402   0000              	GLOBAL _im2_create_generic_isr_8080
403   0000              	GLOBAL _im2_create_generic_isr_callee
404   0000              	GLOBAL _im2_create_generic_isr
405   0000              	GLOBAL _im2_install_isr_callee
406   0000              	GLOBAL _im2_install_isr
407   0000              	GLOBAL _im2_init_fastcall
408   0000              	GLOBAL _im2_init
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _sound_hit_brick
528   0000              	GLOBAL _sound_hit_enemy
529   0000              	GLOBAL _sound_kill
530   0000              	GLOBAL _sound_enter_enemy
531   0000              	GLOBAL _sound_coin
532   0000              	GLOBAL _sound_jump
533   0000              	GLOBAL _sound_slide
534   0000              	GLOBAL _player_gasta_brick
535   0000              	GLOBAL _player_lost_life
536   0000              	GLOBAL _player_hit
537   0000              	GLOBAL _player_open_door
538   0000              	GLOBAL _player_move_jump
539   0000              	GLOBAL _player_fire
540   0000              	GLOBAL _player_check_stairs_down
541   0000              	GLOBAL _player_check_stairs
542   0000              	GLOBAL _player_tile
543   0000              	GLOBAL _player_pick_item
544   0000              	GLOBAL _player_check_floor
545   0000              	GLOBAL _player_hit_platform_clear
546   0000              	GLOBAL _player_score_add
547   0000              	GLOBAL _player_player_hit_pow
548   0000              	GLOBAL _player_hit_platform
549   0000              	GLOBAL _player_move_input
550   0000              	GLOBAL _player_turn
551   0000              	GLOBAL _player_move
552   0000              	GLOBAL _player_kill
553   0000              	GLOBAL _player_check_input
554   0000              	GLOBAL _player_collision
555   0000              	GLOBAL _player_init
556   0000              	GLOBAL _game_attribs
557   0000              	GLOBAL _game_boss_clear
558   0000              	GLOBAL _game_obj_clear
559   0000              	GLOBAL _game_obj_chk
560   0000              	GLOBAL _game_obj_set
561   0000              	GLOBAL _game_shoot_fire_boss
562   0000              	GLOBAL _game_shoot_fire
563   0000              	GLOBAL _game_add_enemy
564   0000              	GLOBAL _game_joystick_set_menu
565   0000              	GLOBAL _game_joystick_set
566   0000              	GLOBAL _game_joystick_change
567   0000              	GLOBAL _game_print_header
568   0000              	GLOBAL _game_end
569   0000              	GLOBAL _game_phase_print_score_back
570   0000              	GLOBAL _game_check_time
571   0000              	GLOBAL _game_rotate_attrib
572   0000              	GLOBAL _game_colour_message
573   0000              	GLOBAL _game_paint_attrib_lin_h
574   0000              	GLOBAL _game_paint_attrib_lin
575   0000              	GLOBAL _game_paint_attrib
576   0000              	GLOBAL _game_print_score
577   0000              	GLOBAL _game_unfreeze_all
578   0000              	GLOBAL _game_freeze_all
579   0000              	GLOBAL _game_freeze
580   0000              	GLOBAL _game_enemy_add_get_index
581   0000              	GLOBAL _game_check_cell
582   0000              	GLOBAL _game_check_map
583   0000              	GLOBAL _game_loop
584   0000              	GLOBAL _game_round_init
585   0000              	GLOBAL _game_start_timer
586   0000              	GLOBAL _game_tick
587   0000              	GLOBAL _game_update_stats
588   0000              	GLOBAL _game_print_footer
589   0000              	GLOBAL _game_fill_row
590   0000              	GLOBAL _game_fps
591   0000              	GLOBAL _game_respawn
592   0000              	GLOBAL _game_draw_screen
593   0000              	GLOBAL _boss_turn
594   0000              	GLOBAL _enemy_avoid_dead
595   0000              	GLOBAL _enemy_avoid_fall
596   0000              	GLOBAL _enemy_respawn
597   0000              	GLOBAL _enemy_init
598   0000              	GLOBAL _enemy_move
599   0000              	GLOBAL _enemy_turn
600   0000              	GLOBAL _enemy_hit
601   0000              	GLOBAL _enemy_coin1
602   0000              	GLOBAL _enemy_static
603   0000              	GLOBAL _enemy_walk
604   0000              	GLOBAL _enemy_horizontal
605   0000              	GLOBAL _enemy_vertical
606   0000              	GLOBAL _ay_fx_play
607   0000              	GLOBAL _ay_midi_play
608   0000              	GLOBAL _ay_is_playing
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _test_func
611   0000              	GLOBAL _test_proc
612   0000              	GLOBAL _in_mouse_kempston_wheel_delta
613   0000              	GLOBAL _in_mouse_kempston_wheel
614   0000              	GLOBAL _in_mouse_kempston_callee
615   0000              	GLOBAL _in_mouse_kempston
616   0000              	GLOBAL _in_mouse_kempston_setpos_callee
617   0000              	GLOBAL _in_mouse_kempston_setpos
618   0000              	GLOBAL _in_mouse_kempston_reset
619   0000              	GLOBAL _in_mouse_kempston_init
620   0000              	GLOBAL _in_mouse_amx_wheel_delta
621   0000              	GLOBAL _in_mouse_amx_wheel
622   0000              	GLOBAL _in_mouse_amx_callee
623   0000              	GLOBAL _in_mouse_amx
624   0000              	GLOBAL _in_mouse_amx_setpos_callee
625   0000              	GLOBAL _in_mouse_amx_setpos
626   0000              	GLOBAL _in_mouse_amx_reset
627   0000              	GLOBAL _in_mouse_amx_init_callee
628   0000              	GLOBAL _in_mouse_amx_init
629   0000              	GLOBAL _in_stick_sinclair2
630   0000              	GLOBAL _in_stick_sinclair1
631   0000              	GLOBAL _in_stick_kempston
632   0000              	GLOBAL _in_stick_fuller
633   0000              	GLOBAL _in_stick_cursor
634   0000              	GLOBAL _in_stick_keyboard_fastcall
635   0000              	GLOBAL _in_stick_keyboard
636   0000              	GLOBAL _in_wait_nokey
637   0000              	GLOBAL _in_wait_key
638   0000              	GLOBAL _in_test_key
639   0000              	GLOBAL _in_pause_fastcall
640   0000              	GLOBAL _in_pause
641   0000              	GLOBAL _in_key_scancode_fastcall
642   0000              	GLOBAL _in_key_scancode
643   0000              	GLOBAL _in_key_pressed_fastcall
644   0000              	GLOBAL _in_key_pressed
645   0000              	GLOBAL _in_inkey
646   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
647   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
648   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
649   0000              	GLOBAL _NIRVANAP_HOLE
650   0000              	GLOBAL _NIRVANAP_ISR_HOOK
651   0000              	GLOBAL _player_lvl_table
652   0000              	GLOBAL _map_paper_last
653   0000              	GLOBAL _map_paper_clr
654   0000              	GLOBAL _map_paper
655   0000              	GLOBAL _draw_count
656   0000              	GLOBAL _g_player_hit_right
657   0000              	GLOBAL _g_player_hit_left
658   0000              	GLOBAL _joynames
659   0000              	GLOBAL _initials
660   0000              	GLOBAL _bullet_count
661   0000              	GLOBAL _spr_hack
662   0000              	GLOBAL _boss_stat
663   0000              	GLOBAL _boss_time_fire
664   0000              	GLOBAL _boss_time
665   0000              	GLOBAL _boss_tile
666   0000              	GLOBAL _boss_inc
667   0000              	GLOBAL _boss_col
668   0000              	GLOBAL _boss_lin
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_obj1
694   0000              	GLOBAL _scr_obj0
695   0000              	GLOBAL _scr_map
696   0000              	GLOBAL _sprite_speed_alt
697   0000              	GLOBAL _sprite_frames
698   0000              	GLOBAL _sprite_speed
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _player_over_stair
702   0000              	GLOBAL _game_start_scr
703   0000              	GLOBAL _game_respawn_tile
704   0000              	GLOBAL _game_respawn_index
705   0000              	GLOBAL _game_respawn_time
706   0000              	GLOBAL _game_menu_sel
707   0000              	GLOBAL _game_score_top
708   0000              	GLOBAL _player_lives
709   0000              	GLOBAL _game_over
710   0000              	GLOBAL _game_sound
711   0000              	GLOBAL _game_inmune
712   0000              	GLOBAL _game_god_mode
713   0000              	GLOBAL _game_two_player
714   0000              	GLOBAL _game_brick_tile
715   0000              	GLOBAL _sprite_curr_index
716   0000              	GLOBAL _spr_count
717   0000              	GLOBAL _bullet_time
718   0000              	GLOBAL _anim_time
719   0000              	GLOBAL _frame_time
720   0000              	GLOBAL _entry_time
721   0000              	GLOBAL _curr_time
722   0000              	GLOBAL _s_state
723   0000              	GLOBAL _attrib_hl
724   0000              	GLOBAL _attrib
725   0000              	GLOBAL _zx_val_asm
726   0000              	GLOBAL _enemies
727   0000              	GLOBAL _tmp_ui
728   0000              	GLOBAL _tmp_sc
729   0000              	GLOBAL _tmp_uc
730   0000              	GLOBAL _tmp1
731   0000              	GLOBAL _tmp0
732   0000              	GLOBAL _tmp
733   0000              	GLOBAL _index1
734   0000              	GLOBAL _index0
735   0000              	GLOBAL _loop_count
736   0000              	GLOBAL _s_col1
737   0000              	GLOBAL _s_col0
738   0000              	GLOBAL _s_lin1
739   0000              	GLOBAL _s_lin0
740   0000              	GLOBAL _s_tile1
741   0000              	GLOBAL _s_tile0
742   0000              	GLOBAL _player_brick_time
743   0000              	GLOBAL _player_hit_count
744   0000              	GLOBAL _sprite_horizontal_check
745   0000              	GLOBAL _sprite_on_air
746   0000              	GLOBAL _sprite
747   0000              	GLOBAL _fps
748   0000              	GLOBAL _game_respawn_curr_time
749   0000              	GLOBAL _game_worldup
750   0000              	GLOBAL _game_mush_count
751   0000              	GLOBAL _game_boss_fix
752   0000              	GLOBAL _game_boss_hit
753   0000              	GLOBAL _game_boss_alive
754   0000              	GLOBAL _game_boss
755   0000              	GLOBAL _game_world
756   0000              	GLOBAL _game_gravity
757   0000              	GLOBAL _player_anim_stair
758   0000              	GLOBAL _player_hit_time
759   0000              	GLOBAL _player_lin_scr
760   0000              	GLOBAL _player_col_scr
761   0000              	GLOBAL _player_lvl
762   0000              	GLOBAL _player_int
763   0000              	GLOBAL _player_str
764   0000              	GLOBAL _player_max_vita
765   0000              	GLOBAL _player_max_mana
766   0000              	GLOBAL _player_vita
767   0000              	GLOBAL _player_mana
768   0000              	GLOBAL _player_keys
769   0000              	GLOBAL _player_vel_inc
770   0000              	GLOBAL _player_vel_y1
771   0000              	GLOBAL _player_vel_y0
772   0000              	GLOBAL _player_vel_y
773   0000              	GLOBAL _player_vel_x
774   0000              	GLOBAL _player_joy
775   0000              	GLOBAL _player_score
776   0000              	GLOBAL _last_time
777   0000              	GLOBAL _player_slide
778   0000              	GLOBAL _spr_timer
779   0000              	GLOBAL _jump_lin
780   0000              	GLOBAL _player_hit_col
781   0000              	GLOBAL _player_hit_lin
782   0000              	GLOBAL _colint
783   0000              	GLOBAL _col
784   0000              	GLOBAL _lin
785   0000              	GLOBAL _tile
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _tbuffer
790   0000              	GLOBAL _dirs
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc1
793   0000              	GLOBAL _btiles
794   0000              	GLOBAL _spec128
795   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
798   0000              	GLOBAL _ay_effect_20
799   0000              	GLOBAL _ay_effect_19
800   0000              	GLOBAL _ay_effect_18
801   0000              	GLOBAL _ay_effect_17
802   0000              	GLOBAL _ay_effect_16
803   0000              	GLOBAL _ay_effect_15
804   0000              	GLOBAL _ay_effect_14
805   0000              	GLOBAL _ay_effect_13
806   0000              	GLOBAL _ay_effect_12
807   0000              	GLOBAL _ay_effect_11
808   0000              	GLOBAL _ay_effect_10
809   0000              	GLOBAL _ay_effect_09
810   0000              	GLOBAL _ay_effect_08
811   0000              	GLOBAL _ay_effect_07
812   0000              	GLOBAL _ay_effect_06
813   0000              	GLOBAL _ay_effect_05
814   0000              	GLOBAL _ay_effect_04
815   0000              	GLOBAL _ay_effect_03
816   0000              	GLOBAL _ay_effect_02
817   0000              	GLOBAL _ay_effect_01
818   0000              	GLOBAL _pb_midi_phase_1
819   0000              	GLOBAL _pb_midi_title
820   0000              	GLOBAL _control_method
821   0000              	GLOBAL _world1_h
822   0000              	GLOBAL _world1_w
823   0000              	GLOBAL _world1
824   0000              	GLOBAL _paper1
825   0000              	GLOBAL _lenght1
826   0000              	GLOBAL _start_scr1
827   0000              	GLOBAL _world0_h
828   0000              	GLOBAL _world0_w
829   0000              	GLOBAL _world0
830   0000              	GLOBAL _paper0
831   0000              	GLOBAL _lenght0
832   0000              	GLOBAL _start_scr0
833   0000              ;--------------------------------------------------------
834   0000              ; special function registers
835   0000              ;--------------------------------------------------------
836   0000              defc _IO_FE	=	0x00fe
837   0000              defc _IO_1FFD	=	0x1ffd
838   0000              defc _IO_7FFD	=	0x7ffd
839   0000              ;--------------------------------------------------------
840   0000              ; ram data
841   0000              ;--------------------------------------------------------
842   0000              	SECTION bss_compiler
843   0000              ;--------------------------------------------------------
844   0000              ; ram data
845   0000              ;--------------------------------------------------------
846   0000              
847   0000              IF 0
848   0000              
849   0000              ; .area _INITIALIZED removed by z88dk
850   0000              
851   0000              
852   0000              ENDIF
853   0000              
854   0000              ;--------------------------------------------------------
855   0000              ; absolute external ram data
856   0000              ;--------------------------------------------------------
857   0000              	SECTION IGNORE
858   0000              ;--------------------------------------------------------
859   0000              ; global & static initialisations
860   0000              ;--------------------------------------------------------
861   0000              	SECTION code_crt_init
862   0000              ;--------------------------------------------------------
863   0000              ; Home
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; code
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_compiler
870   0000              ;	---------------------------------
871   0000              ; Function spr_calc_index
872   0000              ; ---------------------------------
873   0000              _spr_calc_index:
874   0000  CD 00 00    	call	___sdcc_enter_ix
875   0003  DD 4E 05    	ld	c,(ix+5)
876   0006  CB 39       	srl	c
877   0008  06 00       	ld	b,0x00
878   000A  DD 7E 04    	ld	a,(ix+4)
879   000D  07          	rlca
880   000E  07          	rlca
881   000F  07          	rlca
882   0010  07          	rlca
883   0011  E6 0F       	and	a,0x0f
884   0013  6F          	ld	l, a
885   0014  26 00       	ld	h,0x00
886   0016  29          	add	hl, hl
887   0017  29          	add	hl, hl
888   0018  29          	add	hl, hl
889   0019  29          	add	hl, hl
890   001A  09          	add	hl, bc
891   001B  DD E1       	pop	ix
892   001D  C9          	ret
893   001E              	SECTION code_compiler
894   001E              ;	---------------------------------
895   001E              ; Function spr_chktime
896   001E              ; ---------------------------------
897   001E              _spr_chktime:
898   001E  CD 00 00    	call	___sdcc_enter_ix
899   0021  5E          	ld	e,(hl)
900   0022  F5          	push	af
901   0023  16 00       	ld	d,0x00
902   0025  4D          	ld	c,l
903   0026  44          	ld	b,h
904   0027  21 00 00    	ld	hl,_sprite_speed_alt
905   002A  19          	add	hl, de
906   002B  7E          	ld	a, (hl)
907   002C  B7          	or	a,a
908   002D  20 15       	jr	NZ,l_spr_chktime_00102
909   002F  57          	ld	d,a
910   0030  21 00 00    	ld	hl,_class
911   0033  19          	add	hl, de
912   0034  56          	ld	d, (hl)
913   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
914   0037  82          	add	a, d
915   0038  6F          	ld	l, a
916   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
917   003B  CE 00       	adc	a,0x00
918   003D  67          	ld	h, a
919   003E  7E          	ld	a, (hl)
920   003F  32 00 00    	ld	(_tmp),a
921   0042  18 03       	jr	l_spr_chktime_00103
922   0044              l_spr_chktime_00102:
923   0044  32 00 00    	ld	(_tmp),a
924   0047              l_spr_chktime_00103:
925   0047  3A 00 00    	ld	a,(_tmp)
926   004A  DD 77 FE    	ld	(ix-2),a
927   004D  26 00       	ld	h,0x00
928   004F  DD 74 FF    	ld	(ix-1),h
929   0052  6B          	ld	l, e
930   0053  29          	add	hl, hl
931   0054  11 00 00    	ld	de,_last_time
932   0057  19          	add	hl, de
933   0058  5E          	ld	e, (hl)
934   0059  23          	inc	hl
935   005A  56          	ld	d, (hl)
936   005B  C5          	push	bc
937   005C  DD 6E FE    	ld	l,(ix-2)
938   005F  DD 66 FF    	ld	h,(ix-1)
939   0062  E5          	push	hl
940   0063  D5          	push	de
941   0064  CD 00 00    	call	_game_check_time
942   0067  F1          	pop	af
943   0068  F1          	pop	af
944   0069  C1          	pop	bc
945   006A  7D          	ld	a,l
946   006B  B7          	or	a, a
947   006C  28 14       	jr	Z,l_spr_chktime_00105
948   006E  0A          	ld	a, (bc)
949   006F  6F          	ld	l, a
950   0070  26 00       	ld	h,0x00
951   0072  29          	add	hl, hl
952   0073  01 00 00    	ld	bc,_last_time
953   0076  09          	add	hl,bc
954   0077  ED 5B 00 00 	ld	de,(_curr_time)
955   007B  73          	ld	(hl),e
956   007C  23          	inc	hl
957   007D  72          	ld	(hl),d
958   007E  2E 01       	ld	l,0x01
959   0080  18 02       	jr	l_spr_chktime_00106
960   0082              l_spr_chktime_00105:
961   0082  2E 00       	ld	l,0x00
962   0084              l_spr_chktime_00106:
963   0084  F1          	pop	af
964   0085  DD E1       	pop	ix
965   0087  C9          	ret
966   0088              	SECTION code_compiler
967   0088              ;	---------------------------------
968   0088              ; Function spr_move_up
969   0088              ; ---------------------------------
970   0088              _spr_move_up:
971   0088  2A 00 00    	ld	hl,(_sprite)
972   008B  26 00       	ld	h,0x00
973   008D  01 00 00    	ld	bc,_lin
974   0090  09          	add	hl,bc
975   0091  7E          	ld	a,(hl)
976   0092  C6 FE       	add	a,0xfe
977   0094  32 00 00    	ld	(_s_lin1),a
978   0097  07          	rlca
979   0098  07          	rlca
980   0099  07          	rlca
981   009A  07          	rlca
982   009B  E6 0F       	and	a,0x0f
983   009D  4F          	ld	c, a
984   009E  3A 00 00    	ld	a,(_s_lin0)
985   00A1  07          	rlca
986   00A2  07          	rlca
987   00A3  07          	rlca
988   00A4  07          	rlca
989   00A5  E6 0F       	and	a,0x0f
990   00A7  47          	ld	b, a
991   00A8  79          	ld	a, c
992   00A9  90          	sub	a, b
993   00AA  20 04       	jr	NZ,l_spr_move_up_00136
994   00AC  3E 01       	ld	a,0x01
995   00AE  18 01       	jr	l_spr_move_up_00137
996   00B0              l_spr_move_up_00136:
997   00B0  AF          	xor	a,a
998   00B1              l_spr_move_up_00137:
999   00B1  EE 01       	xor	a,0x01
1000  00B3  28 1D       	jr	Z,l_spr_move_up_00104
1001  00B5  2A 00 00    	ld	hl,(_sprite)
1002  00B8  26 00       	ld	h,0x00
1003  00BA  01 00 00    	ld	bc,_col
1004  00BD  09          	add	hl,bc
1005  00BE  7E          	ld	a,(hl)
1006  00BF  F5          	push	af
1007  00C0  33          	inc	sp
1008  00C1  3A 00 00    	ld	a,(_s_lin1)
1009  00C4  F5          	push	af
1010  00C5  33          	inc	sp
1011  00C6  CD 00 00    	call	_game_check_map
1012  00C9  F1          	pop	af
1013  00CA  7C          	ld	a,h
1014  00CB  B5          	or	a,l
1015  00CC  28 04       	jr	Z,l_spr_move_up_00104
1016  00CE  2E 01       	ld	l,0x01
1017  00D0  18 3F       	jr	l_spr_move_up_00114
1018  00D2              l_spr_move_up_00104:
1019  00D2  2A 00 00    	ld	hl,(_sprite)
1020  00D5  26 00       	ld	h,0x00
1021  00D7  01 00 00    	ld	bc,_lin
1022  00DA  09          	add	hl,bc
1023  00DB  3A 00 00    	ld	a,(_s_lin1)
1024  00DE  D6 10       	sub	a,0x10
1025  00E0  4D          	ld	c,l
1026  00E1  44          	ld	b,h
1027  00E2  30 27       	jr	NC,l_spr_move_up_00112
1028  00E4  3A 00 00    	ld	a,(_sprite)
1029  00E7  D6 07       	sub	a,0x07
1030  00E9  20 1A       	jr	NZ,l_spr_move_up_00109
1031  00EB  CD 73 04    	call	_spr_page_up
1032  00EE  7D          	ld	a, l
1033  00EF  B7          	or	a, a
1034  00F0  28 04       	jr	Z,l_spr_move_up_00106
1035  00F2  2E 01       	ld	l,0x01
1036  00F4  18 1B       	jr	l_spr_move_up_00114
1037  00F6              l_spr_move_up_00106:
1038  00F6  2A 00 00    	ld	hl,(_sprite)
1039  00F9  26 00       	ld	h,0x00
1040  00FB  01 00 00    	ld	bc,_lin
1041  00FE  09          	add	hl,bc
1042  00FF  AF          	xor	a,a
1043  0100  77          	ld	(hl),a
1044  0101  2E 01       	ld	l,0x01
1045  0103  18 0C       	jr	l_spr_move_up_00114
1046  0105              l_spr_move_up_00109:
1047  0105  AF          	xor	a, a
1048  0106  02          	ld	(bc), a
1049  0107  2E 01       	ld	l,0x01
1050  0109  18 06       	jr	l_spr_move_up_00114
1051  010B              l_spr_move_up_00112:
1052  010B  3A 00 00    	ld	a,(_s_lin1)
1053  010E  02          	ld	(bc), a
1054  010F  2E 00       	ld	l,0x00
1055  0111              l_spr_move_up_00114:
1056  0111  C9          	ret
1057  0112              	SECTION code_compiler
1058  0112              ;	---------------------------------
1059  0112              ; Function spr_move_down
1060  0112              ; ---------------------------------
1061  0112              _spr_move_down:
1062  0112  2A 00 00    	ld	hl,(_sprite)
1063  0115  26 00       	ld	h,0x00
1064  0117  01 00 00    	ld	bc,_lin
1065  011A  09          	add	hl,bc
1066  011B  7E          	ld	a,(hl)
1067  011C  C6 10       	add	a,0x10
1068  011E  32 00 00    	ld	(_s_lin1),a
1069  0121  07          	rlca
1070  0122  07          	rlca
1071  0123  07          	rlca
1072  0124  07          	rlca
1073  0125  E6 0F       	and	a,0x0f
1074  0127  4F          	ld	c, a
1075  0128  3A 00 00    	ld	a,(_s_lin0)
1076  012B  07          	rlca
1077  012C  07          	rlca
1078  012D  07          	rlca
1079  012E  07          	rlca
1080  012F  E6 0F       	and	a,0x0f
1081  0131  47          	ld	b, a
1082  0132  79          	ld	a, c
1083  0133  90          	sub	a, b
1084  0134  20 04       	jr	NZ,l_spr_move_down_00136
1085  0136  3E 01       	ld	a,0x01
1086  0138  18 01       	jr	l_spr_move_down_00137
1087  013A              l_spr_move_down_00136:
1088  013A  AF          	xor	a,a
1089  013B              l_spr_move_down_00137:
1090  013B  EE 01       	xor	a,0x01
1091  013D  28 1D       	jr	Z,l_spr_move_down_00104
1092  013F  2A 00 00    	ld	hl,(_sprite)
1093  0142  26 00       	ld	h,0x00
1094  0144  01 00 00    	ld	bc,_col
1095  0147  09          	add	hl,bc
1096  0148  7E          	ld	a,(hl)
1097  0149  F5          	push	af
1098  014A  33          	inc	sp
1099  014B  3A 00 00    	ld	a,(_s_lin1)
1100  014E  F5          	push	af
1101  014F  33          	inc	sp
1102  0150  CD 00 00    	call	_game_check_map
1103  0153  F1          	pop	af
1104  0154  7C          	ld	a,h
1105  0155  B5          	or	a,l
1106  0156  28 04       	jr	Z,l_spr_move_down_00104
1107  0158  2E 01       	ld	l,0x01
1108  015A  18 43       	jr	l_spr_move_down_00114
1109  015C              l_spr_move_down_00104:
1110  015C  2A 00 00    	ld	hl,(_sprite)
1111  015F  26 00       	ld	h,0x00
1112  0161  01 00 00    	ld	bc,_lin
1113  0164  09          	add	hl,bc
1114  0165  3E 98       	ld	a,0x98
1115  0167  4D          	ld	c,l
1116  0168  44          	ld	b,h
1117  0169  21 00 00    	ld	hl,_s_lin1
1118  016C  96          	sub	a, (hl)
1119  016D  30 28       	jr	NC,l_spr_move_down_00112
1120  016F  3A 00 00    	ld	a,(_sprite)
1121  0172  D6 07       	sub	a,0x07
1122  0174  20 1A       	jr	NZ,l_spr_move_down_00109
1123  0176  CD 24 04    	call	_spr_page_down
1124  0179  7D          	ld	a, l
1125  017A  B7          	or	a, a
1126  017B  28 04       	jr	Z,l_spr_move_down_00106
1127  017D  2E 01       	ld	l,0x01
1128  017F  18 1E       	jr	l_spr_move_down_00114
1129  0181              l_spr_move_down_00106:
1130  0181  2A 00 00    	ld	hl,(_sprite)
1131  0184  26 00       	ld	h,0x00
1132  0186  01 00 00    	ld	bc,_lin
1133  0189  09          	add	hl,bc
1134  018A  36 90       	ld	(hl),0x90
1135  018C  2E 01       	ld	l,0x01
1136  018E  18 0F       	jr	l_spr_move_down_00114
1137  0190              l_spr_move_down_00109:
1138  0190  3E 90       	ld	a,0x90
1139  0192  02          	ld	(bc), a
1140  0193  2E 01       	ld	l,0x01
1141  0195  18 08       	jr	l_spr_move_down_00114
1142  0197              l_spr_move_down_00112:
1143  0197  3A 00 00    	ld	a,(_s_lin1)
1144  019A  C6 F2       	add	a,0xf2
1145  019C  02          	ld	(bc), a
1146  019D  2E 00       	ld	l,0x00
1147  019F              l_spr_move_down_00114:
1148  019F  C9          	ret
1149  01A0              	SECTION code_compiler
1150  01A0              ;	---------------------------------
1151  01A0              ; Function spr_move_horizontal
1152  01A0              ; ---------------------------------
1153  01A0              _spr_move_horizontal:
1154  01A0  2A 00 00    	ld	hl,(_sprite)
1155  01A3  26 00       	ld	h,0x00
1156  01A5  01 00 00    	ld	bc,_state
1157  01A8  09          	add	hl,bc
1158  01A9  7E          	ld	a,(hl)
1159  01AA  CB 57       	bit	2, a
1160  01AC  28 05       	jr	Z,l_spr_move_horizontal_00104
1161  01AE  CD BF 01    	call	_spr_move_right
1162  01B1  18 0B       	jr	l_spr_move_horizontal_00106
1163  01B3              l_spr_move_horizontal_00104:
1164  01B3  CB 5F       	bit	3, a
1165  01B5  28 05       	jr	Z,l_spr_move_horizontal_00105
1166  01B7  CD BE 02    	call	_spr_move_left
1167  01BA  18 02       	jr	l_spr_move_horizontal_00106
1168  01BC              l_spr_move_horizontal_00105:
1169  01BC  2E 00       	ld	l,0x00
1170  01BE              l_spr_move_horizontal_00106:
1171  01BE  C9          	ret
1172  01BF              	SECTION code_compiler
1173  01BF              ;	---------------------------------
1174  01BF              ; Function spr_move_right
1175  01BF              ; ---------------------------------
1176  01BF              _spr_move_right:
1177  01BF  2A 00 00    	ld	hl,(_sprite)
1178  01C2  26 00       	ld	h,0x00
1179  01C4  01 00 00    	ld	bc,_colint
1180  01C7  09          	add	hl,bc
1181  01C8  7E          	ld	a,(hl)
1182  01C9  3C          	inc	a
1183  01CA  77          	ld	(hl),a
1184  01CB  4F          	ld	c,a
1185  01CC  3A 00 00    	ld	a,(_sprite)
1186  01CF  5F          	ld	e,a
1187  01D0  16 00       	ld	d,0x00
1188  01D2  21 00 00    	ld	hl,_class
1189  01D5  19          	add	hl,de
1190  01D6  5E          	ld	e, (hl)
1191  01D7  16 00       	ld	d,0x00
1192  01D9  21 00 00    	ld	hl,_sprite_frames
1193  01DC  19          	add	hl, de
1194  01DD  7E          	ld	a, (hl)
1195  01DE  91          	sub	a, c
1196  01DF  C2 BB 02    	jp	NZ,l_spr_move_right_00118
1197  01E2  2A 00 00    	ld	hl,(_sprite)
1198  01E5  26 00       	ld	h,0x00
1199  01E7  01 00 00    	ld	bc,_lin
1200  01EA  09          	add	hl,bc
1201  01EB  7E          	ld	a,(hl)
1202  01EC  32 00 00    	ld	(_s_lin1),a
1203  01EF  2A 00 00    	ld	hl,(_sprite)
1204  01F2  26 00       	ld	h,0x00
1205  01F4  01 00 00    	ld	bc,_col
1206  01F7  09          	add	hl,bc
1207  01F8  7E          	ld	a,(hl)
1208  01F9  FE 1E       	cp	a,0x1e
1209  01FB  30 61       	jr	NC,l_spr_move_right_00108
1210  01FD  3C          	inc	a
1211  01FE  32 00 00    	ld	(_s_col1),a
1212  0201  21 00 00    	ld	hl,_sprite_horizontal_check
1213  0204  36 01       	ld	(hl),0x01
1214  0206  2A FF FF    	ld	hl,(_s_col1 - 1)
1215  0209  3A 00 00    	ld	a,(_s_lin1)
1216  020C  6F          	ld	l,a
1217  020D  E5          	push	hl
1218  020E  CD 00 00    	call	_game_check_map
1219  0211  F1          	pop	af
1220  0212  7D          	ld	a,l
1221  0213  32 00 00    	ld	(_tmp0),a
1222  0216  B7          	or	a, a
1223  0217  20 16       	jr	NZ,l_spr_move_right_00102
1224  0219  3A 00 00    	ld	a,(_s_lin1)
1225  021C  C6 0F       	add	a,0x0f
1226  021E  4F          	ld	c, a
1227  021F  3A 00 00    	ld	a,(_s_col1)
1228  0222  F5          	push	af
1229  0223  33          	inc	sp
1230  0224  79          	ld	a, c
1231  0225  F5          	push	af
1232  0226  33          	inc	sp
1233  0227  CD 00 00    	call	_game_check_map
1234  022A  F1          	pop	af
1235  022B  7D          	ld	a,l
1236  022C  32 00 00    	ld	(_tmp0),a
1237  022F              l_spr_move_right_00102:
1238  022F  21 00 00    	ld	hl,_sprite_horizontal_check
1239  0232  36 00       	ld	(hl),0x00
1240  0234  3A 00 00    	ld	a,(_tmp0)
1241  0237  B7          	or	a, a
1242  0238  28 24       	jr	Z,l_spr_move_right_00108
1243  023A  2A 00 00    	ld	hl,(_sprite)
1244  023D  26 00       	ld	h,0x00
1245  023F  01 00 00    	ld	bc,_colint
1246  0242  09          	add	hl,bc
1247  0243  7E          	ld	a,(hl)
1248  0244  C6 FF       	add	a,0xff
1249  0246  77          	ld	(hl),a
1250  0247  3A 00 00    	ld	a,(_sprite_on_air)
1251  024A  B7          	or	a,a
1252  024B  20 0D       	jr	NZ,l_spr_move_right_00104
1253  024D  2A 00 00    	ld	hl,(_sprite)
1254  0250  26 00       	ld	h,0x00
1255  0252  01 00 00    	ld	bc,_colint
1256  0255  09          	add	hl,bc
1257  0256  7E          	ld	a,(hl)
1258  0257  C6 FF       	add	a,0xff
1259  0259  77          	ld	(hl),a
1260  025A              l_spr_move_right_00104:
1261  025A  2E 01       	ld	l,0x01
1262  025C  18 5F       	jr	l_spr_move_right_00119
1263  025E              l_spr_move_right_00108:
1264  025E  2A 00 00    	ld	hl,(_sprite)
1265  0261  26 00       	ld	h,0x00
1266  0263  01 00 00    	ld	bc,_col
1267  0266  09          	add	hl,bc
1268  0267  34          	inc	(hl)
1269  0268  2A 00 00    	ld	hl,(_sprite)
1270  026B  26 00       	ld	h,0x00
1271  026D  01 00 00    	ld	bc,_colint
1272  0270  09          	add	hl,bc
1273  0271  AF          	xor	a,a
1274  0272  77          	ld	(hl),a
1275  0273  2A 00 00    	ld	hl,(_sprite)
1276  0276  26 00       	ld	h,0x00
1277  0278  01 00 00    	ld	bc,_col
1278  027B  09          	add	hl,bc
1279  027C  5E          	ld	e,(hl)
1280  027D  3E 1E       	ld	a,0x1e
1281  027F  93          	sub	a,e
1282  0280  30 39       	jr	NC,l_spr_move_right_00118
1283  0282  3A 00 00    	ld	a,(_sprite)
1284  0285  D6 07       	sub	a,0x07
1285  0287  28 04       	jr	Z,l_spr_move_right_00156
1286  0289  4D          	ld	c,l
1287  028A  44          	ld	b,h
1288  028B  18 27       	jr	l_spr_move_right_00113
1289  028D              l_spr_move_right_00156:
1290  028D  CD C2 03    	call	_spr_page_right
1291  0290  3A 00 00    	ld	a,(_sprite)
1292  0293  C6 00       	add	a,+((_col) & 0xFF)
1293  0295  4D          	ld	c,l
1294  0296  5F          	ld	e,a
1295  0297  3E 00       	ld	a,+((_col) / 256)
1296  0299  CE 00       	adc	a,0x00
1297  029B  57          	ld	d,a
1298  029C  79          	ld	a, c
1299  029D  B7          	or	a, a
1300  029E  28 0F       	jr	Z,l_spr_move_right_00110
1301  02A0  AF          	xor	a, a
1302  02A1  12          	ld	(de), a
1303  02A2  3A 07 00    	ld	a,(_lin + 7)
1304  02A5  32 00 00    	ld	(_player_lin_scr),a
1305  02A8  21 00 00    	ld	hl,_player_col_scr
1306  02AB  36 00       	ld	(hl),0x00
1307  02AD  18 08       	jr	l_spr_move_right_00114
1308  02AF              l_spr_move_right_00110:
1309  02AF  3E 1E       	ld	a,0x1e
1310  02B1  12          	ld	(de), a
1311  02B2  18 03       	jr	l_spr_move_right_00114
1312  02B4              l_spr_move_right_00113:
1313  02B4  3E 1E       	ld	a,0x1e
1314  02B6  02          	ld	(bc), a
1315  02B7              l_spr_move_right_00114:
1316  02B7  2E 01       	ld	l,0x01
1317  02B9  18 02       	jr	l_spr_move_right_00119
1318  02BB              l_spr_move_right_00118:
1319  02BB  2E 00       	ld	l,0x00
1320  02BD              l_spr_move_right_00119:
1321  02BD  C9          	ret
1322  02BE              	SECTION code_compiler
1323  02BE              ;	---------------------------------
1324  02BE              ; Function spr_move_left
1325  02BE              ; ---------------------------------
1326  02BE              _spr_move_left:
1327  02BE  2A 00 00    	ld	hl,(_sprite)
1328  02C1  26 00       	ld	h,0x00
1329  02C3  01 00 00    	ld	bc,_colint
1330  02C6  09          	add	hl,bc
1331  02C7  7E          	ld	a,(hl)
1332  02C8  C6 FF       	add	a,0xff
1333  02CA  77          	ld	(hl),a
1334  02CB  2A 00 00    	ld	hl,(_sprite)
1335  02CE  26 00       	ld	h,0x00
1336  02D0  01 00 00    	ld	bc,_colint
1337  02D3  09          	add	hl,bc
1338  02D4  7E          	ld	a,(hl)
1339  02D5  3C          	inc	a
1340  02D6  C2 BF 03    	jp	NZ,l_spr_move_left_00118
1341  02D9  2A 00 00    	ld	hl,(_sprite)
1342  02DC  26 00       	ld	h,0x00
1343  02DE  01 00 00    	ld	bc,_lin
1344  02E1  09          	add	hl,bc
1345  02E2  7E          	ld	a,(hl)
1346  02E3  32 00 00    	ld	(_s_lin1),a
1347  02E6  2A 00 00    	ld	hl,(_sprite)
1348  02E9  26 00       	ld	h,0x00
1349  02EB  01 00 00    	ld	bc,_col
1350  02EE  09          	add	hl,bc
1351  02EF  7E          	ld	a,(hl)
1352  02F0  B7          	or	a, a
1353  02F1  28 5C       	jr	Z,l_spr_move_left_00108
1354  02F3  C6 FF       	add	a,0xff
1355  02F5  32 00 00    	ld	(_s_col1),a
1356  02F8  21 00 00    	ld	hl,_sprite_horizontal_check
1357  02FB  36 01       	ld	(hl),0x01
1358  02FD  2A FF FF    	ld	hl,(_s_col1 - 1)
1359  0300  3A 00 00    	ld	a,(_s_lin1)
1360  0303  6F          	ld	l,a
1361  0304  E5          	push	hl
1362  0305  CD 00 00    	call	_game_check_map
1363  0308  F1          	pop	af
1364  0309  7D          	ld	a,l
1365  030A  32 00 00    	ld	(_tmp0),a
1366  030D  B7          	or	a, a
1367  030E  20 16       	jr	NZ,l_spr_move_left_00102
1368  0310  3A 00 00    	ld	a,(_s_lin1)
1369  0313  C6 0F       	add	a,0x0f
1370  0315  4F          	ld	c, a
1371  0316  3A 00 00    	ld	a,(_s_col1)
1372  0319  F5          	push	af
1373  031A  33          	inc	sp
1374  031B  79          	ld	a, c
1375  031C  F5          	push	af
1376  031D  33          	inc	sp
1377  031E  CD 00 00    	call	_game_check_map
1378  0321  F1          	pop	af
1379  0322  7D          	ld	a,l
1380  0323  32 00 00    	ld	(_tmp0),a
1381  0326              l_spr_move_left_00102:
1382  0326  21 00 00    	ld	hl,_sprite_horizontal_check
1383  0329  36 00       	ld	(hl),0x00
1384  032B  3A 00 00    	ld	a,(_tmp0)
1385  032E  B7          	or	a, a
1386  032F  28 1E       	jr	Z,l_spr_move_left_00108
1387  0331  2A 00 00    	ld	hl,(_sprite)
1388  0334  26 00       	ld	h,0x00
1389  0336  01 00 00    	ld	bc,_colint
1390  0339  09          	add	hl,bc
1391  033A  34          	inc	(hl)
1392  033B  3A 00 00    	ld	a,(_sprite_on_air)
1393  033E  B7          	or	a,a
1394  033F  20 0A       	jr	NZ,l_spr_move_left_00104
1395  0341  2A 00 00    	ld	hl,(_sprite)
1396  0344  26 00       	ld	h,0x00
1397  0346  01 00 00    	ld	bc,_colint
1398  0349  09          	add	hl,bc
1399  034A  34          	inc	(hl)
1400  034B              l_spr_move_left_00104:
1401  034B  2E 01       	ld	l,0x01
1402  034D  18 72       	jr	l_spr_move_left_00119
1403  034F              l_spr_move_left_00108:
1404  034F  2A 00 00    	ld	hl,(_sprite)
1405  0352  26 00       	ld	h,0x00
1406  0354  01 00 00    	ld	bc,_col
1407  0357  09          	add	hl,bc
1408  0358  7E          	ld	a,(hl)
1409  0359  C6 FF       	add	a,0xff
1410  035B  77          	ld	(hl),a
1411  035C  2A 00 00    	ld	hl,(_sprite)
1412  035F  26 00       	ld	h,0x00
1413  0361  01 00 00    	ld	bc,_colint
1414  0364  09          	add	hl,bc
1415  0365  3A 00 00    	ld	a,(_sprite)
1416  0368  5F          	ld	e,a
1417  0369  16 00       	ld	d,0x00
1418  036B  4D          	ld	c,l
1419  036C  44          	ld	b,h
1420  036D  21 00 00    	ld	hl,_class
1421  0370  19          	add	hl,de
1422  0371  5E          	ld	e, (hl)
1423  0372  16 00       	ld	d,0x00
1424  0374  21 00 00    	ld	hl,_sprite_frames
1425  0377  19          	add	hl, de
1426  0378  5E          	ld	e, (hl)
1427  0379  1D          	dec	e
1428  037A  7B          	ld	a, e
1429  037B  02          	ld	(bc), a
1430  037C  2A 00 00    	ld	hl,(_sprite)
1431  037F  26 00       	ld	h,0x00
1432  0381  01 00 00    	ld	bc,_col
1433  0384  09          	add	hl,bc
1434  0385  7E          	ld	a,(hl)
1435  0386  3C          	inc	a
1436  0387  20 36       	jr	NZ,l_spr_move_left_00118
1437  0389  3A 00 00    	ld	a,(_sprite)
1438  038C  D6 07       	sub	a,0x07
1439  038E  4D          	ld	c,l
1440  038F  44          	ld	b,h
1441  0390  20 27       	jr	NZ,l_spr_move_left_00113
1442  0392  CD F5 03    	call	_spr_page_left
1443  0395  3A 00 00    	ld	a,(_sprite)
1444  0398  C6 00       	add	a,+((_col) & 0xFF)
1445  039A  4D          	ld	c,l
1446  039B  5F          	ld	e,a
1447  039C  3E 00       	ld	a,+((_col) / 256)
1448  039E  CE 00       	adc	a,0x00
1449  03A0  57          	ld	d,a
1450  03A1  79          	ld	a, c
1451  03A2  B7          	or	a, a
1452  03A3  28 10       	jr	Z,l_spr_move_left_00110
1453  03A5  3E 1E       	ld	a,0x1e
1454  03A7  12          	ld	(de), a
1455  03A8  3A 07 00    	ld	a,(_lin + 7)
1456  03AB  32 00 00    	ld	(_player_lin_scr),a
1457  03AE  21 00 00    	ld	hl,_player_col_scr
1458  03B1  36 1E       	ld	(hl),0x1e
1459  03B3  18 06       	jr	l_spr_move_left_00114
1460  03B5              l_spr_move_left_00110:
1461  03B5  AF          	xor	a, a
1462  03B6  12          	ld	(de), a
1463  03B7  18 02       	jr	l_spr_move_left_00114
1464  03B9              l_spr_move_left_00113:
1465  03B9  AF          	xor	a, a
1466  03BA  02          	ld	(bc), a
1467  03BB              l_spr_move_left_00114:
1468  03BB  2E 01       	ld	l,0x01
1469  03BD  18 02       	jr	l_spr_move_left_00119
1470  03BF              l_spr_move_left_00118:
1471  03BF  2E 00       	ld	l,0x00
1472  03C1              l_spr_move_left_00119:
1473  03C1  C9          	ret
1474  03C2              	SECTION code_compiler
1475  03C2              ;	---------------------------------
1476  03C2              ; Function spr_page_right
1477  03C2              ; ---------------------------------
1478  03C2              _spr_page_right:
1479  03C2  2A FF FF    	ld	hl,(_map_width - 1)
1480  03C5  3A 00 00    	ld	a,(_scr_curr)
1481  03C8  6F          	ld	l,a
1482  03C9  E5          	push	hl
1483  03CA  CD 00 00    	call	__moduchar_callee
1484  03CD  7D          	ld	a, l
1485  03CE  3C          	inc	a
1486  03CF  32 00 00    	ld	(_tmp1),a
1487  03D2  21 00 00    	ld	hl,_map_width
1488  03D5  96          	sub	a, (hl)
1489  03D6  30 1A       	jr	NC,l_spr_page_right_00102
1490  03D8  3A 00 00    	ld	a,(_game_boss)
1491  03DB  B7          	or	a, a
1492  03DC  28 06       	jr	Z,l_spr_page_right_00101
1493  03DE  3A 00 00    	ld	a,(_game_god_mode)
1494  03E1  B7          	or	a, a
1495  03E2  28 0E       	jr	Z,l_spr_page_right_00102
1496  03E4              l_spr_page_right_00101:
1497  03E4  21 00 00    	ld	hl,_scr_curr
1498  03E7  34          	inc	(hl)
1499  03E8  CD BE 04    	call	_spr_page_map
1500  03EB  CD 00 00    	call	_game_draw_screen
1501  03EE  2E 01       	ld	l,0x01
1502  03F0  18 02       	jr	l_spr_page_right_00105
1503  03F2              l_spr_page_right_00102:
1504  03F2  2E 00       	ld	l,0x00
1505  03F4              l_spr_page_right_00105:
1506  03F4  C9          	ret
1507  03F5              	SECTION code_compiler
1508  03F5              ;	---------------------------------
1509  03F5              ; Function spr_page_left
1510  03F5              ; ---------------------------------
1511  03F5              _spr_page_left:
1512  03F5  2A FF FF    	ld	hl,(_map_width - 1)
1513  03F8  3A 00 00    	ld	a,(_scr_curr)
1514  03FB  6F          	ld	l,a
1515  03FC  E5          	push	hl
1516  03FD  CD 00 00    	call	__moduchar_callee
1517  0400  7D          	ld	a,l
1518  0401  32 00 00    	ld	(_tmp1),a
1519  0404  B7          	or	a, a
1520  0405  28 1A       	jr	Z,l_spr_page_left_00102
1521  0407  3A 00 00    	ld	a,(_game_boss)
1522  040A  B7          	or	a, a
1523  040B  28 06       	jr	Z,l_spr_page_left_00101
1524  040D  3A 00 00    	ld	a,(_game_god_mode)
1525  0410  B7          	or	a, a
1526  0411  28 0E       	jr	Z,l_spr_page_left_00102
1527  0413              l_spr_page_left_00101:
1528  0413  21 00 00    	ld	hl,_scr_curr
1529  0416  35          	dec	(hl)
1530  0417  CD BE 04    	call	_spr_page_map
1531  041A  CD 00 00    	call	_game_draw_screen
1532  041D  2E 01       	ld	l,0x01
1533  041F  18 02       	jr	l_spr_page_left_00105
1534  0421              l_spr_page_left_00102:
1535  0421  2E 00       	ld	l,0x00
1536  0423              l_spr_page_left_00105:
1537  0423  C9          	ret
1538  0424              	SECTION code_compiler
1539  0424              ;	---------------------------------
1540  0424              ; Function spr_page_down
1541  0424              ; ---------------------------------
1542  0424              _spr_page_down:
1543  0424  2A FF FF    	ld	hl,(_map_heigth - 1)
1544  0427  3A 00 00    	ld	a,(_scr_curr)
1545  042A  6F          	ld	l,a
1546  042B  E5          	push	hl
1547  042C  CD 00 00    	call	__divuchar_callee
1548  042F  7D          	ld	a, l
1549  0430  3C          	inc	a
1550  0431  32 00 00    	ld	(_tmp1),a
1551  0434  21 00 00    	ld	hl,_map_heigth
1552  0437  96          	sub	a, (hl)
1553  0438  30 36       	jr	NC,l_spr_page_down_00102
1554  043A  3A 00 00    	ld	a,(_game_boss)
1555  043D  B7          	or	a, a
1556  043E  28 06       	jr	Z,l_spr_page_down_00101
1557  0440  3A 00 00    	ld	a,(_game_god_mode)
1558  0443  B7          	or	a, a
1559  0444  28 2A       	jr	Z,l_spr_page_down_00102
1560  0446              l_spr_page_down_00101:
1561  0446  3A 00 00    	ld	a,(_scr_curr)
1562  0449  21 00 00    	ld	hl,_map_width
1563  044C  86          	add	a, (hl)
1564  044D  32 00 00    	ld	(_scr_curr),a
1565  0450  CD BE 04    	call	_spr_page_map
1566  0453  CD 00 00    	call	_game_draw_screen
1567  0456  21 00 00    	ld	hl,_player_lin_scr
1568  0459  36 08       	ld	(hl),0x08
1569  045B  2A 00 00    	ld	hl,(_sprite)
1570  045E  26 00       	ld	h,0x00
1571  0460  01 00 00    	ld	bc,_lin
1572  0463  09          	add	hl,bc
1573  0464  36 08       	ld	(hl),0x08
1574  0466  3A 07 00    	ld	a,(_col + 0x0007)
1575  0469  32 00 00    	ld	(_player_col_scr),a
1576  046C  2E 01       	ld	l,0x01
1577  046E  18 02       	jr	l_spr_page_down_00105
1578  0470              l_spr_page_down_00102:
1579  0470  2E 00       	ld	l,0x00
1580  0472              l_spr_page_down_00105:
1581  0472  C9          	ret
1582  0473              	SECTION code_compiler
1583  0473              ;	---------------------------------
1584  0473              ; Function spr_page_up
1585  0473              ; ---------------------------------
1586  0473              _spr_page_up:
1587  0473  2A FF FF    	ld	hl,(_map_heigth - 1)
1588  0476  3A 00 00    	ld	a,(_scr_curr)
1589  0479  6F          	ld	l,a
1590  047A  E5          	push	hl
1591  047B  CD 00 00    	call	__divuchar_callee
1592  047E  7D          	ld	a,l
1593  047F  32 00 00    	ld	(_tmp1),a
1594  0482  B7          	or	a, a
1595  0483  28 36       	jr	Z,l_spr_page_up_00102
1596  0485  3A 00 00    	ld	a,(_game_boss)
1597  0488  B7          	or	a, a
1598  0489  28 06       	jr	Z,l_spr_page_up_00101
1599  048B  3A 00 00    	ld	a,(_game_god_mode)
1600  048E  B7          	or	a, a
1601  048F  28 2A       	jr	Z,l_spr_page_up_00102
1602  0491              l_spr_page_up_00101:
1603  0491  3A 00 00    	ld	a,(_scr_curr)
1604  0494  21 00 00    	ld	hl,_map_width
1605  0497  96          	sub	a, (hl)
1606  0498  32 00 00    	ld	(_scr_curr),a
1607  049B  CD BE 04    	call	_spr_page_map
1608  049E  CD 00 00    	call	_game_draw_screen
1609  04A1  2A 00 00    	ld	hl,(_sprite)
1610  04A4  26 00       	ld	h,0x00
1611  04A6  01 00 00    	ld	bc,_lin
1612  04A9  09          	add	hl,bc
1613  04AA  36 8C       	ld	(hl),0x8c
1614  04AC  21 00 00    	ld	hl,_player_lin_scr
1615  04AF  36 90       	ld	(hl),0x90
1616  04B1  3A 07 00    	ld	a,(_col + 0x0007)
1617  04B4  32 00 00    	ld	(_player_col_scr),a
1618  04B7  2E 01       	ld	l,0x01
1619  04B9  18 02       	jr	l_spr_page_up_00105
1620  04BB              l_spr_page_up_00102:
1621  04BB  2E 00       	ld	l,0x00
1622  04BD              l_spr_page_up_00105:
1623  04BD  C9          	ret
1624  04BE              	SECTION code_compiler
1625  04BE              ;	---------------------------------
1626  04BE              ; Function spr_page_map
1627  04BE              ; ---------------------------------
1628  04BE              _spr_page_map:
1629  04BE  CD 00 00    	call	___sdcc_enter_ix
1630  04C1  21 EB FF    	ld	hl, -21
1631  04C4  39          	add	hl, sp
1632  04C5  F9          	ld	sp, hl
1633  04C6  3A 00 00    	ld	a,(_game_world)
1634  04C9  DD 77 EE    	ld	(ix-18),a
1635  04CC  3A 00 00    	ld	a,(_scr_curr)
1636  04CF  DD 77 EB    	ld	(ix-21),a
1637  04D2  DD 36 F1 10 	ld	(ix-15),0x10
1638  04D6  06 00       	ld	b,0x00
1639  04D8              l_spr_page_map_00138:
1640  04D8  C5          	push	bc
1641  04D9  21 00 00    	ld	hl,0x0000
1642  04DC  E5          	push	hl
1643  04DD  AF          	xor	a, a
1644  04DE  48          	ld	c,b
1645  04DF  47          	ld	b,a
1646  04E0  C5          	push	bc
1647  04E1  CD 00 00    	call	_NIRVANAP_spriteT_callee
1648  04E4  C1          	pop	bc
1649  04E5  04          	inc	b
1650  04E6  78          	ld	a, b
1651  04E7  D6 08       	sub	a,0x08
1652  04E9  38 ED       	jr	C,l_spr_page_map_00138
1653  04EB  76          	halt
1654  04EC  F3          	di
1655  04ED  DD 36 F3 00 	ld	(ix-13),0x00
1656  04F1              l_spr_page_map_00155:
1657  04F1  DD 7E F3    	ld	a,(ix-13)
1658  04F4  87          	add	a, a
1659  04F5  DD 77 FC    	ld	(ix-4),a
1660  04F8  DD 77 FB    	ld	(ix-5),a
1661  04FB  DD 36 F2 01 	ld	(ix-14),0x01
1662  04FF              l_spr_page_map_00140:
1663  04FF  DD 7E F2    	ld	a,(ix-14)
1664  0502  07          	rlca
1665  0503  07          	rlca
1666  0504  07          	rlca
1667  0505  07          	rlca
1668  0506  E6 F0       	and	a,0xf0
1669  0508  47          	ld	b, a
1670  0509  DD 7E FB    	ld	a,(ix-5)
1671  050C  48          	ld	c,b
1672  050D  47          	ld	b,a
1673  050E  C5          	push	bc
1674  050F  AF          	xor	a, a
1675  0510  F5          	push	af
1676  0511  33          	inc	sp
1677  0512  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1678  0515  DD 34 F2    	inc	(ix-14)
1679  0518  DD 7E F2    	ld	a,(ix-14)
1680  051B  D6 0A       	sub	a,0x0a
1681  051D  38 E0       	jr	C,l_spr_page_map_00140
1682  051F  3E 1E       	ld	a,0x1e
1683  0521  DD 96 FC    	sub	a,(ix-4)
1684  0524  47          	ld	b, a
1685  0525  0E 01       	ld	c,0x01
1686  0527              l_spr_page_map_00142:
1687  0527  79          	ld	a, c
1688  0528  07          	rlca
1689  0529  07          	rlca
1690  052A  07          	rlca
1691  052B  07          	rlca
1692  052C  E6 F0       	and	a,0xf0
1693  052E  57          	ld	d, a
1694  052F  C5          	push	bc
1695  0530  4A          	ld	c, d
1696  0531  C5          	push	bc
1697  0532  AF          	xor	a, a
1698  0533  F5          	push	af
1699  0534  33          	inc	sp
1700  0535  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1701  0538  C1          	pop	bc
1702  0539  0C          	inc	c
1703  053A  79          	ld	a, c
1704  053B  D6 0A       	sub	a,0x0a
1705  053D  38 E8       	jr	C,l_spr_page_map_00142
1706  053F  FB          	ei
1707  0540  76          	halt
1708  0541  F3          	di
1709  0542  DD 34 F3    	inc	(ix-13)
1710  0545  DD 7E F3    	ld	a,(ix-13)
1711  0548  D6 08       	sub	a,0x08
1712  054A  38 A5       	jr	C,l_spr_page_map_00155
1713  054C  3E 16       	ld	a,0x16
1714  054E  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1715  0551  01 FD 7F    	ld	bc,_IO_7FFD
1716  0554  ED 79       	out	(c),a
1717  0556  DD 7E EB    	ld	a,(ix-21)
1718  0559  3C          	inc	a
1719  055A  20 04       	jr	NZ,l_spr_page_map_00255
1720  055C  3E 01       	ld	a,0x01
1721  055E  18 01       	jr	l_spr_page_map_00256
1722  0560              l_spr_page_map_00255:
1723  0560  AF          	xor	a,a
1724  0561              l_spr_page_map_00256:
1725  0561  DD 77 FB    	ld	(ix-5),a
1726  0564  DD 7E EE    	ld	a,(ix-18)
1727  0567  B7          	or	a, a
1728  0568  20 32       	jr	NZ,l_spr_page_map_00110
1729  056A  DD 7E FB    	ld	a,(ix-5)
1730  056D  B7          	or	a, a
1731  056E  28 07       	jr	Z,l_spr_page_map_00106
1732  0570  21 00 00    	ld	hl,_start_scr0
1733  0573  4E          	ld	c, (hl)
1734  0574  DD 71 EB    	ld	(ix-21),c
1735  0577              l_spr_page_map_00106:
1736  0577  01 00 00    	ld	bc,_paper0
1737  057A  DD 6E EB    	ld	l,(ix-21)
1738  057D  26 00       	ld	h,0x00
1739  057F  09          	add	hl,bc
1740  0580  DD 75 F9    	ld	(ix-7),l
1741  0583  DD 74 FA    	ld	(ix-6),h
1742  0586  7E          	ld	a, (hl)
1743  0587  DD 77 F9    	ld	(ix-7),a
1744  058A  3A 00 00    	ld	a,(_world0_w)
1745  058D  DD 77 ED    	ld	(ix-19),a
1746  0590  DD 77 FC    	ld	(ix-4),a
1747  0593  21 00 00    	ld	hl,_world0_h
1748  0596  4E          	ld	c, (hl)
1749  0597  DD 71 FF    	ld	(ix-1),c
1750  059A  18 32       	jr	l_spr_page_map_00111
1751  059C              l_spr_page_map_00110:
1752  059C  DD 7E FB    	ld	a,(ix-5)
1753  059F  B7          	or	a, a
1754  05A0  28 07       	jr	Z,l_spr_page_map_00108
1755  05A2  21 00 00    	ld	hl,_start_scr1
1756  05A5  4E          	ld	c, (hl)
1757  05A6  DD 71 EB    	ld	(ix-21),c
1758  05A9              l_spr_page_map_00108:
1759  05A9  01 00 00    	ld	bc,_paper1
1760  05AC  DD 6E EB    	ld	l,(ix-21)
1761  05AF  26 00       	ld	h,0x00
1762  05B1  09          	add	hl,bc
1763  05B2  DD 75 F7    	ld	(ix-9),l
1764  05B5  DD 74 F8    	ld	(ix-8),h
1765  05B8  7E          	ld	a, (hl)
1766  05B9  DD 77 F9    	ld	(ix-7),a
1767  05BC  3A 00 00    	ld	a,(_world1_w)
1768  05BF  DD 77 ED    	ld	(ix-19),a
1769  05C2  DD 77 FC    	ld	(ix-4),a
1770  05C5  3A 00 00    	ld	a,(_world1_h)
1771  05C8  DD 77 EC    	ld	(ix-20),a
1772  05CB  DD 77 FF    	ld	(ix-1),a
1773  05CE              l_spr_page_map_00111:
1774  05CE  3E 10       	ld	a,0x10
1775  05D0  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1776  05D3  01 FD 7F    	ld	bc,_IO_7FFD
1777  05D6  ED 79       	out	(c),a
1778  05D8  3E 00       	ld	a,0x00
1779  05DA  DD 77 EF    	ld	(ix-17),a
1780  05DD  DD 77 F0    	ld	(ix-16),a
1781  05E0  DD 77 F2    	ld	(ix-14),a
1782  05E3              l_spr_page_map_00115:
1783  05E3  DD 7E F2    	ld	a,(ix-14)
1784  05E6  DD 96 EB    	sub	a,(ix-21)
1785  05E9  30 64       	jr	NC,l_spr_page_map_00117
1786  05EB  3E 16       	ld	a,0x16
1787  05ED  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1788  05F0  01 FD 7F    	ld	bc,_IO_7FFD
1789  05F3  ED 79       	out	(c),a
1790  05F5  DD 7E EE    	ld	a,(ix-18)
1791  05F8  B7          	or	a, a
1792  05F9  20 19       	jr	NZ,l_spr_page_map_00113
1793  05FB  01 00 00    	ld	bc,_lenght0
1794  05FE  DD 6E F2    	ld	l,(ix-14)
1795  0601  26 00       	ld	h,0x00
1796  0603  09          	add	hl,bc
1797  0604  DD 75 F7    	ld	(ix-9),l
1798  0607  DD 74 F8    	ld	(ix-8),h
1799  060A  7E          	ld	a, (hl)
1800  060B  DD 77 F7    	ld	(ix-9),a
1801  060E  DD 36 F8 00 	ld	(ix-8),0x00
1802  0612  18 1A       	jr	l_spr_page_map_00114
1803  0614              l_spr_page_map_00113:
1804  0614  01 00 00    	ld	bc,_lenght1
1805  0617  DD 6E F2    	ld	l,(ix-14)
1806  061A  26 00       	ld	h,0x00
1807  061C  09          	add	hl,bc
1808  061D  DD 75 FD    	ld	(ix-3),l
1809  0620  DD 74 FE    	ld	(ix-2),h
1810  0623  7E          	ld	a, (hl)
1811  0624  DD 77 FD    	ld	(ix-3),a
1812  0627  DD 77 F7    	ld	(ix-9),a
1813  062A  DD 36 F8 00 	ld	(ix-8),0x00
1814  062E              l_spr_page_map_00114:
1815  062E  3E 10       	ld	a,0x10
1816  0630  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1817  0633  01 FD 7F    	ld	bc,_IO_7FFD
1818  0636  ED 79       	out	(c),a
1819  0638  DD 7E EF    	ld	a,(ix-17)
1820  063B  DD 86 F7    	add	a,(ix-9)
1821  063E  DD 77 EF    	ld	(ix-17),a
1822  0641  DD 7E F0    	ld	a,(ix-16)
1823  0644  DD 8E F8    	adc	a,(ix-8)
1824  0647  DD 77 F0    	ld	(ix-16),a
1825  064A  DD 34 F2    	inc	(ix-14)
1826  064D  18 94       	jr	l_spr_page_map_00115
1827  064F              l_spr_page_map_00117:
1828  064F  FB          	ei
1829  0650  F3          	di
1830  0651  DD 36 F3 00 	ld	(ix-13),0x00
1831  0655              l_spr_page_map_00149:
1832  0655  3E 16       	ld	a,0x16
1833  0657  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1834  065A  01 FD 7F    	ld	bc,_IO_7FFD
1835  065D  ED 79       	out	(c),a
1836  065F  DD 7E F3    	ld	a,(ix-13)
1837  0662  DD 77 FD    	ld	(ix-3),a
1838  0665  DD 36 FE 00 	ld	(ix-2),0x00
1839  0669  DD 7E EF    	ld	a,(ix-17)
1840  066C  DD 86 FD    	add	a,(ix-3)
1841  066F  DD 77 FD    	ld	(ix-3),a
1842  0672  DD 7E F0    	ld	a,(ix-16)
1843  0675  DD 8E FE    	adc	a,(ix-2)
1844  0678  DD 77 FE    	ld	(ix-2),a
1845  067B  DD 7E FD    	ld	a,(ix-3)
1846  067E  C6 01       	add	a,0x01
1847  0680  DD 77 F7    	ld	(ix-9),a
1848  0683  DD 7E FE    	ld	a,(ix-2)
1849  0686  CE 00       	adc	a,0x00
1850  0688  DD 77 F8    	ld	(ix-8),a
1851  068B  DD 7E EE    	ld	a,(ix-18)
1852  068E  B7          	or	a, a
1853  068F  20 1E       	jr	NZ,l_spr_page_map_00119
1854  0691  01 00 00    	ld	bc,_world0
1855  0694  DD 6E FD    	ld	l,(ix-3)
1856  0697  DD 66 FE    	ld	h,(ix-2)
1857  069A  09          	add	hl,bc
1858  069B  7E          	ld	a, (hl)
1859  069C  DD 77 F6    	ld	(ix-10),a
1860  069F  01 00 00    	ld	bc,_world0
1861  06A2  DD 6E F7    	ld	l,(ix-9)
1862  06A5  DD 66 F8    	ld	h,(ix-8)
1863  06A8  09          	add	hl,bc
1864  06A9  7E          	ld	a, (hl)
1865  06AA  DD 77 F5    	ld	(ix-11),a
1866  06AD  18 1C       	jr	l_spr_page_map_00120
1867  06AF              l_spr_page_map_00119:
1868  06AF  01 00 00    	ld	bc,_world1
1869  06B2  DD 6E FD    	ld	l,(ix-3)
1870  06B5  DD 66 FE    	ld	h,(ix-2)
1871  06B8  09          	add	hl,bc
1872  06B9  7E          	ld	a, (hl)
1873  06BA  DD 77 F6    	ld	(ix-10),a
1874  06BD  01 00 00    	ld	bc,_world1
1875  06C0  DD 6E F7    	ld	l,(ix-9)
1876  06C3  DD 66 F8    	ld	h,(ix-8)
1877  06C6  09          	add	hl,bc
1878  06C7  7E          	ld	a, (hl)
1879  06C8  DD 77 F5    	ld	(ix-11),a
1880  06CB              l_spr_page_map_00120:
1881  06CB  3E 10       	ld	a,0x10
1882  06CD  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1883  06D0  01 FD 7F    	ld	bc,_IO_7FFD
1884  06D3  ED 79       	out	(c),a
1885  06D5  DD 7E F6    	ld	a,(ix-10)
1886  06D8  D6 80       	sub	a,0x80
1887  06DA  30 42       	jr	NC,l_spr_page_map_00131
1888  06DC  DD 7E F1    	ld	a,(ix-15)
1889  06DF  DD 77 FD    	ld	(ix-3),a
1890  06E2  6F          	ld	l, a
1891  06E3  26 00       	ld	h,0x00
1892  06E5  DD 74 FE    	ld	(ix-2),h
1893  06E8  E5          	push	hl
1894  06E9  CD 00 00    	call	_game_obj_chk
1895  06EC  F1          	pop	af
1896  06ED  DD 75 FD    	ld	(ix-3),l
1897  06F0  3E 00       	ld	a, +((_scr_map) & 0xFF)
1898  06F2  DD 86 F1    	add	a,(ix-15)
1899  06F5  DD 77 F7    	ld	(ix-9),a
1900  06F8  3E 00       	ld	a, +((_scr_map) / 256)
1901  06FA  CE 00       	adc	a,0x00
1902  06FC  DD 77 F8    	ld	(ix-8),a
1903  06FF  DD 7E FD    	ld	a,(ix-3)
1904  0702  B7          	or	a, a
1905  0703  20 0C       	jr	NZ,l_spr_page_map_00122
1906  0705  DD 6E F7    	ld	l,(ix-9)
1907  0708  DD 66 F8    	ld	h,(ix-8)
1908  070B  DD 7E F6    	ld	a,(ix-10)
1909  070E  77          	ld	(hl), a
1910  070F  18 08       	jr	l_spr_page_map_00123
1911  0711              l_spr_page_map_00122:
1912  0711  DD 6E F7    	ld	l,(ix-9)
1913  0714  DD 66 F8    	ld	h,(ix-8)
1914  0717  36 00       	ld	(hl),0x00
1915  0719              l_spr_page_map_00123:
1916  0719  DD 34 F1    	inc	(ix-15)
1917  071C  18 6D       	jr	l_spr_page_map_00132
1918  071E              l_spr_page_map_00131:
1919  071E  DD 7E F6    	ld	a,(ix-10)
1920  0721  C6 80       	add	a,0x80
1921  0723  DD 77 F4    	ld	(ix-12),a
1922  0726  DD 7E F1    	ld	a,(ix-15)
1923  0729  DD 77 FD    	ld	(ix-3),a
1924  072C  DD 36 F2 00 	ld	(ix-14),0x00
1925  0730              l_spr_page_map_00147:
1926  0730  DD 7E F2    	ld	a,(ix-14)
1927  0733  DD 96 F4    	sub	a,(ix-12)
1928  0736  30 4A       	jr	NC,l_spr_page_map_00181
1929  0738  DD 7E FD    	ld	a,(ix-3)
1930  073B  DD 77 F7    	ld	(ix-9),a
1931  073E  6F          	ld	l, a
1932  073F  26 00       	ld	h,0x00
1933  0741  DD 74 F8    	ld	(ix-8),h
1934  0744  E5          	push	hl
1935  0745  CD 00 00    	call	_game_obj_chk
1936  0748  F1          	pop	af
1937  0749  7D          	ld	a, l
1938  074A  B7          	or	a, a
1939  074B  20 15       	jr	NZ,l_spr_page_map_00125
1940  074D  01 00 00    	ld	bc,_scr_map
1941  0750  DD 6E FD    	ld	l,(ix-3)
1942  0753  26 00       	ld	h,0x00
1943  0755  09          	add	hl,bc
1944  0756  DD 75 F7    	ld	(ix-9),l
1945  0759  DD 74 F8    	ld	(ix-8),h
1946  075C  DD 7E F5    	ld	a,(ix-11)
1947  075F  77          	ld	(hl), a
1948  0760  18 11       	jr	l_spr_page_map_00126
1949  0762              l_spr_page_map_00125:
1950  0762  01 00 00    	ld	bc,_scr_map
1951  0765  DD 6E FD    	ld	l,(ix-3)
1952  0768  26 00       	ld	h,0x00
1953  076A  09          	add	hl,bc
1954  076B  DD 75 F7    	ld	(ix-9),l
1955  076E  DD 74 F8    	ld	(ix-8),h
1956  0771  36 00       	ld	(hl),0x00
1957  0773              l_spr_page_map_00126:
1958  0773  DD 34 FD    	inc	(ix-3)
1959  0776  DD 7E FD    	ld	a,(ix-3)
1960  0779  D6 A0       	sub	a,0xa0
1961  077B  30 05       	jr	NC,l_spr_page_map_00181
1962  077D  DD 34 F2    	inc	(ix-14)
1963  0780  18 AE       	jr	l_spr_page_map_00147
1964  0782              l_spr_page_map_00181:
1965  0782  DD 7E FD    	ld	a,(ix-3)
1966  0785  DD 77 F1    	ld	(ix-15),a
1967  0788  DD 34 F3    	inc	(ix-13)
1968  078B              l_spr_page_map_00132:
1969  078B  DD 7E F1    	ld	a,(ix-15)
1970  078E  D6 A0       	sub	a,0xa0
1971  0790  30 0B       	jr	NC,l_spr_page_map_00135
1972  0792  DD 34 F3    	inc	(ix-13)
1973  0795  DD 7E F3    	ld	a,(ix-13)
1974  0798  D6 A0       	sub	a,0xa0
1975  079A  DA 55 06    	jp	C, l_spr_page_map_00149
1976  079D              l_spr_page_map_00135:
1977  079D  CD 19 0E    	call	_spr_init_anim_bullets
1978  07A0  DD 7E EB    	ld	a,(ix-21)
1979  07A3  32 00 00    	ld	(_scr_curr),a
1980  07A6  DD 7E FC    	ld	a,(ix-4)
1981  07A9  32 00 00    	ld	(_map_width),a
1982  07AC  DD 7E FF    	ld	a,(ix-1)
1983  07AF  32 00 00    	ld	(_map_heigth),a
1984  07B2  DD 7E F9    	ld	a,(ix-7)
1985  07B5  32 00 00    	ld	(_map_paper),a
1986  07B8  3A 00 00    	ld	a,(_map_paper_last)
1987  07BB  21 00 00    	ld	hl,_map_paper
1988  07BE  96          	sub	a, (hl)
1989  07BF  28 03       	jr	Z,l_spr_page_map_00137
1990  07C1  CD 5A 16    	call	_spr_btile_paint_back
1991  07C4              l_spr_page_map_00137:
1992  07C4  3A 00 00    	ld	a,(_map_paper)
1993  07C7  32 00 00    	ld	(_map_paper_last),a
1994  07CA  FB          	ei
1995  07CB  CD 00 00    	call	_NIRVANAP_start
1996  07CE  21 00 00    	ld	hl,_screen_ink
1997  07D1  36 06       	ld	(hl),0x06
1998  07D3  21 00 00    	ld	hl,___str_0
1999  07D6  E5          	push	hl
2000  07D7  21 17 0C    	ld	hl,0x0c17
2001  07DA  E5          	push	hl
2002  07DB  CD 00 00    	call	_zx_print_str
2003  07DE  3A 00 00    	ld	a,(_scr_curr)
2004  07E1  F5          	push	af
2005  07E2  33          	inc	sp
2006  07E3  21 17 10    	ld	hl,0x1017
2007  07E6  E5          	push	hl
2008  07E7  CD 00 00    	call	_zx_print_chr
2009  07EA  DD F9       	ld	sp, ix
2010  07EC  DD E1       	pop	ix
2011  07EE  C9          	ret
2012  07EF              	SECTION rodata_compiler
2013  0000              ___str_0:
2014  0000  53 43 52 3A 	DEFM "SCR:"
2015  0004  00          	DEFB 0x00
2016  0005              	SECTION code_compiler
2017  07EF              ;	---------------------------------
2018  07EF              ; Function spr_redraw
2019  07EF              ; ---------------------------------
2020  07EF              _spr_redraw:
2021  07EF  2A 00 00    	ld	hl,(_sprite)
2022  07F2  26 00       	ld	h,0x00
2023  07F4  01 00 00    	ld	bc,_tile
2024  07F7  09          	add	hl,bc
2025  07F8  4E          	ld	c, (hl)
2026  07F9  3A 00 00    	ld	a,(_sprite)
2027  07FC  5F          	ld	e,a
2028  07FD  16 00       	ld	d,0x00
2029  07FF  21 00 00    	ld	hl,_colint
2030  0802  19          	add	hl,de
2031  0803  7E          	ld	a,(hl)
2032  0804  81          	add	a,c
2033  0805  32 00 00    	ld	(_s_tile1),a
2034  0808  2A 00 00    	ld	hl,(_sprite)
2035  080B  26 00       	ld	h,0x00
2036  080D  01 00 00    	ld	bc,_col
2037  0810  09          	add	hl,bc
2038  0811  7E          	ld	a,(hl)
2039  0812  32 00 00    	ld	(_s_col1),a
2040  0815  2A 00 00    	ld	hl,(_sprite)
2041  0818  26 00       	ld	h,0x00
2042  081A  01 00 00    	ld	bc,_lin
2043  081D  09          	add	hl,bc
2044  081E  7E          	ld	a,(hl)
2045  081F  4D          	ld	c,l
2046  0820  32 00 00    	ld	(_s_lin1),a
2047  0823  21 00 00    	ld	hl,_s_lin0
2048  0826  96          	sub	a, (hl)
2049  0827  20 0A       	jr	NZ,l_spr_redraw_00117
2050  0829  3A 00 00    	ld	a,(_s_col1)
2051  082C  21 00 00    	ld	hl,_s_col0
2052  082F  96          	sub	a, (hl)
2053  0830  CA E6 08    	jp	Z,l_spr_redraw_00118
2054  0833              l_spr_redraw_00117:
2055  0833  3A 00 00    	ld	a,(_sprite)
2056  0836  D6 07       	sub	a,0x07
2057  0838  20 3A       	jr	NZ,l_spr_redraw_00113
2058  083A  3A 00 00    	ld	a,(_player_over_stair)
2059  083D  B7          	or	a, a
2060  083E  28 2F       	jr	Z,l_spr_redraw_00104
2061  0840  3A 07 00    	ld	a, (_lin + 7)
2062  0843  E6 03       	and	a,0x03
2063  0845  20 28       	jr	NZ,l_spr_redraw_00104
2064  0847  21 00 00    	ld	hl,_player_anim_stair
2065  084A  34          	inc	(hl)
2066  084B  20 02       	jr	NZ,l_spr_redraw_00162
2067  084D  23          	inc	hl
2068  084E  34          	inc	(hl)
2069  084F              l_spr_redraw_00162:
2070  084F  3E 01       	ld	a,0x01
2071  0851  21 00 00    	ld	hl,_player_anim_stair
2072  0854  BE          	cp	a, (hl)
2073  0855  3E 00       	ld	a,0x00
2074  0857  23          	inc	hl
2075  0858  9E          	sbc	a, (hl)
2076  0859  30 05       	jr	NC,l_spr_redraw_00102
2077  085B  2B          	dec	hl
2078  085C  AF          	xor	a, a
2079  085D  77          	ld	(hl), a
2080  085E  23          	inc	hl
2081  085F  77          	ld	(hl), a
2082  0860              l_spr_redraw_00102:
2083  0860  21 07 00    	ld	hl,_tile + 7
2084  0863  4E          	ld	c, (hl)
2085  0864  21 00 00    	ld	hl,_player_anim_stair
2086  0867  46          	ld	b, (hl)
2087  0868  79          	ld	a, c
2088  0869  80          	add	a, b
2089  086A  C6 04       	add	a,0x04
2090  086C  32 00 00    	ld	(_s_tile1),a
2091  086F              l_spr_redraw_00104:
2092  086F  CD 71 0C    	call	_spr_back_repaint
2093  0872  18 5B       	jr	l_spr_redraw_00114
2094  0874              l_spr_redraw_00113:
2095  0874  3A 00 00    	ld	a,(_s_lin1)
2096  0877  E6 07       	and	a,0x07
2097  0879  20 05       	jr	NZ,l_spr_redraw_00110
2098  087B  CD 71 0C    	call	_spr_back_repaint
2099  087E  18 4F       	jr	l_spr_redraw_00114
2100  0880              l_spr_redraw_00110:
2101  0880  21 00 00    	ld	hl,_s_state
2102  0883  CB 46       	bit	0, (hl)
2103  0885  28 26       	jr	Z,l_spr_redraw_00107
2104  0887  3A 00 00    	ld	a,(_s_lin0)
2105  088A  C6 08       	add	a,0x08
2106  088C  47          	ld	b, a
2107  088D  3A 00 00    	ld	a,(_s_col0)
2108  0890  F5          	push	af
2109  0891  33          	inc	sp
2110  0892  C5          	push	bc
2111  0893  33          	inc	sp
2112  0894  3A 00 00    	ld	a,(_map_paper_clr)
2113  0897  F5          	push	af
2114  0898  33          	inc	sp
2115  0899  CD 00 00    	call	_NIRVANAP_fillC_callee
2116  089C  21 00 00    	ld	hl,_s_col0
2117  089F  56          	ld	d, (hl)
2118  08A0  14          	inc	d
2119  08A1  58          	ld	e,b
2120  08A2  3A 00 00    	ld	a,(_map_paper_clr)
2121  08A5  D5          	push	de
2122  08A6  F5          	push	af
2123  08A7  33          	inc	sp
2124  08A8  CD 00 00    	call	_NIRVANAP_fillC_callee
2125  08AB  18 22       	jr	l_spr_redraw_00114
2126  08AD              l_spr_redraw_00107:
2127  08AD  2A FF FF    	ld	hl,(_s_col0 - 1)
2128  08B0  3A 00 00    	ld	a,(_s_lin0)
2129  08B3  6F          	ld	l,a
2130  08B4  3A 00 00    	ld	a,(_map_paper_clr)
2131  08B7  E5          	push	hl
2132  08B8  F5          	push	af
2133  08B9  33          	inc	sp
2134  08BA  CD 00 00    	call	_NIRVANAP_fillC_callee
2135  08BD  21 00 00    	ld	hl,_s_col0
2136  08C0  46          	ld	b, (hl)
2137  08C1  04          	inc	b
2138  08C2  C5          	push	bc
2139  08C3  33          	inc	sp
2140  08C4  2A FF FF    	ld	hl,(_s_lin0 - 1)
2141  08C7  3A 00 00    	ld	a,(_map_paper_clr)
2142  08CA  6F          	ld	l,a
2143  08CB  E5          	push	hl
2144  08CC  CD 00 00    	call	_NIRVANAP_fillC_callee
2145  08CF              l_spr_redraw_00114:
2146  08CF  2A FF FF    	ld	hl,(_s_col1 - 1)
2147  08D2  3A 00 00    	ld	a,(_s_lin1)
2148  08D5  6F          	ld	l,a
2149  08D6  E5          	push	hl
2150  08D7  2A FF FF    	ld	hl,(_s_tile1 - 1)
2151  08DA  3A 00 00    	ld	a,(_sprite)
2152  08DD  6F          	ld	l,a
2153  08DE  E5          	push	hl
2154  08DF  CD 00 00    	call	_NIRVANAP_spriteT_callee
2155  08E2  2E 01       	ld	l,0x01
2156  08E4  18 22       	jr	l_spr_redraw_00121
2157  08E6              l_spr_redraw_00118:
2158  08E6  3A 00 00    	ld	a,(_s_tile1)
2159  08E9  21 00 00    	ld	hl,_s_tile0
2160  08EC  96          	sub	a, (hl)
2161  08ED  28 17       	jr	Z,l_spr_redraw_00119
2162  08EF  2A FF FF    	ld	hl,(_s_col1 - 1)
2163  08F2  3A 00 00    	ld	a,(_s_lin1)
2164  08F5  6F          	ld	l,a
2165  08F6  E5          	push	hl
2166  08F7  2A FF FF    	ld	hl,(_s_tile1 - 1)
2167  08FA  3A 00 00    	ld	a,(_sprite)
2168  08FD  6F          	ld	l,a
2169  08FE  E5          	push	hl
2170  08FF  CD 00 00    	call	_NIRVANAP_spriteT_callee
2171  0902  2E 00       	ld	l,0x00
2172  0904  18 02       	jr	l_spr_redraw_00121
2173  0906              l_spr_redraw_00119:
2174  0906  2E 00       	ld	l,0x00
2175  0908              l_spr_redraw_00121:
2176  0908  C9          	ret
2177  0909              	SECTION code_compiler
2178  0909              ;	---------------------------------
2179  0909              ; Function spr_destroy
2180  0909              ; ---------------------------------
2181  0909              _spr_destroy:
2182  0909  CD 00 00    	call	___sdcc_enter_ix
2183  090C  F5          	push	af
2184  090D  4D          	ld	c, l
2185  090E  21 00 00    	ld	hl,_spr_count
2186  0911  35          	dec	(hl)
2187  0912  3E 00       	ld	a, +((_lin) & 0xFF)
2188  0914  81          	add	a, c
2189  0915  DD 77 FE    	ld	(ix-2),a
2190  0918  3E 00       	ld	a, +((_lin) / 256)
2191  091A  CE 00       	adc	a,0x00
2192  091C  DD 77 FF    	ld	(ix-1),a
2193  091F  E1          	pop	hl
2194  0920  7E          	ld	a,(hl)
2195  0921  E5          	push	hl
2196  0922  32 00 00    	ld	(_s_lin0),a
2197  0925  3E 00       	ld	a, +((_col) & 0xFF)
2198  0927  81          	add	a, c
2199  0928  5F          	ld	e, a
2200  0929  3E 00       	ld	a, +((_col) / 256)
2201  092B  CE 00       	adc	a,0x00
2202  092D  57          	ld	d, a
2203  092E  1A          	ld	a, (de)
2204  092F  32 00 00    	ld	(_s_col0),a
2205  0932  C5          	push	bc
2206  0933  D5          	push	de
2207  0934  21 00 00    	ld	hl,0x0000
2208  0937  E5          	push	hl
2209  0938  AF          	xor	a, a
2210  0939  F5          	push	af
2211  093A  33          	inc	sp
2212  093B  79          	ld	a, c
2213  093C  F5          	push	af
2214  093D  33          	inc	sp
2215  093E  CD 00 00    	call	_NIRVANAP_spriteT_callee
2216  0941  CD 71 0C    	call	_spr_back_repaint
2217  0944  D1          	pop	de
2218  0945  C1          	pop	bc
2219  0946  06 00       	ld	b,0x00
2220  0948  21 00 00    	ld	hl,_tile
2221  094B  09          	add	hl, bc
2222  094C  AF          	xor	a,a
2223  094D  77          	ld	(hl),a
2224  094E  E1          	pop	hl
2225  094F  12          	ld	(de),a
2226  0950  E5          	push	hl
2227  0951  36 00       	ld	(hl),0x00
2228  0953  11 00 00    	ld	de,_class+0
2229  0956  69          	ld	l,c
2230  0957  26 00       	ld	h,0x00
2231  0959  19          	add	hl, de
2232  095A  36 00       	ld	(hl),0x00
2233  095C  11 00 00    	ld	de,_state+0
2234  095F  69          	ld	l,c
2235  0960  26 00       	ld	h,0x00
2236  0962  19          	add	hl, de
2237  0963  36 00       	ld	(hl),0x00
2238  0965  11 00 00    	ld	de,_state_a+0
2239  0968  69          	ld	l,c
2240  0969  26 00       	ld	h,0x00
2241  096B  19          	add	hl, de
2242  096C  F1          	pop	af
2243  096D  36 00       	ld	(hl),0x00
2244  096F  DD E1       	pop	ix
2245  0971  C9          	ret
2246  0972              	SECTION code_compiler
2247  0972              ;	---------------------------------
2248  0972              ; Function spr_tile
2249  0972              ; ---------------------------------
2250  0972              _spr_tile:
2251  0972  45          	ld	b,l
2252  0973  11 00 00    	ld	de,_class+0
2253  0976  26 00       	ld	h,0x00
2254  0978  19          	add	hl, de
2255  0979  5E          	ld	e, (hl)
2256  097A  3E 13       	ld	a,0x13
2257  097C  93          	sub	a, e
2258  097D  DA B0 0A    	jp	C, l_spr_tile_00116
2259  0980  16 00       	ld	d,0x00
2260  0982  21 89 09    	ld	hl,l_spr_tile_00123
2261  0985  19          	add	hl, de
2262  0986  19          	add	hl, de
2263  0987  19          	add	hl, de
2264  0988  E9          	jp	(hl)
2265  0989              l_spr_tile_00123:
2266  0989  C3 B0 0A    	jp	l_spr_tile_00116
2267  098C  C3 B0 0A    	jp	l_spr_tile_00116
2268  098F  C3 17 0A    	jp	l_spr_tile_00106
2269  0992  C3 28 0A    	jp	l_spr_tile_00107
2270  0995  C3 38 0A    	jp	l_spr_tile_00108
2271  0998  C3 47 0A    	jp	l_spr_tile_00109
2272  099B  C3 83 0A    	jp	l_spr_tile_00113
2273  099E  C3 92 0A    	jp	l_spr_tile_00114
2274  09A1  C3 A1 0A    	jp	l_spr_tile_00115
2275  09A4  C3 B0 0A    	jp	l_spr_tile_00116
2276  09A7  C3 B0 0A    	jp	l_spr_tile_00116
2277  09AA  C3 C5 09    	jp	l_spr_tile_00101
2278  09AD  C3 D5 09    	jp	l_spr_tile_00102
2279  09B0  C3 E5 09    	jp	l_spr_tile_00103
2280  09B3  C3 F6 09    	jp	l_spr_tile_00104
2281  09B6  C3 06 0A    	jp	l_spr_tile_00105
2282  09B9  C3 56 0A    	jp	l_spr_tile_00110
2283  09BC  C3 B0 0A    	jp	l_spr_tile_00116
2284  09BF  C3 65 0A    	jp	l_spr_tile_00111
2285  09C2  C3 74 0A    	jp	l_spr_tile_00112
2286  09C5              l_spr_tile_00101:
2287  09C5  AF          	xor	a, a
2288  09C6  48          	ld	c,b
2289  09C7  47          	ld	b,a
2290  09C8  C5          	push	bc
2291  09C9  3E 90       	ld	a,0x90
2292  09CB  F5          	push	af
2293  09CC  33          	inc	sp
2294  09CD  CD B3 0A    	call	_spr_tile_dir
2295  09D0  F1          	pop	af
2296  09D1  33          	inc	sp
2297  09D2  C3 B2 0A    	jp	l_spr_tile_00117
2298  09D5              l_spr_tile_00102:
2299  09D5  AF          	xor	a, a
2300  09D6  48          	ld	c,b
2301  09D7  47          	ld	b,a
2302  09D8  C5          	push	bc
2303  09D9  3E 94       	ld	a,0x94
2304  09DB  F5          	push	af
2305  09DC  33          	inc	sp
2306  09DD  CD B3 0A    	call	_spr_tile_dir
2307  09E0  F1          	pop	af
2308  09E1  33          	inc	sp
2309  09E2  C3 B2 0A    	jp	l_spr_tile_00117
2310  09E5              l_spr_tile_00103:
2311  09E5  3E 02       	ld	a,0x02
2312  09E7  48          	ld	c,b
2313  09E8  47          	ld	b,a
2314  09E9  C5          	push	bc
2315  09EA  3E 98       	ld	a,0x98
2316  09EC  F5          	push	af
2317  09ED  33          	inc	sp
2318  09EE  CD B3 0A    	call	_spr_tile_dir
2319  09F1  F1          	pop	af
2320  09F2  33          	inc	sp
2321  09F3  C3 B2 0A    	jp	l_spr_tile_00117
2322  09F6              l_spr_tile_00104:
2323  09F6  AF          	xor	a, a
2324  09F7  48          	ld	c,b
2325  09F8  47          	ld	b,a
2326  09F9  C5          	push	bc
2327  09FA  3E 9C       	ld	a,0x9c
2328  09FC  F5          	push	af
2329  09FD  33          	inc	sp
2330  09FE  CD B3 0A    	call	_spr_tile_dir
2331  0A01  F1          	pop	af
2332  0A02  33          	inc	sp
2333  0A03  C3 B2 0A    	jp	l_spr_tile_00117
2334  0A06              l_spr_tile_00105:
2335  0A06  3E 04       	ld	a,0x04
2336  0A08  48          	ld	c,b
2337  0A09  47          	ld	b,a
2338  0A0A  C5          	push	bc
2339  0A0B  3E A0       	ld	a,0xa0
2340  0A0D  F5          	push	af
2341  0A0E  33          	inc	sp
2342  0A0F  CD B3 0A    	call	_spr_tile_dir
2343  0A12  F1          	pop	af
2344  0A13  33          	inc	sp
2345  0A14  C3 B2 0A    	jp	l_spr_tile_00117
2346  0A17              l_spr_tile_00106:
2347  0A17  3E 02       	ld	a,0x02
2348  0A19  48          	ld	c,b
2349  0A1A  47          	ld	b,a
2350  0A1B  C5          	push	bc
2351  0A1C  3E A8       	ld	a,0xa8
2352  0A1E  F5          	push	af
2353  0A1F  33          	inc	sp
2354  0A20  CD B3 0A    	call	_spr_tile_dir
2355  0A23  F1          	pop	af
2356  0A24  33          	inc	sp
2357  0A25  C3 B2 0A    	jp	l_spr_tile_00117
2358  0A28              l_spr_tile_00107:
2359  0A28  AF          	xor	a, a
2360  0A29  48          	ld	c,b
2361  0A2A  47          	ld	b,a
2362  0A2B  C5          	push	bc
2363  0A2C  3E AC       	ld	a,0xac
2364  0A2E  F5          	push	af
2365  0A2F  33          	inc	sp
2366  0A30  CD B3 0A    	call	_spr_tile_dir
2367  0A33  F1          	pop	af
2368  0A34  33          	inc	sp
2369  0A35  C3 B2 0A    	jp	l_spr_tile_00117
2370  0A38              l_spr_tile_00108:
2371  0A38  AF          	xor	a, a
2372  0A39  48          	ld	c,b
2373  0A3A  47          	ld	b,a
2374  0A3B  C5          	push	bc
2375  0A3C  3E AE       	ld	a,0xae
2376  0A3E  F5          	push	af
2377  0A3F  33          	inc	sp
2378  0A40  CD B3 0A    	call	_spr_tile_dir
2379  0A43  F1          	pop	af
2380  0A44  33          	inc	sp
2381  0A45  18 6B       	jr	l_spr_tile_00117
2382  0A47              l_spr_tile_00109:
2383  0A47  AF          	xor	a, a
2384  0A48  48          	ld	c,b
2385  0A49  47          	ld	b,a
2386  0A4A  C5          	push	bc
2387  0A4B  3E B0       	ld	a,0xb0
2388  0A4D  F5          	push	af
2389  0A4E  33          	inc	sp
2390  0A4F  CD B3 0A    	call	_spr_tile_dir
2391  0A52  F1          	pop	af
2392  0A53  33          	inc	sp
2393  0A54  18 5C       	jr	l_spr_tile_00117
2394  0A56              l_spr_tile_00110:
2395  0A56  AF          	xor	a, a
2396  0A57  48          	ld	c,b
2397  0A58  47          	ld	b,a
2398  0A59  C5          	push	bc
2399  0A5A  3E B2       	ld	a,0xb2
2400  0A5C  F5          	push	af
2401  0A5D  33          	inc	sp
2402  0A5E  CD B3 0A    	call	_spr_tile_dir
2403  0A61  F1          	pop	af
2404  0A62  33          	inc	sp
2405  0A63  18 4D       	jr	l_spr_tile_00117
2406  0A65              l_spr_tile_00111:
2407  0A65  AF          	xor	a, a
2408  0A66  48          	ld	c,b
2409  0A67  47          	ld	b,a
2410  0A68  C5          	push	bc
2411  0A69  3E B4       	ld	a,0xb4
2412  0A6B  F5          	push	af
2413  0A6C  33          	inc	sp
2414  0A6D  CD B3 0A    	call	_spr_tile_dir
2415  0A70  F1          	pop	af
2416  0A71  33          	inc	sp
2417  0A72  18 3E       	jr	l_spr_tile_00117
2418  0A74              l_spr_tile_00112:
2419  0A74  AF          	xor	a, a
2420  0A75  48          	ld	c,b
2421  0A76  47          	ld	b,a
2422  0A77  C5          	push	bc
2423  0A78  3E B6       	ld	a,0xb6
2424  0A7A  F5          	push	af
2425  0A7B  33          	inc	sp
2426  0A7C  CD B3 0A    	call	_spr_tile_dir
2427  0A7F  F1          	pop	af
2428  0A80  33          	inc	sp
2429  0A81  18 2F       	jr	l_spr_tile_00117
2430  0A83              l_spr_tile_00113:
2431  0A83  AF          	xor	a, a
2432  0A84  48          	ld	c,b
2433  0A85  47          	ld	b,a
2434  0A86  C5          	push	bc
2435  0A87  3E C0       	ld	a,0xc0
2436  0A89  F5          	push	af
2437  0A8A  33          	inc	sp
2438  0A8B  CD B3 0A    	call	_spr_tile_dir
2439  0A8E  F1          	pop	af
2440  0A8F  33          	inc	sp
2441  0A90  18 20       	jr	l_spr_tile_00117
2442  0A92              l_spr_tile_00114:
2443  0A92  AF          	xor	a, a
2444  0A93  48          	ld	c,b
2445  0A94  47          	ld	b,a
2446  0A95  C5          	push	bc
2447  0A96  3E C2       	ld	a,0xc2
2448  0A98  F5          	push	af
2449  0A99  33          	inc	sp
2450  0A9A  CD B3 0A    	call	_spr_tile_dir
2451  0A9D  F1          	pop	af
2452  0A9E  33          	inc	sp
2453  0A9F  18 11       	jr	l_spr_tile_00117
2454  0AA1              l_spr_tile_00115:
2455  0AA1  AF          	xor	a, a
2456  0AA2  48          	ld	c,b
2457  0AA3  47          	ld	b,a
2458  0AA4  C5          	push	bc
2459  0AA5  3E C4       	ld	a,0xc4
2460  0AA7  F5          	push	af
2461  0AA8  33          	inc	sp
2462  0AA9  CD B3 0A    	call	_spr_tile_dir
2463  0AAC  F1          	pop	af
2464  0AAD  33          	inc	sp
2465  0AAE  18 02       	jr	l_spr_tile_00117
2466  0AB0              l_spr_tile_00116:
2467  0AB0  2E 00       	ld	l,0x00
2468  0AB2              l_spr_tile_00117:
2469  0AB2  C9          	ret
2470  0AB3              	SECTION code_compiler
2471  0AB3              ;	---------------------------------
2472  0AB3              ; Function spr_tile_dir
2473  0AB3              ; ---------------------------------
2474  0AB3              _spr_tile_dir:
2475  0AB3  CD 00 00    	call	___sdcc_enter_ix
2476  0AB6  3E 00       	ld	a, +((_state) & 0xFF)
2477  0AB8  DD 86 05    	add	a,(ix+5)
2478  0ABB  4F          	ld	c, a
2479  0ABC  3E 00       	ld	a, +((_state) / 256)
2480  0ABE  CE 00       	adc	a,0x00
2481  0AC0  47          	ld	b, a
2482  0AC1  0A          	ld	a, (bc)
2483  0AC2  4F          	ld	c,a
2484  0AC3  CB 57       	bit	2,a
2485  0AC5  28 05       	jr	Z,l_spr_tile_dir_00102
2486  0AC7  DD 6E 04    	ld	l,(ix+4)
2487  0ACA  18 2D       	jr	l_spr_tile_dir_00109
2488  0ACC              l_spr_tile_dir_00102:
2489  0ACC  DD 7E 04    	ld	a,(ix+4)
2490  0ACF  DD 86 06    	add	a,(ix+6)
2491  0AD2  47          	ld	b, a
2492  0AD3  CB 59       	bit	3, c
2493  0AD5  28 03       	jr	Z,l_spr_tile_dir_00104
2494  0AD7  68          	ld	l, b
2495  0AD8  18 1F       	jr	l_spr_tile_dir_00109
2496  0ADA              l_spr_tile_dir_00104:
2497  0ADA  3E 00       	ld	a, +((_state_a) & 0xFF)
2498  0ADC  DD 86 05    	add	a,(ix+5)
2499  0ADF  5F          	ld	e, a
2500  0AE0  3E 00       	ld	a, +((_state_a) / 256)
2501  0AE2  CE 00       	adc	a,0x00
2502  0AE4  57          	ld	d, a
2503  0AE5  1A          	ld	a, (de)
2504  0AE6  CB 67       	bit	4, a
2505  0AE8  28 05       	jr	Z,l_spr_tile_dir_00106
2506  0AEA  DD 6E 04    	ld	l,(ix+4)
2507  0AED  18 0A       	jr	l_spr_tile_dir_00109
2508  0AEF              l_spr_tile_dir_00106:
2509  0AEF  CB 5F       	bit	3, a
2510  0AF1  28 03       	jr	Z,l_spr_tile_dir_00108
2511  0AF3  68          	ld	l, b
2512  0AF4  18 03       	jr	l_spr_tile_dir_00109
2513  0AF6              l_spr_tile_dir_00108:
2514  0AF6  DD 6E 04    	ld	l,(ix+4)
2515  0AF9              l_spr_tile_dir_00109:
2516  0AF9  DD E1       	pop	ix
2517  0AFB  C9          	ret
2518  0AFC              	SECTION code_compiler
2519  0AFC              ;	---------------------------------
2520  0AFC              ; Function spr_brick_anim
2521  0AFC              ; ---------------------------------
2522  0AFC              _spr_brick_anim:
2523  0AFC  CD 00 00    	call	___sdcc_enter_ix
2524  0AFF  F5          	push	af
2525  0B00  3B          	dec	sp
2526  0B01  4D          	ld	c, l
2527  0B02  21 00 00    	ld	hl,_player_hit_col
2528  0B05  56          	ld	d, (hl)
2529  0B06  21 00 00    	ld	hl,_player_hit_lin
2530  0B09  5E          	ld	e, (hl)
2531  0B0A  C5          	push	bc
2532  0B0B  D5          	push	de
2533  0B0C  D5          	push	de
2534  0B0D  CD 00 00    	call	_spr_calc_index
2535  0B10  F1          	pop	af
2536  0B11  DD 74 FF    	ld	(ix-1),h
2537  0B14  DD 75 FE    	ld	(ix-2),l
2538  0B17  D1          	pop	de
2539  0B18  C1          	pop	bc
2540  0B19  DD 6E FE    	ld	l,(ix-2)
2541  0B1C  DD 66 FF    	ld	h,(ix-1)
2542  0B1F  22 00 00    	ld	(_index1),hl
2543  0B22  21 00 00    	ld	hl,_index1
2544  0B25  7E          	ld	a, (hl)
2545  0B26  C6 F0       	add	a,0xf0
2546  0B28  DD 77 FE    	ld	(ix-2),a
2547  0B2B  23          	inc	hl
2548  0B2C  7E          	ld	a, (hl)
2549  0B2D  CE FF       	adc	a,0xff
2550  0B2F  DD 77 FF    	ld	(ix-1),a
2551  0B32  3E 00       	ld	a, +((_scr_map) & 0xFF)
2552  0B34  DD 86 FE    	add	a,(ix-2)
2553  0B37  6F          	ld	l, a
2554  0B38  3E 00       	ld	a, +((_scr_map) / 256)
2555  0B3A  DD 8E FF    	adc	a,(ix-1)
2556  0B3D  67          	ld	h, a
2557  0B3E  7E          	ld	a, (hl)
2558  0B3F  DD 77 FD    	ld	(ix-3),a
2559  0B42  3E 00       	ld	a, +((_scr_map) & 0xFF)
2560  0B44  21 00 00    	ld	hl,_index1
2561  0B47  86          	add	a, (hl)
2562  0B48  DD 77 FE    	ld	(ix-2),a
2563  0B4B  3E 00       	ld	a, +((_scr_map) / 256)
2564  0B4D  23          	inc	hl
2565  0B4E  8E          	adc	a, (hl)
2566  0B4F  DD 6E FE    	ld	l,(ix-2)
2567  0B52  DD 77 FF    	ld	(ix-1),a
2568  0B55  67          	ld	h,a
2569  0B56  46          	ld	b, (hl)
2570  0B57  79          	ld	a, c
2571  0B58  B7          	or	a, a
2572  0B59  28 08       	jr	Z,l_spr_brick_anim_00102
2573  0B5B  7B          	ld	a, e
2574  0B5C  C6 F6       	add	a,0xf6
2575  0B5E  32 00 00    	ld	(_tmp),a
2576  0B61  18 06       	jr	l_spr_brick_anim_00103
2577  0B63              l_spr_brick_anim_00102:
2578  0B63  7B          	ld	a, e
2579  0B64  C6 F8       	add	a,0xf8
2580  0B66  32 00 00    	ld	(_tmp),a
2581  0B69              l_spr_brick_anim_00103:
2582  0B69  F3          	di
2583  0B6A  79          	ld	a, c
2584  0B6B  B7          	or	a, a
2585  0B6C  28 1A       	jr	Z,l_spr_brick_anim_00105
2586  0B6E  3A 00 00    	ld	a,(_map_paper_clr)
2587  0B71  C5          	push	bc
2588  0B72  D5          	push	de
2589  0B73  D5          	push	de
2590  0B74  F5          	push	af
2591  0B75  33          	inc	sp
2592  0B76  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2593  0B79  D1          	pop	de
2594  0B7A  C1          	pop	bc
2595  0B7B  D5          	push	de
2596  0B7C  33          	inc	sp
2597  0B7D  3A 00 00    	ld	a,(_tmp)
2598  0B80  48          	ld	c,b
2599  0B81  47          	ld	b,a
2600  0B82  C5          	push	bc
2601  0B83  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2602  0B86  18 1E       	jr	l_spr_brick_anim_00106
2603  0B88              l_spr_brick_anim_00105:
2604  0B88  3A 00 00    	ld	a,(_tmp)
2605  0B8B  C6 F0       	add	a,0xf0
2606  0B8D  C5          	push	bc
2607  0B8E  D5          	push	de
2608  0B8F  5F          	ld	e,a
2609  0B90  D5          	push	de
2610  0B91  DD 7E FD    	ld	a,(ix-3)
2611  0B94  F5          	push	af
2612  0B95  33          	inc	sp
2613  0B96  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2614  0B99  D1          	pop	de
2615  0B9A  C1          	pop	bc
2616  0B9B  D5          	push	de
2617  0B9C  33          	inc	sp
2618  0B9D  3A 00 00    	ld	a,(_tmp)
2619  0BA0  48          	ld	c,b
2620  0BA1  47          	ld	b,a
2621  0BA2  C5          	push	bc
2622  0BA3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2623  0BA6              l_spr_brick_anim_00106:
2624  0BA6  FB          	ei
2625  0BA7  DD F9       	ld	sp, ix
2626  0BA9  DD E1       	pop	ix
2627  0BAB  C9          	ret
2628  0BAC              	SECTION code_compiler
2629  0BAC              ;	---------------------------------
2630  0BAC              ; Function spr_draw_index
2631  0BAC              ; ---------------------------------
2632  0BAC              _spr_draw_index:
2633  0BAC  CD 00 00    	call	___sdcc_enter_ix
2634  0BAF  DD 4E 04    	ld	c,(ix+4)
2635  0BB2  79          	ld	a, c
2636  0BB3  E6 0F       	and	a,0x0f
2637  0BB5  87          	add	a, a
2638  0BB6  32 00 00    	ld	(_s_col1),a
2639  0BB9  21 00 00    	ld	hl,_s_lin1
2640  0BBC  71          	ld	(hl),c
2641  0BBD  79          	ld	a,c
2642  0BBE  07          	rlca
2643  0BBF  07          	rlca
2644  0BC0  07          	rlca
2645  0BC1  07          	rlca
2646  0BC2  E6 0F       	and	a,0x0f
2647  0BC4  07          	rlca
2648  0BC5  07          	rlca
2649  0BC6  07          	rlca
2650  0BC7  07          	rlca
2651  0BC8  E6 F0       	and	a,0xf0
2652  0BCA  77          	ld	(hl), a
2653  0BCB  F3          	di
2654  0BCC  3E 00       	ld	a, +((_scr_map) & 0xFF)
2655  0BCE  DD 86 04    	add	a,(ix+4)
2656  0BD1  4F          	ld	c, a
2657  0BD2  3E 00       	ld	a, +((_scr_map) / 256)
2658  0BD4  DD 8E 05    	adc	a,(ix+5)
2659  0BD7  47          	ld	b, a
2660  0BD8  0A          	ld	a, (bc)
2661  0BD9  47          	ld	b, a
2662  0BDA  3A 00 00    	ld	a,(_s_col1)
2663  0BDD  F5          	push	af
2664  0BDE  33          	inc	sp
2665  0BDF  3A 00 00    	ld	a,(_s_lin1)
2666  0BE2  48          	ld	c,b
2667  0BE3  47          	ld	b,a
2668  0BE4  C5          	push	bc
2669  0BE5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2670  0BE8  FB          	ei
2671  0BE9  DD E1       	pop	ix
2672  0BEB  C9          	ret
2673  0BEC              	SECTION code_compiler
2674  0BEC              ;	---------------------------------
2675  0BEC              ; Function spr_draw_row
2676  0BEC              ; ---------------------------------
2677  0BEC              _spr_draw_row:
2678  0BEC  CD 00 00    	call	___sdcc_enter_ix
2679  0BEF  3B          	dec	sp
2680  0BF0  F3          	di
2681  0BF1  21 00 00    	ld	hl,_tmp
2682  0BF4  36 00       	ld	(hl),0x00
2683  0BF6  DD 7E 04    	ld	a,(ix+4)
2684  0BF9  07          	rlca
2685  0BFA  07          	rlca
2686  0BFB  07          	rlca
2687  0BFC  E6 F8       	and	a,0xf8
2688  0BFE  DD 77 FF    	ld	(ix-1),a
2689  0C01              l_spr_draw_row_00101:
2690  0C01  21 00 00    	ld	hl,_tmp
2691  0C04  7E          	ld	a, (hl)
2692  0C05  D6 20       	sub	a,0x20
2693  0C07  30 38       	jr	NC,l_spr_draw_row_00103
2694  0C09  DD 4E 04    	ld	c,(ix+4)
2695  0C0C  3E 00       	ld	a,0x00
2696  0C0E  CB 21       	sla	c
2697  0C10  17          	rla
2698  0C11  CB 21       	sla	c
2699  0C13  17          	rla
2700  0C14  CB 21       	sla	c
2701  0C16  17          	rla
2702  0C17  CB 21       	sla	c
2703  0C19  17          	rla
2704  0C1A  CB 21       	sla	c
2705  0C1C  17          	rla
2706  0C1D  47          	ld	b,a
2707  0C1E  5E          	ld	e, (hl)
2708  0C1F  16 00       	ld	d,0x00
2709  0C21  79          	ld	a, c
2710  0C22  83          	add	a, e
2711  0C23  21 00 00    	ld	hl,_index1
2712  0C26  77          	ld	(hl), a
2713  0C27  78          	ld	a, b
2714  0C28  8A          	adc	a, d
2715  0C29  23          	inc	hl
2716  0C2A  77          	ld	(hl), a
2717  0C2B  2A FF FF    	ld	hl,(_tmp-1)
2718  0C2E  DD 6E FF    	ld	l,(ix-1)
2719  0C31  3A 00 00    	ld	a,(_game_brick_tile)
2720  0C34  E5          	push	hl
2721  0C35  F5          	push	af
2722  0C36  33          	inc	sp
2723  0C37  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2724  0C3A  21 00 00    	ld	hl,_tmp
2725  0C3D  34          	inc	(hl)
2726  0C3E  34          	inc	(hl)
2727  0C3F  18 C0       	jr	l_spr_draw_row_00101
2728  0C41              l_spr_draw_row_00103:
2729  0C41  FB          	ei
2730  0C42  33          	inc	sp
2731  0C43  DD E1       	pop	ix
2732  0C45  C9          	ret
2733  0C46              	SECTION code_compiler
2734  0C46              ;	---------------------------------
2735  0C46              ; Function spr_calc_hor
2736  0C46              ; ---------------------------------
2737  0C46              _spr_calc_hor:
2738  0C46  CD 00 00    	call	___sdcc_enter_ix
2739  0C49  3E 00       	ld	a, +((_col) & 0xFF)
2740  0C4B  DD 86 04    	add	a,(ix+4)
2741  0C4E  4F          	ld	c, a
2742  0C4F  3E 00       	ld	a, +((_col) / 256)
2743  0C51  CE 00       	adc	a,0x00
2744  0C53  47          	ld	b, a
2745  0C54  0A          	ld	a, (bc)
2746  0C55  5F          	ld	e, a
2747  0C56  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2748  0C58  DD 86 04    	add	a,(ix+4)
2749  0C5B  4F          	ld	c, a
2750  0C5C  3E 00       	ld	a, +((_sprite_frames) / 256)
2751  0C5E  CE 00       	adc	a,0x00
2752  0C60  47          	ld	b, a
2753  0C61  0A          	ld	a, (bc)
2754  0C62  67          	ld	h, a
2755  0C63  2E 00       	ld	l,0x00
2756  0C65  55          	ld	d, l
2757  0C66  06 08       	ld	b,0x08
2758  0C68              l_spr_calc_hor_00103:
2759  0C68  29          	add	hl, hl
2760  0C69  30 01       	jr	NC,l_spr_calc_hor_00104
2761  0C6B  19          	add	hl, de
2762  0C6C              l_spr_calc_hor_00104:
2763  0C6C  10 FA       	djnz	l_spr_calc_hor_00103
2764  0C6E  DD E1       	pop	ix
2765  0C70  C9          	ret
2766  0C71              	SECTION code_compiler
2767  0C71              ;	---------------------------------
2768  0C71              ; Function spr_back_repaint
2769  0C71              ; ---------------------------------
2770  0C71              _spr_back_repaint:
2771  0C71  CD 00 00    	call	___sdcc_enter_ix
2772  0C74  3B          	dec	sp
2773  0C75  3A 00 00    	ld	a,(_spr_hack)
2774  0C78  B7          	or	a, a
2775  0C79  20 02       	jr	NZ,l_spr_back_repaint_00102
2776  0C7B  76          	halt
2777  0C7C  F3          	di
2778  0C7D              l_spr_back_repaint_00102:
2779  0C7D  2A FF FF    	ld	hl,(_s_col0 - 1)
2780  0C80  3A 00 00    	ld	a,(_s_lin0)
2781  0C83  6F          	ld	l,a
2782  0C84  E5          	push	hl
2783  0C85  CD 00 00    	call	_spr_calc_index
2784  0C88  F1          	pop	af
2785  0C89  7D          	ld	a,l
2786  0C8A  32 00 00    	ld	(_sprite_curr_index),a
2787  0C8D  21 00 00    	ld	hl,_s_lin0
2788  0C90  7E          	ld	a, (hl)
2789  0C91  E6 0F       	and	a,0x0f
2790  0C93  4F          	ld	c, a
2791  0C94  7E          	ld	a, (hl)
2792  0C95  07          	rlca
2793  0C96  07          	rlca
2794  0C97  07          	rlca
2795  0C98  07          	rlca
2796  0C99  E6 0F       	and	a,0x0f
2797  0C9B  5F          	ld	e, a
2798  0C9C  21 00 00    	ld	hl,_s_col0
2799  0C9F  CB 46       	bit	0, (hl)
2800  0CA1  20 68       	jr	NZ,l_spr_back_repaint_00110
2801  0CA3  79          	ld	a, c
2802  0CA4  B7          	or	a, a
2803  0CA5  20 1D       	jr	NZ,l_spr_back_repaint_00104
2804  0CA7  2A 00 00    	ld	hl,(_sprite_curr_index)
2805  0CAA  26 00       	ld	h,0x00
2806  0CAC  01 00 00    	ld	bc,_scr_map
2807  0CAF  09          	add	hl,bc
2808  0CB0  46          	ld	b,(hl)
2809  0CB1  3A 00 00    	ld	a,(_s_col0)
2810  0CB4  F5          	push	af
2811  0CB5  33          	inc	sp
2812  0CB6  3A 00 00    	ld	a,(_s_lin0)
2813  0CB9  48          	ld	c,b
2814  0CBA  47          	ld	b,a
2815  0CBB  C5          	push	bc
2816  0CBC  CD E8 0D    	call	_spr_tile_paint
2817  0CBF  F1          	pop	af
2818  0CC0  33          	inc	sp
2819  0CC1  C3 DD 0D    	jp	l_spr_back_repaint_00111
2820  0CC4              l_spr_back_repaint_00104:
2821  0CC4  7B          	ld	a, e
2822  0CC5  07          	rlca
2823  0CC6  07          	rlca
2824  0CC7  07          	rlca
2825  0CC8  07          	rlca
2826  0CC9  E6 F0       	and	a,0xf0
2827  0CCB  4F          	ld	c, a
2828  0CCC  2A 00 00    	ld	hl,(_sprite_curr_index)
2829  0CCF  26 00       	ld	h,0x00
2830  0CD1  11 00 00    	ld	de,_scr_map
2831  0CD4  19          	add	hl,de
2832  0CD5  46          	ld	b, (hl)
2833  0CD6  3A 00 00    	ld	a,(_s_col0)
2834  0CD9  C5          	push	bc
2835  0CDA  F5          	push	af
2836  0CDB  33          	inc	sp
2837  0CDC  79          	ld	a, c
2838  0CDD  48          	ld	c,b
2839  0CDE  47          	ld	b,a
2840  0CDF  C5          	push	bc
2841  0CE0  CD E8 0D    	call	_spr_tile_paint
2842  0CE3  F1          	pop	af
2843  0CE4  33          	inc	sp
2844  0CE5  C1          	pop	bc
2845  0CE6  79          	ld	a, c
2846  0CE7  C6 10       	add	a,0x10
2847  0CE9  57          	ld	d, a
2848  0CEA  21 00 00    	ld	hl,_sprite_curr_index
2849  0CED  7E          	ld	a, (hl)
2850  0CEE  C6 10       	add	a,0x10
2851  0CF0  77          	ld	(hl), a
2852  0CF1  C6 00       	add	a,+((_scr_map) & 0xFF)
2853  0CF3  4F          	ld	c, a
2854  0CF4  3E 00       	ld	a, +((_scr_map) / 256)
2855  0CF6  CE 00       	adc	a,0x00
2856  0CF8  47          	ld	b, a
2857  0CF9  0A          	ld	a, (bc)
2858  0CFA  47          	ld	b, a
2859  0CFB  3A 00 00    	ld	a,(_s_col0)
2860  0CFE  5A          	ld	e,d
2861  0CFF  57          	ld	d,a
2862  0D00  D5          	push	de
2863  0D01  C5          	push	bc
2864  0D02  33          	inc	sp
2865  0D03  CD E8 0D    	call	_spr_tile_paint
2866  0D06  F1          	pop	af
2867  0D07  33          	inc	sp
2868  0D08  C3 DD 0D    	jp	l_spr_back_repaint_00111
2869  0D0B              l_spr_back_repaint_00110:
2870  0D0B  3A 00 00    	ld	a,(_s_col0)
2871  0D0E  C6 FF       	add	a,0xff
2872  0D10  DD 77 FF    	ld	(ix-1),a
2873  0D13  79          	ld	a, c
2874  0D14  B7          	or	a, a
2875  0D15  20 3E       	jr	NZ,l_spr_back_repaint_00107
2876  0D17  2A 00 00    	ld	hl,(_sprite_curr_index)
2877  0D1A  26 00       	ld	h,0x00
2878  0D1C  01 00 00    	ld	bc,_scr_map
2879  0D1F  09          	add	hl,bc
2880  0D20  46          	ld	b,(hl)
2881  0D21  DD 7E FF    	ld	a,(ix-1)
2882  0D24  F5          	push	af
2883  0D25  33          	inc	sp
2884  0D26  3A 00 00    	ld	a,(_s_lin0)
2885  0D29  48          	ld	c,b
2886  0D2A  47          	ld	b,a
2887  0D2B  C5          	push	bc
2888  0D2C  CD E8 0D    	call	_spr_tile_paint
2889  0D2F  F1          	pop	af
2890  0D30  33          	inc	sp
2891  0D31  21 00 00    	ld	hl,_sprite_curr_index
2892  0D34  34          	inc	(hl)
2893  0D35  21 00 00    	ld	hl,_s_col0
2894  0D38  4E          	ld	c, (hl)
2895  0D39  0C          	inc	c
2896  0D3A  2A 00 00    	ld	hl,(_sprite_curr_index)
2897  0D3D  26 00       	ld	h,0x00
2898  0D3F  11 00 00    	ld	de,_scr_map
2899  0D42  19          	add	hl,de
2900  0D43  46          	ld	b, (hl)
2901  0D44  79          	ld	a, c
2902  0D45  F5          	push	af
2903  0D46  33          	inc	sp
2904  0D47  3A 00 00    	ld	a,(_s_lin0)
2905  0D4A  48          	ld	c,b
2906  0D4B  47          	ld	b,a
2907  0D4C  C5          	push	bc
2908  0D4D  CD E8 0D    	call	_spr_tile_paint
2909  0D50  F1          	pop	af
2910  0D51  33          	inc	sp
2911  0D52  C3 DD 0D    	jp	l_spr_back_repaint_00111
2912  0D55              l_spr_back_repaint_00107:
2913  0D55  7B          	ld	a, e
2914  0D56  07          	rlca
2915  0D57  07          	rlca
2916  0D58  07          	rlca
2917  0D59  07          	rlca
2918  0D5A  E6 F0       	and	a,0xf0
2919  0D5C  47          	ld	b, a
2920  0D5D  2A 00 00    	ld	hl,(_sprite_curr_index)
2921  0D60  26 00       	ld	h,0x00
2922  0D62  11 00 00    	ld	de,_scr_map
2923  0D65  19          	add	hl,de
2924  0D66  56          	ld	d, (hl)
2925  0D67  C5          	push	bc
2926  0D68  DD 7E FF    	ld	a,(ix-1)
2927  0D6B  F5          	push	af
2928  0D6C  33          	inc	sp
2929  0D6D  4A          	ld	c, d
2930  0D6E  C5          	push	bc
2931  0D6F  CD E8 0D    	call	_spr_tile_paint
2932  0D72  F1          	pop	af
2933  0D73  33          	inc	sp
2934  0D74  C1          	pop	bc
2935  0D75  21 00 00    	ld	hl,_sprite_curr_index
2936  0D78  34          	inc	(hl)
2937  0D79  21 00 00    	ld	hl,_s_col0
2938  0D7C  4E          	ld	c, (hl)
2939  0D7D  0C          	inc	c
2940  0D7E  2A 00 00    	ld	hl,(_sprite_curr_index)
2941  0D81  26 00       	ld	h,0x00
2942  0D83  11 00 00    	ld	de,_scr_map
2943  0D86  19          	add	hl,de
2944  0D87  5E          	ld	e, (hl)
2945  0D88  C5          	push	bc
2946  0D89  79          	ld	a, c
2947  0D8A  48          	ld	c,b
2948  0D8B  47          	ld	b,a
2949  0D8C  C5          	push	bc
2950  0D8D  7B          	ld	a, e
2951  0D8E  F5          	push	af
2952  0D8F  33          	inc	sp
2953  0D90  CD E8 0D    	call	_spr_tile_paint
2954  0D93  F1          	pop	af
2955  0D94  33          	inc	sp
2956  0D95  C1          	pop	bc
2957  0D96  78          	ld	a, b
2958  0D97  C6 10       	add	a,0x10
2959  0D99  DD 77 FF    	ld	(ix-1),a
2960  0D9C  21 00 00    	ld	hl,_sprite_curr_index
2961  0D9F  7E          	ld	a, (hl)
2962  0DA0  C6 0F       	add	a,0x0f
2963  0DA2  77          	ld	(hl), a
2964  0DA3  21 00 00    	ld	hl,_s_col0
2965  0DA6  4E          	ld	c, (hl)
2966  0DA7  0D          	dec	c
2967  0DA8  2A 00 00    	ld	hl,(_sprite_curr_index)
2968  0DAB  26 00       	ld	h,0x00
2969  0DAD  11 00 00    	ld	de,_scr_map
2970  0DB0  19          	add	hl,de
2971  0DB1  5E          	ld	e, (hl)
2972  0DB2  79          	ld	a, c
2973  0DB3  F5          	push	af
2974  0DB4  33          	inc	sp
2975  0DB5  DD 56 FF    	ld	d,(ix-1)
2976  0DB8  D5          	push	de
2977  0DB9  CD E8 0D    	call	_spr_tile_paint
2978  0DBC  F1          	pop	af
2979  0DBD  33          	inc	sp
2980  0DBE  21 00 00    	ld	hl,_sprite_curr_index
2981  0DC1  34          	inc	(hl)
2982  0DC2  21 00 00    	ld	hl,_s_col0
2983  0DC5  4E          	ld	c, (hl)
2984  0DC6  0C          	inc	c
2985  0DC7  2A 00 00    	ld	hl,(_sprite_curr_index)
2986  0DCA  26 00       	ld	h,0x00
2987  0DCC  11 00 00    	ld	de,_scr_map
2988  0DCF  19          	add	hl,de
2989  0DD0  5E          	ld	e, (hl)
2990  0DD1  79          	ld	a, c
2991  0DD2  F5          	push	af
2992  0DD3  33          	inc	sp
2993  0DD4  DD 56 FF    	ld	d,(ix-1)
2994  0DD7  D5          	push	de
2995  0DD8  CD E8 0D    	call	_spr_tile_paint
2996  0DDB  F1          	pop	af
2997  0DDC  33          	inc	sp
2998  0DDD              l_spr_back_repaint_00111:
2999  0DDD  3A 00 00    	ld	a,(_spr_hack)
3000  0DE0  B7          	or	a, a
3001  0DE1  20 01       	jr	NZ,l_spr_back_repaint_00114
3002  0DE3  FB          	ei
3003  0DE4              l_spr_back_repaint_00114:
3004  0DE4  33          	inc	sp
3005  0DE5  DD E1       	pop	ix
3006  0DE7  C9          	ret
3007  0DE8              	SECTION code_compiler
3008  0DE8              ;	---------------------------------
3009  0DE8              ; Function spr_tile_paint
3010  0DE8              ; ---------------------------------
3011  0DE8              _spr_tile_paint:
3012  0DE8  CD 00 00    	call	___sdcc_enter_ix
3013  0DEB  DD 7E 04    	ld	a,(ix+4)
3014  0DEE  B7          	or	a, a
3015  0DEF  28 05       	jr	Z,l_spr_tile_paint_00101
3016  0DF1  3C          	inc	a
3017  0DF2  28 22       	jr	Z,l_spr_tile_paint_00105
3018  0DF4  18 11       	jr	l_spr_tile_paint_00103
3019  0DF6              l_spr_tile_paint_00101:
3020  0DF6  DD 66 06    	ld	h,(ix+6)
3021  0DF9  DD 6E 05    	ld	l,(ix+5)
3022  0DFC  3A 00 00    	ld	a,(_map_paper_clr)
3023  0DFF  E5          	push	hl
3024  0E00  F5          	push	af
3025  0E01  33          	inc	sp
3026  0E02  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
3027  0E05  18 0F       	jr	l_spr_tile_paint_00105
3028  0E07              l_spr_tile_paint_00103:
3029  0E07  DD 66 06    	ld	h,(ix+6)
3030  0E0A  DD 6E 05    	ld	l,(ix+5)
3031  0E0D  E5          	push	hl
3032  0E0E  DD 7E 04    	ld	a,(ix+4)
3033  0E11  F5          	push	af
3034  0E12  33          	inc	sp
3035  0E13  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3036  0E16              l_spr_tile_paint_00105:
3037  0E16  DD E1       	pop	ix
3038  0E18  C9          	ret
3039  0E19              	SECTION code_compiler
3040  0E19              ;	---------------------------------
3041  0E19              ; Function spr_init_anim_bullets
3042  0E19              ; ---------------------------------
3043  0E19              _spr_init_anim_bullets:
3044  0E19  01 00 00    	ld	bc,_anim_lin+0
3045  0E1C  1E 00       	ld	e,0x00
3046  0E1E              l_spr_init_anim_bullets_00102:
3047  0E1E  6B          	ld	l,e
3048  0E1F  26 00       	ld	h,0x00
3049  0E21  09          	add	hl, bc
3050  0E22  36 FF       	ld	(hl),0xff
3051  0E24  16 00       	ld	d,0x00
3052  0E26  21 00 00    	ld	hl,_bullet_col
3053  0E29  19          	add	hl, de
3054  0E2A  36 FF       	ld	(hl),0xff
3055  0E2C  1C          	inc	e
3056  0E2D  7B          	ld	a, e
3057  0E2E  D6 08       	sub	a,0x08
3058  0E30  38 EC       	jr	C,l_spr_init_anim_bullets_00102
3059  0E32  21 00 00    	ld	hl,_bullet_count
3060  0E35  36 00       	ld	(hl),0x00
3061  0E37  21 00 00    	ld	hl,_anim_count
3062  0E3A  36 00       	ld	(hl),0x00
3063  0E3C  C9          	ret
3064  0E3D              	SECTION code_compiler
3065  0E3D              ;	---------------------------------
3066  0E3D              ; Function spr_add_anim
3067  0E3D              ; ---------------------------------
3068  0E3D              _spr_add_anim:
3069  0E3D  CD 00 00    	call	___sdcc_enter_ix
3070  0E40  F5          	push	af
3071  0E41  F5          	push	af
3072  0E42  3B          	dec	sp
3073  0E43  DD 7E 05    	ld	a,(ix+5)
3074  0E46  D6 1F       	sub	a,0x1f
3075  0E48  D2 09 0F    	jp	NC, l_spr_add_anim_00111
3076  0E4B  DD 7E 04    	ld	a,(ix+4)
3077  0E4E  D6 B8       	sub	a,0xb8
3078  0E50  D2 09 0F    	jp	NC, l_spr_add_anim_00111
3079  0E53  0E 00       	ld	c,0x00
3080  0E55  DD 71 FB    	ld	(ix-5),c
3081  0E58              l_spr_add_anim_00109:
3082  0E58  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3083  0E5A  81          	add	a, c
3084  0E5B  5F          	ld	e, a
3085  0E5C  3E 00       	ld	a, +((_anim_lin) / 256)
3086  0E5E  CE 00       	adc	a,0x00
3087  0E60  57          	ld	d, a
3088  0E61  1A          	ld	a, (de)
3089  0E62  3C          	inc	a
3090  0E63  C2 FF 0E    	jp	NZ,l_spr_add_anim_00110
3091  0E66  21 00 00    	ld	hl,_anim_count
3092  0E69  34          	inc	(hl)
3093  0E6A  DD 7E 04    	ld	a,(ix+4)
3094  0E6D  12          	ld	(de), a
3095  0E6E  01 00 00    	ld	bc,_anim_col
3096  0E71  DD 6E FB    	ld	l,(ix-5)
3097  0E74  26 00       	ld	h,0x00
3098  0E76  09          	add	hl,bc
3099  0E77  DD 75 FE    	ld	(ix-2),l
3100  0E7A  DD 74 FF    	ld	(ix-1),h
3101  0E7D  DD 7E 05    	ld	a,(ix+5)
3102  0E80  77          	ld	(hl), a
3103  0E81  01 00 00    	ld	bc,_anim_tile
3104  0E84  DD 6E FB    	ld	l,(ix-5)
3105  0E87  26 00       	ld	h,0x00
3106  0E89  09          	add	hl,bc
3107  0E8A  DD 75 FC    	ld	(ix-4),l
3108  0E8D  DD 74 FD    	ld	(ix-3),h
3109  0E90  DD 7E 06    	ld	a,(ix+6)
3110  0E93  77          	ld	(hl), a
3111  0E94  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3112  0E96  DD 86 FB    	add	a,(ix-5)
3113  0E99  4F          	ld	c, a
3114  0E9A  3E 00       	ld	a, +((_anim_loop) / 256)
3115  0E9C  CE 00       	adc	a,0x00
3116  0E9E  47          	ld	b, a
3117  0E9F  DD 7E 08    	ld	a,(ix+8)
3118  0EA2  02          	ld	(bc), a
3119  0EA3  01 00 00    	ld	bc,_anim_int+0
3120  0EA6  DD 6E FB    	ld	l,(ix-5)
3121  0EA9  26 00       	ld	h,0x00
3122  0EAB  09          	add	hl, bc
3123  0EAC  36 00       	ld	(hl),0x00
3124  0EAE  3E 00       	ld	a, +((_anim_end) & 0xFF)
3125  0EB0  DD 86 FB    	add	a,(ix-5)
3126  0EB3  4F          	ld	c, a
3127  0EB4  3E 00       	ld	a, +((_anim_end) / 256)
3128  0EB6  CE 00       	adc	a,0x00
3129  0EB8  47          	ld	b, a
3130  0EB9  DD 7E 07    	ld	a,(ix+7)
3131  0EBC  02          	ld	(bc), a
3132  0EBD  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3133  0EBF  DD 86 FB    	add	a,(ix-5)
3134  0EC2  4F          	ld	c, a
3135  0EC3  3E 00       	ld	a, +((_anim_respanwn) / 256)
3136  0EC5  CE 00       	adc	a,0x00
3137  0EC7  47          	ld	b, a
3138  0EC8  DD 7E 09    	ld	a,(ix+9)
3139  0ECB  02          	ld	(bc), a
3140  0ECC  F3          	di
3141  0ECD  DD 6E FE    	ld	l,(ix-2)
3142  0ED0  DD 66 FF    	ld	h,(ix-1)
3143  0ED3  46          	ld	b, (hl)
3144  0ED4  1A          	ld	a, (de)
3145  0ED5  DD 6E FC    	ld	l,(ix-4)
3146  0ED8  DD 66 FD    	ld	h,(ix-3)
3147  0EDB  56          	ld	d, (hl)
3148  0EDC  C5          	push	bc
3149  0EDD  33          	inc	sp
3150  0EDE  5A          	ld	e,d
3151  0EDF  57          	ld	d,a
3152  0EE0  D5          	push	de
3153  0EE1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3154  0EE4  FB          	ei
3155  0EE5  DD 66 05    	ld	h,(ix+5)
3156  0EE8  DD 6E 04    	ld	l,(ix+4)
3157  0EEB  E5          	push	hl
3158  0EEC  CD 00 00    	call	_spr_calc_index
3159  0EEF  F1          	pop	af
3160  0EF0  22 00 00    	ld	(_index0),hl
3161  0EF3  01 00 00    	ld	bc,_scr_map
3162  0EF6  09          	add	hl,bc
3163  0EF7  7E          	ld	a,(hl)
3164  0EF8  B7          	or	a,a
3165  0EF9  20 0E       	jr	NZ,l_spr_add_anim_00111
3166  0EFB  36 FF       	ld	(hl),0xff
3167  0EFD  18 0A       	jr	l_spr_add_anim_00111
3168  0EFF              l_spr_add_anim_00110:
3169  0EFF  0C          	inc	c
3170  0F00  DD 71 FB    	ld	(ix-5),c
3171  0F03  79          	ld	a, c
3172  0F04  D6 08       	sub	a,0x08
3173  0F06  DA 58 0E    	jp	C, l_spr_add_anim_00109
3174  0F09              l_spr_add_anim_00111:
3175  0F09  DD F9       	ld	sp, ix
3176  0F0B  DD E1       	pop	ix
3177  0F0D  C9          	ret
3178  0F0E              	SECTION code_compiler
3179  0F0E              ;	---------------------------------
3180  0F0E              ; Function spr_play_anim
3181  0F0E              ; ---------------------------------
3182  0F0E              _spr_play_anim:
3183  0F0E  CD 00 00    	call	___sdcc_enter_ix
3184  0F11  F5          	push	af
3185  0F12  F5          	push	af
3186  0F13  F5          	push	af
3187  0F14  F5          	push	af
3188  0F15  DD 36 F8 00 	ld	(ix-8),0x00
3189  0F19              l_spr_play_anim_00114:
3190  0F19  01 00 00    	ld	bc,_anim_lin
3191  0F1C  DD 6E F8    	ld	l,(ix-8)
3192  0F1F  26 00       	ld	h,0x00
3193  0F21  09          	add	hl,bc
3194  0F22  DD 75 FE    	ld	(ix-2),l
3195  0F25  DD 74 FF    	ld	(ix-1),h
3196  0F28  4E          	ld	c, (hl)
3197  0F29  0C          	inc	c
3198  0F2A  CA 2D 10    	jp	Z,l_spr_play_anim_00115
3199  0F2D  21 01 00    	ld	hl,0x0001
3200  0F30  CD 00 00    	call	_z80_delay_ms_fastcall
3201  0F33  01 00 00    	ld	bc,_anim_int
3202  0F36  DD 6E F8    	ld	l,(ix-8)
3203  0F39  26 00       	ld	h,0x00
3204  0F3B  09          	add	hl,bc
3205  0F3C  DD 75 FC    	ld	(ix-4),l
3206  0F3F  DD 74 FD    	ld	(ix-3),h
3207  0F42  4E          	ld	c, (hl)
3208  0F43  3E 00       	ld	a, +((_anim_end) & 0xFF)
3209  0F45  DD 86 F8    	add	a,(ix-8)
3210  0F48  6F          	ld	l, a
3211  0F49  3E 00       	ld	a, +((_anim_end) / 256)
3212  0F4B  CE 00       	adc	a,0x00
3213  0F4D  67          	ld	h, a
3214  0F4E  46          	ld	b, (hl)
3215  0F4F  79          	ld	a, c
3216  0F50  90          	sub	a, b
3217  0F51  30 40       	jr	NC,l_spr_play_anim_00109
3218  0F53  F3          	di
3219  0F54  3E 00       	ld	a, +((_anim_col) & 0xFF)
3220  0F56  DD 86 F8    	add	a,(ix-8)
3221  0F59  6F          	ld	l, a
3222  0F5A  3E 00       	ld	a, +((_anim_col) / 256)
3223  0F5C  CE 00       	adc	a,0x00
3224  0F5E  67          	ld	h, a
3225  0F5F  56          	ld	d, (hl)
3226  0F60  DD 6E FE    	ld	l,(ix-2)
3227  0F63  DD 66 FF    	ld	h,(ix-1)
3228  0F66  4E          	ld	c, (hl)
3229  0F67  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3230  0F69  DD 86 F8    	add	a,(ix-8)
3231  0F6C  6F          	ld	l, a
3232  0F6D  3E 00       	ld	a, +((_anim_tile) / 256)
3233  0F6F  CE 00       	adc	a,0x00
3234  0F71  67          	ld	h, a
3235  0F72  5E          	ld	e, (hl)
3236  0F73  DD 6E FC    	ld	l,(ix-4)
3237  0F76  DD 66 FD    	ld	h,(ix-3)
3238  0F79  6E          	ld	l, (hl)
3239  0F7A  7B          	ld	a, e
3240  0F7B  85          	add	a, l
3241  0F7C  47          	ld	b, a
3242  0F7D  D5          	push	de
3243  0F7E  33          	inc	sp
3244  0F7F  79          	ld	a, c
3245  0F80  48          	ld	c,b
3246  0F81  47          	ld	b,a
3247  0F82  C5          	push	bc
3248  0F83  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3249  0F86  FB          	ei
3250  0F87  DD 6E FC    	ld	l,(ix-4)
3251  0F8A  DD 66 FD    	ld	h,(ix-3)
3252  0F8D  4E          	ld	c,(hl)
3253  0F8E  0C          	inc	c
3254  0F8F  71          	ld	(hl), c
3255  0F90  C3 2D 10    	jp	l_spr_play_anim_00115
3256  0F93              l_spr_play_anim_00109:
3257  0F93  01 00 00    	ld	bc,_anim_loop
3258  0F96  DD 6E F8    	ld	l,(ix-8)
3259  0F99  26 00       	ld	h,0x00
3260  0F9B  09          	add	hl,bc
3261  0F9C  DD 75 FA    	ld	(ix-6),l
3262  0F9F  DD 74 FB    	ld	(ix-5),h
3263  0FA2  7E          	ld	a, (hl)
3264  0FA3  DD 77 F9    	ld	(ix-7),a
3265  0FA6  B7          	or	a, a
3266  0FA7  20 71       	jr	NZ,l_spr_play_anim_00106
3267  0FA9  21 00 00    	ld	hl,_anim_count
3268  0FAC  35          	dec	(hl)
3269  0FAD  3E 00       	ld	a, +((_anim_col) & 0xFF)
3270  0FAF  DD 86 F8    	add	a,(ix-8)
3271  0FB2  6F          	ld	l, a
3272  0FB3  3E 00       	ld	a, +((_anim_col) / 256)
3273  0FB5  CE 00       	adc	a,0x00
3274  0FB7  67          	ld	h, a
3275  0FB8  7E          	ld	a, (hl)
3276  0FB9  32 00 00    	ld	(_s_col0),a
3277  0FBC  DD 6E FE    	ld	l,(ix-2)
3278  0FBF  DD 66 FF    	ld	h,(ix-1)
3279  0FC2  7E          	ld	a, (hl)
3280  0FC3  32 00 00    	ld	(_s_lin0),a
3281  0FC6  2A FF FF    	ld	hl,(_s_col0 - 1)
3282  0FC9  6F          	ld	l,a
3283  0FCA  E5          	push	hl
3284  0FCB  CD 00 00    	call	_spr_calc_index
3285  0FCE  F1          	pop	af
3286  0FCF  2A FF FF    	ld	hl,(_s_col0 - 1)
3287  0FD2  3A 00 00    	ld	a,(_s_lin0)
3288  0FD5  6F          	ld	l,a
3289  0FD6  E5          	push	hl
3290  0FD7  CD 00 00    	call	_spr_calc_index
3291  0FDA  F1          	pop	af
3292  0FDB  01 00 00    	ld	bc,_scr_map
3293  0FDE  09          	add	hl,bc
3294  0FDF  4E          	ld	c, (hl)
3295  0FE0  0C          	inc	c
3296  0FE1  20 12       	jr	NZ,l_spr_play_anim_00102
3297  0FE3  2A FF FF    	ld	hl,(_s_col0 - 1)
3298  0FE6  3A 00 00    	ld	a,(_s_lin0)
3299  0FE9  6F          	ld	l,a
3300  0FEA  E5          	push	hl
3301  0FEB  CD 00 00    	call	_spr_calc_index
3302  0FEE  F1          	pop	af
3303  0FEF  01 00 00    	ld	bc,_scr_map
3304  0FF2  09          	add	hl,bc
3305  0FF3  36 00       	ld	(hl),0x00
3306  0FF5              l_spr_play_anim_00102:
3307  0FF5  CD 71 0C    	call	_spr_back_repaint
3308  0FF8  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3309  0FFA  DD 86 F8    	add	a,(ix-8)
3310  0FFD  4F          	ld	c, a
3311  0FFE  3E 00       	ld	a, +((_anim_respanwn) / 256)
3312  1000  CE 00       	adc	a,0x00
3313  1002  47          	ld	b, a
3314  1003  0A          	ld	a, (bc)
3315  1004  B7          	or	a, a
3316  1005  28 09       	jr	Z,l_spr_play_anim_00104
3317  1007  DD 7E F8    	ld	a,(ix-8)
3318  100A  F5          	push	af
3319  100B  33          	inc	sp
3320  100C  CD 00 00    	call	_enemy_respawn
3321  100F  33          	inc	sp
3322  1010              l_spr_play_anim_00104:
3323  1010  DD 6E FE    	ld	l,(ix-2)
3324  1013  DD 66 FF    	ld	h,(ix-1)
3325  1016  36 FF       	ld	(hl),0xff
3326  1018  18 13       	jr	l_spr_play_anim_00115
3327  101A              l_spr_play_anim_00106:
3328  101A  DD 4E F9    	ld	c,(ix-7)
3329  101D  0D          	dec	c
3330  101E  DD 6E FA    	ld	l,(ix-6)
3331  1021  DD 66 FB    	ld	h,(ix-5)
3332  1024  71          	ld	(hl), c
3333  1025  DD 6E FC    	ld	l,(ix-4)
3334  1028  DD 66 FD    	ld	h,(ix-3)
3335  102B  36 00       	ld	(hl),0x00
3336  102D              l_spr_play_anim_00115:
3337  102D  DD 34 F8    	inc	(ix-8)
3338  1030  DD 7E F8    	ld	a,(ix-8)
3339  1033  D6 08       	sub	a,0x08
3340  1035  DA 19 0F    	jp	C, l_spr_play_anim_00114
3341  1038  DD F9       	ld	sp, ix
3342  103A  DD E1       	pop	ix
3343  103C  C9          	ret
3344  103D              	SECTION code_compiler
3345  103D              ;	---------------------------------
3346  103D              ; Function spr_play_bullets
3347  103D              ; ---------------------------------
3348  103D              _spr_play_bullets:
3349  103D  CD 00 00    	call	___sdcc_enter_ix
3350  1040  21 F2 FF    	ld	hl, -14
3351  1043  39          	add	hl, sp
3352  1044  F9          	ld	sp, hl
3353  1045  3E 00       	ld	a,0x00
3354  1047  DD 77 FF    	ld	(ix-1),a
3355  104A  DD 77 F5    	ld	(ix-11),a
3356  104D              l_spr_play_bullets_00197:
3357  104D  01 00 00    	ld	bc,_bullet_col
3358  1050  DD 6E F5    	ld	l,(ix-11)
3359  1053  26 00       	ld	h,0x00
3360  1055  09          	add	hl,bc
3361  1056  DD 75 FD    	ld	(ix-3),l
3362  1059  DD 74 FE    	ld	(ix-2),h
3363  105C  7E          	ld	a, (hl)
3364  105D  DD 77 FC    	ld	(ix-4),a
3365  1060  3C          	inc	a
3366  1061  CA DC 15    	jp	Z,l_spr_play_bullets_00191
3367  1064  01 00 00    	ld	bc,_bullet_lin
3368  1067  DD 6E F5    	ld	l,(ix-11)
3369  106A  26 00       	ld	h,0x00
3370  106C  09          	add	hl,bc
3371  106D  DD 75 FA    	ld	(ix-6),l
3372  1070  DD 74 FB    	ld	(ix-5),h
3373  1073  7E          	ld	a, (hl)
3374  1074  32 00 00    	ld	(_s_lin0),a
3375  1077  DD 7E FC    	ld	a,(ix-4)
3376  107A  32 00 00    	ld	(_s_col0),a
3377  107D  DD 77 F4    	ld	(ix-12),a
3378  1080  CD 71 0C    	call	_spr_back_repaint
3379  1083  01 00 00    	ld	bc,_bullet_class
3380  1086  DD 6E F5    	ld	l,(ix-11)
3381  1089  26 00       	ld	h,0x00
3382  108B  09          	add	hl,bc
3383  108C  DD 75 F8    	ld	(ix-8),l
3384  108F  DD 74 F9    	ld	(ix-7),h
3385  1092  7E          	ld	a, (hl)
3386  1093  D6 02       	sub	a,0x02
3387  1095  20 46       	jr	NZ,l_spr_play_bullets_00107
3388  1097  3A 00 00    	ld	a,(_s_lin0)
3389  109A  4F          	ld	c,a
3390  109B  06 00       	ld	b,0x00
3391  109D  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3392  109F  DD 86 F5    	add	a,(ix-11)
3393  10A2  6F          	ld	l, a
3394  10A3  3E 00       	ld	a, +((_bullet_lin0) / 256)
3395  10A5  CE 00       	adc	a,0x00
3396  10A7  67          	ld	h, a
3397  10A8  5E          	ld	e, (hl)
3398  10A9  16 00       	ld	d,0x00
3399  10AB  79          	ld	a, c
3400  10AC  93          	sub	a, e
3401  10AD  4F          	ld	c, a
3402  10AE  78          	ld	a, b
3403  10AF  9A          	sbc	a, d
3404  10B0  47          	ld	b, a
3405  10B1  3E 08       	ld	a,0x08
3406  10B3  B9          	cp	a, c
3407  10B4  3E 00       	ld	a,0x00
3408  10B6  98          	sbc	a, b
3409  10B7  E2 BC 10    	jp	PO, l_spr_play_bullets_00403
3410  10BA  EE 80       	xor	a,0x80
3411  10BC              l_spr_play_bullets_00403:
3412  10BC  FA D5 10    	jp	M, l_spr_play_bullets_00104
3413  10BF  DD 6E FA    	ld	l,(ix-6)
3414  10C2  DD 66 FB    	ld	h,(ix-5)
3415  10C5  4E          	ld	c, (hl)
3416  10C6  0C          	inc	c
3417  10C7  0C          	inc	c
3418  10C8  DD 6E FA    	ld	l,(ix-6)
3419  10CB  DD 66 FB    	ld	h,(ix-5)
3420  10CE  71          	ld	(hl), c
3421  10CF  21 00 00    	ld	hl,_s_lin0
3422  10D2  71          	ld	(hl), c
3423  10D3  18 08       	jr	l_spr_play_bullets_00107
3424  10D5              l_spr_play_bullets_00104:
3425  10D5  DD 6E F8    	ld	l,(ix-8)
3426  10D8  DD 66 F9    	ld	h,(ix-7)
3427  10DB  36 03       	ld	(hl),0x03
3428  10DD              l_spr_play_bullets_00107:
3429  10DD  DD 6E F8    	ld	l,(ix-8)
3430  10E0  DD 66 F9    	ld	h,(ix-7)
3431  10E3  7E          	ld	a, (hl)
3432  10E4  D6 03       	sub	a,0x03
3433  10E6  20 46       	jr	NZ,l_spr_play_bullets_00112
3434  10E8  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3435  10EA  DD 86 F5    	add	a,(ix-11)
3436  10ED  6F          	ld	l, a
3437  10EE  3E 00       	ld	a, +((_bullet_lin0) / 256)
3438  10F0  CE 00       	adc	a,0x00
3439  10F2  67          	ld	h, a
3440  10F3  4E          	ld	c, (hl)
3441  10F4  06 00       	ld	b,0x00
3442  10F6  3A 00 00    	ld	a,(_s_lin0)
3443  10F9  5F          	ld	e,a
3444  10FA  16 00       	ld	d,0x00
3445  10FC  79          	ld	a, c
3446  10FD  93          	sub	a, e
3447  10FE  4F          	ld	c, a
3448  10FF  78          	ld	a, b
3449  1100  9A          	sbc	a, d
3450  1101  47          	ld	b, a
3451  1102  3E 08       	ld	a,0x08
3452  1104  B9          	cp	a, c
3453  1105  3E 00       	ld	a,0x00
3454  1107  98          	sbc	a, b
3455  1108  E2 0D 11    	jp	PO, l_spr_play_bullets_00406
3456  110B  EE 80       	xor	a,0x80
3457  110D              l_spr_play_bullets_00406:
3458  110D  FA 26 11    	jp	M, l_spr_play_bullets_00109
3459  1110  DD 6E FA    	ld	l,(ix-6)
3460  1113  DD 66 FB    	ld	h,(ix-5)
3461  1116  4E          	ld	c, (hl)
3462  1117  0D          	dec	c
3463  1118  0D          	dec	c
3464  1119  DD 6E FA    	ld	l,(ix-6)
3465  111C  DD 66 FB    	ld	h,(ix-5)
3466  111F  71          	ld	(hl), c
3467  1120  21 00 00    	ld	hl,_s_lin0
3468  1123  71          	ld	(hl), c
3469  1124  18 08       	jr	l_spr_play_bullets_00112
3470  1126              l_spr_play_bullets_00109:
3471  1126  DD 6E F8    	ld	l,(ix-8)
3472  1129  DD 66 F9    	ld	h,(ix-7)
3473  112C  36 02       	ld	(hl),0x02
3474  112E              l_spr_play_bullets_00112:
3475  112E  DD 6E F8    	ld	l,(ix-8)
3476  1131  DD 66 F9    	ld	h,(ix-7)
3477  1134  7E          	ld	a, (hl)
3478  1135  D6 04       	sub	a,0x04
3479  1137  C2 BD 11    	jp	NZ,l_spr_play_bullets_00125
3480  113A  DD 6E FA    	ld	l,(ix-6)
3481  113D  DD 66 FB    	ld	h,(ix-5)
3482  1140  7E          	ld	a, (hl)
3483  1141  32 00 00    	ld	(_s_lin0),a
3484  1144  DD 6E FD    	ld	l,(ix-3)
3485  1147  DD 66 FE    	ld	h,(ix-2)
3486  114A  7E          	ld	a, (hl)
3487  114B  C6 FF       	add	a,0xff
3488  114D  32 00 00    	ld	(_s_col0),a
3489  1150  D6 20       	sub	a,0x20
3490  1152  30 03       	jr	NC,l_spr_play_bullets_00114
3491  1154  CD 71 0C    	call	_spr_back_repaint
3492  1157              l_spr_play_bullets_00114:
3493  1157  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3494  1159  DD 86 F5    	add	a,(ix-11)
3495  115C  4F          	ld	c, a
3496  115D  3E 00       	ld	a, +((_bullet_vel) / 256)
3497  115F  CE 00       	adc	a,0x00
3498  1161  47          	ld	b, a
3499  1162  0A          	ld	a, (bc)
3500  1163  5F          	ld	e, a
3501  1164  21 00 00    	ld	hl,_game_gravity
3502  1167  56          	ld	d, (hl)
3503  1168  7B          	ld	a, e
3504  1169  82          	add	a, d
3505  116A  5F          	ld	e,a
3506  116B  02          	ld	(bc), a
3507  116C  3E 78       	ld	a,0x78
3508  116E  93          	sub	a, e
3509  116F  E2 74 11    	jp	PO, l_spr_play_bullets_00409
3510  1172  EE 80       	xor	a,0x80
3511  1174              l_spr_play_bullets_00409:
3512  1174  F2 7A 11    	jp	P, l_spr_play_bullets_00116
3513  1177  3E 78       	ld	a,0x78
3514  1179  02          	ld	(bc), a
3515  117A              l_spr_play_bullets_00116:
3516  117A  0A          	ld	a, (bc)
3517  117B  EE 80       	xor	a,0x80
3518  117D  D6 08       	sub	a,0x08
3519  117F  30 03       	jr	NC,l_spr_play_bullets_00118
3520  1181  3E 88       	ld	a,0x88
3521  1183  02          	ld	(bc), a
3522  1184              l_spr_play_bullets_00118:
3523  1184  0A          	ld	a, (bc)
3524  1185  CB 47       	bit	0,a
3525  1187  32 00 00    	ld	(_s_lin1),a
3526  118A  28 04       	jr	Z,l_spr_play_bullets_00120
3527  118C  21 00 00    	ld	hl,_s_lin1
3528  118F  35          	dec	(hl)
3529  1190              l_spr_play_bullets_00120:
3530  1190  DD 6E FA    	ld	l,(ix-6)
3531  1193  DD 66 FB    	ld	h,(ix-5)
3532  1196  7E          	ld	a, (hl)
3533  1197  21 00 00    	ld	hl,_s_lin1
3534  119A  86          	add	a, (hl)
3535  119B  21 00 00    	ld	hl,_s_lin0
3536  119E  77          	ld	(hl), a
3537  119F  3E 90       	ld	a,0x90
3538  11A1  96          	sub	a, (hl)
3539  11A2  30 0F       	jr	NC,l_spr_play_bullets_00122
3540  11A4  21 00 00    	ld	hl,_bullet_count
3541  11A7  35          	dec	(hl)
3542  11A8  DD 6E FD    	ld	l,(ix-3)
3543  11AB  DD 66 FE    	ld	h,(ix-2)
3544  11AE  36 FF       	ld	(hl),0xff
3545  11B0  C3 DC 15    	jp	l_spr_play_bullets_00191
3546  11B3              l_spr_play_bullets_00122:
3547  11B3  DD 6E FA    	ld	l,(ix-6)
3548  11B6  DD 66 FB    	ld	h,(ix-5)
3549  11B9  3A 00 00    	ld	a,(_s_lin0)
3550  11BC  77          	ld	(hl),a
3551  11BD              l_spr_play_bullets_00125:
3552  11BD  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3553  11BF  DD 86 F5    	add	a,(ix-11)
3554  11C2  6F          	ld	l, a
3555  11C3  3E 00       	ld	a, +((_bullet_dir) / 256)
3556  11C5  CE 00       	adc	a,0x00
3557  11C7  67          	ld	h, a
3558  11C8  4E          	ld	c, (hl)
3559  11C9  0C          	inc	c
3560  11CA  20 3D       	jr	NZ,l_spr_play_bullets_00135
3561  11CC  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3562  11CE  DD 86 F5    	add	a,(ix-11)
3563  11D1  4F          	ld	c, a
3564  11D2  3E 00       	ld	a, +((_bullet_colint) / 256)
3565  11D4  CE 00       	adc	a,0x00
3566  11D6  47          	ld	b, a
3567  11D7  0A          	ld	a, (bc)
3568  11D8  3C          	inc	a
3569  11D9  5F          	ld	e,a
3570  11DA  02          	ld	(bc), a
3571  11DB  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3572  11DD  DD 86 F5    	add	a,(ix-11)
3573  11E0  6F          	ld	l, a
3574  11E1  3E 00       	ld	a, +((_bullet_frames) / 256)
3575  11E3  CE 00       	adc	a,0x00
3576  11E5  67          	ld	h, a
3577  11E6  56          	ld	d, (hl)
3578  11E7  7B          	ld	a, e
3579  11E8  92          	sub	a, d
3580  11E9  38 63       	jr	C,l_spr_play_bullets_00136
3581  11EB  DD 6E FD    	ld	l,(ix-3)
3582  11EE  DD 66 FE    	ld	h,(ix-2)
3583  11F1  7E          	ld	a, (hl)
3584  11F2  3C          	inc	a
3585  11F3  DD 77 F4    	ld	(ix-12),a
3586  11F6  AF          	xor	a, a
3587  11F7  02          	ld	(bc), a
3588  11F8  DD 7E F4    	ld	a,(ix-12)
3589  11FB  E6 01       	and	a,0x01
3590  11FD  3D          	dec	a
3591  11FE  20 4E       	jr	NZ,l_spr_play_bullets_00136
3592  1200  DD 7E F4    	ld	a,(ix-12)
3593  1203  3C          	inc	a
3594  1204  32 00 00    	ld	(_s_col0),a
3595  1207  18 45       	jr	l_spr_play_bullets_00136
3596  1209              l_spr_play_bullets_00135:
3597  1209  01 00 00    	ld	bc,_bullet_colint
3598  120C  DD 6E F5    	ld	l,(ix-11)
3599  120F  26 00       	ld	h,0x00
3600  1211  09          	add	hl,bc
3601  1212  DD 75 F6    	ld	(ix-10),l
3602  1215  DD 74 F7    	ld	(ix-9),h
3603  1218  4E          	ld	c,(hl)
3604  1219  0D          	dec	c
3605  121A  71          	ld	(hl), c
3606  121B  0C          	inc	c
3607  121C  20 30       	jr	NZ,l_spr_play_bullets_00136
3608  121E  DD 6E FD    	ld	l,(ix-3)
3609  1221  DD 66 FE    	ld	h,(ix-2)
3610  1224  7E          	ld	a, (hl)
3611  1225  C6 FF       	add	a,0xff
3612  1227  DD 77 F4    	ld	(ix-12),a
3613  122A  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3614  122C  DD 86 F5    	add	a,(ix-11)
3615  122F  6F          	ld	l, a
3616  1230  3E 00       	ld	a, +((_bullet_frames) / 256)
3617  1232  CE 00       	adc	a,0x00
3618  1234  67          	ld	h, a
3619  1235  4E          	ld	c, (hl)
3620  1236  0D          	dec	c
3621  1237  DD 6E F6    	ld	l,(ix-10)
3622  123A  DD 66 F7    	ld	h,(ix-9)
3623  123D  71          	ld	(hl), c
3624  123E  DD 7E F4    	ld	a,(ix-12)
3625  1241  E6 01       	and	a,0x01
3626  1243  3D          	dec	a
3627  1244  20 08       	jr	NZ,l_spr_play_bullets_00136
3628  1246  DD 7E F4    	ld	a,(ix-12)
3629  1249  C6 FF       	add	a,0xff
3630  124B  32 00 00    	ld	(_s_col0),a
3631  124E              l_spr_play_bullets_00136:
3632  124E  21 00 00    	ld	hl,_tmp1
3633  1251  36 00       	ld	(hl),0x00
3634  1253  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3635  1255  DD 86 F5    	add	a,(ix-11)
3636  1258  4F          	ld	c, a
3637  1259  3E 00       	ld	a, +((_bullet_max) / 256)
3638  125B  CE 00       	adc	a,0x00
3639  125D  47          	ld	b, a
3640  125E  0A          	ld	a, (bc)
3641  125F  B7          	or	a, a
3642  1260  28 27       	jr	Z,l_spr_play_bullets_00140
3643  1262  DD 5E F4    	ld	e,(ix-12)
3644  1265  16 00       	ld	d,0x00
3645  1267  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3646  1269  DD 86 F5    	add	a,(ix-11)
3647  126C  6F          	ld	l, a
3648  126D  3E 00       	ld	a, +((_bullet_col0) / 256)
3649  126F  CE 00       	adc	a,0x00
3650  1271  67          	ld	h, a
3651  1272  6E          	ld	l, (hl)
3652  1273  AF          	xor	a,a
3653  1274  67          	ld	h,a
3654  1275  EB          	ex	de,hl
3655  1276  ED 52       	sbc	hl,de
3656  1278  CD 00 00    	call	_abs_fastcall
3657  127B  5D          	ld	e, l
3658  127C  21 00 00    	ld	hl,_tmp0
3659  127F  73          	ld	(hl), e
3660  1280  0A          	ld	a, (bc)
3661  1281  96          	sub	a, (hl)
3662  1282  30 05       	jr	NC,l_spr_play_bullets_00140
3663  1284  21 00 00    	ld	hl,_tmp1
3664  1287  36 01       	ld	(hl),0x01
3665  1289              l_spr_play_bullets_00140:
3666  1289  DD 7E F4    	ld	a,(ix-12)
3667  128C  D6 1E       	sub	a,0x1e
3668  128E  38 05       	jr	C,l_spr_play_bullets_00142
3669  1290  21 00 00    	ld	hl,_tmp1
3670  1293  36 01       	ld	(hl),0x01
3671  1295              l_spr_play_bullets_00142:
3672  1295  3A 00 00    	ld	a,(_tmp1)
3673  1298  B7          	or	a, a
3674  1299  28 0F       	jr	Z,l_spr_play_bullets_00144
3675  129B  21 00 00    	ld	hl,_bullet_count
3676  129E  35          	dec	(hl)
3677  129F  DD 6E FD    	ld	l,(ix-3)
3678  12A2  DD 66 FE    	ld	h,(ix-2)
3679  12A5  36 FF       	ld	(hl),0xff
3680  12A7  C3 DC 15    	jp	l_spr_play_bullets_00191
3681  12AA              l_spr_play_bullets_00144:
3682  12AA  DD 7E FD    	ld	a,(ix-3)
3683  12AD  DD 77 F6    	ld	(ix-10),a
3684  12B0  DD 7E FE    	ld	a,(ix-2)
3685  12B3  DD 77 F7    	ld	(ix-9),a
3686  12B6  DD 6E FD    	ld	l,(ix-3)
3687  12B9  DD 66 FE    	ld	h,(ix-2)
3688  12BC  DD 7E F4    	ld	a,(ix-12)
3689  12BF  96          	sub	a,(hl)
3690  12C0  CA A0 15    	jp	Z,l_spr_play_bullets_00186
3691  12C3  3A 00 00    	ld	a,(_s_lin0)
3692  12C6  C6 08       	add	a,0x08
3693  12C8  4F          	ld	c, a
3694  12C9  3A 00 00    	ld	a, (_s_col0)
3695  12CC  47          	ld	b,a
3696  12CD  C5          	push	bc
3697  12CE  CD 00 00    	call	_spr_calc_index
3698  12D1  F1          	pop	af
3699  12D2  22 00 00    	ld	(_index0),hl
3700  12D5  01 00 00    	ld	bc,_scr_map
3701  12D8  09          	add	hl,bc
3702  12D9  4D          	ld	c,l
3703  12DA  44          	ld	b,h
3704  12DB  6E          	ld	l, (hl)
3705  12DC  DD 7E F5    	ld	a,(ix-11)
3706  12DF  D6 07       	sub	a,0x07
3707  12E1  20 04       	jr	NZ,l_spr_play_bullets_00420
3708  12E3  3E 01       	ld	a,0x01
3709  12E5  18 01       	jr	l_spr_play_bullets_00421
3710  12E7              l_spr_play_bullets_00420:
3711  12E7  AF          	xor	a,a
3712  12E8              l_spr_play_bullets_00421:
3713  12E8  5F          	ld	e, a
3714  12E9  7D          	ld	a, l
3715  12EA  D6 4D       	sub	a,0x4d
3716  12EC  20 3D       	jr	NZ,l_spr_play_bullets_00146
3717  12EE  B3          	or	a,e
3718  12EF  28 3A       	jr	Z,l_spr_play_bullets_00146
3719  12F1  AF          	xor	a, a
3720  12F2  02          	ld	(bc), a
3721  12F3  2A 00 00    	ld	hl,(_index0)
3722  12F6  E5          	push	hl
3723  12F7  CD 00 00    	call	_game_obj_set
3724  12FA  F1          	pop	af
3725  12FB  2A 00 00    	ld	hl,(_index0)
3726  12FE  4D          	ld	c,l
3727  12FF  5C          	ld	e,h
3728  1300  06 04       	ld	b,0x04
3729  1302  79          	ld	a,c
3730  1303              l_spr_play_bullets_00424:
3731  1303  CB 3B       	srl	e
3732  1305  1F          	rra
3733  1306  10 FB       	djnz	l_spr_play_bullets_00424
3734  1308  07          	rlca
3735  1309  07          	rlca
3736  130A  07          	rlca
3737  130B  07          	rlca
3738  130C  E6 F0       	and	a,0xf0
3739  130E  DD 6E FA    	ld	l,(ix-6)
3740  1311  DD 66 FB    	ld	h,(ix-5)
3741  1314  77          	ld	(hl), a
3742  1315  3A 00 00    	ld	a,(_index0)
3743  1318  E6 0F       	and	a,0x0f
3744  131A  87          	add	a, a
3745  131B  DD 6E FD    	ld	l,(ix-3)
3746  131E  DD 66 FE    	ld	h,(ix-2)
3747  1321  77          	ld	(hl), a
3748  1322  DD 6E F5    	ld	l,(ix-11)
3749  1325  CD EF 15    	call	_spr_explode_bullet
3750  1328  C3 DC 15    	jp	l_spr_play_bullets_00191
3751  132B              l_spr_play_bullets_00146:
3752  132B  7D          	ld	a, l
3753  132C  D6 48       	sub	a,0x48
3754  132E  38 0C       	jr	C,l_spr_play_bullets_00149
3755  1330  2C          	inc	l
3756  1331  28 09       	jr	Z,l_spr_play_bullets_00149
3757  1333  DD 6E F5    	ld	l,(ix-11)
3758  1336  CD EF 15    	call	_spr_explode_bullet
3759  1339  C3 DC 15    	jp	l_spr_play_bullets_00191
3760  133C              l_spr_play_bullets_00149:
3761  133C  DD 6E FD    	ld	l,(ix-3)
3762  133F  DD 66 FE    	ld	h,(ix-2)
3763  1342  DD 7E F4    	ld	a,(ix-12)
3764  1345  77          	ld	(hl), a
3765  1346  DD 6E F8    	ld	l,(ix-8)
3766  1349  DD 66 F9    	ld	h,(ix-7)
3767  134C  7E          	ld	a, (hl)
3768  134D  D6 04       	sub	a,0x04
3769  134F  20 19       	jr	NZ,l_spr_play_bullets_00152
3770  1351  21 00 00    	ld	hl,_s_lin0
3771  1354  7E          	ld	a, (hl)
3772  1355  C6 F0       	add	a,0xf0
3773  1357  4F          	ld	c, a
3774  1358  7E          	ld	a, (hl)
3775  1359  C6 10       	add	a,0x10
3776  135B  DD 77 F3    	ld	(ix-13),a
3777  135E  DD 35 F4    	dec	(ix-12)
3778  1361  DD 7E F4    	ld	a,(ix-12)
3779  1364  3C          	inc	a
3780  1365  DD 77 F2    	ld	(ix-14),a
3781  1368  18 14       	jr	l_spr_play_bullets_00153
3782  136A              l_spr_play_bullets_00152:
3783  136A  21 00 00    	ld	hl,_s_lin0
3784  136D  7E          	ld	a, (hl)
3785  136E  C6 F8       	add	a,0xf8
3786  1370  4F          	ld	c, a
3787  1371  7E          	ld	a, (hl)
3788  1372  C6 08       	add	a,0x08
3789  1374  DD 77 F3    	ld	(ix-13),a
3790  1377  DD 7E F4    	ld	a,(ix-12)
3791  137A  3C          	inc	a
3792  137B  DD 77 F2    	ld	(ix-14),a
3793  137E              l_spr_play_bullets_00153:
3794  137E  7B          	ld	a, e
3795  137F  B7          	or	a, a
3796  1380  CA 68 15    	jp	Z, l_spr_play_bullets_00183
3797  1383  21 00 00    	ld	hl,_tmp0
3798  1386  36 00       	ld	(hl),0x00
3799  1388              l_spr_play_bullets_00193:
3800  1388  2A 00 00    	ld	hl,(_tmp0)
3801  138B  26 00       	ld	h,0x00
3802  138D  11 00 00    	ld	de,_class
3803  1390  19          	add	hl,de
3804  1391  7E          	ld	a,(hl)
3805  1392  B7          	or	a,a
3806  1393  CA 33 14    	jp	Z,l_spr_play_bullets_00194
3807  1396  2A 00 00    	ld	hl,(_tmp0)
3808  1399  26 00       	ld	h,0x00
3809  139B  11 00 00    	ld	de,_lin
3810  139E  19          	add	hl,de
3811  139F  7E          	ld	a,(hl)
3812  13A0  47          	ld	b,a
3813  13A1  91          	sub	a,c
3814  13A2  DA 33 14    	jp	C,l_spr_play_bullets_00194
3815  13A5  21 00 00    	ld	hl,_tmp0
3816  13A8  DD 7E F3    	ld	a,(ix-13)
3817  13AB  90          	sub	a, b
3818  13AC  DA 33 14    	jp	C, l_spr_play_bullets_00194
3819  13AF  5E          	ld	e,(hl)
3820  13B0  16 00       	ld	d,0x00
3821  13B2  21 00 00    	ld	hl,_col
3822  13B5  19          	add	hl,de
3823  13B6  7E          	ld	a,(hl)
3824  13B7  5F          	ld	e,a
3825  13B8  DD 96 F4    	sub	a,(ix-12)
3826  13BB  38 76       	jr	C,l_spr_play_bullets_00194
3827  13BD  DD 7E F2    	ld	a,(ix-14)
3828  13C0  93          	sub	a, e
3829  13C1  38 70       	jr	C,l_spr_play_bullets_00194
3830  13C3  21 00 00    	ld	hl,_s_lin0
3831  13C6  70          	ld	(hl), b
3832  13C7  21 00 00    	ld	hl,_s_col0
3833  13CA  73          	ld	(hl), e
3834  13CB  C5          	push	bc
3835  13CC  CD 00 00    	call	_rand
3836  13CF  11 06 00    	ld	de,0x0006
3837  13D2  D5          	push	de
3838  13D3  E5          	push	hl
3839  13D4  CD 00 00    	call	__modsint_callee
3840  13D7  CD 00 00    	call	_player_score_add
3841  13DA  C1          	pop	bc
3842  13DB  2A 00 00    	ld	hl,(_tmp0)
3843  13DE  26 00       	ld	h,0x00
3844  13E0  29          	add	hl,hl
3845  13E1  11 00 00    	ld	de,_game_respawn_time
3846  13E4  19          	add	hl, de
3847  13E5  DD 75 F8    	ld	(ix-8),l
3848  13E8  DD 74 F9    	ld	(ix-7),h
3849  13EB  ED 5B 00 00 	ld	de,(_curr_time)
3850  13EF  73          	ld	(hl), e
3851  13F0  23          	inc	hl
3852  13F1  72          	ld	(hl), d
3853  13F2  2A 00 00    	ld	hl,(_tmp0)
3854  13F5  C5          	push	bc
3855  13F6  CD 09 09    	call	_spr_destroy
3856  13F9  C1          	pop	bc
3857  13FA  2A 00 00    	ld	hl,(_tmp0)
3858  13FD  26 00       	ld	h,0x00
3859  13FF  11 00 00    	ld	de,_bullet_col
3860  1402  19          	add	hl,de
3861  1403  7E          	ld	a,(hl)
3862  1404  47          	ld	b,a
3863  1405  3C          	inc	a
3864  1406  28 17       	jr	Z,l_spr_play_bullets_00155
3865  1408  3A 00 00    	ld	a,(_tmp0)
3866  140B  5F          	ld	e,a
3867  140C  16 00       	ld	d,0x00
3868  140E  21 00 00    	ld	hl,_bullet_lin
3869  1411  19          	add	hl,de
3870  1412  7E          	ld	a,(hl)
3871  1413  32 00 00    	ld	(_s_lin0),a
3872  1416  21 00 00    	ld	hl,_s_col0
3873  1419  70          	ld	(hl), b
3874  141A  C5          	push	bc
3875  141B  CD 71 0C    	call	_spr_back_repaint
3876  141E  C1          	pop	bc
3877  141F              l_spr_play_bullets_00155:
3878  141F  DD 6E F6    	ld	l,(ix-10)
3879  1422  DD 66 F7    	ld	h,(ix-9)
3880  1425  3A 00 00    	ld	a,(_s_col0)
3881  1428  77          	ld	(hl),a
3882  1429  C5          	push	bc
3883  142A  DD 6E F5    	ld	l,(ix-11)
3884  142D  CD EF 15    	call	_spr_explode_bullet
3885  1430  C1          	pop	bc
3886  1431  18 0B       	jr	l_spr_play_bullets_00162
3887  1433              l_spr_play_bullets_00194:
3888  1433  21 00 00    	ld	hl,_tmp0
3889  1436  7E          	ld	a,(hl)
3890  1437  3C          	inc	a
3891  1438  77          	ld	(hl),a
3892  1439  D6 07       	sub	a,0x07
3893  143B  DA 88 13    	jp	C, l_spr_play_bullets_00193
3894  143E              l_spr_play_bullets_00162:
3895  143E  3A 00 00    	ld	a,(_game_boss)
3896  1441  B7          	or	a, a
3897  1442  CA A0 15    	jp	Z, l_spr_play_bullets_00186
3898  1445  21 00 00    	ld	hl,_boss_lin
3899  1448  7E          	ld	a, (hl)
3900  1449  91          	sub	a, c
3901  144A  38 06       	jr	C,l_spr_play_bullets_00172
3902  144C  DD 7E F3    	ld	a,(ix-13)
3903  144F  96          	sub	a, (hl)
3904  1450  30 28       	jr	NC,l_spr_play_bullets_00173
3905  1452              l_spr_play_bullets_00172:
3906  1452  3A 00 00    	ld	a,(_boss_lin)
3907  1455  5F          	ld	e,a
3908  1456  16 00       	ld	d,0x00
3909  1458  21 10 00    	ld	hl,0x0010
3910  145B  19          	add	hl, de
3911  145C  06 00       	ld	b,0x00
3912  145E  7D          	ld	a, l
3913  145F  91          	sub	a, c
3914  1460  7C          	ld	a, h
3915  1461  98          	sbc	a, b
3916  1462  E2 67 14    	jp	PO, l_spr_play_bullets_00431
3917  1465  EE 80       	xor	a,0x80
3918  1467              l_spr_play_bullets_00431:
3919  1467  FA A0 15    	jp	M, l_spr_play_bullets_00186
3920  146A  DD 7E F3    	ld	a,(ix-13)
3921  146D  06 00       	ld	b,0x00
3922  146F  95          	sub	a, l
3923  1470  78          	ld	a, b
3924  1471  9C          	sbc	a, h
3925  1472  E2 77 14    	jp	PO, l_spr_play_bullets_00432
3926  1475  EE 80       	xor	a,0x80
3927  1477              l_spr_play_bullets_00432:
3928  1477  FA A0 15    	jp	M, l_spr_play_bullets_00186
3929  147A              l_spr_play_bullets_00173:
3930  147A  21 00 00    	ld	hl,_boss_col
3931  147D  7E          	ld	a, (hl)
3932  147E  DD 96 F4    	sub	a,(ix-12)
3933  1481  DA A0 15    	jp	C, l_spr_play_bullets_00186
3934  1484  DD 7E F2    	ld	a,(ix-14)
3935  1487  96          	sub	a, (hl)
3936  1488  DA A0 15    	jp	C, l_spr_play_bullets_00186
3937  148B  DD 6E F5    	ld	l,(ix-11)
3938  148E  CD EF 15    	call	_spr_explode_bullet
3939  1491  21 00 00    	ld	hl,_game_boss_hit
3940  1494  35          	dec	(hl)
3941  1495  CD 00 00    	call	_game_update_stats
3942  1498  3A 00 00    	ld	a,(_game_boss_hit)
3943  149B  B7          	or	a, a
3944  149C  C2 A0 15    	jp	NZ, l_spr_play_bullets_00186
3945  149F  21 00 00    	ld	hl,_game_boss
3946  14A2  36 00       	ld	(hl),0x00
3947  14A4  21 00 00    	ld	hl,_game_boss_alive
3948  14A7  36 00       	ld	(hl),0x00
3949  14A9  3A 00 00    	ld	a,(_boss_col)
3950  14AC  21 00 00    	ld	hl,0x0000
3951  14AF  E5          	push	hl
3952  14B0  21 87 03    	ld	hl,0x0387
3953  14B3  E5          	push	hl
3954  14B4  F5          	push	af
3955  14B5  33          	inc	sp
3956  14B6  3A 00 00    	ld	a,(_boss_lin)
3957  14B9  F5          	push	af
3958  14BA  33          	inc	sp
3959  14BB  CD 3D 0E    	call	_spr_add_anim
3960  14BE  F1          	pop	af
3961  14BF  F1          	pop	af
3962  14C0  F1          	pop	af
3963  14C1  21 00 00    	ld	hl,_boss_col
3964  14C4  46          	ld	b, (hl)
3965  14C5  04          	inc	b
3966  14C6  04          	inc	b
3967  14C7  21 00 00    	ld	hl,0x0000
3968  14CA  E5          	push	hl
3969  14CB  21 87 03    	ld	hl,0x0387
3970  14CE  E5          	push	hl
3971  14CF  C5          	push	bc
3972  14D0  33          	inc	sp
3973  14D1  3A 00 00    	ld	a,(_boss_lin)
3974  14D4  F5          	push	af
3975  14D5  33          	inc	sp
3976  14D6  CD 3D 0E    	call	_spr_add_anim
3977  14D9  F1          	pop	af
3978  14DA  F1          	pop	af
3979  14DB  F1          	pop	af
3980  14DC  3A 00 00    	ld	a,(_boss_lin)
3981  14DF  C6 10       	add	a,0x10
3982  14E1  47          	ld	b, a
3983  14E2  3A 00 00    	ld	a,(_boss_col)
3984  14E5  21 00 00    	ld	hl,0x0000
3985  14E8  E5          	push	hl
3986  14E9  21 87 03    	ld	hl,0x0387
3987  14EC  E5          	push	hl
3988  14ED  48          	ld	c,b
3989  14EE  47          	ld	b,a
3990  14EF  C5          	push	bc
3991  14F0  CD 3D 0E    	call	_spr_add_anim
3992  14F3  F1          	pop	af
3993  14F4  F1          	pop	af
3994  14F5  F1          	pop	af
3995  14F6  21 00 00    	ld	hl,_boss_col
3996  14F9  46          	ld	b, (hl)
3997  14FA  04          	inc	b
3998  14FB  04          	inc	b
3999  14FC  3A 00 00    	ld	a,(_boss_lin)
4000  14FF  C6 10       	add	a,0x10
4001  1501  57          	ld	d, a
4002  1502  21 00 00    	ld	hl,0x0000
4003  1505  E5          	push	hl
4004  1506  21 87 03    	ld	hl,0x0387
4005  1509  E5          	push	hl
4006  150A  4A          	ld	c, d
4007  150B  C5          	push	bc
4008  150C  CD 3D 0E    	call	_spr_add_anim
4009  150F  F1          	pop	af
4010  1510  F1          	pop	af
4011  1511  F1          	pop	af
4012  1512  21 00 00    	ld	hl,_tmp0
4013  1515  36 00       	ld	(hl),0x00
4014  1517              l_spr_play_bullets_00195:
4015  1517  2A 00 00    	ld	hl,(_tmp0)
4016  151A  26 00       	ld	h,0x00
4017  151C  01 00 00    	ld	bc,_bullet_col
4018  151F  09          	add	hl,bc
4019  1520  7E          	ld	a,(hl)
4020  1521  4F          	ld	c,a
4021  1522  3C          	inc	a
4022  1523  28 15       	jr	Z,l_spr_play_bullets_00164
4023  1525  3A 00 00    	ld	a,(_tmp0)
4024  1528  5F          	ld	e,a
4025  1529  16 00       	ld	d,0x00
4026  152B  21 00 00    	ld	hl,_bullet_lin
4027  152E  19          	add	hl,de
4028  152F  7E          	ld	a,(hl)
4029  1530  32 00 00    	ld	(_s_lin0),a
4030  1533  21 00 00    	ld	hl,_s_col0
4031  1536  71          	ld	(hl), c
4032  1537  CD 71 0C    	call	_spr_back_repaint
4033  153A              l_spr_play_bullets_00164:
4034  153A  2A 00 00    	ld	hl,(_tmp0)
4035  153D  26 00       	ld	h,0x00
4036  153F  01 00 00    	ld	bc,_bullet_col
4037  1542  09          	add	hl,bc
4038  1543  36 FF       	ld	(hl),0xff
4039  1545  2A 00 00    	ld	hl,(_tmp0)
4040  1548  CD 09 09    	call	_spr_destroy
4041  154B  2A 00 00    	ld	hl,(_tmp0)
4042  154E  26 00       	ld	h,0x00
4043  1550  29          	add	hl, hl
4044  1551  11 00 00    	ld	de,_game_respawn_time
4045  1554  19          	add	hl, de
4046  1555  AF          	xor	a, a
4047  1556  77          	ld	(hl), a
4048  1557  23          	inc	hl
4049  1558  77          	ld	(hl), a
4050  1559  21 00 00    	ld	hl,_tmp0
4051  155C  7E          	ld	a,(hl)
4052  155D  3C          	inc	a
4053  155E  77          	ld	(hl),a
4054  155F  D6 07       	sub	a,0x07
4055  1561  38 B4       	jr	C,l_spr_play_bullets_00195
4056  1563  CD 00 00    	call	_game_boss_clear
4057  1566  18 38       	jr	l_spr_play_bullets_00186
4058  1568              l_spr_play_bullets_00183:
4059  1568  3A 07 00    	ld	a,(_lin + 7)
4060  156B  47          	ld	b,a
4061  156C  91          	sub	a, c
4062  156D  38 31       	jr	C,l_spr_play_bullets_00186
4063  156F  DD 7E F3    	ld	a,(ix-13)
4064  1572  90          	sub	a, b
4065  1573  38 2B       	jr	C,l_spr_play_bullets_00186
4066  1575  3A 07 00    	ld	a,(_col + 7)
4067  1578  4F          	ld	c,a
4068  1579  DD 96 F4    	sub	a,(ix-12)
4069  157C  38 22       	jr	C,l_spr_play_bullets_00186
4070  157E  DD 7E F2    	ld	a,(ix-14)
4071  1581  91          	sub	a, c
4072  1582  38 1C       	jr	C,l_spr_play_bullets_00186
4073  1584  2E 03       	ld	l,0x03
4074  1586  CD 00 00    	call	_zx_border_fastcall
4075  1589  2E 0A       	ld	l,0x0a
4076  158B  CD 00 00    	call	_player_hit
4077  158E  DD 6E FD    	ld	l,(ix-3)
4078  1591  DD 66 FE    	ld	h,(ix-2)
4079  1594  3A 00 00    	ld	a,(_s_col0)
4080  1597  77          	ld	(hl),a
4081  1598  DD 6E FF    	ld	l,(ix-1)
4082  159B  CD EF 15    	call	_spr_explode_bullet
4083  159E  18 4A       	jr	l_spr_play_bullets_00198
4084  15A0              l_spr_play_bullets_00186:
4085  15A0  DD 6E F6    	ld	l,(ix-10)
4086  15A3  DD 66 F7    	ld	h,(ix-9)
4087  15A6  4E          	ld	c, (hl)
4088  15A7  0C          	inc	c
4089  15A8  28 32       	jr	Z,l_spr_play_bullets_00191
4090  15AA  DD 7E F4    	ld	a,(ix-12)
4091  15AD  D6 20       	sub	a,0x20
4092  15AF  30 2B       	jr	NC,l_spr_play_bullets_00191
4093  15B1  F3          	di
4094  15B2  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
4095  15B4  DD 86 F5    	add	a,(ix-11)
4096  15B7  6F          	ld	l, a
4097  15B8  3E 00       	ld	a, +((_bullet_tile) / 256)
4098  15BA  CE 00       	adc	a,0x00
4099  15BC  67          	ld	h, a
4100  15BD  4E          	ld	c, (hl)
4101  15BE  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4102  15C0  DD 86 F5    	add	a,(ix-11)
4103  15C3  6F          	ld	l, a
4104  15C4  3E 00       	ld	a, +((_bullet_colint) / 256)
4105  15C6  CE 00       	adc	a,0x00
4106  15C8  67          	ld	h, a
4107  15C9  46          	ld	b, (hl)
4108  15CA  79          	ld	a, c
4109  15CB  80          	add	a, b
4110  15CC  47          	ld	b, a
4111  15CD  DD 7E F4    	ld	a,(ix-12)
4112  15D0  F5          	push	af
4113  15D1  33          	inc	sp
4114  15D2  3A 00 00    	ld	a,(_s_lin0)
4115  15D5  48          	ld	c,b
4116  15D6  47          	ld	b,a
4117  15D7  C5          	push	bc
4118  15D8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4119  15DB  FB          	ei
4120  15DC              l_spr_play_bullets_00191:
4121  15DC  DD 34 F5    	inc	(ix-11)
4122  15DF  DD 7E F5    	ld	a,(ix-11)
4123  15E2  DD 77 FF    	ld	(ix-1),a
4124  15E5  D6 08       	sub	a,0x08
4125  15E7  DA 4D 10    	jp	C, l_spr_play_bullets_00197
4126  15EA              l_spr_play_bullets_00198:
4127  15EA  DD F9       	ld	sp, ix
4128  15EC  DD E1       	pop	ix
4129  15EE  C9          	ret
4130  15EF              	SECTION code_compiler
4131  15EF              ;	---------------------------------
4132  15EF              ; Function spr_explode_bullet
4133  15EF              ; ---------------------------------
4134  15EF              _spr_explode_bullet:
4135  15EF  5D          	ld	e, l
4136  15F0  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4137  15F2  83          	add	a, e
4138  15F3  4F          	ld	c, a
4139  15F4  3E 00       	ld	a, +((_bullet_col) / 256)
4140  15F6  CE 00       	adc	a,0x00
4141  15F8  47          	ld	b, a
4142  15F9  0A          	ld	a, (bc)
4143  15FA  57          	ld	d, a
4144  15FB  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4145  15FD  83          	add	a, e
4146  15FE  6F          	ld	l, a
4147  15FF  3E 00       	ld	a, +((_bullet_lin) / 256)
4148  1601  CE 00       	adc	a,0x00
4149  1603  67          	ld	h, a
4150  1604  5E          	ld	e, (hl)
4151  1605  C5          	push	bc
4152  1606  21 00 00    	ld	hl,0x0000
4153  1609  E5          	push	hl
4154  160A  21 87 03    	ld	hl,0x0387
4155  160D  E5          	push	hl
4156  160E  D5          	push	de
4157  160F  CD 3D 0E    	call	_spr_add_anim
4158  1612  F1          	pop	af
4159  1613  F1          	pop	af
4160  1614  F1          	pop	af
4161  1615  C1          	pop	bc
4162  1616  21 00 00    	ld	hl,_bullet_count
4163  1619  35          	dec	(hl)
4164  161A  3E FF       	ld	a,0xff
4165  161C  02          	ld	(bc), a
4166  161D  C9          	ret
4167  161E              	SECTION code_compiler
4168  161E              ;	---------------------------------
4169  161E              ; Function spr_turn_horizontal
4170  161E              ; ---------------------------------
4171  161E              _spr_turn_horizontal:
4172  161E  21 00 00    	ld	hl,_s_state
4173  1621  CB 56       	bit	2, (hl)
4174  1623  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4175  1625  21 00 00    	ld	hl,_s_state
4176  1628  7E          	ld	a,(hl)
4177  1629  F6 08       	or	a,0x08
4178  162B  E6 FB       	and	a,0xfb
4179  162D  77          	ld	(hl),a
4180  162E  18 09       	jr	l_spr_turn_horizontal_00103
4181  1630              l_spr_turn_horizontal_00102:
4182  1630  21 00 00    	ld	hl,_s_state
4183  1633  7E          	ld	a,(hl)
4184  1634  E6 F7       	and	a,0xf7
4185  1636  F6 04       	or	a,0x04
4186  1638  77          	ld	(hl),a
4187  1639              l_spr_turn_horizontal_00103:
4188  1639  2A 00 00    	ld	hl,(_sprite)
4189  163C  26 00       	ld	h,0x00
4190  163E  01 00 00    	ld	bc,_state
4191  1641  09          	add	hl,bc
4192  1642  3A 00 00    	ld	a,(_s_state)
4193  1645  77          	ld	(hl),a
4194  1646  2A 00 00    	ld	hl,(_sprite)
4195  1649  26 00       	ld	h,0x00
4196  164B  01 00 00    	ld	bc,_tile
4197  164E  09          	add	hl,bc
4198  164F  E5          	push	hl
4199  1650  2A 00 00    	ld	hl,(_sprite)
4200  1653  CD 72 09    	call	_spr_tile
4201  1656  C1          	pop	bc
4202  1657  7D          	ld	a,l
4203  1658  02          	ld	(bc), a
4204  1659  C9          	ret
4205  165A              	SECTION code_compiler
4206  165A              ;	---------------------------------
4207  165A              ; Function spr_btile_paint_back
4208  165A              ; ---------------------------------
4209  165A              _spr_btile_paint_back:
4210  165A  21 20 00    	ld	hl,0x0020
4211  165D  22 00 00    	ld	(_tmp_ui),hl
4212  1660  21 00 00    	ld	hl,_map_paper
4213  1663  7E          	ld	a, (hl)
4214  1664  0F          	rrca
4215  1665  0F          	rrca
4216  1666  0F          	rrca
4217  1667  E6 1F       	and	a,0x1f
4218  1669  B6          	or	a, (hl)
4219  166A  F6 40       	or	a,0x40
4220  166C  32 00 00    	ld	(_map_paper_clr),a
4221  166F              l_spr_btile_paint_back_00106:
4222  166F  21 00 00    	ld	hl,_tmp_ui
4223  1672  7E          	ld	a, (hl)
4224  1673  D6 A0       	sub	a,0xa0
4225  1675  23          	inc	hl
4226  1676  7E          	ld	a, (hl)
4227  1677  DE 28       	sbc	a,0x28
4228  1679  30 4C       	jr	NC,l_spr_btile_paint_back_00108
4229  167B  21 00 00    	ld	hl,_tmp0
4230  167E  36 00       	ld	(hl),0x00
4231  1680              l_spr_btile_paint_back_00103:
4232  1680  3A 00 00    	ld	a,(_tmp0)
4233  1683  D6 10       	sub	a,0x10
4234  1685  30 34       	jr	NC,l_spr_btile_paint_back_00105
4235  1687  01 00 00    	ld	bc,_btiles
4236  168A  2A 00 00    	ld	hl,(_tmp_ui)
4237  168D  09          	add	hl,bc
4238  168E  7D          	ld	a,l
4239  168F  44          	ld	b,h
4240  1690  21 00 00    	ld	hl,_tmp0
4241  1693  86          	add	a, (hl)
4242  1694  4F          	ld	c, a
4243  1695  78          	ld	a, b
4244  1696  CE 00       	adc	a,0x00
4245  1698  47          	ld	b, a
4246  1699  0A          	ld	a, (bc)
4247  169A  32 00 00    	ld	(_tmp),a
4248  169D  E6 38       	and	a,0x38
4249  169F  5F          	ld	e, a
4250  16A0  3A 00 00    	ld	a,(_map_paper_last)
4251  16A3  93          	sub	a, e
4252  16A4  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4253  16A6  21 00 00    	ld	hl,_tmp
4254  16A9  7E          	ld	a, (hl)
4255  16AA  E6 C7       	and	a,0xc7
4256  16AC  77          	ld	(hl),a
4257  16AD  21 00 00    	ld	hl,_map_paper
4258  16B0  B6          	or	a, (hl)
4259  16B1  32 00 00    	ld	(_tmp),a
4260  16B4  02          	ld	(bc), a
4261  16B5              l_spr_btile_paint_back_00102:
4262  16B5  21 00 00    	ld	hl,_tmp0
4263  16B8  34          	inc	(hl)
4264  16B9  18 C5       	jr	l_spr_btile_paint_back_00103
4265  16BB              l_spr_btile_paint_back_00105:
4266  16BB  2A 00 00    	ld	hl,(_tmp_ui)
4267  16BE  11 30 00    	ld	de,0x0030
4268  16C1  19          	add	hl,de
4269  16C2  22 00 00    	ld	(_tmp_ui),hl
4270  16C5  18 A8       	jr	l_spr_btile_paint_back_00106
4271  16C7              l_spr_btile_paint_back_00108:
4272  16C7  C3 00 00    	jp  _game_attribs
4273  16CA              	SECTION IGNORE
4274  0000              
