1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_init_anim
189   0000              	GLOBAL _spr_calc_index
190   0000              	GLOBAL _spr_check_map
191   0000              	GLOBAL _spr_check_map_fall
192   0000              	GLOBAL _spr_chktime
193   0000              	GLOBAL _spr_move_jump
194   0000              	GLOBAL _spr_move_up
195   0000              	GLOBAL _spr_move_down
196   0000              	GLOBAL _spr_move_horizontal
197   0000              	GLOBAL _spr_move_right
198   0000              	GLOBAL _spr_move_left
199   0000              	GLOBAL _spr_page_right
200   0000              	GLOBAL _spr_page_left
201   0000              	GLOBAL _spr_page_map
202   0000              	GLOBAL _spr_redraw
203   0000              	GLOBAL _spr_killed
204   0000              	GLOBAL _spr_anim_kill
205   0000              	GLOBAL _spr_destroy
206   0000              	GLOBAL _spr_set_fall
207   0000              	GLOBAL _spr_tile
208   0000              	GLOBAL _spr_tile_dir
209   0000              	GLOBAL _spr_draw_background
210   0000              	GLOBAL _spr_draw_clear
211   0000              	GLOBAL _spr_brick_anim
212   0000              	GLOBAL _spr_draw_index
213   0000              	GLOBAL _spr_draw_row
214   0000              	GLOBAL _spr_calc_hor
215   0000              	GLOBAL _spr_collision_check
216   0000              	GLOBAL _spr_kill_all
217   0000              	GLOBAL _spr_back_clr
218   0000              	GLOBAL _spr_tile_paint
219   0000              	GLOBAL _spr_add_anim
220   0000              	GLOBAL _spr_play_anim
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ulltoa_callee
225   0000              	GLOBAL _ulltoa
226   0000              	GLOBAL _strtoull_callee
227   0000              	GLOBAL _strtoull
228   0000              	GLOBAL _strtoll_callee
229   0000              	GLOBAL _strtoll
230   0000              	GLOBAL _lltoa_callee
231   0000              	GLOBAL _lltoa
232   0000              	GLOBAL _llabs_callee
233   0000              	GLOBAL _llabs
234   0000              	GLOBAL __lldivu__callee
235   0000              	GLOBAL __lldivu_
236   0000              	GLOBAL __lldiv__callee
237   0000              	GLOBAL __lldiv_
238   0000              	GLOBAL _atoll_callee
239   0000              	GLOBAL _atoll
240   0000              	GLOBAL _realloc_unlocked_callee
241   0000              	GLOBAL _realloc_unlocked
242   0000              	GLOBAL _malloc_unlocked_fastcall
243   0000              	GLOBAL _malloc_unlocked
244   0000              	GLOBAL _free_unlocked_fastcall
245   0000              	GLOBAL _free_unlocked
246   0000              	GLOBAL _calloc_unlocked_callee
247   0000              	GLOBAL _calloc_unlocked
248   0000              	GLOBAL _aligned_alloc_unlocked_callee
249   0000              	GLOBAL _aligned_alloc_unlocked
250   0000              	GLOBAL _realloc_callee
251   0000              	GLOBAL _realloc
252   0000              	GLOBAL _malloc_fastcall
253   0000              	GLOBAL _malloc
254   0000              	GLOBAL _free_fastcall
255   0000              	GLOBAL _free
256   0000              	GLOBAL _calloc_callee
257   0000              	GLOBAL _calloc
258   0000              	GLOBAL _aligned_alloc_callee
259   0000              	GLOBAL _aligned_alloc
260   0000              	GLOBAL _utoa_callee
261   0000              	GLOBAL _utoa
262   0000              	GLOBAL _ultoa_callee
263   0000              	GLOBAL _ultoa
264   0000              	GLOBAL _system_fastcall
265   0000              	GLOBAL _system
266   0000              	GLOBAL _strtoul_callee
267   0000              	GLOBAL _strtoul
268   0000              	GLOBAL _strtol_callee
269   0000              	GLOBAL _strtol
270   0000              	GLOBAL _strtof_callee
271   0000              	GLOBAL _strtof
272   0000              	GLOBAL _strtod_callee
273   0000              	GLOBAL _strtod
274   0000              	GLOBAL _srand_fastcall
275   0000              	GLOBAL _srand
276   0000              	GLOBAL _rand
277   0000              	GLOBAL _quick_exit_fastcall
278   0000              	GLOBAL _quick_exit
279   0000              	GLOBAL _qsort_callee
280   0000              	GLOBAL _qsort
281   0000              	GLOBAL _ltoa_callee
282   0000              	GLOBAL _ltoa
283   0000              	GLOBAL _labs_fastcall
284   0000              	GLOBAL _labs
285   0000              	GLOBAL _itoa_callee
286   0000              	GLOBAL _itoa
287   0000              	GLOBAL _ftoh_callee
288   0000              	GLOBAL _ftoh
289   0000              	GLOBAL _ftog_callee
290   0000              	GLOBAL _ftog
291   0000              	GLOBAL _ftoe_callee
292   0000              	GLOBAL _ftoe
293   0000              	GLOBAL _ftoa_callee
294   0000              	GLOBAL _ftoa
295   0000              	GLOBAL _exit_fastcall
296   0000              	GLOBAL _exit
297   0000              	GLOBAL _dtoh_callee
298   0000              	GLOBAL _dtoh
299   0000              	GLOBAL _dtog_callee
300   0000              	GLOBAL _dtog
301   0000              	GLOBAL _dtoe_callee
302   0000              	GLOBAL _dtoe
303   0000              	GLOBAL _dtoa_callee
304   0000              	GLOBAL _dtoa
305   0000              	GLOBAL _bsearch_callee
306   0000              	GLOBAL _bsearch
307   0000              	GLOBAL _atol_fastcall
308   0000              	GLOBAL _atol
309   0000              	GLOBAL _atoi_fastcall
310   0000              	GLOBAL _atoi
311   0000              	GLOBAL _atof_fastcall
312   0000              	GLOBAL _atof
313   0000              	GLOBAL _atexit_fastcall
314   0000              	GLOBAL _atexit
315   0000              	GLOBAL _at_quick_exit_fastcall
316   0000              	GLOBAL _at_quick_exit
317   0000              	GLOBAL _abs_fastcall
318   0000              	GLOBAL _abs
319   0000              	GLOBAL _abort
320   0000              	GLOBAL __strtou__callee
321   0000              	GLOBAL __strtou_
322   0000              	GLOBAL __strtoi__callee
323   0000              	GLOBAL __strtoi_
324   0000              	GLOBAL __random_uniform_xor_8__fastcall
325   0000              	GLOBAL __random_uniform_xor_8_
326   0000              	GLOBAL __random_uniform_xor_32__fastcall
327   0000              	GLOBAL __random_uniform_xor_32_
328   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
329   0000              	GLOBAL __random_uniform_cmwc_8_
330   0000              	GLOBAL __shellsort__callee
331   0000              	GLOBAL __shellsort_
332   0000              	GLOBAL __quicksort__callee
333   0000              	GLOBAL __quicksort_
334   0000              	GLOBAL __insertion_sort__callee
335   0000              	GLOBAL __insertion_sort_
336   0000              	GLOBAL __ldivu__callee
337   0000              	GLOBAL __ldivu_
338   0000              	GLOBAL __ldiv__callee
339   0000              	GLOBAL __ldiv_
340   0000              	GLOBAL __divu__callee
341   0000              	GLOBAL __divu_
342   0000              	GLOBAL __div__callee
343   0000              	GLOBAL __div_
344   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawTW_raw
346   0000              	GLOBAL _NIRVANAP_drawTW_callee
347   0000              	GLOBAL _NIRVANAP_drawTW
348   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawW_raw
350   0000              	GLOBAL _NIRVANAP_drawW_callee
351   0000              	GLOBAL _NIRVANAP_drawW
352   0000              	GLOBAL _NIRVANAP_spriteT_callee
353   0000              	GLOBAL _NIRVANAP_spriteT
354   0000              	GLOBAL _NIRVANAP_fillC_callee
355   0000              	GLOBAL _NIRVANAP_fillC
356   0000              	GLOBAL _NIRVANAP_readC_callee
357   0000              	GLOBAL _NIRVANAP_readC
358   0000              	GLOBAL _NIRVANAP_paintC_callee
359   0000              	GLOBAL _NIRVANAP_paintC
360   0000              	GLOBAL _NIRVANAP_printC_callee
361   0000              	GLOBAL _NIRVANAP_printC
362   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
363   0000              	GLOBAL _NIRVANAP_fillT_raw
364   0000              	GLOBAL _NIRVANAP_fillT_callee
365   0000              	GLOBAL _NIRVANAP_fillT
366   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawT_raw
368   0000              	GLOBAL _NIRVANAP_drawT_callee
369   0000              	GLOBAL _NIRVANAP_drawT
370   0000              	GLOBAL _NIRVANAP_stop
371   0000              	GLOBAL _NIRVANAP_start
372   0000              	GLOBAL _debug3
373   0000              	GLOBAL _debug2
374   0000              	GLOBAL _debug
375   0000              	GLOBAL _zx_print_str
376   0000              	GLOBAL _zx_print_int
377   0000              	GLOBAL _zx_print_chr
378   0000              	GLOBAL _zx_print_bonus_time
379   0000              	GLOBAL _zx_isr
380   0000              	GLOBAL _z80_otdr_callee
381   0000              	GLOBAL _z80_otdr
382   0000              	GLOBAL _z80_otir_callee
383   0000              	GLOBAL _z80_otir
384   0000              	GLOBAL _z80_outp_callee
385   0000              	GLOBAL _z80_outp
386   0000              	GLOBAL _z80_indr_callee
387   0000              	GLOBAL _z80_indr
388   0000              	GLOBAL _z80_inir_callee
389   0000              	GLOBAL _z80_inir
390   0000              	GLOBAL _z80_inp_fastcall
391   0000              	GLOBAL _z80_inp
392   0000              	GLOBAL _z80_set_int_state_fastcall
393   0000              	GLOBAL _z80_set_int_state
394   0000              	GLOBAL _z80_get_int_state
395   0000              	GLOBAL _z80_delay_tstate_fastcall
396   0000              	GLOBAL _z80_delay_tstate
397   0000              	GLOBAL _z80_delay_ms_fastcall
398   0000              	GLOBAL _z80_delay_ms
399   0000              	GLOBAL _im2_remove_generic_callback_callee
400   0000              	GLOBAL _im2_remove_generic_callback
401   0000              	GLOBAL _im2_prepend_generic_callback_callee
402   0000              	GLOBAL _im2_prepend_generic_callback
403   0000              	GLOBAL _im2_append_generic_callback_callee
404   0000              	GLOBAL _im2_append_generic_callback
405   0000              	GLOBAL _im2_create_generic_isr_8080_callee
406   0000              	GLOBAL _im2_create_generic_isr_8080
407   0000              	GLOBAL _im2_create_generic_isr_callee
408   0000              	GLOBAL _im2_create_generic_isr
409   0000              	GLOBAL _im2_install_isr_callee
410   0000              	GLOBAL _im2_install_isr
411   0000              	GLOBAL _im2_init_fastcall
412   0000              	GLOBAL _im2_init
413   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_word_32
415   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_32
417   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
418   0000              	GLOBAL _intrinsic_swap_endian_16
419   0000              	GLOBAL _intrinsic_return_de
420   0000              	GLOBAL _intrinsic_return_bc
421   0000              	GLOBAL _intrinsic_exx
422   0000              	GLOBAL _intrinsic_ex_de_hl
423   0000              	GLOBAL _intrinsic_nop
424   0000              	GLOBAL _intrinsic_im_2
425   0000              	GLOBAL _intrinsic_im_1
426   0000              	GLOBAL _intrinsic_im_0
427   0000              	GLOBAL _intrinsic_retn
428   0000              	GLOBAL _intrinsic_reti
429   0000              	GLOBAL _intrinsic_halt
430   0000              	GLOBAL _intrinsic_ei
431   0000              	GLOBAL _intrinsic_di
432   0000              	GLOBAL _intrinsic_stub
433   0000              	GLOBAL _intrinsic_outi
434   0000              	GLOBAL _intrinsic_ldi
435   0000              	GLOBAL _zx_pattern_fill_callee
436   0000              	GLOBAL _zx_pattern_fill
437   0000              	GLOBAL _zx_saddrpup_fastcall
438   0000              	GLOBAL _zx_saddrpup
439   0000              	GLOBAL _zx_saddrpright_callee
440   0000              	GLOBAL _zx_saddrpright
441   0000              	GLOBAL _zx_saddrpleft_callee
442   0000              	GLOBAL _zx_saddrpleft
443   0000              	GLOBAL _zx_saddrpdown_fastcall
444   0000              	GLOBAL _zx_saddrpdown
445   0000              	GLOBAL _zx_saddrcup_fastcall
446   0000              	GLOBAL _zx_saddrcup
447   0000              	GLOBAL _zx_saddrcright_fastcall
448   0000              	GLOBAL _zx_saddrcright
449   0000              	GLOBAL _zx_saddrcleft_fastcall
450   0000              	GLOBAL _zx_saddrcleft
451   0000              	GLOBAL _zx_saddrcdown_fastcall
452   0000              	GLOBAL _zx_saddrcdown
453   0000              	GLOBAL _zx_saddr2py_fastcall
454   0000              	GLOBAL _zx_saddr2py
455   0000              	GLOBAL _zx_saddr2px_fastcall
456   0000              	GLOBAL _zx_saddr2px
457   0000              	GLOBAL _zx_saddr2cy_fastcall
458   0000              	GLOBAL _zx_saddr2cy
459   0000              	GLOBAL _zx_saddr2cx_fastcall
460   0000              	GLOBAL _zx_saddr2cx
461   0000              	GLOBAL _zx_saddr2aaddr_fastcall
462   0000              	GLOBAL _zx_saddr2aaddr
463   0000              	GLOBAL _zx_py2saddr_fastcall
464   0000              	GLOBAL _zx_py2saddr
465   0000              	GLOBAL _zx_py2aaddr_fastcall
466   0000              	GLOBAL _zx_py2aaddr
467   0000              	GLOBAL _zx_pxy2saddr_callee
468   0000              	GLOBAL _zx_pxy2saddr
469   0000              	GLOBAL _zx_pxy2aaddr_callee
470   0000              	GLOBAL _zx_pxy2aaddr
471   0000              	GLOBAL _zx_px2bitmask_fastcall
472   0000              	GLOBAL _zx_px2bitmask
473   0000              	GLOBAL _zx_cy2saddr_fastcall
474   0000              	GLOBAL _zx_cy2saddr
475   0000              	GLOBAL _zx_cy2aaddr_fastcall
476   0000              	GLOBAL _zx_cy2aaddr
477   0000              	GLOBAL _zx_cxy2saddr_callee
478   0000              	GLOBAL _zx_cxy2saddr
479   0000              	GLOBAL _zx_cxy2aaddr_callee
480   0000              	GLOBAL _zx_cxy2aaddr
481   0000              	GLOBAL _zx_bitmask2px_fastcall
482   0000              	GLOBAL _zx_bitmask2px
483   0000              	GLOBAL _zx_aaddrcup_fastcall
484   0000              	GLOBAL _zx_aaddrcup
485   0000              	GLOBAL _zx_aaddrcright_fastcall
486   0000              	GLOBAL _zx_aaddrcright
487   0000              	GLOBAL _zx_aaddrcleft_fastcall
488   0000              	GLOBAL _zx_aaddrcleft
489   0000              	GLOBAL _zx_aaddrcdown_fastcall
490   0000              	GLOBAL _zx_aaddrcdown
491   0000              	GLOBAL _zx_aaddr2saddr_fastcall
492   0000              	GLOBAL _zx_aaddr2saddr
493   0000              	GLOBAL _zx_aaddr2py_fastcall
494   0000              	GLOBAL _zx_aaddr2py
495   0000              	GLOBAL _zx_aaddr2px_fastcall
496   0000              	GLOBAL _zx_aaddr2px
497   0000              	GLOBAL _zx_aaddr2cy_fastcall
498   0000              	GLOBAL _zx_aaddr2cy
499   0000              	GLOBAL _zx_aaddr2cx_fastcall
500   0000              	GLOBAL _zx_aaddr2cx
501   0000              	GLOBAL _zx_visit_wc_pix_callee
502   0000              	GLOBAL _zx_visit_wc_pix
503   0000              	GLOBAL _zx_visit_wc_attr_callee
504   0000              	GLOBAL _zx_visit_wc_attr
505   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
506   0000              	GLOBAL _zx_scroll_wc_up_pix
507   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
508   0000              	GLOBAL _zx_scroll_wc_up_attr
509   0000              	GLOBAL _zx_scroll_wc_up_callee
510   0000              	GLOBAL _zx_scroll_wc_up
511   0000              	GLOBAL _zx_scroll_up_pix_callee
512   0000              	GLOBAL _zx_scroll_up_pix
513   0000              	GLOBAL _zx_scroll_up_attr_callee
514   0000              	GLOBAL _zx_scroll_up_attr
515   0000              	GLOBAL _zx_scroll_up_callee
516   0000              	GLOBAL _zx_scroll_up
517   0000              	GLOBAL _zx_cls_wc_pix_callee
518   0000              	GLOBAL _zx_cls_wc_pix
519   0000              	GLOBAL _zx_cls_wc_attr_callee
520   0000              	GLOBAL _zx_cls_wc_attr
521   0000              	GLOBAL _zx_cls_wc_callee
522   0000              	GLOBAL _zx_cls_wc
523   0000              	GLOBAL _zx_cls_pix_fastcall
524   0000              	GLOBAL _zx_cls_pix
525   0000              	GLOBAL _zx_cls_attr_fastcall
526   0000              	GLOBAL _zx_cls_attr
527   0000              	GLOBAL _zx_cls_fastcall
528   0000              	GLOBAL _zx_cls
529   0000              	GLOBAL _zx_border_fastcall
530   0000              	GLOBAL _zx_border
531   0000              	GLOBAL _sound_hit_brick
532   0000              	GLOBAL _sound_hit_enemy
533   0000              	GLOBAL _sound_kill
534   0000              	GLOBAL _sound_enter_enemy
535   0000              	GLOBAL _sound_coin
536   0000              	GLOBAL _sound_jump
537   0000              	GLOBAL _sound_slide
538   0000              	GLOBAL _player_pick_item
539   0000              	GLOBAL _player_check_floor
540   0000              	GLOBAL _player_hit_platform_clear
541   0000              	GLOBAL _player_lost_life
542   0000              	GLOBAL _player_score_add
543   0000              	GLOBAL _player_player_hit_pow
544   0000              	GLOBAL _player_hit_platform
545   0000              	GLOBAL _player_move_input
546   0000              	GLOBAL _player_turn
547   0000              	GLOBAL _player_move
548   0000              	GLOBAL _player_restart
549   0000              	GLOBAL _player_kill
550   0000              	GLOBAL _player_check_input
551   0000              	GLOBAL _player_collision
552   0000              	GLOBAL _player_init
553   0000              	GLOBAL _game_joystick_set_menu
554   0000              	GLOBAL _game_joystick_set
555   0000              	GLOBAL _game_joystick_change
556   0000              	GLOBAL _game_print_header
557   0000              	GLOBAL _game_end
558   0000              	GLOBAL _game_phase_print_score_back
559   0000              	GLOBAL _game_check_time
560   0000              	GLOBAL _game_rotate_attrib
561   0000              	GLOBAL _game_colour_message
562   0000              	GLOBAL _game_paint_attrib_lin_h
563   0000              	GLOBAL _game_paint_attrib_lin
564   0000              	GLOBAL _game_paint_attrib
565   0000              	GLOBAL _game_print_score
566   0000              	GLOBAL _game_unfreeze_all
567   0000              	GLOBAL _game_freeze_all
568   0000              	GLOBAL _game_freeze
569   0000              	GLOBAL _game_enemy_add_get_index
570   0000              	GLOBAL _game_check_maze_floor
571   0000              	GLOBAL _game_check_maze
572   0000              	GLOBAL _game_loop
573   0000              	GLOBAL _game_phase_init
574   0000              	GLOBAL _game_start_timer
575   0000              	GLOBAL _game_tick
576   0000              	GLOBAL _game_print_lives
577   0000              	GLOBAL _game_print_footer
578   0000              	GLOBAL _game_fill_row
579   0000              	GLOBAL _enemy_kill
580   0000              	GLOBAL _enemy_init
581   0000              	GLOBAL _enemy_walk
582   0000              	GLOBAL _enemy_standard
583   0000              	GLOBAL _enemy_turn
584   0000              	GLOBAL _enemy_hit
585   0000              	GLOBAL _enemy_coin1
586   0000              	GLOBAL _ay_fx_play
587   0000              	GLOBAL _ay_midi_play
588   0000              	GLOBAL _ay_is_playing
589   0000              	GLOBAL _ay_reset
590   0000              	GLOBAL _test_func
591   0000              	GLOBAL _in_mouse_kempston_wheel_delta
592   0000              	GLOBAL _in_mouse_kempston_wheel
593   0000              	GLOBAL _in_mouse_kempston_callee
594   0000              	GLOBAL _in_mouse_kempston
595   0000              	GLOBAL _in_mouse_kempston_setpos_callee
596   0000              	GLOBAL _in_mouse_kempston_setpos
597   0000              	GLOBAL _in_mouse_kempston_reset
598   0000              	GLOBAL _in_mouse_kempston_init
599   0000              	GLOBAL _in_mouse_amx_wheel_delta
600   0000              	GLOBAL _in_mouse_amx_wheel
601   0000              	GLOBAL _in_mouse_amx_callee
602   0000              	GLOBAL _in_mouse_amx
603   0000              	GLOBAL _in_mouse_amx_setpos_callee
604   0000              	GLOBAL _in_mouse_amx_setpos
605   0000              	GLOBAL _in_mouse_amx_reset
606   0000              	GLOBAL _in_mouse_amx_init_callee
607   0000              	GLOBAL _in_mouse_amx_init
608   0000              	GLOBAL _in_stick_sinclair2
609   0000              	GLOBAL _in_stick_sinclair1
610   0000              	GLOBAL _in_stick_kempston
611   0000              	GLOBAL _in_stick_fuller
612   0000              	GLOBAL _in_stick_cursor
613   0000              	GLOBAL _in_stick_keyboard_fastcall
614   0000              	GLOBAL _in_stick_keyboard
615   0000              	GLOBAL _in_wait_nokey
616   0000              	GLOBAL _in_wait_key
617   0000              	GLOBAL _in_test_key
618   0000              	GLOBAL _in_pause_fastcall
619   0000              	GLOBAL _in_pause
620   0000              	GLOBAL _in_key_scancode_fastcall
621   0000              	GLOBAL _in_key_scancode
622   0000              	GLOBAL _in_key_pressed_fastcall
623   0000              	GLOBAL _in_key_pressed
624   0000              	GLOBAL _in_inkey
625   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
626   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
627   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
628   0000              	GLOBAL _NIRVANAP_HOLE
629   0000              	GLOBAL _NIRVANAP_ISR_HOOK
630   0000              	GLOBAL _g_player_hit_right
631   0000              	GLOBAL _g_player_hit_left
632   0000              	GLOBAL _joynames
633   0000              	GLOBAL _initials
634   0000              	GLOBAL _anim_end
635   0000              	GLOBAL _anim_int
636   0000              	GLOBAL _anim_tile
637   0000              	GLOBAL _anim_col
638   0000              	GLOBAL _anim_lin
639   0000              	GLOBAL _phase_angry
640   0000              	GLOBAL _phase_curr
641   0000              	GLOBAL _phase_end
642   0000              	GLOBAL _phase_coins
643   0000              	GLOBAL _phase_pop
644   0000              	GLOBAL _phase_tot
645   0000              	GLOBAL _map_heigth
646   0000              	GLOBAL _map_width
647   0000              	GLOBAL _scr_curr
648   0000              	GLOBAL _scr_7
649   0000              	GLOBAL _scr_6
650   0000              	GLOBAL _scr_5
651   0000              	GLOBAL _scr_4
652   0000              	GLOBAL _scr_3
653   0000              	GLOBAL _scr_2
654   0000              	GLOBAL _scr_1
655   0000              	GLOBAL _scr_0
656   0000              	GLOBAL _scr_map
657   0000              	GLOBAL _sprite_speed_alt
658   0000              	GLOBAL _sprite_frames
659   0000              	GLOBAL _sprite_speed
660   0000              	GLOBAL _screen_ink
661   0000              	GLOBAL _screen_paper
662   0000              	GLOBAL _game_menu_sel
663   0000              	GLOBAL _game_type
664   0000              	GLOBAL _game_osd
665   0000              	GLOBAL _game_score_top
666   0000              	GLOBAL _player_lives
667   0000              	GLOBAL _game_over
668   0000              	GLOBAL _game_sound
669   0000              	GLOBAL _game_inmune
670   0000              	GLOBAL _game_god_mode
671   0000              	GLOBAL _game_start_phase
672   0000              	GLOBAL _game_two_player
673   0000              	GLOBAL _game_brick_tile
674   0000              	GLOBAL _sprite_curr_index
675   0000              	GLOBAL _spr_count
676   0000              	GLOBAL _osd_show_time
677   0000              	GLOBAL _osd_update_time
678   0000              	GLOBAL _frame_time
679   0000              	GLOBAL _entry_time
680   0000              	GLOBAL _curr_time
681   0000              	GLOBAL _s_state
682   0000              	GLOBAL _attrib_hl
683   0000              	GLOBAL _attrib
684   0000              	GLOBAL _zx_val_asm
685   0000              	GLOBAL _enemies
686   0000              	GLOBAL _tmp_ui
687   0000              	GLOBAL _tmp_sc
688   0000              	GLOBAL _tmp_uc
689   0000              	GLOBAL _tmp1
690   0000              	GLOBAL _tmp0
691   0000              	GLOBAL _tmp
692   0000              	GLOBAL _index1
693   0000              	GLOBAL _loop_count
694   0000              	GLOBAL _sprite_lin_inc_mul
695   0000              	GLOBAL _s_col1
696   0000              	GLOBAL _s_col0
697   0000              	GLOBAL _s_lin1
698   0000              	GLOBAL _s_lin0
699   0000              	GLOBAL _s_tile1
700   0000              	GLOBAL _s_tile0
701   0000              	GLOBAL _player_hit_count
702   0000              	GLOBAL _sprite
703   0000              	GLOBAL _game_gravity
704   0000              	GLOBAL _player_vel_y0
705   0000              	GLOBAL _player_vel_y
706   0000              	GLOBAL _player_vel_x
707   0000              	GLOBAL _player_joy
708   0000              	GLOBAL _player_score
709   0000              	GLOBAL _last_time
710   0000              	GLOBAL _player_slide
711   0000              	GLOBAL _spr_timer
712   0000              	GLOBAL _jump_lin
713   0000              	GLOBAL _player_hit_col
714   0000              	GLOBAL _player_hit_lin
715   0000              	GLOBAL _colint
716   0000              	GLOBAL _col
717   0000              	GLOBAL _lin
718   0000              	GLOBAL _tile
719   0000              	GLOBAL _state_a
720   0000              	GLOBAL _state
721   0000              	GLOBAL _class
722   0000              	GLOBAL _tbuffer
723   0000              	GLOBAL _dirs
724   0000              	GLOBAL _k1
725   0000              	GLOBAL _joyfunc1
726   0000              	GLOBAL _btiles
727   0000              	GLOBAL _spec128
728   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
729   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
730   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
731   0000              	GLOBAL _ay_effect_20
732   0000              	GLOBAL _ay_effect_19
733   0000              	GLOBAL _ay_effect_18
734   0000              	GLOBAL _ay_effect_17
735   0000              	GLOBAL _ay_effect_16
736   0000              	GLOBAL _ay_effect_15
737   0000              	GLOBAL _ay_effect_14
738   0000              	GLOBAL _ay_effect_13
739   0000              	GLOBAL _ay_effect_12
740   0000              	GLOBAL _ay_effect_11
741   0000              	GLOBAL _ay_effect_10
742   0000              	GLOBAL _ay_effect_09
743   0000              	GLOBAL _ay_effect_08
744   0000              	GLOBAL _ay_effect_07
745   0000              	GLOBAL _ay_effect_06
746   0000              	GLOBAL _ay_effect_05
747   0000              	GLOBAL _ay_effect_04
748   0000              	GLOBAL _ay_effect_03
749   0000              	GLOBAL _ay_effect_02
750   0000              	GLOBAL _ay_effect_01
751   0000              	GLOBAL _pb_midi_phase_1
752   0000              	GLOBAL _pb_midi_title
753   0000              	GLOBAL _control_method
754   0000              ;--------------------------------------------------------
755   0000              ; special function registers
756   0000              ;--------------------------------------------------------
757   0000              defc _IO_FE	=	0x00fe
758   0000              defc _IO_1FFD	=	0x1ffd
759   0000              defc _IO_7FFD	=	0x7ffd
760   0000              ;--------------------------------------------------------
761   0000              ; ram data
762   0000              ;--------------------------------------------------------
763   0000              	SECTION bss_compiler
764   0000              ;--------------------------------------------------------
765   0000              ; ram data
766   0000              ;--------------------------------------------------------
767   0000              
768   0000              IF 0
769   0000              
770   0000              ; .area _INITIALIZED removed by z88dk
771   0000              
772   0000              
773   0000              ENDIF
774   0000              
775   0000              ;--------------------------------------------------------
776   0000              ; absolute external ram data
777   0000              ;--------------------------------------------------------
778   0000              	SECTION IGNORE
779   0000              ;--------------------------------------------------------
780   0000              ; global & static initialisations
781   0000              ;--------------------------------------------------------
782   0000              	SECTION code_crt_init
783   0000              ;--------------------------------------------------------
784   0000              ; Home
785   0000              ;--------------------------------------------------------
786   0000              	SECTION IGNORE
787   0000              ;--------------------------------------------------------
788   0000              ; code
789   0000              ;--------------------------------------------------------
790   0000              	SECTION code_compiler
791   0000              ;	---------------------------------
792   0000              ; Function spr_calc_index
793   0000              ; ---------------------------------
794   0000              _spr_calc_index:
795   0000  CD 00 00    	call	___sdcc_enter_ix
796   0003  DD 4E 05    	ld	c,(ix+5)
797   0006  CB 39       	srl	c
798   0008  06 00       	ld	b,0x00
799   000A  DD 7E 04    	ld	a,(ix+4)
800   000D  07          	rlca
801   000E  07          	rlca
802   000F  07          	rlca
803   0010  07          	rlca
804   0011  E6 0F       	and	a,0x0f
805   0013  6F          	ld	l, a
806   0014  26 00       	ld	h,0x00
807   0016  29          	add	hl, hl
808   0017  29          	add	hl, hl
809   0018  29          	add	hl, hl
810   0019  29          	add	hl, hl
811   001A  09          	add	hl, bc
812   001B  DD E1       	pop	ix
813   001D  C9          	ret
814   001E              	SECTION code_compiler
815   001E              ;	---------------------------------
816   001E              ; Function spr_check_map
817   001E              ; ---------------------------------
818   001E              _spr_check_map:
819   001E  CD 00 00    	call	___sdcc_enter_ix
820   0021  DD CB 05 46 	bit	0,(ix+5)
821   0025  20 15       	jr	NZ,l_spr_check_map_00106
822   0027  DD 66 05    	ld	h,(ix+5)
823   002A  DD 6E 04    	ld	l,(ix+4)
824   002D  E5          	push	hl
825   002E  CD 00 00    	call	_spr_calc_index
826   0031  F1          	pop	af
827   0032  22 00 00    	ld	(_index1),hl
828   0035  CD 00 00    	call	_game_check_maze
829   0038  26 00       	ld	h,0x00
830   003A  18 4B       	jr	l_spr_check_map_00108
831   003C              l_spr_check_map_00106:
832   003C  DD 46 05    	ld	b,(ix+5)
833   003F  05          	dec	b
834   0040  DD 4E 04    	ld	c,(ix+4)
835   0043  C5          	push	bc
836   0044  CD 00 00    	call	_spr_calc_index
837   0047  F1          	pop	af
838   0048  22 00 00    	ld	(_index1),hl
839   004B  21 00 00    	ld	hl,_g_player_hit_left
840   004E  36 00       	ld	(hl),0x00
841   0050  21 00 00    	ld	hl,_g_player_hit_right
842   0053  36 00       	ld	(hl),0x00
843   0055  2A 00 00    	ld	hl,(_index1)
844   0058  CD 00 00    	call	_game_check_maze
845   005B  7D          	ld	a, l
846   005C  B7          	or	a, a
847   005D  28 05       	jr	Z,l_spr_check_map_00102
848   005F  21 00 00    	ld	hl,_g_player_hit_left
849   0062  36 01       	ld	(hl),0x01
850   0064              l_spr_check_map_00102:
851   0064  2A 00 00    	ld	hl,(_index1)
852   0067  23          	inc	hl
853   0068  CD 00 00    	call	_game_check_maze
854   006B  7D          	ld	a, l
855   006C  B7          	or	a, a
856   006D  28 05       	jr	Z,l_spr_check_map_00104
857   006F  21 00 00    	ld	hl,_g_player_hit_right
858   0072  36 01       	ld	(hl),0x01
859   0074              l_spr_check_map_00104:
860   0074  3A 00 00    	ld	a,(_g_player_hit_left)
861   0077  B7          	or	a, a
862   0078  20 09       	jr	NZ,l_spr_check_map_00111
863   007A  3A 00 00    	ld	a,(_g_player_hit_right)
864   007D  B7          	or	a,a
865   007E  20 03       	jr	NZ,l_spr_check_map_00111
866   0080  6F          	ld	l,a
867   0081  18 02       	jr	l_spr_check_map_00112
868   0083              l_spr_check_map_00111:
869   0083  2E 01       	ld	l,0x01
870   0085              l_spr_check_map_00112:
871   0085  26 00       	ld	h,0x00
872   0087              l_spr_check_map_00108:
873   0087  DD E1       	pop	ix
874   0089  C9          	ret
875   008A              	SECTION code_compiler
876   008A              ;	---------------------------------
877   008A              ; Function spr_check_map_fall
878   008A              ; ---------------------------------
879   008A              _spr_check_map_fall:
880   008A  CD 00 00    	call	___sdcc_enter_ix
881   008D  DD CB 05 46 	bit	0,(ix+5)
882   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
883   0093  DD 66 05    	ld	h,(ix+5)
884   0096  DD 6E 04    	ld	l,(ix+4)
885   0099  E5          	push	hl
886   009A  CD 00 00    	call	_spr_calc_index
887   009D  F1          	pop	af
888   009E  22 00 00    	ld	(_index1),hl
889   00A1  CD 00 00    	call	_game_check_maze_floor
890   00A4  26 00       	ld	h,0x00
891   00A6  18 4B       	jr	l_spr_check_map_fall_00108
892   00A8              l_spr_check_map_fall_00106:
893   00A8  DD 46 05    	ld	b,(ix+5)
894   00AB  05          	dec	b
895   00AC  DD 4E 04    	ld	c,(ix+4)
896   00AF  C5          	push	bc
897   00B0  CD 00 00    	call	_spr_calc_index
898   00B3  F1          	pop	af
899   00B4  22 00 00    	ld	(_index1),hl
900   00B7  21 00 00    	ld	hl,_g_player_hit_left
901   00BA  36 00       	ld	(hl),0x00
902   00BC  21 00 00    	ld	hl,_g_player_hit_right
903   00BF  36 00       	ld	(hl),0x00
904   00C1  2A 00 00    	ld	hl,(_index1)
905   00C4  CD 00 00    	call	_game_check_maze_floor
906   00C7  7D          	ld	a, l
907   00C8  B7          	or	a, a
908   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
909   00CB  21 00 00    	ld	hl,_g_player_hit_left
910   00CE  36 01       	ld	(hl),0x01
911   00D0              l_spr_check_map_fall_00102:
912   00D0  2A 00 00    	ld	hl,(_index1)
913   00D3  23          	inc	hl
914   00D4  CD 00 00    	call	_game_check_maze_floor
915   00D7  7D          	ld	a, l
916   00D8  B7          	or	a, a
917   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
918   00DB  21 00 00    	ld	hl,_g_player_hit_right
919   00DE  36 01       	ld	(hl),0x01
920   00E0              l_spr_check_map_fall_00104:
921   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
922   00E3  B7          	or	a, a
923   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
924   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
925   00E9  B7          	or	a,a
926   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
927   00EC  6F          	ld	l,a
928   00ED  18 02       	jr	l_spr_check_map_fall_00112
929   00EF              l_spr_check_map_fall_00111:
930   00EF  2E 01       	ld	l,0x01
931   00F1              l_spr_check_map_fall_00112:
932   00F1  26 00       	ld	h,0x00
933   00F3              l_spr_check_map_fall_00108:
934   00F3  DD E1       	pop	ix
935   00F5  C9          	ret
936   00F6              	SECTION code_compiler
937   00F6              ;	---------------------------------
938   00F6              ; Function spr_chktime
939   00F6              ; ---------------------------------
940   00F6              _spr_chktime:
941   00F6  CD 00 00    	call	___sdcc_enter_ix
942   00F9  F5          	push	af
943   00FA  DD 75 FE    	ld	(ix-2),l
944   00FD  DD 74 FF    	ld	(ix-1),h
945   0100  E1          	pop	hl
946   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
947   0104  5E          	ld	e,(hl)
948   0105  E5          	push	hl
949   0106  6B          	ld	l,e
950   0107  26 00       	ld	h,0x00
951   0109  09          	add	hl, bc
952   010A  7E          	ld	a, (hl)
953   010B  B7          	or	a, a
954   010C  20 13       	jr	NZ,l_spr_chktime_00102
955   010E  01 00 00    	ld	bc,_sprite_speed+0
956   0111  16 00       	ld	d,0x00
957   0113  21 00 00    	ld	hl,_class
958   0116  19          	add	hl, de
959   0117  6E          	ld	l, (hl)
960   0118  26 00       	ld	h,0x00
961   011A  09          	add	hl, bc
962   011B  7E          	ld	a, (hl)
963   011C  32 00 00    	ld	(_tmp),a
964   011F  18 03       	jr	l_spr_chktime_00103
965   0121              l_spr_chktime_00102:
966   0121  32 00 00    	ld	(_tmp),a
967   0124              l_spr_chktime_00103:
968   0124  3A 00 00    	ld	a,(_tmp)
969   0127  4F          	ld	c,a
970   0128  06 00       	ld	b,0x00
971   012A  60          	ld	h,b
972   012B  6B          	ld	l, e
973   012C  29          	add	hl, hl
974   012D  11 00 00    	ld	de,_last_time
975   0130  19          	add	hl, de
976   0131  5E          	ld	e, (hl)
977   0132  23          	inc	hl
978   0133  56          	ld	d, (hl)
979   0134  C5          	push	bc
980   0135  D5          	push	de
981   0136  CD 00 00    	call	_game_check_time
982   0139  F1          	pop	af
983   013A  F1          	pop	af
984   013B  7D          	ld	a, l
985   013C  B7          	or	a, a
986   013D  28 15       	jr	Z,l_spr_chktime_00105
987   013F  E1          	pop	hl
988   0140  E5          	push	hl
989   0141  6E          	ld	l, (hl)
990   0142  26 00       	ld	h,0x00
991   0144  29          	add	hl, hl
992   0145  01 00 00    	ld	bc,_last_time
993   0148  09          	add	hl,bc
994   0149  ED 5B 00 00 	ld	de,(_curr_time)
995   014D  73          	ld	(hl),e
996   014E  23          	inc	hl
997   014F  72          	ld	(hl),d
998   0150  2E 01       	ld	l,0x01
999   0152  18 02       	jr	l_spr_chktime_00106
1000  0154              l_spr_chktime_00105:
1001  0154  2E 00       	ld	l,0x00
1002  0156              l_spr_chktime_00106:
1003  0156  F1          	pop	af
1004  0157  DD E1       	pop	ix
1005  0159  C9          	ret
1006  015A              	SECTION code_compiler
1007  015A              ;	---------------------------------
1008  015A              ; Function spr_move_jump
1009  015A              ; ---------------------------------
1010  015A              _spr_move_jump:
1011  015A  3A 00 00    	ld	a,(_player_vel_y)
1012  015D  21 00 00    	ld	hl,_game_gravity
1013  0160  86          	add	a, (hl)
1014  0161  21 00 00    	ld	hl,_player_vel_y
1015  0164  77          	ld	(hl), a
1016  0165  3E 78       	ld	a,0x78
1017  0167  96          	sub	a, (hl)
1018  0168  E2 6D 01    	jp	PO, l_spr_move_jump_00141
1019  016B  EE 80       	xor	a,0x80
1020  016D              l_spr_move_jump_00141:
1021  016D  F2 75 01    	jp	P, l_spr_move_jump_00102
1022  0170  21 00 00    	ld	hl,_player_vel_y
1023  0173  36 78       	ld	(hl),0x78
1024  0175              l_spr_move_jump_00102:
1025  0175  21 00 00    	ld	hl,_player_vel_y
1026  0178  7E          	ld	a, (hl)
1027  0179  EE 80       	xor	a,0x80
1028  017B  D6 08       	sub	a,0x08
1029  017D  30 02       	jr	NC,l_spr_move_jump_00104
1030  017F  36 88       	ld	(hl),0x88
1031  0181              l_spr_move_jump_00104:
1032  0181  2A 00 00    	ld	hl,(_player_vel_y)
1033  0184  26 0A       	ld	h,0x0a
1034  0186  E5          	push	hl
1035  0187  CD 00 00    	call	__divuschar_callee
1036  018A  4D          	ld	c,l
1037  018B  CB 45       	bit	0,l
1038  018D  28 01       	jr	Z,l_spr_move_jump_00106
1039  018F  0C          	inc	c
1040  0190              l_spr_move_jump_00106:
1041  0190  2A 00 00    	ld	hl,(_sprite)
1042  0193  26 00       	ld	h,0x00
1043  0195  11 00 00    	ld	de,_lin
1044  0198  19          	add	hl,de
1045  0199  7E          	ld	a,(hl)
1046  019A  EB          	ex	de,hl
1047  019B  81          	add	a,c
1048  019C  12          	ld	(de), a
1049  019D  2A 00 00    	ld	hl,(_sprite)
1050  01A0  26 00       	ld	h,0x00
1051  01A2  11 00 00    	ld	de,_lin
1052  01A5  19          	add	hl,de
1053  01A6  46          	ld	b, (hl)
1054  01A7  CB 79       	bit	7,c
1055  01A9  28 37       	jr	Z,l_spr_move_jump_00113
1056  01AB  3A 00 00    	ld	a,(_sprite)
1057  01AE  5F          	ld	e,a
1058  01AF  16 00       	ld	d,0x00
1059  01B1  21 00 00    	ld	hl,_col
1060  01B4  19          	add	hl,de
1061  01B5  56          	ld	d, (hl)
1062  01B6  C5          	push	bc
1063  01B7  58          	ld	e,b
1064  01B8  D5          	push	de
1065  01B9  CD 1E 00    	call	_spr_check_map
1066  01BC  F1          	pop	af
1067  01BD  C1          	pop	bc
1068  01BE  7C          	ld	a,h
1069  01BF  B5          	or	a,l
1070  01C0  28 72       	jr	Z,l_spr_move_jump_00114
1071  01C2  2A 00 00    	ld	hl,(_sprite)
1072  01C5  26 00       	ld	h,0x00
1073  01C7  11 00 00    	ld	de,_lin
1074  01CA  19          	add	hl,de
1075  01CB  7E          	ld	a,(hl)
1076  01CC  EB          	ex	de,hl
1077  01CD  91          	sub	a, c
1078  01CE  12          	ld	(de), a
1079  01CF  CD 00 00    	call	_player_hit_platform
1080  01D2  21 00 00    	ld	hl,_player_vel_y
1081  01D5  36 00       	ld	(hl),0x00
1082  01D7  21 00 00    	ld	hl,_s_state
1083  01DA  7E          	ld	a,(hl)
1084  01DB  E6 FE       	and	a,0xfe
1085  01DD  F6 02       	or	a,0x02
1086  01DF  77          	ld	(hl),a
1087  01E0  18 52       	jr	l_spr_move_jump_00114
1088  01E2              l_spr_move_jump_00113:
1089  01E2  2A 00 00    	ld	hl,(_sprite)
1090  01E5  26 00       	ld	h,0x00
1091  01E7  11 00 00    	ld	de,_col
1092  01EA  19          	add	hl,de
1093  01EB  56          	ld	d, (hl)
1094  01EC  78          	ld	a, b
1095  01ED  C6 10       	add	a,0x10
1096  01EF  5F          	ld	e, a
1097  01F0  D5          	push	de
1098  01F1  CD 8A 00    	call	_spr_check_map_fall
1099  01F4  F1          	pop	af
1100  01F5  4D          	ld	c,l
1101  01F6  44          	ld	b,h
1102  01F7  2A 00 00    	ld	hl,(_sprite)
1103  01FA  26 00       	ld	h,0x00
1104  01FC  11 00 00    	ld	de,_lin
1105  01FF  19          	add	hl,de
1106  0200  5E          	ld	e, (hl)
1107  0201  78          	ld	a,b
1108  0202  EB          	ex	de,hl
1109  0203  B1          	or	a,c
1110  0204  20 05       	jr	NZ,l_spr_move_jump_00109
1111  0206  7D          	ld	a, l
1112  0207  D6 90       	sub	a,0x90
1113  0209  38 29       	jr	C,l_spr_move_jump_00114
1114  020B              l_spr_move_jump_00109:
1115  020B  7D          	ld	a, l
1116  020C  07          	rlca
1117  020D  07          	rlca
1118  020E  07          	rlca
1119  020F  07          	rlca
1120  0210  E6 0F       	and	a,0x0f
1121  0212  07          	rlca
1122  0213  07          	rlca
1123  0214  07          	rlca
1124  0215  07          	rlca
1125  0216  E6 F0       	and	a,0xf0
1126  0218  12          	ld	(de), a
1127  0219  21 00 00    	ld	hl,_player_vel_y
1128  021C  36 00       	ld	(hl),0x00
1129  021E  21 00 00    	ld	hl,_s_state
1130  0221  7E          	ld	a,(hl)
1131  0222  E6 FC       	and	a,+(0xfd&0xfe)
1132  0224  77          	ld	(hl),a
1133  0225  2A 00 00    	ld	hl,(_sprite)
1134  0228  26 00       	ld	h,0x00
1135  022A  01 00 00    	ld	bc,_colint
1136  022D  09          	add	hl,bc
1137  022E  AF          	xor	a,a
1138  022F  77          	ld	(hl),a
1139  0230  2E 01       	ld	l,0x01
1140  0232  18 05       	jr	l_spr_move_jump_00115
1141  0234              l_spr_move_jump_00114:
1142  0234  CD 42 03    	call	_spr_move_horizontal
1143  0237  2E 00       	ld	l,0x00
1144  0239              l_spr_move_jump_00115:
1145  0239  C9          	ret
1146  023A              	SECTION code_compiler
1147  023A              ;	---------------------------------
1148  023A              ; Function spr_move_up
1149  023A              ; ---------------------------------
1150  023A              _spr_move_up:
1151  023A  2A 00 00    	ld	hl,(_sprite)
1152  023D  26 00       	ld	h,0x00
1153  023F  01 00 00    	ld	bc,_lin
1154  0242  09          	add	hl,bc
1155  0243  4E          	ld	c,(hl)
1156  0244  21 00 00    	ld	hl,_sprite_lin_inc_mul
1157  0247  46          	ld	b, (hl)
1158  0248  1E 02       	ld	e,0x02
1159  024A  04          	inc	b
1160  024B  18 02       	jr	l_spr_move_up_00134
1161  024D              l_spr_move_up_00133:
1162  024D  CB 23       	sla	e
1163  024F              l_spr_move_up_00134:
1164  024F  10 FC       	djnz	l_spr_move_up_00133
1165  0251  79          	ld	a, c
1166  0252  93          	sub	a, e
1167  0253  32 00 00    	ld	(_tmp1),a
1168  0256  2A 00 00    	ld	hl,(_sprite)
1169  0259  26 00       	ld	h,0x00
1170  025B  01 00 00    	ld	bc,_class
1171  025E  09          	add	hl,bc
1172  025F  7E          	ld	a,(hl)
1173  0260  D6 10       	sub	a,0x10
1174  0262  20 2D       	jr	NZ,l_spr_move_up_00107
1175  0264  2A 00 00    	ld	hl,(_sprite)
1176  0267  26 00       	ld	h,0x00
1177  0269  01 00 00    	ld	bc,_col
1178  026C  09          	add	hl,bc
1179  026D  7E          	ld	a,(hl)
1180  026E  F5          	push	af
1181  026F  33          	inc	sp
1182  0270  3A 00 00    	ld	a,(_tmp1)
1183  0273  F5          	push	af
1184  0274  33          	inc	sp
1185  0275  CD 1E 00    	call	_spr_check_map
1186  0278  F1          	pop	af
1187  0279  7C          	ld	a,h
1188  027A  B5          	or	a,l
1189  027B  28 14       	jr	Z,l_spr_move_up_00107
1190  027D  3A 00 00    	ld	a,(_sprite)
1191  0280  D6 07       	sub	a,0x07
1192  0282  20 09       	jr	NZ,l_spr_move_up_00102
1193  0284  3A 07 00    	ld	a,(_state_a + 0x0007)
1194  0287  07          	rlca
1195  0288  38 03       	jr	C,l_spr_move_up_00102
1196  028A  CD 00 00    	call	_player_hit_platform
1197  028D              l_spr_move_up_00102:
1198  028D  2E 01       	ld	l,0x01
1199  028F  18 39       	jr	l_spr_move_up_00111
1200  0291              l_spr_move_up_00107:
1201  0291  2A 00 00    	ld	hl,(_sprite)
1202  0294  26 00       	ld	h,0x00
1203  0296  01 00 00    	ld	bc,_lin
1204  0299  09          	add	hl,bc
1205  029A  3A 00 00    	ld	a,(_tmp1)
1206  029D  77          	ld	(hl),a
1207  029E  2A 00 00    	ld	hl,(_sprite)
1208  02A1  26 00       	ld	h,0x00
1209  02A3  01 00 00    	ld	bc,_lin
1210  02A6  09          	add	hl,bc
1211  02A7  7E          	ld	a,(hl)
1212  02A8  5F          	ld	e,a
1213  02A9  B7          	or	a,a
1214  02AA  4D          	ld	c,l
1215  02AB  44          	ld	b,h
1216  02AC  28 05       	jr	Z,l_spr_move_up_00108
1217  02AE  3E 90       	ld	a,0x90
1218  02B0  93          	sub	a, e
1219  02B1  30 15       	jr	NC,l_spr_move_up_00109
1220  02B3              l_spr_move_up_00108:
1221  02B3  AF          	xor	a, a
1222  02B4  02          	ld	(bc), a
1223  02B5  3A 00 00    	ld	a,(_s_col0)
1224  02B8  F5          	push	af
1225  02B9  33          	inc	sp
1226  02BA  3A 00 00    	ld	a,(_s_lin0)
1227  02BD  57          	ld	d,a
1228  02BE  1E 12       	ld	e,0x12
1229  02C0  D5          	push	de
1230  02C1  CD 00 00    	call	_NIRVANAP_fillT_callee
1231  02C4  2E 01       	ld	l,0x01
1232  02C6  18 02       	jr	l_spr_move_up_00111
1233  02C8              l_spr_move_up_00109:
1234  02C8  2E 00       	ld	l,0x00
1235  02CA              l_spr_move_up_00111:
1236  02CA  C9          	ret
1237  02CB              	SECTION code_compiler
1238  02CB              ;	---------------------------------
1239  02CB              ; Function spr_move_down
1240  02CB              ; ---------------------------------
1241  02CB              _spr_move_down:
1242  02CB  2A 00 00    	ld	hl,(_sprite)
1243  02CE  26 00       	ld	h,0x00
1244  02D0  01 00 00    	ld	bc,_lin
1245  02D3  09          	add	hl,bc
1246  02D4  4E          	ld	c,(hl)
1247  02D5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1248  02D8  46          	ld	b, (hl)
1249  02D9  1E 02       	ld	e,0x02
1250  02DB  04          	inc	b
1251  02DC  18 02       	jr	l_spr_move_down_00116
1252  02DE              l_spr_move_down_00115:
1253  02DE  CB 23       	sla	e
1254  02E0              l_spr_move_down_00116:
1255  02E0  10 FC       	djnz	l_spr_move_down_00115
1256  02E2  79          	ld	a, c
1257  02E3  83          	add	a, e
1258  02E4  32 00 00    	ld	(_tmp1),a
1259  02E7  2A 00 00    	ld	hl,(_sprite)
1260  02EA  26 00       	ld	h,0x00
1261  02EC  01 00 00    	ld	bc,_col
1262  02EF  09          	add	hl,bc
1263  02F0  56          	ld	d, (hl)
1264  02F1  3A 00 00    	ld	a,(_tmp1)
1265  02F4  C6 10       	add	a,0x10
1266  02F6  5F          	ld	e, a
1267  02F7  D5          	push	de
1268  02F8  CD 8A 00    	call	_spr_check_map_fall
1269  02FB  F1          	pop	af
1270  02FC  4D          	ld	c,l
1271  02FD  44          	ld	b,h
1272  02FE  2A 00 00    	ld	hl,(_sprite)
1273  0301  26 00       	ld	h,0x00
1274  0303  11 00 00    	ld	de,_lin
1275  0306  19          	add	hl,de
1276  0307  78          	ld	a,b
1277  0308  EB          	ex	de,hl
1278  0309  B1          	or	a,c
1279  030A  28 12       	jr	Z,l_spr_move_down_00102
1280  030C  3A 00 00    	ld	a,(_tmp1)
1281  030F  0F          	rrca
1282  0310  0F          	rrca
1283  0311  0F          	rrca
1284  0312  E6 1F       	and	a,0x1f
1285  0314  07          	rlca
1286  0315  07          	rlca
1287  0316  07          	rlca
1288  0317  E6 F8       	and	a,0xf8
1289  0319  12          	ld	(de), a
1290  031A  2E 01       	ld	l,0x01
1291  031C  18 23       	jr	l_spr_move_down_00105
1292  031E              l_spr_move_down_00102:
1293  031E  3A 00 00    	ld	a,(_tmp1)
1294  0321  12          	ld	(de), a
1295  0322  2A 00 00    	ld	hl,(_sprite)
1296  0325  26 00       	ld	h,0x00
1297  0327  01 00 00    	ld	bc,_lin
1298  032A  09          	add	hl,bc
1299  032B  5E          	ld	e,(hl)
1300  032C  3E 90       	ld	a,0x90
1301  032E  93          	sub	a,e
1302  032F  30 0E       	jr	NC,l_spr_move_down_00104
1303  0331  4D          	ld	c,l
1304  0332  44          	ld	b,h
1305  0333  21 00 00    	ld	hl,_s_state
1306  0336  CB 8E       	res	1, (hl)
1307  0338  3E 90       	ld	a,0x90
1308  033A  02          	ld	(bc), a
1309  033B  2E 01       	ld	l,0x01
1310  033D  18 02       	jr	l_spr_move_down_00105
1311  033F              l_spr_move_down_00104:
1312  033F  2E 00       	ld	l,0x00
1313  0341              l_spr_move_down_00105:
1314  0341  C9          	ret
1315  0342              	SECTION code_compiler
1316  0342              ;	---------------------------------
1317  0342              ; Function spr_move_horizontal
1318  0342              ; ---------------------------------
1319  0342              _spr_move_horizontal:
1320  0342  2A 00 00    	ld	hl,(_sprite)
1321  0345  26 00       	ld	h,0x00
1322  0347  01 00 00    	ld	bc,_state
1323  034A  09          	add	hl,bc
1324  034B  7E          	ld	a,(hl)
1325  034C  CB 57       	bit	2, a
1326  034E  28 05       	jr	Z,l_spr_move_horizontal_00104
1327  0350  CD 61 03    	call	_spr_move_right
1328  0353  18 0B       	jr	l_spr_move_horizontal_00106
1329  0355              l_spr_move_horizontal_00104:
1330  0355  CB 5F       	bit	3, a
1331  0357  28 05       	jr	Z,l_spr_move_horizontal_00105
1332  0359  CD 24 04    	call	_spr_move_left
1333  035C  18 02       	jr	l_spr_move_horizontal_00106
1334  035E              l_spr_move_horizontal_00105:
1335  035E  2E 00       	ld	l,0x00
1336  0360              l_spr_move_horizontal_00106:
1337  0360  C9          	ret
1338  0361              	SECTION code_compiler
1339  0361              ;	---------------------------------
1340  0361              ; Function spr_move_right
1341  0361              ; ---------------------------------
1342  0361              _spr_move_right:
1343  0361  2A 00 00    	ld	hl,(_sprite)
1344  0364  26 00       	ld	h,0x00
1345  0366  01 00 00    	ld	bc,_colint
1346  0369  09          	add	hl,bc
1347  036A  7E          	ld	a,(hl)
1348  036B  3C          	inc	a
1349  036C  77          	ld	(hl),a
1350  036D  4F          	ld	c,a
1351  036E  3A 00 00    	ld	a,(_sprite)
1352  0371  5F          	ld	e,a
1353  0372  16 00       	ld	d,0x00
1354  0374  21 00 00    	ld	hl,_class
1355  0377  19          	add	hl,de
1356  0378  5E          	ld	e, (hl)
1357  0379  16 00       	ld	d,0x00
1358  037B  21 00 00    	ld	hl,_sprite_frames
1359  037E  19          	add	hl, de
1360  037F  7E          	ld	a, (hl)
1361  0380  91          	sub	a, c
1362  0381  C2 21 04    	jp	NZ,l_spr_move_right_00112
1363  0384  2A 00 00    	ld	hl,(_sprite)
1364  0387  26 00       	ld	h,0x00
1365  0389  01 00 00    	ld	bc,_lin
1366  038C  09          	add	hl,bc
1367  038D  7E          	ld	a,(hl)
1368  038E  32 00 00    	ld	(_s_lin1),a
1369  0391  2A 00 00    	ld	hl,(_sprite)
1370  0394  26 00       	ld	h,0x00
1371  0396  01 00 00    	ld	bc,_col
1372  0399  09          	add	hl,bc
1373  039A  7E          	ld	a,(hl)
1374  039B  FE 1E       	cp	a,0x1e
1375  039D  30 44       	jr	NC,l_spr_move_right_00105
1376  039F  3C          	inc	a
1377  03A0  32 00 00    	ld	(_s_col1),a
1378  03A3  F5          	push	af
1379  03A4  33          	inc	sp
1380  03A5  3A 00 00    	ld	a,(_s_lin1)
1381  03A8  F5          	push	af
1382  03A9  33          	inc	sp
1383  03AA  CD 1E 00    	call	_spr_check_map
1384  03AD  F1          	pop	af
1385  03AE  7C          	ld	a,h
1386  03AF  B5          	or	a,l
1387  03B0  20 13       	jr	NZ,l_spr_move_right_00101
1388  03B2  3A 00 00    	ld	a,(_s_lin1)
1389  03B5  C6 0F       	add	a,0x0f
1390  03B7  4F          	ld	c, a
1391  03B8  3A 00 00    	ld	a, (_s_col1)
1392  03BB  47          	ld	b,a
1393  03BC  C5          	push	bc
1394  03BD  CD 1E 00    	call	_spr_check_map
1395  03C0  F1          	pop	af
1396  03C1  7C          	ld	a,h
1397  03C2  B5          	or	a,l
1398  03C3  28 1E       	jr	Z,l_spr_move_right_00105
1399  03C5              l_spr_move_right_00101:
1400  03C5  2A 00 00    	ld	hl,(_sprite)
1401  03C8  26 00       	ld	h,0x00
1402  03CA  01 00 00    	ld	bc,_colint
1403  03CD  09          	add	hl,bc
1404  03CE  7E          	ld	a,(hl)
1405  03CF  C6 FF       	add	a,0xff
1406  03D1  77          	ld	(hl),a
1407  03D2  2A 00 00    	ld	hl,(_sprite)
1408  03D5  26 00       	ld	h,0x00
1409  03D7  01 00 00    	ld	bc,_colint
1410  03DA  09          	add	hl,bc
1411  03DB  7E          	ld	a,(hl)
1412  03DC  C6 FF       	add	a,0xff
1413  03DE  77          	ld	(hl),a
1414  03DF  2E 01       	ld	l,0x01
1415  03E1  18 40       	jr	l_spr_move_right_00113
1416  03E3              l_spr_move_right_00105:
1417  03E3  2A 00 00    	ld	hl,(_sprite)
1418  03E6  26 00       	ld	h,0x00
1419  03E8  01 00 00    	ld	bc,_col
1420  03EB  09          	add	hl,bc
1421  03EC  34          	inc	(hl)
1422  03ED  2A 00 00    	ld	hl,(_sprite)
1423  03F0  26 00       	ld	h,0x00
1424  03F2  01 00 00    	ld	bc,_colint
1425  03F5  09          	add	hl,bc
1426  03F6  AF          	xor	a,a
1427  03F7  77          	ld	(hl),a
1428  03F8  2A 00 00    	ld	hl,(_sprite)
1429  03FB  26 00       	ld	h,0x00
1430  03FD  01 00 00    	ld	bc,_col
1431  0400  09          	add	hl,bc
1432  0401  4E          	ld	c, (hl)
1433  0402  3E 1E       	ld	a,0x1e
1434  0404  91          	sub	a, c
1435  0405  30 1A       	jr	NC,l_spr_move_right_00112
1436  0407  CD F4 04    	call	_spr_page_right
1437  040A  3A 00 00    	ld	a,(_sprite)
1438  040D  C6 00       	add	a,+((_col) & 0xFF)
1439  040F  4D          	ld	c,l
1440  0410  5F          	ld	e,a
1441  0411  3E 00       	ld	a,+((_col) / 256)
1442  0413  CE 00       	adc	a,0x00
1443  0415  57          	ld	d,a
1444  0416  79          	ld	a, c
1445  0417  B7          	or	a, a
1446  0418  28 04       	jr	Z,l_spr_move_right_00107
1447  041A  AF          	xor	a, a
1448  041B  12          	ld	(de), a
1449  041C  18 03       	jr	l_spr_move_right_00112
1450  041E              l_spr_move_right_00107:
1451  041E  3E 1E       	ld	a,0x1e
1452  0420  12          	ld	(de), a
1453  0421              l_spr_move_right_00112:
1454  0421  2E 00       	ld	l,0x00
1455  0423              l_spr_move_right_00113:
1456  0423  C9          	ret
1457  0424              	SECTION code_compiler
1458  0424              ;	---------------------------------
1459  0424              ; Function spr_move_left
1460  0424              ; ---------------------------------
1461  0424              _spr_move_left:
1462  0424  01 00 00    	ld	bc,_colint+0
1463  0427  79          	ld	a, c
1464  0428  21 00 00    	ld	hl,_sprite
1465  042B  86          	add	a, (hl)
1466  042C  5F          	ld	e, a
1467  042D  78          	ld	a, b
1468  042E  CE 00       	adc	a,0x00
1469  0430  57          	ld	d, a
1470  0431  1A          	ld	a, (de)
1471  0432  C6 FF       	add	a,0xff
1472  0434  12          	ld	(de), a
1473  0435  79          	ld	a, c
1474  0436  86          	add	a, (hl)
1475  0437  5F          	ld	e, a
1476  0438  78          	ld	a, b
1477  0439  CE 00       	adc	a,0x00
1478  043B  57          	ld	d, a
1479  043C  1A          	ld	a, (de)
1480  043D  3C          	inc	a
1481  043E  C2 F1 04    	jp	NZ,l_spr_move_left_00112
1482  0441  5E          	ld	e,(hl)
1483  0442  16 00       	ld	d,0x00
1484  0444  21 00 00    	ld	hl,_lin
1485  0447  19          	add	hl,de
1486  0448  7E          	ld	a,(hl)
1487  0449  32 00 00    	ld	(_s_lin1),a
1488  044C  2A 00 00    	ld	hl,(_sprite)
1489  044F  26 00       	ld	h,0x00
1490  0451  11 00 00    	ld	de,_col
1491  0454  19          	add	hl,de
1492  0455  7E          	ld	a,(hl)
1493  0456  B7          	or	a, a
1494  0457  28 47       	jr	Z,l_spr_move_left_00105
1495  0459  C6 FF       	add	a,0xff
1496  045B  32 00 00    	ld	(_s_col1),a
1497  045E  C5          	push	bc
1498  045F  F5          	push	af
1499  0460  33          	inc	sp
1500  0461  3A 00 00    	ld	a,(_s_lin1)
1501  0464  F5          	push	af
1502  0465  33          	inc	sp
1503  0466  CD 1E 00    	call	_spr_check_map
1504  0469  F1          	pop	af
1505  046A  C1          	pop	bc
1506  046B  7C          	ld	a,h
1507  046C  B5          	or	a,l
1508  046D  20 16       	jr	NZ,l_spr_move_left_00101
1509  046F  3A 00 00    	ld	a,(_s_lin1)
1510  0472  C6 0F       	add	a,0x0f
1511  0474  57          	ld	d, a
1512  0475  3A 00 00    	ld	a,(_s_col1)
1513  0478  C5          	push	bc
1514  0479  5A          	ld	e,d
1515  047A  57          	ld	d,a
1516  047B  D5          	push	de
1517  047C  CD 1E 00    	call	_spr_check_map
1518  047F  F1          	pop	af
1519  0480  C1          	pop	bc
1520  0481  7C          	ld	a,h
1521  0482  B5          	or	a,l
1522  0483  28 1B       	jr	Z,l_spr_move_left_00105
1523  0485              l_spr_move_left_00101:
1524  0485  79          	ld	a, c
1525  0486  21 00 00    	ld	hl,_sprite
1526  0489  86          	add	a, (hl)
1527  048A  5F          	ld	e, a
1528  048B  78          	ld	a, b
1529  048C  CE 00       	adc	a,0x00
1530  048E  57          	ld	d, a
1531  048F  1A          	ld	a, (de)
1532  0490  3C          	inc	a
1533  0491  12          	ld	(de), a
1534  0492  79          	ld	a, c
1535  0493  86          	add	a, (hl)
1536  0494  4F          	ld	c, a
1537  0495  78          	ld	a, b
1538  0496  CE 00       	adc	a,0x00
1539  0498  47          	ld	b, a
1540  0499  0A          	ld	a, (bc)
1541  049A  3C          	inc	a
1542  049B  02          	ld	(bc), a
1543  049C  2E 01       	ld	l,0x01
1544  049E  18 53       	jr	l_spr_move_left_00113
1545  04A0              l_spr_move_left_00105:
1546  04A0  2A 00 00    	ld	hl,(_sprite)
1547  04A3  26 00       	ld	h,0x00
1548  04A5  11 00 00    	ld	de,_col
1549  04A8  19          	add	hl,de
1550  04A9  7E          	ld	a,(hl)
1551  04AA  EB          	ex	de,hl
1552  04AB  C6 FF       	add	a,0xff
1553  04AD  12          	ld	(de),a
1554  04AE  79          	ld	a,c
1555  04AF  21 00 00    	ld	hl,_sprite
1556  04B2  86          	add	a, (hl)
1557  04B3  4F          	ld	c, a
1558  04B4  78          	ld	a, b
1559  04B5  CE 00       	adc	a,0x00
1560  04B7  47          	ld	b, a
1561  04B8  5E          	ld	e,(hl)
1562  04B9  16 00       	ld	d,0x00
1563  04BB  21 00 00    	ld	hl,_class
1564  04BE  19          	add	hl,de
1565  04BF  5E          	ld	e, (hl)
1566  04C0  16 00       	ld	d,0x00
1567  04C2  21 00 00    	ld	hl,_sprite_frames
1568  04C5  19          	add	hl, de
1569  04C6  5E          	ld	e, (hl)
1570  04C7  1D          	dec	e
1571  04C8  7B          	ld	a, e
1572  04C9  02          	ld	(bc), a
1573  04CA  2A 00 00    	ld	hl,(_sprite)
1574  04CD  26 00       	ld	h,0x00
1575  04CF  01 00 00    	ld	bc,_col
1576  04D2  09          	add	hl,bc
1577  04D3  7E          	ld	a,(hl)
1578  04D4  3C          	inc	a
1579  04D5  20 1A       	jr	NZ,l_spr_move_left_00112
1580  04D7  CD 20 05    	call	_spr_page_left
1581  04DA  3A 00 00    	ld	a,(_sprite)
1582  04DD  C6 00       	add	a,+((_col) & 0xFF)
1583  04DF  4D          	ld	c,l
1584  04E0  5F          	ld	e,a
1585  04E1  3E 00       	ld	a,+((_col) / 256)
1586  04E3  CE 00       	adc	a,0x00
1587  04E5  57          	ld	d,a
1588  04E6  79          	ld	a, c
1589  04E7  B7          	or	a, a
1590  04E8  28 05       	jr	Z,l_spr_move_left_00107
1591  04EA  3E 1E       	ld	a,0x1e
1592  04EC  12          	ld	(de), a
1593  04ED  18 02       	jr	l_spr_move_left_00112
1594  04EF              l_spr_move_left_00107:
1595  04EF  AF          	xor	a, a
1596  04F0  12          	ld	(de), a
1597  04F1              l_spr_move_left_00112:
1598  04F1  2E 00       	ld	l,0x00
1599  04F3              l_spr_move_left_00113:
1600  04F3  C9          	ret
1601  04F4              	SECTION code_compiler
1602  04F4              ;	---------------------------------
1603  04F4              ; Function spr_page_right
1604  04F4              ; ---------------------------------
1605  04F4              _spr_page_right:
1606  04F4  2A 00 00    	ld	hl,(_sprite)
1607  04F7  26 00       	ld	h,0x00
1608  04F9  01 00 00    	ld	bc,_class
1609  04FC  09          	add	hl,bc
1610  04FD  7E          	ld	a,(hl)
1611  04FE  D6 10       	sub	a,0x10
1612  0500  28 04       	jr	Z,l_spr_page_right_00102
1613  0502  2E 00       	ld	l,0x00
1614  0504  18 19       	jr	l_spr_page_right_00105
1615  0506              l_spr_page_right_00102:
1616  0506  3A 00 00    	ld	a,(_scr_curr)
1617  0509  21 00 00    	ld	hl,_map_width
1618  050C  96          	sub	a, (hl)
1619  050D  30 0E       	jr	NC,l_spr_page_right_00104
1620  050F  21 00 00    	ld	hl,_scr_curr
1621  0512  34          	inc	(hl)
1622  0513  CD 47 05    	call	_spr_page_map
1623  0516  CD CB 08    	call	_spr_draw_background
1624  0519  2E 01       	ld	l,0x01
1625  051B  18 02       	jr	l_spr_page_right_00105
1626  051D              l_spr_page_right_00104:
1627  051D  2E 00       	ld	l,0x00
1628  051F              l_spr_page_right_00105:
1629  051F  C9          	ret
1630  0520              	SECTION code_compiler
1631  0520              ;	---------------------------------
1632  0520              ; Function spr_page_left
1633  0520              ; ---------------------------------
1634  0520              _spr_page_left:
1635  0520  2A 00 00    	ld	hl,(_sprite)
1636  0523  26 00       	ld	h,0x00
1637  0525  01 00 00    	ld	bc,_class
1638  0528  09          	add	hl,bc
1639  0529  7E          	ld	a,(hl)
1640  052A  D6 10       	sub	a,0x10
1641  052C  28 04       	jr	Z,l_spr_page_left_00102
1642  052E  2E 00       	ld	l,0x00
1643  0530  18 14       	jr	l_spr_page_left_00105
1644  0532              l_spr_page_left_00102:
1645  0532  21 00 00    	ld	hl,_scr_curr
1646  0535  7E          	ld	a, (hl)
1647  0536  B7          	or	a, a
1648  0537  28 0B       	jr	Z,l_spr_page_left_00104
1649  0539  35          	dec	(hl)
1650  053A  CD 47 05    	call	_spr_page_map
1651  053D  CD CB 08    	call	_spr_draw_background
1652  0540  2E 01       	ld	l,0x01
1653  0542  18 02       	jr	l_spr_page_left_00105
1654  0544              l_spr_page_left_00104:
1655  0544  2E 00       	ld	l,0x00
1656  0546              l_spr_page_left_00105:
1657  0546  C9          	ret
1658  0547              	SECTION code_compiler
1659  0547              ;	---------------------------------
1660  0547              ; Function spr_page_map
1661  0547              ; ---------------------------------
1662  0547              _spr_page_map:
1663  0547  CD 00 00    	call	___sdcc_enter_ix
1664  054A  F5          	push	af
1665  054B  3E 10       	ld	a,0x10
1666  054D  F5          	push	af
1667  054E  33          	inc	sp
1668  054F  0E 00       	ld	c,0x00
1669  0551              l_spr_page_map_00122:
1670  0551  3E 07       	ld	a,0x07
1671  0553  21 00 00    	ld	hl,_scr_curr
1672  0556  96          	sub	a, (hl)
1673  0557  DA 21 06    	jp	C, l_spr_page_map_00109
1674  055A  59          	ld	e, c
1675  055B  16 00       	ld	d,0x00
1676  055D  13          	inc	de
1677  055E  D5          	push	de
1678  055F  5E          	ld	e, (hl)
1679  0560  16 00       	ld	d,0x00
1680  0562  21 6A 05    	ld	hl,l_spr_page_map_00155
1681  0565  19          	add	hl, de
1682  0566  19          	add	hl, de
1683  0567  19          	add	hl, de
1684  0568  D1          	pop	de
1685  0569  E9          	jp	(hl)
1686  056A              l_spr_page_map_00155:
1687  056A  C3 82 05    	jp	l_spr_page_map_00101
1688  056D  C3 97 05    	jp	l_spr_page_map_00102
1689  0570  C3 AB 05    	jp	l_spr_page_map_00103
1690  0573  C3 BF 05    	jp	l_spr_page_map_00104
1691  0576  C3 D3 05    	jp	l_spr_page_map_00105
1692  0579  C3 E7 05    	jp	l_spr_page_map_00106
1693  057C  C3 FB 05    	jp	l_spr_page_map_00107
1694  057F  C3 0F 06    	jp	l_spr_page_map_00108
1695  0582              l_spr_page_map_00101:
1696  0582  06 00       	ld	b,0x00
1697  0584  21 00 00    	ld	hl,_scr_0
1698  0587  09          	add	hl, bc
1699  0588  7E          	ld	a, (hl)
1700  0589  DD 77 FF    	ld	(ix-1),a
1701  058C  21 00 00    	ld	hl,_scr_0
1702  058F  19          	add	hl, de
1703  0590  7E          	ld	a, (hl)
1704  0591  DD 77 FE    	ld	(ix-2),a
1705  0594  C3 21 06    	jp	l_spr_page_map_00109
1706  0597              l_spr_page_map_00102:
1707  0597  06 00       	ld	b,0x00
1708  0599  21 00 00    	ld	hl,_scr_1
1709  059C  09          	add	hl, bc
1710  059D  7E          	ld	a, (hl)
1711  059E  DD 77 FF    	ld	(ix-1),a
1712  05A1  21 00 00    	ld	hl,_scr_1
1713  05A4  19          	add	hl, de
1714  05A5  7E          	ld	a, (hl)
1715  05A6  DD 77 FE    	ld	(ix-2),a
1716  05A9  18 76       	jr	l_spr_page_map_00109
1717  05AB              l_spr_page_map_00103:
1718  05AB  06 00       	ld	b,0x00
1719  05AD  21 00 00    	ld	hl,_scr_2
1720  05B0  09          	add	hl, bc
1721  05B1  7E          	ld	a, (hl)
1722  05B2  DD 77 FF    	ld	(ix-1),a
1723  05B5  21 00 00    	ld	hl,_scr_2
1724  05B8  19          	add	hl, de
1725  05B9  7E          	ld	a, (hl)
1726  05BA  DD 77 FE    	ld	(ix-2),a
1727  05BD  18 62       	jr	l_spr_page_map_00109
1728  05BF              l_spr_page_map_00104:
1729  05BF  06 00       	ld	b,0x00
1730  05C1  21 00 00    	ld	hl,_scr_3
1731  05C4  09          	add	hl, bc
1732  05C5  7E          	ld	a, (hl)
1733  05C6  DD 77 FF    	ld	(ix-1),a
1734  05C9  21 00 00    	ld	hl,_scr_3
1735  05CC  19          	add	hl, de
1736  05CD  7E          	ld	a, (hl)
1737  05CE  DD 77 FE    	ld	(ix-2),a
1738  05D1  18 4E       	jr	l_spr_page_map_00109
1739  05D3              l_spr_page_map_00105:
1740  05D3  06 00       	ld	b,0x00
1741  05D5  21 00 00    	ld	hl,_scr_4
1742  05D8  09          	add	hl, bc
1743  05D9  7E          	ld	a, (hl)
1744  05DA  DD 77 FF    	ld	(ix-1),a
1745  05DD  21 00 00    	ld	hl,_scr_4
1746  05E0  19          	add	hl, de
1747  05E1  7E          	ld	a, (hl)
1748  05E2  DD 77 FE    	ld	(ix-2),a
1749  05E5  18 3A       	jr	l_spr_page_map_00109
1750  05E7              l_spr_page_map_00106:
1751  05E7  06 00       	ld	b,0x00
1752  05E9  21 00 00    	ld	hl,_scr_5
1753  05EC  09          	add	hl, bc
1754  05ED  7E          	ld	a, (hl)
1755  05EE  DD 77 FF    	ld	(ix-1),a
1756  05F1  21 00 00    	ld	hl,_scr_5
1757  05F4  19          	add	hl, de
1758  05F5  7E          	ld	a, (hl)
1759  05F6  DD 77 FE    	ld	(ix-2),a
1760  05F9  18 26       	jr	l_spr_page_map_00109
1761  05FB              l_spr_page_map_00107:
1762  05FB  06 00       	ld	b,0x00
1763  05FD  21 00 00    	ld	hl,_scr_6
1764  0600  09          	add	hl, bc
1765  0601  7E          	ld	a, (hl)
1766  0602  DD 77 FF    	ld	(ix-1),a
1767  0605  21 00 00    	ld	hl,_scr_6
1768  0608  19          	add	hl, de
1769  0609  7E          	ld	a, (hl)
1770  060A  DD 77 FE    	ld	(ix-2),a
1771  060D  18 12       	jr	l_spr_page_map_00109
1772  060F              l_spr_page_map_00108:
1773  060F  06 00       	ld	b,0x00
1774  0611  21 00 00    	ld	hl,_scr_7
1775  0614  09          	add	hl, bc
1776  0615  7E          	ld	a, (hl)
1777  0616  DD 77 FF    	ld	(ix-1),a
1778  0619  21 00 00    	ld	hl,_scr_7
1779  061C  19          	add	hl, de
1780  061D  7E          	ld	a, (hl)
1781  061E  DD 77 FE    	ld	(ix-2),a
1782  0621              l_spr_page_map_00109:
1783  0621  DD 7E FF    	ld	a,(ix-1)
1784  0624  D6 80       	sub	a,0x80
1785  0626  30 14       	jr	NC,l_spr_page_map_00114
1786  0628  3E 00       	ld	a, +((_scr_map) & 0xFF)
1787  062A  DD 86 FD    	add	a,(ix-3)
1788  062D  5F          	ld	e, a
1789  062E  3E 00       	ld	a, +((_scr_map) / 256)
1790  0630  CE 00       	adc	a,0x00
1791  0632  57          	ld	d, a
1792  0633  DD 7E FF    	ld	a,(ix-1)
1793  0636  12          	ld	(de), a
1794  0637  DD 34 FD    	inc	(ix-3)
1795  063A  18 29       	jr	l_spr_page_map_00115
1796  063C              l_spr_page_map_00114:
1797  063C  DD 7E FF    	ld	a,(ix-1)
1798  063F  C6 80       	add	a,0x80
1799  0641  47          	ld	b, a
1800  0642  DD 5E FD    	ld	e,(ix-3)
1801  0645  16 00       	ld	d,0x00
1802  0647              l_spr_page_map_00120:
1803  0647  7A          	ld	a, d
1804  0648  90          	sub	a, b
1805  0649  30 16       	jr	NC,l_spr_page_map_00133
1806  064B  3E 00       	ld	a, +((_scr_map) & 0xFF)
1807  064D  83          	add	a, e
1808  064E  6F          	ld	l, a
1809  064F  3E 00       	ld	a, +((_scr_map) / 256)
1810  0651  CE 00       	adc	a,0x00
1811  0653  67          	ld	h, a
1812  0654  DD 7E FE    	ld	a,(ix-2)
1813  0657  77          	ld	(hl), a
1814  0658  1C          	inc	e
1815  0659  7B          	ld	a, e
1816  065A  D6 A0       	sub	a,0xa0
1817  065C  30 03       	jr	NC,l_spr_page_map_00133
1818  065E  14          	inc	d
1819  065F  18 E6       	jr	l_spr_page_map_00120
1820  0661              l_spr_page_map_00133:
1821  0661  DD 73 FD    	ld	(ix-3),e
1822  0664  0C          	inc	c
1823  0665              l_spr_page_map_00115:
1824  0665  DD 7E FD    	ld	a,(ix-3)
1825  0668  D6 A0       	sub	a,0xa0
1826  066A  30 07       	jr	NC,l_spr_page_map_00118
1827  066C  0C          	inc	c
1828  066D  79          	ld	a, c
1829  066E  D6 A0       	sub	a,0xa0
1830  0670  DA 51 05    	jp	C, l_spr_page_map_00122
1831  0673              l_spr_page_map_00118:
1832  0673  CD 47 0D    	call	_spr_init_anim
1833  0676  DD F9       	ld	sp, ix
1834  0678  DD E1       	pop	ix
1835  067A  C9          	ret
1836  067B              	SECTION code_compiler
1837  067B              ;	---------------------------------
1838  067B              ; Function spr_redraw
1839  067B              ; ---------------------------------
1840  067B              _spr_redraw:
1841  067B  2A 00 00    	ld	hl,(_sprite)
1842  067E  26 00       	ld	h,0x00
1843  0680  01 00 00    	ld	bc,_tile
1844  0683  09          	add	hl,bc
1845  0684  4E          	ld	c, (hl)
1846  0685  3A 00 00    	ld	a,(_sprite)
1847  0688  5F          	ld	e,a
1848  0689  16 00       	ld	d,0x00
1849  068B  21 00 00    	ld	hl,_colint
1850  068E  19          	add	hl,de
1851  068F  7E          	ld	a,(hl)
1852  0690  81          	add	a,c
1853  0691  32 00 00    	ld	(_s_tile1),a
1854  0694  2A 00 00    	ld	hl,(_sprite)
1855  0697  26 00       	ld	h,0x00
1856  0699  01 00 00    	ld	bc,_col
1857  069C  09          	add	hl,bc
1858  069D  7E          	ld	a,(hl)
1859  069E  32 00 00    	ld	(_s_col1),a
1860  06A1  2A 00 00    	ld	hl,(_sprite)
1861  06A4  26 00       	ld	h,0x00
1862  06A6  01 00 00    	ld	bc,_lin
1863  06A9  09          	add	hl,bc
1864  06AA  7E          	ld	a,(hl)
1865  06AB  32 00 00    	ld	(_s_lin1),a
1866  06AE  21 00 00    	ld	hl,_s_lin0
1867  06B1  96          	sub	a, (hl)
1868  06B2  20 09       	jr	NZ,l_spr_redraw_00105
1869  06B4  3A 00 00    	ld	a,(_s_col1)
1870  06B7  21 00 00    	ld	hl,_s_col0
1871  06BA  96          	sub	a, (hl)
1872  06BB  28 30       	jr	Z,l_spr_redraw_00106
1873  06BD              l_spr_redraw_00105:
1874  06BD  3E 10       	ld	a,0x10
1875  06BF  21 00 00    	ld	hl,_s_lin0
1876  06C2  96          	sub	a, (hl)
1877  06C3  38 0E       	jr	C,l_spr_redraw_00102
1878  06C5  F3          	di
1879  06C6  3A 00 00    	ld	a,(_s_col0)
1880  06C9  F5          	push	af
1881  06CA  33          	inc	sp
1882  06CB  21 49 08    	ld	hl,0x0849
1883  06CE  E5          	push	hl
1884  06CF  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1885  06D2  FB          	ei
1886  06D3              l_spr_redraw_00102:
1887  06D3  2A FF FF    	ld	hl,(_s_col1 - 1)
1888  06D6  3A 00 00    	ld	a,(_s_lin1)
1889  06D9  6F          	ld	l,a
1890  06DA  E5          	push	hl
1891  06DB  2A FF FF    	ld	hl,(_s_tile1 - 1)
1892  06DE  3A 00 00    	ld	a,(_sprite)
1893  06E1  6F          	ld	l,a
1894  06E2  E5          	push	hl
1895  06E3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1896  06E6  CD 9C 0B    	call	_spr_back_clr
1897  06E9  2E 01       	ld	l,0x01
1898  06EB  18 22       	jr	l_spr_redraw_00109
1899  06ED              l_spr_redraw_00106:
1900  06ED  3A 00 00    	ld	a,(_s_tile1)
1901  06F0  21 00 00    	ld	hl,_s_tile0
1902  06F3  96          	sub	a, (hl)
1903  06F4  28 17       	jr	Z,l_spr_redraw_00107
1904  06F6  2A FF FF    	ld	hl,(_s_col1 - 1)
1905  06F9  3A 00 00    	ld	a,(_s_lin1)
1906  06FC  6F          	ld	l,a
1907  06FD  E5          	push	hl
1908  06FE  2A FF FF    	ld	hl,(_s_tile1 - 1)
1909  0701  3A 00 00    	ld	a,(_sprite)
1910  0704  6F          	ld	l,a
1911  0705  E5          	push	hl
1912  0706  CD 00 00    	call	_NIRVANAP_spriteT_callee
1913  0709  2E 00       	ld	l,0x00
1914  070B  18 02       	jr	l_spr_redraw_00109
1915  070D              l_spr_redraw_00107:
1916  070D  2E 00       	ld	l,0x00
1917  070F              l_spr_redraw_00109:
1918  070F  C9          	ret
1919  0710              	SECTION code_compiler
1920  0710              ;	---------------------------------
1921  0710              ; Function spr_killed
1922  0710              ; ---------------------------------
1923  0710              _spr_killed:
1924  0710  45          	ld	b,l
1925  0711  11 00 00    	ld	de,_class+0
1926  0714  26 00       	ld	h,0x00
1927  0716  19          	add	hl, de
1928  0717  4E          	ld	c, (hl)
1929  0718  0D          	dec	c
1930  0719  20 0B       	jr	NZ,l_spr_killed_00102
1931  071B  3E 8A       	ld	a,0x8a
1932  071D  48          	ld	c,b
1933  071E  47          	ld	b,a
1934  071F  C5          	push	bc
1935  0720  CD 32 07    	call	_spr_anim_kill
1936  0723  F1          	pop	af
1937  0724  18 09       	jr	l_spr_killed_00103
1938  0726              l_spr_killed_00102:
1939  0726  3E 84       	ld	a,0x84
1940  0728  48          	ld	c,b
1941  0729  47          	ld	b,a
1942  072A  C5          	push	bc
1943  072B  CD 32 07    	call	_spr_anim_kill
1944  072E  F1          	pop	af
1945  072F              l_spr_killed_00103:
1946  072F  2E 00       	ld	l,0x00
1947  0731  C9          	ret
1948  0732              	SECTION code_compiler
1949  0732              ;	---------------------------------
1950  0732              ; Function spr_anim_kill
1951  0732              ; ---------------------------------
1952  0732              _spr_anim_kill:
1953  0732  CD 00 00    	call	___sdcc_enter_ix
1954  0735  F5          	push	af
1955  0736  DD 6E 04    	ld	l,(ix+4)
1956  0739  26 00       	ld	h,0x00
1957  073B  29          	add	hl,hl
1958  073C  4D          	ld	c,l
1959  073D  44          	ld	b,h
1960  073E  21 00 00    	ld	hl,_last_time
1961  0741  09          	add	hl,bc
1962  0742  E3          	ex	(sp), hl
1963  0743  E1          	pop	hl
1964  0744  ED 5B 00 00 	ld	de,(_curr_time)
1965  0748  E5          	push	hl
1966  0749  73          	ld	(hl), e
1967  074A  23          	inc	hl
1968  074B  72          	ld	(hl), d
1969  074C  2A 00 00    	ld	hl,(_curr_time)
1970  074F  5D          	ld	e,l
1971  0750  21 00 00    	ld	hl,_spr_timer
1972  0753  09          	add	hl, bc
1973  0754  4E          	ld	c, (hl)
1974  0755  7B          	ld	a, e
1975  0756  91          	sub	a, c
1976  0757  32 00 00    	ld	(_tmp0),a
1977  075A  21 00 00    	ld	hl,_tmp
1978  075D  36 02       	ld	(hl),0x02
1979  075F  3E 28       	ld	a,0x28
1980  0761  21 00 00    	ld	hl,_tmp0
1981  0764  96          	sub	a, (hl)
1982  0765  38 05       	jr	C,l_spr_anim_kill_00102
1983  0767  21 00 00    	ld	hl,_tmp
1984  076A  36 01       	ld	(hl),0x01
1985  076C              l_spr_anim_kill_00102:
1986  076C  3E 14       	ld	a,0x14
1987  076E  21 00 00    	ld	hl,_tmp0
1988  0771  96          	sub	a, (hl)
1989  0772  38 05       	jr	C,l_spr_anim_kill_00104
1990  0774  21 00 00    	ld	hl,_tmp
1991  0777  36 00       	ld	(hl),0x00
1992  0779              l_spr_anim_kill_00104:
1993  0779  3E 3C       	ld	a,0x3c
1994  077B  21 00 00    	ld	hl,_tmp0
1995  077E  96          	sub	a, (hl)
1996  077F  38 2F       	jr	C,l_spr_anim_kill_00106
1997  0781  3E 00       	ld	a, +((_col) & 0xFF)
1998  0783  DD 86 04    	add	a,(ix+4)
1999  0786  4F          	ld	c, a
2000  0787  3E 00       	ld	a, +((_col) / 256)
2001  0789  CE 00       	adc	a,0x00
2002  078B  47          	ld	b, a
2003  078C  0A          	ld	a, (bc)
2004  078D  47          	ld	b, a
2005  078E  3E 00       	ld	a, +((_lin) & 0xFF)
2006  0790  DD 86 04    	add	a,(ix+4)
2007  0793  5F          	ld	e, a
2008  0794  3E 00       	ld	a, +((_lin) / 256)
2009  0796  CE 00       	adc	a,0x00
2010  0798  57          	ld	d, a
2011  0799  1A          	ld	a, (de)
2012  079A  57          	ld	d, a
2013  079B  DD 7E 05    	ld	a,(ix+5)
2014  079E  21 00 00    	ld	hl,_tmp
2015  07A1  86          	add	a, (hl)
2016  07A2  4A          	ld	c, d
2017  07A3  C5          	push	bc
2018  07A4  F5          	push	af
2019  07A5  33          	inc	sp
2020  07A6  DD 7E 04    	ld	a,(ix+4)
2021  07A9  F5          	push	af
2022  07AA  33          	inc	sp
2023  07AB  CD 00 00    	call	_NIRVANAP_spriteT_callee
2024  07AE  18 06       	jr	l_spr_anim_kill_00108
2025  07B0              l_spr_anim_kill_00106:
2026  07B0  DD 6E 04    	ld	l,(ix+4)
2027  07B3  CD BA 07    	call	_spr_destroy
2028  07B6              l_spr_anim_kill_00108:
2029  07B6  F1          	pop	af
2030  07B7  DD E1       	pop	ix
2031  07B9  C9          	ret
2032  07BA              	SECTION code_compiler
2033  07BA              ;	---------------------------------
2034  07BA              ; Function spr_destroy
2035  07BA              ; ---------------------------------
2036  07BA              _spr_destroy:
2037  07BA  CD 00 00    	call	___sdcc_enter_ix
2038  07BD  F5          	push	af
2039  07BE  4D          	ld	c, l
2040  07BF  21 00 00    	ld	hl,_spr_count
2041  07C2  35          	dec	(hl)
2042  07C3  3E 00       	ld	a, +((_lin) & 0xFF)
2043  07C5  81          	add	a, c
2044  07C6  DD 77 FE    	ld	(ix-2),a
2045  07C9  3E 00       	ld	a, +((_lin) / 256)
2046  07CB  CE 00       	adc	a,0x00
2047  07CD  DD 77 FF    	ld	(ix-1),a
2048  07D0  E1          	pop	hl
2049  07D1  7E          	ld	a,(hl)
2050  07D2  E5          	push	hl
2051  07D3  32 00 00    	ld	(_s_lin0),a
2052  07D6  3E 00       	ld	a, +((_col) & 0xFF)
2053  07D8  81          	add	a, c
2054  07D9  5F          	ld	e, a
2055  07DA  3E 00       	ld	a, +((_col) / 256)
2056  07DC  CE 00       	adc	a,0x00
2057  07DE  57          	ld	d, a
2058  07DF  1A          	ld	a, (de)
2059  07E0  32 00 00    	ld	(_s_col0),a
2060  07E3  06 00       	ld	b,0x00
2061  07E5  21 00 00    	ld	hl,_tile
2062  07E8  09          	add	hl, bc
2063  07E9  AF          	xor	a,a
2064  07EA  77          	ld	(hl),a
2065  07EB  E1          	pop	hl
2066  07EC  12          	ld	(de),a
2067  07ED  E5          	push	hl
2068  07EE  36 00       	ld	(hl),0x00
2069  07F0  11 00 00    	ld	de,_class+0
2070  07F3  69          	ld	l,c
2071  07F4  26 00       	ld	h,0x00
2072  07F6  19          	add	hl, de
2073  07F7  36 00       	ld	(hl),0x00
2074  07F9  11 00 00    	ld	de,_state+0
2075  07FC  69          	ld	l,c
2076  07FD  26 00       	ld	h,0x00
2077  07FF  19          	add	hl, de
2078  0800  36 00       	ld	(hl),0x00
2079  0802  11 00 00    	ld	de,_state_a+0
2080  0805  69          	ld	l,c
2081  0806  26 00       	ld	h,0x00
2082  0808  19          	add	hl, de
2083  0809  36 00       	ld	(hl),0x00
2084  080B  21 00 00    	ld	hl,0x0000
2085  080E  E5          	push	hl
2086  080F  AF          	xor	a, a
2087  0810  F5          	push	af
2088  0811  33          	inc	sp
2089  0812  79          	ld	a, c
2090  0813  F5          	push	af
2091  0814  33          	inc	sp
2092  0815  CD 00 00    	call	_NIRVANAP_spriteT_callee
2093  0818  76          	halt
2094  0819  3A 00 00    	ld	a,(_s_col0)
2095  081C  F5          	push	af
2096  081D  33          	inc	sp
2097  081E  3A 00 00    	ld	a,(_s_lin0)
2098  0821  57          	ld	d,a
2099  0822  1E 49       	ld	e,0x49
2100  0824  D5          	push	de
2101  0825  CD 00 00    	call	_NIRVANAP_fillT_callee
2102  0828  F1          	pop	af
2103  0829  DD E1       	pop	ix
2104  082B  C9          	ret
2105  082C              	SECTION code_compiler
2106  082C              ;	---------------------------------
2107  082C              ; Function spr_set_fall
2108  082C              ; ---------------------------------
2109  082C              _spr_set_fall:
2110  082C  21 00 00    	ld	hl,_s_state
2111  082F  7E          	ld	a,(hl)
2112  0830  E6 FE       	and	a,0xfe
2113  0832  F6 02       	or	a,0x02
2114  0834  77          	ld	(hl),a
2115  0835  21 00 00    	ld	hl,_sprite
2116  0838  7E          	ld	a, (hl)
2117  0839  D6 06       	sub	a,0x06
2118  083B  38 0E       	jr	C,l_spr_set_fall_00104
2119  083D  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2120  083F  86          	add	a, (hl)
2121  0840  4F          	ld	c, a
2122  0841  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2123  0843  CE 00       	adc	a,0x00
2124  0845  47          	ld	b, a
2125  0846  3E 02       	ld	a,0x02
2126  0848  02          	ld	(bc), a
2127  0849  18 19       	jr	l_spr_set_fall_00106
2128  084B              l_spr_set_fall_00104:
2129  084B  2A 00 00    	ld	hl,(_sprite)
2130  084E  26 00       	ld	h,0x00
2131  0850  01 00 00    	ld	bc,_class
2132  0853  09          	add	hl,bc
2133  0854  4E          	ld	c,(hl)
2134  0855  3E 08       	ld	a,0x08
2135  0857  91          	sub	a,c
2136  0858  D8          	ret	C
2137  0859  2A 00 00    	ld	hl,(_sprite)
2138  085C  26 00       	ld	h,0x00
2139  085E  01 00 00    	ld	bc,_sprite_speed_alt
2140  0861  09          	add	hl,bc
2141  0862  36 01       	ld	(hl),0x01
2142  0864              l_spr_set_fall_00106:
2143  0864  C9          	ret
2144  0865              	SECTION code_compiler
2145  0865              ;	---------------------------------
2146  0865              ; Function spr_tile
2147  0865              ; ---------------------------------
2148  0865              _spr_tile:
2149  0865  45          	ld	b,l
2150  0866  11 00 00    	ld	de,_class+0
2151  0869  26 00       	ld	h,0x00
2152  086B  19          	add	hl, de
2153  086C  4E          	ld	c, (hl)
2154  086D  0D          	dec	c
2155  086E  20 0F       	jr	NZ,l_spr_tile_00102
2156  0870  AF          	xor	a, a
2157  0871  48          	ld	c,b
2158  0872  47          	ld	b,a
2159  0873  C5          	push	bc
2160  0874  3E 84       	ld	a,0x84
2161  0876  F5          	push	af
2162  0877  33          	inc	sp
2163  0878  CD 82 08    	call	_spr_tile_dir
2164  087B  F1          	pop	af
2165  087C  33          	inc	sp
2166  087D  18 02       	jr	l_spr_tile_00103
2167  087F              l_spr_tile_00102:
2168  087F  2E 00       	ld	l,0x00
2169  0881              l_spr_tile_00103:
2170  0881  C9          	ret
2171  0882              	SECTION code_compiler
2172  0882              ;	---------------------------------
2173  0882              ; Function spr_tile_dir
2174  0882              ; ---------------------------------
2175  0882              _spr_tile_dir:
2176  0882  CD 00 00    	call	___sdcc_enter_ix
2177  0885  3E 00       	ld	a, +((_state) & 0xFF)
2178  0887  DD 86 05    	add	a,(ix+5)
2179  088A  4F          	ld	c, a
2180  088B  3E 00       	ld	a, +((_state) / 256)
2181  088D  CE 00       	adc	a,0x00
2182  088F  47          	ld	b, a
2183  0890  0A          	ld	a, (bc)
2184  0891  4F          	ld	c,a
2185  0892  CB 57       	bit	2,a
2186  0894  28 05       	jr	Z,l_spr_tile_dir_00102
2187  0896  DD 6E 04    	ld	l,(ix+4)
2188  0899  18 2D       	jr	l_spr_tile_dir_00109
2189  089B              l_spr_tile_dir_00102:
2190  089B  DD 7E 04    	ld	a,(ix+4)
2191  089E  DD 86 06    	add	a,(ix+6)
2192  08A1  47          	ld	b, a
2193  08A2  CB 59       	bit	3, c
2194  08A4  28 03       	jr	Z,l_spr_tile_dir_00104
2195  08A6  68          	ld	l, b
2196  08A7  18 1F       	jr	l_spr_tile_dir_00109
2197  08A9              l_spr_tile_dir_00104:
2198  08A9  3E 00       	ld	a, +((_state_a) & 0xFF)
2199  08AB  DD 86 05    	add	a,(ix+5)
2200  08AE  5F          	ld	e, a
2201  08AF  3E 00       	ld	a, +((_state_a) / 256)
2202  08B1  CE 00       	adc	a,0x00
2203  08B3  57          	ld	d, a
2204  08B4  1A          	ld	a, (de)
2205  08B5  CB 67       	bit	4, a
2206  08B7  28 05       	jr	Z,l_spr_tile_dir_00106
2207  08B9  DD 6E 04    	ld	l,(ix+4)
2208  08BC  18 0A       	jr	l_spr_tile_dir_00109
2209  08BE              l_spr_tile_dir_00106:
2210  08BE  CB 5F       	bit	3, a
2211  08C0  28 03       	jr	Z,l_spr_tile_dir_00108
2212  08C2  68          	ld	l, b
2213  08C3  18 03       	jr	l_spr_tile_dir_00109
2214  08C5              l_spr_tile_dir_00108:
2215  08C5  DD 6E 04    	ld	l,(ix+4)
2216  08C8              l_spr_tile_dir_00109:
2217  08C8  DD E1       	pop	ix
2218  08CA  C9          	ret
2219  08CB              	SECTION code_compiler
2220  08CB              ;	---------------------------------
2221  08CB              ; Function spr_draw_background
2222  08CB              ; ---------------------------------
2223  08CB              _spr_draw_background:
2224  08CB  76          	halt
2225  08CC  21 10 00    	ld	hl,0x0010
2226  08CF  22 00 00    	ld	(_index1),hl
2227  08D2  21 00 00    	ld	hl,_s_lin1
2228  08D5  36 00       	ld	(hl),0x00
2229  08D7  21 00 00    	ld	hl,_s_col1
2230  08DA  36 02       	ld	(hl),0x02
2231  08DC              l_spr_draw_background_00108:
2232  08DC  21 00 00    	ld	hl,_index1
2233  08DF  7E          	ld	a, (hl)
2234  08E0  D6 A0       	sub	a,0xa0
2235  08E2  23          	inc	hl
2236  08E3  7E          	ld	a, (hl)
2237  08E4  DE 00       	sbc	a,0x00
2238  08E6  30 61       	jr	NC,l_spr_draw_background_00111
2239  08E8  2B          	dec	hl
2240  08E9  7E          	ld	a, (hl)
2241  08EA  E6 0F       	and	a,0x0f
2242  08EC  20 0C       	jr	NZ,l_spr_draw_background_00102
2243  08EE  21 00 00    	ld	hl,_s_lin1
2244  08F1  7E          	ld	a, (hl)
2245  08F2  C6 10       	add	a,0x10
2246  08F4  77          	ld	(hl), a
2247  08F5  21 00 00    	ld	hl,_s_col1
2248  08F8  36 00       	ld	(hl),0x00
2249  08FA              l_spr_draw_background_00102:
2250  08FA  01 00 00    	ld	bc,_scr_map
2251  08FD  2A 00 00    	ld	hl,(_index1)
2252  0900  09          	add	hl,bc
2253  0901  7E          	ld	a,(hl)
2254  0902  47          	ld	b,a
2255  0903  D6 54       	sub	a,0x54
2256  0905  30 10       	jr	NC,l_spr_draw_background_00106
2257  0907  3A 00 00    	ld	a,(_s_col1)
2258  090A  F5          	push	af
2259  090B  33          	inc	sp
2260  090C  3A 00 00    	ld	a,(_s_lin1)
2261  090F  48          	ld	c,b
2262  0910  47          	ld	b,a
2263  0911  C5          	push	bc
2264  0912  CD 00 00    	call	_NIRVANAP_drawT_callee
2265  0915  18 23       	jr	l_spr_draw_background_00107
2266  0917              l_spr_draw_background_00106:
2267  0917  78          	ld	a, b
2268  0918  D6 54       	sub	a,0x54
2269  091A  20 15       	jr	NZ,l_spr_draw_background_00104
2270  091C  3A 00 00    	ld	a,(_s_col1)
2271  091F  21 01 FF    	ld	hl,0xff01
2272  0922  E5          	push	hl
2273  0923  F5          	push	af
2274  0924  33          	inc	sp
2275  0925  2A FF FF    	ld	hl,(_s_lin1 - 1)
2276  0928  AF          	xor	a,a
2277  0929  6F          	ld	l,a
2278  092A  E5          	push	hl
2279  092B  CD 00 00    	call	_enemy_init
2280  092E  F1          	pop	af
2281  092F  F1          	pop	af
2282  0930  33          	inc	sp
2283  0931              l_spr_draw_background_00104:
2284  0931  01 00 00    	ld	bc,_scr_map
2285  0934  2A 00 00    	ld	hl,(_index1)
2286  0937  09          	add	hl,bc
2287  0938  AF          	xor	a,a
2288  0939  77          	ld	(hl),a
2289  093A              l_spr_draw_background_00107:
2290  093A  21 00 00    	ld	hl,_s_col1
2291  093D  34          	inc	(hl)
2292  093E  34          	inc	(hl)
2293  093F  21 00 00    	ld	hl,_index1
2294  0942  34          	inc	(hl)
2295  0943  20 97       	jr	NZ,l_spr_draw_background_00108
2296  0945  23          	inc	hl
2297  0946  34          	inc	(hl)
2298  0947  18 93       	jr	l_spr_draw_background_00108
2299  0949              l_spr_draw_background_00111:
2300  0949  C9          	ret
2301  094A              	SECTION code_compiler
2302  094A              ;	---------------------------------
2303  094A              ; Function spr_draw_clear
2304  094A              ; ---------------------------------
2305  094A              _spr_draw_clear:
2306  094A  F3          	di
2307  094B  2E 00       	ld	l,0x00
2308  094D  CD 00 00    	call	_zx_cls_fastcall
2309  0950  21 00 00    	ld	hl,_s_lin1
2310  0953  36 10       	ld	(hl),0x10
2311  0955              l_spr_draw_clear_00105:
2312  0955  21 00 00    	ld	hl,_s_col1
2313  0958  36 00       	ld	(hl),0x00
2314  095A              l_spr_draw_clear_00103:
2315  095A  2A FF FF    	ld	hl,(_s_col1 - 1)
2316  095D  3A 00 00    	ld	a,(_s_lin1)
2317  0960  6F          	ld	l,a
2318  0961  E5          	push	hl
2319  0962  AF          	xor	a, a
2320  0963  F5          	push	af
2321  0964  33          	inc	sp
2322  0965  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2323  0968  21 00 00    	ld	hl,_s_col1
2324  096B  7E          	ld	a,(hl)
2325  096C  C6 02       	add	a,0x02
2326  096E  77          	ld	(hl),a
2327  096F  D6 20       	sub	a,0x20
2328  0971  38 E7       	jr	C,l_spr_draw_clear_00103
2329  0973  21 00 00    	ld	hl,_s_lin1
2330  0976  7E          	ld	a, (hl)
2331  0977  C6 10       	add	a,0x10
2332  0979  77          	ld	(hl), a
2333  097A  3E A2       	ld	a,0xa2
2334  097C  96          	sub	a, (hl)
2335  097D  30 D6       	jr	NC,l_spr_draw_clear_00105
2336  097F  FB          	ei
2337  0980  C9          	ret
2338  0981              	SECTION code_compiler
2339  0981              ;	---------------------------------
2340  0981              ; Function spr_brick_anim
2341  0981              ; ---------------------------------
2342  0981              _spr_brick_anim:
2343  0981  CD 00 00    	call	___sdcc_enter_ix
2344  0984  F5          	push	af
2345  0985  DD 75 FF    	ld	(ix-1),l
2346  0988  21 00 00    	ld	hl,_player_hit_col
2347  098B  56          	ld	d, (hl)
2348  098C  21 00 00    	ld	hl,_player_hit_lin
2349  098F  5E          	ld	e, (hl)
2350  0990  D5          	push	de
2351  0991  D5          	push	de
2352  0992  CD 00 00    	call	_spr_calc_index
2353  0995  F1          	pop	af
2354  0996  D1          	pop	de
2355  0997  22 00 00    	ld	(_index1),hl
2356  099A  01 F0 FF    	ld	bc,0xfff0
2357  099D  09          	add	hl,bc
2358  099E  01 00 00    	ld	bc,_scr_map
2359  09A1  09          	add	hl,bc
2360  09A2  7E          	ld	a, (hl)
2361  09A3  DD 77 FE    	ld	(ix-2),a
2362  09A6  01 00 00    	ld	bc,_scr_map
2363  09A9  2A 00 00    	ld	hl,(_index1)
2364  09AC  09          	add	hl,bc
2365  09AD  4D          	ld	c,l
2366  09AE  46          	ld	b, (hl)
2367  09AF  DD 7E FF    	ld	a,(ix-1)
2368  09B2  B7          	or	a, a
2369  09B3  28 08       	jr	Z,l_spr_brick_anim_00102
2370  09B5  7B          	ld	a, e
2371  09B6  C6 F6       	add	a,0xf6
2372  09B8  32 00 00    	ld	(_tmp),a
2373  09BB  18 06       	jr	l_spr_brick_anim_00103
2374  09BD              l_spr_brick_anim_00102:
2375  09BD  7B          	ld	a, e
2376  09BE  C6 F8       	add	a,0xf8
2377  09C0  32 00 00    	ld	(_tmp),a
2378  09C3              l_spr_brick_anim_00103:
2379  09C3  DD 7E FF    	ld	a,(ix-1)
2380  09C6  B7          	or	a, a
2381  09C7  28 23       	jr	Z,l_spr_brick_anim_00105
2382  09C9  D5          	push	de
2383  09CA  D5          	push	de
2384  09CB  33          	inc	sp
2385  09CC  53          	ld	d, e
2386  09CD  1E 49       	ld	e,0x49
2387  09CF  D5          	push	de
2388  09D0  CD 00 00    	call	_NIRVANAP_fillC_callee
2389  09D3  D1          	pop	de
2390  09D4  62          	ld	h, d
2391  09D5  24          	inc	h
2392  09D6  D5          	push	de
2393  09D7  E5          	push	hl
2394  09D8  33          	inc	sp
2395  09D9  53          	ld	d, e
2396  09DA  1E 49       	ld	e,0x49
2397  09DC  D5          	push	de
2398  09DD  CD 00 00    	call	_NIRVANAP_fillC_callee
2399  09E0  33          	inc	sp
2400  09E1  3A 00 00    	ld	a,(_tmp)
2401  09E4  48          	ld	c,b
2402  09E5  47          	ld	b,a
2403  09E6  C5          	push	bc
2404  09E7  CD 00 00    	call	_NIRVANAP_drawT_callee
2405  09EA  18 1E       	jr	l_spr_brick_anim_00107
2406  09EC              l_spr_brick_anim_00105:
2407  09EC  3A 00 00    	ld	a,(_tmp)
2408  09EF  C6 F0       	add	a,0xf0
2409  09F1  C5          	push	bc
2410  09F2  D5          	push	de
2411  09F3  5F          	ld	e,a
2412  09F4  D5          	push	de
2413  09F5  DD 7E FE    	ld	a,(ix-2)
2414  09F8  F5          	push	af
2415  09F9  33          	inc	sp
2416  09FA  CD 00 00    	call	_NIRVANAP_drawT_callee
2417  09FD  D1          	pop	de
2418  09FE  C1          	pop	bc
2419  09FF  D5          	push	de
2420  0A00  33          	inc	sp
2421  0A01  3A 00 00    	ld	a,(_tmp)
2422  0A04  48          	ld	c,b
2423  0A05  47          	ld	b,a
2424  0A06  C5          	push	bc
2425  0A07  CD 00 00    	call	_NIRVANAP_drawT_callee
2426  0A0A              l_spr_brick_anim_00107:
2427  0A0A  F1          	pop	af
2428  0A0B  DD E1       	pop	ix
2429  0A0D  C9          	ret
2430  0A0E              	SECTION code_compiler
2431  0A0E              ;	---------------------------------
2432  0A0E              ; Function spr_draw_index
2433  0A0E              ; ---------------------------------
2434  0A0E              _spr_draw_index:
2435  0A0E  CD 00 00    	call	___sdcc_enter_ix
2436  0A11  DD 7E 04    	ld	a,(ix+4)
2437  0A14  E6 1F       	and	a,0x1f
2438  0A16  32 00 00    	ld	(_s_col1),a
2439  0A19  DD 4E 04    	ld	c,(ix+4)
2440  0A1C  DD 5E 05    	ld	e,(ix+5)
2441  0A1F  06 05       	ld	b,0x05
2442  0A21  79          	ld	a,c
2443  0A22              l_spr_draw_index_00103:
2444  0A22  CB 3B       	srl	e
2445  0A24  1F          	rra
2446  0A25  10 FB       	djnz	l_spr_draw_index_00103
2447  0A27  21 00 00    	ld	hl,_s_lin1
2448  0A2A  77          	ld	(hl),a
2449  0A2B  07          	rlca
2450  0A2C  07          	rlca
2451  0A2D  07          	rlca
2452  0A2E  E6 F8       	and	a,0xf8
2453  0A30  77          	ld	(hl), a
2454  0A31  3E 00       	ld	a, +((_scr_map) & 0xFF)
2455  0A33  DD 86 04    	add	a,(ix+4)
2456  0A36  4F          	ld	c, a
2457  0A37  3E 00       	ld	a, +((_scr_map) / 256)
2458  0A39  DD 8E 05    	adc	a,(ix+5)
2459  0A3C  47          	ld	b, a
2460  0A3D  0A          	ld	a, (bc)
2461  0A3E  47          	ld	b, a
2462  0A3F  3A 00 00    	ld	a,(_s_col1)
2463  0A42  F5          	push	af
2464  0A43  33          	inc	sp
2465  0A44  3A 00 00    	ld	a,(_s_lin1)
2466  0A47  48          	ld	c,b
2467  0A48  47          	ld	b,a
2468  0A49  C5          	push	bc
2469  0A4A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2470  0A4D  DD E1       	pop	ix
2471  0A4F  C9          	ret
2472  0A50              	SECTION code_compiler
2473  0A50              ;	---------------------------------
2474  0A50              ; Function spr_draw_row
2475  0A50              ; ---------------------------------
2476  0A50              _spr_draw_row:
2477  0A50  CD 00 00    	call	___sdcc_enter_ix
2478  0A53  3B          	dec	sp
2479  0A54  F3          	di
2480  0A55  21 00 00    	ld	hl,_tmp
2481  0A58  36 00       	ld	(hl),0x00
2482  0A5A  DD 7E 04    	ld	a,(ix+4)
2483  0A5D  07          	rlca
2484  0A5E  07          	rlca
2485  0A5F  07          	rlca
2486  0A60  E6 F8       	and	a,0xf8
2487  0A62  DD 77 FF    	ld	(ix-1),a
2488  0A65              l_spr_draw_row_00101:
2489  0A65  21 00 00    	ld	hl,_tmp
2490  0A68  7E          	ld	a, (hl)
2491  0A69  D6 20       	sub	a,0x20
2492  0A6B  30 38       	jr	NC,l_spr_draw_row_00103
2493  0A6D  DD 4E 04    	ld	c,(ix+4)
2494  0A70  3E 00       	ld	a,0x00
2495  0A72  CB 21       	sla	c
2496  0A74  17          	rla
2497  0A75  CB 21       	sla	c
2498  0A77  17          	rla
2499  0A78  CB 21       	sla	c
2500  0A7A  17          	rla
2501  0A7B  CB 21       	sla	c
2502  0A7D  17          	rla
2503  0A7E  CB 21       	sla	c
2504  0A80  17          	rla
2505  0A81  47          	ld	b,a
2506  0A82  5E          	ld	e, (hl)
2507  0A83  16 00       	ld	d,0x00
2508  0A85  79          	ld	a, c
2509  0A86  83          	add	a, e
2510  0A87  21 00 00    	ld	hl,_index1
2511  0A8A  77          	ld	(hl), a
2512  0A8B  78          	ld	a, b
2513  0A8C  8A          	adc	a, d
2514  0A8D  23          	inc	hl
2515  0A8E  77          	ld	(hl), a
2516  0A8F  2A FF FF    	ld	hl,(_tmp-1)
2517  0A92  DD 6E FF    	ld	l,(ix-1)
2518  0A95  3A 00 00    	ld	a,(_game_brick_tile)
2519  0A98  E5          	push	hl
2520  0A99  F5          	push	af
2521  0A9A  33          	inc	sp
2522  0A9B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2523  0A9E  21 00 00    	ld	hl,_tmp
2524  0AA1  34          	inc	(hl)
2525  0AA2  34          	inc	(hl)
2526  0AA3  18 C0       	jr	l_spr_draw_row_00101
2527  0AA5              l_spr_draw_row_00103:
2528  0AA5  FB          	ei
2529  0AA6  33          	inc	sp
2530  0AA7  DD E1       	pop	ix
2531  0AA9  C9          	ret
2532  0AAA              	SECTION code_compiler
2533  0AAA              ;	---------------------------------
2534  0AAA              ; Function spr_calc_hor
2535  0AAA              ; ---------------------------------
2536  0AAA              _spr_calc_hor:
2537  0AAA  CD 00 00    	call	___sdcc_enter_ix
2538  0AAD  3E 00       	ld	a, +((_class) & 0xFF)
2539  0AAF  DD 86 04    	add	a,(ix+4)
2540  0AB2  4F          	ld	c, a
2541  0AB3  3E 00       	ld	a, +((_class) / 256)
2542  0AB5  CE 00       	adc	a,0x00
2543  0AB7  47          	ld	b, a
2544  0AB8  0A          	ld	a, (bc)
2545  0AB9  D6 0C       	sub	a,0x0c
2546  0ABB  28 20       	jr	Z,l_spr_calc_hor_00102
2547  0ABD  3E 00       	ld	a, +((_col) & 0xFF)
2548  0ABF  DD 86 04    	add	a,(ix+4)
2549  0AC2  4F          	ld	c, a
2550  0AC3  3E 00       	ld	a, +((_col) / 256)
2551  0AC5  CE 00       	adc	a,0x00
2552  0AC7  47          	ld	b, a
2553  0AC8  0A          	ld	a, (bc)
2554  0AC9  4F          	ld	c, a
2555  0ACA  87          	add	a, a
2556  0ACB  81          	add	a, c
2557  0ACC  4F          	ld	c, a
2558  0ACD  3E 00       	ld	a, +((_colint) & 0xFF)
2559  0ACF  DD 86 04    	add	a,(ix+4)
2560  0AD2  5F          	ld	e, a
2561  0AD3  3E 00       	ld	a, +((_colint) / 256)
2562  0AD5  CE 00       	adc	a,0x00
2563  0AD7  57          	ld	d, a
2564  0AD8  1A          	ld	a, (de)
2565  0AD9  6F          	ld	l, a
2566  0ADA  09          	add	hl, bc
2567  0ADB  18 10       	jr	l_spr_calc_hor_00104
2568  0ADD              l_spr_calc_hor_00102:
2569  0ADD  3E 00       	ld	a, +((_col) & 0xFF)
2570  0ADF  DD 86 04    	add	a,(ix+4)
2571  0AE2  4F          	ld	c, a
2572  0AE3  3E 00       	ld	a, +((_col) / 256)
2573  0AE5  CE 00       	adc	a,0x00
2574  0AE7  47          	ld	b, a
2575  0AE8  0A          	ld	a, (bc)
2576  0AE9  4F          	ld	c, a
2577  0AEA  69          	ld	l, c
2578  0AEB  29          	add	hl, hl
2579  0AEC  09          	add	hl, bc
2580  0AED              l_spr_calc_hor_00104:
2581  0AED  DD E1       	pop	ix
2582  0AEF  C9          	ret
2583  0AF0              	SECTION code_compiler
2584  0AF0              ;	---------------------------------
2585  0AF0              ; Function spr_collision_check
2586  0AF0              ; ---------------------------------
2587  0AF0              _spr_collision_check:
2588  0AF0  CD 00 00    	call	___sdcc_enter_ix
2589  0AF3  3E 00       	ld	a, +((_class) & 0xFF)
2590  0AF5  DD 86 05    	add	a,(ix+5)
2591  0AF8  4F          	ld	c, a
2592  0AF9  3E 00       	ld	a, +((_class) / 256)
2593  0AFB  CE 00       	adc	a,0x00
2594  0AFD  47          	ld	b, a
2595  0AFE  0A          	ld	a, (bc)
2596  0AFF  B7          	or	a, a
2597  0B00  28 10       	jr	Z,l_spr_collision_check_00101
2598  0B02  3E 00       	ld	a, +((_state) & 0xFF)
2599  0B04  DD 86 05    	add	a,(ix+5)
2600  0B07  4F          	ld	c, a
2601  0B08  3E 00       	ld	a, +((_state) / 256)
2602  0B0A  CE 00       	adc	a,0x00
2603  0B0C  47          	ld	b, a
2604  0B0D  0A          	ld	a, (bc)
2605  0B0E  CB 6F       	bit	5, a
2606  0B10  28 04       	jr	Z,l_spr_collision_check_00102
2607  0B12              l_spr_collision_check_00101:
2608  0B12  2E 00       	ld	l,0x00
2609  0B14  18 6D       	jr	l_spr_collision_check_00109
2610  0B16              l_spr_collision_check_00102:
2611  0B16  01 00 00    	ld	bc,_lin+0
2612  0B19  79          	ld	a, c
2613  0B1A  DD 86 05    	add	a,(ix+5)
2614  0B1D  5F          	ld	e, a
2615  0B1E  78          	ld	a, b
2616  0B1F  CE 00       	adc	a,0x00
2617  0B21  57          	ld	d, a
2618  0B22  1A          	ld	a, (de)
2619  0B23  5F          	ld	e, a
2620  0B24  16 00       	ld	d,0x00
2621  0B26  79          	ld	a, c
2622  0B27  DD 86 04    	add	a,(ix+4)
2623  0B2A  4F          	ld	c, a
2624  0B2B  78          	ld	a, b
2625  0B2C  CE 00       	adc	a,0x00
2626  0B2E  47          	ld	b, a
2627  0B2F  0A          	ld	a, (bc)
2628  0B30  4F          	ld	c, a
2629  0B31  AF          	xor	a,a
2630  0B32  47          	ld	b,a
2631  0B33  EB          	ex	de,hl
2632  0B34  ED 42       	sbc	hl,bc
2633  0B36  CD 00 00    	call	_abs_fastcall
2634  0B39  22 00 00    	ld	(_tmp_ui),hl
2635  0B3C  21 01 00    	ld	hl,_tmp_ui + 1
2636  0B3F  DD 7E 06    	ld	a,(ix+6)
2637  0B42  06 00       	ld	b,0x00
2638  0B44  2B          	dec	hl
2639  0B45  96          	sub	a, (hl)
2640  0B46  78          	ld	a, b
2641  0B47  23          	inc	hl
2642  0B48  9E          	sbc	a, (hl)
2643  0B49  30 04       	jr	NC,l_spr_collision_check_00105
2644  0B4B  2E 00       	ld	l,0x00
2645  0B4D  18 34       	jr	l_spr_collision_check_00109
2646  0B4F              l_spr_collision_check_00105:
2647  0B4F  DD 7E 04    	ld	a,(ix+4)
2648  0B52  F5          	push	af
2649  0B53  33          	inc	sp
2650  0B54  CD AA 0A    	call	_spr_calc_hor
2651  0B57  33          	inc	sp
2652  0B58  4D          	ld	c, l
2653  0B59  C5          	push	bc
2654  0B5A  DD 7E 05    	ld	a,(ix+5)
2655  0B5D  F5          	push	af
2656  0B5E  33          	inc	sp
2657  0B5F  CD AA 0A    	call	_spr_calc_hor
2658  0B62  33          	inc	sp
2659  0B63  C1          	pop	bc
2660  0B64  5D          	ld	e,l
2661  0B65  69          	ld	l, c
2662  0B66  AF          	xor	a,a
2663  0B67  67          	ld	h,a
2664  0B68  57          	ld	d,a
2665  0B69  ED 52       	sbc	hl,de
2666  0B6B  CD 00 00    	call	_abs_fastcall
2667  0B6E  22 00 00    	ld	(_tmp_ui),hl
2668  0B71  3E 03       	ld	a,0x03
2669  0B73  21 00 00    	ld	hl,_tmp_ui
2670  0B76  BE          	cp	a, (hl)
2671  0B77  3E 00       	ld	a,0x00
2672  0B79  23          	inc	hl
2673  0B7A  9E          	sbc	a, (hl)
2674  0B7B  30 04       	jr	NC,l_spr_collision_check_00107
2675  0B7D  2E 00       	ld	l,0x00
2676  0B7F  18 02       	jr	l_spr_collision_check_00109
2677  0B81              l_spr_collision_check_00107:
2678  0B81  2E 01       	ld	l,0x01
2679  0B83              l_spr_collision_check_00109:
2680  0B83  DD E1       	pop	ix
2681  0B85  C9          	ret
2682  0B86              	SECTION code_compiler
2683  0B86              ;	---------------------------------
2684  0B86              ; Function spr_kill_all
2685  0B86              ; ---------------------------------
2686  0B86              _spr_kill_all:
2687  0B86  21 00 00    	ld	hl,_sprite
2688  0B89  36 00       	ld	(hl),0x00
2689  0B8B              l_spr_kill_all_00102:
2690  0B8B  2A 00 00    	ld	hl,(_sprite)
2691  0B8E  CD BA 07    	call	_spr_destroy
2692  0B91  21 00 00    	ld	hl,_sprite
2693  0B94  7E          	ld	a,(hl)
2694  0B95  3C          	inc	a
2695  0B96  77          	ld	(hl),a
2696  0B97  D6 08       	sub	a,0x08
2697  0B99  38 F0       	jr	C,l_spr_kill_all_00102
2698  0B9B  C9          	ret
2699  0B9C              	SECTION code_compiler
2700  0B9C              ;	---------------------------------
2701  0B9C              ; Function spr_back_clr
2702  0B9C              ; ---------------------------------
2703  0B9C              _spr_back_clr:
2704  0B9C  2A FF FF    	ld	hl,(_s_col0 - 1)
2705  0B9F  3A 00 00    	ld	a,(_s_lin0)
2706  0BA2  6F          	ld	l,a
2707  0BA3  E5          	push	hl
2708  0BA4  CD 00 00    	call	_spr_calc_index
2709  0BA7  F1          	pop	af
2710  0BA8  7D          	ld	a,l
2711  0BA9  32 00 00    	ld	(_sprite_curr_index),a
2712  0BAC  21 00 00    	ld	hl,_s_lin0
2713  0BAF  7E          	ld	a, (hl)
2714  0BB0  E6 0F       	and	a,0x0f
2715  0BB2  4F          	ld	c, a
2716  0BB3  7E          	ld	a, (hl)
2717  0BB4  07          	rlca
2718  0BB5  07          	rlca
2719  0BB6  07          	rlca
2720  0BB7  07          	rlca
2721  0BB8  E6 0F       	and	a,0x0f
2722  0BBA  47          	ld	b, a
2723  0BBB  21 00 00    	ld	hl,_s_col0
2724  0BBE  CB 46       	bit	0, (hl)
2725  0BC0  20 69       	jr	NZ,l_spr_back_clr_00108
2726  0BC2  79          	ld	a, c
2727  0BC3  B7          	or	a, a
2728  0BC4  20 20       	jr	NZ,l_spr_back_clr_00102
2729  0BC6  2A 00 00    	ld	hl,(_sprite_curr_index)
2730  0BC9  26 00       	ld	h,0x00
2731  0BCB  01 00 00    	ld	bc,_scr_map
2732  0BCE  09          	add	hl,bc
2733  0BCF  46          	ld	b,(hl)
2734  0BD0  3A 00 00    	ld	a,(_s_col0)
2735  0BD3  F5          	push	af
2736  0BD4  33          	inc	sp
2737  0BD5  3A 00 00    	ld	a,(_s_lin0)
2738  0BD8  48          	ld	c,b
2739  0BD9  47          	ld	b,a
2740  0BDA  C5          	push	bc
2741  0BDB  CD EE 0C    	call	_spr_tile_paint
2742  0BDE  F1          	pop	af
2743  0BDF  33          	inc	sp
2744  0BE0  CD 00 00    	call	_player_pick_item
2745  0BE3  C3 ED 0C    	jp	l_spr_back_clr_00110
2746  0BE6              l_spr_back_clr_00102:
2747  0BE6  78          	ld	a, b
2748  0BE7  07          	rlca
2749  0BE8  07          	rlca
2750  0BE9  07          	rlca
2751  0BEA  07          	rlca
2752  0BEB  E6 F0       	and	a,0xf0
2753  0BED  47          	ld	b, a
2754  0BEE  2A 00 00    	ld	hl,(_sprite_curr_index)
2755  0BF1  26 00       	ld	h,0x00
2756  0BF3  11 00 00    	ld	de,_scr_map
2757  0BF6  19          	add	hl,de
2758  0BF7  56          	ld	d, (hl)
2759  0BF8  3A 00 00    	ld	a,(_s_col0)
2760  0BFB  C5          	push	bc
2761  0BFC  F5          	push	af
2762  0BFD  33          	inc	sp
2763  0BFE  4A          	ld	c, d
2764  0BFF  C5          	push	bc
2765  0C00  CD EE 0C    	call	_spr_tile_paint
2766  0C03  F1          	pop	af
2767  0C04  33          	inc	sp
2768  0C05  C1          	pop	bc
2769  0C06  78          	ld	a, b
2770  0C07  C6 10       	add	a,0x10
2771  0C09  57          	ld	d, a
2772  0C0A  21 00 00    	ld	hl,_sprite_curr_index
2773  0C0D  7E          	ld	a, (hl)
2774  0C0E  C6 10       	add	a,0x10
2775  0C10  77          	ld	(hl), a
2776  0C11  C6 00       	add	a,+((_scr_map) & 0xFF)
2777  0C13  4F          	ld	c, a
2778  0C14  3E 00       	ld	a, +((_scr_map) / 256)
2779  0C16  CE 00       	adc	a,0x00
2780  0C18  47          	ld	b, a
2781  0C19  0A          	ld	a, (bc)
2782  0C1A  47          	ld	b, a
2783  0C1B  3A 00 00    	ld	a,(_s_col0)
2784  0C1E  5A          	ld	e,d
2785  0C1F  57          	ld	d,a
2786  0C20  D5          	push	de
2787  0C21  C5          	push	bc
2788  0C22  33          	inc	sp
2789  0C23  CD EE 0C    	call	_spr_tile_paint
2790  0C26  F1          	pop	af
2791  0C27  33          	inc	sp
2792  0C28  C3 ED 0C    	jp	l_spr_back_clr_00110
2793  0C2B              l_spr_back_clr_00108:
2794  0C2B  21 00 00    	ld	hl,_s_col0
2795  0C2E  56          	ld	d, (hl)
2796  0C2F  15          	dec	d
2797  0C30  79          	ld	a, c
2798  0C31  B7          	or	a, a
2799  0C32  20 3A       	jr	NZ,l_spr_back_clr_00105
2800  0C34  2A 00 00    	ld	hl,(_sprite_curr_index)
2801  0C37  26 00       	ld	h,0x00
2802  0C39  01 00 00    	ld	bc,_scr_map
2803  0C3C  09          	add	hl,bc
2804  0C3D  46          	ld	b,(hl)
2805  0C3E  D5          	push	de
2806  0C3F  33          	inc	sp
2807  0C40  3A 00 00    	ld	a,(_s_lin0)
2808  0C43  48          	ld	c,b
2809  0C44  47          	ld	b,a
2810  0C45  C5          	push	bc
2811  0C46  CD EE 0C    	call	_spr_tile_paint
2812  0C49  F1          	pop	af
2813  0C4A  33          	inc	sp
2814  0C4B  21 00 00    	ld	hl,_sprite_curr_index
2815  0C4E  34          	inc	(hl)
2816  0C4F  21 00 00    	ld	hl,_s_col0
2817  0C52  46          	ld	b, (hl)
2818  0C53  04          	inc	b
2819  0C54  2A 00 00    	ld	hl,(_sprite_curr_index)
2820  0C57  26 00       	ld	h,0x00
2821  0C59  11 00 00    	ld	de,_scr_map
2822  0C5C  19          	add	hl,de
2823  0C5D  56          	ld	d, (hl)
2824  0C5E  C5          	push	bc
2825  0C5F  33          	inc	sp
2826  0C60  3A 00 00    	ld	a,(_s_lin0)
2827  0C63  5A          	ld	e,d
2828  0C64  57          	ld	d,a
2829  0C65  D5          	push	de
2830  0C66  CD EE 0C    	call	_spr_tile_paint
2831  0C69  F1          	pop	af
2832  0C6A  33          	inc	sp
2833  0C6B  C3 ED 0C    	jp	l_spr_back_clr_00110
2834  0C6E              l_spr_back_clr_00105:
2835  0C6E  78          	ld	a, b
2836  0C6F  07          	rlca
2837  0C70  07          	rlca
2838  0C71  07          	rlca
2839  0C72  07          	rlca
2840  0C73  E6 F0       	and	a,0xf0
2841  0C75  47          	ld	b, a
2842  0C76  3A 00 00    	ld	a,(_sprite_curr_index)
2843  0C79  C6 00       	add	a,+((_scr_map) & 0xFF)
2844  0C7B  4F          	ld	c,a
2845  0C7C  3E 00       	ld	a,+((_scr_map) / 256)
2846  0C7E  CE 00       	adc	a,0x00
2847  0C80  67          	ld	h, a
2848  0C81  69          	ld	l, c
2849  0C82  7E          	ld	a, (hl)
2850  0C83  C5          	push	bc
2851  0C84  58          	ld	e,b
2852  0C85  D5          	push	de
2853  0C86  F5          	push	af
2854  0C87  33          	inc	sp
2855  0C88  CD EE 0C    	call	_spr_tile_paint
2856  0C8B  F1          	pop	af
2857  0C8C  33          	inc	sp
2858  0C8D  C1          	pop	bc
2859  0C8E  21 00 00    	ld	hl,_sprite_curr_index
2860  0C91  34          	inc	(hl)
2861  0C92  21 00 00    	ld	hl,_s_col0
2862  0C95  4E          	ld	c, (hl)
2863  0C96  0C          	inc	c
2864  0C97  2A 00 00    	ld	hl,(_sprite_curr_index)
2865  0C9A  26 00       	ld	h,0x00
2866  0C9C  11 00 00    	ld	de,_scr_map
2867  0C9F  19          	add	hl,de
2868  0CA0  56          	ld	d, (hl)
2869  0CA1  C5          	push	bc
2870  0CA2  79          	ld	a, c
2871  0CA3  F5          	push	af
2872  0CA4  33          	inc	sp
2873  0CA5  4A          	ld	c, d
2874  0CA6  C5          	push	bc
2875  0CA7  CD EE 0C    	call	_spr_tile_paint
2876  0CAA  F1          	pop	af
2877  0CAB  33          	inc	sp
2878  0CAC  C1          	pop	bc
2879  0CAD  78          	ld	a, b
2880  0CAE  C6 10       	add	a,0x10
2881  0CB0  4F          	ld	c, a
2882  0CB1  21 00 00    	ld	hl,_sprite_curr_index
2883  0CB4  7E          	ld	a, (hl)
2884  0CB5  C6 0F       	add	a,0x0f
2885  0CB7  77          	ld	(hl), a
2886  0CB8  21 00 00    	ld	hl,_s_col0
2887  0CBB  46          	ld	b, (hl)
2888  0CBC  05          	dec	b
2889  0CBD  2A 00 00    	ld	hl,(_sprite_curr_index)
2890  0CC0  26 00       	ld	h,0x00
2891  0CC2  11 00 00    	ld	de,_scr_map
2892  0CC5  19          	add	hl,de
2893  0CC6  66          	ld	h, (hl)
2894  0CC7  EB          	ex	de,hl
2895  0CC8  C5          	push	bc
2896  0CC9  C5          	push	bc
2897  0CCA  D5          	push	de
2898  0CCB  33          	inc	sp
2899  0CCC  CD EE 0C    	call	_spr_tile_paint
2900  0CCF  F1          	pop	af
2901  0CD0  33          	inc	sp
2902  0CD1  C1          	pop	bc
2903  0CD2  21 00 00    	ld	hl,_sprite_curr_index
2904  0CD5  34          	inc	(hl)
2905  0CD6  21 00 00    	ld	hl,_s_col0
2906  0CD9  46          	ld	b, (hl)
2907  0CDA  04          	inc	b
2908  0CDB  2A 00 00    	ld	hl,(_sprite_curr_index)
2909  0CDE  26 00       	ld	h,0x00
2910  0CE0  11 00 00    	ld	de,_scr_map
2911  0CE3  19          	add	hl,de
2912  0CE4  66          	ld	h, (hl)
2913  0CE5  C5          	push	bc
2914  0CE6  E5          	push	hl
2915  0CE7  33          	inc	sp
2916  0CE8  CD EE 0C    	call	_spr_tile_paint
2917  0CEB  F1          	pop	af
2918  0CEC  33          	inc	sp
2919  0CED              l_spr_back_clr_00110:
2920  0CED  C9          	ret
2921  0CEE              	SECTION code_compiler
2922  0CEE              ;	---------------------------------
2923  0CEE              ; Function spr_tile_paint
2924  0CEE              ; ---------------------------------
2925  0CEE              _spr_tile_paint:
2926  0CEE  CD 00 00    	call	___sdcc_enter_ix
2927  0CF1  DD 7E 04    	ld	a,(ix+4)
2928  0CF4  B7          	or	a, a
2929  0CF5  20 3E       	jr	NZ,l_spr_tile_paint_00102
2930  0CF7  DD 7E 06    	ld	a,(ix+6)
2931  0CFA  F5          	push	af
2932  0CFB  33          	inc	sp
2933  0CFC  DD 56 05    	ld	d,(ix+5)
2934  0CFF  1E 49       	ld	e,0x49
2935  0D01  D5          	push	de
2936  0D02  CD 00 00    	call	_NIRVANAP_fillC_callee
2937  0D05  DD 7E 05    	ld	a,(ix+5)
2938  0D08  C6 08       	add	a,0x08
2939  0D0A  47          	ld	b, a
2940  0D0B  DD 7E 06    	ld	a,(ix+6)
2941  0D0E  F5          	push	af
2942  0D0F  33          	inc	sp
2943  0D10  C5          	push	bc
2944  0D11  33          	inc	sp
2945  0D12  3E 49       	ld	a,0x49
2946  0D14  F5          	push	af
2947  0D15  33          	inc	sp
2948  0D16  CD 00 00    	call	_NIRVANAP_fillC_callee
2949  0D19  DD 56 06    	ld	d,(ix+6)
2950  0D1C  14          	inc	d
2951  0D1D  D5          	push	de
2952  0D1E  D5          	push	de
2953  0D1F  33          	inc	sp
2954  0D20  DD 56 05    	ld	d,(ix+5)
2955  0D23  1E 49       	ld	e,0x49
2956  0D25  D5          	push	de
2957  0D26  CD 00 00    	call	_NIRVANAP_fillC_callee
2958  0D29  33          	inc	sp
2959  0D2A  C5          	push	bc
2960  0D2B  33          	inc	sp
2961  0D2C  3E 49       	ld	a,0x49
2962  0D2E  F5          	push	af
2963  0D2F  33          	inc	sp
2964  0D30  CD 00 00    	call	_NIRVANAP_fillC_callee
2965  0D33  18 0F       	jr	l_spr_tile_paint_00104
2966  0D35              l_spr_tile_paint_00102:
2967  0D35  DD 66 06    	ld	h,(ix+6)
2968  0D38  DD 6E 05    	ld	l,(ix+5)
2969  0D3B  E5          	push	hl
2970  0D3C  DD 7E 04    	ld	a,(ix+4)
2971  0D3F  F5          	push	af
2972  0D40  33          	inc	sp
2973  0D41  CD 00 00    	call	_NIRVANAP_drawT_callee
2974  0D44              l_spr_tile_paint_00104:
2975  0D44  DD E1       	pop	ix
2976  0D46  C9          	ret
2977  0D47              	SECTION code_compiler
2978  0D47              ;	---------------------------------
2979  0D47              ; Function spr_init_anim
2980  0D47              ; ---------------------------------
2981  0D47              _spr_init_anim:
2982  0D47  01 00 00    	ld	bc,_anim_lin+0
2983  0D4A  1E 00       	ld	e,0x00
2984  0D4C              l_spr_init_anim_00102:
2985  0D4C  6B          	ld	l,e
2986  0D4D  26 00       	ld	h,0x00
2987  0D4F  09          	add	hl, bc
2988  0D50  36 FF       	ld	(hl),0xff
2989  0D52  1C          	inc	e
2990  0D53  7B          	ld	a, e
2991  0D54  D6 08       	sub	a,0x08
2992  0D56  38 F4       	jr	C,l_spr_init_anim_00102
2993  0D58  C9          	ret
2994  0D59              	SECTION code_compiler
2995  0D59              ;	---------------------------------
2996  0D59              ; Function spr_add_anim
2997  0D59              ; ---------------------------------
2998  0D59              _spr_add_anim:
2999  0D59  CD 00 00    	call	___sdcc_enter_ix
3000  0D5C  F5          	push	af
3001  0D5D  01 00 00    	ld	bc,0x0000
3002  0D60              l_spr_add_anim_00104:
3003  0D60  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3004  0D62  80          	add	a, b
3005  0D63  DD 77 FE    	ld	(ix-2),a
3006  0D66  3E 00       	ld	a, +((_anim_lin) / 256)
3007  0D68  CE 00       	adc	a,0x00
3008  0D6A  DD 77 FF    	ld	(ix-1),a
3009  0D6D  E1          	pop	hl
3010  0D6E  5E          	ld	e,(hl)
3011  0D6F  E5          	push	hl
3012  0D70  1C          	inc	e
3013  0D71  20 34       	jr	NZ,l_spr_add_anim_00105
3014  0D73  E1          	pop	hl
3015  0D74  E5          	push	hl
3016  0D75  DD 7E 04    	ld	a,(ix+4)
3017  0D78  77          	ld	(hl), a
3018  0D79  3E 00       	ld	a, +((_anim_col) & 0xFF)
3019  0D7B  81          	add	a, c
3020  0D7C  5F          	ld	e, a
3021  0D7D  3E 00       	ld	a, +((_anim_col) / 256)
3022  0D7F  CE 00       	adc	a,0x00
3023  0D81  57          	ld	d, a
3024  0D82  DD 7E 05    	ld	a,(ix+5)
3025  0D85  12          	ld	(de), a
3026  0D86  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3027  0D88  81          	add	a, c
3028  0D89  5F          	ld	e, a
3029  0D8A  3E 00       	ld	a, +((_anim_tile) / 256)
3030  0D8C  CE 00       	adc	a,0x00
3031  0D8E  57          	ld	d, a
3032  0D8F  DD 7E 06    	ld	a,(ix+6)
3033  0D92  12          	ld	(de), a
3034  0D93  11 00 00    	ld	de,_anim_int+0
3035  0D96  69          	ld	l,c
3036  0D97  26 00       	ld	h,0x00
3037  0D99  19          	add	hl, de
3038  0D9A  06 00       	ld	b,0x00
3039  0D9C  70          	ld	(hl),b
3040  0D9D  21 00 00    	ld	hl,_anim_end
3041  0DA0  09          	add	hl,bc
3042  0DA1  DD 7E 07    	ld	a,(ix+7)
3043  0DA4  77          	ld	(hl),a
3044  0DA5  18 07       	jr	l_spr_add_anim_00106
3045  0DA7              l_spr_add_anim_00105:
3046  0DA7  04          	inc	b
3047  0DA8  78          	ld	a,b
3048  0DA9  48          	ld	c,b
3049  0DAA  D6 08       	sub	a,0x08
3050  0DAC  38 B2       	jr	C,l_spr_add_anim_00104
3051  0DAE              l_spr_add_anim_00106:
3052  0DAE  F1          	pop	af
3053  0DAF  DD E1       	pop	ix
3054  0DB1  C9          	ret
3055  0DB2              	SECTION code_compiler
3056  0DB2              ;	---------------------------------
3057  0DB2              ; Function spr_play_anim
3058  0DB2              ; ---------------------------------
3059  0DB2              _spr_play_anim:
3060  0DB2  CD 00 00    	call	___sdcc_enter_ix
3061  0DB5  F5          	push	af
3062  0DB6  F5          	push	af
3063  0DB7  3B          	dec	sp
3064  0DB8  DD 36 FB 01 	ld	(ix-5),0x01
3065  0DBC  0E 00       	ld	c,0x00
3066  0DBE              l_spr_play_anim_00109:
3067  0DBE  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3068  0DC0  81          	add	a, c
3069  0DC1  5F          	ld	e, a
3070  0DC2  3E 00       	ld	a, +((_anim_lin) / 256)
3071  0DC4  CE 00       	adc	a,0x00
3072  0DC6  57          	ld	d, a
3073  0DC7  1A          	ld	a, (de)
3074  0DC8  3C          	inc	a
3075  0DC9  28 76       	jr	Z,l_spr_play_anim_00110
3076  0DCB  DD 7E FB    	ld	a,(ix-5)
3077  0DCE  B7          	or	a, a
3078  0DCF  28 05       	jr	Z,l_spr_play_anim_00102
3079  0DD1  76          	halt
3080  0DD2  DD 36 FB 00 	ld	(ix-5),0x00
3081  0DD6              l_spr_play_anim_00102:
3082  0DD6  3E 00       	ld	a, +((_anim_int) & 0xFF)
3083  0DD8  81          	add	a, c
3084  0DD9  DD 77 FE    	ld	(ix-2),a
3085  0DDC  6F          	ld	l,a
3086  0DDD  3E 00       	ld	a,+((_anim_int) / 256)
3087  0DDF  CE 00       	adc	a,0x00
3088  0DE1  DD 77 FF    	ld	(ix-1),a
3089  0DE4  67          	ld	h,a
3090  0DE5  7E          	ld	a, (hl)
3091  0DE6  DD 77 FD    	ld	(ix-3),a
3092  0DE9  06 00       	ld	b,0x00
3093  0DEB  21 00 00    	ld	hl,_anim_end
3094  0DEE  09          	add	hl, bc
3095  0DEF  7E          	ld	a, (hl)
3096  0DF0  DD 77 FC    	ld	(ix-4),a
3097  0DF3  1A          	ld	a, (de)
3098  0DF4  47          	ld	b, a
3099  0DF5  DD 7E FD    	ld	a,(ix-3)
3100  0DF8  DD 96 FC    	sub	a,(ix-4)
3101  0DFB  30 2B       	jr	NC,l_spr_play_anim_00104
3102  0DFD  3E 00       	ld	a, +((_anim_col) & 0xFF)
3103  0DFF  81          	add	a, c
3104  0E00  6F          	ld	l, a
3105  0E01  3E 00       	ld	a, +((_anim_col) / 256)
3106  0E03  CE 00       	adc	a,0x00
3107  0E05  67          	ld	h, a
3108  0E06  56          	ld	d, (hl)
3109  0E07  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3110  0E09  81          	add	a, c
3111  0E0A  6F          	ld	l, a
3112  0E0B  3E 00       	ld	a, +((_anim_tile) / 256)
3113  0E0D  CE 00       	adc	a,0x00
3114  0E0F  67          	ld	h, a
3115  0E10  7E          	ld	a,(hl)
3116  0E11  DD 86 FD    	add	a,(ix-3)
3117  0E14  C5          	push	bc
3118  0E15  58          	ld	e,b
3119  0E16  D5          	push	de
3120  0E17  F5          	push	af
3121  0E18  33          	inc	sp
3122  0E19  CD 00 00    	call	_NIRVANAP_drawT_callee
3123  0E1C  C1          	pop	bc
3124  0E1D  DD 6E FE    	ld	l,(ix-2)
3125  0E20  DD 66 FF    	ld	h,(ix-1)
3126  0E23  46          	ld	b,(hl)
3127  0E24  04          	inc	b
3128  0E25  70          	ld	(hl), b
3129  0E26  18 19       	jr	l_spr_play_anim_00110
3130  0E28              l_spr_play_anim_00104:
3131  0E28  3E 00       	ld	a, +((_anim_col) & 0xFF)
3132  0E2A  81          	add	a, c
3133  0E2B  6F          	ld	l, a
3134  0E2C  3E 00       	ld	a, +((_anim_col) / 256)
3135  0E2E  CE 00       	adc	a,0x00
3136  0E30  67          	ld	h, a
3137  0E31  66          	ld	h, (hl)
3138  0E32  C5          	push	bc
3139  0E33  D5          	push	de
3140  0E34  68          	ld	l,b
3141  0E35  E5          	push	hl
3142  0E36  AF          	xor	a, a
3143  0E37  F5          	push	af
3144  0E38  33          	inc	sp
3145  0E39  CD 00 00    	call	_NIRVANAP_drawT_callee
3146  0E3C  D1          	pop	de
3147  0E3D  C1          	pop	bc
3148  0E3E  3E FF       	ld	a,0xff
3149  0E40  12          	ld	(de), a
3150  0E41              l_spr_play_anim_00110:
3151  0E41  0C          	inc	c
3152  0E42  79          	ld	a, c
3153  0E43  D6 08       	sub	a,0x08
3154  0E45  DA BE 0D    	jp	C, l_spr_play_anim_00109
3155  0E48  DD F9       	ld	sp, ix
3156  0E4A  DD E1       	pop	ix
3157  0E4C  C9          	ret
3158  0E4D              	SECTION IGNORE
3159  0000              
