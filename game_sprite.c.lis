1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_check_map
190   0000              	GLOBAL _spr_chktime
191   0000              	GLOBAL _spr_move_up
192   0000              	GLOBAL _spr_move_down
193   0000              	GLOBAL _spr_move_horizontal
194   0000              	GLOBAL _spr_move_right
195   0000              	GLOBAL _spr_move_left
196   0000              	GLOBAL _spr_redraw
197   0000              	GLOBAL _spr_killed
198   0000              	GLOBAL _spr_anim_kill
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_set_fall
201   0000              	GLOBAL _spr_tile
202   0000              	GLOBAL _spr_tile_dir
203   0000              	GLOBAL _spr_draw_background
204   0000              	GLOBAL _spr_draw_clear
205   0000              	GLOBAL _spr_back_paint
206   0000              	GLOBAL _spr_brick_anim
207   0000              	GLOBAL _spr_draw_index
208   0000              	GLOBAL _spr_draw_row
209   0000              	GLOBAL _spr_calc_hor
210   0000              	GLOBAL _spr_collision_check
211   0000              	GLOBAL _spr_kill_all
212   0000              	GLOBAL _spr_back_clr
213   0000              	GLOBAL _spr_tile_paint
214   0000              ;--------------------------------------------------------
215   0000              ; Externals used
216   0000              ;--------------------------------------------------------
217   0000              	GLOBAL _debug3
218   0000              	GLOBAL _debug2
219   0000              	GLOBAL _debug
220   0000              	GLOBAL _zx_print_str
221   0000              	GLOBAL _zx_print_int
222   0000              	GLOBAL _zx_print_chr
223   0000              	GLOBAL _zx_print_bonus_time
224   0000              	GLOBAL _zx_isr
225   0000              	GLOBAL _z80_otdr_callee
226   0000              	GLOBAL _z80_otdr
227   0000              	GLOBAL _z80_otir_callee
228   0000              	GLOBAL _z80_otir
229   0000              	GLOBAL _z80_outp_callee
230   0000              	GLOBAL _z80_outp
231   0000              	GLOBAL _z80_indr_callee
232   0000              	GLOBAL _z80_indr
233   0000              	GLOBAL _z80_inir_callee
234   0000              	GLOBAL _z80_inir
235   0000              	GLOBAL _z80_inp_fastcall
236   0000              	GLOBAL _z80_inp
237   0000              	GLOBAL _z80_set_int_state_fastcall
238   0000              	GLOBAL _z80_set_int_state
239   0000              	GLOBAL _z80_get_int_state
240   0000              	GLOBAL _z80_delay_tstate_fastcall
241   0000              	GLOBAL _z80_delay_tstate
242   0000              	GLOBAL _z80_delay_ms_fastcall
243   0000              	GLOBAL _z80_delay_ms
244   0000              	GLOBAL _im2_remove_generic_callback_callee
245   0000              	GLOBAL _im2_remove_generic_callback
246   0000              	GLOBAL _im2_prepend_generic_callback_callee
247   0000              	GLOBAL _im2_prepend_generic_callback
248   0000              	GLOBAL _im2_append_generic_callback_callee
249   0000              	GLOBAL _im2_append_generic_callback
250   0000              	GLOBAL _im2_create_generic_isr_8080_callee
251   0000              	GLOBAL _im2_create_generic_isr_8080
252   0000              	GLOBAL _im2_create_generic_isr_callee
253   0000              	GLOBAL _im2_create_generic_isr
254   0000              	GLOBAL _im2_install_isr_callee
255   0000              	GLOBAL _im2_install_isr
256   0000              	GLOBAL _im2_init_fastcall
257   0000              	GLOBAL _im2_init
258   0000              	GLOBAL _sound_hit_brick
259   0000              	GLOBAL _sound_hit_enemy
260   0000              	GLOBAL _sound_kill
261   0000              	GLOBAL _sound_enter_enemy
262   0000              	GLOBAL _sound_coin
263   0000              	GLOBAL _sound_jump
264   0000              	GLOBAL _sound_slide
265   0000              	GLOBAL _game_joystick_set_menu
266   0000              	GLOBAL _game_joystick_set
267   0000              	GLOBAL _game_joystick_change
268   0000              	GLOBAL _game_print_header
269   0000              	GLOBAL _game_end
270   0000              	GLOBAL _game_score_osd
271   0000              	GLOBAL _game_phase_print_score_back
272   0000              	GLOBAL _game_bonus_clock
273   0000              	GLOBAL _game_bonus_summary_player
274   0000              	GLOBAL _game_bonus_summary
275   0000              	GLOBAL _game_check_time
276   0000              	GLOBAL _game_menu_config
277   0000              	GLOBAL _game_menu
278   0000              	GLOBAL _game_rotate_attrib
279   0000              	GLOBAL _game_colour_message
280   0000              	GLOBAL _game_paint_attrib_lin_h
281   0000              	GLOBAL _game_paint_attrib_lin
282   0000              	GLOBAL _game_paint_attrib
283   0000              	GLOBAL _game_menu_paint
284   0000              	GLOBAL _game_menu_top_paint
285   0000              	GLOBAL _game_menu_handle
286   0000              	GLOBAL _game_menu_e
287   0000              	GLOBAL _game_menu_back
288   0000              	GLOBAL _game_print_score
289   0000              	GLOBAL _game_unfreeze_all
290   0000              	GLOBAL _game_freeze_all
291   0000              	GLOBAL _game_freeze
292   0000              	GLOBAL _game_enemy_add_get_index
293   0000              	GLOBAL _game_check_maze
294   0000              	GLOBAL _game_loop
295   0000              	GLOBAL _game_phase_init
296   0000              	GLOBAL _game_start_timer
297   0000              	GLOBAL _game_tick
298   0000              	GLOBAL _game_print_lives
299   0000              	GLOBAL _game_print_footer
300   0000              	GLOBAL _game_fill_row
301   0000              	GLOBAL _enemy_ugly_fix
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip_move
309   0000              	GLOBAL _enemy_trip
310   0000              	GLOBAL _enemy_fighterfly
311   0000              	GLOBAL _enemy_fireball_green
312   0000              	GLOBAL _enemy_fireball_red
313   0000              	GLOBAL _enemy_slipice
314   0000              	GLOBAL _enemy_standard
315   0000              	GLOBAL _enemy_turn
316   0000              	GLOBAL _enemy_flip_sidestepper
317   0000              	GLOBAL _enemy_flip
318   0000              	GLOBAL _enemy_flip_change_dir
319   0000              	GLOBAL _enemy_hit
320   0000              	GLOBAL _enemy_collision_turn_dir
321   0000              	GLOBAL _enemy_collision
322   0000              	GLOBAL _enemy_coin1
323   0000              	GLOBAL _ay_fx_play
324   0000              	GLOBAL _ay_midi_play
325   0000              	GLOBAL _ay_is_playing
326   0000              	GLOBAL _ay_reset
327   0000              	GLOBAL _player_check_floor
328   0000              	GLOBAL _player_hit_brick_clear
329   0000              	GLOBAL _player_lost_life
330   0000              	GLOBAL _player_score_add
331   0000              	GLOBAL _player_coin
332   0000              	GLOBAL _player_hit_pow
333   0000              	GLOBAL _player_hit_brick
334   0000              	GLOBAL _player_move_input
335   0000              	GLOBAL _player_turn
336   0000              	GLOBAL _player_move
337   0000              	GLOBAL _player_restart
338   0000              	GLOBAL _player_kill
339   0000              	GLOBAL _player_check_input
340   0000              	GLOBAL _player_collision
341   0000              	GLOBAL _player_calc_slide
342   0000              	GLOBAL _player_init
343   0000              	GLOBAL _test_func
344   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawTW_raw
346   0000              	GLOBAL _NIRVANAP_drawTW_callee
347   0000              	GLOBAL _NIRVANAP_drawTW
348   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawW_raw
350   0000              	GLOBAL _NIRVANAP_drawW_callee
351   0000              	GLOBAL _NIRVANAP_drawW
352   0000              	GLOBAL _NIRVANAP_spriteT_callee
353   0000              	GLOBAL _NIRVANAP_spriteT
354   0000              	GLOBAL _NIRVANAP_fillC_callee
355   0000              	GLOBAL _NIRVANAP_fillC
356   0000              	GLOBAL _NIRVANAP_readC_callee
357   0000              	GLOBAL _NIRVANAP_readC
358   0000              	GLOBAL _NIRVANAP_paintC_callee
359   0000              	GLOBAL _NIRVANAP_paintC
360   0000              	GLOBAL _NIRVANAP_printC_callee
361   0000              	GLOBAL _NIRVANAP_printC
362   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
363   0000              	GLOBAL _NIRVANAP_fillT_raw
364   0000              	GLOBAL _NIRVANAP_fillT_callee
365   0000              	GLOBAL _NIRVANAP_fillT
366   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawT_raw
368   0000              	GLOBAL _NIRVANAP_drawT_callee
369   0000              	GLOBAL _NIRVANAP_drawT
370   0000              	GLOBAL _NIRVANAP_stop
371   0000              	GLOBAL _NIRVANAP_start
372   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
373   0000              	GLOBAL _intrinsic_swap_word_32
374   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
375   0000              	GLOBAL _intrinsic_swap_endian_32
376   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
377   0000              	GLOBAL _intrinsic_swap_endian_16
378   0000              	GLOBAL _intrinsic_return_de
379   0000              	GLOBAL _intrinsic_return_bc
380   0000              	GLOBAL _intrinsic_exx
381   0000              	GLOBAL _intrinsic_ex_de_hl
382   0000              	GLOBAL _intrinsic_nop
383   0000              	GLOBAL _intrinsic_im_2
384   0000              	GLOBAL _intrinsic_im_1
385   0000              	GLOBAL _intrinsic_im_0
386   0000              	GLOBAL _intrinsic_retn
387   0000              	GLOBAL _intrinsic_reti
388   0000              	GLOBAL _intrinsic_halt
389   0000              	GLOBAL _intrinsic_ei
390   0000              	GLOBAL _intrinsic_di
391   0000              	GLOBAL _intrinsic_stub
392   0000              	GLOBAL _intrinsic_outi
393   0000              	GLOBAL _intrinsic_ldi
394   0000              	GLOBAL _ulltoa_callee
395   0000              	GLOBAL _ulltoa
396   0000              	GLOBAL _strtoull_callee
397   0000              	GLOBAL _strtoull
398   0000              	GLOBAL _strtoll_callee
399   0000              	GLOBAL _strtoll
400   0000              	GLOBAL _lltoa_callee
401   0000              	GLOBAL _lltoa
402   0000              	GLOBAL _llabs_callee
403   0000              	GLOBAL _llabs
404   0000              	GLOBAL __lldivu__callee
405   0000              	GLOBAL __lldivu_
406   0000              	GLOBAL __lldiv__callee
407   0000              	GLOBAL __lldiv_
408   0000              	GLOBAL _atoll_callee
409   0000              	GLOBAL _atoll
410   0000              	GLOBAL _realloc_unlocked_callee
411   0000              	GLOBAL _realloc_unlocked
412   0000              	GLOBAL _malloc_unlocked_fastcall
413   0000              	GLOBAL _malloc_unlocked
414   0000              	GLOBAL _free_unlocked_fastcall
415   0000              	GLOBAL _free_unlocked
416   0000              	GLOBAL _calloc_unlocked_callee
417   0000              	GLOBAL _calloc_unlocked
418   0000              	GLOBAL _aligned_alloc_unlocked_callee
419   0000              	GLOBAL _aligned_alloc_unlocked
420   0000              	GLOBAL _realloc_callee
421   0000              	GLOBAL _realloc
422   0000              	GLOBAL _malloc_fastcall
423   0000              	GLOBAL _malloc
424   0000              	GLOBAL _free_fastcall
425   0000              	GLOBAL _free
426   0000              	GLOBAL _calloc_callee
427   0000              	GLOBAL _calloc
428   0000              	GLOBAL _aligned_alloc_callee
429   0000              	GLOBAL _aligned_alloc
430   0000              	GLOBAL _utoa_callee
431   0000              	GLOBAL _utoa
432   0000              	GLOBAL _ultoa_callee
433   0000              	GLOBAL _ultoa
434   0000              	GLOBAL _system_fastcall
435   0000              	GLOBAL _system
436   0000              	GLOBAL _strtoul_callee
437   0000              	GLOBAL _strtoul
438   0000              	GLOBAL _strtol_callee
439   0000              	GLOBAL _strtol
440   0000              	GLOBAL _strtof_callee
441   0000              	GLOBAL _strtof
442   0000              	GLOBAL _strtod_callee
443   0000              	GLOBAL _strtod
444   0000              	GLOBAL _srand_fastcall
445   0000              	GLOBAL _srand
446   0000              	GLOBAL _rand
447   0000              	GLOBAL _quick_exit_fastcall
448   0000              	GLOBAL _quick_exit
449   0000              	GLOBAL _qsort_callee
450   0000              	GLOBAL _qsort
451   0000              	GLOBAL _ltoa_callee
452   0000              	GLOBAL _ltoa
453   0000              	GLOBAL _labs_fastcall
454   0000              	GLOBAL _labs
455   0000              	GLOBAL _itoa_callee
456   0000              	GLOBAL _itoa
457   0000              	GLOBAL _ftoh_callee
458   0000              	GLOBAL _ftoh
459   0000              	GLOBAL _ftog_callee
460   0000              	GLOBAL _ftog
461   0000              	GLOBAL _ftoe_callee
462   0000              	GLOBAL _ftoe
463   0000              	GLOBAL _ftoa_callee
464   0000              	GLOBAL _ftoa
465   0000              	GLOBAL _exit_fastcall
466   0000              	GLOBAL _exit
467   0000              	GLOBAL _dtoh_callee
468   0000              	GLOBAL _dtoh
469   0000              	GLOBAL _dtog_callee
470   0000              	GLOBAL _dtog
471   0000              	GLOBAL _dtoe_callee
472   0000              	GLOBAL _dtoe
473   0000              	GLOBAL _dtoa_callee
474   0000              	GLOBAL _dtoa
475   0000              	GLOBAL _bsearch_callee
476   0000              	GLOBAL _bsearch
477   0000              	GLOBAL _atol_fastcall
478   0000              	GLOBAL _atol
479   0000              	GLOBAL _atoi_fastcall
480   0000              	GLOBAL _atoi
481   0000              	GLOBAL _atof_fastcall
482   0000              	GLOBAL _atof
483   0000              	GLOBAL _atexit_fastcall
484   0000              	GLOBAL _atexit
485   0000              	GLOBAL _at_quick_exit_fastcall
486   0000              	GLOBAL _at_quick_exit
487   0000              	GLOBAL _abs_fastcall
488   0000              	GLOBAL _abs
489   0000              	GLOBAL _abort
490   0000              	GLOBAL __strtou__callee
491   0000              	GLOBAL __strtou_
492   0000              	GLOBAL __strtoi__callee
493   0000              	GLOBAL __strtoi_
494   0000              	GLOBAL __random_uniform_xor_8__fastcall
495   0000              	GLOBAL __random_uniform_xor_8_
496   0000              	GLOBAL __random_uniform_xor_32__fastcall
497   0000              	GLOBAL __random_uniform_xor_32_
498   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
499   0000              	GLOBAL __random_uniform_cmwc_8_
500   0000              	GLOBAL __shellsort__callee
501   0000              	GLOBAL __shellsort_
502   0000              	GLOBAL __quicksort__callee
503   0000              	GLOBAL __quicksort_
504   0000              	GLOBAL __insertion_sort__callee
505   0000              	GLOBAL __insertion_sort_
506   0000              	GLOBAL __ldivu__callee
507   0000              	GLOBAL __ldivu_
508   0000              	GLOBAL __ldiv__callee
509   0000              	GLOBAL __ldiv_
510   0000              	GLOBAL __divu__callee
511   0000              	GLOBAL __divu_
512   0000              	GLOBAL __div__callee
513   0000              	GLOBAL __div_
514   0000              	GLOBAL _in_mouse_kempston_wheel_delta
515   0000              	GLOBAL _in_mouse_kempston_wheel
516   0000              	GLOBAL _in_mouse_kempston_callee
517   0000              	GLOBAL _in_mouse_kempston
518   0000              	GLOBAL _in_mouse_kempston_setpos_callee
519   0000              	GLOBAL _in_mouse_kempston_setpos
520   0000              	GLOBAL _in_mouse_kempston_reset
521   0000              	GLOBAL _in_mouse_kempston_init
522   0000              	GLOBAL _in_mouse_amx_wheel_delta
523   0000              	GLOBAL _in_mouse_amx_wheel
524   0000              	GLOBAL _in_mouse_amx_callee
525   0000              	GLOBAL _in_mouse_amx
526   0000              	GLOBAL _in_mouse_amx_setpos_callee
527   0000              	GLOBAL _in_mouse_amx_setpos
528   0000              	GLOBAL _in_mouse_amx_reset
529   0000              	GLOBAL _in_mouse_amx_init_callee
530   0000              	GLOBAL _in_mouse_amx_init
531   0000              	GLOBAL _in_stick_sinclair2
532   0000              	GLOBAL _in_stick_sinclair1
533   0000              	GLOBAL _in_stick_kempston
534   0000              	GLOBAL _in_stick_fuller
535   0000              	GLOBAL _in_stick_cursor
536   0000              	GLOBAL _in_stick_keyboard_fastcall
537   0000              	GLOBAL _in_stick_keyboard
538   0000              	GLOBAL _in_wait_nokey
539   0000              	GLOBAL _in_wait_key
540   0000              	GLOBAL _in_test_key
541   0000              	GLOBAL _in_pause_fastcall
542   0000              	GLOBAL _in_pause
543   0000              	GLOBAL _in_key_scancode_fastcall
544   0000              	GLOBAL _in_key_scancode
545   0000              	GLOBAL _in_key_pressed_fastcall
546   0000              	GLOBAL _in_key_pressed
547   0000              	GLOBAL _in_inkey
548   0000              	GLOBAL _zx_pattern_fill_callee
549   0000              	GLOBAL _zx_pattern_fill
550   0000              	GLOBAL _zx_saddrpup_fastcall
551   0000              	GLOBAL _zx_saddrpup
552   0000              	GLOBAL _zx_saddrpright_callee
553   0000              	GLOBAL _zx_saddrpright
554   0000              	GLOBAL _zx_saddrpleft_callee
555   0000              	GLOBAL _zx_saddrpleft
556   0000              	GLOBAL _zx_saddrpdown_fastcall
557   0000              	GLOBAL _zx_saddrpdown
558   0000              	GLOBAL _zx_saddrcup_fastcall
559   0000              	GLOBAL _zx_saddrcup
560   0000              	GLOBAL _zx_saddrcright_fastcall
561   0000              	GLOBAL _zx_saddrcright
562   0000              	GLOBAL _zx_saddrcleft_fastcall
563   0000              	GLOBAL _zx_saddrcleft
564   0000              	GLOBAL _zx_saddrcdown_fastcall
565   0000              	GLOBAL _zx_saddrcdown
566   0000              	GLOBAL _zx_saddr2py_fastcall
567   0000              	GLOBAL _zx_saddr2py
568   0000              	GLOBAL _zx_saddr2px_fastcall
569   0000              	GLOBAL _zx_saddr2px
570   0000              	GLOBAL _zx_saddr2cy_fastcall
571   0000              	GLOBAL _zx_saddr2cy
572   0000              	GLOBAL _zx_saddr2cx_fastcall
573   0000              	GLOBAL _zx_saddr2cx
574   0000              	GLOBAL _zx_saddr2aaddr_fastcall
575   0000              	GLOBAL _zx_saddr2aaddr
576   0000              	GLOBAL _zx_py2saddr_fastcall
577   0000              	GLOBAL _zx_py2saddr
578   0000              	GLOBAL _zx_py2aaddr_fastcall
579   0000              	GLOBAL _zx_py2aaddr
580   0000              	GLOBAL _zx_pxy2saddr_callee
581   0000              	GLOBAL _zx_pxy2saddr
582   0000              	GLOBAL _zx_pxy2aaddr_callee
583   0000              	GLOBAL _zx_pxy2aaddr
584   0000              	GLOBAL _zx_px2bitmask_fastcall
585   0000              	GLOBAL _zx_px2bitmask
586   0000              	GLOBAL _zx_cy2saddr_fastcall
587   0000              	GLOBAL _zx_cy2saddr
588   0000              	GLOBAL _zx_cy2aaddr_fastcall
589   0000              	GLOBAL _zx_cy2aaddr
590   0000              	GLOBAL _zx_cxy2saddr_callee
591   0000              	GLOBAL _zx_cxy2saddr
592   0000              	GLOBAL _zx_cxy2aaddr_callee
593   0000              	GLOBAL _zx_cxy2aaddr
594   0000              	GLOBAL _zx_bitmask2px_fastcall
595   0000              	GLOBAL _zx_bitmask2px
596   0000              	GLOBAL _zx_aaddrcup_fastcall
597   0000              	GLOBAL _zx_aaddrcup
598   0000              	GLOBAL _zx_aaddrcright_fastcall
599   0000              	GLOBAL _zx_aaddrcright
600   0000              	GLOBAL _zx_aaddrcleft_fastcall
601   0000              	GLOBAL _zx_aaddrcleft
602   0000              	GLOBAL _zx_aaddrcdown_fastcall
603   0000              	GLOBAL _zx_aaddrcdown
604   0000              	GLOBAL _zx_aaddr2saddr_fastcall
605   0000              	GLOBAL _zx_aaddr2saddr
606   0000              	GLOBAL _zx_aaddr2py_fastcall
607   0000              	GLOBAL _zx_aaddr2py
608   0000              	GLOBAL _zx_aaddr2px_fastcall
609   0000              	GLOBAL _zx_aaddr2px
610   0000              	GLOBAL _zx_aaddr2cy_fastcall
611   0000              	GLOBAL _zx_aaddr2cy
612   0000              	GLOBAL _zx_aaddr2cx_fastcall
613   0000              	GLOBAL _zx_aaddr2cx
614   0000              	GLOBAL _zx_visit_wc_pix_callee
615   0000              	GLOBAL _zx_visit_wc_pix
616   0000              	GLOBAL _zx_visit_wc_attr_callee
617   0000              	GLOBAL _zx_visit_wc_attr
618   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
619   0000              	GLOBAL _zx_scroll_wc_up_pix
620   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
621   0000              	GLOBAL _zx_scroll_wc_up_attr
622   0000              	GLOBAL _zx_scroll_wc_up_callee
623   0000              	GLOBAL _zx_scroll_wc_up
624   0000              	GLOBAL _zx_scroll_up_pix_callee
625   0000              	GLOBAL _zx_scroll_up_pix
626   0000              	GLOBAL _zx_scroll_up_attr_callee
627   0000              	GLOBAL _zx_scroll_up_attr
628   0000              	GLOBAL _zx_scroll_up_callee
629   0000              	GLOBAL _zx_scroll_up
630   0000              	GLOBAL _zx_cls_wc_pix_callee
631   0000              	GLOBAL _zx_cls_wc_pix
632   0000              	GLOBAL _zx_cls_wc_attr_callee
633   0000              	GLOBAL _zx_cls_wc_attr
634   0000              	GLOBAL _zx_cls_wc_callee
635   0000              	GLOBAL _zx_cls_wc
636   0000              	GLOBAL _zx_cls_pix_fastcall
637   0000              	GLOBAL _zx_cls_pix
638   0000              	GLOBAL _zx_cls_attr_fastcall
639   0000              	GLOBAL _zx_cls_attr
640   0000              	GLOBAL _zx_cls_fastcall
641   0000              	GLOBAL _zx_cls
642   0000              	GLOBAL _zx_border_fastcall
643   0000              	GLOBAL _zx_border
644   0000              	GLOBAL _g_hit_right
645   0000              	GLOBAL _g_hit_left
646   0000              	GLOBAL _joynames
647   0000              	GLOBAL _initials
648   0000              	GLOBAL _score_osd_tile
649   0000              	GLOBAL _score_osd_update_time
650   0000              	GLOBAL _score_osd_col
651   0000              	GLOBAL _score_osd_lin
652   0000              	GLOBAL _phase_bonus_total
653   0000              	GLOBAL _phase_angry
654   0000              	GLOBAL _phase_curr
655   0000              	GLOBAL _phase_end
656   0000              	GLOBAL _phase_coins
657   0000              	GLOBAL _phase_pop
658   0000              	GLOBAL _phase_tot
659   0000              	GLOBAL _phase_left
660   0000              	GLOBAL _phase_quota
661   0000              	GLOBAL _lvl_1
662   0000              	GLOBAL _sprite_speed_alt
663   0000              	GLOBAL _sprite_speed
664   0000              	GLOBAL _screen_ink
665   0000              	GLOBAL _screen_paper
666   0000              	GLOBAL _game_menu_sel
667   0000              	GLOBAL _game_type
668   0000              	GLOBAL _game_osd
669   0000              	GLOBAL _game_bonus
670   0000              	GLOBAL _spr_water_time
671   0000              	GLOBAL _spr_water_clear
672   0000              	GLOBAL _game_time_fireball_start
673   0000              	GLOBAL _game_time_flipped
674   0000              	GLOBAL _game_score_top
675   0000              	GLOBAL _game_lives
676   0000              	GLOBAL _game_over
677   0000              	GLOBAL _game_sound
678   0000              	GLOBAL _game_inmune
679   0000              	GLOBAL _game_god_mode
680   0000              	GLOBAL _game_start_phase
681   0000              	GLOBAL _game_two_player
682   0000              	GLOBAL _game_brick_tile
683   0000              	GLOBAL _spr_count
684   0000              	GLOBAL _osd_show_time
685   0000              	GLOBAL _osd_update_time
686   0000              	GLOBAL _frame_time
687   0000              	GLOBAL _entry_time
688   0000              	GLOBAL _curr_time
689   0000              	GLOBAL _s_state
690   0000              	GLOBAL _attrib_hl
691   0000              	GLOBAL _attrib
692   0000              	GLOBAL _zx_val_asm
693   0000              	GLOBAL _enemies
694   0000              	GLOBAL _tmp_ui
695   0000              	GLOBAL _tmp_sc
696   0000              	GLOBAL _tmp_uc
697   0000              	GLOBAL _tmp1
698   0000              	GLOBAL _tmp0
699   0000              	GLOBAL _tmp
700   0000              	GLOBAL _index1
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _sprite_lin_inc_mul
703   0000              	GLOBAL _s_col1
704   0000              	GLOBAL _s_col0
705   0000              	GLOBAL _s_lin1
706   0000              	GLOBAL _s_lin0
707   0000              	GLOBAL _s_tile1
708   0000              	GLOBAL _s_tile0
709   0000              	GLOBAL _hit_count
710   0000              	GLOBAL _index_player
711   0000              	GLOBAL _sprite
712   0000              	GLOBAL _player_joy
713   0000              	GLOBAL _player_next_extra
714   0000              	GLOBAL _player_score
715   0000              	GLOBAL _last_time
716   0000              	GLOBAL _sliding
717   0000              	GLOBAL _spr_timer
718   0000              	GLOBAL _jump_lin
719   0000              	GLOBAL _player_jump_c
720   0000              	GLOBAL _hit_col
721   0000              	GLOBAL _hit_lin
722   0000              	GLOBAL _colint
723   0000              	GLOBAL _col
724   0000              	GLOBAL _lin
725   0000              	GLOBAL _tile
726   0000              	GLOBAL _state_a
727   0000              	GLOBAL _state
728   0000              	GLOBAL _class
729   0000              	GLOBAL _tbuffer
730   0000              	GLOBAL _dirs
731   0000              	GLOBAL _sprites
732   0000              	GLOBAL _k2
733   0000              	GLOBAL _k1
734   0000              	GLOBAL _joyfunc2
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _ay_effect_20
739   0000              	GLOBAL _ay_effect_19
740   0000              	GLOBAL _ay_effect_18
741   0000              	GLOBAL _ay_effect_17
742   0000              	GLOBAL _ay_effect_16
743   0000              	GLOBAL _ay_effect_15
744   0000              	GLOBAL _ay_effect_14
745   0000              	GLOBAL _ay_effect_13
746   0000              	GLOBAL _ay_effect_12
747   0000              	GLOBAL _ay_effect_11
748   0000              	GLOBAL _ay_effect_10
749   0000              	GLOBAL _ay_effect_09
750   0000              	GLOBAL _ay_effect_08
751   0000              	GLOBAL _ay_effect_07
752   0000              	GLOBAL _ay_effect_06
753   0000              	GLOBAL _ay_effect_05
754   0000              	GLOBAL _ay_effect_04
755   0000              	GLOBAL _ay_effect_03
756   0000              	GLOBAL _ay_effect_02
757   0000              	GLOBAL _ay_effect_01
758   0000              	GLOBAL _pb_midi_phase_1
759   0000              	GLOBAL _pb_midi_title
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
766   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
767   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
768   0000              	GLOBAL _control_method
769   0000              ;--------------------------------------------------------
770   0000              ; special function registers
771   0000              ;--------------------------------------------------------
772   0000              defc _IO_FE	=	0x00fe
773   0000              defc _IO_1FFD	=	0x1ffd
774   0000              defc _IO_7FFD	=	0x7ffd
775   0000              ;--------------------------------------------------------
776   0000              ; ram data
777   0000              ;--------------------------------------------------------
778   0000              	SECTION bss_compiler
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              
783   0000              IF 0
784   0000              
785   0000              ; .area _INITIALIZED removed by z88dk
786   0000              
787   0000              
788   0000              ENDIF
789   0000              
790   0000              ;--------------------------------------------------------
791   0000              ; absolute external ram data
792   0000              ;--------------------------------------------------------
793   0000              	SECTION IGNORE
794   0000              ;--------------------------------------------------------
795   0000              ; global & static initialisations
796   0000              ;--------------------------------------------------------
797   0000              	SECTION code_crt_init
798   0000              ;--------------------------------------------------------
799   0000              ; Home
800   0000              ;--------------------------------------------------------
801   0000              	SECTION IGNORE
802   0000              ;--------------------------------------------------------
803   0000              ; code
804   0000              ;--------------------------------------------------------
805   0000              	SECTION code_compiler
806   0000              ;	---------------------------------
807   0000              ; Function spr_calc_index
808   0000              ; ---------------------------------
809   0000              _spr_calc_index:
810   0000  CD 00 00    	call	___sdcc_enter_ix
811   0003  DD 4E 05    	ld	c,(ix+5)
812   0006  CB 39       	srl	c
813   0008  06 00       	ld	b,0x00
814   000A  DD 7E 04    	ld	a,(ix+4)
815   000D  07          	rlca
816   000E  07          	rlca
817   000F  07          	rlca
818   0010  07          	rlca
819   0011  E6 0F       	and	a,0x0f
820   0013  6F          	ld	l, a
821   0014  26 00       	ld	h,0x00
822   0016  29          	add	hl, hl
823   0017  29          	add	hl, hl
824   0018  29          	add	hl, hl
825   0019  29          	add	hl, hl
826   001A  09          	add	hl, bc
827   001B  DD E1       	pop	ix
828   001D  C9          	ret
829   001E              	SECTION code_compiler
830   001E              ;	---------------------------------
831   001E              ; Function spr_check_map
832   001E              ; ---------------------------------
833   001E              _spr_check_map:
834   001E  CD 00 00    	call	___sdcc_enter_ix
835   0021  DD CB 05 46 	bit	0,(ix+5)
836   0025  20 15       	jr	NZ,l_spr_check_map_00106
837   0027  DD 66 05    	ld	h,(ix+5)
838   002A  DD 6E 04    	ld	l,(ix+4)
839   002D  E5          	push	hl
840   002E  CD 00 00    	call	_spr_calc_index
841   0031  F1          	pop	af
842   0032  22 00 00    	ld	(_index1),hl
843   0035  CD 00 00    	call	_game_check_maze
844   0038  26 00       	ld	h,0x00
845   003A  18 4B       	jr	l_spr_check_map_00108
846   003C              l_spr_check_map_00106:
847   003C  DD 46 05    	ld	b,(ix+5)
848   003F  05          	dec	b
849   0040  DD 4E 04    	ld	c,(ix+4)
850   0043  C5          	push	bc
851   0044  CD 00 00    	call	_spr_calc_index
852   0047  F1          	pop	af
853   0048  22 00 00    	ld	(_index1),hl
854   004B  21 00 00    	ld	hl,_g_hit_left
855   004E  36 00       	ld	(hl),0x00
856   0050  21 00 00    	ld	hl,_g_hit_right
857   0053  36 00       	ld	(hl),0x00
858   0055  2A 00 00    	ld	hl,(_index1)
859   0058  CD 00 00    	call	_game_check_maze
860   005B  7D          	ld	a, l
861   005C  B7          	or	a, a
862   005D  28 05       	jr	Z,l_spr_check_map_00102
863   005F  21 00 00    	ld	hl,_g_hit_left
864   0062  36 01       	ld	(hl),0x01
865   0064              l_spr_check_map_00102:
866   0064  2A 00 00    	ld	hl,(_index1)
867   0067  23          	inc	hl
868   0068  CD 00 00    	call	_game_check_maze
869   006B  7D          	ld	a, l
870   006C  B7          	or	a, a
871   006D  28 05       	jr	Z,l_spr_check_map_00104
872   006F  21 00 00    	ld	hl,_g_hit_right
873   0072  36 01       	ld	(hl),0x01
874   0074              l_spr_check_map_00104:
875   0074  3A 00 00    	ld	a,(_g_hit_left)
876   0077  B7          	or	a, a
877   0078  20 09       	jr	NZ,l_spr_check_map_00111
878   007A  3A 00 00    	ld	a,(_g_hit_right)
879   007D  B7          	or	a,a
880   007E  20 03       	jr	NZ,l_spr_check_map_00111
881   0080  6F          	ld	l,a
882   0081  18 02       	jr	l_spr_check_map_00112
883   0083              l_spr_check_map_00111:
884   0083  2E 01       	ld	l,0x01
885   0085              l_spr_check_map_00112:
886   0085  26 00       	ld	h,0x00
887   0087              l_spr_check_map_00108:
888   0087  DD E1       	pop	ix
889   0089  C9          	ret
890   008A              	SECTION code_compiler
891   008A              ;	---------------------------------
892   008A              ; Function spr_chktime
893   008A              ; ---------------------------------
894   008A              _spr_chktime:
895   008A  CD 00 00    	call	___sdcc_enter_ix
896   008D  F5          	push	af
897   008E  DD 75 FE    	ld	(ix-2),l
898   0091  DD 74 FF    	ld	(ix-1),h
899   0094  E1          	pop	hl
900   0095  01 00 00    	ld	bc,_sprite_speed_alt+0
901   0098  5E          	ld	e,(hl)
902   0099  E5          	push	hl
903   009A  6B          	ld	l,e
904   009B  26 00       	ld	h,0x00
905   009D  09          	add	hl, bc
906   009E  7E          	ld	a, (hl)
907   009F  B7          	or	a, a
908   00A0  20 13       	jr	NZ,l_spr_chktime_00102
909   00A2  01 00 00    	ld	bc,_sprite_speed+0
910   00A5  16 00       	ld	d,0x00
911   00A7  21 00 00    	ld	hl,_class
912   00AA  19          	add	hl, de
913   00AB  6E          	ld	l, (hl)
914   00AC  26 00       	ld	h,0x00
915   00AE  09          	add	hl, bc
916   00AF  7E          	ld	a, (hl)
917   00B0  32 00 00    	ld	(_tmp),a
918   00B3  18 03       	jr	l_spr_chktime_00103
919   00B5              l_spr_chktime_00102:
920   00B5  32 00 00    	ld	(_tmp),a
921   00B8              l_spr_chktime_00103:
922   00B8  3A 00 00    	ld	a,(_tmp)
923   00BB  4F          	ld	c,a
924   00BC  06 00       	ld	b,0x00
925   00BE  60          	ld	h,b
926   00BF  6B          	ld	l, e
927   00C0  29          	add	hl, hl
928   00C1  11 00 00    	ld	de,_last_time
929   00C4  19          	add	hl, de
930   00C5  5E          	ld	e, (hl)
931   00C6  23          	inc	hl
932   00C7  56          	ld	d, (hl)
933   00C8  C5          	push	bc
934   00C9  D5          	push	de
935   00CA  CD 00 00    	call	_game_check_time
936   00CD  F1          	pop	af
937   00CE  F1          	pop	af
938   00CF  7D          	ld	a, l
939   00D0  B7          	or	a, a
940   00D1  28 15       	jr	Z,l_spr_chktime_00105
941   00D3  E1          	pop	hl
942   00D4  E5          	push	hl
943   00D5  6E          	ld	l, (hl)
944   00D6  26 00       	ld	h,0x00
945   00D8  29          	add	hl, hl
946   00D9  01 00 00    	ld	bc,_last_time
947   00DC  09          	add	hl,bc
948   00DD  ED 5B 00 00 	ld	de,(_curr_time)
949   00E1  73          	ld	(hl),e
950   00E2  23          	inc	hl
951   00E3  72          	ld	(hl),d
952   00E4  2E 01       	ld	l,0x01
953   00E6  18 02       	jr	l_spr_chktime_00106
954   00E8              l_spr_chktime_00105:
955   00E8  2E 00       	ld	l,0x00
956   00EA              l_spr_chktime_00106:
957   00EA  F1          	pop	af
958   00EB  DD E1       	pop	ix
959   00ED  C9          	ret
960   00EE              	SECTION code_compiler
961   00EE              ;	---------------------------------
962   00EE              ; Function spr_move_up
963   00EE              ; ---------------------------------
964   00EE              _spr_move_up:
965   00EE  2A 00 00    	ld	hl,(_sprite)
966   00F1  26 00       	ld	h,0x00
967   00F3  01 00 00    	ld	bc,_lin
968   00F6  09          	add	hl,bc
969   00F7  4E          	ld	c,(hl)
970   00F8  21 00 00    	ld	hl,_sprite_lin_inc_mul
971   00FB  46          	ld	b, (hl)
972   00FC  1E 02       	ld	e,0x02
973   00FE  04          	inc	b
974   00FF  18 02       	jr	l_spr_move_up_00134
975   0101              l_spr_move_up_00133:
976   0101  CB 23       	sla	e
977   0103              l_spr_move_up_00134:
978   0103  10 FC       	djnz	l_spr_move_up_00133
979   0105  79          	ld	a, c
980   0106  93          	sub	a, e
981   0107  32 00 00    	ld	(_tmp1),a
982   010A  2A 00 00    	ld	hl,(_sprite)
983   010D  26 00       	ld	h,0x00
984   010F  01 00 00    	ld	bc,_class
985   0112  09          	add	hl,bc
986   0113  7E          	ld	a,(hl)
987   0114  D6 10       	sub	a,0x10
988   0116  20 2D       	jr	NZ,l_spr_move_up_00107
989   0118  2A 00 00    	ld	hl,(_sprite)
990   011B  26 00       	ld	h,0x00
991   011D  01 00 00    	ld	bc,_col
992   0120  09          	add	hl,bc
993   0121  7E          	ld	a,(hl)
994   0122  F5          	push	af
995   0123  33          	inc	sp
996   0124  3A 00 00    	ld	a,(_tmp1)
997   0127  F5          	push	af
998   0128  33          	inc	sp
999   0129  CD 1E 00    	call	_spr_check_map
1000  012C  F1          	pop	af
1001  012D  7C          	ld	a,h
1002  012E  B5          	or	a,l
1003  012F  28 14       	jr	Z,l_spr_move_up_00107
1004  0131  3A 00 00    	ld	a,(_sprite)
1005  0134  D6 07       	sub	a,0x07
1006  0136  20 09       	jr	NZ,l_spr_move_up_00102
1007  0138  3A 07 00    	ld	a,(_state_a + 0x0007)
1008  013B  07          	rlca
1009  013C  38 03       	jr	C,l_spr_move_up_00102
1010  013E  CD 00 00    	call	_player_hit_brick
1011  0141              l_spr_move_up_00102:
1012  0141  2E 01       	ld	l,0x01
1013  0143  18 39       	jr	l_spr_move_up_00111
1014  0145              l_spr_move_up_00107:
1015  0145  2A 00 00    	ld	hl,(_sprite)
1016  0148  26 00       	ld	h,0x00
1017  014A  01 00 00    	ld	bc,_lin
1018  014D  09          	add	hl,bc
1019  014E  3A 00 00    	ld	a,(_tmp1)
1020  0151  77          	ld	(hl),a
1021  0152  2A 00 00    	ld	hl,(_sprite)
1022  0155  26 00       	ld	h,0x00
1023  0157  01 00 00    	ld	bc,_lin
1024  015A  09          	add	hl,bc
1025  015B  7E          	ld	a,(hl)
1026  015C  5F          	ld	e,a
1027  015D  B7          	or	a,a
1028  015E  4D          	ld	c,l
1029  015F  44          	ld	b,h
1030  0160  28 05       	jr	Z,l_spr_move_up_00108
1031  0162  3E 90       	ld	a,0x90
1032  0164  93          	sub	a, e
1033  0165  30 15       	jr	NC,l_spr_move_up_00109
1034  0167              l_spr_move_up_00108:
1035  0167  AF          	xor	a, a
1036  0168  02          	ld	(bc), a
1037  0169  3A 00 00    	ld	a,(_s_col0)
1038  016C  F5          	push	af
1039  016D  33          	inc	sp
1040  016E  3A 00 00    	ld	a,(_s_lin0)
1041  0171  57          	ld	d,a
1042  0172  1E 12       	ld	e,0x12
1043  0174  D5          	push	de
1044  0175  CD 00 00    	call	_NIRVANAP_fillT_callee
1045  0178  2E 01       	ld	l,0x01
1046  017A  18 02       	jr	l_spr_move_up_00111
1047  017C              l_spr_move_up_00109:
1048  017C  2E 00       	ld	l,0x00
1049  017E              l_spr_move_up_00111:
1050  017E  C9          	ret
1051  017F              	SECTION code_compiler
1052  017F              ;	---------------------------------
1053  017F              ; Function spr_move_down
1054  017F              ; ---------------------------------
1055  017F              _spr_move_down:
1056  017F  2A 00 00    	ld	hl,(_sprite)
1057  0182  26 00       	ld	h,0x00
1058  0184  01 00 00    	ld	bc,_lin
1059  0187  09          	add	hl,bc
1060  0188  4E          	ld	c,(hl)
1061  0189  21 00 00    	ld	hl,_sprite_lin_inc_mul
1062  018C  46          	ld	b, (hl)
1063  018D  1E 02       	ld	e,0x02
1064  018F  04          	inc	b
1065  0190  18 02       	jr	l_spr_move_down_00116
1066  0192              l_spr_move_down_00115:
1067  0192  CB 23       	sla	e
1068  0194              l_spr_move_down_00116:
1069  0194  10 FC       	djnz	l_spr_move_down_00115
1070  0196  79          	ld	a, c
1071  0197  83          	add	a, e
1072  0198  32 00 00    	ld	(_tmp1),a
1073  019B  2A 00 00    	ld	hl,(_sprite)
1074  019E  26 00       	ld	h,0x00
1075  01A0  01 00 00    	ld	bc,_col
1076  01A3  09          	add	hl,bc
1077  01A4  56          	ld	d, (hl)
1078  01A5  3A 00 00    	ld	a,(_tmp1)
1079  01A8  C6 10       	add	a,0x10
1080  01AA  5F          	ld	e, a
1081  01AB  D5          	push	de
1082  01AC  CD 1E 00    	call	_spr_check_map
1083  01AF  F1          	pop	af
1084  01B0  4D          	ld	c,l
1085  01B1  44          	ld	b,h
1086  01B2  2A 00 00    	ld	hl,(_sprite)
1087  01B5  26 00       	ld	h,0x00
1088  01B7  11 00 00    	ld	de,_lin
1089  01BA  19          	add	hl,de
1090  01BB  78          	ld	a,b
1091  01BC  EB          	ex	de,hl
1092  01BD  B1          	or	a,c
1093  01BE  28 12       	jr	Z,l_spr_move_down_00102
1094  01C0  3A 00 00    	ld	a,(_tmp1)
1095  01C3  0F          	rrca
1096  01C4  0F          	rrca
1097  01C5  0F          	rrca
1098  01C6  E6 1F       	and	a,0x1f
1099  01C8  07          	rlca
1100  01C9  07          	rlca
1101  01CA  07          	rlca
1102  01CB  E6 F8       	and	a,0xf8
1103  01CD  12          	ld	(de), a
1104  01CE  2E 01       	ld	l,0x01
1105  01D0  18 23       	jr	l_spr_move_down_00105
1106  01D2              l_spr_move_down_00102:
1107  01D2  3A 00 00    	ld	a,(_tmp1)
1108  01D5  12          	ld	(de), a
1109  01D6  2A 00 00    	ld	hl,(_sprite)
1110  01D9  26 00       	ld	h,0x00
1111  01DB  01 00 00    	ld	bc,_lin
1112  01DE  09          	add	hl,bc
1113  01DF  5E          	ld	e,(hl)
1114  01E0  3E 90       	ld	a,0x90
1115  01E2  93          	sub	a,e
1116  01E3  30 0E       	jr	NC,l_spr_move_down_00104
1117  01E5  4D          	ld	c,l
1118  01E6  44          	ld	b,h
1119  01E7  21 00 00    	ld	hl,_s_state
1120  01EA  CB 8E       	res	1, (hl)
1121  01EC  3E 90       	ld	a,0x90
1122  01EE  02          	ld	(bc), a
1123  01EF  2E 01       	ld	l,0x01
1124  01F1  18 02       	jr	l_spr_move_down_00105
1125  01F3              l_spr_move_down_00104:
1126  01F3  2E 00       	ld	l,0x00
1127  01F5              l_spr_move_down_00105:
1128  01F5  C9          	ret
1129  01F6              	SECTION code_compiler
1130  01F6              ;	---------------------------------
1131  01F6              ; Function spr_move_horizontal
1132  01F6              ; ---------------------------------
1133  01F6              _spr_move_horizontal:
1134  01F6  2A 00 00    	ld	hl,(_sprite)
1135  01F9  26 00       	ld	h,0x00
1136  01FB  01 00 00    	ld	bc,_state
1137  01FE  09          	add	hl,bc
1138  01FF  7E          	ld	a,(hl)
1139  0200  CB 57       	bit	2, a
1140  0202  28 05       	jr	Z,l_spr_move_horizontal_00104
1141  0204  CD 15 02    	call	_spr_move_right
1142  0207  18 0B       	jr	l_spr_move_horizontal_00106
1143  0209              l_spr_move_horizontal_00104:
1144  0209  CB 5F       	bit	3, a
1145  020B  28 05       	jr	Z,l_spr_move_horizontal_00105
1146  020D  CD C8 02    	call	_spr_move_left
1147  0210  18 02       	jr	l_spr_move_horizontal_00106
1148  0212              l_spr_move_horizontal_00105:
1149  0212  2E 00       	ld	l,0x00
1150  0214              l_spr_move_horizontal_00106:
1151  0214  C9          	ret
1152  0215              	SECTION code_compiler
1153  0215              ;	---------------------------------
1154  0215              ; Function spr_move_right
1155  0215              ; ---------------------------------
1156  0215              _spr_move_right:
1157  0215  01 00 00    	ld	bc,_colint+0
1158  0218  79          	ld	a, c
1159  0219  21 00 00    	ld	hl,_sprite
1160  021C  86          	add	a, (hl)
1161  021D  5F          	ld	e, a
1162  021E  78          	ld	a, b
1163  021F  CE 00       	adc	a,0x00
1164  0221  57          	ld	d, a
1165  0222  1A          	ld	a, (de)
1166  0223  3C          	inc	a
1167  0224  12          	ld	(de), a
1168  0225  79          	ld	a, c
1169  0226  86          	add	a, (hl)
1170  0227  5F          	ld	e, a
1171  0228  78          	ld	a, b
1172  0229  CE 00       	adc	a,0x00
1173  022B  57          	ld	d, a
1174  022C  1A          	ld	a, (de)
1175  022D  D6 04       	sub	a,0x04
1176  022F  C2 C5 02    	jp	NZ,l_spr_move_right_00110
1177  0232  5E          	ld	e,(hl)
1178  0233  16 00       	ld	d,0x00
1179  0235  21 00 00    	ld	hl,_lin
1180  0238  19          	add	hl,de
1181  0239  7E          	ld	a,(hl)
1182  023A  32 00 00    	ld	(_s_lin1),a
1183  023D  2A 00 00    	ld	hl,(_sprite)
1184  0240  26 00       	ld	h,0x00
1185  0242  11 00 00    	ld	de,_col
1186  0245  19          	add	hl,de
1187  0246  7E          	ld	a,(hl)
1188  0247  FE 1E       	cp	a,0x1e
1189  0249  30 06       	jr	NC,l_spr_move_right_00102
1190  024B  3C          	inc	a
1191  024C  32 00 00    	ld	(_s_col1),a
1192  024F  18 05       	jr	l_spr_move_right_00103
1193  0251              l_spr_move_right_00102:
1194  0251  21 00 00    	ld	hl,_s_col1
1195  0254  36 00       	ld	(hl),0x00
1196  0256              l_spr_move_right_00103:
1197  0256  3A 00 00    	ld	a,(_s_col1)
1198  0259  C5          	push	bc
1199  025A  F5          	push	af
1200  025B  33          	inc	sp
1201  025C  3A 00 00    	ld	a,(_s_lin1)
1202  025F  F5          	push	af
1203  0260  33          	inc	sp
1204  0261  CD 1E 00    	call	_spr_check_map
1205  0264  F1          	pop	af
1206  0265  C1          	pop	bc
1207  0266  7C          	ld	a,h
1208  0267  B5          	or	a,l
1209  0268  20 16       	jr	NZ,l_spr_move_right_00104
1210  026A  3A 00 00    	ld	a,(_s_lin1)
1211  026D  C6 0F       	add	a,0x0f
1212  026F  57          	ld	d, a
1213  0270  3A 00 00    	ld	a,(_s_col1)
1214  0273  C5          	push	bc
1215  0274  5A          	ld	e,d
1216  0275  57          	ld	d,a
1217  0276  D5          	push	de
1218  0277  CD 1E 00    	call	_spr_check_map
1219  027A  F1          	pop	af
1220  027B  C1          	pop	bc
1221  027C  7C          	ld	a,h
1222  027D  B5          	or	a,l
1223  027E  28 1D       	jr	Z,l_spr_move_right_00105
1224  0280              l_spr_move_right_00104:
1225  0280  79          	ld	a, c
1226  0281  21 00 00    	ld	hl,_sprite
1227  0284  86          	add	a, (hl)
1228  0285  5F          	ld	e, a
1229  0286  78          	ld	a, b
1230  0287  CE 00       	adc	a,0x00
1231  0289  57          	ld	d, a
1232  028A  1A          	ld	a, (de)
1233  028B  C6 FF       	add	a,0xff
1234  028D  12          	ld	(de), a
1235  028E  79          	ld	a, c
1236  028F  86          	add	a, (hl)
1237  0290  4F          	ld	c, a
1238  0291  78          	ld	a, b
1239  0292  CE 00       	adc	a,0x00
1240  0294  47          	ld	b, a
1241  0295  0A          	ld	a, (bc)
1242  0296  C6 FF       	add	a,0xff
1243  0298  02          	ld	(bc), a
1244  0299  2E 01       	ld	l,0x01
1245  029B  18 2A       	jr	l_spr_move_right_00111
1246  029D              l_spr_move_right_00105:
1247  029D  2A 00 00    	ld	hl,(_sprite)
1248  02A0  26 00       	ld	h,0x00
1249  02A2  11 00 00    	ld	de,_col
1250  02A5  19          	add	hl,de
1251  02A6  34          	inc	(hl)
1252  02A7  79          	ld	a,c
1253  02A8  21 00 00    	ld	hl,_sprite
1254  02AB  86          	add	a, (hl)
1255  02AC  4F          	ld	c, a
1256  02AD  78          	ld	a, b
1257  02AE  CE 00       	adc	a,0x00
1258  02B0  47          	ld	b, a
1259  02B1  AF          	xor	a, a
1260  02B2  02          	ld	(bc), a
1261  02B3  3E 00       	ld	a, +((_col) & 0xFF)
1262  02B5  86          	add	a, (hl)
1263  02B6  4F          	ld	c, a
1264  02B7  3E 00       	ld	a, +((_col) / 256)
1265  02B9  CE 00       	adc	a,0x00
1266  02BB  47          	ld	b, a
1267  02BC  0A          	ld	a, (bc)
1268  02BD  5F          	ld	e, a
1269  02BE  3E 1E       	ld	a,0x1e
1270  02C0  93          	sub	a, e
1271  02C1  30 02       	jr	NC,l_spr_move_right_00110
1272  02C3  AF          	xor	a, a
1273  02C4  02          	ld	(bc), a
1274  02C5              l_spr_move_right_00110:
1275  02C5  2E 00       	ld	l,0x00
1276  02C7              l_spr_move_right_00111:
1277  02C7  C9          	ret
1278  02C8              	SECTION code_compiler
1279  02C8              ;	---------------------------------
1280  02C8              ; Function spr_move_left
1281  02C8              ; ---------------------------------
1282  02C8              _spr_move_left:
1283  02C8  01 00 00    	ld	bc,_colint+0
1284  02CB  79          	ld	a, c
1285  02CC  21 00 00    	ld	hl,_sprite
1286  02CF  86          	add	a, (hl)
1287  02D0  5F          	ld	e, a
1288  02D1  78          	ld	a, b
1289  02D2  CE 00       	adc	a,0x00
1290  02D4  57          	ld	d, a
1291  02D5  1A          	ld	a, (de)
1292  02D6  C6 FF       	add	a,0xff
1293  02D8  12          	ld	(de), a
1294  02D9  79          	ld	a, c
1295  02DA  86          	add	a, (hl)
1296  02DB  5F          	ld	e, a
1297  02DC  78          	ld	a, b
1298  02DD  CE 00       	adc	a,0x00
1299  02DF  57          	ld	d, a
1300  02E0  1A          	ld	a, (de)
1301  02E1  3C          	inc	a
1302  02E2  C2 79 03    	jp	NZ,l_spr_move_left_00110
1303  02E5  5E          	ld	e,(hl)
1304  02E6  16 00       	ld	d,0x00
1305  02E8  21 00 00    	ld	hl,_lin
1306  02EB  19          	add	hl,de
1307  02EC  7E          	ld	a,(hl)
1308  02ED  32 00 00    	ld	(_s_lin1),a
1309  02F0  2A 00 00    	ld	hl,(_sprite)
1310  02F3  26 00       	ld	h,0x00
1311  02F5  11 00 00    	ld	de,_col
1312  02F8  19          	add	hl,de
1313  02F9  7E          	ld	a,(hl)
1314  02FA  B7          	or	a, a
1315  02FB  28 07       	jr	Z,l_spr_move_left_00102
1316  02FD  C6 FF       	add	a,0xff
1317  02FF  32 00 00    	ld	(_s_col1),a
1318  0302  18 05       	jr	l_spr_move_left_00103
1319  0304              l_spr_move_left_00102:
1320  0304  21 00 00    	ld	hl,_s_col1
1321  0307  36 1E       	ld	(hl),0x1e
1322  0309              l_spr_move_left_00103:
1323  0309  3A 00 00    	ld	a,(_s_col1)
1324  030C  C5          	push	bc
1325  030D  F5          	push	af
1326  030E  33          	inc	sp
1327  030F  3A 00 00    	ld	a,(_s_lin1)
1328  0312  F5          	push	af
1329  0313  33          	inc	sp
1330  0314  CD 1E 00    	call	_spr_check_map
1331  0317  F1          	pop	af
1332  0318  C1          	pop	bc
1333  0319  7C          	ld	a,h
1334  031A  B5          	or	a,l
1335  031B  20 16       	jr	NZ,l_spr_move_left_00104
1336  031D  3A 00 00    	ld	a,(_s_lin1)
1337  0320  C6 0F       	add	a,0x0f
1338  0322  57          	ld	d, a
1339  0323  3A 00 00    	ld	a,(_s_col1)
1340  0326  C5          	push	bc
1341  0327  5A          	ld	e,d
1342  0328  57          	ld	d,a
1343  0329  D5          	push	de
1344  032A  CD 1E 00    	call	_spr_check_map
1345  032D  F1          	pop	af
1346  032E  C1          	pop	bc
1347  032F  7C          	ld	a,h
1348  0330  B5          	or	a,l
1349  0331  28 1B       	jr	Z,l_spr_move_left_00105
1350  0333              l_spr_move_left_00104:
1351  0333  79          	ld	a, c
1352  0334  21 00 00    	ld	hl,_sprite
1353  0337  86          	add	a, (hl)
1354  0338  5F          	ld	e, a
1355  0339  78          	ld	a, b
1356  033A  CE 00       	adc	a,0x00
1357  033C  57          	ld	d, a
1358  033D  1A          	ld	a, (de)
1359  033E  3C          	inc	a
1360  033F  12          	ld	(de), a
1361  0340  79          	ld	a, c
1362  0341  86          	add	a, (hl)
1363  0342  4F          	ld	c, a
1364  0343  78          	ld	a, b
1365  0344  CE 00       	adc	a,0x00
1366  0346  47          	ld	b, a
1367  0347  0A          	ld	a, (bc)
1368  0348  3C          	inc	a
1369  0349  02          	ld	(bc), a
1370  034A  2E 01       	ld	l,0x01
1371  034C  18 2D       	jr	l_spr_move_left_00111
1372  034E              l_spr_move_left_00105:
1373  034E  2A 00 00    	ld	hl,(_sprite)
1374  0351  26 00       	ld	h,0x00
1375  0353  11 00 00    	ld	de,_col
1376  0356  19          	add	hl,de
1377  0357  7E          	ld	a,(hl)
1378  0358  EB          	ex	de,hl
1379  0359  C6 FF       	add	a,0xff
1380  035B  12          	ld	(de),a
1381  035C  79          	ld	a,c
1382  035D  21 00 00    	ld	hl,_sprite
1383  0360  86          	add	a, (hl)
1384  0361  4F          	ld	c, a
1385  0362  78          	ld	a, b
1386  0363  CE 00       	adc	a,0x00
1387  0365  47          	ld	b, a
1388  0366  3E 03       	ld	a,0x03
1389  0368  02          	ld	(bc), a
1390  0369  3E 00       	ld	a, +((_col) & 0xFF)
1391  036B  86          	add	a, (hl)
1392  036C  4F          	ld	c, a
1393  036D  3E 00       	ld	a, +((_col) / 256)
1394  036F  CE 00       	adc	a,0x00
1395  0371  47          	ld	b, a
1396  0372  0A          	ld	a, (bc)
1397  0373  3C          	inc	a
1398  0374  20 03       	jr	NZ,l_spr_move_left_00110
1399  0376  3E 1E       	ld	a,0x1e
1400  0378  02          	ld	(bc), a
1401  0379              l_spr_move_left_00110:
1402  0379  2E 00       	ld	l,0x00
1403  037B              l_spr_move_left_00111:
1404  037B  C9          	ret
1405  037C              	SECTION code_compiler
1406  037C              ;	---------------------------------
1407  037C              ; Function spr_redraw
1408  037C              ; ---------------------------------
1409  037C              _spr_redraw:
1410  037C  2A 00 00    	ld	hl,(_sprite)
1411  037F  26 00       	ld	h,0x00
1412  0381  01 00 00    	ld	bc,_tile
1413  0384  09          	add	hl,bc
1414  0385  4E          	ld	c, (hl)
1415  0386  3A 00 00    	ld	a,(_sprite)
1416  0389  5F          	ld	e,a
1417  038A  16 00       	ld	d,0x00
1418  038C  21 00 00    	ld	hl,_colint
1419  038F  19          	add	hl,de
1420  0390  7E          	ld	a,(hl)
1421  0391  81          	add	a,c
1422  0392  32 00 00    	ld	(_s_tile1),a
1423  0395  2A 00 00    	ld	hl,(_sprite)
1424  0398  26 00       	ld	h,0x00
1425  039A  01 00 00    	ld	bc,_col
1426  039D  09          	add	hl,bc
1427  039E  7E          	ld	a,(hl)
1428  039F  32 00 00    	ld	(_s_col1),a
1429  03A2  2A 00 00    	ld	hl,(_sprite)
1430  03A5  26 00       	ld	h,0x00
1431  03A7  01 00 00    	ld	bc,_lin
1432  03AA  09          	add	hl,bc
1433  03AB  7E          	ld	a,(hl)
1434  03AC  32 00 00    	ld	(_s_lin1),a
1435  03AF  21 00 00    	ld	hl,_s_lin0
1436  03B2  96          	sub	a, (hl)
1437  03B3  20 09       	jr	NZ,l_spr_redraw_00105
1438  03B5  3A 00 00    	ld	a,(_s_col1)
1439  03B8  21 00 00    	ld	hl,_s_col0
1440  03BB  96          	sub	a, (hl)
1441  03BC  28 2E       	jr	Z,l_spr_redraw_00106
1442  03BE              l_spr_redraw_00105:
1443  03BE  3E 10       	ld	a,0x10
1444  03C0  21 00 00    	ld	hl,_s_lin0
1445  03C3  96          	sub	a, (hl)
1446  03C4  38 0E       	jr	C,l_spr_redraw_00102
1447  03C6  F3          	di
1448  03C7  3A 00 00    	ld	a,(_s_col0)
1449  03CA  F5          	push	af
1450  03CB  33          	inc	sp
1451  03CC  21 49 08    	ld	hl,0x0849
1452  03CF  E5          	push	hl
1453  03D0  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1454  03D3  FB          	ei
1455  03D4              l_spr_redraw_00102:
1456  03D4  2A FF FF    	ld	hl,(_s_col1 - 1)
1457  03D7  3A 00 00    	ld	a,(_s_lin1)
1458  03DA  6F          	ld	l,a
1459  03DB  E5          	push	hl
1460  03DC  2A FF FF    	ld	hl,(_s_tile1 - 1)
1461  03DF  3A 00 00    	ld	a,(_sprite)
1462  03E2  6F          	ld	l,a
1463  03E3  E5          	push	hl
1464  03E4  CD 00 00    	call	_NIRVANAP_spriteT_callee
1465  03E7  CD EC 09    	call	_spr_back_clr
1466  03EA  18 1C       	jr	l_spr_redraw_00107
1467  03EC              l_spr_redraw_00106:
1468  03EC  3A 00 00    	ld	a,(_s_tile1)
1469  03EF  21 00 00    	ld	hl,_s_tile0
1470  03F2  96          	sub	a, (hl)
1471  03F3  28 13       	jr	Z,l_spr_redraw_00107
1472  03F5  2A FF FF    	ld	hl,(_s_col1 - 1)
1473  03F8  3A 00 00    	ld	a,(_s_lin1)
1474  03FB  6F          	ld	l,a
1475  03FC  E5          	push	hl
1476  03FD  2A FF FF    	ld	hl,(_s_tile1 - 1)
1477  0400  3A 00 00    	ld	a,(_sprite)
1478  0403  6F          	ld	l,a
1479  0404  E5          	push	hl
1480  0405  CD 00 00    	call	_NIRVANAP_spriteT_callee
1481  0408              l_spr_redraw_00107:
1482  0408  2E 00       	ld	l,0x00
1483  040A  C9          	ret
1484  040B              	SECTION code_compiler
1485  040B              ;	---------------------------------
1486  040B              ; Function spr_killed
1487  040B              ; ---------------------------------
1488  040B              _spr_killed:
1489  040B  45          	ld	b,l
1490  040C  11 00 00    	ld	de,_class+0
1491  040F  26 00       	ld	h,0x00
1492  0411  19          	add	hl, de
1493  0412  7E          	ld	a, (hl)
1494  0413  FE 07       	cp	a,0x07
1495  0415  28 12       	jr	Z,l_spr_killed_00101
1496  0417  FE 08       	cp	a,0x08
1497  0419  28 24       	jr	Z,l_spr_killed_00103
1498  041B  FE 0A       	cp	a,0x0a
1499  041D  28 2B       	jr	Z,l_spr_killed_00104
1500  041F  FE 0B       	cp	a,0x0b
1501  0421  28 39       	jr	Z,l_spr_killed_00105
1502  0423  D6 0C       	sub	a,0x0c
1503  0425  28 0D       	jr	Z,l_spr_killed_00102
1504  0427  18 45       	jr	l_spr_killed_00106
1505  0429              l_spr_killed_00101:
1506  0429  3E 81       	ld	a,0x81
1507  042B  48          	ld	c,b
1508  042C  47          	ld	b,a
1509  042D  C5          	push	bc
1510  042E  CD 7A 04    	call	_spr_anim_kill
1511  0431  F1          	pop	af
1512  0432  18 43       	jr	l_spr_killed_00107
1513  0434              l_spr_killed_00102:
1514  0434  3E BA       	ld	a,0xba
1515  0436  48          	ld	c,b
1516  0437  47          	ld	b,a
1517  0438  C5          	push	bc
1518  0439  CD 7A 04    	call	_spr_anim_kill
1519  043C  F1          	pop	af
1520  043D  18 38       	jr	l_spr_killed_00107
1521  043F              l_spr_killed_00103:
1522  043F  3E BA       	ld	a,0xba
1523  0441  48          	ld	c,b
1524  0442  47          	ld	b,a
1525  0443  C5          	push	bc
1526  0444  CD 7A 04    	call	_spr_anim_kill
1527  0447  F1          	pop	af
1528  0448  18 2D       	jr	l_spr_killed_00107
1529  044A              l_spr_killed_00104:
1530  044A  C5          	push	bc
1531  044B  68          	ld	l, b
1532  044C  CD AD 05    	call	_spr_tile
1533  044F  C1          	pop	bc
1534  0450  55          	ld	d,l
1535  0451  14          	inc	d
1536  0452  14          	inc	d
1537  0453  14          	inc	d
1538  0454  58          	ld	e,b
1539  0455  D5          	push	de
1540  0456  CD 7A 04    	call	_spr_anim_kill
1541  0459  F1          	pop	af
1542  045A  18 1B       	jr	l_spr_killed_00107
1543  045C              l_spr_killed_00105:
1544  045C  C5          	push	bc
1545  045D  68          	ld	l, b
1546  045E  CD AD 05    	call	_spr_tile
1547  0461  C1          	pop	bc
1548  0462  55          	ld	d,l
1549  0463  14          	inc	d
1550  0464  14          	inc	d
1551  0465  14          	inc	d
1552  0466  58          	ld	e,b
1553  0467  D5          	push	de
1554  0468  CD 7A 04    	call	_spr_anim_kill
1555  046B  F1          	pop	af
1556  046C  18 09       	jr	l_spr_killed_00107
1557  046E              l_spr_killed_00106:
1558  046E  3E BA       	ld	a,0xba
1559  0470  48          	ld	c,b
1560  0471  47          	ld	b,a
1561  0472  C5          	push	bc
1562  0473  CD 7A 04    	call	_spr_anim_kill
1563  0476  F1          	pop	af
1564  0477              l_spr_killed_00107:
1565  0477  2E 00       	ld	l,0x00
1566  0479  C9          	ret
1567  047A              	SECTION code_compiler
1568  047A              ;	---------------------------------
1569  047A              ; Function spr_anim_kill
1570  047A              ; ---------------------------------
1571  047A              _spr_anim_kill:
1572  047A  CD 00 00    	call	___sdcc_enter_ix
1573  047D  F5          	push	af
1574  047E  DD 6E 04    	ld	l,(ix+4)
1575  0481  26 00       	ld	h,0x00
1576  0483  29          	add	hl,hl
1577  0484  4D          	ld	c,l
1578  0485  44          	ld	b,h
1579  0486  21 00 00    	ld	hl,_last_time
1580  0489  09          	add	hl,bc
1581  048A  E3          	ex	(sp), hl
1582  048B  E1          	pop	hl
1583  048C  ED 5B 00 00 	ld	de,(_curr_time)
1584  0490  E5          	push	hl
1585  0491  73          	ld	(hl), e
1586  0492  23          	inc	hl
1587  0493  72          	ld	(hl), d
1588  0494  2A 00 00    	ld	hl,(_curr_time)
1589  0497  5D          	ld	e,l
1590  0498  21 00 00    	ld	hl,_spr_timer
1591  049B  09          	add	hl, bc
1592  049C  4E          	ld	c, (hl)
1593  049D  7B          	ld	a, e
1594  049E  91          	sub	a, c
1595  049F  32 00 00    	ld	(_tmp0),a
1596  04A2  21 00 00    	ld	hl,_tmp
1597  04A5  36 02       	ld	(hl),0x02
1598  04A7  3E 28       	ld	a,0x28
1599  04A9  21 00 00    	ld	hl,_tmp0
1600  04AC  96          	sub	a, (hl)
1601  04AD  38 05       	jr	C,l_spr_anim_kill_00102
1602  04AF  21 00 00    	ld	hl,_tmp
1603  04B2  36 01       	ld	(hl),0x01
1604  04B4              l_spr_anim_kill_00102:
1605  04B4  3E 14       	ld	a,0x14
1606  04B6  21 00 00    	ld	hl,_tmp0
1607  04B9  96          	sub	a, (hl)
1608  04BA  38 05       	jr	C,l_spr_anim_kill_00104
1609  04BC  21 00 00    	ld	hl,_tmp
1610  04BF  36 00       	ld	(hl),0x00
1611  04C1              l_spr_anim_kill_00104:
1612  04C1  3E 3C       	ld	a,0x3c
1613  04C3  21 00 00    	ld	hl,_tmp0
1614  04C6  96          	sub	a, (hl)
1615  04C7  38 2F       	jr	C,l_spr_anim_kill_00106
1616  04C9  3E 00       	ld	a, +((_col) & 0xFF)
1617  04CB  DD 86 04    	add	a,(ix+4)
1618  04CE  4F          	ld	c, a
1619  04CF  3E 00       	ld	a, +((_col) / 256)
1620  04D1  CE 00       	adc	a,0x00
1621  04D3  47          	ld	b, a
1622  04D4  0A          	ld	a, (bc)
1623  04D5  47          	ld	b, a
1624  04D6  3E 00       	ld	a, +((_lin) & 0xFF)
1625  04D8  DD 86 04    	add	a,(ix+4)
1626  04DB  5F          	ld	e, a
1627  04DC  3E 00       	ld	a, +((_lin) / 256)
1628  04DE  CE 00       	adc	a,0x00
1629  04E0  57          	ld	d, a
1630  04E1  1A          	ld	a, (de)
1631  04E2  57          	ld	d, a
1632  04E3  DD 7E 05    	ld	a,(ix+5)
1633  04E6  21 00 00    	ld	hl,_tmp
1634  04E9  86          	add	a, (hl)
1635  04EA  4A          	ld	c, d
1636  04EB  C5          	push	bc
1637  04EC  F5          	push	af
1638  04ED  33          	inc	sp
1639  04EE  DD 7E 04    	ld	a,(ix+4)
1640  04F1  F5          	push	af
1641  04F2  33          	inc	sp
1642  04F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1643  04F6  18 06       	jr	l_spr_anim_kill_00108
1644  04F8              l_spr_anim_kill_00106:
1645  04F8  DD 6E 04    	ld	l,(ix+4)
1646  04FB  CD 02 05    	call	_spr_destroy
1647  04FE              l_spr_anim_kill_00108:
1648  04FE  F1          	pop	af
1649  04FF  DD E1       	pop	ix
1650  0501  C9          	ret
1651  0502              	SECTION code_compiler
1652  0502              ;	---------------------------------
1653  0502              ; Function spr_destroy
1654  0502              ; ---------------------------------
1655  0502              _spr_destroy:
1656  0502  CD 00 00    	call	___sdcc_enter_ix
1657  0505  F5          	push	af
1658  0506  4D          	ld	c, l
1659  0507  21 00 00    	ld	hl,_spr_count
1660  050A  35          	dec	(hl)
1661  050B  3E 00       	ld	a, +((_lin) & 0xFF)
1662  050D  81          	add	a, c
1663  050E  DD 77 FE    	ld	(ix-2),a
1664  0511  3E 00       	ld	a, +((_lin) / 256)
1665  0513  CE 00       	adc	a,0x00
1666  0515  DD 77 FF    	ld	(ix-1),a
1667  0518  E1          	pop	hl
1668  0519  7E          	ld	a,(hl)
1669  051A  E5          	push	hl
1670  051B  32 00 00    	ld	(_s_lin0),a
1671  051E  3E 00       	ld	a, +((_col) & 0xFF)
1672  0520  81          	add	a, c
1673  0521  5F          	ld	e, a
1674  0522  3E 00       	ld	a, +((_col) / 256)
1675  0524  CE 00       	adc	a,0x00
1676  0526  57          	ld	d, a
1677  0527  1A          	ld	a, (de)
1678  0528  32 00 00    	ld	(_s_col0),a
1679  052B  06 00       	ld	b,0x00
1680  052D  21 00 00    	ld	hl,_tile
1681  0530  09          	add	hl, bc
1682  0531  AF          	xor	a,a
1683  0532  77          	ld	(hl),a
1684  0533  E1          	pop	hl
1685  0534  12          	ld	(de),a
1686  0535  E5          	push	hl
1687  0536  36 00       	ld	(hl),0x00
1688  0538  11 00 00    	ld	de,_class+0
1689  053B  69          	ld	l,c
1690  053C  26 00       	ld	h,0x00
1691  053E  19          	add	hl, de
1692  053F  36 00       	ld	(hl),0x00
1693  0541  11 00 00    	ld	de,_state+0
1694  0544  69          	ld	l,c
1695  0545  26 00       	ld	h,0x00
1696  0547  19          	add	hl, de
1697  0548  36 00       	ld	(hl),0x00
1698  054A  11 00 00    	ld	de,_state_a+0
1699  054D  69          	ld	l,c
1700  054E  26 00       	ld	h,0x00
1701  0550  19          	add	hl, de
1702  0551  36 00       	ld	(hl),0x00
1703  0553  21 00 00    	ld	hl,0x0000
1704  0556  E5          	push	hl
1705  0557  AF          	xor	a, a
1706  0558  F5          	push	af
1707  0559  33          	inc	sp
1708  055A  79          	ld	a, c
1709  055B  F5          	push	af
1710  055C  33          	inc	sp
1711  055D  CD 00 00    	call	_NIRVANAP_spriteT_callee
1712  0560  76          	halt
1713  0561  3A 00 00    	ld	a,(_s_col0)
1714  0564  F5          	push	af
1715  0565  33          	inc	sp
1716  0566  3A 00 00    	ld	a,(_s_lin0)
1717  0569  57          	ld	d,a
1718  056A  1E 49       	ld	e,0x49
1719  056C  D5          	push	de
1720  056D  CD 00 00    	call	_NIRVANAP_fillT_callee
1721  0570  F1          	pop	af
1722  0571  DD E1       	pop	ix
1723  0573  C9          	ret
1724  0574              	SECTION code_compiler
1725  0574              ;	---------------------------------
1726  0574              ; Function spr_set_fall
1727  0574              ; ---------------------------------
1728  0574              _spr_set_fall:
1729  0574  21 00 00    	ld	hl,_s_state
1730  0577  7E          	ld	a,(hl)
1731  0578  E6 FE       	and	a,0xfe
1732  057A  F6 02       	or	a,0x02
1733  057C  77          	ld	(hl),a
1734  057D  21 00 00    	ld	hl,_sprite
1735  0580  7E          	ld	a, (hl)
1736  0581  D6 06       	sub	a,0x06
1737  0583  38 0E       	jr	C,l_spr_set_fall_00104
1738  0585  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1739  0587  86          	add	a, (hl)
1740  0588  4F          	ld	c, a
1741  0589  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1742  058B  CE 00       	adc	a,0x00
1743  058D  47          	ld	b, a
1744  058E  3E 02       	ld	a,0x02
1745  0590  02          	ld	(bc), a
1746  0591  18 19       	jr	l_spr_set_fall_00106
1747  0593              l_spr_set_fall_00104:
1748  0593  2A 00 00    	ld	hl,(_sprite)
1749  0596  26 00       	ld	h,0x00
1750  0598  01 00 00    	ld	bc,_class
1751  059B  09          	add	hl,bc
1752  059C  4E          	ld	c,(hl)
1753  059D  3E 08       	ld	a,0x08
1754  059F  91          	sub	a,c
1755  05A0  D8          	ret	C
1756  05A1  2A 00 00    	ld	hl,(_sprite)
1757  05A4  26 00       	ld	h,0x00
1758  05A6  01 00 00    	ld	bc,_sprite_speed_alt
1759  05A9  09          	add	hl,bc
1760  05AA  36 01       	ld	(hl),0x01
1761  05AC              l_spr_set_fall_00106:
1762  05AC  C9          	ret
1763  05AD              	SECTION code_compiler
1764  05AD              ;	---------------------------------
1765  05AD              ; Function spr_tile
1766  05AD              ; ---------------------------------
1767  05AD              _spr_tile:
1768  05AD  45          	ld	b, l
1769  05AE  0E 00       	ld	c,0x00
1770  05B0  11 00 00    	ld	de,_state+0
1771  05B3  68          	ld	l,b
1772  05B4  26 00       	ld	h,0x00
1773  05B6  19          	add	hl, de
1774  05B7  5E          	ld	e, (hl)
1775  05B8  CB 73       	bit	6, e
1776  05BA  28 02       	jr	Z,l_spr_tile_00102
1777  05BC  0E 03       	ld	c,0x03
1778  05BE              l_spr_tile_00102:
1779  05BE  CB 63       	bit	4, e
1780  05C0  28 02       	jr	Z,l_spr_tile_00104
1781  05C2  0E 06       	ld	c,0x06
1782  05C4              l_spr_tile_00104:
1783  05C4  11 00 00    	ld	de,_class+0
1784  05C7  68          	ld	l,b
1785  05C8  26 00       	ld	h,0x00
1786  05CA  19          	add	hl, de
1787  05CB  5E          	ld	e, (hl)
1788  05CC  3E 0C       	ld	a,0x0c
1789  05CE  93          	sub	a, e
1790  05CF  DA 5C 06    	jp	C, l_spr_tile_00117
1791  05D2  16 00       	ld	d,0x00
1792  05D4  21 DB 05    	ld	hl,l_spr_tile_00134
1793  05D7  19          	add	hl, de
1794  05D8  19          	add	hl, de
1795  05D9  19          	add	hl, de
1796  05DA  E9          	jp	(hl)
1797  05DB              l_spr_tile_00134:
1798  05DB  C3 5C 06    	jp	l_spr_tile_00117
1799  05DE  C3 02 06    	jp	l_spr_tile_00105
1800  05E1  C3 12 06    	jp	l_spr_tile_00106
1801  05E4  C3 22 06    	jp	l_spr_tile_00107
1802  05E7  C3 32 06    	jp	l_spr_tile_00108
1803  05EA  C3 38 06    	jp	l_spr_tile_00109
1804  05ED  C3 3E 06    	jp	l_spr_tile_00110
1805  05F0  C3 44 06    	jp	l_spr_tile_00111
1806  05F3  C3 48 06    	jp	l_spr_tile_00112
1807  05F6  C3 50 06    	jp	l_spr_tile_00114
1808  05F9  C3 54 06    	jp	l_spr_tile_00115
1809  05FC  C3 58 06    	jp	l_spr_tile_00116
1810  05FF  C3 4C 06    	jp	l_spr_tile_00113
1811  0602              l_spr_tile_00105:
1812  0602  3E 03       	ld	a,0x03
1813  0604  48          	ld	c,b
1814  0605  47          	ld	b,a
1815  0606  C5          	push	bc
1816  0607  3E 30       	ld	a,0x30
1817  0609  F5          	push	af
1818  060A  33          	inc	sp
1819  060B  CD 5F 06    	call	_spr_tile_dir
1820  060E  F1          	pop	af
1821  060F  33          	inc	sp
1822  0610  18 4C       	jr	l_spr_tile_00118
1823  0612              l_spr_tile_00106:
1824  0612  3E 03       	ld	a,0x03
1825  0614  48          	ld	c,b
1826  0615  47          	ld	b,a
1827  0616  C5          	push	bc
1828  0617  3E 3C       	ld	a,0x3c
1829  0619  F5          	push	af
1830  061A  33          	inc	sp
1831  061B  CD 5F 06    	call	_spr_tile_dir
1832  061E  F1          	pop	af
1833  061F  33          	inc	sp
1834  0620  18 3C       	jr	l_spr_tile_00118
1835  0622              l_spr_tile_00107:
1836  0622  3E 03       	ld	a,0x03
1837  0624  48          	ld	c,b
1838  0625  47          	ld	b,a
1839  0626  C5          	push	bc
1840  0627  3E 48       	ld	a,0x48
1841  0629  F5          	push	af
1842  062A  33          	inc	sp
1843  062B  CD 5F 06    	call	_spr_tile_dir
1844  062E  F1          	pop	af
1845  062F  33          	inc	sp
1846  0630  18 2C       	jr	l_spr_tile_00118
1847  0632              l_spr_tile_00108:
1848  0632  79          	ld	a, c
1849  0633  C6 54       	add	a,0x54
1850  0635  6F          	ld	l, a
1851  0636  18 26       	jr	l_spr_tile_00118
1852  0638              l_spr_tile_00109:
1853  0638  79          	ld	a, c
1854  0639  C6 60       	add	a,0x60
1855  063B  6F          	ld	l, a
1856  063C  18 20       	jr	l_spr_tile_00118
1857  063E              l_spr_tile_00110:
1858  063E  79          	ld	a, c
1859  063F  C6 6C       	add	a,0x6c
1860  0641  6F          	ld	l, a
1861  0642  18 1A       	jr	l_spr_tile_00118
1862  0644              l_spr_tile_00111:
1863  0644  2E 7B       	ld	l,0x7b
1864  0646  18 16       	jr	l_spr_tile_00118
1865  0648              l_spr_tile_00112:
1866  0648  2E B4       	ld	l,0xb4
1867  064A  18 12       	jr	l_spr_tile_00118
1868  064C              l_spr_tile_00113:
1869  064C  2E B7       	ld	l,0xb7
1870  064E  18 0E       	jr	l_spr_tile_00118
1871  0650              l_spr_tile_00114:
1872  0650  2E 78       	ld	l,0x78
1873  0652  18 0A       	jr	l_spr_tile_00118
1874  0654              l_spr_tile_00115:
1875  0654  2E 90       	ld	l,0x90
1876  0656  18 06       	jr	l_spr_tile_00118
1877  0658              l_spr_tile_00116:
1878  0658  2E 96       	ld	l,0x96
1879  065A  18 02       	jr	l_spr_tile_00118
1880  065C              l_spr_tile_00117:
1881  065C  2E 00       	ld	l,0x00
1882  065E              l_spr_tile_00118:
1883  065E  C9          	ret
1884  065F              	SECTION code_compiler
1885  065F              ;	---------------------------------
1886  065F              ; Function spr_tile_dir
1887  065F              ; ---------------------------------
1888  065F              _spr_tile_dir:
1889  065F  CD 00 00    	call	___sdcc_enter_ix
1890  0662  3E 00       	ld	a, +((_state) & 0xFF)
1891  0664  DD 86 05    	add	a,(ix+5)
1892  0667  4F          	ld	c, a
1893  0668  3E 00       	ld	a, +((_state) / 256)
1894  066A  CE 00       	adc	a,0x00
1895  066C  47          	ld	b, a
1896  066D  0A          	ld	a, (bc)
1897  066E  4F          	ld	c,a
1898  066F  CB 67       	bit	4,a
1899  0671  28 08       	jr	Z,l_spr_tile_dir_00102
1900  0673  DD 7E 04    	ld	a,(ix+4)
1901  0676  C6 06       	add	a,0x06
1902  0678  6F          	ld	l, a
1903  0679  18 42       	jr	l_spr_tile_dir_00113
1904  067B              l_spr_tile_dir_00102:
1905  067B  3E 00       	ld	a, +((_state_a) & 0xFF)
1906  067D  DD 86 05    	add	a,(ix+5)
1907  0680  5F          	ld	e, a
1908  0681  3E 00       	ld	a, +((_state_a) / 256)
1909  0683  CE 00       	adc	a,0x00
1910  0685  57          	ld	d, a
1911  0686  1A          	ld	a, (de)
1912  0687  47          	ld	b,a
1913  0688  CB 4F       	bit	1,a
1914  068A  28 08       	jr	Z,l_spr_tile_dir_00104
1915  068C  DD 7E 04    	ld	a,(ix+4)
1916  068F  C6 09       	add	a,0x09
1917  0691  6F          	ld	l, a
1918  0692  18 29       	jr	l_spr_tile_dir_00113
1919  0694              l_spr_tile_dir_00104:
1920  0694  CB 51       	bit	2, c
1921  0696  28 05       	jr	Z,l_spr_tile_dir_00106
1922  0698  DD 6E 04    	ld	l,(ix+4)
1923  069B  18 20       	jr	l_spr_tile_dir_00113
1924  069D              l_spr_tile_dir_00106:
1925  069D  DD 7E 04    	ld	a,(ix+4)
1926  06A0  DD 86 06    	add	a,(ix+6)
1927  06A3  CB 59       	bit	3, c
1928  06A5  28 03       	jr	Z,l_spr_tile_dir_00108
1929  06A7  6F          	ld	l, a
1930  06A8  18 13       	jr	l_spr_tile_dir_00113
1931  06AA              l_spr_tile_dir_00108:
1932  06AA  CB 60       	bit	4, b
1933  06AC  28 05       	jr	Z,l_spr_tile_dir_00110
1934  06AE  DD 6E 04    	ld	l,(ix+4)
1935  06B1  18 0A       	jr	l_spr_tile_dir_00113
1936  06B3              l_spr_tile_dir_00110:
1937  06B3  CB 58       	bit	3, b
1938  06B5  28 03       	jr	Z,l_spr_tile_dir_00112
1939  06B7  6F          	ld	l, a
1940  06B8  18 03       	jr	l_spr_tile_dir_00113
1941  06BA              l_spr_tile_dir_00112:
1942  06BA  DD 6E 04    	ld	l,(ix+4)
1943  06BD              l_spr_tile_dir_00113:
1944  06BD  DD E1       	pop	ix
1945  06BF  C9          	ret
1946  06C0              	SECTION code_compiler
1947  06C0              ;	---------------------------------
1948  06C0              ; Function spr_draw_background
1949  06C0              ; ---------------------------------
1950  06C0              _spr_draw_background:
1951  06C0  76          	halt
1952  06C1  21 10 00    	ld	hl,0x0010
1953  06C4  22 00 00    	ld	(_index1),hl
1954  06C7  21 00 00    	ld	hl,_s_lin1
1955  06CA  36 00       	ld	(hl),0x00
1956  06CC  21 00 00    	ld	hl,_s_col1
1957  06CF  36 02       	ld	(hl),0x02
1958  06D1              l_spr_draw_background_00103:
1959  06D1  21 00 00    	ld	hl,_index1
1960  06D4  7E          	ld	a, (hl)
1961  06D5  D6 B0       	sub	a,0xb0
1962  06D7  23          	inc	hl
1963  06D8  7E          	ld	a, (hl)
1964  06D9  DE 00       	sbc	a,0x00
1965  06DB  30 37       	jr	NC,l_spr_draw_background_00105
1966  06DD  2B          	dec	hl
1967  06DE  7E          	ld	a, (hl)
1968  06DF  E6 0F       	and	a,0x0f
1969  06E1  20 0C       	jr	NZ,l_spr_draw_background_00102
1970  06E3  21 00 00    	ld	hl,_s_lin1
1971  06E6  7E          	ld	a, (hl)
1972  06E7  C6 10       	add	a,0x10
1973  06E9  77          	ld	(hl), a
1974  06EA  21 00 00    	ld	hl,_s_col1
1975  06ED  36 00       	ld	(hl),0x00
1976  06EF              l_spr_draw_background_00102:
1977  06EF  01 00 00    	ld	bc,_lvl_1
1978  06F2  2A 00 00    	ld	hl,(_index1)
1979  06F5  09          	add	hl,bc
1980  06F6  46          	ld	b, (hl)
1981  06F7  3A 00 00    	ld	a,(_s_col1)
1982  06FA  F5          	push	af
1983  06FB  33          	inc	sp
1984  06FC  3A 00 00    	ld	a,(_s_lin1)
1985  06FF  48          	ld	c,b
1986  0700  47          	ld	b,a
1987  0701  C5          	push	bc
1988  0702  CD 00 00    	call	_NIRVANAP_drawT_callee
1989  0705  21 00 00    	ld	hl,_s_col1
1990  0708  34          	inc	(hl)
1991  0709  34          	inc	(hl)
1992  070A  21 00 00    	ld	hl,_index1
1993  070D  34          	inc	(hl)
1994  070E  20 C1       	jr	NZ,l_spr_draw_background_00103
1995  0710  23          	inc	hl
1996  0711  34          	inc	(hl)
1997  0712  18 BD       	jr	l_spr_draw_background_00103
1998  0714              l_spr_draw_background_00105:
1999  0714  21 00 00    	ld	hl,_screen_paper
2000  0717  36 00       	ld	(hl),0x00
2001  0719  21 00 00    	ld	hl,_screen_ink
2002  071C  36 00       	ld	(hl),0x00
2003  071E  C9          	ret
2004  071F              	SECTION code_compiler
2005  071F              ;	---------------------------------
2006  071F              ; Function spr_draw_clear
2007  071F              ; ---------------------------------
2008  071F              _spr_draw_clear:
2009  071F  F3          	di
2010  0720  2E 00       	ld	l,0x00
2011  0722  CD 00 00    	call	_zx_cls_fastcall
2012  0725  21 00 00    	ld	hl,_s_lin1
2013  0728  36 10       	ld	(hl),0x10
2014  072A              l_spr_draw_clear_00105:
2015  072A  21 00 00    	ld	hl,_s_col1
2016  072D  36 00       	ld	(hl),0x00
2017  072F              l_spr_draw_clear_00103:
2018  072F  2A FF FF    	ld	hl,(_s_col1 - 1)
2019  0732  3A 00 00    	ld	a,(_s_lin1)
2020  0735  6F          	ld	l,a
2021  0736  E5          	push	hl
2022  0737  AF          	xor	a, a
2023  0738  F5          	push	af
2024  0739  33          	inc	sp
2025  073A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2026  073D  21 00 00    	ld	hl,_s_col1
2027  0740  7E          	ld	a,(hl)
2028  0741  C6 02       	add	a,0x02
2029  0743  77          	ld	(hl),a
2030  0744  D6 20       	sub	a,0x20
2031  0746  38 E7       	jr	C,l_spr_draw_clear_00103
2032  0748  21 00 00    	ld	hl,_s_lin1
2033  074B  7E          	ld	a, (hl)
2034  074C  C6 10       	add	a,0x10
2035  074E  77          	ld	(hl), a
2036  074F  3E A2       	ld	a,0xa2
2037  0751  96          	sub	a, (hl)
2038  0752  30 D6       	jr	NC,l_spr_draw_clear_00105
2039  0754  FB          	ei
2040  0755  C9          	ret
2041  0756              	SECTION code_compiler
2042  0756              ;	---------------------------------
2043  0756              ; Function spr_back_paint
2044  0756              ; ---------------------------------
2045  0756              _spr_back_paint:
2046  0756  CD 00 00    	call	___sdcc_enter_ix
2047  0759  76          	halt
2048  075A  F3          	di
2049  075B  DD 7E 04    	ld	a,(ix+4)
2050  075E  C6 40       	add	a,0x40
2051  0760  4F          	ld	c, a
2052  0761  DD 7E 05    	ld	a,(ix+5)
2053  0764  CE 00       	adc	a,0x00
2054  0766  47          	ld	b, a
2055  0767  C5          	push	bc
2056  0768  CD 5E 08    	call	_spr_draw_index
2057  076B  F1          	pop	af
2058  076C  DD 7E 04    	ld	a,(ix+4)
2059  076F  C6 42       	add	a,0x42
2060  0771  4F          	ld	c, a
2061  0772  DD 7E 05    	ld	a,(ix+5)
2062  0775  CE 00       	adc	a,0x00
2063  0777  47          	ld	b, a
2064  0778  C5          	push	bc
2065  0779  CD 5E 08    	call	_spr_draw_index
2066  077C  F1          	pop	af
2067  077D  DD 7E 04    	ld	a,(ix+4)
2068  0780  C6 44       	add	a,0x44
2069  0782  4F          	ld	c, a
2070  0783  DD 7E 05    	ld	a,(ix+5)
2071  0786  CE 00       	adc	a,0x00
2072  0788  47          	ld	b, a
2073  0789  C5          	push	bc
2074  078A  CD 5E 08    	call	_spr_draw_index
2075  078D  F1          	pop	af
2076  078E  DD 7E 04    	ld	a,(ix+4)
2077  0791  C6 80       	add	a,0x80
2078  0793  4F          	ld	c, a
2079  0794  DD 7E 05    	ld	a,(ix+5)
2080  0797  CE 00       	adc	a,0x00
2081  0799  47          	ld	b, a
2082  079A  C5          	push	bc
2083  079B  CD 5E 08    	call	_spr_draw_index
2084  079E  F1          	pop	af
2085  079F  DD 7E 04    	ld	a,(ix+4)
2086  07A2  C6 82       	add	a,0x82
2087  07A4  4F          	ld	c, a
2088  07A5  DD 7E 05    	ld	a,(ix+5)
2089  07A8  CE 00       	adc	a,0x00
2090  07AA  47          	ld	b, a
2091  07AB  C5          	push	bc
2092  07AC  CD 5E 08    	call	_spr_draw_index
2093  07AF  F1          	pop	af
2094  07B0  DD 7E 04    	ld	a,(ix+4)
2095  07B3  C6 84       	add	a,0x84
2096  07B5  4F          	ld	c, a
2097  07B6  DD 7E 05    	ld	a,(ix+5)
2098  07B9  CE 00       	adc	a,0x00
2099  07BB  47          	ld	b, a
2100  07BC  C5          	push	bc
2101  07BD  CD 5E 08    	call	_spr_draw_index
2102  07C0  F1          	pop	af
2103  07C1  FB          	ei
2104  07C2  DD E1       	pop	ix
2105  07C4  C9          	ret
2106  07C5              	SECTION code_compiler
2107  07C5              ;	---------------------------------
2108  07C5              ; Function spr_brick_anim
2109  07C5              ; ---------------------------------
2110  07C5              _spr_brick_anim:
2111  07C5  CD 00 00    	call	___sdcc_enter_ix
2112  07C8  F5          	push	af
2113  07C9  DD 75 FF    	ld	(ix-1),l
2114  07CC  2A 00 00    	ld	hl,(_index_player)
2115  07CF  26 00       	ld	h,0x00
2116  07D1  01 00 00    	ld	bc,_hit_col
2117  07D4  09          	add	hl,bc
2118  07D5  56          	ld	d, (hl)
2119  07D6  2A 00 00    	ld	hl,(_index_player)
2120  07D9  26 00       	ld	h,0x00
2121  07DB  01 00 00    	ld	bc,_hit_lin
2122  07DE  09          	add	hl,bc
2123  07DF  5E          	ld	e, (hl)
2124  07E0  D5          	push	de
2125  07E1  D5          	push	de
2126  07E2  CD 00 00    	call	_spr_calc_index
2127  07E5  F1          	pop	af
2128  07E6  D1          	pop	de
2129  07E7  22 00 00    	ld	(_index1),hl
2130  07EA  01 F0 FF    	ld	bc,0xfff0
2131  07ED  09          	add	hl,bc
2132  07EE  01 00 00    	ld	bc,_lvl_1
2133  07F1  09          	add	hl,bc
2134  07F2  7E          	ld	a, (hl)
2135  07F3  DD 77 FE    	ld	(ix-2),a
2136  07F6  01 00 00    	ld	bc,_lvl_1
2137  07F9  2A 00 00    	ld	hl,(_index1)
2138  07FC  09          	add	hl,bc
2139  07FD  4D          	ld	c,l
2140  07FE  46          	ld	b, (hl)
2141  07FF  DD 7E FF    	ld	a,(ix-1)
2142  0802  B7          	or	a, a
2143  0803  28 08       	jr	Z,l_spr_brick_anim_00102
2144  0805  7B          	ld	a, e
2145  0806  C6 F6       	add	a,0xf6
2146  0808  32 00 00    	ld	(_tmp),a
2147  080B  18 06       	jr	l_spr_brick_anim_00103
2148  080D              l_spr_brick_anim_00102:
2149  080D  7B          	ld	a, e
2150  080E  C6 F8       	add	a,0xf8
2151  0810  32 00 00    	ld	(_tmp),a
2152  0813              l_spr_brick_anim_00103:
2153  0813  DD 7E FF    	ld	a,(ix-1)
2154  0816  B7          	or	a, a
2155  0817  28 23       	jr	Z,l_spr_brick_anim_00105
2156  0819  D5          	push	de
2157  081A  D5          	push	de
2158  081B  33          	inc	sp
2159  081C  53          	ld	d, e
2160  081D  1E 49       	ld	e,0x49
2161  081F  D5          	push	de
2162  0820  CD 00 00    	call	_NIRVANAP_fillC_callee
2163  0823  D1          	pop	de
2164  0824  62          	ld	h, d
2165  0825  24          	inc	h
2166  0826  D5          	push	de
2167  0827  E5          	push	hl
2168  0828  33          	inc	sp
2169  0829  53          	ld	d, e
2170  082A  1E 49       	ld	e,0x49
2171  082C  D5          	push	de
2172  082D  CD 00 00    	call	_NIRVANAP_fillC_callee
2173  0830  33          	inc	sp
2174  0831  3A 00 00    	ld	a,(_tmp)
2175  0834  48          	ld	c,b
2176  0835  47          	ld	b,a
2177  0836  C5          	push	bc
2178  0837  CD 00 00    	call	_NIRVANAP_drawT_callee
2179  083A  18 1E       	jr	l_spr_brick_anim_00107
2180  083C              l_spr_brick_anim_00105:
2181  083C  3A 00 00    	ld	a,(_tmp)
2182  083F  C6 F0       	add	a,0xf0
2183  0841  C5          	push	bc
2184  0842  D5          	push	de
2185  0843  5F          	ld	e,a
2186  0844  D5          	push	de
2187  0845  DD 7E FE    	ld	a,(ix-2)
2188  0848  F5          	push	af
2189  0849  33          	inc	sp
2190  084A  CD 00 00    	call	_NIRVANAP_drawT_callee
2191  084D  D1          	pop	de
2192  084E  C1          	pop	bc
2193  084F  D5          	push	de
2194  0850  33          	inc	sp
2195  0851  3A 00 00    	ld	a,(_tmp)
2196  0854  48          	ld	c,b
2197  0855  47          	ld	b,a
2198  0856  C5          	push	bc
2199  0857  CD 00 00    	call	_NIRVANAP_drawT_callee
2200  085A              l_spr_brick_anim_00107:
2201  085A  F1          	pop	af
2202  085B  DD E1       	pop	ix
2203  085D  C9          	ret
2204  085E              	SECTION code_compiler
2205  085E              ;	---------------------------------
2206  085E              ; Function spr_draw_index
2207  085E              ; ---------------------------------
2208  085E              _spr_draw_index:
2209  085E  CD 00 00    	call	___sdcc_enter_ix
2210  0861  DD 7E 04    	ld	a,(ix+4)
2211  0864  E6 1F       	and	a,0x1f
2212  0866  32 00 00    	ld	(_s_col1),a
2213  0869  DD 4E 04    	ld	c,(ix+4)
2214  086C  DD 5E 05    	ld	e,(ix+5)
2215  086F  06 05       	ld	b,0x05
2216  0871  79          	ld	a,c
2217  0872              l_spr_draw_index_00103:
2218  0872  CB 3B       	srl	e
2219  0874  1F          	rra
2220  0875  10 FB       	djnz	l_spr_draw_index_00103
2221  0877  21 00 00    	ld	hl,_s_lin1
2222  087A  77          	ld	(hl),a
2223  087B  07          	rlca
2224  087C  07          	rlca
2225  087D  07          	rlca
2226  087E  E6 F8       	and	a,0xf8
2227  0880  77          	ld	(hl), a
2228  0881  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2229  0883  DD 86 04    	add	a,(ix+4)
2230  0886  4F          	ld	c, a
2231  0887  3E 00       	ld	a, +((_lvl_1) / 256)
2232  0889  DD 8E 05    	adc	a,(ix+5)
2233  088C  47          	ld	b, a
2234  088D  0A          	ld	a, (bc)
2235  088E  47          	ld	b, a
2236  088F  3A 00 00    	ld	a,(_s_col1)
2237  0892  F5          	push	af
2238  0893  33          	inc	sp
2239  0894  3A 00 00    	ld	a,(_s_lin1)
2240  0897  48          	ld	c,b
2241  0898  47          	ld	b,a
2242  0899  C5          	push	bc
2243  089A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2244  089D  DD E1       	pop	ix
2245  089F  C9          	ret
2246  08A0              	SECTION code_compiler
2247  08A0              ;	---------------------------------
2248  08A0              ; Function spr_draw_row
2249  08A0              ; ---------------------------------
2250  08A0              _spr_draw_row:
2251  08A0  CD 00 00    	call	___sdcc_enter_ix
2252  08A3  3B          	dec	sp
2253  08A4  F3          	di
2254  08A5  21 00 00    	ld	hl,_tmp
2255  08A8  36 00       	ld	(hl),0x00
2256  08AA  DD 7E 04    	ld	a,(ix+4)
2257  08AD  07          	rlca
2258  08AE  07          	rlca
2259  08AF  07          	rlca
2260  08B0  E6 F8       	and	a,0xf8
2261  08B2  DD 77 FF    	ld	(ix-1),a
2262  08B5              l_spr_draw_row_00101:
2263  08B5  21 00 00    	ld	hl,_tmp
2264  08B8  7E          	ld	a, (hl)
2265  08B9  D6 20       	sub	a,0x20
2266  08BB  30 38       	jr	NC,l_spr_draw_row_00103
2267  08BD  DD 4E 04    	ld	c,(ix+4)
2268  08C0  3E 00       	ld	a,0x00
2269  08C2  CB 21       	sla	c
2270  08C4  17          	rla
2271  08C5  CB 21       	sla	c
2272  08C7  17          	rla
2273  08C8  CB 21       	sla	c
2274  08CA  17          	rla
2275  08CB  CB 21       	sla	c
2276  08CD  17          	rla
2277  08CE  CB 21       	sla	c
2278  08D0  17          	rla
2279  08D1  47          	ld	b,a
2280  08D2  5E          	ld	e, (hl)
2281  08D3  16 00       	ld	d,0x00
2282  08D5  79          	ld	a, c
2283  08D6  83          	add	a, e
2284  08D7  21 00 00    	ld	hl,_index1
2285  08DA  77          	ld	(hl), a
2286  08DB  78          	ld	a, b
2287  08DC  8A          	adc	a, d
2288  08DD  23          	inc	hl
2289  08DE  77          	ld	(hl), a
2290  08DF  2A FF FF    	ld	hl,(_tmp-1)
2291  08E2  DD 6E FF    	ld	l,(ix-1)
2292  08E5  3A 00 00    	ld	a,(_game_brick_tile)
2293  08E8  E5          	push	hl
2294  08E9  F5          	push	af
2295  08EA  33          	inc	sp
2296  08EB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2297  08EE  21 00 00    	ld	hl,_tmp
2298  08F1  34          	inc	(hl)
2299  08F2  34          	inc	(hl)
2300  08F3  18 C0       	jr	l_spr_draw_row_00101
2301  08F5              l_spr_draw_row_00103:
2302  08F5  FB          	ei
2303  08F6  33          	inc	sp
2304  08F7  DD E1       	pop	ix
2305  08F9  C9          	ret
2306  08FA              	SECTION code_compiler
2307  08FA              ;	---------------------------------
2308  08FA              ; Function spr_calc_hor
2309  08FA              ; ---------------------------------
2310  08FA              _spr_calc_hor:
2311  08FA  CD 00 00    	call	___sdcc_enter_ix
2312  08FD  3E 00       	ld	a, +((_class) & 0xFF)
2313  08FF  DD 86 04    	add	a,(ix+4)
2314  0902  4F          	ld	c, a
2315  0903  3E 00       	ld	a, +((_class) / 256)
2316  0905  CE 00       	adc	a,0x00
2317  0907  47          	ld	b, a
2318  0908  0A          	ld	a, (bc)
2319  0909  D6 0C       	sub	a,0x0c
2320  090B  28 20       	jr	Z,l_spr_calc_hor_00102
2321  090D  3E 00       	ld	a, +((_col) & 0xFF)
2322  090F  DD 86 04    	add	a,(ix+4)
2323  0912  4F          	ld	c, a
2324  0913  3E 00       	ld	a, +((_col) / 256)
2325  0915  CE 00       	adc	a,0x00
2326  0917  47          	ld	b, a
2327  0918  0A          	ld	a, (bc)
2328  0919  4F          	ld	c, a
2329  091A  87          	add	a, a
2330  091B  81          	add	a, c
2331  091C  4F          	ld	c, a
2332  091D  3E 00       	ld	a, +((_colint) & 0xFF)
2333  091F  DD 86 04    	add	a,(ix+4)
2334  0922  5F          	ld	e, a
2335  0923  3E 00       	ld	a, +((_colint) / 256)
2336  0925  CE 00       	adc	a,0x00
2337  0927  57          	ld	d, a
2338  0928  1A          	ld	a, (de)
2339  0929  6F          	ld	l, a
2340  092A  09          	add	hl, bc
2341  092B  18 10       	jr	l_spr_calc_hor_00104
2342  092D              l_spr_calc_hor_00102:
2343  092D  3E 00       	ld	a, +((_col) & 0xFF)
2344  092F  DD 86 04    	add	a,(ix+4)
2345  0932  4F          	ld	c, a
2346  0933  3E 00       	ld	a, +((_col) / 256)
2347  0935  CE 00       	adc	a,0x00
2348  0937  47          	ld	b, a
2349  0938  0A          	ld	a, (bc)
2350  0939  4F          	ld	c, a
2351  093A  69          	ld	l, c
2352  093B  29          	add	hl, hl
2353  093C  09          	add	hl, bc
2354  093D              l_spr_calc_hor_00104:
2355  093D  DD E1       	pop	ix
2356  093F  C9          	ret
2357  0940              	SECTION code_compiler
2358  0940              ;	---------------------------------
2359  0940              ; Function spr_collision_check
2360  0940              ; ---------------------------------
2361  0940              _spr_collision_check:
2362  0940  CD 00 00    	call	___sdcc_enter_ix
2363  0943  3E 00       	ld	a, +((_class) & 0xFF)
2364  0945  DD 86 05    	add	a,(ix+5)
2365  0948  4F          	ld	c, a
2366  0949  3E 00       	ld	a, +((_class) / 256)
2367  094B  CE 00       	adc	a,0x00
2368  094D  47          	ld	b, a
2369  094E  0A          	ld	a, (bc)
2370  094F  B7          	or	a, a
2371  0950  28 10       	jr	Z,l_spr_collision_check_00101
2372  0952  3E 00       	ld	a, +((_state) & 0xFF)
2373  0954  DD 86 05    	add	a,(ix+5)
2374  0957  4F          	ld	c, a
2375  0958  3E 00       	ld	a, +((_state) / 256)
2376  095A  CE 00       	adc	a,0x00
2377  095C  47          	ld	b, a
2378  095D  0A          	ld	a, (bc)
2379  095E  CB 6F       	bit	5, a
2380  0960  28 04       	jr	Z,l_spr_collision_check_00102
2381  0962              l_spr_collision_check_00101:
2382  0962  2E 00       	ld	l,0x00
2383  0964  18 6D       	jr	l_spr_collision_check_00109
2384  0966              l_spr_collision_check_00102:
2385  0966  01 00 00    	ld	bc,_lin+0
2386  0969  79          	ld	a, c
2387  096A  DD 86 05    	add	a,(ix+5)
2388  096D  5F          	ld	e, a
2389  096E  78          	ld	a, b
2390  096F  CE 00       	adc	a,0x00
2391  0971  57          	ld	d, a
2392  0972  1A          	ld	a, (de)
2393  0973  5F          	ld	e, a
2394  0974  16 00       	ld	d,0x00
2395  0976  79          	ld	a, c
2396  0977  DD 86 04    	add	a,(ix+4)
2397  097A  4F          	ld	c, a
2398  097B  78          	ld	a, b
2399  097C  CE 00       	adc	a,0x00
2400  097E  47          	ld	b, a
2401  097F  0A          	ld	a, (bc)
2402  0980  4F          	ld	c, a
2403  0981  AF          	xor	a,a
2404  0982  47          	ld	b,a
2405  0983  EB          	ex	de,hl
2406  0984  ED 42       	sbc	hl,bc
2407  0986  CD 00 00    	call	_abs_fastcall
2408  0989  22 00 00    	ld	(_tmp_ui),hl
2409  098C  21 01 00    	ld	hl,_tmp_ui + 1
2410  098F  DD 7E 06    	ld	a,(ix+6)
2411  0992  06 00       	ld	b,0x00
2412  0994  2B          	dec	hl
2413  0995  96          	sub	a, (hl)
2414  0996  78          	ld	a, b
2415  0997  23          	inc	hl
2416  0998  9E          	sbc	a, (hl)
2417  0999  30 04       	jr	NC,l_spr_collision_check_00105
2418  099B  2E 00       	ld	l,0x00
2419  099D  18 34       	jr	l_spr_collision_check_00109
2420  099F              l_spr_collision_check_00105:
2421  099F  DD 7E 04    	ld	a,(ix+4)
2422  09A2  F5          	push	af
2423  09A3  33          	inc	sp
2424  09A4  CD FA 08    	call	_spr_calc_hor
2425  09A7  33          	inc	sp
2426  09A8  4D          	ld	c, l
2427  09A9  C5          	push	bc
2428  09AA  DD 7E 05    	ld	a,(ix+5)
2429  09AD  F5          	push	af
2430  09AE  33          	inc	sp
2431  09AF  CD FA 08    	call	_spr_calc_hor
2432  09B2  33          	inc	sp
2433  09B3  C1          	pop	bc
2434  09B4  5D          	ld	e,l
2435  09B5  69          	ld	l, c
2436  09B6  AF          	xor	a,a
2437  09B7  67          	ld	h,a
2438  09B8  57          	ld	d,a
2439  09B9  ED 52       	sbc	hl,de
2440  09BB  CD 00 00    	call	_abs_fastcall
2441  09BE  22 00 00    	ld	(_tmp_ui),hl
2442  09C1  3E 03       	ld	a,0x03
2443  09C3  21 00 00    	ld	hl,_tmp_ui
2444  09C6  BE          	cp	a, (hl)
2445  09C7  3E 00       	ld	a,0x00
2446  09C9  23          	inc	hl
2447  09CA  9E          	sbc	a, (hl)
2448  09CB  30 04       	jr	NC,l_spr_collision_check_00107
2449  09CD  2E 00       	ld	l,0x00
2450  09CF  18 02       	jr	l_spr_collision_check_00109
2451  09D1              l_spr_collision_check_00107:
2452  09D1  2E 01       	ld	l,0x01
2453  09D3              l_spr_collision_check_00109:
2454  09D3  DD E1       	pop	ix
2455  09D5  C9          	ret
2456  09D6              	SECTION code_compiler
2457  09D6              ;	---------------------------------
2458  09D6              ; Function spr_kill_all
2459  09D6              ; ---------------------------------
2460  09D6              _spr_kill_all:
2461  09D6  21 00 00    	ld	hl,_sprite
2462  09D9  36 00       	ld	(hl),0x00
2463  09DB              l_spr_kill_all_00102:
2464  09DB  2A 00 00    	ld	hl,(_sprite)
2465  09DE  CD 02 05    	call	_spr_destroy
2466  09E1  21 00 00    	ld	hl,_sprite
2467  09E4  7E          	ld	a,(hl)
2468  09E5  3C          	inc	a
2469  09E6  77          	ld	(hl),a
2470  09E7  D6 08       	sub	a,0x08
2471  09E9  38 F0       	jr	C,l_spr_kill_all_00102
2472  09EB  C9          	ret
2473  09EC              	SECTION code_compiler
2474  09EC              ;	---------------------------------
2475  09EC              ; Function spr_back_clr
2476  09EC              ; ---------------------------------
2477  09EC              _spr_back_clr:
2478  09EC  CD 00 00    	call	___sdcc_enter_ix
2479  09EF  F5          	push	af
2480  09F0  F5          	push	af
2481  09F1  3B          	dec	sp
2482  09F2  2A FF FF    	ld	hl,(_s_col0 - 1)
2483  09F5  3A 00 00    	ld	a,(_s_lin0)
2484  09F8  6F          	ld	l,a
2485  09F9  E5          	push	hl
2486  09FA  CD 00 00    	call	_spr_calc_index
2487  09FD  F1          	pop	af
2488  09FE  4D          	ld	c, l
2489  09FF  44          	ld	b, h
2490  0A00  21 00 00    	ld	hl,_s_lin0
2491  0A03  7E          	ld	a, (hl)
2492  0A04  E6 0F       	and	a,0x0f
2493  0A06  5F          	ld	e, a
2494  0A07  7E          	ld	a, (hl)
2495  0A08  07          	rlca
2496  0A09  07          	rlca
2497  0A0A  07          	rlca
2498  0A0B  07          	rlca
2499  0A0C  E6 0F       	and	a,0x0f
2500  0A0E  DD 77 FF    	ld	(ix-1),a
2501  0A11  21 10 00    	ld	hl,0x0010
2502  0A14  09          	add	hl,bc
2503  0A15  DD 75 FD    	ld	(ix-3),l
2504  0A18  DD 74 FE    	ld	(ix-2),h
2505  0A1B  21 00 00    	ld	hl,_s_col0
2506  0A1E  CB 46       	bit	0, (hl)
2507  0A20  20 5B       	jr	NZ,l_spr_back_clr_00108
2508  0A22  7B          	ld	a, e
2509  0A23  B7          	or	a, a
2510  0A24  20 18       	jr	NZ,l_spr_back_clr_00102
2511  0A26  21 00 00    	ld	hl,_lvl_1
2512  0A29  09          	add	hl, bc
2513  0A2A  46          	ld	b, (hl)
2514  0A2B  3A 00 00    	ld	a,(_s_col0)
2515  0A2E  F5          	push	af
2516  0A2F  33          	inc	sp
2517  0A30  3A 00 00    	ld	a,(_s_lin0)
2518  0A33  48          	ld	c,b
2519  0A34  47          	ld	b,a
2520  0A35  C5          	push	bc
2521  0A36  CD 42 0B    	call	_spr_tile_paint
2522  0A39  F1          	pop	af
2523  0A3A  33          	inc	sp
2524  0A3B  C3 3D 0B    	jp	l_spr_back_clr_00110
2525  0A3E              l_spr_back_clr_00102:
2526  0A3E  DD 7E FF    	ld	a,(ix-1)
2527  0A41  07          	rlca
2528  0A42  07          	rlca
2529  0A43  07          	rlca
2530  0A44  07          	rlca
2531  0A45  E6 F0       	and	a,0xf0
2532  0A47  57          	ld	d, a
2533  0A48  21 00 00    	ld	hl,_lvl_1
2534  0A4B  09          	add	hl, bc
2535  0A4C  46          	ld	b, (hl)
2536  0A4D  3A 00 00    	ld	a,(_s_col0)
2537  0A50  D5          	push	de
2538  0A51  5A          	ld	e,d
2539  0A52  57          	ld	d,a
2540  0A53  D5          	push	de
2541  0A54  C5          	push	bc
2542  0A55  33          	inc	sp
2543  0A56  CD 42 0B    	call	_spr_tile_paint
2544  0A59  F1          	pop	af
2545  0A5A  33          	inc	sp
2546  0A5B  D1          	pop	de
2547  0A5C  7A          	ld	a, d
2548  0A5D  C6 10       	add	a,0x10
2549  0A5F  57          	ld	d, a
2550  0A60  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2551  0A62  DD 86 FD    	add	a,(ix-3)
2552  0A65  6F          	ld	l, a
2553  0A66  3E 00       	ld	a, +((_lvl_1) / 256)
2554  0A68  DD 8E FE    	adc	a,(ix-2)
2555  0A6B  67          	ld	h, a
2556  0A6C  46          	ld	b, (hl)
2557  0A6D  3A 00 00    	ld	a,(_s_col0)
2558  0A70  5A          	ld	e,d
2559  0A71  57          	ld	d,a
2560  0A72  D5          	push	de
2561  0A73  C5          	push	bc
2562  0A74  33          	inc	sp
2563  0A75  CD 42 0B    	call	_spr_tile_paint
2564  0A78  F1          	pop	af
2565  0A79  33          	inc	sp
2566  0A7A  C3 3D 0B    	jp	l_spr_back_clr_00110
2567  0A7D              l_spr_back_clr_00108:
2568  0A7D  21 00 00    	ld	hl,_s_col0
2569  0A80  56          	ld	d, (hl)
2570  0A81  15          	dec	d
2571  0A82  21 01 00    	ld	hl,0x0001
2572  0A85  09          	add	hl,bc
2573  0A86  E3          	ex	(sp), hl
2574  0A87  7B          	ld	a, e
2575  0A88  B7          	or	a, a
2576  0A89  20 32       	jr	NZ,l_spr_back_clr_00105
2577  0A8B  21 00 00    	ld	hl,_lvl_1
2578  0A8E  09          	add	hl, bc
2579  0A8F  46          	ld	b, (hl)
2580  0A90  D5          	push	de
2581  0A91  33          	inc	sp
2582  0A92  3A 00 00    	ld	a,(_s_lin0)
2583  0A95  48          	ld	c,b
2584  0A96  47          	ld	b,a
2585  0A97  C5          	push	bc
2586  0A98  CD 42 0B    	call	_spr_tile_paint
2587  0A9B  F1          	pop	af
2588  0A9C  33          	inc	sp
2589  0A9D  21 00 00    	ld	hl,_s_col0
2590  0AA0  46          	ld	b, (hl)
2591  0AA1  04          	inc	b
2592  0AA2  11 00 00    	ld	de,_lvl_1
2593  0AA5  DD 6E FB    	ld	l,(ix-5)
2594  0AA8  DD 66 FC    	ld	h,(ix-4)
2595  0AAB  19          	add	hl,de
2596  0AAC  56          	ld	d, (hl)
2597  0AAD  C5          	push	bc
2598  0AAE  33          	inc	sp
2599  0AAF  3A 00 00    	ld	a,(_s_lin0)
2600  0AB2  5A          	ld	e,d
2601  0AB3  57          	ld	d,a
2602  0AB4  D5          	push	de
2603  0AB5  CD 42 0B    	call	_spr_tile_paint
2604  0AB8  F1          	pop	af
2605  0AB9  33          	inc	sp
2606  0ABA  C3 3D 0B    	jp	l_spr_back_clr_00110
2607  0ABD              l_spr_back_clr_00105:
2608  0ABD  DD 7E FF    	ld	a,(ix-1)
2609  0AC0  07          	rlca
2610  0AC1  07          	rlca
2611  0AC2  07          	rlca
2612  0AC3  07          	rlca
2613  0AC4  E6 F0       	and	a,0xf0
2614  0AC6  DD 77 FF    	ld	(ix-1),a
2615  0AC9  21 00 00    	ld	hl,_lvl_1
2616  0ACC  09          	add	hl, bc
2617  0ACD  5E          	ld	e, (hl)
2618  0ACE  C5          	push	bc
2619  0ACF  D5          	push	de
2620  0AD0  33          	inc	sp
2621  0AD1  DD 56 FF    	ld	d,(ix-1)
2622  0AD4  D5          	push	de
2623  0AD5  CD 42 0B    	call	_spr_tile_paint
2624  0AD8  F1          	pop	af
2625  0AD9  33          	inc	sp
2626  0ADA  C1          	pop	bc
2627  0ADB  21 00 00    	ld	hl,_s_col0
2628  0ADE  5E          	ld	e, (hl)
2629  0ADF  1C          	inc	e
2630  0AE0  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2631  0AE2  DD 86 FB    	add	a,(ix-5)
2632  0AE5  6F          	ld	l, a
2633  0AE6  3E 00       	ld	a, +((_lvl_1) / 256)
2634  0AE8  DD 8E FC    	adc	a,(ix-4)
2635  0AEB  67          	ld	h, a
2636  0AEC  56          	ld	d, (hl)
2637  0AED  C5          	push	bc
2638  0AEE  7B          	ld	a, e
2639  0AEF  F5          	push	af
2640  0AF0  33          	inc	sp
2641  0AF1  DD 7E FF    	ld	a,(ix-1)
2642  0AF4  5A          	ld	e,d
2643  0AF5  57          	ld	d,a
2644  0AF6  D5          	push	de
2645  0AF7  CD 42 0B    	call	_spr_tile_paint
2646  0AFA  F1          	pop	af
2647  0AFB  33          	inc	sp
2648  0AFC  C1          	pop	bc
2649  0AFD  DD 7E FF    	ld	a,(ix-1)
2650  0B00  C6 10       	add	a,0x10
2651  0B02  5F          	ld	e, a
2652  0B03  21 00 00    	ld	hl,_s_col0
2653  0B06  56          	ld	d, (hl)
2654  0B07  15          	dec	d
2655  0B08  3E 00       	ld	a, +((_lvl_1) & 0xFF)
2656  0B0A  DD 86 FD    	add	a,(ix-3)
2657  0B0D  6F          	ld	l, a
2658  0B0E  3E 00       	ld	a, +((_lvl_1) / 256)
2659  0B10  DD 8E FE    	adc	a,(ix-2)
2660  0B13  67          	ld	h, a
2661  0B14  7E          	ld	a, (hl)
2662  0B15  DD 77 FB    	ld	(ix-5),a
2663  0B18  C5          	push	bc
2664  0B19  D5          	push	de
2665  0B1A  D5          	push	de
2666  0B1B  DD 7E FB    	ld	a,(ix-5)
2667  0B1E  F5          	push	af
2668  0B1F  33          	inc	sp
2669  0B20  CD 42 0B    	call	_spr_tile_paint
2670  0B23  F1          	pop	af
2671  0B24  33          	inc	sp
2672  0B25  D1          	pop	de
2673  0B26  C1          	pop	bc
2674  0B27  21 00 00    	ld	hl,_s_col0
2675  0B2A  56          	ld	d, (hl)
2676  0B2B  14          	inc	d
2677  0B2C  21 11 00    	ld	hl,0x0011
2678  0B2F  09          	add	hl, bc
2679  0B30  01 00 00    	ld	bc,_lvl_1
2680  0B33  09          	add	hl, bc
2681  0B34  46          	ld	b, (hl)
2682  0B35  D5          	push	de
2683  0B36  C5          	push	bc
2684  0B37  33          	inc	sp
2685  0B38  CD 42 0B    	call	_spr_tile_paint
2686  0B3B  F1          	pop	af
2687  0B3C  33          	inc	sp
2688  0B3D              l_spr_back_clr_00110:
2689  0B3D  DD F9       	ld	sp, ix
2690  0B3F  DD E1       	pop	ix
2691  0B41  C9          	ret
2692  0B42              	SECTION code_compiler
2693  0B42              ;	---------------------------------
2694  0B42              ; Function spr_tile_paint
2695  0B42              ; ---------------------------------
2696  0B42              _spr_tile_paint:
2697  0B42  CD 00 00    	call	___sdcc_enter_ix
2698  0B45  DD 7E 04    	ld	a,(ix+4)
2699  0B48  B7          	or	a, a
2700  0B49  20 3E       	jr	NZ,l_spr_tile_paint_00102
2701  0B4B  DD 7E 06    	ld	a,(ix+6)
2702  0B4E  F5          	push	af
2703  0B4F  33          	inc	sp
2704  0B50  DD 56 05    	ld	d,(ix+5)
2705  0B53  1E 49       	ld	e,0x49
2706  0B55  D5          	push	de
2707  0B56  CD 00 00    	call	_NIRVANAP_fillC_callee
2708  0B59  DD 7E 05    	ld	a,(ix+5)
2709  0B5C  C6 08       	add	a,0x08
2710  0B5E  47          	ld	b, a
2711  0B5F  DD 7E 06    	ld	a,(ix+6)
2712  0B62  F5          	push	af
2713  0B63  33          	inc	sp
2714  0B64  C5          	push	bc
2715  0B65  33          	inc	sp
2716  0B66  3E 49       	ld	a,0x49
2717  0B68  F5          	push	af
2718  0B69  33          	inc	sp
2719  0B6A  CD 00 00    	call	_NIRVANAP_fillC_callee
2720  0B6D  DD 56 06    	ld	d,(ix+6)
2721  0B70  14          	inc	d
2722  0B71  D5          	push	de
2723  0B72  D5          	push	de
2724  0B73  33          	inc	sp
2725  0B74  DD 56 05    	ld	d,(ix+5)
2726  0B77  1E 49       	ld	e,0x49
2727  0B79  D5          	push	de
2728  0B7A  CD 00 00    	call	_NIRVANAP_fillC_callee
2729  0B7D  33          	inc	sp
2730  0B7E  C5          	push	bc
2731  0B7F  33          	inc	sp
2732  0B80  3E 49       	ld	a,0x49
2733  0B82  F5          	push	af
2734  0B83  33          	inc	sp
2735  0B84  CD 00 00    	call	_NIRVANAP_fillC_callee
2736  0B87  18 0F       	jr	l_spr_tile_paint_00104
2737  0B89              l_spr_tile_paint_00102:
2738  0B89  DD 66 06    	ld	h,(ix+6)
2739  0B8C  DD 6E 05    	ld	l,(ix+5)
2740  0B8F  E5          	push	hl
2741  0B90  DD 7E 04    	ld	a,(ix+4)
2742  0B93  F5          	push	af
2743  0B94  33          	inc	sp
2744  0B95  CD 00 00    	call	_NIRVANAP_drawT_callee
2745  0B98              l_spr_tile_paint_00104:
2746  0B98  DD E1       	pop	ix
2747  0B9A  C9          	ret
2748  0B9B              	SECTION IGNORE
2749  0000              
