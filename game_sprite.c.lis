1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_explode_bullet
214   0000              	GLOBAL _spr_turn_horizontal
215   0000              	GLOBAL _spr_btile_paint_back
216   0000              ;--------------------------------------------------------
217   0000              ; Externals used
218   0000              ;--------------------------------------------------------
219   0000              	GLOBAL _ulltoa_callee
220   0000              	GLOBAL _ulltoa
221   0000              	GLOBAL _strtoull_callee
222   0000              	GLOBAL _strtoull
223   0000              	GLOBAL _strtoll_callee
224   0000              	GLOBAL _strtoll
225   0000              	GLOBAL _lltoa_callee
226   0000              	GLOBAL _lltoa
227   0000              	GLOBAL _llabs_callee
228   0000              	GLOBAL _llabs
229   0000              	GLOBAL __lldivu__callee
230   0000              	GLOBAL __lldivu_
231   0000              	GLOBAL __lldiv__callee
232   0000              	GLOBAL __lldiv_
233   0000              	GLOBAL _atoll_callee
234   0000              	GLOBAL _atoll
235   0000              	GLOBAL _realloc_unlocked_callee
236   0000              	GLOBAL _realloc_unlocked
237   0000              	GLOBAL _malloc_unlocked_fastcall
238   0000              	GLOBAL _malloc_unlocked
239   0000              	GLOBAL _free_unlocked_fastcall
240   0000              	GLOBAL _free_unlocked
241   0000              	GLOBAL _calloc_unlocked_callee
242   0000              	GLOBAL _calloc_unlocked
243   0000              	GLOBAL _aligned_alloc_unlocked_callee
244   0000              	GLOBAL _aligned_alloc_unlocked
245   0000              	GLOBAL _realloc_callee
246   0000              	GLOBAL _realloc
247   0000              	GLOBAL _malloc_fastcall
248   0000              	GLOBAL _malloc
249   0000              	GLOBAL _free_fastcall
250   0000              	GLOBAL _free
251   0000              	GLOBAL _calloc_callee
252   0000              	GLOBAL _calloc
253   0000              	GLOBAL _aligned_alloc_callee
254   0000              	GLOBAL _aligned_alloc
255   0000              	GLOBAL _utoa_callee
256   0000              	GLOBAL _utoa
257   0000              	GLOBAL _ultoa_callee
258   0000              	GLOBAL _ultoa
259   0000              	GLOBAL _system_fastcall
260   0000              	GLOBAL _system
261   0000              	GLOBAL _strtoul_callee
262   0000              	GLOBAL _strtoul
263   0000              	GLOBAL _strtol_callee
264   0000              	GLOBAL _strtol
265   0000              	GLOBAL _strtof_callee
266   0000              	GLOBAL _strtof
267   0000              	GLOBAL _strtod_callee
268   0000              	GLOBAL _strtod
269   0000              	GLOBAL _srand_fastcall
270   0000              	GLOBAL _srand
271   0000              	GLOBAL _rand
272   0000              	GLOBAL _quick_exit_fastcall
273   0000              	GLOBAL _quick_exit
274   0000              	GLOBAL _qsort_callee
275   0000              	GLOBAL _qsort
276   0000              	GLOBAL _ltoa_callee
277   0000              	GLOBAL _ltoa
278   0000              	GLOBAL _labs_fastcall
279   0000              	GLOBAL _labs
280   0000              	GLOBAL _itoa_callee
281   0000              	GLOBAL _itoa
282   0000              	GLOBAL _ftoh_callee
283   0000              	GLOBAL _ftoh
284   0000              	GLOBAL _ftog_callee
285   0000              	GLOBAL _ftog
286   0000              	GLOBAL _ftoe_callee
287   0000              	GLOBAL _ftoe
288   0000              	GLOBAL _ftoa_callee
289   0000              	GLOBAL _ftoa
290   0000              	GLOBAL _exit_fastcall
291   0000              	GLOBAL _exit
292   0000              	GLOBAL _dtoh_callee
293   0000              	GLOBAL _dtoh
294   0000              	GLOBAL _dtog_callee
295   0000              	GLOBAL _dtog
296   0000              	GLOBAL _dtoe_callee
297   0000              	GLOBAL _dtoe
298   0000              	GLOBAL _dtoa_callee
299   0000              	GLOBAL _dtoa
300   0000              	GLOBAL _bsearch_callee
301   0000              	GLOBAL _bsearch
302   0000              	GLOBAL _atol_fastcall
303   0000              	GLOBAL _atol
304   0000              	GLOBAL _atoi_fastcall
305   0000              	GLOBAL _atoi
306   0000              	GLOBAL _atof_fastcall
307   0000              	GLOBAL _atof
308   0000              	GLOBAL _atexit_fastcall
309   0000              	GLOBAL _atexit
310   0000              	GLOBAL _at_quick_exit_fastcall
311   0000              	GLOBAL _at_quick_exit
312   0000              	GLOBAL _abs_fastcall
313   0000              	GLOBAL _abs
314   0000              	GLOBAL _abort
315   0000              	GLOBAL __strtou__callee
316   0000              	GLOBAL __strtou_
317   0000              	GLOBAL __strtoi__callee
318   0000              	GLOBAL __strtoi_
319   0000              	GLOBAL __random_uniform_xor_8__fastcall
320   0000              	GLOBAL __random_uniform_xor_8_
321   0000              	GLOBAL __random_uniform_xor_32__fastcall
322   0000              	GLOBAL __random_uniform_xor_32_
323   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
324   0000              	GLOBAL __random_uniform_cmwc_8_
325   0000              	GLOBAL __shellsort__callee
326   0000              	GLOBAL __shellsort_
327   0000              	GLOBAL __quicksort__callee
328   0000              	GLOBAL __quicksort_
329   0000              	GLOBAL __insertion_sort__callee
330   0000              	GLOBAL __insertion_sort_
331   0000              	GLOBAL __ldivu__callee
332   0000              	GLOBAL __ldivu_
333   0000              	GLOBAL __ldiv__callee
334   0000              	GLOBAL __ldiv_
335   0000              	GLOBAL __divu__callee
336   0000              	GLOBAL __divu_
337   0000              	GLOBAL __div__callee
338   0000              	GLOBAL __div_
339   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
340   0000              	GLOBAL _NIRVANAP_drawTW_raw
341   0000              	GLOBAL _NIRVANAP_drawTW_callee
342   0000              	GLOBAL _NIRVANAP_drawTW
343   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
344   0000              	GLOBAL _NIRVANAP_drawW_raw
345   0000              	GLOBAL _NIRVANAP_drawW_callee
346   0000              	GLOBAL _NIRVANAP_drawW
347   0000              	GLOBAL _NIRVANAP_spriteT_callee
348   0000              	GLOBAL _NIRVANAP_spriteT
349   0000              	GLOBAL _NIRVANAP_fillC_callee
350   0000              	GLOBAL _NIRVANAP_fillC
351   0000              	GLOBAL _NIRVANAP_readC_callee
352   0000              	GLOBAL _NIRVANAP_readC
353   0000              	GLOBAL _NIRVANAP_paintC_callee
354   0000              	GLOBAL _NIRVANAP_paintC
355   0000              	GLOBAL _NIRVANAP_printC_callee
356   0000              	GLOBAL _NIRVANAP_printC
357   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
358   0000              	GLOBAL _NIRVANAP_fillT_raw
359   0000              	GLOBAL _NIRVANAP_fillT_callee
360   0000              	GLOBAL _NIRVANAP_fillT
361   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawT_raw
363   0000              	GLOBAL _NIRVANAP_drawT_callee
364   0000              	GLOBAL _NIRVANAP_drawT
365   0000              	GLOBAL _NIRVANAP_stop
366   0000              	GLOBAL _NIRVANAP_start
367   0000              	GLOBAL _debug3
368   0000              	GLOBAL _debug2
369   0000              	GLOBAL _debug
370   0000              	GLOBAL _zx_print_str
371   0000              	GLOBAL _zx_print_int
372   0000              	GLOBAL _zx_print_chr
373   0000              	GLOBAL _zx_print_bonus_time
374   0000              	GLOBAL _zx_isr
375   0000              	GLOBAL _z80_otdr_callee
376   0000              	GLOBAL _z80_otdr
377   0000              	GLOBAL _z80_otir_callee
378   0000              	GLOBAL _z80_otir
379   0000              	GLOBAL _z80_outp_callee
380   0000              	GLOBAL _z80_outp
381   0000              	GLOBAL _z80_indr_callee
382   0000              	GLOBAL _z80_indr
383   0000              	GLOBAL _z80_inir_callee
384   0000              	GLOBAL _z80_inir
385   0000              	GLOBAL _z80_inp_fastcall
386   0000              	GLOBAL _z80_inp
387   0000              	GLOBAL _z80_set_int_state_fastcall
388   0000              	GLOBAL _z80_set_int_state
389   0000              	GLOBAL _z80_get_int_state
390   0000              	GLOBAL _z80_delay_tstate_fastcall
391   0000              	GLOBAL _z80_delay_tstate
392   0000              	GLOBAL _z80_delay_ms_fastcall
393   0000              	GLOBAL _z80_delay_ms
394   0000              	GLOBAL _im2_remove_generic_callback_callee
395   0000              	GLOBAL _im2_remove_generic_callback
396   0000              	GLOBAL _im2_prepend_generic_callback_callee
397   0000              	GLOBAL _im2_prepend_generic_callback
398   0000              	GLOBAL _im2_append_generic_callback_callee
399   0000              	GLOBAL _im2_append_generic_callback
400   0000              	GLOBAL _im2_create_generic_isr_8080_callee
401   0000              	GLOBAL _im2_create_generic_isr_8080
402   0000              	GLOBAL _im2_create_generic_isr_callee
403   0000              	GLOBAL _im2_create_generic_isr
404   0000              	GLOBAL _im2_install_isr_callee
405   0000              	GLOBAL _im2_install_isr
406   0000              	GLOBAL _im2_init_fastcall
407   0000              	GLOBAL _im2_init
408   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_word_32
410   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_32
412   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_16
414   0000              	GLOBAL _intrinsic_return_de
415   0000              	GLOBAL _intrinsic_return_bc
416   0000              	GLOBAL _intrinsic_exx
417   0000              	GLOBAL _intrinsic_ex_de_hl
418   0000              	GLOBAL _intrinsic_nop
419   0000              	GLOBAL _intrinsic_im_2
420   0000              	GLOBAL _intrinsic_im_1
421   0000              	GLOBAL _intrinsic_im_0
422   0000              	GLOBAL _intrinsic_retn
423   0000              	GLOBAL _intrinsic_reti
424   0000              	GLOBAL _intrinsic_halt
425   0000              	GLOBAL _intrinsic_ei
426   0000              	GLOBAL _intrinsic_di
427   0000              	GLOBAL _intrinsic_stub
428   0000              	GLOBAL _intrinsic_outi
429   0000              	GLOBAL _intrinsic_ldi
430   0000              	GLOBAL _zx_pattern_fill_callee
431   0000              	GLOBAL _zx_pattern_fill
432   0000              	GLOBAL _zx_saddrpup_fastcall
433   0000              	GLOBAL _zx_saddrpup
434   0000              	GLOBAL _zx_saddrpright_callee
435   0000              	GLOBAL _zx_saddrpright
436   0000              	GLOBAL _zx_saddrpleft_callee
437   0000              	GLOBAL _zx_saddrpleft
438   0000              	GLOBAL _zx_saddrpdown_fastcall
439   0000              	GLOBAL _zx_saddrpdown
440   0000              	GLOBAL _zx_saddrcup_fastcall
441   0000              	GLOBAL _zx_saddrcup
442   0000              	GLOBAL _zx_saddrcright_fastcall
443   0000              	GLOBAL _zx_saddrcright
444   0000              	GLOBAL _zx_saddrcleft_fastcall
445   0000              	GLOBAL _zx_saddrcleft
446   0000              	GLOBAL _zx_saddrcdown_fastcall
447   0000              	GLOBAL _zx_saddrcdown
448   0000              	GLOBAL _zx_saddr2py_fastcall
449   0000              	GLOBAL _zx_saddr2py
450   0000              	GLOBAL _zx_saddr2px_fastcall
451   0000              	GLOBAL _zx_saddr2px
452   0000              	GLOBAL _zx_saddr2cy_fastcall
453   0000              	GLOBAL _zx_saddr2cy
454   0000              	GLOBAL _zx_saddr2cx_fastcall
455   0000              	GLOBAL _zx_saddr2cx
456   0000              	GLOBAL _zx_saddr2aaddr_fastcall
457   0000              	GLOBAL _zx_saddr2aaddr
458   0000              	GLOBAL _zx_py2saddr_fastcall
459   0000              	GLOBAL _zx_py2saddr
460   0000              	GLOBAL _zx_py2aaddr_fastcall
461   0000              	GLOBAL _zx_py2aaddr
462   0000              	GLOBAL _zx_pxy2saddr_callee
463   0000              	GLOBAL _zx_pxy2saddr
464   0000              	GLOBAL _zx_pxy2aaddr_callee
465   0000              	GLOBAL _zx_pxy2aaddr
466   0000              	GLOBAL _zx_px2bitmask_fastcall
467   0000              	GLOBAL _zx_px2bitmask
468   0000              	GLOBAL _zx_cy2saddr_fastcall
469   0000              	GLOBAL _zx_cy2saddr
470   0000              	GLOBAL _zx_cy2aaddr_fastcall
471   0000              	GLOBAL _zx_cy2aaddr
472   0000              	GLOBAL _zx_cxy2saddr_callee
473   0000              	GLOBAL _zx_cxy2saddr
474   0000              	GLOBAL _zx_cxy2aaddr_callee
475   0000              	GLOBAL _zx_cxy2aaddr
476   0000              	GLOBAL _zx_bitmask2px_fastcall
477   0000              	GLOBAL _zx_bitmask2px
478   0000              	GLOBAL _zx_aaddrcup_fastcall
479   0000              	GLOBAL _zx_aaddrcup
480   0000              	GLOBAL _zx_aaddrcright_fastcall
481   0000              	GLOBAL _zx_aaddrcright
482   0000              	GLOBAL _zx_aaddrcleft_fastcall
483   0000              	GLOBAL _zx_aaddrcleft
484   0000              	GLOBAL _zx_aaddrcdown_fastcall
485   0000              	GLOBAL _zx_aaddrcdown
486   0000              	GLOBAL _zx_aaddr2saddr_fastcall
487   0000              	GLOBAL _zx_aaddr2saddr
488   0000              	GLOBAL _zx_aaddr2py_fastcall
489   0000              	GLOBAL _zx_aaddr2py
490   0000              	GLOBAL _zx_aaddr2px_fastcall
491   0000              	GLOBAL _zx_aaddr2px
492   0000              	GLOBAL _zx_aaddr2cy_fastcall
493   0000              	GLOBAL _zx_aaddr2cy
494   0000              	GLOBAL _zx_aaddr2cx_fastcall
495   0000              	GLOBAL _zx_aaddr2cx
496   0000              	GLOBAL _zx_visit_wc_pix_callee
497   0000              	GLOBAL _zx_visit_wc_pix
498   0000              	GLOBAL _zx_visit_wc_attr_callee
499   0000              	GLOBAL _zx_visit_wc_attr
500   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
501   0000              	GLOBAL _zx_scroll_wc_up_pix
502   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
503   0000              	GLOBAL _zx_scroll_wc_up_attr
504   0000              	GLOBAL _zx_scroll_wc_up_callee
505   0000              	GLOBAL _zx_scroll_wc_up
506   0000              	GLOBAL _zx_scroll_up_pix_callee
507   0000              	GLOBAL _zx_scroll_up_pix
508   0000              	GLOBAL _zx_scroll_up_attr_callee
509   0000              	GLOBAL _zx_scroll_up_attr
510   0000              	GLOBAL _zx_scroll_up_callee
511   0000              	GLOBAL _zx_scroll_up
512   0000              	GLOBAL _zx_cls_wc_pix_callee
513   0000              	GLOBAL _zx_cls_wc_pix
514   0000              	GLOBAL _zx_cls_wc_attr_callee
515   0000              	GLOBAL _zx_cls_wc_attr
516   0000              	GLOBAL _zx_cls_wc_callee
517   0000              	GLOBAL _zx_cls_wc
518   0000              	GLOBAL _zx_cls_pix_fastcall
519   0000              	GLOBAL _zx_cls_pix
520   0000              	GLOBAL _zx_cls_attr_fastcall
521   0000              	GLOBAL _zx_cls_attr
522   0000              	GLOBAL _zx_cls_fastcall
523   0000              	GLOBAL _zx_cls
524   0000              	GLOBAL _zx_border_fastcall
525   0000              	GLOBAL _zx_border
526   0000              	GLOBAL _sound_hit_brick
527   0000              	GLOBAL _sound_hit_enemy
528   0000              	GLOBAL _sound_kill
529   0000              	GLOBAL _sound_enter_enemy
530   0000              	GLOBAL _sound_coin
531   0000              	GLOBAL _sound_jump
532   0000              	GLOBAL _sound_slide
533   0000              	GLOBAL _player_lost_life
534   0000              	GLOBAL _player_hit
535   0000              	GLOBAL _player_open_door
536   0000              	GLOBAL _player_move_jump
537   0000              	GLOBAL _player_fire
538   0000              	GLOBAL _player_check_stairs_down
539   0000              	GLOBAL _player_check_stairs
540   0000              	GLOBAL _player_tile
541   0000              	GLOBAL _player_pick_item
542   0000              	GLOBAL _player_check_floor
543   0000              	GLOBAL _player_hit_platform_clear
544   0000              	GLOBAL _player_score_add
545   0000              	GLOBAL _player_player_hit_pow
546   0000              	GLOBAL _player_hit_platform
547   0000              	GLOBAL _player_move_input
548   0000              	GLOBAL _player_turn
549   0000              	GLOBAL _player_move
550   0000              	GLOBAL _player_restart
551   0000              	GLOBAL _player_kill
552   0000              	GLOBAL _player_check_input
553   0000              	GLOBAL _player_collision
554   0000              	GLOBAL _player_init
555   0000              	GLOBAL _game_obj_clear
556   0000              	GLOBAL _game_obj_chk
557   0000              	GLOBAL _game_obj_set
558   0000              	GLOBAL _game_shoot_fire_boss
559   0000              	GLOBAL _game_shoot_fire
560   0000              	GLOBAL _game_add_enemy
561   0000              	GLOBAL _game_joystick_set_menu
562   0000              	GLOBAL _game_joystick_set
563   0000              	GLOBAL _game_joystick_change
564   0000              	GLOBAL _game_print_header
565   0000              	GLOBAL _game_end
566   0000              	GLOBAL _game_phase_print_score_back
567   0000              	GLOBAL _game_check_time
568   0000              	GLOBAL _game_rotate_attrib
569   0000              	GLOBAL _game_colour_message
570   0000              	GLOBAL _game_paint_attrib_lin_h
571   0000              	GLOBAL _game_paint_attrib_lin
572   0000              	GLOBAL _game_paint_attrib
573   0000              	GLOBAL _game_print_score
574   0000              	GLOBAL _game_unfreeze_all
575   0000              	GLOBAL _game_freeze_all
576   0000              	GLOBAL _game_freeze
577   0000              	GLOBAL _game_enemy_add_get_index
578   0000              	GLOBAL _game_check_cell
579   0000              	GLOBAL _game_check_map
580   0000              	GLOBAL _game_loop
581   0000              	GLOBAL _game_round_init
582   0000              	GLOBAL _game_start_timer
583   0000              	GLOBAL _game_tick
584   0000              	GLOBAL _game_update_stats
585   0000              	GLOBAL _game_print_footer
586   0000              	GLOBAL _game_fill_row
587   0000              	GLOBAL _game_fps
588   0000              	GLOBAL _game_respawn
589   0000              	GLOBAL _game_draw_screen
590   0000              	GLOBAL _enemy_avoid_fall_dead
591   0000              	GLOBAL _enemy_avoid_fall
592   0000              	GLOBAL _enemy_respawn
593   0000              	GLOBAL _enemy_init
594   0000              	GLOBAL _enemy_move
595   0000              	GLOBAL _enemy_turn
596   0000              	GLOBAL _enemy_hit
597   0000              	GLOBAL _enemy_coin1
598   0000              	GLOBAL _enemy_static
599   0000              	GLOBAL _enemy_walk
600   0000              	GLOBAL _enemy_horizontal
601   0000              	GLOBAL _enemy_vertical
602   0000              	GLOBAL _ay_fx_play
603   0000              	GLOBAL _ay_midi_play
604   0000              	GLOBAL _ay_is_playing
605   0000              	GLOBAL _ay_reset
606   0000              	GLOBAL _test_func
607   0000              	GLOBAL _test_proc
608   0000              	GLOBAL _in_mouse_kempston_wheel_delta
609   0000              	GLOBAL _in_mouse_kempston_wheel
610   0000              	GLOBAL _in_mouse_kempston_callee
611   0000              	GLOBAL _in_mouse_kempston
612   0000              	GLOBAL _in_mouse_kempston_setpos_callee
613   0000              	GLOBAL _in_mouse_kempston_setpos
614   0000              	GLOBAL _in_mouse_kempston_reset
615   0000              	GLOBAL _in_mouse_kempston_init
616   0000              	GLOBAL _in_mouse_amx_wheel_delta
617   0000              	GLOBAL _in_mouse_amx_wheel
618   0000              	GLOBAL _in_mouse_amx_callee
619   0000              	GLOBAL _in_mouse_amx
620   0000              	GLOBAL _in_mouse_amx_setpos_callee
621   0000              	GLOBAL _in_mouse_amx_setpos
622   0000              	GLOBAL _in_mouse_amx_reset
623   0000              	GLOBAL _in_mouse_amx_init_callee
624   0000              	GLOBAL _in_mouse_amx_init
625   0000              	GLOBAL _in_stick_sinclair2
626   0000              	GLOBAL _in_stick_sinclair1
627   0000              	GLOBAL _in_stick_kempston
628   0000              	GLOBAL _in_stick_fuller
629   0000              	GLOBAL _in_stick_cursor
630   0000              	GLOBAL _in_stick_keyboard_fastcall
631   0000              	GLOBAL _in_stick_keyboard
632   0000              	GLOBAL _in_wait_nokey
633   0000              	GLOBAL _in_wait_key
634   0000              	GLOBAL _in_test_key
635   0000              	GLOBAL _in_pause_fastcall
636   0000              	GLOBAL _in_pause
637   0000              	GLOBAL _in_key_scancode_fastcall
638   0000              	GLOBAL _in_key_scancode
639   0000              	GLOBAL _in_key_pressed_fastcall
640   0000              	GLOBAL _in_key_pressed
641   0000              	GLOBAL _in_inkey
642   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
643   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
644   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
645   0000              	GLOBAL _NIRVANAP_HOLE
646   0000              	GLOBAL _NIRVANAP_ISR_HOOK
647   0000              	GLOBAL _player_lvl_table
648   0000              	GLOBAL _map_paper_last
649   0000              	GLOBAL _map_paper_clr
650   0000              	GLOBAL _map_paper
651   0000              	GLOBAL _draw_count
652   0000              	GLOBAL _g_player_hit_right
653   0000              	GLOBAL _g_player_hit_left
654   0000              	GLOBAL _joynames
655   0000              	GLOBAL _initials
656   0000              	GLOBAL _bullet_count
657   0000              	GLOBAL _spr_hack
658   0000              	GLOBAL _boss_stat
659   0000              	GLOBAL _boss_time_fire
660   0000              	GLOBAL _boss_time
661   0000              	GLOBAL _boss_tile
662   0000              	GLOBAL _boss_inc
663   0000              	GLOBAL _boss_col
664   0000              	GLOBAL _boss_lin
665   0000              	GLOBAL _bullet_vel
666   0000              	GLOBAL _bullet_frames
667   0000              	GLOBAL _bullet_colint
668   0000              	GLOBAL _bullet_dir
669   0000              	GLOBAL _bullet_tile
670   0000              	GLOBAL _bullet_col
671   0000              	GLOBAL _bullet_lin
672   0000              	GLOBAL _bullet_col0
673   0000              	GLOBAL _bullet_lin0
674   0000              	GLOBAL _bullet_max
675   0000              	GLOBAL _bullet_class
676   0000              	GLOBAL _mush_class
677   0000              	GLOBAL _mush_index
678   0000              	GLOBAL _anim_count
679   0000              	GLOBAL _anim_respanwn
680   0000              	GLOBAL _anim_loop
681   0000              	GLOBAL _anim_end
682   0000              	GLOBAL _anim_int
683   0000              	GLOBAL _anim_tile
684   0000              	GLOBAL _anim_col
685   0000              	GLOBAL _anim_lin
686   0000              	GLOBAL _map_heigth
687   0000              	GLOBAL _map_width
688   0000              	GLOBAL _scr_curr
689   0000              	GLOBAL _scr_obj1
690   0000              	GLOBAL _scr_obj0
691   0000              	GLOBAL _scr_map
692   0000              	GLOBAL _sprite_speed_alt
693   0000              	GLOBAL _sprite_frames
694   0000              	GLOBAL _sprite_speed
695   0000              	GLOBAL _screen_ink
696   0000              	GLOBAL _screen_paper
697   0000              	GLOBAL _player_over_stair
698   0000              	GLOBAL _game_start_scr
699   0000              	GLOBAL _game_respawn_tile
700   0000              	GLOBAL _game_respawn_index
701   0000              	GLOBAL _game_respawn_time
702   0000              	GLOBAL _game_menu_sel
703   0000              	GLOBAL _game_score_top
704   0000              	GLOBAL _player_lives
705   0000              	GLOBAL _game_over
706   0000              	GLOBAL _game_sound
707   0000              	GLOBAL _game_inmune
708   0000              	GLOBAL _game_god_mode
709   0000              	GLOBAL _game_two_player
710   0000              	GLOBAL _game_brick_tile
711   0000              	GLOBAL _sprite_curr_index
712   0000              	GLOBAL _spr_count
713   0000              	GLOBAL _bullet_time
714   0000              	GLOBAL _anim_time
715   0000              	GLOBAL _frame_time
716   0000              	GLOBAL _entry_time
717   0000              	GLOBAL _curr_time
718   0000              	GLOBAL _s_state
719   0000              	GLOBAL _attrib_hl
720   0000              	GLOBAL _attrib
721   0000              	GLOBAL _zx_val_asm
722   0000              	GLOBAL _enemies
723   0000              	GLOBAL _tmp_ui
724   0000              	GLOBAL _tmp_sc
725   0000              	GLOBAL _tmp_uc
726   0000              	GLOBAL _tmp1
727   0000              	GLOBAL _tmp0
728   0000              	GLOBAL _tmp
729   0000              	GLOBAL _index1
730   0000              	GLOBAL _index0
731   0000              	GLOBAL _loop_count
732   0000              	GLOBAL _s_col1
733   0000              	GLOBAL _s_col0
734   0000              	GLOBAL _s_lin1
735   0000              	GLOBAL _s_lin0
736   0000              	GLOBAL _s_tile1
737   0000              	GLOBAL _s_tile0
738   0000              	GLOBAL _player_hit_count
739   0000              	GLOBAL _sprite_horizontal_check
740   0000              	GLOBAL _sprite_on_air
741   0000              	GLOBAL _sprite
742   0000              	GLOBAL _fps
743   0000              	GLOBAL _game_respawn_curr_time
744   0000              	GLOBAL _game_worldup
745   0000              	GLOBAL _game_boss
746   0000              	GLOBAL _game_world
747   0000              	GLOBAL _game_gravity
748   0000              	GLOBAL _player_hit_time
749   0000              	GLOBAL _player_lin_scr
750   0000              	GLOBAL _player_col_scr
751   0000              	GLOBAL _player_lvl
752   0000              	GLOBAL _player_int
753   0000              	GLOBAL _player_str
754   0000              	GLOBAL _player_max_vita
755   0000              	GLOBAL _player_max_mana
756   0000              	GLOBAL _player_vita
757   0000              	GLOBAL _player_mana
758   0000              	GLOBAL _player_keys
759   0000              	GLOBAL _player_vel_inc
760   0000              	GLOBAL _player_vel_y1
761   0000              	GLOBAL _player_vel_y0
762   0000              	GLOBAL _player_vel_y
763   0000              	GLOBAL _player_vel_x
764   0000              	GLOBAL _player_joy
765   0000              	GLOBAL _player_score
766   0000              	GLOBAL _last_time
767   0000              	GLOBAL _player_slide
768   0000              	GLOBAL _spr_timer
769   0000              	GLOBAL _jump_lin
770   0000              	GLOBAL _player_hit_col
771   0000              	GLOBAL _player_hit_lin
772   0000              	GLOBAL _colint
773   0000              	GLOBAL _col
774   0000              	GLOBAL _lin
775   0000              	GLOBAL _tile
776   0000              	GLOBAL _state_a
777   0000              	GLOBAL _state
778   0000              	GLOBAL _class
779   0000              	GLOBAL _tbuffer
780   0000              	GLOBAL _dirs
781   0000              	GLOBAL _k1
782   0000              	GLOBAL _joyfunc1
783   0000              	GLOBAL _btiles
784   0000              	GLOBAL _spec128
785   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
786   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
787   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
788   0000              	GLOBAL _ay_effect_20
789   0000              	GLOBAL _ay_effect_19
790   0000              	GLOBAL _ay_effect_18
791   0000              	GLOBAL _ay_effect_17
792   0000              	GLOBAL _ay_effect_16
793   0000              	GLOBAL _ay_effect_15
794   0000              	GLOBAL _ay_effect_14
795   0000              	GLOBAL _ay_effect_13
796   0000              	GLOBAL _ay_effect_12
797   0000              	GLOBAL _ay_effect_11
798   0000              	GLOBAL _ay_effect_10
799   0000              	GLOBAL _ay_effect_09
800   0000              	GLOBAL _ay_effect_08
801   0000              	GLOBAL _ay_effect_07
802   0000              	GLOBAL _ay_effect_06
803   0000              	GLOBAL _ay_effect_05
804   0000              	GLOBAL _ay_effect_04
805   0000              	GLOBAL _ay_effect_03
806   0000              	GLOBAL _ay_effect_02
807   0000              	GLOBAL _ay_effect_01
808   0000              	GLOBAL _pb_midi_phase_1
809   0000              	GLOBAL _pb_midi_title
810   0000              	GLOBAL _control_method
811   0000              	GLOBAL _world0
812   0000              	GLOBAL _lenght0
813   0000              	GLOBAL _start_scr0
814   0000              ;--------------------------------------------------------
815   0000              ; special function registers
816   0000              ;--------------------------------------------------------
817   0000              defc _IO_FE	=	0x00fe
818   0000              defc _IO_1FFD	=	0x1ffd
819   0000              defc _IO_7FFD	=	0x7ffd
820   0000              ;--------------------------------------------------------
821   0000              ; ram data
822   0000              ;--------------------------------------------------------
823   0000              	SECTION bss_compiler
824   0000              ;--------------------------------------------------------
825   0000              ; ram data
826   0000              ;--------------------------------------------------------
827   0000              
828   0000              IF 0
829   0000              
830   0000              ; .area _INITIALIZED removed by z88dk
831   0000              
832   0000              
833   0000              ENDIF
834   0000              
835   0000              ;--------------------------------------------------------
836   0000              ; absolute external ram data
837   0000              ;--------------------------------------------------------
838   0000              	SECTION IGNORE
839   0000              ;--------------------------------------------------------
840   0000              ; global & static initialisations
841   0000              ;--------------------------------------------------------
842   0000              	SECTION code_crt_init
843   0000              ;--------------------------------------------------------
844   0000              ; Home
845   0000              ;--------------------------------------------------------
846   0000              	SECTION IGNORE
847   0000              ;--------------------------------------------------------
848   0000              ; code
849   0000              ;--------------------------------------------------------
850   0000              	SECTION code_compiler
851   0000              ;	---------------------------------
852   0000              ; Function spr_calc_index
853   0000              ; ---------------------------------
854   0000              _spr_calc_index:
855   0000  CD 00 00    	call	___sdcc_enter_ix
856   0003  DD 4E 05    	ld	c,(ix+5)
857   0006  CB 39       	srl	c
858   0008  06 00       	ld	b,0x00
859   000A  DD 7E 04    	ld	a,(ix+4)
860   000D  07          	rlca
861   000E  07          	rlca
862   000F  07          	rlca
863   0010  07          	rlca
864   0011  E6 0F       	and	a,0x0f
865   0013  6F          	ld	l, a
866   0014  26 00       	ld	h,0x00
867   0016  29          	add	hl, hl
868   0017  29          	add	hl, hl
869   0018  29          	add	hl, hl
870   0019  29          	add	hl, hl
871   001A  09          	add	hl, bc
872   001B  DD E1       	pop	ix
873   001D  C9          	ret
874   001E              	SECTION code_compiler
875   001E              ;	---------------------------------
876   001E              ; Function spr_chktime
877   001E              ; ---------------------------------
878   001E              _spr_chktime:
879   001E  CD 00 00    	call	___sdcc_enter_ix
880   0021  5E          	ld	e,(hl)
881   0022  F5          	push	af
882   0023  16 00       	ld	d,0x00
883   0025  4D          	ld	c,l
884   0026  44          	ld	b,h
885   0027  21 00 00    	ld	hl,_sprite_speed_alt
886   002A  19          	add	hl, de
887   002B  7E          	ld	a, (hl)
888   002C  B7          	or	a,a
889   002D  20 15       	jr	NZ,l_spr_chktime_00102
890   002F  57          	ld	d,a
891   0030  21 00 00    	ld	hl,_class
892   0033  19          	add	hl, de
893   0034  56          	ld	d, (hl)
894   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
895   0037  82          	add	a, d
896   0038  6F          	ld	l, a
897   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
898   003B  CE 00       	adc	a,0x00
899   003D  67          	ld	h, a
900   003E  7E          	ld	a, (hl)
901   003F  32 00 00    	ld	(_tmp),a
902   0042  18 03       	jr	l_spr_chktime_00103
903   0044              l_spr_chktime_00102:
904   0044  32 00 00    	ld	(_tmp),a
905   0047              l_spr_chktime_00103:
906   0047  3A 00 00    	ld	a,(_tmp)
907   004A  DD 77 FE    	ld	(ix-2),a
908   004D  26 00       	ld	h,0x00
909   004F  DD 74 FF    	ld	(ix-1),h
910   0052  6B          	ld	l, e
911   0053  29          	add	hl, hl
912   0054  11 00 00    	ld	de,_last_time
913   0057  19          	add	hl, de
914   0058  5E          	ld	e, (hl)
915   0059  23          	inc	hl
916   005A  56          	ld	d, (hl)
917   005B  C5          	push	bc
918   005C  DD 6E FE    	ld	l,(ix-2)
919   005F  DD 66 FF    	ld	h,(ix-1)
920   0062  E5          	push	hl
921   0063  D5          	push	de
922   0064  CD 00 00    	call	_game_check_time
923   0067  F1          	pop	af
924   0068  F1          	pop	af
925   0069  C1          	pop	bc
926   006A  7D          	ld	a,l
927   006B  B7          	or	a, a
928   006C  28 14       	jr	Z,l_spr_chktime_00105
929   006E  0A          	ld	a, (bc)
930   006F  6F          	ld	l, a
931   0070  26 00       	ld	h,0x00
932   0072  29          	add	hl, hl
933   0073  01 00 00    	ld	bc,_last_time
934   0076  09          	add	hl,bc
935   0077  ED 5B 00 00 	ld	de,(_curr_time)
936   007B  73          	ld	(hl),e
937   007C  23          	inc	hl
938   007D  72          	ld	(hl),d
939   007E  2E 01       	ld	l,0x01
940   0080  18 02       	jr	l_spr_chktime_00106
941   0082              l_spr_chktime_00105:
942   0082  2E 00       	ld	l,0x00
943   0084              l_spr_chktime_00106:
944   0084  F1          	pop	af
945   0085  DD E1       	pop	ix
946   0087  C9          	ret
947   0088              	SECTION code_compiler
948   0088              ;	---------------------------------
949   0088              ; Function spr_move_up
950   0088              ; ---------------------------------
951   0088              _spr_move_up:
952   0088  2A 00 00    	ld	hl,(_sprite)
953   008B  26 00       	ld	h,0x00
954   008D  01 00 00    	ld	bc,_lin
955   0090  09          	add	hl,bc
956   0091  7E          	ld	a,(hl)
957   0092  C6 FE       	add	a,0xfe
958   0094  32 00 00    	ld	(_s_lin1),a
959   0097  07          	rlca
960   0098  07          	rlca
961   0099  07          	rlca
962   009A  07          	rlca
963   009B  E6 0F       	and	a,0x0f
964   009D  4F          	ld	c, a
965   009E  3A 00 00    	ld	a,(_s_lin0)
966   00A1  07          	rlca
967   00A2  07          	rlca
968   00A3  07          	rlca
969   00A4  07          	rlca
970   00A5  E6 0F       	and	a,0x0f
971   00A7  47          	ld	b, a
972   00A8  79          	ld	a, c
973   00A9  90          	sub	a, b
974   00AA  20 04       	jr	NZ,l_spr_move_up_00122
975   00AC  3E 01       	ld	a,0x01
976   00AE  18 01       	jr	l_spr_move_up_00123
977   00B0              l_spr_move_up_00122:
978   00B0  AF          	xor	a,a
979   00B1              l_spr_move_up_00123:
980   00B1  EE 01       	xor	a,0x01
981   00B3  28 1D       	jr	Z,l_spr_move_up_00104
982   00B5  2A 00 00    	ld	hl,(_sprite)
983   00B8  26 00       	ld	h,0x00
984   00BA  01 00 00    	ld	bc,_col
985   00BD  09          	add	hl,bc
986   00BE  7E          	ld	a,(hl)
987   00BF  F5          	push	af
988   00C0  33          	inc	sp
989   00C1  3A 00 00    	ld	a,(_s_lin1)
990   00C4  F5          	push	af
991   00C5  33          	inc	sp
992   00C6  CD 00 00    	call	_game_check_map
993   00C9  F1          	pop	af
994   00CA  7C          	ld	a,h
995   00CB  B5          	or	a,l
996   00CC  28 04       	jr	Z,l_spr_move_up_00104
997   00CE  2E 01       	ld	l,0x01
998   00D0  18 1F       	jr	l_spr_move_up_00108
999   00D2              l_spr_move_up_00104:
1000  00D2  2A 00 00    	ld	hl,(_sprite)
1001  00D5  26 00       	ld	h,0x00
1002  00D7  01 00 00    	ld	bc,_lin
1003  00DA  09          	add	hl,bc
1004  00DB  3E 90       	ld	a,0x90
1005  00DD  4D          	ld	c,l
1006  00DE  44          	ld	b,h
1007  00DF  21 00 00    	ld	hl,_s_lin1
1008  00E2  96          	sub	a, (hl)
1009  00E3  30 06       	jr	NC,l_spr_move_up_00106
1010  00E5  AF          	xor	a, a
1011  00E6  02          	ld	(bc), a
1012  00E7  2E 01       	ld	l,0x01
1013  00E9  18 06       	jr	l_spr_move_up_00108
1014  00EB              l_spr_move_up_00106:
1015  00EB  3A 00 00    	ld	a,(_s_lin1)
1016  00EE  02          	ld	(bc), a
1017  00EF  2E 00       	ld	l,0x00
1018  00F1              l_spr_move_up_00108:
1019  00F1  C9          	ret
1020  00F2              	SECTION code_compiler
1021  00F2              ;	---------------------------------
1022  00F2              ; Function spr_move_down
1023  00F2              ; ---------------------------------
1024  00F2              _spr_move_down:
1025  00F2  2A 00 00    	ld	hl,(_sprite)
1026  00F5  26 00       	ld	h,0x00
1027  00F7  01 00 00    	ld	bc,_lin
1028  00FA  09          	add	hl,bc
1029  00FB  7E          	ld	a,(hl)
1030  00FC  C6 10       	add	a,0x10
1031  00FE  32 00 00    	ld	(_s_lin1),a
1032  0101  07          	rlca
1033  0102  07          	rlca
1034  0103  07          	rlca
1035  0104  07          	rlca
1036  0105  E6 0F       	and	a,0x0f
1037  0107  4F          	ld	c, a
1038  0108  3A 00 00    	ld	a,(_s_lin0)
1039  010B  07          	rlca
1040  010C  07          	rlca
1041  010D  07          	rlca
1042  010E  07          	rlca
1043  010F  E6 0F       	and	a,0x0f
1044  0111  47          	ld	b, a
1045  0112  79          	ld	a, c
1046  0113  90          	sub	a, b
1047  0114  20 04       	jr	NZ,l_spr_move_down_00122
1048  0116  3E 01       	ld	a,0x01
1049  0118  18 01       	jr	l_spr_move_down_00123
1050  011A              l_spr_move_down_00122:
1051  011A  AF          	xor	a,a
1052  011B              l_spr_move_down_00123:
1053  011B  EE 01       	xor	a,0x01
1054  011D  28 1D       	jr	Z,l_spr_move_down_00104
1055  011F  2A 00 00    	ld	hl,(_sprite)
1056  0122  26 00       	ld	h,0x00
1057  0124  01 00 00    	ld	bc,_col
1058  0127  09          	add	hl,bc
1059  0128  7E          	ld	a,(hl)
1060  0129  F5          	push	af
1061  012A  33          	inc	sp
1062  012B  3A 00 00    	ld	a,(_s_lin1)
1063  012E  F5          	push	af
1064  012F  33          	inc	sp
1065  0130  CD 00 00    	call	_game_check_map
1066  0133  F1          	pop	af
1067  0134  7C          	ld	a,h
1068  0135  B5          	or	a,l
1069  0136  28 04       	jr	Z,l_spr_move_down_00104
1070  0138  2E 01       	ld	l,0x01
1071  013A  18 22       	jr	l_spr_move_down_00108
1072  013C              l_spr_move_down_00104:
1073  013C  2A 00 00    	ld	hl,(_sprite)
1074  013F  26 00       	ld	h,0x00
1075  0141  01 00 00    	ld	bc,_lin
1076  0144  09          	add	hl,bc
1077  0145  3E 90       	ld	a,0x90
1078  0147  4D          	ld	c,l
1079  0148  44          	ld	b,h
1080  0149  21 00 00    	ld	hl,_s_lin1
1081  014C  96          	sub	a, (hl)
1082  014D  30 07       	jr	NC,l_spr_move_down_00106
1083  014F  3E 90       	ld	a,0x90
1084  0151  02          	ld	(bc), a
1085  0152  2E 01       	ld	l,0x01
1086  0154  18 08       	jr	l_spr_move_down_00108
1087  0156              l_spr_move_down_00106:
1088  0156  3A 00 00    	ld	a,(_s_lin1)
1089  0159  C6 F2       	add	a,0xf2
1090  015B  02          	ld	(bc), a
1091  015C  2E 00       	ld	l,0x00
1092  015E              l_spr_move_down_00108:
1093  015E  C9          	ret
1094  015F              	SECTION code_compiler
1095  015F              ;	---------------------------------
1096  015F              ; Function spr_move_horizontal
1097  015F              ; ---------------------------------
1098  015F              _spr_move_horizontal:
1099  015F  2A 00 00    	ld	hl,(_sprite)
1100  0162  26 00       	ld	h,0x00
1101  0164  01 00 00    	ld	bc,_state
1102  0167  09          	add	hl,bc
1103  0168  7E          	ld	a,(hl)
1104  0169  CB 57       	bit	2, a
1105  016B  28 05       	jr	Z,l_spr_move_horizontal_00104
1106  016D  CD 7E 01    	call	_spr_move_right
1107  0170  18 0B       	jr	l_spr_move_horizontal_00106
1108  0172              l_spr_move_horizontal_00104:
1109  0172  CB 5F       	bit	3, a
1110  0174  28 05       	jr	Z,l_spr_move_horizontal_00105
1111  0176  CD 7D 02    	call	_spr_move_left
1112  0179  18 02       	jr	l_spr_move_horizontal_00106
1113  017B              l_spr_move_horizontal_00105:
1114  017B  2E 00       	ld	l,0x00
1115  017D              l_spr_move_horizontal_00106:
1116  017D  C9          	ret
1117  017E              	SECTION code_compiler
1118  017E              ;	---------------------------------
1119  017E              ; Function spr_move_right
1120  017E              ; ---------------------------------
1121  017E              _spr_move_right:
1122  017E  2A 00 00    	ld	hl,(_sprite)
1123  0181  26 00       	ld	h,0x00
1124  0183  01 00 00    	ld	bc,_colint
1125  0186  09          	add	hl,bc
1126  0187  7E          	ld	a,(hl)
1127  0188  3C          	inc	a
1128  0189  77          	ld	(hl),a
1129  018A  4F          	ld	c,a
1130  018B  3A 00 00    	ld	a,(_sprite)
1131  018E  5F          	ld	e,a
1132  018F  16 00       	ld	d,0x00
1133  0191  21 00 00    	ld	hl,_class
1134  0194  19          	add	hl,de
1135  0195  5E          	ld	e, (hl)
1136  0196  16 00       	ld	d,0x00
1137  0198  21 00 00    	ld	hl,_sprite_frames
1138  019B  19          	add	hl, de
1139  019C  7E          	ld	a, (hl)
1140  019D  91          	sub	a, c
1141  019E  C2 7A 02    	jp	NZ,l_spr_move_right_00118
1142  01A1  2A 00 00    	ld	hl,(_sprite)
1143  01A4  26 00       	ld	h,0x00
1144  01A6  01 00 00    	ld	bc,_lin
1145  01A9  09          	add	hl,bc
1146  01AA  7E          	ld	a,(hl)
1147  01AB  32 00 00    	ld	(_s_lin1),a
1148  01AE  2A 00 00    	ld	hl,(_sprite)
1149  01B1  26 00       	ld	h,0x00
1150  01B3  01 00 00    	ld	bc,_col
1151  01B6  09          	add	hl,bc
1152  01B7  7E          	ld	a,(hl)
1153  01B8  FE 1E       	cp	a,0x1e
1154  01BA  30 61       	jr	NC,l_spr_move_right_00108
1155  01BC  3C          	inc	a
1156  01BD  32 00 00    	ld	(_s_col1),a
1157  01C0  21 00 00    	ld	hl,_sprite_horizontal_check
1158  01C3  36 01       	ld	(hl),0x01
1159  01C5  2A FF FF    	ld	hl,(_s_col1 - 1)
1160  01C8  3A 00 00    	ld	a,(_s_lin1)
1161  01CB  6F          	ld	l,a
1162  01CC  E5          	push	hl
1163  01CD  CD 00 00    	call	_game_check_map
1164  01D0  F1          	pop	af
1165  01D1  7D          	ld	a,l
1166  01D2  32 00 00    	ld	(_tmp0),a
1167  01D5  B7          	or	a, a
1168  01D6  20 16       	jr	NZ,l_spr_move_right_00102
1169  01D8  3A 00 00    	ld	a,(_s_lin1)
1170  01DB  C6 0F       	add	a,0x0f
1171  01DD  4F          	ld	c, a
1172  01DE  3A 00 00    	ld	a,(_s_col1)
1173  01E1  F5          	push	af
1174  01E2  33          	inc	sp
1175  01E3  79          	ld	a, c
1176  01E4  F5          	push	af
1177  01E5  33          	inc	sp
1178  01E6  CD 00 00    	call	_game_check_map
1179  01E9  F1          	pop	af
1180  01EA  7D          	ld	a,l
1181  01EB  32 00 00    	ld	(_tmp0),a
1182  01EE              l_spr_move_right_00102:
1183  01EE  21 00 00    	ld	hl,_sprite_horizontal_check
1184  01F1  36 00       	ld	(hl),0x00
1185  01F3  3A 00 00    	ld	a,(_tmp0)
1186  01F6  B7          	or	a, a
1187  01F7  28 24       	jr	Z,l_spr_move_right_00108
1188  01F9  2A 00 00    	ld	hl,(_sprite)
1189  01FC  26 00       	ld	h,0x00
1190  01FE  01 00 00    	ld	bc,_colint
1191  0201  09          	add	hl,bc
1192  0202  7E          	ld	a,(hl)
1193  0203  C6 FF       	add	a,0xff
1194  0205  77          	ld	(hl),a
1195  0206  3A 00 00    	ld	a,(_sprite_on_air)
1196  0209  B7          	or	a,a
1197  020A  20 0D       	jr	NZ,l_spr_move_right_00104
1198  020C  2A 00 00    	ld	hl,(_sprite)
1199  020F  26 00       	ld	h,0x00
1200  0211  01 00 00    	ld	bc,_colint
1201  0214  09          	add	hl,bc
1202  0215  7E          	ld	a,(hl)
1203  0216  C6 FF       	add	a,0xff
1204  0218  77          	ld	(hl),a
1205  0219              l_spr_move_right_00104:
1206  0219  2E 01       	ld	l,0x01
1207  021B  18 5F       	jr	l_spr_move_right_00119
1208  021D              l_spr_move_right_00108:
1209  021D  2A 00 00    	ld	hl,(_sprite)
1210  0220  26 00       	ld	h,0x00
1211  0222  01 00 00    	ld	bc,_col
1212  0225  09          	add	hl,bc
1213  0226  34          	inc	(hl)
1214  0227  2A 00 00    	ld	hl,(_sprite)
1215  022A  26 00       	ld	h,0x00
1216  022C  01 00 00    	ld	bc,_colint
1217  022F  09          	add	hl,bc
1218  0230  AF          	xor	a,a
1219  0231  77          	ld	(hl),a
1220  0232  2A 00 00    	ld	hl,(_sprite)
1221  0235  26 00       	ld	h,0x00
1222  0237  01 00 00    	ld	bc,_col
1223  023A  09          	add	hl,bc
1224  023B  5E          	ld	e,(hl)
1225  023C  3E 1E       	ld	a,0x1e
1226  023E  93          	sub	a,e
1227  023F  30 39       	jr	NC,l_spr_move_right_00118
1228  0241  3A 00 00    	ld	a,(_sprite)
1229  0244  D6 07       	sub	a,0x07
1230  0246  28 04       	jr	Z,l_spr_move_right_00156
1231  0248  4D          	ld	c,l
1232  0249  44          	ld	b,h
1233  024A  18 27       	jr	l_spr_move_right_00113
1234  024C              l_spr_move_right_00156:
1235  024C  CD 81 03    	call	_spr_page_right
1236  024F  3A 00 00    	ld	a,(_sprite)
1237  0252  C6 00       	add	a,+((_col) & 0xFF)
1238  0254  4D          	ld	c,l
1239  0255  5F          	ld	e,a
1240  0256  3E 00       	ld	a,+((_col) / 256)
1241  0258  CE 00       	adc	a,0x00
1242  025A  57          	ld	d,a
1243  025B  79          	ld	a, c
1244  025C  B7          	or	a, a
1245  025D  28 0F       	jr	Z,l_spr_move_right_00110
1246  025F  AF          	xor	a, a
1247  0260  12          	ld	(de), a
1248  0261  3A 07 00    	ld	a,(_lin + 7)
1249  0264  32 00 00    	ld	(_player_lin_scr),a
1250  0267  21 00 00    	ld	hl,_player_col_scr
1251  026A  36 00       	ld	(hl),0x00
1252  026C  18 08       	jr	l_spr_move_right_00114
1253  026E              l_spr_move_right_00110:
1254  026E  3E 1E       	ld	a,0x1e
1255  0270  12          	ld	(de), a
1256  0271  18 03       	jr	l_spr_move_right_00114
1257  0273              l_spr_move_right_00113:
1258  0273  3E 1E       	ld	a,0x1e
1259  0275  02          	ld	(bc), a
1260  0276              l_spr_move_right_00114:
1261  0276  2E 01       	ld	l,0x01
1262  0278  18 02       	jr	l_spr_move_right_00119
1263  027A              l_spr_move_right_00118:
1264  027A  2E 00       	ld	l,0x00
1265  027C              l_spr_move_right_00119:
1266  027C  C9          	ret
1267  027D              	SECTION code_compiler
1268  027D              ;	---------------------------------
1269  027D              ; Function spr_move_left
1270  027D              ; ---------------------------------
1271  027D              _spr_move_left:
1272  027D  2A 00 00    	ld	hl,(_sprite)
1273  0280  26 00       	ld	h,0x00
1274  0282  01 00 00    	ld	bc,_colint
1275  0285  09          	add	hl,bc
1276  0286  7E          	ld	a,(hl)
1277  0287  C6 FF       	add	a,0xff
1278  0289  77          	ld	(hl),a
1279  028A  2A 00 00    	ld	hl,(_sprite)
1280  028D  26 00       	ld	h,0x00
1281  028F  01 00 00    	ld	bc,_colint
1282  0292  09          	add	hl,bc
1283  0293  7E          	ld	a,(hl)
1284  0294  3C          	inc	a
1285  0295  C2 7E 03    	jp	NZ,l_spr_move_left_00118
1286  0298  2A 00 00    	ld	hl,(_sprite)
1287  029B  26 00       	ld	h,0x00
1288  029D  01 00 00    	ld	bc,_lin
1289  02A0  09          	add	hl,bc
1290  02A1  7E          	ld	a,(hl)
1291  02A2  32 00 00    	ld	(_s_lin1),a
1292  02A5  2A 00 00    	ld	hl,(_sprite)
1293  02A8  26 00       	ld	h,0x00
1294  02AA  01 00 00    	ld	bc,_col
1295  02AD  09          	add	hl,bc
1296  02AE  7E          	ld	a,(hl)
1297  02AF  B7          	or	a, a
1298  02B0  28 5C       	jr	Z,l_spr_move_left_00108
1299  02B2  C6 FF       	add	a,0xff
1300  02B4  32 00 00    	ld	(_s_col1),a
1301  02B7  21 00 00    	ld	hl,_sprite_horizontal_check
1302  02BA  36 01       	ld	(hl),0x01
1303  02BC  2A FF FF    	ld	hl,(_s_col1 - 1)
1304  02BF  3A 00 00    	ld	a,(_s_lin1)
1305  02C2  6F          	ld	l,a
1306  02C3  E5          	push	hl
1307  02C4  CD 00 00    	call	_game_check_map
1308  02C7  F1          	pop	af
1309  02C8  7D          	ld	a,l
1310  02C9  32 00 00    	ld	(_tmp0),a
1311  02CC  B7          	or	a, a
1312  02CD  20 16       	jr	NZ,l_spr_move_left_00102
1313  02CF  3A 00 00    	ld	a,(_s_lin1)
1314  02D2  C6 0F       	add	a,0x0f
1315  02D4  4F          	ld	c, a
1316  02D5  3A 00 00    	ld	a,(_s_col1)
1317  02D8  F5          	push	af
1318  02D9  33          	inc	sp
1319  02DA  79          	ld	a, c
1320  02DB  F5          	push	af
1321  02DC  33          	inc	sp
1322  02DD  CD 00 00    	call	_game_check_map
1323  02E0  F1          	pop	af
1324  02E1  7D          	ld	a,l
1325  02E2  32 00 00    	ld	(_tmp0),a
1326  02E5              l_spr_move_left_00102:
1327  02E5  21 00 00    	ld	hl,_sprite_horizontal_check
1328  02E8  36 00       	ld	(hl),0x00
1329  02EA  3A 00 00    	ld	a,(_tmp0)
1330  02ED  B7          	or	a, a
1331  02EE  28 1E       	jr	Z,l_spr_move_left_00108
1332  02F0  2A 00 00    	ld	hl,(_sprite)
1333  02F3  26 00       	ld	h,0x00
1334  02F5  01 00 00    	ld	bc,_colint
1335  02F8  09          	add	hl,bc
1336  02F9  34          	inc	(hl)
1337  02FA  3A 00 00    	ld	a,(_sprite_on_air)
1338  02FD  B7          	or	a,a
1339  02FE  20 0A       	jr	NZ,l_spr_move_left_00104
1340  0300  2A 00 00    	ld	hl,(_sprite)
1341  0303  26 00       	ld	h,0x00
1342  0305  01 00 00    	ld	bc,_colint
1343  0308  09          	add	hl,bc
1344  0309  34          	inc	(hl)
1345  030A              l_spr_move_left_00104:
1346  030A  2E 01       	ld	l,0x01
1347  030C  18 72       	jr	l_spr_move_left_00119
1348  030E              l_spr_move_left_00108:
1349  030E  2A 00 00    	ld	hl,(_sprite)
1350  0311  26 00       	ld	h,0x00
1351  0313  01 00 00    	ld	bc,_col
1352  0316  09          	add	hl,bc
1353  0317  7E          	ld	a,(hl)
1354  0318  C6 FF       	add	a,0xff
1355  031A  77          	ld	(hl),a
1356  031B  2A 00 00    	ld	hl,(_sprite)
1357  031E  26 00       	ld	h,0x00
1358  0320  01 00 00    	ld	bc,_colint
1359  0323  09          	add	hl,bc
1360  0324  3A 00 00    	ld	a,(_sprite)
1361  0327  5F          	ld	e,a
1362  0328  16 00       	ld	d,0x00
1363  032A  4D          	ld	c,l
1364  032B  44          	ld	b,h
1365  032C  21 00 00    	ld	hl,_class
1366  032F  19          	add	hl,de
1367  0330  5E          	ld	e, (hl)
1368  0331  16 00       	ld	d,0x00
1369  0333  21 00 00    	ld	hl,_sprite_frames
1370  0336  19          	add	hl, de
1371  0337  5E          	ld	e, (hl)
1372  0338  1D          	dec	e
1373  0339  7B          	ld	a, e
1374  033A  02          	ld	(bc), a
1375  033B  2A 00 00    	ld	hl,(_sprite)
1376  033E  26 00       	ld	h,0x00
1377  0340  01 00 00    	ld	bc,_col
1378  0343  09          	add	hl,bc
1379  0344  7E          	ld	a,(hl)
1380  0345  3C          	inc	a
1381  0346  20 36       	jr	NZ,l_spr_move_left_00118
1382  0348  3A 00 00    	ld	a,(_sprite)
1383  034B  D6 07       	sub	a,0x07
1384  034D  4D          	ld	c,l
1385  034E  44          	ld	b,h
1386  034F  20 27       	jr	NZ,l_spr_move_left_00113
1387  0351  CD 9B 03    	call	_spr_page_left
1388  0354  3A 00 00    	ld	a,(_sprite)
1389  0357  C6 00       	add	a,+((_col) & 0xFF)
1390  0359  4D          	ld	c,l
1391  035A  5F          	ld	e,a
1392  035B  3E 00       	ld	a,+((_col) / 256)
1393  035D  CE 00       	adc	a,0x00
1394  035F  57          	ld	d,a
1395  0360  79          	ld	a, c
1396  0361  B7          	or	a, a
1397  0362  28 10       	jr	Z,l_spr_move_left_00110
1398  0364  3E 1E       	ld	a,0x1e
1399  0366  12          	ld	(de), a
1400  0367  3A 07 00    	ld	a,(_lin + 7)
1401  036A  32 00 00    	ld	(_player_lin_scr),a
1402  036D  21 00 00    	ld	hl,_player_col_scr
1403  0370  36 1E       	ld	(hl),0x1e
1404  0372  18 06       	jr	l_spr_move_left_00114
1405  0374              l_spr_move_left_00110:
1406  0374  AF          	xor	a, a
1407  0375  12          	ld	(de), a
1408  0376  18 02       	jr	l_spr_move_left_00114
1409  0378              l_spr_move_left_00113:
1410  0378  AF          	xor	a, a
1411  0379  02          	ld	(bc), a
1412  037A              l_spr_move_left_00114:
1413  037A  2E 01       	ld	l,0x01
1414  037C  18 02       	jr	l_spr_move_left_00119
1415  037E              l_spr_move_left_00118:
1416  037E  2E 00       	ld	l,0x00
1417  0380              l_spr_move_left_00119:
1418  0380  C9          	ret
1419  0381              	SECTION code_compiler
1420  0381              ;	---------------------------------
1421  0381              ; Function spr_page_right
1422  0381              ; ---------------------------------
1423  0381              _spr_page_right:
1424  0381  3A 00 00    	ld	a,(_scr_curr)
1425  0384  21 00 00    	ld	hl,_map_width
1426  0387  96          	sub	a, (hl)
1427  0388  30 0E       	jr	NC,l_spr_page_right_00102
1428  038A  21 00 00    	ld	hl,_scr_curr
1429  038D  34          	inc	(hl)
1430  038E  CD C1 03    	call	_spr_page_map
1431  0391  CD 00 00    	call	_game_draw_screen
1432  0394  2E 01       	ld	l,0x01
1433  0396  18 02       	jr	l_spr_page_right_00103
1434  0398              l_spr_page_right_00102:
1435  0398  2E 00       	ld	l,0x00
1436  039A              l_spr_page_right_00103:
1437  039A  C9          	ret
1438  039B              	SECTION code_compiler
1439  039B              ;	---------------------------------
1440  039B              ; Function spr_page_left
1441  039B              ; ---------------------------------
1442  039B              _spr_page_left:
1443  039B  2A 00 00    	ld	hl,(_sprite)
1444  039E  26 00       	ld	h,0x00
1445  03A0  01 00 00    	ld	bc,_class
1446  03A3  09          	add	hl,bc
1447  03A4  7E          	ld	a,(hl)
1448  03A5  B7          	or	a, a
1449  03A6  28 04       	jr	Z,l_spr_page_left_00102
1450  03A8  2E 00       	ld	l,0x00
1451  03AA  18 14       	jr	l_spr_page_left_00105
1452  03AC              l_spr_page_left_00102:
1453  03AC  21 00 00    	ld	hl,_scr_curr
1454  03AF  7E          	ld	a, (hl)
1455  03B0  B7          	or	a, a
1456  03B1  28 0B       	jr	Z,l_spr_page_left_00104
1457  03B3  35          	dec	(hl)
1458  03B4  CD C1 03    	call	_spr_page_map
1459  03B7  CD 00 00    	call	_game_draw_screen
1460  03BA  2E 01       	ld	l,0x01
1461  03BC  18 02       	jr	l_spr_page_left_00105
1462  03BE              l_spr_page_left_00104:
1463  03BE  2E 00       	ld	l,0x00
1464  03C0              l_spr_page_left_00105:
1465  03C0  C9          	ret
1466  03C1              	SECTION code_compiler
1467  03C1              ;	---------------------------------
1468  03C1              ; Function spr_page_map
1469  03C1              ; ---------------------------------
1470  03C1              _spr_page_map:
1471  03C1  CD 00 00    	call	___sdcc_enter_ix
1472  03C4  F5          	push	af
1473  03C5  F5          	push	af
1474  03C6  F5          	push	af
1475  03C7  F5          	push	af
1476  03C8  DD 36 F8 10 	ld	(ix-8),0x10
1477  03CC  F3          	di
1478  03CD  3E 16       	ld	a,0x16
1479  03CF  01 FD 7F    	ld	bc,_IO_7FFD
1480  03D2  ED 79       	out	(c),a
1481  03D4  21 00 00    	ld	hl,_start_scr0
1482  03D7  4E          	ld	c, (hl)
1483  03D8  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1484  03DB  36 10       	ld	(hl),0x10
1485  03DD  C5          	push	bc
1486  03DE  3E 10       	ld	a,0x10
1487  03E0  01 FD 7F    	ld	bc,_IO_7FFD
1488  03E3  ED 79       	out	(c),a
1489  03E5  C1          	pop	bc
1490  03E6  21 00 00    	ld	hl,_game_start_scr
1491  03E9  71          	ld	(hl), c
1492  03EA  01 00 00    	ld	bc,0x0000
1493  03ED  3A 00 00    	ld	a,(_scr_curr)
1494  03F0  3C          	inc	a
1495  03F1  20 06       	jr	NZ,l_spr_page_map_00133
1496  03F3  3A 00 00    	ld	a,(_game_start_scr)
1497  03F6  32 00 00    	ld	(_scr_curr),a
1498  03F9              l_spr_page_map_00133:
1499  03F9  11 00 00    	ld	de,_lenght0+0
1500  03FC  DD 36 F9 00 	ld	(ix-7),0x00
1501  0400              l_spr_page_map_00103:
1502  0400  DD 7E F9    	ld	a,(ix-7)
1503  0403  21 00 00    	ld	hl,_scr_curr
1504  0406  96          	sub	a, (hl)
1505  0407  30 34       	jr	NC,l_spr_page_map_00105
1506  0409  C5          	push	bc
1507  040A  3E 16       	ld	a,0x16
1508  040C  01 FD 7F    	ld	bc,_IO_7FFD
1509  040F  ED 79       	out	(c),a
1510  0411  C1          	pop	bc
1511  0412  DD 6E F9    	ld	l,(ix-7)
1512  0415  26 00       	ld	h,0x00
1513  0417  19          	add	hl, de
1514  0418  6E          	ld	l, (hl)
1515  0419  DD 75 FE    	ld	(ix-2),l
1516  041C  DD 36 FF 00 	ld	(ix-1),0x00
1517  0420  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1518  0423  36 10       	ld	(hl),0x10
1519  0425  C5          	push	bc
1520  0426  3E 10       	ld	a,0x10
1521  0428  01 FD 7F    	ld	bc,_IO_7FFD
1522  042B  ED 79       	out	(c),a
1523  042D  C1          	pop	bc
1524  042E  79          	ld	a, c
1525  042F  DD 86 FE    	add	a,(ix-2)
1526  0432  4F          	ld	c, a
1527  0433  78          	ld	a, b
1528  0434  DD 8E FF    	adc	a,(ix-1)
1529  0437  47          	ld	b, a
1530  0438  DD 34 F9    	inc	(ix-7)
1531  043B  18 C3       	jr	l_spr_page_map_00103
1532  043D              l_spr_page_map_00105:
1533  043D  FB          	ei
1534  043E  F3          	di
1535  043F  DD 36 FA 00 	ld	(ix-6),0x00
1536  0443              l_spr_page_map_00125:
1537  0443  C5          	push	bc
1538  0444  3E 16       	ld	a,0x16
1539  0446  01 FD 7F    	ld	bc,_IO_7FFD
1540  0449  ED 79       	out	(c),a
1541  044B  C1          	pop	bc
1542  044C  DD 6E FA    	ld	l,(ix-6)
1543  044F  26 00       	ld	h,0x00
1544  0451  09          	add	hl,bc
1545  0452  EB          	ex	de,hl
1546  0453  21 00 00    	ld	hl,_world0
1547  0456  19          	add	hl, de
1548  0457  7E          	ld	a, (hl)
1549  0458  DD 77 FD    	ld	(ix-3),a
1550  045B  13          	inc	de
1551  045C  21 00 00    	ld	hl,_world0
1552  045F  19          	add	hl, de
1553  0460  7E          	ld	a, (hl)
1554  0461  DD 77 FC    	ld	(ix-4),a
1555  0464  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1556  0467  36 10       	ld	(hl),0x10
1557  0469  C5          	push	bc
1558  046A  3E 10       	ld	a,0x10
1559  046C  01 FD 7F    	ld	bc,_IO_7FFD
1560  046F  ED 79       	out	(c),a
1561  0471  C1          	pop	bc
1562  0472  DD 7E FD    	ld	a,(ix-3)
1563  0475  D6 80       	sub	a,0x80
1564  0477  30 2B       	jr	NC,l_spr_page_map_00116
1565  0479  DD 5E F8    	ld	e,(ix-8)
1566  047C  16 00       	ld	d,0x00
1567  047E  C5          	push	bc
1568  047F  D5          	push	de
1569  0480  CD 00 00    	call	_game_obj_chk
1570  0483  F1          	pop	af
1571  0484  C1          	pop	bc
1572  0485  55          	ld	d,l
1573  0486  3E 00       	ld	a, +((_scr_map) & 0xFF)
1574  0488  DD 86 F8    	add	a,(ix-8)
1575  048B  5F          	ld	e, a
1576  048C  3E 00       	ld	a, +((_scr_map) / 256)
1577  048E  CE 00       	adc	a,0x00
1578  0490  67          	ld	h, a
1579  0491  7A          	ld	a, d
1580  0492  B7          	or	a, a
1581  0493  20 07       	jr	NZ,l_spr_page_map_00107
1582  0495  6B          	ld	l, e
1583  0496  DD 7E FD    	ld	a,(ix-3)
1584  0499  77          	ld	(hl), a
1585  049A  18 03       	jr	l_spr_page_map_00108
1586  049C              l_spr_page_map_00107:
1587  049C  6B          	ld	l, e
1588  049D  36 00       	ld	(hl),0x00
1589  049F              l_spr_page_map_00108:
1590  049F  DD 34 F8    	inc	(ix-8)
1591  04A2  18 4C       	jr	l_spr_page_map_00117
1592  04A4              l_spr_page_map_00116:
1593  04A4  DD 7E FD    	ld	a,(ix-3)
1594  04A7  C6 80       	add	a,0x80
1595  04A9  DD 77 FB    	ld	(ix-5),a
1596  04AC  DD 5E F8    	ld	e,(ix-8)
1597  04AF  16 00       	ld	d,0x00
1598  04B1              l_spr_page_map_00123:
1599  04B1  7A          	ld	a, d
1600  04B2  DD 96 FB    	sub	a,(ix-5)
1601  04B5  30 33       	jr	NC,l_spr_page_map_00144
1602  04B7  6B          	ld	l, e
1603  04B8  26 00       	ld	h,0x00
1604  04BA  C5          	push	bc
1605  04BB  D5          	push	de
1606  04BC  E5          	push	hl
1607  04BD  CD 00 00    	call	_game_obj_chk
1608  04C0  F1          	pop	af
1609  04C1  D1          	pop	de
1610  04C2  C1          	pop	bc
1611  04C3  7D          	ld	a,l
1612  04C4  B7          	or	a, a
1613  04C5  20 0F       	jr	NZ,l_spr_page_map_00110
1614  04C7  3E 00       	ld	a, +((_scr_map) & 0xFF)
1615  04C9  83          	add	a, e
1616  04CA  6F          	ld	l, a
1617  04CB  3E 00       	ld	a, +((_scr_map) / 256)
1618  04CD  CE 00       	adc	a,0x00
1619  04CF  67          	ld	h, a
1620  04D0  DD 7E FC    	ld	a,(ix-4)
1621  04D3  77          	ld	(hl), a
1622  04D4  18 0B       	jr	l_spr_page_map_00111
1623  04D6              l_spr_page_map_00110:
1624  04D6  3E 00       	ld	a, +((_scr_map) & 0xFF)
1625  04D8  83          	add	a, e
1626  04D9  6F          	ld	l, a
1627  04DA  3E 00       	ld	a, +((_scr_map) / 256)
1628  04DC  CE 00       	adc	a,0x00
1629  04DE  67          	ld	h, a
1630  04DF  36 00       	ld	(hl),0x00
1631  04E1              l_spr_page_map_00111:
1632  04E1  1C          	inc	e
1633  04E2  7B          	ld	a, e
1634  04E3  D6 A0       	sub	a,0xa0
1635  04E5  30 03       	jr	NC,l_spr_page_map_00144
1636  04E7  14          	inc	d
1637  04E8  18 C7       	jr	l_spr_page_map_00123
1638  04EA              l_spr_page_map_00144:
1639  04EA  DD 73 F8    	ld	(ix-8),e
1640  04ED  DD 34 FA    	inc	(ix-6)
1641  04F0              l_spr_page_map_00117:
1642  04F0  DD 7E F8    	ld	a,(ix-8)
1643  04F3  D6 A0       	sub	a,0xa0
1644  04F5  30 0B       	jr	NC,l_spr_page_map_00120
1645  04F7  DD 34 FA    	inc	(ix-6)
1646  04FA  DD 7E FA    	ld	a,(ix-6)
1647  04FD  D6 A0       	sub	a,0xa0
1648  04FF  DA 43 04    	jp	C, l_spr_page_map_00125
1649  0502              l_spr_page_map_00120:
1650  0502  CD 7A 0B    	call	_spr_init_anim_bullets
1651  0505  FB          	ei
1652  0506  CD 00 00    	call	_NIRVANAP_start
1653  0509  0E 00       	ld	c,0x00
1654  050B              l_spr_page_map_00127:
1655  050B  06 00       	ld	b,0x00
1656  050D  21 00 00    	ld	hl,_class
1657  0510  09          	add	hl, bc
1658  0511  36 00       	ld	(hl),0x00
1659  0513  C5          	push	bc
1660  0514  21 00 00    	ld	hl,0x0000
1661  0517  E5          	push	hl
1662  0518  AF          	xor	a, a
1663  0519  F5          	push	af
1664  051A  33          	inc	sp
1665  051B  79          	ld	a, c
1666  051C  F5          	push	af
1667  051D  33          	inc	sp
1668  051E  CD 00 00    	call	_NIRVANAP_spriteT_callee
1669  0521  C1          	pop	bc
1670  0522  0C          	inc	c
1671  0523  79          	ld	a, c
1672  0524  D6 07       	sub	a,0x07
1673  0526  38 E3       	jr	C,l_spr_page_map_00127
1674  0528  DD F9       	ld	sp, ix
1675  052A  DD E1       	pop	ix
1676  052C  C9          	ret
1677  052D              	SECTION code_compiler
1678  052D              ;	---------------------------------
1679  052D              ; Function spr_redraw
1680  052D              ; ---------------------------------
1681  052D              _spr_redraw:
1682  052D  2A 00 00    	ld	hl,(_sprite)
1683  0530  26 00       	ld	h,0x00
1684  0532  01 00 00    	ld	bc,_tile
1685  0535  09          	add	hl,bc
1686  0536  4E          	ld	c, (hl)
1687  0537  3A 00 00    	ld	a,(_sprite)
1688  053A  5F          	ld	e,a
1689  053B  16 00       	ld	d,0x00
1690  053D  21 00 00    	ld	hl,_colint
1691  0540  19          	add	hl,de
1692  0541  7E          	ld	a,(hl)
1693  0542  81          	add	a,c
1694  0543  32 00 00    	ld	(_s_tile1),a
1695  0546  2A 00 00    	ld	hl,(_sprite)
1696  0549  26 00       	ld	h,0x00
1697  054B  01 00 00    	ld	bc,_col
1698  054E  09          	add	hl,bc
1699  054F  7E          	ld	a,(hl)
1700  0550  32 00 00    	ld	(_s_col1),a
1701  0553  2A 00 00    	ld	hl,(_sprite)
1702  0556  26 00       	ld	h,0x00
1703  0558  01 00 00    	ld	bc,_lin
1704  055B  09          	add	hl,bc
1705  055C  7E          	ld	a,(hl)
1706  055D  21 00 00    	ld	hl,_s_lin1
1707  0560  77          	ld	(hl),a
1708  0561  4F          	ld	c,a
1709  0562  7E          	ld	a, (hl)
1710  0563  21 00 00    	ld	hl,_s_lin0
1711  0566  96          	sub	a, (hl)
1712  0567  20 0A       	jr	NZ,l_spr_redraw_00117
1713  0569  3A 00 00    	ld	a,(_s_col1)
1714  056C  21 00 00    	ld	hl,_s_col0
1715  056F  96          	sub	a, (hl)
1716  0570  CA 10 06    	jp	Z,l_spr_redraw_00118
1717  0573              l_spr_redraw_00117:
1718  0573  3A 00 00    	ld	a,(_sprite)
1719  0576  D6 07       	sub	a,0x07
1720  0578  20 04       	jr	NZ,l_spr_redraw_00158
1721  057A  3E 01       	ld	a,0x01
1722  057C  18 01       	jr	l_spr_redraw_00159
1723  057E              l_spr_redraw_00158:
1724  057E  AF          	xor	a,a
1725  057F              l_spr_redraw_00159:
1726  057F  47          	ld	b,a
1727  0580  B7          	or	a, a
1728  0581  28 12       	jr	Z,l_spr_redraw_00105
1729  0583  3A 00 00    	ld	a,(_player_over_stair)
1730  0586  B7          	or	a, a
1731  0587  28 0C       	jr	Z,l_spr_redraw_00105
1732  0589  79          	ld	a, c
1733  058A  E6 03       	and	a,0x03
1734  058C  20 07       	jr	NZ,l_spr_redraw_00105
1735  058E  21 00 00    	ld	hl,_s_tile1
1736  0591  34          	inc	(hl)
1737  0592  34          	inc	(hl)
1738  0593  34          	inc	(hl)
1739  0594  34          	inc	(hl)
1740  0595              l_spr_redraw_00105:
1741  0595  78          	ld	a, b
1742  0596  B7          	or	a, a
1743  0597  28 05       	jr	Z,l_spr_redraw_00113
1744  0599  CD D2 09    	call	_spr_back_repaint
1745  059C  18 5B       	jr	l_spr_redraw_00114
1746  059E              l_spr_redraw_00113:
1747  059E  3A 00 00    	ld	a,(_s_lin1)
1748  05A1  E6 07       	and	a,0x07
1749  05A3  20 05       	jr	NZ,l_spr_redraw_00110
1750  05A5  CD D2 09    	call	_spr_back_repaint
1751  05A8  18 4F       	jr	l_spr_redraw_00114
1752  05AA              l_spr_redraw_00110:
1753  05AA  21 00 00    	ld	hl,_s_state
1754  05AD  CB 46       	bit	0, (hl)
1755  05AF  28 26       	jr	Z,l_spr_redraw_00107
1756  05B1  3A 00 00    	ld	a,(_s_lin0)
1757  05B4  C6 08       	add	a,0x08
1758  05B6  47          	ld	b, a
1759  05B7  3A 00 00    	ld	a,(_s_col0)
1760  05BA  F5          	push	af
1761  05BB  33          	inc	sp
1762  05BC  C5          	push	bc
1763  05BD  33          	inc	sp
1764  05BE  3A 00 00    	ld	a,(_map_paper_clr)
1765  05C1  F5          	push	af
1766  05C2  33          	inc	sp
1767  05C3  CD 00 00    	call	_NIRVANAP_fillC_callee
1768  05C6  21 00 00    	ld	hl,_s_col0
1769  05C9  56          	ld	d, (hl)
1770  05CA  14          	inc	d
1771  05CB  58          	ld	e,b
1772  05CC  3A 00 00    	ld	a,(_map_paper_clr)
1773  05CF  D5          	push	de
1774  05D0  F5          	push	af
1775  05D1  33          	inc	sp
1776  05D2  CD 00 00    	call	_NIRVANAP_fillC_callee
1777  05D5  18 22       	jr	l_spr_redraw_00114
1778  05D7              l_spr_redraw_00107:
1779  05D7  2A FF FF    	ld	hl,(_s_col0 - 1)
1780  05DA  3A 00 00    	ld	a,(_s_lin0)
1781  05DD  6F          	ld	l,a
1782  05DE  3A 00 00    	ld	a,(_map_paper_clr)
1783  05E1  E5          	push	hl
1784  05E2  F5          	push	af
1785  05E3  33          	inc	sp
1786  05E4  CD 00 00    	call	_NIRVANAP_fillC_callee
1787  05E7  21 00 00    	ld	hl,_s_col0
1788  05EA  46          	ld	b, (hl)
1789  05EB  04          	inc	b
1790  05EC  C5          	push	bc
1791  05ED  33          	inc	sp
1792  05EE  2A FF FF    	ld	hl,(_s_lin0 - 1)
1793  05F1  3A 00 00    	ld	a,(_map_paper_clr)
1794  05F4  6F          	ld	l,a
1795  05F5  E5          	push	hl
1796  05F6  CD 00 00    	call	_NIRVANAP_fillC_callee
1797  05F9              l_spr_redraw_00114:
1798  05F9  2A FF FF    	ld	hl,(_s_col1 - 1)
1799  05FC  3A 00 00    	ld	a,(_s_lin1)
1800  05FF  6F          	ld	l,a
1801  0600  E5          	push	hl
1802  0601  2A FF FF    	ld	hl,(_s_tile1 - 1)
1803  0604  3A 00 00    	ld	a,(_sprite)
1804  0607  6F          	ld	l,a
1805  0608  E5          	push	hl
1806  0609  CD 00 00    	call	_NIRVANAP_spriteT_callee
1807  060C  2E 01       	ld	l,0x01
1808  060E  18 22       	jr	l_spr_redraw_00121
1809  0610              l_spr_redraw_00118:
1810  0610  3A 00 00    	ld	a,(_s_tile1)
1811  0613  21 00 00    	ld	hl,_s_tile0
1812  0616  96          	sub	a, (hl)
1813  0617  28 17       	jr	Z,l_spr_redraw_00119
1814  0619  2A FF FF    	ld	hl,(_s_col1 - 1)
1815  061C  3A 00 00    	ld	a,(_s_lin1)
1816  061F  6F          	ld	l,a
1817  0620  E5          	push	hl
1818  0621  2A FF FF    	ld	hl,(_s_tile1 - 1)
1819  0624  3A 00 00    	ld	a,(_sprite)
1820  0627  6F          	ld	l,a
1821  0628  E5          	push	hl
1822  0629  CD 00 00    	call	_NIRVANAP_spriteT_callee
1823  062C  2E 00       	ld	l,0x00
1824  062E  18 02       	jr	l_spr_redraw_00121
1825  0630              l_spr_redraw_00119:
1826  0630  2E 00       	ld	l,0x00
1827  0632              l_spr_redraw_00121:
1828  0632  C9          	ret
1829  0633              	SECTION code_compiler
1830  0633              ;	---------------------------------
1831  0633              ; Function spr_destroy
1832  0633              ; ---------------------------------
1833  0633              _spr_destroy:
1834  0633  CD 00 00    	call	___sdcc_enter_ix
1835  0636  F5          	push	af
1836  0637  4D          	ld	c, l
1837  0638  21 00 00    	ld	hl,_spr_count
1838  063B  35          	dec	(hl)
1839  063C  3E 00       	ld	a, +((_lin) & 0xFF)
1840  063E  81          	add	a, c
1841  063F  DD 77 FE    	ld	(ix-2),a
1842  0642  3E 00       	ld	a, +((_lin) / 256)
1843  0644  CE 00       	adc	a,0x00
1844  0646  DD 77 FF    	ld	(ix-1),a
1845  0649  E1          	pop	hl
1846  064A  7E          	ld	a,(hl)
1847  064B  E5          	push	hl
1848  064C  32 00 00    	ld	(_s_lin0),a
1849  064F  3E 00       	ld	a, +((_col) & 0xFF)
1850  0651  81          	add	a, c
1851  0652  5F          	ld	e, a
1852  0653  3E 00       	ld	a, +((_col) / 256)
1853  0655  CE 00       	adc	a,0x00
1854  0657  57          	ld	d, a
1855  0658  1A          	ld	a, (de)
1856  0659  32 00 00    	ld	(_s_col0),a
1857  065C  C5          	push	bc
1858  065D  D5          	push	de
1859  065E  21 00 00    	ld	hl,0x0000
1860  0661  E5          	push	hl
1861  0662  AF          	xor	a, a
1862  0663  F5          	push	af
1863  0664  33          	inc	sp
1864  0665  79          	ld	a, c
1865  0666  F5          	push	af
1866  0667  33          	inc	sp
1867  0668  CD 00 00    	call	_NIRVANAP_spriteT_callee
1868  066B  CD D2 09    	call	_spr_back_repaint
1869  066E  D1          	pop	de
1870  066F  C1          	pop	bc
1871  0670  06 00       	ld	b,0x00
1872  0672  21 00 00    	ld	hl,_tile
1873  0675  09          	add	hl, bc
1874  0676  AF          	xor	a,a
1875  0677  77          	ld	(hl),a
1876  0678  E1          	pop	hl
1877  0679  12          	ld	(de),a
1878  067A  E5          	push	hl
1879  067B  36 00       	ld	(hl),0x00
1880  067D  11 00 00    	ld	de,_class+0
1881  0680  69          	ld	l,c
1882  0681  26 00       	ld	h,0x00
1883  0683  19          	add	hl, de
1884  0684  36 00       	ld	(hl),0x00
1885  0686  11 00 00    	ld	de,_state+0
1886  0689  69          	ld	l,c
1887  068A  26 00       	ld	h,0x00
1888  068C  19          	add	hl, de
1889  068D  36 00       	ld	(hl),0x00
1890  068F  11 00 00    	ld	de,_state_a+0
1891  0692  69          	ld	l,c
1892  0693  26 00       	ld	h,0x00
1893  0695  19          	add	hl, de
1894  0696  F1          	pop	af
1895  0697  36 00       	ld	(hl),0x00
1896  0699  DD E1       	pop	ix
1897  069B  C9          	ret
1898  069C              	SECTION code_compiler
1899  069C              ;	---------------------------------
1900  069C              ; Function spr_tile
1901  069C              ; ---------------------------------
1902  069C              _spr_tile:
1903  069C  45          	ld	b,l
1904  069D  11 00 00    	ld	de,_class+0
1905  06A0  26 00       	ld	h,0x00
1906  06A2  19          	add	hl, de
1907  06A3  5E          	ld	e, (hl)
1908  06A4  3E 13       	ld	a,0x13
1909  06A6  93          	sub	a, e
1910  06A7  DA DA 07    	jp	C, l_spr_tile_00116
1911  06AA  16 00       	ld	d,0x00
1912  06AC  21 B3 06    	ld	hl,l_spr_tile_00123
1913  06AF  19          	add	hl, de
1914  06B0  19          	add	hl, de
1915  06B1  19          	add	hl, de
1916  06B2  E9          	jp	(hl)
1917  06B3              l_spr_tile_00123:
1918  06B3  C3 DA 07    	jp	l_spr_tile_00116
1919  06B6  C3 DA 07    	jp	l_spr_tile_00116
1920  06B9  C3 41 07    	jp	l_spr_tile_00106
1921  06BC  C3 52 07    	jp	l_spr_tile_00107
1922  06BF  C3 62 07    	jp	l_spr_tile_00108
1923  06C2  C3 71 07    	jp	l_spr_tile_00109
1924  06C5  C3 AD 07    	jp	l_spr_tile_00113
1925  06C8  C3 BC 07    	jp	l_spr_tile_00114
1926  06CB  C3 CB 07    	jp	l_spr_tile_00115
1927  06CE  C3 DA 07    	jp	l_spr_tile_00116
1928  06D1  C3 DA 07    	jp	l_spr_tile_00116
1929  06D4  C3 EF 06    	jp	l_spr_tile_00101
1930  06D7  C3 FF 06    	jp	l_spr_tile_00102
1931  06DA  C3 0F 07    	jp	l_spr_tile_00103
1932  06DD  C3 20 07    	jp	l_spr_tile_00104
1933  06E0  C3 30 07    	jp	l_spr_tile_00105
1934  06E3  C3 80 07    	jp	l_spr_tile_00110
1935  06E6  C3 DA 07    	jp	l_spr_tile_00116
1936  06E9  C3 8F 07    	jp	l_spr_tile_00111
1937  06EC  C3 9E 07    	jp	l_spr_tile_00112
1938  06EF              l_spr_tile_00101:
1939  06EF  AF          	xor	a, a
1940  06F0  48          	ld	c,b
1941  06F1  47          	ld	b,a
1942  06F2  C5          	push	bc
1943  06F3  3E 90       	ld	a,0x90
1944  06F5  F5          	push	af
1945  06F6  33          	inc	sp
1946  06F7  CD DD 07    	call	_spr_tile_dir
1947  06FA  F1          	pop	af
1948  06FB  33          	inc	sp
1949  06FC  C3 DC 07    	jp	l_spr_tile_00117
1950  06FF              l_spr_tile_00102:
1951  06FF  AF          	xor	a, a
1952  0700  48          	ld	c,b
1953  0701  47          	ld	b,a
1954  0702  C5          	push	bc
1955  0703  3E 94       	ld	a,0x94
1956  0705  F5          	push	af
1957  0706  33          	inc	sp
1958  0707  CD DD 07    	call	_spr_tile_dir
1959  070A  F1          	pop	af
1960  070B  33          	inc	sp
1961  070C  C3 DC 07    	jp	l_spr_tile_00117
1962  070F              l_spr_tile_00103:
1963  070F  3E 02       	ld	a,0x02
1964  0711  48          	ld	c,b
1965  0712  47          	ld	b,a
1966  0713  C5          	push	bc
1967  0714  3E 98       	ld	a,0x98
1968  0716  F5          	push	af
1969  0717  33          	inc	sp
1970  0718  CD DD 07    	call	_spr_tile_dir
1971  071B  F1          	pop	af
1972  071C  33          	inc	sp
1973  071D  C3 DC 07    	jp	l_spr_tile_00117
1974  0720              l_spr_tile_00104:
1975  0720  AF          	xor	a, a
1976  0721  48          	ld	c,b
1977  0722  47          	ld	b,a
1978  0723  C5          	push	bc
1979  0724  3E 9C       	ld	a,0x9c
1980  0726  F5          	push	af
1981  0727  33          	inc	sp
1982  0728  CD DD 07    	call	_spr_tile_dir
1983  072B  F1          	pop	af
1984  072C  33          	inc	sp
1985  072D  C3 DC 07    	jp	l_spr_tile_00117
1986  0730              l_spr_tile_00105:
1987  0730  3E 04       	ld	a,0x04
1988  0732  48          	ld	c,b
1989  0733  47          	ld	b,a
1990  0734  C5          	push	bc
1991  0735  3E A0       	ld	a,0xa0
1992  0737  F5          	push	af
1993  0738  33          	inc	sp
1994  0739  CD DD 07    	call	_spr_tile_dir
1995  073C  F1          	pop	af
1996  073D  33          	inc	sp
1997  073E  C3 DC 07    	jp	l_spr_tile_00117
1998  0741              l_spr_tile_00106:
1999  0741  3E 02       	ld	a,0x02
2000  0743  48          	ld	c,b
2001  0744  47          	ld	b,a
2002  0745  C5          	push	bc
2003  0746  3E A8       	ld	a,0xa8
2004  0748  F5          	push	af
2005  0749  33          	inc	sp
2006  074A  CD DD 07    	call	_spr_tile_dir
2007  074D  F1          	pop	af
2008  074E  33          	inc	sp
2009  074F  C3 DC 07    	jp	l_spr_tile_00117
2010  0752              l_spr_tile_00107:
2011  0752  AF          	xor	a, a
2012  0753  48          	ld	c,b
2013  0754  47          	ld	b,a
2014  0755  C5          	push	bc
2015  0756  3E AC       	ld	a,0xac
2016  0758  F5          	push	af
2017  0759  33          	inc	sp
2018  075A  CD DD 07    	call	_spr_tile_dir
2019  075D  F1          	pop	af
2020  075E  33          	inc	sp
2021  075F  C3 DC 07    	jp	l_spr_tile_00117
2022  0762              l_spr_tile_00108:
2023  0762  AF          	xor	a, a
2024  0763  48          	ld	c,b
2025  0764  47          	ld	b,a
2026  0765  C5          	push	bc
2027  0766  3E AE       	ld	a,0xae
2028  0768  F5          	push	af
2029  0769  33          	inc	sp
2030  076A  CD DD 07    	call	_spr_tile_dir
2031  076D  F1          	pop	af
2032  076E  33          	inc	sp
2033  076F  18 6B       	jr	l_spr_tile_00117
2034  0771              l_spr_tile_00109:
2035  0771  AF          	xor	a, a
2036  0772  48          	ld	c,b
2037  0773  47          	ld	b,a
2038  0774  C5          	push	bc
2039  0775  3E B0       	ld	a,0xb0
2040  0777  F5          	push	af
2041  0778  33          	inc	sp
2042  0779  CD DD 07    	call	_spr_tile_dir
2043  077C  F1          	pop	af
2044  077D  33          	inc	sp
2045  077E  18 5C       	jr	l_spr_tile_00117
2046  0780              l_spr_tile_00110:
2047  0780  AF          	xor	a, a
2048  0781  48          	ld	c,b
2049  0782  47          	ld	b,a
2050  0783  C5          	push	bc
2051  0784  3E B2       	ld	a,0xb2
2052  0786  F5          	push	af
2053  0787  33          	inc	sp
2054  0788  CD DD 07    	call	_spr_tile_dir
2055  078B  F1          	pop	af
2056  078C  33          	inc	sp
2057  078D  18 4D       	jr	l_spr_tile_00117
2058  078F              l_spr_tile_00111:
2059  078F  AF          	xor	a, a
2060  0790  48          	ld	c,b
2061  0791  47          	ld	b,a
2062  0792  C5          	push	bc
2063  0793  3E B4       	ld	a,0xb4
2064  0795  F5          	push	af
2065  0796  33          	inc	sp
2066  0797  CD DD 07    	call	_spr_tile_dir
2067  079A  F1          	pop	af
2068  079B  33          	inc	sp
2069  079C  18 3E       	jr	l_spr_tile_00117
2070  079E              l_spr_tile_00112:
2071  079E  AF          	xor	a, a
2072  079F  48          	ld	c,b
2073  07A0  47          	ld	b,a
2074  07A1  C5          	push	bc
2075  07A2  3E B6       	ld	a,0xb6
2076  07A4  F5          	push	af
2077  07A5  33          	inc	sp
2078  07A6  CD DD 07    	call	_spr_tile_dir
2079  07A9  F1          	pop	af
2080  07AA  33          	inc	sp
2081  07AB  18 2F       	jr	l_spr_tile_00117
2082  07AD              l_spr_tile_00113:
2083  07AD  AF          	xor	a, a
2084  07AE  48          	ld	c,b
2085  07AF  47          	ld	b,a
2086  07B0  C5          	push	bc
2087  07B1  3E C0       	ld	a,0xc0
2088  07B3  F5          	push	af
2089  07B4  33          	inc	sp
2090  07B5  CD DD 07    	call	_spr_tile_dir
2091  07B8  F1          	pop	af
2092  07B9  33          	inc	sp
2093  07BA  18 20       	jr	l_spr_tile_00117
2094  07BC              l_spr_tile_00114:
2095  07BC  AF          	xor	a, a
2096  07BD  48          	ld	c,b
2097  07BE  47          	ld	b,a
2098  07BF  C5          	push	bc
2099  07C0  3E C2       	ld	a,0xc2
2100  07C2  F5          	push	af
2101  07C3  33          	inc	sp
2102  07C4  CD DD 07    	call	_spr_tile_dir
2103  07C7  F1          	pop	af
2104  07C8  33          	inc	sp
2105  07C9  18 11       	jr	l_spr_tile_00117
2106  07CB              l_spr_tile_00115:
2107  07CB  AF          	xor	a, a
2108  07CC  48          	ld	c,b
2109  07CD  47          	ld	b,a
2110  07CE  C5          	push	bc
2111  07CF  3E C4       	ld	a,0xc4
2112  07D1  F5          	push	af
2113  07D2  33          	inc	sp
2114  07D3  CD DD 07    	call	_spr_tile_dir
2115  07D6  F1          	pop	af
2116  07D7  33          	inc	sp
2117  07D8  18 02       	jr	l_spr_tile_00117
2118  07DA              l_spr_tile_00116:
2119  07DA  2E 00       	ld	l,0x00
2120  07DC              l_spr_tile_00117:
2121  07DC  C9          	ret
2122  07DD              	SECTION code_compiler
2123  07DD              ;	---------------------------------
2124  07DD              ; Function spr_tile_dir
2125  07DD              ; ---------------------------------
2126  07DD              _spr_tile_dir:
2127  07DD  CD 00 00    	call	___sdcc_enter_ix
2128  07E0  3E 00       	ld	a, +((_state) & 0xFF)
2129  07E2  DD 86 05    	add	a,(ix+5)
2130  07E5  4F          	ld	c, a
2131  07E6  3E 00       	ld	a, +((_state) / 256)
2132  07E8  CE 00       	adc	a,0x00
2133  07EA  47          	ld	b, a
2134  07EB  0A          	ld	a, (bc)
2135  07EC  4F          	ld	c,a
2136  07ED  CB 57       	bit	2,a
2137  07EF  28 05       	jr	Z,l_spr_tile_dir_00102
2138  07F1  DD 6E 04    	ld	l,(ix+4)
2139  07F4  18 2D       	jr	l_spr_tile_dir_00109
2140  07F6              l_spr_tile_dir_00102:
2141  07F6  DD 7E 04    	ld	a,(ix+4)
2142  07F9  DD 86 06    	add	a,(ix+6)
2143  07FC  47          	ld	b, a
2144  07FD  CB 59       	bit	3, c
2145  07FF  28 03       	jr	Z,l_spr_tile_dir_00104
2146  0801  68          	ld	l, b
2147  0802  18 1F       	jr	l_spr_tile_dir_00109
2148  0804              l_spr_tile_dir_00104:
2149  0804  3E 00       	ld	a, +((_state_a) & 0xFF)
2150  0806  DD 86 05    	add	a,(ix+5)
2151  0809  5F          	ld	e, a
2152  080A  3E 00       	ld	a, +((_state_a) / 256)
2153  080C  CE 00       	adc	a,0x00
2154  080E  57          	ld	d, a
2155  080F  1A          	ld	a, (de)
2156  0810  CB 67       	bit	4, a
2157  0812  28 05       	jr	Z,l_spr_tile_dir_00106
2158  0814  DD 6E 04    	ld	l,(ix+4)
2159  0817  18 0A       	jr	l_spr_tile_dir_00109
2160  0819              l_spr_tile_dir_00106:
2161  0819  CB 5F       	bit	3, a
2162  081B  28 03       	jr	Z,l_spr_tile_dir_00108
2163  081D  68          	ld	l, b
2164  081E  18 03       	jr	l_spr_tile_dir_00109
2165  0820              l_spr_tile_dir_00108:
2166  0820  DD 6E 04    	ld	l,(ix+4)
2167  0823              l_spr_tile_dir_00109:
2168  0823  DD E1       	pop	ix
2169  0825  C9          	ret
2170  0826              	SECTION code_compiler
2171  0826              ;	---------------------------------
2172  0826              ; Function spr_draw_clear
2173  0826              ; ---------------------------------
2174  0826              _spr_draw_clear:
2175  0826  F3          	di
2176  0827  2E 00       	ld	l,0x00
2177  0829  CD 00 00    	call	_zx_cls_fastcall
2178  082C  21 00 00    	ld	hl,_s_lin1
2179  082F  36 10       	ld	(hl),0x10
2180  0831              l_spr_draw_clear_00105:
2181  0831  21 00 00    	ld	hl,_s_col1
2182  0834  36 00       	ld	(hl),0x00
2183  0836              l_spr_draw_clear_00103:
2184  0836  2A FF FF    	ld	hl,(_s_col1 - 1)
2185  0839  3A 00 00    	ld	a,(_s_lin1)
2186  083C  6F          	ld	l,a
2187  083D  E5          	push	hl
2188  083E  AF          	xor	a, a
2189  083F  F5          	push	af
2190  0840  33          	inc	sp
2191  0841  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2192  0844  21 00 00    	ld	hl,_s_col1
2193  0847  7E          	ld	a,(hl)
2194  0848  C6 02       	add	a,0x02
2195  084A  77          	ld	(hl),a
2196  084B  D6 20       	sub	a,0x20
2197  084D  38 E7       	jr	C,l_spr_draw_clear_00103
2198  084F  21 00 00    	ld	hl,_s_lin1
2199  0852  7E          	ld	a, (hl)
2200  0853  C6 10       	add	a,0x10
2201  0855  77          	ld	(hl), a
2202  0856  3E A2       	ld	a,0xa2
2203  0858  96          	sub	a, (hl)
2204  0859  30 D6       	jr	NC,l_spr_draw_clear_00105
2205  085B  FB          	ei
2206  085C  C9          	ret
2207  085D              	SECTION code_compiler
2208  085D              ;	---------------------------------
2209  085D              ; Function spr_brick_anim
2210  085D              ; ---------------------------------
2211  085D              _spr_brick_anim:
2212  085D  CD 00 00    	call	___sdcc_enter_ix
2213  0860  F5          	push	af
2214  0861  3B          	dec	sp
2215  0862  4D          	ld	c, l
2216  0863  21 00 00    	ld	hl,_player_hit_col
2217  0866  56          	ld	d, (hl)
2218  0867  21 00 00    	ld	hl,_player_hit_lin
2219  086A  5E          	ld	e, (hl)
2220  086B  C5          	push	bc
2221  086C  D5          	push	de
2222  086D  D5          	push	de
2223  086E  CD 00 00    	call	_spr_calc_index
2224  0871  F1          	pop	af
2225  0872  DD 74 FF    	ld	(ix-1),h
2226  0875  DD 75 FE    	ld	(ix-2),l
2227  0878  D1          	pop	de
2228  0879  C1          	pop	bc
2229  087A  DD 6E FE    	ld	l,(ix-2)
2230  087D  DD 66 FF    	ld	h,(ix-1)
2231  0880  22 00 00    	ld	(_index1),hl
2232  0883  21 00 00    	ld	hl,_index1
2233  0886  7E          	ld	a, (hl)
2234  0887  C6 F0       	add	a,0xf0
2235  0889  DD 77 FE    	ld	(ix-2),a
2236  088C  23          	inc	hl
2237  088D  7E          	ld	a, (hl)
2238  088E  CE FF       	adc	a,0xff
2239  0890  DD 77 FF    	ld	(ix-1),a
2240  0893  3E 00       	ld	a, +((_scr_map) & 0xFF)
2241  0895  DD 86 FE    	add	a,(ix-2)
2242  0898  6F          	ld	l, a
2243  0899  3E 00       	ld	a, +((_scr_map) / 256)
2244  089B  DD 8E FF    	adc	a,(ix-1)
2245  089E  67          	ld	h, a
2246  089F  7E          	ld	a, (hl)
2247  08A0  DD 77 FD    	ld	(ix-3),a
2248  08A3  3E 00       	ld	a, +((_scr_map) & 0xFF)
2249  08A5  21 00 00    	ld	hl,_index1
2250  08A8  86          	add	a, (hl)
2251  08A9  DD 77 FE    	ld	(ix-2),a
2252  08AC  3E 00       	ld	a, +((_scr_map) / 256)
2253  08AE  23          	inc	hl
2254  08AF  8E          	adc	a, (hl)
2255  08B0  DD 6E FE    	ld	l,(ix-2)
2256  08B3  DD 77 FF    	ld	(ix-1),a
2257  08B6  67          	ld	h,a
2258  08B7  46          	ld	b, (hl)
2259  08B8  79          	ld	a, c
2260  08B9  B7          	or	a, a
2261  08BA  28 08       	jr	Z,l_spr_brick_anim_00102
2262  08BC  7B          	ld	a, e
2263  08BD  C6 F6       	add	a,0xf6
2264  08BF  32 00 00    	ld	(_tmp),a
2265  08C2  18 06       	jr	l_spr_brick_anim_00103
2266  08C4              l_spr_brick_anim_00102:
2267  08C4  7B          	ld	a, e
2268  08C5  C6 F8       	add	a,0xf8
2269  08C7  32 00 00    	ld	(_tmp),a
2270  08CA              l_spr_brick_anim_00103:
2271  08CA  F3          	di
2272  08CB  79          	ld	a, c
2273  08CC  B7          	or	a, a
2274  08CD  28 1A       	jr	Z,l_spr_brick_anim_00105
2275  08CF  3A 00 00    	ld	a,(_map_paper_clr)
2276  08D2  C5          	push	bc
2277  08D3  D5          	push	de
2278  08D4  D5          	push	de
2279  08D5  F5          	push	af
2280  08D6  33          	inc	sp
2281  08D7  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2282  08DA  D1          	pop	de
2283  08DB  C1          	pop	bc
2284  08DC  D5          	push	de
2285  08DD  33          	inc	sp
2286  08DE  3A 00 00    	ld	a,(_tmp)
2287  08E1  48          	ld	c,b
2288  08E2  47          	ld	b,a
2289  08E3  C5          	push	bc
2290  08E4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2291  08E7  18 1E       	jr	l_spr_brick_anim_00106
2292  08E9              l_spr_brick_anim_00105:
2293  08E9  3A 00 00    	ld	a,(_tmp)
2294  08EC  C6 F0       	add	a,0xf0
2295  08EE  C5          	push	bc
2296  08EF  D5          	push	de
2297  08F0  5F          	ld	e,a
2298  08F1  D5          	push	de
2299  08F2  DD 7E FD    	ld	a,(ix-3)
2300  08F5  F5          	push	af
2301  08F6  33          	inc	sp
2302  08F7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2303  08FA  D1          	pop	de
2304  08FB  C1          	pop	bc
2305  08FC  D5          	push	de
2306  08FD  33          	inc	sp
2307  08FE  3A 00 00    	ld	a,(_tmp)
2308  0901  48          	ld	c,b
2309  0902  47          	ld	b,a
2310  0903  C5          	push	bc
2311  0904  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2312  0907              l_spr_brick_anim_00106:
2313  0907  FB          	ei
2314  0908  DD F9       	ld	sp, ix
2315  090A  DD E1       	pop	ix
2316  090C  C9          	ret
2317  090D              	SECTION code_compiler
2318  090D              ;	---------------------------------
2319  090D              ; Function spr_draw_index
2320  090D              ; ---------------------------------
2321  090D              _spr_draw_index:
2322  090D  CD 00 00    	call	___sdcc_enter_ix
2323  0910  DD 4E 04    	ld	c,(ix+4)
2324  0913  79          	ld	a, c
2325  0914  E6 0F       	and	a,0x0f
2326  0916  87          	add	a, a
2327  0917  32 00 00    	ld	(_s_col1),a
2328  091A  21 00 00    	ld	hl,_s_lin1
2329  091D  71          	ld	(hl),c
2330  091E  79          	ld	a,c
2331  091F  07          	rlca
2332  0920  07          	rlca
2333  0921  07          	rlca
2334  0922  07          	rlca
2335  0923  E6 0F       	and	a,0x0f
2336  0925  07          	rlca
2337  0926  07          	rlca
2338  0927  07          	rlca
2339  0928  07          	rlca
2340  0929  E6 F0       	and	a,0xf0
2341  092B  77          	ld	(hl), a
2342  092C  F3          	di
2343  092D  3E 00       	ld	a, +((_scr_map) & 0xFF)
2344  092F  DD 86 04    	add	a,(ix+4)
2345  0932  4F          	ld	c, a
2346  0933  3E 00       	ld	a, +((_scr_map) / 256)
2347  0935  DD 8E 05    	adc	a,(ix+5)
2348  0938  47          	ld	b, a
2349  0939  0A          	ld	a, (bc)
2350  093A  47          	ld	b, a
2351  093B  3A 00 00    	ld	a,(_s_col1)
2352  093E  F5          	push	af
2353  093F  33          	inc	sp
2354  0940  3A 00 00    	ld	a,(_s_lin1)
2355  0943  48          	ld	c,b
2356  0944  47          	ld	b,a
2357  0945  C5          	push	bc
2358  0946  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2359  0949  FB          	ei
2360  094A  DD E1       	pop	ix
2361  094C  C9          	ret
2362  094D              	SECTION code_compiler
2363  094D              ;	---------------------------------
2364  094D              ; Function spr_draw_row
2365  094D              ; ---------------------------------
2366  094D              _spr_draw_row:
2367  094D  CD 00 00    	call	___sdcc_enter_ix
2368  0950  3B          	dec	sp
2369  0951  F3          	di
2370  0952  21 00 00    	ld	hl,_tmp
2371  0955  36 00       	ld	(hl),0x00
2372  0957  DD 7E 04    	ld	a,(ix+4)
2373  095A  07          	rlca
2374  095B  07          	rlca
2375  095C  07          	rlca
2376  095D  E6 F8       	and	a,0xf8
2377  095F  DD 77 FF    	ld	(ix-1),a
2378  0962              l_spr_draw_row_00101:
2379  0962  21 00 00    	ld	hl,_tmp
2380  0965  7E          	ld	a, (hl)
2381  0966  D6 20       	sub	a,0x20
2382  0968  30 38       	jr	NC,l_spr_draw_row_00103
2383  096A  DD 4E 04    	ld	c,(ix+4)
2384  096D  3E 00       	ld	a,0x00
2385  096F  CB 21       	sla	c
2386  0971  17          	rla
2387  0972  CB 21       	sla	c
2388  0974  17          	rla
2389  0975  CB 21       	sla	c
2390  0977  17          	rla
2391  0978  CB 21       	sla	c
2392  097A  17          	rla
2393  097B  CB 21       	sla	c
2394  097D  17          	rla
2395  097E  47          	ld	b,a
2396  097F  5E          	ld	e, (hl)
2397  0980  16 00       	ld	d,0x00
2398  0982  79          	ld	a, c
2399  0983  83          	add	a, e
2400  0984  21 00 00    	ld	hl,_index1
2401  0987  77          	ld	(hl), a
2402  0988  78          	ld	a, b
2403  0989  8A          	adc	a, d
2404  098A  23          	inc	hl
2405  098B  77          	ld	(hl), a
2406  098C  2A FF FF    	ld	hl,(_tmp-1)
2407  098F  DD 6E FF    	ld	l,(ix-1)
2408  0992  3A 00 00    	ld	a,(_game_brick_tile)
2409  0995  E5          	push	hl
2410  0996  F5          	push	af
2411  0997  33          	inc	sp
2412  0998  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2413  099B  21 00 00    	ld	hl,_tmp
2414  099E  34          	inc	(hl)
2415  099F  34          	inc	(hl)
2416  09A0  18 C0       	jr	l_spr_draw_row_00101
2417  09A2              l_spr_draw_row_00103:
2418  09A2  FB          	ei
2419  09A3  33          	inc	sp
2420  09A4  DD E1       	pop	ix
2421  09A6  C9          	ret
2422  09A7              	SECTION code_compiler
2423  09A7              ;	---------------------------------
2424  09A7              ; Function spr_calc_hor
2425  09A7              ; ---------------------------------
2426  09A7              _spr_calc_hor:
2427  09A7  CD 00 00    	call	___sdcc_enter_ix
2428  09AA  3E 00       	ld	a, +((_col) & 0xFF)
2429  09AC  DD 86 04    	add	a,(ix+4)
2430  09AF  4F          	ld	c, a
2431  09B0  3E 00       	ld	a, +((_col) / 256)
2432  09B2  CE 00       	adc	a,0x00
2433  09B4  47          	ld	b, a
2434  09B5  0A          	ld	a, (bc)
2435  09B6  5F          	ld	e, a
2436  09B7  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2437  09B9  DD 86 04    	add	a,(ix+4)
2438  09BC  4F          	ld	c, a
2439  09BD  3E 00       	ld	a, +((_sprite_frames) / 256)
2440  09BF  CE 00       	adc	a,0x00
2441  09C1  47          	ld	b, a
2442  09C2  0A          	ld	a, (bc)
2443  09C3  67          	ld	h, a
2444  09C4  2E 00       	ld	l,0x00
2445  09C6  55          	ld	d, l
2446  09C7  06 08       	ld	b,0x08
2447  09C9              l_spr_calc_hor_00103:
2448  09C9  29          	add	hl, hl
2449  09CA  30 01       	jr	NC,l_spr_calc_hor_00104
2450  09CC  19          	add	hl, de
2451  09CD              l_spr_calc_hor_00104:
2452  09CD  10 FA       	djnz	l_spr_calc_hor_00103
2453  09CF  DD E1       	pop	ix
2454  09D1  C9          	ret
2455  09D2              	SECTION code_compiler
2456  09D2              ;	---------------------------------
2457  09D2              ; Function spr_back_repaint
2458  09D2              ; ---------------------------------
2459  09D2              _spr_back_repaint:
2460  09D2  CD 00 00    	call	___sdcc_enter_ix
2461  09D5  3B          	dec	sp
2462  09D6  3A 00 00    	ld	a,(_spr_hack)
2463  09D9  B7          	or	a, a
2464  09DA  20 02       	jr	NZ,l_spr_back_repaint_00102
2465  09DC  76          	halt
2466  09DD  F3          	di
2467  09DE              l_spr_back_repaint_00102:
2468  09DE  2A FF FF    	ld	hl,(_s_col0 - 1)
2469  09E1  3A 00 00    	ld	a,(_s_lin0)
2470  09E4  6F          	ld	l,a
2471  09E5  E5          	push	hl
2472  09E6  CD 00 00    	call	_spr_calc_index
2473  09E9  F1          	pop	af
2474  09EA  7D          	ld	a,l
2475  09EB  32 00 00    	ld	(_sprite_curr_index),a
2476  09EE  21 00 00    	ld	hl,_s_lin0
2477  09F1  7E          	ld	a, (hl)
2478  09F2  E6 0F       	and	a,0x0f
2479  09F4  4F          	ld	c, a
2480  09F5  7E          	ld	a, (hl)
2481  09F6  07          	rlca
2482  09F7  07          	rlca
2483  09F8  07          	rlca
2484  09F9  07          	rlca
2485  09FA  E6 0F       	and	a,0x0f
2486  09FC  5F          	ld	e, a
2487  09FD  21 00 00    	ld	hl,_s_col0
2488  0A00  CB 46       	bit	0, (hl)
2489  0A02  20 68       	jr	NZ,l_spr_back_repaint_00110
2490  0A04  79          	ld	a, c
2491  0A05  B7          	or	a, a
2492  0A06  20 1D       	jr	NZ,l_spr_back_repaint_00104
2493  0A08  2A 00 00    	ld	hl,(_sprite_curr_index)
2494  0A0B  26 00       	ld	h,0x00
2495  0A0D  01 00 00    	ld	bc,_scr_map
2496  0A10  09          	add	hl,bc
2497  0A11  46          	ld	b,(hl)
2498  0A12  3A 00 00    	ld	a,(_s_col0)
2499  0A15  F5          	push	af
2500  0A16  33          	inc	sp
2501  0A17  3A 00 00    	ld	a,(_s_lin0)
2502  0A1A  48          	ld	c,b
2503  0A1B  47          	ld	b,a
2504  0A1C  C5          	push	bc
2505  0A1D  CD 49 0B    	call	_spr_tile_paint
2506  0A20  F1          	pop	af
2507  0A21  33          	inc	sp
2508  0A22  C3 3E 0B    	jp	l_spr_back_repaint_00111
2509  0A25              l_spr_back_repaint_00104:
2510  0A25  7B          	ld	a, e
2511  0A26  07          	rlca
2512  0A27  07          	rlca
2513  0A28  07          	rlca
2514  0A29  07          	rlca
2515  0A2A  E6 F0       	and	a,0xf0
2516  0A2C  4F          	ld	c, a
2517  0A2D  2A 00 00    	ld	hl,(_sprite_curr_index)
2518  0A30  26 00       	ld	h,0x00
2519  0A32  11 00 00    	ld	de,_scr_map
2520  0A35  19          	add	hl,de
2521  0A36  46          	ld	b, (hl)
2522  0A37  3A 00 00    	ld	a,(_s_col0)
2523  0A3A  C5          	push	bc
2524  0A3B  F5          	push	af
2525  0A3C  33          	inc	sp
2526  0A3D  79          	ld	a, c
2527  0A3E  48          	ld	c,b
2528  0A3F  47          	ld	b,a
2529  0A40  C5          	push	bc
2530  0A41  CD 49 0B    	call	_spr_tile_paint
2531  0A44  F1          	pop	af
2532  0A45  33          	inc	sp
2533  0A46  C1          	pop	bc
2534  0A47  79          	ld	a, c
2535  0A48  C6 10       	add	a,0x10
2536  0A4A  57          	ld	d, a
2537  0A4B  21 00 00    	ld	hl,_sprite_curr_index
2538  0A4E  7E          	ld	a, (hl)
2539  0A4F  C6 10       	add	a,0x10
2540  0A51  77          	ld	(hl), a
2541  0A52  C6 00       	add	a,+((_scr_map) & 0xFF)
2542  0A54  4F          	ld	c, a
2543  0A55  3E 00       	ld	a, +((_scr_map) / 256)
2544  0A57  CE 00       	adc	a,0x00
2545  0A59  47          	ld	b, a
2546  0A5A  0A          	ld	a, (bc)
2547  0A5B  47          	ld	b, a
2548  0A5C  3A 00 00    	ld	a,(_s_col0)
2549  0A5F  5A          	ld	e,d
2550  0A60  57          	ld	d,a
2551  0A61  D5          	push	de
2552  0A62  C5          	push	bc
2553  0A63  33          	inc	sp
2554  0A64  CD 49 0B    	call	_spr_tile_paint
2555  0A67  F1          	pop	af
2556  0A68  33          	inc	sp
2557  0A69  C3 3E 0B    	jp	l_spr_back_repaint_00111
2558  0A6C              l_spr_back_repaint_00110:
2559  0A6C  3A 00 00    	ld	a,(_s_col0)
2560  0A6F  C6 FF       	add	a,0xff
2561  0A71  DD 77 FF    	ld	(ix-1),a
2562  0A74  79          	ld	a, c
2563  0A75  B7          	or	a, a
2564  0A76  20 3E       	jr	NZ,l_spr_back_repaint_00107
2565  0A78  2A 00 00    	ld	hl,(_sprite_curr_index)
2566  0A7B  26 00       	ld	h,0x00
2567  0A7D  01 00 00    	ld	bc,_scr_map
2568  0A80  09          	add	hl,bc
2569  0A81  46          	ld	b,(hl)
2570  0A82  DD 7E FF    	ld	a,(ix-1)
2571  0A85  F5          	push	af
2572  0A86  33          	inc	sp
2573  0A87  3A 00 00    	ld	a,(_s_lin0)
2574  0A8A  48          	ld	c,b
2575  0A8B  47          	ld	b,a
2576  0A8C  C5          	push	bc
2577  0A8D  CD 49 0B    	call	_spr_tile_paint
2578  0A90  F1          	pop	af
2579  0A91  33          	inc	sp
2580  0A92  21 00 00    	ld	hl,_sprite_curr_index
2581  0A95  34          	inc	(hl)
2582  0A96  21 00 00    	ld	hl,_s_col0
2583  0A99  4E          	ld	c, (hl)
2584  0A9A  0C          	inc	c
2585  0A9B  2A 00 00    	ld	hl,(_sprite_curr_index)
2586  0A9E  26 00       	ld	h,0x00
2587  0AA0  11 00 00    	ld	de,_scr_map
2588  0AA3  19          	add	hl,de
2589  0AA4  46          	ld	b, (hl)
2590  0AA5  79          	ld	a, c
2591  0AA6  F5          	push	af
2592  0AA7  33          	inc	sp
2593  0AA8  3A 00 00    	ld	a,(_s_lin0)
2594  0AAB  48          	ld	c,b
2595  0AAC  47          	ld	b,a
2596  0AAD  C5          	push	bc
2597  0AAE  CD 49 0B    	call	_spr_tile_paint
2598  0AB1  F1          	pop	af
2599  0AB2  33          	inc	sp
2600  0AB3  C3 3E 0B    	jp	l_spr_back_repaint_00111
2601  0AB6              l_spr_back_repaint_00107:
2602  0AB6  7B          	ld	a, e
2603  0AB7  07          	rlca
2604  0AB8  07          	rlca
2605  0AB9  07          	rlca
2606  0ABA  07          	rlca
2607  0ABB  E6 F0       	and	a,0xf0
2608  0ABD  47          	ld	b, a
2609  0ABE  2A 00 00    	ld	hl,(_sprite_curr_index)
2610  0AC1  26 00       	ld	h,0x00
2611  0AC3  11 00 00    	ld	de,_scr_map
2612  0AC6  19          	add	hl,de
2613  0AC7  56          	ld	d, (hl)
2614  0AC8  C5          	push	bc
2615  0AC9  DD 7E FF    	ld	a,(ix-1)
2616  0ACC  F5          	push	af
2617  0ACD  33          	inc	sp
2618  0ACE  4A          	ld	c, d
2619  0ACF  C5          	push	bc
2620  0AD0  CD 49 0B    	call	_spr_tile_paint
2621  0AD3  F1          	pop	af
2622  0AD4  33          	inc	sp
2623  0AD5  C1          	pop	bc
2624  0AD6  21 00 00    	ld	hl,_sprite_curr_index
2625  0AD9  34          	inc	(hl)
2626  0ADA  21 00 00    	ld	hl,_s_col0
2627  0ADD  4E          	ld	c, (hl)
2628  0ADE  0C          	inc	c
2629  0ADF  2A 00 00    	ld	hl,(_sprite_curr_index)
2630  0AE2  26 00       	ld	h,0x00
2631  0AE4  11 00 00    	ld	de,_scr_map
2632  0AE7  19          	add	hl,de
2633  0AE8  5E          	ld	e, (hl)
2634  0AE9  C5          	push	bc
2635  0AEA  79          	ld	a, c
2636  0AEB  48          	ld	c,b
2637  0AEC  47          	ld	b,a
2638  0AED  C5          	push	bc
2639  0AEE  7B          	ld	a, e
2640  0AEF  F5          	push	af
2641  0AF0  33          	inc	sp
2642  0AF1  CD 49 0B    	call	_spr_tile_paint
2643  0AF4  F1          	pop	af
2644  0AF5  33          	inc	sp
2645  0AF6  C1          	pop	bc
2646  0AF7  78          	ld	a, b
2647  0AF8  C6 10       	add	a,0x10
2648  0AFA  DD 77 FF    	ld	(ix-1),a
2649  0AFD  21 00 00    	ld	hl,_sprite_curr_index
2650  0B00  7E          	ld	a, (hl)
2651  0B01  C6 0F       	add	a,0x0f
2652  0B03  77          	ld	(hl), a
2653  0B04  21 00 00    	ld	hl,_s_col0
2654  0B07  4E          	ld	c, (hl)
2655  0B08  0D          	dec	c
2656  0B09  2A 00 00    	ld	hl,(_sprite_curr_index)
2657  0B0C  26 00       	ld	h,0x00
2658  0B0E  11 00 00    	ld	de,_scr_map
2659  0B11  19          	add	hl,de
2660  0B12  5E          	ld	e, (hl)
2661  0B13  79          	ld	a, c
2662  0B14  F5          	push	af
2663  0B15  33          	inc	sp
2664  0B16  DD 56 FF    	ld	d,(ix-1)
2665  0B19  D5          	push	de
2666  0B1A  CD 49 0B    	call	_spr_tile_paint
2667  0B1D  F1          	pop	af
2668  0B1E  33          	inc	sp
2669  0B1F  21 00 00    	ld	hl,_sprite_curr_index
2670  0B22  34          	inc	(hl)
2671  0B23  21 00 00    	ld	hl,_s_col0
2672  0B26  4E          	ld	c, (hl)
2673  0B27  0C          	inc	c
2674  0B28  2A 00 00    	ld	hl,(_sprite_curr_index)
2675  0B2B  26 00       	ld	h,0x00
2676  0B2D  11 00 00    	ld	de,_scr_map
2677  0B30  19          	add	hl,de
2678  0B31  5E          	ld	e, (hl)
2679  0B32  79          	ld	a, c
2680  0B33  F5          	push	af
2681  0B34  33          	inc	sp
2682  0B35  DD 56 FF    	ld	d,(ix-1)
2683  0B38  D5          	push	de
2684  0B39  CD 49 0B    	call	_spr_tile_paint
2685  0B3C  F1          	pop	af
2686  0B3D  33          	inc	sp
2687  0B3E              l_spr_back_repaint_00111:
2688  0B3E  3A 00 00    	ld	a,(_spr_hack)
2689  0B41  B7          	or	a, a
2690  0B42  20 01       	jr	NZ,l_spr_back_repaint_00114
2691  0B44  FB          	ei
2692  0B45              l_spr_back_repaint_00114:
2693  0B45  33          	inc	sp
2694  0B46  DD E1       	pop	ix
2695  0B48  C9          	ret
2696  0B49              	SECTION code_compiler
2697  0B49              ;	---------------------------------
2698  0B49              ; Function spr_tile_paint
2699  0B49              ; ---------------------------------
2700  0B49              _spr_tile_paint:
2701  0B49  CD 00 00    	call	___sdcc_enter_ix
2702  0B4C  DD 7E 04    	ld	a,(ix+4)
2703  0B4F  B7          	or	a, a
2704  0B50  28 05       	jr	Z,l_spr_tile_paint_00101
2705  0B52  3C          	inc	a
2706  0B53  28 22       	jr	Z,l_spr_tile_paint_00105
2707  0B55  18 11       	jr	l_spr_tile_paint_00103
2708  0B57              l_spr_tile_paint_00101:
2709  0B57  DD 66 06    	ld	h,(ix+6)
2710  0B5A  DD 6E 05    	ld	l,(ix+5)
2711  0B5D  3A 00 00    	ld	a,(_map_paper_clr)
2712  0B60  E5          	push	hl
2713  0B61  F5          	push	af
2714  0B62  33          	inc	sp
2715  0B63  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2716  0B66  18 0F       	jr	l_spr_tile_paint_00105
2717  0B68              l_spr_tile_paint_00103:
2718  0B68  DD 66 06    	ld	h,(ix+6)
2719  0B6B  DD 6E 05    	ld	l,(ix+5)
2720  0B6E  E5          	push	hl
2721  0B6F  DD 7E 04    	ld	a,(ix+4)
2722  0B72  F5          	push	af
2723  0B73  33          	inc	sp
2724  0B74  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2725  0B77              l_spr_tile_paint_00105:
2726  0B77  DD E1       	pop	ix
2727  0B79  C9          	ret
2728  0B7A              	SECTION code_compiler
2729  0B7A              ;	---------------------------------
2730  0B7A              ; Function spr_init_anim_bullets
2731  0B7A              ; ---------------------------------
2732  0B7A              _spr_init_anim_bullets:
2733  0B7A  01 00 00    	ld	bc,_anim_lin+0
2734  0B7D  1E 00       	ld	e,0x00
2735  0B7F              l_spr_init_anim_bullets_00102:
2736  0B7F  6B          	ld	l,e
2737  0B80  26 00       	ld	h,0x00
2738  0B82  09          	add	hl, bc
2739  0B83  36 FF       	ld	(hl),0xff
2740  0B85  16 00       	ld	d,0x00
2741  0B87  21 00 00    	ld	hl,_bullet_col
2742  0B8A  19          	add	hl, de
2743  0B8B  36 FF       	ld	(hl),0xff
2744  0B8D  1C          	inc	e
2745  0B8E  7B          	ld	a, e
2746  0B8F  D6 08       	sub	a,0x08
2747  0B91  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2748  0B93  21 00 00    	ld	hl,_bullet_count
2749  0B96  36 00       	ld	(hl),0x00
2750  0B98  21 00 00    	ld	hl,_anim_count
2751  0B9B  36 00       	ld	(hl),0x00
2752  0B9D  C9          	ret
2753  0B9E              	SECTION code_compiler
2754  0B9E              ;	---------------------------------
2755  0B9E              ; Function spr_add_anim
2756  0B9E              ; ---------------------------------
2757  0B9E              _spr_add_anim:
2758  0B9E  CD 00 00    	call	___sdcc_enter_ix
2759  0BA1  F5          	push	af
2760  0BA2  F5          	push	af
2761  0BA3  3B          	dec	sp
2762  0BA4  DD 7E 05    	ld	a,(ix+5)
2763  0BA7  D6 1F       	sub	a,0x1f
2764  0BA9  D2 68 0C    	jp	NC, l_spr_add_anim_00111
2765  0BAC  DD 7E 04    	ld	a,(ix+4)
2766  0BAF  D6 B8       	sub	a,0xb8
2767  0BB1  D2 68 0C    	jp	NC, l_spr_add_anim_00111
2768  0BB4  0E 00       	ld	c,0x00
2769  0BB6  DD 71 FF    	ld	(ix-1),c
2770  0BB9              l_spr_add_anim_00109:
2771  0BB9  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2772  0BBB  81          	add	a, c
2773  0BBC  5F          	ld	e, a
2774  0BBD  3E 00       	ld	a, +((_anim_lin) / 256)
2775  0BBF  CE 00       	adc	a,0x00
2776  0BC1  57          	ld	d, a
2777  0BC2  1A          	ld	a, (de)
2778  0BC3  3C          	inc	a
2779  0BC4  C2 5E 0C    	jp	NZ,l_spr_add_anim_00110
2780  0BC7  21 00 00    	ld	hl,_anim_count
2781  0BCA  34          	inc	(hl)
2782  0BCB  DD 7E 04    	ld	a,(ix+4)
2783  0BCE  12          	ld	(de), a
2784  0BCF  01 00 00    	ld	bc,_anim_col
2785  0BD2  DD 6E FF    	ld	l,(ix-1)
2786  0BD5  26 00       	ld	h,0x00
2787  0BD7  09          	add	hl,bc
2788  0BD8  DD 75 FD    	ld	(ix-3),l
2789  0BDB  DD 74 FE    	ld	(ix-2),h
2790  0BDE  DD 7E 05    	ld	a,(ix+5)
2791  0BE1  77          	ld	(hl), a
2792  0BE2  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2793  0BE4  DD 86 FF    	add	a,(ix-1)
2794  0BE7  DD 77 FB    	ld	(ix-5),a
2795  0BEA  3E 00       	ld	a, +((_anim_tile) / 256)
2796  0BEC  CE 00       	adc	a,0x00
2797  0BEE  DD 77 FC    	ld	(ix-4),a
2798  0BF1  E1          	pop	hl
2799  0BF2  E5          	push	hl
2800  0BF3  DD 7E 06    	ld	a,(ix+6)
2801  0BF6  77          	ld	(hl), a
2802  0BF7  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2803  0BF9  DD 86 FF    	add	a,(ix-1)
2804  0BFC  4F          	ld	c, a
2805  0BFD  3E 00       	ld	a, +((_anim_loop) / 256)
2806  0BFF  CE 00       	adc	a,0x00
2807  0C01  47          	ld	b, a
2808  0C02  DD 7E 08    	ld	a,(ix+8)
2809  0C05  02          	ld	(bc), a
2810  0C06  01 00 00    	ld	bc,_anim_int+0
2811  0C09  DD 6E FF    	ld	l,(ix-1)
2812  0C0C  26 00       	ld	h,0x00
2813  0C0E  09          	add	hl, bc
2814  0C0F  36 00       	ld	(hl),0x00
2815  0C11  3E 00       	ld	a, +((_anim_end) & 0xFF)
2816  0C13  DD 86 FF    	add	a,(ix-1)
2817  0C16  4F          	ld	c, a
2818  0C17  3E 00       	ld	a, +((_anim_end) / 256)
2819  0C19  CE 00       	adc	a,0x00
2820  0C1B  47          	ld	b, a
2821  0C1C  DD 7E 07    	ld	a,(ix+7)
2822  0C1F  02          	ld	(bc), a
2823  0C20  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
2824  0C22  DD 86 FF    	add	a,(ix-1)
2825  0C25  4F          	ld	c, a
2826  0C26  3E 00       	ld	a, +((_anim_respanwn) / 256)
2827  0C28  CE 00       	adc	a,0x00
2828  0C2A  47          	ld	b, a
2829  0C2B  DD 7E 09    	ld	a,(ix+9)
2830  0C2E  02          	ld	(bc), a
2831  0C2F  F3          	di
2832  0C30  DD 6E FD    	ld	l,(ix-3)
2833  0C33  DD 66 FE    	ld	h,(ix-2)
2834  0C36  46          	ld	b, (hl)
2835  0C37  E1          	pop	hl
2836  0C38  1A          	ld	a,(de)
2837  0C39  56          	ld	d,(hl)
2838  0C3A  E5          	push	hl
2839  0C3B  C5          	push	bc
2840  0C3C  33          	inc	sp
2841  0C3D  5A          	ld	e,d
2842  0C3E  57          	ld	d,a
2843  0C3F  D5          	push	de
2844  0C40  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2845  0C43  FB          	ei
2846  0C44  DD 66 05    	ld	h,(ix+5)
2847  0C47  DD 6E 04    	ld	l,(ix+4)
2848  0C4A  E5          	push	hl
2849  0C4B  CD 00 00    	call	_spr_calc_index
2850  0C4E  F1          	pop	af
2851  0C4F  22 00 00    	ld	(_index0),hl
2852  0C52  01 00 00    	ld	bc,_scr_map
2853  0C55  09          	add	hl,bc
2854  0C56  7E          	ld	a,(hl)
2855  0C57  B7          	or	a,a
2856  0C58  20 0E       	jr	NZ,l_spr_add_anim_00111
2857  0C5A  36 FF       	ld	(hl),0xff
2858  0C5C  18 0A       	jr	l_spr_add_anim_00111
2859  0C5E              l_spr_add_anim_00110:
2860  0C5E  0C          	inc	c
2861  0C5F  DD 71 FF    	ld	(ix-1),c
2862  0C62  79          	ld	a, c
2863  0C63  D6 08       	sub	a,0x08
2864  0C65  DA B9 0B    	jp	C, l_spr_add_anim_00109
2865  0C68              l_spr_add_anim_00111:
2866  0C68  DD F9       	ld	sp, ix
2867  0C6A  DD E1       	pop	ix
2868  0C6C  C9          	ret
2869  0C6D              	SECTION code_compiler
2870  0C6D              ;	---------------------------------
2871  0C6D              ; Function spr_play_anim
2872  0C6D              ; ---------------------------------
2873  0C6D              _spr_play_anim:
2874  0C6D  CD 00 00    	call	___sdcc_enter_ix
2875  0C70  F5          	push	af
2876  0C71  F5          	push	af
2877  0C72  F5          	push	af
2878  0C73  F5          	push	af
2879  0C74  DD 36 F8 00 	ld	(ix-8),0x00
2880  0C78              l_spr_play_anim_00114:
2881  0C78  01 00 00    	ld	bc,_anim_lin
2882  0C7B  DD 6E F8    	ld	l,(ix-8)
2883  0C7E  26 00       	ld	h,0x00
2884  0C80  09          	add	hl,bc
2885  0C81  DD 75 FB    	ld	(ix-5),l
2886  0C84  DD 74 FC    	ld	(ix-4),h
2887  0C87  4E          	ld	c, (hl)
2888  0C88  0C          	inc	c
2889  0C89  CA 8C 0D    	jp	Z,l_spr_play_anim_00115
2890  0C8C  21 01 00    	ld	hl,0x0001
2891  0C8F  CD 00 00    	call	_z80_delay_ms_fastcall
2892  0C92  01 00 00    	ld	bc,_anim_int
2893  0C95  DD 6E F8    	ld	l,(ix-8)
2894  0C98  26 00       	ld	h,0x00
2895  0C9A  09          	add	hl,bc
2896  0C9B  DD 75 F9    	ld	(ix-7),l
2897  0C9E  DD 74 FA    	ld	(ix-6),h
2898  0CA1  4E          	ld	c, (hl)
2899  0CA2  3E 00       	ld	a, +((_anim_end) & 0xFF)
2900  0CA4  DD 86 F8    	add	a,(ix-8)
2901  0CA7  6F          	ld	l, a
2902  0CA8  3E 00       	ld	a, +((_anim_end) / 256)
2903  0CAA  CE 00       	adc	a,0x00
2904  0CAC  67          	ld	h, a
2905  0CAD  46          	ld	b, (hl)
2906  0CAE  79          	ld	a, c
2907  0CAF  90          	sub	a, b
2908  0CB0  30 40       	jr	NC,l_spr_play_anim_00109
2909  0CB2  F3          	di
2910  0CB3  3E 00       	ld	a, +((_anim_col) & 0xFF)
2911  0CB5  DD 86 F8    	add	a,(ix-8)
2912  0CB8  6F          	ld	l, a
2913  0CB9  3E 00       	ld	a, +((_anim_col) / 256)
2914  0CBB  CE 00       	adc	a,0x00
2915  0CBD  67          	ld	h, a
2916  0CBE  56          	ld	d, (hl)
2917  0CBF  DD 6E FB    	ld	l,(ix-5)
2918  0CC2  DD 66 FC    	ld	h,(ix-4)
2919  0CC5  4E          	ld	c, (hl)
2920  0CC6  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2921  0CC8  DD 86 F8    	add	a,(ix-8)
2922  0CCB  6F          	ld	l, a
2923  0CCC  3E 00       	ld	a, +((_anim_tile) / 256)
2924  0CCE  CE 00       	adc	a,0x00
2925  0CD0  67          	ld	h, a
2926  0CD1  5E          	ld	e, (hl)
2927  0CD2  DD 6E F9    	ld	l,(ix-7)
2928  0CD5  DD 66 FA    	ld	h,(ix-6)
2929  0CD8  6E          	ld	l, (hl)
2930  0CD9  7B          	ld	a, e
2931  0CDA  85          	add	a, l
2932  0CDB  47          	ld	b, a
2933  0CDC  D5          	push	de
2934  0CDD  33          	inc	sp
2935  0CDE  79          	ld	a, c
2936  0CDF  48          	ld	c,b
2937  0CE0  47          	ld	b,a
2938  0CE1  C5          	push	bc
2939  0CE2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2940  0CE5  FB          	ei
2941  0CE6  DD 6E F9    	ld	l,(ix-7)
2942  0CE9  DD 66 FA    	ld	h,(ix-6)
2943  0CEC  4E          	ld	c,(hl)
2944  0CED  0C          	inc	c
2945  0CEE  71          	ld	(hl), c
2946  0CEF  C3 8C 0D    	jp	l_spr_play_anim_00115
2947  0CF2              l_spr_play_anim_00109:
2948  0CF2  01 00 00    	ld	bc,_anim_loop
2949  0CF5  DD 6E F8    	ld	l,(ix-8)
2950  0CF8  26 00       	ld	h,0x00
2951  0CFA  09          	add	hl,bc
2952  0CFB  DD 75 FE    	ld	(ix-2),l
2953  0CFE  DD 74 FF    	ld	(ix-1),h
2954  0D01  7E          	ld	a, (hl)
2955  0D02  DD 77 FD    	ld	(ix-3),a
2956  0D05  B7          	or	a, a
2957  0D06  20 71       	jr	NZ,l_spr_play_anim_00106
2958  0D08  21 00 00    	ld	hl,_anim_count
2959  0D0B  35          	dec	(hl)
2960  0D0C  3E 00       	ld	a, +((_anim_col) & 0xFF)
2961  0D0E  DD 86 F8    	add	a,(ix-8)
2962  0D11  6F          	ld	l, a
2963  0D12  3E 00       	ld	a, +((_anim_col) / 256)
2964  0D14  CE 00       	adc	a,0x00
2965  0D16  67          	ld	h, a
2966  0D17  7E          	ld	a, (hl)
2967  0D18  32 00 00    	ld	(_s_col0),a
2968  0D1B  DD 6E FB    	ld	l,(ix-5)
2969  0D1E  DD 66 FC    	ld	h,(ix-4)
2970  0D21  7E          	ld	a, (hl)
2971  0D22  32 00 00    	ld	(_s_lin0),a
2972  0D25  2A FF FF    	ld	hl,(_s_col0 - 1)
2973  0D28  6F          	ld	l,a
2974  0D29  E5          	push	hl
2975  0D2A  CD 00 00    	call	_spr_calc_index
2976  0D2D  F1          	pop	af
2977  0D2E  2A FF FF    	ld	hl,(_s_col0 - 1)
2978  0D31  3A 00 00    	ld	a,(_s_lin0)
2979  0D34  6F          	ld	l,a
2980  0D35  E5          	push	hl
2981  0D36  CD 00 00    	call	_spr_calc_index
2982  0D39  F1          	pop	af
2983  0D3A  01 00 00    	ld	bc,_scr_map
2984  0D3D  09          	add	hl,bc
2985  0D3E  4E          	ld	c, (hl)
2986  0D3F  0C          	inc	c
2987  0D40  20 12       	jr	NZ,l_spr_play_anim_00102
2988  0D42  2A FF FF    	ld	hl,(_s_col0 - 1)
2989  0D45  3A 00 00    	ld	a,(_s_lin0)
2990  0D48  6F          	ld	l,a
2991  0D49  E5          	push	hl
2992  0D4A  CD 00 00    	call	_spr_calc_index
2993  0D4D  F1          	pop	af
2994  0D4E  01 00 00    	ld	bc,_scr_map
2995  0D51  09          	add	hl,bc
2996  0D52  36 00       	ld	(hl),0x00
2997  0D54              l_spr_play_anim_00102:
2998  0D54  CD D2 09    	call	_spr_back_repaint
2999  0D57  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3000  0D59  DD 86 F8    	add	a,(ix-8)
3001  0D5C  4F          	ld	c, a
3002  0D5D  3E 00       	ld	a, +((_anim_respanwn) / 256)
3003  0D5F  CE 00       	adc	a,0x00
3004  0D61  47          	ld	b, a
3005  0D62  0A          	ld	a, (bc)
3006  0D63  B7          	or	a, a
3007  0D64  28 09       	jr	Z,l_spr_play_anim_00104
3008  0D66  DD 7E F8    	ld	a,(ix-8)
3009  0D69  F5          	push	af
3010  0D6A  33          	inc	sp
3011  0D6B  CD 00 00    	call	_enemy_respawn
3012  0D6E  33          	inc	sp
3013  0D6F              l_spr_play_anim_00104:
3014  0D6F  DD 6E FB    	ld	l,(ix-5)
3015  0D72  DD 66 FC    	ld	h,(ix-4)
3016  0D75  36 FF       	ld	(hl),0xff
3017  0D77  18 13       	jr	l_spr_play_anim_00115
3018  0D79              l_spr_play_anim_00106:
3019  0D79  DD 4E FD    	ld	c,(ix-3)
3020  0D7C  0D          	dec	c
3021  0D7D  DD 6E FE    	ld	l,(ix-2)
3022  0D80  DD 66 FF    	ld	h,(ix-1)
3023  0D83  71          	ld	(hl), c
3024  0D84  DD 6E F9    	ld	l,(ix-7)
3025  0D87  DD 66 FA    	ld	h,(ix-6)
3026  0D8A  36 00       	ld	(hl),0x00
3027  0D8C              l_spr_play_anim_00115:
3028  0D8C  DD 34 F8    	inc	(ix-8)
3029  0D8F  DD 7E F8    	ld	a,(ix-8)
3030  0D92  D6 08       	sub	a,0x08
3031  0D94  DA 78 0C    	jp	C, l_spr_play_anim_00114
3032  0D97  DD F9       	ld	sp, ix
3033  0D99  DD E1       	pop	ix
3034  0D9B  C9          	ret
3035  0D9C              	SECTION code_compiler
3036  0D9C              ;	---------------------------------
3037  0D9C              ; Function spr_play_bullets
3038  0D9C              ; ---------------------------------
3039  0D9C              _spr_play_bullets:
3040  0D9C  CD 00 00    	call	___sdcc_enter_ix
3041  0D9F  21 F0 FF    	ld	hl, -16
3042  0DA2  39          	add	hl, sp
3043  0DA3  F9          	ld	sp, hl
3044  0DA4  3E 00       	ld	a,0x00
3045  0DA6  DD 77 FD    	ld	(ix-3),a
3046  0DA9  DD 77 F3    	ld	(ix-13),a
3047  0DAC              l_spr_play_bullets_00188:
3048  0DAC  01 00 00    	ld	bc,_bullet_col
3049  0DAF  DD 6E F3    	ld	l,(ix-13)
3050  0DB2  26 00       	ld	h,0x00
3051  0DB4  09          	add	hl,bc
3052  0DB5  DD 75 FB    	ld	(ix-5),l
3053  0DB8  DD 74 FC    	ld	(ix-4),h
3054  0DBB  7E          	ld	a, (hl)
3055  0DBC  DD 77 FA    	ld	(ix-6),a
3056  0DBF  3C          	inc	a
3057  0DC0  CA 5A 12    	jp	Z,l_spr_play_bullets_00184
3058  0DC3  01 00 00    	ld	bc,_bullet_lin
3059  0DC6  DD 6E F3    	ld	l,(ix-13)
3060  0DC9  26 00       	ld	h,0x00
3061  0DCB  09          	add	hl,bc
3062  0DCC  DD 75 F6    	ld	(ix-10),l
3063  0DCF  DD 74 F7    	ld	(ix-9),h
3064  0DD2  7E          	ld	a, (hl)
3065  0DD3  32 00 00    	ld	(_s_lin0),a
3066  0DD6  DD 7E FA    	ld	a,(ix-6)
3067  0DD9  32 00 00    	ld	(_s_col0),a
3068  0DDC  DD 77 F1    	ld	(ix-15),a
3069  0DDF  CD D2 09    	call	_spr_back_repaint
3070  0DE2  01 00 00    	ld	bc,_bullet_class
3071  0DE5  DD 6E F3    	ld	l,(ix-13)
3072  0DE8  26 00       	ld	h,0x00
3073  0DEA  09          	add	hl,bc
3074  0DEB  DD 75 F4    	ld	(ix-12),l
3075  0DEE  DD 74 F5    	ld	(ix-11),h
3076  0DF1  7E          	ld	a, (hl)
3077  0DF2  D6 02       	sub	a,0x02
3078  0DF4  20 46       	jr	NZ,l_spr_play_bullets_00107
3079  0DF6  3A 00 00    	ld	a,(_s_lin0)
3080  0DF9  4F          	ld	c,a
3081  0DFA  06 00       	ld	b,0x00
3082  0DFC  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3083  0DFE  DD 86 F3    	add	a,(ix-13)
3084  0E01  6F          	ld	l, a
3085  0E02  3E 00       	ld	a, +((_bullet_lin0) / 256)
3086  0E04  CE 00       	adc	a,0x00
3087  0E06  67          	ld	h, a
3088  0E07  5E          	ld	e, (hl)
3089  0E08  16 00       	ld	d,0x00
3090  0E0A  79          	ld	a, c
3091  0E0B  93          	sub	a, e
3092  0E0C  4F          	ld	c, a
3093  0E0D  78          	ld	a, b
3094  0E0E  9A          	sbc	a, d
3095  0E0F  47          	ld	b, a
3096  0E10  3E 08       	ld	a,0x08
3097  0E12  B9          	cp	a, c
3098  0E13  3E 00       	ld	a,0x00
3099  0E15  98          	sbc	a, b
3100  0E16  E2 1B 0E    	jp	PO, l_spr_play_bullets_00378
3101  0E19  EE 80       	xor	a,0x80
3102  0E1B              l_spr_play_bullets_00378:
3103  0E1B  FA 34 0E    	jp	M, l_spr_play_bullets_00104
3104  0E1E  DD 6E F6    	ld	l,(ix-10)
3105  0E21  DD 66 F7    	ld	h,(ix-9)
3106  0E24  4E          	ld	c, (hl)
3107  0E25  0C          	inc	c
3108  0E26  0C          	inc	c
3109  0E27  DD 6E F6    	ld	l,(ix-10)
3110  0E2A  DD 66 F7    	ld	h,(ix-9)
3111  0E2D  71          	ld	(hl), c
3112  0E2E  21 00 00    	ld	hl,_s_lin0
3113  0E31  71          	ld	(hl), c
3114  0E32  18 08       	jr	l_spr_play_bullets_00107
3115  0E34              l_spr_play_bullets_00104:
3116  0E34  DD 6E F4    	ld	l,(ix-12)
3117  0E37  DD 66 F5    	ld	h,(ix-11)
3118  0E3A  36 03       	ld	(hl),0x03
3119  0E3C              l_spr_play_bullets_00107:
3120  0E3C  DD 6E F4    	ld	l,(ix-12)
3121  0E3F  DD 66 F5    	ld	h,(ix-11)
3122  0E42  7E          	ld	a, (hl)
3123  0E43  D6 03       	sub	a,0x03
3124  0E45  20 46       	jr	NZ,l_spr_play_bullets_00112
3125  0E47  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3126  0E49  DD 86 F3    	add	a,(ix-13)
3127  0E4C  6F          	ld	l, a
3128  0E4D  3E 00       	ld	a, +((_bullet_lin0) / 256)
3129  0E4F  CE 00       	adc	a,0x00
3130  0E51  67          	ld	h, a
3131  0E52  4E          	ld	c, (hl)
3132  0E53  06 00       	ld	b,0x00
3133  0E55  3A 00 00    	ld	a,(_s_lin0)
3134  0E58  5F          	ld	e,a
3135  0E59  16 00       	ld	d,0x00
3136  0E5B  79          	ld	a, c
3137  0E5C  93          	sub	a, e
3138  0E5D  4F          	ld	c, a
3139  0E5E  78          	ld	a, b
3140  0E5F  9A          	sbc	a, d
3141  0E60  47          	ld	b, a
3142  0E61  3E 08       	ld	a,0x08
3143  0E63  B9          	cp	a, c
3144  0E64  3E 00       	ld	a,0x00
3145  0E66  98          	sbc	a, b
3146  0E67  E2 6C 0E    	jp	PO, l_spr_play_bullets_00381
3147  0E6A  EE 80       	xor	a,0x80
3148  0E6C              l_spr_play_bullets_00381:
3149  0E6C  FA 85 0E    	jp	M, l_spr_play_bullets_00109
3150  0E6F  DD 6E F6    	ld	l,(ix-10)
3151  0E72  DD 66 F7    	ld	h,(ix-9)
3152  0E75  4E          	ld	c, (hl)
3153  0E76  0D          	dec	c
3154  0E77  0D          	dec	c
3155  0E78  DD 6E F6    	ld	l,(ix-10)
3156  0E7B  DD 66 F7    	ld	h,(ix-9)
3157  0E7E  71          	ld	(hl), c
3158  0E7F  21 00 00    	ld	hl,_s_lin0
3159  0E82  71          	ld	(hl), c
3160  0E83  18 08       	jr	l_spr_play_bullets_00112
3161  0E85              l_spr_play_bullets_00109:
3162  0E85  DD 6E F4    	ld	l,(ix-12)
3163  0E88  DD 66 F5    	ld	h,(ix-11)
3164  0E8B  36 02       	ld	(hl),0x02
3165  0E8D              l_spr_play_bullets_00112:
3166  0E8D  DD 6E F4    	ld	l,(ix-12)
3167  0E90  DD 66 F5    	ld	h,(ix-11)
3168  0E93  7E          	ld	a, (hl)
3169  0E94  D6 04       	sub	a,0x04
3170  0E96  C2 1C 0F    	jp	NZ,l_spr_play_bullets_00125
3171  0E99  DD 6E F6    	ld	l,(ix-10)
3172  0E9C  DD 66 F7    	ld	h,(ix-9)
3173  0E9F  7E          	ld	a, (hl)
3174  0EA0  32 00 00    	ld	(_s_lin0),a
3175  0EA3  DD 6E FB    	ld	l,(ix-5)
3176  0EA6  DD 66 FC    	ld	h,(ix-4)
3177  0EA9  7E          	ld	a, (hl)
3178  0EAA  C6 FF       	add	a,0xff
3179  0EAC  32 00 00    	ld	(_s_col0),a
3180  0EAF  D6 20       	sub	a,0x20
3181  0EB1  30 03       	jr	NC,l_spr_play_bullets_00114
3182  0EB3  CD D2 09    	call	_spr_back_repaint
3183  0EB6              l_spr_play_bullets_00114:
3184  0EB6  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3185  0EB8  DD 86 F3    	add	a,(ix-13)
3186  0EBB  4F          	ld	c, a
3187  0EBC  3E 00       	ld	a, +((_bullet_vel) / 256)
3188  0EBE  CE 00       	adc	a,0x00
3189  0EC0  47          	ld	b, a
3190  0EC1  0A          	ld	a, (bc)
3191  0EC2  5F          	ld	e, a
3192  0EC3  21 00 00    	ld	hl,_game_gravity
3193  0EC6  56          	ld	d, (hl)
3194  0EC7  7B          	ld	a, e
3195  0EC8  82          	add	a, d
3196  0EC9  5F          	ld	e,a
3197  0ECA  02          	ld	(bc), a
3198  0ECB  3E 78       	ld	a,0x78
3199  0ECD  93          	sub	a, e
3200  0ECE  E2 D3 0E    	jp	PO, l_spr_play_bullets_00384
3201  0ED1  EE 80       	xor	a,0x80
3202  0ED3              l_spr_play_bullets_00384:
3203  0ED3  F2 D9 0E    	jp	P, l_spr_play_bullets_00116
3204  0ED6  3E 78       	ld	a,0x78
3205  0ED8  02          	ld	(bc), a
3206  0ED9              l_spr_play_bullets_00116:
3207  0ED9  0A          	ld	a, (bc)
3208  0EDA  EE 80       	xor	a,0x80
3209  0EDC  D6 08       	sub	a,0x08
3210  0EDE  30 03       	jr	NC,l_spr_play_bullets_00118
3211  0EE0  3E 88       	ld	a,0x88
3212  0EE2  02          	ld	(bc), a
3213  0EE3              l_spr_play_bullets_00118:
3214  0EE3  0A          	ld	a, (bc)
3215  0EE4  CB 47       	bit	0,a
3216  0EE6  32 00 00    	ld	(_s_lin1),a
3217  0EE9  28 04       	jr	Z,l_spr_play_bullets_00120
3218  0EEB  21 00 00    	ld	hl,_s_lin1
3219  0EEE  35          	dec	(hl)
3220  0EEF              l_spr_play_bullets_00120:
3221  0EEF  DD 6E F6    	ld	l,(ix-10)
3222  0EF2  DD 66 F7    	ld	h,(ix-9)
3223  0EF5  7E          	ld	a, (hl)
3224  0EF6  21 00 00    	ld	hl,_s_lin1
3225  0EF9  86          	add	a, (hl)
3226  0EFA  21 00 00    	ld	hl,_s_lin0
3227  0EFD  77          	ld	(hl), a
3228  0EFE  3E 90       	ld	a,0x90
3229  0F00  96          	sub	a, (hl)
3230  0F01  30 0F       	jr	NC,l_spr_play_bullets_00122
3231  0F03  21 00 00    	ld	hl,_bullet_count
3232  0F06  35          	dec	(hl)
3233  0F07  DD 6E FB    	ld	l,(ix-5)
3234  0F0A  DD 66 FC    	ld	h,(ix-4)
3235  0F0D  36 FF       	ld	(hl),0xff
3236  0F0F  C3 5A 12    	jp	l_spr_play_bullets_00184
3237  0F12              l_spr_play_bullets_00122:
3238  0F12  DD 6E F6    	ld	l,(ix-10)
3239  0F15  DD 66 F7    	ld	h,(ix-9)
3240  0F18  3A 00 00    	ld	a,(_s_lin0)
3241  0F1B  77          	ld	(hl),a
3242  0F1C              l_spr_play_bullets_00125:
3243  0F1C  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3244  0F1E  DD 86 F3    	add	a,(ix-13)
3245  0F21  6F          	ld	l, a
3246  0F22  3E 00       	ld	a, +((_bullet_dir) / 256)
3247  0F24  CE 00       	adc	a,0x00
3248  0F26  67          	ld	h, a
3249  0F27  4E          	ld	c, (hl)
3250  0F28  0C          	inc	c
3251  0F29  20 3D       	jr	NZ,l_spr_play_bullets_00135
3252  0F2B  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3253  0F2D  DD 86 F3    	add	a,(ix-13)
3254  0F30  4F          	ld	c, a
3255  0F31  3E 00       	ld	a, +((_bullet_colint) / 256)
3256  0F33  CE 00       	adc	a,0x00
3257  0F35  47          	ld	b, a
3258  0F36  0A          	ld	a, (bc)
3259  0F37  3C          	inc	a
3260  0F38  5F          	ld	e,a
3261  0F39  02          	ld	(bc), a
3262  0F3A  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3263  0F3C  DD 86 F3    	add	a,(ix-13)
3264  0F3F  6F          	ld	l, a
3265  0F40  3E 00       	ld	a, +((_bullet_frames) / 256)
3266  0F42  CE 00       	adc	a,0x00
3267  0F44  67          	ld	h, a
3268  0F45  56          	ld	d, (hl)
3269  0F46  7B          	ld	a, e
3270  0F47  92          	sub	a, d
3271  0F48  38 63       	jr	C,l_spr_play_bullets_00136
3272  0F4A  DD 6E FB    	ld	l,(ix-5)
3273  0F4D  DD 66 FC    	ld	h,(ix-4)
3274  0F50  7E          	ld	a, (hl)
3275  0F51  3C          	inc	a
3276  0F52  DD 77 F1    	ld	(ix-15),a
3277  0F55  AF          	xor	a, a
3278  0F56  02          	ld	(bc), a
3279  0F57  DD 7E F1    	ld	a,(ix-15)
3280  0F5A  E6 01       	and	a,0x01
3281  0F5C  3D          	dec	a
3282  0F5D  20 4E       	jr	NZ,l_spr_play_bullets_00136
3283  0F5F  DD 7E F1    	ld	a,(ix-15)
3284  0F62  3C          	inc	a
3285  0F63  32 00 00    	ld	(_s_col0),a
3286  0F66  18 45       	jr	l_spr_play_bullets_00136
3287  0F68              l_spr_play_bullets_00135:
3288  0F68  01 00 00    	ld	bc,_bullet_colint
3289  0F6B  DD 6E F3    	ld	l,(ix-13)
3290  0F6E  26 00       	ld	h,0x00
3291  0F70  09          	add	hl,bc
3292  0F71  DD 75 FE    	ld	(ix-2),l
3293  0F74  DD 74 FF    	ld	(ix-1),h
3294  0F77  4E          	ld	c,(hl)
3295  0F78  0D          	dec	c
3296  0F79  71          	ld	(hl), c
3297  0F7A  0C          	inc	c
3298  0F7B  20 30       	jr	NZ,l_spr_play_bullets_00136
3299  0F7D  DD 6E FB    	ld	l,(ix-5)
3300  0F80  DD 66 FC    	ld	h,(ix-4)
3301  0F83  7E          	ld	a, (hl)
3302  0F84  C6 FF       	add	a,0xff
3303  0F86  DD 77 F1    	ld	(ix-15),a
3304  0F89  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3305  0F8B  DD 86 F3    	add	a,(ix-13)
3306  0F8E  6F          	ld	l, a
3307  0F8F  3E 00       	ld	a, +((_bullet_frames) / 256)
3308  0F91  CE 00       	adc	a,0x00
3309  0F93  67          	ld	h, a
3310  0F94  4E          	ld	c, (hl)
3311  0F95  0D          	dec	c
3312  0F96  DD 6E FE    	ld	l,(ix-2)
3313  0F99  DD 66 FF    	ld	h,(ix-1)
3314  0F9C  71          	ld	(hl), c
3315  0F9D  DD 7E F1    	ld	a,(ix-15)
3316  0FA0  E6 01       	and	a,0x01
3317  0FA2  3D          	dec	a
3318  0FA3  20 08       	jr	NZ,l_spr_play_bullets_00136
3319  0FA5  DD 7E F1    	ld	a,(ix-15)
3320  0FA8  C6 FF       	add	a,0xff
3321  0FAA  32 00 00    	ld	(_s_col0),a
3322  0FAD              l_spr_play_bullets_00136:
3323  0FAD  21 00 00    	ld	hl,_tmp1
3324  0FB0  36 00       	ld	(hl),0x00
3325  0FB2  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3326  0FB4  DD 86 F3    	add	a,(ix-13)
3327  0FB7  4F          	ld	c, a
3328  0FB8  3E 00       	ld	a, +((_bullet_max) / 256)
3329  0FBA  CE 00       	adc	a,0x00
3330  0FBC  47          	ld	b, a
3331  0FBD  0A          	ld	a, (bc)
3332  0FBE  B7          	or	a, a
3333  0FBF  28 27       	jr	Z,l_spr_play_bullets_00140
3334  0FC1  DD 5E F1    	ld	e,(ix-15)
3335  0FC4  16 00       	ld	d,0x00
3336  0FC6  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3337  0FC8  DD 86 F3    	add	a,(ix-13)
3338  0FCB  6F          	ld	l, a
3339  0FCC  3E 00       	ld	a, +((_bullet_col0) / 256)
3340  0FCE  CE 00       	adc	a,0x00
3341  0FD0  67          	ld	h, a
3342  0FD1  6E          	ld	l, (hl)
3343  0FD2  AF          	xor	a,a
3344  0FD3  67          	ld	h,a
3345  0FD4  EB          	ex	de,hl
3346  0FD5  ED 52       	sbc	hl,de
3347  0FD7  CD 00 00    	call	_abs_fastcall
3348  0FDA  5D          	ld	e, l
3349  0FDB  21 00 00    	ld	hl,_tmp0
3350  0FDE  73          	ld	(hl), e
3351  0FDF  0A          	ld	a, (bc)
3352  0FE0  96          	sub	a, (hl)
3353  0FE1  30 05       	jr	NC,l_spr_play_bullets_00140
3354  0FE3  21 00 00    	ld	hl,_tmp1
3355  0FE6  36 01       	ld	(hl),0x01
3356  0FE8              l_spr_play_bullets_00140:
3357  0FE8  DD 7E F1    	ld	a,(ix-15)
3358  0FEB  D6 1E       	sub	a,0x1e
3359  0FED  38 05       	jr	C,l_spr_play_bullets_00142
3360  0FEF  21 00 00    	ld	hl,_tmp1
3361  0FF2  36 01       	ld	(hl),0x01
3362  0FF4              l_spr_play_bullets_00142:
3363  0FF4  3A 00 00    	ld	a,(_tmp1)
3364  0FF7  B7          	or	a, a
3365  0FF8  28 0F       	jr	Z,l_spr_play_bullets_00144
3366  0FFA  21 00 00    	ld	hl,_bullet_count
3367  0FFD  35          	dec	(hl)
3368  0FFE  DD 6E FB    	ld	l,(ix-5)
3369  1001  DD 66 FC    	ld	h,(ix-4)
3370  1004  36 FF       	ld	(hl),0xff
3371  1006  C3 5A 12    	jp	l_spr_play_bullets_00184
3372  1009              l_spr_play_bullets_00144:
3373  1009  DD 7E FB    	ld	a,(ix-5)
3374  100C  DD 77 FE    	ld	(ix-2),a
3375  100F  DD 7E FC    	ld	a,(ix-4)
3376  1012  DD 77 FF    	ld	(ix-1),a
3377  1015  DD 6E FB    	ld	l,(ix-5)
3378  1018  DD 66 FC    	ld	h,(ix-4)
3379  101B  DD 7E F1    	ld	a,(ix-15)
3380  101E  96          	sub	a,(hl)
3381  101F  CA 1E 12    	jp	Z,l_spr_play_bullets_00179
3382  1022  3A 00 00    	ld	a,(_s_lin0)
3383  1025  C6 08       	add	a,0x08
3384  1027  4F          	ld	c, a
3385  1028  3A 00 00    	ld	a, (_s_col0)
3386  102B  47          	ld	b,a
3387  102C  C5          	push	bc
3388  102D  CD 00 00    	call	_spr_calc_index
3389  1030  F1          	pop	af
3390  1031  22 00 00    	ld	(_index0),hl
3391  1034  01 00 00    	ld	bc,_scr_map
3392  1037  09          	add	hl,bc
3393  1038  5E          	ld	e,(hl)
3394  1039  DD 7E F3    	ld	a,(ix-13)
3395  103C  D6 07       	sub	a,0x07
3396  103E  4D          	ld	c,l
3397  103F  44          	ld	b,h
3398  1040  20 04       	jr	NZ,l_spr_play_bullets_00395
3399  1042  3E 01       	ld	a,0x01
3400  1044  18 01       	jr	l_spr_play_bullets_00396
3401  1046              l_spr_play_bullets_00395:
3402  1046  AF          	xor	a,a
3403  1047              l_spr_play_bullets_00396:
3404  1047  DD 77 FA    	ld	(ix-6),a
3405  104A  7B          	ld	a, e
3406  104B  D6 4D       	sub	a,0x4d
3407  104D  20 40       	jr	NZ,l_spr_play_bullets_00146
3408  104F  DD 7E FA    	ld	a,(ix-6)
3409  1052  B7          	or	a, a
3410  1053  28 3A       	jr	Z,l_spr_play_bullets_00146
3411  1055  AF          	xor	a, a
3412  1056  02          	ld	(bc), a
3413  1057  2A 00 00    	ld	hl,(_index0)
3414  105A  E5          	push	hl
3415  105B  CD 00 00    	call	_game_obj_set
3416  105E  F1          	pop	af
3417  105F  2A 00 00    	ld	hl,(_index0)
3418  1062  4D          	ld	c,l
3419  1063  5C          	ld	e,h
3420  1064  06 04       	ld	b,0x04
3421  1066  79          	ld	a,c
3422  1067              l_spr_play_bullets_00399:
3423  1067  CB 3B       	srl	e
3424  1069  1F          	rra
3425  106A  10 FB       	djnz	l_spr_play_bullets_00399
3426  106C  07          	rlca
3427  106D  07          	rlca
3428  106E  07          	rlca
3429  106F  07          	rlca
3430  1070  E6 F0       	and	a,0xf0
3431  1072  DD 6E F6    	ld	l,(ix-10)
3432  1075  DD 66 F7    	ld	h,(ix-9)
3433  1078  77          	ld	(hl), a
3434  1079  3A 00 00    	ld	a,(_index0)
3435  107C  E6 0F       	and	a,0x0f
3436  107E  87          	add	a, a
3437  107F  DD 6E FB    	ld	l,(ix-5)
3438  1082  DD 66 FC    	ld	h,(ix-4)
3439  1085  77          	ld	(hl), a
3440  1086  DD 6E F3    	ld	l,(ix-13)
3441  1089  CD 6D 12    	call	_spr_explode_bullet
3442  108C  C3 5A 12    	jp	l_spr_play_bullets_00184
3443  108F              l_spr_play_bullets_00146:
3444  108F  7B          	ld	a, e
3445  1090  D6 3C       	sub	a,0x3c
3446  1092  38 0C       	jr	C,l_spr_play_bullets_00149
3447  1094  1C          	inc	e
3448  1095  28 09       	jr	Z,l_spr_play_bullets_00149
3449  1097  DD 6E F3    	ld	l,(ix-13)
3450  109A  CD 6D 12    	call	_spr_explode_bullet
3451  109D  C3 5A 12    	jp	l_spr_play_bullets_00184
3452  10A0              l_spr_play_bullets_00149:
3453  10A0  DD 6E FB    	ld	l,(ix-5)
3454  10A3  DD 66 FC    	ld	h,(ix-4)
3455  10A6  DD 7E F1    	ld	a,(ix-15)
3456  10A9  77          	ld	(hl), a
3457  10AA  DD 6E F4    	ld	l,(ix-12)
3458  10AD  DD 66 F5    	ld	h,(ix-11)
3459  10B0  7E          	ld	a, (hl)
3460  10B1  D6 04       	sub	a,0x04
3461  10B3  20 1B       	jr	NZ,l_spr_play_bullets_00152
3462  10B5  21 00 00    	ld	hl,_s_lin0
3463  10B8  7E          	ld	a, (hl)
3464  10B9  C6 F0       	add	a,0xf0
3465  10BB  DD 77 F2    	ld	(ix-14),a
3466  10BE  7E          	ld	a, (hl)
3467  10BF  C6 10       	add	a,0x10
3468  10C1  DD 77 F4    	ld	(ix-12),a
3469  10C4  DD 35 F1    	dec	(ix-15)
3470  10C7  DD 7E F1    	ld	a,(ix-15)
3471  10CA  3C          	inc	a
3472  10CB  DD 77 F0    	ld	(ix-16),a
3473  10CE  18 16       	jr	l_spr_play_bullets_00153
3474  10D0              l_spr_play_bullets_00152:
3475  10D0  21 00 00    	ld	hl,_s_lin0
3476  10D3  7E          	ld	a, (hl)
3477  10D4  C6 F8       	add	a,0xf8
3478  10D6  DD 77 F2    	ld	(ix-14),a
3479  10D9  7E          	ld	a, (hl)
3480  10DA  C6 08       	add	a,0x08
3481  10DC  DD 77 F4    	ld	(ix-12),a
3482  10DF  DD 7E F1    	ld	a,(ix-15)
3483  10E2  3C          	inc	a
3484  10E3  DD 77 F0    	ld	(ix-16),a
3485  10E6              l_spr_play_bullets_00153:
3486  10E6  DD 7E FA    	ld	a,(ix-6)
3487  10E9  B7          	or	a, a
3488  10EA  CA E4 11    	jp	Z, l_spr_play_bullets_00176
3489  10ED  21 00 00    	ld	hl,_tmp0
3490  10F0  36 00       	ld	(hl),0x00
3491  10F2              l_spr_play_bullets_00186:
3492  10F2  2A 00 00    	ld	hl,(_tmp0)
3493  10F5  26 00       	ld	h,0x00
3494  10F7  01 00 00    	ld	bc,_class
3495  10FA  09          	add	hl,bc
3496  10FB  7E          	ld	a,(hl)
3497  10FC  B7          	or	a,a
3498  10FD  CA A9 11    	jp	Z,l_spr_play_bullets_00187
3499  1100  2A 00 00    	ld	hl,(_tmp0)
3500  1103  26 00       	ld	h,0x00
3501  1105  01 00 00    	ld	bc,_lin
3502  1108  09          	add	hl,bc
3503  1109  7E          	ld	a,(hl)
3504  110A  47          	ld	b,a
3505  110B  21 00 00    	ld	hl,_tmp0
3506  110E  DD 96 F2    	sub	a,(ix-14)
3507  1111  DA A9 11    	jp	C, l_spr_play_bullets_00187
3508  1114  DD 7E F4    	ld	a,(ix-12)
3509  1117  90          	sub	a, b
3510  1118  DA A9 11    	jp	C, l_spr_play_bullets_00187
3511  111B  5E          	ld	e,(hl)
3512  111C  16 00       	ld	d,0x00
3513  111E  21 00 00    	ld	hl,_col
3514  1121  19          	add	hl,de
3515  1122  7E          	ld	a,(hl)
3516  1123  4F          	ld	c,a
3517  1124  DD 96 F1    	sub	a,(ix-15)
3518  1127  DA A9 11    	jp	C, l_spr_play_bullets_00187
3519  112A  DD 7E F0    	ld	a,(ix-16)
3520  112D  91          	sub	a, c
3521  112E  38 79       	jr	C,l_spr_play_bullets_00187
3522  1130  21 00 00    	ld	hl,_s_lin0
3523  1133  70          	ld	(hl), b
3524  1134  21 00 00    	ld	hl,_s_col0
3525  1137  71          	ld	(hl), c
3526  1138  CD 00 00    	call	_rand
3527  113B  01 06 00    	ld	bc,0x0006
3528  113E  C5          	push	bc
3529  113F  E5          	push	hl
3530  1140  CD 00 00    	call	__modsint_callee
3531  1143  CD 00 00    	call	_player_score_add
3532  1146  2A 00 00    	ld	hl,(_tmp0)
3533  1149  26 00       	ld	h,0x00
3534  114B  29          	add	hl,hl
3535  114C  01 00 00    	ld	bc,_game_respawn_time
3536  114F  09          	add	hl,bc
3537  1150  ED 5B 00 00 	ld	de,(_curr_time)
3538  1154  73          	ld	(hl),e
3539  1155  23          	inc	hl
3540  1156  72          	ld	(hl),d
3541  1157  2A 00 00    	ld	hl,(_tmp0)
3542  115A  CD 33 06    	call	_spr_destroy
3543  115D  2A 00 00    	ld	hl,(_tmp0)
3544  1160  26 00       	ld	h,0x00
3545  1162  01 00 00    	ld	bc,_bullet_col
3546  1165  09          	add	hl,bc
3547  1166  7E          	ld	a,(hl)
3548  1167  21 00 00    	ld	hl,_tmp0
3549  116A  DD 77 F6    	ld	(ix-10),a
3550  116D  3C          	inc	a
3551  116E  28 27       	jr	Z,l_spr_play_bullets_00155
3552  1170  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3553  1172  86          	add	a, (hl)
3554  1173  DD 77 F8    	ld	(ix-8),a
3555  1176  6F          	ld	l,a
3556  1177  3E 00       	ld	a,+((_bullet_lin) / 256)
3557  1179  CE 00       	adc	a,0x00
3558  117B  DD 77 F9    	ld	(ix-7),a
3559  117E  67          	ld	h,a
3560  117F  7E          	ld	a, (hl)
3561  1180  32 00 00    	ld	(_s_lin0),a
3562  1183  DD 7E F6    	ld	a,(ix-10)
3563  1186  32 00 00    	ld	(_s_col0),a
3564  1189  CD D2 09    	call	_spr_back_repaint
3565  118C  2A 00 00    	ld	hl,(_tmp0)
3566  118F  26 00       	ld	h,0x00
3567  1191  01 00 00    	ld	bc,_bullet_col
3568  1194  09          	add	hl,bc
3569  1195  36 FF       	ld	(hl),0xff
3570  1197              l_spr_play_bullets_00155:
3571  1197  DD 6E FE    	ld	l,(ix-2)
3572  119A  DD 66 FF    	ld	h,(ix-1)
3573  119D  3A 00 00    	ld	a,(_s_col0)
3574  11A0  77          	ld	(hl),a
3575  11A1  DD 6E F3    	ld	l,(ix-13)
3576  11A4  CD 6D 12    	call	_spr_explode_bullet
3577  11A7  18 0B       	jr	l_spr_play_bullets_00162
3578  11A9              l_spr_play_bullets_00187:
3579  11A9  21 00 00    	ld	hl,_tmp0
3580  11AC  7E          	ld	a,(hl)
3581  11AD  3C          	inc	a
3582  11AE  77          	ld	(hl),a
3583  11AF  D6 07       	sub	a,0x07
3584  11B1  DA F2 10    	jp	C, l_spr_play_bullets_00186
3585  11B4              l_spr_play_bullets_00162:
3586  11B4  3A 00 00    	ld	a,(_game_boss)
3587  11B7  B7          	or	a, a
3588  11B8  28 64       	jr	Z,l_spr_play_bullets_00179
3589  11BA  DD 7E F4    	ld	a,(ix-12)
3590  11BD  C6 10       	add	a,0x10
3591  11BF  4F          	ld	c, a
3592  11C0  21 00 00    	ld	hl,_boss_lin
3593  11C3  7E          	ld	a, (hl)
3594  11C4  DD 96 F2    	sub	a,(ix-14)
3595  11C7  38 55       	jr	C,l_spr_play_bullets_00179
3596  11C9  79          	ld	a, c
3597  11CA  96          	sub	a, (hl)
3598  11CB  38 51       	jr	C,l_spr_play_bullets_00179
3599  11CD  21 00 00    	ld	hl,_boss_col
3600  11D0  7E          	ld	a, (hl)
3601  11D1  DD 96 F1    	sub	a,(ix-15)
3602  11D4  38 48       	jr	C,l_spr_play_bullets_00179
3603  11D6  DD 7E F0    	ld	a,(ix-16)
3604  11D9  96          	sub	a, (hl)
3605  11DA  38 42       	jr	C,l_spr_play_bullets_00179
3606  11DC  DD 6E F3    	ld	l,(ix-13)
3607  11DF  CD 6D 12    	call	_spr_explode_bullet
3608  11E2  18 3A       	jr	l_spr_play_bullets_00179
3609  11E4              l_spr_play_bullets_00176:
3610  11E4  3A 07 00    	ld	a,(_lin + 7)
3611  11E7  4F          	ld	c,a
3612  11E8  DD 96 F2    	sub	a,(ix-14)
3613  11EB  38 31       	jr	C,l_spr_play_bullets_00179
3614  11ED  DD 7E F4    	ld	a,(ix-12)
3615  11F0  91          	sub	a, c
3616  11F1  38 2B       	jr	C,l_spr_play_bullets_00179
3617  11F3  3A 07 00    	ld	a,(_col + 7)
3618  11F6  4F          	ld	c,a
3619  11F7  DD 96 F1    	sub	a,(ix-15)
3620  11FA  38 22       	jr	C,l_spr_play_bullets_00179
3621  11FC  DD 7E F0    	ld	a,(ix-16)
3622  11FF  91          	sub	a, c
3623  1200  38 1C       	jr	C,l_spr_play_bullets_00179
3624  1202  2E 03       	ld	l,0x03
3625  1204  CD 00 00    	call	_zx_border_fastcall
3626  1207  2E 0A       	ld	l,0x0a
3627  1209  CD 00 00    	call	_player_hit
3628  120C  DD 6E FB    	ld	l,(ix-5)
3629  120F  DD 66 FC    	ld	h,(ix-4)
3630  1212  3A 00 00    	ld	a,(_s_col0)
3631  1215  77          	ld	(hl),a
3632  1216  DD 6E FD    	ld	l,(ix-3)
3633  1219  CD 6D 12    	call	_spr_explode_bullet
3634  121C  18 4A       	jr	l_spr_play_bullets_00189
3635  121E              l_spr_play_bullets_00179:
3636  121E  DD 6E FE    	ld	l,(ix-2)
3637  1221  DD 66 FF    	ld	h,(ix-1)
3638  1224  4E          	ld	c, (hl)
3639  1225  0C          	inc	c
3640  1226  28 32       	jr	Z,l_spr_play_bullets_00184
3641  1228  DD 7E F1    	ld	a,(ix-15)
3642  122B  D6 20       	sub	a,0x20
3643  122D  30 2B       	jr	NC,l_spr_play_bullets_00184
3644  122F  F3          	di
3645  1230  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3646  1232  DD 86 F3    	add	a,(ix-13)
3647  1235  6F          	ld	l, a
3648  1236  3E 00       	ld	a, +((_bullet_tile) / 256)
3649  1238  CE 00       	adc	a,0x00
3650  123A  67          	ld	h, a
3651  123B  4E          	ld	c, (hl)
3652  123C  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3653  123E  DD 86 F3    	add	a,(ix-13)
3654  1241  6F          	ld	l, a
3655  1242  3E 00       	ld	a, +((_bullet_colint) / 256)
3656  1244  CE 00       	adc	a,0x00
3657  1246  67          	ld	h, a
3658  1247  46          	ld	b, (hl)
3659  1248  79          	ld	a, c
3660  1249  80          	add	a, b
3661  124A  47          	ld	b, a
3662  124B  DD 7E F1    	ld	a,(ix-15)
3663  124E  F5          	push	af
3664  124F  33          	inc	sp
3665  1250  3A 00 00    	ld	a,(_s_lin0)
3666  1253  48          	ld	c,b
3667  1254  47          	ld	b,a
3668  1255  C5          	push	bc
3669  1256  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3670  1259  FB          	ei
3671  125A              l_spr_play_bullets_00184:
3672  125A  DD 34 F3    	inc	(ix-13)
3673  125D  DD 7E F3    	ld	a,(ix-13)
3674  1260  DD 77 FD    	ld	(ix-3),a
3675  1263  D6 08       	sub	a,0x08
3676  1265  DA AC 0D    	jp	C, l_spr_play_bullets_00188
3677  1268              l_spr_play_bullets_00189:
3678  1268  DD F9       	ld	sp, ix
3679  126A  DD E1       	pop	ix
3680  126C  C9          	ret
3681  126D              	SECTION code_compiler
3682  126D              ;	---------------------------------
3683  126D              ; Function spr_explode_bullet
3684  126D              ; ---------------------------------
3685  126D              _spr_explode_bullet:
3686  126D  5D          	ld	e, l
3687  126E  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3688  1270  83          	add	a, e
3689  1271  4F          	ld	c, a
3690  1272  3E 00       	ld	a, +((_bullet_col) / 256)
3691  1274  CE 00       	adc	a,0x00
3692  1276  47          	ld	b, a
3693  1277  0A          	ld	a, (bc)
3694  1278  57          	ld	d, a
3695  1279  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3696  127B  83          	add	a, e
3697  127C  6F          	ld	l, a
3698  127D  3E 00       	ld	a, +((_bullet_lin) / 256)
3699  127F  CE 00       	adc	a,0x00
3700  1281  67          	ld	h, a
3701  1282  5E          	ld	e, (hl)
3702  1283  C5          	push	bc
3703  1284  21 00 00    	ld	hl,0x0000
3704  1287  E5          	push	hl
3705  1288  21 87 03    	ld	hl,0x0387
3706  128B  E5          	push	hl
3707  128C  D5          	push	de
3708  128D  CD 9E 0B    	call	_spr_add_anim
3709  1290  F1          	pop	af
3710  1291  F1          	pop	af
3711  1292  F1          	pop	af
3712  1293  C1          	pop	bc
3713  1294  21 00 00    	ld	hl,_bullet_count
3714  1297  35          	dec	(hl)
3715  1298  3E FF       	ld	a,0xff
3716  129A  02          	ld	(bc), a
3717  129B  C9          	ret
3718  129C              	SECTION code_compiler
3719  129C              ;	---------------------------------
3720  129C              ; Function spr_turn_horizontal
3721  129C              ; ---------------------------------
3722  129C              _spr_turn_horizontal:
3723  129C  21 00 00    	ld	hl,_s_state
3724  129F  CB 56       	bit	2, (hl)
3725  12A1  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3726  12A3  21 00 00    	ld	hl,_s_state
3727  12A6  7E          	ld	a,(hl)
3728  12A7  F6 08       	or	a,0x08
3729  12A9  E6 FB       	and	a,0xfb
3730  12AB  77          	ld	(hl),a
3731  12AC  18 09       	jr	l_spr_turn_horizontal_00103
3732  12AE              l_spr_turn_horizontal_00102:
3733  12AE  21 00 00    	ld	hl,_s_state
3734  12B1  7E          	ld	a,(hl)
3735  12B2  E6 F7       	and	a,0xf7
3736  12B4  F6 04       	or	a,0x04
3737  12B6  77          	ld	(hl),a
3738  12B7              l_spr_turn_horizontal_00103:
3739  12B7  2A 00 00    	ld	hl,(_sprite)
3740  12BA  26 00       	ld	h,0x00
3741  12BC  01 00 00    	ld	bc,_state
3742  12BF  09          	add	hl,bc
3743  12C0  3A 00 00    	ld	a,(_s_state)
3744  12C3  77          	ld	(hl),a
3745  12C4  2A 00 00    	ld	hl,(_sprite)
3746  12C7  26 00       	ld	h,0x00
3747  12C9  01 00 00    	ld	bc,_tile
3748  12CC  09          	add	hl,bc
3749  12CD  E5          	push	hl
3750  12CE  2A 00 00    	ld	hl,(_sprite)
3751  12D1  CD 9C 06    	call	_spr_tile
3752  12D4  C1          	pop	bc
3753  12D5  7D          	ld	a,l
3754  12D6  02          	ld	(bc), a
3755  12D7  C9          	ret
3756  12D8              	SECTION code_compiler
3757  12D8              ;	---------------------------------
3758  12D8              ; Function spr_btile_paint_back
3759  12D8              ; ---------------------------------
3760  12D8              _spr_btile_paint_back:
3761  12D8  21 20 00    	ld	hl,0x0020
3762  12DB  22 00 00    	ld	(_tmp_ui),hl
3763  12DE              l_spr_btile_paint_back_00106:
3764  12DE  21 00 00    	ld	hl,_tmp_ui
3765  12E1  7E          	ld	a, (hl)
3766  12E2  D6 A0       	sub	a,0xa0
3767  12E4  23          	inc	hl
3768  12E5  7E          	ld	a, (hl)
3769  12E6  DE 28       	sbc	a,0x28
3770  12E8  30 4C       	jr	NC,l_spr_btile_paint_back_00109
3771  12EA  21 00 00    	ld	hl,_tmp0
3772  12ED  36 00       	ld	(hl),0x00
3773  12EF              l_spr_btile_paint_back_00103:
3774  12EF  3A 00 00    	ld	a,(_tmp0)
3775  12F2  D6 10       	sub	a,0x10
3776  12F4  30 34       	jr	NC,l_spr_btile_paint_back_00105
3777  12F6  01 00 00    	ld	bc,_btiles
3778  12F9  2A 00 00    	ld	hl,(_tmp_ui)
3779  12FC  09          	add	hl,bc
3780  12FD  7D          	ld	a,l
3781  12FE  44          	ld	b,h
3782  12FF  21 00 00    	ld	hl,_tmp0
3783  1302  86          	add	a, (hl)
3784  1303  4F          	ld	c, a
3785  1304  78          	ld	a, b
3786  1305  CE 00       	adc	a,0x00
3787  1307  47          	ld	b, a
3788  1308  0A          	ld	a, (bc)
3789  1309  32 00 00    	ld	(_tmp),a
3790  130C  E6 38       	and	a,0x38
3791  130E  5F          	ld	e, a
3792  130F  3A 00 00    	ld	a,(_map_paper_last)
3793  1312  93          	sub	a, e
3794  1313  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
3795  1315  21 00 00    	ld	hl,_tmp
3796  1318  7E          	ld	a, (hl)
3797  1319  E6 C7       	and	a,0xc7
3798  131B  77          	ld	(hl),a
3799  131C  21 00 00    	ld	hl,_map_paper
3800  131F  B6          	or	a, (hl)
3801  1320  32 00 00    	ld	(_tmp),a
3802  1323  02          	ld	(bc), a
3803  1324              l_spr_btile_paint_back_00102:
3804  1324  21 00 00    	ld	hl,_tmp0
3805  1327  34          	inc	(hl)
3806  1328  18 C5       	jr	l_spr_btile_paint_back_00103
3807  132A              l_spr_btile_paint_back_00105:
3808  132A  2A 00 00    	ld	hl,(_tmp_ui)
3809  132D  11 30 00    	ld	de,0x0030
3810  1330  19          	add	hl,de
3811  1331  22 00 00    	ld	(_tmp_ui),hl
3812  1334  18 A8       	jr	l_spr_btile_paint_back_00106
3813  1336              l_spr_btile_paint_back_00109:
3814  1336  C9          	ret
3815  1337              	SECTION IGNORE
3816  0000              
