1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_map
198   0000              	GLOBAL _spr_redraw
199   0000              	GLOBAL _spr_destroy
200   0000              	GLOBAL _spr_tile
201   0000              	GLOBAL _spr_tile_dir
202   0000              	GLOBAL _spr_draw_clear
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_draw_index
205   0000              	GLOBAL _spr_draw_row
206   0000              	GLOBAL _spr_calc_hor
207   0000              	GLOBAL _spr_back_repaint
208   0000              	GLOBAL _spr_tile_paint
209   0000              	GLOBAL _spr_init_anim_bullets
210   0000              	GLOBAL _spr_add_anim
211   0000              	GLOBAL _spr_play_anim
212   0000              	GLOBAL _spr_play_bullets
213   0000              	GLOBAL _spr_turn_horizontal
214   0000              ;--------------------------------------------------------
215   0000              ; Externals used
216   0000              ;--------------------------------------------------------
217   0000              	GLOBAL _ulltoa_callee
218   0000              	GLOBAL _ulltoa
219   0000              	GLOBAL _strtoull_callee
220   0000              	GLOBAL _strtoull
221   0000              	GLOBAL _strtoll_callee
222   0000              	GLOBAL _strtoll
223   0000              	GLOBAL _lltoa_callee
224   0000              	GLOBAL _lltoa
225   0000              	GLOBAL _llabs_callee
226   0000              	GLOBAL _llabs
227   0000              	GLOBAL __lldivu__callee
228   0000              	GLOBAL __lldivu_
229   0000              	GLOBAL __lldiv__callee
230   0000              	GLOBAL __lldiv_
231   0000              	GLOBAL _atoll_callee
232   0000              	GLOBAL _atoll
233   0000              	GLOBAL _realloc_unlocked_callee
234   0000              	GLOBAL _realloc_unlocked
235   0000              	GLOBAL _malloc_unlocked_fastcall
236   0000              	GLOBAL _malloc_unlocked
237   0000              	GLOBAL _free_unlocked_fastcall
238   0000              	GLOBAL _free_unlocked
239   0000              	GLOBAL _calloc_unlocked_callee
240   0000              	GLOBAL _calloc_unlocked
241   0000              	GLOBAL _aligned_alloc_unlocked_callee
242   0000              	GLOBAL _aligned_alloc_unlocked
243   0000              	GLOBAL _realloc_callee
244   0000              	GLOBAL _realloc
245   0000              	GLOBAL _malloc_fastcall
246   0000              	GLOBAL _malloc
247   0000              	GLOBAL _free_fastcall
248   0000              	GLOBAL _free
249   0000              	GLOBAL _calloc_callee
250   0000              	GLOBAL _calloc
251   0000              	GLOBAL _aligned_alloc_callee
252   0000              	GLOBAL _aligned_alloc
253   0000              	GLOBAL _utoa_callee
254   0000              	GLOBAL _utoa
255   0000              	GLOBAL _ultoa_callee
256   0000              	GLOBAL _ultoa
257   0000              	GLOBAL _system_fastcall
258   0000              	GLOBAL _system
259   0000              	GLOBAL _strtoul_callee
260   0000              	GLOBAL _strtoul
261   0000              	GLOBAL _strtol_callee
262   0000              	GLOBAL _strtol
263   0000              	GLOBAL _strtof_callee
264   0000              	GLOBAL _strtof
265   0000              	GLOBAL _strtod_callee
266   0000              	GLOBAL _strtod
267   0000              	GLOBAL _srand_fastcall
268   0000              	GLOBAL _srand
269   0000              	GLOBAL _rand
270   0000              	GLOBAL _quick_exit_fastcall
271   0000              	GLOBAL _quick_exit
272   0000              	GLOBAL _qsort_callee
273   0000              	GLOBAL _qsort
274   0000              	GLOBAL _ltoa_callee
275   0000              	GLOBAL _ltoa
276   0000              	GLOBAL _labs_fastcall
277   0000              	GLOBAL _labs
278   0000              	GLOBAL _itoa_callee
279   0000              	GLOBAL _itoa
280   0000              	GLOBAL _ftoh_callee
281   0000              	GLOBAL _ftoh
282   0000              	GLOBAL _ftog_callee
283   0000              	GLOBAL _ftog
284   0000              	GLOBAL _ftoe_callee
285   0000              	GLOBAL _ftoe
286   0000              	GLOBAL _ftoa_callee
287   0000              	GLOBAL _ftoa
288   0000              	GLOBAL _exit_fastcall
289   0000              	GLOBAL _exit
290   0000              	GLOBAL _dtoh_callee
291   0000              	GLOBAL _dtoh
292   0000              	GLOBAL _dtog_callee
293   0000              	GLOBAL _dtog
294   0000              	GLOBAL _dtoe_callee
295   0000              	GLOBAL _dtoe
296   0000              	GLOBAL _dtoa_callee
297   0000              	GLOBAL _dtoa
298   0000              	GLOBAL _bsearch_callee
299   0000              	GLOBAL _bsearch
300   0000              	GLOBAL _atol_fastcall
301   0000              	GLOBAL _atol
302   0000              	GLOBAL _atoi_fastcall
303   0000              	GLOBAL _atoi
304   0000              	GLOBAL _atof_fastcall
305   0000              	GLOBAL _atof
306   0000              	GLOBAL _atexit_fastcall
307   0000              	GLOBAL _atexit
308   0000              	GLOBAL _at_quick_exit_fastcall
309   0000              	GLOBAL _at_quick_exit
310   0000              	GLOBAL _abs_fastcall
311   0000              	GLOBAL _abs
312   0000              	GLOBAL _abort
313   0000              	GLOBAL __strtou__callee
314   0000              	GLOBAL __strtou_
315   0000              	GLOBAL __strtoi__callee
316   0000              	GLOBAL __strtoi_
317   0000              	GLOBAL __random_uniform_xor_8__fastcall
318   0000              	GLOBAL __random_uniform_xor_8_
319   0000              	GLOBAL __random_uniform_xor_32__fastcall
320   0000              	GLOBAL __random_uniform_xor_32_
321   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
322   0000              	GLOBAL __random_uniform_cmwc_8_
323   0000              	GLOBAL __shellsort__callee
324   0000              	GLOBAL __shellsort_
325   0000              	GLOBAL __quicksort__callee
326   0000              	GLOBAL __quicksort_
327   0000              	GLOBAL __insertion_sort__callee
328   0000              	GLOBAL __insertion_sort_
329   0000              	GLOBAL __ldivu__callee
330   0000              	GLOBAL __ldivu_
331   0000              	GLOBAL __ldiv__callee
332   0000              	GLOBAL __ldiv_
333   0000              	GLOBAL __divu__callee
334   0000              	GLOBAL __divu_
335   0000              	GLOBAL __div__callee
336   0000              	GLOBAL __div_
337   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawTW_raw
339   0000              	GLOBAL _NIRVANAP_drawTW_callee
340   0000              	GLOBAL _NIRVANAP_drawTW
341   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawW_raw
343   0000              	GLOBAL _NIRVANAP_drawW_callee
344   0000              	GLOBAL _NIRVANAP_drawW
345   0000              	GLOBAL _NIRVANAP_spriteT_callee
346   0000              	GLOBAL _NIRVANAP_spriteT
347   0000              	GLOBAL _NIRVANAP_fillC_callee
348   0000              	GLOBAL _NIRVANAP_fillC
349   0000              	GLOBAL _NIRVANAP_readC_callee
350   0000              	GLOBAL _NIRVANAP_readC
351   0000              	GLOBAL _NIRVANAP_paintC_callee
352   0000              	GLOBAL _NIRVANAP_paintC
353   0000              	GLOBAL _NIRVANAP_printC_callee
354   0000              	GLOBAL _NIRVANAP_printC
355   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
356   0000              	GLOBAL _NIRVANAP_fillT_raw
357   0000              	GLOBAL _NIRVANAP_fillT_callee
358   0000              	GLOBAL _NIRVANAP_fillT
359   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawT_raw
361   0000              	GLOBAL _NIRVANAP_drawT_callee
362   0000              	GLOBAL _NIRVANAP_drawT
363   0000              	GLOBAL _NIRVANAP_stop
364   0000              	GLOBAL _NIRVANAP_start
365   0000              	GLOBAL _debug3
366   0000              	GLOBAL _debug2
367   0000              	GLOBAL _debug
368   0000              	GLOBAL _zx_print_str
369   0000              	GLOBAL _zx_print_int
370   0000              	GLOBAL _zx_print_chr
371   0000              	GLOBAL _zx_print_bonus_time
372   0000              	GLOBAL _zx_isr
373   0000              	GLOBAL _z80_otdr_callee
374   0000              	GLOBAL _z80_otdr
375   0000              	GLOBAL _z80_otir_callee
376   0000              	GLOBAL _z80_otir
377   0000              	GLOBAL _z80_outp_callee
378   0000              	GLOBAL _z80_outp
379   0000              	GLOBAL _z80_indr_callee
380   0000              	GLOBAL _z80_indr
381   0000              	GLOBAL _z80_inir_callee
382   0000              	GLOBAL _z80_inir
383   0000              	GLOBAL _z80_inp_fastcall
384   0000              	GLOBAL _z80_inp
385   0000              	GLOBAL _z80_set_int_state_fastcall
386   0000              	GLOBAL _z80_set_int_state
387   0000              	GLOBAL _z80_get_int_state
388   0000              	GLOBAL _z80_delay_tstate_fastcall
389   0000              	GLOBAL _z80_delay_tstate
390   0000              	GLOBAL _z80_delay_ms_fastcall
391   0000              	GLOBAL _z80_delay_ms
392   0000              	GLOBAL _im2_remove_generic_callback_callee
393   0000              	GLOBAL _im2_remove_generic_callback
394   0000              	GLOBAL _im2_prepend_generic_callback_callee
395   0000              	GLOBAL _im2_prepend_generic_callback
396   0000              	GLOBAL _im2_append_generic_callback_callee
397   0000              	GLOBAL _im2_append_generic_callback
398   0000              	GLOBAL _im2_create_generic_isr_8080_callee
399   0000              	GLOBAL _im2_create_generic_isr_8080
400   0000              	GLOBAL _im2_create_generic_isr_callee
401   0000              	GLOBAL _im2_create_generic_isr
402   0000              	GLOBAL _im2_install_isr_callee
403   0000              	GLOBAL _im2_install_isr
404   0000              	GLOBAL _im2_init_fastcall
405   0000              	GLOBAL _im2_init
406   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
407   0000              	GLOBAL _intrinsic_swap_word_32
408   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_endian_32
410   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_16
412   0000              	GLOBAL _intrinsic_return_de
413   0000              	GLOBAL _intrinsic_return_bc
414   0000              	GLOBAL _intrinsic_exx
415   0000              	GLOBAL _intrinsic_ex_de_hl
416   0000              	GLOBAL _intrinsic_nop
417   0000              	GLOBAL _intrinsic_im_2
418   0000              	GLOBAL _intrinsic_im_1
419   0000              	GLOBAL _intrinsic_im_0
420   0000              	GLOBAL _intrinsic_retn
421   0000              	GLOBAL _intrinsic_reti
422   0000              	GLOBAL _intrinsic_halt
423   0000              	GLOBAL _intrinsic_ei
424   0000              	GLOBAL _intrinsic_di
425   0000              	GLOBAL _intrinsic_stub
426   0000              	GLOBAL _intrinsic_outi
427   0000              	GLOBAL _intrinsic_ldi
428   0000              	GLOBAL _zx_pattern_fill_callee
429   0000              	GLOBAL _zx_pattern_fill
430   0000              	GLOBAL _zx_saddrpup_fastcall
431   0000              	GLOBAL _zx_saddrpup
432   0000              	GLOBAL _zx_saddrpright_callee
433   0000              	GLOBAL _zx_saddrpright
434   0000              	GLOBAL _zx_saddrpleft_callee
435   0000              	GLOBAL _zx_saddrpleft
436   0000              	GLOBAL _zx_saddrpdown_fastcall
437   0000              	GLOBAL _zx_saddrpdown
438   0000              	GLOBAL _zx_saddrcup_fastcall
439   0000              	GLOBAL _zx_saddrcup
440   0000              	GLOBAL _zx_saddrcright_fastcall
441   0000              	GLOBAL _zx_saddrcright
442   0000              	GLOBAL _zx_saddrcleft_fastcall
443   0000              	GLOBAL _zx_saddrcleft
444   0000              	GLOBAL _zx_saddrcdown_fastcall
445   0000              	GLOBAL _zx_saddrcdown
446   0000              	GLOBAL _zx_saddr2py_fastcall
447   0000              	GLOBAL _zx_saddr2py
448   0000              	GLOBAL _zx_saddr2px_fastcall
449   0000              	GLOBAL _zx_saddr2px
450   0000              	GLOBAL _zx_saddr2cy_fastcall
451   0000              	GLOBAL _zx_saddr2cy
452   0000              	GLOBAL _zx_saddr2cx_fastcall
453   0000              	GLOBAL _zx_saddr2cx
454   0000              	GLOBAL _zx_saddr2aaddr_fastcall
455   0000              	GLOBAL _zx_saddr2aaddr
456   0000              	GLOBAL _zx_py2saddr_fastcall
457   0000              	GLOBAL _zx_py2saddr
458   0000              	GLOBAL _zx_py2aaddr_fastcall
459   0000              	GLOBAL _zx_py2aaddr
460   0000              	GLOBAL _zx_pxy2saddr_callee
461   0000              	GLOBAL _zx_pxy2saddr
462   0000              	GLOBAL _zx_pxy2aaddr_callee
463   0000              	GLOBAL _zx_pxy2aaddr
464   0000              	GLOBAL _zx_px2bitmask_fastcall
465   0000              	GLOBAL _zx_px2bitmask
466   0000              	GLOBAL _zx_cy2saddr_fastcall
467   0000              	GLOBAL _zx_cy2saddr
468   0000              	GLOBAL _zx_cy2aaddr_fastcall
469   0000              	GLOBAL _zx_cy2aaddr
470   0000              	GLOBAL _zx_cxy2saddr_callee
471   0000              	GLOBAL _zx_cxy2saddr
472   0000              	GLOBAL _zx_cxy2aaddr_callee
473   0000              	GLOBAL _zx_cxy2aaddr
474   0000              	GLOBAL _zx_bitmask2px_fastcall
475   0000              	GLOBAL _zx_bitmask2px
476   0000              	GLOBAL _zx_aaddrcup_fastcall
477   0000              	GLOBAL _zx_aaddrcup
478   0000              	GLOBAL _zx_aaddrcright_fastcall
479   0000              	GLOBAL _zx_aaddrcright
480   0000              	GLOBAL _zx_aaddrcleft_fastcall
481   0000              	GLOBAL _zx_aaddrcleft
482   0000              	GLOBAL _zx_aaddrcdown_fastcall
483   0000              	GLOBAL _zx_aaddrcdown
484   0000              	GLOBAL _zx_aaddr2saddr_fastcall
485   0000              	GLOBAL _zx_aaddr2saddr
486   0000              	GLOBAL _zx_aaddr2py_fastcall
487   0000              	GLOBAL _zx_aaddr2py
488   0000              	GLOBAL _zx_aaddr2px_fastcall
489   0000              	GLOBAL _zx_aaddr2px
490   0000              	GLOBAL _zx_aaddr2cy_fastcall
491   0000              	GLOBAL _zx_aaddr2cy
492   0000              	GLOBAL _zx_aaddr2cx_fastcall
493   0000              	GLOBAL _zx_aaddr2cx
494   0000              	GLOBAL _zx_visit_wc_pix_callee
495   0000              	GLOBAL _zx_visit_wc_pix
496   0000              	GLOBAL _zx_visit_wc_attr_callee
497   0000              	GLOBAL _zx_visit_wc_attr
498   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
499   0000              	GLOBAL _zx_scroll_wc_up_pix
500   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
501   0000              	GLOBAL _zx_scroll_wc_up_attr
502   0000              	GLOBAL _zx_scroll_wc_up_callee
503   0000              	GLOBAL _zx_scroll_wc_up
504   0000              	GLOBAL _zx_scroll_up_pix_callee
505   0000              	GLOBAL _zx_scroll_up_pix
506   0000              	GLOBAL _zx_scroll_up_attr_callee
507   0000              	GLOBAL _zx_scroll_up_attr
508   0000              	GLOBAL _zx_scroll_up_callee
509   0000              	GLOBAL _zx_scroll_up
510   0000              	GLOBAL _zx_cls_wc_pix_callee
511   0000              	GLOBAL _zx_cls_wc_pix
512   0000              	GLOBAL _zx_cls_wc_attr_callee
513   0000              	GLOBAL _zx_cls_wc_attr
514   0000              	GLOBAL _zx_cls_wc_callee
515   0000              	GLOBAL _zx_cls_wc
516   0000              	GLOBAL _zx_cls_pix_fastcall
517   0000              	GLOBAL _zx_cls_pix
518   0000              	GLOBAL _zx_cls_attr_fastcall
519   0000              	GLOBAL _zx_cls_attr
520   0000              	GLOBAL _zx_cls_fastcall
521   0000              	GLOBAL _zx_cls
522   0000              	GLOBAL _zx_border_fastcall
523   0000              	GLOBAL _zx_border
524   0000              	GLOBAL _sound_hit_brick
525   0000              	GLOBAL _sound_hit_enemy
526   0000              	GLOBAL _sound_kill
527   0000              	GLOBAL _sound_enter_enemy
528   0000              	GLOBAL _sound_coin
529   0000              	GLOBAL _sound_jump
530   0000              	GLOBAL _sound_slide
531   0000              	GLOBAL _player_move_jump
532   0000              	GLOBAL _player_fire
533   0000              	GLOBAL _player_check_stairs_down
534   0000              	GLOBAL _player_check_stairs
535   0000              	GLOBAL _player_tile
536   0000              	GLOBAL _player_pick_item
537   0000              	GLOBAL _player_check_floor
538   0000              	GLOBAL _player_hit_platform_clear
539   0000              	GLOBAL _player_lost_life
540   0000              	GLOBAL _player_score_add
541   0000              	GLOBAL _player_player_hit_pow
542   0000              	GLOBAL _player_hit_platform
543   0000              	GLOBAL _player_move_input
544   0000              	GLOBAL _player_turn
545   0000              	GLOBAL _player_move
546   0000              	GLOBAL _player_restart
547   0000              	GLOBAL _player_kill
548   0000              	GLOBAL _player_check_input
549   0000              	GLOBAL _player_collision
550   0000              	GLOBAL _player_init
551   0000              	GLOBAL _game_joystick_set_menu
552   0000              	GLOBAL _game_joystick_set
553   0000              	GLOBAL _game_joystick_change
554   0000              	GLOBAL _game_print_header
555   0000              	GLOBAL _game_end
556   0000              	GLOBAL _game_phase_print_score_back
557   0000              	GLOBAL _game_check_time
558   0000              	GLOBAL _game_rotate_attrib
559   0000              	GLOBAL _game_colour_message
560   0000              	GLOBAL _game_paint_attrib_lin_h
561   0000              	GLOBAL _game_paint_attrib_lin
562   0000              	GLOBAL _game_paint_attrib
563   0000              	GLOBAL _game_print_score
564   0000              	GLOBAL _game_unfreeze_all
565   0000              	GLOBAL _game_freeze_all
566   0000              	GLOBAL _game_freeze
567   0000              	GLOBAL _game_enemy_add_get_index
568   0000              	GLOBAL _game_check_cell
569   0000              	GLOBAL _game_check_map
570   0000              	GLOBAL _game_loop
571   0000              	GLOBAL _game_phase_init
572   0000              	GLOBAL _game_start_timer
573   0000              	GLOBAL _game_tick
574   0000              	GLOBAL _game_print_lives
575   0000              	GLOBAL _game_print_footer
576   0000              	GLOBAL _game_fill_row
577   0000              	GLOBAL _game_draw_screen
578   0000              	GLOBAL _enemy_avoid_edge
579   0000              	GLOBAL _enemy_kill
580   0000              	GLOBAL _enemy_init
581   0000              	GLOBAL _enemy_move
582   0000              	GLOBAL _enemy_turn
583   0000              	GLOBAL _enemy_hit
584   0000              	GLOBAL _enemy_coin1
585   0000              	GLOBAL _enemy_walk
586   0000              	GLOBAL _enemy_vertical
587   0000              	GLOBAL _ay_fx_play
588   0000              	GLOBAL _ay_midi_play
589   0000              	GLOBAL _ay_is_playing
590   0000              	GLOBAL _ay_reset
591   0000              	GLOBAL _test_func
592   0000              	GLOBAL _test_proc
593   0000              	GLOBAL _in_mouse_kempston_wheel_delta
594   0000              	GLOBAL _in_mouse_kempston_wheel
595   0000              	GLOBAL _in_mouse_kempston_callee
596   0000              	GLOBAL _in_mouse_kempston
597   0000              	GLOBAL _in_mouse_kempston_setpos_callee
598   0000              	GLOBAL _in_mouse_kempston_setpos
599   0000              	GLOBAL _in_mouse_kempston_reset
600   0000              	GLOBAL _in_mouse_kempston_init
601   0000              	GLOBAL _in_mouse_amx_wheel_delta
602   0000              	GLOBAL _in_mouse_amx_wheel
603   0000              	GLOBAL _in_mouse_amx_callee
604   0000              	GLOBAL _in_mouse_amx
605   0000              	GLOBAL _in_mouse_amx_setpos_callee
606   0000              	GLOBAL _in_mouse_amx_setpos
607   0000              	GLOBAL _in_mouse_amx_reset
608   0000              	GLOBAL _in_mouse_amx_init_callee
609   0000              	GLOBAL _in_mouse_amx_init
610   0000              	GLOBAL _in_stick_sinclair2
611   0000              	GLOBAL _in_stick_sinclair1
612   0000              	GLOBAL _in_stick_kempston
613   0000              	GLOBAL _in_stick_fuller
614   0000              	GLOBAL _in_stick_cursor
615   0000              	GLOBAL _in_stick_keyboard_fastcall
616   0000              	GLOBAL _in_stick_keyboard
617   0000              	GLOBAL _in_wait_nokey
618   0000              	GLOBAL _in_wait_key
619   0000              	GLOBAL _in_test_key
620   0000              	GLOBAL _in_pause_fastcall
621   0000              	GLOBAL _in_pause
622   0000              	GLOBAL _in_key_scancode_fastcall
623   0000              	GLOBAL _in_key_scancode
624   0000              	GLOBAL _in_key_pressed_fastcall
625   0000              	GLOBAL _in_key_pressed
626   0000              	GLOBAL _in_inkey
627   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
628   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
629   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
630   0000              	GLOBAL _NIRVANAP_HOLE
631   0000              	GLOBAL _NIRVANAP_ISR_HOOK
632   0000              	GLOBAL _g_player_hit_right
633   0000              	GLOBAL _g_player_hit_left
634   0000              	GLOBAL _joynames
635   0000              	GLOBAL _initials
636   0000              	GLOBAL _bullet_count
637   0000              	GLOBAL _bullet_frames
638   0000              	GLOBAL _bullet_colint
639   0000              	GLOBAL _bullet_dir
640   0000              	GLOBAL _bullet_tile
641   0000              	GLOBAL _bullet_col
642   0000              	GLOBAL _bullet_lin
643   0000              	GLOBAL _anim_count
644   0000              	GLOBAL _anim_end
645   0000              	GLOBAL _anim_int
646   0000              	GLOBAL _anim_tile
647   0000              	GLOBAL _anim_col
648   0000              	GLOBAL _anim_lin
649   0000              	GLOBAL _phase_curr
650   0000              	GLOBAL _map_heigth
651   0000              	GLOBAL _map_width
652   0000              	GLOBAL _scr_curr
653   0000              	GLOBAL _scr_7
654   0000              	GLOBAL _scr_6
655   0000              	GLOBAL _scr_5
656   0000              	GLOBAL _scr_4
657   0000              	GLOBAL _scr_3
658   0000              	GLOBAL _scr_2
659   0000              	GLOBAL _scr_1
660   0000              	GLOBAL _scr_0
661   0000              	GLOBAL _scr_map
662   0000              	GLOBAL _sprite_speed_alt
663   0000              	GLOBAL _sprite_frames
664   0000              	GLOBAL _sprite_speed
665   0000              	GLOBAL _screen_ink
666   0000              	GLOBAL _screen_paper
667   0000              	GLOBAL _player_over_stair
668   0000              	GLOBAL _game_menu_sel
669   0000              	GLOBAL _game_score_top
670   0000              	GLOBAL _player_lives
671   0000              	GLOBAL _game_over
672   0000              	GLOBAL _game_sound
673   0000              	GLOBAL _game_inmune
674   0000              	GLOBAL _game_god_mode
675   0000              	GLOBAL _game_two_player
676   0000              	GLOBAL _game_brick_tile
677   0000              	GLOBAL _sprite_curr_index
678   0000              	GLOBAL _spr_count
679   0000              	GLOBAL _bullet_time
680   0000              	GLOBAL _anim_time
681   0000              	GLOBAL _frame_time
682   0000              	GLOBAL _entry_time
683   0000              	GLOBAL _curr_time
684   0000              	GLOBAL _s_state
685   0000              	GLOBAL _attrib_hl
686   0000              	GLOBAL _attrib
687   0000              	GLOBAL _zx_val_asm
688   0000              	GLOBAL _enemies
689   0000              	GLOBAL _tmp_ui
690   0000              	GLOBAL _tmp_sc
691   0000              	GLOBAL _tmp_uc
692   0000              	GLOBAL _tmp1
693   0000              	GLOBAL _tmp0
694   0000              	GLOBAL _tmp
695   0000              	GLOBAL _index1
696   0000              	GLOBAL _index0
697   0000              	GLOBAL _loop_count
698   0000              	GLOBAL _s_col1
699   0000              	GLOBAL _s_col0
700   0000              	GLOBAL _s_lin1
701   0000              	GLOBAL _s_lin0
702   0000              	GLOBAL _s_tile1
703   0000              	GLOBAL _s_tile0
704   0000              	GLOBAL _player_hit_count
705   0000              	GLOBAL _sprite_horizontal_check
706   0000              	GLOBAL _sprite_on_air
707   0000              	GLOBAL _sprite
708   0000              	GLOBAL _game_gravity
709   0000              	GLOBAL _player_vel_inc
710   0000              	GLOBAL _player_vel_y1
711   0000              	GLOBAL _player_vel_y0
712   0000              	GLOBAL _player_vel_y
713   0000              	GLOBAL _player_vel_x
714   0000              	GLOBAL _player_joy
715   0000              	GLOBAL _player_score
716   0000              	GLOBAL _last_time
717   0000              	GLOBAL _player_slide
718   0000              	GLOBAL _spr_timer
719   0000              	GLOBAL _jump_lin
720   0000              	GLOBAL _player_hit_col
721   0000              	GLOBAL _player_hit_lin
722   0000              	GLOBAL _colint
723   0000              	GLOBAL _col
724   0000              	GLOBAL _lin
725   0000              	GLOBAL _tile
726   0000              	GLOBAL _state_a
727   0000              	GLOBAL _state
728   0000              	GLOBAL _class
729   0000              	GLOBAL _tbuffer
730   0000              	GLOBAL _dirs
731   0000              	GLOBAL _k1
732   0000              	GLOBAL _joyfunc1
733   0000              	GLOBAL _btiles
734   0000              	GLOBAL _spec128
735   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
736   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
737   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
738   0000              	GLOBAL _ay_effect_20
739   0000              	GLOBAL _ay_effect_19
740   0000              	GLOBAL _ay_effect_18
741   0000              	GLOBAL _ay_effect_17
742   0000              	GLOBAL _ay_effect_16
743   0000              	GLOBAL _ay_effect_15
744   0000              	GLOBAL _ay_effect_14
745   0000              	GLOBAL _ay_effect_13
746   0000              	GLOBAL _ay_effect_12
747   0000              	GLOBAL _ay_effect_11
748   0000              	GLOBAL _ay_effect_10
749   0000              	GLOBAL _ay_effect_09
750   0000              	GLOBAL _ay_effect_08
751   0000              	GLOBAL _ay_effect_07
752   0000              	GLOBAL _ay_effect_06
753   0000              	GLOBAL _ay_effect_05
754   0000              	GLOBAL _ay_effect_04
755   0000              	GLOBAL _ay_effect_03
756   0000              	GLOBAL _ay_effect_02
757   0000              	GLOBAL _ay_effect_01
758   0000              	GLOBAL _pb_midi_phase_1
759   0000              	GLOBAL _pb_midi_title
760   0000              	GLOBAL _control_method
761   0000              ;--------------------------------------------------------
762   0000              ; special function registers
763   0000              ;--------------------------------------------------------
764   0000              defc _IO_FE	=	0x00fe
765   0000              defc _IO_1FFD	=	0x1ffd
766   0000              defc _IO_7FFD	=	0x7ffd
767   0000              ;--------------------------------------------------------
768   0000              ; ram data
769   0000              ;--------------------------------------------------------
770   0000              	SECTION bss_compiler
771   0000              ;--------------------------------------------------------
772   0000              ; ram data
773   0000              ;--------------------------------------------------------
774   0000              
775   0000              IF 0
776   0000              
777   0000              ; .area _INITIALIZED removed by z88dk
778   0000              
779   0000              
780   0000              ENDIF
781   0000              
782   0000              ;--------------------------------------------------------
783   0000              ; absolute external ram data
784   0000              ;--------------------------------------------------------
785   0000              	SECTION IGNORE
786   0000              ;--------------------------------------------------------
787   0000              ; global & static initialisations
788   0000              ;--------------------------------------------------------
789   0000              	SECTION code_crt_init
790   0000              ;--------------------------------------------------------
791   0000              ; Home
792   0000              ;--------------------------------------------------------
793   0000              	SECTION IGNORE
794   0000              ;--------------------------------------------------------
795   0000              ; code
796   0000              ;--------------------------------------------------------
797   0000              	SECTION code_compiler
798   0000              ;	---------------------------------
799   0000              ; Function spr_calc_index
800   0000              ; ---------------------------------
801   0000              _spr_calc_index:
802   0000  CD 00 00    	call	___sdcc_enter_ix
803   0003  DD 4E 05    	ld	c,(ix+5)
804   0006  CB 39       	srl	c
805   0008  06 00       	ld	b,0x00
806   000A  DD 7E 04    	ld	a,(ix+4)
807   000D  07          	rlca
808   000E  07          	rlca
809   000F  07          	rlca
810   0010  07          	rlca
811   0011  E6 0F       	and	a,0x0f
812   0013  6F          	ld	l, a
813   0014  26 00       	ld	h,0x00
814   0016  29          	add	hl, hl
815   0017  29          	add	hl, hl
816   0018  29          	add	hl, hl
817   0019  29          	add	hl, hl
818   001A  09          	add	hl, bc
819   001B  DD E1       	pop	ix
820   001D  C9          	ret
821   001E              	SECTION code_compiler
822   001E              ;	---------------------------------
823   001E              ; Function spr_chktime
824   001E              ; ---------------------------------
825   001E              _spr_chktime:
826   001E  CD 00 00    	call	___sdcc_enter_ix
827   0021  F5          	push	af
828   0022  DD 75 FE    	ld	(ix-2),l
829   0025  DD 74 FF    	ld	(ix-1),h
830   0028  E1          	pop	hl
831   0029  01 00 00    	ld	bc,_sprite_speed_alt+0
832   002C  5E          	ld	e,(hl)
833   002D  E5          	push	hl
834   002E  6B          	ld	l,e
835   002F  26 00       	ld	h,0x00
836   0031  09          	add	hl, bc
837   0032  7E          	ld	a, (hl)
838   0033  B7          	or	a, a
839   0034  20 13       	jr	NZ,l_spr_chktime_00102
840   0036  01 00 00    	ld	bc,_sprite_speed+0
841   0039  16 00       	ld	d,0x00
842   003B  21 00 00    	ld	hl,_class
843   003E  19          	add	hl, de
844   003F  6E          	ld	l, (hl)
845   0040  26 00       	ld	h,0x00
846   0042  09          	add	hl, bc
847   0043  7E          	ld	a, (hl)
848   0044  32 00 00    	ld	(_tmp),a
849   0047  18 03       	jr	l_spr_chktime_00103
850   0049              l_spr_chktime_00102:
851   0049  32 00 00    	ld	(_tmp),a
852   004C              l_spr_chktime_00103:
853   004C  3A 00 00    	ld	a,(_tmp)
854   004F  4F          	ld	c,a
855   0050  06 00       	ld	b,0x00
856   0052  60          	ld	h,b
857   0053  6B          	ld	l, e
858   0054  29          	add	hl, hl
859   0055  11 00 00    	ld	de,_last_time
860   0058  19          	add	hl, de
861   0059  5E          	ld	e, (hl)
862   005A  23          	inc	hl
863   005B  56          	ld	d, (hl)
864   005C  C5          	push	bc
865   005D  D5          	push	de
866   005E  CD 00 00    	call	_game_check_time
867   0061  F1          	pop	af
868   0062  F1          	pop	af
869   0063  7D          	ld	a, l
870   0064  B7          	or	a, a
871   0065  28 15       	jr	Z,l_spr_chktime_00105
872   0067  E1          	pop	hl
873   0068  E5          	push	hl
874   0069  6E          	ld	l, (hl)
875   006A  26 00       	ld	h,0x00
876   006C  29          	add	hl, hl
877   006D  01 00 00    	ld	bc,_last_time
878   0070  09          	add	hl,bc
879   0071  ED 5B 00 00 	ld	de,(_curr_time)
880   0075  73          	ld	(hl),e
881   0076  23          	inc	hl
882   0077  72          	ld	(hl),d
883   0078  2E 01       	ld	l,0x01
884   007A  18 02       	jr	l_spr_chktime_00106
885   007C              l_spr_chktime_00105:
886   007C  2E 00       	ld	l,0x00
887   007E              l_spr_chktime_00106:
888   007E  F1          	pop	af
889   007F  DD E1       	pop	ix
890   0081  C9          	ret
891   0082              	SECTION code_compiler
892   0082              ;	---------------------------------
893   0082              ; Function spr_move_up
894   0082              ; ---------------------------------
895   0082              _spr_move_up:
896   0082  01 00 00    	ld	bc,_lin+0
897   0085  2A 00 00    	ld	hl,(_sprite)
898   0088  26 00       	ld	h,0x00
899   008A  09          	add	hl,bc
900   008B  7E          	ld	a,(hl)
901   008C  C6 FE       	add	a,0xfe
902   008E  32 00 00    	ld	(_tmp1),a
903   0091  2A 00 00    	ld	hl,(_sprite)
904   0094  26 00       	ld	h,0x00
905   0096  11 00 00    	ld	de,_col
906   0099  19          	add	hl,de
907   009A  66          	ld	h, (hl)
908   009B  C5          	push	bc
909   009C  E5          	push	hl
910   009D  33          	inc	sp
911   009E  3A 00 00    	ld	a,(_tmp1)
912   00A1  F5          	push	af
913   00A2  33          	inc	sp
914   00A3  CD 00 00    	call	_game_check_map
915   00A6  F1          	pop	af
916   00A7  C1          	pop	bc
917   00A8  7C          	ld	a,h
918   00A9  B5          	or	a,l
919   00AA  28 14       	jr	Z,l_spr_move_up_00105
920   00AC  3A 00 00    	ld	a,(_sprite)
921   00AF  D6 07       	sub	a,0x07
922   00B1  20 09       	jr	NZ,l_spr_move_up_00102
923   00B3  3A 07 00    	ld	a,(_state_a + 0x0007)
924   00B6  07          	rlca
925   00B7  38 03       	jr	C,l_spr_move_up_00102
926   00B9  CD 00 00    	call	_player_hit_platform
927   00BC              l_spr_move_up_00102:
928   00BC  2E 01       	ld	l,0x01
929   00BE  18 1E       	jr	l_spr_move_up_00108
930   00C0              l_spr_move_up_00105:
931   00C0  2A 00 00    	ld	hl,(_sprite)
932   00C3  26 00       	ld	h,0x00
933   00C5  09          	add	hl,bc
934   00C6  3A 00 00    	ld	a,(_tmp1)
935   00C9  77          	ld	(hl),a
936   00CA  2A 00 00    	ld	hl,(_sprite)
937   00CD  26 00       	ld	h,0x00
938   00CF  09          	add	hl,bc
939   00D0  5E          	ld	e, (hl)
940   00D1  3E 90       	ld	a,0x90
941   00D3  93          	sub	a,e
942   00D4  30 06       	jr	NC,l_spr_move_up_00107
943   00D6  AF          	xor	a,a
944   00D7  77          	ld	(hl),a
945   00D8  2E 01       	ld	l,0x01
946   00DA  18 02       	jr	l_spr_move_up_00108
947   00DC              l_spr_move_up_00107:
948   00DC  2E 00       	ld	l,0x00
949   00DE              l_spr_move_up_00108:
950   00DE  C9          	ret
951   00DF              	SECTION code_compiler
952   00DF              ;	---------------------------------
953   00DF              ; Function spr_move_down
954   00DF              ; ---------------------------------
955   00DF              _spr_move_down:
956   00DF  01 00 00    	ld	bc,_lin+0
957   00E2  2A 00 00    	ld	hl,(_sprite)
958   00E5  26 00       	ld	h,0x00
959   00E7  09          	add	hl,bc
960   00E8  7E          	ld	a,(hl)
961   00E9  C6 02       	add	a,0x02
962   00EB  32 00 00    	ld	(_tmp1),a
963   00EE  2A 00 00    	ld	hl,(_sprite)
964   00F1  26 00       	ld	h,0x00
965   00F3  11 00 00    	ld	de,_col
966   00F6  19          	add	hl,de
967   00F7  56          	ld	d, (hl)
968   00F8  3A 00 00    	ld	a,(_tmp1)
969   00FB  C6 0E       	add	a,0x0e
970   00FD  C5          	push	bc
971   00FE  5F          	ld	e,a
972   00FF  D5          	push	de
973   0100  CD 00 00    	call	_game_check_map
974   0103  F1          	pop	af
975   0104  C1          	pop	bc
976   0105  7C          	ld	a,h
977   0106  B5          	or	a,l
978   0107  28 04       	jr	Z,l_spr_move_down_00102
979   0109  2E 01       	ld	l,0x01
980   010B  18 1D       	jr	l_spr_move_down_00105
981   010D              l_spr_move_down_00102:
982   010D  2A 00 00    	ld	hl,(_sprite)
983   0110  26 00       	ld	h,0x00
984   0112  09          	add	hl,bc
985   0113  3A 00 00    	ld	a,(_tmp1)
986   0116  77          	ld	(hl),a
987   0117  2A 00 00    	ld	hl,(_sprite)
988   011A  26 00       	ld	h,0x00
989   011C  09          	add	hl,bc
990   011D  5E          	ld	e, (hl)
991   011E  3E 90       	ld	a,0x90
992   0120  BB          	cp	a,e
993   0121  30 05       	jr	NC,l_spr_move_down_00104
994   0123  77          	ld	(hl),a
995   0124  2E 01       	ld	l,0x01
996   0126  18 02       	jr	l_spr_move_down_00105
997   0128              l_spr_move_down_00104:
998   0128  2E 00       	ld	l,0x00
999   012A              l_spr_move_down_00105:
1000  012A  C9          	ret
1001  012B              	SECTION code_compiler
1002  012B              ;	---------------------------------
1003  012B              ; Function spr_move_horizontal
1004  012B              ; ---------------------------------
1005  012B              _spr_move_horizontal:
1006  012B  2A 00 00    	ld	hl,(_sprite)
1007  012E  26 00       	ld	h,0x00
1008  0130  01 00 00    	ld	bc,_state
1009  0133  09          	add	hl,bc
1010  0134  7E          	ld	a,(hl)
1011  0135  CB 57       	bit	2, a
1012  0137  28 05       	jr	Z,l_spr_move_horizontal_00104
1013  0139  CD 4A 01    	call	_spr_move_right
1014  013C  18 0B       	jr	l_spr_move_horizontal_00106
1015  013E              l_spr_move_horizontal_00104:
1016  013E  CB 5F       	bit	3, a
1017  0140  28 05       	jr	Z,l_spr_move_horizontal_00105
1018  0142  CD 29 02    	call	_spr_move_left
1019  0145  18 02       	jr	l_spr_move_horizontal_00106
1020  0147              l_spr_move_horizontal_00105:
1021  0147  2E 00       	ld	l,0x00
1022  0149              l_spr_move_horizontal_00106:
1023  0149  C9          	ret
1024  014A              	SECTION code_compiler
1025  014A              ;	---------------------------------
1026  014A              ; Function spr_move_right
1027  014A              ; ---------------------------------
1028  014A              _spr_move_right:
1029  014A  2A 00 00    	ld	hl,(_sprite)
1030  014D  26 00       	ld	h,0x00
1031  014F  01 00 00    	ld	bc,_colint
1032  0152  09          	add	hl,bc
1033  0153  7E          	ld	a,(hl)
1034  0154  3C          	inc	a
1035  0155  77          	ld	(hl),a
1036  0156  4F          	ld	c,a
1037  0157  3A 00 00    	ld	a,(_sprite)
1038  015A  5F          	ld	e,a
1039  015B  16 00       	ld	d,0x00
1040  015D  21 00 00    	ld	hl,_class
1041  0160  19          	add	hl,de
1042  0161  5E          	ld	e, (hl)
1043  0162  16 00       	ld	d,0x00
1044  0164  21 00 00    	ld	hl,_sprite_frames
1045  0167  19          	add	hl, de
1046  0168  7E          	ld	a, (hl)
1047  0169  91          	sub	a, c
1048  016A  C2 26 02    	jp	NZ,l_spr_move_right_00117
1049  016D  2A 00 00    	ld	hl,(_sprite)
1050  0170  26 00       	ld	h,0x00
1051  0172  01 00 00    	ld	bc,_lin
1052  0175  09          	add	hl,bc
1053  0176  7E          	ld	a,(hl)
1054  0177  32 00 00    	ld	(_s_lin1),a
1055  017A  2A 00 00    	ld	hl,(_sprite)
1056  017D  26 00       	ld	h,0x00
1057  017F  01 00 00    	ld	bc,_col
1058  0182  09          	add	hl,bc
1059  0183  7E          	ld	a,(hl)
1060  0184  FE 1E       	cp	a,0x1e
1061  0186  30 4A       	jr	NC,l_spr_move_right_00107
1062  0188  3C          	inc	a
1063  0189  32 00 00    	ld	(_s_col1),a
1064  018C  F5          	push	af
1065  018D  33          	inc	sp
1066  018E  3A 00 00    	ld	a,(_s_lin1)
1067  0191  F5          	push	af
1068  0192  33          	inc	sp
1069  0193  CD 00 00    	call	_game_check_map
1070  0196  F1          	pop	af
1071  0197  7C          	ld	a,h
1072  0198  B5          	or	a,l
1073  0199  20 13       	jr	NZ,l_spr_move_right_00103
1074  019B  3A 00 00    	ld	a,(_s_lin1)
1075  019E  C6 0F       	add	a,0x0f
1076  01A0  4F          	ld	c, a
1077  01A1  3A 00 00    	ld	a, (_s_col1)
1078  01A4  47          	ld	b,a
1079  01A5  C5          	push	bc
1080  01A6  CD 00 00    	call	_game_check_map
1081  01A9  F1          	pop	af
1082  01AA  7C          	ld	a,h
1083  01AB  B5          	or	a,l
1084  01AC  28 24       	jr	Z,l_spr_move_right_00107
1085  01AE              l_spr_move_right_00103:
1086  01AE  2A 00 00    	ld	hl,(_sprite)
1087  01B1  26 00       	ld	h,0x00
1088  01B3  01 00 00    	ld	bc,_colint
1089  01B6  09          	add	hl,bc
1090  01B7  7E          	ld	a,(hl)
1091  01B8  C6 FF       	add	a,0xff
1092  01BA  77          	ld	(hl),a
1093  01BB  3A 00 00    	ld	a,(_sprite_on_air)
1094  01BE  B7          	or	a,a
1095  01BF  20 0D       	jr	NZ,l_spr_move_right_00102
1096  01C1  2A 00 00    	ld	hl,(_sprite)
1097  01C4  26 00       	ld	h,0x00
1098  01C6  01 00 00    	ld	bc,_colint
1099  01C9  09          	add	hl,bc
1100  01CA  7E          	ld	a,(hl)
1101  01CB  C6 FF       	add	a,0xff
1102  01CD  77          	ld	(hl),a
1103  01CE              l_spr_move_right_00102:
1104  01CE  2E 01       	ld	l,0x01
1105  01D0  18 56       	jr	l_spr_move_right_00118
1106  01D2              l_spr_move_right_00107:
1107  01D2  2A 00 00    	ld	hl,(_sprite)
1108  01D5  26 00       	ld	h,0x00
1109  01D7  01 00 00    	ld	bc,_col
1110  01DA  09          	add	hl,bc
1111  01DB  34          	inc	(hl)
1112  01DC  2A 00 00    	ld	hl,(_sprite)
1113  01DF  26 00       	ld	h,0x00
1114  01E1  01 00 00    	ld	bc,_colint
1115  01E4  09          	add	hl,bc
1116  01E5  AF          	xor	a,a
1117  01E6  77          	ld	(hl),a
1118  01E7  2A 00 00    	ld	hl,(_sprite)
1119  01EA  26 00       	ld	h,0x00
1120  01EC  01 00 00    	ld	bc,_col
1121  01EF  09          	add	hl,bc
1122  01F0  5E          	ld	e,(hl)
1123  01F1  3E 1E       	ld	a,0x1e
1124  01F3  93          	sub	a,e
1125  01F4  30 30       	jr	NC,l_spr_move_right_00117
1126  01F6  3A 00 00    	ld	a,(_sprite)
1127  01F9  D6 07       	sub	a,0x07
1128  01FB  28 04       	jr	Z,l_spr_move_right_00151
1129  01FD  4D          	ld	c,l
1130  01FE  44          	ld	b,h
1131  01FF  18 1C       	jr	l_spr_move_right_00112
1132  0201              l_spr_move_right_00151:
1133  0201  CD 09 03    	call	_spr_page_right
1134  0204  3A 00 00    	ld	a,(_sprite)
1135  0207  C6 00       	add	a,+((_col) & 0xFF)
1136  0209  4D          	ld	c,l
1137  020A  5F          	ld	e,a
1138  020B  3E 00       	ld	a,+((_col) / 256)
1139  020D  CE 00       	adc	a,0x00
1140  020F  57          	ld	d,a
1141  0210  79          	ld	a, c
1142  0211  B7          	or	a, a
1143  0212  28 04       	jr	Z,l_spr_move_right_00109
1144  0214  AF          	xor	a, a
1145  0215  12          	ld	(de), a
1146  0216  18 0E       	jr	l_spr_move_right_00117
1147  0218              l_spr_move_right_00109:
1148  0218  3E 1E       	ld	a,0x1e
1149  021A  12          	ld	(de), a
1150  021B  18 09       	jr	l_spr_move_right_00117
1151  021D              l_spr_move_right_00112:
1152  021D  3E 1E       	ld	a,0x1e
1153  021F  02          	ld	(bc), a
1154  0220  2A 00 00    	ld	hl,(_sprite)
1155  0223  CD 38 05    	call	_spr_destroy
1156  0226              l_spr_move_right_00117:
1157  0226  2E 00       	ld	l,0x00
1158  0228              l_spr_move_right_00118:
1159  0228  C9          	ret
1160  0229              	SECTION code_compiler
1161  0229              ;	---------------------------------
1162  0229              ; Function spr_move_left
1163  0229              ; ---------------------------------
1164  0229              _spr_move_left:
1165  0229  01 00 00    	ld	bc,_colint+0
1166  022C  79          	ld	a, c
1167  022D  21 00 00    	ld	hl,_sprite
1168  0230  86          	add	a, (hl)
1169  0231  5F          	ld	e, a
1170  0232  78          	ld	a, b
1171  0233  CE 00       	adc	a,0x00
1172  0235  57          	ld	d, a
1173  0236  1A          	ld	a, (de)
1174  0237  C6 FF       	add	a,0xff
1175  0239  12          	ld	(de), a
1176  023A  79          	ld	a, c
1177  023B  86          	add	a, (hl)
1178  023C  5F          	ld	e, a
1179  023D  78          	ld	a, b
1180  023E  CE 00       	adc	a,0x00
1181  0240  57          	ld	d, a
1182  0241  1A          	ld	a, (de)
1183  0242  3C          	inc	a
1184  0243  C2 06 03    	jp	NZ,l_spr_move_left_00117
1185  0246  5E          	ld	e,(hl)
1186  0247  16 00       	ld	d,0x00
1187  0249  21 00 00    	ld	hl,_lin
1188  024C  19          	add	hl,de
1189  024D  7E          	ld	a,(hl)
1190  024E  32 00 00    	ld	(_s_lin1),a
1191  0251  2A 00 00    	ld	hl,(_sprite)
1192  0254  26 00       	ld	h,0x00
1193  0256  11 00 00    	ld	de,_col
1194  0259  19          	add	hl,de
1195  025A  7E          	ld	a,(hl)
1196  025B  B7          	or	a, a
1197  025C  28 44       	jr	Z,l_spr_move_left_00107
1198  025E  C6 FF       	add	a,0xff
1199  0260  32 00 00    	ld	(_s_col1),a
1200  0263  C5          	push	bc
1201  0264  F5          	push	af
1202  0265  33          	inc	sp
1203  0266  3A 00 00    	ld	a,(_s_lin1)
1204  0269  F5          	push	af
1205  026A  33          	inc	sp
1206  026B  CD 00 00    	call	_game_check_map
1207  026E  F1          	pop	af
1208  026F  C1          	pop	bc
1209  0270  7C          	ld	a,h
1210  0271  B5          	or	a,l
1211  0272  20 16       	jr	NZ,l_spr_move_left_00103
1212  0274  3A 00 00    	ld	a,(_s_lin1)
1213  0277  C6 0F       	add	a,0x0f
1214  0279  57          	ld	d, a
1215  027A  3A 00 00    	ld	a,(_s_col1)
1216  027D  C5          	push	bc
1217  027E  5A          	ld	e,d
1218  027F  57          	ld	d,a
1219  0280  D5          	push	de
1220  0281  CD 00 00    	call	_game_check_map
1221  0284  F1          	pop	af
1222  0285  C1          	pop	bc
1223  0286  7C          	ld	a,h
1224  0287  B5          	or	a,l
1225  0288  28 18       	jr	Z,l_spr_move_left_00107
1226  028A              l_spr_move_left_00103:
1227  028A  2A 00 00    	ld	hl,(_sprite)
1228  028D  26 00       	ld	h,0x00
1229  028F  09          	add	hl,bc
1230  0290  34          	inc	(hl)
1231  0291  3A 00 00    	ld	a,(_sprite_on_air)
1232  0294  B7          	or	a, a
1233  0295  20 07       	jr	NZ,l_spr_move_left_00102
1234  0297  2A 00 00    	ld	hl,(_sprite)
1235  029A  26 00       	ld	h,0x00
1236  029C  09          	add	hl,bc
1237  029D  34          	inc	(hl)
1238  029E              l_spr_move_left_00102:
1239  029E  2E 01       	ld	l,0x01
1240  02A0  18 66       	jr	l_spr_move_left_00118
1241  02A2              l_spr_move_left_00107:
1242  02A2  2A 00 00    	ld	hl,(_sprite)
1243  02A5  26 00       	ld	h,0x00
1244  02A7  11 00 00    	ld	de,_col
1245  02AA  19          	add	hl,de
1246  02AB  7E          	ld	a,(hl)
1247  02AC  EB          	ex	de,hl
1248  02AD  C6 FF       	add	a,0xff
1249  02AF  12          	ld	(de),a
1250  02B0  79          	ld	a,c
1251  02B1  21 00 00    	ld	hl,_sprite
1252  02B4  86          	add	a, (hl)
1253  02B5  4F          	ld	c, a
1254  02B6  78          	ld	a, b
1255  02B7  CE 00       	adc	a,0x00
1256  02B9  47          	ld	b, a
1257  02BA  5E          	ld	e,(hl)
1258  02BB  16 00       	ld	d,0x00
1259  02BD  21 00 00    	ld	hl,_class
1260  02C0  19          	add	hl,de
1261  02C1  5E          	ld	e, (hl)
1262  02C2  16 00       	ld	d,0x00
1263  02C4  21 00 00    	ld	hl,_sprite_frames
1264  02C7  19          	add	hl, de
1265  02C8  5E          	ld	e, (hl)
1266  02C9  1D          	dec	e
1267  02CA  7B          	ld	a, e
1268  02CB  02          	ld	(bc), a
1269  02CC  2A 00 00    	ld	hl,(_sprite)
1270  02CF  26 00       	ld	h,0x00
1271  02D1  01 00 00    	ld	bc,_col
1272  02D4  09          	add	hl,bc
1273  02D5  7E          	ld	a,(hl)
1274  02D6  3C          	inc	a
1275  02D7  20 2D       	jr	NZ,l_spr_move_left_00117
1276  02D9  3A 00 00    	ld	a,(_sprite)
1277  02DC  D6 07       	sub	a,0x07
1278  02DE  4D          	ld	c,l
1279  02DF  44          	ld	b,h
1280  02E0  20 1C       	jr	NZ,l_spr_move_left_00112
1281  02E2  CD 23 03    	call	_spr_page_left
1282  02E5  3A 00 00    	ld	a,(_sprite)
1283  02E8  C6 00       	add	a,+((_col) & 0xFF)
1284  02EA  4D          	ld	c,l
1285  02EB  5F          	ld	e,a
1286  02EC  3E 00       	ld	a,+((_col) / 256)
1287  02EE  CE 00       	adc	a,0x00
1288  02F0  57          	ld	d,a
1289  02F1  79          	ld	a, c
1290  02F2  B7          	or	a, a
1291  02F3  28 05       	jr	Z,l_spr_move_left_00109
1292  02F5  3E 1E       	ld	a,0x1e
1293  02F7  12          	ld	(de), a
1294  02F8  18 0C       	jr	l_spr_move_left_00117
1295  02FA              l_spr_move_left_00109:
1296  02FA  AF          	xor	a, a
1297  02FB  12          	ld	(de), a
1298  02FC  18 08       	jr	l_spr_move_left_00117
1299  02FE              l_spr_move_left_00112:
1300  02FE  AF          	xor	a, a
1301  02FF  02          	ld	(bc), a
1302  0300  2A 00 00    	ld	hl,(_sprite)
1303  0303  CD 38 05    	call	_spr_destroy
1304  0306              l_spr_move_left_00117:
1305  0306  2E 00       	ld	l,0x00
1306  0308              l_spr_move_left_00118:
1307  0308  C9          	ret
1308  0309              	SECTION code_compiler
1309  0309              ;	---------------------------------
1310  0309              ; Function spr_page_right
1311  0309              ; ---------------------------------
1312  0309              _spr_page_right:
1313  0309  3A 00 00    	ld	a,(_scr_curr)
1314  030C  21 00 00    	ld	hl,_map_width
1315  030F  96          	sub	a, (hl)
1316  0310  30 0E       	jr	NC,l_spr_page_right_00102
1317  0312  21 00 00    	ld	hl,_scr_curr
1318  0315  34          	inc	(hl)
1319  0316  CD 4A 03    	call	_spr_page_map
1320  0319  CD 00 00    	call	_game_draw_screen
1321  031C  2E 01       	ld	l,0x01
1322  031E  18 02       	jr	l_spr_page_right_00103
1323  0320              l_spr_page_right_00102:
1324  0320  2E 00       	ld	l,0x00
1325  0322              l_spr_page_right_00103:
1326  0322  C9          	ret
1327  0323              	SECTION code_compiler
1328  0323              ;	---------------------------------
1329  0323              ; Function spr_page_left
1330  0323              ; ---------------------------------
1331  0323              _spr_page_left:
1332  0323  2A 00 00    	ld	hl,(_sprite)
1333  0326  26 00       	ld	h,0x00
1334  0328  01 00 00    	ld	bc,_class
1335  032B  09          	add	hl,bc
1336  032C  7E          	ld	a,(hl)
1337  032D  D6 10       	sub	a,0x10
1338  032F  28 04       	jr	Z,l_spr_page_left_00102
1339  0331  2E 00       	ld	l,0x00
1340  0333  18 14       	jr	l_spr_page_left_00105
1341  0335              l_spr_page_left_00102:
1342  0335  21 00 00    	ld	hl,_scr_curr
1343  0338  7E          	ld	a, (hl)
1344  0339  B7          	or	a, a
1345  033A  28 0B       	jr	Z,l_spr_page_left_00104
1346  033C  35          	dec	(hl)
1347  033D  CD 4A 03    	call	_spr_page_map
1348  0340  CD 00 00    	call	_game_draw_screen
1349  0343  2E 01       	ld	l,0x01
1350  0345  18 02       	jr	l_spr_page_left_00105
1351  0347              l_spr_page_left_00104:
1352  0347  2E 00       	ld	l,0x00
1353  0349              l_spr_page_left_00105:
1354  0349  C9          	ret
1355  034A              	SECTION code_compiler
1356  034A              ;	---------------------------------
1357  034A              ; Function spr_page_map
1358  034A              ; ---------------------------------
1359  034A              _spr_page_map:
1360  034A  CD 00 00    	call	___sdcc_enter_ix
1361  034D  F5          	push	af
1362  034E  3E 10       	ld	a,0x10
1363  0350  F5          	push	af
1364  0351  33          	inc	sp
1365  0352  0E 00       	ld	c,0x00
1366  0354              l_spr_page_map_00123:
1367  0354  3E 07       	ld	a,0x07
1368  0356  21 00 00    	ld	hl,_scr_curr
1369  0359  96          	sub	a, (hl)
1370  035A  DA 24 04    	jp	C, l_spr_page_map_00109
1371  035D  59          	ld	e, c
1372  035E  16 00       	ld	d,0x00
1373  0360  13          	inc	de
1374  0361  D5          	push	de
1375  0362  5E          	ld	e, (hl)
1376  0363  16 00       	ld	d,0x00
1377  0365  21 6D 03    	ld	hl,l_spr_page_map_00167
1378  0368  19          	add	hl, de
1379  0369  19          	add	hl, de
1380  036A  19          	add	hl, de
1381  036B  D1          	pop	de
1382  036C  E9          	jp	(hl)
1383  036D              l_spr_page_map_00167:
1384  036D  C3 85 03    	jp	l_spr_page_map_00101
1385  0370  C3 9A 03    	jp	l_spr_page_map_00102
1386  0373  C3 AE 03    	jp	l_spr_page_map_00103
1387  0376  C3 C2 03    	jp	l_spr_page_map_00104
1388  0379  C3 D6 03    	jp	l_spr_page_map_00105
1389  037C  C3 EA 03    	jp	l_spr_page_map_00106
1390  037F  C3 FE 03    	jp	l_spr_page_map_00107
1391  0382  C3 12 04    	jp	l_spr_page_map_00108
1392  0385              l_spr_page_map_00101:
1393  0385  06 00       	ld	b,0x00
1394  0387  21 00 00    	ld	hl,_scr_0
1395  038A  09          	add	hl, bc
1396  038B  7E          	ld	a, (hl)
1397  038C  DD 77 FF    	ld	(ix-1),a
1398  038F  21 00 00    	ld	hl,_scr_0
1399  0392  19          	add	hl, de
1400  0393  7E          	ld	a, (hl)
1401  0394  DD 77 FE    	ld	(ix-2),a
1402  0397  C3 24 04    	jp	l_spr_page_map_00109
1403  039A              l_spr_page_map_00102:
1404  039A  06 00       	ld	b,0x00
1405  039C  21 00 00    	ld	hl,_scr_1
1406  039F  09          	add	hl, bc
1407  03A0  7E          	ld	a, (hl)
1408  03A1  DD 77 FF    	ld	(ix-1),a
1409  03A4  21 00 00    	ld	hl,_scr_1
1410  03A7  19          	add	hl, de
1411  03A8  7E          	ld	a, (hl)
1412  03A9  DD 77 FE    	ld	(ix-2),a
1413  03AC  18 76       	jr	l_spr_page_map_00109
1414  03AE              l_spr_page_map_00103:
1415  03AE  06 00       	ld	b,0x00
1416  03B0  21 00 00    	ld	hl,_scr_2
1417  03B3  09          	add	hl, bc
1418  03B4  7E          	ld	a, (hl)
1419  03B5  DD 77 FF    	ld	(ix-1),a
1420  03B8  21 00 00    	ld	hl,_scr_2
1421  03BB  19          	add	hl, de
1422  03BC  7E          	ld	a, (hl)
1423  03BD  DD 77 FE    	ld	(ix-2),a
1424  03C0  18 62       	jr	l_spr_page_map_00109
1425  03C2              l_spr_page_map_00104:
1426  03C2  06 00       	ld	b,0x00
1427  03C4  21 00 00    	ld	hl,_scr_3
1428  03C7  09          	add	hl, bc
1429  03C8  7E          	ld	a, (hl)
1430  03C9  DD 77 FF    	ld	(ix-1),a
1431  03CC  21 00 00    	ld	hl,_scr_3
1432  03CF  19          	add	hl, de
1433  03D0  7E          	ld	a, (hl)
1434  03D1  DD 77 FE    	ld	(ix-2),a
1435  03D4  18 4E       	jr	l_spr_page_map_00109
1436  03D6              l_spr_page_map_00105:
1437  03D6  06 00       	ld	b,0x00
1438  03D8  21 00 00    	ld	hl,_scr_4
1439  03DB  09          	add	hl, bc
1440  03DC  7E          	ld	a, (hl)
1441  03DD  DD 77 FF    	ld	(ix-1),a
1442  03E0  21 00 00    	ld	hl,_scr_4
1443  03E3  19          	add	hl, de
1444  03E4  7E          	ld	a, (hl)
1445  03E5  DD 77 FE    	ld	(ix-2),a
1446  03E8  18 3A       	jr	l_spr_page_map_00109
1447  03EA              l_spr_page_map_00106:
1448  03EA  06 00       	ld	b,0x00
1449  03EC  21 00 00    	ld	hl,_scr_5
1450  03EF  09          	add	hl, bc
1451  03F0  7E          	ld	a, (hl)
1452  03F1  DD 77 FF    	ld	(ix-1),a
1453  03F4  21 00 00    	ld	hl,_scr_5
1454  03F7  19          	add	hl, de
1455  03F8  7E          	ld	a, (hl)
1456  03F9  DD 77 FE    	ld	(ix-2),a
1457  03FC  18 26       	jr	l_spr_page_map_00109
1458  03FE              l_spr_page_map_00107:
1459  03FE  06 00       	ld	b,0x00
1460  0400  21 00 00    	ld	hl,_scr_6
1461  0403  09          	add	hl, bc
1462  0404  7E          	ld	a, (hl)
1463  0405  DD 77 FF    	ld	(ix-1),a
1464  0408  21 00 00    	ld	hl,_scr_6
1465  040B  19          	add	hl, de
1466  040C  7E          	ld	a, (hl)
1467  040D  DD 77 FE    	ld	(ix-2),a
1468  0410  18 12       	jr	l_spr_page_map_00109
1469  0412              l_spr_page_map_00108:
1470  0412  06 00       	ld	b,0x00
1471  0414  21 00 00    	ld	hl,_scr_7
1472  0417  09          	add	hl, bc
1473  0418  7E          	ld	a, (hl)
1474  0419  DD 77 FF    	ld	(ix-1),a
1475  041C  21 00 00    	ld	hl,_scr_7
1476  041F  19          	add	hl, de
1477  0420  7E          	ld	a, (hl)
1478  0421  DD 77 FE    	ld	(ix-2),a
1479  0424              l_spr_page_map_00109:
1480  0424  DD 7E FF    	ld	a,(ix-1)
1481  0427  D6 80       	sub	a,0x80
1482  0429  30 14       	jr	NC,l_spr_page_map_00114
1483  042B  3E 00       	ld	a, +((_scr_map) & 0xFF)
1484  042D  DD 86 FD    	add	a,(ix-3)
1485  0430  5F          	ld	e, a
1486  0431  3E 00       	ld	a, +((_scr_map) / 256)
1487  0433  CE 00       	adc	a,0x00
1488  0435  57          	ld	d, a
1489  0436  DD 7E FF    	ld	a,(ix-1)
1490  0439  12          	ld	(de), a
1491  043A  DD 34 FD    	inc	(ix-3)
1492  043D  18 29       	jr	l_spr_page_map_00115
1493  043F              l_spr_page_map_00114:
1494  043F  DD 7E FF    	ld	a,(ix-1)
1495  0442  C6 80       	add	a,0x80
1496  0444  47          	ld	b, a
1497  0445  DD 5E FD    	ld	e,(ix-3)
1498  0448  16 00       	ld	d,0x00
1499  044A              l_spr_page_map_00121:
1500  044A  7A          	ld	a, d
1501  044B  90          	sub	a, b
1502  044C  30 16       	jr	NC,l_spr_page_map_00138
1503  044E  3E 00       	ld	a, +((_scr_map) & 0xFF)
1504  0450  83          	add	a, e
1505  0451  6F          	ld	l, a
1506  0452  3E 00       	ld	a, +((_scr_map) / 256)
1507  0454  CE 00       	adc	a,0x00
1508  0456  67          	ld	h, a
1509  0457  DD 7E FE    	ld	a,(ix-2)
1510  045A  77          	ld	(hl), a
1511  045B  1C          	inc	e
1512  045C  7B          	ld	a, e
1513  045D  D6 A0       	sub	a,0xa0
1514  045F  30 03       	jr	NC,l_spr_page_map_00138
1515  0461  14          	inc	d
1516  0462  18 E6       	jr	l_spr_page_map_00121
1517  0464              l_spr_page_map_00138:
1518  0464  DD 73 FD    	ld	(ix-3),e
1519  0467  0C          	inc	c
1520  0468              l_spr_page_map_00115:
1521  0468  DD 7E FD    	ld	a,(ix-3)
1522  046B  D6 A0       	sub	a,0xa0
1523  046D  30 07       	jr	NC,l_spr_page_map_00136
1524  046F  0C          	inc	c
1525  0470  79          	ld	a, c
1526  0471  D6 A0       	sub	a,0xa0
1527  0473  DA 54 03    	jp	C, l_spr_page_map_00123
1528  0476              l_spr_page_map_00136:
1529  0476  0E 00       	ld	c,0x00
1530  0478              l_spr_page_map_00125:
1531  0478  06 00       	ld	b,0x00
1532  047A  21 00 00    	ld	hl,_class
1533  047D  09          	add	hl, bc
1534  047E  36 00       	ld	(hl),0x00
1535  0480  C5          	push	bc
1536  0481  21 00 00    	ld	hl,0x0000
1537  0484  E5          	push	hl
1538  0485  AF          	xor	a, a
1539  0486  F5          	push	af
1540  0487  33          	inc	sp
1541  0488  79          	ld	a, c
1542  0489  F5          	push	af
1543  048A  33          	inc	sp
1544  048B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1545  048E  C1          	pop	bc
1546  048F  0C          	inc	c
1547  0490  79          	ld	a, c
1548  0491  D6 07       	sub	a,0x07
1549  0493  38 E3       	jr	C,l_spr_page_map_00125
1550  0495  CD B2 09    	call	_spr_init_anim_bullets
1551  0498  DD F9       	ld	sp, ix
1552  049A  DD E1       	pop	ix
1553  049C  C9          	ret
1554  049D              	SECTION code_compiler
1555  049D              ;	---------------------------------
1556  049D              ; Function spr_redraw
1557  049D              ; ---------------------------------
1558  049D              _spr_redraw:
1559  049D  2A 00 00    	ld	hl,(_sprite)
1560  04A0  26 00       	ld	h,0x00
1561  04A2  01 00 00    	ld	bc,_tile
1562  04A5  09          	add	hl,bc
1563  04A6  4E          	ld	c, (hl)
1564  04A7  3A 00 00    	ld	a,(_sprite)
1565  04AA  5F          	ld	e,a
1566  04AB  16 00       	ld	d,0x00
1567  04AD  21 00 00    	ld	hl,_colint
1568  04B0  19          	add	hl,de
1569  04B1  7E          	ld	a,(hl)
1570  04B2  81          	add	a,c
1571  04B3  32 00 00    	ld	(_s_tile1),a
1572  04B6  2A 00 00    	ld	hl,(_sprite)
1573  04B9  26 00       	ld	h,0x00
1574  04BB  01 00 00    	ld	bc,_col
1575  04BE  09          	add	hl,bc
1576  04BF  7E          	ld	a,(hl)
1577  04C0  32 00 00    	ld	(_s_col1),a
1578  04C3  2A 00 00    	ld	hl,(_sprite)
1579  04C6  26 00       	ld	h,0x00
1580  04C8  01 00 00    	ld	bc,_lin
1581  04CB  09          	add	hl,bc
1582  04CC  7E          	ld	a,(hl)
1583  04CD  21 00 00    	ld	hl,_s_lin1
1584  04D0  77          	ld	(hl),a
1585  04D1  4F          	ld	c,a
1586  04D2  7E          	ld	a, (hl)
1587  04D3  21 00 00    	ld	hl,_s_lin0
1588  04D6  96          	sub	a, (hl)
1589  04D7  20 09       	jr	NZ,l_spr_redraw_00108
1590  04D9  3A 00 00    	ld	a,(_s_col1)
1591  04DC  21 00 00    	ld	hl,_s_col0
1592  04DF  96          	sub	a, (hl)
1593  04E0  28 33       	jr	Z,l_spr_redraw_00109
1594  04E2              l_spr_redraw_00108:
1595  04E2  3A 00 00    	ld	a,(_sprite)
1596  04E5  D6 07       	sub	a,0x07
1597  04E7  20 12       	jr	NZ,l_spr_redraw_00105
1598  04E9  3A 00 00    	ld	a,(_player_over_stair)
1599  04EC  B7          	or	a, a
1600  04ED  28 0C       	jr	Z,l_spr_redraw_00105
1601  04EF  79          	ld	a, c
1602  04F0  E6 03       	and	a,0x03
1603  04F2  20 07       	jr	NZ,l_spr_redraw_00105
1604  04F4  21 00 00    	ld	hl,_s_tile1
1605  04F7  34          	inc	(hl)
1606  04F8  34          	inc	(hl)
1607  04F9  34          	inc	(hl)
1608  04FA  34          	inc	(hl)
1609  04FB              l_spr_redraw_00105:
1610  04FB  2A FF FF    	ld	hl,(_s_col1 - 1)
1611  04FE  3A 00 00    	ld	a,(_s_lin1)
1612  0501  6F          	ld	l,a
1613  0502  E5          	push	hl
1614  0503  2A FF FF    	ld	hl,(_s_tile1 - 1)
1615  0506  3A 00 00    	ld	a,(_sprite)
1616  0509  6F          	ld	l,a
1617  050A  E5          	push	hl
1618  050B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1619  050E  CD 2D 08    	call	_spr_back_repaint
1620  0511  2E 01       	ld	l,0x01
1621  0513  18 22       	jr	l_spr_redraw_00112
1622  0515              l_spr_redraw_00109:
1623  0515  3A 00 00    	ld	a,(_s_tile1)
1624  0518  21 00 00    	ld	hl,_s_tile0
1625  051B  96          	sub	a, (hl)
1626  051C  28 17       	jr	Z,l_spr_redraw_00110
1627  051E  2A FF FF    	ld	hl,(_s_col1 - 1)
1628  0521  3A 00 00    	ld	a,(_s_lin1)
1629  0524  6F          	ld	l,a
1630  0525  E5          	push	hl
1631  0526  2A FF FF    	ld	hl,(_s_tile1 - 1)
1632  0529  3A 00 00    	ld	a,(_sprite)
1633  052C  6F          	ld	l,a
1634  052D  E5          	push	hl
1635  052E  CD 00 00    	call	_NIRVANAP_spriteT_callee
1636  0531  2E 00       	ld	l,0x00
1637  0533  18 02       	jr	l_spr_redraw_00112
1638  0535              l_spr_redraw_00110:
1639  0535  2E 00       	ld	l,0x00
1640  0537              l_spr_redraw_00112:
1641  0537  C9          	ret
1642  0538              	SECTION code_compiler
1643  0538              ;	---------------------------------
1644  0538              ; Function spr_destroy
1645  0538              ; ---------------------------------
1646  0538              _spr_destroy:
1647  0538  CD 00 00    	call	___sdcc_enter_ix
1648  053B  F5          	push	af
1649  053C  4D          	ld	c, l
1650  053D  21 00 00    	ld	hl,_spr_count
1651  0540  35          	dec	(hl)
1652  0541  3E 00       	ld	a, +((_lin) & 0xFF)
1653  0543  81          	add	a, c
1654  0544  DD 77 FE    	ld	(ix-2),a
1655  0547  3E 00       	ld	a, +((_lin) / 256)
1656  0549  CE 00       	adc	a,0x00
1657  054B  DD 77 FF    	ld	(ix-1),a
1658  054E  E1          	pop	hl
1659  054F  7E          	ld	a,(hl)
1660  0550  E5          	push	hl
1661  0551  32 00 00    	ld	(_s_lin0),a
1662  0554  3E 00       	ld	a, +((_col) & 0xFF)
1663  0556  81          	add	a, c
1664  0557  5F          	ld	e, a
1665  0558  3E 00       	ld	a, +((_col) / 256)
1666  055A  CE 00       	adc	a,0x00
1667  055C  57          	ld	d, a
1668  055D  1A          	ld	a, (de)
1669  055E  32 00 00    	ld	(_s_col0),a
1670  0561  C5          	push	bc
1671  0562  D5          	push	de
1672  0563  21 00 00    	ld	hl,0x0000
1673  0566  E5          	push	hl
1674  0567  AF          	xor	a, a
1675  0568  F5          	push	af
1676  0569  33          	inc	sp
1677  056A  79          	ld	a, c
1678  056B  F5          	push	af
1679  056C  33          	inc	sp
1680  056D  CD 00 00    	call	_NIRVANAP_spriteT_callee
1681  0570  CD 2D 08    	call	_spr_back_repaint
1682  0573  D1          	pop	de
1683  0574  C1          	pop	bc
1684  0575  06 00       	ld	b,0x00
1685  0577  21 00 00    	ld	hl,_tile
1686  057A  09          	add	hl, bc
1687  057B  AF          	xor	a,a
1688  057C  77          	ld	(hl),a
1689  057D  E1          	pop	hl
1690  057E  12          	ld	(de),a
1691  057F  E5          	push	hl
1692  0580  36 00       	ld	(hl),0x00
1693  0582  11 00 00    	ld	de,_class+0
1694  0585  69          	ld	l,c
1695  0586  26 00       	ld	h,0x00
1696  0588  19          	add	hl, de
1697  0589  36 00       	ld	(hl),0x00
1698  058B  11 00 00    	ld	de,_state+0
1699  058E  69          	ld	l,c
1700  058F  26 00       	ld	h,0x00
1701  0591  19          	add	hl, de
1702  0592  36 00       	ld	(hl),0x00
1703  0594  11 00 00    	ld	de,_state_a+0
1704  0597  69          	ld	l,c
1705  0598  26 00       	ld	h,0x00
1706  059A  19          	add	hl, de
1707  059B  F1          	pop	af
1708  059C  36 00       	ld	(hl),0x00
1709  059E  DD E1       	pop	ix
1710  05A0  C9          	ret
1711  05A1              	SECTION code_compiler
1712  05A1              ;	---------------------------------
1713  05A1              ; Function spr_tile
1714  05A1              ; ---------------------------------
1715  05A1              _spr_tile:
1716  05A1  45          	ld	b,l
1717  05A2  11 00 00    	ld	de,_class+0
1718  05A5  26 00       	ld	h,0x00
1719  05A7  19          	add	hl, de
1720  05A8  5E          	ld	e, (hl)
1721  05A9  3E 09       	ld	a,0x09
1722  05AB  93          	sub	a, e
1723  05AC  DA 61 06    	jp	C, l_spr_tile_00110
1724  05AF  16 00       	ld	d,0x00
1725  05B1  21 B8 05    	ld	hl,l_spr_tile_00117
1726  05B4  19          	add	hl, de
1727  05B5  19          	add	hl, de
1728  05B6  19          	add	hl, de
1729  05B7  E9          	jp	(hl)
1730  05B8              l_spr_tile_00117:
1731  05B8  C3 61 06    	jp	l_spr_tile_00110
1732  05BB  C3 24 06    	jp	l_spr_tile_00106
1733  05BE  C3 34 06    	jp	l_spr_tile_00107
1734  05C1  C3 43 06    	jp	l_spr_tile_00108
1735  05C4  C3 52 06    	jp	l_spr_tile_00109
1736  05C7  C3 D6 05    	jp	l_spr_tile_00101
1737  05CA  C3 E6 05    	jp	l_spr_tile_00102
1738  05CD  C3 F5 05    	jp	l_spr_tile_00103
1739  05D0  C3 05 06    	jp	l_spr_tile_00104
1740  05D3  C3 14 06    	jp	l_spr_tile_00105
1741  05D6              l_spr_tile_00101:
1742  05D6  AF          	xor	a, a
1743  05D7  48          	ld	c,b
1744  05D8  47          	ld	b,a
1745  05D9  C5          	push	bc
1746  05DA  3E 84       	ld	a,0x84
1747  05DC  F5          	push	af
1748  05DD  33          	inc	sp
1749  05DE  CD 64 06    	call	_spr_tile_dir
1750  05E1  F1          	pop	af
1751  05E2  33          	inc	sp
1752  05E3  C3 63 06    	jp	l_spr_tile_00111
1753  05E6              l_spr_tile_00102:
1754  05E6  AF          	xor	a, a
1755  05E7  48          	ld	c,b
1756  05E8  47          	ld	b,a
1757  05E9  C5          	push	bc
1758  05EA  3E 88       	ld	a,0x88
1759  05EC  F5          	push	af
1760  05ED  33          	inc	sp
1761  05EE  CD 64 06    	call	_spr_tile_dir
1762  05F1  F1          	pop	af
1763  05F2  33          	inc	sp
1764  05F3  18 6E       	jr	l_spr_tile_00111
1765  05F5              l_spr_tile_00103:
1766  05F5  3E 02       	ld	a,0x02
1767  05F7  48          	ld	c,b
1768  05F8  47          	ld	b,a
1769  05F9  C5          	push	bc
1770  05FA  3E 8C       	ld	a,0x8c
1771  05FC  F5          	push	af
1772  05FD  33          	inc	sp
1773  05FE  CD 64 06    	call	_spr_tile_dir
1774  0601  F1          	pop	af
1775  0602  33          	inc	sp
1776  0603  18 5E       	jr	l_spr_tile_00111
1777  0605              l_spr_tile_00104:
1778  0605  AF          	xor	a, a
1779  0606  48          	ld	c,b
1780  0607  47          	ld	b,a
1781  0608  C5          	push	bc
1782  0609  3E 90       	ld	a,0x90
1783  060B  F5          	push	af
1784  060C  33          	inc	sp
1785  060D  CD 64 06    	call	_spr_tile_dir
1786  0610  F1          	pop	af
1787  0611  33          	inc	sp
1788  0612  18 4F       	jr	l_spr_tile_00111
1789  0614              l_spr_tile_00105:
1790  0614  3E 04       	ld	a,0x04
1791  0616  48          	ld	c,b
1792  0617  47          	ld	b,a
1793  0618  C5          	push	bc
1794  0619  3E 94       	ld	a,0x94
1795  061B  F5          	push	af
1796  061C  33          	inc	sp
1797  061D  CD 64 06    	call	_spr_tile_dir
1798  0620  F1          	pop	af
1799  0621  33          	inc	sp
1800  0622  18 3F       	jr	l_spr_tile_00111
1801  0624              l_spr_tile_00106:
1802  0624  3E 02       	ld	a,0x02
1803  0626  48          	ld	c,b
1804  0627  47          	ld	b,a
1805  0628  C5          	push	bc
1806  0629  3E 9C       	ld	a,0x9c
1807  062B  F5          	push	af
1808  062C  33          	inc	sp
1809  062D  CD 64 06    	call	_spr_tile_dir
1810  0630  F1          	pop	af
1811  0631  33          	inc	sp
1812  0632  18 2F       	jr	l_spr_tile_00111
1813  0634              l_spr_tile_00107:
1814  0634  AF          	xor	a, a
1815  0635  48          	ld	c,b
1816  0636  47          	ld	b,a
1817  0637  C5          	push	bc
1818  0638  3E A0       	ld	a,0xa0
1819  063A  F5          	push	af
1820  063B  33          	inc	sp
1821  063C  CD 64 06    	call	_spr_tile_dir
1822  063F  F1          	pop	af
1823  0640  33          	inc	sp
1824  0641  18 20       	jr	l_spr_tile_00111
1825  0643              l_spr_tile_00108:
1826  0643  AF          	xor	a, a
1827  0644  48          	ld	c,b
1828  0645  47          	ld	b,a
1829  0646  C5          	push	bc
1830  0647  3E A2       	ld	a,0xa2
1831  0649  F5          	push	af
1832  064A  33          	inc	sp
1833  064B  CD 64 06    	call	_spr_tile_dir
1834  064E  F1          	pop	af
1835  064F  33          	inc	sp
1836  0650  18 11       	jr	l_spr_tile_00111
1837  0652              l_spr_tile_00109:
1838  0652  AF          	xor	a, a
1839  0653  48          	ld	c,b
1840  0654  47          	ld	b,a
1841  0655  C5          	push	bc
1842  0656  3E A4       	ld	a,0xa4
1843  0658  F5          	push	af
1844  0659  33          	inc	sp
1845  065A  CD 64 06    	call	_spr_tile_dir
1846  065D  F1          	pop	af
1847  065E  33          	inc	sp
1848  065F  18 02       	jr	l_spr_tile_00111
1849  0661              l_spr_tile_00110:
1850  0661  2E 00       	ld	l,0x00
1851  0663              l_spr_tile_00111:
1852  0663  C9          	ret
1853  0664              	SECTION code_compiler
1854  0664              ;	---------------------------------
1855  0664              ; Function spr_tile_dir
1856  0664              ; ---------------------------------
1857  0664              _spr_tile_dir:
1858  0664  CD 00 00    	call	___sdcc_enter_ix
1859  0667  3E 00       	ld	a, +((_state) & 0xFF)
1860  0669  DD 86 05    	add	a,(ix+5)
1861  066C  4F          	ld	c, a
1862  066D  3E 00       	ld	a, +((_state) / 256)
1863  066F  CE 00       	adc	a,0x00
1864  0671  47          	ld	b, a
1865  0672  0A          	ld	a, (bc)
1866  0673  4F          	ld	c,a
1867  0674  CB 57       	bit	2,a
1868  0676  28 05       	jr	Z,l_spr_tile_dir_00102
1869  0678  DD 6E 04    	ld	l,(ix+4)
1870  067B  18 2D       	jr	l_spr_tile_dir_00109
1871  067D              l_spr_tile_dir_00102:
1872  067D  DD 7E 04    	ld	a,(ix+4)
1873  0680  DD 86 06    	add	a,(ix+6)
1874  0683  47          	ld	b, a
1875  0684  CB 59       	bit	3, c
1876  0686  28 03       	jr	Z,l_spr_tile_dir_00104
1877  0688  68          	ld	l, b
1878  0689  18 1F       	jr	l_spr_tile_dir_00109
1879  068B              l_spr_tile_dir_00104:
1880  068B  3E 00       	ld	a, +((_state_a) & 0xFF)
1881  068D  DD 86 05    	add	a,(ix+5)
1882  0690  5F          	ld	e, a
1883  0691  3E 00       	ld	a, +((_state_a) / 256)
1884  0693  CE 00       	adc	a,0x00
1885  0695  57          	ld	d, a
1886  0696  1A          	ld	a, (de)
1887  0697  CB 67       	bit	4, a
1888  0699  28 05       	jr	Z,l_spr_tile_dir_00106
1889  069B  DD 6E 04    	ld	l,(ix+4)
1890  069E  18 0A       	jr	l_spr_tile_dir_00109
1891  06A0              l_spr_tile_dir_00106:
1892  06A0  CB 5F       	bit	3, a
1893  06A2  28 03       	jr	Z,l_spr_tile_dir_00108
1894  06A4  68          	ld	l, b
1895  06A5  18 03       	jr	l_spr_tile_dir_00109
1896  06A7              l_spr_tile_dir_00108:
1897  06A7  DD 6E 04    	ld	l,(ix+4)
1898  06AA              l_spr_tile_dir_00109:
1899  06AA  DD E1       	pop	ix
1900  06AC  C9          	ret
1901  06AD              	SECTION code_compiler
1902  06AD              ;	---------------------------------
1903  06AD              ; Function spr_draw_clear
1904  06AD              ; ---------------------------------
1905  06AD              _spr_draw_clear:
1906  06AD  F3          	di
1907  06AE  2E 00       	ld	l,0x00
1908  06B0  CD 00 00    	call	_zx_cls_fastcall
1909  06B3  21 00 00    	ld	hl,_s_lin1
1910  06B6  36 10       	ld	(hl),0x10
1911  06B8              l_spr_draw_clear_00105:
1912  06B8  21 00 00    	ld	hl,_s_col1
1913  06BB  36 00       	ld	(hl),0x00
1914  06BD              l_spr_draw_clear_00103:
1915  06BD  2A FF FF    	ld	hl,(_s_col1 - 1)
1916  06C0  3A 00 00    	ld	a,(_s_lin1)
1917  06C3  6F          	ld	l,a
1918  06C4  E5          	push	hl
1919  06C5  AF          	xor	a, a
1920  06C6  F5          	push	af
1921  06C7  33          	inc	sp
1922  06C8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1923  06CB  21 00 00    	ld	hl,_s_col1
1924  06CE  7E          	ld	a,(hl)
1925  06CF  C6 02       	add	a,0x02
1926  06D1  77          	ld	(hl),a
1927  06D2  D6 20       	sub	a,0x20
1928  06D4  38 E7       	jr	C,l_spr_draw_clear_00103
1929  06D6  21 00 00    	ld	hl,_s_lin1
1930  06D9  7E          	ld	a, (hl)
1931  06DA  C6 10       	add	a,0x10
1932  06DC  77          	ld	(hl), a
1933  06DD  3E A2       	ld	a,0xa2
1934  06DF  96          	sub	a, (hl)
1935  06E0  30 D6       	jr	NC,l_spr_draw_clear_00105
1936  06E2  FB          	ei
1937  06E3  C9          	ret
1938  06E4              	SECTION code_compiler
1939  06E4              ;	---------------------------------
1940  06E4              ; Function spr_brick_anim
1941  06E4              ; ---------------------------------
1942  06E4              _spr_brick_anim:
1943  06E4  CD 00 00    	call	___sdcc_enter_ix
1944  06E7  F5          	push	af
1945  06E8  DD 75 FF    	ld	(ix-1),l
1946  06EB  21 00 00    	ld	hl,_player_hit_col
1947  06EE  46          	ld	b, (hl)
1948  06EF  21 00 00    	ld	hl,_player_hit_lin
1949  06F2  4E          	ld	c, (hl)
1950  06F3  C5          	push	bc
1951  06F4  C5          	push	bc
1952  06F5  CD 00 00    	call	_spr_calc_index
1953  06F8  F1          	pop	af
1954  06F9  C1          	pop	bc
1955  06FA  22 00 00    	ld	(_index1),hl
1956  06FD  11 F0 FF    	ld	de,0xfff0
1957  0700  19          	add	hl,de
1958  0701  11 00 00    	ld	de,_scr_map
1959  0704  19          	add	hl, de
1960  0705  7E          	ld	a, (hl)
1961  0706  DD 77 FE    	ld	(ix-2),a
1962  0709  11 00 00    	ld	de,_scr_map
1963  070C  2A 00 00    	ld	hl,(_index1)
1964  070F  19          	add	hl,de
1965  0710  66          	ld	h, (hl)
1966  0711  EB          	ex	de,hl
1967  0712  DD 7E FF    	ld	a,(ix-1)
1968  0715  B7          	or	a, a
1969  0716  28 08       	jr	Z,l_spr_brick_anim_00102
1970  0718  79          	ld	a, c
1971  0719  C6 F6       	add	a,0xf6
1972  071B  32 00 00    	ld	(_tmp),a
1973  071E  18 06       	jr	l_spr_brick_anim_00103
1974  0720              l_spr_brick_anim_00102:
1975  0720  79          	ld	a, c
1976  0721  C6 F8       	add	a,0xf8
1977  0723  32 00 00    	ld	(_tmp),a
1978  0726              l_spr_brick_anim_00103:
1979  0726  F3          	di
1980  0727  DD 7E FF    	ld	a,(ix-1)
1981  072A  B7          	or	a, a
1982  072B  28 18       	jr	Z,l_spr_brick_anim_00105
1983  072D  C5          	push	bc
1984  072E  D5          	push	de
1985  072F  C5          	push	bc
1986  0730  33          	inc	sp
1987  0731  51          	ld	d,c
1988  0732  1E 49       	ld	e,0x49
1989  0734  D5          	push	de
1990  0735  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1991  0738  D1          	pop	de
1992  0739  33          	inc	sp
1993  073A  3A 00 00    	ld	a,(_tmp)
1994  073D  5A          	ld	e,d
1995  073E  57          	ld	d,a
1996  073F  D5          	push	de
1997  0740  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1998  0743  18 1C       	jr	l_spr_brick_anim_00106
1999  0745              l_spr_brick_anim_00105:
2000  0745  3A 00 00    	ld	a,(_tmp)
2001  0748  C6 F0       	add	a,0xf0
2002  074A  C5          	push	bc
2003  074B  D5          	push	de
2004  074C  4F          	ld	c,a
2005  074D  C5          	push	bc
2006  074E  DD 7E FE    	ld	a,(ix-2)
2007  0751  F5          	push	af
2008  0752  33          	inc	sp
2009  0753  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2010  0756  D1          	pop	de
2011  0757  33          	inc	sp
2012  0758  3A 00 00    	ld	a,(_tmp)
2013  075B  5A          	ld	e,d
2014  075C  57          	ld	d,a
2015  075D  D5          	push	de
2016  075E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2017  0761              l_spr_brick_anim_00106:
2018  0761  FB          	ei
2019  0762  F1          	pop	af
2020  0763  DD E1       	pop	ix
2021  0765  C9          	ret
2022  0766              	SECTION code_compiler
2023  0766              ;	---------------------------------
2024  0766              ; Function spr_draw_index
2025  0766              ; ---------------------------------
2026  0766              _spr_draw_index:
2027  0766  CD 00 00    	call	___sdcc_enter_ix
2028  0769  DD 7E 04    	ld	a,(ix+4)
2029  076C  E6 1F       	and	a,0x1f
2030  076E  32 00 00    	ld	(_s_col1),a
2031  0771  DD 4E 04    	ld	c,(ix+4)
2032  0774  DD 5E 05    	ld	e,(ix+5)
2033  0777  06 05       	ld	b,0x05
2034  0779  79          	ld	a,c
2035  077A              l_spr_draw_index_00103:
2036  077A  CB 3B       	srl	e
2037  077C  1F          	rra
2038  077D  10 FB       	djnz	l_spr_draw_index_00103
2039  077F  21 00 00    	ld	hl,_s_lin1
2040  0782  77          	ld	(hl),a
2041  0783  07          	rlca
2042  0784  07          	rlca
2043  0785  07          	rlca
2044  0786  E6 F8       	and	a,0xf8
2045  0788  77          	ld	(hl), a
2046  0789  3E 00       	ld	a, +((_scr_map) & 0xFF)
2047  078B  DD 86 04    	add	a,(ix+4)
2048  078E  4F          	ld	c, a
2049  078F  3E 00       	ld	a, +((_scr_map) / 256)
2050  0791  DD 8E 05    	adc	a,(ix+5)
2051  0794  47          	ld	b, a
2052  0795  0A          	ld	a, (bc)
2053  0796  47          	ld	b, a
2054  0797  3A 00 00    	ld	a,(_s_col1)
2055  079A  F5          	push	af
2056  079B  33          	inc	sp
2057  079C  3A 00 00    	ld	a,(_s_lin1)
2058  079F  48          	ld	c,b
2059  07A0  47          	ld	b,a
2060  07A1  C5          	push	bc
2061  07A2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2062  07A5  DD E1       	pop	ix
2063  07A7  C9          	ret
2064  07A8              	SECTION code_compiler
2065  07A8              ;	---------------------------------
2066  07A8              ; Function spr_draw_row
2067  07A8              ; ---------------------------------
2068  07A8              _spr_draw_row:
2069  07A8  CD 00 00    	call	___sdcc_enter_ix
2070  07AB  3B          	dec	sp
2071  07AC  F3          	di
2072  07AD  21 00 00    	ld	hl,_tmp
2073  07B0  36 00       	ld	(hl),0x00
2074  07B2  DD 7E 04    	ld	a,(ix+4)
2075  07B5  07          	rlca
2076  07B6  07          	rlca
2077  07B7  07          	rlca
2078  07B8  E6 F8       	and	a,0xf8
2079  07BA  DD 77 FF    	ld	(ix-1),a
2080  07BD              l_spr_draw_row_00101:
2081  07BD  21 00 00    	ld	hl,_tmp
2082  07C0  7E          	ld	a, (hl)
2083  07C1  D6 20       	sub	a,0x20
2084  07C3  30 38       	jr	NC,l_spr_draw_row_00103
2085  07C5  DD 4E 04    	ld	c,(ix+4)
2086  07C8  3E 00       	ld	a,0x00
2087  07CA  CB 21       	sla	c
2088  07CC  17          	rla
2089  07CD  CB 21       	sla	c
2090  07CF  17          	rla
2091  07D0  CB 21       	sla	c
2092  07D2  17          	rla
2093  07D3  CB 21       	sla	c
2094  07D5  17          	rla
2095  07D6  CB 21       	sla	c
2096  07D8  17          	rla
2097  07D9  47          	ld	b,a
2098  07DA  5E          	ld	e, (hl)
2099  07DB  16 00       	ld	d,0x00
2100  07DD  79          	ld	a, c
2101  07DE  83          	add	a, e
2102  07DF  21 00 00    	ld	hl,_index1
2103  07E2  77          	ld	(hl), a
2104  07E3  78          	ld	a, b
2105  07E4  8A          	adc	a, d
2106  07E5  23          	inc	hl
2107  07E6  77          	ld	(hl), a
2108  07E7  2A FF FF    	ld	hl,(_tmp-1)
2109  07EA  DD 6E FF    	ld	l,(ix-1)
2110  07ED  3A 00 00    	ld	a,(_game_brick_tile)
2111  07F0  E5          	push	hl
2112  07F1  F5          	push	af
2113  07F2  33          	inc	sp
2114  07F3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2115  07F6  21 00 00    	ld	hl,_tmp
2116  07F9  34          	inc	(hl)
2117  07FA  34          	inc	(hl)
2118  07FB  18 C0       	jr	l_spr_draw_row_00101
2119  07FD              l_spr_draw_row_00103:
2120  07FD  FB          	ei
2121  07FE  33          	inc	sp
2122  07FF  DD E1       	pop	ix
2123  0801  C9          	ret
2124  0802              	SECTION code_compiler
2125  0802              ;	---------------------------------
2126  0802              ; Function spr_calc_hor
2127  0802              ; ---------------------------------
2128  0802              _spr_calc_hor:
2129  0802  CD 00 00    	call	___sdcc_enter_ix
2130  0805  3E 00       	ld	a, +((_col) & 0xFF)
2131  0807  DD 86 04    	add	a,(ix+4)
2132  080A  4F          	ld	c, a
2133  080B  3E 00       	ld	a, +((_col) / 256)
2134  080D  CE 00       	adc	a,0x00
2135  080F  47          	ld	b, a
2136  0810  0A          	ld	a, (bc)
2137  0811  5F          	ld	e, a
2138  0812  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2139  0814  DD 86 04    	add	a,(ix+4)
2140  0817  4F          	ld	c, a
2141  0818  3E 00       	ld	a, +((_sprite_frames) / 256)
2142  081A  CE 00       	adc	a,0x00
2143  081C  47          	ld	b, a
2144  081D  0A          	ld	a, (bc)
2145  081E  67          	ld	h, a
2146  081F  2E 00       	ld	l,0x00
2147  0821  55          	ld	d, l
2148  0822  06 08       	ld	b,0x08
2149  0824              l_spr_calc_hor_00103:
2150  0824  29          	add	hl, hl
2151  0825  30 01       	jr	NC,l_spr_calc_hor_00104
2152  0827  19          	add	hl, de
2153  0828              l_spr_calc_hor_00104:
2154  0828  10 FA       	djnz	l_spr_calc_hor_00103
2155  082A  DD E1       	pop	ix
2156  082C  C9          	ret
2157  082D              	SECTION code_compiler
2158  082D              ;	---------------------------------
2159  082D              ; Function spr_back_repaint
2160  082D              ; ---------------------------------
2161  082D              _spr_back_repaint:
2162  082D  76          	halt
2163  082E  F3          	di
2164  082F  2A FF FF    	ld	hl,(_s_col0 - 1)
2165  0832  3A 00 00    	ld	a,(_s_lin0)
2166  0835  6F          	ld	l,a
2167  0836  E5          	push	hl
2168  0837  CD 00 00    	call	_spr_calc_index
2169  083A  F1          	pop	af
2170  083B  7D          	ld	a,l
2171  083C  32 00 00    	ld	(_sprite_curr_index),a
2172  083F  21 00 00    	ld	hl,_s_lin0
2173  0842  7E          	ld	a, (hl)
2174  0843  E6 0F       	and	a,0x0f
2175  0845  4F          	ld	c, a
2176  0846  7E          	ld	a, (hl)
2177  0847  07          	rlca
2178  0848  07          	rlca
2179  0849  07          	rlca
2180  084A  07          	rlca
2181  084B  E6 0F       	and	a,0x0f
2182  084D  47          	ld	b, a
2183  084E  21 00 00    	ld	hl,_s_col0
2184  0851  CB 46       	bit	0, (hl)
2185  0853  20 66       	jr	NZ,l_spr_back_repaint_00108
2186  0855  79          	ld	a, c
2187  0856  B7          	or	a, a
2188  0857  20 1D       	jr	NZ,l_spr_back_repaint_00102
2189  0859  2A 00 00    	ld	hl,(_sprite_curr_index)
2190  085C  26 00       	ld	h,0x00
2191  085E  01 00 00    	ld	bc,_scr_map
2192  0861  09          	add	hl,bc
2193  0862  46          	ld	b,(hl)
2194  0863  3A 00 00    	ld	a,(_s_col0)
2195  0866  F5          	push	af
2196  0867  33          	inc	sp
2197  0868  3A 00 00    	ld	a,(_s_lin0)
2198  086B  48          	ld	c,b
2199  086C  47          	ld	b,a
2200  086D  C5          	push	bc
2201  086E  CD 82 09    	call	_spr_tile_paint
2202  0871  F1          	pop	af
2203  0872  33          	inc	sp
2204  0873  C3 80 09    	jp	l_spr_back_repaint_00109
2205  0876              l_spr_back_repaint_00102:
2206  0876  78          	ld	a, b
2207  0877  07          	rlca
2208  0878  07          	rlca
2209  0879  07          	rlca
2210  087A  07          	rlca
2211  087B  E6 F0       	and	a,0xf0
2212  087D  47          	ld	b, a
2213  087E  2A 00 00    	ld	hl,(_sprite_curr_index)
2214  0881  26 00       	ld	h,0x00
2215  0883  11 00 00    	ld	de,_scr_map
2216  0886  19          	add	hl,de
2217  0887  56          	ld	d, (hl)
2218  0888  3A 00 00    	ld	a,(_s_col0)
2219  088B  C5          	push	bc
2220  088C  F5          	push	af
2221  088D  33          	inc	sp
2222  088E  4A          	ld	c, d
2223  088F  C5          	push	bc
2224  0890  CD 82 09    	call	_spr_tile_paint
2225  0893  F1          	pop	af
2226  0894  33          	inc	sp
2227  0895  C1          	pop	bc
2228  0896  78          	ld	a, b
2229  0897  C6 10       	add	a,0x10
2230  0899  57          	ld	d, a
2231  089A  21 00 00    	ld	hl,_sprite_curr_index
2232  089D  7E          	ld	a, (hl)
2233  089E  C6 10       	add	a,0x10
2234  08A0  77          	ld	(hl), a
2235  08A1  C6 00       	add	a,+((_scr_map) & 0xFF)
2236  08A3  4F          	ld	c, a
2237  08A4  3E 00       	ld	a, +((_scr_map) / 256)
2238  08A6  CE 00       	adc	a,0x00
2239  08A8  47          	ld	b, a
2240  08A9  0A          	ld	a, (bc)
2241  08AA  47          	ld	b, a
2242  08AB  3A 00 00    	ld	a,(_s_col0)
2243  08AE  5A          	ld	e,d
2244  08AF  57          	ld	d,a
2245  08B0  D5          	push	de
2246  08B1  C5          	push	bc
2247  08B2  33          	inc	sp
2248  08B3  CD 82 09    	call	_spr_tile_paint
2249  08B6  F1          	pop	af
2250  08B7  33          	inc	sp
2251  08B8  C3 80 09    	jp	l_spr_back_repaint_00109
2252  08BB              l_spr_back_repaint_00108:
2253  08BB  21 00 00    	ld	hl,_s_col0
2254  08BE  56          	ld	d, (hl)
2255  08BF  15          	dec	d
2256  08C0  79          	ld	a, c
2257  08C1  B7          	or	a, a
2258  08C2  20 3A       	jr	NZ,l_spr_back_repaint_00105
2259  08C4  2A 00 00    	ld	hl,(_sprite_curr_index)
2260  08C7  26 00       	ld	h,0x00
2261  08C9  01 00 00    	ld	bc,_scr_map
2262  08CC  09          	add	hl,bc
2263  08CD  46          	ld	b,(hl)
2264  08CE  D5          	push	de
2265  08CF  33          	inc	sp
2266  08D0  3A 00 00    	ld	a,(_s_lin0)
2267  08D3  48          	ld	c,b
2268  08D4  47          	ld	b,a
2269  08D5  C5          	push	bc
2270  08D6  CD 82 09    	call	_spr_tile_paint
2271  08D9  F1          	pop	af
2272  08DA  33          	inc	sp
2273  08DB  21 00 00    	ld	hl,_sprite_curr_index
2274  08DE  34          	inc	(hl)
2275  08DF  21 00 00    	ld	hl,_s_col0
2276  08E2  46          	ld	b, (hl)
2277  08E3  04          	inc	b
2278  08E4  2A 00 00    	ld	hl,(_sprite_curr_index)
2279  08E7  26 00       	ld	h,0x00
2280  08E9  11 00 00    	ld	de,_scr_map
2281  08EC  19          	add	hl,de
2282  08ED  56          	ld	d, (hl)
2283  08EE  C5          	push	bc
2284  08EF  33          	inc	sp
2285  08F0  3A 00 00    	ld	a,(_s_lin0)
2286  08F3  5A          	ld	e,d
2287  08F4  57          	ld	d,a
2288  08F5  D5          	push	de
2289  08F6  CD 82 09    	call	_spr_tile_paint
2290  08F9  F1          	pop	af
2291  08FA  33          	inc	sp
2292  08FB  C3 80 09    	jp	l_spr_back_repaint_00109
2293  08FE              l_spr_back_repaint_00105:
2294  08FE  78          	ld	a, b
2295  08FF  07          	rlca
2296  0900  07          	rlca
2297  0901  07          	rlca
2298  0902  07          	rlca
2299  0903  E6 F0       	and	a,0xf0
2300  0905  47          	ld	b, a
2301  0906  3A 00 00    	ld	a,(_sprite_curr_index)
2302  0909  C6 00       	add	a,+((_scr_map) & 0xFF)
2303  090B  4F          	ld	c,a
2304  090C  3E 00       	ld	a,+((_scr_map) / 256)
2305  090E  CE 00       	adc	a,0x00
2306  0910  67          	ld	h, a
2307  0911  69          	ld	l, c
2308  0912  7E          	ld	a, (hl)
2309  0913  C5          	push	bc
2310  0914  58          	ld	e,b
2311  0915  D5          	push	de
2312  0916  F5          	push	af
2313  0917  33          	inc	sp
2314  0918  CD 82 09    	call	_spr_tile_paint
2315  091B  F1          	pop	af
2316  091C  33          	inc	sp
2317  091D  C1          	pop	bc
2318  091E  21 00 00    	ld	hl,_sprite_curr_index
2319  0921  34          	inc	(hl)
2320  0922  21 00 00    	ld	hl,_s_col0
2321  0925  4E          	ld	c, (hl)
2322  0926  0C          	inc	c
2323  0927  2A 00 00    	ld	hl,(_sprite_curr_index)
2324  092A  26 00       	ld	h,0x00
2325  092C  11 00 00    	ld	de,_scr_map
2326  092F  19          	add	hl,de
2327  0930  56          	ld	d, (hl)
2328  0931  C5          	push	bc
2329  0932  79          	ld	a, c
2330  0933  F5          	push	af
2331  0934  33          	inc	sp
2332  0935  4A          	ld	c, d
2333  0936  C5          	push	bc
2334  0937  CD 82 09    	call	_spr_tile_paint
2335  093A  F1          	pop	af
2336  093B  33          	inc	sp
2337  093C  C1          	pop	bc
2338  093D  78          	ld	a, b
2339  093E  C6 10       	add	a,0x10
2340  0940  4F          	ld	c, a
2341  0941  21 00 00    	ld	hl,_sprite_curr_index
2342  0944  7E          	ld	a, (hl)
2343  0945  C6 0F       	add	a,0x0f
2344  0947  77          	ld	(hl), a
2345  0948  FB          	ei
2346  0949  76          	halt
2347  094A  F3          	di
2348  094B  21 00 00    	ld	hl,_s_col0
2349  094E  46          	ld	b, (hl)
2350  094F  05          	dec	b
2351  0950  2A 00 00    	ld	hl,(_sprite_curr_index)
2352  0953  26 00       	ld	h,0x00
2353  0955  11 00 00    	ld	de,_scr_map
2354  0958  19          	add	hl,de
2355  0959  66          	ld	h, (hl)
2356  095A  EB          	ex	de,hl
2357  095B  C5          	push	bc
2358  095C  C5          	push	bc
2359  095D  D5          	push	de
2360  095E  33          	inc	sp
2361  095F  CD 82 09    	call	_spr_tile_paint
2362  0962  F1          	pop	af
2363  0963  33          	inc	sp
2364  0964  C1          	pop	bc
2365  0965  21 00 00    	ld	hl,_sprite_curr_index
2366  0968  34          	inc	(hl)
2367  0969  21 00 00    	ld	hl,_s_col0
2368  096C  46          	ld	b, (hl)
2369  096D  04          	inc	b
2370  096E  2A 00 00    	ld	hl,(_sprite_curr_index)
2371  0971  26 00       	ld	h,0x00
2372  0973  11 00 00    	ld	de,_scr_map
2373  0976  19          	add	hl,de
2374  0977  66          	ld	h, (hl)
2375  0978  C5          	push	bc
2376  0979  E5          	push	hl
2377  097A  33          	inc	sp
2378  097B  CD 82 09    	call	_spr_tile_paint
2379  097E  F1          	pop	af
2380  097F  33          	inc	sp
2381  0980              l_spr_back_repaint_00109:
2382  0980  FB          	ei
2383  0981  C9          	ret
2384  0982              	SECTION code_compiler
2385  0982              ;	---------------------------------
2386  0982              ; Function spr_tile_paint
2387  0982              ; ---------------------------------
2388  0982              _spr_tile_paint:
2389  0982  CD 00 00    	call	___sdcc_enter_ix
2390  0985  DD 7E 04    	ld	a,(ix+4)
2391  0988  B7          	or	a, a
2392  0989  28 05       	jr	Z,l_spr_tile_paint_00101
2393  098B  3C          	inc	a
2394  098C  28 21       	jr	Z,l_spr_tile_paint_00105
2395  098E  18 10       	jr	l_spr_tile_paint_00103
2396  0990              l_spr_tile_paint_00101:
2397  0990  DD 7E 06    	ld	a,(ix+6)
2398  0993  F5          	push	af
2399  0994  33          	inc	sp
2400  0995  DD 56 05    	ld	d,(ix+5)
2401  0998  1E 49       	ld	e,0x49
2402  099A  D5          	push	de
2403  099B  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2404  099E  18 0F       	jr	l_spr_tile_paint_00105
2405  09A0              l_spr_tile_paint_00103:
2406  09A0  DD 66 06    	ld	h,(ix+6)
2407  09A3  DD 6E 05    	ld	l,(ix+5)
2408  09A6  E5          	push	hl
2409  09A7  DD 7E 04    	ld	a,(ix+4)
2410  09AA  F5          	push	af
2411  09AB  33          	inc	sp
2412  09AC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2413  09AF              l_spr_tile_paint_00105:
2414  09AF  DD E1       	pop	ix
2415  09B1  C9          	ret
2416  09B2              	SECTION code_compiler
2417  09B2              ;	---------------------------------
2418  09B2              ; Function spr_init_anim_bullets
2419  09B2              ; ---------------------------------
2420  09B2              _spr_init_anim_bullets:
2421  09B2  01 00 00    	ld	bc,_anim_lin+0
2422  09B5  1E 00       	ld	e,0x00
2423  09B7              l_spr_init_anim_bullets_00102:
2424  09B7  6B          	ld	l,e
2425  09B8  26 00       	ld	h,0x00
2426  09BA  09          	add	hl, bc
2427  09BB  36 FF       	ld	(hl),0xff
2428  09BD  16 00       	ld	d,0x00
2429  09BF  21 00 00    	ld	hl,_bullet_col
2430  09C2  19          	add	hl, de
2431  09C3  36 FF       	ld	(hl),0xff
2432  09C5  1C          	inc	e
2433  09C6  7B          	ld	a, e
2434  09C7  D6 08       	sub	a,0x08
2435  09C9  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2436  09CB  21 00 00    	ld	hl,_bullet_count
2437  09CE  36 00       	ld	(hl),0x00
2438  09D0  21 00 00    	ld	hl,_anim_count
2439  09D3  36 00       	ld	(hl),0x00
2440  09D5  C9          	ret
2441  09D6              	SECTION code_compiler
2442  09D6              ;	---------------------------------
2443  09D6              ; Function spr_add_anim
2444  09D6              ; ---------------------------------
2445  09D6              _spr_add_anim:
2446  09D6  CD 00 00    	call	___sdcc_enter_ix
2447  09D9  F5          	push	af
2448  09DA  F5          	push	af
2449  09DB  0E 00       	ld	c,0x00
2450  09DD  51          	ld	d,c
2451  09DE              l_spr_add_anim_00106:
2452  09DE  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2453  09E0  82          	add	a, d
2454  09E1  DD 77 FE    	ld	(ix-2),a
2455  09E4  6F          	ld	l,a
2456  09E5  3E 00       	ld	a,+((_anim_lin) / 256)
2457  09E7  CE 00       	adc	a,0x00
2458  09E9  DD 77 FF    	ld	(ix-1),a
2459  09EC  67          	ld	h,a
2460  09ED  46          	ld	b, (hl)
2461  09EE  04          	inc	b
2462  09EF  20 6F       	jr	NZ,l_spr_add_anim_00107
2463  09F1  21 00 00    	ld	hl,_anim_count
2464  09F4  34          	inc	(hl)
2465  09F5  DD 6E FE    	ld	l,(ix-2)
2466  09F8  DD 66 FF    	ld	h,(ix-1)
2467  09FB  DD 7E 04    	ld	a,(ix+4)
2468  09FE  77          	ld	(hl), a
2469  09FF  3E 00       	ld	a, +((_anim_col) & 0xFF)
2470  0A01  81          	add	a, c
2471  0A02  5F          	ld	e, a
2472  0A03  3E 00       	ld	a, +((_anim_col) / 256)
2473  0A05  CE 00       	adc	a,0x00
2474  0A07  57          	ld	d, a
2475  0A08  DD 7E 05    	ld	a,(ix+5)
2476  0A0B  12          	ld	(de), a
2477  0A0C  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2478  0A0E  81          	add	a, c
2479  0A0F  DD 77 FC    	ld	(ix-4),a
2480  0A12  3E 00       	ld	a, +((_anim_tile) / 256)
2481  0A14  CE 00       	adc	a,0x00
2482  0A16  DD 77 FD    	ld	(ix-3),a
2483  0A19  E1          	pop	hl
2484  0A1A  E5          	push	hl
2485  0A1B  DD 7E 06    	ld	a,(ix+6)
2486  0A1E  77          	ld	(hl), a
2487  0A1F  06 00       	ld	b,0x00
2488  0A21  21 00 00    	ld	hl,_anim_int
2489  0A24  09          	add	hl, bc
2490  0A25  06 00       	ld	b,0x00
2491  0A27  70          	ld	(hl),b
2492  0A28  21 00 00    	ld	hl,_anim_end
2493  0A2B  09          	add	hl,bc
2494  0A2C  DD 7E 07    	ld	a,(ix+7)
2495  0A2F  77          	ld	(hl),a
2496  0A30  4D          	ld	c,l
2497  0A31  F3          	di
2498  0A32  1A          	ld	a, (de)
2499  0A33  DD 6E FE    	ld	l,(ix-2)
2500  0A36  DD 66 FF    	ld	h,(ix-1)
2501  0A39  56          	ld	d, (hl)
2502  0A3A  E1          	pop	hl
2503  0A3B  46          	ld	b,(hl)
2504  0A3C  E5          	push	hl
2505  0A3D  5A          	ld	e,d
2506  0A3E  57          	ld	d,a
2507  0A3F  D5          	push	de
2508  0A40  C5          	push	bc
2509  0A41  33          	inc	sp
2510  0A42  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2511  0A45  FB          	ei
2512  0A46  DD 66 05    	ld	h,(ix+5)
2513  0A49  DD 6E 04    	ld	l,(ix+4)
2514  0A4C  E5          	push	hl
2515  0A4D  CD 00 00    	call	_spr_calc_index
2516  0A50  F1          	pop	af
2517  0A51  22 00 00    	ld	(_index0),hl
2518  0A54  01 00 00    	ld	bc,_scr_map
2519  0A57  09          	add	hl,bc
2520  0A58  7E          	ld	a,(hl)
2521  0A59  B7          	or	a,a
2522  0A5A  20 0C       	jr	NZ,l_spr_add_anim_00108
2523  0A5C  36 FF       	ld	(hl),0xff
2524  0A5E  18 08       	jr	l_spr_add_anim_00108
2525  0A60              l_spr_add_anim_00107:
2526  0A60  14          	inc	d
2527  0A61  7A          	ld	a,d
2528  0A62  4F          	ld	c,a
2529  0A63  D6 08       	sub	a,0x08
2530  0A65  DA DE 09    	jp	C, l_spr_add_anim_00106
2531  0A68              l_spr_add_anim_00108:
2532  0A68  DD F9       	ld	sp, ix
2533  0A6A  DD E1       	pop	ix
2534  0A6C  C9          	ret
2535  0A6D              	SECTION code_compiler
2536  0A6D              ;	---------------------------------
2537  0A6D              ; Function spr_play_anim
2538  0A6D              ; ---------------------------------
2539  0A6D              _spr_play_anim:
2540  0A6D  CD 00 00    	call	___sdcc_enter_ix
2541  0A70  F5          	push	af
2542  0A71  F5          	push	af
2543  0A72  0E 00       	ld	c,0x00
2544  0A74              l_spr_play_anim_00109:
2545  0A74  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2546  0A76  81          	add	a, c
2547  0A77  DD 77 FE    	ld	(ix-2),a
2548  0A7A  6F          	ld	l,a
2549  0A7B  3E 00       	ld	a,+((_anim_lin) / 256)
2550  0A7D  CE 00       	adc	a,0x00
2551  0A7F  DD 77 FF    	ld	(ix-1),a
2552  0A82  67          	ld	h,a
2553  0A83  7E          	ld	a,(hl)
2554  0A84  5F          	ld	e,a
2555  0A85  3C          	inc	a
2556  0A86  CA 2E 0B    	jp	Z,l_spr_play_anim_00110
2557  0A89  3E 00       	ld	a, +((_anim_int) & 0xFF)
2558  0A8B  81          	add	a, c
2559  0A8C  DD 77 FC    	ld	(ix-4),a
2560  0A8F  3E 00       	ld	a, +((_anim_int) / 256)
2561  0A91  CE 00       	adc	a,0x00
2562  0A93  DD 77 FD    	ld	(ix-3),a
2563  0A96  E1          	pop	hl
2564  0A97  56          	ld	d,(hl)
2565  0A98  E5          	push	hl
2566  0A99  06 00       	ld	b,0x00
2567  0A9B  21 00 00    	ld	hl,_anim_end
2568  0A9E  09          	add	hl, bc
2569  0A9F  46          	ld	b, (hl)
2570  0AA0  7A          	ld	a, d
2571  0AA1  90          	sub	a, b
2572  0AA2  30 2F       	jr	NC,l_spr_play_anim_00104
2573  0AA4  F3          	di
2574  0AA5  06 00       	ld	b,0x00
2575  0AA7  21 00 00    	ld	hl,_anim_col
2576  0AAA  09          	add	hl, bc
2577  0AAB  5E          	ld	e, (hl)
2578  0AAC  DD 6E FE    	ld	l,(ix-2)
2579  0AAF  DD 66 FF    	ld	h,(ix-1)
2580  0AB2  56          	ld	d, (hl)
2581  0AB3  06 00       	ld	b,0x00
2582  0AB5  21 00 00    	ld	hl,_anim_tile
2583  0AB8  09          	add	hl, bc
2584  0AB9  46          	ld	b, (hl)
2585  0ABA  E1          	pop	hl
2586  0ABB  E5          	push	hl
2587  0ABC  6E          	ld	l, (hl)
2588  0ABD  78          	ld	a, b
2589  0ABE  85          	add	a, l
2590  0ABF  47          	ld	b, a
2591  0AC0  C5          	push	bc
2592  0AC1  7B          	ld	a, e
2593  0AC2  5A          	ld	e,d
2594  0AC3  57          	ld	d,a
2595  0AC4  D5          	push	de
2596  0AC5  C5          	push	bc
2597  0AC6  33          	inc	sp
2598  0AC7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2599  0ACA  C1          	pop	bc
2600  0ACB  FB          	ei
2601  0ACC  E1          	pop	hl
2602  0ACD  46          	ld	b,(hl)
2603  0ACE  04          	inc	b
2604  0ACF  E5          	push	hl
2605  0AD0  70          	ld	(hl), b
2606  0AD1  18 5B       	jr	l_spr_play_anim_00110
2607  0AD3              l_spr_play_anim_00104:
2608  0AD3  21 00 00    	ld	hl,_anim_count
2609  0AD6  35          	dec	(hl)
2610  0AD7  06 00       	ld	b,0x00
2611  0AD9  21 00 00    	ld	hl,_anim_col
2612  0ADC  09          	add	hl, bc
2613  0ADD  7E          	ld	a, (hl)
2614  0ADE  32 00 00    	ld	(_s_col0),a
2615  0AE1  21 00 00    	ld	hl,_s_lin0
2616  0AE4  73          	ld	(hl), e
2617  0AE5  3A 00 00    	ld	a,(_s_col0)
2618  0AE8  C5          	push	bc
2619  0AE9  F5          	push	af
2620  0AEA  33          	inc	sp
2621  0AEB  3A 00 00    	ld	a,(_s_lin0)
2622  0AEE  F5          	push	af
2623  0AEF  33          	inc	sp
2624  0AF0  CD 00 00    	call	_spr_calc_index
2625  0AF3  F1          	pop	af
2626  0AF4  2A FF FF    	ld	hl,(_s_col0 - 1)
2627  0AF7  3A 00 00    	ld	a,(_s_lin0)
2628  0AFA  6F          	ld	l,a
2629  0AFB  E5          	push	hl
2630  0AFC  CD 00 00    	call	_spr_calc_index
2631  0AFF  F1          	pop	af
2632  0B00  EB          	ex	de,hl
2633  0B01  C1          	pop	bc
2634  0B02  21 00 00    	ld	hl,_scr_map
2635  0B05  19          	add	hl, de
2636  0B06  46          	ld	b, (hl)
2637  0B07  04          	inc	b
2638  0B08  20 17       	jr	NZ,l_spr_play_anim_00102
2639  0B0A  3A 00 00    	ld	a,(_s_col0)
2640  0B0D  C5          	push	bc
2641  0B0E  F5          	push	af
2642  0B0F  33          	inc	sp
2643  0B10  3A 00 00    	ld	a,(_s_lin0)
2644  0B13  F5          	push	af
2645  0B14  33          	inc	sp
2646  0B15  CD 00 00    	call	_spr_calc_index
2647  0B18  F1          	pop	af
2648  0B19  EB          	ex	de,hl
2649  0B1A  C1          	pop	bc
2650  0B1B  21 00 00    	ld	hl,_scr_map
2651  0B1E  19          	add	hl, de
2652  0B1F  36 00       	ld	(hl),0x00
2653  0B21              l_spr_play_anim_00102:
2654  0B21  C5          	push	bc
2655  0B22  CD 2D 08    	call	_spr_back_repaint
2656  0B25  C1          	pop	bc
2657  0B26  DD 6E FE    	ld	l,(ix-2)
2658  0B29  DD 66 FF    	ld	h,(ix-1)
2659  0B2C  36 FF       	ld	(hl),0xff
2660  0B2E              l_spr_play_anim_00110:
2661  0B2E  0C          	inc	c
2662  0B2F  79          	ld	a, c
2663  0B30  D6 08       	sub	a,0x08
2664  0B32  DA 74 0A    	jp	C, l_spr_play_anim_00109
2665  0B35  DD F9       	ld	sp, ix
2666  0B37  DD E1       	pop	ix
2667  0B39  C9          	ret
2668  0B3A              	SECTION code_compiler
2669  0B3A              ;	---------------------------------
2670  0B3A              ; Function spr_play_bullets
2671  0B3A              ; ---------------------------------
2672  0B3A              _spr_play_bullets:
2673  0B3A  CD 00 00    	call	___sdcc_enter_ix
2674  0B3D  F5          	push	af
2675  0B3E  F5          	push	af
2676  0B3F  3B          	dec	sp
2677  0B40  0E 00       	ld	c,0x00
2678  0B42              l_spr_play_bullets_00131:
2679  0B42  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2680  0B44  81          	add	a, c
2681  0B45  DD 77 FE    	ld	(ix-2),a
2682  0B48  6F          	ld	l,a
2683  0B49  3E 00       	ld	a,+((_bullet_col) / 256)
2684  0B4B  CE 00       	adc	a,0x00
2685  0B4D  DD 77 FF    	ld	(ix-1),a
2686  0B50  67          	ld	h,a
2687  0B51  7E          	ld	a, (hl)
2688  0B52  DD 77 FD    	ld	(ix-3),a
2689  0B55  3C          	inc	a
2690  0B56  CA 0D 0D    	jp	Z,l_spr_play_bullets_00132
2691  0B59  06 00       	ld	b,0x00
2692  0B5B  21 00 00    	ld	hl,_bullet_lin
2693  0B5E  09          	add	hl, bc
2694  0B5F  7E          	ld	a, (hl)
2695  0B60  32 00 00    	ld	(_s_lin0),a
2696  0B63  DD 7E FD    	ld	a,(ix-3)
2697  0B66  32 00 00    	ld	(_s_col0),a
2698  0B69  32 00 00    	ld	(_s_col1),a
2699  0B6C  C5          	push	bc
2700  0B6D  CD 2D 08    	call	_spr_back_repaint
2701  0B70  C1          	pop	bc
2702  0B71  06 00       	ld	b,0x00
2703  0B73  21 00 00    	ld	hl,_bullet_dir
2704  0B76  09          	add	hl, bc
2705  0B77  46          	ld	b, (hl)
2706  0B78  04          	inc	b
2707  0B79  20 3E       	jr	NZ,l_spr_play_bullets_00110
2708  0B7B  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2709  0B7D  81          	add	a, c
2710  0B7E  5F          	ld	e, a
2711  0B7F  3E 00       	ld	a, +((_bullet_colint) / 256)
2712  0B81  CE 00       	adc	a,0x00
2713  0B83  57          	ld	d, a
2714  0B84  1A          	ld	a, (de)
2715  0B85  3C          	inc	a
2716  0B86  47          	ld	b,a
2717  0B87  12          	ld	(de), a
2718  0B88  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2719  0B8A  81          	add	a, c
2720  0B8B  6F          	ld	l, a
2721  0B8C  3E 00       	ld	a, +((_bullet_frames) / 256)
2722  0B8E  CE 00       	adc	a,0x00
2723  0B90  67          	ld	h, a
2724  0B91  6E          	ld	l, (hl)
2725  0B92  78          	ld	a, b
2726  0B93  95          	sub	a, l
2727  0B94  38 0B       	jr	C,l_spr_play_bullets_00102
2728  0B96  DD 6E FE    	ld	l,(ix-2)
2729  0B99  DD 66 FF    	ld	h,(ix-1)
2730  0B9C  46          	ld	b,(hl)
2731  0B9D  04          	inc	b
2732  0B9E  70          	ld	(hl), b
2733  0B9F  AF          	xor	a, a
2734  0BA0  12          	ld	(de), a
2735  0BA1              l_spr_play_bullets_00102:
2736  0BA1  DD 6E FE    	ld	l,(ix-2)
2737  0BA4  DD 66 FF    	ld	h,(ix-1)
2738  0BA7  46          	ld	b, (hl)
2739  0BA8  CB 40       	bit	0, b
2740  0BAA  28 46       	jr	Z,l_spr_play_bullets_00111
2741  0BAC  78          	ld	a, b
2742  0BAD  3C          	inc	a
2743  0BAE  32 00 00    	ld	(_s_col1),a
2744  0BB1  78          	ld	a, b
2745  0BB2  C6 FF       	add	a,0xff
2746  0BB4  32 00 00    	ld	(_tmp),a
2747  0BB7  18 39       	jr	l_spr_play_bullets_00111
2748  0BB9              l_spr_play_bullets_00110:
2749  0BB9  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2750  0BBB  81          	add	a, c
2751  0BBC  5F          	ld	e, a
2752  0BBD  3E 00       	ld	a, +((_bullet_colint) / 256)
2753  0BBF  CE 00       	adc	a,0x00
2754  0BC1  57          	ld	d, a
2755  0BC2  1A          	ld	a, (de)
2756  0BC3  C6 FF       	add	a,0xff
2757  0BC5  12          	ld	(de), a
2758  0BC6  3C          	inc	a
2759  0BC7  20 13       	jr	NZ,l_spr_play_bullets_00106
2760  0BC9  DD 6E FE    	ld	l,(ix-2)
2761  0BCC  DD 66 FF    	ld	h,(ix-1)
2762  0BCF  46          	ld	b,(hl)
2763  0BD0  05          	dec	b
2764  0BD1  70          	ld	(hl), b
2765  0BD2  06 00       	ld	b,0x00
2766  0BD4  21 00 00    	ld	hl,_bullet_frames
2767  0BD7  09          	add	hl, bc
2768  0BD8  46          	ld	b, (hl)
2769  0BD9  05          	dec	b
2770  0BDA  78          	ld	a, b
2771  0BDB  12          	ld	(de), a
2772  0BDC              l_spr_play_bullets_00106:
2773  0BDC  DD 6E FE    	ld	l,(ix-2)
2774  0BDF  DD 66 FF    	ld	h,(ix-1)
2775  0BE2  46          	ld	b, (hl)
2776  0BE3  CB 40       	bit	0, b
2777  0BE5  28 0B       	jr	Z,l_spr_play_bullets_00111
2778  0BE7  78          	ld	a, b
2779  0BE8  C6 FF       	add	a,0xff
2780  0BEA  32 00 00    	ld	(_s_col1),a
2781  0BED  78          	ld	a, b
2782  0BEE  3C          	inc	a
2783  0BEF  32 00 00    	ld	(_tmp),a
2784  0BF2              l_spr_play_bullets_00111:
2785  0BF2  DD 7E FE    	ld	a,(ix-2)
2786  0BF5  DD 77 FB    	ld	(ix-5),a
2787  0BF8  DD 7E FF    	ld	a,(ix-1)
2788  0BFB  DD 77 FC    	ld	(ix-4),a
2789  0BFE  78          	ld	a,b
2790  0BFF  B7          	or	a, a
2791  0C00  CA 01 0D    	jp	Z,l_spr_play_bullets_00123
2792  0C03  D6 1E       	sub	a,0x1e
2793  0C05  D2 01 0D    	jp	NC, l_spr_play_bullets_00123
2794  0C08  3A 00 00    	ld	a,(_s_col1)
2795  0C0B  C5          	push	bc
2796  0C0C  F5          	push	af
2797  0C0D  33          	inc	sp
2798  0C0E  3A 00 00    	ld	a,(_s_lin0)
2799  0C11  F5          	push	af
2800  0C12  33          	inc	sp
2801  0C13  CD 00 00    	call	_spr_calc_index
2802  0C16  F1          	pop	af
2803  0C17  EB          	ex	de,hl
2804  0C18  C1          	pop	bc
2805  0C19  ED 53 00 00 	ld	(_index0),de
2806  0C1D  21 00 00    	ld	hl,_tmp0
2807  0C20  36 00       	ld	(hl),0x00
2808  0C22              l_spr_play_bullets_00129:
2809  0C22  2A 00 00    	ld	hl,(_tmp0)
2810  0C25  26 00       	ld	h,0x00
2811  0C27  11 00 00    	ld	de,_class
2812  0C2A  19          	add	hl,de
2813  0C2B  7E          	ld	a,(hl)
2814  0C2C  B7          	or	a,a
2815  0C2D  28 6F       	jr	Z,l_spr_play_bullets_00130
2816  0C2F  2A 00 00    	ld	hl,(_tmp0)
2817  0C32  26 00       	ld	h,0x00
2818  0C34  11 00 00    	ld	de,_col
2819  0C37  19          	add	hl,de
2820  0C38  46          	ld	b, (hl)
2821  0C39  3A 00 00    	ld	a,(_tmp0)
2822  0C3C  5F          	ld	e,a
2823  0C3D  16 00       	ld	d,0x00
2824  0C3F  21 00 00    	ld	hl,_lin
2825  0C42  19          	add	hl,de
2826  0C43  56          	ld	d, (hl)
2827  0C44  C5          	push	bc
2828  0C45  4A          	ld	c, d
2829  0C46  C5          	push	bc
2830  0C47  CD 00 00    	call	_spr_calc_index
2831  0C4A  F1          	pop	af
2832  0C4B  EB          	ex	de,hl
2833  0C4C  C1          	pop	bc
2834  0C4D  ED 53 00 00 	ld	(_index1),de
2835  0C51  3A 00 00    	ld	a,(_index0)
2836  0C54  21 00 00    	ld	hl,_index1
2837  0C57  96          	sub	a, (hl)
2838  0C58  20 44       	jr	NZ,l_spr_play_bullets_00130
2839  0C5A  3A 01 00    	ld	a,(_index0 + 1)
2840  0C5D  23          	inc	hl
2841  0C5E  96          	sub	a, (hl)
2842  0C5F  20 3D       	jr	NZ,l_spr_play_bullets_00130
2843  0C61  2A 00 00    	ld	hl,(_tmp0)
2844  0C64  26 00       	ld	h,0x00
2845  0C66  11 00 00    	ld	de,_lin
2846  0C69  19          	add	hl,de
2847  0C6A  7E          	ld	a,(hl)
2848  0C6B  32 00 00    	ld	(_s_lin0),a
2849  0C6E  2A 00 00    	ld	hl,(_tmp0)
2850  0C71  26 00       	ld	h,0x00
2851  0C73  11 00 00    	ld	de,_col
2852  0C76  19          	add	hl,de
2853  0C77  7E          	ld	a,(hl)
2854  0C78  32 00 00    	ld	(_s_col0),a
2855  0C7B  2A 00 00    	ld	hl,(_tmp0)
2856  0C7E  C5          	push	bc
2857  0C7F  CD 38 05    	call	_spr_destroy
2858  0C82  C1          	pop	bc
2859  0C83  E1          	pop	hl
2860  0C84  E5          	push	hl
2861  0C85  36 FF       	ld	(hl),0xff
2862  0C87  3A 00 00    	ld	a,(_s_col0)
2863  0C8A  C5          	push	bc
2864  0C8B  21 7B 03    	ld	hl,0x037b
2865  0C8E  E5          	push	hl
2866  0C8F  F5          	push	af
2867  0C90  33          	inc	sp
2868  0C91  3A 00 00    	ld	a,(_s_lin0)
2869  0C94  F5          	push	af
2870  0C95  33          	inc	sp
2871  0C96  CD D6 09    	call	_spr_add_anim
2872  0C99  F1          	pop	af
2873  0C9A  F1          	pop	af
2874  0C9B  C1          	pop	bc
2875  0C9C  18 0B       	jr	l_spr_play_bullets_00116
2876  0C9E              l_spr_play_bullets_00130:
2877  0C9E  21 00 00    	ld	hl,_tmp0
2878  0CA1  7E          	ld	a,(hl)
2879  0CA2  3C          	inc	a
2880  0CA3  77          	ld	(hl),a
2881  0CA4  D6 07       	sub	a,0x07
2882  0CA6  DA 22 0C    	jp	C, l_spr_play_bullets_00129
2883  0CA9              l_spr_play_bullets_00116:
2884  0CA9  E1          	pop	hl
2885  0CAA  7E          	ld	a,(hl)
2886  0CAB  E5          	push	hl
2887  0CAC  57          	ld	d,a
2888  0CAD  3C          	inc	a
2889  0CAE  28 5D       	jr	Z,l_spr_play_bullets_00132
2890  0CB0  3E 00       	ld	a, +((_scr_map) & 0xFF)
2891  0CB2  21 00 00    	ld	hl,_index0
2892  0CB5  86          	add	a, (hl)
2893  0CB6  47          	ld	b, a
2894  0CB7  3E 00       	ld	a, +((_scr_map) / 256)
2895  0CB9  23          	inc	hl
2896  0CBA  8E          	adc	a, (hl)
2897  0CBB  67          	ld	h, a
2898  0CBC  68          	ld	l, b
2899  0CBD  7E          	ld	a, (hl)
2900  0CBE  D6 3C       	sub	a,0x3c
2901  0CC0  30 20       	jr	NC,l_spr_play_bullets_00118
2902  0CC2  06 00       	ld	b,0x00
2903  0CC4  21 00 00    	ld	hl,_bullet_tile
2904  0CC7  09          	add	hl, bc
2905  0CC8  5E          	ld	e, (hl)
2906  0CC9  06 00       	ld	b,0x00
2907  0CCB  21 00 00    	ld	hl,_bullet_colint
2908  0CCE  09          	add	hl, bc
2909  0CCF  46          	ld	b, (hl)
2910  0CD0  7B          	ld	a, e
2911  0CD1  80          	add	a, b
2912  0CD2  47          	ld	b, a
2913  0CD3  C5          	push	bc
2914  0CD4  D5          	push	de
2915  0CD5  33          	inc	sp
2916  0CD6  3A 00 00    	ld	a,(_s_lin0)
2917  0CD9  48          	ld	c,b
2918  0CDA  47          	ld	b,a
2919  0CDB  C5          	push	bc
2920  0CDC  CD 00 00    	call	_NIRVANAP_drawT_callee
2921  0CDF  C1          	pop	bc
2922  0CE0  18 2B       	jr	l_spr_play_bullets_00132
2923  0CE2              l_spr_play_bullets_00118:
2924  0CE2  3A 00 00    	ld	a,(_tmp)
2925  0CE5  C5          	push	bc
2926  0CE6  21 7B 03    	ld	hl,0x037b
2927  0CE9  E5          	push	hl
2928  0CEA  F5          	push	af
2929  0CEB  33          	inc	sp
2930  0CEC  3A 00 00    	ld	a,(_s_lin0)
2931  0CEF  F5          	push	af
2932  0CF0  33          	inc	sp
2933  0CF1  CD D6 09    	call	_spr_add_anim
2934  0CF4  F1          	pop	af
2935  0CF5  F1          	pop	af
2936  0CF6  C1          	pop	bc
2937  0CF7  21 00 00    	ld	hl,_bullet_count
2938  0CFA  35          	dec	(hl)
2939  0CFB  E1          	pop	hl
2940  0CFC  E5          	push	hl
2941  0CFD  36 FF       	ld	(hl),0xff
2942  0CFF  18 0C       	jr	l_spr_play_bullets_00132
2943  0D01              l_spr_play_bullets_00123:
2944  0D01  21 00 00    	ld	hl,_bullet_count
2945  0D04  35          	dec	(hl)
2946  0D05  DD 6E FE    	ld	l,(ix-2)
2947  0D08  DD 66 FF    	ld	h,(ix-1)
2948  0D0B  36 FF       	ld	(hl),0xff
2949  0D0D              l_spr_play_bullets_00132:
2950  0D0D  0C          	inc	c
2951  0D0E  79          	ld	a, c
2952  0D0F  D6 08       	sub	a,0x08
2953  0D11  DA 42 0B    	jp	C, l_spr_play_bullets_00131
2954  0D14  DD F9       	ld	sp, ix
2955  0D16  DD E1       	pop	ix
2956  0D18  C9          	ret
2957  0D19              	SECTION code_compiler
2958  0D19              ;	---------------------------------
2959  0D19              ; Function spr_turn_horizontal
2960  0D19              ; ---------------------------------
2961  0D19              _spr_turn_horizontal:
2962  0D19  21 00 00    	ld	hl,_s_state
2963  0D1C  CB 56       	bit	2, (hl)
2964  0D1E  28 0B       	jr	Z,l_spr_turn_horizontal_00102
2965  0D20  21 00 00    	ld	hl,_s_state
2966  0D23  7E          	ld	a,(hl)
2967  0D24  F6 08       	or	a,0x08
2968  0D26  E6 FB       	and	a,0xfb
2969  0D28  77          	ld	(hl),a
2970  0D29  18 09       	jr	l_spr_turn_horizontal_00103
2971  0D2B              l_spr_turn_horizontal_00102:
2972  0D2B  21 00 00    	ld	hl,_s_state
2973  0D2E  7E          	ld	a,(hl)
2974  0D2F  E6 F7       	and	a,0xf7
2975  0D31  F6 04       	or	a,0x04
2976  0D33  77          	ld	(hl),a
2977  0D34              l_spr_turn_horizontal_00103:
2978  0D34  2A 00 00    	ld	hl,(_sprite)
2979  0D37  26 00       	ld	h,0x00
2980  0D39  01 00 00    	ld	bc,_state
2981  0D3C  09          	add	hl,bc
2982  0D3D  3A 00 00    	ld	a,(_s_state)
2983  0D40  77          	ld	(hl),a
2984  0D41  2A 00 00    	ld	hl,(_sprite)
2985  0D44  26 00       	ld	h,0x00
2986  0D46  01 00 00    	ld	bc,_tile
2987  0D49  09          	add	hl,bc
2988  0D4A  E5          	push	hl
2989  0D4B  2A 00 00    	ld	hl,(_sprite)
2990  0D4E  CD A1 05    	call	_spr_tile
2991  0D51  C1          	pop	bc
2992  0D52  7D          	ld	a,l
2993  0D53  02          	ld	(bc), a
2994  0D54  C9          	ret
2995  0D55              	SECTION IGNORE
2996  0000              
