1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_chktime
190   0000              	GLOBAL _spr_move_up
191   0000              	GLOBAL _spr_move_down
192   0000              	GLOBAL _spr_move_horizontal
193   0000              	GLOBAL _spr_move_right
194   0000              	GLOBAL _spr_move_left
195   0000              	GLOBAL _spr_page_right
196   0000              	GLOBAL _spr_page_left
197   0000              	GLOBAL _spr_page_down
198   0000              	GLOBAL _spr_page_up
199   0000              	GLOBAL _spr_page_map
200   0000              	GLOBAL _spr_redraw
201   0000              	GLOBAL _spr_destroy
202   0000              	GLOBAL _spr_tile
203   0000              	GLOBAL _spr_tile_dir
204   0000              	GLOBAL _spr_draw_clear
205   0000              	GLOBAL _spr_brick_anim
206   0000              	GLOBAL _spr_draw_index
207   0000              	GLOBAL _spr_draw_row
208   0000              	GLOBAL _spr_calc_hor
209   0000              	GLOBAL _spr_back_repaint
210   0000              	GLOBAL _spr_tile_paint
211   0000              	GLOBAL _spr_init_anim_bullets
212   0000              	GLOBAL _spr_add_anim
213   0000              	GLOBAL _spr_play_anim
214   0000              	GLOBAL _spr_play_bullets
215   0000              	GLOBAL _spr_explode_bullet
216   0000              	GLOBAL _spr_turn_horizontal
217   0000              	GLOBAL _spr_btile_paint_back
218   0000              ;--------------------------------------------------------
219   0000              ; Externals used
220   0000              ;--------------------------------------------------------
221   0000              	GLOBAL _ulltoa_callee
222   0000              	GLOBAL _ulltoa
223   0000              	GLOBAL _strtoull_callee
224   0000              	GLOBAL _strtoull
225   0000              	GLOBAL _strtoll_callee
226   0000              	GLOBAL _strtoll
227   0000              	GLOBAL _lltoa_callee
228   0000              	GLOBAL _lltoa
229   0000              	GLOBAL _llabs_callee
230   0000              	GLOBAL _llabs
231   0000              	GLOBAL __lldivu__callee
232   0000              	GLOBAL __lldivu_
233   0000              	GLOBAL __lldiv__callee
234   0000              	GLOBAL __lldiv_
235   0000              	GLOBAL _atoll_callee
236   0000              	GLOBAL _atoll
237   0000              	GLOBAL _realloc_unlocked_callee
238   0000              	GLOBAL _realloc_unlocked
239   0000              	GLOBAL _malloc_unlocked_fastcall
240   0000              	GLOBAL _malloc_unlocked
241   0000              	GLOBAL _free_unlocked_fastcall
242   0000              	GLOBAL _free_unlocked
243   0000              	GLOBAL _calloc_unlocked_callee
244   0000              	GLOBAL _calloc_unlocked
245   0000              	GLOBAL _aligned_alloc_unlocked_callee
246   0000              	GLOBAL _aligned_alloc_unlocked
247   0000              	GLOBAL _realloc_callee
248   0000              	GLOBAL _realloc
249   0000              	GLOBAL _malloc_fastcall
250   0000              	GLOBAL _malloc
251   0000              	GLOBAL _free_fastcall
252   0000              	GLOBAL _free
253   0000              	GLOBAL _calloc_callee
254   0000              	GLOBAL _calloc
255   0000              	GLOBAL _aligned_alloc_callee
256   0000              	GLOBAL _aligned_alloc
257   0000              	GLOBAL _utoa_callee
258   0000              	GLOBAL _utoa
259   0000              	GLOBAL _ultoa_callee
260   0000              	GLOBAL _ultoa
261   0000              	GLOBAL _system_fastcall
262   0000              	GLOBAL _system
263   0000              	GLOBAL _strtoul_callee
264   0000              	GLOBAL _strtoul
265   0000              	GLOBAL _strtol_callee
266   0000              	GLOBAL _strtol
267   0000              	GLOBAL _strtof_callee
268   0000              	GLOBAL _strtof
269   0000              	GLOBAL _strtod_callee
270   0000              	GLOBAL _strtod
271   0000              	GLOBAL _srand_fastcall
272   0000              	GLOBAL _srand
273   0000              	GLOBAL _rand
274   0000              	GLOBAL _quick_exit_fastcall
275   0000              	GLOBAL _quick_exit
276   0000              	GLOBAL _qsort_callee
277   0000              	GLOBAL _qsort
278   0000              	GLOBAL _ltoa_callee
279   0000              	GLOBAL _ltoa
280   0000              	GLOBAL _labs_fastcall
281   0000              	GLOBAL _labs
282   0000              	GLOBAL _itoa_callee
283   0000              	GLOBAL _itoa
284   0000              	GLOBAL _ftoh_callee
285   0000              	GLOBAL _ftoh
286   0000              	GLOBAL _ftog_callee
287   0000              	GLOBAL _ftog
288   0000              	GLOBAL _ftoe_callee
289   0000              	GLOBAL _ftoe
290   0000              	GLOBAL _ftoa_callee
291   0000              	GLOBAL _ftoa
292   0000              	GLOBAL _exit_fastcall
293   0000              	GLOBAL _exit
294   0000              	GLOBAL _dtoh_callee
295   0000              	GLOBAL _dtoh
296   0000              	GLOBAL _dtog_callee
297   0000              	GLOBAL _dtog
298   0000              	GLOBAL _dtoe_callee
299   0000              	GLOBAL _dtoe
300   0000              	GLOBAL _dtoa_callee
301   0000              	GLOBAL _dtoa
302   0000              	GLOBAL _bsearch_callee
303   0000              	GLOBAL _bsearch
304   0000              	GLOBAL _atol_fastcall
305   0000              	GLOBAL _atol
306   0000              	GLOBAL _atoi_fastcall
307   0000              	GLOBAL _atoi
308   0000              	GLOBAL _atof_fastcall
309   0000              	GLOBAL _atof
310   0000              	GLOBAL _atexit_fastcall
311   0000              	GLOBAL _atexit
312   0000              	GLOBAL _at_quick_exit_fastcall
313   0000              	GLOBAL _at_quick_exit
314   0000              	GLOBAL _abs_fastcall
315   0000              	GLOBAL _abs
316   0000              	GLOBAL _abort
317   0000              	GLOBAL __strtou__callee
318   0000              	GLOBAL __strtou_
319   0000              	GLOBAL __strtoi__callee
320   0000              	GLOBAL __strtoi_
321   0000              	GLOBAL __random_uniform_xor_8__fastcall
322   0000              	GLOBAL __random_uniform_xor_8_
323   0000              	GLOBAL __random_uniform_xor_32__fastcall
324   0000              	GLOBAL __random_uniform_xor_32_
325   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
326   0000              	GLOBAL __random_uniform_cmwc_8_
327   0000              	GLOBAL __shellsort__callee
328   0000              	GLOBAL __shellsort_
329   0000              	GLOBAL __quicksort__callee
330   0000              	GLOBAL __quicksort_
331   0000              	GLOBAL __insertion_sort__callee
332   0000              	GLOBAL __insertion_sort_
333   0000              	GLOBAL __ldivu__callee
334   0000              	GLOBAL __ldivu_
335   0000              	GLOBAL __ldiv__callee
336   0000              	GLOBAL __ldiv_
337   0000              	GLOBAL __divu__callee
338   0000              	GLOBAL __divu_
339   0000              	GLOBAL __div__callee
340   0000              	GLOBAL __div_
341   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
342   0000              	GLOBAL _NIRVANAP_drawTW_raw
343   0000              	GLOBAL _NIRVANAP_drawTW_callee
344   0000              	GLOBAL _NIRVANAP_drawTW
345   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
346   0000              	GLOBAL _NIRVANAP_drawW_raw
347   0000              	GLOBAL _NIRVANAP_drawW_callee
348   0000              	GLOBAL _NIRVANAP_drawW
349   0000              	GLOBAL _NIRVANAP_spriteT_callee
350   0000              	GLOBAL _NIRVANAP_spriteT
351   0000              	GLOBAL _NIRVANAP_fillC_callee
352   0000              	GLOBAL _NIRVANAP_fillC
353   0000              	GLOBAL _NIRVANAP_readC_callee
354   0000              	GLOBAL _NIRVANAP_readC
355   0000              	GLOBAL _NIRVANAP_paintC_callee
356   0000              	GLOBAL _NIRVANAP_paintC
357   0000              	GLOBAL _NIRVANAP_printC_callee
358   0000              	GLOBAL _NIRVANAP_printC
359   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
360   0000              	GLOBAL _NIRVANAP_fillT_raw
361   0000              	GLOBAL _NIRVANAP_fillT_callee
362   0000              	GLOBAL _NIRVANAP_fillT
363   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawT_raw
365   0000              	GLOBAL _NIRVANAP_drawT_callee
366   0000              	GLOBAL _NIRVANAP_drawT
367   0000              	GLOBAL _NIRVANAP_stop
368   0000              	GLOBAL _NIRVANAP_start
369   0000              	GLOBAL _debug3
370   0000              	GLOBAL _debug2
371   0000              	GLOBAL _debug
372   0000              	GLOBAL _zx_print_str
373   0000              	GLOBAL _zx_print_int
374   0000              	GLOBAL _zx_print_chr
375   0000              	GLOBAL _zx_print_bonus_time
376   0000              	GLOBAL _zx_isr
377   0000              	GLOBAL _z80_otdr_callee
378   0000              	GLOBAL _z80_otdr
379   0000              	GLOBAL _z80_otir_callee
380   0000              	GLOBAL _z80_otir
381   0000              	GLOBAL _z80_outp_callee
382   0000              	GLOBAL _z80_outp
383   0000              	GLOBAL _z80_indr_callee
384   0000              	GLOBAL _z80_indr
385   0000              	GLOBAL _z80_inir_callee
386   0000              	GLOBAL _z80_inir
387   0000              	GLOBAL _z80_inp_fastcall
388   0000              	GLOBAL _z80_inp
389   0000              	GLOBAL _z80_set_int_state_fastcall
390   0000              	GLOBAL _z80_set_int_state
391   0000              	GLOBAL _z80_get_int_state
392   0000              	GLOBAL _z80_delay_tstate_fastcall
393   0000              	GLOBAL _z80_delay_tstate
394   0000              	GLOBAL _z80_delay_ms_fastcall
395   0000              	GLOBAL _z80_delay_ms
396   0000              	GLOBAL _im2_remove_generic_callback_callee
397   0000              	GLOBAL _im2_remove_generic_callback
398   0000              	GLOBAL _im2_prepend_generic_callback_callee
399   0000              	GLOBAL _im2_prepend_generic_callback
400   0000              	GLOBAL _im2_append_generic_callback_callee
401   0000              	GLOBAL _im2_append_generic_callback
402   0000              	GLOBAL _im2_create_generic_isr_8080_callee
403   0000              	GLOBAL _im2_create_generic_isr_8080
404   0000              	GLOBAL _im2_create_generic_isr_callee
405   0000              	GLOBAL _im2_create_generic_isr
406   0000              	GLOBAL _im2_install_isr_callee
407   0000              	GLOBAL _im2_install_isr
408   0000              	GLOBAL _im2_init_fastcall
409   0000              	GLOBAL _im2_init
410   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_word_32
412   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_32
414   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
415   0000              	GLOBAL _intrinsic_swap_endian_16
416   0000              	GLOBAL _intrinsic_return_de
417   0000              	GLOBAL _intrinsic_return_bc
418   0000              	GLOBAL _intrinsic_exx
419   0000              	GLOBAL _intrinsic_ex_de_hl
420   0000              	GLOBAL _intrinsic_nop
421   0000              	GLOBAL _intrinsic_im_2
422   0000              	GLOBAL _intrinsic_im_1
423   0000              	GLOBAL _intrinsic_im_0
424   0000              	GLOBAL _intrinsic_retn
425   0000              	GLOBAL _intrinsic_reti
426   0000              	GLOBAL _intrinsic_halt
427   0000              	GLOBAL _intrinsic_ei
428   0000              	GLOBAL _intrinsic_di
429   0000              	GLOBAL _intrinsic_stub
430   0000              	GLOBAL _intrinsic_outi
431   0000              	GLOBAL _intrinsic_ldi
432   0000              	GLOBAL _zx_pattern_fill_callee
433   0000              	GLOBAL _zx_pattern_fill
434   0000              	GLOBAL _zx_saddrpup_fastcall
435   0000              	GLOBAL _zx_saddrpup
436   0000              	GLOBAL _zx_saddrpright_callee
437   0000              	GLOBAL _zx_saddrpright
438   0000              	GLOBAL _zx_saddrpleft_callee
439   0000              	GLOBAL _zx_saddrpleft
440   0000              	GLOBAL _zx_saddrpdown_fastcall
441   0000              	GLOBAL _zx_saddrpdown
442   0000              	GLOBAL _zx_saddrcup_fastcall
443   0000              	GLOBAL _zx_saddrcup
444   0000              	GLOBAL _zx_saddrcright_fastcall
445   0000              	GLOBAL _zx_saddrcright
446   0000              	GLOBAL _zx_saddrcleft_fastcall
447   0000              	GLOBAL _zx_saddrcleft
448   0000              	GLOBAL _zx_saddrcdown_fastcall
449   0000              	GLOBAL _zx_saddrcdown
450   0000              	GLOBAL _zx_saddr2py_fastcall
451   0000              	GLOBAL _zx_saddr2py
452   0000              	GLOBAL _zx_saddr2px_fastcall
453   0000              	GLOBAL _zx_saddr2px
454   0000              	GLOBAL _zx_saddr2cy_fastcall
455   0000              	GLOBAL _zx_saddr2cy
456   0000              	GLOBAL _zx_saddr2cx_fastcall
457   0000              	GLOBAL _zx_saddr2cx
458   0000              	GLOBAL _zx_saddr2aaddr_fastcall
459   0000              	GLOBAL _zx_saddr2aaddr
460   0000              	GLOBAL _zx_py2saddr_fastcall
461   0000              	GLOBAL _zx_py2saddr
462   0000              	GLOBAL _zx_py2aaddr_fastcall
463   0000              	GLOBAL _zx_py2aaddr
464   0000              	GLOBAL _zx_pxy2saddr_callee
465   0000              	GLOBAL _zx_pxy2saddr
466   0000              	GLOBAL _zx_pxy2aaddr_callee
467   0000              	GLOBAL _zx_pxy2aaddr
468   0000              	GLOBAL _zx_px2bitmask_fastcall
469   0000              	GLOBAL _zx_px2bitmask
470   0000              	GLOBAL _zx_cy2saddr_fastcall
471   0000              	GLOBAL _zx_cy2saddr
472   0000              	GLOBAL _zx_cy2aaddr_fastcall
473   0000              	GLOBAL _zx_cy2aaddr
474   0000              	GLOBAL _zx_cxy2saddr_callee
475   0000              	GLOBAL _zx_cxy2saddr
476   0000              	GLOBAL _zx_cxy2aaddr_callee
477   0000              	GLOBAL _zx_cxy2aaddr
478   0000              	GLOBAL _zx_bitmask2px_fastcall
479   0000              	GLOBAL _zx_bitmask2px
480   0000              	GLOBAL _zx_aaddrcup_fastcall
481   0000              	GLOBAL _zx_aaddrcup
482   0000              	GLOBAL _zx_aaddrcright_fastcall
483   0000              	GLOBAL _zx_aaddrcright
484   0000              	GLOBAL _zx_aaddrcleft_fastcall
485   0000              	GLOBAL _zx_aaddrcleft
486   0000              	GLOBAL _zx_aaddrcdown_fastcall
487   0000              	GLOBAL _zx_aaddrcdown
488   0000              	GLOBAL _zx_aaddr2saddr_fastcall
489   0000              	GLOBAL _zx_aaddr2saddr
490   0000              	GLOBAL _zx_aaddr2py_fastcall
491   0000              	GLOBAL _zx_aaddr2py
492   0000              	GLOBAL _zx_aaddr2px_fastcall
493   0000              	GLOBAL _zx_aaddr2px
494   0000              	GLOBAL _zx_aaddr2cy_fastcall
495   0000              	GLOBAL _zx_aaddr2cy
496   0000              	GLOBAL _zx_aaddr2cx_fastcall
497   0000              	GLOBAL _zx_aaddr2cx
498   0000              	GLOBAL _zx_visit_wc_pix_callee
499   0000              	GLOBAL _zx_visit_wc_pix
500   0000              	GLOBAL _zx_visit_wc_attr_callee
501   0000              	GLOBAL _zx_visit_wc_attr
502   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
503   0000              	GLOBAL _zx_scroll_wc_up_pix
504   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
505   0000              	GLOBAL _zx_scroll_wc_up_attr
506   0000              	GLOBAL _zx_scroll_wc_up_callee
507   0000              	GLOBAL _zx_scroll_wc_up
508   0000              	GLOBAL _zx_scroll_up_pix_callee
509   0000              	GLOBAL _zx_scroll_up_pix
510   0000              	GLOBAL _zx_scroll_up_attr_callee
511   0000              	GLOBAL _zx_scroll_up_attr
512   0000              	GLOBAL _zx_scroll_up_callee
513   0000              	GLOBAL _zx_scroll_up
514   0000              	GLOBAL _zx_cls_wc_pix_callee
515   0000              	GLOBAL _zx_cls_wc_pix
516   0000              	GLOBAL _zx_cls_wc_attr_callee
517   0000              	GLOBAL _zx_cls_wc_attr
518   0000              	GLOBAL _zx_cls_wc_callee
519   0000              	GLOBAL _zx_cls_wc
520   0000              	GLOBAL _zx_cls_pix_fastcall
521   0000              	GLOBAL _zx_cls_pix
522   0000              	GLOBAL _zx_cls_attr_fastcall
523   0000              	GLOBAL _zx_cls_attr
524   0000              	GLOBAL _zx_cls_fastcall
525   0000              	GLOBAL _zx_cls
526   0000              	GLOBAL _zx_border_fastcall
527   0000              	GLOBAL _zx_border
528   0000              	GLOBAL _sound_hit_brick
529   0000              	GLOBAL _sound_hit_enemy
530   0000              	GLOBAL _sound_kill
531   0000              	GLOBAL _sound_enter_enemy
532   0000              	GLOBAL _sound_coin
533   0000              	GLOBAL _sound_jump
534   0000              	GLOBAL _sound_slide
535   0000              	GLOBAL _player_gasta_brick
536   0000              	GLOBAL _player_lost_life
537   0000              	GLOBAL _player_hit
538   0000              	GLOBAL _player_open_door
539   0000              	GLOBAL _player_move_jump
540   0000              	GLOBAL _player_fire
541   0000              	GLOBAL _player_check_stairs_down
542   0000              	GLOBAL _player_check_stairs
543   0000              	GLOBAL _player_tile
544   0000              	GLOBAL _player_pick_item
545   0000              	GLOBAL _player_check_floor
546   0000              	GLOBAL _player_hit_platform_clear
547   0000              	GLOBAL _player_score_add
548   0000              	GLOBAL _player_player_hit_pow
549   0000              	GLOBAL _player_hit_platform
550   0000              	GLOBAL _player_move_input
551   0000              	GLOBAL _player_turn
552   0000              	GLOBAL _player_move
553   0000              	GLOBAL _player_restart
554   0000              	GLOBAL _player_kill
555   0000              	GLOBAL _player_check_input
556   0000              	GLOBAL _player_collision
557   0000              	GLOBAL _player_init
558   0000              	GLOBAL _game_boss_clear
559   0000              	GLOBAL _game_obj_clear
560   0000              	GLOBAL _game_obj_chk
561   0000              	GLOBAL _game_obj_set
562   0000              	GLOBAL _game_shoot_fire_boss
563   0000              	GLOBAL _game_shoot_fire
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_joystick_set_menu
566   0000              	GLOBAL _game_joystick_set
567   0000              	GLOBAL _game_joystick_change
568   0000              	GLOBAL _game_print_header
569   0000              	GLOBAL _game_end
570   0000              	GLOBAL _game_phase_print_score_back
571   0000              	GLOBAL _game_check_time
572   0000              	GLOBAL _game_rotate_attrib
573   0000              	GLOBAL _game_colour_message
574   0000              	GLOBAL _game_paint_attrib_lin_h
575   0000              	GLOBAL _game_paint_attrib_lin
576   0000              	GLOBAL _game_paint_attrib
577   0000              	GLOBAL _game_print_score
578   0000              	GLOBAL _game_unfreeze_all
579   0000              	GLOBAL _game_freeze_all
580   0000              	GLOBAL _game_freeze
581   0000              	GLOBAL _game_enemy_add_get_index
582   0000              	GLOBAL _game_check_cell
583   0000              	GLOBAL _game_check_map
584   0000              	GLOBAL _game_loop
585   0000              	GLOBAL _game_round_init
586   0000              	GLOBAL _game_start_timer
587   0000              	GLOBAL _game_tick
588   0000              	GLOBAL _game_update_stats
589   0000              	GLOBAL _game_print_footer
590   0000              	GLOBAL _game_fill_row
591   0000              	GLOBAL _game_fps
592   0000              	GLOBAL _game_respawn
593   0000              	GLOBAL _game_draw_screen
594   0000              	GLOBAL _enemy_avoid_fall_dead
595   0000              	GLOBAL _enemy_avoid_fall
596   0000              	GLOBAL _enemy_respawn
597   0000              	GLOBAL _enemy_init
598   0000              	GLOBAL _enemy_move
599   0000              	GLOBAL _enemy_turn
600   0000              	GLOBAL _enemy_hit
601   0000              	GLOBAL _enemy_coin1
602   0000              	GLOBAL _enemy_static
603   0000              	GLOBAL _enemy_walk
604   0000              	GLOBAL _enemy_horizontal
605   0000              	GLOBAL _enemy_vertical
606   0000              	GLOBAL _ay_fx_play
607   0000              	GLOBAL _ay_midi_play
608   0000              	GLOBAL _ay_is_playing
609   0000              	GLOBAL _ay_reset
610   0000              	GLOBAL _test_func
611   0000              	GLOBAL _test_proc
612   0000              	GLOBAL _in_mouse_kempston_wheel_delta
613   0000              	GLOBAL _in_mouse_kempston_wheel
614   0000              	GLOBAL _in_mouse_kempston_callee
615   0000              	GLOBAL _in_mouse_kempston
616   0000              	GLOBAL _in_mouse_kempston_setpos_callee
617   0000              	GLOBAL _in_mouse_kempston_setpos
618   0000              	GLOBAL _in_mouse_kempston_reset
619   0000              	GLOBAL _in_mouse_kempston_init
620   0000              	GLOBAL _in_mouse_amx_wheel_delta
621   0000              	GLOBAL _in_mouse_amx_wheel
622   0000              	GLOBAL _in_mouse_amx_callee
623   0000              	GLOBAL _in_mouse_amx
624   0000              	GLOBAL _in_mouse_amx_setpos_callee
625   0000              	GLOBAL _in_mouse_amx_setpos
626   0000              	GLOBAL _in_mouse_amx_reset
627   0000              	GLOBAL _in_mouse_amx_init_callee
628   0000              	GLOBAL _in_mouse_amx_init
629   0000              	GLOBAL _in_stick_sinclair2
630   0000              	GLOBAL _in_stick_sinclair1
631   0000              	GLOBAL _in_stick_kempston
632   0000              	GLOBAL _in_stick_fuller
633   0000              	GLOBAL _in_stick_cursor
634   0000              	GLOBAL _in_stick_keyboard_fastcall
635   0000              	GLOBAL _in_stick_keyboard
636   0000              	GLOBAL _in_wait_nokey
637   0000              	GLOBAL _in_wait_key
638   0000              	GLOBAL _in_test_key
639   0000              	GLOBAL _in_pause_fastcall
640   0000              	GLOBAL _in_pause
641   0000              	GLOBAL _in_key_scancode_fastcall
642   0000              	GLOBAL _in_key_scancode
643   0000              	GLOBAL _in_key_pressed_fastcall
644   0000              	GLOBAL _in_key_pressed
645   0000              	GLOBAL _in_inkey
646   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
647   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
648   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
649   0000              	GLOBAL _NIRVANAP_HOLE
650   0000              	GLOBAL _NIRVANAP_ISR_HOOK
651   0000              	GLOBAL _player_lvl_table
652   0000              	GLOBAL _map_paper_last
653   0000              	GLOBAL _map_paper_clr
654   0000              	GLOBAL _map_paper
655   0000              	GLOBAL _draw_count
656   0000              	GLOBAL _g_player_hit_right
657   0000              	GLOBAL _g_player_hit_left
658   0000              	GLOBAL _joynames
659   0000              	GLOBAL _initials
660   0000              	GLOBAL _bullet_count
661   0000              	GLOBAL _spr_hack
662   0000              	GLOBAL _boss_stat
663   0000              	GLOBAL _boss_time_fire
664   0000              	GLOBAL _boss_time
665   0000              	GLOBAL _boss_tile
666   0000              	GLOBAL _boss_inc
667   0000              	GLOBAL _boss_col
668   0000              	GLOBAL _boss_lin
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_obj1
694   0000              	GLOBAL _scr_obj0
695   0000              	GLOBAL _scr_map
696   0000              	GLOBAL _sprite_speed_alt
697   0000              	GLOBAL _sprite_frames
698   0000              	GLOBAL _sprite_speed
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _player_over_stair
702   0000              	GLOBAL _game_start_scr
703   0000              	GLOBAL _game_respawn_tile
704   0000              	GLOBAL _game_respawn_index
705   0000              	GLOBAL _game_respawn_time
706   0000              	GLOBAL _game_menu_sel
707   0000              	GLOBAL _game_score_top
708   0000              	GLOBAL _player_lives
709   0000              	GLOBAL _game_over
710   0000              	GLOBAL _game_sound
711   0000              	GLOBAL _game_inmune
712   0000              	GLOBAL _game_god_mode
713   0000              	GLOBAL _game_two_player
714   0000              	GLOBAL _game_brick_tile
715   0000              	GLOBAL _sprite_curr_index
716   0000              	GLOBAL _spr_count
717   0000              	GLOBAL _bullet_time
718   0000              	GLOBAL _anim_time
719   0000              	GLOBAL _frame_time
720   0000              	GLOBAL _entry_time
721   0000              	GLOBAL _curr_time
722   0000              	GLOBAL _s_state
723   0000              	GLOBAL _attrib_hl
724   0000              	GLOBAL _attrib
725   0000              	GLOBAL _zx_val_asm
726   0000              	GLOBAL _enemies
727   0000              	GLOBAL _tmp_ui
728   0000              	GLOBAL _tmp_sc
729   0000              	GLOBAL _tmp_uc
730   0000              	GLOBAL _tmp1
731   0000              	GLOBAL _tmp0
732   0000              	GLOBAL _tmp
733   0000              	GLOBAL _index1
734   0000              	GLOBAL _index0
735   0000              	GLOBAL _loop_count
736   0000              	GLOBAL _s_col1
737   0000              	GLOBAL _s_col0
738   0000              	GLOBAL _s_lin1
739   0000              	GLOBAL _s_lin0
740   0000              	GLOBAL _s_tile1
741   0000              	GLOBAL _s_tile0
742   0000              	GLOBAL _player_brick_time
743   0000              	GLOBAL _player_hit_count
744   0000              	GLOBAL _sprite_horizontal_check
745   0000              	GLOBAL _sprite_on_air
746   0000              	GLOBAL _sprite
747   0000              	GLOBAL _fps
748   0000              	GLOBAL _game_respawn_curr_time
749   0000              	GLOBAL _game_worldup
750   0000              	GLOBAL _game_mush_count
751   0000              	GLOBAL _game_boss_fix
752   0000              	GLOBAL _game_boss_hit
753   0000              	GLOBAL _game_boss_alive
754   0000              	GLOBAL _game_boss
755   0000              	GLOBAL _game_world
756   0000              	GLOBAL _game_gravity
757   0000              	GLOBAL _player_hit_time
758   0000              	GLOBAL _player_lin_scr
759   0000              	GLOBAL _player_col_scr
760   0000              	GLOBAL _player_lvl
761   0000              	GLOBAL _player_int
762   0000              	GLOBAL _player_str
763   0000              	GLOBAL _player_max_vita
764   0000              	GLOBAL _player_max_mana
765   0000              	GLOBAL _player_vita
766   0000              	GLOBAL _player_mana
767   0000              	GLOBAL _player_keys
768   0000              	GLOBAL _player_vel_inc
769   0000              	GLOBAL _player_vel_y1
770   0000              	GLOBAL _player_vel_y0
771   0000              	GLOBAL _player_vel_y
772   0000              	GLOBAL _player_vel_x
773   0000              	GLOBAL _player_joy
774   0000              	GLOBAL _player_score
775   0000              	GLOBAL _last_time
776   0000              	GLOBAL _player_slide
777   0000              	GLOBAL _spr_timer
778   0000              	GLOBAL _jump_lin
779   0000              	GLOBAL _player_hit_col
780   0000              	GLOBAL _player_hit_lin
781   0000              	GLOBAL _colint
782   0000              	GLOBAL _col
783   0000              	GLOBAL _lin
784   0000              	GLOBAL _tile
785   0000              	GLOBAL _state_a
786   0000              	GLOBAL _state
787   0000              	GLOBAL _class
788   0000              	GLOBAL _tbuffer
789   0000              	GLOBAL _dirs
790   0000              	GLOBAL _k1
791   0000              	GLOBAL _joyfunc1
792   0000              	GLOBAL _btiles
793   0000              	GLOBAL _spec128
794   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
795   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
797   0000              	GLOBAL _ay_effect_20
798   0000              	GLOBAL _ay_effect_19
799   0000              	GLOBAL _ay_effect_18
800   0000              	GLOBAL _ay_effect_17
801   0000              	GLOBAL _ay_effect_16
802   0000              	GLOBAL _ay_effect_15
803   0000              	GLOBAL _ay_effect_14
804   0000              	GLOBAL _ay_effect_13
805   0000              	GLOBAL _ay_effect_12
806   0000              	GLOBAL _ay_effect_11
807   0000              	GLOBAL _ay_effect_10
808   0000              	GLOBAL _ay_effect_09
809   0000              	GLOBAL _ay_effect_08
810   0000              	GLOBAL _ay_effect_07
811   0000              	GLOBAL _ay_effect_06
812   0000              	GLOBAL _ay_effect_05
813   0000              	GLOBAL _ay_effect_04
814   0000              	GLOBAL _ay_effect_03
815   0000              	GLOBAL _ay_effect_02
816   0000              	GLOBAL _ay_effect_01
817   0000              	GLOBAL _pb_midi_phase_1
818   0000              	GLOBAL _pb_midi_title
819   0000              	GLOBAL _control_method
820   0000              	GLOBAL _world1_h
821   0000              	GLOBAL _world1_w
822   0000              	GLOBAL _world1
823   0000              	GLOBAL _paper1
824   0000              	GLOBAL _lenght1
825   0000              	GLOBAL _start_scr1
826   0000              	GLOBAL _world0_h
827   0000              	GLOBAL _world0_w
828   0000              	GLOBAL _world0
829   0000              	GLOBAL _paper0
830   0000              	GLOBAL _lenght0
831   0000              	GLOBAL _start_scr0
832   0000              ;--------------------------------------------------------
833   0000              ; special function registers
834   0000              ;--------------------------------------------------------
835   0000              defc _IO_FE	=	0x00fe
836   0000              defc _IO_1FFD	=	0x1ffd
837   0000              defc _IO_7FFD	=	0x7ffd
838   0000              ;--------------------------------------------------------
839   0000              ; ram data
840   0000              ;--------------------------------------------------------
841   0000              	SECTION bss_compiler
842   0000              ;--------------------------------------------------------
843   0000              ; ram data
844   0000              ;--------------------------------------------------------
845   0000              
846   0000              IF 0
847   0000              
848   0000              ; .area _INITIALIZED removed by z88dk
849   0000              
850   0000              
851   0000              ENDIF
852   0000              
853   0000              ;--------------------------------------------------------
854   0000              ; absolute external ram data
855   0000              ;--------------------------------------------------------
856   0000              	SECTION IGNORE
857   0000              ;--------------------------------------------------------
858   0000              ; global & static initialisations
859   0000              ;--------------------------------------------------------
860   0000              	SECTION code_crt_init
861   0000              ;--------------------------------------------------------
862   0000              ; Home
863   0000              ;--------------------------------------------------------
864   0000              	SECTION IGNORE
865   0000              ;--------------------------------------------------------
866   0000              ; code
867   0000              ;--------------------------------------------------------
868   0000              	SECTION code_compiler
869   0000              ;	---------------------------------
870   0000              ; Function spr_calc_index
871   0000              ; ---------------------------------
872   0000              _spr_calc_index:
873   0000  CD 00 00    	call	___sdcc_enter_ix
874   0003  DD 4E 05    	ld	c,(ix+5)
875   0006  CB 39       	srl	c
876   0008  06 00       	ld	b,0x00
877   000A  DD 7E 04    	ld	a,(ix+4)
878   000D  07          	rlca
879   000E  07          	rlca
880   000F  07          	rlca
881   0010  07          	rlca
882   0011  E6 0F       	and	a,0x0f
883   0013  6F          	ld	l, a
884   0014  26 00       	ld	h,0x00
885   0016  29          	add	hl, hl
886   0017  29          	add	hl, hl
887   0018  29          	add	hl, hl
888   0019  29          	add	hl, hl
889   001A  09          	add	hl, bc
890   001B  DD E1       	pop	ix
891   001D  C9          	ret
892   001E              	SECTION code_compiler
893   001E              ;	---------------------------------
894   001E              ; Function spr_chktime
895   001E              ; ---------------------------------
896   001E              _spr_chktime:
897   001E  CD 00 00    	call	___sdcc_enter_ix
898   0021  5E          	ld	e,(hl)
899   0022  F5          	push	af
900   0023  16 00       	ld	d,0x00
901   0025  4D          	ld	c,l
902   0026  44          	ld	b,h
903   0027  21 00 00    	ld	hl,_sprite_speed_alt
904   002A  19          	add	hl, de
905   002B  7E          	ld	a, (hl)
906   002C  B7          	or	a,a
907   002D  20 15       	jr	NZ,l_spr_chktime_00102
908   002F  57          	ld	d,a
909   0030  21 00 00    	ld	hl,_class
910   0033  19          	add	hl, de
911   0034  56          	ld	d, (hl)
912   0035  3E 00       	ld	a, +((_sprite_speed) & 0xFF)
913   0037  82          	add	a, d
914   0038  6F          	ld	l, a
915   0039  3E 00       	ld	a, +((_sprite_speed) / 256)
916   003B  CE 00       	adc	a,0x00
917   003D  67          	ld	h, a
918   003E  7E          	ld	a, (hl)
919   003F  32 00 00    	ld	(_tmp),a
920   0042  18 03       	jr	l_spr_chktime_00103
921   0044              l_spr_chktime_00102:
922   0044  32 00 00    	ld	(_tmp),a
923   0047              l_spr_chktime_00103:
924   0047  3A 00 00    	ld	a,(_tmp)
925   004A  DD 77 FE    	ld	(ix-2),a
926   004D  26 00       	ld	h,0x00
927   004F  DD 74 FF    	ld	(ix-1),h
928   0052  6B          	ld	l, e
929   0053  29          	add	hl, hl
930   0054  11 00 00    	ld	de,_last_time
931   0057  19          	add	hl, de
932   0058  5E          	ld	e, (hl)
933   0059  23          	inc	hl
934   005A  56          	ld	d, (hl)
935   005B  C5          	push	bc
936   005C  DD 6E FE    	ld	l,(ix-2)
937   005F  DD 66 FF    	ld	h,(ix-1)
938   0062  E5          	push	hl
939   0063  D5          	push	de
940   0064  CD 00 00    	call	_game_check_time
941   0067  F1          	pop	af
942   0068  F1          	pop	af
943   0069  C1          	pop	bc
944   006A  7D          	ld	a,l
945   006B  B7          	or	a, a
946   006C  28 14       	jr	Z,l_spr_chktime_00105
947   006E  0A          	ld	a, (bc)
948   006F  6F          	ld	l, a
949   0070  26 00       	ld	h,0x00
950   0072  29          	add	hl, hl
951   0073  01 00 00    	ld	bc,_last_time
952   0076  09          	add	hl,bc
953   0077  ED 5B 00 00 	ld	de,(_curr_time)
954   007B  73          	ld	(hl),e
955   007C  23          	inc	hl
956   007D  72          	ld	(hl),d
957   007E  2E 01       	ld	l,0x01
958   0080  18 02       	jr	l_spr_chktime_00106
959   0082              l_spr_chktime_00105:
960   0082  2E 00       	ld	l,0x00
961   0084              l_spr_chktime_00106:
962   0084  F1          	pop	af
963   0085  DD E1       	pop	ix
964   0087  C9          	ret
965   0088              	SECTION code_compiler
966   0088              ;	---------------------------------
967   0088              ; Function spr_move_up
968   0088              ; ---------------------------------
969   0088              _spr_move_up:
970   0088  2A 00 00    	ld	hl,(_sprite)
971   008B  26 00       	ld	h,0x00
972   008D  01 00 00    	ld	bc,_lin
973   0090  09          	add	hl,bc
974   0091  7E          	ld	a,(hl)
975   0092  C6 FE       	add	a,0xfe
976   0094  32 00 00    	ld	(_s_lin1),a
977   0097  07          	rlca
978   0098  07          	rlca
979   0099  07          	rlca
980   009A  07          	rlca
981   009B  E6 0F       	and	a,0x0f
982   009D  4F          	ld	c, a
983   009E  3A 00 00    	ld	a,(_s_lin0)
984   00A1  07          	rlca
985   00A2  07          	rlca
986   00A3  07          	rlca
987   00A4  07          	rlca
988   00A5  E6 0F       	and	a,0x0f
989   00A7  47          	ld	b, a
990   00A8  79          	ld	a, c
991   00A9  90          	sub	a, b
992   00AA  20 04       	jr	NZ,l_spr_move_up_00136
993   00AC  3E 01       	ld	a,0x01
994   00AE  18 01       	jr	l_spr_move_up_00137
995   00B0              l_spr_move_up_00136:
996   00B0  AF          	xor	a,a
997   00B1              l_spr_move_up_00137:
998   00B1  EE 01       	xor	a,0x01
999   00B3  28 1D       	jr	Z,l_spr_move_up_00104
1000  00B5  2A 00 00    	ld	hl,(_sprite)
1001  00B8  26 00       	ld	h,0x00
1002  00BA  01 00 00    	ld	bc,_col
1003  00BD  09          	add	hl,bc
1004  00BE  7E          	ld	a,(hl)
1005  00BF  F5          	push	af
1006  00C0  33          	inc	sp
1007  00C1  3A 00 00    	ld	a,(_s_lin1)
1008  00C4  F5          	push	af
1009  00C5  33          	inc	sp
1010  00C6  CD 00 00    	call	_game_check_map
1011  00C9  F1          	pop	af
1012  00CA  7C          	ld	a,h
1013  00CB  B5          	or	a,l
1014  00CC  28 04       	jr	Z,l_spr_move_up_00104
1015  00CE  2E 01       	ld	l,0x01
1016  00D0  18 50       	jr	l_spr_move_up_00114
1017  00D2              l_spr_move_up_00104:
1018  00D2  2A 00 00    	ld	hl,(_sprite)
1019  00D5  26 00       	ld	h,0x00
1020  00D7  01 00 00    	ld	bc,_lin
1021  00DA  09          	add	hl,bc
1022  00DB  3A 00 00    	ld	a,(_s_lin1)
1023  00DE  D6 10       	sub	a,0x10
1024  00E0  4D          	ld	c,l
1025  00E1  44          	ld	b,h
1026  00E2  30 38       	jr	NC,l_spr_move_up_00112
1027  00E4  3A 00 00    	ld	a,(_sprite)
1028  00E7  D6 07       	sub	a,0x07
1029  00E9  20 2B       	jr	NZ,l_spr_move_up_00109
1030  00EB  CD 5A 04    	call	_spr_page_up
1031  00EE  5D          	ld	e, l
1032  00EF  2A 00 00    	ld	hl,(_sprite)
1033  00F2  26 00       	ld	h,0x00
1034  00F4  01 00 00    	ld	bc,_lin
1035  00F7  09          	add	hl,bc
1036  00F8  7B          	ld	a,e
1037  00F9  B7          	or	a,a
1038  00FA  4D          	ld	c,l
1039  00FB  44          	ld	b,h
1040  00FC  28 12       	jr	Z,l_spr_move_up_00106
1041  00FE  3E 90       	ld	a,0x90
1042  0100  02          	ld	(bc), a
1043  0101  21 00 00    	ld	hl,_player_lin_scr
1044  0104  36 00       	ld	(hl),0x00
1045  0106  3A 07 00    	ld	a,(_col + 0x0007)
1046  0109  32 00 00    	ld	(_player_col_scr),a
1047  010C  2E 01       	ld	l,0x01
1048  010E  18 12       	jr	l_spr_move_up_00114
1049  0110              l_spr_move_up_00106:
1050  0110  AF          	xor	a, a
1051  0111  02          	ld	(bc), a
1052  0112  2E 01       	ld	l,0x01
1053  0114  18 0C       	jr	l_spr_move_up_00114
1054  0116              l_spr_move_up_00109:
1055  0116  AF          	xor	a, a
1056  0117  02          	ld	(bc), a
1057  0118  2E 01       	ld	l,0x01
1058  011A  18 06       	jr	l_spr_move_up_00114
1059  011C              l_spr_move_up_00112:
1060  011C  3A 00 00    	ld	a,(_s_lin1)
1061  011F  02          	ld	(bc), a
1062  0120  2E 00       	ld	l,0x00
1063  0122              l_spr_move_up_00114:
1064  0122  C9          	ret
1065  0123              	SECTION code_compiler
1066  0123              ;	---------------------------------
1067  0123              ; Function spr_move_down
1068  0123              ; ---------------------------------
1069  0123              _spr_move_down:
1070  0123  2A 00 00    	ld	hl,(_sprite)
1071  0126  26 00       	ld	h,0x00
1072  0128  01 00 00    	ld	bc,_lin
1073  012B  09          	add	hl,bc
1074  012C  7E          	ld	a,(hl)
1075  012D  C6 10       	add	a,0x10
1076  012F  32 00 00    	ld	(_s_lin1),a
1077  0132  07          	rlca
1078  0133  07          	rlca
1079  0134  07          	rlca
1080  0135  07          	rlca
1081  0136  E6 0F       	and	a,0x0f
1082  0138  4F          	ld	c, a
1083  0139  3A 00 00    	ld	a,(_s_lin0)
1084  013C  07          	rlca
1085  013D  07          	rlca
1086  013E  07          	rlca
1087  013F  07          	rlca
1088  0140  E6 0F       	and	a,0x0f
1089  0142  47          	ld	b, a
1090  0143  79          	ld	a, c
1091  0144  90          	sub	a, b
1092  0145  20 04       	jr	NZ,l_spr_move_down_00136
1093  0147  3E 01       	ld	a,0x01
1094  0149  18 01       	jr	l_spr_move_down_00137
1095  014B              l_spr_move_down_00136:
1096  014B  AF          	xor	a,a
1097  014C              l_spr_move_down_00137:
1098  014C  EE 01       	xor	a,0x01
1099  014E  28 1D       	jr	Z,l_spr_move_down_00104
1100  0150  2A 00 00    	ld	hl,(_sprite)
1101  0153  26 00       	ld	h,0x00
1102  0155  01 00 00    	ld	bc,_col
1103  0158  09          	add	hl,bc
1104  0159  7E          	ld	a,(hl)
1105  015A  F5          	push	af
1106  015B  33          	inc	sp
1107  015C  3A 00 00    	ld	a,(_s_lin1)
1108  015F  F5          	push	af
1109  0160  33          	inc	sp
1110  0161  CD 00 00    	call	_game_check_map
1111  0164  F1          	pop	af
1112  0165  7C          	ld	a,h
1113  0166  B5          	or	a,l
1114  0167  28 04       	jr	Z,l_spr_move_down_00104
1115  0169  2E 01       	ld	l,0x01
1116  016B  18 54       	jr	l_spr_move_down_00114
1117  016D              l_spr_move_down_00104:
1118  016D  2A 00 00    	ld	hl,(_sprite)
1119  0170  26 00       	ld	h,0x00
1120  0172  01 00 00    	ld	bc,_lin
1121  0175  09          	add	hl,bc
1122  0176  3E 90       	ld	a,0x90
1123  0178  4D          	ld	c,l
1124  0179  44          	ld	b,h
1125  017A  21 00 00    	ld	hl,_s_lin1
1126  017D  96          	sub	a, (hl)
1127  017E  30 39       	jr	NC,l_spr_move_down_00112
1128  0180  3A 00 00    	ld	a,(_sprite)
1129  0183  D6 07       	sub	a,0x07
1130  0185  20 2B       	jr	NZ,l_spr_move_down_00109
1131  0187  CD 21 04    	call	_spr_page_down
1132  018A  5D          	ld	e, l
1133  018B  2A 00 00    	ld	hl,(_sprite)
1134  018E  26 00       	ld	h,0x00
1135  0190  01 00 00    	ld	bc,_lin
1136  0193  09          	add	hl,bc
1137  0194  7B          	ld	a,e
1138  0195  B7          	or	a,a
1139  0196  4D          	ld	c,l
1140  0197  44          	ld	b,h
1141  0198  28 11       	jr	Z,l_spr_move_down_00106
1142  019A  AF          	xor	a, a
1143  019B  02          	ld	(bc), a
1144  019C  21 00 00    	ld	hl,_player_lin_scr
1145  019F  36 00       	ld	(hl),0x00
1146  01A1  3A 07 00    	ld	a,(_col + 0x0007)
1147  01A4  32 00 00    	ld	(_player_col_scr),a
1148  01A7  2E 01       	ld	l,0x01
1149  01A9  18 16       	jr	l_spr_move_down_00114
1150  01AB              l_spr_move_down_00106:
1151  01AB  3E 90       	ld	a,0x90
1152  01AD  02          	ld	(bc), a
1153  01AE  2E 01       	ld	l,0x01
1154  01B0  18 0F       	jr	l_spr_move_down_00114
1155  01B2              l_spr_move_down_00109:
1156  01B2  3E 90       	ld	a,0x90
1157  01B4  02          	ld	(bc), a
1158  01B5  2E 01       	ld	l,0x01
1159  01B7  18 08       	jr	l_spr_move_down_00114
1160  01B9              l_spr_move_down_00112:
1161  01B9  3A 00 00    	ld	a,(_s_lin1)
1162  01BC  C6 F2       	add	a,0xf2
1163  01BE  02          	ld	(bc), a
1164  01BF  2E 00       	ld	l,0x00
1165  01C1              l_spr_move_down_00114:
1166  01C1  C9          	ret
1167  01C2              	SECTION code_compiler
1168  01C2              ;	---------------------------------
1169  01C2              ; Function spr_move_horizontal
1170  01C2              ; ---------------------------------
1171  01C2              _spr_move_horizontal:
1172  01C2  2A 00 00    	ld	hl,(_sprite)
1173  01C5  26 00       	ld	h,0x00
1174  01C7  01 00 00    	ld	bc,_state
1175  01CA  09          	add	hl,bc
1176  01CB  7E          	ld	a,(hl)
1177  01CC  CB 57       	bit	2, a
1178  01CE  28 05       	jr	Z,l_spr_move_horizontal_00104
1179  01D0  CD E1 01    	call	_spr_move_right
1180  01D3  18 0B       	jr	l_spr_move_horizontal_00106
1181  01D5              l_spr_move_horizontal_00104:
1182  01D5  CB 5F       	bit	3, a
1183  01D7  28 05       	jr	Z,l_spr_move_horizontal_00105
1184  01D9  CD E0 02    	call	_spr_move_left
1185  01DC  18 02       	jr	l_spr_move_horizontal_00106
1186  01DE              l_spr_move_horizontal_00105:
1187  01DE  2E 00       	ld	l,0x00
1188  01E0              l_spr_move_horizontal_00106:
1189  01E0  C9          	ret
1190  01E1              	SECTION code_compiler
1191  01E1              ;	---------------------------------
1192  01E1              ; Function spr_move_right
1193  01E1              ; ---------------------------------
1194  01E1              _spr_move_right:
1195  01E1  2A 00 00    	ld	hl,(_sprite)
1196  01E4  26 00       	ld	h,0x00
1197  01E6  01 00 00    	ld	bc,_colint
1198  01E9  09          	add	hl,bc
1199  01EA  7E          	ld	a,(hl)
1200  01EB  3C          	inc	a
1201  01EC  77          	ld	(hl),a
1202  01ED  4F          	ld	c,a
1203  01EE  3A 00 00    	ld	a,(_sprite)
1204  01F1  5F          	ld	e,a
1205  01F2  16 00       	ld	d,0x00
1206  01F4  21 00 00    	ld	hl,_class
1207  01F7  19          	add	hl,de
1208  01F8  5E          	ld	e, (hl)
1209  01F9  16 00       	ld	d,0x00
1210  01FB  21 00 00    	ld	hl,_sprite_frames
1211  01FE  19          	add	hl, de
1212  01FF  7E          	ld	a, (hl)
1213  0200  91          	sub	a, c
1214  0201  C2 DD 02    	jp	NZ,l_spr_move_right_00118
1215  0204  2A 00 00    	ld	hl,(_sprite)
1216  0207  26 00       	ld	h,0x00
1217  0209  01 00 00    	ld	bc,_lin
1218  020C  09          	add	hl,bc
1219  020D  7E          	ld	a,(hl)
1220  020E  32 00 00    	ld	(_s_lin1),a
1221  0211  2A 00 00    	ld	hl,(_sprite)
1222  0214  26 00       	ld	h,0x00
1223  0216  01 00 00    	ld	bc,_col
1224  0219  09          	add	hl,bc
1225  021A  7E          	ld	a,(hl)
1226  021B  FE 1E       	cp	a,0x1e
1227  021D  30 61       	jr	NC,l_spr_move_right_00108
1228  021F  3C          	inc	a
1229  0220  32 00 00    	ld	(_s_col1),a
1230  0223  21 00 00    	ld	hl,_sprite_horizontal_check
1231  0226  36 01       	ld	(hl),0x01
1232  0228  2A FF FF    	ld	hl,(_s_col1 - 1)
1233  022B  3A 00 00    	ld	a,(_s_lin1)
1234  022E  6F          	ld	l,a
1235  022F  E5          	push	hl
1236  0230  CD 00 00    	call	_game_check_map
1237  0233  F1          	pop	af
1238  0234  7D          	ld	a,l
1239  0235  32 00 00    	ld	(_tmp0),a
1240  0238  B7          	or	a, a
1241  0239  20 16       	jr	NZ,l_spr_move_right_00102
1242  023B  3A 00 00    	ld	a,(_s_lin1)
1243  023E  C6 0F       	add	a,0x0f
1244  0240  4F          	ld	c, a
1245  0241  3A 00 00    	ld	a,(_s_col1)
1246  0244  F5          	push	af
1247  0245  33          	inc	sp
1248  0246  79          	ld	a, c
1249  0247  F5          	push	af
1250  0248  33          	inc	sp
1251  0249  CD 00 00    	call	_game_check_map
1252  024C  F1          	pop	af
1253  024D  7D          	ld	a,l
1254  024E  32 00 00    	ld	(_tmp0),a
1255  0251              l_spr_move_right_00102:
1256  0251  21 00 00    	ld	hl,_sprite_horizontal_check
1257  0254  36 00       	ld	(hl),0x00
1258  0256  3A 00 00    	ld	a,(_tmp0)
1259  0259  B7          	or	a, a
1260  025A  28 24       	jr	Z,l_spr_move_right_00108
1261  025C  2A 00 00    	ld	hl,(_sprite)
1262  025F  26 00       	ld	h,0x00
1263  0261  01 00 00    	ld	bc,_colint
1264  0264  09          	add	hl,bc
1265  0265  7E          	ld	a,(hl)
1266  0266  C6 FF       	add	a,0xff
1267  0268  77          	ld	(hl),a
1268  0269  3A 00 00    	ld	a,(_sprite_on_air)
1269  026C  B7          	or	a,a
1270  026D  20 0D       	jr	NZ,l_spr_move_right_00104
1271  026F  2A 00 00    	ld	hl,(_sprite)
1272  0272  26 00       	ld	h,0x00
1273  0274  01 00 00    	ld	bc,_colint
1274  0277  09          	add	hl,bc
1275  0278  7E          	ld	a,(hl)
1276  0279  C6 FF       	add	a,0xff
1277  027B  77          	ld	(hl),a
1278  027C              l_spr_move_right_00104:
1279  027C  2E 01       	ld	l,0x01
1280  027E  18 5F       	jr	l_spr_move_right_00119
1281  0280              l_spr_move_right_00108:
1282  0280  2A 00 00    	ld	hl,(_sprite)
1283  0283  26 00       	ld	h,0x00
1284  0285  01 00 00    	ld	bc,_col
1285  0288  09          	add	hl,bc
1286  0289  34          	inc	(hl)
1287  028A  2A 00 00    	ld	hl,(_sprite)
1288  028D  26 00       	ld	h,0x00
1289  028F  01 00 00    	ld	bc,_colint
1290  0292  09          	add	hl,bc
1291  0293  AF          	xor	a,a
1292  0294  77          	ld	(hl),a
1293  0295  2A 00 00    	ld	hl,(_sprite)
1294  0298  26 00       	ld	h,0x00
1295  029A  01 00 00    	ld	bc,_col
1296  029D  09          	add	hl,bc
1297  029E  5E          	ld	e,(hl)
1298  029F  3E 1E       	ld	a,0x1e
1299  02A1  93          	sub	a,e
1300  02A2  30 39       	jr	NC,l_spr_move_right_00118
1301  02A4  3A 00 00    	ld	a,(_sprite)
1302  02A7  D6 07       	sub	a,0x07
1303  02A9  28 04       	jr	Z,l_spr_move_right_00156
1304  02AB  4D          	ld	c,l
1305  02AC  44          	ld	b,h
1306  02AD  18 27       	jr	l_spr_move_right_00113
1307  02AF              l_spr_move_right_00156:
1308  02AF  CD E4 03    	call	_spr_page_right
1309  02B2  3A 00 00    	ld	a,(_sprite)
1310  02B5  C6 00       	add	a,+((_col) & 0xFF)
1311  02B7  4D          	ld	c,l
1312  02B8  5F          	ld	e,a
1313  02B9  3E 00       	ld	a,+((_col) / 256)
1314  02BB  CE 00       	adc	a,0x00
1315  02BD  57          	ld	d,a
1316  02BE  79          	ld	a, c
1317  02BF  B7          	or	a, a
1318  02C0  28 0F       	jr	Z,l_spr_move_right_00110
1319  02C2  AF          	xor	a, a
1320  02C3  12          	ld	(de), a
1321  02C4  3A 07 00    	ld	a,(_lin + 7)
1322  02C7  32 00 00    	ld	(_player_lin_scr),a
1323  02CA  21 00 00    	ld	hl,_player_col_scr
1324  02CD  36 00       	ld	(hl),0x00
1325  02CF  18 08       	jr	l_spr_move_right_00114
1326  02D1              l_spr_move_right_00110:
1327  02D1  3E 1E       	ld	a,0x1e
1328  02D3  12          	ld	(de), a
1329  02D4  18 03       	jr	l_spr_move_right_00114
1330  02D6              l_spr_move_right_00113:
1331  02D6  3E 1E       	ld	a,0x1e
1332  02D8  02          	ld	(bc), a
1333  02D9              l_spr_move_right_00114:
1334  02D9  2E 01       	ld	l,0x01
1335  02DB  18 02       	jr	l_spr_move_right_00119
1336  02DD              l_spr_move_right_00118:
1337  02DD  2E 00       	ld	l,0x00
1338  02DF              l_spr_move_right_00119:
1339  02DF  C9          	ret
1340  02E0              	SECTION code_compiler
1341  02E0              ;	---------------------------------
1342  02E0              ; Function spr_move_left
1343  02E0              ; ---------------------------------
1344  02E0              _spr_move_left:
1345  02E0  2A 00 00    	ld	hl,(_sprite)
1346  02E3  26 00       	ld	h,0x00
1347  02E5  01 00 00    	ld	bc,_colint
1348  02E8  09          	add	hl,bc
1349  02E9  7E          	ld	a,(hl)
1350  02EA  C6 FF       	add	a,0xff
1351  02EC  77          	ld	(hl),a
1352  02ED  2A 00 00    	ld	hl,(_sprite)
1353  02F0  26 00       	ld	h,0x00
1354  02F2  01 00 00    	ld	bc,_colint
1355  02F5  09          	add	hl,bc
1356  02F6  7E          	ld	a,(hl)
1357  02F7  3C          	inc	a
1358  02F8  C2 E1 03    	jp	NZ,l_spr_move_left_00118
1359  02FB  2A 00 00    	ld	hl,(_sprite)
1360  02FE  26 00       	ld	h,0x00
1361  0300  01 00 00    	ld	bc,_lin
1362  0303  09          	add	hl,bc
1363  0304  7E          	ld	a,(hl)
1364  0305  32 00 00    	ld	(_s_lin1),a
1365  0308  2A 00 00    	ld	hl,(_sprite)
1366  030B  26 00       	ld	h,0x00
1367  030D  01 00 00    	ld	bc,_col
1368  0310  09          	add	hl,bc
1369  0311  7E          	ld	a,(hl)
1370  0312  B7          	or	a, a
1371  0313  28 5C       	jr	Z,l_spr_move_left_00108
1372  0315  C6 FF       	add	a,0xff
1373  0317  32 00 00    	ld	(_s_col1),a
1374  031A  21 00 00    	ld	hl,_sprite_horizontal_check
1375  031D  36 01       	ld	(hl),0x01
1376  031F  2A FF FF    	ld	hl,(_s_col1 - 1)
1377  0322  3A 00 00    	ld	a,(_s_lin1)
1378  0325  6F          	ld	l,a
1379  0326  E5          	push	hl
1380  0327  CD 00 00    	call	_game_check_map
1381  032A  F1          	pop	af
1382  032B  7D          	ld	a,l
1383  032C  32 00 00    	ld	(_tmp0),a
1384  032F  B7          	or	a, a
1385  0330  20 16       	jr	NZ,l_spr_move_left_00102
1386  0332  3A 00 00    	ld	a,(_s_lin1)
1387  0335  C6 0F       	add	a,0x0f
1388  0337  4F          	ld	c, a
1389  0338  3A 00 00    	ld	a,(_s_col1)
1390  033B  F5          	push	af
1391  033C  33          	inc	sp
1392  033D  79          	ld	a, c
1393  033E  F5          	push	af
1394  033F  33          	inc	sp
1395  0340  CD 00 00    	call	_game_check_map
1396  0343  F1          	pop	af
1397  0344  7D          	ld	a,l
1398  0345  32 00 00    	ld	(_tmp0),a
1399  0348              l_spr_move_left_00102:
1400  0348  21 00 00    	ld	hl,_sprite_horizontal_check
1401  034B  36 00       	ld	(hl),0x00
1402  034D  3A 00 00    	ld	a,(_tmp0)
1403  0350  B7          	or	a, a
1404  0351  28 1E       	jr	Z,l_spr_move_left_00108
1405  0353  2A 00 00    	ld	hl,(_sprite)
1406  0356  26 00       	ld	h,0x00
1407  0358  01 00 00    	ld	bc,_colint
1408  035B  09          	add	hl,bc
1409  035C  34          	inc	(hl)
1410  035D  3A 00 00    	ld	a,(_sprite_on_air)
1411  0360  B7          	or	a,a
1412  0361  20 0A       	jr	NZ,l_spr_move_left_00104
1413  0363  2A 00 00    	ld	hl,(_sprite)
1414  0366  26 00       	ld	h,0x00
1415  0368  01 00 00    	ld	bc,_colint
1416  036B  09          	add	hl,bc
1417  036C  34          	inc	(hl)
1418  036D              l_spr_move_left_00104:
1419  036D  2E 01       	ld	l,0x01
1420  036F  18 72       	jr	l_spr_move_left_00119
1421  0371              l_spr_move_left_00108:
1422  0371  2A 00 00    	ld	hl,(_sprite)
1423  0374  26 00       	ld	h,0x00
1424  0376  01 00 00    	ld	bc,_col
1425  0379  09          	add	hl,bc
1426  037A  7E          	ld	a,(hl)
1427  037B  C6 FF       	add	a,0xff
1428  037D  77          	ld	(hl),a
1429  037E  2A 00 00    	ld	hl,(_sprite)
1430  0381  26 00       	ld	h,0x00
1431  0383  01 00 00    	ld	bc,_colint
1432  0386  09          	add	hl,bc
1433  0387  3A 00 00    	ld	a,(_sprite)
1434  038A  5F          	ld	e,a
1435  038B  16 00       	ld	d,0x00
1436  038D  4D          	ld	c,l
1437  038E  44          	ld	b,h
1438  038F  21 00 00    	ld	hl,_class
1439  0392  19          	add	hl,de
1440  0393  5E          	ld	e, (hl)
1441  0394  16 00       	ld	d,0x00
1442  0396  21 00 00    	ld	hl,_sprite_frames
1443  0399  19          	add	hl, de
1444  039A  5E          	ld	e, (hl)
1445  039B  1D          	dec	e
1446  039C  7B          	ld	a, e
1447  039D  02          	ld	(bc), a
1448  039E  2A 00 00    	ld	hl,(_sprite)
1449  03A1  26 00       	ld	h,0x00
1450  03A3  01 00 00    	ld	bc,_col
1451  03A6  09          	add	hl,bc
1452  03A7  7E          	ld	a,(hl)
1453  03A8  3C          	inc	a
1454  03A9  20 36       	jr	NZ,l_spr_move_left_00118
1455  03AB  3A 00 00    	ld	a,(_sprite)
1456  03AE  D6 07       	sub	a,0x07
1457  03B0  4D          	ld	c,l
1458  03B1  44          	ld	b,h
1459  03B2  20 27       	jr	NZ,l_spr_move_left_00113
1460  03B4  CD 04 04    	call	_spr_page_left
1461  03B7  3A 00 00    	ld	a,(_sprite)
1462  03BA  C6 00       	add	a,+((_col) & 0xFF)
1463  03BC  4D          	ld	c,l
1464  03BD  5F          	ld	e,a
1465  03BE  3E 00       	ld	a,+((_col) / 256)
1466  03C0  CE 00       	adc	a,0x00
1467  03C2  57          	ld	d,a
1468  03C3  79          	ld	a, c
1469  03C4  B7          	or	a, a
1470  03C5  28 10       	jr	Z,l_spr_move_left_00110
1471  03C7  3E 1E       	ld	a,0x1e
1472  03C9  12          	ld	(de), a
1473  03CA  3A 07 00    	ld	a,(_lin + 7)
1474  03CD  32 00 00    	ld	(_player_lin_scr),a
1475  03D0  21 00 00    	ld	hl,_player_col_scr
1476  03D3  36 1E       	ld	(hl),0x1e
1477  03D5  18 06       	jr	l_spr_move_left_00114
1478  03D7              l_spr_move_left_00110:
1479  03D7  AF          	xor	a, a
1480  03D8  12          	ld	(de), a
1481  03D9  18 02       	jr	l_spr_move_left_00114
1482  03DB              l_spr_move_left_00113:
1483  03DB  AF          	xor	a, a
1484  03DC  02          	ld	(bc), a
1485  03DD              l_spr_move_left_00114:
1486  03DD  2E 01       	ld	l,0x01
1487  03DF  18 02       	jr	l_spr_move_left_00119
1488  03E1              l_spr_move_left_00118:
1489  03E1  2E 00       	ld	l,0x00
1490  03E3              l_spr_move_left_00119:
1491  03E3  C9          	ret
1492  03E4              	SECTION code_compiler
1493  03E4              ;	---------------------------------
1494  03E4              ; Function spr_page_right
1495  03E4              ; ---------------------------------
1496  03E4              _spr_page_right:
1497  03E4  3A 00 00    	ld	a,(_map_width)
1498  03E7  21 00 00    	ld	hl,_scr_curr
1499  03EA  96          	sub	a, (hl)
1500  03EB  38 14       	jr	C,l_spr_page_right_00102
1501  03ED  3A 00 00    	ld	a,(_game_boss)
1502  03F0  B7          	or	a, a
1503  03F1  20 0E       	jr	NZ,l_spr_page_right_00102
1504  03F3  21 00 00    	ld	hl,_scr_curr
1505  03F6  34          	inc	(hl)
1506  03F7  CD 94 04    	call	_spr_page_map
1507  03FA  CD 00 00    	call	_game_draw_screen
1508  03FD  2E 01       	ld	l,0x01
1509  03FF  18 02       	jr	l_spr_page_right_00104
1510  0401              l_spr_page_right_00102:
1511  0401  2E 00       	ld	l,0x00
1512  0403              l_spr_page_right_00104:
1513  0403  C9          	ret
1514  0404              	SECTION code_compiler
1515  0404              ;	---------------------------------
1516  0404              ; Function spr_page_left
1517  0404              ; ---------------------------------
1518  0404              _spr_page_left:
1519  0404  3A 00 00    	ld	a,(_scr_curr)
1520  0407  B7          	or	a, a
1521  0408  28 14       	jr	Z,l_spr_page_left_00102
1522  040A  3A 00 00    	ld	a,(_game_boss)
1523  040D  B7          	or	a, a
1524  040E  20 0E       	jr	NZ,l_spr_page_left_00102
1525  0410  21 00 00    	ld	hl,_scr_curr
1526  0413  35          	dec	(hl)
1527  0414  CD 94 04    	call	_spr_page_map
1528  0417  CD 00 00    	call	_game_draw_screen
1529  041A  2E 01       	ld	l,0x01
1530  041C  18 02       	jr	l_spr_page_left_00104
1531  041E              l_spr_page_left_00102:
1532  041E  2E 00       	ld	l,0x00
1533  0420              l_spr_page_left_00104:
1534  0420  C9          	ret
1535  0421              	SECTION code_compiler
1536  0421              ;	---------------------------------
1537  0421              ; Function spr_page_down
1538  0421              ; ---------------------------------
1539  0421              _spr_page_down:
1540  0421  3A 00 00    	ld	a,(_scr_curr)
1541  0424  4F          	ld	c,a
1542  0425  06 00       	ld	b,0x00
1543  0427  3A 00 00    	ld	a,(_map_width)
1544  042A  5F          	ld	e,a
1545  042B  16 00       	ld	d,0x00
1546  042D  69          	ld	l, c
1547  042E  60          	ld	h, b
1548  042F  19          	add	hl, de
1549  0430  11 10 80    	ld	de,0x8010
1550  0433  29          	add	hl, hl
1551  0434  3F          	ccf
1552  0435  CB 1C       	rr	h
1553  0437  CB 1D       	rr	l
1554  0439  ED 52       	sbc	hl, de
1555  043B  30 1A       	jr	NC,l_spr_page_down_00102
1556  043D  3A 00 00    	ld	a,(_game_boss)
1557  0440  B7          	or	a, a
1558  0441  20 14       	jr	NZ,l_spr_page_down_00102
1559  0443  3A 00 00    	ld	a,(_scr_curr)
1560  0446  21 00 00    	ld	hl,_map_width
1561  0449  86          	add	a, (hl)
1562  044A  32 00 00    	ld	(_scr_curr),a
1563  044D  CD 94 04    	call	_spr_page_map
1564  0450  CD 00 00    	call	_game_draw_screen
1565  0453  2E 01       	ld	l,0x01
1566  0455  18 02       	jr	l_spr_page_down_00104
1567  0457              l_spr_page_down_00102:
1568  0457  2E 00       	ld	l,0x00
1569  0459              l_spr_page_down_00104:
1570  0459  C9          	ret
1571  045A              	SECTION code_compiler
1572  045A              ;	---------------------------------
1573  045A              ; Function spr_page_up
1574  045A              ; ---------------------------------
1575  045A              _spr_page_up:
1576  045A  3A 00 00    	ld	a,(_scr_curr)
1577  045D  4F          	ld	c,a
1578  045E  06 00       	ld	b,0x00
1579  0460  3A 00 00    	ld	a,(_map_width)
1580  0463  5F          	ld	e,a
1581  0464  16 00       	ld	d,0x00
1582  0466  79          	ld	a, c
1583  0467  93          	sub	a, e
1584  0468  4F          	ld	c, a
1585  0469  78          	ld	a, b
1586  046A  9A          	sbc	a, d
1587  046B  47          	ld	b, a
1588  046C  79          	ld	a, c
1589  046D  D6 10       	sub	a,0x10
1590  046F  78          	ld	a, b
1591  0470  17          	rla
1592  0471  3F          	ccf
1593  0472  1F          	rra
1594  0473  DE 80       	sbc	a,0x80
1595  0475  30 1A       	jr	NC,l_spr_page_up_00102
1596  0477  3A 00 00    	ld	a,(_game_boss)
1597  047A  B7          	or	a, a
1598  047B  20 14       	jr	NZ,l_spr_page_up_00102
1599  047D  3A 00 00    	ld	a,(_scr_curr)
1600  0480  21 00 00    	ld	hl,_map_width
1601  0483  96          	sub	a, (hl)
1602  0484  32 00 00    	ld	(_scr_curr),a
1603  0487  CD 94 04    	call	_spr_page_map
1604  048A  CD 00 00    	call	_game_draw_screen
1605  048D  2E 01       	ld	l,0x01
1606  048F  18 02       	jr	l_spr_page_up_00104
1607  0491              l_spr_page_up_00102:
1608  0491  2E 00       	ld	l,0x00
1609  0493              l_spr_page_up_00104:
1610  0493  C9          	ret
1611  0494              	SECTION code_compiler
1612  0494              ;	---------------------------------
1613  0494              ; Function spr_page_map
1614  0494              ; ---------------------------------
1615  0494              _spr_page_map:
1616  0494  CD 00 00    	call	___sdcc_enter_ix
1617  0497  21 F4 FF    	ld	hl, -12
1618  049A  39          	add	hl, sp
1619  049B  F9          	ld	sp, hl
1620  049C  21 00 00    	ld	hl,_game_world
1621  049F  5E          	ld	e, (hl)
1622  04A0  DD 36 F6 10 	ld	(ix-10),0x10
1623  04A4  21 00 00    	ld	hl,_scr_curr
1624  04A7  4E          	ld	c, (hl)
1625  04A8  F3          	di
1626  04A9  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1627  04AC  36 16       	ld	(hl),0x16
1628  04AE  C5          	push	bc
1629  04AF  3E 16       	ld	a,0x16
1630  04B1  01 FD 7F    	ld	bc,_IO_7FFD
1631  04B4  ED 79       	out	(c),a
1632  04B6  C1          	pop	bc
1633  04B7  7B          	ld	a, e
1634  04B8  B7          	or	a, a
1635  04B9  20 1E       	jr	NZ,l_spr_page_map_00102
1636  04BB  21 00 00    	ld	hl,_start_scr0
1637  04BE  56          	ld	d, (hl)
1638  04BF  06 00       	ld	b,0x00
1639  04C1  21 00 00    	ld	hl,_paper0
1640  04C4  09          	add	hl, bc
1641  04C5  7E          	ld	a, (hl)
1642  04C6  DD 77 FF    	ld	(ix-1),a
1643  04C9  21 00 00    	ld	hl,_world0_w
1644  04CC  4E          	ld	c, (hl)
1645  04CD  DD 71 FE    	ld	(ix-2),c
1646  04D0  21 00 00    	ld	hl,_world0_h
1647  04D3  4E          	ld	c, (hl)
1648  04D4  DD 71 FD    	ld	(ix-3),c
1649  04D7  18 1C       	jr	l_spr_page_map_00103
1650  04D9              l_spr_page_map_00102:
1651  04D9  21 00 00    	ld	hl,_start_scr1
1652  04DC  56          	ld	d, (hl)
1653  04DD  06 00       	ld	b,0x00
1654  04DF  21 00 00    	ld	hl,_paper0
1655  04E2  09          	add	hl, bc
1656  04E3  7E          	ld	a, (hl)
1657  04E4  DD 77 FF    	ld	(ix-1),a
1658  04E7  21 00 00    	ld	hl,_world1_w
1659  04EA  4E          	ld	c, (hl)
1660  04EB  DD 71 FE    	ld	(ix-2),c
1661  04EE  21 00 00    	ld	hl,_world1_h
1662  04F1  4E          	ld	c, (hl)
1663  04F2  DD 71 FD    	ld	(ix-3),c
1664  04F5              l_spr_page_map_00103:
1665  04F5  3E 10       	ld	a,0x10
1666  04F7  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1667  04FA  01 FD 7F    	ld	bc,_IO_7FFD
1668  04FD  ED 79       	out	(c),a
1669  04FF  21 00 00    	ld	hl,_game_start_scr
1670  0502  72          	ld	(hl), d
1671  0503  21 00 00    	ld	hl,0x0000
1672  0506  E3          	ex	(sp), hl
1673  0507  3A 00 00    	ld	a,(_scr_curr)
1674  050A  3C          	inc	a
1675  050B  20 06       	jr	NZ,l_spr_page_map_00146
1676  050D  3A 00 00    	ld	a,(_game_start_scr)
1677  0510  32 00 00    	ld	(_scr_curr),a
1678  0513              l_spr_page_map_00146:
1679  0513  DD 36 F7 00 	ld	(ix-9),0x00
1680  0517              l_spr_page_map_00109:
1681  0517  DD 7E F7    	ld	a,(ix-9)
1682  051A  21 00 00    	ld	hl,_scr_curr
1683  051D  96          	sub	a, (hl)
1684  051E  30 51       	jr	NC,l_spr_page_map_00111
1685  0520  3E 16       	ld	a,0x16
1686  0522  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1687  0525  01 FD 7F    	ld	bc,_IO_7FFD
1688  0528  ED 79       	out	(c),a
1689  052A  7B          	ld	a, e
1690  052B  B7          	or	a, a
1691  052C  20 10       	jr	NZ,l_spr_page_map_00107
1692  052E  3E 00       	ld	a, +((_lenght0) & 0xFF)
1693  0530  DD 86 F7    	add	a,(ix-9)
1694  0533  6F          	ld	l, a
1695  0534  3E 00       	ld	a, +((_lenght0) / 256)
1696  0536  CE 00       	adc	a,0x00
1697  0538  67          	ld	h, a
1698  0539  4E          	ld	c, (hl)
1699  053A  06 00       	ld	b,0x00
1700  053C  18 12       	jr	l_spr_page_map_00108
1701  053E              l_spr_page_map_00107:
1702  053E  01 00 00    	ld	bc,_lenght1
1703  0541  DD 6E F7    	ld	l,(ix-9)
1704  0544  26 00       	ld	h,0x00
1705  0546  09          	add	hl,bc
1706  0547  DD 75 FB    	ld	(ix-5),l
1707  054A  DD 74 FC    	ld	(ix-4),h
1708  054D  4E          	ld	c, (hl)
1709  054E  06 00       	ld	b,0x00
1710  0550              l_spr_page_map_00108:
1711  0550  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
1712  0553  36 10       	ld	(hl),0x10
1713  0555  C5          	push	bc
1714  0556  3E 10       	ld	a,0x10
1715  0558  01 FD 7F    	ld	bc,_IO_7FFD
1716  055B  ED 79       	out	(c),a
1717  055D  C1          	pop	bc
1718  055E  DD 7E F4    	ld	a,(ix-12)
1719  0561  81          	add	a, c
1720  0562  DD 77 F4    	ld	(ix-12),a
1721  0565  DD 7E F5    	ld	a,(ix-11)
1722  0568  88          	adc	a, b
1723  0569  DD 77 F5    	ld	(ix-11),a
1724  056C  DD 34 F7    	inc	(ix-9)
1725  056F  18 A6       	jr	l_spr_page_map_00109
1726  0571              l_spr_page_map_00111:
1727  0571  FB          	ei
1728  0572  F3          	di
1729  0573  16 00       	ld	d,0x00
1730  0575              l_spr_page_map_00136:
1731  0575  3E 16       	ld	a,0x16
1732  0577  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1733  057A  01 FD 7F    	ld	bc,_IO_7FFD
1734  057D  ED 79       	out	(c),a
1735  057F  4A          	ld	c, d
1736  0580  06 00       	ld	b,0x00
1737  0582  DD 7E F4    	ld	a,(ix-12)
1738  0585  81          	add	a, c
1739  0586  4F          	ld	c, a
1740  0587  DD 7E F5    	ld	a,(ix-11)
1741  058A  88          	adc	a, b
1742  058B  47          	ld	b, a
1743  058C  21 01 00    	ld	hl,0x0001
1744  058F  09          	add	hl,bc
1745  0590  DD 75 FB    	ld	(ix-5),l
1746  0593  DD 74 FC    	ld	(ix-4),h
1747  0596  7B          	ld	a, e
1748  0597  B7          	or	a, a
1749  0598  20 18       	jr	NZ,l_spr_page_map_00113
1750  059A  21 00 00    	ld	hl,_world0
1751  059D  09          	add	hl, bc
1752  059E  7E          	ld	a, (hl)
1753  059F  DD 77 FA    	ld	(ix-6),a
1754  05A2  01 00 00    	ld	bc,_world0
1755  05A5  DD 6E FB    	ld	l,(ix-5)
1756  05A8  DD 66 FC    	ld	h,(ix-4)
1757  05AB  09          	add	hl,bc
1758  05AC  7E          	ld	a, (hl)
1759  05AD  DD 77 F9    	ld	(ix-7),a
1760  05B0  18 16       	jr	l_spr_page_map_00114
1761  05B2              l_spr_page_map_00113:
1762  05B2  21 00 00    	ld	hl,_world1
1763  05B5  09          	add	hl, bc
1764  05B6  7E          	ld	a, (hl)
1765  05B7  DD 77 FA    	ld	(ix-6),a
1766  05BA  01 00 00    	ld	bc,_world1
1767  05BD  DD 6E FB    	ld	l,(ix-5)
1768  05C0  DD 66 FC    	ld	h,(ix-4)
1769  05C3  09          	add	hl,bc
1770  05C4  7E          	ld	a, (hl)
1771  05C5  DD 77 F9    	ld	(ix-7),a
1772  05C8              l_spr_page_map_00114:
1773  05C8  3E 10       	ld	a,0x10
1774  05CA  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
1775  05CD  01 FD 7F    	ld	bc,_IO_7FFD
1776  05D0  ED 79       	out	(c),a
1777  05D2  DD 7E FA    	ld	a,(ix-6)
1778  05D5  D6 80       	sub	a,0x80
1779  05D7  30 29       	jr	NC,l_spr_page_map_00125
1780  05D9  DD 4E F6    	ld	c,(ix-10)
1781  05DC  06 00       	ld	b,0x00
1782  05DE  D5          	push	de
1783  05DF  C5          	push	bc
1784  05E0  CD 00 00    	call	_game_obj_chk
1785  05E3  F1          	pop	af
1786  05E4  D1          	pop	de
1787  05E5  3E 00       	ld	a,+((_scr_map) & 0xFF)
1788  05E7  DD 86 F6    	add	a,(ix-10)
1789  05EA  4D          	ld	c,l
1790  05EB  6F          	ld	l, a
1791  05EC  3E 00       	ld	a, +((_scr_map) / 256)
1792  05EE  CE 00       	adc	a,0x00
1793  05F0  67          	ld	h, a
1794  05F1  79          	ld	a, c
1795  05F2  B7          	or	a, a
1796  05F3  20 06       	jr	NZ,l_spr_page_map_00116
1797  05F5  DD 7E FA    	ld	a,(ix-6)
1798  05F8  77          	ld	(hl), a
1799  05F9  18 02       	jr	l_spr_page_map_00117
1800  05FB              l_spr_page_map_00116:
1801  05FB  36 00       	ld	(hl),0x00
1802  05FD              l_spr_page_map_00117:
1803  05FD  DD 34 F6    	inc	(ix-10)
1804  0600  18 49       	jr	l_spr_page_map_00126
1805  0602              l_spr_page_map_00125:
1806  0602  DD 7E FA    	ld	a,(ix-6)
1807  0605  C6 80       	add	a,0x80
1808  0607  DD 77 F8    	ld	(ix-8),a
1809  060A  DD 4E F6    	ld	c,(ix-10)
1810  060D  DD 36 F7 00 	ld	(ix-9),0x00
1811  0611              l_spr_page_map_00134:
1812  0611  DD 7E F7    	ld	a,(ix-9)
1813  0614  DD 96 F8    	sub	a,(ix-8)
1814  0617  30 2E       	jr	NC,l_spr_page_map_00159
1815  0619  69          	ld	l, c
1816  061A  26 00       	ld	h,0x00
1817  061C  C5          	push	bc
1818  061D  D5          	push	de
1819  061E  E5          	push	hl
1820  061F  CD 00 00    	call	_game_obj_chk
1821  0622  F1          	pop	af
1822  0623  D1          	pop	de
1823  0624  C1          	pop	bc
1824  0625  7D          	ld	a,l
1825  0626  B7          	or	a,a
1826  0627  20 0B       	jr	NZ,l_spr_page_map_00119
1827  0629  47          	ld	b,a
1828  062A  21 00 00    	ld	hl,_scr_map
1829  062D  09          	add	hl, bc
1830  062E  DD 7E F9    	ld	a,(ix-7)
1831  0631  77          	ld	(hl), a
1832  0632  18 08       	jr	l_spr_page_map_00120
1833  0634              l_spr_page_map_00119:
1834  0634  06 00       	ld	b,0x00
1835  0636  21 00 00    	ld	hl,_scr_map
1836  0639  09          	add	hl, bc
1837  063A  36 00       	ld	(hl),0x00
1838  063C              l_spr_page_map_00120:
1839  063C  0C          	inc	c
1840  063D  79          	ld	a, c
1841  063E  D6 A0       	sub	a,0xa0
1842  0640  30 05       	jr	NC,l_spr_page_map_00159
1843  0642  DD 34 F7    	inc	(ix-9)
1844  0645  18 CA       	jr	l_spr_page_map_00134
1845  0647              l_spr_page_map_00159:
1846  0647  DD 71 F6    	ld	(ix-10),c
1847  064A  14          	inc	d
1848  064B              l_spr_page_map_00126:
1849  064B  DD 7E F6    	ld	a,(ix-10)
1850  064E  D6 A0       	sub	a,0xa0
1851  0650  30 07       	jr	NC,l_spr_page_map_00129
1852  0652  14          	inc	d
1853  0653  7A          	ld	a, d
1854  0654  D6 A0       	sub	a,0xa0
1855  0656  DA 75 05    	jp	C, l_spr_page_map_00136
1856  0659              l_spr_page_map_00129:
1857  0659  CD F5 0C    	call	_spr_init_anim_bullets
1858  065C  DD 7E FE    	ld	a,(ix-2)
1859  065F  32 00 00    	ld	(_map_width),a
1860  0662  DD 7E FD    	ld	a,(ix-3)
1861  0665  32 00 00    	ld	(_map_heigth),a
1862  0668  DD 7E FF    	ld	a,(ix-1)
1863  066B  32 00 00    	ld	(_map_paper),a
1864  066E  3A 00 00    	ld	a,(_map_paper_last)
1865  0671  21 00 00    	ld	hl,_map_paper
1866  0674  96          	sub	a, (hl)
1867  0675  28 03       	jr	Z,l_spr_page_map_00131
1868  0677  CD 43 15    	call	_spr_btile_paint_back
1869  067A              l_spr_page_map_00131:
1870  067A  3A 00 00    	ld	a,(_map_paper)
1871  067D  32 00 00    	ld	(_map_paper_last),a
1872  0680  FB          	ei
1873  0681  CD 00 00    	call	_NIRVANAP_start
1874  0684  0E 00       	ld	c,0x00
1875  0686              l_spr_page_map_00138:
1876  0686  06 00       	ld	b,0x00
1877  0688  21 00 00    	ld	hl,_class
1878  068B  09          	add	hl, bc
1879  068C  36 00       	ld	(hl),0x00
1880  068E  C5          	push	bc
1881  068F  21 00 00    	ld	hl,0x0000
1882  0692  E5          	push	hl
1883  0693  AF          	xor	a, a
1884  0694  F5          	push	af
1885  0695  33          	inc	sp
1886  0696  79          	ld	a, c
1887  0697  F5          	push	af
1888  0698  33          	inc	sp
1889  0699  CD 00 00    	call	_NIRVANAP_spriteT_callee
1890  069C  C1          	pop	bc
1891  069D  0C          	inc	c
1892  069E  79          	ld	a, c
1893  069F  D6 07       	sub	a,0x07
1894  06A1  38 E3       	jr	C,l_spr_page_map_00138
1895  06A3  DD F9       	ld	sp, ix
1896  06A5  DD E1       	pop	ix
1897  06A7  C9          	ret
1898  06A8              	SECTION code_compiler
1899  06A8              ;	---------------------------------
1900  06A8              ; Function spr_redraw
1901  06A8              ; ---------------------------------
1902  06A8              _spr_redraw:
1903  06A8  2A 00 00    	ld	hl,(_sprite)
1904  06AB  26 00       	ld	h,0x00
1905  06AD  01 00 00    	ld	bc,_tile
1906  06B0  09          	add	hl,bc
1907  06B1  4E          	ld	c, (hl)
1908  06B2  3A 00 00    	ld	a,(_sprite)
1909  06B5  5F          	ld	e,a
1910  06B6  16 00       	ld	d,0x00
1911  06B8  21 00 00    	ld	hl,_colint
1912  06BB  19          	add	hl,de
1913  06BC  7E          	ld	a,(hl)
1914  06BD  81          	add	a,c
1915  06BE  32 00 00    	ld	(_s_tile1),a
1916  06C1  2A 00 00    	ld	hl,(_sprite)
1917  06C4  26 00       	ld	h,0x00
1918  06C6  01 00 00    	ld	bc,_col
1919  06C9  09          	add	hl,bc
1920  06CA  7E          	ld	a,(hl)
1921  06CB  32 00 00    	ld	(_s_col1),a
1922  06CE  2A 00 00    	ld	hl,(_sprite)
1923  06D1  26 00       	ld	h,0x00
1924  06D3  01 00 00    	ld	bc,_lin
1925  06D6  09          	add	hl,bc
1926  06D7  7E          	ld	a,(hl)
1927  06D8  21 00 00    	ld	hl,_s_lin1
1928  06DB  77          	ld	(hl),a
1929  06DC  4F          	ld	c,a
1930  06DD  7E          	ld	a, (hl)
1931  06DE  21 00 00    	ld	hl,_s_lin0
1932  06E1  96          	sub	a, (hl)
1933  06E2  20 0A       	jr	NZ,l_spr_redraw_00117
1934  06E4  3A 00 00    	ld	a,(_s_col1)
1935  06E7  21 00 00    	ld	hl,_s_col0
1936  06EA  96          	sub	a, (hl)
1937  06EB  CA 8B 07    	jp	Z,l_spr_redraw_00118
1938  06EE              l_spr_redraw_00117:
1939  06EE  3A 00 00    	ld	a,(_sprite)
1940  06F1  D6 07       	sub	a,0x07
1941  06F3  20 04       	jr	NZ,l_spr_redraw_00158
1942  06F5  3E 01       	ld	a,0x01
1943  06F7  18 01       	jr	l_spr_redraw_00159
1944  06F9              l_spr_redraw_00158:
1945  06F9  AF          	xor	a,a
1946  06FA              l_spr_redraw_00159:
1947  06FA  47          	ld	b,a
1948  06FB  B7          	or	a, a
1949  06FC  28 12       	jr	Z,l_spr_redraw_00105
1950  06FE  3A 00 00    	ld	a,(_player_over_stair)
1951  0701  B7          	or	a, a
1952  0702  28 0C       	jr	Z,l_spr_redraw_00105
1953  0704  79          	ld	a, c
1954  0705  E6 03       	and	a,0x03
1955  0707  20 07       	jr	NZ,l_spr_redraw_00105
1956  0709  21 00 00    	ld	hl,_s_tile1
1957  070C  34          	inc	(hl)
1958  070D  34          	inc	(hl)
1959  070E  34          	inc	(hl)
1960  070F  34          	inc	(hl)
1961  0710              l_spr_redraw_00105:
1962  0710  78          	ld	a, b
1963  0711  B7          	or	a, a
1964  0712  28 05       	jr	Z,l_spr_redraw_00113
1965  0714  CD 4D 0B    	call	_spr_back_repaint
1966  0717  18 5B       	jr	l_spr_redraw_00114
1967  0719              l_spr_redraw_00113:
1968  0719  3A 00 00    	ld	a,(_s_lin1)
1969  071C  E6 07       	and	a,0x07
1970  071E  20 05       	jr	NZ,l_spr_redraw_00110
1971  0720  CD 4D 0B    	call	_spr_back_repaint
1972  0723  18 4F       	jr	l_spr_redraw_00114
1973  0725              l_spr_redraw_00110:
1974  0725  21 00 00    	ld	hl,_s_state
1975  0728  CB 46       	bit	0, (hl)
1976  072A  28 26       	jr	Z,l_spr_redraw_00107
1977  072C  3A 00 00    	ld	a,(_s_lin0)
1978  072F  C6 08       	add	a,0x08
1979  0731  47          	ld	b, a
1980  0732  3A 00 00    	ld	a,(_s_col0)
1981  0735  F5          	push	af
1982  0736  33          	inc	sp
1983  0737  C5          	push	bc
1984  0738  33          	inc	sp
1985  0739  3A 00 00    	ld	a,(_map_paper_clr)
1986  073C  F5          	push	af
1987  073D  33          	inc	sp
1988  073E  CD 00 00    	call	_NIRVANAP_fillC_callee
1989  0741  21 00 00    	ld	hl,_s_col0
1990  0744  56          	ld	d, (hl)
1991  0745  14          	inc	d
1992  0746  58          	ld	e,b
1993  0747  3A 00 00    	ld	a,(_map_paper_clr)
1994  074A  D5          	push	de
1995  074B  F5          	push	af
1996  074C  33          	inc	sp
1997  074D  CD 00 00    	call	_NIRVANAP_fillC_callee
1998  0750  18 22       	jr	l_spr_redraw_00114
1999  0752              l_spr_redraw_00107:
2000  0752  2A FF FF    	ld	hl,(_s_col0 - 1)
2001  0755  3A 00 00    	ld	a,(_s_lin0)
2002  0758  6F          	ld	l,a
2003  0759  3A 00 00    	ld	a,(_map_paper_clr)
2004  075C  E5          	push	hl
2005  075D  F5          	push	af
2006  075E  33          	inc	sp
2007  075F  CD 00 00    	call	_NIRVANAP_fillC_callee
2008  0762  21 00 00    	ld	hl,_s_col0
2009  0765  46          	ld	b, (hl)
2010  0766  04          	inc	b
2011  0767  C5          	push	bc
2012  0768  33          	inc	sp
2013  0769  2A FF FF    	ld	hl,(_s_lin0 - 1)
2014  076C  3A 00 00    	ld	a,(_map_paper_clr)
2015  076F  6F          	ld	l,a
2016  0770  E5          	push	hl
2017  0771  CD 00 00    	call	_NIRVANAP_fillC_callee
2018  0774              l_spr_redraw_00114:
2019  0774  2A FF FF    	ld	hl,(_s_col1 - 1)
2020  0777  3A 00 00    	ld	a,(_s_lin1)
2021  077A  6F          	ld	l,a
2022  077B  E5          	push	hl
2023  077C  2A FF FF    	ld	hl,(_s_tile1 - 1)
2024  077F  3A 00 00    	ld	a,(_sprite)
2025  0782  6F          	ld	l,a
2026  0783  E5          	push	hl
2027  0784  CD 00 00    	call	_NIRVANAP_spriteT_callee
2028  0787  2E 01       	ld	l,0x01
2029  0789  18 22       	jr	l_spr_redraw_00121
2030  078B              l_spr_redraw_00118:
2031  078B  3A 00 00    	ld	a,(_s_tile1)
2032  078E  21 00 00    	ld	hl,_s_tile0
2033  0791  96          	sub	a, (hl)
2034  0792  28 17       	jr	Z,l_spr_redraw_00119
2035  0794  2A FF FF    	ld	hl,(_s_col1 - 1)
2036  0797  3A 00 00    	ld	a,(_s_lin1)
2037  079A  6F          	ld	l,a
2038  079B  E5          	push	hl
2039  079C  2A FF FF    	ld	hl,(_s_tile1 - 1)
2040  079F  3A 00 00    	ld	a,(_sprite)
2041  07A2  6F          	ld	l,a
2042  07A3  E5          	push	hl
2043  07A4  CD 00 00    	call	_NIRVANAP_spriteT_callee
2044  07A7  2E 00       	ld	l,0x00
2045  07A9  18 02       	jr	l_spr_redraw_00121
2046  07AB              l_spr_redraw_00119:
2047  07AB  2E 00       	ld	l,0x00
2048  07AD              l_spr_redraw_00121:
2049  07AD  C9          	ret
2050  07AE              	SECTION code_compiler
2051  07AE              ;	---------------------------------
2052  07AE              ; Function spr_destroy
2053  07AE              ; ---------------------------------
2054  07AE              _spr_destroy:
2055  07AE  CD 00 00    	call	___sdcc_enter_ix
2056  07B1  F5          	push	af
2057  07B2  4D          	ld	c, l
2058  07B3  21 00 00    	ld	hl,_spr_count
2059  07B6  35          	dec	(hl)
2060  07B7  3E 00       	ld	a, +((_lin) & 0xFF)
2061  07B9  81          	add	a, c
2062  07BA  DD 77 FE    	ld	(ix-2),a
2063  07BD  3E 00       	ld	a, +((_lin) / 256)
2064  07BF  CE 00       	adc	a,0x00
2065  07C1  DD 77 FF    	ld	(ix-1),a
2066  07C4  E1          	pop	hl
2067  07C5  7E          	ld	a,(hl)
2068  07C6  E5          	push	hl
2069  07C7  32 00 00    	ld	(_s_lin0),a
2070  07CA  3E 00       	ld	a, +((_col) & 0xFF)
2071  07CC  81          	add	a, c
2072  07CD  5F          	ld	e, a
2073  07CE  3E 00       	ld	a, +((_col) / 256)
2074  07D0  CE 00       	adc	a,0x00
2075  07D2  57          	ld	d, a
2076  07D3  1A          	ld	a, (de)
2077  07D4  32 00 00    	ld	(_s_col0),a
2078  07D7  C5          	push	bc
2079  07D8  D5          	push	de
2080  07D9  21 00 00    	ld	hl,0x0000
2081  07DC  E5          	push	hl
2082  07DD  AF          	xor	a, a
2083  07DE  F5          	push	af
2084  07DF  33          	inc	sp
2085  07E0  79          	ld	a, c
2086  07E1  F5          	push	af
2087  07E2  33          	inc	sp
2088  07E3  CD 00 00    	call	_NIRVANAP_spriteT_callee
2089  07E6  CD 4D 0B    	call	_spr_back_repaint
2090  07E9  D1          	pop	de
2091  07EA  C1          	pop	bc
2092  07EB  06 00       	ld	b,0x00
2093  07ED  21 00 00    	ld	hl,_tile
2094  07F0  09          	add	hl, bc
2095  07F1  AF          	xor	a,a
2096  07F2  77          	ld	(hl),a
2097  07F3  E1          	pop	hl
2098  07F4  12          	ld	(de),a
2099  07F5  E5          	push	hl
2100  07F6  36 00       	ld	(hl),0x00
2101  07F8  11 00 00    	ld	de,_class+0
2102  07FB  69          	ld	l,c
2103  07FC  26 00       	ld	h,0x00
2104  07FE  19          	add	hl, de
2105  07FF  36 00       	ld	(hl),0x00
2106  0801  11 00 00    	ld	de,_state+0
2107  0804  69          	ld	l,c
2108  0805  26 00       	ld	h,0x00
2109  0807  19          	add	hl, de
2110  0808  36 00       	ld	(hl),0x00
2111  080A  11 00 00    	ld	de,_state_a+0
2112  080D  69          	ld	l,c
2113  080E  26 00       	ld	h,0x00
2114  0810  19          	add	hl, de
2115  0811  F1          	pop	af
2116  0812  36 00       	ld	(hl),0x00
2117  0814  DD E1       	pop	ix
2118  0816  C9          	ret
2119  0817              	SECTION code_compiler
2120  0817              ;	---------------------------------
2121  0817              ; Function spr_tile
2122  0817              ; ---------------------------------
2123  0817              _spr_tile:
2124  0817  45          	ld	b,l
2125  0818  11 00 00    	ld	de,_class+0
2126  081B  26 00       	ld	h,0x00
2127  081D  19          	add	hl, de
2128  081E  5E          	ld	e, (hl)
2129  081F  3E 13       	ld	a,0x13
2130  0821  93          	sub	a, e
2131  0822  DA 55 09    	jp	C, l_spr_tile_00116
2132  0825  16 00       	ld	d,0x00
2133  0827  21 2E 08    	ld	hl,l_spr_tile_00123
2134  082A  19          	add	hl, de
2135  082B  19          	add	hl, de
2136  082C  19          	add	hl, de
2137  082D  E9          	jp	(hl)
2138  082E              l_spr_tile_00123:
2139  082E  C3 55 09    	jp	l_spr_tile_00116
2140  0831  C3 55 09    	jp	l_spr_tile_00116
2141  0834  C3 BC 08    	jp	l_spr_tile_00106
2142  0837  C3 CD 08    	jp	l_spr_tile_00107
2143  083A  C3 DD 08    	jp	l_spr_tile_00108
2144  083D  C3 EC 08    	jp	l_spr_tile_00109
2145  0840  C3 28 09    	jp	l_spr_tile_00113
2146  0843  C3 37 09    	jp	l_spr_tile_00114
2147  0846  C3 46 09    	jp	l_spr_tile_00115
2148  0849  C3 55 09    	jp	l_spr_tile_00116
2149  084C  C3 55 09    	jp	l_spr_tile_00116
2150  084F  C3 6A 08    	jp	l_spr_tile_00101
2151  0852  C3 7A 08    	jp	l_spr_tile_00102
2152  0855  C3 8A 08    	jp	l_spr_tile_00103
2153  0858  C3 9B 08    	jp	l_spr_tile_00104
2154  085B  C3 AB 08    	jp	l_spr_tile_00105
2155  085E  C3 FB 08    	jp	l_spr_tile_00110
2156  0861  C3 55 09    	jp	l_spr_tile_00116
2157  0864  C3 0A 09    	jp	l_spr_tile_00111
2158  0867  C3 19 09    	jp	l_spr_tile_00112
2159  086A              l_spr_tile_00101:
2160  086A  AF          	xor	a, a
2161  086B  48          	ld	c,b
2162  086C  47          	ld	b,a
2163  086D  C5          	push	bc
2164  086E  3E 90       	ld	a,0x90
2165  0870  F5          	push	af
2166  0871  33          	inc	sp
2167  0872  CD 58 09    	call	_spr_tile_dir
2168  0875  F1          	pop	af
2169  0876  33          	inc	sp
2170  0877  C3 57 09    	jp	l_spr_tile_00117
2171  087A              l_spr_tile_00102:
2172  087A  AF          	xor	a, a
2173  087B  48          	ld	c,b
2174  087C  47          	ld	b,a
2175  087D  C5          	push	bc
2176  087E  3E 94       	ld	a,0x94
2177  0880  F5          	push	af
2178  0881  33          	inc	sp
2179  0882  CD 58 09    	call	_spr_tile_dir
2180  0885  F1          	pop	af
2181  0886  33          	inc	sp
2182  0887  C3 57 09    	jp	l_spr_tile_00117
2183  088A              l_spr_tile_00103:
2184  088A  3E 02       	ld	a,0x02
2185  088C  48          	ld	c,b
2186  088D  47          	ld	b,a
2187  088E  C5          	push	bc
2188  088F  3E 98       	ld	a,0x98
2189  0891  F5          	push	af
2190  0892  33          	inc	sp
2191  0893  CD 58 09    	call	_spr_tile_dir
2192  0896  F1          	pop	af
2193  0897  33          	inc	sp
2194  0898  C3 57 09    	jp	l_spr_tile_00117
2195  089B              l_spr_tile_00104:
2196  089B  AF          	xor	a, a
2197  089C  48          	ld	c,b
2198  089D  47          	ld	b,a
2199  089E  C5          	push	bc
2200  089F  3E 9C       	ld	a,0x9c
2201  08A1  F5          	push	af
2202  08A2  33          	inc	sp
2203  08A3  CD 58 09    	call	_spr_tile_dir
2204  08A6  F1          	pop	af
2205  08A7  33          	inc	sp
2206  08A8  C3 57 09    	jp	l_spr_tile_00117
2207  08AB              l_spr_tile_00105:
2208  08AB  3E 04       	ld	a,0x04
2209  08AD  48          	ld	c,b
2210  08AE  47          	ld	b,a
2211  08AF  C5          	push	bc
2212  08B0  3E A0       	ld	a,0xa0
2213  08B2  F5          	push	af
2214  08B3  33          	inc	sp
2215  08B4  CD 58 09    	call	_spr_tile_dir
2216  08B7  F1          	pop	af
2217  08B8  33          	inc	sp
2218  08B9  C3 57 09    	jp	l_spr_tile_00117
2219  08BC              l_spr_tile_00106:
2220  08BC  3E 02       	ld	a,0x02
2221  08BE  48          	ld	c,b
2222  08BF  47          	ld	b,a
2223  08C0  C5          	push	bc
2224  08C1  3E A8       	ld	a,0xa8
2225  08C3  F5          	push	af
2226  08C4  33          	inc	sp
2227  08C5  CD 58 09    	call	_spr_tile_dir
2228  08C8  F1          	pop	af
2229  08C9  33          	inc	sp
2230  08CA  C3 57 09    	jp	l_spr_tile_00117
2231  08CD              l_spr_tile_00107:
2232  08CD  AF          	xor	a, a
2233  08CE  48          	ld	c,b
2234  08CF  47          	ld	b,a
2235  08D0  C5          	push	bc
2236  08D1  3E AC       	ld	a,0xac
2237  08D3  F5          	push	af
2238  08D4  33          	inc	sp
2239  08D5  CD 58 09    	call	_spr_tile_dir
2240  08D8  F1          	pop	af
2241  08D9  33          	inc	sp
2242  08DA  C3 57 09    	jp	l_spr_tile_00117
2243  08DD              l_spr_tile_00108:
2244  08DD  AF          	xor	a, a
2245  08DE  48          	ld	c,b
2246  08DF  47          	ld	b,a
2247  08E0  C5          	push	bc
2248  08E1  3E AE       	ld	a,0xae
2249  08E3  F5          	push	af
2250  08E4  33          	inc	sp
2251  08E5  CD 58 09    	call	_spr_tile_dir
2252  08E8  F1          	pop	af
2253  08E9  33          	inc	sp
2254  08EA  18 6B       	jr	l_spr_tile_00117
2255  08EC              l_spr_tile_00109:
2256  08EC  AF          	xor	a, a
2257  08ED  48          	ld	c,b
2258  08EE  47          	ld	b,a
2259  08EF  C5          	push	bc
2260  08F0  3E B0       	ld	a,0xb0
2261  08F2  F5          	push	af
2262  08F3  33          	inc	sp
2263  08F4  CD 58 09    	call	_spr_tile_dir
2264  08F7  F1          	pop	af
2265  08F8  33          	inc	sp
2266  08F9  18 5C       	jr	l_spr_tile_00117
2267  08FB              l_spr_tile_00110:
2268  08FB  AF          	xor	a, a
2269  08FC  48          	ld	c,b
2270  08FD  47          	ld	b,a
2271  08FE  C5          	push	bc
2272  08FF  3E B2       	ld	a,0xb2
2273  0901  F5          	push	af
2274  0902  33          	inc	sp
2275  0903  CD 58 09    	call	_spr_tile_dir
2276  0906  F1          	pop	af
2277  0907  33          	inc	sp
2278  0908  18 4D       	jr	l_spr_tile_00117
2279  090A              l_spr_tile_00111:
2280  090A  AF          	xor	a, a
2281  090B  48          	ld	c,b
2282  090C  47          	ld	b,a
2283  090D  C5          	push	bc
2284  090E  3E B4       	ld	a,0xb4
2285  0910  F5          	push	af
2286  0911  33          	inc	sp
2287  0912  CD 58 09    	call	_spr_tile_dir
2288  0915  F1          	pop	af
2289  0916  33          	inc	sp
2290  0917  18 3E       	jr	l_spr_tile_00117
2291  0919              l_spr_tile_00112:
2292  0919  AF          	xor	a, a
2293  091A  48          	ld	c,b
2294  091B  47          	ld	b,a
2295  091C  C5          	push	bc
2296  091D  3E B6       	ld	a,0xb6
2297  091F  F5          	push	af
2298  0920  33          	inc	sp
2299  0921  CD 58 09    	call	_spr_tile_dir
2300  0924  F1          	pop	af
2301  0925  33          	inc	sp
2302  0926  18 2F       	jr	l_spr_tile_00117
2303  0928              l_spr_tile_00113:
2304  0928  AF          	xor	a, a
2305  0929  48          	ld	c,b
2306  092A  47          	ld	b,a
2307  092B  C5          	push	bc
2308  092C  3E C0       	ld	a,0xc0
2309  092E  F5          	push	af
2310  092F  33          	inc	sp
2311  0930  CD 58 09    	call	_spr_tile_dir
2312  0933  F1          	pop	af
2313  0934  33          	inc	sp
2314  0935  18 20       	jr	l_spr_tile_00117
2315  0937              l_spr_tile_00114:
2316  0937  AF          	xor	a, a
2317  0938  48          	ld	c,b
2318  0939  47          	ld	b,a
2319  093A  C5          	push	bc
2320  093B  3E C2       	ld	a,0xc2
2321  093D  F5          	push	af
2322  093E  33          	inc	sp
2323  093F  CD 58 09    	call	_spr_tile_dir
2324  0942  F1          	pop	af
2325  0943  33          	inc	sp
2326  0944  18 11       	jr	l_spr_tile_00117
2327  0946              l_spr_tile_00115:
2328  0946  AF          	xor	a, a
2329  0947  48          	ld	c,b
2330  0948  47          	ld	b,a
2331  0949  C5          	push	bc
2332  094A  3E C4       	ld	a,0xc4
2333  094C  F5          	push	af
2334  094D  33          	inc	sp
2335  094E  CD 58 09    	call	_spr_tile_dir
2336  0951  F1          	pop	af
2337  0952  33          	inc	sp
2338  0953  18 02       	jr	l_spr_tile_00117
2339  0955              l_spr_tile_00116:
2340  0955  2E 00       	ld	l,0x00
2341  0957              l_spr_tile_00117:
2342  0957  C9          	ret
2343  0958              	SECTION code_compiler
2344  0958              ;	---------------------------------
2345  0958              ; Function spr_tile_dir
2346  0958              ; ---------------------------------
2347  0958              _spr_tile_dir:
2348  0958  CD 00 00    	call	___sdcc_enter_ix
2349  095B  3E 00       	ld	a, +((_state) & 0xFF)
2350  095D  DD 86 05    	add	a,(ix+5)
2351  0960  4F          	ld	c, a
2352  0961  3E 00       	ld	a, +((_state) / 256)
2353  0963  CE 00       	adc	a,0x00
2354  0965  47          	ld	b, a
2355  0966  0A          	ld	a, (bc)
2356  0967  4F          	ld	c,a
2357  0968  CB 57       	bit	2,a
2358  096A  28 05       	jr	Z,l_spr_tile_dir_00102
2359  096C  DD 6E 04    	ld	l,(ix+4)
2360  096F  18 2D       	jr	l_spr_tile_dir_00109
2361  0971              l_spr_tile_dir_00102:
2362  0971  DD 7E 04    	ld	a,(ix+4)
2363  0974  DD 86 06    	add	a,(ix+6)
2364  0977  47          	ld	b, a
2365  0978  CB 59       	bit	3, c
2366  097A  28 03       	jr	Z,l_spr_tile_dir_00104
2367  097C  68          	ld	l, b
2368  097D  18 1F       	jr	l_spr_tile_dir_00109
2369  097F              l_spr_tile_dir_00104:
2370  097F  3E 00       	ld	a, +((_state_a) & 0xFF)
2371  0981  DD 86 05    	add	a,(ix+5)
2372  0984  5F          	ld	e, a
2373  0985  3E 00       	ld	a, +((_state_a) / 256)
2374  0987  CE 00       	adc	a,0x00
2375  0989  57          	ld	d, a
2376  098A  1A          	ld	a, (de)
2377  098B  CB 67       	bit	4, a
2378  098D  28 05       	jr	Z,l_spr_tile_dir_00106
2379  098F  DD 6E 04    	ld	l,(ix+4)
2380  0992  18 0A       	jr	l_spr_tile_dir_00109
2381  0994              l_spr_tile_dir_00106:
2382  0994  CB 5F       	bit	3, a
2383  0996  28 03       	jr	Z,l_spr_tile_dir_00108
2384  0998  68          	ld	l, b
2385  0999  18 03       	jr	l_spr_tile_dir_00109
2386  099B              l_spr_tile_dir_00108:
2387  099B  DD 6E 04    	ld	l,(ix+4)
2388  099E              l_spr_tile_dir_00109:
2389  099E  DD E1       	pop	ix
2390  09A0  C9          	ret
2391  09A1              	SECTION code_compiler
2392  09A1              ;	---------------------------------
2393  09A1              ; Function spr_draw_clear
2394  09A1              ; ---------------------------------
2395  09A1              _spr_draw_clear:
2396  09A1  F3          	di
2397  09A2  2E 00       	ld	l,0x00
2398  09A4  CD 00 00    	call	_zx_cls_fastcall
2399  09A7  21 00 00    	ld	hl,_s_lin1
2400  09AA  36 10       	ld	(hl),0x10
2401  09AC              l_spr_draw_clear_00105:
2402  09AC  21 00 00    	ld	hl,_s_col1
2403  09AF  36 00       	ld	(hl),0x00
2404  09B1              l_spr_draw_clear_00103:
2405  09B1  2A FF FF    	ld	hl,(_s_col1 - 1)
2406  09B4  3A 00 00    	ld	a,(_s_lin1)
2407  09B7  6F          	ld	l,a
2408  09B8  E5          	push	hl
2409  09B9  AF          	xor	a, a
2410  09BA  F5          	push	af
2411  09BB  33          	inc	sp
2412  09BC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2413  09BF  21 00 00    	ld	hl,_s_col1
2414  09C2  7E          	ld	a,(hl)
2415  09C3  C6 02       	add	a,0x02
2416  09C5  77          	ld	(hl),a
2417  09C6  D6 20       	sub	a,0x20
2418  09C8  38 E7       	jr	C,l_spr_draw_clear_00103
2419  09CA  21 00 00    	ld	hl,_s_lin1
2420  09CD  7E          	ld	a, (hl)
2421  09CE  C6 10       	add	a,0x10
2422  09D0  77          	ld	(hl), a
2423  09D1  3E A2       	ld	a,0xa2
2424  09D3  96          	sub	a, (hl)
2425  09D4  30 D6       	jr	NC,l_spr_draw_clear_00105
2426  09D6  FB          	ei
2427  09D7  C9          	ret
2428  09D8              	SECTION code_compiler
2429  09D8              ;	---------------------------------
2430  09D8              ; Function spr_brick_anim
2431  09D8              ; ---------------------------------
2432  09D8              _spr_brick_anim:
2433  09D8  CD 00 00    	call	___sdcc_enter_ix
2434  09DB  F5          	push	af
2435  09DC  3B          	dec	sp
2436  09DD  4D          	ld	c, l
2437  09DE  21 00 00    	ld	hl,_player_hit_col
2438  09E1  56          	ld	d, (hl)
2439  09E2  21 00 00    	ld	hl,_player_hit_lin
2440  09E5  5E          	ld	e, (hl)
2441  09E6  C5          	push	bc
2442  09E7  D5          	push	de
2443  09E8  D5          	push	de
2444  09E9  CD 00 00    	call	_spr_calc_index
2445  09EC  F1          	pop	af
2446  09ED  DD 74 FF    	ld	(ix-1),h
2447  09F0  DD 75 FE    	ld	(ix-2),l
2448  09F3  D1          	pop	de
2449  09F4  C1          	pop	bc
2450  09F5  DD 6E FE    	ld	l,(ix-2)
2451  09F8  DD 66 FF    	ld	h,(ix-1)
2452  09FB  22 00 00    	ld	(_index1),hl
2453  09FE  21 00 00    	ld	hl,_index1
2454  0A01  7E          	ld	a, (hl)
2455  0A02  C6 F0       	add	a,0xf0
2456  0A04  DD 77 FE    	ld	(ix-2),a
2457  0A07  23          	inc	hl
2458  0A08  7E          	ld	a, (hl)
2459  0A09  CE FF       	adc	a,0xff
2460  0A0B  DD 77 FF    	ld	(ix-1),a
2461  0A0E  3E 00       	ld	a, +((_scr_map) & 0xFF)
2462  0A10  DD 86 FE    	add	a,(ix-2)
2463  0A13  6F          	ld	l, a
2464  0A14  3E 00       	ld	a, +((_scr_map) / 256)
2465  0A16  DD 8E FF    	adc	a,(ix-1)
2466  0A19  67          	ld	h, a
2467  0A1A  7E          	ld	a, (hl)
2468  0A1B  DD 77 FD    	ld	(ix-3),a
2469  0A1E  3E 00       	ld	a, +((_scr_map) & 0xFF)
2470  0A20  21 00 00    	ld	hl,_index1
2471  0A23  86          	add	a, (hl)
2472  0A24  DD 77 FE    	ld	(ix-2),a
2473  0A27  3E 00       	ld	a, +((_scr_map) / 256)
2474  0A29  23          	inc	hl
2475  0A2A  8E          	adc	a, (hl)
2476  0A2B  DD 6E FE    	ld	l,(ix-2)
2477  0A2E  DD 77 FF    	ld	(ix-1),a
2478  0A31  67          	ld	h,a
2479  0A32  46          	ld	b, (hl)
2480  0A33  79          	ld	a, c
2481  0A34  B7          	or	a, a
2482  0A35  28 08       	jr	Z,l_spr_brick_anim_00102
2483  0A37  7B          	ld	a, e
2484  0A38  C6 F6       	add	a,0xf6
2485  0A3A  32 00 00    	ld	(_tmp),a
2486  0A3D  18 06       	jr	l_spr_brick_anim_00103
2487  0A3F              l_spr_brick_anim_00102:
2488  0A3F  7B          	ld	a, e
2489  0A40  C6 F8       	add	a,0xf8
2490  0A42  32 00 00    	ld	(_tmp),a
2491  0A45              l_spr_brick_anim_00103:
2492  0A45  F3          	di
2493  0A46  79          	ld	a, c
2494  0A47  B7          	or	a, a
2495  0A48  28 1A       	jr	Z,l_spr_brick_anim_00105
2496  0A4A  3A 00 00    	ld	a,(_map_paper_clr)
2497  0A4D  C5          	push	bc
2498  0A4E  D5          	push	de
2499  0A4F  D5          	push	de
2500  0A50  F5          	push	af
2501  0A51  33          	inc	sp
2502  0A52  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2503  0A55  D1          	pop	de
2504  0A56  C1          	pop	bc
2505  0A57  D5          	push	de
2506  0A58  33          	inc	sp
2507  0A59  3A 00 00    	ld	a,(_tmp)
2508  0A5C  48          	ld	c,b
2509  0A5D  47          	ld	b,a
2510  0A5E  C5          	push	bc
2511  0A5F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2512  0A62  18 1E       	jr	l_spr_brick_anim_00106
2513  0A64              l_spr_brick_anim_00105:
2514  0A64  3A 00 00    	ld	a,(_tmp)
2515  0A67  C6 F0       	add	a,0xf0
2516  0A69  C5          	push	bc
2517  0A6A  D5          	push	de
2518  0A6B  5F          	ld	e,a
2519  0A6C  D5          	push	de
2520  0A6D  DD 7E FD    	ld	a,(ix-3)
2521  0A70  F5          	push	af
2522  0A71  33          	inc	sp
2523  0A72  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2524  0A75  D1          	pop	de
2525  0A76  C1          	pop	bc
2526  0A77  D5          	push	de
2527  0A78  33          	inc	sp
2528  0A79  3A 00 00    	ld	a,(_tmp)
2529  0A7C  48          	ld	c,b
2530  0A7D  47          	ld	b,a
2531  0A7E  C5          	push	bc
2532  0A7F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2533  0A82              l_spr_brick_anim_00106:
2534  0A82  FB          	ei
2535  0A83  DD F9       	ld	sp, ix
2536  0A85  DD E1       	pop	ix
2537  0A87  C9          	ret
2538  0A88              	SECTION code_compiler
2539  0A88              ;	---------------------------------
2540  0A88              ; Function spr_draw_index
2541  0A88              ; ---------------------------------
2542  0A88              _spr_draw_index:
2543  0A88  CD 00 00    	call	___sdcc_enter_ix
2544  0A8B  DD 4E 04    	ld	c,(ix+4)
2545  0A8E  79          	ld	a, c
2546  0A8F  E6 0F       	and	a,0x0f
2547  0A91  87          	add	a, a
2548  0A92  32 00 00    	ld	(_s_col1),a
2549  0A95  21 00 00    	ld	hl,_s_lin1
2550  0A98  71          	ld	(hl),c
2551  0A99  79          	ld	a,c
2552  0A9A  07          	rlca
2553  0A9B  07          	rlca
2554  0A9C  07          	rlca
2555  0A9D  07          	rlca
2556  0A9E  E6 0F       	and	a,0x0f
2557  0AA0  07          	rlca
2558  0AA1  07          	rlca
2559  0AA2  07          	rlca
2560  0AA3  07          	rlca
2561  0AA4  E6 F0       	and	a,0xf0
2562  0AA6  77          	ld	(hl), a
2563  0AA7  F3          	di
2564  0AA8  3E 00       	ld	a, +((_scr_map) & 0xFF)
2565  0AAA  DD 86 04    	add	a,(ix+4)
2566  0AAD  4F          	ld	c, a
2567  0AAE  3E 00       	ld	a, +((_scr_map) / 256)
2568  0AB0  DD 8E 05    	adc	a,(ix+5)
2569  0AB3  47          	ld	b, a
2570  0AB4  0A          	ld	a, (bc)
2571  0AB5  47          	ld	b, a
2572  0AB6  3A 00 00    	ld	a,(_s_col1)
2573  0AB9  F5          	push	af
2574  0ABA  33          	inc	sp
2575  0ABB  3A 00 00    	ld	a,(_s_lin1)
2576  0ABE  48          	ld	c,b
2577  0ABF  47          	ld	b,a
2578  0AC0  C5          	push	bc
2579  0AC1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2580  0AC4  FB          	ei
2581  0AC5  DD E1       	pop	ix
2582  0AC7  C9          	ret
2583  0AC8              	SECTION code_compiler
2584  0AC8              ;	---------------------------------
2585  0AC8              ; Function spr_draw_row
2586  0AC8              ; ---------------------------------
2587  0AC8              _spr_draw_row:
2588  0AC8  CD 00 00    	call	___sdcc_enter_ix
2589  0ACB  3B          	dec	sp
2590  0ACC  F3          	di
2591  0ACD  21 00 00    	ld	hl,_tmp
2592  0AD0  36 00       	ld	(hl),0x00
2593  0AD2  DD 7E 04    	ld	a,(ix+4)
2594  0AD5  07          	rlca
2595  0AD6  07          	rlca
2596  0AD7  07          	rlca
2597  0AD8  E6 F8       	and	a,0xf8
2598  0ADA  DD 77 FF    	ld	(ix-1),a
2599  0ADD              l_spr_draw_row_00101:
2600  0ADD  21 00 00    	ld	hl,_tmp
2601  0AE0  7E          	ld	a, (hl)
2602  0AE1  D6 20       	sub	a,0x20
2603  0AE3  30 38       	jr	NC,l_spr_draw_row_00103
2604  0AE5  DD 4E 04    	ld	c,(ix+4)
2605  0AE8  3E 00       	ld	a,0x00
2606  0AEA  CB 21       	sla	c
2607  0AEC  17          	rla
2608  0AED  CB 21       	sla	c
2609  0AEF  17          	rla
2610  0AF0  CB 21       	sla	c
2611  0AF2  17          	rla
2612  0AF3  CB 21       	sla	c
2613  0AF5  17          	rla
2614  0AF6  CB 21       	sla	c
2615  0AF8  17          	rla
2616  0AF9  47          	ld	b,a
2617  0AFA  5E          	ld	e, (hl)
2618  0AFB  16 00       	ld	d,0x00
2619  0AFD  79          	ld	a, c
2620  0AFE  83          	add	a, e
2621  0AFF  21 00 00    	ld	hl,_index1
2622  0B02  77          	ld	(hl), a
2623  0B03  78          	ld	a, b
2624  0B04  8A          	adc	a, d
2625  0B05  23          	inc	hl
2626  0B06  77          	ld	(hl), a
2627  0B07  2A FF FF    	ld	hl,(_tmp-1)
2628  0B0A  DD 6E FF    	ld	l,(ix-1)
2629  0B0D  3A 00 00    	ld	a,(_game_brick_tile)
2630  0B10  E5          	push	hl
2631  0B11  F5          	push	af
2632  0B12  33          	inc	sp
2633  0B13  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2634  0B16  21 00 00    	ld	hl,_tmp
2635  0B19  34          	inc	(hl)
2636  0B1A  34          	inc	(hl)
2637  0B1B  18 C0       	jr	l_spr_draw_row_00101
2638  0B1D              l_spr_draw_row_00103:
2639  0B1D  FB          	ei
2640  0B1E  33          	inc	sp
2641  0B1F  DD E1       	pop	ix
2642  0B21  C9          	ret
2643  0B22              	SECTION code_compiler
2644  0B22              ;	---------------------------------
2645  0B22              ; Function spr_calc_hor
2646  0B22              ; ---------------------------------
2647  0B22              _spr_calc_hor:
2648  0B22  CD 00 00    	call	___sdcc_enter_ix
2649  0B25  3E 00       	ld	a, +((_col) & 0xFF)
2650  0B27  DD 86 04    	add	a,(ix+4)
2651  0B2A  4F          	ld	c, a
2652  0B2B  3E 00       	ld	a, +((_col) / 256)
2653  0B2D  CE 00       	adc	a,0x00
2654  0B2F  47          	ld	b, a
2655  0B30  0A          	ld	a, (bc)
2656  0B31  5F          	ld	e, a
2657  0B32  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2658  0B34  DD 86 04    	add	a,(ix+4)
2659  0B37  4F          	ld	c, a
2660  0B38  3E 00       	ld	a, +((_sprite_frames) / 256)
2661  0B3A  CE 00       	adc	a,0x00
2662  0B3C  47          	ld	b, a
2663  0B3D  0A          	ld	a, (bc)
2664  0B3E  67          	ld	h, a
2665  0B3F  2E 00       	ld	l,0x00
2666  0B41  55          	ld	d, l
2667  0B42  06 08       	ld	b,0x08
2668  0B44              l_spr_calc_hor_00103:
2669  0B44  29          	add	hl, hl
2670  0B45  30 01       	jr	NC,l_spr_calc_hor_00104
2671  0B47  19          	add	hl, de
2672  0B48              l_spr_calc_hor_00104:
2673  0B48  10 FA       	djnz	l_spr_calc_hor_00103
2674  0B4A  DD E1       	pop	ix
2675  0B4C  C9          	ret
2676  0B4D              	SECTION code_compiler
2677  0B4D              ;	---------------------------------
2678  0B4D              ; Function spr_back_repaint
2679  0B4D              ; ---------------------------------
2680  0B4D              _spr_back_repaint:
2681  0B4D  CD 00 00    	call	___sdcc_enter_ix
2682  0B50  3B          	dec	sp
2683  0B51  3A 00 00    	ld	a,(_spr_hack)
2684  0B54  B7          	or	a, a
2685  0B55  20 02       	jr	NZ,l_spr_back_repaint_00102
2686  0B57  76          	halt
2687  0B58  F3          	di
2688  0B59              l_spr_back_repaint_00102:
2689  0B59  2A FF FF    	ld	hl,(_s_col0 - 1)
2690  0B5C  3A 00 00    	ld	a,(_s_lin0)
2691  0B5F  6F          	ld	l,a
2692  0B60  E5          	push	hl
2693  0B61  CD 00 00    	call	_spr_calc_index
2694  0B64  F1          	pop	af
2695  0B65  7D          	ld	a,l
2696  0B66  32 00 00    	ld	(_sprite_curr_index),a
2697  0B69  21 00 00    	ld	hl,_s_lin0
2698  0B6C  7E          	ld	a, (hl)
2699  0B6D  E6 0F       	and	a,0x0f
2700  0B6F  4F          	ld	c, a
2701  0B70  7E          	ld	a, (hl)
2702  0B71  07          	rlca
2703  0B72  07          	rlca
2704  0B73  07          	rlca
2705  0B74  07          	rlca
2706  0B75  E6 0F       	and	a,0x0f
2707  0B77  5F          	ld	e, a
2708  0B78  21 00 00    	ld	hl,_s_col0
2709  0B7B  CB 46       	bit	0, (hl)
2710  0B7D  20 68       	jr	NZ,l_spr_back_repaint_00110
2711  0B7F  79          	ld	a, c
2712  0B80  B7          	or	a, a
2713  0B81  20 1D       	jr	NZ,l_spr_back_repaint_00104
2714  0B83  2A 00 00    	ld	hl,(_sprite_curr_index)
2715  0B86  26 00       	ld	h,0x00
2716  0B88  01 00 00    	ld	bc,_scr_map
2717  0B8B  09          	add	hl,bc
2718  0B8C  46          	ld	b,(hl)
2719  0B8D  3A 00 00    	ld	a,(_s_col0)
2720  0B90  F5          	push	af
2721  0B91  33          	inc	sp
2722  0B92  3A 00 00    	ld	a,(_s_lin0)
2723  0B95  48          	ld	c,b
2724  0B96  47          	ld	b,a
2725  0B97  C5          	push	bc
2726  0B98  CD C4 0C    	call	_spr_tile_paint
2727  0B9B  F1          	pop	af
2728  0B9C  33          	inc	sp
2729  0B9D  C3 B9 0C    	jp	l_spr_back_repaint_00111
2730  0BA0              l_spr_back_repaint_00104:
2731  0BA0  7B          	ld	a, e
2732  0BA1  07          	rlca
2733  0BA2  07          	rlca
2734  0BA3  07          	rlca
2735  0BA4  07          	rlca
2736  0BA5  E6 F0       	and	a,0xf0
2737  0BA7  4F          	ld	c, a
2738  0BA8  2A 00 00    	ld	hl,(_sprite_curr_index)
2739  0BAB  26 00       	ld	h,0x00
2740  0BAD  11 00 00    	ld	de,_scr_map
2741  0BB0  19          	add	hl,de
2742  0BB1  46          	ld	b, (hl)
2743  0BB2  3A 00 00    	ld	a,(_s_col0)
2744  0BB5  C5          	push	bc
2745  0BB6  F5          	push	af
2746  0BB7  33          	inc	sp
2747  0BB8  79          	ld	a, c
2748  0BB9  48          	ld	c,b
2749  0BBA  47          	ld	b,a
2750  0BBB  C5          	push	bc
2751  0BBC  CD C4 0C    	call	_spr_tile_paint
2752  0BBF  F1          	pop	af
2753  0BC0  33          	inc	sp
2754  0BC1  C1          	pop	bc
2755  0BC2  79          	ld	a, c
2756  0BC3  C6 10       	add	a,0x10
2757  0BC5  57          	ld	d, a
2758  0BC6  21 00 00    	ld	hl,_sprite_curr_index
2759  0BC9  7E          	ld	a, (hl)
2760  0BCA  C6 10       	add	a,0x10
2761  0BCC  77          	ld	(hl), a
2762  0BCD  C6 00       	add	a,+((_scr_map) & 0xFF)
2763  0BCF  4F          	ld	c, a
2764  0BD0  3E 00       	ld	a, +((_scr_map) / 256)
2765  0BD2  CE 00       	adc	a,0x00
2766  0BD4  47          	ld	b, a
2767  0BD5  0A          	ld	a, (bc)
2768  0BD6  47          	ld	b, a
2769  0BD7  3A 00 00    	ld	a,(_s_col0)
2770  0BDA  5A          	ld	e,d
2771  0BDB  57          	ld	d,a
2772  0BDC  D5          	push	de
2773  0BDD  C5          	push	bc
2774  0BDE  33          	inc	sp
2775  0BDF  CD C4 0C    	call	_spr_tile_paint
2776  0BE2  F1          	pop	af
2777  0BE3  33          	inc	sp
2778  0BE4  C3 B9 0C    	jp	l_spr_back_repaint_00111
2779  0BE7              l_spr_back_repaint_00110:
2780  0BE7  3A 00 00    	ld	a,(_s_col0)
2781  0BEA  C6 FF       	add	a,0xff
2782  0BEC  DD 77 FF    	ld	(ix-1),a
2783  0BEF  79          	ld	a, c
2784  0BF0  B7          	or	a, a
2785  0BF1  20 3E       	jr	NZ,l_spr_back_repaint_00107
2786  0BF3  2A 00 00    	ld	hl,(_sprite_curr_index)
2787  0BF6  26 00       	ld	h,0x00
2788  0BF8  01 00 00    	ld	bc,_scr_map
2789  0BFB  09          	add	hl,bc
2790  0BFC  46          	ld	b,(hl)
2791  0BFD  DD 7E FF    	ld	a,(ix-1)
2792  0C00  F5          	push	af
2793  0C01  33          	inc	sp
2794  0C02  3A 00 00    	ld	a,(_s_lin0)
2795  0C05  48          	ld	c,b
2796  0C06  47          	ld	b,a
2797  0C07  C5          	push	bc
2798  0C08  CD C4 0C    	call	_spr_tile_paint
2799  0C0B  F1          	pop	af
2800  0C0C  33          	inc	sp
2801  0C0D  21 00 00    	ld	hl,_sprite_curr_index
2802  0C10  34          	inc	(hl)
2803  0C11  21 00 00    	ld	hl,_s_col0
2804  0C14  4E          	ld	c, (hl)
2805  0C15  0C          	inc	c
2806  0C16  2A 00 00    	ld	hl,(_sprite_curr_index)
2807  0C19  26 00       	ld	h,0x00
2808  0C1B  11 00 00    	ld	de,_scr_map
2809  0C1E  19          	add	hl,de
2810  0C1F  46          	ld	b, (hl)
2811  0C20  79          	ld	a, c
2812  0C21  F5          	push	af
2813  0C22  33          	inc	sp
2814  0C23  3A 00 00    	ld	a,(_s_lin0)
2815  0C26  48          	ld	c,b
2816  0C27  47          	ld	b,a
2817  0C28  C5          	push	bc
2818  0C29  CD C4 0C    	call	_spr_tile_paint
2819  0C2C  F1          	pop	af
2820  0C2D  33          	inc	sp
2821  0C2E  C3 B9 0C    	jp	l_spr_back_repaint_00111
2822  0C31              l_spr_back_repaint_00107:
2823  0C31  7B          	ld	a, e
2824  0C32  07          	rlca
2825  0C33  07          	rlca
2826  0C34  07          	rlca
2827  0C35  07          	rlca
2828  0C36  E6 F0       	and	a,0xf0
2829  0C38  47          	ld	b, a
2830  0C39  2A 00 00    	ld	hl,(_sprite_curr_index)
2831  0C3C  26 00       	ld	h,0x00
2832  0C3E  11 00 00    	ld	de,_scr_map
2833  0C41  19          	add	hl,de
2834  0C42  56          	ld	d, (hl)
2835  0C43  C5          	push	bc
2836  0C44  DD 7E FF    	ld	a,(ix-1)
2837  0C47  F5          	push	af
2838  0C48  33          	inc	sp
2839  0C49  4A          	ld	c, d
2840  0C4A  C5          	push	bc
2841  0C4B  CD C4 0C    	call	_spr_tile_paint
2842  0C4E  F1          	pop	af
2843  0C4F  33          	inc	sp
2844  0C50  C1          	pop	bc
2845  0C51  21 00 00    	ld	hl,_sprite_curr_index
2846  0C54  34          	inc	(hl)
2847  0C55  21 00 00    	ld	hl,_s_col0
2848  0C58  4E          	ld	c, (hl)
2849  0C59  0C          	inc	c
2850  0C5A  2A 00 00    	ld	hl,(_sprite_curr_index)
2851  0C5D  26 00       	ld	h,0x00
2852  0C5F  11 00 00    	ld	de,_scr_map
2853  0C62  19          	add	hl,de
2854  0C63  5E          	ld	e, (hl)
2855  0C64  C5          	push	bc
2856  0C65  79          	ld	a, c
2857  0C66  48          	ld	c,b
2858  0C67  47          	ld	b,a
2859  0C68  C5          	push	bc
2860  0C69  7B          	ld	a, e
2861  0C6A  F5          	push	af
2862  0C6B  33          	inc	sp
2863  0C6C  CD C4 0C    	call	_spr_tile_paint
2864  0C6F  F1          	pop	af
2865  0C70  33          	inc	sp
2866  0C71  C1          	pop	bc
2867  0C72  78          	ld	a, b
2868  0C73  C6 10       	add	a,0x10
2869  0C75  DD 77 FF    	ld	(ix-1),a
2870  0C78  21 00 00    	ld	hl,_sprite_curr_index
2871  0C7B  7E          	ld	a, (hl)
2872  0C7C  C6 0F       	add	a,0x0f
2873  0C7E  77          	ld	(hl), a
2874  0C7F  21 00 00    	ld	hl,_s_col0
2875  0C82  4E          	ld	c, (hl)
2876  0C83  0D          	dec	c
2877  0C84  2A 00 00    	ld	hl,(_sprite_curr_index)
2878  0C87  26 00       	ld	h,0x00
2879  0C89  11 00 00    	ld	de,_scr_map
2880  0C8C  19          	add	hl,de
2881  0C8D  5E          	ld	e, (hl)
2882  0C8E  79          	ld	a, c
2883  0C8F  F5          	push	af
2884  0C90  33          	inc	sp
2885  0C91  DD 56 FF    	ld	d,(ix-1)
2886  0C94  D5          	push	de
2887  0C95  CD C4 0C    	call	_spr_tile_paint
2888  0C98  F1          	pop	af
2889  0C99  33          	inc	sp
2890  0C9A  21 00 00    	ld	hl,_sprite_curr_index
2891  0C9D  34          	inc	(hl)
2892  0C9E  21 00 00    	ld	hl,_s_col0
2893  0CA1  4E          	ld	c, (hl)
2894  0CA2  0C          	inc	c
2895  0CA3  2A 00 00    	ld	hl,(_sprite_curr_index)
2896  0CA6  26 00       	ld	h,0x00
2897  0CA8  11 00 00    	ld	de,_scr_map
2898  0CAB  19          	add	hl,de
2899  0CAC  5E          	ld	e, (hl)
2900  0CAD  79          	ld	a, c
2901  0CAE  F5          	push	af
2902  0CAF  33          	inc	sp
2903  0CB0  DD 56 FF    	ld	d,(ix-1)
2904  0CB3  D5          	push	de
2905  0CB4  CD C4 0C    	call	_spr_tile_paint
2906  0CB7  F1          	pop	af
2907  0CB8  33          	inc	sp
2908  0CB9              l_spr_back_repaint_00111:
2909  0CB9  3A 00 00    	ld	a,(_spr_hack)
2910  0CBC  B7          	or	a, a
2911  0CBD  20 01       	jr	NZ,l_spr_back_repaint_00114
2912  0CBF  FB          	ei
2913  0CC0              l_spr_back_repaint_00114:
2914  0CC0  33          	inc	sp
2915  0CC1  DD E1       	pop	ix
2916  0CC3  C9          	ret
2917  0CC4              	SECTION code_compiler
2918  0CC4              ;	---------------------------------
2919  0CC4              ; Function spr_tile_paint
2920  0CC4              ; ---------------------------------
2921  0CC4              _spr_tile_paint:
2922  0CC4  CD 00 00    	call	___sdcc_enter_ix
2923  0CC7  DD 7E 04    	ld	a,(ix+4)
2924  0CCA  B7          	or	a, a
2925  0CCB  28 05       	jr	Z,l_spr_tile_paint_00101
2926  0CCD  3C          	inc	a
2927  0CCE  28 22       	jr	Z,l_spr_tile_paint_00105
2928  0CD0  18 11       	jr	l_spr_tile_paint_00103
2929  0CD2              l_spr_tile_paint_00101:
2930  0CD2  DD 66 06    	ld	h,(ix+6)
2931  0CD5  DD 6E 05    	ld	l,(ix+5)
2932  0CD8  3A 00 00    	ld	a,(_map_paper_clr)
2933  0CDB  E5          	push	hl
2934  0CDC  F5          	push	af
2935  0CDD  33          	inc	sp
2936  0CDE  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
2937  0CE1  18 0F       	jr	l_spr_tile_paint_00105
2938  0CE3              l_spr_tile_paint_00103:
2939  0CE3  DD 66 06    	ld	h,(ix+6)
2940  0CE6  DD 6E 05    	ld	l,(ix+5)
2941  0CE9  E5          	push	hl
2942  0CEA  DD 7E 04    	ld	a,(ix+4)
2943  0CED  F5          	push	af
2944  0CEE  33          	inc	sp
2945  0CEF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2946  0CF2              l_spr_tile_paint_00105:
2947  0CF2  DD E1       	pop	ix
2948  0CF4  C9          	ret
2949  0CF5              	SECTION code_compiler
2950  0CF5              ;	---------------------------------
2951  0CF5              ; Function spr_init_anim_bullets
2952  0CF5              ; ---------------------------------
2953  0CF5              _spr_init_anim_bullets:
2954  0CF5  01 00 00    	ld	bc,_anim_lin+0
2955  0CF8  1E 00       	ld	e,0x00
2956  0CFA              l_spr_init_anim_bullets_00102:
2957  0CFA  6B          	ld	l,e
2958  0CFB  26 00       	ld	h,0x00
2959  0CFD  09          	add	hl, bc
2960  0CFE  36 FF       	ld	(hl),0xff
2961  0D00  16 00       	ld	d,0x00
2962  0D02  21 00 00    	ld	hl,_bullet_col
2963  0D05  19          	add	hl, de
2964  0D06  36 FF       	ld	(hl),0xff
2965  0D08  1C          	inc	e
2966  0D09  7B          	ld	a, e
2967  0D0A  D6 08       	sub	a,0x08
2968  0D0C  38 EC       	jr	C,l_spr_init_anim_bullets_00102
2969  0D0E  21 00 00    	ld	hl,_bullet_count
2970  0D11  36 00       	ld	(hl),0x00
2971  0D13  21 00 00    	ld	hl,_anim_count
2972  0D16  36 00       	ld	(hl),0x00
2973  0D18  C9          	ret
2974  0D19              	SECTION code_compiler
2975  0D19              ;	---------------------------------
2976  0D19              ; Function spr_add_anim
2977  0D19              ; ---------------------------------
2978  0D19              _spr_add_anim:
2979  0D19  CD 00 00    	call	___sdcc_enter_ix
2980  0D1C  F5          	push	af
2981  0D1D  F5          	push	af
2982  0D1E  3B          	dec	sp
2983  0D1F  DD 7E 05    	ld	a,(ix+5)
2984  0D22  D6 1F       	sub	a,0x1f
2985  0D24  D2 E3 0D    	jp	NC, l_spr_add_anim_00111
2986  0D27  DD 7E 04    	ld	a,(ix+4)
2987  0D2A  D6 B8       	sub	a,0xb8
2988  0D2C  D2 E3 0D    	jp	NC, l_spr_add_anim_00111
2989  0D2F  0E 00       	ld	c,0x00
2990  0D31  DD 71 FF    	ld	(ix-1),c
2991  0D34              l_spr_add_anim_00109:
2992  0D34  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2993  0D36  81          	add	a, c
2994  0D37  5F          	ld	e, a
2995  0D38  3E 00       	ld	a, +((_anim_lin) / 256)
2996  0D3A  CE 00       	adc	a,0x00
2997  0D3C  57          	ld	d, a
2998  0D3D  1A          	ld	a, (de)
2999  0D3E  3C          	inc	a
3000  0D3F  C2 D9 0D    	jp	NZ,l_spr_add_anim_00110
3001  0D42  21 00 00    	ld	hl,_anim_count
3002  0D45  34          	inc	(hl)
3003  0D46  DD 7E 04    	ld	a,(ix+4)
3004  0D49  12          	ld	(de), a
3005  0D4A  01 00 00    	ld	bc,_anim_col
3006  0D4D  DD 6E FF    	ld	l,(ix-1)
3007  0D50  26 00       	ld	h,0x00
3008  0D52  09          	add	hl,bc
3009  0D53  DD 75 FD    	ld	(ix-3),l
3010  0D56  DD 74 FE    	ld	(ix-2),h
3011  0D59  DD 7E 05    	ld	a,(ix+5)
3012  0D5C  77          	ld	(hl), a
3013  0D5D  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3014  0D5F  DD 86 FF    	add	a,(ix-1)
3015  0D62  DD 77 FB    	ld	(ix-5),a
3016  0D65  3E 00       	ld	a, +((_anim_tile) / 256)
3017  0D67  CE 00       	adc	a,0x00
3018  0D69  DD 77 FC    	ld	(ix-4),a
3019  0D6C  E1          	pop	hl
3020  0D6D  E5          	push	hl
3021  0D6E  DD 7E 06    	ld	a,(ix+6)
3022  0D71  77          	ld	(hl), a
3023  0D72  3E 00       	ld	a, +((_anim_loop) & 0xFF)
3024  0D74  DD 86 FF    	add	a,(ix-1)
3025  0D77  4F          	ld	c, a
3026  0D78  3E 00       	ld	a, +((_anim_loop) / 256)
3027  0D7A  CE 00       	adc	a,0x00
3028  0D7C  47          	ld	b, a
3029  0D7D  DD 7E 08    	ld	a,(ix+8)
3030  0D80  02          	ld	(bc), a
3031  0D81  01 00 00    	ld	bc,_anim_int+0
3032  0D84  DD 6E FF    	ld	l,(ix-1)
3033  0D87  26 00       	ld	h,0x00
3034  0D89  09          	add	hl, bc
3035  0D8A  36 00       	ld	(hl),0x00
3036  0D8C  3E 00       	ld	a, +((_anim_end) & 0xFF)
3037  0D8E  DD 86 FF    	add	a,(ix-1)
3038  0D91  4F          	ld	c, a
3039  0D92  3E 00       	ld	a, +((_anim_end) / 256)
3040  0D94  CE 00       	adc	a,0x00
3041  0D96  47          	ld	b, a
3042  0D97  DD 7E 07    	ld	a,(ix+7)
3043  0D9A  02          	ld	(bc), a
3044  0D9B  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3045  0D9D  DD 86 FF    	add	a,(ix-1)
3046  0DA0  4F          	ld	c, a
3047  0DA1  3E 00       	ld	a, +((_anim_respanwn) / 256)
3048  0DA3  CE 00       	adc	a,0x00
3049  0DA5  47          	ld	b, a
3050  0DA6  DD 7E 09    	ld	a,(ix+9)
3051  0DA9  02          	ld	(bc), a
3052  0DAA  F3          	di
3053  0DAB  DD 6E FD    	ld	l,(ix-3)
3054  0DAE  DD 66 FE    	ld	h,(ix-2)
3055  0DB1  46          	ld	b, (hl)
3056  0DB2  E1          	pop	hl
3057  0DB3  1A          	ld	a,(de)
3058  0DB4  56          	ld	d,(hl)
3059  0DB5  E5          	push	hl
3060  0DB6  C5          	push	bc
3061  0DB7  33          	inc	sp
3062  0DB8  5A          	ld	e,d
3063  0DB9  57          	ld	d,a
3064  0DBA  D5          	push	de
3065  0DBB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3066  0DBE  FB          	ei
3067  0DBF  DD 66 05    	ld	h,(ix+5)
3068  0DC2  DD 6E 04    	ld	l,(ix+4)
3069  0DC5  E5          	push	hl
3070  0DC6  CD 00 00    	call	_spr_calc_index
3071  0DC9  F1          	pop	af
3072  0DCA  22 00 00    	ld	(_index0),hl
3073  0DCD  01 00 00    	ld	bc,_scr_map
3074  0DD0  09          	add	hl,bc
3075  0DD1  7E          	ld	a,(hl)
3076  0DD2  B7          	or	a,a
3077  0DD3  20 0E       	jr	NZ,l_spr_add_anim_00111
3078  0DD5  36 FF       	ld	(hl),0xff
3079  0DD7  18 0A       	jr	l_spr_add_anim_00111
3080  0DD9              l_spr_add_anim_00110:
3081  0DD9  0C          	inc	c
3082  0DDA  DD 71 FF    	ld	(ix-1),c
3083  0DDD  79          	ld	a, c
3084  0DDE  D6 08       	sub	a,0x08
3085  0DE0  DA 34 0D    	jp	C, l_spr_add_anim_00109
3086  0DE3              l_spr_add_anim_00111:
3087  0DE3  DD F9       	ld	sp, ix
3088  0DE5  DD E1       	pop	ix
3089  0DE7  C9          	ret
3090  0DE8              	SECTION code_compiler
3091  0DE8              ;	---------------------------------
3092  0DE8              ; Function spr_play_anim
3093  0DE8              ; ---------------------------------
3094  0DE8              _spr_play_anim:
3095  0DE8  CD 00 00    	call	___sdcc_enter_ix
3096  0DEB  F5          	push	af
3097  0DEC  F5          	push	af
3098  0DED  F5          	push	af
3099  0DEE  F5          	push	af
3100  0DEF  DD 36 F8 00 	ld	(ix-8),0x00
3101  0DF3              l_spr_play_anim_00114:
3102  0DF3  01 00 00    	ld	bc,_anim_lin
3103  0DF6  DD 6E F8    	ld	l,(ix-8)
3104  0DF9  26 00       	ld	h,0x00
3105  0DFB  09          	add	hl,bc
3106  0DFC  DD 75 FE    	ld	(ix-2),l
3107  0DFF  DD 74 FF    	ld	(ix-1),h
3108  0E02  4E          	ld	c, (hl)
3109  0E03  0C          	inc	c
3110  0E04  CA 07 0F    	jp	Z,l_spr_play_anim_00115
3111  0E07  21 01 00    	ld	hl,0x0001
3112  0E0A  CD 00 00    	call	_z80_delay_ms_fastcall
3113  0E0D  01 00 00    	ld	bc,_anim_int
3114  0E10  DD 6E F8    	ld	l,(ix-8)
3115  0E13  26 00       	ld	h,0x00
3116  0E15  09          	add	hl,bc
3117  0E16  DD 75 FC    	ld	(ix-4),l
3118  0E19  DD 74 FD    	ld	(ix-3),h
3119  0E1C  4E          	ld	c, (hl)
3120  0E1D  3E 00       	ld	a, +((_anim_end) & 0xFF)
3121  0E1F  DD 86 F8    	add	a,(ix-8)
3122  0E22  6F          	ld	l, a
3123  0E23  3E 00       	ld	a, +((_anim_end) / 256)
3124  0E25  CE 00       	adc	a,0x00
3125  0E27  67          	ld	h, a
3126  0E28  46          	ld	b, (hl)
3127  0E29  79          	ld	a, c
3128  0E2A  90          	sub	a, b
3129  0E2B  30 40       	jr	NC,l_spr_play_anim_00109
3130  0E2D  F3          	di
3131  0E2E  3E 00       	ld	a, +((_anim_col) & 0xFF)
3132  0E30  DD 86 F8    	add	a,(ix-8)
3133  0E33  6F          	ld	l, a
3134  0E34  3E 00       	ld	a, +((_anim_col) / 256)
3135  0E36  CE 00       	adc	a,0x00
3136  0E38  67          	ld	h, a
3137  0E39  56          	ld	d, (hl)
3138  0E3A  DD 6E FE    	ld	l,(ix-2)
3139  0E3D  DD 66 FF    	ld	h,(ix-1)
3140  0E40  4E          	ld	c, (hl)
3141  0E41  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3142  0E43  DD 86 F8    	add	a,(ix-8)
3143  0E46  6F          	ld	l, a
3144  0E47  3E 00       	ld	a, +((_anim_tile) / 256)
3145  0E49  CE 00       	adc	a,0x00
3146  0E4B  67          	ld	h, a
3147  0E4C  5E          	ld	e, (hl)
3148  0E4D  DD 6E FC    	ld	l,(ix-4)
3149  0E50  DD 66 FD    	ld	h,(ix-3)
3150  0E53  6E          	ld	l, (hl)
3151  0E54  7B          	ld	a, e
3152  0E55  85          	add	a, l
3153  0E56  47          	ld	b, a
3154  0E57  D5          	push	de
3155  0E58  33          	inc	sp
3156  0E59  79          	ld	a, c
3157  0E5A  48          	ld	c,b
3158  0E5B  47          	ld	b,a
3159  0E5C  C5          	push	bc
3160  0E5D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3161  0E60  FB          	ei
3162  0E61  DD 6E FC    	ld	l,(ix-4)
3163  0E64  DD 66 FD    	ld	h,(ix-3)
3164  0E67  4E          	ld	c,(hl)
3165  0E68  0C          	inc	c
3166  0E69  71          	ld	(hl), c
3167  0E6A  C3 07 0F    	jp	l_spr_play_anim_00115
3168  0E6D              l_spr_play_anim_00109:
3169  0E6D  01 00 00    	ld	bc,_anim_loop
3170  0E70  DD 6E F8    	ld	l,(ix-8)
3171  0E73  26 00       	ld	h,0x00
3172  0E75  09          	add	hl,bc
3173  0E76  DD 75 FA    	ld	(ix-6),l
3174  0E79  DD 74 FB    	ld	(ix-5),h
3175  0E7C  7E          	ld	a, (hl)
3176  0E7D  DD 77 F9    	ld	(ix-7),a
3177  0E80  B7          	or	a, a
3178  0E81  20 71       	jr	NZ,l_spr_play_anim_00106
3179  0E83  21 00 00    	ld	hl,_anim_count
3180  0E86  35          	dec	(hl)
3181  0E87  3E 00       	ld	a, +((_anim_col) & 0xFF)
3182  0E89  DD 86 F8    	add	a,(ix-8)
3183  0E8C  6F          	ld	l, a
3184  0E8D  3E 00       	ld	a, +((_anim_col) / 256)
3185  0E8F  CE 00       	adc	a,0x00
3186  0E91  67          	ld	h, a
3187  0E92  7E          	ld	a, (hl)
3188  0E93  32 00 00    	ld	(_s_col0),a
3189  0E96  DD 6E FE    	ld	l,(ix-2)
3190  0E99  DD 66 FF    	ld	h,(ix-1)
3191  0E9C  7E          	ld	a, (hl)
3192  0E9D  32 00 00    	ld	(_s_lin0),a
3193  0EA0  2A FF FF    	ld	hl,(_s_col0 - 1)
3194  0EA3  6F          	ld	l,a
3195  0EA4  E5          	push	hl
3196  0EA5  CD 00 00    	call	_spr_calc_index
3197  0EA8  F1          	pop	af
3198  0EA9  2A FF FF    	ld	hl,(_s_col0 - 1)
3199  0EAC  3A 00 00    	ld	a,(_s_lin0)
3200  0EAF  6F          	ld	l,a
3201  0EB0  E5          	push	hl
3202  0EB1  CD 00 00    	call	_spr_calc_index
3203  0EB4  F1          	pop	af
3204  0EB5  01 00 00    	ld	bc,_scr_map
3205  0EB8  09          	add	hl,bc
3206  0EB9  4E          	ld	c, (hl)
3207  0EBA  0C          	inc	c
3208  0EBB  20 12       	jr	NZ,l_spr_play_anim_00102
3209  0EBD  2A FF FF    	ld	hl,(_s_col0 - 1)
3210  0EC0  3A 00 00    	ld	a,(_s_lin0)
3211  0EC3  6F          	ld	l,a
3212  0EC4  E5          	push	hl
3213  0EC5  CD 00 00    	call	_spr_calc_index
3214  0EC8  F1          	pop	af
3215  0EC9  01 00 00    	ld	bc,_scr_map
3216  0ECC  09          	add	hl,bc
3217  0ECD  36 00       	ld	(hl),0x00
3218  0ECF              l_spr_play_anim_00102:
3219  0ECF  CD 4D 0B    	call	_spr_back_repaint
3220  0ED2  3E 00       	ld	a, +((_anim_respanwn) & 0xFF)
3221  0ED4  DD 86 F8    	add	a,(ix-8)
3222  0ED7  4F          	ld	c, a
3223  0ED8  3E 00       	ld	a, +((_anim_respanwn) / 256)
3224  0EDA  CE 00       	adc	a,0x00
3225  0EDC  47          	ld	b, a
3226  0EDD  0A          	ld	a, (bc)
3227  0EDE  B7          	or	a, a
3228  0EDF  28 09       	jr	Z,l_spr_play_anim_00104
3229  0EE1  DD 7E F8    	ld	a,(ix-8)
3230  0EE4  F5          	push	af
3231  0EE5  33          	inc	sp
3232  0EE6  CD 00 00    	call	_enemy_respawn
3233  0EE9  33          	inc	sp
3234  0EEA              l_spr_play_anim_00104:
3235  0EEA  DD 6E FE    	ld	l,(ix-2)
3236  0EED  DD 66 FF    	ld	h,(ix-1)
3237  0EF0  36 FF       	ld	(hl),0xff
3238  0EF2  18 13       	jr	l_spr_play_anim_00115
3239  0EF4              l_spr_play_anim_00106:
3240  0EF4  DD 4E F9    	ld	c,(ix-7)
3241  0EF7  0D          	dec	c
3242  0EF8  DD 6E FA    	ld	l,(ix-6)
3243  0EFB  DD 66 FB    	ld	h,(ix-5)
3244  0EFE  71          	ld	(hl), c
3245  0EFF  DD 6E FC    	ld	l,(ix-4)
3246  0F02  DD 66 FD    	ld	h,(ix-3)
3247  0F05  36 00       	ld	(hl),0x00
3248  0F07              l_spr_play_anim_00115:
3249  0F07  DD 34 F8    	inc	(ix-8)
3250  0F0A  DD 7E F8    	ld	a,(ix-8)
3251  0F0D  D6 08       	sub	a,0x08
3252  0F0F  DA F3 0D    	jp	C, l_spr_play_anim_00114
3253  0F12  DD F9       	ld	sp, ix
3254  0F14  DD E1       	pop	ix
3255  0F16  C9          	ret
3256  0F17              	SECTION code_compiler
3257  0F17              ;	---------------------------------
3258  0F17              ; Function spr_play_bullets
3259  0F17              ; ---------------------------------
3260  0F17              _spr_play_bullets:
3261  0F17  CD 00 00    	call	___sdcc_enter_ix
3262  0F1A  21 F1 FF    	ld	hl, -15
3263  0F1D  39          	add	hl, sp
3264  0F1E  F9          	ld	sp, hl
3265  0F1F  3E 00       	ld	a,0x00
3266  0F21  DD 77 FF    	ld	(ix-1),a
3267  0F24  DD 77 F5    	ld	(ix-11),a
3268  0F27              l_spr_play_bullets_00195:
3269  0F27  01 00 00    	ld	bc,_bullet_col
3270  0F2A  DD 6E F5    	ld	l,(ix-11)
3271  0F2D  26 00       	ld	h,0x00
3272  0F2F  09          	add	hl,bc
3273  0F30  DD 75 FD    	ld	(ix-3),l
3274  0F33  DD 74 FE    	ld	(ix-2),h
3275  0F36  7E          	ld	a, (hl)
3276  0F37  DD 77 FC    	ld	(ix-4),a
3277  0F3A  3C          	inc	a
3278  0F3B  CA C5 14    	jp	Z,l_spr_play_bullets_00189
3279  0F3E  01 00 00    	ld	bc,_bullet_lin
3280  0F41  DD 6E F5    	ld	l,(ix-11)
3281  0F44  26 00       	ld	h,0x00
3282  0F46  09          	add	hl,bc
3283  0F47  DD 75 FA    	ld	(ix-6),l
3284  0F4A  DD 74 FB    	ld	(ix-5),h
3285  0F4D  7E          	ld	a, (hl)
3286  0F4E  32 00 00    	ld	(_s_lin0),a
3287  0F51  DD 7E FC    	ld	a,(ix-4)
3288  0F54  32 00 00    	ld	(_s_col0),a
3289  0F57  DD 77 F3    	ld	(ix-13),a
3290  0F5A  CD 4D 0B    	call	_spr_back_repaint
3291  0F5D  01 00 00    	ld	bc,_bullet_class
3292  0F60  DD 6E F5    	ld	l,(ix-11)
3293  0F63  26 00       	ld	h,0x00
3294  0F65  09          	add	hl,bc
3295  0F66  DD 75 F8    	ld	(ix-8),l
3296  0F69  DD 74 F9    	ld	(ix-7),h
3297  0F6C  7E          	ld	a, (hl)
3298  0F6D  D6 02       	sub	a,0x02
3299  0F6F  20 46       	jr	NZ,l_spr_play_bullets_00107
3300  0F71  3A 00 00    	ld	a,(_s_lin0)
3301  0F74  4F          	ld	c,a
3302  0F75  06 00       	ld	b,0x00
3303  0F77  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3304  0F79  DD 86 F5    	add	a,(ix-11)
3305  0F7C  6F          	ld	l, a
3306  0F7D  3E 00       	ld	a, +((_bullet_lin0) / 256)
3307  0F7F  CE 00       	adc	a,0x00
3308  0F81  67          	ld	h, a
3309  0F82  5E          	ld	e, (hl)
3310  0F83  16 00       	ld	d,0x00
3311  0F85  79          	ld	a, c
3312  0F86  93          	sub	a, e
3313  0F87  4F          	ld	c, a
3314  0F88  78          	ld	a, b
3315  0F89  9A          	sbc	a, d
3316  0F8A  47          	ld	b, a
3317  0F8B  3E 08       	ld	a,0x08
3318  0F8D  B9          	cp	a, c
3319  0F8E  3E 00       	ld	a,0x00
3320  0F90  98          	sbc	a, b
3321  0F91  E2 96 0F    	jp	PO, l_spr_play_bullets_00397
3322  0F94  EE 80       	xor	a,0x80
3323  0F96              l_spr_play_bullets_00397:
3324  0F96  FA AF 0F    	jp	M, l_spr_play_bullets_00104
3325  0F99  DD 6E FA    	ld	l,(ix-6)
3326  0F9C  DD 66 FB    	ld	h,(ix-5)
3327  0F9F  4E          	ld	c, (hl)
3328  0FA0  0C          	inc	c
3329  0FA1  0C          	inc	c
3330  0FA2  DD 6E FA    	ld	l,(ix-6)
3331  0FA5  DD 66 FB    	ld	h,(ix-5)
3332  0FA8  71          	ld	(hl), c
3333  0FA9  21 00 00    	ld	hl,_s_lin0
3334  0FAC  71          	ld	(hl), c
3335  0FAD  18 08       	jr	l_spr_play_bullets_00107
3336  0FAF              l_spr_play_bullets_00104:
3337  0FAF  DD 6E F8    	ld	l,(ix-8)
3338  0FB2  DD 66 F9    	ld	h,(ix-7)
3339  0FB5  36 03       	ld	(hl),0x03
3340  0FB7              l_spr_play_bullets_00107:
3341  0FB7  DD 6E F8    	ld	l,(ix-8)
3342  0FBA  DD 66 F9    	ld	h,(ix-7)
3343  0FBD  7E          	ld	a, (hl)
3344  0FBE  D6 03       	sub	a,0x03
3345  0FC0  20 46       	jr	NZ,l_spr_play_bullets_00112
3346  0FC2  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3347  0FC4  DD 86 F5    	add	a,(ix-11)
3348  0FC7  6F          	ld	l, a
3349  0FC8  3E 00       	ld	a, +((_bullet_lin0) / 256)
3350  0FCA  CE 00       	adc	a,0x00
3351  0FCC  67          	ld	h, a
3352  0FCD  4E          	ld	c, (hl)
3353  0FCE  06 00       	ld	b,0x00
3354  0FD0  3A 00 00    	ld	a,(_s_lin0)
3355  0FD3  5F          	ld	e,a
3356  0FD4  16 00       	ld	d,0x00
3357  0FD6  79          	ld	a, c
3358  0FD7  93          	sub	a, e
3359  0FD8  4F          	ld	c, a
3360  0FD9  78          	ld	a, b
3361  0FDA  9A          	sbc	a, d
3362  0FDB  47          	ld	b, a
3363  0FDC  3E 08       	ld	a,0x08
3364  0FDE  B9          	cp	a, c
3365  0FDF  3E 00       	ld	a,0x00
3366  0FE1  98          	sbc	a, b
3367  0FE2  E2 E7 0F    	jp	PO, l_spr_play_bullets_00400
3368  0FE5  EE 80       	xor	a,0x80
3369  0FE7              l_spr_play_bullets_00400:
3370  0FE7  FA 00 10    	jp	M, l_spr_play_bullets_00109
3371  0FEA  DD 6E FA    	ld	l,(ix-6)
3372  0FED  DD 66 FB    	ld	h,(ix-5)
3373  0FF0  4E          	ld	c, (hl)
3374  0FF1  0D          	dec	c
3375  0FF2  0D          	dec	c
3376  0FF3  DD 6E FA    	ld	l,(ix-6)
3377  0FF6  DD 66 FB    	ld	h,(ix-5)
3378  0FF9  71          	ld	(hl), c
3379  0FFA  21 00 00    	ld	hl,_s_lin0
3380  0FFD  71          	ld	(hl), c
3381  0FFE  18 08       	jr	l_spr_play_bullets_00112
3382  1000              l_spr_play_bullets_00109:
3383  1000  DD 6E F8    	ld	l,(ix-8)
3384  1003  DD 66 F9    	ld	h,(ix-7)
3385  1006  36 02       	ld	(hl),0x02
3386  1008              l_spr_play_bullets_00112:
3387  1008  DD 6E F8    	ld	l,(ix-8)
3388  100B  DD 66 F9    	ld	h,(ix-7)
3389  100E  7E          	ld	a, (hl)
3390  100F  D6 04       	sub	a,0x04
3391  1011  C2 97 10    	jp	NZ,l_spr_play_bullets_00125
3392  1014  DD 6E FA    	ld	l,(ix-6)
3393  1017  DD 66 FB    	ld	h,(ix-5)
3394  101A  7E          	ld	a, (hl)
3395  101B  32 00 00    	ld	(_s_lin0),a
3396  101E  DD 6E FD    	ld	l,(ix-3)
3397  1021  DD 66 FE    	ld	h,(ix-2)
3398  1024  7E          	ld	a, (hl)
3399  1025  C6 FF       	add	a,0xff
3400  1027  32 00 00    	ld	(_s_col0),a
3401  102A  D6 20       	sub	a,0x20
3402  102C  30 03       	jr	NC,l_spr_play_bullets_00114
3403  102E  CD 4D 0B    	call	_spr_back_repaint
3404  1031              l_spr_play_bullets_00114:
3405  1031  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3406  1033  DD 86 F5    	add	a,(ix-11)
3407  1036  4F          	ld	c, a
3408  1037  3E 00       	ld	a, +((_bullet_vel) / 256)
3409  1039  CE 00       	adc	a,0x00
3410  103B  47          	ld	b, a
3411  103C  0A          	ld	a, (bc)
3412  103D  5F          	ld	e, a
3413  103E  21 00 00    	ld	hl,_game_gravity
3414  1041  56          	ld	d, (hl)
3415  1042  7B          	ld	a, e
3416  1043  82          	add	a, d
3417  1044  5F          	ld	e,a
3418  1045  02          	ld	(bc), a
3419  1046  3E 78       	ld	a,0x78
3420  1048  93          	sub	a, e
3421  1049  E2 4E 10    	jp	PO, l_spr_play_bullets_00403
3422  104C  EE 80       	xor	a,0x80
3423  104E              l_spr_play_bullets_00403:
3424  104E  F2 54 10    	jp	P, l_spr_play_bullets_00116
3425  1051  3E 78       	ld	a,0x78
3426  1053  02          	ld	(bc), a
3427  1054              l_spr_play_bullets_00116:
3428  1054  0A          	ld	a, (bc)
3429  1055  EE 80       	xor	a,0x80
3430  1057  D6 08       	sub	a,0x08
3431  1059  30 03       	jr	NC,l_spr_play_bullets_00118
3432  105B  3E 88       	ld	a,0x88
3433  105D  02          	ld	(bc), a
3434  105E              l_spr_play_bullets_00118:
3435  105E  0A          	ld	a, (bc)
3436  105F  CB 47       	bit	0,a
3437  1061  32 00 00    	ld	(_s_lin1),a
3438  1064  28 04       	jr	Z,l_spr_play_bullets_00120
3439  1066  21 00 00    	ld	hl,_s_lin1
3440  1069  35          	dec	(hl)
3441  106A              l_spr_play_bullets_00120:
3442  106A  DD 6E FA    	ld	l,(ix-6)
3443  106D  DD 66 FB    	ld	h,(ix-5)
3444  1070  7E          	ld	a, (hl)
3445  1071  21 00 00    	ld	hl,_s_lin1
3446  1074  86          	add	a, (hl)
3447  1075  21 00 00    	ld	hl,_s_lin0
3448  1078  77          	ld	(hl), a
3449  1079  3E 90       	ld	a,0x90
3450  107B  96          	sub	a, (hl)
3451  107C  30 0F       	jr	NC,l_spr_play_bullets_00122
3452  107E  21 00 00    	ld	hl,_bullet_count
3453  1081  35          	dec	(hl)
3454  1082  DD 6E FD    	ld	l,(ix-3)
3455  1085  DD 66 FE    	ld	h,(ix-2)
3456  1088  36 FF       	ld	(hl),0xff
3457  108A  C3 C5 14    	jp	l_spr_play_bullets_00189
3458  108D              l_spr_play_bullets_00122:
3459  108D  DD 6E FA    	ld	l,(ix-6)
3460  1090  DD 66 FB    	ld	h,(ix-5)
3461  1093  3A 00 00    	ld	a,(_s_lin0)
3462  1096  77          	ld	(hl),a
3463  1097              l_spr_play_bullets_00125:
3464  1097  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3465  1099  DD 86 F5    	add	a,(ix-11)
3466  109C  6F          	ld	l, a
3467  109D  3E 00       	ld	a, +((_bullet_dir) / 256)
3468  109F  CE 00       	adc	a,0x00
3469  10A1  67          	ld	h, a
3470  10A2  4E          	ld	c, (hl)
3471  10A3  0C          	inc	c
3472  10A4  20 3D       	jr	NZ,l_spr_play_bullets_00135
3473  10A6  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3474  10A8  DD 86 F5    	add	a,(ix-11)
3475  10AB  4F          	ld	c, a
3476  10AC  3E 00       	ld	a, +((_bullet_colint) / 256)
3477  10AE  CE 00       	adc	a,0x00
3478  10B0  47          	ld	b, a
3479  10B1  0A          	ld	a, (bc)
3480  10B2  3C          	inc	a
3481  10B3  5F          	ld	e,a
3482  10B4  02          	ld	(bc), a
3483  10B5  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3484  10B7  DD 86 F5    	add	a,(ix-11)
3485  10BA  6F          	ld	l, a
3486  10BB  3E 00       	ld	a, +((_bullet_frames) / 256)
3487  10BD  CE 00       	adc	a,0x00
3488  10BF  67          	ld	h, a
3489  10C0  56          	ld	d, (hl)
3490  10C1  7B          	ld	a, e
3491  10C2  92          	sub	a, d
3492  10C3  38 63       	jr	C,l_spr_play_bullets_00136
3493  10C5  DD 6E FD    	ld	l,(ix-3)
3494  10C8  DD 66 FE    	ld	h,(ix-2)
3495  10CB  7E          	ld	a, (hl)
3496  10CC  3C          	inc	a
3497  10CD  DD 77 F3    	ld	(ix-13),a
3498  10D0  AF          	xor	a, a
3499  10D1  02          	ld	(bc), a
3500  10D2  DD 7E F3    	ld	a,(ix-13)
3501  10D5  E6 01       	and	a,0x01
3502  10D7  3D          	dec	a
3503  10D8  20 4E       	jr	NZ,l_spr_play_bullets_00136
3504  10DA  DD 7E F3    	ld	a,(ix-13)
3505  10DD  3C          	inc	a
3506  10DE  32 00 00    	ld	(_s_col0),a
3507  10E1  18 45       	jr	l_spr_play_bullets_00136
3508  10E3              l_spr_play_bullets_00135:
3509  10E3  01 00 00    	ld	bc,_bullet_colint
3510  10E6  DD 6E F5    	ld	l,(ix-11)
3511  10E9  26 00       	ld	h,0x00
3512  10EB  09          	add	hl,bc
3513  10EC  DD 75 F6    	ld	(ix-10),l
3514  10EF  DD 74 F7    	ld	(ix-9),h
3515  10F2  4E          	ld	c,(hl)
3516  10F3  0D          	dec	c
3517  10F4  71          	ld	(hl), c
3518  10F5  0C          	inc	c
3519  10F6  20 30       	jr	NZ,l_spr_play_bullets_00136
3520  10F8  DD 6E FD    	ld	l,(ix-3)
3521  10FB  DD 66 FE    	ld	h,(ix-2)
3522  10FE  7E          	ld	a, (hl)
3523  10FF  C6 FF       	add	a,0xff
3524  1101  DD 77 F3    	ld	(ix-13),a
3525  1104  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3526  1106  DD 86 F5    	add	a,(ix-11)
3527  1109  6F          	ld	l, a
3528  110A  3E 00       	ld	a, +((_bullet_frames) / 256)
3529  110C  CE 00       	adc	a,0x00
3530  110E  67          	ld	h, a
3531  110F  4E          	ld	c, (hl)
3532  1110  0D          	dec	c
3533  1111  DD 6E F6    	ld	l,(ix-10)
3534  1114  DD 66 F7    	ld	h,(ix-9)
3535  1117  71          	ld	(hl), c
3536  1118  DD 7E F3    	ld	a,(ix-13)
3537  111B  E6 01       	and	a,0x01
3538  111D  3D          	dec	a
3539  111E  20 08       	jr	NZ,l_spr_play_bullets_00136
3540  1120  DD 7E F3    	ld	a,(ix-13)
3541  1123  C6 FF       	add	a,0xff
3542  1125  32 00 00    	ld	(_s_col0),a
3543  1128              l_spr_play_bullets_00136:
3544  1128  21 00 00    	ld	hl,_tmp1
3545  112B  36 00       	ld	(hl),0x00
3546  112D  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3547  112F  DD 86 F5    	add	a,(ix-11)
3548  1132  4F          	ld	c, a
3549  1133  3E 00       	ld	a, +((_bullet_max) / 256)
3550  1135  CE 00       	adc	a,0x00
3551  1137  47          	ld	b, a
3552  1138  0A          	ld	a, (bc)
3553  1139  B7          	or	a, a
3554  113A  28 27       	jr	Z,l_spr_play_bullets_00140
3555  113C  DD 5E F3    	ld	e,(ix-13)
3556  113F  16 00       	ld	d,0x00
3557  1141  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3558  1143  DD 86 F5    	add	a,(ix-11)
3559  1146  6F          	ld	l, a
3560  1147  3E 00       	ld	a, +((_bullet_col0) / 256)
3561  1149  CE 00       	adc	a,0x00
3562  114B  67          	ld	h, a
3563  114C  6E          	ld	l, (hl)
3564  114D  AF          	xor	a,a
3565  114E  67          	ld	h,a
3566  114F  EB          	ex	de,hl
3567  1150  ED 52       	sbc	hl,de
3568  1152  CD 00 00    	call	_abs_fastcall
3569  1155  5D          	ld	e, l
3570  1156  21 00 00    	ld	hl,_tmp0
3571  1159  73          	ld	(hl), e
3572  115A  0A          	ld	a, (bc)
3573  115B  96          	sub	a, (hl)
3574  115C  30 05       	jr	NC,l_spr_play_bullets_00140
3575  115E  21 00 00    	ld	hl,_tmp1
3576  1161  36 01       	ld	(hl),0x01
3577  1163              l_spr_play_bullets_00140:
3578  1163  DD 7E F3    	ld	a,(ix-13)
3579  1166  D6 1E       	sub	a,0x1e
3580  1168  38 05       	jr	C,l_spr_play_bullets_00142
3581  116A  21 00 00    	ld	hl,_tmp1
3582  116D  36 01       	ld	(hl),0x01
3583  116F              l_spr_play_bullets_00142:
3584  116F  3A 00 00    	ld	a,(_tmp1)
3585  1172  B7          	or	a, a
3586  1173  28 0F       	jr	Z,l_spr_play_bullets_00144
3587  1175  21 00 00    	ld	hl,_bullet_count
3588  1178  35          	dec	(hl)
3589  1179  DD 6E FD    	ld	l,(ix-3)
3590  117C  DD 66 FE    	ld	h,(ix-2)
3591  117F  36 FF       	ld	(hl),0xff
3592  1181  C3 C5 14    	jp	l_spr_play_bullets_00189
3593  1184              l_spr_play_bullets_00144:
3594  1184  DD 7E FD    	ld	a,(ix-3)
3595  1187  DD 77 F6    	ld	(ix-10),a
3596  118A  DD 7E FE    	ld	a,(ix-2)
3597  118D  DD 77 F7    	ld	(ix-9),a
3598  1190  DD 6E FD    	ld	l,(ix-3)
3599  1193  DD 66 FE    	ld	h,(ix-2)
3600  1196  DD 7E F3    	ld	a,(ix-13)
3601  1199  96          	sub	a,(hl)
3602  119A  CA 89 14    	jp	Z,l_spr_play_bullets_00184
3603  119D  3A 00 00    	ld	a,(_s_lin0)
3604  11A0  C6 08       	add	a,0x08
3605  11A2  4F          	ld	c, a
3606  11A3  3A 00 00    	ld	a, (_s_col0)
3607  11A6  47          	ld	b,a
3608  11A7  C5          	push	bc
3609  11A8  CD 00 00    	call	_spr_calc_index
3610  11AB  F1          	pop	af
3611  11AC  22 00 00    	ld	(_index0),hl
3612  11AF  11 00 00    	ld	de,_scr_map
3613  11B2  19          	add	hl,de
3614  11B3  5E          	ld	e, (hl)
3615  11B4  EB          	ex	de,hl
3616  11B5  DD 7E F5    	ld	a,(ix-11)
3617  11B8  D6 07       	sub	a,0x07
3618  11BA  20 04       	jr	NZ,l_spr_play_bullets_00414
3619  11BC  3E 01       	ld	a,0x01
3620  11BE  18 01       	jr	l_spr_play_bullets_00415
3621  11C0              l_spr_play_bullets_00414:
3622  11C0  AF          	xor	a,a
3623  11C1              l_spr_play_bullets_00415:
3624  11C1  4F          	ld	c, a
3625  11C2  7D          	ld	a, l
3626  11C3  D6 4D       	sub	a,0x4d
3627  11C5  20 3D       	jr	NZ,l_spr_play_bullets_00146
3628  11C7  B1          	or	a,c
3629  11C8  28 3A       	jr	Z,l_spr_play_bullets_00146
3630  11CA  AF          	xor	a, a
3631  11CB  12          	ld	(de), a
3632  11CC  2A 00 00    	ld	hl,(_index0)
3633  11CF  E5          	push	hl
3634  11D0  CD 00 00    	call	_game_obj_set
3635  11D3  F1          	pop	af
3636  11D4  2A 00 00    	ld	hl,(_index0)
3637  11D7  4D          	ld	c,l
3638  11D8  5C          	ld	e,h
3639  11D9  06 04       	ld	b,0x04
3640  11DB  79          	ld	a,c
3641  11DC              l_spr_play_bullets_00418:
3642  11DC  CB 3B       	srl	e
3643  11DE  1F          	rra
3644  11DF  10 FB       	djnz	l_spr_play_bullets_00418
3645  11E1  07          	rlca
3646  11E2  07          	rlca
3647  11E3  07          	rlca
3648  11E4  07          	rlca
3649  11E5  E6 F0       	and	a,0xf0
3650  11E7  DD 6E FA    	ld	l,(ix-6)
3651  11EA  DD 66 FB    	ld	h,(ix-5)
3652  11ED  77          	ld	(hl), a
3653  11EE  3A 00 00    	ld	a,(_index0)
3654  11F1  E6 0F       	and	a,0x0f
3655  11F3  87          	add	a, a
3656  11F4  DD 6E FD    	ld	l,(ix-3)
3657  11F7  DD 66 FE    	ld	h,(ix-2)
3658  11FA  77          	ld	(hl), a
3659  11FB  DD 6E F5    	ld	l,(ix-11)
3660  11FE  CD D8 14    	call	_spr_explode_bullet
3661  1201  C3 C5 14    	jp	l_spr_play_bullets_00189
3662  1204              l_spr_play_bullets_00146:
3663  1204  7D          	ld	a, l
3664  1205  D6 48       	sub	a,0x48
3665  1207  38 0C       	jr	C,l_spr_play_bullets_00149
3666  1209  2C          	inc	l
3667  120A  28 09       	jr	Z,l_spr_play_bullets_00149
3668  120C  DD 6E F5    	ld	l,(ix-11)
3669  120F  CD D8 14    	call	_spr_explode_bullet
3670  1212  C3 C5 14    	jp	l_spr_play_bullets_00189
3671  1215              l_spr_play_bullets_00149:
3672  1215  DD 6E FD    	ld	l,(ix-3)
3673  1218  DD 66 FE    	ld	h,(ix-2)
3674  121B  DD 7E F3    	ld	a,(ix-13)
3675  121E  77          	ld	(hl), a
3676  121F  DD 6E F8    	ld	l,(ix-8)
3677  1222  DD 66 F9    	ld	h,(ix-7)
3678  1225  7E          	ld	a, (hl)
3679  1226  D6 04       	sub	a,0x04
3680  1228  20 1B       	jr	NZ,l_spr_play_bullets_00152
3681  122A  21 00 00    	ld	hl,_s_lin0
3682  122D  7E          	ld	a, (hl)
3683  122E  C6 F0       	add	a,0xf0
3684  1230  DD 77 F4    	ld	(ix-12),a
3685  1233  7E          	ld	a, (hl)
3686  1234  C6 10       	add	a,0x10
3687  1236  DD 77 F2    	ld	(ix-14),a
3688  1239  DD 35 F3    	dec	(ix-13)
3689  123C  DD 7E F3    	ld	a,(ix-13)
3690  123F  3C          	inc	a
3691  1240  DD 77 F1    	ld	(ix-15),a
3692  1243  18 16       	jr	l_spr_play_bullets_00153
3693  1245              l_spr_play_bullets_00152:
3694  1245  21 00 00    	ld	hl,_s_lin0
3695  1248  7E          	ld	a, (hl)
3696  1249  C6 F8       	add	a,0xf8
3697  124B  DD 77 F4    	ld	(ix-12),a
3698  124E  7E          	ld	a, (hl)
3699  124F  C6 08       	add	a,0x08
3700  1251  DD 77 F2    	ld	(ix-14),a
3701  1254  DD 7E F3    	ld	a,(ix-13)
3702  1257  3C          	inc	a
3703  1258  DD 77 F1    	ld	(ix-15),a
3704  125B              l_spr_play_bullets_00153:
3705  125B  79          	ld	a, c
3706  125C  B7          	or	a, a
3707  125D  CA 4F 14    	jp	Z, l_spr_play_bullets_00181
3708  1260  21 00 00    	ld	hl,_tmp0
3709  1263  36 00       	ld	(hl),0x00
3710  1265              l_spr_play_bullets_00191:
3711  1265  2A 00 00    	ld	hl,(_tmp0)
3712  1268  26 00       	ld	h,0x00
3713  126A  01 00 00    	ld	bc,_class
3714  126D  09          	add	hl,bc
3715  126E  7E          	ld	a,(hl)
3716  126F  B7          	or	a,a
3717  1270  CA 1C 13    	jp	Z,l_spr_play_bullets_00192
3718  1273  2A 00 00    	ld	hl,(_tmp0)
3719  1276  26 00       	ld	h,0x00
3720  1278  01 00 00    	ld	bc,_lin
3721  127B  09          	add	hl,bc
3722  127C  7E          	ld	a,(hl)
3723  127D  47          	ld	b,a
3724  127E  21 00 00    	ld	hl,_tmp0
3725  1281  DD 96 F4    	sub	a,(ix-12)
3726  1284  DA 1C 13    	jp	C, l_spr_play_bullets_00192
3727  1287  DD 7E F2    	ld	a,(ix-14)
3728  128A  90          	sub	a, b
3729  128B  DA 1C 13    	jp	C, l_spr_play_bullets_00192
3730  128E  5E          	ld	e,(hl)
3731  128F  16 00       	ld	d,0x00
3732  1291  21 00 00    	ld	hl,_col
3733  1294  19          	add	hl,de
3734  1295  7E          	ld	a,(hl)
3735  1296  4F          	ld	c,a
3736  1297  DD 96 F3    	sub	a,(ix-13)
3737  129A  DA 1C 13    	jp	C, l_spr_play_bullets_00192
3738  129D  DD 7E F1    	ld	a,(ix-15)
3739  12A0  91          	sub	a, c
3740  12A1  38 79       	jr	C,l_spr_play_bullets_00192
3741  12A3  21 00 00    	ld	hl,_s_lin0
3742  12A6  70          	ld	(hl), b
3743  12A7  21 00 00    	ld	hl,_s_col0
3744  12AA  71          	ld	(hl), c
3745  12AB  CD 00 00    	call	_rand
3746  12AE  01 06 00    	ld	bc,0x0006
3747  12B1  C5          	push	bc
3748  12B2  E5          	push	hl
3749  12B3  CD 00 00    	call	__modsint_callee
3750  12B6  CD 00 00    	call	_player_score_add
3751  12B9  2A 00 00    	ld	hl,(_tmp0)
3752  12BC  26 00       	ld	h,0x00
3753  12BE  29          	add	hl,hl
3754  12BF  01 00 00    	ld	bc,_game_respawn_time
3755  12C2  09          	add	hl,bc
3756  12C3  ED 5B 00 00 	ld	de,(_curr_time)
3757  12C7  73          	ld	(hl),e
3758  12C8  23          	inc	hl
3759  12C9  72          	ld	(hl),d
3760  12CA  2A 00 00    	ld	hl,(_tmp0)
3761  12CD  CD AE 07    	call	_spr_destroy
3762  12D0  2A 00 00    	ld	hl,(_tmp0)
3763  12D3  26 00       	ld	h,0x00
3764  12D5  01 00 00    	ld	bc,_bullet_col
3765  12D8  09          	add	hl,bc
3766  12D9  7E          	ld	a,(hl)
3767  12DA  21 00 00    	ld	hl,_tmp0
3768  12DD  DD 77 F8    	ld	(ix-8),a
3769  12E0  3C          	inc	a
3770  12E1  28 27       	jr	Z,l_spr_play_bullets_00155
3771  12E3  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3772  12E5  86          	add	a, (hl)
3773  12E6  DD 77 FA    	ld	(ix-6),a
3774  12E9  6F          	ld	l,a
3775  12EA  3E 00       	ld	a,+((_bullet_lin) / 256)
3776  12EC  CE 00       	adc	a,0x00
3777  12EE  DD 77 FB    	ld	(ix-5),a
3778  12F1  67          	ld	h,a
3779  12F2  7E          	ld	a, (hl)
3780  12F3  32 00 00    	ld	(_s_lin0),a
3781  12F6  DD 7E F8    	ld	a,(ix-8)
3782  12F9  32 00 00    	ld	(_s_col0),a
3783  12FC  CD 4D 0B    	call	_spr_back_repaint
3784  12FF  2A 00 00    	ld	hl,(_tmp0)
3785  1302  26 00       	ld	h,0x00
3786  1304  01 00 00    	ld	bc,_bullet_col
3787  1307  09          	add	hl,bc
3788  1308  36 FF       	ld	(hl),0xff
3789  130A              l_spr_play_bullets_00155:
3790  130A  DD 6E F6    	ld	l,(ix-10)
3791  130D  DD 66 F7    	ld	h,(ix-9)
3792  1310  3A 00 00    	ld	a,(_s_col0)
3793  1313  77          	ld	(hl),a
3794  1314  DD 6E F5    	ld	l,(ix-11)
3795  1317  CD D8 14    	call	_spr_explode_bullet
3796  131A  18 0B       	jr	l_spr_play_bullets_00162
3797  131C              l_spr_play_bullets_00192:
3798  131C  21 00 00    	ld	hl,_tmp0
3799  131F  7E          	ld	a,(hl)
3800  1320  3C          	inc	a
3801  1321  77          	ld	(hl),a
3802  1322  D6 07       	sub	a,0x07
3803  1324  DA 65 12    	jp	C, l_spr_play_bullets_00191
3804  1327              l_spr_play_bullets_00162:
3805  1327  3A 00 00    	ld	a,(_game_boss)
3806  132A  B7          	or	a, a
3807  132B  CA 89 14    	jp	Z, l_spr_play_bullets_00184
3808  132E  21 00 00    	ld	hl,_boss_lin
3809  1331  7E          	ld	a, (hl)
3810  1332  DD 96 F4    	sub	a,(ix-12)
3811  1335  38 06       	jr	C,l_spr_play_bullets_00170
3812  1337  DD 7E F2    	ld	a,(ix-14)
3813  133A  96          	sub	a, (hl)
3814  133B  30 2A       	jr	NC,l_spr_play_bullets_00171
3815  133D              l_spr_play_bullets_00170:
3816  133D  2A 00 00    	ld	hl,(_boss_lin)
3817  1340  26 00       	ld	h,0x00
3818  1342  01 10 00    	ld	bc,0x0010
3819  1345  09          	add	hl,bc
3820  1346  DD 4E F4    	ld	c,(ix-12)
3821  1349  06 00       	ld	b,0x00
3822  134B  7D          	ld	a, l
3823  134C  91          	sub	a, c
3824  134D  7C          	ld	a, h
3825  134E  98          	sbc	a, b
3826  134F  E2 54 13    	jp	PO, l_spr_play_bullets_00425
3827  1352  EE 80       	xor	a,0x80
3828  1354              l_spr_play_bullets_00425:
3829  1354  FA 89 14    	jp	M, l_spr_play_bullets_00184
3830  1357  DD 7E F2    	ld	a,(ix-14)
3831  135A  06 00       	ld	b,0x00
3832  135C  95          	sub	a, l
3833  135D  78          	ld	a, b
3834  135E  9C          	sbc	a, h
3835  135F  E2 64 13    	jp	PO, l_spr_play_bullets_00426
3836  1362  EE 80       	xor	a,0x80
3837  1364              l_spr_play_bullets_00426:
3838  1364  FA 89 14    	jp	M, l_spr_play_bullets_00184
3839  1367              l_spr_play_bullets_00171:
3840  1367  21 00 00    	ld	hl,_boss_col
3841  136A  7E          	ld	a, (hl)
3842  136B  DD 96 F3    	sub	a,(ix-13)
3843  136E  DA 89 14    	jp	C, l_spr_play_bullets_00184
3844  1371  DD 7E F1    	ld	a,(ix-15)
3845  1374  96          	sub	a, (hl)
3846  1375  DA 89 14    	jp	C, l_spr_play_bullets_00184
3847  1378  DD 6E F5    	ld	l,(ix-11)
3848  137B  CD D8 14    	call	_spr_explode_bullet
3849  137E  21 00 00    	ld	hl,_game_boss_hit
3850  1381  35          	dec	(hl)
3851  1382  CD 00 00    	call	_game_update_stats
3852  1385  3A 00 00    	ld	a,(_game_boss_hit)
3853  1388  B7          	or	a, a
3854  1389  C2 89 14    	jp	NZ, l_spr_play_bullets_00184
3855  138C  21 00 00    	ld	hl,_game_boss
3856  138F  36 00       	ld	(hl),0x00
3857  1391  21 00 00    	ld	hl,_game_boss_alive
3858  1394  36 00       	ld	(hl),0x00
3859  1396  3A 00 00    	ld	a,(_boss_col)
3860  1399  21 00 00    	ld	hl,0x0000
3861  139C  E5          	push	hl
3862  139D  21 87 03    	ld	hl,0x0387
3863  13A0  E5          	push	hl
3864  13A1  F5          	push	af
3865  13A2  33          	inc	sp
3866  13A3  3A 00 00    	ld	a,(_boss_lin)
3867  13A6  F5          	push	af
3868  13A7  33          	inc	sp
3869  13A8  CD 19 0D    	call	_spr_add_anim
3870  13AB  F1          	pop	af
3871  13AC  F1          	pop	af
3872  13AD  F1          	pop	af
3873  13AE  21 00 00    	ld	hl,_boss_col
3874  13B1  46          	ld	b, (hl)
3875  13B2  04          	inc	b
3876  13B3  04          	inc	b
3877  13B4  21 00 00    	ld	hl,0x0000
3878  13B7  E5          	push	hl
3879  13B8  21 87 03    	ld	hl,0x0387
3880  13BB  E5          	push	hl
3881  13BC  C5          	push	bc
3882  13BD  33          	inc	sp
3883  13BE  3A 00 00    	ld	a,(_boss_lin)
3884  13C1  F5          	push	af
3885  13C2  33          	inc	sp
3886  13C3  CD 19 0D    	call	_spr_add_anim
3887  13C6  F1          	pop	af
3888  13C7  F1          	pop	af
3889  13C8  F1          	pop	af
3890  13C9  3A 00 00    	ld	a,(_boss_lin)
3891  13CC  C6 10       	add	a,0x10
3892  13CE  47          	ld	b, a
3893  13CF  3A 00 00    	ld	a,(_boss_col)
3894  13D2  21 00 00    	ld	hl,0x0000
3895  13D5  E5          	push	hl
3896  13D6  21 87 03    	ld	hl,0x0387
3897  13D9  E5          	push	hl
3898  13DA  48          	ld	c,b
3899  13DB  47          	ld	b,a
3900  13DC  C5          	push	bc
3901  13DD  CD 19 0D    	call	_spr_add_anim
3902  13E0  F1          	pop	af
3903  13E1  F1          	pop	af
3904  13E2  F1          	pop	af
3905  13E3  21 00 00    	ld	hl,_boss_col
3906  13E6  46          	ld	b, (hl)
3907  13E7  04          	inc	b
3908  13E8  04          	inc	b
3909  13E9  3A 00 00    	ld	a,(_boss_lin)
3910  13EC  C6 10       	add	a,0x10
3911  13EE  57          	ld	d, a
3912  13EF  21 00 00    	ld	hl,0x0000
3913  13F2  E5          	push	hl
3914  13F3  21 87 03    	ld	hl,0x0387
3915  13F6  E5          	push	hl
3916  13F7  4A          	ld	c, d
3917  13F8  C5          	push	bc
3918  13F9  CD 19 0D    	call	_spr_add_anim
3919  13FC  F1          	pop	af
3920  13FD  F1          	pop	af
3921  13FE  F1          	pop	af
3922  13FF  21 00 00    	ld	hl,_tmp0
3923  1402  36 00       	ld	(hl),0x00
3924  1404              l_spr_play_bullets_00193:
3925  1404  2A 00 00    	ld	hl,(_tmp0)
3926  1407  CD AE 07    	call	_spr_destroy
3927  140A  2A 00 00    	ld	hl,(_tmp0)
3928  140D  26 00       	ld	h,0x00
3929  140F  29          	add	hl, hl
3930  1410  11 00 00    	ld	de,_game_respawn_time
3931  1413  19          	add	hl, de
3932  1414  AF          	xor	a, a
3933  1415  77          	ld	(hl), a
3934  1416  23          	inc	hl
3935  1417  77          	ld	(hl), a
3936  1418  2A 00 00    	ld	hl,(_tmp0)
3937  141B  26 00       	ld	h,0x00
3938  141D  01 00 00    	ld	bc,_bullet_lin
3939  1420  09          	add	hl,bc
3940  1421  7E          	ld	a,(hl)
3941  1422  32 00 00    	ld	(_s_lin0),a
3942  1425  2A 00 00    	ld	hl,(_tmp0)
3943  1428  26 00       	ld	h,0x00
3944  142A  01 00 00    	ld	bc,_bullet_col
3945  142D  09          	add	hl,bc
3946  142E  7E          	ld	a,(hl)
3947  142F  32 00 00    	ld	(_s_col0),a
3948  1432  CD 4D 0B    	call	_spr_back_repaint
3949  1435  2A 00 00    	ld	hl,(_tmp0)
3950  1438  26 00       	ld	h,0x00
3951  143A  01 00 00    	ld	bc,_bullet_col
3952  143D  09          	add	hl,bc
3953  143E  36 FF       	ld	(hl),0xff
3954  1440  21 00 00    	ld	hl,_tmp0
3955  1443  7E          	ld	a,(hl)
3956  1444  3C          	inc	a
3957  1445  77          	ld	(hl),a
3958  1446  D6 07       	sub	a,0x07
3959  1448  38 BA       	jr	C,l_spr_play_bullets_00193
3960  144A  CD 00 00    	call	_game_boss_clear
3961  144D  18 3A       	jr	l_spr_play_bullets_00184
3962  144F              l_spr_play_bullets_00181:
3963  144F  3A 07 00    	ld	a,(_lin + 7)
3964  1452  4F          	ld	c,a
3965  1453  DD 96 F4    	sub	a,(ix-12)
3966  1456  38 31       	jr	C,l_spr_play_bullets_00184
3967  1458  DD 7E F2    	ld	a,(ix-14)
3968  145B  91          	sub	a, c
3969  145C  38 2B       	jr	C,l_spr_play_bullets_00184
3970  145E  3A 07 00    	ld	a,(_col + 7)
3971  1461  4F          	ld	c,a
3972  1462  DD 96 F3    	sub	a,(ix-13)
3973  1465  38 22       	jr	C,l_spr_play_bullets_00184
3974  1467  DD 7E F1    	ld	a,(ix-15)
3975  146A  91          	sub	a, c
3976  146B  38 1C       	jr	C,l_spr_play_bullets_00184
3977  146D  2E 03       	ld	l,0x03
3978  146F  CD 00 00    	call	_zx_border_fastcall
3979  1472  2E 0A       	ld	l,0x0a
3980  1474  CD 00 00    	call	_player_hit
3981  1477  DD 6E FD    	ld	l,(ix-3)
3982  147A  DD 66 FE    	ld	h,(ix-2)
3983  147D  3A 00 00    	ld	a,(_s_col0)
3984  1480  77          	ld	(hl),a
3985  1481  DD 6E FF    	ld	l,(ix-1)
3986  1484  CD D8 14    	call	_spr_explode_bullet
3987  1487  18 4A       	jr	l_spr_play_bullets_00196
3988  1489              l_spr_play_bullets_00184:
3989  1489  DD 6E F6    	ld	l,(ix-10)
3990  148C  DD 66 F7    	ld	h,(ix-9)
3991  148F  4E          	ld	c, (hl)
3992  1490  0C          	inc	c
3993  1491  28 32       	jr	Z,l_spr_play_bullets_00189
3994  1493  DD 7E F3    	ld	a,(ix-13)
3995  1496  D6 20       	sub	a,0x20
3996  1498  30 2B       	jr	NC,l_spr_play_bullets_00189
3997  149A  F3          	di
3998  149B  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3999  149D  DD 86 F5    	add	a,(ix-11)
4000  14A0  6F          	ld	l, a
4001  14A1  3E 00       	ld	a, +((_bullet_tile) / 256)
4002  14A3  CE 00       	adc	a,0x00
4003  14A5  67          	ld	h, a
4004  14A6  4E          	ld	c, (hl)
4005  14A7  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
4006  14A9  DD 86 F5    	add	a,(ix-11)
4007  14AC  6F          	ld	l, a
4008  14AD  3E 00       	ld	a, +((_bullet_colint) / 256)
4009  14AF  CE 00       	adc	a,0x00
4010  14B1  67          	ld	h, a
4011  14B2  46          	ld	b, (hl)
4012  14B3  79          	ld	a, c
4013  14B4  80          	add	a, b
4014  14B5  47          	ld	b, a
4015  14B6  DD 7E F3    	ld	a,(ix-13)
4016  14B9  F5          	push	af
4017  14BA  33          	inc	sp
4018  14BB  3A 00 00    	ld	a,(_s_lin0)
4019  14BE  48          	ld	c,b
4020  14BF  47          	ld	b,a
4021  14C0  C5          	push	bc
4022  14C1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4023  14C4  FB          	ei
4024  14C5              l_spr_play_bullets_00189:
4025  14C5  DD 34 F5    	inc	(ix-11)
4026  14C8  DD 7E F5    	ld	a,(ix-11)
4027  14CB  DD 77 FF    	ld	(ix-1),a
4028  14CE  D6 08       	sub	a,0x08
4029  14D0  DA 27 0F    	jp	C, l_spr_play_bullets_00195
4030  14D3              l_spr_play_bullets_00196:
4031  14D3  DD F9       	ld	sp, ix
4032  14D5  DD E1       	pop	ix
4033  14D7  C9          	ret
4034  14D8              	SECTION code_compiler
4035  14D8              ;	---------------------------------
4036  14D8              ; Function spr_explode_bullet
4037  14D8              ; ---------------------------------
4038  14D8              _spr_explode_bullet:
4039  14D8  5D          	ld	e, l
4040  14D9  3E 00       	ld	a, +((_bullet_col) & 0xFF)
4041  14DB  83          	add	a, e
4042  14DC  4F          	ld	c, a
4043  14DD  3E 00       	ld	a, +((_bullet_col) / 256)
4044  14DF  CE 00       	adc	a,0x00
4045  14E1  47          	ld	b, a
4046  14E2  0A          	ld	a, (bc)
4047  14E3  57          	ld	d, a
4048  14E4  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
4049  14E6  83          	add	a, e
4050  14E7  6F          	ld	l, a
4051  14E8  3E 00       	ld	a, +((_bullet_lin) / 256)
4052  14EA  CE 00       	adc	a,0x00
4053  14EC  67          	ld	h, a
4054  14ED  5E          	ld	e, (hl)
4055  14EE  C5          	push	bc
4056  14EF  21 00 00    	ld	hl,0x0000
4057  14F2  E5          	push	hl
4058  14F3  21 87 03    	ld	hl,0x0387
4059  14F6  E5          	push	hl
4060  14F7  D5          	push	de
4061  14F8  CD 19 0D    	call	_spr_add_anim
4062  14FB  F1          	pop	af
4063  14FC  F1          	pop	af
4064  14FD  F1          	pop	af
4065  14FE  C1          	pop	bc
4066  14FF  21 00 00    	ld	hl,_bullet_count
4067  1502  35          	dec	(hl)
4068  1503  3E FF       	ld	a,0xff
4069  1505  02          	ld	(bc), a
4070  1506  C9          	ret
4071  1507              	SECTION code_compiler
4072  1507              ;	---------------------------------
4073  1507              ; Function spr_turn_horizontal
4074  1507              ; ---------------------------------
4075  1507              _spr_turn_horizontal:
4076  1507  21 00 00    	ld	hl,_s_state
4077  150A  CB 56       	bit	2, (hl)
4078  150C  28 0B       	jr	Z,l_spr_turn_horizontal_00102
4079  150E  21 00 00    	ld	hl,_s_state
4080  1511  7E          	ld	a,(hl)
4081  1512  F6 08       	or	a,0x08
4082  1514  E6 FB       	and	a,0xfb
4083  1516  77          	ld	(hl),a
4084  1517  18 09       	jr	l_spr_turn_horizontal_00103
4085  1519              l_spr_turn_horizontal_00102:
4086  1519  21 00 00    	ld	hl,_s_state
4087  151C  7E          	ld	a,(hl)
4088  151D  E6 F7       	and	a,0xf7
4089  151F  F6 04       	or	a,0x04
4090  1521  77          	ld	(hl),a
4091  1522              l_spr_turn_horizontal_00103:
4092  1522  2A 00 00    	ld	hl,(_sprite)
4093  1525  26 00       	ld	h,0x00
4094  1527  01 00 00    	ld	bc,_state
4095  152A  09          	add	hl,bc
4096  152B  3A 00 00    	ld	a,(_s_state)
4097  152E  77          	ld	(hl),a
4098  152F  2A 00 00    	ld	hl,(_sprite)
4099  1532  26 00       	ld	h,0x00
4100  1534  01 00 00    	ld	bc,_tile
4101  1537  09          	add	hl,bc
4102  1538  E5          	push	hl
4103  1539  2A 00 00    	ld	hl,(_sprite)
4104  153C  CD 17 08    	call	_spr_tile
4105  153F  C1          	pop	bc
4106  1540  7D          	ld	a,l
4107  1541  02          	ld	(bc), a
4108  1542  C9          	ret
4109  1543              	SECTION code_compiler
4110  1543              ;	---------------------------------
4111  1543              ; Function spr_btile_paint_back
4112  1543              ; ---------------------------------
4113  1543              _spr_btile_paint_back:
4114  1543  21 20 00    	ld	hl,0x0020
4115  1546  22 00 00    	ld	(_tmp_ui),hl
4116  1549  21 00 00    	ld	hl,_map_paper
4117  154C  7E          	ld	a, (hl)
4118  154D  0F          	rrca
4119  154E  0F          	rrca
4120  154F  0F          	rrca
4121  1550  E6 1F       	and	a,0x1f
4122  1552  B6          	or	a, (hl)
4123  1553  F6 40       	or	a,0x40
4124  1555  32 00 00    	ld	(_map_paper_clr),a
4125  1558              l_spr_btile_paint_back_00106:
4126  1558  21 00 00    	ld	hl,_tmp_ui
4127  155B  7E          	ld	a, (hl)
4128  155C  D6 A0       	sub	a,0xa0
4129  155E  23          	inc	hl
4130  155F  7E          	ld	a, (hl)
4131  1560  DE 28       	sbc	a,0x28
4132  1562  30 4C       	jr	NC,l_spr_btile_paint_back_00109
4133  1564  21 00 00    	ld	hl,_tmp0
4134  1567  36 00       	ld	(hl),0x00
4135  1569              l_spr_btile_paint_back_00103:
4136  1569  3A 00 00    	ld	a,(_tmp0)
4137  156C  D6 10       	sub	a,0x10
4138  156E  30 34       	jr	NC,l_spr_btile_paint_back_00105
4139  1570  01 00 00    	ld	bc,_btiles
4140  1573  2A 00 00    	ld	hl,(_tmp_ui)
4141  1576  09          	add	hl,bc
4142  1577  7D          	ld	a,l
4143  1578  44          	ld	b,h
4144  1579  21 00 00    	ld	hl,_tmp0
4145  157C  86          	add	a, (hl)
4146  157D  4F          	ld	c, a
4147  157E  78          	ld	a, b
4148  157F  CE 00       	adc	a,0x00
4149  1581  47          	ld	b, a
4150  1582  0A          	ld	a, (bc)
4151  1583  32 00 00    	ld	(_tmp),a
4152  1586  E6 38       	and	a,0x38
4153  1588  5F          	ld	e, a
4154  1589  3A 00 00    	ld	a,(_map_paper_last)
4155  158C  93          	sub	a, e
4156  158D  20 0F       	jr	NZ,l_spr_btile_paint_back_00102
4157  158F  21 00 00    	ld	hl,_tmp
4158  1592  7E          	ld	a, (hl)
4159  1593  E6 C7       	and	a,0xc7
4160  1595  77          	ld	(hl),a
4161  1596  21 00 00    	ld	hl,_map_paper
4162  1599  B6          	or	a, (hl)
4163  159A  32 00 00    	ld	(_tmp),a
4164  159D  02          	ld	(bc), a
4165  159E              l_spr_btile_paint_back_00102:
4166  159E  21 00 00    	ld	hl,_tmp0
4167  15A1  34          	inc	(hl)
4168  15A2  18 C5       	jr	l_spr_btile_paint_back_00103
4169  15A4              l_spr_btile_paint_back_00105:
4170  15A4  2A 00 00    	ld	hl,(_tmp_ui)
4171  15A7  11 30 00    	ld	de,0x0030
4172  15AA  19          	add	hl,de
4173  15AB  22 00 00    	ld	(_tmp_ui),hl
4174  15AE  18 A8       	jr	l_spr_btile_paint_back_00106
4175  15B0              l_spr_btile_paint_back_00109:
4176  15B0  C9          	ret
4177  15B1              	SECTION IGNORE
4178  0000              
