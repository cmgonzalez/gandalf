1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_calc_index
189   0000              	GLOBAL _spr_check_map
190   0000              	GLOBAL _spr_check_map_fall
191   0000              	GLOBAL _spr_chktime
192   0000              	GLOBAL _spr_move_jump
193   0000              	GLOBAL _spr_move_up
194   0000              	GLOBAL _spr_move_down
195   0000              	GLOBAL _spr_move_horizontal
196   0000              	GLOBAL _spr_move_right
197   0000              	GLOBAL _spr_move_left
198   0000              	GLOBAL _spr_page_right
199   0000              	GLOBAL _spr_page_left
200   0000              	GLOBAL _spr_page_map
201   0000              	GLOBAL _spr_redraw
202   0000              	GLOBAL _spr_killed
203   0000              	GLOBAL _spr_anim_kill
204   0000              	GLOBAL _spr_destroy
205   0000              	GLOBAL _spr_set_fall
206   0000              	GLOBAL _spr_tile
207   0000              	GLOBAL _spr_tile_dir
208   0000              	GLOBAL _spr_draw_background
209   0000              	GLOBAL _spr_draw_clear
210   0000              	GLOBAL _spr_back_paint
211   0000              	GLOBAL _spr_brick_anim
212   0000              	GLOBAL _spr_draw_index
213   0000              	GLOBAL _spr_draw_row
214   0000              	GLOBAL _spr_calc_hor
215   0000              	GLOBAL _spr_collision_check
216   0000              	GLOBAL _spr_kill_all
217   0000              	GLOBAL _spr_back_clr
218   0000              	GLOBAL _spr_tile_paint
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _sound_hit_brick
530   0000              	GLOBAL _sound_hit_enemy
531   0000              	GLOBAL _sound_kill
532   0000              	GLOBAL _sound_enter_enemy
533   0000              	GLOBAL _sound_coin
534   0000              	GLOBAL _sound_jump
535   0000              	GLOBAL _sound_slide
536   0000              	GLOBAL _player_pick_item
537   0000              	GLOBAL _player_check_floor
538   0000              	GLOBAL _player_hit_platform_clear
539   0000              	GLOBAL _player_lost_life
540   0000              	GLOBAL _player_score_add
541   0000              	GLOBAL _player_player_hit_pow
542   0000              	GLOBAL _player_hit_platform
543   0000              	GLOBAL _player_move_input
544   0000              	GLOBAL _player_turn
545   0000              	GLOBAL _player_move
546   0000              	GLOBAL _player_restart
547   0000              	GLOBAL _player_kill
548   0000              	GLOBAL _player_check_input
549   0000              	GLOBAL _player_collision
550   0000              	GLOBAL _player_init
551   0000              	GLOBAL _game_joystick_set_menu
552   0000              	GLOBAL _game_joystick_set
553   0000              	GLOBAL _game_joystick_change
554   0000              	GLOBAL _game_print_header
555   0000              	GLOBAL _game_end
556   0000              	GLOBAL _game_score_osd
557   0000              	GLOBAL _game_phase_print_score_back
558   0000              	GLOBAL _game_check_time
559   0000              	GLOBAL _game_rotate_attrib
560   0000              	GLOBAL _game_colour_message
561   0000              	GLOBAL _game_paint_attrib_lin_h
562   0000              	GLOBAL _game_paint_attrib_lin
563   0000              	GLOBAL _game_paint_attrib
564   0000              	GLOBAL _game_print_score
565   0000              	GLOBAL _game_unfreeze_all
566   0000              	GLOBAL _game_freeze_all
567   0000              	GLOBAL _game_freeze
568   0000              	GLOBAL _game_enemy_add_get_index
569   0000              	GLOBAL _game_check_maze_floor
570   0000              	GLOBAL _game_check_maze
571   0000              	GLOBAL _game_loop
572   0000              	GLOBAL _game_phase_init
573   0000              	GLOBAL _game_start_timer
574   0000              	GLOBAL _game_tick
575   0000              	GLOBAL _game_print_lives
576   0000              	GLOBAL _game_print_footer
577   0000              	GLOBAL _game_fill_row
578   0000              	GLOBAL _enemy_ugly_fix
579   0000              	GLOBAL _enemy_kill
580   0000              	GLOBAL _enemy_init
581   0000              	GLOBAL _enemy_walk
582   0000              	GLOBAL _enemy_upgrade
583   0000              	GLOBAL _enemy_evolve
584   0000              	GLOBAL _enemy_standard_hit
585   0000              	GLOBAL _enemy_fighterfly
586   0000              	GLOBAL _enemy_fireball_green
587   0000              	GLOBAL _enemy_fireball_red
588   0000              	GLOBAL _enemy_slipice
589   0000              	GLOBAL _enemy_standard
590   0000              	GLOBAL _enemy_turn
591   0000              	GLOBAL _enemy_flip_sidestepper
592   0000              	GLOBAL _enemy_flip
593   0000              	GLOBAL _enemy_flip_change_dir
594   0000              	GLOBAL _enemy_hit
595   0000              	GLOBAL _enemy_collision_turn_dir
596   0000              	GLOBAL _enemy_collision
597   0000              	GLOBAL _enemy_coin1
598   0000              	GLOBAL _ay_fx_play
599   0000              	GLOBAL _ay_midi_play
600   0000              	GLOBAL _ay_is_playing
601   0000              	GLOBAL _ay_reset
602   0000              	GLOBAL _test_func
603   0000              	GLOBAL _in_mouse_kempston_wheel_delta
604   0000              	GLOBAL _in_mouse_kempston_wheel
605   0000              	GLOBAL _in_mouse_kempston_callee
606   0000              	GLOBAL _in_mouse_kempston
607   0000              	GLOBAL _in_mouse_kempston_setpos_callee
608   0000              	GLOBAL _in_mouse_kempston_setpos
609   0000              	GLOBAL _in_mouse_kempston_reset
610   0000              	GLOBAL _in_mouse_kempston_init
611   0000              	GLOBAL _in_mouse_amx_wheel_delta
612   0000              	GLOBAL _in_mouse_amx_wheel
613   0000              	GLOBAL _in_mouse_amx_callee
614   0000              	GLOBAL _in_mouse_amx
615   0000              	GLOBAL _in_mouse_amx_setpos_callee
616   0000              	GLOBAL _in_mouse_amx_setpos
617   0000              	GLOBAL _in_mouse_amx_reset
618   0000              	GLOBAL _in_mouse_amx_init_callee
619   0000              	GLOBAL _in_mouse_amx_init
620   0000              	GLOBAL _in_stick_sinclair2
621   0000              	GLOBAL _in_stick_sinclair1
622   0000              	GLOBAL _in_stick_kempston
623   0000              	GLOBAL _in_stick_fuller
624   0000              	GLOBAL _in_stick_cursor
625   0000              	GLOBAL _in_stick_keyboard_fastcall
626   0000              	GLOBAL _in_stick_keyboard
627   0000              	GLOBAL _in_wait_nokey
628   0000              	GLOBAL _in_wait_key
629   0000              	GLOBAL _in_test_key
630   0000              	GLOBAL _in_pause_fastcall
631   0000              	GLOBAL _in_pause
632   0000              	GLOBAL _in_key_scancode_fastcall
633   0000              	GLOBAL _in_key_scancode
634   0000              	GLOBAL _in_key_pressed_fastcall
635   0000              	GLOBAL _in_key_pressed
636   0000              	GLOBAL _in_inkey
637   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
638   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
639   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
640   0000              	GLOBAL _NIRVANAP_HOLE
641   0000              	GLOBAL _NIRVANAP_ISR_HOOK
642   0000              	GLOBAL _g_player_hit_right
643   0000              	GLOBAL _g_player_hit_left
644   0000              	GLOBAL _joynames
645   0000              	GLOBAL _initials
646   0000              	GLOBAL _score_osd_tile
647   0000              	GLOBAL _score_osd_update_time
648   0000              	GLOBAL _score_osd_col
649   0000              	GLOBAL _score_osd_lin
650   0000              	GLOBAL _phase_angry
651   0000              	GLOBAL _phase_curr
652   0000              	GLOBAL _phase_end
653   0000              	GLOBAL _phase_coins
654   0000              	GLOBAL _phase_pop
655   0000              	GLOBAL _phase_tot
656   0000              	GLOBAL _map_heigth
657   0000              	GLOBAL _map_width
658   0000              	GLOBAL _scr_curr
659   0000              	GLOBAL _scr_7
660   0000              	GLOBAL _scr_6
661   0000              	GLOBAL _scr_5
662   0000              	GLOBAL _scr_4
663   0000              	GLOBAL _scr_3
664   0000              	GLOBAL _scr_2
665   0000              	GLOBAL _scr_1
666   0000              	GLOBAL _scr_0
667   0000              	GLOBAL _scr_map
668   0000              	GLOBAL _sprite_speed_alt
669   0000              	GLOBAL _sprite_speed
670   0000              	GLOBAL _screen_ink
671   0000              	GLOBAL _screen_paper
672   0000              	GLOBAL _game_menu_sel
673   0000              	GLOBAL _game_type
674   0000              	GLOBAL _game_osd
675   0000              	GLOBAL _game_score_top
676   0000              	GLOBAL _player_lives
677   0000              	GLOBAL _game_over
678   0000              	GLOBAL _game_sound
679   0000              	GLOBAL _game_inmune
680   0000              	GLOBAL _game_god_mode
681   0000              	GLOBAL _game_start_phase
682   0000              	GLOBAL _game_two_player
683   0000              	GLOBAL _game_brick_tile
684   0000              	GLOBAL _sprite_curr_index
685   0000              	GLOBAL _spr_count
686   0000              	GLOBAL _osd_show_time
687   0000              	GLOBAL _osd_update_time
688   0000              	GLOBAL _frame_time
689   0000              	GLOBAL _entry_time
690   0000              	GLOBAL _curr_time
691   0000              	GLOBAL _s_state
692   0000              	GLOBAL _attrib_hl
693   0000              	GLOBAL _attrib
694   0000              	GLOBAL _zx_val_asm
695   0000              	GLOBAL _enemies
696   0000              	GLOBAL _tmp_ui
697   0000              	GLOBAL _tmp_sc
698   0000              	GLOBAL _tmp_uc
699   0000              	GLOBAL _tmp1
700   0000              	GLOBAL _tmp0
701   0000              	GLOBAL _tmp
702   0000              	GLOBAL _index1
703   0000              	GLOBAL _loop_count
704   0000              	GLOBAL _sprite_lin_inc_mul
705   0000              	GLOBAL _s_col1
706   0000              	GLOBAL _s_col0
707   0000              	GLOBAL _s_lin1
708   0000              	GLOBAL _s_lin0
709   0000              	GLOBAL _s_tile1
710   0000              	GLOBAL _s_tile0
711   0000              	GLOBAL _player_hit_count
712   0000              	GLOBAL _sprite
713   0000              	GLOBAL _game_gravity
714   0000              	GLOBAL _player_vel_y0
715   0000              	GLOBAL _player_vel_y
716   0000              	GLOBAL _player_vel_x
717   0000              	GLOBAL _player_joy
718   0000              	GLOBAL _player_score
719   0000              	GLOBAL _last_time
720   0000              	GLOBAL _player_slide
721   0000              	GLOBAL _spr_timer
722   0000              	GLOBAL _jump_lin
723   0000              	GLOBAL _player_hit_col
724   0000              	GLOBAL _player_hit_lin
725   0000              	GLOBAL _colint
726   0000              	GLOBAL _col
727   0000              	GLOBAL _lin
728   0000              	GLOBAL _tile
729   0000              	GLOBAL _state_a
730   0000              	GLOBAL _state
731   0000              	GLOBAL _class
732   0000              	GLOBAL _tbuffer
733   0000              	GLOBAL _dirs
734   0000              	GLOBAL _k1
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
739   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
740   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
741   0000              	GLOBAL _ay_effect_20
742   0000              	GLOBAL _ay_effect_19
743   0000              	GLOBAL _ay_effect_18
744   0000              	GLOBAL _ay_effect_17
745   0000              	GLOBAL _ay_effect_16
746   0000              	GLOBAL _ay_effect_15
747   0000              	GLOBAL _ay_effect_14
748   0000              	GLOBAL _ay_effect_13
749   0000              	GLOBAL _ay_effect_12
750   0000              	GLOBAL _ay_effect_11
751   0000              	GLOBAL _ay_effect_10
752   0000              	GLOBAL _ay_effect_09
753   0000              	GLOBAL _ay_effect_08
754   0000              	GLOBAL _ay_effect_07
755   0000              	GLOBAL _ay_effect_06
756   0000              	GLOBAL _ay_effect_05
757   0000              	GLOBAL _ay_effect_04
758   0000              	GLOBAL _ay_effect_03
759   0000              	GLOBAL _ay_effect_02
760   0000              	GLOBAL _ay_effect_01
761   0000              	GLOBAL _pb_midi_phase_1
762   0000              	GLOBAL _pb_midi_title
763   0000              	GLOBAL _control_method
764   0000              ;--------------------------------------------------------
765   0000              ; special function registers
766   0000              ;--------------------------------------------------------
767   0000              defc _IO_FE	=	0x00fe
768   0000              defc _IO_1FFD	=	0x1ffd
769   0000              defc _IO_7FFD	=	0x7ffd
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              	SECTION bss_compiler
774   0000              ;--------------------------------------------------------
775   0000              ; ram data
776   0000              ;--------------------------------------------------------
777   0000              
778   0000              IF 0
779   0000              
780   0000              ; .area _INITIALIZED removed by z88dk
781   0000              
782   0000              
783   0000              ENDIF
784   0000              
785   0000              ;--------------------------------------------------------
786   0000              ; absolute external ram data
787   0000              ;--------------------------------------------------------
788   0000              	SECTION IGNORE
789   0000              ;--------------------------------------------------------
790   0000              ; global & static initialisations
791   0000              ;--------------------------------------------------------
792   0000              	SECTION code_crt_init
793   0000              ;--------------------------------------------------------
794   0000              ; Home
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; code
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_compiler
801   0000              ;	---------------------------------
802   0000              ; Function spr_calc_index
803   0000              ; ---------------------------------
804   0000              _spr_calc_index:
805   0000  CD 00 00    	call	___sdcc_enter_ix
806   0003  DD 4E 05    	ld	c,(ix+5)
807   0006  CB 39       	srl	c
808   0008  06 00       	ld	b,0x00
809   000A  DD 7E 04    	ld	a,(ix+4)
810   000D  07          	rlca
811   000E  07          	rlca
812   000F  07          	rlca
813   0010  07          	rlca
814   0011  E6 0F       	and	a,0x0f
815   0013  6F          	ld	l, a
816   0014  26 00       	ld	h,0x00
817   0016  29          	add	hl, hl
818   0017  29          	add	hl, hl
819   0018  29          	add	hl, hl
820   0019  29          	add	hl, hl
821   001A  09          	add	hl, bc
822   001B  DD E1       	pop	ix
823   001D  C9          	ret
824   001E              	SECTION code_compiler
825   001E              ;	---------------------------------
826   001E              ; Function spr_check_map
827   001E              ; ---------------------------------
828   001E              _spr_check_map:
829   001E  CD 00 00    	call	___sdcc_enter_ix
830   0021  DD CB 05 46 	bit	0,(ix+5)
831   0025  20 15       	jr	NZ,l_spr_check_map_00106
832   0027  DD 66 05    	ld	h,(ix+5)
833   002A  DD 6E 04    	ld	l,(ix+4)
834   002D  E5          	push	hl
835   002E  CD 00 00    	call	_spr_calc_index
836   0031  F1          	pop	af
837   0032  22 00 00    	ld	(_index1),hl
838   0035  CD 00 00    	call	_game_check_maze
839   0038  26 00       	ld	h,0x00
840   003A  18 4B       	jr	l_spr_check_map_00108
841   003C              l_spr_check_map_00106:
842   003C  DD 46 05    	ld	b,(ix+5)
843   003F  05          	dec	b
844   0040  DD 4E 04    	ld	c,(ix+4)
845   0043  C5          	push	bc
846   0044  CD 00 00    	call	_spr_calc_index
847   0047  F1          	pop	af
848   0048  22 00 00    	ld	(_index1),hl
849   004B  21 00 00    	ld	hl,_g_player_hit_left
850   004E  36 00       	ld	(hl),0x00
851   0050  21 00 00    	ld	hl,_g_player_hit_right
852   0053  36 00       	ld	(hl),0x00
853   0055  2A 00 00    	ld	hl,(_index1)
854   0058  CD 00 00    	call	_game_check_maze
855   005B  7D          	ld	a, l
856   005C  B7          	or	a, a
857   005D  28 05       	jr	Z,l_spr_check_map_00102
858   005F  21 00 00    	ld	hl,_g_player_hit_left
859   0062  36 01       	ld	(hl),0x01
860   0064              l_spr_check_map_00102:
861   0064  2A 00 00    	ld	hl,(_index1)
862   0067  23          	inc	hl
863   0068  CD 00 00    	call	_game_check_maze
864   006B  7D          	ld	a, l
865   006C  B7          	or	a, a
866   006D  28 05       	jr	Z,l_spr_check_map_00104
867   006F  21 00 00    	ld	hl,_g_player_hit_right
868   0072  36 01       	ld	(hl),0x01
869   0074              l_spr_check_map_00104:
870   0074  3A 00 00    	ld	a,(_g_player_hit_left)
871   0077  B7          	or	a, a
872   0078  20 09       	jr	NZ,l_spr_check_map_00111
873   007A  3A 00 00    	ld	a,(_g_player_hit_right)
874   007D  B7          	or	a,a
875   007E  20 03       	jr	NZ,l_spr_check_map_00111
876   0080  6F          	ld	l,a
877   0081  18 02       	jr	l_spr_check_map_00112
878   0083              l_spr_check_map_00111:
879   0083  2E 01       	ld	l,0x01
880   0085              l_spr_check_map_00112:
881   0085  26 00       	ld	h,0x00
882   0087              l_spr_check_map_00108:
883   0087  DD E1       	pop	ix
884   0089  C9          	ret
885   008A              	SECTION code_compiler
886   008A              ;	---------------------------------
887   008A              ; Function spr_check_map_fall
888   008A              ; ---------------------------------
889   008A              _spr_check_map_fall:
890   008A  CD 00 00    	call	___sdcc_enter_ix
891   008D  DD CB 05 46 	bit	0,(ix+5)
892   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
893   0093  DD 66 05    	ld	h,(ix+5)
894   0096  DD 6E 04    	ld	l,(ix+4)
895   0099  E5          	push	hl
896   009A  CD 00 00    	call	_spr_calc_index
897   009D  F1          	pop	af
898   009E  22 00 00    	ld	(_index1),hl
899   00A1  CD 00 00    	call	_game_check_maze_floor
900   00A4  26 00       	ld	h,0x00
901   00A6  18 4B       	jr	l_spr_check_map_fall_00108
902   00A8              l_spr_check_map_fall_00106:
903   00A8  DD 46 05    	ld	b,(ix+5)
904   00AB  05          	dec	b
905   00AC  DD 4E 04    	ld	c,(ix+4)
906   00AF  C5          	push	bc
907   00B0  CD 00 00    	call	_spr_calc_index
908   00B3  F1          	pop	af
909   00B4  22 00 00    	ld	(_index1),hl
910   00B7  21 00 00    	ld	hl,_g_player_hit_left
911   00BA  36 00       	ld	(hl),0x00
912   00BC  21 00 00    	ld	hl,_g_player_hit_right
913   00BF  36 00       	ld	(hl),0x00
914   00C1  2A 00 00    	ld	hl,(_index1)
915   00C4  CD 00 00    	call	_game_check_maze_floor
916   00C7  7D          	ld	a, l
917   00C8  B7          	or	a, a
918   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
919   00CB  21 00 00    	ld	hl,_g_player_hit_left
920   00CE  36 01       	ld	(hl),0x01
921   00D0              l_spr_check_map_fall_00102:
922   00D0  2A 00 00    	ld	hl,(_index1)
923   00D3  23          	inc	hl
924   00D4  CD 00 00    	call	_game_check_maze_floor
925   00D7  7D          	ld	a, l
926   00D8  B7          	or	a, a
927   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
928   00DB  21 00 00    	ld	hl,_g_player_hit_right
929   00DE  36 01       	ld	(hl),0x01
930   00E0              l_spr_check_map_fall_00104:
931   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
932   00E3  B7          	or	a, a
933   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
934   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
935   00E9  B7          	or	a,a
936   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
937   00EC  6F          	ld	l,a
938   00ED  18 02       	jr	l_spr_check_map_fall_00112
939   00EF              l_spr_check_map_fall_00111:
940   00EF  2E 01       	ld	l,0x01
941   00F1              l_spr_check_map_fall_00112:
942   00F1  26 00       	ld	h,0x00
943   00F3              l_spr_check_map_fall_00108:
944   00F3  DD E1       	pop	ix
945   00F5  C9          	ret
946   00F6              	SECTION code_compiler
947   00F6              ;	---------------------------------
948   00F6              ; Function spr_chktime
949   00F6              ; ---------------------------------
950   00F6              _spr_chktime:
951   00F6  CD 00 00    	call	___sdcc_enter_ix
952   00F9  F5          	push	af
953   00FA  DD 75 FE    	ld	(ix-2),l
954   00FD  DD 74 FF    	ld	(ix-1),h
955   0100  E1          	pop	hl
956   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
957   0104  5E          	ld	e,(hl)
958   0105  E5          	push	hl
959   0106  6B          	ld	l,e
960   0107  26 00       	ld	h,0x00
961   0109  09          	add	hl, bc
962   010A  7E          	ld	a, (hl)
963   010B  B7          	or	a, a
964   010C  20 13       	jr	NZ,l_spr_chktime_00102
965   010E  01 00 00    	ld	bc,_sprite_speed+0
966   0111  16 00       	ld	d,0x00
967   0113  21 00 00    	ld	hl,_class
968   0116  19          	add	hl, de
969   0117  6E          	ld	l, (hl)
970   0118  26 00       	ld	h,0x00
971   011A  09          	add	hl, bc
972   011B  7E          	ld	a, (hl)
973   011C  32 00 00    	ld	(_tmp),a
974   011F  18 03       	jr	l_spr_chktime_00103
975   0121              l_spr_chktime_00102:
976   0121  32 00 00    	ld	(_tmp),a
977   0124              l_spr_chktime_00103:
978   0124  3A 00 00    	ld	a,(_tmp)
979   0127  4F          	ld	c,a
980   0128  06 00       	ld	b,0x00
981   012A  60          	ld	h,b
982   012B  6B          	ld	l, e
983   012C  29          	add	hl, hl
984   012D  11 00 00    	ld	de,_last_time
985   0130  19          	add	hl, de
986   0131  5E          	ld	e, (hl)
987   0132  23          	inc	hl
988   0133  56          	ld	d, (hl)
989   0134  C5          	push	bc
990   0135  D5          	push	de
991   0136  CD 00 00    	call	_game_check_time
992   0139  F1          	pop	af
993   013A  F1          	pop	af
994   013B  7D          	ld	a, l
995   013C  B7          	or	a, a
996   013D  28 15       	jr	Z,l_spr_chktime_00105
997   013F  E1          	pop	hl
998   0140  E5          	push	hl
999   0141  6E          	ld	l, (hl)
1000  0142  26 00       	ld	h,0x00
1001  0144  29          	add	hl, hl
1002  0145  01 00 00    	ld	bc,_last_time
1003  0148  09          	add	hl,bc
1004  0149  ED 5B 00 00 	ld	de,(_curr_time)
1005  014D  73          	ld	(hl),e
1006  014E  23          	inc	hl
1007  014F  72          	ld	(hl),d
1008  0150  2E 01       	ld	l,0x01
1009  0152  18 02       	jr	l_spr_chktime_00106
1010  0154              l_spr_chktime_00105:
1011  0154  2E 00       	ld	l,0x00
1012  0156              l_spr_chktime_00106:
1013  0156  F1          	pop	af
1014  0157  DD E1       	pop	ix
1015  0159  C9          	ret
1016  015A              	SECTION code_compiler
1017  015A              ;	---------------------------------
1018  015A              ; Function spr_move_jump
1019  015A              ; ---------------------------------
1020  015A              _spr_move_jump:
1021  015A  3A 00 00    	ld	a,(_player_vel_y)
1022  015D  21 00 00    	ld	hl,_game_gravity
1023  0160  86          	add	a, (hl)
1024  0161  21 00 00    	ld	hl,_player_vel_y
1025  0164  77          	ld	(hl), a
1026  0165  3E 78       	ld	a,0x78
1027  0167  96          	sub	a, (hl)
1028  0168  E2 6D 01    	jp	PO, l_spr_move_jump_00141
1029  016B  EE 80       	xor	a,0x80
1030  016D              l_spr_move_jump_00141:
1031  016D  F2 75 01    	jp	P, l_spr_move_jump_00102
1032  0170  21 00 00    	ld	hl,_player_vel_y
1033  0173  36 78       	ld	(hl),0x78
1034  0175              l_spr_move_jump_00102:
1035  0175  21 00 00    	ld	hl,_player_vel_y
1036  0178  7E          	ld	a, (hl)
1037  0179  EE 80       	xor	a,0x80
1038  017B  D6 08       	sub	a,0x08
1039  017D  30 02       	jr	NC,l_spr_move_jump_00104
1040  017F  36 88       	ld	(hl),0x88
1041  0181              l_spr_move_jump_00104:
1042  0181  3A 00 00    	ld	a,(_player_vel_y)
1043  0184  F5          	push	af
1044  0185  33          	inc	sp
1045  0186  21 14 00    	ld	hl,0x0014
1046  0189  E5          	push	hl
1047  018A  CD 00 00    	call	_zx_print_chr
1048  018D  2A 00 00    	ld	hl,(_player_vel_y)
1049  0190  26 0A       	ld	h,0x0a
1050  0192  E5          	push	hl
1051  0193  CD 00 00    	call	__divuschar_callee
1052  0196  4D          	ld	c,l
1053  0197  CB 45       	bit	0,l
1054  0199  28 01       	jr	Z,l_spr_move_jump_00106
1055  019B  0C          	inc	c
1056  019C              l_spr_move_jump_00106:
1057  019C  2A 00 00    	ld	hl,(_sprite)
1058  019F  26 00       	ld	h,0x00
1059  01A1  11 00 00    	ld	de,_lin
1060  01A4  19          	add	hl,de
1061  01A5  7E          	ld	a,(hl)
1062  01A6  EB          	ex	de,hl
1063  01A7  81          	add	a,c
1064  01A8  12          	ld	(de), a
1065  01A9  2A 00 00    	ld	hl,(_sprite)
1066  01AC  26 00       	ld	h,0x00
1067  01AE  11 00 00    	ld	de,_lin
1068  01B1  19          	add	hl,de
1069  01B2  46          	ld	b, (hl)
1070  01B3  CB 79       	bit	7,c
1071  01B5  28 37       	jr	Z,l_spr_move_jump_00113
1072  01B7  3A 00 00    	ld	a,(_sprite)
1073  01BA  5F          	ld	e,a
1074  01BB  16 00       	ld	d,0x00
1075  01BD  21 00 00    	ld	hl,_col
1076  01C0  19          	add	hl,de
1077  01C1  56          	ld	d, (hl)
1078  01C2  C5          	push	bc
1079  01C3  58          	ld	e,b
1080  01C4  D5          	push	de
1081  01C5  CD 1E 00    	call	_spr_check_map
1082  01C8  F1          	pop	af
1083  01C9  C1          	pop	bc
1084  01CA  7C          	ld	a,h
1085  01CB  B5          	or	a,l
1086  01CC  28 72       	jr	Z,l_spr_move_jump_00114
1087  01CE  2A 00 00    	ld	hl,(_sprite)
1088  01D1  26 00       	ld	h,0x00
1089  01D3  11 00 00    	ld	de,_lin
1090  01D6  19          	add	hl,de
1091  01D7  7E          	ld	a,(hl)
1092  01D8  EB          	ex	de,hl
1093  01D9  91          	sub	a, c
1094  01DA  12          	ld	(de), a
1095  01DB  CD 00 00    	call	_player_hit_platform
1096  01DE  21 00 00    	ld	hl,_player_vel_y
1097  01E1  36 00       	ld	(hl),0x00
1098  01E3  21 00 00    	ld	hl,_s_state
1099  01E6  7E          	ld	a,(hl)
1100  01E7  E6 FE       	and	a,0xfe
1101  01E9  F6 02       	or	a,0x02
1102  01EB  77          	ld	(hl),a
1103  01EC  18 52       	jr	l_spr_move_jump_00114
1104  01EE              l_spr_move_jump_00113:
1105  01EE  2A 00 00    	ld	hl,(_sprite)
1106  01F1  26 00       	ld	h,0x00
1107  01F3  11 00 00    	ld	de,_col
1108  01F6  19          	add	hl,de
1109  01F7  56          	ld	d, (hl)
1110  01F8  78          	ld	a, b
1111  01F9  C6 10       	add	a,0x10
1112  01FB  5F          	ld	e, a
1113  01FC  D5          	push	de
1114  01FD  CD 8A 00    	call	_spr_check_map_fall
1115  0200  F1          	pop	af
1116  0201  4D          	ld	c,l
1117  0202  44          	ld	b,h
1118  0203  2A 00 00    	ld	hl,(_sprite)
1119  0206  26 00       	ld	h,0x00
1120  0208  11 00 00    	ld	de,_lin
1121  020B  19          	add	hl,de
1122  020C  5E          	ld	e, (hl)
1123  020D  78          	ld	a,b
1124  020E  EB          	ex	de,hl
1125  020F  B1          	or	a,c
1126  0210  20 05       	jr	NZ,l_spr_move_jump_00109
1127  0212  7D          	ld	a, l
1128  0213  D6 90       	sub	a,0x90
1129  0215  38 29       	jr	C,l_spr_move_jump_00114
1130  0217              l_spr_move_jump_00109:
1131  0217  7D          	ld	a, l
1132  0218  07          	rlca
1133  0219  07          	rlca
1134  021A  07          	rlca
1135  021B  07          	rlca
1136  021C  E6 0F       	and	a,0x0f
1137  021E  07          	rlca
1138  021F  07          	rlca
1139  0220  07          	rlca
1140  0221  07          	rlca
1141  0222  E6 F0       	and	a,0xf0
1142  0224  12          	ld	(de), a
1143  0225  21 00 00    	ld	hl,_player_vel_y
1144  0228  36 00       	ld	(hl),0x00
1145  022A  21 00 00    	ld	hl,_s_state
1146  022D  7E          	ld	a,(hl)
1147  022E  E6 FC       	and	a,+(0xfd&0xfe)
1148  0230  77          	ld	(hl),a
1149  0231  2A 00 00    	ld	hl,(_sprite)
1150  0234  26 00       	ld	h,0x00
1151  0236  01 00 00    	ld	bc,_colint
1152  0239  09          	add	hl,bc
1153  023A  AF          	xor	a,a
1154  023B  77          	ld	(hl),a
1155  023C  2E 01       	ld	l,0x01
1156  023E  18 05       	jr	l_spr_move_jump_00115
1157  0240              l_spr_move_jump_00114:
1158  0240  CD 4E 03    	call	_spr_move_horizontal
1159  0243  2E 00       	ld	l,0x00
1160  0245              l_spr_move_jump_00115:
1161  0245  C9          	ret
1162  0246              	SECTION code_compiler
1163  0246              ;	---------------------------------
1164  0246              ; Function spr_move_up
1165  0246              ; ---------------------------------
1166  0246              _spr_move_up:
1167  0246  2A 00 00    	ld	hl,(_sprite)
1168  0249  26 00       	ld	h,0x00
1169  024B  01 00 00    	ld	bc,_lin
1170  024E  09          	add	hl,bc
1171  024F  4E          	ld	c,(hl)
1172  0250  21 00 00    	ld	hl,_sprite_lin_inc_mul
1173  0253  46          	ld	b, (hl)
1174  0254  1E 02       	ld	e,0x02
1175  0256  04          	inc	b
1176  0257  18 02       	jr	l_spr_move_up_00134
1177  0259              l_spr_move_up_00133:
1178  0259  CB 23       	sla	e
1179  025B              l_spr_move_up_00134:
1180  025B  10 FC       	djnz	l_spr_move_up_00133
1181  025D  79          	ld	a, c
1182  025E  93          	sub	a, e
1183  025F  32 00 00    	ld	(_tmp1),a
1184  0262  2A 00 00    	ld	hl,(_sprite)
1185  0265  26 00       	ld	h,0x00
1186  0267  01 00 00    	ld	bc,_class
1187  026A  09          	add	hl,bc
1188  026B  7E          	ld	a,(hl)
1189  026C  D6 10       	sub	a,0x10
1190  026E  20 2D       	jr	NZ,l_spr_move_up_00107
1191  0270  2A 00 00    	ld	hl,(_sprite)
1192  0273  26 00       	ld	h,0x00
1193  0275  01 00 00    	ld	bc,_col
1194  0278  09          	add	hl,bc
1195  0279  7E          	ld	a,(hl)
1196  027A  F5          	push	af
1197  027B  33          	inc	sp
1198  027C  3A 00 00    	ld	a,(_tmp1)
1199  027F  F5          	push	af
1200  0280  33          	inc	sp
1201  0281  CD 1E 00    	call	_spr_check_map
1202  0284  F1          	pop	af
1203  0285  7C          	ld	a,h
1204  0286  B5          	or	a,l
1205  0287  28 14       	jr	Z,l_spr_move_up_00107
1206  0289  3A 00 00    	ld	a,(_sprite)
1207  028C  D6 07       	sub	a,0x07
1208  028E  20 09       	jr	NZ,l_spr_move_up_00102
1209  0290  3A 07 00    	ld	a,(_state_a + 0x0007)
1210  0293  07          	rlca
1211  0294  38 03       	jr	C,l_spr_move_up_00102
1212  0296  CD 00 00    	call	_player_hit_platform
1213  0299              l_spr_move_up_00102:
1214  0299  2E 01       	ld	l,0x01
1215  029B  18 39       	jr	l_spr_move_up_00111
1216  029D              l_spr_move_up_00107:
1217  029D  2A 00 00    	ld	hl,(_sprite)
1218  02A0  26 00       	ld	h,0x00
1219  02A2  01 00 00    	ld	bc,_lin
1220  02A5  09          	add	hl,bc
1221  02A6  3A 00 00    	ld	a,(_tmp1)
1222  02A9  77          	ld	(hl),a
1223  02AA  2A 00 00    	ld	hl,(_sprite)
1224  02AD  26 00       	ld	h,0x00
1225  02AF  01 00 00    	ld	bc,_lin
1226  02B2  09          	add	hl,bc
1227  02B3  7E          	ld	a,(hl)
1228  02B4  5F          	ld	e,a
1229  02B5  B7          	or	a,a
1230  02B6  4D          	ld	c,l
1231  02B7  44          	ld	b,h
1232  02B8  28 05       	jr	Z,l_spr_move_up_00108
1233  02BA  3E 90       	ld	a,0x90
1234  02BC  93          	sub	a, e
1235  02BD  30 15       	jr	NC,l_spr_move_up_00109
1236  02BF              l_spr_move_up_00108:
1237  02BF  AF          	xor	a, a
1238  02C0  02          	ld	(bc), a
1239  02C1  3A 00 00    	ld	a,(_s_col0)
1240  02C4  F5          	push	af
1241  02C5  33          	inc	sp
1242  02C6  3A 00 00    	ld	a,(_s_lin0)
1243  02C9  57          	ld	d,a
1244  02CA  1E 12       	ld	e,0x12
1245  02CC  D5          	push	de
1246  02CD  CD 00 00    	call	_NIRVANAP_fillT_callee
1247  02D0  2E 01       	ld	l,0x01
1248  02D2  18 02       	jr	l_spr_move_up_00111
1249  02D4              l_spr_move_up_00109:
1250  02D4  2E 00       	ld	l,0x00
1251  02D6              l_spr_move_up_00111:
1252  02D6  C9          	ret
1253  02D7              	SECTION code_compiler
1254  02D7              ;	---------------------------------
1255  02D7              ; Function spr_move_down
1256  02D7              ; ---------------------------------
1257  02D7              _spr_move_down:
1258  02D7  2A 00 00    	ld	hl,(_sprite)
1259  02DA  26 00       	ld	h,0x00
1260  02DC  01 00 00    	ld	bc,_lin
1261  02DF  09          	add	hl,bc
1262  02E0  4E          	ld	c,(hl)
1263  02E1  21 00 00    	ld	hl,_sprite_lin_inc_mul
1264  02E4  46          	ld	b, (hl)
1265  02E5  1E 02       	ld	e,0x02
1266  02E7  04          	inc	b
1267  02E8  18 02       	jr	l_spr_move_down_00116
1268  02EA              l_spr_move_down_00115:
1269  02EA  CB 23       	sla	e
1270  02EC              l_spr_move_down_00116:
1271  02EC  10 FC       	djnz	l_spr_move_down_00115
1272  02EE  79          	ld	a, c
1273  02EF  83          	add	a, e
1274  02F0  32 00 00    	ld	(_tmp1),a
1275  02F3  2A 00 00    	ld	hl,(_sprite)
1276  02F6  26 00       	ld	h,0x00
1277  02F8  01 00 00    	ld	bc,_col
1278  02FB  09          	add	hl,bc
1279  02FC  56          	ld	d, (hl)
1280  02FD  3A 00 00    	ld	a,(_tmp1)
1281  0300  C6 10       	add	a,0x10
1282  0302  5F          	ld	e, a
1283  0303  D5          	push	de
1284  0304  CD 8A 00    	call	_spr_check_map_fall
1285  0307  F1          	pop	af
1286  0308  4D          	ld	c,l
1287  0309  44          	ld	b,h
1288  030A  2A 00 00    	ld	hl,(_sprite)
1289  030D  26 00       	ld	h,0x00
1290  030F  11 00 00    	ld	de,_lin
1291  0312  19          	add	hl,de
1292  0313  78          	ld	a,b
1293  0314  EB          	ex	de,hl
1294  0315  B1          	or	a,c
1295  0316  28 12       	jr	Z,l_spr_move_down_00102
1296  0318  3A 00 00    	ld	a,(_tmp1)
1297  031B  0F          	rrca
1298  031C  0F          	rrca
1299  031D  0F          	rrca
1300  031E  E6 1F       	and	a,0x1f
1301  0320  07          	rlca
1302  0321  07          	rlca
1303  0322  07          	rlca
1304  0323  E6 F8       	and	a,0xf8
1305  0325  12          	ld	(de), a
1306  0326  2E 01       	ld	l,0x01
1307  0328  18 23       	jr	l_spr_move_down_00105
1308  032A              l_spr_move_down_00102:
1309  032A  3A 00 00    	ld	a,(_tmp1)
1310  032D  12          	ld	(de), a
1311  032E  2A 00 00    	ld	hl,(_sprite)
1312  0331  26 00       	ld	h,0x00
1313  0333  01 00 00    	ld	bc,_lin
1314  0336  09          	add	hl,bc
1315  0337  5E          	ld	e,(hl)
1316  0338  3E 90       	ld	a,0x90
1317  033A  93          	sub	a,e
1318  033B  30 0E       	jr	NC,l_spr_move_down_00104
1319  033D  4D          	ld	c,l
1320  033E  44          	ld	b,h
1321  033F  21 00 00    	ld	hl,_s_state
1322  0342  CB 8E       	res	1, (hl)
1323  0344  3E 90       	ld	a,0x90
1324  0346  02          	ld	(bc), a
1325  0347  2E 01       	ld	l,0x01
1326  0349  18 02       	jr	l_spr_move_down_00105
1327  034B              l_spr_move_down_00104:
1328  034B  2E 00       	ld	l,0x00
1329  034D              l_spr_move_down_00105:
1330  034D  C9          	ret
1331  034E              	SECTION code_compiler
1332  034E              ;	---------------------------------
1333  034E              ; Function spr_move_horizontal
1334  034E              ; ---------------------------------
1335  034E              _spr_move_horizontal:
1336  034E  2A 00 00    	ld	hl,(_sprite)
1337  0351  26 00       	ld	h,0x00
1338  0353  01 00 00    	ld	bc,_state
1339  0356  09          	add	hl,bc
1340  0357  7E          	ld	a,(hl)
1341  0358  CB 57       	bit	2, a
1342  035A  28 05       	jr	Z,l_spr_move_horizontal_00104
1343  035C  CD 6D 03    	call	_spr_move_right
1344  035F  18 0B       	jr	l_spr_move_horizontal_00106
1345  0361              l_spr_move_horizontal_00104:
1346  0361  CB 5F       	bit	3, a
1347  0363  28 05       	jr	Z,l_spr_move_horizontal_00105
1348  0365  CD 2B 04    	call	_spr_move_left
1349  0368  18 02       	jr	l_spr_move_horizontal_00106
1350  036A              l_spr_move_horizontal_00105:
1351  036A  2E 00       	ld	l,0x00
1352  036C              l_spr_move_horizontal_00106:
1353  036C  C9          	ret
1354  036D              	SECTION code_compiler
1355  036D              ;	---------------------------------
1356  036D              ; Function spr_move_right
1357  036D              ; ---------------------------------
1358  036D              _spr_move_right:
1359  036D  01 00 00    	ld	bc,_colint+0
1360  0370  79          	ld	a, c
1361  0371  21 00 00    	ld	hl,_sprite
1362  0374  86          	add	a, (hl)
1363  0375  5F          	ld	e, a
1364  0376  78          	ld	a, b
1365  0377  CE 00       	adc	a,0x00
1366  0379  57          	ld	d, a
1367  037A  1A          	ld	a, (de)
1368  037B  3C          	inc	a
1369  037C  12          	ld	(de), a
1370  037D  79          	ld	a, c
1371  037E  86          	add	a, (hl)
1372  037F  5F          	ld	e, a
1373  0380  78          	ld	a, b
1374  0381  CE 00       	adc	a,0x00
1375  0383  57          	ld	d, a
1376  0384  1A          	ld	a, (de)
1377  0385  D6 04       	sub	a,0x04
1378  0387  C2 28 04    	jp	NZ,l_spr_move_right_00112
1379  038A  5E          	ld	e,(hl)
1380  038B  16 00       	ld	d,0x00
1381  038D  21 00 00    	ld	hl,_lin
1382  0390  19          	add	hl,de
1383  0391  7E          	ld	a,(hl)
1384  0392  32 00 00    	ld	(_s_lin1),a
1385  0395  2A 00 00    	ld	hl,(_sprite)
1386  0398  26 00       	ld	h,0x00
1387  039A  11 00 00    	ld	de,_col
1388  039D  19          	add	hl,de
1389  039E  7E          	ld	a,(hl)
1390  039F  FE 1E       	cp	a,0x1e
1391  03A1  30 48       	jr	NC,l_spr_move_right_00105
1392  03A3  3C          	inc	a
1393  03A4  32 00 00    	ld	(_s_col1),a
1394  03A7  C5          	push	bc
1395  03A8  F5          	push	af
1396  03A9  33          	inc	sp
1397  03AA  3A 00 00    	ld	a,(_s_lin1)
1398  03AD  F5          	push	af
1399  03AE  33          	inc	sp
1400  03AF  CD 1E 00    	call	_spr_check_map
1401  03B2  F1          	pop	af
1402  03B3  C1          	pop	bc
1403  03B4  7C          	ld	a,h
1404  03B5  B5          	or	a,l
1405  03B6  20 16       	jr	NZ,l_spr_move_right_00101
1406  03B8  3A 00 00    	ld	a,(_s_lin1)
1407  03BB  C6 0F       	add	a,0x0f
1408  03BD  57          	ld	d, a
1409  03BE  3A 00 00    	ld	a,(_s_col1)
1410  03C1  C5          	push	bc
1411  03C2  5A          	ld	e,d
1412  03C3  57          	ld	d,a
1413  03C4  D5          	push	de
1414  03C5  CD 1E 00    	call	_spr_check_map
1415  03C8  F1          	pop	af
1416  03C9  C1          	pop	bc
1417  03CA  7C          	ld	a,h
1418  03CB  B5          	or	a,l
1419  03CC  28 1D       	jr	Z,l_spr_move_right_00105
1420  03CE              l_spr_move_right_00101:
1421  03CE  79          	ld	a, c
1422  03CF  21 00 00    	ld	hl,_sprite
1423  03D2  86          	add	a, (hl)
1424  03D3  5F          	ld	e, a
1425  03D4  78          	ld	a, b
1426  03D5  CE 00       	adc	a,0x00
1427  03D7  57          	ld	d, a
1428  03D8  1A          	ld	a, (de)
1429  03D9  C6 FF       	add	a,0xff
1430  03DB  12          	ld	(de), a
1431  03DC  79          	ld	a, c
1432  03DD  86          	add	a, (hl)
1433  03DE  4F          	ld	c, a
1434  03DF  78          	ld	a, b
1435  03E0  CE 00       	adc	a,0x00
1436  03E2  47          	ld	b, a
1437  03E3  0A          	ld	a, (bc)
1438  03E4  C6 FF       	add	a,0xff
1439  03E6  02          	ld	(bc), a
1440  03E7  2E 01       	ld	l,0x01
1441  03E9  18 3F       	jr	l_spr_move_right_00113
1442  03EB              l_spr_move_right_00105:
1443  03EB  2A 00 00    	ld	hl,(_sprite)
1444  03EE  26 00       	ld	h,0x00
1445  03F0  11 00 00    	ld	de,_col
1446  03F3  19          	add	hl,de
1447  03F4  34          	inc	(hl)
1448  03F5  79          	ld	a,c
1449  03F6  21 00 00    	ld	hl,_sprite
1450  03F9  86          	add	a, (hl)
1451  03FA  4F          	ld	c, a
1452  03FB  78          	ld	a, b
1453  03FC  CE 00       	adc	a,0x00
1454  03FE  47          	ld	b, a
1455  03FF  AF          	xor	a, a
1456  0400  02          	ld	(bc), a
1457  0401  4E          	ld	c,(hl)
1458  0402  06 00       	ld	b,0x00
1459  0404  21 00 00    	ld	hl,_col
1460  0407  09          	add	hl,bc
1461  0408  4E          	ld	c, (hl)
1462  0409  3E 1E       	ld	a,0x1e
1463  040B  91          	sub	a, c
1464  040C  30 1A       	jr	NC,l_spr_move_right_00112
1465  040E  CD EA 04    	call	_spr_page_right
1466  0411  3A 00 00    	ld	a,(_sprite)
1467  0414  C6 00       	add	a,+((_col) & 0xFF)
1468  0416  4D          	ld	c,l
1469  0417  5F          	ld	e,a
1470  0418  3E 00       	ld	a,+((_col) / 256)
1471  041A  CE 00       	adc	a,0x00
1472  041C  57          	ld	d,a
1473  041D  79          	ld	a, c
1474  041E  B7          	or	a, a
1475  041F  28 04       	jr	Z,l_spr_move_right_00107
1476  0421  AF          	xor	a, a
1477  0422  12          	ld	(de), a
1478  0423  18 03       	jr	l_spr_move_right_00112
1479  0425              l_spr_move_right_00107:
1480  0425  3E 1E       	ld	a,0x1e
1481  0427  12          	ld	(de), a
1482  0428              l_spr_move_right_00112:
1483  0428  2E 00       	ld	l,0x00
1484  042A              l_spr_move_right_00113:
1485  042A  C9          	ret
1486  042B              	SECTION code_compiler
1487  042B              ;	---------------------------------
1488  042B              ; Function spr_move_left
1489  042B              ; ---------------------------------
1490  042B              _spr_move_left:
1491  042B  01 00 00    	ld	bc,_colint+0
1492  042E  79          	ld	a, c
1493  042F  21 00 00    	ld	hl,_sprite
1494  0432  86          	add	a, (hl)
1495  0433  5F          	ld	e, a
1496  0434  78          	ld	a, b
1497  0435  CE 00       	adc	a,0x00
1498  0437  57          	ld	d, a
1499  0438  1A          	ld	a, (de)
1500  0439  C6 FF       	add	a,0xff
1501  043B  12          	ld	(de), a
1502  043C  79          	ld	a, c
1503  043D  86          	add	a, (hl)
1504  043E  5F          	ld	e, a
1505  043F  78          	ld	a, b
1506  0440  CE 00       	adc	a,0x00
1507  0442  57          	ld	d, a
1508  0443  1A          	ld	a, (de)
1509  0444  3C          	inc	a
1510  0445  C2 E7 04    	jp	NZ,l_spr_move_left_00112
1511  0448  5E          	ld	e,(hl)
1512  0449  16 00       	ld	d,0x00
1513  044B  21 00 00    	ld	hl,_lin
1514  044E  19          	add	hl,de
1515  044F  7E          	ld	a,(hl)
1516  0450  32 00 00    	ld	(_s_lin1),a
1517  0453  2A 00 00    	ld	hl,(_sprite)
1518  0456  26 00       	ld	h,0x00
1519  0458  11 00 00    	ld	de,_col
1520  045B  19          	add	hl,de
1521  045C  7E          	ld	a,(hl)
1522  045D  B7          	or	a, a
1523  045E  28 47       	jr	Z,l_spr_move_left_00105
1524  0460  C6 FF       	add	a,0xff
1525  0462  32 00 00    	ld	(_s_col1),a
1526  0465  C5          	push	bc
1527  0466  F5          	push	af
1528  0467  33          	inc	sp
1529  0468  3A 00 00    	ld	a,(_s_lin1)
1530  046B  F5          	push	af
1531  046C  33          	inc	sp
1532  046D  CD 1E 00    	call	_spr_check_map
1533  0470  F1          	pop	af
1534  0471  C1          	pop	bc
1535  0472  7C          	ld	a,h
1536  0473  B5          	or	a,l
1537  0474  20 16       	jr	NZ,l_spr_move_left_00101
1538  0476  3A 00 00    	ld	a,(_s_lin1)
1539  0479  C6 0F       	add	a,0x0f
1540  047B  57          	ld	d, a
1541  047C  3A 00 00    	ld	a,(_s_col1)
1542  047F  C5          	push	bc
1543  0480  5A          	ld	e,d
1544  0481  57          	ld	d,a
1545  0482  D5          	push	de
1546  0483  CD 1E 00    	call	_spr_check_map
1547  0486  F1          	pop	af
1548  0487  C1          	pop	bc
1549  0488  7C          	ld	a,h
1550  0489  B5          	or	a,l
1551  048A  28 1B       	jr	Z,l_spr_move_left_00105
1552  048C              l_spr_move_left_00101:
1553  048C  79          	ld	a, c
1554  048D  21 00 00    	ld	hl,_sprite
1555  0490  86          	add	a, (hl)
1556  0491  5F          	ld	e, a
1557  0492  78          	ld	a, b
1558  0493  CE 00       	adc	a,0x00
1559  0495  57          	ld	d, a
1560  0496  1A          	ld	a, (de)
1561  0497  3C          	inc	a
1562  0498  12          	ld	(de), a
1563  0499  79          	ld	a, c
1564  049A  86          	add	a, (hl)
1565  049B  4F          	ld	c, a
1566  049C  78          	ld	a, b
1567  049D  CE 00       	adc	a,0x00
1568  049F  47          	ld	b, a
1569  04A0  0A          	ld	a, (bc)
1570  04A1  3C          	inc	a
1571  04A2  02          	ld	(bc), a
1572  04A3  2E 01       	ld	l,0x01
1573  04A5  18 42       	jr	l_spr_move_left_00113
1574  04A7              l_spr_move_left_00105:
1575  04A7  2A 00 00    	ld	hl,(_sprite)
1576  04AA  26 00       	ld	h,0x00
1577  04AC  11 00 00    	ld	de,_col
1578  04AF  19          	add	hl,de
1579  04B0  7E          	ld	a,(hl)
1580  04B1  EB          	ex	de,hl
1581  04B2  C6 FF       	add	a,0xff
1582  04B4  12          	ld	(de),a
1583  04B5  79          	ld	a,c
1584  04B6  21 00 00    	ld	hl,_sprite
1585  04B9  86          	add	a, (hl)
1586  04BA  4F          	ld	c, a
1587  04BB  78          	ld	a, b
1588  04BC  CE 00       	adc	a,0x00
1589  04BE  47          	ld	b, a
1590  04BF  3E 03       	ld	a,0x03
1591  04C1  02          	ld	(bc), a
1592  04C2  4E          	ld	c,(hl)
1593  04C3  06 00       	ld	b,0x00
1594  04C5  21 00 00    	ld	hl,_col
1595  04C8  09          	add	hl,bc
1596  04C9  7E          	ld	a,(hl)
1597  04CA  3C          	inc	a
1598  04CB  20 1A       	jr	NZ,l_spr_move_left_00112
1599  04CD  CD 16 05    	call	_spr_page_left
1600  04D0  3A 00 00    	ld	a,(_sprite)
1601  04D3  C6 00       	add	a,+((_col) & 0xFF)
1602  04D5  4D          	ld	c,l
1603  04D6  5F          	ld	e,a
1604  04D7  3E 00       	ld	a,+((_col) / 256)
1605  04D9  CE 00       	adc	a,0x00
1606  04DB  57          	ld	d,a
1607  04DC  79          	ld	a, c
1608  04DD  B7          	or	a, a
1609  04DE  28 05       	jr	Z,l_spr_move_left_00107
1610  04E0  3E 1E       	ld	a,0x1e
1611  04E2  12          	ld	(de), a
1612  04E3  18 02       	jr	l_spr_move_left_00112
1613  04E5              l_spr_move_left_00107:
1614  04E5  AF          	xor	a, a
1615  04E6  12          	ld	(de), a
1616  04E7              l_spr_move_left_00112:
1617  04E7  2E 00       	ld	l,0x00
1618  04E9              l_spr_move_left_00113:
1619  04E9  C9          	ret
1620  04EA              	SECTION code_compiler
1621  04EA              ;	---------------------------------
1622  04EA              ; Function spr_page_right
1623  04EA              ; ---------------------------------
1624  04EA              _spr_page_right:
1625  04EA  2A 00 00    	ld	hl,(_sprite)
1626  04ED  26 00       	ld	h,0x00
1627  04EF  01 00 00    	ld	bc,_class
1628  04F2  09          	add	hl,bc
1629  04F3  7E          	ld	a,(hl)
1630  04F4  D6 10       	sub	a,0x10
1631  04F6  28 04       	jr	Z,l_spr_page_right_00102
1632  04F8  2E 00       	ld	l,0x00
1633  04FA  18 19       	jr	l_spr_page_right_00105
1634  04FC              l_spr_page_right_00102:
1635  04FC  3A 00 00    	ld	a,(_scr_curr)
1636  04FF  21 00 00    	ld	hl,_map_width
1637  0502  96          	sub	a, (hl)
1638  0503  30 0E       	jr	NC,l_spr_page_right_00104
1639  0505  21 00 00    	ld	hl,_scr_curr
1640  0508  34          	inc	(hl)
1641  0509  CD 3D 05    	call	_spr_page_map
1642  050C  CD 9A 09    	call	_spr_draw_background
1643  050F  2E 01       	ld	l,0x01
1644  0511  18 02       	jr	l_spr_page_right_00105
1645  0513              l_spr_page_right_00104:
1646  0513  2E 00       	ld	l,0x00
1647  0515              l_spr_page_right_00105:
1648  0515  C9          	ret
1649  0516              	SECTION code_compiler
1650  0516              ;	---------------------------------
1651  0516              ; Function spr_page_left
1652  0516              ; ---------------------------------
1653  0516              _spr_page_left:
1654  0516  2A 00 00    	ld	hl,(_sprite)
1655  0519  26 00       	ld	h,0x00
1656  051B  01 00 00    	ld	bc,_class
1657  051E  09          	add	hl,bc
1658  051F  7E          	ld	a,(hl)
1659  0520  D6 10       	sub	a,0x10
1660  0522  28 04       	jr	Z,l_spr_page_left_00102
1661  0524  2E 00       	ld	l,0x00
1662  0526  18 14       	jr	l_spr_page_left_00105
1663  0528              l_spr_page_left_00102:
1664  0528  21 00 00    	ld	hl,_scr_curr
1665  052B  7E          	ld	a, (hl)
1666  052C  B7          	or	a, a
1667  052D  28 0B       	jr	Z,l_spr_page_left_00104
1668  052F  35          	dec	(hl)
1669  0530  CD 3D 05    	call	_spr_page_map
1670  0533  CD 9A 09    	call	_spr_draw_background
1671  0536  2E 01       	ld	l,0x01
1672  0538  18 02       	jr	l_spr_page_left_00105
1673  053A              l_spr_page_left_00104:
1674  053A  2E 00       	ld	l,0x00
1675  053C              l_spr_page_left_00105:
1676  053C  C9          	ret
1677  053D              	SECTION code_compiler
1678  053D              ;	---------------------------------
1679  053D              ; Function spr_page_map
1680  053D              ; ---------------------------------
1681  053D              _spr_page_map:
1682  053D  CD 00 00    	call	___sdcc_enter_ix
1683  0540  F5          	push	af
1684  0541  3E 10       	ld	a,0x10
1685  0543  F5          	push	af
1686  0544  33          	inc	sp
1687  0545  0E 00       	ld	c,0x00
1688  0547              l_spr_page_map_00122:
1689  0547  3E 07       	ld	a,0x07
1690  0549  21 00 00    	ld	hl,_scr_curr
1691  054C  96          	sub	a, (hl)
1692  054D  DA 17 06    	jp	C, l_spr_page_map_00109
1693  0550  59          	ld	e, c
1694  0551  16 00       	ld	d,0x00
1695  0553  13          	inc	de
1696  0554  D5          	push	de
1697  0555  5E          	ld	e, (hl)
1698  0556  16 00       	ld	d,0x00
1699  0558  21 60 05    	ld	hl,l_spr_page_map_00155
1700  055B  19          	add	hl, de
1701  055C  19          	add	hl, de
1702  055D  19          	add	hl, de
1703  055E  D1          	pop	de
1704  055F  E9          	jp	(hl)
1705  0560              l_spr_page_map_00155:
1706  0560  C3 78 05    	jp	l_spr_page_map_00101
1707  0563  C3 8D 05    	jp	l_spr_page_map_00102
1708  0566  C3 A1 05    	jp	l_spr_page_map_00103
1709  0569  C3 B5 05    	jp	l_spr_page_map_00104
1710  056C  C3 C9 05    	jp	l_spr_page_map_00105
1711  056F  C3 DD 05    	jp	l_spr_page_map_00106
1712  0572  C3 F1 05    	jp	l_spr_page_map_00107
1713  0575  C3 05 06    	jp	l_spr_page_map_00108
1714  0578              l_spr_page_map_00101:
1715  0578  06 00       	ld	b,0x00
1716  057A  21 00 00    	ld	hl,_scr_0
1717  057D  09          	add	hl, bc
1718  057E  7E          	ld	a, (hl)
1719  057F  DD 77 FF    	ld	(ix-1),a
1720  0582  21 00 00    	ld	hl,_scr_0
1721  0585  19          	add	hl, de
1722  0586  7E          	ld	a, (hl)
1723  0587  DD 77 FE    	ld	(ix-2),a
1724  058A  C3 17 06    	jp	l_spr_page_map_00109
1725  058D              l_spr_page_map_00102:
1726  058D  06 00       	ld	b,0x00
1727  058F  21 00 00    	ld	hl,_scr_1
1728  0592  09          	add	hl, bc
1729  0593  7E          	ld	a, (hl)
1730  0594  DD 77 FF    	ld	(ix-1),a
1731  0597  21 00 00    	ld	hl,_scr_1
1732  059A  19          	add	hl, de
1733  059B  7E          	ld	a, (hl)
1734  059C  DD 77 FE    	ld	(ix-2),a
1735  059F  18 76       	jr	l_spr_page_map_00109
1736  05A1              l_spr_page_map_00103:
1737  05A1  06 00       	ld	b,0x00
1738  05A3  21 00 00    	ld	hl,_scr_2
1739  05A6  09          	add	hl, bc
1740  05A7  7E          	ld	a, (hl)
1741  05A8  DD 77 FF    	ld	(ix-1),a
1742  05AB  21 00 00    	ld	hl,_scr_2
1743  05AE  19          	add	hl, de
1744  05AF  7E          	ld	a, (hl)
1745  05B0  DD 77 FE    	ld	(ix-2),a
1746  05B3  18 62       	jr	l_spr_page_map_00109
1747  05B5              l_spr_page_map_00104:
1748  05B5  06 00       	ld	b,0x00
1749  05B7  21 00 00    	ld	hl,_scr_3
1750  05BA  09          	add	hl, bc
1751  05BB  7E          	ld	a, (hl)
1752  05BC  DD 77 FF    	ld	(ix-1),a
1753  05BF  21 00 00    	ld	hl,_scr_3
1754  05C2  19          	add	hl, de
1755  05C3  7E          	ld	a, (hl)
1756  05C4  DD 77 FE    	ld	(ix-2),a
1757  05C7  18 4E       	jr	l_spr_page_map_00109
1758  05C9              l_spr_page_map_00105:
1759  05C9  06 00       	ld	b,0x00
1760  05CB  21 00 00    	ld	hl,_scr_4
1761  05CE  09          	add	hl, bc
1762  05CF  7E          	ld	a, (hl)
1763  05D0  DD 77 FF    	ld	(ix-1),a
1764  05D3  21 00 00    	ld	hl,_scr_4
1765  05D6  19          	add	hl, de
1766  05D7  7E          	ld	a, (hl)
1767  05D8  DD 77 FE    	ld	(ix-2),a
1768  05DB  18 3A       	jr	l_spr_page_map_00109
1769  05DD              l_spr_page_map_00106:
1770  05DD  06 00       	ld	b,0x00
1771  05DF  21 00 00    	ld	hl,_scr_5
1772  05E2  09          	add	hl, bc
1773  05E3  7E          	ld	a, (hl)
1774  05E4  DD 77 FF    	ld	(ix-1),a
1775  05E7  21 00 00    	ld	hl,_scr_5
1776  05EA  19          	add	hl, de
1777  05EB  7E          	ld	a, (hl)
1778  05EC  DD 77 FE    	ld	(ix-2),a
1779  05EF  18 26       	jr	l_spr_page_map_00109
1780  05F1              l_spr_page_map_00107:
1781  05F1  06 00       	ld	b,0x00
1782  05F3  21 00 00    	ld	hl,_scr_6
1783  05F6  09          	add	hl, bc
1784  05F7  7E          	ld	a, (hl)
1785  05F8  DD 77 FF    	ld	(ix-1),a
1786  05FB  21 00 00    	ld	hl,_scr_6
1787  05FE  19          	add	hl, de
1788  05FF  7E          	ld	a, (hl)
1789  0600  DD 77 FE    	ld	(ix-2),a
1790  0603  18 12       	jr	l_spr_page_map_00109
1791  0605              l_spr_page_map_00108:
1792  0605  06 00       	ld	b,0x00
1793  0607  21 00 00    	ld	hl,_scr_7
1794  060A  09          	add	hl, bc
1795  060B  7E          	ld	a, (hl)
1796  060C  DD 77 FF    	ld	(ix-1),a
1797  060F  21 00 00    	ld	hl,_scr_7
1798  0612  19          	add	hl, de
1799  0613  7E          	ld	a, (hl)
1800  0614  DD 77 FE    	ld	(ix-2),a
1801  0617              l_spr_page_map_00109:
1802  0617  DD 7E FF    	ld	a,(ix-1)
1803  061A  D6 80       	sub	a,0x80
1804  061C  30 14       	jr	NC,l_spr_page_map_00114
1805  061E  3E 00       	ld	a, +((_scr_map) & 0xFF)
1806  0620  DD 86 FD    	add	a,(ix-3)
1807  0623  5F          	ld	e, a
1808  0624  3E 00       	ld	a, +((_scr_map) / 256)
1809  0626  CE 00       	adc	a,0x00
1810  0628  57          	ld	d, a
1811  0629  DD 7E FF    	ld	a,(ix-1)
1812  062C  12          	ld	(de), a
1813  062D  DD 34 FD    	inc	(ix-3)
1814  0630  18 29       	jr	l_spr_page_map_00115
1815  0632              l_spr_page_map_00114:
1816  0632  DD 7E FF    	ld	a,(ix-1)
1817  0635  C6 80       	add	a,0x80
1818  0637  47          	ld	b, a
1819  0638  DD 5E FD    	ld	e,(ix-3)
1820  063B  16 00       	ld	d,0x00
1821  063D              l_spr_page_map_00120:
1822  063D  7A          	ld	a, d
1823  063E  90          	sub	a, b
1824  063F  30 16       	jr	NC,l_spr_page_map_00133
1825  0641  3E 00       	ld	a, +((_scr_map) & 0xFF)
1826  0643  83          	add	a, e
1827  0644  6F          	ld	l, a
1828  0645  3E 00       	ld	a, +((_scr_map) / 256)
1829  0647  CE 00       	adc	a,0x00
1830  0649  67          	ld	h, a
1831  064A  DD 7E FE    	ld	a,(ix-2)
1832  064D  77          	ld	(hl), a
1833  064E  1C          	inc	e
1834  064F  7B          	ld	a, e
1835  0650  D6 A0       	sub	a,0xa0
1836  0652  30 03       	jr	NC,l_spr_page_map_00133
1837  0654  14          	inc	d
1838  0655  18 E6       	jr	l_spr_page_map_00120
1839  0657              l_spr_page_map_00133:
1840  0657  DD 73 FD    	ld	(ix-3),e
1841  065A  0C          	inc	c
1842  065B              l_spr_page_map_00115:
1843  065B  DD 7E FD    	ld	a,(ix-3)
1844  065E  D6 A0       	sub	a,0xa0
1845  0660  30 07       	jr	NC,l_spr_page_map_00124
1846  0662  0C          	inc	c
1847  0663  79          	ld	a, c
1848  0664  D6 A0       	sub	a,0xa0
1849  0666  DA 47 05    	jp	C, l_spr_page_map_00122
1850  0669              l_spr_page_map_00124:
1851  0669  DD F9       	ld	sp, ix
1852  066B  DD E1       	pop	ix
1853  066D  C9          	ret
1854  066E              	SECTION code_compiler
1855  066E              ;	---------------------------------
1856  066E              ; Function spr_redraw
1857  066E              ; ---------------------------------
1858  066E              _spr_redraw:
1859  066E  2A 00 00    	ld	hl,(_sprite)
1860  0671  26 00       	ld	h,0x00
1861  0673  01 00 00    	ld	bc,_tile
1862  0676  09          	add	hl,bc
1863  0677  4E          	ld	c, (hl)
1864  0678  3A 00 00    	ld	a,(_sprite)
1865  067B  5F          	ld	e,a
1866  067C  16 00       	ld	d,0x00
1867  067E  21 00 00    	ld	hl,_colint
1868  0681  19          	add	hl,de
1869  0682  7E          	ld	a,(hl)
1870  0683  81          	add	a,c
1871  0684  32 00 00    	ld	(_s_tile1),a
1872  0687  2A 00 00    	ld	hl,(_sprite)
1873  068A  26 00       	ld	h,0x00
1874  068C  01 00 00    	ld	bc,_col
1875  068F  09          	add	hl,bc
1876  0690  7E          	ld	a,(hl)
1877  0691  32 00 00    	ld	(_s_col1),a
1878  0694  2A 00 00    	ld	hl,(_sprite)
1879  0697  26 00       	ld	h,0x00
1880  0699  01 00 00    	ld	bc,_lin
1881  069C  09          	add	hl,bc
1882  069D  7E          	ld	a,(hl)
1883  069E  32 00 00    	ld	(_s_lin1),a
1884  06A1  21 00 00    	ld	hl,_s_lin0
1885  06A4  96          	sub	a, (hl)
1886  06A5  20 09       	jr	NZ,l_spr_redraw_00105
1887  06A7  3A 00 00    	ld	a,(_s_col1)
1888  06AA  21 00 00    	ld	hl,_s_col0
1889  06AD  96          	sub	a, (hl)
1890  06AE  28 2E       	jr	Z,l_spr_redraw_00106
1891  06B0              l_spr_redraw_00105:
1892  06B0  3E 10       	ld	a,0x10
1893  06B2  21 00 00    	ld	hl,_s_lin0
1894  06B5  96          	sub	a, (hl)
1895  06B6  38 0E       	jr	C,l_spr_redraw_00102
1896  06B8  F3          	di
1897  06B9  3A 00 00    	ld	a,(_s_col0)
1898  06BC  F5          	push	af
1899  06BD  33          	inc	sp
1900  06BE  21 49 08    	ld	hl,0x0849
1901  06C1  E5          	push	hl
1902  06C2  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1903  06C5  FB          	ei
1904  06C6              l_spr_redraw_00102:
1905  06C6  2A FF FF    	ld	hl,(_s_col1 - 1)
1906  06C9  3A 00 00    	ld	a,(_s_lin1)
1907  06CC  6F          	ld	l,a
1908  06CD  E5          	push	hl
1909  06CE  2A FF FF    	ld	hl,(_s_tile1 - 1)
1910  06D1  3A 00 00    	ld	a,(_sprite)
1911  06D4  6F          	ld	l,a
1912  06D5  E5          	push	hl
1913  06D6  CD 00 00    	call	_NIRVANAP_spriteT_callee
1914  06D9  CD B0 0C    	call	_spr_back_clr
1915  06DC  18 1C       	jr	l_spr_redraw_00107
1916  06DE              l_spr_redraw_00106:
1917  06DE  3A 00 00    	ld	a,(_s_tile1)
1918  06E1  21 00 00    	ld	hl,_s_tile0
1919  06E4  96          	sub	a, (hl)
1920  06E5  28 13       	jr	Z,l_spr_redraw_00107
1921  06E7  2A FF FF    	ld	hl,(_s_col1 - 1)
1922  06EA  3A 00 00    	ld	a,(_s_lin1)
1923  06ED  6F          	ld	l,a
1924  06EE  E5          	push	hl
1925  06EF  2A FF FF    	ld	hl,(_s_tile1 - 1)
1926  06F2  3A 00 00    	ld	a,(_sprite)
1927  06F5  6F          	ld	l,a
1928  06F6  E5          	push	hl
1929  06F7  CD 00 00    	call	_NIRVANAP_spriteT_callee
1930  06FA              l_spr_redraw_00107:
1931  06FA  2E 00       	ld	l,0x00
1932  06FC  C9          	ret
1933  06FD              	SECTION code_compiler
1934  06FD              ;	---------------------------------
1935  06FD              ; Function spr_killed
1936  06FD              ; ---------------------------------
1937  06FD              _spr_killed:
1938  06FD  45          	ld	b,l
1939  06FE  11 00 00    	ld	de,_class+0
1940  0701  26 00       	ld	h,0x00
1941  0703  19          	add	hl, de
1942  0704  7E          	ld	a, (hl)
1943  0705  FE 07       	cp	a,0x07
1944  0707  28 12       	jr	Z,l_spr_killed_00101
1945  0709  FE 08       	cp	a,0x08
1946  070B  28 24       	jr	Z,l_spr_killed_00103
1947  070D  FE 0A       	cp	a,0x0a
1948  070F  28 2B       	jr	Z,l_spr_killed_00104
1949  0711  FE 0B       	cp	a,0x0b
1950  0713  28 39       	jr	Z,l_spr_killed_00105
1951  0715  D6 0C       	sub	a,0x0c
1952  0717  28 0D       	jr	Z,l_spr_killed_00102
1953  0719  18 45       	jr	l_spr_killed_00106
1954  071B              l_spr_killed_00101:
1955  071B  3E 81       	ld	a,0x81
1956  071D  48          	ld	c,b
1957  071E  47          	ld	b,a
1958  071F  C5          	push	bc
1959  0720  CD 6C 07    	call	_spr_anim_kill
1960  0723  F1          	pop	af
1961  0724  18 43       	jr	l_spr_killed_00107
1962  0726              l_spr_killed_00102:
1963  0726  3E BA       	ld	a,0xba
1964  0728  48          	ld	c,b
1965  0729  47          	ld	b,a
1966  072A  C5          	push	bc
1967  072B  CD 6C 07    	call	_spr_anim_kill
1968  072E  F1          	pop	af
1969  072F  18 38       	jr	l_spr_killed_00107
1970  0731              l_spr_killed_00103:
1971  0731  3E BA       	ld	a,0xba
1972  0733  48          	ld	c,b
1973  0734  47          	ld	b,a
1974  0735  C5          	push	bc
1975  0736  CD 6C 07    	call	_spr_anim_kill
1976  0739  F1          	pop	af
1977  073A  18 2D       	jr	l_spr_killed_00107
1978  073C              l_spr_killed_00104:
1979  073C  C5          	push	bc
1980  073D  68          	ld	l, b
1981  073E  CD 9F 08    	call	_spr_tile
1982  0741  C1          	pop	bc
1983  0742  55          	ld	d,l
1984  0743  14          	inc	d
1985  0744  14          	inc	d
1986  0745  14          	inc	d
1987  0746  58          	ld	e,b
1988  0747  D5          	push	de
1989  0748  CD 6C 07    	call	_spr_anim_kill
1990  074B  F1          	pop	af
1991  074C  18 1B       	jr	l_spr_killed_00107
1992  074E              l_spr_killed_00105:
1993  074E  C5          	push	bc
1994  074F  68          	ld	l, b
1995  0750  CD 9F 08    	call	_spr_tile
1996  0753  C1          	pop	bc
1997  0754  55          	ld	d,l
1998  0755  14          	inc	d
1999  0756  14          	inc	d
2000  0757  14          	inc	d
2001  0758  58          	ld	e,b
2002  0759  D5          	push	de
2003  075A  CD 6C 07    	call	_spr_anim_kill
2004  075D  F1          	pop	af
2005  075E  18 09       	jr	l_spr_killed_00107
2006  0760              l_spr_killed_00106:
2007  0760  3E BA       	ld	a,0xba
2008  0762  48          	ld	c,b
2009  0763  47          	ld	b,a
2010  0764  C5          	push	bc
2011  0765  CD 6C 07    	call	_spr_anim_kill
2012  0768  F1          	pop	af
2013  0769              l_spr_killed_00107:
2014  0769  2E 00       	ld	l,0x00
2015  076B  C9          	ret
2016  076C              	SECTION code_compiler
2017  076C              ;	---------------------------------
2018  076C              ; Function spr_anim_kill
2019  076C              ; ---------------------------------
2020  076C              _spr_anim_kill:
2021  076C  CD 00 00    	call	___sdcc_enter_ix
2022  076F  F5          	push	af
2023  0770  DD 6E 04    	ld	l,(ix+4)
2024  0773  26 00       	ld	h,0x00
2025  0775  29          	add	hl,hl
2026  0776  4D          	ld	c,l
2027  0777  44          	ld	b,h
2028  0778  21 00 00    	ld	hl,_last_time
2029  077B  09          	add	hl,bc
2030  077C  E3          	ex	(sp), hl
2031  077D  E1          	pop	hl
2032  077E  ED 5B 00 00 	ld	de,(_curr_time)
2033  0782  E5          	push	hl
2034  0783  73          	ld	(hl), e
2035  0784  23          	inc	hl
2036  0785  72          	ld	(hl), d
2037  0786  2A 00 00    	ld	hl,(_curr_time)
2038  0789  5D          	ld	e,l
2039  078A  21 00 00    	ld	hl,_spr_timer
2040  078D  09          	add	hl, bc
2041  078E  4E          	ld	c, (hl)
2042  078F  7B          	ld	a, e
2043  0790  91          	sub	a, c
2044  0791  32 00 00    	ld	(_tmp0),a
2045  0794  21 00 00    	ld	hl,_tmp
2046  0797  36 02       	ld	(hl),0x02
2047  0799  3E 28       	ld	a,0x28
2048  079B  21 00 00    	ld	hl,_tmp0
2049  079E  96          	sub	a, (hl)
2050  079F  38 05       	jr	C,l_spr_anim_kill_00102
2051  07A1  21 00 00    	ld	hl,_tmp
2052  07A4  36 01       	ld	(hl),0x01
2053  07A6              l_spr_anim_kill_00102:
2054  07A6  3E 14       	ld	a,0x14
2055  07A8  21 00 00    	ld	hl,_tmp0
2056  07AB  96          	sub	a, (hl)
2057  07AC  38 05       	jr	C,l_spr_anim_kill_00104
2058  07AE  21 00 00    	ld	hl,_tmp
2059  07B1  36 00       	ld	(hl),0x00
2060  07B3              l_spr_anim_kill_00104:
2061  07B3  3E 3C       	ld	a,0x3c
2062  07B5  21 00 00    	ld	hl,_tmp0
2063  07B8  96          	sub	a, (hl)
2064  07B9  38 2F       	jr	C,l_spr_anim_kill_00106
2065  07BB  3E 00       	ld	a, +((_col) & 0xFF)
2066  07BD  DD 86 04    	add	a,(ix+4)
2067  07C0  4F          	ld	c, a
2068  07C1  3E 00       	ld	a, +((_col) / 256)
2069  07C3  CE 00       	adc	a,0x00
2070  07C5  47          	ld	b, a
2071  07C6  0A          	ld	a, (bc)
2072  07C7  47          	ld	b, a
2073  07C8  3E 00       	ld	a, +((_lin) & 0xFF)
2074  07CA  DD 86 04    	add	a,(ix+4)
2075  07CD  5F          	ld	e, a
2076  07CE  3E 00       	ld	a, +((_lin) / 256)
2077  07D0  CE 00       	adc	a,0x00
2078  07D2  57          	ld	d, a
2079  07D3  1A          	ld	a, (de)
2080  07D4  57          	ld	d, a
2081  07D5  DD 7E 05    	ld	a,(ix+5)
2082  07D8  21 00 00    	ld	hl,_tmp
2083  07DB  86          	add	a, (hl)
2084  07DC  4A          	ld	c, d
2085  07DD  C5          	push	bc
2086  07DE  F5          	push	af
2087  07DF  33          	inc	sp
2088  07E0  DD 7E 04    	ld	a,(ix+4)
2089  07E3  F5          	push	af
2090  07E4  33          	inc	sp
2091  07E5  CD 00 00    	call	_NIRVANAP_spriteT_callee
2092  07E8  18 06       	jr	l_spr_anim_kill_00108
2093  07EA              l_spr_anim_kill_00106:
2094  07EA  DD 6E 04    	ld	l,(ix+4)
2095  07ED  CD F4 07    	call	_spr_destroy
2096  07F0              l_spr_anim_kill_00108:
2097  07F0  F1          	pop	af
2098  07F1  DD E1       	pop	ix
2099  07F3  C9          	ret
2100  07F4              	SECTION code_compiler
2101  07F4              ;	---------------------------------
2102  07F4              ; Function spr_destroy
2103  07F4              ; ---------------------------------
2104  07F4              _spr_destroy:
2105  07F4  CD 00 00    	call	___sdcc_enter_ix
2106  07F7  F5          	push	af
2107  07F8  4D          	ld	c, l
2108  07F9  21 00 00    	ld	hl,_spr_count
2109  07FC  35          	dec	(hl)
2110  07FD  3E 00       	ld	a, +((_lin) & 0xFF)
2111  07FF  81          	add	a, c
2112  0800  DD 77 FE    	ld	(ix-2),a
2113  0803  3E 00       	ld	a, +((_lin) / 256)
2114  0805  CE 00       	adc	a,0x00
2115  0807  DD 77 FF    	ld	(ix-1),a
2116  080A  E1          	pop	hl
2117  080B  7E          	ld	a,(hl)
2118  080C  E5          	push	hl
2119  080D  32 00 00    	ld	(_s_lin0),a
2120  0810  3E 00       	ld	a, +((_col) & 0xFF)
2121  0812  81          	add	a, c
2122  0813  5F          	ld	e, a
2123  0814  3E 00       	ld	a, +((_col) / 256)
2124  0816  CE 00       	adc	a,0x00
2125  0818  57          	ld	d, a
2126  0819  1A          	ld	a, (de)
2127  081A  32 00 00    	ld	(_s_col0),a
2128  081D  06 00       	ld	b,0x00
2129  081F  21 00 00    	ld	hl,_tile
2130  0822  09          	add	hl, bc
2131  0823  AF          	xor	a,a
2132  0824  77          	ld	(hl),a
2133  0825  E1          	pop	hl
2134  0826  12          	ld	(de),a
2135  0827  E5          	push	hl
2136  0828  36 00       	ld	(hl),0x00
2137  082A  11 00 00    	ld	de,_class+0
2138  082D  69          	ld	l,c
2139  082E  26 00       	ld	h,0x00
2140  0830  19          	add	hl, de
2141  0831  36 00       	ld	(hl),0x00
2142  0833  11 00 00    	ld	de,_state+0
2143  0836  69          	ld	l,c
2144  0837  26 00       	ld	h,0x00
2145  0839  19          	add	hl, de
2146  083A  36 00       	ld	(hl),0x00
2147  083C  11 00 00    	ld	de,_state_a+0
2148  083F  69          	ld	l,c
2149  0840  26 00       	ld	h,0x00
2150  0842  19          	add	hl, de
2151  0843  36 00       	ld	(hl),0x00
2152  0845  21 00 00    	ld	hl,0x0000
2153  0848  E5          	push	hl
2154  0849  AF          	xor	a, a
2155  084A  F5          	push	af
2156  084B  33          	inc	sp
2157  084C  79          	ld	a, c
2158  084D  F5          	push	af
2159  084E  33          	inc	sp
2160  084F  CD 00 00    	call	_NIRVANAP_spriteT_callee
2161  0852  76          	halt
2162  0853  3A 00 00    	ld	a,(_s_col0)
2163  0856  F5          	push	af
2164  0857  33          	inc	sp
2165  0858  3A 00 00    	ld	a,(_s_lin0)
2166  085B  57          	ld	d,a
2167  085C  1E 49       	ld	e,0x49
2168  085E  D5          	push	de
2169  085F  CD 00 00    	call	_NIRVANAP_fillT_callee
2170  0862  F1          	pop	af
2171  0863  DD E1       	pop	ix
2172  0865  C9          	ret
2173  0866              	SECTION code_compiler
2174  0866              ;	---------------------------------
2175  0866              ; Function spr_set_fall
2176  0866              ; ---------------------------------
2177  0866              _spr_set_fall:
2178  0866  21 00 00    	ld	hl,_s_state
2179  0869  7E          	ld	a,(hl)
2180  086A  E6 FE       	and	a,0xfe
2181  086C  F6 02       	or	a,0x02
2182  086E  77          	ld	(hl),a
2183  086F  21 00 00    	ld	hl,_sprite
2184  0872  7E          	ld	a, (hl)
2185  0873  D6 06       	sub	a,0x06
2186  0875  38 0E       	jr	C,l_spr_set_fall_00104
2187  0877  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2188  0879  86          	add	a, (hl)
2189  087A  4F          	ld	c, a
2190  087B  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2191  087D  CE 00       	adc	a,0x00
2192  087F  47          	ld	b, a
2193  0880  3E 02       	ld	a,0x02
2194  0882  02          	ld	(bc), a
2195  0883  18 19       	jr	l_spr_set_fall_00106
2196  0885              l_spr_set_fall_00104:
2197  0885  2A 00 00    	ld	hl,(_sprite)
2198  0888  26 00       	ld	h,0x00
2199  088A  01 00 00    	ld	bc,_class
2200  088D  09          	add	hl,bc
2201  088E  4E          	ld	c,(hl)
2202  088F  3E 08       	ld	a,0x08
2203  0891  91          	sub	a,c
2204  0892  D8          	ret	C
2205  0893  2A 00 00    	ld	hl,(_sprite)
2206  0896  26 00       	ld	h,0x00
2207  0898  01 00 00    	ld	bc,_sprite_speed_alt
2208  089B  09          	add	hl,bc
2209  089C  36 01       	ld	(hl),0x01
2210  089E              l_spr_set_fall_00106:
2211  089E  C9          	ret
2212  089F              	SECTION code_compiler
2213  089F              ;	---------------------------------
2214  089F              ; Function spr_tile
2215  089F              ; ---------------------------------
2216  089F              _spr_tile:
2217  089F  45          	ld	b, l
2218  08A0  0E 00       	ld	c,0x00
2219  08A2  11 00 00    	ld	de,_state+0
2220  08A5  68          	ld	l,b
2221  08A6  26 00       	ld	h,0x00
2222  08A8  19          	add	hl, de
2223  08A9  5E          	ld	e, (hl)
2224  08AA  CB 73       	bit	6, e
2225  08AC  28 02       	jr	Z,l_spr_tile_00102
2226  08AE  0E 03       	ld	c,0x03
2227  08B0              l_spr_tile_00102:
2228  08B0  CB 63       	bit	4, e
2229  08B2  28 02       	jr	Z,l_spr_tile_00104
2230  08B4  0E 06       	ld	c,0x06
2231  08B6              l_spr_tile_00104:
2232  08B6  11 00 00    	ld	de,_class+0
2233  08B9  68          	ld	l,b
2234  08BA  26 00       	ld	h,0x00
2235  08BC  19          	add	hl, de
2236  08BD  5E          	ld	e, (hl)
2237  08BE  3E 0C       	ld	a,0x0c
2238  08C0  93          	sub	a, e
2239  08C1  DA 4E 09    	jp	C, l_spr_tile_00117
2240  08C4  16 00       	ld	d,0x00
2241  08C6  21 CD 08    	ld	hl,l_spr_tile_00134
2242  08C9  19          	add	hl, de
2243  08CA  19          	add	hl, de
2244  08CB  19          	add	hl, de
2245  08CC  E9          	jp	(hl)
2246  08CD              l_spr_tile_00134:
2247  08CD  C3 4E 09    	jp	l_spr_tile_00117
2248  08D0  C3 F4 08    	jp	l_spr_tile_00105
2249  08D3  C3 04 09    	jp	l_spr_tile_00106
2250  08D6  C3 14 09    	jp	l_spr_tile_00107
2251  08D9  C3 24 09    	jp	l_spr_tile_00108
2252  08DC  C3 2A 09    	jp	l_spr_tile_00109
2253  08DF  C3 30 09    	jp	l_spr_tile_00110
2254  08E2  C3 36 09    	jp	l_spr_tile_00111
2255  08E5  C3 3A 09    	jp	l_spr_tile_00112
2256  08E8  C3 42 09    	jp	l_spr_tile_00114
2257  08EB  C3 46 09    	jp	l_spr_tile_00115
2258  08EE  C3 4A 09    	jp	l_spr_tile_00116
2259  08F1  C3 3E 09    	jp	l_spr_tile_00113
2260  08F4              l_spr_tile_00105:
2261  08F4  3E 03       	ld	a,0x03
2262  08F6  48          	ld	c,b
2263  08F7  47          	ld	b,a
2264  08F8  C5          	push	bc
2265  08F9  3E 30       	ld	a,0x30
2266  08FB  F5          	push	af
2267  08FC  33          	inc	sp
2268  08FD  CD 51 09    	call	_spr_tile_dir
2269  0900  F1          	pop	af
2270  0901  33          	inc	sp
2271  0902  18 4C       	jr	l_spr_tile_00118
2272  0904              l_spr_tile_00106:
2273  0904  3E 03       	ld	a,0x03
2274  0906  48          	ld	c,b
2275  0907  47          	ld	b,a
2276  0908  C5          	push	bc
2277  0909  3E 3C       	ld	a,0x3c
2278  090B  F5          	push	af
2279  090C  33          	inc	sp
2280  090D  CD 51 09    	call	_spr_tile_dir
2281  0910  F1          	pop	af
2282  0911  33          	inc	sp
2283  0912  18 3C       	jr	l_spr_tile_00118
2284  0914              l_spr_tile_00107:
2285  0914  3E 03       	ld	a,0x03
2286  0916  48          	ld	c,b
2287  0917  47          	ld	b,a
2288  0918  C5          	push	bc
2289  0919  3E 48       	ld	a,0x48
2290  091B  F5          	push	af
2291  091C  33          	inc	sp
2292  091D  CD 51 09    	call	_spr_tile_dir
2293  0920  F1          	pop	af
2294  0921  33          	inc	sp
2295  0922  18 2C       	jr	l_spr_tile_00118
2296  0924              l_spr_tile_00108:
2297  0924  79          	ld	a, c
2298  0925  C6 54       	add	a,0x54
2299  0927  6F          	ld	l, a
2300  0928  18 26       	jr	l_spr_tile_00118
2301  092A              l_spr_tile_00109:
2302  092A  79          	ld	a, c
2303  092B  C6 60       	add	a,0x60
2304  092D  6F          	ld	l, a
2305  092E  18 20       	jr	l_spr_tile_00118
2306  0930              l_spr_tile_00110:
2307  0930  79          	ld	a, c
2308  0931  C6 6C       	add	a,0x6c
2309  0933  6F          	ld	l, a
2310  0934  18 1A       	jr	l_spr_tile_00118
2311  0936              l_spr_tile_00111:
2312  0936  2E 7B       	ld	l,0x7b
2313  0938  18 16       	jr	l_spr_tile_00118
2314  093A              l_spr_tile_00112:
2315  093A  2E B4       	ld	l,0xb4
2316  093C  18 12       	jr	l_spr_tile_00118
2317  093E              l_spr_tile_00113:
2318  093E  2E B7       	ld	l,0xb7
2319  0940  18 0E       	jr	l_spr_tile_00118
2320  0942              l_spr_tile_00114:
2321  0942  2E 78       	ld	l,0x78
2322  0944  18 0A       	jr	l_spr_tile_00118
2323  0946              l_spr_tile_00115:
2324  0946  2E 90       	ld	l,0x90
2325  0948  18 06       	jr	l_spr_tile_00118
2326  094A              l_spr_tile_00116:
2327  094A  2E 96       	ld	l,0x96
2328  094C  18 02       	jr	l_spr_tile_00118
2329  094E              l_spr_tile_00117:
2330  094E  2E 00       	ld	l,0x00
2331  0950              l_spr_tile_00118:
2332  0950  C9          	ret
2333  0951              	SECTION code_compiler
2334  0951              ;	---------------------------------
2335  0951              ; Function spr_tile_dir
2336  0951              ; ---------------------------------
2337  0951              _spr_tile_dir:
2338  0951  CD 00 00    	call	___sdcc_enter_ix
2339  0954  3E 00       	ld	a, +((_state) & 0xFF)
2340  0956  DD 86 05    	add	a,(ix+5)
2341  0959  4F          	ld	c, a
2342  095A  3E 00       	ld	a, +((_state) / 256)
2343  095C  CE 00       	adc	a,0x00
2344  095E  47          	ld	b, a
2345  095F  0A          	ld	a, (bc)
2346  0960  4F          	ld	c,a
2347  0961  CB 57       	bit	2,a
2348  0963  28 05       	jr	Z,l_spr_tile_dir_00102
2349  0965  DD 6E 04    	ld	l,(ix+4)
2350  0968  18 2D       	jr	l_spr_tile_dir_00109
2351  096A              l_spr_tile_dir_00102:
2352  096A  DD 7E 04    	ld	a,(ix+4)
2353  096D  DD 86 06    	add	a,(ix+6)
2354  0970  47          	ld	b, a
2355  0971  CB 59       	bit	3, c
2356  0973  28 03       	jr	Z,l_spr_tile_dir_00104
2357  0975  68          	ld	l, b
2358  0976  18 1F       	jr	l_spr_tile_dir_00109
2359  0978              l_spr_tile_dir_00104:
2360  0978  3E 00       	ld	a, +((_state_a) & 0xFF)
2361  097A  DD 86 05    	add	a,(ix+5)
2362  097D  5F          	ld	e, a
2363  097E  3E 00       	ld	a, +((_state_a) / 256)
2364  0980  CE 00       	adc	a,0x00
2365  0982  57          	ld	d, a
2366  0983  1A          	ld	a, (de)
2367  0984  CB 67       	bit	4, a
2368  0986  28 05       	jr	Z,l_spr_tile_dir_00106
2369  0988  DD 6E 04    	ld	l,(ix+4)
2370  098B  18 0A       	jr	l_spr_tile_dir_00109
2371  098D              l_spr_tile_dir_00106:
2372  098D  CB 5F       	bit	3, a
2373  098F  28 03       	jr	Z,l_spr_tile_dir_00108
2374  0991  68          	ld	l, b
2375  0992  18 03       	jr	l_spr_tile_dir_00109
2376  0994              l_spr_tile_dir_00108:
2377  0994  DD 6E 04    	ld	l,(ix+4)
2378  0997              l_spr_tile_dir_00109:
2379  0997  DD E1       	pop	ix
2380  0999  C9          	ret
2381  099A              	SECTION code_compiler
2382  099A              ;	---------------------------------
2383  099A              ; Function spr_draw_background
2384  099A              ; ---------------------------------
2385  099A              _spr_draw_background:
2386  099A  76          	halt
2387  099B  21 10 00    	ld	hl,0x0010
2388  099E  22 00 00    	ld	(_index1),hl
2389  09A1  21 00 00    	ld	hl,_s_lin1
2390  09A4  36 00       	ld	(hl),0x00
2391  09A6  21 00 00    	ld	hl,_s_col1
2392  09A9  36 02       	ld	(hl),0x02
2393  09AB              l_spr_draw_background_00103:
2394  09AB  21 00 00    	ld	hl,_index1
2395  09AE  7E          	ld	a, (hl)
2396  09AF  D6 A0       	sub	a,0xa0
2397  09B1  23          	inc	hl
2398  09B2  7E          	ld	a, (hl)
2399  09B3  DE 00       	sbc	a,0x00
2400  09B5  30 37       	jr	NC,l_spr_draw_background_00106
2401  09B7  2B          	dec	hl
2402  09B8  7E          	ld	a, (hl)
2403  09B9  E6 0F       	and	a,0x0f
2404  09BB  20 0C       	jr	NZ,l_spr_draw_background_00102
2405  09BD  21 00 00    	ld	hl,_s_lin1
2406  09C0  7E          	ld	a, (hl)
2407  09C1  C6 10       	add	a,0x10
2408  09C3  77          	ld	(hl), a
2409  09C4  21 00 00    	ld	hl,_s_col1
2410  09C7  36 00       	ld	(hl),0x00
2411  09C9              l_spr_draw_background_00102:
2412  09C9  01 00 00    	ld	bc,_scr_map
2413  09CC  2A 00 00    	ld	hl,(_index1)
2414  09CF  09          	add	hl,bc
2415  09D0  46          	ld	b, (hl)
2416  09D1  3A 00 00    	ld	a,(_s_col1)
2417  09D4  F5          	push	af
2418  09D5  33          	inc	sp
2419  09D6  3A 00 00    	ld	a,(_s_lin1)
2420  09D9  48          	ld	c,b
2421  09DA  47          	ld	b,a
2422  09DB  C5          	push	bc
2423  09DC  CD 00 00    	call	_NIRVANAP_drawT_callee
2424  09DF  21 00 00    	ld	hl,_s_col1
2425  09E2  34          	inc	(hl)
2426  09E3  34          	inc	(hl)
2427  09E4  21 00 00    	ld	hl,_index1
2428  09E7  34          	inc	(hl)
2429  09E8  20 C1       	jr	NZ,l_spr_draw_background_00103
2430  09EA  23          	inc	hl
2431  09EB  34          	inc	(hl)
2432  09EC  18 BD       	jr	l_spr_draw_background_00103
2433  09EE              l_spr_draw_background_00106:
2434  09EE  C9          	ret
2435  09EF              	SECTION code_compiler
2436  09EF              ;	---------------------------------
2437  09EF              ; Function spr_draw_clear
2438  09EF              ; ---------------------------------
2439  09EF              _spr_draw_clear:
2440  09EF  F3          	di
2441  09F0  2E 00       	ld	l,0x00
2442  09F2  CD 00 00    	call	_zx_cls_fastcall
2443  09F5  21 00 00    	ld	hl,_s_lin1
2444  09F8  36 10       	ld	(hl),0x10
2445  09FA              l_spr_draw_clear_00105:
2446  09FA  21 00 00    	ld	hl,_s_col1
2447  09FD  36 00       	ld	(hl),0x00
2448  09FF              l_spr_draw_clear_00103:
2449  09FF  2A FF FF    	ld	hl,(_s_col1 - 1)
2450  0A02  3A 00 00    	ld	a,(_s_lin1)
2451  0A05  6F          	ld	l,a
2452  0A06  E5          	push	hl
2453  0A07  AF          	xor	a, a
2454  0A08  F5          	push	af
2455  0A09  33          	inc	sp
2456  0A0A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2457  0A0D  21 00 00    	ld	hl,_s_col1
2458  0A10  7E          	ld	a,(hl)
2459  0A11  C6 02       	add	a,0x02
2460  0A13  77          	ld	(hl),a
2461  0A14  D6 20       	sub	a,0x20
2462  0A16  38 E7       	jr	C,l_spr_draw_clear_00103
2463  0A18  21 00 00    	ld	hl,_s_lin1
2464  0A1B  7E          	ld	a, (hl)
2465  0A1C  C6 10       	add	a,0x10
2466  0A1E  77          	ld	(hl), a
2467  0A1F  3E A2       	ld	a,0xa2
2468  0A21  96          	sub	a, (hl)
2469  0A22  30 D6       	jr	NC,l_spr_draw_clear_00105
2470  0A24  FB          	ei
2471  0A25  C9          	ret
2472  0A26              	SECTION code_compiler
2473  0A26              ;	---------------------------------
2474  0A26              ; Function spr_back_paint
2475  0A26              ; ---------------------------------
2476  0A26              _spr_back_paint:
2477  0A26  CD 00 00    	call	___sdcc_enter_ix
2478  0A29  76          	halt
2479  0A2A  F3          	di
2480  0A2B  DD 7E 04    	ld	a,(ix+4)
2481  0A2E  C6 40       	add	a,0x40
2482  0A30  4F          	ld	c, a
2483  0A31  DD 7E 05    	ld	a,(ix+5)
2484  0A34  CE 00       	adc	a,0x00
2485  0A36  47          	ld	b, a
2486  0A37  C5          	push	bc
2487  0A38  CD 22 0B    	call	_spr_draw_index
2488  0A3B  F1          	pop	af
2489  0A3C  DD 7E 04    	ld	a,(ix+4)
2490  0A3F  C6 42       	add	a,0x42
2491  0A41  4F          	ld	c, a
2492  0A42  DD 7E 05    	ld	a,(ix+5)
2493  0A45  CE 00       	adc	a,0x00
2494  0A47  47          	ld	b, a
2495  0A48  C5          	push	bc
2496  0A49  CD 22 0B    	call	_spr_draw_index
2497  0A4C  F1          	pop	af
2498  0A4D  DD 7E 04    	ld	a,(ix+4)
2499  0A50  C6 44       	add	a,0x44
2500  0A52  4F          	ld	c, a
2501  0A53  DD 7E 05    	ld	a,(ix+5)
2502  0A56  CE 00       	adc	a,0x00
2503  0A58  47          	ld	b, a
2504  0A59  C5          	push	bc
2505  0A5A  CD 22 0B    	call	_spr_draw_index
2506  0A5D  F1          	pop	af
2507  0A5E  DD 7E 04    	ld	a,(ix+4)
2508  0A61  C6 80       	add	a,0x80
2509  0A63  4F          	ld	c, a
2510  0A64  DD 7E 05    	ld	a,(ix+5)
2511  0A67  CE 00       	adc	a,0x00
2512  0A69  47          	ld	b, a
2513  0A6A  C5          	push	bc
2514  0A6B  CD 22 0B    	call	_spr_draw_index
2515  0A6E  F1          	pop	af
2516  0A6F  DD 7E 04    	ld	a,(ix+4)
2517  0A72  C6 82       	add	a,0x82
2518  0A74  4F          	ld	c, a
2519  0A75  DD 7E 05    	ld	a,(ix+5)
2520  0A78  CE 00       	adc	a,0x00
2521  0A7A  47          	ld	b, a
2522  0A7B  C5          	push	bc
2523  0A7C  CD 22 0B    	call	_spr_draw_index
2524  0A7F  F1          	pop	af
2525  0A80  DD 7E 04    	ld	a,(ix+4)
2526  0A83  C6 84       	add	a,0x84
2527  0A85  4F          	ld	c, a
2528  0A86  DD 7E 05    	ld	a,(ix+5)
2529  0A89  CE 00       	adc	a,0x00
2530  0A8B  47          	ld	b, a
2531  0A8C  C5          	push	bc
2532  0A8D  CD 22 0B    	call	_spr_draw_index
2533  0A90  F1          	pop	af
2534  0A91  FB          	ei
2535  0A92  DD E1       	pop	ix
2536  0A94  C9          	ret
2537  0A95              	SECTION code_compiler
2538  0A95              ;	---------------------------------
2539  0A95              ; Function spr_brick_anim
2540  0A95              ; ---------------------------------
2541  0A95              _spr_brick_anim:
2542  0A95  CD 00 00    	call	___sdcc_enter_ix
2543  0A98  F5          	push	af
2544  0A99  DD 75 FF    	ld	(ix-1),l
2545  0A9C  21 00 00    	ld	hl,_player_hit_col
2546  0A9F  56          	ld	d, (hl)
2547  0AA0  21 00 00    	ld	hl,_player_hit_lin
2548  0AA3  5E          	ld	e, (hl)
2549  0AA4  D5          	push	de
2550  0AA5  D5          	push	de
2551  0AA6  CD 00 00    	call	_spr_calc_index
2552  0AA9  F1          	pop	af
2553  0AAA  D1          	pop	de
2554  0AAB  22 00 00    	ld	(_index1),hl
2555  0AAE  01 F0 FF    	ld	bc,0xfff0
2556  0AB1  09          	add	hl,bc
2557  0AB2  01 00 00    	ld	bc,_scr_map
2558  0AB5  09          	add	hl,bc
2559  0AB6  7E          	ld	a, (hl)
2560  0AB7  DD 77 FE    	ld	(ix-2),a
2561  0ABA  01 00 00    	ld	bc,_scr_map
2562  0ABD  2A 00 00    	ld	hl,(_index1)
2563  0AC0  09          	add	hl,bc
2564  0AC1  4D          	ld	c,l
2565  0AC2  46          	ld	b, (hl)
2566  0AC3  DD 7E FF    	ld	a,(ix-1)
2567  0AC6  B7          	or	a, a
2568  0AC7  28 08       	jr	Z,l_spr_brick_anim_00102
2569  0AC9  7B          	ld	a, e
2570  0ACA  C6 F6       	add	a,0xf6
2571  0ACC  32 00 00    	ld	(_tmp),a
2572  0ACF  18 06       	jr	l_spr_brick_anim_00103
2573  0AD1              l_spr_brick_anim_00102:
2574  0AD1  7B          	ld	a, e
2575  0AD2  C6 F8       	add	a,0xf8
2576  0AD4  32 00 00    	ld	(_tmp),a
2577  0AD7              l_spr_brick_anim_00103:
2578  0AD7  DD 7E FF    	ld	a,(ix-1)
2579  0ADA  B7          	or	a, a
2580  0ADB  28 23       	jr	Z,l_spr_brick_anim_00105
2581  0ADD  D5          	push	de
2582  0ADE  D5          	push	de
2583  0ADF  33          	inc	sp
2584  0AE0  53          	ld	d, e
2585  0AE1  1E 49       	ld	e,0x49
2586  0AE3  D5          	push	de
2587  0AE4  CD 00 00    	call	_NIRVANAP_fillC_callee
2588  0AE7  D1          	pop	de
2589  0AE8  62          	ld	h, d
2590  0AE9  24          	inc	h
2591  0AEA  D5          	push	de
2592  0AEB  E5          	push	hl
2593  0AEC  33          	inc	sp
2594  0AED  53          	ld	d, e
2595  0AEE  1E 49       	ld	e,0x49
2596  0AF0  D5          	push	de
2597  0AF1  CD 00 00    	call	_NIRVANAP_fillC_callee
2598  0AF4  33          	inc	sp
2599  0AF5  3A 00 00    	ld	a,(_tmp)
2600  0AF8  48          	ld	c,b
2601  0AF9  47          	ld	b,a
2602  0AFA  C5          	push	bc
2603  0AFB  CD 00 00    	call	_NIRVANAP_drawT_callee
2604  0AFE  18 1E       	jr	l_spr_brick_anim_00107
2605  0B00              l_spr_brick_anim_00105:
2606  0B00  3A 00 00    	ld	a,(_tmp)
2607  0B03  C6 F0       	add	a,0xf0
2608  0B05  C5          	push	bc
2609  0B06  D5          	push	de
2610  0B07  5F          	ld	e,a
2611  0B08  D5          	push	de
2612  0B09  DD 7E FE    	ld	a,(ix-2)
2613  0B0C  F5          	push	af
2614  0B0D  33          	inc	sp
2615  0B0E  CD 00 00    	call	_NIRVANAP_drawT_callee
2616  0B11  D1          	pop	de
2617  0B12  C1          	pop	bc
2618  0B13  D5          	push	de
2619  0B14  33          	inc	sp
2620  0B15  3A 00 00    	ld	a,(_tmp)
2621  0B18  48          	ld	c,b
2622  0B19  47          	ld	b,a
2623  0B1A  C5          	push	bc
2624  0B1B  CD 00 00    	call	_NIRVANAP_drawT_callee
2625  0B1E              l_spr_brick_anim_00107:
2626  0B1E  F1          	pop	af
2627  0B1F  DD E1       	pop	ix
2628  0B21  C9          	ret
2629  0B22              	SECTION code_compiler
2630  0B22              ;	---------------------------------
2631  0B22              ; Function spr_draw_index
2632  0B22              ; ---------------------------------
2633  0B22              _spr_draw_index:
2634  0B22  CD 00 00    	call	___sdcc_enter_ix
2635  0B25  DD 7E 04    	ld	a,(ix+4)
2636  0B28  E6 1F       	and	a,0x1f
2637  0B2A  32 00 00    	ld	(_s_col1),a
2638  0B2D  DD 4E 04    	ld	c,(ix+4)
2639  0B30  DD 5E 05    	ld	e,(ix+5)
2640  0B33  06 05       	ld	b,0x05
2641  0B35  79          	ld	a,c
2642  0B36              l_spr_draw_index_00103:
2643  0B36  CB 3B       	srl	e
2644  0B38  1F          	rra
2645  0B39  10 FB       	djnz	l_spr_draw_index_00103
2646  0B3B  21 00 00    	ld	hl,_s_lin1
2647  0B3E  77          	ld	(hl),a
2648  0B3F  07          	rlca
2649  0B40  07          	rlca
2650  0B41  07          	rlca
2651  0B42  E6 F8       	and	a,0xf8
2652  0B44  77          	ld	(hl), a
2653  0B45  3E 00       	ld	a, +((_scr_map) & 0xFF)
2654  0B47  DD 86 04    	add	a,(ix+4)
2655  0B4A  4F          	ld	c, a
2656  0B4B  3E 00       	ld	a, +((_scr_map) / 256)
2657  0B4D  DD 8E 05    	adc	a,(ix+5)
2658  0B50  47          	ld	b, a
2659  0B51  0A          	ld	a, (bc)
2660  0B52  47          	ld	b, a
2661  0B53  3A 00 00    	ld	a,(_s_col1)
2662  0B56  F5          	push	af
2663  0B57  33          	inc	sp
2664  0B58  3A 00 00    	ld	a,(_s_lin1)
2665  0B5B  48          	ld	c,b
2666  0B5C  47          	ld	b,a
2667  0B5D  C5          	push	bc
2668  0B5E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2669  0B61  DD E1       	pop	ix
2670  0B63  C9          	ret
2671  0B64              	SECTION code_compiler
2672  0B64              ;	---------------------------------
2673  0B64              ; Function spr_draw_row
2674  0B64              ; ---------------------------------
2675  0B64              _spr_draw_row:
2676  0B64  CD 00 00    	call	___sdcc_enter_ix
2677  0B67  3B          	dec	sp
2678  0B68  F3          	di
2679  0B69  21 00 00    	ld	hl,_tmp
2680  0B6C  36 00       	ld	(hl),0x00
2681  0B6E  DD 7E 04    	ld	a,(ix+4)
2682  0B71  07          	rlca
2683  0B72  07          	rlca
2684  0B73  07          	rlca
2685  0B74  E6 F8       	and	a,0xf8
2686  0B76  DD 77 FF    	ld	(ix-1),a
2687  0B79              l_spr_draw_row_00101:
2688  0B79  21 00 00    	ld	hl,_tmp
2689  0B7C  7E          	ld	a, (hl)
2690  0B7D  D6 20       	sub	a,0x20
2691  0B7F  30 38       	jr	NC,l_spr_draw_row_00103
2692  0B81  DD 4E 04    	ld	c,(ix+4)
2693  0B84  3E 00       	ld	a,0x00
2694  0B86  CB 21       	sla	c
2695  0B88  17          	rla
2696  0B89  CB 21       	sla	c
2697  0B8B  17          	rla
2698  0B8C  CB 21       	sla	c
2699  0B8E  17          	rla
2700  0B8F  CB 21       	sla	c
2701  0B91  17          	rla
2702  0B92  CB 21       	sla	c
2703  0B94  17          	rla
2704  0B95  47          	ld	b,a
2705  0B96  5E          	ld	e, (hl)
2706  0B97  16 00       	ld	d,0x00
2707  0B99  79          	ld	a, c
2708  0B9A  83          	add	a, e
2709  0B9B  21 00 00    	ld	hl,_index1
2710  0B9E  77          	ld	(hl), a
2711  0B9F  78          	ld	a, b
2712  0BA0  8A          	adc	a, d
2713  0BA1  23          	inc	hl
2714  0BA2  77          	ld	(hl), a
2715  0BA3  2A FF FF    	ld	hl,(_tmp-1)
2716  0BA6  DD 6E FF    	ld	l,(ix-1)
2717  0BA9  3A 00 00    	ld	a,(_game_brick_tile)
2718  0BAC  E5          	push	hl
2719  0BAD  F5          	push	af
2720  0BAE  33          	inc	sp
2721  0BAF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2722  0BB2  21 00 00    	ld	hl,_tmp
2723  0BB5  34          	inc	(hl)
2724  0BB6  34          	inc	(hl)
2725  0BB7  18 C0       	jr	l_spr_draw_row_00101
2726  0BB9              l_spr_draw_row_00103:
2727  0BB9  FB          	ei
2728  0BBA  33          	inc	sp
2729  0BBB  DD E1       	pop	ix
2730  0BBD  C9          	ret
2731  0BBE              	SECTION code_compiler
2732  0BBE              ;	---------------------------------
2733  0BBE              ; Function spr_calc_hor
2734  0BBE              ; ---------------------------------
2735  0BBE              _spr_calc_hor:
2736  0BBE  CD 00 00    	call	___sdcc_enter_ix
2737  0BC1  3E 00       	ld	a, +((_class) & 0xFF)
2738  0BC3  DD 86 04    	add	a,(ix+4)
2739  0BC6  4F          	ld	c, a
2740  0BC7  3E 00       	ld	a, +((_class) / 256)
2741  0BC9  CE 00       	adc	a,0x00
2742  0BCB  47          	ld	b, a
2743  0BCC  0A          	ld	a, (bc)
2744  0BCD  D6 0C       	sub	a,0x0c
2745  0BCF  28 20       	jr	Z,l_spr_calc_hor_00102
2746  0BD1  3E 00       	ld	a, +((_col) & 0xFF)
2747  0BD3  DD 86 04    	add	a,(ix+4)
2748  0BD6  4F          	ld	c, a
2749  0BD7  3E 00       	ld	a, +((_col) / 256)
2750  0BD9  CE 00       	adc	a,0x00
2751  0BDB  47          	ld	b, a
2752  0BDC  0A          	ld	a, (bc)
2753  0BDD  4F          	ld	c, a
2754  0BDE  87          	add	a, a
2755  0BDF  81          	add	a, c
2756  0BE0  4F          	ld	c, a
2757  0BE1  3E 00       	ld	a, +((_colint) & 0xFF)
2758  0BE3  DD 86 04    	add	a,(ix+4)
2759  0BE6  5F          	ld	e, a
2760  0BE7  3E 00       	ld	a, +((_colint) / 256)
2761  0BE9  CE 00       	adc	a,0x00
2762  0BEB  57          	ld	d, a
2763  0BEC  1A          	ld	a, (de)
2764  0BED  6F          	ld	l, a
2765  0BEE  09          	add	hl, bc
2766  0BEF  18 10       	jr	l_spr_calc_hor_00104
2767  0BF1              l_spr_calc_hor_00102:
2768  0BF1  3E 00       	ld	a, +((_col) & 0xFF)
2769  0BF3  DD 86 04    	add	a,(ix+4)
2770  0BF6  4F          	ld	c, a
2771  0BF7  3E 00       	ld	a, +((_col) / 256)
2772  0BF9  CE 00       	adc	a,0x00
2773  0BFB  47          	ld	b, a
2774  0BFC  0A          	ld	a, (bc)
2775  0BFD  4F          	ld	c, a
2776  0BFE  69          	ld	l, c
2777  0BFF  29          	add	hl, hl
2778  0C00  09          	add	hl, bc
2779  0C01              l_spr_calc_hor_00104:
2780  0C01  DD E1       	pop	ix
2781  0C03  C9          	ret
2782  0C04              	SECTION code_compiler
2783  0C04              ;	---------------------------------
2784  0C04              ; Function spr_collision_check
2785  0C04              ; ---------------------------------
2786  0C04              _spr_collision_check:
2787  0C04  CD 00 00    	call	___sdcc_enter_ix
2788  0C07  3E 00       	ld	a, +((_class) & 0xFF)
2789  0C09  DD 86 05    	add	a,(ix+5)
2790  0C0C  4F          	ld	c, a
2791  0C0D  3E 00       	ld	a, +((_class) / 256)
2792  0C0F  CE 00       	adc	a,0x00
2793  0C11  47          	ld	b, a
2794  0C12  0A          	ld	a, (bc)
2795  0C13  B7          	or	a, a
2796  0C14  28 10       	jr	Z,l_spr_collision_check_00101
2797  0C16  3E 00       	ld	a, +((_state) & 0xFF)
2798  0C18  DD 86 05    	add	a,(ix+5)
2799  0C1B  4F          	ld	c, a
2800  0C1C  3E 00       	ld	a, +((_state) / 256)
2801  0C1E  CE 00       	adc	a,0x00
2802  0C20  47          	ld	b, a
2803  0C21  0A          	ld	a, (bc)
2804  0C22  CB 6F       	bit	5, a
2805  0C24  28 04       	jr	Z,l_spr_collision_check_00102
2806  0C26              l_spr_collision_check_00101:
2807  0C26  2E 00       	ld	l,0x00
2808  0C28  18 6D       	jr	l_spr_collision_check_00109
2809  0C2A              l_spr_collision_check_00102:
2810  0C2A  01 00 00    	ld	bc,_lin+0
2811  0C2D  79          	ld	a, c
2812  0C2E  DD 86 05    	add	a,(ix+5)
2813  0C31  5F          	ld	e, a
2814  0C32  78          	ld	a, b
2815  0C33  CE 00       	adc	a,0x00
2816  0C35  57          	ld	d, a
2817  0C36  1A          	ld	a, (de)
2818  0C37  5F          	ld	e, a
2819  0C38  16 00       	ld	d,0x00
2820  0C3A  79          	ld	a, c
2821  0C3B  DD 86 04    	add	a,(ix+4)
2822  0C3E  4F          	ld	c, a
2823  0C3F  78          	ld	a, b
2824  0C40  CE 00       	adc	a,0x00
2825  0C42  47          	ld	b, a
2826  0C43  0A          	ld	a, (bc)
2827  0C44  4F          	ld	c, a
2828  0C45  AF          	xor	a,a
2829  0C46  47          	ld	b,a
2830  0C47  EB          	ex	de,hl
2831  0C48  ED 42       	sbc	hl,bc
2832  0C4A  CD 00 00    	call	_abs_fastcall
2833  0C4D  22 00 00    	ld	(_tmp_ui),hl
2834  0C50  21 01 00    	ld	hl,_tmp_ui + 1
2835  0C53  DD 7E 06    	ld	a,(ix+6)
2836  0C56  06 00       	ld	b,0x00
2837  0C58  2B          	dec	hl
2838  0C59  96          	sub	a, (hl)
2839  0C5A  78          	ld	a, b
2840  0C5B  23          	inc	hl
2841  0C5C  9E          	sbc	a, (hl)
2842  0C5D  30 04       	jr	NC,l_spr_collision_check_00105
2843  0C5F  2E 00       	ld	l,0x00
2844  0C61  18 34       	jr	l_spr_collision_check_00109
2845  0C63              l_spr_collision_check_00105:
2846  0C63  DD 7E 04    	ld	a,(ix+4)
2847  0C66  F5          	push	af
2848  0C67  33          	inc	sp
2849  0C68  CD BE 0B    	call	_spr_calc_hor
2850  0C6B  33          	inc	sp
2851  0C6C  4D          	ld	c, l
2852  0C6D  C5          	push	bc
2853  0C6E  DD 7E 05    	ld	a,(ix+5)
2854  0C71  F5          	push	af
2855  0C72  33          	inc	sp
2856  0C73  CD BE 0B    	call	_spr_calc_hor
2857  0C76  33          	inc	sp
2858  0C77  C1          	pop	bc
2859  0C78  5D          	ld	e,l
2860  0C79  69          	ld	l, c
2861  0C7A  AF          	xor	a,a
2862  0C7B  67          	ld	h,a
2863  0C7C  57          	ld	d,a
2864  0C7D  ED 52       	sbc	hl,de
2865  0C7F  CD 00 00    	call	_abs_fastcall
2866  0C82  22 00 00    	ld	(_tmp_ui),hl
2867  0C85  3E 03       	ld	a,0x03
2868  0C87  21 00 00    	ld	hl,_tmp_ui
2869  0C8A  BE          	cp	a, (hl)
2870  0C8B  3E 00       	ld	a,0x00
2871  0C8D  23          	inc	hl
2872  0C8E  9E          	sbc	a, (hl)
2873  0C8F  30 04       	jr	NC,l_spr_collision_check_00107
2874  0C91  2E 00       	ld	l,0x00
2875  0C93  18 02       	jr	l_spr_collision_check_00109
2876  0C95              l_spr_collision_check_00107:
2877  0C95  2E 01       	ld	l,0x01
2878  0C97              l_spr_collision_check_00109:
2879  0C97  DD E1       	pop	ix
2880  0C99  C9          	ret
2881  0C9A              	SECTION code_compiler
2882  0C9A              ;	---------------------------------
2883  0C9A              ; Function spr_kill_all
2884  0C9A              ; ---------------------------------
2885  0C9A              _spr_kill_all:
2886  0C9A  21 00 00    	ld	hl,_sprite
2887  0C9D  36 00       	ld	(hl),0x00
2888  0C9F              l_spr_kill_all_00102:
2889  0C9F  2A 00 00    	ld	hl,(_sprite)
2890  0CA2  CD F4 07    	call	_spr_destroy
2891  0CA5  21 00 00    	ld	hl,_sprite
2892  0CA8  7E          	ld	a,(hl)
2893  0CA9  3C          	inc	a
2894  0CAA  77          	ld	(hl),a
2895  0CAB  D6 08       	sub	a,0x08
2896  0CAD  38 F0       	jr	C,l_spr_kill_all_00102
2897  0CAF  C9          	ret
2898  0CB0              	SECTION code_compiler
2899  0CB0              ;	---------------------------------
2900  0CB0              ; Function spr_back_clr
2901  0CB0              ; ---------------------------------
2902  0CB0              _spr_back_clr:
2903  0CB0  2A FF FF    	ld	hl,(_s_col0 - 1)
2904  0CB3  3A 00 00    	ld	a,(_s_lin0)
2905  0CB6  6F          	ld	l,a
2906  0CB7  E5          	push	hl
2907  0CB8  CD 00 00    	call	_spr_calc_index
2908  0CBB  F1          	pop	af
2909  0CBC  7D          	ld	a,l
2910  0CBD  32 00 00    	ld	(_sprite_curr_index),a
2911  0CC0  21 00 00    	ld	hl,_s_lin0
2912  0CC3  7E          	ld	a, (hl)
2913  0CC4  E6 0F       	and	a,0x0f
2914  0CC6  4F          	ld	c, a
2915  0CC7  7E          	ld	a, (hl)
2916  0CC8  07          	rlca
2917  0CC9  07          	rlca
2918  0CCA  07          	rlca
2919  0CCB  07          	rlca
2920  0CCC  E6 0F       	and	a,0x0f
2921  0CCE  47          	ld	b, a
2922  0CCF  21 00 00    	ld	hl,_s_col0
2923  0CD2  CB 46       	bit	0, (hl)
2924  0CD4  20 6F       	jr	NZ,l_spr_back_clr_00108
2925  0CD6  79          	ld	a, c
2926  0CD7  B7          	or	a, a
2927  0CD8  20 20       	jr	NZ,l_spr_back_clr_00102
2928  0CDA  2A 00 00    	ld	hl,(_sprite_curr_index)
2929  0CDD  26 00       	ld	h,0x00
2930  0CDF  01 00 00    	ld	bc,_scr_map
2931  0CE2  09          	add	hl,bc
2932  0CE3  46          	ld	b,(hl)
2933  0CE4  3A 00 00    	ld	a,(_s_col0)
2934  0CE7  F5          	push	af
2935  0CE8  33          	inc	sp
2936  0CE9  3A 00 00    	ld	a,(_s_lin0)
2937  0CEC  48          	ld	c,b
2938  0CED  47          	ld	b,a
2939  0CEE  C5          	push	bc
2940  0CEF  CD 1A 0E    	call	_spr_tile_paint
2941  0CF2  F1          	pop	af
2942  0CF3  33          	inc	sp
2943  0CF4  CD 00 00    	call	_player_pick_item
2944  0CF7  C3 19 0E    	jp	l_spr_back_clr_00110
2945  0CFA              l_spr_back_clr_00102:
2946  0CFA  78          	ld	a, b
2947  0CFB  07          	rlca
2948  0CFC  07          	rlca
2949  0CFD  07          	rlca
2950  0CFE  07          	rlca
2951  0CFF  E6 F0       	and	a,0xf0
2952  0D01  47          	ld	b, a
2953  0D02  2A 00 00    	ld	hl,(_sprite_curr_index)
2954  0D05  26 00       	ld	h,0x00
2955  0D07  11 00 00    	ld	de,_scr_map
2956  0D0A  19          	add	hl,de
2957  0D0B  56          	ld	d, (hl)
2958  0D0C  3A 00 00    	ld	a,(_s_col0)
2959  0D0F  C5          	push	bc
2960  0D10  F5          	push	af
2961  0D11  33          	inc	sp
2962  0D12  4A          	ld	c, d
2963  0D13  C5          	push	bc
2964  0D14  CD 1A 0E    	call	_spr_tile_paint
2965  0D17  F1          	pop	af
2966  0D18  33          	inc	sp
2967  0D19  CD 00 00    	call	_player_pick_item
2968  0D1C  C1          	pop	bc
2969  0D1D  78          	ld	a, b
2970  0D1E  C6 10       	add	a,0x10
2971  0D20  57          	ld	d, a
2972  0D21  21 00 00    	ld	hl,_sprite_curr_index
2973  0D24  7E          	ld	a, (hl)
2974  0D25  C6 10       	add	a,0x10
2975  0D27  77          	ld	(hl), a
2976  0D28  C6 00       	add	a,+((_scr_map) & 0xFF)
2977  0D2A  4F          	ld	c, a
2978  0D2B  3E 00       	ld	a, +((_scr_map) / 256)
2979  0D2D  CE 00       	adc	a,0x00
2980  0D2F  47          	ld	b, a
2981  0D30  0A          	ld	a, (bc)
2982  0D31  47          	ld	b, a
2983  0D32  3A 00 00    	ld	a,(_s_col0)
2984  0D35  5A          	ld	e,d
2985  0D36  57          	ld	d,a
2986  0D37  D5          	push	de
2987  0D38  C5          	push	bc
2988  0D39  33          	inc	sp
2989  0D3A  CD 1A 0E    	call	_spr_tile_paint
2990  0D3D  F1          	pop	af
2991  0D3E  33          	inc	sp
2992  0D3F  CD 00 00    	call	_player_pick_item
2993  0D42  C3 19 0E    	jp	l_spr_back_clr_00110
2994  0D45              l_spr_back_clr_00108:
2995  0D45  21 00 00    	ld	hl,_s_col0
2996  0D48  56          	ld	d, (hl)
2997  0D49  15          	dec	d
2998  0D4A  79          	ld	a, c
2999  0D4B  B7          	or	a, a
3000  0D4C  20 40       	jr	NZ,l_spr_back_clr_00105
3001  0D4E  2A 00 00    	ld	hl,(_sprite_curr_index)
3002  0D51  26 00       	ld	h,0x00
3003  0D53  01 00 00    	ld	bc,_scr_map
3004  0D56  09          	add	hl,bc
3005  0D57  46          	ld	b,(hl)
3006  0D58  D5          	push	de
3007  0D59  33          	inc	sp
3008  0D5A  3A 00 00    	ld	a,(_s_lin0)
3009  0D5D  48          	ld	c,b
3010  0D5E  47          	ld	b,a
3011  0D5F  C5          	push	bc
3012  0D60  CD 1A 0E    	call	_spr_tile_paint
3013  0D63  F1          	pop	af
3014  0D64  33          	inc	sp
3015  0D65  CD 00 00    	call	_player_pick_item
3016  0D68  21 00 00    	ld	hl,_sprite_curr_index
3017  0D6B  34          	inc	(hl)
3018  0D6C  21 00 00    	ld	hl,_s_col0
3019  0D6F  46          	ld	b, (hl)
3020  0D70  04          	inc	b
3021  0D71  2A 00 00    	ld	hl,(_sprite_curr_index)
3022  0D74  26 00       	ld	h,0x00
3023  0D76  11 00 00    	ld	de,_scr_map
3024  0D79  19          	add	hl,de
3025  0D7A  56          	ld	d, (hl)
3026  0D7B  C5          	push	bc
3027  0D7C  33          	inc	sp
3028  0D7D  3A 00 00    	ld	a,(_s_lin0)
3029  0D80  5A          	ld	e,d
3030  0D81  57          	ld	d,a
3031  0D82  D5          	push	de
3032  0D83  CD 1A 0E    	call	_spr_tile_paint
3033  0D86  F1          	pop	af
3034  0D87  33          	inc	sp
3035  0D88  CD 00 00    	call	_player_pick_item
3036  0D8B  C3 19 0E    	jp	l_spr_back_clr_00110
3037  0D8E              l_spr_back_clr_00105:
3038  0D8E  78          	ld	a, b
3039  0D8F  07          	rlca
3040  0D90  07          	rlca
3041  0D91  07          	rlca
3042  0D92  07          	rlca
3043  0D93  E6 F0       	and	a,0xf0
3044  0D95  47          	ld	b, a
3045  0D96  3A 00 00    	ld	a,(_sprite_curr_index)
3046  0D99  C6 00       	add	a,+((_scr_map) & 0xFF)
3047  0D9B  4F          	ld	c,a
3048  0D9C  3E 00       	ld	a,+((_scr_map) / 256)
3049  0D9E  CE 00       	adc	a,0x00
3050  0DA0  67          	ld	h, a
3051  0DA1  69          	ld	l, c
3052  0DA2  7E          	ld	a, (hl)
3053  0DA3  C5          	push	bc
3054  0DA4  58          	ld	e,b
3055  0DA5  D5          	push	de
3056  0DA6  F5          	push	af
3057  0DA7  33          	inc	sp
3058  0DA8  CD 1A 0E    	call	_spr_tile_paint
3059  0DAB  F1          	pop	af
3060  0DAC  33          	inc	sp
3061  0DAD  CD 00 00    	call	_player_pick_item
3062  0DB0  C1          	pop	bc
3063  0DB1  21 00 00    	ld	hl,_sprite_curr_index
3064  0DB4  34          	inc	(hl)
3065  0DB5  21 00 00    	ld	hl,_s_col0
3066  0DB8  4E          	ld	c, (hl)
3067  0DB9  0C          	inc	c
3068  0DBA  2A 00 00    	ld	hl,(_sprite_curr_index)
3069  0DBD  26 00       	ld	h,0x00
3070  0DBF  11 00 00    	ld	de,_scr_map
3071  0DC2  19          	add	hl,de
3072  0DC3  56          	ld	d, (hl)
3073  0DC4  C5          	push	bc
3074  0DC5  79          	ld	a, c
3075  0DC6  F5          	push	af
3076  0DC7  33          	inc	sp
3077  0DC8  4A          	ld	c, d
3078  0DC9  C5          	push	bc
3079  0DCA  CD 1A 0E    	call	_spr_tile_paint
3080  0DCD  F1          	pop	af
3081  0DCE  33          	inc	sp
3082  0DCF  CD 00 00    	call	_player_pick_item
3083  0DD2  C1          	pop	bc
3084  0DD3  78          	ld	a, b
3085  0DD4  C6 10       	add	a,0x10
3086  0DD6  4F          	ld	c, a
3087  0DD7  21 00 00    	ld	hl,_sprite_curr_index
3088  0DDA  7E          	ld	a, (hl)
3089  0DDB  C6 0F       	add	a,0x0f
3090  0DDD  77          	ld	(hl), a
3091  0DDE  21 00 00    	ld	hl,_s_col0
3092  0DE1  46          	ld	b, (hl)
3093  0DE2  05          	dec	b
3094  0DE3  2A 00 00    	ld	hl,(_sprite_curr_index)
3095  0DE6  26 00       	ld	h,0x00
3096  0DE8  11 00 00    	ld	de,_scr_map
3097  0DEB  19          	add	hl,de
3098  0DEC  66          	ld	h, (hl)
3099  0DED  EB          	ex	de,hl
3100  0DEE  C5          	push	bc
3101  0DEF  C5          	push	bc
3102  0DF0  D5          	push	de
3103  0DF1  33          	inc	sp
3104  0DF2  CD 1A 0E    	call	_spr_tile_paint
3105  0DF5  F1          	pop	af
3106  0DF6  33          	inc	sp
3107  0DF7  CD 00 00    	call	_player_pick_item
3108  0DFA  C1          	pop	bc
3109  0DFB  21 00 00    	ld	hl,_sprite_curr_index
3110  0DFE  34          	inc	(hl)
3111  0DFF  21 00 00    	ld	hl,_s_col0
3112  0E02  46          	ld	b, (hl)
3113  0E03  04          	inc	b
3114  0E04  2A 00 00    	ld	hl,(_sprite_curr_index)
3115  0E07  26 00       	ld	h,0x00
3116  0E09  11 00 00    	ld	de,_scr_map
3117  0E0C  19          	add	hl,de
3118  0E0D  66          	ld	h, (hl)
3119  0E0E  C5          	push	bc
3120  0E0F  E5          	push	hl
3121  0E10  33          	inc	sp
3122  0E11  CD 1A 0E    	call	_spr_tile_paint
3123  0E14  F1          	pop	af
3124  0E15  33          	inc	sp
3125  0E16  CD 00 00    	call	_player_pick_item
3126  0E19              l_spr_back_clr_00110:
3127  0E19  C9          	ret
3128  0E1A              	SECTION code_compiler
3129  0E1A              ;	---------------------------------
3130  0E1A              ; Function spr_tile_paint
3131  0E1A              ; ---------------------------------
3132  0E1A              _spr_tile_paint:
3133  0E1A  CD 00 00    	call	___sdcc_enter_ix
3134  0E1D  DD 7E 04    	ld	a,(ix+4)
3135  0E20  B7          	or	a, a
3136  0E21  20 3E       	jr	NZ,l_spr_tile_paint_00102
3137  0E23  DD 7E 06    	ld	a,(ix+6)
3138  0E26  F5          	push	af
3139  0E27  33          	inc	sp
3140  0E28  DD 56 05    	ld	d,(ix+5)
3141  0E2B  1E 49       	ld	e,0x49
3142  0E2D  D5          	push	de
3143  0E2E  CD 00 00    	call	_NIRVANAP_fillC_callee
3144  0E31  DD 7E 05    	ld	a,(ix+5)
3145  0E34  C6 08       	add	a,0x08
3146  0E36  47          	ld	b, a
3147  0E37  DD 7E 06    	ld	a,(ix+6)
3148  0E3A  F5          	push	af
3149  0E3B  33          	inc	sp
3150  0E3C  C5          	push	bc
3151  0E3D  33          	inc	sp
3152  0E3E  3E 49       	ld	a,0x49
3153  0E40  F5          	push	af
3154  0E41  33          	inc	sp
3155  0E42  CD 00 00    	call	_NIRVANAP_fillC_callee
3156  0E45  DD 56 06    	ld	d,(ix+6)
3157  0E48  14          	inc	d
3158  0E49  D5          	push	de
3159  0E4A  D5          	push	de
3160  0E4B  33          	inc	sp
3161  0E4C  DD 56 05    	ld	d,(ix+5)
3162  0E4F  1E 49       	ld	e,0x49
3163  0E51  D5          	push	de
3164  0E52  CD 00 00    	call	_NIRVANAP_fillC_callee
3165  0E55  33          	inc	sp
3166  0E56  C5          	push	bc
3167  0E57  33          	inc	sp
3168  0E58  3E 49       	ld	a,0x49
3169  0E5A  F5          	push	af
3170  0E5B  33          	inc	sp
3171  0E5C  CD 00 00    	call	_NIRVANAP_fillC_callee
3172  0E5F  18 0F       	jr	l_spr_tile_paint_00104
3173  0E61              l_spr_tile_paint_00102:
3174  0E61  DD 66 06    	ld	h,(ix+6)
3175  0E64  DD 6E 05    	ld	l,(ix+5)
3176  0E67  E5          	push	hl
3177  0E68  DD 7E 04    	ld	a,(ix+4)
3178  0E6B  F5          	push	af
3179  0E6C  33          	inc	sp
3180  0E6D  CD 00 00    	call	_NIRVANAP_drawT_callee
3181  0E70              l_spr_tile_paint_00104:
3182  0E70  DD E1       	pop	ix
3183  0E72  C9          	ret
3184  0E73              	SECTION IGNORE
3185  0000              
