1     0000              MODULE game_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _spr_init_anim
189   0000              	GLOBAL _spr_calc_index
190   0000              	GLOBAL _spr_check_map
191   0000              	GLOBAL _spr_check_map_fall
192   0000              	GLOBAL _spr_chktime
193   0000              	GLOBAL _spr_move_jump
194   0000              	GLOBAL _spr_move_up
195   0000              	GLOBAL _spr_move_down
196   0000              	GLOBAL _spr_move_horizontal
197   0000              	GLOBAL _spr_move_right
198   0000              	GLOBAL _spr_move_left
199   0000              	GLOBAL _spr_page_right
200   0000              	GLOBAL _spr_page_left
201   0000              	GLOBAL _spr_page_map
202   0000              	GLOBAL _spr_redraw
203   0000              	GLOBAL _spr_destroy
204   0000              	GLOBAL _spr_tile
205   0000              	GLOBAL _spr_tile_dir
206   0000              	GLOBAL _spr_draw_background
207   0000              	GLOBAL _spr_draw_clear
208   0000              	GLOBAL _spr_brick_anim
209   0000              	GLOBAL _spr_draw_index
210   0000              	GLOBAL _spr_draw_row
211   0000              	GLOBAL _spr_calc_hor
212   0000              	GLOBAL _spr_collision_check
213   0000              	GLOBAL _spr_kill_all
214   0000              	GLOBAL _spr_back_clr
215   0000              	GLOBAL _spr_tile_paint
216   0000              	GLOBAL _spr_add_anim
217   0000              	GLOBAL _spr_play_anim
218   0000              	GLOBAL _spr_turn_horizontal
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _debug3
371   0000              	GLOBAL _debug2
372   0000              	GLOBAL _debug
373   0000              	GLOBAL _zx_print_str
374   0000              	GLOBAL _zx_print_int
375   0000              	GLOBAL _zx_print_chr
376   0000              	GLOBAL _zx_print_bonus_time
377   0000              	GLOBAL _zx_isr
378   0000              	GLOBAL _z80_otdr_callee
379   0000              	GLOBAL _z80_otdr
380   0000              	GLOBAL _z80_otir_callee
381   0000              	GLOBAL _z80_otir
382   0000              	GLOBAL _z80_outp_callee
383   0000              	GLOBAL _z80_outp
384   0000              	GLOBAL _z80_indr_callee
385   0000              	GLOBAL _z80_indr
386   0000              	GLOBAL _z80_inir_callee
387   0000              	GLOBAL _z80_inir
388   0000              	GLOBAL _z80_inp_fastcall
389   0000              	GLOBAL _z80_inp
390   0000              	GLOBAL _z80_set_int_state_fastcall
391   0000              	GLOBAL _z80_set_int_state
392   0000              	GLOBAL _z80_get_int_state
393   0000              	GLOBAL _z80_delay_tstate_fastcall
394   0000              	GLOBAL _z80_delay_tstate
395   0000              	GLOBAL _z80_delay_ms_fastcall
396   0000              	GLOBAL _z80_delay_ms
397   0000              	GLOBAL _im2_remove_generic_callback_callee
398   0000              	GLOBAL _im2_remove_generic_callback
399   0000              	GLOBAL _im2_prepend_generic_callback_callee
400   0000              	GLOBAL _im2_prepend_generic_callback
401   0000              	GLOBAL _im2_append_generic_callback_callee
402   0000              	GLOBAL _im2_append_generic_callback
403   0000              	GLOBAL _im2_create_generic_isr_8080_callee
404   0000              	GLOBAL _im2_create_generic_isr_8080
405   0000              	GLOBAL _im2_create_generic_isr_callee
406   0000              	GLOBAL _im2_create_generic_isr
407   0000              	GLOBAL _im2_install_isr_callee
408   0000              	GLOBAL _im2_install_isr
409   0000              	GLOBAL _im2_init_fastcall
410   0000              	GLOBAL _im2_init
411   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_word_32
413   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_32
415   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
416   0000              	GLOBAL _intrinsic_swap_endian_16
417   0000              	GLOBAL _intrinsic_return_de
418   0000              	GLOBAL _intrinsic_return_bc
419   0000              	GLOBAL _intrinsic_exx
420   0000              	GLOBAL _intrinsic_ex_de_hl
421   0000              	GLOBAL _intrinsic_nop
422   0000              	GLOBAL _intrinsic_im_2
423   0000              	GLOBAL _intrinsic_im_1
424   0000              	GLOBAL _intrinsic_im_0
425   0000              	GLOBAL _intrinsic_retn
426   0000              	GLOBAL _intrinsic_reti
427   0000              	GLOBAL _intrinsic_halt
428   0000              	GLOBAL _intrinsic_ei
429   0000              	GLOBAL _intrinsic_di
430   0000              	GLOBAL _intrinsic_stub
431   0000              	GLOBAL _intrinsic_outi
432   0000              	GLOBAL _intrinsic_ldi
433   0000              	GLOBAL _zx_pattern_fill_callee
434   0000              	GLOBAL _zx_pattern_fill
435   0000              	GLOBAL _zx_saddrpup_fastcall
436   0000              	GLOBAL _zx_saddrpup
437   0000              	GLOBAL _zx_saddrpright_callee
438   0000              	GLOBAL _zx_saddrpright
439   0000              	GLOBAL _zx_saddrpleft_callee
440   0000              	GLOBAL _zx_saddrpleft
441   0000              	GLOBAL _zx_saddrpdown_fastcall
442   0000              	GLOBAL _zx_saddrpdown
443   0000              	GLOBAL _zx_saddrcup_fastcall
444   0000              	GLOBAL _zx_saddrcup
445   0000              	GLOBAL _zx_saddrcright_fastcall
446   0000              	GLOBAL _zx_saddrcright
447   0000              	GLOBAL _zx_saddrcleft_fastcall
448   0000              	GLOBAL _zx_saddrcleft
449   0000              	GLOBAL _zx_saddrcdown_fastcall
450   0000              	GLOBAL _zx_saddrcdown
451   0000              	GLOBAL _zx_saddr2py_fastcall
452   0000              	GLOBAL _zx_saddr2py
453   0000              	GLOBAL _zx_saddr2px_fastcall
454   0000              	GLOBAL _zx_saddr2px
455   0000              	GLOBAL _zx_saddr2cy_fastcall
456   0000              	GLOBAL _zx_saddr2cy
457   0000              	GLOBAL _zx_saddr2cx_fastcall
458   0000              	GLOBAL _zx_saddr2cx
459   0000              	GLOBAL _zx_saddr2aaddr_fastcall
460   0000              	GLOBAL _zx_saddr2aaddr
461   0000              	GLOBAL _zx_py2saddr_fastcall
462   0000              	GLOBAL _zx_py2saddr
463   0000              	GLOBAL _zx_py2aaddr_fastcall
464   0000              	GLOBAL _zx_py2aaddr
465   0000              	GLOBAL _zx_pxy2saddr_callee
466   0000              	GLOBAL _zx_pxy2saddr
467   0000              	GLOBAL _zx_pxy2aaddr_callee
468   0000              	GLOBAL _zx_pxy2aaddr
469   0000              	GLOBAL _zx_px2bitmask_fastcall
470   0000              	GLOBAL _zx_px2bitmask
471   0000              	GLOBAL _zx_cy2saddr_fastcall
472   0000              	GLOBAL _zx_cy2saddr
473   0000              	GLOBAL _zx_cy2aaddr_fastcall
474   0000              	GLOBAL _zx_cy2aaddr
475   0000              	GLOBAL _zx_cxy2saddr_callee
476   0000              	GLOBAL _zx_cxy2saddr
477   0000              	GLOBAL _zx_cxy2aaddr_callee
478   0000              	GLOBAL _zx_cxy2aaddr
479   0000              	GLOBAL _zx_bitmask2px_fastcall
480   0000              	GLOBAL _zx_bitmask2px
481   0000              	GLOBAL _zx_aaddrcup_fastcall
482   0000              	GLOBAL _zx_aaddrcup
483   0000              	GLOBAL _zx_aaddrcright_fastcall
484   0000              	GLOBAL _zx_aaddrcright
485   0000              	GLOBAL _zx_aaddrcleft_fastcall
486   0000              	GLOBAL _zx_aaddrcleft
487   0000              	GLOBAL _zx_aaddrcdown_fastcall
488   0000              	GLOBAL _zx_aaddrcdown
489   0000              	GLOBAL _zx_aaddr2saddr_fastcall
490   0000              	GLOBAL _zx_aaddr2saddr
491   0000              	GLOBAL _zx_aaddr2py_fastcall
492   0000              	GLOBAL _zx_aaddr2py
493   0000              	GLOBAL _zx_aaddr2px_fastcall
494   0000              	GLOBAL _zx_aaddr2px
495   0000              	GLOBAL _zx_aaddr2cy_fastcall
496   0000              	GLOBAL _zx_aaddr2cy
497   0000              	GLOBAL _zx_aaddr2cx_fastcall
498   0000              	GLOBAL _zx_aaddr2cx
499   0000              	GLOBAL _zx_visit_wc_pix_callee
500   0000              	GLOBAL _zx_visit_wc_pix
501   0000              	GLOBAL _zx_visit_wc_attr_callee
502   0000              	GLOBAL _zx_visit_wc_attr
503   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
504   0000              	GLOBAL _zx_scroll_wc_up_pix
505   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
506   0000              	GLOBAL _zx_scroll_wc_up_attr
507   0000              	GLOBAL _zx_scroll_wc_up_callee
508   0000              	GLOBAL _zx_scroll_wc_up
509   0000              	GLOBAL _zx_scroll_up_pix_callee
510   0000              	GLOBAL _zx_scroll_up_pix
511   0000              	GLOBAL _zx_scroll_up_attr_callee
512   0000              	GLOBAL _zx_scroll_up_attr
513   0000              	GLOBAL _zx_scroll_up_callee
514   0000              	GLOBAL _zx_scroll_up
515   0000              	GLOBAL _zx_cls_wc_pix_callee
516   0000              	GLOBAL _zx_cls_wc_pix
517   0000              	GLOBAL _zx_cls_wc_attr_callee
518   0000              	GLOBAL _zx_cls_wc_attr
519   0000              	GLOBAL _zx_cls_wc_callee
520   0000              	GLOBAL _zx_cls_wc
521   0000              	GLOBAL _zx_cls_pix_fastcall
522   0000              	GLOBAL _zx_cls_pix
523   0000              	GLOBAL _zx_cls_attr_fastcall
524   0000              	GLOBAL _zx_cls_attr
525   0000              	GLOBAL _zx_cls_fastcall
526   0000              	GLOBAL _zx_cls
527   0000              	GLOBAL _zx_border_fastcall
528   0000              	GLOBAL _zx_border
529   0000              	GLOBAL _spr_anim_kill
530   0000              	GLOBAL _sound_hit_brick
531   0000              	GLOBAL _sound_hit_enemy
532   0000              	GLOBAL _sound_kill
533   0000              	GLOBAL _sound_enter_enemy
534   0000              	GLOBAL _sound_coin
535   0000              	GLOBAL _sound_jump
536   0000              	GLOBAL _sound_slide
537   0000              	GLOBAL _player_pick_item
538   0000              	GLOBAL _player_check_floor
539   0000              	GLOBAL _player_hit_platform_clear
540   0000              	GLOBAL _player_lost_life
541   0000              	GLOBAL _player_score_add
542   0000              	GLOBAL _player_player_hit_pow
543   0000              	GLOBAL _player_hit_platform
544   0000              	GLOBAL _player_move_input
545   0000              	GLOBAL _player_turn
546   0000              	GLOBAL _player_move
547   0000              	GLOBAL _player_restart
548   0000              	GLOBAL _player_kill
549   0000              	GLOBAL _player_check_input
550   0000              	GLOBAL _player_collision
551   0000              	GLOBAL _player_init
552   0000              	GLOBAL _game_joystick_set_menu
553   0000              	GLOBAL _game_joystick_set
554   0000              	GLOBAL _game_joystick_change
555   0000              	GLOBAL _game_print_header
556   0000              	GLOBAL _game_end
557   0000              	GLOBAL _game_phase_print_score_back
558   0000              	GLOBAL _game_check_time
559   0000              	GLOBAL _game_rotate_attrib
560   0000              	GLOBAL _game_colour_message
561   0000              	GLOBAL _game_paint_attrib_lin_h
562   0000              	GLOBAL _game_paint_attrib_lin
563   0000              	GLOBAL _game_paint_attrib
564   0000              	GLOBAL _game_print_score
565   0000              	GLOBAL _game_unfreeze_all
566   0000              	GLOBAL _game_freeze_all
567   0000              	GLOBAL _game_freeze
568   0000              	GLOBAL _game_enemy_add_get_index
569   0000              	GLOBAL _game_check_maze_floor
570   0000              	GLOBAL _game_check_maze
571   0000              	GLOBAL _game_loop
572   0000              	GLOBAL _game_phase_init
573   0000              	GLOBAL _game_start_timer
574   0000              	GLOBAL _game_tick
575   0000              	GLOBAL _game_print_lives
576   0000              	GLOBAL _game_print_footer
577   0000              	GLOBAL _game_fill_row
578   0000              	GLOBAL _enemy_avoid_edge
579   0000              	GLOBAL _enemy_kill
580   0000              	GLOBAL _enemy_init
581   0000              	GLOBAL _enemy_walk
582   0000              	GLOBAL _enemy_move
583   0000              	GLOBAL _enemy_turn
584   0000              	GLOBAL _enemy_hit
585   0000              	GLOBAL _enemy_coin1
586   0000              	GLOBAL _ay_fx_play
587   0000              	GLOBAL _ay_midi_play
588   0000              	GLOBAL _ay_is_playing
589   0000              	GLOBAL _ay_reset
590   0000              	GLOBAL _test_func
591   0000              	GLOBAL _test_proc
592   0000              	GLOBAL _in_mouse_kempston_wheel_delta
593   0000              	GLOBAL _in_mouse_kempston_wheel
594   0000              	GLOBAL _in_mouse_kempston_callee
595   0000              	GLOBAL _in_mouse_kempston
596   0000              	GLOBAL _in_mouse_kempston_setpos_callee
597   0000              	GLOBAL _in_mouse_kempston_setpos
598   0000              	GLOBAL _in_mouse_kempston_reset
599   0000              	GLOBAL _in_mouse_kempston_init
600   0000              	GLOBAL _in_mouse_amx_wheel_delta
601   0000              	GLOBAL _in_mouse_amx_wheel
602   0000              	GLOBAL _in_mouse_amx_callee
603   0000              	GLOBAL _in_mouse_amx
604   0000              	GLOBAL _in_mouse_amx_setpos_callee
605   0000              	GLOBAL _in_mouse_amx_setpos
606   0000              	GLOBAL _in_mouse_amx_reset
607   0000              	GLOBAL _in_mouse_amx_init_callee
608   0000              	GLOBAL _in_mouse_amx_init
609   0000              	GLOBAL _in_stick_sinclair2
610   0000              	GLOBAL _in_stick_sinclair1
611   0000              	GLOBAL _in_stick_kempston
612   0000              	GLOBAL _in_stick_fuller
613   0000              	GLOBAL _in_stick_cursor
614   0000              	GLOBAL _in_stick_keyboard_fastcall
615   0000              	GLOBAL _in_stick_keyboard
616   0000              	GLOBAL _in_wait_nokey
617   0000              	GLOBAL _in_wait_key
618   0000              	GLOBAL _in_test_key
619   0000              	GLOBAL _in_pause_fastcall
620   0000              	GLOBAL _in_pause
621   0000              	GLOBAL _in_key_scancode_fastcall
622   0000              	GLOBAL _in_key_scancode
623   0000              	GLOBAL _in_key_pressed_fastcall
624   0000              	GLOBAL _in_key_pressed
625   0000              	GLOBAL _in_inkey
626   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
627   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
628   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
629   0000              	GLOBAL _NIRVANAP_HOLE
630   0000              	GLOBAL _NIRVANAP_ISR_HOOK
631   0000              	GLOBAL _g_player_hit_right
632   0000              	GLOBAL _g_player_hit_left
633   0000              	GLOBAL _joynames
634   0000              	GLOBAL _initials
635   0000              	GLOBAL _anim_end
636   0000              	GLOBAL _anim_int
637   0000              	GLOBAL _anim_tile
638   0000              	GLOBAL _anim_col
639   0000              	GLOBAL _anim_lin
640   0000              	GLOBAL _phase_angry
641   0000              	GLOBAL _phase_curr
642   0000              	GLOBAL _phase_end
643   0000              	GLOBAL _phase_coins
644   0000              	GLOBAL _phase_pop
645   0000              	GLOBAL _phase_tot
646   0000              	GLOBAL _map_heigth
647   0000              	GLOBAL _map_width
648   0000              	GLOBAL _scr_curr
649   0000              	GLOBAL _scr_7
650   0000              	GLOBAL _scr_6
651   0000              	GLOBAL _scr_5
652   0000              	GLOBAL _scr_4
653   0000              	GLOBAL _scr_3
654   0000              	GLOBAL _scr_2
655   0000              	GLOBAL _scr_1
656   0000              	GLOBAL _scr_0
657   0000              	GLOBAL _scr_map
658   0000              	GLOBAL _sprite_speed_alt
659   0000              	GLOBAL _sprite_frames
660   0000              	GLOBAL _sprite_speed
661   0000              	GLOBAL _screen_ink
662   0000              	GLOBAL _screen_paper
663   0000              	GLOBAL _game_menu_sel
664   0000              	GLOBAL _game_type
665   0000              	GLOBAL _game_score_top
666   0000              	GLOBAL _player_lives
667   0000              	GLOBAL _game_over
668   0000              	GLOBAL _game_sound
669   0000              	GLOBAL _game_inmune
670   0000              	GLOBAL _game_god_mode
671   0000              	GLOBAL _game_start_phase
672   0000              	GLOBAL _game_two_player
673   0000              	GLOBAL _game_brick_tile
674   0000              	GLOBAL _sprite_curr_index
675   0000              	GLOBAL _spr_count
676   0000              	GLOBAL _anim_time
677   0000              	GLOBAL _frame_time
678   0000              	GLOBAL _entry_time
679   0000              	GLOBAL _curr_time
680   0000              	GLOBAL _s_state
681   0000              	GLOBAL _attrib_hl
682   0000              	GLOBAL _attrib
683   0000              	GLOBAL _zx_val_asm
684   0000              	GLOBAL _enemies
685   0000              	GLOBAL _tmp_ui
686   0000              	GLOBAL _tmp_sc
687   0000              	GLOBAL _tmp_uc
688   0000              	GLOBAL _tmp1
689   0000              	GLOBAL _tmp0
690   0000              	GLOBAL _tmp
691   0000              	GLOBAL _index1
692   0000              	GLOBAL _loop_count
693   0000              	GLOBAL _sprite_lin_inc_mul
694   0000              	GLOBAL _s_col1
695   0000              	GLOBAL _s_col0
696   0000              	GLOBAL _s_lin1
697   0000              	GLOBAL _s_lin0
698   0000              	GLOBAL _s_tile1
699   0000              	GLOBAL _s_tile0
700   0000              	GLOBAL _player_hit_count
701   0000              	GLOBAL _sprite
702   0000              	GLOBAL _game_gravity
703   0000              	GLOBAL _player_vel_y0
704   0000              	GLOBAL _player_vel_y
705   0000              	GLOBAL _player_vel_x
706   0000              	GLOBAL _player_joy
707   0000              	GLOBAL _player_score
708   0000              	GLOBAL _last_time
709   0000              	GLOBAL _player_slide
710   0000              	GLOBAL _spr_timer
711   0000              	GLOBAL _jump_lin
712   0000              	GLOBAL _player_hit_col
713   0000              	GLOBAL _player_hit_lin
714   0000              	GLOBAL _colint
715   0000              	GLOBAL _col
716   0000              	GLOBAL _lin
717   0000              	GLOBAL _tile
718   0000              	GLOBAL _state_a
719   0000              	GLOBAL _state
720   0000              	GLOBAL _class
721   0000              	GLOBAL _tbuffer
722   0000              	GLOBAL _dirs
723   0000              	GLOBAL _k1
724   0000              	GLOBAL _joyfunc1
725   0000              	GLOBAL _btiles
726   0000              	GLOBAL _spec128
727   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
728   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
729   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
730   0000              	GLOBAL _ay_effect_20
731   0000              	GLOBAL _ay_effect_19
732   0000              	GLOBAL _ay_effect_18
733   0000              	GLOBAL _ay_effect_17
734   0000              	GLOBAL _ay_effect_16
735   0000              	GLOBAL _ay_effect_15
736   0000              	GLOBAL _ay_effect_14
737   0000              	GLOBAL _ay_effect_13
738   0000              	GLOBAL _ay_effect_12
739   0000              	GLOBAL _ay_effect_11
740   0000              	GLOBAL _ay_effect_10
741   0000              	GLOBAL _ay_effect_09
742   0000              	GLOBAL _ay_effect_08
743   0000              	GLOBAL _ay_effect_07
744   0000              	GLOBAL _ay_effect_06
745   0000              	GLOBAL _ay_effect_05
746   0000              	GLOBAL _ay_effect_04
747   0000              	GLOBAL _ay_effect_03
748   0000              	GLOBAL _ay_effect_02
749   0000              	GLOBAL _ay_effect_01
750   0000              	GLOBAL _pb_midi_phase_1
751   0000              	GLOBAL _pb_midi_title
752   0000              	GLOBAL _control_method
753   0000              ;--------------------------------------------------------
754   0000              ; special function registers
755   0000              ;--------------------------------------------------------
756   0000              defc _IO_FE	=	0x00fe
757   0000              defc _IO_1FFD	=	0x1ffd
758   0000              defc _IO_7FFD	=	0x7ffd
759   0000              ;--------------------------------------------------------
760   0000              ; ram data
761   0000              ;--------------------------------------------------------
762   0000              	SECTION bss_compiler
763   0000              ;--------------------------------------------------------
764   0000              ; ram data
765   0000              ;--------------------------------------------------------
766   0000              
767   0000              IF 0
768   0000              
769   0000              ; .area _INITIALIZED removed by z88dk
770   0000              
771   0000              
772   0000              ENDIF
773   0000              
774   0000              ;--------------------------------------------------------
775   0000              ; absolute external ram data
776   0000              ;--------------------------------------------------------
777   0000              	SECTION IGNORE
778   0000              ;--------------------------------------------------------
779   0000              ; global & static initialisations
780   0000              ;--------------------------------------------------------
781   0000              	SECTION code_crt_init
782   0000              ;--------------------------------------------------------
783   0000              ; Home
784   0000              ;--------------------------------------------------------
785   0000              	SECTION IGNORE
786   0000              ;--------------------------------------------------------
787   0000              ; code
788   0000              ;--------------------------------------------------------
789   0000              	SECTION code_compiler
790   0000              ;	---------------------------------
791   0000              ; Function spr_calc_index
792   0000              ; ---------------------------------
793   0000              _spr_calc_index:
794   0000  CD 00 00    	call	___sdcc_enter_ix
795   0003  DD 4E 05    	ld	c,(ix+5)
796   0006  CB 39       	srl	c
797   0008  06 00       	ld	b,0x00
798   000A  DD 7E 04    	ld	a,(ix+4)
799   000D  07          	rlca
800   000E  07          	rlca
801   000F  07          	rlca
802   0010  07          	rlca
803   0011  E6 0F       	and	a,0x0f
804   0013  6F          	ld	l, a
805   0014  26 00       	ld	h,0x00
806   0016  29          	add	hl, hl
807   0017  29          	add	hl, hl
808   0018  29          	add	hl, hl
809   0019  29          	add	hl, hl
810   001A  09          	add	hl, bc
811   001B  DD E1       	pop	ix
812   001D  C9          	ret
813   001E              	SECTION code_compiler
814   001E              ;	---------------------------------
815   001E              ; Function spr_check_map
816   001E              ; ---------------------------------
817   001E              _spr_check_map:
818   001E  CD 00 00    	call	___sdcc_enter_ix
819   0021  DD CB 05 46 	bit	0,(ix+5)
820   0025  20 15       	jr	NZ,l_spr_check_map_00106
821   0027  DD 66 05    	ld	h,(ix+5)
822   002A  DD 6E 04    	ld	l,(ix+4)
823   002D  E5          	push	hl
824   002E  CD 00 00    	call	_spr_calc_index
825   0031  F1          	pop	af
826   0032  22 00 00    	ld	(_index1),hl
827   0035  CD 00 00    	call	_game_check_maze
828   0038  26 00       	ld	h,0x00
829   003A  18 4B       	jr	l_spr_check_map_00108
830   003C              l_spr_check_map_00106:
831   003C  DD 46 05    	ld	b,(ix+5)
832   003F  05          	dec	b
833   0040  DD 4E 04    	ld	c,(ix+4)
834   0043  C5          	push	bc
835   0044  CD 00 00    	call	_spr_calc_index
836   0047  F1          	pop	af
837   0048  22 00 00    	ld	(_index1),hl
838   004B  21 00 00    	ld	hl,_g_player_hit_left
839   004E  36 00       	ld	(hl),0x00
840   0050  21 00 00    	ld	hl,_g_player_hit_right
841   0053  36 00       	ld	(hl),0x00
842   0055  2A 00 00    	ld	hl,(_index1)
843   0058  CD 00 00    	call	_game_check_maze
844   005B  7D          	ld	a, l
845   005C  B7          	or	a, a
846   005D  28 05       	jr	Z,l_spr_check_map_00102
847   005F  21 00 00    	ld	hl,_g_player_hit_left
848   0062  36 01       	ld	(hl),0x01
849   0064              l_spr_check_map_00102:
850   0064  2A 00 00    	ld	hl,(_index1)
851   0067  23          	inc	hl
852   0068  CD 00 00    	call	_game_check_maze
853   006B  7D          	ld	a, l
854   006C  B7          	or	a, a
855   006D  28 05       	jr	Z,l_spr_check_map_00104
856   006F  21 00 00    	ld	hl,_g_player_hit_right
857   0072  36 01       	ld	(hl),0x01
858   0074              l_spr_check_map_00104:
859   0074  3A 00 00    	ld	a,(_g_player_hit_left)
860   0077  B7          	or	a, a
861   0078  20 09       	jr	NZ,l_spr_check_map_00111
862   007A  3A 00 00    	ld	a,(_g_player_hit_right)
863   007D  B7          	or	a,a
864   007E  20 03       	jr	NZ,l_spr_check_map_00111
865   0080  6F          	ld	l,a
866   0081  18 02       	jr	l_spr_check_map_00112
867   0083              l_spr_check_map_00111:
868   0083  2E 01       	ld	l,0x01
869   0085              l_spr_check_map_00112:
870   0085  26 00       	ld	h,0x00
871   0087              l_spr_check_map_00108:
872   0087  DD E1       	pop	ix
873   0089  C9          	ret
874   008A              	SECTION code_compiler
875   008A              ;	---------------------------------
876   008A              ; Function spr_check_map_fall
877   008A              ; ---------------------------------
878   008A              _spr_check_map_fall:
879   008A  CD 00 00    	call	___sdcc_enter_ix
880   008D  DD CB 05 46 	bit	0,(ix+5)
881   0091  20 15       	jr	NZ,l_spr_check_map_fall_00106
882   0093  DD 66 05    	ld	h,(ix+5)
883   0096  DD 6E 04    	ld	l,(ix+4)
884   0099  E5          	push	hl
885   009A  CD 00 00    	call	_spr_calc_index
886   009D  F1          	pop	af
887   009E  22 00 00    	ld	(_index1),hl
888   00A1  CD 00 00    	call	_game_check_maze_floor
889   00A4  26 00       	ld	h,0x00
890   00A6  18 4B       	jr	l_spr_check_map_fall_00108
891   00A8              l_spr_check_map_fall_00106:
892   00A8  DD 46 05    	ld	b,(ix+5)
893   00AB  05          	dec	b
894   00AC  DD 4E 04    	ld	c,(ix+4)
895   00AF  C5          	push	bc
896   00B0  CD 00 00    	call	_spr_calc_index
897   00B3  F1          	pop	af
898   00B4  22 00 00    	ld	(_index1),hl
899   00B7  21 00 00    	ld	hl,_g_player_hit_left
900   00BA  36 00       	ld	(hl),0x00
901   00BC  21 00 00    	ld	hl,_g_player_hit_right
902   00BF  36 00       	ld	(hl),0x00
903   00C1  2A 00 00    	ld	hl,(_index1)
904   00C4  CD 00 00    	call	_game_check_maze_floor
905   00C7  7D          	ld	a, l
906   00C8  B7          	or	a, a
907   00C9  28 05       	jr	Z,l_spr_check_map_fall_00102
908   00CB  21 00 00    	ld	hl,_g_player_hit_left
909   00CE  36 01       	ld	(hl),0x01
910   00D0              l_spr_check_map_fall_00102:
911   00D0  2A 00 00    	ld	hl,(_index1)
912   00D3  23          	inc	hl
913   00D4  CD 00 00    	call	_game_check_maze_floor
914   00D7  7D          	ld	a, l
915   00D8  B7          	or	a, a
916   00D9  28 05       	jr	Z,l_spr_check_map_fall_00104
917   00DB  21 00 00    	ld	hl,_g_player_hit_right
918   00DE  36 01       	ld	(hl),0x01
919   00E0              l_spr_check_map_fall_00104:
920   00E0  3A 00 00    	ld	a,(_g_player_hit_left)
921   00E3  B7          	or	a, a
922   00E4  20 09       	jr	NZ,l_spr_check_map_fall_00111
923   00E6  3A 00 00    	ld	a,(_g_player_hit_right)
924   00E9  B7          	or	a,a
925   00EA  20 03       	jr	NZ,l_spr_check_map_fall_00111
926   00EC  6F          	ld	l,a
927   00ED  18 02       	jr	l_spr_check_map_fall_00112
928   00EF              l_spr_check_map_fall_00111:
929   00EF  2E 01       	ld	l,0x01
930   00F1              l_spr_check_map_fall_00112:
931   00F1  26 00       	ld	h,0x00
932   00F3              l_spr_check_map_fall_00108:
933   00F3  DD E1       	pop	ix
934   00F5  C9          	ret
935   00F6              	SECTION code_compiler
936   00F6              ;	---------------------------------
937   00F6              ; Function spr_chktime
938   00F6              ; ---------------------------------
939   00F6              _spr_chktime:
940   00F6  CD 00 00    	call	___sdcc_enter_ix
941   00F9  F5          	push	af
942   00FA  DD 75 FE    	ld	(ix-2),l
943   00FD  DD 74 FF    	ld	(ix-1),h
944   0100  E1          	pop	hl
945   0101  01 00 00    	ld	bc,_sprite_speed_alt+0
946   0104  5E          	ld	e,(hl)
947   0105  E5          	push	hl
948   0106  6B          	ld	l,e
949   0107  26 00       	ld	h,0x00
950   0109  09          	add	hl, bc
951   010A  7E          	ld	a, (hl)
952   010B  B7          	or	a, a
953   010C  20 13       	jr	NZ,l_spr_chktime_00102
954   010E  01 00 00    	ld	bc,_sprite_speed+0
955   0111  16 00       	ld	d,0x00
956   0113  21 00 00    	ld	hl,_class
957   0116  19          	add	hl, de
958   0117  6E          	ld	l, (hl)
959   0118  26 00       	ld	h,0x00
960   011A  09          	add	hl, bc
961   011B  7E          	ld	a, (hl)
962   011C  32 00 00    	ld	(_tmp),a
963   011F  18 03       	jr	l_spr_chktime_00103
964   0121              l_spr_chktime_00102:
965   0121  32 00 00    	ld	(_tmp),a
966   0124              l_spr_chktime_00103:
967   0124  3A 00 00    	ld	a,(_tmp)
968   0127  4F          	ld	c,a
969   0128  06 00       	ld	b,0x00
970   012A  60          	ld	h,b
971   012B  6B          	ld	l, e
972   012C  29          	add	hl, hl
973   012D  11 00 00    	ld	de,_last_time
974   0130  19          	add	hl, de
975   0131  5E          	ld	e, (hl)
976   0132  23          	inc	hl
977   0133  56          	ld	d, (hl)
978   0134  C5          	push	bc
979   0135  D5          	push	de
980   0136  CD 00 00    	call	_game_check_time
981   0139  F1          	pop	af
982   013A  F1          	pop	af
983   013B  7D          	ld	a, l
984   013C  B7          	or	a, a
985   013D  28 15       	jr	Z,l_spr_chktime_00105
986   013F  E1          	pop	hl
987   0140  E5          	push	hl
988   0141  6E          	ld	l, (hl)
989   0142  26 00       	ld	h,0x00
990   0144  29          	add	hl, hl
991   0145  01 00 00    	ld	bc,_last_time
992   0148  09          	add	hl,bc
993   0149  ED 5B 00 00 	ld	de,(_curr_time)
994   014D  73          	ld	(hl),e
995   014E  23          	inc	hl
996   014F  72          	ld	(hl),d
997   0150  2E 01       	ld	l,0x01
998   0152  18 02       	jr	l_spr_chktime_00106
999   0154              l_spr_chktime_00105:
1000  0154  2E 00       	ld	l,0x00
1001  0156              l_spr_chktime_00106:
1002  0156  F1          	pop	af
1003  0157  DD E1       	pop	ix
1004  0159  C9          	ret
1005  015A              	SECTION code_compiler
1006  015A              ;	---------------------------------
1007  015A              ; Function spr_move_jump
1008  015A              ; ---------------------------------
1009  015A              _spr_move_jump:
1010  015A  2A 00 00    	ld	hl,(_player_vel_y)
1011  015D  ED 4B 00 00 	ld	bc,(_game_gravity)
1012  0161  09          	add	hl,bc
1013  0162  22 00 00    	ld	(_player_vel_y),hl
1014  0165  3E 78       	ld	a,0x78
1015  0167  21 00 00    	ld	hl,_player_vel_y
1016  016A  BE          	cp	a, (hl)
1017  016B  3E 00       	ld	a,0x00
1018  016D  23          	inc	hl
1019  016E  9E          	sbc	a, (hl)
1020  016F  E2 74 01    	jp	PO, l_spr_move_jump_00155
1021  0172  EE 80       	xor	a,0x80
1022  0174              l_spr_move_jump_00155:
1023  0174  F2 7D 01    	jp	P, l_spr_move_jump_00102
1024  0177  21 78 00    	ld	hl,0x0078
1025  017A  22 00 00    	ld	(_player_vel_y),hl
1026  017D              l_spr_move_jump_00102:
1027  017D  21 00 00    	ld	hl,_player_vel_y
1028  0180  7E          	ld	a, (hl)
1029  0181  D6 88       	sub	a,0x88
1030  0183  23          	inc	hl
1031  0184  7E          	ld	a, (hl)
1032  0185  17          	rla
1033  0186  3F          	ccf
1034  0187  1F          	rra
1035  0188  DE 7F       	sbc	a,0x7f
1036  018A  30 06       	jr	NC,l_spr_move_jump_00104
1037  018C  2B          	dec	hl
1038  018D  36 88       	ld	(hl),0x88
1039  018F  23          	inc	hl
1040  0190  36 FF       	ld	(hl),0xff
1041  0192              l_spr_move_jump_00104:
1042  0192  21 0A 00    	ld	hl,0x000a
1043  0195  E5          	push	hl
1044  0196  2A 00 00    	ld	hl,(_player_vel_y)
1045  0199  E5          	push	hl
1046  019A  CD 00 00    	call	__divsint_callee
1047  019D  4D          	ld	c, l
1048  019E  44          	ld	b, h
1049  019F  CB 41       	bit	0,c
1050  01A1  21 00 00    	ld	hl,_s_lin1
1051  01A4  71          	ld	(hl),c
1052  01A5  28 04       	jr	Z,l_spr_move_jump_00106
1053  01A7  21 00 00    	ld	hl,_s_lin1
1054  01AA  34          	inc	(hl)
1055  01AB              l_spr_move_jump_00106:
1056  01AB  2A 00 00    	ld	hl,(_sprite)
1057  01AE  26 00       	ld	h,0x00
1058  01B0  11 00 00    	ld	de,_lin
1059  01B3  19          	add	hl,de
1060  01B4  7E          	ld	a,(hl)
1061  01B5  21 00 00    	ld	hl,_s_lin1
1062  01B8  86          	add	a, (hl)
1063  01B9  77          	ld	(hl), a
1064  01BA  3E 90       	ld	a,0x90
1065  01BC  96          	sub	a, (hl)
1066  01BD  30 02       	jr	NC,l_spr_move_jump_00108
1067  01BF  36 90       	ld	(hl),0x90
1068  01C1              l_spr_move_jump_00108:
1069  01C1  CB 78       	bit	7, b
1070  01C3  28 59       	jr	Z,l_spr_move_jump_00119
1071  01C5  2A 00 00    	ld	hl,(_sprite)
1072  01C8  26 00       	ld	h,0x00
1073  01CA  01 00 00    	ld	bc,_col
1074  01CD  09          	add	hl,bc
1075  01CE  7E          	ld	a,(hl)
1076  01CF  F5          	push	af
1077  01D0  33          	inc	sp
1078  01D1  3A 00 00    	ld	a,(_s_lin1)
1079  01D4  F5          	push	af
1080  01D5  33          	inc	sp
1081  01D6  CD 1E 00    	call	_spr_check_map
1082  01D9  F1          	pop	af
1083  01DA  7C          	ld	a,h
1084  01DB  B5          	or	a,l
1085  01DC  28 31       	jr	Z,l_spr_move_jump_00112
1086  01DE  CD 00 00    	call	_player_hit_platform
1087  01E1  7D          	ld	a, l
1088  01E2  B7          	or	a, a
1089  01E3  28 19       	jr	Z,l_spr_move_jump_00110
1090  01E5  2A 00 00    	ld	hl,(_sprite)
1091  01E8  26 00       	ld	h,0x00
1092  01EA  01 00 00    	ld	bc,_lin
1093  01ED  09          	add	hl,bc
1094  01EE  7E          	ld	a,(hl)
1095  01EF  4D          	ld	c,l
1096  01F0  44          	ld	b,h
1097  01F1  07          	rlca
1098  01F2  07          	rlca
1099  01F3  07          	rlca
1100  01F4  07          	rlca
1101  01F5  E6 0F       	and	a,0x0f
1102  01F7  07          	rlca
1103  01F8  07          	rlca
1104  01F9  07          	rlca
1105  01FA  07          	rlca
1106  01FB  E6 F0       	and	a,0xf0
1107  01FD  02          	ld	(bc), a
1108  01FE              l_spr_move_jump_00110:
1109  01FE  21 00 00    	ld	hl,0x0000
1110  0201  22 00 00    	ld	(_player_vel_y),hl
1111  0204  21 00 00    	ld	hl,_s_state
1112  0207  7E          	ld	a,(hl)
1113  0208  E6 FE       	and	a,0xfe
1114  020A  F6 02       	or	a,0x02
1115  020C  77          	ld	(hl),a
1116  020D  18 6B       	jr	l_spr_move_jump_00120
1117  020F              l_spr_move_jump_00112:
1118  020F  2A 00 00    	ld	hl,(_sprite)
1119  0212  26 00       	ld	h,0x00
1120  0214  01 00 00    	ld	bc,_lin
1121  0217  09          	add	hl,bc
1122  0218  3A 00 00    	ld	a,(_s_lin1)
1123  021B  77          	ld	(hl),a
1124  021C  18 5C       	jr	l_spr_move_jump_00120
1125  021E              l_spr_move_jump_00119:
1126  021E  2A 00 00    	ld	hl,(_sprite)
1127  0221  26 00       	ld	h,0x00
1128  0223  01 00 00    	ld	bc,_col
1129  0226  09          	add	hl,bc
1130  0227  46          	ld	b,(hl)
1131  0228  3A 00 00    	ld	a,(_s_lin1)
1132  022B  C6 10       	add	a,0x10
1133  022D  4F          	ld	c,a
1134  022E  C5          	push	bc
1135  022F  CD 8A 00    	call	_spr_check_map_fall
1136  0232  F1          	pop	af
1137  0233  4D          	ld	c,l
1138  0234  44          	ld	b,h
1139  0235  2A 00 00    	ld	hl,(_sprite)
1140  0238  26 00       	ld	h,0x00
1141  023A  11 00 00    	ld	de,_lin
1142  023D  19          	add	hl,de
1143  023E  78          	ld	a,b
1144  023F  EB          	ex	de,hl
1145  0240  B1          	or	a,c
1146  0241  20 07       	jr	NZ,l_spr_move_jump_00114
1147  0243  3A 00 00    	ld	a,(_s_lin1)
1148  0246  D6 90       	sub	a,0x90
1149  0248  38 2C       	jr	C,l_spr_move_jump_00115
1150  024A              l_spr_move_jump_00114:
1151  024A  3A 00 00    	ld	a,(_s_lin1)
1152  024D  07          	rlca
1153  024E  07          	rlca
1154  024F  07          	rlca
1155  0250  07          	rlca
1156  0251  E6 0F       	and	a,0x0f
1157  0253  07          	rlca
1158  0254  07          	rlca
1159  0255  07          	rlca
1160  0256  07          	rlca
1161  0257  E6 F0       	and	a,0xf0
1162  0259  12          	ld	(de), a
1163  025A  21 00 00    	ld	hl,0x0000
1164  025D  22 00 00    	ld	(_player_vel_y),hl
1165  0260  21 00 00    	ld	hl,_s_state
1166  0263  7E          	ld	a,(hl)
1167  0264  E6 FC       	and	a,+(0xfd&0xfe)
1168  0266  77          	ld	(hl),a
1169  0267  2A 00 00    	ld	hl,(_sprite)
1170  026A  26 00       	ld	h,0x00
1171  026C  01 00 00    	ld	bc,_colint
1172  026F  09          	add	hl,bc
1173  0270  AF          	xor	a,a
1174  0271  77          	ld	(hl),a
1175  0272  2E 01       	ld	l,0x01
1176  0274  18 09       	jr	l_spr_move_jump_00121
1177  0276              l_spr_move_jump_00115:
1178  0276  3A 00 00    	ld	a,(_s_lin1)
1179  0279  12          	ld	(de), a
1180  027A              l_spr_move_jump_00120:
1181  027A  CD 7F 03    	call	_spr_move_horizontal
1182  027D  2E 00       	ld	l,0x00
1183  027F              l_spr_move_jump_00121:
1184  027F  C9          	ret
1185  0280              	SECTION code_compiler
1186  0280              ;	---------------------------------
1187  0280              ; Function spr_move_up
1188  0280              ; ---------------------------------
1189  0280              _spr_move_up:
1190  0280  2A 00 00    	ld	hl,(_sprite)
1191  0283  26 00       	ld	h,0x00
1192  0285  01 00 00    	ld	bc,_lin
1193  0288  09          	add	hl,bc
1194  0289  4E          	ld	c,(hl)
1195  028A  21 00 00    	ld	hl,_sprite_lin_inc_mul
1196  028D  46          	ld	b, (hl)
1197  028E  1E 02       	ld	e,0x02
1198  0290  04          	inc	b
1199  0291  18 02       	jr	l_spr_move_up_00134
1200  0293              l_spr_move_up_00133:
1201  0293  CB 23       	sla	e
1202  0295              l_spr_move_up_00134:
1203  0295  10 FC       	djnz	l_spr_move_up_00133
1204  0297  79          	ld	a, c
1205  0298  93          	sub	a, e
1206  0299  32 00 00    	ld	(_tmp1),a
1207  029C  2A 00 00    	ld	hl,(_sprite)
1208  029F  26 00       	ld	h,0x00
1209  02A1  01 00 00    	ld	bc,_class
1210  02A4  09          	add	hl,bc
1211  02A5  7E          	ld	a,(hl)
1212  02A6  D6 10       	sub	a,0x10
1213  02A8  20 2D       	jr	NZ,l_spr_move_up_00107
1214  02AA  2A 00 00    	ld	hl,(_sprite)
1215  02AD  26 00       	ld	h,0x00
1216  02AF  01 00 00    	ld	bc,_col
1217  02B2  09          	add	hl,bc
1218  02B3  7E          	ld	a,(hl)
1219  02B4  F5          	push	af
1220  02B5  33          	inc	sp
1221  02B6  3A 00 00    	ld	a,(_tmp1)
1222  02B9  F5          	push	af
1223  02BA  33          	inc	sp
1224  02BB  CD 1E 00    	call	_spr_check_map
1225  02BE  F1          	pop	af
1226  02BF  7C          	ld	a,h
1227  02C0  B5          	or	a,l
1228  02C1  28 14       	jr	Z,l_spr_move_up_00107
1229  02C3  3A 00 00    	ld	a,(_sprite)
1230  02C6  D6 07       	sub	a,0x07
1231  02C8  20 09       	jr	NZ,l_spr_move_up_00102
1232  02CA  3A 07 00    	ld	a,(_state_a + 0x0007)
1233  02CD  07          	rlca
1234  02CE  38 03       	jr	C,l_spr_move_up_00102
1235  02D0  CD 00 00    	call	_player_hit_platform
1236  02D3              l_spr_move_up_00102:
1237  02D3  2E 01       	ld	l,0x01
1238  02D5  18 39       	jr	l_spr_move_up_00111
1239  02D7              l_spr_move_up_00107:
1240  02D7  2A 00 00    	ld	hl,(_sprite)
1241  02DA  26 00       	ld	h,0x00
1242  02DC  01 00 00    	ld	bc,_lin
1243  02DF  09          	add	hl,bc
1244  02E0  3A 00 00    	ld	a,(_tmp1)
1245  02E3  77          	ld	(hl),a
1246  02E4  2A 00 00    	ld	hl,(_sprite)
1247  02E7  26 00       	ld	h,0x00
1248  02E9  01 00 00    	ld	bc,_lin
1249  02EC  09          	add	hl,bc
1250  02ED  7E          	ld	a,(hl)
1251  02EE  5F          	ld	e,a
1252  02EF  B7          	or	a,a
1253  02F0  4D          	ld	c,l
1254  02F1  44          	ld	b,h
1255  02F2  28 05       	jr	Z,l_spr_move_up_00108
1256  02F4  3E 90       	ld	a,0x90
1257  02F6  93          	sub	a, e
1258  02F7  30 15       	jr	NC,l_spr_move_up_00109
1259  02F9              l_spr_move_up_00108:
1260  02F9  AF          	xor	a, a
1261  02FA  02          	ld	(bc), a
1262  02FB  3A 00 00    	ld	a,(_s_col0)
1263  02FE  F5          	push	af
1264  02FF  33          	inc	sp
1265  0300  3A 00 00    	ld	a,(_s_lin0)
1266  0303  57          	ld	d,a
1267  0304  1E 12       	ld	e,0x12
1268  0306  D5          	push	de
1269  0307  CD 00 00    	call	_NIRVANAP_fillT_callee
1270  030A  2E 01       	ld	l,0x01
1271  030C  18 02       	jr	l_spr_move_up_00111
1272  030E              l_spr_move_up_00109:
1273  030E  2E 00       	ld	l,0x00
1274  0310              l_spr_move_up_00111:
1275  0310  C9          	ret
1276  0311              	SECTION code_compiler
1277  0311              ;	---------------------------------
1278  0311              ; Function spr_move_down
1279  0311              ; ---------------------------------
1280  0311              _spr_move_down:
1281  0311  2A 00 00    	ld	hl,(_sprite)
1282  0314  26 00       	ld	h,0x00
1283  0316  01 00 00    	ld	bc,_lin
1284  0319  09          	add	hl,bc
1285  031A  4E          	ld	c,(hl)
1286  031B  21 00 00    	ld	hl,_sprite_lin_inc_mul
1287  031E  46          	ld	b, (hl)
1288  031F  1E 02       	ld	e,0x02
1289  0321  04          	inc	b
1290  0322  18 02       	jr	l_spr_move_down_00116
1291  0324              l_spr_move_down_00115:
1292  0324  CB 23       	sla	e
1293  0326              l_spr_move_down_00116:
1294  0326  10 FC       	djnz	l_spr_move_down_00115
1295  0328  79          	ld	a, c
1296  0329  83          	add	a, e
1297  032A  32 00 00    	ld	(_tmp1),a
1298  032D  2A 00 00    	ld	hl,(_sprite)
1299  0330  26 00       	ld	h,0x00
1300  0332  01 00 00    	ld	bc,_col
1301  0335  09          	add	hl,bc
1302  0336  56          	ld	d, (hl)
1303  0337  3A 00 00    	ld	a,(_tmp1)
1304  033A  C6 10       	add	a,0x10
1305  033C  5F          	ld	e, a
1306  033D  D5          	push	de
1307  033E  CD 8A 00    	call	_spr_check_map_fall
1308  0341  F1          	pop	af
1309  0342  4D          	ld	c,l
1310  0343  44          	ld	b,h
1311  0344  2A 00 00    	ld	hl,(_sprite)
1312  0347  26 00       	ld	h,0x00
1313  0349  11 00 00    	ld	de,_lin
1314  034C  19          	add	hl,de
1315  034D  78          	ld	a,b
1316  034E  EB          	ex	de,hl
1317  034F  B1          	or	a,c
1318  0350  28 12       	jr	Z,l_spr_move_down_00102
1319  0352  3A 00 00    	ld	a,(_tmp1)
1320  0355  0F          	rrca
1321  0356  0F          	rrca
1322  0357  0F          	rrca
1323  0358  E6 1F       	and	a,0x1f
1324  035A  07          	rlca
1325  035B  07          	rlca
1326  035C  07          	rlca
1327  035D  E6 F8       	and	a,0xf8
1328  035F  12          	ld	(de), a
1329  0360  2E 01       	ld	l,0x01
1330  0362  18 1A       	jr	l_spr_move_down_00105
1331  0364              l_spr_move_down_00102:
1332  0364  3A 00 00    	ld	a,(_tmp1)
1333  0367  12          	ld	(de), a
1334  0368  2A 00 00    	ld	hl,(_sprite)
1335  036B  26 00       	ld	h,0x00
1336  036D  01 00 00    	ld	bc,_lin
1337  0370  09          	add	hl,bc
1338  0371  5E          	ld	e,(hl)
1339  0372  3E 90       	ld	a,0x90
1340  0374  BB          	cp	a,e
1341  0375  30 05       	jr	NC,l_spr_move_down_00104
1342  0377  77          	ld	(hl),a
1343  0378  2E 01       	ld	l,0x01
1344  037A  18 02       	jr	l_spr_move_down_00105
1345  037C              l_spr_move_down_00104:
1346  037C  2E 00       	ld	l,0x00
1347  037E              l_spr_move_down_00105:
1348  037E  C9          	ret
1349  037F              	SECTION code_compiler
1350  037F              ;	---------------------------------
1351  037F              ; Function spr_move_horizontal
1352  037F              ; ---------------------------------
1353  037F              _spr_move_horizontal:
1354  037F  2A 00 00    	ld	hl,(_sprite)
1355  0382  26 00       	ld	h,0x00
1356  0384  01 00 00    	ld	bc,_state
1357  0387  09          	add	hl,bc
1358  0388  7E          	ld	a,(hl)
1359  0389  CB 57       	bit	2, a
1360  038B  28 05       	jr	Z,l_spr_move_horizontal_00104
1361  038D  CD 9E 03    	call	_spr_move_right
1362  0390  18 0B       	jr	l_spr_move_horizontal_00106
1363  0392              l_spr_move_horizontal_00104:
1364  0392  CB 5F       	bit	3, a
1365  0394  28 05       	jr	Z,l_spr_move_horizontal_00105
1366  0396  CD 77 04    	call	_spr_move_left
1367  0399  18 02       	jr	l_spr_move_horizontal_00106
1368  039B              l_spr_move_horizontal_00105:
1369  039B  2E 00       	ld	l,0x00
1370  039D              l_spr_move_horizontal_00106:
1371  039D  C9          	ret
1372  039E              	SECTION code_compiler
1373  039E              ;	---------------------------------
1374  039E              ; Function spr_move_right
1375  039E              ; ---------------------------------
1376  039E              _spr_move_right:
1377  039E  2A 00 00    	ld	hl,(_sprite)
1378  03A1  26 00       	ld	h,0x00
1379  03A3  01 00 00    	ld	bc,_colint
1380  03A6  09          	add	hl,bc
1381  03A7  7E          	ld	a,(hl)
1382  03A8  3C          	inc	a
1383  03A9  77          	ld	(hl),a
1384  03AA  4F          	ld	c,a
1385  03AB  3A 00 00    	ld	a,(_sprite)
1386  03AE  5F          	ld	e,a
1387  03AF  16 00       	ld	d,0x00
1388  03B1  21 00 00    	ld	hl,_class
1389  03B4  19          	add	hl,de
1390  03B5  5E          	ld	e, (hl)
1391  03B6  16 00       	ld	d,0x00
1392  03B8  21 00 00    	ld	hl,_sprite_frames
1393  03BB  19          	add	hl, de
1394  03BC  7E          	ld	a, (hl)
1395  03BD  91          	sub	a, c
1396  03BE  C2 74 04    	jp	NZ,l_spr_move_right_00115
1397  03C1  2A 00 00    	ld	hl,(_sprite)
1398  03C4  26 00       	ld	h,0x00
1399  03C6  01 00 00    	ld	bc,_lin
1400  03C9  09          	add	hl,bc
1401  03CA  7E          	ld	a,(hl)
1402  03CB  32 00 00    	ld	(_s_lin1),a
1403  03CE  2A 00 00    	ld	hl,(_sprite)
1404  03D1  26 00       	ld	h,0x00
1405  03D3  01 00 00    	ld	bc,_col
1406  03D6  09          	add	hl,bc
1407  03D7  7E          	ld	a,(hl)
1408  03D8  FE 1E       	cp	a,0x1e
1409  03DA  30 44       	jr	NC,l_spr_move_right_00105
1410  03DC  3C          	inc	a
1411  03DD  32 00 00    	ld	(_s_col1),a
1412  03E0  F5          	push	af
1413  03E1  33          	inc	sp
1414  03E2  3A 00 00    	ld	a,(_s_lin1)
1415  03E5  F5          	push	af
1416  03E6  33          	inc	sp
1417  03E7  CD 1E 00    	call	_spr_check_map
1418  03EA  F1          	pop	af
1419  03EB  7C          	ld	a,h
1420  03EC  B5          	or	a,l
1421  03ED  20 13       	jr	NZ,l_spr_move_right_00101
1422  03EF  3A 00 00    	ld	a,(_s_lin1)
1423  03F2  C6 0F       	add	a,0x0f
1424  03F4  4F          	ld	c, a
1425  03F5  3A 00 00    	ld	a, (_s_col1)
1426  03F8  47          	ld	b,a
1427  03F9  C5          	push	bc
1428  03FA  CD 1E 00    	call	_spr_check_map
1429  03FD  F1          	pop	af
1430  03FE  7C          	ld	a,h
1431  03FF  B5          	or	a,l
1432  0400  28 1E       	jr	Z,l_spr_move_right_00105
1433  0402              l_spr_move_right_00101:
1434  0402  2A 00 00    	ld	hl,(_sprite)
1435  0405  26 00       	ld	h,0x00
1436  0407  01 00 00    	ld	bc,_colint
1437  040A  09          	add	hl,bc
1438  040B  7E          	ld	a,(hl)
1439  040C  C6 FF       	add	a,0xff
1440  040E  77          	ld	(hl),a
1441  040F  2A 00 00    	ld	hl,(_sprite)
1442  0412  26 00       	ld	h,0x00
1443  0414  01 00 00    	ld	bc,_colint
1444  0417  09          	add	hl,bc
1445  0418  7E          	ld	a,(hl)
1446  0419  C6 FF       	add	a,0xff
1447  041B  77          	ld	(hl),a
1448  041C  2E 01       	ld	l,0x01
1449  041E  18 56       	jr	l_spr_move_right_00116
1450  0420              l_spr_move_right_00105:
1451  0420  2A 00 00    	ld	hl,(_sprite)
1452  0423  26 00       	ld	h,0x00
1453  0425  01 00 00    	ld	bc,_col
1454  0428  09          	add	hl,bc
1455  0429  34          	inc	(hl)
1456  042A  2A 00 00    	ld	hl,(_sprite)
1457  042D  26 00       	ld	h,0x00
1458  042F  01 00 00    	ld	bc,_colint
1459  0432  09          	add	hl,bc
1460  0433  AF          	xor	a,a
1461  0434  77          	ld	(hl),a
1462  0435  2A 00 00    	ld	hl,(_sprite)
1463  0438  26 00       	ld	h,0x00
1464  043A  01 00 00    	ld	bc,_col
1465  043D  09          	add	hl,bc
1466  043E  5E          	ld	e,(hl)
1467  043F  3E 1E       	ld	a,0x1e
1468  0441  93          	sub	a,e
1469  0442  30 30       	jr	NC,l_spr_move_right_00115
1470  0444  3A 00 00    	ld	a,(_sprite)
1471  0447  D6 07       	sub	a,0x07
1472  0449  28 04       	jr	Z,l_spr_move_right_00145
1473  044B  4D          	ld	c,l
1474  044C  44          	ld	b,h
1475  044D  18 1C       	jr	l_spr_move_right_00110
1476  044F              l_spr_move_right_00145:
1477  044F  CD 5A 05    	call	_spr_page_right
1478  0452  3A 00 00    	ld	a,(_sprite)
1479  0455  C6 00       	add	a,+((_col) & 0xFF)
1480  0457  4D          	ld	c,l
1481  0458  5F          	ld	e,a
1482  0459  3E 00       	ld	a,+((_col) / 256)
1483  045B  CE 00       	adc	a,0x00
1484  045D  57          	ld	d,a
1485  045E  79          	ld	a, c
1486  045F  B7          	or	a, a
1487  0460  28 04       	jr	Z,l_spr_move_right_00107
1488  0462  AF          	xor	a, a
1489  0463  12          	ld	(de), a
1490  0464  18 0E       	jr	l_spr_move_right_00115
1491  0466              l_spr_move_right_00107:
1492  0466  3E 1E       	ld	a,0x1e
1493  0468  12          	ld	(de), a
1494  0469  18 09       	jr	l_spr_move_right_00115
1495  046B              l_spr_move_right_00110:
1496  046B  3E 1E       	ld	a,0x1e
1497  046D  02          	ld	(bc), a
1498  046E  2A 00 00    	ld	hl,(_sprite)
1499  0471  CD 83 07    	call	_spr_destroy
1500  0474              l_spr_move_right_00115:
1501  0474  2E 00       	ld	l,0x00
1502  0476              l_spr_move_right_00116:
1503  0476  C9          	ret
1504  0477              	SECTION code_compiler
1505  0477              ;	---------------------------------
1506  0477              ; Function spr_move_left
1507  0477              ; ---------------------------------
1508  0477              _spr_move_left:
1509  0477  01 00 00    	ld	bc,_colint+0
1510  047A  79          	ld	a, c
1511  047B  21 00 00    	ld	hl,_sprite
1512  047E  86          	add	a, (hl)
1513  047F  5F          	ld	e, a
1514  0480  78          	ld	a, b
1515  0481  CE 00       	adc	a,0x00
1516  0483  57          	ld	d, a
1517  0484  1A          	ld	a, (de)
1518  0485  C6 FF       	add	a,0xff
1519  0487  12          	ld	(de), a
1520  0488  79          	ld	a, c
1521  0489  86          	add	a, (hl)
1522  048A  5F          	ld	e, a
1523  048B  78          	ld	a, b
1524  048C  CE 00       	adc	a,0x00
1525  048E  57          	ld	d, a
1526  048F  1A          	ld	a, (de)
1527  0490  3C          	inc	a
1528  0491  C2 57 05    	jp	NZ,l_spr_move_left_00115
1529  0494  5E          	ld	e,(hl)
1530  0495  16 00       	ld	d,0x00
1531  0497  21 00 00    	ld	hl,_lin
1532  049A  19          	add	hl,de
1533  049B  7E          	ld	a,(hl)
1534  049C  32 00 00    	ld	(_s_lin1),a
1535  049F  2A 00 00    	ld	hl,(_sprite)
1536  04A2  26 00       	ld	h,0x00
1537  04A4  11 00 00    	ld	de,_col
1538  04A7  19          	add	hl,de
1539  04A8  7E          	ld	a,(hl)
1540  04A9  B7          	or	a, a
1541  04AA  28 47       	jr	Z,l_spr_move_left_00105
1542  04AC  C6 FF       	add	a,0xff
1543  04AE  32 00 00    	ld	(_s_col1),a
1544  04B1  C5          	push	bc
1545  04B2  F5          	push	af
1546  04B3  33          	inc	sp
1547  04B4  3A 00 00    	ld	a,(_s_lin1)
1548  04B7  F5          	push	af
1549  04B8  33          	inc	sp
1550  04B9  CD 1E 00    	call	_spr_check_map
1551  04BC  F1          	pop	af
1552  04BD  C1          	pop	bc
1553  04BE  7C          	ld	a,h
1554  04BF  B5          	or	a,l
1555  04C0  20 16       	jr	NZ,l_spr_move_left_00101
1556  04C2  3A 00 00    	ld	a,(_s_lin1)
1557  04C5  C6 0F       	add	a,0x0f
1558  04C7  57          	ld	d, a
1559  04C8  3A 00 00    	ld	a,(_s_col1)
1560  04CB  C5          	push	bc
1561  04CC  5A          	ld	e,d
1562  04CD  57          	ld	d,a
1563  04CE  D5          	push	de
1564  04CF  CD 1E 00    	call	_spr_check_map
1565  04D2  F1          	pop	af
1566  04D3  C1          	pop	bc
1567  04D4  7C          	ld	a,h
1568  04D5  B5          	or	a,l
1569  04D6  28 1B       	jr	Z,l_spr_move_left_00105
1570  04D8              l_spr_move_left_00101:
1571  04D8  79          	ld	a, c
1572  04D9  21 00 00    	ld	hl,_sprite
1573  04DC  86          	add	a, (hl)
1574  04DD  5F          	ld	e, a
1575  04DE  78          	ld	a, b
1576  04DF  CE 00       	adc	a,0x00
1577  04E1  57          	ld	d, a
1578  04E2  1A          	ld	a, (de)
1579  04E3  3C          	inc	a
1580  04E4  12          	ld	(de), a
1581  04E5  79          	ld	a, c
1582  04E6  86          	add	a, (hl)
1583  04E7  4F          	ld	c, a
1584  04E8  78          	ld	a, b
1585  04E9  CE 00       	adc	a,0x00
1586  04EB  47          	ld	b, a
1587  04EC  0A          	ld	a, (bc)
1588  04ED  3C          	inc	a
1589  04EE  02          	ld	(bc), a
1590  04EF  2E 01       	ld	l,0x01
1591  04F1  18 66       	jr	l_spr_move_left_00116
1592  04F3              l_spr_move_left_00105:
1593  04F3  2A 00 00    	ld	hl,(_sprite)
1594  04F6  26 00       	ld	h,0x00
1595  04F8  11 00 00    	ld	de,_col
1596  04FB  19          	add	hl,de
1597  04FC  7E          	ld	a,(hl)
1598  04FD  EB          	ex	de,hl
1599  04FE  C6 FF       	add	a,0xff
1600  0500  12          	ld	(de),a
1601  0501  79          	ld	a,c
1602  0502  21 00 00    	ld	hl,_sprite
1603  0505  86          	add	a, (hl)
1604  0506  4F          	ld	c, a
1605  0507  78          	ld	a, b
1606  0508  CE 00       	adc	a,0x00
1607  050A  47          	ld	b, a
1608  050B  5E          	ld	e,(hl)
1609  050C  16 00       	ld	d,0x00
1610  050E  21 00 00    	ld	hl,_class
1611  0511  19          	add	hl,de
1612  0512  5E          	ld	e, (hl)
1613  0513  16 00       	ld	d,0x00
1614  0515  21 00 00    	ld	hl,_sprite_frames
1615  0518  19          	add	hl, de
1616  0519  5E          	ld	e, (hl)
1617  051A  1D          	dec	e
1618  051B  7B          	ld	a, e
1619  051C  02          	ld	(bc), a
1620  051D  2A 00 00    	ld	hl,(_sprite)
1621  0520  26 00       	ld	h,0x00
1622  0522  01 00 00    	ld	bc,_col
1623  0525  09          	add	hl,bc
1624  0526  7E          	ld	a,(hl)
1625  0527  3C          	inc	a
1626  0528  20 2D       	jr	NZ,l_spr_move_left_00115
1627  052A  3A 00 00    	ld	a,(_sprite)
1628  052D  D6 07       	sub	a,0x07
1629  052F  4D          	ld	c,l
1630  0530  44          	ld	b,h
1631  0531  20 1C       	jr	NZ,l_spr_move_left_00110
1632  0533  CD 74 05    	call	_spr_page_left
1633  0536  3A 00 00    	ld	a,(_sprite)
1634  0539  C6 00       	add	a,+((_col) & 0xFF)
1635  053B  4D          	ld	c,l
1636  053C  5F          	ld	e,a
1637  053D  3E 00       	ld	a,+((_col) / 256)
1638  053F  CE 00       	adc	a,0x00
1639  0541  57          	ld	d,a
1640  0542  79          	ld	a, c
1641  0543  B7          	or	a, a
1642  0544  28 05       	jr	Z,l_spr_move_left_00107
1643  0546  3E 1E       	ld	a,0x1e
1644  0548  12          	ld	(de), a
1645  0549  18 0C       	jr	l_spr_move_left_00115
1646  054B              l_spr_move_left_00107:
1647  054B  AF          	xor	a, a
1648  054C  12          	ld	(de), a
1649  054D  18 08       	jr	l_spr_move_left_00115
1650  054F              l_spr_move_left_00110:
1651  054F  AF          	xor	a, a
1652  0550  02          	ld	(bc), a
1653  0551  2A 00 00    	ld	hl,(_sprite)
1654  0554  CD 83 07    	call	_spr_destroy
1655  0557              l_spr_move_left_00115:
1656  0557  2E 00       	ld	l,0x00
1657  0559              l_spr_move_left_00116:
1658  0559  C9          	ret
1659  055A              	SECTION code_compiler
1660  055A              ;	---------------------------------
1661  055A              ; Function spr_page_right
1662  055A              ; ---------------------------------
1663  055A              _spr_page_right:
1664  055A  3A 00 00    	ld	a,(_scr_curr)
1665  055D  21 00 00    	ld	hl,_map_width
1666  0560  96          	sub	a, (hl)
1667  0561  30 0E       	jr	NC,l_spr_page_right_00102
1668  0563  21 00 00    	ld	hl,_scr_curr
1669  0566  34          	inc	(hl)
1670  0567  CD 9B 05    	call	_spr_page_map
1671  056A  CD A3 08    	call	_spr_draw_background
1672  056D  2E 01       	ld	l,0x01
1673  056F  18 02       	jr	l_spr_page_right_00103
1674  0571              l_spr_page_right_00102:
1675  0571  2E 00       	ld	l,0x00
1676  0573              l_spr_page_right_00103:
1677  0573  C9          	ret
1678  0574              	SECTION code_compiler
1679  0574              ;	---------------------------------
1680  0574              ; Function spr_page_left
1681  0574              ; ---------------------------------
1682  0574              _spr_page_left:
1683  0574  2A 00 00    	ld	hl,(_sprite)
1684  0577  26 00       	ld	h,0x00
1685  0579  01 00 00    	ld	bc,_class
1686  057C  09          	add	hl,bc
1687  057D  7E          	ld	a,(hl)
1688  057E  D6 10       	sub	a,0x10
1689  0580  28 04       	jr	Z,l_spr_page_left_00102
1690  0582  2E 00       	ld	l,0x00
1691  0584  18 14       	jr	l_spr_page_left_00105
1692  0586              l_spr_page_left_00102:
1693  0586  21 00 00    	ld	hl,_scr_curr
1694  0589  7E          	ld	a, (hl)
1695  058A  B7          	or	a, a
1696  058B  28 0B       	jr	Z,l_spr_page_left_00104
1697  058D  35          	dec	(hl)
1698  058E  CD 9B 05    	call	_spr_page_map
1699  0591  CD A3 08    	call	_spr_draw_background
1700  0594  2E 01       	ld	l,0x01
1701  0596  18 02       	jr	l_spr_page_left_00105
1702  0598              l_spr_page_left_00104:
1703  0598  2E 00       	ld	l,0x00
1704  059A              l_spr_page_left_00105:
1705  059A  C9          	ret
1706  059B              	SECTION code_compiler
1707  059B              ;	---------------------------------
1708  059B              ; Function spr_page_map
1709  059B              ; ---------------------------------
1710  059B              _spr_page_map:
1711  059B  CD 00 00    	call	___sdcc_enter_ix
1712  059E  F5          	push	af
1713  059F  3E 10       	ld	a,0x10
1714  05A1  F5          	push	af
1715  05A2  33          	inc	sp
1716  05A3  0E 00       	ld	c,0x00
1717  05A5              l_spr_page_map_00123:
1718  05A5  3E 07       	ld	a,0x07
1719  05A7  21 00 00    	ld	hl,_scr_curr
1720  05AA  96          	sub	a, (hl)
1721  05AB  DA 75 06    	jp	C, l_spr_page_map_00109
1722  05AE  59          	ld	e, c
1723  05AF  16 00       	ld	d,0x00
1724  05B1  13          	inc	de
1725  05B2  D5          	push	de
1726  05B3  5E          	ld	e, (hl)
1727  05B4  16 00       	ld	d,0x00
1728  05B6  21 BE 05    	ld	hl,l_spr_page_map_00167
1729  05B9  19          	add	hl, de
1730  05BA  19          	add	hl, de
1731  05BB  19          	add	hl, de
1732  05BC  D1          	pop	de
1733  05BD  E9          	jp	(hl)
1734  05BE              l_spr_page_map_00167:
1735  05BE  C3 D6 05    	jp	l_spr_page_map_00101
1736  05C1  C3 EB 05    	jp	l_spr_page_map_00102
1737  05C4  C3 FF 05    	jp	l_spr_page_map_00103
1738  05C7  C3 13 06    	jp	l_spr_page_map_00104
1739  05CA  C3 27 06    	jp	l_spr_page_map_00105
1740  05CD  C3 3B 06    	jp	l_spr_page_map_00106
1741  05D0  C3 4F 06    	jp	l_spr_page_map_00107
1742  05D3  C3 63 06    	jp	l_spr_page_map_00108
1743  05D6              l_spr_page_map_00101:
1744  05D6  06 00       	ld	b,0x00
1745  05D8  21 00 00    	ld	hl,_scr_0
1746  05DB  09          	add	hl, bc
1747  05DC  7E          	ld	a, (hl)
1748  05DD  DD 77 FF    	ld	(ix-1),a
1749  05E0  21 00 00    	ld	hl,_scr_0
1750  05E3  19          	add	hl, de
1751  05E4  7E          	ld	a, (hl)
1752  05E5  DD 77 FE    	ld	(ix-2),a
1753  05E8  C3 75 06    	jp	l_spr_page_map_00109
1754  05EB              l_spr_page_map_00102:
1755  05EB  06 00       	ld	b,0x00
1756  05ED  21 00 00    	ld	hl,_scr_1
1757  05F0  09          	add	hl, bc
1758  05F1  7E          	ld	a, (hl)
1759  05F2  DD 77 FF    	ld	(ix-1),a
1760  05F5  21 00 00    	ld	hl,_scr_1
1761  05F8  19          	add	hl, de
1762  05F9  7E          	ld	a, (hl)
1763  05FA  DD 77 FE    	ld	(ix-2),a
1764  05FD  18 76       	jr	l_spr_page_map_00109
1765  05FF              l_spr_page_map_00103:
1766  05FF  06 00       	ld	b,0x00
1767  0601  21 00 00    	ld	hl,_scr_2
1768  0604  09          	add	hl, bc
1769  0605  7E          	ld	a, (hl)
1770  0606  DD 77 FF    	ld	(ix-1),a
1771  0609  21 00 00    	ld	hl,_scr_2
1772  060C  19          	add	hl, de
1773  060D  7E          	ld	a, (hl)
1774  060E  DD 77 FE    	ld	(ix-2),a
1775  0611  18 62       	jr	l_spr_page_map_00109
1776  0613              l_spr_page_map_00104:
1777  0613  06 00       	ld	b,0x00
1778  0615  21 00 00    	ld	hl,_scr_3
1779  0618  09          	add	hl, bc
1780  0619  7E          	ld	a, (hl)
1781  061A  DD 77 FF    	ld	(ix-1),a
1782  061D  21 00 00    	ld	hl,_scr_3
1783  0620  19          	add	hl, de
1784  0621  7E          	ld	a, (hl)
1785  0622  DD 77 FE    	ld	(ix-2),a
1786  0625  18 4E       	jr	l_spr_page_map_00109
1787  0627              l_spr_page_map_00105:
1788  0627  06 00       	ld	b,0x00
1789  0629  21 00 00    	ld	hl,_scr_4
1790  062C  09          	add	hl, bc
1791  062D  7E          	ld	a, (hl)
1792  062E  DD 77 FF    	ld	(ix-1),a
1793  0631  21 00 00    	ld	hl,_scr_4
1794  0634  19          	add	hl, de
1795  0635  7E          	ld	a, (hl)
1796  0636  DD 77 FE    	ld	(ix-2),a
1797  0639  18 3A       	jr	l_spr_page_map_00109
1798  063B              l_spr_page_map_00106:
1799  063B  06 00       	ld	b,0x00
1800  063D  21 00 00    	ld	hl,_scr_5
1801  0640  09          	add	hl, bc
1802  0641  7E          	ld	a, (hl)
1803  0642  DD 77 FF    	ld	(ix-1),a
1804  0645  21 00 00    	ld	hl,_scr_5
1805  0648  19          	add	hl, de
1806  0649  7E          	ld	a, (hl)
1807  064A  DD 77 FE    	ld	(ix-2),a
1808  064D  18 26       	jr	l_spr_page_map_00109
1809  064F              l_spr_page_map_00107:
1810  064F  06 00       	ld	b,0x00
1811  0651  21 00 00    	ld	hl,_scr_6
1812  0654  09          	add	hl, bc
1813  0655  7E          	ld	a, (hl)
1814  0656  DD 77 FF    	ld	(ix-1),a
1815  0659  21 00 00    	ld	hl,_scr_6
1816  065C  19          	add	hl, de
1817  065D  7E          	ld	a, (hl)
1818  065E  DD 77 FE    	ld	(ix-2),a
1819  0661  18 12       	jr	l_spr_page_map_00109
1820  0663              l_spr_page_map_00108:
1821  0663  06 00       	ld	b,0x00
1822  0665  21 00 00    	ld	hl,_scr_7
1823  0668  09          	add	hl, bc
1824  0669  7E          	ld	a, (hl)
1825  066A  DD 77 FF    	ld	(ix-1),a
1826  066D  21 00 00    	ld	hl,_scr_7
1827  0670  19          	add	hl, de
1828  0671  7E          	ld	a, (hl)
1829  0672  DD 77 FE    	ld	(ix-2),a
1830  0675              l_spr_page_map_00109:
1831  0675  DD 7E FF    	ld	a,(ix-1)
1832  0678  D6 80       	sub	a,0x80
1833  067A  30 14       	jr	NC,l_spr_page_map_00114
1834  067C  3E 00       	ld	a, +((_scr_map) & 0xFF)
1835  067E  DD 86 FD    	add	a,(ix-3)
1836  0681  5F          	ld	e, a
1837  0682  3E 00       	ld	a, +((_scr_map) / 256)
1838  0684  CE 00       	adc	a,0x00
1839  0686  57          	ld	d, a
1840  0687  DD 7E FF    	ld	a,(ix-1)
1841  068A  12          	ld	(de), a
1842  068B  DD 34 FD    	inc	(ix-3)
1843  068E  18 29       	jr	l_spr_page_map_00115
1844  0690              l_spr_page_map_00114:
1845  0690  DD 7E FF    	ld	a,(ix-1)
1846  0693  C6 80       	add	a,0x80
1847  0695  47          	ld	b, a
1848  0696  DD 5E FD    	ld	e,(ix-3)
1849  0699  16 00       	ld	d,0x00
1850  069B              l_spr_page_map_00121:
1851  069B  7A          	ld	a, d
1852  069C  90          	sub	a, b
1853  069D  30 16       	jr	NC,l_spr_page_map_00138
1854  069F  3E 00       	ld	a, +((_scr_map) & 0xFF)
1855  06A1  83          	add	a, e
1856  06A2  6F          	ld	l, a
1857  06A3  3E 00       	ld	a, +((_scr_map) / 256)
1858  06A5  CE 00       	adc	a,0x00
1859  06A7  67          	ld	h, a
1860  06A8  DD 7E FE    	ld	a,(ix-2)
1861  06AB  77          	ld	(hl), a
1862  06AC  1C          	inc	e
1863  06AD  7B          	ld	a, e
1864  06AE  D6 A0       	sub	a,0xa0
1865  06B0  30 03       	jr	NC,l_spr_page_map_00138
1866  06B2  14          	inc	d
1867  06B3  18 E6       	jr	l_spr_page_map_00121
1868  06B5              l_spr_page_map_00138:
1869  06B5  DD 73 FD    	ld	(ix-3),e
1870  06B8  0C          	inc	c
1871  06B9              l_spr_page_map_00115:
1872  06B9  DD 7E FD    	ld	a,(ix-3)
1873  06BC  D6 A0       	sub	a,0xa0
1874  06BE  30 07       	jr	NC,l_spr_page_map_00136
1875  06C0  0C          	inc	c
1876  06C1  79          	ld	a, c
1877  06C2  D6 A0       	sub	a,0xa0
1878  06C4  DA A5 05    	jp	C, l_spr_page_map_00123
1879  06C7              l_spr_page_map_00136:
1880  06C7  0E 00       	ld	c,0x00
1881  06C9              l_spr_page_map_00125:
1882  06C9  06 00       	ld	b,0x00
1883  06CB  21 00 00    	ld	hl,_class
1884  06CE  09          	add	hl, bc
1885  06CF  36 00       	ld	(hl),0x00
1886  06D1  C5          	push	bc
1887  06D2  21 00 00    	ld	hl,0x0000
1888  06D5  E5          	push	hl
1889  06D6  AF          	xor	a, a
1890  06D7  F5          	push	af
1891  06D8  33          	inc	sp
1892  06D9  79          	ld	a, c
1893  06DA  F5          	push	af
1894  06DB  33          	inc	sp
1895  06DC  CD 00 00    	call	_NIRVANAP_spriteT_callee
1896  06DF  C1          	pop	bc
1897  06E0  0C          	inc	c
1898  06E1  79          	ld	a, c
1899  06E2  D6 07       	sub	a,0x07
1900  06E4  38 E3       	jr	C,l_spr_page_map_00125
1901  06E6  CD FD 0D    	call	_spr_init_anim
1902  06E9  DD F9       	ld	sp, ix
1903  06EB  DD E1       	pop	ix
1904  06ED  C9          	ret
1905  06EE              	SECTION code_compiler
1906  06EE              ;	---------------------------------
1907  06EE              ; Function spr_redraw
1908  06EE              ; ---------------------------------
1909  06EE              _spr_redraw:
1910  06EE  2A 00 00    	ld	hl,(_sprite)
1911  06F1  26 00       	ld	h,0x00
1912  06F3  01 00 00    	ld	bc,_tile
1913  06F6  09          	add	hl,bc
1914  06F7  4E          	ld	c, (hl)
1915  06F8  3A 00 00    	ld	a,(_sprite)
1916  06FB  5F          	ld	e,a
1917  06FC  16 00       	ld	d,0x00
1918  06FE  21 00 00    	ld	hl,_colint
1919  0701  19          	add	hl,de
1920  0702  7E          	ld	a,(hl)
1921  0703  81          	add	a,c
1922  0704  32 00 00    	ld	(_s_tile1),a
1923  0707  2A 00 00    	ld	hl,(_sprite)
1924  070A  26 00       	ld	h,0x00
1925  070C  01 00 00    	ld	bc,_col
1926  070F  09          	add	hl,bc
1927  0710  7E          	ld	a,(hl)
1928  0711  32 00 00    	ld	(_s_col1),a
1929  0714  2A 00 00    	ld	hl,(_sprite)
1930  0717  26 00       	ld	h,0x00
1931  0719  01 00 00    	ld	bc,_lin
1932  071C  09          	add	hl,bc
1933  071D  7E          	ld	a,(hl)
1934  071E  32 00 00    	ld	(_s_lin1),a
1935  0721  21 00 00    	ld	hl,_s_lin0
1936  0724  96          	sub	a, (hl)
1937  0725  20 09       	jr	NZ,l_spr_redraw_00105
1938  0727  3A 00 00    	ld	a,(_s_col1)
1939  072A  21 00 00    	ld	hl,_s_col0
1940  072D  96          	sub	a, (hl)
1941  072E  28 30       	jr	Z,l_spr_redraw_00106
1942  0730              l_spr_redraw_00105:
1943  0730  3E 10       	ld	a,0x10
1944  0732  21 00 00    	ld	hl,_s_lin0
1945  0735  96          	sub	a, (hl)
1946  0736  38 0E       	jr	C,l_spr_redraw_00102
1947  0738  F3          	di
1948  0739  3A 00 00    	ld	a,(_s_col0)
1949  073C  F5          	push	af
1950  073D  33          	inc	sp
1951  073E  21 49 08    	ld	hl,0x0849
1952  0741  E5          	push	hl
1953  0742  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1954  0745  FB          	ei
1955  0746              l_spr_redraw_00102:
1956  0746  2A FF FF    	ld	hl,(_s_col1 - 1)
1957  0749  3A 00 00    	ld	a,(_s_lin1)
1958  074C  6F          	ld	l,a
1959  074D  E5          	push	hl
1960  074E  2A FF FF    	ld	hl,(_s_tile1 - 1)
1961  0751  3A 00 00    	ld	a,(_sprite)
1962  0754  6F          	ld	l,a
1963  0755  E5          	push	hl
1964  0756  CD 00 00    	call	_NIRVANAP_spriteT_callee
1965  0759  CD 55 0C    	call	_spr_back_clr
1966  075C  2E 01       	ld	l,0x01
1967  075E  18 22       	jr	l_spr_redraw_00109
1968  0760              l_spr_redraw_00106:
1969  0760  3A 00 00    	ld	a,(_s_tile1)
1970  0763  21 00 00    	ld	hl,_s_tile0
1971  0766  96          	sub	a, (hl)
1972  0767  28 17       	jr	Z,l_spr_redraw_00107
1973  0769  2A FF FF    	ld	hl,(_s_col1 - 1)
1974  076C  3A 00 00    	ld	a,(_s_lin1)
1975  076F  6F          	ld	l,a
1976  0770  E5          	push	hl
1977  0771  2A FF FF    	ld	hl,(_s_tile1 - 1)
1978  0774  3A 00 00    	ld	a,(_sprite)
1979  0777  6F          	ld	l,a
1980  0778  E5          	push	hl
1981  0779  CD 00 00    	call	_NIRVANAP_spriteT_callee
1982  077C  2E 00       	ld	l,0x00
1983  077E  18 02       	jr	l_spr_redraw_00109
1984  0780              l_spr_redraw_00107:
1985  0780  2E 00       	ld	l,0x00
1986  0782              l_spr_redraw_00109:
1987  0782  C9          	ret
1988  0783              	SECTION code_compiler
1989  0783              ;	---------------------------------
1990  0783              ; Function spr_destroy
1991  0783              ; ---------------------------------
1992  0783              _spr_destroy:
1993  0783  CD 00 00    	call	___sdcc_enter_ix
1994  0786  F5          	push	af
1995  0787  4D          	ld	c, l
1996  0788  21 00 00    	ld	hl,_spr_count
1997  078B  35          	dec	(hl)
1998  078C  3E 00       	ld	a, +((_lin) & 0xFF)
1999  078E  81          	add	a, c
2000  078F  DD 77 FE    	ld	(ix-2),a
2001  0792  3E 00       	ld	a, +((_lin) / 256)
2002  0794  CE 00       	adc	a,0x00
2003  0796  DD 77 FF    	ld	(ix-1),a
2004  0799  E1          	pop	hl
2005  079A  7E          	ld	a,(hl)
2006  079B  E5          	push	hl
2007  079C  32 00 00    	ld	(_s_lin0),a
2008  079F  3E 00       	ld	a, +((_col) & 0xFF)
2009  07A1  81          	add	a, c
2010  07A2  5F          	ld	e, a
2011  07A3  3E 00       	ld	a, +((_col) / 256)
2012  07A5  CE 00       	adc	a,0x00
2013  07A7  57          	ld	d, a
2014  07A8  1A          	ld	a, (de)
2015  07A9  32 00 00    	ld	(_s_col0),a
2016  07AC  C5          	push	bc
2017  07AD  D5          	push	de
2018  07AE  21 00 00    	ld	hl,0x0000
2019  07B1  E5          	push	hl
2020  07B2  AF          	xor	a, a
2021  07B3  F5          	push	af
2022  07B4  33          	inc	sp
2023  07B5  79          	ld	a, c
2024  07B6  F5          	push	af
2025  07B7  33          	inc	sp
2026  07B8  CD 00 00    	call	_NIRVANAP_spriteT_callee
2027  07BB  CD 55 0C    	call	_spr_back_clr
2028  07BE  D1          	pop	de
2029  07BF  C1          	pop	bc
2030  07C0  06 00       	ld	b,0x00
2031  07C2  21 00 00    	ld	hl,_tile
2032  07C5  09          	add	hl, bc
2033  07C6  AF          	xor	a,a
2034  07C7  77          	ld	(hl),a
2035  07C8  E1          	pop	hl
2036  07C9  12          	ld	(de),a
2037  07CA  E5          	push	hl
2038  07CB  36 00       	ld	(hl),0x00
2039  07CD  11 00 00    	ld	de,_class+0
2040  07D0  69          	ld	l,c
2041  07D1  26 00       	ld	h,0x00
2042  07D3  19          	add	hl, de
2043  07D4  36 00       	ld	(hl),0x00
2044  07D6  11 00 00    	ld	de,_state+0
2045  07D9  69          	ld	l,c
2046  07DA  26 00       	ld	h,0x00
2047  07DC  19          	add	hl, de
2048  07DD  36 00       	ld	(hl),0x00
2049  07DF  11 00 00    	ld	de,_state_a+0
2050  07E2  69          	ld	l,c
2051  07E3  26 00       	ld	h,0x00
2052  07E5  19          	add	hl, de
2053  07E6  F1          	pop	af
2054  07E7  36 00       	ld	(hl),0x00
2055  07E9  DD E1       	pop	ix
2056  07EB  C9          	ret
2057  07EC              	SECTION code_compiler
2058  07EC              ;	---------------------------------
2059  07EC              ; Function spr_tile
2060  07EC              ; ---------------------------------
2061  07EC              _spr_tile:
2062  07EC  45          	ld	b,l
2063  07ED  11 00 00    	ld	de,_class+0
2064  07F0  26 00       	ld	h,0x00
2065  07F2  19          	add	hl, de
2066  07F3  7E          	ld	a, (hl)
2067  07F4  FE 01       	cp	a,0x01
2068  07F6  28 12       	jr	Z,l_spr_tile_00101
2069  07F8  FE 02       	cp	a,0x02
2070  07FA  28 1D       	jr	Z,l_spr_tile_00102
2071  07FC  FE 03       	cp	a,0x03
2072  07FE  28 28       	jr	Z,l_spr_tile_00103
2073  0800  FE 04       	cp	a,0x04
2074  0802  28 34       	jr	Z,l_spr_tile_00104
2075  0804  D6 05       	sub	a,0x05
2076  0806  28 3F       	jr	Z,l_spr_tile_00105
2077  0808  18 4D       	jr	l_spr_tile_00106
2078  080A              l_spr_tile_00101:
2079  080A  AF          	xor	a, a
2080  080B  48          	ld	c,b
2081  080C  47          	ld	b,a
2082  080D  C5          	push	bc
2083  080E  3E 84       	ld	a,0x84
2084  0810  F5          	push	af
2085  0811  33          	inc	sp
2086  0812  CD 5A 08    	call	_spr_tile_dir
2087  0815  F1          	pop	af
2088  0816  33          	inc	sp
2089  0817  18 40       	jr	l_spr_tile_00107
2090  0819              l_spr_tile_00102:
2091  0819  AF          	xor	a, a
2092  081A  48          	ld	c,b
2093  081B  47          	ld	b,a
2094  081C  C5          	push	bc
2095  081D  3E 88       	ld	a,0x88
2096  081F  F5          	push	af
2097  0820  33          	inc	sp
2098  0821  CD 5A 08    	call	_spr_tile_dir
2099  0824  F1          	pop	af
2100  0825  33          	inc	sp
2101  0826  18 31       	jr	l_spr_tile_00107
2102  0828              l_spr_tile_00103:
2103  0828  3E 02       	ld	a,0x02
2104  082A  48          	ld	c,b
2105  082B  47          	ld	b,a
2106  082C  C5          	push	bc
2107  082D  3E 8C       	ld	a,0x8c
2108  082F  F5          	push	af
2109  0830  33          	inc	sp
2110  0831  CD 5A 08    	call	_spr_tile_dir
2111  0834  F1          	pop	af
2112  0835  33          	inc	sp
2113  0836  18 21       	jr	l_spr_tile_00107
2114  0838              l_spr_tile_00104:
2115  0838  AF          	xor	a, a
2116  0839  48          	ld	c,b
2117  083A  47          	ld	b,a
2118  083B  C5          	push	bc
2119  083C  3E 90       	ld	a,0x90
2120  083E  F5          	push	af
2121  083F  33          	inc	sp
2122  0840  CD 5A 08    	call	_spr_tile_dir
2123  0843  F1          	pop	af
2124  0844  33          	inc	sp
2125  0845  18 12       	jr	l_spr_tile_00107
2126  0847              l_spr_tile_00105:
2127  0847  3E 04       	ld	a,0x04
2128  0849  48          	ld	c,b
2129  084A  47          	ld	b,a
2130  084B  C5          	push	bc
2131  084C  3E 94       	ld	a,0x94
2132  084E  F5          	push	af
2133  084F  33          	inc	sp
2134  0850  CD 5A 08    	call	_spr_tile_dir
2135  0853  F1          	pop	af
2136  0854  33          	inc	sp
2137  0855  18 02       	jr	l_spr_tile_00107
2138  0857              l_spr_tile_00106:
2139  0857  2E 00       	ld	l,0x00
2140  0859              l_spr_tile_00107:
2141  0859  C9          	ret
2142  085A              	SECTION code_compiler
2143  085A              ;	---------------------------------
2144  085A              ; Function spr_tile_dir
2145  085A              ; ---------------------------------
2146  085A              _spr_tile_dir:
2147  085A  CD 00 00    	call	___sdcc_enter_ix
2148  085D  3E 00       	ld	a, +((_state) & 0xFF)
2149  085F  DD 86 05    	add	a,(ix+5)
2150  0862  4F          	ld	c, a
2151  0863  3E 00       	ld	a, +((_state) / 256)
2152  0865  CE 00       	adc	a,0x00
2153  0867  47          	ld	b, a
2154  0868  0A          	ld	a, (bc)
2155  0869  4F          	ld	c,a
2156  086A  CB 57       	bit	2,a
2157  086C  28 05       	jr	Z,l_spr_tile_dir_00102
2158  086E  DD 6E 04    	ld	l,(ix+4)
2159  0871  18 2D       	jr	l_spr_tile_dir_00109
2160  0873              l_spr_tile_dir_00102:
2161  0873  DD 7E 04    	ld	a,(ix+4)
2162  0876  DD 86 06    	add	a,(ix+6)
2163  0879  47          	ld	b, a
2164  087A  CB 59       	bit	3, c
2165  087C  28 03       	jr	Z,l_spr_tile_dir_00104
2166  087E  68          	ld	l, b
2167  087F  18 1F       	jr	l_spr_tile_dir_00109
2168  0881              l_spr_tile_dir_00104:
2169  0881  3E 00       	ld	a, +((_state_a) & 0xFF)
2170  0883  DD 86 05    	add	a,(ix+5)
2171  0886  5F          	ld	e, a
2172  0887  3E 00       	ld	a, +((_state_a) / 256)
2173  0889  CE 00       	adc	a,0x00
2174  088B  57          	ld	d, a
2175  088C  1A          	ld	a, (de)
2176  088D  CB 67       	bit	4, a
2177  088F  28 05       	jr	Z,l_spr_tile_dir_00106
2178  0891  DD 6E 04    	ld	l,(ix+4)
2179  0894  18 0A       	jr	l_spr_tile_dir_00109
2180  0896              l_spr_tile_dir_00106:
2181  0896  CB 5F       	bit	3, a
2182  0898  28 03       	jr	Z,l_spr_tile_dir_00108
2183  089A  68          	ld	l, b
2184  089B  18 03       	jr	l_spr_tile_dir_00109
2185  089D              l_spr_tile_dir_00108:
2186  089D  DD 6E 04    	ld	l,(ix+4)
2187  08A0              l_spr_tile_dir_00109:
2188  08A0  DD E1       	pop	ix
2189  08A2  C9          	ret
2190  08A3              	SECTION code_compiler
2191  08A3              ;	---------------------------------
2192  08A3              ; Function spr_draw_background
2193  08A3              ; ---------------------------------
2194  08A3              _spr_draw_background:
2195  08A3  76          	halt
2196  08A4  21 10 00    	ld	hl,0x0010
2197  08A7  22 00 00    	ld	(_index1),hl
2198  08AA  21 00 00    	ld	hl,_s_lin1
2199  08AD  36 00       	ld	(hl),0x00
2200  08AF  21 00 00    	ld	hl,_s_col1
2201  08B2  36 02       	ld	(hl),0x02
2202  08B4  21 00 00    	ld	hl,_spr_count
2203  08B7  36 00       	ld	(hl),0x00
2204  08B9              l_spr_draw_background_00117:
2205  08B9  21 00 00    	ld	hl,_index1
2206  08BC  7E          	ld	a, (hl)
2207  08BD  D6 A0       	sub	a,0xa0
2208  08BF  23          	inc	hl
2209  08C0  7E          	ld	a, (hl)
2210  08C1  DE 00       	sbc	a,0x00
2211  08C3  D2 1D 0A    	jp	NC, l_spr_draw_background_00120
2212  08C6  2B          	dec	hl
2213  08C7  7E          	ld	a, (hl)
2214  08C8  E6 0F       	and	a,0x0f
2215  08CA  20 0C       	jr	NZ,l_spr_draw_background_00102
2216  08CC  21 00 00    	ld	hl,_s_lin1
2217  08CF  7E          	ld	a, (hl)
2218  08D0  C6 10       	add	a,0x10
2219  08D2  77          	ld	(hl), a
2220  08D3  21 00 00    	ld	hl,_s_col1
2221  08D6  36 00       	ld	(hl),0x00
2222  08D8              l_spr_draw_background_00102:
2223  08D8  01 00 00    	ld	bc,_scr_map
2224  08DB  2A 00 00    	ld	hl,(_index1)
2225  08DE  09          	add	hl,bc
2226  08DF  7E          	ld	a,(hl)
2227  08E0  47          	ld	b,a
2228  08E1  D6 54       	sub	a,0x54
2229  08E3  3E 00       	ld	a,0x00
2230  08E5  17          	rla
2231  08E6  B7          	or	a, a
2232  08E7  28 11       	jr	Z,l_spr_draw_background_00115
2233  08E9  3A 00 00    	ld	a,(_s_col1)
2234  08EC  F5          	push	af
2235  08ED  33          	inc	sp
2236  08EE  3A 00 00    	ld	a,(_s_lin1)
2237  08F1  48          	ld	c,b
2238  08F2  47          	ld	b,a
2239  08F3  C5          	push	bc
2240  08F4  CD 00 00    	call	_NIRVANAP_drawT_callee
2241  08F7  C3 0C 0A    	jp	l_spr_draw_background_00116
2242  08FA              l_spr_draw_background_00115:
2243  08FA  B7          	or	a, a
2244  08FB  C2 03 0A    	jp	NZ, l_spr_draw_background_00113
2245  08FE  3E 5D       	ld	a,0x5d
2246  0900  90          	sub	a, b
2247  0901  DA 03 0A    	jp	C, l_spr_draw_background_00113
2248  0904  78          	ld	a, b
2249  0905  C6 AC       	add	a,0xac
2250  0907  4F          	ld	c, a
2251  0908  06 00       	ld	b,0x00
2252  090A  21 11 09    	ld	hl,l_spr_draw_background_00148
2253  090D  09          	add	hl, bc
2254  090E  09          	add	hl, bc
2255  090F  09          	add	hl, bc
2256  0910  E9          	jp	(hl)
2257  0911              l_spr_draw_background_00148:
2258  0911  C3 45 09    	jp	l_spr_draw_background_00104
2259  0914  C3 2F 09    	jp	l_spr_draw_background_00103
2260  0917  C3 71 09    	jp	l_spr_draw_background_00106
2261  091A  C3 5B 09    	jp	l_spr_draw_background_00105
2262  091D  C3 9C 09    	jp	l_spr_draw_background_00108
2263  0920  C3 87 09    	jp	l_spr_draw_background_00107
2264  0923  C3 C6 09    	jp	l_spr_draw_background_00110
2265  0926  C3 B1 09    	jp	l_spr_draw_background_00109
2266  0929  C3 F0 09    	jp	l_spr_draw_background_00112
2267  092C  C3 DB 09    	jp	l_spr_draw_background_00111
2268  092F              l_spr_draw_background_00103:
2269  092F  3A 00 00    	ld	a,(_s_col1)
2270  0932  21 01 01    	ld	hl,0x0101
2271  0935  E5          	push	hl
2272  0936  F5          	push	af
2273  0937  33          	inc	sp
2274  0938  3A 00 00    	ld	a,(_s_lin1)
2275  093B  F5          	push	af
2276  093C  33          	inc	sp
2277  093D  CD 00 00    	call	_enemy_init
2278  0940  F1          	pop	af
2279  0941  F1          	pop	af
2280  0942  C3 03 0A    	jp	l_spr_draw_background_00113
2281  0945              l_spr_draw_background_00104:
2282  0945  3A 00 00    	ld	a,(_s_col1)
2283  0948  21 01 FF    	ld	hl,0xff01
2284  094B  E5          	push	hl
2285  094C  F5          	push	af
2286  094D  33          	inc	sp
2287  094E  3A 00 00    	ld	a,(_s_lin1)
2288  0951  F5          	push	af
2289  0952  33          	inc	sp
2290  0953  CD 00 00    	call	_enemy_init
2291  0956  F1          	pop	af
2292  0957  F1          	pop	af
2293  0958  C3 03 0A    	jp	l_spr_draw_background_00113
2294  095B              l_spr_draw_background_00105:
2295  095B  3A 00 00    	ld	a,(_s_col1)
2296  095E  21 02 01    	ld	hl,0x0102
2297  0961  E5          	push	hl
2298  0962  F5          	push	af
2299  0963  33          	inc	sp
2300  0964  3A 00 00    	ld	a,(_s_lin1)
2301  0967  F5          	push	af
2302  0968  33          	inc	sp
2303  0969  CD 00 00    	call	_enemy_init
2304  096C  F1          	pop	af
2305  096D  F1          	pop	af
2306  096E  C3 03 0A    	jp	l_spr_draw_background_00113
2307  0971              l_spr_draw_background_00106:
2308  0971  3A 00 00    	ld	a,(_s_col1)
2309  0974  21 02 FF    	ld	hl,0xff02
2310  0977  E5          	push	hl
2311  0978  F5          	push	af
2312  0979  33          	inc	sp
2313  097A  3A 00 00    	ld	a,(_s_lin1)
2314  097D  F5          	push	af
2315  097E  33          	inc	sp
2316  097F  CD 00 00    	call	_enemy_init
2317  0982  F1          	pop	af
2318  0983  F1          	pop	af
2319  0984  C3 03 0A    	jp	l_spr_draw_background_00113
2320  0987              l_spr_draw_background_00107:
2321  0987  3A 00 00    	ld	a,(_s_col1)
2322  098A  21 03 01    	ld	hl,0x0103
2323  098D  E5          	push	hl
2324  098E  F5          	push	af
2325  098F  33          	inc	sp
2326  0990  3A 00 00    	ld	a,(_s_lin1)
2327  0993  F5          	push	af
2328  0994  33          	inc	sp
2329  0995  CD 00 00    	call	_enemy_init
2330  0998  F1          	pop	af
2331  0999  F1          	pop	af
2332  099A  18 67       	jr	l_spr_draw_background_00113
2333  099C              l_spr_draw_background_00108:
2334  099C  3A 00 00    	ld	a,(_s_col1)
2335  099F  21 03 FF    	ld	hl,0xff03
2336  09A2  E5          	push	hl
2337  09A3  F5          	push	af
2338  09A4  33          	inc	sp
2339  09A5  3A 00 00    	ld	a,(_s_lin1)
2340  09A8  F5          	push	af
2341  09A9  33          	inc	sp
2342  09AA  CD 00 00    	call	_enemy_init
2343  09AD  F1          	pop	af
2344  09AE  F1          	pop	af
2345  09AF  18 52       	jr	l_spr_draw_background_00113
2346  09B1              l_spr_draw_background_00109:
2347  09B1  3A 00 00    	ld	a,(_s_col1)
2348  09B4  21 04 01    	ld	hl,0x0104
2349  09B7  E5          	push	hl
2350  09B8  F5          	push	af
2351  09B9  33          	inc	sp
2352  09BA  3A 00 00    	ld	a,(_s_lin1)
2353  09BD  F5          	push	af
2354  09BE  33          	inc	sp
2355  09BF  CD 00 00    	call	_enemy_init
2356  09C2  F1          	pop	af
2357  09C3  F1          	pop	af
2358  09C4  18 3D       	jr	l_spr_draw_background_00113
2359  09C6              l_spr_draw_background_00110:
2360  09C6  3A 00 00    	ld	a,(_s_col1)
2361  09C9  21 04 FF    	ld	hl,0xff04
2362  09CC  E5          	push	hl
2363  09CD  F5          	push	af
2364  09CE  33          	inc	sp
2365  09CF  3A 00 00    	ld	a,(_s_lin1)
2366  09D2  F5          	push	af
2367  09D3  33          	inc	sp
2368  09D4  CD 00 00    	call	_enemy_init
2369  09D7  F1          	pop	af
2370  09D8  F1          	pop	af
2371  09D9  18 28       	jr	l_spr_draw_background_00113
2372  09DB              l_spr_draw_background_00111:
2373  09DB  3A 00 00    	ld	a,(_s_col1)
2374  09DE  21 05 01    	ld	hl,0x0105
2375  09E1  E5          	push	hl
2376  09E2  F5          	push	af
2377  09E3  33          	inc	sp
2378  09E4  3A 00 00    	ld	a,(_s_lin1)
2379  09E7  F5          	push	af
2380  09E8  33          	inc	sp
2381  09E9  CD 00 00    	call	_enemy_init
2382  09EC  F1          	pop	af
2383  09ED  F1          	pop	af
2384  09EE  18 13       	jr	l_spr_draw_background_00113
2385  09F0              l_spr_draw_background_00112:
2386  09F0  3A 00 00    	ld	a,(_s_col1)
2387  09F3  21 05 FF    	ld	hl,0xff05
2388  09F6  E5          	push	hl
2389  09F7  F5          	push	af
2390  09F8  33          	inc	sp
2391  09F9  3A 00 00    	ld	a,(_s_lin1)
2392  09FC  F5          	push	af
2393  09FD  33          	inc	sp
2394  09FE  CD 00 00    	call	_enemy_init
2395  0A01  F1          	pop	af
2396  0A02  F1          	pop	af
2397  0A03              l_spr_draw_background_00113:
2398  0A03  01 00 00    	ld	bc,_scr_map
2399  0A06  2A 00 00    	ld	hl,(_index1)
2400  0A09  09          	add	hl,bc
2401  0A0A  AF          	xor	a,a
2402  0A0B  77          	ld	(hl),a
2403  0A0C              l_spr_draw_background_00116:
2404  0A0C  21 00 00    	ld	hl,_s_col1
2405  0A0F  34          	inc	(hl)
2406  0A10  34          	inc	(hl)
2407  0A11  21 00 00    	ld	hl,_index1
2408  0A14  34          	inc	(hl)
2409  0A15  C2 B9 08    	jp	NZ,l_spr_draw_background_00117
2410  0A18  23          	inc	hl
2411  0A19  34          	inc	(hl)
2412  0A1A  C3 B9 08    	jp	l_spr_draw_background_00117
2413  0A1D              l_spr_draw_background_00120:
2414  0A1D  C9          	ret
2415  0A1E              	SECTION code_compiler
2416  0A1E              ;	---------------------------------
2417  0A1E              ; Function spr_draw_clear
2418  0A1E              ; ---------------------------------
2419  0A1E              _spr_draw_clear:
2420  0A1E  F3          	di
2421  0A1F  2E 00       	ld	l,0x00
2422  0A21  CD 00 00    	call	_zx_cls_fastcall
2423  0A24  21 00 00    	ld	hl,_s_lin1
2424  0A27  36 10       	ld	(hl),0x10
2425  0A29              l_spr_draw_clear_00105:
2426  0A29  21 00 00    	ld	hl,_s_col1
2427  0A2C  36 00       	ld	(hl),0x00
2428  0A2E              l_spr_draw_clear_00103:
2429  0A2E  2A FF FF    	ld	hl,(_s_col1 - 1)
2430  0A31  3A 00 00    	ld	a,(_s_lin1)
2431  0A34  6F          	ld	l,a
2432  0A35  E5          	push	hl
2433  0A36  AF          	xor	a, a
2434  0A37  F5          	push	af
2435  0A38  33          	inc	sp
2436  0A39  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2437  0A3C  21 00 00    	ld	hl,_s_col1
2438  0A3F  7E          	ld	a,(hl)
2439  0A40  C6 02       	add	a,0x02
2440  0A42  77          	ld	(hl),a
2441  0A43  D6 20       	sub	a,0x20
2442  0A45  38 E7       	jr	C,l_spr_draw_clear_00103
2443  0A47  21 00 00    	ld	hl,_s_lin1
2444  0A4A  7E          	ld	a, (hl)
2445  0A4B  C6 10       	add	a,0x10
2446  0A4D  77          	ld	(hl), a
2447  0A4E  3E A2       	ld	a,0xa2
2448  0A50  96          	sub	a, (hl)
2449  0A51  30 D6       	jr	NC,l_spr_draw_clear_00105
2450  0A53  FB          	ei
2451  0A54  C9          	ret
2452  0A55              	SECTION code_compiler
2453  0A55              ;	---------------------------------
2454  0A55              ; Function spr_brick_anim
2455  0A55              ; ---------------------------------
2456  0A55              _spr_brick_anim:
2457  0A55  CD 00 00    	call	___sdcc_enter_ix
2458  0A58  F5          	push	af
2459  0A59  DD 75 FF    	ld	(ix-1),l
2460  0A5C  21 00 00    	ld	hl,_player_hit_col
2461  0A5F  56          	ld	d, (hl)
2462  0A60  21 00 00    	ld	hl,_player_hit_lin
2463  0A63  5E          	ld	e, (hl)
2464  0A64  D5          	push	de
2465  0A65  D5          	push	de
2466  0A66  CD 00 00    	call	_spr_calc_index
2467  0A69  F1          	pop	af
2468  0A6A  D1          	pop	de
2469  0A6B  22 00 00    	ld	(_index1),hl
2470  0A6E  01 F0 FF    	ld	bc,0xfff0
2471  0A71  09          	add	hl,bc
2472  0A72  01 00 00    	ld	bc,_scr_map
2473  0A75  09          	add	hl,bc
2474  0A76  7E          	ld	a, (hl)
2475  0A77  DD 77 FE    	ld	(ix-2),a
2476  0A7A  01 00 00    	ld	bc,_scr_map
2477  0A7D  2A 00 00    	ld	hl,(_index1)
2478  0A80  09          	add	hl,bc
2479  0A81  4D          	ld	c,l
2480  0A82  46          	ld	b, (hl)
2481  0A83  DD 7E FF    	ld	a,(ix-1)
2482  0A86  B7          	or	a, a
2483  0A87  28 08       	jr	Z,l_spr_brick_anim_00102
2484  0A89  7B          	ld	a, e
2485  0A8A  C6 F6       	add	a,0xf6
2486  0A8C  32 00 00    	ld	(_tmp),a
2487  0A8F  18 06       	jr	l_spr_brick_anim_00103
2488  0A91              l_spr_brick_anim_00102:
2489  0A91  7B          	ld	a, e
2490  0A92  C6 F8       	add	a,0xf8
2491  0A94  32 00 00    	ld	(_tmp),a
2492  0A97              l_spr_brick_anim_00103:
2493  0A97  DD 7E FF    	ld	a,(ix-1)
2494  0A9A  B7          	or	a, a
2495  0A9B  28 23       	jr	Z,l_spr_brick_anim_00105
2496  0A9D  D5          	push	de
2497  0A9E  D5          	push	de
2498  0A9F  33          	inc	sp
2499  0AA0  53          	ld	d, e
2500  0AA1  1E 49       	ld	e,0x49
2501  0AA3  D5          	push	de
2502  0AA4  CD 00 00    	call	_NIRVANAP_fillC_callee
2503  0AA7  D1          	pop	de
2504  0AA8  62          	ld	h, d
2505  0AA9  24          	inc	h
2506  0AAA  D5          	push	de
2507  0AAB  E5          	push	hl
2508  0AAC  33          	inc	sp
2509  0AAD  53          	ld	d, e
2510  0AAE  1E 49       	ld	e,0x49
2511  0AB0  D5          	push	de
2512  0AB1  CD 00 00    	call	_NIRVANAP_fillC_callee
2513  0AB4  33          	inc	sp
2514  0AB5  3A 00 00    	ld	a,(_tmp)
2515  0AB8  48          	ld	c,b
2516  0AB9  47          	ld	b,a
2517  0ABA  C5          	push	bc
2518  0ABB  CD 00 00    	call	_NIRVANAP_drawT_callee
2519  0ABE  18 1E       	jr	l_spr_brick_anim_00107
2520  0AC0              l_spr_brick_anim_00105:
2521  0AC0  3A 00 00    	ld	a,(_tmp)
2522  0AC3  C6 F0       	add	a,0xf0
2523  0AC5  C5          	push	bc
2524  0AC6  D5          	push	de
2525  0AC7  5F          	ld	e,a
2526  0AC8  D5          	push	de
2527  0AC9  DD 7E FE    	ld	a,(ix-2)
2528  0ACC  F5          	push	af
2529  0ACD  33          	inc	sp
2530  0ACE  CD 00 00    	call	_NIRVANAP_drawT_callee
2531  0AD1  D1          	pop	de
2532  0AD2  C1          	pop	bc
2533  0AD3  D5          	push	de
2534  0AD4  33          	inc	sp
2535  0AD5  3A 00 00    	ld	a,(_tmp)
2536  0AD8  48          	ld	c,b
2537  0AD9  47          	ld	b,a
2538  0ADA  C5          	push	bc
2539  0ADB  CD 00 00    	call	_NIRVANAP_drawT_callee
2540  0ADE              l_spr_brick_anim_00107:
2541  0ADE  F1          	pop	af
2542  0ADF  DD E1       	pop	ix
2543  0AE1  C9          	ret
2544  0AE2              	SECTION code_compiler
2545  0AE2              ;	---------------------------------
2546  0AE2              ; Function spr_draw_index
2547  0AE2              ; ---------------------------------
2548  0AE2              _spr_draw_index:
2549  0AE2  CD 00 00    	call	___sdcc_enter_ix
2550  0AE5  DD 7E 04    	ld	a,(ix+4)
2551  0AE8  E6 1F       	and	a,0x1f
2552  0AEA  32 00 00    	ld	(_s_col1),a
2553  0AED  DD 4E 04    	ld	c,(ix+4)
2554  0AF0  DD 5E 05    	ld	e,(ix+5)
2555  0AF3  06 05       	ld	b,0x05
2556  0AF5  79          	ld	a,c
2557  0AF6              l_spr_draw_index_00103:
2558  0AF6  CB 3B       	srl	e
2559  0AF8  1F          	rra
2560  0AF9  10 FB       	djnz	l_spr_draw_index_00103
2561  0AFB  21 00 00    	ld	hl,_s_lin1
2562  0AFE  77          	ld	(hl),a
2563  0AFF  07          	rlca
2564  0B00  07          	rlca
2565  0B01  07          	rlca
2566  0B02  E6 F8       	and	a,0xf8
2567  0B04  77          	ld	(hl), a
2568  0B05  3E 00       	ld	a, +((_scr_map) & 0xFF)
2569  0B07  DD 86 04    	add	a,(ix+4)
2570  0B0A  4F          	ld	c, a
2571  0B0B  3E 00       	ld	a, +((_scr_map) / 256)
2572  0B0D  DD 8E 05    	adc	a,(ix+5)
2573  0B10  47          	ld	b, a
2574  0B11  0A          	ld	a, (bc)
2575  0B12  47          	ld	b, a
2576  0B13  3A 00 00    	ld	a,(_s_col1)
2577  0B16  F5          	push	af
2578  0B17  33          	inc	sp
2579  0B18  3A 00 00    	ld	a,(_s_lin1)
2580  0B1B  48          	ld	c,b
2581  0B1C  47          	ld	b,a
2582  0B1D  C5          	push	bc
2583  0B1E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2584  0B21  DD E1       	pop	ix
2585  0B23  C9          	ret
2586  0B24              	SECTION code_compiler
2587  0B24              ;	---------------------------------
2588  0B24              ; Function spr_draw_row
2589  0B24              ; ---------------------------------
2590  0B24              _spr_draw_row:
2591  0B24  CD 00 00    	call	___sdcc_enter_ix
2592  0B27  3B          	dec	sp
2593  0B28  F3          	di
2594  0B29  21 00 00    	ld	hl,_tmp
2595  0B2C  36 00       	ld	(hl),0x00
2596  0B2E  DD 7E 04    	ld	a,(ix+4)
2597  0B31  07          	rlca
2598  0B32  07          	rlca
2599  0B33  07          	rlca
2600  0B34  E6 F8       	and	a,0xf8
2601  0B36  DD 77 FF    	ld	(ix-1),a
2602  0B39              l_spr_draw_row_00101:
2603  0B39  21 00 00    	ld	hl,_tmp
2604  0B3C  7E          	ld	a, (hl)
2605  0B3D  D6 20       	sub	a,0x20
2606  0B3F  30 38       	jr	NC,l_spr_draw_row_00103
2607  0B41  DD 4E 04    	ld	c,(ix+4)
2608  0B44  3E 00       	ld	a,0x00
2609  0B46  CB 21       	sla	c
2610  0B48  17          	rla
2611  0B49  CB 21       	sla	c
2612  0B4B  17          	rla
2613  0B4C  CB 21       	sla	c
2614  0B4E  17          	rla
2615  0B4F  CB 21       	sla	c
2616  0B51  17          	rla
2617  0B52  CB 21       	sla	c
2618  0B54  17          	rla
2619  0B55  47          	ld	b,a
2620  0B56  5E          	ld	e, (hl)
2621  0B57  16 00       	ld	d,0x00
2622  0B59  79          	ld	a, c
2623  0B5A  83          	add	a, e
2624  0B5B  21 00 00    	ld	hl,_index1
2625  0B5E  77          	ld	(hl), a
2626  0B5F  78          	ld	a, b
2627  0B60  8A          	adc	a, d
2628  0B61  23          	inc	hl
2629  0B62  77          	ld	(hl), a
2630  0B63  2A FF FF    	ld	hl,(_tmp-1)
2631  0B66  DD 6E FF    	ld	l,(ix-1)
2632  0B69  3A 00 00    	ld	a,(_game_brick_tile)
2633  0B6C  E5          	push	hl
2634  0B6D  F5          	push	af
2635  0B6E  33          	inc	sp
2636  0B6F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2637  0B72  21 00 00    	ld	hl,_tmp
2638  0B75  34          	inc	(hl)
2639  0B76  34          	inc	(hl)
2640  0B77  18 C0       	jr	l_spr_draw_row_00101
2641  0B79              l_spr_draw_row_00103:
2642  0B79  FB          	ei
2643  0B7A  33          	inc	sp
2644  0B7B  DD E1       	pop	ix
2645  0B7D  C9          	ret
2646  0B7E              	SECTION code_compiler
2647  0B7E              ;	---------------------------------
2648  0B7E              ; Function spr_calc_hor
2649  0B7E              ; ---------------------------------
2650  0B7E              _spr_calc_hor:
2651  0B7E  CD 00 00    	call	___sdcc_enter_ix
2652  0B81  3E 00       	ld	a, +((_col) & 0xFF)
2653  0B83  DD 86 04    	add	a,(ix+4)
2654  0B86  4F          	ld	c, a
2655  0B87  3E 00       	ld	a, +((_col) / 256)
2656  0B89  CE 00       	adc	a,0x00
2657  0B8B  47          	ld	b, a
2658  0B8C  0A          	ld	a, (bc)
2659  0B8D  5F          	ld	e, a
2660  0B8E  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2661  0B90  DD 86 04    	add	a,(ix+4)
2662  0B93  4F          	ld	c, a
2663  0B94  3E 00       	ld	a, +((_sprite_frames) / 256)
2664  0B96  CE 00       	adc	a,0x00
2665  0B98  47          	ld	b, a
2666  0B99  0A          	ld	a, (bc)
2667  0B9A  67          	ld	h, a
2668  0B9B  2E 00       	ld	l,0x00
2669  0B9D  55          	ld	d, l
2670  0B9E  06 08       	ld	b,0x08
2671  0BA0              l_spr_calc_hor_00103:
2672  0BA0  29          	add	hl, hl
2673  0BA1  30 01       	jr	NC,l_spr_calc_hor_00104
2674  0BA3  19          	add	hl, de
2675  0BA4              l_spr_calc_hor_00104:
2676  0BA4  10 FA       	djnz	l_spr_calc_hor_00103
2677  0BA6  DD E1       	pop	ix
2678  0BA8  C9          	ret
2679  0BA9              	SECTION code_compiler
2680  0BA9              ;	---------------------------------
2681  0BA9              ; Function spr_collision_check
2682  0BA9              ; ---------------------------------
2683  0BA9              _spr_collision_check:
2684  0BA9  CD 00 00    	call	___sdcc_enter_ix
2685  0BAC  3E 00       	ld	a, +((_class) & 0xFF)
2686  0BAE  DD 86 05    	add	a,(ix+5)
2687  0BB1  4F          	ld	c, a
2688  0BB2  3E 00       	ld	a, +((_class) / 256)
2689  0BB4  CE 00       	adc	a,0x00
2690  0BB6  47          	ld	b, a
2691  0BB7  0A          	ld	a, (bc)
2692  0BB8  B7          	or	a, a
2693  0BB9  28 10       	jr	Z,l_spr_collision_check_00101
2694  0BBB  3E 00       	ld	a, +((_state) & 0xFF)
2695  0BBD  DD 86 05    	add	a,(ix+5)
2696  0BC0  4F          	ld	c, a
2697  0BC1  3E 00       	ld	a, +((_state) / 256)
2698  0BC3  CE 00       	adc	a,0x00
2699  0BC5  47          	ld	b, a
2700  0BC6  0A          	ld	a, (bc)
2701  0BC7  CB 6F       	bit	5, a
2702  0BC9  28 04       	jr	Z,l_spr_collision_check_00102
2703  0BCB              l_spr_collision_check_00101:
2704  0BCB  2E 00       	ld	l,0x00
2705  0BCD  18 6D       	jr	l_spr_collision_check_00109
2706  0BCF              l_spr_collision_check_00102:
2707  0BCF  01 00 00    	ld	bc,_lin+0
2708  0BD2  79          	ld	a, c
2709  0BD3  DD 86 05    	add	a,(ix+5)
2710  0BD6  5F          	ld	e, a
2711  0BD7  78          	ld	a, b
2712  0BD8  CE 00       	adc	a,0x00
2713  0BDA  57          	ld	d, a
2714  0BDB  1A          	ld	a, (de)
2715  0BDC  5F          	ld	e, a
2716  0BDD  16 00       	ld	d,0x00
2717  0BDF  79          	ld	a, c
2718  0BE0  DD 86 04    	add	a,(ix+4)
2719  0BE3  4F          	ld	c, a
2720  0BE4  78          	ld	a, b
2721  0BE5  CE 00       	adc	a,0x00
2722  0BE7  47          	ld	b, a
2723  0BE8  0A          	ld	a, (bc)
2724  0BE9  4F          	ld	c, a
2725  0BEA  AF          	xor	a,a
2726  0BEB  47          	ld	b,a
2727  0BEC  EB          	ex	de,hl
2728  0BED  ED 42       	sbc	hl,bc
2729  0BEF  CD 00 00    	call	_abs_fastcall
2730  0BF2  22 00 00    	ld	(_tmp_ui),hl
2731  0BF5  21 01 00    	ld	hl,_tmp_ui + 1
2732  0BF8  DD 7E 06    	ld	a,(ix+6)
2733  0BFB  06 00       	ld	b,0x00
2734  0BFD  2B          	dec	hl
2735  0BFE  96          	sub	a, (hl)
2736  0BFF  78          	ld	a, b
2737  0C00  23          	inc	hl
2738  0C01  9E          	sbc	a, (hl)
2739  0C02  30 04       	jr	NC,l_spr_collision_check_00105
2740  0C04  2E 00       	ld	l,0x00
2741  0C06  18 34       	jr	l_spr_collision_check_00109
2742  0C08              l_spr_collision_check_00105:
2743  0C08  DD 7E 04    	ld	a,(ix+4)
2744  0C0B  F5          	push	af
2745  0C0C  33          	inc	sp
2746  0C0D  CD 7E 0B    	call	_spr_calc_hor
2747  0C10  33          	inc	sp
2748  0C11  4D          	ld	c, l
2749  0C12  C5          	push	bc
2750  0C13  DD 7E 05    	ld	a,(ix+5)
2751  0C16  F5          	push	af
2752  0C17  33          	inc	sp
2753  0C18  CD 7E 0B    	call	_spr_calc_hor
2754  0C1B  33          	inc	sp
2755  0C1C  C1          	pop	bc
2756  0C1D  5D          	ld	e,l
2757  0C1E  69          	ld	l, c
2758  0C1F  AF          	xor	a,a
2759  0C20  67          	ld	h,a
2760  0C21  57          	ld	d,a
2761  0C22  ED 52       	sbc	hl,de
2762  0C24  CD 00 00    	call	_abs_fastcall
2763  0C27  22 00 00    	ld	(_tmp_ui),hl
2764  0C2A  3E 03       	ld	a,0x03
2765  0C2C  21 00 00    	ld	hl,_tmp_ui
2766  0C2F  BE          	cp	a, (hl)
2767  0C30  3E 00       	ld	a,0x00
2768  0C32  23          	inc	hl
2769  0C33  9E          	sbc	a, (hl)
2770  0C34  30 04       	jr	NC,l_spr_collision_check_00107
2771  0C36  2E 00       	ld	l,0x00
2772  0C38  18 02       	jr	l_spr_collision_check_00109
2773  0C3A              l_spr_collision_check_00107:
2774  0C3A  2E 01       	ld	l,0x01
2775  0C3C              l_spr_collision_check_00109:
2776  0C3C  DD E1       	pop	ix
2777  0C3E  C9          	ret
2778  0C3F              	SECTION code_compiler
2779  0C3F              ;	---------------------------------
2780  0C3F              ; Function spr_kill_all
2781  0C3F              ; ---------------------------------
2782  0C3F              _spr_kill_all:
2783  0C3F  21 00 00    	ld	hl,_sprite
2784  0C42  36 00       	ld	(hl),0x00
2785  0C44              l_spr_kill_all_00102:
2786  0C44  2A 00 00    	ld	hl,(_sprite)
2787  0C47  CD 83 07    	call	_spr_destroy
2788  0C4A  21 00 00    	ld	hl,_sprite
2789  0C4D  7E          	ld	a,(hl)
2790  0C4E  3C          	inc	a
2791  0C4F  77          	ld	(hl),a
2792  0C50  D6 08       	sub	a,0x08
2793  0C52  38 F0       	jr	C,l_spr_kill_all_00102
2794  0C54  C9          	ret
2795  0C55              	SECTION code_compiler
2796  0C55              ;	---------------------------------
2797  0C55              ; Function spr_back_clr
2798  0C55              ; ---------------------------------
2799  0C55              _spr_back_clr:
2800  0C55  2A FF FF    	ld	hl,(_s_col0 - 1)
2801  0C58  3A 00 00    	ld	a,(_s_lin0)
2802  0C5B  6F          	ld	l,a
2803  0C5C  E5          	push	hl
2804  0C5D  CD 00 00    	call	_spr_calc_index
2805  0C60  F1          	pop	af
2806  0C61  7D          	ld	a,l
2807  0C62  32 00 00    	ld	(_sprite_curr_index),a
2808  0C65  21 00 00    	ld	hl,_s_lin0
2809  0C68  7E          	ld	a, (hl)
2810  0C69  E6 0F       	and	a,0x0f
2811  0C6B  4F          	ld	c, a
2812  0C6C  7E          	ld	a, (hl)
2813  0C6D  07          	rlca
2814  0C6E  07          	rlca
2815  0C6F  07          	rlca
2816  0C70  07          	rlca
2817  0C71  E6 0F       	and	a,0x0f
2818  0C73  47          	ld	b, a
2819  0C74  21 00 00    	ld	hl,_s_col0
2820  0C77  CB 46       	bit	0, (hl)
2821  0C79  20 66       	jr	NZ,l_spr_back_clr_00108
2822  0C7B  79          	ld	a, c
2823  0C7C  B7          	or	a, a
2824  0C7D  20 1D       	jr	NZ,l_spr_back_clr_00102
2825  0C7F  2A 00 00    	ld	hl,(_sprite_curr_index)
2826  0C82  26 00       	ld	h,0x00
2827  0C84  01 00 00    	ld	bc,_scr_map
2828  0C87  09          	add	hl,bc
2829  0C88  46          	ld	b,(hl)
2830  0C89  3A 00 00    	ld	a,(_s_col0)
2831  0C8C  F5          	push	af
2832  0C8D  33          	inc	sp
2833  0C8E  3A 00 00    	ld	a,(_s_lin0)
2834  0C91  48          	ld	c,b
2835  0C92  47          	ld	b,a
2836  0C93  C5          	push	bc
2837  0C94  CD A4 0D    	call	_spr_tile_paint
2838  0C97  F1          	pop	af
2839  0C98  33          	inc	sp
2840  0C99  C3 A3 0D    	jp	l_spr_back_clr_00110
2841  0C9C              l_spr_back_clr_00102:
2842  0C9C  78          	ld	a, b
2843  0C9D  07          	rlca
2844  0C9E  07          	rlca
2845  0C9F  07          	rlca
2846  0CA0  07          	rlca
2847  0CA1  E6 F0       	and	a,0xf0
2848  0CA3  47          	ld	b, a
2849  0CA4  2A 00 00    	ld	hl,(_sprite_curr_index)
2850  0CA7  26 00       	ld	h,0x00
2851  0CA9  11 00 00    	ld	de,_scr_map
2852  0CAC  19          	add	hl,de
2853  0CAD  56          	ld	d, (hl)
2854  0CAE  3A 00 00    	ld	a,(_s_col0)
2855  0CB1  C5          	push	bc
2856  0CB2  F5          	push	af
2857  0CB3  33          	inc	sp
2858  0CB4  4A          	ld	c, d
2859  0CB5  C5          	push	bc
2860  0CB6  CD A4 0D    	call	_spr_tile_paint
2861  0CB9  F1          	pop	af
2862  0CBA  33          	inc	sp
2863  0CBB  C1          	pop	bc
2864  0CBC  78          	ld	a, b
2865  0CBD  C6 10       	add	a,0x10
2866  0CBF  57          	ld	d, a
2867  0CC0  21 00 00    	ld	hl,_sprite_curr_index
2868  0CC3  7E          	ld	a, (hl)
2869  0CC4  C6 10       	add	a,0x10
2870  0CC6  77          	ld	(hl), a
2871  0CC7  C6 00       	add	a,+((_scr_map) & 0xFF)
2872  0CC9  4F          	ld	c, a
2873  0CCA  3E 00       	ld	a, +((_scr_map) / 256)
2874  0CCC  CE 00       	adc	a,0x00
2875  0CCE  47          	ld	b, a
2876  0CCF  0A          	ld	a, (bc)
2877  0CD0  47          	ld	b, a
2878  0CD1  3A 00 00    	ld	a,(_s_col0)
2879  0CD4  5A          	ld	e,d
2880  0CD5  57          	ld	d,a
2881  0CD6  D5          	push	de
2882  0CD7  C5          	push	bc
2883  0CD8  33          	inc	sp
2884  0CD9  CD A4 0D    	call	_spr_tile_paint
2885  0CDC  F1          	pop	af
2886  0CDD  33          	inc	sp
2887  0CDE  C3 A3 0D    	jp	l_spr_back_clr_00110
2888  0CE1              l_spr_back_clr_00108:
2889  0CE1  21 00 00    	ld	hl,_s_col0
2890  0CE4  56          	ld	d, (hl)
2891  0CE5  15          	dec	d
2892  0CE6  79          	ld	a, c
2893  0CE7  B7          	or	a, a
2894  0CE8  20 3A       	jr	NZ,l_spr_back_clr_00105
2895  0CEA  2A 00 00    	ld	hl,(_sprite_curr_index)
2896  0CED  26 00       	ld	h,0x00
2897  0CEF  01 00 00    	ld	bc,_scr_map
2898  0CF2  09          	add	hl,bc
2899  0CF3  46          	ld	b,(hl)
2900  0CF4  D5          	push	de
2901  0CF5  33          	inc	sp
2902  0CF6  3A 00 00    	ld	a,(_s_lin0)
2903  0CF9  48          	ld	c,b
2904  0CFA  47          	ld	b,a
2905  0CFB  C5          	push	bc
2906  0CFC  CD A4 0D    	call	_spr_tile_paint
2907  0CFF  F1          	pop	af
2908  0D00  33          	inc	sp
2909  0D01  21 00 00    	ld	hl,_sprite_curr_index
2910  0D04  34          	inc	(hl)
2911  0D05  21 00 00    	ld	hl,_s_col0
2912  0D08  46          	ld	b, (hl)
2913  0D09  04          	inc	b
2914  0D0A  2A 00 00    	ld	hl,(_sprite_curr_index)
2915  0D0D  26 00       	ld	h,0x00
2916  0D0F  11 00 00    	ld	de,_scr_map
2917  0D12  19          	add	hl,de
2918  0D13  56          	ld	d, (hl)
2919  0D14  C5          	push	bc
2920  0D15  33          	inc	sp
2921  0D16  3A 00 00    	ld	a,(_s_lin0)
2922  0D19  5A          	ld	e,d
2923  0D1A  57          	ld	d,a
2924  0D1B  D5          	push	de
2925  0D1C  CD A4 0D    	call	_spr_tile_paint
2926  0D1F  F1          	pop	af
2927  0D20  33          	inc	sp
2928  0D21  C3 A3 0D    	jp	l_spr_back_clr_00110
2929  0D24              l_spr_back_clr_00105:
2930  0D24  78          	ld	a, b
2931  0D25  07          	rlca
2932  0D26  07          	rlca
2933  0D27  07          	rlca
2934  0D28  07          	rlca
2935  0D29  E6 F0       	and	a,0xf0
2936  0D2B  47          	ld	b, a
2937  0D2C  3A 00 00    	ld	a,(_sprite_curr_index)
2938  0D2F  C6 00       	add	a,+((_scr_map) & 0xFF)
2939  0D31  4F          	ld	c,a
2940  0D32  3E 00       	ld	a,+((_scr_map) / 256)
2941  0D34  CE 00       	adc	a,0x00
2942  0D36  67          	ld	h, a
2943  0D37  69          	ld	l, c
2944  0D38  7E          	ld	a, (hl)
2945  0D39  C5          	push	bc
2946  0D3A  58          	ld	e,b
2947  0D3B  D5          	push	de
2948  0D3C  F5          	push	af
2949  0D3D  33          	inc	sp
2950  0D3E  CD A4 0D    	call	_spr_tile_paint
2951  0D41  F1          	pop	af
2952  0D42  33          	inc	sp
2953  0D43  C1          	pop	bc
2954  0D44  21 00 00    	ld	hl,_sprite_curr_index
2955  0D47  34          	inc	(hl)
2956  0D48  21 00 00    	ld	hl,_s_col0
2957  0D4B  4E          	ld	c, (hl)
2958  0D4C  0C          	inc	c
2959  0D4D  2A 00 00    	ld	hl,(_sprite_curr_index)
2960  0D50  26 00       	ld	h,0x00
2961  0D52  11 00 00    	ld	de,_scr_map
2962  0D55  19          	add	hl,de
2963  0D56  56          	ld	d, (hl)
2964  0D57  C5          	push	bc
2965  0D58  79          	ld	a, c
2966  0D59  F5          	push	af
2967  0D5A  33          	inc	sp
2968  0D5B  4A          	ld	c, d
2969  0D5C  C5          	push	bc
2970  0D5D  CD A4 0D    	call	_spr_tile_paint
2971  0D60  F1          	pop	af
2972  0D61  33          	inc	sp
2973  0D62  C1          	pop	bc
2974  0D63  78          	ld	a, b
2975  0D64  C6 10       	add	a,0x10
2976  0D66  4F          	ld	c, a
2977  0D67  21 00 00    	ld	hl,_sprite_curr_index
2978  0D6A  7E          	ld	a, (hl)
2979  0D6B  C6 0F       	add	a,0x0f
2980  0D6D  77          	ld	(hl), a
2981  0D6E  21 00 00    	ld	hl,_s_col0
2982  0D71  46          	ld	b, (hl)
2983  0D72  05          	dec	b
2984  0D73  2A 00 00    	ld	hl,(_sprite_curr_index)
2985  0D76  26 00       	ld	h,0x00
2986  0D78  11 00 00    	ld	de,_scr_map
2987  0D7B  19          	add	hl,de
2988  0D7C  66          	ld	h, (hl)
2989  0D7D  EB          	ex	de,hl
2990  0D7E  C5          	push	bc
2991  0D7F  C5          	push	bc
2992  0D80  D5          	push	de
2993  0D81  33          	inc	sp
2994  0D82  CD A4 0D    	call	_spr_tile_paint
2995  0D85  F1          	pop	af
2996  0D86  33          	inc	sp
2997  0D87  C1          	pop	bc
2998  0D88  21 00 00    	ld	hl,_sprite_curr_index
2999  0D8B  34          	inc	(hl)
3000  0D8C  21 00 00    	ld	hl,_s_col0
3001  0D8F  46          	ld	b, (hl)
3002  0D90  04          	inc	b
3003  0D91  2A 00 00    	ld	hl,(_sprite_curr_index)
3004  0D94  26 00       	ld	h,0x00
3005  0D96  11 00 00    	ld	de,_scr_map
3006  0D99  19          	add	hl,de
3007  0D9A  66          	ld	h, (hl)
3008  0D9B  C5          	push	bc
3009  0D9C  E5          	push	hl
3010  0D9D  33          	inc	sp
3011  0D9E  CD A4 0D    	call	_spr_tile_paint
3012  0DA1  F1          	pop	af
3013  0DA2  33          	inc	sp
3014  0DA3              l_spr_back_clr_00110:
3015  0DA3  C9          	ret
3016  0DA4              	SECTION code_compiler
3017  0DA4              ;	---------------------------------
3018  0DA4              ; Function spr_tile_paint
3019  0DA4              ; ---------------------------------
3020  0DA4              _spr_tile_paint:
3021  0DA4  CD 00 00    	call	___sdcc_enter_ix
3022  0DA7  DD 7E 04    	ld	a,(ix+4)
3023  0DAA  B7          	or	a, a
3024  0DAB  20 3E       	jr	NZ,l_spr_tile_paint_00102
3025  0DAD  DD 7E 06    	ld	a,(ix+6)
3026  0DB0  F5          	push	af
3027  0DB1  33          	inc	sp
3028  0DB2  DD 56 05    	ld	d,(ix+5)
3029  0DB5  1E 49       	ld	e,0x49
3030  0DB7  D5          	push	de
3031  0DB8  CD 00 00    	call	_NIRVANAP_fillC_callee
3032  0DBB  DD 7E 05    	ld	a,(ix+5)
3033  0DBE  C6 08       	add	a,0x08
3034  0DC0  47          	ld	b, a
3035  0DC1  DD 7E 06    	ld	a,(ix+6)
3036  0DC4  F5          	push	af
3037  0DC5  33          	inc	sp
3038  0DC6  C5          	push	bc
3039  0DC7  33          	inc	sp
3040  0DC8  3E 49       	ld	a,0x49
3041  0DCA  F5          	push	af
3042  0DCB  33          	inc	sp
3043  0DCC  CD 00 00    	call	_NIRVANAP_fillC_callee
3044  0DCF  DD 56 06    	ld	d,(ix+6)
3045  0DD2  14          	inc	d
3046  0DD3  D5          	push	de
3047  0DD4  D5          	push	de
3048  0DD5  33          	inc	sp
3049  0DD6  DD 56 05    	ld	d,(ix+5)
3050  0DD9  1E 49       	ld	e,0x49
3051  0DDB  D5          	push	de
3052  0DDC  CD 00 00    	call	_NIRVANAP_fillC_callee
3053  0DDF  33          	inc	sp
3054  0DE0  C5          	push	bc
3055  0DE1  33          	inc	sp
3056  0DE2  3E 49       	ld	a,0x49
3057  0DE4  F5          	push	af
3058  0DE5  33          	inc	sp
3059  0DE6  CD 00 00    	call	_NIRVANAP_fillC_callee
3060  0DE9  18 0F       	jr	l_spr_tile_paint_00104
3061  0DEB              l_spr_tile_paint_00102:
3062  0DEB  DD 66 06    	ld	h,(ix+6)
3063  0DEE  DD 6E 05    	ld	l,(ix+5)
3064  0DF1  E5          	push	hl
3065  0DF2  DD 7E 04    	ld	a,(ix+4)
3066  0DF5  F5          	push	af
3067  0DF6  33          	inc	sp
3068  0DF7  CD 00 00    	call	_NIRVANAP_drawT_callee
3069  0DFA              l_spr_tile_paint_00104:
3070  0DFA  DD E1       	pop	ix
3071  0DFC  C9          	ret
3072  0DFD              	SECTION code_compiler
3073  0DFD              ;	---------------------------------
3074  0DFD              ; Function spr_init_anim
3075  0DFD              ; ---------------------------------
3076  0DFD              _spr_init_anim:
3077  0DFD  01 00 00    	ld	bc,_anim_lin+0
3078  0E00  1E 00       	ld	e,0x00
3079  0E02              l_spr_init_anim_00102:
3080  0E02  6B          	ld	l,e
3081  0E03  26 00       	ld	h,0x00
3082  0E05  09          	add	hl, bc
3083  0E06  36 FF       	ld	(hl),0xff
3084  0E08  1C          	inc	e
3085  0E09  7B          	ld	a, e
3086  0E0A  D6 08       	sub	a,0x08
3087  0E0C  38 F4       	jr	C,l_spr_init_anim_00102
3088  0E0E  C9          	ret
3089  0E0F              	SECTION code_compiler
3090  0E0F              ;	---------------------------------
3091  0E0F              ; Function spr_add_anim
3092  0E0F              ; ---------------------------------
3093  0E0F              _spr_add_anim:
3094  0E0F  CD 00 00    	call	___sdcc_enter_ix
3095  0E12  F5          	push	af
3096  0E13  01 00 00    	ld	bc,0x0000
3097  0E16              l_spr_add_anim_00104:
3098  0E16  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3099  0E18  80          	add	a, b
3100  0E19  DD 77 FE    	ld	(ix-2),a
3101  0E1C  3E 00       	ld	a, +((_anim_lin) / 256)
3102  0E1E  CE 00       	adc	a,0x00
3103  0E20  DD 77 FF    	ld	(ix-1),a
3104  0E23  E1          	pop	hl
3105  0E24  5E          	ld	e,(hl)
3106  0E25  E5          	push	hl
3107  0E26  1C          	inc	e
3108  0E27  20 34       	jr	NZ,l_spr_add_anim_00105
3109  0E29  E1          	pop	hl
3110  0E2A  E5          	push	hl
3111  0E2B  DD 7E 04    	ld	a,(ix+4)
3112  0E2E  77          	ld	(hl), a
3113  0E2F  3E 00       	ld	a, +((_anim_col) & 0xFF)
3114  0E31  81          	add	a, c
3115  0E32  5F          	ld	e, a
3116  0E33  3E 00       	ld	a, +((_anim_col) / 256)
3117  0E35  CE 00       	adc	a,0x00
3118  0E37  57          	ld	d, a
3119  0E38  DD 7E 05    	ld	a,(ix+5)
3120  0E3B  12          	ld	(de), a
3121  0E3C  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3122  0E3E  81          	add	a, c
3123  0E3F  5F          	ld	e, a
3124  0E40  3E 00       	ld	a, +((_anim_tile) / 256)
3125  0E42  CE 00       	adc	a,0x00
3126  0E44  57          	ld	d, a
3127  0E45  DD 7E 06    	ld	a,(ix+6)
3128  0E48  12          	ld	(de), a
3129  0E49  11 00 00    	ld	de,_anim_int+0
3130  0E4C  69          	ld	l,c
3131  0E4D  26 00       	ld	h,0x00
3132  0E4F  19          	add	hl, de
3133  0E50  06 00       	ld	b,0x00
3134  0E52  70          	ld	(hl),b
3135  0E53  21 00 00    	ld	hl,_anim_end
3136  0E56  09          	add	hl,bc
3137  0E57  DD 7E 07    	ld	a,(ix+7)
3138  0E5A  77          	ld	(hl),a
3139  0E5B  18 07       	jr	l_spr_add_anim_00106
3140  0E5D              l_spr_add_anim_00105:
3141  0E5D  04          	inc	b
3142  0E5E  78          	ld	a,b
3143  0E5F  48          	ld	c,b
3144  0E60  D6 08       	sub	a,0x08
3145  0E62  38 B2       	jr	C,l_spr_add_anim_00104
3146  0E64              l_spr_add_anim_00106:
3147  0E64  F1          	pop	af
3148  0E65  DD E1       	pop	ix
3149  0E67  C9          	ret
3150  0E68              	SECTION code_compiler
3151  0E68              ;	---------------------------------
3152  0E68              ; Function spr_play_anim
3153  0E68              ; ---------------------------------
3154  0E68              _spr_play_anim:
3155  0E68  CD 00 00    	call	___sdcc_enter_ix
3156  0E6B  F5          	push	af
3157  0E6C  F5          	push	af
3158  0E6D  3B          	dec	sp
3159  0E6E  DD 36 FB 01 	ld	(ix-5),0x01
3160  0E72  0E 00       	ld	c,0x00
3161  0E74              l_spr_play_anim_00109:
3162  0E74  3E 00       	ld	a, +((_anim_lin) & 0xFF)
3163  0E76  81          	add	a, c
3164  0E77  5F          	ld	e, a
3165  0E78  3E 00       	ld	a, +((_anim_lin) / 256)
3166  0E7A  CE 00       	adc	a,0x00
3167  0E7C  57          	ld	d, a
3168  0E7D  1A          	ld	a, (de)
3169  0E7E  3C          	inc	a
3170  0E7F  28 76       	jr	Z,l_spr_play_anim_00110
3171  0E81  DD 7E FB    	ld	a,(ix-5)
3172  0E84  B7          	or	a, a
3173  0E85  28 05       	jr	Z,l_spr_play_anim_00102
3174  0E87  76          	halt
3175  0E88  DD 36 FB 00 	ld	(ix-5),0x00
3176  0E8C              l_spr_play_anim_00102:
3177  0E8C  3E 00       	ld	a, +((_anim_int) & 0xFF)
3178  0E8E  81          	add	a, c
3179  0E8F  DD 77 FE    	ld	(ix-2),a
3180  0E92  6F          	ld	l,a
3181  0E93  3E 00       	ld	a,+((_anim_int) / 256)
3182  0E95  CE 00       	adc	a,0x00
3183  0E97  DD 77 FF    	ld	(ix-1),a
3184  0E9A  67          	ld	h,a
3185  0E9B  7E          	ld	a, (hl)
3186  0E9C  DD 77 FD    	ld	(ix-3),a
3187  0E9F  06 00       	ld	b,0x00
3188  0EA1  21 00 00    	ld	hl,_anim_end
3189  0EA4  09          	add	hl, bc
3190  0EA5  7E          	ld	a, (hl)
3191  0EA6  DD 77 FC    	ld	(ix-4),a
3192  0EA9  1A          	ld	a, (de)
3193  0EAA  47          	ld	b, a
3194  0EAB  DD 7E FD    	ld	a,(ix-3)
3195  0EAE  DD 96 FC    	sub	a,(ix-4)
3196  0EB1  30 2B       	jr	NC,l_spr_play_anim_00104
3197  0EB3  3E 00       	ld	a, +((_anim_col) & 0xFF)
3198  0EB5  81          	add	a, c
3199  0EB6  6F          	ld	l, a
3200  0EB7  3E 00       	ld	a, +((_anim_col) / 256)
3201  0EB9  CE 00       	adc	a,0x00
3202  0EBB  67          	ld	h, a
3203  0EBC  56          	ld	d, (hl)
3204  0EBD  3E 00       	ld	a, +((_anim_tile) & 0xFF)
3205  0EBF  81          	add	a, c
3206  0EC0  6F          	ld	l, a
3207  0EC1  3E 00       	ld	a, +((_anim_tile) / 256)
3208  0EC3  CE 00       	adc	a,0x00
3209  0EC5  67          	ld	h, a
3210  0EC6  7E          	ld	a,(hl)
3211  0EC7  DD 86 FD    	add	a,(ix-3)
3212  0ECA  C5          	push	bc
3213  0ECB  58          	ld	e,b
3214  0ECC  D5          	push	de
3215  0ECD  F5          	push	af
3216  0ECE  33          	inc	sp
3217  0ECF  CD 00 00    	call	_NIRVANAP_drawT_callee
3218  0ED2  C1          	pop	bc
3219  0ED3  DD 6E FE    	ld	l,(ix-2)
3220  0ED6  DD 66 FF    	ld	h,(ix-1)
3221  0ED9  46          	ld	b,(hl)
3222  0EDA  04          	inc	b
3223  0EDB  70          	ld	(hl), b
3224  0EDC  18 19       	jr	l_spr_play_anim_00110
3225  0EDE              l_spr_play_anim_00104:
3226  0EDE  3E 00       	ld	a, +((_anim_col) & 0xFF)
3227  0EE0  81          	add	a, c
3228  0EE1  6F          	ld	l, a
3229  0EE2  3E 00       	ld	a, +((_anim_col) / 256)
3230  0EE4  CE 00       	adc	a,0x00
3231  0EE6  67          	ld	h, a
3232  0EE7  66          	ld	h, (hl)
3233  0EE8  C5          	push	bc
3234  0EE9  D5          	push	de
3235  0EEA  68          	ld	l,b
3236  0EEB  E5          	push	hl
3237  0EEC  AF          	xor	a, a
3238  0EED  F5          	push	af
3239  0EEE  33          	inc	sp
3240  0EEF  CD 00 00    	call	_NIRVANAP_drawT_callee
3241  0EF2  D1          	pop	de
3242  0EF3  C1          	pop	bc
3243  0EF4  3E FF       	ld	a,0xff
3244  0EF6  12          	ld	(de), a
3245  0EF7              l_spr_play_anim_00110:
3246  0EF7  0C          	inc	c
3247  0EF8  79          	ld	a, c
3248  0EF9  D6 08       	sub	a,0x08
3249  0EFB  DA 74 0E    	jp	C, l_spr_play_anim_00109
3250  0EFE  DD F9       	ld	sp, ix
3251  0F00  DD E1       	pop	ix
3252  0F02  C9          	ret
3253  0F03              	SECTION code_compiler
3254  0F03              ;	---------------------------------
3255  0F03              ; Function spr_turn_horizontal
3256  0F03              ; ---------------------------------
3257  0F03              _spr_turn_horizontal:
3258  0F03  21 00 00    	ld	hl,_s_state
3259  0F06  CB 56       	bit	2, (hl)
3260  0F08  28 0B       	jr	Z,l_spr_turn_horizontal_00102
3261  0F0A  21 00 00    	ld	hl,_s_state
3262  0F0D  7E          	ld	a,(hl)
3263  0F0E  F6 08       	or	a,0x08
3264  0F10  E6 FB       	and	a,0xfb
3265  0F12  77          	ld	(hl),a
3266  0F13  18 09       	jr	l_spr_turn_horizontal_00103
3267  0F15              l_spr_turn_horizontal_00102:
3268  0F15  21 00 00    	ld	hl,_s_state
3269  0F18  7E          	ld	a,(hl)
3270  0F19  E6 F7       	and	a,0xf7
3271  0F1B  F6 04       	or	a,0x04
3272  0F1D  77          	ld	(hl),a
3273  0F1E              l_spr_turn_horizontal_00103:
3274  0F1E  2A 00 00    	ld	hl,(_sprite)
3275  0F21  26 00       	ld	h,0x00
3276  0F23  01 00 00    	ld	bc,_state
3277  0F26  09          	add	hl,bc
3278  0F27  3A 00 00    	ld	a,(_s_state)
3279  0F2A  77          	ld	(hl),a
3280  0F2B  2A 00 00    	ld	hl,(_sprite)
3281  0F2E  26 00       	ld	h,0x00
3282  0F30  01 00 00    	ld	bc,_tile
3283  0F33  09          	add	hl,bc
3284  0F34  E5          	push	hl
3285  0F35  2A 00 00    	ld	hl,(_sprite)
3286  0F38  CD EC 07    	call	_spr_tile
3287  0F3B  C1          	pop	bc
3288  0F3C  7D          	ld	a,l
3289  0F3D  02          	ld	(bc), a
3290  0F3E  C9          	ret
3291  0F3F              	SECTION IGNORE
3292  0000              
