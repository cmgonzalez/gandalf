1     0000              MODULE game_engine_c
2     0000              LINE -1, "game_engine.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_tick
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_loop
206   0000              	GLOBAL _game_fps
207   0000              	GLOBAL _game_respawn
208   0000              	GLOBAL _game_draw_screen
209   0000              	GLOBAL _game_boss_kill
210   0000              	GLOBAL _game_add_enemy
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_set_checkpoint
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_shoot_fire
225   0000              	GLOBAL _game_shoot_fire_boss
226   0000              	GLOBAL _game_obj_set
227   0000              	GLOBAL _game_obj_chk
228   0000              	GLOBAL _game_obj_clear
229   0000              	GLOBAL _game_boss_clear
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_rotate_attrib_osd
232   0000              	GLOBAL _game_attribs
233   0000              	GLOBAL _game_match_back_strict
234   0000              	GLOBAL _game_match_back
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _ffsll_callee
239   0000              	GLOBAL _ffsll
240   0000              	GLOBAL _strxfrm_callee
241   0000              	GLOBAL _strxfrm
242   0000              	GLOBAL _strupr_fastcall
243   0000              	GLOBAL _strupr
244   0000              	GLOBAL _strtok_r_callee
245   0000              	GLOBAL _strtok_r
246   0000              	GLOBAL _strtok_callee
247   0000              	GLOBAL _strtok
248   0000              	GLOBAL _strstrip_fastcall
249   0000              	GLOBAL _strstrip
250   0000              	GLOBAL _strstr_callee
251   0000              	GLOBAL _strstr
252   0000              	GLOBAL _strspn_callee
253   0000              	GLOBAL _strspn
254   0000              	GLOBAL _strsep_callee
255   0000              	GLOBAL _strsep
256   0000              	GLOBAL _strrstrip_fastcall
257   0000              	GLOBAL _strrstrip
258   0000              	GLOBAL _strrstr_callee
259   0000              	GLOBAL _strrstr
260   0000              	GLOBAL _strrspn_callee
261   0000              	GLOBAL _strrspn
262   0000              	GLOBAL _strrev_fastcall
263   0000              	GLOBAL _strrev
264   0000              	GLOBAL _strrcspn_callee
265   0000              	GLOBAL _strrcspn
266   0000              	GLOBAL _strrchr_callee
267   0000              	GLOBAL _strrchr
268   0000              	GLOBAL _strpbrk_callee
269   0000              	GLOBAL _strpbrk
270   0000              	GLOBAL _strnlen_callee
271   0000              	GLOBAL _strnlen
272   0000              	GLOBAL _strnicmp_callee
273   0000              	GLOBAL _strnicmp
274   0000              	GLOBAL _strndup_callee
275   0000              	GLOBAL _strndup
276   0000              	GLOBAL _strncpy_callee
277   0000              	GLOBAL _strncpy
278   0000              	GLOBAL _strncmp_callee
279   0000              	GLOBAL _strncmp
280   0000              	GLOBAL _strnchr_callee
281   0000              	GLOBAL _strnchr
282   0000              	GLOBAL _strncat_callee
283   0000              	GLOBAL _strncat
284   0000              	GLOBAL _strncasecmp_callee
285   0000              	GLOBAL _strncasecmp
286   0000              	GLOBAL _strlwr_fastcall
287   0000              	GLOBAL _strlwr
288   0000              	GLOBAL _strlen_fastcall
289   0000              	GLOBAL _strlen
290   0000              	GLOBAL _strlcpy_callee
291   0000              	GLOBAL _strlcpy
292   0000              	GLOBAL _strlcat_callee
293   0000              	GLOBAL _strlcat
294   0000              	GLOBAL _stricmp_callee
295   0000              	GLOBAL _stricmp
296   0000              	GLOBAL _strerror_fastcall
297   0000              	GLOBAL _strerror
298   0000              	GLOBAL _strdup_fastcall
299   0000              	GLOBAL _strdup
300   0000              	GLOBAL _strcspn_callee
301   0000              	GLOBAL _strcspn
302   0000              	GLOBAL _strcpy_callee
303   0000              	GLOBAL _strcpy
304   0000              	GLOBAL _strcoll_callee
305   0000              	GLOBAL _strcoll
306   0000              	GLOBAL _strcmp_callee
307   0000              	GLOBAL _strcmp
308   0000              	GLOBAL _strchrnul_callee
309   0000              	GLOBAL _strchrnul
310   0000              	GLOBAL _strchr_callee
311   0000              	GLOBAL _strchr
312   0000              	GLOBAL _strcat_callee
313   0000              	GLOBAL _strcat
314   0000              	GLOBAL _strcasecmp_callee
315   0000              	GLOBAL _strcasecmp
316   0000              	GLOBAL _stpncpy_callee
317   0000              	GLOBAL _stpncpy
318   0000              	GLOBAL _stpcpy_callee
319   0000              	GLOBAL _stpcpy
320   0000              	GLOBAL _memswap_callee
321   0000              	GLOBAL _memswap
322   0000              	GLOBAL _memset_callee
323   0000              	GLOBAL _memset
324   0000              	GLOBAL _memrchr_callee
325   0000              	GLOBAL _memrchr
326   0000              	GLOBAL _memmove_callee
327   0000              	GLOBAL _memmove
328   0000              	GLOBAL _memmem_callee
329   0000              	GLOBAL _memmem
330   0000              	GLOBAL _memcpy_callee
331   0000              	GLOBAL _memcpy
332   0000              	GLOBAL _memcmp_callee
333   0000              	GLOBAL _memcmp
334   0000              	GLOBAL _memchr_callee
335   0000              	GLOBAL _memchr
336   0000              	GLOBAL _memccpy_callee
337   0000              	GLOBAL _memccpy
338   0000              	GLOBAL _ffsl_fastcall
339   0000              	GLOBAL _ffsl
340   0000              	GLOBAL _ffs_fastcall
341   0000              	GLOBAL _ffs
342   0000              	GLOBAL __strrstrip__fastcall
343   0000              	GLOBAL __strrstrip_
344   0000              	GLOBAL __memupr__callee
345   0000              	GLOBAL __memupr_
346   0000              	GLOBAL __memstrcpy__callee
347   0000              	GLOBAL __memstrcpy_
348   0000              	GLOBAL __memlwr__callee
349   0000              	GLOBAL __memlwr_
350   0000              	GLOBAL _rawmemchr_callee
351   0000              	GLOBAL _rawmemchr
352   0000              	GLOBAL _strnset_callee
353   0000              	GLOBAL _strnset
354   0000              	GLOBAL _strset_callee
355   0000              	GLOBAL _strset
356   0000              	GLOBAL _rindex_callee
357   0000              	GLOBAL _rindex
358   0000              	GLOBAL _index_callee
359   0000              	GLOBAL _index
360   0000              	GLOBAL _bzero_callee
361   0000              	GLOBAL _bzero
362   0000              	GLOBAL _bcopy_callee
363   0000              	GLOBAL _bcopy
364   0000              	GLOBAL _bcmp_callee
365   0000              	GLOBAL _bcmp
366   0000              	GLOBAL _ulltoa_callee
367   0000              	GLOBAL _ulltoa
368   0000              	GLOBAL _strtoull_callee
369   0000              	GLOBAL _strtoull
370   0000              	GLOBAL _strtoll_callee
371   0000              	GLOBAL _strtoll
372   0000              	GLOBAL _lltoa_callee
373   0000              	GLOBAL _lltoa
374   0000              	GLOBAL _llabs_callee
375   0000              	GLOBAL _llabs
376   0000              	GLOBAL __lldivu__callee
377   0000              	GLOBAL __lldivu_
378   0000              	GLOBAL __lldiv__callee
379   0000              	GLOBAL __lldiv_
380   0000              	GLOBAL _atoll_callee
381   0000              	GLOBAL _atoll
382   0000              	GLOBAL _realloc_unlocked_callee
383   0000              	GLOBAL _realloc_unlocked
384   0000              	GLOBAL _malloc_unlocked_fastcall
385   0000              	GLOBAL _malloc_unlocked
386   0000              	GLOBAL _free_unlocked_fastcall
387   0000              	GLOBAL _free_unlocked
388   0000              	GLOBAL _calloc_unlocked_callee
389   0000              	GLOBAL _calloc_unlocked
390   0000              	GLOBAL _aligned_alloc_unlocked_callee
391   0000              	GLOBAL _aligned_alloc_unlocked
392   0000              	GLOBAL _realloc_callee
393   0000              	GLOBAL _realloc
394   0000              	GLOBAL _malloc_fastcall
395   0000              	GLOBAL _malloc
396   0000              	GLOBAL _free_fastcall
397   0000              	GLOBAL _free
398   0000              	GLOBAL _calloc_callee
399   0000              	GLOBAL _calloc
400   0000              	GLOBAL _aligned_alloc_callee
401   0000              	GLOBAL _aligned_alloc
402   0000              	GLOBAL _utoa_callee
403   0000              	GLOBAL _utoa
404   0000              	GLOBAL _ultoa_callee
405   0000              	GLOBAL _ultoa
406   0000              	GLOBAL _system_fastcall
407   0000              	GLOBAL _system
408   0000              	GLOBAL _strtoul_callee
409   0000              	GLOBAL _strtoul
410   0000              	GLOBAL _strtol_callee
411   0000              	GLOBAL _strtol
412   0000              	GLOBAL _strtof_callee
413   0000              	GLOBAL _strtof
414   0000              	GLOBAL _strtod_callee
415   0000              	GLOBAL _strtod
416   0000              	GLOBAL _srand_fastcall
417   0000              	GLOBAL _srand
418   0000              	GLOBAL _rand
419   0000              	GLOBAL _quick_exit_fastcall
420   0000              	GLOBAL _quick_exit
421   0000              	GLOBAL _qsort_callee
422   0000              	GLOBAL _qsort
423   0000              	GLOBAL _ltoa_callee
424   0000              	GLOBAL _ltoa
425   0000              	GLOBAL _labs_fastcall
426   0000              	GLOBAL _labs
427   0000              	GLOBAL _itoa_callee
428   0000              	GLOBAL _itoa
429   0000              	GLOBAL _ftoh_callee
430   0000              	GLOBAL _ftoh
431   0000              	GLOBAL _ftog_callee
432   0000              	GLOBAL _ftog
433   0000              	GLOBAL _ftoe_callee
434   0000              	GLOBAL _ftoe
435   0000              	GLOBAL _ftoa_callee
436   0000              	GLOBAL _ftoa
437   0000              	GLOBAL _exit_fastcall
438   0000              	GLOBAL _exit
439   0000              	GLOBAL _dtoh_callee
440   0000              	GLOBAL _dtoh
441   0000              	GLOBAL _dtog_callee
442   0000              	GLOBAL _dtog
443   0000              	GLOBAL _dtoe_callee
444   0000              	GLOBAL _dtoe
445   0000              	GLOBAL _dtoa_callee
446   0000              	GLOBAL _dtoa
447   0000              	GLOBAL _bsearch_callee
448   0000              	GLOBAL _bsearch
449   0000              	GLOBAL _atol_fastcall
450   0000              	GLOBAL _atol
451   0000              	GLOBAL _atoi_fastcall
452   0000              	GLOBAL _atoi
453   0000              	GLOBAL _atof_fastcall
454   0000              	GLOBAL _atof
455   0000              	GLOBAL _atexit_fastcall
456   0000              	GLOBAL _atexit
457   0000              	GLOBAL _at_quick_exit_fastcall
458   0000              	GLOBAL _at_quick_exit
459   0000              	GLOBAL _abs_fastcall
460   0000              	GLOBAL _abs
461   0000              	GLOBAL _abort
462   0000              	GLOBAL __strtou__callee
463   0000              	GLOBAL __strtou_
464   0000              	GLOBAL __strtoi__callee
465   0000              	GLOBAL __strtoi_
466   0000              	GLOBAL __random_uniform_xor_8__fastcall
467   0000              	GLOBAL __random_uniform_xor_8_
468   0000              	GLOBAL __random_uniform_xor_32__fastcall
469   0000              	GLOBAL __random_uniform_xor_32_
470   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
471   0000              	GLOBAL __random_uniform_cmwc_8_
472   0000              	GLOBAL __shellsort__callee
473   0000              	GLOBAL __shellsort_
474   0000              	GLOBAL __quicksort__callee
475   0000              	GLOBAL __quicksort_
476   0000              	GLOBAL __insertion_sort__callee
477   0000              	GLOBAL __insertion_sort_
478   0000              	GLOBAL __ldivu__callee
479   0000              	GLOBAL __ldivu_
480   0000              	GLOBAL __ldiv__callee
481   0000              	GLOBAL __ldiv_
482   0000              	GLOBAL __divu__callee
483   0000              	GLOBAL __divu_
484   0000              	GLOBAL __div__callee
485   0000              	GLOBAL __div_
486   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawTW_raw
488   0000              	GLOBAL _NIRVANAP_drawTW_callee
489   0000              	GLOBAL _NIRVANAP_drawTW
490   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawW_raw
492   0000              	GLOBAL _NIRVANAP_drawW_callee
493   0000              	GLOBAL _NIRVANAP_drawW
494   0000              	GLOBAL _NIRVANAP_spriteT_callee
495   0000              	GLOBAL _NIRVANAP_spriteT
496   0000              	GLOBAL _NIRVANAP_fillC_callee
497   0000              	GLOBAL _NIRVANAP_fillC
498   0000              	GLOBAL _NIRVANAP_readC_callee
499   0000              	GLOBAL _NIRVANAP_readC
500   0000              	GLOBAL _NIRVANAP_paintC_callee
501   0000              	GLOBAL _NIRVANAP_paintC
502   0000              	GLOBAL _NIRVANAP_printC_callee
503   0000              	GLOBAL _NIRVANAP_printC
504   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
505   0000              	GLOBAL _NIRVANAP_fillT_raw
506   0000              	GLOBAL _NIRVANAP_fillT_callee
507   0000              	GLOBAL _NIRVANAP_fillT
508   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
509   0000              	GLOBAL _NIRVANAP_drawT_raw
510   0000              	GLOBAL _NIRVANAP_drawT_callee
511   0000              	GLOBAL _NIRVANAP_drawT
512   0000              	GLOBAL _NIRVANAP_stop
513   0000              	GLOBAL _NIRVANAP_start
514   0000              	GLOBAL _debug3
515   0000              	GLOBAL _debug2
516   0000              	GLOBAL _debug
517   0000              	GLOBAL _zx_print_str
518   0000              	GLOBAL _zx_print_int
519   0000              	GLOBAL _zx_print_chr
520   0000              	GLOBAL _zx_print_bonus_time
521   0000              	GLOBAL _zx_isr
522   0000              	GLOBAL _z80_otdr_callee
523   0000              	GLOBAL _z80_otdr
524   0000              	GLOBAL _z80_otir_callee
525   0000              	GLOBAL _z80_otir
526   0000              	GLOBAL _z80_outp_callee
527   0000              	GLOBAL _z80_outp
528   0000              	GLOBAL _z80_indr_callee
529   0000              	GLOBAL _z80_indr
530   0000              	GLOBAL _z80_inir_callee
531   0000              	GLOBAL _z80_inir
532   0000              	GLOBAL _z80_inp_fastcall
533   0000              	GLOBAL _z80_inp
534   0000              	GLOBAL _z80_set_int_state_fastcall
535   0000              	GLOBAL _z80_set_int_state
536   0000              	GLOBAL _z80_get_int_state
537   0000              	GLOBAL _z80_delay_tstate_fastcall
538   0000              	GLOBAL _z80_delay_tstate
539   0000              	GLOBAL _z80_delay_ms_fastcall
540   0000              	GLOBAL _z80_delay_ms
541   0000              	GLOBAL _im2_remove_generic_callback_callee
542   0000              	GLOBAL _im2_remove_generic_callback
543   0000              	GLOBAL _im2_prepend_generic_callback_callee
544   0000              	GLOBAL _im2_prepend_generic_callback
545   0000              	GLOBAL _im2_append_generic_callback_callee
546   0000              	GLOBAL _im2_append_generic_callback
547   0000              	GLOBAL _im2_create_generic_isr_8080_callee
548   0000              	GLOBAL _im2_create_generic_isr_8080
549   0000              	GLOBAL _im2_create_generic_isr_callee
550   0000              	GLOBAL _im2_create_generic_isr
551   0000              	GLOBAL _im2_install_isr_callee
552   0000              	GLOBAL _im2_install_isr
553   0000              	GLOBAL _im2_init_fastcall
554   0000              	GLOBAL _im2_init
555   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
556   0000              	GLOBAL _intrinsic_swap_word_32
557   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
558   0000              	GLOBAL _intrinsic_swap_endian_32
559   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
560   0000              	GLOBAL _intrinsic_swap_endian_16
561   0000              	GLOBAL _intrinsic_return_de
562   0000              	GLOBAL _intrinsic_return_bc
563   0000              	GLOBAL _intrinsic_exx
564   0000              	GLOBAL _intrinsic_ex_de_hl
565   0000              	GLOBAL _intrinsic_nop
566   0000              	GLOBAL _intrinsic_im_2
567   0000              	GLOBAL _intrinsic_im_1
568   0000              	GLOBAL _intrinsic_im_0
569   0000              	GLOBAL _intrinsic_retn
570   0000              	GLOBAL _intrinsic_reti
571   0000              	GLOBAL _intrinsic_halt
572   0000              	GLOBAL _intrinsic_ei
573   0000              	GLOBAL _intrinsic_di
574   0000              	GLOBAL _intrinsic_stub
575   0000              	GLOBAL _intrinsic_outi
576   0000              	GLOBAL _intrinsic_ldi
577   0000              	GLOBAL _zx_pattern_fill_callee
578   0000              	GLOBAL _zx_pattern_fill
579   0000              	GLOBAL _zx_saddrpup_fastcall
580   0000              	GLOBAL _zx_saddrpup
581   0000              	GLOBAL _zx_saddrpright_callee
582   0000              	GLOBAL _zx_saddrpright
583   0000              	GLOBAL _zx_saddrpleft_callee
584   0000              	GLOBAL _zx_saddrpleft
585   0000              	GLOBAL _zx_saddrpdown_fastcall
586   0000              	GLOBAL _zx_saddrpdown
587   0000              	GLOBAL _zx_saddrcup_fastcall
588   0000              	GLOBAL _zx_saddrcup
589   0000              	GLOBAL _zx_saddrcright_fastcall
590   0000              	GLOBAL _zx_saddrcright
591   0000              	GLOBAL _zx_saddrcleft_fastcall
592   0000              	GLOBAL _zx_saddrcleft
593   0000              	GLOBAL _zx_saddrcdown_fastcall
594   0000              	GLOBAL _zx_saddrcdown
595   0000              	GLOBAL _zx_saddr2py_fastcall
596   0000              	GLOBAL _zx_saddr2py
597   0000              	GLOBAL _zx_saddr2px_fastcall
598   0000              	GLOBAL _zx_saddr2px
599   0000              	GLOBAL _zx_saddr2cy_fastcall
600   0000              	GLOBAL _zx_saddr2cy
601   0000              	GLOBAL _zx_saddr2cx_fastcall
602   0000              	GLOBAL _zx_saddr2cx
603   0000              	GLOBAL _zx_saddr2aaddr_fastcall
604   0000              	GLOBAL _zx_saddr2aaddr
605   0000              	GLOBAL _zx_py2saddr_fastcall
606   0000              	GLOBAL _zx_py2saddr
607   0000              	GLOBAL _zx_py2aaddr_fastcall
608   0000              	GLOBAL _zx_py2aaddr
609   0000              	GLOBAL _zx_pxy2saddr_callee
610   0000              	GLOBAL _zx_pxy2saddr
611   0000              	GLOBAL _zx_pxy2aaddr_callee
612   0000              	GLOBAL _zx_pxy2aaddr
613   0000              	GLOBAL _zx_px2bitmask_fastcall
614   0000              	GLOBAL _zx_px2bitmask
615   0000              	GLOBAL _zx_cy2saddr_fastcall
616   0000              	GLOBAL _zx_cy2saddr
617   0000              	GLOBAL _zx_cy2aaddr_fastcall
618   0000              	GLOBAL _zx_cy2aaddr
619   0000              	GLOBAL _zx_cxy2saddr_callee
620   0000              	GLOBAL _zx_cxy2saddr
621   0000              	GLOBAL _zx_cxy2aaddr_callee
622   0000              	GLOBAL _zx_cxy2aaddr
623   0000              	GLOBAL _zx_bitmask2px_fastcall
624   0000              	GLOBAL _zx_bitmask2px
625   0000              	GLOBAL _zx_aaddrcup_fastcall
626   0000              	GLOBAL _zx_aaddrcup
627   0000              	GLOBAL _zx_aaddrcright_fastcall
628   0000              	GLOBAL _zx_aaddrcright
629   0000              	GLOBAL _zx_aaddrcleft_fastcall
630   0000              	GLOBAL _zx_aaddrcleft
631   0000              	GLOBAL _zx_aaddrcdown_fastcall
632   0000              	GLOBAL _zx_aaddrcdown
633   0000              	GLOBAL _zx_aaddr2saddr_fastcall
634   0000              	GLOBAL _zx_aaddr2saddr
635   0000              	GLOBAL _zx_aaddr2py_fastcall
636   0000              	GLOBAL _zx_aaddr2py
637   0000              	GLOBAL _zx_aaddr2px_fastcall
638   0000              	GLOBAL _zx_aaddr2px
639   0000              	GLOBAL _zx_aaddr2cy_fastcall
640   0000              	GLOBAL _zx_aaddr2cy
641   0000              	GLOBAL _zx_aaddr2cx_fastcall
642   0000              	GLOBAL _zx_aaddr2cx
643   0000              	GLOBAL _zx_visit_wc_pix_callee
644   0000              	GLOBAL _zx_visit_wc_pix
645   0000              	GLOBAL _zx_visit_wc_attr_callee
646   0000              	GLOBAL _zx_visit_wc_attr
647   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
648   0000              	GLOBAL _zx_scroll_wc_up_pix
649   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
650   0000              	GLOBAL _zx_scroll_wc_up_attr
651   0000              	GLOBAL _zx_scroll_wc_up_callee
652   0000              	GLOBAL _zx_scroll_wc_up
653   0000              	GLOBAL _zx_scroll_up_pix_callee
654   0000              	GLOBAL _zx_scroll_up_pix
655   0000              	GLOBAL _zx_scroll_up_attr_callee
656   0000              	GLOBAL _zx_scroll_up_attr
657   0000              	GLOBAL _zx_scroll_up_callee
658   0000              	GLOBAL _zx_scroll_up
659   0000              	GLOBAL _zx_cls_wc_pix_callee
660   0000              	GLOBAL _zx_cls_wc_pix
661   0000              	GLOBAL _zx_cls_wc_attr_callee
662   0000              	GLOBAL _zx_cls_wc_attr
663   0000              	GLOBAL _zx_cls_wc_callee
664   0000              	GLOBAL _zx_cls_wc
665   0000              	GLOBAL _zx_cls_pix_fastcall
666   0000              	GLOBAL _zx_cls_pix
667   0000              	GLOBAL _zx_cls_attr_fastcall
668   0000              	GLOBAL _zx_cls_attr
669   0000              	GLOBAL _zx_cls_fastcall
670   0000              	GLOBAL _zx_cls
671   0000              	GLOBAL _zx_border_fastcall
672   0000              	GLOBAL _zx_border
673   0000              	GLOBAL _zx_tape_verify_block_callee
674   0000              	GLOBAL _zx_tape_verify_block
675   0000              	GLOBAL _zx_tape_save_block_callee
676   0000              	GLOBAL _zx_tape_save_block
677   0000              	GLOBAL _zx_tape_load_block_callee
678   0000              	GLOBAL _zx_tape_load_block
679   0000              	GLOBAL _spr_destroy
680   0000              	GLOBAL _spr_colision_boss
681   0000              	GLOBAL _spr_colision_b
682   0000              	GLOBAL _spr_unflattenP1
683   0000              	GLOBAL _spr_flatten
684   0000              	GLOBAL _spr_btile_paint_back
685   0000              	GLOBAL _spr_bullet_explode
686   0000              	GLOBAL _spr_init_effects
687   0000              	GLOBAL _spr_turn_horizontal
688   0000              	GLOBAL _spr_bullets_play
689   0000              	GLOBAL _spr_play_anim
690   0000              	GLOBAL _spr_add_anim
691   0000              	GLOBAL _spr_clear_scr
692   0000              	GLOBAL _spr_page_map
693   0000              	GLOBAL _spr_page_down
694   0000              	GLOBAL _spr_page_up
695   0000              	GLOBAL _spr_page_right
696   0000              	GLOBAL _spr_page_left
697   0000              	GLOBAL _spr_tile_paint
698   0000              	GLOBAL _spr_draw_index
699   0000              	GLOBAL _spr_brick_anim
700   0000              	GLOBAL _spr_back_repaint
701   0000              	GLOBAL _spr_tile_dir
702   0000              	GLOBAL _spr_tile
703   0000              	GLOBAL _spr_paint_player
704   0000              	GLOBAL _spr_paint
705   0000              	GLOBAL _spr_move_left
706   0000              	GLOBAL _spr_move_right
707   0000              	GLOBAL _spr_move_horizontal
708   0000              	GLOBAL _spr_move_down
709   0000              	GLOBAL _spr_move_up
710   0000              	GLOBAL _spr_set_right
711   0000              	GLOBAL _spr_set_left
712   0000              	GLOBAL _spr_set_down
713   0000              	GLOBAL _spr_set_up
714   0000              	GLOBAL _spr_calc_index
715   0000              	GLOBAL _spr_chktime
716   0000              	GLOBAL _player_fix_walk_lin
717   0000              	GLOBAL _player_gasta_brick
718   0000              	GLOBAL _player_lost_life
719   0000              	GLOBAL _player_damage
720   0000              	GLOBAL _player_open_door
721   0000              	GLOBAL _player_move_jump
722   0000              	GLOBAL _player_fire
723   0000              	GLOBAL _player_check_stairs_vertical
724   0000              	GLOBAL _player_check_stairs
725   0000              	GLOBAL _player_tile
726   0000              	GLOBAL _player_anim_stairs
727   0000              	GLOBAL _player_pick_item
728   0000              	GLOBAL _player_check_floor
729   0000              	GLOBAL _player_hit_platform_clear
730   0000              	GLOBAL _player_score_add
731   0000              	GLOBAL _player_hit_platform
732   0000              	GLOBAL _player_move_input
733   0000              	GLOBAL _player_turn
734   0000              	GLOBAL _player_move
735   0000              	GLOBAL _player_action_jump
736   0000              	GLOBAL _player_action_fire
737   0000              	GLOBAL _player_check_input
738   0000              	GLOBAL _player_pick_mushroom
739   0000              	GLOBAL _player_collision
740   0000              	GLOBAL _player_init
741   0000              	GLOBAL _menu_define_key
742   0000              	GLOBAL _menu_redefine
743   0000              	GLOBAL _menu_main_print
744   0000              	GLOBAL _menu_main
745   0000              	GLOBAL _game_fill_row
746   0000              	GLOBAL _boss_draw_frame
747   0000              	GLOBAL _boss_draw
748   0000              	GLOBAL _boss_turn
749   0000              	GLOBAL _enemy_avoid_dead
750   0000              	GLOBAL _enemy_avoid_fall
751   0000              	GLOBAL _enemy_kill
752   0000              	GLOBAL _enemy_respawn
753   0000              	GLOBAL _enemy_init
754   0000              	GLOBAL _enemy_move
755   0000              	GLOBAL _enemy_turn
756   0000              	GLOBAL _enemy_static
757   0000              	GLOBAL _enemy_walk
758   0000              	GLOBAL _enemy_horizontal
759   0000              	GLOBAL _enemy_vertical
760   0000              	GLOBAL _ay_reset
761   0000              	GLOBAL _ay_song_stop
762   0000              	GLOBAL _ay_song_play
763   0000              	GLOBAL _ay_fx_stop
764   0000              	GLOBAL _ay_fx_play
765   0000              	GLOBAL _ay_is_playing
766   0000              	GLOBAL _audio_levelup
767   0000              	GLOBAL _audio_checkpoint
768   0000              	GLOBAL _audio_menu
769   0000              	GLOBAL _audio_game_end
770   0000              	GLOBAL _audio_level_complete
771   0000              	GLOBAL _audio_level_start
772   0000              	GLOBAL _audio_lotr_lose_a_life
773   0000              	GLOBAL _audio_mushroom
774   0000              	GLOBAL _audio_puerta
775   0000              	GLOBAL _audio_sin_mana
776   0000              	GLOBAL _audio_magic1
777   0000              	GLOBAL _audio_coin
778   0000              	GLOBAL _audio_golpe
779   0000              	GLOBAL _audio_salto
780   0000              	GLOBAL _audio_efecto
781   0000              	GLOBAL _audio_disparo_fire
782   0000              	GLOBAL _audio_disparo_axe
783   0000              	GLOBAL _audio_disparo2
784   0000              	GLOBAL _audio_disparo1
785   0000              	GLOBAL _audio_respawn
786   0000              	GLOBAL _audio_explosion1
787   0000              	GLOBAL _audio_explosion
788   0000              	GLOBAL _audio_ingame
789   0000              	GLOBAL _test_func
790   0000              	GLOBAL _test_proc
791   0000              	GLOBAL _in_mouse_kempston_wheel_delta
792   0000              	GLOBAL _in_mouse_kempston_wheel
793   0000              	GLOBAL _in_mouse_kempston_callee
794   0000              	GLOBAL _in_mouse_kempston
795   0000              	GLOBAL _in_mouse_kempston_setpos_callee
796   0000              	GLOBAL _in_mouse_kempston_setpos
797   0000              	GLOBAL _in_mouse_kempston_reset
798   0000              	GLOBAL _in_mouse_kempston_init
799   0000              	GLOBAL _in_mouse_amx_wheel_delta
800   0000              	GLOBAL _in_mouse_amx_wheel
801   0000              	GLOBAL _in_mouse_amx_callee
802   0000              	GLOBAL _in_mouse_amx
803   0000              	GLOBAL _in_mouse_amx_setpos_callee
804   0000              	GLOBAL _in_mouse_amx_setpos
805   0000              	GLOBAL _in_mouse_amx_reset
806   0000              	GLOBAL _in_mouse_amx_init_callee
807   0000              	GLOBAL _in_mouse_amx_init
808   0000              	GLOBAL _in_stick_sinclair2
809   0000              	GLOBAL _in_stick_sinclair1
810   0000              	GLOBAL _in_stick_kempston
811   0000              	GLOBAL _in_stick_fuller
812   0000              	GLOBAL _in_stick_cursor
813   0000              	GLOBAL _in_stick_keyboard_fastcall
814   0000              	GLOBAL _in_stick_keyboard
815   0000              	GLOBAL _in_wait_nokey
816   0000              	GLOBAL _in_wait_key
817   0000              	GLOBAL _in_test_key
818   0000              	GLOBAL _in_pause_fastcall
819   0000              	GLOBAL _in_pause
820   0000              	GLOBAL _in_key_scancode_fastcall
821   0000              	GLOBAL _in_key_scancode
822   0000              	GLOBAL _in_key_pressed_fastcall
823   0000              	GLOBAL _in_key_pressed
824   0000              	GLOBAL _in_inkey
825   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
826   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
827   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
828   0000              	GLOBAL _NIRVANAP_HOLE
829   0000              	GLOBAL _NIRVANAP_ISR_HOOK
830   0000              	GLOBAL _scan_map
831   0000              	GLOBAL _key_map
832   0000              	GLOBAL _player_lvl_table
833   0000              	GLOBAL _stp_row
834   0000              	GLOBAL _stp_col
835   0000              	GLOBAL _stp_tile
836   0000              	GLOBAL _map_paper_last_a
837   0000              	GLOBAL _map_paper_last
838   0000              	GLOBAL _map_paper_clr
839   0000              	GLOBAL _map_paper
840   0000              	GLOBAL _draw_count
841   0000              	GLOBAL _g_player_hit_right
842   0000              	GLOBAL _g_player_hit_left
843   0000              	GLOBAL _bullet_count
844   0000              	GLOBAL _spr_hack
845   0000              	GLOBAL _boss_stat
846   0000              	GLOBAL _boss_time_fire
847   0000              	GLOBAL _boss_time
848   0000              	GLOBAL _boss_tile
849   0000              	GLOBAL _boss_inc
850   0000              	GLOBAL _boss_col
851   0000              	GLOBAL _boss_lin
852   0000              	GLOBAL _bullet
853   0000              	GLOBAL _bullet_vel
854   0000              	GLOBAL _bullet_frames
855   0000              	GLOBAL _bullet_colint
856   0000              	GLOBAL _bullet_dir
857   0000              	GLOBAL _bullet_tile
858   0000              	GLOBAL _bullet_col
859   0000              	GLOBAL _bullet_lin
860   0000              	GLOBAL _bullet_col0
861   0000              	GLOBAL _bullet_lin0
862   0000              	GLOBAL _bullet_max
863   0000              	GLOBAL _bullet_class
864   0000              	GLOBAL _mush_class
865   0000              	GLOBAL _mush_index
866   0000              	GLOBAL _anim_count
867   0000              	GLOBAL _anim_respanwn
868   0000              	GLOBAL _anim_loop
869   0000              	GLOBAL _anim_end
870   0000              	GLOBAL _anim_int
871   0000              	GLOBAL _anim_tile
872   0000              	GLOBAL _anim_col
873   0000              	GLOBAL _anim_lin
874   0000              	GLOBAL _map_heigth
875   0000              	GLOBAL _map_width
876   0000              	GLOBAL _scr_curr
877   0000              	GLOBAL _sprite_kind
878   0000              	GLOBAL _scr_obj1
879   0000              	GLOBAL _scr_obj0
880   0000              	GLOBAL _scr_map
881   0000              	GLOBAL _spr_init
882   0000              	GLOBAL _spr_map_tile
883   0000              	GLOBAL _sprite_frames
884   0000              	GLOBAL _sprite_base_speed
885   0000              	GLOBAL _sprite_speed
886   0000              	GLOBAL _screen_ink
887   0000              	GLOBAL _screen_paper
888   0000              	GLOBAL _player_onstair
889   0000              	GLOBAL _game_start_scr
890   0000              	GLOBAL _game_respawn_tile
891   0000              	GLOBAL _game_respawn_index
892   0000              	GLOBAL _game_respawn_time
893   0000              	GLOBAL _game_score_top
894   0000              	GLOBAL _player_coins
895   0000              	GLOBAL _player_lives
896   0000              	GLOBAL _game_over
897   0000              	GLOBAL _game_sound
898   0000              	GLOBAL _game_inf_lives
899   0000              	GLOBAL _game_inmune
900   0000              	GLOBAL _sprite_curr_index
901   0000              	GLOBAL _spr_count
902   0000              	GLOBAL _bullet_time
903   0000              	GLOBAL _anim_time
904   0000              	GLOBAL _frame_time
905   0000              	GLOBAL _curr_time
906   0000              	GLOBAL _s_state
907   0000              	GLOBAL _attrib_osd
908   0000              	GLOBAL _attrib_hl
909   0000              	GLOBAL _attrib
910   0000              	GLOBAL _zx_val_asm
911   0000              	GLOBAL _enemies
912   0000              	GLOBAL _tmp_ui
913   0000              	GLOBAL _tmp_sc
914   0000              	GLOBAL _tmp_uc
915   0000              	GLOBAL _tmp1
916   0000              	GLOBAL _tmp0
917   0000              	GLOBAL _tmp
918   0000              	GLOBAL _index1
919   0000              	GLOBAL _index0
920   0000              	GLOBAL _loop_count
921   0000              	GLOBAL _s_class
922   0000              	GLOBAL _s_col1
923   0000              	GLOBAL _s_col0
924   0000              	GLOBAL _s_lin1
925   0000              	GLOBAL _s_lin0
926   0000              	GLOBAL _s_tile1
927   0000              	GLOBAL _s_tile0
928   0000              	GLOBAL _player_brick_time
929   0000              	GLOBAL _player_hit_count
930   0000              	GLOBAL _game_debug
931   0000              	GLOBAL _sprite_horizontal_check
932   0000              	GLOBAL _sprite_on_air
933   0000              	GLOBAL _sprite
934   0000              	GLOBAL _fps
935   0000              	GLOBAL _menu_curr_sel
936   0000              	GLOBAL _game_control_jump_lock
937   0000              	GLOBAL _game_control_fire_lock
938   0000              	GLOBAL _game_control_mode
939   0000              	GLOBAL _game_respawn_curr_time
940   0000              	GLOBAL _game_round_up
941   0000              	GLOBAL _game_mush_count
942   0000              	GLOBAL _game_song_play_start
943   0000              	GLOBAL _game_song_play
944   0000              	GLOBAL _game_boss_fix
945   0000              	GLOBAL _game_boss_hit
946   0000              	GLOBAL _game_boss_alive
947   0000              	GLOBAL _game_boss
948   0000              	GLOBAL _game_world
949   0000              	GLOBAL _game_gravity
950   0000              	GLOBAL _player_onfire
951   0000              	GLOBAL _player_anim_stair
952   0000              	GLOBAL _player_hit
953   0000              	GLOBAL _player_hit_time
954   0000              	GLOBAL _game_checkpoint_scr
955   0000              	GLOBAL _game_checkpoint_lin
956   0000              	GLOBAL _game_checkpoint_col
957   0000              	GLOBAL _player_jump_check
958   0000              	GLOBAL _player_lin_scr
959   0000              	GLOBAL _player_col_scr
960   0000              	GLOBAL _player_lvl
961   0000              	GLOBAL _player_int
962   0000              	GLOBAL _player_str
963   0000              	GLOBAL _player_max_vita
964   0000              	GLOBAL _player_max_mana
965   0000              	GLOBAL _player_vita
966   0000              	GLOBAL _player_mana
967   0000              	GLOBAL _player_keys
968   0000              	GLOBAL _player_vel_inc
969   0000              	GLOBAL _player_vel_y1
970   0000              	GLOBAL _player_vel_y0
971   0000              	GLOBAL _player_vel_y
972   0000              	GLOBAL _player_vel_x
973   0000              	GLOBAL _player_score
974   0000              	GLOBAL _last_time
975   0000              	GLOBAL _spr_timer
976   0000              	GLOBAL _jump_lin
977   0000              	GLOBAL _player_hit_col
978   0000              	GLOBAL _player_hit_lin
979   0000              	GLOBAL _colint
980   0000              	GLOBAL _col
981   0000              	GLOBAL _tbuffer
982   0000              	GLOBAL _lin
983   0000              	GLOBAL _tile
984   0000              	GLOBAL _state_a
985   0000              	GLOBAL _state
986   0000              	GLOBAL _class
987   0000              	GLOBAL _dirs_alt
988   0000              	GLOBAL _dirs
989   0000              	GLOBAL _k2
990   0000              	GLOBAL _k1
991   0000              	GLOBAL _joyfunc2
992   0000              	GLOBAL _joyfunc1
993   0000              	GLOBAL _btiles
994   0000              	GLOBAL _spec128
995   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
996   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
997   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
998   0000              	GLOBAL _ay_fx_06_disparo_fire
999   0000              	GLOBAL _ay_fx_06_disparo_axe
1000  0000              	GLOBAL _ay_fx_06_respawn
1001  0000              	GLOBAL _ay_fx_06_explosion1
1002  0000              	GLOBAL _ay_fx_06_efecto
1003  0000              	GLOBAL _ay_fx_06_disparo2
1004  0000              	GLOBAL _ay_fx_06_disparo1
1005  0000              	GLOBAL _ay_fx_06_checkpoint
1006  0000              	GLOBAL _ay_fx_06_levelup
1007  0000              	GLOBAL _ay_fx_06_mushroom
1008  0000              	GLOBAL _ay_fx_06_magic
1009  0000              	GLOBAL _ay_fx_06_sin_mana
1010  0000              	GLOBAL _ay_fx_06_salto
1011  0000              	GLOBAL _ay_fx_06_puerta
1012  0000              	GLOBAL _ay_fx_06_magic1
1013  0000              	GLOBAL _ay_fx_06_golpe
1014  0000              	GLOBAL _ay_fx_06_explosion
1015  0000              	GLOBAL _ay_fx_06_dano_por_toque
1016  0000              	GLOBAL _ay_fx_06_coin
1017  0000              	GLOBAL _ay_song_06_lotr_level_start
1018  0000              	GLOBAL _ay_song_06_lotr_level_complete
1019  0000              	GLOBAL _ay_song_06_lotr_lose_a_life
1020  0000              	GLOBAL _ay_song_04_doom
1021  0000              	GLOBAL _ay_song_04_luna
1022  0000              	GLOBAL _ay_song_04_ciel
1023  0000              	GLOBAL _ay_song_04_hope
1024  0000              	GLOBAL _ay_song_03_regis
1025  0000              	GLOBAL _ay_song_03_sunflower
1026  0000              	GLOBAL _ay_song_03_lotr
1027  0000              	GLOBAL _world0_h
1028  0000              	GLOBAL _world0_w
1029  0000              	GLOBAL _world0
1030  0000              	GLOBAL _paper0
1031  0000              	GLOBAL _lenght0
1032  0000              	GLOBAL _start_scr0
1033  0000              ;--------------------------------------------------------
1034  0000              ; special function registers
1035  0000              ;--------------------------------------------------------
1036  0000              defc _IO_FE	=	0x00fe
1037  0000              defc _IO_1FFD	=	0x1ffd
1038  0000              defc _IO_7FFD	=	0x7ffd
1039  0000              ;--------------------------------------------------------
1040  0000              ; ram data
1041  0000              ;--------------------------------------------------------
1042  0000              	SECTION bss_compiler
1043  0000              ;--------------------------------------------------------
1044  0000              ; ram data
1045  0000              ;--------------------------------------------------------
1046  0000              
1047  0000              IF 0
1048  0000              
1049  0000              ; .area _INITIALIZED removed by z88dk
1050  0000              
1051  0000              
1052  0000              ENDIF
1053  0000              
1054  0000              ;--------------------------------------------------------
1055  0000              ; absolute external ram data
1056  0000              ;--------------------------------------------------------
1057  0000              	SECTION IGNORE
1058  0000              ;--------------------------------------------------------
1059  0000              ; global & static initialisations
1060  0000              ;--------------------------------------------------------
1061  0000              	SECTION code_crt_init
1062  0000              ;--------------------------------------------------------
1063  0000              ; Home
1064  0000              ;--------------------------------------------------------
1065  0000              	SECTION IGNORE
1066  0000              ;--------------------------------------------------------
1067  0000              ; code
1068  0000              ;--------------------------------------------------------
1069  0000              	SECTION code_compiler
1070  0000              ;	---------------------------------
1071  0000              ; Function game_loop
1072  0000              ; ---------------------------------
1073  0000              _game_loop:
1074  0000  CD 62 08    	call	_game_round_init
1075  0003              l_game_loop_00121:
1076  0003  3A 00 00    	ld	a,(_game_over)
1077  0006  B7          	or	a, a
1078  0007  C2 E2 00    	jp	NZ, l_game_loop_00124
1079  000A              l_game_loop_00116:
1080  000A  3A 00 00    	ld	a,(_game_round_up)
1081  000D  B7          	or	a, a
1082  000E  C2 A1 00    	jp	NZ, l_game_loop_00118
1083  0011  3A 00 00    	ld	a,(_game_over)
1084  0014  B7          	or	a, a
1085  0015  C2 A1 00    	jp	NZ, l_game_loop_00118
1086  0018  CD 00 00    	call	_enemy_turn
1087  001B  CD 00 00    	call	_player_turn
1088  001E  3A 00 00    	ld	a,(_game_boss)
1089  0021  B7          	or	a, a
1090  0022  28 03       	jr	Z,l_game_loop_00102
1091  0024  CD 00 00    	call	_boss_turn
1092  0027              l_game_loop_00102:
1093  0027  3E 02       	ld	a,0x02
1094  0029  F5          	push	af
1095  002A  33          	inc	sp
1096  002B  21 00 00    	ld	hl,_bullet_time
1097  002E  E5          	push	hl
1098  002F  CD 3F 0C    	call	_game_check_time
1099  0032  F1          	pop	af
1100  0033  33          	inc	sp
1101  0034  7D          	ld	a, l
1102  0035  B7          	or	a, a
1103  0036  28 0F       	jr	Z,l_game_loop_00106
1104  0038  2A 00 00    	ld	hl,(_curr_time)
1105  003B  22 00 00    	ld	(_bullet_time),hl
1106  003E  3A 00 00    	ld	a,(_bullet_count)
1107  0041  B7          	or	a,a
1108  0042  28 03       	jr	Z,l_game_loop_00106
1109  0044  CD 00 00    	call	_spr_bullets_play
1110  0047              l_game_loop_00106:
1111  0047  3E 08       	ld	a,0x08
1112  0049  F5          	push	af
1113  004A  33          	inc	sp
1114  004B  21 00 00    	ld	hl,_anim_time
1115  004E  E5          	push	hl
1116  004F  CD 3F 0C    	call	_game_check_time
1117  0052  F1          	pop	af
1118  0053  33          	inc	sp
1119  0054  7D          	ld	a, l
1120  0055  B7          	or	a, a
1121  0056  28 0F       	jr	Z,l_game_loop_00110
1122  0058  2A 00 00    	ld	hl,(_curr_time)
1123  005B  22 00 00    	ld	(_anim_time),hl
1124  005E  3A 00 00    	ld	a,(_anim_count)
1125  0061  B7          	or	a,a
1126  0062  28 03       	jr	Z,l_game_loop_00110
1127  0064  CD 00 00    	call	_spr_play_anim
1128  0067              l_game_loop_00110:
1129  0067  3E 64       	ld	a,0x64
1130  0069  F5          	push	af
1131  006A  33          	inc	sp
1132  006B  21 00 00    	ld	hl,_frame_time
1133  006E  E5          	push	hl
1134  006F  CD 3F 0C    	call	_game_check_time
1135  0072  F1          	pop	af
1136  0073  33          	inc	sp
1137  0074  7D          	ld	a, l
1138  0075  B7          	or	a, a
1139  0076  28 12       	jr	Z,l_game_loop_00114
1140  0078  2A 00 00    	ld	hl,(_curr_time)
1141  007B  22 00 00    	ld	(_frame_time),hl
1142  007E  3A 00 00    	ld	a,(_game_debug)
1143  0081  B7          	or	a,a
1144  0082  28 03       	jr	Z,l_game_loop_00112
1145  0084  CD E3 00    	call	_game_fps
1146  0087              l_game_loop_00112:
1147  0087  CD FA 00    	call	_game_respawn
1148  008A              l_game_loop_00114:
1149  008A  CD 00 00    	call	_audio_ingame
1150  008D  21 00 00    	ld	hl,_loop_count
1151  0090  34          	inc	(hl)
1152  0091  20 02       	jr	NZ,l_game_loop_00174
1153  0093  23          	inc	hl
1154  0094  34          	inc	(hl)
1155  0095              l_game_loop_00174:
1156  0095  21 00 00    	ld	hl,_fps
1157  0098  34          	inc	(hl)
1158  0099  C2 0A 00    	jp	NZ,l_game_loop_00116
1159  009C  23          	inc	hl
1160  009D  34          	inc	(hl)
1161  009E  C3 0A 00    	jp	l_game_loop_00116
1162  00A1              l_game_loop_00118:
1163  00A1  21 00 00    	ld	hl,_game_round_up
1164  00A4  7E          	ld	a, (hl)
1165  00A5  B7          	or	a, a
1166  00A6  CA 03 00    	jp	Z, l_game_loop_00121
1167  00A9  36 00       	ld	(hl),0x00
1168  00AB  21 00 00    	ld	hl,_game_respawn_curr_time
1169  00AE  7E          	ld	a, (hl)
1170  00AF  C6 E0       	add	a,0xe0
1171  00B1  77          	ld	(hl), a
1172  00B2  21 00 00    	ld	hl,_game_world
1173  00B5  34          	inc	(hl)
1174  00B6  21 00 00    	ld	hl,_game_boss_alive
1175  00B9  36 01       	ld	(hl),0x01
1176  00BB  21 00 00    	ld	hl,_game_boss
1177  00BE  36 00       	ld	(hl),0x00
1178  00C0  21 00 00    	ld	hl,_scr_curr
1179  00C3  36 FF       	ld	(hl),0xff
1180  00C5  21 00 00    	ld	hl,_player_lin_scr
1181  00C8  36 00       	ld	(hl),0x00
1182  00CA  21 00 00    	ld	hl,_player_col_scr
1183  00CD  36 00       	ld	(hl),0x00
1184  00CF  CD 5B 10    	call	_game_obj_clear
1185  00D2  21 00 00    	ld	hl,_player_col_scr
1186  00D5  36 02       	ld	(hl),0x02
1187  00D7  21 00 00    	ld	hl,_player_lin_scr
1188  00DA  36 80       	ld	(hl),0x80
1189  00DC  CD 62 08    	call	_game_round_init
1190  00DF  C3 03 00    	jp	l_game_loop_00121
1191  00E2              l_game_loop_00124:
1192  00E2  C9          	ret
1193  00E3              	SECTION code_compiler
1194  00E3              ;	---------------------------------
1195  00E3              ; Function game_fps
1196  00E3              ; ---------------------------------
1197  00E3              _game_fps:
1198  00E3  21 00 00    	ld	hl,_screen_ink
1199  00E6  36 07       	ld	(hl),0x07
1200  00E8  2A 00 00    	ld	hl,(_fps)
1201  00EB  E5          	push	hl
1202  00EC  21 17 18    	ld	hl,0x1817
1203  00EF  E5          	push	hl
1204  00F0  CD 00 00    	call	_zx_print_int
1205  00F3  21 00 00    	ld	hl,0x0000
1206  00F6  22 00 00    	ld	(_fps),hl
1207  00F9  C9          	ret
1208  00FA              	SECTION code_compiler
1209  00FA              ;	---------------------------------
1210  00FA              ; Function game_respawn
1211  00FA              ; ---------------------------------
1212  00FA              _game_respawn:
1213  00FA  21 00 00    	ld	hl,_sprite
1214  00FD  36 00       	ld	(hl),0x00
1215  00FF              l_game_respawn_00105:
1216  00FF  21 00 00    	ld	hl,_sprite
1217  0102  7E          	ld	a, (hl)
1218  0103  D6 07       	sub	a,0x07
1219  0105  D2 98 01    	jp	NC, l_game_respawn_00108
1220  0108  01 00 00    	ld	bc,_game_respawn_time+0
1221  010B  6E          	ld	l,(hl)
1222  010C  26 00       	ld	h,0x00
1223  010E  29          	add	hl, hl
1224  010F  09          	add	hl, bc
1225  0110  5E          	ld	e,(hl)
1226  0111  23          	inc	hl
1227  0112  56          	ld	d,(hl)
1228  0113  2B          	dec	hl
1229  0114  7A          	ld	a, d
1230  0115  B3          	or	a,e
1231  0116  28 79       	jr	Z,l_game_respawn_00104
1232  0118  3A 00 00    	ld	a,(_game_respawn_curr_time)
1233  011B  EB          	ex	de,hl
1234  011C  C5          	push	bc
1235  011D  F5          	push	af
1236  011E  33          	inc	sp
1237  011F  D5          	push	de
1238  0120  CD 3F 0C    	call	_game_check_time
1239  0123  F1          	pop	af
1240  0124  33          	inc	sp
1241  0125  C1          	pop	bc
1242  0126  7D          	ld	a,l
1243  0127  B7          	or	a, a
1244  0128  28 67       	jr	Z,l_game_respawn_00104
1245  012A  2A 00 00    	ld	hl,(_sprite)
1246  012D  26 00       	ld	h,0x00
1247  012F  11 00 00    	ld	de,_game_respawn_index
1248  0132  19          	add	hl,de
1249  0133  7E          	ld	a,(hl)
1250  0134  6F          	ld	l,a
1251  0135  26 00       	ld	h,0x00
1252  0137  22 00 00    	ld	(_index1),hl
1253  013A  5F          	ld	e,a
1254  013B  E6 0F       	and	a,0x0f
1255  013D  87          	add	a, a
1256  013E  32 00 00    	ld	(_s_col1),a
1257  0141  21 00 00    	ld	hl,_s_lin1
1258  0144  73          	ld	(hl),e
1259  0145  7B          	ld	a,e
1260  0146  07          	rlca
1261  0147  07          	rlca
1262  0148  07          	rlca
1263  0149  07          	rlca
1264  014A  E6 0F       	and	a,0x0f
1265  014C  07          	rlca
1266  014D  07          	rlca
1267  014E  07          	rlca
1268  014F  07          	rlca
1269  0150  E6 F0       	and	a,0xf0
1270  0152  77          	ld	(hl), a
1271  0153  11 00 00    	ld	de,_scr_map
1272  0156  2A 00 00    	ld	hl,(_index1)
1273  0159  19          	add	hl,de
1274  015A  EB          	ex	de,hl
1275  015B  21 00 00    	ld	hl,_sprite
1276  015E  7E          	ld	a, (hl)
1277  015F  C6 80       	add	a,0x80
1278  0161  12          	ld	(de), a
1279  0162  6E          	ld	l,(hl)
1280  0163  26 00       	ld	h,0x00
1281  0165  29          	add	hl, hl
1282  0166  09          	add	hl, bc
1283  0167  AF          	xor	a, a
1284  0168  77          	ld	(hl), a
1285  0169  23          	inc	hl
1286  016A  77          	ld	(hl), a
1287  016B  CD 00 00    	call	_audio_respawn
1288  016E  2A 00 00    	ld	hl,(_sprite)
1289  0171  26 00       	ld	h,0x00
1290  0173  01 00 00    	ld	bc,_game_respawn_tile
1291  0176  09          	add	hl,bc
1292  0177  7E          	ld	a,(hl)
1293  0178  F5          	push	af
1294  0179  33          	inc	sp
1295  017A  21 03 04    	ld	hl,0x0403
1296  017D  E5          	push	hl
1297  017E  2A 00 00    	ld	hl,(_s_col1)
1298  0181  26 8A       	ld	h,0x8a
1299  0183  3A 00 00    	ld	a,(_s_lin1)
1300  0186  E5          	push	hl
1301  0187  F5          	push	af
1302  0188  33          	inc	sp
1303  0189  CD 00 00    	call	_spr_add_anim
1304  018C  F1          	pop	af
1305  018D  F1          	pop	af
1306  018E  F1          	pop	af
1307  018F  18 07       	jr	l_game_respawn_00108
1308  0191              l_game_respawn_00104:
1309  0191  21 00 00    	ld	hl,_sprite
1310  0194  34          	inc	(hl)
1311  0195  C3 FF 00    	jp	l_game_respawn_00105
1312  0198              l_game_respawn_00108:
1313  0198  C9          	ret
1314  0199              	SECTION code_compiler
1315  0199              ;	---------------------------------
1316  0199              ; Function game_draw_screen
1317  0199              ; ---------------------------------
1318  0199              _game_draw_screen:
1319  0199  CD 00 00    	call	___sdcc_enter_ix
1320  019C  3B          	dec	sp
1321  019D  76          	halt
1322  019E  21 00 00    	ld	hl,_game_boss
1323  01A1  36 00       	ld	(hl),0x00
1324  01A3  21 00 00    	ld	hl,_game_boss_fix
1325  01A6  36 00       	ld	(hl),0x00
1326  01A8  2A 00 00    	ld	hl,(_curr_time)
1327  01AB  22 00 00    	ld	(_player_brick_time),hl
1328  01AE  21 00 00    	ld	hl,_spr_count
1329  01B1  36 00       	ld	(hl),0x00
1330  01B3  CD 00 00    	call	_spr_init_effects
1331  01B6  01 00 00    	ld	bc,_game_respawn_time+0
1332  01B9              l_game_draw_screen_00101:
1333  01B9  21 00 00    	ld	hl,_spr_count
1334  01BC  7E          	ld	a, (hl)
1335  01BD  D6 07       	sub	a,0x07
1336  01BF  30 46       	jr	NC,l_game_draw_screen_00103
1337  01C1  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1338  01C3  86          	add	a, (hl)
1339  01C4  5F          	ld	e, a
1340  01C5  3E 00       	ld	a, +((_game_respawn_index) / 256)
1341  01C7  CE 00       	adc	a,0x00
1342  01C9  57          	ld	d, a
1343  01CA  AF          	xor	a, a
1344  01CB  12          	ld	(de), a
1345  01CC  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1346  01CE  86          	add	a, (hl)
1347  01CF  5F          	ld	e, a
1348  01D0  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1349  01D2  CE 00       	adc	a,0x00
1350  01D4  57          	ld	d, a
1351  01D5  AF          	xor	a, a
1352  01D6  12          	ld	(de), a
1353  01D7  6E          	ld	l,(hl)
1354  01D8  26 00       	ld	h,0x00
1355  01DA  29          	add	hl, hl
1356  01DB  09          	add	hl, bc
1357  01DC  AF          	xor	a, a
1358  01DD  77          	ld	(hl), a
1359  01DE  23          	inc	hl
1360  01DF  77          	ld	(hl), a
1361  01E0  2A 00 00    	ld	hl,(_spr_count)
1362  01E3  26 00       	ld	h,0x00
1363  01E5  11 00 00    	ld	de,_mush_index
1364  01E8  19          	add	hl,de
1365  01E9  AF          	xor	a,a
1366  01EA  77          	ld	(hl),a
1367  01EB  2A 00 00    	ld	hl,(_spr_count)
1368  01EE  26 00       	ld	h,0x00
1369  01F0  11 00 00    	ld	de,_mush_class
1370  01F3  19          	add	hl,de
1371  01F4  AF          	xor	a,a
1372  01F5  77          	ld	(hl),a
1373  01F6  2A 00 00    	ld	hl,(_spr_count)
1374  01F9  26 00       	ld	h,0x00
1375  01FB  11 00 00    	ld	de,_class
1376  01FE  19          	add	hl,de
1377  01FF  AF          	xor	a,a
1378  0200  77          	ld	(hl),a
1379  0201  21 00 00    	ld	hl,_spr_count
1380  0204  34          	inc	(hl)
1381  0205  18 B2       	jr	l_game_draw_screen_00101
1382  0207              l_game_draw_screen_00103:
1383  0207  21 10 00    	ld	hl,0x0010
1384  020A  22 00 00    	ld	(_index1),hl
1385  020D  21 00 00    	ld	hl,_s_lin1
1386  0210  36 00       	ld	(hl),0x00
1387  0212  21 00 00    	ld	hl,_s_col1
1388  0215  36 02       	ld	(hl),0x02
1389  0217  21 00 00    	ld	hl,_spr_count
1390  021A  36 00       	ld	(hl),0x00
1391  021C  21 00 00    	ld	hl,_game_mush_count
1392  021F  36 00       	ld	(hl),0x00
1393  0221  F3          	di
1394  0222  DD 36 FF 00 	ld	(ix-1),0x00
1395  0226              l_game_draw_screen_00127:
1396  0226  21 00 00    	ld	hl,_index1
1397  0229  7E          	ld	a, (hl)
1398  022A  D6 A0       	sub	a,0xa0
1399  022C  23          	inc	hl
1400  022D  7E          	ld	a, (hl)
1401  022E  DE 00       	sbc	a,0x00
1402  0230  D2 42 03    	jp	NC, l_game_draw_screen_00129
1403  0233  2B          	dec	hl
1404  0234  7E          	ld	a, (hl)
1405  0235  E6 0F       	and	a,0x0f
1406  0237  20 0C       	jr	NZ,l_game_draw_screen_00105
1407  0239  21 00 00    	ld	hl,_s_lin1
1408  023C  7E          	ld	a, (hl)
1409  023D  C6 10       	add	a,0x10
1410  023F  77          	ld	(hl), a
1411  0240  21 00 00    	ld	hl,_s_col1
1412  0243  36 00       	ld	(hl),0x00
1413  0245              l_game_draw_screen_00105:
1414  0245  01 00 00    	ld	bc,_scr_map
1415  0248  2A 00 00    	ld	hl,(_index1)
1416  024B  09          	add	hl,bc
1417  024C  7E          	ld	a,(hl)
1418  024D  4D          	ld	c,l
1419  024E  47          	ld	b,a
1420  024F  D6 60       	sub	a,0x60
1421  0251  30 57       	jr	NC,l_game_draw_screen_00125
1422  0253  78          	ld	a, b
1423  0254  D6 5D       	sub	a,0x5d
1424  0256  20 04       	jr	NZ,l_game_draw_screen_00197
1425  0258  3E 01       	ld	a,0x01
1426  025A  18 01       	jr	l_game_draw_screen_00198
1427  025C              l_game_draw_screen_00197:
1428  025C  AF          	xor	a,a
1429  025D              l_game_draw_screen_00198:
1430  025D  4F          	ld	c,a
1431  025E  B7          	or	a, a
1432  025F  20 05       	jr	NZ,l_game_draw_screen_00111
1433  0261  78          	ld	a, b
1434  0262  D6 58       	sub	a,0x58
1435  0264  20 27       	jr	NZ,l_game_draw_screen_00112
1436  0266              l_game_draw_screen_00111:
1437  0266  2A 00 00    	ld	hl,(_index1)
1438  0269  11 F0 FF    	ld	de,0xfff0
1439  026C  19          	add	hl,de
1440  026D  EB          	ex	de,hl
1441  026E  21 01 00    	ld	hl,_index1 + 1
1442  0271  C5          	push	bc
1443  0272  EB          	ex	de,hl
1444  0273  CD 24 10    	call	_game_obj_chk
1445  0276  C1          	pop	bc
1446  0277  7D          	ld	a,l
1447  0278  B7          	or	a, a
1448  0279  28 0C       	jr	Z,l_game_draw_screen_00109
1449  027B  01 00 00    	ld	bc,_scr_map
1450  027E  2A 00 00    	ld	hl,(_index1)
1451  0281  09          	add	hl,bc
1452  0282  06 4F       	ld	b,0x4f
1453  0284  70          	ld	(hl),b
1454  0285  18 06       	jr	l_game_draw_screen_00112
1455  0287              l_game_draw_screen_00109:
1456  0287  79          	ld	a, c
1457  0288  B7          	or	a, a
1458  0289  28 02       	jr	Z,l_game_draw_screen_00112
1459  028B  06 00       	ld	b,0x00
1460  028D              l_game_draw_screen_00112:
1461  028D  78          	ld	a, b
1462  028E  D6 23       	sub	a,0x23
1463  0290  20 07       	jr	NZ,l_game_draw_screen_00115
1464  0292  2A 00 00    	ld	hl,(_index1)
1465  0295  CD BD 11    	call	_game_match_back
1466  0298  45          	ld	b, l
1467  0299              l_game_draw_screen_00115:
1468  0299  3A 00 00    	ld	a,(_s_col1)
1469  029C  F5          	push	af
1470  029D  33          	inc	sp
1471  029E  3A 00 00    	ld	a,(_s_lin1)
1472  02A1  48          	ld	c,b
1473  02A2  47          	ld	b,a
1474  02A3  C5          	push	bc
1475  02A4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1476  02A7  C3 31 03    	jp	l_game_draw_screen_00126
1477  02AA              l_game_draw_screen_00125:
1478  02AA  3E 78       	ld	a,0x78
1479  02AC  90          	sub	a, b
1480  02AD  38 2F       	jr	C,l_game_draw_screen_00122
1481  02AF  3A 00 00    	ld	a,(_spr_count)
1482  02B2  D6 08       	sub	a,0x08
1483  02B4  30 54       	jr	NC,l_game_draw_screen_00123
1484  02B6  3A 00 00    	ld	a,(_game_boss_alive)
1485  02B9  B7          	or	a, a
1486  02BA  28 4E       	jr	Z,l_game_draw_screen_00123
1487  02BC  3A 00 00    	ld	a,(_spr_count)
1488  02BF  C6 00       	add	a,+((_game_respawn_index) & 0xFF)
1489  02C1  5F          	ld	e,a
1490  02C2  3E 00       	ld	a,+((_game_respawn_index) / 256)
1491  02C4  CE 00       	adc	a,0x00
1492  02C6  57          	ld	d,a
1493  02C7  3A 00 00    	ld	a,(_index1)
1494  02CA  12          	ld	(de), a
1495  02CB  3A 00 00    	ld	a,(_spr_count)
1496  02CE  C6 00       	add	a,+((_game_respawn_tile) & 0xFF)
1497  02D0  5F          	ld	e,a
1498  02D1  3E 00       	ld	a,+((_game_respawn_tile) / 256)
1499  02D3  CE 00       	adc	a,0x00
1500  02D5  57          	ld	d,a
1501  02D6  78          	ld	a, b
1502  02D7  12          	ld	(de), a
1503  02D8  68          	ld	l, b
1504  02D9  CD EC 04    	call	_game_add_enemy
1505  02DC  18 2C       	jr	l_game_draw_screen_00123
1506  02DE              l_game_draw_screen_00122:
1507  02DE  2A 00 00    	ld	hl,(_index1)
1508  02E1  C5          	push	bc
1509  02E2  CD 24 10    	call	_game_obj_chk
1510  02E5  C1          	pop	bc
1511  02E6  7D          	ld	a,l
1512  02E7  B7          	or	a, a
1513  02E8  20 20       	jr	NZ,l_game_draw_screen_00123
1514  02EA  3E 00       	ld	a, +((_mush_index) & 0xFF)
1515  02EC  DD 86 FF    	add	a,(ix-1)
1516  02EF  5F          	ld	e, a
1517  02F0  3E 00       	ld	a, +((_mush_index) / 256)
1518  02F2  CE 00       	adc	a,0x00
1519  02F4  57          	ld	d, a
1520  02F5  3A 00 00    	ld	a,(_index1)
1521  02F8  C6 10       	add	a,0x10
1522  02FA  12          	ld	(de), a
1523  02FB  3E 00       	ld	a, +((_mush_class) & 0xFF)
1524  02FD  DD 86 FF    	add	a,(ix-1)
1525  0300  6F          	ld	l, a
1526  0301  3E 00       	ld	a, +((_mush_class) / 256)
1527  0303  CE 00       	adc	a,0x00
1528  0305  67          	ld	h, a
1529  0306  70          	ld	(hl), b
1530  0307  DD 34 FF    	inc	(ix-1)
1531  030A              l_game_draw_screen_00123:
1532  030A  2A 00 00    	ld	hl,(_index1)
1533  030D  01 00 00    	ld	bc,_scr_map
1534  0310  09          	add	hl,bc
1535  0311  E5          	push	hl
1536  0312  2A 00 00    	ld	hl,(_index1)
1537  0315  CD BD 11    	call	_game_match_back
1538  0318  C1          	pop	bc
1539  0319  7D          	ld	a,l
1540  031A  02          	ld	(bc), a
1541  031B  01 00 00    	ld	bc,_scr_map
1542  031E  2A 00 00    	ld	hl,(_index1)
1543  0321  09          	add	hl,bc
1544  0322  46          	ld	b, (hl)
1545  0323  3A 00 00    	ld	a,(_s_col1)
1546  0326  F5          	push	af
1547  0327  33          	inc	sp
1548  0328  3A 00 00    	ld	a,(_s_lin1)
1549  032B  48          	ld	c,b
1550  032C  47          	ld	b,a
1551  032D  C5          	push	bc
1552  032E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1553  0331              l_game_draw_screen_00126:
1554  0331  21 00 00    	ld	hl,_s_col1
1555  0334  34          	inc	(hl)
1556  0335  34          	inc	(hl)
1557  0336  21 00 00    	ld	hl,_index1
1558  0339  34          	inc	(hl)
1559  033A  C2 26 02    	jp	NZ,l_game_draw_screen_00127
1560  033D  23          	inc	hl
1561  033E  34          	inc	(hl)
1562  033F  C3 26 02    	jp	l_game_draw_screen_00127
1563  0342              l_game_draw_screen_00129:
1564  0342  FB          	ei
1565  0343  3A 00 00    	ld	a,(_game_boss_alive)
1566  0346  B7          	or	a, a
1567  0347  20 03       	jr	NZ,l_game_draw_screen_00131
1568  0349  CD A5 10    	call	_game_boss_clear
1569  034C              l_game_draw_screen_00131:
1570  034C  CD 2E 07    	call	_game_update_stats
1571  034F  33          	inc	sp
1572  0350  DD E1       	pop	ix
1573  0352  C9          	ret
1574  0353              	SECTION code_compiler
1575  0353              ;	---------------------------------
1576  0353              ; Function game_boss_kill
1577  0353              ; ---------------------------------
1578  0353              _game_boss_kill:
1579  0353  21 00 00    	ld	hl,_game_boss
1580  0356  36 00       	ld	(hl),0x00
1581  0358  21 00 00    	ld	hl,_game_boss_alive
1582  035B  36 00       	ld	(hl),0x00
1583  035D  CD 00 00    	call	_audio_explosion
1584  0360  21 00 00    	ld	hl,_game_song_play_start
1585  0363  36 00       	ld	(hl),0x00
1586  0365  CD 00 00    	call	_ay_reset
1587  0368  3A 00 00    	ld	a,(_boss_col)
1588  036B  21 00 00    	ld	hl,0x0000
1589  036E  E5          	push	hl
1590  036F  21 87 03    	ld	hl,0x0387
1591  0372  E5          	push	hl
1592  0373  2A 00 00    	ld	hl,(_boss_lin)
1593  0376  67          	ld	h,a
1594  0377  E5          	push	hl
1595  0378  CD 00 00    	call	_spr_add_anim
1596  037B  F1          	pop	af
1597  037C  F1          	pop	af
1598  037D  F1          	pop	af
1599  037E  21 00 00    	ld	hl,_boss_col
1600  0381  46          	ld	b, (hl)
1601  0382  04          	inc	b
1602  0383  04          	inc	b
1603  0384  3A 00 00    	ld	a,(_boss_lin)
1604  0387  21 00 00    	ld	hl,0x0000
1605  038A  E5          	push	hl
1606  038B  21 87 03    	ld	hl,0x0387
1607  038E  E5          	push	hl
1608  038F  4F          	ld	c,a
1609  0390  C5          	push	bc
1610  0391  CD 00 00    	call	_spr_add_anim
1611  0394  F1          	pop	af
1612  0395  F1          	pop	af
1613  0396  F1          	pop	af
1614  0397  3A 00 00    	ld	a,(_boss_lin)
1615  039A  C6 10       	add	a,0x10
1616  039C  47          	ld	b, a
1617  039D  3A 00 00    	ld	a,(_boss_col)
1618  03A0  21 00 00    	ld	hl,0x0000
1619  03A3  E5          	push	hl
1620  03A4  21 87 03    	ld	hl,0x0387
1621  03A7  E5          	push	hl
1622  03A8  48          	ld	c,b
1623  03A9  47          	ld	b,a
1624  03AA  C5          	push	bc
1625  03AB  CD 00 00    	call	_spr_add_anim
1626  03AE  F1          	pop	af
1627  03AF  F1          	pop	af
1628  03B0  F1          	pop	af
1629  03B1  21 00 00    	ld	hl,_boss_col
1630  03B4  56          	ld	d, (hl)
1631  03B5  14          	inc	d
1632  03B6  14          	inc	d
1633  03B7  3A 00 00    	ld	a,(_boss_lin)
1634  03BA  C6 10       	add	a,0x10
1635  03BC  47          	ld	b, a
1636  03BD  21 00 00    	ld	hl,0x0000
1637  03C0  E5          	push	hl
1638  03C1  21 87 03    	ld	hl,0x0387
1639  03C4  E5          	push	hl
1640  03C5  58          	ld	e,b
1641  03C6  D5          	push	de
1642  03C7  CD 00 00    	call	_spr_add_anim
1643  03CA  F1          	pop	af
1644  03CB  F1          	pop	af
1645  03CC  F1          	pop	af
1646  03CD  21 00 00    	ld	hl,_tmp0
1647  03D0  36 00       	ld	(hl),0x00
1648  03D2              l_game_boss_kill_00106:
1649  03D2  2A 00 00    	ld	hl,(_tmp0)
1650  03D5  26 00       	ld	h,0x00
1651  03D7  01 00 00    	ld	bc,_bullet_col
1652  03DA  09          	add	hl,bc
1653  03DB  7E          	ld	a,(hl)
1654  03DC  4F          	ld	c,a
1655  03DD  3C          	inc	a
1656  03DE  28 15       	jr	Z,l_game_boss_kill_00102
1657  03E0  3A 00 00    	ld	a,(_tmp0)
1658  03E3  5F          	ld	e,a
1659  03E4  16 00       	ld	d,0x00
1660  03E6  21 00 00    	ld	hl,_bullet_lin
1661  03E9  19          	add	hl,de
1662  03EA  7E          	ld	a,(hl)
1663  03EB  32 00 00    	ld	(_s_lin0),a
1664  03EE  21 00 00    	ld	hl,_s_col0
1665  03F1  71          	ld	(hl), c
1666  03F2  CD 00 00    	call	_spr_back_repaint
1667  03F5              l_game_boss_kill_00102:
1668  03F5  2A 00 00    	ld	hl,(_tmp0)
1669  03F8  26 00       	ld	h,0x00
1670  03FA  01 00 00    	ld	bc,_bullet_col
1671  03FD  09          	add	hl,bc
1672  03FE  36 FF       	ld	(hl),0xff
1673  0400  2A 00 00    	ld	hl,(_tmp0)
1674  0403  CD 00 00    	call	_spr_destroy
1675  0406  2A 00 00    	ld	hl,(_tmp0)
1676  0409  26 00       	ld	h,0x00
1677  040B  29          	add	hl, hl
1678  040C  11 00 00    	ld	de,_game_respawn_time
1679  040F  19          	add	hl, de
1680  0410  AF          	xor	a, a
1681  0411  77          	ld	(hl), a
1682  0412  23          	inc	hl
1683  0413  77          	ld	(hl), a
1684  0414  21 00 00    	ld	hl,_tmp0
1685  0417  7E          	ld	a,(hl)
1686  0418  3C          	inc	a
1687  0419  77          	ld	(hl),a
1688  041A  D6 07       	sub	a,0x07
1689  041C  38 B4       	jr	C,l_game_boss_kill_00106
1690  041E  CD A5 10    	call	_game_boss_clear
1691  0421  CD BA 05    	call	_game_print_footer
1692  0424  21 00 00    	ld	hl,_game_world
1693  0427  7E          	ld	a, (hl)
1694  0428  D6 03       	sub	a,0x03
1695  042A  C0          	ret	NZ
1696  042B  C3 2E 04    	jp  _game_end
1697  042E              	SECTION code_compiler
1698  042E              ;	---------------------------------
1699  042E              ; Function game_end
1700  042E              ; ---------------------------------
1701  042E              _game_end:
1702  042E  21 F4 01    	ld	hl,0x01f4
1703  0431  CD 00 00    	call	_z80_delay_ms_fastcall
1704  0434  21 00 00    	ld	hl,_scr_curr
1705  0437  36 00       	ld	(hl),0x00
1706  0439  CD 00 00    	call	_spr_page_map
1707  043C  CD 99 01    	call	_game_draw_screen
1708  043F  CD 00 00    	call	_audio_game_end
1709  0442  21 80 02    	ld	hl,0x0280
1710  0445  E5          	push	hl
1711  0446  3E 70       	ld	a,0x70
1712  0448  F5          	push	af
1713  0449  33          	inc	sp
1714  044A  CD 00 00    	call	_NIRVANAP_drawT_callee
1715  044D  21 DC 05    	ld	hl,0x05dc
1716  0450  CD 00 00    	call	_z80_delay_ms_fastcall
1717  0453  21 00 00    	ld	hl,___str_0
1718  0456  E5          	push	hl
1719  0457  21 08 08    	ld	hl,0x0808
1720  045A  E5          	push	hl
1721  045B  CD 00 00    	call	_zx_print_str
1722  045E  AF          	xor	a, a
1723  045F  F5          	push	af
1724  0460  33          	inc	sp
1725  0461  21 D0 07    	ld	hl,0x07d0
1726  0464  E5          	push	hl
1727  0465  21 08 18    	ld	hl,0x1808
1728  0468  E5          	push	hl
1729  0469  3E 08       	ld	a,0x08
1730  046B  F5          	push	af
1731  046C  33          	inc	sp
1732  046D  CD 1C 0B    	call	_game_colour_message
1733  0470  F1          	pop	af
1734  0471  F1          	pop	af
1735  0472  21 11 00    	ld	hl,___str_1
1736  0475  E3          	ex	(sp),hl
1737  0476  21 08 07    	ld	hl,0x0708
1738  0479  E5          	push	hl
1739  047A  CD 00 00    	call	_zx_print_str
1740  047D  AF          	xor	a, a
1741  047E  F5          	push	af
1742  047F  33          	inc	sp
1743  0480  21 D0 07    	ld	hl,0x07d0
1744  0483  E5          	push	hl
1745  0484  21 07 18    	ld	hl,0x1807
1746  0487  E5          	push	hl
1747  0488  3E 08       	ld	a,0x08
1748  048A  F5          	push	af
1749  048B  33          	inc	sp
1750  048C  CD 1C 0B    	call	_game_colour_message
1751  048F  F1          	pop	af
1752  0490  F1          	pop	af
1753  0491  21 23 00    	ld	hl,___str_2
1754  0494  E3          	ex	(sp),hl
1755  0495  21 08 05    	ld	hl,0x0508
1756  0498  E5          	push	hl
1757  0499  CD 00 00    	call	_zx_print_str
1758  049C  AF          	xor	a, a
1759  049D  F5          	push	af
1760  049E  33          	inc	sp
1761  049F  21 D0 07    	ld	hl,0x07d0
1762  04A2  E5          	push	hl
1763  04A3  21 05 1B    	ld	hl,0x1b05
1764  04A6  E5          	push	hl
1765  04A7  3E 08       	ld	a,0x08
1766  04A9  F5          	push	af
1767  04AA  33          	inc	sp
1768  04AB  CD 1C 0B    	call	_game_colour_message
1769  04AE  F1          	pop	af
1770  04AF  F1          	pop	af
1771  04B0  21 3A 00    	ld	hl,___str_3
1772  04B3  E3          	ex	(sp),hl
1773  04B4  21 08 03    	ld	hl,0x0308
1774  04B7  E5          	push	hl
1775  04B8  CD 00 00    	call	_zx_print_str
1776  04BB  AF          	xor	a, a
1777  04BC  F5          	push	af
1778  04BD  33          	inc	sp
1779  04BE  21 D0 07    	ld	hl,0x07d0
1780  04C1  E5          	push	hl
1781  04C2  21 03 1C    	ld	hl,0x1c03
1782  04C5  E5          	push	hl
1783  04C6  3E 08       	ld	a,0x08
1784  04C8  F5          	push	af
1785  04C9  33          	inc	sp
1786  04CA  CD 1C 0B    	call	_game_colour_message
1787  04CD  F1          	pop	af
1788  04CE  F1          	pop	af
1789  04CF  F1          	pop	af
1790  04D0  21 E8 03    	ld	hl,0x03e8
1791  04D3  CD 00 00    	call	_z80_delay_ms_fastcall
1792  04D6  CD 00 00    	call	_in_wait_key
1793  04D9  CD 00 00    	call	_ay_reset
1794  04DC  21 00 00    	ld	hl,_game_world
1795  04DF  36 FF       	ld	(hl),0xff
1796  04E1  21 00 00    	ld	hl,_scr_curr
1797  04E4  36 FF       	ld	(hl),0xff
1798  04E6  21 00 00    	ld	hl,_game_round_up
1799  04E9  36 01       	ld	(hl),0x01
1800  04EB  C9          	ret
1801  04EC              	SECTION rodata_compiler
1802  0000              ___str_0:
1803  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1804  0010  00          	DEFB 0x00
1805  0011              	SECTION rodata_compiler
1806  0011              ___str_1:
1807  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1808  0022  00          	DEFB 0x00
1809  0023              	SECTION rodata_compiler
1810  0023              ___str_2:
1811  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1812  0039  00          	DEFB 0x00
1813  003A              	SECTION rodata_compiler
1814  003A              ___str_3:
1815  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1816  0053  00          	DEFB 0x00
1817  0054              	SECTION code_compiler
1818  04EC              ;	---------------------------------
1819  04EC              ; Function game_add_enemy
1820  04EC              ; ---------------------------------
1821  04EC              _game_add_enemy:
1822  04EC  7D          	ld	a,l
1823  04ED  D6 78       	sub	a,0x78
1824  04EF  28 57       	jr	Z,l_game_add_enemy_00119
1825  04F1  4D          	ld	c,l
1826  04F2  21 00 00    	ld	hl,_tmp0
1827  04F5  36 00       	ld	(hl),0x00
1828  04F7              l_game_add_enemy_00104:
1829  04F7  3E 17       	ld	a,0x17
1830  04F9  21 00 00    	ld	hl,_tmp0
1831  04FC  96          	sub	a, (hl)
1832  04FD  DA B9 05    	jp	C, l_game_add_enemy_00121
1833  0500  7E          	ld	a, (hl)
1834  0501  5F          	ld	e, a
1835  0502  87          	add	a, a
1836  0503  83          	add	a, e
1837  0504  21 00 00    	ld	hl,_tmp1
1838  0507  77          	ld	(hl), a
1839  0508  C6 00       	add	a,+((_spr_init) & 0xFF)
1840  050A  5F          	ld	e, a
1841  050B  3E 00       	ld	a, +((_spr_init) / 256)
1842  050D  CE 00       	adc	a,0x00
1843  050F  57          	ld	d, a
1844  0510  1A          	ld	a, (de)
1845  0511  91          	sub	a, c
1846  0512  20 2E       	jr	NZ,l_game_add_enemy_00102
1847  0514  6E          	ld	l,(hl)
1848  0515  26 00       	ld	h,0x00
1849  0517  5D          	ld	e,l
1850  0518  54          	ld	d,h
1851  0519  23          	inc	hl
1852  051A  23          	inc	hl
1853  051B  3E 00       	ld	a, +((_spr_init) & 0xFF)
1854  051D  85          	add	a, l
1855  051E  6F          	ld	l, a
1856  051F  3E 00       	ld	a, +((_spr_init) / 256)
1857  0521  8C          	adc	a, h
1858  0522  67          	ld	h, a
1859  0523  46          	ld	b, (hl)
1860  0524  13          	inc	de
1861  0525  21 00 00    	ld	hl,_spr_init
1862  0528  19          	add	hl, de
1863  0529  56          	ld	d, (hl)
1864  052A  C5          	push	bc
1865  052B  4A          	ld	c, d
1866  052C  3A 00 00    	ld	a,(_s_col1)
1867  052F  2A 00 00    	ld	hl,(_s_lin1)
1868  0532  C5          	push	bc
1869  0533  67          	ld	h,a
1870  0534  E5          	push	hl
1871  0535  CD 00 00    	call	_enemy_init
1872  0538  F1          	pop	af
1873  0539  F1          	pop	af
1874  053A  C1          	pop	bc
1875  053B  21 00 00    	ld	hl,_tmp0
1876  053E  36 FF       	ld	(hl),0xff
1877  0540  18 B5       	jr	l_game_add_enemy_00104
1878  0542              l_game_add_enemy_00102:
1879  0542  21 00 00    	ld	hl,_tmp0
1880  0545  34          	inc	(hl)
1881  0546  18 AF       	jr	l_game_add_enemy_00104
1882  0548              l_game_add_enemy_00119:
1883  0548  3A 00 00    	ld	a,(_game_boss)
1884  054B  B7          	or	a, a
1885  054C  20 61       	jr	NZ,l_game_add_enemy_00115
1886  054E  3A 00 00    	ld	a,(_game_boss_alive)
1887  0551  B7          	or	a, a
1888  0552  28 5B       	jr	Z,l_game_add_enemy_00115
1889  0554  3A 00 00    	ld	a,(_s_lin1)
1890  0557  32 00 00    	ld	(_boss_lin),a
1891  055A  3A 00 00    	ld	a,(_s_col1)
1892  055D  32 00 00    	ld	(_boss_col),a
1893  0560  3A 00 00    	ld	a,(_game_world)
1894  0563  B7          	or	a, a
1895  0564  28 10       	jr	Z,l_game_add_enemy_00107
1896  0566  3D          	dec	a
1897  0567  28 14       	jr	Z,l_game_add_enemy_00108
1898  0569  3A 00 00    	ld	a,(_game_world)
1899  056C  FE 02       	cp	a,0x02
1900  056E  28 14       	jr	Z,l_game_add_enemy_00109
1901  0570  D6 03       	sub	a,0x03
1902  0572  28 17       	jr	Z,l_game_add_enemy_00110
1903  0574  18 1A       	jr	l_game_add_enemy_00111
1904  0576              l_game_add_enemy_00107:
1905  0576  21 00 00    	ld	hl,_boss_tile
1906  0579  36 C8       	ld	(hl),0xc8
1907  057B  18 13       	jr	l_game_add_enemy_00111
1908  057D              l_game_add_enemy_00108:
1909  057D  21 00 00    	ld	hl,_boss_tile
1910  0580  36 D8       	ld	(hl),0xd8
1911  0582  18 0C       	jr	l_game_add_enemy_00111
1912  0584              l_game_add_enemy_00109:
1913  0584  21 00 00    	ld	hl,_boss_tile
1914  0587  36 DC       	ld	(hl),0xdc
1915  0589  18 05       	jr	l_game_add_enemy_00111
1916  058B              l_game_add_enemy_00110:
1917  058B  21 00 00    	ld	hl,_boss_tile
1918  058E  36 E0       	ld	(hl),0xe0
1919  0590              l_game_add_enemy_00111:
1920  0590  21 00 00    	ld	hl,_boss_stat
1921  0593  36 00       	ld	(hl),0x00
1922  0595  21 00 00    	ld	hl,_boss_stat
1923  0598  CD 00 00    	call	_spr_set_up
1924  059B  21 00 00    	ld	hl,_game_boss
1925  059E  36 01       	ld	(hl),0x01
1926  05A0  21 00 00    	ld	hl,_game_boss_hit
1927  05A3  36 06       	ld	(hl),0x06
1928  05A5  21 00 00    	ld	hl,_game_song_play_start
1929  05A8  36 00       	ld	(hl),0x00
1930  05AA  CD 00 00    	call	_ay_reset
1931  05AD  18 0A       	jr	l_game_add_enemy_00121
1932  05AF              l_game_add_enemy_00115:
1933  05AF  3A 00 00    	ld	a,(_game_boss)
1934  05B2  B7          	or	a, a
1935  05B3  C0          	ret	NZ
1936  05B4  21 00 00    	ld	hl,_game_boss_fix
1937  05B7  36 01       	ld	(hl),0x01
1938  05B9              l_game_add_enemy_00121:
1939  05B9  C9          	ret
1940  05BA              	SECTION code_compiler
1941  05BA              ;	---------------------------------
1942  05BA              ; Function game_print_footer
1943  05BA              ; ---------------------------------
1944  05BA              _game_print_footer:
1945  05BA  21 00 00    	ld	hl,_screen_ink
1946  05BD  36 05       	ld	(hl),0x05
1947  05BF  21 13 62    	ld	hl,0x6213
1948  05C2  E5          	push	hl
1949  05C3  CD 00 00    	call	_game_fill_row
1950  05C6  21 17 62    	ld	hl,0x6217
1951  05C9  E5          	push	hl
1952  05CA  CD 00 00    	call	_game_fill_row
1953  05CD  21 54 00    	ld	hl,___str_4
1954  05D0  E5          	push	hl
1955  05D1  21 13 00    	ld	hl,0x0013
1956  05D4  E5          	push	hl
1957  05D5  CD 00 00    	call	_zx_print_str
1958  05D8  21 56 00    	ld	hl,___str_5
1959  05DB  E5          	push	hl
1960  05DC  21 13 1F    	ld	hl,0x1f13
1961  05DF  E5          	push	hl
1962  05E0  CD 00 00    	call	_zx_print_str
1963  05E3  21 58 00    	ld	hl,___str_6
1964  05E6  E5          	push	hl
1965  05E7  21 14 00    	ld	hl,0x0014
1966  05EA  E5          	push	hl
1967  05EB  CD 00 00    	call	_zx_print_str
1968  05EE  21 5A 00    	ld	hl,___str_7
1969  05F1  E5          	push	hl
1970  05F2  21 14 1F    	ld	hl,0x1f14
1971  05F5  E5          	push	hl
1972  05F6  CD 00 00    	call	_zx_print_str
1973  05F9  21 58 00    	ld	hl,___str_6
1974  05FC  E5          	push	hl
1975  05FD  21 15 00    	ld	hl,0x0015
1976  0600  E5          	push	hl
1977  0601  CD 00 00    	call	_zx_print_str
1978  0604  21 5A 00    	ld	hl,___str_7
1979  0607  E5          	push	hl
1980  0608  21 15 1F    	ld	hl,0x1f15
1981  060B  E5          	push	hl
1982  060C  CD 00 00    	call	_zx_print_str
1983  060F  21 58 00    	ld	hl,___str_6
1984  0612  E5          	push	hl
1985  0613  21 16 00    	ld	hl,0x0016
1986  0616  E5          	push	hl
1987  0617  CD 00 00    	call	_zx_print_str
1988  061A  21 5A 00    	ld	hl,___str_7
1989  061D  E5          	push	hl
1990  061E  21 16 1F    	ld	hl,0x1f16
1991  0621  E5          	push	hl
1992  0622  CD 00 00    	call	_zx_print_str
1993  0625  21 5C 00    	ld	hl,___str_8
1994  0628  E5          	push	hl
1995  0629  21 17 00    	ld	hl,0x0017
1996  062C  E5          	push	hl
1997  062D  CD 00 00    	call	_zx_print_str
1998  0630  21 5E 00    	ld	hl,___str_9
1999  0633  E5          	push	hl
2000  0634  21 17 1F    	ld	hl,0x1f17
2001  0637  E5          	push	hl
2002  0638  CD 00 00    	call	_zx_print_str
2003  063B  21 60 00    	ld	hl,___str_10
2004  063E  E5          	push	hl
2005  063F  21 15 0F    	ld	hl,0x0f15
2006  0642  E5          	push	hl
2007  0643  CD 00 00    	call	_zx_print_str
2008  0646  21 62 00    	ld	hl,___str_11
2009  0649  E5          	push	hl
2010  064A  21 14 01    	ld	hl,0x0114
2011  064D  E5          	push	hl
2012  064E  CD 00 00    	call	_zx_print_str
2013  0651  21 00 00    	ld	hl,_screen_ink
2014  0654  36 06       	ld	(hl),0x06
2015  0656  21 64 00    	ld	hl,___str_12
2016  0659  E5          	push	hl
2017  065A  21 15 01    	ld	hl,0x0115
2018  065D  E5          	push	hl
2019  065E  CD 00 00    	call	_zx_print_str
2020  0661  21 66 00    	ld	hl,___str_13
2021  0664  E5          	push	hl
2022  0665  21 16 07    	ld	hl,0x0716
2023  0668  E5          	push	hl
2024  0669  CD 00 00    	call	_zx_print_str
2025  066C  21 68 00    	ld	hl,___str_14
2026  066F  E5          	push	hl
2027  0670  21 16 0D    	ld	hl,0x0d16
2028  0673  E5          	push	hl
2029  0674  CD 00 00    	call	_zx_print_str
2030  0677  21 6A 00    	ld	hl,___str_15
2031  067A  E5          	push	hl
2032  067B  21 16 13    	ld	hl,0x1316
2033  067E  E5          	push	hl
2034  067F  CD 00 00    	call	_zx_print_str
2035  0682  21 6C 00    	ld	hl,___str_16
2036  0685  E5          	push	hl
2037  0686  21 16 19    	ld	hl,0x1916
2038  0689  E5          	push	hl
2039  068A  CD 00 00    	call	_zx_print_str
2040  068D  21 00 00    	ld	hl,_screen_ink
2041  0690  36 42       	ld	(hl),0x42
2042  0692  21 6E 00    	ld	hl,___str_17
2043  0695  E5          	push	hl
2044  0696  21 14 08    	ld	hl,0x0814
2045  0699  E5          	push	hl
2046  069A  CD 00 00    	call	_zx_print_str
2047  069D  21 00 00    	ld	hl,_screen_ink
2048  06A0  36 03       	ld	(hl),0x03
2049  06A2  21 70 00    	ld	hl,___str_18
2050  06A5  E5          	push	hl
2051  06A6  21 15 08    	ld	hl,0x0815
2052  06A9  E5          	push	hl
2053  06AA  CD 00 00    	call	_zx_print_str
2054  06AD  21 00 00    	ld	hl,_screen_ink
2055  06B0  36 47       	ld	(hl),0x47
2056  06B2  21 72 00    	ld	hl,___str_19
2057  06B5  E5          	push	hl
2058  06B6  21 14 0F    	ld	hl,0x0f14
2059  06B9  E5          	push	hl
2060  06BA  CD 00 00    	call	_zx_print_str
2061  06BD  21 00 00    	ld	hl,_screen_ink
2062  06C0  36 45       	ld	(hl),0x45
2063  06C2  21 74 00    	ld	hl,___str_20
2064  06C5  E5          	push	hl
2065  06C6  21 14 15    	ld	hl,0x1514
2066  06C9  E5          	push	hl
2067  06CA  CD 00 00    	call	_zx_print_str
2068  06CD  21 00 00    	ld	hl,_screen_ink
2069  06D0  36 07       	ld	(hl),0x07
2070  06D2  21 76 00    	ld	hl,___str_21
2071  06D5  E5          	push	hl
2072  06D6  21 15 15    	ld	hl,0x1515
2073  06D9  E5          	push	hl
2074  06DA  CD 00 00    	call	_zx_print_str
2075  06DD  3A 00 00    	ld	a,(_game_debug)
2076  06E0  B7          	or	a, a
2077  06E1  28 0B       	jr	Z,l_game_print_footer_00102
2078  06E3  21 78 00    	ld	hl,___str_22
2079  06E6  E5          	push	hl
2080  06E7  21 17 14    	ld	hl,0x1417
2081  06EA  E5          	push	hl
2082  06EB  CD 00 00    	call	_zx_print_str
2083  06EE              l_game_print_footer_00102:
2084  06EE  21 7D 00    	ld	hl,___str_23
2085  06F1  E5          	push	hl
2086  06F2  21 16 02    	ld	hl,0x0216
2087  06F5  E5          	push	hl
2088  06F6  CD 00 00    	call	_zx_print_str
2089  06F9  CD 2E 07    	call	_game_update_stats
2090  06FC  C9          	ret
2091  06FD              	SECTION rodata_compiler
2092  0054              ___str_4:
2093  0054  61          	DEFM "a"
2094  0055  00          	DEFB 0x00
2095  0056              	SECTION rodata_compiler
2096  0056              ___str_5:
2097  0056  63          	DEFM "c"
2098  0057  00          	DEFB 0x00
2099  0058              	SECTION rodata_compiler
2100  0058              ___str_6:
2101  0058  64          	DEFM "d"
2102  0059  00          	DEFB 0x00
2103  005A              	SECTION rodata_compiler
2104  005A              ___str_7:
2105  005A  65          	DEFM "e"
2106  005B  00          	DEFB 0x00
2107  005C              	SECTION rodata_compiler
2108  005C              ___str_8:
2109  005C  66          	DEFM "f"
2110  005D  00          	DEFB 0x00
2111  005E              	SECTION rodata_compiler
2112  005E              ___str_9:
2113  005E  67          	DEFM "g"
2114  005F  00          	DEFB 0x00
2115  0060              	SECTION rodata_compiler
2116  0060              ___str_10:
2117  0060  5F          	DEFM "_"
2118  0061  00          	DEFB 0x00
2119  0062              	SECTION rodata_compiler
2120  0062              ___str_11:
2121  0062  3C          	DEFM "<"
2122  0063  00          	DEFB 0x00
2123  0064              	SECTION rodata_compiler
2124  0064              ___str_12:
2125  0064  5C          	DEFB 0x5c
2126  0065  00          	DEFB 0x00
2127  0066              	SECTION rodata_compiler
2128  0066              ___str_13:
2129  0066  6C          	DEFM "l"
2130  0067  00          	DEFB 0x00
2131  0068              	SECTION rodata_compiler
2132  0068              ___str_14:
2133  0068  6D          	DEFM "m"
2134  0069  00          	DEFB 0x00
2135  006A              	SECTION rodata_compiler
2136  006A              ___str_15:
2137  006A  6E          	DEFM "n"
2138  006B  00          	DEFB 0x00
2139  006C              	SECTION rodata_compiler
2140  006C              ___str_16:
2141  006C  6F          	DEFM "o"
2142  006D  00          	DEFB 0x00
2143  006E              	SECTION rodata_compiler
2144  006E              ___str_17:
2145  006E  3E          	DEFM ">"
2146  006F  00          	DEFB 0x00
2147  0070              	SECTION rodata_compiler
2148  0070              ___str_18:
2149  0070  5E          	DEFM "^"
2150  0071  00          	DEFB 0x00
2151  0072              	SECTION rodata_compiler
2152  0072              ___str_19:
2153  0072  3F          	DEFM "?"
2154  0073  00          	DEFB 0x00
2155  0074              	SECTION rodata_compiler
2156  0074              ___str_20:
2157  0074  78          	DEFM "x"
2158  0075  00          	DEFB 0x00
2159  0076              	SECTION rodata_compiler
2160  0076              ___str_21:
2161  0076  79          	DEFM "y"
2162  0077  00          	DEFB 0x00
2163  0078              	SECTION rodata_compiler
2164  0078              ___str_22:
2165  0078  4C 50 53 3A 	DEFM "LPS:"
2166  007C  00          	DEFB 0x00
2167  007D              	SECTION rodata_compiler
2168  007D              ___str_23:
2169  007D  20 20 20 20 	DEFM "    "
2170  0081  00          	DEFB 0x00
2171  0082              	SECTION code_compiler
2172  06FD              ;	---------------------------------
2173  06FD              ; Function game_print_score
2174  06FD              ; ---------------------------------
2175  06FD              _game_print_score:
2176  06FD  21 00 00    	ld	hl,_screen_ink
2177  0700  36 07       	ld	(hl),0x07
2178  0702  21 00 00    	ld	hl,_screen_paper
2179  0705  36 00       	ld	(hl),0x00
2180  0707  2A 00 00    	ld	hl,(_player_score)
2181  070A  E5          	push	hl
2182  070B  21 14 17    	ld	hl,0x1714
2183  070E  E5          	push	hl
2184  070F  CD 00 00    	call	_zx_print_int
2185  0712  2A 00 00    	ld	hl,(_game_score_top)
2186  0715  E5          	push	hl
2187  0716  21 00 0E    	ld	hl,0x0e00
2188  0719  E5          	push	hl
2189  071A  CD 00 00    	call	_zx_print_int
2190  071D  C9          	ret
2191  071E              	SECTION code_compiler
2192  071E              ;	---------------------------------
2193  071E              ; Function game_cls
2194  071E              ; ---------------------------------
2195  071E              _game_cls:
2196  071E  CD 00 00    	call	_NIRVANAP_stop
2197  0721  2E 00       	ld	l,0x00
2198  0723  CD 00 00    	call	_zx_cls_fastcall
2199  0726  21 00 00    	ld	hl,_screen_ink
2200  0729  36 07       	ld	(hl),0x07
2201  072B  C3 00 00    	jp  _NIRVANAP_start
2202  072E              	SECTION code_compiler
2203  072E              ;	---------------------------------
2204  072E              ; Function game_update_stats
2205  072E              ; ---------------------------------
2206  072E              _game_update_stats:
2207  072E  21 00 00    	ld	hl,_screen_ink
2208  0731  36 07       	ld	(hl),0x07
2209  0733  3A 00 00    	ld	a,(_player_lives)
2210  0736  F5          	push	af
2211  0737  33          	inc	sp
2212  0738  21 14 03    	ld	hl,0x0314
2213  073B  E5          	push	hl
2214  073C  CD 00 00    	call	_zx_print_chr
2215  073F  3A 00 00    	ld	a,(_player_coins)
2216  0742  F5          	push	af
2217  0743  33          	inc	sp
2218  0744  21 16 09    	ld	hl,0x0916
2219  0747  E5          	push	hl
2220  0748  CD 00 00    	call	_zx_print_chr
2221  074B  3A 00 00    	ld	a,(_player_str)
2222  074E  F5          	push	af
2223  074F  33          	inc	sp
2224  0750  21 16 0F    	ld	hl,0x0f16
2225  0753  E5          	push	hl
2226  0754  CD 00 00    	call	_zx_print_chr
2227  0757  3A 00 00    	ld	a,(_player_int)
2228  075A  F5          	push	af
2229  075B  33          	inc	sp
2230  075C  21 16 15    	ld	hl,0x1516
2231  075F  E5          	push	hl
2232  0760  CD 00 00    	call	_zx_print_chr
2233  0763  3A 00 00    	ld	a,(_player_lvl)
2234  0766  F5          	push	af
2235  0767  33          	inc	sp
2236  0768  21 16 1B    	ld	hl,0x1b16
2237  076B  E5          	push	hl
2238  076C  CD 00 00    	call	_zx_print_chr
2239  076F  21 00 00    	ld	hl,_screen_ink
2240  0772  36 02       	ld	(hl),0x02
2241  0774  3A 00 00    	ld	a,(_player_vita)
2242  0777  F5          	push	af
2243  0778  33          	inc	sp
2244  0779  21 14 0A    	ld	hl,0x0a14
2245  077C  E5          	push	hl
2246  077D  CD 00 00    	call	_zx_print_chr
2247  0780  21 00 00    	ld	hl,_screen_ink
2248  0783  36 01       	ld	(hl),0x01
2249  0785  3A 00 00    	ld	a,(_player_mana)
2250  0788  F5          	push	af
2251  0789  33          	inc	sp
2252  078A  21 14 11    	ld	hl,0x1114
2253  078D  E5          	push	hl
2254  078E  CD 00 00    	call	_zx_print_chr
2255  0791  3A 00 00    	ld	a,(_game_boss)
2256  0794  B7          	or	a, a
2257  0795  28 38       	jr	Z,l_game_update_stats_00106
2258  0797  21 00 00    	ld	hl,_screen_ink
2259  079A  36 03       	ld	(hl),0x03
2260  079C  21 00 00    	ld	hl,_tmp0
2261  079F  36 00       	ld	(hl),0x00
2262  07A1              l_game_update_stats_00115:
2263  07A1  21 00 00    	ld	hl,_tmp0
2264  07A4  7E          	ld	a, (hl)
2265  07A5  C6 0D       	add	a,0x0d
2266  07A7  47          	ld	b, a
2267  07A8  7E          	ld	a, (hl)
2268  07A9  21 00 00    	ld	hl,_game_boss_hit
2269  07AC  96          	sub	a, (hl)
2270  07AD  30 0C       	jr	NC,l_game_update_stats_00102
2271  07AF  21 82 00    	ld	hl,___str_24
2272  07B2  E5          	push	hl
2273  07B3  0E 13       	ld	c,0x13
2274  07B5  C5          	push	bc
2275  07B6  CD 00 00    	call	_zx_print_str
2276  07B9  18 0A       	jr	l_game_update_stats_00116
2277  07BB              l_game_update_stats_00102:
2278  07BB  21 84 00    	ld	hl,___str_25
2279  07BE  E5          	push	hl
2280  07BF  0E 13       	ld	c,0x13
2281  07C1  C5          	push	bc
2282  07C2  CD 00 00    	call	_zx_print_str
2283  07C5              l_game_update_stats_00116:
2284  07C5  21 00 00    	ld	hl,_tmp0
2285  07C8  7E          	ld	a,(hl)
2286  07C9  3C          	inc	a
2287  07CA  77          	ld	(hl),a
2288  07CB  D6 06       	sub	a,0x06
2289  07CD  38 D2       	jr	C,l_game_update_stats_00115
2290  07CF              l_game_update_stats_00106:
2291  07CF  3A 00 00    	ld	a,(_player_keys)
2292  07D2  B7          	or	a, a
2293  07D3  28 10       	jr	Z,l_game_update_stats_00108
2294  07D5  21 00 00    	ld	hl,_screen_ink
2295  07D8  36 07       	ld	(hl),0x07
2296  07DA  21 86 00    	ld	hl,___str_26
2297  07DD  E5          	push	hl
2298  07DE  21 16 02    	ld	hl,0x0216
2299  07E1  E5          	push	hl
2300  07E2  CD 00 00    	call	_zx_print_str
2301  07E5              l_game_update_stats_00108:
2302  07E5  3A 01 00    	ld	a, (_player_keys + 1)
2303  07E8  B7          	or	a, a
2304  07E9  28 10       	jr	Z,l_game_update_stats_00110
2305  07EB  21 00 00    	ld	hl,_screen_ink
2306  07EE  36 02       	ld	(hl),0x02
2307  07F0  21 86 00    	ld	hl,___str_26
2308  07F3  E5          	push	hl
2309  07F4  21 16 03    	ld	hl,0x0316
2310  07F7  E5          	push	hl
2311  07F8  CD 00 00    	call	_zx_print_str
2312  07FB              l_game_update_stats_00110:
2313  07FB  3A 02 00    	ld	a, (_player_keys + 2)
2314  07FE  B7          	or	a, a
2315  07FF  28 10       	jr	Z,l_game_update_stats_00112
2316  0801  21 00 00    	ld	hl,_screen_ink
2317  0804  36 04       	ld	(hl),0x04
2318  0806  21 86 00    	ld	hl,___str_26
2319  0809  E5          	push	hl
2320  080A  21 16 04    	ld	hl,0x0416
2321  080D  E5          	push	hl
2322  080E  CD 00 00    	call	_zx_print_str
2323  0811              l_game_update_stats_00112:
2324  0811  3A 03 00    	ld	a, (_player_keys + 3)
2325  0814  B7          	or	a, a
2326  0815  C8          	ret	Z
2327  0816  21 00 00    	ld	hl,_screen_ink
2328  0819  36 05       	ld	(hl),0x05
2329  081B  21 86 00    	ld	hl,___str_26
2330  081E  E5          	push	hl
2331  081F  21 16 05    	ld	hl,0x0516
2332  0822  E5          	push	hl
2333  0823  CD 00 00    	call	_zx_print_str
2334  0826  C9          	ret
2335  0827              	SECTION rodata_compiler
2336  0082              ___str_24:
2337  0082  2A          	DEFM "*"
2338  0083  00          	DEFB 0x00
2339  0084              	SECTION rodata_compiler
2340  0084              ___str_25:
2341  0084  20          	DEFM " "
2342  0085  00          	DEFB 0x00
2343  0086              	SECTION rodata_compiler
2344  0086              ___str_26:
2345  0086  5D          	DEFM "]"
2346  0087  00          	DEFB 0x00
2347  0088              	SECTION code_compiler
2348  0827              ;	---------------------------------
2349  0827              ; Function game_tick
2350  0827              ; ---------------------------------
2351  0827              _game_tick:
2352  0827  21 00 00    	ld	hl,_curr_time
2353  082A  34          	inc	(hl)
2354  082B  C2 00 00    	jp	NZ,_zx_isr
2355  082E  23          	inc	hl
2356  082F  34          	inc	(hl)
2357  0830  C3 00 00    	jp  _zx_isr
2358  0833              	SECTION code_compiler
2359  0833              ;	---------------------------------
2360  0833              ; Function game_start_timer
2361  0833              ; ---------------------------------
2362  0833              _game_start_timer:
2363  0833  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2364  0836  36 CD       	ld	(hl),0xcd
2365  0838  23          	inc	hl
2366  0839  11 27 08    	ld	de,_game_tick
2367  083C  73          	ld	(hl), e
2368  083D  23          	inc	hl
2369  083E  72          	ld	(hl), d
2370  083F  C9          	ret
2371  0840              	SECTION code_compiler
2372  0840              ;	---------------------------------
2373  0840              ; Function game_set_checkpoint
2374  0840              ; ---------------------------------
2375  0840              _game_set_checkpoint:
2376  0840  3A 00 00    	ld	a,(_player_col_scr)
2377  0843  CB 3F       	srl	a
2378  0845  87          	add	a, a
2379  0846  32 00 00    	ld	(_game_checkpoint_col),a
2380  0849  3A 00 00    	ld	a,(_player_lin_scr)
2381  084C  07          	rlca
2382  084D  07          	rlca
2383  084E  07          	rlca
2384  084F  07          	rlca
2385  0850  E6 0F       	and	a,0x0f
2386  0852  07          	rlca
2387  0853  07          	rlca
2388  0854  07          	rlca
2389  0855  07          	rlca
2390  0856  E6 F0       	and	a,0xf0
2391  0858  32 00 00    	ld	(_game_checkpoint_lin),a
2392  085B  3A 00 00    	ld	a,(_scr_curr)
2393  085E  32 00 00    	ld	(_game_checkpoint_scr),a
2394  0861  C9          	ret
2395  0862              	SECTION code_compiler
2396  0862              ;	---------------------------------
2397  0862              ; Function game_round_init
2398  0862              ; ---------------------------------
2399  0862              _game_round_init:
2400  0862  21 00 00    	ld	hl,0x0000
2401  0865  22 00 00    	ld	(_loop_count),hl
2402  0868  21 00 00    	ld	hl,0
2403  086B  22 00 00    	ld	(_curr_time),hl
2404  086E  21 00 00    	ld	hl,0x0000
2405  0871  22 00 00    	ld	(_frame_time),hl
2406  0874  CD 00 00    	call	_spr_init_effects
2407  0877  CD 3E 09    	call	_game_print_header
2408  087A  CD BA 05    	call	_game_print_footer
2409  087D  CD 00 00    	call	_spr_page_map
2410  0880  CD 99 01    	call	_game_draw_screen
2411  0883  CD 40 08    	call	_game_set_checkpoint
2412  0886  21 00 00    	ld	hl,_game_song_play_start
2413  0889  36 00       	ld	(hl),0x00
2414  088B  3A 00 00    	ld	a,(_game_over)
2415  088E  B7          	or	a, a
2416  088F  20 10       	jr	NZ,l_game_round_init_00102
2417  0891  2A 00 00    	ld	hl,(_player_col_scr)
2418  0894  26 70       	ld	h,0x70
2419  0896  3A 00 00    	ld	a,(_player_lin_scr)
2420  0899  E5          	push	hl
2421  089A  F5          	push	af
2422  089B  33          	inc	sp
2423  089C  CD 00 00    	call	_player_init
2424  089F  F1          	pop	af
2425  08A0  33          	inc	sp
2426  08A1              l_game_round_init_00102:
2427  08A1  CD 2E 07    	call	_game_update_stats
2428  08A4  CD 00 00    	call	_ay_reset
2429  08A7  3A 00 00    	ld	a,(_game_debug)
2430  08AA  B7          	or	a, a
2431  08AB  C2 3D 09    	jp	NZ, l_game_round_init_00110
2432  08AE  CD 00 00    	call	_audio_level_start
2433  08B1  3A 00 00    	ld	a,(_game_world)
2434  08B4  B7          	or	a, a
2435  08B5  28 10       	jr	Z,l_game_round_init_00103
2436  08B7  3D          	dec	a
2437  08B8  28 1F       	jr	Z,l_game_round_init_00104
2438  08BA  3A 00 00    	ld	a,(_game_world)
2439  08BD  FE 02       	cp	a,0x02
2440  08BF  28 2A       	jr	Z,l_game_round_init_00105
2441  08C1  D6 03       	sub	a,0x03
2442  08C3  28 38       	jr	Z,l_game_round_init_00106
2443  08C5  18 46       	jr	l_game_round_init_00107
2444  08C7              l_game_round_init_00103:
2445  08C7  21 88 00    	ld	hl,___str_27
2446  08CA  E5          	push	hl
2447  08CB  21 0C 06    	ld	hl,0x060c
2448  08CE  E5          	push	hl
2449  08CF  CD 00 00    	call	_zx_print_str
2450  08D2  21 00 00    	ld	hl,_tmp0
2451  08D5  36 11       	ld	(hl),0x11
2452  08D7  18 34       	jr	l_game_round_init_00107
2453  08D9              l_game_round_init_00104:
2454  08D9  21 9A 00    	ld	hl,___str_28
2455  08DC  E5          	push	hl
2456  08DD  21 0C 06    	ld	hl,0x060c
2457  08E0  E5          	push	hl
2458  08E1  CD 00 00    	call	_zx_print_str
2459  08E4  21 00 00    	ld	hl,_tmp0
2460  08E7  36 0D       	ld	(hl),0x0d
2461  08E9  18 22       	jr	l_game_round_init_00107
2462  08EB              l_game_round_init_00105:
2463  08EB  21 A8 00    	ld	hl,___str_29
2464  08EE  E5          	push	hl
2465  08EF  21 0C 06    	ld	hl,0x060c
2466  08F2  E5          	push	hl
2467  08F3  CD 00 00    	call	_zx_print_str
2468  08F6  21 00 00    	ld	hl,_tmp0
2469  08F9  36 0E       	ld	(hl),0x0e
2470  08FB  18 10       	jr	l_game_round_init_00107
2471  08FD              l_game_round_init_00106:
2472  08FD  21 B7 00    	ld	hl,___str_30
2473  0900  E5          	push	hl
2474  0901  21 0C 06    	ld	hl,0x060c
2475  0904  E5          	push	hl
2476  0905  CD 00 00    	call	_zx_print_str
2477  0908  21 00 00    	ld	hl,_tmp0
2478  090B  36 11       	ld	(hl),0x11
2479  090D              l_game_round_init_00107:
2480  090D  3A 00 00    	ld	a,(_tmp0)
2481  0910  C6 06       	add	a,0x06
2482  0912  4F          	ld	c, a
2483  0913  06 68       	ld	b,0x68
2484  0915  C5          	push	bc
2485  0916  3E 06       	ld	a,0x06
2486  0918  F5          	push	af
2487  0919  33          	inc	sp
2488  091A  21 00 00    	ld	hl,_attrib_osd
2489  091D  E5          	push	hl
2490  091E  CD F2 0A    	call	_game_paint_attrib
2491  0921  F1          	pop	af
2492  0922  F1          	pop	af
2493  0923  33          	inc	sp
2494  0924  3A 00 00    	ld	a,(_tmp0)
2495  0927  C6 06       	add	a,0x06
2496  0929  47          	ld	b, a
2497  092A  AF          	xor	a, a
2498  092B  F5          	push	af
2499  092C  33          	inc	sp
2500  092D  21 C8 00    	ld	hl,0x00c8
2501  0930  E5          	push	hl
2502  0931  C5          	push	bc
2503  0932  33          	inc	sp
2504  0933  21 0C 06    	ld	hl,0x060c
2505  0936  E5          	push	hl
2506  0937  CD 1C 0B    	call	_game_colour_message
2507  093A  F1          	pop	af
2508  093B  F1          	pop	af
2509  093C  F1          	pop	af
2510  093D              l_game_round_init_00110:
2511  093D  C9          	ret
2512  093E              	SECTION rodata_compiler
2513  0088              ___str_27:
2514  0088  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2515  0099  00          	DEFB 0x00
2516  009A              	SECTION rodata_compiler
2517  009A              ___str_28:
2518  009A  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2519  00A7  00          	DEFB 0x00
2520  00A8              	SECTION rodata_compiler
2521  00A8              ___str_29:
2522  00A8  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2523  00B6  00          	DEFB 0x00
2524  00B7              	SECTION rodata_compiler
2525  00B7              ___str_30:
2526  00B7  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2527  00C8  00          	DEFB 0x00
2528  00C9              	SECTION code_compiler
2529  093E              ;	---------------------------------
2530  093E              ; Function game_print_header
2531  093E              ; ---------------------------------
2532  093E              _game_print_header:
2533  093E  21 00 00    	ld	hl,_screen_ink
2534  0941  36 02       	ld	(hl),0x02
2535  0943  21 C9 00    	ld	hl,___str_31
2536  0946  E5          	push	hl
2537  0947  21 00 0B    	ld	hl,0x0b00
2538  094A  E5          	push	hl
2539  094B  CD 00 00    	call	_zx_print_str
2540  094E  21 00 00    	ld	hl,_screen_ink
2541  0951  36 07       	ld	(hl),0x07
2542  0953  CD FD 06    	call	_game_print_score
2543  0956  C9          	ret
2544  0957              	SECTION rodata_compiler
2545  00C9              ___str_31:
2546  00C9  24 25 7C    	DEFM "$%|"
2547  00CC  00          	DEFB 0x00
2548  00CD              	SECTION code_compiler
2549  0957              ;	---------------------------------
2550  0957              ; Function game_check_map
2551  0957              ; ---------------------------------
2552  0957              _game_check_map:
2553  0957  CD 00 00    	call	___sdcc_enter_ix
2554  095A  DD CB 05 46 	bit	0,(ix+5)
2555  095E  20 18       	jr	NZ,l_game_check_map_00108
2556  0960  DD 66 05    	ld	h,(ix+5)
2557  0963  DD 6E 04    	ld	l,(ix+4)
2558  0966  E5          	push	hl
2559  0967  CD 00 00    	call	_spr_calc_index
2560  096A  F1          	pop	af
2561  096B  22 00 00    	ld	(_index1),hl
2562  096E  21 00 00    	ld	hl,_index1
2563  0971  CD D3 09    	call	_game_check_cell
2564  0974  26 00       	ld	h,0x00
2565  0976  18 58       	jr	l_game_check_map_00110
2566  0978              l_game_check_map_00108:
2567  0978  21 00 00    	ld	hl,_g_player_hit_left
2568  097B  36 00       	ld	(hl),0x00
2569  097D  21 00 00    	ld	hl,_g_player_hit_right
2570  0980  36 00       	ld	(hl),0x00
2571  0982  DD 46 05    	ld	b,(ix+5)
2572  0985  05          	dec	b
2573  0986  DD 4E 04    	ld	c,(ix+4)
2574  0989  C5          	push	bc
2575  098A  CD 00 00    	call	_spr_calc_index
2576  098D  F1          	pop	af
2577  098E  22 00 00    	ld	(_index1),hl
2578  0991  21 00 00    	ld	hl,_index1
2579  0994  CD D3 09    	call	_game_check_cell
2580  0997  7D          	ld	a, l
2581  0998  B7          	or	a, a
2582  0999  28 05       	jr	Z,l_game_check_map_00102
2583  099B  21 00 00    	ld	hl,_g_player_hit_left
2584  099E  36 01       	ld	(hl),0x01
2585  09A0              l_game_check_map_00102:
2586  09A0  3A 00 00    	ld	a,(_g_player_hit_left)
2587  09A3  B7          	or	a, a
2588  09A4  20 17       	jr	NZ,l_game_check_map_00106
2589  09A6  21 00 00    	ld	hl,_index1
2590  09A9  34          	inc	(hl)
2591  09AA  20 02       	jr	NZ,l_game_check_map_00141
2592  09AC  23          	inc	hl
2593  09AD  34          	inc	(hl)
2594  09AE              l_game_check_map_00141:
2595  09AE  21 00 00    	ld	hl,_index1
2596  09B1  CD D3 09    	call	_game_check_cell
2597  09B4  7D          	ld	a, l
2598  09B5  B7          	or	a, a
2599  09B6  28 05       	jr	Z,l_game_check_map_00106
2600  09B8  21 00 00    	ld	hl,_g_player_hit_right
2601  09BB  36 01       	ld	(hl),0x01
2602  09BD              l_game_check_map_00106:
2603  09BD  3A 00 00    	ld	a,(_g_player_hit_left)
2604  09C0  B7          	or	a, a
2605  09C1  20 09       	jr	NZ,l_game_check_map_00113
2606  09C3  3A 00 00    	ld	a,(_g_player_hit_right)
2607  09C6  B7          	or	a,a
2608  09C7  20 03       	jr	NZ,l_game_check_map_00113
2609  09C9  6F          	ld	l,a
2610  09CA  18 02       	jr	l_game_check_map_00114
2611  09CC              l_game_check_map_00113:
2612  09CC  2E 01       	ld	l,0x01
2613  09CE              l_game_check_map_00114:
2614  09CE  26 00       	ld	h,0x00
2615  09D0              l_game_check_map_00110:
2616  09D0  DD E1       	pop	ix
2617  09D2  C9          	ret
2618  09D3              	SECTION code_compiler
2619  09D3              ;	---------------------------------
2620  09D3              ; Function game_check_cell
2621  09D3              ; ---------------------------------
2622  09D3              _game_check_cell:
2623  09D3  CD 00 00    	call	___sdcc_enter_ix
2624  09D6  3B          	dec	sp
2625  09D7  4E          	ld	c, (hl)
2626  09D8  23          	inc	hl
2627  09D9  46          	ld	b, (hl)
2628  09DA  3E A0       	ld	a,0xa0
2629  09DC  B9          	cp	a, c
2630  09DD  3E 00       	ld	a,0x00
2631  09DF  98          	sbc	a, b
2632  09E0  30 05       	jr	NC,l_game_check_cell_00102
2633  09E2  2E 01       	ld	l,0x01
2634  09E4  C3 EE 0A    	jp	l_game_check_cell_00160
2635  09E7              l_game_check_cell_00102:
2636  09E7  21 00 00    	ld	hl,_scr_map
2637  09EA  09          	add	hl, bc
2638  09EB  7E          	ld	a,(hl)
2639  09EC  57          	ld	d,a
2640  09ED  D6 44       	sub	a,0x44
2641  09EF  3E 00       	ld	a,0x00
2642  09F1  17          	rla
2643  09F2  DD 77 FF    	ld	(ix-1),a
2644  09F5  3A 00 00    	ld	a,(_sprite)
2645  09F8  D6 07       	sub	a,0x07
2646  09FA  CA 91 0A    	jp	Z,l_game_check_cell_00158
2647  09FD  2A 00 00    	ld	hl,(_sprite)
2648  0A00  26 00       	ld	h,0x00
2649  0A02  01 00 00    	ld	bc,_class
2650  0A05  09          	add	hl,bc
2651  0A06  4E          	ld	c,(hl)
2652  0A07  06 00       	ld	b,0x00
2653  0A09  21 00 00    	ld	hl,_sprite_kind
2654  0A0C  09          	add	hl, bc
2655  0A0D  7E          	ld	a,(hl)
2656  0A0E  47          	ld	b,a
2657  0A0F  D6 05       	sub	a,0x05
2658  0A11  20 04       	jr	NZ,l_game_check_cell_00104
2659  0A13  6F          	ld	l,a
2660  0A14  C3 EE 0A    	jp	l_game_check_cell_00160
2661  0A17              l_game_check_cell_00104:
2662  0A17  7A          	ld	a, d
2663  0A18  D6 80       	sub	a,0x80
2664  0A1A  38 05       	jr	C,l_game_check_cell_00106
2665  0A1C  2E 00       	ld	l,0x00
2666  0A1E  C3 EE 0A    	jp	l_game_check_cell_00160
2667  0A21              l_game_check_cell_00106:
2668  0A21  7A          	ld	a, d
2669  0A22  D6 23       	sub	a,0x23
2670  0A24  20 12       	jr	NZ,l_game_check_cell_00108
2671  0A26  79          	ld	a,c
2672  0A27  FE 06       	cp	a,0x06
2673  0A29  28 0D       	jr	Z,l_game_check_cell_00108
2674  0A2B  FE 07       	cp	a,0x07
2675  0A2D  28 09       	jr	Z,l_game_check_cell_00108
2676  0A2F  D6 08       	sub	a,0x08
2677  0A31  28 05       	jr	Z,l_game_check_cell_00108
2678  0A33  2E 01       	ld	l,0x01
2679  0A35  C3 EE 0A    	jp	l_game_check_cell_00160
2680  0A38              l_game_check_cell_00108:
2681  0A38  78          	ld	a,b
2682  0A39  FE 02       	cp	a,0x02
2683  0A3B  28 04       	jr	Z,l_game_check_cell_00124
2684  0A3D  D6 06       	sub	a,0x06
2685  0A3F  20 30       	jr	NZ,l_game_check_cell_00125
2686  0A41              l_game_check_cell_00124:
2687  0A41  79          	ld	a,c
2688  0A42  FE 09       	cp	a,0x09
2689  0A44  28 04       	jr	Z,l_game_check_cell_00120
2690  0A46  D6 0A       	sub	a,0x0a
2691  0A48  20 0E       	jr	NZ,l_game_check_cell_00121
2692  0A4A              l_game_check_cell_00120:
2693  0A4A  3E 3A       	ld	a,0x3a
2694  0A4C  92          	sub	a, d
2695  0A4D  38 05       	jr	C,l_game_check_cell_00113
2696  0A4F  2E 00       	ld	l,0x00
2697  0A51  C3 EE 0A    	jp	l_game_check_cell_00160
2698  0A54              l_game_check_cell_00113:
2699  0A54  6A          	ld	l, d
2700  0A55  C3 EE 0A    	jp	l_game_check_cell_00160
2701  0A58              l_game_check_cell_00121:
2702  0A58  3E 2F       	ld	a,0x2f
2703  0A5A  92          	sub	a, d
2704  0A5B  30 0B       	jr	NC,l_game_check_cell_00115
2705  0A5D  DD CB FF 46 	bit	0,(ix-1)
2706  0A61  20 0A       	jr	NZ,l_game_check_cell_00116
2707  0A63  3E 47       	ld	a,0x47
2708  0A65  92          	sub	a, d
2709  0A66  38 05       	jr	C,l_game_check_cell_00116
2710  0A68              l_game_check_cell_00115:
2711  0A68  2E 00       	ld	l,0x00
2712  0A6A  C3 EE 0A    	jp	l_game_check_cell_00160
2713  0A6D              l_game_check_cell_00116:
2714  0A6D  6A          	ld	l, d
2715  0A6E  C3 EE 0A    	jp	l_game_check_cell_00160
2716  0A71              l_game_check_cell_00125:
2717  0A71  78          	ld	a, b
2718  0A72  3D          	dec	a
2719  0A73  28 05       	jr	Z,l_game_check_cell_00133
2720  0A75  78          	ld	a, b
2721  0A76  D6 03       	sub	a,0x03
2722  0A78  20 72       	jr	NZ,l_game_check_cell_00159
2723  0A7A              l_game_check_cell_00133:
2724  0A7A  3A 00 00    	ld	a,(_sprite_horizontal_check)
2725  0A7D  B7          	or	a, a
2726  0A7E  28 04       	jr	Z,l_game_check_cell_00128
2727  0A80  0E 48       	ld	c,0x48
2728  0A82  18 02       	jr	l_game_check_cell_00129
2729  0A84              l_game_check_cell_00128:
2730  0A84  0E 3A       	ld	c,0x3a
2731  0A86              l_game_check_cell_00129:
2732  0A86  7A          	ld	a, d
2733  0A87  91          	sub	a, c
2734  0A88  30 04       	jr	NC,l_game_check_cell_00131
2735  0A8A  2E 00       	ld	l,0x00
2736  0A8C  18 60       	jr	l_game_check_cell_00160
2737  0A8E              l_game_check_cell_00131:
2738  0A8E  6A          	ld	l, d
2739  0A8F  18 5D       	jr	l_game_check_cell_00160
2740  0A91              l_game_check_cell_00158:
2741  0A91  3A 00 00    	ld	a,(_player_jump_check)
2742  0A94  B7          	or	a, a
2743  0A95  20 32       	jr	NZ,l_game_check_cell_00151
2744  0A97  7A          	ld	a, d
2745  0A98  D6 3A       	sub	a,0x3a
2746  0A9A  30 04       	jr	NC,l_game_check_cell_00137
2747  0A9C  2E 00       	ld	l,0x00
2748  0A9E  18 4E       	jr	l_game_check_cell_00160
2749  0AA0              l_game_check_cell_00137:
2750  0AA0  3A 00 00    	ld	a,(_s_state)
2751  0AA3  E6 02       	and	a,0x02
2752  0AA5  5F          	ld	e, a
2753  0AA6  DD CB FF 46 	bit	0,(ix-1)
2754  0AAA  28 0C       	jr	Z,l_game_check_cell_00142
2755  0AAC  7B          	ld	a, e
2756  0AAD  B7          	or	a, a
2757  0AAE  28 04       	jr	Z,l_game_check_cell_00139
2758  0AB0  2E 01       	ld	l,0x01
2759  0AB2  18 3A       	jr	l_game_check_cell_00160
2760  0AB4              l_game_check_cell_00139:
2761  0AB4  2E 00       	ld	l,0x00
2762  0AB6  18 36       	jr	l_game_check_cell_00160
2763  0AB8              l_game_check_cell_00142:
2764  0AB8  7A          	ld	a, d
2765  0AB9  D6 48       	sub	a,0x48
2766  0ABB  30 15       	jr	NC,l_game_check_cell_00152
2767  0ABD  7B          	ld	a, e
2768  0ABE  B7          	or	a, a
2769  0ABF  28 04       	jr	Z,l_game_check_cell_00144
2770  0AC1  2E 01       	ld	l,0x01
2771  0AC3  18 29       	jr	l_game_check_cell_00160
2772  0AC5              l_game_check_cell_00144:
2773  0AC5  2E 00       	ld	l,0x00
2774  0AC7  18 25       	jr	l_game_check_cell_00160
2775  0AC9              l_game_check_cell_00151:
2776  0AC9  7A          	ld	a, d
2777  0ACA  D6 47       	sub	a,0x47
2778  0ACC  30 04       	jr	NC,l_game_check_cell_00152
2779  0ACE  2E 00       	ld	l,0x00
2780  0AD0  18 1C       	jr	l_game_check_cell_00160
2781  0AD2              l_game_check_cell_00152:
2782  0AD2  7A          	ld	a, d
2783  0AD3  D6 4C       	sub	a,0x4c
2784  0AD5  30 0C       	jr	NC,l_game_check_cell_00154
2785  0AD7  D5          	push	de
2786  0AD8  33          	inc	sp
2787  0AD9  C5          	push	bc
2788  0ADA  CD 00 00    	call	_player_open_door
2789  0ADD  F1          	pop	af
2790  0ADE  33          	inc	sp
2791  0ADF  2E 01       	ld	l,0x01
2792  0AE1  18 0B       	jr	l_game_check_cell_00160
2793  0AE3              l_game_check_cell_00154:
2794  0AE3  7A          	ld	a, d
2795  0AE4  D6 60       	sub	a,0x60
2796  0AE6  30 04       	jr	NC,l_game_check_cell_00159
2797  0AE8  2E 01       	ld	l,0x01
2798  0AEA  18 02       	jr	l_game_check_cell_00160
2799  0AEC              l_game_check_cell_00159:
2800  0AEC  2E 00       	ld	l,0x00
2801  0AEE              l_game_check_cell_00160:
2802  0AEE  33          	inc	sp
2803  0AEF  DD E1       	pop	ix
2804  0AF1  C9          	ret
2805  0AF2              	SECTION code_compiler
2806  0AF2              ;	---------------------------------
2807  0AF2              ; Function game_paint_attrib
2808  0AF2              ; ---------------------------------
2809  0AF2              _game_paint_attrib:
2810  0AF2  CD 00 00    	call	___sdcc_enter_ix
2811  0AF5  DD 7E 06    	ld	a,(ix+6)
2812  0AF8  32 00 00    	ld	(_tmp_uc),a
2813  0AFB              l_game_paint_attrib_00103:
2814  0AFB  21 00 00    	ld	hl,_tmp_uc
2815  0AFE  7E          	ld	a, (hl)
2816  0AFF  DD 96 07    	sub	a,(ix+7)
2817  0B02  30 15       	jr	NC,l_game_paint_attrib_00105
2818  0B04  DD 4E 04    	ld	c,(ix+4)
2819  0B07  DD 46 05    	ld	b,(ix+5)
2820  0B0A  66          	ld	h,(hl)
2821  0B0B  DD 6E 08    	ld	l,(ix+8)
2822  0B0E  E5          	push	hl
2823  0B0F  C5          	push	bc
2824  0B10  CD 00 00    	call	_NIRVANAP_paintC_callee
2825  0B13  21 00 00    	ld	hl,_tmp_uc
2826  0B16  34          	inc	(hl)
2827  0B17  18 E2       	jr	l_game_paint_attrib_00103
2828  0B19              l_game_paint_attrib_00105:
2829  0B19  DD E1       	pop	ix
2830  0B1B  C9          	ret
2831  0B1C              	SECTION code_compiler
2832  0B1C              ;	---------------------------------
2833  0B1C              ; Function game_colour_message
2834  0B1C              ; ---------------------------------
2835  0B1C              _game_colour_message:
2836  0B1C  CD 00 00    	call	___sdcc_enter_ix
2837  0B1F  F5          	push	af
2838  0B20  F5          	push	af
2839  0B21  3B          	dec	sp
2840  0B22  D1          	pop	de
2841  0B23  21 00 00    	ld	hl,_tmp
2842  0B26  36 01       	ld	(hl),0x01
2843  0B28  2A 00 00    	ld	hl,(_curr_time)
2844  0B2B  22 00 00    	ld	(_frame_time),hl
2845  0B2E  E5          	push	hl
2846  0B2F  DD 7E 04    	ld	a,(ix+4)
2847  0B32  4D          	ld	c,l
2848  0B33  07          	rlca
2849  0B34  07          	rlca
2850  0B35  07          	rlca
2851  0B36  E6 F8       	and	a,0xf8
2852  0B38  DD 77 FF    	ld	(ix-1),a
2853  0B3B  C6 08       	add	a,0x08
2854  0B3D  DD 77 FE    	ld	(ix-2),a
2855  0B40  DD 77 FD    	ld	(ix-3),a
2856  0B43              l_game_colour_message_00112:
2857  0B43  3A 00 00    	ld	a,(_tmp)
2858  0B46  B7          	or	a, a
2859  0B47  CA CD 0B    	jp	Z, l_game_colour_message_00114
2860  0B4A  DD 46 07    	ld	b,(ix+7)
2861  0B4D  21 00 00    	ld	hl,0x0000
2862  0B50  39          	add	hl, sp
2863  0B51  EB          	ex	de,hl
2864  0B52  C5          	push	bc
2865  0B53  33          	inc	sp
2866  0B54  D5          	push	de
2867  0B55  CD 3F 0C    	call	_game_check_time
2868  0B58  F1          	pop	af
2869  0B59  33          	inc	sp
2870  0B5A  7D          	ld	a, l
2871  0B5B  B7          	or	a, a
2872  0B5C  20 6F       	jr	NZ,l_game_colour_message_00114
2873  0B5E  3E 05       	ld	a,0x05
2874  0B60  F5          	push	af
2875  0B61  33          	inc	sp
2876  0B62  21 00 00    	ld	hl,_frame_time
2877  0B65  E5          	push	hl
2878  0B66  CD 3F 0C    	call	_game_check_time
2879  0B69  F1          	pop	af
2880  0B6A  33          	inc	sp
2881  0B6B  7D          	ld	a, l
2882  0B6C  B7          	or	a, a
2883  0B6D  28 40       	jr	Z,l_game_colour_message_00105
2884  0B6F  2A 00 00    	ld	hl,(_curr_time)
2885  0B72  22 00 00    	ld	(_frame_time),hl
2886  0B75  3A 00 00    	ld	a,(_game_over)
2887  0B78  B7          	or	a,a
2888  0B79  28 1B       	jr	Z,l_game_colour_message_00102
2889  0B7B  DD 66 FD    	ld	h,(ix-3)
2890  0B7E  DD 6E 06    	ld	l,(ix+6)
2891  0B81  E5          	push	hl
2892  0B82  DD 7E 05    	ld	a,(ix+5)
2893  0B85  F5          	push	af
2894  0B86  33          	inc	sp
2895  0B87  21 00 00    	ld	hl,_attrib_hl
2896  0B8A  E5          	push	hl
2897  0B8B  CD F2 0A    	call	_game_paint_attrib
2898  0B8E  F1          	pop	af
2899  0B8F  F1          	pop	af
2900  0B90  33          	inc	sp
2901  0B91  CD DE 10    	call	_game_rotate_attrib
2902  0B94  18 19       	jr	l_game_colour_message_00105
2903  0B96              l_game_colour_message_00102:
2904  0B96  DD 66 FE    	ld	h,(ix-2)
2905  0B99  DD 6E 06    	ld	l,(ix+6)
2906  0B9C  E5          	push	hl
2907  0B9D  DD 7E 05    	ld	a,(ix+5)
2908  0BA0  F5          	push	af
2909  0BA1  33          	inc	sp
2910  0BA2  21 00 00    	ld	hl,_attrib_osd
2911  0BA5  E5          	push	hl
2912  0BA6  CD F2 0A    	call	_game_paint_attrib
2913  0BA9  F1          	pop	af
2914  0BAA  F1          	pop	af
2915  0BAB  33          	inc	sp
2916  0BAC  CD FA 10    	call	_game_rotate_attrib_osd
2917  0BAF              l_game_colour_message_00105:
2918  0BAF  DD 7E 09    	ld	a,(ix+9)
2919  0BB2  B7          	or	a, a
2920  0BB3  28 8E       	jr	Z,l_game_colour_message_00112
2921  0BB5              l_game_colour_message_00106:
2922  0BB5  21 00 00    	ld	hl,_k1
2923  0BB8  E5          	push	hl
2924  0BB9  2A 00 00    	ld	hl,(_joyfunc1)
2925  0BBC  CD 00 00    	call	___sdcc_call_hl
2926  0BBF  F1          	pop	af
2927  0BC0  7C          	ld	a,h
2928  0BC1  B5          	or	a,l
2929  0BC2  4D          	ld	c,l
2930  0BC3  CA 43 0B    	jp	Z, l_game_colour_message_00112
2931  0BC6  21 00 00    	ld	hl,_tmp
2932  0BC9  36 00       	ld	(hl),0x00
2933  0BCB  18 E8       	jr	l_game_colour_message_00106
2934  0BCD              l_game_colour_message_00114:
2935  0BCD  DD 7E 06    	ld	a,(ix+6)
2936  0BD0  DD 96 05    	sub	a,(ix+5)
2937  0BD3  4F          	ld	c, a
2938  0BD4  3A 00 00    	ld	a,(_game_over)
2939  0BD7  B7          	or	a, a
2940  0BD8  28 2B       	jr	Z,l_game_colour_message_00118
2941  0BDA  21 00 00    	ld	hl,_tmp1
2942  0BDD  71          	ld	(hl), c
2943  0BDE  21 00 00    	ld	hl,_tmp0
2944  0BE1  36 00       	ld	(hl),0x00
2945  0BE3              l_game_colour_message_00121:
2946  0BE3  3A 00 00    	ld	a,(_tmp0)
2947  0BE6  21 00 00    	ld	hl,_tmp1
2948  0BE9  96          	sub	a, (hl)
2949  0BEA  30 4E       	jr	NC,l_game_colour_message_00126
2950  0BEC  DD 7E 05    	ld	a,(ix+5)
2951  0BEF  21 00 00    	ld	hl,_tmp0
2952  0BF2  86          	add	a, (hl)
2953  0BF3  47          	ld	b, a
2954  0BF4  21 CD 00    	ld	hl,___str_32
2955  0BF7  E5          	push	hl
2956  0BF8  DD 4E 04    	ld	c,(ix+4)
2957  0BFB  C5          	push	bc
2958  0BFC  CD 00 00    	call	_zx_print_str
2959  0BFF  21 00 00    	ld	hl,_tmp0
2960  0C02  34          	inc	(hl)
2961  0C03  18 DE       	jr	l_game_colour_message_00121
2962  0C05              l_game_colour_message_00118:
2963  0C05  21 00 00    	ld	hl,_tmp1
2964  0C08  71          	ld	(hl), c
2965  0C09  DD 7E FF    	ld	a,(ix-1)
2966  0C0C  32 00 00    	ld	(_s_lin0),a
2967  0C0F  DD 7E 05    	ld	a,(ix+5)
2968  0C12  CB 3F       	srl	a
2969  0C14  87          	add	a, a
2970  0C15  32 00 00    	ld	(_s_col1),a
2971  0C18  21 00 00    	ld	hl,_tmp0
2972  0C1B  36 00       	ld	(hl),0x00
2973  0C1D              l_game_colour_message_00124:
2974  0C1D  3A 00 00    	ld	a,(_tmp0)
2975  0C20  21 00 00    	ld	hl,_tmp1
2976  0C23  96          	sub	a, (hl)
2977  0C24  30 14       	jr	NC,l_game_colour_message_00126
2978  0C26  3A 00 00    	ld	a,(_s_col1)
2979  0C29  21 00 00    	ld	hl,_tmp0
2980  0C2C  86          	add	a, (hl)
2981  0C2D  32 00 00    	ld	(_s_col0),a
2982  0C30  CD 00 00    	call	_spr_back_repaint
2983  0C33  21 00 00    	ld	hl,_tmp0
2984  0C36  34          	inc	(hl)
2985  0C37  34          	inc	(hl)
2986  0C38  18 E3       	jr	l_game_colour_message_00124
2987  0C3A              l_game_colour_message_00126:
2988  0C3A  DD F9       	ld	sp, ix
2989  0C3C  DD E1       	pop	ix
2990  0C3E  C9          	ret
2991  0C3F              	SECTION rodata_compiler
2992  00CD              ___str_32:
2993  00CD  20          	DEFM " "
2994  00CE  00          	DEFB 0x00
2995  00CF              	SECTION code_compiler
2996  0C3F              ;	---------------------------------
2997  0C3F              ; Function game_check_time
2998  0C3F              ; ---------------------------------
2999  0C3F              _game_check_time:
3000  0C3F  CD 00 00    	call	___sdcc_enter_ix
3001  0C42  2A 00 00    	ld	hl,(_curr_time)
3002  0C45  4D          	ld	c, l
3003  0C46  DD 6E 04    	ld	l,(ix+4)
3004  0C49  44          	ld	b,h
3005  0C4A  DD 66 05    	ld	h,(ix+5)
3006  0C4D  5E          	ld	e, (hl)
3007  0C4E  23          	inc	hl
3008  0C4F  56          	ld	d, (hl)
3009  0C50  79          	ld	a, c
3010  0C51  93          	sub	a, e
3011  0C52  4F          	ld	c, a
3012  0C53  78          	ld	a, b
3013  0C54  9A          	sbc	a, d
3014  0C55  47          	ld	b, a
3015  0C56  DD 7E 06    	ld	a,(ix+6)
3016  0C59  16 00       	ld	d,0x00
3017  0C5B  91          	sub	a, c
3018  0C5C  7A          	ld	a, d
3019  0C5D  98          	sbc	a, b
3020  0C5E  30 04       	jr	NC,l_game_check_time_00102
3021  0C60  2E 01       	ld	l,0x01
3022  0C62  18 02       	jr	l_game_check_time_00104
3023  0C64              l_game_check_time_00102:
3024  0C64  2E 00       	ld	l,0x00
3025  0C66              l_game_check_time_00104:
3026  0C66  DD E1       	pop	ix
3027  0C68  C9          	ret
3028  0C69              	SECTION code_compiler
3029  0C69              ;	---------------------------------
3030  0C69              ; Function game_shoot_fire
3031  0C69              ; ---------------------------------
3032  0C69              _game_shoot_fire:
3033  0C69  CD 00 00    	call	___sdcc_enter_ix
3034  0C6C  21 F4 FF    	ld	hl, -12
3035  0C6F  39          	add	hl, sp
3036  0C70  F9          	ld	sp, hl
3037  0C71  01 00 00    	ld	bc,_bullet_col
3038  0C74  DD 6E 04    	ld	l,(ix+4)
3039  0C77  26 00       	ld	h,0x00
3040  0C79  09          	add	hl,bc
3041  0C7A  DD 75 FE    	ld	(ix-2),l
3042  0C7D  DD 74 FF    	ld	(ix-1),h
3043  0C80  4E          	ld	c, (hl)
3044  0C81  0C          	inc	c
3045  0C82  C2 7B 0E    	jp	NZ,l_game_shoot_fire_00124
3046  0C85  21 00 00    	ld	hl,_bullet_count
3047  0C88  34          	inc	(hl)
3048  0C89  01 00 00    	ld	bc,_bullet_dir
3049  0C8C  DD 6E 04    	ld	l,(ix+4)
3050  0C8F  26 00       	ld	h,0x00
3051  0C91  09          	add	hl,bc
3052  0C92  DD 75 FC    	ld	(ix-4),l
3053  0C95  DD 74 FD    	ld	(ix-3),h
3054  0C98  36 00       	ld	(hl),0x00
3055  0C9A  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3056  0C9C  DD 86 04    	add	a,(ix+4)
3057  0C9F  4F          	ld	c, a
3058  0CA0  3E 00       	ld	a, +((_bullet_lin0) / 256)
3059  0CA2  CE 00       	adc	a,0x00
3060  0CA4  47          	ld	b, a
3061  0CA5  11 00 00    	ld	de,_lin
3062  0CA8  DD 6E 04    	ld	l,(ix+4)
3063  0CAB  26 00       	ld	h,0x00
3064  0CAD  19          	add	hl,de
3065  0CAE  DD 75 FA    	ld	(ix-6),l
3066  0CB1  DD 74 FB    	ld	(ix-5),h
3067  0CB4  7E          	ld	a, (hl)
3068  0CB5  02          	ld	(bc), a
3069  0CB6  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3070  0CB8  DD 86 04    	add	a,(ix+4)
3071  0CBB  4F          	ld	c, a
3072  0CBC  3E 00       	ld	a, +((_bullet_col0) / 256)
3073  0CBE  CE 00       	adc	a,0x00
3074  0CC0  47          	ld	b, a
3075  0CC1  11 00 00    	ld	de,_col
3076  0CC4  DD 6E 04    	ld	l,(ix+4)
3077  0CC7  26 00       	ld	h,0x00
3078  0CC9  19          	add	hl,de
3079  0CCA  DD 75 F8    	ld	(ix-8),l
3080  0CCD  DD 74 F9    	ld	(ix-7),h
3081  0CD0  7E          	ld	a, (hl)
3082  0CD1  02          	ld	(bc), a
3083  0CD2  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3084  0CD4  DD 86 04    	add	a,(ix+4)
3085  0CD7  DD 77 F6    	ld	(ix-10),a
3086  0CDA  3E 00       	ld	a, +((_bullet_lin) / 256)
3087  0CDC  CE 00       	adc	a,0x00
3088  0CDE  DD 77 F7    	ld	(ix-9),a
3089  0CE1  DD 6E FA    	ld	l,(ix-6)
3090  0CE4  DD 66 FB    	ld	h,(ix-5)
3091  0CE7  4E          	ld	c, (hl)
3092  0CE8  DD 6E F6    	ld	l,(ix-10)
3093  0CEB  DD 66 F7    	ld	h,(ix-9)
3094  0CEE  71          	ld	(hl), c
3095  0CEF  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3096  0CF1  DD 86 04    	add	a,(ix+4)
3097  0CF4  DD 77 F4    	ld	(ix-12),a
3098  0CF7  3E 00       	ld	a, +((_bullet_frames) / 256)
3099  0CF9  CE 00       	adc	a,0x00
3100  0CFB  DD 77 F5    	ld	(ix-11),a
3101  0CFE  E1          	pop	hl
3102  0CFF  E5          	push	hl
3103  0D00  36 02       	ld	(hl),0x02
3104  0D02  DD 7E 04    	ld	a,(ix+4)
3105  0D05  D6 07       	sub	a,0x07
3106  0D07  20 04       	jr	NZ,l_game_shoot_fire_00169
3107  0D09  3E 01       	ld	a,0x01
3108  0D0B  18 01       	jr	l_game_shoot_fire_00170
3109  0D0D              l_game_shoot_fire_00169:
3110  0D0D  AF          	xor	a,a
3111  0D0E              l_game_shoot_fire_00170:
3112  0D0E  47          	ld	b,a
3113  0D0F  B7          	or	a, a
3114  0D10  28 1B       	jr	Z,l_game_shoot_fire_00102
3115  0D12  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3116  0D14  DD 86 04    	add	a,(ix+4)
3117  0D17  5F          	ld	e, a
3118  0D18  3E 00       	ld	a, +((_bullet_max) / 256)
3119  0D1A  CE 00       	adc	a,0x00
3120  0D1C  57          	ld	d, a
3121  0D1D  3A 00 00    	ld	a,(_player_lvl)
3122  0D20  CB 3F       	srl	a
3123  0D22  C6 04       	add	a,0x04
3124  0D24  12          	ld	(de), a
3125  0D25  3A 07 00    	ld	a,(_state_a + 0x0007)
3126  0D28  E6 08       	and	a,0x08
3127  0D2A  4F          	ld	c, a
3128  0D2B  18 13       	jr	l_game_shoot_fire_00103
3129  0D2D              l_game_shoot_fire_00102:
3130  0D2D  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3131  0D2F  DD 86 04    	add	a,(ix+4)
3132  0D32  5F          	ld	e, a
3133  0D33  3E 00       	ld	a, +((_bullet_max) / 256)
3134  0D35  CE 00       	adc	a,0x00
3135  0D37  57          	ld	d, a
3136  0D38  AF          	xor	a, a
3137  0D39  12          	ld	(de), a
3138  0D3A  3A 00 00    	ld	a,(_s_state)
3139  0D3D  E6 08       	and	a,0x08
3140  0D3F  4F          	ld	c, a
3141  0D40              l_game_shoot_fire_00103:
3142  0D40  DD 7E 05    	ld	a,(ix+5)
3143  0D43  D6 7C       	sub	a,0x7c
3144  0D45  20 21       	jr	NZ,l_game_shoot_fire_00105
3145  0D47  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3146  0D49  DD 86 04    	add	a,(ix+4)
3147  0D4C  5F          	ld	e, a
3148  0D4D  3E 00       	ld	a, +((_bullet_class) / 256)
3149  0D4F  CE 00       	adc	a,0x00
3150  0D51  57          	ld	d, a
3151  0D52  3E 01       	ld	a,0x01
3152  0D54  12          	ld	(de), a
3153  0D55  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3154  0D57  DD 86 04    	add	a,(ix+4)
3155  0D5A  5F          	ld	e, a
3156  0D5B  3E 00       	ld	a, +((_bullet_max) / 256)
3157  0D5D  CE 00       	adc	a,0x00
3158  0D5F  57          	ld	d, a
3159  0D60  3A 00 00    	ld	a,(_game_world)
3160  0D63  87          	add	a, a
3161  0D64  87          	add	a, a
3162  0D65  C6 08       	add	a,0x08
3163  0D67  12          	ld	(de), a
3164  0D68              l_game_shoot_fire_00105:
3165  0D68  DD 7E 05    	ld	a,(ix+5)
3166  0D6B  D6 78       	sub	a,0x78
3167  0D6D  20 21       	jr	NZ,l_game_shoot_fire_00110
3168  0D6F  B0          	or	a,b
3169  0D70  28 10       	jr	Z,l_game_shoot_fire_00107
3170  0D72  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3171  0D74  DD 86 04    	add	a,(ix+4)
3172  0D77  5F          	ld	e, a
3173  0D78  3E 00       	ld	a, +((_bullet_class) / 256)
3174  0D7A  CE 00       	adc	a,0x00
3175  0D7C  57          	ld	d, a
3176  0D7D  3E 01       	ld	a,0x01
3177  0D7F  12          	ld	(de), a
3178  0D80  18 0E       	jr	l_game_shoot_fire_00110
3179  0D82              l_game_shoot_fire_00107:
3180  0D82  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3181  0D84  DD 86 04    	add	a,(ix+4)
3182  0D87  5F          	ld	e, a
3183  0D88  3E 00       	ld	a, +((_bullet_class) / 256)
3184  0D8A  CE 00       	adc	a,0x00
3185  0D8C  57          	ld	d, a
3186  0D8D  3E 02       	ld	a,0x02
3187  0D8F  12          	ld	(de), a
3188  0D90              l_game_shoot_fire_00110:
3189  0D90  DD 7E 05    	ld	a,(ix+5)
3190  0D93  D6 80       	sub	a,0x80
3191  0D95  20 04       	jr	NZ,l_game_shoot_fire_00175
3192  0D97  3E 01       	ld	a,0x01
3193  0D99  18 01       	jr	l_game_shoot_fire_00176
3194  0D9B              l_game_shoot_fire_00175:
3195  0D9B  AF          	xor	a,a
3196  0D9C              l_game_shoot_fire_00176:
3197  0D9C  47          	ld	b,a
3198  0D9D  B7          	or	a, a
3199  0D9E  28 31       	jr	Z,l_game_shoot_fire_00112
3200  0DA0  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3201  0DA2  DD 86 04    	add	a,(ix+4)
3202  0DA5  5F          	ld	e, a
3203  0DA6  3E 00       	ld	a, +((_bullet_class) / 256)
3204  0DA8  CE 00       	adc	a,0x00
3205  0DAA  57          	ld	d, a
3206  0DAB  3E 04       	ld	a,0x04
3207  0DAD  12          	ld	(de), a
3208  0DAE  DD 6E FA    	ld	l,(ix-6)
3209  0DB1  DD 66 FB    	ld	h,(ix-5)
3210  0DB4  7E          	ld	a, (hl)
3211  0DB5  C6 FC       	add	a,0xfc
3212  0DB7  DD 6E F6    	ld	l,(ix-10)
3213  0DBA  DD 66 F7    	ld	h,(ix-9)
3214  0DBD  77          	ld	(hl), a
3215  0DBE  E1          	pop	hl
3216  0DBF  E5          	push	hl
3217  0DC0  36 04       	ld	(hl),0x04
3218  0DC2  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3219  0DC4  DD 86 04    	add	a,(ix+4)
3220  0DC7  5F          	ld	e, a
3221  0DC8  3E 00       	ld	a, +((_bullet_vel) / 256)
3222  0DCA  CE 00       	adc	a,0x00
3223  0DCC  57          	ld	d, a
3224  0DCD  3A 00 00    	ld	a,(_player_vel_y0)
3225  0DD0  12          	ld	(de), a
3226  0DD1              l_game_shoot_fire_00112:
3227  0DD1  DD 6E F8    	ld	l,(ix-8)
3228  0DD4  DD 66 F9    	ld	h,(ix-7)
3229  0DD7  56          	ld	d, (hl)
3230  0DD8  DD 6E FA    	ld	l,(ix-6)
3231  0DDB  DD 66 FB    	ld	h,(ix-5)
3232  0DDE  7E          	ld	a, (hl)
3233  0DDF  C5          	push	bc
3234  0DE0  5F          	ld	e,a
3235  0DE1  D5          	push	de
3236  0DE2  CD 00 00    	call	_spr_calc_index
3237  0DE5  F1          	pop	af
3238  0DE6  EB          	ex	de,hl
3239  0DE7  C1          	pop	bc
3240  0DE8  ED 53 00 00 	ld	(_index1),de
3241  0DEC  DD 6E F8    	ld	l,(ix-8)
3242  0DEF  DD 66 F9    	ld	h,(ix-7)
3243  0DF2  5E          	ld	e, (hl)
3244  0DF3  79          	ld	a, c
3245  0DF4  B7          	or	a, a
3246  0DF5  28 4F       	jr	Z,l_game_shoot_fire_00121
3247  0DF7  7B          	ld	a, e
3248  0DF8  D6 01       	sub	a,0x01
3249  0DFA  30 05       	jr	NC,l_game_shoot_fire_00114
3250  0DFC  2E 01       	ld	l,0x01
3251  0DFE  C3 7D 0E    	jp	l_game_shoot_fire_00125
3252  0E01              l_game_shoot_fire_00114:
3253  0E01  DD 6E FE    	ld	l,(ix-2)
3254  0E04  DD 66 FF    	ld	h,(ix-1)
3255  0E07  73          	ld	(hl), e
3256  0E08  78          	ld	a, b
3257  0E09  B7          	or	a, a
3258  0E0A  20 13       	jr	NZ,l_game_shoot_fire_00116
3259  0E0C  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3260  0E0E  DD 86 04    	add	a,(ix+4)
3261  0E11  4F          	ld	c, a
3262  0E12  3E 00       	ld	a, +((_bullet_tile) / 256)
3263  0E14  CE 00       	adc	a,0x00
3264  0E16  47          	ld	b, a
3265  0E17  DD 7E 05    	ld	a,(ix+5)
3266  0E1A  C6 02       	add	a,0x02
3267  0E1C  02          	ld	(bc), a
3268  0E1D  18 0F       	jr	l_game_shoot_fire_00117
3269  0E1F              l_game_shoot_fire_00116:
3270  0E1F  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3271  0E21  DD 86 04    	add	a,(ix+4)
3272  0E24  4F          	ld	c, a
3273  0E25  3E 00       	ld	a, +((_bullet_tile) / 256)
3274  0E27  CE 00       	adc	a,0x00
3275  0E29  47          	ld	b, a
3276  0E2A  DD 7E 05    	ld	a,(ix+5)
3277  0E2D  02          	ld	(bc), a
3278  0E2E              l_game_shoot_fire_00117:
3279  0E2E  DD 6E FC    	ld	l,(ix-4)
3280  0E31  DD 66 FD    	ld	h,(ix-3)
3281  0E34  36 01       	ld	(hl),0x01
3282  0E36  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3283  0E38  DD 86 04    	add	a,(ix+4)
3284  0E3B  4F          	ld	c, a
3285  0E3C  3E 00       	ld	a, +((_bullet_colint) / 256)
3286  0E3E  CE 00       	adc	a,0x00
3287  0E40  47          	ld	b, a
3288  0E41  3E 02       	ld	a,0x02
3289  0E43  02          	ld	(bc), a
3290  0E44  18 35       	jr	l_game_shoot_fire_00124
3291  0E46              l_game_shoot_fire_00121:
3292  0E46  3E 1D       	ld	a,0x1d
3293  0E48  93          	sub	a, e
3294  0E49  30 04       	jr	NC,l_game_shoot_fire_00119
3295  0E4B  2E 01       	ld	l,0x01
3296  0E4D  18 2E       	jr	l_game_shoot_fire_00125
3297  0E4F              l_game_shoot_fire_00119:
3298  0E4F  DD 6E FE    	ld	l,(ix-2)
3299  0E52  DD 66 FF    	ld	h,(ix-1)
3300  0E55  73          	ld	(hl), e
3301  0E56  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3302  0E58  DD 86 04    	add	a,(ix+4)
3303  0E5B  4F          	ld	c, a
3304  0E5C  3E 00       	ld	a, +((_bullet_tile) / 256)
3305  0E5E  CE 00       	adc	a,0x00
3306  0E60  47          	ld	b, a
3307  0E61  DD 7E 05    	ld	a,(ix+5)
3308  0E64  02          	ld	(bc), a
3309  0E65  DD 6E FC    	ld	l,(ix-4)
3310  0E68  DD 66 FD    	ld	h,(ix-3)
3311  0E6B  36 FF       	ld	(hl),0xff
3312  0E6D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3313  0E6F  DD 86 04    	add	a,(ix+4)
3314  0E72  4F          	ld	c, a
3315  0E73  3E 00       	ld	a, +((_bullet_colint) / 256)
3316  0E75  CE 00       	adc	a,0x00
3317  0E77  47          	ld	b, a
3318  0E78  3E FF       	ld	a,0xff
3319  0E7A  02          	ld	(bc), a
3320  0E7B              l_game_shoot_fire_00124:
3321  0E7B  2E 00       	ld	l,0x00
3322  0E7D              l_game_shoot_fire_00125:
3323  0E7D  DD F9       	ld	sp, ix
3324  0E7F  DD E1       	pop	ix
3325  0E81  C9          	ret
3326  0E82              	SECTION code_compiler
3327  0E82              ;	---------------------------------
3328  0E82              ; Function game_shoot_fire_boss
3329  0E82              ; ---------------------------------
3330  0E82              _game_shoot_fire_boss:
3331  0E82  CD 00 00    	call	___sdcc_enter_ix
3332  0E85  F5          	push	af
3333  0E86  F5          	push	af
3334  0E87  3B          	dec	sp
3335  0E88  3A 07 00    	ld	a,(_col + 0x0007)
3336  0E8B  4F          	ld	c,a
3337  0E8C  21 00 00    	ld	hl,_boss_col
3338  0E8F  96          	sub	a, (hl)
3339  0E90  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3340  0E92  DD 36 FB 01 	ld	(ix-5),0x01
3341  0E96              l_game_shoot_fire_boss_00102:
3342  0E96  3A 00 00    	ld	a,(_boss_col)
3343  0E99  91          	sub	a, c
3344  0E9A  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3345  0E9C  DD 36 FB 00 	ld	(ix-5),0x00
3346  0EA0              l_game_shoot_fire_boss_00131:
3347  0EA0  1E 00       	ld	e,0x00
3348  0EA2              l_game_shoot_fire_boss_00107:
3349  0EA2  7B          	ld	a, e
3350  0EA3  D6 07       	sub	a,0x07
3351  0EA5  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3352  0EA7  16 00       	ld	d,0x00
3353  0EA9  21 00 00    	ld	hl,_bullet_col
3354  0EAC  19          	add	hl, de
3355  0EAD  4E          	ld	c, (hl)
3356  0EAE  0C          	inc	c
3357  0EAF  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3358  0EB1  1C          	inc	e
3359  0EB2  18 EE       	jr	l_game_shoot_fire_boss_00107
3360  0EB4              l_game_shoot_fire_boss_00138:
3361  0EB4  7B          	ld	a,e
3362  0EB5  4F          	ld	c,a
3363  0EB6  D6 07       	sub	a,0x07
3364  0EB8  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3365  0EBA  6F          	ld	l,a
3366  0EBB  C3 E6 0F    	jp	l_game_shoot_fire_boss_00125
3367  0EBE              l_game_shoot_fire_boss_00111:
3368  0EBE  21 00 00    	ld	hl,_bullet_count
3369  0EC1  34          	inc	(hl)
3370  0EC2  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3371  0EC4  83          	add	a, e
3372  0EC5  DD 77 FE    	ld	(ix-2),a
3373  0EC8  6F          	ld	l,a
3374  0EC9  3E 00       	ld	a,+((_bullet_dir) / 256)
3375  0ECB  CE 00       	adc	a,0x00
3376  0ECD  DD 77 FF    	ld	(ix-1),a
3377  0ED0  67          	ld	h,a
3378  0ED1  36 00       	ld	(hl),0x00
3379  0ED3  3A 00 00    	ld	a,(_game_world)
3380  0ED6  3D          	dec	a
3381  0ED7  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3382  0ED9  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3383  0EDB  83          	add	a, e
3384  0EDC  47          	ld	b, a
3385  0EDD  3E 00       	ld	a, +((_bullet_lin0) / 256)
3386  0EDF  CE 00       	adc	a,0x00
3387  0EE1  57          	ld	d, a
3388  0EE2  3A 00 00    	ld	a,(_boss_lin)
3389  0EE5  C6 10       	add	a,0x10
3390  0EE7  68          	ld	l, b
3391  0EE8  62          	ld	h, d
3392  0EE9  77          	ld	(hl), a
3393  0EEA  16 00       	ld	d,0x00
3394  0EEC  21 00 00    	ld	hl,_bullet_class
3395  0EEF  19          	add	hl, de
3396  0EF0  36 02       	ld	(hl),0x02
3397  0EF2  18 2E       	jr	l_game_shoot_fire_boss_00117
3398  0EF4              l_game_shoot_fire_boss_00116:
3399  0EF4  16 00       	ld	d,0x00
3400  0EF6  21 00 00    	ld	hl,_bullet_class
3401  0EF9  19          	add	hl, de
3402  0EFA  36 05       	ld	(hl),0x05
3403  0EFC  3A 00 00    	ld	a,(_tmp0)
3404  0EFF  B7          	or	a, a
3405  0F00  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3406  0F02  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3407  0F04  83          	add	a, e
3408  0F05  5F          	ld	e, a
3409  0F06  3E 00       	ld	a, +((_bullet_lin0) / 256)
3410  0F08  CE 00       	adc	a,0x00
3411  0F0A  57          	ld	d, a
3412  0F0B  3A 00 00    	ld	a,(_boss_lin)
3413  0F0E  C6 F8       	add	a,0xf8
3414  0F10  12          	ld	(de), a
3415  0F11  18 0F       	jr	l_game_shoot_fire_boss_00117
3416  0F13              l_game_shoot_fire_boss_00113:
3417  0F13  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3418  0F15  83          	add	a, e
3419  0F16  5F          	ld	e, a
3420  0F17  3E 00       	ld	a, +((_bullet_lin0) / 256)
3421  0F19  CE 00       	adc	a,0x00
3422  0F1B  57          	ld	d, a
3423  0F1C  3A 00 00    	ld	a,(_boss_lin)
3424  0F1F  C6 18       	add	a,0x18
3425  0F21  12          	ld	(de), a
3426  0F22              l_game_shoot_fire_boss_00117:
3427  0F22  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3428  0F24  81          	add	a, c
3429  0F25  5F          	ld	e, a
3430  0F26  3E 00       	ld	a, +((_bullet_lin) / 256)
3431  0F28  CE 00       	adc	a,0x00
3432  0F2A  57          	ld	d, a
3433  0F2B  06 00       	ld	b,0x00
3434  0F2D  21 00 00    	ld	hl,_bullet_lin0
3435  0F30  09          	add	hl, bc
3436  0F31  7E          	ld	a, (hl)
3437  0F32  12          	ld	(de), a
3438  0F33  06 00       	ld	b,0x00
3439  0F35  21 00 00    	ld	hl,_bullet_frames
3440  0F38  09          	add	hl, bc
3441  0F39  36 02       	ld	(hl),0x02
3442  0F3B  06 00       	ld	b,0x00
3443  0F3D  21 00 00    	ld	hl,_bullet_max
3444  0F40  09          	add	hl, bc
3445  0F41  36 08       	ld	(hl),0x08
3446  0F43  3A 00 00    	ld	a,(_boss_col)
3447  0F46  2A 00 00    	ld	hl,(_boss_lin)
3448  0F49  C5          	push	bc
3449  0F4A  67          	ld	h,a
3450  0F4B  E5          	push	hl
3451  0F4C  CD 00 00    	call	_spr_calc_index
3452  0F4F  F1          	pop	af
3453  0F50  EB          	ex	de,hl
3454  0F51  C1          	pop	bc
3455  0F52  ED 53 00 00 	ld	(_index1),de
3456  0F56  3E 00       	ld	a,+((_bullet_col) & 0xFF)
3457  0F58  81          	add	a,c
3458  0F59  DD 77 FC    	ld	(ix-4),a
3459  0F5C  3E 00       	ld	a, +((_bullet_col) / 256)
3460  0F5E  CE 00       	adc	a,0x00
3461  0F60  DD 77 FD    	ld	(ix-3),a
3462  0F63  DD 7E FB    	ld	a,(ix-5)
3463  0F66  B7          	or	a, a
3464  0F67  28 36       	jr	Z,l_game_shoot_fire_boss_00123
3465  0F69  3A 00 00    	ld	a,(_boss_col)
3466  0F6C  D6 01       	sub	a,0x01
3467  0F6E  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3468  0F70  2E 01       	ld	l,0x01
3469  0F72  18 72       	jr	l_game_shoot_fire_boss_00125
3470  0F74              l_game_shoot_fire_boss_00119:
3471  0F74  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3472  0F76  81          	add	a, c
3473  0F77  5F          	ld	e, a
3474  0F78  3E 00       	ld	a, +((_bullet_tile) / 256)
3475  0F7A  CE 00       	adc	a,0x00
3476  0F7C  57          	ld	d, a
3477  0F7D  DD 7E 04    	ld	a,(ix+4)
3478  0F80  C6 02       	add	a,0x02
3479  0F82  12          	ld	(de), a
3480  0F83  DD 6E FE    	ld	l,(ix-2)
3481  0F86  DD 66 FF    	ld	h,(ix-1)
3482  0F89  36 01       	ld	(hl),0x01
3483  0F8B  06 00       	ld	b,0x00
3484  0F8D  21 00 00    	ld	hl,_bullet_colint
3485  0F90  09          	add	hl, bc
3486  0F91  36 02       	ld	(hl),0x02
3487  0F93  DD 6E FC    	ld	l,(ix-4)
3488  0F96  DD 66 FD    	ld	h,(ix-3)
3489  0F99  3A 00 00    	ld	a,(_boss_col)
3490  0F9C  77          	ld	(hl),a
3491  0F9D  18 35       	jr	l_game_shoot_fire_boss_00124
3492  0F9F              l_game_shoot_fire_boss_00123:
3493  0F9F  3E 1D       	ld	a,0x1d
3494  0FA1  21 00 00    	ld	hl,_boss_col
3495  0FA4  96          	sub	a, (hl)
3496  0FA5  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3497  0FA7  2E 01       	ld	l,0x01
3498  0FA9  18 3B       	jr	l_game_shoot_fire_boss_00125
3499  0FAB              l_game_shoot_fire_boss_00121:
3500  0FAB  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3501  0FAD  81          	add	a, c
3502  0FAE  5F          	ld	e, a
3503  0FAF  3E 00       	ld	a, +((_bullet_tile) / 256)
3504  0FB1  CE 00       	adc	a,0x00
3505  0FB3  57          	ld	d, a
3506  0FB4  DD 7E 04    	ld	a,(ix+4)
3507  0FB7  12          	ld	(de), a
3508  0FB8  DD 6E FE    	ld	l,(ix-2)
3509  0FBB  DD 66 FF    	ld	h,(ix-1)
3510  0FBE  36 FF       	ld	(hl),0xff
3511  0FC0  06 00       	ld	b,0x00
3512  0FC2  21 00 00    	ld	hl,_bullet_colint
3513  0FC5  09          	add	hl, bc
3514  0FC6  36 FF       	ld	(hl),0xff
3515  0FC8  3A 00 00    	ld	a,(_boss_col)
3516  0FCB  C6 06       	add	a,0x06
3517  0FCD  DD 6E FC    	ld	l,(ix-4)
3518  0FD0  DD 66 FD    	ld	h,(ix-3)
3519  0FD3  77          	ld	(hl), a
3520  0FD4              l_game_shoot_fire_boss_00124:
3521  0FD4  06 00       	ld	b,0x00
3522  0FD6  21 00 00    	ld	hl,_bullet_col0
3523  0FD9  09          	add	hl,bc
3524  0FDA  4D          	ld	c,l
3525  0FDB  DD 6E FC    	ld	l,(ix-4)
3526  0FDE  44          	ld	b,h
3527  0FDF  DD 66 FD    	ld	h,(ix-3)
3528  0FE2  7E          	ld	a, (hl)
3529  0FE3  02          	ld	(bc), a
3530  0FE4  2E 00       	ld	l,0x00
3531  0FE6              l_game_shoot_fire_boss_00125:
3532  0FE6  DD F9       	ld	sp, ix
3533  0FE8  DD E1       	pop	ix
3534  0FEA  C9          	ret
3535  0FEB              	SECTION code_compiler
3536  0FEB              ;	---------------------------------
3537  0FEB              ; Function game_obj_set
3538  0FEB              ; ---------------------------------
3539  0FEB              _game_obj_set:
3540  0FEB  3A 00 00    	ld	a,(_scr_curr)
3541  0FEE  EB          	ex	de,hl
3542  0FEF  D6 08       	sub	a,0x08
3543  0FF1  30 19       	jr	NC,l_game_obj_set_00102
3544  0FF3  21 00 00    	ld	hl,_scr_obj0
3545  0FF6  19          	add	hl,de
3546  0FF7  5E          	ld	e,(hl)
3547  0FF8  3A 00 00    	ld	a,(_scr_curr)
3548  0FFB  3C          	inc	a
3549  0FFC  16 01       	ld	d,0x01
3550  0FFE  4D          	ld	c,l
3551  0FFF  44          	ld	b,h
3552  1000  18 02       	jr	l_game_obj_set_00111
3553  1002              l_game_obj_set_00110:
3554  1002  CB 22       	sla	d
3555  1004              l_game_obj_set_00111:
3556  1004  3D          	dec	a
3557  1005  20 FB       	jr	NZ,l_game_obj_set_00110
3558  1007  7B          	ld	a, e
3559  1008  B2          	or	a, d
3560  1009  02          	ld	(bc), a
3561  100A  18 17       	jr	l_game_obj_set_00104
3562  100C              l_game_obj_set_00102:
3563  100C  3A 00 00    	ld	a,(_scr_curr)
3564  100F  C6 F8       	add	a,0xf8
3565  1011  47          	ld	b, a
3566  1012  21 00 00    	ld	hl,_scr_obj1
3567  1015  19          	add	hl, de
3568  1016  4E          	ld	c, (hl)
3569  1017  1E 01       	ld	e,0x01
3570  1019  04          	inc	b
3571  101A  18 02       	jr	l_game_obj_set_00113
3572  101C              l_game_obj_set_00112:
3573  101C  CB 23       	sla	e
3574  101E              l_game_obj_set_00113:
3575  101E  10 FC       	djnz	l_game_obj_set_00112
3576  1020  79          	ld	a, c
3577  1021  B3          	or	a, e
3578  1022  77          	ld	(hl), a
3579  1023              l_game_obj_set_00104:
3580  1023  C9          	ret
3581  1024              	SECTION code_compiler
3582  1024              ;	---------------------------------
3583  1024              ; Function game_obj_chk
3584  1024              ; ---------------------------------
3585  1024              _game_obj_chk:
3586  1024  3A 00 00    	ld	a,(_scr_curr)
3587  1027  EB          	ex	de,hl
3588  1028  D6 08       	sub	a,0x08
3589  102A  30 17       	jr	NC,l_game_obj_chk_00102
3590  102C  21 00 00    	ld	hl,_scr_obj0
3591  102F  19          	add	hl, de
3592  1030  4E          	ld	c, (hl)
3593  1031  21 00 00    	ld	hl,_scr_curr
3594  1034  46          	ld	b, (hl)
3595  1035  1E 01       	ld	e,0x01
3596  1037  04          	inc	b
3597  1038  18 02       	jr	l_game_obj_chk_00111
3598  103A              l_game_obj_chk_00110:
3599  103A  CB 23       	sla	e
3600  103C              l_game_obj_chk_00111:
3601  103C  10 FC       	djnz	l_game_obj_chk_00110
3602  103E  79          	ld	a, c
3603  103F  A3          	and	a, e
3604  1040  6F          	ld	l, a
3605  1041  18 17       	jr	l_game_obj_chk_00104
3606  1043              l_game_obj_chk_00102:
3607  1043  3A 00 00    	ld	a,(_scr_curr)
3608  1046  C6 F8       	add	a,0xf8
3609  1048  47          	ld	b, a
3610  1049  21 00 00    	ld	hl,_scr_obj1
3611  104C  19          	add	hl, de
3612  104D  4E          	ld	c, (hl)
3613  104E  1E 01       	ld	e,0x01
3614  1050  04          	inc	b
3615  1051  18 02       	jr	l_game_obj_chk_00113
3616  1053              l_game_obj_chk_00112:
3617  1053  CB 23       	sla	e
3618  1055              l_game_obj_chk_00113:
3619  1055  10 FC       	djnz	l_game_obj_chk_00112
3620  1057  79          	ld	a, c
3621  1058  A3          	and	a, e
3622  1059  6F          	ld	l, a
3623  105A              l_game_obj_chk_00104:
3624  105A  C9          	ret
3625  105B              	SECTION code_compiler
3626  105B              ;	---------------------------------
3627  105B              ; Function game_obj_clear
3628  105B              ; ---------------------------------
3629  105B              _game_obj_clear:
3630  105B  21 00 00    	ld	hl,_tmp
3631  105E  36 00       	ld	(hl),0x00
3632  1060              l_game_obj_clear_00105:
3633  1060  2A 00 00    	ld	hl,(_tmp)
3634  1063  26 00       	ld	h,0x00
3635  1065  01 00 00    	ld	bc,_scr_obj0
3636  1068  09          	add	hl,bc
3637  1069  AF          	xor	a,a
3638  106A  77          	ld	(hl),a
3639  106B  2A 00 00    	ld	hl,(_tmp)
3640  106E  26 00       	ld	h,0x00
3641  1070  01 00 00    	ld	bc,_scr_obj1
3642  1073  09          	add	hl,bc
3643  1074  AF          	xor	a,a
3644  1075  77          	ld	(hl),a
3645  1076  21 00 00    	ld	hl,_tmp
3646  1079  7E          	ld	a,(hl)
3647  107A  3C          	inc	a
3648  107B  77          	ld	(hl),a
3649  107C  D6 A0       	sub	a,0xa0
3650  107E  38 E0       	jr	C,l_game_obj_clear_00105
3651  1080  3A 00 00    	ld	a,(_game_inmune)
3652  1083  B7          	or	a, a
3653  1084  28 07       	jr	Z,l_game_obj_clear_00103
3654  1086  21 00 00    	ld	hl,_tmp
3655  1089  36 01       	ld	(hl),0x01
3656  108B  18 05       	jr	l_game_obj_clear_00104
3657  108D              l_game_obj_clear_00103:
3658  108D  21 00 00    	ld	hl,_tmp
3659  1090  36 00       	ld	(hl),0x00
3660  1092              l_game_obj_clear_00104:
3661  1092  3A 00 00    	ld	a,(_tmp)
3662  1095  32 00 00    	ld	(_player_keys),a
3663  1098  32 01 00    	ld	((_player_keys + 0x0001)),a
3664  109B  3A 00 00    	ld	a,(_tmp)
3665  109E  32 02 00    	ld	((_player_keys + 0x0002)),a
3666  10A1  32 03 00    	ld	((_player_keys + 0x0003)),a
3667  10A4  C9          	ret
3668  10A5              	SECTION code_compiler
3669  10A5              ;	---------------------------------
3670  10A5              ; Function game_boss_clear
3671  10A5              ; ---------------------------------
3672  10A5              _game_boss_clear:
3673  10A5  CD 00 00    	call	___sdcc_enter_ix
3674  10A8  21 00 00    	ld	hl,0x0000
3675  10AB  E5          	push	hl
3676  10AC              l_game_boss_clear_00104:
3677  10AC  3E 00       	ld	a, +((_scr_map) & 0xFF)
3678  10AE  DD 86 FE    	add	a,(ix-2)
3679  10B1  4F          	ld	c, a
3680  10B2  3E 00       	ld	a, +((_scr_map) / 256)
3681  10B4  DD 8E FF    	adc	a,(ix-1)
3682  10B7  47          	ld	b, a
3683  10B8  0A          	ld	a, (bc)
3684  10B9  D6 37       	sub	a,0x37
3685  10BB  20 09       	jr	NZ,l_game_boss_clear_00105
3686  10BD  AF          	xor	a, a
3687  10BE  02          	ld	(bc), a
3688  10BF  21 00 00    	ld	hl,0x0000
3689  10C2  39          	add	hl, sp
3690  10C3  CD 00 00    	call	_spr_draw_index
3691  10C6              l_game_boss_clear_00105:
3692  10C6  DD 34 FE    	inc	(ix-2)
3693  10C9  20 03       	jr	NZ,l_game_boss_clear_00118
3694  10CB  DD 34 FF    	inc	(ix-1)
3695  10CE              l_game_boss_clear_00118:
3696  10CE  DD 7E FE    	ld	a,(ix-2)
3697  10D1  D6 A0       	sub	a,0xa0
3698  10D3  DD 7E FF    	ld	a,(ix-1)
3699  10D6  DE 00       	sbc	a,0x00
3700  10D8  38 D2       	jr	C,l_game_boss_clear_00104
3701  10DA  F1          	pop	af
3702  10DB  DD E1       	pop	ix
3703  10DD  C9          	ret
3704  10DE              	SECTION code_compiler
3705  10DE              ;	---------------------------------
3706  10DE              ; Function game_rotate_attrib
3707  10DE              ; ---------------------------------
3708  10DE              _game_rotate_attrib:
3709  10DE  01 03 00    	ld	bc,_attrib_hl + 3
3710  10E1  0A          	ld	a, (bc)
3711  10E2  32 00 00    	ld	(_tmp_uc),a
3712  10E5  11 02 00    	ld	de,_attrib_hl + 2
3713  10E8  1A          	ld	a, (de)
3714  10E9  02          	ld	(bc), a
3715  10EA  01 01 00    	ld	bc,_attrib_hl + 1
3716  10ED  0A          	ld	a, (bc)
3717  10EE  12          	ld	(de), a
3718  10EF  3A 00 00    	ld	a,(_attrib_hl)
3719  10F2  02          	ld	(bc), a
3720  10F3  3A 00 00    	ld	a,(_tmp_uc)
3721  10F6  32 00 00    	ld	(_attrib_hl),a
3722  10F9  C9          	ret
3723  10FA              	SECTION code_compiler
3724  10FA              ;	---------------------------------
3725  10FA              ; Function game_rotate_attrib_osd
3726  10FA              ; ---------------------------------
3727  10FA              _game_rotate_attrib_osd:
3728  10FA  01 03 00    	ld	bc,_attrib_osd + 3
3729  10FD  0A          	ld	a, (bc)
3730  10FE  32 00 00    	ld	(_tmp_uc),a
3731  1101  11 02 00    	ld	de,_attrib_osd + 2
3732  1104  1A          	ld	a, (de)
3733  1105  02          	ld	(bc), a
3734  1106  01 01 00    	ld	bc,_attrib_osd + 1
3735  1109  0A          	ld	a, (bc)
3736  110A  12          	ld	(de), a
3737  110B  3A 00 00    	ld	a,(_attrib_osd)
3738  110E  02          	ld	(bc), a
3739  110F  3A 00 00    	ld	a,(_tmp_uc)
3740  1112  32 00 00    	ld	(_attrib_osd),a
3741  1115  C9          	ret
3742  1116              	SECTION code_compiler
3743  1116              ;	---------------------------------
3744  1116              ; Function game_attribs
3745  1116              ; ---------------------------------
3746  1116              _game_attribs:
3747  1116  01 00 00    	ld	bc,_attrib+0
3748  1119  21 00 00    	ld	hl,_map_paper
3749  111C  7E          	ld	a, (hl)
3750  111D  F6 47       	or	a,0x47
3751  111F  02          	ld	(bc), a
3752  1120  59          	ld	e, c
3753  1121  50          	ld	d, b
3754  1122  13          	inc	de
3755  1123  7E          	ld	a, (hl)
3756  1124  F6 45       	or	a,0x45
3757  1126  12          	ld	(de), a
3758  1127  7E          	ld	a, (hl)
3759  1128  F6 05       	or	a,0x05
3760  112A  32 02 00    	ld	((_attrib + 0x0002)),a
3761  112D  03          	inc	bc
3762  112E  03          	inc	bc
3763  112F  03          	inc	bc
3764  1130  21 00 00    	ld	hl,_map_paper
3765  1133  7E          	ld	a, (hl)
3766  1134  F6 41       	or	a,0x41
3767  1136  02          	ld	(bc), a
3768  1137  01 00 00    	ld	bc,_attrib_hl+0
3769  113A  7E          	ld	a, (hl)
3770  113B  F6 41       	or	a,0x41
3771  113D  02          	ld	(bc), a
3772  113E  59          	ld	e, c
3773  113F  50          	ld	d, b
3774  1140  13          	inc	de
3775  1141  7E          	ld	a, (hl)
3776  1142  F6 41       	or	a,0x41
3777  1144  12          	ld	(de), a
3778  1145  7E          	ld	a, (hl)
3779  1146  F6 43       	or	a,0x43
3780  1148  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3781  114B  03          	inc	bc
3782  114C  03          	inc	bc
3783  114D  03          	inc	bc
3784  114E  21 00 00    	ld	hl,_map_paper
3785  1151  7E          	ld	a, (hl)
3786  1152  F6 45       	or	a,0x45
3787  1154  02          	ld	(bc), a
3788  1155  01 00 00    	ld	bc,_attrib_osd+0
3789  1158  7E          	ld	a, (hl)
3790  1159  F6 46       	or	a,0x46
3791  115B  02          	ld	(bc), a
3792  115C  59          	ld	e, c
3793  115D  50          	ld	d, b
3794  115E  13          	inc	de
3795  115F  7E          	ld	a, (hl)
3796  1160  F6 47       	or	a,0x47
3797  1162  12          	ld	(de), a
3798  1163  7E          	ld	a, (hl)
3799  1164  F6 47       	or	a,0x47
3800  1166  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3801  1169  03          	inc	bc
3802  116A  03          	inc	bc
3803  116B  03          	inc	bc
3804  116C  3A 00 00    	ld	a,(_map_paper)
3805  116F  F6 46       	or	a,0x46
3806  1171  02          	ld	(bc), a
3807  1172  C9          	ret
3808  1173              	SECTION code_compiler
3809  1173              ;	---------------------------------
3810  1173              ; Function game_match_back_strict
3811  1173              ; ---------------------------------
3812  1173              _game_match_back_strict:
3813  1173  3E 01       	ld	a,0x01
3814  1175  BD          	cp	a,l
3815  1176  3E 00       	ld	a,0x00
3816  1178  9C          	sbc	a,h
3817  1179  30 3F       	jr	NC,l_game_match_back_strict_00111
3818  117B  7D          	ld	a,l
3819  117C  E6 0F       	and	a,0x0f
3820  117E  28 3A       	jr	Z,l_game_match_back_strict_00111
3821  1180  5D          	ld	e,l
3822  1181  54          	ld	d,h
3823  1182  4D          	ld	c,l
3824  1183  44          	ld	b,h
3825  1184  1B          	dec	de
3826  1185  21 00 00    	ld	hl,_scr_map
3827  1188  19          	add	hl, de
3828  1189  5E          	ld	e, (hl)
3829  118A  03          	inc	bc
3830  118B  21 00 00    	ld	hl,_scr_map
3831  118E  09          	add	hl, bc
3832  118F  4E          	ld	c, (hl)
3833  1190  7B          	ld	a, e
3834  1191  D6 1D       	sub	a,0x1d
3835  1193  20 09       	jr	NZ,l_game_match_back_strict_00102
3836  1195  79          	ld	a, c
3837  1196  D6 1D       	sub	a,0x1d
3838  1198  20 04       	jr	NZ,l_game_match_back_strict_00102
3839  119A  2E 1D       	ld	l,0x1d
3840  119C  18 1E       	jr	l_game_match_back_strict_00113
3841  119E              l_game_match_back_strict_00102:
3842  119E  7B          	ld	a, e
3843  119F  D6 18       	sub	a,0x18
3844  11A1  20 09       	jr	NZ,l_game_match_back_strict_00105
3845  11A3  79          	ld	a, c
3846  11A4  D6 18       	sub	a,0x18
3847  11A6  20 04       	jr	NZ,l_game_match_back_strict_00105
3848  11A8  2E 18       	ld	l,0x18
3849  11AA  18 10       	jr	l_game_match_back_strict_00113
3850  11AC              l_game_match_back_strict_00105:
3851  11AC  7B          	ld	a, e
3852  11AD  D6 0D       	sub	a,0x0d
3853  11AF  20 09       	jr	NZ,l_game_match_back_strict_00111
3854  11B1  79          	ld	a, c
3855  11B2  D6 0D       	sub	a,0x0d
3856  11B4  20 04       	jr	NZ,l_game_match_back_strict_00111
3857  11B6  2E 0D       	ld	l,0x0d
3858  11B8  18 02       	jr	l_game_match_back_strict_00113
3859  11BA              l_game_match_back_strict_00111:
3860  11BA  2E 00       	ld	l,0x00
3861  11BC              l_game_match_back_strict_00113:
3862  11BC  C9          	ret
3863  11BD              	SECTION code_compiler
3864  11BD              ;	---------------------------------
3865  11BD              ; Function game_match_back
3866  11BD              ; ---------------------------------
3867  11BD              _game_match_back:
3868  11BD  3E 01       	ld	a,0x01
3869  11BF  BD          	cp	a,l
3870  11C0  3E 00       	ld	a,0x00
3871  11C2  9C          	sbc	a,h
3872  11C3  30 3F       	jr	NC,l_game_match_back_00111
3873  11C5  7D          	ld	a,l
3874  11C6  E6 0F       	and	a,0x0f
3875  11C8  28 3A       	jr	Z,l_game_match_back_00111
3876  11CA  5D          	ld	e,l
3877  11CB  54          	ld	d,h
3878  11CC  4D          	ld	c,l
3879  11CD  44          	ld	b,h
3880  11CE  1B          	dec	de
3881  11CF  21 00 00    	ld	hl,_scr_map
3882  11D2  19          	add	hl, de
3883  11D3  5E          	ld	e, (hl)
3884  11D4  03          	inc	bc
3885  11D5  21 00 00    	ld	hl,_scr_map
3886  11D8  09          	add	hl, bc
3887  11D9  4E          	ld	c, (hl)
3888  11DA  7B          	ld	a, e
3889  11DB  D6 1D       	sub	a,0x1d
3890  11DD  28 05       	jr	Z,l_game_match_back_00101
3891  11DF  79          	ld	a, c
3892  11E0  D6 1D       	sub	a,0x1d
3893  11E2  20 04       	jr	NZ,l_game_match_back_00102
3894  11E4              l_game_match_back_00101:
3895  11E4  2E 1D       	ld	l,0x1d
3896  11E6  18 1E       	jr	l_game_match_back_00113
3897  11E8              l_game_match_back_00102:
3898  11E8  7B          	ld	a, e
3899  11E9  D6 18       	sub	a,0x18
3900  11EB  28 05       	jr	Z,l_game_match_back_00104
3901  11ED  79          	ld	a, c
3902  11EE  D6 18       	sub	a,0x18
3903  11F0  20 04       	jr	NZ,l_game_match_back_00105
3904  11F2              l_game_match_back_00104:
3905  11F2  2E 18       	ld	l,0x18
3906  11F4  18 10       	jr	l_game_match_back_00113
3907  11F6              l_game_match_back_00105:
3908  11F6  7B          	ld	a, e
3909  11F7  D6 0D       	sub	a,0x0d
3910  11F9  28 05       	jr	Z,l_game_match_back_00107
3911  11FB  79          	ld	a, c
3912  11FC  D6 0D       	sub	a,0x0d
3913  11FE  20 04       	jr	NZ,l_game_match_back_00111
3914  1200              l_game_match_back_00107:
3915  1200  2E 0D       	ld	l,0x0d
3916  1202  18 02       	jr	l_game_match_back_00113
3917  1204              l_game_match_back_00111:
3918  1204  2E 00       	ld	l,0x00
3919  1206              l_game_match_back_00113:
3920  1206  C9          	ret
3921  1207              	SECTION IGNORE
3922  0000              
