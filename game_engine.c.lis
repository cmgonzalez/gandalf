1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_fps
191   0000              	GLOBAL _game_respawn
192   0000              	GLOBAL _game_draw_screen
193   0000              	GLOBAL _game_boss_kill
194   0000              	GLOBAL _game_add_enemy
195   0000              	GLOBAL _game_print_footer
196   0000              	GLOBAL _game_print_score
197   0000              	GLOBAL _game_update_stats
198   0000              	GLOBAL _game_start_timer
199   0000              	GLOBAL _game_set_checkpoint
200   0000              	GLOBAL _game_round_init
201   0000              	GLOBAL _game_print_header
202   0000              	GLOBAL _game_check_map
203   0000              	GLOBAL _game_check_cell
204   0000              	GLOBAL _game_paint_attrib
205   0000              	GLOBAL _game_colour_message
206   0000              	GLOBAL _game_check_time
207   0000              	GLOBAL _game_shoot_fire
208   0000              	GLOBAL _game_shoot_fire_boss
209   0000              	GLOBAL _game_obj_set
210   0000              	GLOBAL _game_obj_chk
211   0000              	GLOBAL _game_obj_clear
212   0000              	GLOBAL _game_boss_clear
213   0000              	GLOBAL _game_rotate_attrib
214   0000              	GLOBAL _game_rotate_attrib_osd
215   0000              	GLOBAL _game_attribs
216   0000              	GLOBAL _game_match_back
217   0000              	GLOBAL _menu_main
218   0000              	GLOBAL _menu_main_print
219   0000              	GLOBAL _menu_redefine
220   0000              	GLOBAL _menu_define_key
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ffsll_callee
225   0000              	GLOBAL _ffsll
226   0000              	GLOBAL _strxfrm_callee
227   0000              	GLOBAL _strxfrm
228   0000              	GLOBAL _strupr_fastcall
229   0000              	GLOBAL _strupr
230   0000              	GLOBAL _strtok_r_callee
231   0000              	GLOBAL _strtok_r
232   0000              	GLOBAL _strtok_callee
233   0000              	GLOBAL _strtok
234   0000              	GLOBAL _strstrip_fastcall
235   0000              	GLOBAL _strstrip
236   0000              	GLOBAL _strstr_callee
237   0000              	GLOBAL _strstr
238   0000              	GLOBAL _strspn_callee
239   0000              	GLOBAL _strspn
240   0000              	GLOBAL _strsep_callee
241   0000              	GLOBAL _strsep
242   0000              	GLOBAL _strrstrip_fastcall
243   0000              	GLOBAL _strrstrip
244   0000              	GLOBAL _strrspn_callee
245   0000              	GLOBAL _strrspn
246   0000              	GLOBAL _strrev_fastcall
247   0000              	GLOBAL _strrev
248   0000              	GLOBAL _strrcspn_callee
249   0000              	GLOBAL _strrcspn
250   0000              	GLOBAL _strrchr_callee
251   0000              	GLOBAL _strrchr
252   0000              	GLOBAL _strpbrk_callee
253   0000              	GLOBAL _strpbrk
254   0000              	GLOBAL _strnlen_callee
255   0000              	GLOBAL _strnlen
256   0000              	GLOBAL _strnicmp_callee
257   0000              	GLOBAL _strnicmp
258   0000              	GLOBAL _strndup_callee
259   0000              	GLOBAL _strndup
260   0000              	GLOBAL _strncpy_callee
261   0000              	GLOBAL _strncpy
262   0000              	GLOBAL _strncmp_callee
263   0000              	GLOBAL _strncmp
264   0000              	GLOBAL _strnchr_callee
265   0000              	GLOBAL _strnchr
266   0000              	GLOBAL _strncat_callee
267   0000              	GLOBAL _strncat
268   0000              	GLOBAL _strncasecmp_callee
269   0000              	GLOBAL _strncasecmp
270   0000              	GLOBAL _strlwr_fastcall
271   0000              	GLOBAL _strlwr
272   0000              	GLOBAL _strlen_fastcall
273   0000              	GLOBAL _strlen
274   0000              	GLOBAL _strlcpy_callee
275   0000              	GLOBAL _strlcpy
276   0000              	GLOBAL _strlcat_callee
277   0000              	GLOBAL _strlcat
278   0000              	GLOBAL _stricmp_callee
279   0000              	GLOBAL _stricmp
280   0000              	GLOBAL _strerror_fastcall
281   0000              	GLOBAL _strerror
282   0000              	GLOBAL _strdup_fastcall
283   0000              	GLOBAL _strdup
284   0000              	GLOBAL _strcspn_callee
285   0000              	GLOBAL _strcspn
286   0000              	GLOBAL _strcpy_callee
287   0000              	GLOBAL _strcpy
288   0000              	GLOBAL _strcoll_callee
289   0000              	GLOBAL _strcoll
290   0000              	GLOBAL _strcmp_callee
291   0000              	GLOBAL _strcmp
292   0000              	GLOBAL _strchrnul_callee
293   0000              	GLOBAL _strchrnul
294   0000              	GLOBAL _strchr_callee
295   0000              	GLOBAL _strchr
296   0000              	GLOBAL _strcat_callee
297   0000              	GLOBAL _strcat
298   0000              	GLOBAL _strcasecmp_callee
299   0000              	GLOBAL _strcasecmp
300   0000              	GLOBAL _stpncpy_callee
301   0000              	GLOBAL _stpncpy
302   0000              	GLOBAL _stpcpy_callee
303   0000              	GLOBAL _stpcpy
304   0000              	GLOBAL _memswap_callee
305   0000              	GLOBAL _memswap
306   0000              	GLOBAL _memset_callee
307   0000              	GLOBAL _memset
308   0000              	GLOBAL _memrchr_callee
309   0000              	GLOBAL _memrchr
310   0000              	GLOBAL _memmove_callee
311   0000              	GLOBAL _memmove
312   0000              	GLOBAL _memmem_callee
313   0000              	GLOBAL _memmem
314   0000              	GLOBAL _memcpy_callee
315   0000              	GLOBAL _memcpy
316   0000              	GLOBAL _memcmp_callee
317   0000              	GLOBAL _memcmp
318   0000              	GLOBAL _memchr_callee
319   0000              	GLOBAL _memchr
320   0000              	GLOBAL _memccpy_callee
321   0000              	GLOBAL _memccpy
322   0000              	GLOBAL _ffsl_fastcall
323   0000              	GLOBAL _ffsl
324   0000              	GLOBAL _ffs_fastcall
325   0000              	GLOBAL _ffs
326   0000              	GLOBAL __strrstrip__fastcall
327   0000              	GLOBAL __strrstrip_
328   0000              	GLOBAL __memupr__callee
329   0000              	GLOBAL __memupr_
330   0000              	GLOBAL __memstrcpy__callee
331   0000              	GLOBAL __memstrcpy_
332   0000              	GLOBAL __memlwr__callee
333   0000              	GLOBAL __memlwr_
334   0000              	GLOBAL _rawmemchr_callee
335   0000              	GLOBAL _rawmemchr
336   0000              	GLOBAL _strnset_callee
337   0000              	GLOBAL _strnset
338   0000              	GLOBAL _strset_callee
339   0000              	GLOBAL _strset
340   0000              	GLOBAL _rindex_callee
341   0000              	GLOBAL _rindex
342   0000              	GLOBAL _index_callee
343   0000              	GLOBAL _index
344   0000              	GLOBAL _bzero_callee
345   0000              	GLOBAL _bzero
346   0000              	GLOBAL _bcopy_callee
347   0000              	GLOBAL _bcopy
348   0000              	GLOBAL _bcmp_callee
349   0000              	GLOBAL _bcmp
350   0000              	GLOBAL _ulltoa_callee
351   0000              	GLOBAL _ulltoa
352   0000              	GLOBAL _strtoull_callee
353   0000              	GLOBAL _strtoull
354   0000              	GLOBAL _strtoll_callee
355   0000              	GLOBAL _strtoll
356   0000              	GLOBAL _lltoa_callee
357   0000              	GLOBAL _lltoa
358   0000              	GLOBAL _llabs_callee
359   0000              	GLOBAL _llabs
360   0000              	GLOBAL __lldivu__callee
361   0000              	GLOBAL __lldivu_
362   0000              	GLOBAL __lldiv__callee
363   0000              	GLOBAL __lldiv_
364   0000              	GLOBAL _atoll_callee
365   0000              	GLOBAL _atoll
366   0000              	GLOBAL _realloc_unlocked_callee
367   0000              	GLOBAL _realloc_unlocked
368   0000              	GLOBAL _malloc_unlocked_fastcall
369   0000              	GLOBAL _malloc_unlocked
370   0000              	GLOBAL _free_unlocked_fastcall
371   0000              	GLOBAL _free_unlocked
372   0000              	GLOBAL _calloc_unlocked_callee
373   0000              	GLOBAL _calloc_unlocked
374   0000              	GLOBAL _aligned_alloc_unlocked_callee
375   0000              	GLOBAL _aligned_alloc_unlocked
376   0000              	GLOBAL _realloc_callee
377   0000              	GLOBAL _realloc
378   0000              	GLOBAL _malloc_fastcall
379   0000              	GLOBAL _malloc
380   0000              	GLOBAL _free_fastcall
381   0000              	GLOBAL _free
382   0000              	GLOBAL _calloc_callee
383   0000              	GLOBAL _calloc
384   0000              	GLOBAL _aligned_alloc_callee
385   0000              	GLOBAL _aligned_alloc
386   0000              	GLOBAL _utoa_callee
387   0000              	GLOBAL _utoa
388   0000              	GLOBAL _ultoa_callee
389   0000              	GLOBAL _ultoa
390   0000              	GLOBAL _system_fastcall
391   0000              	GLOBAL _system
392   0000              	GLOBAL _strtoul_callee
393   0000              	GLOBAL _strtoul
394   0000              	GLOBAL _strtol_callee
395   0000              	GLOBAL _strtol
396   0000              	GLOBAL _strtof_callee
397   0000              	GLOBAL _strtof
398   0000              	GLOBAL _strtod_callee
399   0000              	GLOBAL _strtod
400   0000              	GLOBAL _srand_fastcall
401   0000              	GLOBAL _srand
402   0000              	GLOBAL _rand
403   0000              	GLOBAL _quick_exit_fastcall
404   0000              	GLOBAL _quick_exit
405   0000              	GLOBAL _qsort_callee
406   0000              	GLOBAL _qsort
407   0000              	GLOBAL _ltoa_callee
408   0000              	GLOBAL _ltoa
409   0000              	GLOBAL _labs_fastcall
410   0000              	GLOBAL _labs
411   0000              	GLOBAL _itoa_callee
412   0000              	GLOBAL _itoa
413   0000              	GLOBAL _ftoh_callee
414   0000              	GLOBAL _ftoh
415   0000              	GLOBAL _ftog_callee
416   0000              	GLOBAL _ftog
417   0000              	GLOBAL _ftoe_callee
418   0000              	GLOBAL _ftoe
419   0000              	GLOBAL _ftoa_callee
420   0000              	GLOBAL _ftoa
421   0000              	GLOBAL _exit_fastcall
422   0000              	GLOBAL _exit
423   0000              	GLOBAL _dtoh_callee
424   0000              	GLOBAL _dtoh
425   0000              	GLOBAL _dtog_callee
426   0000              	GLOBAL _dtog
427   0000              	GLOBAL _dtoe_callee
428   0000              	GLOBAL _dtoe
429   0000              	GLOBAL _dtoa_callee
430   0000              	GLOBAL _dtoa
431   0000              	GLOBAL _bsearch_callee
432   0000              	GLOBAL _bsearch
433   0000              	GLOBAL _atol_fastcall
434   0000              	GLOBAL _atol
435   0000              	GLOBAL _atoi_fastcall
436   0000              	GLOBAL _atoi
437   0000              	GLOBAL _atof_fastcall
438   0000              	GLOBAL _atof
439   0000              	GLOBAL _atexit_fastcall
440   0000              	GLOBAL _atexit
441   0000              	GLOBAL _at_quick_exit_fastcall
442   0000              	GLOBAL _at_quick_exit
443   0000              	GLOBAL _abs_fastcall
444   0000              	GLOBAL _abs
445   0000              	GLOBAL _abort
446   0000              	GLOBAL __strtou__callee
447   0000              	GLOBAL __strtou_
448   0000              	GLOBAL __strtoi__callee
449   0000              	GLOBAL __strtoi_
450   0000              	GLOBAL __random_uniform_xor_8__fastcall
451   0000              	GLOBAL __random_uniform_xor_8_
452   0000              	GLOBAL __random_uniform_xor_32__fastcall
453   0000              	GLOBAL __random_uniform_xor_32_
454   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
455   0000              	GLOBAL __random_uniform_cmwc_8_
456   0000              	GLOBAL __shellsort__callee
457   0000              	GLOBAL __shellsort_
458   0000              	GLOBAL __quicksort__callee
459   0000              	GLOBAL __quicksort_
460   0000              	GLOBAL __insertion_sort__callee
461   0000              	GLOBAL __insertion_sort_
462   0000              	GLOBAL __ldivu__callee
463   0000              	GLOBAL __ldivu_
464   0000              	GLOBAL __ldiv__callee
465   0000              	GLOBAL __ldiv_
466   0000              	GLOBAL __divu__callee
467   0000              	GLOBAL __divu_
468   0000              	GLOBAL __div__callee
469   0000              	GLOBAL __div_
470   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawTW_raw
472   0000              	GLOBAL _NIRVANAP_drawTW_callee
473   0000              	GLOBAL _NIRVANAP_drawTW
474   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
475   0000              	GLOBAL _NIRVANAP_drawW_raw
476   0000              	GLOBAL _NIRVANAP_drawW_callee
477   0000              	GLOBAL _NIRVANAP_drawW
478   0000              	GLOBAL _NIRVANAP_spriteT_callee
479   0000              	GLOBAL _NIRVANAP_spriteT
480   0000              	GLOBAL _NIRVANAP_fillC_callee
481   0000              	GLOBAL _NIRVANAP_fillC
482   0000              	GLOBAL _NIRVANAP_readC_callee
483   0000              	GLOBAL _NIRVANAP_readC
484   0000              	GLOBAL _NIRVANAP_paintC_callee
485   0000              	GLOBAL _NIRVANAP_paintC
486   0000              	GLOBAL _NIRVANAP_printC_callee
487   0000              	GLOBAL _NIRVANAP_printC
488   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
489   0000              	GLOBAL _NIRVANAP_fillT_raw
490   0000              	GLOBAL _NIRVANAP_fillT_callee
491   0000              	GLOBAL _NIRVANAP_fillT
492   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawT_raw
494   0000              	GLOBAL _NIRVANAP_drawT_callee
495   0000              	GLOBAL _NIRVANAP_drawT
496   0000              	GLOBAL _NIRVANAP_stop
497   0000              	GLOBAL _NIRVANAP_start
498   0000              	GLOBAL _debug3
499   0000              	GLOBAL _debug2
500   0000              	GLOBAL _debug
501   0000              	GLOBAL _zx_print_str
502   0000              	GLOBAL _zx_print_int
503   0000              	GLOBAL _zx_print_chr
504   0000              	GLOBAL _zx_print_bonus_time
505   0000              	GLOBAL _zx_isr
506   0000              	GLOBAL _z80_otdr_callee
507   0000              	GLOBAL _z80_otdr
508   0000              	GLOBAL _z80_otir_callee
509   0000              	GLOBAL _z80_otir
510   0000              	GLOBAL _z80_outp_callee
511   0000              	GLOBAL _z80_outp
512   0000              	GLOBAL _z80_indr_callee
513   0000              	GLOBAL _z80_indr
514   0000              	GLOBAL _z80_inir_callee
515   0000              	GLOBAL _z80_inir
516   0000              	GLOBAL _z80_inp_fastcall
517   0000              	GLOBAL _z80_inp
518   0000              	GLOBAL _z80_set_int_state_fastcall
519   0000              	GLOBAL _z80_set_int_state
520   0000              	GLOBAL _z80_get_int_state
521   0000              	GLOBAL _z80_delay_tstate_fastcall
522   0000              	GLOBAL _z80_delay_tstate
523   0000              	GLOBAL _z80_delay_ms_fastcall
524   0000              	GLOBAL _z80_delay_ms
525   0000              	GLOBAL _im2_remove_generic_callback_callee
526   0000              	GLOBAL _im2_remove_generic_callback
527   0000              	GLOBAL _im2_prepend_generic_callback_callee
528   0000              	GLOBAL _im2_prepend_generic_callback
529   0000              	GLOBAL _im2_append_generic_callback_callee
530   0000              	GLOBAL _im2_append_generic_callback
531   0000              	GLOBAL _im2_create_generic_isr_8080_callee
532   0000              	GLOBAL _im2_create_generic_isr_8080
533   0000              	GLOBAL _im2_create_generic_isr_callee
534   0000              	GLOBAL _im2_create_generic_isr
535   0000              	GLOBAL _im2_install_isr_callee
536   0000              	GLOBAL _im2_install_isr
537   0000              	GLOBAL _im2_init_fastcall
538   0000              	GLOBAL _im2_init
539   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
540   0000              	GLOBAL _intrinsic_swap_word_32
541   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
542   0000              	GLOBAL _intrinsic_swap_endian_32
543   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
544   0000              	GLOBAL _intrinsic_swap_endian_16
545   0000              	GLOBAL _intrinsic_return_de
546   0000              	GLOBAL _intrinsic_return_bc
547   0000              	GLOBAL _intrinsic_exx
548   0000              	GLOBAL _intrinsic_ex_de_hl
549   0000              	GLOBAL _intrinsic_nop
550   0000              	GLOBAL _intrinsic_im_2
551   0000              	GLOBAL _intrinsic_im_1
552   0000              	GLOBAL _intrinsic_im_0
553   0000              	GLOBAL _intrinsic_retn
554   0000              	GLOBAL _intrinsic_reti
555   0000              	GLOBAL _intrinsic_halt
556   0000              	GLOBAL _intrinsic_ei
557   0000              	GLOBAL _intrinsic_di
558   0000              	GLOBAL _intrinsic_stub
559   0000              	GLOBAL _intrinsic_outi
560   0000              	GLOBAL _intrinsic_ldi
561   0000              	GLOBAL _zx_pattern_fill_callee
562   0000              	GLOBAL _zx_pattern_fill
563   0000              	GLOBAL _zx_saddrpup_fastcall
564   0000              	GLOBAL _zx_saddrpup
565   0000              	GLOBAL _zx_saddrpright_callee
566   0000              	GLOBAL _zx_saddrpright
567   0000              	GLOBAL _zx_saddrpleft_callee
568   0000              	GLOBAL _zx_saddrpleft
569   0000              	GLOBAL _zx_saddrpdown_fastcall
570   0000              	GLOBAL _zx_saddrpdown
571   0000              	GLOBAL _zx_saddrcup_fastcall
572   0000              	GLOBAL _zx_saddrcup
573   0000              	GLOBAL _zx_saddrcright_fastcall
574   0000              	GLOBAL _zx_saddrcright
575   0000              	GLOBAL _zx_saddrcleft_fastcall
576   0000              	GLOBAL _zx_saddrcleft
577   0000              	GLOBAL _zx_saddrcdown_fastcall
578   0000              	GLOBAL _zx_saddrcdown
579   0000              	GLOBAL _zx_saddr2py_fastcall
580   0000              	GLOBAL _zx_saddr2py
581   0000              	GLOBAL _zx_saddr2px_fastcall
582   0000              	GLOBAL _zx_saddr2px
583   0000              	GLOBAL _zx_saddr2cy_fastcall
584   0000              	GLOBAL _zx_saddr2cy
585   0000              	GLOBAL _zx_saddr2cx_fastcall
586   0000              	GLOBAL _zx_saddr2cx
587   0000              	GLOBAL _zx_saddr2aaddr_fastcall
588   0000              	GLOBAL _zx_saddr2aaddr
589   0000              	GLOBAL _zx_py2saddr_fastcall
590   0000              	GLOBAL _zx_py2saddr
591   0000              	GLOBAL _zx_py2aaddr_fastcall
592   0000              	GLOBAL _zx_py2aaddr
593   0000              	GLOBAL _zx_pxy2saddr_callee
594   0000              	GLOBAL _zx_pxy2saddr
595   0000              	GLOBAL _zx_pxy2aaddr_callee
596   0000              	GLOBAL _zx_pxy2aaddr
597   0000              	GLOBAL _zx_px2bitmask_fastcall
598   0000              	GLOBAL _zx_px2bitmask
599   0000              	GLOBAL _zx_cy2saddr_fastcall
600   0000              	GLOBAL _zx_cy2saddr
601   0000              	GLOBAL _zx_cy2aaddr_fastcall
602   0000              	GLOBAL _zx_cy2aaddr
603   0000              	GLOBAL _zx_cxy2saddr_callee
604   0000              	GLOBAL _zx_cxy2saddr
605   0000              	GLOBAL _zx_cxy2aaddr_callee
606   0000              	GLOBAL _zx_cxy2aaddr
607   0000              	GLOBAL _zx_bitmask2px_fastcall
608   0000              	GLOBAL _zx_bitmask2px
609   0000              	GLOBAL _zx_aaddrcup_fastcall
610   0000              	GLOBAL _zx_aaddrcup
611   0000              	GLOBAL _zx_aaddrcright_fastcall
612   0000              	GLOBAL _zx_aaddrcright
613   0000              	GLOBAL _zx_aaddrcleft_fastcall
614   0000              	GLOBAL _zx_aaddrcleft
615   0000              	GLOBAL _zx_aaddrcdown_fastcall
616   0000              	GLOBAL _zx_aaddrcdown
617   0000              	GLOBAL _zx_aaddr2saddr_fastcall
618   0000              	GLOBAL _zx_aaddr2saddr
619   0000              	GLOBAL _zx_aaddr2py_fastcall
620   0000              	GLOBAL _zx_aaddr2py
621   0000              	GLOBAL _zx_aaddr2px_fastcall
622   0000              	GLOBAL _zx_aaddr2px
623   0000              	GLOBAL _zx_aaddr2cy_fastcall
624   0000              	GLOBAL _zx_aaddr2cy
625   0000              	GLOBAL _zx_aaddr2cx_fastcall
626   0000              	GLOBAL _zx_aaddr2cx
627   0000              	GLOBAL _zx_visit_wc_pix_callee
628   0000              	GLOBAL _zx_visit_wc_pix
629   0000              	GLOBAL _zx_visit_wc_attr_callee
630   0000              	GLOBAL _zx_visit_wc_attr
631   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
632   0000              	GLOBAL _zx_scroll_wc_up_pix
633   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
634   0000              	GLOBAL _zx_scroll_wc_up_attr
635   0000              	GLOBAL _zx_scroll_wc_up_callee
636   0000              	GLOBAL _zx_scroll_wc_up
637   0000              	GLOBAL _zx_scroll_up_pix_callee
638   0000              	GLOBAL _zx_scroll_up_pix
639   0000              	GLOBAL _zx_scroll_up_attr_callee
640   0000              	GLOBAL _zx_scroll_up_attr
641   0000              	GLOBAL _zx_scroll_up_callee
642   0000              	GLOBAL _zx_scroll_up
643   0000              	GLOBAL _zx_cls_wc_pix_callee
644   0000              	GLOBAL _zx_cls_wc_pix
645   0000              	GLOBAL _zx_cls_wc_attr_callee
646   0000              	GLOBAL _zx_cls_wc_attr
647   0000              	GLOBAL _zx_cls_wc_callee
648   0000              	GLOBAL _zx_cls_wc
649   0000              	GLOBAL _zx_cls_pix_fastcall
650   0000              	GLOBAL _zx_cls_pix
651   0000              	GLOBAL _zx_cls_attr_fastcall
652   0000              	GLOBAL _zx_cls_attr
653   0000              	GLOBAL _zx_cls_fastcall
654   0000              	GLOBAL _zx_cls
655   0000              	GLOBAL _zx_border_fastcall
656   0000              	GLOBAL _zx_border
657   0000              	GLOBAL _spr_colision_b2
658   0000              	GLOBAL _spr_colision_b
659   0000              	GLOBAL _spr_unflatten
660   0000              	GLOBAL _spr_flatten
661   0000              	GLOBAL _spr_btile_paint_back
662   0000              	GLOBAL _spr_bullet_explode
663   0000              	GLOBAL _spr_init_effects
664   0000              	GLOBAL _spr_turn_horizontal
665   0000              	GLOBAL _spr_bullets_play
666   0000              	GLOBAL _spr_play_anim
667   0000              	GLOBAL _spr_add_anim
668   0000              	GLOBAL _spr_clear_scr
669   0000              	GLOBAL _spr_page_map
670   0000              	GLOBAL _spr_page_down
671   0000              	GLOBAL _spr_page_up
672   0000              	GLOBAL _spr_page_right
673   0000              	GLOBAL _spr_page_left
674   0000              	GLOBAL _spr_tile_paint
675   0000              	GLOBAL _spr_draw_index
676   0000              	GLOBAL _spr_brick_anim
677   0000              	GLOBAL _spr_back_repaint
678   0000              	GLOBAL _spr_tile
679   0000              	GLOBAL _spr_destroy
680   0000              	GLOBAL _spr_tile_dir
681   0000              	GLOBAL _spr_redraw
682   0000              	GLOBAL _spr_move_left
683   0000              	GLOBAL _spr_move_right
684   0000              	GLOBAL _spr_move_horizontal
685   0000              	GLOBAL _spr_move_down
686   0000              	GLOBAL _spr_move_up
687   0000              	GLOBAL _spr_set_right
688   0000              	GLOBAL _spr_set_left
689   0000              	GLOBAL _spr_set_down
690   0000              	GLOBAL _spr_set_up
691   0000              	GLOBAL _spr_calc_index
692   0000              	GLOBAL _spr_chktime
693   0000              	GLOBAL _player_fix_walk_lin
694   0000              	GLOBAL _player_gasta_brick
695   0000              	GLOBAL _player_lost_life
696   0000              	GLOBAL _player_hit
697   0000              	GLOBAL _player_open_door
698   0000              	GLOBAL _player_move_jump
699   0000              	GLOBAL _player_fire
700   0000              	GLOBAL _player_check_stairs_vertical
701   0000              	GLOBAL _player_check_stairs
702   0000              	GLOBAL _player_tile
703   0000              	GLOBAL _player_anim_tile
704   0000              	GLOBAL _player_pick_item
705   0000              	GLOBAL _player_check_floor
706   0000              	GLOBAL _player_hit_platform_clear
707   0000              	GLOBAL _player_score_add
708   0000              	GLOBAL _player_hit_platform
709   0000              	GLOBAL _player_move_input
710   0000              	GLOBAL _player_turn
711   0000              	GLOBAL _player_move
712   0000              	GLOBAL _player_check_input
713   0000              	GLOBAL _player_pick_mushroom
714   0000              	GLOBAL _player_collision
715   0000              	GLOBAL _player_init
716   0000              	GLOBAL _game_fill_row
717   0000              	GLOBAL _boss_draw
718   0000              	GLOBAL _boss_turn
719   0000              	GLOBAL _enemy_avoid_dead
720   0000              	GLOBAL _enemy_avoid_fall
721   0000              	GLOBAL _enemy_kill
722   0000              	GLOBAL _enemy_respawn
723   0000              	GLOBAL _enemy_init
724   0000              	GLOBAL _enemy_move
725   0000              	GLOBAL _enemy_turn
726   0000              	GLOBAL _enemy_static
727   0000              	GLOBAL _enemy_walk
728   0000              	GLOBAL _enemy_horizontal
729   0000              	GLOBAL _enemy_vertical
730   0000              	GLOBAL _ay_reset
731   0000              	GLOBAL _ay_song_stop
732   0000              	GLOBAL _ay_song_play
733   0000              	GLOBAL _ay_fx_stop
734   0000              	GLOBAL _ay_fx_play
735   0000              	GLOBAL _ay_is_playing
736   0000              	GLOBAL _test_func
737   0000              	GLOBAL _test_proc
738   0000              	GLOBAL _in_mouse_kempston_wheel_delta
739   0000              	GLOBAL _in_mouse_kempston_wheel
740   0000              	GLOBAL _in_mouse_kempston_callee
741   0000              	GLOBAL _in_mouse_kempston
742   0000              	GLOBAL _in_mouse_kempston_setpos_callee
743   0000              	GLOBAL _in_mouse_kempston_setpos
744   0000              	GLOBAL _in_mouse_kempston_reset
745   0000              	GLOBAL _in_mouse_kempston_init
746   0000              	GLOBAL _in_mouse_amx_wheel_delta
747   0000              	GLOBAL _in_mouse_amx_wheel
748   0000              	GLOBAL _in_mouse_amx_callee
749   0000              	GLOBAL _in_mouse_amx
750   0000              	GLOBAL _in_mouse_amx_setpos_callee
751   0000              	GLOBAL _in_mouse_amx_setpos
752   0000              	GLOBAL _in_mouse_amx_reset
753   0000              	GLOBAL _in_mouse_amx_init_callee
754   0000              	GLOBAL _in_mouse_amx_init
755   0000              	GLOBAL _in_stick_sinclair2
756   0000              	GLOBAL _in_stick_sinclair1
757   0000              	GLOBAL _in_stick_kempston
758   0000              	GLOBAL _in_stick_fuller
759   0000              	GLOBAL _in_stick_cursor
760   0000              	GLOBAL _in_stick_keyboard_fastcall
761   0000              	GLOBAL _in_stick_keyboard
762   0000              	GLOBAL _in_wait_nokey
763   0000              	GLOBAL _in_wait_key
764   0000              	GLOBAL _in_test_key
765   0000              	GLOBAL _in_pause_fastcall
766   0000              	GLOBAL _in_pause
767   0000              	GLOBAL _in_key_scancode_fastcall
768   0000              	GLOBAL _in_key_scancode
769   0000              	GLOBAL _in_key_pressed_fastcall
770   0000              	GLOBAL _in_key_pressed
771   0000              	GLOBAL _in_inkey
772   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
773   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
774   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
775   0000              	GLOBAL _NIRVANAP_HOLE
776   0000              	GLOBAL _NIRVANAP_ISR_HOOK
777   0000              	GLOBAL _scan_map
778   0000              	GLOBAL _key_map
779   0000              	GLOBAL _player_lvl_table
780   0000              	GLOBAL _stp_row
781   0000              	GLOBAL _stp_col
782   0000              	GLOBAL _stp_tile
783   0000              	GLOBAL _map_paper_last_a
784   0000              	GLOBAL _map_paper_last
785   0000              	GLOBAL _map_paper_clr
786   0000              	GLOBAL _map_paper
787   0000              	GLOBAL _draw_count
788   0000              	GLOBAL _g_player_hit_right
789   0000              	GLOBAL _g_player_hit_left
790   0000              	GLOBAL _bullet_count
791   0000              	GLOBAL _spr_hack
792   0000              	GLOBAL _boss_stat
793   0000              	GLOBAL _boss_time_fire
794   0000              	GLOBAL _boss_time
795   0000              	GLOBAL _boss_tile
796   0000              	GLOBAL _boss_inc
797   0000              	GLOBAL _boss_col
798   0000              	GLOBAL _boss_lin
799   0000              	GLOBAL _bullet
800   0000              	GLOBAL _bullet_vel
801   0000              	GLOBAL _bullet_frames
802   0000              	GLOBAL _bullet_colint
803   0000              	GLOBAL _bullet_dir
804   0000              	GLOBAL _bullet_tile
805   0000              	GLOBAL _bullet_col
806   0000              	GLOBAL _bullet_lin
807   0000              	GLOBAL _bullet_col0
808   0000              	GLOBAL _bullet_lin0
809   0000              	GLOBAL _bullet_max
810   0000              	GLOBAL _bullet_class
811   0000              	GLOBAL _mush_class
812   0000              	GLOBAL _mush_index
813   0000              	GLOBAL _anim_count
814   0000              	GLOBAL _anim_respanwn
815   0000              	GLOBAL _anim_loop
816   0000              	GLOBAL _anim_end
817   0000              	GLOBAL _anim_int
818   0000              	GLOBAL _anim_tile
819   0000              	GLOBAL _anim_col
820   0000              	GLOBAL _anim_lin
821   0000              	GLOBAL _map_heigth
822   0000              	GLOBAL _map_width
823   0000              	GLOBAL _scr_curr
824   0000              	GLOBAL _sprite_kind
825   0000              	GLOBAL _scr_obj1
826   0000              	GLOBAL _scr_obj0
827   0000              	GLOBAL _scr_map
828   0000              	GLOBAL _sprite_speed_alt
829   0000              	GLOBAL _spr_init
830   0000              	GLOBAL _spr_map_tile
831   0000              	GLOBAL _sprite_frames
832   0000              	GLOBAL _sprite_speed
833   0000              	GLOBAL _screen_ink
834   0000              	GLOBAL _screen_paper
835   0000              	GLOBAL _player_onstair
836   0000              	GLOBAL _game_start_scr
837   0000              	GLOBAL _game_respawn_tile
838   0000              	GLOBAL _game_respawn_index
839   0000              	GLOBAL _game_respawn_time
840   0000              	GLOBAL _game_score_top
841   0000              	GLOBAL _player_coins
842   0000              	GLOBAL _player_lives
843   0000              	GLOBAL _game_over
844   0000              	GLOBAL _game_sound
845   0000              	GLOBAL _game_inf_lives
846   0000              	GLOBAL _game_inmune
847   0000              	GLOBAL _sprite_curr_index
848   0000              	GLOBAL _spr_count
849   0000              	GLOBAL _bullet_time
850   0000              	GLOBAL _anim_time
851   0000              	GLOBAL _frame_time
852   0000              	GLOBAL _curr_time
853   0000              	GLOBAL _s_state
854   0000              	GLOBAL _attrib_osd
855   0000              	GLOBAL _attrib_hl
856   0000              	GLOBAL _attrib
857   0000              	GLOBAL _zx_val_asm
858   0000              	GLOBAL _enemies
859   0000              	GLOBAL _tmp_ui
860   0000              	GLOBAL _tmp_sc
861   0000              	GLOBAL _tmp_uc
862   0000              	GLOBAL _tmp1
863   0000              	GLOBAL _tmp0
864   0000              	GLOBAL _tmp
865   0000              	GLOBAL _index1
866   0000              	GLOBAL _index0
867   0000              	GLOBAL _loop_count
868   0000              	GLOBAL _s_class
869   0000              	GLOBAL _s_col1
870   0000              	GLOBAL _s_col0
871   0000              	GLOBAL _s_lin1
872   0000              	GLOBAL _s_lin0
873   0000              	GLOBAL _s_tile1
874   0000              	GLOBAL _s_tile0
875   0000              	GLOBAL _player_brick_time
876   0000              	GLOBAL _player_hit_count
877   0000              	GLOBAL _game_show_fps
878   0000              	GLOBAL _sprite_horizontal_check
879   0000              	GLOBAL _sprite_on_air
880   0000              	GLOBAL _sprite
881   0000              	GLOBAL _fps
882   0000              	GLOBAL _game_2buttons
883   0000              	GLOBAL _game_respawn_curr_time
884   0000              	GLOBAL _game_worldup
885   0000              	GLOBAL _game_mush_count
886   0000              	GLOBAL _game_boss_fix
887   0000              	GLOBAL _game_boss_hit
888   0000              	GLOBAL _game_boss_alive
889   0000              	GLOBAL _game_boss
890   0000              	GLOBAL _game_world
891   0000              	GLOBAL _game_gravity
892   0000              	GLOBAL _player_onfire
893   0000              	GLOBAL _player_anim_stair
894   0000              	GLOBAL _player_hit_time
895   0000              	GLOBAL _game_checkpoint_scr
896   0000              	GLOBAL _game_checkpoint_lin
897   0000              	GLOBAL _game_checkpoint_col
898   0000              	GLOBAL _player_lin_scr
899   0000              	GLOBAL _player_col_scr
900   0000              	GLOBAL _player_lvl
901   0000              	GLOBAL _player_int
902   0000              	GLOBAL _player_str
903   0000              	GLOBAL _player_max_vita
904   0000              	GLOBAL _player_max_mana
905   0000              	GLOBAL _player_vita
906   0000              	GLOBAL _player_mana
907   0000              	GLOBAL _player_keys
908   0000              	GLOBAL _player_vel_inc
909   0000              	GLOBAL _player_vel_y1
910   0000              	GLOBAL _player_vel_y0
911   0000              	GLOBAL _player_vel_y
912   0000              	GLOBAL _player_vel_x
913   0000              	GLOBAL _player_score
914   0000              	GLOBAL _last_time
915   0000              	GLOBAL _player_slide
916   0000              	GLOBAL _spr_timer
917   0000              	GLOBAL _jump_lin
918   0000              	GLOBAL _player_hit_col
919   0000              	GLOBAL _player_hit_lin
920   0000              	GLOBAL _colint
921   0000              	GLOBAL _col
922   0000              	GLOBAL _lin
923   0000              	GLOBAL _tile
924   0000              	GLOBAL _state_a
925   0000              	GLOBAL _state
926   0000              	GLOBAL _class
927   0000              	GLOBAL _tbuffer
928   0000              	GLOBAL _dirs_alt
929   0000              	GLOBAL _dirs
930   0000              	GLOBAL _k2
931   0000              	GLOBAL _k1
932   0000              	GLOBAL _joyfunc2
933   0000              	GLOBAL _joyfunc1
934   0000              	GLOBAL _btiles
935   0000              	GLOBAL _spec128
936   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
937   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
938   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
939   0000              	GLOBAL _ay_song_06_ciel
940   0000              	GLOBAL _ay_song_04_sunflower
941   0000              	GLOBAL _ay_song_04_lotr_level_start
942   0000              	GLOBAL _ay_song_04_lotr_level_complete
943   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
944   0000              	GLOBAL _ay_song_04_lotr
945   0000              	GLOBAL _ay_fx_06_explosion1
946   0000              	GLOBAL _ay_fx_06_efecto
947   0000              	GLOBAL _ay_fx_06_disparo2
948   0000              	GLOBAL _ay_fx_06_disparo1
949   0000              	GLOBAL _ay_fx_04_sin_mana
950   0000              	GLOBAL _ay_fx_04_salto
951   0000              	GLOBAL _ay_fx_04_pierto_abierta
952   0000              	GLOBAL _ay_fx_04_magia1
953   0000              	GLOBAL _ay_fx_04_golpe
954   0000              	GLOBAL _ay_fx_04_explosion
955   0000              	GLOBAL _ay_fx_04_dano_por_toque
956   0000              	GLOBAL _ay_fx_04_coin
957   0000              	GLOBAL _world0_h
958   0000              	GLOBAL _world0_w
959   0000              	GLOBAL _world0
960   0000              	GLOBAL _paper0
961   0000              	GLOBAL _lenght0
962   0000              	GLOBAL _start_scr0
963   0000              ;--------------------------------------------------------
964   0000              ; special function registers
965   0000              ;--------------------------------------------------------
966   0000              defc _IO_FE	=	0x00fe
967   0000              defc _IO_1FFD	=	0x1ffd
968   0000              defc _IO_7FFD	=	0x7ffd
969   0000              ;--------------------------------------------------------
970   0000              ; ram data
971   0000              ;--------------------------------------------------------
972   0000              	SECTION bss_compiler
973   0000              ;--------------------------------------------------------
974   0000              ; ram data
975   0000              ;--------------------------------------------------------
976   0000              
977   0000              IF 0
978   0000              
979   0000              ; .area _INITIALIZED removed by z88dk
980   0000              
981   0000              
982   0000              ENDIF
983   0000              
984   0000              ;--------------------------------------------------------
985   0000              ; absolute external ram data
986   0000              ;--------------------------------------------------------
987   0000              	SECTION IGNORE
988   0000              ;--------------------------------------------------------
989   0000              ; global & static initialisations
990   0000              ;--------------------------------------------------------
991   0000              	SECTION code_crt_init
992   0000              ;--------------------------------------------------------
993   0000              ; Home
994   0000              ;--------------------------------------------------------
995   0000              	SECTION IGNORE
996   0000              ;--------------------------------------------------------
997   0000              ; code
998   0000              ;--------------------------------------------------------
999   0000              	SECTION code_compiler
1000  0000              ;	---------------------------------
1001  0000              ; Function game_loop
1002  0000              ; ---------------------------------
1003  0000              _game_loop:
1004  0000  CD 94 07    	call	_game_round_init
1005  0003              l_game_loop_00121:
1006  0003  3A 00 00    	ld	a,(_game_over)
1007  0006  B7          	or	a, a
1008  0007  C2 E4 00    	jp	NZ, l_game_loop_00124
1009  000A              l_game_loop_00116:
1010  000A  3A 00 00    	ld	a,(_game_worldup)
1011  000D  B7          	or	a, a
1012  000E  C2 A3 00    	jp	NZ, l_game_loop_00118
1013  0011  3A 00 00    	ld	a,(_game_over)
1014  0014  B7          	or	a, a
1015  0015  C2 A3 00    	jp	NZ, l_game_loop_00118
1016  0018  CD 00 00    	call	_enemy_turn
1017  001B  CD 00 00    	call	_player_turn
1018  001E  3A 00 00    	ld	a,(_game_boss)
1019  0021  B7          	or	a, a
1020  0022  28 03       	jr	Z,l_game_loop_00102
1021  0024  CD 00 00    	call	_boss_turn
1022  0027              l_game_loop_00102:
1023  0027  3E 02       	ld	a,0x02
1024  0029  F5          	push	af
1025  002A  33          	inc	sp
1026  002B  21 00 00    	ld	hl,_bullet_time
1027  002E  E5          	push	hl
1028  002F  CD D3 0B    	call	_game_check_time
1029  0032  F1          	pop	af
1030  0033  33          	inc	sp
1031  0034  7D          	ld	a, l
1032  0035  B7          	or	a, a
1033  0036  28 0F       	jr	Z,l_game_loop_00106
1034  0038  2A 00 00    	ld	hl,(_curr_time)
1035  003B  22 00 00    	ld	(_bullet_time),hl
1036  003E  3A 00 00    	ld	a,(_bullet_count)
1037  0041  B7          	or	a,a
1038  0042  28 03       	jr	Z,l_game_loop_00106
1039  0044  CD 00 00    	call	_spr_bullets_play
1040  0047              l_game_loop_00106:
1041  0047  3E 08       	ld	a,0x08
1042  0049  F5          	push	af
1043  004A  33          	inc	sp
1044  004B  21 00 00    	ld	hl,_anim_time
1045  004E  E5          	push	hl
1046  004F  CD D3 0B    	call	_game_check_time
1047  0052  F1          	pop	af
1048  0053  33          	inc	sp
1049  0054  7D          	ld	a, l
1050  0055  B7          	or	a, a
1051  0056  28 14       	jr	Z,l_game_loop_00110
1052  0058  2E 00       	ld	l,0x00
1053  005A  CD 00 00    	call	_zx_border_fastcall
1054  005D  2A 00 00    	ld	hl,(_curr_time)
1055  0060  22 00 00    	ld	(_anim_time),hl
1056  0063  3A 00 00    	ld	a,(_anim_count)
1057  0066  B7          	or	a,a
1058  0067  28 03       	jr	Z,l_game_loop_00110
1059  0069  CD 00 00    	call	_spr_play_anim
1060  006C              l_game_loop_00110:
1061  006C  3E 64       	ld	a,0x64
1062  006E  F5          	push	af
1063  006F  33          	inc	sp
1064  0070  21 00 00    	ld	hl,_frame_time
1065  0073  E5          	push	hl
1066  0074  CD D3 0B    	call	_game_check_time
1067  0077  F1          	pop	af
1068  0078  33          	inc	sp
1069  0079  7D          	ld	a, l
1070  007A  B7          	or	a, a
1071  007B  28 12       	jr	Z,l_game_loop_00114
1072  007D  2A 00 00    	ld	hl,(_curr_time)
1073  0080  22 00 00    	ld	(_frame_time),hl
1074  0083  3A 00 00    	ld	a,(_game_show_fps)
1075  0086  B7          	or	a,a
1076  0087  28 03       	jr	Z,l_game_loop_00112
1077  0089  CD E5 00    	call	_game_fps
1078  008C              l_game_loop_00112:
1079  008C  CD FC 00    	call	_game_respawn
1080  008F              l_game_loop_00114:
1081  008F  21 00 00    	ld	hl,_loop_count
1082  0092  34          	inc	(hl)
1083  0093  20 02       	jr	NZ,l_game_loop_00174
1084  0095  23          	inc	hl
1085  0096  34          	inc	(hl)
1086  0097              l_game_loop_00174:
1087  0097  21 00 00    	ld	hl,_fps
1088  009A  34          	inc	(hl)
1089  009B  C2 0A 00    	jp	NZ,l_game_loop_00116
1090  009E  23          	inc	hl
1091  009F  34          	inc	(hl)
1092  00A0  C3 0A 00    	jp	l_game_loop_00116
1093  00A3              l_game_loop_00118:
1094  00A3  21 00 00    	ld	hl,_game_worldup
1095  00A6  7E          	ld	a, (hl)
1096  00A7  B7          	or	a, a
1097  00A8  CA 03 00    	jp	Z, l_game_loop_00121
1098  00AB  36 00       	ld	(hl),0x00
1099  00AD  21 00 00    	ld	hl,_game_respawn_curr_time
1100  00B0  7E          	ld	a, (hl)
1101  00B1  C6 E0       	add	a,0xe0
1102  00B3  77          	ld	(hl), a
1103  00B4  21 00 00    	ld	hl,_game_world
1104  00B7  34          	inc	(hl)
1105  00B8  21 00 00    	ld	hl,_game_boss_alive
1106  00BB  36 01       	ld	(hl),0x01
1107  00BD  21 00 00    	ld	hl,_game_boss
1108  00C0  36 00       	ld	(hl),0x00
1109  00C2  21 00 00    	ld	hl,_scr_curr
1110  00C5  36 FF       	ld	(hl),0xff
1111  00C7  21 00 00    	ld	hl,_player_lin_scr
1112  00CA  36 00       	ld	(hl),0x00
1113  00CC  21 00 00    	ld	hl,_player_col_scr
1114  00CF  36 00       	ld	(hl),0x00
1115  00D1  CD 12 10    	call	_game_obj_clear
1116  00D4  21 00 00    	ld	hl,_player_col_scr
1117  00D7  36 02       	ld	(hl),0x02
1118  00D9  21 00 00    	ld	hl,_player_lin_scr
1119  00DC  36 80       	ld	(hl),0x80
1120  00DE  CD 94 07    	call	_game_round_init
1121  00E1  C3 03 00    	jp	l_game_loop_00121
1122  00E4              l_game_loop_00124:
1123  00E4  C9          	ret
1124  00E5              	SECTION code_compiler
1125  00E5              ;	---------------------------------
1126  00E5              ; Function game_fps
1127  00E5              ; ---------------------------------
1128  00E5              _game_fps:
1129  00E5  21 00 00    	ld	hl,_screen_ink
1130  00E8  36 07       	ld	(hl),0x07
1131  00EA  2A 00 00    	ld	hl,(_fps)
1132  00ED  E5          	push	hl
1133  00EE  21 17 18    	ld	hl,0x1817
1134  00F1  E5          	push	hl
1135  00F2  CD 00 00    	call	_zx_print_int
1136  00F5  21 00 00    	ld	hl,0x0000
1137  00F8  22 00 00    	ld	(_fps),hl
1138  00FB  C9          	ret
1139  00FC              	SECTION code_compiler
1140  00FC              ;	---------------------------------
1141  00FC              ; Function game_respawn
1142  00FC              ; ---------------------------------
1143  00FC              _game_respawn:
1144  00FC  21 00 00    	ld	hl,_sprite
1145  00FF  36 00       	ld	(hl),0x00
1146  0101              l_game_respawn_00105:
1147  0101  21 00 00    	ld	hl,_sprite
1148  0104  7E          	ld	a, (hl)
1149  0105  D6 07       	sub	a,0x07
1150  0107  D2 97 01    	jp	NC, l_game_respawn_00108
1151  010A  01 00 00    	ld	bc,_game_respawn_time+0
1152  010D  6E          	ld	l,(hl)
1153  010E  26 00       	ld	h,0x00
1154  0110  29          	add	hl, hl
1155  0111  09          	add	hl, bc
1156  0112  5E          	ld	e,(hl)
1157  0113  23          	inc	hl
1158  0114  56          	ld	d,(hl)
1159  0115  2B          	dec	hl
1160  0116  7A          	ld	a, d
1161  0117  B3          	or	a,e
1162  0118  28 76       	jr	Z,l_game_respawn_00104
1163  011A  3A 00 00    	ld	a,(_game_respawn_curr_time)
1164  011D  EB          	ex	de,hl
1165  011E  C5          	push	bc
1166  011F  F5          	push	af
1167  0120  33          	inc	sp
1168  0121  D5          	push	de
1169  0122  CD D3 0B    	call	_game_check_time
1170  0125  F1          	pop	af
1171  0126  33          	inc	sp
1172  0127  C1          	pop	bc
1173  0128  7D          	ld	a,l
1174  0129  B7          	or	a, a
1175  012A  28 64       	jr	Z,l_game_respawn_00104
1176  012C  2A 00 00    	ld	hl,(_sprite)
1177  012F  26 00       	ld	h,0x00
1178  0131  11 00 00    	ld	de,_game_respawn_index
1179  0134  19          	add	hl,de
1180  0135  7E          	ld	a,(hl)
1181  0136  6F          	ld	l,a
1182  0137  26 00       	ld	h,0x00
1183  0139  22 00 00    	ld	(_index1),hl
1184  013C  5F          	ld	e,a
1185  013D  E6 0F       	and	a,0x0f
1186  013F  87          	add	a, a
1187  0140  32 00 00    	ld	(_s_col1),a
1188  0143  21 00 00    	ld	hl,_s_lin1
1189  0146  73          	ld	(hl),e
1190  0147  7B          	ld	a,e
1191  0148  07          	rlca
1192  0149  07          	rlca
1193  014A  07          	rlca
1194  014B  07          	rlca
1195  014C  E6 0F       	and	a,0x0f
1196  014E  07          	rlca
1197  014F  07          	rlca
1198  0150  07          	rlca
1199  0151  07          	rlca
1200  0152  E6 F0       	and	a,0xf0
1201  0154  77          	ld	(hl), a
1202  0155  11 00 00    	ld	de,_scr_map
1203  0158  2A 00 00    	ld	hl,(_index1)
1204  015B  19          	add	hl,de
1205  015C  EB          	ex	de,hl
1206  015D  21 00 00    	ld	hl,_sprite
1207  0160  7E          	ld	a, (hl)
1208  0161  C6 80       	add	a,0x80
1209  0163  12          	ld	(de), a
1210  0164  6E          	ld	l,(hl)
1211  0165  26 00       	ld	h,0x00
1212  0167  29          	add	hl, hl
1213  0168  09          	add	hl, bc
1214  0169  AF          	xor	a, a
1215  016A  77          	ld	(hl), a
1216  016B  23          	inc	hl
1217  016C  77          	ld	(hl), a
1218  016D  2A 00 00    	ld	hl,(_sprite)
1219  0170  26 00       	ld	h,0x00
1220  0172  01 00 00    	ld	bc,_game_respawn_tile
1221  0175  09          	add	hl,bc
1222  0176  7E          	ld	a,(hl)
1223  0177  F5          	push	af
1224  0178  33          	inc	sp
1225  0179  21 03 04    	ld	hl,0x0403
1226  017C  E5          	push	hl
1227  017D  2A 00 00    	ld	hl,(_s_col1)
1228  0180  26 8A       	ld	h,0x8a
1229  0182  3A 00 00    	ld	a,(_s_lin1)
1230  0185  E5          	push	hl
1231  0186  F5          	push	af
1232  0187  33          	inc	sp
1233  0188  CD 00 00    	call	_spr_add_anim
1234  018B  F1          	pop	af
1235  018C  F1          	pop	af
1236  018D  F1          	pop	af
1237  018E  18 07       	jr	l_game_respawn_00108
1238  0190              l_game_respawn_00104:
1239  0190  21 00 00    	ld	hl,_sprite
1240  0193  34          	inc	(hl)
1241  0194  C3 01 01    	jp	l_game_respawn_00105
1242  0197              l_game_respawn_00108:
1243  0197  C9          	ret
1244  0198              	SECTION code_compiler
1245  0198              ;	---------------------------------
1246  0198              ; Function game_draw_screen
1247  0198              ; ---------------------------------
1248  0198              _game_draw_screen:
1249  0198  CD 00 00    	call	___sdcc_enter_ix
1250  019B  F5          	push	af
1251  019C  76          	halt
1252  019D  21 00 00    	ld	hl,_game_boss
1253  01A0  36 00       	ld	(hl),0x00
1254  01A2  21 00 00    	ld	hl,_game_boss_fix
1255  01A5  36 00       	ld	(hl),0x00
1256  01A7  2A 00 00    	ld	hl,(_curr_time)
1257  01AA  22 00 00    	ld	(_player_brick_time),hl
1258  01AD  21 00 00    	ld	hl,_spr_count
1259  01B0  36 00       	ld	(hl),0x00
1260  01B2  CD 00 00    	call	_spr_init_effects
1261  01B5  01 00 00    	ld	bc,_game_respawn_time+0
1262  01B8              l_game_draw_screen_00101:
1263  01B8  21 00 00    	ld	hl,_spr_count
1264  01BB  7E          	ld	a, (hl)
1265  01BC  D6 07       	sub	a,0x07
1266  01BE  30 46       	jr	NC,l_game_draw_screen_00103
1267  01C0  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1268  01C2  86          	add	a, (hl)
1269  01C3  5F          	ld	e, a
1270  01C4  3E 00       	ld	a, +((_game_respawn_index) / 256)
1271  01C6  CE 00       	adc	a,0x00
1272  01C8  57          	ld	d, a
1273  01C9  AF          	xor	a, a
1274  01CA  12          	ld	(de), a
1275  01CB  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1276  01CD  86          	add	a, (hl)
1277  01CE  5F          	ld	e, a
1278  01CF  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1279  01D1  CE 00       	adc	a,0x00
1280  01D3  57          	ld	d, a
1281  01D4  AF          	xor	a, a
1282  01D5  12          	ld	(de), a
1283  01D6  6E          	ld	l,(hl)
1284  01D7  26 00       	ld	h,0x00
1285  01D9  29          	add	hl, hl
1286  01DA  09          	add	hl, bc
1287  01DB  AF          	xor	a, a
1288  01DC  77          	ld	(hl), a
1289  01DD  23          	inc	hl
1290  01DE  77          	ld	(hl), a
1291  01DF  2A 00 00    	ld	hl,(_spr_count)
1292  01E2  26 00       	ld	h,0x00
1293  01E4  11 00 00    	ld	de,_mush_index
1294  01E7  19          	add	hl,de
1295  01E8  AF          	xor	a,a
1296  01E9  77          	ld	(hl),a
1297  01EA  2A 00 00    	ld	hl,(_spr_count)
1298  01ED  26 00       	ld	h,0x00
1299  01EF  11 00 00    	ld	de,_mush_class
1300  01F2  19          	add	hl,de
1301  01F3  AF          	xor	a,a
1302  01F4  77          	ld	(hl),a
1303  01F5  2A 00 00    	ld	hl,(_spr_count)
1304  01F8  26 00       	ld	h,0x00
1305  01FA  11 00 00    	ld	de,_class
1306  01FD  19          	add	hl,de
1307  01FE  AF          	xor	a,a
1308  01FF  77          	ld	(hl),a
1309  0200  21 00 00    	ld	hl,_spr_count
1310  0203  34          	inc	(hl)
1311  0204  18 B2       	jr	l_game_draw_screen_00101
1312  0206              l_game_draw_screen_00103:
1313  0206  21 10 00    	ld	hl,0x0010
1314  0209  22 00 00    	ld	(_index1),hl
1315  020C  21 00 00    	ld	hl,_s_lin1
1316  020F  36 00       	ld	(hl),0x00
1317  0211  21 00 00    	ld	hl,_s_col1
1318  0214  36 02       	ld	(hl),0x02
1319  0216  21 00 00    	ld	hl,_spr_count
1320  0219  36 00       	ld	(hl),0x00
1321  021B  F3          	di
1322  021C  DD 36 FF 00 	ld	(ix-1),0x00
1323  0220              l_game_draw_screen_00127:
1324  0220  21 00 00    	ld	hl,_index1
1325  0223  7E          	ld	a, (hl)
1326  0224  D6 A0       	sub	a,0xa0
1327  0226  23          	inc	hl
1328  0227  7E          	ld	a, (hl)
1329  0228  DE 00       	sbc	a,0x00
1330  022A  D2 4E 03    	jp	NC, l_game_draw_screen_00129
1331  022D  2B          	dec	hl
1332  022E  7E          	ld	a, (hl)
1333  022F  E6 0F       	and	a,0x0f
1334  0231  20 0C       	jr	NZ,l_game_draw_screen_00105
1335  0233  21 00 00    	ld	hl,_s_lin1
1336  0236  7E          	ld	a, (hl)
1337  0237  C6 10       	add	a,0x10
1338  0239  77          	ld	(hl), a
1339  023A  21 00 00    	ld	hl,_s_col1
1340  023D  36 00       	ld	(hl),0x00
1341  023F              l_game_draw_screen_00105:
1342  023F  01 00 00    	ld	bc,_scr_map
1343  0242  2A 00 00    	ld	hl,(_index1)
1344  0245  09          	add	hl,bc
1345  0246  7E          	ld	a,(hl)
1346  0247  DD 77 FE    	ld	(ix-2),a
1347  024A  D6 60       	sub	a,0x60
1348  024C  30 67       	jr	NC,l_game_draw_screen_00125
1349  024E  DD 7E FE    	ld	a,(ix-2)
1350  0251  D6 5D       	sub	a,0x5d
1351  0253  20 04       	jr	NZ,l_game_draw_screen_00197
1352  0255  3E 01       	ld	a,0x01
1353  0257  18 01       	jr	l_game_draw_screen_00198
1354  0259              l_game_draw_screen_00197:
1355  0259  AF          	xor	a,a
1356  025A              l_game_draw_screen_00198:
1357  025A  4F          	ld	c,a
1358  025B  B7          	or	a, a
1359  025C  20 07       	jr	NZ,l_game_draw_screen_00111
1360  025E  DD 7E FE    	ld	a,(ix-2)
1361  0261  D6 5A       	sub	a,0x5a
1362  0263  20 2E       	jr	NZ,l_game_draw_screen_00112
1363  0265              l_game_draw_screen_00111:
1364  0265  21 00 00    	ld	hl,_index1
1365  0268  7E          	ld	a, (hl)
1366  0269  C6 F0       	add	a,0xf0
1367  026B  47          	ld	b, a
1368  026C  23          	inc	hl
1369  026D  7E          	ld	a, (hl)
1370  026E  CE FF       	adc	a,0xff
1371  0270  5F          	ld	e, a
1372  0271  C5          	push	bc
1373  0272  68          	ld	l, b
1374  0273  63          	ld	h, e
1375  0274  CD DB 0F    	call	_game_obj_chk
1376  0277  C1          	pop	bc
1377  0278  7D          	ld	a,l
1378  0279  B7          	or	a, a
1379  027A  28 0F       	jr	Z,l_game_draw_screen_00109
1380  027C  01 00 00    	ld	bc,_scr_map
1381  027F  2A 00 00    	ld	hl,(_index1)
1382  0282  09          	add	hl,bc
1383  0283  36 4F       	ld	(hl),0x4f
1384  0285  DD 36 FE 4F 	ld	(ix-2),0x4f
1385  0289  18 08       	jr	l_game_draw_screen_00112
1386  028B              l_game_draw_screen_00109:
1387  028B  79          	ld	a, c
1388  028C  B7          	or	a, a
1389  028D  28 04       	jr	Z,l_game_draw_screen_00112
1390  028F  DD 36 FE 00 	ld	(ix-2),0x00
1391  0293              l_game_draw_screen_00112:
1392  0293  DD 7E FE    	ld	a,(ix-2)
1393  0296  D6 23       	sub	a,0x23
1394  0298  20 09       	jr	NZ,l_game_draw_screen_00115
1395  029A  2A 00 00    	ld	hl,(_index1)
1396  029D  CD 31 11    	call	_game_match_back
1397  02A0  DD 75 FE    	ld	(ix-2),l
1398  02A3              l_game_draw_screen_00115:
1399  02A3  3A 00 00    	ld	a,(_s_col1)
1400  02A6  F5          	push	af
1401  02A7  33          	inc	sp
1402  02A8  2A FF FF    	ld	hl,(_s_lin1-1)
1403  02AB  DD 6E FE    	ld	l,(ix-2)
1404  02AE  E5          	push	hl
1405  02AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1406  02B2  C3 3D 03    	jp	l_game_draw_screen_00126
1407  02B5              l_game_draw_screen_00125:
1408  02B5  3E 78       	ld	a,0x78
1409  02B7  DD 96 FE    	sub	a,(ix-2)
1410  02BA  38 2D       	jr	C,l_game_draw_screen_00122
1411  02BC  3A 00 00    	ld	a,(_spr_count)
1412  02BF  D6 08       	sub	a,0x08
1413  02C1  30 53       	jr	NC,l_game_draw_screen_00123
1414  02C3  3A 00 00    	ld	a,(_game_boss_alive)
1415  02C6  B7          	or	a, a
1416  02C7  28 4D       	jr	Z,l_game_draw_screen_00123
1417  02C9  2A 00 00    	ld	hl,(_spr_count)
1418  02CC  26 00       	ld	h,0x00
1419  02CE  01 00 00    	ld	bc,_game_respawn_index
1420  02D1  09          	add	hl,bc
1421  02D2  3A 00 00    	ld	a,(_index1)
1422  02D5  77          	ld	(hl),a
1423  02D6  2A 00 00    	ld	hl,(_spr_count)
1424  02D9  26 00       	ld	h,0x00
1425  02DB  01 00 00    	ld	bc,_game_respawn_tile
1426  02DE  09          	add	hl,bc
1427  02DF  DD 7E FE    	ld	a,(ix-2)
1428  02E2  77          	ld	(hl),a
1429  02E3  6F          	ld	l,a
1430  02E4  CD 23 04    	call	_game_add_enemy
1431  02E7  18 2D       	jr	l_game_draw_screen_00123
1432  02E9              l_game_draw_screen_00122:
1433  02E9  2A 00 00    	ld	hl,(_index1)
1434  02EC  CD DB 0F    	call	_game_obj_chk
1435  02EF  7D          	ld	a, l
1436  02F0  B7          	or	a, a
1437  02F1  20 23       	jr	NZ,l_game_draw_screen_00123
1438  02F3  3E 00       	ld	a, +((_mush_index) & 0xFF)
1439  02F5  DD 86 FF    	add	a,(ix-1)
1440  02F8  4F          	ld	c, a
1441  02F9  3E 00       	ld	a, +((_mush_index) / 256)
1442  02FB  CE 00       	adc	a,0x00
1443  02FD  47          	ld	b, a
1444  02FE  3A 00 00    	ld	a,(_index1)
1445  0301  C6 10       	add	a,0x10
1446  0303  02          	ld	(bc), a
1447  0304  3E 00       	ld	a, +((_mush_class) & 0xFF)
1448  0306  DD 86 FF    	add	a,(ix-1)
1449  0309  4F          	ld	c, a
1450  030A  3E 00       	ld	a, +((_mush_class) / 256)
1451  030C  CE 00       	adc	a,0x00
1452  030E  47          	ld	b, a
1453  030F  DD 7E FE    	ld	a,(ix-2)
1454  0312  02          	ld	(bc), a
1455  0313  DD 34 FF    	inc	(ix-1)
1456  0316              l_game_draw_screen_00123:
1457  0316  2A 00 00    	ld	hl,(_index1)
1458  0319  01 00 00    	ld	bc,_scr_map
1459  031C  09          	add	hl,bc
1460  031D  E5          	push	hl
1461  031E  2A 00 00    	ld	hl,(_index1)
1462  0321  CD 31 11    	call	_game_match_back
1463  0324  C1          	pop	bc
1464  0325  7D          	ld	a,l
1465  0326  02          	ld	(bc), a
1466  0327  01 00 00    	ld	bc,_scr_map
1467  032A  2A 00 00    	ld	hl,(_index1)
1468  032D  09          	add	hl,bc
1469  032E  46          	ld	b, (hl)
1470  032F  3A 00 00    	ld	a,(_s_col1)
1471  0332  F5          	push	af
1472  0333  33          	inc	sp
1473  0334  3A 00 00    	ld	a,(_s_lin1)
1474  0337  48          	ld	c,b
1475  0338  47          	ld	b,a
1476  0339  C5          	push	bc
1477  033A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1478  033D              l_game_draw_screen_00126:
1479  033D  21 00 00    	ld	hl,_s_col1
1480  0340  34          	inc	(hl)
1481  0341  34          	inc	(hl)
1482  0342  21 00 00    	ld	hl,_index1
1483  0345  34          	inc	(hl)
1484  0346  C2 20 02    	jp	NZ,l_game_draw_screen_00127
1485  0349  23          	inc	hl
1486  034A  34          	inc	(hl)
1487  034B  C3 20 02    	jp	l_game_draw_screen_00127
1488  034E              l_game_draw_screen_00129:
1489  034E  FB          	ei
1490  034F  3A 00 00    	ld	a,(_game_boss_fix)
1491  0352  B7          	or	a, a
1492  0353  28 03       	jr	Z,l_game_draw_screen_00132
1493  0355  CD 5C 10    	call	_game_boss_clear
1494  0358              l_game_draw_screen_00132:
1495  0358  F1          	pop	af
1496  0359  DD E1       	pop	ix
1497  035B  C9          	ret
1498  035C              	SECTION code_compiler
1499  035C              ;	---------------------------------
1500  035C              ; Function game_boss_kill
1501  035C              ; ---------------------------------
1502  035C              _game_boss_kill:
1503  035C  21 00 00    	ld	hl,_game_boss
1504  035F  36 00       	ld	(hl),0x00
1505  0361  21 00 00    	ld	hl,_game_boss_alive
1506  0364  36 00       	ld	(hl),0x00
1507  0366  3A 00 00    	ld	a,(_boss_col)
1508  0369  21 00 00    	ld	hl,0x0000
1509  036C  E5          	push	hl
1510  036D  21 87 03    	ld	hl,0x0387
1511  0370  E5          	push	hl
1512  0371  F5          	push	af
1513  0372  33          	inc	sp
1514  0373  3A 00 00    	ld	a,(_boss_lin)
1515  0376  F5          	push	af
1516  0377  33          	inc	sp
1517  0378  CD 00 00    	call	_spr_add_anim
1518  037B  F1          	pop	af
1519  037C  F1          	pop	af
1520  037D  F1          	pop	af
1521  037E  21 00 00    	ld	hl,_boss_col
1522  0381  46          	ld	b, (hl)
1523  0382  04          	inc	b
1524  0383  04          	inc	b
1525  0384  21 00 00    	ld	hl,0x0000
1526  0387  E5          	push	hl
1527  0388  21 87 03    	ld	hl,0x0387
1528  038B  E5          	push	hl
1529  038C  C5          	push	bc
1530  038D  33          	inc	sp
1531  038E  3A 00 00    	ld	a,(_boss_lin)
1532  0391  F5          	push	af
1533  0392  33          	inc	sp
1534  0393  CD 00 00    	call	_spr_add_anim
1535  0396  F1          	pop	af
1536  0397  F1          	pop	af
1537  0398  F1          	pop	af
1538  0399  3A 00 00    	ld	a,(_boss_lin)
1539  039C  C6 10       	add	a,0x10
1540  039E  47          	ld	b, a
1541  039F  3A 00 00    	ld	a,(_boss_col)
1542  03A2  21 00 00    	ld	hl,0x0000
1543  03A5  E5          	push	hl
1544  03A6  21 87 03    	ld	hl,0x0387
1545  03A9  E5          	push	hl
1546  03AA  48          	ld	c,b
1547  03AB  47          	ld	b,a
1548  03AC  C5          	push	bc
1549  03AD  CD 00 00    	call	_spr_add_anim
1550  03B0  F1          	pop	af
1551  03B1  F1          	pop	af
1552  03B2  F1          	pop	af
1553  03B3  21 00 00    	ld	hl,_boss_col
1554  03B6  56          	ld	d, (hl)
1555  03B7  14          	inc	d
1556  03B8  14          	inc	d
1557  03B9  3A 00 00    	ld	a,(_boss_lin)
1558  03BC  C6 10       	add	a,0x10
1559  03BE  47          	ld	b, a
1560  03BF  21 00 00    	ld	hl,0x0000
1561  03C2  E5          	push	hl
1562  03C3  21 87 03    	ld	hl,0x0387
1563  03C6  E5          	push	hl
1564  03C7  58          	ld	e,b
1565  03C8  D5          	push	de
1566  03C9  CD 00 00    	call	_spr_add_anim
1567  03CC  F1          	pop	af
1568  03CD  F1          	pop	af
1569  03CE  F1          	pop	af
1570  03CF  21 00 00    	ld	hl,_tmp0
1571  03D2  36 00       	ld	(hl),0x00
1572  03D4              l_game_boss_kill_00104:
1573  03D4  2A 00 00    	ld	hl,(_tmp0)
1574  03D7  26 00       	ld	h,0x00
1575  03D9  01 00 00    	ld	bc,_bullet_col
1576  03DC  09          	add	hl,bc
1577  03DD  7E          	ld	a,(hl)
1578  03DE  4F          	ld	c,a
1579  03DF  3C          	inc	a
1580  03E0  28 15       	jr	Z,l_game_boss_kill_00102
1581  03E2  3A 00 00    	ld	a,(_tmp0)
1582  03E5  5F          	ld	e,a
1583  03E6  16 00       	ld	d,0x00
1584  03E8  21 00 00    	ld	hl,_bullet_lin
1585  03EB  19          	add	hl,de
1586  03EC  7E          	ld	a,(hl)
1587  03ED  32 00 00    	ld	(_s_lin0),a
1588  03F0  21 00 00    	ld	hl,_s_col0
1589  03F3  71          	ld	(hl), c
1590  03F4  CD 00 00    	call	_spr_back_repaint
1591  03F7              l_game_boss_kill_00102:
1592  03F7  2A 00 00    	ld	hl,(_tmp0)
1593  03FA  26 00       	ld	h,0x00
1594  03FC  01 00 00    	ld	bc,_bullet_col
1595  03FF  09          	add	hl,bc
1596  0400  36 FF       	ld	(hl),0xff
1597  0402  2A 00 00    	ld	hl,(_tmp0)
1598  0405  CD 00 00    	call	_spr_destroy
1599  0408  2A 00 00    	ld	hl,(_tmp0)
1600  040B  26 00       	ld	h,0x00
1601  040D  29          	add	hl, hl
1602  040E  11 00 00    	ld	de,_game_respawn_time
1603  0411  19          	add	hl, de
1604  0412  AF          	xor	a, a
1605  0413  77          	ld	(hl), a
1606  0414  23          	inc	hl
1607  0415  77          	ld	(hl), a
1608  0416  21 00 00    	ld	hl,_tmp0
1609  0419  7E          	ld	a,(hl)
1610  041A  3C          	inc	a
1611  041B  77          	ld	(hl),a
1612  041C  D6 07       	sub	a,0x07
1613  041E  38 B4       	jr	C,l_game_boss_kill_00104
1614  0420  C3 5C 10    	jp  _game_boss_clear
1615  0423              	SECTION code_compiler
1616  0423              ;	---------------------------------
1617  0423              ; Function game_add_enemy
1618  0423              ; ---------------------------------
1619  0423              _game_add_enemy:
1620  0423  7D          	ld	a,l
1621  0424  D6 78       	sub	a,0x78
1622  0426  28 59       	jr	Z,l_game_add_enemy_00119
1623  0428  4D          	ld	c,l
1624  0429  21 00 00    	ld	hl,_tmp0
1625  042C  36 00       	ld	(hl),0x00
1626  042E              l_game_add_enemy_00104:
1627  042E  3E 17       	ld	a,0x17
1628  0430  21 00 00    	ld	hl,_tmp0
1629  0433  96          	sub	a, (hl)
1630  0434  DA EA 04    	jp	C, l_game_add_enemy_00121
1631  0437  7E          	ld	a, (hl)
1632  0438  5F          	ld	e, a
1633  0439  87          	add	a, a
1634  043A  83          	add	a, e
1635  043B  21 00 00    	ld	hl,_tmp1
1636  043E  77          	ld	(hl), a
1637  043F  C6 00       	add	a,+((_spr_init) & 0xFF)
1638  0441  5F          	ld	e, a
1639  0442  3E 00       	ld	a, +((_spr_init) / 256)
1640  0444  CE 00       	adc	a,0x00
1641  0446  57          	ld	d, a
1642  0447  1A          	ld	a, (de)
1643  0448  91          	sub	a, c
1644  0449  20 30       	jr	NZ,l_game_add_enemy_00102
1645  044B  6E          	ld	l,(hl)
1646  044C  26 00       	ld	h,0x00
1647  044E  5D          	ld	e,l
1648  044F  54          	ld	d,h
1649  0450  23          	inc	hl
1650  0451  23          	inc	hl
1651  0452  3E 00       	ld	a, +((_spr_init) & 0xFF)
1652  0454  85          	add	a, l
1653  0455  6F          	ld	l, a
1654  0456  3E 00       	ld	a, +((_spr_init) / 256)
1655  0458  8C          	adc	a, h
1656  0459  67          	ld	h, a
1657  045A  46          	ld	b, (hl)
1658  045B  13          	inc	de
1659  045C  21 00 00    	ld	hl,_spr_init
1660  045F  19          	add	hl, de
1661  0460  56          	ld	d, (hl)
1662  0461  C5          	push	bc
1663  0462  4A          	ld	c, d
1664  0463  3A 00 00    	ld	a,(_s_col1)
1665  0466  C5          	push	bc
1666  0467  F5          	push	af
1667  0468  33          	inc	sp
1668  0469  3A 00 00    	ld	a,(_s_lin1)
1669  046C  F5          	push	af
1670  046D  33          	inc	sp
1671  046E  CD 00 00    	call	_enemy_init
1672  0471  F1          	pop	af
1673  0472  F1          	pop	af
1674  0473  C1          	pop	bc
1675  0474  21 00 00    	ld	hl,_tmp0
1676  0477  36 FF       	ld	(hl),0xff
1677  0479  18 B3       	jr	l_game_add_enemy_00104
1678  047B              l_game_add_enemy_00102:
1679  047B  21 00 00    	ld	hl,_tmp0
1680  047E  34          	inc	(hl)
1681  047F  18 AD       	jr	l_game_add_enemy_00104
1682  0481              l_game_add_enemy_00119:
1683  0481  3A 00 00    	ld	a,(_game_boss)
1684  0484  B7          	or	a, a
1685  0485  20 59       	jr	NZ,l_game_add_enemy_00115
1686  0487  3A 00 00    	ld	a,(_game_boss_alive)
1687  048A  B7          	or	a, a
1688  048B  28 53       	jr	Z,l_game_add_enemy_00115
1689  048D  3A 00 00    	ld	a,(_s_lin1)
1690  0490  32 00 00    	ld	(_boss_lin),a
1691  0493  3A 00 00    	ld	a,(_s_col1)
1692  0496  32 00 00    	ld	(_boss_col),a
1693  0499  3A 00 00    	ld	a,(_game_world)
1694  049C  B7          	or	a, a
1695  049D  28 10       	jr	Z,l_game_add_enemy_00107
1696  049F  3D          	dec	a
1697  04A0  28 14       	jr	Z,l_game_add_enemy_00108
1698  04A2  3A 00 00    	ld	a,(_game_world)
1699  04A5  FE 02       	cp	a,0x02
1700  04A7  28 14       	jr	Z,l_game_add_enemy_00109
1701  04A9  D6 03       	sub	a,0x03
1702  04AB  28 17       	jr	Z,l_game_add_enemy_00110
1703  04AD  18 1A       	jr	l_game_add_enemy_00111
1704  04AF              l_game_add_enemy_00107:
1705  04AF  21 00 00    	ld	hl,_boss_tile
1706  04B2  36 C8       	ld	(hl),0xc8
1707  04B4  18 13       	jr	l_game_add_enemy_00111
1708  04B6              l_game_add_enemy_00108:
1709  04B6  21 00 00    	ld	hl,_boss_tile
1710  04B9  36 D8       	ld	(hl),0xd8
1711  04BB  18 0C       	jr	l_game_add_enemy_00111
1712  04BD              l_game_add_enemy_00109:
1713  04BD  21 00 00    	ld	hl,_boss_tile
1714  04C0  36 DC       	ld	(hl),0xdc
1715  04C2  18 05       	jr	l_game_add_enemy_00111
1716  04C4              l_game_add_enemy_00110:
1717  04C4  21 00 00    	ld	hl,_boss_tile
1718  04C7  36 E0       	ld	(hl),0xe0
1719  04C9              l_game_add_enemy_00111:
1720  04C9  21 00 00    	ld	hl,_boss_stat
1721  04CC  36 00       	ld	(hl),0x00
1722  04CE  21 00 00    	ld	hl,_boss_stat
1723  04D1  CD 00 00    	call	_spr_set_up
1724  04D4  21 00 00    	ld	hl,_game_boss
1725  04D7  36 01       	ld	(hl),0x01
1726  04D9  21 00 00    	ld	hl,_game_boss_hit
1727  04DC  36 08       	ld	(hl),0x08
1728  04DE  18 0A       	jr	l_game_add_enemy_00121
1729  04E0              l_game_add_enemy_00115:
1730  04E0  3A 00 00    	ld	a,(_game_boss)
1731  04E3  B7          	or	a, a
1732  04E4  C0          	ret	NZ
1733  04E5  21 00 00    	ld	hl,_game_boss_fix
1734  04E8  36 01       	ld	(hl),0x01
1735  04EA              l_game_add_enemy_00121:
1736  04EA  C9          	ret
1737  04EB              	SECTION code_compiler
1738  04EB              ;	---------------------------------
1739  04EB              ; Function game_print_footer
1740  04EB              ; ---------------------------------
1741  04EB              _game_print_footer:
1742  04EB  21 00 00    	ld	hl,_screen_ink
1743  04EE  36 05       	ld	(hl),0x05
1744  04F0  21 13 62    	ld	hl,0x6213
1745  04F3  E5          	push	hl
1746  04F4  CD 00 00    	call	_game_fill_row
1747  04F7  21 00 00    	ld	hl,___str_0
1748  04FA  E5          	push	hl
1749  04FB  21 13 00    	ld	hl,0x0013
1750  04FE  E5          	push	hl
1751  04FF  CD 00 00    	call	_zx_print_str
1752  0502  21 02 00    	ld	hl,___str_1
1753  0505  E5          	push	hl
1754  0506  21 13 1F    	ld	hl,0x1f13
1755  0509  E5          	push	hl
1756  050A  CD 00 00    	call	_zx_print_str
1757  050D  21 04 00    	ld	hl,___str_2
1758  0510  E5          	push	hl
1759  0511  21 14 00    	ld	hl,0x0014
1760  0514  E5          	push	hl
1761  0515  CD 00 00    	call	_zx_print_str
1762  0518  21 06 00    	ld	hl,___str_3
1763  051B  E5          	push	hl
1764  051C  21 14 1F    	ld	hl,0x1f14
1765  051F  E5          	push	hl
1766  0520  CD 00 00    	call	_zx_print_str
1767  0523  21 04 00    	ld	hl,___str_2
1768  0526  E5          	push	hl
1769  0527  21 15 00    	ld	hl,0x0015
1770  052A  E5          	push	hl
1771  052B  CD 00 00    	call	_zx_print_str
1772  052E  21 06 00    	ld	hl,___str_3
1773  0531  E5          	push	hl
1774  0532  21 15 1F    	ld	hl,0x1f15
1775  0535  E5          	push	hl
1776  0536  CD 00 00    	call	_zx_print_str
1777  0539  21 04 00    	ld	hl,___str_2
1778  053C  E5          	push	hl
1779  053D  21 16 00    	ld	hl,0x0016
1780  0540  E5          	push	hl
1781  0541  CD 00 00    	call	_zx_print_str
1782  0544  21 06 00    	ld	hl,___str_3
1783  0547  E5          	push	hl
1784  0548  21 16 1F    	ld	hl,0x1f16
1785  054B  E5          	push	hl
1786  054C  CD 00 00    	call	_zx_print_str
1787  054F  21 17 62    	ld	hl,0x6217
1788  0552  E5          	push	hl
1789  0553  CD 00 00    	call	_game_fill_row
1790  0556  21 08 00    	ld	hl,___str_4
1791  0559  E5          	push	hl
1792  055A  21 17 00    	ld	hl,0x0017
1793  055D  E5          	push	hl
1794  055E  CD 00 00    	call	_zx_print_str
1795  0561  21 0A 00    	ld	hl,___str_5
1796  0564  E5          	push	hl
1797  0565  21 17 1F    	ld	hl,0x1f17
1798  0568  E5          	push	hl
1799  0569  CD 00 00    	call	_zx_print_str
1800  056C  21 00 00    	ld	hl,_screen_ink
1801  056F  36 05       	ld	(hl),0x05
1802  0571  21 0C 00    	ld	hl,___str_6
1803  0574  E5          	push	hl
1804  0575  21 14 01    	ld	hl,0x0114
1805  0578  E5          	push	hl
1806  0579  CD 00 00    	call	_zx_print_str
1807  057C  21 00 00    	ld	hl,_screen_ink
1808  057F  36 06       	ld	(hl),0x06
1809  0581  21 0E 00    	ld	hl,___str_7
1810  0584  E5          	push	hl
1811  0585  21 15 01    	ld	hl,0x0115
1812  0588  E5          	push	hl
1813  0589  CD 00 00    	call	_zx_print_str
1814  058C  21 00 00    	ld	hl,_screen_ink
1815  058F  36 42       	ld	(hl),0x42
1816  0591  21 10 00    	ld	hl,___str_8
1817  0594  E5          	push	hl
1818  0595  21 14 08    	ld	hl,0x0814
1819  0598  E5          	push	hl
1820  0599  CD 00 00    	call	_zx_print_str
1821  059C  21 00 00    	ld	hl,_screen_ink
1822  059F  36 03       	ld	(hl),0x03
1823  05A1  21 12 00    	ld	hl,___str_9
1824  05A4  E5          	push	hl
1825  05A5  21 15 08    	ld	hl,0x0815
1826  05A8  E5          	push	hl
1827  05A9  CD 00 00    	call	_zx_print_str
1828  05AC  21 00 00    	ld	hl,_screen_ink
1829  05AF  36 47       	ld	(hl),0x47
1830  05B1  21 14 00    	ld	hl,___str_10
1831  05B4  E5          	push	hl
1832  05B5  21 14 0F    	ld	hl,0x0f14
1833  05B8  E5          	push	hl
1834  05B9  CD 00 00    	call	_zx_print_str
1835  05BC  21 00 00    	ld	hl,_screen_ink
1836  05BF  36 05       	ld	(hl),0x05
1837  05C1  21 16 00    	ld	hl,___str_11
1838  05C4  E5          	push	hl
1839  05C5  21 15 0F    	ld	hl,0x0f15
1840  05C8  E5          	push	hl
1841  05C9  CD 00 00    	call	_zx_print_str
1842  05CC  21 00 00    	ld	hl,_screen_ink
1843  05CF  36 45       	ld	(hl),0x45
1844  05D1  21 18 00    	ld	hl,___str_12
1845  05D4  E5          	push	hl
1846  05D5  21 14 15    	ld	hl,0x1514
1847  05D8  E5          	push	hl
1848  05D9  CD 00 00    	call	_zx_print_str
1849  05DC  21 00 00    	ld	hl,_screen_ink
1850  05DF  36 07       	ld	(hl),0x07
1851  05E1  21 1A 00    	ld	hl,___str_13
1852  05E4  E5          	push	hl
1853  05E5  21 15 15    	ld	hl,0x1515
1854  05E8  E5          	push	hl
1855  05E9  CD 00 00    	call	_zx_print_str
1856  05EC  21 1C 00    	ld	hl,___str_14
1857  05EF  E5          	push	hl
1858  05F0  21 17 14    	ld	hl,0x1417
1859  05F3  E5          	push	hl
1860  05F4  CD 00 00    	call	_zx_print_str
1861  05F7  21 00 00    	ld	hl,_screen_ink
1862  05FA  36 06       	ld	(hl),0x06
1863  05FC  21 21 00    	ld	hl,___str_15
1864  05FF  E5          	push	hl
1865  0600  21 16 07    	ld	hl,0x0716
1866  0603  E5          	push	hl
1867  0604  CD 00 00    	call	_zx_print_str
1868  0607  21 23 00    	ld	hl,___str_16
1869  060A  E5          	push	hl
1870  060B  21 16 0D    	ld	hl,0x0d16
1871  060E  E5          	push	hl
1872  060F  CD 00 00    	call	_zx_print_str
1873  0612  21 25 00    	ld	hl,___str_17
1874  0615  E5          	push	hl
1875  0616  21 16 13    	ld	hl,0x1316
1876  0619  E5          	push	hl
1877  061A  CD 00 00    	call	_zx_print_str
1878  061D  21 27 00    	ld	hl,___str_18
1879  0620  E5          	push	hl
1880  0621  21 16 19    	ld	hl,0x1916
1881  0624  E5          	push	hl
1882  0625  CD 00 00    	call	_zx_print_str
1883  0628  CD 4D 06    	call	_game_update_stats
1884  062B  C9          	ret
1885  062C              	SECTION rodata_compiler
1886  0000              ___str_0:
1887  0000  61          	DEFM "a"
1888  0001  00          	DEFB 0x00
1889  0002              	SECTION rodata_compiler
1890  0002              ___str_1:
1891  0002  63          	DEFM "c"
1892  0003  00          	DEFB 0x00
1893  0004              	SECTION rodata_compiler
1894  0004              ___str_2:
1895  0004  64          	DEFM "d"
1896  0005  00          	DEFB 0x00
1897  0006              	SECTION rodata_compiler
1898  0006              ___str_3:
1899  0006  65          	DEFM "e"
1900  0007  00          	DEFB 0x00
1901  0008              	SECTION rodata_compiler
1902  0008              ___str_4:
1903  0008  66          	DEFM "f"
1904  0009  00          	DEFB 0x00
1905  000A              	SECTION rodata_compiler
1906  000A              ___str_5:
1907  000A  67          	DEFM "g"
1908  000B  00          	DEFB 0x00
1909  000C              	SECTION rodata_compiler
1910  000C              ___str_6:
1911  000C  3C          	DEFM "<"
1912  000D  00          	DEFB 0x00
1913  000E              	SECTION rodata_compiler
1914  000E              ___str_7:
1915  000E  5C          	DEFB 0x5c
1916  000F  00          	DEFB 0x00
1917  0010              	SECTION rodata_compiler
1918  0010              ___str_8:
1919  0010  3E          	DEFM ">"
1920  0011  00          	DEFB 0x00
1921  0012              	SECTION rodata_compiler
1922  0012              ___str_9:
1923  0012  5E          	DEFM "^"
1924  0013  00          	DEFB 0x00
1925  0014              	SECTION rodata_compiler
1926  0014              ___str_10:
1927  0014  3F          	DEFM "?"
1928  0015  00          	DEFB 0x00
1929  0016              	SECTION rodata_compiler
1930  0016              ___str_11:
1931  0016  5F          	DEFM "_"
1932  0017  00          	DEFB 0x00
1933  0018              	SECTION rodata_compiler
1934  0018              ___str_12:
1935  0018  78          	DEFM "x"
1936  0019  00          	DEFB 0x00
1937  001A              	SECTION rodata_compiler
1938  001A              ___str_13:
1939  001A  79          	DEFM "y"
1940  001B  00          	DEFB 0x00
1941  001C              	SECTION rodata_compiler
1942  001C              ___str_14:
1943  001C  4C 50 53 3A 	DEFM "LPS:"
1944  0020  00          	DEFB 0x00
1945  0021              	SECTION rodata_compiler
1946  0021              ___str_15:
1947  0021  6C          	DEFM "l"
1948  0022  00          	DEFB 0x00
1949  0023              	SECTION rodata_compiler
1950  0023              ___str_16:
1951  0023  6D          	DEFM "m"
1952  0024  00          	DEFB 0x00
1953  0025              	SECTION rodata_compiler
1954  0025              ___str_17:
1955  0025  6E          	DEFM "n"
1956  0026  00          	DEFB 0x00
1957  0027              	SECTION rodata_compiler
1958  0027              ___str_18:
1959  0027  6F          	DEFM "o"
1960  0028  00          	DEFB 0x00
1961  0029              	SECTION code_compiler
1962  062C              ;	---------------------------------
1963  062C              ; Function game_print_score
1964  062C              ; ---------------------------------
1965  062C              _game_print_score:
1966  062C  21 00 00    	ld	hl,_screen_ink
1967  062F  36 07       	ld	(hl),0x07
1968  0631  21 00 00    	ld	hl,_screen_paper
1969  0634  36 00       	ld	(hl),0x00
1970  0636  2A 00 00    	ld	hl,(_player_score)
1971  0639  E5          	push	hl
1972  063A  21 14 17    	ld	hl,0x1714
1973  063D  E5          	push	hl
1974  063E  CD 00 00    	call	_zx_print_int
1975  0641  2A 00 00    	ld	hl,(_game_score_top)
1976  0644  E5          	push	hl
1977  0645  21 00 0E    	ld	hl,0x0e00
1978  0648  E5          	push	hl
1979  0649  CD 00 00    	call	_zx_print_int
1980  064C  C9          	ret
1981  064D              	SECTION code_compiler
1982  064D              ;	---------------------------------
1983  064D              ; Function game_update_stats
1984  064D              ; ---------------------------------
1985  064D              _game_update_stats:
1986  064D  21 00 00    	ld	hl,_screen_ink
1987  0650  36 07       	ld	(hl),0x07
1988  0652  3A 00 00    	ld	a,(_player_lives)
1989  0655  F5          	push	af
1990  0656  33          	inc	sp
1991  0657  21 14 03    	ld	hl,0x0314
1992  065A  E5          	push	hl
1993  065B  CD 00 00    	call	_zx_print_chr
1994  065E  3A 00 00    	ld	a,(_player_coins)
1995  0661  F5          	push	af
1996  0662  33          	inc	sp
1997  0663  21 16 09    	ld	hl,0x0916
1998  0666  E5          	push	hl
1999  0667  CD 00 00    	call	_zx_print_chr
2000  066A  3A 00 00    	ld	a,(_player_str)
2001  066D  F5          	push	af
2002  066E  33          	inc	sp
2003  066F  21 16 0F    	ld	hl,0x0f16
2004  0672  E5          	push	hl
2005  0673  CD 00 00    	call	_zx_print_chr
2006  0676  3A 00 00    	ld	a,(_player_int)
2007  0679  F5          	push	af
2008  067A  33          	inc	sp
2009  067B  21 16 15    	ld	hl,0x1516
2010  067E  E5          	push	hl
2011  067F  CD 00 00    	call	_zx_print_chr
2012  0682  3A 00 00    	ld	a,(_player_lvl)
2013  0685  F5          	push	af
2014  0686  33          	inc	sp
2015  0687  21 16 1B    	ld	hl,0x1b16
2016  068A  E5          	push	hl
2017  068B  CD 00 00    	call	_zx_print_chr
2018  068E  21 00 00    	ld	hl,_screen_ink
2019  0691  36 02       	ld	(hl),0x02
2020  0693  3A 00 00    	ld	a,(_player_vita)
2021  0696  F5          	push	af
2022  0697  33          	inc	sp
2023  0698  21 14 0A    	ld	hl,0x0a14
2024  069B  E5          	push	hl
2025  069C  CD 00 00    	call	_zx_print_chr
2026  069F  21 00 00    	ld	hl,_screen_ink
2027  06A2  36 01       	ld	(hl),0x01
2028  06A4  3A 00 00    	ld	a,(_player_mana)
2029  06A7  F5          	push	af
2030  06A8  33          	inc	sp
2031  06A9  21 14 11    	ld	hl,0x1114
2032  06AC  E5          	push	hl
2033  06AD  CD 00 00    	call	_zx_print_chr
2034  06B0  3A 00 00    	ld	a,(_game_boss)
2035  06B3  B7          	or	a, a
2036  06B4  28 4B       	jr	Z,l_game_update_stats_00106
2037  06B6  21 13 10    	ld	hl,0x1013
2038  06B9  E5          	push	hl
2039  06BA  3E 0B       	ld	a,0x0b
2040  06BC  F5          	push	af
2041  06BD  33          	inc	sp
2042  06BE  21 00 00    	ld	hl,_attrib_osd
2043  06C1  E5          	push	hl
2044  06C2  CD 86 0A    	call	_game_paint_attrib
2045  06C5  F1          	pop	af
2046  06C6  F1          	pop	af
2047  06C7  33          	inc	sp
2048  06C8  21 00 00    	ld	hl,_tmp0
2049  06CB  36 00       	ld	(hl),0x00
2050  06CD              l_game_update_stats_00115:
2051  06CD  21 00 00    	ld	hl,_tmp0
2052  06D0  7E          	ld	a, (hl)
2053  06D1  C6 0B       	add	a,0x0b
2054  06D3  47          	ld	b, a
2055  06D4  7E          	ld	a, (hl)
2056  06D5  21 00 00    	ld	hl,_game_boss_hit
2057  06D8  96          	sub	a, (hl)
2058  06D9  30 0F       	jr	NC,l_game_update_stats_00102
2059  06DB  21 29 00    	ld	hl,___str_19
2060  06DE  E5          	push	hl
2061  06DF  C5          	push	bc
2062  06E0  33          	inc	sp
2063  06E1  3E 01       	ld	a,0x01
2064  06E3  F5          	push	af
2065  06E4  33          	inc	sp
2066  06E5  CD 00 00    	call	_zx_print_str
2067  06E8  18 0D       	jr	l_game_update_stats_00116
2068  06EA              l_game_update_stats_00102:
2069  06EA  21 2B 00    	ld	hl,___str_20
2070  06ED  E5          	push	hl
2071  06EE  C5          	push	bc
2072  06EF  33          	inc	sp
2073  06F0  3E 01       	ld	a,0x01
2074  06F2  F5          	push	af
2075  06F3  33          	inc	sp
2076  06F4  CD 00 00    	call	_zx_print_str
2077  06F7              l_game_update_stats_00116:
2078  06F7  21 00 00    	ld	hl,_tmp0
2079  06FA  7E          	ld	a,(hl)
2080  06FB  3C          	inc	a
2081  06FC  77          	ld	(hl),a
2082  06FD  D6 08       	sub	a,0x08
2083  06FF  38 CC       	jr	C,l_game_update_stats_00115
2084  0701              l_game_update_stats_00106:
2085  0701  3A 00 00    	ld	a,(_player_keys)
2086  0704  B7          	or	a, a
2087  0705  28 10       	jr	Z,l_game_update_stats_00108
2088  0707  21 00 00    	ld	hl,_screen_ink
2089  070A  36 07       	ld	(hl),0x07
2090  070C  21 2D 00    	ld	hl,___str_21
2091  070F  E5          	push	hl
2092  0710  21 16 02    	ld	hl,0x0216
2093  0713  E5          	push	hl
2094  0714  CD 00 00    	call	_zx_print_str
2095  0717              l_game_update_stats_00108:
2096  0717  3A 01 00    	ld	a, (_player_keys + 1)
2097  071A  B7          	or	a, a
2098  071B  28 10       	jr	Z,l_game_update_stats_00110
2099  071D  21 00 00    	ld	hl,_screen_ink
2100  0720  36 02       	ld	(hl),0x02
2101  0722  21 2D 00    	ld	hl,___str_21
2102  0725  E5          	push	hl
2103  0726  21 16 03    	ld	hl,0x0316
2104  0729  E5          	push	hl
2105  072A  CD 00 00    	call	_zx_print_str
2106  072D              l_game_update_stats_00110:
2107  072D  3A 02 00    	ld	a, (_player_keys + 2)
2108  0730  B7          	or	a, a
2109  0731  28 10       	jr	Z,l_game_update_stats_00112
2110  0733  21 00 00    	ld	hl,_screen_ink
2111  0736  36 04       	ld	(hl),0x04
2112  0738  21 2D 00    	ld	hl,___str_21
2113  073B  E5          	push	hl
2114  073C  21 16 04    	ld	hl,0x0416
2115  073F  E5          	push	hl
2116  0740  CD 00 00    	call	_zx_print_str
2117  0743              l_game_update_stats_00112:
2118  0743  3A 03 00    	ld	a, (_player_keys + 3)
2119  0746  B7          	or	a, a
2120  0747  C8          	ret	Z
2121  0748  21 00 00    	ld	hl,_screen_ink
2122  074B  36 05       	ld	(hl),0x05
2123  074D  21 2D 00    	ld	hl,___str_21
2124  0750  E5          	push	hl
2125  0751  21 16 05    	ld	hl,0x0516
2126  0754  E5          	push	hl
2127  0755  CD 00 00    	call	_zx_print_str
2128  0758  C9          	ret
2129  0759              	SECTION rodata_compiler
2130  0029              ___str_19:
2131  0029  2A          	DEFM "*"
2132  002A  00          	DEFB 0x00
2133  002B              	SECTION rodata_compiler
2134  002B              ___str_20:
2135  002B  20          	DEFM " "
2136  002C  00          	DEFB 0x00
2137  002D              	SECTION rodata_compiler
2138  002D              ___str_21:
2139  002D  5D          	DEFM "]"
2140  002E  00          	DEFB 0x00
2141  002F              	SECTION code_compiler
2142  0759              ;	---------------------------------
2143  0759              ; Function game_tick
2144  0759              ; ---------------------------------
2145  0759              _game_tick:
2146  0759  21 00 00    	ld	hl,_curr_time
2147  075C  34          	inc	(hl)
2148  075D  C2 00 00    	jp	NZ,_zx_isr
2149  0760  23          	inc	hl
2150  0761  34          	inc	(hl)
2151  0762  C3 00 00    	jp  _zx_isr
2152  0765              	SECTION code_compiler
2153  0765              ;	---------------------------------
2154  0765              ; Function game_start_timer
2155  0765              ; ---------------------------------
2156  0765              _game_start_timer:
2157  0765  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2158  0768  36 CD       	ld	(hl),0xcd
2159  076A  23          	inc	hl
2160  076B  11 59 07    	ld	de,_game_tick
2161  076E  73          	ld	(hl), e
2162  076F  23          	inc	hl
2163  0770  72          	ld	(hl), d
2164  0771  C9          	ret
2165  0772              	SECTION code_compiler
2166  0772              ;	---------------------------------
2167  0772              ; Function game_set_checkpoint
2168  0772              ; ---------------------------------
2169  0772              _game_set_checkpoint:
2170  0772  3A 00 00    	ld	a,(_player_col_scr)
2171  0775  CB 3F       	srl	a
2172  0777  87          	add	a, a
2173  0778  32 00 00    	ld	(_game_checkpoint_col),a
2174  077B  3A 00 00    	ld	a,(_player_lin_scr)
2175  077E  07          	rlca
2176  077F  07          	rlca
2177  0780  07          	rlca
2178  0781  07          	rlca
2179  0782  E6 0F       	and	a,0x0f
2180  0784  07          	rlca
2181  0785  07          	rlca
2182  0786  07          	rlca
2183  0787  07          	rlca
2184  0788  E6 F0       	and	a,0xf0
2185  078A  32 00 00    	ld	(_game_checkpoint_lin),a
2186  078D  3A 00 00    	ld	a,(_scr_curr)
2187  0790  32 00 00    	ld	(_game_checkpoint_scr),a
2188  0793  C9          	ret
2189  0794              	SECTION code_compiler
2190  0794              ;	---------------------------------
2191  0794              ; Function game_round_init
2192  0794              ; ---------------------------------
2193  0794              _game_round_init:
2194  0794  21 00 00    	ld	hl,0x0000
2195  0797  22 00 00    	ld	(_loop_count),hl
2196  079A  21 00 00    	ld	hl,0
2197  079D  22 00 00    	ld	(_curr_time),hl
2198  07A0  21 00 00    	ld	hl,0x0000
2199  07A3  22 00 00    	ld	(_frame_time),hl
2200  07A6  CD 00 00    	call	_spr_init_effects
2201  07A9  CD C3 08    	call	_game_print_header
2202  07AC  CD EB 04    	call	_game_print_footer
2203  07AF  CD 00 00    	call	_spr_page_map
2204  07B2  CD 98 01    	call	_game_draw_screen
2205  07B5  CD 72 07    	call	_game_set_checkpoint
2206  07B8  3A 00 00    	ld	a,(_game_over)
2207  07BB  B7          	or	a, a
2208  07BC  20 10       	jr	NZ,l_game_round_init_00102
2209  07BE  2A 00 00    	ld	hl,(_player_col_scr)
2210  07C1  26 70       	ld	h,0x70
2211  07C3  3A 00 00    	ld	a,(_player_lin_scr)
2212  07C6  E5          	push	hl
2213  07C7  F5          	push	af
2214  07C8  33          	inc	sp
2215  07C9  CD 00 00    	call	_player_init
2216  07CC  F1          	pop	af
2217  07CD  33          	inc	sp
2218  07CE              l_game_round_init_00102:
2219  07CE  CD 4D 06    	call	_game_update_stats
2220  07D1  CD 00 00    	call	_ay_reset
2221  07D4  21 00 00    	ld	hl,_ay_song_04_lotr_level_start
2222  07D7  E5          	push	hl
2223  07D8  21 00 04    	ld	hl,0x0400
2224  07DB  E5          	push	hl
2225  07DC  CD 00 00    	call	_ay_song_play
2226  07DF  3A 00 00    	ld	a,(_game_world)
2227  07E2  B7          	or	a, a
2228  07E3  28 12       	jr	Z,l_game_round_init_00103
2229  07E5  3D          	dec	a
2230  07E6  28 43       	jr	Z,l_game_round_init_00104
2231  07E8  3A 00 00    	ld	a,(_game_world)
2232  07EB  FE 02       	cp	a,0x02
2233  07ED  28 6F       	jr	Z,l_game_round_init_00105
2234  07EF  D6 03       	sub	a,0x03
2235  07F1  CA 91 08    	jp	Z,l_game_round_init_00106
2236  07F4  C3 C2 08    	jp	l_game_round_init_00108
2237  07F7              l_game_round_init_00103:
2238  07F7  21 17 68    	ld	hl,0x6817
2239  07FA  E5          	push	hl
2240  07FB  3E 06       	ld	a,0x06
2241  07FD  F5          	push	af
2242  07FE  33          	inc	sp
2243  07FF  21 00 00    	ld	hl,_attrib_osd
2244  0802  E5          	push	hl
2245  0803  CD 86 0A    	call	_game_paint_attrib
2246  0806  F1          	pop	af
2247  0807  33          	inc	sp
2248  0808  21 2F 00    	ld	hl,___str_22
2249  080B  E3          	ex	(sp),hl
2250  080C  21 0C 06    	ld	hl,0x060c
2251  080F  E5          	push	hl
2252  0810  CD 00 00    	call	_zx_print_str
2253  0813  AF          	xor	a, a
2254  0814  F5          	push	af
2255  0815  33          	inc	sp
2256  0816  21 19 00    	ld	hl,0x0019
2257  0819  E5          	push	hl
2258  081A  21 06 17    	ld	hl,0x1706
2259  081D  E5          	push	hl
2260  081E  3E 0C       	ld	a,0x0c
2261  0820  F5          	push	af
2262  0821  33          	inc	sp
2263  0822  CD B0 0A    	call	_game_colour_message
2264  0825  F1          	pop	af
2265  0826  F1          	pop	af
2266  0827  F1          	pop	af
2267  0828  C3 C2 08    	jp	l_game_round_init_00108
2268  082B              l_game_round_init_00104:
2269  082B  21 13 68    	ld	hl,0x6813
2270  082E  E5          	push	hl
2271  082F  3E 06       	ld	a,0x06
2272  0831  F5          	push	af
2273  0832  33          	inc	sp
2274  0833  21 00 00    	ld	hl,_attrib_osd
2275  0836  E5          	push	hl
2276  0837  CD 86 0A    	call	_game_paint_attrib
2277  083A  F1          	pop	af
2278  083B  33          	inc	sp
2279  083C  21 41 00    	ld	hl,___str_23
2280  083F  E3          	ex	(sp),hl
2281  0840  21 0C 06    	ld	hl,0x060c
2282  0843  E5          	push	hl
2283  0844  CD 00 00    	call	_zx_print_str
2284  0847  AF          	xor	a, a
2285  0848  F5          	push	af
2286  0849  33          	inc	sp
2287  084A  21 19 00    	ld	hl,0x0019
2288  084D  E5          	push	hl
2289  084E  21 06 13    	ld	hl,0x1306
2290  0851  E5          	push	hl
2291  0852  3E 0C       	ld	a,0x0c
2292  0854  F5          	push	af
2293  0855  33          	inc	sp
2294  0856  CD B0 0A    	call	_game_colour_message
2295  0859  F1          	pop	af
2296  085A  F1          	pop	af
2297  085B  F1          	pop	af
2298  085C  18 64       	jr	l_game_round_init_00108
2299  085E              l_game_round_init_00105:
2300  085E  21 14 68    	ld	hl,0x6814
2301  0861  E5          	push	hl
2302  0862  3E 06       	ld	a,0x06
2303  0864  F5          	push	af
2304  0865  33          	inc	sp
2305  0866  21 00 00    	ld	hl,_attrib_osd
2306  0869  E5          	push	hl
2307  086A  CD 86 0A    	call	_game_paint_attrib
2308  086D  F1          	pop	af
2309  086E  33          	inc	sp
2310  086F  21 4F 00    	ld	hl,___str_24
2311  0872  E3          	ex	(sp),hl
2312  0873  21 0C 06    	ld	hl,0x060c
2313  0876  E5          	push	hl
2314  0877  CD 00 00    	call	_zx_print_str
2315  087A  AF          	xor	a, a
2316  087B  F5          	push	af
2317  087C  33          	inc	sp
2318  087D  21 19 00    	ld	hl,0x0019
2319  0880  E5          	push	hl
2320  0881  21 06 14    	ld	hl,0x1406
2321  0884  E5          	push	hl
2322  0885  3E 0C       	ld	a,0x0c
2323  0887  F5          	push	af
2324  0888  33          	inc	sp
2325  0889  CD B0 0A    	call	_game_colour_message
2326  088C  F1          	pop	af
2327  088D  F1          	pop	af
2328  088E  F1          	pop	af
2329  088F  18 31       	jr	l_game_round_init_00108
2330  0891              l_game_round_init_00106:
2331  0891  21 17 68    	ld	hl,0x6817
2332  0894  E5          	push	hl
2333  0895  3E 06       	ld	a,0x06
2334  0897  F5          	push	af
2335  0898  33          	inc	sp
2336  0899  21 00 00    	ld	hl,_attrib_osd
2337  089C  E5          	push	hl
2338  089D  CD 86 0A    	call	_game_paint_attrib
2339  08A0  F1          	pop	af
2340  08A1  33          	inc	sp
2341  08A2  21 5E 00    	ld	hl,___str_25
2342  08A5  E3          	ex	(sp),hl
2343  08A6  21 0C 06    	ld	hl,0x060c
2344  08A9  E5          	push	hl
2345  08AA  CD 00 00    	call	_zx_print_str
2346  08AD  AF          	xor	a, a
2347  08AE  F5          	push	af
2348  08AF  33          	inc	sp
2349  08B0  21 19 00    	ld	hl,0x0019
2350  08B3  E5          	push	hl
2351  08B4  21 06 17    	ld	hl,0x1706
2352  08B7  E5          	push	hl
2353  08B8  3E 0C       	ld	a,0x0c
2354  08BA  F5          	push	af
2355  08BB  33          	inc	sp
2356  08BC  CD B0 0A    	call	_game_colour_message
2357  08BF  F1          	pop	af
2358  08C0  F1          	pop	af
2359  08C1  F1          	pop	af
2360  08C2              l_game_round_init_00108:
2361  08C2  C9          	ret
2362  08C3              	SECTION rodata_compiler
2363  002F              ___str_22:
2364  002F  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2365  0040  00          	DEFB 0x00
2366  0041              	SECTION rodata_compiler
2367  0041              ___str_23:
2368  0041  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2369  004E  00          	DEFB 0x00
2370  004F              	SECTION rodata_compiler
2371  004F              ___str_24:
2372  004F  52 4F 55 4E 44 20 31 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 1 MORDOR"
2373  005D  00          	DEFB 0x00
2374  005E              	SECTION rodata_compiler
2375  005E              ___str_25:
2376  005E  52 4F 55 4E 44 20 32 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 2 BARAD DUR"
2377  006F  00          	DEFB 0x00
2378  0070              	SECTION code_compiler
2379  08C3              ;	---------------------------------
2380  08C3              ; Function game_print_header
2381  08C3              ; ---------------------------------
2382  08C3              _game_print_header:
2383  08C3  21 00 00    	ld	hl,_screen_ink
2384  08C6  36 02       	ld	(hl),0x02
2385  08C8  21 70 00    	ld	hl,___str_26
2386  08CB  E5          	push	hl
2387  08CC  21 00 0B    	ld	hl,0x0b00
2388  08CF  E5          	push	hl
2389  08D0  CD 00 00    	call	_zx_print_str
2390  08D3  21 00 00    	ld	hl,_screen_ink
2391  08D6  36 07       	ld	(hl),0x07
2392  08D8  CD 2C 06    	call	_game_print_score
2393  08DB  C9          	ret
2394  08DC              	SECTION rodata_compiler
2395  0070              ___str_26:
2396  0070  24 25 7C    	DEFM "$%|"
2397  0073  00          	DEFB 0x00
2398  0074              	SECTION code_compiler
2399  08DC              ;	---------------------------------
2400  08DC              ; Function game_check_map
2401  08DC              ; ---------------------------------
2402  08DC              _game_check_map:
2403  08DC  CD 00 00    	call	___sdcc_enter_ix
2404  08DF  DD CB 05 46 	bit	0,(ix+5)
2405  08E3  20 18       	jr	NZ,l_game_check_map_00108
2406  08E5  DD 66 05    	ld	h,(ix+5)
2407  08E8  DD 6E 04    	ld	l,(ix+4)
2408  08EB  E5          	push	hl
2409  08EC  CD 00 00    	call	_spr_calc_index
2410  08EF  F1          	pop	af
2411  08F0  22 00 00    	ld	(_index1),hl
2412  08F3  21 00 00    	ld	hl,_index1
2413  08F6  CD 58 09    	call	_game_check_cell
2414  08F9  26 00       	ld	h,0x00
2415  08FB  18 58       	jr	l_game_check_map_00110
2416  08FD              l_game_check_map_00108:
2417  08FD  21 00 00    	ld	hl,_g_player_hit_left
2418  0900  36 00       	ld	(hl),0x00
2419  0902  21 00 00    	ld	hl,_g_player_hit_right
2420  0905  36 00       	ld	(hl),0x00
2421  0907  DD 46 05    	ld	b,(ix+5)
2422  090A  05          	dec	b
2423  090B  DD 4E 04    	ld	c,(ix+4)
2424  090E  C5          	push	bc
2425  090F  CD 00 00    	call	_spr_calc_index
2426  0912  F1          	pop	af
2427  0913  22 00 00    	ld	(_index1),hl
2428  0916  21 00 00    	ld	hl,_index1
2429  0919  CD 58 09    	call	_game_check_cell
2430  091C  7D          	ld	a, l
2431  091D  B7          	or	a, a
2432  091E  28 05       	jr	Z,l_game_check_map_00102
2433  0920  21 00 00    	ld	hl,_g_player_hit_left
2434  0923  36 01       	ld	(hl),0x01
2435  0925              l_game_check_map_00102:
2436  0925  3A 00 00    	ld	a,(_g_player_hit_left)
2437  0928  B7          	or	a, a
2438  0929  20 17       	jr	NZ,l_game_check_map_00106
2439  092B  21 00 00    	ld	hl,_index1
2440  092E  34          	inc	(hl)
2441  092F  20 02       	jr	NZ,l_game_check_map_00141
2442  0931  23          	inc	hl
2443  0932  34          	inc	(hl)
2444  0933              l_game_check_map_00141:
2445  0933  21 00 00    	ld	hl,_index1
2446  0936  CD 58 09    	call	_game_check_cell
2447  0939  7D          	ld	a, l
2448  093A  B7          	or	a, a
2449  093B  28 05       	jr	Z,l_game_check_map_00106
2450  093D  21 00 00    	ld	hl,_g_player_hit_right
2451  0940  36 01       	ld	(hl),0x01
2452  0942              l_game_check_map_00106:
2453  0942  3A 00 00    	ld	a,(_g_player_hit_left)
2454  0945  B7          	or	a, a
2455  0946  20 09       	jr	NZ,l_game_check_map_00113
2456  0948  3A 00 00    	ld	a,(_g_player_hit_right)
2457  094B  B7          	or	a,a
2458  094C  20 03       	jr	NZ,l_game_check_map_00113
2459  094E  6F          	ld	l,a
2460  094F  18 02       	jr	l_game_check_map_00114
2461  0951              l_game_check_map_00113:
2462  0951  2E 01       	ld	l,0x01
2463  0953              l_game_check_map_00114:
2464  0953  26 00       	ld	h,0x00
2465  0955              l_game_check_map_00110:
2466  0955  DD E1       	pop	ix
2467  0957  C9          	ret
2468  0958              	SECTION code_compiler
2469  0958              ;	---------------------------------
2470  0958              ; Function game_check_cell
2471  0958              ; ---------------------------------
2472  0958              _game_check_cell:
2473  0958  CD 00 00    	call	___sdcc_enter_ix
2474  095B  F5          	push	af
2475  095C  3B          	dec	sp
2476  095D  11 FE FF    	ld	de,-2
2477  0960  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
2478  0963  3E A0       	ld	a,0xa0
2479  0965  DD BE FE    	cp	a,(ix-2)
2480  0968  3E 00       	ld	a,0x00
2481  096A  DD 9E FF    	sbc	a,(ix-1)
2482  096D  30 05       	jr	NC,l_game_check_cell_00102
2483  096F  2E 01       	ld	l,0x01
2484  0971  C3 81 0A    	jp	l_game_check_cell_00156
2485  0974              l_game_check_cell_00102:
2486  0974  01 00 00    	ld	bc,_scr_map+0
2487  0977  DD 6E FE    	ld	l,(ix-2)
2488  097A  DD 66 FF    	ld	h,(ix-1)
2489  097D  09          	add	hl, bc
2490  097E  46          	ld	b, (hl)
2491  097F  3A 00 00    	ld	a,(_sprite)
2492  0982  D6 07       	sub	a,0x07
2493  0984  20 04       	jr	NZ,l_game_check_cell_00246
2494  0986  3E 01       	ld	a,0x01
2495  0988  18 01       	jr	l_game_check_cell_00247
2496  098A              l_game_check_cell_00246:
2497  098A  AF          	xor	a,a
2498  098B              l_game_check_cell_00247:
2499  098B  DD 77 FD    	ld	(ix-3),a
2500  098E  78          	ld	a, b
2501  098F  D6 44       	sub	a,0x44
2502  0991  3E 00       	ld	a,0x00
2503  0993  17          	rla
2504  0994  4F          	ld	c, a
2505  0995  DD CB FD 46 	bit	0,(ix-3)
2506  0999  C2 21 0A    	jp	NZ, l_game_check_cell_00134
2507  099C  2A 00 00    	ld	hl,(_sprite)
2508  099F  26 00       	ld	h,0x00
2509  09A1  11 00 00    	ld	de,_class
2510  09A4  19          	add	hl,de
2511  09A5  5E          	ld	e, (hl)
2512  09A6  16 00       	ld	d,0x00
2513  09A8  21 00 00    	ld	hl,_sprite_kind
2514  09AB  19          	add	hl, de
2515  09AC  7E          	ld	a,(hl)
2516  09AD  57          	ld	d,a
2517  09AE  D6 05       	sub	a,0x05
2518  09B0  20 04       	jr	NZ,l_game_check_cell_00104
2519  09B2  6F          	ld	l,a
2520  09B3  C3 81 0A    	jp	l_game_check_cell_00156
2521  09B6              l_game_check_cell_00104:
2522  09B6  78          	ld	a, b
2523  09B7  D6 80       	sub	a,0x80
2524  09B9  38 05       	jr	C,l_game_check_cell_00106
2525  09BB  2E 00       	ld	l,0x00
2526  09BD  C3 81 0A    	jp	l_game_check_cell_00156
2527  09C0              l_game_check_cell_00106:
2528  09C0  78          	ld	a, b
2529  09C1  D6 23       	sub	a,0x23
2530  09C3  20 05       	jr	NZ,l_game_check_cell_00108
2531  09C5  2E 01       	ld	l,0x01
2532  09C7  C3 81 0A    	jp	l_game_check_cell_00156
2533  09CA              l_game_check_cell_00108:
2534  09CA  7A          	ld	a,d
2535  09CB  FE 02       	cp	a,0x02
2536  09CD  28 04       	jr	Z,l_game_check_cell_00121
2537  09CF  D6 06       	sub	a,0x06
2538  09D1  20 2E       	jr	NZ,l_game_check_cell_00122
2539  09D3              l_game_check_cell_00121:
2540  09D3  7B          	ld	a,e
2541  09D4  FE 09       	cp	a,0x09
2542  09D6  28 04       	jr	Z,l_game_check_cell_00117
2543  09D8  D6 0A       	sub	a,0x0a
2544  09DA  20 0E       	jr	NZ,l_game_check_cell_00118
2545  09DC              l_game_check_cell_00117:
2546  09DC  3E 3A       	ld	a,0x3a
2547  09DE  90          	sub	a, b
2548  09DF  38 05       	jr	C,l_game_check_cell_00110
2549  09E1  2E 00       	ld	l,0x00
2550  09E3  C3 81 0A    	jp	l_game_check_cell_00156
2551  09E6              l_game_check_cell_00110:
2552  09E6  68          	ld	l, b
2553  09E7  C3 81 0A    	jp	l_game_check_cell_00156
2554  09EA              l_game_check_cell_00118:
2555  09EA  3E 2F       	ld	a,0x2f
2556  09EC  90          	sub	a, b
2557  09ED  30 09       	jr	NC,l_game_check_cell_00112
2558  09EF  CB 41       	bit	0, c
2559  09F1  20 0A       	jr	NZ,l_game_check_cell_00113
2560  09F3  3E 47       	ld	a,0x47
2561  09F5  90          	sub	a, b
2562  09F6  38 05       	jr	C,l_game_check_cell_00113
2563  09F8              l_game_check_cell_00112:
2564  09F8  2E 00       	ld	l,0x00
2565  09FA  C3 81 0A    	jp	l_game_check_cell_00156
2566  09FD              l_game_check_cell_00113:
2567  09FD  68          	ld	l, b
2568  09FE  C3 81 0A    	jp	l_game_check_cell_00156
2569  0A01              l_game_check_cell_00122:
2570  0A01  7A          	ld	a, d
2571  0A02  3D          	dec	a
2572  0A03  28 05       	jr	Z,l_game_check_cell_00130
2573  0A05  7A          	ld	a, d
2574  0A06  D6 03       	sub	a,0x03
2575  0A08  20 17       	jr	NZ,l_game_check_cell_00134
2576  0A0A              l_game_check_cell_00130:
2577  0A0A  3A 00 00    	ld	a,(_sprite_horizontal_check)
2578  0A0D  B7          	or	a, a
2579  0A0E  28 04       	jr	Z,l_game_check_cell_00125
2580  0A10  0E 48       	ld	c,0x48
2581  0A12  18 02       	jr	l_game_check_cell_00126
2582  0A14              l_game_check_cell_00125:
2583  0A14  0E 3A       	ld	c,0x3a
2584  0A16              l_game_check_cell_00126:
2585  0A16  78          	ld	a, b
2586  0A17  91          	sub	a, c
2587  0A18  30 04       	jr	NC,l_game_check_cell_00128
2588  0A1A  2E 00       	ld	l,0x00
2589  0A1C  18 63       	jr	l_game_check_cell_00156
2590  0A1E              l_game_check_cell_00128:
2591  0A1E  68          	ld	l, b
2592  0A1F  18 60       	jr	l_game_check_cell_00156
2593  0A21              l_game_check_cell_00134:
2594  0A21  78          	ld	a, b
2595  0A22  D6 3A       	sub	a,0x3a
2596  0A24  30 04       	jr	NC,l_game_check_cell_00136
2597  0A26  2E 00       	ld	l,0x00
2598  0A28  18 57       	jr	l_game_check_cell_00156
2599  0A2A              l_game_check_cell_00136:
2600  0A2A  3A 00 00    	ld	a,(_s_state)
2601  0A2D  E6 02       	and	a,0x02
2602  0A2F  5F          	ld	e, a
2603  0A30  CB 41       	bit	0, c
2604  0A32  28 0C       	jr	Z,l_game_check_cell_00141
2605  0A34  7B          	ld	a, e
2606  0A35  B7          	or	a, a
2607  0A36  28 04       	jr	Z,l_game_check_cell_00138
2608  0A38  2E 01       	ld	l,0x01
2609  0A3A  18 45       	jr	l_game_check_cell_00156
2610  0A3C              l_game_check_cell_00138:
2611  0A3C  2E 00       	ld	l,0x00
2612  0A3E  18 41       	jr	l_game_check_cell_00156
2613  0A40              l_game_check_cell_00141:
2614  0A40  78          	ld	a, b
2615  0A41  D6 48       	sub	a,0x48
2616  0A43  30 16       	jr	NC,l_game_check_cell_00149
2617  0A45  3A 00 00    	ld	a,(_sprite_horizontal_check)
2618  0A48  B7          	or	a, a
2619  0A49  28 04       	jr	Z,l_game_check_cell_00146
2620  0A4B  2E 00       	ld	l,0x00
2621  0A4D  18 32       	jr	l_game_check_cell_00156
2622  0A4F              l_game_check_cell_00146:
2623  0A4F  7B          	ld	a, e
2624  0A50  B7          	or	a, a
2625  0A51  28 04       	jr	Z,l_game_check_cell_00143
2626  0A53  2E 01       	ld	l,0x01
2627  0A55  18 2A       	jr	l_game_check_cell_00156
2628  0A57              l_game_check_cell_00143:
2629  0A57  2E 00       	ld	l,0x00
2630  0A59  18 26       	jr	l_game_check_cell_00156
2631  0A5B              l_game_check_cell_00149:
2632  0A5B  78          	ld	a, b
2633  0A5C  D6 4C       	sub	a,0x4c
2634  0A5E  30 16       	jr	NC,l_game_check_cell_00153
2635  0A60  DD CB FD 46 	bit	0,(ix-3)
2636  0A64  28 10       	jr	Z,l_game_check_cell_00153
2637  0A66  C5          	push	bc
2638  0A67  33          	inc	sp
2639  0A68  C1          	pop	bc
2640  0A69  E1          	pop	hl
2641  0A6A  E5          	push	hl
2642  0A6B  C5          	push	bc
2643  0A6C  E5          	push	hl
2644  0A6D  CD 00 00    	call	_player_open_door
2645  0A70  F1          	pop	af
2646  0A71  33          	inc	sp
2647  0A72  2E 01       	ld	l,0x01
2648  0A74  18 0B       	jr	l_game_check_cell_00156
2649  0A76              l_game_check_cell_00153:
2650  0A76  78          	ld	a, b
2651  0A77  D6 60       	sub	a,0x60
2652  0A79  30 04       	jr	NC,l_game_check_cell_00155
2653  0A7B  2E 01       	ld	l,0x01
2654  0A7D  18 02       	jr	l_game_check_cell_00156
2655  0A7F              l_game_check_cell_00155:
2656  0A7F  2E 00       	ld	l,0x00
2657  0A81              l_game_check_cell_00156:
2658  0A81  DD F9       	ld	sp, ix
2659  0A83  DD E1       	pop	ix
2660  0A85  C9          	ret
2661  0A86              	SECTION code_compiler
2662  0A86              ;	---------------------------------
2663  0A86              ; Function game_paint_attrib
2664  0A86              ; ---------------------------------
2665  0A86              _game_paint_attrib:
2666  0A86  CD 00 00    	call	___sdcc_enter_ix
2667  0A89  DD 7E 06    	ld	a,(ix+6)
2668  0A8C  32 00 00    	ld	(_tmp_uc),a
2669  0A8F              l_game_paint_attrib_00103:
2670  0A8F  21 00 00    	ld	hl,_tmp_uc
2671  0A92  7E          	ld	a, (hl)
2672  0A93  DD 96 07    	sub	a,(ix+7)
2673  0A96  30 15       	jr	NC,l_game_paint_attrib_00105
2674  0A98  DD 4E 04    	ld	c,(ix+4)
2675  0A9B  DD 46 05    	ld	b,(ix+5)
2676  0A9E  66          	ld	h,(hl)
2677  0A9F  DD 6E 08    	ld	l,(ix+8)
2678  0AA2  E5          	push	hl
2679  0AA3  C5          	push	bc
2680  0AA4  CD 00 00    	call	_NIRVANAP_paintC_callee
2681  0AA7  21 00 00    	ld	hl,_tmp_uc
2682  0AAA  34          	inc	(hl)
2683  0AAB  18 E2       	jr	l_game_paint_attrib_00103
2684  0AAD              l_game_paint_attrib_00105:
2685  0AAD  DD E1       	pop	ix
2686  0AAF  C9          	ret
2687  0AB0              	SECTION code_compiler
2688  0AB0              ;	---------------------------------
2689  0AB0              ; Function game_colour_message
2690  0AB0              ; ---------------------------------
2691  0AB0              _game_colour_message:
2692  0AB0  CD 00 00    	call	___sdcc_enter_ix
2693  0AB3  F5          	push	af
2694  0AB4  F5          	push	af
2695  0AB5  3B          	dec	sp
2696  0AB6  D1          	pop	de
2697  0AB7  21 00 00    	ld	hl,_tmp
2698  0ABA  36 01       	ld	(hl),0x01
2699  0ABC  2A 00 00    	ld	hl,(_curr_time)
2700  0ABF  22 00 00    	ld	(_frame_time),hl
2701  0AC2  E5          	push	hl
2702  0AC3  DD 7E 04    	ld	a,(ix+4)
2703  0AC6  4D          	ld	c,l
2704  0AC7  07          	rlca
2705  0AC8  07          	rlca
2706  0AC9  07          	rlca
2707  0ACA  E6 F8       	and	a,0xf8
2708  0ACC  DD 77 FF    	ld	(ix-1),a
2709  0ACF  C6 08       	add	a,0x08
2710  0AD1  DD 77 FE    	ld	(ix-2),a
2711  0AD4  DD 77 FD    	ld	(ix-3),a
2712  0AD7              l_game_colour_message_00112:
2713  0AD7  3A 00 00    	ld	a,(_tmp)
2714  0ADA  B7          	or	a, a
2715  0ADB  CA 61 0B    	jp	Z, l_game_colour_message_00114
2716  0ADE  DD 46 07    	ld	b,(ix+7)
2717  0AE1  21 00 00    	ld	hl,0x0000
2718  0AE4  39          	add	hl, sp
2719  0AE5  EB          	ex	de,hl
2720  0AE6  C5          	push	bc
2721  0AE7  33          	inc	sp
2722  0AE8  D5          	push	de
2723  0AE9  CD D3 0B    	call	_game_check_time
2724  0AEC  F1          	pop	af
2725  0AED  33          	inc	sp
2726  0AEE  7D          	ld	a, l
2727  0AEF  B7          	or	a, a
2728  0AF0  20 6F       	jr	NZ,l_game_colour_message_00114
2729  0AF2  3E 05       	ld	a,0x05
2730  0AF4  F5          	push	af
2731  0AF5  33          	inc	sp
2732  0AF6  21 00 00    	ld	hl,_frame_time
2733  0AF9  E5          	push	hl
2734  0AFA  CD D3 0B    	call	_game_check_time
2735  0AFD  F1          	pop	af
2736  0AFE  33          	inc	sp
2737  0AFF  7D          	ld	a, l
2738  0B00  B7          	or	a, a
2739  0B01  28 40       	jr	Z,l_game_colour_message_00105
2740  0B03  2A 00 00    	ld	hl,(_curr_time)
2741  0B06  22 00 00    	ld	(_frame_time),hl
2742  0B09  3A 00 00    	ld	a,(_game_over)
2743  0B0C  B7          	or	a,a
2744  0B0D  28 1B       	jr	Z,l_game_colour_message_00102
2745  0B0F  DD 66 FD    	ld	h,(ix-3)
2746  0B12  DD 6E 06    	ld	l,(ix+6)
2747  0B15  E5          	push	hl
2748  0B16  DD 7E 05    	ld	a,(ix+5)
2749  0B19  F5          	push	af
2750  0B1A  33          	inc	sp
2751  0B1B  21 00 00    	ld	hl,_attrib_hl
2752  0B1E  E5          	push	hl
2753  0B1F  CD 86 0A    	call	_game_paint_attrib
2754  0B22  F1          	pop	af
2755  0B23  F1          	pop	af
2756  0B24  33          	inc	sp
2757  0B25  CD 9C 10    	call	_game_rotate_attrib
2758  0B28  18 19       	jr	l_game_colour_message_00105
2759  0B2A              l_game_colour_message_00102:
2760  0B2A  DD 66 FE    	ld	h,(ix-2)
2761  0B2D  DD 6E 06    	ld	l,(ix+6)
2762  0B30  E5          	push	hl
2763  0B31  DD 7E 05    	ld	a,(ix+5)
2764  0B34  F5          	push	af
2765  0B35  33          	inc	sp
2766  0B36  21 00 00    	ld	hl,_attrib_osd
2767  0B39  E5          	push	hl
2768  0B3A  CD 86 0A    	call	_game_paint_attrib
2769  0B3D  F1          	pop	af
2770  0B3E  F1          	pop	af
2771  0B3F  33          	inc	sp
2772  0B40  CD B8 10    	call	_game_rotate_attrib_osd
2773  0B43              l_game_colour_message_00105:
2774  0B43  DD 7E 09    	ld	a,(ix+9)
2775  0B46  B7          	or	a, a
2776  0B47  28 8E       	jr	Z,l_game_colour_message_00112
2777  0B49              l_game_colour_message_00106:
2778  0B49  21 00 00    	ld	hl,_k1
2779  0B4C  E5          	push	hl
2780  0B4D  2A 00 00    	ld	hl,(_joyfunc1)
2781  0B50  CD 00 00    	call	___sdcc_call_hl
2782  0B53  F1          	pop	af
2783  0B54  7C          	ld	a,h
2784  0B55  B5          	or	a,l
2785  0B56  4D          	ld	c,l
2786  0B57  CA D7 0A    	jp	Z, l_game_colour_message_00112
2787  0B5A  21 00 00    	ld	hl,_tmp
2788  0B5D  36 00       	ld	(hl),0x00
2789  0B5F  18 E8       	jr	l_game_colour_message_00106
2790  0B61              l_game_colour_message_00114:
2791  0B61  DD 7E 06    	ld	a,(ix+6)
2792  0B64  DD 96 05    	sub	a,(ix+5)
2793  0B67  4F          	ld	c, a
2794  0B68  3A 00 00    	ld	a,(_game_over)
2795  0B6B  B7          	or	a, a
2796  0B6C  28 2B       	jr	Z,l_game_colour_message_00118
2797  0B6E  21 00 00    	ld	hl,_tmp1
2798  0B71  71          	ld	(hl), c
2799  0B72  21 00 00    	ld	hl,_tmp0
2800  0B75  36 00       	ld	(hl),0x00
2801  0B77              l_game_colour_message_00121:
2802  0B77  3A 00 00    	ld	a,(_tmp0)
2803  0B7A  21 00 00    	ld	hl,_tmp1
2804  0B7D  96          	sub	a, (hl)
2805  0B7E  30 4E       	jr	NC,l_game_colour_message_00126
2806  0B80  DD 7E 05    	ld	a,(ix+5)
2807  0B83  21 00 00    	ld	hl,_tmp0
2808  0B86  86          	add	a, (hl)
2809  0B87  47          	ld	b, a
2810  0B88  21 74 00    	ld	hl,___str_27
2811  0B8B  E5          	push	hl
2812  0B8C  DD 4E 04    	ld	c,(ix+4)
2813  0B8F  C5          	push	bc
2814  0B90  CD 00 00    	call	_zx_print_str
2815  0B93  21 00 00    	ld	hl,_tmp0
2816  0B96  34          	inc	(hl)
2817  0B97  18 DE       	jr	l_game_colour_message_00121
2818  0B99              l_game_colour_message_00118:
2819  0B99  21 00 00    	ld	hl,_tmp1
2820  0B9C  71          	ld	(hl), c
2821  0B9D  DD 7E FF    	ld	a,(ix-1)
2822  0BA0  32 00 00    	ld	(_s_lin0),a
2823  0BA3  DD 7E 05    	ld	a,(ix+5)
2824  0BA6  CB 3F       	srl	a
2825  0BA8  87          	add	a, a
2826  0BA9  32 00 00    	ld	(_s_col1),a
2827  0BAC  21 00 00    	ld	hl,_tmp0
2828  0BAF  36 00       	ld	(hl),0x00
2829  0BB1              l_game_colour_message_00124:
2830  0BB1  3A 00 00    	ld	a,(_tmp0)
2831  0BB4  21 00 00    	ld	hl,_tmp1
2832  0BB7  96          	sub	a, (hl)
2833  0BB8  30 14       	jr	NC,l_game_colour_message_00126
2834  0BBA  3A 00 00    	ld	a,(_s_col1)
2835  0BBD  21 00 00    	ld	hl,_tmp0
2836  0BC0  86          	add	a, (hl)
2837  0BC1  32 00 00    	ld	(_s_col0),a
2838  0BC4  CD 00 00    	call	_spr_back_repaint
2839  0BC7  21 00 00    	ld	hl,_tmp0
2840  0BCA  34          	inc	(hl)
2841  0BCB  34          	inc	(hl)
2842  0BCC  18 E3       	jr	l_game_colour_message_00124
2843  0BCE              l_game_colour_message_00126:
2844  0BCE  DD F9       	ld	sp, ix
2845  0BD0  DD E1       	pop	ix
2846  0BD2  C9          	ret
2847  0BD3              	SECTION rodata_compiler
2848  0074              ___str_27:
2849  0074  20          	DEFM " "
2850  0075  00          	DEFB 0x00
2851  0076              	SECTION code_compiler
2852  0BD3              ;	---------------------------------
2853  0BD3              ; Function game_check_time
2854  0BD3              ; ---------------------------------
2855  0BD3              _game_check_time:
2856  0BD3  CD 00 00    	call	___sdcc_enter_ix
2857  0BD6  2A 00 00    	ld	hl,(_curr_time)
2858  0BD9  4D          	ld	c, l
2859  0BDA  DD 6E 04    	ld	l,(ix+4)
2860  0BDD  44          	ld	b,h
2861  0BDE  DD 66 05    	ld	h,(ix+5)
2862  0BE1  5E          	ld	e, (hl)
2863  0BE2  23          	inc	hl
2864  0BE3  56          	ld	d, (hl)
2865  0BE4  79          	ld	a, c
2866  0BE5  93          	sub	a, e
2867  0BE6  4F          	ld	c, a
2868  0BE7  78          	ld	a, b
2869  0BE8  9A          	sbc	a, d
2870  0BE9  47          	ld	b, a
2871  0BEA  DD 7E 06    	ld	a,(ix+6)
2872  0BED  16 00       	ld	d,0x00
2873  0BEF  91          	sub	a, c
2874  0BF0  7A          	ld	a, d
2875  0BF1  98          	sbc	a, b
2876  0BF2  30 04       	jr	NC,l_game_check_time_00102
2877  0BF4  2E 01       	ld	l,0x01
2878  0BF6  18 02       	jr	l_game_check_time_00104
2879  0BF8              l_game_check_time_00102:
2880  0BF8  2E 00       	ld	l,0x00
2881  0BFA              l_game_check_time_00104:
2882  0BFA  DD E1       	pop	ix
2883  0BFC  C9          	ret
2884  0BFD              	SECTION code_compiler
2885  0BFD              ;	---------------------------------
2886  0BFD              ; Function game_shoot_fire
2887  0BFD              ; ---------------------------------
2888  0BFD              _game_shoot_fire:
2889  0BFD  CD 00 00    	call	___sdcc_enter_ix
2890  0C00  21 F1 FF    	ld	hl, -15
2891  0C03  39          	add	hl, sp
2892  0C04  F9          	ld	sp, hl
2893  0C05  01 00 00    	ld	bc,_bullet_col
2894  0C08  DD 6E 04    	ld	l,(ix+4)
2895  0C0B  26 00       	ld	h,0x00
2896  0C0D  09          	add	hl,bc
2897  0C0E  DD 75 FB    	ld	(ix-5),l
2898  0C11  DD 74 FC    	ld	(ix-4),h
2899  0C14  4E          	ld	c, (hl)
2900  0C15  0C          	inc	c
2901  0C16  C2 30 0E    	jp	NZ,l_game_shoot_fire_00126
2902  0C19  21 00 00    	ld	hl,_bullet_count
2903  0C1C  34          	inc	(hl)
2904  0C1D  01 00 00    	ld	bc,_bullet_dir
2905  0C20  DD 6E 04    	ld	l,(ix+4)
2906  0C23  26 00       	ld	h,0x00
2907  0C25  09          	add	hl,bc
2908  0C26  DD 75 F9    	ld	(ix-7),l
2909  0C29  DD 74 FA    	ld	(ix-6),h
2910  0C2C  36 00       	ld	(hl),0x00
2911  0C2E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2912  0C30  DD 86 04    	add	a,(ix+4)
2913  0C33  4F          	ld	c, a
2914  0C34  3E 00       	ld	a, +((_bullet_lin0) / 256)
2915  0C36  CE 00       	adc	a,0x00
2916  0C38  47          	ld	b, a
2917  0C39  11 00 00    	ld	de,_lin
2918  0C3C  DD 6E 04    	ld	l,(ix+4)
2919  0C3F  26 00       	ld	h,0x00
2920  0C41  19          	add	hl,de
2921  0C42  DD 75 F7    	ld	(ix-9),l
2922  0C45  DD 74 F8    	ld	(ix-8),h
2923  0C48  7E          	ld	a, (hl)
2924  0C49  02          	ld	(bc), a
2925  0C4A  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2926  0C4C  DD 86 04    	add	a,(ix+4)
2927  0C4F  4F          	ld	c, a
2928  0C50  3E 00       	ld	a, +((_bullet_col0) / 256)
2929  0C52  CE 00       	adc	a,0x00
2930  0C54  47          	ld	b, a
2931  0C55  11 00 00    	ld	de,_col
2932  0C58  DD 6E 04    	ld	l,(ix+4)
2933  0C5B  26 00       	ld	h,0x00
2934  0C5D  19          	add	hl,de
2935  0C5E  DD 75 F5    	ld	(ix-11),l
2936  0C61  DD 74 F6    	ld	(ix-10),h
2937  0C64  7E          	ld	a, (hl)
2938  0C65  02          	ld	(bc), a
2939  0C66  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2940  0C68  DD 86 04    	add	a,(ix+4)
2941  0C6B  DD 77 F3    	ld	(ix-13),a
2942  0C6E  3E 00       	ld	a, +((_bullet_lin) / 256)
2943  0C70  CE 00       	adc	a,0x00
2944  0C72  DD 77 F4    	ld	(ix-12),a
2945  0C75  DD 6E F7    	ld	l,(ix-9)
2946  0C78  DD 66 F8    	ld	h,(ix-8)
2947  0C7B  4E          	ld	c, (hl)
2948  0C7C  DD 6E F3    	ld	l,(ix-13)
2949  0C7F  DD 66 F4    	ld	h,(ix-12)
2950  0C82  71          	ld	(hl), c
2951  0C83  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2952  0C85  DD 86 04    	add	a,(ix+4)
2953  0C88  DD 77 F1    	ld	(ix-15),a
2954  0C8B  3E 00       	ld	a, +((_bullet_frames) / 256)
2955  0C8D  CE 00       	adc	a,0x00
2956  0C8F  DD 77 F2    	ld	(ix-14),a
2957  0C92  E1          	pop	hl
2958  0C93  E5          	push	hl
2959  0C94  36 02       	ld	(hl),0x02
2960  0C96  DD 7E 04    	ld	a,(ix+4)
2961  0C99  D6 07       	sub	a,0x07
2962  0C9B  20 04       	jr	NZ,l_game_shoot_fire_00175
2963  0C9D  3E 01       	ld	a,0x01
2964  0C9F  18 01       	jr	l_game_shoot_fire_00176
2965  0CA1              l_game_shoot_fire_00175:
2966  0CA1  AF          	xor	a,a
2967  0CA2              l_game_shoot_fire_00176:
2968  0CA2  DD 77 FF    	ld	(ix-1),a
2969  0CA5  B7          	or	a, a
2970  0CA6  28 1D       	jr	Z,l_game_shoot_fire_00102
2971  0CA8  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2972  0CAA  DD 86 04    	add	a,(ix+4)
2973  0CAD  DD 77 FD    	ld	(ix-3),a
2974  0CB0  3E 00       	ld	a, +((_bullet_max) / 256)
2975  0CB2  CE 00       	adc	a,0x00
2976  0CB4  DD 77 FE    	ld	(ix-2),a
2977  0CB7  3A 00 00    	ld	a,(_player_lvl)
2978  0CBA  C6 04       	add	a,0x04
2979  0CBC  DD 6E FD    	ld	l,(ix-3)
2980  0CBF  DD 66 FE    	ld	h,(ix-2)
2981  0CC2  77          	ld	(hl), a
2982  0CC3  18 0D       	jr	l_game_shoot_fire_00103
2983  0CC5              l_game_shoot_fire_00102:
2984  0CC5  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2985  0CC7  DD 86 04    	add	a,(ix+4)
2986  0CCA  4F          	ld	c, a
2987  0CCB  3E 00       	ld	a, +((_bullet_max) / 256)
2988  0CCD  CE 00       	adc	a,0x00
2989  0CCF  47          	ld	b, a
2990  0CD0  AF          	xor	a, a
2991  0CD1  02          	ld	(bc), a
2992  0CD2              l_game_shoot_fire_00103:
2993  0CD2  DD 7E 05    	ld	a,(ix+5)
2994  0CD5  D6 7C       	sub	a,0x7c
2995  0CD7  20 21       	jr	NZ,l_game_shoot_fire_00105
2996  0CD9  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2997  0CDB  DD 86 04    	add	a,(ix+4)
2998  0CDE  4F          	ld	c, a
2999  0CDF  3E 00       	ld	a, +((_bullet_class) / 256)
3000  0CE1  CE 00       	adc	a,0x00
3001  0CE3  47          	ld	b, a
3002  0CE4  3E 01       	ld	a,0x01
3003  0CE6  02          	ld	(bc), a
3004  0CE7  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3005  0CE9  DD 86 04    	add	a,(ix+4)
3006  0CEC  4F          	ld	c, a
3007  0CED  3E 00       	ld	a, +((_bullet_max) / 256)
3008  0CEF  CE 00       	adc	a,0x00
3009  0CF1  47          	ld	b, a
3010  0CF2  3A 00 00    	ld	a,(_game_world)
3011  0CF5  87          	add	a, a
3012  0CF6  87          	add	a, a
3013  0CF7  C6 08       	add	a,0x08
3014  0CF9  02          	ld	(bc), a
3015  0CFA              l_game_shoot_fire_00105:
3016  0CFA  DD 7E 05    	ld	a,(ix+5)
3017  0CFD  D6 78       	sub	a,0x78
3018  0CFF  20 24       	jr	NZ,l_game_shoot_fire_00110
3019  0D01  DD 7E FF    	ld	a,(ix-1)
3020  0D04  B7          	or	a, a
3021  0D05  28 10       	jr	Z,l_game_shoot_fire_00107
3022  0D07  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3023  0D09  DD 86 04    	add	a,(ix+4)
3024  0D0C  4F          	ld	c, a
3025  0D0D  3E 00       	ld	a, +((_bullet_class) / 256)
3026  0D0F  CE 00       	adc	a,0x00
3027  0D11  47          	ld	b, a
3028  0D12  3E 01       	ld	a,0x01
3029  0D14  02          	ld	(bc), a
3030  0D15  18 0E       	jr	l_game_shoot_fire_00110
3031  0D17              l_game_shoot_fire_00107:
3032  0D17  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3033  0D19  DD 86 04    	add	a,(ix+4)
3034  0D1C  4F          	ld	c, a
3035  0D1D  3E 00       	ld	a, +((_bullet_class) / 256)
3036  0D1F  CE 00       	adc	a,0x00
3037  0D21  47          	ld	b, a
3038  0D22  3E 02       	ld	a,0x02
3039  0D24  02          	ld	(bc), a
3040  0D25              l_game_shoot_fire_00110:
3041  0D25  DD 7E 05    	ld	a,(ix+5)
3042  0D28  D6 80       	sub	a,0x80
3043  0D2A  20 04       	jr	NZ,l_game_shoot_fire_00181
3044  0D2C  3E 01       	ld	a,0x01
3045  0D2E  18 01       	jr	l_game_shoot_fire_00182
3046  0D30              l_game_shoot_fire_00181:
3047  0D30  AF          	xor	a,a
3048  0D31              l_game_shoot_fire_00182:
3049  0D31  4F          	ld	c,a
3050  0D32  B7          	or	a, a
3051  0D33  28 31       	jr	Z,l_game_shoot_fire_00112
3052  0D35  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3053  0D37  DD 86 04    	add	a,(ix+4)
3054  0D3A  5F          	ld	e, a
3055  0D3B  3E 00       	ld	a, +((_bullet_class) / 256)
3056  0D3D  CE 00       	adc	a,0x00
3057  0D3F  57          	ld	d, a
3058  0D40  3E 04       	ld	a,0x04
3059  0D42  12          	ld	(de), a
3060  0D43  DD 6E F7    	ld	l,(ix-9)
3061  0D46  DD 66 F8    	ld	h,(ix-8)
3062  0D49  7E          	ld	a, (hl)
3063  0D4A  C6 FC       	add	a,0xfc
3064  0D4C  DD 6E F3    	ld	l,(ix-13)
3065  0D4F  DD 66 F4    	ld	h,(ix-12)
3066  0D52  77          	ld	(hl), a
3067  0D53  E1          	pop	hl
3068  0D54  E5          	push	hl
3069  0D55  36 04       	ld	(hl),0x04
3070  0D57  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3071  0D59  DD 86 04    	add	a,(ix+4)
3072  0D5C  5F          	ld	e, a
3073  0D5D  3E 00       	ld	a, +((_bullet_vel) / 256)
3074  0D5F  CE 00       	adc	a,0x00
3075  0D61  57          	ld	d, a
3076  0D62  3A 00 00    	ld	a,(_player_vel_y0)
3077  0D65  12          	ld	(de), a
3078  0D66              l_game_shoot_fire_00112:
3079  0D66  3A 00 00    	ld	a,(_s_state)
3080  0D69  E6 08       	and	a,0x08
3081  0D6B  47          	ld	b, a
3082  0D6C  3A 00 00    	ld	a,(_sprite)
3083  0D6F  D6 07       	sub	a,0x07
3084  0D71  20 06       	jr	NZ,l_game_shoot_fire_00114
3085  0D73  3A 07 00    	ld	a,(_state_a + 0x0007)
3086  0D76  E6 08       	and	a,0x08
3087  0D78  47          	ld	b, a
3088  0D79              l_game_shoot_fire_00114:
3089  0D79  DD 6E F5    	ld	l,(ix-11)
3090  0D7C  DD 66 F6    	ld	h,(ix-10)
3091  0D7F  56          	ld	d, (hl)
3092  0D80  DD 6E F7    	ld	l,(ix-9)
3093  0D83  DD 66 F8    	ld	h,(ix-8)
3094  0D86  7E          	ld	a, (hl)
3095  0D87  C5          	push	bc
3096  0D88  5F          	ld	e,a
3097  0D89  D5          	push	de
3098  0D8A  CD 00 00    	call	_spr_calc_index
3099  0D8D  F1          	pop	af
3100  0D8E  EB          	ex	de,hl
3101  0D8F  C1          	pop	bc
3102  0D90  ED 53 00 00 	ld	(_index1),de
3103  0D94  DD 6E F5    	ld	l,(ix-11)
3104  0D97  DD 66 F6    	ld	h,(ix-10)
3105  0D9A  7E          	ld	a, (hl)
3106  0D9B  DD 77 FD    	ld	(ix-3),a
3107  0D9E  78          	ld	a, b
3108  0D9F  B7          	or	a, a
3109  0DA0  28 54       	jr	Z,l_game_shoot_fire_00123
3110  0DA2  DD 7E FD    	ld	a,(ix-3)
3111  0DA5  D6 01       	sub	a,0x01
3112  0DA7  30 05       	jr	NC,l_game_shoot_fire_00116
3113  0DA9  2E 01       	ld	l,0x01
3114  0DAB  C3 32 0E    	jp	l_game_shoot_fire_00127
3115  0DAE              l_game_shoot_fire_00116:
3116  0DAE  DD 6E FB    	ld	l,(ix-5)
3117  0DB1  DD 66 FC    	ld	h,(ix-4)
3118  0DB4  DD 7E FD    	ld	a,(ix-3)
3119  0DB7  77          	ld	(hl), a
3120  0DB8  79          	ld	a, c
3121  0DB9  B7          	or	a, a
3122  0DBA  20 13       	jr	NZ,l_game_shoot_fire_00118
3123  0DBC  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3124  0DBE  DD 86 04    	add	a,(ix+4)
3125  0DC1  4F          	ld	c, a
3126  0DC2  3E 00       	ld	a, +((_bullet_tile) / 256)
3127  0DC4  CE 00       	adc	a,0x00
3128  0DC6  47          	ld	b, a
3129  0DC7  DD 7E 05    	ld	a,(ix+5)
3130  0DCA  C6 02       	add	a,0x02
3131  0DCC  02          	ld	(bc), a
3132  0DCD  18 0F       	jr	l_game_shoot_fire_00119
3133  0DCF              l_game_shoot_fire_00118:
3134  0DCF  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3135  0DD1  DD 86 04    	add	a,(ix+4)
3136  0DD4  4F          	ld	c, a
3137  0DD5  3E 00       	ld	a, +((_bullet_tile) / 256)
3138  0DD7  CE 00       	adc	a,0x00
3139  0DD9  47          	ld	b, a
3140  0DDA  DD 7E 05    	ld	a,(ix+5)
3141  0DDD  02          	ld	(bc), a
3142  0DDE              l_game_shoot_fire_00119:
3143  0DDE  DD 6E F9    	ld	l,(ix-7)
3144  0DE1  DD 66 FA    	ld	h,(ix-6)
3145  0DE4  36 01       	ld	(hl),0x01
3146  0DE6  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3147  0DE8  DD 86 04    	add	a,(ix+4)
3148  0DEB  4F          	ld	c, a
3149  0DEC  3E 00       	ld	a, +((_bullet_colint) / 256)
3150  0DEE  CE 00       	adc	a,0x00
3151  0DF0  47          	ld	b, a
3152  0DF1  3E 02       	ld	a,0x02
3153  0DF3  02          	ld	(bc), a
3154  0DF4  18 3A       	jr	l_game_shoot_fire_00126
3155  0DF6              l_game_shoot_fire_00123:
3156  0DF6  3E 1D       	ld	a,0x1d
3157  0DF8  DD 96 FD    	sub	a,(ix-3)
3158  0DFB  30 04       	jr	NC,l_game_shoot_fire_00121
3159  0DFD  2E 01       	ld	l,0x01
3160  0DFF  18 31       	jr	l_game_shoot_fire_00127
3161  0E01              l_game_shoot_fire_00121:
3162  0E01  DD 6E FB    	ld	l,(ix-5)
3163  0E04  DD 66 FC    	ld	h,(ix-4)
3164  0E07  DD 7E FD    	ld	a,(ix-3)
3165  0E0A  77          	ld	(hl), a
3166  0E0B  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3167  0E0D  DD 86 04    	add	a,(ix+4)
3168  0E10  4F          	ld	c, a
3169  0E11  3E 00       	ld	a, +((_bullet_tile) / 256)
3170  0E13  CE 00       	adc	a,0x00
3171  0E15  47          	ld	b, a
3172  0E16  DD 7E 05    	ld	a,(ix+5)
3173  0E19  02          	ld	(bc), a
3174  0E1A  DD 6E F9    	ld	l,(ix-7)
3175  0E1D  DD 66 FA    	ld	h,(ix-6)
3176  0E20  36 FF       	ld	(hl),0xff
3177  0E22  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3178  0E24  DD 86 04    	add	a,(ix+4)
3179  0E27  4F          	ld	c, a
3180  0E28  3E 00       	ld	a, +((_bullet_colint) / 256)
3181  0E2A  CE 00       	adc	a,0x00
3182  0E2C  47          	ld	b, a
3183  0E2D  3E FF       	ld	a,0xff
3184  0E2F  02          	ld	(bc), a
3185  0E30              l_game_shoot_fire_00126:
3186  0E30  2E 00       	ld	l,0x00
3187  0E32              l_game_shoot_fire_00127:
3188  0E32  DD F9       	ld	sp, ix
3189  0E34  DD E1       	pop	ix
3190  0E36  C9          	ret
3191  0E37              	SECTION code_compiler
3192  0E37              ;	---------------------------------
3193  0E37              ; Function game_shoot_fire_boss
3194  0E37              ; ---------------------------------
3195  0E37              _game_shoot_fire_boss:
3196  0E37  CD 00 00    	call	___sdcc_enter_ix
3197  0E3A  F5          	push	af
3198  0E3B  F5          	push	af
3199  0E3C  3B          	dec	sp
3200  0E3D  3A 07 00    	ld	a,(_col + 0x0007)
3201  0E40  4F          	ld	c,a
3202  0E41  21 00 00    	ld	hl,_boss_col
3203  0E44  96          	sub	a, (hl)
3204  0E45  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3205  0E47  DD 36 FB 01 	ld	(ix-5),0x01
3206  0E4B              l_game_shoot_fire_boss_00102:
3207  0E4B  3A 00 00    	ld	a,(_boss_col)
3208  0E4E  91          	sub	a, c
3209  0E4F  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3210  0E51  DD 36 FB 00 	ld	(ix-5),0x00
3211  0E55              l_game_shoot_fire_boss_00131:
3212  0E55  1E 00       	ld	e,0x00
3213  0E57              l_game_shoot_fire_boss_00107:
3214  0E57  7B          	ld	a, e
3215  0E58  D6 07       	sub	a,0x07
3216  0E5A  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3217  0E5C  16 00       	ld	d,0x00
3218  0E5E  21 00 00    	ld	hl,_bullet_col
3219  0E61  19          	add	hl, de
3220  0E62  4E          	ld	c, (hl)
3221  0E63  0C          	inc	c
3222  0E64  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3223  0E66  1C          	inc	e
3224  0E67  18 EE       	jr	l_game_shoot_fire_boss_00107
3225  0E69              l_game_shoot_fire_boss_00138:
3226  0E69  7B          	ld	a,e
3227  0E6A  47          	ld	b,a
3228  0E6B  D6 07       	sub	a,0x07
3229  0E6D  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3230  0E6F  6F          	ld	l,a
3231  0E70  C3 9D 0F    	jp	l_game_shoot_fire_boss_00125
3232  0E73              l_game_shoot_fire_boss_00111:
3233  0E73  21 00 00    	ld	hl,_bullet_count
3234  0E76  34          	inc	(hl)
3235  0E77  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3236  0E79  83          	add	a, e
3237  0E7A  DD 77 FE    	ld	(ix-2),a
3238  0E7D  6F          	ld	l,a
3239  0E7E  3E 00       	ld	a,+((_bullet_dir) / 256)
3240  0E80  CE 00       	adc	a,0x00
3241  0E82  DD 77 FF    	ld	(ix-1),a
3242  0E85  67          	ld	h,a
3243  0E86  36 00       	ld	(hl),0x00
3244  0E88  3A 00 00    	ld	a,(_game_world)
3245  0E8B  3D          	dec	a
3246  0E8C  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3247  0E8E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3248  0E90  83          	add	a, e
3249  0E91  4F          	ld	c, a
3250  0E92  3E 00       	ld	a, +((_bullet_lin0) / 256)
3251  0E94  CE 00       	adc	a,0x00
3252  0E96  57          	ld	d, a
3253  0E97  3A 00 00    	ld	a,(_boss_lin)
3254  0E9A  C6 10       	add	a,0x10
3255  0E9C  69          	ld	l, c
3256  0E9D  62          	ld	h, d
3257  0E9E  77          	ld	(hl), a
3258  0E9F  16 00       	ld	d,0x00
3259  0EA1  21 00 00    	ld	hl,_bullet_class
3260  0EA4  19          	add	hl, de
3261  0EA5  36 02       	ld	(hl),0x02
3262  0EA7  18 2E       	jr	l_game_shoot_fire_boss_00117
3263  0EA9              l_game_shoot_fire_boss_00116:
3264  0EA9  16 00       	ld	d,0x00
3265  0EAB  21 00 00    	ld	hl,_bullet_class
3266  0EAE  19          	add	hl, de
3267  0EAF  36 05       	ld	(hl),0x05
3268  0EB1  3A 00 00    	ld	a,(_tmp0)
3269  0EB4  B7          	or	a, a
3270  0EB5  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3271  0EB7  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3272  0EB9  83          	add	a, e
3273  0EBA  5F          	ld	e, a
3274  0EBB  3E 00       	ld	a, +((_bullet_lin0) / 256)
3275  0EBD  CE 00       	adc	a,0x00
3276  0EBF  57          	ld	d, a
3277  0EC0  3A 00 00    	ld	a,(_boss_lin)
3278  0EC3  C6 F8       	add	a,0xf8
3279  0EC5  12          	ld	(de), a
3280  0EC6  18 0F       	jr	l_game_shoot_fire_boss_00117
3281  0EC8              l_game_shoot_fire_boss_00113:
3282  0EC8  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3283  0ECA  83          	add	a, e
3284  0ECB  5F          	ld	e, a
3285  0ECC  3E 00       	ld	a, +((_bullet_lin0) / 256)
3286  0ECE  CE 00       	adc	a,0x00
3287  0ED0  57          	ld	d, a
3288  0ED1  3A 00 00    	ld	a,(_boss_lin)
3289  0ED4  C6 18       	add	a,0x18
3290  0ED6  12          	ld	(de), a
3291  0ED7              l_game_shoot_fire_boss_00117:
3292  0ED7  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3293  0ED9  80          	add	a, b
3294  0EDA  5F          	ld	e, a
3295  0EDB  3E 00       	ld	a, +((_bullet_col0) / 256)
3296  0EDD  CE 00       	adc	a,0x00
3297  0EDF  57          	ld	d, a
3298  0EE0  3A 00 00    	ld	a,(_boss_col)
3299  0EE3  12          	ld	(de), a
3300  0EE4  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3301  0EE6  80          	add	a, b
3302  0EE7  DD 77 FC    	ld	(ix-4),a
3303  0EEA  6F          	ld	l,a
3304  0EEB  3E 00       	ld	a,+((_bullet_col) / 256)
3305  0EED  CE 00       	adc	a,0x00
3306  0EEF  DD 77 FD    	ld	(ix-3),a
3307  0EF2  67          	ld	h,a
3308  0EF3  3A 00 00    	ld	a,(_boss_col)
3309  0EF6  77          	ld	(hl),a
3310  0EF7  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3311  0EF9  80          	add	a, b
3312  0EFA  5F          	ld	e, a
3313  0EFB  3E 00       	ld	a, +((_bullet_lin) / 256)
3314  0EFD  CE 00       	adc	a,0x00
3315  0EFF  57          	ld	d, a
3316  0F00  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3317  0F02  80          	add	a, b
3318  0F03  6F          	ld	l, a
3319  0F04  3E 00       	ld	a, +((_bullet_lin0) / 256)
3320  0F06  CE 00       	adc	a,0x00
3321  0F08  67          	ld	h, a
3322  0F09  7E          	ld	a, (hl)
3323  0F0A  12          	ld	(de), a
3324  0F0B  11 00 00    	ld	de,_bullet_frames+0
3325  0F0E  68          	ld	l,b
3326  0F0F  26 00       	ld	h,0x00
3327  0F11  19          	add	hl, de
3328  0F12  36 02       	ld	(hl),0x02
3329  0F14  11 00 00    	ld	de,_bullet_max+0
3330  0F17  68          	ld	l,b
3331  0F18  26 00       	ld	h,0x00
3332  0F1A  19          	add	hl, de
3333  0F1B  36 08       	ld	(hl),0x08
3334  0F1D  3A 00 00    	ld	a,(_boss_col)
3335  0F20  C5          	push	bc
3336  0F21  F5          	push	af
3337  0F22  33          	inc	sp
3338  0F23  3A 00 00    	ld	a,(_boss_lin)
3339  0F26  F5          	push	af
3340  0F27  33          	inc	sp
3341  0F28  CD 00 00    	call	_spr_calc_index
3342  0F2B  F1          	pop	af
3343  0F2C  EB          	ex	de,hl
3344  0F2D  C1          	pop	bc
3345  0F2E  ED 53 00 00 	ld	(_index1),de
3346  0F32  DD 7E FB    	ld	a,(ix-5)
3347  0F35  B7          	or	a, a
3348  0F36  28 2D       	jr	Z,l_game_shoot_fire_boss_00123
3349  0F38  3A 00 00    	ld	a,(_boss_col)
3350  0F3B  D6 01       	sub	a,0x01
3351  0F3D  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3352  0F3F  2E 01       	ld	l,0x01
3353  0F41  18 5A       	jr	l_game_shoot_fire_boss_00125
3354  0F43              l_game_shoot_fire_boss_00119:
3355  0F43  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3356  0F45  80          	add	a, b
3357  0F46  5F          	ld	e, a
3358  0F47  3E 00       	ld	a, +((_bullet_tile) / 256)
3359  0F49  CE 00       	adc	a,0x00
3360  0F4B  57          	ld	d, a
3361  0F4C  DD 7E 04    	ld	a,(ix+4)
3362  0F4F  C6 02       	add	a,0x02
3363  0F51  12          	ld	(de), a
3364  0F52  DD 6E FE    	ld	l,(ix-2)
3365  0F55  DD 66 FF    	ld	h,(ix-1)
3366  0F58  36 01       	ld	(hl),0x01
3367  0F5A  11 00 00    	ld	de,_bullet_colint+0
3368  0F5D  68          	ld	l,b
3369  0F5E  26 00       	ld	h,0x00
3370  0F60  19          	add	hl, de
3371  0F61  36 02       	ld	(hl),0x02
3372  0F63  18 36       	jr	l_game_shoot_fire_boss_00124
3373  0F65              l_game_shoot_fire_boss_00123:
3374  0F65  3E 1D       	ld	a,0x1d
3375  0F67  21 00 00    	ld	hl,_boss_col
3376  0F6A  96          	sub	a, (hl)
3377  0F6B  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3378  0F6D  2E 01       	ld	l,0x01
3379  0F6F  18 2C       	jr	l_game_shoot_fire_boss_00125
3380  0F71              l_game_shoot_fire_boss_00121:
3381  0F71  3A 00 00    	ld	a,(_boss_col)
3382  0F74  C6 06       	add	a,0x06
3383  0F76  DD 6E FC    	ld	l,(ix-4)
3384  0F79  DD 66 FD    	ld	h,(ix-3)
3385  0F7C  77          	ld	(hl), a
3386  0F7D  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3387  0F7F  80          	add	a, b
3388  0F80  5F          	ld	e, a
3389  0F81  3E 00       	ld	a, +((_bullet_tile) / 256)
3390  0F83  CE 00       	adc	a,0x00
3391  0F85  57          	ld	d, a
3392  0F86  DD 7E 04    	ld	a,(ix+4)
3393  0F89  12          	ld	(de), a
3394  0F8A  DD 6E FE    	ld	l,(ix-2)
3395  0F8D  DD 66 FF    	ld	h,(ix-1)
3396  0F90  36 FF       	ld	(hl),0xff
3397  0F92  11 00 00    	ld	de,_bullet_colint+0
3398  0F95  68          	ld	l,b
3399  0F96  26 00       	ld	h,0x00
3400  0F98  19          	add	hl, de
3401  0F99  36 FF       	ld	(hl),0xff
3402  0F9B              l_game_shoot_fire_boss_00124:
3403  0F9B  2E 00       	ld	l,0x00
3404  0F9D              l_game_shoot_fire_boss_00125:
3405  0F9D  DD F9       	ld	sp, ix
3406  0F9F  DD E1       	pop	ix
3407  0FA1  C9          	ret
3408  0FA2              	SECTION code_compiler
3409  0FA2              ;	---------------------------------
3410  0FA2              ; Function game_obj_set
3411  0FA2              ; ---------------------------------
3412  0FA2              _game_obj_set:
3413  0FA2  3A 00 00    	ld	a,(_scr_curr)
3414  0FA5  EB          	ex	de,hl
3415  0FA6  D6 08       	sub	a,0x08
3416  0FA8  30 19       	jr	NC,l_game_obj_set_00102
3417  0FAA  21 00 00    	ld	hl,_scr_obj0
3418  0FAD  19          	add	hl,de
3419  0FAE  5E          	ld	e,(hl)
3420  0FAF  3A 00 00    	ld	a,(_scr_curr)
3421  0FB2  3C          	inc	a
3422  0FB3  16 01       	ld	d,0x01
3423  0FB5  4D          	ld	c,l
3424  0FB6  44          	ld	b,h
3425  0FB7  18 02       	jr	l_game_obj_set_00111
3426  0FB9              l_game_obj_set_00110:
3427  0FB9  CB 22       	sla	d
3428  0FBB              l_game_obj_set_00111:
3429  0FBB  3D          	dec	a
3430  0FBC  20 FB       	jr	NZ,l_game_obj_set_00110
3431  0FBE  7B          	ld	a, e
3432  0FBF  B2          	or	a, d
3433  0FC0  02          	ld	(bc), a
3434  0FC1  18 17       	jr	l_game_obj_set_00104
3435  0FC3              l_game_obj_set_00102:
3436  0FC3  3A 00 00    	ld	a,(_scr_curr)
3437  0FC6  C6 F8       	add	a,0xf8
3438  0FC8  47          	ld	b, a
3439  0FC9  21 00 00    	ld	hl,_scr_obj1
3440  0FCC  19          	add	hl, de
3441  0FCD  4E          	ld	c, (hl)
3442  0FCE  1E 01       	ld	e,0x01
3443  0FD0  04          	inc	b
3444  0FD1  18 02       	jr	l_game_obj_set_00113
3445  0FD3              l_game_obj_set_00112:
3446  0FD3  CB 23       	sla	e
3447  0FD5              l_game_obj_set_00113:
3448  0FD5  10 FC       	djnz	l_game_obj_set_00112
3449  0FD7  79          	ld	a, c
3450  0FD8  B3          	or	a, e
3451  0FD9  77          	ld	(hl), a
3452  0FDA              l_game_obj_set_00104:
3453  0FDA  C9          	ret
3454  0FDB              	SECTION code_compiler
3455  0FDB              ;	---------------------------------
3456  0FDB              ; Function game_obj_chk
3457  0FDB              ; ---------------------------------
3458  0FDB              _game_obj_chk:
3459  0FDB  3A 00 00    	ld	a,(_scr_curr)
3460  0FDE  EB          	ex	de,hl
3461  0FDF  D6 08       	sub	a,0x08
3462  0FE1  30 17       	jr	NC,l_game_obj_chk_00102
3463  0FE3  21 00 00    	ld	hl,_scr_obj0
3464  0FE6  19          	add	hl, de
3465  0FE7  4E          	ld	c, (hl)
3466  0FE8  21 00 00    	ld	hl,_scr_curr
3467  0FEB  46          	ld	b, (hl)
3468  0FEC  1E 01       	ld	e,0x01
3469  0FEE  04          	inc	b
3470  0FEF  18 02       	jr	l_game_obj_chk_00111
3471  0FF1              l_game_obj_chk_00110:
3472  0FF1  CB 23       	sla	e
3473  0FF3              l_game_obj_chk_00111:
3474  0FF3  10 FC       	djnz	l_game_obj_chk_00110
3475  0FF5  79          	ld	a, c
3476  0FF6  A3          	and	a, e
3477  0FF7  6F          	ld	l, a
3478  0FF8  18 17       	jr	l_game_obj_chk_00104
3479  0FFA              l_game_obj_chk_00102:
3480  0FFA  3A 00 00    	ld	a,(_scr_curr)
3481  0FFD  C6 F8       	add	a,0xf8
3482  0FFF  47          	ld	b, a
3483  1000  21 00 00    	ld	hl,_scr_obj1
3484  1003  19          	add	hl, de
3485  1004  4E          	ld	c, (hl)
3486  1005  1E 01       	ld	e,0x01
3487  1007  04          	inc	b
3488  1008  18 02       	jr	l_game_obj_chk_00113
3489  100A              l_game_obj_chk_00112:
3490  100A  CB 23       	sla	e
3491  100C              l_game_obj_chk_00113:
3492  100C  10 FC       	djnz	l_game_obj_chk_00112
3493  100E  79          	ld	a, c
3494  100F  A3          	and	a, e
3495  1010  6F          	ld	l, a
3496  1011              l_game_obj_chk_00104:
3497  1011  C9          	ret
3498  1012              	SECTION code_compiler
3499  1012              ;	---------------------------------
3500  1012              ; Function game_obj_clear
3501  1012              ; ---------------------------------
3502  1012              _game_obj_clear:
3503  1012  21 00 00    	ld	hl,_tmp
3504  1015  36 00       	ld	(hl),0x00
3505  1017              l_game_obj_clear_00105:
3506  1017  2A 00 00    	ld	hl,(_tmp)
3507  101A  26 00       	ld	h,0x00
3508  101C  01 00 00    	ld	bc,_scr_obj0
3509  101F  09          	add	hl,bc
3510  1020  AF          	xor	a,a
3511  1021  77          	ld	(hl),a
3512  1022  2A 00 00    	ld	hl,(_tmp)
3513  1025  26 00       	ld	h,0x00
3514  1027  01 00 00    	ld	bc,_scr_obj1
3515  102A  09          	add	hl,bc
3516  102B  AF          	xor	a,a
3517  102C  77          	ld	(hl),a
3518  102D  21 00 00    	ld	hl,_tmp
3519  1030  7E          	ld	a,(hl)
3520  1031  3C          	inc	a
3521  1032  77          	ld	(hl),a
3522  1033  D6 A0       	sub	a,0xa0
3523  1035  38 E0       	jr	C,l_game_obj_clear_00105
3524  1037  3A 00 00    	ld	a,(_game_inmune)
3525  103A  B7          	or	a, a
3526  103B  28 07       	jr	Z,l_game_obj_clear_00103
3527  103D  21 00 00    	ld	hl,_tmp
3528  1040  36 01       	ld	(hl),0x01
3529  1042  18 05       	jr	l_game_obj_clear_00104
3530  1044              l_game_obj_clear_00103:
3531  1044  21 00 00    	ld	hl,_tmp
3532  1047  36 00       	ld	(hl),0x00
3533  1049              l_game_obj_clear_00104:
3534  1049  3A 00 00    	ld	a,(_tmp)
3535  104C  32 00 00    	ld	(_player_keys),a
3536  104F  32 01 00    	ld	((_player_keys + 0x0001)),a
3537  1052  3A 00 00    	ld	a,(_tmp)
3538  1055  32 02 00    	ld	((_player_keys + 0x0002)),a
3539  1058  32 03 00    	ld	((_player_keys + 0x0003)),a
3540  105B  C9          	ret
3541  105C              	SECTION code_compiler
3542  105C              ;	---------------------------------
3543  105C              ; Function game_boss_clear
3544  105C              ; ---------------------------------
3545  105C              _game_boss_clear:
3546  105C  CD 00 00    	call	___sdcc_enter_ix
3547  105F  F5          	push	af
3548  1060  3A 00 00    	ld	a,(_game_world)
3549  1063  B7          	or	a, a
3550  1064  20 32       	jr	NZ,l_game_boss_clear_00108
3551  1066  21 00 00    	ld	hl,0x0000
3552  1069  E3          	ex	(sp), hl
3553  106A              l_game_boss_clear_00106:
3554  106A  3E 00       	ld	a, +((_scr_map) & 0xFF)
3555  106C  DD 86 FE    	add	a,(ix-2)
3556  106F  4F          	ld	c, a
3557  1070  3E 00       	ld	a, +((_scr_map) / 256)
3558  1072  DD 8E FF    	adc	a,(ix-1)
3559  1075  47          	ld	b, a
3560  1076  0A          	ld	a, (bc)
3561  1077  D6 37       	sub	a,0x37
3562  1079  20 09       	jr	NZ,l_game_boss_clear_00107
3563  107B  AF          	xor	a, a
3564  107C  02          	ld	(bc), a
3565  107D  21 00 00    	ld	hl,0x0000
3566  1080  39          	add	hl, sp
3567  1081  CD 00 00    	call	_spr_draw_index
3568  1084              l_game_boss_clear_00107:
3569  1084  DD 34 FE    	inc	(ix-2)
3570  1087  20 03       	jr	NZ,l_game_boss_clear_00124
3571  1089  DD 34 FF    	inc	(ix-1)
3572  108C              l_game_boss_clear_00124:
3573  108C  DD 7E FE    	ld	a,(ix-2)
3574  108F  D6 A0       	sub	a,0xa0
3575  1091  DD 7E FF    	ld	a,(ix-1)
3576  1094  DE 00       	sbc	a,0x00
3577  1096  38 D2       	jr	C,l_game_boss_clear_00106
3578  1098              l_game_boss_clear_00108:
3579  1098  F1          	pop	af
3580  1099  DD E1       	pop	ix
3581  109B  C9          	ret
3582  109C              	SECTION code_compiler
3583  109C              ;	---------------------------------
3584  109C              ; Function game_rotate_attrib
3585  109C              ; ---------------------------------
3586  109C              _game_rotate_attrib:
3587  109C  01 03 00    	ld	bc,_attrib_hl + 3
3588  109F  0A          	ld	a, (bc)
3589  10A0  32 00 00    	ld	(_tmp_uc),a
3590  10A3  11 02 00    	ld	de,_attrib_hl + 2
3591  10A6  1A          	ld	a, (de)
3592  10A7  02          	ld	(bc), a
3593  10A8  01 01 00    	ld	bc,_attrib_hl + 1
3594  10AB  0A          	ld	a, (bc)
3595  10AC  12          	ld	(de), a
3596  10AD  3A 00 00    	ld	a,(_attrib_hl)
3597  10B0  02          	ld	(bc), a
3598  10B1  3A 00 00    	ld	a,(_tmp_uc)
3599  10B4  32 00 00    	ld	(_attrib_hl),a
3600  10B7  C9          	ret
3601  10B8              	SECTION code_compiler
3602  10B8              ;	---------------------------------
3603  10B8              ; Function game_rotate_attrib_osd
3604  10B8              ; ---------------------------------
3605  10B8              _game_rotate_attrib_osd:
3606  10B8  01 03 00    	ld	bc,_attrib_osd + 3
3607  10BB  0A          	ld	a, (bc)
3608  10BC  32 00 00    	ld	(_tmp_uc),a
3609  10BF  11 02 00    	ld	de,_attrib_osd + 2
3610  10C2  1A          	ld	a, (de)
3611  10C3  02          	ld	(bc), a
3612  10C4  01 01 00    	ld	bc,_attrib_osd + 1
3613  10C7  0A          	ld	a, (bc)
3614  10C8  12          	ld	(de), a
3615  10C9  3A 00 00    	ld	a,(_attrib_osd)
3616  10CC  02          	ld	(bc), a
3617  10CD  3A 00 00    	ld	a,(_tmp_uc)
3618  10D0  32 00 00    	ld	(_attrib_osd),a
3619  10D3  C9          	ret
3620  10D4              	SECTION code_compiler
3621  10D4              ;	---------------------------------
3622  10D4              ; Function game_attribs
3623  10D4              ; ---------------------------------
3624  10D4              _game_attribs:
3625  10D4  01 00 00    	ld	bc,_attrib+0
3626  10D7  21 00 00    	ld	hl,_map_paper
3627  10DA  7E          	ld	a, (hl)
3628  10DB  F6 47       	or	a,0x47
3629  10DD  02          	ld	(bc), a
3630  10DE  59          	ld	e, c
3631  10DF  50          	ld	d, b
3632  10E0  13          	inc	de
3633  10E1  7E          	ld	a, (hl)
3634  10E2  F6 45       	or	a,0x45
3635  10E4  12          	ld	(de), a
3636  10E5  7E          	ld	a, (hl)
3637  10E6  F6 45       	or	a,0x45
3638  10E8  32 02 00    	ld	((_attrib + 0x0002)),a
3639  10EB  03          	inc	bc
3640  10EC  03          	inc	bc
3641  10ED  03          	inc	bc
3642  10EE  21 00 00    	ld	hl,_map_paper
3643  10F1  7E          	ld	a, (hl)
3644  10F2  F6 41       	or	a,0x41
3645  10F4  02          	ld	(bc), a
3646  10F5  01 00 00    	ld	bc,_attrib_hl+0
3647  10F8  7E          	ld	a, (hl)
3648  10F9  F6 41       	or	a,0x41
3649  10FB  02          	ld	(bc), a
3650  10FC  59          	ld	e, c
3651  10FD  50          	ld	d, b
3652  10FE  13          	inc	de
3653  10FF  7E          	ld	a, (hl)
3654  1100  F6 41       	or	a,0x41
3655  1102  12          	ld	(de), a
3656  1103  7E          	ld	a, (hl)
3657  1104  F6 43       	or	a,0x43
3658  1106  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3659  1109  03          	inc	bc
3660  110A  03          	inc	bc
3661  110B  03          	inc	bc
3662  110C  21 00 00    	ld	hl,_map_paper
3663  110F  7E          	ld	a, (hl)
3664  1110  F6 45       	or	a,0x45
3665  1112  02          	ld	(bc), a
3666  1113  01 00 00    	ld	bc,_attrib_osd+0
3667  1116  7E          	ld	a, (hl)
3668  1117  F6 45       	or	a,0x45
3669  1119  02          	ld	(bc), a
3670  111A  59          	ld	e, c
3671  111B  50          	ld	d, b
3672  111C  13          	inc	de
3673  111D  7E          	ld	a, (hl)
3674  111E  F6 47       	or	a,0x47
3675  1120  12          	ld	(de), a
3676  1121  7E          	ld	a, (hl)
3677  1122  F6 47       	or	a,0x47
3678  1124  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3679  1127  03          	inc	bc
3680  1128  03          	inc	bc
3681  1129  03          	inc	bc
3682  112A  3A 00 00    	ld	a,(_map_paper)
3683  112D  F6 45       	or	a,0x45
3684  112F  02          	ld	(bc), a
3685  1130  C9          	ret
3686  1131              	SECTION code_compiler
3687  1131              ;	---------------------------------
3688  1131              ; Function game_match_back
3689  1131              ; ---------------------------------
3690  1131              _game_match_back:
3691  1131  3E 01       	ld	a,0x01
3692  1133  BD          	cp	a,l
3693  1134  3E 00       	ld	a,0x00
3694  1136  9C          	sbc	a,h
3695  1137  30 3F       	jr	NC,l_game_match_back_00111
3696  1139  7D          	ld	a,l
3697  113A  E6 0F       	and	a,0x0f
3698  113C  28 3A       	jr	Z,l_game_match_back_00111
3699  113E  5D          	ld	e,l
3700  113F  54          	ld	d,h
3701  1140  4D          	ld	c,l
3702  1141  44          	ld	b,h
3703  1142  1B          	dec	de
3704  1143  21 00 00    	ld	hl,_scr_map
3705  1146  19          	add	hl, de
3706  1147  5E          	ld	e, (hl)
3707  1148  03          	inc	bc
3708  1149  21 00 00    	ld	hl,_scr_map
3709  114C  09          	add	hl, bc
3710  114D  4E          	ld	c, (hl)
3711  114E  7B          	ld	a, e
3712  114F  D6 1D       	sub	a,0x1d
3713  1151  28 05       	jr	Z,l_game_match_back_00101
3714  1153  79          	ld	a, c
3715  1154  D6 1D       	sub	a,0x1d
3716  1156  20 04       	jr	NZ,l_game_match_back_00102
3717  1158              l_game_match_back_00101:
3718  1158  2E 1D       	ld	l,0x1d
3719  115A  18 1E       	jr	l_game_match_back_00113
3720  115C              l_game_match_back_00102:
3721  115C  7B          	ld	a, e
3722  115D  D6 18       	sub	a,0x18
3723  115F  28 05       	jr	Z,l_game_match_back_00104
3724  1161  79          	ld	a, c
3725  1162  D6 18       	sub	a,0x18
3726  1164  20 04       	jr	NZ,l_game_match_back_00105
3727  1166              l_game_match_back_00104:
3728  1166  2E 18       	ld	l,0x18
3729  1168  18 10       	jr	l_game_match_back_00113
3730  116A              l_game_match_back_00105:
3731  116A  7B          	ld	a, e
3732  116B  D6 0D       	sub	a,0x0d
3733  116D  28 05       	jr	Z,l_game_match_back_00107
3734  116F  79          	ld	a, c
3735  1170  D6 0D       	sub	a,0x0d
3736  1172  20 04       	jr	NZ,l_game_match_back_00111
3737  1174              l_game_match_back_00107:
3738  1174  2E 0D       	ld	l,0x0d
3739  1176  18 02       	jr	l_game_match_back_00113
3740  1178              l_game_match_back_00111:
3741  1178  2E 00       	ld	l,0x00
3742  117A              l_game_match_back_00113:
3743  117A  C9          	ret
3744  117B              	SECTION code_compiler
3745  117B              ;	---------------------------------
3746  117B              ; Function menu_main
3747  117B              ; ---------------------------------
3748  117B              _menu_main:
3749  117B  CD 00 00    	call	___sdcc_enter_ix
3750  117E  F5          	push	af
3751  117F  3B          	dec	sp
3752  1180  DD 36 FE 01 	ld	(ix-2),0x01
3753  1184  21 00 00    	ld	hl,_map_paper
3754  1187  36 00       	ld	(hl),0x00
3755  1189  DD 36 FF 01 	ld	(ix-1),0x01
3756  118D  21 0A 16    	ld	hl,0x160a
3757  1190  E5          	push	hl
3758  1191  3E 07       	ld	a,0x07
3759  1193  F5          	push	af
3760  1194  33          	inc	sp
3761  1195  CD D2 12    	call	_menu_main_print
3762  1198  F1          	pop	af
3763  1199  33          	inc	sp
3764  119A              l_menu_main_00112:
3765  119A  DD 7E FE    	ld	a,(ix-2)
3766  119D  B7          	or	a, a
3767  119E  CA CD 12    	jp	Z, l_menu_main_00115
3768  11A1  21 28 00    	ld	hl,0x0028
3769  11A4  CD 00 00    	call	_z80_delay_ms_fastcall
3770  11A7  CD 00 00    	call	_in_inkey
3771  11AA  45          	ld	b, l
3772  11AB  4C          	ld	c, h
3773  11AC  C5          	push	bc
3774  11AD  CD 9C 10    	call	_game_rotate_attrib
3775  11B0  C1          	pop	bc
3776  11B1  DD 7E FF    	ld	a,(ix-1)
3777  11B4  C6 06       	add	a,0x06
3778  11B6  DD 77 FD    	ld	(ix-3),a
3779  11B9  07          	rlca
3780  11BA  07          	rlca
3781  11BB  07          	rlca
3782  11BC  E6 F8       	and	a,0xf8
3783  11BE  C6 08       	add	a,0x08
3784  11C0  4F          	ld	c, a
3785  11C1  C5          	push	bc
3786  11C2  79          	ld	a, c
3787  11C3  F5          	push	af
3788  11C4  33          	inc	sp
3789  11C5  21 0B 16    	ld	hl,0x160b
3790  11C8  E5          	push	hl
3791  11C9  21 00 00    	ld	hl,_attrib_hl
3792  11CC  E5          	push	hl
3793  11CD  CD 86 0A    	call	_game_paint_attrib
3794  11D0  F1          	pop	af
3795  11D1  F1          	pop	af
3796  11D2  33          	inc	sp
3797  11D3  C1          	pop	bc
3798  11D4  78          	ld	a, b
3799  11D5  C6 D0       	add	a,0xd0
3800  11D7  5F          	ld	e, a
3801  11D8  3E 06       	ld	a,0x06
3802  11DA  93          	sub	a, e
3803  11DB  38 BD       	jr	C,l_menu_main_00112
3804  11DD  16 00       	ld	d,0x00
3805  11DF  21 E6 11    	ld	hl,l_menu_main_00133
3806  11E2  19          	add	hl, de
3807  11E3  19          	add	hl, de
3808  11E4  19          	add	hl, de
3809  11E5  E9          	jp	(hl)
3810  11E6              l_menu_main_00133:
3811  11E6  C3 BD 12    	jp	l_menu_main_00110
3812  11E9  C3 FB 11    	jp	l_menu_main_00101
3813  11EC  C3 19 12    	jp	l_menu_main_00102
3814  11EF  C3 37 12    	jp	l_menu_main_00103
3815  11F2  C3 55 12    	jp	l_menu_main_00104
3816  11F5  C3 73 12    	jp	l_menu_main_00105
3817  11F8  C3 96 12    	jp	l_menu_main_00106
3818  11FB              l_menu_main_00101:
3819  11FB  21 00 00    	ld	hl,_in_stick_sinclair1
3820  11FE  22 00 00    	ld	(_joyfunc1),hl
3821  1201  79          	ld	a,c
3822  1202  F5          	push	af
3823  1203  33          	inc	sp
3824  1204  21 0A 16    	ld	hl,0x160a
3825  1207  E5          	push	hl
3826  1208  21 00 00    	ld	hl,_attrib
3827  120B  E5          	push	hl
3828  120C  CD 86 0A    	call	_game_paint_attrib
3829  120F  F1          	pop	af
3830  1210  F1          	pop	af
3831  1211  33          	inc	sp
3832  1212  DD 36 FF 01 	ld	(ix-1),0x01
3833  1216  C3 9A 11    	jp	l_menu_main_00112
3834  1219              l_menu_main_00102:
3835  1219  21 00 00    	ld	hl,_in_stick_keyboard
3836  121C  22 00 00    	ld	(_joyfunc1),hl
3837  121F  79          	ld	a,c
3838  1220  F5          	push	af
3839  1221  33          	inc	sp
3840  1222  21 0A 16    	ld	hl,0x160a
3841  1225  E5          	push	hl
3842  1226  21 00 00    	ld	hl,_attrib
3843  1229  E5          	push	hl
3844  122A  CD 86 0A    	call	_game_paint_attrib
3845  122D  F1          	pop	af
3846  122E  F1          	pop	af
3847  122F  33          	inc	sp
3848  1230  DD 36 FF 02 	ld	(ix-1),0x02
3849  1234  C3 9A 11    	jp	l_menu_main_00112
3850  1237              l_menu_main_00103:
3851  1237  21 00 00    	ld	hl,_in_stick_kempston
3852  123A  22 00 00    	ld	(_joyfunc1),hl
3853  123D  79          	ld	a,c
3854  123E  F5          	push	af
3855  123F  33          	inc	sp
3856  1240  21 0A 16    	ld	hl,0x160a
3857  1243  E5          	push	hl
3858  1244  21 00 00    	ld	hl,_attrib
3859  1247  E5          	push	hl
3860  1248  CD 86 0A    	call	_game_paint_attrib
3861  124B  F1          	pop	af
3862  124C  F1          	pop	af
3863  124D  33          	inc	sp
3864  124E  DD 36 FF 03 	ld	(ix-1),0x03
3865  1252  C3 9A 11    	jp	l_menu_main_00112
3866  1255              l_menu_main_00104:
3867  1255  21 00 00    	ld	hl,_in_stick_cursor
3868  1258  22 00 00    	ld	(_joyfunc1),hl
3869  125B  79          	ld	a,c
3870  125C  F5          	push	af
3871  125D  33          	inc	sp
3872  125E  21 0A 16    	ld	hl,0x160a
3873  1261  E5          	push	hl
3874  1262  21 00 00    	ld	hl,_attrib
3875  1265  E5          	push	hl
3876  1266  CD 86 0A    	call	_game_paint_attrib
3877  1269  F1          	pop	af
3878  126A  F1          	pop	af
3879  126B  33          	inc	sp
3880  126C  DD 36 FF 04 	ld	(ix-1),0x04
3881  1270  C3 9A 11    	jp	l_menu_main_00112
3882  1273              l_menu_main_00105:
3883  1273  C5          	push	bc
3884  1274  CD F6 14    	call	_menu_redefine
3885  1277  C1          	pop	bc
3886  1278  21 00 00    	ld	hl,_in_stick_keyboard
3887  127B  22 00 00    	ld	(_joyfunc1),hl
3888  127E  79          	ld	a,c
3889  127F  F5          	push	af
3890  1280  33          	inc	sp
3891  1281  21 0A 16    	ld	hl,0x160a
3892  1284  E5          	push	hl
3893  1285  21 00 00    	ld	hl,_attrib
3894  1288  E5          	push	hl
3895  1289  CD 86 0A    	call	_game_paint_attrib
3896  128C  F1          	pop	af
3897  128D  F1          	pop	af
3898  128E  33          	inc	sp
3899  128F  DD 36 FF 02 	ld	(ix-1),0x02
3900  1293  C3 9A 11    	jp	l_menu_main_00112
3901  1296              l_menu_main_00106:
3902  1296  21 00 00    	ld	hl,_game_2buttons
3903  1299  7E          	ld	a, (hl)
3904  129A  B7          	or	a, a
3905  129B  28 04       	jr	Z,l_menu_main_00108
3906  129D  36 00       	ld	(hl),0x00
3907  129F  18 05       	jr	l_menu_main_00109
3908  12A1              l_menu_main_00108:
3909  12A1  21 00 00    	ld	hl,_game_2buttons
3910  12A4  36 01       	ld	(hl),0x01
3911  12A6              l_menu_main_00109:
3912  12A6  21 0A 16    	ld	hl,0x160a
3913  12A9  E5          	push	hl
3914  12AA  DD 7E FD    	ld	a,(ix-3)
3915  12AD  F5          	push	af
3916  12AE  33          	inc	sp
3917  12AF  CD D2 12    	call	_menu_main_print
3918  12B2  F1          	pop	af
3919  12B3  33          	inc	sp
3920  12B4  21 28 00    	ld	hl,0x0028
3921  12B7  CD 00 00    	call	_z80_delay_ms_fastcall
3922  12BA  C3 9A 11    	jp	l_menu_main_00112
3923  12BD              l_menu_main_00110:
3924  12BD  CD 00 00    	call	_ay_reset
3925  12C0  76          	halt
3926  12C1  2E 00       	ld	l,0x00
3927  12C3  CD 00 00    	call	_zx_cls_fastcall
3928  12C6  DD 36 FE 00 	ld	(ix-2),0x00
3929  12CA  C3 9A 11    	jp	l_menu_main_00112
3930  12CD              l_menu_main_00115:
3931  12CD  DD F9       	ld	sp, ix
3932  12CF  DD E1       	pop	ix
3933  12D1  C9          	ret
3934  12D2              	SECTION code_compiler
3935  12D2              ;	---------------------------------
3936  12D2              ; Function menu_main_print
3937  12D2              ; ---------------------------------
3938  12D2              _menu_main_print:
3939  12D2  CD 00 00    	call	___sdcc_enter_ix
3940  12D5  21 00 00    	ld	hl,_ay_song_04_lotr
3941  12D8  E5          	push	hl
3942  12D9  21 00 04    	ld	hl,0x0400
3943  12DC  E5          	push	hl
3944  12DD  CD 00 00    	call	_ay_song_play
3945  12E0  76          	halt
3946  12E1  2E 00       	ld	l,0x00
3947  12E3  CD 00 00    	call	_zx_cls_fastcall
3948  12E6  21 00 00    	ld	hl,_screen_ink
3949  12E9  36 07       	ld	(hl),0x07
3950  12EB  21 20 0B    	ld	hl,0x0b20
3951  12EE  E5          	push	hl
3952  12EF  21 00 CC    	ld	hl,0xcc00
3953  12F2  E5          	push	hl
3954  12F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
3955  12F6  21 20 0D    	ld	hl,0x0d20
3956  12F9  E5          	push	hl
3957  12FA  21 01 CD    	ld	hl,0xcd01
3958  12FD  E5          	push	hl
3959  12FE  CD 00 00    	call	_NIRVANAP_spriteT_callee
3960  1301  21 20 0F    	ld	hl,0x0f20
3961  1304  E5          	push	hl
3962  1305  21 02 CE    	ld	hl,0xce02
3963  1308  E5          	push	hl
3964  1309  CD 00 00    	call	_NIRVANAP_spriteT_callee
3965  130C  21 20 11    	ld	hl,0x1120
3966  130F  E5          	push	hl
3967  1310  21 03 CF    	ld	hl,0xcf03
3968  1313  E5          	push	hl
3969  1314  CD 00 00    	call	_NIRVANAP_spriteT_callee
3970  1317  CD D4 10    	call	_game_attribs
3971  131A  21 76 00    	ld	hl,___str_28
3972  131D  E5          	push	hl
3973  131E  DD 66 05    	ld	h,(ix+5)
3974  1321  DD 6E 04    	ld	l,(ix+4)
3975  1324  E5          	push	hl
3976  1325  CD 00 00    	call	_zx_print_str
3977  1328  DD 7E 04    	ld	a,(ix+4)
3978  132B  07          	rlca
3979  132C  07          	rlca
3980  132D  07          	rlca
3981  132E  E6 F8       	and	a,0xf8
3982  1330  C6 08       	add	a,0x08
3983  1332  F5          	push	af
3984  1333  33          	inc	sp
3985  1334  DD 66 06    	ld	h,(ix+6)
3986  1337  DD 6E 05    	ld	l,(ix+5)
3987  133A  E5          	push	hl
3988  133B  21 00 00    	ld	hl,_attrib
3989  133E  E5          	push	hl
3990  133F  CD 86 0A    	call	_game_paint_attrib
3991  1342  F1          	pop	af
3992  1343  F1          	pop	af
3993  1344  33          	inc	sp
3994  1345  DD 34 04    	inc	(ix+4)
3995  1348  21 81 00    	ld	hl,___str_29
3996  134B  E5          	push	hl
3997  134C  DD 66 05    	ld	h,(ix+5)
3998  134F  DD 6E 04    	ld	l,(ix+4)
3999  1352  E5          	push	hl
4000  1353  CD 00 00    	call	_zx_print_str
4001  1356  DD 7E 04    	ld	a,(ix+4)
4002  1359  07          	rlca
4003  135A  07          	rlca
4004  135B  07          	rlca
4005  135C  E6 F8       	and	a,0xf8
4006  135E  C6 08       	add	a,0x08
4007  1360  F5          	push	af
4008  1361  33          	inc	sp
4009  1362  DD 66 06    	ld	h,(ix+6)
4010  1365  DD 6E 05    	ld	l,(ix+5)
4011  1368  E5          	push	hl
4012  1369  21 00 00    	ld	hl,_attrib
4013  136C  E5          	push	hl
4014  136D  CD 86 0A    	call	_game_paint_attrib
4015  1370  F1          	pop	af
4016  1371  F1          	pop	af
4017  1372  33          	inc	sp
4018  1373  DD 34 04    	inc	(ix+4)
4019  1376  21 8C 00    	ld	hl,___str_30
4020  1379  E5          	push	hl
4021  137A  DD 66 05    	ld	h,(ix+5)
4022  137D  DD 6E 04    	ld	l,(ix+4)
4023  1380  E5          	push	hl
4024  1381  CD 00 00    	call	_zx_print_str
4025  1384  DD 7E 04    	ld	a,(ix+4)
4026  1387  07          	rlca
4027  1388  07          	rlca
4028  1389  07          	rlca
4029  138A  E6 F8       	and	a,0xf8
4030  138C  C6 08       	add	a,0x08
4031  138E  F5          	push	af
4032  138F  33          	inc	sp
4033  1390  DD 66 06    	ld	h,(ix+6)
4034  1393  DD 6E 05    	ld	l,(ix+5)
4035  1396  E5          	push	hl
4036  1397  21 00 00    	ld	hl,_attrib
4037  139A  E5          	push	hl
4038  139B  CD 86 0A    	call	_game_paint_attrib
4039  139E  F1          	pop	af
4040  139F  F1          	pop	af
4041  13A0  33          	inc	sp
4042  13A1  DD 34 04    	inc	(ix+4)
4043  13A4  21 97 00    	ld	hl,___str_31
4044  13A7  E5          	push	hl
4045  13A8  DD 66 05    	ld	h,(ix+5)
4046  13AB  DD 6E 04    	ld	l,(ix+4)
4047  13AE  E5          	push	hl
4048  13AF  CD 00 00    	call	_zx_print_str
4049  13B2  DD 7E 04    	ld	a,(ix+4)
4050  13B5  07          	rlca
4051  13B6  07          	rlca
4052  13B7  07          	rlca
4053  13B8  E6 F8       	and	a,0xf8
4054  13BA  C6 08       	add	a,0x08
4055  13BC  F5          	push	af
4056  13BD  33          	inc	sp
4057  13BE  DD 66 06    	ld	h,(ix+6)
4058  13C1  DD 6E 05    	ld	l,(ix+5)
4059  13C4  E5          	push	hl
4060  13C5  21 00 00    	ld	hl,_attrib
4061  13C8  E5          	push	hl
4062  13C9  CD 86 0A    	call	_game_paint_attrib
4063  13CC  F1          	pop	af
4064  13CD  F1          	pop	af
4065  13CE  33          	inc	sp
4066  13CF  DD 34 04    	inc	(ix+4)
4067  13D2  21 A0 00    	ld	hl,___str_32
4068  13D5  E5          	push	hl
4069  13D6  DD 66 05    	ld	h,(ix+5)
4070  13D9  DD 6E 04    	ld	l,(ix+4)
4071  13DC  E5          	push	hl
4072  13DD  CD 00 00    	call	_zx_print_str
4073  13E0  DD 7E 04    	ld	a,(ix+4)
4074  13E3  07          	rlca
4075  13E4  07          	rlca
4076  13E5  07          	rlca
4077  13E6  E6 F8       	and	a,0xf8
4078  13E8  C6 08       	add	a,0x08
4079  13EA  F5          	push	af
4080  13EB  33          	inc	sp
4081  13EC  DD 66 06    	ld	h,(ix+6)
4082  13EF  DD 6E 05    	ld	l,(ix+5)
4083  13F2  E5          	push	hl
4084  13F3  21 00 00    	ld	hl,_attrib
4085  13F6  E5          	push	hl
4086  13F7  CD 86 0A    	call	_game_paint_attrib
4087  13FA  F1          	pop	af
4088  13FB  F1          	pop	af
4089  13FC  33          	inc	sp
4090  13FD  DD 34 04    	inc	(ix+4)
4091  1400  21 A9 00    	ld	hl,___str_33
4092  1403  E5          	push	hl
4093  1404  DD 66 05    	ld	h,(ix+5)
4094  1407  DD 6E 04    	ld	l,(ix+4)
4095  140A  E5          	push	hl
4096  140B  CD 00 00    	call	_zx_print_str
4097  140E  DD 7E 05    	ld	a,(ix+5)
4098  1411  C6 0A       	add	a,0x0a
4099  1413  47          	ld	b, a
4100  1414  3A 00 00    	ld	a,(_game_2buttons)
4101  1417  B7          	or	a, a
4102  1418  28 0D       	jr	Z,l_menu_main_print_00102
4103  141A  21 B3 00    	ld	hl,___str_34
4104  141D  E5          	push	hl
4105  141E  DD 4E 04    	ld	c,(ix+4)
4106  1421  C5          	push	bc
4107  1422  CD 00 00    	call	_zx_print_str
4108  1425  18 0B       	jr	l_menu_main_print_00103
4109  1427              l_menu_main_print_00102:
4110  1427  21 B6 00    	ld	hl,___str_35
4111  142A  E5          	push	hl
4112  142B  DD 4E 04    	ld	c,(ix+4)
4113  142E  C5          	push	bc
4114  142F  CD 00 00    	call	_zx_print_str
4115  1432              l_menu_main_print_00103:
4116  1432  DD 7E 04    	ld	a,(ix+4)
4117  1435  07          	rlca
4118  1436  07          	rlca
4119  1437  07          	rlca
4120  1438  E6 F8       	and	a,0xf8
4121  143A  C6 08       	add	a,0x08
4122  143C  F5          	push	af
4123  143D  33          	inc	sp
4124  143E  DD 66 06    	ld	h,(ix+6)
4125  1441  DD 6E 05    	ld	l,(ix+5)
4126  1444  E5          	push	hl
4127  1445  21 00 00    	ld	hl,_attrib
4128  1448  E5          	push	hl
4129  1449  CD 86 0A    	call	_game_paint_attrib
4130  144C  F1          	pop	af
4131  144D  F1          	pop	af
4132  144E  33          	inc	sp
4133  144F  DD 34 04    	inc	(ix+4)
4134  1452  DD 34 04    	inc	(ix+4)
4135  1455  21 B9 00    	ld	hl,___str_36
4136  1458  E5          	push	hl
4137  1459  DD 66 05    	ld	h,(ix+5)
4138  145C  DD 6E 04    	ld	l,(ix+4)
4139  145F  E5          	push	hl
4140  1460  CD 00 00    	call	_zx_print_str
4141  1463  DD 7E 04    	ld	a,(ix+4)
4142  1466  07          	rlca
4143  1467  07          	rlca
4144  1468  07          	rlca
4145  1469  E6 F8       	and	a,0xf8
4146  146B  C6 08       	add	a,0x08
4147  146D  F5          	push	af
4148  146E  33          	inc	sp
4149  146F  DD 66 06    	ld	h,(ix+6)
4150  1472  DD 6E 05    	ld	l,(ix+5)
4151  1475  E5          	push	hl
4152  1476  21 00 00    	ld	hl,_attrib
4153  1479  E5          	push	hl
4154  147A  CD 86 0A    	call	_game_paint_attrib
4155  147D  F1          	pop	af
4156  147E  F1          	pop	af
4157  147F  33          	inc	sp
4158  1480  DD 34 04    	inc	(ix+4)
4159  1483  DD 34 04    	inc	(ix+4)
4160  1486  DD 34 04    	inc	(ix+4)
4161  1489  DD 34 04    	inc	(ix+4)
4162  148C  DD 34 04    	inc	(ix+4)
4163  148F  21 00 00    	ld	hl,_screen_ink
4164  1492  36 01       	ld	(hl),0x01
4165  1494  21 C1 00    	ld	hl,___str_37
4166  1497  E5          	push	hl
4167  1498  26 02       	ld	h,0x02
4168  149A  DD 6E 04    	ld	l,(ix+4)
4169  149D  E5          	push	hl
4170  149E  CD 00 00    	call	_zx_print_str
4171  14A1  DD 34 04    	inc	(ix+4)
4172  14A4  21 DC 00    	ld	hl,___str_38
4173  14A7  E5          	push	hl
4174  14A8  26 02       	ld	h,0x02
4175  14AA  DD 6E 04    	ld	l,(ix+4)
4176  14AD  E5          	push	hl
4177  14AE  CD 00 00    	call	_zx_print_str
4178  14B1  DD 34 04    	inc	(ix+4)
4179  14B4  21 F7 00    	ld	hl,___str_39
4180  14B7  E5          	push	hl
4181  14B8  26 06       	ld	h,0x06
4182  14BA  DD 6E 04    	ld	l,(ix+4)
4183  14BD  E5          	push	hl
4184  14BE  CD 00 00    	call	_zx_print_str
4185  14C1  DD 34 04    	inc	(ix+4)
4186  14C4  DD 34 04    	inc	(ix+4)
4187  14C7  21 00 00    	ld	hl,_screen_ink
4188  14CA  36 05       	ld	(hl),0x05
4189  14CC  21 0A 01    	ld	hl,___str_40
4190  14CF  E5          	push	hl
4191  14D0  26 08       	ld	h,0x08
4192  14D2  DD 6E 04    	ld	l,(ix+4)
4193  14D5  E5          	push	hl
4194  14D6  CD 00 00    	call	_zx_print_str
4195  14D9  DD 7E 04    	ld	a,(ix+4)
4196  14DC  07          	rlca
4197  14DD  07          	rlca
4198  14DE  07          	rlca
4199  14DF  E6 F8       	and	a,0xf8
4200  14E1  C6 08       	add	a,0x08
4201  14E3  F5          	push	af
4202  14E4  33          	inc	sp
4203  14E5  21 00 1F    	ld	hl,0x1f00
4204  14E8  E5          	push	hl
4205  14E9  21 00 00    	ld	hl,_attrib
4206  14EC  E5          	push	hl
4207  14ED  CD 86 0A    	call	_game_paint_attrib
4208  14F0  F1          	pop	af
4209  14F1  F1          	pop	af
4210  14F2  33          	inc	sp
4211  14F3  DD E1       	pop	ix
4212  14F5  C9          	ret
4213  14F6              	SECTION rodata_compiler
4214  0076              ___str_28:
4215  0076  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
4216  0080  00          	DEFB 0x00
4217  0081              	SECTION rodata_compiler
4218  0081              ___str_29:
4219  0081  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
4220  008B  00          	DEFB 0x00
4221  008C              	SECTION rodata_compiler
4222  008C              ___str_30:
4223  008C  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
4224  0096  00          	DEFB 0x00
4225  0097              	SECTION rodata_compiler
4226  0097              ___str_31:
4227  0097  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
4228  009F  00          	DEFB 0x00
4229  00A0              	SECTION rodata_compiler
4230  00A0              ___str_32:
4231  00A0  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
4232  00A8  00          	DEFB 0x00
4233  00A9              	SECTION rodata_compiler
4234  00A9              ___str_33:
4235  00A9  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
4236  00B2  00          	DEFB 0x00
4237  00B3              	SECTION rodata_compiler
4238  00B3              ___str_34:
4239  00B3  32 42       	DEFM "2B"
4240  00B5  00          	DEFB 0x00
4241  00B6              	SECTION rodata_compiler
4242  00B6              ___str_35:
4243  00B6  31 42       	DEFM "1B"
4244  00B8  00          	DEFB 0x00
4245  00B9              	SECTION rodata_compiler
4246  00B9              ___str_36:
4247  00B9  30 20 53 54 41 52 54 
                        	DEFM "0 START"
4248  00C0  00          	DEFB 0x00
4249  00C1              	SECTION rodata_compiler
4250  00C1              ___str_37:
4251  00C1  43 4F 44 45 20 43 2E 47 4F 4E 5A 41 4C 45 5A 2F 41 2E 41 4C 42 52 45 43 48 54 
                        	DEFM "CODE C.GONZALEZ/A.ALBRECHT"
4252  00DB  00          	DEFB 0x00
4253  00DC              	SECTION rodata_compiler
4254  00DC              ___str_38:
4255  00DC  4D 55 53 49 43 2F 46 58 20 48 49 4B 41 52 55 2F 42 45 49 4B 45 52 53 4F 46 54 
                        	DEFM "MUSIC/FX HIKARU/BEIKERSOFT"
4256  00F6  00          	DEFB 0x00
4257  00F7              	SECTION rodata_compiler
4258  00F7              ___str_39:
4259  00F7  54 45 53 54 49 4E 47 20 41 42 55 20 53 49 4D 42 45 4C 
                        	DEFM "TESTING ABU SIMBEL"
4260  0109  00          	DEFB 0x00
4261  010A              	SECTION rodata_compiler
4262  010A              ___str_40:
4263  010A  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
4264  0119  00          	DEFB 0x00
4265  011A              	SECTION code_compiler
4266  14F6              ;	---------------------------------
4267  14F6              ; Function menu_redefine
4268  14F6              ; ---------------------------------
4269  14F6              _menu_redefine:
4270  14F6  76          	halt
4271  14F7  2E 00       	ld	l,0x00
4272  14F9  CD 00 00    	call	_zx_cls_fastcall
4273  14FC  21 00 00    	ld	hl,_tmp0
4274  14FF  36 08       	ld	(hl),0x08
4275  1501              l_menu_redefine_00105:
4276  1501  3A 00 00    	ld	a,(_tmp0)
4277  1504  07          	rlca
4278  1505  07          	rlca
4279  1506  07          	rlca
4280  1507  E6 F8       	and	a,0xf8
4281  1509  C6 08       	add	a,0x08
4282  150B  F5          	push	af
4283  150C  33          	inc	sp
4284  150D  21 0A 10    	ld	hl,0x100a
4285  1510  E5          	push	hl
4286  1511  21 00 00    	ld	hl,_attrib
4287  1514  E5          	push	hl
4288  1515  CD 86 0A    	call	_game_paint_attrib
4289  1518  F1          	pop	af
4290  1519  F1          	pop	af
4291  151A  33          	inc	sp
4292  151B  21 00 00    	ld	hl,_tmp0
4293  151E  7E          	ld	a,(hl)
4294  151F  3C          	inc	a
4295  1520  77          	ld	(hl),a
4296  1521  D6 0E       	sub	a,0x0e
4297  1523  38 DC       	jr	C,l_menu_redefine_00105
4298  1525  21 1A 01    	ld	hl,___str_41
4299  1528  E5          	push	hl
4300  1529  21 08 0A    	ld	hl,0x0a08
4301  152C  E5          	push	hl
4302  152D  CD 00 00    	call	_zx_print_str
4303  1530  CD B9 15    	call	_menu_define_key
4304  1533  22 08 00    	ld	(_k1 + 0x0008),hl
4305  1536  21 1D 01    	ld	hl,___str_42
4306  1539  E5          	push	hl
4307  153A  21 09 0A    	ld	hl,0x0a09
4308  153D  E5          	push	hl
4309  153E  CD 00 00    	call	_zx_print_str
4310  1541  CD B9 15    	call	_menu_define_key
4311  1544  22 06 00    	ld	(_k1 + 0x0006),hl
4312  1547  21 22 01    	ld	hl,___str_43
4313  154A  E5          	push	hl
4314  154B  21 0A 0A    	ld	hl,0x0a0a
4315  154E  E5          	push	hl
4316  154F  CD 00 00    	call	_zx_print_str
4317  1552  CD B9 15    	call	_menu_define_key
4318  1555  22 04 00    	ld	(_k1 + 0x0004),hl
4319  1558  21 27 01    	ld	hl,___str_44
4320  155B  E5          	push	hl
4321  155C  21 0B 0A    	ld	hl,0x0a0b
4322  155F  E5          	push	hl
4323  1560  CD 00 00    	call	_zx_print_str
4324  1563  CD B9 15    	call	_menu_define_key
4325  1566  22 02 00    	ld	(_k1 + 0x0002),hl
4326  1569  3A 00 00    	ld	a,(_game_2buttons)
4327  156C  B7          	or	a, a
4328  156D  28 24       	jr	Z,l_menu_redefine_00103
4329  156F  21 2D 01    	ld	hl,___str_45
4330  1572  E5          	push	hl
4331  1573  21 0C 0A    	ld	hl,0x0a0c
4332  1576  E5          	push	hl
4333  1577  CD 00 00    	call	_zx_print_str
4334  157A  CD B9 15    	call	_menu_define_key
4335  157D  22 00 00    	ld	(_k2),hl
4336  1580  21 32 01    	ld	hl,___str_46
4337  1583  E5          	push	hl
4338  1584  21 0D 0A    	ld	hl,0x0a0d
4339  1587  E5          	push	hl
4340  1588  CD 00 00    	call	_zx_print_str
4341  158B  CD B9 15    	call	_menu_define_key
4342  158E  22 00 00    	ld	(_k1),hl
4343  1591  18 11       	jr	l_menu_redefine_00104
4344  1593              l_menu_redefine_00103:
4345  1593  21 2D 01    	ld	hl,___str_45
4346  1596  E5          	push	hl
4347  1597  21 0C 0A    	ld	hl,0x0a0c
4348  159A  E5          	push	hl
4349  159B  CD 00 00    	call	_zx_print_str
4350  159E  CD B9 15    	call	_menu_define_key
4351  15A1  22 00 00    	ld	(_k1),hl
4352  15A4              l_menu_redefine_00104:
4353  15A4  21 0C 20    	ld	hl,0x200c
4354  15A7  E5          	push	hl
4355  15A8  CD 00 00    	call	_game_fill_row
4356  15AB  21 0A 14    	ld	hl,0x140a
4357  15AE  E5          	push	hl
4358  15AF  3E 07       	ld	a,0x07
4359  15B1  F5          	push	af
4360  15B2  33          	inc	sp
4361  15B3  CD D2 12    	call	_menu_main_print
4362  15B6  F1          	pop	af
4363  15B7  33          	inc	sp
4364  15B8  C9          	ret
4365  15B9              	SECTION rodata_compiler
4366  011A              ___str_41:
4367  011A  55 50       	DEFM "UP"
4368  011C  00          	DEFB 0x00
4369  011D              	SECTION rodata_compiler
4370  011D              ___str_42:
4371  011D  44 4F 57 4E 	DEFM "DOWN"
4372  0121  00          	DEFB 0x00
4373  0122              	SECTION rodata_compiler
4374  0122              ___str_43:
4375  0122  4C 45 46 54 	DEFM "LEFT"
4376  0126  00          	DEFB 0x00
4377  0127              	SECTION rodata_compiler
4378  0127              ___str_44:
4379  0127  52 49 47 48 54 
                        	DEFM "RIGHT"
4380  012C  00          	DEFB 0x00
4381  012D              	SECTION rodata_compiler
4382  012D              ___str_45:
4383  012D  46 49 52 45 	DEFM "FIRE"
4384  0131  00          	DEFB 0x00
4385  0132              	SECTION rodata_compiler
4386  0132              ___str_46:
4387  0132  4A 55 4D 50 	DEFM "JUMP"
4388  0136  00          	DEFB 0x00
4389  0137              	SECTION code_compiler
4390  15B9              ;	---------------------------------
4391  15B9              ; Function menu_define_key
4392  15B9              ; ---------------------------------
4393  15B9              _menu_define_key:
4394  15B9              l_menu_define_key_00107:
4395  15B9  CD 00 00    	call	_in_wait_key
4396  15BC  CD 00 00    	call	_in_inkey
4397  15BF  7D          	ld	a,l
4398  15C0  32 00 00    	ld	(_tmp1),a
4399  15C3  CD 00 00    	call	_in_wait_nokey
4400  15C6  21 00 00    	ld	hl,_tmp0
4401  15C9  36 00       	ld	(hl),0x00
4402  15CB              l_menu_define_key_00103:
4403  15CB  21 00 00    	ld	hl,_tmp0
4404  15CE  7E          	ld	a, (hl)
4405  15CF  D6 26       	sub	a,0x26
4406  15D1  30 E6       	jr	NC,l_menu_define_key_00107
4407  15D3  4E          	ld	c,(hl)
4408  15D4  06 00       	ld	b,0x00
4409  15D6  21 00 00    	ld	hl,_key_map
4410  15D9  09          	add	hl,bc
4411  15DA  4E          	ld	c, (hl)
4412  15DB  3A 00 00    	ld	a,(_tmp1)
4413  15DE  91          	sub	a, c
4414  15DF  20 10       	jr	NZ,l_menu_define_key_00102
4415  15E1  01 00 00    	ld	bc,_scan_map+0
4416  15E4  2A 00 00    	ld	hl,(_tmp0)
4417  15E7  26 00       	ld	h,0x00
4418  15E9  29          	add	hl, hl
4419  15EA  09          	add	hl, bc
4420  15EB  7E          	ld	a, (hl)
4421  15EC  23          	inc	hl
4422  15ED  66          	ld	h, (hl)
4423  15EE  6F          	ld	l, a
4424  15EF  18 06       	jr	l_menu_define_key_00109
4425  15F1              l_menu_define_key_00102:
4426  15F1  21 00 00    	ld	hl,_tmp0
4427  15F4  34          	inc	(hl)
4428  15F5  18 D4       	jr	l_menu_define_key_00103
4429  15F7              l_menu_define_key_00109:
4430  15F7  C9          	ret
4431  15F8              	SECTION IGNORE
4432  0000              
