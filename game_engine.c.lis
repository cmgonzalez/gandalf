1     0000              MODULE game_engine_c
2     0000              LINE -1, "game_engine.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_tick
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_loop
206   0000              	GLOBAL _game_fps
207   0000              	GLOBAL _game_respawn
208   0000              	GLOBAL _game_draw_screen
209   0000              	GLOBAL _game_boss_kill
210   0000              	GLOBAL _game_add_enemy
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_set_checkpoint
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_shoot_fire
225   0000              	GLOBAL _game_shoot_fire_boss
226   0000              	GLOBAL _game_obj_set
227   0000              	GLOBAL _game_obj_chk
228   0000              	GLOBAL _game_obj_clear
229   0000              	GLOBAL _game_boss_clear
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_rotate_attrib_osd
232   0000              	GLOBAL _game_attribs
233   0000              	GLOBAL _game_match_back_strict
234   0000              	GLOBAL _game_match_back
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _ffsll_callee
239   0000              	GLOBAL _ffsll
240   0000              	GLOBAL _strxfrm_callee
241   0000              	GLOBAL _strxfrm
242   0000              	GLOBAL _strupr_fastcall
243   0000              	GLOBAL _strupr
244   0000              	GLOBAL _strtok_r_callee
245   0000              	GLOBAL _strtok_r
246   0000              	GLOBAL _strtok_callee
247   0000              	GLOBAL _strtok
248   0000              	GLOBAL _strstrip_fastcall
249   0000              	GLOBAL _strstrip
250   0000              	GLOBAL _strstr_callee
251   0000              	GLOBAL _strstr
252   0000              	GLOBAL _strspn_callee
253   0000              	GLOBAL _strspn
254   0000              	GLOBAL _strsep_callee
255   0000              	GLOBAL _strsep
256   0000              	GLOBAL _strrstrip_fastcall
257   0000              	GLOBAL _strrstrip
258   0000              	GLOBAL _strrstr_callee
259   0000              	GLOBAL _strrstr
260   0000              	GLOBAL _strrspn_callee
261   0000              	GLOBAL _strrspn
262   0000              	GLOBAL _strrev_fastcall
263   0000              	GLOBAL _strrev
264   0000              	GLOBAL _strrcspn_callee
265   0000              	GLOBAL _strrcspn
266   0000              	GLOBAL _strrchr_callee
267   0000              	GLOBAL _strrchr
268   0000              	GLOBAL _strpbrk_callee
269   0000              	GLOBAL _strpbrk
270   0000              	GLOBAL _strnlen_callee
271   0000              	GLOBAL _strnlen
272   0000              	GLOBAL _strnicmp_callee
273   0000              	GLOBAL _strnicmp
274   0000              	GLOBAL _strndup_callee
275   0000              	GLOBAL _strndup
276   0000              	GLOBAL _strncpy_callee
277   0000              	GLOBAL _strncpy
278   0000              	GLOBAL _strncmp_callee
279   0000              	GLOBAL _strncmp
280   0000              	GLOBAL _strnchr_callee
281   0000              	GLOBAL _strnchr
282   0000              	GLOBAL _strncat_callee
283   0000              	GLOBAL _strncat
284   0000              	GLOBAL _strncasecmp_callee
285   0000              	GLOBAL _strncasecmp
286   0000              	GLOBAL _strlwr_fastcall
287   0000              	GLOBAL _strlwr
288   0000              	GLOBAL _strlen_fastcall
289   0000              	GLOBAL _strlen
290   0000              	GLOBAL _strlcpy_callee
291   0000              	GLOBAL _strlcpy
292   0000              	GLOBAL _strlcat_callee
293   0000              	GLOBAL _strlcat
294   0000              	GLOBAL _stricmp_callee
295   0000              	GLOBAL _stricmp
296   0000              	GLOBAL _strerror_fastcall
297   0000              	GLOBAL _strerror
298   0000              	GLOBAL _strdup_fastcall
299   0000              	GLOBAL _strdup
300   0000              	GLOBAL _strcspn_callee
301   0000              	GLOBAL _strcspn
302   0000              	GLOBAL _strcpy_callee
303   0000              	GLOBAL _strcpy
304   0000              	GLOBAL _strcoll_callee
305   0000              	GLOBAL _strcoll
306   0000              	GLOBAL _strcmp_callee
307   0000              	GLOBAL _strcmp
308   0000              	GLOBAL _strchrnul_callee
309   0000              	GLOBAL _strchrnul
310   0000              	GLOBAL _strchr_callee
311   0000              	GLOBAL _strchr
312   0000              	GLOBAL _strcat_callee
313   0000              	GLOBAL _strcat
314   0000              	GLOBAL _strcasecmp_callee
315   0000              	GLOBAL _strcasecmp
316   0000              	GLOBAL _stpncpy_callee
317   0000              	GLOBAL _stpncpy
318   0000              	GLOBAL _stpcpy_callee
319   0000              	GLOBAL _stpcpy
320   0000              	GLOBAL _memswap_callee
321   0000              	GLOBAL _memswap
322   0000              	GLOBAL _memset_callee
323   0000              	GLOBAL _memset
324   0000              	GLOBAL _memrchr_callee
325   0000              	GLOBAL _memrchr
326   0000              	GLOBAL _memmove_callee
327   0000              	GLOBAL _memmove
328   0000              	GLOBAL _memmem_callee
329   0000              	GLOBAL _memmem
330   0000              	GLOBAL _memcpy_callee
331   0000              	GLOBAL _memcpy
332   0000              	GLOBAL _memcmp_callee
333   0000              	GLOBAL _memcmp
334   0000              	GLOBAL _memchr_callee
335   0000              	GLOBAL _memchr
336   0000              	GLOBAL _memccpy_callee
337   0000              	GLOBAL _memccpy
338   0000              	GLOBAL _ffsl_fastcall
339   0000              	GLOBAL _ffsl
340   0000              	GLOBAL _ffs_fastcall
341   0000              	GLOBAL _ffs
342   0000              	GLOBAL __strrstrip__fastcall
343   0000              	GLOBAL __strrstrip_
344   0000              	GLOBAL __memupr__callee
345   0000              	GLOBAL __memupr_
346   0000              	GLOBAL __memstrcpy__callee
347   0000              	GLOBAL __memstrcpy_
348   0000              	GLOBAL __memlwr__callee
349   0000              	GLOBAL __memlwr_
350   0000              	GLOBAL _rawmemchr_callee
351   0000              	GLOBAL _rawmemchr
352   0000              	GLOBAL _strnset_callee
353   0000              	GLOBAL _strnset
354   0000              	GLOBAL _strset_callee
355   0000              	GLOBAL _strset
356   0000              	GLOBAL _rindex_callee
357   0000              	GLOBAL _rindex
358   0000              	GLOBAL _index_callee
359   0000              	GLOBAL _index
360   0000              	GLOBAL _bzero_callee
361   0000              	GLOBAL _bzero
362   0000              	GLOBAL _bcopy_callee
363   0000              	GLOBAL _bcopy
364   0000              	GLOBAL _bcmp_callee
365   0000              	GLOBAL _bcmp
366   0000              	GLOBAL _ulltoa_callee
367   0000              	GLOBAL _ulltoa
368   0000              	GLOBAL _strtoull_callee
369   0000              	GLOBAL _strtoull
370   0000              	GLOBAL _strtoll_callee
371   0000              	GLOBAL _strtoll
372   0000              	GLOBAL _lltoa_callee
373   0000              	GLOBAL _lltoa
374   0000              	GLOBAL _llabs_callee
375   0000              	GLOBAL _llabs
376   0000              	GLOBAL __lldivu__callee
377   0000              	GLOBAL __lldivu_
378   0000              	GLOBAL __lldiv__callee
379   0000              	GLOBAL __lldiv_
380   0000              	GLOBAL _atoll_callee
381   0000              	GLOBAL _atoll
382   0000              	GLOBAL _realloc_unlocked_callee
383   0000              	GLOBAL _realloc_unlocked
384   0000              	GLOBAL _malloc_unlocked_fastcall
385   0000              	GLOBAL _malloc_unlocked
386   0000              	GLOBAL _free_unlocked_fastcall
387   0000              	GLOBAL _free_unlocked
388   0000              	GLOBAL _calloc_unlocked_callee
389   0000              	GLOBAL _calloc_unlocked
390   0000              	GLOBAL _aligned_alloc_unlocked_callee
391   0000              	GLOBAL _aligned_alloc_unlocked
392   0000              	GLOBAL _realloc_callee
393   0000              	GLOBAL _realloc
394   0000              	GLOBAL _malloc_fastcall
395   0000              	GLOBAL _malloc
396   0000              	GLOBAL _free_fastcall
397   0000              	GLOBAL _free
398   0000              	GLOBAL _calloc_callee
399   0000              	GLOBAL _calloc
400   0000              	GLOBAL _aligned_alloc_callee
401   0000              	GLOBAL _aligned_alloc
402   0000              	GLOBAL _utoa_callee
403   0000              	GLOBAL _utoa
404   0000              	GLOBAL _ultoa_callee
405   0000              	GLOBAL _ultoa
406   0000              	GLOBAL _system_fastcall
407   0000              	GLOBAL _system
408   0000              	GLOBAL _strtoul_callee
409   0000              	GLOBAL _strtoul
410   0000              	GLOBAL _strtol_callee
411   0000              	GLOBAL _strtol
412   0000              	GLOBAL _strtof_callee
413   0000              	GLOBAL _strtof
414   0000              	GLOBAL _strtod_callee
415   0000              	GLOBAL _strtod
416   0000              	GLOBAL _srand_fastcall
417   0000              	GLOBAL _srand
418   0000              	GLOBAL _rand
419   0000              	GLOBAL _quick_exit_fastcall
420   0000              	GLOBAL _quick_exit
421   0000              	GLOBAL _qsort_callee
422   0000              	GLOBAL _qsort
423   0000              	GLOBAL _ltoa_callee
424   0000              	GLOBAL _ltoa
425   0000              	GLOBAL _labs_fastcall
426   0000              	GLOBAL _labs
427   0000              	GLOBAL _itoa_callee
428   0000              	GLOBAL _itoa
429   0000              	GLOBAL _ftoh_callee
430   0000              	GLOBAL _ftoh
431   0000              	GLOBAL _ftog_callee
432   0000              	GLOBAL _ftog
433   0000              	GLOBAL _ftoe_callee
434   0000              	GLOBAL _ftoe
435   0000              	GLOBAL _ftoa_callee
436   0000              	GLOBAL _ftoa
437   0000              	GLOBAL _exit_fastcall
438   0000              	GLOBAL _exit
439   0000              	GLOBAL _dtoh_callee
440   0000              	GLOBAL _dtoh
441   0000              	GLOBAL _dtog_callee
442   0000              	GLOBAL _dtog
443   0000              	GLOBAL _dtoe_callee
444   0000              	GLOBAL _dtoe
445   0000              	GLOBAL _dtoa_callee
446   0000              	GLOBAL _dtoa
447   0000              	GLOBAL _bsearch_callee
448   0000              	GLOBAL _bsearch
449   0000              	GLOBAL _atol_fastcall
450   0000              	GLOBAL _atol
451   0000              	GLOBAL _atoi_fastcall
452   0000              	GLOBAL _atoi
453   0000              	GLOBAL _atof_fastcall
454   0000              	GLOBAL _atof
455   0000              	GLOBAL _atexit_fastcall
456   0000              	GLOBAL _atexit
457   0000              	GLOBAL _at_quick_exit_fastcall
458   0000              	GLOBAL _at_quick_exit
459   0000              	GLOBAL _abs_fastcall
460   0000              	GLOBAL _abs
461   0000              	GLOBAL _abort
462   0000              	GLOBAL __strtou__callee
463   0000              	GLOBAL __strtou_
464   0000              	GLOBAL __strtoi__callee
465   0000              	GLOBAL __strtoi_
466   0000              	GLOBAL __random_uniform_xor_8__fastcall
467   0000              	GLOBAL __random_uniform_xor_8_
468   0000              	GLOBAL __random_uniform_xor_32__fastcall
469   0000              	GLOBAL __random_uniform_xor_32_
470   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
471   0000              	GLOBAL __random_uniform_cmwc_8_
472   0000              	GLOBAL __shellsort__callee
473   0000              	GLOBAL __shellsort_
474   0000              	GLOBAL __quicksort__callee
475   0000              	GLOBAL __quicksort_
476   0000              	GLOBAL __insertion_sort__callee
477   0000              	GLOBAL __insertion_sort_
478   0000              	GLOBAL __ldivu__callee
479   0000              	GLOBAL __ldivu_
480   0000              	GLOBAL __ldiv__callee
481   0000              	GLOBAL __ldiv_
482   0000              	GLOBAL __divu__callee
483   0000              	GLOBAL __divu_
484   0000              	GLOBAL __div__callee
485   0000              	GLOBAL __div_
486   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawTW_raw
488   0000              	GLOBAL _NIRVANAP_drawTW_callee
489   0000              	GLOBAL _NIRVANAP_drawTW
490   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawW_raw
492   0000              	GLOBAL _NIRVANAP_drawW_callee
493   0000              	GLOBAL _NIRVANAP_drawW
494   0000              	GLOBAL _NIRVANAP_spriteT_callee
495   0000              	GLOBAL _NIRVANAP_spriteT
496   0000              	GLOBAL _NIRVANAP_fillC_callee
497   0000              	GLOBAL _NIRVANAP_fillC
498   0000              	GLOBAL _NIRVANAP_readC_callee
499   0000              	GLOBAL _NIRVANAP_readC
500   0000              	GLOBAL _NIRVANAP_paintC_callee
501   0000              	GLOBAL _NIRVANAP_paintC
502   0000              	GLOBAL _NIRVANAP_printC_callee
503   0000              	GLOBAL _NIRVANAP_printC
504   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
505   0000              	GLOBAL _NIRVANAP_fillT_raw
506   0000              	GLOBAL _NIRVANAP_fillT_callee
507   0000              	GLOBAL _NIRVANAP_fillT
508   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
509   0000              	GLOBAL _NIRVANAP_drawT_raw
510   0000              	GLOBAL _NIRVANAP_drawT_callee
511   0000              	GLOBAL _NIRVANAP_drawT
512   0000              	GLOBAL _NIRVANAP_stop
513   0000              	GLOBAL _NIRVANAP_start
514   0000              	GLOBAL _debug3
515   0000              	GLOBAL _debug2
516   0000              	GLOBAL _debug
517   0000              	GLOBAL _zx_print_str
518   0000              	GLOBAL _zx_print_int
519   0000              	GLOBAL _zx_print_chr
520   0000              	GLOBAL _zx_print_bonus_time
521   0000              	GLOBAL _zx_isr
522   0000              	GLOBAL _z80_otdr_callee
523   0000              	GLOBAL _z80_otdr
524   0000              	GLOBAL _z80_otir_callee
525   0000              	GLOBAL _z80_otir
526   0000              	GLOBAL _z80_outp_callee
527   0000              	GLOBAL _z80_outp
528   0000              	GLOBAL _z80_indr_callee
529   0000              	GLOBAL _z80_indr
530   0000              	GLOBAL _z80_inir_callee
531   0000              	GLOBAL _z80_inir
532   0000              	GLOBAL _z80_inp_fastcall
533   0000              	GLOBAL _z80_inp
534   0000              	GLOBAL _z80_set_int_state_fastcall
535   0000              	GLOBAL _z80_set_int_state
536   0000              	GLOBAL _z80_get_int_state
537   0000              	GLOBAL _z80_delay_tstate_fastcall
538   0000              	GLOBAL _z80_delay_tstate
539   0000              	GLOBAL _z80_delay_ms_fastcall
540   0000              	GLOBAL _z80_delay_ms
541   0000              	GLOBAL _im2_remove_generic_callback_callee
542   0000              	GLOBAL _im2_remove_generic_callback
543   0000              	GLOBAL _im2_prepend_generic_callback_callee
544   0000              	GLOBAL _im2_prepend_generic_callback
545   0000              	GLOBAL _im2_append_generic_callback_callee
546   0000              	GLOBAL _im2_append_generic_callback
547   0000              	GLOBAL _im2_create_generic_isr_8080_callee
548   0000              	GLOBAL _im2_create_generic_isr_8080
549   0000              	GLOBAL _im2_create_generic_isr_callee
550   0000              	GLOBAL _im2_create_generic_isr
551   0000              	GLOBAL _im2_install_isr_callee
552   0000              	GLOBAL _im2_install_isr
553   0000              	GLOBAL _im2_init_fastcall
554   0000              	GLOBAL _im2_init
555   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
556   0000              	GLOBAL _intrinsic_swap_word_32
557   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
558   0000              	GLOBAL _intrinsic_swap_endian_32
559   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
560   0000              	GLOBAL _intrinsic_swap_endian_16
561   0000              	GLOBAL _intrinsic_return_de
562   0000              	GLOBAL _intrinsic_return_bc
563   0000              	GLOBAL _intrinsic_exx
564   0000              	GLOBAL _intrinsic_ex_de_hl
565   0000              	GLOBAL _intrinsic_nop
566   0000              	GLOBAL _intrinsic_im_2
567   0000              	GLOBAL _intrinsic_im_1
568   0000              	GLOBAL _intrinsic_im_0
569   0000              	GLOBAL _intrinsic_retn
570   0000              	GLOBAL _intrinsic_reti
571   0000              	GLOBAL _intrinsic_halt
572   0000              	GLOBAL _intrinsic_ei
573   0000              	GLOBAL _intrinsic_di
574   0000              	GLOBAL _intrinsic_stub
575   0000              	GLOBAL _intrinsic_outi
576   0000              	GLOBAL _intrinsic_ldi
577   0000              	GLOBAL _zx_pattern_fill_callee
578   0000              	GLOBAL _zx_pattern_fill
579   0000              	GLOBAL _zx_saddrpup_fastcall
580   0000              	GLOBAL _zx_saddrpup
581   0000              	GLOBAL _zx_saddrpright_callee
582   0000              	GLOBAL _zx_saddrpright
583   0000              	GLOBAL _zx_saddrpleft_callee
584   0000              	GLOBAL _zx_saddrpleft
585   0000              	GLOBAL _zx_saddrpdown_fastcall
586   0000              	GLOBAL _zx_saddrpdown
587   0000              	GLOBAL _zx_saddrcup_fastcall
588   0000              	GLOBAL _zx_saddrcup
589   0000              	GLOBAL _zx_saddrcright_fastcall
590   0000              	GLOBAL _zx_saddrcright
591   0000              	GLOBAL _zx_saddrcleft_fastcall
592   0000              	GLOBAL _zx_saddrcleft
593   0000              	GLOBAL _zx_saddrcdown_fastcall
594   0000              	GLOBAL _zx_saddrcdown
595   0000              	GLOBAL _zx_saddr2py_fastcall
596   0000              	GLOBAL _zx_saddr2py
597   0000              	GLOBAL _zx_saddr2px_fastcall
598   0000              	GLOBAL _zx_saddr2px
599   0000              	GLOBAL _zx_saddr2cy_fastcall
600   0000              	GLOBAL _zx_saddr2cy
601   0000              	GLOBAL _zx_saddr2cx_fastcall
602   0000              	GLOBAL _zx_saddr2cx
603   0000              	GLOBAL _zx_saddr2aaddr_fastcall
604   0000              	GLOBAL _zx_saddr2aaddr
605   0000              	GLOBAL _zx_py2saddr_fastcall
606   0000              	GLOBAL _zx_py2saddr
607   0000              	GLOBAL _zx_py2aaddr_fastcall
608   0000              	GLOBAL _zx_py2aaddr
609   0000              	GLOBAL _zx_pxy2saddr_callee
610   0000              	GLOBAL _zx_pxy2saddr
611   0000              	GLOBAL _zx_pxy2aaddr_callee
612   0000              	GLOBAL _zx_pxy2aaddr
613   0000              	GLOBAL _zx_px2bitmask_fastcall
614   0000              	GLOBAL _zx_px2bitmask
615   0000              	GLOBAL _zx_cy2saddr_fastcall
616   0000              	GLOBAL _zx_cy2saddr
617   0000              	GLOBAL _zx_cy2aaddr_fastcall
618   0000              	GLOBAL _zx_cy2aaddr
619   0000              	GLOBAL _zx_cxy2saddr_callee
620   0000              	GLOBAL _zx_cxy2saddr
621   0000              	GLOBAL _zx_cxy2aaddr_callee
622   0000              	GLOBAL _zx_cxy2aaddr
623   0000              	GLOBAL _zx_bitmask2px_fastcall
624   0000              	GLOBAL _zx_bitmask2px
625   0000              	GLOBAL _zx_aaddrcup_fastcall
626   0000              	GLOBAL _zx_aaddrcup
627   0000              	GLOBAL _zx_aaddrcright_fastcall
628   0000              	GLOBAL _zx_aaddrcright
629   0000              	GLOBAL _zx_aaddrcleft_fastcall
630   0000              	GLOBAL _zx_aaddrcleft
631   0000              	GLOBAL _zx_aaddrcdown_fastcall
632   0000              	GLOBAL _zx_aaddrcdown
633   0000              	GLOBAL _zx_aaddr2saddr_fastcall
634   0000              	GLOBAL _zx_aaddr2saddr
635   0000              	GLOBAL _zx_aaddr2py_fastcall
636   0000              	GLOBAL _zx_aaddr2py
637   0000              	GLOBAL _zx_aaddr2px_fastcall
638   0000              	GLOBAL _zx_aaddr2px
639   0000              	GLOBAL _zx_aaddr2cy_fastcall
640   0000              	GLOBAL _zx_aaddr2cy
641   0000              	GLOBAL _zx_aaddr2cx_fastcall
642   0000              	GLOBAL _zx_aaddr2cx
643   0000              	GLOBAL _zx_visit_wc_pix_callee
644   0000              	GLOBAL _zx_visit_wc_pix
645   0000              	GLOBAL _zx_visit_wc_attr_callee
646   0000              	GLOBAL _zx_visit_wc_attr
647   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
648   0000              	GLOBAL _zx_scroll_wc_up_pix
649   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
650   0000              	GLOBAL _zx_scroll_wc_up_attr
651   0000              	GLOBAL _zx_scroll_wc_up_callee
652   0000              	GLOBAL _zx_scroll_wc_up
653   0000              	GLOBAL _zx_scroll_up_pix_callee
654   0000              	GLOBAL _zx_scroll_up_pix
655   0000              	GLOBAL _zx_scroll_up_attr_callee
656   0000              	GLOBAL _zx_scroll_up_attr
657   0000              	GLOBAL _zx_scroll_up_callee
658   0000              	GLOBAL _zx_scroll_up
659   0000              	GLOBAL _zx_cls_wc_pix_callee
660   0000              	GLOBAL _zx_cls_wc_pix
661   0000              	GLOBAL _zx_cls_wc_attr_callee
662   0000              	GLOBAL _zx_cls_wc_attr
663   0000              	GLOBAL _zx_cls_wc_callee
664   0000              	GLOBAL _zx_cls_wc
665   0000              	GLOBAL _zx_cls_pix_fastcall
666   0000              	GLOBAL _zx_cls_pix
667   0000              	GLOBAL _zx_cls_attr_fastcall
668   0000              	GLOBAL _zx_cls_attr
669   0000              	GLOBAL _zx_cls_fastcall
670   0000              	GLOBAL _zx_cls
671   0000              	GLOBAL _zx_border_fastcall
672   0000              	GLOBAL _zx_border
673   0000              	GLOBAL _zx_tape_verify_block_callee
674   0000              	GLOBAL _zx_tape_verify_block
675   0000              	GLOBAL _zx_tape_save_block_callee
676   0000              	GLOBAL _zx_tape_save_block
677   0000              	GLOBAL _zx_tape_load_block_callee
678   0000              	GLOBAL _zx_tape_load_block
679   0000              	GLOBAL _spr_destroy
680   0000              	GLOBAL _spr_colision_boss
681   0000              	GLOBAL _spr_colision_b
682   0000              	GLOBAL _spr_unflattenP1
683   0000              	GLOBAL _spr_flatten
684   0000              	GLOBAL _spr_btile_paint_back
685   0000              	GLOBAL _spr_bullet_explode
686   0000              	GLOBAL _spr_init_effects
687   0000              	GLOBAL _spr_turn_horizontal
688   0000              	GLOBAL _spr_bullets_play
689   0000              	GLOBAL _spr_play_anim
690   0000              	GLOBAL _spr_add_anim
691   0000              	GLOBAL _spr_clear_scr
692   0000              	GLOBAL _spr_page_map
693   0000              	GLOBAL _spr_page_down
694   0000              	GLOBAL _spr_page_up
695   0000              	GLOBAL _spr_page_right
696   0000              	GLOBAL _spr_page_left
697   0000              	GLOBAL _spr_tile_paint
698   0000              	GLOBAL _spr_draw_index
699   0000              	GLOBAL _spr_brick_anim
700   0000              	GLOBAL _spr_back_repaint
701   0000              	GLOBAL _spr_tile_dir
702   0000              	GLOBAL _spr_tile
703   0000              	GLOBAL _spr_paint_player
704   0000              	GLOBAL _spr_paint
705   0000              	GLOBAL _spr_move_left
706   0000              	GLOBAL _spr_move_right
707   0000              	GLOBAL _spr_move_horizontal
708   0000              	GLOBAL _spr_move_down
709   0000              	GLOBAL _spr_move_up
710   0000              	GLOBAL _spr_set_right
711   0000              	GLOBAL _spr_set_left
712   0000              	GLOBAL _spr_set_down
713   0000              	GLOBAL _spr_set_up
714   0000              	GLOBAL _spr_calc_index
715   0000              	GLOBAL _spr_chktime
716   0000              	GLOBAL _player_fix_walk_lin
717   0000              	GLOBAL _player_gasta_brick
718   0000              	GLOBAL _player_lost_life
719   0000              	GLOBAL _player_damage
720   0000              	GLOBAL _player_open_door
721   0000              	GLOBAL _player_move_jump
722   0000              	GLOBAL _player_fire
723   0000              	GLOBAL _player_check_stairs_vertical
724   0000              	GLOBAL _player_check_stairs
725   0000              	GLOBAL _player_tile
726   0000              	GLOBAL _player_anim_stairs
727   0000              	GLOBAL _player_pick_item
728   0000              	GLOBAL _player_check_floor
729   0000              	GLOBAL _player_hit_platform_clear
730   0000              	GLOBAL _player_score_add
731   0000              	GLOBAL _player_hit_platform
732   0000              	GLOBAL _player_move_input
733   0000              	GLOBAL _player_turn
734   0000              	GLOBAL _player_move
735   0000              	GLOBAL _player_action_jump
736   0000              	GLOBAL _player_action_fire
737   0000              	GLOBAL _player_check_input
738   0000              	GLOBAL _player_pick_mushroom
739   0000              	GLOBAL _player_collision
740   0000              	GLOBAL _player_init
741   0000              	GLOBAL _menu_define_key
742   0000              	GLOBAL _menu_redefine
743   0000              	GLOBAL _menu_main_print
744   0000              	GLOBAL _menu_main
745   0000              	GLOBAL _game_fill_row
746   0000              	GLOBAL _boss_draw_frame
747   0000              	GLOBAL _boss_draw
748   0000              	GLOBAL _boss_turn
749   0000              	GLOBAL _enemy_avoid_dead
750   0000              	GLOBAL _enemy_avoid_fall
751   0000              	GLOBAL _enemy_kill
752   0000              	GLOBAL _enemy_respawn
753   0000              	GLOBAL _enemy_init
754   0000              	GLOBAL _enemy_move
755   0000              	GLOBAL _enemy_turn
756   0000              	GLOBAL _enemy_static
757   0000              	GLOBAL _enemy_walk
758   0000              	GLOBAL _enemy_horizontal
759   0000              	GLOBAL _enemy_vertical
760   0000              	GLOBAL _ay_reset
761   0000              	GLOBAL _ay_song_stop
762   0000              	GLOBAL _ay_song_play
763   0000              	GLOBAL _ay_fx_stop
764   0000              	GLOBAL _ay_fx_play
765   0000              	GLOBAL _ay_is_playing
766   0000              	GLOBAL _audio_levelup
767   0000              	GLOBAL _audio_checkpoint
768   0000              	GLOBAL _audio_menu
769   0000              	GLOBAL _audio_game_end
770   0000              	GLOBAL _audio_level_complete
771   0000              	GLOBAL _audio_level_start
772   0000              	GLOBAL _audio_lotr_lose_a_life
773   0000              	GLOBAL _audio_mushroom
774   0000              	GLOBAL _audio_puerta
775   0000              	GLOBAL _audio_sin_mana
776   0000              	GLOBAL _audio_magic1
777   0000              	GLOBAL _audio_coin
778   0000              	GLOBAL _audio_golpe
779   0000              	GLOBAL _audio_salto
780   0000              	GLOBAL _audio_efecto
781   0000              	GLOBAL _audio_disparo_fire
782   0000              	GLOBAL _audio_disparo_axe
783   0000              	GLOBAL _audio_disparo2
784   0000              	GLOBAL _audio_disparo1
785   0000              	GLOBAL _audio_respawn
786   0000              	GLOBAL _audio_explosion1
787   0000              	GLOBAL _audio_explosion
788   0000              	GLOBAL _audio_ingame
789   0000              	GLOBAL _test_func
790   0000              	GLOBAL _test_proc
791   0000              	GLOBAL _in_mouse_kempston_wheel_delta
792   0000              	GLOBAL _in_mouse_kempston_wheel
793   0000              	GLOBAL _in_mouse_kempston_callee
794   0000              	GLOBAL _in_mouse_kempston
795   0000              	GLOBAL _in_mouse_kempston_setpos_callee
796   0000              	GLOBAL _in_mouse_kempston_setpos
797   0000              	GLOBAL _in_mouse_kempston_reset
798   0000              	GLOBAL _in_mouse_kempston_init
799   0000              	GLOBAL _in_mouse_amx_wheel_delta
800   0000              	GLOBAL _in_mouse_amx_wheel
801   0000              	GLOBAL _in_mouse_amx_callee
802   0000              	GLOBAL _in_mouse_amx
803   0000              	GLOBAL _in_mouse_amx_setpos_callee
804   0000              	GLOBAL _in_mouse_amx_setpos
805   0000              	GLOBAL _in_mouse_amx_reset
806   0000              	GLOBAL _in_mouse_amx_init_callee
807   0000              	GLOBAL _in_mouse_amx_init
808   0000              	GLOBAL _in_stick_sinclair2
809   0000              	GLOBAL _in_stick_sinclair1
810   0000              	GLOBAL _in_stick_kempston
811   0000              	GLOBAL _in_stick_fuller
812   0000              	GLOBAL _in_stick_cursor
813   0000              	GLOBAL _in_stick_keyboard_fastcall
814   0000              	GLOBAL _in_stick_keyboard
815   0000              	GLOBAL _in_wait_nokey
816   0000              	GLOBAL _in_wait_key
817   0000              	GLOBAL _in_test_key
818   0000              	GLOBAL _in_pause_fastcall
819   0000              	GLOBAL _in_pause
820   0000              	GLOBAL _in_key_scancode_fastcall
821   0000              	GLOBAL _in_key_scancode
822   0000              	GLOBAL _in_key_pressed_fastcall
823   0000              	GLOBAL _in_key_pressed
824   0000              	GLOBAL _in_inkey
825   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
826   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
827   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
828   0000              	GLOBAL _NIRVANAP_HOLE
829   0000              	GLOBAL _NIRVANAP_ISR_HOOK
830   0000              	GLOBAL _scan_map
831   0000              	GLOBAL _key_map
832   0000              	GLOBAL _player_lvl_table
833   0000              	GLOBAL _stp_row
834   0000              	GLOBAL _stp_col
835   0000              	GLOBAL _stp_tile
836   0000              	GLOBAL _map_paper_last_a
837   0000              	GLOBAL _map_paper_last
838   0000              	GLOBAL _map_paper_clr
839   0000              	GLOBAL _map_paper
840   0000              	GLOBAL _draw_count
841   0000              	GLOBAL _g_player_hit_right
842   0000              	GLOBAL _g_player_hit_left
843   0000              	GLOBAL _bullet_count
844   0000              	GLOBAL _boss_stat
845   0000              	GLOBAL _boss_time_fire
846   0000              	GLOBAL _boss_time
847   0000              	GLOBAL _boss_tile
848   0000              	GLOBAL _boss_inc
849   0000              	GLOBAL _boss_col
850   0000              	GLOBAL _boss_lin
851   0000              	GLOBAL _bullet
852   0000              	GLOBAL _bullet_vel
853   0000              	GLOBAL _bullet_frames
854   0000              	GLOBAL _bullet_colint
855   0000              	GLOBAL _bullet_dir
856   0000              	GLOBAL _bullet_tile
857   0000              	GLOBAL _bullet_col
858   0000              	GLOBAL _bullet_lin
859   0000              	GLOBAL _bullet_col0
860   0000              	GLOBAL _bullet_lin0
861   0000              	GLOBAL _bullet_max
862   0000              	GLOBAL _bullet_class
863   0000              	GLOBAL _mush_class
864   0000              	GLOBAL _mush_index
865   0000              	GLOBAL _anim_count
866   0000              	GLOBAL _anim_respanwn
867   0000              	GLOBAL _anim_loop
868   0000              	GLOBAL _anim_end
869   0000              	GLOBAL _anim_int
870   0000              	GLOBAL _anim_tile
871   0000              	GLOBAL _anim_col
872   0000              	GLOBAL _anim_lin
873   0000              	GLOBAL _map_heigth
874   0000              	GLOBAL _map_width
875   0000              	GLOBAL _scr_curr
876   0000              	GLOBAL _sprite_kind
877   0000              	GLOBAL _scr_obj1
878   0000              	GLOBAL _scr_obj0
879   0000              	GLOBAL _scr_map
880   0000              	GLOBAL _spr_init
881   0000              	GLOBAL _spr_map_tile
882   0000              	GLOBAL _sprite_frames
883   0000              	GLOBAL _sprite_base_speed
884   0000              	GLOBAL _sprite_speed
885   0000              	GLOBAL _screen_ink
886   0000              	GLOBAL _screen_paper
887   0000              	GLOBAL _player_onstair
888   0000              	GLOBAL _game_start_scr
889   0000              	GLOBAL _game_respawn_tile
890   0000              	GLOBAL _game_respawn_index
891   0000              	GLOBAL _game_respawn_time
892   0000              	GLOBAL _game_score_top
893   0000              	GLOBAL _player_coins
894   0000              	GLOBAL _player_lives
895   0000              	GLOBAL _game_over
896   0000              	GLOBAL _game_sound
897   0000              	GLOBAL _game_inf_lives
898   0000              	GLOBAL _game_inmune
899   0000              	GLOBAL _sprite_curr_index
900   0000              	GLOBAL _spr_count
901   0000              	GLOBAL _bullet_time
902   0000              	GLOBAL _anim_time
903   0000              	GLOBAL _frame_time
904   0000              	GLOBAL _curr_time
905   0000              	GLOBAL _s_state
906   0000              	GLOBAL _attrib_osd
907   0000              	GLOBAL _attrib_hl
908   0000              	GLOBAL _attrib
909   0000              	GLOBAL _zx_val_asm
910   0000              	GLOBAL _enemies
911   0000              	GLOBAL _tmp_ui
912   0000              	GLOBAL _tmp_sc
913   0000              	GLOBAL _tmp_uc
914   0000              	GLOBAL _tmp1
915   0000              	GLOBAL _tmp0
916   0000              	GLOBAL _tmp
917   0000              	GLOBAL _index1
918   0000              	GLOBAL _index0
919   0000              	GLOBAL _loop_count
920   0000              	GLOBAL _s_class
921   0000              	GLOBAL _s_col1
922   0000              	GLOBAL _s_col0
923   0000              	GLOBAL _s_lin1
924   0000              	GLOBAL _s_lin0
925   0000              	GLOBAL _s_tile1
926   0000              	GLOBAL _s_tile0
927   0000              	GLOBAL _player_brick_time
928   0000              	GLOBAL _player_hit_count
929   0000              	GLOBAL _game_debug
930   0000              	GLOBAL _sprite_horizontal_check
931   0000              	GLOBAL _sprite_on_air
932   0000              	GLOBAL _sprite
933   0000              	GLOBAL _fps
934   0000              	GLOBAL _menu_curr_sel
935   0000              	GLOBAL _game_control_jump_lock
936   0000              	GLOBAL _game_control_fire_lock
937   0000              	GLOBAL _game_control_mode
938   0000              	GLOBAL _game_respawn_curr_time
939   0000              	GLOBAL _game_round_up
940   0000              	GLOBAL _game_mush_count
941   0000              	GLOBAL _game_song_play_start
942   0000              	GLOBAL _game_song_play
943   0000              	GLOBAL _game_boss_fix
944   0000              	GLOBAL _game_boss_hit
945   0000              	GLOBAL _game_boss_alive
946   0000              	GLOBAL _game_boss
947   0000              	GLOBAL _game_world
948   0000              	GLOBAL _game_gravity
949   0000              	GLOBAL _player_onfire
950   0000              	GLOBAL _player_anim_stair
951   0000              	GLOBAL _player_hit
952   0000              	GLOBAL _player_hit_time
953   0000              	GLOBAL _game_checkpoint_scr
954   0000              	GLOBAL _game_checkpoint_lin
955   0000              	GLOBAL _game_checkpoint_col
956   0000              	GLOBAL _player_jump_check
957   0000              	GLOBAL _player_lin_scr
958   0000              	GLOBAL _player_col_scr
959   0000              	GLOBAL _player_lvl
960   0000              	GLOBAL _player_int
961   0000              	GLOBAL _player_str
962   0000              	GLOBAL _player_max_vita
963   0000              	GLOBAL _player_max_mana
964   0000              	GLOBAL _player_vita
965   0000              	GLOBAL _player_mana
966   0000              	GLOBAL _player_keys
967   0000              	GLOBAL _player_vel_inc
968   0000              	GLOBAL _player_vel_y1
969   0000              	GLOBAL _player_vel_y0
970   0000              	GLOBAL _player_vel_y
971   0000              	GLOBAL _player_vel_x
972   0000              	GLOBAL _player_score
973   0000              	GLOBAL _last_time
974   0000              	GLOBAL _spr_timer
975   0000              	GLOBAL _jump_lin
976   0000              	GLOBAL _player_hit_col
977   0000              	GLOBAL _player_hit_lin
978   0000              	GLOBAL _colint
979   0000              	GLOBAL _col
980   0000              	GLOBAL _tbuffer
981   0000              	GLOBAL _lin
982   0000              	GLOBAL _tile
983   0000              	GLOBAL _state_a
984   0000              	GLOBAL _state
985   0000              	GLOBAL _class
986   0000              	GLOBAL _dirs_alt
987   0000              	GLOBAL _dirs
988   0000              	GLOBAL _k2
989   0000              	GLOBAL _k1
990   0000              	GLOBAL _joyfunc2
991   0000              	GLOBAL _joyfunc1
992   0000              	GLOBAL _btiles
993   0000              	GLOBAL _spec128
994   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
995   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
996   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
997   0000              	GLOBAL _ay_fx_06_disparo_fire
998   0000              	GLOBAL _ay_fx_06_disparo_axe
999   0000              	GLOBAL _ay_fx_06_respawn
1000  0000              	GLOBAL _ay_fx_06_explosion1
1001  0000              	GLOBAL _ay_fx_06_efecto
1002  0000              	GLOBAL _ay_fx_06_disparo2
1003  0000              	GLOBAL _ay_fx_06_disparo1
1004  0000              	GLOBAL _ay_fx_06_checkpoint
1005  0000              	GLOBAL _ay_fx_06_levelup
1006  0000              	GLOBAL _ay_fx_06_mushroom
1007  0000              	GLOBAL _ay_fx_06_magic
1008  0000              	GLOBAL _ay_fx_06_sin_mana
1009  0000              	GLOBAL _ay_fx_06_salto
1010  0000              	GLOBAL _ay_fx_06_puerta
1011  0000              	GLOBAL _ay_fx_06_magic1
1012  0000              	GLOBAL _ay_fx_06_golpe
1013  0000              	GLOBAL _ay_fx_06_explosion
1014  0000              	GLOBAL _ay_fx_06_dano_por_toque
1015  0000              	GLOBAL _ay_fx_06_coin
1016  0000              	GLOBAL _ay_song_06_lotr_level_start
1017  0000              	GLOBAL _ay_song_06_lotr_level_complete
1018  0000              	GLOBAL _ay_song_06_lotr_lose_a_life
1019  0000              	GLOBAL _ay_song_04_doom
1020  0000              	GLOBAL _ay_song_04_luna
1021  0000              	GLOBAL _ay_song_04_ciel
1022  0000              	GLOBAL _ay_song_04_hope
1023  0000              	GLOBAL _ay_song_03_regis
1024  0000              	GLOBAL _ay_song_03_sunflower
1025  0000              	GLOBAL _ay_song_03_lotr
1026  0000              	GLOBAL _world0_h
1027  0000              	GLOBAL _world0_w
1028  0000              	GLOBAL _world0
1029  0000              	GLOBAL _paper0
1030  0000              	GLOBAL _lenght0
1031  0000              	GLOBAL _start_scr0
1032  0000              ;--------------------------------------------------------
1033  0000              ; special function registers
1034  0000              ;--------------------------------------------------------
1035  0000              defc _IO_FE	=	0x00fe
1036  0000              defc _IO_1FFD	=	0x1ffd
1037  0000              defc _IO_7FFD	=	0x7ffd
1038  0000              ;--------------------------------------------------------
1039  0000              ; ram data
1040  0000              ;--------------------------------------------------------
1041  0000              	SECTION bss_compiler
1042  0000              ;--------------------------------------------------------
1043  0000              ; ram data
1044  0000              ;--------------------------------------------------------
1045  0000              
1046  0000              IF 0
1047  0000              
1048  0000              ; .area _INITIALIZED removed by z88dk
1049  0000              
1050  0000              
1051  0000              ENDIF
1052  0000              
1053  0000              ;--------------------------------------------------------
1054  0000              ; absolute external ram data
1055  0000              ;--------------------------------------------------------
1056  0000              	SECTION IGNORE
1057  0000              ;--------------------------------------------------------
1058  0000              ; global & static initialisations
1059  0000              ;--------------------------------------------------------
1060  0000              	SECTION code_crt_init
1061  0000              ;--------------------------------------------------------
1062  0000              ; Home
1063  0000              ;--------------------------------------------------------
1064  0000              	SECTION IGNORE
1065  0000              ;--------------------------------------------------------
1066  0000              ; code
1067  0000              ;--------------------------------------------------------
1068  0000              	SECTION code_compiler
1069  0000              ;	---------------------------------
1070  0000              ; Function game_loop
1071  0000              ; ---------------------------------
1072  0000              _game_loop:
1073  0000  CD 68 08    	call	_game_round_init
1074  0003              l_game_loop_00121:
1075  0003  3A 00 00    	ld	a,(_game_over)
1076  0006  B7          	or	a, a
1077  0007  C2 E0 00    	jp	NZ, l_game_loop_00124
1078  000A              l_game_loop_00116:
1079  000A  3A 00 00    	ld	a,(_game_round_up)
1080  000D  B7          	or	a, a
1081  000E  C2 9F 00    	jp	NZ, l_game_loop_00118
1082  0011  3A 00 00    	ld	a,(_game_over)
1083  0014  B7          	or	a, a
1084  0015  C2 9F 00    	jp	NZ, l_game_loop_00118
1085  0018  CD 00 00    	call	_enemy_turn
1086  001B  CD 00 00    	call	_player_turn
1087  001E  3A 00 00    	ld	a,(_game_boss)
1088  0021  B7          	or	a, a
1089  0022  28 03       	jr	Z,l_game_loop_00102
1090  0024  CD 00 00    	call	_boss_turn
1091  0027              l_game_loop_00102:
1092  0027  3E 02       	ld	a,0x02
1093  0029  F5          	push	af
1094  002A  33          	inc	sp
1095  002B  21 00 00    	ld	hl,_bullet_time
1096  002E  E5          	push	hl
1097  002F  CD 36 0C    	call	_game_check_time
1098  0032  F1          	pop	af
1099  0033  33          	inc	sp
1100  0034  7D          	ld	a, l
1101  0035  B7          	or	a, a
1102  0036  28 0F       	jr	Z,l_game_loop_00106
1103  0038  2A 00 00    	ld	hl,(_curr_time)
1104  003B  22 00 00    	ld	(_bullet_time),hl
1105  003E  3A 00 00    	ld	a,(_bullet_count)
1106  0041  B7          	or	a,a
1107  0042  28 03       	jr	Z,l_game_loop_00106
1108  0044  CD 00 00    	call	_spr_bullets_play
1109  0047              l_game_loop_00106:
1110  0047  3E 08       	ld	a,0x08
1111  0049  F5          	push	af
1112  004A  33          	inc	sp
1113  004B  21 00 00    	ld	hl,_anim_time
1114  004E  E5          	push	hl
1115  004F  CD 36 0C    	call	_game_check_time
1116  0052  F1          	pop	af
1117  0053  33          	inc	sp
1118  0054  7D          	ld	a, l
1119  0055  B7          	or	a, a
1120  0056  28 0F       	jr	Z,l_game_loop_00110
1121  0058  2A 00 00    	ld	hl,(_curr_time)
1122  005B  22 00 00    	ld	(_anim_time),hl
1123  005E  3A 00 00    	ld	a,(_anim_count)
1124  0061  B7          	or	a,a
1125  0062  28 03       	jr	Z,l_game_loop_00110
1126  0064  CD 00 00    	call	_spr_play_anim
1127  0067              l_game_loop_00110:
1128  0067  3E 64       	ld	a,0x64
1129  0069  F5          	push	af
1130  006A  33          	inc	sp
1131  006B  21 00 00    	ld	hl,_frame_time
1132  006E  E5          	push	hl
1133  006F  CD 36 0C    	call	_game_check_time
1134  0072  F1          	pop	af
1135  0073  33          	inc	sp
1136  0074  7D          	ld	a, l
1137  0075  B7          	or	a, a
1138  0076  28 13       	jr	Z,l_game_loop_00114
1139  0078  2A 00 00    	ld	hl,(_curr_time)
1140  007B  22 00 00    	ld	(_frame_time),hl
1141  007E  76          	halt
1142  007F  3A 00 00    	ld	a,(_game_debug)
1143  0082  B7          	or	a, a
1144  0083  28 03       	jr	Z,l_game_loop_00112
1145  0085  CD E1 00    	call	_game_fps
1146  0088              l_game_loop_00112:
1147  0088  CD F8 00    	call	_game_respawn
1148  008B              l_game_loop_00114:
1149  008B  21 00 00    	ld	hl,_loop_count
1150  008E  34          	inc	(hl)
1151  008F  20 02       	jr	NZ,l_game_loop_00174
1152  0091  23          	inc	hl
1153  0092  34          	inc	(hl)
1154  0093              l_game_loop_00174:
1155  0093  21 00 00    	ld	hl,_fps
1156  0096  34          	inc	(hl)
1157  0097  C2 0A 00    	jp	NZ,l_game_loop_00116
1158  009A  23          	inc	hl
1159  009B  34          	inc	(hl)
1160  009C  C3 0A 00    	jp	l_game_loop_00116
1161  009F              l_game_loop_00118:
1162  009F  21 00 00    	ld	hl,_game_round_up
1163  00A2  7E          	ld	a, (hl)
1164  00A3  B7          	or	a, a
1165  00A4  CA 03 00    	jp	Z, l_game_loop_00121
1166  00A7  36 00       	ld	(hl),0x00
1167  00A9  21 00 00    	ld	hl,_game_respawn_curr_time
1168  00AC  7E          	ld	a, (hl)
1169  00AD  C6 E0       	add	a,0xe0
1170  00AF  77          	ld	(hl), a
1171  00B0  21 00 00    	ld	hl,_game_world
1172  00B3  34          	inc	(hl)
1173  00B4  21 00 00    	ld	hl,_game_boss_alive
1174  00B7  36 01       	ld	(hl),0x01
1175  00B9  21 00 00    	ld	hl,_game_boss
1176  00BC  36 00       	ld	(hl),0x00
1177  00BE  21 00 00    	ld	hl,_scr_curr
1178  00C1  36 FF       	ld	(hl),0xff
1179  00C3  21 00 00    	ld	hl,_player_lin_scr
1180  00C6  36 00       	ld	(hl),0x00
1181  00C8  21 00 00    	ld	hl,_player_col_scr
1182  00CB  36 00       	ld	(hl),0x00
1183  00CD  CD 52 10    	call	_game_obj_clear
1184  00D0  21 00 00    	ld	hl,_player_col_scr
1185  00D3  36 02       	ld	(hl),0x02
1186  00D5  21 00 00    	ld	hl,_player_lin_scr
1187  00D8  36 80       	ld	(hl),0x80
1188  00DA  CD 68 08    	call	_game_round_init
1189  00DD  C3 03 00    	jp	l_game_loop_00121
1190  00E0              l_game_loop_00124:
1191  00E0  C9          	ret
1192  00E1              	SECTION code_compiler
1193  00E1              ;	---------------------------------
1194  00E1              ; Function game_fps
1195  00E1              ; ---------------------------------
1196  00E1              _game_fps:
1197  00E1  21 00 00    	ld	hl,_screen_ink
1198  00E4  36 07       	ld	(hl),0x07
1199  00E6  2A 00 00    	ld	hl,(_fps)
1200  00E9  E5          	push	hl
1201  00EA  21 17 18    	ld	hl,0x1817
1202  00ED  E5          	push	hl
1203  00EE  CD 00 00    	call	_zx_print_int
1204  00F1  21 00 00    	ld	hl,0x0000
1205  00F4  22 00 00    	ld	(_fps),hl
1206  00F7  C9          	ret
1207  00F8              	SECTION code_compiler
1208  00F8              ;	---------------------------------
1209  00F8              ; Function game_respawn
1210  00F8              ; ---------------------------------
1211  00F8              _game_respawn:
1212  00F8  21 00 00    	ld	hl,_sprite
1213  00FB  36 00       	ld	(hl),0x00
1214  00FD              l_game_respawn_00105:
1215  00FD  21 00 00    	ld	hl,_sprite
1216  0100  7E          	ld	a, (hl)
1217  0101  D6 07       	sub	a,0x07
1218  0103  D2 96 01    	jp	NC, l_game_respawn_00108
1219  0106  01 00 00    	ld	bc,_game_respawn_time+0
1220  0109  6E          	ld	l,(hl)
1221  010A  26 00       	ld	h,0x00
1222  010C  29          	add	hl, hl
1223  010D  09          	add	hl, bc
1224  010E  5E          	ld	e,(hl)
1225  010F  23          	inc	hl
1226  0110  56          	ld	d,(hl)
1227  0111  2B          	dec	hl
1228  0112  7A          	ld	a, d
1229  0113  B3          	or	a,e
1230  0114  28 79       	jr	Z,l_game_respawn_00104
1231  0116  3A 00 00    	ld	a,(_game_respawn_curr_time)
1232  0119  EB          	ex	de,hl
1233  011A  C5          	push	bc
1234  011B  F5          	push	af
1235  011C  33          	inc	sp
1236  011D  D5          	push	de
1237  011E  CD 36 0C    	call	_game_check_time
1238  0121  F1          	pop	af
1239  0122  33          	inc	sp
1240  0123  C1          	pop	bc
1241  0124  7D          	ld	a,l
1242  0125  B7          	or	a, a
1243  0126  28 67       	jr	Z,l_game_respawn_00104
1244  0128  2A 00 00    	ld	hl,(_sprite)
1245  012B  26 00       	ld	h,0x00
1246  012D  11 00 00    	ld	de,_game_respawn_index
1247  0130  19          	add	hl,de
1248  0131  7E          	ld	a,(hl)
1249  0132  6F          	ld	l,a
1250  0133  26 00       	ld	h,0x00
1251  0135  22 00 00    	ld	(_index1),hl
1252  0138  5F          	ld	e,a
1253  0139  E6 0F       	and	a,0x0f
1254  013B  87          	add	a, a
1255  013C  32 00 00    	ld	(_s_col1),a
1256  013F  21 00 00    	ld	hl,_s_lin1
1257  0142  73          	ld	(hl),e
1258  0143  7B          	ld	a,e
1259  0144  07          	rlca
1260  0145  07          	rlca
1261  0146  07          	rlca
1262  0147  07          	rlca
1263  0148  E6 0F       	and	a,0x0f
1264  014A  07          	rlca
1265  014B  07          	rlca
1266  014C  07          	rlca
1267  014D  07          	rlca
1268  014E  E6 F0       	and	a,0xf0
1269  0150  77          	ld	(hl), a
1270  0151  11 00 00    	ld	de,_scr_map
1271  0154  2A 00 00    	ld	hl,(_index1)
1272  0157  19          	add	hl,de
1273  0158  EB          	ex	de,hl
1274  0159  21 00 00    	ld	hl,_sprite
1275  015C  7E          	ld	a, (hl)
1276  015D  C6 80       	add	a,0x80
1277  015F  12          	ld	(de), a
1278  0160  6E          	ld	l,(hl)
1279  0161  26 00       	ld	h,0x00
1280  0163  29          	add	hl, hl
1281  0164  09          	add	hl, bc
1282  0165  AF          	xor	a, a
1283  0166  77          	ld	(hl), a
1284  0167  23          	inc	hl
1285  0168  77          	ld	(hl), a
1286  0169  CD 00 00    	call	_audio_respawn
1287  016C  2A 00 00    	ld	hl,(_sprite)
1288  016F  26 00       	ld	h,0x00
1289  0171  01 00 00    	ld	bc,_game_respawn_tile
1290  0174  09          	add	hl,bc
1291  0175  7E          	ld	a,(hl)
1292  0176  F5          	push	af
1293  0177  33          	inc	sp
1294  0178  21 03 04    	ld	hl,0x0403
1295  017B  E5          	push	hl
1296  017C  2A 00 00    	ld	hl,(_s_col1)
1297  017F  26 8A       	ld	h,0x8a
1298  0181  3A 00 00    	ld	a,(_s_lin1)
1299  0184  E5          	push	hl
1300  0185  F5          	push	af
1301  0186  33          	inc	sp
1302  0187  CD 00 00    	call	_spr_add_anim
1303  018A  F1          	pop	af
1304  018B  F1          	pop	af
1305  018C  F1          	pop	af
1306  018D  18 07       	jr	l_game_respawn_00108
1307  018F              l_game_respawn_00104:
1308  018F  21 00 00    	ld	hl,_sprite
1309  0192  34          	inc	(hl)
1310  0193  C3 FD 00    	jp	l_game_respawn_00105
1311  0196              l_game_respawn_00108:
1312  0196  C9          	ret
1313  0197              	SECTION code_compiler
1314  0197              ;	---------------------------------
1315  0197              ; Function game_draw_screen
1316  0197              ; ---------------------------------
1317  0197              _game_draw_screen:
1318  0197  CD 00 00    	call	___sdcc_enter_ix
1319  019A  3B          	dec	sp
1320  019B  76          	halt
1321  019C  21 00 00    	ld	hl,_game_boss
1322  019F  36 00       	ld	(hl),0x00
1323  01A1  21 00 00    	ld	hl,_game_boss_fix
1324  01A4  36 00       	ld	(hl),0x00
1325  01A6  2A 00 00    	ld	hl,(_curr_time)
1326  01A9  22 00 00    	ld	(_player_brick_time),hl
1327  01AC  21 00 00    	ld	hl,_spr_count
1328  01AF  36 00       	ld	(hl),0x00
1329  01B1  CD 00 00    	call	_spr_init_effects
1330  01B4  01 00 00    	ld	bc,_game_respawn_time+0
1331  01B7              l_game_draw_screen_00101:
1332  01B7  21 00 00    	ld	hl,_spr_count
1333  01BA  7E          	ld	a, (hl)
1334  01BB  D6 07       	sub	a,0x07
1335  01BD  30 46       	jr	NC,l_game_draw_screen_00103
1336  01BF  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1337  01C1  86          	add	a, (hl)
1338  01C2  5F          	ld	e, a
1339  01C3  3E 00       	ld	a, +((_game_respawn_index) / 256)
1340  01C5  CE 00       	adc	a,0x00
1341  01C7  57          	ld	d, a
1342  01C8  AF          	xor	a, a
1343  01C9  12          	ld	(de), a
1344  01CA  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1345  01CC  86          	add	a, (hl)
1346  01CD  5F          	ld	e, a
1347  01CE  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1348  01D0  CE 00       	adc	a,0x00
1349  01D2  57          	ld	d, a
1350  01D3  AF          	xor	a, a
1351  01D4  12          	ld	(de), a
1352  01D5  6E          	ld	l,(hl)
1353  01D6  26 00       	ld	h,0x00
1354  01D8  29          	add	hl, hl
1355  01D9  09          	add	hl, bc
1356  01DA  AF          	xor	a, a
1357  01DB  77          	ld	(hl), a
1358  01DC  23          	inc	hl
1359  01DD  77          	ld	(hl), a
1360  01DE  2A 00 00    	ld	hl,(_spr_count)
1361  01E1  26 00       	ld	h,0x00
1362  01E3  11 00 00    	ld	de,_mush_index
1363  01E6  19          	add	hl,de
1364  01E7  AF          	xor	a,a
1365  01E8  77          	ld	(hl),a
1366  01E9  2A 00 00    	ld	hl,(_spr_count)
1367  01EC  26 00       	ld	h,0x00
1368  01EE  11 00 00    	ld	de,_mush_class
1369  01F1  19          	add	hl,de
1370  01F2  AF          	xor	a,a
1371  01F3  77          	ld	(hl),a
1372  01F4  2A 00 00    	ld	hl,(_spr_count)
1373  01F7  26 00       	ld	h,0x00
1374  01F9  11 00 00    	ld	de,_class
1375  01FC  19          	add	hl,de
1376  01FD  AF          	xor	a,a
1377  01FE  77          	ld	(hl),a
1378  01FF  21 00 00    	ld	hl,_spr_count
1379  0202  34          	inc	(hl)
1380  0203  18 B2       	jr	l_game_draw_screen_00101
1381  0205              l_game_draw_screen_00103:
1382  0205  21 10 00    	ld	hl,0x0010
1383  0208  22 00 00    	ld	(_index1),hl
1384  020B  21 00 00    	ld	hl,_s_lin1
1385  020E  36 00       	ld	(hl),0x00
1386  0210  21 00 00    	ld	hl,_s_col1
1387  0213  36 02       	ld	(hl),0x02
1388  0215  21 00 00    	ld	hl,_spr_count
1389  0218  36 00       	ld	(hl),0x00
1390  021A  21 00 00    	ld	hl,_game_mush_count
1391  021D  36 00       	ld	(hl),0x00
1392  021F  F3          	di
1393  0220  DD 36 FF 00 	ld	(ix-1),0x00
1394  0224              l_game_draw_screen_00127:
1395  0224  21 00 00    	ld	hl,_index1
1396  0227  7E          	ld	a, (hl)
1397  0228  D6 A0       	sub	a,0xa0
1398  022A  23          	inc	hl
1399  022B  7E          	ld	a, (hl)
1400  022C  DE 00       	sbc	a,0x00
1401  022E  D2 40 03    	jp	NC, l_game_draw_screen_00129
1402  0231  2B          	dec	hl
1403  0232  7E          	ld	a, (hl)
1404  0233  E6 0F       	and	a,0x0f
1405  0235  20 0C       	jr	NZ,l_game_draw_screen_00105
1406  0237  21 00 00    	ld	hl,_s_lin1
1407  023A  7E          	ld	a, (hl)
1408  023B  C6 10       	add	a,0x10
1409  023D  77          	ld	(hl), a
1410  023E  21 00 00    	ld	hl,_s_col1
1411  0241  36 00       	ld	(hl),0x00
1412  0243              l_game_draw_screen_00105:
1413  0243  01 00 00    	ld	bc,_scr_map
1414  0246  2A 00 00    	ld	hl,(_index1)
1415  0249  09          	add	hl,bc
1416  024A  7E          	ld	a,(hl)
1417  024B  4D          	ld	c,l
1418  024C  47          	ld	b,a
1419  024D  D6 60       	sub	a,0x60
1420  024F  30 57       	jr	NC,l_game_draw_screen_00125
1421  0251  78          	ld	a, b
1422  0252  D6 5D       	sub	a,0x5d
1423  0254  20 04       	jr	NZ,l_game_draw_screen_00197
1424  0256  3E 01       	ld	a,0x01
1425  0258  18 01       	jr	l_game_draw_screen_00198
1426  025A              l_game_draw_screen_00197:
1427  025A  AF          	xor	a,a
1428  025B              l_game_draw_screen_00198:
1429  025B  4F          	ld	c,a
1430  025C  B7          	or	a, a
1431  025D  20 05       	jr	NZ,l_game_draw_screen_00111
1432  025F  78          	ld	a, b
1433  0260  D6 58       	sub	a,0x58
1434  0262  20 27       	jr	NZ,l_game_draw_screen_00112
1435  0264              l_game_draw_screen_00111:
1436  0264  2A 00 00    	ld	hl,(_index1)
1437  0267  11 F0 FF    	ld	de,0xfff0
1438  026A  19          	add	hl,de
1439  026B  EB          	ex	de,hl
1440  026C  21 01 00    	ld	hl,_index1 + 1
1441  026F  C5          	push	bc
1442  0270  EB          	ex	de,hl
1443  0271  CD 1B 10    	call	_game_obj_chk
1444  0274  C1          	pop	bc
1445  0275  7D          	ld	a,l
1446  0276  B7          	or	a, a
1447  0277  28 0C       	jr	Z,l_game_draw_screen_00109
1448  0279  01 00 00    	ld	bc,_scr_map
1449  027C  2A 00 00    	ld	hl,(_index1)
1450  027F  09          	add	hl,bc
1451  0280  06 4F       	ld	b,0x4f
1452  0282  70          	ld	(hl),b
1453  0283  18 06       	jr	l_game_draw_screen_00112
1454  0285              l_game_draw_screen_00109:
1455  0285  79          	ld	a, c
1456  0286  B7          	or	a, a
1457  0287  28 02       	jr	Z,l_game_draw_screen_00112
1458  0289  06 00       	ld	b,0x00
1459  028B              l_game_draw_screen_00112:
1460  028B  78          	ld	a, b
1461  028C  D6 23       	sub	a,0x23
1462  028E  20 07       	jr	NZ,l_game_draw_screen_00115
1463  0290  2A 00 00    	ld	hl,(_index1)
1464  0293  CD B4 11    	call	_game_match_back
1465  0296  45          	ld	b, l
1466  0297              l_game_draw_screen_00115:
1467  0297  3A 00 00    	ld	a,(_s_col1)
1468  029A  F5          	push	af
1469  029B  33          	inc	sp
1470  029C  3A 00 00    	ld	a,(_s_lin1)
1471  029F  48          	ld	c,b
1472  02A0  47          	ld	b,a
1473  02A1  C5          	push	bc
1474  02A2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1475  02A5  C3 2F 03    	jp	l_game_draw_screen_00126
1476  02A8              l_game_draw_screen_00125:
1477  02A8  3E 78       	ld	a,0x78
1478  02AA  90          	sub	a, b
1479  02AB  38 2F       	jr	C,l_game_draw_screen_00122
1480  02AD  3A 00 00    	ld	a,(_spr_count)
1481  02B0  D6 08       	sub	a,0x08
1482  02B2  30 54       	jr	NC,l_game_draw_screen_00123
1483  02B4  3A 00 00    	ld	a,(_game_boss_alive)
1484  02B7  B7          	or	a, a
1485  02B8  28 4E       	jr	Z,l_game_draw_screen_00123
1486  02BA  3A 00 00    	ld	a,(_spr_count)
1487  02BD  C6 00       	add	a,+((_game_respawn_index) & 0xFF)
1488  02BF  5F          	ld	e,a
1489  02C0  3E 00       	ld	a,+((_game_respawn_index) / 256)
1490  02C2  CE 00       	adc	a,0x00
1491  02C4  57          	ld	d,a
1492  02C5  3A 00 00    	ld	a,(_index1)
1493  02C8  12          	ld	(de), a
1494  02C9  3A 00 00    	ld	a,(_spr_count)
1495  02CC  C6 00       	add	a,+((_game_respawn_tile) & 0xFF)
1496  02CE  5F          	ld	e,a
1497  02CF  3E 00       	ld	a,+((_game_respawn_tile) / 256)
1498  02D1  CE 00       	adc	a,0x00
1499  02D3  57          	ld	d,a
1500  02D4  78          	ld	a, b
1501  02D5  12          	ld	(de), a
1502  02D6  68          	ld	l, b
1503  02D7  CD F1 04    	call	_game_add_enemy
1504  02DA  18 2C       	jr	l_game_draw_screen_00123
1505  02DC              l_game_draw_screen_00122:
1506  02DC  2A 00 00    	ld	hl,(_index1)
1507  02DF  C5          	push	bc
1508  02E0  CD 1B 10    	call	_game_obj_chk
1509  02E3  C1          	pop	bc
1510  02E4  7D          	ld	a,l
1511  02E5  B7          	or	a, a
1512  02E6  20 20       	jr	NZ,l_game_draw_screen_00123
1513  02E8  3E 00       	ld	a, +((_mush_index) & 0xFF)
1514  02EA  DD 86 FF    	add	a,(ix-1)
1515  02ED  5F          	ld	e, a
1516  02EE  3E 00       	ld	a, +((_mush_index) / 256)
1517  02F0  CE 00       	adc	a,0x00
1518  02F2  57          	ld	d, a
1519  02F3  3A 00 00    	ld	a,(_index1)
1520  02F6  C6 10       	add	a,0x10
1521  02F8  12          	ld	(de), a
1522  02F9  3E 00       	ld	a, +((_mush_class) & 0xFF)
1523  02FB  DD 86 FF    	add	a,(ix-1)
1524  02FE  6F          	ld	l, a
1525  02FF  3E 00       	ld	a, +((_mush_class) / 256)
1526  0301  CE 00       	adc	a,0x00
1527  0303  67          	ld	h, a
1528  0304  70          	ld	(hl), b
1529  0305  DD 34 FF    	inc	(ix-1)
1530  0308              l_game_draw_screen_00123:
1531  0308  2A 00 00    	ld	hl,(_index1)
1532  030B  01 00 00    	ld	bc,_scr_map
1533  030E  09          	add	hl,bc
1534  030F  E5          	push	hl
1535  0310  2A 00 00    	ld	hl,(_index1)
1536  0313  CD B4 11    	call	_game_match_back
1537  0316  C1          	pop	bc
1538  0317  7D          	ld	a,l
1539  0318  02          	ld	(bc), a
1540  0319  01 00 00    	ld	bc,_scr_map
1541  031C  2A 00 00    	ld	hl,(_index1)
1542  031F  09          	add	hl,bc
1543  0320  46          	ld	b, (hl)
1544  0321  3A 00 00    	ld	a,(_s_col1)
1545  0324  F5          	push	af
1546  0325  33          	inc	sp
1547  0326  3A 00 00    	ld	a,(_s_lin1)
1548  0329  48          	ld	c,b
1549  032A  47          	ld	b,a
1550  032B  C5          	push	bc
1551  032C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1552  032F              l_game_draw_screen_00126:
1553  032F  21 00 00    	ld	hl,_s_col1
1554  0332  34          	inc	(hl)
1555  0333  34          	inc	(hl)
1556  0334  21 00 00    	ld	hl,_index1
1557  0337  34          	inc	(hl)
1558  0338  C2 24 02    	jp	NZ,l_game_draw_screen_00127
1559  033B  23          	inc	hl
1560  033C  34          	inc	(hl)
1561  033D  C3 24 02    	jp	l_game_draw_screen_00127
1562  0340              l_game_draw_screen_00129:
1563  0340  FB          	ei
1564  0341  3A 00 00    	ld	a,(_game_boss_alive)
1565  0344  B7          	or	a, a
1566  0345  20 03       	jr	NZ,l_game_draw_screen_00131
1567  0347  CD 9C 10    	call	_game_boss_clear
1568  034A              l_game_draw_screen_00131:
1569  034A  CD 2F 07    	call	_game_update_stats
1570  034D  33          	inc	sp
1571  034E  DD E1       	pop	ix
1572  0350  C9          	ret
1573  0351              	SECTION code_compiler
1574  0351              ;	---------------------------------
1575  0351              ; Function game_boss_kill
1576  0351              ; ---------------------------------
1577  0351              _game_boss_kill:
1578  0351  21 00 00    	ld	hl,_game_boss
1579  0354  36 00       	ld	(hl),0x00
1580  0356  21 00 00    	ld	hl,_game_boss_alive
1581  0359  36 00       	ld	(hl),0x00
1582  035B  CD 00 00    	call	_audio_explosion
1583  035E  21 00 00    	ld	hl,_game_song_play_start
1584  0361  36 00       	ld	(hl),0x00
1585  0363  CD 00 00    	call	_ay_reset
1586  0366  3A 00 00    	ld	a,(_boss_col)
1587  0369  21 00 00    	ld	hl,0x0000
1588  036C  E5          	push	hl
1589  036D  21 87 03    	ld	hl,0x0387
1590  0370  E5          	push	hl
1591  0371  2A 00 00    	ld	hl,(_boss_lin)
1592  0374  67          	ld	h,a
1593  0375  E5          	push	hl
1594  0376  CD 00 00    	call	_spr_add_anim
1595  0379  F1          	pop	af
1596  037A  F1          	pop	af
1597  037B  F1          	pop	af
1598  037C  21 00 00    	ld	hl,_boss_col
1599  037F  46          	ld	b, (hl)
1600  0380  04          	inc	b
1601  0381  04          	inc	b
1602  0382  3A 00 00    	ld	a,(_boss_lin)
1603  0385  21 00 00    	ld	hl,0x0000
1604  0388  E5          	push	hl
1605  0389  21 87 03    	ld	hl,0x0387
1606  038C  E5          	push	hl
1607  038D  4F          	ld	c,a
1608  038E  C5          	push	bc
1609  038F  CD 00 00    	call	_spr_add_anim
1610  0392  F1          	pop	af
1611  0393  F1          	pop	af
1612  0394  F1          	pop	af
1613  0395  3A 00 00    	ld	a,(_boss_lin)
1614  0398  C6 10       	add	a,0x10
1615  039A  47          	ld	b, a
1616  039B  3A 00 00    	ld	a,(_boss_col)
1617  039E  21 00 00    	ld	hl,0x0000
1618  03A1  E5          	push	hl
1619  03A2  21 87 03    	ld	hl,0x0387
1620  03A5  E5          	push	hl
1621  03A6  48          	ld	c,b
1622  03A7  47          	ld	b,a
1623  03A8  C5          	push	bc
1624  03A9  CD 00 00    	call	_spr_add_anim
1625  03AC  F1          	pop	af
1626  03AD  F1          	pop	af
1627  03AE  F1          	pop	af
1628  03AF  21 00 00    	ld	hl,_boss_col
1629  03B2  56          	ld	d, (hl)
1630  03B3  14          	inc	d
1631  03B4  14          	inc	d
1632  03B5  3A 00 00    	ld	a,(_boss_lin)
1633  03B8  C6 10       	add	a,0x10
1634  03BA  47          	ld	b, a
1635  03BB  21 00 00    	ld	hl,0x0000
1636  03BE  E5          	push	hl
1637  03BF  21 87 03    	ld	hl,0x0387
1638  03C2  E5          	push	hl
1639  03C3  58          	ld	e,b
1640  03C4  D5          	push	de
1641  03C5  CD 00 00    	call	_spr_add_anim
1642  03C8  F1          	pop	af
1643  03C9  F1          	pop	af
1644  03CA  F1          	pop	af
1645  03CB  21 00 00    	ld	hl,_tmp0
1646  03CE  36 00       	ld	(hl),0x00
1647  03D0              l_game_boss_kill_00107:
1648  03D0  2A 00 00    	ld	hl,(_tmp0)
1649  03D3  26 00       	ld	h,0x00
1650  03D5  01 00 00    	ld	bc,_bullet_col
1651  03D8  09          	add	hl,bc
1652  03D9  7E          	ld	a,(hl)
1653  03DA  4F          	ld	c,a
1654  03DB  3C          	inc	a
1655  03DC  28 15       	jr	Z,l_game_boss_kill_00102
1656  03DE  3A 00 00    	ld	a,(_tmp0)
1657  03E1  5F          	ld	e,a
1658  03E2  16 00       	ld	d,0x00
1659  03E4  21 00 00    	ld	hl,_bullet_lin
1660  03E7  19          	add	hl,de
1661  03E8  7E          	ld	a,(hl)
1662  03E9  32 00 00    	ld	(_s_lin0),a
1663  03EC  21 00 00    	ld	hl,_s_col0
1664  03EF  71          	ld	(hl), c
1665  03F0  CD 00 00    	call	_spr_back_repaint
1666  03F3              l_game_boss_kill_00102:
1667  03F3  2A 00 00    	ld	hl,(_tmp0)
1668  03F6  26 00       	ld	h,0x00
1669  03F8  01 00 00    	ld	bc,_bullet_col
1670  03FB  09          	add	hl,bc
1671  03FC  36 FF       	ld	(hl),0xff
1672  03FE  2A 00 00    	ld	hl,(_tmp0)
1673  0401  CD 00 00    	call	_spr_destroy
1674  0404  2A 00 00    	ld	hl,(_tmp0)
1675  0407  26 00       	ld	h,0x00
1676  0409  29          	add	hl, hl
1677  040A  11 00 00    	ld	de,_game_respawn_time
1678  040D  19          	add	hl, de
1679  040E  AF          	xor	a, a
1680  040F  77          	ld	(hl), a
1681  0410  23          	inc	hl
1682  0411  77          	ld	(hl), a
1683  0412  21 00 00    	ld	hl,_tmp0
1684  0415  7E          	ld	a,(hl)
1685  0416  3C          	inc	a
1686  0417  77          	ld	(hl),a
1687  0418  D6 07       	sub	a,0x07
1688  041A  38 B4       	jr	C,l_game_boss_kill_00107
1689  041C  CD 9C 10    	call	_game_boss_clear
1690  041F  CD C2 05    	call	_game_print_footer
1691  0422  21 00 00    	ld	hl,_game_world
1692  0425  7E          	ld	a, (hl)
1693  0426  D6 03       	sub	a,0x03
1694  0428  20 05       	jr	NZ,l_game_boss_kill_00105
1695  042A  CD 33 04    	call	_game_end
1696  042D  18 03       	jr	l_game_boss_kill_00109
1697  042F              l_game_boss_kill_00105:
1698  042F  CD 00 00    	call	_audio_ingame
1699  0432              l_game_boss_kill_00109:
1700  0432  C9          	ret
1701  0433              	SECTION code_compiler
1702  0433              ;	---------------------------------
1703  0433              ; Function game_end
1704  0433              ; ---------------------------------
1705  0433              _game_end:
1706  0433  21 F4 01    	ld	hl,0x01f4
1707  0436  CD 00 00    	call	_z80_delay_ms_fastcall
1708  0439  21 00 00    	ld	hl,_scr_curr
1709  043C  36 00       	ld	(hl),0x00
1710  043E  CD 00 00    	call	_spr_page_map
1711  0441  CD 97 01    	call	_game_draw_screen
1712  0444  CD 00 00    	call	_audio_game_end
1713  0447  21 80 02    	ld	hl,0x0280
1714  044A  E5          	push	hl
1715  044B  3E 70       	ld	a,0x70
1716  044D  F5          	push	af
1717  044E  33          	inc	sp
1718  044F  CD 00 00    	call	_NIRVANAP_drawT_callee
1719  0452  21 DC 05    	ld	hl,0x05dc
1720  0455  CD 00 00    	call	_z80_delay_ms_fastcall
1721  0458  21 00 00    	ld	hl,___str_0
1722  045B  E5          	push	hl
1723  045C  21 08 08    	ld	hl,0x0808
1724  045F  E5          	push	hl
1725  0460  CD 00 00    	call	_zx_print_str
1726  0463  AF          	xor	a, a
1727  0464  F5          	push	af
1728  0465  33          	inc	sp
1729  0466  21 D0 07    	ld	hl,0x07d0
1730  0469  E5          	push	hl
1731  046A  21 08 18    	ld	hl,0x1808
1732  046D  E5          	push	hl
1733  046E  3E 08       	ld	a,0x08
1734  0470  F5          	push	af
1735  0471  33          	inc	sp
1736  0472  CD 13 0B    	call	_game_colour_message
1737  0475  F1          	pop	af
1738  0476  F1          	pop	af
1739  0477  21 11 00    	ld	hl,___str_1
1740  047A  E3          	ex	(sp),hl
1741  047B  21 08 07    	ld	hl,0x0708
1742  047E  E5          	push	hl
1743  047F  CD 00 00    	call	_zx_print_str
1744  0482  AF          	xor	a, a
1745  0483  F5          	push	af
1746  0484  33          	inc	sp
1747  0485  21 D0 07    	ld	hl,0x07d0
1748  0488  E5          	push	hl
1749  0489  21 07 18    	ld	hl,0x1807
1750  048C  E5          	push	hl
1751  048D  3E 08       	ld	a,0x08
1752  048F  F5          	push	af
1753  0490  33          	inc	sp
1754  0491  CD 13 0B    	call	_game_colour_message
1755  0494  F1          	pop	af
1756  0495  F1          	pop	af
1757  0496  21 23 00    	ld	hl,___str_2
1758  0499  E3          	ex	(sp),hl
1759  049A  21 08 05    	ld	hl,0x0508
1760  049D  E5          	push	hl
1761  049E  CD 00 00    	call	_zx_print_str
1762  04A1  AF          	xor	a, a
1763  04A2  F5          	push	af
1764  04A3  33          	inc	sp
1765  04A4  21 D0 07    	ld	hl,0x07d0
1766  04A7  E5          	push	hl
1767  04A8  21 05 1B    	ld	hl,0x1b05
1768  04AB  E5          	push	hl
1769  04AC  3E 08       	ld	a,0x08
1770  04AE  F5          	push	af
1771  04AF  33          	inc	sp
1772  04B0  CD 13 0B    	call	_game_colour_message
1773  04B3  F1          	pop	af
1774  04B4  F1          	pop	af
1775  04B5  21 3A 00    	ld	hl,___str_3
1776  04B8  E3          	ex	(sp),hl
1777  04B9  21 08 03    	ld	hl,0x0308
1778  04BC  E5          	push	hl
1779  04BD  CD 00 00    	call	_zx_print_str
1780  04C0  AF          	xor	a, a
1781  04C1  F5          	push	af
1782  04C2  33          	inc	sp
1783  04C3  21 D0 07    	ld	hl,0x07d0
1784  04C6  E5          	push	hl
1785  04C7  21 03 1C    	ld	hl,0x1c03
1786  04CA  E5          	push	hl
1787  04CB  3E 08       	ld	a,0x08
1788  04CD  F5          	push	af
1789  04CE  33          	inc	sp
1790  04CF  CD 13 0B    	call	_game_colour_message
1791  04D2  F1          	pop	af
1792  04D3  F1          	pop	af
1793  04D4  F1          	pop	af
1794  04D5  21 E8 03    	ld	hl,0x03e8
1795  04D8  CD 00 00    	call	_z80_delay_ms_fastcall
1796  04DB  CD 00 00    	call	_in_wait_key
1797  04DE  CD 00 00    	call	_ay_reset
1798  04E1  21 00 00    	ld	hl,_game_world
1799  04E4  36 FF       	ld	(hl),0xff
1800  04E6  21 00 00    	ld	hl,_scr_curr
1801  04E9  36 FF       	ld	(hl),0xff
1802  04EB  21 00 00    	ld	hl,_game_round_up
1803  04EE  36 01       	ld	(hl),0x01
1804  04F0  C9          	ret
1805  04F1              	SECTION rodata_compiler
1806  0000              ___str_0:
1807  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1808  0010  00          	DEFB 0x00
1809  0011              	SECTION rodata_compiler
1810  0011              ___str_1:
1811  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1812  0022  00          	DEFB 0x00
1813  0023              	SECTION rodata_compiler
1814  0023              ___str_2:
1815  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1816  0039  00          	DEFB 0x00
1817  003A              	SECTION rodata_compiler
1818  003A              ___str_3:
1819  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1820  0053  00          	DEFB 0x00
1821  0054              	SECTION code_compiler
1822  04F1              ;	---------------------------------
1823  04F1              ; Function game_add_enemy
1824  04F1              ; ---------------------------------
1825  04F1              _game_add_enemy:
1826  04F1  7D          	ld	a,l
1827  04F2  D6 78       	sub	a,0x78
1828  04F4  28 57       	jr	Z,l_game_add_enemy_00119
1829  04F6  4D          	ld	c,l
1830  04F7  21 00 00    	ld	hl,_tmp0
1831  04FA  36 00       	ld	(hl),0x00
1832  04FC              l_game_add_enemy_00104:
1833  04FC  3E 17       	ld	a,0x17
1834  04FE  21 00 00    	ld	hl,_tmp0
1835  0501  96          	sub	a, (hl)
1836  0502  DA C1 05    	jp	C, l_game_add_enemy_00121
1837  0505  7E          	ld	a, (hl)
1838  0506  5F          	ld	e, a
1839  0507  87          	add	a, a
1840  0508  83          	add	a, e
1841  0509  21 00 00    	ld	hl,_tmp1
1842  050C  77          	ld	(hl), a
1843  050D  C6 00       	add	a,+((_spr_init) & 0xFF)
1844  050F  5F          	ld	e, a
1845  0510  3E 00       	ld	a, +((_spr_init) / 256)
1846  0512  CE 00       	adc	a,0x00
1847  0514  57          	ld	d, a
1848  0515  1A          	ld	a, (de)
1849  0516  91          	sub	a, c
1850  0517  20 2E       	jr	NZ,l_game_add_enemy_00102
1851  0519  6E          	ld	l,(hl)
1852  051A  26 00       	ld	h,0x00
1853  051C  5D          	ld	e,l
1854  051D  54          	ld	d,h
1855  051E  23          	inc	hl
1856  051F  23          	inc	hl
1857  0520  3E 00       	ld	a, +((_spr_init) & 0xFF)
1858  0522  85          	add	a, l
1859  0523  6F          	ld	l, a
1860  0524  3E 00       	ld	a, +((_spr_init) / 256)
1861  0526  8C          	adc	a, h
1862  0527  67          	ld	h, a
1863  0528  46          	ld	b, (hl)
1864  0529  13          	inc	de
1865  052A  21 00 00    	ld	hl,_spr_init
1866  052D  19          	add	hl, de
1867  052E  56          	ld	d, (hl)
1868  052F  C5          	push	bc
1869  0530  4A          	ld	c, d
1870  0531  3A 00 00    	ld	a,(_s_col1)
1871  0534  2A 00 00    	ld	hl,(_s_lin1)
1872  0537  C5          	push	bc
1873  0538  67          	ld	h,a
1874  0539  E5          	push	hl
1875  053A  CD 00 00    	call	_enemy_init
1876  053D  F1          	pop	af
1877  053E  F1          	pop	af
1878  053F  C1          	pop	bc
1879  0540  21 00 00    	ld	hl,_tmp0
1880  0543  36 FF       	ld	(hl),0xff
1881  0545  18 B5       	jr	l_game_add_enemy_00104
1882  0547              l_game_add_enemy_00102:
1883  0547  21 00 00    	ld	hl,_tmp0
1884  054A  34          	inc	(hl)
1885  054B  18 AF       	jr	l_game_add_enemy_00104
1886  054D              l_game_add_enemy_00119:
1887  054D  3A 00 00    	ld	a,(_game_boss)
1888  0550  B7          	or	a, a
1889  0551  20 64       	jr	NZ,l_game_add_enemy_00115
1890  0553  3A 00 00    	ld	a,(_game_boss_alive)
1891  0556  B7          	or	a, a
1892  0557  28 5E       	jr	Z,l_game_add_enemy_00115
1893  0559  3A 00 00    	ld	a,(_s_lin1)
1894  055C  32 00 00    	ld	(_boss_lin),a
1895  055F  3A 00 00    	ld	a,(_s_col1)
1896  0562  32 00 00    	ld	(_boss_col),a
1897  0565  3A 00 00    	ld	a,(_game_world)
1898  0568  B7          	or	a, a
1899  0569  28 10       	jr	Z,l_game_add_enemy_00107
1900  056B  3D          	dec	a
1901  056C  28 14       	jr	Z,l_game_add_enemy_00108
1902  056E  3A 00 00    	ld	a,(_game_world)
1903  0571  FE 02       	cp	a,0x02
1904  0573  28 14       	jr	Z,l_game_add_enemy_00109
1905  0575  D6 03       	sub	a,0x03
1906  0577  28 17       	jr	Z,l_game_add_enemy_00110
1907  0579  18 1A       	jr	l_game_add_enemy_00111
1908  057B              l_game_add_enemy_00107:
1909  057B  21 00 00    	ld	hl,_boss_tile
1910  057E  36 C8       	ld	(hl),0xc8
1911  0580  18 13       	jr	l_game_add_enemy_00111
1912  0582              l_game_add_enemy_00108:
1913  0582  21 00 00    	ld	hl,_boss_tile
1914  0585  36 D8       	ld	(hl),0xd8
1915  0587  18 0C       	jr	l_game_add_enemy_00111
1916  0589              l_game_add_enemy_00109:
1917  0589  21 00 00    	ld	hl,_boss_tile
1918  058C  36 DC       	ld	(hl),0xdc
1919  058E  18 05       	jr	l_game_add_enemy_00111
1920  0590              l_game_add_enemy_00110:
1921  0590  21 00 00    	ld	hl,_boss_tile
1922  0593  36 E0       	ld	(hl),0xe0
1923  0595              l_game_add_enemy_00111:
1924  0595  21 00 00    	ld	hl,_boss_stat
1925  0598  36 00       	ld	(hl),0x00
1926  059A  21 00 00    	ld	hl,_boss_stat
1927  059D  CD 00 00    	call	_spr_set_up
1928  05A0  21 00 00    	ld	hl,_game_boss
1929  05A3  36 01       	ld	(hl),0x01
1930  05A5  21 00 00    	ld	hl,_game_boss_hit
1931  05A8  36 06       	ld	(hl),0x06
1932  05AA  21 00 00    	ld	hl,_game_song_play_start
1933  05AD  36 00       	ld	(hl),0x00
1934  05AF  CD 00 00    	call	_ay_reset
1935  05B2  CD 00 00    	call	_audio_ingame
1936  05B5  18 0A       	jr	l_game_add_enemy_00121
1937  05B7              l_game_add_enemy_00115:
1938  05B7  3A 00 00    	ld	a,(_game_boss)
1939  05BA  B7          	or	a, a
1940  05BB  C0          	ret	NZ
1941  05BC  21 00 00    	ld	hl,_game_boss_fix
1942  05BF  36 01       	ld	(hl),0x01
1943  05C1              l_game_add_enemy_00121:
1944  05C1  C9          	ret
1945  05C2              	SECTION code_compiler
1946  05C2              ;	---------------------------------
1947  05C2              ; Function game_print_footer
1948  05C2              ; ---------------------------------
1949  05C2              _game_print_footer:
1950  05C2  21 00 00    	ld	hl,_screen_paper
1951  05C5  36 70       	ld	(hl),0x70
1952  05C7  21 00 00    	ld	hl,_screen_ink
1953  05CA  36 00       	ld	(hl),0x00
1954  05CC  21 13 62    	ld	hl,0x6213
1955  05CF  E5          	push	hl
1956  05D0  CD 00 00    	call	_game_fill_row
1957  05D3  21 54 00    	ld	hl,___str_4
1958  05D6  E5          	push	hl
1959  05D7  21 13 00    	ld	hl,0x0013
1960  05DA  E5          	push	hl
1961  05DB  CD 00 00    	call	_zx_print_str
1962  05DE  21 56 00    	ld	hl,___str_5
1963  05E1  E5          	push	hl
1964  05E2  21 13 1F    	ld	hl,0x1f13
1965  05E5  E5          	push	hl
1966  05E6  CD 00 00    	call	_zx_print_str
1967  05E9  21 00 00    	ld	hl,_screen_paper
1968  05EC  36 30       	ld	(hl),0x30
1969  05EE  21 14 20    	ld	hl,0x2014
1970  05F1  E5          	push	hl
1971  05F2  CD 00 00    	call	_game_fill_row
1972  05F5  21 15 20    	ld	hl,0x2015
1973  05F8  E5          	push	hl
1974  05F9  CD 00 00    	call	_game_fill_row
1975  05FC  21 16 20    	ld	hl,0x2016
1976  05FF  E5          	push	hl
1977  0600  CD 00 00    	call	_game_fill_row
1978  0603  21 17 68    	ld	hl,0x6817
1979  0606  E5          	push	hl
1980  0607  CD 00 00    	call	_game_fill_row
1981  060A  21 58 00    	ld	hl,___str_6
1982  060D  E5          	push	hl
1983  060E  21 14 00    	ld	hl,0x0014
1984  0611  E5          	push	hl
1985  0612  CD 00 00    	call	_zx_print_str
1986  0615  21 5A 00    	ld	hl,___str_7
1987  0618  E5          	push	hl
1988  0619  21 14 1F    	ld	hl,0x1f14
1989  061C  E5          	push	hl
1990  061D  CD 00 00    	call	_zx_print_str
1991  0620  21 58 00    	ld	hl,___str_6
1992  0623  E5          	push	hl
1993  0624  21 15 00    	ld	hl,0x0015
1994  0627  E5          	push	hl
1995  0628  CD 00 00    	call	_zx_print_str
1996  062B  21 5A 00    	ld	hl,___str_7
1997  062E  E5          	push	hl
1998  062F  21 15 1F    	ld	hl,0x1f15
1999  0632  E5          	push	hl
2000  0633  CD 00 00    	call	_zx_print_str
2001  0636  21 58 00    	ld	hl,___str_6
2002  0639  E5          	push	hl
2003  063A  21 16 00    	ld	hl,0x0016
2004  063D  E5          	push	hl
2005  063E  CD 00 00    	call	_zx_print_str
2006  0641  21 5A 00    	ld	hl,___str_7
2007  0644  E5          	push	hl
2008  0645  21 16 1F    	ld	hl,0x1f16
2009  0648  E5          	push	hl
2010  0649  CD 00 00    	call	_zx_print_str
2011  064C  21 5C 00    	ld	hl,___str_8
2012  064F  E5          	push	hl
2013  0650  21 17 00    	ld	hl,0x0017
2014  0653  E5          	push	hl
2015  0654  CD 00 00    	call	_zx_print_str
2016  0657  21 5E 00    	ld	hl,___str_9
2017  065A  E5          	push	hl
2018  065B  21 17 1F    	ld	hl,0x1f17
2019  065E  E5          	push	hl
2020  065F  CD 00 00    	call	_zx_print_str
2021  0662  21 60 00    	ld	hl,___str_10
2022  0665  E5          	push	hl
2023  0666  21 14 01    	ld	hl,0x0114
2024  0669  E5          	push	hl
2025  066A  CD 00 00    	call	_zx_print_str
2026  066D  21 00 00    	ld	hl,_screen_ink
2027  0670  36 02       	ld	(hl),0x02
2028  0672  21 68 00    	ld	hl,___str_11
2029  0675  E5          	push	hl
2030  0676  21 16 08    	ld	hl,0x0816
2031  0679  E5          	push	hl
2032  067A  CD 00 00    	call	_zx_print_str
2033  067D  21 6A 00    	ld	hl,___str_12
2034  0680  E5          	push	hl
2035  0681  21 16 0E    	ld	hl,0x0e16
2036  0684  E5          	push	hl
2037  0685  CD 00 00    	call	_zx_print_str
2038  0688  21 6C 00    	ld	hl,___str_13
2039  068B  E5          	push	hl
2040  068C  21 16 14    	ld	hl,0x1416
2041  068F  E5          	push	hl
2042  0690  CD 00 00    	call	_zx_print_str
2043  0693  21 6E 00    	ld	hl,___str_14
2044  0696  E5          	push	hl
2045  0697  21 16 1A    	ld	hl,0x1a16
2046  069A  E5          	push	hl
2047  069B  CD 00 00    	call	_zx_print_str
2048  069E  21 70 00    	ld	hl,___str_15
2049  06A1  E5          	push	hl
2050  06A2  21 14 09    	ld	hl,0x0914
2051  06A5  E5          	push	hl
2052  06A6  CD 00 00    	call	_zx_print_str
2053  06A9  21 00 00    	ld	hl,_screen_ink
2054  06AC  36 03       	ld	(hl),0x03
2055  06AE  21 75 00    	ld	hl,___str_16
2056  06B1  E5          	push	hl
2057  06B2  21 14 16    	ld	hl,0x1614
2058  06B5  E5          	push	hl
2059  06B6  CD 00 00    	call	_zx_print_str
2060  06B9  21 79 00    	ld	hl,___str_17
2061  06BC  E5          	push	hl
2062  06BD  21 15 17    	ld	hl,0x1715
2063  06C0  E5          	push	hl
2064  06C1  CD 00 00    	call	_zx_print_str
2065  06C4  21 00 00    	ld	hl,_screen_ink
2066  06C7  36 01       	ld	(hl),0x01
2067  06C9  21 80 00    	ld	hl,___str_18
2068  06CC  E5          	push	hl
2069  06CD  21 14 10    	ld	hl,0x1014
2070  06D0  E5          	push	hl
2071  06D1  CD 00 00    	call	_zx_print_str
2072  06D4  3A 00 00    	ld	a,(_game_debug)
2073  06D7  B7          	or	a, a
2074  06D8  28 0B       	jr	Z,l_game_print_footer_00102
2075  06DA  21 85 00    	ld	hl,___str_19
2076  06DD  E5          	push	hl
2077  06DE  21 17 14    	ld	hl,0x1417
2078  06E1  E5          	push	hl
2079  06E2  CD 00 00    	call	_zx_print_str
2080  06E5              l_game_print_footer_00102:
2081  06E5  21 8A 00    	ld	hl,___str_20
2082  06E8  E5          	push	hl
2083  06E9  21 16 02    	ld	hl,0x0216
2084  06EC  E5          	push	hl
2085  06ED  CD 00 00    	call	_zx_print_str
2086  06F0  CD 2F 07    	call	_game_update_stats
2087  06F3  C9          	ret
2088  06F4              	SECTION rodata_compiler
2089  0054              ___str_4:
2090  0054  61          	DEFM "a"
2091  0055  00          	DEFB 0x00
2092  0056              	SECTION rodata_compiler
2093  0056              ___str_5:
2094  0056  63          	DEFM "c"
2095  0057  00          	DEFB 0x00
2096  0058              	SECTION rodata_compiler
2097  0058              ___str_6:
2098  0058  64          	DEFM "d"
2099  0059  00          	DEFB 0x00
2100  005A              	SECTION rodata_compiler
2101  005A              ___str_7:
2102  005A  65          	DEFM "e"
2103  005B  00          	DEFB 0x00
2104  005C              	SECTION rodata_compiler
2105  005C              ___str_8:
2106  005C  66          	DEFM "f"
2107  005D  00          	DEFB 0x00
2108  005E              	SECTION rodata_compiler
2109  005E              ___str_9:
2110  005E  67          	DEFM "g"
2111  005F  00          	DEFB 0x00
2112  0060              	SECTION rodata_compiler
2113  0060              ___str_10:
2114  0060  47 41 4E 44 41 4C 46 
                        	DEFM "GANDALF"
2115  0067  00          	DEFB 0x00
2116  0068              	SECTION rodata_compiler
2117  0068              ___str_11:
2118  0068  6C          	DEFM "l"
2119  0069  00          	DEFB 0x00
2120  006A              	SECTION rodata_compiler
2121  006A              ___str_12:
2122  006A  6D          	DEFM "m"
2123  006B  00          	DEFB 0x00
2124  006C              	SECTION rodata_compiler
2125  006C              ___str_13:
2126  006C  6E          	DEFM "n"
2127  006D  00          	DEFB 0x00
2128  006E              	SECTION rodata_compiler
2129  006E              ___str_14:
2130  006E  6F          	DEFM "o"
2131  006F  00          	DEFB 0x00
2132  0070              	SECTION rodata_compiler
2133  0070              ___str_15:
2134  0070  56 49 54 41 	DEFM "VITA"
2135  0074  00          	DEFB 0x00
2136  0075              	SECTION rodata_compiler
2137  0075              ___str_16:
2138  0075  45 58 50    	DEFM "EXP"
2139  0078  00          	DEFB 0x00
2140  0079              	SECTION rodata_compiler
2141  0079              ___str_17:
2142  0079  30 30 30 30 30 30 
                        	DEFM "000000"
2143  007F  00          	DEFB 0x00
2144  0080              	SECTION rodata_compiler
2145  0080              ___str_18:
2146  0080  4D 41 4E 41 	DEFM "MANA"
2147  0084  00          	DEFB 0x00
2148  0085              	SECTION rodata_compiler
2149  0085              ___str_19:
2150  0085  4C 50 53 3A 	DEFM "LPS:"
2151  0089  00          	DEFB 0x00
2152  008A              	SECTION rodata_compiler
2153  008A              ___str_20:
2154  008A  20 20 20 20 	DEFM "    "
2155  008E  00          	DEFB 0x00
2156  008F              	SECTION code_compiler
2157  06F4              ;	---------------------------------
2158  06F4              ; Function game_print_score
2159  06F4              ; ---------------------------------
2160  06F4              _game_print_score:
2161  06F4  21 00 00    	ld	hl,_screen_paper
2162  06F7  36 30       	ld	(hl),0x30
2163  06F9  21 00 00    	ld	hl,_screen_ink
2164  06FC  36 03       	ld	(hl),0x03
2165  06FE  2A 00 00    	ld	hl,(_player_score)
2166  0701  E5          	push	hl
2167  0702  21 15 17    	ld	hl,0x1715
2168  0705  E5          	push	hl
2169  0706  CD 00 00    	call	_zx_print_int
2170  0709  21 00 00    	ld	hl,_screen_paper
2171  070C  36 00       	ld	(hl),0x00
2172  070E  21 00 00    	ld	hl,_screen_ink
2173  0711  36 07       	ld	(hl),0x07
2174  0713  2A 00 00    	ld	hl,(_game_score_top)
2175  0716  E5          	push	hl
2176  0717  21 00 0E    	ld	hl,0x0e00
2177  071A  E5          	push	hl
2178  071B  CD 00 00    	call	_zx_print_int
2179  071E  C9          	ret
2180  071F              	SECTION code_compiler
2181  071F              ;	---------------------------------
2182  071F              ; Function game_cls
2183  071F              ; ---------------------------------
2184  071F              _game_cls:
2185  071F  CD 00 00    	call	_NIRVANAP_stop
2186  0722  2E 00       	ld	l,0x00
2187  0724  CD 00 00    	call	_zx_cls_fastcall
2188  0727  21 00 00    	ld	hl,_screen_ink
2189  072A  36 07       	ld	(hl),0x07
2190  072C  C3 00 00    	jp  _NIRVANAP_start
2191  072F              	SECTION code_compiler
2192  072F              ;	---------------------------------
2193  072F              ; Function game_update_stats
2194  072F              ; ---------------------------------
2195  072F              _game_update_stats:
2196  072F  21 00 00    	ld	hl,_screen_paper
2197  0732  36 30       	ld	(hl),0x30
2198  0734  21 00 00    	ld	hl,_screen_ink
2199  0737  36 00       	ld	(hl),0x00
2200  0739  3A 00 00    	ld	a,(_player_lives)
2201  073C  F5          	push	af
2202  073D  33          	inc	sp
2203  073E  21 15 03    	ld	hl,0x0315
2204  0741  E5          	push	hl
2205  0742  CD 00 00    	call	_zx_print_chr
2206  0745  3A 00 00    	ld	a,(_player_coins)
2207  0748  F5          	push	af
2208  0749  33          	inc	sp
2209  074A  21 16 09    	ld	hl,0x0916
2210  074D  E5          	push	hl
2211  074E  CD 00 00    	call	_zx_print_chr
2212  0751  3A 00 00    	ld	a,(_player_str)
2213  0754  F5          	push	af
2214  0755  33          	inc	sp
2215  0756  21 16 0F    	ld	hl,0x0f16
2216  0759  E5          	push	hl
2217  075A  CD 00 00    	call	_zx_print_chr
2218  075D  3A 00 00    	ld	a,(_player_int)
2219  0760  F5          	push	af
2220  0761  33          	inc	sp
2221  0762  21 16 15    	ld	hl,0x1516
2222  0765  E5          	push	hl
2223  0766  CD 00 00    	call	_zx_print_chr
2224  0769  3A 00 00    	ld	a,(_player_lvl)
2225  076C  F5          	push	af
2226  076D  33          	inc	sp
2227  076E  21 16 1B    	ld	hl,0x1b16
2228  0771  E5          	push	hl
2229  0772  CD 00 00    	call	_zx_print_chr
2230  0775  21 00 00    	ld	hl,_screen_ink
2231  0778  36 02       	ld	(hl),0x02
2232  077A  3A 00 00    	ld	a,(_player_vita)
2233  077D  F5          	push	af
2234  077E  33          	inc	sp
2235  077F  21 15 0A    	ld	hl,0x0a15
2236  0782  E5          	push	hl
2237  0783  CD 00 00    	call	_zx_print_chr
2238  0786  21 00 00    	ld	hl,_screen_ink
2239  0789  36 01       	ld	(hl),0x01
2240  078B  3A 00 00    	ld	a,(_player_mana)
2241  078E  F5          	push	af
2242  078F  33          	inc	sp
2243  0790  21 15 11    	ld	hl,0x1115
2244  0793  E5          	push	hl
2245  0794  CD 00 00    	call	_zx_print_chr
2246  0797  3A 00 00    	ld	a,(_game_boss)
2247  079A  B7          	or	a, a
2248  079B  28 38       	jr	Z,l_game_update_stats_00106
2249  079D  21 00 00    	ld	hl,_screen_ink
2250  07A0  36 03       	ld	(hl),0x03
2251  07A2  21 00 00    	ld	hl,_tmp0
2252  07A5  36 00       	ld	(hl),0x00
2253  07A7              l_game_update_stats_00115:
2254  07A7  21 00 00    	ld	hl,_tmp0
2255  07AA  7E          	ld	a, (hl)
2256  07AB  C6 0D       	add	a,0x0d
2257  07AD  47          	ld	b, a
2258  07AE  7E          	ld	a, (hl)
2259  07AF  21 00 00    	ld	hl,_game_boss_hit
2260  07B2  96          	sub	a, (hl)
2261  07B3  30 0C       	jr	NC,l_game_update_stats_00102
2262  07B5  21 8F 00    	ld	hl,___str_21
2263  07B8  E5          	push	hl
2264  07B9  0E 13       	ld	c,0x13
2265  07BB  C5          	push	bc
2266  07BC  CD 00 00    	call	_zx_print_str
2267  07BF  18 0A       	jr	l_game_update_stats_00116
2268  07C1              l_game_update_stats_00102:
2269  07C1  21 91 00    	ld	hl,___str_22
2270  07C4  E5          	push	hl
2271  07C5  0E 13       	ld	c,0x13
2272  07C7  C5          	push	bc
2273  07C8  CD 00 00    	call	_zx_print_str
2274  07CB              l_game_update_stats_00116:
2275  07CB  21 00 00    	ld	hl,_tmp0
2276  07CE  7E          	ld	a,(hl)
2277  07CF  3C          	inc	a
2278  07D0  77          	ld	(hl),a
2279  07D1  D6 06       	sub	a,0x06
2280  07D3  38 D2       	jr	C,l_game_update_stats_00115
2281  07D5              l_game_update_stats_00106:
2282  07D5  3A 00 00    	ld	a,(_player_keys)
2283  07D8  B7          	or	a, a
2284  07D9  28 10       	jr	Z,l_game_update_stats_00108
2285  07DB  21 00 00    	ld	hl,_screen_ink
2286  07DE  36 07       	ld	(hl),0x07
2287  07E0  21 93 00    	ld	hl,___str_23
2288  07E3  E5          	push	hl
2289  07E4  21 16 02    	ld	hl,0x0216
2290  07E7  E5          	push	hl
2291  07E8  CD 00 00    	call	_zx_print_str
2292  07EB              l_game_update_stats_00108:
2293  07EB  3A 01 00    	ld	a, (_player_keys + 1)
2294  07EE  B7          	or	a, a
2295  07EF  28 10       	jr	Z,l_game_update_stats_00110
2296  07F1  21 00 00    	ld	hl,_screen_ink
2297  07F4  36 02       	ld	(hl),0x02
2298  07F6  21 93 00    	ld	hl,___str_23
2299  07F9  E5          	push	hl
2300  07FA  21 16 03    	ld	hl,0x0316
2301  07FD  E5          	push	hl
2302  07FE  CD 00 00    	call	_zx_print_str
2303  0801              l_game_update_stats_00110:
2304  0801  3A 02 00    	ld	a, (_player_keys + 2)
2305  0804  B7          	or	a, a
2306  0805  28 10       	jr	Z,l_game_update_stats_00112
2307  0807  21 00 00    	ld	hl,_screen_ink
2308  080A  36 04       	ld	(hl),0x04
2309  080C  21 93 00    	ld	hl,___str_23
2310  080F  E5          	push	hl
2311  0810  21 16 04    	ld	hl,0x0416
2312  0813  E5          	push	hl
2313  0814  CD 00 00    	call	_zx_print_str
2314  0817              l_game_update_stats_00112:
2315  0817  3A 03 00    	ld	a, (_player_keys + 3)
2316  081A  B7          	or	a, a
2317  081B  C8          	ret	Z
2318  081C  21 00 00    	ld	hl,_screen_ink
2319  081F  36 05       	ld	(hl),0x05
2320  0821  21 93 00    	ld	hl,___str_23
2321  0824  E5          	push	hl
2322  0825  21 16 05    	ld	hl,0x0516
2323  0828  E5          	push	hl
2324  0829  CD 00 00    	call	_zx_print_str
2325  082C  C9          	ret
2326  082D              	SECTION rodata_compiler
2327  008F              ___str_21:
2328  008F  2A          	DEFM "*"
2329  0090  00          	DEFB 0x00
2330  0091              	SECTION rodata_compiler
2331  0091              ___str_22:
2332  0091  20          	DEFM " "
2333  0092  00          	DEFB 0x00
2334  0093              	SECTION rodata_compiler
2335  0093              ___str_23:
2336  0093  5D          	DEFM "]"
2337  0094  00          	DEFB 0x00
2338  0095              	SECTION code_compiler
2339  082D              ;	---------------------------------
2340  082D              ; Function game_tick
2341  082D              ; ---------------------------------
2342  082D              _game_tick:
2343  082D  21 00 00    	ld	hl,_curr_time
2344  0830  34          	inc	(hl)
2345  0831  C2 00 00    	jp	NZ,_zx_isr
2346  0834  23          	inc	hl
2347  0835  34          	inc	(hl)
2348  0836  C3 00 00    	jp  _zx_isr
2349  0839              	SECTION code_compiler
2350  0839              ;	---------------------------------
2351  0839              ; Function game_start_timer
2352  0839              ; ---------------------------------
2353  0839              _game_start_timer:
2354  0839  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2355  083C  36 CD       	ld	(hl),0xcd
2356  083E  23          	inc	hl
2357  083F  11 2D 08    	ld	de,_game_tick
2358  0842  73          	ld	(hl), e
2359  0843  23          	inc	hl
2360  0844  72          	ld	(hl), d
2361  0845  C9          	ret
2362  0846              	SECTION code_compiler
2363  0846              ;	---------------------------------
2364  0846              ; Function game_set_checkpoint
2365  0846              ; ---------------------------------
2366  0846              _game_set_checkpoint:
2367  0846  3A 00 00    	ld	a,(_player_col_scr)
2368  0849  CB 3F       	srl	a
2369  084B  87          	add	a, a
2370  084C  32 00 00    	ld	(_game_checkpoint_col),a
2371  084F  3A 00 00    	ld	a,(_player_lin_scr)
2372  0852  07          	rlca
2373  0853  07          	rlca
2374  0854  07          	rlca
2375  0855  07          	rlca
2376  0856  E6 0F       	and	a,0x0f
2377  0858  07          	rlca
2378  0859  07          	rlca
2379  085A  07          	rlca
2380  085B  07          	rlca
2381  085C  E6 F0       	and	a,0xf0
2382  085E  32 00 00    	ld	(_game_checkpoint_lin),a
2383  0861  3A 00 00    	ld	a,(_scr_curr)
2384  0864  32 00 00    	ld	(_game_checkpoint_scr),a
2385  0867  C9          	ret
2386  0868              	SECTION code_compiler
2387  0868              ;	---------------------------------
2388  0868              ; Function game_round_init
2389  0868              ; ---------------------------------
2390  0868              _game_round_init:
2391  0868  21 00 00    	ld	hl,0x0000
2392  086B  22 00 00    	ld	(_loop_count),hl
2393  086E  21 00 00    	ld	hl,0
2394  0871  22 00 00    	ld	(_curr_time),hl
2395  0874  21 00 00    	ld	hl,0x0000
2396  0877  22 00 00    	ld	(_frame_time),hl
2397  087A  CD 00 00    	call	_spr_init_effects
2398  087D  CD 47 09    	call	_game_print_header
2399  0880  CD C2 05    	call	_game_print_footer
2400  0883  CD 00 00    	call	_spr_page_map
2401  0886  CD 00 00    	call	_ay_reset
2402  0889  CD 00 00    	call	_audio_level_start
2403  088C  CD 97 01    	call	_game_draw_screen
2404  088F  CD 46 08    	call	_game_set_checkpoint
2405  0892  21 00 00    	ld	hl,_game_song_play_start
2406  0895  36 00       	ld	(hl),0x00
2407  0897  3A 00 00    	ld	a,(_game_over)
2408  089A  B7          	or	a, a
2409  089B  20 10       	jr	NZ,l_game_round_init_00102
2410  089D  2A 00 00    	ld	hl,(_player_col_scr)
2411  08A0  26 70       	ld	h,0x70
2412  08A2  3A 00 00    	ld	a,(_player_lin_scr)
2413  08A5  E5          	push	hl
2414  08A6  F5          	push	af
2415  08A7  33          	inc	sp
2416  08A8  CD 00 00    	call	_player_init
2417  08AB  F1          	pop	af
2418  08AC  33          	inc	sp
2419  08AD              l_game_round_init_00102:
2420  08AD  CD 2F 07    	call	_game_update_stats
2421  08B0  3A 00 00    	ld	a,(_game_debug)
2422  08B3  B7          	or	a, a
2423  08B4  C2 43 09    	jp	NZ, l_game_round_init_00109
2424  08B7  3A 00 00    	ld	a,(_game_world)
2425  08BA  B7          	or	a, a
2426  08BB  28 10       	jr	Z,l_game_round_init_00103
2427  08BD  3D          	dec	a
2428  08BE  28 1F       	jr	Z,l_game_round_init_00104
2429  08C0  3A 00 00    	ld	a,(_game_world)
2430  08C3  FE 02       	cp	a,0x02
2431  08C5  28 2A       	jr	Z,l_game_round_init_00105
2432  08C7  D6 03       	sub	a,0x03
2433  08C9  28 38       	jr	Z,l_game_round_init_00106
2434  08CB  18 46       	jr	l_game_round_init_00107
2435  08CD              l_game_round_init_00103:
2436  08CD  21 95 00    	ld	hl,___str_24
2437  08D0  E5          	push	hl
2438  08D1  21 0C 06    	ld	hl,0x060c
2439  08D4  E5          	push	hl
2440  08D5  CD 00 00    	call	_zx_print_str
2441  08D8  21 00 00    	ld	hl,_tmp0
2442  08DB  36 11       	ld	(hl),0x11
2443  08DD  18 34       	jr	l_game_round_init_00107
2444  08DF              l_game_round_init_00104:
2445  08DF  21 A7 00    	ld	hl,___str_25
2446  08E2  E5          	push	hl
2447  08E3  21 0C 06    	ld	hl,0x060c
2448  08E6  E5          	push	hl
2449  08E7  CD 00 00    	call	_zx_print_str
2450  08EA  21 00 00    	ld	hl,_tmp0
2451  08ED  36 0D       	ld	(hl),0x0d
2452  08EF  18 22       	jr	l_game_round_init_00107
2453  08F1              l_game_round_init_00105:
2454  08F1  21 B5 00    	ld	hl,___str_26
2455  08F4  E5          	push	hl
2456  08F5  21 0C 06    	ld	hl,0x060c
2457  08F8  E5          	push	hl
2458  08F9  CD 00 00    	call	_zx_print_str
2459  08FC  21 00 00    	ld	hl,_tmp0
2460  08FF  36 0E       	ld	(hl),0x0e
2461  0901  18 10       	jr	l_game_round_init_00107
2462  0903              l_game_round_init_00106:
2463  0903  21 C4 00    	ld	hl,___str_27
2464  0906  E5          	push	hl
2465  0907  21 0C 06    	ld	hl,0x060c
2466  090A  E5          	push	hl
2467  090B  CD 00 00    	call	_zx_print_str
2468  090E  21 00 00    	ld	hl,_tmp0
2469  0911  36 11       	ld	(hl),0x11
2470  0913              l_game_round_init_00107:
2471  0913  3A 00 00    	ld	a,(_tmp0)
2472  0916  C6 06       	add	a,0x06
2473  0918  4F          	ld	c, a
2474  0919  06 68       	ld	b,0x68
2475  091B  C5          	push	bc
2476  091C  3E 06       	ld	a,0x06
2477  091E  F5          	push	af
2478  091F  33          	inc	sp
2479  0920  21 00 00    	ld	hl,_attrib_osd
2480  0923  E5          	push	hl
2481  0924  CD E9 0A    	call	_game_paint_attrib
2482  0927  F1          	pop	af
2483  0928  F1          	pop	af
2484  0929  33          	inc	sp
2485  092A  3A 00 00    	ld	a,(_tmp0)
2486  092D  C6 06       	add	a,0x06
2487  092F  47          	ld	b, a
2488  0930  AF          	xor	a, a
2489  0931  F5          	push	af
2490  0932  33          	inc	sp
2491  0933  21 C8 00    	ld	hl,0x00c8
2492  0936  E5          	push	hl
2493  0937  C5          	push	bc
2494  0938  33          	inc	sp
2495  0939  21 0C 06    	ld	hl,0x060c
2496  093C  E5          	push	hl
2497  093D  CD 13 0B    	call	_game_colour_message
2498  0940  F1          	pop	af
2499  0941  F1          	pop	af
2500  0942  F1          	pop	af
2501  0943              l_game_round_init_00109:
2502  0943  CD 00 00    	call	_audio_ingame
2503  0946  C9          	ret
2504  0947              	SECTION rodata_compiler
2505  0095              ___str_24:
2506  0095  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2507  00A6  00          	DEFB 0x00
2508  00A7              	SECTION rodata_compiler
2509  00A7              ___str_25:
2510  00A7  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2511  00B4  00          	DEFB 0x00
2512  00B5              	SECTION rodata_compiler
2513  00B5              ___str_26:
2514  00B5  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2515  00C3  00          	DEFB 0x00
2516  00C4              	SECTION rodata_compiler
2517  00C4              ___str_27:
2518  00C4  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2519  00D5  00          	DEFB 0x00
2520  00D6              	SECTION code_compiler
2521  0947              ;	---------------------------------
2522  0947              ; Function game_print_header
2523  0947              ; ---------------------------------
2524  0947              _game_print_header:
2525  0947  21 00 00    	ld	hl,_screen_paper
2526  094A  36 00       	ld	(hl),0x00
2527  094C  21 00 00    	ld	hl,_screen_ink
2528  094F  36 02       	ld	(hl),0x02
2529  0951  21 D6 00    	ld	hl,___str_28
2530  0954  E5          	push	hl
2531  0955  21 00 0B    	ld	hl,0x0b00
2532  0958  E5          	push	hl
2533  0959  CD 00 00    	call	_zx_print_str
2534  095C  21 00 00    	ld	hl,_screen_ink
2535  095F  36 07       	ld	(hl),0x07
2536  0961  21 DA 00    	ld	hl,___str_29
2537  0964  E5          	push	hl
2538  0965  21 00 13    	ld	hl,0x1300
2539  0968  E5          	push	hl
2540  0969  CD 00 00    	call	_zx_print_str
2541  096C  CD F4 06    	call	_game_print_score
2542  096F  C9          	ret
2543  0970              	SECTION rodata_compiler
2544  00D6              ___str_28:
2545  00D6  24 25 7C    	DEFM "$%|"
2546  00D9  00          	DEFB 0x00
2547  00DA              	SECTION rodata_compiler
2548  00DA              ___str_29:
2549  00DA  30          	DEFM "0"
2550  00DB  00          	DEFB 0x00
2551  00DC              	SECTION code_compiler
2552  0970              ;	---------------------------------
2553  0970              ; Function game_check_map
2554  0970              ; ---------------------------------
2555  0970              _game_check_map:
2556  0970  CD 00 00    	call	___sdcc_enter_ix
2557  0973  DD CB 05 46 	bit	0,(ix+5)
2558  0977  20 18       	jr	NZ,l_game_check_map_00108
2559  0979  DD 66 05    	ld	h,(ix+5)
2560  097C  DD 6E 04    	ld	l,(ix+4)
2561  097F  E5          	push	hl
2562  0980  CD 00 00    	call	_spr_calc_index
2563  0983  F1          	pop	af
2564  0984  22 00 00    	ld	(_index1),hl
2565  0987  21 00 00    	ld	hl,_index1
2566  098A  CD EC 09    	call	_game_check_cell
2567  098D  26 00       	ld	h,0x00
2568  098F  18 58       	jr	l_game_check_map_00110
2569  0991              l_game_check_map_00108:
2570  0991  21 00 00    	ld	hl,_g_player_hit_left
2571  0994  36 00       	ld	(hl),0x00
2572  0996  21 00 00    	ld	hl,_g_player_hit_right
2573  0999  36 00       	ld	(hl),0x00
2574  099B  DD 46 05    	ld	b,(ix+5)
2575  099E  05          	dec	b
2576  099F  DD 4E 04    	ld	c,(ix+4)
2577  09A2  C5          	push	bc
2578  09A3  CD 00 00    	call	_spr_calc_index
2579  09A6  F1          	pop	af
2580  09A7  22 00 00    	ld	(_index1),hl
2581  09AA  21 00 00    	ld	hl,_index1
2582  09AD  CD EC 09    	call	_game_check_cell
2583  09B0  7D          	ld	a, l
2584  09B1  B7          	or	a, a
2585  09B2  28 05       	jr	Z,l_game_check_map_00102
2586  09B4  21 00 00    	ld	hl,_g_player_hit_left
2587  09B7  36 01       	ld	(hl),0x01
2588  09B9              l_game_check_map_00102:
2589  09B9  3A 00 00    	ld	a,(_g_player_hit_left)
2590  09BC  B7          	or	a, a
2591  09BD  20 17       	jr	NZ,l_game_check_map_00106
2592  09BF  21 00 00    	ld	hl,_index1
2593  09C2  34          	inc	(hl)
2594  09C3  20 02       	jr	NZ,l_game_check_map_00141
2595  09C5  23          	inc	hl
2596  09C6  34          	inc	(hl)
2597  09C7              l_game_check_map_00141:
2598  09C7  21 00 00    	ld	hl,_index1
2599  09CA  CD EC 09    	call	_game_check_cell
2600  09CD  7D          	ld	a, l
2601  09CE  B7          	or	a, a
2602  09CF  28 05       	jr	Z,l_game_check_map_00106
2603  09D1  21 00 00    	ld	hl,_g_player_hit_right
2604  09D4  36 01       	ld	(hl),0x01
2605  09D6              l_game_check_map_00106:
2606  09D6  3A 00 00    	ld	a,(_g_player_hit_left)
2607  09D9  B7          	or	a, a
2608  09DA  20 09       	jr	NZ,l_game_check_map_00113
2609  09DC  3A 00 00    	ld	a,(_g_player_hit_right)
2610  09DF  B7          	or	a,a
2611  09E0  20 03       	jr	NZ,l_game_check_map_00113
2612  09E2  6F          	ld	l,a
2613  09E3  18 02       	jr	l_game_check_map_00114
2614  09E5              l_game_check_map_00113:
2615  09E5  2E 01       	ld	l,0x01
2616  09E7              l_game_check_map_00114:
2617  09E7  26 00       	ld	h,0x00
2618  09E9              l_game_check_map_00110:
2619  09E9  DD E1       	pop	ix
2620  09EB  C9          	ret
2621  09EC              	SECTION code_compiler
2622  09EC              ;	---------------------------------
2623  09EC              ; Function game_check_cell
2624  09EC              ; ---------------------------------
2625  09EC              _game_check_cell:
2626  09EC  4E          	ld	c, (hl)
2627  09ED  23          	inc	hl
2628  09EE  46          	ld	b, (hl)
2629  09EF  3E A0       	ld	a,0xa0
2630  09F1  B9          	cp	a, c
2631  09F2  3E 00       	ld	a,0x00
2632  09F4  98          	sbc	a, b
2633  09F5  30 05       	jr	NC,l_game_check_cell_00102
2634  09F7  2E 01       	ld	l,0x01
2635  09F9  C3 E8 0A    	jp	l_game_check_cell_00155
2636  09FC              l_game_check_cell_00102:
2637  09FC  21 00 00    	ld	hl,_scr_map
2638  09FF  09          	add	hl, bc
2639  0A00  56          	ld	d, (hl)
2640  0A01  3E 47       	ld	a,0x47
2641  0A03  92          	sub	a, d
2642  0A04  3E 00       	ld	a,0x00
2643  0A06  17          	rla
2644  0A07  5F          	ld	e, a
2645  0A08  3A 00 00    	ld	a,(_sprite)
2646  0A0B  D6 07       	sub	a,0x07
2647  0A0D  CA A1 0A    	jp	Z,l_game_check_cell_00153
2648  0A10  2A 00 00    	ld	hl,(_sprite)
2649  0A13  26 00       	ld	h,0x00
2650  0A15  01 00 00    	ld	bc,_class
2651  0A18  09          	add	hl,bc
2652  0A19  4E          	ld	c,(hl)
2653  0A1A  06 00       	ld	b,0x00
2654  0A1C  21 00 00    	ld	hl,_sprite_kind
2655  0A1F  09          	add	hl, bc
2656  0A20  7E          	ld	a,(hl)
2657  0A21  47          	ld	b,a
2658  0A22  D6 05       	sub	a,0x05
2659  0A24  20 04       	jr	NZ,l_game_check_cell_00104
2660  0A26  6F          	ld	l,a
2661  0A27  C3 E8 0A    	jp	l_game_check_cell_00155
2662  0A2A              l_game_check_cell_00104:
2663  0A2A  7A          	ld	a, d
2664  0A2B  D6 80       	sub	a,0x80
2665  0A2D  38 05       	jr	C,l_game_check_cell_00106
2666  0A2F  2E 00       	ld	l,0x00
2667  0A31  C3 E8 0A    	jp	l_game_check_cell_00155
2668  0A34              l_game_check_cell_00106:
2669  0A34  7A          	ld	a, d
2670  0A35  D6 23       	sub	a,0x23
2671  0A37  20 12       	jr	NZ,l_game_check_cell_00108
2672  0A39  79          	ld	a,c
2673  0A3A  FE 06       	cp	a,0x06
2674  0A3C  28 0D       	jr	Z,l_game_check_cell_00108
2675  0A3E  FE 07       	cp	a,0x07
2676  0A40  28 09       	jr	Z,l_game_check_cell_00108
2677  0A42  D6 08       	sub	a,0x08
2678  0A44  28 05       	jr	Z,l_game_check_cell_00108
2679  0A46  2E 01       	ld	l,0x01
2680  0A48  C3 E8 0A    	jp	l_game_check_cell_00155
2681  0A4B              l_game_check_cell_00108:
2682  0A4B  78          	ld	a,b
2683  0A4C  FE 02       	cp	a,0x02
2684  0A4E  28 04       	jr	Z,l_game_check_cell_00124
2685  0A50  D6 06       	sub	a,0x06
2686  0A52  20 2D       	jr	NZ,l_game_check_cell_00125
2687  0A54              l_game_check_cell_00124:
2688  0A54  79          	ld	a,c
2689  0A55  FE 09       	cp	a,0x09
2690  0A57  28 04       	jr	Z,l_game_check_cell_00120
2691  0A59  D6 0A       	sub	a,0x0a
2692  0A5B  20 0E       	jr	NZ,l_game_check_cell_00121
2693  0A5D              l_game_check_cell_00120:
2694  0A5D  3E 3A       	ld	a,0x3a
2695  0A5F  92          	sub	a, d
2696  0A60  38 05       	jr	C,l_game_check_cell_00113
2697  0A62  2E 00       	ld	l,0x00
2698  0A64  C3 E8 0A    	jp	l_game_check_cell_00155
2699  0A67              l_game_check_cell_00113:
2700  0A67  6A          	ld	l, d
2701  0A68  C3 E8 0A    	jp	l_game_check_cell_00155
2702  0A6B              l_game_check_cell_00121:
2703  0A6B  3E 2F       	ld	a,0x2f
2704  0A6D  92          	sub	a, d
2705  0A6E  30 09       	jr	NC,l_game_check_cell_00115
2706  0A70  7A          	ld	a, d
2707  0A71  D6 44       	sub	a,0x44
2708  0A73  38 09       	jr	C,l_game_check_cell_00116
2709  0A75  CB 43       	bit	0, e
2710  0A77  20 05       	jr	NZ,l_game_check_cell_00116
2711  0A79              l_game_check_cell_00115:
2712  0A79  2E 00       	ld	l,0x00
2713  0A7B  C3 E8 0A    	jp	l_game_check_cell_00155
2714  0A7E              l_game_check_cell_00116:
2715  0A7E  6A          	ld	l, d
2716  0A7F  18 67       	jr	l_game_check_cell_00155
2717  0A81              l_game_check_cell_00125:
2718  0A81  78          	ld	a, b
2719  0A82  3D          	dec	a
2720  0A83  28 05       	jr	Z,l_game_check_cell_00133
2721  0A85  78          	ld	a, b
2722  0A86  D6 03       	sub	a,0x03
2723  0A88  20 5C       	jr	NZ,l_game_check_cell_00154
2724  0A8A              l_game_check_cell_00133:
2725  0A8A  3A 00 00    	ld	a,(_sprite_horizontal_check)
2726  0A8D  B7          	or	a, a
2727  0A8E  28 04       	jr	Z,l_game_check_cell_00128
2728  0A90  0E 48       	ld	c,0x48
2729  0A92  18 02       	jr	l_game_check_cell_00129
2730  0A94              l_game_check_cell_00128:
2731  0A94  0E 3A       	ld	c,0x3a
2732  0A96              l_game_check_cell_00129:
2733  0A96  7A          	ld	a, d
2734  0A97  91          	sub	a, c
2735  0A98  30 04       	jr	NC,l_game_check_cell_00131
2736  0A9A  2E 00       	ld	l,0x00
2737  0A9C  18 4A       	jr	l_game_check_cell_00155
2738  0A9E              l_game_check_cell_00131:
2739  0A9E  6A          	ld	l, d
2740  0A9F  18 47       	jr	l_game_check_cell_00155
2741  0AA1              l_game_check_cell_00153:
2742  0AA1  3A 00 00    	ld	a,(_player_jump_check)
2743  0AA4  B7          	or	a, a
2744  0AA5  20 1D       	jr	NZ,l_game_check_cell_00146
2745  0AA7  7A          	ld	a, d
2746  0AA8  D6 3A       	sub	a,0x3a
2747  0AAA  30 04       	jr	NC,l_game_check_cell_00137
2748  0AAC  2E 00       	ld	l,0x00
2749  0AAE  18 38       	jr	l_game_check_cell_00155
2750  0AB0              l_game_check_cell_00137:
2751  0AB0  7A          	ld	a, d
2752  0AB1  D6 48       	sub	a,0x48
2753  0AB3  30 17       	jr	NC,l_game_check_cell_00147
2754  0AB5  21 00 00    	ld	hl,_s_state
2755  0AB8  CB 4E       	bit	1, (hl)
2756  0ABA  28 04       	jr	Z,l_game_check_cell_00139
2757  0ABC  2E 01       	ld	l,0x01
2758  0ABE  18 28       	jr	l_game_check_cell_00155
2759  0AC0              l_game_check_cell_00139:
2760  0AC0  2E 00       	ld	l,0x00
2761  0AC2  18 24       	jr	l_game_check_cell_00155
2762  0AC4              l_game_check_cell_00146:
2763  0AC4  CB 43       	bit	0, e
2764  0AC6  20 04       	jr	NZ,l_game_check_cell_00147
2765  0AC8  2E 00       	ld	l,0x00
2766  0ACA  18 1C       	jr	l_game_check_cell_00155
2767  0ACC              l_game_check_cell_00147:
2768  0ACC  7A          	ld	a, d
2769  0ACD  D6 4C       	sub	a,0x4c
2770  0ACF  30 0C       	jr	NC,l_game_check_cell_00149
2771  0AD1  D5          	push	de
2772  0AD2  33          	inc	sp
2773  0AD3  C5          	push	bc
2774  0AD4  CD 00 00    	call	_player_open_door
2775  0AD7  F1          	pop	af
2776  0AD8  33          	inc	sp
2777  0AD9  2E 01       	ld	l,0x01
2778  0ADB  18 0B       	jr	l_game_check_cell_00155
2779  0ADD              l_game_check_cell_00149:
2780  0ADD  7A          	ld	a, d
2781  0ADE  D6 60       	sub	a,0x60
2782  0AE0  30 04       	jr	NC,l_game_check_cell_00154
2783  0AE2  2E 01       	ld	l,0x01
2784  0AE4  18 02       	jr	l_game_check_cell_00155
2785  0AE6              l_game_check_cell_00154:
2786  0AE6  2E 00       	ld	l,0x00
2787  0AE8              l_game_check_cell_00155:
2788  0AE8  C9          	ret
2789  0AE9              	SECTION code_compiler
2790  0AE9              ;	---------------------------------
2791  0AE9              ; Function game_paint_attrib
2792  0AE9              ; ---------------------------------
2793  0AE9              _game_paint_attrib:
2794  0AE9  CD 00 00    	call	___sdcc_enter_ix
2795  0AEC  DD 7E 06    	ld	a,(ix+6)
2796  0AEF  32 00 00    	ld	(_tmp_uc),a
2797  0AF2              l_game_paint_attrib_00103:
2798  0AF2  21 00 00    	ld	hl,_tmp_uc
2799  0AF5  7E          	ld	a, (hl)
2800  0AF6  DD 96 07    	sub	a,(ix+7)
2801  0AF9  30 15       	jr	NC,l_game_paint_attrib_00105
2802  0AFB  DD 4E 04    	ld	c,(ix+4)
2803  0AFE  DD 46 05    	ld	b,(ix+5)
2804  0B01  66          	ld	h,(hl)
2805  0B02  DD 6E 08    	ld	l,(ix+8)
2806  0B05  E5          	push	hl
2807  0B06  C5          	push	bc
2808  0B07  CD 00 00    	call	_NIRVANAP_paintC_callee
2809  0B0A  21 00 00    	ld	hl,_tmp_uc
2810  0B0D  34          	inc	(hl)
2811  0B0E  18 E2       	jr	l_game_paint_attrib_00103
2812  0B10              l_game_paint_attrib_00105:
2813  0B10  DD E1       	pop	ix
2814  0B12  C9          	ret
2815  0B13              	SECTION code_compiler
2816  0B13              ;	---------------------------------
2817  0B13              ; Function game_colour_message
2818  0B13              ; ---------------------------------
2819  0B13              _game_colour_message:
2820  0B13  CD 00 00    	call	___sdcc_enter_ix
2821  0B16  F5          	push	af
2822  0B17  F5          	push	af
2823  0B18  3B          	dec	sp
2824  0B19  D1          	pop	de
2825  0B1A  21 00 00    	ld	hl,_tmp
2826  0B1D  36 01       	ld	(hl),0x01
2827  0B1F  2A 00 00    	ld	hl,(_curr_time)
2828  0B22  22 00 00    	ld	(_frame_time),hl
2829  0B25  E5          	push	hl
2830  0B26  DD 7E 04    	ld	a,(ix+4)
2831  0B29  4D          	ld	c,l
2832  0B2A  07          	rlca
2833  0B2B  07          	rlca
2834  0B2C  07          	rlca
2835  0B2D  E6 F8       	and	a,0xf8
2836  0B2F  DD 77 FF    	ld	(ix-1),a
2837  0B32  C6 08       	add	a,0x08
2838  0B34  DD 77 FE    	ld	(ix-2),a
2839  0B37  DD 77 FD    	ld	(ix-3),a
2840  0B3A              l_game_colour_message_00112:
2841  0B3A  3A 00 00    	ld	a,(_tmp)
2842  0B3D  B7          	or	a, a
2843  0B3E  CA C4 0B    	jp	Z, l_game_colour_message_00114
2844  0B41  DD 46 07    	ld	b,(ix+7)
2845  0B44  21 00 00    	ld	hl,0x0000
2846  0B47  39          	add	hl, sp
2847  0B48  EB          	ex	de,hl
2848  0B49  C5          	push	bc
2849  0B4A  33          	inc	sp
2850  0B4B  D5          	push	de
2851  0B4C  CD 36 0C    	call	_game_check_time
2852  0B4F  F1          	pop	af
2853  0B50  33          	inc	sp
2854  0B51  7D          	ld	a, l
2855  0B52  B7          	or	a, a
2856  0B53  20 6F       	jr	NZ,l_game_colour_message_00114
2857  0B55  3E 05       	ld	a,0x05
2858  0B57  F5          	push	af
2859  0B58  33          	inc	sp
2860  0B59  21 00 00    	ld	hl,_frame_time
2861  0B5C  E5          	push	hl
2862  0B5D  CD 36 0C    	call	_game_check_time
2863  0B60  F1          	pop	af
2864  0B61  33          	inc	sp
2865  0B62  7D          	ld	a, l
2866  0B63  B7          	or	a, a
2867  0B64  28 40       	jr	Z,l_game_colour_message_00105
2868  0B66  2A 00 00    	ld	hl,(_curr_time)
2869  0B69  22 00 00    	ld	(_frame_time),hl
2870  0B6C  3A 00 00    	ld	a,(_game_over)
2871  0B6F  B7          	or	a,a
2872  0B70  28 1B       	jr	Z,l_game_colour_message_00102
2873  0B72  DD 66 FD    	ld	h,(ix-3)
2874  0B75  DD 6E 06    	ld	l,(ix+6)
2875  0B78  E5          	push	hl
2876  0B79  DD 7E 05    	ld	a,(ix+5)
2877  0B7C  F5          	push	af
2878  0B7D  33          	inc	sp
2879  0B7E  21 00 00    	ld	hl,_attrib_hl
2880  0B81  E5          	push	hl
2881  0B82  CD E9 0A    	call	_game_paint_attrib
2882  0B85  F1          	pop	af
2883  0B86  F1          	pop	af
2884  0B87  33          	inc	sp
2885  0B88  CD D5 10    	call	_game_rotate_attrib
2886  0B8B  18 19       	jr	l_game_colour_message_00105
2887  0B8D              l_game_colour_message_00102:
2888  0B8D  DD 66 FE    	ld	h,(ix-2)
2889  0B90  DD 6E 06    	ld	l,(ix+6)
2890  0B93  E5          	push	hl
2891  0B94  DD 7E 05    	ld	a,(ix+5)
2892  0B97  F5          	push	af
2893  0B98  33          	inc	sp
2894  0B99  21 00 00    	ld	hl,_attrib_osd
2895  0B9C  E5          	push	hl
2896  0B9D  CD E9 0A    	call	_game_paint_attrib
2897  0BA0  F1          	pop	af
2898  0BA1  F1          	pop	af
2899  0BA2  33          	inc	sp
2900  0BA3  CD F1 10    	call	_game_rotate_attrib_osd
2901  0BA6              l_game_colour_message_00105:
2902  0BA6  DD 7E 09    	ld	a,(ix+9)
2903  0BA9  B7          	or	a, a
2904  0BAA  28 8E       	jr	Z,l_game_colour_message_00112
2905  0BAC              l_game_colour_message_00106:
2906  0BAC  21 00 00    	ld	hl,_k1
2907  0BAF  E5          	push	hl
2908  0BB0  2A 00 00    	ld	hl,(_joyfunc1)
2909  0BB3  CD 00 00    	call	___sdcc_call_hl
2910  0BB6  F1          	pop	af
2911  0BB7  7C          	ld	a,h
2912  0BB8  B5          	or	a,l
2913  0BB9  4D          	ld	c,l
2914  0BBA  CA 3A 0B    	jp	Z, l_game_colour_message_00112
2915  0BBD  21 00 00    	ld	hl,_tmp
2916  0BC0  36 00       	ld	(hl),0x00
2917  0BC2  18 E8       	jr	l_game_colour_message_00106
2918  0BC4              l_game_colour_message_00114:
2919  0BC4  DD 7E 06    	ld	a,(ix+6)
2920  0BC7  DD 96 05    	sub	a,(ix+5)
2921  0BCA  4F          	ld	c, a
2922  0BCB  3A 00 00    	ld	a,(_game_over)
2923  0BCE  B7          	or	a, a
2924  0BCF  28 2B       	jr	Z,l_game_colour_message_00118
2925  0BD1  21 00 00    	ld	hl,_tmp1
2926  0BD4  71          	ld	(hl), c
2927  0BD5  21 00 00    	ld	hl,_tmp0
2928  0BD8  36 00       	ld	(hl),0x00
2929  0BDA              l_game_colour_message_00121:
2930  0BDA  3A 00 00    	ld	a,(_tmp0)
2931  0BDD  21 00 00    	ld	hl,_tmp1
2932  0BE0  96          	sub	a, (hl)
2933  0BE1  30 4E       	jr	NC,l_game_colour_message_00126
2934  0BE3  DD 7E 05    	ld	a,(ix+5)
2935  0BE6  21 00 00    	ld	hl,_tmp0
2936  0BE9  86          	add	a, (hl)
2937  0BEA  47          	ld	b, a
2938  0BEB  21 DC 00    	ld	hl,___str_30
2939  0BEE  E5          	push	hl
2940  0BEF  DD 4E 04    	ld	c,(ix+4)
2941  0BF2  C5          	push	bc
2942  0BF3  CD 00 00    	call	_zx_print_str
2943  0BF6  21 00 00    	ld	hl,_tmp0
2944  0BF9  34          	inc	(hl)
2945  0BFA  18 DE       	jr	l_game_colour_message_00121
2946  0BFC              l_game_colour_message_00118:
2947  0BFC  21 00 00    	ld	hl,_tmp1
2948  0BFF  71          	ld	(hl), c
2949  0C00  DD 7E FF    	ld	a,(ix-1)
2950  0C03  32 00 00    	ld	(_s_lin0),a
2951  0C06  DD 7E 05    	ld	a,(ix+5)
2952  0C09  CB 3F       	srl	a
2953  0C0B  87          	add	a, a
2954  0C0C  32 00 00    	ld	(_s_col1),a
2955  0C0F  21 00 00    	ld	hl,_tmp0
2956  0C12  36 00       	ld	(hl),0x00
2957  0C14              l_game_colour_message_00124:
2958  0C14  3A 00 00    	ld	a,(_tmp0)
2959  0C17  21 00 00    	ld	hl,_tmp1
2960  0C1A  96          	sub	a, (hl)
2961  0C1B  30 14       	jr	NC,l_game_colour_message_00126
2962  0C1D  3A 00 00    	ld	a,(_s_col1)
2963  0C20  21 00 00    	ld	hl,_tmp0
2964  0C23  86          	add	a, (hl)
2965  0C24  32 00 00    	ld	(_s_col0),a
2966  0C27  CD 00 00    	call	_spr_back_repaint
2967  0C2A  21 00 00    	ld	hl,_tmp0
2968  0C2D  34          	inc	(hl)
2969  0C2E  34          	inc	(hl)
2970  0C2F  18 E3       	jr	l_game_colour_message_00124
2971  0C31              l_game_colour_message_00126:
2972  0C31  DD F9       	ld	sp, ix
2973  0C33  DD E1       	pop	ix
2974  0C35  C9          	ret
2975  0C36              	SECTION rodata_compiler
2976  00DC              ___str_30:
2977  00DC  20          	DEFM " "
2978  00DD  00          	DEFB 0x00
2979  00DE              	SECTION code_compiler
2980  0C36              ;	---------------------------------
2981  0C36              ; Function game_check_time
2982  0C36              ; ---------------------------------
2983  0C36              _game_check_time:
2984  0C36  CD 00 00    	call	___sdcc_enter_ix
2985  0C39  2A 00 00    	ld	hl,(_curr_time)
2986  0C3C  4D          	ld	c, l
2987  0C3D  DD 6E 04    	ld	l,(ix+4)
2988  0C40  44          	ld	b,h
2989  0C41  DD 66 05    	ld	h,(ix+5)
2990  0C44  5E          	ld	e, (hl)
2991  0C45  23          	inc	hl
2992  0C46  56          	ld	d, (hl)
2993  0C47  79          	ld	a, c
2994  0C48  93          	sub	a, e
2995  0C49  4F          	ld	c, a
2996  0C4A  78          	ld	a, b
2997  0C4B  9A          	sbc	a, d
2998  0C4C  47          	ld	b, a
2999  0C4D  DD 7E 06    	ld	a,(ix+6)
3000  0C50  16 00       	ld	d,0x00
3001  0C52  91          	sub	a, c
3002  0C53  7A          	ld	a, d
3003  0C54  98          	sbc	a, b
3004  0C55  30 04       	jr	NC,l_game_check_time_00102
3005  0C57  2E 01       	ld	l,0x01
3006  0C59  18 02       	jr	l_game_check_time_00104
3007  0C5B              l_game_check_time_00102:
3008  0C5B  2E 00       	ld	l,0x00
3009  0C5D              l_game_check_time_00104:
3010  0C5D  DD E1       	pop	ix
3011  0C5F  C9          	ret
3012  0C60              	SECTION code_compiler
3013  0C60              ;	---------------------------------
3014  0C60              ; Function game_shoot_fire
3015  0C60              ; ---------------------------------
3016  0C60              _game_shoot_fire:
3017  0C60  CD 00 00    	call	___sdcc_enter_ix
3018  0C63  21 F4 FF    	ld	hl, -12
3019  0C66  39          	add	hl, sp
3020  0C67  F9          	ld	sp, hl
3021  0C68  01 00 00    	ld	bc,_bullet_col
3022  0C6B  DD 6E 04    	ld	l,(ix+4)
3023  0C6E  26 00       	ld	h,0x00
3024  0C70  09          	add	hl,bc
3025  0C71  DD 75 FE    	ld	(ix-2),l
3026  0C74  DD 74 FF    	ld	(ix-1),h
3027  0C77  4E          	ld	c, (hl)
3028  0C78  0C          	inc	c
3029  0C79  C2 72 0E    	jp	NZ,l_game_shoot_fire_00124
3030  0C7C  21 00 00    	ld	hl,_bullet_count
3031  0C7F  34          	inc	(hl)
3032  0C80  01 00 00    	ld	bc,_bullet_dir
3033  0C83  DD 6E 04    	ld	l,(ix+4)
3034  0C86  26 00       	ld	h,0x00
3035  0C88  09          	add	hl,bc
3036  0C89  DD 75 FC    	ld	(ix-4),l
3037  0C8C  DD 74 FD    	ld	(ix-3),h
3038  0C8F  36 00       	ld	(hl),0x00
3039  0C91  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3040  0C93  DD 86 04    	add	a,(ix+4)
3041  0C96  4F          	ld	c, a
3042  0C97  3E 00       	ld	a, +((_bullet_lin0) / 256)
3043  0C99  CE 00       	adc	a,0x00
3044  0C9B  47          	ld	b, a
3045  0C9C  11 00 00    	ld	de,_lin
3046  0C9F  DD 6E 04    	ld	l,(ix+4)
3047  0CA2  26 00       	ld	h,0x00
3048  0CA4  19          	add	hl,de
3049  0CA5  DD 75 FA    	ld	(ix-6),l
3050  0CA8  DD 74 FB    	ld	(ix-5),h
3051  0CAB  7E          	ld	a, (hl)
3052  0CAC  02          	ld	(bc), a
3053  0CAD  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3054  0CAF  DD 86 04    	add	a,(ix+4)
3055  0CB2  4F          	ld	c, a
3056  0CB3  3E 00       	ld	a, +((_bullet_col0) / 256)
3057  0CB5  CE 00       	adc	a,0x00
3058  0CB7  47          	ld	b, a
3059  0CB8  11 00 00    	ld	de,_col
3060  0CBB  DD 6E 04    	ld	l,(ix+4)
3061  0CBE  26 00       	ld	h,0x00
3062  0CC0  19          	add	hl,de
3063  0CC1  DD 75 F8    	ld	(ix-8),l
3064  0CC4  DD 74 F9    	ld	(ix-7),h
3065  0CC7  7E          	ld	a, (hl)
3066  0CC8  02          	ld	(bc), a
3067  0CC9  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3068  0CCB  DD 86 04    	add	a,(ix+4)
3069  0CCE  DD 77 F6    	ld	(ix-10),a
3070  0CD1  3E 00       	ld	a, +((_bullet_lin) / 256)
3071  0CD3  CE 00       	adc	a,0x00
3072  0CD5  DD 77 F7    	ld	(ix-9),a
3073  0CD8  DD 6E FA    	ld	l,(ix-6)
3074  0CDB  DD 66 FB    	ld	h,(ix-5)
3075  0CDE  4E          	ld	c, (hl)
3076  0CDF  DD 6E F6    	ld	l,(ix-10)
3077  0CE2  DD 66 F7    	ld	h,(ix-9)
3078  0CE5  71          	ld	(hl), c
3079  0CE6  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
3080  0CE8  DD 86 04    	add	a,(ix+4)
3081  0CEB  DD 77 F4    	ld	(ix-12),a
3082  0CEE  3E 00       	ld	a, +((_bullet_frames) / 256)
3083  0CF0  CE 00       	adc	a,0x00
3084  0CF2  DD 77 F5    	ld	(ix-11),a
3085  0CF5  E1          	pop	hl
3086  0CF6  E5          	push	hl
3087  0CF7  36 02       	ld	(hl),0x02
3088  0CF9  DD 7E 04    	ld	a,(ix+4)
3089  0CFC  D6 07       	sub	a,0x07
3090  0CFE  20 04       	jr	NZ,l_game_shoot_fire_00169
3091  0D00  3E 01       	ld	a,0x01
3092  0D02  18 01       	jr	l_game_shoot_fire_00170
3093  0D04              l_game_shoot_fire_00169:
3094  0D04  AF          	xor	a,a
3095  0D05              l_game_shoot_fire_00170:
3096  0D05  47          	ld	b,a
3097  0D06  B7          	or	a, a
3098  0D07  28 1B       	jr	Z,l_game_shoot_fire_00102
3099  0D09  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3100  0D0B  DD 86 04    	add	a,(ix+4)
3101  0D0E  5F          	ld	e, a
3102  0D0F  3E 00       	ld	a, +((_bullet_max) / 256)
3103  0D11  CE 00       	adc	a,0x00
3104  0D13  57          	ld	d, a
3105  0D14  3A 00 00    	ld	a,(_player_lvl)
3106  0D17  CB 3F       	srl	a
3107  0D19  C6 04       	add	a,0x04
3108  0D1B  12          	ld	(de), a
3109  0D1C  3A 07 00    	ld	a,(_state_a + 0x0007)
3110  0D1F  E6 08       	and	a,0x08
3111  0D21  4F          	ld	c, a
3112  0D22  18 13       	jr	l_game_shoot_fire_00103
3113  0D24              l_game_shoot_fire_00102:
3114  0D24  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3115  0D26  DD 86 04    	add	a,(ix+4)
3116  0D29  5F          	ld	e, a
3117  0D2A  3E 00       	ld	a, +((_bullet_max) / 256)
3118  0D2C  CE 00       	adc	a,0x00
3119  0D2E  57          	ld	d, a
3120  0D2F  AF          	xor	a, a
3121  0D30  12          	ld	(de), a
3122  0D31  3A 00 00    	ld	a,(_s_state)
3123  0D34  E6 08       	and	a,0x08
3124  0D36  4F          	ld	c, a
3125  0D37              l_game_shoot_fire_00103:
3126  0D37  DD 7E 05    	ld	a,(ix+5)
3127  0D3A  D6 7C       	sub	a,0x7c
3128  0D3C  20 21       	jr	NZ,l_game_shoot_fire_00105
3129  0D3E  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3130  0D40  DD 86 04    	add	a,(ix+4)
3131  0D43  5F          	ld	e, a
3132  0D44  3E 00       	ld	a, +((_bullet_class) / 256)
3133  0D46  CE 00       	adc	a,0x00
3134  0D48  57          	ld	d, a
3135  0D49  3E 01       	ld	a,0x01
3136  0D4B  12          	ld	(de), a
3137  0D4C  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3138  0D4E  DD 86 04    	add	a,(ix+4)
3139  0D51  5F          	ld	e, a
3140  0D52  3E 00       	ld	a, +((_bullet_max) / 256)
3141  0D54  CE 00       	adc	a,0x00
3142  0D56  57          	ld	d, a
3143  0D57  3A 00 00    	ld	a,(_game_world)
3144  0D5A  87          	add	a, a
3145  0D5B  87          	add	a, a
3146  0D5C  C6 08       	add	a,0x08
3147  0D5E  12          	ld	(de), a
3148  0D5F              l_game_shoot_fire_00105:
3149  0D5F  DD 7E 05    	ld	a,(ix+5)
3150  0D62  D6 78       	sub	a,0x78
3151  0D64  20 21       	jr	NZ,l_game_shoot_fire_00110
3152  0D66  B0          	or	a,b
3153  0D67  28 10       	jr	Z,l_game_shoot_fire_00107
3154  0D69  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3155  0D6B  DD 86 04    	add	a,(ix+4)
3156  0D6E  5F          	ld	e, a
3157  0D6F  3E 00       	ld	a, +((_bullet_class) / 256)
3158  0D71  CE 00       	adc	a,0x00
3159  0D73  57          	ld	d, a
3160  0D74  3E 01       	ld	a,0x01
3161  0D76  12          	ld	(de), a
3162  0D77  18 0E       	jr	l_game_shoot_fire_00110
3163  0D79              l_game_shoot_fire_00107:
3164  0D79  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3165  0D7B  DD 86 04    	add	a,(ix+4)
3166  0D7E  5F          	ld	e, a
3167  0D7F  3E 00       	ld	a, +((_bullet_class) / 256)
3168  0D81  CE 00       	adc	a,0x00
3169  0D83  57          	ld	d, a
3170  0D84  3E 02       	ld	a,0x02
3171  0D86  12          	ld	(de), a
3172  0D87              l_game_shoot_fire_00110:
3173  0D87  DD 7E 05    	ld	a,(ix+5)
3174  0D8A  D6 80       	sub	a,0x80
3175  0D8C  20 04       	jr	NZ,l_game_shoot_fire_00175
3176  0D8E  3E 01       	ld	a,0x01
3177  0D90  18 01       	jr	l_game_shoot_fire_00176
3178  0D92              l_game_shoot_fire_00175:
3179  0D92  AF          	xor	a,a
3180  0D93              l_game_shoot_fire_00176:
3181  0D93  47          	ld	b,a
3182  0D94  B7          	or	a, a
3183  0D95  28 31       	jr	Z,l_game_shoot_fire_00112
3184  0D97  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3185  0D99  DD 86 04    	add	a,(ix+4)
3186  0D9C  5F          	ld	e, a
3187  0D9D  3E 00       	ld	a, +((_bullet_class) / 256)
3188  0D9F  CE 00       	adc	a,0x00
3189  0DA1  57          	ld	d, a
3190  0DA2  3E 04       	ld	a,0x04
3191  0DA4  12          	ld	(de), a
3192  0DA5  DD 6E FA    	ld	l,(ix-6)
3193  0DA8  DD 66 FB    	ld	h,(ix-5)
3194  0DAB  7E          	ld	a, (hl)
3195  0DAC  C6 FC       	add	a,0xfc
3196  0DAE  DD 6E F6    	ld	l,(ix-10)
3197  0DB1  DD 66 F7    	ld	h,(ix-9)
3198  0DB4  77          	ld	(hl), a
3199  0DB5  E1          	pop	hl
3200  0DB6  E5          	push	hl
3201  0DB7  36 04       	ld	(hl),0x04
3202  0DB9  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3203  0DBB  DD 86 04    	add	a,(ix+4)
3204  0DBE  5F          	ld	e, a
3205  0DBF  3E 00       	ld	a, +((_bullet_vel) / 256)
3206  0DC1  CE 00       	adc	a,0x00
3207  0DC3  57          	ld	d, a
3208  0DC4  3A 00 00    	ld	a,(_player_vel_y0)
3209  0DC7  12          	ld	(de), a
3210  0DC8              l_game_shoot_fire_00112:
3211  0DC8  DD 6E F8    	ld	l,(ix-8)
3212  0DCB  DD 66 F9    	ld	h,(ix-7)
3213  0DCE  56          	ld	d, (hl)
3214  0DCF  DD 6E FA    	ld	l,(ix-6)
3215  0DD2  DD 66 FB    	ld	h,(ix-5)
3216  0DD5  7E          	ld	a, (hl)
3217  0DD6  C5          	push	bc
3218  0DD7  5F          	ld	e,a
3219  0DD8  D5          	push	de
3220  0DD9  CD 00 00    	call	_spr_calc_index
3221  0DDC  F1          	pop	af
3222  0DDD  EB          	ex	de,hl
3223  0DDE  C1          	pop	bc
3224  0DDF  ED 53 00 00 	ld	(_index1),de
3225  0DE3  DD 6E F8    	ld	l,(ix-8)
3226  0DE6  DD 66 F9    	ld	h,(ix-7)
3227  0DE9  5E          	ld	e, (hl)
3228  0DEA  79          	ld	a, c
3229  0DEB  B7          	or	a, a
3230  0DEC  28 4F       	jr	Z,l_game_shoot_fire_00121
3231  0DEE  7B          	ld	a, e
3232  0DEF  D6 01       	sub	a,0x01
3233  0DF1  30 05       	jr	NC,l_game_shoot_fire_00114
3234  0DF3  2E 01       	ld	l,0x01
3235  0DF5  C3 74 0E    	jp	l_game_shoot_fire_00125
3236  0DF8              l_game_shoot_fire_00114:
3237  0DF8  DD 6E FE    	ld	l,(ix-2)
3238  0DFB  DD 66 FF    	ld	h,(ix-1)
3239  0DFE  73          	ld	(hl), e
3240  0DFF  78          	ld	a, b
3241  0E00  B7          	or	a, a
3242  0E01  20 13       	jr	NZ,l_game_shoot_fire_00116
3243  0E03  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3244  0E05  DD 86 04    	add	a,(ix+4)
3245  0E08  4F          	ld	c, a
3246  0E09  3E 00       	ld	a, +((_bullet_tile) / 256)
3247  0E0B  CE 00       	adc	a,0x00
3248  0E0D  47          	ld	b, a
3249  0E0E  DD 7E 05    	ld	a,(ix+5)
3250  0E11  C6 02       	add	a,0x02
3251  0E13  02          	ld	(bc), a
3252  0E14  18 0F       	jr	l_game_shoot_fire_00117
3253  0E16              l_game_shoot_fire_00116:
3254  0E16  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3255  0E18  DD 86 04    	add	a,(ix+4)
3256  0E1B  4F          	ld	c, a
3257  0E1C  3E 00       	ld	a, +((_bullet_tile) / 256)
3258  0E1E  CE 00       	adc	a,0x00
3259  0E20  47          	ld	b, a
3260  0E21  DD 7E 05    	ld	a,(ix+5)
3261  0E24  02          	ld	(bc), a
3262  0E25              l_game_shoot_fire_00117:
3263  0E25  DD 6E FC    	ld	l,(ix-4)
3264  0E28  DD 66 FD    	ld	h,(ix-3)
3265  0E2B  36 01       	ld	(hl),0x01
3266  0E2D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3267  0E2F  DD 86 04    	add	a,(ix+4)
3268  0E32  4F          	ld	c, a
3269  0E33  3E 00       	ld	a, +((_bullet_colint) / 256)
3270  0E35  CE 00       	adc	a,0x00
3271  0E37  47          	ld	b, a
3272  0E38  3E 02       	ld	a,0x02
3273  0E3A  02          	ld	(bc), a
3274  0E3B  18 35       	jr	l_game_shoot_fire_00124
3275  0E3D              l_game_shoot_fire_00121:
3276  0E3D  3E 1D       	ld	a,0x1d
3277  0E3F  93          	sub	a, e
3278  0E40  30 04       	jr	NC,l_game_shoot_fire_00119
3279  0E42  2E 01       	ld	l,0x01
3280  0E44  18 2E       	jr	l_game_shoot_fire_00125
3281  0E46              l_game_shoot_fire_00119:
3282  0E46  DD 6E FE    	ld	l,(ix-2)
3283  0E49  DD 66 FF    	ld	h,(ix-1)
3284  0E4C  73          	ld	(hl), e
3285  0E4D  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3286  0E4F  DD 86 04    	add	a,(ix+4)
3287  0E52  4F          	ld	c, a
3288  0E53  3E 00       	ld	a, +((_bullet_tile) / 256)
3289  0E55  CE 00       	adc	a,0x00
3290  0E57  47          	ld	b, a
3291  0E58  DD 7E 05    	ld	a,(ix+5)
3292  0E5B  02          	ld	(bc), a
3293  0E5C  DD 6E FC    	ld	l,(ix-4)
3294  0E5F  DD 66 FD    	ld	h,(ix-3)
3295  0E62  36 FF       	ld	(hl),0xff
3296  0E64  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3297  0E66  DD 86 04    	add	a,(ix+4)
3298  0E69  4F          	ld	c, a
3299  0E6A  3E 00       	ld	a, +((_bullet_colint) / 256)
3300  0E6C  CE 00       	adc	a,0x00
3301  0E6E  47          	ld	b, a
3302  0E6F  3E FF       	ld	a,0xff
3303  0E71  02          	ld	(bc), a
3304  0E72              l_game_shoot_fire_00124:
3305  0E72  2E 00       	ld	l,0x00
3306  0E74              l_game_shoot_fire_00125:
3307  0E74  DD F9       	ld	sp, ix
3308  0E76  DD E1       	pop	ix
3309  0E78  C9          	ret
3310  0E79              	SECTION code_compiler
3311  0E79              ;	---------------------------------
3312  0E79              ; Function game_shoot_fire_boss
3313  0E79              ; ---------------------------------
3314  0E79              _game_shoot_fire_boss:
3315  0E79  CD 00 00    	call	___sdcc_enter_ix
3316  0E7C  F5          	push	af
3317  0E7D  F5          	push	af
3318  0E7E  3B          	dec	sp
3319  0E7F  3A 07 00    	ld	a,(_col + 0x0007)
3320  0E82  4F          	ld	c,a
3321  0E83  21 00 00    	ld	hl,_boss_col
3322  0E86  96          	sub	a, (hl)
3323  0E87  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3324  0E89  DD 36 FB 01 	ld	(ix-5),0x01
3325  0E8D              l_game_shoot_fire_boss_00102:
3326  0E8D  3A 00 00    	ld	a,(_boss_col)
3327  0E90  91          	sub	a, c
3328  0E91  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3329  0E93  DD 36 FB 00 	ld	(ix-5),0x00
3330  0E97              l_game_shoot_fire_boss_00131:
3331  0E97  1E 00       	ld	e,0x00
3332  0E99              l_game_shoot_fire_boss_00107:
3333  0E99  7B          	ld	a, e
3334  0E9A  D6 07       	sub	a,0x07
3335  0E9C  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3336  0E9E  16 00       	ld	d,0x00
3337  0EA0  21 00 00    	ld	hl,_bullet_col
3338  0EA3  19          	add	hl, de
3339  0EA4  4E          	ld	c, (hl)
3340  0EA5  0C          	inc	c
3341  0EA6  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3342  0EA8  1C          	inc	e
3343  0EA9  18 EE       	jr	l_game_shoot_fire_boss_00107
3344  0EAB              l_game_shoot_fire_boss_00138:
3345  0EAB  7B          	ld	a,e
3346  0EAC  4F          	ld	c,a
3347  0EAD  D6 07       	sub	a,0x07
3348  0EAF  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3349  0EB1  6F          	ld	l,a
3350  0EB2  C3 DD 0F    	jp	l_game_shoot_fire_boss_00125
3351  0EB5              l_game_shoot_fire_boss_00111:
3352  0EB5  21 00 00    	ld	hl,_bullet_count
3353  0EB8  34          	inc	(hl)
3354  0EB9  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3355  0EBB  83          	add	a, e
3356  0EBC  DD 77 FE    	ld	(ix-2),a
3357  0EBF  6F          	ld	l,a
3358  0EC0  3E 00       	ld	a,+((_bullet_dir) / 256)
3359  0EC2  CE 00       	adc	a,0x00
3360  0EC4  DD 77 FF    	ld	(ix-1),a
3361  0EC7  67          	ld	h,a
3362  0EC8  36 00       	ld	(hl),0x00
3363  0ECA  3A 00 00    	ld	a,(_game_world)
3364  0ECD  3D          	dec	a
3365  0ECE  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3366  0ED0  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3367  0ED2  83          	add	a, e
3368  0ED3  47          	ld	b, a
3369  0ED4  3E 00       	ld	a, +((_bullet_lin0) / 256)
3370  0ED6  CE 00       	adc	a,0x00
3371  0ED8  57          	ld	d, a
3372  0ED9  3A 00 00    	ld	a,(_boss_lin)
3373  0EDC  C6 10       	add	a,0x10
3374  0EDE  68          	ld	l, b
3375  0EDF  62          	ld	h, d
3376  0EE0  77          	ld	(hl), a
3377  0EE1  16 00       	ld	d,0x00
3378  0EE3  21 00 00    	ld	hl,_bullet_class
3379  0EE6  19          	add	hl, de
3380  0EE7  36 02       	ld	(hl),0x02
3381  0EE9  18 2E       	jr	l_game_shoot_fire_boss_00117
3382  0EEB              l_game_shoot_fire_boss_00116:
3383  0EEB  16 00       	ld	d,0x00
3384  0EED  21 00 00    	ld	hl,_bullet_class
3385  0EF0  19          	add	hl, de
3386  0EF1  36 05       	ld	(hl),0x05
3387  0EF3  3A 00 00    	ld	a,(_tmp0)
3388  0EF6  B7          	or	a, a
3389  0EF7  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3390  0EF9  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3391  0EFB  83          	add	a, e
3392  0EFC  5F          	ld	e, a
3393  0EFD  3E 00       	ld	a, +((_bullet_lin0) / 256)
3394  0EFF  CE 00       	adc	a,0x00
3395  0F01  57          	ld	d, a
3396  0F02  3A 00 00    	ld	a,(_boss_lin)
3397  0F05  C6 F8       	add	a,0xf8
3398  0F07  12          	ld	(de), a
3399  0F08  18 0F       	jr	l_game_shoot_fire_boss_00117
3400  0F0A              l_game_shoot_fire_boss_00113:
3401  0F0A  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3402  0F0C  83          	add	a, e
3403  0F0D  5F          	ld	e, a
3404  0F0E  3E 00       	ld	a, +((_bullet_lin0) / 256)
3405  0F10  CE 00       	adc	a,0x00
3406  0F12  57          	ld	d, a
3407  0F13  3A 00 00    	ld	a,(_boss_lin)
3408  0F16  C6 18       	add	a,0x18
3409  0F18  12          	ld	(de), a
3410  0F19              l_game_shoot_fire_boss_00117:
3411  0F19  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3412  0F1B  81          	add	a, c
3413  0F1C  5F          	ld	e, a
3414  0F1D  3E 00       	ld	a, +((_bullet_lin) / 256)
3415  0F1F  CE 00       	adc	a,0x00
3416  0F21  57          	ld	d, a
3417  0F22  06 00       	ld	b,0x00
3418  0F24  21 00 00    	ld	hl,_bullet_lin0
3419  0F27  09          	add	hl, bc
3420  0F28  7E          	ld	a, (hl)
3421  0F29  12          	ld	(de), a
3422  0F2A  06 00       	ld	b,0x00
3423  0F2C  21 00 00    	ld	hl,_bullet_frames
3424  0F2F  09          	add	hl, bc
3425  0F30  36 02       	ld	(hl),0x02
3426  0F32  06 00       	ld	b,0x00
3427  0F34  21 00 00    	ld	hl,_bullet_max
3428  0F37  09          	add	hl, bc
3429  0F38  36 08       	ld	(hl),0x08
3430  0F3A  3A 00 00    	ld	a,(_boss_col)
3431  0F3D  2A 00 00    	ld	hl,(_boss_lin)
3432  0F40  C5          	push	bc
3433  0F41  67          	ld	h,a
3434  0F42  E5          	push	hl
3435  0F43  CD 00 00    	call	_spr_calc_index
3436  0F46  F1          	pop	af
3437  0F47  EB          	ex	de,hl
3438  0F48  C1          	pop	bc
3439  0F49  ED 53 00 00 	ld	(_index1),de
3440  0F4D  3E 00       	ld	a,+((_bullet_col) & 0xFF)
3441  0F4F  81          	add	a,c
3442  0F50  DD 77 FC    	ld	(ix-4),a
3443  0F53  3E 00       	ld	a, +((_bullet_col) / 256)
3444  0F55  CE 00       	adc	a,0x00
3445  0F57  DD 77 FD    	ld	(ix-3),a
3446  0F5A  DD 7E FB    	ld	a,(ix-5)
3447  0F5D  B7          	or	a, a
3448  0F5E  28 36       	jr	Z,l_game_shoot_fire_boss_00123
3449  0F60  3A 00 00    	ld	a,(_boss_col)
3450  0F63  D6 01       	sub	a,0x01
3451  0F65  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3452  0F67  2E 01       	ld	l,0x01
3453  0F69  18 72       	jr	l_game_shoot_fire_boss_00125
3454  0F6B              l_game_shoot_fire_boss_00119:
3455  0F6B  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3456  0F6D  81          	add	a, c
3457  0F6E  5F          	ld	e, a
3458  0F6F  3E 00       	ld	a, +((_bullet_tile) / 256)
3459  0F71  CE 00       	adc	a,0x00
3460  0F73  57          	ld	d, a
3461  0F74  DD 7E 04    	ld	a,(ix+4)
3462  0F77  C6 02       	add	a,0x02
3463  0F79  12          	ld	(de), a
3464  0F7A  DD 6E FE    	ld	l,(ix-2)
3465  0F7D  DD 66 FF    	ld	h,(ix-1)
3466  0F80  36 01       	ld	(hl),0x01
3467  0F82  06 00       	ld	b,0x00
3468  0F84  21 00 00    	ld	hl,_bullet_colint
3469  0F87  09          	add	hl, bc
3470  0F88  36 02       	ld	(hl),0x02
3471  0F8A  DD 6E FC    	ld	l,(ix-4)
3472  0F8D  DD 66 FD    	ld	h,(ix-3)
3473  0F90  3A 00 00    	ld	a,(_boss_col)
3474  0F93  77          	ld	(hl),a
3475  0F94  18 35       	jr	l_game_shoot_fire_boss_00124
3476  0F96              l_game_shoot_fire_boss_00123:
3477  0F96  3E 1D       	ld	a,0x1d
3478  0F98  21 00 00    	ld	hl,_boss_col
3479  0F9B  96          	sub	a, (hl)
3480  0F9C  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3481  0F9E  2E 01       	ld	l,0x01
3482  0FA0  18 3B       	jr	l_game_shoot_fire_boss_00125
3483  0FA2              l_game_shoot_fire_boss_00121:
3484  0FA2  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3485  0FA4  81          	add	a, c
3486  0FA5  5F          	ld	e, a
3487  0FA6  3E 00       	ld	a, +((_bullet_tile) / 256)
3488  0FA8  CE 00       	adc	a,0x00
3489  0FAA  57          	ld	d, a
3490  0FAB  DD 7E 04    	ld	a,(ix+4)
3491  0FAE  12          	ld	(de), a
3492  0FAF  DD 6E FE    	ld	l,(ix-2)
3493  0FB2  DD 66 FF    	ld	h,(ix-1)
3494  0FB5  36 FF       	ld	(hl),0xff
3495  0FB7  06 00       	ld	b,0x00
3496  0FB9  21 00 00    	ld	hl,_bullet_colint
3497  0FBC  09          	add	hl, bc
3498  0FBD  36 FF       	ld	(hl),0xff
3499  0FBF  3A 00 00    	ld	a,(_boss_col)
3500  0FC2  C6 06       	add	a,0x06
3501  0FC4  DD 6E FC    	ld	l,(ix-4)
3502  0FC7  DD 66 FD    	ld	h,(ix-3)
3503  0FCA  77          	ld	(hl), a
3504  0FCB              l_game_shoot_fire_boss_00124:
3505  0FCB  06 00       	ld	b,0x00
3506  0FCD  21 00 00    	ld	hl,_bullet_col0
3507  0FD0  09          	add	hl,bc
3508  0FD1  4D          	ld	c,l
3509  0FD2  DD 6E FC    	ld	l,(ix-4)
3510  0FD5  44          	ld	b,h
3511  0FD6  DD 66 FD    	ld	h,(ix-3)
3512  0FD9  7E          	ld	a, (hl)
3513  0FDA  02          	ld	(bc), a
3514  0FDB  2E 00       	ld	l,0x00
3515  0FDD              l_game_shoot_fire_boss_00125:
3516  0FDD  DD F9       	ld	sp, ix
3517  0FDF  DD E1       	pop	ix
3518  0FE1  C9          	ret
3519  0FE2              	SECTION code_compiler
3520  0FE2              ;	---------------------------------
3521  0FE2              ; Function game_obj_set
3522  0FE2              ; ---------------------------------
3523  0FE2              _game_obj_set:
3524  0FE2  3A 00 00    	ld	a,(_scr_curr)
3525  0FE5  EB          	ex	de,hl
3526  0FE6  D6 08       	sub	a,0x08
3527  0FE8  30 19       	jr	NC,l_game_obj_set_00102
3528  0FEA  21 00 00    	ld	hl,_scr_obj0
3529  0FED  19          	add	hl,de
3530  0FEE  5E          	ld	e,(hl)
3531  0FEF  3A 00 00    	ld	a,(_scr_curr)
3532  0FF2  3C          	inc	a
3533  0FF3  16 01       	ld	d,0x01
3534  0FF5  4D          	ld	c,l
3535  0FF6  44          	ld	b,h
3536  0FF7  18 02       	jr	l_game_obj_set_00111
3537  0FF9              l_game_obj_set_00110:
3538  0FF9  CB 22       	sla	d
3539  0FFB              l_game_obj_set_00111:
3540  0FFB  3D          	dec	a
3541  0FFC  20 FB       	jr	NZ,l_game_obj_set_00110
3542  0FFE  7B          	ld	a, e
3543  0FFF  B2          	or	a, d
3544  1000  02          	ld	(bc), a
3545  1001  18 17       	jr	l_game_obj_set_00104
3546  1003              l_game_obj_set_00102:
3547  1003  3A 00 00    	ld	a,(_scr_curr)
3548  1006  C6 F8       	add	a,0xf8
3549  1008  47          	ld	b, a
3550  1009  21 00 00    	ld	hl,_scr_obj1
3551  100C  19          	add	hl, de
3552  100D  4E          	ld	c, (hl)
3553  100E  1E 01       	ld	e,0x01
3554  1010  04          	inc	b
3555  1011  18 02       	jr	l_game_obj_set_00113
3556  1013              l_game_obj_set_00112:
3557  1013  CB 23       	sla	e
3558  1015              l_game_obj_set_00113:
3559  1015  10 FC       	djnz	l_game_obj_set_00112
3560  1017  79          	ld	a, c
3561  1018  B3          	or	a, e
3562  1019  77          	ld	(hl), a
3563  101A              l_game_obj_set_00104:
3564  101A  C9          	ret
3565  101B              	SECTION code_compiler
3566  101B              ;	---------------------------------
3567  101B              ; Function game_obj_chk
3568  101B              ; ---------------------------------
3569  101B              _game_obj_chk:
3570  101B  3A 00 00    	ld	a,(_scr_curr)
3571  101E  EB          	ex	de,hl
3572  101F  D6 08       	sub	a,0x08
3573  1021  30 17       	jr	NC,l_game_obj_chk_00102
3574  1023  21 00 00    	ld	hl,_scr_obj0
3575  1026  19          	add	hl, de
3576  1027  4E          	ld	c, (hl)
3577  1028  21 00 00    	ld	hl,_scr_curr
3578  102B  46          	ld	b, (hl)
3579  102C  1E 01       	ld	e,0x01
3580  102E  04          	inc	b
3581  102F  18 02       	jr	l_game_obj_chk_00111
3582  1031              l_game_obj_chk_00110:
3583  1031  CB 23       	sla	e
3584  1033              l_game_obj_chk_00111:
3585  1033  10 FC       	djnz	l_game_obj_chk_00110
3586  1035  79          	ld	a, c
3587  1036  A3          	and	a, e
3588  1037  6F          	ld	l, a
3589  1038  18 17       	jr	l_game_obj_chk_00104
3590  103A              l_game_obj_chk_00102:
3591  103A  3A 00 00    	ld	a,(_scr_curr)
3592  103D  C6 F8       	add	a,0xf8
3593  103F  47          	ld	b, a
3594  1040  21 00 00    	ld	hl,_scr_obj1
3595  1043  19          	add	hl, de
3596  1044  4E          	ld	c, (hl)
3597  1045  1E 01       	ld	e,0x01
3598  1047  04          	inc	b
3599  1048  18 02       	jr	l_game_obj_chk_00113
3600  104A              l_game_obj_chk_00112:
3601  104A  CB 23       	sla	e
3602  104C              l_game_obj_chk_00113:
3603  104C  10 FC       	djnz	l_game_obj_chk_00112
3604  104E  79          	ld	a, c
3605  104F  A3          	and	a, e
3606  1050  6F          	ld	l, a
3607  1051              l_game_obj_chk_00104:
3608  1051  C9          	ret
3609  1052              	SECTION code_compiler
3610  1052              ;	---------------------------------
3611  1052              ; Function game_obj_clear
3612  1052              ; ---------------------------------
3613  1052              _game_obj_clear:
3614  1052  21 00 00    	ld	hl,_tmp
3615  1055  36 00       	ld	(hl),0x00
3616  1057              l_game_obj_clear_00105:
3617  1057  2A 00 00    	ld	hl,(_tmp)
3618  105A  26 00       	ld	h,0x00
3619  105C  01 00 00    	ld	bc,_scr_obj0
3620  105F  09          	add	hl,bc
3621  1060  AF          	xor	a,a
3622  1061  77          	ld	(hl),a
3623  1062  2A 00 00    	ld	hl,(_tmp)
3624  1065  26 00       	ld	h,0x00
3625  1067  01 00 00    	ld	bc,_scr_obj1
3626  106A  09          	add	hl,bc
3627  106B  AF          	xor	a,a
3628  106C  77          	ld	(hl),a
3629  106D  21 00 00    	ld	hl,_tmp
3630  1070  7E          	ld	a,(hl)
3631  1071  3C          	inc	a
3632  1072  77          	ld	(hl),a
3633  1073  D6 A0       	sub	a,0xa0
3634  1075  38 E0       	jr	C,l_game_obj_clear_00105
3635  1077  3A 00 00    	ld	a,(_game_inmune)
3636  107A  B7          	or	a, a
3637  107B  28 07       	jr	Z,l_game_obj_clear_00103
3638  107D  21 00 00    	ld	hl,_tmp
3639  1080  36 01       	ld	(hl),0x01
3640  1082  18 05       	jr	l_game_obj_clear_00104
3641  1084              l_game_obj_clear_00103:
3642  1084  21 00 00    	ld	hl,_tmp
3643  1087  36 00       	ld	(hl),0x00
3644  1089              l_game_obj_clear_00104:
3645  1089  3A 00 00    	ld	a,(_tmp)
3646  108C  32 00 00    	ld	(_player_keys),a
3647  108F  32 01 00    	ld	((_player_keys + 0x0001)),a
3648  1092  3A 00 00    	ld	a,(_tmp)
3649  1095  32 02 00    	ld	((_player_keys + 0x0002)),a
3650  1098  32 03 00    	ld	((_player_keys + 0x0003)),a
3651  109B  C9          	ret
3652  109C              	SECTION code_compiler
3653  109C              ;	---------------------------------
3654  109C              ; Function game_boss_clear
3655  109C              ; ---------------------------------
3656  109C              _game_boss_clear:
3657  109C  CD 00 00    	call	___sdcc_enter_ix
3658  109F  21 00 00    	ld	hl,0x0000
3659  10A2  E5          	push	hl
3660  10A3              l_game_boss_clear_00104:
3661  10A3  3E 00       	ld	a, +((_scr_map) & 0xFF)
3662  10A5  DD 86 FE    	add	a,(ix-2)
3663  10A8  4F          	ld	c, a
3664  10A9  3E 00       	ld	a, +((_scr_map) / 256)
3665  10AB  DD 8E FF    	adc	a,(ix-1)
3666  10AE  47          	ld	b, a
3667  10AF  0A          	ld	a, (bc)
3668  10B0  D6 37       	sub	a,0x37
3669  10B2  20 09       	jr	NZ,l_game_boss_clear_00105
3670  10B4  AF          	xor	a, a
3671  10B5  02          	ld	(bc), a
3672  10B6  21 00 00    	ld	hl,0x0000
3673  10B9  39          	add	hl, sp
3674  10BA  CD 00 00    	call	_spr_draw_index
3675  10BD              l_game_boss_clear_00105:
3676  10BD  DD 34 FE    	inc	(ix-2)
3677  10C0  20 03       	jr	NZ,l_game_boss_clear_00118
3678  10C2  DD 34 FF    	inc	(ix-1)
3679  10C5              l_game_boss_clear_00118:
3680  10C5  DD 7E FE    	ld	a,(ix-2)
3681  10C8  D6 A0       	sub	a,0xa0
3682  10CA  DD 7E FF    	ld	a,(ix-1)
3683  10CD  DE 00       	sbc	a,0x00
3684  10CF  38 D2       	jr	C,l_game_boss_clear_00104
3685  10D1  F1          	pop	af
3686  10D2  DD E1       	pop	ix
3687  10D4  C9          	ret
3688  10D5              	SECTION code_compiler
3689  10D5              ;	---------------------------------
3690  10D5              ; Function game_rotate_attrib
3691  10D5              ; ---------------------------------
3692  10D5              _game_rotate_attrib:
3693  10D5  01 03 00    	ld	bc,_attrib_hl + 3
3694  10D8  0A          	ld	a, (bc)
3695  10D9  32 00 00    	ld	(_tmp_uc),a
3696  10DC  11 02 00    	ld	de,_attrib_hl + 2
3697  10DF  1A          	ld	a, (de)
3698  10E0  02          	ld	(bc), a
3699  10E1  01 01 00    	ld	bc,_attrib_hl + 1
3700  10E4  0A          	ld	a, (bc)
3701  10E5  12          	ld	(de), a
3702  10E6  3A 00 00    	ld	a,(_attrib_hl)
3703  10E9  02          	ld	(bc), a
3704  10EA  3A 00 00    	ld	a,(_tmp_uc)
3705  10ED  32 00 00    	ld	(_attrib_hl),a
3706  10F0  C9          	ret
3707  10F1              	SECTION code_compiler
3708  10F1              ;	---------------------------------
3709  10F1              ; Function game_rotate_attrib_osd
3710  10F1              ; ---------------------------------
3711  10F1              _game_rotate_attrib_osd:
3712  10F1  01 03 00    	ld	bc,_attrib_osd + 3
3713  10F4  0A          	ld	a, (bc)
3714  10F5  32 00 00    	ld	(_tmp_uc),a
3715  10F8  11 02 00    	ld	de,_attrib_osd + 2
3716  10FB  1A          	ld	a, (de)
3717  10FC  02          	ld	(bc), a
3718  10FD  01 01 00    	ld	bc,_attrib_osd + 1
3719  1100  0A          	ld	a, (bc)
3720  1101  12          	ld	(de), a
3721  1102  3A 00 00    	ld	a,(_attrib_osd)
3722  1105  02          	ld	(bc), a
3723  1106  3A 00 00    	ld	a,(_tmp_uc)
3724  1109  32 00 00    	ld	(_attrib_osd),a
3725  110C  C9          	ret
3726  110D              	SECTION code_compiler
3727  110D              ;	---------------------------------
3728  110D              ; Function game_attribs
3729  110D              ; ---------------------------------
3730  110D              _game_attribs:
3731  110D  01 00 00    	ld	bc,_attrib+0
3732  1110  21 00 00    	ld	hl,_map_paper
3733  1113  7E          	ld	a, (hl)
3734  1114  F6 47       	or	a,0x47
3735  1116  02          	ld	(bc), a
3736  1117  59          	ld	e, c
3737  1118  50          	ld	d, b
3738  1119  13          	inc	de
3739  111A  7E          	ld	a, (hl)
3740  111B  F6 45       	or	a,0x45
3741  111D  12          	ld	(de), a
3742  111E  7E          	ld	a, (hl)
3743  111F  F6 05       	or	a,0x05
3744  1121  32 02 00    	ld	((_attrib + 0x0002)),a
3745  1124  03          	inc	bc
3746  1125  03          	inc	bc
3747  1126  03          	inc	bc
3748  1127  21 00 00    	ld	hl,_map_paper
3749  112A  7E          	ld	a, (hl)
3750  112B  F6 41       	or	a,0x41
3751  112D  02          	ld	(bc), a
3752  112E  01 00 00    	ld	bc,_attrib_hl+0
3753  1131  7E          	ld	a, (hl)
3754  1132  F6 41       	or	a,0x41
3755  1134  02          	ld	(bc), a
3756  1135  59          	ld	e, c
3757  1136  50          	ld	d, b
3758  1137  13          	inc	de
3759  1138  7E          	ld	a, (hl)
3760  1139  F6 41       	or	a,0x41
3761  113B  12          	ld	(de), a
3762  113C  7E          	ld	a, (hl)
3763  113D  F6 43       	or	a,0x43
3764  113F  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3765  1142  03          	inc	bc
3766  1143  03          	inc	bc
3767  1144  03          	inc	bc
3768  1145  21 00 00    	ld	hl,_map_paper
3769  1148  7E          	ld	a, (hl)
3770  1149  F6 45       	or	a,0x45
3771  114B  02          	ld	(bc), a
3772  114C  01 00 00    	ld	bc,_attrib_osd+0
3773  114F  7E          	ld	a, (hl)
3774  1150  F6 46       	or	a,0x46
3775  1152  02          	ld	(bc), a
3776  1153  59          	ld	e, c
3777  1154  50          	ld	d, b
3778  1155  13          	inc	de
3779  1156  7E          	ld	a, (hl)
3780  1157  F6 47       	or	a,0x47
3781  1159  12          	ld	(de), a
3782  115A  7E          	ld	a, (hl)
3783  115B  F6 47       	or	a,0x47
3784  115D  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3785  1160  03          	inc	bc
3786  1161  03          	inc	bc
3787  1162  03          	inc	bc
3788  1163  3A 00 00    	ld	a,(_map_paper)
3789  1166  F6 46       	or	a,0x46
3790  1168  02          	ld	(bc), a
3791  1169  C9          	ret
3792  116A              	SECTION code_compiler
3793  116A              ;	---------------------------------
3794  116A              ; Function game_match_back_strict
3795  116A              ; ---------------------------------
3796  116A              _game_match_back_strict:
3797  116A  3E 01       	ld	a,0x01
3798  116C  BD          	cp	a,l
3799  116D  3E 00       	ld	a,0x00
3800  116F  9C          	sbc	a,h
3801  1170  30 3F       	jr	NC,l_game_match_back_strict_00111
3802  1172  7D          	ld	a,l
3803  1173  E6 0F       	and	a,0x0f
3804  1175  28 3A       	jr	Z,l_game_match_back_strict_00111
3805  1177  5D          	ld	e,l
3806  1178  54          	ld	d,h
3807  1179  4D          	ld	c,l
3808  117A  44          	ld	b,h
3809  117B  1B          	dec	de
3810  117C  21 00 00    	ld	hl,_scr_map
3811  117F  19          	add	hl, de
3812  1180  5E          	ld	e, (hl)
3813  1181  03          	inc	bc
3814  1182  21 00 00    	ld	hl,_scr_map
3815  1185  09          	add	hl, bc
3816  1186  4E          	ld	c, (hl)
3817  1187  7B          	ld	a, e
3818  1188  D6 1D       	sub	a,0x1d
3819  118A  20 09       	jr	NZ,l_game_match_back_strict_00102
3820  118C  79          	ld	a, c
3821  118D  D6 1D       	sub	a,0x1d
3822  118F  20 04       	jr	NZ,l_game_match_back_strict_00102
3823  1191  2E 1D       	ld	l,0x1d
3824  1193  18 1E       	jr	l_game_match_back_strict_00113
3825  1195              l_game_match_back_strict_00102:
3826  1195  7B          	ld	a, e
3827  1196  D6 18       	sub	a,0x18
3828  1198  20 09       	jr	NZ,l_game_match_back_strict_00105
3829  119A  79          	ld	a, c
3830  119B  D6 18       	sub	a,0x18
3831  119D  20 04       	jr	NZ,l_game_match_back_strict_00105
3832  119F  2E 18       	ld	l,0x18
3833  11A1  18 10       	jr	l_game_match_back_strict_00113
3834  11A3              l_game_match_back_strict_00105:
3835  11A3  7B          	ld	a, e
3836  11A4  D6 0D       	sub	a,0x0d
3837  11A6  20 09       	jr	NZ,l_game_match_back_strict_00111
3838  11A8  79          	ld	a, c
3839  11A9  D6 0D       	sub	a,0x0d
3840  11AB  20 04       	jr	NZ,l_game_match_back_strict_00111
3841  11AD  2E 0D       	ld	l,0x0d
3842  11AF  18 02       	jr	l_game_match_back_strict_00113
3843  11B1              l_game_match_back_strict_00111:
3844  11B1  2E 00       	ld	l,0x00
3845  11B3              l_game_match_back_strict_00113:
3846  11B3  C9          	ret
3847  11B4              	SECTION code_compiler
3848  11B4              ;	---------------------------------
3849  11B4              ; Function game_match_back
3850  11B4              ; ---------------------------------
3851  11B4              _game_match_back:
3852  11B4  3E 01       	ld	a,0x01
3853  11B6  BD          	cp	a,l
3854  11B7  3E 00       	ld	a,0x00
3855  11B9  9C          	sbc	a,h
3856  11BA  30 3F       	jr	NC,l_game_match_back_00111
3857  11BC  7D          	ld	a,l
3858  11BD  E6 0F       	and	a,0x0f
3859  11BF  28 3A       	jr	Z,l_game_match_back_00111
3860  11C1  5D          	ld	e,l
3861  11C2  54          	ld	d,h
3862  11C3  4D          	ld	c,l
3863  11C4  44          	ld	b,h
3864  11C5  1B          	dec	de
3865  11C6  21 00 00    	ld	hl,_scr_map
3866  11C9  19          	add	hl, de
3867  11CA  5E          	ld	e, (hl)
3868  11CB  03          	inc	bc
3869  11CC  21 00 00    	ld	hl,_scr_map
3870  11CF  09          	add	hl, bc
3871  11D0  4E          	ld	c, (hl)
3872  11D1  7B          	ld	a, e
3873  11D2  D6 1D       	sub	a,0x1d
3874  11D4  28 05       	jr	Z,l_game_match_back_00101
3875  11D6  79          	ld	a, c
3876  11D7  D6 1D       	sub	a,0x1d
3877  11D9  20 04       	jr	NZ,l_game_match_back_00102
3878  11DB              l_game_match_back_00101:
3879  11DB  2E 1D       	ld	l,0x1d
3880  11DD  18 1E       	jr	l_game_match_back_00113
3881  11DF              l_game_match_back_00102:
3882  11DF  7B          	ld	a, e
3883  11E0  D6 18       	sub	a,0x18
3884  11E2  28 05       	jr	Z,l_game_match_back_00104
3885  11E4  79          	ld	a, c
3886  11E5  D6 18       	sub	a,0x18
3887  11E7  20 04       	jr	NZ,l_game_match_back_00105
3888  11E9              l_game_match_back_00104:
3889  11E9  2E 18       	ld	l,0x18
3890  11EB  18 10       	jr	l_game_match_back_00113
3891  11ED              l_game_match_back_00105:
3892  11ED  7B          	ld	a, e
3893  11EE  D6 0D       	sub	a,0x0d
3894  11F0  28 05       	jr	Z,l_game_match_back_00107
3895  11F2  79          	ld	a, c
3896  11F3  D6 0D       	sub	a,0x0d
3897  11F5  20 04       	jr	NZ,l_game_match_back_00111
3898  11F7              l_game_match_back_00107:
3899  11F7  2E 0D       	ld	l,0x0d
3900  11F9  18 02       	jr	l_game_match_back_00113
3901  11FB              l_game_match_back_00111:
3902  11FB  2E 00       	ld	l,0x00
3903  11FD              l_game_match_back_00113:
3904  11FD  C9          	ret
3905  11FE              	SECTION IGNORE
3906  0000              
