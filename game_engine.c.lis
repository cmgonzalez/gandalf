1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_draw_screen
191   0000              	GLOBAL _game_add_enemy
192   0000              	GLOBAL _game_print_footer
193   0000              	GLOBAL _game_phase_print_score_back
194   0000              	GLOBAL _game_update_stats
195   0000              	GLOBAL _game_tick
196   0000              	GLOBAL _game_start_timer
197   0000              	GLOBAL _game_round_init
198   0000              	GLOBAL _game_print_header
199   0000              	GLOBAL _game_check_map
200   0000              	GLOBAL _game_check_cell
201   0000              	GLOBAL _game_enemy_add_get_index
202   0000              	GLOBAL _game_print_score
203   0000              	GLOBAL _game_paint_attrib
204   0000              	GLOBAL _game_paint_attrib_lin
205   0000              	GLOBAL _game_paint_attrib_lin_h
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_end
210   0000              	GLOBAL _game_rotate_attrib
211   0000              	GLOBAL _game_colour_message
212   0000              	GLOBAL _game_check_time
213   0000              	GLOBAL _game_shoot_fire
214   0000              	GLOBAL _game_obj_set
215   0000              	GLOBAL _game_obj_chk
216   0000              ;--------------------------------------------------------
217   0000              ; Externals used
218   0000              ;--------------------------------------------------------
219   0000              	GLOBAL _ffsll_callee
220   0000              	GLOBAL _ffsll
221   0000              	GLOBAL _strxfrm_callee
222   0000              	GLOBAL _strxfrm
223   0000              	GLOBAL _strupr_fastcall
224   0000              	GLOBAL _strupr
225   0000              	GLOBAL _strtok_r_callee
226   0000              	GLOBAL _strtok_r
227   0000              	GLOBAL _strtok_callee
228   0000              	GLOBAL _strtok
229   0000              	GLOBAL _strstrip_fastcall
230   0000              	GLOBAL _strstrip
231   0000              	GLOBAL _strstr_callee
232   0000              	GLOBAL _strstr
233   0000              	GLOBAL _strspn_callee
234   0000              	GLOBAL _strspn
235   0000              	GLOBAL _strsep_callee
236   0000              	GLOBAL _strsep
237   0000              	GLOBAL _strrstrip_fastcall
238   0000              	GLOBAL _strrstrip
239   0000              	GLOBAL _strrspn_callee
240   0000              	GLOBAL _strrspn
241   0000              	GLOBAL _strrev_fastcall
242   0000              	GLOBAL _strrev
243   0000              	GLOBAL _strrcspn_callee
244   0000              	GLOBAL _strrcspn
245   0000              	GLOBAL _strrchr_callee
246   0000              	GLOBAL _strrchr
247   0000              	GLOBAL _strpbrk_callee
248   0000              	GLOBAL _strpbrk
249   0000              	GLOBAL _strnlen_callee
250   0000              	GLOBAL _strnlen
251   0000              	GLOBAL _strnicmp_callee
252   0000              	GLOBAL _strnicmp
253   0000              	GLOBAL _strndup_callee
254   0000              	GLOBAL _strndup
255   0000              	GLOBAL _strncpy_callee
256   0000              	GLOBAL _strncpy
257   0000              	GLOBAL _strncmp_callee
258   0000              	GLOBAL _strncmp
259   0000              	GLOBAL _strnchr_callee
260   0000              	GLOBAL _strnchr
261   0000              	GLOBAL _strncat_callee
262   0000              	GLOBAL _strncat
263   0000              	GLOBAL _strncasecmp_callee
264   0000              	GLOBAL _strncasecmp
265   0000              	GLOBAL _strlwr_fastcall
266   0000              	GLOBAL _strlwr
267   0000              	GLOBAL _strlen_fastcall
268   0000              	GLOBAL _strlen
269   0000              	GLOBAL _strlcpy_callee
270   0000              	GLOBAL _strlcpy
271   0000              	GLOBAL _strlcat_callee
272   0000              	GLOBAL _strlcat
273   0000              	GLOBAL _stricmp_callee
274   0000              	GLOBAL _stricmp
275   0000              	GLOBAL _strerror_fastcall
276   0000              	GLOBAL _strerror
277   0000              	GLOBAL _strdup_fastcall
278   0000              	GLOBAL _strdup
279   0000              	GLOBAL _strcspn_callee
280   0000              	GLOBAL _strcspn
281   0000              	GLOBAL _strcpy_callee
282   0000              	GLOBAL _strcpy
283   0000              	GLOBAL _strcoll_callee
284   0000              	GLOBAL _strcoll
285   0000              	GLOBAL _strcmp_callee
286   0000              	GLOBAL _strcmp
287   0000              	GLOBAL _strchrnul_callee
288   0000              	GLOBAL _strchrnul
289   0000              	GLOBAL _strchr_callee
290   0000              	GLOBAL _strchr
291   0000              	GLOBAL _strcat_callee
292   0000              	GLOBAL _strcat
293   0000              	GLOBAL _strcasecmp_callee
294   0000              	GLOBAL _strcasecmp
295   0000              	GLOBAL _stpncpy_callee
296   0000              	GLOBAL _stpncpy
297   0000              	GLOBAL _stpcpy_callee
298   0000              	GLOBAL _stpcpy
299   0000              	GLOBAL _memswap_callee
300   0000              	GLOBAL _memswap
301   0000              	GLOBAL _memset_callee
302   0000              	GLOBAL _memset
303   0000              	GLOBAL _memrchr_callee
304   0000              	GLOBAL _memrchr
305   0000              	GLOBAL _memmove_callee
306   0000              	GLOBAL _memmove
307   0000              	GLOBAL _memmem_callee
308   0000              	GLOBAL _memmem
309   0000              	GLOBAL _memcpy_callee
310   0000              	GLOBAL _memcpy
311   0000              	GLOBAL _memcmp_callee
312   0000              	GLOBAL _memcmp
313   0000              	GLOBAL _memchr_callee
314   0000              	GLOBAL _memchr
315   0000              	GLOBAL _memccpy_callee
316   0000              	GLOBAL _memccpy
317   0000              	GLOBAL _ffsl_fastcall
318   0000              	GLOBAL _ffsl
319   0000              	GLOBAL _ffs_fastcall
320   0000              	GLOBAL _ffs
321   0000              	GLOBAL __strrstrip__fastcall
322   0000              	GLOBAL __strrstrip_
323   0000              	GLOBAL __memupr__callee
324   0000              	GLOBAL __memupr_
325   0000              	GLOBAL __memstrcpy__callee
326   0000              	GLOBAL __memstrcpy_
327   0000              	GLOBAL __memlwr__callee
328   0000              	GLOBAL __memlwr_
329   0000              	GLOBAL _rawmemchr_callee
330   0000              	GLOBAL _rawmemchr
331   0000              	GLOBAL _strnset_callee
332   0000              	GLOBAL _strnset
333   0000              	GLOBAL _strset_callee
334   0000              	GLOBAL _strset
335   0000              	GLOBAL _rindex_callee
336   0000              	GLOBAL _rindex
337   0000              	GLOBAL _index_callee
338   0000              	GLOBAL _index
339   0000              	GLOBAL _bzero_callee
340   0000              	GLOBAL _bzero
341   0000              	GLOBAL _bcopy_callee
342   0000              	GLOBAL _bcopy
343   0000              	GLOBAL _bcmp_callee
344   0000              	GLOBAL _bcmp
345   0000              	GLOBAL _ulltoa_callee
346   0000              	GLOBAL _ulltoa
347   0000              	GLOBAL _strtoull_callee
348   0000              	GLOBAL _strtoull
349   0000              	GLOBAL _strtoll_callee
350   0000              	GLOBAL _strtoll
351   0000              	GLOBAL _lltoa_callee
352   0000              	GLOBAL _lltoa
353   0000              	GLOBAL _llabs_callee
354   0000              	GLOBAL _llabs
355   0000              	GLOBAL __lldivu__callee
356   0000              	GLOBAL __lldivu_
357   0000              	GLOBAL __lldiv__callee
358   0000              	GLOBAL __lldiv_
359   0000              	GLOBAL _atoll_callee
360   0000              	GLOBAL _atoll
361   0000              	GLOBAL _realloc_unlocked_callee
362   0000              	GLOBAL _realloc_unlocked
363   0000              	GLOBAL _malloc_unlocked_fastcall
364   0000              	GLOBAL _malloc_unlocked
365   0000              	GLOBAL _free_unlocked_fastcall
366   0000              	GLOBAL _free_unlocked
367   0000              	GLOBAL _calloc_unlocked_callee
368   0000              	GLOBAL _calloc_unlocked
369   0000              	GLOBAL _aligned_alloc_unlocked_callee
370   0000              	GLOBAL _aligned_alloc_unlocked
371   0000              	GLOBAL _realloc_callee
372   0000              	GLOBAL _realloc
373   0000              	GLOBAL _malloc_fastcall
374   0000              	GLOBAL _malloc
375   0000              	GLOBAL _free_fastcall
376   0000              	GLOBAL _free
377   0000              	GLOBAL _calloc_callee
378   0000              	GLOBAL _calloc
379   0000              	GLOBAL _aligned_alloc_callee
380   0000              	GLOBAL _aligned_alloc
381   0000              	GLOBAL _utoa_callee
382   0000              	GLOBAL _utoa
383   0000              	GLOBAL _ultoa_callee
384   0000              	GLOBAL _ultoa
385   0000              	GLOBAL _system_fastcall
386   0000              	GLOBAL _system
387   0000              	GLOBAL _strtoul_callee
388   0000              	GLOBAL _strtoul
389   0000              	GLOBAL _strtol_callee
390   0000              	GLOBAL _strtol
391   0000              	GLOBAL _strtof_callee
392   0000              	GLOBAL _strtof
393   0000              	GLOBAL _strtod_callee
394   0000              	GLOBAL _strtod
395   0000              	GLOBAL _srand_fastcall
396   0000              	GLOBAL _srand
397   0000              	GLOBAL _rand
398   0000              	GLOBAL _quick_exit_fastcall
399   0000              	GLOBAL _quick_exit
400   0000              	GLOBAL _qsort_callee
401   0000              	GLOBAL _qsort
402   0000              	GLOBAL _ltoa_callee
403   0000              	GLOBAL _ltoa
404   0000              	GLOBAL _labs_fastcall
405   0000              	GLOBAL _labs
406   0000              	GLOBAL _itoa_callee
407   0000              	GLOBAL _itoa
408   0000              	GLOBAL _ftoh_callee
409   0000              	GLOBAL _ftoh
410   0000              	GLOBAL _ftog_callee
411   0000              	GLOBAL _ftog
412   0000              	GLOBAL _ftoe_callee
413   0000              	GLOBAL _ftoe
414   0000              	GLOBAL _ftoa_callee
415   0000              	GLOBAL _ftoa
416   0000              	GLOBAL _exit_fastcall
417   0000              	GLOBAL _exit
418   0000              	GLOBAL _dtoh_callee
419   0000              	GLOBAL _dtoh
420   0000              	GLOBAL _dtog_callee
421   0000              	GLOBAL _dtog
422   0000              	GLOBAL _dtoe_callee
423   0000              	GLOBAL _dtoe
424   0000              	GLOBAL _dtoa_callee
425   0000              	GLOBAL _dtoa
426   0000              	GLOBAL _bsearch_callee
427   0000              	GLOBAL _bsearch
428   0000              	GLOBAL _atol_fastcall
429   0000              	GLOBAL _atol
430   0000              	GLOBAL _atoi_fastcall
431   0000              	GLOBAL _atoi
432   0000              	GLOBAL _atof_fastcall
433   0000              	GLOBAL _atof
434   0000              	GLOBAL _atexit_fastcall
435   0000              	GLOBAL _atexit
436   0000              	GLOBAL _at_quick_exit_fastcall
437   0000              	GLOBAL _at_quick_exit
438   0000              	GLOBAL _abs_fastcall
439   0000              	GLOBAL _abs
440   0000              	GLOBAL _abort
441   0000              	GLOBAL __strtou__callee
442   0000              	GLOBAL __strtou_
443   0000              	GLOBAL __strtoi__callee
444   0000              	GLOBAL __strtoi_
445   0000              	GLOBAL __random_uniform_xor_8__fastcall
446   0000              	GLOBAL __random_uniform_xor_8_
447   0000              	GLOBAL __random_uniform_xor_32__fastcall
448   0000              	GLOBAL __random_uniform_xor_32_
449   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
450   0000              	GLOBAL __random_uniform_cmwc_8_
451   0000              	GLOBAL __shellsort__callee
452   0000              	GLOBAL __shellsort_
453   0000              	GLOBAL __quicksort__callee
454   0000              	GLOBAL __quicksort_
455   0000              	GLOBAL __insertion_sort__callee
456   0000              	GLOBAL __insertion_sort_
457   0000              	GLOBAL __ldivu__callee
458   0000              	GLOBAL __ldivu_
459   0000              	GLOBAL __ldiv__callee
460   0000              	GLOBAL __ldiv_
461   0000              	GLOBAL __divu__callee
462   0000              	GLOBAL __divu_
463   0000              	GLOBAL __div__callee
464   0000              	GLOBAL __div_
465   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
466   0000              	GLOBAL _NIRVANAP_drawTW_raw
467   0000              	GLOBAL _NIRVANAP_drawTW_callee
468   0000              	GLOBAL _NIRVANAP_drawTW
469   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawW_raw
471   0000              	GLOBAL _NIRVANAP_drawW_callee
472   0000              	GLOBAL _NIRVANAP_drawW
473   0000              	GLOBAL _NIRVANAP_spriteT_callee
474   0000              	GLOBAL _NIRVANAP_spriteT
475   0000              	GLOBAL _NIRVANAP_fillC_callee
476   0000              	GLOBAL _NIRVANAP_fillC
477   0000              	GLOBAL _NIRVANAP_readC_callee
478   0000              	GLOBAL _NIRVANAP_readC
479   0000              	GLOBAL _NIRVANAP_paintC_callee
480   0000              	GLOBAL _NIRVANAP_paintC
481   0000              	GLOBAL _NIRVANAP_printC_callee
482   0000              	GLOBAL _NIRVANAP_printC
483   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
484   0000              	GLOBAL _NIRVANAP_fillT_raw
485   0000              	GLOBAL _NIRVANAP_fillT_callee
486   0000              	GLOBAL _NIRVANAP_fillT
487   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
488   0000              	GLOBAL _NIRVANAP_drawT_raw
489   0000              	GLOBAL _NIRVANAP_drawT_callee
490   0000              	GLOBAL _NIRVANAP_drawT
491   0000              	GLOBAL _NIRVANAP_stop
492   0000              	GLOBAL _NIRVANAP_start
493   0000              	GLOBAL _debug3
494   0000              	GLOBAL _debug2
495   0000              	GLOBAL _debug
496   0000              	GLOBAL _zx_print_str
497   0000              	GLOBAL _zx_print_int
498   0000              	GLOBAL _zx_print_chr
499   0000              	GLOBAL _zx_print_bonus_time
500   0000              	GLOBAL _zx_isr
501   0000              	GLOBAL _z80_otdr_callee
502   0000              	GLOBAL _z80_otdr
503   0000              	GLOBAL _z80_otir_callee
504   0000              	GLOBAL _z80_otir
505   0000              	GLOBAL _z80_outp_callee
506   0000              	GLOBAL _z80_outp
507   0000              	GLOBAL _z80_indr_callee
508   0000              	GLOBAL _z80_indr
509   0000              	GLOBAL _z80_inir_callee
510   0000              	GLOBAL _z80_inir
511   0000              	GLOBAL _z80_inp_fastcall
512   0000              	GLOBAL _z80_inp
513   0000              	GLOBAL _z80_set_int_state_fastcall
514   0000              	GLOBAL _z80_set_int_state
515   0000              	GLOBAL _z80_get_int_state
516   0000              	GLOBAL _z80_delay_tstate_fastcall
517   0000              	GLOBAL _z80_delay_tstate
518   0000              	GLOBAL _z80_delay_ms_fastcall
519   0000              	GLOBAL _z80_delay_ms
520   0000              	GLOBAL _im2_remove_generic_callback_callee
521   0000              	GLOBAL _im2_remove_generic_callback
522   0000              	GLOBAL _im2_prepend_generic_callback_callee
523   0000              	GLOBAL _im2_prepend_generic_callback
524   0000              	GLOBAL _im2_append_generic_callback_callee
525   0000              	GLOBAL _im2_append_generic_callback
526   0000              	GLOBAL _im2_create_generic_isr_8080_callee
527   0000              	GLOBAL _im2_create_generic_isr_8080
528   0000              	GLOBAL _im2_create_generic_isr_callee
529   0000              	GLOBAL _im2_create_generic_isr
530   0000              	GLOBAL _im2_install_isr_callee
531   0000              	GLOBAL _im2_install_isr
532   0000              	GLOBAL _im2_init_fastcall
533   0000              	GLOBAL _im2_init
534   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
535   0000              	GLOBAL _intrinsic_swap_word_32
536   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
537   0000              	GLOBAL _intrinsic_swap_endian_32
538   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
539   0000              	GLOBAL _intrinsic_swap_endian_16
540   0000              	GLOBAL _intrinsic_return_de
541   0000              	GLOBAL _intrinsic_return_bc
542   0000              	GLOBAL _intrinsic_exx
543   0000              	GLOBAL _intrinsic_ex_de_hl
544   0000              	GLOBAL _intrinsic_nop
545   0000              	GLOBAL _intrinsic_im_2
546   0000              	GLOBAL _intrinsic_im_1
547   0000              	GLOBAL _intrinsic_im_0
548   0000              	GLOBAL _intrinsic_retn
549   0000              	GLOBAL _intrinsic_reti
550   0000              	GLOBAL _intrinsic_halt
551   0000              	GLOBAL _intrinsic_ei
552   0000              	GLOBAL _intrinsic_di
553   0000              	GLOBAL _intrinsic_stub
554   0000              	GLOBAL _intrinsic_outi
555   0000              	GLOBAL _intrinsic_ldi
556   0000              	GLOBAL _zx_pattern_fill_callee
557   0000              	GLOBAL _zx_pattern_fill
558   0000              	GLOBAL _zx_saddrpup_fastcall
559   0000              	GLOBAL _zx_saddrpup
560   0000              	GLOBAL _zx_saddrpright_callee
561   0000              	GLOBAL _zx_saddrpright
562   0000              	GLOBAL _zx_saddrpleft_callee
563   0000              	GLOBAL _zx_saddrpleft
564   0000              	GLOBAL _zx_saddrpdown_fastcall
565   0000              	GLOBAL _zx_saddrpdown
566   0000              	GLOBAL _zx_saddrcup_fastcall
567   0000              	GLOBAL _zx_saddrcup
568   0000              	GLOBAL _zx_saddrcright_fastcall
569   0000              	GLOBAL _zx_saddrcright
570   0000              	GLOBAL _zx_saddrcleft_fastcall
571   0000              	GLOBAL _zx_saddrcleft
572   0000              	GLOBAL _zx_saddrcdown_fastcall
573   0000              	GLOBAL _zx_saddrcdown
574   0000              	GLOBAL _zx_saddr2py_fastcall
575   0000              	GLOBAL _zx_saddr2py
576   0000              	GLOBAL _zx_saddr2px_fastcall
577   0000              	GLOBAL _zx_saddr2px
578   0000              	GLOBAL _zx_saddr2cy_fastcall
579   0000              	GLOBAL _zx_saddr2cy
580   0000              	GLOBAL _zx_saddr2cx_fastcall
581   0000              	GLOBAL _zx_saddr2cx
582   0000              	GLOBAL _zx_saddr2aaddr_fastcall
583   0000              	GLOBAL _zx_saddr2aaddr
584   0000              	GLOBAL _zx_py2saddr_fastcall
585   0000              	GLOBAL _zx_py2saddr
586   0000              	GLOBAL _zx_py2aaddr_fastcall
587   0000              	GLOBAL _zx_py2aaddr
588   0000              	GLOBAL _zx_pxy2saddr_callee
589   0000              	GLOBAL _zx_pxy2saddr
590   0000              	GLOBAL _zx_pxy2aaddr_callee
591   0000              	GLOBAL _zx_pxy2aaddr
592   0000              	GLOBAL _zx_px2bitmask_fastcall
593   0000              	GLOBAL _zx_px2bitmask
594   0000              	GLOBAL _zx_cy2saddr_fastcall
595   0000              	GLOBAL _zx_cy2saddr
596   0000              	GLOBAL _zx_cy2aaddr_fastcall
597   0000              	GLOBAL _zx_cy2aaddr
598   0000              	GLOBAL _zx_cxy2saddr_callee
599   0000              	GLOBAL _zx_cxy2saddr
600   0000              	GLOBAL _zx_cxy2aaddr_callee
601   0000              	GLOBAL _zx_cxy2aaddr
602   0000              	GLOBAL _zx_bitmask2px_fastcall
603   0000              	GLOBAL _zx_bitmask2px
604   0000              	GLOBAL _zx_aaddrcup_fastcall
605   0000              	GLOBAL _zx_aaddrcup
606   0000              	GLOBAL _zx_aaddrcright_fastcall
607   0000              	GLOBAL _zx_aaddrcright
608   0000              	GLOBAL _zx_aaddrcleft_fastcall
609   0000              	GLOBAL _zx_aaddrcleft
610   0000              	GLOBAL _zx_aaddrcdown_fastcall
611   0000              	GLOBAL _zx_aaddrcdown
612   0000              	GLOBAL _zx_aaddr2saddr_fastcall
613   0000              	GLOBAL _zx_aaddr2saddr
614   0000              	GLOBAL _zx_aaddr2py_fastcall
615   0000              	GLOBAL _zx_aaddr2py
616   0000              	GLOBAL _zx_aaddr2px_fastcall
617   0000              	GLOBAL _zx_aaddr2px
618   0000              	GLOBAL _zx_aaddr2cy_fastcall
619   0000              	GLOBAL _zx_aaddr2cy
620   0000              	GLOBAL _zx_aaddr2cx_fastcall
621   0000              	GLOBAL _zx_aaddr2cx
622   0000              	GLOBAL _zx_visit_wc_pix_callee
623   0000              	GLOBAL _zx_visit_wc_pix
624   0000              	GLOBAL _zx_visit_wc_attr_callee
625   0000              	GLOBAL _zx_visit_wc_attr
626   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
627   0000              	GLOBAL _zx_scroll_wc_up_pix
628   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
629   0000              	GLOBAL _zx_scroll_wc_up_attr
630   0000              	GLOBAL _zx_scroll_wc_up_callee
631   0000              	GLOBAL _zx_scroll_wc_up
632   0000              	GLOBAL _zx_scroll_up_pix_callee
633   0000              	GLOBAL _zx_scroll_up_pix
634   0000              	GLOBAL _zx_scroll_up_attr_callee
635   0000              	GLOBAL _zx_scroll_up_attr
636   0000              	GLOBAL _zx_scroll_up_callee
637   0000              	GLOBAL _zx_scroll_up
638   0000              	GLOBAL _zx_cls_wc_pix_callee
639   0000              	GLOBAL _zx_cls_wc_pix
640   0000              	GLOBAL _zx_cls_wc_attr_callee
641   0000              	GLOBAL _zx_cls_wc_attr
642   0000              	GLOBAL _zx_cls_wc_callee
643   0000              	GLOBAL _zx_cls_wc
644   0000              	GLOBAL _zx_cls_pix_fastcall
645   0000              	GLOBAL _zx_cls_pix
646   0000              	GLOBAL _zx_cls_attr_fastcall
647   0000              	GLOBAL _zx_cls_attr
648   0000              	GLOBAL _zx_cls_fastcall
649   0000              	GLOBAL _zx_cls
650   0000              	GLOBAL _zx_border_fastcall
651   0000              	GLOBAL _zx_border
652   0000              	GLOBAL _spr_btile_paint_back
653   0000              	GLOBAL _spr_explode_bullet
654   0000              	GLOBAL _spr_init_anim_bullets
655   0000              	GLOBAL _spr_turn_horizontal
656   0000              	GLOBAL _spr_play_bullets
657   0000              	GLOBAL _spr_play_anim
658   0000              	GLOBAL _spr_add_anim
659   0000              	GLOBAL _spr_page_map
660   0000              	GLOBAL _spr_page_right
661   0000              	GLOBAL _spr_page_left
662   0000              	GLOBAL _spr_tile_paint
663   0000              	GLOBAL _spr_calc_hor
664   0000              	GLOBAL _spr_draw_row
665   0000              	GLOBAL _spr_draw_index
666   0000              	GLOBAL _spr_draw_clear
667   0000              	GLOBAL _spr_brick_anim
668   0000              	GLOBAL _spr_back_repaint
669   0000              	GLOBAL _spr_tile
670   0000              	GLOBAL _spr_destroy
671   0000              	GLOBAL _spr_tile_dir
672   0000              	GLOBAL _spr_redraw
673   0000              	GLOBAL _spr_move_left
674   0000              	GLOBAL _spr_move_right
675   0000              	GLOBAL _spr_move_horizontal
676   0000              	GLOBAL _spr_move_down
677   0000              	GLOBAL _spr_move_up
678   0000              	GLOBAL _spr_calc_index
679   0000              	GLOBAL _spr_chktime
680   0000              	GLOBAL _sound_hit_brick
681   0000              	GLOBAL _sound_hit_enemy
682   0000              	GLOBAL _sound_kill
683   0000              	GLOBAL _sound_enter_enemy
684   0000              	GLOBAL _sound_coin
685   0000              	GLOBAL _sound_jump
686   0000              	GLOBAL _sound_slide
687   0000              	GLOBAL _player_lost_life
688   0000              	GLOBAL _player_hit
689   0000              	GLOBAL _player_open_door
690   0000              	GLOBAL _player_move_jump
691   0000              	GLOBAL _player_fire
692   0000              	GLOBAL _player_check_stairs_down
693   0000              	GLOBAL _player_check_stairs
694   0000              	GLOBAL _player_tile
695   0000              	GLOBAL _player_pick_item
696   0000              	GLOBAL _player_check_floor
697   0000              	GLOBAL _player_hit_platform_clear
698   0000              	GLOBAL _player_score_add
699   0000              	GLOBAL _player_player_hit_pow
700   0000              	GLOBAL _player_hit_platform
701   0000              	GLOBAL _player_move_input
702   0000              	GLOBAL _player_turn
703   0000              	GLOBAL _player_move
704   0000              	GLOBAL _player_restart
705   0000              	GLOBAL _player_kill
706   0000              	GLOBAL _player_check_input
707   0000              	GLOBAL _player_collision
708   0000              	GLOBAL _player_init
709   0000              	GLOBAL _game_unfreeze_all
710   0000              	GLOBAL _game_freeze_all
711   0000              	GLOBAL _game_freeze
712   0000              	GLOBAL _game_fill_row
713   0000              	GLOBAL _enemy_avoid_fall_dead
714   0000              	GLOBAL _enemy_avoid_fall
715   0000              	GLOBAL _enemy_respawn
716   0000              	GLOBAL _enemy_init
717   0000              	GLOBAL _enemy_move
718   0000              	GLOBAL _enemy_turn
719   0000              	GLOBAL _enemy_hit
720   0000              	GLOBAL _enemy_coin1
721   0000              	GLOBAL _enemy_static
722   0000              	GLOBAL _enemy_walk
723   0000              	GLOBAL _enemy_horizontal
724   0000              	GLOBAL _enemy_vertical
725   0000              	GLOBAL _ay_fx_play
726   0000              	GLOBAL _ay_midi_play
727   0000              	GLOBAL _ay_is_playing
728   0000              	GLOBAL _ay_reset
729   0000              	GLOBAL _test_func
730   0000              	GLOBAL _test_proc
731   0000              	GLOBAL _in_mouse_kempston_wheel_delta
732   0000              	GLOBAL _in_mouse_kempston_wheel
733   0000              	GLOBAL _in_mouse_kempston_callee
734   0000              	GLOBAL _in_mouse_kempston
735   0000              	GLOBAL _in_mouse_kempston_setpos_callee
736   0000              	GLOBAL _in_mouse_kempston_setpos
737   0000              	GLOBAL _in_mouse_kempston_reset
738   0000              	GLOBAL _in_mouse_kempston_init
739   0000              	GLOBAL _in_mouse_amx_wheel_delta
740   0000              	GLOBAL _in_mouse_amx_wheel
741   0000              	GLOBAL _in_mouse_amx_callee
742   0000              	GLOBAL _in_mouse_amx
743   0000              	GLOBAL _in_mouse_amx_setpos_callee
744   0000              	GLOBAL _in_mouse_amx_setpos
745   0000              	GLOBAL _in_mouse_amx_reset
746   0000              	GLOBAL _in_mouse_amx_init_callee
747   0000              	GLOBAL _in_mouse_amx_init
748   0000              	GLOBAL _in_stick_sinclair2
749   0000              	GLOBAL _in_stick_sinclair1
750   0000              	GLOBAL _in_stick_kempston
751   0000              	GLOBAL _in_stick_fuller
752   0000              	GLOBAL _in_stick_cursor
753   0000              	GLOBAL _in_stick_keyboard_fastcall
754   0000              	GLOBAL _in_stick_keyboard
755   0000              	GLOBAL _in_wait_nokey
756   0000              	GLOBAL _in_wait_key
757   0000              	GLOBAL _in_test_key
758   0000              	GLOBAL _in_pause_fastcall
759   0000              	GLOBAL _in_pause
760   0000              	GLOBAL _in_key_scancode_fastcall
761   0000              	GLOBAL _in_key_scancode
762   0000              	GLOBAL _in_key_pressed_fastcall
763   0000              	GLOBAL _in_key_pressed
764   0000              	GLOBAL _in_inkey
765   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
766   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
767   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
768   0000              	GLOBAL _NIRVANAP_HOLE
769   0000              	GLOBAL _NIRVANAP_ISR_HOOK
770   0000              	GLOBAL _map_paper_last
771   0000              	GLOBAL _map_paper_clr
772   0000              	GLOBAL _map_paper
773   0000              	GLOBAL _draw_count
774   0000              	GLOBAL _g_player_hit_right
775   0000              	GLOBAL _g_player_hit_left
776   0000              	GLOBAL _joynames
777   0000              	GLOBAL _initials
778   0000              	GLOBAL _bullet_count
779   0000              	GLOBAL _bullet_frames
780   0000              	GLOBAL _bullet_colint
781   0000              	GLOBAL _bullet_dir
782   0000              	GLOBAL _bullet_tile
783   0000              	GLOBAL _bullet_col
784   0000              	GLOBAL _bullet_lin
785   0000              	GLOBAL _mush_class
786   0000              	GLOBAL _mush_index
787   0000              	GLOBAL _anim_count
788   0000              	GLOBAL _anim_respanwn
789   0000              	GLOBAL _anim_loop
790   0000              	GLOBAL _anim_end
791   0000              	GLOBAL _anim_int
792   0000              	GLOBAL _anim_tile
793   0000              	GLOBAL _anim_col
794   0000              	GLOBAL _anim_lin
795   0000              	GLOBAL _phase_curr
796   0000              	GLOBAL _map_heigth
797   0000              	GLOBAL _map_width
798   0000              	GLOBAL _scr_curr
799   0000              	GLOBAL _scr_obj1
800   0000              	GLOBAL _scr_obj0
801   0000              	GLOBAL _scr_map
802   0000              	GLOBAL _sprite_speed_alt
803   0000              	GLOBAL _sprite_frames
804   0000              	GLOBAL _sprite_speed
805   0000              	GLOBAL _screen_ink
806   0000              	GLOBAL _screen_paper
807   0000              	GLOBAL _player_over_stair
808   0000              	GLOBAL _game_start_scr
809   0000              	GLOBAL _game_respawning
810   0000              	GLOBAL _game_respawn_tile
811   0000              	GLOBAL _game_respawn_index
812   0000              	GLOBAL _game_menu_sel
813   0000              	GLOBAL _game_score_top
814   0000              	GLOBAL _player_lives
815   0000              	GLOBAL _game_over
816   0000              	GLOBAL _game_sound
817   0000              	GLOBAL _game_inmune
818   0000              	GLOBAL _game_god_mode
819   0000              	GLOBAL _game_two_player
820   0000              	GLOBAL _game_brick_tile
821   0000              	GLOBAL _sprite_curr_index
822   0000              	GLOBAL _spr_count
823   0000              	GLOBAL _bullet_time
824   0000              	GLOBAL _anim_time
825   0000              	GLOBAL _frame_time
826   0000              	GLOBAL _entry_time
827   0000              	GLOBAL _curr_time
828   0000              	GLOBAL _s_state
829   0000              	GLOBAL _attrib_hl
830   0000              	GLOBAL _attrib
831   0000              	GLOBAL _zx_val_asm
832   0000              	GLOBAL _enemies
833   0000              	GLOBAL _tmp_ui
834   0000              	GLOBAL _tmp_sc
835   0000              	GLOBAL _tmp_uc
836   0000              	GLOBAL _tmp1
837   0000              	GLOBAL _tmp0
838   0000              	GLOBAL _tmp
839   0000              	GLOBAL _index1
840   0000              	GLOBAL _index0
841   0000              	GLOBAL _loop_count
842   0000              	GLOBAL _s_col1
843   0000              	GLOBAL _s_col0
844   0000              	GLOBAL _s_lin1
845   0000              	GLOBAL _s_lin0
846   0000              	GLOBAL _s_tile1
847   0000              	GLOBAL _s_tile0
848   0000              	GLOBAL _player_hit_count
849   0000              	GLOBAL _sprite_horizontal_check
850   0000              	GLOBAL _sprite_on_air
851   0000              	GLOBAL _sprite
852   0000              	GLOBAL _game_gravity
853   0000              	GLOBAL _player_hit_time
854   0000              	GLOBAL _player_int
855   0000              	GLOBAL _player_dex
856   0000              	GLOBAL _player_str
857   0000              	GLOBAL _player_vita
858   0000              	GLOBAL _player_mana
859   0000              	GLOBAL _player_keys
860   0000              	GLOBAL _player_vel_inc
861   0000              	GLOBAL _player_vel_y1
862   0000              	GLOBAL _player_vel_y0
863   0000              	GLOBAL _player_vel_y
864   0000              	GLOBAL _player_vel_x
865   0000              	GLOBAL _player_joy
866   0000              	GLOBAL _player_score
867   0000              	GLOBAL _last_time
868   0000              	GLOBAL _player_slide
869   0000              	GLOBAL _spr_timer
870   0000              	GLOBAL _jump_lin
871   0000              	GLOBAL _player_hit_col
872   0000              	GLOBAL _player_hit_lin
873   0000              	GLOBAL _colint
874   0000              	GLOBAL _col
875   0000              	GLOBAL _lin
876   0000              	GLOBAL _tile
877   0000              	GLOBAL _state_a
878   0000              	GLOBAL _state
879   0000              	GLOBAL _class
880   0000              	GLOBAL _tbuffer
881   0000              	GLOBAL _dirs
882   0000              	GLOBAL _k1
883   0000              	GLOBAL _joyfunc1
884   0000              	GLOBAL _btiles
885   0000              	GLOBAL _spec128
886   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
887   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
888   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
889   0000              	GLOBAL _ay_effect_20
890   0000              	GLOBAL _ay_effect_19
891   0000              	GLOBAL _ay_effect_18
892   0000              	GLOBAL _ay_effect_17
893   0000              	GLOBAL _ay_effect_16
894   0000              	GLOBAL _ay_effect_15
895   0000              	GLOBAL _ay_effect_14
896   0000              	GLOBAL _ay_effect_13
897   0000              	GLOBAL _ay_effect_12
898   0000              	GLOBAL _ay_effect_11
899   0000              	GLOBAL _ay_effect_10
900   0000              	GLOBAL _ay_effect_09
901   0000              	GLOBAL _ay_effect_08
902   0000              	GLOBAL _ay_effect_07
903   0000              	GLOBAL _ay_effect_06
904   0000              	GLOBAL _ay_effect_05
905   0000              	GLOBAL _ay_effect_04
906   0000              	GLOBAL _ay_effect_03
907   0000              	GLOBAL _ay_effect_02
908   0000              	GLOBAL _ay_effect_01
909   0000              	GLOBAL _pb_midi_phase_1
910   0000              	GLOBAL _pb_midi_title
911   0000              	GLOBAL _control_method
912   0000              	GLOBAL _world0
913   0000              	GLOBAL _lenght0
914   0000              	GLOBAL _start_scr0
915   0000              ;--------------------------------------------------------
916   0000              ; special function registers
917   0000              ;--------------------------------------------------------
918   0000              defc _IO_FE	=	0x00fe
919   0000              defc _IO_1FFD	=	0x1ffd
920   0000              defc _IO_7FFD	=	0x7ffd
921   0000              ;--------------------------------------------------------
922   0000              ; ram data
923   0000              ;--------------------------------------------------------
924   0000              	SECTION bss_compiler
925   0000              ;--------------------------------------------------------
926   0000              ; ram data
927   0000              ;--------------------------------------------------------
928   0000              
929   0000              IF 0
930   0000              
931   0000              ; .area _INITIALIZED removed by z88dk
932   0000              
933   0000              
934   0000              ENDIF
935   0000              
936   0000              ;--------------------------------------------------------
937   0000              ; absolute external ram data
938   0000              ;--------------------------------------------------------
939   0000              	SECTION IGNORE
940   0000              ;--------------------------------------------------------
941   0000              ; global & static initialisations
942   0000              ;--------------------------------------------------------
943   0000              	SECTION code_crt_init
944   0000              ;--------------------------------------------------------
945   0000              ; Home
946   0000              ;--------------------------------------------------------
947   0000              	SECTION IGNORE
948   0000              ;--------------------------------------------------------
949   0000              ; code
950   0000              ;--------------------------------------------------------
951   0000              	SECTION code_compiler
952   0000              ;	---------------------------------
953   0000              ; Function game_loop
954   0000              ; ---------------------------------
955   0000              _game_loop:
956   0000  CD 00 00    	call	___sdcc_enter_ix
957   0003  F5          	push	af
958   0004  CD 02 06    	call	_game_round_init
959   0007  21 00 00    	ld	hl,_dirs
960   000A  36 00       	ld	(hl),0x00
961   000C  CD 8D 08    	call	_game_joystick_set
962   000F  21 00 00    	ld	hl,0x0000
963   0012  E3          	ex	(sp), hl
964   0013              l_game_loop_00119:
965   0013  3A 00 00    	ld	a,(_game_over)
966   0016  B7          	or	a, a
967   0017  C2 2F 01    	jp	NZ, l_game_loop_00122
968   001A  21 06 00    	ld	hl,0x0006
969   001D  E5          	push	hl
970   001E  2A 00 00    	ld	hl,(_anim_time)
971   0021  E5          	push	hl
972   0022  CD 3C 09    	call	_game_check_time
973   0025  F1          	pop	af
974   0026  F1          	pop	af
975   0027  7D          	ld	a, l
976   0028  B7          	or	a, a
977   0029  28 14       	jr	Z,l_game_loop_00104
978   002B  2E 00       	ld	l,0x00
979   002D  CD 00 00    	call	_zx_border_fastcall
980   0030  2A 00 00    	ld	hl,(_curr_time)
981   0033  22 00 00    	ld	(_anim_time),hl
982   0036  3A 00 00    	ld	a,(_anim_count)
983   0039  B7          	or	a,a
984   003A  28 03       	jr	Z,l_game_loop_00104
985   003C  CD 00 00    	call	_spr_play_anim
986   003F              l_game_loop_00104:
987   003F  21 02 00    	ld	hl,0x0002
988   0042  E5          	push	hl
989   0043  2A 00 00    	ld	hl,(_bullet_time)
990   0046  E5          	push	hl
991   0047  CD 3C 09    	call	_game_check_time
992   004A  F1          	pop	af
993   004B  F1          	pop	af
994   004C  7D          	ld	a, l
995   004D  B7          	or	a, a
996   004E  28 0F       	jr	Z,l_game_loop_00108
997   0050  2A 00 00    	ld	hl,(_curr_time)
998   0053  22 00 00    	ld	(_bullet_time),hl
999   0056  3A 00 00    	ld	a,(_bullet_count)
1000  0059  B7          	or	a,a
1001  005A  28 03       	jr	Z,l_game_loop_00108
1002  005C  CD 00 00    	call	_spr_play_bullets
1003  005F              l_game_loop_00108:
1004  005F  21 00 00    	ld	hl,_sprite
1005  0062  36 07       	ld	(hl),0x07
1006  0064  CD 00 00    	call	_player_turn
1007  0067  CD 00 00    	call	_enemy_turn
1008  006A  21 64 00    	ld	hl,0x0064
1009  006D  E5          	push	hl
1010  006E  2A 00 00    	ld	hl,(_frame_time)
1011  0071  E5          	push	hl
1012  0072  CD 3C 09    	call	_game_check_time
1013  0075  F1          	pop	af
1014  0076  F1          	pop	af
1015  0077  7D          	ld	a, l
1016  0078  B7          	or	a, a
1017  0079  CA 1B 01    	jp	Z, l_game_loop_00118
1018  007C  21 00 00    	ld	hl,_screen_ink
1019  007F  36 07       	ld	(hl),0x07
1020  0081  E1          	pop	hl
1021  0082  E5          	push	hl
1022  0083  E5          	push	hl
1023  0084  21 17 18    	ld	hl,0x1817
1024  0087  E5          	push	hl
1025  0088  CD 00 00    	call	_zx_print_int
1026  008B  21 00 00    	ld	hl,0x0000
1027  008E  E3          	ex	(sp), hl
1028  008F  2A 00 00    	ld	hl,(_curr_time)
1029  0092  22 00 00    	ld	(_frame_time),hl
1030  0095  3A 00 00    	ld	a,(_game_respawning)
1031  0098  B7          	or	a,a
1032  0099  C2 1B 01    	jp	NZ,l_game_loop_00118
1033  009C  21 00 00    	ld	hl,_sprite
1034  009F  36 00       	ld	(hl),0x00
1035  00A1              l_game_loop_00112:
1036  00A1  21 00 00    	ld	hl,_sprite
1037  00A4  7E          	ld	a, (hl)
1038  00A5  D6 07       	sub	a,0x07
1039  00A7  30 72       	jr	NC,l_game_loop_00118
1040  00A9  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1041  00AB  86          	add	a, (hl)
1042  00AC  4F          	ld	c, a
1043  00AD  3E 00       	ld	a, +((_game_respawn_index) / 256)
1044  00AF  CE 00       	adc	a,0x00
1045  00B1  47          	ld	b, a
1046  00B2  0A          	ld	a, (bc)
1047  00B3  4F          	ld	c,a
1048  00B4  B7          	or	a, a
1049  00B5  28 5E       	jr	Z,l_game_loop_00110
1050  00B7  5E          	ld	e,(hl)
1051  00B8  16 00       	ld	d,0x00
1052  00BA  21 00 00    	ld	hl,_class
1053  00BD  19          	add	hl,de
1054  00BE  7E          	ld	a,(hl)
1055  00BF  B7          	or	a, a
1056  00C0  20 53       	jr	NZ,l_game_loop_00110
1057  00C2  21 00 00    	ld	hl,_index1
1058  00C5  71          	ld	(hl), c
1059  00C6  23          	inc	hl
1060  00C7  36 00       	ld	(hl),0x00
1061  00C9  2B          	dec	hl
1062  00CA  7E          	ld	a,(hl)
1063  00CB  4F          	ld	c,a
1064  00CC  E6 0F       	and	a,0x0f
1065  00CE  87          	add	a, a
1066  00CF  32 00 00    	ld	(_s_col1),a
1067  00D2  21 00 00    	ld	hl,_s_lin1
1068  00D5  71          	ld	(hl),c
1069  00D6  79          	ld	a,c
1070  00D7  07          	rlca
1071  00D8  07          	rlca
1072  00D9  07          	rlca
1073  00DA  07          	rlca
1074  00DB  E6 0F       	and	a,0x0f
1075  00DD  07          	rlca
1076  00DE  07          	rlca
1077  00DF  07          	rlca
1078  00E0  07          	rlca
1079  00E1  E6 F0       	and	a,0xf0
1080  00E3  77          	ld	(hl), a
1081  00E4  01 00 00    	ld	bc,_scr_map
1082  00E7  2A 00 00    	ld	hl,(_index1)
1083  00EA  09          	add	hl,bc
1084  00EB  36 FF       	ld	(hl),0xff
1085  00ED  2A 00 00    	ld	hl,(_sprite)
1086  00F0  26 00       	ld	h,0x00
1087  00F2  01 00 00    	ld	bc,_game_respawn_tile
1088  00F5  09          	add	hl,bc
1089  00F6  7E          	ld	a,(hl)
1090  00F7  F5          	push	af
1091  00F8  33          	inc	sp
1092  00F9  21 03 04    	ld	hl,0x0403
1093  00FC  E5          	push	hl
1094  00FD  2A 00 00    	ld	hl,(_s_col1)
1095  0100  26 8A       	ld	h,0x8a
1096  0102  3A 00 00    	ld	a,(_s_lin1)
1097  0105  E5          	push	hl
1098  0106  F5          	push	af
1099  0107  33          	inc	sp
1100  0108  CD 00 00    	call	_spr_add_anim
1101  010B  F1          	pop	af
1102  010C  F1          	pop	af
1103  010D  F1          	pop	af
1104  010E  21 00 00    	ld	hl,_game_respawning
1105  0111  36 01       	ld	(hl),0x01
1106  0113  18 06       	jr	l_game_loop_00118
1107  0115              l_game_loop_00110:
1108  0115  21 00 00    	ld	hl,_sprite
1109  0118  34          	inc	(hl)
1110  0119  18 86       	jr	l_game_loop_00112
1111  011B              l_game_loop_00118:
1112  011B  21 00 00    	ld	hl,_loop_count
1113  011E  34          	inc	(hl)
1114  011F  20 02       	jr	NZ,l_game_loop_00172
1115  0121  23          	inc	hl
1116  0122  34          	inc	(hl)
1117  0123              l_game_loop_00172:
1118  0123  DD 34 FE    	inc	(ix-2)
1119  0126  C2 13 00    	jp	NZ,l_game_loop_00119
1120  0129  DD 34 FF    	inc	(ix-1)
1121  012C  C3 13 00    	jp	l_game_loop_00119
1122  012F              l_game_loop_00122:
1123  012F  F1          	pop	af
1124  0130  DD E1       	pop	ix
1125  0132  C9          	ret
1126  0133              	SECTION code_compiler
1127  0133              ;	---------------------------------
1128  0133              ; Function game_draw_screen
1129  0133              ; ---------------------------------
1130  0133              _game_draw_screen:
1131  0133  CD 00 00    	call	___sdcc_enter_ix
1132  0136  3B          	dec	sp
1133  0137  76          	halt
1134  0138  21 00 00    	ld	hl,_spr_count
1135  013B  36 00       	ld	(hl),0x00
1136  013D              l_game_draw_screen_00101:
1137  013D  21 00 00    	ld	hl,_spr_count
1138  0140  7E          	ld	a, (hl)
1139  0141  D6 07       	sub	a,0x07
1140  0143  30 3A       	jr	NC,l_game_draw_screen_00103
1141  0145  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1142  0147  86          	add	a, (hl)
1143  0148  4F          	ld	c, a
1144  0149  3E 00       	ld	a, +((_game_respawn_index) / 256)
1145  014B  CE 00       	adc	a,0x00
1146  014D  47          	ld	b, a
1147  014E  AF          	xor	a, a
1148  014F  02          	ld	(bc), a
1149  0150  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1150  0152  86          	add	a, (hl)
1151  0153  4F          	ld	c, a
1152  0154  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1153  0156  CE 00       	adc	a,0x00
1154  0158  47          	ld	b, a
1155  0159  AF          	xor	a, a
1156  015A  02          	ld	(bc), a
1157  015B  3E 00       	ld	a, +((_mush_index) & 0xFF)
1158  015D  86          	add	a, (hl)
1159  015E  4F          	ld	c, a
1160  015F  3E 00       	ld	a, +((_mush_index) / 256)
1161  0161  CE 00       	adc	a,0x00
1162  0163  47          	ld	b, a
1163  0164  AF          	xor	a, a
1164  0165  02          	ld	(bc), a
1165  0166  3E 00       	ld	a, +((_mush_class) & 0xFF)
1166  0168  86          	add	a, (hl)
1167  0169  4F          	ld	c, a
1168  016A  3E 00       	ld	a, +((_mush_class) / 256)
1169  016C  CE 00       	adc	a,0x00
1170  016E  47          	ld	b, a
1171  016F  AF          	xor	a, a
1172  0170  02          	ld	(bc), a
1173  0171  3E 00       	ld	a, +((_class) & 0xFF)
1174  0173  86          	add	a, (hl)
1175  0174  4F          	ld	c, a
1176  0175  3E 00       	ld	a, +((_class) / 256)
1177  0177  CE 00       	adc	a,0x00
1178  0179  47          	ld	b, a
1179  017A  AF          	xor	a, a
1180  017B  02          	ld	(bc), a
1181  017C  34          	inc	(hl)
1182  017D  18 BE       	jr	l_game_draw_screen_00101
1183  017F              l_game_draw_screen_00103:
1184  017F  21 00 00    	ld	hl,_game_respawning
1185  0182  36 00       	ld	(hl),0x00
1186  0184  21 10 00    	ld	hl,0x0010
1187  0187  22 00 00    	ld	(_index1),hl
1188  018A  21 00 00    	ld	hl,_s_lin1
1189  018D  36 00       	ld	(hl),0x00
1190  018F  21 00 00    	ld	hl,_s_col1
1191  0192  36 02       	ld	(hl),0x02
1192  0194  21 00 00    	ld	hl,_spr_count
1193  0197  36 00       	ld	(hl),0x00
1194  0199  F3          	di
1195  019A  DD 36 FF 00 	ld	(ix-1),0x00
1196  019E              l_game_draw_screen_00119:
1197  019E  21 00 00    	ld	hl,_index1
1198  01A1  7E          	ld	a, (hl)
1199  01A2  D6 A0       	sub	a,0xa0
1200  01A4  23          	inc	hl
1201  01A5  7E          	ld	a, (hl)
1202  01A6  DE 00       	sbc	a,0x00
1203  01A8  D2 9B 02    	jp	NC, l_game_draw_screen_00121
1204  01AB  2B          	dec	hl
1205  01AC  7E          	ld	a, (hl)
1206  01AD  E6 0F       	and	a,0x0f
1207  01AF  20 0C       	jr	NZ,l_game_draw_screen_00105
1208  01B1  21 00 00    	ld	hl,_s_lin1
1209  01B4  7E          	ld	a, (hl)
1210  01B5  C6 10       	add	a,0x10
1211  01B7  77          	ld	(hl), a
1212  01B8  21 00 00    	ld	hl,_s_col1
1213  01BB  36 00       	ld	(hl),0x00
1214  01BD              l_game_draw_screen_00105:
1215  01BD  2A 00 00    	ld	hl,(_index1)
1216  01C0  01 00 00    	ld	bc,_scr_map
1217  01C3  09          	add	hl,bc
1218  01C4  7E          	ld	a,(hl)
1219  01C5  FE 60       	cp	a,0x60
1220  01C7  30 36       	jr	NC,l_game_draw_screen_00117
1221  01C9  D6 5C       	sub	a,0x5c
1222  01CB  20 19       	jr	NZ,l_game_draw_screen_00107
1223  01CD  2A 00 00    	ld	hl,(_index1)
1224  01D0  01 F0 FF    	ld	bc,0xfff0
1225  01D3  09          	add	hl,bc
1226  01D4  E5          	push	hl
1227  01D5  CD B1 0A    	call	_game_obj_chk
1228  01D8  F1          	pop	af
1229  01D9  7D          	ld	a, l
1230  01DA  B7          	or	a, a
1231  01DB  28 09       	jr	Z,l_game_draw_screen_00107
1232  01DD  01 00 00    	ld	bc,_scr_map
1233  01E0  2A 00 00    	ld	hl,(_index1)
1234  01E3  09          	add	hl,bc
1235  01E4  36 4F       	ld	(hl),0x4f
1236  01E6              l_game_draw_screen_00107:
1237  01E6  01 00 00    	ld	bc,_scr_map
1238  01E9  2A 00 00    	ld	hl,(_index1)
1239  01EC  09          	add	hl,bc
1240  01ED  46          	ld	b, (hl)
1241  01EE  3A 00 00    	ld	a,(_s_col1)
1242  01F1  F5          	push	af
1243  01F2  33          	inc	sp
1244  01F3  3A 00 00    	ld	a,(_s_lin1)
1245  01F6  48          	ld	c,b
1246  01F7  47          	ld	b,a
1247  01F8  C5          	push	bc
1248  01F9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1249  01FC  C3 8A 02    	jp	l_game_draw_screen_00118
1250  01FF              l_game_draw_screen_00117:
1251  01FF  D6 78       	sub	a,0x78
1252  0201  30 39       	jr	NC,l_game_draw_screen_00114
1253  0203  21 00 00    	ld	hl,_spr_count
1254  0206  7E          	ld	a, (hl)
1255  0207  D6 08       	sub	a,0x08
1256  0209  30 76       	jr	NC,l_game_draw_screen_00115
1257  020B  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1258  020D  86          	add	a, (hl)
1259  020E  4F          	ld	c, a
1260  020F  3E 00       	ld	a, +((_game_respawn_index) / 256)
1261  0211  CE 00       	adc	a,0x00
1262  0213  47          	ld	b, a
1263  0214  3A 00 00    	ld	a,(_index1)
1264  0217  02          	ld	(bc), a
1265  0218  2A 00 00    	ld	hl,(_spr_count)
1266  021B  26 00       	ld	h,0x00
1267  021D  01 00 00    	ld	bc,_game_respawn_tile
1268  0220  09          	add	hl,bc
1269  0221  4D          	ld	c,l
1270  0222  44          	ld	b,h
1271  0223  2A 00 00    	ld	hl,(_index1)
1272  0226  11 00 00    	ld	de,_scr_map
1273  0229  19          	add	hl,de
1274  022A  7E          	ld	a,(hl)
1275  022B  02          	ld	(bc),a
1276  022C  01 00 00    	ld	bc,_scr_map
1277  022F  2A 00 00    	ld	hl,(_index1)
1278  0232  09          	add	hl,bc
1279  0233  7E          	ld	a,(hl)
1280  0234  F5          	push	af
1281  0235  33          	inc	sp
1282  0236  CD A0 02    	call	_game_add_enemy
1283  0239  33          	inc	sp
1284  023A  18 45       	jr	l_game_draw_screen_00115
1285  023C              l_game_draw_screen_00114:
1286  023C  2A 00 00    	ld	hl,(_index1)
1287  023F  E5          	push	hl
1288  0240  CD B1 0A    	call	_game_obj_chk
1289  0243  F1          	pop	af
1290  0244  7D          	ld	a, l
1291  0245  B7          	or	a, a
1292  0246  20 2B       	jr	NZ,l_game_draw_screen_00112
1293  0248  3E 00       	ld	a, +((_mush_index) & 0xFF)
1294  024A  DD 86 FF    	add	a,(ix-1)
1295  024D  4F          	ld	c, a
1296  024E  3E 00       	ld	a, +((_mush_index) / 256)
1297  0250  CE 00       	adc	a,0x00
1298  0252  47          	ld	b, a
1299  0253  21 00 00    	ld	hl,_index1
1300  0256  7E          	ld	a, (hl)
1301  0257  C6 10       	add	a,0x10
1302  0259  02          	ld	(bc), a
1303  025A  3E 00       	ld	a, +((_mush_class) & 0xFF)
1304  025C  DD 86 FF    	add	a,(ix-1)
1305  025F  4F          	ld	c, a
1306  0260  3E 00       	ld	a, +((_mush_class) / 256)
1307  0262  CE 00       	adc	a,0x00
1308  0264  47          	ld	b, a
1309  0265  3E 00       	ld	a, +((_scr_map) & 0xFF)
1310  0267  86          	add	a, (hl)
1311  0268  5F          	ld	e, a
1312  0269  3E 00       	ld	a, +((_scr_map) / 256)
1313  026B  23          	inc	hl
1314  026C  8E          	adc	a, (hl)
1315  026D  57          	ld	d, a
1316  026E  1A          	ld	a, (de)
1317  026F  02          	ld	(bc), a
1318  0270  DD 34 FF    	inc	(ix-1)
1319  0273              l_game_draw_screen_00112:
1320  0273  2A FF FF    	ld	hl,(_s_col1 - 1)
1321  0276  3A 00 00    	ld	a,(_s_lin1)
1322  0279  6F          	ld	l,a
1323  027A  E5          	push	hl
1324  027B  AF          	xor	a, a
1325  027C  F5          	push	af
1326  027D  33          	inc	sp
1327  027E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1328  0281              l_game_draw_screen_00115:
1329  0281  01 00 00    	ld	bc,_scr_map
1330  0284  2A 00 00    	ld	hl,(_index1)
1331  0287  09          	add	hl,bc
1332  0288  AF          	xor	a,a
1333  0289  77          	ld	(hl),a
1334  028A              l_game_draw_screen_00118:
1335  028A  21 00 00    	ld	hl,_s_col1
1336  028D  34          	inc	(hl)
1337  028E  34          	inc	(hl)
1338  028F  21 00 00    	ld	hl,_index1
1339  0292  34          	inc	(hl)
1340  0293  C2 9E 01    	jp	NZ,l_game_draw_screen_00119
1341  0296  23          	inc	hl
1342  0297  34          	inc	(hl)
1343  0298  C3 9E 01    	jp	l_game_draw_screen_00119
1344  029B              l_game_draw_screen_00121:
1345  029B  FB          	ei
1346  029C  33          	inc	sp
1347  029D  DD E1       	pop	ix
1348  029F  C9          	ret
1349  02A0              	SECTION code_compiler
1350  02A0              ;	---------------------------------
1351  02A0              ; Function game_add_enemy
1352  02A0              ; ---------------------------------
1353  02A0              _game_add_enemy:
1354  02A0  CD 00 00    	call	___sdcc_enter_ix
1355  02A3  DD 7E 04    	ld	a,(ix+4)
1356  02A6  D6 60       	sub	a,0x60
1357  02A8  DA 7C 04    	jp	C, l_game_add_enemy_00120
1358  02AB  3E 71       	ld	a,0x71
1359  02AD  DD 96 04    	sub	a,(ix+4)
1360  02B0  DA 7C 04    	jp	C, l_game_add_enemy_00120
1361  02B3  DD 7E 04    	ld	a,(ix+4)
1362  02B6  C6 A0       	add	a,0xa0
1363  02B8  4F          	ld	c, a
1364  02B9  06 00       	ld	b,0x00
1365  02BB  21 C2 02    	ld	hl,l_game_add_enemy_00130
1366  02BE  09          	add	hl, bc
1367  02BF  09          	add	hl, bc
1368  02C0  09          	add	hl, bc
1369  02C1  E9          	jp	(hl)
1370  02C2              l_game_add_enemy_00130:
1371  02C2  C3 0E 03    	jp	l_game_add_enemy_00102
1372  02C5  C3 F8 02    	jp	l_game_add_enemy_00101
1373  02C8  C3 3A 03    	jp	l_game_add_enemy_00104
1374  02CB  C3 24 03    	jp	l_game_add_enemy_00103
1375  02CE  C3 66 03    	jp	l_game_add_enemy_00106
1376  02D1  C3 50 03    	jp	l_game_add_enemy_00105
1377  02D4  C3 92 03    	jp	l_game_add_enemy_00108
1378  02D7  C3 7C 03    	jp	l_game_add_enemy_00107
1379  02DA  C3 BE 03    	jp	l_game_add_enemy_00110
1380  02DD  C3 A8 03    	jp	l_game_add_enemy_00109
1381  02E0  C3 EA 03    	jp	l_game_add_enemy_00112
1382  02E3  C3 D4 03    	jp	l_game_add_enemy_00111
1383  02E6  C3 00 04    	jp	l_game_add_enemy_00113
1384  02E9  C3 15 04    	jp	l_game_add_enemy_00114
1385  02EC  C3 2A 04    	jp	l_game_add_enemy_00115
1386  02EF  C3 3F 04    	jp	l_game_add_enemy_00116
1387  02F2  C3 54 04    	jp	l_game_add_enemy_00117
1388  02F5  C3 69 04    	jp	l_game_add_enemy_00118
1389  02F8              l_game_add_enemy_00101:
1390  02F8  3A 00 00    	ld	a,(_s_col1)
1391  02FB  21 0B 01    	ld	hl,0x010b
1392  02FE  E5          	push	hl
1393  02FF  F5          	push	af
1394  0300  33          	inc	sp
1395  0301  3A 00 00    	ld	a,(_s_lin1)
1396  0304  F5          	push	af
1397  0305  33          	inc	sp
1398  0306  CD 00 00    	call	_enemy_init
1399  0309  F1          	pop	af
1400  030A  F1          	pop	af
1401  030B  C3 7C 04    	jp	l_game_add_enemy_00120
1402  030E              l_game_add_enemy_00102:
1403  030E  3A 00 00    	ld	a,(_s_col1)
1404  0311  21 0B FF    	ld	hl,0xff0b
1405  0314  E5          	push	hl
1406  0315  F5          	push	af
1407  0316  33          	inc	sp
1408  0317  3A 00 00    	ld	a,(_s_lin1)
1409  031A  F5          	push	af
1410  031B  33          	inc	sp
1411  031C  CD 00 00    	call	_enemy_init
1412  031F  F1          	pop	af
1413  0320  F1          	pop	af
1414  0321  C3 7C 04    	jp	l_game_add_enemy_00120
1415  0324              l_game_add_enemy_00103:
1416  0324  3A 00 00    	ld	a,(_s_col1)
1417  0327  21 0C 01    	ld	hl,0x010c
1418  032A  E5          	push	hl
1419  032B  F5          	push	af
1420  032C  33          	inc	sp
1421  032D  3A 00 00    	ld	a,(_s_lin1)
1422  0330  F5          	push	af
1423  0331  33          	inc	sp
1424  0332  CD 00 00    	call	_enemy_init
1425  0335  F1          	pop	af
1426  0336  F1          	pop	af
1427  0337  C3 7C 04    	jp	l_game_add_enemy_00120
1428  033A              l_game_add_enemy_00104:
1429  033A  3A 00 00    	ld	a,(_s_col1)
1430  033D  21 0C FF    	ld	hl,0xff0c
1431  0340  E5          	push	hl
1432  0341  F5          	push	af
1433  0342  33          	inc	sp
1434  0343  3A 00 00    	ld	a,(_s_lin1)
1435  0346  F5          	push	af
1436  0347  33          	inc	sp
1437  0348  CD 00 00    	call	_enemy_init
1438  034B  F1          	pop	af
1439  034C  F1          	pop	af
1440  034D  C3 7C 04    	jp	l_game_add_enemy_00120
1441  0350              l_game_add_enemy_00105:
1442  0350  3A 00 00    	ld	a,(_s_col1)
1443  0353  21 0D 01    	ld	hl,0x010d
1444  0356  E5          	push	hl
1445  0357  F5          	push	af
1446  0358  33          	inc	sp
1447  0359  3A 00 00    	ld	a,(_s_lin1)
1448  035C  F5          	push	af
1449  035D  33          	inc	sp
1450  035E  CD 00 00    	call	_enemy_init
1451  0361  F1          	pop	af
1452  0362  F1          	pop	af
1453  0363  C3 7C 04    	jp	l_game_add_enemy_00120
1454  0366              l_game_add_enemy_00106:
1455  0366  3A 00 00    	ld	a,(_s_col1)
1456  0369  21 0D FF    	ld	hl,0xff0d
1457  036C  E5          	push	hl
1458  036D  F5          	push	af
1459  036E  33          	inc	sp
1460  036F  3A 00 00    	ld	a,(_s_lin1)
1461  0372  F5          	push	af
1462  0373  33          	inc	sp
1463  0374  CD 00 00    	call	_enemy_init
1464  0377  F1          	pop	af
1465  0378  F1          	pop	af
1466  0379  C3 7C 04    	jp	l_game_add_enemy_00120
1467  037C              l_game_add_enemy_00107:
1468  037C  3A 00 00    	ld	a,(_s_col1)
1469  037F  21 0E 01    	ld	hl,0x010e
1470  0382  E5          	push	hl
1471  0383  F5          	push	af
1472  0384  33          	inc	sp
1473  0385  3A 00 00    	ld	a,(_s_lin1)
1474  0388  F5          	push	af
1475  0389  33          	inc	sp
1476  038A  CD 00 00    	call	_enemy_init
1477  038D  F1          	pop	af
1478  038E  F1          	pop	af
1479  038F  C3 7C 04    	jp	l_game_add_enemy_00120
1480  0392              l_game_add_enemy_00108:
1481  0392  3A 00 00    	ld	a,(_s_col1)
1482  0395  21 0E FF    	ld	hl,0xff0e
1483  0398  E5          	push	hl
1484  0399  F5          	push	af
1485  039A  33          	inc	sp
1486  039B  3A 00 00    	ld	a,(_s_lin1)
1487  039E  F5          	push	af
1488  039F  33          	inc	sp
1489  03A0  CD 00 00    	call	_enemy_init
1490  03A3  F1          	pop	af
1491  03A4  F1          	pop	af
1492  03A5  C3 7C 04    	jp	l_game_add_enemy_00120
1493  03A8              l_game_add_enemy_00109:
1494  03A8  3A 00 00    	ld	a,(_s_col1)
1495  03AB  21 0F 01    	ld	hl,0x010f
1496  03AE  E5          	push	hl
1497  03AF  F5          	push	af
1498  03B0  33          	inc	sp
1499  03B1  3A 00 00    	ld	a,(_s_lin1)
1500  03B4  F5          	push	af
1501  03B5  33          	inc	sp
1502  03B6  CD 00 00    	call	_enemy_init
1503  03B9  F1          	pop	af
1504  03BA  F1          	pop	af
1505  03BB  C3 7C 04    	jp	l_game_add_enemy_00120
1506  03BE              l_game_add_enemy_00110:
1507  03BE  3A 00 00    	ld	a,(_s_col1)
1508  03C1  21 0F FF    	ld	hl,0xff0f
1509  03C4  E5          	push	hl
1510  03C5  F5          	push	af
1511  03C6  33          	inc	sp
1512  03C7  3A 00 00    	ld	a,(_s_lin1)
1513  03CA  F5          	push	af
1514  03CB  33          	inc	sp
1515  03CC  CD 00 00    	call	_enemy_init
1516  03CF  F1          	pop	af
1517  03D0  F1          	pop	af
1518  03D1  C3 7C 04    	jp	l_game_add_enemy_00120
1519  03D4              l_game_add_enemy_00111:
1520  03D4  3A 00 00    	ld	a,(_s_col1)
1521  03D7  21 02 01    	ld	hl,0x0102
1522  03DA  E5          	push	hl
1523  03DB  F5          	push	af
1524  03DC  33          	inc	sp
1525  03DD  3A 00 00    	ld	a,(_s_lin1)
1526  03E0  F5          	push	af
1527  03E1  33          	inc	sp
1528  03E2  CD 00 00    	call	_enemy_init
1529  03E5  F1          	pop	af
1530  03E6  F1          	pop	af
1531  03E7  C3 7C 04    	jp	l_game_add_enemy_00120
1532  03EA              l_game_add_enemy_00112:
1533  03EA  3A 00 00    	ld	a,(_s_col1)
1534  03ED  21 02 FF    	ld	hl,0xff02
1535  03F0  E5          	push	hl
1536  03F1  F5          	push	af
1537  03F2  33          	inc	sp
1538  03F3  3A 00 00    	ld	a,(_s_lin1)
1539  03F6  F5          	push	af
1540  03F7  33          	inc	sp
1541  03F8  CD 00 00    	call	_enemy_init
1542  03FB  F1          	pop	af
1543  03FC  F1          	pop	af
1544  03FD  C3 7C 04    	jp	l_game_add_enemy_00120
1545  0400              l_game_add_enemy_00113:
1546  0400  3A 00 00    	ld	a,(_s_col1)
1547  0403  21 03 01    	ld	hl,0x0103
1548  0406  E5          	push	hl
1549  0407  F5          	push	af
1550  0408  33          	inc	sp
1551  0409  3A 00 00    	ld	a,(_s_lin1)
1552  040C  F5          	push	af
1553  040D  33          	inc	sp
1554  040E  CD 00 00    	call	_enemy_init
1555  0411  F1          	pop	af
1556  0412  F1          	pop	af
1557  0413  18 67       	jr	l_game_add_enemy_00120
1558  0415              l_game_add_enemy_00114:
1559  0415  3A 00 00    	ld	a,(_s_col1)
1560  0418  21 04 01    	ld	hl,0x0104
1561  041B  E5          	push	hl
1562  041C  F5          	push	af
1563  041D  33          	inc	sp
1564  041E  3A 00 00    	ld	a,(_s_lin1)
1565  0421  F5          	push	af
1566  0422  33          	inc	sp
1567  0423  CD 00 00    	call	_enemy_init
1568  0426  F1          	pop	af
1569  0427  F1          	pop	af
1570  0428  18 52       	jr	l_game_add_enemy_00120
1571  042A              l_game_add_enemy_00115:
1572  042A  3A 00 00    	ld	a,(_s_col1)
1573  042D  21 05 01    	ld	hl,0x0105
1574  0430  E5          	push	hl
1575  0431  F5          	push	af
1576  0432  33          	inc	sp
1577  0433  3A 00 00    	ld	a,(_s_lin1)
1578  0436  F5          	push	af
1579  0437  33          	inc	sp
1580  0438  CD 00 00    	call	_enemy_init
1581  043B  F1          	pop	af
1582  043C  F1          	pop	af
1583  043D  18 3D       	jr	l_game_add_enemy_00120
1584  043F              l_game_add_enemy_00116:
1585  043F  3A 00 00    	ld	a,(_s_col1)
1586  0442  21 10 01    	ld	hl,0x0110
1587  0445  E5          	push	hl
1588  0446  F5          	push	af
1589  0447  33          	inc	sp
1590  0448  3A 00 00    	ld	a,(_s_lin1)
1591  044B  F5          	push	af
1592  044C  33          	inc	sp
1593  044D  CD 00 00    	call	_enemy_init
1594  0450  F1          	pop	af
1595  0451  F1          	pop	af
1596  0452  18 28       	jr	l_game_add_enemy_00120
1597  0454              l_game_add_enemy_00117:
1598  0454  3A 00 00    	ld	a,(_s_col1)
1599  0457  21 12 01    	ld	hl,0x0112
1600  045A  E5          	push	hl
1601  045B  F5          	push	af
1602  045C  33          	inc	sp
1603  045D  3A 00 00    	ld	a,(_s_lin1)
1604  0460  F5          	push	af
1605  0461  33          	inc	sp
1606  0462  CD 00 00    	call	_enemy_init
1607  0465  F1          	pop	af
1608  0466  F1          	pop	af
1609  0467  18 13       	jr	l_game_add_enemy_00120
1610  0469              l_game_add_enemy_00118:
1611  0469  3A 00 00    	ld	a,(_s_col1)
1612  046C  21 13 01    	ld	hl,0x0113
1613  046F  E5          	push	hl
1614  0470  F5          	push	af
1615  0471  33          	inc	sp
1616  0472  3A 00 00    	ld	a,(_s_lin1)
1617  0475  F5          	push	af
1618  0476  33          	inc	sp
1619  0477  CD 00 00    	call	_enemy_init
1620  047A  F1          	pop	af
1621  047B  F1          	pop	af
1622  047C              l_game_add_enemy_00120:
1623  047C  DD E1       	pop	ix
1624  047E  C9          	ret
1625  047F              	SECTION code_compiler
1626  047F              ;	---------------------------------
1627  047F              ; Function game_print_footer
1628  047F              ; ---------------------------------
1629  047F              _game_print_footer:
1630  047F  21 00 00    	ld	hl,_screen_ink
1631  0482  36 05       	ld	(hl),0x05
1632  0484  21 13 62    	ld	hl,0x6213
1633  0487  E5          	push	hl
1634  0488  CD 00 00    	call	_game_fill_row
1635  048B  21 00 00    	ld	hl,___str_0
1636  048E  E5          	push	hl
1637  048F  21 13 00    	ld	hl,0x0013
1638  0492  E5          	push	hl
1639  0493  CD 00 00    	call	_zx_print_str
1640  0496  21 02 00    	ld	hl,___str_1
1641  0499  E5          	push	hl
1642  049A  21 13 1F    	ld	hl,0x1f13
1643  049D  E5          	push	hl
1644  049E  CD 00 00    	call	_zx_print_str
1645  04A1  21 04 00    	ld	hl,___str_2
1646  04A4  E5          	push	hl
1647  04A5  21 14 00    	ld	hl,0x0014
1648  04A8  E5          	push	hl
1649  04A9  CD 00 00    	call	_zx_print_str
1650  04AC  21 06 00    	ld	hl,___str_3
1651  04AF  E5          	push	hl
1652  04B0  21 14 1F    	ld	hl,0x1f14
1653  04B3  E5          	push	hl
1654  04B4  CD 00 00    	call	_zx_print_str
1655  04B7  21 04 00    	ld	hl,___str_2
1656  04BA  E5          	push	hl
1657  04BB  21 15 00    	ld	hl,0x0015
1658  04BE  E5          	push	hl
1659  04BF  CD 00 00    	call	_zx_print_str
1660  04C2  21 06 00    	ld	hl,___str_3
1661  04C5  E5          	push	hl
1662  04C6  21 15 1F    	ld	hl,0x1f15
1663  04C9  E5          	push	hl
1664  04CA  CD 00 00    	call	_zx_print_str
1665  04CD  21 04 00    	ld	hl,___str_2
1666  04D0  E5          	push	hl
1667  04D1  21 16 00    	ld	hl,0x0016
1668  04D4  E5          	push	hl
1669  04D5  CD 00 00    	call	_zx_print_str
1670  04D8  21 06 00    	ld	hl,___str_3
1671  04DB  E5          	push	hl
1672  04DC  21 16 1F    	ld	hl,0x1f16
1673  04DF  E5          	push	hl
1674  04E0  CD 00 00    	call	_zx_print_str
1675  04E3  21 17 62    	ld	hl,0x6217
1676  04E6  E5          	push	hl
1677  04E7  CD 00 00    	call	_game_fill_row
1678  04EA  21 08 00    	ld	hl,___str_4
1679  04ED  E5          	push	hl
1680  04EE  21 17 00    	ld	hl,0x0017
1681  04F1  E5          	push	hl
1682  04F2  CD 00 00    	call	_zx_print_str
1683  04F5  21 0A 00    	ld	hl,___str_5
1684  04F8  E5          	push	hl
1685  04F9  21 17 1F    	ld	hl,0x1f17
1686  04FC  E5          	push	hl
1687  04FD  CD 00 00    	call	_zx_print_str
1688  0500  21 00 00    	ld	hl,_screen_ink
1689  0503  36 05       	ld	(hl),0x05
1690  0505  21 0C 00    	ld	hl,___str_6
1691  0508  E5          	push	hl
1692  0509  21 14 01    	ld	hl,0x0114
1693  050C  E5          	push	hl
1694  050D  CD 00 00    	call	_zx_print_str
1695  0510  21 00 00    	ld	hl,_screen_ink
1696  0513  36 06       	ld	(hl),0x06
1697  0515  21 0E 00    	ld	hl,___str_7
1698  0518  E5          	push	hl
1699  0519  21 15 01    	ld	hl,0x0115
1700  051C  E5          	push	hl
1701  051D  CD 00 00    	call	_zx_print_str
1702  0520  21 10 00    	ld	hl,___str_8
1703  0523  E5          	push	hl
1704  0524  21 17 14    	ld	hl,0x1417
1705  0527  E5          	push	hl
1706  0528  CD 00 00    	call	_zx_print_str
1707  052B  21 00 00    	ld	hl,_screen_ink
1708  052E  36 02       	ld	(hl),0x02
1709  0530  21 15 00    	ld	hl,___str_9
1710  0533  E5          	push	hl
1711  0534  21 14 07    	ld	hl,0x0714
1712  0537  E5          	push	hl
1713  0538  CD 00 00    	call	_zx_print_str
1714  053B  21 00 00    	ld	hl,_screen_ink
1715  053E  36 01       	ld	(hl),0x01
1716  0540  21 17 00    	ld	hl,___str_10
1717  0543  E5          	push	hl
1718  0544  21 14 0D    	ld	hl,0x0d14
1719  0547  E5          	push	hl
1720  0548  CD 00 00    	call	_zx_print_str
1721  054B  21 00 00    	ld	hl,_screen_ink
1722  054E  36 06       	ld	(hl),0x06
1723  0550  21 19 00    	ld	hl,___str_11
1724  0553  E5          	push	hl
1725  0554  21 16 0E    	ld	hl,0x0e16
1726  0557  E5          	push	hl
1727  0558  CD 00 00    	call	_zx_print_str
1728  055B  21 1B 00    	ld	hl,___str_12
1729  055E  E5          	push	hl
1730  055F  21 16 14    	ld	hl,0x1416
1731  0562  E5          	push	hl
1732  0563  CD 00 00    	call	_zx_print_str
1733  0566  21 1D 00    	ld	hl,___str_13
1734  0569  E5          	push	hl
1735  056A  21 16 1A    	ld	hl,0x1a16
1736  056D  E5          	push	hl
1737  056E  CD 00 00    	call	_zx_print_str
1738  0571  CD 86 05    	call	_game_update_stats
1739  0574  C9          	ret
1740  0575              	SECTION rodata_compiler
1741  0000              ___str_0:
1742  0000  61          	DEFM "a"
1743  0001  00          	DEFB 0x00
1744  0002              	SECTION rodata_compiler
1745  0002              ___str_1:
1746  0002  63          	DEFM "c"
1747  0003  00          	DEFB 0x00
1748  0004              	SECTION rodata_compiler
1749  0004              ___str_2:
1750  0004  64          	DEFM "d"
1751  0005  00          	DEFB 0x00
1752  0006              	SECTION rodata_compiler
1753  0006              ___str_3:
1754  0006  65          	DEFM "e"
1755  0007  00          	DEFB 0x00
1756  0008              	SECTION rodata_compiler
1757  0008              ___str_4:
1758  0008  66          	DEFM "f"
1759  0009  00          	DEFB 0x00
1760  000A              	SECTION rodata_compiler
1761  000A              ___str_5:
1762  000A  67          	DEFM "g"
1763  000B  00          	DEFB 0x00
1764  000C              	SECTION rodata_compiler
1765  000C              ___str_6:
1766  000C  3C          	DEFM "<"
1767  000D  00          	DEFB 0x00
1768  000E              	SECTION rodata_compiler
1769  000E              ___str_7:
1770  000E  5C          	DEFB 0x5c
1771  000F  00          	DEFB 0x00
1772  0010              	SECTION rodata_compiler
1773  0010              ___str_8:
1774  0010  4C 50 53 3A 	DEFM "LPS:"
1775  0014  00          	DEFB 0x00
1776  0015              	SECTION rodata_compiler
1777  0015              ___str_9:
1778  0015  6A          	DEFM "j"
1779  0016  00          	DEFB 0x00
1780  0017              	SECTION rodata_compiler
1781  0017              ___str_10:
1782  0017  6B          	DEFM "k"
1783  0018  00          	DEFB 0x00
1784  0019              	SECTION rodata_compiler
1785  0019              ___str_11:
1786  0019  6D          	DEFM "m"
1787  001A  00          	DEFB 0x00
1788  001B              	SECTION rodata_compiler
1789  001B              ___str_12:
1790  001B  6E          	DEFM "n"
1791  001C  00          	DEFB 0x00
1792  001D              	SECTION rodata_compiler
1793  001D              ___str_13:
1794  001D  6F          	DEFM "o"
1795  001E  00          	DEFB 0x00
1796  001F              	SECTION code_compiler
1797  0575              ;	---------------------------------
1798  0575              ; Function game_phase_print_score_back
1799  0575              ; ---------------------------------
1800  0575              _game_phase_print_score_back:
1801  0575  21 00 00    	ld	hl,_screen_ink
1802  0578  36 02       	ld	(hl),0x02
1803  057A  21 1F 00    	ld	hl,___str_14
1804  057D  E5          	push	hl
1805  057E  21 00 0B    	ld	hl,0x0b00
1806  0581  E5          	push	hl
1807  0582  CD 00 00    	call	_zx_print_str
1808  0585  C9          	ret
1809  0586              	SECTION rodata_compiler
1810  001F              ___str_14:
1811  001F  24 25 7C    	DEFM "$%|"
1812  0022  00          	DEFB 0x00
1813  0023              	SECTION code_compiler
1814  0586              ;	---------------------------------
1815  0586              ; Function game_update_stats
1816  0586              ; ---------------------------------
1817  0586              _game_update_stats:
1818  0586  21 00 00    	ld	hl,_screen_ink
1819  0589  36 07       	ld	(hl),0x07
1820  058B  3A 00 00    	ld	a,(_player_lives)
1821  058E  C6 FF       	add	a,0xff
1822  0590  21 00 00    	ld	hl,_tmp
1823  0593  77          	ld	(hl),a
1824  0594  D6 FF       	sub	a,0xff
1825  0596  30 0A       	jr	NC,l_game_update_stats_00102
1826  0598  7E          	ld	a, (hl)
1827  0599  F5          	push	af
1828  059A  33          	inc	sp
1829  059B  21 14 03    	ld	hl,0x0314
1830  059E  E5          	push	hl
1831  059F  CD 00 00    	call	_zx_print_chr
1832  05A2              l_game_update_stats_00102:
1833  05A2  3A 00 00    	ld	a,(_player_str)
1834  05A5  F5          	push	af
1835  05A6  33          	inc	sp
1836  05A7  21 16 10    	ld	hl,0x1016
1837  05AA  E5          	push	hl
1838  05AB  CD 00 00    	call	_zx_print_chr
1839  05AE  3A 00 00    	ld	a,(_player_dex)
1840  05B1  F5          	push	af
1841  05B2  33          	inc	sp
1842  05B3  21 16 16    	ld	hl,0x1616
1843  05B6  E5          	push	hl
1844  05B7  CD 00 00    	call	_zx_print_chr
1845  05BA  3A 00 00    	ld	a,(_player_int)
1846  05BD  F5          	push	af
1847  05BE  33          	inc	sp
1848  05BF  21 16 1C    	ld	hl,0x1c16
1849  05C2  E5          	push	hl
1850  05C3  CD 00 00    	call	_zx_print_chr
1851  05C6  21 00 00    	ld	hl,_screen_ink
1852  05C9  36 02       	ld	(hl),0x02
1853  05CB  3A 00 00    	ld	a,(_player_vita)
1854  05CE  F5          	push	af
1855  05CF  33          	inc	sp
1856  05D0  21 14 09    	ld	hl,0x0914
1857  05D3  E5          	push	hl
1858  05D4  CD 00 00    	call	_zx_print_chr
1859  05D7  21 00 00    	ld	hl,_screen_ink
1860  05DA  36 01       	ld	(hl),0x01
1861  05DC  3A 00 00    	ld	a,(_player_mana)
1862  05DF  F5          	push	af
1863  05E0  33          	inc	sp
1864  05E1  21 14 0F    	ld	hl,0x0f14
1865  05E4  E5          	push	hl
1866  05E5  CD 00 00    	call	_zx_print_chr
1867  05E8  C9          	ret
1868  05E9              	SECTION code_compiler
1869  05E9              ;	---------------------------------
1870  05E9              ; Function game_tick
1871  05E9              ; ---------------------------------
1872  05E9              _game_tick:
1873  05E9  21 00 00    	ld	hl,_curr_time
1874  05EC  34          	inc	(hl)
1875  05ED  C2 00 00    	jp	NZ,_zx_isr
1876  05F0  23          	inc	hl
1877  05F1  34          	inc	(hl)
1878  05F2  C3 00 00    	jp  _zx_isr
1879  05F5              	SECTION code_compiler
1880  05F5              ;	---------------------------------
1881  05F5              ; Function game_start_timer
1882  05F5              ; ---------------------------------
1883  05F5              _game_start_timer:
1884  05F5  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1885  05F8  36 CD       	ld	(hl),0xcd
1886  05FA  23          	inc	hl
1887  05FB  11 E9 05    	ld	de,_game_tick
1888  05FE  73          	ld	(hl), e
1889  05FF  23          	inc	hl
1890  0600  72          	ld	(hl), d
1891  0601  C9          	ret
1892  0602              	SECTION code_compiler
1893  0602              ;	---------------------------------
1894  0602              ; Function game_round_init
1895  0602              ; ---------------------------------
1896  0602              _game_round_init:
1897  0602  21 00 00    	ld	hl,_ay_effect_10
1898  0605  CD 00 00    	call	_ay_fx_play
1899  0608  CD 00 00    	call	_sound_coin
1900  060B  21 C8 00    	ld	hl,0x00c8
1901  060E  CD 00 00    	call	_z80_delay_ms_fastcall
1902  0611  CD 00 00    	call	_ay_reset
1903  0614  21 00 00    	ld	hl,_player_lives
1904  0617  36 04       	ld	(hl),0x04
1905  0619  21 00 00    	ld	hl,_player_mana
1906  061C  36 64       	ld	(hl),0x64
1907  061E  21 00 00    	ld	hl,_player_vita
1908  0621  36 64       	ld	(hl),0x64
1909  0623  21 00 00    	ld	hl,_player_str
1910  0626  36 00       	ld	(hl),0x00
1911  0628  21 00 00    	ld	hl,_player_dex
1912  062B  36 00       	ld	(hl),0x00
1913  062D  21 00 00    	ld	hl,_player_int
1914  0630  36 00       	ld	(hl),0x00
1915  0632  21 00 00    	ld	hl,0x0000
1916  0635  22 00 00    	ld	(_player_score),hl
1917  0638  21 00 00    	ld	hl,_game_over
1918  063B  36 00       	ld	(hl),0x00
1919  063D  21 00 00    	ld	hl,0x0000
1920  0640  22 00 00    	ld	(_loop_count),hl
1921  0643  22 00 00    	ld	(_entry_time),hl
1922  0646  21 00 00    	ld	hl,0
1923  0649  22 00 00    	ld	(_curr_time),hl
1924  064C  21 00 00    	ld	hl,0x0000
1925  064F  22 00 00    	ld	(_frame_time),hl
1926  0652  CD 00 00    	call	_ay_reset
1927  0655  CD 00 00    	call	_spr_draw_clear
1928  0658  CD 00 00    	call	_spr_page_map
1929  065B  CD 33 01    	call	_game_draw_screen
1930  065E  CD 77 06    	call	_game_print_header
1931  0661  CD 7F 04    	call	_game_print_footer
1932  0664  3A 00 00    	ld	a,(_player_lives)
1933  0667  B7          	or	a, a
1934  0668  C8          	ret	Z
1935  0669  21 02 70    	ld	hl,0x7002
1936  066C  E5          	push	hl
1937  066D  21 07 80    	ld	hl,0x8007
1938  0670  E5          	push	hl
1939  0671  CD 00 00    	call	_player_init
1940  0674  F1          	pop	af
1941  0675  F1          	pop	af
1942  0676  C9          	ret
1943  0677              	SECTION code_compiler
1944  0677              ;	---------------------------------
1945  0677              ; Function game_print_header
1946  0677              ; ---------------------------------
1947  0677              _game_print_header:
1948  0677  CD 75 05    	call	_game_phase_print_score_back
1949  067A  21 00 00    	ld	hl,_screen_ink
1950  067D  36 07       	ld	(hl),0x07
1951  067F  C3 E6 07    	jp  _game_print_score
1952  0682              	SECTION code_compiler
1953  0682              ;	---------------------------------
1954  0682              ; Function game_print_phase
1955  0682              ; ---------------------------------
1956  0682              _game_print_phase:
1957  0682  21 23 00    	ld	hl,___str_15
1958  0685  E5          	push	hl
1959  0686  21 17 0B    	ld	hl,0x0b17
1960  0689  E5          	push	hl
1961  068A  CD 00 00    	call	_zx_print_str
1962  068D  21 00 00    	ld	hl,_phase_curr
1963  0690  46          	ld	b, (hl)
1964  0691  04          	inc	b
1965  0692  C5          	push	bc
1966  0693  33          	inc	sp
1967  0694  21 17 12    	ld	hl,0x1217
1968  0697  E5          	push	hl
1969  0698  CD 00 00    	call	_zx_print_chr
1970  069B  C9          	ret
1971  069C              	SECTION rodata_compiler
1972  0023              ___str_15:
1973  0023  50 48 41 53 45 
                        	DEFM "PHASE"
1974  0028  00          	DEFB 0x00
1975  0029              	SECTION code_compiler
1976  069C              ;	---------------------------------
1977  069C              ; Function game_check_map
1978  069C              ; ---------------------------------
1979  069C              _game_check_map:
1980  069C  CD 00 00    	call	___sdcc_enter_ix
1981  069F  DD CB 05 46 	bit	0,(ix+5)
1982  06A3  20 15       	jr	NZ,l_game_check_map_00106
1983  06A5  DD 66 05    	ld	h,(ix+5)
1984  06A8  DD 6E 04    	ld	l,(ix+4)
1985  06AB  E5          	push	hl
1986  06AC  CD 00 00    	call	_spr_calc_index
1987  06AF  F1          	pop	af
1988  06B0  22 00 00    	ld	(_index1),hl
1989  06B3  CD 05 07    	call	_game_check_cell
1990  06B6  26 00       	ld	h,0x00
1991  06B8  18 48       	jr	l_game_check_map_00108
1992  06BA              l_game_check_map_00106:
1993  06BA  21 00 00    	ld	hl,_g_player_hit_left
1994  06BD  36 00       	ld	(hl),0x00
1995  06BF  21 00 00    	ld	hl,_g_player_hit_right
1996  06C2  36 00       	ld	(hl),0x00
1997  06C4  DD 46 05    	ld	b,(ix+5)
1998  06C7  05          	dec	b
1999  06C8  DD 4E 04    	ld	c,(ix+4)
2000  06CB  C5          	push	bc
2001  06CC  CD 00 00    	call	_spr_calc_index
2002  06CF  F1          	pop	af
2003  06D0  22 00 00    	ld	(_index1),hl
2004  06D3  CD 05 07    	call	_game_check_cell
2005  06D6  7D          	ld	a, l
2006  06D7  B7          	or	a, a
2007  06D8  28 05       	jr	Z,l_game_check_map_00102
2008  06DA  21 00 00    	ld	hl,_g_player_hit_left
2009  06DD  36 01       	ld	(hl),0x01
2010  06DF              l_game_check_map_00102:
2011  06DF  2A 00 00    	ld	hl,(_index1)
2012  06E2  23          	inc	hl
2013  06E3  CD 05 07    	call	_game_check_cell
2014  06E6  7D          	ld	a, l
2015  06E7  B7          	or	a, a
2016  06E8  28 05       	jr	Z,l_game_check_map_00104
2017  06EA  21 00 00    	ld	hl,_g_player_hit_right
2018  06ED  36 01       	ld	(hl),0x01
2019  06EF              l_game_check_map_00104:
2020  06EF  3A 00 00    	ld	a,(_g_player_hit_left)
2021  06F2  B7          	or	a, a
2022  06F3  20 09       	jr	NZ,l_game_check_map_00111
2023  06F5  3A 00 00    	ld	a,(_g_player_hit_right)
2024  06F8  B7          	or	a,a
2025  06F9  20 03       	jr	NZ,l_game_check_map_00111
2026  06FB  6F          	ld	l,a
2027  06FC  18 02       	jr	l_game_check_map_00112
2028  06FE              l_game_check_map_00111:
2029  06FE  2E 01       	ld	l,0x01
2030  0700              l_game_check_map_00112:
2031  0700  26 00       	ld	h,0x00
2032  0702              l_game_check_map_00108:
2033  0702  DD E1       	pop	ix
2034  0704  C9          	ret
2035  0705              	SECTION code_compiler
2036  0705              ;	---------------------------------
2037  0705              ; Function game_check_cell
2038  0705              ; ---------------------------------
2039  0705              _game_check_cell:
2040  0705  CD 00 00    	call	___sdcc_enter_ix
2041  0708  3B          	dec	sp
2042  0709  3E A0       	ld	a,0xa0
2043  070B  BD          	cp	a,l
2044  070C  3E 00       	ld	a,0x00
2045  070E  9C          	sbc	a,h
2046  070F  4D          	ld	c,l
2047  0710  44          	ld	b,h
2048  0711  E2 16 07    	jp	PO, l_game_check_cell_00193
2049  0714  EE 80       	xor	a,0x80
2050  0716              l_game_check_cell_00193:
2051  0716  F2 1E 07    	jp	P, l_game_check_cell_00102
2052  0719  2E 01       	ld	l,0x01
2053  071B  C3 BE 07    	jp	l_game_check_cell_00135
2054  071E              l_game_check_cell_00102:
2055  071E  21 00 00    	ld	hl,_scr_map
2056  0721  09          	add	hl, bc
2057  0722  56          	ld	d, (hl)
2058  0723  3A 00 00    	ld	a,(_sprite)
2059  0726  D6 07       	sub	a,0x07
2060  0728  20 04       	jr	NZ,l_game_check_cell_00194
2061  072A  3E 01       	ld	a,0x01
2062  072C  18 01       	jr	l_game_check_cell_00195
2063  072E              l_game_check_cell_00194:
2064  072E  AF          	xor	a,a
2065  072F              l_game_check_cell_00195:
2066  072F  DD 77 FF    	ld	(ix-1),a
2067  0732  CB 47       	bit	0,a
2068  0734  20 2B       	jr	NZ,l_game_check_cell_00113
2069  0736  2A 00 00    	ld	hl,(_sprite)
2070  0739  26 00       	ld	h,0x00
2071  073B  01 00 00    	ld	bc,_class
2072  073E  09          	add	hl,bc
2073  073F  4E          	ld	c,(hl)
2074  0740  3E 05       	ld	a,0x05
2075  0742  91          	sub	a, c
2076  0743  38 0F       	jr	C,l_game_check_cell_00110
2077  0745  3E 2F       	ld	a,0x2f
2078  0747  92          	sub	a, d
2079  0748  38 05       	jr	C,l_game_check_cell_00104
2080  074A  2E 00       	ld	l,0x00
2081  074C  C3 BE 07    	jp	l_game_check_cell_00135
2082  074F              l_game_check_cell_00104:
2083  074F  2E 01       	ld	l,0x01
2084  0751  C3 BE 07    	jp	l_game_check_cell_00135
2085  0754              l_game_check_cell_00110:
2086  0754  3E 24       	ld	a,0x24
2087  0756  92          	sub	a, d
2088  0757  38 04       	jr	C,l_game_check_cell_00107
2089  0759  2E 00       	ld	l,0x00
2090  075B  18 61       	jr	l_game_check_cell_00135
2091  075D              l_game_check_cell_00107:
2092  075D  2E 01       	ld	l,0x01
2093  075F  18 5D       	jr	l_game_check_cell_00135
2094  0761              l_game_check_cell_00113:
2095  0761  7A          	ld	a, d
2096  0762  D6 3C       	sub	a,0x3c
2097  0764  30 04       	jr	NC,l_game_check_cell_00115
2098  0766  2E 00       	ld	l,0x00
2099  0768  18 54       	jr	l_game_check_cell_00135
2100  076A              l_game_check_cell_00115:
2101  076A  3A 00 00    	ld	a,(_s_state)
2102  076D  E6 02       	and	a,0x02
2103  076F  5F          	ld	e, a
2104  0770  7A          	ld	a, d
2105  0771  D6 44       	sub	a,0x44
2106  0773  30 0C       	jr	NC,l_game_check_cell_00120
2107  0775  7B          	ld	a, e
2108  0776  B7          	or	a, a
2109  0777  28 04       	jr	Z,l_game_check_cell_00117
2110  0779  2E 01       	ld	l,0x01
2111  077B  18 41       	jr	l_game_check_cell_00135
2112  077D              l_game_check_cell_00117:
2113  077D  2E 00       	ld	l,0x00
2114  077F  18 3D       	jr	l_game_check_cell_00135
2115  0781              l_game_check_cell_00120:
2116  0781  7A          	ld	a, d
2117  0782  D6 48       	sub	a,0x48
2118  0784  30 16       	jr	NC,l_game_check_cell_00128
2119  0786  3A 00 00    	ld	a,(_sprite_horizontal_check)
2120  0789  B7          	or	a, a
2121  078A  28 04       	jr	Z,l_game_check_cell_00125
2122  078C  2E 00       	ld	l,0x00
2123  078E  18 2E       	jr	l_game_check_cell_00135
2124  0790              l_game_check_cell_00125:
2125  0790  7B          	ld	a, e
2126  0791  B7          	or	a, a
2127  0792  28 04       	jr	Z,l_game_check_cell_00122
2128  0794  2E 01       	ld	l,0x01
2129  0796  18 26       	jr	l_game_check_cell_00135
2130  0798              l_game_check_cell_00122:
2131  0798  2E 00       	ld	l,0x00
2132  079A  18 22       	jr	l_game_check_cell_00135
2133  079C              l_game_check_cell_00128:
2134  079C  7A          	ld	a, d
2135  079D  D6 4C       	sub	a,0x4c
2136  079F  30 12       	jr	NC,l_game_check_cell_00132
2137  07A1  DD CB FF 46 	bit	0,(ix-1)
2138  07A5  28 0C       	jr	Z,l_game_check_cell_00132
2139  07A7  D5          	push	de
2140  07A8  33          	inc	sp
2141  07A9  C5          	push	bc
2142  07AA  CD 00 00    	call	_player_open_door
2143  07AD  F1          	pop	af
2144  07AE  33          	inc	sp
2145  07AF  2E 01       	ld	l,0x01
2146  07B1  18 0B       	jr	l_game_check_cell_00135
2147  07B3              l_game_check_cell_00132:
2148  07B3  7A          	ld	a, d
2149  07B4  D6 60       	sub	a,0x60
2150  07B6  30 04       	jr	NC,l_game_check_cell_00134
2151  07B8  2E 01       	ld	l,0x01
2152  07BA  18 02       	jr	l_game_check_cell_00135
2153  07BC              l_game_check_cell_00134:
2154  07BC  2E 00       	ld	l,0x00
2155  07BE              l_game_check_cell_00135:
2156  07BE  33          	inc	sp
2157  07BF  DD E1       	pop	ix
2158  07C1  C9          	ret
2159  07C2              	SECTION code_compiler
2160  07C2              ;	---------------------------------
2161  07C2              ; Function game_enemy_add_get_index
2162  07C2              ; ---------------------------------
2163  07C2              _game_enemy_add_get_index:
2164  07C2  4D          	ld	c, l
2165  07C3  21 00 00    	ld	hl,_enemies
2166  07C6  36 00       	ld	(hl),0x00
2167  07C8              l_game_enemy_add_get_index_00104:
2168  07C8  2A 00 00    	ld	hl,(_enemies)
2169  07CB  26 00       	ld	h,0x00
2170  07CD  11 00 00    	ld	de,_class
2171  07D0  19          	add	hl,de
2172  07D1  7E          	ld	a,(hl)
2173  07D2  91          	sub	a,c
2174  07D3  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2175  07D5  2A 00 00    	ld	hl,(_enemies)
2176  07D8  18 0B       	jr	l_game_enemy_add_get_index_00106
2177  07DA              l_game_enemy_add_get_index_00105:
2178  07DA  21 00 00    	ld	hl,_enemies
2179  07DD  34          	inc	(hl)
2180  07DE  3E 05       	ld	a,0x05
2181  07E0  96          	sub	a, (hl)
2182  07E1  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2183  07E3  2E FF       	ld	l,0xff
2184  07E5              l_game_enemy_add_get_index_00106:
2185  07E5  C9          	ret
2186  07E6              	SECTION code_compiler
2187  07E6              ;	---------------------------------
2188  07E6              ; Function game_print_score
2189  07E6              ; ---------------------------------
2190  07E6              _game_print_score:
2191  07E6  21 00 00    	ld	hl,_screen_ink
2192  07E9  36 07       	ld	(hl),0x07
2193  07EB  21 00 00    	ld	hl,_screen_paper
2194  07EE  36 00       	ld	(hl),0x00
2195  07F0  2A 00 00    	ld	hl,(_game_score_top)
2196  07F3  E5          	push	hl
2197  07F4  21 00 0E    	ld	hl,0x0e00
2198  07F7  E5          	push	hl
2199  07F8  CD 00 00    	call	_zx_print_int
2200  07FB  C9          	ret
2201  07FC              	SECTION code_compiler
2202  07FC              ;	---------------------------------
2203  07FC              ; Function game_paint_attrib
2204  07FC              ; ---------------------------------
2205  07FC              _game_paint_attrib:
2206  07FC  7D          	ld	a,l
2207  07FD  32 00 00    	ld	(_tmp0),a
2208  0800              l_game_paint_attrib_00103:
2209  0800  3E 13       	ld	a,0x13
2210  0802  21 00 00    	ld	hl,_tmp0
2211  0805  96          	sub	a, (hl)
2212  0806  D8          	ret	C
2213  0807  7E          	ld	a, (hl)
2214  0808  07          	rlca
2215  0809  07          	rlca
2216  080A  07          	rlca
2217  080B  E6 F8       	and	a,0xf8
2218  080D  C6 08       	add	a,0x08
2219  080F  F5          	push	af
2220  0810  33          	inc	sp
2221  0811  21 01 1F    	ld	hl,0x1f01
2222  0814  E5          	push	hl
2223  0815  CD 20 08    	call	_game_paint_attrib_lin
2224  0818  F1          	pop	af
2225  0819  33          	inc	sp
2226  081A  21 00 00    	ld	hl,_tmp0
2227  081D  34          	inc	(hl)
2228  081E  18 E0       	jr	l_game_paint_attrib_00103
2229  0820              	SECTION code_compiler
2230  0820              ;	---------------------------------
2231  0820              ; Function game_paint_attrib_lin
2232  0820              ; ---------------------------------
2233  0820              _game_paint_attrib_lin:
2234  0820  CD 00 00    	call	___sdcc_enter_ix
2235  0823  DD 7E 04    	ld	a,(ix+4)
2236  0826  32 00 00    	ld	(_tmp_uc),a
2237  0829              l_game_paint_attrib_lin_00103:
2238  0829  21 00 00    	ld	hl,_tmp_uc
2239  082C  7E          	ld	a, (hl)
2240  082D  DD 96 05    	sub	a,(ix+5)
2241  0830  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2242  0832  66          	ld	h,(hl)
2243  0833  DD 6E 06    	ld	l,(ix+6)
2244  0836  E5          	push	hl
2245  0837  21 00 00    	ld	hl,_attrib
2246  083A  E5          	push	hl
2247  083B  CD 00 00    	call	_NIRVANAP_paintC_callee
2248  083E  21 00 00    	ld	hl,_tmp_uc
2249  0841  34          	inc	(hl)
2250  0842  18 E5       	jr	l_game_paint_attrib_lin_00103
2251  0844              l_game_paint_attrib_lin_00105:
2252  0844  DD E1       	pop	ix
2253  0846  C9          	ret
2254  0847              	SECTION code_compiler
2255  0847              ;	---------------------------------
2256  0847              ; Function game_paint_attrib_lin_h
2257  0847              ; ---------------------------------
2258  0847              _game_paint_attrib_lin_h:
2259  0847  CD 00 00    	call	___sdcc_enter_ix
2260  084A  DD 7E 04    	ld	a,(ix+4)
2261  084D  32 00 00    	ld	(_tmp_uc),a
2262  0850              l_game_paint_attrib_lin_h_00103:
2263  0850  21 00 00    	ld	hl,_tmp_uc
2264  0853  7E          	ld	a, (hl)
2265  0854  DD 96 05    	sub	a,(ix+5)
2266  0857  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2267  0859  66          	ld	h,(hl)
2268  085A  DD 6E 06    	ld	l,(ix+6)
2269  085D  E5          	push	hl
2270  085E  21 00 00    	ld	hl,_attrib_hl
2271  0861  E5          	push	hl
2272  0862  CD 00 00    	call	_NIRVANAP_paintC_callee
2273  0865  21 00 00    	ld	hl,_tmp_uc
2274  0868  34          	inc	(hl)
2275  0869  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2276  086B              l_game_paint_attrib_lin_h_00105:
2277  086B  DD E1       	pop	ix
2278  086D  C9          	ret
2279  086E              	SECTION code_compiler
2280  086E              ;	---------------------------------
2281  086E              ; Function game_joystick_change
2282  086E              ; ---------------------------------
2283  086E              _game_joystick_change:
2284  086E  21 00 00    	ld	hl,_player_joy
2285  0871  34          	inc	(hl)
2286  0872  20 02       	jr	NZ,l_game_joystick_change_00109
2287  0874  23          	inc	hl
2288  0875  34          	inc	(hl)
2289  0876              l_game_joystick_change_00109:
2290  0876  21 00 00    	ld	hl,_player_joy
2291  0879  7E          	ld	a, (hl)
2292  087A  D6 07       	sub	a,0x07
2293  087C  23          	inc	hl
2294  087D  B6          	or	a, (hl)
2295  087E  C0          	ret	NZ
2296  087F  21 00 00    	ld	hl,0x0000
2297  0882  22 00 00    	ld	(_player_joy),hl
2298  0885  C9          	ret
2299  0886              	SECTION code_compiler
2300  0886              ;	---------------------------------
2301  0886              ; Function game_joystick_set_menu
2302  0886              ; ---------------------------------
2303  0886              _game_joystick_set_menu:
2304  0886  21 00 00    	ld	hl,_in_stick_keyboard
2305  0889  22 00 00    	ld	(_joyfunc1),hl
2306  088C  C9          	ret
2307  088D              	SECTION code_compiler
2308  088D              ;	---------------------------------
2309  088D              ; Function game_joystick_set
2310  088D              ; ---------------------------------
2311  088D              _game_joystick_set:
2312  088D  2A 00 00    	ld	hl,(_player_joy)
2313  0890  29          	add	hl,hl
2314  0891  4D          	ld	c,l
2315  0892  44          	ld	b,h
2316  0893  21 00 00    	ld	hl,_control_method
2317  0896  09          	add	hl,bc
2318  0897  11 00 00    	ld	de,_joyfunc1
2319  089A  ED A0       	ldi
2320  089C  7E          	ld	a,(hl)
2321  089D  12          	ld	(de),a
2322  089E  C9          	ret
2323  089F              	SECTION code_compiler
2324  089F              ;	---------------------------------
2325  089F              ; Function game_end
2326  089F              ; ---------------------------------
2327  089F              	defc _game_end	=	_spr_draw_clear
2328  089F              	SECTION code_compiler
2329  089F              ;	---------------------------------
2330  089F              ; Function game_rotate_attrib
2331  089F              ; ---------------------------------
2332  089F              _game_rotate_attrib:
2333  089F  01 03 00    	ld	bc,_attrib_hl + 3
2334  08A2  0A          	ld	a, (bc)
2335  08A3  32 00 00    	ld	(_tmp_uc),a
2336  08A6  11 02 00    	ld	de,_attrib_hl + 2
2337  08A9  1A          	ld	a, (de)
2338  08AA  02          	ld	(bc), a
2339  08AB  01 01 00    	ld	bc,_attrib_hl + 1
2340  08AE  0A          	ld	a, (bc)
2341  08AF  12          	ld	(de), a
2342  08B0  3A 00 00    	ld	a,(_attrib_hl)
2343  08B3  02          	ld	(bc), a
2344  08B4  3A 00 00    	ld	a,(_tmp_uc)
2345  08B7  32 00 00    	ld	(_attrib_hl),a
2346  08BA  C9          	ret
2347  08BB              	SECTION code_compiler
2348  08BB              ;	---------------------------------
2349  08BB              ; Function game_colour_message
2350  08BB              ; ---------------------------------
2351  08BB              _game_colour_message:
2352  08BB  CD 00 00    	call	___sdcc_enter_ix
2353  08BE  3B          	dec	sp
2354  08BF  21 00 00    	ld	hl,_tmp
2355  08C2  36 01       	ld	(hl),0x01
2356  08C4  2A 00 00    	ld	hl,(_curr_time)
2357  08C7  22 00 00    	ld	(_frame_time),hl
2358  08CA  2A 00 00    	ld	hl,(_curr_time)
2359  08CD  22 00 00    	ld	(_entry_time),hl
2360  08D0  DD 7E 04    	ld	a,(ix+4)
2361  08D3  07          	rlca
2362  08D4  07          	rlca
2363  08D5  07          	rlca
2364  08D6  E6 F8       	and	a,0xf8
2365  08D8  C6 08       	add	a,0x08
2366  08DA  DD 77 FF    	ld	(ix-1),a
2367  08DD              l_game_colour_message_00107:
2368  08DD  3A 00 00    	ld	a,(_tmp)
2369  08E0  B7          	or	a, a
2370  08E1  28 55       	jr	Z,l_game_colour_message_00110
2371  08E3  DD 6E 07    	ld	l,(ix+7)
2372  08E6  DD 66 08    	ld	h,(ix+8)
2373  08E9  E5          	push	hl
2374  08EA  2A 00 00    	ld	hl,(_entry_time)
2375  08ED  E5          	push	hl
2376  08EE  CD 3C 09    	call	_game_check_time
2377  08F1  F1          	pop	af
2378  08F2  F1          	pop	af
2379  08F3  7D          	ld	a, l
2380  08F4  B7          	or	a, a
2381  08F5  20 41       	jr	NZ,l_game_colour_message_00110
2382  08F7  21 05 00    	ld	hl,0x0005
2383  08FA  E5          	push	hl
2384  08FB  2A 00 00    	ld	hl,(_frame_time)
2385  08FE  E5          	push	hl
2386  08FF  CD 3C 09    	call	_game_check_time
2387  0902  F1          	pop	af
2388  0903  F1          	pop	af
2389  0904  7D          	ld	a, l
2390  0905  B7          	or	a, a
2391  0906  28 1A       	jr	Z,l_game_colour_message_00103
2392  0908  2A 00 00    	ld	hl,(_curr_time)
2393  090B  22 00 00    	ld	(_frame_time),hl
2394  090E  DD 66 FF    	ld	h,(ix-1)
2395  0911  DD 6E 06    	ld	l,(ix+6)
2396  0914  E5          	push	hl
2397  0915  DD 7E 05    	ld	a,(ix+5)
2398  0918  F5          	push	af
2399  0919  33          	inc	sp
2400  091A  CD 47 08    	call	_game_paint_attrib_lin_h
2401  091D  F1          	pop	af
2402  091E  33          	inc	sp
2403  091F  CD 9F 08    	call	_game_rotate_attrib
2404  0922              l_game_colour_message_00103:
2405  0922  21 00 00    	ld	hl,_k1
2406  0925  E5          	push	hl
2407  0926  2A 00 00    	ld	hl,(_joyfunc1)
2408  0929  CD 00 00    	call	___sdcc_call_hl
2409  092C  F1          	pop	af
2410  092D  7C          	ld	a,h
2411  092E  B5          	or	a,l
2412  092F  28 AC       	jr	Z,l_game_colour_message_00107
2413  0931  21 00 00    	ld	hl,_tmp
2414  0934  36 00       	ld	(hl),0x00
2415  0936  18 EA       	jr	l_game_colour_message_00103
2416  0938              l_game_colour_message_00110:
2417  0938  33          	inc	sp
2418  0939  DD E1       	pop	ix
2419  093B  C9          	ret
2420  093C              	SECTION code_compiler
2421  093C              ;	---------------------------------
2422  093C              ; Function game_check_time
2423  093C              ; ---------------------------------
2424  093C              _game_check_time:
2425  093C  CD 00 00    	call	___sdcc_enter_ix
2426  093F  2A 00 00    	ld	hl,(_curr_time)
2427  0942  7D          	ld	a,l
2428  0943  DD 96 04    	sub	a,(ix+4)
2429  0946  4F          	ld	c,a
2430  0947  7C          	ld	a,h
2431  0948  DD 9E 05    	sbc	a,(ix+5)
2432  094B  47          	ld	b, a
2433  094C  DD 7E 06    	ld	a,(ix+6)
2434  094F  91          	sub	a, c
2435  0950  DD 7E 07    	ld	a,(ix+7)
2436  0953  98          	sbc	a, b
2437  0954  30 04       	jr	NC,l_game_check_time_00102
2438  0956  2E 01       	ld	l,0x01
2439  0958  18 02       	jr	l_game_check_time_00104
2440  095A              l_game_check_time_00102:
2441  095A  2E 00       	ld	l,0x00
2442  095C              l_game_check_time_00104:
2443  095C  DD E1       	pop	ix
2444  095E  C9          	ret
2445  095F              	SECTION code_compiler
2446  095F              ;	---------------------------------
2447  095F              ; Function game_shoot_fire
2448  095F              ; ---------------------------------
2449  095F              _game_shoot_fire:
2450  095F  CD 00 00    	call	___sdcc_enter_ix
2451  0962  F5          	push	af
2452  0963  F5          	push	af
2453  0964  3B          	dec	sp
2454  0965  01 00 00    	ld	bc,_bullet_col
2455  0968  DD 6E 04    	ld	l,(ix+4)
2456  096B  26 00       	ld	h,0x00
2457  096D  09          	add	hl,bc
2458  096E  DD 75 FE    	ld	(ix-2),l
2459  0971  DD 74 FF    	ld	(ix-1),h
2460  0974  4E          	ld	c, (hl)
2461  0975  0C          	inc	c
2462  0976  C2 5D 0A    	jp	NZ,l_game_shoot_fire_00111
2463  0979  21 00 00    	ld	hl,_bullet_count
2464  097C  34          	inc	(hl)
2465  097D  01 00 00    	ld	bc,_bullet_dir
2466  0980  DD 6E 04    	ld	l,(ix+4)
2467  0983  26 00       	ld	h,0x00
2468  0985  09          	add	hl,bc
2469  0986  DD 75 FC    	ld	(ix-4),l
2470  0989  DD 74 FD    	ld	(ix-3),h
2471  098C  36 00       	ld	(hl),0x00
2472  098E  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2473  0990  DD 86 04    	add	a,(ix+4)
2474  0993  5F          	ld	e, a
2475  0994  3E 00       	ld	a, +((_bullet_lin) / 256)
2476  0996  CE 00       	adc	a,0x00
2477  0998  57          	ld	d, a
2478  0999  3E 00       	ld	a, +((_lin) & 0xFF)
2479  099B  DD 86 04    	add	a,(ix+4)
2480  099E  4F          	ld	c, a
2481  099F  3E 00       	ld	a, +((_lin) / 256)
2482  09A1  CE 00       	adc	a,0x00
2483  09A3  47          	ld	b, a
2484  09A4  0A          	ld	a, (bc)
2485  09A5  12          	ld	(de), a
2486  09A6  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2487  09A8  DD 86 04    	add	a,(ix+4)
2488  09AB  5F          	ld	e, a
2489  09AC  3E 00       	ld	a, +((_bullet_frames) / 256)
2490  09AE  CE 00       	adc	a,0x00
2491  09B0  57          	ld	d, a
2492  09B1  3E 02       	ld	a,0x02
2493  09B3  12          	ld	(de), a
2494  09B4  3A 00 00    	ld	a,(_s_state)
2495  09B7  E6 08       	and	a,0x08
2496  09B9  DD 77 FB    	ld	(ix-5),a
2497  09BC  3A 00 00    	ld	a,(_sprite)
2498  09BF  D6 07       	sub	a,0x07
2499  09C1  20 08       	jr	NZ,l_game_shoot_fire_00102
2500  09C3  3A 07 00    	ld	a,(_state_a + 0x0007)
2501  09C6  E6 08       	and	a,0x08
2502  09C8  DD 77 FB    	ld	(ix-5),a
2503  09CB              l_game_shoot_fire_00102:
2504  09CB  3E 00       	ld	a, +((_col) & 0xFF)
2505  09CD  DD 86 04    	add	a,(ix+4)
2506  09D0  5F          	ld	e, a
2507  09D1  3E 00       	ld	a, +((_col) / 256)
2508  09D3  CE 00       	adc	a,0x00
2509  09D5  57          	ld	d, a
2510  09D6  1A          	ld	a, (de)
2511  09D7  F5          	push	af
2512  09D8  0A          	ld	a, (bc)
2513  09D9  47          	ld	b, a
2514  09DA  F1          	pop	af
2515  09DB  D5          	push	de
2516  09DC  48          	ld	c,b
2517  09DD  47          	ld	b,a
2518  09DE  C5          	push	bc
2519  09DF  CD 00 00    	call	_spr_calc_index
2520  09E2  F1          	pop	af
2521  09E3  D1          	pop	de
2522  09E4  22 00 00    	ld	(_index1),hl
2523  09E7  1A          	ld	a,(de)
2524  09E8  4F          	ld	c,a
2525  09E9  DD 7E FB    	ld	a,(ix-5)
2526  09EC  B7          	or	a, a
2527  09ED  28 39       	jr	Z,l_game_shoot_fire_00108
2528  09EF  79          	ld	a, c
2529  09F0  D6 01       	sub	a,0x01
2530  09F2  30 04       	jr	NC,l_game_shoot_fire_00104
2531  09F4  2E 01       	ld	l,0x01
2532  09F6  18 67       	jr	l_game_shoot_fire_00112
2533  09F8              l_game_shoot_fire_00104:
2534  09F8  DD 6E FE    	ld	l,(ix-2)
2535  09FB  DD 66 FF    	ld	h,(ix-1)
2536  09FE  71          	ld	(hl), c
2537  09FF  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2538  0A01  DD 86 04    	add	a,(ix+4)
2539  0A04  4F          	ld	c, a
2540  0A05  3E 00       	ld	a, +((_bullet_tile) / 256)
2541  0A07  CE 00       	adc	a,0x00
2542  0A09  47          	ld	b, a
2543  0A0A  DD 7E 05    	ld	a,(ix+5)
2544  0A0D  C6 02       	add	a,0x02
2545  0A0F  02          	ld	(bc), a
2546  0A10  DD 6E FC    	ld	l,(ix-4)
2547  0A13  DD 66 FD    	ld	h,(ix-3)
2548  0A16  36 01       	ld	(hl),0x01
2549  0A18  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2550  0A1A  DD 86 04    	add	a,(ix+4)
2551  0A1D  4F          	ld	c, a
2552  0A1E  3E 00       	ld	a, +((_bullet_colint) / 256)
2553  0A20  CE 00       	adc	a,0x00
2554  0A22  47          	ld	b, a
2555  0A23  3E 02       	ld	a,0x02
2556  0A25  02          	ld	(bc), a
2557  0A26  18 35       	jr	l_game_shoot_fire_00111
2558  0A28              l_game_shoot_fire_00108:
2559  0A28  3E 1D       	ld	a,0x1d
2560  0A2A  91          	sub	a, c
2561  0A2B  30 04       	jr	NC,l_game_shoot_fire_00106
2562  0A2D  2E 01       	ld	l,0x01
2563  0A2F  18 2E       	jr	l_game_shoot_fire_00112
2564  0A31              l_game_shoot_fire_00106:
2565  0A31  DD 6E FE    	ld	l,(ix-2)
2566  0A34  DD 66 FF    	ld	h,(ix-1)
2567  0A37  71          	ld	(hl), c
2568  0A38  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2569  0A3A  DD 86 04    	add	a,(ix+4)
2570  0A3D  4F          	ld	c, a
2571  0A3E  3E 00       	ld	a, +((_bullet_tile) / 256)
2572  0A40  CE 00       	adc	a,0x00
2573  0A42  47          	ld	b, a
2574  0A43  DD 7E 05    	ld	a,(ix+5)
2575  0A46  02          	ld	(bc), a
2576  0A47  DD 6E FC    	ld	l,(ix-4)
2577  0A4A  DD 66 FD    	ld	h,(ix-3)
2578  0A4D  36 FF       	ld	(hl),0xff
2579  0A4F  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2580  0A51  DD 86 04    	add	a,(ix+4)
2581  0A54  4F          	ld	c, a
2582  0A55  3E 00       	ld	a, +((_bullet_colint) / 256)
2583  0A57  CE 00       	adc	a,0x00
2584  0A59  47          	ld	b, a
2585  0A5A  3E FF       	ld	a,0xff
2586  0A5C  02          	ld	(bc), a
2587  0A5D              l_game_shoot_fire_00111:
2588  0A5D  2E 00       	ld	l,0x00
2589  0A5F              l_game_shoot_fire_00112:
2590  0A5F  DD F9       	ld	sp, ix
2591  0A61  DD E1       	pop	ix
2592  0A63  C9          	ret
2593  0A64              	SECTION code_compiler
2594  0A64              ;	---------------------------------
2595  0A64              ; Function game_obj_set
2596  0A64              ; ---------------------------------
2597  0A64              _game_obj_set:
2598  0A64  CD 00 00    	call	___sdcc_enter_ix
2599  0A67  21 00 00    	ld	hl,_scr_curr
2600  0A6A  7E          	ld	a, (hl)
2601  0A6B  D6 08       	sub	a,0x08
2602  0A6D  30 1E       	jr	NC,l_game_obj_set_00102
2603  0A6F  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2604  0A71  DD 86 04    	add	a,(ix+4)
2605  0A74  4F          	ld	c, a
2606  0A75  3E 00       	ld	a, +((_scr_obj0) / 256)
2607  0A77  DD 8E 05    	adc	a,(ix+5)
2608  0A7A  47          	ld	b, a
2609  0A7B  0A          	ld	a, (bc)
2610  0A7C  5F          	ld	e, a
2611  0A7D  7E          	ld	a, (hl)
2612  0A7E  3C          	inc	a
2613  0A7F  16 01       	ld	d,0x01
2614  0A81  18 02       	jr	l_game_obj_set_00111
2615  0A83              l_game_obj_set_00110:
2616  0A83  CB 22       	sla	d
2617  0A85              l_game_obj_set_00111:
2618  0A85  3D          	dec	a
2619  0A86  20 FB       	jr	NZ,l_game_obj_set_00110
2620  0A88  7B          	ld	a, e
2621  0A89  B2          	or	a, d
2622  0A8A  02          	ld	(bc), a
2623  0A8B  18 21       	jr	l_game_obj_set_00104
2624  0A8D              l_game_obj_set_00102:
2625  0A8D  3E 10       	ld	a,0x10
2626  0A8F  21 00 00    	ld	hl,_scr_curr
2627  0A92  96          	sub	a, (hl)
2628  0A93  47          	ld	b, a
2629  0A94  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2630  0A96  DD 86 04    	add	a,(ix+4)
2631  0A99  5F          	ld	e, a
2632  0A9A  3E 00       	ld	a, +((_scr_obj1) / 256)
2633  0A9C  DD 8E 05    	adc	a,(ix+5)
2634  0A9F  57          	ld	d, a
2635  0AA0  1A          	ld	a, (de)
2636  0AA1  4F          	ld	c, a
2637  0AA2  2E 01       	ld	l,0x01
2638  0AA4  04          	inc	b
2639  0AA5  18 02       	jr	l_game_obj_set_00113
2640  0AA7              l_game_obj_set_00112:
2641  0AA7  CB 25       	sla	l
2642  0AA9              l_game_obj_set_00113:
2643  0AA9  10 FC       	djnz	l_game_obj_set_00112
2644  0AAB  79          	ld	a, c
2645  0AAC  B5          	or	a, l
2646  0AAD  12          	ld	(de), a
2647  0AAE              l_game_obj_set_00104:
2648  0AAE  DD E1       	pop	ix
2649  0AB0  C9          	ret
2650  0AB1              	SECTION code_compiler
2651  0AB1              ;	---------------------------------
2652  0AB1              ; Function game_obj_chk
2653  0AB1              ; ---------------------------------
2654  0AB1              _game_obj_chk:
2655  0AB1  CD 00 00    	call	___sdcc_enter_ix
2656  0AB4  21 00 00    	ld	hl,_scr_curr
2657  0AB7  7E          	ld	a, (hl)
2658  0AB8  D6 08       	sub	a,0x08
2659  0ABA  30 1D       	jr	NC,l_game_obj_chk_00102
2660  0ABC  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2661  0ABE  DD 86 04    	add	a,(ix+4)
2662  0AC1  4F          	ld	c, a
2663  0AC2  3E 00       	ld	a, +((_scr_obj0) / 256)
2664  0AC4  DD 8E 05    	adc	a,(ix+5)
2665  0AC7  47          	ld	b, a
2666  0AC8  0A          	ld	a, (bc)
2667  0AC9  4F          	ld	c, a
2668  0ACA  46          	ld	b, (hl)
2669  0ACB  1E 01       	ld	e,0x01
2670  0ACD  04          	inc	b
2671  0ACE  18 02       	jr	l_game_obj_chk_00111
2672  0AD0              l_game_obj_chk_00110:
2673  0AD0  CB 23       	sla	e
2674  0AD2              l_game_obj_chk_00111:
2675  0AD2  10 FC       	djnz	l_game_obj_chk_00110
2676  0AD4  79          	ld	a, c
2677  0AD5  A3          	and	a, e
2678  0AD6  6F          	ld	l, a
2679  0AD7  18 21       	jr	l_game_obj_chk_00104
2680  0AD9              l_game_obj_chk_00102:
2681  0AD9  3E 10       	ld	a,0x10
2682  0ADB  21 00 00    	ld	hl,_scr_curr
2683  0ADE  96          	sub	a, (hl)
2684  0ADF  47          	ld	b, a
2685  0AE0  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2686  0AE2  DD 86 04    	add	a,(ix+4)
2687  0AE5  5F          	ld	e, a
2688  0AE6  3E 00       	ld	a, +((_scr_obj1) / 256)
2689  0AE8  DD 8E 05    	adc	a,(ix+5)
2690  0AEB  57          	ld	d, a
2691  0AEC  1A          	ld	a, (de)
2692  0AED  4F          	ld	c, a
2693  0AEE  1E 01       	ld	e,0x01
2694  0AF0  04          	inc	b
2695  0AF1  18 02       	jr	l_game_obj_chk_00113
2696  0AF3              l_game_obj_chk_00112:
2697  0AF3  CB 23       	sla	e
2698  0AF5              l_game_obj_chk_00113:
2699  0AF5  10 FC       	djnz	l_game_obj_chk_00112
2700  0AF7  79          	ld	a, c
2701  0AF8  A3          	and	a, e
2702  0AF9  6F          	ld	l, a
2703  0AFA              l_game_obj_chk_00104:
2704  0AFA  DD E1       	pop	ix
2705  0AFC  C9          	ret
2706  0AFD              	SECTION IGNORE
2707  0000              
