1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_draw_screen
191   0000              	GLOBAL _game_add_enemy
192   0000              	GLOBAL _game_print_footer
193   0000              	GLOBAL _game_phase_print_score_back
194   0000              	GLOBAL _game_update_stats
195   0000              	GLOBAL _game_tick
196   0000              	GLOBAL _game_start_timer
197   0000              	GLOBAL _game_round_init
198   0000              	GLOBAL _game_print_header
199   0000              	GLOBAL _game_check_map
200   0000              	GLOBAL _game_check_cell
201   0000              	GLOBAL _game_enemy_add_get_index
202   0000              	GLOBAL _game_print_score
203   0000              	GLOBAL _game_paint_attrib
204   0000              	GLOBAL _game_paint_attrib_lin
205   0000              	GLOBAL _game_paint_attrib_lin_h
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_end
210   0000              	GLOBAL _game_rotate_attrib
211   0000              	GLOBAL _game_colour_message
212   0000              	GLOBAL _game_check_time
213   0000              	GLOBAL _game_shoot_fire
214   0000              	GLOBAL _game_obj_set
215   0000              	GLOBAL _game_obj_chk
216   0000              	GLOBAL _game_obj_clear
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ffsll_callee
221   0000              	GLOBAL _ffsll
222   0000              	GLOBAL _strxfrm_callee
223   0000              	GLOBAL _strxfrm
224   0000              	GLOBAL _strupr_fastcall
225   0000              	GLOBAL _strupr
226   0000              	GLOBAL _strtok_r_callee
227   0000              	GLOBAL _strtok_r
228   0000              	GLOBAL _strtok_callee
229   0000              	GLOBAL _strtok
230   0000              	GLOBAL _strstrip_fastcall
231   0000              	GLOBAL _strstrip
232   0000              	GLOBAL _strstr_callee
233   0000              	GLOBAL _strstr
234   0000              	GLOBAL _strspn_callee
235   0000              	GLOBAL _strspn
236   0000              	GLOBAL _strsep_callee
237   0000              	GLOBAL _strsep
238   0000              	GLOBAL _strrstrip_fastcall
239   0000              	GLOBAL _strrstrip
240   0000              	GLOBAL _strrspn_callee
241   0000              	GLOBAL _strrspn
242   0000              	GLOBAL _strrev_fastcall
243   0000              	GLOBAL _strrev
244   0000              	GLOBAL _strrcspn_callee
245   0000              	GLOBAL _strrcspn
246   0000              	GLOBAL _strrchr_callee
247   0000              	GLOBAL _strrchr
248   0000              	GLOBAL _strpbrk_callee
249   0000              	GLOBAL _strpbrk
250   0000              	GLOBAL _strnlen_callee
251   0000              	GLOBAL _strnlen
252   0000              	GLOBAL _strnicmp_callee
253   0000              	GLOBAL _strnicmp
254   0000              	GLOBAL _strndup_callee
255   0000              	GLOBAL _strndup
256   0000              	GLOBAL _strncpy_callee
257   0000              	GLOBAL _strncpy
258   0000              	GLOBAL _strncmp_callee
259   0000              	GLOBAL _strncmp
260   0000              	GLOBAL _strnchr_callee
261   0000              	GLOBAL _strnchr
262   0000              	GLOBAL _strncat_callee
263   0000              	GLOBAL _strncat
264   0000              	GLOBAL _strncasecmp_callee
265   0000              	GLOBAL _strncasecmp
266   0000              	GLOBAL _strlwr_fastcall
267   0000              	GLOBAL _strlwr
268   0000              	GLOBAL _strlen_fastcall
269   0000              	GLOBAL _strlen
270   0000              	GLOBAL _strlcpy_callee
271   0000              	GLOBAL _strlcpy
272   0000              	GLOBAL _strlcat_callee
273   0000              	GLOBAL _strlcat
274   0000              	GLOBAL _stricmp_callee
275   0000              	GLOBAL _stricmp
276   0000              	GLOBAL _strerror_fastcall
277   0000              	GLOBAL _strerror
278   0000              	GLOBAL _strdup_fastcall
279   0000              	GLOBAL _strdup
280   0000              	GLOBAL _strcspn_callee
281   0000              	GLOBAL _strcspn
282   0000              	GLOBAL _strcpy_callee
283   0000              	GLOBAL _strcpy
284   0000              	GLOBAL _strcoll_callee
285   0000              	GLOBAL _strcoll
286   0000              	GLOBAL _strcmp_callee
287   0000              	GLOBAL _strcmp
288   0000              	GLOBAL _strchrnul_callee
289   0000              	GLOBAL _strchrnul
290   0000              	GLOBAL _strchr_callee
291   0000              	GLOBAL _strchr
292   0000              	GLOBAL _strcat_callee
293   0000              	GLOBAL _strcat
294   0000              	GLOBAL _strcasecmp_callee
295   0000              	GLOBAL _strcasecmp
296   0000              	GLOBAL _stpncpy_callee
297   0000              	GLOBAL _stpncpy
298   0000              	GLOBAL _stpcpy_callee
299   0000              	GLOBAL _stpcpy
300   0000              	GLOBAL _memswap_callee
301   0000              	GLOBAL _memswap
302   0000              	GLOBAL _memset_callee
303   0000              	GLOBAL _memset
304   0000              	GLOBAL _memrchr_callee
305   0000              	GLOBAL _memrchr
306   0000              	GLOBAL _memmove_callee
307   0000              	GLOBAL _memmove
308   0000              	GLOBAL _memmem_callee
309   0000              	GLOBAL _memmem
310   0000              	GLOBAL _memcpy_callee
311   0000              	GLOBAL _memcpy
312   0000              	GLOBAL _memcmp_callee
313   0000              	GLOBAL _memcmp
314   0000              	GLOBAL _memchr_callee
315   0000              	GLOBAL _memchr
316   0000              	GLOBAL _memccpy_callee
317   0000              	GLOBAL _memccpy
318   0000              	GLOBAL _ffsl_fastcall
319   0000              	GLOBAL _ffsl
320   0000              	GLOBAL _ffs_fastcall
321   0000              	GLOBAL _ffs
322   0000              	GLOBAL __strrstrip__fastcall
323   0000              	GLOBAL __strrstrip_
324   0000              	GLOBAL __memupr__callee
325   0000              	GLOBAL __memupr_
326   0000              	GLOBAL __memstrcpy__callee
327   0000              	GLOBAL __memstrcpy_
328   0000              	GLOBAL __memlwr__callee
329   0000              	GLOBAL __memlwr_
330   0000              	GLOBAL _rawmemchr_callee
331   0000              	GLOBAL _rawmemchr
332   0000              	GLOBAL _strnset_callee
333   0000              	GLOBAL _strnset
334   0000              	GLOBAL _strset_callee
335   0000              	GLOBAL _strset
336   0000              	GLOBAL _rindex_callee
337   0000              	GLOBAL _rindex
338   0000              	GLOBAL _index_callee
339   0000              	GLOBAL _index
340   0000              	GLOBAL _bzero_callee
341   0000              	GLOBAL _bzero
342   0000              	GLOBAL _bcopy_callee
343   0000              	GLOBAL _bcopy
344   0000              	GLOBAL _bcmp_callee
345   0000              	GLOBAL _bcmp
346   0000              	GLOBAL _ulltoa_callee
347   0000              	GLOBAL _ulltoa
348   0000              	GLOBAL _strtoull_callee
349   0000              	GLOBAL _strtoull
350   0000              	GLOBAL _strtoll_callee
351   0000              	GLOBAL _strtoll
352   0000              	GLOBAL _lltoa_callee
353   0000              	GLOBAL _lltoa
354   0000              	GLOBAL _llabs_callee
355   0000              	GLOBAL _llabs
356   0000              	GLOBAL __lldivu__callee
357   0000              	GLOBAL __lldivu_
358   0000              	GLOBAL __lldiv__callee
359   0000              	GLOBAL __lldiv_
360   0000              	GLOBAL _atoll_callee
361   0000              	GLOBAL _atoll
362   0000              	GLOBAL _realloc_unlocked_callee
363   0000              	GLOBAL _realloc_unlocked
364   0000              	GLOBAL _malloc_unlocked_fastcall
365   0000              	GLOBAL _malloc_unlocked
366   0000              	GLOBAL _free_unlocked_fastcall
367   0000              	GLOBAL _free_unlocked
368   0000              	GLOBAL _calloc_unlocked_callee
369   0000              	GLOBAL _calloc_unlocked
370   0000              	GLOBAL _aligned_alloc_unlocked_callee
371   0000              	GLOBAL _aligned_alloc_unlocked
372   0000              	GLOBAL _realloc_callee
373   0000              	GLOBAL _realloc
374   0000              	GLOBAL _malloc_fastcall
375   0000              	GLOBAL _malloc
376   0000              	GLOBAL _free_fastcall
377   0000              	GLOBAL _free
378   0000              	GLOBAL _calloc_callee
379   0000              	GLOBAL _calloc
380   0000              	GLOBAL _aligned_alloc_callee
381   0000              	GLOBAL _aligned_alloc
382   0000              	GLOBAL _utoa_callee
383   0000              	GLOBAL _utoa
384   0000              	GLOBAL _ultoa_callee
385   0000              	GLOBAL _ultoa
386   0000              	GLOBAL _system_fastcall
387   0000              	GLOBAL _system
388   0000              	GLOBAL _strtoul_callee
389   0000              	GLOBAL _strtoul
390   0000              	GLOBAL _strtol_callee
391   0000              	GLOBAL _strtol
392   0000              	GLOBAL _strtof_callee
393   0000              	GLOBAL _strtof
394   0000              	GLOBAL _strtod_callee
395   0000              	GLOBAL _strtod
396   0000              	GLOBAL _srand_fastcall
397   0000              	GLOBAL _srand
398   0000              	GLOBAL _rand
399   0000              	GLOBAL _quick_exit_fastcall
400   0000              	GLOBAL _quick_exit
401   0000              	GLOBAL _qsort_callee
402   0000              	GLOBAL _qsort
403   0000              	GLOBAL _ltoa_callee
404   0000              	GLOBAL _ltoa
405   0000              	GLOBAL _labs_fastcall
406   0000              	GLOBAL _labs
407   0000              	GLOBAL _itoa_callee
408   0000              	GLOBAL _itoa
409   0000              	GLOBAL _ftoh_callee
410   0000              	GLOBAL _ftoh
411   0000              	GLOBAL _ftog_callee
412   0000              	GLOBAL _ftog
413   0000              	GLOBAL _ftoe_callee
414   0000              	GLOBAL _ftoe
415   0000              	GLOBAL _ftoa_callee
416   0000              	GLOBAL _ftoa
417   0000              	GLOBAL _exit_fastcall
418   0000              	GLOBAL _exit
419   0000              	GLOBAL _dtoh_callee
420   0000              	GLOBAL _dtoh
421   0000              	GLOBAL _dtog_callee
422   0000              	GLOBAL _dtog
423   0000              	GLOBAL _dtoe_callee
424   0000              	GLOBAL _dtoe
425   0000              	GLOBAL _dtoa_callee
426   0000              	GLOBAL _dtoa
427   0000              	GLOBAL _bsearch_callee
428   0000              	GLOBAL _bsearch
429   0000              	GLOBAL _atol_fastcall
430   0000              	GLOBAL _atol
431   0000              	GLOBAL _atoi_fastcall
432   0000              	GLOBAL _atoi
433   0000              	GLOBAL _atof_fastcall
434   0000              	GLOBAL _atof
435   0000              	GLOBAL _atexit_fastcall
436   0000              	GLOBAL _atexit
437   0000              	GLOBAL _at_quick_exit_fastcall
438   0000              	GLOBAL _at_quick_exit
439   0000              	GLOBAL _abs_fastcall
440   0000              	GLOBAL _abs
441   0000              	GLOBAL _abort
442   0000              	GLOBAL __strtou__callee
443   0000              	GLOBAL __strtou_
444   0000              	GLOBAL __strtoi__callee
445   0000              	GLOBAL __strtoi_
446   0000              	GLOBAL __random_uniform_xor_8__fastcall
447   0000              	GLOBAL __random_uniform_xor_8_
448   0000              	GLOBAL __random_uniform_xor_32__fastcall
449   0000              	GLOBAL __random_uniform_xor_32_
450   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
451   0000              	GLOBAL __random_uniform_cmwc_8_
452   0000              	GLOBAL __shellsort__callee
453   0000              	GLOBAL __shellsort_
454   0000              	GLOBAL __quicksort__callee
455   0000              	GLOBAL __quicksort_
456   0000              	GLOBAL __insertion_sort__callee
457   0000              	GLOBAL __insertion_sort_
458   0000              	GLOBAL __ldivu__callee
459   0000              	GLOBAL __ldivu_
460   0000              	GLOBAL __ldiv__callee
461   0000              	GLOBAL __ldiv_
462   0000              	GLOBAL __divu__callee
463   0000              	GLOBAL __divu_
464   0000              	GLOBAL __div__callee
465   0000              	GLOBAL __div_
466   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
467   0000              	GLOBAL _NIRVANAP_drawTW_raw
468   0000              	GLOBAL _NIRVANAP_drawTW_callee
469   0000              	GLOBAL _NIRVANAP_drawTW
470   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawW_raw
472   0000              	GLOBAL _NIRVANAP_drawW_callee
473   0000              	GLOBAL _NIRVANAP_drawW
474   0000              	GLOBAL _NIRVANAP_spriteT_callee
475   0000              	GLOBAL _NIRVANAP_spriteT
476   0000              	GLOBAL _NIRVANAP_fillC_callee
477   0000              	GLOBAL _NIRVANAP_fillC
478   0000              	GLOBAL _NIRVANAP_readC_callee
479   0000              	GLOBAL _NIRVANAP_readC
480   0000              	GLOBAL _NIRVANAP_paintC_callee
481   0000              	GLOBAL _NIRVANAP_paintC
482   0000              	GLOBAL _NIRVANAP_printC_callee
483   0000              	GLOBAL _NIRVANAP_printC
484   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
485   0000              	GLOBAL _NIRVANAP_fillT_raw
486   0000              	GLOBAL _NIRVANAP_fillT_callee
487   0000              	GLOBAL _NIRVANAP_fillT
488   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
489   0000              	GLOBAL _NIRVANAP_drawT_raw
490   0000              	GLOBAL _NIRVANAP_drawT_callee
491   0000              	GLOBAL _NIRVANAP_drawT
492   0000              	GLOBAL _NIRVANAP_stop
493   0000              	GLOBAL _NIRVANAP_start
494   0000              	GLOBAL _debug3
495   0000              	GLOBAL _debug2
496   0000              	GLOBAL _debug
497   0000              	GLOBAL _zx_print_str
498   0000              	GLOBAL _zx_print_int
499   0000              	GLOBAL _zx_print_chr
500   0000              	GLOBAL _zx_print_bonus_time
501   0000              	GLOBAL _zx_isr
502   0000              	GLOBAL _z80_otdr_callee
503   0000              	GLOBAL _z80_otdr
504   0000              	GLOBAL _z80_otir_callee
505   0000              	GLOBAL _z80_otir
506   0000              	GLOBAL _z80_outp_callee
507   0000              	GLOBAL _z80_outp
508   0000              	GLOBAL _z80_indr_callee
509   0000              	GLOBAL _z80_indr
510   0000              	GLOBAL _z80_inir_callee
511   0000              	GLOBAL _z80_inir
512   0000              	GLOBAL _z80_inp_fastcall
513   0000              	GLOBAL _z80_inp
514   0000              	GLOBAL _z80_set_int_state_fastcall
515   0000              	GLOBAL _z80_set_int_state
516   0000              	GLOBAL _z80_get_int_state
517   0000              	GLOBAL _z80_delay_tstate_fastcall
518   0000              	GLOBAL _z80_delay_tstate
519   0000              	GLOBAL _z80_delay_ms_fastcall
520   0000              	GLOBAL _z80_delay_ms
521   0000              	GLOBAL _im2_remove_generic_callback_callee
522   0000              	GLOBAL _im2_remove_generic_callback
523   0000              	GLOBAL _im2_prepend_generic_callback_callee
524   0000              	GLOBAL _im2_prepend_generic_callback
525   0000              	GLOBAL _im2_append_generic_callback_callee
526   0000              	GLOBAL _im2_append_generic_callback
527   0000              	GLOBAL _im2_create_generic_isr_8080_callee
528   0000              	GLOBAL _im2_create_generic_isr_8080
529   0000              	GLOBAL _im2_create_generic_isr_callee
530   0000              	GLOBAL _im2_create_generic_isr
531   0000              	GLOBAL _im2_install_isr_callee
532   0000              	GLOBAL _im2_install_isr
533   0000              	GLOBAL _im2_init_fastcall
534   0000              	GLOBAL _im2_init
535   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
536   0000              	GLOBAL _intrinsic_swap_word_32
537   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
538   0000              	GLOBAL _intrinsic_swap_endian_32
539   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
540   0000              	GLOBAL _intrinsic_swap_endian_16
541   0000              	GLOBAL _intrinsic_return_de
542   0000              	GLOBAL _intrinsic_return_bc
543   0000              	GLOBAL _intrinsic_exx
544   0000              	GLOBAL _intrinsic_ex_de_hl
545   0000              	GLOBAL _intrinsic_nop
546   0000              	GLOBAL _intrinsic_im_2
547   0000              	GLOBAL _intrinsic_im_1
548   0000              	GLOBAL _intrinsic_im_0
549   0000              	GLOBAL _intrinsic_retn
550   0000              	GLOBAL _intrinsic_reti
551   0000              	GLOBAL _intrinsic_halt
552   0000              	GLOBAL _intrinsic_ei
553   0000              	GLOBAL _intrinsic_di
554   0000              	GLOBAL _intrinsic_stub
555   0000              	GLOBAL _intrinsic_outi
556   0000              	GLOBAL _intrinsic_ldi
557   0000              	GLOBAL _zx_pattern_fill_callee
558   0000              	GLOBAL _zx_pattern_fill
559   0000              	GLOBAL _zx_saddrpup_fastcall
560   0000              	GLOBAL _zx_saddrpup
561   0000              	GLOBAL _zx_saddrpright_callee
562   0000              	GLOBAL _zx_saddrpright
563   0000              	GLOBAL _zx_saddrpleft_callee
564   0000              	GLOBAL _zx_saddrpleft
565   0000              	GLOBAL _zx_saddrpdown_fastcall
566   0000              	GLOBAL _zx_saddrpdown
567   0000              	GLOBAL _zx_saddrcup_fastcall
568   0000              	GLOBAL _zx_saddrcup
569   0000              	GLOBAL _zx_saddrcright_fastcall
570   0000              	GLOBAL _zx_saddrcright
571   0000              	GLOBAL _zx_saddrcleft_fastcall
572   0000              	GLOBAL _zx_saddrcleft
573   0000              	GLOBAL _zx_saddrcdown_fastcall
574   0000              	GLOBAL _zx_saddrcdown
575   0000              	GLOBAL _zx_saddr2py_fastcall
576   0000              	GLOBAL _zx_saddr2py
577   0000              	GLOBAL _zx_saddr2px_fastcall
578   0000              	GLOBAL _zx_saddr2px
579   0000              	GLOBAL _zx_saddr2cy_fastcall
580   0000              	GLOBAL _zx_saddr2cy
581   0000              	GLOBAL _zx_saddr2cx_fastcall
582   0000              	GLOBAL _zx_saddr2cx
583   0000              	GLOBAL _zx_saddr2aaddr_fastcall
584   0000              	GLOBAL _zx_saddr2aaddr
585   0000              	GLOBAL _zx_py2saddr_fastcall
586   0000              	GLOBAL _zx_py2saddr
587   0000              	GLOBAL _zx_py2aaddr_fastcall
588   0000              	GLOBAL _zx_py2aaddr
589   0000              	GLOBAL _zx_pxy2saddr_callee
590   0000              	GLOBAL _zx_pxy2saddr
591   0000              	GLOBAL _zx_pxy2aaddr_callee
592   0000              	GLOBAL _zx_pxy2aaddr
593   0000              	GLOBAL _zx_px2bitmask_fastcall
594   0000              	GLOBAL _zx_px2bitmask
595   0000              	GLOBAL _zx_cy2saddr_fastcall
596   0000              	GLOBAL _zx_cy2saddr
597   0000              	GLOBAL _zx_cy2aaddr_fastcall
598   0000              	GLOBAL _zx_cy2aaddr
599   0000              	GLOBAL _zx_cxy2saddr_callee
600   0000              	GLOBAL _zx_cxy2saddr
601   0000              	GLOBAL _zx_cxy2aaddr_callee
602   0000              	GLOBAL _zx_cxy2aaddr
603   0000              	GLOBAL _zx_bitmask2px_fastcall
604   0000              	GLOBAL _zx_bitmask2px
605   0000              	GLOBAL _zx_aaddrcup_fastcall
606   0000              	GLOBAL _zx_aaddrcup
607   0000              	GLOBAL _zx_aaddrcright_fastcall
608   0000              	GLOBAL _zx_aaddrcright
609   0000              	GLOBAL _zx_aaddrcleft_fastcall
610   0000              	GLOBAL _zx_aaddrcleft
611   0000              	GLOBAL _zx_aaddrcdown_fastcall
612   0000              	GLOBAL _zx_aaddrcdown
613   0000              	GLOBAL _zx_aaddr2saddr_fastcall
614   0000              	GLOBAL _zx_aaddr2saddr
615   0000              	GLOBAL _zx_aaddr2py_fastcall
616   0000              	GLOBAL _zx_aaddr2py
617   0000              	GLOBAL _zx_aaddr2px_fastcall
618   0000              	GLOBAL _zx_aaddr2px
619   0000              	GLOBAL _zx_aaddr2cy_fastcall
620   0000              	GLOBAL _zx_aaddr2cy
621   0000              	GLOBAL _zx_aaddr2cx_fastcall
622   0000              	GLOBAL _zx_aaddr2cx
623   0000              	GLOBAL _zx_visit_wc_pix_callee
624   0000              	GLOBAL _zx_visit_wc_pix
625   0000              	GLOBAL _zx_visit_wc_attr_callee
626   0000              	GLOBAL _zx_visit_wc_attr
627   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
628   0000              	GLOBAL _zx_scroll_wc_up_pix
629   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
630   0000              	GLOBAL _zx_scroll_wc_up_attr
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_pix_callee
634   0000              	GLOBAL _zx_scroll_up_pix
635   0000              	GLOBAL _zx_scroll_up_attr_callee
636   0000              	GLOBAL _zx_scroll_up_attr
637   0000              	GLOBAL _zx_scroll_up_callee
638   0000              	GLOBAL _zx_scroll_up
639   0000              	GLOBAL _zx_cls_wc_pix_callee
640   0000              	GLOBAL _zx_cls_wc_pix
641   0000              	GLOBAL _zx_cls_wc_attr_callee
642   0000              	GLOBAL _zx_cls_wc_attr
643   0000              	GLOBAL _zx_cls_wc_callee
644   0000              	GLOBAL _zx_cls_wc
645   0000              	GLOBAL _zx_cls_pix_fastcall
646   0000              	GLOBAL _zx_cls_pix
647   0000              	GLOBAL _zx_cls_attr_fastcall
648   0000              	GLOBAL _zx_cls_attr
649   0000              	GLOBAL _zx_cls_fastcall
650   0000              	GLOBAL _zx_cls
651   0000              	GLOBAL _zx_border_fastcall
652   0000              	GLOBAL _zx_border
653   0000              	GLOBAL _spr_btile_paint_back
654   0000              	GLOBAL _spr_explode_bullet
655   0000              	GLOBAL _spr_init_anim_bullets
656   0000              	GLOBAL _spr_turn_horizontal
657   0000              	GLOBAL _spr_play_bullets
658   0000              	GLOBAL _spr_play_anim
659   0000              	GLOBAL _spr_add_anim
660   0000              	GLOBAL _spr_page_map
661   0000              	GLOBAL _spr_page_right
662   0000              	GLOBAL _spr_page_left
663   0000              	GLOBAL _spr_tile_paint
664   0000              	GLOBAL _spr_calc_hor
665   0000              	GLOBAL _spr_draw_row
666   0000              	GLOBAL _spr_draw_index
667   0000              	GLOBAL _spr_draw_clear
668   0000              	GLOBAL _spr_brick_anim
669   0000              	GLOBAL _spr_back_repaint
670   0000              	GLOBAL _spr_tile
671   0000              	GLOBAL _spr_destroy
672   0000              	GLOBAL _spr_tile_dir
673   0000              	GLOBAL _spr_redraw
674   0000              	GLOBAL _spr_move_left
675   0000              	GLOBAL _spr_move_right
676   0000              	GLOBAL _spr_move_horizontal
677   0000              	GLOBAL _spr_move_down
678   0000              	GLOBAL _spr_move_up
679   0000              	GLOBAL _spr_calc_index
680   0000              	GLOBAL _spr_chktime
681   0000              	GLOBAL _sound_hit_brick
682   0000              	GLOBAL _sound_hit_enemy
683   0000              	GLOBAL _sound_kill
684   0000              	GLOBAL _sound_enter_enemy
685   0000              	GLOBAL _sound_coin
686   0000              	GLOBAL _sound_jump
687   0000              	GLOBAL _sound_slide
688   0000              	GLOBAL _player_lost_life
689   0000              	GLOBAL _player_hit
690   0000              	GLOBAL _player_open_door
691   0000              	GLOBAL _player_move_jump
692   0000              	GLOBAL _player_fire
693   0000              	GLOBAL _player_check_stairs_down
694   0000              	GLOBAL _player_check_stairs
695   0000              	GLOBAL _player_tile
696   0000              	GLOBAL _player_pick_item
697   0000              	GLOBAL _player_check_floor
698   0000              	GLOBAL _player_hit_platform_clear
699   0000              	GLOBAL _player_score_add
700   0000              	GLOBAL _player_player_hit_pow
701   0000              	GLOBAL _player_hit_platform
702   0000              	GLOBAL _player_move_input
703   0000              	GLOBAL _player_turn
704   0000              	GLOBAL _player_move
705   0000              	GLOBAL _player_restart
706   0000              	GLOBAL _player_kill
707   0000              	GLOBAL _player_check_input
708   0000              	GLOBAL _player_collision
709   0000              	GLOBAL _player_init
710   0000              	GLOBAL _game_unfreeze_all
711   0000              	GLOBAL _game_freeze_all
712   0000              	GLOBAL _game_freeze
713   0000              	GLOBAL _game_fill_row
714   0000              	GLOBAL _enemy_avoid_fall_dead
715   0000              	GLOBAL _enemy_avoid_fall
716   0000              	GLOBAL _enemy_respawn
717   0000              	GLOBAL _enemy_init
718   0000              	GLOBAL _enemy_move
719   0000              	GLOBAL _enemy_turn
720   0000              	GLOBAL _enemy_hit
721   0000              	GLOBAL _enemy_coin1
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_fx_play
727   0000              	GLOBAL _ay_midi_play
728   0000              	GLOBAL _ay_is_playing
729   0000              	GLOBAL _ay_reset
730   0000              	GLOBAL _test_func
731   0000              	GLOBAL _test_proc
732   0000              	GLOBAL _in_mouse_kempston_wheel_delta
733   0000              	GLOBAL _in_mouse_kempston_wheel
734   0000              	GLOBAL _in_mouse_kempston_callee
735   0000              	GLOBAL _in_mouse_kempston
736   0000              	GLOBAL _in_mouse_kempston_setpos_callee
737   0000              	GLOBAL _in_mouse_kempston_setpos
738   0000              	GLOBAL _in_mouse_kempston_reset
739   0000              	GLOBAL _in_mouse_kempston_init
740   0000              	GLOBAL _in_mouse_amx_wheel_delta
741   0000              	GLOBAL _in_mouse_amx_wheel
742   0000              	GLOBAL _in_mouse_amx_callee
743   0000              	GLOBAL _in_mouse_amx
744   0000              	GLOBAL _in_mouse_amx_setpos_callee
745   0000              	GLOBAL _in_mouse_amx_setpos
746   0000              	GLOBAL _in_mouse_amx_reset
747   0000              	GLOBAL _in_mouse_amx_init_callee
748   0000              	GLOBAL _in_mouse_amx_init
749   0000              	GLOBAL _in_stick_sinclair2
750   0000              	GLOBAL _in_stick_sinclair1
751   0000              	GLOBAL _in_stick_kempston
752   0000              	GLOBAL _in_stick_fuller
753   0000              	GLOBAL _in_stick_cursor
754   0000              	GLOBAL _in_stick_keyboard_fastcall
755   0000              	GLOBAL _in_stick_keyboard
756   0000              	GLOBAL _in_wait_nokey
757   0000              	GLOBAL _in_wait_key
758   0000              	GLOBAL _in_test_key
759   0000              	GLOBAL _in_pause_fastcall
760   0000              	GLOBAL _in_pause
761   0000              	GLOBAL _in_key_scancode_fastcall
762   0000              	GLOBAL _in_key_scancode
763   0000              	GLOBAL _in_key_pressed_fastcall
764   0000              	GLOBAL _in_key_pressed
765   0000              	GLOBAL _in_inkey
766   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
767   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
768   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
769   0000              	GLOBAL _NIRVANAP_HOLE
770   0000              	GLOBAL _NIRVANAP_ISR_HOOK
771   0000              	GLOBAL _player_lvl_table
772   0000              	GLOBAL _map_paper_last
773   0000              	GLOBAL _map_paper_clr
774   0000              	GLOBAL _map_paper
775   0000              	GLOBAL _draw_count
776   0000              	GLOBAL _g_player_hit_right
777   0000              	GLOBAL _g_player_hit_left
778   0000              	GLOBAL _joynames
779   0000              	GLOBAL _initials
780   0000              	GLOBAL _bullet_count
781   0000              	GLOBAL _bullet_vel
782   0000              	GLOBAL _bullet_frames
783   0000              	GLOBAL _bullet_colint
784   0000              	GLOBAL _bullet_dir
785   0000              	GLOBAL _bullet_tile
786   0000              	GLOBAL _bullet_col
787   0000              	GLOBAL _bullet_lin
788   0000              	GLOBAL _bullet_col0
789   0000              	GLOBAL _bullet_lin0
790   0000              	GLOBAL _bullet_max
791   0000              	GLOBAL _bullet_class
792   0000              	GLOBAL _mush_class
793   0000              	GLOBAL _mush_index
794   0000              	GLOBAL _anim_count
795   0000              	GLOBAL _anim_respanwn
796   0000              	GLOBAL _anim_loop
797   0000              	GLOBAL _anim_end
798   0000              	GLOBAL _anim_int
799   0000              	GLOBAL _anim_tile
800   0000              	GLOBAL _anim_col
801   0000              	GLOBAL _anim_lin
802   0000              	GLOBAL _phase_curr
803   0000              	GLOBAL _map_heigth
804   0000              	GLOBAL _map_width
805   0000              	GLOBAL _scr_curr
806   0000              	GLOBAL _scr_obj1
807   0000              	GLOBAL _scr_obj0
808   0000              	GLOBAL _scr_map
809   0000              	GLOBAL _sprite_speed_alt
810   0000              	GLOBAL _sprite_frames
811   0000              	GLOBAL _sprite_speed
812   0000              	GLOBAL _screen_ink
813   0000              	GLOBAL _screen_paper
814   0000              	GLOBAL _player_over_stair
815   0000              	GLOBAL _game_start_scr
816   0000              	GLOBAL _game_respawn_tile
817   0000              	GLOBAL _game_respawn_index
818   0000              	GLOBAL _game_respawn_time
819   0000              	GLOBAL _game_menu_sel
820   0000              	GLOBAL _game_score_top
821   0000              	GLOBAL _player_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_sound
824   0000              	GLOBAL _game_inmune
825   0000              	GLOBAL _game_god_mode
826   0000              	GLOBAL _game_two_player
827   0000              	GLOBAL _game_brick_tile
828   0000              	GLOBAL _sprite_curr_index
829   0000              	GLOBAL _spr_count
830   0000              	GLOBAL _bullet_time
831   0000              	GLOBAL _anim_time
832   0000              	GLOBAL _frame_time
833   0000              	GLOBAL _entry_time
834   0000              	GLOBAL _curr_time
835   0000              	GLOBAL _s_state
836   0000              	GLOBAL _attrib_hl
837   0000              	GLOBAL _attrib
838   0000              	GLOBAL _zx_val_asm
839   0000              	GLOBAL _enemies
840   0000              	GLOBAL _tmp_ui
841   0000              	GLOBAL _tmp_sc
842   0000              	GLOBAL _tmp_uc
843   0000              	GLOBAL _tmp1
844   0000              	GLOBAL _tmp0
845   0000              	GLOBAL _tmp
846   0000              	GLOBAL _index1
847   0000              	GLOBAL _index0
848   0000              	GLOBAL _loop_count
849   0000              	GLOBAL _s_col1
850   0000              	GLOBAL _s_col0
851   0000              	GLOBAL _s_lin1
852   0000              	GLOBAL _s_lin0
853   0000              	GLOBAL _s_tile1
854   0000              	GLOBAL _s_tile0
855   0000              	GLOBAL _player_hit_count
856   0000              	GLOBAL _sprite_horizontal_check
857   0000              	GLOBAL _sprite_on_air
858   0000              	GLOBAL _sprite
859   0000              	GLOBAL _game_gravity
860   0000              	GLOBAL _player_hit_time
861   0000              	GLOBAL _player_lin_scr
862   0000              	GLOBAL _player_col_scr
863   0000              	GLOBAL _player_lvl
864   0000              	GLOBAL _player_int
865   0000              	GLOBAL _player_str
866   0000              	GLOBAL _player_max_vita
867   0000              	GLOBAL _player_max_mana
868   0000              	GLOBAL _player_vita
869   0000              	GLOBAL _player_mana
870   0000              	GLOBAL _player_keys
871   0000              	GLOBAL _player_vel_inc
872   0000              	GLOBAL _player_vel_y1
873   0000              	GLOBAL _player_vel_y0
874   0000              	GLOBAL _player_vel_y
875   0000              	GLOBAL _player_vel_x
876   0000              	GLOBAL _player_joy
877   0000              	GLOBAL _player_score
878   0000              	GLOBAL _last_time
879   0000              	GLOBAL _player_slide
880   0000              	GLOBAL _spr_timer
881   0000              	GLOBAL _jump_lin
882   0000              	GLOBAL _player_hit_col
883   0000              	GLOBAL _player_hit_lin
884   0000              	GLOBAL _colint
885   0000              	GLOBAL _col
886   0000              	GLOBAL _lin
887   0000              	GLOBAL _tile
888   0000              	GLOBAL _state_a
889   0000              	GLOBAL _state
890   0000              	GLOBAL _class
891   0000              	GLOBAL _tbuffer
892   0000              	GLOBAL _dirs
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
898   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
899   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
900   0000              	GLOBAL _ay_effect_20
901   0000              	GLOBAL _ay_effect_19
902   0000              	GLOBAL _ay_effect_18
903   0000              	GLOBAL _ay_effect_17
904   0000              	GLOBAL _ay_effect_16
905   0000              	GLOBAL _ay_effect_15
906   0000              	GLOBAL _ay_effect_14
907   0000              	GLOBAL _ay_effect_13
908   0000              	GLOBAL _ay_effect_12
909   0000              	GLOBAL _ay_effect_11
910   0000              	GLOBAL _ay_effect_10
911   0000              	GLOBAL _ay_effect_09
912   0000              	GLOBAL _ay_effect_08
913   0000              	GLOBAL _ay_effect_07
914   0000              	GLOBAL _ay_effect_06
915   0000              	GLOBAL _ay_effect_05
916   0000              	GLOBAL _ay_effect_04
917   0000              	GLOBAL _ay_effect_03
918   0000              	GLOBAL _ay_effect_02
919   0000              	GLOBAL _ay_effect_01
920   0000              	GLOBAL _pb_midi_phase_1
921   0000              	GLOBAL _pb_midi_title
922   0000              	GLOBAL _control_method
923   0000              	GLOBAL _world0
924   0000              	GLOBAL _lenght0
925   0000              	GLOBAL _start_scr0
926   0000              ;--------------------------------------------------------
927   0000              ; special function registers
928   0000              ;--------------------------------------------------------
929   0000              defc _IO_FE	=	0x00fe
930   0000              defc _IO_1FFD	=	0x1ffd
931   0000              defc _IO_7FFD	=	0x7ffd
932   0000              ;--------------------------------------------------------
933   0000              ; ram data
934   0000              ;--------------------------------------------------------
935   0000              	SECTION bss_compiler
936   0000              ;--------------------------------------------------------
937   0000              ; ram data
938   0000              ;--------------------------------------------------------
939   0000              
940   0000              IF 0
941   0000              
942   0000              ; .area _INITIALIZED removed by z88dk
943   0000              
944   0000              
945   0000              ENDIF
946   0000              
947   0000              ;--------------------------------------------------------
948   0000              ; absolute external ram data
949   0000              ;--------------------------------------------------------
950   0000              	SECTION IGNORE
951   0000              ;--------------------------------------------------------
952   0000              ; global & static initialisations
953   0000              ;--------------------------------------------------------
954   0000              	SECTION code_crt_init
955   0000              ;--------------------------------------------------------
956   0000              ; Home
957   0000              ;--------------------------------------------------------
958   0000              	SECTION IGNORE
959   0000              ;--------------------------------------------------------
960   0000              ; code
961   0000              ;--------------------------------------------------------
962   0000              	SECTION code_compiler
963   0000              ;	---------------------------------
964   0000              ; Function game_loop
965   0000              ; ---------------------------------
966   0000              _game_loop:
967   0000  CD 00 00    	call	___sdcc_enter_ix
968   0003  F5          	push	af
969   0004              l_game_loop_00118:
970   0004  3A 00 00    	ld	a,(_game_over)
971   0007  B7          	or	a, a
972   0008  C2 2F 01    	jp	NZ, l_game_loop_00121
973   000B  21 06 00    	ld	hl,0x0006
974   000E  E5          	push	hl
975   000F  2A 00 00    	ld	hl,(_anim_time)
976   0012  E5          	push	hl
977   0013  CD B8 09    	call	_game_check_time
978   0016  F1          	pop	af
979   0017  F1          	pop	af
980   0018  7D          	ld	a, l
981   0019  B7          	or	a, a
982   001A  28 14       	jr	Z,l_game_loop_00104
983   001C  2E 00       	ld	l,0x00
984   001E  CD 00 00    	call	_zx_border_fastcall
985   0021  2A 00 00    	ld	hl,(_curr_time)
986   0024  22 00 00    	ld	(_anim_time),hl
987   0027  3A 00 00    	ld	a,(_anim_count)
988   002A  B7          	or	a,a
989   002B  28 03       	jr	Z,l_game_loop_00104
990   002D  CD 00 00    	call	_spr_play_anim
991   0030              l_game_loop_00104:
992   0030  21 02 00    	ld	hl,0x0002
993   0033  E5          	push	hl
994   0034  2A 00 00    	ld	hl,(_bullet_time)
995   0037  E5          	push	hl
996   0038  CD B8 09    	call	_game_check_time
997   003B  F1          	pop	af
998   003C  F1          	pop	af
999   003D  7D          	ld	a, l
1000  003E  B7          	or	a, a
1001  003F  28 0F       	jr	Z,l_game_loop_00108
1002  0041  2A 00 00    	ld	hl,(_curr_time)
1003  0044  22 00 00    	ld	(_bullet_time),hl
1004  0047  3A 00 00    	ld	a,(_bullet_count)
1005  004A  B7          	or	a,a
1006  004B  28 03       	jr	Z,l_game_loop_00108
1007  004D  CD 00 00    	call	_spr_play_bullets
1008  0050              l_game_loop_00108:
1009  0050  21 64 00    	ld	hl,0x0064
1010  0053  E5          	push	hl
1011  0054  2A 00 00    	ld	hl,(_frame_time)
1012  0057  E5          	push	hl
1013  0058  CD B8 09    	call	_game_check_time
1014  005B  F1          	pop	af
1015  005C  F1          	pop	af
1016  005D  7D          	ld	a, l
1017  005E  B7          	or	a, a
1018  005F  CA 10 01    	jp	Z, l_game_loop_00117
1019  0062  21 00 00    	ld	hl,_screen_ink
1020  0065  36 07       	ld	(hl),0x07
1021  0067  E1          	pop	hl
1022  0068  E5          	push	hl
1023  0069  E5          	push	hl
1024  006A  21 17 18    	ld	hl,0x1817
1025  006D  E5          	push	hl
1026  006E  CD 00 00    	call	_zx_print_int
1027  0071  21 00 00    	ld	hl,0x0000
1028  0074  E3          	ex	(sp), hl
1029  0075  2A 00 00    	ld	hl,(_curr_time)
1030  0078  22 00 00    	ld	(_frame_time),hl
1031  007B  21 00 00    	ld	hl,_sprite
1032  007E  36 00       	ld	(hl),0x00
1033  0080              l_game_loop_00113:
1034  0080  21 00 00    	ld	hl,_sprite
1035  0083  7E          	ld	a, (hl)
1036  0084  D6 07       	sub	a,0x07
1037  0086  D2 10 01    	jp	NC, l_game_loop_00117
1038  0089  6E          	ld	l, (hl)
1039  008A  26 00       	ld	h,0x00
1040  008C  29          	add	hl, hl
1041  008D  11 00 00    	ld	de,_game_respawn_time
1042  0090  19          	add	hl, de
1043  0091  4E          	ld	c, (hl)
1044  0092  23          	inc	hl
1045  0093  7E          	ld	a,(hl)
1046  0094  47          	ld	b,a
1047  0095  B1          	or	a,c
1048  0096  28 71       	jr	Z,l_game_loop_00112
1049  0098  21 19 00    	ld	hl,0x0019
1050  009B  E5          	push	hl
1051  009C  C5          	push	bc
1052  009D  CD B8 09    	call	_game_check_time
1053  00A0  F1          	pop	af
1054  00A1  F1          	pop	af
1055  00A2  7D          	ld	a, l
1056  00A3  B7          	or	a, a
1057  00A4  28 63       	jr	Z,l_game_loop_00112
1058  00A6  2A 00 00    	ld	hl,(_sprite)
1059  00A9  26 00       	ld	h,0x00
1060  00AB  01 00 00    	ld	bc,_game_respawn_index
1061  00AE  09          	add	hl,bc
1062  00AF  7E          	ld	a,(hl)
1063  00B0  6F          	ld	l,a
1064  00B1  26 00       	ld	h,0x00
1065  00B3  22 00 00    	ld	(_index1),hl
1066  00B6  4F          	ld	c,a
1067  00B7  E6 0F       	and	a,0x0f
1068  00B9  87          	add	a, a
1069  00BA  32 00 00    	ld	(_s_col1),a
1070  00BD  21 00 00    	ld	hl,_s_lin1
1071  00C0  71          	ld	(hl),c
1072  00C1  79          	ld	a,c
1073  00C2  07          	rlca
1074  00C3  07          	rlca
1075  00C4  07          	rlca
1076  00C5  07          	rlca
1077  00C6  E6 0F       	and	a,0x0f
1078  00C8  07          	rlca
1079  00C9  07          	rlca
1080  00CA  07          	rlca
1081  00CB  07          	rlca
1082  00CC  E6 F0       	and	a,0xf0
1083  00CE  77          	ld	(hl), a
1084  00CF  01 00 00    	ld	bc,_scr_map
1085  00D2  2A 00 00    	ld	hl,(_index1)
1086  00D5  09          	add	hl,bc
1087  00D6  36 FF       	ld	(hl),0xff
1088  00D8  2A 00 00    	ld	hl,(_sprite)
1089  00DB  26 00       	ld	h,0x00
1090  00DD  01 00 00    	ld	bc,_game_respawn_tile
1091  00E0  09          	add	hl,bc
1092  00E1  7E          	ld	a,(hl)
1093  00E2  F5          	push	af
1094  00E3  33          	inc	sp
1095  00E4  21 03 04    	ld	hl,0x0403
1096  00E7  E5          	push	hl
1097  00E8  2A 00 00    	ld	hl,(_s_col1)
1098  00EB  26 8A       	ld	h,0x8a
1099  00ED  3A 00 00    	ld	a,(_s_lin1)
1100  00F0  E5          	push	hl
1101  00F1  F5          	push	af
1102  00F2  33          	inc	sp
1103  00F3  CD 00 00    	call	_spr_add_anim
1104  00F6  F1          	pop	af
1105  00F7  F1          	pop	af
1106  00F8  F1          	pop	af
1107  00F9  2A 00 00    	ld	hl,(_sprite)
1108  00FC  26 00       	ld	h,0x00
1109  00FE  29          	add	hl, hl
1110  00FF  11 00 00    	ld	de,_game_respawn_time
1111  0102  19          	add	hl, de
1112  0103  AF          	xor	a, a
1113  0104  77          	ld	(hl), a
1114  0105  23          	inc	hl
1115  0106  77          	ld	(hl), a
1116  0107  18 07       	jr	l_game_loop_00117
1117  0109              l_game_loop_00112:
1118  0109  21 00 00    	ld	hl,_sprite
1119  010C  34          	inc	(hl)
1120  010D  C3 80 00    	jp	l_game_loop_00113
1121  0110              l_game_loop_00117:
1122  0110  CD 00 00    	call	_enemy_turn
1123  0113  21 00 00    	ld	hl,_sprite
1124  0116  36 07       	ld	(hl),0x07
1125  0118  CD 00 00    	call	_player_turn
1126  011B  21 00 00    	ld	hl,_loop_count
1127  011E  34          	inc	(hl)
1128  011F  20 02       	jr	NZ,l_game_loop_00167
1129  0121  23          	inc	hl
1130  0122  34          	inc	(hl)
1131  0123              l_game_loop_00167:
1132  0123  DD 34 FE    	inc	(ix-2)
1133  0126  C2 04 00    	jp	NZ,l_game_loop_00118
1134  0129  DD 34 FF    	inc	(ix-1)
1135  012C  C3 04 00    	jp	l_game_loop_00118
1136  012F              l_game_loop_00121:
1137  012F  F1          	pop	af
1138  0130  DD E1       	pop	ix
1139  0132  C9          	ret
1140  0133              	SECTION code_compiler
1141  0133              ;	---------------------------------
1142  0133              ; Function game_draw_screen
1143  0133              ; ---------------------------------
1144  0133              _game_draw_screen:
1145  0133  CD 00 00    	call	___sdcc_enter_ix
1146  0136  3B          	dec	sp
1147  0137  76          	halt
1148  0138  21 00 00    	ld	hl,_spr_count
1149  013B  36 00       	ld	(hl),0x00
1150  013D              l_game_draw_screen_00101:
1151  013D  21 00 00    	ld	hl,_spr_count
1152  0140  7E          	ld	a, (hl)
1153  0141  D6 07       	sub	a,0x07
1154  0143  30 49       	jr	NC,l_game_draw_screen_00103
1155  0145  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1156  0147  86          	add	a, (hl)
1157  0148  4F          	ld	c, a
1158  0149  3E 00       	ld	a, +((_game_respawn_index) / 256)
1159  014B  CE 00       	adc	a,0x00
1160  014D  47          	ld	b, a
1161  014E  AF          	xor	a, a
1162  014F  02          	ld	(bc), a
1163  0150  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1164  0152  86          	add	a, (hl)
1165  0153  4F          	ld	c, a
1166  0154  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1167  0156  CE 00       	adc	a,0x00
1168  0158  47          	ld	b, a
1169  0159  AF          	xor	a, a
1170  015A  02          	ld	(bc), a
1171  015B  6E          	ld	l, (hl)
1172  015C  26 00       	ld	h,0x00
1173  015E  29          	add	hl, hl
1174  015F  11 00 00    	ld	de,_game_respawn_time
1175  0162  19          	add	hl, de
1176  0163  AF          	xor	a, a
1177  0164  77          	ld	(hl), a
1178  0165  23          	inc	hl
1179  0166  77          	ld	(hl), a
1180  0167  2A 00 00    	ld	hl,(_spr_count)
1181  016A  26 00       	ld	h,0x00
1182  016C  01 00 00    	ld	bc,_mush_index
1183  016F  09          	add	hl,bc
1184  0170  AF          	xor	a,a
1185  0171  77          	ld	(hl),a
1186  0172  2A 00 00    	ld	hl,(_spr_count)
1187  0175  26 00       	ld	h,0x00
1188  0177  01 00 00    	ld	bc,_mush_class
1189  017A  09          	add	hl,bc
1190  017B  AF          	xor	a,a
1191  017C  77          	ld	(hl),a
1192  017D  2A 00 00    	ld	hl,(_spr_count)
1193  0180  26 00       	ld	h,0x00
1194  0182  01 00 00    	ld	bc,_class
1195  0185  09          	add	hl,bc
1196  0186  AF          	xor	a,a
1197  0187  77          	ld	(hl),a
1198  0188  21 00 00    	ld	hl,_spr_count
1199  018B  34          	inc	(hl)
1200  018C  18 AF       	jr	l_game_draw_screen_00101
1201  018E              l_game_draw_screen_00103:
1202  018E  21 10 00    	ld	hl,0x0010
1203  0191  22 00 00    	ld	(_index1),hl
1204  0194  21 00 00    	ld	hl,_s_lin1
1205  0197  36 00       	ld	(hl),0x00
1206  0199  21 00 00    	ld	hl,_s_col1
1207  019C  36 02       	ld	(hl),0x02
1208  019E  21 00 00    	ld	hl,_spr_count
1209  01A1  36 00       	ld	(hl),0x00
1210  01A3  F3          	di
1211  01A4  DD 36 FF 00 	ld	(ix-1),0x00
1212  01A8              l_game_draw_screen_00119:
1213  01A8  21 00 00    	ld	hl,_index1
1214  01AB  7E          	ld	a, (hl)
1215  01AC  D6 A0       	sub	a,0xa0
1216  01AE  23          	inc	hl
1217  01AF  7E          	ld	a, (hl)
1218  01B0  DE 00       	sbc	a,0x00
1219  01B2  D2 A5 02    	jp	NC, l_game_draw_screen_00121
1220  01B5  2B          	dec	hl
1221  01B6  7E          	ld	a, (hl)
1222  01B7  E6 0F       	and	a,0x0f
1223  01B9  20 0C       	jr	NZ,l_game_draw_screen_00105
1224  01BB  21 00 00    	ld	hl,_s_lin1
1225  01BE  7E          	ld	a, (hl)
1226  01BF  C6 10       	add	a,0x10
1227  01C1  77          	ld	(hl), a
1228  01C2  21 00 00    	ld	hl,_s_col1
1229  01C5  36 00       	ld	(hl),0x00
1230  01C7              l_game_draw_screen_00105:
1231  01C7  2A 00 00    	ld	hl,(_index1)
1232  01CA  01 00 00    	ld	bc,_scr_map
1233  01CD  09          	add	hl,bc
1234  01CE  7E          	ld	a,(hl)
1235  01CF  FE 60       	cp	a,0x60
1236  01D1  30 36       	jr	NC,l_game_draw_screen_00117
1237  01D3  D6 5C       	sub	a,0x5c
1238  01D5  20 19       	jr	NZ,l_game_draw_screen_00107
1239  01D7  2A 00 00    	ld	hl,(_index1)
1240  01DA  01 F0 FF    	ld	bc,0xfff0
1241  01DD  09          	add	hl,bc
1242  01DE  E5          	push	hl
1243  01DF  CD 32 0C    	call	_game_obj_chk
1244  01E2  F1          	pop	af
1245  01E3  7D          	ld	a, l
1246  01E4  B7          	or	a, a
1247  01E5  28 09       	jr	Z,l_game_draw_screen_00107
1248  01E7  01 00 00    	ld	bc,_scr_map
1249  01EA  2A 00 00    	ld	hl,(_index1)
1250  01ED  09          	add	hl,bc
1251  01EE  36 4F       	ld	(hl),0x4f
1252  01F0              l_game_draw_screen_00107:
1253  01F0  01 00 00    	ld	bc,_scr_map
1254  01F3  2A 00 00    	ld	hl,(_index1)
1255  01F6  09          	add	hl,bc
1256  01F7  46          	ld	b, (hl)
1257  01F8  3A 00 00    	ld	a,(_s_col1)
1258  01FB  F5          	push	af
1259  01FC  33          	inc	sp
1260  01FD  3A 00 00    	ld	a,(_s_lin1)
1261  0200  48          	ld	c,b
1262  0201  47          	ld	b,a
1263  0202  C5          	push	bc
1264  0203  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1265  0206  C3 94 02    	jp	l_game_draw_screen_00118
1266  0209              l_game_draw_screen_00117:
1267  0209  D6 78       	sub	a,0x78
1268  020B  30 39       	jr	NC,l_game_draw_screen_00114
1269  020D  21 00 00    	ld	hl,_spr_count
1270  0210  7E          	ld	a, (hl)
1271  0211  D6 08       	sub	a,0x08
1272  0213  30 76       	jr	NC,l_game_draw_screen_00115
1273  0215  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1274  0217  86          	add	a, (hl)
1275  0218  4F          	ld	c, a
1276  0219  3E 00       	ld	a, +((_game_respawn_index) / 256)
1277  021B  CE 00       	adc	a,0x00
1278  021D  47          	ld	b, a
1279  021E  3A 00 00    	ld	a,(_index1)
1280  0221  02          	ld	(bc), a
1281  0222  2A 00 00    	ld	hl,(_spr_count)
1282  0225  26 00       	ld	h,0x00
1283  0227  01 00 00    	ld	bc,_game_respawn_tile
1284  022A  09          	add	hl,bc
1285  022B  4D          	ld	c,l
1286  022C  44          	ld	b,h
1287  022D  2A 00 00    	ld	hl,(_index1)
1288  0230  11 00 00    	ld	de,_scr_map
1289  0233  19          	add	hl,de
1290  0234  7E          	ld	a,(hl)
1291  0235  02          	ld	(bc),a
1292  0236  01 00 00    	ld	bc,_scr_map
1293  0239  2A 00 00    	ld	hl,(_index1)
1294  023C  09          	add	hl,bc
1295  023D  7E          	ld	a,(hl)
1296  023E  F5          	push	af
1297  023F  33          	inc	sp
1298  0240  CD AA 02    	call	_game_add_enemy
1299  0243  33          	inc	sp
1300  0244  18 45       	jr	l_game_draw_screen_00115
1301  0246              l_game_draw_screen_00114:
1302  0246  2A 00 00    	ld	hl,(_index1)
1303  0249  E5          	push	hl
1304  024A  CD 32 0C    	call	_game_obj_chk
1305  024D  F1          	pop	af
1306  024E  7D          	ld	a, l
1307  024F  B7          	or	a, a
1308  0250  20 2B       	jr	NZ,l_game_draw_screen_00112
1309  0252  3E 00       	ld	a, +((_mush_index) & 0xFF)
1310  0254  DD 86 FF    	add	a,(ix-1)
1311  0257  4F          	ld	c, a
1312  0258  3E 00       	ld	a, +((_mush_index) / 256)
1313  025A  CE 00       	adc	a,0x00
1314  025C  47          	ld	b, a
1315  025D  21 00 00    	ld	hl,_index1
1316  0260  7E          	ld	a, (hl)
1317  0261  C6 10       	add	a,0x10
1318  0263  02          	ld	(bc), a
1319  0264  3E 00       	ld	a, +((_mush_class) & 0xFF)
1320  0266  DD 86 FF    	add	a,(ix-1)
1321  0269  4F          	ld	c, a
1322  026A  3E 00       	ld	a, +((_mush_class) / 256)
1323  026C  CE 00       	adc	a,0x00
1324  026E  47          	ld	b, a
1325  026F  3E 00       	ld	a, +((_scr_map) & 0xFF)
1326  0271  86          	add	a, (hl)
1327  0272  5F          	ld	e, a
1328  0273  3E 00       	ld	a, +((_scr_map) / 256)
1329  0275  23          	inc	hl
1330  0276  8E          	adc	a, (hl)
1331  0277  57          	ld	d, a
1332  0278  1A          	ld	a, (de)
1333  0279  02          	ld	(bc), a
1334  027A  DD 34 FF    	inc	(ix-1)
1335  027D              l_game_draw_screen_00112:
1336  027D  2A FF FF    	ld	hl,(_s_col1 - 1)
1337  0280  3A 00 00    	ld	a,(_s_lin1)
1338  0283  6F          	ld	l,a
1339  0284  E5          	push	hl
1340  0285  AF          	xor	a, a
1341  0286  F5          	push	af
1342  0287  33          	inc	sp
1343  0288  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1344  028B              l_game_draw_screen_00115:
1345  028B  01 00 00    	ld	bc,_scr_map
1346  028E  2A 00 00    	ld	hl,(_index1)
1347  0291  09          	add	hl,bc
1348  0292  AF          	xor	a,a
1349  0293  77          	ld	(hl),a
1350  0294              l_game_draw_screen_00118:
1351  0294  21 00 00    	ld	hl,_s_col1
1352  0297  34          	inc	(hl)
1353  0298  34          	inc	(hl)
1354  0299  21 00 00    	ld	hl,_index1
1355  029C  34          	inc	(hl)
1356  029D  C2 A8 01    	jp	NZ,l_game_draw_screen_00119
1357  02A0  23          	inc	hl
1358  02A1  34          	inc	(hl)
1359  02A2  C3 A8 01    	jp	l_game_draw_screen_00119
1360  02A5              l_game_draw_screen_00121:
1361  02A5  FB          	ei
1362  02A6  33          	inc	sp
1363  02A7  DD E1       	pop	ix
1364  02A9  C9          	ret
1365  02AA              	SECTION code_compiler
1366  02AA              ;	---------------------------------
1367  02AA              ; Function game_add_enemy
1368  02AA              ; ---------------------------------
1369  02AA              _game_add_enemy:
1370  02AA  CD 00 00    	call	___sdcc_enter_ix
1371  02AD  DD 7E 04    	ld	a,(ix+4)
1372  02B0  D6 60       	sub	a,0x60
1373  02B2  DA 86 04    	jp	C, l_game_add_enemy_00120
1374  02B5  3E 71       	ld	a,0x71
1375  02B7  DD 96 04    	sub	a,(ix+4)
1376  02BA  DA 86 04    	jp	C, l_game_add_enemy_00120
1377  02BD  DD 7E 04    	ld	a,(ix+4)
1378  02C0  C6 A0       	add	a,0xa0
1379  02C2  4F          	ld	c, a
1380  02C3  06 00       	ld	b,0x00
1381  02C5  21 CC 02    	ld	hl,l_game_add_enemy_00130
1382  02C8  09          	add	hl, bc
1383  02C9  09          	add	hl, bc
1384  02CA  09          	add	hl, bc
1385  02CB  E9          	jp	(hl)
1386  02CC              l_game_add_enemy_00130:
1387  02CC  C3 18 03    	jp	l_game_add_enemy_00102
1388  02CF  C3 02 03    	jp	l_game_add_enemy_00101
1389  02D2  C3 44 03    	jp	l_game_add_enemy_00104
1390  02D5  C3 2E 03    	jp	l_game_add_enemy_00103
1391  02D8  C3 70 03    	jp	l_game_add_enemy_00106
1392  02DB  C3 5A 03    	jp	l_game_add_enemy_00105
1393  02DE  C3 9C 03    	jp	l_game_add_enemy_00108
1394  02E1  C3 86 03    	jp	l_game_add_enemy_00107
1395  02E4  C3 C8 03    	jp	l_game_add_enemy_00110
1396  02E7  C3 B2 03    	jp	l_game_add_enemy_00109
1397  02EA  C3 F4 03    	jp	l_game_add_enemy_00112
1398  02ED  C3 DE 03    	jp	l_game_add_enemy_00111
1399  02F0  C3 0A 04    	jp	l_game_add_enemy_00113
1400  02F3  C3 1F 04    	jp	l_game_add_enemy_00114
1401  02F6  C3 34 04    	jp	l_game_add_enemy_00115
1402  02F9  C3 49 04    	jp	l_game_add_enemy_00116
1403  02FC  C3 5E 04    	jp	l_game_add_enemy_00117
1404  02FF  C3 73 04    	jp	l_game_add_enemy_00118
1405  0302              l_game_add_enemy_00101:
1406  0302  3A 00 00    	ld	a,(_s_col1)
1407  0305  21 0B 01    	ld	hl,0x010b
1408  0308  E5          	push	hl
1409  0309  F5          	push	af
1410  030A  33          	inc	sp
1411  030B  3A 00 00    	ld	a,(_s_lin1)
1412  030E  F5          	push	af
1413  030F  33          	inc	sp
1414  0310  CD 00 00    	call	_enemy_init
1415  0313  F1          	pop	af
1416  0314  F1          	pop	af
1417  0315  C3 86 04    	jp	l_game_add_enemy_00120
1418  0318              l_game_add_enemy_00102:
1419  0318  3A 00 00    	ld	a,(_s_col1)
1420  031B  21 0B FF    	ld	hl,0xff0b
1421  031E  E5          	push	hl
1422  031F  F5          	push	af
1423  0320  33          	inc	sp
1424  0321  3A 00 00    	ld	a,(_s_lin1)
1425  0324  F5          	push	af
1426  0325  33          	inc	sp
1427  0326  CD 00 00    	call	_enemy_init
1428  0329  F1          	pop	af
1429  032A  F1          	pop	af
1430  032B  C3 86 04    	jp	l_game_add_enemy_00120
1431  032E              l_game_add_enemy_00103:
1432  032E  3A 00 00    	ld	a,(_s_col1)
1433  0331  21 0C 01    	ld	hl,0x010c
1434  0334  E5          	push	hl
1435  0335  F5          	push	af
1436  0336  33          	inc	sp
1437  0337  3A 00 00    	ld	a,(_s_lin1)
1438  033A  F5          	push	af
1439  033B  33          	inc	sp
1440  033C  CD 00 00    	call	_enemy_init
1441  033F  F1          	pop	af
1442  0340  F1          	pop	af
1443  0341  C3 86 04    	jp	l_game_add_enemy_00120
1444  0344              l_game_add_enemy_00104:
1445  0344  3A 00 00    	ld	a,(_s_col1)
1446  0347  21 0C FF    	ld	hl,0xff0c
1447  034A  E5          	push	hl
1448  034B  F5          	push	af
1449  034C  33          	inc	sp
1450  034D  3A 00 00    	ld	a,(_s_lin1)
1451  0350  F5          	push	af
1452  0351  33          	inc	sp
1453  0352  CD 00 00    	call	_enemy_init
1454  0355  F1          	pop	af
1455  0356  F1          	pop	af
1456  0357  C3 86 04    	jp	l_game_add_enemy_00120
1457  035A              l_game_add_enemy_00105:
1458  035A  3A 00 00    	ld	a,(_s_col1)
1459  035D  21 0D 01    	ld	hl,0x010d
1460  0360  E5          	push	hl
1461  0361  F5          	push	af
1462  0362  33          	inc	sp
1463  0363  3A 00 00    	ld	a,(_s_lin1)
1464  0366  F5          	push	af
1465  0367  33          	inc	sp
1466  0368  CD 00 00    	call	_enemy_init
1467  036B  F1          	pop	af
1468  036C  F1          	pop	af
1469  036D  C3 86 04    	jp	l_game_add_enemy_00120
1470  0370              l_game_add_enemy_00106:
1471  0370  3A 00 00    	ld	a,(_s_col1)
1472  0373  21 0D FF    	ld	hl,0xff0d
1473  0376  E5          	push	hl
1474  0377  F5          	push	af
1475  0378  33          	inc	sp
1476  0379  3A 00 00    	ld	a,(_s_lin1)
1477  037C  F5          	push	af
1478  037D  33          	inc	sp
1479  037E  CD 00 00    	call	_enemy_init
1480  0381  F1          	pop	af
1481  0382  F1          	pop	af
1482  0383  C3 86 04    	jp	l_game_add_enemy_00120
1483  0386              l_game_add_enemy_00107:
1484  0386  3A 00 00    	ld	a,(_s_col1)
1485  0389  21 0E 01    	ld	hl,0x010e
1486  038C  E5          	push	hl
1487  038D  F5          	push	af
1488  038E  33          	inc	sp
1489  038F  3A 00 00    	ld	a,(_s_lin1)
1490  0392  F5          	push	af
1491  0393  33          	inc	sp
1492  0394  CD 00 00    	call	_enemy_init
1493  0397  F1          	pop	af
1494  0398  F1          	pop	af
1495  0399  C3 86 04    	jp	l_game_add_enemy_00120
1496  039C              l_game_add_enemy_00108:
1497  039C  3A 00 00    	ld	a,(_s_col1)
1498  039F  21 0E FF    	ld	hl,0xff0e
1499  03A2  E5          	push	hl
1500  03A3  F5          	push	af
1501  03A4  33          	inc	sp
1502  03A5  3A 00 00    	ld	a,(_s_lin1)
1503  03A8  F5          	push	af
1504  03A9  33          	inc	sp
1505  03AA  CD 00 00    	call	_enemy_init
1506  03AD  F1          	pop	af
1507  03AE  F1          	pop	af
1508  03AF  C3 86 04    	jp	l_game_add_enemy_00120
1509  03B2              l_game_add_enemy_00109:
1510  03B2  3A 00 00    	ld	a,(_s_col1)
1511  03B5  21 0F 01    	ld	hl,0x010f
1512  03B8  E5          	push	hl
1513  03B9  F5          	push	af
1514  03BA  33          	inc	sp
1515  03BB  3A 00 00    	ld	a,(_s_lin1)
1516  03BE  F5          	push	af
1517  03BF  33          	inc	sp
1518  03C0  CD 00 00    	call	_enemy_init
1519  03C3  F1          	pop	af
1520  03C4  F1          	pop	af
1521  03C5  C3 86 04    	jp	l_game_add_enemy_00120
1522  03C8              l_game_add_enemy_00110:
1523  03C8  3A 00 00    	ld	a,(_s_col1)
1524  03CB  21 0F FF    	ld	hl,0xff0f
1525  03CE  E5          	push	hl
1526  03CF  F5          	push	af
1527  03D0  33          	inc	sp
1528  03D1  3A 00 00    	ld	a,(_s_lin1)
1529  03D4  F5          	push	af
1530  03D5  33          	inc	sp
1531  03D6  CD 00 00    	call	_enemy_init
1532  03D9  F1          	pop	af
1533  03DA  F1          	pop	af
1534  03DB  C3 86 04    	jp	l_game_add_enemy_00120
1535  03DE              l_game_add_enemy_00111:
1536  03DE  3A 00 00    	ld	a,(_s_col1)
1537  03E1  21 02 01    	ld	hl,0x0102
1538  03E4  E5          	push	hl
1539  03E5  F5          	push	af
1540  03E6  33          	inc	sp
1541  03E7  3A 00 00    	ld	a,(_s_lin1)
1542  03EA  F5          	push	af
1543  03EB  33          	inc	sp
1544  03EC  CD 00 00    	call	_enemy_init
1545  03EF  F1          	pop	af
1546  03F0  F1          	pop	af
1547  03F1  C3 86 04    	jp	l_game_add_enemy_00120
1548  03F4              l_game_add_enemy_00112:
1549  03F4  3A 00 00    	ld	a,(_s_col1)
1550  03F7  21 02 FF    	ld	hl,0xff02
1551  03FA  E5          	push	hl
1552  03FB  F5          	push	af
1553  03FC  33          	inc	sp
1554  03FD  3A 00 00    	ld	a,(_s_lin1)
1555  0400  F5          	push	af
1556  0401  33          	inc	sp
1557  0402  CD 00 00    	call	_enemy_init
1558  0405  F1          	pop	af
1559  0406  F1          	pop	af
1560  0407  C3 86 04    	jp	l_game_add_enemy_00120
1561  040A              l_game_add_enemy_00113:
1562  040A  3A 00 00    	ld	a,(_s_col1)
1563  040D  21 03 01    	ld	hl,0x0103
1564  0410  E5          	push	hl
1565  0411  F5          	push	af
1566  0412  33          	inc	sp
1567  0413  3A 00 00    	ld	a,(_s_lin1)
1568  0416  F5          	push	af
1569  0417  33          	inc	sp
1570  0418  CD 00 00    	call	_enemy_init
1571  041B  F1          	pop	af
1572  041C  F1          	pop	af
1573  041D  18 67       	jr	l_game_add_enemy_00120
1574  041F              l_game_add_enemy_00114:
1575  041F  3A 00 00    	ld	a,(_s_col1)
1576  0422  21 04 01    	ld	hl,0x0104
1577  0425  E5          	push	hl
1578  0426  F5          	push	af
1579  0427  33          	inc	sp
1580  0428  3A 00 00    	ld	a,(_s_lin1)
1581  042B  F5          	push	af
1582  042C  33          	inc	sp
1583  042D  CD 00 00    	call	_enemy_init
1584  0430  F1          	pop	af
1585  0431  F1          	pop	af
1586  0432  18 52       	jr	l_game_add_enemy_00120
1587  0434              l_game_add_enemy_00115:
1588  0434  3A 00 00    	ld	a,(_s_col1)
1589  0437  21 05 01    	ld	hl,0x0105
1590  043A  E5          	push	hl
1591  043B  F5          	push	af
1592  043C  33          	inc	sp
1593  043D  3A 00 00    	ld	a,(_s_lin1)
1594  0440  F5          	push	af
1595  0441  33          	inc	sp
1596  0442  CD 00 00    	call	_enemy_init
1597  0445  F1          	pop	af
1598  0446  F1          	pop	af
1599  0447  18 3D       	jr	l_game_add_enemy_00120
1600  0449              l_game_add_enemy_00116:
1601  0449  3A 00 00    	ld	a,(_s_col1)
1602  044C  21 10 01    	ld	hl,0x0110
1603  044F  E5          	push	hl
1604  0450  F5          	push	af
1605  0451  33          	inc	sp
1606  0452  3A 00 00    	ld	a,(_s_lin1)
1607  0455  F5          	push	af
1608  0456  33          	inc	sp
1609  0457  CD 00 00    	call	_enemy_init
1610  045A  F1          	pop	af
1611  045B  F1          	pop	af
1612  045C  18 28       	jr	l_game_add_enemy_00120
1613  045E              l_game_add_enemy_00117:
1614  045E  3A 00 00    	ld	a,(_s_col1)
1615  0461  21 12 01    	ld	hl,0x0112
1616  0464  E5          	push	hl
1617  0465  F5          	push	af
1618  0466  33          	inc	sp
1619  0467  3A 00 00    	ld	a,(_s_lin1)
1620  046A  F5          	push	af
1621  046B  33          	inc	sp
1622  046C  CD 00 00    	call	_enemy_init
1623  046F  F1          	pop	af
1624  0470  F1          	pop	af
1625  0471  18 13       	jr	l_game_add_enemy_00120
1626  0473              l_game_add_enemy_00118:
1627  0473  3A 00 00    	ld	a,(_s_col1)
1628  0476  21 13 01    	ld	hl,0x0113
1629  0479  E5          	push	hl
1630  047A  F5          	push	af
1631  047B  33          	inc	sp
1632  047C  3A 00 00    	ld	a,(_s_lin1)
1633  047F  F5          	push	af
1634  0480  33          	inc	sp
1635  0481  CD 00 00    	call	_enemy_init
1636  0484  F1          	pop	af
1637  0485  F1          	pop	af
1638  0486              l_game_add_enemy_00120:
1639  0486  DD E1       	pop	ix
1640  0488  C9          	ret
1641  0489              	SECTION code_compiler
1642  0489              ;	---------------------------------
1643  0489              ; Function game_print_footer
1644  0489              ; ---------------------------------
1645  0489              _game_print_footer:
1646  0489  21 00 00    	ld	hl,_screen_ink
1647  048C  36 05       	ld	(hl),0x05
1648  048E  21 13 62    	ld	hl,0x6213
1649  0491  E5          	push	hl
1650  0492  CD 00 00    	call	_game_fill_row
1651  0495  21 00 00    	ld	hl,___str_0
1652  0498  E5          	push	hl
1653  0499  21 13 00    	ld	hl,0x0013
1654  049C  E5          	push	hl
1655  049D  CD 00 00    	call	_zx_print_str
1656  04A0  21 02 00    	ld	hl,___str_1
1657  04A3  E5          	push	hl
1658  04A4  21 13 1F    	ld	hl,0x1f13
1659  04A7  E5          	push	hl
1660  04A8  CD 00 00    	call	_zx_print_str
1661  04AB  21 04 00    	ld	hl,___str_2
1662  04AE  E5          	push	hl
1663  04AF  21 14 00    	ld	hl,0x0014
1664  04B2  E5          	push	hl
1665  04B3  CD 00 00    	call	_zx_print_str
1666  04B6  21 06 00    	ld	hl,___str_3
1667  04B9  E5          	push	hl
1668  04BA  21 14 1F    	ld	hl,0x1f14
1669  04BD  E5          	push	hl
1670  04BE  CD 00 00    	call	_zx_print_str
1671  04C1  21 04 00    	ld	hl,___str_2
1672  04C4  E5          	push	hl
1673  04C5  21 15 00    	ld	hl,0x0015
1674  04C8  E5          	push	hl
1675  04C9  CD 00 00    	call	_zx_print_str
1676  04CC  21 06 00    	ld	hl,___str_3
1677  04CF  E5          	push	hl
1678  04D0  21 15 1F    	ld	hl,0x1f15
1679  04D3  E5          	push	hl
1680  04D4  CD 00 00    	call	_zx_print_str
1681  04D7  21 04 00    	ld	hl,___str_2
1682  04DA  E5          	push	hl
1683  04DB  21 16 00    	ld	hl,0x0016
1684  04DE  E5          	push	hl
1685  04DF  CD 00 00    	call	_zx_print_str
1686  04E2  21 06 00    	ld	hl,___str_3
1687  04E5  E5          	push	hl
1688  04E6  21 16 1F    	ld	hl,0x1f16
1689  04E9  E5          	push	hl
1690  04EA  CD 00 00    	call	_zx_print_str
1691  04ED  21 17 62    	ld	hl,0x6217
1692  04F0  E5          	push	hl
1693  04F1  CD 00 00    	call	_game_fill_row
1694  04F4  21 08 00    	ld	hl,___str_4
1695  04F7  E5          	push	hl
1696  04F8  21 17 00    	ld	hl,0x0017
1697  04FB  E5          	push	hl
1698  04FC  CD 00 00    	call	_zx_print_str
1699  04FF  21 0A 00    	ld	hl,___str_5
1700  0502  E5          	push	hl
1701  0503  21 17 1F    	ld	hl,0x1f17
1702  0506  E5          	push	hl
1703  0507  CD 00 00    	call	_zx_print_str
1704  050A  21 00 00    	ld	hl,_screen_ink
1705  050D  36 05       	ld	(hl),0x05
1706  050F  21 0C 00    	ld	hl,___str_6
1707  0512  E5          	push	hl
1708  0513  21 14 01    	ld	hl,0x0114
1709  0516  E5          	push	hl
1710  0517  CD 00 00    	call	_zx_print_str
1711  051A  21 00 00    	ld	hl,_screen_ink
1712  051D  36 06       	ld	(hl),0x06
1713  051F  21 0E 00    	ld	hl,___str_7
1714  0522  E5          	push	hl
1715  0523  21 15 01    	ld	hl,0x0115
1716  0526  E5          	push	hl
1717  0527  CD 00 00    	call	_zx_print_str
1718  052A  21 10 00    	ld	hl,___str_8
1719  052D  E5          	push	hl
1720  052E  21 17 14    	ld	hl,0x1417
1721  0531  E5          	push	hl
1722  0532  CD 00 00    	call	_zx_print_str
1723  0535  21 00 00    	ld	hl,_screen_ink
1724  0538  36 02       	ld	(hl),0x02
1725  053A  21 15 00    	ld	hl,___str_9
1726  053D  E5          	push	hl
1727  053E  21 14 07    	ld	hl,0x0714
1728  0541  E5          	push	hl
1729  0542  CD 00 00    	call	_zx_print_str
1730  0545  21 00 00    	ld	hl,_screen_ink
1731  0548  36 01       	ld	(hl),0x01
1732  054A  21 17 00    	ld	hl,___str_10
1733  054D  E5          	push	hl
1734  054E  21 14 0D    	ld	hl,0x0d14
1735  0551  E5          	push	hl
1736  0552  CD 00 00    	call	_zx_print_str
1737  0555  21 19 00    	ld	hl,___str_11
1738  0558  E5          	push	hl
1739  0559  21 16 03    	ld	hl,0x0316
1740  055C  E5          	push	hl
1741  055D  CD 00 00    	call	_zx_print_str
1742  0560  21 00 00    	ld	hl,_screen_ink
1743  0563  36 06       	ld	(hl),0x06
1744  0565  21 1C 00    	ld	hl,___str_12
1745  0568  E5          	push	hl
1746  0569  21 16 0E    	ld	hl,0x0e16
1747  056C  E5          	push	hl
1748  056D  CD 00 00    	call	_zx_print_str
1749  0570  21 1E 00    	ld	hl,___str_13
1750  0573  E5          	push	hl
1751  0574  21 16 14    	ld	hl,0x1416
1752  0577  E5          	push	hl
1753  0578  CD 00 00    	call	_zx_print_str
1754  057B  21 20 00    	ld	hl,___str_14
1755  057E  E5          	push	hl
1756  057F  21 16 1A    	ld	hl,0x1a16
1757  0582  E5          	push	hl
1758  0583  CD 00 00    	call	_zx_print_str
1759  0586  CD 9B 05    	call	_game_update_stats
1760  0589  C9          	ret
1761  058A              	SECTION rodata_compiler
1762  0000              ___str_0:
1763  0000  61          	DEFM "a"
1764  0001  00          	DEFB 0x00
1765  0002              	SECTION rodata_compiler
1766  0002              ___str_1:
1767  0002  63          	DEFM "c"
1768  0003  00          	DEFB 0x00
1769  0004              	SECTION rodata_compiler
1770  0004              ___str_2:
1771  0004  64          	DEFM "d"
1772  0005  00          	DEFB 0x00
1773  0006              	SECTION rodata_compiler
1774  0006              ___str_3:
1775  0006  65          	DEFM "e"
1776  0007  00          	DEFB 0x00
1777  0008              	SECTION rodata_compiler
1778  0008              ___str_4:
1779  0008  66          	DEFM "f"
1780  0009  00          	DEFB 0x00
1781  000A              	SECTION rodata_compiler
1782  000A              ___str_5:
1783  000A  67          	DEFM "g"
1784  000B  00          	DEFB 0x00
1785  000C              	SECTION rodata_compiler
1786  000C              ___str_6:
1787  000C  3C          	DEFM "<"
1788  000D  00          	DEFB 0x00
1789  000E              	SECTION rodata_compiler
1790  000E              ___str_7:
1791  000E  5C          	DEFB 0x5c
1792  000F  00          	DEFB 0x00
1793  0010              	SECTION rodata_compiler
1794  0010              ___str_8:
1795  0010  4C 50 53 3A 	DEFM "LPS:"
1796  0014  00          	DEFB 0x00
1797  0015              	SECTION rodata_compiler
1798  0015              ___str_9:
1799  0015  6A          	DEFM "j"
1800  0016  00          	DEFB 0x00
1801  0017              	SECTION rodata_compiler
1802  0017              ___str_10:
1803  0017  6B          	DEFM "k"
1804  0018  00          	DEFB 0x00
1805  0019              	SECTION rodata_compiler
1806  0019              ___str_11:
1807  0019  58 50       	DEFM "XP"
1808  001B  00          	DEFB 0x00
1809  001C              	SECTION rodata_compiler
1810  001C              ___str_12:
1811  001C  6D          	DEFM "m"
1812  001D  00          	DEFB 0x00
1813  001E              	SECTION rodata_compiler
1814  001E              ___str_13:
1815  001E  6E          	DEFM "n"
1816  001F  00          	DEFB 0x00
1817  0020              	SECTION rodata_compiler
1818  0020              ___str_14:
1819  0020  6F          	DEFM "o"
1820  0021  00          	DEFB 0x00
1821  0022              	SECTION code_compiler
1822  058A              ;	---------------------------------
1823  058A              ; Function game_phase_print_score_back
1824  058A              ; ---------------------------------
1825  058A              _game_phase_print_score_back:
1826  058A  21 00 00    	ld	hl,_screen_ink
1827  058D  36 02       	ld	(hl),0x02
1828  058F  21 22 00    	ld	hl,___str_15
1829  0592  E5          	push	hl
1830  0593  21 00 0B    	ld	hl,0x0b00
1831  0596  E5          	push	hl
1832  0597  CD 00 00    	call	_zx_print_str
1833  059A  C9          	ret
1834  059B              	SECTION rodata_compiler
1835  0022              ___str_15:
1836  0022  24 25 7C    	DEFM "$%|"
1837  0025  00          	DEFB 0x00
1838  0026              	SECTION code_compiler
1839  059B              ;	---------------------------------
1840  059B              ; Function game_update_stats
1841  059B              ; ---------------------------------
1842  059B              _game_update_stats:
1843  059B  21 00 00    	ld	hl,_screen_ink
1844  059E  36 07       	ld	(hl),0x07
1845  05A0  3A 00 00    	ld	a,(_player_lives)
1846  05A3  F5          	push	af
1847  05A4  33          	inc	sp
1848  05A5  21 14 03    	ld	hl,0x0314
1849  05A8  E5          	push	hl
1850  05A9  CD 00 00    	call	_zx_print_chr
1851  05AC  3A 00 00    	ld	a,(_player_str)
1852  05AF  F5          	push	af
1853  05B0  33          	inc	sp
1854  05B1  21 16 10    	ld	hl,0x1016
1855  05B4  E5          	push	hl
1856  05B5  CD 00 00    	call	_zx_print_chr
1857  05B8  3A 00 00    	ld	a,(_player_int)
1858  05BB  F5          	push	af
1859  05BC  33          	inc	sp
1860  05BD  21 16 16    	ld	hl,0x1616
1861  05C0  E5          	push	hl
1862  05C1  CD 00 00    	call	_zx_print_chr
1863  05C4  3A 00 00    	ld	a,(_player_lvl)
1864  05C7  F5          	push	af
1865  05C8  33          	inc	sp
1866  05C9  21 16 1C    	ld	hl,0x1c16
1867  05CC  E5          	push	hl
1868  05CD  CD 00 00    	call	_zx_print_chr
1869  05D0  21 00 00    	ld	hl,_screen_ink
1870  05D3  36 02       	ld	(hl),0x02
1871  05D5  3A 00 00    	ld	a,(_player_vita)
1872  05D8  F5          	push	af
1873  05D9  33          	inc	sp
1874  05DA  21 14 09    	ld	hl,0x0914
1875  05DD  E5          	push	hl
1876  05DE  CD 00 00    	call	_zx_print_chr
1877  05E1  21 00 00    	ld	hl,_screen_ink
1878  05E4  36 01       	ld	(hl),0x01
1879  05E6  3A 00 00    	ld	a,(_player_mana)
1880  05E9  F5          	push	af
1881  05EA  33          	inc	sp
1882  05EB  21 14 0F    	ld	hl,0x0f14
1883  05EE  E5          	push	hl
1884  05EF  CD 00 00    	call	_zx_print_chr
1885  05F2  C9          	ret
1886  05F3              	SECTION code_compiler
1887  05F3              ;	---------------------------------
1888  05F3              ; Function game_tick
1889  05F3              ; ---------------------------------
1890  05F3              _game_tick:
1891  05F3  21 00 00    	ld	hl,_curr_time
1892  05F6  34          	inc	(hl)
1893  05F7  C2 00 00    	jp	NZ,_zx_isr
1894  05FA  23          	inc	hl
1895  05FB  34          	inc	(hl)
1896  05FC  C3 00 00    	jp  _zx_isr
1897  05FF              	SECTION code_compiler
1898  05FF              ;	---------------------------------
1899  05FF              ; Function game_start_timer
1900  05FF              ; ---------------------------------
1901  05FF              _game_start_timer:
1902  05FF  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1903  0602  36 CD       	ld	(hl),0xcd
1904  0604  23          	inc	hl
1905  0605  11 F3 05    	ld	de,_game_tick
1906  0608  73          	ld	(hl), e
1907  0609  23          	inc	hl
1908  060A  72          	ld	(hl), d
1909  060B  C9          	ret
1910  060C              	SECTION code_compiler
1911  060C              ;	---------------------------------
1912  060C              ; Function game_round_init
1913  060C              ; ---------------------------------
1914  060C              _game_round_init:
1915  060C  21 00 00    	ld	hl,_ay_effect_10
1916  060F  CD 00 00    	call	_ay_fx_play
1917  0612  CD 00 00    	call	_sound_coin
1918  0615  21 C8 00    	ld	hl,0x00c8
1919  0618  CD 00 00    	call	_z80_delay_ms_fastcall
1920  061B  CD 00 00    	call	_ay_reset
1921  061E  21 00 00    	ld	hl,0x0000
1922  0621  22 00 00    	ld	(_loop_count),hl
1923  0624  22 00 00    	ld	(_entry_time),hl
1924  0627  21 00 00    	ld	hl,0
1925  062A  22 00 00    	ld	(_curr_time),hl
1926  062D  21 00 00    	ld	hl,0x0000
1927  0630  22 00 00    	ld	(_frame_time),hl
1928  0633  CD 00 00    	call	_ay_reset
1929  0636  CD 00 00    	call	_spr_draw_clear
1930  0639  CD 00 00    	call	_spr_page_map
1931  063C  CD 33 01    	call	_game_draw_screen
1932  063F  CD 5D 06    	call	_game_print_header
1933  0642  CD 89 04    	call	_game_print_footer
1934  0645  3A 00 00    	ld	a,(_game_over)
1935  0648  B7          	or	a, a
1936  0649  C0          	ret	NZ
1937  064A  2A 00 00    	ld	hl,(_player_col_scr)
1938  064D  26 70       	ld	h,0x70
1939  064F  3A 00 00    	ld	a,(_player_lin_scr)
1940  0652  E5          	push	hl
1941  0653  57          	ld	d,a
1942  0654  1E 07       	ld	e,0x07
1943  0656  D5          	push	de
1944  0657  CD 00 00    	call	_player_init
1945  065A  F1          	pop	af
1946  065B  F1          	pop	af
1947  065C  C9          	ret
1948  065D              	SECTION code_compiler
1949  065D              ;	---------------------------------
1950  065D              ; Function game_print_header
1951  065D              ; ---------------------------------
1952  065D              _game_print_header:
1953  065D  CD 8A 05    	call	_game_phase_print_score_back
1954  0660  21 00 00    	ld	hl,_screen_ink
1955  0663  36 07       	ld	(hl),0x07
1956  0665  C3 E4 07    	jp  _game_print_score
1957  0668              	SECTION code_compiler
1958  0668              ;	---------------------------------
1959  0668              ; Function game_print_phase
1960  0668              ; ---------------------------------
1961  0668              _game_print_phase:
1962  0668  21 26 00    	ld	hl,___str_16
1963  066B  E5          	push	hl
1964  066C  21 17 0B    	ld	hl,0x0b17
1965  066F  E5          	push	hl
1966  0670  CD 00 00    	call	_zx_print_str
1967  0673  21 00 00    	ld	hl,_phase_curr
1968  0676  46          	ld	b, (hl)
1969  0677  04          	inc	b
1970  0678  C5          	push	bc
1971  0679  33          	inc	sp
1972  067A  21 17 12    	ld	hl,0x1217
1973  067D  E5          	push	hl
1974  067E  CD 00 00    	call	_zx_print_chr
1975  0681  C9          	ret
1976  0682              	SECTION rodata_compiler
1977  0026              ___str_16:
1978  0026  50 48 41 53 45 
                        	DEFM "PHASE"
1979  002B  00          	DEFB 0x00
1980  002C              	SECTION code_compiler
1981  0682              ;	---------------------------------
1982  0682              ; Function game_check_map
1983  0682              ; ---------------------------------
1984  0682              _game_check_map:
1985  0682  CD 00 00    	call	___sdcc_enter_ix
1986  0685  DD CB 05 46 	bit	0,(ix+5)
1987  0689  20 15       	jr	NZ,l_game_check_map_00106
1988  068B  DD 66 05    	ld	h,(ix+5)
1989  068E  DD 6E 04    	ld	l,(ix+4)
1990  0691  E5          	push	hl
1991  0692  CD 00 00    	call	_spr_calc_index
1992  0695  F1          	pop	af
1993  0696  22 00 00    	ld	(_index1),hl
1994  0699  CD EB 06    	call	_game_check_cell
1995  069C  26 00       	ld	h,0x00
1996  069E  18 48       	jr	l_game_check_map_00108
1997  06A0              l_game_check_map_00106:
1998  06A0  21 00 00    	ld	hl,_g_player_hit_left
1999  06A3  36 00       	ld	(hl),0x00
2000  06A5  21 00 00    	ld	hl,_g_player_hit_right
2001  06A8  36 00       	ld	(hl),0x00
2002  06AA  DD 46 05    	ld	b,(ix+5)
2003  06AD  05          	dec	b
2004  06AE  DD 4E 04    	ld	c,(ix+4)
2005  06B1  C5          	push	bc
2006  06B2  CD 00 00    	call	_spr_calc_index
2007  06B5  F1          	pop	af
2008  06B6  22 00 00    	ld	(_index1),hl
2009  06B9  CD EB 06    	call	_game_check_cell
2010  06BC  7D          	ld	a, l
2011  06BD  B7          	or	a, a
2012  06BE  28 05       	jr	Z,l_game_check_map_00102
2013  06C0  21 00 00    	ld	hl,_g_player_hit_left
2014  06C3  36 01       	ld	(hl),0x01
2015  06C5              l_game_check_map_00102:
2016  06C5  2A 00 00    	ld	hl,(_index1)
2017  06C8  23          	inc	hl
2018  06C9  CD EB 06    	call	_game_check_cell
2019  06CC  7D          	ld	a, l
2020  06CD  B7          	or	a, a
2021  06CE  28 05       	jr	Z,l_game_check_map_00104
2022  06D0  21 00 00    	ld	hl,_g_player_hit_right
2023  06D3  36 01       	ld	(hl),0x01
2024  06D5              l_game_check_map_00104:
2025  06D5  3A 00 00    	ld	a,(_g_player_hit_left)
2026  06D8  B7          	or	a, a
2027  06D9  20 09       	jr	NZ,l_game_check_map_00111
2028  06DB  3A 00 00    	ld	a,(_g_player_hit_right)
2029  06DE  B7          	or	a,a
2030  06DF  20 03       	jr	NZ,l_game_check_map_00111
2031  06E1  6F          	ld	l,a
2032  06E2  18 02       	jr	l_game_check_map_00112
2033  06E4              l_game_check_map_00111:
2034  06E4  2E 01       	ld	l,0x01
2035  06E6              l_game_check_map_00112:
2036  06E6  26 00       	ld	h,0x00
2037  06E8              l_game_check_map_00108:
2038  06E8  DD E1       	pop	ix
2039  06EA  C9          	ret
2040  06EB              	SECTION code_compiler
2041  06EB              ;	---------------------------------
2042  06EB              ; Function game_check_cell
2043  06EB              ; ---------------------------------
2044  06EB              _game_check_cell:
2045  06EB  CD 00 00    	call	___sdcc_enter_ix
2046  06EE  3B          	dec	sp
2047  06EF  3E A0       	ld	a,0xa0
2048  06F1  BD          	cp	a,l
2049  06F2  3E 00       	ld	a,0x00
2050  06F4  9C          	sbc	a,h
2051  06F5  4D          	ld	c,l
2052  06F6  44          	ld	b,h
2053  06F7  E2 FC 06    	jp	PO, l_game_check_cell_00203
2054  06FA  EE 80       	xor	a,0x80
2055  06FC              l_game_check_cell_00203:
2056  06FC  F2 04 07    	jp	P, l_game_check_cell_00102
2057  06FF  2E 01       	ld	l,0x01
2058  0701  C3 BC 07    	jp	l_game_check_cell_00137
2059  0704              l_game_check_cell_00102:
2060  0704  21 00 00    	ld	hl,_scr_map
2061  0707  09          	add	hl, bc
2062  0708  56          	ld	d, (hl)
2063  0709  3A 00 00    	ld	a,(_sprite)
2064  070C  D6 07       	sub	a,0x07
2065  070E  20 04       	jr	NZ,l_game_check_cell_00204
2066  0710  3E 01       	ld	a,0x01
2067  0712  18 01       	jr	l_game_check_cell_00205
2068  0714              l_game_check_cell_00204:
2069  0714  AF          	xor	a,a
2070  0715              l_game_check_cell_00205:
2071  0715  DD 77 FF    	ld	(ix-1),a
2072  0718  CB 47       	bit	0,a
2073  071A  20 43       	jr	NZ,l_game_check_cell_00115
2074  071C  2A 00 00    	ld	hl,(_sprite)
2075  071F  26 00       	ld	h,0x00
2076  0721  01 00 00    	ld	bc,_class
2077  0724  09          	add	hl,bc
2078  0725  4E          	ld	c,(hl)
2079  0726  3E 2F       	ld	a,0x2f
2080  0728  92          	sub	a, d
2081  0729  3E 00       	ld	a,0x00
2082  072B  17          	rla
2083  072C  47          	ld	b, a
2084  072D  7A          	ld	a, d
2085  072E  D6 23       	sub	a,0x23
2086  0730  20 04       	jr	NZ,l_game_check_cell_00206
2087  0732  3E 01       	ld	a,0x01
2088  0734  18 01       	jr	l_game_check_cell_00207
2089  0736              l_game_check_cell_00206:
2090  0736  AF          	xor	a,a
2091  0737              l_game_check_cell_00207:
2092  0737  5F          	ld	e, a
2093  0738  3E 05       	ld	a,0x05
2094  073A  91          	sub	a, c
2095  073B  38 12       	jr	C,l_game_check_cell_00112
2096  073D  CB 40       	bit	0, b
2097  073F  20 09       	jr	NZ,l_game_check_cell_00104
2098  0741  CB 43       	bit	0, e
2099  0743  20 05       	jr	NZ,l_game_check_cell_00104
2100  0745  2E 00       	ld	l,0x00
2101  0747  C3 BC 07    	jp	l_game_check_cell_00137
2102  074A              l_game_check_cell_00104:
2103  074A  2E 01       	ld	l,0x01
2104  074C  C3 BC 07    	jp	l_game_check_cell_00137
2105  074F              l_game_check_cell_00112:
2106  074F  CB 40       	bit	0, b
2107  0751  20 08       	jr	NZ,l_game_check_cell_00108
2108  0753  CB 43       	bit	0, e
2109  0755  20 04       	jr	NZ,l_game_check_cell_00108
2110  0757  2E 00       	ld	l,0x00
2111  0759  18 61       	jr	l_game_check_cell_00137
2112  075B              l_game_check_cell_00108:
2113  075B  2E 01       	ld	l,0x01
2114  075D  18 5D       	jr	l_game_check_cell_00137
2115  075F              l_game_check_cell_00115:
2116  075F  7A          	ld	a, d
2117  0760  D6 3C       	sub	a,0x3c
2118  0762  30 04       	jr	NC,l_game_check_cell_00117
2119  0764  2E 00       	ld	l,0x00
2120  0766  18 54       	jr	l_game_check_cell_00137
2121  0768              l_game_check_cell_00117:
2122  0768  3A 00 00    	ld	a,(_s_state)
2123  076B  E6 02       	and	a,0x02
2124  076D  5F          	ld	e, a
2125  076E  7A          	ld	a, d
2126  076F  D6 44       	sub	a,0x44
2127  0771  30 0C       	jr	NC,l_game_check_cell_00122
2128  0773  7B          	ld	a, e
2129  0774  B7          	or	a, a
2130  0775  28 04       	jr	Z,l_game_check_cell_00119
2131  0777  2E 01       	ld	l,0x01
2132  0779  18 41       	jr	l_game_check_cell_00137
2133  077B              l_game_check_cell_00119:
2134  077B  2E 00       	ld	l,0x00
2135  077D  18 3D       	jr	l_game_check_cell_00137
2136  077F              l_game_check_cell_00122:
2137  077F  7A          	ld	a, d
2138  0780  D6 48       	sub	a,0x48
2139  0782  30 16       	jr	NC,l_game_check_cell_00130
2140  0784  3A 00 00    	ld	a,(_sprite_horizontal_check)
2141  0787  B7          	or	a, a
2142  0788  28 04       	jr	Z,l_game_check_cell_00127
2143  078A  2E 00       	ld	l,0x00
2144  078C  18 2E       	jr	l_game_check_cell_00137
2145  078E              l_game_check_cell_00127:
2146  078E  7B          	ld	a, e
2147  078F  B7          	or	a, a
2148  0790  28 04       	jr	Z,l_game_check_cell_00124
2149  0792  2E 01       	ld	l,0x01
2150  0794  18 26       	jr	l_game_check_cell_00137
2151  0796              l_game_check_cell_00124:
2152  0796  2E 00       	ld	l,0x00
2153  0798  18 22       	jr	l_game_check_cell_00137
2154  079A              l_game_check_cell_00130:
2155  079A  7A          	ld	a, d
2156  079B  D6 4C       	sub	a,0x4c
2157  079D  30 12       	jr	NC,l_game_check_cell_00134
2158  079F  DD CB FF 46 	bit	0,(ix-1)
2159  07A3  28 0C       	jr	Z,l_game_check_cell_00134
2160  07A5  D5          	push	de
2161  07A6  33          	inc	sp
2162  07A7  C5          	push	bc
2163  07A8  CD 00 00    	call	_player_open_door
2164  07AB  F1          	pop	af
2165  07AC  33          	inc	sp
2166  07AD  2E 01       	ld	l,0x01
2167  07AF  18 0B       	jr	l_game_check_cell_00137
2168  07B1              l_game_check_cell_00134:
2169  07B1  7A          	ld	a, d
2170  07B2  D6 60       	sub	a,0x60
2171  07B4  30 04       	jr	NC,l_game_check_cell_00136
2172  07B6  2E 01       	ld	l,0x01
2173  07B8  18 02       	jr	l_game_check_cell_00137
2174  07BA              l_game_check_cell_00136:
2175  07BA  2E 00       	ld	l,0x00
2176  07BC              l_game_check_cell_00137:
2177  07BC  33          	inc	sp
2178  07BD  DD E1       	pop	ix
2179  07BF  C9          	ret
2180  07C0              	SECTION code_compiler
2181  07C0              ;	---------------------------------
2182  07C0              ; Function game_enemy_add_get_index
2183  07C0              ; ---------------------------------
2184  07C0              _game_enemy_add_get_index:
2185  07C0  4D          	ld	c, l
2186  07C1  21 00 00    	ld	hl,_enemies
2187  07C4  36 00       	ld	(hl),0x00
2188  07C6              l_game_enemy_add_get_index_00104:
2189  07C6  2A 00 00    	ld	hl,(_enemies)
2190  07C9  26 00       	ld	h,0x00
2191  07CB  11 00 00    	ld	de,_class
2192  07CE  19          	add	hl,de
2193  07CF  7E          	ld	a,(hl)
2194  07D0  91          	sub	a,c
2195  07D1  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2196  07D3  2A 00 00    	ld	hl,(_enemies)
2197  07D6  18 0B       	jr	l_game_enemy_add_get_index_00106
2198  07D8              l_game_enemy_add_get_index_00105:
2199  07D8  21 00 00    	ld	hl,_enemies
2200  07DB  34          	inc	(hl)
2201  07DC  3E 05       	ld	a,0x05
2202  07DE  96          	sub	a, (hl)
2203  07DF  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2204  07E1  2E FF       	ld	l,0xff
2205  07E3              l_game_enemy_add_get_index_00106:
2206  07E3  C9          	ret
2207  07E4              	SECTION code_compiler
2208  07E4              ;	---------------------------------
2209  07E4              ; Function game_print_score
2210  07E4              ; ---------------------------------
2211  07E4              _game_print_score:
2212  07E4  21 00 00    	ld	hl,_screen_ink
2213  07E7  36 07       	ld	(hl),0x07
2214  07E9  21 00 00    	ld	hl,_screen_paper
2215  07EC  36 00       	ld	(hl),0x00
2216  07EE  2A 00 00    	ld	hl,(_player_score)
2217  07F1  E5          	push	hl
2218  07F2  21 16 06    	ld	hl,0x0616
2219  07F5  E5          	push	hl
2220  07F6  CD 00 00    	call	_zx_print_int
2221  07F9  2A 00 00    	ld	hl,(_game_score_top)
2222  07FC  E5          	push	hl
2223  07FD  21 00 0E    	ld	hl,0x0e00
2224  0800  E5          	push	hl
2225  0801  CD 00 00    	call	_zx_print_int
2226  0804  C9          	ret
2227  0805              	SECTION code_compiler
2228  0805              ;	---------------------------------
2229  0805              ; Function game_paint_attrib
2230  0805              ; ---------------------------------
2231  0805              _game_paint_attrib:
2232  0805  7D          	ld	a,l
2233  0806  32 00 00    	ld	(_tmp0),a
2234  0809              l_game_paint_attrib_00103:
2235  0809  3E 13       	ld	a,0x13
2236  080B  21 00 00    	ld	hl,_tmp0
2237  080E  96          	sub	a, (hl)
2238  080F  D8          	ret	C
2239  0810  7E          	ld	a, (hl)
2240  0811  07          	rlca
2241  0812  07          	rlca
2242  0813  07          	rlca
2243  0814  E6 F8       	and	a,0xf8
2244  0816  C6 08       	add	a,0x08
2245  0818  F5          	push	af
2246  0819  33          	inc	sp
2247  081A  21 01 1F    	ld	hl,0x1f01
2248  081D  E5          	push	hl
2249  081E  CD 29 08    	call	_game_paint_attrib_lin
2250  0821  F1          	pop	af
2251  0822  33          	inc	sp
2252  0823  21 00 00    	ld	hl,_tmp0
2253  0826  34          	inc	(hl)
2254  0827  18 E0       	jr	l_game_paint_attrib_00103
2255  0829              	SECTION code_compiler
2256  0829              ;	---------------------------------
2257  0829              ; Function game_paint_attrib_lin
2258  0829              ; ---------------------------------
2259  0829              _game_paint_attrib_lin:
2260  0829  CD 00 00    	call	___sdcc_enter_ix
2261  082C  DD 7E 04    	ld	a,(ix+4)
2262  082F  32 00 00    	ld	(_tmp_uc),a
2263  0832              l_game_paint_attrib_lin_00103:
2264  0832  21 00 00    	ld	hl,_tmp_uc
2265  0835  7E          	ld	a, (hl)
2266  0836  DD 96 05    	sub	a,(ix+5)
2267  0839  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2268  083B  66          	ld	h,(hl)
2269  083C  DD 6E 06    	ld	l,(ix+6)
2270  083F  E5          	push	hl
2271  0840  21 00 00    	ld	hl,_attrib
2272  0843  E5          	push	hl
2273  0844  CD 00 00    	call	_NIRVANAP_paintC_callee
2274  0847  21 00 00    	ld	hl,_tmp_uc
2275  084A  34          	inc	(hl)
2276  084B  18 E5       	jr	l_game_paint_attrib_lin_00103
2277  084D              l_game_paint_attrib_lin_00105:
2278  084D  DD E1       	pop	ix
2279  084F  C9          	ret
2280  0850              	SECTION code_compiler
2281  0850              ;	---------------------------------
2282  0850              ; Function game_paint_attrib_lin_h
2283  0850              ; ---------------------------------
2284  0850              _game_paint_attrib_lin_h:
2285  0850  CD 00 00    	call	___sdcc_enter_ix
2286  0853  DD 7E 04    	ld	a,(ix+4)
2287  0856  32 00 00    	ld	(_tmp_uc),a
2288  0859              l_game_paint_attrib_lin_h_00103:
2289  0859  21 00 00    	ld	hl,_tmp_uc
2290  085C  7E          	ld	a, (hl)
2291  085D  DD 96 05    	sub	a,(ix+5)
2292  0860  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2293  0862  66          	ld	h,(hl)
2294  0863  DD 6E 06    	ld	l,(ix+6)
2295  0866  E5          	push	hl
2296  0867  21 00 00    	ld	hl,_attrib_hl
2297  086A  E5          	push	hl
2298  086B  CD 00 00    	call	_NIRVANAP_paintC_callee
2299  086E  21 00 00    	ld	hl,_tmp_uc
2300  0871  34          	inc	(hl)
2301  0872  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2302  0874              l_game_paint_attrib_lin_h_00105:
2303  0874  DD E1       	pop	ix
2304  0876  C9          	ret
2305  0877              	SECTION code_compiler
2306  0877              ;	---------------------------------
2307  0877              ; Function game_joystick_change
2308  0877              ; ---------------------------------
2309  0877              _game_joystick_change:
2310  0877  21 00 00    	ld	hl,_player_joy
2311  087A  34          	inc	(hl)
2312  087B  20 02       	jr	NZ,l_game_joystick_change_00109
2313  087D  23          	inc	hl
2314  087E  34          	inc	(hl)
2315  087F              l_game_joystick_change_00109:
2316  087F  21 00 00    	ld	hl,_player_joy
2317  0882  7E          	ld	a, (hl)
2318  0883  D6 07       	sub	a,0x07
2319  0885  23          	inc	hl
2320  0886  B6          	or	a, (hl)
2321  0887  C0          	ret	NZ
2322  0888  21 00 00    	ld	hl,0x0000
2323  088B  22 00 00    	ld	(_player_joy),hl
2324  088E  C9          	ret
2325  088F              	SECTION code_compiler
2326  088F              ;	---------------------------------
2327  088F              ; Function game_joystick_set_menu
2328  088F              ; ---------------------------------
2329  088F              _game_joystick_set_menu:
2330  088F  21 00 00    	ld	hl,_in_stick_keyboard
2331  0892  22 00 00    	ld	(_joyfunc1),hl
2332  0895  C9          	ret
2333  0896              	SECTION code_compiler
2334  0896              ;	---------------------------------
2335  0896              ; Function game_joystick_set
2336  0896              ; ---------------------------------
2337  0896              _game_joystick_set:
2338  0896  2A 00 00    	ld	hl,(_player_joy)
2339  0899  29          	add	hl,hl
2340  089A  4D          	ld	c,l
2341  089B  44          	ld	b,h
2342  089C  21 00 00    	ld	hl,_control_method
2343  089F  09          	add	hl,bc
2344  08A0  11 00 00    	ld	de,_joyfunc1
2345  08A3  ED A0       	ldi
2346  08A5  7E          	ld	a,(hl)
2347  08A6  12          	ld	(de),a
2348  08A7  C9          	ret
2349  08A8              	SECTION code_compiler
2350  08A8              ;	---------------------------------
2351  08A8              ; Function game_end
2352  08A8              ; ---------------------------------
2353  08A8              	defc _game_end	=	_spr_draw_clear
2354  08A8              	SECTION code_compiler
2355  08A8              ;	---------------------------------
2356  08A8              ; Function game_rotate_attrib
2357  08A8              ; ---------------------------------
2358  08A8              _game_rotate_attrib:
2359  08A8  01 03 00    	ld	bc,_attrib_hl + 3
2360  08AB  0A          	ld	a, (bc)
2361  08AC  32 00 00    	ld	(_tmp_uc),a
2362  08AF  11 02 00    	ld	de,_attrib_hl + 2
2363  08B2  1A          	ld	a, (de)
2364  08B3  02          	ld	(bc), a
2365  08B4  01 01 00    	ld	bc,_attrib_hl + 1
2366  08B7  0A          	ld	a, (bc)
2367  08B8  12          	ld	(de), a
2368  08B9  3A 00 00    	ld	a,(_attrib_hl)
2369  08BC  02          	ld	(bc), a
2370  08BD  3A 00 00    	ld	a,(_tmp_uc)
2371  08C0  32 00 00    	ld	(_attrib_hl),a
2372  08C3  C9          	ret
2373  08C4              	SECTION code_compiler
2374  08C4              ;	---------------------------------
2375  08C4              ; Function game_colour_message
2376  08C4              ; ---------------------------------
2377  08C4              _game_colour_message:
2378  08C4  CD 00 00    	call	___sdcc_enter_ix
2379  08C7  21 00 00    	ld	hl,_tmp
2380  08CA  36 01       	ld	(hl),0x01
2381  08CC  2A 00 00    	ld	hl,(_curr_time)
2382  08CF  22 00 00    	ld	(_frame_time),hl
2383  08D2  2A 00 00    	ld	hl,(_curr_time)
2384  08D5  22 00 00    	ld	(_entry_time),hl
2385  08D8  DD 7E 04    	ld	a,(ix+4)
2386  08DB  07          	rlca
2387  08DC  07          	rlca
2388  08DD  07          	rlca
2389  08DE  E6 F8       	and	a,0xf8
2390  08E0  4F          	ld	c,a
2391  08E1  C6 08       	add	a,0x08
2392  08E3  47          	ld	b, a
2393  08E4              l_game_colour_message_00109:
2394  08E4  3A 00 00    	ld	a,(_tmp)
2395  08E7  B7          	or	a, a
2396  08E8  28 60       	jr	Z,l_game_colour_message_00111
2397  08EA  C5          	push	bc
2398  08EB  DD 6E 07    	ld	l,(ix+7)
2399  08EE  DD 66 08    	ld	h,(ix+8)
2400  08F1  E5          	push	hl
2401  08F2  2A 00 00    	ld	hl,(_entry_time)
2402  08F5  E5          	push	hl
2403  08F6  CD B8 09    	call	_game_check_time
2404  08F9  F1          	pop	af
2405  08FA  F1          	pop	af
2406  08FB  C1          	pop	bc
2407  08FC  7D          	ld	a,l
2408  08FD  B7          	or	a, a
2409  08FE  20 4A       	jr	NZ,l_game_colour_message_00111
2410  0900  C5          	push	bc
2411  0901  21 05 00    	ld	hl,0x0005
2412  0904  E5          	push	hl
2413  0905  2A 00 00    	ld	hl,(_frame_time)
2414  0908  E5          	push	hl
2415  0909  CD B8 09    	call	_game_check_time
2416  090C  F1          	pop	af
2417  090D  F1          	pop	af
2418  090E  C1          	pop	bc
2419  090F  7D          	ld	a,l
2420  0910  B7          	or	a, a
2421  0911  28 19       	jr	Z,l_game_colour_message_00102
2422  0913  2A 00 00    	ld	hl,(_curr_time)
2423  0916  22 00 00    	ld	(_frame_time),hl
2424  0919  C5          	push	bc
2425  091A  C5          	push	bc
2426  091B  33          	inc	sp
2427  091C  DD 66 06    	ld	h,(ix+6)
2428  091F  DD 6E 05    	ld	l,(ix+5)
2429  0922  E5          	push	hl
2430  0923  CD 50 08    	call	_game_paint_attrib_lin_h
2431  0926  F1          	pop	af
2432  0927  33          	inc	sp
2433  0928  CD A8 08    	call	_game_rotate_attrib
2434  092B  C1          	pop	bc
2435  092C              l_game_colour_message_00102:
2436  092C  DD 7E 09    	ld	a,(ix+9)
2437  092F  B7          	or	a, a
2438  0930  28 B2       	jr	Z,l_game_colour_message_00109
2439  0932              l_game_colour_message_00103:
2440  0932  C5          	push	bc
2441  0933  21 00 00    	ld	hl,_k1
2442  0936  E5          	push	hl
2443  0937  2A 00 00    	ld	hl,(_joyfunc1)
2444  093A  CD 00 00    	call	___sdcc_call_hl
2445  093D  F1          	pop	af
2446  093E  C1          	pop	bc
2447  093F  7C          	ld	a,h
2448  0940  B5          	or	a,l
2449  0941  28 A1       	jr	Z,l_game_colour_message_00109
2450  0943  21 00 00    	ld	hl,_tmp
2451  0946  36 00       	ld	(hl),0x00
2452  0948  18 E8       	jr	l_game_colour_message_00103
2453  094A              l_game_colour_message_00111:
2454  094A  DD 7E 06    	ld	a,(ix+6)
2455  094D  DD 96 05    	sub	a,(ix+5)
2456  0950  47          	ld	b, a
2457  0951  3A 00 00    	ld	a,(_game_over)
2458  0954  B7          	or	a, a
2459  0955  28 2B       	jr	Z,l_game_colour_message_00115
2460  0957  21 00 00    	ld	hl,_tmp1
2461  095A  70          	ld	(hl), b
2462  095B  21 00 00    	ld	hl,_tmp0
2463  095E  36 00       	ld	(hl),0x00
2464  0960              l_game_colour_message_00118:
2465  0960  3A 00 00    	ld	a,(_tmp0)
2466  0963  21 00 00    	ld	hl,_tmp1
2467  0966  96          	sub	a, (hl)
2468  0967  30 4C       	jr	NC,l_game_colour_message_00123
2469  0969  DD 7E 05    	ld	a,(ix+5)
2470  096C  21 00 00    	ld	hl,_tmp0
2471  096F  86          	add	a, (hl)
2472  0970  47          	ld	b, a
2473  0971  21 2C 00    	ld	hl,___str_17
2474  0974  E5          	push	hl
2475  0975  DD 4E 04    	ld	c,(ix+4)
2476  0978  C5          	push	bc
2477  0979  CD 00 00    	call	_zx_print_str
2478  097C  21 00 00    	ld	hl,_tmp0
2479  097F  34          	inc	(hl)
2480  0980  18 DE       	jr	l_game_colour_message_00118
2481  0982              l_game_colour_message_00115:
2482  0982  21 00 00    	ld	hl,_tmp1
2483  0985  70          	ld	(hl), b
2484  0986  21 00 00    	ld	hl,_s_lin0
2485  0989  71          	ld	(hl), c
2486  098A  DD 7E 05    	ld	a,(ix+5)
2487  098D  CB 3F       	srl	a
2488  098F  87          	add	a, a
2489  0990  32 00 00    	ld	(_s_col1),a
2490  0993  21 00 00    	ld	hl,_tmp0
2491  0996  36 00       	ld	(hl),0x00
2492  0998              l_game_colour_message_00121:
2493  0998  3A 00 00    	ld	a,(_tmp0)
2494  099B  21 00 00    	ld	hl,_tmp1
2495  099E  96          	sub	a, (hl)
2496  099F  30 14       	jr	NC,l_game_colour_message_00123
2497  09A1  3A 00 00    	ld	a,(_s_col1)
2498  09A4  21 00 00    	ld	hl,_tmp0
2499  09A7  86          	add	a, (hl)
2500  09A8  32 00 00    	ld	(_s_col0),a
2501  09AB  CD 00 00    	call	_spr_back_repaint
2502  09AE  21 00 00    	ld	hl,_tmp0
2503  09B1  34          	inc	(hl)
2504  09B2  34          	inc	(hl)
2505  09B3  18 E3       	jr	l_game_colour_message_00121
2506  09B5              l_game_colour_message_00123:
2507  09B5  DD E1       	pop	ix
2508  09B7  C9          	ret
2509  09B8              	SECTION rodata_compiler
2510  002C              ___str_17:
2511  002C  20          	DEFM " "
2512  002D  00          	DEFB 0x00
2513  002E              	SECTION code_compiler
2514  09B8              ;	---------------------------------
2515  09B8              ; Function game_check_time
2516  09B8              ; ---------------------------------
2517  09B8              _game_check_time:
2518  09B8  CD 00 00    	call	___sdcc_enter_ix
2519  09BB  2A 00 00    	ld	hl,(_curr_time)
2520  09BE  7D          	ld	a,l
2521  09BF  DD 96 04    	sub	a,(ix+4)
2522  09C2  4F          	ld	c,a
2523  09C3  7C          	ld	a,h
2524  09C4  DD 9E 05    	sbc	a,(ix+5)
2525  09C7  47          	ld	b, a
2526  09C8  DD 7E 06    	ld	a,(ix+6)
2527  09CB  91          	sub	a, c
2528  09CC  DD 7E 07    	ld	a,(ix+7)
2529  09CF  98          	sbc	a, b
2530  09D0  30 04       	jr	NC,l_game_check_time_00102
2531  09D2  2E 01       	ld	l,0x01
2532  09D4  18 02       	jr	l_game_check_time_00104
2533  09D6              l_game_check_time_00102:
2534  09D6  2E 00       	ld	l,0x00
2535  09D8              l_game_check_time_00104:
2536  09D8  DD E1       	pop	ix
2537  09DA  C9          	ret
2538  09DB              	SECTION code_compiler
2539  09DB              ;	---------------------------------
2540  09DB              ; Function game_shoot_fire
2541  09DB              ; ---------------------------------
2542  09DB              _game_shoot_fire:
2543  09DB  CD 00 00    	call	___sdcc_enter_ix
2544  09DE  21 F4 FF    	ld	hl, -12
2545  09E1  39          	add	hl, sp
2546  09E2  F9          	ld	sp, hl
2547  09E3  01 00 00    	ld	bc,_bullet_col
2548  09E6  DD 6E 04    	ld	l,(ix+4)
2549  09E9  26 00       	ld	h,0x00
2550  09EB  09          	add	hl,bc
2551  09EC  DD 75 FE    	ld	(ix-2),l
2552  09EF  DD 74 FF    	ld	(ix-1),h
2553  09F2  4E          	ld	c, (hl)
2554  09F3  0C          	inc	c
2555  09F4  C2 DF 0B    	jp	NZ,l_game_shoot_fire_00126
2556  09F7  21 00 00    	ld	hl,_bullet_count
2557  09FA  34          	inc	(hl)
2558  09FB  01 00 00    	ld	bc,_bullet_dir
2559  09FE  DD 6E 04    	ld	l,(ix+4)
2560  0A01  26 00       	ld	h,0x00
2561  0A03  09          	add	hl,bc
2562  0A04  DD 75 FC    	ld	(ix-4),l
2563  0A07  DD 74 FD    	ld	(ix-3),h
2564  0A0A  36 00       	ld	(hl),0x00
2565  0A0C  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2566  0A0E  DD 86 04    	add	a,(ix+4)
2567  0A11  4F          	ld	c, a
2568  0A12  3E 00       	ld	a, +((_bullet_lin0) / 256)
2569  0A14  CE 00       	adc	a,0x00
2570  0A16  47          	ld	b, a
2571  0A17  11 00 00    	ld	de,_lin
2572  0A1A  DD 6E 04    	ld	l,(ix+4)
2573  0A1D  26 00       	ld	h,0x00
2574  0A1F  19          	add	hl,de
2575  0A20  DD 75 FA    	ld	(ix-6),l
2576  0A23  DD 74 FB    	ld	(ix-5),h
2577  0A26  7E          	ld	a, (hl)
2578  0A27  02          	ld	(bc), a
2579  0A28  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2580  0A2A  DD 86 04    	add	a,(ix+4)
2581  0A2D  4F          	ld	c, a
2582  0A2E  3E 00       	ld	a, +((_bullet_col0) / 256)
2583  0A30  CE 00       	adc	a,0x00
2584  0A32  47          	ld	b, a
2585  0A33  11 00 00    	ld	de,_col
2586  0A36  DD 6E 04    	ld	l,(ix+4)
2587  0A39  26 00       	ld	h,0x00
2588  0A3B  19          	add	hl,de
2589  0A3C  DD 75 F8    	ld	(ix-8),l
2590  0A3F  DD 74 F9    	ld	(ix-7),h
2591  0A42  7E          	ld	a, (hl)
2592  0A43  02          	ld	(bc), a
2593  0A44  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2594  0A46  DD 86 04    	add	a,(ix+4)
2595  0A49  DD 77 F6    	ld	(ix-10),a
2596  0A4C  3E 00       	ld	a, +((_bullet_lin) / 256)
2597  0A4E  CE 00       	adc	a,0x00
2598  0A50  DD 77 F7    	ld	(ix-9),a
2599  0A53  DD 6E FA    	ld	l,(ix-6)
2600  0A56  DD 66 FB    	ld	h,(ix-5)
2601  0A59  4E          	ld	c, (hl)
2602  0A5A  DD 6E F6    	ld	l,(ix-10)
2603  0A5D  DD 66 F7    	ld	h,(ix-9)
2604  0A60  71          	ld	(hl), c
2605  0A61  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2606  0A63  DD 86 04    	add	a,(ix+4)
2607  0A66  DD 77 F4    	ld	(ix-12),a
2608  0A69  3E 00       	ld	a, +((_bullet_frames) / 256)
2609  0A6B  CE 00       	adc	a,0x00
2610  0A6D  DD 77 F5    	ld	(ix-11),a
2611  0A70  E1          	pop	hl
2612  0A71  E5          	push	hl
2613  0A72  36 02       	ld	(hl),0x02
2614  0A74  DD 7E 04    	ld	a,(ix+4)
2615  0A77  D6 07       	sub	a,0x07
2616  0A79  20 04       	jr	NZ,l_game_shoot_fire_00175
2617  0A7B  3E 01       	ld	a,0x01
2618  0A7D  18 01       	jr	l_game_shoot_fire_00176
2619  0A7F              l_game_shoot_fire_00175:
2620  0A7F  AF          	xor	a,a
2621  0A80              l_game_shoot_fire_00176:
2622  0A80  4F          	ld	c,a
2623  0A81  B7          	or	a, a
2624  0A82  28 13       	jr	Z,l_game_shoot_fire_00102
2625  0A84  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2626  0A86  DD 86 04    	add	a,(ix+4)
2627  0A89  5F          	ld	e, a
2628  0A8A  3E 00       	ld	a, +((_bullet_max) / 256)
2629  0A8C  CE 00       	adc	a,0x00
2630  0A8E  57          	ld	d, a
2631  0A8F  3A 00 00    	ld	a,(_player_lvl)
2632  0A92  C6 04       	add	a,0x04
2633  0A94  12          	ld	(de), a
2634  0A95  18 0D       	jr	l_game_shoot_fire_00103
2635  0A97              l_game_shoot_fire_00102:
2636  0A97  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2637  0A99  DD 86 04    	add	a,(ix+4)
2638  0A9C  5F          	ld	e, a
2639  0A9D  3E 00       	ld	a, +((_bullet_max) / 256)
2640  0A9F  CE 00       	adc	a,0x00
2641  0AA1  57          	ld	d, a
2642  0AA2  AF          	xor	a, a
2643  0AA3  12          	ld	(de), a
2644  0AA4              l_game_shoot_fire_00103:
2645  0AA4  DD 7E 05    	ld	a,(ix+5)
2646  0AA7  D6 7C       	sub	a,0x7c
2647  0AA9  20 0E       	jr	NZ,l_game_shoot_fire_00105
2648  0AAB  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2649  0AAD  DD 86 04    	add	a,(ix+4)
2650  0AB0  5F          	ld	e, a
2651  0AB1  3E 00       	ld	a, +((_bullet_class) / 256)
2652  0AB3  CE 00       	adc	a,0x00
2653  0AB5  57          	ld	d, a
2654  0AB6  3E 01       	ld	a,0x01
2655  0AB8  12          	ld	(de), a
2656  0AB9              l_game_shoot_fire_00105:
2657  0AB9  DD 7E 05    	ld	a,(ix+5)
2658  0ABC  D6 78       	sub	a,0x78
2659  0ABE  20 21       	jr	NZ,l_game_shoot_fire_00110
2660  0AC0  B1          	or	a,c
2661  0AC1  28 10       	jr	Z,l_game_shoot_fire_00107
2662  0AC3  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2663  0AC5  DD 86 04    	add	a,(ix+4)
2664  0AC8  4F          	ld	c, a
2665  0AC9  3E 00       	ld	a, +((_bullet_class) / 256)
2666  0ACB  CE 00       	adc	a,0x00
2667  0ACD  47          	ld	b, a
2668  0ACE  3E 01       	ld	a,0x01
2669  0AD0  02          	ld	(bc), a
2670  0AD1  18 0E       	jr	l_game_shoot_fire_00110
2671  0AD3              l_game_shoot_fire_00107:
2672  0AD3  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2673  0AD5  DD 86 04    	add	a,(ix+4)
2674  0AD8  4F          	ld	c, a
2675  0AD9  3E 00       	ld	a, +((_bullet_class) / 256)
2676  0ADB  CE 00       	adc	a,0x00
2677  0ADD  47          	ld	b, a
2678  0ADE  3E 02       	ld	a,0x02
2679  0AE0  02          	ld	(bc), a
2680  0AE1              l_game_shoot_fire_00110:
2681  0AE1  DD 7E 05    	ld	a,(ix+5)
2682  0AE4  D6 80       	sub	a,0x80
2683  0AE6  20 04       	jr	NZ,l_game_shoot_fire_00181
2684  0AE8  3E 01       	ld	a,0x01
2685  0AEA  18 01       	jr	l_game_shoot_fire_00182
2686  0AEC              l_game_shoot_fire_00181:
2687  0AEC  AF          	xor	a,a
2688  0AED              l_game_shoot_fire_00182:
2689  0AED  4F          	ld	c,a
2690  0AEE  B7          	or	a, a
2691  0AEF  28 31       	jr	Z,l_game_shoot_fire_00112
2692  0AF1  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2693  0AF3  DD 86 04    	add	a,(ix+4)
2694  0AF6  5F          	ld	e, a
2695  0AF7  3E 00       	ld	a, +((_bullet_class) / 256)
2696  0AF9  CE 00       	adc	a,0x00
2697  0AFB  57          	ld	d, a
2698  0AFC  3E 04       	ld	a,0x04
2699  0AFE  12          	ld	(de), a
2700  0AFF  DD 6E FA    	ld	l,(ix-6)
2701  0B02  DD 66 FB    	ld	h,(ix-5)
2702  0B05  7E          	ld	a, (hl)
2703  0B06  C6 FC       	add	a,0xfc
2704  0B08  DD 6E F6    	ld	l,(ix-10)
2705  0B0B  DD 66 F7    	ld	h,(ix-9)
2706  0B0E  77          	ld	(hl), a
2707  0B0F  E1          	pop	hl
2708  0B10  E5          	push	hl
2709  0B11  36 04       	ld	(hl),0x04
2710  0B13  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2711  0B15  DD 86 04    	add	a,(ix+4)
2712  0B18  5F          	ld	e, a
2713  0B19  3E 00       	ld	a, +((_bullet_vel) / 256)
2714  0B1B  CE 00       	adc	a,0x00
2715  0B1D  57          	ld	d, a
2716  0B1E  3A 00 00    	ld	a,(_player_vel_y0)
2717  0B21  12          	ld	(de), a
2718  0B22              l_game_shoot_fire_00112:
2719  0B22  3A 00 00    	ld	a,(_s_state)
2720  0B25  E6 08       	and	a,0x08
2721  0B27  47          	ld	b, a
2722  0B28  3A 00 00    	ld	a,(_sprite)
2723  0B2B  D6 07       	sub	a,0x07
2724  0B2D  20 06       	jr	NZ,l_game_shoot_fire_00114
2725  0B2F  3A 07 00    	ld	a,(_state_a + 0x0007)
2726  0B32  E6 08       	and	a,0x08
2727  0B34  47          	ld	b, a
2728  0B35              l_game_shoot_fire_00114:
2729  0B35  DD 6E F8    	ld	l,(ix-8)
2730  0B38  DD 66 F9    	ld	h,(ix-7)
2731  0B3B  56          	ld	d, (hl)
2732  0B3C  DD 6E FA    	ld	l,(ix-6)
2733  0B3F  DD 66 FB    	ld	h,(ix-5)
2734  0B42  7E          	ld	a, (hl)
2735  0B43  C5          	push	bc
2736  0B44  5F          	ld	e,a
2737  0B45  D5          	push	de
2738  0B46  CD 00 00    	call	_spr_calc_index
2739  0B49  F1          	pop	af
2740  0B4A  EB          	ex	de,hl
2741  0B4B  C1          	pop	bc
2742  0B4C  ED 53 00 00 	ld	(_index1),de
2743  0B50  DD 6E F8    	ld	l,(ix-8)
2744  0B53  DD 66 F9    	ld	h,(ix-7)
2745  0B56  5E          	ld	e, (hl)
2746  0B57  78          	ld	a, b
2747  0B58  B7          	or	a, a
2748  0B59  28 4F       	jr	Z,l_game_shoot_fire_00123
2749  0B5B  7B          	ld	a, e
2750  0B5C  D6 01       	sub	a,0x01
2751  0B5E  30 05       	jr	NC,l_game_shoot_fire_00116
2752  0B60  2E 01       	ld	l,0x01
2753  0B62  C3 E1 0B    	jp	l_game_shoot_fire_00127
2754  0B65              l_game_shoot_fire_00116:
2755  0B65  DD 6E FE    	ld	l,(ix-2)
2756  0B68  DD 66 FF    	ld	h,(ix-1)
2757  0B6B  73          	ld	(hl), e
2758  0B6C  79          	ld	a, c
2759  0B6D  B7          	or	a, a
2760  0B6E  20 13       	jr	NZ,l_game_shoot_fire_00118
2761  0B70  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2762  0B72  DD 86 04    	add	a,(ix+4)
2763  0B75  4F          	ld	c, a
2764  0B76  3E 00       	ld	a, +((_bullet_tile) / 256)
2765  0B78  CE 00       	adc	a,0x00
2766  0B7A  47          	ld	b, a
2767  0B7B  DD 7E 05    	ld	a,(ix+5)
2768  0B7E  C6 02       	add	a,0x02
2769  0B80  02          	ld	(bc), a
2770  0B81  18 0F       	jr	l_game_shoot_fire_00119
2771  0B83              l_game_shoot_fire_00118:
2772  0B83  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2773  0B85  DD 86 04    	add	a,(ix+4)
2774  0B88  4F          	ld	c, a
2775  0B89  3E 00       	ld	a, +((_bullet_tile) / 256)
2776  0B8B  CE 00       	adc	a,0x00
2777  0B8D  47          	ld	b, a
2778  0B8E  DD 7E 05    	ld	a,(ix+5)
2779  0B91  02          	ld	(bc), a
2780  0B92              l_game_shoot_fire_00119:
2781  0B92  DD 6E FC    	ld	l,(ix-4)
2782  0B95  DD 66 FD    	ld	h,(ix-3)
2783  0B98  36 01       	ld	(hl),0x01
2784  0B9A  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2785  0B9C  DD 86 04    	add	a,(ix+4)
2786  0B9F  4F          	ld	c, a
2787  0BA0  3E 00       	ld	a, +((_bullet_colint) / 256)
2788  0BA2  CE 00       	adc	a,0x00
2789  0BA4  47          	ld	b, a
2790  0BA5  3E 02       	ld	a,0x02
2791  0BA7  02          	ld	(bc), a
2792  0BA8  18 35       	jr	l_game_shoot_fire_00126
2793  0BAA              l_game_shoot_fire_00123:
2794  0BAA  3E 1D       	ld	a,0x1d
2795  0BAC  93          	sub	a, e
2796  0BAD  30 04       	jr	NC,l_game_shoot_fire_00121
2797  0BAF  2E 01       	ld	l,0x01
2798  0BB1  18 2E       	jr	l_game_shoot_fire_00127
2799  0BB3              l_game_shoot_fire_00121:
2800  0BB3  DD 6E FE    	ld	l,(ix-2)
2801  0BB6  DD 66 FF    	ld	h,(ix-1)
2802  0BB9  73          	ld	(hl), e
2803  0BBA  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2804  0BBC  DD 86 04    	add	a,(ix+4)
2805  0BBF  4F          	ld	c, a
2806  0BC0  3E 00       	ld	a, +((_bullet_tile) / 256)
2807  0BC2  CE 00       	adc	a,0x00
2808  0BC4  47          	ld	b, a
2809  0BC5  DD 7E 05    	ld	a,(ix+5)
2810  0BC8  02          	ld	(bc), a
2811  0BC9  DD 6E FC    	ld	l,(ix-4)
2812  0BCC  DD 66 FD    	ld	h,(ix-3)
2813  0BCF  36 FF       	ld	(hl),0xff
2814  0BD1  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2815  0BD3  DD 86 04    	add	a,(ix+4)
2816  0BD6  4F          	ld	c, a
2817  0BD7  3E 00       	ld	a, +((_bullet_colint) / 256)
2818  0BD9  CE 00       	adc	a,0x00
2819  0BDB  47          	ld	b, a
2820  0BDC  3E FF       	ld	a,0xff
2821  0BDE  02          	ld	(bc), a
2822  0BDF              l_game_shoot_fire_00126:
2823  0BDF  2E 00       	ld	l,0x00
2824  0BE1              l_game_shoot_fire_00127:
2825  0BE1  DD F9       	ld	sp, ix
2826  0BE3  DD E1       	pop	ix
2827  0BE5  C9          	ret
2828  0BE6              	SECTION code_compiler
2829  0BE6              ;	---------------------------------
2830  0BE6              ; Function game_obj_set
2831  0BE6              ; ---------------------------------
2832  0BE6              _game_obj_set:
2833  0BE6  CD 00 00    	call	___sdcc_enter_ix
2834  0BE9  21 00 00    	ld	hl,_scr_curr
2835  0BEC  7E          	ld	a, (hl)
2836  0BED  D6 08       	sub	a,0x08
2837  0BEF  30 1E       	jr	NC,l_game_obj_set_00102
2838  0BF1  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2839  0BF3  DD 86 04    	add	a,(ix+4)
2840  0BF6  4F          	ld	c, a
2841  0BF7  3E 00       	ld	a, +((_scr_obj0) / 256)
2842  0BF9  DD 8E 05    	adc	a,(ix+5)
2843  0BFC  47          	ld	b, a
2844  0BFD  0A          	ld	a, (bc)
2845  0BFE  5F          	ld	e, a
2846  0BFF  7E          	ld	a, (hl)
2847  0C00  3C          	inc	a
2848  0C01  16 01       	ld	d,0x01
2849  0C03  18 02       	jr	l_game_obj_set_00111
2850  0C05              l_game_obj_set_00110:
2851  0C05  CB 22       	sla	d
2852  0C07              l_game_obj_set_00111:
2853  0C07  3D          	dec	a
2854  0C08  20 FB       	jr	NZ,l_game_obj_set_00110
2855  0C0A  7B          	ld	a, e
2856  0C0B  B2          	or	a, d
2857  0C0C  02          	ld	(bc), a
2858  0C0D  18 20       	jr	l_game_obj_set_00104
2859  0C0F              l_game_obj_set_00102:
2860  0C0F  3A 00 00    	ld	a,(_scr_curr)
2861  0C12  C6 F8       	add	a,0xf8
2862  0C14  47          	ld	b, a
2863  0C15  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2864  0C17  DD 86 04    	add	a,(ix+4)
2865  0C1A  5F          	ld	e, a
2866  0C1B  3E 00       	ld	a, +((_scr_obj1) / 256)
2867  0C1D  DD 8E 05    	adc	a,(ix+5)
2868  0C20  57          	ld	d, a
2869  0C21  1A          	ld	a, (de)
2870  0C22  4F          	ld	c, a
2871  0C23  2E 01       	ld	l,0x01
2872  0C25  04          	inc	b
2873  0C26  18 02       	jr	l_game_obj_set_00113
2874  0C28              l_game_obj_set_00112:
2875  0C28  CB 25       	sla	l
2876  0C2A              l_game_obj_set_00113:
2877  0C2A  10 FC       	djnz	l_game_obj_set_00112
2878  0C2C  79          	ld	a, c
2879  0C2D  B5          	or	a, l
2880  0C2E  12          	ld	(de), a
2881  0C2F              l_game_obj_set_00104:
2882  0C2F  DD E1       	pop	ix
2883  0C31  C9          	ret
2884  0C32              	SECTION code_compiler
2885  0C32              ;	---------------------------------
2886  0C32              ; Function game_obj_chk
2887  0C32              ; ---------------------------------
2888  0C32              _game_obj_chk:
2889  0C32  CD 00 00    	call	___sdcc_enter_ix
2890  0C35  21 00 00    	ld	hl,_scr_curr
2891  0C38  7E          	ld	a, (hl)
2892  0C39  D6 08       	sub	a,0x08
2893  0C3B  30 1D       	jr	NC,l_game_obj_chk_00102
2894  0C3D  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2895  0C3F  DD 86 04    	add	a,(ix+4)
2896  0C42  4F          	ld	c, a
2897  0C43  3E 00       	ld	a, +((_scr_obj0) / 256)
2898  0C45  DD 8E 05    	adc	a,(ix+5)
2899  0C48  47          	ld	b, a
2900  0C49  0A          	ld	a, (bc)
2901  0C4A  4F          	ld	c, a
2902  0C4B  46          	ld	b, (hl)
2903  0C4C  1E 01       	ld	e,0x01
2904  0C4E  04          	inc	b
2905  0C4F  18 02       	jr	l_game_obj_chk_00111
2906  0C51              l_game_obj_chk_00110:
2907  0C51  CB 23       	sla	e
2908  0C53              l_game_obj_chk_00111:
2909  0C53  10 FC       	djnz	l_game_obj_chk_00110
2910  0C55  79          	ld	a, c
2911  0C56  A3          	and	a, e
2912  0C57  6F          	ld	l, a
2913  0C58  18 20       	jr	l_game_obj_chk_00104
2914  0C5A              l_game_obj_chk_00102:
2915  0C5A  3A 00 00    	ld	a,(_scr_curr)
2916  0C5D  C6 F8       	add	a,0xf8
2917  0C5F  47          	ld	b, a
2918  0C60  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2919  0C62  DD 86 04    	add	a,(ix+4)
2920  0C65  5F          	ld	e, a
2921  0C66  3E 00       	ld	a, +((_scr_obj1) / 256)
2922  0C68  DD 8E 05    	adc	a,(ix+5)
2923  0C6B  57          	ld	d, a
2924  0C6C  1A          	ld	a, (de)
2925  0C6D  4F          	ld	c, a
2926  0C6E  1E 01       	ld	e,0x01
2927  0C70  04          	inc	b
2928  0C71  18 02       	jr	l_game_obj_chk_00113
2929  0C73              l_game_obj_chk_00112:
2930  0C73  CB 23       	sla	e
2931  0C75              l_game_obj_chk_00113:
2932  0C75  10 FC       	djnz	l_game_obj_chk_00112
2933  0C77  79          	ld	a, c
2934  0C78  A3          	and	a, e
2935  0C79  6F          	ld	l, a
2936  0C7A              l_game_obj_chk_00104:
2937  0C7A  DD E1       	pop	ix
2938  0C7C  C9          	ret
2939  0C7D              	SECTION code_compiler
2940  0C7D              ;	---------------------------------
2941  0C7D              ; Function game_obj_clear
2942  0C7D              ; ---------------------------------
2943  0C7D              _game_obj_clear:
2944  0C7D  21 00 00    	ld	hl,_tmp
2945  0C80  36 00       	ld	(hl),0x00
2946  0C82              l_game_obj_clear_00102:
2947  0C82  2A 00 00    	ld	hl,(_tmp)
2948  0C85  26 00       	ld	h,0x00
2949  0C87  01 00 00    	ld	bc,_scr_map
2950  0C8A  09          	add	hl,bc
2951  0C8B  AF          	xor	a,a
2952  0C8C  77          	ld	(hl),a
2953  0C8D  2A 00 00    	ld	hl,(_tmp)
2954  0C90  26 00       	ld	h,0x00
2955  0C92  01 00 00    	ld	bc,_scr_obj0
2956  0C95  09          	add	hl,bc
2957  0C96  AF          	xor	a,a
2958  0C97  77          	ld	(hl),a
2959  0C98  2A 00 00    	ld	hl,(_tmp)
2960  0C9B  26 00       	ld	h,0x00
2961  0C9D  01 00 00    	ld	bc,_scr_obj1
2962  0CA0  09          	add	hl,bc
2963  0CA1  AF          	xor	a,a
2964  0CA2  77          	ld	(hl),a
2965  0CA3  21 00 00    	ld	hl,_tmp
2966  0CA6  7E          	ld	a,(hl)
2967  0CA7  3C          	inc	a
2968  0CA8  77          	ld	(hl),a
2969  0CA9  D6 A0       	sub	a,0xa0
2970  0CAB  38 D5       	jr	C,l_game_obj_clear_00102
2971  0CAD  01 00 00    	ld	bc,_player_keys+0
2972  0CB0  AF          	xor	a, a
2973  0CB1  02          	ld	(bc), a
2974  0CB2  21 00 00    	ld	hl,0x0000
2975  0CB5  22 01 00    	ld	((_player_keys + 0x0001)),hl
2976  0CB8  69          	ld	l,c
2977  0CB9  60          	ld	h,b
2978  0CBA  23          	inc	hl
2979  0CBB  23          	inc	hl
2980  0CBC  23          	inc	hl
2981  0CBD  36 00       	ld	(hl),0x00
2982  0CBF  C9          	ret
2983  0CC0              	SECTION IGNORE
2984  0000              
