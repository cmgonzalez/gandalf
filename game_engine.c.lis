1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_fps
191   0000              	GLOBAL _game_respawn
192   0000              	GLOBAL _game_draw_screen
193   0000              	GLOBAL _game_add_enemy
194   0000              	GLOBAL _game_print_footer
195   0000              	GLOBAL _game_print_score
196   0000              	GLOBAL _game_update_stats
197   0000              	GLOBAL _game_start_timer
198   0000              	GLOBAL _game_round_init
199   0000              	GLOBAL _game_print_header
200   0000              	GLOBAL _game_check_map
201   0000              	GLOBAL _game_check_cell
202   0000              	GLOBAL _game_paint_attrib_lin
203   0000              	GLOBAL _game_paint_attrib_lin_h
204   0000              	GLOBAL _game_paint_attrib_lin_osd
205   0000              	GLOBAL _game_colour_message
206   0000              	GLOBAL _game_check_time
207   0000              	GLOBAL _game_shoot_fire
208   0000              	GLOBAL _game_shoot_fire_boss
209   0000              	GLOBAL _game_obj_set
210   0000              	GLOBAL _game_obj_chk
211   0000              	GLOBAL _game_obj_clear
212   0000              	GLOBAL _game_boss_clear
213   0000              	GLOBAL _game_rotate_attrib
214   0000              	GLOBAL _game_rotate_attrib_osd
215   0000              	GLOBAL _game_attribs
216   0000              	GLOBAL _game_match_back
217   0000              	GLOBAL _menu_main
218   0000              	GLOBAL _menu_main_print
219   0000              	GLOBAL _menu_redefine
220   0000              	GLOBAL _menu_define_key
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ffsll_callee
225   0000              	GLOBAL _ffsll
226   0000              	GLOBAL _strxfrm_callee
227   0000              	GLOBAL _strxfrm
228   0000              	GLOBAL _strupr_fastcall
229   0000              	GLOBAL _strupr
230   0000              	GLOBAL _strtok_r_callee
231   0000              	GLOBAL _strtok_r
232   0000              	GLOBAL _strtok_callee
233   0000              	GLOBAL _strtok
234   0000              	GLOBAL _strstrip_fastcall
235   0000              	GLOBAL _strstrip
236   0000              	GLOBAL _strstr_callee
237   0000              	GLOBAL _strstr
238   0000              	GLOBAL _strspn_callee
239   0000              	GLOBAL _strspn
240   0000              	GLOBAL _strsep_callee
241   0000              	GLOBAL _strsep
242   0000              	GLOBAL _strrstrip_fastcall
243   0000              	GLOBAL _strrstrip
244   0000              	GLOBAL _strrspn_callee
245   0000              	GLOBAL _strrspn
246   0000              	GLOBAL _strrev_fastcall
247   0000              	GLOBAL _strrev
248   0000              	GLOBAL _strrcspn_callee
249   0000              	GLOBAL _strrcspn
250   0000              	GLOBAL _strrchr_callee
251   0000              	GLOBAL _strrchr
252   0000              	GLOBAL _strpbrk_callee
253   0000              	GLOBAL _strpbrk
254   0000              	GLOBAL _strnlen_callee
255   0000              	GLOBAL _strnlen
256   0000              	GLOBAL _strnicmp_callee
257   0000              	GLOBAL _strnicmp
258   0000              	GLOBAL _strndup_callee
259   0000              	GLOBAL _strndup
260   0000              	GLOBAL _strncpy_callee
261   0000              	GLOBAL _strncpy
262   0000              	GLOBAL _strncmp_callee
263   0000              	GLOBAL _strncmp
264   0000              	GLOBAL _strnchr_callee
265   0000              	GLOBAL _strnchr
266   0000              	GLOBAL _strncat_callee
267   0000              	GLOBAL _strncat
268   0000              	GLOBAL _strncasecmp_callee
269   0000              	GLOBAL _strncasecmp
270   0000              	GLOBAL _strlwr_fastcall
271   0000              	GLOBAL _strlwr
272   0000              	GLOBAL _strlen_fastcall
273   0000              	GLOBAL _strlen
274   0000              	GLOBAL _strlcpy_callee
275   0000              	GLOBAL _strlcpy
276   0000              	GLOBAL _strlcat_callee
277   0000              	GLOBAL _strlcat
278   0000              	GLOBAL _stricmp_callee
279   0000              	GLOBAL _stricmp
280   0000              	GLOBAL _strerror_fastcall
281   0000              	GLOBAL _strerror
282   0000              	GLOBAL _strdup_fastcall
283   0000              	GLOBAL _strdup
284   0000              	GLOBAL _strcspn_callee
285   0000              	GLOBAL _strcspn
286   0000              	GLOBAL _strcpy_callee
287   0000              	GLOBAL _strcpy
288   0000              	GLOBAL _strcoll_callee
289   0000              	GLOBAL _strcoll
290   0000              	GLOBAL _strcmp_callee
291   0000              	GLOBAL _strcmp
292   0000              	GLOBAL _strchrnul_callee
293   0000              	GLOBAL _strchrnul
294   0000              	GLOBAL _strchr_callee
295   0000              	GLOBAL _strchr
296   0000              	GLOBAL _strcat_callee
297   0000              	GLOBAL _strcat
298   0000              	GLOBAL _strcasecmp_callee
299   0000              	GLOBAL _strcasecmp
300   0000              	GLOBAL _stpncpy_callee
301   0000              	GLOBAL _stpncpy
302   0000              	GLOBAL _stpcpy_callee
303   0000              	GLOBAL _stpcpy
304   0000              	GLOBAL _memswap_callee
305   0000              	GLOBAL _memswap
306   0000              	GLOBAL _memset_callee
307   0000              	GLOBAL _memset
308   0000              	GLOBAL _memrchr_callee
309   0000              	GLOBAL _memrchr
310   0000              	GLOBAL _memmove_callee
311   0000              	GLOBAL _memmove
312   0000              	GLOBAL _memmem_callee
313   0000              	GLOBAL _memmem
314   0000              	GLOBAL _memcpy_callee
315   0000              	GLOBAL _memcpy
316   0000              	GLOBAL _memcmp_callee
317   0000              	GLOBAL _memcmp
318   0000              	GLOBAL _memchr_callee
319   0000              	GLOBAL _memchr
320   0000              	GLOBAL _memccpy_callee
321   0000              	GLOBAL _memccpy
322   0000              	GLOBAL _ffsl_fastcall
323   0000              	GLOBAL _ffsl
324   0000              	GLOBAL _ffs_fastcall
325   0000              	GLOBAL _ffs
326   0000              	GLOBAL __strrstrip__fastcall
327   0000              	GLOBAL __strrstrip_
328   0000              	GLOBAL __memupr__callee
329   0000              	GLOBAL __memupr_
330   0000              	GLOBAL __memstrcpy__callee
331   0000              	GLOBAL __memstrcpy_
332   0000              	GLOBAL __memlwr__callee
333   0000              	GLOBAL __memlwr_
334   0000              	GLOBAL _rawmemchr_callee
335   0000              	GLOBAL _rawmemchr
336   0000              	GLOBAL _strnset_callee
337   0000              	GLOBAL _strnset
338   0000              	GLOBAL _strset_callee
339   0000              	GLOBAL _strset
340   0000              	GLOBAL _rindex_callee
341   0000              	GLOBAL _rindex
342   0000              	GLOBAL _index_callee
343   0000              	GLOBAL _index
344   0000              	GLOBAL _bzero_callee
345   0000              	GLOBAL _bzero
346   0000              	GLOBAL _bcopy_callee
347   0000              	GLOBAL _bcopy
348   0000              	GLOBAL _bcmp_callee
349   0000              	GLOBAL _bcmp
350   0000              	GLOBAL _ulltoa_callee
351   0000              	GLOBAL _ulltoa
352   0000              	GLOBAL _strtoull_callee
353   0000              	GLOBAL _strtoull
354   0000              	GLOBAL _strtoll_callee
355   0000              	GLOBAL _strtoll
356   0000              	GLOBAL _lltoa_callee
357   0000              	GLOBAL _lltoa
358   0000              	GLOBAL _llabs_callee
359   0000              	GLOBAL _llabs
360   0000              	GLOBAL __lldivu__callee
361   0000              	GLOBAL __lldivu_
362   0000              	GLOBAL __lldiv__callee
363   0000              	GLOBAL __lldiv_
364   0000              	GLOBAL _atoll_callee
365   0000              	GLOBAL _atoll
366   0000              	GLOBAL _realloc_unlocked_callee
367   0000              	GLOBAL _realloc_unlocked
368   0000              	GLOBAL _malloc_unlocked_fastcall
369   0000              	GLOBAL _malloc_unlocked
370   0000              	GLOBAL _free_unlocked_fastcall
371   0000              	GLOBAL _free_unlocked
372   0000              	GLOBAL _calloc_unlocked_callee
373   0000              	GLOBAL _calloc_unlocked
374   0000              	GLOBAL _aligned_alloc_unlocked_callee
375   0000              	GLOBAL _aligned_alloc_unlocked
376   0000              	GLOBAL _realloc_callee
377   0000              	GLOBAL _realloc
378   0000              	GLOBAL _malloc_fastcall
379   0000              	GLOBAL _malloc
380   0000              	GLOBAL _free_fastcall
381   0000              	GLOBAL _free
382   0000              	GLOBAL _calloc_callee
383   0000              	GLOBAL _calloc
384   0000              	GLOBAL _aligned_alloc_callee
385   0000              	GLOBAL _aligned_alloc
386   0000              	GLOBAL _utoa_callee
387   0000              	GLOBAL _utoa
388   0000              	GLOBAL _ultoa_callee
389   0000              	GLOBAL _ultoa
390   0000              	GLOBAL _system_fastcall
391   0000              	GLOBAL _system
392   0000              	GLOBAL _strtoul_callee
393   0000              	GLOBAL _strtoul
394   0000              	GLOBAL _strtol_callee
395   0000              	GLOBAL _strtol
396   0000              	GLOBAL _strtof_callee
397   0000              	GLOBAL _strtof
398   0000              	GLOBAL _strtod_callee
399   0000              	GLOBAL _strtod
400   0000              	GLOBAL _srand_fastcall
401   0000              	GLOBAL _srand
402   0000              	GLOBAL _rand
403   0000              	GLOBAL _quick_exit_fastcall
404   0000              	GLOBAL _quick_exit
405   0000              	GLOBAL _qsort_callee
406   0000              	GLOBAL _qsort
407   0000              	GLOBAL _ltoa_callee
408   0000              	GLOBAL _ltoa
409   0000              	GLOBAL _labs_fastcall
410   0000              	GLOBAL _labs
411   0000              	GLOBAL _itoa_callee
412   0000              	GLOBAL _itoa
413   0000              	GLOBAL _ftoh_callee
414   0000              	GLOBAL _ftoh
415   0000              	GLOBAL _ftog_callee
416   0000              	GLOBAL _ftog
417   0000              	GLOBAL _ftoe_callee
418   0000              	GLOBAL _ftoe
419   0000              	GLOBAL _ftoa_callee
420   0000              	GLOBAL _ftoa
421   0000              	GLOBAL _exit_fastcall
422   0000              	GLOBAL _exit
423   0000              	GLOBAL _dtoh_callee
424   0000              	GLOBAL _dtoh
425   0000              	GLOBAL _dtog_callee
426   0000              	GLOBAL _dtog
427   0000              	GLOBAL _dtoe_callee
428   0000              	GLOBAL _dtoe
429   0000              	GLOBAL _dtoa_callee
430   0000              	GLOBAL _dtoa
431   0000              	GLOBAL _bsearch_callee
432   0000              	GLOBAL _bsearch
433   0000              	GLOBAL _atol_fastcall
434   0000              	GLOBAL _atol
435   0000              	GLOBAL _atoi_fastcall
436   0000              	GLOBAL _atoi
437   0000              	GLOBAL _atof_fastcall
438   0000              	GLOBAL _atof
439   0000              	GLOBAL _atexit_fastcall
440   0000              	GLOBAL _atexit
441   0000              	GLOBAL _at_quick_exit_fastcall
442   0000              	GLOBAL _at_quick_exit
443   0000              	GLOBAL _abs_fastcall
444   0000              	GLOBAL _abs
445   0000              	GLOBAL _abort
446   0000              	GLOBAL __strtou__callee
447   0000              	GLOBAL __strtou_
448   0000              	GLOBAL __strtoi__callee
449   0000              	GLOBAL __strtoi_
450   0000              	GLOBAL __random_uniform_xor_8__fastcall
451   0000              	GLOBAL __random_uniform_xor_8_
452   0000              	GLOBAL __random_uniform_xor_32__fastcall
453   0000              	GLOBAL __random_uniform_xor_32_
454   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
455   0000              	GLOBAL __random_uniform_cmwc_8_
456   0000              	GLOBAL __shellsort__callee
457   0000              	GLOBAL __shellsort_
458   0000              	GLOBAL __quicksort__callee
459   0000              	GLOBAL __quicksort_
460   0000              	GLOBAL __insertion_sort__callee
461   0000              	GLOBAL __insertion_sort_
462   0000              	GLOBAL __ldivu__callee
463   0000              	GLOBAL __ldivu_
464   0000              	GLOBAL __ldiv__callee
465   0000              	GLOBAL __ldiv_
466   0000              	GLOBAL __divu__callee
467   0000              	GLOBAL __divu_
468   0000              	GLOBAL __div__callee
469   0000              	GLOBAL __div_
470   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawTW_raw
472   0000              	GLOBAL _NIRVANAP_drawTW_callee
473   0000              	GLOBAL _NIRVANAP_drawTW
474   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
475   0000              	GLOBAL _NIRVANAP_drawW_raw
476   0000              	GLOBAL _NIRVANAP_drawW_callee
477   0000              	GLOBAL _NIRVANAP_drawW
478   0000              	GLOBAL _NIRVANAP_spriteT_callee
479   0000              	GLOBAL _NIRVANAP_spriteT
480   0000              	GLOBAL _NIRVANAP_fillC_callee
481   0000              	GLOBAL _NIRVANAP_fillC
482   0000              	GLOBAL _NIRVANAP_readC_callee
483   0000              	GLOBAL _NIRVANAP_readC
484   0000              	GLOBAL _NIRVANAP_paintC_callee
485   0000              	GLOBAL _NIRVANAP_paintC
486   0000              	GLOBAL _NIRVANAP_printC_callee
487   0000              	GLOBAL _NIRVANAP_printC
488   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
489   0000              	GLOBAL _NIRVANAP_fillT_raw
490   0000              	GLOBAL _NIRVANAP_fillT_callee
491   0000              	GLOBAL _NIRVANAP_fillT
492   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawT_raw
494   0000              	GLOBAL _NIRVANAP_drawT_callee
495   0000              	GLOBAL _NIRVANAP_drawT
496   0000              	GLOBAL _NIRVANAP_stop
497   0000              	GLOBAL _NIRVANAP_start
498   0000              	GLOBAL _debug3
499   0000              	GLOBAL _debug2
500   0000              	GLOBAL _debug
501   0000              	GLOBAL _zx_print_str
502   0000              	GLOBAL _zx_print_int
503   0000              	GLOBAL _zx_print_chr
504   0000              	GLOBAL _zx_print_bonus_time
505   0000              	GLOBAL _zx_isr
506   0000              	GLOBAL _z80_otdr_callee
507   0000              	GLOBAL _z80_otdr
508   0000              	GLOBAL _z80_otir_callee
509   0000              	GLOBAL _z80_otir
510   0000              	GLOBAL _z80_outp_callee
511   0000              	GLOBAL _z80_outp
512   0000              	GLOBAL _z80_indr_callee
513   0000              	GLOBAL _z80_indr
514   0000              	GLOBAL _z80_inir_callee
515   0000              	GLOBAL _z80_inir
516   0000              	GLOBAL _z80_inp_fastcall
517   0000              	GLOBAL _z80_inp
518   0000              	GLOBAL _z80_set_int_state_fastcall
519   0000              	GLOBAL _z80_set_int_state
520   0000              	GLOBAL _z80_get_int_state
521   0000              	GLOBAL _z80_delay_tstate_fastcall
522   0000              	GLOBAL _z80_delay_tstate
523   0000              	GLOBAL _z80_delay_ms_fastcall
524   0000              	GLOBAL _z80_delay_ms
525   0000              	GLOBAL _im2_remove_generic_callback_callee
526   0000              	GLOBAL _im2_remove_generic_callback
527   0000              	GLOBAL _im2_prepend_generic_callback_callee
528   0000              	GLOBAL _im2_prepend_generic_callback
529   0000              	GLOBAL _im2_append_generic_callback_callee
530   0000              	GLOBAL _im2_append_generic_callback
531   0000              	GLOBAL _im2_create_generic_isr_8080_callee
532   0000              	GLOBAL _im2_create_generic_isr_8080
533   0000              	GLOBAL _im2_create_generic_isr_callee
534   0000              	GLOBAL _im2_create_generic_isr
535   0000              	GLOBAL _im2_install_isr_callee
536   0000              	GLOBAL _im2_install_isr
537   0000              	GLOBAL _im2_init_fastcall
538   0000              	GLOBAL _im2_init
539   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
540   0000              	GLOBAL _intrinsic_swap_word_32
541   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
542   0000              	GLOBAL _intrinsic_swap_endian_32
543   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
544   0000              	GLOBAL _intrinsic_swap_endian_16
545   0000              	GLOBAL _intrinsic_return_de
546   0000              	GLOBAL _intrinsic_return_bc
547   0000              	GLOBAL _intrinsic_exx
548   0000              	GLOBAL _intrinsic_ex_de_hl
549   0000              	GLOBAL _intrinsic_nop
550   0000              	GLOBAL _intrinsic_im_2
551   0000              	GLOBAL _intrinsic_im_1
552   0000              	GLOBAL _intrinsic_im_0
553   0000              	GLOBAL _intrinsic_retn
554   0000              	GLOBAL _intrinsic_reti
555   0000              	GLOBAL _intrinsic_halt
556   0000              	GLOBAL _intrinsic_ei
557   0000              	GLOBAL _intrinsic_di
558   0000              	GLOBAL _intrinsic_stub
559   0000              	GLOBAL _intrinsic_outi
560   0000              	GLOBAL _intrinsic_ldi
561   0000              	GLOBAL _zx_pattern_fill_callee
562   0000              	GLOBAL _zx_pattern_fill
563   0000              	GLOBAL _zx_saddrpup_fastcall
564   0000              	GLOBAL _zx_saddrpup
565   0000              	GLOBAL _zx_saddrpright_callee
566   0000              	GLOBAL _zx_saddrpright
567   0000              	GLOBAL _zx_saddrpleft_callee
568   0000              	GLOBAL _zx_saddrpleft
569   0000              	GLOBAL _zx_saddrpdown_fastcall
570   0000              	GLOBAL _zx_saddrpdown
571   0000              	GLOBAL _zx_saddrcup_fastcall
572   0000              	GLOBAL _zx_saddrcup
573   0000              	GLOBAL _zx_saddrcright_fastcall
574   0000              	GLOBAL _zx_saddrcright
575   0000              	GLOBAL _zx_saddrcleft_fastcall
576   0000              	GLOBAL _zx_saddrcleft
577   0000              	GLOBAL _zx_saddrcdown_fastcall
578   0000              	GLOBAL _zx_saddrcdown
579   0000              	GLOBAL _zx_saddr2py_fastcall
580   0000              	GLOBAL _zx_saddr2py
581   0000              	GLOBAL _zx_saddr2px_fastcall
582   0000              	GLOBAL _zx_saddr2px
583   0000              	GLOBAL _zx_saddr2cy_fastcall
584   0000              	GLOBAL _zx_saddr2cy
585   0000              	GLOBAL _zx_saddr2cx_fastcall
586   0000              	GLOBAL _zx_saddr2cx
587   0000              	GLOBAL _zx_saddr2aaddr_fastcall
588   0000              	GLOBAL _zx_saddr2aaddr
589   0000              	GLOBAL _zx_py2saddr_fastcall
590   0000              	GLOBAL _zx_py2saddr
591   0000              	GLOBAL _zx_py2aaddr_fastcall
592   0000              	GLOBAL _zx_py2aaddr
593   0000              	GLOBAL _zx_pxy2saddr_callee
594   0000              	GLOBAL _zx_pxy2saddr
595   0000              	GLOBAL _zx_pxy2aaddr_callee
596   0000              	GLOBAL _zx_pxy2aaddr
597   0000              	GLOBAL _zx_px2bitmask_fastcall
598   0000              	GLOBAL _zx_px2bitmask
599   0000              	GLOBAL _zx_cy2saddr_fastcall
600   0000              	GLOBAL _zx_cy2saddr
601   0000              	GLOBAL _zx_cy2aaddr_fastcall
602   0000              	GLOBAL _zx_cy2aaddr
603   0000              	GLOBAL _zx_cxy2saddr_callee
604   0000              	GLOBAL _zx_cxy2saddr
605   0000              	GLOBAL _zx_cxy2aaddr_callee
606   0000              	GLOBAL _zx_cxy2aaddr
607   0000              	GLOBAL _zx_bitmask2px_fastcall
608   0000              	GLOBAL _zx_bitmask2px
609   0000              	GLOBAL _zx_aaddrcup_fastcall
610   0000              	GLOBAL _zx_aaddrcup
611   0000              	GLOBAL _zx_aaddrcright_fastcall
612   0000              	GLOBAL _zx_aaddrcright
613   0000              	GLOBAL _zx_aaddrcleft_fastcall
614   0000              	GLOBAL _zx_aaddrcleft
615   0000              	GLOBAL _zx_aaddrcdown_fastcall
616   0000              	GLOBAL _zx_aaddrcdown
617   0000              	GLOBAL _zx_aaddr2saddr_fastcall
618   0000              	GLOBAL _zx_aaddr2saddr
619   0000              	GLOBAL _zx_aaddr2py_fastcall
620   0000              	GLOBAL _zx_aaddr2py
621   0000              	GLOBAL _zx_aaddr2px_fastcall
622   0000              	GLOBAL _zx_aaddr2px
623   0000              	GLOBAL _zx_aaddr2cy_fastcall
624   0000              	GLOBAL _zx_aaddr2cy
625   0000              	GLOBAL _zx_aaddr2cx_fastcall
626   0000              	GLOBAL _zx_aaddr2cx
627   0000              	GLOBAL _zx_visit_wc_pix_callee
628   0000              	GLOBAL _zx_visit_wc_pix
629   0000              	GLOBAL _zx_visit_wc_attr_callee
630   0000              	GLOBAL _zx_visit_wc_attr
631   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
632   0000              	GLOBAL _zx_scroll_wc_up_pix
633   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
634   0000              	GLOBAL _zx_scroll_wc_up_attr
635   0000              	GLOBAL _zx_scroll_wc_up_callee
636   0000              	GLOBAL _zx_scroll_wc_up
637   0000              	GLOBAL _zx_scroll_up_pix_callee
638   0000              	GLOBAL _zx_scroll_up_pix
639   0000              	GLOBAL _zx_scroll_up_attr_callee
640   0000              	GLOBAL _zx_scroll_up_attr
641   0000              	GLOBAL _zx_scroll_up_callee
642   0000              	GLOBAL _zx_scroll_up
643   0000              	GLOBAL _zx_cls_wc_pix_callee
644   0000              	GLOBAL _zx_cls_wc_pix
645   0000              	GLOBAL _zx_cls_wc_attr_callee
646   0000              	GLOBAL _zx_cls_wc_attr
647   0000              	GLOBAL _zx_cls_wc_callee
648   0000              	GLOBAL _zx_cls_wc
649   0000              	GLOBAL _zx_cls_pix_fastcall
650   0000              	GLOBAL _zx_cls_pix
651   0000              	GLOBAL _zx_cls_attr_fastcall
652   0000              	GLOBAL _zx_cls_attr
653   0000              	GLOBAL _zx_cls_fastcall
654   0000              	GLOBAL _zx_cls
655   0000              	GLOBAL _zx_border_fastcall
656   0000              	GLOBAL _zx_border
657   0000              	GLOBAL _spr_btile_paint_back
658   0000              	GLOBAL _spr_explode_bullet
659   0000              	GLOBAL _spr_init_anim_bullets
660   0000              	GLOBAL _spr_turn_horizontal
661   0000              	GLOBAL _spr_play_bullets
662   0000              	GLOBAL _spr_play_anim
663   0000              	GLOBAL _spr_add_anim
664   0000              	GLOBAL _spr_clear_scr
665   0000              	GLOBAL _spr_page_map
666   0000              	GLOBAL _spr_page_down
667   0000              	GLOBAL _spr_page_up
668   0000              	GLOBAL _spr_page_right
669   0000              	GLOBAL _spr_page_left
670   0000              	GLOBAL _spr_tile_paint
671   0000              	GLOBAL _spr_calc_hor
672   0000              	GLOBAL _spr_draw_index
673   0000              	GLOBAL _spr_brick_anim
674   0000              	GLOBAL _spr_back_repaint
675   0000              	GLOBAL _spr_tile
676   0000              	GLOBAL _spr_destroy
677   0000              	GLOBAL _spr_tile_dir
678   0000              	GLOBAL _spr_redraw
679   0000              	GLOBAL _spr_move_left
680   0000              	GLOBAL _spr_move_right
681   0000              	GLOBAL _spr_move_horizontal
682   0000              	GLOBAL _spr_move_down
683   0000              	GLOBAL _spr_move_up
684   0000              	GLOBAL _spr_calc_index
685   0000              	GLOBAL _spr_chktime
686   0000              	GLOBAL _player_fix_walk_lin
687   0000              	GLOBAL _player_gasta_brick
688   0000              	GLOBAL _player_lost_life
689   0000              	GLOBAL _player_hit
690   0000              	GLOBAL _player_open_door
691   0000              	GLOBAL _player_move_jump
692   0000              	GLOBAL _player_fire
693   0000              	GLOBAL _player_check_stairs_vertical
694   0000              	GLOBAL _player_check_stairs
695   0000              	GLOBAL _player_tile
696   0000              	GLOBAL _player_pick_item
697   0000              	GLOBAL _player_check_floor
698   0000              	GLOBAL _player_hit_platform_clear
699   0000              	GLOBAL _player_score_add
700   0000              	GLOBAL _player_hit_platform
701   0000              	GLOBAL _player_move_input
702   0000              	GLOBAL _player_turn
703   0000              	GLOBAL _player_move
704   0000              	GLOBAL _player_check_input
705   0000              	GLOBAL _player_pick_mushroom
706   0000              	GLOBAL _player_collision
707   0000              	GLOBAL _player_init
708   0000              	GLOBAL _game_fill_row
709   0000              	GLOBAL _boss_turn
710   0000              	GLOBAL _enemy_avoid_dead
711   0000              	GLOBAL _enemy_avoid_fall
712   0000              	GLOBAL _enemy_respawn
713   0000              	GLOBAL _enemy_init
714   0000              	GLOBAL _enemy_move
715   0000              	GLOBAL _enemy_turn
716   0000              	GLOBAL _enemy_static
717   0000              	GLOBAL _enemy_walk
718   0000              	GLOBAL _enemy_horizontal
719   0000              	GLOBAL _enemy_vertical
720   0000              	GLOBAL _ay_fx_play
721   0000              	GLOBAL _ay_midi_play
722   0000              	GLOBAL _ay_is_playing
723   0000              	GLOBAL _ay_reset
724   0000              	GLOBAL _test_func
725   0000              	GLOBAL _test_proc
726   0000              	GLOBAL _in_mouse_kempston_wheel_delta
727   0000              	GLOBAL _in_mouse_kempston_wheel
728   0000              	GLOBAL _in_mouse_kempston_callee
729   0000              	GLOBAL _in_mouse_kempston
730   0000              	GLOBAL _in_mouse_kempston_setpos_callee
731   0000              	GLOBAL _in_mouse_kempston_setpos
732   0000              	GLOBAL _in_mouse_kempston_reset
733   0000              	GLOBAL _in_mouse_kempston_init
734   0000              	GLOBAL _in_mouse_amx_wheel_delta
735   0000              	GLOBAL _in_mouse_amx_wheel
736   0000              	GLOBAL _in_mouse_amx_callee
737   0000              	GLOBAL _in_mouse_amx
738   0000              	GLOBAL _in_mouse_amx_setpos_callee
739   0000              	GLOBAL _in_mouse_amx_setpos
740   0000              	GLOBAL _in_mouse_amx_reset
741   0000              	GLOBAL _in_mouse_amx_init_callee
742   0000              	GLOBAL _in_mouse_amx_init
743   0000              	GLOBAL _in_stick_sinclair2
744   0000              	GLOBAL _in_stick_sinclair1
745   0000              	GLOBAL _in_stick_kempston
746   0000              	GLOBAL _in_stick_fuller
747   0000              	GLOBAL _in_stick_cursor
748   0000              	GLOBAL _in_stick_keyboard_fastcall
749   0000              	GLOBAL _in_stick_keyboard
750   0000              	GLOBAL _in_wait_nokey
751   0000              	GLOBAL _in_wait_key
752   0000              	GLOBAL _in_test_key
753   0000              	GLOBAL _in_pause_fastcall
754   0000              	GLOBAL _in_pause
755   0000              	GLOBAL _in_key_scancode_fastcall
756   0000              	GLOBAL _in_key_scancode
757   0000              	GLOBAL _in_key_pressed_fastcall
758   0000              	GLOBAL _in_key_pressed
759   0000              	GLOBAL _in_inkey
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _scan_map
766   0000              	GLOBAL _key_map
767   0000              	GLOBAL _player_lvl_table
768   0000              	GLOBAL _map_paper_last
769   0000              	GLOBAL _map_paper_clr
770   0000              	GLOBAL _map_paper
771   0000              	GLOBAL _draw_count
772   0000              	GLOBAL _g_player_hit_right
773   0000              	GLOBAL _g_player_hit_left
774   0000              	GLOBAL _bullet_count
775   0000              	GLOBAL _spr_hack
776   0000              	GLOBAL _boss_stat
777   0000              	GLOBAL _boss_time_fire
778   0000              	GLOBAL _boss_time
779   0000              	GLOBAL _boss_tile
780   0000              	GLOBAL _boss_inc
781   0000              	GLOBAL _boss_col
782   0000              	GLOBAL _boss_lin
783   0000              	GLOBAL _bullet_vel
784   0000              	GLOBAL _bullet_frames
785   0000              	GLOBAL _bullet_colint
786   0000              	GLOBAL _bullet_dir
787   0000              	GLOBAL _bullet_tile
788   0000              	GLOBAL _bullet_col
789   0000              	GLOBAL _bullet_lin
790   0000              	GLOBAL _bullet_col0
791   0000              	GLOBAL _bullet_lin0
792   0000              	GLOBAL _bullet_max
793   0000              	GLOBAL _bullet_class
794   0000              	GLOBAL _mush_class
795   0000              	GLOBAL _mush_index
796   0000              	GLOBAL _anim_count
797   0000              	GLOBAL _anim_respanwn
798   0000              	GLOBAL _anim_loop
799   0000              	GLOBAL _anim_end
800   0000              	GLOBAL _anim_int
801   0000              	GLOBAL _anim_tile
802   0000              	GLOBAL _anim_col
803   0000              	GLOBAL _anim_lin
804   0000              	GLOBAL _map_heigth
805   0000              	GLOBAL _map_width
806   0000              	GLOBAL _scr_curr
807   0000              	GLOBAL _scr_obj1
808   0000              	GLOBAL _scr_obj0
809   0000              	GLOBAL _scr_map
810   0000              	GLOBAL _sprite_speed_alt
811   0000              	GLOBAL _spr_init
812   0000              	GLOBAL _spr_map_tile
813   0000              	GLOBAL _sprite_frames
814   0000              	GLOBAL _sprite_speed
815   0000              	GLOBAL _screen_ink
816   0000              	GLOBAL _screen_paper
817   0000              	GLOBAL _player_onstair
818   0000              	GLOBAL _game_start_scr
819   0000              	GLOBAL _game_respawn_tile
820   0000              	GLOBAL _game_respawn_index
821   0000              	GLOBAL _game_respawn_time
822   0000              	GLOBAL _game_score_top
823   0000              	GLOBAL _player_coins
824   0000              	GLOBAL _player_lives
825   0000              	GLOBAL _game_over
826   0000              	GLOBAL _game_sound
827   0000              	GLOBAL _game_inmune
828   0000              	GLOBAL _game_god_mode
829   0000              	GLOBAL _sprite_curr_index
830   0000              	GLOBAL _spr_count
831   0000              	GLOBAL _bullet_time
832   0000              	GLOBAL _anim_time
833   0000              	GLOBAL _frame_time
834   0000              	GLOBAL _curr_time
835   0000              	GLOBAL _s_state
836   0000              	GLOBAL _attrib_osd
837   0000              	GLOBAL _attrib_hl
838   0000              	GLOBAL _attrib
839   0000              	GLOBAL _zx_val_asm
840   0000              	GLOBAL _enemies
841   0000              	GLOBAL _tmp_ui
842   0000              	GLOBAL _tmp_sc
843   0000              	GLOBAL _tmp_uc
844   0000              	GLOBAL _tmp1
845   0000              	GLOBAL _tmp0
846   0000              	GLOBAL _tmp
847   0000              	GLOBAL _index1
848   0000              	GLOBAL _index0
849   0000              	GLOBAL _loop_count
850   0000              	GLOBAL _s_col1
851   0000              	GLOBAL _s_col0
852   0000              	GLOBAL _s_lin1
853   0000              	GLOBAL _s_lin0
854   0000              	GLOBAL _s_tile1
855   0000              	GLOBAL _s_tile0
856   0000              	GLOBAL _player_brick_time
857   0000              	GLOBAL _player_hit_count
858   0000              	GLOBAL _sprite_horizontal_check
859   0000              	GLOBAL _sprite_on_air
860   0000              	GLOBAL _sprite
861   0000              	GLOBAL _fps
862   0000              	GLOBAL _game_2buttons
863   0000              	GLOBAL _game_respawn_curr_time
864   0000              	GLOBAL _game_worldup
865   0000              	GLOBAL _game_mush_count
866   0000              	GLOBAL _game_boss_fix
867   0000              	GLOBAL _game_boss_hit
868   0000              	GLOBAL _game_boss_alive
869   0000              	GLOBAL _game_boss
870   0000              	GLOBAL _game_world
871   0000              	GLOBAL _game_gravity
872   0000              	GLOBAL _player_anim_stair
873   0000              	GLOBAL _player_hit_time
874   0000              	GLOBAL _player_lin_scr
875   0000              	GLOBAL _player_col_scr
876   0000              	GLOBAL _player_lvl
877   0000              	GLOBAL _player_int
878   0000              	GLOBAL _player_str
879   0000              	GLOBAL _player_max_vita
880   0000              	GLOBAL _player_max_mana
881   0000              	GLOBAL _player_vita
882   0000              	GLOBAL _player_mana
883   0000              	GLOBAL _player_keys
884   0000              	GLOBAL _player_vel_inc
885   0000              	GLOBAL _player_vel_y1
886   0000              	GLOBAL _player_vel_y0
887   0000              	GLOBAL _player_vel_y
888   0000              	GLOBAL _player_vel_x
889   0000              	GLOBAL _player_joy
890   0000              	GLOBAL _player_score
891   0000              	GLOBAL _last_time
892   0000              	GLOBAL _player_slide
893   0000              	GLOBAL _spr_timer
894   0000              	GLOBAL _jump_lin
895   0000              	GLOBAL _player_hit_col
896   0000              	GLOBAL _player_hit_lin
897   0000              	GLOBAL _colint
898   0000              	GLOBAL _col
899   0000              	GLOBAL _lin
900   0000              	GLOBAL _tile
901   0000              	GLOBAL _state_a
902   0000              	GLOBAL _state
903   0000              	GLOBAL _class
904   0000              	GLOBAL _tbuffer
905   0000              	GLOBAL _dirs_alt
906   0000              	GLOBAL _dirs
907   0000              	GLOBAL _k2
908   0000              	GLOBAL _k1
909   0000              	GLOBAL _joyfunc2
910   0000              	GLOBAL _joyfunc1
911   0000              	GLOBAL _btiles
912   0000              	GLOBAL _spec128
913   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
914   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
915   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
916   0000              	GLOBAL _ay_effect_20
917   0000              	GLOBAL _ay_effect_19
918   0000              	GLOBAL _ay_effect_18
919   0000              	GLOBAL _ay_effect_17
920   0000              	GLOBAL _ay_effect_16
921   0000              	GLOBAL _ay_effect_15
922   0000              	GLOBAL _ay_effect_14
923   0000              	GLOBAL _ay_effect_13
924   0000              	GLOBAL _ay_effect_12
925   0000              	GLOBAL _ay_effect_11
926   0000              	GLOBAL _ay_effect_10
927   0000              	GLOBAL _ay_effect_09
928   0000              	GLOBAL _ay_effect_08
929   0000              	GLOBAL _ay_effect_07
930   0000              	GLOBAL _ay_effect_06
931   0000              	GLOBAL _ay_effect_05
932   0000              	GLOBAL _ay_effect_04
933   0000              	GLOBAL _ay_effect_03
934   0000              	GLOBAL _ay_effect_02
935   0000              	GLOBAL _ay_effect_01
936   0000              	GLOBAL _pb_midi_phase_1
937   0000              	GLOBAL _pb_midi_title
938   0000              	GLOBAL _control_method
939   0000              	GLOBAL _world1_h
940   0000              	GLOBAL _world1_w
941   0000              	GLOBAL _world1
942   0000              	GLOBAL _paper1
943   0000              	GLOBAL _lenght1
944   0000              	GLOBAL _start_scr1
945   0000              	GLOBAL _world0_h
946   0000              	GLOBAL _world0_w
947   0000              	GLOBAL _world0
948   0000              	GLOBAL _paper0
949   0000              	GLOBAL _lenght0
950   0000              	GLOBAL _start_scr0
951   0000              ;--------------------------------------------------------
952   0000              ; special function registers
953   0000              ;--------------------------------------------------------
954   0000              defc _IO_FE	=	0x00fe
955   0000              defc _IO_1FFD	=	0x1ffd
956   0000              defc _IO_7FFD	=	0x7ffd
957   0000              ;--------------------------------------------------------
958   0000              ; ram data
959   0000              ;--------------------------------------------------------
960   0000              	SECTION bss_compiler
961   0000              ;--------------------------------------------------------
962   0000              ; ram data
963   0000              ;--------------------------------------------------------
964   0000              
965   0000              IF 0
966   0000              
967   0000              ; .area _INITIALIZED removed by z88dk
968   0000              
969   0000              
970   0000              ENDIF
971   0000              
972   0000              ;--------------------------------------------------------
973   0000              ; absolute external ram data
974   0000              ;--------------------------------------------------------
975   0000              	SECTION IGNORE
976   0000              ;--------------------------------------------------------
977   0000              ; global & static initialisations
978   0000              ;--------------------------------------------------------
979   0000              	SECTION code_crt_init
980   0000              ;--------------------------------------------------------
981   0000              ; Home
982   0000              ;--------------------------------------------------------
983   0000              	SECTION IGNORE
984   0000              ;--------------------------------------------------------
985   0000              ; code
986   0000              ;--------------------------------------------------------
987   0000              	SECTION code_compiler
988   0000              ;	---------------------------------
989   0000              ; Function game_loop
990   0000              ; ---------------------------------
991   0000              _game_loop:
992   0000              l_game_loop_00119:
993   0000  3A 00 00    	ld	a,(_game_over)
994   0003  B7          	or	a, a
995   0004  C2 CC 00    	jp	NZ, l_game_loop_00122
996   0007  CD 4A 06    	call	_game_round_init
997   000A              l_game_loop_00114:
998   000A  3A 00 00    	ld	a,(_game_worldup)
999   000D  B7          	or	a, a
1000  000E  C2 A2 00    	jp	NZ, l_game_loop_00116
1001  0011  3A 00 00    	ld	a,(_game_over)
1002  0014  B7          	or	a, a
1003  0015  C2 A2 00    	jp	NZ, l_game_loop_00116
1004  0018  21 08 00    	ld	hl,0x0008
1005  001B  E5          	push	hl
1006  001C  2A 00 00    	ld	hl,(_anim_time)
1007  001F  E5          	push	hl
1008  0020  CD 46 0A    	call	_game_check_time
1009  0023  F1          	pop	af
1010  0024  F1          	pop	af
1011  0025  7D          	ld	a, l
1012  0026  B7          	or	a, a
1013  0027  28 14       	jr	Z,l_game_loop_00104
1014  0029  2E 00       	ld	l,0x00
1015  002B  CD 00 00    	call	_zx_border_fastcall
1016  002E  2A 00 00    	ld	hl,(_curr_time)
1017  0031  22 00 00    	ld	(_anim_time),hl
1018  0034  3A 00 00    	ld	a,(_anim_count)
1019  0037  B7          	or	a,a
1020  0038  28 03       	jr	Z,l_game_loop_00104
1021  003A  CD 00 00    	call	_spr_play_anim
1022  003D              l_game_loop_00104:
1023  003D  21 02 00    	ld	hl,0x0002
1024  0040  E5          	push	hl
1025  0041  2A 00 00    	ld	hl,(_bullet_time)
1026  0044  E5          	push	hl
1027  0045  CD 46 0A    	call	_game_check_time
1028  0048  F1          	pop	af
1029  0049  F1          	pop	af
1030  004A  7D          	ld	a, l
1031  004B  B7          	or	a, a
1032  004C  28 0F       	jr	Z,l_game_loop_00108
1033  004E  2A 00 00    	ld	hl,(_curr_time)
1034  0051  22 00 00    	ld	(_bullet_time),hl
1035  0054  3A 00 00    	ld	a,(_bullet_count)
1036  0057  B7          	or	a,a
1037  0058  28 03       	jr	Z,l_game_loop_00108
1038  005A  CD 00 00    	call	_spr_play_bullets
1039  005D              l_game_loop_00108:
1040  005D  21 64 00    	ld	hl,0x0064
1041  0060  E5          	push	hl
1042  0061  2A 00 00    	ld	hl,(_frame_time)
1043  0064  E5          	push	hl
1044  0065  CD 46 0A    	call	_game_check_time
1045  0068  F1          	pop	af
1046  0069  F1          	pop	af
1047  006A  7D          	ld	a, l
1048  006B  B7          	or	a, a
1049  006C  28 0C       	jr	Z,l_game_loop_00110
1050  006E  2A 00 00    	ld	hl,(_curr_time)
1051  0071  22 00 00    	ld	(_frame_time),hl
1052  0074  CD CD 00    	call	_game_fps
1053  0077  CD E4 00    	call	_game_respawn
1054  007A              l_game_loop_00110:
1055  007A  CD 00 00    	call	_enemy_turn
1056  007D  3A 00 00    	ld	a,(_game_boss)
1057  0080  B7          	or	a, a
1058  0081  28 03       	jr	Z,l_game_loop_00112
1059  0083  CD 00 00    	call	_boss_turn
1060  0086              l_game_loop_00112:
1061  0086  21 00 00    	ld	hl,_sprite
1062  0089  36 07       	ld	(hl),0x07
1063  008B  CD 00 00    	call	_player_turn
1064  008E  21 00 00    	ld	hl,_loop_count
1065  0091  34          	inc	(hl)
1066  0092  20 02       	jr	NZ,l_game_loop_00172
1067  0094  23          	inc	hl
1068  0095  34          	inc	(hl)
1069  0096              l_game_loop_00172:
1070  0096  21 00 00    	ld	hl,_fps
1071  0099  34          	inc	(hl)
1072  009A  C2 0A 00    	jp	NZ,l_game_loop_00114
1073  009D  23          	inc	hl
1074  009E  34          	inc	(hl)
1075  009F  C3 0A 00    	jp	l_game_loop_00114
1076  00A2              l_game_loop_00116:
1077  00A2  21 00 00    	ld	hl,_game_worldup
1078  00A5  7E          	ld	a, (hl)
1079  00A6  B7          	or	a, a
1080  00A7  CA 00 00    	jp	Z, l_game_loop_00119
1081  00AA  36 00       	ld	(hl),0x00
1082  00AC  21 00 00    	ld	hl,_game_respawn_curr_time
1083  00AF  7E          	ld	a, (hl)
1084  00B0  C6 E0       	add	a,0xe0
1085  00B2  77          	ld	(hl), a
1086  00B3  21 00 00    	ld	hl,_game_world
1087  00B6  34          	inc	(hl)
1088  00B7  21 00 00    	ld	hl,_game_boss_alive
1089  00BA  36 01       	ld	(hl),0x01
1090  00BC  21 00 00    	ld	hl,_game_boss
1091  00BF  36 00       	ld	(hl),0x00
1092  00C1  21 00 00    	ld	hl,_scr_curr
1093  00C4  36 FF       	ld	(hl),0xff
1094  00C6  CD 4A 06    	call	_game_round_init
1095  00C9  C3 00 00    	jp	l_game_loop_00119
1096  00CC              l_game_loop_00122:
1097  00CC  C9          	ret
1098  00CD              	SECTION code_compiler
1099  00CD              ;	---------------------------------
1100  00CD              ; Function game_fps
1101  00CD              ; ---------------------------------
1102  00CD              _game_fps:
1103  00CD  21 00 00    	ld	hl,_screen_ink
1104  00D0  36 07       	ld	(hl),0x07
1105  00D2  2A 00 00    	ld	hl,(_fps)
1106  00D5  E5          	push	hl
1107  00D6  21 17 18    	ld	hl,0x1817
1108  00D9  E5          	push	hl
1109  00DA  CD 00 00    	call	_zx_print_int
1110  00DD  21 00 00    	ld	hl,0x0000
1111  00E0  22 00 00    	ld	(_fps),hl
1112  00E3  C9          	ret
1113  00E4              	SECTION code_compiler
1114  00E4              ;	---------------------------------
1115  00E4              ; Function game_respawn
1116  00E4              ; ---------------------------------
1117  00E4              _game_respawn:
1118  00E4  21 00 00    	ld	hl,_sprite
1119  00E7  36 00       	ld	(hl),0x00
1120  00E9              l_game_respawn_00105:
1121  00E9  21 00 00    	ld	hl,_sprite
1122  00EC  7E          	ld	a, (hl)
1123  00ED  D6 07       	sub	a,0x07
1124  00EF  D2 7C 01    	jp	NC, l_game_respawn_00108
1125  00F2  6E          	ld	l, (hl)
1126  00F3  26 00       	ld	h,0x00
1127  00F5  29          	add	hl, hl
1128  00F6  11 00 00    	ld	de,_game_respawn_time
1129  00F9  19          	add	hl, de
1130  00FA  4E          	ld	c, (hl)
1131  00FB  23          	inc	hl
1132  00FC  7E          	ld	a,(hl)
1133  00FD  47          	ld	b,a
1134  00FE  B1          	or	a,c
1135  00FF  28 74       	jr	Z,l_game_respawn_00104
1136  0101  3A 00 00    	ld	a,(_game_respawn_curr_time)
1137  0104  5F          	ld	e,a
1138  0105  16 00       	ld	d,0x00
1139  0107  D5          	push	de
1140  0108  C5          	push	bc
1141  0109  CD 46 0A    	call	_game_check_time
1142  010C  F1          	pop	af
1143  010D  F1          	pop	af
1144  010E  7D          	ld	a, l
1145  010F  B7          	or	a, a
1146  0110  28 63       	jr	Z,l_game_respawn_00104
1147  0112  2A 00 00    	ld	hl,(_sprite)
1148  0115  26 00       	ld	h,0x00
1149  0117  01 00 00    	ld	bc,_game_respawn_index
1150  011A  09          	add	hl,bc
1151  011B  7E          	ld	a,(hl)
1152  011C  6F          	ld	l,a
1153  011D  26 00       	ld	h,0x00
1154  011F  22 00 00    	ld	(_index1),hl
1155  0122  4F          	ld	c,a
1156  0123  E6 0F       	and	a,0x0f
1157  0125  87          	add	a, a
1158  0126  32 00 00    	ld	(_s_col1),a
1159  0129  21 00 00    	ld	hl,_s_lin1
1160  012C  71          	ld	(hl),c
1161  012D  79          	ld	a,c
1162  012E  07          	rlca
1163  012F  07          	rlca
1164  0130  07          	rlca
1165  0131  07          	rlca
1166  0132  E6 0F       	and	a,0x0f
1167  0134  07          	rlca
1168  0135  07          	rlca
1169  0136  07          	rlca
1170  0137  07          	rlca
1171  0138  E6 F0       	and	a,0xf0
1172  013A  77          	ld	(hl), a
1173  013B  01 00 00    	ld	bc,_scr_map
1174  013E  2A 00 00    	ld	hl,(_index1)
1175  0141  09          	add	hl,bc
1176  0142  36 FF       	ld	(hl),0xff
1177  0144  2A 00 00    	ld	hl,(_sprite)
1178  0147  26 00       	ld	h,0x00
1179  0149  29          	add	hl, hl
1180  014A  11 00 00    	ld	de,_game_respawn_time
1181  014D  19          	add	hl, de
1182  014E  AF          	xor	a, a
1183  014F  77          	ld	(hl), a
1184  0150  23          	inc	hl
1185  0151  77          	ld	(hl), a
1186  0152  2A 00 00    	ld	hl,(_sprite)
1187  0155  26 00       	ld	h,0x00
1188  0157  01 00 00    	ld	bc,_game_respawn_tile
1189  015A  09          	add	hl,bc
1190  015B  7E          	ld	a,(hl)
1191  015C  F5          	push	af
1192  015D  33          	inc	sp
1193  015E  21 03 04    	ld	hl,0x0403
1194  0161  E5          	push	hl
1195  0162  2A 00 00    	ld	hl,(_s_col1)
1196  0165  26 8A       	ld	h,0x8a
1197  0167  3A 00 00    	ld	a,(_s_lin1)
1198  016A  E5          	push	hl
1199  016B  F5          	push	af
1200  016C  33          	inc	sp
1201  016D  CD 00 00    	call	_spr_add_anim
1202  0170  F1          	pop	af
1203  0171  F1          	pop	af
1204  0172  F1          	pop	af
1205  0173  18 07       	jr	l_game_respawn_00108
1206  0175              l_game_respawn_00104:
1207  0175  21 00 00    	ld	hl,_sprite
1208  0178  34          	inc	(hl)
1209  0179  C3 E9 00    	jp	l_game_respawn_00105
1210  017C              l_game_respawn_00108:
1211  017C  C9          	ret
1212  017D              	SECTION code_compiler
1213  017D              ;	---------------------------------
1214  017D              ; Function game_draw_screen
1215  017D              ; ---------------------------------
1216  017D              _game_draw_screen:
1217  017D  CD 00 00    	call	___sdcc_enter_ix
1218  0180  3B          	dec	sp
1219  0181  76          	halt
1220  0182  21 00 00    	ld	hl,_game_boss
1221  0185  36 00       	ld	(hl),0x00
1222  0187  21 00 00    	ld	hl,_game_boss_fix
1223  018A  36 00       	ld	(hl),0x00
1224  018C  2A 00 00    	ld	hl,(_curr_time)
1225  018F  22 00 00    	ld	(_player_brick_time),hl
1226  0192  21 00 00    	ld	hl,_spr_count
1227  0195  36 00       	ld	(hl),0x00
1228  0197  01 00 00    	ld	bc,_game_respawn_time+0
1229  019A              l_game_draw_screen_00101:
1230  019A  21 00 00    	ld	hl,_spr_count
1231  019D  7E          	ld	a, (hl)
1232  019E  D6 07       	sub	a,0x07
1233  01A0  30 46       	jr	NC,l_game_draw_screen_00103
1234  01A2  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1235  01A4  86          	add	a, (hl)
1236  01A5  5F          	ld	e, a
1237  01A6  3E 00       	ld	a, +((_game_respawn_index) / 256)
1238  01A8  CE 00       	adc	a,0x00
1239  01AA  57          	ld	d, a
1240  01AB  AF          	xor	a, a
1241  01AC  12          	ld	(de), a
1242  01AD  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1243  01AF  86          	add	a, (hl)
1244  01B0  5F          	ld	e, a
1245  01B1  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1246  01B3  CE 00       	adc	a,0x00
1247  01B5  57          	ld	d, a
1248  01B6  AF          	xor	a, a
1249  01B7  12          	ld	(de), a
1250  01B8  6E          	ld	l,(hl)
1251  01B9  26 00       	ld	h,0x00
1252  01BB  29          	add	hl, hl
1253  01BC  09          	add	hl, bc
1254  01BD  AF          	xor	a, a
1255  01BE  77          	ld	(hl), a
1256  01BF  23          	inc	hl
1257  01C0  77          	ld	(hl), a
1258  01C1  2A 00 00    	ld	hl,(_spr_count)
1259  01C4  26 00       	ld	h,0x00
1260  01C6  11 00 00    	ld	de,_mush_index
1261  01C9  19          	add	hl,de
1262  01CA  AF          	xor	a,a
1263  01CB  77          	ld	(hl),a
1264  01CC  2A 00 00    	ld	hl,(_spr_count)
1265  01CF  26 00       	ld	h,0x00
1266  01D1  11 00 00    	ld	de,_mush_class
1267  01D4  19          	add	hl,de
1268  01D5  AF          	xor	a,a
1269  01D6  77          	ld	(hl),a
1270  01D7  2A 00 00    	ld	hl,(_spr_count)
1271  01DA  26 00       	ld	h,0x00
1272  01DC  11 00 00    	ld	de,_class
1273  01DF  19          	add	hl,de
1274  01E0  AF          	xor	a,a
1275  01E1  77          	ld	(hl),a
1276  01E2  21 00 00    	ld	hl,_spr_count
1277  01E5  34          	inc	(hl)
1278  01E6  18 B2       	jr	l_game_draw_screen_00101
1279  01E8              l_game_draw_screen_00103:
1280  01E8  21 10 00    	ld	hl,0x0010
1281  01EB  22 00 00    	ld	(_index1),hl
1282  01EE  21 00 00    	ld	hl,_s_lin1
1283  01F1  36 00       	ld	(hl),0x00
1284  01F3  21 00 00    	ld	hl,_s_col1
1285  01F6  36 02       	ld	(hl),0x02
1286  01F8  21 00 00    	ld	hl,_spr_count
1287  01FB  36 00       	ld	(hl),0x00
1288  01FD  F3          	di
1289  01FE  DD 36 FF 00 	ld	(ix-1),0x00
1290  0202              l_game_draw_screen_00121:
1291  0202  21 00 00    	ld	hl,_index1
1292  0205  7E          	ld	a, (hl)
1293  0206  D6 A0       	sub	a,0xa0
1294  0208  23          	inc	hl
1295  0209  7E          	ld	a, (hl)
1296  020A  DE 00       	sbc	a,0x00
1297  020C  D2 16 03    	jp	NC, l_game_draw_screen_00123
1298  020F  2B          	dec	hl
1299  0210  7E          	ld	a, (hl)
1300  0211  E6 0F       	and	a,0x0f
1301  0213  20 0C       	jr	NZ,l_game_draw_screen_00105
1302  0215  21 00 00    	ld	hl,_s_lin1
1303  0218  7E          	ld	a, (hl)
1304  0219  C6 10       	add	a,0x10
1305  021B  77          	ld	(hl), a
1306  021C  21 00 00    	ld	hl,_s_col1
1307  021F  36 00       	ld	(hl),0x00
1308  0221              l_game_draw_screen_00105:
1309  0221  01 00 00    	ld	bc,_scr_map
1310  0224  2A 00 00    	ld	hl,(_index1)
1311  0227  09          	add	hl,bc
1312  0228  7E          	ld	a,(hl)
1313  0229  FE 60       	cp	a,0x60
1314  022B  30 38       	jr	NC,l_game_draw_screen_00119
1315  022D  FE 5C       	cp	a,0x5c
1316  022F  28 04       	jr	Z,l_game_draw_screen_00109
1317  0231  D6 5D       	sub	a,0x5d
1318  0233  20 17       	jr	NZ,l_game_draw_screen_00107
1319  0235              l_game_draw_screen_00109:
1320  0235  2A 00 00    	ld	hl,(_index1)
1321  0238  01 F0 FF    	ld	bc,0xfff0
1322  023B  09          	add	hl,bc
1323  023C  CD EF 0D    	call	_game_obj_chk
1324  023F  7D          	ld	a, l
1325  0240  B7          	or	a, a
1326  0241  28 09       	jr	Z,l_game_draw_screen_00107
1327  0243  01 00 00    	ld	bc,_scr_map
1328  0246  2A 00 00    	ld	hl,(_index1)
1329  0249  09          	add	hl,bc
1330  024A  36 4F       	ld	(hl),0x4f
1331  024C              l_game_draw_screen_00107:
1332  024C  01 00 00    	ld	bc,_scr_map
1333  024F  2A 00 00    	ld	hl,(_index1)
1334  0252  09          	add	hl,bc
1335  0253  46          	ld	b, (hl)
1336  0254  3A 00 00    	ld	a,(_s_col1)
1337  0257  F5          	push	af
1338  0258  33          	inc	sp
1339  0259  3A 00 00    	ld	a,(_s_lin1)
1340  025C  48          	ld	c,b
1341  025D  47          	ld	b,a
1342  025E  C5          	push	bc
1343  025F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1344  0262  C3 05 03    	jp	l_game_draw_screen_00120
1345  0265              l_game_draw_screen_00119:
1346  0265  D6 78       	sub	a,0x78
1347  0267  30 3E       	jr	NC,l_game_draw_screen_00116
1348  0269  3A 00 00    	ld	a,(_spr_count)
1349  026C  D6 08       	sub	a,0x08
1350  026E  30 6C       	jr	NC,l_game_draw_screen_00117
1351  0270  3A 00 00    	ld	a,(_game_boss_alive)
1352  0273  B7          	or	a, a
1353  0274  28 66       	jr	Z,l_game_draw_screen_00117
1354  0276  2A 00 00    	ld	hl,(_spr_count)
1355  0279  26 00       	ld	h,0x00
1356  027B  01 00 00    	ld	bc,_game_respawn_index
1357  027E  09          	add	hl,bc
1358  027F  3A 00 00    	ld	a,(_index1)
1359  0282  77          	ld	(hl),a
1360  0283  2A 00 00    	ld	hl,(_spr_count)
1361  0286  26 00       	ld	h,0x00
1362  0288  01 00 00    	ld	bc,_game_respawn_tile
1363  028B  09          	add	hl,bc
1364  028C  4D          	ld	c,l
1365  028D  44          	ld	b,h
1366  028E  2A 00 00    	ld	hl,(_index1)
1367  0291  11 00 00    	ld	de,_scr_map
1368  0294  19          	add	hl,de
1369  0295  7E          	ld	a,(hl)
1370  0296  02          	ld	(bc),a
1371  0297  01 00 00    	ld	bc,_scr_map
1372  029A  2A 00 00    	ld	hl,(_index1)
1373  029D  09          	add	hl,bc
1374  029E  7E          	ld	a,(hl)
1375  029F  F5          	push	af
1376  02A0  33          	inc	sp
1377  02A1  CD 24 03    	call	_game_add_enemy
1378  02A4  33          	inc	sp
1379  02A5  18 35       	jr	l_game_draw_screen_00117
1380  02A7              l_game_draw_screen_00116:
1381  02A7  2A 00 00    	ld	hl,(_index1)
1382  02AA  CD EF 0D    	call	_game_obj_chk
1383  02AD  7D          	ld	a, l
1384  02AE  B7          	or	a, a
1385  02AF  20 2B       	jr	NZ,l_game_draw_screen_00117
1386  02B1  3E 00       	ld	a, +((_mush_index) & 0xFF)
1387  02B3  DD 86 FF    	add	a,(ix-1)
1388  02B6  4F          	ld	c, a
1389  02B7  3E 00       	ld	a, +((_mush_index) / 256)
1390  02B9  CE 00       	adc	a,0x00
1391  02BB  47          	ld	b, a
1392  02BC  21 00 00    	ld	hl,_index1
1393  02BF  7E          	ld	a, (hl)
1394  02C0  C6 10       	add	a,0x10
1395  02C2  02          	ld	(bc), a
1396  02C3  3E 00       	ld	a, +((_mush_class) & 0xFF)
1397  02C5  DD 86 FF    	add	a,(ix-1)
1398  02C8  4F          	ld	c, a
1399  02C9  3E 00       	ld	a, +((_mush_class) / 256)
1400  02CB  CE 00       	adc	a,0x00
1401  02CD  47          	ld	b, a
1402  02CE  3E 00       	ld	a, +((_scr_map) & 0xFF)
1403  02D0  86          	add	a, (hl)
1404  02D1  5F          	ld	e, a
1405  02D2  3E 00       	ld	a, +((_scr_map) / 256)
1406  02D4  23          	inc	hl
1407  02D5  8E          	adc	a, (hl)
1408  02D6  57          	ld	d, a
1409  02D7  1A          	ld	a, (de)
1410  02D8  02          	ld	(bc), a
1411  02D9  DD 34 FF    	inc	(ix-1)
1412  02DC              l_game_draw_screen_00117:
1413  02DC  2A 00 00    	ld	hl,(_index1)
1414  02DF  01 00 00    	ld	bc,_scr_map
1415  02E2  09          	add	hl,bc
1416  02E3  E5          	push	hl
1417  02E4  2A 00 00    	ld	hl,(_index1)
1418  02E7  E5          	push	hl
1419  02E8  CD 44 0F    	call	_game_match_back
1420  02EB  F1          	pop	af
1421  02EC  C1          	pop	bc
1422  02ED  7D          	ld	a,l
1423  02EE  02          	ld	(bc), a
1424  02EF  01 00 00    	ld	bc,_scr_map
1425  02F2  2A 00 00    	ld	hl,(_index1)
1426  02F5  09          	add	hl,bc
1427  02F6  46          	ld	b, (hl)
1428  02F7  3A 00 00    	ld	a,(_s_col1)
1429  02FA  F5          	push	af
1430  02FB  33          	inc	sp
1431  02FC  3A 00 00    	ld	a,(_s_lin1)
1432  02FF  48          	ld	c,b
1433  0300  47          	ld	b,a
1434  0301  C5          	push	bc
1435  0302  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1436  0305              l_game_draw_screen_00120:
1437  0305  21 00 00    	ld	hl,_s_col1
1438  0308  34          	inc	(hl)
1439  0309  34          	inc	(hl)
1440  030A  21 00 00    	ld	hl,_index1
1441  030D  34          	inc	(hl)
1442  030E  C2 02 02    	jp	NZ,l_game_draw_screen_00121
1443  0311  23          	inc	hl
1444  0312  34          	inc	(hl)
1445  0313  C3 02 02    	jp	l_game_draw_screen_00121
1446  0316              l_game_draw_screen_00123:
1447  0316  FB          	ei
1448  0317  3A 00 00    	ld	a,(_game_boss_fix)
1449  031A  B7          	or	a, a
1450  031B  28 03       	jr	Z,l_game_draw_screen_00126
1451  031D  CD 70 0E    	call	_game_boss_clear
1452  0320              l_game_draw_screen_00126:
1453  0320  33          	inc	sp
1454  0321  DD E1       	pop	ix
1455  0323  C9          	ret
1456  0324              	SECTION code_compiler
1457  0324              ;	---------------------------------
1458  0324              ; Function game_add_enemy
1459  0324              ; ---------------------------------
1460  0324              _game_add_enemy:
1461  0324  CD 00 00    	call	___sdcc_enter_ix
1462  0327  DD 7E 04    	ld	a,(ix+4)
1463  032A  D6 74       	sub	a,0x74
1464  032C  28 53       	jr	Z,l_game_add_enemy_00114
1465  032E  21 00 00    	ld	hl,_tmp0
1466  0331  36 00       	ld	(hl),0x00
1467  0333              l_game_add_enemy_00104:
1468  0333  21 00 00    	ld	hl,_tmp0
1469  0336  7E          	ld	a, (hl)
1470  0337  D6 12       	sub	a,0x12
1471  0339  D2 C5 03    	jp	NC, l_game_add_enemy_00116
1472  033C  7E          	ld	a, (hl)
1473  033D  4F          	ld	c, a
1474  033E  87          	add	a, a
1475  033F  81          	add	a, c
1476  0340  21 00 00    	ld	hl,_tmp1
1477  0343  77          	ld	(hl), a
1478  0344  C6 00       	add	a,+((_spr_init) & 0xFF)
1479  0346  4F          	ld	c, a
1480  0347  3E 00       	ld	a, +((_spr_init) / 256)
1481  0349  CE 00       	adc	a,0x00
1482  034B  47          	ld	b, a
1483  034C  0A          	ld	a, (bc)
1484  034D  4F          	ld	c, a
1485  034E  DD 7E 04    	ld	a,(ix+4)
1486  0351  91          	sub	a, c
1487  0352  20 27       	jr	NZ,l_game_add_enemy_00102
1488  0354  4E          	ld	c, (hl)
1489  0355  06 00       	ld	b,0x00
1490  0357  59          	ld	e, c
1491  0358  50          	ld	d, b
1492  0359  13          	inc	de
1493  035A  13          	inc	de
1494  035B  21 00 00    	ld	hl,_spr_init
1495  035E  19          	add	hl, de
1496  035F  56          	ld	d, (hl)
1497  0360  03          	inc	bc
1498  0361  21 00 00    	ld	hl,_spr_init
1499  0364  09          	add	hl, bc
1500  0365  5E          	ld	e, (hl)
1501  0366  D5          	push	de
1502  0367  2A FF FF    	ld	hl,(_s_col1 - 1)
1503  036A  3A 00 00    	ld	a,(_s_lin1)
1504  036D  6F          	ld	l,a
1505  036E  E5          	push	hl
1506  036F  CD 00 00    	call	_enemy_init
1507  0372  F1          	pop	af
1508  0373  F1          	pop	af
1509  0374  21 00 00    	ld	hl,_tmp0
1510  0377  36 FF       	ld	(hl),0xff
1511  0379  18 B8       	jr	l_game_add_enemy_00104
1512  037B              l_game_add_enemy_00102:
1513  037B  21 00 00    	ld	hl,_tmp0
1514  037E  34          	inc	(hl)
1515  037F  18 B2       	jr	l_game_add_enemy_00104
1516  0381              l_game_add_enemy_00114:
1517  0381  3A 00 00    	ld	a,(_game_boss)
1518  0384  B7          	or	a, a
1519  0385  20 33       	jr	NZ,l_game_add_enemy_00110
1520  0387  3A 00 00    	ld	a,(_game_boss_alive)
1521  038A  B7          	or	a, a
1522  038B  28 2D       	jr	Z,l_game_add_enemy_00110
1523  038D  3A 00 00    	ld	a,(_s_lin1)
1524  0390  32 00 00    	ld	(_boss_lin),a
1525  0393  3A 00 00    	ld	a,(_s_col1)
1526  0396  32 00 00    	ld	(_boss_col),a
1527  0399  21 00 00    	ld	hl,_screen_ink
1528  039C  36 07       	ld	(hl),0x07
1529  039E  21 C8 00    	ld	hl,0x00c8
1530  03A1  CD 00 00    	call	_z80_delay_ms_fastcall
1531  03A4  21 00 00    	ld	hl,_boss_tile
1532  03A7  36 D8       	ld	(hl),0xd8
1533  03A9  21 00 00    	ld	hl,_boss_stat
1534  03AC  36 01       	ld	(hl),0x01
1535  03AE  21 00 00    	ld	hl,_game_boss
1536  03B1  36 01       	ld	(hl),0x01
1537  03B3  21 00 00    	ld	hl,_game_boss_hit
1538  03B6  36 08       	ld	(hl),0x08
1539  03B8  18 0B       	jr	l_game_add_enemy_00116
1540  03BA              l_game_add_enemy_00110:
1541  03BA  3A 00 00    	ld	a,(_game_boss)
1542  03BD  B7          	or	a, a
1543  03BE  20 05       	jr	NZ,l_game_add_enemy_00116
1544  03C0  21 00 00    	ld	hl,_game_boss_fix
1545  03C3  36 01       	ld	(hl),0x01
1546  03C5              l_game_add_enemy_00116:
1547  03C5  DD E1       	pop	ix
1548  03C7  C9          	ret
1549  03C8              	SECTION code_compiler
1550  03C8              ;	---------------------------------
1551  03C8              ; Function game_print_footer
1552  03C8              ; ---------------------------------
1553  03C8              _game_print_footer:
1554  03C8  21 00 00    	ld	hl,_screen_ink
1555  03CB  36 05       	ld	(hl),0x05
1556  03CD  21 13 62    	ld	hl,0x6213
1557  03D0  E5          	push	hl
1558  03D1  CD 00 00    	call	_game_fill_row
1559  03D4  21 00 00    	ld	hl,___str_0
1560  03D7  E5          	push	hl
1561  03D8  21 13 00    	ld	hl,0x0013
1562  03DB  E5          	push	hl
1563  03DC  CD 00 00    	call	_zx_print_str
1564  03DF  21 02 00    	ld	hl,___str_1
1565  03E2  E5          	push	hl
1566  03E3  21 13 1F    	ld	hl,0x1f13
1567  03E6  E5          	push	hl
1568  03E7  CD 00 00    	call	_zx_print_str
1569  03EA  21 04 00    	ld	hl,___str_2
1570  03ED  E5          	push	hl
1571  03EE  21 14 00    	ld	hl,0x0014
1572  03F1  E5          	push	hl
1573  03F2  CD 00 00    	call	_zx_print_str
1574  03F5  21 06 00    	ld	hl,___str_3
1575  03F8  E5          	push	hl
1576  03F9  21 14 1F    	ld	hl,0x1f14
1577  03FC  E5          	push	hl
1578  03FD  CD 00 00    	call	_zx_print_str
1579  0400  21 04 00    	ld	hl,___str_2
1580  0403  E5          	push	hl
1581  0404  21 15 00    	ld	hl,0x0015
1582  0407  E5          	push	hl
1583  0408  CD 00 00    	call	_zx_print_str
1584  040B  21 06 00    	ld	hl,___str_3
1585  040E  E5          	push	hl
1586  040F  21 15 1F    	ld	hl,0x1f15
1587  0412  E5          	push	hl
1588  0413  CD 00 00    	call	_zx_print_str
1589  0416  21 04 00    	ld	hl,___str_2
1590  0419  E5          	push	hl
1591  041A  21 16 00    	ld	hl,0x0016
1592  041D  E5          	push	hl
1593  041E  CD 00 00    	call	_zx_print_str
1594  0421  21 06 00    	ld	hl,___str_3
1595  0424  E5          	push	hl
1596  0425  21 16 1F    	ld	hl,0x1f16
1597  0428  E5          	push	hl
1598  0429  CD 00 00    	call	_zx_print_str
1599  042C  21 17 62    	ld	hl,0x6217
1600  042F  E5          	push	hl
1601  0430  CD 00 00    	call	_game_fill_row
1602  0433  21 08 00    	ld	hl,___str_4
1603  0436  E5          	push	hl
1604  0437  21 17 00    	ld	hl,0x0017
1605  043A  E5          	push	hl
1606  043B  CD 00 00    	call	_zx_print_str
1607  043E  21 0A 00    	ld	hl,___str_5
1608  0441  E5          	push	hl
1609  0442  21 17 1F    	ld	hl,0x1f17
1610  0445  E5          	push	hl
1611  0446  CD 00 00    	call	_zx_print_str
1612  0449  21 00 00    	ld	hl,_screen_ink
1613  044C  36 05       	ld	(hl),0x05
1614  044E  21 0C 00    	ld	hl,___str_6
1615  0451  E5          	push	hl
1616  0452  21 14 01    	ld	hl,0x0114
1617  0455  E5          	push	hl
1618  0456  CD 00 00    	call	_zx_print_str
1619  0459  21 00 00    	ld	hl,_screen_ink
1620  045C  36 06       	ld	(hl),0x06
1621  045E  21 0E 00    	ld	hl,___str_7
1622  0461  E5          	push	hl
1623  0462  21 15 01    	ld	hl,0x0115
1624  0465  E5          	push	hl
1625  0466  CD 00 00    	call	_zx_print_str
1626  0469  21 00 00    	ld	hl,_screen_ink
1627  046C  36 42       	ld	(hl),0x42
1628  046E  21 10 00    	ld	hl,___str_8
1629  0471  E5          	push	hl
1630  0472  21 14 08    	ld	hl,0x0814
1631  0475  E5          	push	hl
1632  0476  CD 00 00    	call	_zx_print_str
1633  0479  21 00 00    	ld	hl,_screen_ink
1634  047C  36 03       	ld	(hl),0x03
1635  047E  21 12 00    	ld	hl,___str_9
1636  0481  E5          	push	hl
1637  0482  21 15 08    	ld	hl,0x0815
1638  0485  E5          	push	hl
1639  0486  CD 00 00    	call	_zx_print_str
1640  0489  21 00 00    	ld	hl,_screen_ink
1641  048C  36 47       	ld	(hl),0x47
1642  048E  21 14 00    	ld	hl,___str_10
1643  0491  E5          	push	hl
1644  0492  21 14 0F    	ld	hl,0x0f14
1645  0495  E5          	push	hl
1646  0496  CD 00 00    	call	_zx_print_str
1647  0499  21 00 00    	ld	hl,_screen_ink
1648  049C  36 05       	ld	(hl),0x05
1649  049E  21 16 00    	ld	hl,___str_11
1650  04A1  E5          	push	hl
1651  04A2  21 15 0F    	ld	hl,0x0f15
1652  04A5  E5          	push	hl
1653  04A6  CD 00 00    	call	_zx_print_str
1654  04A9  21 00 00    	ld	hl,_screen_ink
1655  04AC  36 45       	ld	(hl),0x45
1656  04AE  21 18 00    	ld	hl,___str_12
1657  04B1  E5          	push	hl
1658  04B2  21 14 15    	ld	hl,0x1514
1659  04B5  E5          	push	hl
1660  04B6  CD 00 00    	call	_zx_print_str
1661  04B9  21 00 00    	ld	hl,_screen_ink
1662  04BC  36 07       	ld	(hl),0x07
1663  04BE  21 1A 00    	ld	hl,___str_13
1664  04C1  E5          	push	hl
1665  04C2  21 15 15    	ld	hl,0x1515
1666  04C5  E5          	push	hl
1667  04C6  CD 00 00    	call	_zx_print_str
1668  04C9  21 1C 00    	ld	hl,___str_14
1669  04CC  E5          	push	hl
1670  04CD  21 17 14    	ld	hl,0x1417
1671  04D0  E5          	push	hl
1672  04D1  CD 00 00    	call	_zx_print_str
1673  04D4  21 00 00    	ld	hl,_screen_ink
1674  04D7  36 06       	ld	(hl),0x06
1675  04D9  21 21 00    	ld	hl,___str_15
1676  04DC  E5          	push	hl
1677  04DD  21 16 07    	ld	hl,0x0716
1678  04E0  E5          	push	hl
1679  04E1  CD 00 00    	call	_zx_print_str
1680  04E4  21 23 00    	ld	hl,___str_16
1681  04E7  E5          	push	hl
1682  04E8  21 16 0D    	ld	hl,0x0d16
1683  04EB  E5          	push	hl
1684  04EC  CD 00 00    	call	_zx_print_str
1685  04EF  21 25 00    	ld	hl,___str_17
1686  04F2  E5          	push	hl
1687  04F3  21 16 13    	ld	hl,0x1316
1688  04F6  E5          	push	hl
1689  04F7  CD 00 00    	call	_zx_print_str
1690  04FA  21 27 00    	ld	hl,___str_18
1691  04FD  E5          	push	hl
1692  04FE  21 16 19    	ld	hl,0x1916
1693  0501  E5          	push	hl
1694  0502  CD 00 00    	call	_zx_print_str
1695  0505  CD 2A 05    	call	_game_update_stats
1696  0508  C9          	ret
1697  0509              	SECTION rodata_compiler
1698  0000              ___str_0:
1699  0000  61          	DEFM "a"
1700  0001  00          	DEFB 0x00
1701  0002              	SECTION rodata_compiler
1702  0002              ___str_1:
1703  0002  63          	DEFM "c"
1704  0003  00          	DEFB 0x00
1705  0004              	SECTION rodata_compiler
1706  0004              ___str_2:
1707  0004  64          	DEFM "d"
1708  0005  00          	DEFB 0x00
1709  0006              	SECTION rodata_compiler
1710  0006              ___str_3:
1711  0006  65          	DEFM "e"
1712  0007  00          	DEFB 0x00
1713  0008              	SECTION rodata_compiler
1714  0008              ___str_4:
1715  0008  66          	DEFM "f"
1716  0009  00          	DEFB 0x00
1717  000A              	SECTION rodata_compiler
1718  000A              ___str_5:
1719  000A  67          	DEFM "g"
1720  000B  00          	DEFB 0x00
1721  000C              	SECTION rodata_compiler
1722  000C              ___str_6:
1723  000C  3C          	DEFM "<"
1724  000D  00          	DEFB 0x00
1725  000E              	SECTION rodata_compiler
1726  000E              ___str_7:
1727  000E  5C          	DEFB 0x5c
1728  000F  00          	DEFB 0x00
1729  0010              	SECTION rodata_compiler
1730  0010              ___str_8:
1731  0010  3E          	DEFM ">"
1732  0011  00          	DEFB 0x00
1733  0012              	SECTION rodata_compiler
1734  0012              ___str_9:
1735  0012  5E          	DEFM "^"
1736  0013  00          	DEFB 0x00
1737  0014              	SECTION rodata_compiler
1738  0014              ___str_10:
1739  0014  3F          	DEFM "?"
1740  0015  00          	DEFB 0x00
1741  0016              	SECTION rodata_compiler
1742  0016              ___str_11:
1743  0016  5F          	DEFM "_"
1744  0017  00          	DEFB 0x00
1745  0018              	SECTION rodata_compiler
1746  0018              ___str_12:
1747  0018  78          	DEFM "x"
1748  0019  00          	DEFB 0x00
1749  001A              	SECTION rodata_compiler
1750  001A              ___str_13:
1751  001A  79          	DEFM "y"
1752  001B  00          	DEFB 0x00
1753  001C              	SECTION rodata_compiler
1754  001C              ___str_14:
1755  001C  4C 50 53 3A 	DEFM "LPS:"
1756  0020  00          	DEFB 0x00
1757  0021              	SECTION rodata_compiler
1758  0021              ___str_15:
1759  0021  6C          	DEFM "l"
1760  0022  00          	DEFB 0x00
1761  0023              	SECTION rodata_compiler
1762  0023              ___str_16:
1763  0023  6D          	DEFM "m"
1764  0024  00          	DEFB 0x00
1765  0025              	SECTION rodata_compiler
1766  0025              ___str_17:
1767  0025  6E          	DEFM "n"
1768  0026  00          	DEFB 0x00
1769  0027              	SECTION rodata_compiler
1770  0027              ___str_18:
1771  0027  6F          	DEFM "o"
1772  0028  00          	DEFB 0x00
1773  0029              	SECTION code_compiler
1774  0509              ;	---------------------------------
1775  0509              ; Function game_print_score
1776  0509              ; ---------------------------------
1777  0509              _game_print_score:
1778  0509  21 00 00    	ld	hl,_screen_ink
1779  050C  36 07       	ld	(hl),0x07
1780  050E  21 00 00    	ld	hl,_screen_paper
1781  0511  36 00       	ld	(hl),0x00
1782  0513  2A 00 00    	ld	hl,(_player_score)
1783  0516  E5          	push	hl
1784  0517  21 14 17    	ld	hl,0x1714
1785  051A  E5          	push	hl
1786  051B  CD 00 00    	call	_zx_print_int
1787  051E  2A 00 00    	ld	hl,(_game_score_top)
1788  0521  E5          	push	hl
1789  0522  21 00 0E    	ld	hl,0x0e00
1790  0525  E5          	push	hl
1791  0526  CD 00 00    	call	_zx_print_int
1792  0529  C9          	ret
1793  052A              	SECTION code_compiler
1794  052A              ;	---------------------------------
1795  052A              ; Function game_update_stats
1796  052A              ; ---------------------------------
1797  052A              _game_update_stats:
1798  052A  21 00 00    	ld	hl,_screen_ink
1799  052D  36 07       	ld	(hl),0x07
1800  052F  3A 00 00    	ld	a,(_player_lives)
1801  0532  F5          	push	af
1802  0533  33          	inc	sp
1803  0534  21 14 03    	ld	hl,0x0314
1804  0537  E5          	push	hl
1805  0538  CD 00 00    	call	_zx_print_chr
1806  053B  3A 00 00    	ld	a,(_player_coins)
1807  053E  F5          	push	af
1808  053F  33          	inc	sp
1809  0540  21 16 09    	ld	hl,0x0916
1810  0543  E5          	push	hl
1811  0544  CD 00 00    	call	_zx_print_chr
1812  0547  3A 00 00    	ld	a,(_player_str)
1813  054A  F5          	push	af
1814  054B  33          	inc	sp
1815  054C  21 16 0F    	ld	hl,0x0f16
1816  054F  E5          	push	hl
1817  0550  CD 00 00    	call	_zx_print_chr
1818  0553  3A 00 00    	ld	a,(_player_int)
1819  0556  F5          	push	af
1820  0557  33          	inc	sp
1821  0558  21 16 15    	ld	hl,0x1516
1822  055B  E5          	push	hl
1823  055C  CD 00 00    	call	_zx_print_chr
1824  055F  3A 00 00    	ld	a,(_player_lvl)
1825  0562  F5          	push	af
1826  0563  33          	inc	sp
1827  0564  21 16 1B    	ld	hl,0x1b16
1828  0567  E5          	push	hl
1829  0568  CD 00 00    	call	_zx_print_chr
1830  056B  21 00 00    	ld	hl,_screen_ink
1831  056E  36 02       	ld	(hl),0x02
1832  0570  3A 00 00    	ld	a,(_player_vita)
1833  0573  F5          	push	af
1834  0574  33          	inc	sp
1835  0575  21 14 0A    	ld	hl,0x0a14
1836  0578  E5          	push	hl
1837  0579  CD 00 00    	call	_zx_print_chr
1838  057C  21 00 00    	ld	hl,_screen_ink
1839  057F  36 01       	ld	(hl),0x01
1840  0581  3A 00 00    	ld	a,(_player_mana)
1841  0584  F5          	push	af
1842  0585  33          	inc	sp
1843  0586  21 14 11    	ld	hl,0x1114
1844  0589  E5          	push	hl
1845  058A  CD 00 00    	call	_zx_print_chr
1846  058D  3A 00 00    	ld	a,(_game_boss)
1847  0590  B7          	or	a, a
1848  0591  28 46       	jr	Z,l_game_update_stats_00106
1849  0593  21 13 10    	ld	hl,0x1013
1850  0596  E5          	push	hl
1851  0597  3E 0B       	ld	a,0x0b
1852  0599  F5          	push	af
1853  059A  33          	inc	sp
1854  059B  CD 08 09    	call	_game_paint_attrib_lin_osd
1855  059E  F1          	pop	af
1856  059F  33          	inc	sp
1857  05A0  21 00 00    	ld	hl,_tmp0
1858  05A3  36 00       	ld	(hl),0x00
1859  05A5              l_game_update_stats_00115:
1860  05A5  21 00 00    	ld	hl,_tmp0
1861  05A8  7E          	ld	a, (hl)
1862  05A9  C6 0B       	add	a,0x0b
1863  05AB  47          	ld	b, a
1864  05AC  7E          	ld	a, (hl)
1865  05AD  21 00 00    	ld	hl,_game_boss_hit
1866  05B0  96          	sub	a, (hl)
1867  05B1  30 0F       	jr	NC,l_game_update_stats_00102
1868  05B3  21 29 00    	ld	hl,___str_19
1869  05B6  E5          	push	hl
1870  05B7  C5          	push	bc
1871  05B8  33          	inc	sp
1872  05B9  3E 01       	ld	a,0x01
1873  05BB  F5          	push	af
1874  05BC  33          	inc	sp
1875  05BD  CD 00 00    	call	_zx_print_str
1876  05C0  18 0D       	jr	l_game_update_stats_00116
1877  05C2              l_game_update_stats_00102:
1878  05C2  21 2B 00    	ld	hl,___str_20
1879  05C5  E5          	push	hl
1880  05C6  C5          	push	bc
1881  05C7  33          	inc	sp
1882  05C8  3E 01       	ld	a,0x01
1883  05CA  F5          	push	af
1884  05CB  33          	inc	sp
1885  05CC  CD 00 00    	call	_zx_print_str
1886  05CF              l_game_update_stats_00116:
1887  05CF  21 00 00    	ld	hl,_tmp0
1888  05D2  7E          	ld	a,(hl)
1889  05D3  3C          	inc	a
1890  05D4  77          	ld	(hl),a
1891  05D5  D6 08       	sub	a,0x08
1892  05D7  38 CC       	jr	C,l_game_update_stats_00115
1893  05D9              l_game_update_stats_00106:
1894  05D9  3A 00 00    	ld	a,(_player_keys)
1895  05DC  B7          	or	a, a
1896  05DD  28 10       	jr	Z,l_game_update_stats_00108
1897  05DF  21 00 00    	ld	hl,_screen_ink
1898  05E2  36 07       	ld	(hl),0x07
1899  05E4  21 2D 00    	ld	hl,___str_21
1900  05E7  E5          	push	hl
1901  05E8  21 16 02    	ld	hl,0x0216
1902  05EB  E5          	push	hl
1903  05EC  CD 00 00    	call	_zx_print_str
1904  05EF              l_game_update_stats_00108:
1905  05EF  3A 01 00    	ld	a, (_player_keys + 1)
1906  05F2  B7          	or	a, a
1907  05F3  28 10       	jr	Z,l_game_update_stats_00110
1908  05F5  21 00 00    	ld	hl,_screen_ink
1909  05F8  36 02       	ld	(hl),0x02
1910  05FA  21 2D 00    	ld	hl,___str_21
1911  05FD  E5          	push	hl
1912  05FE  21 16 03    	ld	hl,0x0316
1913  0601  E5          	push	hl
1914  0602  CD 00 00    	call	_zx_print_str
1915  0605              l_game_update_stats_00110:
1916  0605  3A 02 00    	ld	a, (_player_keys + 2)
1917  0608  B7          	or	a, a
1918  0609  28 10       	jr	Z,l_game_update_stats_00112
1919  060B  21 00 00    	ld	hl,_screen_ink
1920  060E  36 04       	ld	(hl),0x04
1921  0610  21 2D 00    	ld	hl,___str_21
1922  0613  E5          	push	hl
1923  0614  21 16 04    	ld	hl,0x0416
1924  0617  E5          	push	hl
1925  0618  CD 00 00    	call	_zx_print_str
1926  061B              l_game_update_stats_00112:
1927  061B  3A 03 00    	ld	a, (_player_keys + 3)
1928  061E  B7          	or	a, a
1929  061F  C8          	ret	Z
1930  0620  21 00 00    	ld	hl,_screen_ink
1931  0623  36 05       	ld	(hl),0x05
1932  0625  21 2D 00    	ld	hl,___str_21
1933  0628  E5          	push	hl
1934  0629  21 16 05    	ld	hl,0x0516
1935  062C  E5          	push	hl
1936  062D  CD 00 00    	call	_zx_print_str
1937  0630  C9          	ret
1938  0631              	SECTION rodata_compiler
1939  0029              ___str_19:
1940  0029  2A          	DEFM "*"
1941  002A  00          	DEFB 0x00
1942  002B              	SECTION rodata_compiler
1943  002B              ___str_20:
1944  002B  20          	DEFM " "
1945  002C  00          	DEFB 0x00
1946  002D              	SECTION rodata_compiler
1947  002D              ___str_21:
1948  002D  5D          	DEFM "]"
1949  002E  00          	DEFB 0x00
1950  002F              	SECTION code_compiler
1951  0631              ;	---------------------------------
1952  0631              ; Function game_tick
1953  0631              ; ---------------------------------
1954  0631              _game_tick:
1955  0631  21 00 00    	ld	hl,_curr_time
1956  0634  34          	inc	(hl)
1957  0635  C2 00 00    	jp	NZ,_zx_isr
1958  0638  23          	inc	hl
1959  0639  34          	inc	(hl)
1960  063A  C3 00 00    	jp  _zx_isr
1961  063D              	SECTION code_compiler
1962  063D              ;	---------------------------------
1963  063D              ; Function game_start_timer
1964  063D              ; ---------------------------------
1965  063D              _game_start_timer:
1966  063D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1967  0640  36 CD       	ld	(hl),0xcd
1968  0642  23          	inc	hl
1969  0643  11 31 06    	ld	de,_game_tick
1970  0646  73          	ld	(hl), e
1971  0647  23          	inc	hl
1972  0648  72          	ld	(hl), d
1973  0649  C9          	ret
1974  064A              	SECTION code_compiler
1975  064A              ;	---------------------------------
1976  064A              ; Function game_round_init
1977  064A              ; ---------------------------------
1978  064A              _game_round_init:
1979  064A  21 00 00    	ld	hl,0x0000
1980  064D  22 00 00    	ld	(_loop_count),hl
1981  0650  21 00 00    	ld	hl,0
1982  0653  22 00 00    	ld	(_curr_time),hl
1983  0656  21 00 00    	ld	hl,0x0000
1984  0659  22 00 00    	ld	(_frame_time),hl
1985  065C  CD 60 07    	call	_game_print_header
1986  065F  CD C8 03    	call	_game_print_footer
1987  0662  CD 00 00    	call	_spr_page_map
1988  0665  CD 7D 01    	call	_game_draw_screen
1989  0668  CD 00 00    	call	_ay_reset
1990  066B  21 00 00    	ld	hl,_ay_effect_12
1991  066E  CD 00 00    	call	_ay_fx_play
1992  0671  3A 00 00    	ld	a,(_game_over)
1993  0674  B7          	or	a, a
1994  0675  20 10       	jr	NZ,l_game_round_init_00102
1995  0677  2A 00 00    	ld	hl,(_player_col_scr)
1996  067A  26 70       	ld	h,0x70
1997  067C  3A 00 00    	ld	a,(_player_lin_scr)
1998  067F  E5          	push	hl
1999  0680  F5          	push	af
2000  0681  33          	inc	sp
2001  0682  CD 00 00    	call	_player_init
2002  0685  F1          	pop	af
2003  0686  33          	inc	sp
2004  0687              l_game_round_init_00102:
2005  0687  CD 2A 05    	call	_game_update_stats
2006  068A  21 32 00    	ld	hl,0x0032
2007  068D  CD 00 00    	call	_z80_delay_ms_fastcall
2008  0690  3A 00 00    	ld	a,(_game_world)
2009  0693  B7          	or	a, a
2010  0694  28 12       	jr	Z,l_game_round_init_00103
2011  0696  3D          	dec	a
2012  0697  28 3E       	jr	Z,l_game_round_init_00104
2013  0699  3A 00 00    	ld	a,(_game_world)
2014  069C  FE 02       	cp	a,0x02
2015  069E  28 65       	jr	Z,l_game_round_init_00105
2016  06A0  D6 03       	sub	a,0x03
2017  06A2  CA 33 07    	jp	Z,l_game_round_init_00106
2018  06A5  C3 5F 07    	jp	l_game_round_init_00108
2019  06A8              l_game_round_init_00103:
2020  06A8  21 17 68    	ld	hl,0x6817
2021  06AB  E5          	push	hl
2022  06AC  3E 06       	ld	a,0x06
2023  06AE  F5          	push	af
2024  06AF  33          	inc	sp
2025  06B0  CD 08 09    	call	_game_paint_attrib_lin_osd
2026  06B3  33          	inc	sp
2027  06B4  21 2F 00    	ld	hl,___str_22
2028  06B7  E3          	ex	(sp),hl
2029  06B8  21 0C 06    	ld	hl,0x060c
2030  06BB  E5          	push	hl
2031  06BC  CD 00 00    	call	_zx_print_str
2032  06BF  AF          	xor	a, a
2033  06C0  F5          	push	af
2034  06C1  33          	inc	sp
2035  06C2  21 19 00    	ld	hl,0x0019
2036  06C5  E5          	push	hl
2037  06C6  21 06 17    	ld	hl,0x1706
2038  06C9  E5          	push	hl
2039  06CA  3E 0C       	ld	a,0x0c
2040  06CC  F5          	push	af
2041  06CD  33          	inc	sp
2042  06CE  CD 2F 09    	call	_game_colour_message
2043  06D1  F1          	pop	af
2044  06D2  F1          	pop	af
2045  06D3  F1          	pop	af
2046  06D4  C3 5F 07    	jp	l_game_round_init_00108
2047  06D7              l_game_round_init_00104:
2048  06D7  21 13 68    	ld	hl,0x6813
2049  06DA  E5          	push	hl
2050  06DB  3E 06       	ld	a,0x06
2051  06DD  F5          	push	af
2052  06DE  33          	inc	sp
2053  06DF  CD 08 09    	call	_game_paint_attrib_lin_osd
2054  06E2  33          	inc	sp
2055  06E3  21 41 00    	ld	hl,___str_23
2056  06E6  E3          	ex	(sp),hl
2057  06E7  21 0C 06    	ld	hl,0x060c
2058  06EA  E5          	push	hl
2059  06EB  CD 00 00    	call	_zx_print_str
2060  06EE  AF          	xor	a, a
2061  06EF  F5          	push	af
2062  06F0  33          	inc	sp
2063  06F1  21 19 00    	ld	hl,0x0019
2064  06F4  E5          	push	hl
2065  06F5  21 06 13    	ld	hl,0x1306
2066  06F8  E5          	push	hl
2067  06F9  3E 0C       	ld	a,0x0c
2068  06FB  F5          	push	af
2069  06FC  33          	inc	sp
2070  06FD  CD 2F 09    	call	_game_colour_message
2071  0700  F1          	pop	af
2072  0701  F1          	pop	af
2073  0702  F1          	pop	af
2074  0703  18 5A       	jr	l_game_round_init_00108
2075  0705              l_game_round_init_00105:
2076  0705  21 14 68    	ld	hl,0x6814
2077  0708  E5          	push	hl
2078  0709  3E 06       	ld	a,0x06
2079  070B  F5          	push	af
2080  070C  33          	inc	sp
2081  070D  CD 08 09    	call	_game_paint_attrib_lin_osd
2082  0710  33          	inc	sp
2083  0711  21 4F 00    	ld	hl,___str_24
2084  0714  E3          	ex	(sp),hl
2085  0715  21 0C 06    	ld	hl,0x060c
2086  0718  E5          	push	hl
2087  0719  CD 00 00    	call	_zx_print_str
2088  071C  AF          	xor	a, a
2089  071D  F5          	push	af
2090  071E  33          	inc	sp
2091  071F  21 19 00    	ld	hl,0x0019
2092  0722  E5          	push	hl
2093  0723  21 06 14    	ld	hl,0x1406
2094  0726  E5          	push	hl
2095  0727  3E 0C       	ld	a,0x0c
2096  0729  F5          	push	af
2097  072A  33          	inc	sp
2098  072B  CD 2F 09    	call	_game_colour_message
2099  072E  F1          	pop	af
2100  072F  F1          	pop	af
2101  0730  F1          	pop	af
2102  0731  18 2C       	jr	l_game_round_init_00108
2103  0733              l_game_round_init_00106:
2104  0733  21 17 68    	ld	hl,0x6817
2105  0736  E5          	push	hl
2106  0737  3E 06       	ld	a,0x06
2107  0739  F5          	push	af
2108  073A  33          	inc	sp
2109  073B  CD 08 09    	call	_game_paint_attrib_lin_osd
2110  073E  33          	inc	sp
2111  073F  21 5E 00    	ld	hl,___str_25
2112  0742  E3          	ex	(sp),hl
2113  0743  21 0C 06    	ld	hl,0x060c
2114  0746  E5          	push	hl
2115  0747  CD 00 00    	call	_zx_print_str
2116  074A  AF          	xor	a, a
2117  074B  F5          	push	af
2118  074C  33          	inc	sp
2119  074D  21 19 00    	ld	hl,0x0019
2120  0750  E5          	push	hl
2121  0751  21 06 17    	ld	hl,0x1706
2122  0754  E5          	push	hl
2123  0755  3E 0C       	ld	a,0x0c
2124  0757  F5          	push	af
2125  0758  33          	inc	sp
2126  0759  CD 2F 09    	call	_game_colour_message
2127  075C  F1          	pop	af
2128  075D  F1          	pop	af
2129  075E  F1          	pop	af
2130  075F              l_game_round_init_00108:
2131  075F  C9          	ret
2132  0760              	SECTION rodata_compiler
2133  002F              ___str_22:
2134  002F  57 4F 52 4C 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "WORLD 1 THE SHIRE"
2135  0040  00          	DEFB 0x00
2136  0041              	SECTION rodata_compiler
2137  0041              ___str_23:
2138  0041  57 4F 52 4C 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "WORLD 2 MORIA"
2139  004E  00          	DEFB 0x00
2140  004F              	SECTION rodata_compiler
2141  004F              ___str_24:
2142  004F  57 4F 52 4C 44 20 31 20 4D 4F 52 44 4F 52 
                        	DEFM "WORLD 1 MORDOR"
2143  005D  00          	DEFB 0x00
2144  005E              	SECTION rodata_compiler
2145  005E              ___str_25:
2146  005E  57 4F 52 4C 44 20 32 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "WORLD 2 BARAD DUR"
2147  006F  00          	DEFB 0x00
2148  0070              	SECTION code_compiler
2149  0760              ;	---------------------------------
2150  0760              ; Function game_print_header
2151  0760              ; ---------------------------------
2152  0760              _game_print_header:
2153  0760  21 00 00    	ld	hl,_screen_ink
2154  0763  36 02       	ld	(hl),0x02
2155  0765  21 70 00    	ld	hl,___str_26
2156  0768  E5          	push	hl
2157  0769  21 00 0B    	ld	hl,0x0b00
2158  076C  E5          	push	hl
2159  076D  CD 00 00    	call	_zx_print_str
2160  0770  21 00 00    	ld	hl,_screen_ink
2161  0773  36 07       	ld	(hl),0x07
2162  0775  CD 09 05    	call	_game_print_score
2163  0778  C9          	ret
2164  0779              	SECTION rodata_compiler
2165  0070              ___str_26:
2166  0070  24 25 7C    	DEFM "$%|"
2167  0073  00          	DEFB 0x00
2168  0074              	SECTION code_compiler
2169  0779              ;	---------------------------------
2170  0779              ; Function game_check_map
2171  0779              ; ---------------------------------
2172  0779              _game_check_map:
2173  0779  CD 00 00    	call	___sdcc_enter_ix
2174  077C  DD CB 05 46 	bit	0,(ix+5)
2175  0780  20 15       	jr	NZ,l_game_check_map_00108
2176  0782  DD 66 05    	ld	h,(ix+5)
2177  0785  DD 6E 04    	ld	l,(ix+4)
2178  0788  E5          	push	hl
2179  0789  CD 00 00    	call	_spr_calc_index
2180  078C  F1          	pop	af
2181  078D  22 00 00    	ld	(_index1),hl
2182  0790  CD E8 07    	call	_game_check_cell
2183  0793  26 00       	ld	h,0x00
2184  0795  18 4E       	jr	l_game_check_map_00110
2185  0797              l_game_check_map_00108:
2186  0797  21 00 00    	ld	hl,_g_player_hit_left
2187  079A  36 00       	ld	(hl),0x00
2188  079C  21 00 00    	ld	hl,_g_player_hit_right
2189  079F  36 00       	ld	(hl),0x00
2190  07A1  DD 46 05    	ld	b,(ix+5)
2191  07A4  05          	dec	b
2192  07A5  DD 4E 04    	ld	c,(ix+4)
2193  07A8  C5          	push	bc
2194  07A9  CD 00 00    	call	_spr_calc_index
2195  07AC  F1          	pop	af
2196  07AD  22 00 00    	ld	(_index1),hl
2197  07B0  CD E8 07    	call	_game_check_cell
2198  07B3  7D          	ld	a, l
2199  07B4  B7          	or	a, a
2200  07B5  28 05       	jr	Z,l_game_check_map_00102
2201  07B7  21 00 00    	ld	hl,_g_player_hit_left
2202  07BA  36 01       	ld	(hl),0x01
2203  07BC              l_game_check_map_00102:
2204  07BC  3A 00 00    	ld	a,(_g_player_hit_left)
2205  07BF  B7          	or	a, a
2206  07C0  20 10       	jr	NZ,l_game_check_map_00106
2207  07C2  2A 00 00    	ld	hl,(_index1)
2208  07C5  23          	inc	hl
2209  07C6  CD E8 07    	call	_game_check_cell
2210  07C9  7D          	ld	a, l
2211  07CA  B7          	or	a, a
2212  07CB  28 05       	jr	Z,l_game_check_map_00106
2213  07CD  21 00 00    	ld	hl,_g_player_hit_right
2214  07D0  36 01       	ld	(hl),0x01
2215  07D2              l_game_check_map_00106:
2216  07D2  3A 00 00    	ld	a,(_g_player_hit_left)
2217  07D5  B7          	or	a, a
2218  07D6  20 09       	jr	NZ,l_game_check_map_00113
2219  07D8  3A 00 00    	ld	a,(_g_player_hit_right)
2220  07DB  B7          	or	a,a
2221  07DC  20 03       	jr	NZ,l_game_check_map_00113
2222  07DE  6F          	ld	l,a
2223  07DF  18 02       	jr	l_game_check_map_00114
2224  07E1              l_game_check_map_00113:
2225  07E1  2E 01       	ld	l,0x01
2226  07E3              l_game_check_map_00114:
2227  07E3  26 00       	ld	h,0x00
2228  07E5              l_game_check_map_00110:
2229  07E5  DD E1       	pop	ix
2230  07E7  C9          	ret
2231  07E8              	SECTION code_compiler
2232  07E8              ;	---------------------------------
2233  07E8              ; Function game_check_cell
2234  07E8              ; ---------------------------------
2235  07E8              _game_check_cell:
2236  07E8  CD 00 00    	call	___sdcc_enter_ix
2237  07EB  3B          	dec	sp
2238  07EC  3E A0       	ld	a,0xa0
2239  07EE  BD          	cp	a,l
2240  07EF  3E 00       	ld	a,0x00
2241  07F1  9C          	sbc	a,h
2242  07F2  4D          	ld	c,l
2243  07F3  44          	ld	b,h
2244  07F4  E2 F9 07    	jp	PO, l_game_check_cell_00212
2245  07F7  EE 80       	xor	a,0x80
2246  07F9              l_game_check_cell_00212:
2247  07F9  F2 01 08    	jp	P, l_game_check_cell_00102
2248  07FC  2E 01       	ld	l,0x01
2249  07FE  C3 B6 08    	jp	l_game_check_cell_00142
2250  0801              l_game_check_cell_00102:
2251  0801  21 00 00    	ld	hl,_scr_map
2252  0804  09          	add	hl, bc
2253  0805  56          	ld	d, (hl)
2254  0806  3A 00 00    	ld	a,(_sprite)
2255  0809  D6 07       	sub	a,0x07
2256  080B  20 04       	jr	NZ,l_game_check_cell_00213
2257  080D  3E 01       	ld	a,0x01
2258  080F  18 01       	jr	l_game_check_cell_00214
2259  0811              l_game_check_cell_00213:
2260  0811  AF          	xor	a,a
2261  0812              l_game_check_cell_00214:
2262  0812  DD 77 FF    	ld	(ix-1),a
2263  0815  CB 47       	bit	0,a
2264  0817  20 40       	jr	NZ,l_game_check_cell_00120
2265  0819  7A          	ld	a, d
2266  081A  3C          	inc	a
2267  081B  20 01       	jr	NZ,l_game_check_cell_00104
2268  081D  57          	ld	d,a
2269  081E              l_game_check_cell_00104:
2270  081E  7A          	ld	a, d
2271  081F  D6 23       	sub	a,0x23
2272  0821  20 02       	jr	NZ,l_game_check_cell_00106
2273  0823  16 FF       	ld	d,0xff
2274  0825              l_game_check_cell_00106:
2275  0825  2A 00 00    	ld	hl,(_sprite)
2276  0828  26 00       	ld	h,0x00
2277  082A  01 00 00    	ld	bc,_class
2278  082D  09          	add	hl,bc
2279  082E  4E          	ld	c,(hl)
2280  082F  3E 05       	ld	a,0x05
2281  0831  91          	sub	a, c
2282  0832  38 0E       	jr	C,l_game_check_cell_00117
2283  0834  3E 2F       	ld	a,0x2f
2284  0836  92          	sub	a, d
2285  0837  38 05       	jr	C,l_game_check_cell_00108
2286  0839  2E 00       	ld	l,0x00
2287  083B  C3 B6 08    	jp	l_game_check_cell_00142
2288  083E              l_game_check_cell_00108:
2289  083E  6A          	ld	l, d
2290  083F  C3 B6 08    	jp	l_game_check_cell_00142
2291  0842              l_game_check_cell_00117:
2292  0842  3A 00 00    	ld	a,(_sprite_horizontal_check)
2293  0845  B7          	or	a, a
2294  0846  28 04       	jr	Z,l_game_check_cell_00111
2295  0848  0E 48       	ld	c,0x48
2296  084A  18 02       	jr	l_game_check_cell_00112
2297  084C              l_game_check_cell_00111:
2298  084C  0E 3A       	ld	c,0x3a
2299  084E              l_game_check_cell_00112:
2300  084E  79          	ld	a, c
2301  084F  92          	sub	a, d
2302  0850  38 04       	jr	C,l_game_check_cell_00114
2303  0852  2E 00       	ld	l,0x00
2304  0854  18 60       	jr	l_game_check_cell_00142
2305  0856              l_game_check_cell_00114:
2306  0856  6A          	ld	l, d
2307  0857  18 5D       	jr	l_game_check_cell_00142
2308  0859              l_game_check_cell_00120:
2309  0859  7A          	ld	a, d
2310  085A  D6 3A       	sub	a,0x3a
2311  085C  30 04       	jr	NC,l_game_check_cell_00122
2312  085E  2E 00       	ld	l,0x00
2313  0860  18 54       	jr	l_game_check_cell_00142
2314  0862              l_game_check_cell_00122:
2315  0862  3A 00 00    	ld	a,(_s_state)
2316  0865  E6 02       	and	a,0x02
2317  0867  5F          	ld	e, a
2318  0868  7A          	ld	a, d
2319  0869  D6 44       	sub	a,0x44
2320  086B  30 0C       	jr	NC,l_game_check_cell_00127
2321  086D  7B          	ld	a, e
2322  086E  B7          	or	a, a
2323  086F  28 04       	jr	Z,l_game_check_cell_00124
2324  0871  2E 01       	ld	l,0x01
2325  0873  18 41       	jr	l_game_check_cell_00142
2326  0875              l_game_check_cell_00124:
2327  0875  2E 00       	ld	l,0x00
2328  0877  18 3D       	jr	l_game_check_cell_00142
2329  0879              l_game_check_cell_00127:
2330  0879  7A          	ld	a, d
2331  087A  D6 48       	sub	a,0x48
2332  087C  30 16       	jr	NC,l_game_check_cell_00135
2333  087E  3A 00 00    	ld	a,(_sprite_horizontal_check)
2334  0881  B7          	or	a, a
2335  0882  28 04       	jr	Z,l_game_check_cell_00132
2336  0884  2E 00       	ld	l,0x00
2337  0886  18 2E       	jr	l_game_check_cell_00142
2338  0888              l_game_check_cell_00132:
2339  0888  7B          	ld	a, e
2340  0889  B7          	or	a, a
2341  088A  28 04       	jr	Z,l_game_check_cell_00129
2342  088C  2E 01       	ld	l,0x01
2343  088E  18 26       	jr	l_game_check_cell_00142
2344  0890              l_game_check_cell_00129:
2345  0890  2E 00       	ld	l,0x00
2346  0892  18 22       	jr	l_game_check_cell_00142
2347  0894              l_game_check_cell_00135:
2348  0894  7A          	ld	a, d
2349  0895  D6 4C       	sub	a,0x4c
2350  0897  30 12       	jr	NC,l_game_check_cell_00139
2351  0899  DD CB FF 46 	bit	0,(ix-1)
2352  089D  28 0C       	jr	Z,l_game_check_cell_00139
2353  089F  D5          	push	de
2354  08A0  33          	inc	sp
2355  08A1  C5          	push	bc
2356  08A2  CD 00 00    	call	_player_open_door
2357  08A5  F1          	pop	af
2358  08A6  33          	inc	sp
2359  08A7  2E 01       	ld	l,0x01
2360  08A9  18 0B       	jr	l_game_check_cell_00142
2361  08AB              l_game_check_cell_00139:
2362  08AB  7A          	ld	a, d
2363  08AC  D6 60       	sub	a,0x60
2364  08AE  30 04       	jr	NC,l_game_check_cell_00141
2365  08B0  2E 01       	ld	l,0x01
2366  08B2  18 02       	jr	l_game_check_cell_00142
2367  08B4              l_game_check_cell_00141:
2368  08B4  2E 00       	ld	l,0x00
2369  08B6              l_game_check_cell_00142:
2370  08B6  33          	inc	sp
2371  08B7  DD E1       	pop	ix
2372  08B9  C9          	ret
2373  08BA              	SECTION code_compiler
2374  08BA              ;	---------------------------------
2375  08BA              ; Function game_paint_attrib_lin
2376  08BA              ; ---------------------------------
2377  08BA              _game_paint_attrib_lin:
2378  08BA  CD 00 00    	call	___sdcc_enter_ix
2379  08BD  DD 7E 04    	ld	a,(ix+4)
2380  08C0  32 00 00    	ld	(_tmp_uc),a
2381  08C3              l_game_paint_attrib_lin_00103:
2382  08C3  21 00 00    	ld	hl,_tmp_uc
2383  08C6  7E          	ld	a, (hl)
2384  08C7  DD 96 05    	sub	a,(ix+5)
2385  08CA  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2386  08CC  66          	ld	h,(hl)
2387  08CD  DD 6E 06    	ld	l,(ix+6)
2388  08D0  E5          	push	hl
2389  08D1  21 00 00    	ld	hl,_attrib
2390  08D4  E5          	push	hl
2391  08D5  CD 00 00    	call	_NIRVANAP_paintC_callee
2392  08D8  21 00 00    	ld	hl,_tmp_uc
2393  08DB  34          	inc	(hl)
2394  08DC  18 E5       	jr	l_game_paint_attrib_lin_00103
2395  08DE              l_game_paint_attrib_lin_00105:
2396  08DE  DD E1       	pop	ix
2397  08E0  C9          	ret
2398  08E1              	SECTION code_compiler
2399  08E1              ;	---------------------------------
2400  08E1              ; Function game_paint_attrib_lin_h
2401  08E1              ; ---------------------------------
2402  08E1              _game_paint_attrib_lin_h:
2403  08E1  CD 00 00    	call	___sdcc_enter_ix
2404  08E4  DD 7E 04    	ld	a,(ix+4)
2405  08E7  32 00 00    	ld	(_tmp_uc),a
2406  08EA              l_game_paint_attrib_lin_h_00103:
2407  08EA  21 00 00    	ld	hl,_tmp_uc
2408  08ED  7E          	ld	a, (hl)
2409  08EE  DD 96 05    	sub	a,(ix+5)
2410  08F1  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2411  08F3  66          	ld	h,(hl)
2412  08F4  DD 6E 06    	ld	l,(ix+6)
2413  08F7  E5          	push	hl
2414  08F8  21 00 00    	ld	hl,_attrib_hl
2415  08FB  E5          	push	hl
2416  08FC  CD 00 00    	call	_NIRVANAP_paintC_callee
2417  08FF  21 00 00    	ld	hl,_tmp_uc
2418  0902  34          	inc	(hl)
2419  0903  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2420  0905              l_game_paint_attrib_lin_h_00105:
2421  0905  DD E1       	pop	ix
2422  0907  C9          	ret
2423  0908              	SECTION code_compiler
2424  0908              ;	---------------------------------
2425  0908              ; Function game_paint_attrib_lin_osd
2426  0908              ; ---------------------------------
2427  0908              _game_paint_attrib_lin_osd:
2428  0908  CD 00 00    	call	___sdcc_enter_ix
2429  090B  DD 7E 04    	ld	a,(ix+4)
2430  090E  32 00 00    	ld	(_tmp_uc),a
2431  0911              l_game_paint_attrib_lin_osd_00103:
2432  0911  21 00 00    	ld	hl,_tmp_uc
2433  0914  7E          	ld	a, (hl)
2434  0915  DD 96 05    	sub	a,(ix+5)
2435  0918  30 12       	jr	NC,l_game_paint_attrib_lin_osd_00105
2436  091A  66          	ld	h,(hl)
2437  091B  DD 6E 06    	ld	l,(ix+6)
2438  091E  E5          	push	hl
2439  091F  21 00 00    	ld	hl,_attrib_osd
2440  0922  E5          	push	hl
2441  0923  CD 00 00    	call	_NIRVANAP_paintC_callee
2442  0926  21 00 00    	ld	hl,_tmp_uc
2443  0929  34          	inc	(hl)
2444  092A  18 E5       	jr	l_game_paint_attrib_lin_osd_00103
2445  092C              l_game_paint_attrib_lin_osd_00105:
2446  092C  DD E1       	pop	ix
2447  092E  C9          	ret
2448  092F              	SECTION code_compiler
2449  092F              ;	---------------------------------
2450  092F              ; Function game_colour_message
2451  092F              ; ---------------------------------
2452  092F              _game_colour_message:
2453  092F  CD 00 00    	call	___sdcc_enter_ix
2454  0932  F5          	push	af
2455  0933  F5          	push	af
2456  0934  3B          	dec	sp
2457  0935  D1          	pop	de
2458  0936  21 00 00    	ld	hl,_tmp
2459  0939  36 01       	ld	(hl),0x01
2460  093B  2A 00 00    	ld	hl,(_curr_time)
2461  093E  22 00 00    	ld	(_frame_time),hl
2462  0941  2A 00 00    	ld	hl,(_curr_time)
2463  0944  E5          	push	hl
2464  0945  DD 7E 04    	ld	a,(ix+4)
2465  0948  07          	rlca
2466  0949  07          	rlca
2467  094A  07          	rlca
2468  094B  E6 F8       	and	a,0xf8
2469  094D  DD 77 FF    	ld	(ix-1),a
2470  0950  C6 08       	add	a,0x08
2471  0952  DD 77 FE    	ld	(ix-2),a
2472  0955  DD 77 FD    	ld	(ix-3),a
2473  0958              l_game_colour_message_00112:
2474  0958  3A 00 00    	ld	a,(_tmp)
2475  095B  B7          	or	a, a
2476  095C  28 76       	jr	Z,l_game_colour_message_00114
2477  095E  DD 4E 07    	ld	c,(ix+7)
2478  0961  DD 46 08    	ld	b,(ix+8)
2479  0964  E1          	pop	hl
2480  0965  E5          	push	hl
2481  0966  C5          	push	bc
2482  0967  E5          	push	hl
2483  0968  CD 46 0A    	call	_game_check_time
2484  096B  F1          	pop	af
2485  096C  F1          	pop	af
2486  096D  7D          	ld	a, l
2487  096E  B7          	or	a, a
2488  096F  20 63       	jr	NZ,l_game_colour_message_00114
2489  0971  21 05 00    	ld	hl,0x0005
2490  0974  E5          	push	hl
2491  0975  2A 00 00    	ld	hl,(_frame_time)
2492  0978  E5          	push	hl
2493  0979  CD 46 0A    	call	_game_check_time
2494  097C  F1          	pop	af
2495  097D  F1          	pop	af
2496  097E  7D          	ld	a, l
2497  097F  B7          	or	a, a
2498  0980  28 36       	jr	Z,l_game_colour_message_00105
2499  0982  2A 00 00    	ld	hl,(_curr_time)
2500  0985  22 00 00    	ld	(_frame_time),hl
2501  0988  3A 00 00    	ld	a,(_game_over)
2502  098B  B7          	or	a,a
2503  098C  28 16       	jr	Z,l_game_colour_message_00102
2504  098E  DD 66 FD    	ld	h,(ix-3)
2505  0991  DD 6E 06    	ld	l,(ix+6)
2506  0994  E5          	push	hl
2507  0995  DD 7E 05    	ld	a,(ix+5)
2508  0998  F5          	push	af
2509  0999  33          	inc	sp
2510  099A  CD E1 08    	call	_game_paint_attrib_lin_h
2511  099D  F1          	pop	af
2512  099E  33          	inc	sp
2513  099F  CD AF 0E    	call	_game_rotate_attrib
2514  09A2  18 14       	jr	l_game_colour_message_00105
2515  09A4              l_game_colour_message_00102:
2516  09A4  DD 66 FE    	ld	h,(ix-2)
2517  09A7  DD 6E 06    	ld	l,(ix+6)
2518  09AA  E5          	push	hl
2519  09AB  DD 7E 05    	ld	a,(ix+5)
2520  09AE  F5          	push	af
2521  09AF  33          	inc	sp
2522  09B0  CD 08 09    	call	_game_paint_attrib_lin_osd
2523  09B3  F1          	pop	af
2524  09B4  33          	inc	sp
2525  09B5  CD CB 0E    	call	_game_rotate_attrib_osd
2526  09B8              l_game_colour_message_00105:
2527  09B8  DD 7E 09    	ld	a,(ix+9)
2528  09BB  B7          	or	a, a
2529  09BC  28 9A       	jr	Z,l_game_colour_message_00112
2530  09BE              l_game_colour_message_00106:
2531  09BE  21 00 00    	ld	hl,_k1
2532  09C1  E5          	push	hl
2533  09C2  2A 00 00    	ld	hl,(_joyfunc1)
2534  09C5  CD 00 00    	call	___sdcc_call_hl
2535  09C8  F1          	pop	af
2536  09C9  7C          	ld	a,h
2537  09CA  B5          	or	a,l
2538  09CB  28 8B       	jr	Z,l_game_colour_message_00112
2539  09CD  21 00 00    	ld	hl,_tmp
2540  09D0  36 00       	ld	(hl),0x00
2541  09D2  18 EA       	jr	l_game_colour_message_00106
2542  09D4              l_game_colour_message_00114:
2543  09D4  DD 7E 06    	ld	a,(ix+6)
2544  09D7  DD 96 05    	sub	a,(ix+5)
2545  09DA  4F          	ld	c, a
2546  09DB  3A 00 00    	ld	a,(_game_over)
2547  09DE  B7          	or	a, a
2548  09DF  28 2B       	jr	Z,l_game_colour_message_00118
2549  09E1  21 00 00    	ld	hl,_tmp1
2550  09E4  71          	ld	(hl), c
2551  09E5  21 00 00    	ld	hl,_tmp0
2552  09E8  36 00       	ld	(hl),0x00
2553  09EA              l_game_colour_message_00121:
2554  09EA  3A 00 00    	ld	a,(_tmp0)
2555  09ED  21 00 00    	ld	hl,_tmp1
2556  09F0  96          	sub	a, (hl)
2557  09F1  30 4E       	jr	NC,l_game_colour_message_00126
2558  09F3  DD 7E 05    	ld	a,(ix+5)
2559  09F6  21 00 00    	ld	hl,_tmp0
2560  09F9  86          	add	a, (hl)
2561  09FA  47          	ld	b, a
2562  09FB  21 74 00    	ld	hl,___str_27
2563  09FE  E5          	push	hl
2564  09FF  DD 4E 04    	ld	c,(ix+4)
2565  0A02  C5          	push	bc
2566  0A03  CD 00 00    	call	_zx_print_str
2567  0A06  21 00 00    	ld	hl,_tmp0
2568  0A09  34          	inc	(hl)
2569  0A0A  18 DE       	jr	l_game_colour_message_00121
2570  0A0C              l_game_colour_message_00118:
2571  0A0C  21 00 00    	ld	hl,_tmp1
2572  0A0F  71          	ld	(hl), c
2573  0A10  DD 7E FF    	ld	a,(ix-1)
2574  0A13  32 00 00    	ld	(_s_lin0),a
2575  0A16  DD 7E 05    	ld	a,(ix+5)
2576  0A19  CB 3F       	srl	a
2577  0A1B  87          	add	a, a
2578  0A1C  32 00 00    	ld	(_s_col1),a
2579  0A1F  21 00 00    	ld	hl,_tmp0
2580  0A22  36 00       	ld	(hl),0x00
2581  0A24              l_game_colour_message_00124:
2582  0A24  3A 00 00    	ld	a,(_tmp0)
2583  0A27  21 00 00    	ld	hl,_tmp1
2584  0A2A  96          	sub	a, (hl)
2585  0A2B  30 14       	jr	NC,l_game_colour_message_00126
2586  0A2D  3A 00 00    	ld	a,(_s_col1)
2587  0A30  21 00 00    	ld	hl,_tmp0
2588  0A33  86          	add	a, (hl)
2589  0A34  32 00 00    	ld	(_s_col0),a
2590  0A37  CD 00 00    	call	_spr_back_repaint
2591  0A3A  21 00 00    	ld	hl,_tmp0
2592  0A3D  34          	inc	(hl)
2593  0A3E  34          	inc	(hl)
2594  0A3F  18 E3       	jr	l_game_colour_message_00124
2595  0A41              l_game_colour_message_00126:
2596  0A41  DD F9       	ld	sp, ix
2597  0A43  DD E1       	pop	ix
2598  0A45  C9          	ret
2599  0A46              	SECTION rodata_compiler
2600  0074              ___str_27:
2601  0074  20          	DEFM " "
2602  0075  00          	DEFB 0x00
2603  0076              	SECTION code_compiler
2604  0A46              ;	---------------------------------
2605  0A46              ; Function game_check_time
2606  0A46              ; ---------------------------------
2607  0A46              _game_check_time:
2608  0A46  CD 00 00    	call	___sdcc_enter_ix
2609  0A49  2A 00 00    	ld	hl,(_curr_time)
2610  0A4C  7D          	ld	a,l
2611  0A4D  DD 96 04    	sub	a,(ix+4)
2612  0A50  4F          	ld	c,a
2613  0A51  7C          	ld	a,h
2614  0A52  DD 9E 05    	sbc	a,(ix+5)
2615  0A55  47          	ld	b, a
2616  0A56  DD 7E 06    	ld	a,(ix+6)
2617  0A59  91          	sub	a, c
2618  0A5A  DD 7E 07    	ld	a,(ix+7)
2619  0A5D  98          	sbc	a, b
2620  0A5E  30 04       	jr	NC,l_game_check_time_00102
2621  0A60  2E 01       	ld	l,0x01
2622  0A62  18 02       	jr	l_game_check_time_00104
2623  0A64              l_game_check_time_00102:
2624  0A64  2E 00       	ld	l,0x00
2625  0A66              l_game_check_time_00104:
2626  0A66  DD E1       	pop	ix
2627  0A68  C9          	ret
2628  0A69              	SECTION code_compiler
2629  0A69              ;	---------------------------------
2630  0A69              ; Function game_shoot_fire
2631  0A69              ; ---------------------------------
2632  0A69              _game_shoot_fire:
2633  0A69  CD 00 00    	call	___sdcc_enter_ix
2634  0A6C  21 F3 FF    	ld	hl, -13
2635  0A6F  39          	add	hl, sp
2636  0A70  F9          	ld	sp, hl
2637  0A71  01 00 00    	ld	bc,_bullet_col
2638  0A74  DD 6E 04    	ld	l,(ix+4)
2639  0A77  26 00       	ld	h,0x00
2640  0A79  09          	add	hl,bc
2641  0A7A  DD 75 FE    	ld	(ix-2),l
2642  0A7D  DD 74 FF    	ld	(ix-1),h
2643  0A80  4E          	ld	c, (hl)
2644  0A81  0C          	inc	c
2645  0A82  C2 9B 0C    	jp	NZ,l_game_shoot_fire_00126
2646  0A85  21 00 00    	ld	hl,_ay_effect_08
2647  0A88  CD 00 00    	call	_ay_fx_play
2648  0A8B  21 00 00    	ld	hl,_bullet_count
2649  0A8E  34          	inc	(hl)
2650  0A8F  01 00 00    	ld	bc,_bullet_dir
2651  0A92  DD 6E 04    	ld	l,(ix+4)
2652  0A95  26 00       	ld	h,0x00
2653  0A97  09          	add	hl,bc
2654  0A98  DD 75 FC    	ld	(ix-4),l
2655  0A9B  DD 74 FD    	ld	(ix-3),h
2656  0A9E  36 00       	ld	(hl),0x00
2657  0AA0  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2658  0AA2  DD 86 04    	add	a,(ix+4)
2659  0AA5  4F          	ld	c, a
2660  0AA6  3E 00       	ld	a, +((_bullet_lin0) / 256)
2661  0AA8  CE 00       	adc	a,0x00
2662  0AAA  47          	ld	b, a
2663  0AAB  11 00 00    	ld	de,_lin
2664  0AAE  DD 6E 04    	ld	l,(ix+4)
2665  0AB1  26 00       	ld	h,0x00
2666  0AB3  19          	add	hl,de
2667  0AB4  DD 75 FA    	ld	(ix-6),l
2668  0AB7  DD 74 FB    	ld	(ix-5),h
2669  0ABA  7E          	ld	a, (hl)
2670  0ABB  02          	ld	(bc), a
2671  0ABC  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2672  0ABE  DD 86 04    	add	a,(ix+4)
2673  0AC1  4F          	ld	c, a
2674  0AC2  3E 00       	ld	a, +((_bullet_col0) / 256)
2675  0AC4  CE 00       	adc	a,0x00
2676  0AC6  47          	ld	b, a
2677  0AC7  11 00 00    	ld	de,_col
2678  0ACA  DD 6E 04    	ld	l,(ix+4)
2679  0ACD  26 00       	ld	h,0x00
2680  0ACF  19          	add	hl,de
2681  0AD0  DD 75 F8    	ld	(ix-8),l
2682  0AD3  DD 74 F9    	ld	(ix-7),h
2683  0AD6  7E          	ld	a, (hl)
2684  0AD7  02          	ld	(bc), a
2685  0AD8  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2686  0ADA  DD 86 04    	add	a,(ix+4)
2687  0ADD  DD 77 F6    	ld	(ix-10),a
2688  0AE0  3E 00       	ld	a, +((_bullet_lin) / 256)
2689  0AE2  CE 00       	adc	a,0x00
2690  0AE4  DD 77 F7    	ld	(ix-9),a
2691  0AE7  DD 6E FA    	ld	l,(ix-6)
2692  0AEA  DD 66 FB    	ld	h,(ix-5)
2693  0AED  4E          	ld	c, (hl)
2694  0AEE  DD 6E F6    	ld	l,(ix-10)
2695  0AF1  DD 66 F7    	ld	h,(ix-9)
2696  0AF4  71          	ld	(hl), c
2697  0AF5  01 00 00    	ld	bc,_bullet_frames
2698  0AF8  DD 6E 04    	ld	l,(ix+4)
2699  0AFB  26 00       	ld	h,0x00
2700  0AFD  09          	add	hl,bc
2701  0AFE  DD 75 F4    	ld	(ix-12),l
2702  0B01  DD 74 F5    	ld	(ix-11),h
2703  0B04  36 02       	ld	(hl),0x02
2704  0B06  DD 7E 04    	ld	a,(ix+4)
2705  0B09  D6 07       	sub	a,0x07
2706  0B0B  20 04       	jr	NZ,l_game_shoot_fire_00175
2707  0B0D  3E 01       	ld	a,0x01
2708  0B0F  18 01       	jr	l_game_shoot_fire_00176
2709  0B11              l_game_shoot_fire_00175:
2710  0B11  AF          	xor	a,a
2711  0B12              l_game_shoot_fire_00176:
2712  0B12  DD 77 F3    	ld	(ix-13),a
2713  0B15  B7          	or	a, a
2714  0B16  28 13       	jr	Z,l_game_shoot_fire_00102
2715  0B18  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2716  0B1A  DD 86 04    	add	a,(ix+4)
2717  0B1D  4F          	ld	c, a
2718  0B1E  3E 00       	ld	a, +((_bullet_max) / 256)
2719  0B20  CE 00       	adc	a,0x00
2720  0B22  47          	ld	b, a
2721  0B23  3A 00 00    	ld	a,(_player_lvl)
2722  0B26  C6 04       	add	a,0x04
2723  0B28  02          	ld	(bc), a
2724  0B29  18 0D       	jr	l_game_shoot_fire_00103
2725  0B2B              l_game_shoot_fire_00102:
2726  0B2B  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2727  0B2D  DD 86 04    	add	a,(ix+4)
2728  0B30  4F          	ld	c, a
2729  0B31  3E 00       	ld	a, +((_bullet_max) / 256)
2730  0B33  CE 00       	adc	a,0x00
2731  0B35  47          	ld	b, a
2732  0B36  AF          	xor	a, a
2733  0B37  02          	ld	(bc), a
2734  0B38              l_game_shoot_fire_00103:
2735  0B38  DD 7E 05    	ld	a,(ix+5)
2736  0B3B  D6 7C       	sub	a,0x7c
2737  0B3D  20 21       	jr	NZ,l_game_shoot_fire_00105
2738  0B3F  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2739  0B41  DD 86 04    	add	a,(ix+4)
2740  0B44  4F          	ld	c, a
2741  0B45  3E 00       	ld	a, +((_bullet_class) / 256)
2742  0B47  CE 00       	adc	a,0x00
2743  0B49  47          	ld	b, a
2744  0B4A  3E 01       	ld	a,0x01
2745  0B4C  02          	ld	(bc), a
2746  0B4D  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2747  0B4F  DD 86 04    	add	a,(ix+4)
2748  0B52  4F          	ld	c, a
2749  0B53  3E 00       	ld	a, +((_bullet_max) / 256)
2750  0B55  CE 00       	adc	a,0x00
2751  0B57  47          	ld	b, a
2752  0B58  3A 00 00    	ld	a,(_game_world)
2753  0B5B  87          	add	a, a
2754  0B5C  87          	add	a, a
2755  0B5D  C6 08       	add	a,0x08
2756  0B5F  02          	ld	(bc), a
2757  0B60              l_game_shoot_fire_00105:
2758  0B60  DD 7E 05    	ld	a,(ix+5)
2759  0B63  D6 78       	sub	a,0x78
2760  0B65  20 24       	jr	NZ,l_game_shoot_fire_00110
2761  0B67  DD 7E F3    	ld	a,(ix-13)
2762  0B6A  B7          	or	a, a
2763  0B6B  28 10       	jr	Z,l_game_shoot_fire_00107
2764  0B6D  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2765  0B6F  DD 86 04    	add	a,(ix+4)
2766  0B72  4F          	ld	c, a
2767  0B73  3E 00       	ld	a, +((_bullet_class) / 256)
2768  0B75  CE 00       	adc	a,0x00
2769  0B77  47          	ld	b, a
2770  0B78  3E 01       	ld	a,0x01
2771  0B7A  02          	ld	(bc), a
2772  0B7B  18 0E       	jr	l_game_shoot_fire_00110
2773  0B7D              l_game_shoot_fire_00107:
2774  0B7D  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2775  0B7F  DD 86 04    	add	a,(ix+4)
2776  0B82  4F          	ld	c, a
2777  0B83  3E 00       	ld	a, +((_bullet_class) / 256)
2778  0B85  CE 00       	adc	a,0x00
2779  0B87  47          	ld	b, a
2780  0B88  3E 02       	ld	a,0x02
2781  0B8A  02          	ld	(bc), a
2782  0B8B              l_game_shoot_fire_00110:
2783  0B8B  DD 7E 05    	ld	a,(ix+5)
2784  0B8E  D6 80       	sub	a,0x80
2785  0B90  20 04       	jr	NZ,l_game_shoot_fire_00181
2786  0B92  3E 01       	ld	a,0x01
2787  0B94  18 01       	jr	l_game_shoot_fire_00182
2788  0B96              l_game_shoot_fire_00181:
2789  0B96  AF          	xor	a,a
2790  0B97              l_game_shoot_fire_00182:
2791  0B97  5F          	ld	e,a
2792  0B98  B7          	or	a, a
2793  0B99  28 35       	jr	Z,l_game_shoot_fire_00112
2794  0B9B  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2795  0B9D  DD 86 04    	add	a,(ix+4)
2796  0BA0  4F          	ld	c, a
2797  0BA1  3E 00       	ld	a, +((_bullet_class) / 256)
2798  0BA3  CE 00       	adc	a,0x00
2799  0BA5  47          	ld	b, a
2800  0BA6  3E 04       	ld	a,0x04
2801  0BA8  02          	ld	(bc), a
2802  0BA9  DD 6E FA    	ld	l,(ix-6)
2803  0BAC  DD 66 FB    	ld	h,(ix-5)
2804  0BAF  7E          	ld	a, (hl)
2805  0BB0  C6 FC       	add	a,0xfc
2806  0BB2  DD 6E F6    	ld	l,(ix-10)
2807  0BB5  DD 66 F7    	ld	h,(ix-9)
2808  0BB8  77          	ld	(hl), a
2809  0BB9  DD 6E F4    	ld	l,(ix-12)
2810  0BBC  DD 66 F5    	ld	h,(ix-11)
2811  0BBF  36 04       	ld	(hl),0x04
2812  0BC1  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2813  0BC3  DD 86 04    	add	a,(ix+4)
2814  0BC6  4F          	ld	c, a
2815  0BC7  3E 00       	ld	a, +((_bullet_vel) / 256)
2816  0BC9  CE 00       	adc	a,0x00
2817  0BCB  47          	ld	b, a
2818  0BCC  3A 00 00    	ld	a,(_player_vel_y0)
2819  0BCF  02          	ld	(bc), a
2820  0BD0              l_game_shoot_fire_00112:
2821  0BD0  3A 00 00    	ld	a,(_s_state)
2822  0BD3  E6 08       	and	a,0x08
2823  0BD5  57          	ld	d, a
2824  0BD6  3A 00 00    	ld	a,(_sprite)
2825  0BD9  D6 07       	sub	a,0x07
2826  0BDB  20 06       	jr	NZ,l_game_shoot_fire_00114
2827  0BDD  3A 07 00    	ld	a,(_state_a + 0x0007)
2828  0BE0  E6 08       	and	a,0x08
2829  0BE2  57          	ld	d, a
2830  0BE3              l_game_shoot_fire_00114:
2831  0BE3  DD 6E F8    	ld	l,(ix-8)
2832  0BE6  DD 66 F9    	ld	h,(ix-7)
2833  0BE9  46          	ld	b, (hl)
2834  0BEA  DD 6E FA    	ld	l,(ix-6)
2835  0BED  DD 66 FB    	ld	h,(ix-5)
2836  0BF0  7E          	ld	a, (hl)
2837  0BF1  D5          	push	de
2838  0BF2  4F          	ld	c,a
2839  0BF3  C5          	push	bc
2840  0BF4  CD 00 00    	call	_spr_calc_index
2841  0BF7  F1          	pop	af
2842  0BF8  D1          	pop	de
2843  0BF9  22 00 00    	ld	(_index1),hl
2844  0BFC  DD 6E F8    	ld	l,(ix-8)
2845  0BFF  DD 66 F9    	ld	h,(ix-7)
2846  0C02  7E          	ld	a, (hl)
2847  0C03  DD 77 F3    	ld	(ix-13),a
2848  0C06  7A          	ld	a, d
2849  0C07  B7          	or	a, a
2850  0C08  28 57       	jr	Z,l_game_shoot_fire_00123
2851  0C0A  DD 7E F3    	ld	a,(ix-13)
2852  0C0D  D6 01       	sub	a,0x01
2853  0C0F  30 05       	jr	NC,l_game_shoot_fire_00116
2854  0C11  2E 01       	ld	l,0x01
2855  0C13  C3 9D 0C    	jp	l_game_shoot_fire_00127
2856  0C16              l_game_shoot_fire_00116:
2857  0C16  DD 6E FE    	ld	l,(ix-2)
2858  0C19  DD 66 FF    	ld	h,(ix-1)
2859  0C1C  DD 7E F3    	ld	a,(ix-13)
2860  0C1F  77          	ld	(hl), a
2861  0C20  7B          	ld	a, e
2862  0C21  B7          	or	a, a
2863  0C22  20 13       	jr	NZ,l_game_shoot_fire_00118
2864  0C24  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2865  0C26  DD 86 04    	add	a,(ix+4)
2866  0C29  4F          	ld	c, a
2867  0C2A  3E 00       	ld	a, +((_bullet_tile) / 256)
2868  0C2C  CE 00       	adc	a,0x00
2869  0C2E  47          	ld	b, a
2870  0C2F  DD 7E 05    	ld	a,(ix+5)
2871  0C32  C6 02       	add	a,0x02
2872  0C34  02          	ld	(bc), a
2873  0C35  18 0F       	jr	l_game_shoot_fire_00119
2874  0C37              l_game_shoot_fire_00118:
2875  0C37  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2876  0C39  DD 86 04    	add	a,(ix+4)
2877  0C3C  4F          	ld	c, a
2878  0C3D  3E 00       	ld	a, +((_bullet_tile) / 256)
2879  0C3F  CE 00       	adc	a,0x00
2880  0C41  47          	ld	b, a
2881  0C42  DD 7E 05    	ld	a,(ix+5)
2882  0C45  02          	ld	(bc), a
2883  0C46              l_game_shoot_fire_00119:
2884  0C46  DD 6E FC    	ld	l,(ix-4)
2885  0C49  DD 66 FD    	ld	h,(ix-3)
2886  0C4C  36 01       	ld	(hl),0x01
2887  0C4E  01 00 00    	ld	bc,_bullet_colint
2888  0C51  DD 6E 04    	ld	l,(ix+4)
2889  0C54  26 00       	ld	h,0x00
2890  0C56  09          	add	hl,bc
2891  0C57  DD 75 F4    	ld	(ix-12),l
2892  0C5A  DD 74 F5    	ld	(ix-11),h
2893  0C5D  36 02       	ld	(hl),0x02
2894  0C5F  18 3A       	jr	l_game_shoot_fire_00126
2895  0C61              l_game_shoot_fire_00123:
2896  0C61  3E 1D       	ld	a,0x1d
2897  0C63  DD 96 F3    	sub	a,(ix-13)
2898  0C66  30 04       	jr	NC,l_game_shoot_fire_00121
2899  0C68  2E 01       	ld	l,0x01
2900  0C6A  18 31       	jr	l_game_shoot_fire_00127
2901  0C6C              l_game_shoot_fire_00121:
2902  0C6C  DD 6E FE    	ld	l,(ix-2)
2903  0C6F  DD 66 FF    	ld	h,(ix-1)
2904  0C72  DD 7E F3    	ld	a,(ix-13)
2905  0C75  77          	ld	(hl), a
2906  0C76  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2907  0C78  DD 86 04    	add	a,(ix+4)
2908  0C7B  4F          	ld	c, a
2909  0C7C  3E 00       	ld	a, +((_bullet_tile) / 256)
2910  0C7E  CE 00       	adc	a,0x00
2911  0C80  47          	ld	b, a
2912  0C81  DD 7E 05    	ld	a,(ix+5)
2913  0C84  02          	ld	(bc), a
2914  0C85  DD 6E FC    	ld	l,(ix-4)
2915  0C88  DD 66 FD    	ld	h,(ix-3)
2916  0C8B  36 FF       	ld	(hl),0xff
2917  0C8D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2918  0C8F  DD 86 04    	add	a,(ix+4)
2919  0C92  4F          	ld	c, a
2920  0C93  3E 00       	ld	a, +((_bullet_colint) / 256)
2921  0C95  CE 00       	adc	a,0x00
2922  0C97  47          	ld	b, a
2923  0C98  3E FF       	ld	a,0xff
2924  0C9A  02          	ld	(bc), a
2925  0C9B              l_game_shoot_fire_00126:
2926  0C9B  2E 00       	ld	l,0x00
2927  0C9D              l_game_shoot_fire_00127:
2928  0C9D  DD F9       	ld	sp, ix
2929  0C9F  DD E1       	pop	ix
2930  0CA1  C9          	ret
2931  0CA2              	SECTION code_compiler
2932  0CA2              ;	---------------------------------
2933  0CA2              ; Function game_shoot_fire_boss
2934  0CA2              ; ---------------------------------
2935  0CA2              _game_shoot_fire_boss:
2936  0CA2  CD 00 00    	call	___sdcc_enter_ix
2937  0CA5  F5          	push	af
2938  0CA6  F5          	push	af
2939  0CA7  0E 00       	ld	c,0x00
2940  0CA9              l_game_shoot_fire_boss_00103:
2941  0CA9  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2942  0CAB  81          	add	a, c
2943  0CAC  DD 77 FE    	ld	(ix-2),a
2944  0CAF  3E 00       	ld	a, +((_bullet_col) / 256)
2945  0CB1  CE 00       	adc	a,0x00
2946  0CB3  DD 77 FF    	ld	(ix-1),a
2947  0CB6  79          	ld	a, c
2948  0CB7  D6 07       	sub	a,0x07
2949  0CB9  30 0D       	jr	NC,l_game_shoot_fire_boss_00105
2950  0CBB  DD 6E FE    	ld	l,(ix-2)
2951  0CBE  DD 66 FF    	ld	h,(ix-1)
2952  0CC1  46          	ld	b, (hl)
2953  0CC2  04          	inc	b
2954  0CC3  28 03       	jr	Z,l_game_shoot_fire_boss_00105
2955  0CC5  0C          	inc	c
2956  0CC6  18 E1       	jr	l_game_shoot_fire_boss_00103
2957  0CC8              l_game_shoot_fire_boss_00105:
2958  0CC8  79          	ld	a, c
2959  0CC9  D6 07       	sub	a,0x07
2960  0CCB  20 04       	jr	NZ,l_game_shoot_fire_boss_00107
2961  0CCD  6F          	ld	l,a
2962  0CCE  C3 B1 0D    	jp	l_game_shoot_fire_boss_00117
2963  0CD1              l_game_shoot_fire_boss_00107:
2964  0CD1  DD 6E FE    	ld	l,(ix-2)
2965  0CD4  DD 66 FF    	ld	h,(ix-1)
2966  0CD7  46          	ld	b, (hl)
2967  0CD8  04          	inc	b
2968  0CD9  C2 AF 0D    	jp	NZ,l_game_shoot_fire_boss_00116
2969  0CDC  21 00 00    	ld	hl,_bullet_count
2970  0CDF  34          	inc	(hl)
2971  0CE0  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
2972  0CE2  81          	add	a, c
2973  0CE3  DD 77 FC    	ld	(ix-4),a
2974  0CE6  3E 00       	ld	a, +((_bullet_dir) / 256)
2975  0CE8  CE 00       	adc	a,0x00
2976  0CEA  DD 77 FD    	ld	(ix-3),a
2977  0CED  E1          	pop	hl
2978  0CEE  E5          	push	hl
2979  0CEF  36 00       	ld	(hl),0x00
2980  0CF1  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2981  0CF3  81          	add	a, c
2982  0CF4  5F          	ld	e, a
2983  0CF5  3E 00       	ld	a, +((_bullet_lin0) / 256)
2984  0CF7  CE 00       	adc	a,0x00
2985  0CF9  57          	ld	d, a
2986  0CFA  3A 00 00    	ld	a,(_boss_lin)
2987  0CFD  12          	ld	(de), a
2988  0CFE  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2989  0D00  81          	add	a, c
2990  0D01  5F          	ld	e, a
2991  0D02  3E 00       	ld	a, +((_bullet_col0) / 256)
2992  0D04  CE 00       	adc	a,0x00
2993  0D06  57          	ld	d, a
2994  0D07  3A 00 00    	ld	a,(_boss_col)
2995  0D0A  12          	ld	(de), a
2996  0D0B  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2997  0D0D  81          	add	a, c
2998  0D0E  5F          	ld	e, a
2999  0D0F  3E 00       	ld	a, +((_bullet_lin) / 256)
3000  0D11  CE 00       	adc	a,0x00
3001  0D13  57          	ld	d, a
3002  0D14  3A 00 00    	ld	a,(_boss_lin)
3003  0D17  12          	ld	(de), a
3004  0D18  11 00 00    	ld	de,_bullet_frames+0
3005  0D1B  69          	ld	l,c
3006  0D1C  26 00       	ld	h,0x00
3007  0D1E  19          	add	hl, de
3008  0D1F  36 02       	ld	(hl),0x02
3009  0D21  11 00 00    	ld	de,_bullet_class+0
3010  0D24  69          	ld	l,c
3011  0D25  26 00       	ld	h,0x00
3012  0D27  19          	add	hl, de
3013  0D28  36 02       	ld	(hl),0x02
3014  0D2A  11 00 00    	ld	de,_bullet_max+0
3015  0D2D  69          	ld	l,c
3016  0D2E  26 00       	ld	h,0x00
3017  0D30  19          	add	hl, de
3018  0D31  36 08       	ld	(hl),0x08
3019  0D33  3A 00 00    	ld	a,(_boss_col)
3020  0D36  C5          	push	bc
3021  0D37  F5          	push	af
3022  0D38  33          	inc	sp
3023  0D39  3A 00 00    	ld	a,(_boss_lin)
3024  0D3C  F5          	push	af
3025  0D3D  33          	inc	sp
3026  0D3E  CD 00 00    	call	_spr_calc_index
3027  0D41  F1          	pop	af
3028  0D42  EB          	ex	de,hl
3029  0D43  C1          	pop	bc
3030  0D44  ED 53 00 00 	ld	(_index1),de
3031  0D48  DD 7E 05    	ld	a,(ix+5)
3032  0D4B  B7          	or	a, a
3033  0D4C  28 32       	jr	Z,l_game_shoot_fire_boss_00113
3034  0D4E  3A 00 00    	ld	a,(_boss_col)
3035  0D51  D6 01       	sub	a,0x01
3036  0D53  30 04       	jr	NC,l_game_shoot_fire_boss_00109
3037  0D55  2E 01       	ld	l,0x01
3038  0D57  18 58       	jr	l_game_shoot_fire_boss_00117
3039  0D59              l_game_shoot_fire_boss_00109:
3040  0D59  DD 6E FE    	ld	l,(ix-2)
3041  0D5C  DD 66 FF    	ld	h,(ix-1)
3042  0D5F  3A 00 00    	ld	a,(_boss_col)
3043  0D62  77          	ld	(hl),a
3044  0D63  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3045  0D65  81          	add	a, c
3046  0D66  5F          	ld	e, a
3047  0D67  3E 00       	ld	a, +((_bullet_tile) / 256)
3048  0D69  CE 00       	adc	a,0x00
3049  0D6B  57          	ld	d, a
3050  0D6C  DD 7E 04    	ld	a,(ix+4)
3051  0D6F  C6 02       	add	a,0x02
3052  0D71  E1          	pop	hl
3053  0D72  12          	ld	(de),a
3054  0D73  E5          	push	hl
3055  0D74  36 01       	ld	(hl),0x01
3056  0D76  06 00       	ld	b,0x00
3057  0D78  21 00 00    	ld	hl,_bullet_colint
3058  0D7B  09          	add	hl, bc
3059  0D7C  36 02       	ld	(hl),0x02
3060  0D7E  18 2F       	jr	l_game_shoot_fire_boss_00116
3061  0D80              l_game_shoot_fire_boss_00113:
3062  0D80  3E 1D       	ld	a,0x1d
3063  0D82  21 00 00    	ld	hl,_boss_col
3064  0D85  96          	sub	a, (hl)
3065  0D86  30 04       	jr	NC,l_game_shoot_fire_boss_00111
3066  0D88  2E 01       	ld	l,0x01
3067  0D8A  18 25       	jr	l_game_shoot_fire_boss_00117
3068  0D8C              l_game_shoot_fire_boss_00111:
3069  0D8C  DD 6E FE    	ld	l,(ix-2)
3070  0D8F  DD 66 FF    	ld	h,(ix-1)
3071  0D92  3A 00 00    	ld	a,(_boss_col)
3072  0D95  77          	ld	(hl),a
3073  0D96  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3074  0D98  81          	add	a, c
3075  0D99  5F          	ld	e, a
3076  0D9A  3E 00       	ld	a, +((_bullet_tile) / 256)
3077  0D9C  CE 00       	adc	a,0x00
3078  0D9E  57          	ld	d, a
3079  0D9F  DD 7E 04    	ld	a,(ix+4)
3080  0DA2  E1          	pop	hl
3081  0DA3  12          	ld	(de),a
3082  0DA4  E5          	push	hl
3083  0DA5  36 FF       	ld	(hl),0xff
3084  0DA7  06 00       	ld	b,0x00
3085  0DA9  21 00 00    	ld	hl,_bullet_colint
3086  0DAC  09          	add	hl, bc
3087  0DAD  36 FF       	ld	(hl),0xff
3088  0DAF              l_game_shoot_fire_boss_00116:
3089  0DAF  2E 00       	ld	l,0x00
3090  0DB1              l_game_shoot_fire_boss_00117:
3091  0DB1  DD F9       	ld	sp, ix
3092  0DB3  DD E1       	pop	ix
3093  0DB5  C9          	ret
3094  0DB6              	SECTION code_compiler
3095  0DB6              ;	---------------------------------
3096  0DB6              ; Function game_obj_set
3097  0DB6              ; ---------------------------------
3098  0DB6              _game_obj_set:
3099  0DB6  3A 00 00    	ld	a,(_scr_curr)
3100  0DB9  EB          	ex	de,hl
3101  0DBA  D6 08       	sub	a,0x08
3102  0DBC  30 19       	jr	NC,l_game_obj_set_00102
3103  0DBE  21 00 00    	ld	hl,_scr_obj0
3104  0DC1  19          	add	hl,de
3105  0DC2  5E          	ld	e,(hl)
3106  0DC3  3A 00 00    	ld	a,(_scr_curr)
3107  0DC6  3C          	inc	a
3108  0DC7  16 01       	ld	d,0x01
3109  0DC9  4D          	ld	c,l
3110  0DCA  44          	ld	b,h
3111  0DCB  18 02       	jr	l_game_obj_set_00111
3112  0DCD              l_game_obj_set_00110:
3113  0DCD  CB 22       	sla	d
3114  0DCF              l_game_obj_set_00111:
3115  0DCF  3D          	dec	a
3116  0DD0  20 FB       	jr	NZ,l_game_obj_set_00110
3117  0DD2  7B          	ld	a, e
3118  0DD3  B2          	or	a, d
3119  0DD4  02          	ld	(bc), a
3120  0DD5  18 17       	jr	l_game_obj_set_00104
3121  0DD7              l_game_obj_set_00102:
3122  0DD7  3A 00 00    	ld	a,(_scr_curr)
3123  0DDA  C6 F8       	add	a,0xf8
3124  0DDC  47          	ld	b, a
3125  0DDD  21 00 00    	ld	hl,_scr_obj1
3126  0DE0  19          	add	hl, de
3127  0DE1  4E          	ld	c, (hl)
3128  0DE2  1E 01       	ld	e,0x01
3129  0DE4  04          	inc	b
3130  0DE5  18 02       	jr	l_game_obj_set_00113
3131  0DE7              l_game_obj_set_00112:
3132  0DE7  CB 23       	sla	e
3133  0DE9              l_game_obj_set_00113:
3134  0DE9  10 FC       	djnz	l_game_obj_set_00112
3135  0DEB  79          	ld	a, c
3136  0DEC  B3          	or	a, e
3137  0DED  77          	ld	(hl), a
3138  0DEE              l_game_obj_set_00104:
3139  0DEE  C9          	ret
3140  0DEF              	SECTION code_compiler
3141  0DEF              ;	---------------------------------
3142  0DEF              ; Function game_obj_chk
3143  0DEF              ; ---------------------------------
3144  0DEF              _game_obj_chk:
3145  0DEF  3A 00 00    	ld	a,(_scr_curr)
3146  0DF2  EB          	ex	de,hl
3147  0DF3  D6 08       	sub	a,0x08
3148  0DF5  30 17       	jr	NC,l_game_obj_chk_00102
3149  0DF7  21 00 00    	ld	hl,_scr_obj0
3150  0DFA  19          	add	hl, de
3151  0DFB  4E          	ld	c, (hl)
3152  0DFC  21 00 00    	ld	hl,_scr_curr
3153  0DFF  46          	ld	b, (hl)
3154  0E00  1E 01       	ld	e,0x01
3155  0E02  04          	inc	b
3156  0E03  18 02       	jr	l_game_obj_chk_00111
3157  0E05              l_game_obj_chk_00110:
3158  0E05  CB 23       	sla	e
3159  0E07              l_game_obj_chk_00111:
3160  0E07  10 FC       	djnz	l_game_obj_chk_00110
3161  0E09  79          	ld	a, c
3162  0E0A  A3          	and	a, e
3163  0E0B  6F          	ld	l, a
3164  0E0C  18 17       	jr	l_game_obj_chk_00104
3165  0E0E              l_game_obj_chk_00102:
3166  0E0E  3A 00 00    	ld	a,(_scr_curr)
3167  0E11  C6 F8       	add	a,0xf8
3168  0E13  47          	ld	b, a
3169  0E14  21 00 00    	ld	hl,_scr_obj1
3170  0E17  19          	add	hl, de
3171  0E18  4E          	ld	c, (hl)
3172  0E19  1E 01       	ld	e,0x01
3173  0E1B  04          	inc	b
3174  0E1C  18 02       	jr	l_game_obj_chk_00113
3175  0E1E              l_game_obj_chk_00112:
3176  0E1E  CB 23       	sla	e
3177  0E20              l_game_obj_chk_00113:
3178  0E20  10 FC       	djnz	l_game_obj_chk_00112
3179  0E22  79          	ld	a, c
3180  0E23  A3          	and	a, e
3181  0E24  6F          	ld	l, a
3182  0E25              l_game_obj_chk_00104:
3183  0E25  C9          	ret
3184  0E26              	SECTION code_compiler
3185  0E26              ;	---------------------------------
3186  0E26              ; Function game_obj_clear
3187  0E26              ; ---------------------------------
3188  0E26              _game_obj_clear:
3189  0E26  21 00 00    	ld	hl,_tmp
3190  0E29  36 00       	ld	(hl),0x00
3191  0E2B              l_game_obj_clear_00105:
3192  0E2B  2A 00 00    	ld	hl,(_tmp)
3193  0E2E  26 00       	ld	h,0x00
3194  0E30  01 00 00    	ld	bc,_scr_obj0
3195  0E33  09          	add	hl,bc
3196  0E34  AF          	xor	a,a
3197  0E35  77          	ld	(hl),a
3198  0E36  2A 00 00    	ld	hl,(_tmp)
3199  0E39  26 00       	ld	h,0x00
3200  0E3B  01 00 00    	ld	bc,_scr_obj1
3201  0E3E  09          	add	hl,bc
3202  0E3F  AF          	xor	a,a
3203  0E40  77          	ld	(hl),a
3204  0E41  21 00 00    	ld	hl,_tmp
3205  0E44  7E          	ld	a,(hl)
3206  0E45  3C          	inc	a
3207  0E46  77          	ld	(hl),a
3208  0E47  D6 A0       	sub	a,0xa0
3209  0E49  38 E0       	jr	C,l_game_obj_clear_00105
3210  0E4B  3A 00 00    	ld	a,(_game_god_mode)
3211  0E4E  B7          	or	a, a
3212  0E4F  28 07       	jr	Z,l_game_obj_clear_00103
3213  0E51  21 00 00    	ld	hl,_tmp
3214  0E54  36 01       	ld	(hl),0x01
3215  0E56  18 05       	jr	l_game_obj_clear_00104
3216  0E58              l_game_obj_clear_00103:
3217  0E58  21 00 00    	ld	hl,_tmp
3218  0E5B  36 00       	ld	(hl),0x00
3219  0E5D              l_game_obj_clear_00104:
3220  0E5D  3A 00 00    	ld	a,(_tmp)
3221  0E60  32 00 00    	ld	(_player_keys),a
3222  0E63  32 01 00    	ld	((_player_keys + 0x0001)),a
3223  0E66  3A 00 00    	ld	a,(_tmp)
3224  0E69  32 02 00    	ld	((_player_keys + 0x0002)),a
3225  0E6C  32 03 00    	ld	((_player_keys + 0x0003)),a
3226  0E6F  C9          	ret
3227  0E70              	SECTION code_compiler
3228  0E70              ;	---------------------------------
3229  0E70              ; Function game_boss_clear
3230  0E70              ; ---------------------------------
3231  0E70              _game_boss_clear:
3232  0E70  3A 00 00    	ld	a,(_game_world)
3233  0E73  B7          	or	a, a
3234  0E74  20 38       	jr	NZ,l_game_boss_clear_00108
3235  0E76  01 00 00    	ld	bc,0x0000
3236  0E79              l_game_boss_clear_00106:
3237  0E79  F3          	di
3238  0E7A  21 00 00    	ld	hl,_scr_map
3239  0E7D  09          	add	hl, bc
3240  0E7E  7E          	ld	a, (hl)
3241  0E7F  D6 37       	sub	a,0x37
3242  0E81  20 21       	jr	NZ,l_game_boss_clear_00102
3243  0E83  77          	ld	(hl),a
3244  0E84  79          	ld	a, c
3245  0E85  E6 0F       	and	a,0x0f
3246  0E87  87          	add	a, a
3247  0E88  67          	ld	h, a
3248  0E89  50          	ld	d,b
3249  0E8A  79          	ld	a,c
3250  0E8B  1E 04       	ld	e,0x04
3251  0E8D              l_game_boss_clear_00125:
3252  0E8D  CB 3A       	srl	d
3253  0E8F  1F          	rra
3254  0E90  1D          	dec	e
3255  0E91  20 FA       	jr	NZ,l_game_boss_clear_00125
3256  0E93  07          	rlca
3257  0E94  07          	rlca
3258  0E95  07          	rlca
3259  0E96  07          	rlca
3260  0E97  E6 F0       	and	a,0xf0
3261  0E99  57          	ld	d, a
3262  0E9A  C5          	push	bc
3263  0E9B  6A          	ld	l,d
3264  0E9C  E5          	push	hl
3265  0E9D  AF          	xor	a, a
3266  0E9E  F5          	push	af
3267  0E9F  33          	inc	sp
3268  0EA0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3269  0EA3  C1          	pop	bc
3270  0EA4              l_game_boss_clear_00102:
3271  0EA4  FB          	ei
3272  0EA5  03          	inc	bc
3273  0EA6  79          	ld	a, c
3274  0EA7  D6 A0       	sub	a,0xa0
3275  0EA9  78          	ld	a, b
3276  0EAA  DE 00       	sbc	a,0x00
3277  0EAC  38 CB       	jr	C,l_game_boss_clear_00106
3278  0EAE              l_game_boss_clear_00108:
3279  0EAE  C9          	ret
3280  0EAF              	SECTION code_compiler
3281  0EAF              ;	---------------------------------
3282  0EAF              ; Function game_rotate_attrib
3283  0EAF              ; ---------------------------------
3284  0EAF              _game_rotate_attrib:
3285  0EAF  01 03 00    	ld	bc,_attrib_hl + 3
3286  0EB2  0A          	ld	a, (bc)
3287  0EB3  32 00 00    	ld	(_tmp_uc),a
3288  0EB6  11 02 00    	ld	de,_attrib_hl + 2
3289  0EB9  1A          	ld	a, (de)
3290  0EBA  02          	ld	(bc), a
3291  0EBB  01 01 00    	ld	bc,_attrib_hl + 1
3292  0EBE  0A          	ld	a, (bc)
3293  0EBF  12          	ld	(de), a
3294  0EC0  3A 00 00    	ld	a,(_attrib_hl)
3295  0EC3  02          	ld	(bc), a
3296  0EC4  3A 00 00    	ld	a,(_tmp_uc)
3297  0EC7  32 00 00    	ld	(_attrib_hl),a
3298  0ECA  C9          	ret
3299  0ECB              	SECTION code_compiler
3300  0ECB              ;	---------------------------------
3301  0ECB              ; Function game_rotate_attrib_osd
3302  0ECB              ; ---------------------------------
3303  0ECB              _game_rotate_attrib_osd:
3304  0ECB  01 03 00    	ld	bc,_attrib_osd + 3
3305  0ECE  0A          	ld	a, (bc)
3306  0ECF  32 00 00    	ld	(_tmp_uc),a
3307  0ED2  11 02 00    	ld	de,_attrib_osd + 2
3308  0ED5  1A          	ld	a, (de)
3309  0ED6  02          	ld	(bc), a
3310  0ED7  01 01 00    	ld	bc,_attrib_osd + 1
3311  0EDA  0A          	ld	a, (bc)
3312  0EDB  12          	ld	(de), a
3313  0EDC  3A 00 00    	ld	a,(_attrib_osd)
3314  0EDF  02          	ld	(bc), a
3315  0EE0  3A 00 00    	ld	a,(_tmp_uc)
3316  0EE3  32 00 00    	ld	(_attrib_osd),a
3317  0EE6  C9          	ret
3318  0EE7              	SECTION code_compiler
3319  0EE7              ;	---------------------------------
3320  0EE7              ; Function game_attribs
3321  0EE7              ; ---------------------------------
3322  0EE7              _game_attribs:
3323  0EE7  01 00 00    	ld	bc,_attrib+0
3324  0EEA  21 00 00    	ld	hl,_map_paper
3325  0EED  7E          	ld	a, (hl)
3326  0EEE  F6 47       	or	a,0x47
3327  0EF0  02          	ld	(bc), a
3328  0EF1  59          	ld	e, c
3329  0EF2  50          	ld	d, b
3330  0EF3  13          	inc	de
3331  0EF4  7E          	ld	a, (hl)
3332  0EF5  F6 45       	or	a,0x45
3333  0EF7  12          	ld	(de), a
3334  0EF8  7E          	ld	a, (hl)
3335  0EF9  F6 45       	or	a,0x45
3336  0EFB  32 02 00    	ld	((_attrib + 0x0002)),a
3337  0EFE  03          	inc	bc
3338  0EFF  03          	inc	bc
3339  0F00  03          	inc	bc
3340  0F01  21 00 00    	ld	hl,_map_paper
3341  0F04  7E          	ld	a, (hl)
3342  0F05  F6 41       	or	a,0x41
3343  0F07  02          	ld	(bc), a
3344  0F08  01 00 00    	ld	bc,_attrib_hl+0
3345  0F0B  7E          	ld	a, (hl)
3346  0F0C  F6 41       	or	a,0x41
3347  0F0E  02          	ld	(bc), a
3348  0F0F  59          	ld	e, c
3349  0F10  50          	ld	d, b
3350  0F11  13          	inc	de
3351  0F12  7E          	ld	a, (hl)
3352  0F13  F6 41       	or	a,0x41
3353  0F15  12          	ld	(de), a
3354  0F16  7E          	ld	a, (hl)
3355  0F17  F6 43       	or	a,0x43
3356  0F19  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3357  0F1C  03          	inc	bc
3358  0F1D  03          	inc	bc
3359  0F1E  03          	inc	bc
3360  0F1F  21 00 00    	ld	hl,_map_paper
3361  0F22  7E          	ld	a, (hl)
3362  0F23  F6 45       	or	a,0x45
3363  0F25  02          	ld	(bc), a
3364  0F26  01 00 00    	ld	bc,_attrib_osd+0
3365  0F29  7E          	ld	a, (hl)
3366  0F2A  F6 45       	or	a,0x45
3367  0F2C  02          	ld	(bc), a
3368  0F2D  59          	ld	e, c
3369  0F2E  50          	ld	d, b
3370  0F2F  13          	inc	de
3371  0F30  7E          	ld	a, (hl)
3372  0F31  F6 47       	or	a,0x47
3373  0F33  12          	ld	(de), a
3374  0F34  7E          	ld	a, (hl)
3375  0F35  F6 47       	or	a,0x47
3376  0F37  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3377  0F3A  03          	inc	bc
3378  0F3B  03          	inc	bc
3379  0F3C  03          	inc	bc
3380  0F3D  3A 00 00    	ld	a,(_map_paper)
3381  0F40  F6 45       	or	a,0x45
3382  0F42  02          	ld	(bc), a
3383  0F43  C9          	ret
3384  0F44              	SECTION code_compiler
3385  0F44              ;	---------------------------------
3386  0F44              ; Function game_match_back
3387  0F44              ; ---------------------------------
3388  0F44              _game_match_back:
3389  0F44  CD 00 00    	call	___sdcc_enter_ix
3390  0F47  3E 01       	ld	a,0x01
3391  0F49  DD BE 04    	cp	a,(ix+4)
3392  0F4C  3E 00       	ld	a,0x00
3393  0F4E  DD 9E 05    	sbc	a,(ix+5)
3394  0F51  30 1B       	jr	NC,l_game_match_back_00102
3395  0F53  DD 7E 04    	ld	a,(ix+4)
3396  0F56  E6 0F       	and	a,0x0f
3397  0F58  28 14       	jr	Z,l_game_match_back_00102
3398  0F5A  DD 4E 04    	ld	c,(ix+4)
3399  0F5D  DD 46 05    	ld	b,(ix+5)
3400  0F60  0B          	dec	bc
3401  0F61  21 00 00    	ld	hl,_scr_map
3402  0F64  09          	add	hl, bc
3403  0F65  7E          	ld	a, (hl)
3404  0F66  D6 1D       	sub	a,0x1d
3405  0F68  20 04       	jr	NZ,l_game_match_back_00102
3406  0F6A  2E 1D       	ld	l,0x1d
3407  0F6C  18 02       	jr	l_game_match_back_00105
3408  0F6E              l_game_match_back_00102:
3409  0F6E  2E 00       	ld	l,0x00
3410  0F70              l_game_match_back_00105:
3411  0F70  DD E1       	pop	ix
3412  0F72  C9          	ret
3413  0F73              	SECTION code_compiler
3414  0F73              ;	---------------------------------
3415  0F73              ; Function menu_main
3416  0F73              ; ---------------------------------
3417  0F73              _menu_main:
3418  0F73  CD 00 00    	call	___sdcc_enter_ix
3419  0F76  3B          	dec	sp
3420  0F77  DD 36 FF 01 	ld	(ix-1),0x01
3421  0F7B  21 00 00    	ld	hl,_map_paper
3422  0F7E  36 00       	ld	(hl),0x00
3423  0F80  0E 01       	ld	c,0x01
3424  0F82  C5          	push	bc
3425  0F83  21 0A 16    	ld	hl,0x160a
3426  0F86  E5          	push	hl
3427  0F87  3E 07       	ld	a,0x07
3428  0F89  F5          	push	af
3429  0F8A  33          	inc	sp
3430  0F8B  CD 96 10    	call	_menu_main_print
3431  0F8E  F1          	pop	af
3432  0F8F  33          	inc	sp
3433  0F90  C1          	pop	bc
3434  0F91              l_menu_main_00112:
3435  0F91  DD 7E FF    	ld	a,(ix-1)
3436  0F94  B7          	or	a, a
3437  0F95  CA 92 10    	jp	Z, l_menu_main_00115
3438  0F98  C5          	push	bc
3439  0F99  21 28 00    	ld	hl,0x0028
3440  0F9C  CD 00 00    	call	_z80_delay_ms_fastcall
3441  0F9F  CD 00 00    	call	_in_inkey
3442  0FA2  E5          	push	hl
3443  0FA3  CD AF 0E    	call	_game_rotate_attrib
3444  0FA6  D1          	pop	de
3445  0FA7  C1          	pop	bc
3446  0FA8  79          	ld	a, c
3447  0FA9  C6 06       	add	a,0x06
3448  0FAB  47          	ld	b,a
3449  0FAC  07          	rlca
3450  0FAD  07          	rlca
3451  0FAE  07          	rlca
3452  0FAF  E6 F8       	and	a,0xf8
3453  0FB1  C6 08       	add	a,0x08
3454  0FB3  57          	ld	d, a
3455  0FB4  C5          	push	bc
3456  0FB5  D5          	push	de
3457  0FB6  D5          	push	de
3458  0FB7  33          	inc	sp
3459  0FB8  21 0B 16    	ld	hl,0x160b
3460  0FBB  E5          	push	hl
3461  0FBC  CD E1 08    	call	_game_paint_attrib_lin_h
3462  0FBF  F1          	pop	af
3463  0FC0  33          	inc	sp
3464  0FC1  D1          	pop	de
3465  0FC2  C1          	pop	bc
3466  0FC3  7B          	ld	a, e
3467  0FC4  C6 D0       	add	a,0xd0
3468  0FC6  5F          	ld	e, a
3469  0FC7  3E 06       	ld	a,0x06
3470  0FC9  93          	sub	a, e
3471  0FCA  38 C5       	jr	C,l_menu_main_00112
3472  0FCC  D5          	push	de
3473  0FCD  16 00       	ld	d,0x00
3474  0FCF  21 D7 0F    	ld	hl,l_menu_main_00133
3475  0FD2  19          	add	hl, de
3476  0FD3  19          	add	hl, de
3477  0FD4  19          	add	hl, de
3478  0FD5  D1          	pop	de
3479  0FD6  E9          	jp	(hl)
3480  0FD7              l_menu_main_00133:
3481  0FD7  C3 84 10    	jp	l_menu_main_00110
3482  0FDA  C3 EC 0F    	jp	l_menu_main_00101
3483  0FDD  C3 01 10    	jp	l_menu_main_00102
3484  0FE0  C3 17 10    	jp	l_menu_main_00103
3485  0FE3  C3 2D 10    	jp	l_menu_main_00104
3486  0FE6  C3 43 10    	jp	l_menu_main_00105
3487  0FE9  C3 5E 10    	jp	l_menu_main_00106
3488  0FEC              l_menu_main_00101:
3489  0FEC  21 00 00    	ld	hl,_in_stick_sinclair1
3490  0FEF  22 00 00    	ld	(_joyfunc1),hl
3491  0FF2  D5          	push	de
3492  0FF3  33          	inc	sp
3493  0FF4  21 0A 16    	ld	hl,0x160a
3494  0FF7  E5          	push	hl
3495  0FF8  CD BA 08    	call	_game_paint_attrib_lin
3496  0FFB  F1          	pop	af
3497  0FFC  33          	inc	sp
3498  0FFD  0E 01       	ld	c,0x01
3499  0FFF  18 90       	jr	l_menu_main_00112
3500  1001              l_menu_main_00102:
3501  1001  21 00 00    	ld	hl,_in_stick_keyboard
3502  1004  22 00 00    	ld	(_joyfunc1),hl
3503  1007  D5          	push	de
3504  1008  33          	inc	sp
3505  1009  21 0A 16    	ld	hl,0x160a
3506  100C  E5          	push	hl
3507  100D  CD BA 08    	call	_game_paint_attrib_lin
3508  1010  F1          	pop	af
3509  1011  33          	inc	sp
3510  1012  0E 02       	ld	c,0x02
3511  1014  C3 91 0F    	jp	l_menu_main_00112
3512  1017              l_menu_main_00103:
3513  1017  21 00 00    	ld	hl,_in_stick_kempston
3514  101A  22 00 00    	ld	(_joyfunc1),hl
3515  101D  D5          	push	de
3516  101E  33          	inc	sp
3517  101F  21 0A 16    	ld	hl,0x160a
3518  1022  E5          	push	hl
3519  1023  CD BA 08    	call	_game_paint_attrib_lin
3520  1026  F1          	pop	af
3521  1027  33          	inc	sp
3522  1028  0E 03       	ld	c,0x03
3523  102A  C3 91 0F    	jp	l_menu_main_00112
3524  102D              l_menu_main_00104:
3525  102D  21 00 00    	ld	hl,_in_stick_cursor
3526  1030  22 00 00    	ld	(_joyfunc1),hl
3527  1033  D5          	push	de
3528  1034  33          	inc	sp
3529  1035  21 0A 16    	ld	hl,0x160a
3530  1038  E5          	push	hl
3531  1039  CD BA 08    	call	_game_paint_attrib_lin
3532  103C  F1          	pop	af
3533  103D  33          	inc	sp
3534  103E  0E 04       	ld	c,0x04
3535  1040  C3 91 0F    	jp	l_menu_main_00112
3536  1043              l_menu_main_00105:
3537  1043  D5          	push	de
3538  1044  CD 74 12    	call	_menu_redefine
3539  1047  D1          	pop	de
3540  1048  21 00 00    	ld	hl,_in_stick_keyboard
3541  104B  22 00 00    	ld	(_joyfunc1),hl
3542  104E  D5          	push	de
3543  104F  33          	inc	sp
3544  1050  21 0A 16    	ld	hl,0x160a
3545  1053  E5          	push	hl
3546  1054  CD BA 08    	call	_game_paint_attrib_lin
3547  1057  F1          	pop	af
3548  1058  33          	inc	sp
3549  1059  0E 02       	ld	c,0x02
3550  105B  C3 91 0F    	jp	l_menu_main_00112
3551  105E              l_menu_main_00106:
3552  105E  21 00 00    	ld	hl,_game_2buttons
3553  1061  7E          	ld	a, (hl)
3554  1062  B7          	or	a, a
3555  1063  28 04       	jr	Z,l_menu_main_00108
3556  1065  36 00       	ld	(hl),0x00
3557  1067  18 05       	jr	l_menu_main_00109
3558  1069              l_menu_main_00108:
3559  1069  21 00 00    	ld	hl,_game_2buttons
3560  106C  36 01       	ld	(hl),0x01
3561  106E              l_menu_main_00109:
3562  106E  C5          	push	bc
3563  106F  21 0A 16    	ld	hl,0x160a
3564  1072  E5          	push	hl
3565  1073  C5          	push	bc
3566  1074  33          	inc	sp
3567  1075  CD 96 10    	call	_menu_main_print
3568  1078  F1          	pop	af
3569  1079  33          	inc	sp
3570  107A  21 28 00    	ld	hl,0x0028
3571  107D  CD 00 00    	call	_z80_delay_ms_fastcall
3572  1080  C1          	pop	bc
3573  1081  C3 91 0F    	jp	l_menu_main_00112
3574  1084              l_menu_main_00110:
3575  1084  C5          	push	bc
3576  1085  2E 00       	ld	l,0x00
3577  1087  CD 00 00    	call	_zx_cls_fastcall
3578  108A  C1          	pop	bc
3579  108B  DD 36 FF 00 	ld	(ix-1),0x00
3580  108F  C3 91 0F    	jp	l_menu_main_00112
3581  1092              l_menu_main_00115:
3582  1092  33          	inc	sp
3583  1093  DD E1       	pop	ix
3584  1095  C9          	ret
3585  1096              	SECTION code_compiler
3586  1096              ;	---------------------------------
3587  1096              ; Function menu_main_print
3588  1096              ; ---------------------------------
3589  1096              _menu_main_print:
3590  1096  CD 00 00    	call	___sdcc_enter_ix
3591  1099  76          	halt
3592  109A  2E 00       	ld	l,0x00
3593  109C  CD 00 00    	call	_zx_cls_fastcall
3594  109F  21 00 00    	ld	hl,_screen_ink
3595  10A2  36 07       	ld	(hl),0x07
3596  10A4  21 20 0B    	ld	hl,0x0b20
3597  10A7  E5          	push	hl
3598  10A8  21 00 D4    	ld	hl,0xd400
3599  10AB  E5          	push	hl
3600  10AC  CD 00 00    	call	_NIRVANAP_spriteT_callee
3601  10AF  21 20 0D    	ld	hl,0x0d20
3602  10B2  E5          	push	hl
3603  10B3  21 01 D5    	ld	hl,0xd501
3604  10B6  E5          	push	hl
3605  10B7  CD 00 00    	call	_NIRVANAP_spriteT_callee
3606  10BA  21 20 0F    	ld	hl,0x0f20
3607  10BD  E5          	push	hl
3608  10BE  21 02 D6    	ld	hl,0xd602
3609  10C1  E5          	push	hl
3610  10C2  CD 00 00    	call	_NIRVANAP_spriteT_callee
3611  10C5  21 20 11    	ld	hl,0x1120
3612  10C8  E5          	push	hl
3613  10C9  21 03 D7    	ld	hl,0xd703
3614  10CC  E5          	push	hl
3615  10CD  CD 00 00    	call	_NIRVANAP_spriteT_callee
3616  10D0  CD E7 0E    	call	_game_attribs
3617  10D3  21 76 00    	ld	hl,___str_28
3618  10D6  E5          	push	hl
3619  10D7  DD 66 05    	ld	h,(ix+5)
3620  10DA  DD 6E 04    	ld	l,(ix+4)
3621  10DD  E5          	push	hl
3622  10DE  CD 00 00    	call	_zx_print_str
3623  10E1  DD 7E 04    	ld	a,(ix+4)
3624  10E4  07          	rlca
3625  10E5  07          	rlca
3626  10E6  07          	rlca
3627  10E7  E6 F8       	and	a,0xf8
3628  10E9  C6 08       	add	a,0x08
3629  10EB  F5          	push	af
3630  10EC  33          	inc	sp
3631  10ED  DD 66 06    	ld	h,(ix+6)
3632  10F0  DD 6E 05    	ld	l,(ix+5)
3633  10F3  E5          	push	hl
3634  10F4  CD BA 08    	call	_game_paint_attrib_lin
3635  10F7  F1          	pop	af
3636  10F8  33          	inc	sp
3637  10F9  DD 34 04    	inc	(ix+4)
3638  10FC  21 81 00    	ld	hl,___str_29
3639  10FF  E5          	push	hl
3640  1100  DD 66 05    	ld	h,(ix+5)
3641  1103  DD 6E 04    	ld	l,(ix+4)
3642  1106  E5          	push	hl
3643  1107  CD 00 00    	call	_zx_print_str
3644  110A  DD 7E 04    	ld	a,(ix+4)
3645  110D  07          	rlca
3646  110E  07          	rlca
3647  110F  07          	rlca
3648  1110  E6 F8       	and	a,0xf8
3649  1112  C6 08       	add	a,0x08
3650  1114  F5          	push	af
3651  1115  33          	inc	sp
3652  1116  DD 66 06    	ld	h,(ix+6)
3653  1119  DD 6E 05    	ld	l,(ix+5)
3654  111C  E5          	push	hl
3655  111D  CD BA 08    	call	_game_paint_attrib_lin
3656  1120  F1          	pop	af
3657  1121  33          	inc	sp
3658  1122  DD 34 04    	inc	(ix+4)
3659  1125  21 8C 00    	ld	hl,___str_30
3660  1128  E5          	push	hl
3661  1129  DD 66 05    	ld	h,(ix+5)
3662  112C  DD 6E 04    	ld	l,(ix+4)
3663  112F  E5          	push	hl
3664  1130  CD 00 00    	call	_zx_print_str
3665  1133  DD 7E 04    	ld	a,(ix+4)
3666  1136  07          	rlca
3667  1137  07          	rlca
3668  1138  07          	rlca
3669  1139  E6 F8       	and	a,0xf8
3670  113B  C6 08       	add	a,0x08
3671  113D  F5          	push	af
3672  113E  33          	inc	sp
3673  113F  DD 66 06    	ld	h,(ix+6)
3674  1142  DD 6E 05    	ld	l,(ix+5)
3675  1145  E5          	push	hl
3676  1146  CD BA 08    	call	_game_paint_attrib_lin
3677  1149  F1          	pop	af
3678  114A  33          	inc	sp
3679  114B  DD 34 04    	inc	(ix+4)
3680  114E  21 97 00    	ld	hl,___str_31
3681  1151  E5          	push	hl
3682  1152  DD 66 05    	ld	h,(ix+5)
3683  1155  DD 6E 04    	ld	l,(ix+4)
3684  1158  E5          	push	hl
3685  1159  CD 00 00    	call	_zx_print_str
3686  115C  DD 7E 04    	ld	a,(ix+4)
3687  115F  07          	rlca
3688  1160  07          	rlca
3689  1161  07          	rlca
3690  1162  E6 F8       	and	a,0xf8
3691  1164  C6 08       	add	a,0x08
3692  1166  F5          	push	af
3693  1167  33          	inc	sp
3694  1168  DD 66 06    	ld	h,(ix+6)
3695  116B  DD 6E 05    	ld	l,(ix+5)
3696  116E  E5          	push	hl
3697  116F  CD BA 08    	call	_game_paint_attrib_lin
3698  1172  F1          	pop	af
3699  1173  33          	inc	sp
3700  1174  DD 34 04    	inc	(ix+4)
3701  1177  21 A0 00    	ld	hl,___str_32
3702  117A  E5          	push	hl
3703  117B  DD 66 05    	ld	h,(ix+5)
3704  117E  DD 6E 04    	ld	l,(ix+4)
3705  1181  E5          	push	hl
3706  1182  CD 00 00    	call	_zx_print_str
3707  1185  DD 7E 04    	ld	a,(ix+4)
3708  1188  07          	rlca
3709  1189  07          	rlca
3710  118A  07          	rlca
3711  118B  E6 F8       	and	a,0xf8
3712  118D  C6 08       	add	a,0x08
3713  118F  F5          	push	af
3714  1190  33          	inc	sp
3715  1191  DD 66 06    	ld	h,(ix+6)
3716  1194  DD 6E 05    	ld	l,(ix+5)
3717  1197  E5          	push	hl
3718  1198  CD BA 08    	call	_game_paint_attrib_lin
3719  119B  F1          	pop	af
3720  119C  33          	inc	sp
3721  119D  DD 34 04    	inc	(ix+4)
3722  11A0  21 A9 00    	ld	hl,___str_33
3723  11A3  E5          	push	hl
3724  11A4  DD 66 05    	ld	h,(ix+5)
3725  11A7  DD 6E 04    	ld	l,(ix+4)
3726  11AA  E5          	push	hl
3727  11AB  CD 00 00    	call	_zx_print_str
3728  11AE  DD 7E 05    	ld	a,(ix+5)
3729  11B1  C6 0A       	add	a,0x0a
3730  11B3  47          	ld	b, a
3731  11B4  3A 00 00    	ld	a,(_game_2buttons)
3732  11B7  B7          	or	a, a
3733  11B8  28 0D       	jr	Z,l_menu_main_print_00102
3734  11BA  21 B3 00    	ld	hl,___str_34
3735  11BD  E5          	push	hl
3736  11BE  DD 4E 04    	ld	c,(ix+4)
3737  11C1  C5          	push	bc
3738  11C2  CD 00 00    	call	_zx_print_str
3739  11C5  18 0B       	jr	l_menu_main_print_00103
3740  11C7              l_menu_main_print_00102:
3741  11C7  21 B6 00    	ld	hl,___str_35
3742  11CA  E5          	push	hl
3743  11CB  DD 4E 04    	ld	c,(ix+4)
3744  11CE  C5          	push	bc
3745  11CF  CD 00 00    	call	_zx_print_str
3746  11D2              l_menu_main_print_00103:
3747  11D2  DD 7E 04    	ld	a,(ix+4)
3748  11D5  07          	rlca
3749  11D6  07          	rlca
3750  11D7  07          	rlca
3751  11D8  E6 F8       	and	a,0xf8
3752  11DA  C6 08       	add	a,0x08
3753  11DC  F5          	push	af
3754  11DD  33          	inc	sp
3755  11DE  DD 66 06    	ld	h,(ix+6)
3756  11E1  DD 6E 05    	ld	l,(ix+5)
3757  11E4  E5          	push	hl
3758  11E5  CD BA 08    	call	_game_paint_attrib_lin
3759  11E8  F1          	pop	af
3760  11E9  33          	inc	sp
3761  11EA  DD 34 04    	inc	(ix+4)
3762  11ED  DD 34 04    	inc	(ix+4)
3763  11F0  21 B9 00    	ld	hl,___str_36
3764  11F3  E5          	push	hl
3765  11F4  DD 66 05    	ld	h,(ix+5)
3766  11F7  DD 6E 04    	ld	l,(ix+4)
3767  11FA  E5          	push	hl
3768  11FB  CD 00 00    	call	_zx_print_str
3769  11FE  DD 7E 04    	ld	a,(ix+4)
3770  1201  07          	rlca
3771  1202  07          	rlca
3772  1203  07          	rlca
3773  1204  E6 F8       	and	a,0xf8
3774  1206  C6 08       	add	a,0x08
3775  1208  F5          	push	af
3776  1209  33          	inc	sp
3777  120A  DD 66 06    	ld	h,(ix+6)
3778  120D  DD 6E 05    	ld	l,(ix+5)
3779  1210  E5          	push	hl
3780  1211  CD BA 08    	call	_game_paint_attrib_lin
3781  1214  F1          	pop	af
3782  1215  33          	inc	sp
3783  1216  DD 34 04    	inc	(ix+4)
3784  1219  DD 34 04    	inc	(ix+4)
3785  121C  DD 34 04    	inc	(ix+4)
3786  121F  DD 34 04    	inc	(ix+4)
3787  1222  21 C1 00    	ld	hl,___str_37
3788  1225  E5          	push	hl
3789  1226  26 02       	ld	h,0x02
3790  1228  DD 6E 04    	ld	l,(ix+4)
3791  122B  E5          	push	hl
3792  122C  CD 00 00    	call	_zx_print_str
3793  122F  DD 7E 04    	ld	a,(ix+4)
3794  1232  07          	rlca
3795  1233  07          	rlca
3796  1234  07          	rlca
3797  1235  E6 F8       	and	a,0xf8
3798  1237  C6 08       	add	a,0x08
3799  1239  F5          	push	af
3800  123A  33          	inc	sp
3801  123B  21 00 1F    	ld	hl,0x1f00
3802  123E  E5          	push	hl
3803  123F  CD E1 08    	call	_game_paint_attrib_lin_h
3804  1242  F1          	pop	af
3805  1243  33          	inc	sp
3806  1244  DD 34 04    	inc	(ix+4)
3807  1247  DD 34 04    	inc	(ix+4)
3808  124A  21 00 00    	ld	hl,_screen_ink
3809  124D  36 05       	ld	(hl),0x05
3810  124F  21 DF 00    	ld	hl,___str_38
3811  1252  E5          	push	hl
3812  1253  26 08       	ld	h,0x08
3813  1255  DD 6E 04    	ld	l,(ix+4)
3814  1258  E5          	push	hl
3815  1259  CD 00 00    	call	_zx_print_str
3816  125C  DD 7E 04    	ld	a,(ix+4)
3817  125F  07          	rlca
3818  1260  07          	rlca
3819  1261  07          	rlca
3820  1262  E6 F8       	and	a,0xf8
3821  1264  C6 08       	add	a,0x08
3822  1266  F5          	push	af
3823  1267  33          	inc	sp
3824  1268  21 00 1F    	ld	hl,0x1f00
3825  126B  E5          	push	hl
3826  126C  CD BA 08    	call	_game_paint_attrib_lin
3827  126F  F1          	pop	af
3828  1270  33          	inc	sp
3829  1271  DD E1       	pop	ix
3830  1273  C9          	ret
3831  1274              	SECTION rodata_compiler
3832  0076              ___str_28:
3833  0076  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
3834  0080  00          	DEFB 0x00
3835  0081              	SECTION rodata_compiler
3836  0081              ___str_29:
3837  0081  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
3838  008B  00          	DEFB 0x00
3839  008C              	SECTION rodata_compiler
3840  008C              ___str_30:
3841  008C  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
3842  0096  00          	DEFB 0x00
3843  0097              	SECTION rodata_compiler
3844  0097              ___str_31:
3845  0097  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
3846  009F  00          	DEFB 0x00
3847  00A0              	SECTION rodata_compiler
3848  00A0              ___str_32:
3849  00A0  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
3850  00A8  00          	DEFB 0x00
3851  00A9              	SECTION rodata_compiler
3852  00A9              ___str_33:
3853  00A9  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
3854  00B2  00          	DEFB 0x00
3855  00B3              	SECTION rodata_compiler
3856  00B3              ___str_34:
3857  00B3  32 42       	DEFM "2B"
3858  00B5  00          	DEFB 0x00
3859  00B6              	SECTION rodata_compiler
3860  00B6              ___str_35:
3861  00B6  31 42       	DEFM "1B"
3862  00B8  00          	DEFB 0x00
3863  00B9              	SECTION rodata_compiler
3864  00B9              ___str_36:
3865  00B9  30 20 53 54 41 52 54 
                        	DEFM "0 START"
3866  00C0  00          	DEFB 0x00
3867  00C1              	SECTION rodata_compiler
3868  00C1              ___str_37:
3869  00C1  43 47 4F 4E 5A 41 4C 45 5A 2F 41 41 4E 4F 4E 2F 53 39 2F 42 45 49 4B 45 52 2F 41 42 55 
                        	DEFM "CGONZALEZ/AANON/S9/BEIKER/ABU"
3870  00DE  00          	DEFB 0x00
3871  00DF              	SECTION rodata_compiler
3872  00DF              ___str_38:
3873  00DF  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
3874  00EE  00          	DEFB 0x00
3875  00EF              	SECTION code_compiler
3876  1274              ;	---------------------------------
3877  1274              ; Function menu_redefine
3878  1274              ; ---------------------------------
3879  1274              _menu_redefine:
3880  1274  76          	halt
3881  1275  2E 00       	ld	l,0x00
3882  1277  CD 00 00    	call	_zx_cls_fastcall
3883  127A  21 00 00    	ld	hl,_tmp0
3884  127D  36 08       	ld	(hl),0x08
3885  127F              l_menu_redefine_00105:
3886  127F  3A 00 00    	ld	a,(_tmp0)
3887  1282  07          	rlca
3888  1283  07          	rlca
3889  1284  07          	rlca
3890  1285  E6 F8       	and	a,0xf8
3891  1287  C6 08       	add	a,0x08
3892  1289  F5          	push	af
3893  128A  33          	inc	sp
3894  128B  21 0A 10    	ld	hl,0x100a
3895  128E  E5          	push	hl
3896  128F  CD BA 08    	call	_game_paint_attrib_lin
3897  1292  F1          	pop	af
3898  1293  33          	inc	sp
3899  1294  21 00 00    	ld	hl,_tmp0
3900  1297  7E          	ld	a,(hl)
3901  1298  3C          	inc	a
3902  1299  77          	ld	(hl),a
3903  129A  D6 0E       	sub	a,0x0e
3904  129C  38 E1       	jr	C,l_menu_redefine_00105
3905  129E  21 EF 00    	ld	hl,___str_39
3906  12A1  E5          	push	hl
3907  12A2  21 08 0A    	ld	hl,0x0a08
3908  12A5  E5          	push	hl
3909  12A6  CD 00 00    	call	_zx_print_str
3910  12A9  CD 32 13    	call	_menu_define_key
3911  12AC  22 08 00    	ld	(_k1 + 0x0008),hl
3912  12AF  21 F2 00    	ld	hl,___str_40
3913  12B2  E5          	push	hl
3914  12B3  21 09 0A    	ld	hl,0x0a09
3915  12B6  E5          	push	hl
3916  12B7  CD 00 00    	call	_zx_print_str
3917  12BA  CD 32 13    	call	_menu_define_key
3918  12BD  22 06 00    	ld	(_k1 + 0x0006),hl
3919  12C0  21 F7 00    	ld	hl,___str_41
3920  12C3  E5          	push	hl
3921  12C4  21 0A 0A    	ld	hl,0x0a0a
3922  12C7  E5          	push	hl
3923  12C8  CD 00 00    	call	_zx_print_str
3924  12CB  CD 32 13    	call	_menu_define_key
3925  12CE  22 04 00    	ld	(_k1 + 0x0004),hl
3926  12D1  21 FC 00    	ld	hl,___str_42
3927  12D4  E5          	push	hl
3928  12D5  21 0B 0A    	ld	hl,0x0a0b
3929  12D8  E5          	push	hl
3930  12D9  CD 00 00    	call	_zx_print_str
3931  12DC  CD 32 13    	call	_menu_define_key
3932  12DF  22 02 00    	ld	(_k1 + 0x0002),hl
3933  12E2  3A 00 00    	ld	a,(_game_2buttons)
3934  12E5  B7          	or	a, a
3935  12E6  28 24       	jr	Z,l_menu_redefine_00103
3936  12E8  21 02 01    	ld	hl,___str_43
3937  12EB  E5          	push	hl
3938  12EC  21 0C 0A    	ld	hl,0x0a0c
3939  12EF  E5          	push	hl
3940  12F0  CD 00 00    	call	_zx_print_str
3941  12F3  CD 32 13    	call	_menu_define_key
3942  12F6  22 00 00    	ld	(_k2),hl
3943  12F9  21 07 01    	ld	hl,___str_44
3944  12FC  E5          	push	hl
3945  12FD  21 0D 0A    	ld	hl,0x0a0d
3946  1300  E5          	push	hl
3947  1301  CD 00 00    	call	_zx_print_str
3948  1304  CD 32 13    	call	_menu_define_key
3949  1307  22 00 00    	ld	(_k1),hl
3950  130A  18 11       	jr	l_menu_redefine_00104
3951  130C              l_menu_redefine_00103:
3952  130C  21 02 01    	ld	hl,___str_43
3953  130F  E5          	push	hl
3954  1310  21 0C 0A    	ld	hl,0x0a0c
3955  1313  E5          	push	hl
3956  1314  CD 00 00    	call	_zx_print_str
3957  1317  CD 32 13    	call	_menu_define_key
3958  131A  22 00 00    	ld	(_k1),hl
3959  131D              l_menu_redefine_00104:
3960  131D  21 0C 20    	ld	hl,0x200c
3961  1320  E5          	push	hl
3962  1321  CD 00 00    	call	_game_fill_row
3963  1324  21 0A 14    	ld	hl,0x140a
3964  1327  E5          	push	hl
3965  1328  3E 07       	ld	a,0x07
3966  132A  F5          	push	af
3967  132B  33          	inc	sp
3968  132C  CD 96 10    	call	_menu_main_print
3969  132F  F1          	pop	af
3970  1330  33          	inc	sp
3971  1331  C9          	ret
3972  1332              	SECTION rodata_compiler
3973  00EF              ___str_39:
3974  00EF  55 50       	DEFM "UP"
3975  00F1  00          	DEFB 0x00
3976  00F2              	SECTION rodata_compiler
3977  00F2              ___str_40:
3978  00F2  44 4F 57 4E 	DEFM "DOWN"
3979  00F6  00          	DEFB 0x00
3980  00F7              	SECTION rodata_compiler
3981  00F7              ___str_41:
3982  00F7  4C 45 46 54 	DEFM "LEFT"
3983  00FB  00          	DEFB 0x00
3984  00FC              	SECTION rodata_compiler
3985  00FC              ___str_42:
3986  00FC  52 49 47 48 54 
                        	DEFM "RIGHT"
3987  0101  00          	DEFB 0x00
3988  0102              	SECTION rodata_compiler
3989  0102              ___str_43:
3990  0102  46 49 52 45 	DEFM "FIRE"
3991  0106  00          	DEFB 0x00
3992  0107              	SECTION rodata_compiler
3993  0107              ___str_44:
3994  0107  4A 55 4D 50 	DEFM "JUMP"
3995  010B  00          	DEFB 0x00
3996  010C              	SECTION code_compiler
3997  1332              ;	---------------------------------
3998  1332              ; Function menu_define_key
3999  1332              ; ---------------------------------
4000  1332              _menu_define_key:
4001  1332              l_menu_define_key_00107:
4002  1332  CD 00 00    	call	_in_wait_key
4003  1335  CD 00 00    	call	_in_inkey
4004  1338  7D          	ld	a,l
4005  1339  32 00 00    	ld	(_tmp1),a
4006  133C  CD 00 00    	call	_in_wait_nokey
4007  133F  21 00 00    	ld	hl,_tmp0
4008  1342  36 00       	ld	(hl),0x00
4009  1344              l_menu_define_key_00103:
4010  1344  21 00 00    	ld	hl,_tmp0
4011  1347  7E          	ld	a, (hl)
4012  1348  D6 26       	sub	a,0x26
4013  134A  30 E6       	jr	NC,l_menu_define_key_00107
4014  134C  4E          	ld	c,(hl)
4015  134D  06 00       	ld	b,0x00
4016  134F  21 00 00    	ld	hl,_key_map
4017  1352  09          	add	hl,bc
4018  1353  4E          	ld	c, (hl)
4019  1354  3A 00 00    	ld	a,(_tmp1)
4020  1357  91          	sub	a, c
4021  1358  20 10       	jr	NZ,l_menu_define_key_00102
4022  135A  01 00 00    	ld	bc,_scan_map+0
4023  135D  2A 00 00    	ld	hl,(_tmp0)
4024  1360  26 00       	ld	h,0x00
4025  1362  29          	add	hl, hl
4026  1363  09          	add	hl, bc
4027  1364  7E          	ld	a, (hl)
4028  1365  23          	inc	hl
4029  1366  66          	ld	h, (hl)
4030  1367  6F          	ld	l, a
4031  1368  18 06       	jr	l_menu_define_key_00109
4032  136A              l_menu_define_key_00102:
4033  136A  21 00 00    	ld	hl,_tmp0
4034  136D  34          	inc	(hl)
4035  136E  18 D4       	jr	l_menu_define_key_00103
4036  1370              l_menu_define_key_00109:
4037  1370  C9          	ret
4038  1371              	SECTION IGNORE
4039  0000              
