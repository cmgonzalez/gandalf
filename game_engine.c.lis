1     0000              MODULE game_engine_c
2     0000              LINE -1, "game_engine.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_tick
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_loop
206   0000              	GLOBAL _game_fps
207   0000              	GLOBAL _game_respawn
208   0000              	GLOBAL _game_draw_screen
209   0000              	GLOBAL _game_boss_kill
210   0000              	GLOBAL _game_add_enemy
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_update_stats
214   0000              	GLOBAL _game_start_timer
215   0000              	GLOBAL _game_set_checkpoint
216   0000              	GLOBAL _game_round_init
217   0000              	GLOBAL _game_print_header
218   0000              	GLOBAL _game_check_map
219   0000              	GLOBAL _game_check_cell
220   0000              	GLOBAL _game_paint_attrib
221   0000              	GLOBAL _game_colour_message
222   0000              	GLOBAL _game_check_time
223   0000              	GLOBAL _game_shoot_fire
224   0000              	GLOBAL _game_shoot_fire_boss
225   0000              	GLOBAL _game_obj_set
226   0000              	GLOBAL _game_obj_chk
227   0000              	GLOBAL _game_obj_clear
228   0000              	GLOBAL _game_boss_clear
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_rotate_attrib_osd
231   0000              	GLOBAL _game_attribs
232   0000              	GLOBAL _game_match_back
233   0000              	GLOBAL _menu_main
234   0000              	GLOBAL _menu_main_print
235   0000              	GLOBAL _menu_redefine
236   0000              	GLOBAL _menu_define_key
237   0000              ;--------------------------------------------------------
238   0000              ; Externals used
239   0000              ;--------------------------------------------------------
240   0000              	GLOBAL _ffsll_callee
241   0000              	GLOBAL _ffsll
242   0000              	GLOBAL _strxfrm_callee
243   0000              	GLOBAL _strxfrm
244   0000              	GLOBAL _strupr_fastcall
245   0000              	GLOBAL _strupr
246   0000              	GLOBAL _strtok_r_callee
247   0000              	GLOBAL _strtok_r
248   0000              	GLOBAL _strtok_callee
249   0000              	GLOBAL _strtok
250   0000              	GLOBAL _strstrip_fastcall
251   0000              	GLOBAL _strstrip
252   0000              	GLOBAL _strstr_callee
253   0000              	GLOBAL _strstr
254   0000              	GLOBAL _strspn_callee
255   0000              	GLOBAL _strspn
256   0000              	GLOBAL _strsep_callee
257   0000              	GLOBAL _strsep
258   0000              	GLOBAL _strrstrip_fastcall
259   0000              	GLOBAL _strrstrip
260   0000              	GLOBAL _strrstr_callee
261   0000              	GLOBAL _strrstr
262   0000              	GLOBAL _strrspn_callee
263   0000              	GLOBAL _strrspn
264   0000              	GLOBAL _strrev_fastcall
265   0000              	GLOBAL _strrev
266   0000              	GLOBAL _strrcspn_callee
267   0000              	GLOBAL _strrcspn
268   0000              	GLOBAL _strrchr_callee
269   0000              	GLOBAL _strrchr
270   0000              	GLOBAL _strpbrk_callee
271   0000              	GLOBAL _strpbrk
272   0000              	GLOBAL _strnlen_callee
273   0000              	GLOBAL _strnlen
274   0000              	GLOBAL _strnicmp_callee
275   0000              	GLOBAL _strnicmp
276   0000              	GLOBAL _strndup_callee
277   0000              	GLOBAL _strndup
278   0000              	GLOBAL _strncpy_callee
279   0000              	GLOBAL _strncpy
280   0000              	GLOBAL _strncmp_callee
281   0000              	GLOBAL _strncmp
282   0000              	GLOBAL _strnchr_callee
283   0000              	GLOBAL _strnchr
284   0000              	GLOBAL _strncat_callee
285   0000              	GLOBAL _strncat
286   0000              	GLOBAL _strncasecmp_callee
287   0000              	GLOBAL _strncasecmp
288   0000              	GLOBAL _strlwr_fastcall
289   0000              	GLOBAL _strlwr
290   0000              	GLOBAL _strlen_fastcall
291   0000              	GLOBAL _strlen
292   0000              	GLOBAL _strlcpy_callee
293   0000              	GLOBAL _strlcpy
294   0000              	GLOBAL _strlcat_callee
295   0000              	GLOBAL _strlcat
296   0000              	GLOBAL _stricmp_callee
297   0000              	GLOBAL _stricmp
298   0000              	GLOBAL _strerror_fastcall
299   0000              	GLOBAL _strerror
300   0000              	GLOBAL _strdup_fastcall
301   0000              	GLOBAL _strdup
302   0000              	GLOBAL _strcspn_callee
303   0000              	GLOBAL _strcspn
304   0000              	GLOBAL _strcpy_callee
305   0000              	GLOBAL _strcpy
306   0000              	GLOBAL _strcoll_callee
307   0000              	GLOBAL _strcoll
308   0000              	GLOBAL _strcmp_callee
309   0000              	GLOBAL _strcmp
310   0000              	GLOBAL _strchrnul_callee
311   0000              	GLOBAL _strchrnul
312   0000              	GLOBAL _strchr_callee
313   0000              	GLOBAL _strchr
314   0000              	GLOBAL _strcat_callee
315   0000              	GLOBAL _strcat
316   0000              	GLOBAL _strcasecmp_callee
317   0000              	GLOBAL _strcasecmp
318   0000              	GLOBAL _stpncpy_callee
319   0000              	GLOBAL _stpncpy
320   0000              	GLOBAL _stpcpy_callee
321   0000              	GLOBAL _stpcpy
322   0000              	GLOBAL _memswap_callee
323   0000              	GLOBAL _memswap
324   0000              	GLOBAL _memset_callee
325   0000              	GLOBAL _memset
326   0000              	GLOBAL _memrchr_callee
327   0000              	GLOBAL _memrchr
328   0000              	GLOBAL _memmove_callee
329   0000              	GLOBAL _memmove
330   0000              	GLOBAL _memmem_callee
331   0000              	GLOBAL _memmem
332   0000              	GLOBAL _memcpy_callee
333   0000              	GLOBAL _memcpy
334   0000              	GLOBAL _memcmp_callee
335   0000              	GLOBAL _memcmp
336   0000              	GLOBAL _memchr_callee
337   0000              	GLOBAL _memchr
338   0000              	GLOBAL _memccpy_callee
339   0000              	GLOBAL _memccpy
340   0000              	GLOBAL _ffsl_fastcall
341   0000              	GLOBAL _ffsl
342   0000              	GLOBAL _ffs_fastcall
343   0000              	GLOBAL _ffs
344   0000              	GLOBAL __strrstrip__fastcall
345   0000              	GLOBAL __strrstrip_
346   0000              	GLOBAL __memupr__callee
347   0000              	GLOBAL __memupr_
348   0000              	GLOBAL __memstrcpy__callee
349   0000              	GLOBAL __memstrcpy_
350   0000              	GLOBAL __memlwr__callee
351   0000              	GLOBAL __memlwr_
352   0000              	GLOBAL _rawmemchr_callee
353   0000              	GLOBAL _rawmemchr
354   0000              	GLOBAL _strnset_callee
355   0000              	GLOBAL _strnset
356   0000              	GLOBAL _strset_callee
357   0000              	GLOBAL _strset
358   0000              	GLOBAL _rindex_callee
359   0000              	GLOBAL _rindex
360   0000              	GLOBAL _index_callee
361   0000              	GLOBAL _index
362   0000              	GLOBAL _bzero_callee
363   0000              	GLOBAL _bzero
364   0000              	GLOBAL _bcopy_callee
365   0000              	GLOBAL _bcopy
366   0000              	GLOBAL _bcmp_callee
367   0000              	GLOBAL _bcmp
368   0000              	GLOBAL _ulltoa_callee
369   0000              	GLOBAL _ulltoa
370   0000              	GLOBAL _strtoull_callee
371   0000              	GLOBAL _strtoull
372   0000              	GLOBAL _strtoll_callee
373   0000              	GLOBAL _strtoll
374   0000              	GLOBAL _lltoa_callee
375   0000              	GLOBAL _lltoa
376   0000              	GLOBAL _llabs_callee
377   0000              	GLOBAL _llabs
378   0000              	GLOBAL __lldivu__callee
379   0000              	GLOBAL __lldivu_
380   0000              	GLOBAL __lldiv__callee
381   0000              	GLOBAL __lldiv_
382   0000              	GLOBAL _atoll_callee
383   0000              	GLOBAL _atoll
384   0000              	GLOBAL _realloc_unlocked_callee
385   0000              	GLOBAL _realloc_unlocked
386   0000              	GLOBAL _malloc_unlocked_fastcall
387   0000              	GLOBAL _malloc_unlocked
388   0000              	GLOBAL _free_unlocked_fastcall
389   0000              	GLOBAL _free_unlocked
390   0000              	GLOBAL _calloc_unlocked_callee
391   0000              	GLOBAL _calloc_unlocked
392   0000              	GLOBAL _aligned_alloc_unlocked_callee
393   0000              	GLOBAL _aligned_alloc_unlocked
394   0000              	GLOBAL _realloc_callee
395   0000              	GLOBAL _realloc
396   0000              	GLOBAL _malloc_fastcall
397   0000              	GLOBAL _malloc
398   0000              	GLOBAL _free_fastcall
399   0000              	GLOBAL _free
400   0000              	GLOBAL _calloc_callee
401   0000              	GLOBAL _calloc
402   0000              	GLOBAL _aligned_alloc_callee
403   0000              	GLOBAL _aligned_alloc
404   0000              	GLOBAL _utoa_callee
405   0000              	GLOBAL _utoa
406   0000              	GLOBAL _ultoa_callee
407   0000              	GLOBAL _ultoa
408   0000              	GLOBAL _system_fastcall
409   0000              	GLOBAL _system
410   0000              	GLOBAL _strtoul_callee
411   0000              	GLOBAL _strtoul
412   0000              	GLOBAL _strtol_callee
413   0000              	GLOBAL _strtol
414   0000              	GLOBAL _strtof_callee
415   0000              	GLOBAL _strtof
416   0000              	GLOBAL _strtod_callee
417   0000              	GLOBAL _strtod
418   0000              	GLOBAL _srand_fastcall
419   0000              	GLOBAL _srand
420   0000              	GLOBAL _rand
421   0000              	GLOBAL _quick_exit_fastcall
422   0000              	GLOBAL _quick_exit
423   0000              	GLOBAL _qsort_callee
424   0000              	GLOBAL _qsort
425   0000              	GLOBAL _ltoa_callee
426   0000              	GLOBAL _ltoa
427   0000              	GLOBAL _labs_fastcall
428   0000              	GLOBAL _labs
429   0000              	GLOBAL _itoa_callee
430   0000              	GLOBAL _itoa
431   0000              	GLOBAL _ftoh_callee
432   0000              	GLOBAL _ftoh
433   0000              	GLOBAL _ftog_callee
434   0000              	GLOBAL _ftog
435   0000              	GLOBAL _ftoe_callee
436   0000              	GLOBAL _ftoe
437   0000              	GLOBAL _ftoa_callee
438   0000              	GLOBAL _ftoa
439   0000              	GLOBAL _exit_fastcall
440   0000              	GLOBAL _exit
441   0000              	GLOBAL _dtoh_callee
442   0000              	GLOBAL _dtoh
443   0000              	GLOBAL _dtog_callee
444   0000              	GLOBAL _dtog
445   0000              	GLOBAL _dtoe_callee
446   0000              	GLOBAL _dtoe
447   0000              	GLOBAL _dtoa_callee
448   0000              	GLOBAL _dtoa
449   0000              	GLOBAL _bsearch_callee
450   0000              	GLOBAL _bsearch
451   0000              	GLOBAL _atol_fastcall
452   0000              	GLOBAL _atol
453   0000              	GLOBAL _atoi_fastcall
454   0000              	GLOBAL _atoi
455   0000              	GLOBAL _atof_fastcall
456   0000              	GLOBAL _atof
457   0000              	GLOBAL _atexit_fastcall
458   0000              	GLOBAL _atexit
459   0000              	GLOBAL _at_quick_exit_fastcall
460   0000              	GLOBAL _at_quick_exit
461   0000              	GLOBAL _abs_fastcall
462   0000              	GLOBAL _abs
463   0000              	GLOBAL _abort
464   0000              	GLOBAL __strtou__callee
465   0000              	GLOBAL __strtou_
466   0000              	GLOBAL __strtoi__callee
467   0000              	GLOBAL __strtoi_
468   0000              	GLOBAL __random_uniform_xor_8__fastcall
469   0000              	GLOBAL __random_uniform_xor_8_
470   0000              	GLOBAL __random_uniform_xor_32__fastcall
471   0000              	GLOBAL __random_uniform_xor_32_
472   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
473   0000              	GLOBAL __random_uniform_cmwc_8_
474   0000              	GLOBAL __shellsort__callee
475   0000              	GLOBAL __shellsort_
476   0000              	GLOBAL __quicksort__callee
477   0000              	GLOBAL __quicksort_
478   0000              	GLOBAL __insertion_sort__callee
479   0000              	GLOBAL __insertion_sort_
480   0000              	GLOBAL __ldivu__callee
481   0000              	GLOBAL __ldivu_
482   0000              	GLOBAL __ldiv__callee
483   0000              	GLOBAL __ldiv_
484   0000              	GLOBAL __divu__callee
485   0000              	GLOBAL __divu_
486   0000              	GLOBAL __div__callee
487   0000              	GLOBAL __div_
488   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
489   0000              	GLOBAL _NIRVANAP_drawTW_raw
490   0000              	GLOBAL _NIRVANAP_drawTW_callee
491   0000              	GLOBAL _NIRVANAP_drawTW
492   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawW_raw
494   0000              	GLOBAL _NIRVANAP_drawW_callee
495   0000              	GLOBAL _NIRVANAP_drawW
496   0000              	GLOBAL _NIRVANAP_spriteT_callee
497   0000              	GLOBAL _NIRVANAP_spriteT
498   0000              	GLOBAL _NIRVANAP_fillC_callee
499   0000              	GLOBAL _NIRVANAP_fillC
500   0000              	GLOBAL _NIRVANAP_readC_callee
501   0000              	GLOBAL _NIRVANAP_readC
502   0000              	GLOBAL _NIRVANAP_paintC_callee
503   0000              	GLOBAL _NIRVANAP_paintC
504   0000              	GLOBAL _NIRVANAP_printC_callee
505   0000              	GLOBAL _NIRVANAP_printC
506   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
507   0000              	GLOBAL _NIRVANAP_fillT_raw
508   0000              	GLOBAL _NIRVANAP_fillT_callee
509   0000              	GLOBAL _NIRVANAP_fillT
510   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
511   0000              	GLOBAL _NIRVANAP_drawT_raw
512   0000              	GLOBAL _NIRVANAP_drawT_callee
513   0000              	GLOBAL _NIRVANAP_drawT
514   0000              	GLOBAL _NIRVANAP_stop
515   0000              	GLOBAL _NIRVANAP_start
516   0000              	GLOBAL _debug3
517   0000              	GLOBAL _debug2
518   0000              	GLOBAL _debug
519   0000              	GLOBAL _zx_print_str
520   0000              	GLOBAL _zx_print_int
521   0000              	GLOBAL _zx_print_chr
522   0000              	GLOBAL _zx_print_bonus_time
523   0000              	GLOBAL _zx_isr
524   0000              	GLOBAL _z80_otdr_callee
525   0000              	GLOBAL _z80_otdr
526   0000              	GLOBAL _z80_otir_callee
527   0000              	GLOBAL _z80_otir
528   0000              	GLOBAL _z80_outp_callee
529   0000              	GLOBAL _z80_outp
530   0000              	GLOBAL _z80_indr_callee
531   0000              	GLOBAL _z80_indr
532   0000              	GLOBAL _z80_inir_callee
533   0000              	GLOBAL _z80_inir
534   0000              	GLOBAL _z80_inp_fastcall
535   0000              	GLOBAL _z80_inp
536   0000              	GLOBAL _z80_set_int_state_fastcall
537   0000              	GLOBAL _z80_set_int_state
538   0000              	GLOBAL _z80_get_int_state
539   0000              	GLOBAL _z80_delay_tstate_fastcall
540   0000              	GLOBAL _z80_delay_tstate
541   0000              	GLOBAL _z80_delay_ms_fastcall
542   0000              	GLOBAL _z80_delay_ms
543   0000              	GLOBAL _im2_remove_generic_callback_callee
544   0000              	GLOBAL _im2_remove_generic_callback
545   0000              	GLOBAL _im2_prepend_generic_callback_callee
546   0000              	GLOBAL _im2_prepend_generic_callback
547   0000              	GLOBAL _im2_append_generic_callback_callee
548   0000              	GLOBAL _im2_append_generic_callback
549   0000              	GLOBAL _im2_create_generic_isr_8080_callee
550   0000              	GLOBAL _im2_create_generic_isr_8080
551   0000              	GLOBAL _im2_create_generic_isr_callee
552   0000              	GLOBAL _im2_create_generic_isr
553   0000              	GLOBAL _im2_install_isr_callee
554   0000              	GLOBAL _im2_install_isr
555   0000              	GLOBAL _im2_init_fastcall
556   0000              	GLOBAL _im2_init
557   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
558   0000              	GLOBAL _intrinsic_swap_word_32
559   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
560   0000              	GLOBAL _intrinsic_swap_endian_32
561   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
562   0000              	GLOBAL _intrinsic_swap_endian_16
563   0000              	GLOBAL _intrinsic_return_de
564   0000              	GLOBAL _intrinsic_return_bc
565   0000              	GLOBAL _intrinsic_exx
566   0000              	GLOBAL _intrinsic_ex_de_hl
567   0000              	GLOBAL _intrinsic_nop
568   0000              	GLOBAL _intrinsic_im_2
569   0000              	GLOBAL _intrinsic_im_1
570   0000              	GLOBAL _intrinsic_im_0
571   0000              	GLOBAL _intrinsic_retn
572   0000              	GLOBAL _intrinsic_reti
573   0000              	GLOBAL _intrinsic_halt
574   0000              	GLOBAL _intrinsic_ei
575   0000              	GLOBAL _intrinsic_di
576   0000              	GLOBAL _intrinsic_stub
577   0000              	GLOBAL _intrinsic_outi
578   0000              	GLOBAL _intrinsic_ldi
579   0000              	GLOBAL _zx_pattern_fill_callee
580   0000              	GLOBAL _zx_pattern_fill
581   0000              	GLOBAL _zx_saddrpup_fastcall
582   0000              	GLOBAL _zx_saddrpup
583   0000              	GLOBAL _zx_saddrpright_callee
584   0000              	GLOBAL _zx_saddrpright
585   0000              	GLOBAL _zx_saddrpleft_callee
586   0000              	GLOBAL _zx_saddrpleft
587   0000              	GLOBAL _zx_saddrpdown_fastcall
588   0000              	GLOBAL _zx_saddrpdown
589   0000              	GLOBAL _zx_saddrcup_fastcall
590   0000              	GLOBAL _zx_saddrcup
591   0000              	GLOBAL _zx_saddrcright_fastcall
592   0000              	GLOBAL _zx_saddrcright
593   0000              	GLOBAL _zx_saddrcleft_fastcall
594   0000              	GLOBAL _zx_saddrcleft
595   0000              	GLOBAL _zx_saddrcdown_fastcall
596   0000              	GLOBAL _zx_saddrcdown
597   0000              	GLOBAL _zx_saddr2py_fastcall
598   0000              	GLOBAL _zx_saddr2py
599   0000              	GLOBAL _zx_saddr2px_fastcall
600   0000              	GLOBAL _zx_saddr2px
601   0000              	GLOBAL _zx_saddr2cy_fastcall
602   0000              	GLOBAL _zx_saddr2cy
603   0000              	GLOBAL _zx_saddr2cx_fastcall
604   0000              	GLOBAL _zx_saddr2cx
605   0000              	GLOBAL _zx_saddr2aaddr_fastcall
606   0000              	GLOBAL _zx_saddr2aaddr
607   0000              	GLOBAL _zx_py2saddr_fastcall
608   0000              	GLOBAL _zx_py2saddr
609   0000              	GLOBAL _zx_py2aaddr_fastcall
610   0000              	GLOBAL _zx_py2aaddr
611   0000              	GLOBAL _zx_pxy2saddr_callee
612   0000              	GLOBAL _zx_pxy2saddr
613   0000              	GLOBAL _zx_pxy2aaddr_callee
614   0000              	GLOBAL _zx_pxy2aaddr
615   0000              	GLOBAL _zx_px2bitmask_fastcall
616   0000              	GLOBAL _zx_px2bitmask
617   0000              	GLOBAL _zx_cy2saddr_fastcall
618   0000              	GLOBAL _zx_cy2saddr
619   0000              	GLOBAL _zx_cy2aaddr_fastcall
620   0000              	GLOBAL _zx_cy2aaddr
621   0000              	GLOBAL _zx_cxy2saddr_callee
622   0000              	GLOBAL _zx_cxy2saddr
623   0000              	GLOBAL _zx_cxy2aaddr_callee
624   0000              	GLOBAL _zx_cxy2aaddr
625   0000              	GLOBAL _zx_bitmask2px_fastcall
626   0000              	GLOBAL _zx_bitmask2px
627   0000              	GLOBAL _zx_aaddrcup_fastcall
628   0000              	GLOBAL _zx_aaddrcup
629   0000              	GLOBAL _zx_aaddrcright_fastcall
630   0000              	GLOBAL _zx_aaddrcright
631   0000              	GLOBAL _zx_aaddrcleft_fastcall
632   0000              	GLOBAL _zx_aaddrcleft
633   0000              	GLOBAL _zx_aaddrcdown_fastcall
634   0000              	GLOBAL _zx_aaddrcdown
635   0000              	GLOBAL _zx_aaddr2saddr_fastcall
636   0000              	GLOBAL _zx_aaddr2saddr
637   0000              	GLOBAL _zx_aaddr2py_fastcall
638   0000              	GLOBAL _zx_aaddr2py
639   0000              	GLOBAL _zx_aaddr2px_fastcall
640   0000              	GLOBAL _zx_aaddr2px
641   0000              	GLOBAL _zx_aaddr2cy_fastcall
642   0000              	GLOBAL _zx_aaddr2cy
643   0000              	GLOBAL _zx_aaddr2cx_fastcall
644   0000              	GLOBAL _zx_aaddr2cx
645   0000              	GLOBAL _zx_visit_wc_pix_callee
646   0000              	GLOBAL _zx_visit_wc_pix
647   0000              	GLOBAL _zx_visit_wc_attr_callee
648   0000              	GLOBAL _zx_visit_wc_attr
649   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
650   0000              	GLOBAL _zx_scroll_wc_up_pix
651   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
652   0000              	GLOBAL _zx_scroll_wc_up_attr
653   0000              	GLOBAL _zx_scroll_wc_up_callee
654   0000              	GLOBAL _zx_scroll_wc_up
655   0000              	GLOBAL _zx_scroll_up_pix_callee
656   0000              	GLOBAL _zx_scroll_up_pix
657   0000              	GLOBAL _zx_scroll_up_attr_callee
658   0000              	GLOBAL _zx_scroll_up_attr
659   0000              	GLOBAL _zx_scroll_up_callee
660   0000              	GLOBAL _zx_scroll_up
661   0000              	GLOBAL _zx_cls_wc_pix_callee
662   0000              	GLOBAL _zx_cls_wc_pix
663   0000              	GLOBAL _zx_cls_wc_attr_callee
664   0000              	GLOBAL _zx_cls_wc_attr
665   0000              	GLOBAL _zx_cls_wc_callee
666   0000              	GLOBAL _zx_cls_wc
667   0000              	GLOBAL _zx_cls_pix_fastcall
668   0000              	GLOBAL _zx_cls_pix
669   0000              	GLOBAL _zx_cls_attr_fastcall
670   0000              	GLOBAL _zx_cls_attr
671   0000              	GLOBAL _zx_cls_fastcall
672   0000              	GLOBAL _zx_cls
673   0000              	GLOBAL _zx_border_fastcall
674   0000              	GLOBAL _zx_border
675   0000              	GLOBAL _zx_tape_verify_block_callee
676   0000              	GLOBAL _zx_tape_verify_block
677   0000              	GLOBAL _zx_tape_save_block_callee
678   0000              	GLOBAL _zx_tape_save_block
679   0000              	GLOBAL _zx_tape_load_block_callee
680   0000              	GLOBAL _zx_tape_load_block
681   0000              	GLOBAL _spr_colision_boss
682   0000              	GLOBAL _spr_colision_b
683   0000              	GLOBAL _spr_unflatten
684   0000              	GLOBAL _spr_flatten
685   0000              	GLOBAL _spr_btile_paint_back
686   0000              	GLOBAL _spr_bullet_explode
687   0000              	GLOBAL _spr_init_effects
688   0000              	GLOBAL _spr_turn_horizontal
689   0000              	GLOBAL _spr_bullets_play
690   0000              	GLOBAL _spr_play_anim
691   0000              	GLOBAL _spr_add_anim
692   0000              	GLOBAL _spr_clear_scr
693   0000              	GLOBAL _spr_page_map
694   0000              	GLOBAL _spr_page_down
695   0000              	GLOBAL _spr_page_up
696   0000              	GLOBAL _spr_page_right
697   0000              	GLOBAL _spr_page_left
698   0000              	GLOBAL _spr_tile_paint
699   0000              	GLOBAL _spr_draw_index
700   0000              	GLOBAL _spr_brick_anim
701   0000              	GLOBAL _spr_back_repaint
702   0000              	GLOBAL _spr_tile
703   0000              	GLOBAL _spr_destroy
704   0000              	GLOBAL _spr_tile_dir
705   0000              	GLOBAL _spr_redraw
706   0000              	GLOBAL _spr_move_left
707   0000              	GLOBAL _spr_move_right
708   0000              	GLOBAL _spr_move_horizontal
709   0000              	GLOBAL _spr_move_down
710   0000              	GLOBAL _spr_move_up
711   0000              	GLOBAL _spr_set_right
712   0000              	GLOBAL _spr_set_left
713   0000              	GLOBAL _spr_set_down
714   0000              	GLOBAL _spr_set_up
715   0000              	GLOBAL _spr_calc_index
716   0000              	GLOBAL _spr_chktime
717   0000              	GLOBAL _player_fix_walk_lin
718   0000              	GLOBAL _player_gasta_brick
719   0000              	GLOBAL _player_lost_life
720   0000              	GLOBAL _player_hit
721   0000              	GLOBAL _player_open_door
722   0000              	GLOBAL _player_move_jump
723   0000              	GLOBAL _player_fire
724   0000              	GLOBAL _player_check_stairs_vertical
725   0000              	GLOBAL _player_check_stairs
726   0000              	GLOBAL _player_tile
727   0000              	GLOBAL _player_anim_tile
728   0000              	GLOBAL _player_pick_item
729   0000              	GLOBAL _player_check_floor
730   0000              	GLOBAL _player_hit_platform_clear
731   0000              	GLOBAL _player_score_add
732   0000              	GLOBAL _player_hit_platform
733   0000              	GLOBAL _player_move_input
734   0000              	GLOBAL _player_turn
735   0000              	GLOBAL _player_move
736   0000              	GLOBAL _player_check_input
737   0000              	GLOBAL _player_pick_mushroom
738   0000              	GLOBAL _player_collision
739   0000              	GLOBAL _player_init
740   0000              	GLOBAL _game_fill_row
741   0000              	GLOBAL _boss_draw_frame
742   0000              	GLOBAL _boss_draw
743   0000              	GLOBAL _boss_turn
744   0000              	GLOBAL _enemy_avoid_dead
745   0000              	GLOBAL _enemy_avoid_fall
746   0000              	GLOBAL _enemy_kill
747   0000              	GLOBAL _enemy_respawn
748   0000              	GLOBAL _enemy_init
749   0000              	GLOBAL _enemy_move
750   0000              	GLOBAL _enemy_turn
751   0000              	GLOBAL _enemy_static
752   0000              	GLOBAL _enemy_walk
753   0000              	GLOBAL _enemy_horizontal
754   0000              	GLOBAL _enemy_vertical
755   0000              	GLOBAL _ay_reset
756   0000              	GLOBAL _ay_song_stop
757   0000              	GLOBAL _ay_song_play
758   0000              	GLOBAL _ay_fx_stop
759   0000              	GLOBAL _ay_fx_play
760   0000              	GLOBAL _ay_is_playing
761   0000              	GLOBAL _test_func
762   0000              	GLOBAL _test_proc
763   0000              	GLOBAL _in_mouse_kempston_wheel_delta
764   0000              	GLOBAL _in_mouse_kempston_wheel
765   0000              	GLOBAL _in_mouse_kempston_callee
766   0000              	GLOBAL _in_mouse_kempston
767   0000              	GLOBAL _in_mouse_kempston_setpos_callee
768   0000              	GLOBAL _in_mouse_kempston_setpos
769   0000              	GLOBAL _in_mouse_kempston_reset
770   0000              	GLOBAL _in_mouse_kempston_init
771   0000              	GLOBAL _in_mouse_amx_wheel_delta
772   0000              	GLOBAL _in_mouse_amx_wheel
773   0000              	GLOBAL _in_mouse_amx_callee
774   0000              	GLOBAL _in_mouse_amx
775   0000              	GLOBAL _in_mouse_amx_setpos_callee
776   0000              	GLOBAL _in_mouse_amx_setpos
777   0000              	GLOBAL _in_mouse_amx_reset
778   0000              	GLOBAL _in_mouse_amx_init_callee
779   0000              	GLOBAL _in_mouse_amx_init
780   0000              	GLOBAL _in_stick_sinclair2
781   0000              	GLOBAL _in_stick_sinclair1
782   0000              	GLOBAL _in_stick_kempston
783   0000              	GLOBAL _in_stick_fuller
784   0000              	GLOBAL _in_stick_cursor
785   0000              	GLOBAL _in_stick_keyboard_fastcall
786   0000              	GLOBAL _in_stick_keyboard
787   0000              	GLOBAL _in_wait_nokey
788   0000              	GLOBAL _in_wait_key
789   0000              	GLOBAL _in_test_key
790   0000              	GLOBAL _in_pause_fastcall
791   0000              	GLOBAL _in_pause
792   0000              	GLOBAL _in_key_scancode_fastcall
793   0000              	GLOBAL _in_key_scancode
794   0000              	GLOBAL _in_key_pressed_fastcall
795   0000              	GLOBAL _in_key_pressed
796   0000              	GLOBAL _in_inkey
797   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
798   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
799   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
800   0000              	GLOBAL _NIRVANAP_HOLE
801   0000              	GLOBAL _NIRVANAP_ISR_HOOK
802   0000              	GLOBAL _scan_map
803   0000              	GLOBAL _key_map
804   0000              	GLOBAL _player_lvl_table
805   0000              	GLOBAL _stp_row
806   0000              	GLOBAL _stp_col
807   0000              	GLOBAL _stp_tile
808   0000              	GLOBAL _map_paper_last_a
809   0000              	GLOBAL _map_paper_last
810   0000              	GLOBAL _map_paper_clr
811   0000              	GLOBAL _map_paper
812   0000              	GLOBAL _draw_count
813   0000              	GLOBAL _g_player_hit_right
814   0000              	GLOBAL _g_player_hit_left
815   0000              	GLOBAL _bullet_count
816   0000              	GLOBAL _spr_hack
817   0000              	GLOBAL _boss_stat
818   0000              	GLOBAL _boss_time_fire
819   0000              	GLOBAL _boss_time
820   0000              	GLOBAL _boss_tile
821   0000              	GLOBAL _boss_inc
822   0000              	GLOBAL _boss_col
823   0000              	GLOBAL _boss_lin
824   0000              	GLOBAL _bullet
825   0000              	GLOBAL _bullet_vel
826   0000              	GLOBAL _bullet_frames
827   0000              	GLOBAL _bullet_colint
828   0000              	GLOBAL _bullet_dir
829   0000              	GLOBAL _bullet_tile
830   0000              	GLOBAL _bullet_col
831   0000              	GLOBAL _bullet_lin
832   0000              	GLOBAL _bullet_col0
833   0000              	GLOBAL _bullet_lin0
834   0000              	GLOBAL _bullet_max
835   0000              	GLOBAL _bullet_class
836   0000              	GLOBAL _mush_class
837   0000              	GLOBAL _mush_index
838   0000              	GLOBAL _anim_count
839   0000              	GLOBAL _anim_respanwn
840   0000              	GLOBAL _anim_loop
841   0000              	GLOBAL _anim_end
842   0000              	GLOBAL _anim_int
843   0000              	GLOBAL _anim_tile
844   0000              	GLOBAL _anim_col
845   0000              	GLOBAL _anim_lin
846   0000              	GLOBAL _map_heigth
847   0000              	GLOBAL _map_width
848   0000              	GLOBAL _scr_curr
849   0000              	GLOBAL _sprite_kind
850   0000              	GLOBAL _scr_obj1
851   0000              	GLOBAL _scr_obj0
852   0000              	GLOBAL _scr_map
853   0000              	GLOBAL _sprite_speed_alt
854   0000              	GLOBAL _spr_init
855   0000              	GLOBAL _spr_map_tile
856   0000              	GLOBAL _sprite_frames
857   0000              	GLOBAL _sprite_speed
858   0000              	GLOBAL _screen_ink
859   0000              	GLOBAL _screen_paper
860   0000              	GLOBAL _player_onstair
861   0000              	GLOBAL _game_start_scr
862   0000              	GLOBAL _game_respawn_tile
863   0000              	GLOBAL _game_respawn_index
864   0000              	GLOBAL _game_respawn_time
865   0000              	GLOBAL _game_score_top
866   0000              	GLOBAL _player_coins
867   0000              	GLOBAL _player_lives
868   0000              	GLOBAL _game_over
869   0000              	GLOBAL _game_sound
870   0000              	GLOBAL _game_inf_lives
871   0000              	GLOBAL _game_inmune
872   0000              	GLOBAL _sprite_curr_index
873   0000              	GLOBAL _spr_count
874   0000              	GLOBAL _bullet_time
875   0000              	GLOBAL _anim_time
876   0000              	GLOBAL _frame_time
877   0000              	GLOBAL _curr_time
878   0000              	GLOBAL _s_state
879   0000              	GLOBAL _attrib_osd
880   0000              	GLOBAL _attrib_hl
881   0000              	GLOBAL _attrib
882   0000              	GLOBAL _zx_val_asm
883   0000              	GLOBAL _enemies
884   0000              	GLOBAL _tmp_ui
885   0000              	GLOBAL _tmp_sc
886   0000              	GLOBAL _tmp_uc
887   0000              	GLOBAL _tmp1
888   0000              	GLOBAL _tmp0
889   0000              	GLOBAL _tmp
890   0000              	GLOBAL _index1
891   0000              	GLOBAL _index0
892   0000              	GLOBAL _loop_count
893   0000              	GLOBAL _s_class
894   0000              	GLOBAL _s_col1
895   0000              	GLOBAL _s_col0
896   0000              	GLOBAL _s_lin1
897   0000              	GLOBAL _s_lin0
898   0000              	GLOBAL _s_tile1
899   0000              	GLOBAL _s_tile0
900   0000              	GLOBAL _player_brick_time
901   0000              	GLOBAL _player_hit_count
902   0000              	GLOBAL _game_show_fps
903   0000              	GLOBAL _sprite_horizontal_check
904   0000              	GLOBAL _sprite_on_air
905   0000              	GLOBAL _sprite
906   0000              	GLOBAL _fps
907   0000              	GLOBAL _game_2buttons
908   0000              	GLOBAL _game_respawn_curr_time
909   0000              	GLOBAL _game_worldup
910   0000              	GLOBAL _game_mush_count
911   0000              	GLOBAL _game_boss_fix
912   0000              	GLOBAL _game_boss_hit
913   0000              	GLOBAL _game_boss_alive
914   0000              	GLOBAL _game_boss
915   0000              	GLOBAL _game_world
916   0000              	GLOBAL _game_gravity
917   0000              	GLOBAL _player_onfire
918   0000              	GLOBAL _player_anim_stair
919   0000              	GLOBAL _player_hit_time
920   0000              	GLOBAL _game_checkpoint_scr
921   0000              	GLOBAL _game_checkpoint_lin
922   0000              	GLOBAL _game_checkpoint_col
923   0000              	GLOBAL _player_lin_scr
924   0000              	GLOBAL _player_col_scr
925   0000              	GLOBAL _player_lvl
926   0000              	GLOBAL _player_int
927   0000              	GLOBAL _player_str
928   0000              	GLOBAL _player_max_vita
929   0000              	GLOBAL _player_max_mana
930   0000              	GLOBAL _player_vita
931   0000              	GLOBAL _player_mana
932   0000              	GLOBAL _player_keys
933   0000              	GLOBAL _player_vel_inc
934   0000              	GLOBAL _player_vel_y1
935   0000              	GLOBAL _player_vel_y0
936   0000              	GLOBAL _player_vel_y
937   0000              	GLOBAL _player_vel_x
938   0000              	GLOBAL _player_score
939   0000              	GLOBAL _last_time
940   0000              	GLOBAL _spr_timer
941   0000              	GLOBAL _jump_lin
942   0000              	GLOBAL _player_hit_col
943   0000              	GLOBAL _player_hit_lin
944   0000              	GLOBAL _colint
945   0000              	GLOBAL _col
946   0000              	GLOBAL _tbuffer
947   0000              	GLOBAL _lin
948   0000              	GLOBAL _tile
949   0000              	GLOBAL _state_a
950   0000              	GLOBAL _state
951   0000              	GLOBAL _class
952   0000              	GLOBAL _dirs_alt
953   0000              	GLOBAL _dirs
954   0000              	GLOBAL _k2
955   0000              	GLOBAL _k1
956   0000              	GLOBAL _joyfunc2
957   0000              	GLOBAL _joyfunc1
958   0000              	GLOBAL _btiles
959   0000              	GLOBAL _spec128
960   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
961   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
962   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
963   0000              	GLOBAL _ay_song_06_ciel
964   0000              	GLOBAL _ay_song_04_sunflower
965   0000              	GLOBAL _ay_song_04_lotr_level_start
966   0000              	GLOBAL _ay_song_04_lotr_level_complete
967   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
968   0000              	GLOBAL _ay_song_04_lotr
969   0000              	GLOBAL _ay_fx_06_explosion1
970   0000              	GLOBAL _ay_fx_06_efecto
971   0000              	GLOBAL _ay_fx_06_disparo2
972   0000              	GLOBAL _ay_fx_06_disparo1
973   0000              	GLOBAL _ay_fx_04_sin_mana
974   0000              	GLOBAL _ay_fx_04_salto
975   0000              	GLOBAL _ay_fx_04_pierto_abierta
976   0000              	GLOBAL _ay_fx_04_magia1
977   0000              	GLOBAL _ay_fx_04_golpe
978   0000              	GLOBAL _ay_fx_04_explosion
979   0000              	GLOBAL _ay_fx_04_dano_por_toque
980   0000              	GLOBAL _ay_fx_04_coin
981   0000              	GLOBAL _world0_h
982   0000              	GLOBAL _world0_w
983   0000              	GLOBAL _world0
984   0000              	GLOBAL _paper0
985   0000              	GLOBAL _lenght0
986   0000              	GLOBAL _start_scr0
987   0000              ;--------------------------------------------------------
988   0000              ; special function registers
989   0000              ;--------------------------------------------------------
990   0000              defc _IO_FE	=	0x00fe
991   0000              defc _IO_1FFD	=	0x1ffd
992   0000              defc _IO_7FFD	=	0x7ffd
993   0000              ;--------------------------------------------------------
994   0000              ; ram data
995   0000              ;--------------------------------------------------------
996   0000              	SECTION bss_compiler
997   0000              ;--------------------------------------------------------
998   0000              ; ram data
999   0000              ;--------------------------------------------------------
1000  0000              
1001  0000              IF 0
1002  0000              
1003  0000              ; .area _INITIALIZED removed by z88dk
1004  0000              
1005  0000              
1006  0000              ENDIF
1007  0000              
1008  0000              ;--------------------------------------------------------
1009  0000              ; absolute external ram data
1010  0000              ;--------------------------------------------------------
1011  0000              	SECTION IGNORE
1012  0000              ;--------------------------------------------------------
1013  0000              ; global & static initialisations
1014  0000              ;--------------------------------------------------------
1015  0000              	SECTION code_crt_init
1016  0000              ;--------------------------------------------------------
1017  0000              ; Home
1018  0000              ;--------------------------------------------------------
1019  0000              	SECTION IGNORE
1020  0000              ;--------------------------------------------------------
1021  0000              ; code
1022  0000              ;--------------------------------------------------------
1023  0000              	SECTION code_compiler
1024  0000              ;	---------------------------------
1025  0000              ; Function game_loop
1026  0000              ; ---------------------------------
1027  0000              _game_loop:
1028  0000  CD 6F 08    	call	_game_round_init
1029  0003              l_game_loop_00121:
1030  0003  3A 00 00    	ld	a,(_game_over)
1031  0006  B7          	or	a, a
1032  0007  C2 E4 00    	jp	NZ, l_game_loop_00124
1033  000A              l_game_loop_00116:
1034  000A  3A 00 00    	ld	a,(_game_worldup)
1035  000D  B7          	or	a, a
1036  000E  C2 A3 00    	jp	NZ, l_game_loop_00118
1037  0011  3A 00 00    	ld	a,(_game_over)
1038  0014  B7          	or	a, a
1039  0015  C2 A3 00    	jp	NZ, l_game_loop_00118
1040  0018  CD 00 00    	call	_enemy_turn
1041  001B  CD 00 00    	call	_player_turn
1042  001E  3A 00 00    	ld	a,(_game_boss)
1043  0021  B7          	or	a, a
1044  0022  28 03       	jr	Z,l_game_loop_00102
1045  0024  CD 00 00    	call	_boss_turn
1046  0027              l_game_loop_00102:
1047  0027  3E 02       	ld	a,0x02
1048  0029  F5          	push	af
1049  002A  33          	inc	sp
1050  002B  21 00 00    	ld	hl,_bullet_time
1051  002E  E5          	push	hl
1052  002F  CD 58 0C    	call	_game_check_time
1053  0032  F1          	pop	af
1054  0033  33          	inc	sp
1055  0034  7D          	ld	a, l
1056  0035  B7          	or	a, a
1057  0036  28 0F       	jr	Z,l_game_loop_00106
1058  0038  2A 00 00    	ld	hl,(_curr_time)
1059  003B  22 00 00    	ld	(_bullet_time),hl
1060  003E  3A 00 00    	ld	a,(_bullet_count)
1061  0041  B7          	or	a,a
1062  0042  28 03       	jr	Z,l_game_loop_00106
1063  0044  CD 00 00    	call	_spr_bullets_play
1064  0047              l_game_loop_00106:
1065  0047  3E 08       	ld	a,0x08
1066  0049  F5          	push	af
1067  004A  33          	inc	sp
1068  004B  21 00 00    	ld	hl,_anim_time
1069  004E  E5          	push	hl
1070  004F  CD 58 0C    	call	_game_check_time
1071  0052  F1          	pop	af
1072  0053  33          	inc	sp
1073  0054  7D          	ld	a, l
1074  0055  B7          	or	a, a
1075  0056  28 14       	jr	Z,l_game_loop_00110
1076  0058  2E 00       	ld	l,0x00
1077  005A  CD 00 00    	call	_zx_border_fastcall
1078  005D  2A 00 00    	ld	hl,(_curr_time)
1079  0060  22 00 00    	ld	(_anim_time),hl
1080  0063  3A 00 00    	ld	a,(_anim_count)
1081  0066  B7          	or	a,a
1082  0067  28 03       	jr	Z,l_game_loop_00110
1083  0069  CD 00 00    	call	_spr_play_anim
1084  006C              l_game_loop_00110:
1085  006C  3E 64       	ld	a,0x64
1086  006E  F5          	push	af
1087  006F  33          	inc	sp
1088  0070  21 00 00    	ld	hl,_frame_time
1089  0073  E5          	push	hl
1090  0074  CD 58 0C    	call	_game_check_time
1091  0077  F1          	pop	af
1092  0078  33          	inc	sp
1093  0079  7D          	ld	a, l
1094  007A  B7          	or	a, a
1095  007B  28 12       	jr	Z,l_game_loop_00114
1096  007D  2A 00 00    	ld	hl,(_curr_time)
1097  0080  22 00 00    	ld	(_frame_time),hl
1098  0083  3A 00 00    	ld	a,(_game_show_fps)
1099  0086  B7          	or	a,a
1100  0087  28 03       	jr	Z,l_game_loop_00112
1101  0089  CD E5 00    	call	_game_fps
1102  008C              l_game_loop_00112:
1103  008C  CD FC 00    	call	_game_respawn
1104  008F              l_game_loop_00114:
1105  008F  21 00 00    	ld	hl,_loop_count
1106  0092  34          	inc	(hl)
1107  0093  20 02       	jr	NZ,l_game_loop_00174
1108  0095  23          	inc	hl
1109  0096  34          	inc	(hl)
1110  0097              l_game_loop_00174:
1111  0097  21 00 00    	ld	hl,_fps
1112  009A  34          	inc	(hl)
1113  009B  C2 0A 00    	jp	NZ,l_game_loop_00116
1114  009E  23          	inc	hl
1115  009F  34          	inc	(hl)
1116  00A0  C3 0A 00    	jp	l_game_loop_00116
1117  00A3              l_game_loop_00118:
1118  00A3  21 00 00    	ld	hl,_game_worldup
1119  00A6  7E          	ld	a, (hl)
1120  00A7  B7          	or	a, a
1121  00A8  CA 03 00    	jp	Z, l_game_loop_00121
1122  00AB  36 00       	ld	(hl),0x00
1123  00AD  21 00 00    	ld	hl,_game_respawn_curr_time
1124  00B0  7E          	ld	a, (hl)
1125  00B1  C6 E0       	add	a,0xe0
1126  00B3  77          	ld	(hl), a
1127  00B4  21 00 00    	ld	hl,_game_world
1128  00B7  34          	inc	(hl)
1129  00B8  21 00 00    	ld	hl,_game_boss_alive
1130  00BB  36 01       	ld	(hl),0x01
1131  00BD  21 00 00    	ld	hl,_game_boss
1132  00C0  36 00       	ld	(hl),0x00
1133  00C2  21 00 00    	ld	hl,_scr_curr
1134  00C5  36 FF       	ld	(hl),0xff
1135  00C7  21 00 00    	ld	hl,_player_lin_scr
1136  00CA  36 00       	ld	(hl),0x00
1137  00CC  21 00 00    	ld	hl,_player_col_scr
1138  00CF  36 00       	ld	(hl),0x00
1139  00D1  CD 90 10    	call	_game_obj_clear
1140  00D4  21 00 00    	ld	hl,_player_col_scr
1141  00D7  36 02       	ld	(hl),0x02
1142  00D9  21 00 00    	ld	hl,_player_lin_scr
1143  00DC  36 80       	ld	(hl),0x80
1144  00DE  CD 6F 08    	call	_game_round_init
1145  00E1  C3 03 00    	jp	l_game_loop_00121
1146  00E4              l_game_loop_00124:
1147  00E4  C9          	ret
1148  00E5              	SECTION code_compiler
1149  00E5              ;	---------------------------------
1150  00E5              ; Function game_fps
1151  00E5              ; ---------------------------------
1152  00E5              _game_fps:
1153  00E5  21 00 00    	ld	hl,_screen_ink
1154  00E8  36 07       	ld	(hl),0x07
1155  00EA  2A 00 00    	ld	hl,(_fps)
1156  00ED  E5          	push	hl
1157  00EE  21 17 18    	ld	hl,0x1817
1158  00F1  E5          	push	hl
1159  00F2  CD 00 00    	call	_zx_print_int
1160  00F5  21 00 00    	ld	hl,0x0000
1161  00F8  22 00 00    	ld	(_fps),hl
1162  00FB  C9          	ret
1163  00FC              	SECTION code_compiler
1164  00FC              ;	---------------------------------
1165  00FC              ; Function game_respawn
1166  00FC              ; ---------------------------------
1167  00FC              _game_respawn:
1168  00FC  21 00 00    	ld	hl,_sprite
1169  00FF  36 00       	ld	(hl),0x00
1170  0101              l_game_respawn_00105:
1171  0101  21 00 00    	ld	hl,_sprite
1172  0104  7E          	ld	a, (hl)
1173  0105  D6 07       	sub	a,0x07
1174  0107  D2 97 01    	jp	NC, l_game_respawn_00108
1175  010A  01 00 00    	ld	bc,_game_respawn_time+0
1176  010D  6E          	ld	l,(hl)
1177  010E  26 00       	ld	h,0x00
1178  0110  29          	add	hl, hl
1179  0111  09          	add	hl, bc
1180  0112  5E          	ld	e,(hl)
1181  0113  23          	inc	hl
1182  0114  56          	ld	d,(hl)
1183  0115  2B          	dec	hl
1184  0116  7A          	ld	a, d
1185  0117  B3          	or	a,e
1186  0118  28 76       	jr	Z,l_game_respawn_00104
1187  011A  3A 00 00    	ld	a,(_game_respawn_curr_time)
1188  011D  EB          	ex	de,hl
1189  011E  C5          	push	bc
1190  011F  F5          	push	af
1191  0120  33          	inc	sp
1192  0121  D5          	push	de
1193  0122  CD 58 0C    	call	_game_check_time
1194  0125  F1          	pop	af
1195  0126  33          	inc	sp
1196  0127  C1          	pop	bc
1197  0128  7D          	ld	a,l
1198  0129  B7          	or	a, a
1199  012A  28 64       	jr	Z,l_game_respawn_00104
1200  012C  2A 00 00    	ld	hl,(_sprite)
1201  012F  26 00       	ld	h,0x00
1202  0131  11 00 00    	ld	de,_game_respawn_index
1203  0134  19          	add	hl,de
1204  0135  7E          	ld	a,(hl)
1205  0136  6F          	ld	l,a
1206  0137  26 00       	ld	h,0x00
1207  0139  22 00 00    	ld	(_index1),hl
1208  013C  5F          	ld	e,a
1209  013D  E6 0F       	and	a,0x0f
1210  013F  87          	add	a, a
1211  0140  32 00 00    	ld	(_s_col1),a
1212  0143  21 00 00    	ld	hl,_s_lin1
1213  0146  73          	ld	(hl),e
1214  0147  7B          	ld	a,e
1215  0148  07          	rlca
1216  0149  07          	rlca
1217  014A  07          	rlca
1218  014B  07          	rlca
1219  014C  E6 0F       	and	a,0x0f
1220  014E  07          	rlca
1221  014F  07          	rlca
1222  0150  07          	rlca
1223  0151  07          	rlca
1224  0152  E6 F0       	and	a,0xf0
1225  0154  77          	ld	(hl), a
1226  0155  11 00 00    	ld	de,_scr_map
1227  0158  2A 00 00    	ld	hl,(_index1)
1228  015B  19          	add	hl,de
1229  015C  EB          	ex	de,hl
1230  015D  21 00 00    	ld	hl,_sprite
1231  0160  7E          	ld	a, (hl)
1232  0161  C6 80       	add	a,0x80
1233  0163  12          	ld	(de), a
1234  0164  6E          	ld	l,(hl)
1235  0165  26 00       	ld	h,0x00
1236  0167  29          	add	hl, hl
1237  0168  09          	add	hl, bc
1238  0169  AF          	xor	a, a
1239  016A  77          	ld	(hl), a
1240  016B  23          	inc	hl
1241  016C  77          	ld	(hl), a
1242  016D  2A 00 00    	ld	hl,(_sprite)
1243  0170  26 00       	ld	h,0x00
1244  0172  01 00 00    	ld	bc,_game_respawn_tile
1245  0175  09          	add	hl,bc
1246  0176  7E          	ld	a,(hl)
1247  0177  F5          	push	af
1248  0178  33          	inc	sp
1249  0179  21 03 04    	ld	hl,0x0403
1250  017C  E5          	push	hl
1251  017D  2A 00 00    	ld	hl,(_s_col1)
1252  0180  26 8A       	ld	h,0x8a
1253  0182  3A 00 00    	ld	a,(_s_lin1)
1254  0185  E5          	push	hl
1255  0186  F5          	push	af
1256  0187  33          	inc	sp
1257  0188  CD 00 00    	call	_spr_add_anim
1258  018B  F1          	pop	af
1259  018C  F1          	pop	af
1260  018D  F1          	pop	af
1261  018E  18 07       	jr	l_game_respawn_00108
1262  0190              l_game_respawn_00104:
1263  0190  21 00 00    	ld	hl,_sprite
1264  0193  34          	inc	(hl)
1265  0194  C3 01 01    	jp	l_game_respawn_00105
1266  0197              l_game_respawn_00108:
1267  0197  C9          	ret
1268  0198              	SECTION code_compiler
1269  0198              ;	---------------------------------
1270  0198              ; Function game_draw_screen
1271  0198              ; ---------------------------------
1272  0198              _game_draw_screen:
1273  0198  CD 00 00    	call	___sdcc_enter_ix
1274  019B  F5          	push	af
1275  019C  76          	halt
1276  019D  21 00 00    	ld	hl,_game_boss
1277  01A0  36 00       	ld	(hl),0x00
1278  01A2  21 00 00    	ld	hl,_game_boss_fix
1279  01A5  36 00       	ld	(hl),0x00
1280  01A7  2A 00 00    	ld	hl,(_curr_time)
1281  01AA  22 00 00    	ld	(_player_brick_time),hl
1282  01AD  21 00 00    	ld	hl,_spr_count
1283  01B0  36 00       	ld	(hl),0x00
1284  01B2  CD 00 00    	call	_spr_init_effects
1285  01B5  01 00 00    	ld	bc,_game_respawn_time+0
1286  01B8              l_game_draw_screen_00101:
1287  01B8  21 00 00    	ld	hl,_spr_count
1288  01BB  7E          	ld	a, (hl)
1289  01BC  D6 07       	sub	a,0x07
1290  01BE  30 46       	jr	NC,l_game_draw_screen_00103
1291  01C0  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1292  01C2  86          	add	a, (hl)
1293  01C3  5F          	ld	e, a
1294  01C4  3E 00       	ld	a, +((_game_respawn_index) / 256)
1295  01C6  CE 00       	adc	a,0x00
1296  01C8  57          	ld	d, a
1297  01C9  AF          	xor	a, a
1298  01CA  12          	ld	(de), a
1299  01CB  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1300  01CD  86          	add	a, (hl)
1301  01CE  5F          	ld	e, a
1302  01CF  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1303  01D1  CE 00       	adc	a,0x00
1304  01D3  57          	ld	d, a
1305  01D4  AF          	xor	a, a
1306  01D5  12          	ld	(de), a
1307  01D6  6E          	ld	l,(hl)
1308  01D7  26 00       	ld	h,0x00
1309  01D9  29          	add	hl, hl
1310  01DA  09          	add	hl, bc
1311  01DB  AF          	xor	a, a
1312  01DC  77          	ld	(hl), a
1313  01DD  23          	inc	hl
1314  01DE  77          	ld	(hl), a
1315  01DF  2A 00 00    	ld	hl,(_spr_count)
1316  01E2  26 00       	ld	h,0x00
1317  01E4  11 00 00    	ld	de,_mush_index
1318  01E7  19          	add	hl,de
1319  01E8  AF          	xor	a,a
1320  01E9  77          	ld	(hl),a
1321  01EA  2A 00 00    	ld	hl,(_spr_count)
1322  01ED  26 00       	ld	h,0x00
1323  01EF  11 00 00    	ld	de,_mush_class
1324  01F2  19          	add	hl,de
1325  01F3  AF          	xor	a,a
1326  01F4  77          	ld	(hl),a
1327  01F5  2A 00 00    	ld	hl,(_spr_count)
1328  01F8  26 00       	ld	h,0x00
1329  01FA  11 00 00    	ld	de,_class
1330  01FD  19          	add	hl,de
1331  01FE  AF          	xor	a,a
1332  01FF  77          	ld	(hl),a
1333  0200  21 00 00    	ld	hl,_spr_count
1334  0203  34          	inc	(hl)
1335  0204  18 B2       	jr	l_game_draw_screen_00101
1336  0206              l_game_draw_screen_00103:
1337  0206  21 10 00    	ld	hl,0x0010
1338  0209  22 00 00    	ld	(_index1),hl
1339  020C  21 00 00    	ld	hl,_s_lin1
1340  020F  36 00       	ld	(hl),0x00
1341  0211  21 00 00    	ld	hl,_s_col1
1342  0214  36 02       	ld	(hl),0x02
1343  0216  21 00 00    	ld	hl,_spr_count
1344  0219  36 00       	ld	(hl),0x00
1345  021B  F3          	di
1346  021C  DD 36 FF 00 	ld	(ix-1),0x00
1347  0220              l_game_draw_screen_00127:
1348  0220  21 00 00    	ld	hl,_index1
1349  0223  7E          	ld	a, (hl)
1350  0224  D6 A0       	sub	a,0xa0
1351  0226  23          	inc	hl
1352  0227  7E          	ld	a, (hl)
1353  0228  DE 00       	sbc	a,0x00
1354  022A  D2 4E 03    	jp	NC, l_game_draw_screen_00129
1355  022D  2B          	dec	hl
1356  022E  7E          	ld	a, (hl)
1357  022F  E6 0F       	and	a,0x0f
1358  0231  20 0C       	jr	NZ,l_game_draw_screen_00105
1359  0233  21 00 00    	ld	hl,_s_lin1
1360  0236  7E          	ld	a, (hl)
1361  0237  C6 10       	add	a,0x10
1362  0239  77          	ld	(hl), a
1363  023A  21 00 00    	ld	hl,_s_col1
1364  023D  36 00       	ld	(hl),0x00
1365  023F              l_game_draw_screen_00105:
1366  023F  01 00 00    	ld	bc,_scr_map
1367  0242  2A 00 00    	ld	hl,(_index1)
1368  0245  09          	add	hl,bc
1369  0246  7E          	ld	a,(hl)
1370  0247  DD 77 FE    	ld	(ix-2),a
1371  024A  D6 60       	sub	a,0x60
1372  024C  30 67       	jr	NC,l_game_draw_screen_00125
1373  024E  DD 7E FE    	ld	a,(ix-2)
1374  0251  D6 5D       	sub	a,0x5d
1375  0253  20 04       	jr	NZ,l_game_draw_screen_00197
1376  0255  3E 01       	ld	a,0x01
1377  0257  18 01       	jr	l_game_draw_screen_00198
1378  0259              l_game_draw_screen_00197:
1379  0259  AF          	xor	a,a
1380  025A              l_game_draw_screen_00198:
1381  025A  4F          	ld	c,a
1382  025B  B7          	or	a, a
1383  025C  20 07       	jr	NZ,l_game_draw_screen_00111
1384  025E  DD 7E FE    	ld	a,(ix-2)
1385  0261  D6 5A       	sub	a,0x5a
1386  0263  20 2E       	jr	NZ,l_game_draw_screen_00112
1387  0265              l_game_draw_screen_00111:
1388  0265  21 00 00    	ld	hl,_index1
1389  0268  7E          	ld	a, (hl)
1390  0269  C6 F0       	add	a,0xf0
1391  026B  47          	ld	b, a
1392  026C  23          	inc	hl
1393  026D  7E          	ld	a, (hl)
1394  026E  CE FF       	adc	a,0xff
1395  0270  5F          	ld	e, a
1396  0271  C5          	push	bc
1397  0272  68          	ld	l, b
1398  0273  63          	ld	h, e
1399  0274  CD 59 10    	call	_game_obj_chk
1400  0277  C1          	pop	bc
1401  0278  7D          	ld	a,l
1402  0279  B7          	or	a, a
1403  027A  28 0F       	jr	Z,l_game_draw_screen_00109
1404  027C  01 00 00    	ld	bc,_scr_map
1405  027F  2A 00 00    	ld	hl,(_index1)
1406  0282  09          	add	hl,bc
1407  0283  36 4F       	ld	(hl),0x4f
1408  0285  DD 36 FE 4F 	ld	(ix-2),0x4f
1409  0289  18 08       	jr	l_game_draw_screen_00112
1410  028B              l_game_draw_screen_00109:
1411  028B  79          	ld	a, c
1412  028C  B7          	or	a, a
1413  028D  28 04       	jr	Z,l_game_draw_screen_00112
1414  028F  DD 36 FE 00 	ld	(ix-2),0x00
1415  0293              l_game_draw_screen_00112:
1416  0293  DD 7E FE    	ld	a,(ix-2)
1417  0296  D6 23       	sub	a,0x23
1418  0298  20 09       	jr	NZ,l_game_draw_screen_00115
1419  029A  2A 00 00    	ld	hl,(_index1)
1420  029D  CD A8 11    	call	_game_match_back
1421  02A0  DD 75 FE    	ld	(ix-2),l
1422  02A3              l_game_draw_screen_00115:
1423  02A3  3A 00 00    	ld	a,(_s_col1)
1424  02A6  F5          	push	af
1425  02A7  33          	inc	sp
1426  02A8  2A FF FF    	ld	hl,(_s_lin1-1)
1427  02AB  DD 6E FE    	ld	l,(ix-2)
1428  02AE  E5          	push	hl
1429  02AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1430  02B2  C3 3D 03    	jp	l_game_draw_screen_00126
1431  02B5              l_game_draw_screen_00125:
1432  02B5  3E 78       	ld	a,0x78
1433  02B7  DD 96 FE    	sub	a,(ix-2)
1434  02BA  38 2D       	jr	C,l_game_draw_screen_00122
1435  02BC  3A 00 00    	ld	a,(_spr_count)
1436  02BF  D6 08       	sub	a,0x08
1437  02C1  30 53       	jr	NC,l_game_draw_screen_00123
1438  02C3  3A 00 00    	ld	a,(_game_boss_alive)
1439  02C6  B7          	or	a, a
1440  02C7  28 4D       	jr	Z,l_game_draw_screen_00123
1441  02C9  2A 00 00    	ld	hl,(_spr_count)
1442  02CC  26 00       	ld	h,0x00
1443  02CE  01 00 00    	ld	bc,_game_respawn_index
1444  02D1  09          	add	hl,bc
1445  02D2  3A 00 00    	ld	a,(_index1)
1446  02D5  77          	ld	(hl),a
1447  02D6  2A 00 00    	ld	hl,(_spr_count)
1448  02D9  26 00       	ld	h,0x00
1449  02DB  01 00 00    	ld	bc,_game_respawn_tile
1450  02DE  09          	add	hl,bc
1451  02DF  DD 7E FE    	ld	a,(ix-2)
1452  02E2  77          	ld	(hl),a
1453  02E3  6F          	ld	l,a
1454  02E4  CD 05 05    	call	_game_add_enemy
1455  02E7  18 2D       	jr	l_game_draw_screen_00123
1456  02E9              l_game_draw_screen_00122:
1457  02E9  2A 00 00    	ld	hl,(_index1)
1458  02EC  CD 59 10    	call	_game_obj_chk
1459  02EF  7D          	ld	a, l
1460  02F0  B7          	or	a, a
1461  02F1  20 23       	jr	NZ,l_game_draw_screen_00123
1462  02F3  3E 00       	ld	a, +((_mush_index) & 0xFF)
1463  02F5  DD 86 FF    	add	a,(ix-1)
1464  02F8  4F          	ld	c, a
1465  02F9  3E 00       	ld	a, +((_mush_index) / 256)
1466  02FB  CE 00       	adc	a,0x00
1467  02FD  47          	ld	b, a
1468  02FE  3A 00 00    	ld	a,(_index1)
1469  0301  C6 10       	add	a,0x10
1470  0303  02          	ld	(bc), a
1471  0304  3E 00       	ld	a, +((_mush_class) & 0xFF)
1472  0306  DD 86 FF    	add	a,(ix-1)
1473  0309  4F          	ld	c, a
1474  030A  3E 00       	ld	a, +((_mush_class) / 256)
1475  030C  CE 00       	adc	a,0x00
1476  030E  47          	ld	b, a
1477  030F  DD 7E FE    	ld	a,(ix-2)
1478  0312  02          	ld	(bc), a
1479  0313  DD 34 FF    	inc	(ix-1)
1480  0316              l_game_draw_screen_00123:
1481  0316  2A 00 00    	ld	hl,(_index1)
1482  0319  01 00 00    	ld	bc,_scr_map
1483  031C  09          	add	hl,bc
1484  031D  E5          	push	hl
1485  031E  2A 00 00    	ld	hl,(_index1)
1486  0321  CD A8 11    	call	_game_match_back
1487  0324  C1          	pop	bc
1488  0325  7D          	ld	a,l
1489  0326  02          	ld	(bc), a
1490  0327  01 00 00    	ld	bc,_scr_map
1491  032A  2A 00 00    	ld	hl,(_index1)
1492  032D  09          	add	hl,bc
1493  032E  46          	ld	b, (hl)
1494  032F  3A 00 00    	ld	a,(_s_col1)
1495  0332  F5          	push	af
1496  0333  33          	inc	sp
1497  0334  3A 00 00    	ld	a,(_s_lin1)
1498  0337  48          	ld	c,b
1499  0338  47          	ld	b,a
1500  0339  C5          	push	bc
1501  033A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1502  033D              l_game_draw_screen_00126:
1503  033D  21 00 00    	ld	hl,_s_col1
1504  0340  34          	inc	(hl)
1505  0341  34          	inc	(hl)
1506  0342  21 00 00    	ld	hl,_index1
1507  0345  34          	inc	(hl)
1508  0346  C2 20 02    	jp	NZ,l_game_draw_screen_00127
1509  0349  23          	inc	hl
1510  034A  34          	inc	(hl)
1511  034B  C3 20 02    	jp	l_game_draw_screen_00127
1512  034E              l_game_draw_screen_00129:
1513  034E  FB          	ei
1514  034F  3A 00 00    	ld	a,(_game_boss_alive)
1515  0352  B7          	or	a, a
1516  0353  20 03       	jr	NZ,l_game_draw_screen_00131
1517  0355  CD DA 10    	call	_game_boss_clear
1518  0358              l_game_draw_screen_00131:
1519  0358  CD 35 07    	call	_game_update_stats
1520  035B  F1          	pop	af
1521  035C  DD E1       	pop	ix
1522  035E  C9          	ret
1523  035F              	SECTION code_compiler
1524  035F              ;	---------------------------------
1525  035F              ; Function game_boss_kill
1526  035F              ; ---------------------------------
1527  035F              _game_boss_kill:
1528  035F  21 00 00    	ld	hl,_game_boss
1529  0362  36 00       	ld	(hl),0x00
1530  0364  21 00 00    	ld	hl,_game_boss_alive
1531  0367  36 00       	ld	(hl),0x00
1532  0369  21 00 00    	ld	hl,_ay_fx_04_explosion
1533  036C  E5          	push	hl
1534  036D  21 01 04    	ld	hl,0x0401
1535  0370  E5          	push	hl
1536  0371  CD 00 00    	call	_ay_song_play
1537  0374  3A 00 00    	ld	a,(_boss_col)
1538  0377  21 00 00    	ld	hl,0x0000
1539  037A  E5          	push	hl
1540  037B  21 87 03    	ld	hl,0x0387
1541  037E  E5          	push	hl
1542  037F  F5          	push	af
1543  0380  33          	inc	sp
1544  0381  3A 00 00    	ld	a,(_boss_lin)
1545  0384  F5          	push	af
1546  0385  33          	inc	sp
1547  0386  CD 00 00    	call	_spr_add_anim
1548  0389  F1          	pop	af
1549  038A  F1          	pop	af
1550  038B  F1          	pop	af
1551  038C  21 00 00    	ld	hl,_boss_col
1552  038F  46          	ld	b, (hl)
1553  0390  04          	inc	b
1554  0391  04          	inc	b
1555  0392  21 00 00    	ld	hl,0x0000
1556  0395  E5          	push	hl
1557  0396  21 87 03    	ld	hl,0x0387
1558  0399  E5          	push	hl
1559  039A  C5          	push	bc
1560  039B  33          	inc	sp
1561  039C  3A 00 00    	ld	a,(_boss_lin)
1562  039F  F5          	push	af
1563  03A0  33          	inc	sp
1564  03A1  CD 00 00    	call	_spr_add_anim
1565  03A4  F1          	pop	af
1566  03A5  F1          	pop	af
1567  03A6  F1          	pop	af
1568  03A7  3A 00 00    	ld	a,(_boss_lin)
1569  03AA  C6 10       	add	a,0x10
1570  03AC  47          	ld	b, a
1571  03AD  3A 00 00    	ld	a,(_boss_col)
1572  03B0  21 00 00    	ld	hl,0x0000
1573  03B3  E5          	push	hl
1574  03B4  21 87 03    	ld	hl,0x0387
1575  03B7  E5          	push	hl
1576  03B8  48          	ld	c,b
1577  03B9  47          	ld	b,a
1578  03BA  C5          	push	bc
1579  03BB  CD 00 00    	call	_spr_add_anim
1580  03BE  F1          	pop	af
1581  03BF  F1          	pop	af
1582  03C0  F1          	pop	af
1583  03C1  21 00 00    	ld	hl,_boss_col
1584  03C4  56          	ld	d, (hl)
1585  03C5  14          	inc	d
1586  03C6  14          	inc	d
1587  03C7  3A 00 00    	ld	a,(_boss_lin)
1588  03CA  C6 10       	add	a,0x10
1589  03CC  47          	ld	b, a
1590  03CD  21 00 00    	ld	hl,0x0000
1591  03D0  E5          	push	hl
1592  03D1  21 87 03    	ld	hl,0x0387
1593  03D4  E5          	push	hl
1594  03D5  58          	ld	e,b
1595  03D6  D5          	push	de
1596  03D7  CD 00 00    	call	_spr_add_anim
1597  03DA  F1          	pop	af
1598  03DB  F1          	pop	af
1599  03DC  F1          	pop	af
1600  03DD  21 00 00    	ld	hl,_tmp0
1601  03E0  36 00       	ld	(hl),0x00
1602  03E2              l_game_boss_kill_00106:
1603  03E2  2A 00 00    	ld	hl,(_tmp0)
1604  03E5  26 00       	ld	h,0x00
1605  03E7  01 00 00    	ld	bc,_bullet_col
1606  03EA  09          	add	hl,bc
1607  03EB  7E          	ld	a,(hl)
1608  03EC  4F          	ld	c,a
1609  03ED  3C          	inc	a
1610  03EE  28 15       	jr	Z,l_game_boss_kill_00102
1611  03F0  3A 00 00    	ld	a,(_tmp0)
1612  03F3  5F          	ld	e,a
1613  03F4  16 00       	ld	d,0x00
1614  03F6  21 00 00    	ld	hl,_bullet_lin
1615  03F9  19          	add	hl,de
1616  03FA  7E          	ld	a,(hl)
1617  03FB  32 00 00    	ld	(_s_lin0),a
1618  03FE  21 00 00    	ld	hl,_s_col0
1619  0401  71          	ld	(hl), c
1620  0402  CD 00 00    	call	_spr_back_repaint
1621  0405              l_game_boss_kill_00102:
1622  0405  2A 00 00    	ld	hl,(_tmp0)
1623  0408  26 00       	ld	h,0x00
1624  040A  01 00 00    	ld	bc,_bullet_col
1625  040D  09          	add	hl,bc
1626  040E  36 FF       	ld	(hl),0xff
1627  0410  2A 00 00    	ld	hl,(_tmp0)
1628  0413  CD 00 00    	call	_spr_destroy
1629  0416  2A 00 00    	ld	hl,(_tmp0)
1630  0419  26 00       	ld	h,0x00
1631  041B  29          	add	hl, hl
1632  041C  11 00 00    	ld	de,_game_respawn_time
1633  041F  19          	add	hl, de
1634  0420  AF          	xor	a, a
1635  0421  77          	ld	(hl), a
1636  0422  23          	inc	hl
1637  0423  77          	ld	(hl), a
1638  0424  21 00 00    	ld	hl,_tmp0
1639  0427  7E          	ld	a,(hl)
1640  0428  3C          	inc	a
1641  0429  77          	ld	(hl),a
1642  042A  D6 07       	sub	a,0x07
1643  042C  38 B4       	jr	C,l_game_boss_kill_00106
1644  042E  CD DA 10    	call	_game_boss_clear
1645  0431  CD CD 05    	call	_game_print_footer
1646  0434  21 00 00    	ld	hl,_game_world
1647  0437  7E          	ld	a, (hl)
1648  0438  D6 03       	sub	a,0x03
1649  043A  C0          	ret	NZ
1650  043B  CD 3F 04    	call	_game_end
1651  043E  C9          	ret
1652  043F              	SECTION code_compiler
1653  043F              ;	---------------------------------
1654  043F              ; Function game_end
1655  043F              ; ---------------------------------
1656  043F              _game_end:
1657  043F  21 F4 01    	ld	hl,0x01f4
1658  0442  CD 00 00    	call	_z80_delay_ms_fastcall
1659  0445  21 00 00    	ld	hl,_scr_curr
1660  0448  36 00       	ld	(hl),0x00
1661  044A  CD 00 00    	call	_spr_page_map
1662  044D  CD 98 01    	call	_game_draw_screen
1663  0450  21 00 00    	ld	hl,_ay_song_04_sunflower
1664  0453  E5          	push	hl
1665  0454  21 01 04    	ld	hl,0x0401
1666  0457  E5          	push	hl
1667  0458  CD 00 00    	call	_ay_song_play
1668  045B  21 80 02    	ld	hl,0x0280
1669  045E  E5          	push	hl
1670  045F  3E 70       	ld	a,0x70
1671  0461  F5          	push	af
1672  0462  33          	inc	sp
1673  0463  CD 00 00    	call	_NIRVANAP_drawT_callee
1674  0466  21 DC 05    	ld	hl,0x05dc
1675  0469  CD 00 00    	call	_z80_delay_ms_fastcall
1676  046C  21 00 00    	ld	hl,___str_0
1677  046F  E5          	push	hl
1678  0470  21 08 08    	ld	hl,0x0808
1679  0473  E5          	push	hl
1680  0474  CD 00 00    	call	_zx_print_str
1681  0477  AF          	xor	a, a
1682  0478  F5          	push	af
1683  0479  33          	inc	sp
1684  047A  21 D0 07    	ld	hl,0x07d0
1685  047D  E5          	push	hl
1686  047E  21 08 18    	ld	hl,0x1808
1687  0481  E5          	push	hl
1688  0482  3E 08       	ld	a,0x08
1689  0484  F5          	push	af
1690  0485  33          	inc	sp
1691  0486  CD 35 0B    	call	_game_colour_message
1692  0489  F1          	pop	af
1693  048A  F1          	pop	af
1694  048B  21 11 00    	ld	hl,___str_1
1695  048E  E3          	ex	(sp),hl
1696  048F  21 08 07    	ld	hl,0x0708
1697  0492  E5          	push	hl
1698  0493  CD 00 00    	call	_zx_print_str
1699  0496  AF          	xor	a, a
1700  0497  F5          	push	af
1701  0498  33          	inc	sp
1702  0499  21 D0 07    	ld	hl,0x07d0
1703  049C  E5          	push	hl
1704  049D  21 07 18    	ld	hl,0x1807
1705  04A0  E5          	push	hl
1706  04A1  3E 08       	ld	a,0x08
1707  04A3  F5          	push	af
1708  04A4  33          	inc	sp
1709  04A5  CD 35 0B    	call	_game_colour_message
1710  04A8  F1          	pop	af
1711  04A9  F1          	pop	af
1712  04AA  21 23 00    	ld	hl,___str_2
1713  04AD  E3          	ex	(sp),hl
1714  04AE  21 08 05    	ld	hl,0x0508
1715  04B1  E5          	push	hl
1716  04B2  CD 00 00    	call	_zx_print_str
1717  04B5  AF          	xor	a, a
1718  04B6  F5          	push	af
1719  04B7  33          	inc	sp
1720  04B8  21 D0 07    	ld	hl,0x07d0
1721  04BB  E5          	push	hl
1722  04BC  21 05 1B    	ld	hl,0x1b05
1723  04BF  E5          	push	hl
1724  04C0  3E 08       	ld	a,0x08
1725  04C2  F5          	push	af
1726  04C3  33          	inc	sp
1727  04C4  CD 35 0B    	call	_game_colour_message
1728  04C7  F1          	pop	af
1729  04C8  F1          	pop	af
1730  04C9  21 3A 00    	ld	hl,___str_3
1731  04CC  E3          	ex	(sp),hl
1732  04CD  21 08 03    	ld	hl,0x0308
1733  04D0  E5          	push	hl
1734  04D1  CD 00 00    	call	_zx_print_str
1735  04D4  AF          	xor	a, a
1736  04D5  F5          	push	af
1737  04D6  33          	inc	sp
1738  04D7  21 D0 07    	ld	hl,0x07d0
1739  04DA  E5          	push	hl
1740  04DB  21 03 1C    	ld	hl,0x1c03
1741  04DE  E5          	push	hl
1742  04DF  3E 08       	ld	a,0x08
1743  04E1  F5          	push	af
1744  04E2  33          	inc	sp
1745  04E3  CD 35 0B    	call	_game_colour_message
1746  04E6  F1          	pop	af
1747  04E7  F1          	pop	af
1748  04E8  F1          	pop	af
1749  04E9  21 E8 03    	ld	hl,0x03e8
1750  04EC  CD 00 00    	call	_z80_delay_ms_fastcall
1751  04EF  CD 00 00    	call	_in_wait_key
1752  04F2  CD 00 00    	call	_ay_reset
1753  04F5  21 00 00    	ld	hl,_game_world
1754  04F8  36 FF       	ld	(hl),0xff
1755  04FA  21 00 00    	ld	hl,_scr_curr
1756  04FD  36 FF       	ld	(hl),0xff
1757  04FF  21 00 00    	ld	hl,_game_worldup
1758  0502  36 01       	ld	(hl),0x01
1759  0504  C9          	ret
1760  0505              	SECTION rodata_compiler
1761  0000              ___str_0:
1762  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1763  0010  00          	DEFB 0x00
1764  0011              	SECTION rodata_compiler
1765  0011              ___str_1:
1766  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1767  0022  00          	DEFB 0x00
1768  0023              	SECTION rodata_compiler
1769  0023              ___str_2:
1770  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1771  0039  00          	DEFB 0x00
1772  003A              	SECTION rodata_compiler
1773  003A              ___str_3:
1774  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1775  0053  00          	DEFB 0x00
1776  0054              	SECTION code_compiler
1777  0505              ;	---------------------------------
1778  0505              ; Function game_add_enemy
1779  0505              ; ---------------------------------
1780  0505              _game_add_enemy:
1781  0505  7D          	ld	a,l
1782  0506  D6 78       	sub	a,0x78
1783  0508  28 59       	jr	Z,l_game_add_enemy_00119
1784  050A  4D          	ld	c,l
1785  050B  21 00 00    	ld	hl,_tmp0
1786  050E  36 00       	ld	(hl),0x00
1787  0510              l_game_add_enemy_00104:
1788  0510  3E 17       	ld	a,0x17
1789  0512  21 00 00    	ld	hl,_tmp0
1790  0515  96          	sub	a, (hl)
1791  0516  DA CC 05    	jp	C, l_game_add_enemy_00121
1792  0519  7E          	ld	a, (hl)
1793  051A  5F          	ld	e, a
1794  051B  87          	add	a, a
1795  051C  83          	add	a, e
1796  051D  21 00 00    	ld	hl,_tmp1
1797  0520  77          	ld	(hl), a
1798  0521  C6 00       	add	a,+((_spr_init) & 0xFF)
1799  0523  5F          	ld	e, a
1800  0524  3E 00       	ld	a, +((_spr_init) / 256)
1801  0526  CE 00       	adc	a,0x00
1802  0528  57          	ld	d, a
1803  0529  1A          	ld	a, (de)
1804  052A  91          	sub	a, c
1805  052B  20 30       	jr	NZ,l_game_add_enemy_00102
1806  052D  6E          	ld	l,(hl)
1807  052E  26 00       	ld	h,0x00
1808  0530  5D          	ld	e,l
1809  0531  54          	ld	d,h
1810  0532  23          	inc	hl
1811  0533  23          	inc	hl
1812  0534  3E 00       	ld	a, +((_spr_init) & 0xFF)
1813  0536  85          	add	a, l
1814  0537  6F          	ld	l, a
1815  0538  3E 00       	ld	a, +((_spr_init) / 256)
1816  053A  8C          	adc	a, h
1817  053B  67          	ld	h, a
1818  053C  46          	ld	b, (hl)
1819  053D  13          	inc	de
1820  053E  21 00 00    	ld	hl,_spr_init
1821  0541  19          	add	hl, de
1822  0542  56          	ld	d, (hl)
1823  0543  C5          	push	bc
1824  0544  4A          	ld	c, d
1825  0545  3A 00 00    	ld	a,(_s_col1)
1826  0548  C5          	push	bc
1827  0549  F5          	push	af
1828  054A  33          	inc	sp
1829  054B  3A 00 00    	ld	a,(_s_lin1)
1830  054E  F5          	push	af
1831  054F  33          	inc	sp
1832  0550  CD 00 00    	call	_enemy_init
1833  0553  F1          	pop	af
1834  0554  F1          	pop	af
1835  0555  C1          	pop	bc
1836  0556  21 00 00    	ld	hl,_tmp0
1837  0559  36 FF       	ld	(hl),0xff
1838  055B  18 B3       	jr	l_game_add_enemy_00104
1839  055D              l_game_add_enemy_00102:
1840  055D  21 00 00    	ld	hl,_tmp0
1841  0560  34          	inc	(hl)
1842  0561  18 AD       	jr	l_game_add_enemy_00104
1843  0563              l_game_add_enemy_00119:
1844  0563  3A 00 00    	ld	a,(_game_boss)
1845  0566  B7          	or	a, a
1846  0567  20 59       	jr	NZ,l_game_add_enemy_00115
1847  0569  3A 00 00    	ld	a,(_game_boss_alive)
1848  056C  B7          	or	a, a
1849  056D  28 53       	jr	Z,l_game_add_enemy_00115
1850  056F  3A 00 00    	ld	a,(_s_lin1)
1851  0572  32 00 00    	ld	(_boss_lin),a
1852  0575  3A 00 00    	ld	a,(_s_col1)
1853  0578  32 00 00    	ld	(_boss_col),a
1854  057B  3A 00 00    	ld	a,(_game_world)
1855  057E  B7          	or	a, a
1856  057F  28 10       	jr	Z,l_game_add_enemy_00107
1857  0581  3D          	dec	a
1858  0582  28 14       	jr	Z,l_game_add_enemy_00108
1859  0584  3A 00 00    	ld	a,(_game_world)
1860  0587  FE 02       	cp	a,0x02
1861  0589  28 14       	jr	Z,l_game_add_enemy_00109
1862  058B  D6 03       	sub	a,0x03
1863  058D  28 17       	jr	Z,l_game_add_enemy_00110
1864  058F  18 1A       	jr	l_game_add_enemy_00111
1865  0591              l_game_add_enemy_00107:
1866  0591  21 00 00    	ld	hl,_boss_tile
1867  0594  36 C8       	ld	(hl),0xc8
1868  0596  18 13       	jr	l_game_add_enemy_00111
1869  0598              l_game_add_enemy_00108:
1870  0598  21 00 00    	ld	hl,_boss_tile
1871  059B  36 D8       	ld	(hl),0xd8
1872  059D  18 0C       	jr	l_game_add_enemy_00111
1873  059F              l_game_add_enemy_00109:
1874  059F  21 00 00    	ld	hl,_boss_tile
1875  05A2  36 DC       	ld	(hl),0xdc
1876  05A4  18 05       	jr	l_game_add_enemy_00111
1877  05A6              l_game_add_enemy_00110:
1878  05A6  21 00 00    	ld	hl,_boss_tile
1879  05A9  36 E0       	ld	(hl),0xe0
1880  05AB              l_game_add_enemy_00111:
1881  05AB  21 00 00    	ld	hl,_boss_stat
1882  05AE  36 00       	ld	(hl),0x00
1883  05B0  21 00 00    	ld	hl,_boss_stat
1884  05B3  CD 00 00    	call	_spr_set_up
1885  05B6  21 00 00    	ld	hl,_game_boss
1886  05B9  36 01       	ld	(hl),0x01
1887  05BB  21 00 00    	ld	hl,_game_boss_hit
1888  05BE  36 06       	ld	(hl),0x06
1889  05C0  18 0A       	jr	l_game_add_enemy_00121
1890  05C2              l_game_add_enemy_00115:
1891  05C2  3A 00 00    	ld	a,(_game_boss)
1892  05C5  B7          	or	a, a
1893  05C6  C0          	ret	NZ
1894  05C7  21 00 00    	ld	hl,_game_boss_fix
1895  05CA  36 01       	ld	(hl),0x01
1896  05CC              l_game_add_enemy_00121:
1897  05CC  C9          	ret
1898  05CD              	SECTION code_compiler
1899  05CD              ;	---------------------------------
1900  05CD              ; Function game_print_footer
1901  05CD              ; ---------------------------------
1902  05CD              _game_print_footer:
1903  05CD  21 00 00    	ld	hl,_screen_ink
1904  05D0  36 05       	ld	(hl),0x05
1905  05D2  21 13 62    	ld	hl,0x6213
1906  05D5  E5          	push	hl
1907  05D6  CD 00 00    	call	_game_fill_row
1908  05D9  21 54 00    	ld	hl,___str_4
1909  05DC  E5          	push	hl
1910  05DD  21 13 00    	ld	hl,0x0013
1911  05E0  E5          	push	hl
1912  05E1  CD 00 00    	call	_zx_print_str
1913  05E4  21 56 00    	ld	hl,___str_5
1914  05E7  E5          	push	hl
1915  05E8  21 13 1F    	ld	hl,0x1f13
1916  05EB  E5          	push	hl
1917  05EC  CD 00 00    	call	_zx_print_str
1918  05EF  21 58 00    	ld	hl,___str_6
1919  05F2  E5          	push	hl
1920  05F3  21 14 00    	ld	hl,0x0014
1921  05F6  E5          	push	hl
1922  05F7  CD 00 00    	call	_zx_print_str
1923  05FA  21 5A 00    	ld	hl,___str_7
1924  05FD  E5          	push	hl
1925  05FE  21 14 1F    	ld	hl,0x1f14
1926  0601  E5          	push	hl
1927  0602  CD 00 00    	call	_zx_print_str
1928  0605  21 58 00    	ld	hl,___str_6
1929  0608  E5          	push	hl
1930  0609  21 15 00    	ld	hl,0x0015
1931  060C  E5          	push	hl
1932  060D  CD 00 00    	call	_zx_print_str
1933  0610  21 5A 00    	ld	hl,___str_7
1934  0613  E5          	push	hl
1935  0614  21 15 1F    	ld	hl,0x1f15
1936  0617  E5          	push	hl
1937  0618  CD 00 00    	call	_zx_print_str
1938  061B  21 58 00    	ld	hl,___str_6
1939  061E  E5          	push	hl
1940  061F  21 16 00    	ld	hl,0x0016
1941  0622  E5          	push	hl
1942  0623  CD 00 00    	call	_zx_print_str
1943  0626  21 5A 00    	ld	hl,___str_7
1944  0629  E5          	push	hl
1945  062A  21 16 1F    	ld	hl,0x1f16
1946  062D  E5          	push	hl
1947  062E  CD 00 00    	call	_zx_print_str
1948  0631  21 17 62    	ld	hl,0x6217
1949  0634  E5          	push	hl
1950  0635  CD 00 00    	call	_game_fill_row
1951  0638  21 5C 00    	ld	hl,___str_8
1952  063B  E5          	push	hl
1953  063C  21 17 00    	ld	hl,0x0017
1954  063F  E5          	push	hl
1955  0640  CD 00 00    	call	_zx_print_str
1956  0643  21 5E 00    	ld	hl,___str_9
1957  0646  E5          	push	hl
1958  0647  21 17 1F    	ld	hl,0x1f17
1959  064A  E5          	push	hl
1960  064B  CD 00 00    	call	_zx_print_str
1961  064E  21 00 00    	ld	hl,_screen_ink
1962  0651  36 05       	ld	(hl),0x05
1963  0653  21 60 00    	ld	hl,___str_10
1964  0656  E5          	push	hl
1965  0657  21 14 01    	ld	hl,0x0114
1966  065A  E5          	push	hl
1967  065B  CD 00 00    	call	_zx_print_str
1968  065E  21 00 00    	ld	hl,_screen_ink
1969  0661  36 06       	ld	(hl),0x06
1970  0663  21 62 00    	ld	hl,___str_11
1971  0666  E5          	push	hl
1972  0667  21 15 01    	ld	hl,0x0115
1973  066A  E5          	push	hl
1974  066B  CD 00 00    	call	_zx_print_str
1975  066E  21 00 00    	ld	hl,_screen_ink
1976  0671  36 42       	ld	(hl),0x42
1977  0673  21 64 00    	ld	hl,___str_12
1978  0676  E5          	push	hl
1979  0677  21 14 08    	ld	hl,0x0814
1980  067A  E5          	push	hl
1981  067B  CD 00 00    	call	_zx_print_str
1982  067E  21 00 00    	ld	hl,_screen_ink
1983  0681  36 03       	ld	(hl),0x03
1984  0683  21 66 00    	ld	hl,___str_13
1985  0686  E5          	push	hl
1986  0687  21 15 08    	ld	hl,0x0815
1987  068A  E5          	push	hl
1988  068B  CD 00 00    	call	_zx_print_str
1989  068E  21 00 00    	ld	hl,_screen_ink
1990  0691  36 47       	ld	(hl),0x47
1991  0693  21 68 00    	ld	hl,___str_14
1992  0696  E5          	push	hl
1993  0697  21 14 0F    	ld	hl,0x0f14
1994  069A  E5          	push	hl
1995  069B  CD 00 00    	call	_zx_print_str
1996  069E  21 00 00    	ld	hl,_screen_ink
1997  06A1  36 05       	ld	(hl),0x05
1998  06A3  21 6A 00    	ld	hl,___str_15
1999  06A6  E5          	push	hl
2000  06A7  21 15 0F    	ld	hl,0x0f15
2001  06AA  E5          	push	hl
2002  06AB  CD 00 00    	call	_zx_print_str
2003  06AE  21 00 00    	ld	hl,_screen_ink
2004  06B1  36 45       	ld	(hl),0x45
2005  06B3  21 6C 00    	ld	hl,___str_16
2006  06B6  E5          	push	hl
2007  06B7  21 14 15    	ld	hl,0x1514
2008  06BA  E5          	push	hl
2009  06BB  CD 00 00    	call	_zx_print_str
2010  06BE  21 00 00    	ld	hl,_screen_ink
2011  06C1  36 07       	ld	(hl),0x07
2012  06C3  21 6E 00    	ld	hl,___str_17
2013  06C6  E5          	push	hl
2014  06C7  21 15 15    	ld	hl,0x1515
2015  06CA  E5          	push	hl
2016  06CB  CD 00 00    	call	_zx_print_str
2017  06CE  3A 00 00    	ld	a,(_game_show_fps)
2018  06D1  B7          	or	a, a
2019  06D2  28 0B       	jr	Z,l_game_print_footer_00102
2020  06D4  21 70 00    	ld	hl,___str_18
2021  06D7  E5          	push	hl
2022  06D8  21 17 14    	ld	hl,0x1417
2023  06DB  E5          	push	hl
2024  06DC  CD 00 00    	call	_zx_print_str
2025  06DF              l_game_print_footer_00102:
2026  06DF  21 00 00    	ld	hl,_screen_ink
2027  06E2  36 06       	ld	(hl),0x06
2028  06E4  21 75 00    	ld	hl,___str_19
2029  06E7  E5          	push	hl
2030  06E8  21 16 07    	ld	hl,0x0716
2031  06EB  E5          	push	hl
2032  06EC  CD 00 00    	call	_zx_print_str
2033  06EF  21 77 00    	ld	hl,___str_20
2034  06F2  E5          	push	hl
2035  06F3  21 16 0D    	ld	hl,0x0d16
2036  06F6  E5          	push	hl
2037  06F7  CD 00 00    	call	_zx_print_str
2038  06FA  21 79 00    	ld	hl,___str_21
2039  06FD  E5          	push	hl
2040  06FE  21 16 13    	ld	hl,0x1316
2041  0701  E5          	push	hl
2042  0702  CD 00 00    	call	_zx_print_str
2043  0705  21 7B 00    	ld	hl,___str_22
2044  0708  E5          	push	hl
2045  0709  21 16 19    	ld	hl,0x1916
2046  070C  E5          	push	hl
2047  070D  CD 00 00    	call	_zx_print_str
2048  0710  CD 35 07    	call	_game_update_stats
2049  0713  C9          	ret
2050  0714              	SECTION rodata_compiler
2051  0054              ___str_4:
2052  0054  61          	DEFM "a"
2053  0055  00          	DEFB 0x00
2054  0056              	SECTION rodata_compiler
2055  0056              ___str_5:
2056  0056  63          	DEFM "c"
2057  0057  00          	DEFB 0x00
2058  0058              	SECTION rodata_compiler
2059  0058              ___str_6:
2060  0058  64          	DEFM "d"
2061  0059  00          	DEFB 0x00
2062  005A              	SECTION rodata_compiler
2063  005A              ___str_7:
2064  005A  65          	DEFM "e"
2065  005B  00          	DEFB 0x00
2066  005C              	SECTION rodata_compiler
2067  005C              ___str_8:
2068  005C  66          	DEFM "f"
2069  005D  00          	DEFB 0x00
2070  005E              	SECTION rodata_compiler
2071  005E              ___str_9:
2072  005E  67          	DEFM "g"
2073  005F  00          	DEFB 0x00
2074  0060              	SECTION rodata_compiler
2075  0060              ___str_10:
2076  0060  3C          	DEFM "<"
2077  0061  00          	DEFB 0x00
2078  0062              	SECTION rodata_compiler
2079  0062              ___str_11:
2080  0062  5C          	DEFB 0x5c
2081  0063  00          	DEFB 0x00
2082  0064              	SECTION rodata_compiler
2083  0064              ___str_12:
2084  0064  3E          	DEFM ">"
2085  0065  00          	DEFB 0x00
2086  0066              	SECTION rodata_compiler
2087  0066              ___str_13:
2088  0066  5E          	DEFM "^"
2089  0067  00          	DEFB 0x00
2090  0068              	SECTION rodata_compiler
2091  0068              ___str_14:
2092  0068  3F          	DEFM "?"
2093  0069  00          	DEFB 0x00
2094  006A              	SECTION rodata_compiler
2095  006A              ___str_15:
2096  006A  5F          	DEFM "_"
2097  006B  00          	DEFB 0x00
2098  006C              	SECTION rodata_compiler
2099  006C              ___str_16:
2100  006C  78          	DEFM "x"
2101  006D  00          	DEFB 0x00
2102  006E              	SECTION rodata_compiler
2103  006E              ___str_17:
2104  006E  79          	DEFM "y"
2105  006F  00          	DEFB 0x00
2106  0070              	SECTION rodata_compiler
2107  0070              ___str_18:
2108  0070  4C 50 53 3A 	DEFM "LPS:"
2109  0074  00          	DEFB 0x00
2110  0075              	SECTION rodata_compiler
2111  0075              ___str_19:
2112  0075  6C          	DEFM "l"
2113  0076  00          	DEFB 0x00
2114  0077              	SECTION rodata_compiler
2115  0077              ___str_20:
2116  0077  6D          	DEFM "m"
2117  0078  00          	DEFB 0x00
2118  0079              	SECTION rodata_compiler
2119  0079              ___str_21:
2120  0079  6E          	DEFM "n"
2121  007A  00          	DEFB 0x00
2122  007B              	SECTION rodata_compiler
2123  007B              ___str_22:
2124  007B  6F          	DEFM "o"
2125  007C  00          	DEFB 0x00
2126  007D              	SECTION code_compiler
2127  0714              ;	---------------------------------
2128  0714              ; Function game_print_score
2129  0714              ; ---------------------------------
2130  0714              _game_print_score:
2131  0714  21 00 00    	ld	hl,_screen_ink
2132  0717  36 07       	ld	(hl),0x07
2133  0719  21 00 00    	ld	hl,_screen_paper
2134  071C  36 00       	ld	(hl),0x00
2135  071E  2A 00 00    	ld	hl,(_player_score)
2136  0721  E5          	push	hl
2137  0722  21 14 17    	ld	hl,0x1714
2138  0725  E5          	push	hl
2139  0726  CD 00 00    	call	_zx_print_int
2140  0729  2A 00 00    	ld	hl,(_game_score_top)
2141  072C  E5          	push	hl
2142  072D  21 00 0E    	ld	hl,0x0e00
2143  0730  E5          	push	hl
2144  0731  CD 00 00    	call	_zx_print_int
2145  0734  C9          	ret
2146  0735              	SECTION code_compiler
2147  0735              ;	---------------------------------
2148  0735              ; Function game_update_stats
2149  0735              ; ---------------------------------
2150  0735              _game_update_stats:
2151  0735  21 00 00    	ld	hl,_screen_ink
2152  0738  36 07       	ld	(hl),0x07
2153  073A  3A 00 00    	ld	a,(_player_lives)
2154  073D  F5          	push	af
2155  073E  33          	inc	sp
2156  073F  21 14 03    	ld	hl,0x0314
2157  0742  E5          	push	hl
2158  0743  CD 00 00    	call	_zx_print_chr
2159  0746  3A 00 00    	ld	a,(_player_coins)
2160  0749  F5          	push	af
2161  074A  33          	inc	sp
2162  074B  21 16 09    	ld	hl,0x0916
2163  074E  E5          	push	hl
2164  074F  CD 00 00    	call	_zx_print_chr
2165  0752  3A 00 00    	ld	a,(_player_str)
2166  0755  F5          	push	af
2167  0756  33          	inc	sp
2168  0757  21 16 0F    	ld	hl,0x0f16
2169  075A  E5          	push	hl
2170  075B  CD 00 00    	call	_zx_print_chr
2171  075E  3A 00 00    	ld	a,(_player_int)
2172  0761  F5          	push	af
2173  0762  33          	inc	sp
2174  0763  21 16 15    	ld	hl,0x1516
2175  0766  E5          	push	hl
2176  0767  CD 00 00    	call	_zx_print_chr
2177  076A  3A 00 00    	ld	a,(_player_lvl)
2178  076D  F5          	push	af
2179  076E  33          	inc	sp
2180  076F  21 16 1B    	ld	hl,0x1b16
2181  0772  E5          	push	hl
2182  0773  CD 00 00    	call	_zx_print_chr
2183  0776  21 00 00    	ld	hl,_screen_ink
2184  0779  36 02       	ld	(hl),0x02
2185  077B  3A 00 00    	ld	a,(_player_vita)
2186  077E  F5          	push	af
2187  077F  33          	inc	sp
2188  0780  21 14 0A    	ld	hl,0x0a14
2189  0783  E5          	push	hl
2190  0784  CD 00 00    	call	_zx_print_chr
2191  0787  21 00 00    	ld	hl,_screen_ink
2192  078A  36 01       	ld	(hl),0x01
2193  078C  3A 00 00    	ld	a,(_player_mana)
2194  078F  F5          	push	af
2195  0790  33          	inc	sp
2196  0791  21 14 11    	ld	hl,0x1114
2197  0794  E5          	push	hl
2198  0795  CD 00 00    	call	_zx_print_chr
2199  0798  3A 00 00    	ld	a,(_game_boss)
2200  079B  B7          	or	a, a
2201  079C  28 3E       	jr	Z,l_game_update_stats_00106
2202  079E  21 00 00    	ld	hl,_screen_ink
2203  07A1  36 03       	ld	(hl),0x03
2204  07A3  21 00 00    	ld	hl,_tmp0
2205  07A6  36 00       	ld	(hl),0x00
2206  07A8              l_game_update_stats_00115:
2207  07A8  21 00 00    	ld	hl,_tmp0
2208  07AB  7E          	ld	a, (hl)
2209  07AC  C6 0D       	add	a,0x0d
2210  07AE  47          	ld	b, a
2211  07AF  7E          	ld	a, (hl)
2212  07B0  21 00 00    	ld	hl,_game_boss_hit
2213  07B3  96          	sub	a, (hl)
2214  07B4  30 0F       	jr	NC,l_game_update_stats_00102
2215  07B6  21 7D 00    	ld	hl,___str_23
2216  07B9  E5          	push	hl
2217  07BA  C5          	push	bc
2218  07BB  33          	inc	sp
2219  07BC  3E 13       	ld	a,0x13
2220  07BE  F5          	push	af
2221  07BF  33          	inc	sp
2222  07C0  CD 00 00    	call	_zx_print_str
2223  07C3  18 0D       	jr	l_game_update_stats_00116
2224  07C5              l_game_update_stats_00102:
2225  07C5  21 7F 00    	ld	hl,___str_24
2226  07C8  E5          	push	hl
2227  07C9  C5          	push	bc
2228  07CA  33          	inc	sp
2229  07CB  3E 13       	ld	a,0x13
2230  07CD  F5          	push	af
2231  07CE  33          	inc	sp
2232  07CF  CD 00 00    	call	_zx_print_str
2233  07D2              l_game_update_stats_00116:
2234  07D2  21 00 00    	ld	hl,_tmp0
2235  07D5  7E          	ld	a,(hl)
2236  07D6  3C          	inc	a
2237  07D7  77          	ld	(hl),a
2238  07D8  D6 06       	sub	a,0x06
2239  07DA  38 CC       	jr	C,l_game_update_stats_00115
2240  07DC              l_game_update_stats_00106:
2241  07DC  3A 00 00    	ld	a,(_player_keys)
2242  07DF  B7          	or	a, a
2243  07E0  28 10       	jr	Z,l_game_update_stats_00108
2244  07E2  21 00 00    	ld	hl,_screen_ink
2245  07E5  36 07       	ld	(hl),0x07
2246  07E7  21 81 00    	ld	hl,___str_25
2247  07EA  E5          	push	hl
2248  07EB  21 16 02    	ld	hl,0x0216
2249  07EE  E5          	push	hl
2250  07EF  CD 00 00    	call	_zx_print_str
2251  07F2              l_game_update_stats_00108:
2252  07F2  3A 01 00    	ld	a, (_player_keys + 1)
2253  07F5  B7          	or	a, a
2254  07F6  28 10       	jr	Z,l_game_update_stats_00110
2255  07F8  21 00 00    	ld	hl,_screen_ink
2256  07FB  36 02       	ld	(hl),0x02
2257  07FD  21 81 00    	ld	hl,___str_25
2258  0800  E5          	push	hl
2259  0801  21 16 03    	ld	hl,0x0316
2260  0804  E5          	push	hl
2261  0805  CD 00 00    	call	_zx_print_str
2262  0808              l_game_update_stats_00110:
2263  0808  3A 02 00    	ld	a, (_player_keys + 2)
2264  080B  B7          	or	a, a
2265  080C  28 10       	jr	Z,l_game_update_stats_00112
2266  080E  21 00 00    	ld	hl,_screen_ink
2267  0811  36 04       	ld	(hl),0x04
2268  0813  21 81 00    	ld	hl,___str_25
2269  0816  E5          	push	hl
2270  0817  21 16 04    	ld	hl,0x0416
2271  081A  E5          	push	hl
2272  081B  CD 00 00    	call	_zx_print_str
2273  081E              l_game_update_stats_00112:
2274  081E  3A 03 00    	ld	a, (_player_keys + 3)
2275  0821  B7          	or	a, a
2276  0822  C8          	ret	Z
2277  0823  21 00 00    	ld	hl,_screen_ink
2278  0826  36 05       	ld	(hl),0x05
2279  0828  21 81 00    	ld	hl,___str_25
2280  082B  E5          	push	hl
2281  082C  21 16 05    	ld	hl,0x0516
2282  082F  E5          	push	hl
2283  0830  CD 00 00    	call	_zx_print_str
2284  0833  C9          	ret
2285  0834              	SECTION rodata_compiler
2286  007D              ___str_23:
2287  007D  2A          	DEFM "*"
2288  007E  00          	DEFB 0x00
2289  007F              	SECTION rodata_compiler
2290  007F              ___str_24:
2291  007F  20          	DEFM " "
2292  0080  00          	DEFB 0x00
2293  0081              	SECTION rodata_compiler
2294  0081              ___str_25:
2295  0081  5D          	DEFM "]"
2296  0082  00          	DEFB 0x00
2297  0083              	SECTION code_compiler
2298  0834              ;	---------------------------------
2299  0834              ; Function game_tick
2300  0834              ; ---------------------------------
2301  0834              _game_tick:
2302  0834  21 00 00    	ld	hl,_curr_time
2303  0837  34          	inc	(hl)
2304  0838  C2 00 00    	jp	NZ,_zx_isr
2305  083B  23          	inc	hl
2306  083C  34          	inc	(hl)
2307  083D  C3 00 00    	jp  _zx_isr
2308  0840              	SECTION code_compiler
2309  0840              ;	---------------------------------
2310  0840              ; Function game_start_timer
2311  0840              ; ---------------------------------
2312  0840              _game_start_timer:
2313  0840  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2314  0843  36 CD       	ld	(hl),0xcd
2315  0845  23          	inc	hl
2316  0846  11 34 08    	ld	de,_game_tick
2317  0849  73          	ld	(hl), e
2318  084A  23          	inc	hl
2319  084B  72          	ld	(hl), d
2320  084C  C9          	ret
2321  084D              	SECTION code_compiler
2322  084D              ;	---------------------------------
2323  084D              ; Function game_set_checkpoint
2324  084D              ; ---------------------------------
2325  084D              _game_set_checkpoint:
2326  084D  3A 00 00    	ld	a,(_player_col_scr)
2327  0850  CB 3F       	srl	a
2328  0852  87          	add	a, a
2329  0853  32 00 00    	ld	(_game_checkpoint_col),a
2330  0856  3A 00 00    	ld	a,(_player_lin_scr)
2331  0859  07          	rlca
2332  085A  07          	rlca
2333  085B  07          	rlca
2334  085C  07          	rlca
2335  085D  E6 0F       	and	a,0x0f
2336  085F  07          	rlca
2337  0860  07          	rlca
2338  0861  07          	rlca
2339  0862  07          	rlca
2340  0863  E6 F0       	and	a,0xf0
2341  0865  32 00 00    	ld	(_game_checkpoint_lin),a
2342  0868  3A 00 00    	ld	a,(_scr_curr)
2343  086B  32 00 00    	ld	(_game_checkpoint_scr),a
2344  086E  C9          	ret
2345  086F              	SECTION code_compiler
2346  086F              ;	---------------------------------
2347  086F              ; Function game_round_init
2348  086F              ; ---------------------------------
2349  086F              _game_round_init:
2350  086F  21 00 00    	ld	hl,0x0000
2351  0872  22 00 00    	ld	(_loop_count),hl
2352  0875  21 00 00    	ld	hl,0
2353  0878  22 00 00    	ld	(_curr_time),hl
2354  087B  21 00 00    	ld	hl,0x0000
2355  087E  22 00 00    	ld	(_frame_time),hl
2356  0881  CD 00 00    	call	_spr_init_effects
2357  0884  CD 47 09    	call	_game_print_header
2358  0887  CD CD 05    	call	_game_print_footer
2359  088A  CD 00 00    	call	_spr_page_map
2360  088D  CD 98 01    	call	_game_draw_screen
2361  0890  CD 4D 08    	call	_game_set_checkpoint
2362  0893  3A 00 00    	ld	a,(_game_over)
2363  0896  B7          	or	a, a
2364  0897  20 10       	jr	NZ,l_game_round_init_00102
2365  0899  2A 00 00    	ld	hl,(_player_col_scr)
2366  089C  26 70       	ld	h,0x70
2367  089E  3A 00 00    	ld	a,(_player_lin_scr)
2368  08A1  E5          	push	hl
2369  08A2  F5          	push	af
2370  08A3  33          	inc	sp
2371  08A4  CD 00 00    	call	_player_init
2372  08A7  F1          	pop	af
2373  08A8  33          	inc	sp
2374  08A9              l_game_round_init_00102:
2375  08A9  CD 35 07    	call	_game_update_stats
2376  08AC  CD 00 00    	call	_ay_reset
2377  08AF  21 00 00    	ld	hl,_ay_song_04_lotr_level_start
2378  08B2  E5          	push	hl
2379  08B3  21 01 04    	ld	hl,0x0401
2380  08B6  E5          	push	hl
2381  08B7  CD 00 00    	call	_ay_song_play
2382  08BA  3A 00 00    	ld	a,(_game_world)
2383  08BD  B7          	or	a, a
2384  08BE  28 10       	jr	Z,l_game_round_init_00103
2385  08C0  3D          	dec	a
2386  08C1  28 1F       	jr	Z,l_game_round_init_00104
2387  08C3  3A 00 00    	ld	a,(_game_world)
2388  08C6  FE 02       	cp	a,0x02
2389  08C8  28 2A       	jr	Z,l_game_round_init_00105
2390  08CA  D6 03       	sub	a,0x03
2391  08CC  28 38       	jr	Z,l_game_round_init_00106
2392  08CE  18 46       	jr	l_game_round_init_00107
2393  08D0              l_game_round_init_00103:
2394  08D0  21 83 00    	ld	hl,___str_26
2395  08D3  E5          	push	hl
2396  08D4  21 0C 06    	ld	hl,0x060c
2397  08D7  E5          	push	hl
2398  08D8  CD 00 00    	call	_zx_print_str
2399  08DB  21 00 00    	ld	hl,_tmp0
2400  08DE  36 11       	ld	(hl),0x11
2401  08E0  18 34       	jr	l_game_round_init_00107
2402  08E2              l_game_round_init_00104:
2403  08E2  21 95 00    	ld	hl,___str_27
2404  08E5  E5          	push	hl
2405  08E6  21 0C 06    	ld	hl,0x060c
2406  08E9  E5          	push	hl
2407  08EA  CD 00 00    	call	_zx_print_str
2408  08ED  21 00 00    	ld	hl,_tmp0
2409  08F0  36 0D       	ld	(hl),0x0d
2410  08F2  18 22       	jr	l_game_round_init_00107
2411  08F4              l_game_round_init_00105:
2412  08F4  21 A3 00    	ld	hl,___str_28
2413  08F7  E5          	push	hl
2414  08F8  21 0C 06    	ld	hl,0x060c
2415  08FB  E5          	push	hl
2416  08FC  CD 00 00    	call	_zx_print_str
2417  08FF  21 00 00    	ld	hl,_tmp0
2418  0902  36 0E       	ld	(hl),0x0e
2419  0904  18 10       	jr	l_game_round_init_00107
2420  0906              l_game_round_init_00106:
2421  0906  21 B2 00    	ld	hl,___str_29
2422  0909  E5          	push	hl
2423  090A  21 0C 06    	ld	hl,0x060c
2424  090D  E5          	push	hl
2425  090E  CD 00 00    	call	_zx_print_str
2426  0911  21 00 00    	ld	hl,_tmp0
2427  0914  36 11       	ld	(hl),0x11
2428  0916              l_game_round_init_00107:
2429  0916  3A 00 00    	ld	a,(_tmp0)
2430  0919  C6 06       	add	a,0x06
2431  091B  4F          	ld	c, a
2432  091C  06 68       	ld	b,0x68
2433  091E  C5          	push	bc
2434  091F  3E 06       	ld	a,0x06
2435  0921  F5          	push	af
2436  0922  33          	inc	sp
2437  0923  21 00 00    	ld	hl,_attrib_osd
2438  0926  E5          	push	hl
2439  0927  CD 0B 0B    	call	_game_paint_attrib
2440  092A  F1          	pop	af
2441  092B  F1          	pop	af
2442  092C  33          	inc	sp
2443  092D  3A 00 00    	ld	a,(_tmp0)
2444  0930  C6 06       	add	a,0x06
2445  0932  47          	ld	b, a
2446  0933  AF          	xor	a, a
2447  0934  F5          	push	af
2448  0935  33          	inc	sp
2449  0936  21 C8 00    	ld	hl,0x00c8
2450  0939  E5          	push	hl
2451  093A  C5          	push	bc
2452  093B  33          	inc	sp
2453  093C  21 0C 06    	ld	hl,0x060c
2454  093F  E5          	push	hl
2455  0940  CD 35 0B    	call	_game_colour_message
2456  0943  F1          	pop	af
2457  0944  F1          	pop	af
2458  0945  F1          	pop	af
2459  0946  C9          	ret
2460  0947              	SECTION rodata_compiler
2461  0083              ___str_26:
2462  0083  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2463  0094  00          	DEFB 0x00
2464  0095              	SECTION rodata_compiler
2465  0095              ___str_27:
2466  0095  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2467  00A2  00          	DEFB 0x00
2468  00A3              	SECTION rodata_compiler
2469  00A3              ___str_28:
2470  00A3  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2471  00B1  00          	DEFB 0x00
2472  00B2              	SECTION rodata_compiler
2473  00B2              ___str_29:
2474  00B2  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2475  00C3  00          	DEFB 0x00
2476  00C4              	SECTION code_compiler
2477  0947              ;	---------------------------------
2478  0947              ; Function game_print_header
2479  0947              ; ---------------------------------
2480  0947              _game_print_header:
2481  0947  21 00 00    	ld	hl,_screen_ink
2482  094A  36 02       	ld	(hl),0x02
2483  094C  21 C4 00    	ld	hl,___str_30
2484  094F  E5          	push	hl
2485  0950  21 00 0B    	ld	hl,0x0b00
2486  0953  E5          	push	hl
2487  0954  CD 00 00    	call	_zx_print_str
2488  0957  21 00 00    	ld	hl,_screen_ink
2489  095A  36 07       	ld	(hl),0x07
2490  095C  CD 14 07    	call	_game_print_score
2491  095F  C9          	ret
2492  0960              	SECTION rodata_compiler
2493  00C4              ___str_30:
2494  00C4  24 25 7C    	DEFM "$%|"
2495  00C7  00          	DEFB 0x00
2496  00C8              	SECTION code_compiler
2497  0960              ;	---------------------------------
2498  0960              ; Function game_check_map
2499  0960              ; ---------------------------------
2500  0960              _game_check_map:
2501  0960  CD 00 00    	call	___sdcc_enter_ix
2502  0963  DD CB 05 46 	bit	0,(ix+5)
2503  0967  20 18       	jr	NZ,l_game_check_map_00108
2504  0969  DD 66 05    	ld	h,(ix+5)
2505  096C  DD 6E 04    	ld	l,(ix+4)
2506  096F  E5          	push	hl
2507  0970  CD 00 00    	call	_spr_calc_index
2508  0973  F1          	pop	af
2509  0974  22 00 00    	ld	(_index1),hl
2510  0977  21 00 00    	ld	hl,_index1
2511  097A  CD DC 09    	call	_game_check_cell
2512  097D  26 00       	ld	h,0x00
2513  097F  18 58       	jr	l_game_check_map_00110
2514  0981              l_game_check_map_00108:
2515  0981  21 00 00    	ld	hl,_g_player_hit_left
2516  0984  36 00       	ld	(hl),0x00
2517  0986  21 00 00    	ld	hl,_g_player_hit_right
2518  0989  36 00       	ld	(hl),0x00
2519  098B  DD 46 05    	ld	b,(ix+5)
2520  098E  05          	dec	b
2521  098F  DD 4E 04    	ld	c,(ix+4)
2522  0992  C5          	push	bc
2523  0993  CD 00 00    	call	_spr_calc_index
2524  0996  F1          	pop	af
2525  0997  22 00 00    	ld	(_index1),hl
2526  099A  21 00 00    	ld	hl,_index1
2527  099D  CD DC 09    	call	_game_check_cell
2528  09A0  7D          	ld	a, l
2529  09A1  B7          	or	a, a
2530  09A2  28 05       	jr	Z,l_game_check_map_00102
2531  09A4  21 00 00    	ld	hl,_g_player_hit_left
2532  09A7  36 01       	ld	(hl),0x01
2533  09A9              l_game_check_map_00102:
2534  09A9  3A 00 00    	ld	a,(_g_player_hit_left)
2535  09AC  B7          	or	a, a
2536  09AD  20 17       	jr	NZ,l_game_check_map_00106
2537  09AF  21 00 00    	ld	hl,_index1
2538  09B2  34          	inc	(hl)
2539  09B3  20 02       	jr	NZ,l_game_check_map_00141
2540  09B5  23          	inc	hl
2541  09B6  34          	inc	(hl)
2542  09B7              l_game_check_map_00141:
2543  09B7  21 00 00    	ld	hl,_index1
2544  09BA  CD DC 09    	call	_game_check_cell
2545  09BD  7D          	ld	a, l
2546  09BE  B7          	or	a, a
2547  09BF  28 05       	jr	Z,l_game_check_map_00106
2548  09C1  21 00 00    	ld	hl,_g_player_hit_right
2549  09C4  36 01       	ld	(hl),0x01
2550  09C6              l_game_check_map_00106:
2551  09C6  3A 00 00    	ld	a,(_g_player_hit_left)
2552  09C9  B7          	or	a, a
2553  09CA  20 09       	jr	NZ,l_game_check_map_00113
2554  09CC  3A 00 00    	ld	a,(_g_player_hit_right)
2555  09CF  B7          	or	a,a
2556  09D0  20 03       	jr	NZ,l_game_check_map_00113
2557  09D2  6F          	ld	l,a
2558  09D3  18 02       	jr	l_game_check_map_00114
2559  09D5              l_game_check_map_00113:
2560  09D5  2E 01       	ld	l,0x01
2561  09D7              l_game_check_map_00114:
2562  09D7  26 00       	ld	h,0x00
2563  09D9              l_game_check_map_00110:
2564  09D9  DD E1       	pop	ix
2565  09DB  C9          	ret
2566  09DC              	SECTION code_compiler
2567  09DC              ;	---------------------------------
2568  09DC              ; Function game_check_cell
2569  09DC              ; ---------------------------------
2570  09DC              _game_check_cell:
2571  09DC  CD 00 00    	call	___sdcc_enter_ix
2572  09DF  4E          	ld	c,(hl)
2573  09E0  F5          	push	af
2574  09E1  F5          	push	af
2575  09E2  23          	inc	hl
2576  09E3  46          	ld	b, (hl)
2577  09E4  3E A0       	ld	a,0xa0
2578  09E6  B9          	cp	a, c
2579  09E7  3E 00       	ld	a,0x00
2580  09E9  98          	sbc	a, b
2581  09EA  30 05       	jr	NC,l_game_check_cell_00102
2582  09EC  2E 01       	ld	l,0x01
2583  09EE  C3 06 0B    	jp	l_game_check_cell_00156
2584  09F1              l_game_check_cell_00102:
2585  09F1  21 00 00    	ld	hl,_scr_map
2586  09F4  09          	add	hl, bc
2587  09F5  56          	ld	d, (hl)
2588  09F6  3A 00 00    	ld	a,(_sprite)
2589  09F9  D6 07       	sub	a,0x07
2590  09FB  20 04       	jr	NZ,l_game_check_cell_00246
2591  09FD  3E 01       	ld	a,0x01
2592  09FF  18 01       	jr	l_game_check_cell_00247
2593  0A01              l_game_check_cell_00246:
2594  0A01  AF          	xor	a,a
2595  0A02              l_game_check_cell_00247:
2596  0A02  DD 77 FF    	ld	(ix-1),a
2597  0A05  7A          	ld	a, d
2598  0A06  D6 44       	sub	a,0x44
2599  0A08  3E 00       	ld	a,0x00
2600  0A0A  17          	rla
2601  0A0B  DD 77 FE    	ld	(ix-2),a
2602  0A0E  DD CB FF 46 	bit	0,(ix-1)
2603  0A12  C2 A8 0A    	jp	NZ, l_game_check_cell_00134
2604  0A15  3E 00       	ld	a, +((_class) & 0xFF)
2605  0A17  21 00 00    	ld	hl,_sprite
2606  0A1A  86          	add	a, (hl)
2607  0A1B  DD 77 FC    	ld	(ix-4),a
2608  0A1E  3E 00       	ld	a, +((_class) / 256)
2609  0A20  CE 00       	adc	a,0x00
2610  0A22  DD 77 FD    	ld	(ix-3),a
2611  0A25  E1          	pop	hl
2612  0A26  5E          	ld	e,(hl)
2613  0A27  E5          	push	hl
2614  0A28  3E 00       	ld	a, +((_sprite_kind) & 0xFF)
2615  0A2A  83          	add	a, e
2616  0A2B  6F          	ld	l, a
2617  0A2C  3E 00       	ld	a, +((_sprite_kind) / 256)
2618  0A2E  CE 00       	adc	a,0x00
2619  0A30  67          	ld	h, a
2620  0A31  7E          	ld	a,(hl)
2621  0A32  6F          	ld	l,a
2622  0A33  D6 05       	sub	a,0x05
2623  0A35  20 04       	jr	NZ,l_game_check_cell_00104
2624  0A37  6F          	ld	l,a
2625  0A38  C3 06 0B    	jp	l_game_check_cell_00156
2626  0A3B              l_game_check_cell_00104:
2627  0A3B  7A          	ld	a, d
2628  0A3C  D6 80       	sub	a,0x80
2629  0A3E  38 05       	jr	C,l_game_check_cell_00106
2630  0A40  2E 00       	ld	l,0x00
2631  0A42  C3 06 0B    	jp	l_game_check_cell_00156
2632  0A45              l_game_check_cell_00106:
2633  0A45  7A          	ld	a, d
2634  0A46  D6 23       	sub	a,0x23
2635  0A48  20 05       	jr	NZ,l_game_check_cell_00108
2636  0A4A  2E 01       	ld	l,0x01
2637  0A4C  C3 06 0B    	jp	l_game_check_cell_00156
2638  0A4F              l_game_check_cell_00108:
2639  0A4F  7D          	ld	a,l
2640  0A50  FE 02       	cp	a,0x02
2641  0A52  28 04       	jr	Z,l_game_check_cell_00121
2642  0A54  D6 06       	sub	a,0x06
2643  0A56  20 30       	jr	NZ,l_game_check_cell_00122
2644  0A58              l_game_check_cell_00121:
2645  0A58  7B          	ld	a,e
2646  0A59  FE 09       	cp	a,0x09
2647  0A5B  28 04       	jr	Z,l_game_check_cell_00117
2648  0A5D  D6 0A       	sub	a,0x0a
2649  0A5F  20 0E       	jr	NZ,l_game_check_cell_00118
2650  0A61              l_game_check_cell_00117:
2651  0A61  3E 3A       	ld	a,0x3a
2652  0A63  92          	sub	a, d
2653  0A64  38 05       	jr	C,l_game_check_cell_00110
2654  0A66  2E 00       	ld	l,0x00
2655  0A68  C3 06 0B    	jp	l_game_check_cell_00156
2656  0A6B              l_game_check_cell_00110:
2657  0A6B  6A          	ld	l, d
2658  0A6C  C3 06 0B    	jp	l_game_check_cell_00156
2659  0A6F              l_game_check_cell_00118:
2660  0A6F  3E 2F       	ld	a,0x2f
2661  0A71  92          	sub	a, d
2662  0A72  30 0B       	jr	NC,l_game_check_cell_00112
2663  0A74  DD CB FE 46 	bit	0,(ix-2)
2664  0A78  20 0A       	jr	NZ,l_game_check_cell_00113
2665  0A7A  3E 47       	ld	a,0x47
2666  0A7C  92          	sub	a, d
2667  0A7D  38 05       	jr	C,l_game_check_cell_00113
2668  0A7F              l_game_check_cell_00112:
2669  0A7F  2E 00       	ld	l,0x00
2670  0A81  C3 06 0B    	jp	l_game_check_cell_00156
2671  0A84              l_game_check_cell_00113:
2672  0A84  6A          	ld	l, d
2673  0A85  C3 06 0B    	jp	l_game_check_cell_00156
2674  0A88              l_game_check_cell_00122:
2675  0A88  7D          	ld	a, l
2676  0A89  3D          	dec	a
2677  0A8A  28 05       	jr	Z,l_game_check_cell_00130
2678  0A8C  7D          	ld	a, l
2679  0A8D  D6 03       	sub	a,0x03
2680  0A8F  20 17       	jr	NZ,l_game_check_cell_00134
2681  0A91              l_game_check_cell_00130:
2682  0A91  3A 00 00    	ld	a,(_sprite_horizontal_check)
2683  0A94  B7          	or	a, a
2684  0A95  28 04       	jr	Z,l_game_check_cell_00125
2685  0A97  0E 48       	ld	c,0x48
2686  0A99  18 02       	jr	l_game_check_cell_00126
2687  0A9B              l_game_check_cell_00125:
2688  0A9B  0E 3A       	ld	c,0x3a
2689  0A9D              l_game_check_cell_00126:
2690  0A9D  7A          	ld	a, d
2691  0A9E  91          	sub	a, c
2692  0A9F  30 04       	jr	NC,l_game_check_cell_00128
2693  0AA1  2E 00       	ld	l,0x00
2694  0AA3  18 61       	jr	l_game_check_cell_00156
2695  0AA5              l_game_check_cell_00128:
2696  0AA5  6A          	ld	l, d
2697  0AA6  18 5E       	jr	l_game_check_cell_00156
2698  0AA8              l_game_check_cell_00134:
2699  0AA8  7A          	ld	a, d
2700  0AA9  D6 3A       	sub	a,0x3a
2701  0AAB  30 04       	jr	NC,l_game_check_cell_00136
2702  0AAD  2E 00       	ld	l,0x00
2703  0AAF  18 55       	jr	l_game_check_cell_00156
2704  0AB1              l_game_check_cell_00136:
2705  0AB1  3A 00 00    	ld	a,(_s_state)
2706  0AB4  E6 02       	and	a,0x02
2707  0AB6  5F          	ld	e, a
2708  0AB7  DD CB FE 46 	bit	0,(ix-2)
2709  0ABB  28 0C       	jr	Z,l_game_check_cell_00141
2710  0ABD  7B          	ld	a, e
2711  0ABE  B7          	or	a, a
2712  0ABF  28 04       	jr	Z,l_game_check_cell_00138
2713  0AC1  2E 01       	ld	l,0x01
2714  0AC3  18 41       	jr	l_game_check_cell_00156
2715  0AC5              l_game_check_cell_00138:
2716  0AC5  2E 00       	ld	l,0x00
2717  0AC7  18 3D       	jr	l_game_check_cell_00156
2718  0AC9              l_game_check_cell_00141:
2719  0AC9  7A          	ld	a, d
2720  0ACA  D6 48       	sub	a,0x48
2721  0ACC  30 16       	jr	NC,l_game_check_cell_00149
2722  0ACE  3A 00 00    	ld	a,(_sprite_horizontal_check)
2723  0AD1  B7          	or	a, a
2724  0AD2  28 04       	jr	Z,l_game_check_cell_00146
2725  0AD4  2E 00       	ld	l,0x00
2726  0AD6  18 2E       	jr	l_game_check_cell_00156
2727  0AD8              l_game_check_cell_00146:
2728  0AD8  7B          	ld	a, e
2729  0AD9  B7          	or	a, a
2730  0ADA  28 04       	jr	Z,l_game_check_cell_00143
2731  0ADC  2E 01       	ld	l,0x01
2732  0ADE  18 26       	jr	l_game_check_cell_00156
2733  0AE0              l_game_check_cell_00143:
2734  0AE0  2E 00       	ld	l,0x00
2735  0AE2  18 22       	jr	l_game_check_cell_00156
2736  0AE4              l_game_check_cell_00149:
2737  0AE4  7A          	ld	a, d
2738  0AE5  D6 4C       	sub	a,0x4c
2739  0AE7  30 12       	jr	NC,l_game_check_cell_00153
2740  0AE9  DD CB FF 46 	bit	0,(ix-1)
2741  0AED  28 0C       	jr	Z,l_game_check_cell_00153
2742  0AEF  D5          	push	de
2743  0AF0  33          	inc	sp
2744  0AF1  C5          	push	bc
2745  0AF2  CD 00 00    	call	_player_open_door
2746  0AF5  F1          	pop	af
2747  0AF6  33          	inc	sp
2748  0AF7  2E 01       	ld	l,0x01
2749  0AF9  18 0B       	jr	l_game_check_cell_00156
2750  0AFB              l_game_check_cell_00153:
2751  0AFB  7A          	ld	a, d
2752  0AFC  D6 60       	sub	a,0x60
2753  0AFE  30 04       	jr	NC,l_game_check_cell_00155
2754  0B00  2E 01       	ld	l,0x01
2755  0B02  18 02       	jr	l_game_check_cell_00156
2756  0B04              l_game_check_cell_00155:
2757  0B04  2E 00       	ld	l,0x00
2758  0B06              l_game_check_cell_00156:
2759  0B06  DD F9       	ld	sp, ix
2760  0B08  DD E1       	pop	ix
2761  0B0A  C9          	ret
2762  0B0B              	SECTION code_compiler
2763  0B0B              ;	---------------------------------
2764  0B0B              ; Function game_paint_attrib
2765  0B0B              ; ---------------------------------
2766  0B0B              _game_paint_attrib:
2767  0B0B  CD 00 00    	call	___sdcc_enter_ix
2768  0B0E  DD 7E 06    	ld	a,(ix+6)
2769  0B11  32 00 00    	ld	(_tmp_uc),a
2770  0B14              l_game_paint_attrib_00103:
2771  0B14  21 00 00    	ld	hl,_tmp_uc
2772  0B17  7E          	ld	a, (hl)
2773  0B18  DD 96 07    	sub	a,(ix+7)
2774  0B1B  30 15       	jr	NC,l_game_paint_attrib_00105
2775  0B1D  DD 4E 04    	ld	c,(ix+4)
2776  0B20  DD 46 05    	ld	b,(ix+5)
2777  0B23  66          	ld	h,(hl)
2778  0B24  DD 6E 08    	ld	l,(ix+8)
2779  0B27  E5          	push	hl
2780  0B28  C5          	push	bc
2781  0B29  CD 00 00    	call	_NIRVANAP_paintC_callee
2782  0B2C  21 00 00    	ld	hl,_tmp_uc
2783  0B2F  34          	inc	(hl)
2784  0B30  18 E2       	jr	l_game_paint_attrib_00103
2785  0B32              l_game_paint_attrib_00105:
2786  0B32  DD E1       	pop	ix
2787  0B34  C9          	ret
2788  0B35              	SECTION code_compiler
2789  0B35              ;	---------------------------------
2790  0B35              ; Function game_colour_message
2791  0B35              ; ---------------------------------
2792  0B35              _game_colour_message:
2793  0B35  CD 00 00    	call	___sdcc_enter_ix
2794  0B38  F5          	push	af
2795  0B39  F5          	push	af
2796  0B3A  3B          	dec	sp
2797  0B3B  D1          	pop	de
2798  0B3C  21 00 00    	ld	hl,_tmp
2799  0B3F  36 01       	ld	(hl),0x01
2800  0B41  2A 00 00    	ld	hl,(_curr_time)
2801  0B44  22 00 00    	ld	(_frame_time),hl
2802  0B47  E5          	push	hl
2803  0B48  DD 7E 04    	ld	a,(ix+4)
2804  0B4B  4D          	ld	c,l
2805  0B4C  07          	rlca
2806  0B4D  07          	rlca
2807  0B4E  07          	rlca
2808  0B4F  E6 F8       	and	a,0xf8
2809  0B51  DD 77 FD    	ld	(ix-3),a
2810  0B54  C6 08       	add	a,0x08
2811  0B56  DD 77 FF    	ld	(ix-1),a
2812  0B59  DD 77 FE    	ld	(ix-2),a
2813  0B5C              l_game_colour_message_00112:
2814  0B5C  3A 00 00    	ld	a,(_tmp)
2815  0B5F  B7          	or	a, a
2816  0B60  CA E6 0B    	jp	Z, l_game_colour_message_00114
2817  0B63  DD 46 07    	ld	b,(ix+7)
2818  0B66  21 00 00    	ld	hl,0x0000
2819  0B69  39          	add	hl, sp
2820  0B6A  EB          	ex	de,hl
2821  0B6B  C5          	push	bc
2822  0B6C  33          	inc	sp
2823  0B6D  D5          	push	de
2824  0B6E  CD 58 0C    	call	_game_check_time
2825  0B71  F1          	pop	af
2826  0B72  33          	inc	sp
2827  0B73  7D          	ld	a, l
2828  0B74  B7          	or	a, a
2829  0B75  20 6F       	jr	NZ,l_game_colour_message_00114
2830  0B77  3E 05       	ld	a,0x05
2831  0B79  F5          	push	af
2832  0B7A  33          	inc	sp
2833  0B7B  21 00 00    	ld	hl,_frame_time
2834  0B7E  E5          	push	hl
2835  0B7F  CD 58 0C    	call	_game_check_time
2836  0B82  F1          	pop	af
2837  0B83  33          	inc	sp
2838  0B84  7D          	ld	a, l
2839  0B85  B7          	or	a, a
2840  0B86  28 40       	jr	Z,l_game_colour_message_00105
2841  0B88  2A 00 00    	ld	hl,(_curr_time)
2842  0B8B  22 00 00    	ld	(_frame_time),hl
2843  0B8E  3A 00 00    	ld	a,(_game_over)
2844  0B91  B7          	or	a,a
2845  0B92  28 1B       	jr	Z,l_game_colour_message_00102
2846  0B94  DD 66 FE    	ld	h,(ix-2)
2847  0B97  DD 6E 06    	ld	l,(ix+6)
2848  0B9A  E5          	push	hl
2849  0B9B  DD 7E 05    	ld	a,(ix+5)
2850  0B9E  F5          	push	af
2851  0B9F  33          	inc	sp
2852  0BA0  21 00 00    	ld	hl,_attrib_hl
2853  0BA3  E5          	push	hl
2854  0BA4  CD 0B 0B    	call	_game_paint_attrib
2855  0BA7  F1          	pop	af
2856  0BA8  F1          	pop	af
2857  0BA9  33          	inc	sp
2858  0BAA  CD 13 11    	call	_game_rotate_attrib
2859  0BAD  18 19       	jr	l_game_colour_message_00105
2860  0BAF              l_game_colour_message_00102:
2861  0BAF  DD 66 FF    	ld	h,(ix-1)
2862  0BB2  DD 6E 06    	ld	l,(ix+6)
2863  0BB5  E5          	push	hl
2864  0BB6  DD 7E 05    	ld	a,(ix+5)
2865  0BB9  F5          	push	af
2866  0BBA  33          	inc	sp
2867  0BBB  21 00 00    	ld	hl,_attrib_osd
2868  0BBE  E5          	push	hl
2869  0BBF  CD 0B 0B    	call	_game_paint_attrib
2870  0BC2  F1          	pop	af
2871  0BC3  F1          	pop	af
2872  0BC4  33          	inc	sp
2873  0BC5  CD 2F 11    	call	_game_rotate_attrib_osd
2874  0BC8              l_game_colour_message_00105:
2875  0BC8  DD 7E 09    	ld	a,(ix+9)
2876  0BCB  B7          	or	a, a
2877  0BCC  28 8E       	jr	Z,l_game_colour_message_00112
2878  0BCE              l_game_colour_message_00106:
2879  0BCE  21 00 00    	ld	hl,_k1
2880  0BD1  E5          	push	hl
2881  0BD2  2A 00 00    	ld	hl,(_joyfunc1)
2882  0BD5  CD 00 00    	call	___sdcc_call_hl
2883  0BD8  F1          	pop	af
2884  0BD9  7C          	ld	a,h
2885  0BDA  B5          	or	a,l
2886  0BDB  4D          	ld	c,l
2887  0BDC  CA 5C 0B    	jp	Z, l_game_colour_message_00112
2888  0BDF  21 00 00    	ld	hl,_tmp
2889  0BE2  36 00       	ld	(hl),0x00
2890  0BE4  18 E8       	jr	l_game_colour_message_00106
2891  0BE6              l_game_colour_message_00114:
2892  0BE6  DD 7E 06    	ld	a,(ix+6)
2893  0BE9  DD 96 05    	sub	a,(ix+5)
2894  0BEC  4F          	ld	c, a
2895  0BED  3A 00 00    	ld	a,(_game_over)
2896  0BF0  B7          	or	a, a
2897  0BF1  28 2B       	jr	Z,l_game_colour_message_00118
2898  0BF3  21 00 00    	ld	hl,_tmp1
2899  0BF6  71          	ld	(hl), c
2900  0BF7  21 00 00    	ld	hl,_tmp0
2901  0BFA  36 00       	ld	(hl),0x00
2902  0BFC              l_game_colour_message_00121:
2903  0BFC  3A 00 00    	ld	a,(_tmp0)
2904  0BFF  21 00 00    	ld	hl,_tmp1
2905  0C02  96          	sub	a, (hl)
2906  0C03  30 4E       	jr	NC,l_game_colour_message_00126
2907  0C05  DD 7E 05    	ld	a,(ix+5)
2908  0C08  21 00 00    	ld	hl,_tmp0
2909  0C0B  86          	add	a, (hl)
2910  0C0C  47          	ld	b, a
2911  0C0D  21 C8 00    	ld	hl,___str_31
2912  0C10  E5          	push	hl
2913  0C11  DD 4E 04    	ld	c,(ix+4)
2914  0C14  C5          	push	bc
2915  0C15  CD 00 00    	call	_zx_print_str
2916  0C18  21 00 00    	ld	hl,_tmp0
2917  0C1B  34          	inc	(hl)
2918  0C1C  18 DE       	jr	l_game_colour_message_00121
2919  0C1E              l_game_colour_message_00118:
2920  0C1E  21 00 00    	ld	hl,_tmp1
2921  0C21  71          	ld	(hl), c
2922  0C22  DD 7E FD    	ld	a,(ix-3)
2923  0C25  32 00 00    	ld	(_s_lin0),a
2924  0C28  DD 7E 05    	ld	a,(ix+5)
2925  0C2B  CB 3F       	srl	a
2926  0C2D  87          	add	a, a
2927  0C2E  32 00 00    	ld	(_s_col1),a
2928  0C31  21 00 00    	ld	hl,_tmp0
2929  0C34  36 00       	ld	(hl),0x00
2930  0C36              l_game_colour_message_00124:
2931  0C36  3A 00 00    	ld	a,(_tmp0)
2932  0C39  21 00 00    	ld	hl,_tmp1
2933  0C3C  96          	sub	a, (hl)
2934  0C3D  30 14       	jr	NC,l_game_colour_message_00126
2935  0C3F  3A 00 00    	ld	a,(_s_col1)
2936  0C42  21 00 00    	ld	hl,_tmp0
2937  0C45  86          	add	a, (hl)
2938  0C46  32 00 00    	ld	(_s_col0),a
2939  0C49  CD 00 00    	call	_spr_back_repaint
2940  0C4C  21 00 00    	ld	hl,_tmp0
2941  0C4F  34          	inc	(hl)
2942  0C50  34          	inc	(hl)
2943  0C51  18 E3       	jr	l_game_colour_message_00124
2944  0C53              l_game_colour_message_00126:
2945  0C53  DD F9       	ld	sp, ix
2946  0C55  DD E1       	pop	ix
2947  0C57  C9          	ret
2948  0C58              	SECTION rodata_compiler
2949  00C8              ___str_31:
2950  00C8  20          	DEFM " "
2951  00C9  00          	DEFB 0x00
2952  00CA              	SECTION code_compiler
2953  0C58              ;	---------------------------------
2954  0C58              ; Function game_check_time
2955  0C58              ; ---------------------------------
2956  0C58              _game_check_time:
2957  0C58  CD 00 00    	call	___sdcc_enter_ix
2958  0C5B  2A 00 00    	ld	hl,(_curr_time)
2959  0C5E  4D          	ld	c, l
2960  0C5F  DD 6E 04    	ld	l,(ix+4)
2961  0C62  44          	ld	b,h
2962  0C63  DD 66 05    	ld	h,(ix+5)
2963  0C66  5E          	ld	e, (hl)
2964  0C67  23          	inc	hl
2965  0C68  56          	ld	d, (hl)
2966  0C69  79          	ld	a, c
2967  0C6A  93          	sub	a, e
2968  0C6B  4F          	ld	c, a
2969  0C6C  78          	ld	a, b
2970  0C6D  9A          	sbc	a, d
2971  0C6E  47          	ld	b, a
2972  0C6F  DD 7E 06    	ld	a,(ix+6)
2973  0C72  16 00       	ld	d,0x00
2974  0C74  91          	sub	a, c
2975  0C75  7A          	ld	a, d
2976  0C76  98          	sbc	a, b
2977  0C77  30 04       	jr	NC,l_game_check_time_00102
2978  0C79  2E 01       	ld	l,0x01
2979  0C7B  18 02       	jr	l_game_check_time_00104
2980  0C7D              l_game_check_time_00102:
2981  0C7D  2E 00       	ld	l,0x00
2982  0C7F              l_game_check_time_00104:
2983  0C7F  DD E1       	pop	ix
2984  0C81  C9          	ret
2985  0C82              	SECTION code_compiler
2986  0C82              ;	---------------------------------
2987  0C82              ; Function game_shoot_fire
2988  0C82              ; ---------------------------------
2989  0C82              _game_shoot_fire:
2990  0C82  CD 00 00    	call	___sdcc_enter_ix
2991  0C85  21 F3 FF    	ld	hl, -13
2992  0C88  39          	add	hl, sp
2993  0C89  F9          	ld	sp, hl
2994  0C8A  01 00 00    	ld	bc,_bullet_col
2995  0C8D  DD 6E 04    	ld	l,(ix+4)
2996  0C90  26 00       	ld	h,0x00
2997  0C92  09          	add	hl,bc
2998  0C93  DD 75 FE    	ld	(ix-2),l
2999  0C96  DD 74 FF    	ld	(ix-1),h
3000  0C99  4E          	ld	c, (hl)
3001  0C9A  0C          	inc	c
3002  0C9B  C2 AE 0E    	jp	NZ,l_game_shoot_fire_00126
3003  0C9E  21 00 00    	ld	hl,_bullet_count
3004  0CA1  34          	inc	(hl)
3005  0CA2  01 00 00    	ld	bc,_bullet_dir
3006  0CA5  DD 6E 04    	ld	l,(ix+4)
3007  0CA8  26 00       	ld	h,0x00
3008  0CAA  09          	add	hl,bc
3009  0CAB  DD 75 FC    	ld	(ix-4),l
3010  0CAE  DD 74 FD    	ld	(ix-3),h
3011  0CB1  36 00       	ld	(hl),0x00
3012  0CB3  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3013  0CB5  DD 86 04    	add	a,(ix+4)
3014  0CB8  4F          	ld	c, a
3015  0CB9  3E 00       	ld	a, +((_bullet_lin0) / 256)
3016  0CBB  CE 00       	adc	a,0x00
3017  0CBD  47          	ld	b, a
3018  0CBE  11 00 00    	ld	de,_lin
3019  0CC1  DD 6E 04    	ld	l,(ix+4)
3020  0CC4  26 00       	ld	h,0x00
3021  0CC6  19          	add	hl,de
3022  0CC7  DD 75 FA    	ld	(ix-6),l
3023  0CCA  DD 74 FB    	ld	(ix-5),h
3024  0CCD  7E          	ld	a, (hl)
3025  0CCE  02          	ld	(bc), a
3026  0CCF  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3027  0CD1  DD 86 04    	add	a,(ix+4)
3028  0CD4  4F          	ld	c, a
3029  0CD5  3E 00       	ld	a, +((_bullet_col0) / 256)
3030  0CD7  CE 00       	adc	a,0x00
3031  0CD9  47          	ld	b, a
3032  0CDA  11 00 00    	ld	de,_col
3033  0CDD  DD 6E 04    	ld	l,(ix+4)
3034  0CE0  26 00       	ld	h,0x00
3035  0CE2  19          	add	hl,de
3036  0CE3  DD 75 F8    	ld	(ix-8),l
3037  0CE6  DD 74 F9    	ld	(ix-7),h
3038  0CE9  7E          	ld	a, (hl)
3039  0CEA  02          	ld	(bc), a
3040  0CEB  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3041  0CED  DD 86 04    	add	a,(ix+4)
3042  0CF0  DD 77 F6    	ld	(ix-10),a
3043  0CF3  3E 00       	ld	a, +((_bullet_lin) / 256)
3044  0CF5  CE 00       	adc	a,0x00
3045  0CF7  DD 77 F7    	ld	(ix-9),a
3046  0CFA  DD 6E FA    	ld	l,(ix-6)
3047  0CFD  DD 66 FB    	ld	h,(ix-5)
3048  0D00  4E          	ld	c, (hl)
3049  0D01  DD 6E F6    	ld	l,(ix-10)
3050  0D04  DD 66 F7    	ld	h,(ix-9)
3051  0D07  71          	ld	(hl), c
3052  0D08  01 00 00    	ld	bc,_bullet_frames
3053  0D0B  DD 6E 04    	ld	l,(ix+4)
3054  0D0E  26 00       	ld	h,0x00
3055  0D10  09          	add	hl,bc
3056  0D11  DD 75 F4    	ld	(ix-12),l
3057  0D14  DD 74 F5    	ld	(ix-11),h
3058  0D17  36 02       	ld	(hl),0x02
3059  0D19  DD 7E 04    	ld	a,(ix+4)
3060  0D1C  D6 07       	sub	a,0x07
3061  0D1E  20 04       	jr	NZ,l_game_shoot_fire_00175
3062  0D20  3E 01       	ld	a,0x01
3063  0D22  18 01       	jr	l_game_shoot_fire_00176
3064  0D24              l_game_shoot_fire_00175:
3065  0D24  AF          	xor	a,a
3066  0D25              l_game_shoot_fire_00176:
3067  0D25  DD 77 F3    	ld	(ix-13),a
3068  0D28  B7          	or	a, a
3069  0D29  28 13       	jr	Z,l_game_shoot_fire_00102
3070  0D2B  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3071  0D2D  DD 86 04    	add	a,(ix+4)
3072  0D30  4F          	ld	c, a
3073  0D31  3E 00       	ld	a, +((_bullet_max) / 256)
3074  0D33  CE 00       	adc	a,0x00
3075  0D35  47          	ld	b, a
3076  0D36  3A 00 00    	ld	a,(_player_lvl)
3077  0D39  C6 04       	add	a,0x04
3078  0D3B  02          	ld	(bc), a
3079  0D3C  18 0D       	jr	l_game_shoot_fire_00103
3080  0D3E              l_game_shoot_fire_00102:
3081  0D3E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3082  0D40  DD 86 04    	add	a,(ix+4)
3083  0D43  4F          	ld	c, a
3084  0D44  3E 00       	ld	a, +((_bullet_max) / 256)
3085  0D46  CE 00       	adc	a,0x00
3086  0D48  47          	ld	b, a
3087  0D49  AF          	xor	a, a
3088  0D4A  02          	ld	(bc), a
3089  0D4B              l_game_shoot_fire_00103:
3090  0D4B  DD 7E 05    	ld	a,(ix+5)
3091  0D4E  D6 7C       	sub	a,0x7c
3092  0D50  20 21       	jr	NZ,l_game_shoot_fire_00105
3093  0D52  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3094  0D54  DD 86 04    	add	a,(ix+4)
3095  0D57  4F          	ld	c, a
3096  0D58  3E 00       	ld	a, +((_bullet_class) / 256)
3097  0D5A  CE 00       	adc	a,0x00
3098  0D5C  47          	ld	b, a
3099  0D5D  3E 01       	ld	a,0x01
3100  0D5F  02          	ld	(bc), a
3101  0D60  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3102  0D62  DD 86 04    	add	a,(ix+4)
3103  0D65  4F          	ld	c, a
3104  0D66  3E 00       	ld	a, +((_bullet_max) / 256)
3105  0D68  CE 00       	adc	a,0x00
3106  0D6A  47          	ld	b, a
3107  0D6B  3A 00 00    	ld	a,(_game_world)
3108  0D6E  87          	add	a, a
3109  0D6F  87          	add	a, a
3110  0D70  C6 08       	add	a,0x08
3111  0D72  02          	ld	(bc), a
3112  0D73              l_game_shoot_fire_00105:
3113  0D73  DD 7E 05    	ld	a,(ix+5)
3114  0D76  D6 78       	sub	a,0x78
3115  0D78  20 24       	jr	NZ,l_game_shoot_fire_00110
3116  0D7A  DD 7E F3    	ld	a,(ix-13)
3117  0D7D  B7          	or	a, a
3118  0D7E  28 10       	jr	Z,l_game_shoot_fire_00107
3119  0D80  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3120  0D82  DD 86 04    	add	a,(ix+4)
3121  0D85  4F          	ld	c, a
3122  0D86  3E 00       	ld	a, +((_bullet_class) / 256)
3123  0D88  CE 00       	adc	a,0x00
3124  0D8A  47          	ld	b, a
3125  0D8B  3E 01       	ld	a,0x01
3126  0D8D  02          	ld	(bc), a
3127  0D8E  18 0E       	jr	l_game_shoot_fire_00110
3128  0D90              l_game_shoot_fire_00107:
3129  0D90  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3130  0D92  DD 86 04    	add	a,(ix+4)
3131  0D95  4F          	ld	c, a
3132  0D96  3E 00       	ld	a, +((_bullet_class) / 256)
3133  0D98  CE 00       	adc	a,0x00
3134  0D9A  47          	ld	b, a
3135  0D9B  3E 02       	ld	a,0x02
3136  0D9D  02          	ld	(bc), a
3137  0D9E              l_game_shoot_fire_00110:
3138  0D9E  DD 7E 05    	ld	a,(ix+5)
3139  0DA1  D6 80       	sub	a,0x80
3140  0DA3  20 04       	jr	NZ,l_game_shoot_fire_00181
3141  0DA5  3E 01       	ld	a,0x01
3142  0DA7  18 01       	jr	l_game_shoot_fire_00182
3143  0DA9              l_game_shoot_fire_00181:
3144  0DA9  AF          	xor	a,a
3145  0DAA              l_game_shoot_fire_00182:
3146  0DAA  5F          	ld	e,a
3147  0DAB  B7          	or	a, a
3148  0DAC  28 35       	jr	Z,l_game_shoot_fire_00112
3149  0DAE  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3150  0DB0  DD 86 04    	add	a,(ix+4)
3151  0DB3  4F          	ld	c, a
3152  0DB4  3E 00       	ld	a, +((_bullet_class) / 256)
3153  0DB6  CE 00       	adc	a,0x00
3154  0DB8  47          	ld	b, a
3155  0DB9  3E 04       	ld	a,0x04
3156  0DBB  02          	ld	(bc), a
3157  0DBC  DD 6E FA    	ld	l,(ix-6)
3158  0DBF  DD 66 FB    	ld	h,(ix-5)
3159  0DC2  7E          	ld	a, (hl)
3160  0DC3  C6 FC       	add	a,0xfc
3161  0DC5  DD 6E F6    	ld	l,(ix-10)
3162  0DC8  DD 66 F7    	ld	h,(ix-9)
3163  0DCB  77          	ld	(hl), a
3164  0DCC  DD 6E F4    	ld	l,(ix-12)
3165  0DCF  DD 66 F5    	ld	h,(ix-11)
3166  0DD2  36 04       	ld	(hl),0x04
3167  0DD4  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3168  0DD6  DD 86 04    	add	a,(ix+4)
3169  0DD9  4F          	ld	c, a
3170  0DDA  3E 00       	ld	a, +((_bullet_vel) / 256)
3171  0DDC  CE 00       	adc	a,0x00
3172  0DDE  47          	ld	b, a
3173  0DDF  3A 00 00    	ld	a,(_player_vel_y0)
3174  0DE2  02          	ld	(bc), a
3175  0DE3              l_game_shoot_fire_00112:
3176  0DE3  3A 00 00    	ld	a,(_s_state)
3177  0DE6  E6 08       	and	a,0x08
3178  0DE8  57          	ld	d, a
3179  0DE9  3A 00 00    	ld	a,(_sprite)
3180  0DEC  D6 07       	sub	a,0x07
3181  0DEE  20 06       	jr	NZ,l_game_shoot_fire_00114
3182  0DF0  3A 07 00    	ld	a,(_state_a + 0x0007)
3183  0DF3  E6 08       	and	a,0x08
3184  0DF5  57          	ld	d, a
3185  0DF6              l_game_shoot_fire_00114:
3186  0DF6  DD 6E F8    	ld	l,(ix-8)
3187  0DF9  DD 66 F9    	ld	h,(ix-7)
3188  0DFC  46          	ld	b, (hl)
3189  0DFD  DD 6E FA    	ld	l,(ix-6)
3190  0E00  DD 66 FB    	ld	h,(ix-5)
3191  0E03  7E          	ld	a, (hl)
3192  0E04  D5          	push	de
3193  0E05  4F          	ld	c,a
3194  0E06  C5          	push	bc
3195  0E07  CD 00 00    	call	_spr_calc_index
3196  0E0A  F1          	pop	af
3197  0E0B  D1          	pop	de
3198  0E0C  22 00 00    	ld	(_index1),hl
3199  0E0F  DD 6E F8    	ld	l,(ix-8)
3200  0E12  DD 66 F9    	ld	h,(ix-7)
3201  0E15  7E          	ld	a, (hl)
3202  0E16  DD 77 F3    	ld	(ix-13),a
3203  0E19  7A          	ld	a, d
3204  0E1A  B7          	or	a, a
3205  0E1B  28 57       	jr	Z,l_game_shoot_fire_00123
3206  0E1D  DD 7E F3    	ld	a,(ix-13)
3207  0E20  D6 01       	sub	a,0x01
3208  0E22  30 05       	jr	NC,l_game_shoot_fire_00116
3209  0E24  2E 01       	ld	l,0x01
3210  0E26  C3 B0 0E    	jp	l_game_shoot_fire_00127
3211  0E29              l_game_shoot_fire_00116:
3212  0E29  DD 6E FE    	ld	l,(ix-2)
3213  0E2C  DD 66 FF    	ld	h,(ix-1)
3214  0E2F  DD 7E F3    	ld	a,(ix-13)
3215  0E32  77          	ld	(hl), a
3216  0E33  7B          	ld	a, e
3217  0E34  B7          	or	a, a
3218  0E35  20 13       	jr	NZ,l_game_shoot_fire_00118
3219  0E37  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3220  0E39  DD 86 04    	add	a,(ix+4)
3221  0E3C  4F          	ld	c, a
3222  0E3D  3E 00       	ld	a, +((_bullet_tile) / 256)
3223  0E3F  CE 00       	adc	a,0x00
3224  0E41  47          	ld	b, a
3225  0E42  DD 7E 05    	ld	a,(ix+5)
3226  0E45  C6 02       	add	a,0x02
3227  0E47  02          	ld	(bc), a
3228  0E48  18 0F       	jr	l_game_shoot_fire_00119
3229  0E4A              l_game_shoot_fire_00118:
3230  0E4A  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3231  0E4C  DD 86 04    	add	a,(ix+4)
3232  0E4F  4F          	ld	c, a
3233  0E50  3E 00       	ld	a, +((_bullet_tile) / 256)
3234  0E52  CE 00       	adc	a,0x00
3235  0E54  47          	ld	b, a
3236  0E55  DD 7E 05    	ld	a,(ix+5)
3237  0E58  02          	ld	(bc), a
3238  0E59              l_game_shoot_fire_00119:
3239  0E59  DD 6E FC    	ld	l,(ix-4)
3240  0E5C  DD 66 FD    	ld	h,(ix-3)
3241  0E5F  36 01       	ld	(hl),0x01
3242  0E61  01 00 00    	ld	bc,_bullet_colint
3243  0E64  DD 6E 04    	ld	l,(ix+4)
3244  0E67  26 00       	ld	h,0x00
3245  0E69  09          	add	hl,bc
3246  0E6A  DD 75 F4    	ld	(ix-12),l
3247  0E6D  DD 74 F5    	ld	(ix-11),h
3248  0E70  36 02       	ld	(hl),0x02
3249  0E72  18 3A       	jr	l_game_shoot_fire_00126
3250  0E74              l_game_shoot_fire_00123:
3251  0E74  3E 1D       	ld	a,0x1d
3252  0E76  DD 96 F3    	sub	a,(ix-13)
3253  0E79  30 04       	jr	NC,l_game_shoot_fire_00121
3254  0E7B  2E 01       	ld	l,0x01
3255  0E7D  18 31       	jr	l_game_shoot_fire_00127
3256  0E7F              l_game_shoot_fire_00121:
3257  0E7F  DD 6E FE    	ld	l,(ix-2)
3258  0E82  DD 66 FF    	ld	h,(ix-1)
3259  0E85  DD 7E F3    	ld	a,(ix-13)
3260  0E88  77          	ld	(hl), a
3261  0E89  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3262  0E8B  DD 86 04    	add	a,(ix+4)
3263  0E8E  4F          	ld	c, a
3264  0E8F  3E 00       	ld	a, +((_bullet_tile) / 256)
3265  0E91  CE 00       	adc	a,0x00
3266  0E93  47          	ld	b, a
3267  0E94  DD 7E 05    	ld	a,(ix+5)
3268  0E97  02          	ld	(bc), a
3269  0E98  DD 6E FC    	ld	l,(ix-4)
3270  0E9B  DD 66 FD    	ld	h,(ix-3)
3271  0E9E  36 FF       	ld	(hl),0xff
3272  0EA0  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3273  0EA2  DD 86 04    	add	a,(ix+4)
3274  0EA5  4F          	ld	c, a
3275  0EA6  3E 00       	ld	a, +((_bullet_colint) / 256)
3276  0EA8  CE 00       	adc	a,0x00
3277  0EAA  47          	ld	b, a
3278  0EAB  3E FF       	ld	a,0xff
3279  0EAD  02          	ld	(bc), a
3280  0EAE              l_game_shoot_fire_00126:
3281  0EAE  2E 00       	ld	l,0x00
3282  0EB0              l_game_shoot_fire_00127:
3283  0EB0  DD F9       	ld	sp, ix
3284  0EB2  DD E1       	pop	ix
3285  0EB4  C9          	ret
3286  0EB5              	SECTION code_compiler
3287  0EB5              ;	---------------------------------
3288  0EB5              ; Function game_shoot_fire_boss
3289  0EB5              ; ---------------------------------
3290  0EB5              _game_shoot_fire_boss:
3291  0EB5  CD 00 00    	call	___sdcc_enter_ix
3292  0EB8  F5          	push	af
3293  0EB9  F5          	push	af
3294  0EBA  3B          	dec	sp
3295  0EBB  3A 07 00    	ld	a,(_col + 0x0007)
3296  0EBE  4F          	ld	c,a
3297  0EBF  21 00 00    	ld	hl,_boss_col
3298  0EC2  96          	sub	a, (hl)
3299  0EC3  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3300  0EC5  DD 36 FB 01 	ld	(ix-5),0x01
3301  0EC9              l_game_shoot_fire_boss_00102:
3302  0EC9  3A 00 00    	ld	a,(_boss_col)
3303  0ECC  91          	sub	a, c
3304  0ECD  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3305  0ECF  DD 36 FB 00 	ld	(ix-5),0x00
3306  0ED3              l_game_shoot_fire_boss_00131:
3307  0ED3  1E 00       	ld	e,0x00
3308  0ED5              l_game_shoot_fire_boss_00107:
3309  0ED5  7B          	ld	a, e
3310  0ED6  D6 07       	sub	a,0x07
3311  0ED8  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3312  0EDA  16 00       	ld	d,0x00
3313  0EDC  21 00 00    	ld	hl,_bullet_col
3314  0EDF  19          	add	hl, de
3315  0EE0  4E          	ld	c, (hl)
3316  0EE1  0C          	inc	c
3317  0EE2  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3318  0EE4  1C          	inc	e
3319  0EE5  18 EE       	jr	l_game_shoot_fire_boss_00107
3320  0EE7              l_game_shoot_fire_boss_00138:
3321  0EE7  7B          	ld	a,e
3322  0EE8  47          	ld	b,a
3323  0EE9  D6 07       	sub	a,0x07
3324  0EEB  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3325  0EED  6F          	ld	l,a
3326  0EEE  C3 1B 10    	jp	l_game_shoot_fire_boss_00125
3327  0EF1              l_game_shoot_fire_boss_00111:
3328  0EF1  21 00 00    	ld	hl,_bullet_count
3329  0EF4  34          	inc	(hl)
3330  0EF5  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3331  0EF7  83          	add	a, e
3332  0EF8  DD 77 FE    	ld	(ix-2),a
3333  0EFB  6F          	ld	l,a
3334  0EFC  3E 00       	ld	a,+((_bullet_dir) / 256)
3335  0EFE  CE 00       	adc	a,0x00
3336  0F00  DD 77 FF    	ld	(ix-1),a
3337  0F03  67          	ld	h,a
3338  0F04  36 00       	ld	(hl),0x00
3339  0F06  3A 00 00    	ld	a,(_game_world)
3340  0F09  3D          	dec	a
3341  0F0A  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3342  0F0C  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3343  0F0E  83          	add	a, e
3344  0F0F  4F          	ld	c, a
3345  0F10  3E 00       	ld	a, +((_bullet_lin0) / 256)
3346  0F12  CE 00       	adc	a,0x00
3347  0F14  57          	ld	d, a
3348  0F15  3A 00 00    	ld	a,(_boss_lin)
3349  0F18  C6 10       	add	a,0x10
3350  0F1A  69          	ld	l, c
3351  0F1B  62          	ld	h, d
3352  0F1C  77          	ld	(hl), a
3353  0F1D  16 00       	ld	d,0x00
3354  0F1F  21 00 00    	ld	hl,_bullet_class
3355  0F22  19          	add	hl, de
3356  0F23  36 02       	ld	(hl),0x02
3357  0F25  18 2E       	jr	l_game_shoot_fire_boss_00117
3358  0F27              l_game_shoot_fire_boss_00116:
3359  0F27  16 00       	ld	d,0x00
3360  0F29  21 00 00    	ld	hl,_bullet_class
3361  0F2C  19          	add	hl, de
3362  0F2D  36 05       	ld	(hl),0x05
3363  0F2F  3A 00 00    	ld	a,(_tmp0)
3364  0F32  B7          	or	a, a
3365  0F33  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3366  0F35  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3367  0F37  83          	add	a, e
3368  0F38  5F          	ld	e, a
3369  0F39  3E 00       	ld	a, +((_bullet_lin0) / 256)
3370  0F3B  CE 00       	adc	a,0x00
3371  0F3D  57          	ld	d, a
3372  0F3E  3A 00 00    	ld	a,(_boss_lin)
3373  0F41  C6 F8       	add	a,0xf8
3374  0F43  12          	ld	(de), a
3375  0F44  18 0F       	jr	l_game_shoot_fire_boss_00117
3376  0F46              l_game_shoot_fire_boss_00113:
3377  0F46  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3378  0F48  83          	add	a, e
3379  0F49  5F          	ld	e, a
3380  0F4A  3E 00       	ld	a, +((_bullet_lin0) / 256)
3381  0F4C  CE 00       	adc	a,0x00
3382  0F4E  57          	ld	d, a
3383  0F4F  3A 00 00    	ld	a,(_boss_lin)
3384  0F52  C6 18       	add	a,0x18
3385  0F54  12          	ld	(de), a
3386  0F55              l_game_shoot_fire_boss_00117:
3387  0F55  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3388  0F57  80          	add	a, b
3389  0F58  5F          	ld	e, a
3390  0F59  3E 00       	ld	a, +((_bullet_col0) / 256)
3391  0F5B  CE 00       	adc	a,0x00
3392  0F5D  57          	ld	d, a
3393  0F5E  3A 00 00    	ld	a,(_boss_col)
3394  0F61  12          	ld	(de), a
3395  0F62  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3396  0F64  80          	add	a, b
3397  0F65  DD 77 FC    	ld	(ix-4),a
3398  0F68  6F          	ld	l,a
3399  0F69  3E 00       	ld	a,+((_bullet_col) / 256)
3400  0F6B  CE 00       	adc	a,0x00
3401  0F6D  DD 77 FD    	ld	(ix-3),a
3402  0F70  67          	ld	h,a
3403  0F71  3A 00 00    	ld	a,(_boss_col)
3404  0F74  77          	ld	(hl),a
3405  0F75  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3406  0F77  80          	add	a, b
3407  0F78  5F          	ld	e, a
3408  0F79  3E 00       	ld	a, +((_bullet_lin) / 256)
3409  0F7B  CE 00       	adc	a,0x00
3410  0F7D  57          	ld	d, a
3411  0F7E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3412  0F80  80          	add	a, b
3413  0F81  6F          	ld	l, a
3414  0F82  3E 00       	ld	a, +((_bullet_lin0) / 256)
3415  0F84  CE 00       	adc	a,0x00
3416  0F86  67          	ld	h, a
3417  0F87  7E          	ld	a, (hl)
3418  0F88  12          	ld	(de), a
3419  0F89  11 00 00    	ld	de,_bullet_frames+0
3420  0F8C  68          	ld	l,b
3421  0F8D  26 00       	ld	h,0x00
3422  0F8F  19          	add	hl, de
3423  0F90  36 02       	ld	(hl),0x02
3424  0F92  11 00 00    	ld	de,_bullet_max+0
3425  0F95  68          	ld	l,b
3426  0F96  26 00       	ld	h,0x00
3427  0F98  19          	add	hl, de
3428  0F99  36 08       	ld	(hl),0x08
3429  0F9B  3A 00 00    	ld	a,(_boss_col)
3430  0F9E  C5          	push	bc
3431  0F9F  F5          	push	af
3432  0FA0  33          	inc	sp
3433  0FA1  3A 00 00    	ld	a,(_boss_lin)
3434  0FA4  F5          	push	af
3435  0FA5  33          	inc	sp
3436  0FA6  CD 00 00    	call	_spr_calc_index
3437  0FA9  F1          	pop	af
3438  0FAA  EB          	ex	de,hl
3439  0FAB  C1          	pop	bc
3440  0FAC  ED 53 00 00 	ld	(_index1),de
3441  0FB0  DD 7E FB    	ld	a,(ix-5)
3442  0FB3  B7          	or	a, a
3443  0FB4  28 2D       	jr	Z,l_game_shoot_fire_boss_00123
3444  0FB6  3A 00 00    	ld	a,(_boss_col)
3445  0FB9  D6 01       	sub	a,0x01
3446  0FBB  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3447  0FBD  2E 01       	ld	l,0x01
3448  0FBF  18 5A       	jr	l_game_shoot_fire_boss_00125
3449  0FC1              l_game_shoot_fire_boss_00119:
3450  0FC1  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3451  0FC3  80          	add	a, b
3452  0FC4  5F          	ld	e, a
3453  0FC5  3E 00       	ld	a, +((_bullet_tile) / 256)
3454  0FC7  CE 00       	adc	a,0x00
3455  0FC9  57          	ld	d, a
3456  0FCA  DD 7E 04    	ld	a,(ix+4)
3457  0FCD  C6 02       	add	a,0x02
3458  0FCF  12          	ld	(de), a
3459  0FD0  DD 6E FE    	ld	l,(ix-2)
3460  0FD3  DD 66 FF    	ld	h,(ix-1)
3461  0FD6  36 01       	ld	(hl),0x01
3462  0FD8  11 00 00    	ld	de,_bullet_colint+0
3463  0FDB  68          	ld	l,b
3464  0FDC  26 00       	ld	h,0x00
3465  0FDE  19          	add	hl, de
3466  0FDF  36 02       	ld	(hl),0x02
3467  0FE1  18 36       	jr	l_game_shoot_fire_boss_00124
3468  0FE3              l_game_shoot_fire_boss_00123:
3469  0FE3  3E 1D       	ld	a,0x1d
3470  0FE5  21 00 00    	ld	hl,_boss_col
3471  0FE8  96          	sub	a, (hl)
3472  0FE9  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3473  0FEB  2E 01       	ld	l,0x01
3474  0FED  18 2C       	jr	l_game_shoot_fire_boss_00125
3475  0FEF              l_game_shoot_fire_boss_00121:
3476  0FEF  3A 00 00    	ld	a,(_boss_col)
3477  0FF2  C6 06       	add	a,0x06
3478  0FF4  DD 6E FC    	ld	l,(ix-4)
3479  0FF7  DD 66 FD    	ld	h,(ix-3)
3480  0FFA  77          	ld	(hl), a
3481  0FFB  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3482  0FFD  80          	add	a, b
3483  0FFE  5F          	ld	e, a
3484  0FFF  3E 00       	ld	a, +((_bullet_tile) / 256)
3485  1001  CE 00       	adc	a,0x00
3486  1003  57          	ld	d, a
3487  1004  DD 7E 04    	ld	a,(ix+4)
3488  1007  12          	ld	(de), a
3489  1008  DD 6E FE    	ld	l,(ix-2)
3490  100B  DD 66 FF    	ld	h,(ix-1)
3491  100E  36 FF       	ld	(hl),0xff
3492  1010  11 00 00    	ld	de,_bullet_colint+0
3493  1013  68          	ld	l,b
3494  1014  26 00       	ld	h,0x00
3495  1016  19          	add	hl, de
3496  1017  36 FF       	ld	(hl),0xff
3497  1019              l_game_shoot_fire_boss_00124:
3498  1019  2E 00       	ld	l,0x00
3499  101B              l_game_shoot_fire_boss_00125:
3500  101B  DD F9       	ld	sp, ix
3501  101D  DD E1       	pop	ix
3502  101F  C9          	ret
3503  1020              	SECTION code_compiler
3504  1020              ;	---------------------------------
3505  1020              ; Function game_obj_set
3506  1020              ; ---------------------------------
3507  1020              _game_obj_set:
3508  1020  3A 00 00    	ld	a,(_scr_curr)
3509  1023  EB          	ex	de,hl
3510  1024  D6 08       	sub	a,0x08
3511  1026  30 19       	jr	NC,l_game_obj_set_00102
3512  1028  21 00 00    	ld	hl,_scr_obj0
3513  102B  19          	add	hl,de
3514  102C  5E          	ld	e,(hl)
3515  102D  3A 00 00    	ld	a,(_scr_curr)
3516  1030  3C          	inc	a
3517  1031  16 01       	ld	d,0x01
3518  1033  4D          	ld	c,l
3519  1034  44          	ld	b,h
3520  1035  18 02       	jr	l_game_obj_set_00111
3521  1037              l_game_obj_set_00110:
3522  1037  CB 22       	sla	d
3523  1039              l_game_obj_set_00111:
3524  1039  3D          	dec	a
3525  103A  20 FB       	jr	NZ,l_game_obj_set_00110
3526  103C  7B          	ld	a, e
3527  103D  B2          	or	a, d
3528  103E  02          	ld	(bc), a
3529  103F  18 17       	jr	l_game_obj_set_00104
3530  1041              l_game_obj_set_00102:
3531  1041  3A 00 00    	ld	a,(_scr_curr)
3532  1044  C6 F8       	add	a,0xf8
3533  1046  47          	ld	b, a
3534  1047  21 00 00    	ld	hl,_scr_obj1
3535  104A  19          	add	hl, de
3536  104B  4E          	ld	c, (hl)
3537  104C  1E 01       	ld	e,0x01
3538  104E  04          	inc	b
3539  104F  18 02       	jr	l_game_obj_set_00113
3540  1051              l_game_obj_set_00112:
3541  1051  CB 23       	sla	e
3542  1053              l_game_obj_set_00113:
3543  1053  10 FC       	djnz	l_game_obj_set_00112
3544  1055  79          	ld	a, c
3545  1056  B3          	or	a, e
3546  1057  77          	ld	(hl), a
3547  1058              l_game_obj_set_00104:
3548  1058  C9          	ret
3549  1059              	SECTION code_compiler
3550  1059              ;	---------------------------------
3551  1059              ; Function game_obj_chk
3552  1059              ; ---------------------------------
3553  1059              _game_obj_chk:
3554  1059  3A 00 00    	ld	a,(_scr_curr)
3555  105C  EB          	ex	de,hl
3556  105D  D6 08       	sub	a,0x08
3557  105F  30 17       	jr	NC,l_game_obj_chk_00102
3558  1061  21 00 00    	ld	hl,_scr_obj0
3559  1064  19          	add	hl, de
3560  1065  4E          	ld	c, (hl)
3561  1066  21 00 00    	ld	hl,_scr_curr
3562  1069  46          	ld	b, (hl)
3563  106A  1E 01       	ld	e,0x01
3564  106C  04          	inc	b
3565  106D  18 02       	jr	l_game_obj_chk_00111
3566  106F              l_game_obj_chk_00110:
3567  106F  CB 23       	sla	e
3568  1071              l_game_obj_chk_00111:
3569  1071  10 FC       	djnz	l_game_obj_chk_00110
3570  1073  79          	ld	a, c
3571  1074  A3          	and	a, e
3572  1075  6F          	ld	l, a
3573  1076  18 17       	jr	l_game_obj_chk_00104
3574  1078              l_game_obj_chk_00102:
3575  1078  3A 00 00    	ld	a,(_scr_curr)
3576  107B  C6 F8       	add	a,0xf8
3577  107D  47          	ld	b, a
3578  107E  21 00 00    	ld	hl,_scr_obj1
3579  1081  19          	add	hl, de
3580  1082  4E          	ld	c, (hl)
3581  1083  1E 01       	ld	e,0x01
3582  1085  04          	inc	b
3583  1086  18 02       	jr	l_game_obj_chk_00113
3584  1088              l_game_obj_chk_00112:
3585  1088  CB 23       	sla	e
3586  108A              l_game_obj_chk_00113:
3587  108A  10 FC       	djnz	l_game_obj_chk_00112
3588  108C  79          	ld	a, c
3589  108D  A3          	and	a, e
3590  108E  6F          	ld	l, a
3591  108F              l_game_obj_chk_00104:
3592  108F  C9          	ret
3593  1090              	SECTION code_compiler
3594  1090              ;	---------------------------------
3595  1090              ; Function game_obj_clear
3596  1090              ; ---------------------------------
3597  1090              _game_obj_clear:
3598  1090  21 00 00    	ld	hl,_tmp
3599  1093  36 00       	ld	(hl),0x00
3600  1095              l_game_obj_clear_00105:
3601  1095  2A 00 00    	ld	hl,(_tmp)
3602  1098  26 00       	ld	h,0x00
3603  109A  01 00 00    	ld	bc,_scr_obj0
3604  109D  09          	add	hl,bc
3605  109E  AF          	xor	a,a
3606  109F  77          	ld	(hl),a
3607  10A0  2A 00 00    	ld	hl,(_tmp)
3608  10A3  26 00       	ld	h,0x00
3609  10A5  01 00 00    	ld	bc,_scr_obj1
3610  10A8  09          	add	hl,bc
3611  10A9  AF          	xor	a,a
3612  10AA  77          	ld	(hl),a
3613  10AB  21 00 00    	ld	hl,_tmp
3614  10AE  7E          	ld	a,(hl)
3615  10AF  3C          	inc	a
3616  10B0  77          	ld	(hl),a
3617  10B1  D6 A0       	sub	a,0xa0
3618  10B3  38 E0       	jr	C,l_game_obj_clear_00105
3619  10B5  3A 00 00    	ld	a,(_game_inmune)
3620  10B8  B7          	or	a, a
3621  10B9  28 07       	jr	Z,l_game_obj_clear_00103
3622  10BB  21 00 00    	ld	hl,_tmp
3623  10BE  36 01       	ld	(hl),0x01
3624  10C0  18 05       	jr	l_game_obj_clear_00104
3625  10C2              l_game_obj_clear_00103:
3626  10C2  21 00 00    	ld	hl,_tmp
3627  10C5  36 00       	ld	(hl),0x00
3628  10C7              l_game_obj_clear_00104:
3629  10C7  3A 00 00    	ld	a,(_tmp)
3630  10CA  32 00 00    	ld	(_player_keys),a
3631  10CD  32 01 00    	ld	((_player_keys + 0x0001)),a
3632  10D0  3A 00 00    	ld	a,(_tmp)
3633  10D3  32 02 00    	ld	((_player_keys + 0x0002)),a
3634  10D6  32 03 00    	ld	((_player_keys + 0x0003)),a
3635  10D9  C9          	ret
3636  10DA              	SECTION code_compiler
3637  10DA              ;	---------------------------------
3638  10DA              ; Function game_boss_clear
3639  10DA              ; ---------------------------------
3640  10DA              _game_boss_clear:
3641  10DA  CD 00 00    	call	___sdcc_enter_ix
3642  10DD  21 00 00    	ld	hl,0x0000
3643  10E0  E5          	push	hl
3644  10E1              l_game_boss_clear_00104:
3645  10E1  3E 00       	ld	a, +((_scr_map) & 0xFF)
3646  10E3  DD 86 FE    	add	a,(ix-2)
3647  10E6  4F          	ld	c, a
3648  10E7  3E 00       	ld	a, +((_scr_map) / 256)
3649  10E9  DD 8E FF    	adc	a,(ix-1)
3650  10EC  47          	ld	b, a
3651  10ED  0A          	ld	a, (bc)
3652  10EE  D6 37       	sub	a,0x37
3653  10F0  20 09       	jr	NZ,l_game_boss_clear_00105
3654  10F2  AF          	xor	a, a
3655  10F3  02          	ld	(bc), a
3656  10F4  21 00 00    	ld	hl,0x0000
3657  10F7  39          	add	hl, sp
3658  10F8  CD 00 00    	call	_spr_draw_index
3659  10FB              l_game_boss_clear_00105:
3660  10FB  DD 34 FE    	inc	(ix-2)
3661  10FE  20 03       	jr	NZ,l_game_boss_clear_00118
3662  1100  DD 34 FF    	inc	(ix-1)
3663  1103              l_game_boss_clear_00118:
3664  1103  DD 7E FE    	ld	a,(ix-2)
3665  1106  D6 A0       	sub	a,0xa0
3666  1108  DD 7E FF    	ld	a,(ix-1)
3667  110B  DE 00       	sbc	a,0x00
3668  110D  38 D2       	jr	C,l_game_boss_clear_00104
3669  110F  F1          	pop	af
3670  1110  DD E1       	pop	ix
3671  1112  C9          	ret
3672  1113              	SECTION code_compiler
3673  1113              ;	---------------------------------
3674  1113              ; Function game_rotate_attrib
3675  1113              ; ---------------------------------
3676  1113              _game_rotate_attrib:
3677  1113  01 03 00    	ld	bc,_attrib_hl + 3
3678  1116  0A          	ld	a, (bc)
3679  1117  32 00 00    	ld	(_tmp_uc),a
3680  111A  11 02 00    	ld	de,_attrib_hl + 2
3681  111D  1A          	ld	a, (de)
3682  111E  02          	ld	(bc), a
3683  111F  01 01 00    	ld	bc,_attrib_hl + 1
3684  1122  0A          	ld	a, (bc)
3685  1123  12          	ld	(de), a
3686  1124  3A 00 00    	ld	a,(_attrib_hl)
3687  1127  02          	ld	(bc), a
3688  1128  3A 00 00    	ld	a,(_tmp_uc)
3689  112B  32 00 00    	ld	(_attrib_hl),a
3690  112E  C9          	ret
3691  112F              	SECTION code_compiler
3692  112F              ;	---------------------------------
3693  112F              ; Function game_rotate_attrib_osd
3694  112F              ; ---------------------------------
3695  112F              _game_rotate_attrib_osd:
3696  112F  01 03 00    	ld	bc,_attrib_osd + 3
3697  1132  0A          	ld	a, (bc)
3698  1133  32 00 00    	ld	(_tmp_uc),a
3699  1136  11 02 00    	ld	de,_attrib_osd + 2
3700  1139  1A          	ld	a, (de)
3701  113A  02          	ld	(bc), a
3702  113B  01 01 00    	ld	bc,_attrib_osd + 1
3703  113E  0A          	ld	a, (bc)
3704  113F  12          	ld	(de), a
3705  1140  3A 00 00    	ld	a,(_attrib_osd)
3706  1143  02          	ld	(bc), a
3707  1144  3A 00 00    	ld	a,(_tmp_uc)
3708  1147  32 00 00    	ld	(_attrib_osd),a
3709  114A  C9          	ret
3710  114B              	SECTION code_compiler
3711  114B              ;	---------------------------------
3712  114B              ; Function game_attribs
3713  114B              ; ---------------------------------
3714  114B              _game_attribs:
3715  114B  01 00 00    	ld	bc,_attrib+0
3716  114E  21 00 00    	ld	hl,_map_paper
3717  1151  7E          	ld	a, (hl)
3718  1152  F6 47       	or	a,0x47
3719  1154  02          	ld	(bc), a
3720  1155  59          	ld	e, c
3721  1156  50          	ld	d, b
3722  1157  13          	inc	de
3723  1158  7E          	ld	a, (hl)
3724  1159  F6 45       	or	a,0x45
3725  115B  12          	ld	(de), a
3726  115C  7E          	ld	a, (hl)
3727  115D  F6 45       	or	a,0x45
3728  115F  32 02 00    	ld	((_attrib + 0x0002)),a
3729  1162  03          	inc	bc
3730  1163  03          	inc	bc
3731  1164  03          	inc	bc
3732  1165  21 00 00    	ld	hl,_map_paper
3733  1168  7E          	ld	a, (hl)
3734  1169  F6 41       	or	a,0x41
3735  116B  02          	ld	(bc), a
3736  116C  01 00 00    	ld	bc,_attrib_hl+0
3737  116F  7E          	ld	a, (hl)
3738  1170  F6 41       	or	a,0x41
3739  1172  02          	ld	(bc), a
3740  1173  59          	ld	e, c
3741  1174  50          	ld	d, b
3742  1175  13          	inc	de
3743  1176  7E          	ld	a, (hl)
3744  1177  F6 41       	or	a,0x41
3745  1179  12          	ld	(de), a
3746  117A  7E          	ld	a, (hl)
3747  117B  F6 43       	or	a,0x43
3748  117D  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3749  1180  03          	inc	bc
3750  1181  03          	inc	bc
3751  1182  03          	inc	bc
3752  1183  21 00 00    	ld	hl,_map_paper
3753  1186  7E          	ld	a, (hl)
3754  1187  F6 45       	or	a,0x45
3755  1189  02          	ld	(bc), a
3756  118A  01 00 00    	ld	bc,_attrib_osd+0
3757  118D  7E          	ld	a, (hl)
3758  118E  F6 45       	or	a,0x45
3759  1190  02          	ld	(bc), a
3760  1191  59          	ld	e, c
3761  1192  50          	ld	d, b
3762  1193  13          	inc	de
3763  1194  7E          	ld	a, (hl)
3764  1195  F6 47       	or	a,0x47
3765  1197  12          	ld	(de), a
3766  1198  7E          	ld	a, (hl)
3767  1199  F6 47       	or	a,0x47
3768  119B  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3769  119E  03          	inc	bc
3770  119F  03          	inc	bc
3771  11A0  03          	inc	bc
3772  11A1  3A 00 00    	ld	a,(_map_paper)
3773  11A4  F6 45       	or	a,0x45
3774  11A6  02          	ld	(bc), a
3775  11A7  C9          	ret
3776  11A8              	SECTION code_compiler
3777  11A8              ;	---------------------------------
3778  11A8              ; Function game_match_back
3779  11A8              ; ---------------------------------
3780  11A8              _game_match_back:
3781  11A8  3E 01       	ld	a,0x01
3782  11AA  BD          	cp	a,l
3783  11AB  3E 00       	ld	a,0x00
3784  11AD  9C          	sbc	a,h
3785  11AE  30 3F       	jr	NC,l_game_match_back_00111
3786  11B0  7D          	ld	a,l
3787  11B1  E6 0F       	and	a,0x0f
3788  11B3  28 3A       	jr	Z,l_game_match_back_00111
3789  11B5  5D          	ld	e,l
3790  11B6  54          	ld	d,h
3791  11B7  4D          	ld	c,l
3792  11B8  44          	ld	b,h
3793  11B9  1B          	dec	de
3794  11BA  21 00 00    	ld	hl,_scr_map
3795  11BD  19          	add	hl, de
3796  11BE  5E          	ld	e, (hl)
3797  11BF  03          	inc	bc
3798  11C0  21 00 00    	ld	hl,_scr_map
3799  11C3  09          	add	hl, bc
3800  11C4  4E          	ld	c, (hl)
3801  11C5  7B          	ld	a, e
3802  11C6  D6 1D       	sub	a,0x1d
3803  11C8  28 05       	jr	Z,l_game_match_back_00101
3804  11CA  79          	ld	a, c
3805  11CB  D6 1D       	sub	a,0x1d
3806  11CD  20 04       	jr	NZ,l_game_match_back_00102
3807  11CF              l_game_match_back_00101:
3808  11CF  2E 1D       	ld	l,0x1d
3809  11D1  18 1E       	jr	l_game_match_back_00113
3810  11D3              l_game_match_back_00102:
3811  11D3  7B          	ld	a, e
3812  11D4  D6 18       	sub	a,0x18
3813  11D6  28 05       	jr	Z,l_game_match_back_00104
3814  11D8  79          	ld	a, c
3815  11D9  D6 18       	sub	a,0x18
3816  11DB  20 04       	jr	NZ,l_game_match_back_00105
3817  11DD              l_game_match_back_00104:
3818  11DD  2E 18       	ld	l,0x18
3819  11DF  18 10       	jr	l_game_match_back_00113
3820  11E1              l_game_match_back_00105:
3821  11E1  7B          	ld	a, e
3822  11E2  D6 0D       	sub	a,0x0d
3823  11E4  28 05       	jr	Z,l_game_match_back_00107
3824  11E6  79          	ld	a, c
3825  11E7  D6 0D       	sub	a,0x0d
3826  11E9  20 04       	jr	NZ,l_game_match_back_00111
3827  11EB              l_game_match_back_00107:
3828  11EB  2E 0D       	ld	l,0x0d
3829  11ED  18 02       	jr	l_game_match_back_00113
3830  11EF              l_game_match_back_00111:
3831  11EF  2E 00       	ld	l,0x00
3832  11F1              l_game_match_back_00113:
3833  11F1  C9          	ret
3834  11F2              	SECTION code_compiler
3835  11F2              ;	---------------------------------
3836  11F2              ; Function menu_main
3837  11F2              ; ---------------------------------
3838  11F2              _menu_main:
3839  11F2  CD 00 00    	call	___sdcc_enter_ix
3840  11F5  3B          	dec	sp
3841  11F6  DD 36 FF 01 	ld	(ix-1),0x01
3842  11FA  21 00 00    	ld	hl,_map_paper
3843  11FD  36 00       	ld	(hl),0x00
3844  11FF  06 01       	ld	b,0x01
3845  1201  C5          	push	bc
3846  1202  21 0A 16    	ld	hl,0x160a
3847  1205  E5          	push	hl
3848  1206  3E 07       	ld	a,0x07
3849  1208  F5          	push	af
3850  1209  33          	inc	sp
3851  120A  CD 06 13    	call	_menu_main_print
3852  120D  F1          	pop	af
3853  120E  33          	inc	sp
3854  120F  C1          	pop	bc
3855  1210              l_menu_main_00115:
3856  1210  DD 7E FF    	ld	a,(ix-1)
3857  1213  B7          	or	a, a
3858  1214  CA 02 13    	jp	Z, l_menu_main_00118
3859  1217  C5          	push	bc
3860  1218  21 28 00    	ld	hl,0x0028
3861  121B  CD 00 00    	call	_z80_delay_ms_fastcall
3862  121E  CD 00 00    	call	_in_inkey
3863  1221  E5          	push	hl
3864  1222  CD 13 11    	call	_game_rotate_attrib
3865  1225  D1          	pop	de
3866  1226  C1          	pop	bc
3867  1227  78          	ld	a, b
3868  1228  C6 06       	add	a,0x06
3869  122A  4F          	ld	c,a
3870  122B  07          	rlca
3871  122C  07          	rlca
3872  122D  07          	rlca
3873  122E  E6 F8       	and	a,0xf8
3874  1230  C6 08       	add	a,0x08
3875  1232  57          	ld	d, a
3876  1233  C5          	push	bc
3877  1234  D5          	push	de
3878  1235  D5          	push	de
3879  1236  33          	inc	sp
3880  1237  21 0B 16    	ld	hl,0x160b
3881  123A  E5          	push	hl
3882  123B  21 00 00    	ld	hl,_attrib_hl
3883  123E  E5          	push	hl
3884  123F  CD 0B 0B    	call	_game_paint_attrib
3885  1242  F1          	pop	af
3886  1243  F1          	pop	af
3887  1244  33          	inc	sp
3888  1245  D1          	pop	de
3889  1246  C1          	pop	bc
3890  1247  7B          	ld	a, e
3891  1248  C6 D0       	add	a,0xd0
3892  124A  5F          	ld	e, a
3893  124B  3E 06       	ld	a,0x06
3894  124D  93          	sub	a, e
3895  124E  DA E3 12    	jp	C, l_menu_main_00111
3896  1251  D5          	push	de
3897  1252  16 00       	ld	d,0x00
3898  1254  21 5B 12    	ld	hl,l_menu_main_00144
3899  1257  19          	add	hl, de
3900  1258  19          	add	hl, de
3901  1259  D1          	pop	de
3902  125A  E9          	jp	(hl)
3903  125B              l_menu_main_00144:
3904  125B  18 6B       	jr	l_menu_main_00110
3905  125D  18 0A       	jr	l_menu_main_00101
3906  125F  18 12       	jr	l_menu_main_00102
3907  1261  18 1A       	jr	l_menu_main_00103
3908  1263  18 22       	jr	l_menu_main_00104
3909  1265  18 2A       	jr	l_menu_main_00105
3910  1267  18 37       	jr	l_menu_main_00106
3911  1269              l_menu_main_00101:
3912  1269  21 00 00    	ld	hl,_in_stick_sinclair1
3913  126C  22 00 00    	ld	(_joyfunc1),hl
3914  126F  06 01       	ld	b,0x01
3915  1271  18 70       	jr	l_menu_main_00111
3916  1273              l_menu_main_00102:
3917  1273  21 00 00    	ld	hl,_in_stick_keyboard
3918  1276  22 00 00    	ld	(_joyfunc1),hl
3919  1279  06 02       	ld	b,0x02
3920  127B  18 66       	jr	l_menu_main_00111
3921  127D              l_menu_main_00103:
3922  127D  21 00 00    	ld	hl,_in_stick_kempston
3923  1280  22 00 00    	ld	(_joyfunc1),hl
3924  1283  06 03       	ld	b,0x03
3925  1285  18 5C       	jr	l_menu_main_00111
3926  1287              l_menu_main_00104:
3927  1287  21 00 00    	ld	hl,_in_stick_cursor
3928  128A  22 00 00    	ld	(_joyfunc1),hl
3929  128D  06 04       	ld	b,0x04
3930  128F  18 52       	jr	l_menu_main_00111
3931  1291              l_menu_main_00105:
3932  1291  D5          	push	de
3933  1292  CD 2C 15    	call	_menu_redefine
3934  1295  D1          	pop	de
3935  1296  21 00 00    	ld	hl,_in_stick_keyboard
3936  1299  22 00 00    	ld	(_joyfunc1),hl
3937  129C  06 02       	ld	b,0x02
3938  129E  18 43       	jr	l_menu_main_00111
3939  12A0              l_menu_main_00106:
3940  12A0  21 00 00    	ld	hl,_game_2buttons
3941  12A3  7E          	ld	a, (hl)
3942  12A4  B7          	or	a, a
3943  12A5  28 04       	jr	Z,l_menu_main_00108
3944  12A7  36 00       	ld	(hl),0x00
3945  12A9  18 05       	jr	l_menu_main_00109
3946  12AB              l_menu_main_00108:
3947  12AB  21 00 00    	ld	hl,_game_2buttons
3948  12AE  36 01       	ld	(hl),0x01
3949  12B0              l_menu_main_00109:
3950  12B0  C5          	push	bc
3951  12B1  D5          	push	de
3952  12B2  21 0A 16    	ld	hl,0x160a
3953  12B5  E5          	push	hl
3954  12B6  79          	ld	a, c
3955  12B7  F5          	push	af
3956  12B8  33          	inc	sp
3957  12B9  CD 06 13    	call	_menu_main_print
3958  12BC  F1          	pop	af
3959  12BD  33          	inc	sp
3960  12BE  21 28 00    	ld	hl,0x0028
3961  12C1  CD 00 00    	call	_z80_delay_ms_fastcall
3962  12C4  D1          	pop	de
3963  12C5  C1          	pop	bc
3964  12C6  18 1B       	jr	l_menu_main_00111
3965  12C8              l_menu_main_00110:
3966  12C8  76          	halt
3967  12C9  C5          	push	bc
3968  12CA  D5          	push	de
3969  12CB  2E 00       	ld	l,0x00
3970  12CD  CD 00 00    	call	_zx_cls_fastcall
3971  12D0  D1          	pop	de
3972  12D1  C1          	pop	bc
3973  12D2  D5          	push	de
3974  12D3  21 00 00    	ld	hl,_ay_fx_06_explosion1
3975  12D6  E5          	push	hl
3976  12D7  21 01 06    	ld	hl,0x0601
3977  12DA  E5          	push	hl
3978  12DB  CD 00 00    	call	_ay_song_play
3979  12DE  D1          	pop	de
3980  12DF  DD 36 FF 00 	ld	(ix-1),0x00
3981  12E3              l_menu_main_00111:
3982  12E3  7B          	ld	a,e
3983  12E4  B7          	or	a, a
3984  12E5  CA 10 12    	jp	Z,l_menu_main_00115
3985  12E8  D6 05       	sub	a,0x05
3986  12EA  D2 10 12    	jp	NC, l_menu_main_00115
3987  12ED  C5          	push	bc
3988  12EE  D5          	push	de
3989  12EF  33          	inc	sp
3990  12F0  21 0A 16    	ld	hl,0x160a
3991  12F3  E5          	push	hl
3992  12F4  21 00 00    	ld	hl,_attrib
3993  12F7  E5          	push	hl
3994  12F8  CD 0B 0B    	call	_game_paint_attrib
3995  12FB  F1          	pop	af
3996  12FC  F1          	pop	af
3997  12FD  33          	inc	sp
3998  12FE  C1          	pop	bc
3999  12FF  C3 10 12    	jp	l_menu_main_00115
4000  1302              l_menu_main_00118:
4001  1302  33          	inc	sp
4002  1303  DD E1       	pop	ix
4003  1305  C9          	ret
4004  1306              	SECTION code_compiler
4005  1306              ;	---------------------------------
4006  1306              ; Function menu_main_print
4007  1306              ; ---------------------------------
4008  1306              _menu_main_print:
4009  1306  CD 00 00    	call	___sdcc_enter_ix
4010  1309  21 00 00    	ld	hl,_ay_song_04_lotr
4011  130C  E5          	push	hl
4012  130D  21 00 04    	ld	hl,0x0400
4013  1310  E5          	push	hl
4014  1311  CD 00 00    	call	_ay_song_play
4015  1314  76          	halt
4016  1315  2E 00       	ld	l,0x00
4017  1317  CD 00 00    	call	_zx_cls_fastcall
4018  131A  21 00 00    	ld	hl,_screen_ink
4019  131D  36 07       	ld	(hl),0x07
4020  131F  21 20 0B    	ld	hl,0x0b20
4021  1322  E5          	push	hl
4022  1323  21 00 CC    	ld	hl,0xcc00
4023  1326  E5          	push	hl
4024  1327  CD 00 00    	call	_NIRVANAP_spriteT_callee
4025  132A  21 20 0D    	ld	hl,0x0d20
4026  132D  E5          	push	hl
4027  132E  21 01 CD    	ld	hl,0xcd01
4028  1331  E5          	push	hl
4029  1332  CD 00 00    	call	_NIRVANAP_spriteT_callee
4030  1335  21 20 0F    	ld	hl,0x0f20
4031  1338  E5          	push	hl
4032  1339  21 02 CE    	ld	hl,0xce02
4033  133C  E5          	push	hl
4034  133D  CD 00 00    	call	_NIRVANAP_spriteT_callee
4035  1340  21 20 11    	ld	hl,0x1120
4036  1343  E5          	push	hl
4037  1344  21 03 CF    	ld	hl,0xcf03
4038  1347  E5          	push	hl
4039  1348  CD 00 00    	call	_NIRVANAP_spriteT_callee
4040  134B  CD 4B 11    	call	_game_attribs
4041  134E  21 CA 00    	ld	hl,___str_32
4042  1351  E5          	push	hl
4043  1352  DD 66 05    	ld	h,(ix+5)
4044  1355  DD 6E 04    	ld	l,(ix+4)
4045  1358  E5          	push	hl
4046  1359  CD 00 00    	call	_zx_print_str
4047  135C  DD 7E 04    	ld	a,(ix+4)
4048  135F  07          	rlca
4049  1360  07          	rlca
4050  1361  07          	rlca
4051  1362  E6 F8       	and	a,0xf8
4052  1364  C6 08       	add	a,0x08
4053  1366  F5          	push	af
4054  1367  33          	inc	sp
4055  1368  DD 66 06    	ld	h,(ix+6)
4056  136B  DD 6E 05    	ld	l,(ix+5)
4057  136E  E5          	push	hl
4058  136F  21 00 00    	ld	hl,_attrib
4059  1372  E5          	push	hl
4060  1373  CD 0B 0B    	call	_game_paint_attrib
4061  1376  F1          	pop	af
4062  1377  F1          	pop	af
4063  1378  33          	inc	sp
4064  1379  DD 34 04    	inc	(ix+4)
4065  137C  21 D5 00    	ld	hl,___str_33
4066  137F  E5          	push	hl
4067  1380  DD 66 05    	ld	h,(ix+5)
4068  1383  DD 6E 04    	ld	l,(ix+4)
4069  1386  E5          	push	hl
4070  1387  CD 00 00    	call	_zx_print_str
4071  138A  DD 7E 04    	ld	a,(ix+4)
4072  138D  07          	rlca
4073  138E  07          	rlca
4074  138F  07          	rlca
4075  1390  E6 F8       	and	a,0xf8
4076  1392  C6 08       	add	a,0x08
4077  1394  F5          	push	af
4078  1395  33          	inc	sp
4079  1396  DD 66 06    	ld	h,(ix+6)
4080  1399  DD 6E 05    	ld	l,(ix+5)
4081  139C  E5          	push	hl
4082  139D  21 00 00    	ld	hl,_attrib
4083  13A0  E5          	push	hl
4084  13A1  CD 0B 0B    	call	_game_paint_attrib
4085  13A4  F1          	pop	af
4086  13A5  F1          	pop	af
4087  13A6  33          	inc	sp
4088  13A7  DD 34 04    	inc	(ix+4)
4089  13AA  21 E0 00    	ld	hl,___str_34
4090  13AD  E5          	push	hl
4091  13AE  DD 66 05    	ld	h,(ix+5)
4092  13B1  DD 6E 04    	ld	l,(ix+4)
4093  13B4  E5          	push	hl
4094  13B5  CD 00 00    	call	_zx_print_str
4095  13B8  DD 7E 04    	ld	a,(ix+4)
4096  13BB  07          	rlca
4097  13BC  07          	rlca
4098  13BD  07          	rlca
4099  13BE  E6 F8       	and	a,0xf8
4100  13C0  C6 08       	add	a,0x08
4101  13C2  F5          	push	af
4102  13C3  33          	inc	sp
4103  13C4  DD 66 06    	ld	h,(ix+6)
4104  13C7  DD 6E 05    	ld	l,(ix+5)
4105  13CA  E5          	push	hl
4106  13CB  21 00 00    	ld	hl,_attrib
4107  13CE  E5          	push	hl
4108  13CF  CD 0B 0B    	call	_game_paint_attrib
4109  13D2  F1          	pop	af
4110  13D3  F1          	pop	af
4111  13D4  33          	inc	sp
4112  13D5  DD 34 04    	inc	(ix+4)
4113  13D8  21 EB 00    	ld	hl,___str_35
4114  13DB  E5          	push	hl
4115  13DC  DD 66 05    	ld	h,(ix+5)
4116  13DF  DD 6E 04    	ld	l,(ix+4)
4117  13E2  E5          	push	hl
4118  13E3  CD 00 00    	call	_zx_print_str
4119  13E6  DD 7E 04    	ld	a,(ix+4)
4120  13E9  07          	rlca
4121  13EA  07          	rlca
4122  13EB  07          	rlca
4123  13EC  E6 F8       	and	a,0xf8
4124  13EE  C6 08       	add	a,0x08
4125  13F0  F5          	push	af
4126  13F1  33          	inc	sp
4127  13F2  DD 66 06    	ld	h,(ix+6)
4128  13F5  DD 6E 05    	ld	l,(ix+5)
4129  13F8  E5          	push	hl
4130  13F9  21 00 00    	ld	hl,_attrib
4131  13FC  E5          	push	hl
4132  13FD  CD 0B 0B    	call	_game_paint_attrib
4133  1400  F1          	pop	af
4134  1401  F1          	pop	af
4135  1402  33          	inc	sp
4136  1403  DD 34 04    	inc	(ix+4)
4137  1406  21 F4 00    	ld	hl,___str_36
4138  1409  E5          	push	hl
4139  140A  DD 66 05    	ld	h,(ix+5)
4140  140D  DD 6E 04    	ld	l,(ix+4)
4141  1410  E5          	push	hl
4142  1411  CD 00 00    	call	_zx_print_str
4143  1414  DD 7E 04    	ld	a,(ix+4)
4144  1417  07          	rlca
4145  1418  07          	rlca
4146  1419  07          	rlca
4147  141A  E6 F8       	and	a,0xf8
4148  141C  C6 08       	add	a,0x08
4149  141E  F5          	push	af
4150  141F  33          	inc	sp
4151  1420  DD 66 06    	ld	h,(ix+6)
4152  1423  DD 6E 05    	ld	l,(ix+5)
4153  1426  E5          	push	hl
4154  1427  21 00 00    	ld	hl,_attrib
4155  142A  E5          	push	hl
4156  142B  CD 0B 0B    	call	_game_paint_attrib
4157  142E  F1          	pop	af
4158  142F  F1          	pop	af
4159  1430  33          	inc	sp
4160  1431  DD 34 04    	inc	(ix+4)
4161  1434  21 FD 00    	ld	hl,___str_37
4162  1437  E5          	push	hl
4163  1438  DD 66 05    	ld	h,(ix+5)
4164  143B  DD 6E 04    	ld	l,(ix+4)
4165  143E  E5          	push	hl
4166  143F  CD 00 00    	call	_zx_print_str
4167  1442  DD 7E 05    	ld	a,(ix+5)
4168  1445  C6 0A       	add	a,0x0a
4169  1447  47          	ld	b, a
4170  1448  3A 00 00    	ld	a,(_game_2buttons)
4171  144B  B7          	or	a, a
4172  144C  28 0D       	jr	Z,l_menu_main_print_00102
4173  144E  21 07 01    	ld	hl,___str_38
4174  1451  E5          	push	hl
4175  1452  DD 4E 04    	ld	c,(ix+4)
4176  1455  C5          	push	bc
4177  1456  CD 00 00    	call	_zx_print_str
4178  1459  18 0B       	jr	l_menu_main_print_00103
4179  145B              l_menu_main_print_00102:
4180  145B  21 0A 01    	ld	hl,___str_39
4181  145E  E5          	push	hl
4182  145F  DD 4E 04    	ld	c,(ix+4)
4183  1462  C5          	push	bc
4184  1463  CD 00 00    	call	_zx_print_str
4185  1466              l_menu_main_print_00103:
4186  1466  DD 7E 04    	ld	a,(ix+4)
4187  1469  07          	rlca
4188  146A  07          	rlca
4189  146B  07          	rlca
4190  146C  E6 F8       	and	a,0xf8
4191  146E  C6 08       	add	a,0x08
4192  1470  F5          	push	af
4193  1471  33          	inc	sp
4194  1472  DD 66 06    	ld	h,(ix+6)
4195  1475  DD 6E 05    	ld	l,(ix+5)
4196  1478  E5          	push	hl
4197  1479  21 00 00    	ld	hl,_attrib
4198  147C  E5          	push	hl
4199  147D  CD 0B 0B    	call	_game_paint_attrib
4200  1480  F1          	pop	af
4201  1481  F1          	pop	af
4202  1482  33          	inc	sp
4203  1483  DD 34 04    	inc	(ix+4)
4204  1486  DD 34 04    	inc	(ix+4)
4205  1489  21 0D 01    	ld	hl,___str_40
4206  148C  E5          	push	hl
4207  148D  DD 66 05    	ld	h,(ix+5)
4208  1490  DD 6E 04    	ld	l,(ix+4)
4209  1493  E5          	push	hl
4210  1494  CD 00 00    	call	_zx_print_str
4211  1497  DD 7E 04    	ld	a,(ix+4)
4212  149A  07          	rlca
4213  149B  07          	rlca
4214  149C  07          	rlca
4215  149D  E6 F8       	and	a,0xf8
4216  149F  C6 08       	add	a,0x08
4217  14A1  F5          	push	af
4218  14A2  33          	inc	sp
4219  14A3  DD 66 06    	ld	h,(ix+6)
4220  14A6  DD 6E 05    	ld	l,(ix+5)
4221  14A9  E5          	push	hl
4222  14AA  21 00 00    	ld	hl,_attrib
4223  14AD  E5          	push	hl
4224  14AE  CD 0B 0B    	call	_game_paint_attrib
4225  14B1  F1          	pop	af
4226  14B2  F1          	pop	af
4227  14B3  33          	inc	sp
4228  14B4  DD 34 04    	inc	(ix+4)
4229  14B7  DD 34 04    	inc	(ix+4)
4230  14BA  DD 34 04    	inc	(ix+4)
4231  14BD  DD 34 04    	inc	(ix+4)
4232  14C0  DD 34 04    	inc	(ix+4)
4233  14C3  21 00 00    	ld	hl,_screen_ink
4234  14C6  36 01       	ld	(hl),0x01
4235  14C8  21 15 01    	ld	hl,___str_41
4236  14CB  E5          	push	hl
4237  14CC  26 02       	ld	h,0x02
4238  14CE  DD 6E 04    	ld	l,(ix+4)
4239  14D1  E5          	push	hl
4240  14D2  CD 00 00    	call	_zx_print_str
4241  14D5  DD 34 04    	inc	(ix+4)
4242  14D8  21 30 01    	ld	hl,___str_42
4243  14DB  E5          	push	hl
4244  14DC  26 04       	ld	h,0x04
4245  14DE  DD 6E 04    	ld	l,(ix+4)
4246  14E1  E5          	push	hl
4247  14E2  CD 00 00    	call	_zx_print_str
4248  14E5  DD 34 04    	inc	(ix+4)
4249  14E8  21 47 01    	ld	hl,___str_43
4250  14EB  E5          	push	hl
4251  14EC  AF          	xor	a, a
4252  14ED  F5          	push	af
4253  14EE  33          	inc	sp
4254  14EF  DD 7E 04    	ld	a,(ix+4)
4255  14F2  F5          	push	af
4256  14F3  33          	inc	sp
4257  14F4  CD 00 00    	call	_zx_print_str
4258  14F7  DD 34 04    	inc	(ix+4)
4259  14FA  DD 34 04    	inc	(ix+4)
4260  14FD  21 00 00    	ld	hl,_screen_ink
4261  1500  36 05       	ld	(hl),0x05
4262  1502  21 67 01    	ld	hl,___str_44
4263  1505  E5          	push	hl
4264  1506  26 08       	ld	h,0x08
4265  1508  DD 6E 04    	ld	l,(ix+4)
4266  150B  E5          	push	hl
4267  150C  CD 00 00    	call	_zx_print_str
4268  150F  DD 7E 04    	ld	a,(ix+4)
4269  1512  07          	rlca
4270  1513  07          	rlca
4271  1514  07          	rlca
4272  1515  E6 F8       	and	a,0xf8
4273  1517  C6 08       	add	a,0x08
4274  1519  F5          	push	af
4275  151A  33          	inc	sp
4276  151B  21 00 1F    	ld	hl,0x1f00
4277  151E  E5          	push	hl
4278  151F  21 00 00    	ld	hl,_attrib
4279  1522  E5          	push	hl
4280  1523  CD 0B 0B    	call	_game_paint_attrib
4281  1526  F1          	pop	af
4282  1527  F1          	pop	af
4283  1528  33          	inc	sp
4284  1529  DD E1       	pop	ix
4285  152B  C9          	ret
4286  152C              	SECTION rodata_compiler
4287  00CA              ___str_32:
4288  00CA  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
4289  00D4  00          	DEFB 0x00
4290  00D5              	SECTION rodata_compiler
4291  00D5              ___str_33:
4292  00D5  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
4293  00DF  00          	DEFB 0x00
4294  00E0              	SECTION rodata_compiler
4295  00E0              ___str_34:
4296  00E0  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
4297  00EA  00          	DEFB 0x00
4298  00EB              	SECTION rodata_compiler
4299  00EB              ___str_35:
4300  00EB  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
4301  00F3  00          	DEFB 0x00
4302  00F4              	SECTION rodata_compiler
4303  00F4              ___str_36:
4304  00F4  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
4305  00FC  00          	DEFB 0x00
4306  00FD              	SECTION rodata_compiler
4307  00FD              ___str_37:
4308  00FD  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
4309  0106  00          	DEFB 0x00
4310  0107              	SECTION rodata_compiler
4311  0107              ___str_38:
4312  0107  32 42       	DEFM "2B"
4313  0109  00          	DEFB 0x00
4314  010A              	SECTION rodata_compiler
4315  010A              ___str_39:
4316  010A  31 42       	DEFM "1B"
4317  010C  00          	DEFB 0x00
4318  010D              	SECTION rodata_compiler
4319  010D              ___str_40:
4320  010D  30 20 53 54 41 52 54 
                        	DEFM "0 START"
4321  0114  00          	DEFB 0x00
4322  0115              	SECTION rodata_compiler
4323  0115              ___str_41:
4324  0115  43 4F 44 45 20 43 2E 47 4F 4E 5A 41 4C 45 5A 20 41 2E 41 4C 42 52 45 43 48 54 
                        	DEFM "CODE C.GONZALEZ A.ALBRECHT"
4325  012F  00          	DEFB 0x00
4326  0130              	SECTION rodata_compiler
4327  0130              ___str_42:
4328  0130  4D 55 53 49 43 20 53 39 20 46 58 20 42 45 49 4B 45 52 53 4F 46 54 
                        	DEFM "MUSIC S9 FX BEIKERSOFT"
4329  0146  00          	DEFB 0x00
4330  0147              	SECTION rodata_compiler
4331  0147              ___str_43:
4332  0147  54 45 53 54 20 41 42 55 20 53 49 4D 42 45 4C 20 56 45 52 20 31 2E 30 30 20 42 55 47 46 49 58 
                        	DEFM "TEST ABU SIMBEL VER 1.00 BUGFIX"
4333  0166  00          	DEFB 0x00
4334  0167              	SECTION rodata_compiler
4335  0167              ___str_44:
4336  0167  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
4337  0176  00          	DEFB 0x00
4338  0177              	SECTION code_compiler
4339  152C              ;	---------------------------------
4340  152C              ; Function menu_redefine
4341  152C              ; ---------------------------------
4342  152C              _menu_redefine:
4343  152C  76          	halt
4344  152D  2E 00       	ld	l,0x00
4345  152F  CD 00 00    	call	_zx_cls_fastcall
4346  1532  21 00 00    	ld	hl,_tmp0
4347  1535  36 08       	ld	(hl),0x08
4348  1537              l_menu_redefine_00105:
4349  1537  3A 00 00    	ld	a,(_tmp0)
4350  153A  07          	rlca
4351  153B  07          	rlca
4352  153C  07          	rlca
4353  153D  E6 F8       	and	a,0xf8
4354  153F  C6 08       	add	a,0x08
4355  1541  F5          	push	af
4356  1542  33          	inc	sp
4357  1543  21 0A 10    	ld	hl,0x100a
4358  1546  E5          	push	hl
4359  1547  21 00 00    	ld	hl,_attrib
4360  154A  E5          	push	hl
4361  154B  CD 0B 0B    	call	_game_paint_attrib
4362  154E  F1          	pop	af
4363  154F  F1          	pop	af
4364  1550  33          	inc	sp
4365  1551  21 00 00    	ld	hl,_tmp0
4366  1554  7E          	ld	a,(hl)
4367  1555  3C          	inc	a
4368  1556  77          	ld	(hl),a
4369  1557  D6 0E       	sub	a,0x0e
4370  1559  38 DC       	jr	C,l_menu_redefine_00105
4371  155B  21 77 01    	ld	hl,___str_45
4372  155E  E5          	push	hl
4373  155F  21 08 0A    	ld	hl,0x0a08
4374  1562  E5          	push	hl
4375  1563  CD 00 00    	call	_zx_print_str
4376  1566  CD EF 15    	call	_menu_define_key
4377  1569  22 08 00    	ld	(_k1 + 0x0008),hl
4378  156C  21 7A 01    	ld	hl,___str_46
4379  156F  E5          	push	hl
4380  1570  21 09 0A    	ld	hl,0x0a09
4381  1573  E5          	push	hl
4382  1574  CD 00 00    	call	_zx_print_str
4383  1577  CD EF 15    	call	_menu_define_key
4384  157A  22 06 00    	ld	(_k1 + 0x0006),hl
4385  157D  21 7F 01    	ld	hl,___str_47
4386  1580  E5          	push	hl
4387  1581  21 0A 0A    	ld	hl,0x0a0a
4388  1584  E5          	push	hl
4389  1585  CD 00 00    	call	_zx_print_str
4390  1588  CD EF 15    	call	_menu_define_key
4391  158B  22 04 00    	ld	(_k1 + 0x0004),hl
4392  158E  21 84 01    	ld	hl,___str_48
4393  1591  E5          	push	hl
4394  1592  21 0B 0A    	ld	hl,0x0a0b
4395  1595  E5          	push	hl
4396  1596  CD 00 00    	call	_zx_print_str
4397  1599  CD EF 15    	call	_menu_define_key
4398  159C  22 02 00    	ld	(_k1 + 0x0002),hl
4399  159F  3A 00 00    	ld	a,(_game_2buttons)
4400  15A2  B7          	or	a, a
4401  15A3  28 24       	jr	Z,l_menu_redefine_00103
4402  15A5  21 8A 01    	ld	hl,___str_49
4403  15A8  E5          	push	hl
4404  15A9  21 0C 0A    	ld	hl,0x0a0c
4405  15AC  E5          	push	hl
4406  15AD  CD 00 00    	call	_zx_print_str
4407  15B0  CD EF 15    	call	_menu_define_key
4408  15B3  22 00 00    	ld	(_k2),hl
4409  15B6  21 8F 01    	ld	hl,___str_50
4410  15B9  E5          	push	hl
4411  15BA  21 0D 0A    	ld	hl,0x0a0d
4412  15BD  E5          	push	hl
4413  15BE  CD 00 00    	call	_zx_print_str
4414  15C1  CD EF 15    	call	_menu_define_key
4415  15C4  22 00 00    	ld	(_k1),hl
4416  15C7  18 11       	jr	l_menu_redefine_00104
4417  15C9              l_menu_redefine_00103:
4418  15C9  21 8A 01    	ld	hl,___str_49
4419  15CC  E5          	push	hl
4420  15CD  21 0C 0A    	ld	hl,0x0a0c
4421  15D0  E5          	push	hl
4422  15D1  CD 00 00    	call	_zx_print_str
4423  15D4  CD EF 15    	call	_menu_define_key
4424  15D7  22 00 00    	ld	(_k1),hl
4425  15DA              l_menu_redefine_00104:
4426  15DA  21 0C 20    	ld	hl,0x200c
4427  15DD  E5          	push	hl
4428  15DE  CD 00 00    	call	_game_fill_row
4429  15E1  21 0A 14    	ld	hl,0x140a
4430  15E4  E5          	push	hl
4431  15E5  3E 07       	ld	a,0x07
4432  15E7  F5          	push	af
4433  15E8  33          	inc	sp
4434  15E9  CD 06 13    	call	_menu_main_print
4435  15EC  F1          	pop	af
4436  15ED  33          	inc	sp
4437  15EE  C9          	ret
4438  15EF              	SECTION rodata_compiler
4439  0177              ___str_45:
4440  0177  55 50       	DEFM "UP"
4441  0179  00          	DEFB 0x00
4442  017A              	SECTION rodata_compiler
4443  017A              ___str_46:
4444  017A  44 4F 57 4E 	DEFM "DOWN"
4445  017E  00          	DEFB 0x00
4446  017F              	SECTION rodata_compiler
4447  017F              ___str_47:
4448  017F  4C 45 46 54 	DEFM "LEFT"
4449  0183  00          	DEFB 0x00
4450  0184              	SECTION rodata_compiler
4451  0184              ___str_48:
4452  0184  52 49 47 48 54 
                        	DEFM "RIGHT"
4453  0189  00          	DEFB 0x00
4454  018A              	SECTION rodata_compiler
4455  018A              ___str_49:
4456  018A  46 49 52 45 	DEFM "FIRE"
4457  018E  00          	DEFB 0x00
4458  018F              	SECTION rodata_compiler
4459  018F              ___str_50:
4460  018F  4A 55 4D 50 	DEFM "JUMP"
4461  0193  00          	DEFB 0x00
4462  0194              	SECTION code_compiler
4463  15EF              ;	---------------------------------
4464  15EF              ; Function menu_define_key
4465  15EF              ; ---------------------------------
4466  15EF              _menu_define_key:
4467  15EF              l_menu_define_key_00107:
4468  15EF  CD 00 00    	call	_in_wait_key
4469  15F2  CD 00 00    	call	_in_inkey
4470  15F5  7D          	ld	a,l
4471  15F6  32 00 00    	ld	(_tmp1),a
4472  15F9  CD 00 00    	call	_in_wait_nokey
4473  15FC  21 00 00    	ld	hl,_tmp0
4474  15FF  36 00       	ld	(hl),0x00
4475  1601              l_menu_define_key_00103:
4476  1601  21 00 00    	ld	hl,_tmp0
4477  1604  7E          	ld	a, (hl)
4478  1605  D6 26       	sub	a,0x26
4479  1607  30 E6       	jr	NC,l_menu_define_key_00107
4480  1609  4E          	ld	c,(hl)
4481  160A  06 00       	ld	b,0x00
4482  160C  21 00 00    	ld	hl,_key_map
4483  160F  09          	add	hl,bc
4484  1610  4E          	ld	c, (hl)
4485  1611  3A 00 00    	ld	a,(_tmp1)
4486  1614  91          	sub	a, c
4487  1615  20 10       	jr	NZ,l_menu_define_key_00102
4488  1617  01 00 00    	ld	bc,_scan_map+0
4489  161A  2A 00 00    	ld	hl,(_tmp0)
4490  161D  26 00       	ld	h,0x00
4491  161F  29          	add	hl, hl
4492  1620  09          	add	hl, bc
4493  1621  7E          	ld	a, (hl)
4494  1622  23          	inc	hl
4495  1623  66          	ld	h, (hl)
4496  1624  6F          	ld	l, a
4497  1625  18 06       	jr	l_menu_define_key_00109
4498  1627              l_menu_define_key_00102:
4499  1627  21 00 00    	ld	hl,_tmp0
4500  162A  34          	inc	(hl)
4501  162B  18 D4       	jr	l_menu_define_key_00103
4502  162D              l_menu_define_key_00109:
4503  162D  C9          	ret
4504  162E              	SECTION IGNORE
4505  0000              
