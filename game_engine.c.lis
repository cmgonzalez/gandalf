1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_loop
189   0000              	GLOBAL _game_draw_screen
190   0000              	GLOBAL _game_add_enemy
191   0000              	GLOBAL _game_print_footer
192   0000              	GLOBAL _game_phase_print_score_back
193   0000              	GLOBAL _game_update_stats
194   0000              	GLOBAL _game_tick
195   0000              	GLOBAL _game_start_timer
196   0000              	GLOBAL _game_round_init
197   0000              	GLOBAL _game_print_header
198   0000              	GLOBAL _game_check_map
199   0000              	GLOBAL _game_check_cell
200   0000              	GLOBAL _game_enemy_add_get_index
201   0000              	GLOBAL _game_print_score
202   0000              	GLOBAL _game_paint_attrib
203   0000              	GLOBAL _game_paint_attrib_lin
204   0000              	GLOBAL _game_paint_attrib_lin_h
205   0000              	GLOBAL _game_joystick_change
206   0000              	GLOBAL _game_joystick_set_menu
207   0000              	GLOBAL _game_joystick_set
208   0000              	GLOBAL _game_end
209   0000              	GLOBAL _game_rotate_attrib
210   0000              	GLOBAL _game_colour_message
211   0000              	GLOBAL _game_check_time
212   0000              	GLOBAL _game_shoot_fire
213   0000              	GLOBAL _game_obj_set
214   0000              	GLOBAL _game_obj_chk
215   0000              	GLOBAL _game_obj_clear
216   0000              ;--------------------------------------------------------
217   0000              ; Externals used
218   0000              ;--------------------------------------------------------
219   0000              	GLOBAL _ffsll_callee
220   0000              	GLOBAL _ffsll
221   0000              	GLOBAL _strxfrm_callee
222   0000              	GLOBAL _strxfrm
223   0000              	GLOBAL _strupr_fastcall
224   0000              	GLOBAL _strupr
225   0000              	GLOBAL _strtok_r_callee
226   0000              	GLOBAL _strtok_r
227   0000              	GLOBAL _strtok_callee
228   0000              	GLOBAL _strtok
229   0000              	GLOBAL _strstrip_fastcall
230   0000              	GLOBAL _strstrip
231   0000              	GLOBAL _strstr_callee
232   0000              	GLOBAL _strstr
233   0000              	GLOBAL _strspn_callee
234   0000              	GLOBAL _strspn
235   0000              	GLOBAL _strsep_callee
236   0000              	GLOBAL _strsep
237   0000              	GLOBAL _strrstrip_fastcall
238   0000              	GLOBAL _strrstrip
239   0000              	GLOBAL _strrspn_callee
240   0000              	GLOBAL _strrspn
241   0000              	GLOBAL _strrev_fastcall
242   0000              	GLOBAL _strrev
243   0000              	GLOBAL _strrcspn_callee
244   0000              	GLOBAL _strrcspn
245   0000              	GLOBAL _strrchr_callee
246   0000              	GLOBAL _strrchr
247   0000              	GLOBAL _strpbrk_callee
248   0000              	GLOBAL _strpbrk
249   0000              	GLOBAL _strnlen_callee
250   0000              	GLOBAL _strnlen
251   0000              	GLOBAL _strnicmp_callee
252   0000              	GLOBAL _strnicmp
253   0000              	GLOBAL _strndup_callee
254   0000              	GLOBAL _strndup
255   0000              	GLOBAL _strncpy_callee
256   0000              	GLOBAL _strncpy
257   0000              	GLOBAL _strncmp_callee
258   0000              	GLOBAL _strncmp
259   0000              	GLOBAL _strnchr_callee
260   0000              	GLOBAL _strnchr
261   0000              	GLOBAL _strncat_callee
262   0000              	GLOBAL _strncat
263   0000              	GLOBAL _strncasecmp_callee
264   0000              	GLOBAL _strncasecmp
265   0000              	GLOBAL _strlwr_fastcall
266   0000              	GLOBAL _strlwr
267   0000              	GLOBAL _strlen_fastcall
268   0000              	GLOBAL _strlen
269   0000              	GLOBAL _strlcpy_callee
270   0000              	GLOBAL _strlcpy
271   0000              	GLOBAL _strlcat_callee
272   0000              	GLOBAL _strlcat
273   0000              	GLOBAL _stricmp_callee
274   0000              	GLOBAL _stricmp
275   0000              	GLOBAL _strerror_fastcall
276   0000              	GLOBAL _strerror
277   0000              	GLOBAL _strdup_fastcall
278   0000              	GLOBAL _strdup
279   0000              	GLOBAL _strcspn_callee
280   0000              	GLOBAL _strcspn
281   0000              	GLOBAL _strcpy_callee
282   0000              	GLOBAL _strcpy
283   0000              	GLOBAL _strcoll_callee
284   0000              	GLOBAL _strcoll
285   0000              	GLOBAL _strcmp_callee
286   0000              	GLOBAL _strcmp
287   0000              	GLOBAL _strchrnul_callee
288   0000              	GLOBAL _strchrnul
289   0000              	GLOBAL _strchr_callee
290   0000              	GLOBAL _strchr
291   0000              	GLOBAL _strcat_callee
292   0000              	GLOBAL _strcat
293   0000              	GLOBAL _strcasecmp_callee
294   0000              	GLOBAL _strcasecmp
295   0000              	GLOBAL _stpncpy_callee
296   0000              	GLOBAL _stpncpy
297   0000              	GLOBAL _stpcpy_callee
298   0000              	GLOBAL _stpcpy
299   0000              	GLOBAL _memswap_callee
300   0000              	GLOBAL _memswap
301   0000              	GLOBAL _memset_callee
302   0000              	GLOBAL _memset
303   0000              	GLOBAL _memrchr_callee
304   0000              	GLOBAL _memrchr
305   0000              	GLOBAL _memmove_callee
306   0000              	GLOBAL _memmove
307   0000              	GLOBAL _memmem_callee
308   0000              	GLOBAL _memmem
309   0000              	GLOBAL _memcpy_callee
310   0000              	GLOBAL _memcpy
311   0000              	GLOBAL _memcmp_callee
312   0000              	GLOBAL _memcmp
313   0000              	GLOBAL _memchr_callee
314   0000              	GLOBAL _memchr
315   0000              	GLOBAL _memccpy_callee
316   0000              	GLOBAL _memccpy
317   0000              	GLOBAL _ffsl_fastcall
318   0000              	GLOBAL _ffsl
319   0000              	GLOBAL _ffs_fastcall
320   0000              	GLOBAL _ffs
321   0000              	GLOBAL __strrstrip__fastcall
322   0000              	GLOBAL __strrstrip_
323   0000              	GLOBAL __memupr__callee
324   0000              	GLOBAL __memupr_
325   0000              	GLOBAL __memstrcpy__callee
326   0000              	GLOBAL __memstrcpy_
327   0000              	GLOBAL __memlwr__callee
328   0000              	GLOBAL __memlwr_
329   0000              	GLOBAL _rawmemchr_callee
330   0000              	GLOBAL _rawmemchr
331   0000              	GLOBAL _strnset_callee
332   0000              	GLOBAL _strnset
333   0000              	GLOBAL _strset_callee
334   0000              	GLOBAL _strset
335   0000              	GLOBAL _rindex_callee
336   0000              	GLOBAL _rindex
337   0000              	GLOBAL _index_callee
338   0000              	GLOBAL _index
339   0000              	GLOBAL _bzero_callee
340   0000              	GLOBAL _bzero
341   0000              	GLOBAL _bcopy_callee
342   0000              	GLOBAL _bcopy
343   0000              	GLOBAL _bcmp_callee
344   0000              	GLOBAL _bcmp
345   0000              	GLOBAL _ulltoa_callee
346   0000              	GLOBAL _ulltoa
347   0000              	GLOBAL _strtoull_callee
348   0000              	GLOBAL _strtoull
349   0000              	GLOBAL _strtoll_callee
350   0000              	GLOBAL _strtoll
351   0000              	GLOBAL _lltoa_callee
352   0000              	GLOBAL _lltoa
353   0000              	GLOBAL _llabs_callee
354   0000              	GLOBAL _llabs
355   0000              	GLOBAL __lldivu__callee
356   0000              	GLOBAL __lldivu_
357   0000              	GLOBAL __lldiv__callee
358   0000              	GLOBAL __lldiv_
359   0000              	GLOBAL _atoll_callee
360   0000              	GLOBAL _atoll
361   0000              	GLOBAL _realloc_unlocked_callee
362   0000              	GLOBAL _realloc_unlocked
363   0000              	GLOBAL _malloc_unlocked_fastcall
364   0000              	GLOBAL _malloc_unlocked
365   0000              	GLOBAL _free_unlocked_fastcall
366   0000              	GLOBAL _free_unlocked
367   0000              	GLOBAL _calloc_unlocked_callee
368   0000              	GLOBAL _calloc_unlocked
369   0000              	GLOBAL _aligned_alloc_unlocked_callee
370   0000              	GLOBAL _aligned_alloc_unlocked
371   0000              	GLOBAL _realloc_callee
372   0000              	GLOBAL _realloc
373   0000              	GLOBAL _malloc_fastcall
374   0000              	GLOBAL _malloc
375   0000              	GLOBAL _free_fastcall
376   0000              	GLOBAL _free
377   0000              	GLOBAL _calloc_callee
378   0000              	GLOBAL _calloc
379   0000              	GLOBAL _aligned_alloc_callee
380   0000              	GLOBAL _aligned_alloc
381   0000              	GLOBAL _utoa_callee
382   0000              	GLOBAL _utoa
383   0000              	GLOBAL _ultoa_callee
384   0000              	GLOBAL _ultoa
385   0000              	GLOBAL _system_fastcall
386   0000              	GLOBAL _system
387   0000              	GLOBAL _strtoul_callee
388   0000              	GLOBAL _strtoul
389   0000              	GLOBAL _strtol_callee
390   0000              	GLOBAL _strtol
391   0000              	GLOBAL _strtof_callee
392   0000              	GLOBAL _strtof
393   0000              	GLOBAL _strtod_callee
394   0000              	GLOBAL _strtod
395   0000              	GLOBAL _srand_fastcall
396   0000              	GLOBAL _srand
397   0000              	GLOBAL _rand
398   0000              	GLOBAL _quick_exit_fastcall
399   0000              	GLOBAL _quick_exit
400   0000              	GLOBAL _qsort_callee
401   0000              	GLOBAL _qsort
402   0000              	GLOBAL _ltoa_callee
403   0000              	GLOBAL _ltoa
404   0000              	GLOBAL _labs_fastcall
405   0000              	GLOBAL _labs
406   0000              	GLOBAL _itoa_callee
407   0000              	GLOBAL _itoa
408   0000              	GLOBAL _ftoh_callee
409   0000              	GLOBAL _ftoh
410   0000              	GLOBAL _ftog_callee
411   0000              	GLOBAL _ftog
412   0000              	GLOBAL _ftoe_callee
413   0000              	GLOBAL _ftoe
414   0000              	GLOBAL _ftoa_callee
415   0000              	GLOBAL _ftoa
416   0000              	GLOBAL _exit_fastcall
417   0000              	GLOBAL _exit
418   0000              	GLOBAL _dtoh_callee
419   0000              	GLOBAL _dtoh
420   0000              	GLOBAL _dtog_callee
421   0000              	GLOBAL _dtog
422   0000              	GLOBAL _dtoe_callee
423   0000              	GLOBAL _dtoe
424   0000              	GLOBAL _dtoa_callee
425   0000              	GLOBAL _dtoa
426   0000              	GLOBAL _bsearch_callee
427   0000              	GLOBAL _bsearch
428   0000              	GLOBAL _atol_fastcall
429   0000              	GLOBAL _atol
430   0000              	GLOBAL _atoi_fastcall
431   0000              	GLOBAL _atoi
432   0000              	GLOBAL _atof_fastcall
433   0000              	GLOBAL _atof
434   0000              	GLOBAL _atexit_fastcall
435   0000              	GLOBAL _atexit
436   0000              	GLOBAL _at_quick_exit_fastcall
437   0000              	GLOBAL _at_quick_exit
438   0000              	GLOBAL _abs_fastcall
439   0000              	GLOBAL _abs
440   0000              	GLOBAL _abort
441   0000              	GLOBAL __strtou__callee
442   0000              	GLOBAL __strtou_
443   0000              	GLOBAL __strtoi__callee
444   0000              	GLOBAL __strtoi_
445   0000              	GLOBAL __random_uniform_xor_8__fastcall
446   0000              	GLOBAL __random_uniform_xor_8_
447   0000              	GLOBAL __random_uniform_xor_32__fastcall
448   0000              	GLOBAL __random_uniform_xor_32_
449   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
450   0000              	GLOBAL __random_uniform_cmwc_8_
451   0000              	GLOBAL __shellsort__callee
452   0000              	GLOBAL __shellsort_
453   0000              	GLOBAL __quicksort__callee
454   0000              	GLOBAL __quicksort_
455   0000              	GLOBAL __insertion_sort__callee
456   0000              	GLOBAL __insertion_sort_
457   0000              	GLOBAL __ldivu__callee
458   0000              	GLOBAL __ldivu_
459   0000              	GLOBAL __ldiv__callee
460   0000              	GLOBAL __ldiv_
461   0000              	GLOBAL __divu__callee
462   0000              	GLOBAL __divu_
463   0000              	GLOBAL __div__callee
464   0000              	GLOBAL __div_
465   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
466   0000              	GLOBAL _NIRVANAP_drawTW_raw
467   0000              	GLOBAL _NIRVANAP_drawTW_callee
468   0000              	GLOBAL _NIRVANAP_drawTW
469   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawW_raw
471   0000              	GLOBAL _NIRVANAP_drawW_callee
472   0000              	GLOBAL _NIRVANAP_drawW
473   0000              	GLOBAL _NIRVANAP_spriteT_callee
474   0000              	GLOBAL _NIRVANAP_spriteT
475   0000              	GLOBAL _NIRVANAP_fillC_callee
476   0000              	GLOBAL _NIRVANAP_fillC
477   0000              	GLOBAL _NIRVANAP_readC_callee
478   0000              	GLOBAL _NIRVANAP_readC
479   0000              	GLOBAL _NIRVANAP_paintC_callee
480   0000              	GLOBAL _NIRVANAP_paintC
481   0000              	GLOBAL _NIRVANAP_printC_callee
482   0000              	GLOBAL _NIRVANAP_printC
483   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
484   0000              	GLOBAL _NIRVANAP_fillT_raw
485   0000              	GLOBAL _NIRVANAP_fillT_callee
486   0000              	GLOBAL _NIRVANAP_fillT
487   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
488   0000              	GLOBAL _NIRVANAP_drawT_raw
489   0000              	GLOBAL _NIRVANAP_drawT_callee
490   0000              	GLOBAL _NIRVANAP_drawT
491   0000              	GLOBAL _NIRVANAP_stop
492   0000              	GLOBAL _NIRVANAP_start
493   0000              	GLOBAL _debug3
494   0000              	GLOBAL _debug2
495   0000              	GLOBAL _debug
496   0000              	GLOBAL _zx_print_str
497   0000              	GLOBAL _zx_print_int
498   0000              	GLOBAL _zx_print_chr
499   0000              	GLOBAL _zx_print_bonus_time
500   0000              	GLOBAL _zx_isr
501   0000              	GLOBAL _z80_otdr_callee
502   0000              	GLOBAL _z80_otdr
503   0000              	GLOBAL _z80_otir_callee
504   0000              	GLOBAL _z80_otir
505   0000              	GLOBAL _z80_outp_callee
506   0000              	GLOBAL _z80_outp
507   0000              	GLOBAL _z80_indr_callee
508   0000              	GLOBAL _z80_indr
509   0000              	GLOBAL _z80_inir_callee
510   0000              	GLOBAL _z80_inir
511   0000              	GLOBAL _z80_inp_fastcall
512   0000              	GLOBAL _z80_inp
513   0000              	GLOBAL _z80_set_int_state_fastcall
514   0000              	GLOBAL _z80_set_int_state
515   0000              	GLOBAL _z80_get_int_state
516   0000              	GLOBAL _z80_delay_tstate_fastcall
517   0000              	GLOBAL _z80_delay_tstate
518   0000              	GLOBAL _z80_delay_ms_fastcall
519   0000              	GLOBAL _z80_delay_ms
520   0000              	GLOBAL _im2_remove_generic_callback_callee
521   0000              	GLOBAL _im2_remove_generic_callback
522   0000              	GLOBAL _im2_prepend_generic_callback_callee
523   0000              	GLOBAL _im2_prepend_generic_callback
524   0000              	GLOBAL _im2_append_generic_callback_callee
525   0000              	GLOBAL _im2_append_generic_callback
526   0000              	GLOBAL _im2_create_generic_isr_8080_callee
527   0000              	GLOBAL _im2_create_generic_isr_8080
528   0000              	GLOBAL _im2_create_generic_isr_callee
529   0000              	GLOBAL _im2_create_generic_isr
530   0000              	GLOBAL _im2_install_isr_callee
531   0000              	GLOBAL _im2_install_isr
532   0000              	GLOBAL _im2_init_fastcall
533   0000              	GLOBAL _im2_init
534   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
535   0000              	GLOBAL _intrinsic_swap_word_32
536   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
537   0000              	GLOBAL _intrinsic_swap_endian_32
538   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
539   0000              	GLOBAL _intrinsic_swap_endian_16
540   0000              	GLOBAL _intrinsic_return_de
541   0000              	GLOBAL _intrinsic_return_bc
542   0000              	GLOBAL _intrinsic_exx
543   0000              	GLOBAL _intrinsic_ex_de_hl
544   0000              	GLOBAL _intrinsic_nop
545   0000              	GLOBAL _intrinsic_im_2
546   0000              	GLOBAL _intrinsic_im_1
547   0000              	GLOBAL _intrinsic_im_0
548   0000              	GLOBAL _intrinsic_retn
549   0000              	GLOBAL _intrinsic_reti
550   0000              	GLOBAL _intrinsic_halt
551   0000              	GLOBAL _intrinsic_ei
552   0000              	GLOBAL _intrinsic_di
553   0000              	GLOBAL _intrinsic_stub
554   0000              	GLOBAL _intrinsic_outi
555   0000              	GLOBAL _intrinsic_ldi
556   0000              	GLOBAL _zx_pattern_fill_callee
557   0000              	GLOBAL _zx_pattern_fill
558   0000              	GLOBAL _zx_saddrpup_fastcall
559   0000              	GLOBAL _zx_saddrpup
560   0000              	GLOBAL _zx_saddrpright_callee
561   0000              	GLOBAL _zx_saddrpright
562   0000              	GLOBAL _zx_saddrpleft_callee
563   0000              	GLOBAL _zx_saddrpleft
564   0000              	GLOBAL _zx_saddrpdown_fastcall
565   0000              	GLOBAL _zx_saddrpdown
566   0000              	GLOBAL _zx_saddrcup_fastcall
567   0000              	GLOBAL _zx_saddrcup
568   0000              	GLOBAL _zx_saddrcright_fastcall
569   0000              	GLOBAL _zx_saddrcright
570   0000              	GLOBAL _zx_saddrcleft_fastcall
571   0000              	GLOBAL _zx_saddrcleft
572   0000              	GLOBAL _zx_saddrcdown_fastcall
573   0000              	GLOBAL _zx_saddrcdown
574   0000              	GLOBAL _zx_saddr2py_fastcall
575   0000              	GLOBAL _zx_saddr2py
576   0000              	GLOBAL _zx_saddr2px_fastcall
577   0000              	GLOBAL _zx_saddr2px
578   0000              	GLOBAL _zx_saddr2cy_fastcall
579   0000              	GLOBAL _zx_saddr2cy
580   0000              	GLOBAL _zx_saddr2cx_fastcall
581   0000              	GLOBAL _zx_saddr2cx
582   0000              	GLOBAL _zx_saddr2aaddr_fastcall
583   0000              	GLOBAL _zx_saddr2aaddr
584   0000              	GLOBAL _zx_py2saddr_fastcall
585   0000              	GLOBAL _zx_py2saddr
586   0000              	GLOBAL _zx_py2aaddr_fastcall
587   0000              	GLOBAL _zx_py2aaddr
588   0000              	GLOBAL _zx_pxy2saddr_callee
589   0000              	GLOBAL _zx_pxy2saddr
590   0000              	GLOBAL _zx_pxy2aaddr_callee
591   0000              	GLOBAL _zx_pxy2aaddr
592   0000              	GLOBAL _zx_px2bitmask_fastcall
593   0000              	GLOBAL _zx_px2bitmask
594   0000              	GLOBAL _zx_cy2saddr_fastcall
595   0000              	GLOBAL _zx_cy2saddr
596   0000              	GLOBAL _zx_cy2aaddr_fastcall
597   0000              	GLOBAL _zx_cy2aaddr
598   0000              	GLOBAL _zx_cxy2saddr_callee
599   0000              	GLOBAL _zx_cxy2saddr
600   0000              	GLOBAL _zx_cxy2aaddr_callee
601   0000              	GLOBAL _zx_cxy2aaddr
602   0000              	GLOBAL _zx_bitmask2px_fastcall
603   0000              	GLOBAL _zx_bitmask2px
604   0000              	GLOBAL _zx_aaddrcup_fastcall
605   0000              	GLOBAL _zx_aaddrcup
606   0000              	GLOBAL _zx_aaddrcright_fastcall
607   0000              	GLOBAL _zx_aaddrcright
608   0000              	GLOBAL _zx_aaddrcleft_fastcall
609   0000              	GLOBAL _zx_aaddrcleft
610   0000              	GLOBAL _zx_aaddrcdown_fastcall
611   0000              	GLOBAL _zx_aaddrcdown
612   0000              	GLOBAL _zx_aaddr2saddr_fastcall
613   0000              	GLOBAL _zx_aaddr2saddr
614   0000              	GLOBAL _zx_aaddr2py_fastcall
615   0000              	GLOBAL _zx_aaddr2py
616   0000              	GLOBAL _zx_aaddr2px_fastcall
617   0000              	GLOBAL _zx_aaddr2px
618   0000              	GLOBAL _zx_aaddr2cy_fastcall
619   0000              	GLOBAL _zx_aaddr2cy
620   0000              	GLOBAL _zx_aaddr2cx_fastcall
621   0000              	GLOBAL _zx_aaddr2cx
622   0000              	GLOBAL _zx_visit_wc_pix_callee
623   0000              	GLOBAL _zx_visit_wc_pix
624   0000              	GLOBAL _zx_visit_wc_attr_callee
625   0000              	GLOBAL _zx_visit_wc_attr
626   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
627   0000              	GLOBAL _zx_scroll_wc_up_pix
628   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
629   0000              	GLOBAL _zx_scroll_wc_up_attr
630   0000              	GLOBAL _zx_scroll_wc_up_callee
631   0000              	GLOBAL _zx_scroll_wc_up
632   0000              	GLOBAL _zx_scroll_up_pix_callee
633   0000              	GLOBAL _zx_scroll_up_pix
634   0000              	GLOBAL _zx_scroll_up_attr_callee
635   0000              	GLOBAL _zx_scroll_up_attr
636   0000              	GLOBAL _zx_scroll_up_callee
637   0000              	GLOBAL _zx_scroll_up
638   0000              	GLOBAL _zx_cls_wc_pix_callee
639   0000              	GLOBAL _zx_cls_wc_pix
640   0000              	GLOBAL _zx_cls_wc_attr_callee
641   0000              	GLOBAL _zx_cls_wc_attr
642   0000              	GLOBAL _zx_cls_wc_callee
643   0000              	GLOBAL _zx_cls_wc
644   0000              	GLOBAL _zx_cls_pix_fastcall
645   0000              	GLOBAL _zx_cls_pix
646   0000              	GLOBAL _zx_cls_attr_fastcall
647   0000              	GLOBAL _zx_cls_attr
648   0000              	GLOBAL _zx_cls_fastcall
649   0000              	GLOBAL _zx_cls
650   0000              	GLOBAL _zx_border_fastcall
651   0000              	GLOBAL _zx_border
652   0000              	GLOBAL _spr_btile_paint_back
653   0000              	GLOBAL _spr_explode_bullet
654   0000              	GLOBAL _spr_init_anim_bullets
655   0000              	GLOBAL _spr_turn_horizontal
656   0000              	GLOBAL _spr_play_bullets
657   0000              	GLOBAL _spr_play_anim
658   0000              	GLOBAL _spr_add_anim
659   0000              	GLOBAL _spr_page_map
660   0000              	GLOBAL _spr_page_right
661   0000              	GLOBAL _spr_page_left
662   0000              	GLOBAL _spr_tile_paint
663   0000              	GLOBAL _spr_calc_hor
664   0000              	GLOBAL _spr_draw_row
665   0000              	GLOBAL _spr_draw_index
666   0000              	GLOBAL _spr_draw_clear
667   0000              	GLOBAL _spr_brick_anim
668   0000              	GLOBAL _spr_back_repaint
669   0000              	GLOBAL _spr_tile
670   0000              	GLOBAL _spr_destroy
671   0000              	GLOBAL _spr_tile_dir
672   0000              	GLOBAL _spr_redraw
673   0000              	GLOBAL _spr_move_left
674   0000              	GLOBAL _spr_move_right
675   0000              	GLOBAL _spr_move_horizontal
676   0000              	GLOBAL _spr_move_down
677   0000              	GLOBAL _spr_move_up
678   0000              	GLOBAL _spr_calc_index
679   0000              	GLOBAL _spr_chktime
680   0000              	GLOBAL _sound_hit_brick
681   0000              	GLOBAL _sound_hit_enemy
682   0000              	GLOBAL _sound_kill
683   0000              	GLOBAL _sound_enter_enemy
684   0000              	GLOBAL _sound_coin
685   0000              	GLOBAL _sound_jump
686   0000              	GLOBAL _sound_slide
687   0000              	GLOBAL _player_lost_life
688   0000              	GLOBAL _player_hit
689   0000              	GLOBAL _player_open_door
690   0000              	GLOBAL _player_move_jump
691   0000              	GLOBAL _player_fire
692   0000              	GLOBAL _player_check_stairs_down
693   0000              	GLOBAL _player_check_stairs
694   0000              	GLOBAL _player_tile
695   0000              	GLOBAL _player_pick_item
696   0000              	GLOBAL _player_check_floor
697   0000              	GLOBAL _player_hit_platform_clear
698   0000              	GLOBAL _player_score_add
699   0000              	GLOBAL _player_player_hit_pow
700   0000              	GLOBAL _player_hit_platform
701   0000              	GLOBAL _player_move_input
702   0000              	GLOBAL _player_turn
703   0000              	GLOBAL _player_move
704   0000              	GLOBAL _player_restart
705   0000              	GLOBAL _player_kill
706   0000              	GLOBAL _player_check_input
707   0000              	GLOBAL _player_collision
708   0000              	GLOBAL _player_init
709   0000              	GLOBAL _game_unfreeze_all
710   0000              	GLOBAL _game_freeze_all
711   0000              	GLOBAL _game_freeze
712   0000              	GLOBAL _game_fill_row
713   0000              	GLOBAL _enemy_avoid_fall_dead
714   0000              	GLOBAL _enemy_avoid_fall
715   0000              	GLOBAL _enemy_respawn
716   0000              	GLOBAL _enemy_init
717   0000              	GLOBAL _enemy_move
718   0000              	GLOBAL _enemy_turn
719   0000              	GLOBAL _enemy_hit
720   0000              	GLOBAL _enemy_coin1
721   0000              	GLOBAL _enemy_static
722   0000              	GLOBAL _enemy_walk
723   0000              	GLOBAL _enemy_horizontal
724   0000              	GLOBAL _enemy_vertical
725   0000              	GLOBAL _ay_fx_play
726   0000              	GLOBAL _ay_midi_play
727   0000              	GLOBAL _ay_is_playing
728   0000              	GLOBAL _ay_reset
729   0000              	GLOBAL _test_func
730   0000              	GLOBAL _test_proc
731   0000              	GLOBAL _in_mouse_kempston_wheel_delta
732   0000              	GLOBAL _in_mouse_kempston_wheel
733   0000              	GLOBAL _in_mouse_kempston_callee
734   0000              	GLOBAL _in_mouse_kempston
735   0000              	GLOBAL _in_mouse_kempston_setpos_callee
736   0000              	GLOBAL _in_mouse_kempston_setpos
737   0000              	GLOBAL _in_mouse_kempston_reset
738   0000              	GLOBAL _in_mouse_kempston_init
739   0000              	GLOBAL _in_mouse_amx_wheel_delta
740   0000              	GLOBAL _in_mouse_amx_wheel
741   0000              	GLOBAL _in_mouse_amx_callee
742   0000              	GLOBAL _in_mouse_amx
743   0000              	GLOBAL _in_mouse_amx_setpos_callee
744   0000              	GLOBAL _in_mouse_amx_setpos
745   0000              	GLOBAL _in_mouse_amx_reset
746   0000              	GLOBAL _in_mouse_amx_init_callee
747   0000              	GLOBAL _in_mouse_amx_init
748   0000              	GLOBAL _in_stick_sinclair2
749   0000              	GLOBAL _in_stick_sinclair1
750   0000              	GLOBAL _in_stick_kempston
751   0000              	GLOBAL _in_stick_fuller
752   0000              	GLOBAL _in_stick_cursor
753   0000              	GLOBAL _in_stick_keyboard_fastcall
754   0000              	GLOBAL _in_stick_keyboard
755   0000              	GLOBAL _in_wait_nokey
756   0000              	GLOBAL _in_wait_key
757   0000              	GLOBAL _in_test_key
758   0000              	GLOBAL _in_pause_fastcall
759   0000              	GLOBAL _in_pause
760   0000              	GLOBAL _in_key_scancode_fastcall
761   0000              	GLOBAL _in_key_scancode
762   0000              	GLOBAL _in_key_pressed_fastcall
763   0000              	GLOBAL _in_key_pressed
764   0000              	GLOBAL _in_inkey
765   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
766   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
767   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
768   0000              	GLOBAL _NIRVANAP_HOLE
769   0000              	GLOBAL _NIRVANAP_ISR_HOOK
770   0000              	GLOBAL _player_lvl_table
771   0000              	GLOBAL _map_paper_last
772   0000              	GLOBAL _map_paper_clr
773   0000              	GLOBAL _map_paper
774   0000              	GLOBAL _draw_count
775   0000              	GLOBAL _g_player_hit_right
776   0000              	GLOBAL _g_player_hit_left
777   0000              	GLOBAL _joynames
778   0000              	GLOBAL _initials
779   0000              	GLOBAL _bullet_count
780   0000              	GLOBAL _bullet_vel
781   0000              	GLOBAL _bullet_frames
782   0000              	GLOBAL _bullet_colint
783   0000              	GLOBAL _bullet_dir
784   0000              	GLOBAL _bullet_tile
785   0000              	GLOBAL _bullet_col
786   0000              	GLOBAL _bullet_lin
787   0000              	GLOBAL _bullet_col0
788   0000              	GLOBAL _bullet_lin0
789   0000              	GLOBAL _bullet_max
790   0000              	GLOBAL _bullet_class
791   0000              	GLOBAL _mush_class
792   0000              	GLOBAL _mush_index
793   0000              	GLOBAL _anim_count
794   0000              	GLOBAL _anim_respanwn
795   0000              	GLOBAL _anim_loop
796   0000              	GLOBAL _anim_end
797   0000              	GLOBAL _anim_int
798   0000              	GLOBAL _anim_tile
799   0000              	GLOBAL _anim_col
800   0000              	GLOBAL _anim_lin
801   0000              	GLOBAL _map_heigth
802   0000              	GLOBAL _map_width
803   0000              	GLOBAL _scr_curr
804   0000              	GLOBAL _scr_obj1
805   0000              	GLOBAL _scr_obj0
806   0000              	GLOBAL _scr_map
807   0000              	GLOBAL _sprite_speed_alt
808   0000              	GLOBAL _sprite_frames
809   0000              	GLOBAL _sprite_speed
810   0000              	GLOBAL _screen_ink
811   0000              	GLOBAL _screen_paper
812   0000              	GLOBAL _player_over_stair
813   0000              	GLOBAL _game_start_scr
814   0000              	GLOBAL _game_respawn_tile
815   0000              	GLOBAL _game_respawn_index
816   0000              	GLOBAL _game_respawn_time
817   0000              	GLOBAL _game_menu_sel
818   0000              	GLOBAL _game_score_top
819   0000              	GLOBAL _player_lives
820   0000              	GLOBAL _game_over
821   0000              	GLOBAL _game_sound
822   0000              	GLOBAL _game_inmune
823   0000              	GLOBAL _game_god_mode
824   0000              	GLOBAL _game_two_player
825   0000              	GLOBAL _game_brick_tile
826   0000              	GLOBAL _sprite_curr_index
827   0000              	GLOBAL _spr_count
828   0000              	GLOBAL _bullet_time
829   0000              	GLOBAL _anim_time
830   0000              	GLOBAL _frame_time
831   0000              	GLOBAL _entry_time
832   0000              	GLOBAL _curr_time
833   0000              	GLOBAL _s_state
834   0000              	GLOBAL _attrib_hl
835   0000              	GLOBAL _attrib
836   0000              	GLOBAL _zx_val_asm
837   0000              	GLOBAL _enemies
838   0000              	GLOBAL _tmp_ui
839   0000              	GLOBAL _tmp_sc
840   0000              	GLOBAL _tmp_uc
841   0000              	GLOBAL _tmp1
842   0000              	GLOBAL _tmp0
843   0000              	GLOBAL _tmp
844   0000              	GLOBAL _index1
845   0000              	GLOBAL _index0
846   0000              	GLOBAL _loop_count
847   0000              	GLOBAL _s_col1
848   0000              	GLOBAL _s_col0
849   0000              	GLOBAL _s_lin1
850   0000              	GLOBAL _s_lin0
851   0000              	GLOBAL _s_tile1
852   0000              	GLOBAL _s_tile0
853   0000              	GLOBAL _player_hit_count
854   0000              	GLOBAL _sprite_horizontal_check
855   0000              	GLOBAL _sprite_on_air
856   0000              	GLOBAL _sprite
857   0000              	GLOBAL _game_respawn_curr_time
858   0000              	GLOBAL _game_world
859   0000              	GLOBAL _game_gravity
860   0000              	GLOBAL _player_hit_time
861   0000              	GLOBAL _player_lin_scr
862   0000              	GLOBAL _player_col_scr
863   0000              	GLOBAL _player_lvl
864   0000              	GLOBAL _player_int
865   0000              	GLOBAL _player_str
866   0000              	GLOBAL _player_max_vita
867   0000              	GLOBAL _player_max_mana
868   0000              	GLOBAL _player_vita
869   0000              	GLOBAL _player_mana
870   0000              	GLOBAL _player_keys
871   0000              	GLOBAL _player_vel_inc
872   0000              	GLOBAL _player_vel_y1
873   0000              	GLOBAL _player_vel_y0
874   0000              	GLOBAL _player_vel_y
875   0000              	GLOBAL _player_vel_x
876   0000              	GLOBAL _player_joy
877   0000              	GLOBAL _player_score
878   0000              	GLOBAL _last_time
879   0000              	GLOBAL _player_slide
880   0000              	GLOBAL _spr_timer
881   0000              	GLOBAL _jump_lin
882   0000              	GLOBAL _player_hit_col
883   0000              	GLOBAL _player_hit_lin
884   0000              	GLOBAL _colint
885   0000              	GLOBAL _col
886   0000              	GLOBAL _lin
887   0000              	GLOBAL _tile
888   0000              	GLOBAL _state_a
889   0000              	GLOBAL _state
890   0000              	GLOBAL _class
891   0000              	GLOBAL _tbuffer
892   0000              	GLOBAL _dirs
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
898   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
899   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
900   0000              	GLOBAL _ay_effect_20
901   0000              	GLOBAL _ay_effect_19
902   0000              	GLOBAL _ay_effect_18
903   0000              	GLOBAL _ay_effect_17
904   0000              	GLOBAL _ay_effect_16
905   0000              	GLOBAL _ay_effect_15
906   0000              	GLOBAL _ay_effect_14
907   0000              	GLOBAL _ay_effect_13
908   0000              	GLOBAL _ay_effect_12
909   0000              	GLOBAL _ay_effect_11
910   0000              	GLOBAL _ay_effect_10
911   0000              	GLOBAL _ay_effect_09
912   0000              	GLOBAL _ay_effect_08
913   0000              	GLOBAL _ay_effect_07
914   0000              	GLOBAL _ay_effect_06
915   0000              	GLOBAL _ay_effect_05
916   0000              	GLOBAL _ay_effect_04
917   0000              	GLOBAL _ay_effect_03
918   0000              	GLOBAL _ay_effect_02
919   0000              	GLOBAL _ay_effect_01
920   0000              	GLOBAL _pb_midi_phase_1
921   0000              	GLOBAL _pb_midi_title
922   0000              	GLOBAL _control_method
923   0000              	GLOBAL _world0
924   0000              	GLOBAL _lenght0
925   0000              	GLOBAL _start_scr0
926   0000              ;--------------------------------------------------------
927   0000              ; special function registers
928   0000              ;--------------------------------------------------------
929   0000              defc _IO_FE	=	0x00fe
930   0000              defc _IO_1FFD	=	0x1ffd
931   0000              defc _IO_7FFD	=	0x7ffd
932   0000              ;--------------------------------------------------------
933   0000              ; ram data
934   0000              ;--------------------------------------------------------
935   0000              	SECTION bss_compiler
936   0000              ;--------------------------------------------------------
937   0000              ; ram data
938   0000              ;--------------------------------------------------------
939   0000              
940   0000              IF 0
941   0000              
942   0000              ; .area _INITIALIZED removed by z88dk
943   0000              
944   0000              
945   0000              ENDIF
946   0000              
947   0000              ;--------------------------------------------------------
948   0000              ; absolute external ram data
949   0000              ;--------------------------------------------------------
950   0000              	SECTION IGNORE
951   0000              ;--------------------------------------------------------
952   0000              ; global & static initialisations
953   0000              ;--------------------------------------------------------
954   0000              	SECTION code_crt_init
955   0000              ;--------------------------------------------------------
956   0000              ; Home
957   0000              ;--------------------------------------------------------
958   0000              	SECTION IGNORE
959   0000              ;--------------------------------------------------------
960   0000              ; code
961   0000              ;--------------------------------------------------------
962   0000              	SECTION code_compiler
963   0000              ;	---------------------------------
964   0000              ; Function game_loop
965   0000              ; ---------------------------------
966   0000              _game_loop:
967   0000  CD 00 00    	call	___sdcc_enter_ix
968   0003  F5          	push	af
969   0004  F5          	push	af
970   0005  21 00 00    	ld	hl,_game_respawn_curr_time
971   0008  36 FA       	ld	(hl),0xfa
972   000A              l_game_loop_00118:
973   000A  3A 00 00    	ld	a,(_game_over)
974   000D  B7          	or	a, a
975   000E  C2 4A 01    	jp	NZ, l_game_loop_00121
976   0011  C5          	push	bc
977   0012  21 06 00    	ld	hl,0x0006
978   0015  E5          	push	hl
979   0016  2A 00 00    	ld	hl,(_anim_time)
980   0019  E5          	push	hl
981   001A  CD E6 09    	call	_game_check_time
982   001D  F1          	pop	af
983   001E  F1          	pop	af
984   001F  C1          	pop	bc
985   0020  7D          	ld	a,l
986   0021  B7          	or	a, a
987   0022  28 16       	jr	Z,l_game_loop_00104
988   0024  2E 00       	ld	l,0x00
989   0026  CD 00 00    	call	_zx_border_fastcall
990   0029  2A 00 00    	ld	hl,(_curr_time)
991   002C  22 00 00    	ld	(_anim_time),hl
992   002F  3A 00 00    	ld	a,(_anim_count)
993   0032  B7          	or	a,a
994   0033  28 05       	jr	Z,l_game_loop_00104
995   0035  C5          	push	bc
996   0036  CD 00 00    	call	_spr_play_anim
997   0039  C1          	pop	bc
998   003A              l_game_loop_00104:
999   003A  C5          	push	bc
1000  003B  21 02 00    	ld	hl,0x0002
1001  003E  E5          	push	hl
1002  003F  2A 00 00    	ld	hl,(_bullet_time)
1003  0042  E5          	push	hl
1004  0043  CD E6 09    	call	_game_check_time
1005  0046  F1          	pop	af
1006  0047  F1          	pop	af
1007  0048  C1          	pop	bc
1008  0049  7D          	ld	a,l
1009  004A  B7          	or	a, a
1010  004B  28 11       	jr	Z,l_game_loop_00108
1011  004D  2A 00 00    	ld	hl,(_curr_time)
1012  0050  22 00 00    	ld	(_bullet_time),hl
1013  0053  3A 00 00    	ld	a,(_bullet_count)
1014  0056  B7          	or	a,a
1015  0057  28 05       	jr	Z,l_game_loop_00108
1016  0059  C5          	push	bc
1017  005A  CD 00 00    	call	_spr_play_bullets
1018  005D  C1          	pop	bc
1019  005E              l_game_loop_00108:
1020  005E  C5          	push	bc
1021  005F  21 64 00    	ld	hl,0x0064
1022  0062  E5          	push	hl
1023  0063  2A 00 00    	ld	hl,(_frame_time)
1024  0066  E5          	push	hl
1025  0067  CD E6 09    	call	_game_check_time
1026  006A  F1          	pop	af
1027  006B  F1          	pop	af
1028  006C  C1          	pop	bc
1029  006D  7D          	ld	a,l
1030  006E  B7          	or	a, a
1031  006F  CA 2F 01    	jp	Z, l_game_loop_00117
1032  0072  21 00 00    	ld	hl,_screen_ink
1033  0075  36 07       	ld	(hl),0x07
1034  0077  C5          	push	bc
1035  0078  21 17 18    	ld	hl,0x1817
1036  007B  E5          	push	hl
1037  007C  CD 00 00    	call	_zx_print_int
1038  007F  01 00 00    	ld	bc,0x0000
1039  0082  2A 00 00    	ld	hl,(_curr_time)
1040  0085  22 00 00    	ld	(_frame_time),hl
1041  0088  21 00 00    	ld	hl,_sprite
1042  008B  36 00       	ld	(hl),0x00
1043  008D              l_game_loop_00113:
1044  008D  21 00 00    	ld	hl,_sprite
1045  0090  7E          	ld	a, (hl)
1046  0091  D6 07       	sub	a,0x07
1047  0093  D2 2F 01    	jp	NC, l_game_loop_00117
1048  0096  6E          	ld	l,(hl)
1049  0097  26 00       	ld	h,0x00
1050  0099  29          	add	hl, hl
1051  009A  11 00 00    	ld	de,_game_respawn_time
1052  009D  19          	add	hl, de
1053  009E  5E          	ld	e, (hl)
1054  009F  23          	inc	hl
1055  00A0  7E          	ld	a,(hl)
1056  00A1  57          	ld	d,a
1057  00A2  B3          	or	a,e
1058  00A3  CA 28 01    	jp	Z, l_game_loop_00112
1059  00A6  3A 00 00    	ld	a,(_game_respawn_curr_time)
1060  00A9  DD 77 FE    	ld	(ix-2),a
1061  00AC  DD 36 FF 00 	ld	(ix-1),0x00
1062  00B0  C5          	push	bc
1063  00B1  DD 6E FE    	ld	l,(ix-2)
1064  00B4  DD 66 FF    	ld	h,(ix-1)
1065  00B7  E5          	push	hl
1066  00B8  D5          	push	de
1067  00B9  CD E6 09    	call	_game_check_time
1068  00BC  F1          	pop	af
1069  00BD  F1          	pop	af
1070  00BE  C1          	pop	bc
1071  00BF  7D          	ld	a,l
1072  00C0  B7          	or	a, a
1073  00C1  28 65       	jr	Z,l_game_loop_00112
1074  00C3  2A 00 00    	ld	hl,(_sprite)
1075  00C6  26 00       	ld	h,0x00
1076  00C8  11 00 00    	ld	de,_game_respawn_index
1077  00CB  19          	add	hl,de
1078  00CC  7E          	ld	a,(hl)
1079  00CD  6F          	ld	l,a
1080  00CE  26 00       	ld	h,0x00
1081  00D0  22 00 00    	ld	(_index1),hl
1082  00D3  5F          	ld	e,a
1083  00D4  E6 0F       	and	a,0x0f
1084  00D6  87          	add	a, a
1085  00D7  32 00 00    	ld	(_s_col1),a
1086  00DA  21 00 00    	ld	hl,_s_lin1
1087  00DD  73          	ld	(hl),e
1088  00DE  7B          	ld	a,e
1089  00DF  07          	rlca
1090  00E0  07          	rlca
1091  00E1  07          	rlca
1092  00E2  07          	rlca
1093  00E3  E6 0F       	and	a,0x0f
1094  00E5  07          	rlca
1095  00E6  07          	rlca
1096  00E7  07          	rlca
1097  00E8  07          	rlca
1098  00E9  E6 F0       	and	a,0xf0
1099  00EB  77          	ld	(hl), a
1100  00EC  11 00 00    	ld	de,_scr_map
1101  00EF  2A 00 00    	ld	hl,(_index1)
1102  00F2  19          	add	hl,de
1103  00F3  36 FF       	ld	(hl),0xff
1104  00F5  2A 00 00    	ld	hl,(_sprite)
1105  00F8  26 00       	ld	h,0x00
1106  00FA  11 00 00    	ld	de,_game_respawn_tile
1107  00FD  19          	add	hl,de
1108  00FE  66          	ld	h, (hl)
1109  00FF  C5          	push	bc
1110  0100  E5          	push	hl
1111  0101  33          	inc	sp
1112  0102  21 03 04    	ld	hl,0x0403
1113  0105  E5          	push	hl
1114  0106  2A 00 00    	ld	hl,(_s_col1)
1115  0109  26 8A       	ld	h,0x8a
1116  010B  3A 00 00    	ld	a,(_s_lin1)
1117  010E  E5          	push	hl
1118  010F  F5          	push	af
1119  0110  33          	inc	sp
1120  0111  CD 00 00    	call	_spr_add_anim
1121  0114  F1          	pop	af
1122  0115  F1          	pop	af
1123  0116  F1          	pop	af
1124  0117  C1          	pop	bc
1125  0118  2A 00 00    	ld	hl,(_sprite)
1126  011B  26 00       	ld	h,0x00
1127  011D  29          	add	hl, hl
1128  011E  11 00 00    	ld	de,_game_respawn_time
1129  0121  19          	add	hl, de
1130  0122  AF          	xor	a, a
1131  0123  77          	ld	(hl), a
1132  0124  23          	inc	hl
1133  0125  77          	ld	(hl), a
1134  0126  18 07       	jr	l_game_loop_00117
1135  0128              l_game_loop_00112:
1136  0128  21 00 00    	ld	hl,_sprite
1137  012B  34          	inc	(hl)
1138  012C  C3 8D 00    	jp	l_game_loop_00113
1139  012F              l_game_loop_00117:
1140  012F  C5          	push	bc
1141  0130  CD 00 00    	call	_enemy_turn
1142  0133  C1          	pop	bc
1143  0134  21 00 00    	ld	hl,_sprite
1144  0137  36 07       	ld	(hl),0x07
1145  0139  C5          	push	bc
1146  013A  CD 00 00    	call	_player_turn
1147  013D  C1          	pop	bc
1148  013E  21 00 00    	ld	hl,_loop_count
1149  0141  34          	inc	(hl)
1150  0142  20 02       	jr	NZ,l_game_loop_00167
1151  0144  23          	inc	hl
1152  0145  34          	inc	(hl)
1153  0146              l_game_loop_00167:
1154  0146  03          	inc	bc
1155  0147  C3 0A 00    	jp	l_game_loop_00118
1156  014A              l_game_loop_00121:
1157  014A  DD F9       	ld	sp, ix
1158  014C  DD E1       	pop	ix
1159  014E  C9          	ret
1160  014F              	SECTION code_compiler
1161  014F              ;	---------------------------------
1162  014F              ; Function game_draw_screen
1163  014F              ; ---------------------------------
1164  014F              _game_draw_screen:
1165  014F  CD 00 00    	call	___sdcc_enter_ix
1166  0152  3B          	dec	sp
1167  0153  76          	halt
1168  0154  21 00 00    	ld	hl,_spr_count
1169  0157  36 00       	ld	(hl),0x00
1170  0159              l_game_draw_screen_00101:
1171  0159  21 00 00    	ld	hl,_spr_count
1172  015C  7E          	ld	a, (hl)
1173  015D  D6 07       	sub	a,0x07
1174  015F  30 49       	jr	NC,l_game_draw_screen_00103
1175  0161  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1176  0163  86          	add	a, (hl)
1177  0164  4F          	ld	c, a
1178  0165  3E 00       	ld	a, +((_game_respawn_index) / 256)
1179  0167  CE 00       	adc	a,0x00
1180  0169  47          	ld	b, a
1181  016A  AF          	xor	a, a
1182  016B  02          	ld	(bc), a
1183  016C  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1184  016E  86          	add	a, (hl)
1185  016F  4F          	ld	c, a
1186  0170  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1187  0172  CE 00       	adc	a,0x00
1188  0174  47          	ld	b, a
1189  0175  AF          	xor	a, a
1190  0176  02          	ld	(bc), a
1191  0177  6E          	ld	l, (hl)
1192  0178  26 00       	ld	h,0x00
1193  017A  29          	add	hl, hl
1194  017B  11 00 00    	ld	de,_game_respawn_time
1195  017E  19          	add	hl, de
1196  017F  AF          	xor	a, a
1197  0180  77          	ld	(hl), a
1198  0181  23          	inc	hl
1199  0182  77          	ld	(hl), a
1200  0183  2A 00 00    	ld	hl,(_spr_count)
1201  0186  26 00       	ld	h,0x00
1202  0188  01 00 00    	ld	bc,_mush_index
1203  018B  09          	add	hl,bc
1204  018C  AF          	xor	a,a
1205  018D  77          	ld	(hl),a
1206  018E  2A 00 00    	ld	hl,(_spr_count)
1207  0191  26 00       	ld	h,0x00
1208  0193  01 00 00    	ld	bc,_mush_class
1209  0196  09          	add	hl,bc
1210  0197  AF          	xor	a,a
1211  0198  77          	ld	(hl),a
1212  0199  2A 00 00    	ld	hl,(_spr_count)
1213  019C  26 00       	ld	h,0x00
1214  019E  01 00 00    	ld	bc,_class
1215  01A1  09          	add	hl,bc
1216  01A2  AF          	xor	a,a
1217  01A3  77          	ld	(hl),a
1218  01A4  21 00 00    	ld	hl,_spr_count
1219  01A7  34          	inc	(hl)
1220  01A8  18 AF       	jr	l_game_draw_screen_00101
1221  01AA              l_game_draw_screen_00103:
1222  01AA  21 10 00    	ld	hl,0x0010
1223  01AD  22 00 00    	ld	(_index1),hl
1224  01B0  21 00 00    	ld	hl,_s_lin1
1225  01B3  36 00       	ld	(hl),0x00
1226  01B5  21 00 00    	ld	hl,_s_col1
1227  01B8  36 02       	ld	(hl),0x02
1228  01BA  21 00 00    	ld	hl,_spr_count
1229  01BD  36 00       	ld	(hl),0x00
1230  01BF  F3          	di
1231  01C0  DD 36 FF 00 	ld	(ix-1),0x00
1232  01C4              l_game_draw_screen_00119:
1233  01C4  21 00 00    	ld	hl,_index1
1234  01C7  7E          	ld	a, (hl)
1235  01C8  D6 A0       	sub	a,0xa0
1236  01CA  23          	inc	hl
1237  01CB  7E          	ld	a, (hl)
1238  01CC  DE 00       	sbc	a,0x00
1239  01CE  D2 C1 02    	jp	NC, l_game_draw_screen_00121
1240  01D1  2B          	dec	hl
1241  01D2  7E          	ld	a, (hl)
1242  01D3  E6 0F       	and	a,0x0f
1243  01D5  20 0C       	jr	NZ,l_game_draw_screen_00105
1244  01D7  21 00 00    	ld	hl,_s_lin1
1245  01DA  7E          	ld	a, (hl)
1246  01DB  C6 10       	add	a,0x10
1247  01DD  77          	ld	(hl), a
1248  01DE  21 00 00    	ld	hl,_s_col1
1249  01E1  36 00       	ld	(hl),0x00
1250  01E3              l_game_draw_screen_00105:
1251  01E3  2A 00 00    	ld	hl,(_index1)
1252  01E6  01 00 00    	ld	bc,_scr_map
1253  01E9  09          	add	hl,bc
1254  01EA  7E          	ld	a,(hl)
1255  01EB  FE 60       	cp	a,0x60
1256  01ED  30 36       	jr	NC,l_game_draw_screen_00117
1257  01EF  D6 5C       	sub	a,0x5c
1258  01F1  20 19       	jr	NZ,l_game_draw_screen_00107
1259  01F3  2A 00 00    	ld	hl,(_index1)
1260  01F6  01 F0 FF    	ld	bc,0xfff0
1261  01F9  09          	add	hl,bc
1262  01FA  E5          	push	hl
1263  01FB  CD 75 0C    	call	_game_obj_chk
1264  01FE  F1          	pop	af
1265  01FF  7D          	ld	a, l
1266  0200  B7          	or	a, a
1267  0201  28 09       	jr	Z,l_game_draw_screen_00107
1268  0203  01 00 00    	ld	bc,_scr_map
1269  0206  2A 00 00    	ld	hl,(_index1)
1270  0209  09          	add	hl,bc
1271  020A  36 4F       	ld	(hl),0x4f
1272  020C              l_game_draw_screen_00107:
1273  020C  01 00 00    	ld	bc,_scr_map
1274  020F  2A 00 00    	ld	hl,(_index1)
1275  0212  09          	add	hl,bc
1276  0213  46          	ld	b, (hl)
1277  0214  3A 00 00    	ld	a,(_s_col1)
1278  0217  F5          	push	af
1279  0218  33          	inc	sp
1280  0219  3A 00 00    	ld	a,(_s_lin1)
1281  021C  48          	ld	c,b
1282  021D  47          	ld	b,a
1283  021E  C5          	push	bc
1284  021F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1285  0222  C3 B0 02    	jp	l_game_draw_screen_00118
1286  0225              l_game_draw_screen_00117:
1287  0225  D6 78       	sub	a,0x78
1288  0227  30 39       	jr	NC,l_game_draw_screen_00114
1289  0229  21 00 00    	ld	hl,_spr_count
1290  022C  7E          	ld	a, (hl)
1291  022D  D6 08       	sub	a,0x08
1292  022F  30 76       	jr	NC,l_game_draw_screen_00115
1293  0231  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1294  0233  86          	add	a, (hl)
1295  0234  4F          	ld	c, a
1296  0235  3E 00       	ld	a, +((_game_respawn_index) / 256)
1297  0237  CE 00       	adc	a,0x00
1298  0239  47          	ld	b, a
1299  023A  3A 00 00    	ld	a,(_index1)
1300  023D  02          	ld	(bc), a
1301  023E  2A 00 00    	ld	hl,(_spr_count)
1302  0241  26 00       	ld	h,0x00
1303  0243  01 00 00    	ld	bc,_game_respawn_tile
1304  0246  09          	add	hl,bc
1305  0247  4D          	ld	c,l
1306  0248  44          	ld	b,h
1307  0249  2A 00 00    	ld	hl,(_index1)
1308  024C  11 00 00    	ld	de,_scr_map
1309  024F  19          	add	hl,de
1310  0250  7E          	ld	a,(hl)
1311  0251  02          	ld	(bc),a
1312  0252  01 00 00    	ld	bc,_scr_map
1313  0255  2A 00 00    	ld	hl,(_index1)
1314  0258  09          	add	hl,bc
1315  0259  7E          	ld	a,(hl)
1316  025A  F5          	push	af
1317  025B  33          	inc	sp
1318  025C  CD C6 02    	call	_game_add_enemy
1319  025F  33          	inc	sp
1320  0260  18 45       	jr	l_game_draw_screen_00115
1321  0262              l_game_draw_screen_00114:
1322  0262  2A 00 00    	ld	hl,(_index1)
1323  0265  E5          	push	hl
1324  0266  CD 75 0C    	call	_game_obj_chk
1325  0269  F1          	pop	af
1326  026A  7D          	ld	a, l
1327  026B  B7          	or	a, a
1328  026C  20 2B       	jr	NZ,l_game_draw_screen_00112
1329  026E  3E 00       	ld	a, +((_mush_index) & 0xFF)
1330  0270  DD 86 FF    	add	a,(ix-1)
1331  0273  4F          	ld	c, a
1332  0274  3E 00       	ld	a, +((_mush_index) / 256)
1333  0276  CE 00       	adc	a,0x00
1334  0278  47          	ld	b, a
1335  0279  21 00 00    	ld	hl,_index1
1336  027C  7E          	ld	a, (hl)
1337  027D  C6 10       	add	a,0x10
1338  027F  02          	ld	(bc), a
1339  0280  3E 00       	ld	a, +((_mush_class) & 0xFF)
1340  0282  DD 86 FF    	add	a,(ix-1)
1341  0285  4F          	ld	c, a
1342  0286  3E 00       	ld	a, +((_mush_class) / 256)
1343  0288  CE 00       	adc	a,0x00
1344  028A  47          	ld	b, a
1345  028B  3E 00       	ld	a, +((_scr_map) & 0xFF)
1346  028D  86          	add	a, (hl)
1347  028E  5F          	ld	e, a
1348  028F  3E 00       	ld	a, +((_scr_map) / 256)
1349  0291  23          	inc	hl
1350  0292  8E          	adc	a, (hl)
1351  0293  57          	ld	d, a
1352  0294  1A          	ld	a, (de)
1353  0295  02          	ld	(bc), a
1354  0296  DD 34 FF    	inc	(ix-1)
1355  0299              l_game_draw_screen_00112:
1356  0299  2A FF FF    	ld	hl,(_s_col1 - 1)
1357  029C  3A 00 00    	ld	a,(_s_lin1)
1358  029F  6F          	ld	l,a
1359  02A0  E5          	push	hl
1360  02A1  AF          	xor	a, a
1361  02A2  F5          	push	af
1362  02A3  33          	inc	sp
1363  02A4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1364  02A7              l_game_draw_screen_00115:
1365  02A7  01 00 00    	ld	bc,_scr_map
1366  02AA  2A 00 00    	ld	hl,(_index1)
1367  02AD  09          	add	hl,bc
1368  02AE  AF          	xor	a,a
1369  02AF  77          	ld	(hl),a
1370  02B0              l_game_draw_screen_00118:
1371  02B0  21 00 00    	ld	hl,_s_col1
1372  02B3  34          	inc	(hl)
1373  02B4  34          	inc	(hl)
1374  02B5  21 00 00    	ld	hl,_index1
1375  02B8  34          	inc	(hl)
1376  02B9  C2 C4 01    	jp	NZ,l_game_draw_screen_00119
1377  02BC  23          	inc	hl
1378  02BD  34          	inc	(hl)
1379  02BE  C3 C4 01    	jp	l_game_draw_screen_00119
1380  02C1              l_game_draw_screen_00121:
1381  02C1  FB          	ei
1382  02C2  33          	inc	sp
1383  02C3  DD E1       	pop	ix
1384  02C5  C9          	ret
1385  02C6              	SECTION code_compiler
1386  02C6              ;	---------------------------------
1387  02C6              ; Function game_add_enemy
1388  02C6              ; ---------------------------------
1389  02C6              _game_add_enemy:
1390  02C6  CD 00 00    	call	___sdcc_enter_ix
1391  02C9  DD 7E 04    	ld	a,(ix+4)
1392  02CC  D6 60       	sub	a,0x60
1393  02CE  DA A2 04    	jp	C, l_game_add_enemy_00120
1394  02D1  3E 71       	ld	a,0x71
1395  02D3  DD 96 04    	sub	a,(ix+4)
1396  02D6  DA A2 04    	jp	C, l_game_add_enemy_00120
1397  02D9  DD 7E 04    	ld	a,(ix+4)
1398  02DC  C6 A0       	add	a,0xa0
1399  02DE  4F          	ld	c, a
1400  02DF  06 00       	ld	b,0x00
1401  02E1  21 E8 02    	ld	hl,l_game_add_enemy_00130
1402  02E4  09          	add	hl, bc
1403  02E5  09          	add	hl, bc
1404  02E6  09          	add	hl, bc
1405  02E7  E9          	jp	(hl)
1406  02E8              l_game_add_enemy_00130:
1407  02E8  C3 34 03    	jp	l_game_add_enemy_00102
1408  02EB  C3 1E 03    	jp	l_game_add_enemy_00101
1409  02EE  C3 60 03    	jp	l_game_add_enemy_00104
1410  02F1  C3 4A 03    	jp	l_game_add_enemy_00103
1411  02F4  C3 8C 03    	jp	l_game_add_enemy_00106
1412  02F7  C3 76 03    	jp	l_game_add_enemy_00105
1413  02FA  C3 B8 03    	jp	l_game_add_enemy_00108
1414  02FD  C3 A2 03    	jp	l_game_add_enemy_00107
1415  0300  C3 E4 03    	jp	l_game_add_enemy_00110
1416  0303  C3 CE 03    	jp	l_game_add_enemy_00109
1417  0306  C3 10 04    	jp	l_game_add_enemy_00112
1418  0309  C3 FA 03    	jp	l_game_add_enemy_00111
1419  030C  C3 26 04    	jp	l_game_add_enemy_00113
1420  030F  C3 3B 04    	jp	l_game_add_enemy_00114
1421  0312  C3 50 04    	jp	l_game_add_enemy_00115
1422  0315  C3 65 04    	jp	l_game_add_enemy_00116
1423  0318  C3 7A 04    	jp	l_game_add_enemy_00117
1424  031B  C3 8F 04    	jp	l_game_add_enemy_00118
1425  031E              l_game_add_enemy_00101:
1426  031E  3A 00 00    	ld	a,(_s_col1)
1427  0321  21 0B 01    	ld	hl,0x010b
1428  0324  E5          	push	hl
1429  0325  F5          	push	af
1430  0326  33          	inc	sp
1431  0327  3A 00 00    	ld	a,(_s_lin1)
1432  032A  F5          	push	af
1433  032B  33          	inc	sp
1434  032C  CD 00 00    	call	_enemy_init
1435  032F  F1          	pop	af
1436  0330  F1          	pop	af
1437  0331  C3 A2 04    	jp	l_game_add_enemy_00120
1438  0334              l_game_add_enemy_00102:
1439  0334  3A 00 00    	ld	a,(_s_col1)
1440  0337  21 0B FF    	ld	hl,0xff0b
1441  033A  E5          	push	hl
1442  033B  F5          	push	af
1443  033C  33          	inc	sp
1444  033D  3A 00 00    	ld	a,(_s_lin1)
1445  0340  F5          	push	af
1446  0341  33          	inc	sp
1447  0342  CD 00 00    	call	_enemy_init
1448  0345  F1          	pop	af
1449  0346  F1          	pop	af
1450  0347  C3 A2 04    	jp	l_game_add_enemy_00120
1451  034A              l_game_add_enemy_00103:
1452  034A  3A 00 00    	ld	a,(_s_col1)
1453  034D  21 0C 01    	ld	hl,0x010c
1454  0350  E5          	push	hl
1455  0351  F5          	push	af
1456  0352  33          	inc	sp
1457  0353  3A 00 00    	ld	a,(_s_lin1)
1458  0356  F5          	push	af
1459  0357  33          	inc	sp
1460  0358  CD 00 00    	call	_enemy_init
1461  035B  F1          	pop	af
1462  035C  F1          	pop	af
1463  035D  C3 A2 04    	jp	l_game_add_enemy_00120
1464  0360              l_game_add_enemy_00104:
1465  0360  3A 00 00    	ld	a,(_s_col1)
1466  0363  21 0C FF    	ld	hl,0xff0c
1467  0366  E5          	push	hl
1468  0367  F5          	push	af
1469  0368  33          	inc	sp
1470  0369  3A 00 00    	ld	a,(_s_lin1)
1471  036C  F5          	push	af
1472  036D  33          	inc	sp
1473  036E  CD 00 00    	call	_enemy_init
1474  0371  F1          	pop	af
1475  0372  F1          	pop	af
1476  0373  C3 A2 04    	jp	l_game_add_enemy_00120
1477  0376              l_game_add_enemy_00105:
1478  0376  3A 00 00    	ld	a,(_s_col1)
1479  0379  21 0D 01    	ld	hl,0x010d
1480  037C  E5          	push	hl
1481  037D  F5          	push	af
1482  037E  33          	inc	sp
1483  037F  3A 00 00    	ld	a,(_s_lin1)
1484  0382  F5          	push	af
1485  0383  33          	inc	sp
1486  0384  CD 00 00    	call	_enemy_init
1487  0387  F1          	pop	af
1488  0388  F1          	pop	af
1489  0389  C3 A2 04    	jp	l_game_add_enemy_00120
1490  038C              l_game_add_enemy_00106:
1491  038C  3A 00 00    	ld	a,(_s_col1)
1492  038F  21 0D FF    	ld	hl,0xff0d
1493  0392  E5          	push	hl
1494  0393  F5          	push	af
1495  0394  33          	inc	sp
1496  0395  3A 00 00    	ld	a,(_s_lin1)
1497  0398  F5          	push	af
1498  0399  33          	inc	sp
1499  039A  CD 00 00    	call	_enemy_init
1500  039D  F1          	pop	af
1501  039E  F1          	pop	af
1502  039F  C3 A2 04    	jp	l_game_add_enemy_00120
1503  03A2              l_game_add_enemy_00107:
1504  03A2  3A 00 00    	ld	a,(_s_col1)
1505  03A5  21 0E 01    	ld	hl,0x010e
1506  03A8  E5          	push	hl
1507  03A9  F5          	push	af
1508  03AA  33          	inc	sp
1509  03AB  3A 00 00    	ld	a,(_s_lin1)
1510  03AE  F5          	push	af
1511  03AF  33          	inc	sp
1512  03B0  CD 00 00    	call	_enemy_init
1513  03B3  F1          	pop	af
1514  03B4  F1          	pop	af
1515  03B5  C3 A2 04    	jp	l_game_add_enemy_00120
1516  03B8              l_game_add_enemy_00108:
1517  03B8  3A 00 00    	ld	a,(_s_col1)
1518  03BB  21 0E FF    	ld	hl,0xff0e
1519  03BE  E5          	push	hl
1520  03BF  F5          	push	af
1521  03C0  33          	inc	sp
1522  03C1  3A 00 00    	ld	a,(_s_lin1)
1523  03C4  F5          	push	af
1524  03C5  33          	inc	sp
1525  03C6  CD 00 00    	call	_enemy_init
1526  03C9  F1          	pop	af
1527  03CA  F1          	pop	af
1528  03CB  C3 A2 04    	jp	l_game_add_enemy_00120
1529  03CE              l_game_add_enemy_00109:
1530  03CE  3A 00 00    	ld	a,(_s_col1)
1531  03D1  21 0F 01    	ld	hl,0x010f
1532  03D4  E5          	push	hl
1533  03D5  F5          	push	af
1534  03D6  33          	inc	sp
1535  03D7  3A 00 00    	ld	a,(_s_lin1)
1536  03DA  F5          	push	af
1537  03DB  33          	inc	sp
1538  03DC  CD 00 00    	call	_enemy_init
1539  03DF  F1          	pop	af
1540  03E0  F1          	pop	af
1541  03E1  C3 A2 04    	jp	l_game_add_enemy_00120
1542  03E4              l_game_add_enemy_00110:
1543  03E4  3A 00 00    	ld	a,(_s_col1)
1544  03E7  21 0F FF    	ld	hl,0xff0f
1545  03EA  E5          	push	hl
1546  03EB  F5          	push	af
1547  03EC  33          	inc	sp
1548  03ED  3A 00 00    	ld	a,(_s_lin1)
1549  03F0  F5          	push	af
1550  03F1  33          	inc	sp
1551  03F2  CD 00 00    	call	_enemy_init
1552  03F5  F1          	pop	af
1553  03F6  F1          	pop	af
1554  03F7  C3 A2 04    	jp	l_game_add_enemy_00120
1555  03FA              l_game_add_enemy_00111:
1556  03FA  3A 00 00    	ld	a,(_s_col1)
1557  03FD  21 02 01    	ld	hl,0x0102
1558  0400  E5          	push	hl
1559  0401  F5          	push	af
1560  0402  33          	inc	sp
1561  0403  3A 00 00    	ld	a,(_s_lin1)
1562  0406  F5          	push	af
1563  0407  33          	inc	sp
1564  0408  CD 00 00    	call	_enemy_init
1565  040B  F1          	pop	af
1566  040C  F1          	pop	af
1567  040D  C3 A2 04    	jp	l_game_add_enemy_00120
1568  0410              l_game_add_enemy_00112:
1569  0410  3A 00 00    	ld	a,(_s_col1)
1570  0413  21 02 FF    	ld	hl,0xff02
1571  0416  E5          	push	hl
1572  0417  F5          	push	af
1573  0418  33          	inc	sp
1574  0419  3A 00 00    	ld	a,(_s_lin1)
1575  041C  F5          	push	af
1576  041D  33          	inc	sp
1577  041E  CD 00 00    	call	_enemy_init
1578  0421  F1          	pop	af
1579  0422  F1          	pop	af
1580  0423  C3 A2 04    	jp	l_game_add_enemy_00120
1581  0426              l_game_add_enemy_00113:
1582  0426  3A 00 00    	ld	a,(_s_col1)
1583  0429  21 03 01    	ld	hl,0x0103
1584  042C  E5          	push	hl
1585  042D  F5          	push	af
1586  042E  33          	inc	sp
1587  042F  3A 00 00    	ld	a,(_s_lin1)
1588  0432  F5          	push	af
1589  0433  33          	inc	sp
1590  0434  CD 00 00    	call	_enemy_init
1591  0437  F1          	pop	af
1592  0438  F1          	pop	af
1593  0439  18 67       	jr	l_game_add_enemy_00120
1594  043B              l_game_add_enemy_00114:
1595  043B  3A 00 00    	ld	a,(_s_col1)
1596  043E  21 04 01    	ld	hl,0x0104
1597  0441  E5          	push	hl
1598  0442  F5          	push	af
1599  0443  33          	inc	sp
1600  0444  3A 00 00    	ld	a,(_s_lin1)
1601  0447  F5          	push	af
1602  0448  33          	inc	sp
1603  0449  CD 00 00    	call	_enemy_init
1604  044C  F1          	pop	af
1605  044D  F1          	pop	af
1606  044E  18 52       	jr	l_game_add_enemy_00120
1607  0450              l_game_add_enemy_00115:
1608  0450  3A 00 00    	ld	a,(_s_col1)
1609  0453  21 05 01    	ld	hl,0x0105
1610  0456  E5          	push	hl
1611  0457  F5          	push	af
1612  0458  33          	inc	sp
1613  0459  3A 00 00    	ld	a,(_s_lin1)
1614  045C  F5          	push	af
1615  045D  33          	inc	sp
1616  045E  CD 00 00    	call	_enemy_init
1617  0461  F1          	pop	af
1618  0462  F1          	pop	af
1619  0463  18 3D       	jr	l_game_add_enemy_00120
1620  0465              l_game_add_enemy_00116:
1621  0465  3A 00 00    	ld	a,(_s_col1)
1622  0468  21 10 01    	ld	hl,0x0110
1623  046B  E5          	push	hl
1624  046C  F5          	push	af
1625  046D  33          	inc	sp
1626  046E  3A 00 00    	ld	a,(_s_lin1)
1627  0471  F5          	push	af
1628  0472  33          	inc	sp
1629  0473  CD 00 00    	call	_enemy_init
1630  0476  F1          	pop	af
1631  0477  F1          	pop	af
1632  0478  18 28       	jr	l_game_add_enemy_00120
1633  047A              l_game_add_enemy_00117:
1634  047A  3A 00 00    	ld	a,(_s_col1)
1635  047D  21 12 01    	ld	hl,0x0112
1636  0480  E5          	push	hl
1637  0481  F5          	push	af
1638  0482  33          	inc	sp
1639  0483  3A 00 00    	ld	a,(_s_lin1)
1640  0486  F5          	push	af
1641  0487  33          	inc	sp
1642  0488  CD 00 00    	call	_enemy_init
1643  048B  F1          	pop	af
1644  048C  F1          	pop	af
1645  048D  18 13       	jr	l_game_add_enemy_00120
1646  048F              l_game_add_enemy_00118:
1647  048F  3A 00 00    	ld	a,(_s_col1)
1648  0492  21 13 01    	ld	hl,0x0113
1649  0495  E5          	push	hl
1650  0496  F5          	push	af
1651  0497  33          	inc	sp
1652  0498  3A 00 00    	ld	a,(_s_lin1)
1653  049B  F5          	push	af
1654  049C  33          	inc	sp
1655  049D  CD 00 00    	call	_enemy_init
1656  04A0  F1          	pop	af
1657  04A1  F1          	pop	af
1658  04A2              l_game_add_enemy_00120:
1659  04A2  DD E1       	pop	ix
1660  04A4  C9          	ret
1661  04A5              	SECTION code_compiler
1662  04A5              ;	---------------------------------
1663  04A5              ; Function game_print_footer
1664  04A5              ; ---------------------------------
1665  04A5              _game_print_footer:
1666  04A5  21 00 00    	ld	hl,_screen_ink
1667  04A8  36 05       	ld	(hl),0x05
1668  04AA  21 13 62    	ld	hl,0x6213
1669  04AD  E5          	push	hl
1670  04AE  CD 00 00    	call	_game_fill_row
1671  04B1  21 00 00    	ld	hl,___str_0
1672  04B4  E5          	push	hl
1673  04B5  21 13 00    	ld	hl,0x0013
1674  04B8  E5          	push	hl
1675  04B9  CD 00 00    	call	_zx_print_str
1676  04BC  21 02 00    	ld	hl,___str_1
1677  04BF  E5          	push	hl
1678  04C0  21 13 1F    	ld	hl,0x1f13
1679  04C3  E5          	push	hl
1680  04C4  CD 00 00    	call	_zx_print_str
1681  04C7  21 04 00    	ld	hl,___str_2
1682  04CA  E5          	push	hl
1683  04CB  21 14 00    	ld	hl,0x0014
1684  04CE  E5          	push	hl
1685  04CF  CD 00 00    	call	_zx_print_str
1686  04D2  21 06 00    	ld	hl,___str_3
1687  04D5  E5          	push	hl
1688  04D6  21 14 1F    	ld	hl,0x1f14
1689  04D9  E5          	push	hl
1690  04DA  CD 00 00    	call	_zx_print_str
1691  04DD  21 04 00    	ld	hl,___str_2
1692  04E0  E5          	push	hl
1693  04E1  21 15 00    	ld	hl,0x0015
1694  04E4  E5          	push	hl
1695  04E5  CD 00 00    	call	_zx_print_str
1696  04E8  21 06 00    	ld	hl,___str_3
1697  04EB  E5          	push	hl
1698  04EC  21 15 1F    	ld	hl,0x1f15
1699  04EF  E5          	push	hl
1700  04F0  CD 00 00    	call	_zx_print_str
1701  04F3  21 04 00    	ld	hl,___str_2
1702  04F6  E5          	push	hl
1703  04F7  21 16 00    	ld	hl,0x0016
1704  04FA  E5          	push	hl
1705  04FB  CD 00 00    	call	_zx_print_str
1706  04FE  21 06 00    	ld	hl,___str_3
1707  0501  E5          	push	hl
1708  0502  21 16 1F    	ld	hl,0x1f16
1709  0505  E5          	push	hl
1710  0506  CD 00 00    	call	_zx_print_str
1711  0509  21 17 62    	ld	hl,0x6217
1712  050C  E5          	push	hl
1713  050D  CD 00 00    	call	_game_fill_row
1714  0510  21 08 00    	ld	hl,___str_4
1715  0513  E5          	push	hl
1716  0514  21 17 00    	ld	hl,0x0017
1717  0517  E5          	push	hl
1718  0518  CD 00 00    	call	_zx_print_str
1719  051B  21 0A 00    	ld	hl,___str_5
1720  051E  E5          	push	hl
1721  051F  21 17 1F    	ld	hl,0x1f17
1722  0522  E5          	push	hl
1723  0523  CD 00 00    	call	_zx_print_str
1724  0526  21 00 00    	ld	hl,_screen_ink
1725  0529  36 05       	ld	(hl),0x05
1726  052B  21 0C 00    	ld	hl,___str_6
1727  052E  E5          	push	hl
1728  052F  21 14 01    	ld	hl,0x0114
1729  0532  E5          	push	hl
1730  0533  CD 00 00    	call	_zx_print_str
1731  0536  21 00 00    	ld	hl,_screen_ink
1732  0539  36 06       	ld	(hl),0x06
1733  053B  21 0E 00    	ld	hl,___str_7
1734  053E  E5          	push	hl
1735  053F  21 15 01    	ld	hl,0x0115
1736  0542  E5          	push	hl
1737  0543  CD 00 00    	call	_zx_print_str
1738  0546  21 10 00    	ld	hl,___str_8
1739  0549  E5          	push	hl
1740  054A  21 17 14    	ld	hl,0x1417
1741  054D  E5          	push	hl
1742  054E  CD 00 00    	call	_zx_print_str
1743  0551  21 00 00    	ld	hl,_screen_ink
1744  0554  36 02       	ld	(hl),0x02
1745  0556  21 15 00    	ld	hl,___str_9
1746  0559  E5          	push	hl
1747  055A  21 14 07    	ld	hl,0x0714
1748  055D  E5          	push	hl
1749  055E  CD 00 00    	call	_zx_print_str
1750  0561  21 00 00    	ld	hl,_screen_ink
1751  0564  36 01       	ld	(hl),0x01
1752  0566  21 17 00    	ld	hl,___str_10
1753  0569  E5          	push	hl
1754  056A  21 14 0D    	ld	hl,0x0d14
1755  056D  E5          	push	hl
1756  056E  CD 00 00    	call	_zx_print_str
1757  0571  21 19 00    	ld	hl,___str_11
1758  0574  E5          	push	hl
1759  0575  21 16 03    	ld	hl,0x0316
1760  0578  E5          	push	hl
1761  0579  CD 00 00    	call	_zx_print_str
1762  057C  21 00 00    	ld	hl,_screen_ink
1763  057F  36 06       	ld	(hl),0x06
1764  0581  21 1C 00    	ld	hl,___str_12
1765  0584  E5          	push	hl
1766  0585  21 16 0E    	ld	hl,0x0e16
1767  0588  E5          	push	hl
1768  0589  CD 00 00    	call	_zx_print_str
1769  058C  21 1E 00    	ld	hl,___str_13
1770  058F  E5          	push	hl
1771  0590  21 16 14    	ld	hl,0x1416
1772  0593  E5          	push	hl
1773  0594  CD 00 00    	call	_zx_print_str
1774  0597  21 20 00    	ld	hl,___str_14
1775  059A  E5          	push	hl
1776  059B  21 16 1A    	ld	hl,0x1a16
1777  059E  E5          	push	hl
1778  059F  CD 00 00    	call	_zx_print_str
1779  05A2  CD B7 05    	call	_game_update_stats
1780  05A5  C9          	ret
1781  05A6              	SECTION rodata_compiler
1782  0000              ___str_0:
1783  0000  61          	DEFM "a"
1784  0001  00          	DEFB 0x00
1785  0002              	SECTION rodata_compiler
1786  0002              ___str_1:
1787  0002  63          	DEFM "c"
1788  0003  00          	DEFB 0x00
1789  0004              	SECTION rodata_compiler
1790  0004              ___str_2:
1791  0004  64          	DEFM "d"
1792  0005  00          	DEFB 0x00
1793  0006              	SECTION rodata_compiler
1794  0006              ___str_3:
1795  0006  65          	DEFM "e"
1796  0007  00          	DEFB 0x00
1797  0008              	SECTION rodata_compiler
1798  0008              ___str_4:
1799  0008  66          	DEFM "f"
1800  0009  00          	DEFB 0x00
1801  000A              	SECTION rodata_compiler
1802  000A              ___str_5:
1803  000A  67          	DEFM "g"
1804  000B  00          	DEFB 0x00
1805  000C              	SECTION rodata_compiler
1806  000C              ___str_6:
1807  000C  3C          	DEFM "<"
1808  000D  00          	DEFB 0x00
1809  000E              	SECTION rodata_compiler
1810  000E              ___str_7:
1811  000E  5C          	DEFB 0x5c
1812  000F  00          	DEFB 0x00
1813  0010              	SECTION rodata_compiler
1814  0010              ___str_8:
1815  0010  4C 50 53 3A 	DEFM "LPS:"
1816  0014  00          	DEFB 0x00
1817  0015              	SECTION rodata_compiler
1818  0015              ___str_9:
1819  0015  6A          	DEFM "j"
1820  0016  00          	DEFB 0x00
1821  0017              	SECTION rodata_compiler
1822  0017              ___str_10:
1823  0017  6B          	DEFM "k"
1824  0018  00          	DEFB 0x00
1825  0019              	SECTION rodata_compiler
1826  0019              ___str_11:
1827  0019  58 50       	DEFM "XP"
1828  001B  00          	DEFB 0x00
1829  001C              	SECTION rodata_compiler
1830  001C              ___str_12:
1831  001C  6D          	DEFM "m"
1832  001D  00          	DEFB 0x00
1833  001E              	SECTION rodata_compiler
1834  001E              ___str_13:
1835  001E  6E          	DEFM "n"
1836  001F  00          	DEFB 0x00
1837  0020              	SECTION rodata_compiler
1838  0020              ___str_14:
1839  0020  6F          	DEFM "o"
1840  0021  00          	DEFB 0x00
1841  0022              	SECTION code_compiler
1842  05A6              ;	---------------------------------
1843  05A6              ; Function game_phase_print_score_back
1844  05A6              ; ---------------------------------
1845  05A6              _game_phase_print_score_back:
1846  05A6  21 00 00    	ld	hl,_screen_ink
1847  05A9  36 02       	ld	(hl),0x02
1848  05AB  21 22 00    	ld	hl,___str_15
1849  05AE  E5          	push	hl
1850  05AF  21 00 0B    	ld	hl,0x0b00
1851  05B2  E5          	push	hl
1852  05B3  CD 00 00    	call	_zx_print_str
1853  05B6  C9          	ret
1854  05B7              	SECTION rodata_compiler
1855  0022              ___str_15:
1856  0022  24 25 7C    	DEFM "$%|"
1857  0025  00          	DEFB 0x00
1858  0026              	SECTION code_compiler
1859  05B7              ;	---------------------------------
1860  05B7              ; Function game_update_stats
1861  05B7              ; ---------------------------------
1862  05B7              _game_update_stats:
1863  05B7  21 00 00    	ld	hl,_screen_ink
1864  05BA  36 07       	ld	(hl),0x07
1865  05BC  3A 00 00    	ld	a,(_player_lives)
1866  05BF  F5          	push	af
1867  05C0  33          	inc	sp
1868  05C1  21 14 03    	ld	hl,0x0314
1869  05C4  E5          	push	hl
1870  05C5  CD 00 00    	call	_zx_print_chr
1871  05C8  3A 00 00    	ld	a,(_player_str)
1872  05CB  F5          	push	af
1873  05CC  33          	inc	sp
1874  05CD  21 16 10    	ld	hl,0x1016
1875  05D0  E5          	push	hl
1876  05D1  CD 00 00    	call	_zx_print_chr
1877  05D4  3A 00 00    	ld	a,(_player_int)
1878  05D7  F5          	push	af
1879  05D8  33          	inc	sp
1880  05D9  21 16 16    	ld	hl,0x1616
1881  05DC  E5          	push	hl
1882  05DD  CD 00 00    	call	_zx_print_chr
1883  05E0  3A 00 00    	ld	a,(_player_lvl)
1884  05E3  F5          	push	af
1885  05E4  33          	inc	sp
1886  05E5  21 16 1C    	ld	hl,0x1c16
1887  05E8  E5          	push	hl
1888  05E9  CD 00 00    	call	_zx_print_chr
1889  05EC  21 00 00    	ld	hl,_screen_ink
1890  05EF  36 02       	ld	(hl),0x02
1891  05F1  3A 00 00    	ld	a,(_player_vita)
1892  05F4  F5          	push	af
1893  05F5  33          	inc	sp
1894  05F6  21 14 09    	ld	hl,0x0914
1895  05F9  E5          	push	hl
1896  05FA  CD 00 00    	call	_zx_print_chr
1897  05FD  21 00 00    	ld	hl,_screen_ink
1898  0600  36 01       	ld	(hl),0x01
1899  0602  3A 00 00    	ld	a,(_player_mana)
1900  0605  F5          	push	af
1901  0606  33          	inc	sp
1902  0607  21 14 0F    	ld	hl,0x0f14
1903  060A  E5          	push	hl
1904  060B  CD 00 00    	call	_zx_print_chr
1905  060E  C9          	ret
1906  060F              	SECTION code_compiler
1907  060F              ;	---------------------------------
1908  060F              ; Function game_tick
1909  060F              ; ---------------------------------
1910  060F              _game_tick:
1911  060F  21 00 00    	ld	hl,_curr_time
1912  0612  34          	inc	(hl)
1913  0613  C2 00 00    	jp	NZ,_zx_isr
1914  0616  23          	inc	hl
1915  0617  34          	inc	(hl)
1916  0618  C3 00 00    	jp  _zx_isr
1917  061B              	SECTION code_compiler
1918  061B              ;	---------------------------------
1919  061B              ; Function game_start_timer
1920  061B              ; ---------------------------------
1921  061B              _game_start_timer:
1922  061B  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1923  061E  36 CD       	ld	(hl),0xcd
1924  0620  23          	inc	hl
1925  0621  11 0F 06    	ld	de,_game_tick
1926  0624  73          	ld	(hl), e
1927  0625  23          	inc	hl
1928  0626  72          	ld	(hl), d
1929  0627  C9          	ret
1930  0628              	SECTION code_compiler
1931  0628              ;	---------------------------------
1932  0628              ; Function game_round_init
1933  0628              ; ---------------------------------
1934  0628              _game_round_init:
1935  0628  21 00 00    	ld	hl,_ay_effect_10
1936  062B  CD 00 00    	call	_ay_fx_play
1937  062E  CD 00 00    	call	_sound_coin
1938  0631  21 C8 00    	ld	hl,0x00c8
1939  0634  CD 00 00    	call	_z80_delay_ms_fastcall
1940  0637  CD 00 00    	call	_ay_reset
1941  063A  21 00 00    	ld	hl,0x0000
1942  063D  22 00 00    	ld	(_loop_count),hl
1943  0640  22 00 00    	ld	(_entry_time),hl
1944  0643  21 00 00    	ld	hl,0
1945  0646  22 00 00    	ld	(_curr_time),hl
1946  0649  21 00 00    	ld	hl,0x0000
1947  064C  22 00 00    	ld	(_frame_time),hl
1948  064F  CD 00 00    	call	_ay_reset
1949  0652  CD 00 00    	call	_spr_draw_clear
1950  0655  CD 00 00    	call	_spr_page_map
1951  0658  CD 4F 01    	call	_game_draw_screen
1952  065B  CD 79 06    	call	_game_print_header
1953  065E  CD A5 04    	call	_game_print_footer
1954  0661  3A 00 00    	ld	a,(_game_over)
1955  0664  B7          	or	a, a
1956  0665  C0          	ret	NZ
1957  0666  2A 00 00    	ld	hl,(_player_col_scr)
1958  0669  26 70       	ld	h,0x70
1959  066B  3A 00 00    	ld	a,(_player_lin_scr)
1960  066E  E5          	push	hl
1961  066F  57          	ld	d,a
1962  0670  1E 07       	ld	e,0x07
1963  0672  D5          	push	de
1964  0673  CD 00 00    	call	_player_init
1965  0676  F1          	pop	af
1966  0677  F1          	pop	af
1967  0678  C9          	ret
1968  0679              	SECTION code_compiler
1969  0679              ;	---------------------------------
1970  0679              ; Function game_print_header
1971  0679              ; ---------------------------------
1972  0679              _game_print_header:
1973  0679  CD A6 05    	call	_game_phase_print_score_back
1974  067C  21 00 00    	ld	hl,_screen_ink
1975  067F  36 07       	ld	(hl),0x07
1976  0681  C3 12 08    	jp  _game_print_score
1977  0684              	SECTION code_compiler
1978  0684              ;	---------------------------------
1979  0684              ; Function game_check_map
1980  0684              ; ---------------------------------
1981  0684              _game_check_map:
1982  0684  CD 00 00    	call	___sdcc_enter_ix
1983  0687  DD CB 05 46 	bit	0,(ix+5)
1984  068B  20 15       	jr	NZ,l_game_check_map_00108
1985  068D  DD 66 05    	ld	h,(ix+5)
1986  0690  DD 6E 04    	ld	l,(ix+4)
1987  0693  E5          	push	hl
1988  0694  CD 00 00    	call	_spr_calc_index
1989  0697  F1          	pop	af
1990  0698  22 00 00    	ld	(_index1),hl
1991  069B  CD F3 06    	call	_game_check_cell
1992  069E  26 00       	ld	h,0x00
1993  06A0  18 4E       	jr	l_game_check_map_00110
1994  06A2              l_game_check_map_00108:
1995  06A2  21 00 00    	ld	hl,_g_player_hit_left
1996  06A5  36 00       	ld	(hl),0x00
1997  06A7  21 00 00    	ld	hl,_g_player_hit_right
1998  06AA  36 00       	ld	(hl),0x00
1999  06AC  DD 46 05    	ld	b,(ix+5)
2000  06AF  05          	dec	b
2001  06B0  DD 4E 04    	ld	c,(ix+4)
2002  06B3  C5          	push	bc
2003  06B4  CD 00 00    	call	_spr_calc_index
2004  06B7  F1          	pop	af
2005  06B8  22 00 00    	ld	(_index1),hl
2006  06BB  CD F3 06    	call	_game_check_cell
2007  06BE  7D          	ld	a, l
2008  06BF  B7          	or	a, a
2009  06C0  28 05       	jr	Z,l_game_check_map_00102
2010  06C2  21 00 00    	ld	hl,_g_player_hit_left
2011  06C5  36 01       	ld	(hl),0x01
2012  06C7              l_game_check_map_00102:
2013  06C7  3A 00 00    	ld	a,(_g_player_hit_left)
2014  06CA  B7          	or	a, a
2015  06CB  20 10       	jr	NZ,l_game_check_map_00106
2016  06CD  2A 00 00    	ld	hl,(_index1)
2017  06D0  23          	inc	hl
2018  06D1  CD F3 06    	call	_game_check_cell
2019  06D4  7D          	ld	a, l
2020  06D5  B7          	or	a, a
2021  06D6  28 05       	jr	Z,l_game_check_map_00106
2022  06D8  21 00 00    	ld	hl,_g_player_hit_right
2023  06DB  36 01       	ld	(hl),0x01
2024  06DD              l_game_check_map_00106:
2025  06DD  3A 00 00    	ld	a,(_g_player_hit_left)
2026  06E0  B7          	or	a, a
2027  06E1  20 09       	jr	NZ,l_game_check_map_00113
2028  06E3  3A 00 00    	ld	a,(_g_player_hit_right)
2029  06E6  B7          	or	a,a
2030  06E7  20 03       	jr	NZ,l_game_check_map_00113
2031  06E9  6F          	ld	l,a
2032  06EA  18 02       	jr	l_game_check_map_00114
2033  06EC              l_game_check_map_00113:
2034  06EC  2E 01       	ld	l,0x01
2035  06EE              l_game_check_map_00114:
2036  06EE  26 00       	ld	h,0x00
2037  06F0              l_game_check_map_00110:
2038  06F0  DD E1       	pop	ix
2039  06F2  C9          	ret
2040  06F3              	SECTION code_compiler
2041  06F3              ;	---------------------------------
2042  06F3              ; Function game_check_cell
2043  06F3              ; ---------------------------------
2044  06F3              _game_check_cell:
2045  06F3  CD 00 00    	call	___sdcc_enter_ix
2046  06F6  F5          	push	af
2047  06F7  3E A0       	ld	a,0xa0
2048  06F9  BD          	cp	a,l
2049  06FA  3E 00       	ld	a,0x00
2050  06FC  9C          	sbc	a,h
2051  06FD  4D          	ld	c,l
2052  06FE  44          	ld	b,h
2053  06FF  E2 04 07    	jp	PO, l_game_check_cell_00222
2054  0702  EE 80       	xor	a,0x80
2055  0704              l_game_check_cell_00222:
2056  0704  F2 0C 07    	jp	P, l_game_check_cell_00102
2057  0707  2E 01       	ld	l,0x01
2058  0709  C3 EA 07    	jp	l_game_check_cell_00144
2059  070C              l_game_check_cell_00102:
2060  070C  21 00 00    	ld	hl,_scr_map
2061  070F  09          	add	hl, bc
2062  0710  56          	ld	d, (hl)
2063  0711  3A 00 00    	ld	a,(_sprite)
2064  0714  D6 07       	sub	a,0x07
2065  0716  20 04       	jr	NZ,l_game_check_cell_00223
2066  0718  3E 01       	ld	a,0x01
2067  071A  18 01       	jr	l_game_check_cell_00224
2068  071C              l_game_check_cell_00223:
2069  071C  AF          	xor	a,a
2070  071D              l_game_check_cell_00224:
2071  071D  DD 77 FF    	ld	(ix-1),a
2072  0720  7A          	ld	a, d
2073  0721  D6 48       	sub	a,0x48
2074  0723  3E 00       	ld	a,0x00
2075  0725  17          	rla
2076  0726  5F          	ld	e, a
2077  0727  DD CB FF 46 	bit	0,(ix-1)
2078  072B  20 5B       	jr	NZ,l_game_check_cell_00122
2079  072D  2A 00 00    	ld	hl,(_sprite)
2080  0730  26 00       	ld	h,0x00
2081  0732  01 00 00    	ld	bc,_class
2082  0735  09          	add	hl,bc
2083  0736  46          	ld	b,(hl)
2084  0737  3E 2F       	ld	a,0x2f
2085  0739  92          	sub	a, d
2086  073A  3E 00       	ld	a,0x00
2087  073C  17          	rla
2088  073D  4F          	ld	c, a
2089  073E  7A          	ld	a, d
2090  073F  D6 23       	sub	a,0x23
2091  0741  20 04       	jr	NZ,l_game_check_cell_00225
2092  0743  3E 01       	ld	a,0x01
2093  0745  18 01       	jr	l_game_check_cell_00226
2094  0747              l_game_check_cell_00225:
2095  0747  AF          	xor	a,a
2096  0748              l_game_check_cell_00226:
2097  0748  57          	ld	d, a
2098  0749  3E 05       	ld	a,0x05
2099  074B  90          	sub	a, b
2100  074C  38 12       	jr	C,l_game_check_cell_00119
2101  074E  CB 41       	bit	0, c
2102  0750  20 09       	jr	NZ,l_game_check_cell_00104
2103  0752  CB 42       	bit	0, d
2104  0754  20 05       	jr	NZ,l_game_check_cell_00104
2105  0756  2E 00       	ld	l,0x00
2106  0758  C3 EA 07    	jp	l_game_check_cell_00144
2107  075B              l_game_check_cell_00104:
2108  075B  2E 01       	ld	l,0x01
2109  075D  C3 EA 07    	jp	l_game_check_cell_00144
2110  0760              l_game_check_cell_00119:
2111  0760  3A 00 00    	ld	a,(_sprite_horizontal_check)
2112  0763  B7          	or	a, a
2113  0764  28 12       	jr	Z,l_game_check_cell_00116
2114  0766  7B          	ld	a, e
2115  0767  B7          	or	a, a
2116  0768  28 09       	jr	Z,l_game_check_cell_00108
2117  076A  CB 42       	bit	0, d
2118  076C  20 05       	jr	NZ,l_game_check_cell_00108
2119  076E  2E 00       	ld	l,0x00
2120  0770  C3 EA 07    	jp	l_game_check_cell_00144
2121  0773              l_game_check_cell_00108:
2122  0773  2E 01       	ld	l,0x01
2123  0775  C3 EA 07    	jp	l_game_check_cell_00144
2124  0778              l_game_check_cell_00116:
2125  0778  CB 41       	bit	0, c
2126  077A  20 08       	jr	NZ,l_game_check_cell_00112
2127  077C  CB 42       	bit	0, d
2128  077E  20 04       	jr	NZ,l_game_check_cell_00112
2129  0780  2E 00       	ld	l,0x00
2130  0782  18 66       	jr	l_game_check_cell_00144
2131  0784              l_game_check_cell_00112:
2132  0784  2E 01       	ld	l,0x01
2133  0786  18 62       	jr	l_game_check_cell_00144
2134  0788              l_game_check_cell_00122:
2135  0788  7A          	ld	a, d
2136  0789  D6 3C       	sub	a,0x3c
2137  078B  30 04       	jr	NC,l_game_check_cell_00124
2138  078D  2E 00       	ld	l,0x00
2139  078F  18 59       	jr	l_game_check_cell_00144
2140  0791              l_game_check_cell_00124:
2141  0791  3A 00 00    	ld	a,(_s_state)
2142  0794  E6 02       	and	a,0x02
2143  0796  DD 77 FE    	ld	(ix-2),a
2144  0799  7A          	ld	a, d
2145  079A  D6 44       	sub	a,0x44
2146  079C  30 0E       	jr	NC,l_game_check_cell_00129
2147  079E  DD 7E FE    	ld	a,(ix-2)
2148  07A1  B7          	or	a, a
2149  07A2  28 04       	jr	Z,l_game_check_cell_00126
2150  07A4  2E 01       	ld	l,0x01
2151  07A6  18 42       	jr	l_game_check_cell_00144
2152  07A8              l_game_check_cell_00126:
2153  07A8  2E 00       	ld	l,0x00
2154  07AA  18 3E       	jr	l_game_check_cell_00144
2155  07AC              l_game_check_cell_00129:
2156  07AC  7B          	ld	a, e
2157  07AD  B7          	or	a, a
2158  07AE  28 18       	jr	Z,l_game_check_cell_00137
2159  07B0  3A 00 00    	ld	a,(_sprite_horizontal_check)
2160  07B3  B7          	or	a, a
2161  07B4  28 04       	jr	Z,l_game_check_cell_00134
2162  07B6  2E 00       	ld	l,0x00
2163  07B8  18 30       	jr	l_game_check_cell_00144
2164  07BA              l_game_check_cell_00134:
2165  07BA  DD 7E FE    	ld	a,(ix-2)
2166  07BD  B7          	or	a, a
2167  07BE  28 04       	jr	Z,l_game_check_cell_00131
2168  07C0  2E 01       	ld	l,0x01
2169  07C2  18 26       	jr	l_game_check_cell_00144
2170  07C4              l_game_check_cell_00131:
2171  07C4  2E 00       	ld	l,0x00
2172  07C6  18 22       	jr	l_game_check_cell_00144
2173  07C8              l_game_check_cell_00137:
2174  07C8  7A          	ld	a, d
2175  07C9  D6 4C       	sub	a,0x4c
2176  07CB  30 12       	jr	NC,l_game_check_cell_00141
2177  07CD  DD CB FF 46 	bit	0,(ix-1)
2178  07D1  28 0C       	jr	Z,l_game_check_cell_00141
2179  07D3  D5          	push	de
2180  07D4  33          	inc	sp
2181  07D5  C5          	push	bc
2182  07D6  CD 00 00    	call	_player_open_door
2183  07D9  F1          	pop	af
2184  07DA  33          	inc	sp
2185  07DB  2E 01       	ld	l,0x01
2186  07DD  18 0B       	jr	l_game_check_cell_00144
2187  07DF              l_game_check_cell_00141:
2188  07DF  7A          	ld	a, d
2189  07E0  D6 60       	sub	a,0x60
2190  07E2  30 04       	jr	NC,l_game_check_cell_00143
2191  07E4  2E 01       	ld	l,0x01
2192  07E6  18 02       	jr	l_game_check_cell_00144
2193  07E8              l_game_check_cell_00143:
2194  07E8  2E 00       	ld	l,0x00
2195  07EA              l_game_check_cell_00144:
2196  07EA  F1          	pop	af
2197  07EB  DD E1       	pop	ix
2198  07ED  C9          	ret
2199  07EE              	SECTION code_compiler
2200  07EE              ;	---------------------------------
2201  07EE              ; Function game_enemy_add_get_index
2202  07EE              ; ---------------------------------
2203  07EE              _game_enemy_add_get_index:
2204  07EE  4D          	ld	c, l
2205  07EF  21 00 00    	ld	hl,_enemies
2206  07F2  36 00       	ld	(hl),0x00
2207  07F4              l_game_enemy_add_get_index_00104:
2208  07F4  2A 00 00    	ld	hl,(_enemies)
2209  07F7  26 00       	ld	h,0x00
2210  07F9  11 00 00    	ld	de,_class
2211  07FC  19          	add	hl,de
2212  07FD  7E          	ld	a,(hl)
2213  07FE  91          	sub	a,c
2214  07FF  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2215  0801  2A 00 00    	ld	hl,(_enemies)
2216  0804  18 0B       	jr	l_game_enemy_add_get_index_00106
2217  0806              l_game_enemy_add_get_index_00105:
2218  0806  21 00 00    	ld	hl,_enemies
2219  0809  34          	inc	(hl)
2220  080A  3E 05       	ld	a,0x05
2221  080C  96          	sub	a, (hl)
2222  080D  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2223  080F  2E FF       	ld	l,0xff
2224  0811              l_game_enemy_add_get_index_00106:
2225  0811  C9          	ret
2226  0812              	SECTION code_compiler
2227  0812              ;	---------------------------------
2228  0812              ; Function game_print_score
2229  0812              ; ---------------------------------
2230  0812              _game_print_score:
2231  0812  21 00 00    	ld	hl,_screen_ink
2232  0815  36 07       	ld	(hl),0x07
2233  0817  21 00 00    	ld	hl,_screen_paper
2234  081A  36 00       	ld	(hl),0x00
2235  081C  2A 00 00    	ld	hl,(_player_score)
2236  081F  E5          	push	hl
2237  0820  21 16 06    	ld	hl,0x0616
2238  0823  E5          	push	hl
2239  0824  CD 00 00    	call	_zx_print_int
2240  0827  2A 00 00    	ld	hl,(_game_score_top)
2241  082A  E5          	push	hl
2242  082B  21 00 0E    	ld	hl,0x0e00
2243  082E  E5          	push	hl
2244  082F  CD 00 00    	call	_zx_print_int
2245  0832  C9          	ret
2246  0833              	SECTION code_compiler
2247  0833              ;	---------------------------------
2248  0833              ; Function game_paint_attrib
2249  0833              ; ---------------------------------
2250  0833              _game_paint_attrib:
2251  0833  7D          	ld	a,l
2252  0834  32 00 00    	ld	(_tmp0),a
2253  0837              l_game_paint_attrib_00103:
2254  0837  3E 13       	ld	a,0x13
2255  0839  21 00 00    	ld	hl,_tmp0
2256  083C  96          	sub	a, (hl)
2257  083D  D8          	ret	C
2258  083E  7E          	ld	a, (hl)
2259  083F  07          	rlca
2260  0840  07          	rlca
2261  0841  07          	rlca
2262  0842  E6 F8       	and	a,0xf8
2263  0844  C6 08       	add	a,0x08
2264  0846  F5          	push	af
2265  0847  33          	inc	sp
2266  0848  21 01 1F    	ld	hl,0x1f01
2267  084B  E5          	push	hl
2268  084C  CD 57 08    	call	_game_paint_attrib_lin
2269  084F  F1          	pop	af
2270  0850  33          	inc	sp
2271  0851  21 00 00    	ld	hl,_tmp0
2272  0854  34          	inc	(hl)
2273  0855  18 E0       	jr	l_game_paint_attrib_00103
2274  0857              	SECTION code_compiler
2275  0857              ;	---------------------------------
2276  0857              ; Function game_paint_attrib_lin
2277  0857              ; ---------------------------------
2278  0857              _game_paint_attrib_lin:
2279  0857  CD 00 00    	call	___sdcc_enter_ix
2280  085A  DD 7E 04    	ld	a,(ix+4)
2281  085D  32 00 00    	ld	(_tmp_uc),a
2282  0860              l_game_paint_attrib_lin_00103:
2283  0860  21 00 00    	ld	hl,_tmp_uc
2284  0863  7E          	ld	a, (hl)
2285  0864  DD 96 05    	sub	a,(ix+5)
2286  0867  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2287  0869  66          	ld	h,(hl)
2288  086A  DD 6E 06    	ld	l,(ix+6)
2289  086D  E5          	push	hl
2290  086E  21 00 00    	ld	hl,_attrib
2291  0871  E5          	push	hl
2292  0872  CD 00 00    	call	_NIRVANAP_paintC_callee
2293  0875  21 00 00    	ld	hl,_tmp_uc
2294  0878  34          	inc	(hl)
2295  0879  18 E5       	jr	l_game_paint_attrib_lin_00103
2296  087B              l_game_paint_attrib_lin_00105:
2297  087B  DD E1       	pop	ix
2298  087D  C9          	ret
2299  087E              	SECTION code_compiler
2300  087E              ;	---------------------------------
2301  087E              ; Function game_paint_attrib_lin_h
2302  087E              ; ---------------------------------
2303  087E              _game_paint_attrib_lin_h:
2304  087E  CD 00 00    	call	___sdcc_enter_ix
2305  0881  DD 7E 04    	ld	a,(ix+4)
2306  0884  32 00 00    	ld	(_tmp_uc),a
2307  0887              l_game_paint_attrib_lin_h_00103:
2308  0887  21 00 00    	ld	hl,_tmp_uc
2309  088A  7E          	ld	a, (hl)
2310  088B  DD 96 05    	sub	a,(ix+5)
2311  088E  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2312  0890  66          	ld	h,(hl)
2313  0891  DD 6E 06    	ld	l,(ix+6)
2314  0894  E5          	push	hl
2315  0895  21 00 00    	ld	hl,_attrib_hl
2316  0898  E5          	push	hl
2317  0899  CD 00 00    	call	_NIRVANAP_paintC_callee
2318  089C  21 00 00    	ld	hl,_tmp_uc
2319  089F  34          	inc	(hl)
2320  08A0  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2321  08A2              l_game_paint_attrib_lin_h_00105:
2322  08A2  DD E1       	pop	ix
2323  08A4  C9          	ret
2324  08A5              	SECTION code_compiler
2325  08A5              ;	---------------------------------
2326  08A5              ; Function game_joystick_change
2327  08A5              ; ---------------------------------
2328  08A5              _game_joystick_change:
2329  08A5  21 00 00    	ld	hl,_player_joy
2330  08A8  34          	inc	(hl)
2331  08A9  20 02       	jr	NZ,l_game_joystick_change_00109
2332  08AB  23          	inc	hl
2333  08AC  34          	inc	(hl)
2334  08AD              l_game_joystick_change_00109:
2335  08AD  21 00 00    	ld	hl,_player_joy
2336  08B0  7E          	ld	a, (hl)
2337  08B1  D6 07       	sub	a,0x07
2338  08B3  23          	inc	hl
2339  08B4  B6          	or	a, (hl)
2340  08B5  C0          	ret	NZ
2341  08B6  21 00 00    	ld	hl,0x0000
2342  08B9  22 00 00    	ld	(_player_joy),hl
2343  08BC  C9          	ret
2344  08BD              	SECTION code_compiler
2345  08BD              ;	---------------------------------
2346  08BD              ; Function game_joystick_set_menu
2347  08BD              ; ---------------------------------
2348  08BD              _game_joystick_set_menu:
2349  08BD  21 00 00    	ld	hl,_in_stick_keyboard
2350  08C0  22 00 00    	ld	(_joyfunc1),hl
2351  08C3  C9          	ret
2352  08C4              	SECTION code_compiler
2353  08C4              ;	---------------------------------
2354  08C4              ; Function game_joystick_set
2355  08C4              ; ---------------------------------
2356  08C4              _game_joystick_set:
2357  08C4  2A 00 00    	ld	hl,(_player_joy)
2358  08C7  29          	add	hl,hl
2359  08C8  4D          	ld	c,l
2360  08C9  44          	ld	b,h
2361  08CA  21 00 00    	ld	hl,_control_method
2362  08CD  09          	add	hl,bc
2363  08CE  11 00 00    	ld	de,_joyfunc1
2364  08D1  ED A0       	ldi
2365  08D3  7E          	ld	a,(hl)
2366  08D4  12          	ld	(de),a
2367  08D5  C9          	ret
2368  08D6              	SECTION code_compiler
2369  08D6              ;	---------------------------------
2370  08D6              ; Function game_end
2371  08D6              ; ---------------------------------
2372  08D6              	defc _game_end	=	_spr_draw_clear
2373  08D6              	SECTION code_compiler
2374  08D6              ;	---------------------------------
2375  08D6              ; Function game_rotate_attrib
2376  08D6              ; ---------------------------------
2377  08D6              _game_rotate_attrib:
2378  08D6  01 03 00    	ld	bc,_attrib_hl + 3
2379  08D9  0A          	ld	a, (bc)
2380  08DA  32 00 00    	ld	(_tmp_uc),a
2381  08DD  11 02 00    	ld	de,_attrib_hl + 2
2382  08E0  1A          	ld	a, (de)
2383  08E1  02          	ld	(bc), a
2384  08E2  01 01 00    	ld	bc,_attrib_hl + 1
2385  08E5  0A          	ld	a, (bc)
2386  08E6  12          	ld	(de), a
2387  08E7  3A 00 00    	ld	a,(_attrib_hl)
2388  08EA  02          	ld	(bc), a
2389  08EB  3A 00 00    	ld	a,(_tmp_uc)
2390  08EE  32 00 00    	ld	(_attrib_hl),a
2391  08F1  C9          	ret
2392  08F2              	SECTION code_compiler
2393  08F2              ;	---------------------------------
2394  08F2              ; Function game_colour_message
2395  08F2              ; ---------------------------------
2396  08F2              _game_colour_message:
2397  08F2  CD 00 00    	call	___sdcc_enter_ix
2398  08F5  21 00 00    	ld	hl,_tmp
2399  08F8  36 01       	ld	(hl),0x01
2400  08FA  2A 00 00    	ld	hl,(_curr_time)
2401  08FD  22 00 00    	ld	(_frame_time),hl
2402  0900  2A 00 00    	ld	hl,(_curr_time)
2403  0903  22 00 00    	ld	(_entry_time),hl
2404  0906  DD 7E 04    	ld	a,(ix+4)
2405  0909  07          	rlca
2406  090A  07          	rlca
2407  090B  07          	rlca
2408  090C  E6 F8       	and	a,0xf8
2409  090E  4F          	ld	c,a
2410  090F  C6 08       	add	a,0x08
2411  0911  47          	ld	b, a
2412  0912              l_game_colour_message_00109:
2413  0912  3A 00 00    	ld	a,(_tmp)
2414  0915  B7          	or	a, a
2415  0916  28 60       	jr	Z,l_game_colour_message_00111
2416  0918  C5          	push	bc
2417  0919  DD 6E 07    	ld	l,(ix+7)
2418  091C  DD 66 08    	ld	h,(ix+8)
2419  091F  E5          	push	hl
2420  0920  2A 00 00    	ld	hl,(_entry_time)
2421  0923  E5          	push	hl
2422  0924  CD E6 09    	call	_game_check_time
2423  0927  F1          	pop	af
2424  0928  F1          	pop	af
2425  0929  C1          	pop	bc
2426  092A  7D          	ld	a,l
2427  092B  B7          	or	a, a
2428  092C  20 4A       	jr	NZ,l_game_colour_message_00111
2429  092E  C5          	push	bc
2430  092F  21 05 00    	ld	hl,0x0005
2431  0932  E5          	push	hl
2432  0933  2A 00 00    	ld	hl,(_frame_time)
2433  0936  E5          	push	hl
2434  0937  CD E6 09    	call	_game_check_time
2435  093A  F1          	pop	af
2436  093B  F1          	pop	af
2437  093C  C1          	pop	bc
2438  093D  7D          	ld	a,l
2439  093E  B7          	or	a, a
2440  093F  28 19       	jr	Z,l_game_colour_message_00102
2441  0941  2A 00 00    	ld	hl,(_curr_time)
2442  0944  22 00 00    	ld	(_frame_time),hl
2443  0947  C5          	push	bc
2444  0948  C5          	push	bc
2445  0949  33          	inc	sp
2446  094A  DD 66 06    	ld	h,(ix+6)
2447  094D  DD 6E 05    	ld	l,(ix+5)
2448  0950  E5          	push	hl
2449  0951  CD 7E 08    	call	_game_paint_attrib_lin_h
2450  0954  F1          	pop	af
2451  0955  33          	inc	sp
2452  0956  CD D6 08    	call	_game_rotate_attrib
2453  0959  C1          	pop	bc
2454  095A              l_game_colour_message_00102:
2455  095A  DD 7E 09    	ld	a,(ix+9)
2456  095D  B7          	or	a, a
2457  095E  28 B2       	jr	Z,l_game_colour_message_00109
2458  0960              l_game_colour_message_00103:
2459  0960  C5          	push	bc
2460  0961  21 00 00    	ld	hl,_k1
2461  0964  E5          	push	hl
2462  0965  2A 00 00    	ld	hl,(_joyfunc1)
2463  0968  CD 00 00    	call	___sdcc_call_hl
2464  096B  F1          	pop	af
2465  096C  C1          	pop	bc
2466  096D  7C          	ld	a,h
2467  096E  B5          	or	a,l
2468  096F  28 A1       	jr	Z,l_game_colour_message_00109
2469  0971  21 00 00    	ld	hl,_tmp
2470  0974  36 00       	ld	(hl),0x00
2471  0976  18 E8       	jr	l_game_colour_message_00103
2472  0978              l_game_colour_message_00111:
2473  0978  DD 7E 06    	ld	a,(ix+6)
2474  097B  DD 96 05    	sub	a,(ix+5)
2475  097E  47          	ld	b, a
2476  097F  3A 00 00    	ld	a,(_game_over)
2477  0982  B7          	or	a, a
2478  0983  28 2B       	jr	Z,l_game_colour_message_00115
2479  0985  21 00 00    	ld	hl,_tmp1
2480  0988  70          	ld	(hl), b
2481  0989  21 00 00    	ld	hl,_tmp0
2482  098C  36 00       	ld	(hl),0x00
2483  098E              l_game_colour_message_00118:
2484  098E  3A 00 00    	ld	a,(_tmp0)
2485  0991  21 00 00    	ld	hl,_tmp1
2486  0994  96          	sub	a, (hl)
2487  0995  30 4C       	jr	NC,l_game_colour_message_00123
2488  0997  DD 7E 05    	ld	a,(ix+5)
2489  099A  21 00 00    	ld	hl,_tmp0
2490  099D  86          	add	a, (hl)
2491  099E  47          	ld	b, a
2492  099F  21 26 00    	ld	hl,___str_16
2493  09A2  E5          	push	hl
2494  09A3  DD 4E 04    	ld	c,(ix+4)
2495  09A6  C5          	push	bc
2496  09A7  CD 00 00    	call	_zx_print_str
2497  09AA  21 00 00    	ld	hl,_tmp0
2498  09AD  34          	inc	(hl)
2499  09AE  18 DE       	jr	l_game_colour_message_00118
2500  09B0              l_game_colour_message_00115:
2501  09B0  21 00 00    	ld	hl,_tmp1
2502  09B3  70          	ld	(hl), b
2503  09B4  21 00 00    	ld	hl,_s_lin0
2504  09B7  71          	ld	(hl), c
2505  09B8  DD 7E 05    	ld	a,(ix+5)
2506  09BB  CB 3F       	srl	a
2507  09BD  87          	add	a, a
2508  09BE  32 00 00    	ld	(_s_col1),a
2509  09C1  21 00 00    	ld	hl,_tmp0
2510  09C4  36 00       	ld	(hl),0x00
2511  09C6              l_game_colour_message_00121:
2512  09C6  3A 00 00    	ld	a,(_tmp0)
2513  09C9  21 00 00    	ld	hl,_tmp1
2514  09CC  96          	sub	a, (hl)
2515  09CD  30 14       	jr	NC,l_game_colour_message_00123
2516  09CF  3A 00 00    	ld	a,(_s_col1)
2517  09D2  21 00 00    	ld	hl,_tmp0
2518  09D5  86          	add	a, (hl)
2519  09D6  32 00 00    	ld	(_s_col0),a
2520  09D9  CD 00 00    	call	_spr_back_repaint
2521  09DC  21 00 00    	ld	hl,_tmp0
2522  09DF  34          	inc	(hl)
2523  09E0  34          	inc	(hl)
2524  09E1  18 E3       	jr	l_game_colour_message_00121
2525  09E3              l_game_colour_message_00123:
2526  09E3  DD E1       	pop	ix
2527  09E5  C9          	ret
2528  09E6              	SECTION rodata_compiler
2529  0026              ___str_16:
2530  0026  20          	DEFM " "
2531  0027  00          	DEFB 0x00
2532  0028              	SECTION code_compiler
2533  09E6              ;	---------------------------------
2534  09E6              ; Function game_check_time
2535  09E6              ; ---------------------------------
2536  09E6              _game_check_time:
2537  09E6  CD 00 00    	call	___sdcc_enter_ix
2538  09E9  2A 00 00    	ld	hl,(_curr_time)
2539  09EC  7D          	ld	a,l
2540  09ED  DD 96 04    	sub	a,(ix+4)
2541  09F0  4F          	ld	c,a
2542  09F1  7C          	ld	a,h
2543  09F2  DD 9E 05    	sbc	a,(ix+5)
2544  09F5  47          	ld	b, a
2545  09F6  DD 7E 06    	ld	a,(ix+6)
2546  09F9  91          	sub	a, c
2547  09FA  DD 7E 07    	ld	a,(ix+7)
2548  09FD  98          	sbc	a, b
2549  09FE  30 04       	jr	NC,l_game_check_time_00102
2550  0A00  2E 01       	ld	l,0x01
2551  0A02  18 02       	jr	l_game_check_time_00104
2552  0A04              l_game_check_time_00102:
2553  0A04  2E 00       	ld	l,0x00
2554  0A06              l_game_check_time_00104:
2555  0A06  DD E1       	pop	ix
2556  0A08  C9          	ret
2557  0A09              	SECTION code_compiler
2558  0A09              ;	---------------------------------
2559  0A09              ; Function game_shoot_fire
2560  0A09              ; ---------------------------------
2561  0A09              _game_shoot_fire:
2562  0A09  CD 00 00    	call	___sdcc_enter_ix
2563  0A0C  21 F3 FF    	ld	hl, -13
2564  0A0F  39          	add	hl, sp
2565  0A10  F9          	ld	sp, hl
2566  0A11  01 00 00    	ld	bc,_bullet_col
2567  0A14  DD 6E 04    	ld	l,(ix+4)
2568  0A17  26 00       	ld	h,0x00
2569  0A19  09          	add	hl,bc
2570  0A1A  DD 75 FE    	ld	(ix-2),l
2571  0A1D  DD 74 FF    	ld	(ix-1),h
2572  0A20  4E          	ld	c, (hl)
2573  0A21  0C          	inc	c
2574  0A22  C2 22 0C    	jp	NZ,l_game_shoot_fire_00126
2575  0A25  21 00 00    	ld	hl,_bullet_count
2576  0A28  34          	inc	(hl)
2577  0A29  01 00 00    	ld	bc,_bullet_dir
2578  0A2C  DD 6E 04    	ld	l,(ix+4)
2579  0A2F  26 00       	ld	h,0x00
2580  0A31  09          	add	hl,bc
2581  0A32  DD 75 FC    	ld	(ix-4),l
2582  0A35  DD 74 FD    	ld	(ix-3),h
2583  0A38  36 00       	ld	(hl),0x00
2584  0A3A  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2585  0A3C  DD 86 04    	add	a,(ix+4)
2586  0A3F  4F          	ld	c, a
2587  0A40  3E 00       	ld	a, +((_bullet_lin0) / 256)
2588  0A42  CE 00       	adc	a,0x00
2589  0A44  47          	ld	b, a
2590  0A45  11 00 00    	ld	de,_lin
2591  0A48  DD 6E 04    	ld	l,(ix+4)
2592  0A4B  26 00       	ld	h,0x00
2593  0A4D  19          	add	hl,de
2594  0A4E  DD 75 FA    	ld	(ix-6),l
2595  0A51  DD 74 FB    	ld	(ix-5),h
2596  0A54  7E          	ld	a, (hl)
2597  0A55  02          	ld	(bc), a
2598  0A56  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2599  0A58  DD 86 04    	add	a,(ix+4)
2600  0A5B  4F          	ld	c, a
2601  0A5C  3E 00       	ld	a, +((_bullet_col0) / 256)
2602  0A5E  CE 00       	adc	a,0x00
2603  0A60  47          	ld	b, a
2604  0A61  11 00 00    	ld	de,_col
2605  0A64  DD 6E 04    	ld	l,(ix+4)
2606  0A67  26 00       	ld	h,0x00
2607  0A69  19          	add	hl,de
2608  0A6A  DD 75 F8    	ld	(ix-8),l
2609  0A6D  DD 74 F9    	ld	(ix-7),h
2610  0A70  7E          	ld	a, (hl)
2611  0A71  02          	ld	(bc), a
2612  0A72  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2613  0A74  DD 86 04    	add	a,(ix+4)
2614  0A77  DD 77 F6    	ld	(ix-10),a
2615  0A7A  3E 00       	ld	a, +((_bullet_lin) / 256)
2616  0A7C  CE 00       	adc	a,0x00
2617  0A7E  DD 77 F7    	ld	(ix-9),a
2618  0A81  DD 6E FA    	ld	l,(ix-6)
2619  0A84  DD 66 FB    	ld	h,(ix-5)
2620  0A87  4E          	ld	c, (hl)
2621  0A88  DD 6E F6    	ld	l,(ix-10)
2622  0A8B  DD 66 F7    	ld	h,(ix-9)
2623  0A8E  71          	ld	(hl), c
2624  0A8F  01 00 00    	ld	bc,_bullet_frames
2625  0A92  DD 6E 04    	ld	l,(ix+4)
2626  0A95  26 00       	ld	h,0x00
2627  0A97  09          	add	hl,bc
2628  0A98  DD 75 F4    	ld	(ix-12),l
2629  0A9B  DD 74 F5    	ld	(ix-11),h
2630  0A9E  36 02       	ld	(hl),0x02
2631  0AA0  DD 7E 04    	ld	a,(ix+4)
2632  0AA3  D6 07       	sub	a,0x07
2633  0AA5  20 04       	jr	NZ,l_game_shoot_fire_00175
2634  0AA7  3E 01       	ld	a,0x01
2635  0AA9  18 01       	jr	l_game_shoot_fire_00176
2636  0AAB              l_game_shoot_fire_00175:
2637  0AAB  AF          	xor	a,a
2638  0AAC              l_game_shoot_fire_00176:
2639  0AAC  DD 77 F3    	ld	(ix-13),a
2640  0AAF  B7          	or	a, a
2641  0AB0  28 13       	jr	Z,l_game_shoot_fire_00102
2642  0AB2  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2643  0AB4  DD 86 04    	add	a,(ix+4)
2644  0AB7  4F          	ld	c, a
2645  0AB8  3E 00       	ld	a, +((_bullet_max) / 256)
2646  0ABA  CE 00       	adc	a,0x00
2647  0ABC  47          	ld	b, a
2648  0ABD  3A 00 00    	ld	a,(_player_lvl)
2649  0AC0  C6 04       	add	a,0x04
2650  0AC2  02          	ld	(bc), a
2651  0AC3  18 0D       	jr	l_game_shoot_fire_00103
2652  0AC5              l_game_shoot_fire_00102:
2653  0AC5  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2654  0AC7  DD 86 04    	add	a,(ix+4)
2655  0ACA  4F          	ld	c, a
2656  0ACB  3E 00       	ld	a, +((_bullet_max) / 256)
2657  0ACD  CE 00       	adc	a,0x00
2658  0ACF  47          	ld	b, a
2659  0AD0  AF          	xor	a, a
2660  0AD1  02          	ld	(bc), a
2661  0AD2              l_game_shoot_fire_00103:
2662  0AD2  DD 7E 05    	ld	a,(ix+5)
2663  0AD5  D6 7C       	sub	a,0x7c
2664  0AD7  20 0E       	jr	NZ,l_game_shoot_fire_00105
2665  0AD9  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2666  0ADB  DD 86 04    	add	a,(ix+4)
2667  0ADE  4F          	ld	c, a
2668  0ADF  3E 00       	ld	a, +((_bullet_class) / 256)
2669  0AE1  CE 00       	adc	a,0x00
2670  0AE3  47          	ld	b, a
2671  0AE4  3E 01       	ld	a,0x01
2672  0AE6  02          	ld	(bc), a
2673  0AE7              l_game_shoot_fire_00105:
2674  0AE7  DD 7E 05    	ld	a,(ix+5)
2675  0AEA  D6 78       	sub	a,0x78
2676  0AEC  20 24       	jr	NZ,l_game_shoot_fire_00110
2677  0AEE  DD 7E F3    	ld	a,(ix-13)
2678  0AF1  B7          	or	a, a
2679  0AF2  28 10       	jr	Z,l_game_shoot_fire_00107
2680  0AF4  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2681  0AF6  DD 86 04    	add	a,(ix+4)
2682  0AF9  4F          	ld	c, a
2683  0AFA  3E 00       	ld	a, +((_bullet_class) / 256)
2684  0AFC  CE 00       	adc	a,0x00
2685  0AFE  47          	ld	b, a
2686  0AFF  3E 01       	ld	a,0x01
2687  0B01  02          	ld	(bc), a
2688  0B02  18 0E       	jr	l_game_shoot_fire_00110
2689  0B04              l_game_shoot_fire_00107:
2690  0B04  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2691  0B06  DD 86 04    	add	a,(ix+4)
2692  0B09  4F          	ld	c, a
2693  0B0A  3E 00       	ld	a, +((_bullet_class) / 256)
2694  0B0C  CE 00       	adc	a,0x00
2695  0B0E  47          	ld	b, a
2696  0B0F  3E 02       	ld	a,0x02
2697  0B11  02          	ld	(bc), a
2698  0B12              l_game_shoot_fire_00110:
2699  0B12  DD 7E 05    	ld	a,(ix+5)
2700  0B15  D6 80       	sub	a,0x80
2701  0B17  20 04       	jr	NZ,l_game_shoot_fire_00181
2702  0B19  3E 01       	ld	a,0x01
2703  0B1B  18 01       	jr	l_game_shoot_fire_00182
2704  0B1D              l_game_shoot_fire_00181:
2705  0B1D  AF          	xor	a,a
2706  0B1E              l_game_shoot_fire_00182:
2707  0B1E  5F          	ld	e,a
2708  0B1F  B7          	or	a, a
2709  0B20  28 35       	jr	Z,l_game_shoot_fire_00112
2710  0B22  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2711  0B24  DD 86 04    	add	a,(ix+4)
2712  0B27  4F          	ld	c, a
2713  0B28  3E 00       	ld	a, +((_bullet_class) / 256)
2714  0B2A  CE 00       	adc	a,0x00
2715  0B2C  47          	ld	b, a
2716  0B2D  3E 04       	ld	a,0x04
2717  0B2F  02          	ld	(bc), a
2718  0B30  DD 6E FA    	ld	l,(ix-6)
2719  0B33  DD 66 FB    	ld	h,(ix-5)
2720  0B36  7E          	ld	a, (hl)
2721  0B37  C6 FC       	add	a,0xfc
2722  0B39  DD 6E F6    	ld	l,(ix-10)
2723  0B3C  DD 66 F7    	ld	h,(ix-9)
2724  0B3F  77          	ld	(hl), a
2725  0B40  DD 6E F4    	ld	l,(ix-12)
2726  0B43  DD 66 F5    	ld	h,(ix-11)
2727  0B46  36 04       	ld	(hl),0x04
2728  0B48  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2729  0B4A  DD 86 04    	add	a,(ix+4)
2730  0B4D  4F          	ld	c, a
2731  0B4E  3E 00       	ld	a, +((_bullet_vel) / 256)
2732  0B50  CE 00       	adc	a,0x00
2733  0B52  47          	ld	b, a
2734  0B53  3A 00 00    	ld	a,(_player_vel_y0)
2735  0B56  02          	ld	(bc), a
2736  0B57              l_game_shoot_fire_00112:
2737  0B57  3A 00 00    	ld	a,(_s_state)
2738  0B5A  E6 08       	and	a,0x08
2739  0B5C  57          	ld	d, a
2740  0B5D  3A 00 00    	ld	a,(_sprite)
2741  0B60  D6 07       	sub	a,0x07
2742  0B62  20 06       	jr	NZ,l_game_shoot_fire_00114
2743  0B64  3A 07 00    	ld	a,(_state_a + 0x0007)
2744  0B67  E6 08       	and	a,0x08
2745  0B69  57          	ld	d, a
2746  0B6A              l_game_shoot_fire_00114:
2747  0B6A  DD 6E F8    	ld	l,(ix-8)
2748  0B6D  DD 66 F9    	ld	h,(ix-7)
2749  0B70  46          	ld	b, (hl)
2750  0B71  DD 6E FA    	ld	l,(ix-6)
2751  0B74  DD 66 FB    	ld	h,(ix-5)
2752  0B77  7E          	ld	a, (hl)
2753  0B78  D5          	push	de
2754  0B79  4F          	ld	c,a
2755  0B7A  C5          	push	bc
2756  0B7B  CD 00 00    	call	_spr_calc_index
2757  0B7E  F1          	pop	af
2758  0B7F  D1          	pop	de
2759  0B80  22 00 00    	ld	(_index1),hl
2760  0B83  DD 6E F8    	ld	l,(ix-8)
2761  0B86  DD 66 F9    	ld	h,(ix-7)
2762  0B89  7E          	ld	a, (hl)
2763  0B8A  DD 77 F3    	ld	(ix-13),a
2764  0B8D  7A          	ld	a, d
2765  0B8E  B7          	or	a, a
2766  0B8F  28 57       	jr	Z,l_game_shoot_fire_00123
2767  0B91  DD 7E F3    	ld	a,(ix-13)
2768  0B94  D6 01       	sub	a,0x01
2769  0B96  30 05       	jr	NC,l_game_shoot_fire_00116
2770  0B98  2E 01       	ld	l,0x01
2771  0B9A  C3 24 0C    	jp	l_game_shoot_fire_00127
2772  0B9D              l_game_shoot_fire_00116:
2773  0B9D  DD 6E FE    	ld	l,(ix-2)
2774  0BA0  DD 66 FF    	ld	h,(ix-1)
2775  0BA3  DD 7E F3    	ld	a,(ix-13)
2776  0BA6  77          	ld	(hl), a
2777  0BA7  7B          	ld	a, e
2778  0BA8  B7          	or	a, a
2779  0BA9  20 13       	jr	NZ,l_game_shoot_fire_00118
2780  0BAB  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2781  0BAD  DD 86 04    	add	a,(ix+4)
2782  0BB0  4F          	ld	c, a
2783  0BB1  3E 00       	ld	a, +((_bullet_tile) / 256)
2784  0BB3  CE 00       	adc	a,0x00
2785  0BB5  47          	ld	b, a
2786  0BB6  DD 7E 05    	ld	a,(ix+5)
2787  0BB9  C6 02       	add	a,0x02
2788  0BBB  02          	ld	(bc), a
2789  0BBC  18 0F       	jr	l_game_shoot_fire_00119
2790  0BBE              l_game_shoot_fire_00118:
2791  0BBE  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2792  0BC0  DD 86 04    	add	a,(ix+4)
2793  0BC3  4F          	ld	c, a
2794  0BC4  3E 00       	ld	a, +((_bullet_tile) / 256)
2795  0BC6  CE 00       	adc	a,0x00
2796  0BC8  47          	ld	b, a
2797  0BC9  DD 7E 05    	ld	a,(ix+5)
2798  0BCC  02          	ld	(bc), a
2799  0BCD              l_game_shoot_fire_00119:
2800  0BCD  DD 6E FC    	ld	l,(ix-4)
2801  0BD0  DD 66 FD    	ld	h,(ix-3)
2802  0BD3  36 01       	ld	(hl),0x01
2803  0BD5  01 00 00    	ld	bc,_bullet_colint
2804  0BD8  DD 6E 04    	ld	l,(ix+4)
2805  0BDB  26 00       	ld	h,0x00
2806  0BDD  09          	add	hl,bc
2807  0BDE  DD 75 F4    	ld	(ix-12),l
2808  0BE1  DD 74 F5    	ld	(ix-11),h
2809  0BE4  36 02       	ld	(hl),0x02
2810  0BE6  18 3A       	jr	l_game_shoot_fire_00126
2811  0BE8              l_game_shoot_fire_00123:
2812  0BE8  3E 1D       	ld	a,0x1d
2813  0BEA  DD 96 F3    	sub	a,(ix-13)
2814  0BED  30 04       	jr	NC,l_game_shoot_fire_00121
2815  0BEF  2E 01       	ld	l,0x01
2816  0BF1  18 31       	jr	l_game_shoot_fire_00127
2817  0BF3              l_game_shoot_fire_00121:
2818  0BF3  DD 6E FE    	ld	l,(ix-2)
2819  0BF6  DD 66 FF    	ld	h,(ix-1)
2820  0BF9  DD 7E F3    	ld	a,(ix-13)
2821  0BFC  77          	ld	(hl), a
2822  0BFD  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2823  0BFF  DD 86 04    	add	a,(ix+4)
2824  0C02  4F          	ld	c, a
2825  0C03  3E 00       	ld	a, +((_bullet_tile) / 256)
2826  0C05  CE 00       	adc	a,0x00
2827  0C07  47          	ld	b, a
2828  0C08  DD 7E 05    	ld	a,(ix+5)
2829  0C0B  02          	ld	(bc), a
2830  0C0C  DD 6E FC    	ld	l,(ix-4)
2831  0C0F  DD 66 FD    	ld	h,(ix-3)
2832  0C12  36 FF       	ld	(hl),0xff
2833  0C14  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2834  0C16  DD 86 04    	add	a,(ix+4)
2835  0C19  4F          	ld	c, a
2836  0C1A  3E 00       	ld	a, +((_bullet_colint) / 256)
2837  0C1C  CE 00       	adc	a,0x00
2838  0C1E  47          	ld	b, a
2839  0C1F  3E FF       	ld	a,0xff
2840  0C21  02          	ld	(bc), a
2841  0C22              l_game_shoot_fire_00126:
2842  0C22  2E 00       	ld	l,0x00
2843  0C24              l_game_shoot_fire_00127:
2844  0C24  DD F9       	ld	sp, ix
2845  0C26  DD E1       	pop	ix
2846  0C28  C9          	ret
2847  0C29              	SECTION code_compiler
2848  0C29              ;	---------------------------------
2849  0C29              ; Function game_obj_set
2850  0C29              ; ---------------------------------
2851  0C29              _game_obj_set:
2852  0C29  CD 00 00    	call	___sdcc_enter_ix
2853  0C2C  21 00 00    	ld	hl,_scr_curr
2854  0C2F  7E          	ld	a, (hl)
2855  0C30  D6 08       	sub	a,0x08
2856  0C32  30 1E       	jr	NC,l_game_obj_set_00102
2857  0C34  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2858  0C36  DD 86 04    	add	a,(ix+4)
2859  0C39  4F          	ld	c, a
2860  0C3A  3E 00       	ld	a, +((_scr_obj0) / 256)
2861  0C3C  DD 8E 05    	adc	a,(ix+5)
2862  0C3F  47          	ld	b, a
2863  0C40  0A          	ld	a, (bc)
2864  0C41  5F          	ld	e, a
2865  0C42  7E          	ld	a, (hl)
2866  0C43  3C          	inc	a
2867  0C44  16 01       	ld	d,0x01
2868  0C46  18 02       	jr	l_game_obj_set_00111
2869  0C48              l_game_obj_set_00110:
2870  0C48  CB 22       	sla	d
2871  0C4A              l_game_obj_set_00111:
2872  0C4A  3D          	dec	a
2873  0C4B  20 FB       	jr	NZ,l_game_obj_set_00110
2874  0C4D  7B          	ld	a, e
2875  0C4E  B2          	or	a, d
2876  0C4F  02          	ld	(bc), a
2877  0C50  18 20       	jr	l_game_obj_set_00104
2878  0C52              l_game_obj_set_00102:
2879  0C52  3A 00 00    	ld	a,(_scr_curr)
2880  0C55  C6 F8       	add	a,0xf8
2881  0C57  47          	ld	b, a
2882  0C58  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2883  0C5A  DD 86 04    	add	a,(ix+4)
2884  0C5D  5F          	ld	e, a
2885  0C5E  3E 00       	ld	a, +((_scr_obj1) / 256)
2886  0C60  DD 8E 05    	adc	a,(ix+5)
2887  0C63  57          	ld	d, a
2888  0C64  1A          	ld	a, (de)
2889  0C65  4F          	ld	c, a
2890  0C66  2E 01       	ld	l,0x01
2891  0C68  04          	inc	b
2892  0C69  18 02       	jr	l_game_obj_set_00113
2893  0C6B              l_game_obj_set_00112:
2894  0C6B  CB 25       	sla	l
2895  0C6D              l_game_obj_set_00113:
2896  0C6D  10 FC       	djnz	l_game_obj_set_00112
2897  0C6F  79          	ld	a, c
2898  0C70  B5          	or	a, l
2899  0C71  12          	ld	(de), a
2900  0C72              l_game_obj_set_00104:
2901  0C72  DD E1       	pop	ix
2902  0C74  C9          	ret
2903  0C75              	SECTION code_compiler
2904  0C75              ;	---------------------------------
2905  0C75              ; Function game_obj_chk
2906  0C75              ; ---------------------------------
2907  0C75              _game_obj_chk:
2908  0C75  CD 00 00    	call	___sdcc_enter_ix
2909  0C78  21 00 00    	ld	hl,_scr_curr
2910  0C7B  7E          	ld	a, (hl)
2911  0C7C  D6 08       	sub	a,0x08
2912  0C7E  30 1D       	jr	NC,l_game_obj_chk_00102
2913  0C80  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2914  0C82  DD 86 04    	add	a,(ix+4)
2915  0C85  4F          	ld	c, a
2916  0C86  3E 00       	ld	a, +((_scr_obj0) / 256)
2917  0C88  DD 8E 05    	adc	a,(ix+5)
2918  0C8B  47          	ld	b, a
2919  0C8C  0A          	ld	a, (bc)
2920  0C8D  4F          	ld	c, a
2921  0C8E  46          	ld	b, (hl)
2922  0C8F  1E 01       	ld	e,0x01
2923  0C91  04          	inc	b
2924  0C92  18 02       	jr	l_game_obj_chk_00111
2925  0C94              l_game_obj_chk_00110:
2926  0C94  CB 23       	sla	e
2927  0C96              l_game_obj_chk_00111:
2928  0C96  10 FC       	djnz	l_game_obj_chk_00110
2929  0C98  79          	ld	a, c
2930  0C99  A3          	and	a, e
2931  0C9A  6F          	ld	l, a
2932  0C9B  18 20       	jr	l_game_obj_chk_00104
2933  0C9D              l_game_obj_chk_00102:
2934  0C9D  3A 00 00    	ld	a,(_scr_curr)
2935  0CA0  C6 F8       	add	a,0xf8
2936  0CA2  47          	ld	b, a
2937  0CA3  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2938  0CA5  DD 86 04    	add	a,(ix+4)
2939  0CA8  5F          	ld	e, a
2940  0CA9  3E 00       	ld	a, +((_scr_obj1) / 256)
2941  0CAB  DD 8E 05    	adc	a,(ix+5)
2942  0CAE  57          	ld	d, a
2943  0CAF  1A          	ld	a, (de)
2944  0CB0  4F          	ld	c, a
2945  0CB1  1E 01       	ld	e,0x01
2946  0CB3  04          	inc	b
2947  0CB4  18 02       	jr	l_game_obj_chk_00113
2948  0CB6              l_game_obj_chk_00112:
2949  0CB6  CB 23       	sla	e
2950  0CB8              l_game_obj_chk_00113:
2951  0CB8  10 FC       	djnz	l_game_obj_chk_00112
2952  0CBA  79          	ld	a, c
2953  0CBB  A3          	and	a, e
2954  0CBC  6F          	ld	l, a
2955  0CBD              l_game_obj_chk_00104:
2956  0CBD  DD E1       	pop	ix
2957  0CBF  C9          	ret
2958  0CC0              	SECTION code_compiler
2959  0CC0              ;	---------------------------------
2960  0CC0              ; Function game_obj_clear
2961  0CC0              ; ---------------------------------
2962  0CC0              _game_obj_clear:
2963  0CC0  21 00 00    	ld	hl,_tmp
2964  0CC3  36 00       	ld	(hl),0x00
2965  0CC5              l_game_obj_clear_00102:
2966  0CC5  2A 00 00    	ld	hl,(_tmp)
2967  0CC8  26 00       	ld	h,0x00
2968  0CCA  01 00 00    	ld	bc,_scr_map
2969  0CCD  09          	add	hl,bc
2970  0CCE  AF          	xor	a,a
2971  0CCF  77          	ld	(hl),a
2972  0CD0  2A 00 00    	ld	hl,(_tmp)
2973  0CD3  26 00       	ld	h,0x00
2974  0CD5  01 00 00    	ld	bc,_scr_obj0
2975  0CD8  09          	add	hl,bc
2976  0CD9  AF          	xor	a,a
2977  0CDA  77          	ld	(hl),a
2978  0CDB  2A 00 00    	ld	hl,(_tmp)
2979  0CDE  26 00       	ld	h,0x00
2980  0CE0  01 00 00    	ld	bc,_scr_obj1
2981  0CE3  09          	add	hl,bc
2982  0CE4  AF          	xor	a,a
2983  0CE5  77          	ld	(hl),a
2984  0CE6  21 00 00    	ld	hl,_tmp
2985  0CE9  7E          	ld	a,(hl)
2986  0CEA  3C          	inc	a
2987  0CEB  77          	ld	(hl),a
2988  0CEC  D6 A0       	sub	a,0xa0
2989  0CEE  38 D5       	jr	C,l_game_obj_clear_00102
2990  0CF0  01 00 00    	ld	bc,_player_keys+0
2991  0CF3  AF          	xor	a, a
2992  0CF4  02          	ld	(bc), a
2993  0CF5  21 00 00    	ld	hl,0x0000
2994  0CF8  22 01 00    	ld	((_player_keys + 0x0001)),hl
2995  0CFB  69          	ld	l,c
2996  0CFC  60          	ld	h,b
2997  0CFD  23          	inc	hl
2998  0CFE  23          	inc	hl
2999  0CFF  23          	inc	hl
3000  0D00  36 00       	ld	(hl),0x00
3001  0D02  C9          	ret
3002  0D03              	SECTION IGNORE
3003  0000              
