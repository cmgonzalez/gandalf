1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_fps
191   0000              	GLOBAL _game_respawn
192   0000              	GLOBAL _game_draw_screen
193   0000              	GLOBAL _game_add_enemy
194   0000              	GLOBAL _game_print_footer
195   0000              	GLOBAL _game_print_score
196   0000              	GLOBAL _game_update_stats
197   0000              	GLOBAL _game_start_timer
198   0000              	GLOBAL _game_round_init
199   0000              	GLOBAL _game_print_header
200   0000              	GLOBAL _game_check_map
201   0000              	GLOBAL _game_check_cell
202   0000              	GLOBAL _game_paint_attrib_lin
203   0000              	GLOBAL _game_paint_attrib_lin_h
204   0000              	GLOBAL _game_paint_attrib_lin_osd
205   0000              	GLOBAL _game_colour_message
206   0000              	GLOBAL _game_check_time
207   0000              	GLOBAL _game_shoot_fire
208   0000              	GLOBAL _game_shoot_fire_boss
209   0000              	GLOBAL _game_obj_set
210   0000              	GLOBAL _game_obj_chk
211   0000              	GLOBAL _game_obj_clear
212   0000              	GLOBAL _game_boss_clear
213   0000              	GLOBAL _game_rotate_attrib
214   0000              	GLOBAL _game_rotate_attrib_osd
215   0000              	GLOBAL _game_attribs
216   0000              	GLOBAL _game_match_back
217   0000              	GLOBAL _menu_main
218   0000              	GLOBAL _menu_main_print
219   0000              	GLOBAL _menu_redefine
220   0000              	GLOBAL _menu_define_key
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _ffsll_callee
225   0000              	GLOBAL _ffsll
226   0000              	GLOBAL _strxfrm_callee
227   0000              	GLOBAL _strxfrm
228   0000              	GLOBAL _strupr_fastcall
229   0000              	GLOBAL _strupr
230   0000              	GLOBAL _strtok_r_callee
231   0000              	GLOBAL _strtok_r
232   0000              	GLOBAL _strtok_callee
233   0000              	GLOBAL _strtok
234   0000              	GLOBAL _strstrip_fastcall
235   0000              	GLOBAL _strstrip
236   0000              	GLOBAL _strstr_callee
237   0000              	GLOBAL _strstr
238   0000              	GLOBAL _strspn_callee
239   0000              	GLOBAL _strspn
240   0000              	GLOBAL _strsep_callee
241   0000              	GLOBAL _strsep
242   0000              	GLOBAL _strrstrip_fastcall
243   0000              	GLOBAL _strrstrip
244   0000              	GLOBAL _strrspn_callee
245   0000              	GLOBAL _strrspn
246   0000              	GLOBAL _strrev_fastcall
247   0000              	GLOBAL _strrev
248   0000              	GLOBAL _strrcspn_callee
249   0000              	GLOBAL _strrcspn
250   0000              	GLOBAL _strrchr_callee
251   0000              	GLOBAL _strrchr
252   0000              	GLOBAL _strpbrk_callee
253   0000              	GLOBAL _strpbrk
254   0000              	GLOBAL _strnlen_callee
255   0000              	GLOBAL _strnlen
256   0000              	GLOBAL _strnicmp_callee
257   0000              	GLOBAL _strnicmp
258   0000              	GLOBAL _strndup_callee
259   0000              	GLOBAL _strndup
260   0000              	GLOBAL _strncpy_callee
261   0000              	GLOBAL _strncpy
262   0000              	GLOBAL _strncmp_callee
263   0000              	GLOBAL _strncmp
264   0000              	GLOBAL _strnchr_callee
265   0000              	GLOBAL _strnchr
266   0000              	GLOBAL _strncat_callee
267   0000              	GLOBAL _strncat
268   0000              	GLOBAL _strncasecmp_callee
269   0000              	GLOBAL _strncasecmp
270   0000              	GLOBAL _strlwr_fastcall
271   0000              	GLOBAL _strlwr
272   0000              	GLOBAL _strlen_fastcall
273   0000              	GLOBAL _strlen
274   0000              	GLOBAL _strlcpy_callee
275   0000              	GLOBAL _strlcpy
276   0000              	GLOBAL _strlcat_callee
277   0000              	GLOBAL _strlcat
278   0000              	GLOBAL _stricmp_callee
279   0000              	GLOBAL _stricmp
280   0000              	GLOBAL _strerror_fastcall
281   0000              	GLOBAL _strerror
282   0000              	GLOBAL _strdup_fastcall
283   0000              	GLOBAL _strdup
284   0000              	GLOBAL _strcspn_callee
285   0000              	GLOBAL _strcspn
286   0000              	GLOBAL _strcpy_callee
287   0000              	GLOBAL _strcpy
288   0000              	GLOBAL _strcoll_callee
289   0000              	GLOBAL _strcoll
290   0000              	GLOBAL _strcmp_callee
291   0000              	GLOBAL _strcmp
292   0000              	GLOBAL _strchrnul_callee
293   0000              	GLOBAL _strchrnul
294   0000              	GLOBAL _strchr_callee
295   0000              	GLOBAL _strchr
296   0000              	GLOBAL _strcat_callee
297   0000              	GLOBAL _strcat
298   0000              	GLOBAL _strcasecmp_callee
299   0000              	GLOBAL _strcasecmp
300   0000              	GLOBAL _stpncpy_callee
301   0000              	GLOBAL _stpncpy
302   0000              	GLOBAL _stpcpy_callee
303   0000              	GLOBAL _stpcpy
304   0000              	GLOBAL _memswap_callee
305   0000              	GLOBAL _memswap
306   0000              	GLOBAL _memset_callee
307   0000              	GLOBAL _memset
308   0000              	GLOBAL _memrchr_callee
309   0000              	GLOBAL _memrchr
310   0000              	GLOBAL _memmove_callee
311   0000              	GLOBAL _memmove
312   0000              	GLOBAL _memmem_callee
313   0000              	GLOBAL _memmem
314   0000              	GLOBAL _memcpy_callee
315   0000              	GLOBAL _memcpy
316   0000              	GLOBAL _memcmp_callee
317   0000              	GLOBAL _memcmp
318   0000              	GLOBAL _memchr_callee
319   0000              	GLOBAL _memchr
320   0000              	GLOBAL _memccpy_callee
321   0000              	GLOBAL _memccpy
322   0000              	GLOBAL _ffsl_fastcall
323   0000              	GLOBAL _ffsl
324   0000              	GLOBAL _ffs_fastcall
325   0000              	GLOBAL _ffs
326   0000              	GLOBAL __strrstrip__fastcall
327   0000              	GLOBAL __strrstrip_
328   0000              	GLOBAL __memupr__callee
329   0000              	GLOBAL __memupr_
330   0000              	GLOBAL __memstrcpy__callee
331   0000              	GLOBAL __memstrcpy_
332   0000              	GLOBAL __memlwr__callee
333   0000              	GLOBAL __memlwr_
334   0000              	GLOBAL _rawmemchr_callee
335   0000              	GLOBAL _rawmemchr
336   0000              	GLOBAL _strnset_callee
337   0000              	GLOBAL _strnset
338   0000              	GLOBAL _strset_callee
339   0000              	GLOBAL _strset
340   0000              	GLOBAL _rindex_callee
341   0000              	GLOBAL _rindex
342   0000              	GLOBAL _index_callee
343   0000              	GLOBAL _index
344   0000              	GLOBAL _bzero_callee
345   0000              	GLOBAL _bzero
346   0000              	GLOBAL _bcopy_callee
347   0000              	GLOBAL _bcopy
348   0000              	GLOBAL _bcmp_callee
349   0000              	GLOBAL _bcmp
350   0000              	GLOBAL _ulltoa_callee
351   0000              	GLOBAL _ulltoa
352   0000              	GLOBAL _strtoull_callee
353   0000              	GLOBAL _strtoull
354   0000              	GLOBAL _strtoll_callee
355   0000              	GLOBAL _strtoll
356   0000              	GLOBAL _lltoa_callee
357   0000              	GLOBAL _lltoa
358   0000              	GLOBAL _llabs_callee
359   0000              	GLOBAL _llabs
360   0000              	GLOBAL __lldivu__callee
361   0000              	GLOBAL __lldivu_
362   0000              	GLOBAL __lldiv__callee
363   0000              	GLOBAL __lldiv_
364   0000              	GLOBAL _atoll_callee
365   0000              	GLOBAL _atoll
366   0000              	GLOBAL _realloc_unlocked_callee
367   0000              	GLOBAL _realloc_unlocked
368   0000              	GLOBAL _malloc_unlocked_fastcall
369   0000              	GLOBAL _malloc_unlocked
370   0000              	GLOBAL _free_unlocked_fastcall
371   0000              	GLOBAL _free_unlocked
372   0000              	GLOBAL _calloc_unlocked_callee
373   0000              	GLOBAL _calloc_unlocked
374   0000              	GLOBAL _aligned_alloc_unlocked_callee
375   0000              	GLOBAL _aligned_alloc_unlocked
376   0000              	GLOBAL _realloc_callee
377   0000              	GLOBAL _realloc
378   0000              	GLOBAL _malloc_fastcall
379   0000              	GLOBAL _malloc
380   0000              	GLOBAL _free_fastcall
381   0000              	GLOBAL _free
382   0000              	GLOBAL _calloc_callee
383   0000              	GLOBAL _calloc
384   0000              	GLOBAL _aligned_alloc_callee
385   0000              	GLOBAL _aligned_alloc
386   0000              	GLOBAL _utoa_callee
387   0000              	GLOBAL _utoa
388   0000              	GLOBAL _ultoa_callee
389   0000              	GLOBAL _ultoa
390   0000              	GLOBAL _system_fastcall
391   0000              	GLOBAL _system
392   0000              	GLOBAL _strtoul_callee
393   0000              	GLOBAL _strtoul
394   0000              	GLOBAL _strtol_callee
395   0000              	GLOBAL _strtol
396   0000              	GLOBAL _strtof_callee
397   0000              	GLOBAL _strtof
398   0000              	GLOBAL _strtod_callee
399   0000              	GLOBAL _strtod
400   0000              	GLOBAL _srand_fastcall
401   0000              	GLOBAL _srand
402   0000              	GLOBAL _rand
403   0000              	GLOBAL _quick_exit_fastcall
404   0000              	GLOBAL _quick_exit
405   0000              	GLOBAL _qsort_callee
406   0000              	GLOBAL _qsort
407   0000              	GLOBAL _ltoa_callee
408   0000              	GLOBAL _ltoa
409   0000              	GLOBAL _labs_fastcall
410   0000              	GLOBAL _labs
411   0000              	GLOBAL _itoa_callee
412   0000              	GLOBAL _itoa
413   0000              	GLOBAL _ftoh_callee
414   0000              	GLOBAL _ftoh
415   0000              	GLOBAL _ftog_callee
416   0000              	GLOBAL _ftog
417   0000              	GLOBAL _ftoe_callee
418   0000              	GLOBAL _ftoe
419   0000              	GLOBAL _ftoa_callee
420   0000              	GLOBAL _ftoa
421   0000              	GLOBAL _exit_fastcall
422   0000              	GLOBAL _exit
423   0000              	GLOBAL _dtoh_callee
424   0000              	GLOBAL _dtoh
425   0000              	GLOBAL _dtog_callee
426   0000              	GLOBAL _dtog
427   0000              	GLOBAL _dtoe_callee
428   0000              	GLOBAL _dtoe
429   0000              	GLOBAL _dtoa_callee
430   0000              	GLOBAL _dtoa
431   0000              	GLOBAL _bsearch_callee
432   0000              	GLOBAL _bsearch
433   0000              	GLOBAL _atol_fastcall
434   0000              	GLOBAL _atol
435   0000              	GLOBAL _atoi_fastcall
436   0000              	GLOBAL _atoi
437   0000              	GLOBAL _atof_fastcall
438   0000              	GLOBAL _atof
439   0000              	GLOBAL _atexit_fastcall
440   0000              	GLOBAL _atexit
441   0000              	GLOBAL _at_quick_exit_fastcall
442   0000              	GLOBAL _at_quick_exit
443   0000              	GLOBAL _abs_fastcall
444   0000              	GLOBAL _abs
445   0000              	GLOBAL _abort
446   0000              	GLOBAL __strtou__callee
447   0000              	GLOBAL __strtou_
448   0000              	GLOBAL __strtoi__callee
449   0000              	GLOBAL __strtoi_
450   0000              	GLOBAL __random_uniform_xor_8__fastcall
451   0000              	GLOBAL __random_uniform_xor_8_
452   0000              	GLOBAL __random_uniform_xor_32__fastcall
453   0000              	GLOBAL __random_uniform_xor_32_
454   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
455   0000              	GLOBAL __random_uniform_cmwc_8_
456   0000              	GLOBAL __shellsort__callee
457   0000              	GLOBAL __shellsort_
458   0000              	GLOBAL __quicksort__callee
459   0000              	GLOBAL __quicksort_
460   0000              	GLOBAL __insertion_sort__callee
461   0000              	GLOBAL __insertion_sort_
462   0000              	GLOBAL __ldivu__callee
463   0000              	GLOBAL __ldivu_
464   0000              	GLOBAL __ldiv__callee
465   0000              	GLOBAL __ldiv_
466   0000              	GLOBAL __divu__callee
467   0000              	GLOBAL __divu_
468   0000              	GLOBAL __div__callee
469   0000              	GLOBAL __div_
470   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawTW_raw
472   0000              	GLOBAL _NIRVANAP_drawTW_callee
473   0000              	GLOBAL _NIRVANAP_drawTW
474   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
475   0000              	GLOBAL _NIRVANAP_drawW_raw
476   0000              	GLOBAL _NIRVANAP_drawW_callee
477   0000              	GLOBAL _NIRVANAP_drawW
478   0000              	GLOBAL _NIRVANAP_spriteT_callee
479   0000              	GLOBAL _NIRVANAP_spriteT
480   0000              	GLOBAL _NIRVANAP_fillC_callee
481   0000              	GLOBAL _NIRVANAP_fillC
482   0000              	GLOBAL _NIRVANAP_readC_callee
483   0000              	GLOBAL _NIRVANAP_readC
484   0000              	GLOBAL _NIRVANAP_paintC_callee
485   0000              	GLOBAL _NIRVANAP_paintC
486   0000              	GLOBAL _NIRVANAP_printC_callee
487   0000              	GLOBAL _NIRVANAP_printC
488   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
489   0000              	GLOBAL _NIRVANAP_fillT_raw
490   0000              	GLOBAL _NIRVANAP_fillT_callee
491   0000              	GLOBAL _NIRVANAP_fillT
492   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawT_raw
494   0000              	GLOBAL _NIRVANAP_drawT_callee
495   0000              	GLOBAL _NIRVANAP_drawT
496   0000              	GLOBAL _NIRVANAP_stop
497   0000              	GLOBAL _NIRVANAP_start
498   0000              	GLOBAL _debug3
499   0000              	GLOBAL _debug2
500   0000              	GLOBAL _debug
501   0000              	GLOBAL _zx_print_str
502   0000              	GLOBAL _zx_print_int
503   0000              	GLOBAL _zx_print_chr
504   0000              	GLOBAL _zx_print_bonus_time
505   0000              	GLOBAL _zx_isr
506   0000              	GLOBAL _z80_otdr_callee
507   0000              	GLOBAL _z80_otdr
508   0000              	GLOBAL _z80_otir_callee
509   0000              	GLOBAL _z80_otir
510   0000              	GLOBAL _z80_outp_callee
511   0000              	GLOBAL _z80_outp
512   0000              	GLOBAL _z80_indr_callee
513   0000              	GLOBAL _z80_indr
514   0000              	GLOBAL _z80_inir_callee
515   0000              	GLOBAL _z80_inir
516   0000              	GLOBAL _z80_inp_fastcall
517   0000              	GLOBAL _z80_inp
518   0000              	GLOBAL _z80_set_int_state_fastcall
519   0000              	GLOBAL _z80_set_int_state
520   0000              	GLOBAL _z80_get_int_state
521   0000              	GLOBAL _z80_delay_tstate_fastcall
522   0000              	GLOBAL _z80_delay_tstate
523   0000              	GLOBAL _z80_delay_ms_fastcall
524   0000              	GLOBAL _z80_delay_ms
525   0000              	GLOBAL _im2_remove_generic_callback_callee
526   0000              	GLOBAL _im2_remove_generic_callback
527   0000              	GLOBAL _im2_prepend_generic_callback_callee
528   0000              	GLOBAL _im2_prepend_generic_callback
529   0000              	GLOBAL _im2_append_generic_callback_callee
530   0000              	GLOBAL _im2_append_generic_callback
531   0000              	GLOBAL _im2_create_generic_isr_8080_callee
532   0000              	GLOBAL _im2_create_generic_isr_8080
533   0000              	GLOBAL _im2_create_generic_isr_callee
534   0000              	GLOBAL _im2_create_generic_isr
535   0000              	GLOBAL _im2_install_isr_callee
536   0000              	GLOBAL _im2_install_isr
537   0000              	GLOBAL _im2_init_fastcall
538   0000              	GLOBAL _im2_init
539   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
540   0000              	GLOBAL _intrinsic_swap_word_32
541   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
542   0000              	GLOBAL _intrinsic_swap_endian_32
543   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
544   0000              	GLOBAL _intrinsic_swap_endian_16
545   0000              	GLOBAL _intrinsic_return_de
546   0000              	GLOBAL _intrinsic_return_bc
547   0000              	GLOBAL _intrinsic_exx
548   0000              	GLOBAL _intrinsic_ex_de_hl
549   0000              	GLOBAL _intrinsic_nop
550   0000              	GLOBAL _intrinsic_im_2
551   0000              	GLOBAL _intrinsic_im_1
552   0000              	GLOBAL _intrinsic_im_0
553   0000              	GLOBAL _intrinsic_retn
554   0000              	GLOBAL _intrinsic_reti
555   0000              	GLOBAL _intrinsic_halt
556   0000              	GLOBAL _intrinsic_ei
557   0000              	GLOBAL _intrinsic_di
558   0000              	GLOBAL _intrinsic_stub
559   0000              	GLOBAL _intrinsic_outi
560   0000              	GLOBAL _intrinsic_ldi
561   0000              	GLOBAL _zx_pattern_fill_callee
562   0000              	GLOBAL _zx_pattern_fill
563   0000              	GLOBAL _zx_saddrpup_fastcall
564   0000              	GLOBAL _zx_saddrpup
565   0000              	GLOBAL _zx_saddrpright_callee
566   0000              	GLOBAL _zx_saddrpright
567   0000              	GLOBAL _zx_saddrpleft_callee
568   0000              	GLOBAL _zx_saddrpleft
569   0000              	GLOBAL _zx_saddrpdown_fastcall
570   0000              	GLOBAL _zx_saddrpdown
571   0000              	GLOBAL _zx_saddrcup_fastcall
572   0000              	GLOBAL _zx_saddrcup
573   0000              	GLOBAL _zx_saddrcright_fastcall
574   0000              	GLOBAL _zx_saddrcright
575   0000              	GLOBAL _zx_saddrcleft_fastcall
576   0000              	GLOBAL _zx_saddrcleft
577   0000              	GLOBAL _zx_saddrcdown_fastcall
578   0000              	GLOBAL _zx_saddrcdown
579   0000              	GLOBAL _zx_saddr2py_fastcall
580   0000              	GLOBAL _zx_saddr2py
581   0000              	GLOBAL _zx_saddr2px_fastcall
582   0000              	GLOBAL _zx_saddr2px
583   0000              	GLOBAL _zx_saddr2cy_fastcall
584   0000              	GLOBAL _zx_saddr2cy
585   0000              	GLOBAL _zx_saddr2cx_fastcall
586   0000              	GLOBAL _zx_saddr2cx
587   0000              	GLOBAL _zx_saddr2aaddr_fastcall
588   0000              	GLOBAL _zx_saddr2aaddr
589   0000              	GLOBAL _zx_py2saddr_fastcall
590   0000              	GLOBAL _zx_py2saddr
591   0000              	GLOBAL _zx_py2aaddr_fastcall
592   0000              	GLOBAL _zx_py2aaddr
593   0000              	GLOBAL _zx_pxy2saddr_callee
594   0000              	GLOBAL _zx_pxy2saddr
595   0000              	GLOBAL _zx_pxy2aaddr_callee
596   0000              	GLOBAL _zx_pxy2aaddr
597   0000              	GLOBAL _zx_px2bitmask_fastcall
598   0000              	GLOBAL _zx_px2bitmask
599   0000              	GLOBAL _zx_cy2saddr_fastcall
600   0000              	GLOBAL _zx_cy2saddr
601   0000              	GLOBAL _zx_cy2aaddr_fastcall
602   0000              	GLOBAL _zx_cy2aaddr
603   0000              	GLOBAL _zx_cxy2saddr_callee
604   0000              	GLOBAL _zx_cxy2saddr
605   0000              	GLOBAL _zx_cxy2aaddr_callee
606   0000              	GLOBAL _zx_cxy2aaddr
607   0000              	GLOBAL _zx_bitmask2px_fastcall
608   0000              	GLOBAL _zx_bitmask2px
609   0000              	GLOBAL _zx_aaddrcup_fastcall
610   0000              	GLOBAL _zx_aaddrcup
611   0000              	GLOBAL _zx_aaddrcright_fastcall
612   0000              	GLOBAL _zx_aaddrcright
613   0000              	GLOBAL _zx_aaddrcleft_fastcall
614   0000              	GLOBAL _zx_aaddrcleft
615   0000              	GLOBAL _zx_aaddrcdown_fastcall
616   0000              	GLOBAL _zx_aaddrcdown
617   0000              	GLOBAL _zx_aaddr2saddr_fastcall
618   0000              	GLOBAL _zx_aaddr2saddr
619   0000              	GLOBAL _zx_aaddr2py_fastcall
620   0000              	GLOBAL _zx_aaddr2py
621   0000              	GLOBAL _zx_aaddr2px_fastcall
622   0000              	GLOBAL _zx_aaddr2px
623   0000              	GLOBAL _zx_aaddr2cy_fastcall
624   0000              	GLOBAL _zx_aaddr2cy
625   0000              	GLOBAL _zx_aaddr2cx_fastcall
626   0000              	GLOBAL _zx_aaddr2cx
627   0000              	GLOBAL _zx_visit_wc_pix_callee
628   0000              	GLOBAL _zx_visit_wc_pix
629   0000              	GLOBAL _zx_visit_wc_attr_callee
630   0000              	GLOBAL _zx_visit_wc_attr
631   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
632   0000              	GLOBAL _zx_scroll_wc_up_pix
633   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
634   0000              	GLOBAL _zx_scroll_wc_up_attr
635   0000              	GLOBAL _zx_scroll_wc_up_callee
636   0000              	GLOBAL _zx_scroll_wc_up
637   0000              	GLOBAL _zx_scroll_up_pix_callee
638   0000              	GLOBAL _zx_scroll_up_pix
639   0000              	GLOBAL _zx_scroll_up_attr_callee
640   0000              	GLOBAL _zx_scroll_up_attr
641   0000              	GLOBAL _zx_scroll_up_callee
642   0000              	GLOBAL _zx_scroll_up
643   0000              	GLOBAL _zx_cls_wc_pix_callee
644   0000              	GLOBAL _zx_cls_wc_pix
645   0000              	GLOBAL _zx_cls_wc_attr_callee
646   0000              	GLOBAL _zx_cls_wc_attr
647   0000              	GLOBAL _zx_cls_wc_callee
648   0000              	GLOBAL _zx_cls_wc
649   0000              	GLOBAL _zx_cls_pix_fastcall
650   0000              	GLOBAL _zx_cls_pix
651   0000              	GLOBAL _zx_cls_attr_fastcall
652   0000              	GLOBAL _zx_cls_attr
653   0000              	GLOBAL _zx_cls_fastcall
654   0000              	GLOBAL _zx_cls
655   0000              	GLOBAL _zx_border_fastcall
656   0000              	GLOBAL _zx_border
657   0000              	GLOBAL _spr_btile_paint_back
658   0000              	GLOBAL _spr_explode_bullet
659   0000              	GLOBAL _spr_init_anim_bullets
660   0000              	GLOBAL _spr_turn_horizontal
661   0000              	GLOBAL _spr_play_bullets
662   0000              	GLOBAL _spr_play_anim
663   0000              	GLOBAL _spr_add_anim
664   0000              	GLOBAL _spr_clear_scr
665   0000              	GLOBAL _spr_page_map
666   0000              	GLOBAL _spr_page_down
667   0000              	GLOBAL _spr_page_up
668   0000              	GLOBAL _spr_page_right
669   0000              	GLOBAL _spr_page_left
670   0000              	GLOBAL _spr_tile_paint
671   0000              	GLOBAL _spr_calc_hor
672   0000              	GLOBAL _spr_draw_index
673   0000              	GLOBAL _spr_brick_anim
674   0000              	GLOBAL _spr_back_repaint
675   0000              	GLOBAL _spr_tile
676   0000              	GLOBAL _spr_destroy
677   0000              	GLOBAL _spr_tile_dir
678   0000              	GLOBAL _spr_redraw
679   0000              	GLOBAL _spr_move_left
680   0000              	GLOBAL _spr_move_right
681   0000              	GLOBAL _spr_move_horizontal
682   0000              	GLOBAL _spr_move_down
683   0000              	GLOBAL _spr_move_up
684   0000              	GLOBAL _spr_calc_index
685   0000              	GLOBAL _spr_chktime
686   0000              	GLOBAL _player_fix_walk_lin
687   0000              	GLOBAL _player_gasta_brick
688   0000              	GLOBAL _player_lost_life
689   0000              	GLOBAL _player_hit
690   0000              	GLOBAL _player_open_door
691   0000              	GLOBAL _player_move_jump
692   0000              	GLOBAL _player_fire
693   0000              	GLOBAL _player_check_stairs_vertical
694   0000              	GLOBAL _player_check_stairs
695   0000              	GLOBAL _player_tile
696   0000              	GLOBAL _player_pick_item
697   0000              	GLOBAL _player_check_floor
698   0000              	GLOBAL _player_hit_platform_clear
699   0000              	GLOBAL _player_score_add
700   0000              	GLOBAL _player_hit_platform
701   0000              	GLOBAL _player_move_input
702   0000              	GLOBAL _player_turn
703   0000              	GLOBAL _player_move
704   0000              	GLOBAL _player_check_input
705   0000              	GLOBAL _player_pick_mushroom
706   0000              	GLOBAL _player_collision
707   0000              	GLOBAL _player_init
708   0000              	GLOBAL _game_fill_row
709   0000              	GLOBAL _boss_turn
710   0000              	GLOBAL _enemy_avoid_dead
711   0000              	GLOBAL _enemy_avoid_fall
712   0000              	GLOBAL _enemy_respawn
713   0000              	GLOBAL _enemy_init
714   0000              	GLOBAL _enemy_move
715   0000              	GLOBAL _enemy_turn
716   0000              	GLOBAL _enemy_static
717   0000              	GLOBAL _enemy_walk
718   0000              	GLOBAL _enemy_horizontal
719   0000              	GLOBAL _enemy_vertical
720   0000              	GLOBAL _ay_fx_play
721   0000              	GLOBAL _ay_midi_play
722   0000              	GLOBAL _ay_is_playing
723   0000              	GLOBAL _ay_reset
724   0000              	GLOBAL _test_func
725   0000              	GLOBAL _test_proc
726   0000              	GLOBAL _in_mouse_kempston_wheel_delta
727   0000              	GLOBAL _in_mouse_kempston_wheel
728   0000              	GLOBAL _in_mouse_kempston_callee
729   0000              	GLOBAL _in_mouse_kempston
730   0000              	GLOBAL _in_mouse_kempston_setpos_callee
731   0000              	GLOBAL _in_mouse_kempston_setpos
732   0000              	GLOBAL _in_mouse_kempston_reset
733   0000              	GLOBAL _in_mouse_kempston_init
734   0000              	GLOBAL _in_mouse_amx_wheel_delta
735   0000              	GLOBAL _in_mouse_amx_wheel
736   0000              	GLOBAL _in_mouse_amx_callee
737   0000              	GLOBAL _in_mouse_amx
738   0000              	GLOBAL _in_mouse_amx_setpos_callee
739   0000              	GLOBAL _in_mouse_amx_setpos
740   0000              	GLOBAL _in_mouse_amx_reset
741   0000              	GLOBAL _in_mouse_amx_init_callee
742   0000              	GLOBAL _in_mouse_amx_init
743   0000              	GLOBAL _in_stick_sinclair2
744   0000              	GLOBAL _in_stick_sinclair1
745   0000              	GLOBAL _in_stick_kempston
746   0000              	GLOBAL _in_stick_fuller
747   0000              	GLOBAL _in_stick_cursor
748   0000              	GLOBAL _in_stick_keyboard_fastcall
749   0000              	GLOBAL _in_stick_keyboard
750   0000              	GLOBAL _in_wait_nokey
751   0000              	GLOBAL _in_wait_key
752   0000              	GLOBAL _in_test_key
753   0000              	GLOBAL _in_pause_fastcall
754   0000              	GLOBAL _in_pause
755   0000              	GLOBAL _in_key_scancode_fastcall
756   0000              	GLOBAL _in_key_scancode
757   0000              	GLOBAL _in_key_pressed_fastcall
758   0000              	GLOBAL _in_key_pressed
759   0000              	GLOBAL _in_inkey
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _scan_map
766   0000              	GLOBAL _key_map
767   0000              	GLOBAL _player_lvl_table
768   0000              	GLOBAL _map_paper_last
769   0000              	GLOBAL _map_paper_clr
770   0000              	GLOBAL _map_paper
771   0000              	GLOBAL _draw_count
772   0000              	GLOBAL _g_player_hit_right
773   0000              	GLOBAL _g_player_hit_left
774   0000              	GLOBAL _bullet_count
775   0000              	GLOBAL _spr_hack
776   0000              	GLOBAL _boss_stat
777   0000              	GLOBAL _boss_time_fire
778   0000              	GLOBAL _boss_time
779   0000              	GLOBAL _boss_tile
780   0000              	GLOBAL _boss_inc
781   0000              	GLOBAL _boss_col
782   0000              	GLOBAL _boss_lin
783   0000              	GLOBAL _bullet
784   0000              	GLOBAL _bullet_vel
785   0000              	GLOBAL _bullet_frames
786   0000              	GLOBAL _bullet_colint
787   0000              	GLOBAL _bullet_dir
788   0000              	GLOBAL _bullet_tile
789   0000              	GLOBAL _bullet_col
790   0000              	GLOBAL _bullet_lin
791   0000              	GLOBAL _bullet_col0
792   0000              	GLOBAL _bullet_lin0
793   0000              	GLOBAL _bullet_max
794   0000              	GLOBAL _bullet_class
795   0000              	GLOBAL _mush_class
796   0000              	GLOBAL _mush_index
797   0000              	GLOBAL _anim_count
798   0000              	GLOBAL _anim_respanwn
799   0000              	GLOBAL _anim_loop
800   0000              	GLOBAL _anim_end
801   0000              	GLOBAL _anim_int
802   0000              	GLOBAL _anim_tile
803   0000              	GLOBAL _anim_col
804   0000              	GLOBAL _anim_lin
805   0000              	GLOBAL _map_heigth
806   0000              	GLOBAL _map_width
807   0000              	GLOBAL _scr_curr
808   0000              	GLOBAL _scr_obj1
809   0000              	GLOBAL _scr_obj0
810   0000              	GLOBAL _scr_map
811   0000              	GLOBAL _sprite_speed_alt
812   0000              	GLOBAL _spr_init
813   0000              	GLOBAL _spr_map_tile
814   0000              	GLOBAL _sprite_frames
815   0000              	GLOBAL _sprite_speed
816   0000              	GLOBAL _screen_ink
817   0000              	GLOBAL _screen_paper
818   0000              	GLOBAL _player_onstair
819   0000              	GLOBAL _game_start_scr
820   0000              	GLOBAL _game_respawn_tile
821   0000              	GLOBAL _game_respawn_index
822   0000              	GLOBAL _game_respawn_time
823   0000              	GLOBAL _game_score_top
824   0000              	GLOBAL _player_coins
825   0000              	GLOBAL _player_lives
826   0000              	GLOBAL _game_over
827   0000              	GLOBAL _game_sound
828   0000              	GLOBAL _game_inmune
829   0000              	GLOBAL _game_god_mode
830   0000              	GLOBAL _sprite_curr_index
831   0000              	GLOBAL _spr_count
832   0000              	GLOBAL _bullet_time
833   0000              	GLOBAL _anim_time
834   0000              	GLOBAL _frame_time
835   0000              	GLOBAL _curr_time
836   0000              	GLOBAL _s_state
837   0000              	GLOBAL _attrib_osd
838   0000              	GLOBAL _attrib_hl
839   0000              	GLOBAL _attrib
840   0000              	GLOBAL _zx_val_asm
841   0000              	GLOBAL _enemies
842   0000              	GLOBAL _tmp_ui
843   0000              	GLOBAL _tmp_sc
844   0000              	GLOBAL _tmp_uc
845   0000              	GLOBAL _tmp1
846   0000              	GLOBAL _tmp0
847   0000              	GLOBAL _tmp
848   0000              	GLOBAL _index1
849   0000              	GLOBAL _index0
850   0000              	GLOBAL _loop_count
851   0000              	GLOBAL _s_col1
852   0000              	GLOBAL _s_col0
853   0000              	GLOBAL _s_lin1
854   0000              	GLOBAL _s_lin0
855   0000              	GLOBAL _s_tile1
856   0000              	GLOBAL _s_tile0
857   0000              	GLOBAL _player_brick_time
858   0000              	GLOBAL _player_hit_count
859   0000              	GLOBAL _sprite_horizontal_check
860   0000              	GLOBAL _sprite_on_air
861   0000              	GLOBAL _sprite
862   0000              	GLOBAL _fps
863   0000              	GLOBAL _game_2buttons
864   0000              	GLOBAL _game_respawn_curr_time
865   0000              	GLOBAL _game_worldup
866   0000              	GLOBAL _game_mush_count
867   0000              	GLOBAL _game_boss_fix
868   0000              	GLOBAL _game_boss_hit
869   0000              	GLOBAL _game_boss_alive
870   0000              	GLOBAL _game_boss
871   0000              	GLOBAL _game_world
872   0000              	GLOBAL _game_gravity
873   0000              	GLOBAL _player_anim_stair
874   0000              	GLOBAL _player_hit_time
875   0000              	GLOBAL _player_lin_scr
876   0000              	GLOBAL _player_col_scr
877   0000              	GLOBAL _player_lvl
878   0000              	GLOBAL _player_int
879   0000              	GLOBAL _player_str
880   0000              	GLOBAL _player_max_vita
881   0000              	GLOBAL _player_max_mana
882   0000              	GLOBAL _player_vita
883   0000              	GLOBAL _player_mana
884   0000              	GLOBAL _player_keys
885   0000              	GLOBAL _player_vel_inc
886   0000              	GLOBAL _player_vel_y1
887   0000              	GLOBAL _player_vel_y0
888   0000              	GLOBAL _player_vel_y
889   0000              	GLOBAL _player_vel_x
890   0000              	GLOBAL _player_joy
891   0000              	GLOBAL _player_score
892   0000              	GLOBAL _last_time
893   0000              	GLOBAL _player_slide
894   0000              	GLOBAL _spr_timer
895   0000              	GLOBAL _jump_lin
896   0000              	GLOBAL _player_hit_col
897   0000              	GLOBAL _player_hit_lin
898   0000              	GLOBAL _colint
899   0000              	GLOBAL _col
900   0000              	GLOBAL _lin
901   0000              	GLOBAL _tile
902   0000              	GLOBAL _state_a
903   0000              	GLOBAL _state
904   0000              	GLOBAL _class
905   0000              	GLOBAL _tbuffer
906   0000              	GLOBAL _dirs_alt
907   0000              	GLOBAL _dirs
908   0000              	GLOBAL _k2
909   0000              	GLOBAL _k1
910   0000              	GLOBAL _joyfunc2
911   0000              	GLOBAL _joyfunc1
912   0000              	GLOBAL _btiles
913   0000              	GLOBAL _spec128
914   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
915   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
916   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
917   0000              	GLOBAL _ay_effect_20
918   0000              	GLOBAL _ay_effect_19
919   0000              	GLOBAL _ay_effect_18
920   0000              	GLOBAL _ay_effect_17
921   0000              	GLOBAL _ay_effect_16
922   0000              	GLOBAL _ay_effect_15
923   0000              	GLOBAL _ay_effect_14
924   0000              	GLOBAL _ay_effect_13
925   0000              	GLOBAL _ay_effect_12
926   0000              	GLOBAL _ay_effect_11
927   0000              	GLOBAL _ay_effect_10
928   0000              	GLOBAL _ay_effect_09
929   0000              	GLOBAL _ay_effect_08
930   0000              	GLOBAL _ay_effect_07
931   0000              	GLOBAL _ay_effect_06
932   0000              	GLOBAL _ay_effect_05
933   0000              	GLOBAL _ay_effect_04
934   0000              	GLOBAL _ay_effect_03
935   0000              	GLOBAL _ay_effect_02
936   0000              	GLOBAL _ay_effect_01
937   0000              	GLOBAL _pb_midi_phase_1
938   0000              	GLOBAL _pb_midi_title
939   0000              	GLOBAL _control_method
940   0000              	GLOBAL _world1_h
941   0000              	GLOBAL _world1_w
942   0000              	GLOBAL _world1
943   0000              	GLOBAL _paper1
944   0000              	GLOBAL _lenght1
945   0000              	GLOBAL _start_scr1
946   0000              	GLOBAL _world0_h
947   0000              	GLOBAL _world0_w
948   0000              	GLOBAL _world0
949   0000              	GLOBAL _paper0
950   0000              	GLOBAL _lenght0
951   0000              	GLOBAL _start_scr0
952   0000              ;--------------------------------------------------------
953   0000              ; special function registers
954   0000              ;--------------------------------------------------------
955   0000              defc _IO_FE	=	0x00fe
956   0000              defc _IO_1FFD	=	0x1ffd
957   0000              defc _IO_7FFD	=	0x7ffd
958   0000              ;--------------------------------------------------------
959   0000              ; ram data
960   0000              ;--------------------------------------------------------
961   0000              	SECTION bss_compiler
962   0000              ;--------------------------------------------------------
963   0000              ; ram data
964   0000              ;--------------------------------------------------------
965   0000              
966   0000              IF 0
967   0000              
968   0000              ; .area _INITIALIZED removed by z88dk
969   0000              
970   0000              
971   0000              ENDIF
972   0000              
973   0000              ;--------------------------------------------------------
974   0000              ; absolute external ram data
975   0000              ;--------------------------------------------------------
976   0000              	SECTION IGNORE
977   0000              ;--------------------------------------------------------
978   0000              ; global & static initialisations
979   0000              ;--------------------------------------------------------
980   0000              	SECTION code_crt_init
981   0000              ;--------------------------------------------------------
982   0000              ; Home
983   0000              ;--------------------------------------------------------
984   0000              	SECTION IGNORE
985   0000              ;--------------------------------------------------------
986   0000              ; code
987   0000              ;--------------------------------------------------------
988   0000              	SECTION code_compiler
989   0000              ;	---------------------------------
990   0000              ; Function game_loop
991   0000              ; ---------------------------------
992   0000              _game_loop:
993   0000              l_game_loop_00119:
994   0000  3A 00 00    	ld	a,(_game_over)
995   0003  B7          	or	a, a
996   0004  C2 CC 00    	jp	NZ, l_game_loop_00122
997   0007  CD 4A 06    	call	_game_round_init
998   000A              l_game_loop_00114:
999   000A  3A 00 00    	ld	a,(_game_worldup)
1000  000D  B7          	or	a, a
1001  000E  C2 A2 00    	jp	NZ, l_game_loop_00116
1002  0011  3A 00 00    	ld	a,(_game_over)
1003  0014  B7          	or	a, a
1004  0015  C2 A2 00    	jp	NZ, l_game_loop_00116
1005  0018  21 08 00    	ld	hl,0x0008
1006  001B  E5          	push	hl
1007  001C  2A 00 00    	ld	hl,(_anim_time)
1008  001F  E5          	push	hl
1009  0020  CD 46 0A    	call	_game_check_time
1010  0023  F1          	pop	af
1011  0024  F1          	pop	af
1012  0025  7D          	ld	a, l
1013  0026  B7          	or	a, a
1014  0027  28 14       	jr	Z,l_game_loop_00104
1015  0029  2E 00       	ld	l,0x00
1016  002B  CD 00 00    	call	_zx_border_fastcall
1017  002E  2A 00 00    	ld	hl,(_curr_time)
1018  0031  22 00 00    	ld	(_anim_time),hl
1019  0034  3A 00 00    	ld	a,(_anim_count)
1020  0037  B7          	or	a,a
1021  0038  28 03       	jr	Z,l_game_loop_00104
1022  003A  CD 00 00    	call	_spr_play_anim
1023  003D              l_game_loop_00104:
1024  003D  21 02 00    	ld	hl,0x0002
1025  0040  E5          	push	hl
1026  0041  2A 00 00    	ld	hl,(_bullet_time)
1027  0044  E5          	push	hl
1028  0045  CD 46 0A    	call	_game_check_time
1029  0048  F1          	pop	af
1030  0049  F1          	pop	af
1031  004A  7D          	ld	a, l
1032  004B  B7          	or	a, a
1033  004C  28 0F       	jr	Z,l_game_loop_00108
1034  004E  2A 00 00    	ld	hl,(_curr_time)
1035  0051  22 00 00    	ld	(_bullet_time),hl
1036  0054  3A 00 00    	ld	a,(_bullet_count)
1037  0057  B7          	or	a,a
1038  0058  28 03       	jr	Z,l_game_loop_00108
1039  005A  CD 00 00    	call	_spr_play_bullets
1040  005D              l_game_loop_00108:
1041  005D  21 64 00    	ld	hl,0x0064
1042  0060  E5          	push	hl
1043  0061  2A 00 00    	ld	hl,(_frame_time)
1044  0064  E5          	push	hl
1045  0065  CD 46 0A    	call	_game_check_time
1046  0068  F1          	pop	af
1047  0069  F1          	pop	af
1048  006A  7D          	ld	a, l
1049  006B  B7          	or	a, a
1050  006C  28 0C       	jr	Z,l_game_loop_00110
1051  006E  2A 00 00    	ld	hl,(_curr_time)
1052  0071  22 00 00    	ld	(_frame_time),hl
1053  0074  CD CD 00    	call	_game_fps
1054  0077  CD E4 00    	call	_game_respawn
1055  007A              l_game_loop_00110:
1056  007A  CD 00 00    	call	_enemy_turn
1057  007D  3A 00 00    	ld	a,(_game_boss)
1058  0080  B7          	or	a, a
1059  0081  28 03       	jr	Z,l_game_loop_00112
1060  0083  CD 00 00    	call	_boss_turn
1061  0086              l_game_loop_00112:
1062  0086  21 00 00    	ld	hl,_sprite
1063  0089  36 07       	ld	(hl),0x07
1064  008B  CD 00 00    	call	_player_turn
1065  008E  21 00 00    	ld	hl,_loop_count
1066  0091  34          	inc	(hl)
1067  0092  20 02       	jr	NZ,l_game_loop_00172
1068  0094  23          	inc	hl
1069  0095  34          	inc	(hl)
1070  0096              l_game_loop_00172:
1071  0096  21 00 00    	ld	hl,_fps
1072  0099  34          	inc	(hl)
1073  009A  C2 0A 00    	jp	NZ,l_game_loop_00114
1074  009D  23          	inc	hl
1075  009E  34          	inc	(hl)
1076  009F  C3 0A 00    	jp	l_game_loop_00114
1077  00A2              l_game_loop_00116:
1078  00A2  21 00 00    	ld	hl,_game_worldup
1079  00A5  7E          	ld	a, (hl)
1080  00A6  B7          	or	a, a
1081  00A7  CA 00 00    	jp	Z, l_game_loop_00119
1082  00AA  36 00       	ld	(hl),0x00
1083  00AC  21 00 00    	ld	hl,_game_respawn_curr_time
1084  00AF  7E          	ld	a, (hl)
1085  00B0  C6 E0       	add	a,0xe0
1086  00B2  77          	ld	(hl), a
1087  00B3  21 00 00    	ld	hl,_game_world
1088  00B6  34          	inc	(hl)
1089  00B7  21 00 00    	ld	hl,_game_boss_alive
1090  00BA  36 01       	ld	(hl),0x01
1091  00BC  21 00 00    	ld	hl,_game_boss
1092  00BF  36 00       	ld	(hl),0x00
1093  00C1  21 00 00    	ld	hl,_scr_curr
1094  00C4  36 FF       	ld	(hl),0xff
1095  00C6  CD 4A 06    	call	_game_round_init
1096  00C9  C3 00 00    	jp	l_game_loop_00119
1097  00CC              l_game_loop_00122:
1098  00CC  C9          	ret
1099  00CD              	SECTION code_compiler
1100  00CD              ;	---------------------------------
1101  00CD              ; Function game_fps
1102  00CD              ; ---------------------------------
1103  00CD              _game_fps:
1104  00CD  21 00 00    	ld	hl,_screen_ink
1105  00D0  36 07       	ld	(hl),0x07
1106  00D2  2A 00 00    	ld	hl,(_fps)
1107  00D5  E5          	push	hl
1108  00D6  21 17 18    	ld	hl,0x1817
1109  00D9  E5          	push	hl
1110  00DA  CD 00 00    	call	_zx_print_int
1111  00DD  21 00 00    	ld	hl,0x0000
1112  00E0  22 00 00    	ld	(_fps),hl
1113  00E3  C9          	ret
1114  00E4              	SECTION code_compiler
1115  00E4              ;	---------------------------------
1116  00E4              ; Function game_respawn
1117  00E4              ; ---------------------------------
1118  00E4              _game_respawn:
1119  00E4  21 00 00    	ld	hl,_sprite
1120  00E7  36 00       	ld	(hl),0x00
1121  00E9              l_game_respawn_00105:
1122  00E9  21 00 00    	ld	hl,_sprite
1123  00EC  7E          	ld	a, (hl)
1124  00ED  D6 07       	sub	a,0x07
1125  00EF  D2 7C 01    	jp	NC, l_game_respawn_00108
1126  00F2  6E          	ld	l, (hl)
1127  00F3  26 00       	ld	h,0x00
1128  00F5  29          	add	hl, hl
1129  00F6  11 00 00    	ld	de,_game_respawn_time
1130  00F9  19          	add	hl, de
1131  00FA  4E          	ld	c, (hl)
1132  00FB  23          	inc	hl
1133  00FC  7E          	ld	a,(hl)
1134  00FD  47          	ld	b,a
1135  00FE  B1          	or	a,c
1136  00FF  28 74       	jr	Z,l_game_respawn_00104
1137  0101  3A 00 00    	ld	a,(_game_respawn_curr_time)
1138  0104  5F          	ld	e,a
1139  0105  16 00       	ld	d,0x00
1140  0107  D5          	push	de
1141  0108  C5          	push	bc
1142  0109  CD 46 0A    	call	_game_check_time
1143  010C  F1          	pop	af
1144  010D  F1          	pop	af
1145  010E  7D          	ld	a, l
1146  010F  B7          	or	a, a
1147  0110  28 63       	jr	Z,l_game_respawn_00104
1148  0112  2A 00 00    	ld	hl,(_sprite)
1149  0115  26 00       	ld	h,0x00
1150  0117  01 00 00    	ld	bc,_game_respawn_index
1151  011A  09          	add	hl,bc
1152  011B  7E          	ld	a,(hl)
1153  011C  6F          	ld	l,a
1154  011D  26 00       	ld	h,0x00
1155  011F  22 00 00    	ld	(_index1),hl
1156  0122  4F          	ld	c,a
1157  0123  E6 0F       	and	a,0x0f
1158  0125  87          	add	a, a
1159  0126  32 00 00    	ld	(_s_col1),a
1160  0129  21 00 00    	ld	hl,_s_lin1
1161  012C  71          	ld	(hl),c
1162  012D  79          	ld	a,c
1163  012E  07          	rlca
1164  012F  07          	rlca
1165  0130  07          	rlca
1166  0131  07          	rlca
1167  0132  E6 0F       	and	a,0x0f
1168  0134  07          	rlca
1169  0135  07          	rlca
1170  0136  07          	rlca
1171  0137  07          	rlca
1172  0138  E6 F0       	and	a,0xf0
1173  013A  77          	ld	(hl), a
1174  013B  01 00 00    	ld	bc,_scr_map
1175  013E  2A 00 00    	ld	hl,(_index1)
1176  0141  09          	add	hl,bc
1177  0142  36 FF       	ld	(hl),0xff
1178  0144  2A 00 00    	ld	hl,(_sprite)
1179  0147  26 00       	ld	h,0x00
1180  0149  29          	add	hl, hl
1181  014A  11 00 00    	ld	de,_game_respawn_time
1182  014D  19          	add	hl, de
1183  014E  AF          	xor	a, a
1184  014F  77          	ld	(hl), a
1185  0150  23          	inc	hl
1186  0151  77          	ld	(hl), a
1187  0152  2A 00 00    	ld	hl,(_sprite)
1188  0155  26 00       	ld	h,0x00
1189  0157  01 00 00    	ld	bc,_game_respawn_tile
1190  015A  09          	add	hl,bc
1191  015B  7E          	ld	a,(hl)
1192  015C  F5          	push	af
1193  015D  33          	inc	sp
1194  015E  21 03 04    	ld	hl,0x0403
1195  0161  E5          	push	hl
1196  0162  2A 00 00    	ld	hl,(_s_col1)
1197  0165  26 8A       	ld	h,0x8a
1198  0167  3A 00 00    	ld	a,(_s_lin1)
1199  016A  E5          	push	hl
1200  016B  F5          	push	af
1201  016C  33          	inc	sp
1202  016D  CD 00 00    	call	_spr_add_anim
1203  0170  F1          	pop	af
1204  0171  F1          	pop	af
1205  0172  F1          	pop	af
1206  0173  18 07       	jr	l_game_respawn_00108
1207  0175              l_game_respawn_00104:
1208  0175  21 00 00    	ld	hl,_sprite
1209  0178  34          	inc	(hl)
1210  0179  C3 E9 00    	jp	l_game_respawn_00105
1211  017C              l_game_respawn_00108:
1212  017C  C9          	ret
1213  017D              	SECTION code_compiler
1214  017D              ;	---------------------------------
1215  017D              ; Function game_draw_screen
1216  017D              ; ---------------------------------
1217  017D              _game_draw_screen:
1218  017D  CD 00 00    	call	___sdcc_enter_ix
1219  0180  3B          	dec	sp
1220  0181  76          	halt
1221  0182  21 00 00    	ld	hl,_game_boss
1222  0185  36 00       	ld	(hl),0x00
1223  0187  21 00 00    	ld	hl,_game_boss_fix
1224  018A  36 00       	ld	(hl),0x00
1225  018C  2A 00 00    	ld	hl,(_curr_time)
1226  018F  22 00 00    	ld	(_player_brick_time),hl
1227  0192  21 00 00    	ld	hl,_spr_count
1228  0195  36 00       	ld	(hl),0x00
1229  0197  01 00 00    	ld	bc,_game_respawn_time+0
1230  019A              l_game_draw_screen_00101:
1231  019A  21 00 00    	ld	hl,_spr_count
1232  019D  7E          	ld	a, (hl)
1233  019E  D6 07       	sub	a,0x07
1234  01A0  30 46       	jr	NC,l_game_draw_screen_00103
1235  01A2  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1236  01A4  86          	add	a, (hl)
1237  01A5  5F          	ld	e, a
1238  01A6  3E 00       	ld	a, +((_game_respawn_index) / 256)
1239  01A8  CE 00       	adc	a,0x00
1240  01AA  57          	ld	d, a
1241  01AB  AF          	xor	a, a
1242  01AC  12          	ld	(de), a
1243  01AD  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1244  01AF  86          	add	a, (hl)
1245  01B0  5F          	ld	e, a
1246  01B1  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1247  01B3  CE 00       	adc	a,0x00
1248  01B5  57          	ld	d, a
1249  01B6  AF          	xor	a, a
1250  01B7  12          	ld	(de), a
1251  01B8  6E          	ld	l,(hl)
1252  01B9  26 00       	ld	h,0x00
1253  01BB  29          	add	hl, hl
1254  01BC  09          	add	hl, bc
1255  01BD  AF          	xor	a, a
1256  01BE  77          	ld	(hl), a
1257  01BF  23          	inc	hl
1258  01C0  77          	ld	(hl), a
1259  01C1  2A 00 00    	ld	hl,(_spr_count)
1260  01C4  26 00       	ld	h,0x00
1261  01C6  11 00 00    	ld	de,_mush_index
1262  01C9  19          	add	hl,de
1263  01CA  AF          	xor	a,a
1264  01CB  77          	ld	(hl),a
1265  01CC  2A 00 00    	ld	hl,(_spr_count)
1266  01CF  26 00       	ld	h,0x00
1267  01D1  11 00 00    	ld	de,_mush_class
1268  01D4  19          	add	hl,de
1269  01D5  AF          	xor	a,a
1270  01D6  77          	ld	(hl),a
1271  01D7  2A 00 00    	ld	hl,(_spr_count)
1272  01DA  26 00       	ld	h,0x00
1273  01DC  11 00 00    	ld	de,_class
1274  01DF  19          	add	hl,de
1275  01E0  AF          	xor	a,a
1276  01E1  77          	ld	(hl),a
1277  01E2  21 00 00    	ld	hl,_spr_count
1278  01E5  34          	inc	(hl)
1279  01E6  18 B2       	jr	l_game_draw_screen_00101
1280  01E8              l_game_draw_screen_00103:
1281  01E8  21 10 00    	ld	hl,0x0010
1282  01EB  22 00 00    	ld	(_index1),hl
1283  01EE  21 00 00    	ld	hl,_s_lin1
1284  01F1  36 00       	ld	(hl),0x00
1285  01F3  21 00 00    	ld	hl,_s_col1
1286  01F6  36 02       	ld	(hl),0x02
1287  01F8  21 00 00    	ld	hl,_spr_count
1288  01FB  36 00       	ld	(hl),0x00
1289  01FD  F3          	di
1290  01FE  DD 36 FF 00 	ld	(ix-1),0x00
1291  0202              l_game_draw_screen_00121:
1292  0202  21 00 00    	ld	hl,_index1
1293  0205  7E          	ld	a, (hl)
1294  0206  D6 A0       	sub	a,0xa0
1295  0208  23          	inc	hl
1296  0209  7E          	ld	a, (hl)
1297  020A  DE 00       	sbc	a,0x00
1298  020C  D2 16 03    	jp	NC, l_game_draw_screen_00123
1299  020F  2B          	dec	hl
1300  0210  7E          	ld	a, (hl)
1301  0211  E6 0F       	and	a,0x0f
1302  0213  20 0C       	jr	NZ,l_game_draw_screen_00105
1303  0215  21 00 00    	ld	hl,_s_lin1
1304  0218  7E          	ld	a, (hl)
1305  0219  C6 10       	add	a,0x10
1306  021B  77          	ld	(hl), a
1307  021C  21 00 00    	ld	hl,_s_col1
1308  021F  36 00       	ld	(hl),0x00
1309  0221              l_game_draw_screen_00105:
1310  0221  01 00 00    	ld	bc,_scr_map
1311  0224  2A 00 00    	ld	hl,(_index1)
1312  0227  09          	add	hl,bc
1313  0228  7E          	ld	a,(hl)
1314  0229  FE 60       	cp	a,0x60
1315  022B  30 38       	jr	NC,l_game_draw_screen_00119
1316  022D  FE 5C       	cp	a,0x5c
1317  022F  28 04       	jr	Z,l_game_draw_screen_00109
1318  0231  D6 5D       	sub	a,0x5d
1319  0233  20 17       	jr	NZ,l_game_draw_screen_00107
1320  0235              l_game_draw_screen_00109:
1321  0235  2A 00 00    	ld	hl,(_index1)
1322  0238  01 F0 FF    	ld	bc,0xfff0
1323  023B  09          	add	hl,bc
1324  023C  CD EF 0D    	call	_game_obj_chk
1325  023F  7D          	ld	a, l
1326  0240  B7          	or	a, a
1327  0241  28 09       	jr	Z,l_game_draw_screen_00107
1328  0243  01 00 00    	ld	bc,_scr_map
1329  0246  2A 00 00    	ld	hl,(_index1)
1330  0249  09          	add	hl,bc
1331  024A  36 4F       	ld	(hl),0x4f
1332  024C              l_game_draw_screen_00107:
1333  024C  01 00 00    	ld	bc,_scr_map
1334  024F  2A 00 00    	ld	hl,(_index1)
1335  0252  09          	add	hl,bc
1336  0253  46          	ld	b, (hl)
1337  0254  3A 00 00    	ld	a,(_s_col1)
1338  0257  F5          	push	af
1339  0258  33          	inc	sp
1340  0259  3A 00 00    	ld	a,(_s_lin1)
1341  025C  48          	ld	c,b
1342  025D  47          	ld	b,a
1343  025E  C5          	push	bc
1344  025F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1345  0262  C3 05 03    	jp	l_game_draw_screen_00120
1346  0265              l_game_draw_screen_00119:
1347  0265  D6 78       	sub	a,0x78
1348  0267  30 3E       	jr	NC,l_game_draw_screen_00116
1349  0269  3A 00 00    	ld	a,(_spr_count)
1350  026C  D6 08       	sub	a,0x08
1351  026E  30 6C       	jr	NC,l_game_draw_screen_00117
1352  0270  3A 00 00    	ld	a,(_game_boss_alive)
1353  0273  B7          	or	a, a
1354  0274  28 66       	jr	Z,l_game_draw_screen_00117
1355  0276  2A 00 00    	ld	hl,(_spr_count)
1356  0279  26 00       	ld	h,0x00
1357  027B  01 00 00    	ld	bc,_game_respawn_index
1358  027E  09          	add	hl,bc
1359  027F  3A 00 00    	ld	a,(_index1)
1360  0282  77          	ld	(hl),a
1361  0283  2A 00 00    	ld	hl,(_spr_count)
1362  0286  26 00       	ld	h,0x00
1363  0288  01 00 00    	ld	bc,_game_respawn_tile
1364  028B  09          	add	hl,bc
1365  028C  4D          	ld	c,l
1366  028D  44          	ld	b,h
1367  028E  2A 00 00    	ld	hl,(_index1)
1368  0291  11 00 00    	ld	de,_scr_map
1369  0294  19          	add	hl,de
1370  0295  7E          	ld	a,(hl)
1371  0296  02          	ld	(bc),a
1372  0297  01 00 00    	ld	bc,_scr_map
1373  029A  2A 00 00    	ld	hl,(_index1)
1374  029D  09          	add	hl,bc
1375  029E  7E          	ld	a,(hl)
1376  029F  F5          	push	af
1377  02A0  33          	inc	sp
1378  02A1  CD 24 03    	call	_game_add_enemy
1379  02A4  33          	inc	sp
1380  02A5  18 35       	jr	l_game_draw_screen_00117
1381  02A7              l_game_draw_screen_00116:
1382  02A7  2A 00 00    	ld	hl,(_index1)
1383  02AA  CD EF 0D    	call	_game_obj_chk
1384  02AD  7D          	ld	a, l
1385  02AE  B7          	or	a, a
1386  02AF  20 2B       	jr	NZ,l_game_draw_screen_00117
1387  02B1  3E 00       	ld	a, +((_mush_index) & 0xFF)
1388  02B3  DD 86 FF    	add	a,(ix-1)
1389  02B6  4F          	ld	c, a
1390  02B7  3E 00       	ld	a, +((_mush_index) / 256)
1391  02B9  CE 00       	adc	a,0x00
1392  02BB  47          	ld	b, a
1393  02BC  21 00 00    	ld	hl,_index1
1394  02BF  7E          	ld	a, (hl)
1395  02C0  C6 10       	add	a,0x10
1396  02C2  02          	ld	(bc), a
1397  02C3  3E 00       	ld	a, +((_mush_class) & 0xFF)
1398  02C5  DD 86 FF    	add	a,(ix-1)
1399  02C8  4F          	ld	c, a
1400  02C9  3E 00       	ld	a, +((_mush_class) / 256)
1401  02CB  CE 00       	adc	a,0x00
1402  02CD  47          	ld	b, a
1403  02CE  3E 00       	ld	a, +((_scr_map) & 0xFF)
1404  02D0  86          	add	a, (hl)
1405  02D1  5F          	ld	e, a
1406  02D2  3E 00       	ld	a, +((_scr_map) / 256)
1407  02D4  23          	inc	hl
1408  02D5  8E          	adc	a, (hl)
1409  02D6  57          	ld	d, a
1410  02D7  1A          	ld	a, (de)
1411  02D8  02          	ld	(bc), a
1412  02D9  DD 34 FF    	inc	(ix-1)
1413  02DC              l_game_draw_screen_00117:
1414  02DC  2A 00 00    	ld	hl,(_index1)
1415  02DF  01 00 00    	ld	bc,_scr_map
1416  02E2  09          	add	hl,bc
1417  02E3  E5          	push	hl
1418  02E4  2A 00 00    	ld	hl,(_index1)
1419  02E7  E5          	push	hl
1420  02E8  CD 44 0F    	call	_game_match_back
1421  02EB  F1          	pop	af
1422  02EC  C1          	pop	bc
1423  02ED  7D          	ld	a,l
1424  02EE  02          	ld	(bc), a
1425  02EF  01 00 00    	ld	bc,_scr_map
1426  02F2  2A 00 00    	ld	hl,(_index1)
1427  02F5  09          	add	hl,bc
1428  02F6  46          	ld	b, (hl)
1429  02F7  3A 00 00    	ld	a,(_s_col1)
1430  02FA  F5          	push	af
1431  02FB  33          	inc	sp
1432  02FC  3A 00 00    	ld	a,(_s_lin1)
1433  02FF  48          	ld	c,b
1434  0300  47          	ld	b,a
1435  0301  C5          	push	bc
1436  0302  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1437  0305              l_game_draw_screen_00120:
1438  0305  21 00 00    	ld	hl,_s_col1
1439  0308  34          	inc	(hl)
1440  0309  34          	inc	(hl)
1441  030A  21 00 00    	ld	hl,_index1
1442  030D  34          	inc	(hl)
1443  030E  C2 02 02    	jp	NZ,l_game_draw_screen_00121
1444  0311  23          	inc	hl
1445  0312  34          	inc	(hl)
1446  0313  C3 02 02    	jp	l_game_draw_screen_00121
1447  0316              l_game_draw_screen_00123:
1448  0316  FB          	ei
1449  0317  3A 00 00    	ld	a,(_game_boss_fix)
1450  031A  B7          	or	a, a
1451  031B  28 03       	jr	Z,l_game_draw_screen_00126
1452  031D  CD 70 0E    	call	_game_boss_clear
1453  0320              l_game_draw_screen_00126:
1454  0320  33          	inc	sp
1455  0321  DD E1       	pop	ix
1456  0323  C9          	ret
1457  0324              	SECTION code_compiler
1458  0324              ;	---------------------------------
1459  0324              ; Function game_add_enemy
1460  0324              ; ---------------------------------
1461  0324              _game_add_enemy:
1462  0324  CD 00 00    	call	___sdcc_enter_ix
1463  0327  DD 7E 04    	ld	a,(ix+4)
1464  032A  D6 74       	sub	a,0x74
1465  032C  28 53       	jr	Z,l_game_add_enemy_00114
1466  032E  21 00 00    	ld	hl,_tmp0
1467  0331  36 00       	ld	(hl),0x00
1468  0333              l_game_add_enemy_00104:
1469  0333  21 00 00    	ld	hl,_tmp0
1470  0336  7E          	ld	a, (hl)
1471  0337  D6 12       	sub	a,0x12
1472  0339  D2 C5 03    	jp	NC, l_game_add_enemy_00116
1473  033C  7E          	ld	a, (hl)
1474  033D  4F          	ld	c, a
1475  033E  87          	add	a, a
1476  033F  81          	add	a, c
1477  0340  21 00 00    	ld	hl,_tmp1
1478  0343  77          	ld	(hl), a
1479  0344  C6 00       	add	a,+((_spr_init) & 0xFF)
1480  0346  4F          	ld	c, a
1481  0347  3E 00       	ld	a, +((_spr_init) / 256)
1482  0349  CE 00       	adc	a,0x00
1483  034B  47          	ld	b, a
1484  034C  0A          	ld	a, (bc)
1485  034D  4F          	ld	c, a
1486  034E  DD 7E 04    	ld	a,(ix+4)
1487  0351  91          	sub	a, c
1488  0352  20 27       	jr	NZ,l_game_add_enemy_00102
1489  0354  4E          	ld	c, (hl)
1490  0355  06 00       	ld	b,0x00
1491  0357  59          	ld	e, c
1492  0358  50          	ld	d, b
1493  0359  13          	inc	de
1494  035A  13          	inc	de
1495  035B  21 00 00    	ld	hl,_spr_init
1496  035E  19          	add	hl, de
1497  035F  56          	ld	d, (hl)
1498  0360  03          	inc	bc
1499  0361  21 00 00    	ld	hl,_spr_init
1500  0364  09          	add	hl, bc
1501  0365  5E          	ld	e, (hl)
1502  0366  D5          	push	de
1503  0367  2A FF FF    	ld	hl,(_s_col1 - 1)
1504  036A  3A 00 00    	ld	a,(_s_lin1)
1505  036D  6F          	ld	l,a
1506  036E  E5          	push	hl
1507  036F  CD 00 00    	call	_enemy_init
1508  0372  F1          	pop	af
1509  0373  F1          	pop	af
1510  0374  21 00 00    	ld	hl,_tmp0
1511  0377  36 FF       	ld	(hl),0xff
1512  0379  18 B8       	jr	l_game_add_enemy_00104
1513  037B              l_game_add_enemy_00102:
1514  037B  21 00 00    	ld	hl,_tmp0
1515  037E  34          	inc	(hl)
1516  037F  18 B2       	jr	l_game_add_enemy_00104
1517  0381              l_game_add_enemy_00114:
1518  0381  3A 00 00    	ld	a,(_game_boss)
1519  0384  B7          	or	a, a
1520  0385  20 33       	jr	NZ,l_game_add_enemy_00110
1521  0387  3A 00 00    	ld	a,(_game_boss_alive)
1522  038A  B7          	or	a, a
1523  038B  28 2D       	jr	Z,l_game_add_enemy_00110
1524  038D  3A 00 00    	ld	a,(_s_lin1)
1525  0390  32 00 00    	ld	(_boss_lin),a
1526  0393  3A 00 00    	ld	a,(_s_col1)
1527  0396  32 00 00    	ld	(_boss_col),a
1528  0399  21 00 00    	ld	hl,_screen_ink
1529  039C  36 07       	ld	(hl),0x07
1530  039E  21 C8 00    	ld	hl,0x00c8
1531  03A1  CD 00 00    	call	_z80_delay_ms_fastcall
1532  03A4  21 00 00    	ld	hl,_boss_tile
1533  03A7  36 D8       	ld	(hl),0xd8
1534  03A9  21 00 00    	ld	hl,_boss_stat
1535  03AC  36 01       	ld	(hl),0x01
1536  03AE  21 00 00    	ld	hl,_game_boss
1537  03B1  36 01       	ld	(hl),0x01
1538  03B3  21 00 00    	ld	hl,_game_boss_hit
1539  03B6  36 08       	ld	(hl),0x08
1540  03B8  18 0B       	jr	l_game_add_enemy_00116
1541  03BA              l_game_add_enemy_00110:
1542  03BA  3A 00 00    	ld	a,(_game_boss)
1543  03BD  B7          	or	a, a
1544  03BE  20 05       	jr	NZ,l_game_add_enemy_00116
1545  03C0  21 00 00    	ld	hl,_game_boss_fix
1546  03C3  36 01       	ld	(hl),0x01
1547  03C5              l_game_add_enemy_00116:
1548  03C5  DD E1       	pop	ix
1549  03C7  C9          	ret
1550  03C8              	SECTION code_compiler
1551  03C8              ;	---------------------------------
1552  03C8              ; Function game_print_footer
1553  03C8              ; ---------------------------------
1554  03C8              _game_print_footer:
1555  03C8  21 00 00    	ld	hl,_screen_ink
1556  03CB  36 05       	ld	(hl),0x05
1557  03CD  21 13 62    	ld	hl,0x6213
1558  03D0  E5          	push	hl
1559  03D1  CD 00 00    	call	_game_fill_row
1560  03D4  21 00 00    	ld	hl,___str_0
1561  03D7  E5          	push	hl
1562  03D8  21 13 00    	ld	hl,0x0013
1563  03DB  E5          	push	hl
1564  03DC  CD 00 00    	call	_zx_print_str
1565  03DF  21 02 00    	ld	hl,___str_1
1566  03E2  E5          	push	hl
1567  03E3  21 13 1F    	ld	hl,0x1f13
1568  03E6  E5          	push	hl
1569  03E7  CD 00 00    	call	_zx_print_str
1570  03EA  21 04 00    	ld	hl,___str_2
1571  03ED  E5          	push	hl
1572  03EE  21 14 00    	ld	hl,0x0014
1573  03F1  E5          	push	hl
1574  03F2  CD 00 00    	call	_zx_print_str
1575  03F5  21 06 00    	ld	hl,___str_3
1576  03F8  E5          	push	hl
1577  03F9  21 14 1F    	ld	hl,0x1f14
1578  03FC  E5          	push	hl
1579  03FD  CD 00 00    	call	_zx_print_str
1580  0400  21 04 00    	ld	hl,___str_2
1581  0403  E5          	push	hl
1582  0404  21 15 00    	ld	hl,0x0015
1583  0407  E5          	push	hl
1584  0408  CD 00 00    	call	_zx_print_str
1585  040B  21 06 00    	ld	hl,___str_3
1586  040E  E5          	push	hl
1587  040F  21 15 1F    	ld	hl,0x1f15
1588  0412  E5          	push	hl
1589  0413  CD 00 00    	call	_zx_print_str
1590  0416  21 04 00    	ld	hl,___str_2
1591  0419  E5          	push	hl
1592  041A  21 16 00    	ld	hl,0x0016
1593  041D  E5          	push	hl
1594  041E  CD 00 00    	call	_zx_print_str
1595  0421  21 06 00    	ld	hl,___str_3
1596  0424  E5          	push	hl
1597  0425  21 16 1F    	ld	hl,0x1f16
1598  0428  E5          	push	hl
1599  0429  CD 00 00    	call	_zx_print_str
1600  042C  21 17 62    	ld	hl,0x6217
1601  042F  E5          	push	hl
1602  0430  CD 00 00    	call	_game_fill_row
1603  0433  21 08 00    	ld	hl,___str_4
1604  0436  E5          	push	hl
1605  0437  21 17 00    	ld	hl,0x0017
1606  043A  E5          	push	hl
1607  043B  CD 00 00    	call	_zx_print_str
1608  043E  21 0A 00    	ld	hl,___str_5
1609  0441  E5          	push	hl
1610  0442  21 17 1F    	ld	hl,0x1f17
1611  0445  E5          	push	hl
1612  0446  CD 00 00    	call	_zx_print_str
1613  0449  21 00 00    	ld	hl,_screen_ink
1614  044C  36 05       	ld	(hl),0x05
1615  044E  21 0C 00    	ld	hl,___str_6
1616  0451  E5          	push	hl
1617  0452  21 14 01    	ld	hl,0x0114
1618  0455  E5          	push	hl
1619  0456  CD 00 00    	call	_zx_print_str
1620  0459  21 00 00    	ld	hl,_screen_ink
1621  045C  36 06       	ld	(hl),0x06
1622  045E  21 0E 00    	ld	hl,___str_7
1623  0461  E5          	push	hl
1624  0462  21 15 01    	ld	hl,0x0115
1625  0465  E5          	push	hl
1626  0466  CD 00 00    	call	_zx_print_str
1627  0469  21 00 00    	ld	hl,_screen_ink
1628  046C  36 42       	ld	(hl),0x42
1629  046E  21 10 00    	ld	hl,___str_8
1630  0471  E5          	push	hl
1631  0472  21 14 08    	ld	hl,0x0814
1632  0475  E5          	push	hl
1633  0476  CD 00 00    	call	_zx_print_str
1634  0479  21 00 00    	ld	hl,_screen_ink
1635  047C  36 03       	ld	(hl),0x03
1636  047E  21 12 00    	ld	hl,___str_9
1637  0481  E5          	push	hl
1638  0482  21 15 08    	ld	hl,0x0815
1639  0485  E5          	push	hl
1640  0486  CD 00 00    	call	_zx_print_str
1641  0489  21 00 00    	ld	hl,_screen_ink
1642  048C  36 47       	ld	(hl),0x47
1643  048E  21 14 00    	ld	hl,___str_10
1644  0491  E5          	push	hl
1645  0492  21 14 0F    	ld	hl,0x0f14
1646  0495  E5          	push	hl
1647  0496  CD 00 00    	call	_zx_print_str
1648  0499  21 00 00    	ld	hl,_screen_ink
1649  049C  36 05       	ld	(hl),0x05
1650  049E  21 16 00    	ld	hl,___str_11
1651  04A1  E5          	push	hl
1652  04A2  21 15 0F    	ld	hl,0x0f15
1653  04A5  E5          	push	hl
1654  04A6  CD 00 00    	call	_zx_print_str
1655  04A9  21 00 00    	ld	hl,_screen_ink
1656  04AC  36 45       	ld	(hl),0x45
1657  04AE  21 18 00    	ld	hl,___str_12
1658  04B1  E5          	push	hl
1659  04B2  21 14 15    	ld	hl,0x1514
1660  04B5  E5          	push	hl
1661  04B6  CD 00 00    	call	_zx_print_str
1662  04B9  21 00 00    	ld	hl,_screen_ink
1663  04BC  36 07       	ld	(hl),0x07
1664  04BE  21 1A 00    	ld	hl,___str_13
1665  04C1  E5          	push	hl
1666  04C2  21 15 15    	ld	hl,0x1515
1667  04C5  E5          	push	hl
1668  04C6  CD 00 00    	call	_zx_print_str
1669  04C9  21 1C 00    	ld	hl,___str_14
1670  04CC  E5          	push	hl
1671  04CD  21 17 14    	ld	hl,0x1417
1672  04D0  E5          	push	hl
1673  04D1  CD 00 00    	call	_zx_print_str
1674  04D4  21 00 00    	ld	hl,_screen_ink
1675  04D7  36 06       	ld	(hl),0x06
1676  04D9  21 21 00    	ld	hl,___str_15
1677  04DC  E5          	push	hl
1678  04DD  21 16 07    	ld	hl,0x0716
1679  04E0  E5          	push	hl
1680  04E1  CD 00 00    	call	_zx_print_str
1681  04E4  21 23 00    	ld	hl,___str_16
1682  04E7  E5          	push	hl
1683  04E8  21 16 0D    	ld	hl,0x0d16
1684  04EB  E5          	push	hl
1685  04EC  CD 00 00    	call	_zx_print_str
1686  04EF  21 25 00    	ld	hl,___str_17
1687  04F2  E5          	push	hl
1688  04F3  21 16 13    	ld	hl,0x1316
1689  04F6  E5          	push	hl
1690  04F7  CD 00 00    	call	_zx_print_str
1691  04FA  21 27 00    	ld	hl,___str_18
1692  04FD  E5          	push	hl
1693  04FE  21 16 19    	ld	hl,0x1916
1694  0501  E5          	push	hl
1695  0502  CD 00 00    	call	_zx_print_str
1696  0505  CD 2A 05    	call	_game_update_stats
1697  0508  C9          	ret
1698  0509              	SECTION rodata_compiler
1699  0000              ___str_0:
1700  0000  61          	DEFM "a"
1701  0001  00          	DEFB 0x00
1702  0002              	SECTION rodata_compiler
1703  0002              ___str_1:
1704  0002  63          	DEFM "c"
1705  0003  00          	DEFB 0x00
1706  0004              	SECTION rodata_compiler
1707  0004              ___str_2:
1708  0004  64          	DEFM "d"
1709  0005  00          	DEFB 0x00
1710  0006              	SECTION rodata_compiler
1711  0006              ___str_3:
1712  0006  65          	DEFM "e"
1713  0007  00          	DEFB 0x00
1714  0008              	SECTION rodata_compiler
1715  0008              ___str_4:
1716  0008  66          	DEFM "f"
1717  0009  00          	DEFB 0x00
1718  000A              	SECTION rodata_compiler
1719  000A              ___str_5:
1720  000A  67          	DEFM "g"
1721  000B  00          	DEFB 0x00
1722  000C              	SECTION rodata_compiler
1723  000C              ___str_6:
1724  000C  3C          	DEFM "<"
1725  000D  00          	DEFB 0x00
1726  000E              	SECTION rodata_compiler
1727  000E              ___str_7:
1728  000E  5C          	DEFB 0x5c
1729  000F  00          	DEFB 0x00
1730  0010              	SECTION rodata_compiler
1731  0010              ___str_8:
1732  0010  3E          	DEFM ">"
1733  0011  00          	DEFB 0x00
1734  0012              	SECTION rodata_compiler
1735  0012              ___str_9:
1736  0012  5E          	DEFM "^"
1737  0013  00          	DEFB 0x00
1738  0014              	SECTION rodata_compiler
1739  0014              ___str_10:
1740  0014  3F          	DEFM "?"
1741  0015  00          	DEFB 0x00
1742  0016              	SECTION rodata_compiler
1743  0016              ___str_11:
1744  0016  5F          	DEFM "_"
1745  0017  00          	DEFB 0x00
1746  0018              	SECTION rodata_compiler
1747  0018              ___str_12:
1748  0018  78          	DEFM "x"
1749  0019  00          	DEFB 0x00
1750  001A              	SECTION rodata_compiler
1751  001A              ___str_13:
1752  001A  79          	DEFM "y"
1753  001B  00          	DEFB 0x00
1754  001C              	SECTION rodata_compiler
1755  001C              ___str_14:
1756  001C  4C 50 53 3A 	DEFM "LPS:"
1757  0020  00          	DEFB 0x00
1758  0021              	SECTION rodata_compiler
1759  0021              ___str_15:
1760  0021  6C          	DEFM "l"
1761  0022  00          	DEFB 0x00
1762  0023              	SECTION rodata_compiler
1763  0023              ___str_16:
1764  0023  6D          	DEFM "m"
1765  0024  00          	DEFB 0x00
1766  0025              	SECTION rodata_compiler
1767  0025              ___str_17:
1768  0025  6E          	DEFM "n"
1769  0026  00          	DEFB 0x00
1770  0027              	SECTION rodata_compiler
1771  0027              ___str_18:
1772  0027  6F          	DEFM "o"
1773  0028  00          	DEFB 0x00
1774  0029              	SECTION code_compiler
1775  0509              ;	---------------------------------
1776  0509              ; Function game_print_score
1777  0509              ; ---------------------------------
1778  0509              _game_print_score:
1779  0509  21 00 00    	ld	hl,_screen_ink
1780  050C  36 07       	ld	(hl),0x07
1781  050E  21 00 00    	ld	hl,_screen_paper
1782  0511  36 00       	ld	(hl),0x00
1783  0513  2A 00 00    	ld	hl,(_player_score)
1784  0516  E5          	push	hl
1785  0517  21 14 17    	ld	hl,0x1714
1786  051A  E5          	push	hl
1787  051B  CD 00 00    	call	_zx_print_int
1788  051E  2A 00 00    	ld	hl,(_game_score_top)
1789  0521  E5          	push	hl
1790  0522  21 00 0E    	ld	hl,0x0e00
1791  0525  E5          	push	hl
1792  0526  CD 00 00    	call	_zx_print_int
1793  0529  C9          	ret
1794  052A              	SECTION code_compiler
1795  052A              ;	---------------------------------
1796  052A              ; Function game_update_stats
1797  052A              ; ---------------------------------
1798  052A              _game_update_stats:
1799  052A  21 00 00    	ld	hl,_screen_ink
1800  052D  36 07       	ld	(hl),0x07
1801  052F  3A 00 00    	ld	a,(_player_lives)
1802  0532  F5          	push	af
1803  0533  33          	inc	sp
1804  0534  21 14 03    	ld	hl,0x0314
1805  0537  E5          	push	hl
1806  0538  CD 00 00    	call	_zx_print_chr
1807  053B  3A 00 00    	ld	a,(_player_coins)
1808  053E  F5          	push	af
1809  053F  33          	inc	sp
1810  0540  21 16 09    	ld	hl,0x0916
1811  0543  E5          	push	hl
1812  0544  CD 00 00    	call	_zx_print_chr
1813  0547  3A 00 00    	ld	a,(_player_str)
1814  054A  F5          	push	af
1815  054B  33          	inc	sp
1816  054C  21 16 0F    	ld	hl,0x0f16
1817  054F  E5          	push	hl
1818  0550  CD 00 00    	call	_zx_print_chr
1819  0553  3A 00 00    	ld	a,(_player_int)
1820  0556  F5          	push	af
1821  0557  33          	inc	sp
1822  0558  21 16 15    	ld	hl,0x1516
1823  055B  E5          	push	hl
1824  055C  CD 00 00    	call	_zx_print_chr
1825  055F  3A 00 00    	ld	a,(_player_lvl)
1826  0562  F5          	push	af
1827  0563  33          	inc	sp
1828  0564  21 16 1B    	ld	hl,0x1b16
1829  0567  E5          	push	hl
1830  0568  CD 00 00    	call	_zx_print_chr
1831  056B  21 00 00    	ld	hl,_screen_ink
1832  056E  36 02       	ld	(hl),0x02
1833  0570  3A 00 00    	ld	a,(_player_vita)
1834  0573  F5          	push	af
1835  0574  33          	inc	sp
1836  0575  21 14 0A    	ld	hl,0x0a14
1837  0578  E5          	push	hl
1838  0579  CD 00 00    	call	_zx_print_chr
1839  057C  21 00 00    	ld	hl,_screen_ink
1840  057F  36 01       	ld	(hl),0x01
1841  0581  3A 00 00    	ld	a,(_player_mana)
1842  0584  F5          	push	af
1843  0585  33          	inc	sp
1844  0586  21 14 11    	ld	hl,0x1114
1845  0589  E5          	push	hl
1846  058A  CD 00 00    	call	_zx_print_chr
1847  058D  3A 00 00    	ld	a,(_game_boss)
1848  0590  B7          	or	a, a
1849  0591  28 46       	jr	Z,l_game_update_stats_00106
1850  0593  21 13 10    	ld	hl,0x1013
1851  0596  E5          	push	hl
1852  0597  3E 0B       	ld	a,0x0b
1853  0599  F5          	push	af
1854  059A  33          	inc	sp
1855  059B  CD 08 09    	call	_game_paint_attrib_lin_osd
1856  059E  F1          	pop	af
1857  059F  33          	inc	sp
1858  05A0  21 00 00    	ld	hl,_tmp0
1859  05A3  36 00       	ld	(hl),0x00
1860  05A5              l_game_update_stats_00115:
1861  05A5  21 00 00    	ld	hl,_tmp0
1862  05A8  7E          	ld	a, (hl)
1863  05A9  C6 0B       	add	a,0x0b
1864  05AB  47          	ld	b, a
1865  05AC  7E          	ld	a, (hl)
1866  05AD  21 00 00    	ld	hl,_game_boss_hit
1867  05B0  96          	sub	a, (hl)
1868  05B1  30 0F       	jr	NC,l_game_update_stats_00102
1869  05B3  21 29 00    	ld	hl,___str_19
1870  05B6  E5          	push	hl
1871  05B7  C5          	push	bc
1872  05B8  33          	inc	sp
1873  05B9  3E 01       	ld	a,0x01
1874  05BB  F5          	push	af
1875  05BC  33          	inc	sp
1876  05BD  CD 00 00    	call	_zx_print_str
1877  05C0  18 0D       	jr	l_game_update_stats_00116
1878  05C2              l_game_update_stats_00102:
1879  05C2  21 2B 00    	ld	hl,___str_20
1880  05C5  E5          	push	hl
1881  05C6  C5          	push	bc
1882  05C7  33          	inc	sp
1883  05C8  3E 01       	ld	a,0x01
1884  05CA  F5          	push	af
1885  05CB  33          	inc	sp
1886  05CC  CD 00 00    	call	_zx_print_str
1887  05CF              l_game_update_stats_00116:
1888  05CF  21 00 00    	ld	hl,_tmp0
1889  05D2  7E          	ld	a,(hl)
1890  05D3  3C          	inc	a
1891  05D4  77          	ld	(hl),a
1892  05D5  D6 08       	sub	a,0x08
1893  05D7  38 CC       	jr	C,l_game_update_stats_00115
1894  05D9              l_game_update_stats_00106:
1895  05D9  3A 00 00    	ld	a,(_player_keys)
1896  05DC  B7          	or	a, a
1897  05DD  28 10       	jr	Z,l_game_update_stats_00108
1898  05DF  21 00 00    	ld	hl,_screen_ink
1899  05E2  36 07       	ld	(hl),0x07
1900  05E4  21 2D 00    	ld	hl,___str_21
1901  05E7  E5          	push	hl
1902  05E8  21 16 02    	ld	hl,0x0216
1903  05EB  E5          	push	hl
1904  05EC  CD 00 00    	call	_zx_print_str
1905  05EF              l_game_update_stats_00108:
1906  05EF  3A 01 00    	ld	a, (_player_keys + 1)
1907  05F2  B7          	or	a, a
1908  05F3  28 10       	jr	Z,l_game_update_stats_00110
1909  05F5  21 00 00    	ld	hl,_screen_ink
1910  05F8  36 02       	ld	(hl),0x02
1911  05FA  21 2D 00    	ld	hl,___str_21
1912  05FD  E5          	push	hl
1913  05FE  21 16 03    	ld	hl,0x0316
1914  0601  E5          	push	hl
1915  0602  CD 00 00    	call	_zx_print_str
1916  0605              l_game_update_stats_00110:
1917  0605  3A 02 00    	ld	a, (_player_keys + 2)
1918  0608  B7          	or	a, a
1919  0609  28 10       	jr	Z,l_game_update_stats_00112
1920  060B  21 00 00    	ld	hl,_screen_ink
1921  060E  36 04       	ld	(hl),0x04
1922  0610  21 2D 00    	ld	hl,___str_21
1923  0613  E5          	push	hl
1924  0614  21 16 04    	ld	hl,0x0416
1925  0617  E5          	push	hl
1926  0618  CD 00 00    	call	_zx_print_str
1927  061B              l_game_update_stats_00112:
1928  061B  3A 03 00    	ld	a, (_player_keys + 3)
1929  061E  B7          	or	a, a
1930  061F  C8          	ret	Z
1931  0620  21 00 00    	ld	hl,_screen_ink
1932  0623  36 05       	ld	(hl),0x05
1933  0625  21 2D 00    	ld	hl,___str_21
1934  0628  E5          	push	hl
1935  0629  21 16 05    	ld	hl,0x0516
1936  062C  E5          	push	hl
1937  062D  CD 00 00    	call	_zx_print_str
1938  0630  C9          	ret
1939  0631              	SECTION rodata_compiler
1940  0029              ___str_19:
1941  0029  2A          	DEFM "*"
1942  002A  00          	DEFB 0x00
1943  002B              	SECTION rodata_compiler
1944  002B              ___str_20:
1945  002B  20          	DEFM " "
1946  002C  00          	DEFB 0x00
1947  002D              	SECTION rodata_compiler
1948  002D              ___str_21:
1949  002D  5D          	DEFM "]"
1950  002E  00          	DEFB 0x00
1951  002F              	SECTION code_compiler
1952  0631              ;	---------------------------------
1953  0631              ; Function game_tick
1954  0631              ; ---------------------------------
1955  0631              _game_tick:
1956  0631  21 00 00    	ld	hl,_curr_time
1957  0634  34          	inc	(hl)
1958  0635  C2 00 00    	jp	NZ,_zx_isr
1959  0638  23          	inc	hl
1960  0639  34          	inc	(hl)
1961  063A  C3 00 00    	jp  _zx_isr
1962  063D              	SECTION code_compiler
1963  063D              ;	---------------------------------
1964  063D              ; Function game_start_timer
1965  063D              ; ---------------------------------
1966  063D              _game_start_timer:
1967  063D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1968  0640  36 CD       	ld	(hl),0xcd
1969  0642  23          	inc	hl
1970  0643  11 31 06    	ld	de,_game_tick
1971  0646  73          	ld	(hl), e
1972  0647  23          	inc	hl
1973  0648  72          	ld	(hl), d
1974  0649  C9          	ret
1975  064A              	SECTION code_compiler
1976  064A              ;	---------------------------------
1977  064A              ; Function game_round_init
1978  064A              ; ---------------------------------
1979  064A              _game_round_init:
1980  064A  21 00 00    	ld	hl,0x0000
1981  064D  22 00 00    	ld	(_loop_count),hl
1982  0650  21 00 00    	ld	hl,0
1983  0653  22 00 00    	ld	(_curr_time),hl
1984  0656  21 00 00    	ld	hl,0x0000
1985  0659  22 00 00    	ld	(_frame_time),hl
1986  065C  CD 60 07    	call	_game_print_header
1987  065F  CD C8 03    	call	_game_print_footer
1988  0662  CD 00 00    	call	_spr_page_map
1989  0665  CD 7D 01    	call	_game_draw_screen
1990  0668  CD 00 00    	call	_ay_reset
1991  066B  21 00 00    	ld	hl,_ay_effect_12
1992  066E  CD 00 00    	call	_ay_fx_play
1993  0671  3A 00 00    	ld	a,(_game_over)
1994  0674  B7          	or	a, a
1995  0675  20 10       	jr	NZ,l_game_round_init_00102
1996  0677  2A 00 00    	ld	hl,(_player_col_scr)
1997  067A  26 70       	ld	h,0x70
1998  067C  3A 00 00    	ld	a,(_player_lin_scr)
1999  067F  E5          	push	hl
2000  0680  F5          	push	af
2001  0681  33          	inc	sp
2002  0682  CD 00 00    	call	_player_init
2003  0685  F1          	pop	af
2004  0686  33          	inc	sp
2005  0687              l_game_round_init_00102:
2006  0687  CD 2A 05    	call	_game_update_stats
2007  068A  21 32 00    	ld	hl,0x0032
2008  068D  CD 00 00    	call	_z80_delay_ms_fastcall
2009  0690  3A 00 00    	ld	a,(_game_world)
2010  0693  B7          	or	a, a
2011  0694  28 12       	jr	Z,l_game_round_init_00103
2012  0696  3D          	dec	a
2013  0697  28 3E       	jr	Z,l_game_round_init_00104
2014  0699  3A 00 00    	ld	a,(_game_world)
2015  069C  FE 02       	cp	a,0x02
2016  069E  28 65       	jr	Z,l_game_round_init_00105
2017  06A0  D6 03       	sub	a,0x03
2018  06A2  CA 33 07    	jp	Z,l_game_round_init_00106
2019  06A5  C3 5F 07    	jp	l_game_round_init_00108
2020  06A8              l_game_round_init_00103:
2021  06A8  21 17 68    	ld	hl,0x6817
2022  06AB  E5          	push	hl
2023  06AC  3E 06       	ld	a,0x06
2024  06AE  F5          	push	af
2025  06AF  33          	inc	sp
2026  06B0  CD 08 09    	call	_game_paint_attrib_lin_osd
2027  06B3  33          	inc	sp
2028  06B4  21 2F 00    	ld	hl,___str_22
2029  06B7  E3          	ex	(sp),hl
2030  06B8  21 0C 06    	ld	hl,0x060c
2031  06BB  E5          	push	hl
2032  06BC  CD 00 00    	call	_zx_print_str
2033  06BF  AF          	xor	a, a
2034  06C0  F5          	push	af
2035  06C1  33          	inc	sp
2036  06C2  21 19 00    	ld	hl,0x0019
2037  06C5  E5          	push	hl
2038  06C6  21 06 17    	ld	hl,0x1706
2039  06C9  E5          	push	hl
2040  06CA  3E 0C       	ld	a,0x0c
2041  06CC  F5          	push	af
2042  06CD  33          	inc	sp
2043  06CE  CD 2F 09    	call	_game_colour_message
2044  06D1  F1          	pop	af
2045  06D2  F1          	pop	af
2046  06D3  F1          	pop	af
2047  06D4  C3 5F 07    	jp	l_game_round_init_00108
2048  06D7              l_game_round_init_00104:
2049  06D7  21 13 68    	ld	hl,0x6813
2050  06DA  E5          	push	hl
2051  06DB  3E 06       	ld	a,0x06
2052  06DD  F5          	push	af
2053  06DE  33          	inc	sp
2054  06DF  CD 08 09    	call	_game_paint_attrib_lin_osd
2055  06E2  33          	inc	sp
2056  06E3  21 41 00    	ld	hl,___str_23
2057  06E6  E3          	ex	(sp),hl
2058  06E7  21 0C 06    	ld	hl,0x060c
2059  06EA  E5          	push	hl
2060  06EB  CD 00 00    	call	_zx_print_str
2061  06EE  AF          	xor	a, a
2062  06EF  F5          	push	af
2063  06F0  33          	inc	sp
2064  06F1  21 19 00    	ld	hl,0x0019
2065  06F4  E5          	push	hl
2066  06F5  21 06 13    	ld	hl,0x1306
2067  06F8  E5          	push	hl
2068  06F9  3E 0C       	ld	a,0x0c
2069  06FB  F5          	push	af
2070  06FC  33          	inc	sp
2071  06FD  CD 2F 09    	call	_game_colour_message
2072  0700  F1          	pop	af
2073  0701  F1          	pop	af
2074  0702  F1          	pop	af
2075  0703  18 5A       	jr	l_game_round_init_00108
2076  0705              l_game_round_init_00105:
2077  0705  21 14 68    	ld	hl,0x6814
2078  0708  E5          	push	hl
2079  0709  3E 06       	ld	a,0x06
2080  070B  F5          	push	af
2081  070C  33          	inc	sp
2082  070D  CD 08 09    	call	_game_paint_attrib_lin_osd
2083  0710  33          	inc	sp
2084  0711  21 4F 00    	ld	hl,___str_24
2085  0714  E3          	ex	(sp),hl
2086  0715  21 0C 06    	ld	hl,0x060c
2087  0718  E5          	push	hl
2088  0719  CD 00 00    	call	_zx_print_str
2089  071C  AF          	xor	a, a
2090  071D  F5          	push	af
2091  071E  33          	inc	sp
2092  071F  21 19 00    	ld	hl,0x0019
2093  0722  E5          	push	hl
2094  0723  21 06 14    	ld	hl,0x1406
2095  0726  E5          	push	hl
2096  0727  3E 0C       	ld	a,0x0c
2097  0729  F5          	push	af
2098  072A  33          	inc	sp
2099  072B  CD 2F 09    	call	_game_colour_message
2100  072E  F1          	pop	af
2101  072F  F1          	pop	af
2102  0730  F1          	pop	af
2103  0731  18 2C       	jr	l_game_round_init_00108
2104  0733              l_game_round_init_00106:
2105  0733  21 17 68    	ld	hl,0x6817
2106  0736  E5          	push	hl
2107  0737  3E 06       	ld	a,0x06
2108  0739  F5          	push	af
2109  073A  33          	inc	sp
2110  073B  CD 08 09    	call	_game_paint_attrib_lin_osd
2111  073E  33          	inc	sp
2112  073F  21 5E 00    	ld	hl,___str_25
2113  0742  E3          	ex	(sp),hl
2114  0743  21 0C 06    	ld	hl,0x060c
2115  0746  E5          	push	hl
2116  0747  CD 00 00    	call	_zx_print_str
2117  074A  AF          	xor	a, a
2118  074B  F5          	push	af
2119  074C  33          	inc	sp
2120  074D  21 19 00    	ld	hl,0x0019
2121  0750  E5          	push	hl
2122  0751  21 06 17    	ld	hl,0x1706
2123  0754  E5          	push	hl
2124  0755  3E 0C       	ld	a,0x0c
2125  0757  F5          	push	af
2126  0758  33          	inc	sp
2127  0759  CD 2F 09    	call	_game_colour_message
2128  075C  F1          	pop	af
2129  075D  F1          	pop	af
2130  075E  F1          	pop	af
2131  075F              l_game_round_init_00108:
2132  075F  C9          	ret
2133  0760              	SECTION rodata_compiler
2134  002F              ___str_22:
2135  002F  57 4F 52 4C 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "WORLD 1 THE SHIRE"
2136  0040  00          	DEFB 0x00
2137  0041              	SECTION rodata_compiler
2138  0041              ___str_23:
2139  0041  57 4F 52 4C 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "WORLD 2 MORIA"
2140  004E  00          	DEFB 0x00
2141  004F              	SECTION rodata_compiler
2142  004F              ___str_24:
2143  004F  57 4F 52 4C 44 20 31 20 4D 4F 52 44 4F 52 
                        	DEFM "WORLD 1 MORDOR"
2144  005D  00          	DEFB 0x00
2145  005E              	SECTION rodata_compiler
2146  005E              ___str_25:
2147  005E  57 4F 52 4C 44 20 32 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "WORLD 2 BARAD DUR"
2148  006F  00          	DEFB 0x00
2149  0070              	SECTION code_compiler
2150  0760              ;	---------------------------------
2151  0760              ; Function game_print_header
2152  0760              ; ---------------------------------
2153  0760              _game_print_header:
2154  0760  21 00 00    	ld	hl,_screen_ink
2155  0763  36 02       	ld	(hl),0x02
2156  0765  21 70 00    	ld	hl,___str_26
2157  0768  E5          	push	hl
2158  0769  21 00 0B    	ld	hl,0x0b00
2159  076C  E5          	push	hl
2160  076D  CD 00 00    	call	_zx_print_str
2161  0770  21 00 00    	ld	hl,_screen_ink
2162  0773  36 07       	ld	(hl),0x07
2163  0775  CD 09 05    	call	_game_print_score
2164  0778  C9          	ret
2165  0779              	SECTION rodata_compiler
2166  0070              ___str_26:
2167  0070  24 25 7C    	DEFM "$%|"
2168  0073  00          	DEFB 0x00
2169  0074              	SECTION code_compiler
2170  0779              ;	---------------------------------
2171  0779              ; Function game_check_map
2172  0779              ; ---------------------------------
2173  0779              _game_check_map:
2174  0779  CD 00 00    	call	___sdcc_enter_ix
2175  077C  DD CB 05 46 	bit	0,(ix+5)
2176  0780  20 15       	jr	NZ,l_game_check_map_00108
2177  0782  DD 66 05    	ld	h,(ix+5)
2178  0785  DD 6E 04    	ld	l,(ix+4)
2179  0788  E5          	push	hl
2180  0789  CD 00 00    	call	_spr_calc_index
2181  078C  F1          	pop	af
2182  078D  22 00 00    	ld	(_index1),hl
2183  0790  CD E8 07    	call	_game_check_cell
2184  0793  26 00       	ld	h,0x00
2185  0795  18 4E       	jr	l_game_check_map_00110
2186  0797              l_game_check_map_00108:
2187  0797  21 00 00    	ld	hl,_g_player_hit_left
2188  079A  36 00       	ld	(hl),0x00
2189  079C  21 00 00    	ld	hl,_g_player_hit_right
2190  079F  36 00       	ld	(hl),0x00
2191  07A1  DD 46 05    	ld	b,(ix+5)
2192  07A4  05          	dec	b
2193  07A5  DD 4E 04    	ld	c,(ix+4)
2194  07A8  C5          	push	bc
2195  07A9  CD 00 00    	call	_spr_calc_index
2196  07AC  F1          	pop	af
2197  07AD  22 00 00    	ld	(_index1),hl
2198  07B0  CD E8 07    	call	_game_check_cell
2199  07B3  7D          	ld	a, l
2200  07B4  B7          	or	a, a
2201  07B5  28 05       	jr	Z,l_game_check_map_00102
2202  07B7  21 00 00    	ld	hl,_g_player_hit_left
2203  07BA  36 01       	ld	(hl),0x01
2204  07BC              l_game_check_map_00102:
2205  07BC  3A 00 00    	ld	a,(_g_player_hit_left)
2206  07BF  B7          	or	a, a
2207  07C0  20 10       	jr	NZ,l_game_check_map_00106
2208  07C2  2A 00 00    	ld	hl,(_index1)
2209  07C5  23          	inc	hl
2210  07C6  CD E8 07    	call	_game_check_cell
2211  07C9  7D          	ld	a, l
2212  07CA  B7          	or	a, a
2213  07CB  28 05       	jr	Z,l_game_check_map_00106
2214  07CD  21 00 00    	ld	hl,_g_player_hit_right
2215  07D0  36 01       	ld	(hl),0x01
2216  07D2              l_game_check_map_00106:
2217  07D2  3A 00 00    	ld	a,(_g_player_hit_left)
2218  07D5  B7          	or	a, a
2219  07D6  20 09       	jr	NZ,l_game_check_map_00113
2220  07D8  3A 00 00    	ld	a,(_g_player_hit_right)
2221  07DB  B7          	or	a,a
2222  07DC  20 03       	jr	NZ,l_game_check_map_00113
2223  07DE  6F          	ld	l,a
2224  07DF  18 02       	jr	l_game_check_map_00114
2225  07E1              l_game_check_map_00113:
2226  07E1  2E 01       	ld	l,0x01
2227  07E3              l_game_check_map_00114:
2228  07E3  26 00       	ld	h,0x00
2229  07E5              l_game_check_map_00110:
2230  07E5  DD E1       	pop	ix
2231  07E7  C9          	ret
2232  07E8              	SECTION code_compiler
2233  07E8              ;	---------------------------------
2234  07E8              ; Function game_check_cell
2235  07E8              ; ---------------------------------
2236  07E8              _game_check_cell:
2237  07E8  CD 00 00    	call	___sdcc_enter_ix
2238  07EB  3B          	dec	sp
2239  07EC  3E A0       	ld	a,0xa0
2240  07EE  BD          	cp	a,l
2241  07EF  3E 00       	ld	a,0x00
2242  07F1  9C          	sbc	a,h
2243  07F2  4D          	ld	c,l
2244  07F3  44          	ld	b,h
2245  07F4  E2 F9 07    	jp	PO, l_game_check_cell_00212
2246  07F7  EE 80       	xor	a,0x80
2247  07F9              l_game_check_cell_00212:
2248  07F9  F2 01 08    	jp	P, l_game_check_cell_00102
2249  07FC  2E 01       	ld	l,0x01
2250  07FE  C3 B6 08    	jp	l_game_check_cell_00142
2251  0801              l_game_check_cell_00102:
2252  0801  21 00 00    	ld	hl,_scr_map
2253  0804  09          	add	hl, bc
2254  0805  56          	ld	d, (hl)
2255  0806  3A 00 00    	ld	a,(_sprite)
2256  0809  D6 07       	sub	a,0x07
2257  080B  20 04       	jr	NZ,l_game_check_cell_00213
2258  080D  3E 01       	ld	a,0x01
2259  080F  18 01       	jr	l_game_check_cell_00214
2260  0811              l_game_check_cell_00213:
2261  0811  AF          	xor	a,a
2262  0812              l_game_check_cell_00214:
2263  0812  DD 77 FF    	ld	(ix-1),a
2264  0815  CB 47       	bit	0,a
2265  0817  20 40       	jr	NZ,l_game_check_cell_00120
2266  0819  7A          	ld	a, d
2267  081A  3C          	inc	a
2268  081B  20 01       	jr	NZ,l_game_check_cell_00104
2269  081D  57          	ld	d,a
2270  081E              l_game_check_cell_00104:
2271  081E  7A          	ld	a, d
2272  081F  D6 23       	sub	a,0x23
2273  0821  20 02       	jr	NZ,l_game_check_cell_00106
2274  0823  16 FF       	ld	d,0xff
2275  0825              l_game_check_cell_00106:
2276  0825  2A 00 00    	ld	hl,(_sprite)
2277  0828  26 00       	ld	h,0x00
2278  082A  01 00 00    	ld	bc,_class
2279  082D  09          	add	hl,bc
2280  082E  4E          	ld	c,(hl)
2281  082F  3E 05       	ld	a,0x05
2282  0831  91          	sub	a, c
2283  0832  38 0E       	jr	C,l_game_check_cell_00117
2284  0834  3E 2F       	ld	a,0x2f
2285  0836  92          	sub	a, d
2286  0837  38 05       	jr	C,l_game_check_cell_00108
2287  0839  2E 00       	ld	l,0x00
2288  083B  C3 B6 08    	jp	l_game_check_cell_00142
2289  083E              l_game_check_cell_00108:
2290  083E  6A          	ld	l, d
2291  083F  C3 B6 08    	jp	l_game_check_cell_00142
2292  0842              l_game_check_cell_00117:
2293  0842  3A 00 00    	ld	a,(_sprite_horizontal_check)
2294  0845  B7          	or	a, a
2295  0846  28 04       	jr	Z,l_game_check_cell_00111
2296  0848  0E 48       	ld	c,0x48
2297  084A  18 02       	jr	l_game_check_cell_00112
2298  084C              l_game_check_cell_00111:
2299  084C  0E 3A       	ld	c,0x3a
2300  084E              l_game_check_cell_00112:
2301  084E  79          	ld	a, c
2302  084F  92          	sub	a, d
2303  0850  38 04       	jr	C,l_game_check_cell_00114
2304  0852  2E 00       	ld	l,0x00
2305  0854  18 60       	jr	l_game_check_cell_00142
2306  0856              l_game_check_cell_00114:
2307  0856  6A          	ld	l, d
2308  0857  18 5D       	jr	l_game_check_cell_00142
2309  0859              l_game_check_cell_00120:
2310  0859  7A          	ld	a, d
2311  085A  D6 3A       	sub	a,0x3a
2312  085C  30 04       	jr	NC,l_game_check_cell_00122
2313  085E  2E 00       	ld	l,0x00
2314  0860  18 54       	jr	l_game_check_cell_00142
2315  0862              l_game_check_cell_00122:
2316  0862  3A 00 00    	ld	a,(_s_state)
2317  0865  E6 02       	and	a,0x02
2318  0867  5F          	ld	e, a
2319  0868  7A          	ld	a, d
2320  0869  D6 44       	sub	a,0x44
2321  086B  30 0C       	jr	NC,l_game_check_cell_00127
2322  086D  7B          	ld	a, e
2323  086E  B7          	or	a, a
2324  086F  28 04       	jr	Z,l_game_check_cell_00124
2325  0871  2E 01       	ld	l,0x01
2326  0873  18 41       	jr	l_game_check_cell_00142
2327  0875              l_game_check_cell_00124:
2328  0875  2E 00       	ld	l,0x00
2329  0877  18 3D       	jr	l_game_check_cell_00142
2330  0879              l_game_check_cell_00127:
2331  0879  7A          	ld	a, d
2332  087A  D6 48       	sub	a,0x48
2333  087C  30 16       	jr	NC,l_game_check_cell_00135
2334  087E  3A 00 00    	ld	a,(_sprite_horizontal_check)
2335  0881  B7          	or	a, a
2336  0882  28 04       	jr	Z,l_game_check_cell_00132
2337  0884  2E 00       	ld	l,0x00
2338  0886  18 2E       	jr	l_game_check_cell_00142
2339  0888              l_game_check_cell_00132:
2340  0888  7B          	ld	a, e
2341  0889  B7          	or	a, a
2342  088A  28 04       	jr	Z,l_game_check_cell_00129
2343  088C  2E 01       	ld	l,0x01
2344  088E  18 26       	jr	l_game_check_cell_00142
2345  0890              l_game_check_cell_00129:
2346  0890  2E 00       	ld	l,0x00
2347  0892  18 22       	jr	l_game_check_cell_00142
2348  0894              l_game_check_cell_00135:
2349  0894  7A          	ld	a, d
2350  0895  D6 4C       	sub	a,0x4c
2351  0897  30 12       	jr	NC,l_game_check_cell_00139
2352  0899  DD CB FF 46 	bit	0,(ix-1)
2353  089D  28 0C       	jr	Z,l_game_check_cell_00139
2354  089F  D5          	push	de
2355  08A0  33          	inc	sp
2356  08A1  C5          	push	bc
2357  08A2  CD 00 00    	call	_player_open_door
2358  08A5  F1          	pop	af
2359  08A6  33          	inc	sp
2360  08A7  2E 01       	ld	l,0x01
2361  08A9  18 0B       	jr	l_game_check_cell_00142
2362  08AB              l_game_check_cell_00139:
2363  08AB  7A          	ld	a, d
2364  08AC  D6 60       	sub	a,0x60
2365  08AE  30 04       	jr	NC,l_game_check_cell_00141
2366  08B0  2E 01       	ld	l,0x01
2367  08B2  18 02       	jr	l_game_check_cell_00142
2368  08B4              l_game_check_cell_00141:
2369  08B4  2E 00       	ld	l,0x00
2370  08B6              l_game_check_cell_00142:
2371  08B6  33          	inc	sp
2372  08B7  DD E1       	pop	ix
2373  08B9  C9          	ret
2374  08BA              	SECTION code_compiler
2375  08BA              ;	---------------------------------
2376  08BA              ; Function game_paint_attrib_lin
2377  08BA              ; ---------------------------------
2378  08BA              _game_paint_attrib_lin:
2379  08BA  CD 00 00    	call	___sdcc_enter_ix
2380  08BD  DD 7E 04    	ld	a,(ix+4)
2381  08C0  32 00 00    	ld	(_tmp_uc),a
2382  08C3              l_game_paint_attrib_lin_00103:
2383  08C3  21 00 00    	ld	hl,_tmp_uc
2384  08C6  7E          	ld	a, (hl)
2385  08C7  DD 96 05    	sub	a,(ix+5)
2386  08CA  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2387  08CC  66          	ld	h,(hl)
2388  08CD  DD 6E 06    	ld	l,(ix+6)
2389  08D0  E5          	push	hl
2390  08D1  21 00 00    	ld	hl,_attrib
2391  08D4  E5          	push	hl
2392  08D5  CD 00 00    	call	_NIRVANAP_paintC_callee
2393  08D8  21 00 00    	ld	hl,_tmp_uc
2394  08DB  34          	inc	(hl)
2395  08DC  18 E5       	jr	l_game_paint_attrib_lin_00103
2396  08DE              l_game_paint_attrib_lin_00105:
2397  08DE  DD E1       	pop	ix
2398  08E0  C9          	ret
2399  08E1              	SECTION code_compiler
2400  08E1              ;	---------------------------------
2401  08E1              ; Function game_paint_attrib_lin_h
2402  08E1              ; ---------------------------------
2403  08E1              _game_paint_attrib_lin_h:
2404  08E1  CD 00 00    	call	___sdcc_enter_ix
2405  08E4  DD 7E 04    	ld	a,(ix+4)
2406  08E7  32 00 00    	ld	(_tmp_uc),a
2407  08EA              l_game_paint_attrib_lin_h_00103:
2408  08EA  21 00 00    	ld	hl,_tmp_uc
2409  08ED  7E          	ld	a, (hl)
2410  08EE  DD 96 05    	sub	a,(ix+5)
2411  08F1  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2412  08F3  66          	ld	h,(hl)
2413  08F4  DD 6E 06    	ld	l,(ix+6)
2414  08F7  E5          	push	hl
2415  08F8  21 00 00    	ld	hl,_attrib_hl
2416  08FB  E5          	push	hl
2417  08FC  CD 00 00    	call	_NIRVANAP_paintC_callee
2418  08FF  21 00 00    	ld	hl,_tmp_uc
2419  0902  34          	inc	(hl)
2420  0903  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2421  0905              l_game_paint_attrib_lin_h_00105:
2422  0905  DD E1       	pop	ix
2423  0907  C9          	ret
2424  0908              	SECTION code_compiler
2425  0908              ;	---------------------------------
2426  0908              ; Function game_paint_attrib_lin_osd
2427  0908              ; ---------------------------------
2428  0908              _game_paint_attrib_lin_osd:
2429  0908  CD 00 00    	call	___sdcc_enter_ix
2430  090B  DD 7E 04    	ld	a,(ix+4)
2431  090E  32 00 00    	ld	(_tmp_uc),a
2432  0911              l_game_paint_attrib_lin_osd_00103:
2433  0911  21 00 00    	ld	hl,_tmp_uc
2434  0914  7E          	ld	a, (hl)
2435  0915  DD 96 05    	sub	a,(ix+5)
2436  0918  30 12       	jr	NC,l_game_paint_attrib_lin_osd_00105
2437  091A  66          	ld	h,(hl)
2438  091B  DD 6E 06    	ld	l,(ix+6)
2439  091E  E5          	push	hl
2440  091F  21 00 00    	ld	hl,_attrib_osd
2441  0922  E5          	push	hl
2442  0923  CD 00 00    	call	_NIRVANAP_paintC_callee
2443  0926  21 00 00    	ld	hl,_tmp_uc
2444  0929  34          	inc	(hl)
2445  092A  18 E5       	jr	l_game_paint_attrib_lin_osd_00103
2446  092C              l_game_paint_attrib_lin_osd_00105:
2447  092C  DD E1       	pop	ix
2448  092E  C9          	ret
2449  092F              	SECTION code_compiler
2450  092F              ;	---------------------------------
2451  092F              ; Function game_colour_message
2452  092F              ; ---------------------------------
2453  092F              _game_colour_message:
2454  092F  CD 00 00    	call	___sdcc_enter_ix
2455  0932  F5          	push	af
2456  0933  F5          	push	af
2457  0934  3B          	dec	sp
2458  0935  D1          	pop	de
2459  0936  21 00 00    	ld	hl,_tmp
2460  0939  36 01       	ld	(hl),0x01
2461  093B  2A 00 00    	ld	hl,(_curr_time)
2462  093E  22 00 00    	ld	(_frame_time),hl
2463  0941  2A 00 00    	ld	hl,(_curr_time)
2464  0944  E5          	push	hl
2465  0945  DD 7E 04    	ld	a,(ix+4)
2466  0948  07          	rlca
2467  0949  07          	rlca
2468  094A  07          	rlca
2469  094B  E6 F8       	and	a,0xf8
2470  094D  DD 77 FF    	ld	(ix-1),a
2471  0950  C6 08       	add	a,0x08
2472  0952  DD 77 FE    	ld	(ix-2),a
2473  0955  DD 77 FD    	ld	(ix-3),a
2474  0958              l_game_colour_message_00112:
2475  0958  3A 00 00    	ld	a,(_tmp)
2476  095B  B7          	or	a, a
2477  095C  28 76       	jr	Z,l_game_colour_message_00114
2478  095E  DD 4E 07    	ld	c,(ix+7)
2479  0961  DD 46 08    	ld	b,(ix+8)
2480  0964  E1          	pop	hl
2481  0965  E5          	push	hl
2482  0966  C5          	push	bc
2483  0967  E5          	push	hl
2484  0968  CD 46 0A    	call	_game_check_time
2485  096B  F1          	pop	af
2486  096C  F1          	pop	af
2487  096D  7D          	ld	a, l
2488  096E  B7          	or	a, a
2489  096F  20 63       	jr	NZ,l_game_colour_message_00114
2490  0971  21 05 00    	ld	hl,0x0005
2491  0974  E5          	push	hl
2492  0975  2A 00 00    	ld	hl,(_frame_time)
2493  0978  E5          	push	hl
2494  0979  CD 46 0A    	call	_game_check_time
2495  097C  F1          	pop	af
2496  097D  F1          	pop	af
2497  097E  7D          	ld	a, l
2498  097F  B7          	or	a, a
2499  0980  28 36       	jr	Z,l_game_colour_message_00105
2500  0982  2A 00 00    	ld	hl,(_curr_time)
2501  0985  22 00 00    	ld	(_frame_time),hl
2502  0988  3A 00 00    	ld	a,(_game_over)
2503  098B  B7          	or	a,a
2504  098C  28 16       	jr	Z,l_game_colour_message_00102
2505  098E  DD 66 FD    	ld	h,(ix-3)
2506  0991  DD 6E 06    	ld	l,(ix+6)
2507  0994  E5          	push	hl
2508  0995  DD 7E 05    	ld	a,(ix+5)
2509  0998  F5          	push	af
2510  0999  33          	inc	sp
2511  099A  CD E1 08    	call	_game_paint_attrib_lin_h
2512  099D  F1          	pop	af
2513  099E  33          	inc	sp
2514  099F  CD AF 0E    	call	_game_rotate_attrib
2515  09A2  18 14       	jr	l_game_colour_message_00105
2516  09A4              l_game_colour_message_00102:
2517  09A4  DD 66 FE    	ld	h,(ix-2)
2518  09A7  DD 6E 06    	ld	l,(ix+6)
2519  09AA  E5          	push	hl
2520  09AB  DD 7E 05    	ld	a,(ix+5)
2521  09AE  F5          	push	af
2522  09AF  33          	inc	sp
2523  09B0  CD 08 09    	call	_game_paint_attrib_lin_osd
2524  09B3  F1          	pop	af
2525  09B4  33          	inc	sp
2526  09B5  CD CB 0E    	call	_game_rotate_attrib_osd
2527  09B8              l_game_colour_message_00105:
2528  09B8  DD 7E 09    	ld	a,(ix+9)
2529  09BB  B7          	or	a, a
2530  09BC  28 9A       	jr	Z,l_game_colour_message_00112
2531  09BE              l_game_colour_message_00106:
2532  09BE  21 00 00    	ld	hl,_k1
2533  09C1  E5          	push	hl
2534  09C2  2A 00 00    	ld	hl,(_joyfunc1)
2535  09C5  CD 00 00    	call	___sdcc_call_hl
2536  09C8  F1          	pop	af
2537  09C9  7C          	ld	a,h
2538  09CA  B5          	or	a,l
2539  09CB  28 8B       	jr	Z,l_game_colour_message_00112
2540  09CD  21 00 00    	ld	hl,_tmp
2541  09D0  36 00       	ld	(hl),0x00
2542  09D2  18 EA       	jr	l_game_colour_message_00106
2543  09D4              l_game_colour_message_00114:
2544  09D4  DD 7E 06    	ld	a,(ix+6)
2545  09D7  DD 96 05    	sub	a,(ix+5)
2546  09DA  4F          	ld	c, a
2547  09DB  3A 00 00    	ld	a,(_game_over)
2548  09DE  B7          	or	a, a
2549  09DF  28 2B       	jr	Z,l_game_colour_message_00118
2550  09E1  21 00 00    	ld	hl,_tmp1
2551  09E4  71          	ld	(hl), c
2552  09E5  21 00 00    	ld	hl,_tmp0
2553  09E8  36 00       	ld	(hl),0x00
2554  09EA              l_game_colour_message_00121:
2555  09EA  3A 00 00    	ld	a,(_tmp0)
2556  09ED  21 00 00    	ld	hl,_tmp1
2557  09F0  96          	sub	a, (hl)
2558  09F1  30 4E       	jr	NC,l_game_colour_message_00126
2559  09F3  DD 7E 05    	ld	a,(ix+5)
2560  09F6  21 00 00    	ld	hl,_tmp0
2561  09F9  86          	add	a, (hl)
2562  09FA  47          	ld	b, a
2563  09FB  21 74 00    	ld	hl,___str_27
2564  09FE  E5          	push	hl
2565  09FF  DD 4E 04    	ld	c,(ix+4)
2566  0A02  C5          	push	bc
2567  0A03  CD 00 00    	call	_zx_print_str
2568  0A06  21 00 00    	ld	hl,_tmp0
2569  0A09  34          	inc	(hl)
2570  0A0A  18 DE       	jr	l_game_colour_message_00121
2571  0A0C              l_game_colour_message_00118:
2572  0A0C  21 00 00    	ld	hl,_tmp1
2573  0A0F  71          	ld	(hl), c
2574  0A10  DD 7E FF    	ld	a,(ix-1)
2575  0A13  32 00 00    	ld	(_s_lin0),a
2576  0A16  DD 7E 05    	ld	a,(ix+5)
2577  0A19  CB 3F       	srl	a
2578  0A1B  87          	add	a, a
2579  0A1C  32 00 00    	ld	(_s_col1),a
2580  0A1F  21 00 00    	ld	hl,_tmp0
2581  0A22  36 00       	ld	(hl),0x00
2582  0A24              l_game_colour_message_00124:
2583  0A24  3A 00 00    	ld	a,(_tmp0)
2584  0A27  21 00 00    	ld	hl,_tmp1
2585  0A2A  96          	sub	a, (hl)
2586  0A2B  30 14       	jr	NC,l_game_colour_message_00126
2587  0A2D  3A 00 00    	ld	a,(_s_col1)
2588  0A30  21 00 00    	ld	hl,_tmp0
2589  0A33  86          	add	a, (hl)
2590  0A34  32 00 00    	ld	(_s_col0),a
2591  0A37  CD 00 00    	call	_spr_back_repaint
2592  0A3A  21 00 00    	ld	hl,_tmp0
2593  0A3D  34          	inc	(hl)
2594  0A3E  34          	inc	(hl)
2595  0A3F  18 E3       	jr	l_game_colour_message_00124
2596  0A41              l_game_colour_message_00126:
2597  0A41  DD F9       	ld	sp, ix
2598  0A43  DD E1       	pop	ix
2599  0A45  C9          	ret
2600  0A46              	SECTION rodata_compiler
2601  0074              ___str_27:
2602  0074  20          	DEFM " "
2603  0075  00          	DEFB 0x00
2604  0076              	SECTION code_compiler
2605  0A46              ;	---------------------------------
2606  0A46              ; Function game_check_time
2607  0A46              ; ---------------------------------
2608  0A46              _game_check_time:
2609  0A46  CD 00 00    	call	___sdcc_enter_ix
2610  0A49  2A 00 00    	ld	hl,(_curr_time)
2611  0A4C  7D          	ld	a,l
2612  0A4D  DD 96 04    	sub	a,(ix+4)
2613  0A50  4F          	ld	c,a
2614  0A51  7C          	ld	a,h
2615  0A52  DD 9E 05    	sbc	a,(ix+5)
2616  0A55  47          	ld	b, a
2617  0A56  DD 7E 06    	ld	a,(ix+6)
2618  0A59  91          	sub	a, c
2619  0A5A  DD 7E 07    	ld	a,(ix+7)
2620  0A5D  98          	sbc	a, b
2621  0A5E  30 04       	jr	NC,l_game_check_time_00102
2622  0A60  2E 01       	ld	l,0x01
2623  0A62  18 02       	jr	l_game_check_time_00104
2624  0A64              l_game_check_time_00102:
2625  0A64  2E 00       	ld	l,0x00
2626  0A66              l_game_check_time_00104:
2627  0A66  DD E1       	pop	ix
2628  0A68  C9          	ret
2629  0A69              	SECTION code_compiler
2630  0A69              ;	---------------------------------
2631  0A69              ; Function game_shoot_fire
2632  0A69              ; ---------------------------------
2633  0A69              _game_shoot_fire:
2634  0A69  CD 00 00    	call	___sdcc_enter_ix
2635  0A6C  21 F3 FF    	ld	hl, -13
2636  0A6F  39          	add	hl, sp
2637  0A70  F9          	ld	sp, hl
2638  0A71  01 00 00    	ld	bc,_bullet_col
2639  0A74  DD 6E 04    	ld	l,(ix+4)
2640  0A77  26 00       	ld	h,0x00
2641  0A79  09          	add	hl,bc
2642  0A7A  DD 75 FE    	ld	(ix-2),l
2643  0A7D  DD 74 FF    	ld	(ix-1),h
2644  0A80  4E          	ld	c, (hl)
2645  0A81  0C          	inc	c
2646  0A82  C2 9B 0C    	jp	NZ,l_game_shoot_fire_00126
2647  0A85  21 00 00    	ld	hl,_ay_effect_08
2648  0A88  CD 00 00    	call	_ay_fx_play
2649  0A8B  21 00 00    	ld	hl,_bullet_count
2650  0A8E  34          	inc	(hl)
2651  0A8F  01 00 00    	ld	bc,_bullet_dir
2652  0A92  DD 6E 04    	ld	l,(ix+4)
2653  0A95  26 00       	ld	h,0x00
2654  0A97  09          	add	hl,bc
2655  0A98  DD 75 FC    	ld	(ix-4),l
2656  0A9B  DD 74 FD    	ld	(ix-3),h
2657  0A9E  36 00       	ld	(hl),0x00
2658  0AA0  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2659  0AA2  DD 86 04    	add	a,(ix+4)
2660  0AA5  4F          	ld	c, a
2661  0AA6  3E 00       	ld	a, +((_bullet_lin0) / 256)
2662  0AA8  CE 00       	adc	a,0x00
2663  0AAA  47          	ld	b, a
2664  0AAB  11 00 00    	ld	de,_lin
2665  0AAE  DD 6E 04    	ld	l,(ix+4)
2666  0AB1  26 00       	ld	h,0x00
2667  0AB3  19          	add	hl,de
2668  0AB4  DD 75 FA    	ld	(ix-6),l
2669  0AB7  DD 74 FB    	ld	(ix-5),h
2670  0ABA  7E          	ld	a, (hl)
2671  0ABB  02          	ld	(bc), a
2672  0ABC  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2673  0ABE  DD 86 04    	add	a,(ix+4)
2674  0AC1  4F          	ld	c, a
2675  0AC2  3E 00       	ld	a, +((_bullet_col0) / 256)
2676  0AC4  CE 00       	adc	a,0x00
2677  0AC6  47          	ld	b, a
2678  0AC7  11 00 00    	ld	de,_col
2679  0ACA  DD 6E 04    	ld	l,(ix+4)
2680  0ACD  26 00       	ld	h,0x00
2681  0ACF  19          	add	hl,de
2682  0AD0  DD 75 F8    	ld	(ix-8),l
2683  0AD3  DD 74 F9    	ld	(ix-7),h
2684  0AD6  7E          	ld	a, (hl)
2685  0AD7  02          	ld	(bc), a
2686  0AD8  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2687  0ADA  DD 86 04    	add	a,(ix+4)
2688  0ADD  DD 77 F6    	ld	(ix-10),a
2689  0AE0  3E 00       	ld	a, +((_bullet_lin) / 256)
2690  0AE2  CE 00       	adc	a,0x00
2691  0AE4  DD 77 F7    	ld	(ix-9),a
2692  0AE7  DD 6E FA    	ld	l,(ix-6)
2693  0AEA  DD 66 FB    	ld	h,(ix-5)
2694  0AED  4E          	ld	c, (hl)
2695  0AEE  DD 6E F6    	ld	l,(ix-10)
2696  0AF1  DD 66 F7    	ld	h,(ix-9)
2697  0AF4  71          	ld	(hl), c
2698  0AF5  01 00 00    	ld	bc,_bullet_frames
2699  0AF8  DD 6E 04    	ld	l,(ix+4)
2700  0AFB  26 00       	ld	h,0x00
2701  0AFD  09          	add	hl,bc
2702  0AFE  DD 75 F4    	ld	(ix-12),l
2703  0B01  DD 74 F5    	ld	(ix-11),h
2704  0B04  36 02       	ld	(hl),0x02
2705  0B06  DD 7E 04    	ld	a,(ix+4)
2706  0B09  D6 07       	sub	a,0x07
2707  0B0B  20 04       	jr	NZ,l_game_shoot_fire_00175
2708  0B0D  3E 01       	ld	a,0x01
2709  0B0F  18 01       	jr	l_game_shoot_fire_00176
2710  0B11              l_game_shoot_fire_00175:
2711  0B11  AF          	xor	a,a
2712  0B12              l_game_shoot_fire_00176:
2713  0B12  DD 77 F3    	ld	(ix-13),a
2714  0B15  B7          	or	a, a
2715  0B16  28 13       	jr	Z,l_game_shoot_fire_00102
2716  0B18  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2717  0B1A  DD 86 04    	add	a,(ix+4)
2718  0B1D  4F          	ld	c, a
2719  0B1E  3E 00       	ld	a, +((_bullet_max) / 256)
2720  0B20  CE 00       	adc	a,0x00
2721  0B22  47          	ld	b, a
2722  0B23  3A 00 00    	ld	a,(_player_lvl)
2723  0B26  C6 04       	add	a,0x04
2724  0B28  02          	ld	(bc), a
2725  0B29  18 0D       	jr	l_game_shoot_fire_00103
2726  0B2B              l_game_shoot_fire_00102:
2727  0B2B  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2728  0B2D  DD 86 04    	add	a,(ix+4)
2729  0B30  4F          	ld	c, a
2730  0B31  3E 00       	ld	a, +((_bullet_max) / 256)
2731  0B33  CE 00       	adc	a,0x00
2732  0B35  47          	ld	b, a
2733  0B36  AF          	xor	a, a
2734  0B37  02          	ld	(bc), a
2735  0B38              l_game_shoot_fire_00103:
2736  0B38  DD 7E 05    	ld	a,(ix+5)
2737  0B3B  D6 7C       	sub	a,0x7c
2738  0B3D  20 21       	jr	NZ,l_game_shoot_fire_00105
2739  0B3F  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2740  0B41  DD 86 04    	add	a,(ix+4)
2741  0B44  4F          	ld	c, a
2742  0B45  3E 00       	ld	a, +((_bullet_class) / 256)
2743  0B47  CE 00       	adc	a,0x00
2744  0B49  47          	ld	b, a
2745  0B4A  3E 01       	ld	a,0x01
2746  0B4C  02          	ld	(bc), a
2747  0B4D  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2748  0B4F  DD 86 04    	add	a,(ix+4)
2749  0B52  4F          	ld	c, a
2750  0B53  3E 00       	ld	a, +((_bullet_max) / 256)
2751  0B55  CE 00       	adc	a,0x00
2752  0B57  47          	ld	b, a
2753  0B58  3A 00 00    	ld	a,(_game_world)
2754  0B5B  87          	add	a, a
2755  0B5C  87          	add	a, a
2756  0B5D  C6 08       	add	a,0x08
2757  0B5F  02          	ld	(bc), a
2758  0B60              l_game_shoot_fire_00105:
2759  0B60  DD 7E 05    	ld	a,(ix+5)
2760  0B63  D6 78       	sub	a,0x78
2761  0B65  20 24       	jr	NZ,l_game_shoot_fire_00110
2762  0B67  DD 7E F3    	ld	a,(ix-13)
2763  0B6A  B7          	or	a, a
2764  0B6B  28 10       	jr	Z,l_game_shoot_fire_00107
2765  0B6D  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2766  0B6F  DD 86 04    	add	a,(ix+4)
2767  0B72  4F          	ld	c, a
2768  0B73  3E 00       	ld	a, +((_bullet_class) / 256)
2769  0B75  CE 00       	adc	a,0x00
2770  0B77  47          	ld	b, a
2771  0B78  3E 01       	ld	a,0x01
2772  0B7A  02          	ld	(bc), a
2773  0B7B  18 0E       	jr	l_game_shoot_fire_00110
2774  0B7D              l_game_shoot_fire_00107:
2775  0B7D  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2776  0B7F  DD 86 04    	add	a,(ix+4)
2777  0B82  4F          	ld	c, a
2778  0B83  3E 00       	ld	a, +((_bullet_class) / 256)
2779  0B85  CE 00       	adc	a,0x00
2780  0B87  47          	ld	b, a
2781  0B88  3E 02       	ld	a,0x02
2782  0B8A  02          	ld	(bc), a
2783  0B8B              l_game_shoot_fire_00110:
2784  0B8B  DD 7E 05    	ld	a,(ix+5)
2785  0B8E  D6 80       	sub	a,0x80
2786  0B90  20 04       	jr	NZ,l_game_shoot_fire_00181
2787  0B92  3E 01       	ld	a,0x01
2788  0B94  18 01       	jr	l_game_shoot_fire_00182
2789  0B96              l_game_shoot_fire_00181:
2790  0B96  AF          	xor	a,a
2791  0B97              l_game_shoot_fire_00182:
2792  0B97  5F          	ld	e,a
2793  0B98  B7          	or	a, a
2794  0B99  28 35       	jr	Z,l_game_shoot_fire_00112
2795  0B9B  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2796  0B9D  DD 86 04    	add	a,(ix+4)
2797  0BA0  4F          	ld	c, a
2798  0BA1  3E 00       	ld	a, +((_bullet_class) / 256)
2799  0BA3  CE 00       	adc	a,0x00
2800  0BA5  47          	ld	b, a
2801  0BA6  3E 04       	ld	a,0x04
2802  0BA8  02          	ld	(bc), a
2803  0BA9  DD 6E FA    	ld	l,(ix-6)
2804  0BAC  DD 66 FB    	ld	h,(ix-5)
2805  0BAF  7E          	ld	a, (hl)
2806  0BB0  C6 FC       	add	a,0xfc
2807  0BB2  DD 6E F6    	ld	l,(ix-10)
2808  0BB5  DD 66 F7    	ld	h,(ix-9)
2809  0BB8  77          	ld	(hl), a
2810  0BB9  DD 6E F4    	ld	l,(ix-12)
2811  0BBC  DD 66 F5    	ld	h,(ix-11)
2812  0BBF  36 04       	ld	(hl),0x04
2813  0BC1  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2814  0BC3  DD 86 04    	add	a,(ix+4)
2815  0BC6  4F          	ld	c, a
2816  0BC7  3E 00       	ld	a, +((_bullet_vel) / 256)
2817  0BC9  CE 00       	adc	a,0x00
2818  0BCB  47          	ld	b, a
2819  0BCC  3A 00 00    	ld	a,(_player_vel_y0)
2820  0BCF  02          	ld	(bc), a
2821  0BD0              l_game_shoot_fire_00112:
2822  0BD0  3A 00 00    	ld	a,(_s_state)
2823  0BD3  E6 08       	and	a,0x08
2824  0BD5  57          	ld	d, a
2825  0BD6  3A 00 00    	ld	a,(_sprite)
2826  0BD9  D6 07       	sub	a,0x07
2827  0BDB  20 06       	jr	NZ,l_game_shoot_fire_00114
2828  0BDD  3A 07 00    	ld	a,(_state_a + 0x0007)
2829  0BE0  E6 08       	and	a,0x08
2830  0BE2  57          	ld	d, a
2831  0BE3              l_game_shoot_fire_00114:
2832  0BE3  DD 6E F8    	ld	l,(ix-8)
2833  0BE6  DD 66 F9    	ld	h,(ix-7)
2834  0BE9  46          	ld	b, (hl)
2835  0BEA  DD 6E FA    	ld	l,(ix-6)
2836  0BED  DD 66 FB    	ld	h,(ix-5)
2837  0BF0  7E          	ld	a, (hl)
2838  0BF1  D5          	push	de
2839  0BF2  4F          	ld	c,a
2840  0BF3  C5          	push	bc
2841  0BF4  CD 00 00    	call	_spr_calc_index
2842  0BF7  F1          	pop	af
2843  0BF8  D1          	pop	de
2844  0BF9  22 00 00    	ld	(_index1),hl
2845  0BFC  DD 6E F8    	ld	l,(ix-8)
2846  0BFF  DD 66 F9    	ld	h,(ix-7)
2847  0C02  7E          	ld	a, (hl)
2848  0C03  DD 77 F3    	ld	(ix-13),a
2849  0C06  7A          	ld	a, d
2850  0C07  B7          	or	a, a
2851  0C08  28 57       	jr	Z,l_game_shoot_fire_00123
2852  0C0A  DD 7E F3    	ld	a,(ix-13)
2853  0C0D  D6 01       	sub	a,0x01
2854  0C0F  30 05       	jr	NC,l_game_shoot_fire_00116
2855  0C11  2E 01       	ld	l,0x01
2856  0C13  C3 9D 0C    	jp	l_game_shoot_fire_00127
2857  0C16              l_game_shoot_fire_00116:
2858  0C16  DD 6E FE    	ld	l,(ix-2)
2859  0C19  DD 66 FF    	ld	h,(ix-1)
2860  0C1C  DD 7E F3    	ld	a,(ix-13)
2861  0C1F  77          	ld	(hl), a
2862  0C20  7B          	ld	a, e
2863  0C21  B7          	or	a, a
2864  0C22  20 13       	jr	NZ,l_game_shoot_fire_00118
2865  0C24  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2866  0C26  DD 86 04    	add	a,(ix+4)
2867  0C29  4F          	ld	c, a
2868  0C2A  3E 00       	ld	a, +((_bullet_tile) / 256)
2869  0C2C  CE 00       	adc	a,0x00
2870  0C2E  47          	ld	b, a
2871  0C2F  DD 7E 05    	ld	a,(ix+5)
2872  0C32  C6 02       	add	a,0x02
2873  0C34  02          	ld	(bc), a
2874  0C35  18 0F       	jr	l_game_shoot_fire_00119
2875  0C37              l_game_shoot_fire_00118:
2876  0C37  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2877  0C39  DD 86 04    	add	a,(ix+4)
2878  0C3C  4F          	ld	c, a
2879  0C3D  3E 00       	ld	a, +((_bullet_tile) / 256)
2880  0C3F  CE 00       	adc	a,0x00
2881  0C41  47          	ld	b, a
2882  0C42  DD 7E 05    	ld	a,(ix+5)
2883  0C45  02          	ld	(bc), a
2884  0C46              l_game_shoot_fire_00119:
2885  0C46  DD 6E FC    	ld	l,(ix-4)
2886  0C49  DD 66 FD    	ld	h,(ix-3)
2887  0C4C  36 01       	ld	(hl),0x01
2888  0C4E  01 00 00    	ld	bc,_bullet_colint
2889  0C51  DD 6E 04    	ld	l,(ix+4)
2890  0C54  26 00       	ld	h,0x00
2891  0C56  09          	add	hl,bc
2892  0C57  DD 75 F4    	ld	(ix-12),l
2893  0C5A  DD 74 F5    	ld	(ix-11),h
2894  0C5D  36 02       	ld	(hl),0x02
2895  0C5F  18 3A       	jr	l_game_shoot_fire_00126
2896  0C61              l_game_shoot_fire_00123:
2897  0C61  3E 1D       	ld	a,0x1d
2898  0C63  DD 96 F3    	sub	a,(ix-13)
2899  0C66  30 04       	jr	NC,l_game_shoot_fire_00121
2900  0C68  2E 01       	ld	l,0x01
2901  0C6A  18 31       	jr	l_game_shoot_fire_00127
2902  0C6C              l_game_shoot_fire_00121:
2903  0C6C  DD 6E FE    	ld	l,(ix-2)
2904  0C6F  DD 66 FF    	ld	h,(ix-1)
2905  0C72  DD 7E F3    	ld	a,(ix-13)
2906  0C75  77          	ld	(hl), a
2907  0C76  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2908  0C78  DD 86 04    	add	a,(ix+4)
2909  0C7B  4F          	ld	c, a
2910  0C7C  3E 00       	ld	a, +((_bullet_tile) / 256)
2911  0C7E  CE 00       	adc	a,0x00
2912  0C80  47          	ld	b, a
2913  0C81  DD 7E 05    	ld	a,(ix+5)
2914  0C84  02          	ld	(bc), a
2915  0C85  DD 6E FC    	ld	l,(ix-4)
2916  0C88  DD 66 FD    	ld	h,(ix-3)
2917  0C8B  36 FF       	ld	(hl),0xff
2918  0C8D  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2919  0C8F  DD 86 04    	add	a,(ix+4)
2920  0C92  4F          	ld	c, a
2921  0C93  3E 00       	ld	a, +((_bullet_colint) / 256)
2922  0C95  CE 00       	adc	a,0x00
2923  0C97  47          	ld	b, a
2924  0C98  3E FF       	ld	a,0xff
2925  0C9A  02          	ld	(bc), a
2926  0C9B              l_game_shoot_fire_00126:
2927  0C9B  2E 00       	ld	l,0x00
2928  0C9D              l_game_shoot_fire_00127:
2929  0C9D  DD F9       	ld	sp, ix
2930  0C9F  DD E1       	pop	ix
2931  0CA1  C9          	ret
2932  0CA2              	SECTION code_compiler
2933  0CA2              ;	---------------------------------
2934  0CA2              ; Function game_shoot_fire_boss
2935  0CA2              ; ---------------------------------
2936  0CA2              _game_shoot_fire_boss:
2937  0CA2  CD 00 00    	call	___sdcc_enter_ix
2938  0CA5  F5          	push	af
2939  0CA6  F5          	push	af
2940  0CA7  0E 00       	ld	c,0x00
2941  0CA9              l_game_shoot_fire_boss_00103:
2942  0CA9  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2943  0CAB  81          	add	a, c
2944  0CAC  DD 77 FE    	ld	(ix-2),a
2945  0CAF  3E 00       	ld	a, +((_bullet_col) / 256)
2946  0CB1  CE 00       	adc	a,0x00
2947  0CB3  DD 77 FF    	ld	(ix-1),a
2948  0CB6  79          	ld	a, c
2949  0CB7  D6 07       	sub	a,0x07
2950  0CB9  30 0D       	jr	NC,l_game_shoot_fire_boss_00105
2951  0CBB  DD 6E FE    	ld	l,(ix-2)
2952  0CBE  DD 66 FF    	ld	h,(ix-1)
2953  0CC1  46          	ld	b, (hl)
2954  0CC2  04          	inc	b
2955  0CC3  28 03       	jr	Z,l_game_shoot_fire_boss_00105
2956  0CC5  0C          	inc	c
2957  0CC6  18 E1       	jr	l_game_shoot_fire_boss_00103
2958  0CC8              l_game_shoot_fire_boss_00105:
2959  0CC8  79          	ld	a, c
2960  0CC9  D6 07       	sub	a,0x07
2961  0CCB  20 04       	jr	NZ,l_game_shoot_fire_boss_00107
2962  0CCD  6F          	ld	l,a
2963  0CCE  C3 B1 0D    	jp	l_game_shoot_fire_boss_00117
2964  0CD1              l_game_shoot_fire_boss_00107:
2965  0CD1  DD 6E FE    	ld	l,(ix-2)
2966  0CD4  DD 66 FF    	ld	h,(ix-1)
2967  0CD7  46          	ld	b, (hl)
2968  0CD8  04          	inc	b
2969  0CD9  C2 AF 0D    	jp	NZ,l_game_shoot_fire_boss_00116
2970  0CDC  21 00 00    	ld	hl,_bullet_count
2971  0CDF  34          	inc	(hl)
2972  0CE0  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
2973  0CE2  81          	add	a, c
2974  0CE3  DD 77 FC    	ld	(ix-4),a
2975  0CE6  3E 00       	ld	a, +((_bullet_dir) / 256)
2976  0CE8  CE 00       	adc	a,0x00
2977  0CEA  DD 77 FD    	ld	(ix-3),a
2978  0CED  E1          	pop	hl
2979  0CEE  E5          	push	hl
2980  0CEF  36 00       	ld	(hl),0x00
2981  0CF1  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2982  0CF3  81          	add	a, c
2983  0CF4  5F          	ld	e, a
2984  0CF5  3E 00       	ld	a, +((_bullet_lin0) / 256)
2985  0CF7  CE 00       	adc	a,0x00
2986  0CF9  57          	ld	d, a
2987  0CFA  3A 00 00    	ld	a,(_boss_lin)
2988  0CFD  12          	ld	(de), a
2989  0CFE  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2990  0D00  81          	add	a, c
2991  0D01  5F          	ld	e, a
2992  0D02  3E 00       	ld	a, +((_bullet_col0) / 256)
2993  0D04  CE 00       	adc	a,0x00
2994  0D06  57          	ld	d, a
2995  0D07  3A 00 00    	ld	a,(_boss_col)
2996  0D0A  12          	ld	(de), a
2997  0D0B  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2998  0D0D  81          	add	a, c
2999  0D0E  5F          	ld	e, a
3000  0D0F  3E 00       	ld	a, +((_bullet_lin) / 256)
3001  0D11  CE 00       	adc	a,0x00
3002  0D13  57          	ld	d, a
3003  0D14  3A 00 00    	ld	a,(_boss_lin)
3004  0D17  12          	ld	(de), a
3005  0D18  11 00 00    	ld	de,_bullet_frames+0
3006  0D1B  69          	ld	l,c
3007  0D1C  26 00       	ld	h,0x00
3008  0D1E  19          	add	hl, de
3009  0D1F  36 02       	ld	(hl),0x02
3010  0D21  11 00 00    	ld	de,_bullet_class+0
3011  0D24  69          	ld	l,c
3012  0D25  26 00       	ld	h,0x00
3013  0D27  19          	add	hl, de
3014  0D28  36 02       	ld	(hl),0x02
3015  0D2A  11 00 00    	ld	de,_bullet_max+0
3016  0D2D  69          	ld	l,c
3017  0D2E  26 00       	ld	h,0x00
3018  0D30  19          	add	hl, de
3019  0D31  36 08       	ld	(hl),0x08
3020  0D33  3A 00 00    	ld	a,(_boss_col)
3021  0D36  C5          	push	bc
3022  0D37  F5          	push	af
3023  0D38  33          	inc	sp
3024  0D39  3A 00 00    	ld	a,(_boss_lin)
3025  0D3C  F5          	push	af
3026  0D3D  33          	inc	sp
3027  0D3E  CD 00 00    	call	_spr_calc_index
3028  0D41  F1          	pop	af
3029  0D42  EB          	ex	de,hl
3030  0D43  C1          	pop	bc
3031  0D44  ED 53 00 00 	ld	(_index1),de
3032  0D48  DD 7E 05    	ld	a,(ix+5)
3033  0D4B  B7          	or	a, a
3034  0D4C  28 32       	jr	Z,l_game_shoot_fire_boss_00113
3035  0D4E  3A 00 00    	ld	a,(_boss_col)
3036  0D51  D6 01       	sub	a,0x01
3037  0D53  30 04       	jr	NC,l_game_shoot_fire_boss_00109
3038  0D55  2E 01       	ld	l,0x01
3039  0D57  18 58       	jr	l_game_shoot_fire_boss_00117
3040  0D59              l_game_shoot_fire_boss_00109:
3041  0D59  DD 6E FE    	ld	l,(ix-2)
3042  0D5C  DD 66 FF    	ld	h,(ix-1)
3043  0D5F  3A 00 00    	ld	a,(_boss_col)
3044  0D62  77          	ld	(hl),a
3045  0D63  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3046  0D65  81          	add	a, c
3047  0D66  5F          	ld	e, a
3048  0D67  3E 00       	ld	a, +((_bullet_tile) / 256)
3049  0D69  CE 00       	adc	a,0x00
3050  0D6B  57          	ld	d, a
3051  0D6C  DD 7E 04    	ld	a,(ix+4)
3052  0D6F  C6 02       	add	a,0x02
3053  0D71  E1          	pop	hl
3054  0D72  12          	ld	(de),a
3055  0D73  E5          	push	hl
3056  0D74  36 01       	ld	(hl),0x01
3057  0D76  06 00       	ld	b,0x00
3058  0D78  21 00 00    	ld	hl,_bullet_colint
3059  0D7B  09          	add	hl, bc
3060  0D7C  36 02       	ld	(hl),0x02
3061  0D7E  18 2F       	jr	l_game_shoot_fire_boss_00116
3062  0D80              l_game_shoot_fire_boss_00113:
3063  0D80  3E 1D       	ld	a,0x1d
3064  0D82  21 00 00    	ld	hl,_boss_col
3065  0D85  96          	sub	a, (hl)
3066  0D86  30 04       	jr	NC,l_game_shoot_fire_boss_00111
3067  0D88  2E 01       	ld	l,0x01
3068  0D8A  18 25       	jr	l_game_shoot_fire_boss_00117
3069  0D8C              l_game_shoot_fire_boss_00111:
3070  0D8C  DD 6E FE    	ld	l,(ix-2)
3071  0D8F  DD 66 FF    	ld	h,(ix-1)
3072  0D92  3A 00 00    	ld	a,(_boss_col)
3073  0D95  77          	ld	(hl),a
3074  0D96  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3075  0D98  81          	add	a, c
3076  0D99  5F          	ld	e, a
3077  0D9A  3E 00       	ld	a, +((_bullet_tile) / 256)
3078  0D9C  CE 00       	adc	a,0x00
3079  0D9E  57          	ld	d, a
3080  0D9F  DD 7E 04    	ld	a,(ix+4)
3081  0DA2  E1          	pop	hl
3082  0DA3  12          	ld	(de),a
3083  0DA4  E5          	push	hl
3084  0DA5  36 FF       	ld	(hl),0xff
3085  0DA7  06 00       	ld	b,0x00
3086  0DA9  21 00 00    	ld	hl,_bullet_colint
3087  0DAC  09          	add	hl, bc
3088  0DAD  36 FF       	ld	(hl),0xff
3089  0DAF              l_game_shoot_fire_boss_00116:
3090  0DAF  2E 00       	ld	l,0x00
3091  0DB1              l_game_shoot_fire_boss_00117:
3092  0DB1  DD F9       	ld	sp, ix
3093  0DB3  DD E1       	pop	ix
3094  0DB5  C9          	ret
3095  0DB6              	SECTION code_compiler
3096  0DB6              ;	---------------------------------
3097  0DB6              ; Function game_obj_set
3098  0DB6              ; ---------------------------------
3099  0DB6              _game_obj_set:
3100  0DB6  3A 00 00    	ld	a,(_scr_curr)
3101  0DB9  EB          	ex	de,hl
3102  0DBA  D6 08       	sub	a,0x08
3103  0DBC  30 19       	jr	NC,l_game_obj_set_00102
3104  0DBE  21 00 00    	ld	hl,_scr_obj0
3105  0DC1  19          	add	hl,de
3106  0DC2  5E          	ld	e,(hl)
3107  0DC3  3A 00 00    	ld	a,(_scr_curr)
3108  0DC6  3C          	inc	a
3109  0DC7  16 01       	ld	d,0x01
3110  0DC9  4D          	ld	c,l
3111  0DCA  44          	ld	b,h
3112  0DCB  18 02       	jr	l_game_obj_set_00111
3113  0DCD              l_game_obj_set_00110:
3114  0DCD  CB 22       	sla	d
3115  0DCF              l_game_obj_set_00111:
3116  0DCF  3D          	dec	a
3117  0DD0  20 FB       	jr	NZ,l_game_obj_set_00110
3118  0DD2  7B          	ld	a, e
3119  0DD3  B2          	or	a, d
3120  0DD4  02          	ld	(bc), a
3121  0DD5  18 17       	jr	l_game_obj_set_00104
3122  0DD7              l_game_obj_set_00102:
3123  0DD7  3A 00 00    	ld	a,(_scr_curr)
3124  0DDA  C6 F8       	add	a,0xf8
3125  0DDC  47          	ld	b, a
3126  0DDD  21 00 00    	ld	hl,_scr_obj1
3127  0DE0  19          	add	hl, de
3128  0DE1  4E          	ld	c, (hl)
3129  0DE2  1E 01       	ld	e,0x01
3130  0DE4  04          	inc	b
3131  0DE5  18 02       	jr	l_game_obj_set_00113
3132  0DE7              l_game_obj_set_00112:
3133  0DE7  CB 23       	sla	e
3134  0DE9              l_game_obj_set_00113:
3135  0DE9  10 FC       	djnz	l_game_obj_set_00112
3136  0DEB  79          	ld	a, c
3137  0DEC  B3          	or	a, e
3138  0DED  77          	ld	(hl), a
3139  0DEE              l_game_obj_set_00104:
3140  0DEE  C9          	ret
3141  0DEF              	SECTION code_compiler
3142  0DEF              ;	---------------------------------
3143  0DEF              ; Function game_obj_chk
3144  0DEF              ; ---------------------------------
3145  0DEF              _game_obj_chk:
3146  0DEF  3A 00 00    	ld	a,(_scr_curr)
3147  0DF2  EB          	ex	de,hl
3148  0DF3  D6 08       	sub	a,0x08
3149  0DF5  30 17       	jr	NC,l_game_obj_chk_00102
3150  0DF7  21 00 00    	ld	hl,_scr_obj0
3151  0DFA  19          	add	hl, de
3152  0DFB  4E          	ld	c, (hl)
3153  0DFC  21 00 00    	ld	hl,_scr_curr
3154  0DFF  46          	ld	b, (hl)
3155  0E00  1E 01       	ld	e,0x01
3156  0E02  04          	inc	b
3157  0E03  18 02       	jr	l_game_obj_chk_00111
3158  0E05              l_game_obj_chk_00110:
3159  0E05  CB 23       	sla	e
3160  0E07              l_game_obj_chk_00111:
3161  0E07  10 FC       	djnz	l_game_obj_chk_00110
3162  0E09  79          	ld	a, c
3163  0E0A  A3          	and	a, e
3164  0E0B  6F          	ld	l, a
3165  0E0C  18 17       	jr	l_game_obj_chk_00104
3166  0E0E              l_game_obj_chk_00102:
3167  0E0E  3A 00 00    	ld	a,(_scr_curr)
3168  0E11  C6 F8       	add	a,0xf8
3169  0E13  47          	ld	b, a
3170  0E14  21 00 00    	ld	hl,_scr_obj1
3171  0E17  19          	add	hl, de
3172  0E18  4E          	ld	c, (hl)
3173  0E19  1E 01       	ld	e,0x01
3174  0E1B  04          	inc	b
3175  0E1C  18 02       	jr	l_game_obj_chk_00113
3176  0E1E              l_game_obj_chk_00112:
3177  0E1E  CB 23       	sla	e
3178  0E20              l_game_obj_chk_00113:
3179  0E20  10 FC       	djnz	l_game_obj_chk_00112
3180  0E22  79          	ld	a, c
3181  0E23  A3          	and	a, e
3182  0E24  6F          	ld	l, a
3183  0E25              l_game_obj_chk_00104:
3184  0E25  C9          	ret
3185  0E26              	SECTION code_compiler
3186  0E26              ;	---------------------------------
3187  0E26              ; Function game_obj_clear
3188  0E26              ; ---------------------------------
3189  0E26              _game_obj_clear:
3190  0E26  21 00 00    	ld	hl,_tmp
3191  0E29  36 00       	ld	(hl),0x00
3192  0E2B              l_game_obj_clear_00105:
3193  0E2B  2A 00 00    	ld	hl,(_tmp)
3194  0E2E  26 00       	ld	h,0x00
3195  0E30  01 00 00    	ld	bc,_scr_obj0
3196  0E33  09          	add	hl,bc
3197  0E34  AF          	xor	a,a
3198  0E35  77          	ld	(hl),a
3199  0E36  2A 00 00    	ld	hl,(_tmp)
3200  0E39  26 00       	ld	h,0x00
3201  0E3B  01 00 00    	ld	bc,_scr_obj1
3202  0E3E  09          	add	hl,bc
3203  0E3F  AF          	xor	a,a
3204  0E40  77          	ld	(hl),a
3205  0E41  21 00 00    	ld	hl,_tmp
3206  0E44  7E          	ld	a,(hl)
3207  0E45  3C          	inc	a
3208  0E46  77          	ld	(hl),a
3209  0E47  D6 A0       	sub	a,0xa0
3210  0E49  38 E0       	jr	C,l_game_obj_clear_00105
3211  0E4B  3A 00 00    	ld	a,(_game_god_mode)
3212  0E4E  B7          	or	a, a
3213  0E4F  28 07       	jr	Z,l_game_obj_clear_00103
3214  0E51  21 00 00    	ld	hl,_tmp
3215  0E54  36 01       	ld	(hl),0x01
3216  0E56  18 05       	jr	l_game_obj_clear_00104
3217  0E58              l_game_obj_clear_00103:
3218  0E58  21 00 00    	ld	hl,_tmp
3219  0E5B  36 00       	ld	(hl),0x00
3220  0E5D              l_game_obj_clear_00104:
3221  0E5D  3A 00 00    	ld	a,(_tmp)
3222  0E60  32 00 00    	ld	(_player_keys),a
3223  0E63  32 01 00    	ld	((_player_keys + 0x0001)),a
3224  0E66  3A 00 00    	ld	a,(_tmp)
3225  0E69  32 02 00    	ld	((_player_keys + 0x0002)),a
3226  0E6C  32 03 00    	ld	((_player_keys + 0x0003)),a
3227  0E6F  C9          	ret
3228  0E70              	SECTION code_compiler
3229  0E70              ;	---------------------------------
3230  0E70              ; Function game_boss_clear
3231  0E70              ; ---------------------------------
3232  0E70              _game_boss_clear:
3233  0E70  3A 00 00    	ld	a,(_game_world)
3234  0E73  B7          	or	a, a
3235  0E74  20 38       	jr	NZ,l_game_boss_clear_00108
3236  0E76  01 00 00    	ld	bc,0x0000
3237  0E79              l_game_boss_clear_00106:
3238  0E79  F3          	di
3239  0E7A  21 00 00    	ld	hl,_scr_map
3240  0E7D  09          	add	hl, bc
3241  0E7E  7E          	ld	a, (hl)
3242  0E7F  D6 37       	sub	a,0x37
3243  0E81  20 21       	jr	NZ,l_game_boss_clear_00102
3244  0E83  77          	ld	(hl),a
3245  0E84  79          	ld	a, c
3246  0E85  E6 0F       	and	a,0x0f
3247  0E87  87          	add	a, a
3248  0E88  67          	ld	h, a
3249  0E89  50          	ld	d,b
3250  0E8A  79          	ld	a,c
3251  0E8B  1E 04       	ld	e,0x04
3252  0E8D              l_game_boss_clear_00125:
3253  0E8D  CB 3A       	srl	d
3254  0E8F  1F          	rra
3255  0E90  1D          	dec	e
3256  0E91  20 FA       	jr	NZ,l_game_boss_clear_00125
3257  0E93  07          	rlca
3258  0E94  07          	rlca
3259  0E95  07          	rlca
3260  0E96  07          	rlca
3261  0E97  E6 F0       	and	a,0xf0
3262  0E99  57          	ld	d, a
3263  0E9A  C5          	push	bc
3264  0E9B  6A          	ld	l,d
3265  0E9C  E5          	push	hl
3266  0E9D  AF          	xor	a, a
3267  0E9E  F5          	push	af
3268  0E9F  33          	inc	sp
3269  0EA0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3270  0EA3  C1          	pop	bc
3271  0EA4              l_game_boss_clear_00102:
3272  0EA4  FB          	ei
3273  0EA5  03          	inc	bc
3274  0EA6  79          	ld	a, c
3275  0EA7  D6 A0       	sub	a,0xa0
3276  0EA9  78          	ld	a, b
3277  0EAA  DE 00       	sbc	a,0x00
3278  0EAC  38 CB       	jr	C,l_game_boss_clear_00106
3279  0EAE              l_game_boss_clear_00108:
3280  0EAE  C9          	ret
3281  0EAF              	SECTION code_compiler
3282  0EAF              ;	---------------------------------
3283  0EAF              ; Function game_rotate_attrib
3284  0EAF              ; ---------------------------------
3285  0EAF              _game_rotate_attrib:
3286  0EAF  01 03 00    	ld	bc,_attrib_hl + 3
3287  0EB2  0A          	ld	a, (bc)
3288  0EB3  32 00 00    	ld	(_tmp_uc),a
3289  0EB6  11 02 00    	ld	de,_attrib_hl + 2
3290  0EB9  1A          	ld	a, (de)
3291  0EBA  02          	ld	(bc), a
3292  0EBB  01 01 00    	ld	bc,_attrib_hl + 1
3293  0EBE  0A          	ld	a, (bc)
3294  0EBF  12          	ld	(de), a
3295  0EC0  3A 00 00    	ld	a,(_attrib_hl)
3296  0EC3  02          	ld	(bc), a
3297  0EC4  3A 00 00    	ld	a,(_tmp_uc)
3298  0EC7  32 00 00    	ld	(_attrib_hl),a
3299  0ECA  C9          	ret
3300  0ECB              	SECTION code_compiler
3301  0ECB              ;	---------------------------------
3302  0ECB              ; Function game_rotate_attrib_osd
3303  0ECB              ; ---------------------------------
3304  0ECB              _game_rotate_attrib_osd:
3305  0ECB  01 03 00    	ld	bc,_attrib_osd + 3
3306  0ECE  0A          	ld	a, (bc)
3307  0ECF  32 00 00    	ld	(_tmp_uc),a
3308  0ED2  11 02 00    	ld	de,_attrib_osd + 2
3309  0ED5  1A          	ld	a, (de)
3310  0ED6  02          	ld	(bc), a
3311  0ED7  01 01 00    	ld	bc,_attrib_osd + 1
3312  0EDA  0A          	ld	a, (bc)
3313  0EDB  12          	ld	(de), a
3314  0EDC  3A 00 00    	ld	a,(_attrib_osd)
3315  0EDF  02          	ld	(bc), a
3316  0EE0  3A 00 00    	ld	a,(_tmp_uc)
3317  0EE3  32 00 00    	ld	(_attrib_osd),a
3318  0EE6  C9          	ret
3319  0EE7              	SECTION code_compiler
3320  0EE7              ;	---------------------------------
3321  0EE7              ; Function game_attribs
3322  0EE7              ; ---------------------------------
3323  0EE7              _game_attribs:
3324  0EE7  01 00 00    	ld	bc,_attrib+0
3325  0EEA  21 00 00    	ld	hl,_map_paper
3326  0EED  7E          	ld	a, (hl)
3327  0EEE  F6 47       	or	a,0x47
3328  0EF0  02          	ld	(bc), a
3329  0EF1  59          	ld	e, c
3330  0EF2  50          	ld	d, b
3331  0EF3  13          	inc	de
3332  0EF4  7E          	ld	a, (hl)
3333  0EF5  F6 45       	or	a,0x45
3334  0EF7  12          	ld	(de), a
3335  0EF8  7E          	ld	a, (hl)
3336  0EF9  F6 45       	or	a,0x45
3337  0EFB  32 02 00    	ld	((_attrib + 0x0002)),a
3338  0EFE  03          	inc	bc
3339  0EFF  03          	inc	bc
3340  0F00  03          	inc	bc
3341  0F01  21 00 00    	ld	hl,_map_paper
3342  0F04  7E          	ld	a, (hl)
3343  0F05  F6 41       	or	a,0x41
3344  0F07  02          	ld	(bc), a
3345  0F08  01 00 00    	ld	bc,_attrib_hl+0
3346  0F0B  7E          	ld	a, (hl)
3347  0F0C  F6 41       	or	a,0x41
3348  0F0E  02          	ld	(bc), a
3349  0F0F  59          	ld	e, c
3350  0F10  50          	ld	d, b
3351  0F11  13          	inc	de
3352  0F12  7E          	ld	a, (hl)
3353  0F13  F6 41       	or	a,0x41
3354  0F15  12          	ld	(de), a
3355  0F16  7E          	ld	a, (hl)
3356  0F17  F6 43       	or	a,0x43
3357  0F19  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3358  0F1C  03          	inc	bc
3359  0F1D  03          	inc	bc
3360  0F1E  03          	inc	bc
3361  0F1F  21 00 00    	ld	hl,_map_paper
3362  0F22  7E          	ld	a, (hl)
3363  0F23  F6 45       	or	a,0x45
3364  0F25  02          	ld	(bc), a
3365  0F26  01 00 00    	ld	bc,_attrib_osd+0
3366  0F29  7E          	ld	a, (hl)
3367  0F2A  F6 45       	or	a,0x45
3368  0F2C  02          	ld	(bc), a
3369  0F2D  59          	ld	e, c
3370  0F2E  50          	ld	d, b
3371  0F2F  13          	inc	de
3372  0F30  7E          	ld	a, (hl)
3373  0F31  F6 47       	or	a,0x47
3374  0F33  12          	ld	(de), a
3375  0F34  7E          	ld	a, (hl)
3376  0F35  F6 47       	or	a,0x47
3377  0F37  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3378  0F3A  03          	inc	bc
3379  0F3B  03          	inc	bc
3380  0F3C  03          	inc	bc
3381  0F3D  3A 00 00    	ld	a,(_map_paper)
3382  0F40  F6 45       	or	a,0x45
3383  0F42  02          	ld	(bc), a
3384  0F43  C9          	ret
3385  0F44              	SECTION code_compiler
3386  0F44              ;	---------------------------------
3387  0F44              ; Function game_match_back
3388  0F44              ; ---------------------------------
3389  0F44              _game_match_back:
3390  0F44  CD 00 00    	call	___sdcc_enter_ix
3391  0F47  3E 01       	ld	a,0x01
3392  0F49  DD BE 04    	cp	a,(ix+4)
3393  0F4C  3E 00       	ld	a,0x00
3394  0F4E  DD 9E 05    	sbc	a,(ix+5)
3395  0F51  30 1B       	jr	NC,l_game_match_back_00102
3396  0F53  DD 7E 04    	ld	a,(ix+4)
3397  0F56  E6 0F       	and	a,0x0f
3398  0F58  28 14       	jr	Z,l_game_match_back_00102
3399  0F5A  DD 4E 04    	ld	c,(ix+4)
3400  0F5D  DD 46 05    	ld	b,(ix+5)
3401  0F60  0B          	dec	bc
3402  0F61  21 00 00    	ld	hl,_scr_map
3403  0F64  09          	add	hl, bc
3404  0F65  7E          	ld	a, (hl)
3405  0F66  D6 1D       	sub	a,0x1d
3406  0F68  20 04       	jr	NZ,l_game_match_back_00102
3407  0F6A  2E 1D       	ld	l,0x1d
3408  0F6C  18 02       	jr	l_game_match_back_00105
3409  0F6E              l_game_match_back_00102:
3410  0F6E  2E 00       	ld	l,0x00
3411  0F70              l_game_match_back_00105:
3412  0F70  DD E1       	pop	ix
3413  0F72  C9          	ret
3414  0F73              	SECTION code_compiler
3415  0F73              ;	---------------------------------
3416  0F73              ; Function menu_main
3417  0F73              ; ---------------------------------
3418  0F73              _menu_main:
3419  0F73  CD 00 00    	call	___sdcc_enter_ix
3420  0F76  3B          	dec	sp
3421  0F77  DD 36 FF 01 	ld	(ix-1),0x01
3422  0F7B  21 00 00    	ld	hl,_map_paper
3423  0F7E  36 00       	ld	(hl),0x00
3424  0F80  0E 01       	ld	c,0x01
3425  0F82  C5          	push	bc
3426  0F83  21 0A 16    	ld	hl,0x160a
3427  0F86  E5          	push	hl
3428  0F87  3E 07       	ld	a,0x07
3429  0F89  F5          	push	af
3430  0F8A  33          	inc	sp
3431  0F8B  CD 96 10    	call	_menu_main_print
3432  0F8E  F1          	pop	af
3433  0F8F  33          	inc	sp
3434  0F90  C1          	pop	bc
3435  0F91              l_menu_main_00112:
3436  0F91  DD 7E FF    	ld	a,(ix-1)
3437  0F94  B7          	or	a, a
3438  0F95  CA 92 10    	jp	Z, l_menu_main_00115
3439  0F98  C5          	push	bc
3440  0F99  21 28 00    	ld	hl,0x0028
3441  0F9C  CD 00 00    	call	_z80_delay_ms_fastcall
3442  0F9F  CD 00 00    	call	_in_inkey
3443  0FA2  E5          	push	hl
3444  0FA3  CD AF 0E    	call	_game_rotate_attrib
3445  0FA6  D1          	pop	de
3446  0FA7  C1          	pop	bc
3447  0FA8  79          	ld	a, c
3448  0FA9  C6 06       	add	a,0x06
3449  0FAB  47          	ld	b,a
3450  0FAC  07          	rlca
3451  0FAD  07          	rlca
3452  0FAE  07          	rlca
3453  0FAF  E6 F8       	and	a,0xf8
3454  0FB1  C6 08       	add	a,0x08
3455  0FB3  57          	ld	d, a
3456  0FB4  C5          	push	bc
3457  0FB5  D5          	push	de
3458  0FB6  D5          	push	de
3459  0FB7  33          	inc	sp
3460  0FB8  21 0B 16    	ld	hl,0x160b
3461  0FBB  E5          	push	hl
3462  0FBC  CD E1 08    	call	_game_paint_attrib_lin_h
3463  0FBF  F1          	pop	af
3464  0FC0  33          	inc	sp
3465  0FC1  D1          	pop	de
3466  0FC2  C1          	pop	bc
3467  0FC3  7B          	ld	a, e
3468  0FC4  C6 D0       	add	a,0xd0
3469  0FC6  5F          	ld	e, a
3470  0FC7  3E 06       	ld	a,0x06
3471  0FC9  93          	sub	a, e
3472  0FCA  38 C5       	jr	C,l_menu_main_00112
3473  0FCC  D5          	push	de
3474  0FCD  16 00       	ld	d,0x00
3475  0FCF  21 D7 0F    	ld	hl,l_menu_main_00133
3476  0FD2  19          	add	hl, de
3477  0FD3  19          	add	hl, de
3478  0FD4  19          	add	hl, de
3479  0FD5  D1          	pop	de
3480  0FD6  E9          	jp	(hl)
3481  0FD7              l_menu_main_00133:
3482  0FD7  C3 84 10    	jp	l_menu_main_00110
3483  0FDA  C3 EC 0F    	jp	l_menu_main_00101
3484  0FDD  C3 01 10    	jp	l_menu_main_00102
3485  0FE0  C3 17 10    	jp	l_menu_main_00103
3486  0FE3  C3 2D 10    	jp	l_menu_main_00104
3487  0FE6  C3 43 10    	jp	l_menu_main_00105
3488  0FE9  C3 5E 10    	jp	l_menu_main_00106
3489  0FEC              l_menu_main_00101:
3490  0FEC  21 00 00    	ld	hl,_in_stick_sinclair1
3491  0FEF  22 00 00    	ld	(_joyfunc1),hl
3492  0FF2  D5          	push	de
3493  0FF3  33          	inc	sp
3494  0FF4  21 0A 16    	ld	hl,0x160a
3495  0FF7  E5          	push	hl
3496  0FF8  CD BA 08    	call	_game_paint_attrib_lin
3497  0FFB  F1          	pop	af
3498  0FFC  33          	inc	sp
3499  0FFD  0E 01       	ld	c,0x01
3500  0FFF  18 90       	jr	l_menu_main_00112
3501  1001              l_menu_main_00102:
3502  1001  21 00 00    	ld	hl,_in_stick_keyboard
3503  1004  22 00 00    	ld	(_joyfunc1),hl
3504  1007  D5          	push	de
3505  1008  33          	inc	sp
3506  1009  21 0A 16    	ld	hl,0x160a
3507  100C  E5          	push	hl
3508  100D  CD BA 08    	call	_game_paint_attrib_lin
3509  1010  F1          	pop	af
3510  1011  33          	inc	sp
3511  1012  0E 02       	ld	c,0x02
3512  1014  C3 91 0F    	jp	l_menu_main_00112
3513  1017              l_menu_main_00103:
3514  1017  21 00 00    	ld	hl,_in_stick_kempston
3515  101A  22 00 00    	ld	(_joyfunc1),hl
3516  101D  D5          	push	de
3517  101E  33          	inc	sp
3518  101F  21 0A 16    	ld	hl,0x160a
3519  1022  E5          	push	hl
3520  1023  CD BA 08    	call	_game_paint_attrib_lin
3521  1026  F1          	pop	af
3522  1027  33          	inc	sp
3523  1028  0E 03       	ld	c,0x03
3524  102A  C3 91 0F    	jp	l_menu_main_00112
3525  102D              l_menu_main_00104:
3526  102D  21 00 00    	ld	hl,_in_stick_cursor
3527  1030  22 00 00    	ld	(_joyfunc1),hl
3528  1033  D5          	push	de
3529  1034  33          	inc	sp
3530  1035  21 0A 16    	ld	hl,0x160a
3531  1038  E5          	push	hl
3532  1039  CD BA 08    	call	_game_paint_attrib_lin
3533  103C  F1          	pop	af
3534  103D  33          	inc	sp
3535  103E  0E 04       	ld	c,0x04
3536  1040  C3 91 0F    	jp	l_menu_main_00112
3537  1043              l_menu_main_00105:
3538  1043  D5          	push	de
3539  1044  CD 74 12    	call	_menu_redefine
3540  1047  D1          	pop	de
3541  1048  21 00 00    	ld	hl,_in_stick_keyboard
3542  104B  22 00 00    	ld	(_joyfunc1),hl
3543  104E  D5          	push	de
3544  104F  33          	inc	sp
3545  1050  21 0A 16    	ld	hl,0x160a
3546  1053  E5          	push	hl
3547  1054  CD BA 08    	call	_game_paint_attrib_lin
3548  1057  F1          	pop	af
3549  1058  33          	inc	sp
3550  1059  0E 02       	ld	c,0x02
3551  105B  C3 91 0F    	jp	l_menu_main_00112
3552  105E              l_menu_main_00106:
3553  105E  21 00 00    	ld	hl,_game_2buttons
3554  1061  7E          	ld	a, (hl)
3555  1062  B7          	or	a, a
3556  1063  28 04       	jr	Z,l_menu_main_00108
3557  1065  36 00       	ld	(hl),0x00
3558  1067  18 05       	jr	l_menu_main_00109
3559  1069              l_menu_main_00108:
3560  1069  21 00 00    	ld	hl,_game_2buttons
3561  106C  36 01       	ld	(hl),0x01
3562  106E              l_menu_main_00109:
3563  106E  C5          	push	bc
3564  106F  21 0A 16    	ld	hl,0x160a
3565  1072  E5          	push	hl
3566  1073  C5          	push	bc
3567  1074  33          	inc	sp
3568  1075  CD 96 10    	call	_menu_main_print
3569  1078  F1          	pop	af
3570  1079  33          	inc	sp
3571  107A  21 28 00    	ld	hl,0x0028
3572  107D  CD 00 00    	call	_z80_delay_ms_fastcall
3573  1080  C1          	pop	bc
3574  1081  C3 91 0F    	jp	l_menu_main_00112
3575  1084              l_menu_main_00110:
3576  1084  C5          	push	bc
3577  1085  2E 00       	ld	l,0x00
3578  1087  CD 00 00    	call	_zx_cls_fastcall
3579  108A  C1          	pop	bc
3580  108B  DD 36 FF 00 	ld	(ix-1),0x00
3581  108F  C3 91 0F    	jp	l_menu_main_00112
3582  1092              l_menu_main_00115:
3583  1092  33          	inc	sp
3584  1093  DD E1       	pop	ix
3585  1095  C9          	ret
3586  1096              	SECTION code_compiler
3587  1096              ;	---------------------------------
3588  1096              ; Function menu_main_print
3589  1096              ; ---------------------------------
3590  1096              _menu_main_print:
3591  1096  CD 00 00    	call	___sdcc_enter_ix
3592  1099  76          	halt
3593  109A  2E 00       	ld	l,0x00
3594  109C  CD 00 00    	call	_zx_cls_fastcall
3595  109F  21 00 00    	ld	hl,_screen_ink
3596  10A2  36 07       	ld	(hl),0x07
3597  10A4  21 20 0B    	ld	hl,0x0b20
3598  10A7  E5          	push	hl
3599  10A8  21 00 D4    	ld	hl,0xd400
3600  10AB  E5          	push	hl
3601  10AC  CD 00 00    	call	_NIRVANAP_spriteT_callee
3602  10AF  21 20 0D    	ld	hl,0x0d20
3603  10B2  E5          	push	hl
3604  10B3  21 01 D5    	ld	hl,0xd501
3605  10B6  E5          	push	hl
3606  10B7  CD 00 00    	call	_NIRVANAP_spriteT_callee
3607  10BA  21 20 0F    	ld	hl,0x0f20
3608  10BD  E5          	push	hl
3609  10BE  21 02 D6    	ld	hl,0xd602
3610  10C1  E5          	push	hl
3611  10C2  CD 00 00    	call	_NIRVANAP_spriteT_callee
3612  10C5  21 20 11    	ld	hl,0x1120
3613  10C8  E5          	push	hl
3614  10C9  21 03 D7    	ld	hl,0xd703
3615  10CC  E5          	push	hl
3616  10CD  CD 00 00    	call	_NIRVANAP_spriteT_callee
3617  10D0  CD E7 0E    	call	_game_attribs
3618  10D3  21 76 00    	ld	hl,___str_28
3619  10D6  E5          	push	hl
3620  10D7  DD 66 05    	ld	h,(ix+5)
3621  10DA  DD 6E 04    	ld	l,(ix+4)
3622  10DD  E5          	push	hl
3623  10DE  CD 00 00    	call	_zx_print_str
3624  10E1  DD 7E 04    	ld	a,(ix+4)
3625  10E4  07          	rlca
3626  10E5  07          	rlca
3627  10E6  07          	rlca
3628  10E7  E6 F8       	and	a,0xf8
3629  10E9  C6 08       	add	a,0x08
3630  10EB  F5          	push	af
3631  10EC  33          	inc	sp
3632  10ED  DD 66 06    	ld	h,(ix+6)
3633  10F0  DD 6E 05    	ld	l,(ix+5)
3634  10F3  E5          	push	hl
3635  10F4  CD BA 08    	call	_game_paint_attrib_lin
3636  10F7  F1          	pop	af
3637  10F8  33          	inc	sp
3638  10F9  DD 34 04    	inc	(ix+4)
3639  10FC  21 81 00    	ld	hl,___str_29
3640  10FF  E5          	push	hl
3641  1100  DD 66 05    	ld	h,(ix+5)
3642  1103  DD 6E 04    	ld	l,(ix+4)
3643  1106  E5          	push	hl
3644  1107  CD 00 00    	call	_zx_print_str
3645  110A  DD 7E 04    	ld	a,(ix+4)
3646  110D  07          	rlca
3647  110E  07          	rlca
3648  110F  07          	rlca
3649  1110  E6 F8       	and	a,0xf8
3650  1112  C6 08       	add	a,0x08
3651  1114  F5          	push	af
3652  1115  33          	inc	sp
3653  1116  DD 66 06    	ld	h,(ix+6)
3654  1119  DD 6E 05    	ld	l,(ix+5)
3655  111C  E5          	push	hl
3656  111D  CD BA 08    	call	_game_paint_attrib_lin
3657  1120  F1          	pop	af
3658  1121  33          	inc	sp
3659  1122  DD 34 04    	inc	(ix+4)
3660  1125  21 8C 00    	ld	hl,___str_30
3661  1128  E5          	push	hl
3662  1129  DD 66 05    	ld	h,(ix+5)
3663  112C  DD 6E 04    	ld	l,(ix+4)
3664  112F  E5          	push	hl
3665  1130  CD 00 00    	call	_zx_print_str
3666  1133  DD 7E 04    	ld	a,(ix+4)
3667  1136  07          	rlca
3668  1137  07          	rlca
3669  1138  07          	rlca
3670  1139  E6 F8       	and	a,0xf8
3671  113B  C6 08       	add	a,0x08
3672  113D  F5          	push	af
3673  113E  33          	inc	sp
3674  113F  DD 66 06    	ld	h,(ix+6)
3675  1142  DD 6E 05    	ld	l,(ix+5)
3676  1145  E5          	push	hl
3677  1146  CD BA 08    	call	_game_paint_attrib_lin
3678  1149  F1          	pop	af
3679  114A  33          	inc	sp
3680  114B  DD 34 04    	inc	(ix+4)
3681  114E  21 97 00    	ld	hl,___str_31
3682  1151  E5          	push	hl
3683  1152  DD 66 05    	ld	h,(ix+5)
3684  1155  DD 6E 04    	ld	l,(ix+4)
3685  1158  E5          	push	hl
3686  1159  CD 00 00    	call	_zx_print_str
3687  115C  DD 7E 04    	ld	a,(ix+4)
3688  115F  07          	rlca
3689  1160  07          	rlca
3690  1161  07          	rlca
3691  1162  E6 F8       	and	a,0xf8
3692  1164  C6 08       	add	a,0x08
3693  1166  F5          	push	af
3694  1167  33          	inc	sp
3695  1168  DD 66 06    	ld	h,(ix+6)
3696  116B  DD 6E 05    	ld	l,(ix+5)
3697  116E  E5          	push	hl
3698  116F  CD BA 08    	call	_game_paint_attrib_lin
3699  1172  F1          	pop	af
3700  1173  33          	inc	sp
3701  1174  DD 34 04    	inc	(ix+4)
3702  1177  21 A0 00    	ld	hl,___str_32
3703  117A  E5          	push	hl
3704  117B  DD 66 05    	ld	h,(ix+5)
3705  117E  DD 6E 04    	ld	l,(ix+4)
3706  1181  E5          	push	hl
3707  1182  CD 00 00    	call	_zx_print_str
3708  1185  DD 7E 04    	ld	a,(ix+4)
3709  1188  07          	rlca
3710  1189  07          	rlca
3711  118A  07          	rlca
3712  118B  E6 F8       	and	a,0xf8
3713  118D  C6 08       	add	a,0x08
3714  118F  F5          	push	af
3715  1190  33          	inc	sp
3716  1191  DD 66 06    	ld	h,(ix+6)
3717  1194  DD 6E 05    	ld	l,(ix+5)
3718  1197  E5          	push	hl
3719  1198  CD BA 08    	call	_game_paint_attrib_lin
3720  119B  F1          	pop	af
3721  119C  33          	inc	sp
3722  119D  DD 34 04    	inc	(ix+4)
3723  11A0  21 A9 00    	ld	hl,___str_33
3724  11A3  E5          	push	hl
3725  11A4  DD 66 05    	ld	h,(ix+5)
3726  11A7  DD 6E 04    	ld	l,(ix+4)
3727  11AA  E5          	push	hl
3728  11AB  CD 00 00    	call	_zx_print_str
3729  11AE  DD 7E 05    	ld	a,(ix+5)
3730  11B1  C6 0A       	add	a,0x0a
3731  11B3  47          	ld	b, a
3732  11B4  3A 00 00    	ld	a,(_game_2buttons)
3733  11B7  B7          	or	a, a
3734  11B8  28 0D       	jr	Z,l_menu_main_print_00102
3735  11BA  21 B3 00    	ld	hl,___str_34
3736  11BD  E5          	push	hl
3737  11BE  DD 4E 04    	ld	c,(ix+4)
3738  11C1  C5          	push	bc
3739  11C2  CD 00 00    	call	_zx_print_str
3740  11C5  18 0B       	jr	l_menu_main_print_00103
3741  11C7              l_menu_main_print_00102:
3742  11C7  21 B6 00    	ld	hl,___str_35
3743  11CA  E5          	push	hl
3744  11CB  DD 4E 04    	ld	c,(ix+4)
3745  11CE  C5          	push	bc
3746  11CF  CD 00 00    	call	_zx_print_str
3747  11D2              l_menu_main_print_00103:
3748  11D2  DD 7E 04    	ld	a,(ix+4)
3749  11D5  07          	rlca
3750  11D6  07          	rlca
3751  11D7  07          	rlca
3752  11D8  E6 F8       	and	a,0xf8
3753  11DA  C6 08       	add	a,0x08
3754  11DC  F5          	push	af
3755  11DD  33          	inc	sp
3756  11DE  DD 66 06    	ld	h,(ix+6)
3757  11E1  DD 6E 05    	ld	l,(ix+5)
3758  11E4  E5          	push	hl
3759  11E5  CD BA 08    	call	_game_paint_attrib_lin
3760  11E8  F1          	pop	af
3761  11E9  33          	inc	sp
3762  11EA  DD 34 04    	inc	(ix+4)
3763  11ED  DD 34 04    	inc	(ix+4)
3764  11F0  21 B9 00    	ld	hl,___str_36
3765  11F3  E5          	push	hl
3766  11F4  DD 66 05    	ld	h,(ix+5)
3767  11F7  DD 6E 04    	ld	l,(ix+4)
3768  11FA  E5          	push	hl
3769  11FB  CD 00 00    	call	_zx_print_str
3770  11FE  DD 7E 04    	ld	a,(ix+4)
3771  1201  07          	rlca
3772  1202  07          	rlca
3773  1203  07          	rlca
3774  1204  E6 F8       	and	a,0xf8
3775  1206  C6 08       	add	a,0x08
3776  1208  F5          	push	af
3777  1209  33          	inc	sp
3778  120A  DD 66 06    	ld	h,(ix+6)
3779  120D  DD 6E 05    	ld	l,(ix+5)
3780  1210  E5          	push	hl
3781  1211  CD BA 08    	call	_game_paint_attrib_lin
3782  1214  F1          	pop	af
3783  1215  33          	inc	sp
3784  1216  DD 34 04    	inc	(ix+4)
3785  1219  DD 34 04    	inc	(ix+4)
3786  121C  DD 34 04    	inc	(ix+4)
3787  121F  DD 34 04    	inc	(ix+4)
3788  1222  21 C1 00    	ld	hl,___str_37
3789  1225  E5          	push	hl
3790  1226  26 02       	ld	h,0x02
3791  1228  DD 6E 04    	ld	l,(ix+4)
3792  122B  E5          	push	hl
3793  122C  CD 00 00    	call	_zx_print_str
3794  122F  DD 7E 04    	ld	a,(ix+4)
3795  1232  07          	rlca
3796  1233  07          	rlca
3797  1234  07          	rlca
3798  1235  E6 F8       	and	a,0xf8
3799  1237  C6 08       	add	a,0x08
3800  1239  F5          	push	af
3801  123A  33          	inc	sp
3802  123B  21 00 1F    	ld	hl,0x1f00
3803  123E  E5          	push	hl
3804  123F  CD E1 08    	call	_game_paint_attrib_lin_h
3805  1242  F1          	pop	af
3806  1243  33          	inc	sp
3807  1244  DD 34 04    	inc	(ix+4)
3808  1247  DD 34 04    	inc	(ix+4)
3809  124A  21 00 00    	ld	hl,_screen_ink
3810  124D  36 05       	ld	(hl),0x05
3811  124F  21 DF 00    	ld	hl,___str_38
3812  1252  E5          	push	hl
3813  1253  26 08       	ld	h,0x08
3814  1255  DD 6E 04    	ld	l,(ix+4)
3815  1258  E5          	push	hl
3816  1259  CD 00 00    	call	_zx_print_str
3817  125C  DD 7E 04    	ld	a,(ix+4)
3818  125F  07          	rlca
3819  1260  07          	rlca
3820  1261  07          	rlca
3821  1262  E6 F8       	and	a,0xf8
3822  1264  C6 08       	add	a,0x08
3823  1266  F5          	push	af
3824  1267  33          	inc	sp
3825  1268  21 00 1F    	ld	hl,0x1f00
3826  126B  E5          	push	hl
3827  126C  CD BA 08    	call	_game_paint_attrib_lin
3828  126F  F1          	pop	af
3829  1270  33          	inc	sp
3830  1271  DD E1       	pop	ix
3831  1273  C9          	ret
3832  1274              	SECTION rodata_compiler
3833  0076              ___str_28:
3834  0076  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
3835  0080  00          	DEFB 0x00
3836  0081              	SECTION rodata_compiler
3837  0081              ___str_29:
3838  0081  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
3839  008B  00          	DEFB 0x00
3840  008C              	SECTION rodata_compiler
3841  008C              ___str_30:
3842  008C  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
3843  0096  00          	DEFB 0x00
3844  0097              	SECTION rodata_compiler
3845  0097              ___str_31:
3846  0097  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
3847  009F  00          	DEFB 0x00
3848  00A0              	SECTION rodata_compiler
3849  00A0              ___str_32:
3850  00A0  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
3851  00A8  00          	DEFB 0x00
3852  00A9              	SECTION rodata_compiler
3853  00A9              ___str_33:
3854  00A9  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
3855  00B2  00          	DEFB 0x00
3856  00B3              	SECTION rodata_compiler
3857  00B3              ___str_34:
3858  00B3  32 42       	DEFM "2B"
3859  00B5  00          	DEFB 0x00
3860  00B6              	SECTION rodata_compiler
3861  00B6              ___str_35:
3862  00B6  31 42       	DEFM "1B"
3863  00B8  00          	DEFB 0x00
3864  00B9              	SECTION rodata_compiler
3865  00B9              ___str_36:
3866  00B9  30 20 53 54 41 52 54 
                        	DEFM "0 START"
3867  00C0  00          	DEFB 0x00
3868  00C1              	SECTION rodata_compiler
3869  00C1              ___str_37:
3870  00C1  43 47 4F 4E 5A 41 4C 45 5A 2F 41 41 4E 4F 4E 2F 53 39 2F 42 45 49 4B 45 52 2F 41 42 55 
                        	DEFM "CGONZALEZ/AANON/S9/BEIKER/ABU"
3871  00DE  00          	DEFB 0x00
3872  00DF              	SECTION rodata_compiler
3873  00DF              ___str_38:
3874  00DF  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
3875  00EE  00          	DEFB 0x00
3876  00EF              	SECTION code_compiler
3877  1274              ;	---------------------------------
3878  1274              ; Function menu_redefine
3879  1274              ; ---------------------------------
3880  1274              _menu_redefine:
3881  1274  76          	halt
3882  1275  2E 00       	ld	l,0x00
3883  1277  CD 00 00    	call	_zx_cls_fastcall
3884  127A  21 00 00    	ld	hl,_tmp0
3885  127D  36 08       	ld	(hl),0x08
3886  127F              l_menu_redefine_00105:
3887  127F  3A 00 00    	ld	a,(_tmp0)
3888  1282  07          	rlca
3889  1283  07          	rlca
3890  1284  07          	rlca
3891  1285  E6 F8       	and	a,0xf8
3892  1287  C6 08       	add	a,0x08
3893  1289  F5          	push	af
3894  128A  33          	inc	sp
3895  128B  21 0A 10    	ld	hl,0x100a
3896  128E  E5          	push	hl
3897  128F  CD BA 08    	call	_game_paint_attrib_lin
3898  1292  F1          	pop	af
3899  1293  33          	inc	sp
3900  1294  21 00 00    	ld	hl,_tmp0
3901  1297  7E          	ld	a,(hl)
3902  1298  3C          	inc	a
3903  1299  77          	ld	(hl),a
3904  129A  D6 0E       	sub	a,0x0e
3905  129C  38 E1       	jr	C,l_menu_redefine_00105
3906  129E  21 EF 00    	ld	hl,___str_39
3907  12A1  E5          	push	hl
3908  12A2  21 08 0A    	ld	hl,0x0a08
3909  12A5  E5          	push	hl
3910  12A6  CD 00 00    	call	_zx_print_str
3911  12A9  CD 32 13    	call	_menu_define_key
3912  12AC  22 08 00    	ld	(_k1 + 0x0008),hl
3913  12AF  21 F2 00    	ld	hl,___str_40
3914  12B2  E5          	push	hl
3915  12B3  21 09 0A    	ld	hl,0x0a09
3916  12B6  E5          	push	hl
3917  12B7  CD 00 00    	call	_zx_print_str
3918  12BA  CD 32 13    	call	_menu_define_key
3919  12BD  22 06 00    	ld	(_k1 + 0x0006),hl
3920  12C0  21 F7 00    	ld	hl,___str_41
3921  12C3  E5          	push	hl
3922  12C4  21 0A 0A    	ld	hl,0x0a0a
3923  12C7  E5          	push	hl
3924  12C8  CD 00 00    	call	_zx_print_str
3925  12CB  CD 32 13    	call	_menu_define_key
3926  12CE  22 04 00    	ld	(_k1 + 0x0004),hl
3927  12D1  21 FC 00    	ld	hl,___str_42
3928  12D4  E5          	push	hl
3929  12D5  21 0B 0A    	ld	hl,0x0a0b
3930  12D8  E5          	push	hl
3931  12D9  CD 00 00    	call	_zx_print_str
3932  12DC  CD 32 13    	call	_menu_define_key
3933  12DF  22 02 00    	ld	(_k1 + 0x0002),hl
3934  12E2  3A 00 00    	ld	a,(_game_2buttons)
3935  12E5  B7          	or	a, a
3936  12E6  28 24       	jr	Z,l_menu_redefine_00103
3937  12E8  21 02 01    	ld	hl,___str_43
3938  12EB  E5          	push	hl
3939  12EC  21 0C 0A    	ld	hl,0x0a0c
3940  12EF  E5          	push	hl
3941  12F0  CD 00 00    	call	_zx_print_str
3942  12F3  CD 32 13    	call	_menu_define_key
3943  12F6  22 00 00    	ld	(_k2),hl
3944  12F9  21 07 01    	ld	hl,___str_44
3945  12FC  E5          	push	hl
3946  12FD  21 0D 0A    	ld	hl,0x0a0d
3947  1300  E5          	push	hl
3948  1301  CD 00 00    	call	_zx_print_str
3949  1304  CD 32 13    	call	_menu_define_key
3950  1307  22 00 00    	ld	(_k1),hl
3951  130A  18 11       	jr	l_menu_redefine_00104
3952  130C              l_menu_redefine_00103:
3953  130C  21 02 01    	ld	hl,___str_43
3954  130F  E5          	push	hl
3955  1310  21 0C 0A    	ld	hl,0x0a0c
3956  1313  E5          	push	hl
3957  1314  CD 00 00    	call	_zx_print_str
3958  1317  CD 32 13    	call	_menu_define_key
3959  131A  22 00 00    	ld	(_k1),hl
3960  131D              l_menu_redefine_00104:
3961  131D  21 0C 20    	ld	hl,0x200c
3962  1320  E5          	push	hl
3963  1321  CD 00 00    	call	_game_fill_row
3964  1324  21 0A 14    	ld	hl,0x140a
3965  1327  E5          	push	hl
3966  1328  3E 07       	ld	a,0x07
3967  132A  F5          	push	af
3968  132B  33          	inc	sp
3969  132C  CD 96 10    	call	_menu_main_print
3970  132F  F1          	pop	af
3971  1330  33          	inc	sp
3972  1331  C9          	ret
3973  1332              	SECTION rodata_compiler
3974  00EF              ___str_39:
3975  00EF  55 50       	DEFM "UP"
3976  00F1  00          	DEFB 0x00
3977  00F2              	SECTION rodata_compiler
3978  00F2              ___str_40:
3979  00F2  44 4F 57 4E 	DEFM "DOWN"
3980  00F6  00          	DEFB 0x00
3981  00F7              	SECTION rodata_compiler
3982  00F7              ___str_41:
3983  00F7  4C 45 46 54 	DEFM "LEFT"
3984  00FB  00          	DEFB 0x00
3985  00FC              	SECTION rodata_compiler
3986  00FC              ___str_42:
3987  00FC  52 49 47 48 54 
                        	DEFM "RIGHT"
3988  0101  00          	DEFB 0x00
3989  0102              	SECTION rodata_compiler
3990  0102              ___str_43:
3991  0102  46 49 52 45 	DEFM "FIRE"
3992  0106  00          	DEFB 0x00
3993  0107              	SECTION rodata_compiler
3994  0107              ___str_44:
3995  0107  4A 55 4D 50 	DEFM "JUMP"
3996  010B  00          	DEFB 0x00
3997  010C              	SECTION code_compiler
3998  1332              ;	---------------------------------
3999  1332              ; Function menu_define_key
4000  1332              ; ---------------------------------
4001  1332              _menu_define_key:
4002  1332              l_menu_define_key_00107:
4003  1332  CD 00 00    	call	_in_wait_key
4004  1335  CD 00 00    	call	_in_inkey
4005  1338  7D          	ld	a,l
4006  1339  32 00 00    	ld	(_tmp1),a
4007  133C  CD 00 00    	call	_in_wait_nokey
4008  133F  21 00 00    	ld	hl,_tmp0
4009  1342  36 00       	ld	(hl),0x00
4010  1344              l_menu_define_key_00103:
4011  1344  21 00 00    	ld	hl,_tmp0
4012  1347  7E          	ld	a, (hl)
4013  1348  D6 26       	sub	a,0x26
4014  134A  30 E6       	jr	NC,l_menu_define_key_00107
4015  134C  4E          	ld	c,(hl)
4016  134D  06 00       	ld	b,0x00
4017  134F  21 00 00    	ld	hl,_key_map
4018  1352  09          	add	hl,bc
4019  1353  4E          	ld	c, (hl)
4020  1354  3A 00 00    	ld	a,(_tmp1)
4021  1357  91          	sub	a, c
4022  1358  20 10       	jr	NZ,l_menu_define_key_00102
4023  135A  01 00 00    	ld	bc,_scan_map+0
4024  135D  2A 00 00    	ld	hl,(_tmp0)
4025  1360  26 00       	ld	h,0x00
4026  1362  29          	add	hl, hl
4027  1363  09          	add	hl, bc
4028  1364  7E          	ld	a, (hl)
4029  1365  23          	inc	hl
4030  1366  66          	ld	h, (hl)
4031  1367  6F          	ld	l, a
4032  1368  18 06       	jr	l_menu_define_key_00109
4033  136A              l_menu_define_key_00102:
4034  136A  21 00 00    	ld	hl,_tmp0
4035  136D  34          	inc	(hl)
4036  136E  18 D4       	jr	l_menu_define_key_00103
4037  1370              l_menu_define_key_00109:
4038  1370  C9          	ret
4039  1371              	SECTION IGNORE
4040  0000              
