1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_end
190   0000              	GLOBAL _game_loop
191   0000              	GLOBAL _game_fps
192   0000              	GLOBAL _game_respawn
193   0000              	GLOBAL _game_draw_screen
194   0000              	GLOBAL _game_boss_kill
195   0000              	GLOBAL _game_add_enemy
196   0000              	GLOBAL _game_print_footer
197   0000              	GLOBAL _game_print_score
198   0000              	GLOBAL _game_update_stats
199   0000              	GLOBAL _game_start_timer
200   0000              	GLOBAL _game_set_checkpoint
201   0000              	GLOBAL _game_round_init
202   0000              	GLOBAL _game_print_header
203   0000              	GLOBAL _game_check_map
204   0000              	GLOBAL _game_check_cell
205   0000              	GLOBAL _game_paint_attrib
206   0000              	GLOBAL _game_colour_message
207   0000              	GLOBAL _game_check_time
208   0000              	GLOBAL _game_shoot_fire
209   0000              	GLOBAL _game_shoot_fire_boss
210   0000              	GLOBAL _game_obj_set
211   0000              	GLOBAL _game_obj_chk
212   0000              	GLOBAL _game_obj_clear
213   0000              	GLOBAL _game_boss_clear
214   0000              	GLOBAL _game_rotate_attrib
215   0000              	GLOBAL _game_rotate_attrib_osd
216   0000              	GLOBAL _game_attribs
217   0000              	GLOBAL _game_match_back
218   0000              	GLOBAL _menu_main
219   0000              	GLOBAL _menu_main_print
220   0000              	GLOBAL _menu_redefine
221   0000              	GLOBAL _menu_define_key
222   0000              ;--------------------------------------------------------
223   0000              ; Externals used
224   0000              ;--------------------------------------------------------
225   0000              	GLOBAL _ffsll_callee
226   0000              	GLOBAL _ffsll
227   0000              	GLOBAL _strxfrm_callee
228   0000              	GLOBAL _strxfrm
229   0000              	GLOBAL _strupr_fastcall
230   0000              	GLOBAL _strupr
231   0000              	GLOBAL _strtok_r_callee
232   0000              	GLOBAL _strtok_r
233   0000              	GLOBAL _strtok_callee
234   0000              	GLOBAL _strtok
235   0000              	GLOBAL _strstrip_fastcall
236   0000              	GLOBAL _strstrip
237   0000              	GLOBAL _strstr_callee
238   0000              	GLOBAL _strstr
239   0000              	GLOBAL _strspn_callee
240   0000              	GLOBAL _strspn
241   0000              	GLOBAL _strsep_callee
242   0000              	GLOBAL _strsep
243   0000              	GLOBAL _strrstrip_fastcall
244   0000              	GLOBAL _strrstrip
245   0000              	GLOBAL _strrspn_callee
246   0000              	GLOBAL _strrspn
247   0000              	GLOBAL _strrev_fastcall
248   0000              	GLOBAL _strrev
249   0000              	GLOBAL _strrcspn_callee
250   0000              	GLOBAL _strrcspn
251   0000              	GLOBAL _strrchr_callee
252   0000              	GLOBAL _strrchr
253   0000              	GLOBAL _strpbrk_callee
254   0000              	GLOBAL _strpbrk
255   0000              	GLOBAL _strnlen_callee
256   0000              	GLOBAL _strnlen
257   0000              	GLOBAL _strnicmp_callee
258   0000              	GLOBAL _strnicmp
259   0000              	GLOBAL _strndup_callee
260   0000              	GLOBAL _strndup
261   0000              	GLOBAL _strncpy_callee
262   0000              	GLOBAL _strncpy
263   0000              	GLOBAL _strncmp_callee
264   0000              	GLOBAL _strncmp
265   0000              	GLOBAL _strnchr_callee
266   0000              	GLOBAL _strnchr
267   0000              	GLOBAL _strncat_callee
268   0000              	GLOBAL _strncat
269   0000              	GLOBAL _strncasecmp_callee
270   0000              	GLOBAL _strncasecmp
271   0000              	GLOBAL _strlwr_fastcall
272   0000              	GLOBAL _strlwr
273   0000              	GLOBAL _strlen_fastcall
274   0000              	GLOBAL _strlen
275   0000              	GLOBAL _strlcpy_callee
276   0000              	GLOBAL _strlcpy
277   0000              	GLOBAL _strlcat_callee
278   0000              	GLOBAL _strlcat
279   0000              	GLOBAL _stricmp_callee
280   0000              	GLOBAL _stricmp
281   0000              	GLOBAL _strerror_fastcall
282   0000              	GLOBAL _strerror
283   0000              	GLOBAL _strdup_fastcall
284   0000              	GLOBAL _strdup
285   0000              	GLOBAL _strcspn_callee
286   0000              	GLOBAL _strcspn
287   0000              	GLOBAL _strcpy_callee
288   0000              	GLOBAL _strcpy
289   0000              	GLOBAL _strcoll_callee
290   0000              	GLOBAL _strcoll
291   0000              	GLOBAL _strcmp_callee
292   0000              	GLOBAL _strcmp
293   0000              	GLOBAL _strchrnul_callee
294   0000              	GLOBAL _strchrnul
295   0000              	GLOBAL _strchr_callee
296   0000              	GLOBAL _strchr
297   0000              	GLOBAL _strcat_callee
298   0000              	GLOBAL _strcat
299   0000              	GLOBAL _strcasecmp_callee
300   0000              	GLOBAL _strcasecmp
301   0000              	GLOBAL _stpncpy_callee
302   0000              	GLOBAL _stpncpy
303   0000              	GLOBAL _stpcpy_callee
304   0000              	GLOBAL _stpcpy
305   0000              	GLOBAL _memswap_callee
306   0000              	GLOBAL _memswap
307   0000              	GLOBAL _memset_callee
308   0000              	GLOBAL _memset
309   0000              	GLOBAL _memrchr_callee
310   0000              	GLOBAL _memrchr
311   0000              	GLOBAL _memmove_callee
312   0000              	GLOBAL _memmove
313   0000              	GLOBAL _memmem_callee
314   0000              	GLOBAL _memmem
315   0000              	GLOBAL _memcpy_callee
316   0000              	GLOBAL _memcpy
317   0000              	GLOBAL _memcmp_callee
318   0000              	GLOBAL _memcmp
319   0000              	GLOBAL _memchr_callee
320   0000              	GLOBAL _memchr
321   0000              	GLOBAL _memccpy_callee
322   0000              	GLOBAL _memccpy
323   0000              	GLOBAL _ffsl_fastcall
324   0000              	GLOBAL _ffsl
325   0000              	GLOBAL _ffs_fastcall
326   0000              	GLOBAL _ffs
327   0000              	GLOBAL __strrstrip__fastcall
328   0000              	GLOBAL __strrstrip_
329   0000              	GLOBAL __memupr__callee
330   0000              	GLOBAL __memupr_
331   0000              	GLOBAL __memstrcpy__callee
332   0000              	GLOBAL __memstrcpy_
333   0000              	GLOBAL __memlwr__callee
334   0000              	GLOBAL __memlwr_
335   0000              	GLOBAL _rawmemchr_callee
336   0000              	GLOBAL _rawmemchr
337   0000              	GLOBAL _strnset_callee
338   0000              	GLOBAL _strnset
339   0000              	GLOBAL _strset_callee
340   0000              	GLOBAL _strset
341   0000              	GLOBAL _rindex_callee
342   0000              	GLOBAL _rindex
343   0000              	GLOBAL _index_callee
344   0000              	GLOBAL _index
345   0000              	GLOBAL _bzero_callee
346   0000              	GLOBAL _bzero
347   0000              	GLOBAL _bcopy_callee
348   0000              	GLOBAL _bcopy
349   0000              	GLOBAL _bcmp_callee
350   0000              	GLOBAL _bcmp
351   0000              	GLOBAL _ulltoa_callee
352   0000              	GLOBAL _ulltoa
353   0000              	GLOBAL _strtoull_callee
354   0000              	GLOBAL _strtoull
355   0000              	GLOBAL _strtoll_callee
356   0000              	GLOBAL _strtoll
357   0000              	GLOBAL _lltoa_callee
358   0000              	GLOBAL _lltoa
359   0000              	GLOBAL _llabs_callee
360   0000              	GLOBAL _llabs
361   0000              	GLOBAL __lldivu__callee
362   0000              	GLOBAL __lldivu_
363   0000              	GLOBAL __lldiv__callee
364   0000              	GLOBAL __lldiv_
365   0000              	GLOBAL _atoll_callee
366   0000              	GLOBAL _atoll
367   0000              	GLOBAL _realloc_unlocked_callee
368   0000              	GLOBAL _realloc_unlocked
369   0000              	GLOBAL _malloc_unlocked_fastcall
370   0000              	GLOBAL _malloc_unlocked
371   0000              	GLOBAL _free_unlocked_fastcall
372   0000              	GLOBAL _free_unlocked
373   0000              	GLOBAL _calloc_unlocked_callee
374   0000              	GLOBAL _calloc_unlocked
375   0000              	GLOBAL _aligned_alloc_unlocked_callee
376   0000              	GLOBAL _aligned_alloc_unlocked
377   0000              	GLOBAL _realloc_callee
378   0000              	GLOBAL _realloc
379   0000              	GLOBAL _malloc_fastcall
380   0000              	GLOBAL _malloc
381   0000              	GLOBAL _free_fastcall
382   0000              	GLOBAL _free
383   0000              	GLOBAL _calloc_callee
384   0000              	GLOBAL _calloc
385   0000              	GLOBAL _aligned_alloc_callee
386   0000              	GLOBAL _aligned_alloc
387   0000              	GLOBAL _utoa_callee
388   0000              	GLOBAL _utoa
389   0000              	GLOBAL _ultoa_callee
390   0000              	GLOBAL _ultoa
391   0000              	GLOBAL _system_fastcall
392   0000              	GLOBAL _system
393   0000              	GLOBAL _strtoul_callee
394   0000              	GLOBAL _strtoul
395   0000              	GLOBAL _strtol_callee
396   0000              	GLOBAL _strtol
397   0000              	GLOBAL _strtof_callee
398   0000              	GLOBAL _strtof
399   0000              	GLOBAL _strtod_callee
400   0000              	GLOBAL _strtod
401   0000              	GLOBAL _srand_fastcall
402   0000              	GLOBAL _srand
403   0000              	GLOBAL _rand
404   0000              	GLOBAL _quick_exit_fastcall
405   0000              	GLOBAL _quick_exit
406   0000              	GLOBAL _qsort_callee
407   0000              	GLOBAL _qsort
408   0000              	GLOBAL _ltoa_callee
409   0000              	GLOBAL _ltoa
410   0000              	GLOBAL _labs_fastcall
411   0000              	GLOBAL _labs
412   0000              	GLOBAL _itoa_callee
413   0000              	GLOBAL _itoa
414   0000              	GLOBAL _ftoh_callee
415   0000              	GLOBAL _ftoh
416   0000              	GLOBAL _ftog_callee
417   0000              	GLOBAL _ftog
418   0000              	GLOBAL _ftoe_callee
419   0000              	GLOBAL _ftoe
420   0000              	GLOBAL _ftoa_callee
421   0000              	GLOBAL _ftoa
422   0000              	GLOBAL _exit_fastcall
423   0000              	GLOBAL _exit
424   0000              	GLOBAL _dtoh_callee
425   0000              	GLOBAL _dtoh
426   0000              	GLOBAL _dtog_callee
427   0000              	GLOBAL _dtog
428   0000              	GLOBAL _dtoe_callee
429   0000              	GLOBAL _dtoe
430   0000              	GLOBAL _dtoa_callee
431   0000              	GLOBAL _dtoa
432   0000              	GLOBAL _bsearch_callee
433   0000              	GLOBAL _bsearch
434   0000              	GLOBAL _atol_fastcall
435   0000              	GLOBAL _atol
436   0000              	GLOBAL _atoi_fastcall
437   0000              	GLOBAL _atoi
438   0000              	GLOBAL _atof_fastcall
439   0000              	GLOBAL _atof
440   0000              	GLOBAL _atexit_fastcall
441   0000              	GLOBAL _atexit
442   0000              	GLOBAL _at_quick_exit_fastcall
443   0000              	GLOBAL _at_quick_exit
444   0000              	GLOBAL _abs_fastcall
445   0000              	GLOBAL _abs
446   0000              	GLOBAL _abort
447   0000              	GLOBAL __strtou__callee
448   0000              	GLOBAL __strtou_
449   0000              	GLOBAL __strtoi__callee
450   0000              	GLOBAL __strtoi_
451   0000              	GLOBAL __random_uniform_xor_8__fastcall
452   0000              	GLOBAL __random_uniform_xor_8_
453   0000              	GLOBAL __random_uniform_xor_32__fastcall
454   0000              	GLOBAL __random_uniform_xor_32_
455   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
456   0000              	GLOBAL __random_uniform_cmwc_8_
457   0000              	GLOBAL __shellsort__callee
458   0000              	GLOBAL __shellsort_
459   0000              	GLOBAL __quicksort__callee
460   0000              	GLOBAL __quicksort_
461   0000              	GLOBAL __insertion_sort__callee
462   0000              	GLOBAL __insertion_sort_
463   0000              	GLOBAL __ldivu__callee
464   0000              	GLOBAL __ldivu_
465   0000              	GLOBAL __ldiv__callee
466   0000              	GLOBAL __ldiv_
467   0000              	GLOBAL __divu__callee
468   0000              	GLOBAL __divu_
469   0000              	GLOBAL __div__callee
470   0000              	GLOBAL __div_
471   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
472   0000              	GLOBAL _NIRVANAP_drawTW_raw
473   0000              	GLOBAL _NIRVANAP_drawTW_callee
474   0000              	GLOBAL _NIRVANAP_drawTW
475   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
476   0000              	GLOBAL _NIRVANAP_drawW_raw
477   0000              	GLOBAL _NIRVANAP_drawW_callee
478   0000              	GLOBAL _NIRVANAP_drawW
479   0000              	GLOBAL _NIRVANAP_spriteT_callee
480   0000              	GLOBAL _NIRVANAP_spriteT
481   0000              	GLOBAL _NIRVANAP_fillC_callee
482   0000              	GLOBAL _NIRVANAP_fillC
483   0000              	GLOBAL _NIRVANAP_readC_callee
484   0000              	GLOBAL _NIRVANAP_readC
485   0000              	GLOBAL _NIRVANAP_paintC_callee
486   0000              	GLOBAL _NIRVANAP_paintC
487   0000              	GLOBAL _NIRVANAP_printC_callee
488   0000              	GLOBAL _NIRVANAP_printC
489   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
490   0000              	GLOBAL _NIRVANAP_fillT_raw
491   0000              	GLOBAL _NIRVANAP_fillT_callee
492   0000              	GLOBAL _NIRVANAP_fillT
493   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
494   0000              	GLOBAL _NIRVANAP_drawT_raw
495   0000              	GLOBAL _NIRVANAP_drawT_callee
496   0000              	GLOBAL _NIRVANAP_drawT
497   0000              	GLOBAL _NIRVANAP_stop
498   0000              	GLOBAL _NIRVANAP_start
499   0000              	GLOBAL _debug3
500   0000              	GLOBAL _debug2
501   0000              	GLOBAL _debug
502   0000              	GLOBAL _zx_print_str
503   0000              	GLOBAL _zx_print_int
504   0000              	GLOBAL _zx_print_chr
505   0000              	GLOBAL _zx_print_bonus_time
506   0000              	GLOBAL _zx_isr
507   0000              	GLOBAL _z80_otdr_callee
508   0000              	GLOBAL _z80_otdr
509   0000              	GLOBAL _z80_otir_callee
510   0000              	GLOBAL _z80_otir
511   0000              	GLOBAL _z80_outp_callee
512   0000              	GLOBAL _z80_outp
513   0000              	GLOBAL _z80_indr_callee
514   0000              	GLOBAL _z80_indr
515   0000              	GLOBAL _z80_inir_callee
516   0000              	GLOBAL _z80_inir
517   0000              	GLOBAL _z80_inp_fastcall
518   0000              	GLOBAL _z80_inp
519   0000              	GLOBAL _z80_set_int_state_fastcall
520   0000              	GLOBAL _z80_set_int_state
521   0000              	GLOBAL _z80_get_int_state
522   0000              	GLOBAL _z80_delay_tstate_fastcall
523   0000              	GLOBAL _z80_delay_tstate
524   0000              	GLOBAL _z80_delay_ms_fastcall
525   0000              	GLOBAL _z80_delay_ms
526   0000              	GLOBAL _im2_remove_generic_callback_callee
527   0000              	GLOBAL _im2_remove_generic_callback
528   0000              	GLOBAL _im2_prepend_generic_callback_callee
529   0000              	GLOBAL _im2_prepend_generic_callback
530   0000              	GLOBAL _im2_append_generic_callback_callee
531   0000              	GLOBAL _im2_append_generic_callback
532   0000              	GLOBAL _im2_create_generic_isr_8080_callee
533   0000              	GLOBAL _im2_create_generic_isr_8080
534   0000              	GLOBAL _im2_create_generic_isr_callee
535   0000              	GLOBAL _im2_create_generic_isr
536   0000              	GLOBAL _im2_install_isr_callee
537   0000              	GLOBAL _im2_install_isr
538   0000              	GLOBAL _im2_init_fastcall
539   0000              	GLOBAL _im2_init
540   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
541   0000              	GLOBAL _intrinsic_swap_word_32
542   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
543   0000              	GLOBAL _intrinsic_swap_endian_32
544   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
545   0000              	GLOBAL _intrinsic_swap_endian_16
546   0000              	GLOBAL _intrinsic_return_de
547   0000              	GLOBAL _intrinsic_return_bc
548   0000              	GLOBAL _intrinsic_exx
549   0000              	GLOBAL _intrinsic_ex_de_hl
550   0000              	GLOBAL _intrinsic_nop
551   0000              	GLOBAL _intrinsic_im_2
552   0000              	GLOBAL _intrinsic_im_1
553   0000              	GLOBAL _intrinsic_im_0
554   0000              	GLOBAL _intrinsic_retn
555   0000              	GLOBAL _intrinsic_reti
556   0000              	GLOBAL _intrinsic_halt
557   0000              	GLOBAL _intrinsic_ei
558   0000              	GLOBAL _intrinsic_di
559   0000              	GLOBAL _intrinsic_stub
560   0000              	GLOBAL _intrinsic_outi
561   0000              	GLOBAL _intrinsic_ldi
562   0000              	GLOBAL _zx_pattern_fill_callee
563   0000              	GLOBAL _zx_pattern_fill
564   0000              	GLOBAL _zx_saddrpup_fastcall
565   0000              	GLOBAL _zx_saddrpup
566   0000              	GLOBAL _zx_saddrpright_callee
567   0000              	GLOBAL _zx_saddrpright
568   0000              	GLOBAL _zx_saddrpleft_callee
569   0000              	GLOBAL _zx_saddrpleft
570   0000              	GLOBAL _zx_saddrpdown_fastcall
571   0000              	GLOBAL _zx_saddrpdown
572   0000              	GLOBAL _zx_saddrcup_fastcall
573   0000              	GLOBAL _zx_saddrcup
574   0000              	GLOBAL _zx_saddrcright_fastcall
575   0000              	GLOBAL _zx_saddrcright
576   0000              	GLOBAL _zx_saddrcleft_fastcall
577   0000              	GLOBAL _zx_saddrcleft
578   0000              	GLOBAL _zx_saddrcdown_fastcall
579   0000              	GLOBAL _zx_saddrcdown
580   0000              	GLOBAL _zx_saddr2py_fastcall
581   0000              	GLOBAL _zx_saddr2py
582   0000              	GLOBAL _zx_saddr2px_fastcall
583   0000              	GLOBAL _zx_saddr2px
584   0000              	GLOBAL _zx_saddr2cy_fastcall
585   0000              	GLOBAL _zx_saddr2cy
586   0000              	GLOBAL _zx_saddr2cx_fastcall
587   0000              	GLOBAL _zx_saddr2cx
588   0000              	GLOBAL _zx_saddr2aaddr_fastcall
589   0000              	GLOBAL _zx_saddr2aaddr
590   0000              	GLOBAL _zx_py2saddr_fastcall
591   0000              	GLOBAL _zx_py2saddr
592   0000              	GLOBAL _zx_py2aaddr_fastcall
593   0000              	GLOBAL _zx_py2aaddr
594   0000              	GLOBAL _zx_pxy2saddr_callee
595   0000              	GLOBAL _zx_pxy2saddr
596   0000              	GLOBAL _zx_pxy2aaddr_callee
597   0000              	GLOBAL _zx_pxy2aaddr
598   0000              	GLOBAL _zx_px2bitmask_fastcall
599   0000              	GLOBAL _zx_px2bitmask
600   0000              	GLOBAL _zx_cy2saddr_fastcall
601   0000              	GLOBAL _zx_cy2saddr
602   0000              	GLOBAL _zx_cy2aaddr_fastcall
603   0000              	GLOBAL _zx_cy2aaddr
604   0000              	GLOBAL _zx_cxy2saddr_callee
605   0000              	GLOBAL _zx_cxy2saddr
606   0000              	GLOBAL _zx_cxy2aaddr_callee
607   0000              	GLOBAL _zx_cxy2aaddr
608   0000              	GLOBAL _zx_bitmask2px_fastcall
609   0000              	GLOBAL _zx_bitmask2px
610   0000              	GLOBAL _zx_aaddrcup_fastcall
611   0000              	GLOBAL _zx_aaddrcup
612   0000              	GLOBAL _zx_aaddrcright_fastcall
613   0000              	GLOBAL _zx_aaddrcright
614   0000              	GLOBAL _zx_aaddrcleft_fastcall
615   0000              	GLOBAL _zx_aaddrcleft
616   0000              	GLOBAL _zx_aaddrcdown_fastcall
617   0000              	GLOBAL _zx_aaddrcdown
618   0000              	GLOBAL _zx_aaddr2saddr_fastcall
619   0000              	GLOBAL _zx_aaddr2saddr
620   0000              	GLOBAL _zx_aaddr2py_fastcall
621   0000              	GLOBAL _zx_aaddr2py
622   0000              	GLOBAL _zx_aaddr2px_fastcall
623   0000              	GLOBAL _zx_aaddr2px
624   0000              	GLOBAL _zx_aaddr2cy_fastcall
625   0000              	GLOBAL _zx_aaddr2cy
626   0000              	GLOBAL _zx_aaddr2cx_fastcall
627   0000              	GLOBAL _zx_aaddr2cx
628   0000              	GLOBAL _zx_visit_wc_pix_callee
629   0000              	GLOBAL _zx_visit_wc_pix
630   0000              	GLOBAL _zx_visit_wc_attr_callee
631   0000              	GLOBAL _zx_visit_wc_attr
632   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
633   0000              	GLOBAL _zx_scroll_wc_up_pix
634   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
635   0000              	GLOBAL _zx_scroll_wc_up_attr
636   0000              	GLOBAL _zx_scroll_wc_up_callee
637   0000              	GLOBAL _zx_scroll_wc_up
638   0000              	GLOBAL _zx_scroll_up_pix_callee
639   0000              	GLOBAL _zx_scroll_up_pix
640   0000              	GLOBAL _zx_scroll_up_attr_callee
641   0000              	GLOBAL _zx_scroll_up_attr
642   0000              	GLOBAL _zx_scroll_up_callee
643   0000              	GLOBAL _zx_scroll_up
644   0000              	GLOBAL _zx_cls_wc_pix_callee
645   0000              	GLOBAL _zx_cls_wc_pix
646   0000              	GLOBAL _zx_cls_wc_attr_callee
647   0000              	GLOBAL _zx_cls_wc_attr
648   0000              	GLOBAL _zx_cls_wc_callee
649   0000              	GLOBAL _zx_cls_wc
650   0000              	GLOBAL _zx_cls_pix_fastcall
651   0000              	GLOBAL _zx_cls_pix
652   0000              	GLOBAL _zx_cls_attr_fastcall
653   0000              	GLOBAL _zx_cls_attr
654   0000              	GLOBAL _zx_cls_fastcall
655   0000              	GLOBAL _zx_cls
656   0000              	GLOBAL _zx_border_fastcall
657   0000              	GLOBAL _zx_border
658   0000              	GLOBAL _spr_colision_boss
659   0000              	GLOBAL _spr_colision_b
660   0000              	GLOBAL _spr_unflatten
661   0000              	GLOBAL _spr_flatten
662   0000              	GLOBAL _spr_btile_paint_back
663   0000              	GLOBAL _spr_bullet_explode
664   0000              	GLOBAL _spr_init_effects
665   0000              	GLOBAL _spr_turn_horizontal
666   0000              	GLOBAL _spr_bullets_play
667   0000              	GLOBAL _spr_play_anim
668   0000              	GLOBAL _spr_add_anim
669   0000              	GLOBAL _spr_clear_scr
670   0000              	GLOBAL _spr_page_map
671   0000              	GLOBAL _spr_page_down
672   0000              	GLOBAL _spr_page_up
673   0000              	GLOBAL _spr_page_right
674   0000              	GLOBAL _spr_page_left
675   0000              	GLOBAL _spr_tile_paint
676   0000              	GLOBAL _spr_draw_index
677   0000              	GLOBAL _spr_brick_anim
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_tile
680   0000              	GLOBAL _spr_destroy
681   0000              	GLOBAL _spr_tile_dir
682   0000              	GLOBAL _spr_redraw
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_horizontal
686   0000              	GLOBAL _spr_move_down
687   0000              	GLOBAL _spr_move_up
688   0000              	GLOBAL _spr_set_right
689   0000              	GLOBAL _spr_set_left
690   0000              	GLOBAL _spr_set_down
691   0000              	GLOBAL _spr_set_up
692   0000              	GLOBAL _spr_calc_index
693   0000              	GLOBAL _spr_chktime
694   0000              	GLOBAL _player_fix_walk_lin
695   0000              	GLOBAL _player_gasta_brick
696   0000              	GLOBAL _player_lost_life
697   0000              	GLOBAL _player_hit
698   0000              	GLOBAL _player_open_door
699   0000              	GLOBAL _player_move_jump
700   0000              	GLOBAL _player_fire
701   0000              	GLOBAL _player_check_stairs_vertical
702   0000              	GLOBAL _player_check_stairs
703   0000              	GLOBAL _player_tile
704   0000              	GLOBAL _player_anim_tile
705   0000              	GLOBAL _player_pick_item
706   0000              	GLOBAL _player_check_floor
707   0000              	GLOBAL _player_hit_platform_clear
708   0000              	GLOBAL _player_score_add
709   0000              	GLOBAL _player_hit_platform
710   0000              	GLOBAL _player_move_input
711   0000              	GLOBAL _player_turn
712   0000              	GLOBAL _player_move
713   0000              	GLOBAL _player_check_input
714   0000              	GLOBAL _player_pick_mushroom
715   0000              	GLOBAL _player_collision
716   0000              	GLOBAL _player_init
717   0000              	GLOBAL _game_fill_row
718   0000              	GLOBAL _boss_draw_frame
719   0000              	GLOBAL _boss_draw
720   0000              	GLOBAL _boss_turn
721   0000              	GLOBAL _enemy_avoid_dead
722   0000              	GLOBAL _enemy_avoid_fall
723   0000              	GLOBAL _enemy_kill
724   0000              	GLOBAL _enemy_respawn
725   0000              	GLOBAL _enemy_init
726   0000              	GLOBAL _enemy_move
727   0000              	GLOBAL _enemy_turn
728   0000              	GLOBAL _enemy_static
729   0000              	GLOBAL _enemy_walk
730   0000              	GLOBAL _enemy_horizontal
731   0000              	GLOBAL _enemy_vertical
732   0000              	GLOBAL _ay_reset
733   0000              	GLOBAL _ay_song_stop
734   0000              	GLOBAL _ay_song_play
735   0000              	GLOBAL _ay_fx_stop
736   0000              	GLOBAL _ay_fx_play
737   0000              	GLOBAL _ay_is_playing
738   0000              	GLOBAL _test_func
739   0000              	GLOBAL _test_proc
740   0000              	GLOBAL _in_mouse_kempston_wheel_delta
741   0000              	GLOBAL _in_mouse_kempston_wheel
742   0000              	GLOBAL _in_mouse_kempston_callee
743   0000              	GLOBAL _in_mouse_kempston
744   0000              	GLOBAL _in_mouse_kempston_setpos_callee
745   0000              	GLOBAL _in_mouse_kempston_setpos
746   0000              	GLOBAL _in_mouse_kempston_reset
747   0000              	GLOBAL _in_mouse_kempston_init
748   0000              	GLOBAL _in_mouse_amx_wheel_delta
749   0000              	GLOBAL _in_mouse_amx_wheel
750   0000              	GLOBAL _in_mouse_amx_callee
751   0000              	GLOBAL _in_mouse_amx
752   0000              	GLOBAL _in_mouse_amx_setpos_callee
753   0000              	GLOBAL _in_mouse_amx_setpos
754   0000              	GLOBAL _in_mouse_amx_reset
755   0000              	GLOBAL _in_mouse_amx_init_callee
756   0000              	GLOBAL _in_mouse_amx_init
757   0000              	GLOBAL _in_stick_sinclair2
758   0000              	GLOBAL _in_stick_sinclair1
759   0000              	GLOBAL _in_stick_kempston
760   0000              	GLOBAL _in_stick_fuller
761   0000              	GLOBAL _in_stick_cursor
762   0000              	GLOBAL _in_stick_keyboard_fastcall
763   0000              	GLOBAL _in_stick_keyboard
764   0000              	GLOBAL _in_wait_nokey
765   0000              	GLOBAL _in_wait_key
766   0000              	GLOBAL _in_test_key
767   0000              	GLOBAL _in_pause_fastcall
768   0000              	GLOBAL _in_pause
769   0000              	GLOBAL _in_key_scancode_fastcall
770   0000              	GLOBAL _in_key_scancode
771   0000              	GLOBAL _in_key_pressed_fastcall
772   0000              	GLOBAL _in_key_pressed
773   0000              	GLOBAL _in_inkey
774   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
775   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
776   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
777   0000              	GLOBAL _NIRVANAP_HOLE
778   0000              	GLOBAL _NIRVANAP_ISR_HOOK
779   0000              	GLOBAL _scan_map
780   0000              	GLOBAL _key_map
781   0000              	GLOBAL _player_lvl_table
782   0000              	GLOBAL _stp_row
783   0000              	GLOBAL _stp_col
784   0000              	GLOBAL _stp_tile
785   0000              	GLOBAL _map_paper_last_a
786   0000              	GLOBAL _map_paper_last
787   0000              	GLOBAL _map_paper_clr
788   0000              	GLOBAL _map_paper
789   0000              	GLOBAL _draw_count
790   0000              	GLOBAL _g_player_hit_right
791   0000              	GLOBAL _g_player_hit_left
792   0000              	GLOBAL _bullet_count
793   0000              	GLOBAL _spr_hack
794   0000              	GLOBAL _boss_stat
795   0000              	GLOBAL _boss_time_fire
796   0000              	GLOBAL _boss_time
797   0000              	GLOBAL _boss_tile
798   0000              	GLOBAL _boss_inc
799   0000              	GLOBAL _boss_col
800   0000              	GLOBAL _boss_lin
801   0000              	GLOBAL _bullet
802   0000              	GLOBAL _bullet_vel
803   0000              	GLOBAL _bullet_frames
804   0000              	GLOBAL _bullet_colint
805   0000              	GLOBAL _bullet_dir
806   0000              	GLOBAL _bullet_tile
807   0000              	GLOBAL _bullet_col
808   0000              	GLOBAL _bullet_lin
809   0000              	GLOBAL _bullet_col0
810   0000              	GLOBAL _bullet_lin0
811   0000              	GLOBAL _bullet_max
812   0000              	GLOBAL _bullet_class
813   0000              	GLOBAL _mush_class
814   0000              	GLOBAL _mush_index
815   0000              	GLOBAL _anim_count
816   0000              	GLOBAL _anim_respanwn
817   0000              	GLOBAL _anim_loop
818   0000              	GLOBAL _anim_end
819   0000              	GLOBAL _anim_int
820   0000              	GLOBAL _anim_tile
821   0000              	GLOBAL _anim_col
822   0000              	GLOBAL _anim_lin
823   0000              	GLOBAL _map_heigth
824   0000              	GLOBAL _map_width
825   0000              	GLOBAL _scr_curr
826   0000              	GLOBAL _sprite_kind
827   0000              	GLOBAL _scr_obj1
828   0000              	GLOBAL _scr_obj0
829   0000              	GLOBAL _scr_map
830   0000              	GLOBAL _sprite_speed_alt
831   0000              	GLOBAL _spr_init
832   0000              	GLOBAL _spr_map_tile
833   0000              	GLOBAL _sprite_frames
834   0000              	GLOBAL _sprite_speed
835   0000              	GLOBAL _screen_ink
836   0000              	GLOBAL _screen_paper
837   0000              	GLOBAL _player_onstair
838   0000              	GLOBAL _game_start_scr
839   0000              	GLOBAL _game_respawn_tile
840   0000              	GLOBAL _game_respawn_index
841   0000              	GLOBAL _game_respawn_time
842   0000              	GLOBAL _game_score_top
843   0000              	GLOBAL _player_coins
844   0000              	GLOBAL _player_lives
845   0000              	GLOBAL _game_over
846   0000              	GLOBAL _game_sound
847   0000              	GLOBAL _game_inf_lives
848   0000              	GLOBAL _game_inmune
849   0000              	GLOBAL _sprite_curr_index
850   0000              	GLOBAL _spr_count
851   0000              	GLOBAL _bullet_time
852   0000              	GLOBAL _anim_time
853   0000              	GLOBAL _frame_time
854   0000              	GLOBAL _curr_time
855   0000              	GLOBAL _s_state
856   0000              	GLOBAL _attrib_osd
857   0000              	GLOBAL _attrib_hl
858   0000              	GLOBAL _attrib
859   0000              	GLOBAL _zx_val_asm
860   0000              	GLOBAL _enemies
861   0000              	GLOBAL _tmp_ui
862   0000              	GLOBAL _tmp_sc
863   0000              	GLOBAL _tmp_uc
864   0000              	GLOBAL _tmp1
865   0000              	GLOBAL _tmp0
866   0000              	GLOBAL _tmp
867   0000              	GLOBAL _index1
868   0000              	GLOBAL _index0
869   0000              	GLOBAL _loop_count
870   0000              	GLOBAL _s_class
871   0000              	GLOBAL _s_col1
872   0000              	GLOBAL _s_col0
873   0000              	GLOBAL _s_lin1
874   0000              	GLOBAL _s_lin0
875   0000              	GLOBAL _s_tile1
876   0000              	GLOBAL _s_tile0
877   0000              	GLOBAL _player_brick_time
878   0000              	GLOBAL _player_hit_count
879   0000              	GLOBAL _game_show_fps
880   0000              	GLOBAL _sprite_horizontal_check
881   0000              	GLOBAL _sprite_on_air
882   0000              	GLOBAL _sprite
883   0000              	GLOBAL _fps
884   0000              	GLOBAL _game_2buttons
885   0000              	GLOBAL _game_respawn_curr_time
886   0000              	GLOBAL _game_worldup
887   0000              	GLOBAL _game_mush_count
888   0000              	GLOBAL _game_boss_fix
889   0000              	GLOBAL _game_boss_hit
890   0000              	GLOBAL _game_boss_alive
891   0000              	GLOBAL _game_boss
892   0000              	GLOBAL _game_world
893   0000              	GLOBAL _game_gravity
894   0000              	GLOBAL _player_onfire
895   0000              	GLOBAL _player_anim_stair
896   0000              	GLOBAL _player_hit_time
897   0000              	GLOBAL _game_checkpoint_scr
898   0000              	GLOBAL _game_checkpoint_lin
899   0000              	GLOBAL _game_checkpoint_col
900   0000              	GLOBAL _player_lin_scr
901   0000              	GLOBAL _player_col_scr
902   0000              	GLOBAL _player_lvl
903   0000              	GLOBAL _player_int
904   0000              	GLOBAL _player_str
905   0000              	GLOBAL _player_max_vita
906   0000              	GLOBAL _player_max_mana
907   0000              	GLOBAL _player_vita
908   0000              	GLOBAL _player_mana
909   0000              	GLOBAL _player_keys
910   0000              	GLOBAL _player_vel_inc
911   0000              	GLOBAL _player_vel_y1
912   0000              	GLOBAL _player_vel_y0
913   0000              	GLOBAL _player_vel_y
914   0000              	GLOBAL _player_vel_x
915   0000              	GLOBAL _player_score
916   0000              	GLOBAL _last_time
917   0000              	GLOBAL _spr_timer
918   0000              	GLOBAL _jump_lin
919   0000              	GLOBAL _player_hit_col
920   0000              	GLOBAL _player_hit_lin
921   0000              	GLOBAL _colint
922   0000              	GLOBAL _col
923   0000              	GLOBAL _tbuffer
924   0000              	GLOBAL _lin
925   0000              	GLOBAL _tile
926   0000              	GLOBAL _state_a
927   0000              	GLOBAL _state
928   0000              	GLOBAL _class
929   0000              	GLOBAL _dirs_alt
930   0000              	GLOBAL _dirs
931   0000              	GLOBAL _k2
932   0000              	GLOBAL _k1
933   0000              	GLOBAL _joyfunc2
934   0000              	GLOBAL _joyfunc1
935   0000              	GLOBAL _btiles
936   0000              	GLOBAL _spec128
937   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
938   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
939   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
940   0000              	GLOBAL _ay_song_06_ciel
941   0000              	GLOBAL _ay_song_04_sunflower
942   0000              	GLOBAL _ay_song_04_lotr_level_start
943   0000              	GLOBAL _ay_song_04_lotr_level_complete
944   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
945   0000              	GLOBAL _ay_song_04_lotr
946   0000              	GLOBAL _ay_fx_06_explosion1
947   0000              	GLOBAL _ay_fx_06_efecto
948   0000              	GLOBAL _ay_fx_06_disparo2
949   0000              	GLOBAL _ay_fx_06_disparo1
950   0000              	GLOBAL _ay_fx_04_sin_mana
951   0000              	GLOBAL _ay_fx_04_salto
952   0000              	GLOBAL _ay_fx_04_pierto_abierta
953   0000              	GLOBAL _ay_fx_04_magia1
954   0000              	GLOBAL _ay_fx_04_golpe
955   0000              	GLOBAL _ay_fx_04_explosion
956   0000              	GLOBAL _ay_fx_04_dano_por_toque
957   0000              	GLOBAL _ay_fx_04_coin
958   0000              	GLOBAL _world0_h
959   0000              	GLOBAL _world0_w
960   0000              	GLOBAL _world0
961   0000              	GLOBAL _paper0
962   0000              	GLOBAL _lenght0
963   0000              	GLOBAL _start_scr0
964   0000              ;--------------------------------------------------------
965   0000              ; special function registers
966   0000              ;--------------------------------------------------------
967   0000              defc _IO_FE	=	0x00fe
968   0000              defc _IO_1FFD	=	0x1ffd
969   0000              defc _IO_7FFD	=	0x7ffd
970   0000              ;--------------------------------------------------------
971   0000              ; ram data
972   0000              ;--------------------------------------------------------
973   0000              	SECTION bss_compiler
974   0000              ;--------------------------------------------------------
975   0000              ; ram data
976   0000              ;--------------------------------------------------------
977   0000              
978   0000              IF 0
979   0000              
980   0000              ; .area _INITIALIZED removed by z88dk
981   0000              
982   0000              
983   0000              ENDIF
984   0000              
985   0000              ;--------------------------------------------------------
986   0000              ; absolute external ram data
987   0000              ;--------------------------------------------------------
988   0000              	SECTION IGNORE
989   0000              ;--------------------------------------------------------
990   0000              ; global & static initialisations
991   0000              ;--------------------------------------------------------
992   0000              	SECTION code_crt_init
993   0000              ;--------------------------------------------------------
994   0000              ; Home
995   0000              ;--------------------------------------------------------
996   0000              	SECTION IGNORE
997   0000              ;--------------------------------------------------------
998   0000              ; code
999   0000              ;--------------------------------------------------------
1000  0000              	SECTION code_compiler
1001  0000              ;	---------------------------------
1002  0000              ; Function game_loop
1003  0000              ; ---------------------------------
1004  0000              _game_loop:
1005  0000  CD 6F 08    	call	_game_round_init
1006  0003              l_game_loop_00121:
1007  0003  3A 00 00    	ld	a,(_game_over)
1008  0006  B7          	or	a, a
1009  0007  C2 E4 00    	jp	NZ, l_game_loop_00124
1010  000A              l_game_loop_00116:
1011  000A  3A 00 00    	ld	a,(_game_worldup)
1012  000D  B7          	or	a, a
1013  000E  C2 A3 00    	jp	NZ, l_game_loop_00118
1014  0011  3A 00 00    	ld	a,(_game_over)
1015  0014  B7          	or	a, a
1016  0015  C2 A3 00    	jp	NZ, l_game_loop_00118
1017  0018  CD 00 00    	call	_enemy_turn
1018  001B  CD 00 00    	call	_player_turn
1019  001E  3A 00 00    	ld	a,(_game_boss)
1020  0021  B7          	or	a, a
1021  0022  28 03       	jr	Z,l_game_loop_00102
1022  0024  CD 00 00    	call	_boss_turn
1023  0027              l_game_loop_00102:
1024  0027  3E 02       	ld	a,0x02
1025  0029  F5          	push	af
1026  002A  33          	inc	sp
1027  002B  21 00 00    	ld	hl,_bullet_time
1028  002E  E5          	push	hl
1029  002F  CD 58 0C    	call	_game_check_time
1030  0032  F1          	pop	af
1031  0033  33          	inc	sp
1032  0034  7D          	ld	a, l
1033  0035  B7          	or	a, a
1034  0036  28 0F       	jr	Z,l_game_loop_00106
1035  0038  2A 00 00    	ld	hl,(_curr_time)
1036  003B  22 00 00    	ld	(_bullet_time),hl
1037  003E  3A 00 00    	ld	a,(_bullet_count)
1038  0041  B7          	or	a,a
1039  0042  28 03       	jr	Z,l_game_loop_00106
1040  0044  CD 00 00    	call	_spr_bullets_play
1041  0047              l_game_loop_00106:
1042  0047  3E 08       	ld	a,0x08
1043  0049  F5          	push	af
1044  004A  33          	inc	sp
1045  004B  21 00 00    	ld	hl,_anim_time
1046  004E  E5          	push	hl
1047  004F  CD 58 0C    	call	_game_check_time
1048  0052  F1          	pop	af
1049  0053  33          	inc	sp
1050  0054  7D          	ld	a, l
1051  0055  B7          	or	a, a
1052  0056  28 14       	jr	Z,l_game_loop_00110
1053  0058  2E 00       	ld	l,0x00
1054  005A  CD 00 00    	call	_zx_border_fastcall
1055  005D  2A 00 00    	ld	hl,(_curr_time)
1056  0060  22 00 00    	ld	(_anim_time),hl
1057  0063  3A 00 00    	ld	a,(_anim_count)
1058  0066  B7          	or	a,a
1059  0067  28 03       	jr	Z,l_game_loop_00110
1060  0069  CD 00 00    	call	_spr_play_anim
1061  006C              l_game_loop_00110:
1062  006C  3E 64       	ld	a,0x64
1063  006E  F5          	push	af
1064  006F  33          	inc	sp
1065  0070  21 00 00    	ld	hl,_frame_time
1066  0073  E5          	push	hl
1067  0074  CD 58 0C    	call	_game_check_time
1068  0077  F1          	pop	af
1069  0078  33          	inc	sp
1070  0079  7D          	ld	a, l
1071  007A  B7          	or	a, a
1072  007B  28 12       	jr	Z,l_game_loop_00114
1073  007D  2A 00 00    	ld	hl,(_curr_time)
1074  0080  22 00 00    	ld	(_frame_time),hl
1075  0083  3A 00 00    	ld	a,(_game_show_fps)
1076  0086  B7          	or	a,a
1077  0087  28 03       	jr	Z,l_game_loop_00112
1078  0089  CD E5 00    	call	_game_fps
1079  008C              l_game_loop_00112:
1080  008C  CD FC 00    	call	_game_respawn
1081  008F              l_game_loop_00114:
1082  008F  21 00 00    	ld	hl,_loop_count
1083  0092  34          	inc	(hl)
1084  0093  20 02       	jr	NZ,l_game_loop_00174
1085  0095  23          	inc	hl
1086  0096  34          	inc	(hl)
1087  0097              l_game_loop_00174:
1088  0097  21 00 00    	ld	hl,_fps
1089  009A  34          	inc	(hl)
1090  009B  C2 0A 00    	jp	NZ,l_game_loop_00116
1091  009E  23          	inc	hl
1092  009F  34          	inc	(hl)
1093  00A0  C3 0A 00    	jp	l_game_loop_00116
1094  00A3              l_game_loop_00118:
1095  00A3  21 00 00    	ld	hl,_game_worldup
1096  00A6  7E          	ld	a, (hl)
1097  00A7  B7          	or	a, a
1098  00A8  CA 03 00    	jp	Z, l_game_loop_00121
1099  00AB  36 00       	ld	(hl),0x00
1100  00AD  21 00 00    	ld	hl,_game_respawn_curr_time
1101  00B0  7E          	ld	a, (hl)
1102  00B1  C6 E0       	add	a,0xe0
1103  00B3  77          	ld	(hl), a
1104  00B4  21 00 00    	ld	hl,_game_world
1105  00B7  34          	inc	(hl)
1106  00B8  21 00 00    	ld	hl,_game_boss_alive
1107  00BB  36 01       	ld	(hl),0x01
1108  00BD  21 00 00    	ld	hl,_game_boss
1109  00C0  36 00       	ld	(hl),0x00
1110  00C2  21 00 00    	ld	hl,_scr_curr
1111  00C5  36 FF       	ld	(hl),0xff
1112  00C7  21 00 00    	ld	hl,_player_lin_scr
1113  00CA  36 00       	ld	(hl),0x00
1114  00CC  21 00 00    	ld	hl,_player_col_scr
1115  00CF  36 00       	ld	(hl),0x00
1116  00D1  CD 90 10    	call	_game_obj_clear
1117  00D4  21 00 00    	ld	hl,_player_col_scr
1118  00D7  36 02       	ld	(hl),0x02
1119  00D9  21 00 00    	ld	hl,_player_lin_scr
1120  00DC  36 80       	ld	(hl),0x80
1121  00DE  CD 6F 08    	call	_game_round_init
1122  00E1  C3 03 00    	jp	l_game_loop_00121
1123  00E4              l_game_loop_00124:
1124  00E4  C9          	ret
1125  00E5              	SECTION code_compiler
1126  00E5              ;	---------------------------------
1127  00E5              ; Function game_fps
1128  00E5              ; ---------------------------------
1129  00E5              _game_fps:
1130  00E5  21 00 00    	ld	hl,_screen_ink
1131  00E8  36 07       	ld	(hl),0x07
1132  00EA  2A 00 00    	ld	hl,(_fps)
1133  00ED  E5          	push	hl
1134  00EE  21 17 18    	ld	hl,0x1817
1135  00F1  E5          	push	hl
1136  00F2  CD 00 00    	call	_zx_print_int
1137  00F5  21 00 00    	ld	hl,0x0000
1138  00F8  22 00 00    	ld	(_fps),hl
1139  00FB  C9          	ret
1140  00FC              	SECTION code_compiler
1141  00FC              ;	---------------------------------
1142  00FC              ; Function game_respawn
1143  00FC              ; ---------------------------------
1144  00FC              _game_respawn:
1145  00FC  21 00 00    	ld	hl,_sprite
1146  00FF  36 00       	ld	(hl),0x00
1147  0101              l_game_respawn_00105:
1148  0101  21 00 00    	ld	hl,_sprite
1149  0104  7E          	ld	a, (hl)
1150  0105  D6 07       	sub	a,0x07
1151  0107  D2 97 01    	jp	NC, l_game_respawn_00108
1152  010A  01 00 00    	ld	bc,_game_respawn_time+0
1153  010D  6E          	ld	l,(hl)
1154  010E  26 00       	ld	h,0x00
1155  0110  29          	add	hl, hl
1156  0111  09          	add	hl, bc
1157  0112  5E          	ld	e,(hl)
1158  0113  23          	inc	hl
1159  0114  56          	ld	d,(hl)
1160  0115  2B          	dec	hl
1161  0116  7A          	ld	a, d
1162  0117  B3          	or	a,e
1163  0118  28 76       	jr	Z,l_game_respawn_00104
1164  011A  3A 00 00    	ld	a,(_game_respawn_curr_time)
1165  011D  EB          	ex	de,hl
1166  011E  C5          	push	bc
1167  011F  F5          	push	af
1168  0120  33          	inc	sp
1169  0121  D5          	push	de
1170  0122  CD 58 0C    	call	_game_check_time
1171  0125  F1          	pop	af
1172  0126  33          	inc	sp
1173  0127  C1          	pop	bc
1174  0128  7D          	ld	a,l
1175  0129  B7          	or	a, a
1176  012A  28 64       	jr	Z,l_game_respawn_00104
1177  012C  2A 00 00    	ld	hl,(_sprite)
1178  012F  26 00       	ld	h,0x00
1179  0131  11 00 00    	ld	de,_game_respawn_index
1180  0134  19          	add	hl,de
1181  0135  7E          	ld	a,(hl)
1182  0136  6F          	ld	l,a
1183  0137  26 00       	ld	h,0x00
1184  0139  22 00 00    	ld	(_index1),hl
1185  013C  5F          	ld	e,a
1186  013D  E6 0F       	and	a,0x0f
1187  013F  87          	add	a, a
1188  0140  32 00 00    	ld	(_s_col1),a
1189  0143  21 00 00    	ld	hl,_s_lin1
1190  0146  73          	ld	(hl),e
1191  0147  7B          	ld	a,e
1192  0148  07          	rlca
1193  0149  07          	rlca
1194  014A  07          	rlca
1195  014B  07          	rlca
1196  014C  E6 0F       	and	a,0x0f
1197  014E  07          	rlca
1198  014F  07          	rlca
1199  0150  07          	rlca
1200  0151  07          	rlca
1201  0152  E6 F0       	and	a,0xf0
1202  0154  77          	ld	(hl), a
1203  0155  11 00 00    	ld	de,_scr_map
1204  0158  2A 00 00    	ld	hl,(_index1)
1205  015B  19          	add	hl,de
1206  015C  EB          	ex	de,hl
1207  015D  21 00 00    	ld	hl,_sprite
1208  0160  7E          	ld	a, (hl)
1209  0161  C6 80       	add	a,0x80
1210  0163  12          	ld	(de), a
1211  0164  6E          	ld	l,(hl)
1212  0165  26 00       	ld	h,0x00
1213  0167  29          	add	hl, hl
1214  0168  09          	add	hl, bc
1215  0169  AF          	xor	a, a
1216  016A  77          	ld	(hl), a
1217  016B  23          	inc	hl
1218  016C  77          	ld	(hl), a
1219  016D  2A 00 00    	ld	hl,(_sprite)
1220  0170  26 00       	ld	h,0x00
1221  0172  01 00 00    	ld	bc,_game_respawn_tile
1222  0175  09          	add	hl,bc
1223  0176  7E          	ld	a,(hl)
1224  0177  F5          	push	af
1225  0178  33          	inc	sp
1226  0179  21 03 04    	ld	hl,0x0403
1227  017C  E5          	push	hl
1228  017D  2A 00 00    	ld	hl,(_s_col1)
1229  0180  26 8A       	ld	h,0x8a
1230  0182  3A 00 00    	ld	a,(_s_lin1)
1231  0185  E5          	push	hl
1232  0186  F5          	push	af
1233  0187  33          	inc	sp
1234  0188  CD 00 00    	call	_spr_add_anim
1235  018B  F1          	pop	af
1236  018C  F1          	pop	af
1237  018D  F1          	pop	af
1238  018E  18 07       	jr	l_game_respawn_00108
1239  0190              l_game_respawn_00104:
1240  0190  21 00 00    	ld	hl,_sprite
1241  0193  34          	inc	(hl)
1242  0194  C3 01 01    	jp	l_game_respawn_00105
1243  0197              l_game_respawn_00108:
1244  0197  C9          	ret
1245  0198              	SECTION code_compiler
1246  0198              ;	---------------------------------
1247  0198              ; Function game_draw_screen
1248  0198              ; ---------------------------------
1249  0198              _game_draw_screen:
1250  0198  CD 00 00    	call	___sdcc_enter_ix
1251  019B  F5          	push	af
1252  019C  76          	halt
1253  019D  21 00 00    	ld	hl,_game_boss
1254  01A0  36 00       	ld	(hl),0x00
1255  01A2  21 00 00    	ld	hl,_game_boss_fix
1256  01A5  36 00       	ld	(hl),0x00
1257  01A7  2A 00 00    	ld	hl,(_curr_time)
1258  01AA  22 00 00    	ld	(_player_brick_time),hl
1259  01AD  21 00 00    	ld	hl,_spr_count
1260  01B0  36 00       	ld	(hl),0x00
1261  01B2  CD 00 00    	call	_spr_init_effects
1262  01B5  01 00 00    	ld	bc,_game_respawn_time+0
1263  01B8              l_game_draw_screen_00101:
1264  01B8  21 00 00    	ld	hl,_spr_count
1265  01BB  7E          	ld	a, (hl)
1266  01BC  D6 07       	sub	a,0x07
1267  01BE  30 46       	jr	NC,l_game_draw_screen_00103
1268  01C0  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1269  01C2  86          	add	a, (hl)
1270  01C3  5F          	ld	e, a
1271  01C4  3E 00       	ld	a, +((_game_respawn_index) / 256)
1272  01C6  CE 00       	adc	a,0x00
1273  01C8  57          	ld	d, a
1274  01C9  AF          	xor	a, a
1275  01CA  12          	ld	(de), a
1276  01CB  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1277  01CD  86          	add	a, (hl)
1278  01CE  5F          	ld	e, a
1279  01CF  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1280  01D1  CE 00       	adc	a,0x00
1281  01D3  57          	ld	d, a
1282  01D4  AF          	xor	a, a
1283  01D5  12          	ld	(de), a
1284  01D6  6E          	ld	l,(hl)
1285  01D7  26 00       	ld	h,0x00
1286  01D9  29          	add	hl, hl
1287  01DA  09          	add	hl, bc
1288  01DB  AF          	xor	a, a
1289  01DC  77          	ld	(hl), a
1290  01DD  23          	inc	hl
1291  01DE  77          	ld	(hl), a
1292  01DF  2A 00 00    	ld	hl,(_spr_count)
1293  01E2  26 00       	ld	h,0x00
1294  01E4  11 00 00    	ld	de,_mush_index
1295  01E7  19          	add	hl,de
1296  01E8  AF          	xor	a,a
1297  01E9  77          	ld	(hl),a
1298  01EA  2A 00 00    	ld	hl,(_spr_count)
1299  01ED  26 00       	ld	h,0x00
1300  01EF  11 00 00    	ld	de,_mush_class
1301  01F2  19          	add	hl,de
1302  01F3  AF          	xor	a,a
1303  01F4  77          	ld	(hl),a
1304  01F5  2A 00 00    	ld	hl,(_spr_count)
1305  01F8  26 00       	ld	h,0x00
1306  01FA  11 00 00    	ld	de,_class
1307  01FD  19          	add	hl,de
1308  01FE  AF          	xor	a,a
1309  01FF  77          	ld	(hl),a
1310  0200  21 00 00    	ld	hl,_spr_count
1311  0203  34          	inc	(hl)
1312  0204  18 B2       	jr	l_game_draw_screen_00101
1313  0206              l_game_draw_screen_00103:
1314  0206  21 10 00    	ld	hl,0x0010
1315  0209  22 00 00    	ld	(_index1),hl
1316  020C  21 00 00    	ld	hl,_s_lin1
1317  020F  36 00       	ld	(hl),0x00
1318  0211  21 00 00    	ld	hl,_s_col1
1319  0214  36 02       	ld	(hl),0x02
1320  0216  21 00 00    	ld	hl,_spr_count
1321  0219  36 00       	ld	(hl),0x00
1322  021B  F3          	di
1323  021C  DD 36 FF 00 	ld	(ix-1),0x00
1324  0220              l_game_draw_screen_00127:
1325  0220  21 00 00    	ld	hl,_index1
1326  0223  7E          	ld	a, (hl)
1327  0224  D6 A0       	sub	a,0xa0
1328  0226  23          	inc	hl
1329  0227  7E          	ld	a, (hl)
1330  0228  DE 00       	sbc	a,0x00
1331  022A  D2 4E 03    	jp	NC, l_game_draw_screen_00129
1332  022D  2B          	dec	hl
1333  022E  7E          	ld	a, (hl)
1334  022F  E6 0F       	and	a,0x0f
1335  0231  20 0C       	jr	NZ,l_game_draw_screen_00105
1336  0233  21 00 00    	ld	hl,_s_lin1
1337  0236  7E          	ld	a, (hl)
1338  0237  C6 10       	add	a,0x10
1339  0239  77          	ld	(hl), a
1340  023A  21 00 00    	ld	hl,_s_col1
1341  023D  36 00       	ld	(hl),0x00
1342  023F              l_game_draw_screen_00105:
1343  023F  01 00 00    	ld	bc,_scr_map
1344  0242  2A 00 00    	ld	hl,(_index1)
1345  0245  09          	add	hl,bc
1346  0246  7E          	ld	a,(hl)
1347  0247  DD 77 FE    	ld	(ix-2),a
1348  024A  D6 60       	sub	a,0x60
1349  024C  30 67       	jr	NC,l_game_draw_screen_00125
1350  024E  DD 7E FE    	ld	a,(ix-2)
1351  0251  D6 5D       	sub	a,0x5d
1352  0253  20 04       	jr	NZ,l_game_draw_screen_00197
1353  0255  3E 01       	ld	a,0x01
1354  0257  18 01       	jr	l_game_draw_screen_00198
1355  0259              l_game_draw_screen_00197:
1356  0259  AF          	xor	a,a
1357  025A              l_game_draw_screen_00198:
1358  025A  4F          	ld	c,a
1359  025B  B7          	or	a, a
1360  025C  20 07       	jr	NZ,l_game_draw_screen_00111
1361  025E  DD 7E FE    	ld	a,(ix-2)
1362  0261  D6 5A       	sub	a,0x5a
1363  0263  20 2E       	jr	NZ,l_game_draw_screen_00112
1364  0265              l_game_draw_screen_00111:
1365  0265  21 00 00    	ld	hl,_index1
1366  0268  7E          	ld	a, (hl)
1367  0269  C6 F0       	add	a,0xf0
1368  026B  47          	ld	b, a
1369  026C  23          	inc	hl
1370  026D  7E          	ld	a, (hl)
1371  026E  CE FF       	adc	a,0xff
1372  0270  5F          	ld	e, a
1373  0271  C5          	push	bc
1374  0272  68          	ld	l, b
1375  0273  63          	ld	h, e
1376  0274  CD 59 10    	call	_game_obj_chk
1377  0277  C1          	pop	bc
1378  0278  7D          	ld	a,l
1379  0279  B7          	or	a, a
1380  027A  28 0F       	jr	Z,l_game_draw_screen_00109
1381  027C  01 00 00    	ld	bc,_scr_map
1382  027F  2A 00 00    	ld	hl,(_index1)
1383  0282  09          	add	hl,bc
1384  0283  36 4F       	ld	(hl),0x4f
1385  0285  DD 36 FE 4F 	ld	(ix-2),0x4f
1386  0289  18 08       	jr	l_game_draw_screen_00112
1387  028B              l_game_draw_screen_00109:
1388  028B  79          	ld	a, c
1389  028C  B7          	or	a, a
1390  028D  28 04       	jr	Z,l_game_draw_screen_00112
1391  028F  DD 36 FE 00 	ld	(ix-2),0x00
1392  0293              l_game_draw_screen_00112:
1393  0293  DD 7E FE    	ld	a,(ix-2)
1394  0296  D6 23       	sub	a,0x23
1395  0298  20 09       	jr	NZ,l_game_draw_screen_00115
1396  029A  2A 00 00    	ld	hl,(_index1)
1397  029D  CD A8 11    	call	_game_match_back
1398  02A0  DD 75 FE    	ld	(ix-2),l
1399  02A3              l_game_draw_screen_00115:
1400  02A3  3A 00 00    	ld	a,(_s_col1)
1401  02A6  F5          	push	af
1402  02A7  33          	inc	sp
1403  02A8  2A FF FF    	ld	hl,(_s_lin1-1)
1404  02AB  DD 6E FE    	ld	l,(ix-2)
1405  02AE  E5          	push	hl
1406  02AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1407  02B2  C3 3D 03    	jp	l_game_draw_screen_00126
1408  02B5              l_game_draw_screen_00125:
1409  02B5  3E 78       	ld	a,0x78
1410  02B7  DD 96 FE    	sub	a,(ix-2)
1411  02BA  38 2D       	jr	C,l_game_draw_screen_00122
1412  02BC  3A 00 00    	ld	a,(_spr_count)
1413  02BF  D6 08       	sub	a,0x08
1414  02C1  30 53       	jr	NC,l_game_draw_screen_00123
1415  02C3  3A 00 00    	ld	a,(_game_boss_alive)
1416  02C6  B7          	or	a, a
1417  02C7  28 4D       	jr	Z,l_game_draw_screen_00123
1418  02C9  2A 00 00    	ld	hl,(_spr_count)
1419  02CC  26 00       	ld	h,0x00
1420  02CE  01 00 00    	ld	bc,_game_respawn_index
1421  02D1  09          	add	hl,bc
1422  02D2  3A 00 00    	ld	a,(_index1)
1423  02D5  77          	ld	(hl),a
1424  02D6  2A 00 00    	ld	hl,(_spr_count)
1425  02D9  26 00       	ld	h,0x00
1426  02DB  01 00 00    	ld	bc,_game_respawn_tile
1427  02DE  09          	add	hl,bc
1428  02DF  DD 7E FE    	ld	a,(ix-2)
1429  02E2  77          	ld	(hl),a
1430  02E3  6F          	ld	l,a
1431  02E4  CD 05 05    	call	_game_add_enemy
1432  02E7  18 2D       	jr	l_game_draw_screen_00123
1433  02E9              l_game_draw_screen_00122:
1434  02E9  2A 00 00    	ld	hl,(_index1)
1435  02EC  CD 59 10    	call	_game_obj_chk
1436  02EF  7D          	ld	a, l
1437  02F0  B7          	or	a, a
1438  02F1  20 23       	jr	NZ,l_game_draw_screen_00123
1439  02F3  3E 00       	ld	a, +((_mush_index) & 0xFF)
1440  02F5  DD 86 FF    	add	a,(ix-1)
1441  02F8  4F          	ld	c, a
1442  02F9  3E 00       	ld	a, +((_mush_index) / 256)
1443  02FB  CE 00       	adc	a,0x00
1444  02FD  47          	ld	b, a
1445  02FE  3A 00 00    	ld	a,(_index1)
1446  0301  C6 10       	add	a,0x10
1447  0303  02          	ld	(bc), a
1448  0304  3E 00       	ld	a, +((_mush_class) & 0xFF)
1449  0306  DD 86 FF    	add	a,(ix-1)
1450  0309  4F          	ld	c, a
1451  030A  3E 00       	ld	a, +((_mush_class) / 256)
1452  030C  CE 00       	adc	a,0x00
1453  030E  47          	ld	b, a
1454  030F  DD 7E FE    	ld	a,(ix-2)
1455  0312  02          	ld	(bc), a
1456  0313  DD 34 FF    	inc	(ix-1)
1457  0316              l_game_draw_screen_00123:
1458  0316  2A 00 00    	ld	hl,(_index1)
1459  0319  01 00 00    	ld	bc,_scr_map
1460  031C  09          	add	hl,bc
1461  031D  E5          	push	hl
1462  031E  2A 00 00    	ld	hl,(_index1)
1463  0321  CD A8 11    	call	_game_match_back
1464  0324  C1          	pop	bc
1465  0325  7D          	ld	a,l
1466  0326  02          	ld	(bc), a
1467  0327  01 00 00    	ld	bc,_scr_map
1468  032A  2A 00 00    	ld	hl,(_index1)
1469  032D  09          	add	hl,bc
1470  032E  46          	ld	b, (hl)
1471  032F  3A 00 00    	ld	a,(_s_col1)
1472  0332  F5          	push	af
1473  0333  33          	inc	sp
1474  0334  3A 00 00    	ld	a,(_s_lin1)
1475  0337  48          	ld	c,b
1476  0338  47          	ld	b,a
1477  0339  C5          	push	bc
1478  033A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1479  033D              l_game_draw_screen_00126:
1480  033D  21 00 00    	ld	hl,_s_col1
1481  0340  34          	inc	(hl)
1482  0341  34          	inc	(hl)
1483  0342  21 00 00    	ld	hl,_index1
1484  0345  34          	inc	(hl)
1485  0346  C2 20 02    	jp	NZ,l_game_draw_screen_00127
1486  0349  23          	inc	hl
1487  034A  34          	inc	(hl)
1488  034B  C3 20 02    	jp	l_game_draw_screen_00127
1489  034E              l_game_draw_screen_00129:
1490  034E  FB          	ei
1491  034F  3A 00 00    	ld	a,(_game_boss_alive)
1492  0352  B7          	or	a, a
1493  0353  20 03       	jr	NZ,l_game_draw_screen_00131
1494  0355  CD DA 10    	call	_game_boss_clear
1495  0358              l_game_draw_screen_00131:
1496  0358  CD 35 07    	call	_game_update_stats
1497  035B  F1          	pop	af
1498  035C  DD E1       	pop	ix
1499  035E  C9          	ret
1500  035F              	SECTION code_compiler
1501  035F              ;	---------------------------------
1502  035F              ; Function game_boss_kill
1503  035F              ; ---------------------------------
1504  035F              _game_boss_kill:
1505  035F  21 00 00    	ld	hl,_game_boss
1506  0362  36 00       	ld	(hl),0x00
1507  0364  21 00 00    	ld	hl,_game_boss_alive
1508  0367  36 00       	ld	(hl),0x00
1509  0369  21 00 00    	ld	hl,_ay_fx_04_explosion
1510  036C  E5          	push	hl
1511  036D  21 01 04    	ld	hl,0x0401
1512  0370  E5          	push	hl
1513  0371  CD 00 00    	call	_ay_song_play
1514  0374  3A 00 00    	ld	a,(_boss_col)
1515  0377  21 00 00    	ld	hl,0x0000
1516  037A  E5          	push	hl
1517  037B  21 87 03    	ld	hl,0x0387
1518  037E  E5          	push	hl
1519  037F  F5          	push	af
1520  0380  33          	inc	sp
1521  0381  3A 00 00    	ld	a,(_boss_lin)
1522  0384  F5          	push	af
1523  0385  33          	inc	sp
1524  0386  CD 00 00    	call	_spr_add_anim
1525  0389  F1          	pop	af
1526  038A  F1          	pop	af
1527  038B  F1          	pop	af
1528  038C  21 00 00    	ld	hl,_boss_col
1529  038F  46          	ld	b, (hl)
1530  0390  04          	inc	b
1531  0391  04          	inc	b
1532  0392  21 00 00    	ld	hl,0x0000
1533  0395  E5          	push	hl
1534  0396  21 87 03    	ld	hl,0x0387
1535  0399  E5          	push	hl
1536  039A  C5          	push	bc
1537  039B  33          	inc	sp
1538  039C  3A 00 00    	ld	a,(_boss_lin)
1539  039F  F5          	push	af
1540  03A0  33          	inc	sp
1541  03A1  CD 00 00    	call	_spr_add_anim
1542  03A4  F1          	pop	af
1543  03A5  F1          	pop	af
1544  03A6  F1          	pop	af
1545  03A7  3A 00 00    	ld	a,(_boss_lin)
1546  03AA  C6 10       	add	a,0x10
1547  03AC  47          	ld	b, a
1548  03AD  3A 00 00    	ld	a,(_boss_col)
1549  03B0  21 00 00    	ld	hl,0x0000
1550  03B3  E5          	push	hl
1551  03B4  21 87 03    	ld	hl,0x0387
1552  03B7  E5          	push	hl
1553  03B8  48          	ld	c,b
1554  03B9  47          	ld	b,a
1555  03BA  C5          	push	bc
1556  03BB  CD 00 00    	call	_spr_add_anim
1557  03BE  F1          	pop	af
1558  03BF  F1          	pop	af
1559  03C0  F1          	pop	af
1560  03C1  21 00 00    	ld	hl,_boss_col
1561  03C4  56          	ld	d, (hl)
1562  03C5  14          	inc	d
1563  03C6  14          	inc	d
1564  03C7  3A 00 00    	ld	a,(_boss_lin)
1565  03CA  C6 10       	add	a,0x10
1566  03CC  47          	ld	b, a
1567  03CD  21 00 00    	ld	hl,0x0000
1568  03D0  E5          	push	hl
1569  03D1  21 87 03    	ld	hl,0x0387
1570  03D4  E5          	push	hl
1571  03D5  58          	ld	e,b
1572  03D6  D5          	push	de
1573  03D7  CD 00 00    	call	_spr_add_anim
1574  03DA  F1          	pop	af
1575  03DB  F1          	pop	af
1576  03DC  F1          	pop	af
1577  03DD  21 00 00    	ld	hl,_tmp0
1578  03E0  36 00       	ld	(hl),0x00
1579  03E2              l_game_boss_kill_00106:
1580  03E2  2A 00 00    	ld	hl,(_tmp0)
1581  03E5  26 00       	ld	h,0x00
1582  03E7  01 00 00    	ld	bc,_bullet_col
1583  03EA  09          	add	hl,bc
1584  03EB  7E          	ld	a,(hl)
1585  03EC  4F          	ld	c,a
1586  03ED  3C          	inc	a
1587  03EE  28 15       	jr	Z,l_game_boss_kill_00102
1588  03F0  3A 00 00    	ld	a,(_tmp0)
1589  03F3  5F          	ld	e,a
1590  03F4  16 00       	ld	d,0x00
1591  03F6  21 00 00    	ld	hl,_bullet_lin
1592  03F9  19          	add	hl,de
1593  03FA  7E          	ld	a,(hl)
1594  03FB  32 00 00    	ld	(_s_lin0),a
1595  03FE  21 00 00    	ld	hl,_s_col0
1596  0401  71          	ld	(hl), c
1597  0402  CD 00 00    	call	_spr_back_repaint
1598  0405              l_game_boss_kill_00102:
1599  0405  2A 00 00    	ld	hl,(_tmp0)
1600  0408  26 00       	ld	h,0x00
1601  040A  01 00 00    	ld	bc,_bullet_col
1602  040D  09          	add	hl,bc
1603  040E  36 FF       	ld	(hl),0xff
1604  0410  2A 00 00    	ld	hl,(_tmp0)
1605  0413  CD 00 00    	call	_spr_destroy
1606  0416  2A 00 00    	ld	hl,(_tmp0)
1607  0419  26 00       	ld	h,0x00
1608  041B  29          	add	hl, hl
1609  041C  11 00 00    	ld	de,_game_respawn_time
1610  041F  19          	add	hl, de
1611  0420  AF          	xor	a, a
1612  0421  77          	ld	(hl), a
1613  0422  23          	inc	hl
1614  0423  77          	ld	(hl), a
1615  0424  21 00 00    	ld	hl,_tmp0
1616  0427  7E          	ld	a,(hl)
1617  0428  3C          	inc	a
1618  0429  77          	ld	(hl),a
1619  042A  D6 07       	sub	a,0x07
1620  042C  38 B4       	jr	C,l_game_boss_kill_00106
1621  042E  CD DA 10    	call	_game_boss_clear
1622  0431  CD CD 05    	call	_game_print_footer
1623  0434  21 00 00    	ld	hl,_game_world
1624  0437  7E          	ld	a, (hl)
1625  0438  D6 03       	sub	a,0x03
1626  043A  C0          	ret	NZ
1627  043B  CD 3F 04    	call	_game_end
1628  043E  C9          	ret
1629  043F              	SECTION code_compiler
1630  043F              ;	---------------------------------
1631  043F              ; Function game_end
1632  043F              ; ---------------------------------
1633  043F              _game_end:
1634  043F  21 F4 01    	ld	hl,0x01f4
1635  0442  CD 00 00    	call	_z80_delay_ms_fastcall
1636  0445  21 00 00    	ld	hl,_scr_curr
1637  0448  36 00       	ld	(hl),0x00
1638  044A  CD 00 00    	call	_spr_page_map
1639  044D  CD 98 01    	call	_game_draw_screen
1640  0450  21 00 00    	ld	hl,_ay_song_04_sunflower
1641  0453  E5          	push	hl
1642  0454  21 01 04    	ld	hl,0x0401
1643  0457  E5          	push	hl
1644  0458  CD 00 00    	call	_ay_song_play
1645  045B  21 80 02    	ld	hl,0x0280
1646  045E  E5          	push	hl
1647  045F  3E 70       	ld	a,0x70
1648  0461  F5          	push	af
1649  0462  33          	inc	sp
1650  0463  CD 00 00    	call	_NIRVANAP_drawT_callee
1651  0466  21 DC 05    	ld	hl,0x05dc
1652  0469  CD 00 00    	call	_z80_delay_ms_fastcall
1653  046C  21 00 00    	ld	hl,___str_0
1654  046F  E5          	push	hl
1655  0470  21 08 08    	ld	hl,0x0808
1656  0473  E5          	push	hl
1657  0474  CD 00 00    	call	_zx_print_str
1658  0477  AF          	xor	a, a
1659  0478  F5          	push	af
1660  0479  33          	inc	sp
1661  047A  21 D0 07    	ld	hl,0x07d0
1662  047D  E5          	push	hl
1663  047E  21 08 18    	ld	hl,0x1808
1664  0481  E5          	push	hl
1665  0482  3E 08       	ld	a,0x08
1666  0484  F5          	push	af
1667  0485  33          	inc	sp
1668  0486  CD 35 0B    	call	_game_colour_message
1669  0489  F1          	pop	af
1670  048A  F1          	pop	af
1671  048B  21 11 00    	ld	hl,___str_1
1672  048E  E3          	ex	(sp),hl
1673  048F  21 08 07    	ld	hl,0x0708
1674  0492  E5          	push	hl
1675  0493  CD 00 00    	call	_zx_print_str
1676  0496  AF          	xor	a, a
1677  0497  F5          	push	af
1678  0498  33          	inc	sp
1679  0499  21 D0 07    	ld	hl,0x07d0
1680  049C  E5          	push	hl
1681  049D  21 07 18    	ld	hl,0x1807
1682  04A0  E5          	push	hl
1683  04A1  3E 08       	ld	a,0x08
1684  04A3  F5          	push	af
1685  04A4  33          	inc	sp
1686  04A5  CD 35 0B    	call	_game_colour_message
1687  04A8  F1          	pop	af
1688  04A9  F1          	pop	af
1689  04AA  21 23 00    	ld	hl,___str_2
1690  04AD  E3          	ex	(sp),hl
1691  04AE  21 08 05    	ld	hl,0x0508
1692  04B1  E5          	push	hl
1693  04B2  CD 00 00    	call	_zx_print_str
1694  04B5  AF          	xor	a, a
1695  04B6  F5          	push	af
1696  04B7  33          	inc	sp
1697  04B8  21 D0 07    	ld	hl,0x07d0
1698  04BB  E5          	push	hl
1699  04BC  21 05 1B    	ld	hl,0x1b05
1700  04BF  E5          	push	hl
1701  04C0  3E 08       	ld	a,0x08
1702  04C2  F5          	push	af
1703  04C3  33          	inc	sp
1704  04C4  CD 35 0B    	call	_game_colour_message
1705  04C7  F1          	pop	af
1706  04C8  F1          	pop	af
1707  04C9  21 3A 00    	ld	hl,___str_3
1708  04CC  E3          	ex	(sp),hl
1709  04CD  21 08 03    	ld	hl,0x0308
1710  04D0  E5          	push	hl
1711  04D1  CD 00 00    	call	_zx_print_str
1712  04D4  AF          	xor	a, a
1713  04D5  F5          	push	af
1714  04D6  33          	inc	sp
1715  04D7  21 D0 07    	ld	hl,0x07d0
1716  04DA  E5          	push	hl
1717  04DB  21 03 1C    	ld	hl,0x1c03
1718  04DE  E5          	push	hl
1719  04DF  3E 08       	ld	a,0x08
1720  04E1  F5          	push	af
1721  04E2  33          	inc	sp
1722  04E3  CD 35 0B    	call	_game_colour_message
1723  04E6  F1          	pop	af
1724  04E7  F1          	pop	af
1725  04E8  F1          	pop	af
1726  04E9  21 E8 03    	ld	hl,0x03e8
1727  04EC  CD 00 00    	call	_z80_delay_ms_fastcall
1728  04EF  CD 00 00    	call	_in_wait_key
1729  04F2  CD 00 00    	call	_ay_reset
1730  04F5  21 00 00    	ld	hl,_game_world
1731  04F8  36 FF       	ld	(hl),0xff
1732  04FA  21 00 00    	ld	hl,_scr_curr
1733  04FD  36 FF       	ld	(hl),0xff
1734  04FF  21 00 00    	ld	hl,_game_worldup
1735  0502  36 01       	ld	(hl),0x01
1736  0504  C9          	ret
1737  0505              	SECTION rodata_compiler
1738  0000              ___str_0:
1739  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1740  0010  00          	DEFB 0x00
1741  0011              	SECTION rodata_compiler
1742  0011              ___str_1:
1743  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1744  0022  00          	DEFB 0x00
1745  0023              	SECTION rodata_compiler
1746  0023              ___str_2:
1747  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1748  0039  00          	DEFB 0x00
1749  003A              	SECTION rodata_compiler
1750  003A              ___str_3:
1751  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1752  0053  00          	DEFB 0x00
1753  0054              	SECTION code_compiler
1754  0505              ;	---------------------------------
1755  0505              ; Function game_add_enemy
1756  0505              ; ---------------------------------
1757  0505              _game_add_enemy:
1758  0505  7D          	ld	a,l
1759  0506  D6 78       	sub	a,0x78
1760  0508  28 59       	jr	Z,l_game_add_enemy_00119
1761  050A  4D          	ld	c,l
1762  050B  21 00 00    	ld	hl,_tmp0
1763  050E  36 00       	ld	(hl),0x00
1764  0510              l_game_add_enemy_00104:
1765  0510  3E 17       	ld	a,0x17
1766  0512  21 00 00    	ld	hl,_tmp0
1767  0515  96          	sub	a, (hl)
1768  0516  DA CC 05    	jp	C, l_game_add_enemy_00121
1769  0519  7E          	ld	a, (hl)
1770  051A  5F          	ld	e, a
1771  051B  87          	add	a, a
1772  051C  83          	add	a, e
1773  051D  21 00 00    	ld	hl,_tmp1
1774  0520  77          	ld	(hl), a
1775  0521  C6 00       	add	a,+((_spr_init) & 0xFF)
1776  0523  5F          	ld	e, a
1777  0524  3E 00       	ld	a, +((_spr_init) / 256)
1778  0526  CE 00       	adc	a,0x00
1779  0528  57          	ld	d, a
1780  0529  1A          	ld	a, (de)
1781  052A  91          	sub	a, c
1782  052B  20 30       	jr	NZ,l_game_add_enemy_00102
1783  052D  6E          	ld	l,(hl)
1784  052E  26 00       	ld	h,0x00
1785  0530  5D          	ld	e,l
1786  0531  54          	ld	d,h
1787  0532  23          	inc	hl
1788  0533  23          	inc	hl
1789  0534  3E 00       	ld	a, +((_spr_init) & 0xFF)
1790  0536  85          	add	a, l
1791  0537  6F          	ld	l, a
1792  0538  3E 00       	ld	a, +((_spr_init) / 256)
1793  053A  8C          	adc	a, h
1794  053B  67          	ld	h, a
1795  053C  46          	ld	b, (hl)
1796  053D  13          	inc	de
1797  053E  21 00 00    	ld	hl,_spr_init
1798  0541  19          	add	hl, de
1799  0542  56          	ld	d, (hl)
1800  0543  C5          	push	bc
1801  0544  4A          	ld	c, d
1802  0545  3A 00 00    	ld	a,(_s_col1)
1803  0548  C5          	push	bc
1804  0549  F5          	push	af
1805  054A  33          	inc	sp
1806  054B  3A 00 00    	ld	a,(_s_lin1)
1807  054E  F5          	push	af
1808  054F  33          	inc	sp
1809  0550  CD 00 00    	call	_enemy_init
1810  0553  F1          	pop	af
1811  0554  F1          	pop	af
1812  0555  C1          	pop	bc
1813  0556  21 00 00    	ld	hl,_tmp0
1814  0559  36 FF       	ld	(hl),0xff
1815  055B  18 B3       	jr	l_game_add_enemy_00104
1816  055D              l_game_add_enemy_00102:
1817  055D  21 00 00    	ld	hl,_tmp0
1818  0560  34          	inc	(hl)
1819  0561  18 AD       	jr	l_game_add_enemy_00104
1820  0563              l_game_add_enemy_00119:
1821  0563  3A 00 00    	ld	a,(_game_boss)
1822  0566  B7          	or	a, a
1823  0567  20 59       	jr	NZ,l_game_add_enemy_00115
1824  0569  3A 00 00    	ld	a,(_game_boss_alive)
1825  056C  B7          	or	a, a
1826  056D  28 53       	jr	Z,l_game_add_enemy_00115
1827  056F  3A 00 00    	ld	a,(_s_lin1)
1828  0572  32 00 00    	ld	(_boss_lin),a
1829  0575  3A 00 00    	ld	a,(_s_col1)
1830  0578  32 00 00    	ld	(_boss_col),a
1831  057B  3A 00 00    	ld	a,(_game_world)
1832  057E  B7          	or	a, a
1833  057F  28 10       	jr	Z,l_game_add_enemy_00107
1834  0581  3D          	dec	a
1835  0582  28 14       	jr	Z,l_game_add_enemy_00108
1836  0584  3A 00 00    	ld	a,(_game_world)
1837  0587  FE 02       	cp	a,0x02
1838  0589  28 14       	jr	Z,l_game_add_enemy_00109
1839  058B  D6 03       	sub	a,0x03
1840  058D  28 17       	jr	Z,l_game_add_enemy_00110
1841  058F  18 1A       	jr	l_game_add_enemy_00111
1842  0591              l_game_add_enemy_00107:
1843  0591  21 00 00    	ld	hl,_boss_tile
1844  0594  36 C8       	ld	(hl),0xc8
1845  0596  18 13       	jr	l_game_add_enemy_00111
1846  0598              l_game_add_enemy_00108:
1847  0598  21 00 00    	ld	hl,_boss_tile
1848  059B  36 D8       	ld	(hl),0xd8
1849  059D  18 0C       	jr	l_game_add_enemy_00111
1850  059F              l_game_add_enemy_00109:
1851  059F  21 00 00    	ld	hl,_boss_tile
1852  05A2  36 DC       	ld	(hl),0xdc
1853  05A4  18 05       	jr	l_game_add_enemy_00111
1854  05A6              l_game_add_enemy_00110:
1855  05A6  21 00 00    	ld	hl,_boss_tile
1856  05A9  36 E0       	ld	(hl),0xe0
1857  05AB              l_game_add_enemy_00111:
1858  05AB  21 00 00    	ld	hl,_boss_stat
1859  05AE  36 00       	ld	(hl),0x00
1860  05B0  21 00 00    	ld	hl,_boss_stat
1861  05B3  CD 00 00    	call	_spr_set_up
1862  05B6  21 00 00    	ld	hl,_game_boss
1863  05B9  36 01       	ld	(hl),0x01
1864  05BB  21 00 00    	ld	hl,_game_boss_hit
1865  05BE  36 06       	ld	(hl),0x06
1866  05C0  18 0A       	jr	l_game_add_enemy_00121
1867  05C2              l_game_add_enemy_00115:
1868  05C2  3A 00 00    	ld	a,(_game_boss)
1869  05C5  B7          	or	a, a
1870  05C6  C0          	ret	NZ
1871  05C7  21 00 00    	ld	hl,_game_boss_fix
1872  05CA  36 01       	ld	(hl),0x01
1873  05CC              l_game_add_enemy_00121:
1874  05CC  C9          	ret
1875  05CD              	SECTION code_compiler
1876  05CD              ;	---------------------------------
1877  05CD              ; Function game_print_footer
1878  05CD              ; ---------------------------------
1879  05CD              _game_print_footer:
1880  05CD  21 00 00    	ld	hl,_screen_ink
1881  05D0  36 05       	ld	(hl),0x05
1882  05D2  21 13 62    	ld	hl,0x6213
1883  05D5  E5          	push	hl
1884  05D6  CD 00 00    	call	_game_fill_row
1885  05D9  21 54 00    	ld	hl,___str_4
1886  05DC  E5          	push	hl
1887  05DD  21 13 00    	ld	hl,0x0013
1888  05E0  E5          	push	hl
1889  05E1  CD 00 00    	call	_zx_print_str
1890  05E4  21 56 00    	ld	hl,___str_5
1891  05E7  E5          	push	hl
1892  05E8  21 13 1F    	ld	hl,0x1f13
1893  05EB  E5          	push	hl
1894  05EC  CD 00 00    	call	_zx_print_str
1895  05EF  21 58 00    	ld	hl,___str_6
1896  05F2  E5          	push	hl
1897  05F3  21 14 00    	ld	hl,0x0014
1898  05F6  E5          	push	hl
1899  05F7  CD 00 00    	call	_zx_print_str
1900  05FA  21 5A 00    	ld	hl,___str_7
1901  05FD  E5          	push	hl
1902  05FE  21 14 1F    	ld	hl,0x1f14
1903  0601  E5          	push	hl
1904  0602  CD 00 00    	call	_zx_print_str
1905  0605  21 58 00    	ld	hl,___str_6
1906  0608  E5          	push	hl
1907  0609  21 15 00    	ld	hl,0x0015
1908  060C  E5          	push	hl
1909  060D  CD 00 00    	call	_zx_print_str
1910  0610  21 5A 00    	ld	hl,___str_7
1911  0613  E5          	push	hl
1912  0614  21 15 1F    	ld	hl,0x1f15
1913  0617  E5          	push	hl
1914  0618  CD 00 00    	call	_zx_print_str
1915  061B  21 58 00    	ld	hl,___str_6
1916  061E  E5          	push	hl
1917  061F  21 16 00    	ld	hl,0x0016
1918  0622  E5          	push	hl
1919  0623  CD 00 00    	call	_zx_print_str
1920  0626  21 5A 00    	ld	hl,___str_7
1921  0629  E5          	push	hl
1922  062A  21 16 1F    	ld	hl,0x1f16
1923  062D  E5          	push	hl
1924  062E  CD 00 00    	call	_zx_print_str
1925  0631  21 17 62    	ld	hl,0x6217
1926  0634  E5          	push	hl
1927  0635  CD 00 00    	call	_game_fill_row
1928  0638  21 5C 00    	ld	hl,___str_8
1929  063B  E5          	push	hl
1930  063C  21 17 00    	ld	hl,0x0017
1931  063F  E5          	push	hl
1932  0640  CD 00 00    	call	_zx_print_str
1933  0643  21 5E 00    	ld	hl,___str_9
1934  0646  E5          	push	hl
1935  0647  21 17 1F    	ld	hl,0x1f17
1936  064A  E5          	push	hl
1937  064B  CD 00 00    	call	_zx_print_str
1938  064E  21 00 00    	ld	hl,_screen_ink
1939  0651  36 05       	ld	(hl),0x05
1940  0653  21 60 00    	ld	hl,___str_10
1941  0656  E5          	push	hl
1942  0657  21 14 01    	ld	hl,0x0114
1943  065A  E5          	push	hl
1944  065B  CD 00 00    	call	_zx_print_str
1945  065E  21 00 00    	ld	hl,_screen_ink
1946  0661  36 06       	ld	(hl),0x06
1947  0663  21 62 00    	ld	hl,___str_11
1948  0666  E5          	push	hl
1949  0667  21 15 01    	ld	hl,0x0115
1950  066A  E5          	push	hl
1951  066B  CD 00 00    	call	_zx_print_str
1952  066E  21 00 00    	ld	hl,_screen_ink
1953  0671  36 42       	ld	(hl),0x42
1954  0673  21 64 00    	ld	hl,___str_12
1955  0676  E5          	push	hl
1956  0677  21 14 08    	ld	hl,0x0814
1957  067A  E5          	push	hl
1958  067B  CD 00 00    	call	_zx_print_str
1959  067E  21 00 00    	ld	hl,_screen_ink
1960  0681  36 03       	ld	(hl),0x03
1961  0683  21 66 00    	ld	hl,___str_13
1962  0686  E5          	push	hl
1963  0687  21 15 08    	ld	hl,0x0815
1964  068A  E5          	push	hl
1965  068B  CD 00 00    	call	_zx_print_str
1966  068E  21 00 00    	ld	hl,_screen_ink
1967  0691  36 47       	ld	(hl),0x47
1968  0693  21 68 00    	ld	hl,___str_14
1969  0696  E5          	push	hl
1970  0697  21 14 0F    	ld	hl,0x0f14
1971  069A  E5          	push	hl
1972  069B  CD 00 00    	call	_zx_print_str
1973  069E  21 00 00    	ld	hl,_screen_ink
1974  06A1  36 05       	ld	(hl),0x05
1975  06A3  21 6A 00    	ld	hl,___str_15
1976  06A6  E5          	push	hl
1977  06A7  21 15 0F    	ld	hl,0x0f15
1978  06AA  E5          	push	hl
1979  06AB  CD 00 00    	call	_zx_print_str
1980  06AE  21 00 00    	ld	hl,_screen_ink
1981  06B1  36 45       	ld	(hl),0x45
1982  06B3  21 6C 00    	ld	hl,___str_16
1983  06B6  E5          	push	hl
1984  06B7  21 14 15    	ld	hl,0x1514
1985  06BA  E5          	push	hl
1986  06BB  CD 00 00    	call	_zx_print_str
1987  06BE  21 00 00    	ld	hl,_screen_ink
1988  06C1  36 07       	ld	(hl),0x07
1989  06C3  21 6E 00    	ld	hl,___str_17
1990  06C6  E5          	push	hl
1991  06C7  21 15 15    	ld	hl,0x1515
1992  06CA  E5          	push	hl
1993  06CB  CD 00 00    	call	_zx_print_str
1994  06CE  3A 00 00    	ld	a,(_game_show_fps)
1995  06D1  B7          	or	a, a
1996  06D2  28 0B       	jr	Z,l_game_print_footer_00102
1997  06D4  21 70 00    	ld	hl,___str_18
1998  06D7  E5          	push	hl
1999  06D8  21 17 14    	ld	hl,0x1417
2000  06DB  E5          	push	hl
2001  06DC  CD 00 00    	call	_zx_print_str
2002  06DF              l_game_print_footer_00102:
2003  06DF  21 00 00    	ld	hl,_screen_ink
2004  06E2  36 06       	ld	(hl),0x06
2005  06E4  21 75 00    	ld	hl,___str_19
2006  06E7  E5          	push	hl
2007  06E8  21 16 07    	ld	hl,0x0716
2008  06EB  E5          	push	hl
2009  06EC  CD 00 00    	call	_zx_print_str
2010  06EF  21 77 00    	ld	hl,___str_20
2011  06F2  E5          	push	hl
2012  06F3  21 16 0D    	ld	hl,0x0d16
2013  06F6  E5          	push	hl
2014  06F7  CD 00 00    	call	_zx_print_str
2015  06FA  21 79 00    	ld	hl,___str_21
2016  06FD  E5          	push	hl
2017  06FE  21 16 13    	ld	hl,0x1316
2018  0701  E5          	push	hl
2019  0702  CD 00 00    	call	_zx_print_str
2020  0705  21 7B 00    	ld	hl,___str_22
2021  0708  E5          	push	hl
2022  0709  21 16 19    	ld	hl,0x1916
2023  070C  E5          	push	hl
2024  070D  CD 00 00    	call	_zx_print_str
2025  0710  CD 35 07    	call	_game_update_stats
2026  0713  C9          	ret
2027  0714              	SECTION rodata_compiler
2028  0054              ___str_4:
2029  0054  61          	DEFM "a"
2030  0055  00          	DEFB 0x00
2031  0056              	SECTION rodata_compiler
2032  0056              ___str_5:
2033  0056  63          	DEFM "c"
2034  0057  00          	DEFB 0x00
2035  0058              	SECTION rodata_compiler
2036  0058              ___str_6:
2037  0058  64          	DEFM "d"
2038  0059  00          	DEFB 0x00
2039  005A              	SECTION rodata_compiler
2040  005A              ___str_7:
2041  005A  65          	DEFM "e"
2042  005B  00          	DEFB 0x00
2043  005C              	SECTION rodata_compiler
2044  005C              ___str_8:
2045  005C  66          	DEFM "f"
2046  005D  00          	DEFB 0x00
2047  005E              	SECTION rodata_compiler
2048  005E              ___str_9:
2049  005E  67          	DEFM "g"
2050  005F  00          	DEFB 0x00
2051  0060              	SECTION rodata_compiler
2052  0060              ___str_10:
2053  0060  3C          	DEFM "<"
2054  0061  00          	DEFB 0x00
2055  0062              	SECTION rodata_compiler
2056  0062              ___str_11:
2057  0062  5C          	DEFB 0x5c
2058  0063  00          	DEFB 0x00
2059  0064              	SECTION rodata_compiler
2060  0064              ___str_12:
2061  0064  3E          	DEFM ">"
2062  0065  00          	DEFB 0x00
2063  0066              	SECTION rodata_compiler
2064  0066              ___str_13:
2065  0066  5E          	DEFM "^"
2066  0067  00          	DEFB 0x00
2067  0068              	SECTION rodata_compiler
2068  0068              ___str_14:
2069  0068  3F          	DEFM "?"
2070  0069  00          	DEFB 0x00
2071  006A              	SECTION rodata_compiler
2072  006A              ___str_15:
2073  006A  5F          	DEFM "_"
2074  006B  00          	DEFB 0x00
2075  006C              	SECTION rodata_compiler
2076  006C              ___str_16:
2077  006C  78          	DEFM "x"
2078  006D  00          	DEFB 0x00
2079  006E              	SECTION rodata_compiler
2080  006E              ___str_17:
2081  006E  79          	DEFM "y"
2082  006F  00          	DEFB 0x00
2083  0070              	SECTION rodata_compiler
2084  0070              ___str_18:
2085  0070  4C 50 53 3A 	DEFM "LPS:"
2086  0074  00          	DEFB 0x00
2087  0075              	SECTION rodata_compiler
2088  0075              ___str_19:
2089  0075  6C          	DEFM "l"
2090  0076  00          	DEFB 0x00
2091  0077              	SECTION rodata_compiler
2092  0077              ___str_20:
2093  0077  6D          	DEFM "m"
2094  0078  00          	DEFB 0x00
2095  0079              	SECTION rodata_compiler
2096  0079              ___str_21:
2097  0079  6E          	DEFM "n"
2098  007A  00          	DEFB 0x00
2099  007B              	SECTION rodata_compiler
2100  007B              ___str_22:
2101  007B  6F          	DEFM "o"
2102  007C  00          	DEFB 0x00
2103  007D              	SECTION code_compiler
2104  0714              ;	---------------------------------
2105  0714              ; Function game_print_score
2106  0714              ; ---------------------------------
2107  0714              _game_print_score:
2108  0714  21 00 00    	ld	hl,_screen_ink
2109  0717  36 07       	ld	(hl),0x07
2110  0719  21 00 00    	ld	hl,_screen_paper
2111  071C  36 00       	ld	(hl),0x00
2112  071E  2A 00 00    	ld	hl,(_player_score)
2113  0721  E5          	push	hl
2114  0722  21 14 17    	ld	hl,0x1714
2115  0725  E5          	push	hl
2116  0726  CD 00 00    	call	_zx_print_int
2117  0729  2A 00 00    	ld	hl,(_game_score_top)
2118  072C  E5          	push	hl
2119  072D  21 00 0E    	ld	hl,0x0e00
2120  0730  E5          	push	hl
2121  0731  CD 00 00    	call	_zx_print_int
2122  0734  C9          	ret
2123  0735              	SECTION code_compiler
2124  0735              ;	---------------------------------
2125  0735              ; Function game_update_stats
2126  0735              ; ---------------------------------
2127  0735              _game_update_stats:
2128  0735  21 00 00    	ld	hl,_screen_ink
2129  0738  36 07       	ld	(hl),0x07
2130  073A  3A 00 00    	ld	a,(_player_lives)
2131  073D  F5          	push	af
2132  073E  33          	inc	sp
2133  073F  21 14 03    	ld	hl,0x0314
2134  0742  E5          	push	hl
2135  0743  CD 00 00    	call	_zx_print_chr
2136  0746  3A 00 00    	ld	a,(_player_coins)
2137  0749  F5          	push	af
2138  074A  33          	inc	sp
2139  074B  21 16 09    	ld	hl,0x0916
2140  074E  E5          	push	hl
2141  074F  CD 00 00    	call	_zx_print_chr
2142  0752  3A 00 00    	ld	a,(_player_str)
2143  0755  F5          	push	af
2144  0756  33          	inc	sp
2145  0757  21 16 0F    	ld	hl,0x0f16
2146  075A  E5          	push	hl
2147  075B  CD 00 00    	call	_zx_print_chr
2148  075E  3A 00 00    	ld	a,(_player_int)
2149  0761  F5          	push	af
2150  0762  33          	inc	sp
2151  0763  21 16 15    	ld	hl,0x1516
2152  0766  E5          	push	hl
2153  0767  CD 00 00    	call	_zx_print_chr
2154  076A  3A 00 00    	ld	a,(_player_lvl)
2155  076D  F5          	push	af
2156  076E  33          	inc	sp
2157  076F  21 16 1B    	ld	hl,0x1b16
2158  0772  E5          	push	hl
2159  0773  CD 00 00    	call	_zx_print_chr
2160  0776  21 00 00    	ld	hl,_screen_ink
2161  0779  36 02       	ld	(hl),0x02
2162  077B  3A 00 00    	ld	a,(_player_vita)
2163  077E  F5          	push	af
2164  077F  33          	inc	sp
2165  0780  21 14 0A    	ld	hl,0x0a14
2166  0783  E5          	push	hl
2167  0784  CD 00 00    	call	_zx_print_chr
2168  0787  21 00 00    	ld	hl,_screen_ink
2169  078A  36 01       	ld	(hl),0x01
2170  078C  3A 00 00    	ld	a,(_player_mana)
2171  078F  F5          	push	af
2172  0790  33          	inc	sp
2173  0791  21 14 11    	ld	hl,0x1114
2174  0794  E5          	push	hl
2175  0795  CD 00 00    	call	_zx_print_chr
2176  0798  3A 00 00    	ld	a,(_game_boss)
2177  079B  B7          	or	a, a
2178  079C  28 3E       	jr	Z,l_game_update_stats_00106
2179  079E  21 00 00    	ld	hl,_screen_ink
2180  07A1  36 03       	ld	(hl),0x03
2181  07A3  21 00 00    	ld	hl,_tmp0
2182  07A6  36 00       	ld	(hl),0x00
2183  07A8              l_game_update_stats_00115:
2184  07A8  21 00 00    	ld	hl,_tmp0
2185  07AB  7E          	ld	a, (hl)
2186  07AC  C6 0D       	add	a,0x0d
2187  07AE  47          	ld	b, a
2188  07AF  7E          	ld	a, (hl)
2189  07B0  21 00 00    	ld	hl,_game_boss_hit
2190  07B3  96          	sub	a, (hl)
2191  07B4  30 0F       	jr	NC,l_game_update_stats_00102
2192  07B6  21 7D 00    	ld	hl,___str_23
2193  07B9  E5          	push	hl
2194  07BA  C5          	push	bc
2195  07BB  33          	inc	sp
2196  07BC  3E 13       	ld	a,0x13
2197  07BE  F5          	push	af
2198  07BF  33          	inc	sp
2199  07C0  CD 00 00    	call	_zx_print_str
2200  07C3  18 0D       	jr	l_game_update_stats_00116
2201  07C5              l_game_update_stats_00102:
2202  07C5  21 7F 00    	ld	hl,___str_24
2203  07C8  E5          	push	hl
2204  07C9  C5          	push	bc
2205  07CA  33          	inc	sp
2206  07CB  3E 13       	ld	a,0x13
2207  07CD  F5          	push	af
2208  07CE  33          	inc	sp
2209  07CF  CD 00 00    	call	_zx_print_str
2210  07D2              l_game_update_stats_00116:
2211  07D2  21 00 00    	ld	hl,_tmp0
2212  07D5  7E          	ld	a,(hl)
2213  07D6  3C          	inc	a
2214  07D7  77          	ld	(hl),a
2215  07D8  D6 06       	sub	a,0x06
2216  07DA  38 CC       	jr	C,l_game_update_stats_00115
2217  07DC              l_game_update_stats_00106:
2218  07DC  3A 00 00    	ld	a,(_player_keys)
2219  07DF  B7          	or	a, a
2220  07E0  28 10       	jr	Z,l_game_update_stats_00108
2221  07E2  21 00 00    	ld	hl,_screen_ink
2222  07E5  36 07       	ld	(hl),0x07
2223  07E7  21 81 00    	ld	hl,___str_25
2224  07EA  E5          	push	hl
2225  07EB  21 16 02    	ld	hl,0x0216
2226  07EE  E5          	push	hl
2227  07EF  CD 00 00    	call	_zx_print_str
2228  07F2              l_game_update_stats_00108:
2229  07F2  3A 01 00    	ld	a, (_player_keys + 1)
2230  07F5  B7          	or	a, a
2231  07F6  28 10       	jr	Z,l_game_update_stats_00110
2232  07F8  21 00 00    	ld	hl,_screen_ink
2233  07FB  36 02       	ld	(hl),0x02
2234  07FD  21 81 00    	ld	hl,___str_25
2235  0800  E5          	push	hl
2236  0801  21 16 03    	ld	hl,0x0316
2237  0804  E5          	push	hl
2238  0805  CD 00 00    	call	_zx_print_str
2239  0808              l_game_update_stats_00110:
2240  0808  3A 02 00    	ld	a, (_player_keys + 2)
2241  080B  B7          	or	a, a
2242  080C  28 10       	jr	Z,l_game_update_stats_00112
2243  080E  21 00 00    	ld	hl,_screen_ink
2244  0811  36 04       	ld	(hl),0x04
2245  0813  21 81 00    	ld	hl,___str_25
2246  0816  E5          	push	hl
2247  0817  21 16 04    	ld	hl,0x0416
2248  081A  E5          	push	hl
2249  081B  CD 00 00    	call	_zx_print_str
2250  081E              l_game_update_stats_00112:
2251  081E  3A 03 00    	ld	a, (_player_keys + 3)
2252  0821  B7          	or	a, a
2253  0822  C8          	ret	Z
2254  0823  21 00 00    	ld	hl,_screen_ink
2255  0826  36 05       	ld	(hl),0x05
2256  0828  21 81 00    	ld	hl,___str_25
2257  082B  E5          	push	hl
2258  082C  21 16 05    	ld	hl,0x0516
2259  082F  E5          	push	hl
2260  0830  CD 00 00    	call	_zx_print_str
2261  0833  C9          	ret
2262  0834              	SECTION rodata_compiler
2263  007D              ___str_23:
2264  007D  2A          	DEFM "*"
2265  007E  00          	DEFB 0x00
2266  007F              	SECTION rodata_compiler
2267  007F              ___str_24:
2268  007F  20          	DEFM " "
2269  0080  00          	DEFB 0x00
2270  0081              	SECTION rodata_compiler
2271  0081              ___str_25:
2272  0081  5D          	DEFM "]"
2273  0082  00          	DEFB 0x00
2274  0083              	SECTION code_compiler
2275  0834              ;	---------------------------------
2276  0834              ; Function game_tick
2277  0834              ; ---------------------------------
2278  0834              _game_tick:
2279  0834  21 00 00    	ld	hl,_curr_time
2280  0837  34          	inc	(hl)
2281  0838  C2 00 00    	jp	NZ,_zx_isr
2282  083B  23          	inc	hl
2283  083C  34          	inc	(hl)
2284  083D  C3 00 00    	jp  _zx_isr
2285  0840              	SECTION code_compiler
2286  0840              ;	---------------------------------
2287  0840              ; Function game_start_timer
2288  0840              ; ---------------------------------
2289  0840              _game_start_timer:
2290  0840  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2291  0843  36 CD       	ld	(hl),0xcd
2292  0845  23          	inc	hl
2293  0846  11 34 08    	ld	de,_game_tick
2294  0849  73          	ld	(hl), e
2295  084A  23          	inc	hl
2296  084B  72          	ld	(hl), d
2297  084C  C9          	ret
2298  084D              	SECTION code_compiler
2299  084D              ;	---------------------------------
2300  084D              ; Function game_set_checkpoint
2301  084D              ; ---------------------------------
2302  084D              _game_set_checkpoint:
2303  084D  3A 00 00    	ld	a,(_player_col_scr)
2304  0850  CB 3F       	srl	a
2305  0852  87          	add	a, a
2306  0853  32 00 00    	ld	(_game_checkpoint_col),a
2307  0856  3A 00 00    	ld	a,(_player_lin_scr)
2308  0859  07          	rlca
2309  085A  07          	rlca
2310  085B  07          	rlca
2311  085C  07          	rlca
2312  085D  E6 0F       	and	a,0x0f
2313  085F  07          	rlca
2314  0860  07          	rlca
2315  0861  07          	rlca
2316  0862  07          	rlca
2317  0863  E6 F0       	and	a,0xf0
2318  0865  32 00 00    	ld	(_game_checkpoint_lin),a
2319  0868  3A 00 00    	ld	a,(_scr_curr)
2320  086B  32 00 00    	ld	(_game_checkpoint_scr),a
2321  086E  C9          	ret
2322  086F              	SECTION code_compiler
2323  086F              ;	---------------------------------
2324  086F              ; Function game_round_init
2325  086F              ; ---------------------------------
2326  086F              _game_round_init:
2327  086F  21 00 00    	ld	hl,0x0000
2328  0872  22 00 00    	ld	(_loop_count),hl
2329  0875  21 00 00    	ld	hl,0
2330  0878  22 00 00    	ld	(_curr_time),hl
2331  087B  21 00 00    	ld	hl,0x0000
2332  087E  22 00 00    	ld	(_frame_time),hl
2333  0881  CD 00 00    	call	_spr_init_effects
2334  0884  CD 47 09    	call	_game_print_header
2335  0887  CD CD 05    	call	_game_print_footer
2336  088A  CD 00 00    	call	_spr_page_map
2337  088D  CD 98 01    	call	_game_draw_screen
2338  0890  CD 4D 08    	call	_game_set_checkpoint
2339  0893  3A 00 00    	ld	a,(_game_over)
2340  0896  B7          	or	a, a
2341  0897  20 10       	jr	NZ,l_game_round_init_00102
2342  0899  2A 00 00    	ld	hl,(_player_col_scr)
2343  089C  26 70       	ld	h,0x70
2344  089E  3A 00 00    	ld	a,(_player_lin_scr)
2345  08A1  E5          	push	hl
2346  08A2  F5          	push	af
2347  08A3  33          	inc	sp
2348  08A4  CD 00 00    	call	_player_init
2349  08A7  F1          	pop	af
2350  08A8  33          	inc	sp
2351  08A9              l_game_round_init_00102:
2352  08A9  CD 35 07    	call	_game_update_stats
2353  08AC  CD 00 00    	call	_ay_reset
2354  08AF  21 00 00    	ld	hl,_ay_song_04_lotr_level_start
2355  08B2  E5          	push	hl
2356  08B3  21 01 04    	ld	hl,0x0401
2357  08B6  E5          	push	hl
2358  08B7  CD 00 00    	call	_ay_song_play
2359  08BA  3A 00 00    	ld	a,(_game_world)
2360  08BD  B7          	or	a, a
2361  08BE  28 10       	jr	Z,l_game_round_init_00103
2362  08C0  3D          	dec	a
2363  08C1  28 1F       	jr	Z,l_game_round_init_00104
2364  08C3  3A 00 00    	ld	a,(_game_world)
2365  08C6  FE 02       	cp	a,0x02
2366  08C8  28 2A       	jr	Z,l_game_round_init_00105
2367  08CA  D6 03       	sub	a,0x03
2368  08CC  28 38       	jr	Z,l_game_round_init_00106
2369  08CE  18 46       	jr	l_game_round_init_00107
2370  08D0              l_game_round_init_00103:
2371  08D0  21 83 00    	ld	hl,___str_26
2372  08D3  E5          	push	hl
2373  08D4  21 0C 06    	ld	hl,0x060c
2374  08D7  E5          	push	hl
2375  08D8  CD 00 00    	call	_zx_print_str
2376  08DB  21 00 00    	ld	hl,_tmp0
2377  08DE  36 11       	ld	(hl),0x11
2378  08E0  18 34       	jr	l_game_round_init_00107
2379  08E2              l_game_round_init_00104:
2380  08E2  21 95 00    	ld	hl,___str_27
2381  08E5  E5          	push	hl
2382  08E6  21 0C 06    	ld	hl,0x060c
2383  08E9  E5          	push	hl
2384  08EA  CD 00 00    	call	_zx_print_str
2385  08ED  21 00 00    	ld	hl,_tmp0
2386  08F0  36 0D       	ld	(hl),0x0d
2387  08F2  18 22       	jr	l_game_round_init_00107
2388  08F4              l_game_round_init_00105:
2389  08F4  21 A3 00    	ld	hl,___str_28
2390  08F7  E5          	push	hl
2391  08F8  21 0C 06    	ld	hl,0x060c
2392  08FB  E5          	push	hl
2393  08FC  CD 00 00    	call	_zx_print_str
2394  08FF  21 00 00    	ld	hl,_tmp0
2395  0902  36 0E       	ld	(hl),0x0e
2396  0904  18 10       	jr	l_game_round_init_00107
2397  0906              l_game_round_init_00106:
2398  0906  21 B2 00    	ld	hl,___str_29
2399  0909  E5          	push	hl
2400  090A  21 0C 06    	ld	hl,0x060c
2401  090D  E5          	push	hl
2402  090E  CD 00 00    	call	_zx_print_str
2403  0911  21 00 00    	ld	hl,_tmp0
2404  0914  36 11       	ld	(hl),0x11
2405  0916              l_game_round_init_00107:
2406  0916  3A 00 00    	ld	a,(_tmp0)
2407  0919  C6 06       	add	a,0x06
2408  091B  4F          	ld	c, a
2409  091C  06 68       	ld	b,0x68
2410  091E  C5          	push	bc
2411  091F  3E 06       	ld	a,0x06
2412  0921  F5          	push	af
2413  0922  33          	inc	sp
2414  0923  21 00 00    	ld	hl,_attrib_osd
2415  0926  E5          	push	hl
2416  0927  CD 0B 0B    	call	_game_paint_attrib
2417  092A  F1          	pop	af
2418  092B  F1          	pop	af
2419  092C  33          	inc	sp
2420  092D  3A 00 00    	ld	a,(_tmp0)
2421  0930  C6 06       	add	a,0x06
2422  0932  47          	ld	b, a
2423  0933  AF          	xor	a, a
2424  0934  F5          	push	af
2425  0935  33          	inc	sp
2426  0936  21 C8 00    	ld	hl,0x00c8
2427  0939  E5          	push	hl
2428  093A  C5          	push	bc
2429  093B  33          	inc	sp
2430  093C  21 0C 06    	ld	hl,0x060c
2431  093F  E5          	push	hl
2432  0940  CD 35 0B    	call	_game_colour_message
2433  0943  F1          	pop	af
2434  0944  F1          	pop	af
2435  0945  F1          	pop	af
2436  0946  C9          	ret
2437  0947              	SECTION rodata_compiler
2438  0083              ___str_26:
2439  0083  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2440  0094  00          	DEFB 0x00
2441  0095              	SECTION rodata_compiler
2442  0095              ___str_27:
2443  0095  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2444  00A2  00          	DEFB 0x00
2445  00A3              	SECTION rodata_compiler
2446  00A3              ___str_28:
2447  00A3  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2448  00B1  00          	DEFB 0x00
2449  00B2              	SECTION rodata_compiler
2450  00B2              ___str_29:
2451  00B2  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2452  00C3  00          	DEFB 0x00
2453  00C4              	SECTION code_compiler
2454  0947              ;	---------------------------------
2455  0947              ; Function game_print_header
2456  0947              ; ---------------------------------
2457  0947              _game_print_header:
2458  0947  21 00 00    	ld	hl,_screen_ink
2459  094A  36 02       	ld	(hl),0x02
2460  094C  21 C4 00    	ld	hl,___str_30
2461  094F  E5          	push	hl
2462  0950  21 00 0B    	ld	hl,0x0b00
2463  0953  E5          	push	hl
2464  0954  CD 00 00    	call	_zx_print_str
2465  0957  21 00 00    	ld	hl,_screen_ink
2466  095A  36 07       	ld	(hl),0x07
2467  095C  CD 14 07    	call	_game_print_score
2468  095F  C9          	ret
2469  0960              	SECTION rodata_compiler
2470  00C4              ___str_30:
2471  00C4  24 25 7C    	DEFM "$%|"
2472  00C7  00          	DEFB 0x00
2473  00C8              	SECTION code_compiler
2474  0960              ;	---------------------------------
2475  0960              ; Function game_check_map
2476  0960              ; ---------------------------------
2477  0960              _game_check_map:
2478  0960  CD 00 00    	call	___sdcc_enter_ix
2479  0963  DD CB 05 46 	bit	0,(ix+5)
2480  0967  20 18       	jr	NZ,l_game_check_map_00108
2481  0969  DD 66 05    	ld	h,(ix+5)
2482  096C  DD 6E 04    	ld	l,(ix+4)
2483  096F  E5          	push	hl
2484  0970  CD 00 00    	call	_spr_calc_index
2485  0973  F1          	pop	af
2486  0974  22 00 00    	ld	(_index1),hl
2487  0977  21 00 00    	ld	hl,_index1
2488  097A  CD DC 09    	call	_game_check_cell
2489  097D  26 00       	ld	h,0x00
2490  097F  18 58       	jr	l_game_check_map_00110
2491  0981              l_game_check_map_00108:
2492  0981  21 00 00    	ld	hl,_g_player_hit_left
2493  0984  36 00       	ld	(hl),0x00
2494  0986  21 00 00    	ld	hl,_g_player_hit_right
2495  0989  36 00       	ld	(hl),0x00
2496  098B  DD 46 05    	ld	b,(ix+5)
2497  098E  05          	dec	b
2498  098F  DD 4E 04    	ld	c,(ix+4)
2499  0992  C5          	push	bc
2500  0993  CD 00 00    	call	_spr_calc_index
2501  0996  F1          	pop	af
2502  0997  22 00 00    	ld	(_index1),hl
2503  099A  21 00 00    	ld	hl,_index1
2504  099D  CD DC 09    	call	_game_check_cell
2505  09A0  7D          	ld	a, l
2506  09A1  B7          	or	a, a
2507  09A2  28 05       	jr	Z,l_game_check_map_00102
2508  09A4  21 00 00    	ld	hl,_g_player_hit_left
2509  09A7  36 01       	ld	(hl),0x01
2510  09A9              l_game_check_map_00102:
2511  09A9  3A 00 00    	ld	a,(_g_player_hit_left)
2512  09AC  B7          	or	a, a
2513  09AD  20 17       	jr	NZ,l_game_check_map_00106
2514  09AF  21 00 00    	ld	hl,_index1
2515  09B2  34          	inc	(hl)
2516  09B3  20 02       	jr	NZ,l_game_check_map_00141
2517  09B5  23          	inc	hl
2518  09B6  34          	inc	(hl)
2519  09B7              l_game_check_map_00141:
2520  09B7  21 00 00    	ld	hl,_index1
2521  09BA  CD DC 09    	call	_game_check_cell
2522  09BD  7D          	ld	a, l
2523  09BE  B7          	or	a, a
2524  09BF  28 05       	jr	Z,l_game_check_map_00106
2525  09C1  21 00 00    	ld	hl,_g_player_hit_right
2526  09C4  36 01       	ld	(hl),0x01
2527  09C6              l_game_check_map_00106:
2528  09C6  3A 00 00    	ld	a,(_g_player_hit_left)
2529  09C9  B7          	or	a, a
2530  09CA  20 09       	jr	NZ,l_game_check_map_00113
2531  09CC  3A 00 00    	ld	a,(_g_player_hit_right)
2532  09CF  B7          	or	a,a
2533  09D0  20 03       	jr	NZ,l_game_check_map_00113
2534  09D2  6F          	ld	l,a
2535  09D3  18 02       	jr	l_game_check_map_00114
2536  09D5              l_game_check_map_00113:
2537  09D5  2E 01       	ld	l,0x01
2538  09D7              l_game_check_map_00114:
2539  09D7  26 00       	ld	h,0x00
2540  09D9              l_game_check_map_00110:
2541  09D9  DD E1       	pop	ix
2542  09DB  C9          	ret
2543  09DC              	SECTION code_compiler
2544  09DC              ;	---------------------------------
2545  09DC              ; Function game_check_cell
2546  09DC              ; ---------------------------------
2547  09DC              _game_check_cell:
2548  09DC  CD 00 00    	call	___sdcc_enter_ix
2549  09DF  4E          	ld	c,(hl)
2550  09E0  F5          	push	af
2551  09E1  F5          	push	af
2552  09E2  23          	inc	hl
2553  09E3  46          	ld	b, (hl)
2554  09E4  3E A0       	ld	a,0xa0
2555  09E6  B9          	cp	a, c
2556  09E7  3E 00       	ld	a,0x00
2557  09E9  98          	sbc	a, b
2558  09EA  30 05       	jr	NC,l_game_check_cell_00102
2559  09EC  2E 01       	ld	l,0x01
2560  09EE  C3 06 0B    	jp	l_game_check_cell_00156
2561  09F1              l_game_check_cell_00102:
2562  09F1  21 00 00    	ld	hl,_scr_map
2563  09F4  09          	add	hl, bc
2564  09F5  56          	ld	d, (hl)
2565  09F6  3A 00 00    	ld	a,(_sprite)
2566  09F9  D6 07       	sub	a,0x07
2567  09FB  20 04       	jr	NZ,l_game_check_cell_00246
2568  09FD  3E 01       	ld	a,0x01
2569  09FF  18 01       	jr	l_game_check_cell_00247
2570  0A01              l_game_check_cell_00246:
2571  0A01  AF          	xor	a,a
2572  0A02              l_game_check_cell_00247:
2573  0A02  DD 77 FF    	ld	(ix-1),a
2574  0A05  7A          	ld	a, d
2575  0A06  D6 44       	sub	a,0x44
2576  0A08  3E 00       	ld	a,0x00
2577  0A0A  17          	rla
2578  0A0B  DD 77 FE    	ld	(ix-2),a
2579  0A0E  DD CB FF 46 	bit	0,(ix-1)
2580  0A12  C2 A8 0A    	jp	NZ, l_game_check_cell_00134
2581  0A15  3E 00       	ld	a, +((_class) & 0xFF)
2582  0A17  21 00 00    	ld	hl,_sprite
2583  0A1A  86          	add	a, (hl)
2584  0A1B  DD 77 FC    	ld	(ix-4),a
2585  0A1E  3E 00       	ld	a, +((_class) / 256)
2586  0A20  CE 00       	adc	a,0x00
2587  0A22  DD 77 FD    	ld	(ix-3),a
2588  0A25  E1          	pop	hl
2589  0A26  5E          	ld	e,(hl)
2590  0A27  E5          	push	hl
2591  0A28  3E 00       	ld	a, +((_sprite_kind) & 0xFF)
2592  0A2A  83          	add	a, e
2593  0A2B  6F          	ld	l, a
2594  0A2C  3E 00       	ld	a, +((_sprite_kind) / 256)
2595  0A2E  CE 00       	adc	a,0x00
2596  0A30  67          	ld	h, a
2597  0A31  7E          	ld	a,(hl)
2598  0A32  6F          	ld	l,a
2599  0A33  D6 05       	sub	a,0x05
2600  0A35  20 04       	jr	NZ,l_game_check_cell_00104
2601  0A37  6F          	ld	l,a
2602  0A38  C3 06 0B    	jp	l_game_check_cell_00156
2603  0A3B              l_game_check_cell_00104:
2604  0A3B  7A          	ld	a, d
2605  0A3C  D6 80       	sub	a,0x80
2606  0A3E  38 05       	jr	C,l_game_check_cell_00106
2607  0A40  2E 00       	ld	l,0x00
2608  0A42  C3 06 0B    	jp	l_game_check_cell_00156
2609  0A45              l_game_check_cell_00106:
2610  0A45  7A          	ld	a, d
2611  0A46  D6 23       	sub	a,0x23
2612  0A48  20 05       	jr	NZ,l_game_check_cell_00108
2613  0A4A  2E 01       	ld	l,0x01
2614  0A4C  C3 06 0B    	jp	l_game_check_cell_00156
2615  0A4F              l_game_check_cell_00108:
2616  0A4F  7D          	ld	a,l
2617  0A50  FE 02       	cp	a,0x02
2618  0A52  28 04       	jr	Z,l_game_check_cell_00121
2619  0A54  D6 06       	sub	a,0x06
2620  0A56  20 30       	jr	NZ,l_game_check_cell_00122
2621  0A58              l_game_check_cell_00121:
2622  0A58  7B          	ld	a,e
2623  0A59  FE 09       	cp	a,0x09
2624  0A5B  28 04       	jr	Z,l_game_check_cell_00117
2625  0A5D  D6 0A       	sub	a,0x0a
2626  0A5F  20 0E       	jr	NZ,l_game_check_cell_00118
2627  0A61              l_game_check_cell_00117:
2628  0A61  3E 3A       	ld	a,0x3a
2629  0A63  92          	sub	a, d
2630  0A64  38 05       	jr	C,l_game_check_cell_00110
2631  0A66  2E 00       	ld	l,0x00
2632  0A68  C3 06 0B    	jp	l_game_check_cell_00156
2633  0A6B              l_game_check_cell_00110:
2634  0A6B  6A          	ld	l, d
2635  0A6C  C3 06 0B    	jp	l_game_check_cell_00156
2636  0A6F              l_game_check_cell_00118:
2637  0A6F  3E 2F       	ld	a,0x2f
2638  0A71  92          	sub	a, d
2639  0A72  30 0B       	jr	NC,l_game_check_cell_00112
2640  0A74  DD CB FE 46 	bit	0,(ix-2)
2641  0A78  20 0A       	jr	NZ,l_game_check_cell_00113
2642  0A7A  3E 47       	ld	a,0x47
2643  0A7C  92          	sub	a, d
2644  0A7D  38 05       	jr	C,l_game_check_cell_00113
2645  0A7F              l_game_check_cell_00112:
2646  0A7F  2E 00       	ld	l,0x00
2647  0A81  C3 06 0B    	jp	l_game_check_cell_00156
2648  0A84              l_game_check_cell_00113:
2649  0A84  6A          	ld	l, d
2650  0A85  C3 06 0B    	jp	l_game_check_cell_00156
2651  0A88              l_game_check_cell_00122:
2652  0A88  7D          	ld	a, l
2653  0A89  3D          	dec	a
2654  0A8A  28 05       	jr	Z,l_game_check_cell_00130
2655  0A8C  7D          	ld	a, l
2656  0A8D  D6 03       	sub	a,0x03
2657  0A8F  20 17       	jr	NZ,l_game_check_cell_00134
2658  0A91              l_game_check_cell_00130:
2659  0A91  3A 00 00    	ld	a,(_sprite_horizontal_check)
2660  0A94  B7          	or	a, a
2661  0A95  28 04       	jr	Z,l_game_check_cell_00125
2662  0A97  0E 48       	ld	c,0x48
2663  0A99  18 02       	jr	l_game_check_cell_00126
2664  0A9B              l_game_check_cell_00125:
2665  0A9B  0E 3A       	ld	c,0x3a
2666  0A9D              l_game_check_cell_00126:
2667  0A9D  7A          	ld	a, d
2668  0A9E  91          	sub	a, c
2669  0A9F  30 04       	jr	NC,l_game_check_cell_00128
2670  0AA1  2E 00       	ld	l,0x00
2671  0AA3  18 61       	jr	l_game_check_cell_00156
2672  0AA5              l_game_check_cell_00128:
2673  0AA5  6A          	ld	l, d
2674  0AA6  18 5E       	jr	l_game_check_cell_00156
2675  0AA8              l_game_check_cell_00134:
2676  0AA8  7A          	ld	a, d
2677  0AA9  D6 3A       	sub	a,0x3a
2678  0AAB  30 04       	jr	NC,l_game_check_cell_00136
2679  0AAD  2E 00       	ld	l,0x00
2680  0AAF  18 55       	jr	l_game_check_cell_00156
2681  0AB1              l_game_check_cell_00136:
2682  0AB1  3A 00 00    	ld	a,(_s_state)
2683  0AB4  E6 02       	and	a,0x02
2684  0AB6  5F          	ld	e, a
2685  0AB7  DD CB FE 46 	bit	0,(ix-2)
2686  0ABB  28 0C       	jr	Z,l_game_check_cell_00141
2687  0ABD  7B          	ld	a, e
2688  0ABE  B7          	or	a, a
2689  0ABF  28 04       	jr	Z,l_game_check_cell_00138
2690  0AC1  2E 01       	ld	l,0x01
2691  0AC3  18 41       	jr	l_game_check_cell_00156
2692  0AC5              l_game_check_cell_00138:
2693  0AC5  2E 00       	ld	l,0x00
2694  0AC7  18 3D       	jr	l_game_check_cell_00156
2695  0AC9              l_game_check_cell_00141:
2696  0AC9  7A          	ld	a, d
2697  0ACA  D6 48       	sub	a,0x48
2698  0ACC  30 16       	jr	NC,l_game_check_cell_00149
2699  0ACE  3A 00 00    	ld	a,(_sprite_horizontal_check)
2700  0AD1  B7          	or	a, a
2701  0AD2  28 04       	jr	Z,l_game_check_cell_00146
2702  0AD4  2E 00       	ld	l,0x00
2703  0AD6  18 2E       	jr	l_game_check_cell_00156
2704  0AD8              l_game_check_cell_00146:
2705  0AD8  7B          	ld	a, e
2706  0AD9  B7          	or	a, a
2707  0ADA  28 04       	jr	Z,l_game_check_cell_00143
2708  0ADC  2E 01       	ld	l,0x01
2709  0ADE  18 26       	jr	l_game_check_cell_00156
2710  0AE0              l_game_check_cell_00143:
2711  0AE0  2E 00       	ld	l,0x00
2712  0AE2  18 22       	jr	l_game_check_cell_00156
2713  0AE4              l_game_check_cell_00149:
2714  0AE4  7A          	ld	a, d
2715  0AE5  D6 4C       	sub	a,0x4c
2716  0AE7  30 12       	jr	NC,l_game_check_cell_00153
2717  0AE9  DD CB FF 46 	bit	0,(ix-1)
2718  0AED  28 0C       	jr	Z,l_game_check_cell_00153
2719  0AEF  D5          	push	de
2720  0AF0  33          	inc	sp
2721  0AF1  C5          	push	bc
2722  0AF2  CD 00 00    	call	_player_open_door
2723  0AF5  F1          	pop	af
2724  0AF6  33          	inc	sp
2725  0AF7  2E 01       	ld	l,0x01
2726  0AF9  18 0B       	jr	l_game_check_cell_00156
2727  0AFB              l_game_check_cell_00153:
2728  0AFB  7A          	ld	a, d
2729  0AFC  D6 60       	sub	a,0x60
2730  0AFE  30 04       	jr	NC,l_game_check_cell_00155
2731  0B00  2E 01       	ld	l,0x01
2732  0B02  18 02       	jr	l_game_check_cell_00156
2733  0B04              l_game_check_cell_00155:
2734  0B04  2E 00       	ld	l,0x00
2735  0B06              l_game_check_cell_00156:
2736  0B06  DD F9       	ld	sp, ix
2737  0B08  DD E1       	pop	ix
2738  0B0A  C9          	ret
2739  0B0B              	SECTION code_compiler
2740  0B0B              ;	---------------------------------
2741  0B0B              ; Function game_paint_attrib
2742  0B0B              ; ---------------------------------
2743  0B0B              _game_paint_attrib:
2744  0B0B  CD 00 00    	call	___sdcc_enter_ix
2745  0B0E  DD 7E 06    	ld	a,(ix+6)
2746  0B11  32 00 00    	ld	(_tmp_uc),a
2747  0B14              l_game_paint_attrib_00103:
2748  0B14  21 00 00    	ld	hl,_tmp_uc
2749  0B17  7E          	ld	a, (hl)
2750  0B18  DD 96 07    	sub	a,(ix+7)
2751  0B1B  30 15       	jr	NC,l_game_paint_attrib_00105
2752  0B1D  DD 4E 04    	ld	c,(ix+4)
2753  0B20  DD 46 05    	ld	b,(ix+5)
2754  0B23  66          	ld	h,(hl)
2755  0B24  DD 6E 08    	ld	l,(ix+8)
2756  0B27  E5          	push	hl
2757  0B28  C5          	push	bc
2758  0B29  CD 00 00    	call	_NIRVANAP_paintC_callee
2759  0B2C  21 00 00    	ld	hl,_tmp_uc
2760  0B2F  34          	inc	(hl)
2761  0B30  18 E2       	jr	l_game_paint_attrib_00103
2762  0B32              l_game_paint_attrib_00105:
2763  0B32  DD E1       	pop	ix
2764  0B34  C9          	ret
2765  0B35              	SECTION code_compiler
2766  0B35              ;	---------------------------------
2767  0B35              ; Function game_colour_message
2768  0B35              ; ---------------------------------
2769  0B35              _game_colour_message:
2770  0B35  CD 00 00    	call	___sdcc_enter_ix
2771  0B38  F5          	push	af
2772  0B39  F5          	push	af
2773  0B3A  3B          	dec	sp
2774  0B3B  D1          	pop	de
2775  0B3C  21 00 00    	ld	hl,_tmp
2776  0B3F  36 01       	ld	(hl),0x01
2777  0B41  2A 00 00    	ld	hl,(_curr_time)
2778  0B44  22 00 00    	ld	(_frame_time),hl
2779  0B47  E5          	push	hl
2780  0B48  DD 7E 04    	ld	a,(ix+4)
2781  0B4B  4D          	ld	c,l
2782  0B4C  07          	rlca
2783  0B4D  07          	rlca
2784  0B4E  07          	rlca
2785  0B4F  E6 F8       	and	a,0xf8
2786  0B51  DD 77 FD    	ld	(ix-3),a
2787  0B54  C6 08       	add	a,0x08
2788  0B56  DD 77 FF    	ld	(ix-1),a
2789  0B59  DD 77 FE    	ld	(ix-2),a
2790  0B5C              l_game_colour_message_00112:
2791  0B5C  3A 00 00    	ld	a,(_tmp)
2792  0B5F  B7          	or	a, a
2793  0B60  CA E6 0B    	jp	Z, l_game_colour_message_00114
2794  0B63  DD 46 07    	ld	b,(ix+7)
2795  0B66  21 00 00    	ld	hl,0x0000
2796  0B69  39          	add	hl, sp
2797  0B6A  EB          	ex	de,hl
2798  0B6B  C5          	push	bc
2799  0B6C  33          	inc	sp
2800  0B6D  D5          	push	de
2801  0B6E  CD 58 0C    	call	_game_check_time
2802  0B71  F1          	pop	af
2803  0B72  33          	inc	sp
2804  0B73  7D          	ld	a, l
2805  0B74  B7          	or	a, a
2806  0B75  20 6F       	jr	NZ,l_game_colour_message_00114
2807  0B77  3E 05       	ld	a,0x05
2808  0B79  F5          	push	af
2809  0B7A  33          	inc	sp
2810  0B7B  21 00 00    	ld	hl,_frame_time
2811  0B7E  E5          	push	hl
2812  0B7F  CD 58 0C    	call	_game_check_time
2813  0B82  F1          	pop	af
2814  0B83  33          	inc	sp
2815  0B84  7D          	ld	a, l
2816  0B85  B7          	or	a, a
2817  0B86  28 40       	jr	Z,l_game_colour_message_00105
2818  0B88  2A 00 00    	ld	hl,(_curr_time)
2819  0B8B  22 00 00    	ld	(_frame_time),hl
2820  0B8E  3A 00 00    	ld	a,(_game_over)
2821  0B91  B7          	or	a,a
2822  0B92  28 1B       	jr	Z,l_game_colour_message_00102
2823  0B94  DD 66 FE    	ld	h,(ix-2)
2824  0B97  DD 6E 06    	ld	l,(ix+6)
2825  0B9A  E5          	push	hl
2826  0B9B  DD 7E 05    	ld	a,(ix+5)
2827  0B9E  F5          	push	af
2828  0B9F  33          	inc	sp
2829  0BA0  21 00 00    	ld	hl,_attrib_hl
2830  0BA3  E5          	push	hl
2831  0BA4  CD 0B 0B    	call	_game_paint_attrib
2832  0BA7  F1          	pop	af
2833  0BA8  F1          	pop	af
2834  0BA9  33          	inc	sp
2835  0BAA  CD 13 11    	call	_game_rotate_attrib
2836  0BAD  18 19       	jr	l_game_colour_message_00105
2837  0BAF              l_game_colour_message_00102:
2838  0BAF  DD 66 FF    	ld	h,(ix-1)
2839  0BB2  DD 6E 06    	ld	l,(ix+6)
2840  0BB5  E5          	push	hl
2841  0BB6  DD 7E 05    	ld	a,(ix+5)
2842  0BB9  F5          	push	af
2843  0BBA  33          	inc	sp
2844  0BBB  21 00 00    	ld	hl,_attrib_osd
2845  0BBE  E5          	push	hl
2846  0BBF  CD 0B 0B    	call	_game_paint_attrib
2847  0BC2  F1          	pop	af
2848  0BC3  F1          	pop	af
2849  0BC4  33          	inc	sp
2850  0BC5  CD 2F 11    	call	_game_rotate_attrib_osd
2851  0BC8              l_game_colour_message_00105:
2852  0BC8  DD 7E 09    	ld	a,(ix+9)
2853  0BCB  B7          	or	a, a
2854  0BCC  28 8E       	jr	Z,l_game_colour_message_00112
2855  0BCE              l_game_colour_message_00106:
2856  0BCE  21 00 00    	ld	hl,_k1
2857  0BD1  E5          	push	hl
2858  0BD2  2A 00 00    	ld	hl,(_joyfunc1)
2859  0BD5  CD 00 00    	call	___sdcc_call_hl
2860  0BD8  F1          	pop	af
2861  0BD9  7C          	ld	a,h
2862  0BDA  B5          	or	a,l
2863  0BDB  4D          	ld	c,l
2864  0BDC  CA 5C 0B    	jp	Z, l_game_colour_message_00112
2865  0BDF  21 00 00    	ld	hl,_tmp
2866  0BE2  36 00       	ld	(hl),0x00
2867  0BE4  18 E8       	jr	l_game_colour_message_00106
2868  0BE6              l_game_colour_message_00114:
2869  0BE6  DD 7E 06    	ld	a,(ix+6)
2870  0BE9  DD 96 05    	sub	a,(ix+5)
2871  0BEC  4F          	ld	c, a
2872  0BED  3A 00 00    	ld	a,(_game_over)
2873  0BF0  B7          	or	a, a
2874  0BF1  28 2B       	jr	Z,l_game_colour_message_00118
2875  0BF3  21 00 00    	ld	hl,_tmp1
2876  0BF6  71          	ld	(hl), c
2877  0BF7  21 00 00    	ld	hl,_tmp0
2878  0BFA  36 00       	ld	(hl),0x00
2879  0BFC              l_game_colour_message_00121:
2880  0BFC  3A 00 00    	ld	a,(_tmp0)
2881  0BFF  21 00 00    	ld	hl,_tmp1
2882  0C02  96          	sub	a, (hl)
2883  0C03  30 4E       	jr	NC,l_game_colour_message_00126
2884  0C05  DD 7E 05    	ld	a,(ix+5)
2885  0C08  21 00 00    	ld	hl,_tmp0
2886  0C0B  86          	add	a, (hl)
2887  0C0C  47          	ld	b, a
2888  0C0D  21 C8 00    	ld	hl,___str_31
2889  0C10  E5          	push	hl
2890  0C11  DD 4E 04    	ld	c,(ix+4)
2891  0C14  C5          	push	bc
2892  0C15  CD 00 00    	call	_zx_print_str
2893  0C18  21 00 00    	ld	hl,_tmp0
2894  0C1B  34          	inc	(hl)
2895  0C1C  18 DE       	jr	l_game_colour_message_00121
2896  0C1E              l_game_colour_message_00118:
2897  0C1E  21 00 00    	ld	hl,_tmp1
2898  0C21  71          	ld	(hl), c
2899  0C22  DD 7E FD    	ld	a,(ix-3)
2900  0C25  32 00 00    	ld	(_s_lin0),a
2901  0C28  DD 7E 05    	ld	a,(ix+5)
2902  0C2B  CB 3F       	srl	a
2903  0C2D  87          	add	a, a
2904  0C2E  32 00 00    	ld	(_s_col1),a
2905  0C31  21 00 00    	ld	hl,_tmp0
2906  0C34  36 00       	ld	(hl),0x00
2907  0C36              l_game_colour_message_00124:
2908  0C36  3A 00 00    	ld	a,(_tmp0)
2909  0C39  21 00 00    	ld	hl,_tmp1
2910  0C3C  96          	sub	a, (hl)
2911  0C3D  30 14       	jr	NC,l_game_colour_message_00126
2912  0C3F  3A 00 00    	ld	a,(_s_col1)
2913  0C42  21 00 00    	ld	hl,_tmp0
2914  0C45  86          	add	a, (hl)
2915  0C46  32 00 00    	ld	(_s_col0),a
2916  0C49  CD 00 00    	call	_spr_back_repaint
2917  0C4C  21 00 00    	ld	hl,_tmp0
2918  0C4F  34          	inc	(hl)
2919  0C50  34          	inc	(hl)
2920  0C51  18 E3       	jr	l_game_colour_message_00124
2921  0C53              l_game_colour_message_00126:
2922  0C53  DD F9       	ld	sp, ix
2923  0C55  DD E1       	pop	ix
2924  0C57  C9          	ret
2925  0C58              	SECTION rodata_compiler
2926  00C8              ___str_31:
2927  00C8  20          	DEFM " "
2928  00C9  00          	DEFB 0x00
2929  00CA              	SECTION code_compiler
2930  0C58              ;	---------------------------------
2931  0C58              ; Function game_check_time
2932  0C58              ; ---------------------------------
2933  0C58              _game_check_time:
2934  0C58  CD 00 00    	call	___sdcc_enter_ix
2935  0C5B  2A 00 00    	ld	hl,(_curr_time)
2936  0C5E  4D          	ld	c, l
2937  0C5F  DD 6E 04    	ld	l,(ix+4)
2938  0C62  44          	ld	b,h
2939  0C63  DD 66 05    	ld	h,(ix+5)
2940  0C66  5E          	ld	e, (hl)
2941  0C67  23          	inc	hl
2942  0C68  56          	ld	d, (hl)
2943  0C69  79          	ld	a, c
2944  0C6A  93          	sub	a, e
2945  0C6B  4F          	ld	c, a
2946  0C6C  78          	ld	a, b
2947  0C6D  9A          	sbc	a, d
2948  0C6E  47          	ld	b, a
2949  0C6F  DD 7E 06    	ld	a,(ix+6)
2950  0C72  16 00       	ld	d,0x00
2951  0C74  91          	sub	a, c
2952  0C75  7A          	ld	a, d
2953  0C76  98          	sbc	a, b
2954  0C77  30 04       	jr	NC,l_game_check_time_00102
2955  0C79  2E 01       	ld	l,0x01
2956  0C7B  18 02       	jr	l_game_check_time_00104
2957  0C7D              l_game_check_time_00102:
2958  0C7D  2E 00       	ld	l,0x00
2959  0C7F              l_game_check_time_00104:
2960  0C7F  DD E1       	pop	ix
2961  0C81  C9          	ret
2962  0C82              	SECTION code_compiler
2963  0C82              ;	---------------------------------
2964  0C82              ; Function game_shoot_fire
2965  0C82              ; ---------------------------------
2966  0C82              _game_shoot_fire:
2967  0C82  CD 00 00    	call	___sdcc_enter_ix
2968  0C85  21 F3 FF    	ld	hl, -13
2969  0C88  39          	add	hl, sp
2970  0C89  F9          	ld	sp, hl
2971  0C8A  01 00 00    	ld	bc,_bullet_col
2972  0C8D  DD 6E 04    	ld	l,(ix+4)
2973  0C90  26 00       	ld	h,0x00
2974  0C92  09          	add	hl,bc
2975  0C93  DD 75 FE    	ld	(ix-2),l
2976  0C96  DD 74 FF    	ld	(ix-1),h
2977  0C99  4E          	ld	c, (hl)
2978  0C9A  0C          	inc	c
2979  0C9B  C2 AE 0E    	jp	NZ,l_game_shoot_fire_00126
2980  0C9E  21 00 00    	ld	hl,_bullet_count
2981  0CA1  34          	inc	(hl)
2982  0CA2  01 00 00    	ld	bc,_bullet_dir
2983  0CA5  DD 6E 04    	ld	l,(ix+4)
2984  0CA8  26 00       	ld	h,0x00
2985  0CAA  09          	add	hl,bc
2986  0CAB  DD 75 FC    	ld	(ix-4),l
2987  0CAE  DD 74 FD    	ld	(ix-3),h
2988  0CB1  36 00       	ld	(hl),0x00
2989  0CB3  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2990  0CB5  DD 86 04    	add	a,(ix+4)
2991  0CB8  4F          	ld	c, a
2992  0CB9  3E 00       	ld	a, +((_bullet_lin0) / 256)
2993  0CBB  CE 00       	adc	a,0x00
2994  0CBD  47          	ld	b, a
2995  0CBE  11 00 00    	ld	de,_lin
2996  0CC1  DD 6E 04    	ld	l,(ix+4)
2997  0CC4  26 00       	ld	h,0x00
2998  0CC6  19          	add	hl,de
2999  0CC7  DD 75 FA    	ld	(ix-6),l
3000  0CCA  DD 74 FB    	ld	(ix-5),h
3001  0CCD  7E          	ld	a, (hl)
3002  0CCE  02          	ld	(bc), a
3003  0CCF  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3004  0CD1  DD 86 04    	add	a,(ix+4)
3005  0CD4  4F          	ld	c, a
3006  0CD5  3E 00       	ld	a, +((_bullet_col0) / 256)
3007  0CD7  CE 00       	adc	a,0x00
3008  0CD9  47          	ld	b, a
3009  0CDA  11 00 00    	ld	de,_col
3010  0CDD  DD 6E 04    	ld	l,(ix+4)
3011  0CE0  26 00       	ld	h,0x00
3012  0CE2  19          	add	hl,de
3013  0CE3  DD 75 F8    	ld	(ix-8),l
3014  0CE6  DD 74 F9    	ld	(ix-7),h
3015  0CE9  7E          	ld	a, (hl)
3016  0CEA  02          	ld	(bc), a
3017  0CEB  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3018  0CED  DD 86 04    	add	a,(ix+4)
3019  0CF0  DD 77 F6    	ld	(ix-10),a
3020  0CF3  3E 00       	ld	a, +((_bullet_lin) / 256)
3021  0CF5  CE 00       	adc	a,0x00
3022  0CF7  DD 77 F7    	ld	(ix-9),a
3023  0CFA  DD 6E FA    	ld	l,(ix-6)
3024  0CFD  DD 66 FB    	ld	h,(ix-5)
3025  0D00  4E          	ld	c, (hl)
3026  0D01  DD 6E F6    	ld	l,(ix-10)
3027  0D04  DD 66 F7    	ld	h,(ix-9)
3028  0D07  71          	ld	(hl), c
3029  0D08  01 00 00    	ld	bc,_bullet_frames
3030  0D0B  DD 6E 04    	ld	l,(ix+4)
3031  0D0E  26 00       	ld	h,0x00
3032  0D10  09          	add	hl,bc
3033  0D11  DD 75 F4    	ld	(ix-12),l
3034  0D14  DD 74 F5    	ld	(ix-11),h
3035  0D17  36 02       	ld	(hl),0x02
3036  0D19  DD 7E 04    	ld	a,(ix+4)
3037  0D1C  D6 07       	sub	a,0x07
3038  0D1E  20 04       	jr	NZ,l_game_shoot_fire_00175
3039  0D20  3E 01       	ld	a,0x01
3040  0D22  18 01       	jr	l_game_shoot_fire_00176
3041  0D24              l_game_shoot_fire_00175:
3042  0D24  AF          	xor	a,a
3043  0D25              l_game_shoot_fire_00176:
3044  0D25  DD 77 F3    	ld	(ix-13),a
3045  0D28  B7          	or	a, a
3046  0D29  28 13       	jr	Z,l_game_shoot_fire_00102
3047  0D2B  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3048  0D2D  DD 86 04    	add	a,(ix+4)
3049  0D30  4F          	ld	c, a
3050  0D31  3E 00       	ld	a, +((_bullet_max) / 256)
3051  0D33  CE 00       	adc	a,0x00
3052  0D35  47          	ld	b, a
3053  0D36  3A 00 00    	ld	a,(_player_lvl)
3054  0D39  C6 04       	add	a,0x04
3055  0D3B  02          	ld	(bc), a
3056  0D3C  18 0D       	jr	l_game_shoot_fire_00103
3057  0D3E              l_game_shoot_fire_00102:
3058  0D3E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3059  0D40  DD 86 04    	add	a,(ix+4)
3060  0D43  4F          	ld	c, a
3061  0D44  3E 00       	ld	a, +((_bullet_max) / 256)
3062  0D46  CE 00       	adc	a,0x00
3063  0D48  47          	ld	b, a
3064  0D49  AF          	xor	a, a
3065  0D4A  02          	ld	(bc), a
3066  0D4B              l_game_shoot_fire_00103:
3067  0D4B  DD 7E 05    	ld	a,(ix+5)
3068  0D4E  D6 7C       	sub	a,0x7c
3069  0D50  20 21       	jr	NZ,l_game_shoot_fire_00105
3070  0D52  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3071  0D54  DD 86 04    	add	a,(ix+4)
3072  0D57  4F          	ld	c, a
3073  0D58  3E 00       	ld	a, +((_bullet_class) / 256)
3074  0D5A  CE 00       	adc	a,0x00
3075  0D5C  47          	ld	b, a
3076  0D5D  3E 01       	ld	a,0x01
3077  0D5F  02          	ld	(bc), a
3078  0D60  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3079  0D62  DD 86 04    	add	a,(ix+4)
3080  0D65  4F          	ld	c, a
3081  0D66  3E 00       	ld	a, +((_bullet_max) / 256)
3082  0D68  CE 00       	adc	a,0x00
3083  0D6A  47          	ld	b, a
3084  0D6B  3A 00 00    	ld	a,(_game_world)
3085  0D6E  87          	add	a, a
3086  0D6F  87          	add	a, a
3087  0D70  C6 08       	add	a,0x08
3088  0D72  02          	ld	(bc), a
3089  0D73              l_game_shoot_fire_00105:
3090  0D73  DD 7E 05    	ld	a,(ix+5)
3091  0D76  D6 78       	sub	a,0x78
3092  0D78  20 24       	jr	NZ,l_game_shoot_fire_00110
3093  0D7A  DD 7E F3    	ld	a,(ix-13)
3094  0D7D  B7          	or	a, a
3095  0D7E  28 10       	jr	Z,l_game_shoot_fire_00107
3096  0D80  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3097  0D82  DD 86 04    	add	a,(ix+4)
3098  0D85  4F          	ld	c, a
3099  0D86  3E 00       	ld	a, +((_bullet_class) / 256)
3100  0D88  CE 00       	adc	a,0x00
3101  0D8A  47          	ld	b, a
3102  0D8B  3E 01       	ld	a,0x01
3103  0D8D  02          	ld	(bc), a
3104  0D8E  18 0E       	jr	l_game_shoot_fire_00110
3105  0D90              l_game_shoot_fire_00107:
3106  0D90  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3107  0D92  DD 86 04    	add	a,(ix+4)
3108  0D95  4F          	ld	c, a
3109  0D96  3E 00       	ld	a, +((_bullet_class) / 256)
3110  0D98  CE 00       	adc	a,0x00
3111  0D9A  47          	ld	b, a
3112  0D9B  3E 02       	ld	a,0x02
3113  0D9D  02          	ld	(bc), a
3114  0D9E              l_game_shoot_fire_00110:
3115  0D9E  DD 7E 05    	ld	a,(ix+5)
3116  0DA1  D6 80       	sub	a,0x80
3117  0DA3  20 04       	jr	NZ,l_game_shoot_fire_00181
3118  0DA5  3E 01       	ld	a,0x01
3119  0DA7  18 01       	jr	l_game_shoot_fire_00182
3120  0DA9              l_game_shoot_fire_00181:
3121  0DA9  AF          	xor	a,a
3122  0DAA              l_game_shoot_fire_00182:
3123  0DAA  5F          	ld	e,a
3124  0DAB  B7          	or	a, a
3125  0DAC  28 35       	jr	Z,l_game_shoot_fire_00112
3126  0DAE  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3127  0DB0  DD 86 04    	add	a,(ix+4)
3128  0DB3  4F          	ld	c, a
3129  0DB4  3E 00       	ld	a, +((_bullet_class) / 256)
3130  0DB6  CE 00       	adc	a,0x00
3131  0DB8  47          	ld	b, a
3132  0DB9  3E 04       	ld	a,0x04
3133  0DBB  02          	ld	(bc), a
3134  0DBC  DD 6E FA    	ld	l,(ix-6)
3135  0DBF  DD 66 FB    	ld	h,(ix-5)
3136  0DC2  7E          	ld	a, (hl)
3137  0DC3  C6 FC       	add	a,0xfc
3138  0DC5  DD 6E F6    	ld	l,(ix-10)
3139  0DC8  DD 66 F7    	ld	h,(ix-9)
3140  0DCB  77          	ld	(hl), a
3141  0DCC  DD 6E F4    	ld	l,(ix-12)
3142  0DCF  DD 66 F5    	ld	h,(ix-11)
3143  0DD2  36 04       	ld	(hl),0x04
3144  0DD4  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3145  0DD6  DD 86 04    	add	a,(ix+4)
3146  0DD9  4F          	ld	c, a
3147  0DDA  3E 00       	ld	a, +((_bullet_vel) / 256)
3148  0DDC  CE 00       	adc	a,0x00
3149  0DDE  47          	ld	b, a
3150  0DDF  3A 00 00    	ld	a,(_player_vel_y0)
3151  0DE2  02          	ld	(bc), a
3152  0DE3              l_game_shoot_fire_00112:
3153  0DE3  3A 00 00    	ld	a,(_s_state)
3154  0DE6  E6 08       	and	a,0x08
3155  0DE8  57          	ld	d, a
3156  0DE9  3A 00 00    	ld	a,(_sprite)
3157  0DEC  D6 07       	sub	a,0x07
3158  0DEE  20 06       	jr	NZ,l_game_shoot_fire_00114
3159  0DF0  3A 07 00    	ld	a,(_state_a + 0x0007)
3160  0DF3  E6 08       	and	a,0x08
3161  0DF5  57          	ld	d, a
3162  0DF6              l_game_shoot_fire_00114:
3163  0DF6  DD 6E F8    	ld	l,(ix-8)
3164  0DF9  DD 66 F9    	ld	h,(ix-7)
3165  0DFC  46          	ld	b, (hl)
3166  0DFD  DD 6E FA    	ld	l,(ix-6)
3167  0E00  DD 66 FB    	ld	h,(ix-5)
3168  0E03  7E          	ld	a, (hl)
3169  0E04  D5          	push	de
3170  0E05  4F          	ld	c,a
3171  0E06  C5          	push	bc
3172  0E07  CD 00 00    	call	_spr_calc_index
3173  0E0A  F1          	pop	af
3174  0E0B  D1          	pop	de
3175  0E0C  22 00 00    	ld	(_index1),hl
3176  0E0F  DD 6E F8    	ld	l,(ix-8)
3177  0E12  DD 66 F9    	ld	h,(ix-7)
3178  0E15  7E          	ld	a, (hl)
3179  0E16  DD 77 F3    	ld	(ix-13),a
3180  0E19  7A          	ld	a, d
3181  0E1A  B7          	or	a, a
3182  0E1B  28 57       	jr	Z,l_game_shoot_fire_00123
3183  0E1D  DD 7E F3    	ld	a,(ix-13)
3184  0E20  D6 01       	sub	a,0x01
3185  0E22  30 05       	jr	NC,l_game_shoot_fire_00116
3186  0E24  2E 01       	ld	l,0x01
3187  0E26  C3 B0 0E    	jp	l_game_shoot_fire_00127
3188  0E29              l_game_shoot_fire_00116:
3189  0E29  DD 6E FE    	ld	l,(ix-2)
3190  0E2C  DD 66 FF    	ld	h,(ix-1)
3191  0E2F  DD 7E F3    	ld	a,(ix-13)
3192  0E32  77          	ld	(hl), a
3193  0E33  7B          	ld	a, e
3194  0E34  B7          	or	a, a
3195  0E35  20 13       	jr	NZ,l_game_shoot_fire_00118
3196  0E37  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3197  0E39  DD 86 04    	add	a,(ix+4)
3198  0E3C  4F          	ld	c, a
3199  0E3D  3E 00       	ld	a, +((_bullet_tile) / 256)
3200  0E3F  CE 00       	adc	a,0x00
3201  0E41  47          	ld	b, a
3202  0E42  DD 7E 05    	ld	a,(ix+5)
3203  0E45  C6 02       	add	a,0x02
3204  0E47  02          	ld	(bc), a
3205  0E48  18 0F       	jr	l_game_shoot_fire_00119
3206  0E4A              l_game_shoot_fire_00118:
3207  0E4A  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3208  0E4C  DD 86 04    	add	a,(ix+4)
3209  0E4F  4F          	ld	c, a
3210  0E50  3E 00       	ld	a, +((_bullet_tile) / 256)
3211  0E52  CE 00       	adc	a,0x00
3212  0E54  47          	ld	b, a
3213  0E55  DD 7E 05    	ld	a,(ix+5)
3214  0E58  02          	ld	(bc), a
3215  0E59              l_game_shoot_fire_00119:
3216  0E59  DD 6E FC    	ld	l,(ix-4)
3217  0E5C  DD 66 FD    	ld	h,(ix-3)
3218  0E5F  36 01       	ld	(hl),0x01
3219  0E61  01 00 00    	ld	bc,_bullet_colint
3220  0E64  DD 6E 04    	ld	l,(ix+4)
3221  0E67  26 00       	ld	h,0x00
3222  0E69  09          	add	hl,bc
3223  0E6A  DD 75 F4    	ld	(ix-12),l
3224  0E6D  DD 74 F5    	ld	(ix-11),h
3225  0E70  36 02       	ld	(hl),0x02
3226  0E72  18 3A       	jr	l_game_shoot_fire_00126
3227  0E74              l_game_shoot_fire_00123:
3228  0E74  3E 1D       	ld	a,0x1d
3229  0E76  DD 96 F3    	sub	a,(ix-13)
3230  0E79  30 04       	jr	NC,l_game_shoot_fire_00121
3231  0E7B  2E 01       	ld	l,0x01
3232  0E7D  18 31       	jr	l_game_shoot_fire_00127
3233  0E7F              l_game_shoot_fire_00121:
3234  0E7F  DD 6E FE    	ld	l,(ix-2)
3235  0E82  DD 66 FF    	ld	h,(ix-1)
3236  0E85  DD 7E F3    	ld	a,(ix-13)
3237  0E88  77          	ld	(hl), a
3238  0E89  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3239  0E8B  DD 86 04    	add	a,(ix+4)
3240  0E8E  4F          	ld	c, a
3241  0E8F  3E 00       	ld	a, +((_bullet_tile) / 256)
3242  0E91  CE 00       	adc	a,0x00
3243  0E93  47          	ld	b, a
3244  0E94  DD 7E 05    	ld	a,(ix+5)
3245  0E97  02          	ld	(bc), a
3246  0E98  DD 6E FC    	ld	l,(ix-4)
3247  0E9B  DD 66 FD    	ld	h,(ix-3)
3248  0E9E  36 FF       	ld	(hl),0xff
3249  0EA0  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3250  0EA2  DD 86 04    	add	a,(ix+4)
3251  0EA5  4F          	ld	c, a
3252  0EA6  3E 00       	ld	a, +((_bullet_colint) / 256)
3253  0EA8  CE 00       	adc	a,0x00
3254  0EAA  47          	ld	b, a
3255  0EAB  3E FF       	ld	a,0xff
3256  0EAD  02          	ld	(bc), a
3257  0EAE              l_game_shoot_fire_00126:
3258  0EAE  2E 00       	ld	l,0x00
3259  0EB0              l_game_shoot_fire_00127:
3260  0EB0  DD F9       	ld	sp, ix
3261  0EB2  DD E1       	pop	ix
3262  0EB4  C9          	ret
3263  0EB5              	SECTION code_compiler
3264  0EB5              ;	---------------------------------
3265  0EB5              ; Function game_shoot_fire_boss
3266  0EB5              ; ---------------------------------
3267  0EB5              _game_shoot_fire_boss:
3268  0EB5  CD 00 00    	call	___sdcc_enter_ix
3269  0EB8  F5          	push	af
3270  0EB9  F5          	push	af
3271  0EBA  3B          	dec	sp
3272  0EBB  3A 07 00    	ld	a,(_col + 0x0007)
3273  0EBE  4F          	ld	c,a
3274  0EBF  21 00 00    	ld	hl,_boss_col
3275  0EC2  96          	sub	a, (hl)
3276  0EC3  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3277  0EC5  DD 36 FB 01 	ld	(ix-5),0x01
3278  0EC9              l_game_shoot_fire_boss_00102:
3279  0EC9  3A 00 00    	ld	a,(_boss_col)
3280  0ECC  91          	sub	a, c
3281  0ECD  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3282  0ECF  DD 36 FB 00 	ld	(ix-5),0x00
3283  0ED3              l_game_shoot_fire_boss_00131:
3284  0ED3  1E 00       	ld	e,0x00
3285  0ED5              l_game_shoot_fire_boss_00107:
3286  0ED5  7B          	ld	a, e
3287  0ED6  D6 07       	sub	a,0x07
3288  0ED8  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3289  0EDA  16 00       	ld	d,0x00
3290  0EDC  21 00 00    	ld	hl,_bullet_col
3291  0EDF  19          	add	hl, de
3292  0EE0  4E          	ld	c, (hl)
3293  0EE1  0C          	inc	c
3294  0EE2  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3295  0EE4  1C          	inc	e
3296  0EE5  18 EE       	jr	l_game_shoot_fire_boss_00107
3297  0EE7              l_game_shoot_fire_boss_00138:
3298  0EE7  7B          	ld	a,e
3299  0EE8  47          	ld	b,a
3300  0EE9  D6 07       	sub	a,0x07
3301  0EEB  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3302  0EED  6F          	ld	l,a
3303  0EEE  C3 1B 10    	jp	l_game_shoot_fire_boss_00125
3304  0EF1              l_game_shoot_fire_boss_00111:
3305  0EF1  21 00 00    	ld	hl,_bullet_count
3306  0EF4  34          	inc	(hl)
3307  0EF5  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3308  0EF7  83          	add	a, e
3309  0EF8  DD 77 FE    	ld	(ix-2),a
3310  0EFB  6F          	ld	l,a
3311  0EFC  3E 00       	ld	a,+((_bullet_dir) / 256)
3312  0EFE  CE 00       	adc	a,0x00
3313  0F00  DD 77 FF    	ld	(ix-1),a
3314  0F03  67          	ld	h,a
3315  0F04  36 00       	ld	(hl),0x00
3316  0F06  3A 00 00    	ld	a,(_game_world)
3317  0F09  3D          	dec	a
3318  0F0A  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3319  0F0C  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3320  0F0E  83          	add	a, e
3321  0F0F  4F          	ld	c, a
3322  0F10  3E 00       	ld	a, +((_bullet_lin0) / 256)
3323  0F12  CE 00       	adc	a,0x00
3324  0F14  57          	ld	d, a
3325  0F15  3A 00 00    	ld	a,(_boss_lin)
3326  0F18  C6 10       	add	a,0x10
3327  0F1A  69          	ld	l, c
3328  0F1B  62          	ld	h, d
3329  0F1C  77          	ld	(hl), a
3330  0F1D  16 00       	ld	d,0x00
3331  0F1F  21 00 00    	ld	hl,_bullet_class
3332  0F22  19          	add	hl, de
3333  0F23  36 02       	ld	(hl),0x02
3334  0F25  18 2E       	jr	l_game_shoot_fire_boss_00117
3335  0F27              l_game_shoot_fire_boss_00116:
3336  0F27  16 00       	ld	d,0x00
3337  0F29  21 00 00    	ld	hl,_bullet_class
3338  0F2C  19          	add	hl, de
3339  0F2D  36 05       	ld	(hl),0x05
3340  0F2F  3A 00 00    	ld	a,(_tmp0)
3341  0F32  B7          	or	a, a
3342  0F33  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3343  0F35  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3344  0F37  83          	add	a, e
3345  0F38  5F          	ld	e, a
3346  0F39  3E 00       	ld	a, +((_bullet_lin0) / 256)
3347  0F3B  CE 00       	adc	a,0x00
3348  0F3D  57          	ld	d, a
3349  0F3E  3A 00 00    	ld	a,(_boss_lin)
3350  0F41  C6 F8       	add	a,0xf8
3351  0F43  12          	ld	(de), a
3352  0F44  18 0F       	jr	l_game_shoot_fire_boss_00117
3353  0F46              l_game_shoot_fire_boss_00113:
3354  0F46  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3355  0F48  83          	add	a, e
3356  0F49  5F          	ld	e, a
3357  0F4A  3E 00       	ld	a, +((_bullet_lin0) / 256)
3358  0F4C  CE 00       	adc	a,0x00
3359  0F4E  57          	ld	d, a
3360  0F4F  3A 00 00    	ld	a,(_boss_lin)
3361  0F52  C6 18       	add	a,0x18
3362  0F54  12          	ld	(de), a
3363  0F55              l_game_shoot_fire_boss_00117:
3364  0F55  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3365  0F57  80          	add	a, b
3366  0F58  5F          	ld	e, a
3367  0F59  3E 00       	ld	a, +((_bullet_col0) / 256)
3368  0F5B  CE 00       	adc	a,0x00
3369  0F5D  57          	ld	d, a
3370  0F5E  3A 00 00    	ld	a,(_boss_col)
3371  0F61  12          	ld	(de), a
3372  0F62  3E 00       	ld	a, +((_bullet_col) & 0xFF)
3373  0F64  80          	add	a, b
3374  0F65  DD 77 FC    	ld	(ix-4),a
3375  0F68  6F          	ld	l,a
3376  0F69  3E 00       	ld	a,+((_bullet_col) / 256)
3377  0F6B  CE 00       	adc	a,0x00
3378  0F6D  DD 77 FD    	ld	(ix-3),a
3379  0F70  67          	ld	h,a
3380  0F71  3A 00 00    	ld	a,(_boss_col)
3381  0F74  77          	ld	(hl),a
3382  0F75  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3383  0F77  80          	add	a, b
3384  0F78  5F          	ld	e, a
3385  0F79  3E 00       	ld	a, +((_bullet_lin) / 256)
3386  0F7B  CE 00       	adc	a,0x00
3387  0F7D  57          	ld	d, a
3388  0F7E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3389  0F80  80          	add	a, b
3390  0F81  6F          	ld	l, a
3391  0F82  3E 00       	ld	a, +((_bullet_lin0) / 256)
3392  0F84  CE 00       	adc	a,0x00
3393  0F86  67          	ld	h, a
3394  0F87  7E          	ld	a, (hl)
3395  0F88  12          	ld	(de), a
3396  0F89  11 00 00    	ld	de,_bullet_frames+0
3397  0F8C  68          	ld	l,b
3398  0F8D  26 00       	ld	h,0x00
3399  0F8F  19          	add	hl, de
3400  0F90  36 02       	ld	(hl),0x02
3401  0F92  11 00 00    	ld	de,_bullet_max+0
3402  0F95  68          	ld	l,b
3403  0F96  26 00       	ld	h,0x00
3404  0F98  19          	add	hl, de
3405  0F99  36 08       	ld	(hl),0x08
3406  0F9B  3A 00 00    	ld	a,(_boss_col)
3407  0F9E  C5          	push	bc
3408  0F9F  F5          	push	af
3409  0FA0  33          	inc	sp
3410  0FA1  3A 00 00    	ld	a,(_boss_lin)
3411  0FA4  F5          	push	af
3412  0FA5  33          	inc	sp
3413  0FA6  CD 00 00    	call	_spr_calc_index
3414  0FA9  F1          	pop	af
3415  0FAA  EB          	ex	de,hl
3416  0FAB  C1          	pop	bc
3417  0FAC  ED 53 00 00 	ld	(_index1),de
3418  0FB0  DD 7E FB    	ld	a,(ix-5)
3419  0FB3  B7          	or	a, a
3420  0FB4  28 2D       	jr	Z,l_game_shoot_fire_boss_00123
3421  0FB6  3A 00 00    	ld	a,(_boss_col)
3422  0FB9  D6 01       	sub	a,0x01
3423  0FBB  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3424  0FBD  2E 01       	ld	l,0x01
3425  0FBF  18 5A       	jr	l_game_shoot_fire_boss_00125
3426  0FC1              l_game_shoot_fire_boss_00119:
3427  0FC1  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3428  0FC3  80          	add	a, b
3429  0FC4  5F          	ld	e, a
3430  0FC5  3E 00       	ld	a, +((_bullet_tile) / 256)
3431  0FC7  CE 00       	adc	a,0x00
3432  0FC9  57          	ld	d, a
3433  0FCA  DD 7E 04    	ld	a,(ix+4)
3434  0FCD  C6 02       	add	a,0x02
3435  0FCF  12          	ld	(de), a
3436  0FD0  DD 6E FE    	ld	l,(ix-2)
3437  0FD3  DD 66 FF    	ld	h,(ix-1)
3438  0FD6  36 01       	ld	(hl),0x01
3439  0FD8  11 00 00    	ld	de,_bullet_colint+0
3440  0FDB  68          	ld	l,b
3441  0FDC  26 00       	ld	h,0x00
3442  0FDE  19          	add	hl, de
3443  0FDF  36 02       	ld	(hl),0x02
3444  0FE1  18 36       	jr	l_game_shoot_fire_boss_00124
3445  0FE3              l_game_shoot_fire_boss_00123:
3446  0FE3  3E 1D       	ld	a,0x1d
3447  0FE5  21 00 00    	ld	hl,_boss_col
3448  0FE8  96          	sub	a, (hl)
3449  0FE9  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3450  0FEB  2E 01       	ld	l,0x01
3451  0FED  18 2C       	jr	l_game_shoot_fire_boss_00125
3452  0FEF              l_game_shoot_fire_boss_00121:
3453  0FEF  3A 00 00    	ld	a,(_boss_col)
3454  0FF2  C6 06       	add	a,0x06
3455  0FF4  DD 6E FC    	ld	l,(ix-4)
3456  0FF7  DD 66 FD    	ld	h,(ix-3)
3457  0FFA  77          	ld	(hl), a
3458  0FFB  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3459  0FFD  80          	add	a, b
3460  0FFE  5F          	ld	e, a
3461  0FFF  3E 00       	ld	a, +((_bullet_tile) / 256)
3462  1001  CE 00       	adc	a,0x00
3463  1003  57          	ld	d, a
3464  1004  DD 7E 04    	ld	a,(ix+4)
3465  1007  12          	ld	(de), a
3466  1008  DD 6E FE    	ld	l,(ix-2)
3467  100B  DD 66 FF    	ld	h,(ix-1)
3468  100E  36 FF       	ld	(hl),0xff
3469  1010  11 00 00    	ld	de,_bullet_colint+0
3470  1013  68          	ld	l,b
3471  1014  26 00       	ld	h,0x00
3472  1016  19          	add	hl, de
3473  1017  36 FF       	ld	(hl),0xff
3474  1019              l_game_shoot_fire_boss_00124:
3475  1019  2E 00       	ld	l,0x00
3476  101B              l_game_shoot_fire_boss_00125:
3477  101B  DD F9       	ld	sp, ix
3478  101D  DD E1       	pop	ix
3479  101F  C9          	ret
3480  1020              	SECTION code_compiler
3481  1020              ;	---------------------------------
3482  1020              ; Function game_obj_set
3483  1020              ; ---------------------------------
3484  1020              _game_obj_set:
3485  1020  3A 00 00    	ld	a,(_scr_curr)
3486  1023  EB          	ex	de,hl
3487  1024  D6 08       	sub	a,0x08
3488  1026  30 19       	jr	NC,l_game_obj_set_00102
3489  1028  21 00 00    	ld	hl,_scr_obj0
3490  102B  19          	add	hl,de
3491  102C  5E          	ld	e,(hl)
3492  102D  3A 00 00    	ld	a,(_scr_curr)
3493  1030  3C          	inc	a
3494  1031  16 01       	ld	d,0x01
3495  1033  4D          	ld	c,l
3496  1034  44          	ld	b,h
3497  1035  18 02       	jr	l_game_obj_set_00111
3498  1037              l_game_obj_set_00110:
3499  1037  CB 22       	sla	d
3500  1039              l_game_obj_set_00111:
3501  1039  3D          	dec	a
3502  103A  20 FB       	jr	NZ,l_game_obj_set_00110
3503  103C  7B          	ld	a, e
3504  103D  B2          	or	a, d
3505  103E  02          	ld	(bc), a
3506  103F  18 17       	jr	l_game_obj_set_00104
3507  1041              l_game_obj_set_00102:
3508  1041  3A 00 00    	ld	a,(_scr_curr)
3509  1044  C6 F8       	add	a,0xf8
3510  1046  47          	ld	b, a
3511  1047  21 00 00    	ld	hl,_scr_obj1
3512  104A  19          	add	hl, de
3513  104B  4E          	ld	c, (hl)
3514  104C  1E 01       	ld	e,0x01
3515  104E  04          	inc	b
3516  104F  18 02       	jr	l_game_obj_set_00113
3517  1051              l_game_obj_set_00112:
3518  1051  CB 23       	sla	e
3519  1053              l_game_obj_set_00113:
3520  1053  10 FC       	djnz	l_game_obj_set_00112
3521  1055  79          	ld	a, c
3522  1056  B3          	or	a, e
3523  1057  77          	ld	(hl), a
3524  1058              l_game_obj_set_00104:
3525  1058  C9          	ret
3526  1059              	SECTION code_compiler
3527  1059              ;	---------------------------------
3528  1059              ; Function game_obj_chk
3529  1059              ; ---------------------------------
3530  1059              _game_obj_chk:
3531  1059  3A 00 00    	ld	a,(_scr_curr)
3532  105C  EB          	ex	de,hl
3533  105D  D6 08       	sub	a,0x08
3534  105F  30 17       	jr	NC,l_game_obj_chk_00102
3535  1061  21 00 00    	ld	hl,_scr_obj0
3536  1064  19          	add	hl, de
3537  1065  4E          	ld	c, (hl)
3538  1066  21 00 00    	ld	hl,_scr_curr
3539  1069  46          	ld	b, (hl)
3540  106A  1E 01       	ld	e,0x01
3541  106C  04          	inc	b
3542  106D  18 02       	jr	l_game_obj_chk_00111
3543  106F              l_game_obj_chk_00110:
3544  106F  CB 23       	sla	e
3545  1071              l_game_obj_chk_00111:
3546  1071  10 FC       	djnz	l_game_obj_chk_00110
3547  1073  79          	ld	a, c
3548  1074  A3          	and	a, e
3549  1075  6F          	ld	l, a
3550  1076  18 17       	jr	l_game_obj_chk_00104
3551  1078              l_game_obj_chk_00102:
3552  1078  3A 00 00    	ld	a,(_scr_curr)
3553  107B  C6 F8       	add	a,0xf8
3554  107D  47          	ld	b, a
3555  107E  21 00 00    	ld	hl,_scr_obj1
3556  1081  19          	add	hl, de
3557  1082  4E          	ld	c, (hl)
3558  1083  1E 01       	ld	e,0x01
3559  1085  04          	inc	b
3560  1086  18 02       	jr	l_game_obj_chk_00113
3561  1088              l_game_obj_chk_00112:
3562  1088  CB 23       	sla	e
3563  108A              l_game_obj_chk_00113:
3564  108A  10 FC       	djnz	l_game_obj_chk_00112
3565  108C  79          	ld	a, c
3566  108D  A3          	and	a, e
3567  108E  6F          	ld	l, a
3568  108F              l_game_obj_chk_00104:
3569  108F  C9          	ret
3570  1090              	SECTION code_compiler
3571  1090              ;	---------------------------------
3572  1090              ; Function game_obj_clear
3573  1090              ; ---------------------------------
3574  1090              _game_obj_clear:
3575  1090  21 00 00    	ld	hl,_tmp
3576  1093  36 00       	ld	(hl),0x00
3577  1095              l_game_obj_clear_00105:
3578  1095  2A 00 00    	ld	hl,(_tmp)
3579  1098  26 00       	ld	h,0x00
3580  109A  01 00 00    	ld	bc,_scr_obj0
3581  109D  09          	add	hl,bc
3582  109E  AF          	xor	a,a
3583  109F  77          	ld	(hl),a
3584  10A0  2A 00 00    	ld	hl,(_tmp)
3585  10A3  26 00       	ld	h,0x00
3586  10A5  01 00 00    	ld	bc,_scr_obj1
3587  10A8  09          	add	hl,bc
3588  10A9  AF          	xor	a,a
3589  10AA  77          	ld	(hl),a
3590  10AB  21 00 00    	ld	hl,_tmp
3591  10AE  7E          	ld	a,(hl)
3592  10AF  3C          	inc	a
3593  10B0  77          	ld	(hl),a
3594  10B1  D6 A0       	sub	a,0xa0
3595  10B3  38 E0       	jr	C,l_game_obj_clear_00105
3596  10B5  3A 00 00    	ld	a,(_game_inmune)
3597  10B8  B7          	or	a, a
3598  10B9  28 07       	jr	Z,l_game_obj_clear_00103
3599  10BB  21 00 00    	ld	hl,_tmp
3600  10BE  36 01       	ld	(hl),0x01
3601  10C0  18 05       	jr	l_game_obj_clear_00104
3602  10C2              l_game_obj_clear_00103:
3603  10C2  21 00 00    	ld	hl,_tmp
3604  10C5  36 00       	ld	(hl),0x00
3605  10C7              l_game_obj_clear_00104:
3606  10C7  3A 00 00    	ld	a,(_tmp)
3607  10CA  32 00 00    	ld	(_player_keys),a
3608  10CD  32 01 00    	ld	((_player_keys + 0x0001)),a
3609  10D0  3A 00 00    	ld	a,(_tmp)
3610  10D3  32 02 00    	ld	((_player_keys + 0x0002)),a
3611  10D6  32 03 00    	ld	((_player_keys + 0x0003)),a
3612  10D9  C9          	ret
3613  10DA              	SECTION code_compiler
3614  10DA              ;	---------------------------------
3615  10DA              ; Function game_boss_clear
3616  10DA              ; ---------------------------------
3617  10DA              _game_boss_clear:
3618  10DA  CD 00 00    	call	___sdcc_enter_ix
3619  10DD  21 00 00    	ld	hl,0x0000
3620  10E0  E5          	push	hl
3621  10E1              l_game_boss_clear_00104:
3622  10E1  3E 00       	ld	a, +((_scr_map) & 0xFF)
3623  10E3  DD 86 FE    	add	a,(ix-2)
3624  10E6  4F          	ld	c, a
3625  10E7  3E 00       	ld	a, +((_scr_map) / 256)
3626  10E9  DD 8E FF    	adc	a,(ix-1)
3627  10EC  47          	ld	b, a
3628  10ED  0A          	ld	a, (bc)
3629  10EE  D6 37       	sub	a,0x37
3630  10F0  20 09       	jr	NZ,l_game_boss_clear_00105
3631  10F2  AF          	xor	a, a
3632  10F3  02          	ld	(bc), a
3633  10F4  21 00 00    	ld	hl,0x0000
3634  10F7  39          	add	hl, sp
3635  10F8  CD 00 00    	call	_spr_draw_index
3636  10FB              l_game_boss_clear_00105:
3637  10FB  DD 34 FE    	inc	(ix-2)
3638  10FE  20 03       	jr	NZ,l_game_boss_clear_00118
3639  1100  DD 34 FF    	inc	(ix-1)
3640  1103              l_game_boss_clear_00118:
3641  1103  DD 7E FE    	ld	a,(ix-2)
3642  1106  D6 A0       	sub	a,0xa0
3643  1108  DD 7E FF    	ld	a,(ix-1)
3644  110B  DE 00       	sbc	a,0x00
3645  110D  38 D2       	jr	C,l_game_boss_clear_00104
3646  110F  F1          	pop	af
3647  1110  DD E1       	pop	ix
3648  1112  C9          	ret
3649  1113              	SECTION code_compiler
3650  1113              ;	---------------------------------
3651  1113              ; Function game_rotate_attrib
3652  1113              ; ---------------------------------
3653  1113              _game_rotate_attrib:
3654  1113  01 03 00    	ld	bc,_attrib_hl + 3
3655  1116  0A          	ld	a, (bc)
3656  1117  32 00 00    	ld	(_tmp_uc),a
3657  111A  11 02 00    	ld	de,_attrib_hl + 2
3658  111D  1A          	ld	a, (de)
3659  111E  02          	ld	(bc), a
3660  111F  01 01 00    	ld	bc,_attrib_hl + 1
3661  1122  0A          	ld	a, (bc)
3662  1123  12          	ld	(de), a
3663  1124  3A 00 00    	ld	a,(_attrib_hl)
3664  1127  02          	ld	(bc), a
3665  1128  3A 00 00    	ld	a,(_tmp_uc)
3666  112B  32 00 00    	ld	(_attrib_hl),a
3667  112E  C9          	ret
3668  112F              	SECTION code_compiler
3669  112F              ;	---------------------------------
3670  112F              ; Function game_rotate_attrib_osd
3671  112F              ; ---------------------------------
3672  112F              _game_rotate_attrib_osd:
3673  112F  01 03 00    	ld	bc,_attrib_osd + 3
3674  1132  0A          	ld	a, (bc)
3675  1133  32 00 00    	ld	(_tmp_uc),a
3676  1136  11 02 00    	ld	de,_attrib_osd + 2
3677  1139  1A          	ld	a, (de)
3678  113A  02          	ld	(bc), a
3679  113B  01 01 00    	ld	bc,_attrib_osd + 1
3680  113E  0A          	ld	a, (bc)
3681  113F  12          	ld	(de), a
3682  1140  3A 00 00    	ld	a,(_attrib_osd)
3683  1143  02          	ld	(bc), a
3684  1144  3A 00 00    	ld	a,(_tmp_uc)
3685  1147  32 00 00    	ld	(_attrib_osd),a
3686  114A  C9          	ret
3687  114B              	SECTION code_compiler
3688  114B              ;	---------------------------------
3689  114B              ; Function game_attribs
3690  114B              ; ---------------------------------
3691  114B              _game_attribs:
3692  114B  01 00 00    	ld	bc,_attrib+0
3693  114E  21 00 00    	ld	hl,_map_paper
3694  1151  7E          	ld	a, (hl)
3695  1152  F6 47       	or	a,0x47
3696  1154  02          	ld	(bc), a
3697  1155  59          	ld	e, c
3698  1156  50          	ld	d, b
3699  1157  13          	inc	de
3700  1158  7E          	ld	a, (hl)
3701  1159  F6 45       	or	a,0x45
3702  115B  12          	ld	(de), a
3703  115C  7E          	ld	a, (hl)
3704  115D  F6 45       	or	a,0x45
3705  115F  32 02 00    	ld	((_attrib + 0x0002)),a
3706  1162  03          	inc	bc
3707  1163  03          	inc	bc
3708  1164  03          	inc	bc
3709  1165  21 00 00    	ld	hl,_map_paper
3710  1168  7E          	ld	a, (hl)
3711  1169  F6 41       	or	a,0x41
3712  116B  02          	ld	(bc), a
3713  116C  01 00 00    	ld	bc,_attrib_hl+0
3714  116F  7E          	ld	a, (hl)
3715  1170  F6 41       	or	a,0x41
3716  1172  02          	ld	(bc), a
3717  1173  59          	ld	e, c
3718  1174  50          	ld	d, b
3719  1175  13          	inc	de
3720  1176  7E          	ld	a, (hl)
3721  1177  F6 41       	or	a,0x41
3722  1179  12          	ld	(de), a
3723  117A  7E          	ld	a, (hl)
3724  117B  F6 43       	or	a,0x43
3725  117D  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3726  1180  03          	inc	bc
3727  1181  03          	inc	bc
3728  1182  03          	inc	bc
3729  1183  21 00 00    	ld	hl,_map_paper
3730  1186  7E          	ld	a, (hl)
3731  1187  F6 45       	or	a,0x45
3732  1189  02          	ld	(bc), a
3733  118A  01 00 00    	ld	bc,_attrib_osd+0
3734  118D  7E          	ld	a, (hl)
3735  118E  F6 45       	or	a,0x45
3736  1190  02          	ld	(bc), a
3737  1191  59          	ld	e, c
3738  1192  50          	ld	d, b
3739  1193  13          	inc	de
3740  1194  7E          	ld	a, (hl)
3741  1195  F6 47       	or	a,0x47
3742  1197  12          	ld	(de), a
3743  1198  7E          	ld	a, (hl)
3744  1199  F6 47       	or	a,0x47
3745  119B  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3746  119E  03          	inc	bc
3747  119F  03          	inc	bc
3748  11A0  03          	inc	bc
3749  11A1  3A 00 00    	ld	a,(_map_paper)
3750  11A4  F6 45       	or	a,0x45
3751  11A6  02          	ld	(bc), a
3752  11A7  C9          	ret
3753  11A8              	SECTION code_compiler
3754  11A8              ;	---------------------------------
3755  11A8              ; Function game_match_back
3756  11A8              ; ---------------------------------
3757  11A8              _game_match_back:
3758  11A8  3E 01       	ld	a,0x01
3759  11AA  BD          	cp	a,l
3760  11AB  3E 00       	ld	a,0x00
3761  11AD  9C          	sbc	a,h
3762  11AE  30 3F       	jr	NC,l_game_match_back_00111
3763  11B0  7D          	ld	a,l
3764  11B1  E6 0F       	and	a,0x0f
3765  11B3  28 3A       	jr	Z,l_game_match_back_00111
3766  11B5  5D          	ld	e,l
3767  11B6  54          	ld	d,h
3768  11B7  4D          	ld	c,l
3769  11B8  44          	ld	b,h
3770  11B9  1B          	dec	de
3771  11BA  21 00 00    	ld	hl,_scr_map
3772  11BD  19          	add	hl, de
3773  11BE  5E          	ld	e, (hl)
3774  11BF  03          	inc	bc
3775  11C0  21 00 00    	ld	hl,_scr_map
3776  11C3  09          	add	hl, bc
3777  11C4  4E          	ld	c, (hl)
3778  11C5  7B          	ld	a, e
3779  11C6  D6 1D       	sub	a,0x1d
3780  11C8  28 05       	jr	Z,l_game_match_back_00101
3781  11CA  79          	ld	a, c
3782  11CB  D6 1D       	sub	a,0x1d
3783  11CD  20 04       	jr	NZ,l_game_match_back_00102
3784  11CF              l_game_match_back_00101:
3785  11CF  2E 1D       	ld	l,0x1d
3786  11D1  18 1E       	jr	l_game_match_back_00113
3787  11D3              l_game_match_back_00102:
3788  11D3  7B          	ld	a, e
3789  11D4  D6 18       	sub	a,0x18
3790  11D6  28 05       	jr	Z,l_game_match_back_00104
3791  11D8  79          	ld	a, c
3792  11D9  D6 18       	sub	a,0x18
3793  11DB  20 04       	jr	NZ,l_game_match_back_00105
3794  11DD              l_game_match_back_00104:
3795  11DD  2E 18       	ld	l,0x18
3796  11DF  18 10       	jr	l_game_match_back_00113
3797  11E1              l_game_match_back_00105:
3798  11E1  7B          	ld	a, e
3799  11E2  D6 0D       	sub	a,0x0d
3800  11E4  28 05       	jr	Z,l_game_match_back_00107
3801  11E6  79          	ld	a, c
3802  11E7  D6 0D       	sub	a,0x0d
3803  11E9  20 04       	jr	NZ,l_game_match_back_00111
3804  11EB              l_game_match_back_00107:
3805  11EB  2E 0D       	ld	l,0x0d
3806  11ED  18 02       	jr	l_game_match_back_00113
3807  11EF              l_game_match_back_00111:
3808  11EF  2E 00       	ld	l,0x00
3809  11F1              l_game_match_back_00113:
3810  11F1  C9          	ret
3811  11F2              	SECTION code_compiler
3812  11F2              ;	---------------------------------
3813  11F2              ; Function menu_main
3814  11F2              ; ---------------------------------
3815  11F2              _menu_main:
3816  11F2  CD 00 00    	call	___sdcc_enter_ix
3817  11F5  3B          	dec	sp
3818  11F6  DD 36 FF 01 	ld	(ix-1),0x01
3819  11FA  21 00 00    	ld	hl,_map_paper
3820  11FD  36 00       	ld	(hl),0x00
3821  11FF  06 01       	ld	b,0x01
3822  1201  C5          	push	bc
3823  1202  21 0A 16    	ld	hl,0x160a
3824  1205  E5          	push	hl
3825  1206  3E 07       	ld	a,0x07
3826  1208  F5          	push	af
3827  1209  33          	inc	sp
3828  120A  CD 06 13    	call	_menu_main_print
3829  120D  F1          	pop	af
3830  120E  33          	inc	sp
3831  120F  C1          	pop	bc
3832  1210              l_menu_main_00115:
3833  1210  DD 7E FF    	ld	a,(ix-1)
3834  1213  B7          	or	a, a
3835  1214  CA 02 13    	jp	Z, l_menu_main_00118
3836  1217  C5          	push	bc
3837  1218  21 28 00    	ld	hl,0x0028
3838  121B  CD 00 00    	call	_z80_delay_ms_fastcall
3839  121E  CD 00 00    	call	_in_inkey
3840  1221  E5          	push	hl
3841  1222  CD 13 11    	call	_game_rotate_attrib
3842  1225  D1          	pop	de
3843  1226  C1          	pop	bc
3844  1227  78          	ld	a, b
3845  1228  C6 06       	add	a,0x06
3846  122A  4F          	ld	c,a
3847  122B  07          	rlca
3848  122C  07          	rlca
3849  122D  07          	rlca
3850  122E  E6 F8       	and	a,0xf8
3851  1230  C6 08       	add	a,0x08
3852  1232  57          	ld	d, a
3853  1233  C5          	push	bc
3854  1234  D5          	push	de
3855  1235  D5          	push	de
3856  1236  33          	inc	sp
3857  1237  21 0B 16    	ld	hl,0x160b
3858  123A  E5          	push	hl
3859  123B  21 00 00    	ld	hl,_attrib_hl
3860  123E  E5          	push	hl
3861  123F  CD 0B 0B    	call	_game_paint_attrib
3862  1242  F1          	pop	af
3863  1243  F1          	pop	af
3864  1244  33          	inc	sp
3865  1245  D1          	pop	de
3866  1246  C1          	pop	bc
3867  1247  7B          	ld	a, e
3868  1248  C6 D0       	add	a,0xd0
3869  124A  5F          	ld	e, a
3870  124B  3E 06       	ld	a,0x06
3871  124D  93          	sub	a, e
3872  124E  DA E3 12    	jp	C, l_menu_main_00111
3873  1251  D5          	push	de
3874  1252  16 00       	ld	d,0x00
3875  1254  21 5B 12    	ld	hl,l_menu_main_00144
3876  1257  19          	add	hl, de
3877  1258  19          	add	hl, de
3878  1259  D1          	pop	de
3879  125A  E9          	jp	(hl)
3880  125B              l_menu_main_00144:
3881  125B  18 6B       	jr	l_menu_main_00110
3882  125D  18 0A       	jr	l_menu_main_00101
3883  125F  18 12       	jr	l_menu_main_00102
3884  1261  18 1A       	jr	l_menu_main_00103
3885  1263  18 22       	jr	l_menu_main_00104
3886  1265  18 2A       	jr	l_menu_main_00105
3887  1267  18 37       	jr	l_menu_main_00106
3888  1269              l_menu_main_00101:
3889  1269  21 00 00    	ld	hl,_in_stick_sinclair1
3890  126C  22 00 00    	ld	(_joyfunc1),hl
3891  126F  06 01       	ld	b,0x01
3892  1271  18 70       	jr	l_menu_main_00111
3893  1273              l_menu_main_00102:
3894  1273  21 00 00    	ld	hl,_in_stick_keyboard
3895  1276  22 00 00    	ld	(_joyfunc1),hl
3896  1279  06 02       	ld	b,0x02
3897  127B  18 66       	jr	l_menu_main_00111
3898  127D              l_menu_main_00103:
3899  127D  21 00 00    	ld	hl,_in_stick_kempston
3900  1280  22 00 00    	ld	(_joyfunc1),hl
3901  1283  06 03       	ld	b,0x03
3902  1285  18 5C       	jr	l_menu_main_00111
3903  1287              l_menu_main_00104:
3904  1287  21 00 00    	ld	hl,_in_stick_cursor
3905  128A  22 00 00    	ld	(_joyfunc1),hl
3906  128D  06 04       	ld	b,0x04
3907  128F  18 52       	jr	l_menu_main_00111
3908  1291              l_menu_main_00105:
3909  1291  D5          	push	de
3910  1292  CD 2A 15    	call	_menu_redefine
3911  1295  D1          	pop	de
3912  1296  21 00 00    	ld	hl,_in_stick_keyboard
3913  1299  22 00 00    	ld	(_joyfunc1),hl
3914  129C  06 02       	ld	b,0x02
3915  129E  18 43       	jr	l_menu_main_00111
3916  12A0              l_menu_main_00106:
3917  12A0  21 00 00    	ld	hl,_game_2buttons
3918  12A3  7E          	ld	a, (hl)
3919  12A4  B7          	or	a, a
3920  12A5  28 04       	jr	Z,l_menu_main_00108
3921  12A7  36 00       	ld	(hl),0x00
3922  12A9  18 05       	jr	l_menu_main_00109
3923  12AB              l_menu_main_00108:
3924  12AB  21 00 00    	ld	hl,_game_2buttons
3925  12AE  36 01       	ld	(hl),0x01
3926  12B0              l_menu_main_00109:
3927  12B0  C5          	push	bc
3928  12B1  D5          	push	de
3929  12B2  21 0A 16    	ld	hl,0x160a
3930  12B5  E5          	push	hl
3931  12B6  79          	ld	a, c
3932  12B7  F5          	push	af
3933  12B8  33          	inc	sp
3934  12B9  CD 06 13    	call	_menu_main_print
3935  12BC  F1          	pop	af
3936  12BD  33          	inc	sp
3937  12BE  21 28 00    	ld	hl,0x0028
3938  12C1  CD 00 00    	call	_z80_delay_ms_fastcall
3939  12C4  D1          	pop	de
3940  12C5  C1          	pop	bc
3941  12C6  18 1B       	jr	l_menu_main_00111
3942  12C8              l_menu_main_00110:
3943  12C8  76          	halt
3944  12C9  C5          	push	bc
3945  12CA  D5          	push	de
3946  12CB  2E 00       	ld	l,0x00
3947  12CD  CD 00 00    	call	_zx_cls_fastcall
3948  12D0  D1          	pop	de
3949  12D1  C1          	pop	bc
3950  12D2  D5          	push	de
3951  12D3  21 00 00    	ld	hl,_ay_fx_06_explosion1
3952  12D6  E5          	push	hl
3953  12D7  21 01 06    	ld	hl,0x0601
3954  12DA  E5          	push	hl
3955  12DB  CD 00 00    	call	_ay_song_play
3956  12DE  D1          	pop	de
3957  12DF  DD 36 FF 00 	ld	(ix-1),0x00
3958  12E3              l_menu_main_00111:
3959  12E3  7B          	ld	a,e
3960  12E4  B7          	or	a, a
3961  12E5  CA 10 12    	jp	Z,l_menu_main_00115
3962  12E8  D6 05       	sub	a,0x05
3963  12EA  D2 10 12    	jp	NC, l_menu_main_00115
3964  12ED  C5          	push	bc
3965  12EE  D5          	push	de
3966  12EF  33          	inc	sp
3967  12F0  21 0A 16    	ld	hl,0x160a
3968  12F3  E5          	push	hl
3969  12F4  21 00 00    	ld	hl,_attrib
3970  12F7  E5          	push	hl
3971  12F8  CD 0B 0B    	call	_game_paint_attrib
3972  12FB  F1          	pop	af
3973  12FC  F1          	pop	af
3974  12FD  33          	inc	sp
3975  12FE  C1          	pop	bc
3976  12FF  C3 10 12    	jp	l_menu_main_00115
3977  1302              l_menu_main_00118:
3978  1302  33          	inc	sp
3979  1303  DD E1       	pop	ix
3980  1305  C9          	ret
3981  1306              	SECTION code_compiler
3982  1306              ;	---------------------------------
3983  1306              ; Function menu_main_print
3984  1306              ; ---------------------------------
3985  1306              _menu_main_print:
3986  1306  CD 00 00    	call	___sdcc_enter_ix
3987  1309  21 00 00    	ld	hl,_ay_song_04_lotr
3988  130C  E5          	push	hl
3989  130D  21 00 04    	ld	hl,0x0400
3990  1310  E5          	push	hl
3991  1311  CD 00 00    	call	_ay_song_play
3992  1314  76          	halt
3993  1315  2E 00       	ld	l,0x00
3994  1317  CD 00 00    	call	_zx_cls_fastcall
3995  131A  21 00 00    	ld	hl,_screen_ink
3996  131D  36 07       	ld	(hl),0x07
3997  131F  21 20 0B    	ld	hl,0x0b20
3998  1322  E5          	push	hl
3999  1323  21 00 CC    	ld	hl,0xcc00
4000  1326  E5          	push	hl
4001  1327  CD 00 00    	call	_NIRVANAP_spriteT_callee
4002  132A  21 20 0D    	ld	hl,0x0d20
4003  132D  E5          	push	hl
4004  132E  21 01 CD    	ld	hl,0xcd01
4005  1331  E5          	push	hl
4006  1332  CD 00 00    	call	_NIRVANAP_spriteT_callee
4007  1335  21 20 0F    	ld	hl,0x0f20
4008  1338  E5          	push	hl
4009  1339  21 02 CE    	ld	hl,0xce02
4010  133C  E5          	push	hl
4011  133D  CD 00 00    	call	_NIRVANAP_spriteT_callee
4012  1340  21 20 11    	ld	hl,0x1120
4013  1343  E5          	push	hl
4014  1344  21 03 CF    	ld	hl,0xcf03
4015  1347  E5          	push	hl
4016  1348  CD 00 00    	call	_NIRVANAP_spriteT_callee
4017  134B  CD 4B 11    	call	_game_attribs
4018  134E  21 CA 00    	ld	hl,___str_32
4019  1351  E5          	push	hl
4020  1352  DD 66 05    	ld	h,(ix+5)
4021  1355  DD 6E 04    	ld	l,(ix+4)
4022  1358  E5          	push	hl
4023  1359  CD 00 00    	call	_zx_print_str
4024  135C  DD 7E 04    	ld	a,(ix+4)
4025  135F  07          	rlca
4026  1360  07          	rlca
4027  1361  07          	rlca
4028  1362  E6 F8       	and	a,0xf8
4029  1364  C6 08       	add	a,0x08
4030  1366  F5          	push	af
4031  1367  33          	inc	sp
4032  1368  DD 66 06    	ld	h,(ix+6)
4033  136B  DD 6E 05    	ld	l,(ix+5)
4034  136E  E5          	push	hl
4035  136F  21 00 00    	ld	hl,_attrib
4036  1372  E5          	push	hl
4037  1373  CD 0B 0B    	call	_game_paint_attrib
4038  1376  F1          	pop	af
4039  1377  F1          	pop	af
4040  1378  33          	inc	sp
4041  1379  DD 34 04    	inc	(ix+4)
4042  137C  21 D5 00    	ld	hl,___str_33
4043  137F  E5          	push	hl
4044  1380  DD 66 05    	ld	h,(ix+5)
4045  1383  DD 6E 04    	ld	l,(ix+4)
4046  1386  E5          	push	hl
4047  1387  CD 00 00    	call	_zx_print_str
4048  138A  DD 7E 04    	ld	a,(ix+4)
4049  138D  07          	rlca
4050  138E  07          	rlca
4051  138F  07          	rlca
4052  1390  E6 F8       	and	a,0xf8
4053  1392  C6 08       	add	a,0x08
4054  1394  F5          	push	af
4055  1395  33          	inc	sp
4056  1396  DD 66 06    	ld	h,(ix+6)
4057  1399  DD 6E 05    	ld	l,(ix+5)
4058  139C  E5          	push	hl
4059  139D  21 00 00    	ld	hl,_attrib
4060  13A0  E5          	push	hl
4061  13A1  CD 0B 0B    	call	_game_paint_attrib
4062  13A4  F1          	pop	af
4063  13A5  F1          	pop	af
4064  13A6  33          	inc	sp
4065  13A7  DD 34 04    	inc	(ix+4)
4066  13AA  21 E0 00    	ld	hl,___str_34
4067  13AD  E5          	push	hl
4068  13AE  DD 66 05    	ld	h,(ix+5)
4069  13B1  DD 6E 04    	ld	l,(ix+4)
4070  13B4  E5          	push	hl
4071  13B5  CD 00 00    	call	_zx_print_str
4072  13B8  DD 7E 04    	ld	a,(ix+4)
4073  13BB  07          	rlca
4074  13BC  07          	rlca
4075  13BD  07          	rlca
4076  13BE  E6 F8       	and	a,0xf8
4077  13C0  C6 08       	add	a,0x08
4078  13C2  F5          	push	af
4079  13C3  33          	inc	sp
4080  13C4  DD 66 06    	ld	h,(ix+6)
4081  13C7  DD 6E 05    	ld	l,(ix+5)
4082  13CA  E5          	push	hl
4083  13CB  21 00 00    	ld	hl,_attrib
4084  13CE  E5          	push	hl
4085  13CF  CD 0B 0B    	call	_game_paint_attrib
4086  13D2  F1          	pop	af
4087  13D3  F1          	pop	af
4088  13D4  33          	inc	sp
4089  13D5  DD 34 04    	inc	(ix+4)
4090  13D8  21 EB 00    	ld	hl,___str_35
4091  13DB  E5          	push	hl
4092  13DC  DD 66 05    	ld	h,(ix+5)
4093  13DF  DD 6E 04    	ld	l,(ix+4)
4094  13E2  E5          	push	hl
4095  13E3  CD 00 00    	call	_zx_print_str
4096  13E6  DD 7E 04    	ld	a,(ix+4)
4097  13E9  07          	rlca
4098  13EA  07          	rlca
4099  13EB  07          	rlca
4100  13EC  E6 F8       	and	a,0xf8
4101  13EE  C6 08       	add	a,0x08
4102  13F0  F5          	push	af
4103  13F1  33          	inc	sp
4104  13F2  DD 66 06    	ld	h,(ix+6)
4105  13F5  DD 6E 05    	ld	l,(ix+5)
4106  13F8  E5          	push	hl
4107  13F9  21 00 00    	ld	hl,_attrib
4108  13FC  E5          	push	hl
4109  13FD  CD 0B 0B    	call	_game_paint_attrib
4110  1400  F1          	pop	af
4111  1401  F1          	pop	af
4112  1402  33          	inc	sp
4113  1403  DD 34 04    	inc	(ix+4)
4114  1406  21 F4 00    	ld	hl,___str_36
4115  1409  E5          	push	hl
4116  140A  DD 66 05    	ld	h,(ix+5)
4117  140D  DD 6E 04    	ld	l,(ix+4)
4118  1410  E5          	push	hl
4119  1411  CD 00 00    	call	_zx_print_str
4120  1414  DD 7E 04    	ld	a,(ix+4)
4121  1417  07          	rlca
4122  1418  07          	rlca
4123  1419  07          	rlca
4124  141A  E6 F8       	and	a,0xf8
4125  141C  C6 08       	add	a,0x08
4126  141E  F5          	push	af
4127  141F  33          	inc	sp
4128  1420  DD 66 06    	ld	h,(ix+6)
4129  1423  DD 6E 05    	ld	l,(ix+5)
4130  1426  E5          	push	hl
4131  1427  21 00 00    	ld	hl,_attrib
4132  142A  E5          	push	hl
4133  142B  CD 0B 0B    	call	_game_paint_attrib
4134  142E  F1          	pop	af
4135  142F  F1          	pop	af
4136  1430  33          	inc	sp
4137  1431  DD 34 04    	inc	(ix+4)
4138  1434  21 FD 00    	ld	hl,___str_37
4139  1437  E5          	push	hl
4140  1438  DD 66 05    	ld	h,(ix+5)
4141  143B  DD 6E 04    	ld	l,(ix+4)
4142  143E  E5          	push	hl
4143  143F  CD 00 00    	call	_zx_print_str
4144  1442  DD 7E 05    	ld	a,(ix+5)
4145  1445  C6 0A       	add	a,0x0a
4146  1447  47          	ld	b, a
4147  1448  3A 00 00    	ld	a,(_game_2buttons)
4148  144B  B7          	or	a, a
4149  144C  28 0D       	jr	Z,l_menu_main_print_00102
4150  144E  21 07 01    	ld	hl,___str_38
4151  1451  E5          	push	hl
4152  1452  DD 4E 04    	ld	c,(ix+4)
4153  1455  C5          	push	bc
4154  1456  CD 00 00    	call	_zx_print_str
4155  1459  18 0B       	jr	l_menu_main_print_00103
4156  145B              l_menu_main_print_00102:
4157  145B  21 0A 01    	ld	hl,___str_39
4158  145E  E5          	push	hl
4159  145F  DD 4E 04    	ld	c,(ix+4)
4160  1462  C5          	push	bc
4161  1463  CD 00 00    	call	_zx_print_str
4162  1466              l_menu_main_print_00103:
4163  1466  DD 7E 04    	ld	a,(ix+4)
4164  1469  07          	rlca
4165  146A  07          	rlca
4166  146B  07          	rlca
4167  146C  E6 F8       	and	a,0xf8
4168  146E  C6 08       	add	a,0x08
4169  1470  F5          	push	af
4170  1471  33          	inc	sp
4171  1472  DD 66 06    	ld	h,(ix+6)
4172  1475  DD 6E 05    	ld	l,(ix+5)
4173  1478  E5          	push	hl
4174  1479  21 00 00    	ld	hl,_attrib
4175  147C  E5          	push	hl
4176  147D  CD 0B 0B    	call	_game_paint_attrib
4177  1480  F1          	pop	af
4178  1481  F1          	pop	af
4179  1482  33          	inc	sp
4180  1483  DD 34 04    	inc	(ix+4)
4181  1486  DD 34 04    	inc	(ix+4)
4182  1489  21 0D 01    	ld	hl,___str_40
4183  148C  E5          	push	hl
4184  148D  DD 66 05    	ld	h,(ix+5)
4185  1490  DD 6E 04    	ld	l,(ix+4)
4186  1493  E5          	push	hl
4187  1494  CD 00 00    	call	_zx_print_str
4188  1497  DD 7E 04    	ld	a,(ix+4)
4189  149A  07          	rlca
4190  149B  07          	rlca
4191  149C  07          	rlca
4192  149D  E6 F8       	and	a,0xf8
4193  149F  C6 08       	add	a,0x08
4194  14A1  F5          	push	af
4195  14A2  33          	inc	sp
4196  14A3  DD 66 06    	ld	h,(ix+6)
4197  14A6  DD 6E 05    	ld	l,(ix+5)
4198  14A9  E5          	push	hl
4199  14AA  21 00 00    	ld	hl,_attrib
4200  14AD  E5          	push	hl
4201  14AE  CD 0B 0B    	call	_game_paint_attrib
4202  14B1  F1          	pop	af
4203  14B2  F1          	pop	af
4204  14B3  33          	inc	sp
4205  14B4  DD 34 04    	inc	(ix+4)
4206  14B7  DD 34 04    	inc	(ix+4)
4207  14BA  DD 34 04    	inc	(ix+4)
4208  14BD  DD 34 04    	inc	(ix+4)
4209  14C0  DD 34 04    	inc	(ix+4)
4210  14C3  21 00 00    	ld	hl,_screen_ink
4211  14C6  36 01       	ld	(hl),0x01
4212  14C8  21 15 01    	ld	hl,___str_41
4213  14CB  E5          	push	hl
4214  14CC  26 02       	ld	h,0x02
4215  14CE  DD 6E 04    	ld	l,(ix+4)
4216  14D1  E5          	push	hl
4217  14D2  CD 00 00    	call	_zx_print_str
4218  14D5  DD 34 04    	inc	(ix+4)
4219  14D8  21 30 01    	ld	hl,___str_42
4220  14DB  E5          	push	hl
4221  14DC  26 04       	ld	h,0x04
4222  14DE  DD 6E 04    	ld	l,(ix+4)
4223  14E1  E5          	push	hl
4224  14E2  CD 00 00    	call	_zx_print_str
4225  14E5  DD 34 04    	inc	(ix+4)
4226  14E8  21 47 01    	ld	hl,___str_43
4227  14EB  E5          	push	hl
4228  14EC  26 03       	ld	h,0x03
4229  14EE  DD 6E 04    	ld	l,(ix+4)
4230  14F1  E5          	push	hl
4231  14F2  CD 00 00    	call	_zx_print_str
4232  14F5  DD 34 04    	inc	(ix+4)
4233  14F8  DD 34 04    	inc	(ix+4)
4234  14FB  21 00 00    	ld	hl,_screen_ink
4235  14FE  36 05       	ld	(hl),0x05
4236  1500  21 60 01    	ld	hl,___str_44
4237  1503  E5          	push	hl
4238  1504  26 08       	ld	h,0x08
4239  1506  DD 6E 04    	ld	l,(ix+4)
4240  1509  E5          	push	hl
4241  150A  CD 00 00    	call	_zx_print_str
4242  150D  DD 7E 04    	ld	a,(ix+4)
4243  1510  07          	rlca
4244  1511  07          	rlca
4245  1512  07          	rlca
4246  1513  E6 F8       	and	a,0xf8
4247  1515  C6 08       	add	a,0x08
4248  1517  F5          	push	af
4249  1518  33          	inc	sp
4250  1519  21 00 1F    	ld	hl,0x1f00
4251  151C  E5          	push	hl
4252  151D  21 00 00    	ld	hl,_attrib
4253  1520  E5          	push	hl
4254  1521  CD 0B 0B    	call	_game_paint_attrib
4255  1524  F1          	pop	af
4256  1525  F1          	pop	af
4257  1526  33          	inc	sp
4258  1527  DD E1       	pop	ix
4259  1529  C9          	ret
4260  152A              	SECTION rodata_compiler
4261  00CA              ___str_32:
4262  00CA  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
4263  00D4  00          	DEFB 0x00
4264  00D5              	SECTION rodata_compiler
4265  00D5              ___str_33:
4266  00D5  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
4267  00DF  00          	DEFB 0x00
4268  00E0              	SECTION rodata_compiler
4269  00E0              ___str_34:
4270  00E0  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
4271  00EA  00          	DEFB 0x00
4272  00EB              	SECTION rodata_compiler
4273  00EB              ___str_35:
4274  00EB  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
4275  00F3  00          	DEFB 0x00
4276  00F4              	SECTION rodata_compiler
4277  00F4              ___str_36:
4278  00F4  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
4279  00FC  00          	DEFB 0x00
4280  00FD              	SECTION rodata_compiler
4281  00FD              ___str_37:
4282  00FD  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
4283  0106  00          	DEFB 0x00
4284  0107              	SECTION rodata_compiler
4285  0107              ___str_38:
4286  0107  32 42       	DEFM "2B"
4287  0109  00          	DEFB 0x00
4288  010A              	SECTION rodata_compiler
4289  010A              ___str_39:
4290  010A  31 42       	DEFM "1B"
4291  010C  00          	DEFB 0x00
4292  010D              	SECTION rodata_compiler
4293  010D              ___str_40:
4294  010D  30 20 53 54 41 52 54 
                        	DEFM "0 START"
4295  0114  00          	DEFB 0x00
4296  0115              	SECTION rodata_compiler
4297  0115              ___str_41:
4298  0115  43 4F 44 45 20 43 2E 47 4F 4E 5A 41 4C 45 5A 20 41 2E 41 4C 42 52 45 43 48 54 
                        	DEFM "CODE C.GONZALEZ A.ALBRECHT"
4299  012F  00          	DEFB 0x00
4300  0130              	SECTION rodata_compiler
4301  0130              ___str_42:
4302  0130  4D 55 53 49 43 20 53 39 20 46 58 20 42 45 59 4B 45 52 53 4F 46 54 
                        	DEFM "MUSIC S9 FX BEYKERSOFT"
4303  0146  00          	DEFB 0x00
4304  0147              	SECTION rodata_compiler
4305  0147              ___str_43:
4306  0147  54 45 53 54 20 41 42 55 20 53 49 4D 42 45 4C 20 56 45 52 20 31 2E 30 30 
                        	DEFM "TEST ABU SIMBEL VER 1.00"
4307  015F  00          	DEFB 0x00
4308  0160              	SECTION rodata_compiler
4309  0160              ___str_44:
4310  0160  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
4311  016F  00          	DEFB 0x00
4312  0170              	SECTION code_compiler
4313  152A              ;	---------------------------------
4314  152A              ; Function menu_redefine
4315  152A              ; ---------------------------------
4316  152A              _menu_redefine:
4317  152A  76          	halt
4318  152B  2E 00       	ld	l,0x00
4319  152D  CD 00 00    	call	_zx_cls_fastcall
4320  1530  21 00 00    	ld	hl,_tmp0
4321  1533  36 08       	ld	(hl),0x08
4322  1535              l_menu_redefine_00105:
4323  1535  3A 00 00    	ld	a,(_tmp0)
4324  1538  07          	rlca
4325  1539  07          	rlca
4326  153A  07          	rlca
4327  153B  E6 F8       	and	a,0xf8
4328  153D  C6 08       	add	a,0x08
4329  153F  F5          	push	af
4330  1540  33          	inc	sp
4331  1541  21 0A 10    	ld	hl,0x100a
4332  1544  E5          	push	hl
4333  1545  21 00 00    	ld	hl,_attrib
4334  1548  E5          	push	hl
4335  1549  CD 0B 0B    	call	_game_paint_attrib
4336  154C  F1          	pop	af
4337  154D  F1          	pop	af
4338  154E  33          	inc	sp
4339  154F  21 00 00    	ld	hl,_tmp0
4340  1552  7E          	ld	a,(hl)
4341  1553  3C          	inc	a
4342  1554  77          	ld	(hl),a
4343  1555  D6 0E       	sub	a,0x0e
4344  1557  38 DC       	jr	C,l_menu_redefine_00105
4345  1559  21 70 01    	ld	hl,___str_45
4346  155C  E5          	push	hl
4347  155D  21 08 0A    	ld	hl,0x0a08
4348  1560  E5          	push	hl
4349  1561  CD 00 00    	call	_zx_print_str
4350  1564  CD ED 15    	call	_menu_define_key
4351  1567  22 08 00    	ld	(_k1 + 0x0008),hl
4352  156A  21 73 01    	ld	hl,___str_46
4353  156D  E5          	push	hl
4354  156E  21 09 0A    	ld	hl,0x0a09
4355  1571  E5          	push	hl
4356  1572  CD 00 00    	call	_zx_print_str
4357  1575  CD ED 15    	call	_menu_define_key
4358  1578  22 06 00    	ld	(_k1 + 0x0006),hl
4359  157B  21 78 01    	ld	hl,___str_47
4360  157E  E5          	push	hl
4361  157F  21 0A 0A    	ld	hl,0x0a0a
4362  1582  E5          	push	hl
4363  1583  CD 00 00    	call	_zx_print_str
4364  1586  CD ED 15    	call	_menu_define_key
4365  1589  22 04 00    	ld	(_k1 + 0x0004),hl
4366  158C  21 7D 01    	ld	hl,___str_48
4367  158F  E5          	push	hl
4368  1590  21 0B 0A    	ld	hl,0x0a0b
4369  1593  E5          	push	hl
4370  1594  CD 00 00    	call	_zx_print_str
4371  1597  CD ED 15    	call	_menu_define_key
4372  159A  22 02 00    	ld	(_k1 + 0x0002),hl
4373  159D  3A 00 00    	ld	a,(_game_2buttons)
4374  15A0  B7          	or	a, a
4375  15A1  28 24       	jr	Z,l_menu_redefine_00103
4376  15A3  21 83 01    	ld	hl,___str_49
4377  15A6  E5          	push	hl
4378  15A7  21 0C 0A    	ld	hl,0x0a0c
4379  15AA  E5          	push	hl
4380  15AB  CD 00 00    	call	_zx_print_str
4381  15AE  CD ED 15    	call	_menu_define_key
4382  15B1  22 00 00    	ld	(_k2),hl
4383  15B4  21 88 01    	ld	hl,___str_50
4384  15B7  E5          	push	hl
4385  15B8  21 0D 0A    	ld	hl,0x0a0d
4386  15BB  E5          	push	hl
4387  15BC  CD 00 00    	call	_zx_print_str
4388  15BF  CD ED 15    	call	_menu_define_key
4389  15C2  22 00 00    	ld	(_k1),hl
4390  15C5  18 11       	jr	l_menu_redefine_00104
4391  15C7              l_menu_redefine_00103:
4392  15C7  21 83 01    	ld	hl,___str_49
4393  15CA  E5          	push	hl
4394  15CB  21 0C 0A    	ld	hl,0x0a0c
4395  15CE  E5          	push	hl
4396  15CF  CD 00 00    	call	_zx_print_str
4397  15D2  CD ED 15    	call	_menu_define_key
4398  15D5  22 00 00    	ld	(_k1),hl
4399  15D8              l_menu_redefine_00104:
4400  15D8  21 0C 20    	ld	hl,0x200c
4401  15DB  E5          	push	hl
4402  15DC  CD 00 00    	call	_game_fill_row
4403  15DF  21 0A 14    	ld	hl,0x140a
4404  15E2  E5          	push	hl
4405  15E3  3E 07       	ld	a,0x07
4406  15E5  F5          	push	af
4407  15E6  33          	inc	sp
4408  15E7  CD 06 13    	call	_menu_main_print
4409  15EA  F1          	pop	af
4410  15EB  33          	inc	sp
4411  15EC  C9          	ret
4412  15ED              	SECTION rodata_compiler
4413  0170              ___str_45:
4414  0170  55 50       	DEFM "UP"
4415  0172  00          	DEFB 0x00
4416  0173              	SECTION rodata_compiler
4417  0173              ___str_46:
4418  0173  44 4F 57 4E 	DEFM "DOWN"
4419  0177  00          	DEFB 0x00
4420  0178              	SECTION rodata_compiler
4421  0178              ___str_47:
4422  0178  4C 45 46 54 	DEFM "LEFT"
4423  017C  00          	DEFB 0x00
4424  017D              	SECTION rodata_compiler
4425  017D              ___str_48:
4426  017D  52 49 47 48 54 
                        	DEFM "RIGHT"
4427  0182  00          	DEFB 0x00
4428  0183              	SECTION rodata_compiler
4429  0183              ___str_49:
4430  0183  46 49 52 45 	DEFM "FIRE"
4431  0187  00          	DEFB 0x00
4432  0188              	SECTION rodata_compiler
4433  0188              ___str_50:
4434  0188  4A 55 4D 50 	DEFM "JUMP"
4435  018C  00          	DEFB 0x00
4436  018D              	SECTION code_compiler
4437  15ED              ;	---------------------------------
4438  15ED              ; Function menu_define_key
4439  15ED              ; ---------------------------------
4440  15ED              _menu_define_key:
4441  15ED              l_menu_define_key_00107:
4442  15ED  CD 00 00    	call	_in_wait_key
4443  15F0  CD 00 00    	call	_in_inkey
4444  15F3  7D          	ld	a,l
4445  15F4  32 00 00    	ld	(_tmp1),a
4446  15F7  CD 00 00    	call	_in_wait_nokey
4447  15FA  21 00 00    	ld	hl,_tmp0
4448  15FD  36 00       	ld	(hl),0x00
4449  15FF              l_menu_define_key_00103:
4450  15FF  21 00 00    	ld	hl,_tmp0
4451  1602  7E          	ld	a, (hl)
4452  1603  D6 26       	sub	a,0x26
4453  1605  30 E6       	jr	NC,l_menu_define_key_00107
4454  1607  4E          	ld	c,(hl)
4455  1608  06 00       	ld	b,0x00
4456  160A  21 00 00    	ld	hl,_key_map
4457  160D  09          	add	hl,bc
4458  160E  4E          	ld	c, (hl)
4459  160F  3A 00 00    	ld	a,(_tmp1)
4460  1612  91          	sub	a, c
4461  1613  20 10       	jr	NZ,l_menu_define_key_00102
4462  1615  01 00 00    	ld	bc,_scan_map+0
4463  1618  2A 00 00    	ld	hl,(_tmp0)
4464  161B  26 00       	ld	h,0x00
4465  161D  29          	add	hl, hl
4466  161E  09          	add	hl, bc
4467  161F  7E          	ld	a, (hl)
4468  1620  23          	inc	hl
4469  1621  66          	ld	h, (hl)
4470  1622  6F          	ld	l, a
4471  1623  18 06       	jr	l_menu_define_key_00109
4472  1625              l_menu_define_key_00102:
4473  1625  21 00 00    	ld	hl,_tmp0
4474  1628  34          	inc	(hl)
4475  1629  18 D4       	jr	l_menu_define_key_00103
4476  162B              l_menu_define_key_00109:
4477  162B  C9          	ret
4478  162C              	SECTION IGNORE
4479  0000              
