1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_draw_screen
191   0000              	GLOBAL _game_add_enemy
192   0000              	GLOBAL _game_print_footer
193   0000              	GLOBAL _game_phase_print_score_back
194   0000              	GLOBAL _game_print_lives
195   0000              	GLOBAL _game_tick
196   0000              	GLOBAL _game_start_timer
197   0000              	GLOBAL _game_phase_init
198   0000              	GLOBAL _game_print_header
199   0000              	GLOBAL _game_check_map
200   0000              	GLOBAL _game_check_cell
201   0000              	GLOBAL _game_enemy_add_get_index
202   0000              	GLOBAL _game_print_score
203   0000              	GLOBAL _game_paint_attrib
204   0000              	GLOBAL _game_paint_attrib_lin
205   0000              	GLOBAL _game_paint_attrib_lin_h
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_end
210   0000              	GLOBAL _game_rotate_attrib
211   0000              	GLOBAL _game_colour_message
212   0000              	GLOBAL _game_check_time
213   0000              	GLOBAL _game_shoot_fire
214   0000              	GLOBAL _game_obj_set
215   0000              	GLOBAL _game_obj_chk
216   0000              ;--------------------------------------------------------
217   0000              ; Externals used
218   0000              ;--------------------------------------------------------
219   0000              	GLOBAL _ffsll_callee
220   0000              	GLOBAL _ffsll
221   0000              	GLOBAL _strxfrm_callee
222   0000              	GLOBAL _strxfrm
223   0000              	GLOBAL _strupr_fastcall
224   0000              	GLOBAL _strupr
225   0000              	GLOBAL _strtok_r_callee
226   0000              	GLOBAL _strtok_r
227   0000              	GLOBAL _strtok_callee
228   0000              	GLOBAL _strtok
229   0000              	GLOBAL _strstrip_fastcall
230   0000              	GLOBAL _strstrip
231   0000              	GLOBAL _strstr_callee
232   0000              	GLOBAL _strstr
233   0000              	GLOBAL _strspn_callee
234   0000              	GLOBAL _strspn
235   0000              	GLOBAL _strsep_callee
236   0000              	GLOBAL _strsep
237   0000              	GLOBAL _strrstrip_fastcall
238   0000              	GLOBAL _strrstrip
239   0000              	GLOBAL _strrspn_callee
240   0000              	GLOBAL _strrspn
241   0000              	GLOBAL _strrev_fastcall
242   0000              	GLOBAL _strrev
243   0000              	GLOBAL _strrcspn_callee
244   0000              	GLOBAL _strrcspn
245   0000              	GLOBAL _strrchr_callee
246   0000              	GLOBAL _strrchr
247   0000              	GLOBAL _strpbrk_callee
248   0000              	GLOBAL _strpbrk
249   0000              	GLOBAL _strnlen_callee
250   0000              	GLOBAL _strnlen
251   0000              	GLOBAL _strnicmp_callee
252   0000              	GLOBAL _strnicmp
253   0000              	GLOBAL _strndup_callee
254   0000              	GLOBAL _strndup
255   0000              	GLOBAL _strncpy_callee
256   0000              	GLOBAL _strncpy
257   0000              	GLOBAL _strncmp_callee
258   0000              	GLOBAL _strncmp
259   0000              	GLOBAL _strnchr_callee
260   0000              	GLOBAL _strnchr
261   0000              	GLOBAL _strncat_callee
262   0000              	GLOBAL _strncat
263   0000              	GLOBAL _strncasecmp_callee
264   0000              	GLOBAL _strncasecmp
265   0000              	GLOBAL _strlwr_fastcall
266   0000              	GLOBAL _strlwr
267   0000              	GLOBAL _strlen_fastcall
268   0000              	GLOBAL _strlen
269   0000              	GLOBAL _strlcpy_callee
270   0000              	GLOBAL _strlcpy
271   0000              	GLOBAL _strlcat_callee
272   0000              	GLOBAL _strlcat
273   0000              	GLOBAL _stricmp_callee
274   0000              	GLOBAL _stricmp
275   0000              	GLOBAL _strerror_fastcall
276   0000              	GLOBAL _strerror
277   0000              	GLOBAL _strdup_fastcall
278   0000              	GLOBAL _strdup
279   0000              	GLOBAL _strcspn_callee
280   0000              	GLOBAL _strcspn
281   0000              	GLOBAL _strcpy_callee
282   0000              	GLOBAL _strcpy
283   0000              	GLOBAL _strcoll_callee
284   0000              	GLOBAL _strcoll
285   0000              	GLOBAL _strcmp_callee
286   0000              	GLOBAL _strcmp
287   0000              	GLOBAL _strchrnul_callee
288   0000              	GLOBAL _strchrnul
289   0000              	GLOBAL _strchr_callee
290   0000              	GLOBAL _strchr
291   0000              	GLOBAL _strcat_callee
292   0000              	GLOBAL _strcat
293   0000              	GLOBAL _strcasecmp_callee
294   0000              	GLOBAL _strcasecmp
295   0000              	GLOBAL _stpncpy_callee
296   0000              	GLOBAL _stpncpy
297   0000              	GLOBAL _stpcpy_callee
298   0000              	GLOBAL _stpcpy
299   0000              	GLOBAL _memswap_callee
300   0000              	GLOBAL _memswap
301   0000              	GLOBAL _memset_callee
302   0000              	GLOBAL _memset
303   0000              	GLOBAL _memrchr_callee
304   0000              	GLOBAL _memrchr
305   0000              	GLOBAL _memmove_callee
306   0000              	GLOBAL _memmove
307   0000              	GLOBAL _memmem_callee
308   0000              	GLOBAL _memmem
309   0000              	GLOBAL _memcpy_callee
310   0000              	GLOBAL _memcpy
311   0000              	GLOBAL _memcmp_callee
312   0000              	GLOBAL _memcmp
313   0000              	GLOBAL _memchr_callee
314   0000              	GLOBAL _memchr
315   0000              	GLOBAL _memccpy_callee
316   0000              	GLOBAL _memccpy
317   0000              	GLOBAL _ffsl_fastcall
318   0000              	GLOBAL _ffsl
319   0000              	GLOBAL _ffs_fastcall
320   0000              	GLOBAL _ffs
321   0000              	GLOBAL __strrstrip__fastcall
322   0000              	GLOBAL __strrstrip_
323   0000              	GLOBAL __memupr__callee
324   0000              	GLOBAL __memupr_
325   0000              	GLOBAL __memstrcpy__callee
326   0000              	GLOBAL __memstrcpy_
327   0000              	GLOBAL __memlwr__callee
328   0000              	GLOBAL __memlwr_
329   0000              	GLOBAL _rawmemchr_callee
330   0000              	GLOBAL _rawmemchr
331   0000              	GLOBAL _strnset_callee
332   0000              	GLOBAL _strnset
333   0000              	GLOBAL _strset_callee
334   0000              	GLOBAL _strset
335   0000              	GLOBAL _rindex_callee
336   0000              	GLOBAL _rindex
337   0000              	GLOBAL _index_callee
338   0000              	GLOBAL _index
339   0000              	GLOBAL _bzero_callee
340   0000              	GLOBAL _bzero
341   0000              	GLOBAL _bcopy_callee
342   0000              	GLOBAL _bcopy
343   0000              	GLOBAL _bcmp_callee
344   0000              	GLOBAL _bcmp
345   0000              	GLOBAL _ulltoa_callee
346   0000              	GLOBAL _ulltoa
347   0000              	GLOBAL _strtoull_callee
348   0000              	GLOBAL _strtoull
349   0000              	GLOBAL _strtoll_callee
350   0000              	GLOBAL _strtoll
351   0000              	GLOBAL _lltoa_callee
352   0000              	GLOBAL _lltoa
353   0000              	GLOBAL _llabs_callee
354   0000              	GLOBAL _llabs
355   0000              	GLOBAL __lldivu__callee
356   0000              	GLOBAL __lldivu_
357   0000              	GLOBAL __lldiv__callee
358   0000              	GLOBAL __lldiv_
359   0000              	GLOBAL _atoll_callee
360   0000              	GLOBAL _atoll
361   0000              	GLOBAL _realloc_unlocked_callee
362   0000              	GLOBAL _realloc_unlocked
363   0000              	GLOBAL _malloc_unlocked_fastcall
364   0000              	GLOBAL _malloc_unlocked
365   0000              	GLOBAL _free_unlocked_fastcall
366   0000              	GLOBAL _free_unlocked
367   0000              	GLOBAL _calloc_unlocked_callee
368   0000              	GLOBAL _calloc_unlocked
369   0000              	GLOBAL _aligned_alloc_unlocked_callee
370   0000              	GLOBAL _aligned_alloc_unlocked
371   0000              	GLOBAL _realloc_callee
372   0000              	GLOBAL _realloc
373   0000              	GLOBAL _malloc_fastcall
374   0000              	GLOBAL _malloc
375   0000              	GLOBAL _free_fastcall
376   0000              	GLOBAL _free
377   0000              	GLOBAL _calloc_callee
378   0000              	GLOBAL _calloc
379   0000              	GLOBAL _aligned_alloc_callee
380   0000              	GLOBAL _aligned_alloc
381   0000              	GLOBAL _utoa_callee
382   0000              	GLOBAL _utoa
383   0000              	GLOBAL _ultoa_callee
384   0000              	GLOBAL _ultoa
385   0000              	GLOBAL _system_fastcall
386   0000              	GLOBAL _system
387   0000              	GLOBAL _strtoul_callee
388   0000              	GLOBAL _strtoul
389   0000              	GLOBAL _strtol_callee
390   0000              	GLOBAL _strtol
391   0000              	GLOBAL _strtof_callee
392   0000              	GLOBAL _strtof
393   0000              	GLOBAL _strtod_callee
394   0000              	GLOBAL _strtod
395   0000              	GLOBAL _srand_fastcall
396   0000              	GLOBAL _srand
397   0000              	GLOBAL _rand
398   0000              	GLOBAL _quick_exit_fastcall
399   0000              	GLOBAL _quick_exit
400   0000              	GLOBAL _qsort_callee
401   0000              	GLOBAL _qsort
402   0000              	GLOBAL _ltoa_callee
403   0000              	GLOBAL _ltoa
404   0000              	GLOBAL _labs_fastcall
405   0000              	GLOBAL _labs
406   0000              	GLOBAL _itoa_callee
407   0000              	GLOBAL _itoa
408   0000              	GLOBAL _ftoh_callee
409   0000              	GLOBAL _ftoh
410   0000              	GLOBAL _ftog_callee
411   0000              	GLOBAL _ftog
412   0000              	GLOBAL _ftoe_callee
413   0000              	GLOBAL _ftoe
414   0000              	GLOBAL _ftoa_callee
415   0000              	GLOBAL _ftoa
416   0000              	GLOBAL _exit_fastcall
417   0000              	GLOBAL _exit
418   0000              	GLOBAL _dtoh_callee
419   0000              	GLOBAL _dtoh
420   0000              	GLOBAL _dtog_callee
421   0000              	GLOBAL _dtog
422   0000              	GLOBAL _dtoe_callee
423   0000              	GLOBAL _dtoe
424   0000              	GLOBAL _dtoa_callee
425   0000              	GLOBAL _dtoa
426   0000              	GLOBAL _bsearch_callee
427   0000              	GLOBAL _bsearch
428   0000              	GLOBAL _atol_fastcall
429   0000              	GLOBAL _atol
430   0000              	GLOBAL _atoi_fastcall
431   0000              	GLOBAL _atoi
432   0000              	GLOBAL _atof_fastcall
433   0000              	GLOBAL _atof
434   0000              	GLOBAL _atexit_fastcall
435   0000              	GLOBAL _atexit
436   0000              	GLOBAL _at_quick_exit_fastcall
437   0000              	GLOBAL _at_quick_exit
438   0000              	GLOBAL _abs_fastcall
439   0000              	GLOBAL _abs
440   0000              	GLOBAL _abort
441   0000              	GLOBAL __strtou__callee
442   0000              	GLOBAL __strtou_
443   0000              	GLOBAL __strtoi__callee
444   0000              	GLOBAL __strtoi_
445   0000              	GLOBAL __random_uniform_xor_8__fastcall
446   0000              	GLOBAL __random_uniform_xor_8_
447   0000              	GLOBAL __random_uniform_xor_32__fastcall
448   0000              	GLOBAL __random_uniform_xor_32_
449   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
450   0000              	GLOBAL __random_uniform_cmwc_8_
451   0000              	GLOBAL __shellsort__callee
452   0000              	GLOBAL __shellsort_
453   0000              	GLOBAL __quicksort__callee
454   0000              	GLOBAL __quicksort_
455   0000              	GLOBAL __insertion_sort__callee
456   0000              	GLOBAL __insertion_sort_
457   0000              	GLOBAL __ldivu__callee
458   0000              	GLOBAL __ldivu_
459   0000              	GLOBAL __ldiv__callee
460   0000              	GLOBAL __ldiv_
461   0000              	GLOBAL __divu__callee
462   0000              	GLOBAL __divu_
463   0000              	GLOBAL __div__callee
464   0000              	GLOBAL __div_
465   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
466   0000              	GLOBAL _NIRVANAP_drawTW_raw
467   0000              	GLOBAL _NIRVANAP_drawTW_callee
468   0000              	GLOBAL _NIRVANAP_drawTW
469   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawW_raw
471   0000              	GLOBAL _NIRVANAP_drawW_callee
472   0000              	GLOBAL _NIRVANAP_drawW
473   0000              	GLOBAL _NIRVANAP_spriteT_callee
474   0000              	GLOBAL _NIRVANAP_spriteT
475   0000              	GLOBAL _NIRVANAP_fillC_callee
476   0000              	GLOBAL _NIRVANAP_fillC
477   0000              	GLOBAL _NIRVANAP_readC_callee
478   0000              	GLOBAL _NIRVANAP_readC
479   0000              	GLOBAL _NIRVANAP_paintC_callee
480   0000              	GLOBAL _NIRVANAP_paintC
481   0000              	GLOBAL _NIRVANAP_printC_callee
482   0000              	GLOBAL _NIRVANAP_printC
483   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
484   0000              	GLOBAL _NIRVANAP_fillT_raw
485   0000              	GLOBAL _NIRVANAP_fillT_callee
486   0000              	GLOBAL _NIRVANAP_fillT
487   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
488   0000              	GLOBAL _NIRVANAP_drawT_raw
489   0000              	GLOBAL _NIRVANAP_drawT_callee
490   0000              	GLOBAL _NIRVANAP_drawT
491   0000              	GLOBAL _NIRVANAP_stop
492   0000              	GLOBAL _NIRVANAP_start
493   0000              	GLOBAL _debug3
494   0000              	GLOBAL _debug2
495   0000              	GLOBAL _debug
496   0000              	GLOBAL _zx_print_str
497   0000              	GLOBAL _zx_print_int
498   0000              	GLOBAL _zx_print_chr
499   0000              	GLOBAL _zx_print_bonus_time
500   0000              	GLOBAL _zx_isr
501   0000              	GLOBAL _z80_otdr_callee
502   0000              	GLOBAL _z80_otdr
503   0000              	GLOBAL _z80_otir_callee
504   0000              	GLOBAL _z80_otir
505   0000              	GLOBAL _z80_outp_callee
506   0000              	GLOBAL _z80_outp
507   0000              	GLOBAL _z80_indr_callee
508   0000              	GLOBAL _z80_indr
509   0000              	GLOBAL _z80_inir_callee
510   0000              	GLOBAL _z80_inir
511   0000              	GLOBAL _z80_inp_fastcall
512   0000              	GLOBAL _z80_inp
513   0000              	GLOBAL _z80_set_int_state_fastcall
514   0000              	GLOBAL _z80_set_int_state
515   0000              	GLOBAL _z80_get_int_state
516   0000              	GLOBAL _z80_delay_tstate_fastcall
517   0000              	GLOBAL _z80_delay_tstate
518   0000              	GLOBAL _z80_delay_ms_fastcall
519   0000              	GLOBAL _z80_delay_ms
520   0000              	GLOBAL _im2_remove_generic_callback_callee
521   0000              	GLOBAL _im2_remove_generic_callback
522   0000              	GLOBAL _im2_prepend_generic_callback_callee
523   0000              	GLOBAL _im2_prepend_generic_callback
524   0000              	GLOBAL _im2_append_generic_callback_callee
525   0000              	GLOBAL _im2_append_generic_callback
526   0000              	GLOBAL _im2_create_generic_isr_8080_callee
527   0000              	GLOBAL _im2_create_generic_isr_8080
528   0000              	GLOBAL _im2_create_generic_isr_callee
529   0000              	GLOBAL _im2_create_generic_isr
530   0000              	GLOBAL _im2_install_isr_callee
531   0000              	GLOBAL _im2_install_isr
532   0000              	GLOBAL _im2_init_fastcall
533   0000              	GLOBAL _im2_init
534   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
535   0000              	GLOBAL _intrinsic_swap_word_32
536   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
537   0000              	GLOBAL _intrinsic_swap_endian_32
538   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
539   0000              	GLOBAL _intrinsic_swap_endian_16
540   0000              	GLOBAL _intrinsic_return_de
541   0000              	GLOBAL _intrinsic_return_bc
542   0000              	GLOBAL _intrinsic_exx
543   0000              	GLOBAL _intrinsic_ex_de_hl
544   0000              	GLOBAL _intrinsic_nop
545   0000              	GLOBAL _intrinsic_im_2
546   0000              	GLOBAL _intrinsic_im_1
547   0000              	GLOBAL _intrinsic_im_0
548   0000              	GLOBAL _intrinsic_retn
549   0000              	GLOBAL _intrinsic_reti
550   0000              	GLOBAL _intrinsic_halt
551   0000              	GLOBAL _intrinsic_ei
552   0000              	GLOBAL _intrinsic_di
553   0000              	GLOBAL _intrinsic_stub
554   0000              	GLOBAL _intrinsic_outi
555   0000              	GLOBAL _intrinsic_ldi
556   0000              	GLOBAL _zx_pattern_fill_callee
557   0000              	GLOBAL _zx_pattern_fill
558   0000              	GLOBAL _zx_saddrpup_fastcall
559   0000              	GLOBAL _zx_saddrpup
560   0000              	GLOBAL _zx_saddrpright_callee
561   0000              	GLOBAL _zx_saddrpright
562   0000              	GLOBAL _zx_saddrpleft_callee
563   0000              	GLOBAL _zx_saddrpleft
564   0000              	GLOBAL _zx_saddrpdown_fastcall
565   0000              	GLOBAL _zx_saddrpdown
566   0000              	GLOBAL _zx_saddrcup_fastcall
567   0000              	GLOBAL _zx_saddrcup
568   0000              	GLOBAL _zx_saddrcright_fastcall
569   0000              	GLOBAL _zx_saddrcright
570   0000              	GLOBAL _zx_saddrcleft_fastcall
571   0000              	GLOBAL _zx_saddrcleft
572   0000              	GLOBAL _zx_saddrcdown_fastcall
573   0000              	GLOBAL _zx_saddrcdown
574   0000              	GLOBAL _zx_saddr2py_fastcall
575   0000              	GLOBAL _zx_saddr2py
576   0000              	GLOBAL _zx_saddr2px_fastcall
577   0000              	GLOBAL _zx_saddr2px
578   0000              	GLOBAL _zx_saddr2cy_fastcall
579   0000              	GLOBAL _zx_saddr2cy
580   0000              	GLOBAL _zx_saddr2cx_fastcall
581   0000              	GLOBAL _zx_saddr2cx
582   0000              	GLOBAL _zx_saddr2aaddr_fastcall
583   0000              	GLOBAL _zx_saddr2aaddr
584   0000              	GLOBAL _zx_py2saddr_fastcall
585   0000              	GLOBAL _zx_py2saddr
586   0000              	GLOBAL _zx_py2aaddr_fastcall
587   0000              	GLOBAL _zx_py2aaddr
588   0000              	GLOBAL _zx_pxy2saddr_callee
589   0000              	GLOBAL _zx_pxy2saddr
590   0000              	GLOBAL _zx_pxy2aaddr_callee
591   0000              	GLOBAL _zx_pxy2aaddr
592   0000              	GLOBAL _zx_px2bitmask_fastcall
593   0000              	GLOBAL _zx_px2bitmask
594   0000              	GLOBAL _zx_cy2saddr_fastcall
595   0000              	GLOBAL _zx_cy2saddr
596   0000              	GLOBAL _zx_cy2aaddr_fastcall
597   0000              	GLOBAL _zx_cy2aaddr
598   0000              	GLOBAL _zx_cxy2saddr_callee
599   0000              	GLOBAL _zx_cxy2saddr
600   0000              	GLOBAL _zx_cxy2aaddr_callee
601   0000              	GLOBAL _zx_cxy2aaddr
602   0000              	GLOBAL _zx_bitmask2px_fastcall
603   0000              	GLOBAL _zx_bitmask2px
604   0000              	GLOBAL _zx_aaddrcup_fastcall
605   0000              	GLOBAL _zx_aaddrcup
606   0000              	GLOBAL _zx_aaddrcright_fastcall
607   0000              	GLOBAL _zx_aaddrcright
608   0000              	GLOBAL _zx_aaddrcleft_fastcall
609   0000              	GLOBAL _zx_aaddrcleft
610   0000              	GLOBAL _zx_aaddrcdown_fastcall
611   0000              	GLOBAL _zx_aaddrcdown
612   0000              	GLOBAL _zx_aaddr2saddr_fastcall
613   0000              	GLOBAL _zx_aaddr2saddr
614   0000              	GLOBAL _zx_aaddr2py_fastcall
615   0000              	GLOBAL _zx_aaddr2py
616   0000              	GLOBAL _zx_aaddr2px_fastcall
617   0000              	GLOBAL _zx_aaddr2px
618   0000              	GLOBAL _zx_aaddr2cy_fastcall
619   0000              	GLOBAL _zx_aaddr2cy
620   0000              	GLOBAL _zx_aaddr2cx_fastcall
621   0000              	GLOBAL _zx_aaddr2cx
622   0000              	GLOBAL _zx_visit_wc_pix_callee
623   0000              	GLOBAL _zx_visit_wc_pix
624   0000              	GLOBAL _zx_visit_wc_attr_callee
625   0000              	GLOBAL _zx_visit_wc_attr
626   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
627   0000              	GLOBAL _zx_scroll_wc_up_pix
628   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
629   0000              	GLOBAL _zx_scroll_wc_up_attr
630   0000              	GLOBAL _zx_scroll_wc_up_callee
631   0000              	GLOBAL _zx_scroll_wc_up
632   0000              	GLOBAL _zx_scroll_up_pix_callee
633   0000              	GLOBAL _zx_scroll_up_pix
634   0000              	GLOBAL _zx_scroll_up_attr_callee
635   0000              	GLOBAL _zx_scroll_up_attr
636   0000              	GLOBAL _zx_scroll_up_callee
637   0000              	GLOBAL _zx_scroll_up
638   0000              	GLOBAL _zx_cls_wc_pix_callee
639   0000              	GLOBAL _zx_cls_wc_pix
640   0000              	GLOBAL _zx_cls_wc_attr_callee
641   0000              	GLOBAL _zx_cls_wc_attr
642   0000              	GLOBAL _zx_cls_wc_callee
643   0000              	GLOBAL _zx_cls_wc
644   0000              	GLOBAL _zx_cls_pix_fastcall
645   0000              	GLOBAL _zx_cls_pix
646   0000              	GLOBAL _zx_cls_attr_fastcall
647   0000              	GLOBAL _zx_cls_attr
648   0000              	GLOBAL _zx_cls_fastcall
649   0000              	GLOBAL _zx_cls
650   0000              	GLOBAL _zx_border_fastcall
651   0000              	GLOBAL _zx_border
652   0000              	GLOBAL _spr_btile_paint_back
653   0000              	GLOBAL _spr_explode_bullet
654   0000              	GLOBAL _spr_init_anim_bullets
655   0000              	GLOBAL _spr_turn_horizontal
656   0000              	GLOBAL _spr_play_bullets
657   0000              	GLOBAL _spr_play_anim
658   0000              	GLOBAL _spr_add_anim
659   0000              	GLOBAL _spr_page_map
660   0000              	GLOBAL _spr_page_right
661   0000              	GLOBAL _spr_page_left
662   0000              	GLOBAL _spr_tile_paint
663   0000              	GLOBAL _spr_calc_hor
664   0000              	GLOBAL _spr_draw_row
665   0000              	GLOBAL _spr_draw_index
666   0000              	GLOBAL _spr_draw_clear
667   0000              	GLOBAL _spr_brick_anim
668   0000              	GLOBAL _spr_back_repaint
669   0000              	GLOBAL _spr_tile
670   0000              	GLOBAL _spr_destroy
671   0000              	GLOBAL _spr_tile_dir
672   0000              	GLOBAL _spr_redraw
673   0000              	GLOBAL _spr_move_left
674   0000              	GLOBAL _spr_move_right
675   0000              	GLOBAL _spr_move_horizontal
676   0000              	GLOBAL _spr_move_down
677   0000              	GLOBAL _spr_move_up
678   0000              	GLOBAL _spr_calc_index
679   0000              	GLOBAL _spr_chktime
680   0000              	GLOBAL _sound_hit_brick
681   0000              	GLOBAL _sound_hit_enemy
682   0000              	GLOBAL _sound_kill
683   0000              	GLOBAL _sound_enter_enemy
684   0000              	GLOBAL _sound_coin
685   0000              	GLOBAL _sound_jump
686   0000              	GLOBAL _sound_slide
687   0000              	GLOBAL _player_open_door
688   0000              	GLOBAL _player_move_jump
689   0000              	GLOBAL _player_fire
690   0000              	GLOBAL _player_check_stairs_down
691   0000              	GLOBAL _player_check_stairs
692   0000              	GLOBAL _player_tile
693   0000              	GLOBAL _player_pick_item
694   0000              	GLOBAL _player_check_floor
695   0000              	GLOBAL _player_hit_platform_clear
696   0000              	GLOBAL _player_lost_life
697   0000              	GLOBAL _player_score_add
698   0000              	GLOBAL _player_player_hit_pow
699   0000              	GLOBAL _player_hit_platform
700   0000              	GLOBAL _player_move_input
701   0000              	GLOBAL _player_turn
702   0000              	GLOBAL _player_move
703   0000              	GLOBAL _player_restart
704   0000              	GLOBAL _player_kill
705   0000              	GLOBAL _player_check_input
706   0000              	GLOBAL _player_collision
707   0000              	GLOBAL _player_init
708   0000              	GLOBAL _game_unfreeze_all
709   0000              	GLOBAL _game_freeze_all
710   0000              	GLOBAL _game_freeze
711   0000              	GLOBAL _game_fill_row
712   0000              	GLOBAL _enemy_avoid_fall_dead
713   0000              	GLOBAL _enemy_avoid_fall
714   0000              	GLOBAL _enemy_kill
715   0000              	GLOBAL _enemy_respawn
716   0000              	GLOBAL _enemy_init
717   0000              	GLOBAL _enemy_move
718   0000              	GLOBAL _enemy_turn
719   0000              	GLOBAL _enemy_hit
720   0000              	GLOBAL _enemy_coin1
721   0000              	GLOBAL _enemy_static
722   0000              	GLOBAL _enemy_walk
723   0000              	GLOBAL _enemy_horizontal
724   0000              	GLOBAL _enemy_vertical
725   0000              	GLOBAL _ay_fx_play
726   0000              	GLOBAL _ay_midi_play
727   0000              	GLOBAL _ay_is_playing
728   0000              	GLOBAL _ay_reset
729   0000              	GLOBAL _test_func
730   0000              	GLOBAL _test_proc
731   0000              	GLOBAL _in_mouse_kempston_wheel_delta
732   0000              	GLOBAL _in_mouse_kempston_wheel
733   0000              	GLOBAL _in_mouse_kempston_callee
734   0000              	GLOBAL _in_mouse_kempston
735   0000              	GLOBAL _in_mouse_kempston_setpos_callee
736   0000              	GLOBAL _in_mouse_kempston_setpos
737   0000              	GLOBAL _in_mouse_kempston_reset
738   0000              	GLOBAL _in_mouse_kempston_init
739   0000              	GLOBAL _in_mouse_amx_wheel_delta
740   0000              	GLOBAL _in_mouse_amx_wheel
741   0000              	GLOBAL _in_mouse_amx_callee
742   0000              	GLOBAL _in_mouse_amx
743   0000              	GLOBAL _in_mouse_amx_setpos_callee
744   0000              	GLOBAL _in_mouse_amx_setpos
745   0000              	GLOBAL _in_mouse_amx_reset
746   0000              	GLOBAL _in_mouse_amx_init_callee
747   0000              	GLOBAL _in_mouse_amx_init
748   0000              	GLOBAL _in_stick_sinclair2
749   0000              	GLOBAL _in_stick_sinclair1
750   0000              	GLOBAL _in_stick_kempston
751   0000              	GLOBAL _in_stick_fuller
752   0000              	GLOBAL _in_stick_cursor
753   0000              	GLOBAL _in_stick_keyboard_fastcall
754   0000              	GLOBAL _in_stick_keyboard
755   0000              	GLOBAL _in_wait_nokey
756   0000              	GLOBAL _in_wait_key
757   0000              	GLOBAL _in_test_key
758   0000              	GLOBAL _in_pause_fastcall
759   0000              	GLOBAL _in_pause
760   0000              	GLOBAL _in_key_scancode_fastcall
761   0000              	GLOBAL _in_key_scancode
762   0000              	GLOBAL _in_key_pressed_fastcall
763   0000              	GLOBAL _in_key_pressed
764   0000              	GLOBAL _in_inkey
765   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
766   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
767   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
768   0000              	GLOBAL _NIRVANAP_HOLE
769   0000              	GLOBAL _NIRVANAP_ISR_HOOK
770   0000              	GLOBAL _map_paper_last
771   0000              	GLOBAL _map_paper_clr
772   0000              	GLOBAL _map_paper
773   0000              	GLOBAL _draw_count
774   0000              	GLOBAL _g_player_hit_right
775   0000              	GLOBAL _g_player_hit_left
776   0000              	GLOBAL _joynames
777   0000              	GLOBAL _initials
778   0000              	GLOBAL _bullet_count
779   0000              	GLOBAL _bullet_frames
780   0000              	GLOBAL _bullet_colint
781   0000              	GLOBAL _bullet_dir
782   0000              	GLOBAL _bullet_tile
783   0000              	GLOBAL _bullet_col
784   0000              	GLOBAL _bullet_lin
785   0000              	GLOBAL _mush_class
786   0000              	GLOBAL _mush_index
787   0000              	GLOBAL _anim_count
788   0000              	GLOBAL _anim_respanwn
789   0000              	GLOBAL _anim_loop
790   0000              	GLOBAL _anim_end
791   0000              	GLOBAL _anim_int
792   0000              	GLOBAL _anim_tile
793   0000              	GLOBAL _anim_col
794   0000              	GLOBAL _anim_lin
795   0000              	GLOBAL _phase_curr
796   0000              	GLOBAL _map_heigth
797   0000              	GLOBAL _map_width
798   0000              	GLOBAL _scr_curr
799   0000              	GLOBAL _scr_obj1
800   0000              	GLOBAL _scr_obj0
801   0000              	GLOBAL _scr_map
802   0000              	GLOBAL _sprite_speed_alt
803   0000              	GLOBAL _sprite_frames
804   0000              	GLOBAL _sprite_speed
805   0000              	GLOBAL _screen_ink
806   0000              	GLOBAL _screen_paper
807   0000              	GLOBAL _player_over_stair
808   0000              	GLOBAL _game_respawning
809   0000              	GLOBAL _game_respawn_tile
810   0000              	GLOBAL _game_respawn_index
811   0000              	GLOBAL _game_menu_sel
812   0000              	GLOBAL _game_score_top
813   0000              	GLOBAL _player_lives
814   0000              	GLOBAL _game_over
815   0000              	GLOBAL _game_sound
816   0000              	GLOBAL _game_inmune
817   0000              	GLOBAL _game_god_mode
818   0000              	GLOBAL _game_two_player
819   0000              	GLOBAL _game_brick_tile
820   0000              	GLOBAL _sprite_curr_index
821   0000              	GLOBAL _spr_count
822   0000              	GLOBAL _bullet_time
823   0000              	GLOBAL _anim_time
824   0000              	GLOBAL _frame_time
825   0000              	GLOBAL _entry_time
826   0000              	GLOBAL _curr_time
827   0000              	GLOBAL _s_state
828   0000              	GLOBAL _attrib_hl
829   0000              	GLOBAL _attrib
830   0000              	GLOBAL _zx_val_asm
831   0000              	GLOBAL _enemies
832   0000              	GLOBAL _tmp_ui
833   0000              	GLOBAL _tmp_sc
834   0000              	GLOBAL _tmp_uc
835   0000              	GLOBAL _tmp1
836   0000              	GLOBAL _tmp0
837   0000              	GLOBAL _tmp
838   0000              	GLOBAL _index1
839   0000              	GLOBAL _index0
840   0000              	GLOBAL _loop_count
841   0000              	GLOBAL _s_col1
842   0000              	GLOBAL _s_col0
843   0000              	GLOBAL _s_lin1
844   0000              	GLOBAL _s_lin0
845   0000              	GLOBAL _s_tile1
846   0000              	GLOBAL _s_tile0
847   0000              	GLOBAL _player_hit_count
848   0000              	GLOBAL _sprite_horizontal_check
849   0000              	GLOBAL _sprite_on_air
850   0000              	GLOBAL _sprite
851   0000              	GLOBAL _game_gravity
852   0000              	GLOBAL _player_int
853   0000              	GLOBAL _player_dex
854   0000              	GLOBAL _player_str
855   0000              	GLOBAL _player_vita
856   0000              	GLOBAL _player_mana
857   0000              	GLOBAL _player_keys
858   0000              	GLOBAL _player_vel_inc
859   0000              	GLOBAL _player_vel_y1
860   0000              	GLOBAL _player_vel_y0
861   0000              	GLOBAL _player_vel_y
862   0000              	GLOBAL _player_vel_x
863   0000              	GLOBAL _player_joy
864   0000              	GLOBAL _player_score
865   0000              	GLOBAL _last_time
866   0000              	GLOBAL _player_slide
867   0000              	GLOBAL _spr_timer
868   0000              	GLOBAL _jump_lin
869   0000              	GLOBAL _player_hit_col
870   0000              	GLOBAL _player_hit_lin
871   0000              	GLOBAL _colint
872   0000              	GLOBAL _col
873   0000              	GLOBAL _lin
874   0000              	GLOBAL _tile
875   0000              	GLOBAL _state_a
876   0000              	GLOBAL _state
877   0000              	GLOBAL _class
878   0000              	GLOBAL _tbuffer
879   0000              	GLOBAL _dirs
880   0000              	GLOBAL _k1
881   0000              	GLOBAL _joyfunc1
882   0000              	GLOBAL _btiles
883   0000              	GLOBAL _spec128
884   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
885   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
886   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
887   0000              	GLOBAL _ay_effect_20
888   0000              	GLOBAL _ay_effect_19
889   0000              	GLOBAL _ay_effect_18
890   0000              	GLOBAL _ay_effect_17
891   0000              	GLOBAL _ay_effect_16
892   0000              	GLOBAL _ay_effect_15
893   0000              	GLOBAL _ay_effect_14
894   0000              	GLOBAL _ay_effect_13
895   0000              	GLOBAL _ay_effect_12
896   0000              	GLOBAL _ay_effect_11
897   0000              	GLOBAL _ay_effect_10
898   0000              	GLOBAL _ay_effect_09
899   0000              	GLOBAL _ay_effect_08
900   0000              	GLOBAL _ay_effect_07
901   0000              	GLOBAL _ay_effect_06
902   0000              	GLOBAL _ay_effect_05
903   0000              	GLOBAL _ay_effect_04
904   0000              	GLOBAL _ay_effect_03
905   0000              	GLOBAL _ay_effect_02
906   0000              	GLOBAL _ay_effect_01
907   0000              	GLOBAL _pb_midi_phase_1
908   0000              	GLOBAL _pb_midi_title
909   0000              	GLOBAL _control_method
910   0000              	GLOBAL _world0
911   0000              	GLOBAL _lenght0
912   0000              ;--------------------------------------------------------
913   0000              ; special function registers
914   0000              ;--------------------------------------------------------
915   0000              defc _IO_FE	=	0x00fe
916   0000              defc _IO_1FFD	=	0x1ffd
917   0000              defc _IO_7FFD	=	0x7ffd
918   0000              ;--------------------------------------------------------
919   0000              ; ram data
920   0000              ;--------------------------------------------------------
921   0000              	SECTION bss_compiler
922   0000              ;--------------------------------------------------------
923   0000              ; ram data
924   0000              ;--------------------------------------------------------
925   0000              
926   0000              IF 0
927   0000              
928   0000              ; .area _INITIALIZED removed by z88dk
929   0000              
930   0000              
931   0000              ENDIF
932   0000              
933   0000              ;--------------------------------------------------------
934   0000              ; absolute external ram data
935   0000              ;--------------------------------------------------------
936   0000              	SECTION IGNORE
937   0000              ;--------------------------------------------------------
938   0000              ; global & static initialisations
939   0000              ;--------------------------------------------------------
940   0000              	SECTION code_crt_init
941   0000              ;--------------------------------------------------------
942   0000              ; Home
943   0000              ;--------------------------------------------------------
944   0000              	SECTION IGNORE
945   0000              ;--------------------------------------------------------
946   0000              ; code
947   0000              ;--------------------------------------------------------
948   0000              	SECTION code_compiler
949   0000              ;	---------------------------------
950   0000              ; Function game_loop
951   0000              ; ---------------------------------
952   0000              _game_loop:
953   0000  CD 00 00    	call	___sdcc_enter_ix
954   0003  F5          	push	af
955   0004  21 00 00    	ld	hl,_ay_effect_10
956   0007  CD 00 00    	call	_ay_fx_play
957   000A  CD 00 00    	call	_sound_coin
958   000D  21 C8 00    	ld	hl,0x00c8
959   0010  CD 00 00    	call	_z80_delay_ms_fastcall
960   0013  CD 00 00    	call	_ay_reset
961   0016  21 00 00    	ld	hl,_player_lives
962   0019  36 04       	ld	(hl),0x04
963   001B  21 00 00    	ld	hl,_player_mana
964   001E  36 64       	ld	(hl),0x64
965   0020  21 00 00    	ld	hl,_player_vita
966   0023  36 64       	ld	(hl),0x64
967   0025  21 00 00    	ld	hl,_player_str
968   0028  36 00       	ld	(hl),0x00
969   002A  21 00 00    	ld	hl,_player_dex
970   002D  36 00       	ld	(hl),0x00
971   002F  21 00 00    	ld	hl,_player_int
972   0032  36 00       	ld	(hl),0x00
973   0034  21 00 00    	ld	hl,0x0000
974   0037  22 00 00    	ld	(_player_score),hl
975   003A  21 00 00    	ld	hl,_game_over
976   003D  36 00       	ld	(hl),0x00
977   003F  CD 3D 06    	call	_game_phase_init
978   0042  21 00 00    	ld	hl,_dirs
979   0045  36 00       	ld	(hl),0x00
980   0047  CD 45 08    	call	_game_joystick_set
981   004A  21 00 00    	ld	hl,0x0000
982   004D  E3          	ex	(sp), hl
983   004E              l_game_loop_00119:
984   004E  3A 00 00    	ld	a,(_game_over)
985   0051  B7          	or	a, a
986   0052  C2 6A 01    	jp	NZ, l_game_loop_00122
987   0055  21 06 00    	ld	hl,0x0006
988   0058  E5          	push	hl
989   0059  2A 00 00    	ld	hl,(_anim_time)
990   005C  E5          	push	hl
991   005D  CD F4 08    	call	_game_check_time
992   0060  F1          	pop	af
993   0061  F1          	pop	af
994   0062  7D          	ld	a, l
995   0063  B7          	or	a, a
996   0064  28 14       	jr	Z,l_game_loop_00104
997   0066  2E 00       	ld	l,0x00
998   0068  CD 00 00    	call	_zx_border_fastcall
999   006B  2A 00 00    	ld	hl,(_curr_time)
1000  006E  22 00 00    	ld	(_anim_time),hl
1001  0071  3A 00 00    	ld	a,(_anim_count)
1002  0074  B7          	or	a,a
1003  0075  28 03       	jr	Z,l_game_loop_00104
1004  0077  CD 00 00    	call	_spr_play_anim
1005  007A              l_game_loop_00104:
1006  007A  21 02 00    	ld	hl,0x0002
1007  007D  E5          	push	hl
1008  007E  2A 00 00    	ld	hl,(_bullet_time)
1009  0081  E5          	push	hl
1010  0082  CD F4 08    	call	_game_check_time
1011  0085  F1          	pop	af
1012  0086  F1          	pop	af
1013  0087  7D          	ld	a, l
1014  0088  B7          	or	a, a
1015  0089  28 0F       	jr	Z,l_game_loop_00108
1016  008B  2A 00 00    	ld	hl,(_curr_time)
1017  008E  22 00 00    	ld	(_bullet_time),hl
1018  0091  3A 00 00    	ld	a,(_bullet_count)
1019  0094  B7          	or	a,a
1020  0095  28 03       	jr	Z,l_game_loop_00108
1021  0097  CD 00 00    	call	_spr_play_bullets
1022  009A              l_game_loop_00108:
1023  009A  21 00 00    	ld	hl,_sprite
1024  009D  36 07       	ld	(hl),0x07
1025  009F  CD 00 00    	call	_player_turn
1026  00A2  CD 00 00    	call	_enemy_turn
1027  00A5  21 64 00    	ld	hl,0x0064
1028  00A8  E5          	push	hl
1029  00A9  2A 00 00    	ld	hl,(_frame_time)
1030  00AC  E5          	push	hl
1031  00AD  CD F4 08    	call	_game_check_time
1032  00B0  F1          	pop	af
1033  00B1  F1          	pop	af
1034  00B2  7D          	ld	a, l
1035  00B3  B7          	or	a, a
1036  00B4  CA 56 01    	jp	Z, l_game_loop_00118
1037  00B7  21 00 00    	ld	hl,_screen_ink
1038  00BA  36 07       	ld	(hl),0x07
1039  00BC  E1          	pop	hl
1040  00BD  E5          	push	hl
1041  00BE  E5          	push	hl
1042  00BF  21 17 18    	ld	hl,0x1817
1043  00C2  E5          	push	hl
1044  00C3  CD 00 00    	call	_zx_print_int
1045  00C6  21 00 00    	ld	hl,0x0000
1046  00C9  E3          	ex	(sp), hl
1047  00CA  2A 00 00    	ld	hl,(_curr_time)
1048  00CD  22 00 00    	ld	(_frame_time),hl
1049  00D0  3A 00 00    	ld	a,(_game_respawning)
1050  00D3  B7          	or	a,a
1051  00D4  C2 56 01    	jp	NZ,l_game_loop_00118
1052  00D7  21 00 00    	ld	hl,_sprite
1053  00DA  36 00       	ld	(hl),0x00
1054  00DC              l_game_loop_00112:
1055  00DC  21 00 00    	ld	hl,_sprite
1056  00DF  7E          	ld	a, (hl)
1057  00E0  D6 07       	sub	a,0x07
1058  00E2  30 72       	jr	NC,l_game_loop_00118
1059  00E4  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1060  00E6  86          	add	a, (hl)
1061  00E7  4F          	ld	c, a
1062  00E8  3E 00       	ld	a, +((_game_respawn_index) / 256)
1063  00EA  CE 00       	adc	a,0x00
1064  00EC  47          	ld	b, a
1065  00ED  0A          	ld	a, (bc)
1066  00EE  4F          	ld	c,a
1067  00EF  B7          	or	a, a
1068  00F0  28 5E       	jr	Z,l_game_loop_00110
1069  00F2  5E          	ld	e,(hl)
1070  00F3  16 00       	ld	d,0x00
1071  00F5  21 00 00    	ld	hl,_class
1072  00F8  19          	add	hl,de
1073  00F9  7E          	ld	a,(hl)
1074  00FA  B7          	or	a, a
1075  00FB  20 53       	jr	NZ,l_game_loop_00110
1076  00FD  21 00 00    	ld	hl,_index1
1077  0100  71          	ld	(hl), c
1078  0101  23          	inc	hl
1079  0102  36 00       	ld	(hl),0x00
1080  0104  2B          	dec	hl
1081  0105  7E          	ld	a,(hl)
1082  0106  4F          	ld	c,a
1083  0107  E6 0F       	and	a,0x0f
1084  0109  87          	add	a, a
1085  010A  32 00 00    	ld	(_s_col1),a
1086  010D  21 00 00    	ld	hl,_s_lin1
1087  0110  71          	ld	(hl),c
1088  0111  79          	ld	a,c
1089  0112  07          	rlca
1090  0113  07          	rlca
1091  0114  07          	rlca
1092  0115  07          	rlca
1093  0116  E6 0F       	and	a,0x0f
1094  0118  07          	rlca
1095  0119  07          	rlca
1096  011A  07          	rlca
1097  011B  07          	rlca
1098  011C  E6 F0       	and	a,0xf0
1099  011E  77          	ld	(hl), a
1100  011F  01 00 00    	ld	bc,_scr_map
1101  0122  2A 00 00    	ld	hl,(_index1)
1102  0125  09          	add	hl,bc
1103  0126  36 FF       	ld	(hl),0xff
1104  0128  2A 00 00    	ld	hl,(_sprite)
1105  012B  26 00       	ld	h,0x00
1106  012D  01 00 00    	ld	bc,_game_respawn_tile
1107  0130  09          	add	hl,bc
1108  0131  7E          	ld	a,(hl)
1109  0132  F5          	push	af
1110  0133  33          	inc	sp
1111  0134  21 03 04    	ld	hl,0x0403
1112  0137  E5          	push	hl
1113  0138  2A 00 00    	ld	hl,(_s_col1)
1114  013B  26 7E       	ld	h,0x7e
1115  013D  3A 00 00    	ld	a,(_s_lin1)
1116  0140  E5          	push	hl
1117  0141  F5          	push	af
1118  0142  33          	inc	sp
1119  0143  CD 00 00    	call	_spr_add_anim
1120  0146  F1          	pop	af
1121  0147  F1          	pop	af
1122  0148  F1          	pop	af
1123  0149  21 00 00    	ld	hl,_game_respawning
1124  014C  36 01       	ld	(hl),0x01
1125  014E  18 06       	jr	l_game_loop_00118
1126  0150              l_game_loop_00110:
1127  0150  21 00 00    	ld	hl,_sprite
1128  0153  34          	inc	(hl)
1129  0154  18 86       	jr	l_game_loop_00112
1130  0156              l_game_loop_00118:
1131  0156  21 00 00    	ld	hl,_loop_count
1132  0159  34          	inc	(hl)
1133  015A  20 02       	jr	NZ,l_game_loop_00172
1134  015C  23          	inc	hl
1135  015D  34          	inc	(hl)
1136  015E              l_game_loop_00172:
1137  015E  DD 34 FE    	inc	(ix-2)
1138  0161  C2 4E 00    	jp	NZ,l_game_loop_00119
1139  0164  DD 34 FF    	inc	(ix-1)
1140  0167  C3 4E 00    	jp	l_game_loop_00119
1141  016A              l_game_loop_00122:
1142  016A  F1          	pop	af
1143  016B  DD E1       	pop	ix
1144  016D  C9          	ret
1145  016E              	SECTION code_compiler
1146  016E              ;	---------------------------------
1147  016E              ; Function game_draw_screen
1148  016E              ; ---------------------------------
1149  016E              _game_draw_screen:
1150  016E  CD 00 00    	call	___sdcc_enter_ix
1151  0171  3B          	dec	sp
1152  0172  76          	halt
1153  0173  21 00 00    	ld	hl,_spr_count
1154  0176  36 00       	ld	(hl),0x00
1155  0178              l_game_draw_screen_00101:
1156  0178  21 00 00    	ld	hl,_spr_count
1157  017B  7E          	ld	a, (hl)
1158  017C  D6 07       	sub	a,0x07
1159  017E  30 3A       	jr	NC,l_game_draw_screen_00103
1160  0180  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1161  0182  86          	add	a, (hl)
1162  0183  4F          	ld	c, a
1163  0184  3E 00       	ld	a, +((_game_respawn_index) / 256)
1164  0186  CE 00       	adc	a,0x00
1165  0188  47          	ld	b, a
1166  0189  AF          	xor	a, a
1167  018A  02          	ld	(bc), a
1168  018B  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1169  018D  86          	add	a, (hl)
1170  018E  4F          	ld	c, a
1171  018F  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1172  0191  CE 00       	adc	a,0x00
1173  0193  47          	ld	b, a
1174  0194  AF          	xor	a, a
1175  0195  02          	ld	(bc), a
1176  0196  3E 00       	ld	a, +((_mush_index) & 0xFF)
1177  0198  86          	add	a, (hl)
1178  0199  4F          	ld	c, a
1179  019A  3E 00       	ld	a, +((_mush_index) / 256)
1180  019C  CE 00       	adc	a,0x00
1181  019E  47          	ld	b, a
1182  019F  AF          	xor	a, a
1183  01A0  02          	ld	(bc), a
1184  01A1  3E 00       	ld	a, +((_mush_class) & 0xFF)
1185  01A3  86          	add	a, (hl)
1186  01A4  4F          	ld	c, a
1187  01A5  3E 00       	ld	a, +((_mush_class) / 256)
1188  01A7  CE 00       	adc	a,0x00
1189  01A9  47          	ld	b, a
1190  01AA  AF          	xor	a, a
1191  01AB  02          	ld	(bc), a
1192  01AC  3E 00       	ld	a, +((_class) & 0xFF)
1193  01AE  86          	add	a, (hl)
1194  01AF  4F          	ld	c, a
1195  01B0  3E 00       	ld	a, +((_class) / 256)
1196  01B2  CE 00       	adc	a,0x00
1197  01B4  47          	ld	b, a
1198  01B5  AF          	xor	a, a
1199  01B6  02          	ld	(bc), a
1200  01B7  34          	inc	(hl)
1201  01B8  18 BE       	jr	l_game_draw_screen_00101
1202  01BA              l_game_draw_screen_00103:
1203  01BA  21 00 00    	ld	hl,_game_respawning
1204  01BD  36 00       	ld	(hl),0x00
1205  01BF  21 10 00    	ld	hl,0x0010
1206  01C2  22 00 00    	ld	(_index1),hl
1207  01C5  21 00 00    	ld	hl,_s_lin1
1208  01C8  36 00       	ld	(hl),0x00
1209  01CA  21 00 00    	ld	hl,_s_col1
1210  01CD  36 02       	ld	(hl),0x02
1211  01CF  21 00 00    	ld	hl,_spr_count
1212  01D2  36 00       	ld	(hl),0x00
1213  01D4  F3          	di
1214  01D5  DD 36 FF 00 	ld	(ix-1),0x00
1215  01D9              l_game_draw_screen_00119:
1216  01D9  21 00 00    	ld	hl,_index1
1217  01DC  7E          	ld	a, (hl)
1218  01DD  D6 A0       	sub	a,0xa0
1219  01DF  23          	inc	hl
1220  01E0  7E          	ld	a, (hl)
1221  01E1  DE 00       	sbc	a,0x00
1222  01E3  D2 D6 02    	jp	NC, l_game_draw_screen_00121
1223  01E6  2B          	dec	hl
1224  01E7  7E          	ld	a, (hl)
1225  01E8  E6 0F       	and	a,0x0f
1226  01EA  20 0C       	jr	NZ,l_game_draw_screen_00105
1227  01EC  21 00 00    	ld	hl,_s_lin1
1228  01EF  7E          	ld	a, (hl)
1229  01F0  C6 10       	add	a,0x10
1230  01F2  77          	ld	(hl), a
1231  01F3  21 00 00    	ld	hl,_s_col1
1232  01F6  36 00       	ld	(hl),0x00
1233  01F8              l_game_draw_screen_00105:
1234  01F8  2A 00 00    	ld	hl,(_index1)
1235  01FB  01 00 00    	ld	bc,_scr_map
1236  01FE  09          	add	hl,bc
1237  01FF  7E          	ld	a,(hl)
1238  0200  FE 54       	cp	a,0x54
1239  0202  30 36       	jr	NC,l_game_draw_screen_00117
1240  0204  D6 4B       	sub	a,0x4b
1241  0206  20 19       	jr	NZ,l_game_draw_screen_00107
1242  0208  2A 00 00    	ld	hl,(_index1)
1243  020B  01 F0 FF    	ld	bc,0xfff0
1244  020E  09          	add	hl,bc
1245  020F  E5          	push	hl
1246  0210  CD 69 0A    	call	_game_obj_chk
1247  0213  F1          	pop	af
1248  0214  7D          	ld	a, l
1249  0215  B7          	or	a, a
1250  0216  28 09       	jr	Z,l_game_draw_screen_00107
1251  0218  01 00 00    	ld	bc,_scr_map
1252  021B  2A 00 00    	ld	hl,(_index1)
1253  021E  09          	add	hl,bc
1254  021F  36 44       	ld	(hl),0x44
1255  0221              l_game_draw_screen_00107:
1256  0221  01 00 00    	ld	bc,_scr_map
1257  0224  2A 00 00    	ld	hl,(_index1)
1258  0227  09          	add	hl,bc
1259  0228  46          	ld	b, (hl)
1260  0229  3A 00 00    	ld	a,(_s_col1)
1261  022C  F5          	push	af
1262  022D  33          	inc	sp
1263  022E  3A 00 00    	ld	a,(_s_lin1)
1264  0231  48          	ld	c,b
1265  0232  47          	ld	b,a
1266  0233  C5          	push	bc
1267  0234  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1268  0237  C3 C5 02    	jp	l_game_draw_screen_00118
1269  023A              l_game_draw_screen_00117:
1270  023A  D6 78       	sub	a,0x78
1271  023C  30 39       	jr	NC,l_game_draw_screen_00114
1272  023E  21 00 00    	ld	hl,_spr_count
1273  0241  7E          	ld	a, (hl)
1274  0242  D6 08       	sub	a,0x08
1275  0244  30 76       	jr	NC,l_game_draw_screen_00115
1276  0246  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1277  0248  86          	add	a, (hl)
1278  0249  4F          	ld	c, a
1279  024A  3E 00       	ld	a, +((_game_respawn_index) / 256)
1280  024C  CE 00       	adc	a,0x00
1281  024E  47          	ld	b, a
1282  024F  3A 00 00    	ld	a,(_index1)
1283  0252  02          	ld	(bc), a
1284  0253  2A 00 00    	ld	hl,(_spr_count)
1285  0256  26 00       	ld	h,0x00
1286  0258  01 00 00    	ld	bc,_game_respawn_tile
1287  025B  09          	add	hl,bc
1288  025C  4D          	ld	c,l
1289  025D  44          	ld	b,h
1290  025E  2A 00 00    	ld	hl,(_index1)
1291  0261  11 00 00    	ld	de,_scr_map
1292  0264  19          	add	hl,de
1293  0265  7E          	ld	a,(hl)
1294  0266  02          	ld	(bc),a
1295  0267  01 00 00    	ld	bc,_scr_map
1296  026A  2A 00 00    	ld	hl,(_index1)
1297  026D  09          	add	hl,bc
1298  026E  7E          	ld	a,(hl)
1299  026F  F5          	push	af
1300  0270  33          	inc	sp
1301  0271  CD DB 02    	call	_game_add_enemy
1302  0274  33          	inc	sp
1303  0275  18 45       	jr	l_game_draw_screen_00115
1304  0277              l_game_draw_screen_00114:
1305  0277  2A 00 00    	ld	hl,(_index1)
1306  027A  E5          	push	hl
1307  027B  CD 69 0A    	call	_game_obj_chk
1308  027E  F1          	pop	af
1309  027F  7D          	ld	a, l
1310  0280  B7          	or	a, a
1311  0281  20 2B       	jr	NZ,l_game_draw_screen_00112
1312  0283  3E 00       	ld	a, +((_mush_index) & 0xFF)
1313  0285  DD 86 FF    	add	a,(ix-1)
1314  0288  4F          	ld	c, a
1315  0289  3E 00       	ld	a, +((_mush_index) / 256)
1316  028B  CE 00       	adc	a,0x00
1317  028D  47          	ld	b, a
1318  028E  21 00 00    	ld	hl,_index1
1319  0291  7E          	ld	a, (hl)
1320  0292  C6 10       	add	a,0x10
1321  0294  02          	ld	(bc), a
1322  0295  3E 00       	ld	a, +((_mush_class) & 0xFF)
1323  0297  DD 86 FF    	add	a,(ix-1)
1324  029A  4F          	ld	c, a
1325  029B  3E 00       	ld	a, +((_mush_class) / 256)
1326  029D  CE 00       	adc	a,0x00
1327  029F  47          	ld	b, a
1328  02A0  3E 00       	ld	a, +((_scr_map) & 0xFF)
1329  02A2  86          	add	a, (hl)
1330  02A3  5F          	ld	e, a
1331  02A4  3E 00       	ld	a, +((_scr_map) / 256)
1332  02A6  23          	inc	hl
1333  02A7  8E          	adc	a, (hl)
1334  02A8  57          	ld	d, a
1335  02A9  1A          	ld	a, (de)
1336  02AA  02          	ld	(bc), a
1337  02AB  DD 34 FF    	inc	(ix-1)
1338  02AE              l_game_draw_screen_00112:
1339  02AE  2A FF FF    	ld	hl,(_s_col1 - 1)
1340  02B1  3A 00 00    	ld	a,(_s_lin1)
1341  02B4  6F          	ld	l,a
1342  02B5  E5          	push	hl
1343  02B6  AF          	xor	a, a
1344  02B7  F5          	push	af
1345  02B8  33          	inc	sp
1346  02B9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1347  02BC              l_game_draw_screen_00115:
1348  02BC  01 00 00    	ld	bc,_scr_map
1349  02BF  2A 00 00    	ld	hl,(_index1)
1350  02C2  09          	add	hl,bc
1351  02C3  AF          	xor	a,a
1352  02C4  77          	ld	(hl),a
1353  02C5              l_game_draw_screen_00118:
1354  02C5  21 00 00    	ld	hl,_s_col1
1355  02C8  34          	inc	(hl)
1356  02C9  34          	inc	(hl)
1357  02CA  21 00 00    	ld	hl,_index1
1358  02CD  34          	inc	(hl)
1359  02CE  C2 D9 01    	jp	NZ,l_game_draw_screen_00119
1360  02D1  23          	inc	hl
1361  02D2  34          	inc	(hl)
1362  02D3  C3 D9 01    	jp	l_game_draw_screen_00119
1363  02D6              l_game_draw_screen_00121:
1364  02D6  FB          	ei
1365  02D7  33          	inc	sp
1366  02D8  DD E1       	pop	ix
1367  02DA  C9          	ret
1368  02DB              	SECTION code_compiler
1369  02DB              ;	---------------------------------
1370  02DB              ; Function game_add_enemy
1371  02DB              ; ---------------------------------
1372  02DB              _game_add_enemy:
1373  02DB  CD 00 00    	call	___sdcc_enter_ix
1374  02DE  DD 7E 04    	ld	a,(ix+4)
1375  02E1  D6 54       	sub	a,0x54
1376  02E3  DA B7 04    	jp	C, l_game_add_enemy_00120
1377  02E6  3E 65       	ld	a,0x65
1378  02E8  DD 96 04    	sub	a,(ix+4)
1379  02EB  DA B7 04    	jp	C, l_game_add_enemy_00120
1380  02EE  DD 7E 04    	ld	a,(ix+4)
1381  02F1  C6 AC       	add	a,0xac
1382  02F3  4F          	ld	c, a
1383  02F4  06 00       	ld	b,0x00
1384  02F6  21 FD 02    	ld	hl,l_game_add_enemy_00130
1385  02F9  09          	add	hl, bc
1386  02FA  09          	add	hl, bc
1387  02FB  09          	add	hl, bc
1388  02FC  E9          	jp	(hl)
1389  02FD              l_game_add_enemy_00130:
1390  02FD  C3 49 03    	jp	l_game_add_enemy_00102
1391  0300  C3 33 03    	jp	l_game_add_enemy_00101
1392  0303  C3 75 03    	jp	l_game_add_enemy_00104
1393  0306  C3 5F 03    	jp	l_game_add_enemy_00103
1394  0309  C3 A1 03    	jp	l_game_add_enemy_00106
1395  030C  C3 8B 03    	jp	l_game_add_enemy_00105
1396  030F  C3 CD 03    	jp	l_game_add_enemy_00108
1397  0312  C3 B7 03    	jp	l_game_add_enemy_00107
1398  0315  C3 F9 03    	jp	l_game_add_enemy_00110
1399  0318  C3 E3 03    	jp	l_game_add_enemy_00109
1400  031B  C3 25 04    	jp	l_game_add_enemy_00112
1401  031E  C3 0F 04    	jp	l_game_add_enemy_00111
1402  0321  C3 3B 04    	jp	l_game_add_enemy_00113
1403  0324  C3 50 04    	jp	l_game_add_enemy_00114
1404  0327  C3 65 04    	jp	l_game_add_enemy_00115
1405  032A  C3 7A 04    	jp	l_game_add_enemy_00116
1406  032D  C3 8F 04    	jp	l_game_add_enemy_00117
1407  0330  C3 A4 04    	jp	l_game_add_enemy_00118
1408  0333              l_game_add_enemy_00101:
1409  0333  3A 00 00    	ld	a,(_s_col1)
1410  0336  21 0B 01    	ld	hl,0x010b
1411  0339  E5          	push	hl
1412  033A  F5          	push	af
1413  033B  33          	inc	sp
1414  033C  3A 00 00    	ld	a,(_s_lin1)
1415  033F  F5          	push	af
1416  0340  33          	inc	sp
1417  0341  CD 00 00    	call	_enemy_init
1418  0344  F1          	pop	af
1419  0345  F1          	pop	af
1420  0346  C3 B7 04    	jp	l_game_add_enemy_00120
1421  0349              l_game_add_enemy_00102:
1422  0349  3A 00 00    	ld	a,(_s_col1)
1423  034C  21 0B FF    	ld	hl,0xff0b
1424  034F  E5          	push	hl
1425  0350  F5          	push	af
1426  0351  33          	inc	sp
1427  0352  3A 00 00    	ld	a,(_s_lin1)
1428  0355  F5          	push	af
1429  0356  33          	inc	sp
1430  0357  CD 00 00    	call	_enemy_init
1431  035A  F1          	pop	af
1432  035B  F1          	pop	af
1433  035C  C3 B7 04    	jp	l_game_add_enemy_00120
1434  035F              l_game_add_enemy_00103:
1435  035F  3A 00 00    	ld	a,(_s_col1)
1436  0362  21 0C 01    	ld	hl,0x010c
1437  0365  E5          	push	hl
1438  0366  F5          	push	af
1439  0367  33          	inc	sp
1440  0368  3A 00 00    	ld	a,(_s_lin1)
1441  036B  F5          	push	af
1442  036C  33          	inc	sp
1443  036D  CD 00 00    	call	_enemy_init
1444  0370  F1          	pop	af
1445  0371  F1          	pop	af
1446  0372  C3 B7 04    	jp	l_game_add_enemy_00120
1447  0375              l_game_add_enemy_00104:
1448  0375  3A 00 00    	ld	a,(_s_col1)
1449  0378  21 0C FF    	ld	hl,0xff0c
1450  037B  E5          	push	hl
1451  037C  F5          	push	af
1452  037D  33          	inc	sp
1453  037E  3A 00 00    	ld	a,(_s_lin1)
1454  0381  F5          	push	af
1455  0382  33          	inc	sp
1456  0383  CD 00 00    	call	_enemy_init
1457  0386  F1          	pop	af
1458  0387  F1          	pop	af
1459  0388  C3 B7 04    	jp	l_game_add_enemy_00120
1460  038B              l_game_add_enemy_00105:
1461  038B  3A 00 00    	ld	a,(_s_col1)
1462  038E  21 0D 01    	ld	hl,0x010d
1463  0391  E5          	push	hl
1464  0392  F5          	push	af
1465  0393  33          	inc	sp
1466  0394  3A 00 00    	ld	a,(_s_lin1)
1467  0397  F5          	push	af
1468  0398  33          	inc	sp
1469  0399  CD 00 00    	call	_enemy_init
1470  039C  F1          	pop	af
1471  039D  F1          	pop	af
1472  039E  C3 B7 04    	jp	l_game_add_enemy_00120
1473  03A1              l_game_add_enemy_00106:
1474  03A1  3A 00 00    	ld	a,(_s_col1)
1475  03A4  21 0D FF    	ld	hl,0xff0d
1476  03A7  E5          	push	hl
1477  03A8  F5          	push	af
1478  03A9  33          	inc	sp
1479  03AA  3A 00 00    	ld	a,(_s_lin1)
1480  03AD  F5          	push	af
1481  03AE  33          	inc	sp
1482  03AF  CD 00 00    	call	_enemy_init
1483  03B2  F1          	pop	af
1484  03B3  F1          	pop	af
1485  03B4  C3 B7 04    	jp	l_game_add_enemy_00120
1486  03B7              l_game_add_enemy_00107:
1487  03B7  3A 00 00    	ld	a,(_s_col1)
1488  03BA  21 0E 01    	ld	hl,0x010e
1489  03BD  E5          	push	hl
1490  03BE  F5          	push	af
1491  03BF  33          	inc	sp
1492  03C0  3A 00 00    	ld	a,(_s_lin1)
1493  03C3  F5          	push	af
1494  03C4  33          	inc	sp
1495  03C5  CD 00 00    	call	_enemy_init
1496  03C8  F1          	pop	af
1497  03C9  F1          	pop	af
1498  03CA  C3 B7 04    	jp	l_game_add_enemy_00120
1499  03CD              l_game_add_enemy_00108:
1500  03CD  3A 00 00    	ld	a,(_s_col1)
1501  03D0  21 0E FF    	ld	hl,0xff0e
1502  03D3  E5          	push	hl
1503  03D4  F5          	push	af
1504  03D5  33          	inc	sp
1505  03D6  3A 00 00    	ld	a,(_s_lin1)
1506  03D9  F5          	push	af
1507  03DA  33          	inc	sp
1508  03DB  CD 00 00    	call	_enemy_init
1509  03DE  F1          	pop	af
1510  03DF  F1          	pop	af
1511  03E0  C3 B7 04    	jp	l_game_add_enemy_00120
1512  03E3              l_game_add_enemy_00109:
1513  03E3  3A 00 00    	ld	a,(_s_col1)
1514  03E6  21 0F 01    	ld	hl,0x010f
1515  03E9  E5          	push	hl
1516  03EA  F5          	push	af
1517  03EB  33          	inc	sp
1518  03EC  3A 00 00    	ld	a,(_s_lin1)
1519  03EF  F5          	push	af
1520  03F0  33          	inc	sp
1521  03F1  CD 00 00    	call	_enemy_init
1522  03F4  F1          	pop	af
1523  03F5  F1          	pop	af
1524  03F6  C3 B7 04    	jp	l_game_add_enemy_00120
1525  03F9              l_game_add_enemy_00110:
1526  03F9  3A 00 00    	ld	a,(_s_col1)
1527  03FC  21 0F FF    	ld	hl,0xff0f
1528  03FF  E5          	push	hl
1529  0400  F5          	push	af
1530  0401  33          	inc	sp
1531  0402  3A 00 00    	ld	a,(_s_lin1)
1532  0405  F5          	push	af
1533  0406  33          	inc	sp
1534  0407  CD 00 00    	call	_enemy_init
1535  040A  F1          	pop	af
1536  040B  F1          	pop	af
1537  040C  C3 B7 04    	jp	l_game_add_enemy_00120
1538  040F              l_game_add_enemy_00111:
1539  040F  3A 00 00    	ld	a,(_s_col1)
1540  0412  21 02 01    	ld	hl,0x0102
1541  0415  E5          	push	hl
1542  0416  F5          	push	af
1543  0417  33          	inc	sp
1544  0418  3A 00 00    	ld	a,(_s_lin1)
1545  041B  F5          	push	af
1546  041C  33          	inc	sp
1547  041D  CD 00 00    	call	_enemy_init
1548  0420  F1          	pop	af
1549  0421  F1          	pop	af
1550  0422  C3 B7 04    	jp	l_game_add_enemy_00120
1551  0425              l_game_add_enemy_00112:
1552  0425  3A 00 00    	ld	a,(_s_col1)
1553  0428  21 02 FF    	ld	hl,0xff02
1554  042B  E5          	push	hl
1555  042C  F5          	push	af
1556  042D  33          	inc	sp
1557  042E  3A 00 00    	ld	a,(_s_lin1)
1558  0431  F5          	push	af
1559  0432  33          	inc	sp
1560  0433  CD 00 00    	call	_enemy_init
1561  0436  F1          	pop	af
1562  0437  F1          	pop	af
1563  0438  C3 B7 04    	jp	l_game_add_enemy_00120
1564  043B              l_game_add_enemy_00113:
1565  043B  3A 00 00    	ld	a,(_s_col1)
1566  043E  21 03 01    	ld	hl,0x0103
1567  0441  E5          	push	hl
1568  0442  F5          	push	af
1569  0443  33          	inc	sp
1570  0444  3A 00 00    	ld	a,(_s_lin1)
1571  0447  F5          	push	af
1572  0448  33          	inc	sp
1573  0449  CD 00 00    	call	_enemy_init
1574  044C  F1          	pop	af
1575  044D  F1          	pop	af
1576  044E  18 67       	jr	l_game_add_enemy_00120
1577  0450              l_game_add_enemy_00114:
1578  0450  3A 00 00    	ld	a,(_s_col1)
1579  0453  21 04 01    	ld	hl,0x0104
1580  0456  E5          	push	hl
1581  0457  F5          	push	af
1582  0458  33          	inc	sp
1583  0459  3A 00 00    	ld	a,(_s_lin1)
1584  045C  F5          	push	af
1585  045D  33          	inc	sp
1586  045E  CD 00 00    	call	_enemy_init
1587  0461  F1          	pop	af
1588  0462  F1          	pop	af
1589  0463  18 52       	jr	l_game_add_enemy_00120
1590  0465              l_game_add_enemy_00115:
1591  0465  3A 00 00    	ld	a,(_s_col1)
1592  0468  21 05 01    	ld	hl,0x0105
1593  046B  E5          	push	hl
1594  046C  F5          	push	af
1595  046D  33          	inc	sp
1596  046E  3A 00 00    	ld	a,(_s_lin1)
1597  0471  F5          	push	af
1598  0472  33          	inc	sp
1599  0473  CD 00 00    	call	_enemy_init
1600  0476  F1          	pop	af
1601  0477  F1          	pop	af
1602  0478  18 3D       	jr	l_game_add_enemy_00120
1603  047A              l_game_add_enemy_00116:
1604  047A  3A 00 00    	ld	a,(_s_col1)
1605  047D  21 10 01    	ld	hl,0x0110
1606  0480  E5          	push	hl
1607  0481  F5          	push	af
1608  0482  33          	inc	sp
1609  0483  3A 00 00    	ld	a,(_s_lin1)
1610  0486  F5          	push	af
1611  0487  33          	inc	sp
1612  0488  CD 00 00    	call	_enemy_init
1613  048B  F1          	pop	af
1614  048C  F1          	pop	af
1615  048D  18 28       	jr	l_game_add_enemy_00120
1616  048F              l_game_add_enemy_00117:
1617  048F  3A 00 00    	ld	a,(_s_col1)
1618  0492  21 12 01    	ld	hl,0x0112
1619  0495  E5          	push	hl
1620  0496  F5          	push	af
1621  0497  33          	inc	sp
1622  0498  3A 00 00    	ld	a,(_s_lin1)
1623  049B  F5          	push	af
1624  049C  33          	inc	sp
1625  049D  CD 00 00    	call	_enemy_init
1626  04A0  F1          	pop	af
1627  04A1  F1          	pop	af
1628  04A2  18 13       	jr	l_game_add_enemy_00120
1629  04A4              l_game_add_enemy_00118:
1630  04A4  3A 00 00    	ld	a,(_s_col1)
1631  04A7  21 13 01    	ld	hl,0x0113
1632  04AA  E5          	push	hl
1633  04AB  F5          	push	af
1634  04AC  33          	inc	sp
1635  04AD  3A 00 00    	ld	a,(_s_lin1)
1636  04B0  F5          	push	af
1637  04B1  33          	inc	sp
1638  04B2  CD 00 00    	call	_enemy_init
1639  04B5  F1          	pop	af
1640  04B6  F1          	pop	af
1641  04B7              l_game_add_enemy_00120:
1642  04B7  DD E1       	pop	ix
1643  04B9  C9          	ret
1644  04BA              	SECTION code_compiler
1645  04BA              ;	---------------------------------
1646  04BA              ; Function game_print_footer
1647  04BA              ; ---------------------------------
1648  04BA              _game_print_footer:
1649  04BA  21 00 00    	ld	hl,_screen_ink
1650  04BD  36 05       	ld	(hl),0x05
1651  04BF  21 13 62    	ld	hl,0x6213
1652  04C2  E5          	push	hl
1653  04C3  CD 00 00    	call	_game_fill_row
1654  04C6  21 00 00    	ld	hl,___str_0
1655  04C9  E5          	push	hl
1656  04CA  21 13 00    	ld	hl,0x0013
1657  04CD  E5          	push	hl
1658  04CE  CD 00 00    	call	_zx_print_str
1659  04D1  21 02 00    	ld	hl,___str_1
1660  04D4  E5          	push	hl
1661  04D5  21 13 1F    	ld	hl,0x1f13
1662  04D8  E5          	push	hl
1663  04D9  CD 00 00    	call	_zx_print_str
1664  04DC  21 04 00    	ld	hl,___str_2
1665  04DF  E5          	push	hl
1666  04E0  21 14 00    	ld	hl,0x0014
1667  04E3  E5          	push	hl
1668  04E4  CD 00 00    	call	_zx_print_str
1669  04E7  21 06 00    	ld	hl,___str_3
1670  04EA  E5          	push	hl
1671  04EB  21 14 1F    	ld	hl,0x1f14
1672  04EE  E5          	push	hl
1673  04EF  CD 00 00    	call	_zx_print_str
1674  04F2  21 04 00    	ld	hl,___str_2
1675  04F5  E5          	push	hl
1676  04F6  21 15 00    	ld	hl,0x0015
1677  04F9  E5          	push	hl
1678  04FA  CD 00 00    	call	_zx_print_str
1679  04FD  21 06 00    	ld	hl,___str_3
1680  0500  E5          	push	hl
1681  0501  21 15 1F    	ld	hl,0x1f15
1682  0504  E5          	push	hl
1683  0505  CD 00 00    	call	_zx_print_str
1684  0508  21 04 00    	ld	hl,___str_2
1685  050B  E5          	push	hl
1686  050C  21 16 00    	ld	hl,0x0016
1687  050F  E5          	push	hl
1688  0510  CD 00 00    	call	_zx_print_str
1689  0513  21 06 00    	ld	hl,___str_3
1690  0516  E5          	push	hl
1691  0517  21 16 1F    	ld	hl,0x1f16
1692  051A  E5          	push	hl
1693  051B  CD 00 00    	call	_zx_print_str
1694  051E  21 17 62    	ld	hl,0x6217
1695  0521  E5          	push	hl
1696  0522  CD 00 00    	call	_game_fill_row
1697  0525  21 08 00    	ld	hl,___str_4
1698  0528  E5          	push	hl
1699  0529  21 17 00    	ld	hl,0x0017
1700  052C  E5          	push	hl
1701  052D  CD 00 00    	call	_zx_print_str
1702  0530  21 0A 00    	ld	hl,___str_5
1703  0533  E5          	push	hl
1704  0534  21 17 1F    	ld	hl,0x1f17
1705  0537  E5          	push	hl
1706  0538  CD 00 00    	call	_zx_print_str
1707  053B  21 00 00    	ld	hl,_screen_ink
1708  053E  36 05       	ld	(hl),0x05
1709  0540  21 0C 00    	ld	hl,___str_6
1710  0543  E5          	push	hl
1711  0544  21 14 01    	ld	hl,0x0114
1712  0547  E5          	push	hl
1713  0548  CD 00 00    	call	_zx_print_str
1714  054B  21 00 00    	ld	hl,_screen_ink
1715  054E  36 06       	ld	(hl),0x06
1716  0550  21 0E 00    	ld	hl,___str_7
1717  0553  E5          	push	hl
1718  0554  21 15 01    	ld	hl,0x0115
1719  0557  E5          	push	hl
1720  0558  CD 00 00    	call	_zx_print_str
1721  055B  21 10 00    	ld	hl,___str_8
1722  055E  E5          	push	hl
1723  055F  21 17 14    	ld	hl,0x1417
1724  0562  E5          	push	hl
1725  0563  CD 00 00    	call	_zx_print_str
1726  0566  21 00 00    	ld	hl,_screen_ink
1727  0569  36 02       	ld	(hl),0x02
1728  056B  21 15 00    	ld	hl,___str_9
1729  056E  E5          	push	hl
1730  056F  21 14 07    	ld	hl,0x0714
1731  0572  E5          	push	hl
1732  0573  CD 00 00    	call	_zx_print_str
1733  0576  21 00 00    	ld	hl,_screen_ink
1734  0579  36 01       	ld	(hl),0x01
1735  057B  21 17 00    	ld	hl,___str_10
1736  057E  E5          	push	hl
1737  057F  21 14 0D    	ld	hl,0x0d14
1738  0582  E5          	push	hl
1739  0583  CD 00 00    	call	_zx_print_str
1740  0586  21 00 00    	ld	hl,_screen_ink
1741  0589  36 06       	ld	(hl),0x06
1742  058B  21 19 00    	ld	hl,___str_11
1743  058E  E5          	push	hl
1744  058F  21 16 0E    	ld	hl,0x0e16
1745  0592  E5          	push	hl
1746  0593  CD 00 00    	call	_zx_print_str
1747  0596  21 1B 00    	ld	hl,___str_12
1748  0599  E5          	push	hl
1749  059A  21 16 14    	ld	hl,0x1416
1750  059D  E5          	push	hl
1751  059E  CD 00 00    	call	_zx_print_str
1752  05A1  21 1D 00    	ld	hl,___str_13
1753  05A4  E5          	push	hl
1754  05A5  21 16 1A    	ld	hl,0x1a16
1755  05A8  E5          	push	hl
1756  05A9  CD 00 00    	call	_zx_print_str
1757  05AC  CD C1 05    	call	_game_print_lives
1758  05AF  C9          	ret
1759  05B0              	SECTION rodata_compiler
1760  0000              ___str_0:
1761  0000  61          	DEFM "a"
1762  0001  00          	DEFB 0x00
1763  0002              	SECTION rodata_compiler
1764  0002              ___str_1:
1765  0002  63          	DEFM "c"
1766  0003  00          	DEFB 0x00
1767  0004              	SECTION rodata_compiler
1768  0004              ___str_2:
1769  0004  64          	DEFM "d"
1770  0005  00          	DEFB 0x00
1771  0006              	SECTION rodata_compiler
1772  0006              ___str_3:
1773  0006  65          	DEFM "e"
1774  0007  00          	DEFB 0x00
1775  0008              	SECTION rodata_compiler
1776  0008              ___str_4:
1777  0008  66          	DEFM "f"
1778  0009  00          	DEFB 0x00
1779  000A              	SECTION rodata_compiler
1780  000A              ___str_5:
1781  000A  67          	DEFM "g"
1782  000B  00          	DEFB 0x00
1783  000C              	SECTION rodata_compiler
1784  000C              ___str_6:
1785  000C  3C          	DEFM "<"
1786  000D  00          	DEFB 0x00
1787  000E              	SECTION rodata_compiler
1788  000E              ___str_7:
1789  000E  5C          	DEFB 0x5c
1790  000F  00          	DEFB 0x00
1791  0010              	SECTION rodata_compiler
1792  0010              ___str_8:
1793  0010  4C 50 53 3A 	DEFM "LPS:"
1794  0014  00          	DEFB 0x00
1795  0015              	SECTION rodata_compiler
1796  0015              ___str_9:
1797  0015  6A          	DEFM "j"
1798  0016  00          	DEFB 0x00
1799  0017              	SECTION rodata_compiler
1800  0017              ___str_10:
1801  0017  6B          	DEFM "k"
1802  0018  00          	DEFB 0x00
1803  0019              	SECTION rodata_compiler
1804  0019              ___str_11:
1805  0019  6D          	DEFM "m"
1806  001A  00          	DEFB 0x00
1807  001B              	SECTION rodata_compiler
1808  001B              ___str_12:
1809  001B  6E          	DEFM "n"
1810  001C  00          	DEFB 0x00
1811  001D              	SECTION rodata_compiler
1812  001D              ___str_13:
1813  001D  6F          	DEFM "o"
1814  001E  00          	DEFB 0x00
1815  001F              	SECTION code_compiler
1816  05B0              ;	---------------------------------
1817  05B0              ; Function game_phase_print_score_back
1818  05B0              ; ---------------------------------
1819  05B0              _game_phase_print_score_back:
1820  05B0  21 00 00    	ld	hl,_screen_ink
1821  05B3  36 02       	ld	(hl),0x02
1822  05B5  21 1F 00    	ld	hl,___str_14
1823  05B8  E5          	push	hl
1824  05B9  21 00 0B    	ld	hl,0x0b00
1825  05BC  E5          	push	hl
1826  05BD  CD 00 00    	call	_zx_print_str
1827  05C0  C9          	ret
1828  05C1              	SECTION rodata_compiler
1829  001F              ___str_14:
1830  001F  24 25 7C    	DEFM "$%|"
1831  0022  00          	DEFB 0x00
1832  0023              	SECTION code_compiler
1833  05C1              ;	---------------------------------
1834  05C1              ; Function game_print_lives
1835  05C1              ; ---------------------------------
1836  05C1              _game_print_lives:
1837  05C1  21 00 00    	ld	hl,_screen_ink
1838  05C4  36 07       	ld	(hl),0x07
1839  05C6  3A 00 00    	ld	a,(_player_lives)
1840  05C9  C6 FF       	add	a,0xff
1841  05CB  21 00 00    	ld	hl,_tmp
1842  05CE  77          	ld	(hl),a
1843  05CF  D6 FF       	sub	a,0xff
1844  05D1  30 0A       	jr	NC,l_game_print_lives_00102
1845  05D3  7E          	ld	a, (hl)
1846  05D4  F5          	push	af
1847  05D5  33          	inc	sp
1848  05D6  21 14 03    	ld	hl,0x0314
1849  05D9  E5          	push	hl
1850  05DA  CD 00 00    	call	_zx_print_chr
1851  05DD              l_game_print_lives_00102:
1852  05DD  3A 00 00    	ld	a,(_player_str)
1853  05E0  F5          	push	af
1854  05E1  33          	inc	sp
1855  05E2  21 16 10    	ld	hl,0x1016
1856  05E5  E5          	push	hl
1857  05E6  CD 00 00    	call	_zx_print_chr
1858  05E9  3A 00 00    	ld	a,(_player_dex)
1859  05EC  F5          	push	af
1860  05ED  33          	inc	sp
1861  05EE  21 16 16    	ld	hl,0x1616
1862  05F1  E5          	push	hl
1863  05F2  CD 00 00    	call	_zx_print_chr
1864  05F5  3A 00 00    	ld	a,(_player_int)
1865  05F8  F5          	push	af
1866  05F9  33          	inc	sp
1867  05FA  21 16 1C    	ld	hl,0x1c16
1868  05FD  E5          	push	hl
1869  05FE  CD 00 00    	call	_zx_print_chr
1870  0601  21 00 00    	ld	hl,_screen_ink
1871  0604  36 02       	ld	(hl),0x02
1872  0606  3A 00 00    	ld	a,(_player_vita)
1873  0609  F5          	push	af
1874  060A  33          	inc	sp
1875  060B  21 14 09    	ld	hl,0x0914
1876  060E  E5          	push	hl
1877  060F  CD 00 00    	call	_zx_print_chr
1878  0612  21 00 00    	ld	hl,_screen_ink
1879  0615  36 01       	ld	(hl),0x01
1880  0617  3A 00 00    	ld	a,(_player_mana)
1881  061A  F5          	push	af
1882  061B  33          	inc	sp
1883  061C  21 14 0F    	ld	hl,0x0f14
1884  061F  E5          	push	hl
1885  0620  CD 00 00    	call	_zx_print_chr
1886  0623  C9          	ret
1887  0624              	SECTION code_compiler
1888  0624              ;	---------------------------------
1889  0624              ; Function game_tick
1890  0624              ; ---------------------------------
1891  0624              _game_tick:
1892  0624  21 00 00    	ld	hl,_curr_time
1893  0627  34          	inc	(hl)
1894  0628  C2 00 00    	jp	NZ,_zx_isr
1895  062B  23          	inc	hl
1896  062C  34          	inc	(hl)
1897  062D  C3 00 00    	jp  _zx_isr
1898  0630              	SECTION code_compiler
1899  0630              ;	---------------------------------
1900  0630              ; Function game_start_timer
1901  0630              ; ---------------------------------
1902  0630              _game_start_timer:
1903  0630  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1904  0633  36 CD       	ld	(hl),0xcd
1905  0635  23          	inc	hl
1906  0636  11 24 06    	ld	de,_game_tick
1907  0639  73          	ld	(hl), e
1908  063A  23          	inc	hl
1909  063B  72          	ld	(hl), d
1910  063C  C9          	ret
1911  063D              	SECTION code_compiler
1912  063D              ;	---------------------------------
1913  063D              ; Function game_phase_init
1914  063D              ; ---------------------------------
1915  063D              _game_phase_init:
1916  063D  21 00 00    	ld	hl,0x0000
1917  0640  22 00 00    	ld	(_loop_count),hl
1918  0643  22 00 00    	ld	(_entry_time),hl
1919  0646  21 00 00    	ld	hl,0
1920  0649  22 00 00    	ld	(_curr_time),hl
1921  064C  21 00 00    	ld	hl,0x0000
1922  064F  22 00 00    	ld	(_frame_time),hl
1923  0652  CD 00 00    	call	_ay_reset
1924  0655  CD 00 00    	call	_spr_draw_clear
1925  0658  CD 6E 01    	call	_game_draw_screen
1926  065B  CD 74 06    	call	_game_print_header
1927  065E  CD BA 04    	call	_game_print_footer
1928  0661  3A 00 00    	ld	a,(_player_lives)
1929  0664  B7          	or	a, a
1930  0665  C8          	ret	Z
1931  0666  21 02 64    	ld	hl,0x6402
1932  0669  E5          	push	hl
1933  066A  21 07 80    	ld	hl,0x8007
1934  066D  E5          	push	hl
1935  066E  CD 00 00    	call	_player_init
1936  0671  F1          	pop	af
1937  0672  F1          	pop	af
1938  0673  C9          	ret
1939  0674              	SECTION code_compiler
1940  0674              ;	---------------------------------
1941  0674              ; Function game_print_header
1942  0674              ; ---------------------------------
1943  0674              _game_print_header:
1944  0674  CD B0 05    	call	_game_phase_print_score_back
1945  0677  21 00 00    	ld	hl,_screen_ink
1946  067A  36 07       	ld	(hl),0x07
1947  067C  C3 9E 07    	jp  _game_print_score
1948  067F              	SECTION code_compiler
1949  067F              ;	---------------------------------
1950  067F              ; Function game_print_phase
1951  067F              ; ---------------------------------
1952  067F              _game_print_phase:
1953  067F  21 23 00    	ld	hl,___str_15
1954  0682  E5          	push	hl
1955  0683  21 17 0B    	ld	hl,0x0b17
1956  0686  E5          	push	hl
1957  0687  CD 00 00    	call	_zx_print_str
1958  068A  21 00 00    	ld	hl,_phase_curr
1959  068D  46          	ld	b, (hl)
1960  068E  04          	inc	b
1961  068F  C5          	push	bc
1962  0690  33          	inc	sp
1963  0691  21 17 12    	ld	hl,0x1217
1964  0694  E5          	push	hl
1965  0695  CD 00 00    	call	_zx_print_chr
1966  0698  C9          	ret
1967  0699              	SECTION rodata_compiler
1968  0023              ___str_15:
1969  0023  50 48 41 53 45 
                        	DEFM "PHASE"
1970  0028  00          	DEFB 0x00
1971  0029              	SECTION code_compiler
1972  0699              ;	---------------------------------
1973  0699              ; Function game_check_map
1974  0699              ; ---------------------------------
1975  0699              _game_check_map:
1976  0699  CD 00 00    	call	___sdcc_enter_ix
1977  069C  DD CB 05 46 	bit	0,(ix+5)
1978  06A0  20 15       	jr	NZ,l_game_check_map_00106
1979  06A2  DD 66 05    	ld	h,(ix+5)
1980  06A5  DD 6E 04    	ld	l,(ix+4)
1981  06A8  E5          	push	hl
1982  06A9  CD 00 00    	call	_spr_calc_index
1983  06AC  F1          	pop	af
1984  06AD  22 00 00    	ld	(_index1),hl
1985  06B0  CD 02 07    	call	_game_check_cell
1986  06B3  26 00       	ld	h,0x00
1987  06B5  18 48       	jr	l_game_check_map_00108
1988  06B7              l_game_check_map_00106:
1989  06B7  21 00 00    	ld	hl,_g_player_hit_left
1990  06BA  36 00       	ld	(hl),0x00
1991  06BC  21 00 00    	ld	hl,_g_player_hit_right
1992  06BF  36 00       	ld	(hl),0x00
1993  06C1  DD 46 05    	ld	b,(ix+5)
1994  06C4  05          	dec	b
1995  06C5  DD 4E 04    	ld	c,(ix+4)
1996  06C8  C5          	push	bc
1997  06C9  CD 00 00    	call	_spr_calc_index
1998  06CC  F1          	pop	af
1999  06CD  22 00 00    	ld	(_index1),hl
2000  06D0  CD 02 07    	call	_game_check_cell
2001  06D3  7D          	ld	a, l
2002  06D4  B7          	or	a, a
2003  06D5  28 05       	jr	Z,l_game_check_map_00102
2004  06D7  21 00 00    	ld	hl,_g_player_hit_left
2005  06DA  36 01       	ld	(hl),0x01
2006  06DC              l_game_check_map_00102:
2007  06DC  2A 00 00    	ld	hl,(_index1)
2008  06DF  23          	inc	hl
2009  06E0  CD 02 07    	call	_game_check_cell
2010  06E3  7D          	ld	a, l
2011  06E4  B7          	or	a, a
2012  06E5  28 05       	jr	Z,l_game_check_map_00104
2013  06E7  21 00 00    	ld	hl,_g_player_hit_right
2014  06EA  36 01       	ld	(hl),0x01
2015  06EC              l_game_check_map_00104:
2016  06EC  3A 00 00    	ld	a,(_g_player_hit_left)
2017  06EF  B7          	or	a, a
2018  06F0  20 09       	jr	NZ,l_game_check_map_00111
2019  06F2  3A 00 00    	ld	a,(_g_player_hit_right)
2020  06F5  B7          	or	a,a
2021  06F6  20 03       	jr	NZ,l_game_check_map_00111
2022  06F8  6F          	ld	l,a
2023  06F9  18 02       	jr	l_game_check_map_00112
2024  06FB              l_game_check_map_00111:
2025  06FB  2E 01       	ld	l,0x01
2026  06FD              l_game_check_map_00112:
2027  06FD  26 00       	ld	h,0x00
2028  06FF              l_game_check_map_00108:
2029  06FF  DD E1       	pop	ix
2030  0701  C9          	ret
2031  0702              	SECTION code_compiler
2032  0702              ;	---------------------------------
2033  0702              ; Function game_check_cell
2034  0702              ; ---------------------------------
2035  0702              _game_check_cell:
2036  0702  3E A0       	ld	a,0xa0
2037  0704  BD          	cp	a,l
2038  0705  3E 00       	ld	a,0x00
2039  0707  9C          	sbc	a,h
2040  0708  4D          	ld	c,l
2041  0709  44          	ld	b,h
2042  070A  E2 0F 07    	jp	PO, l_game_check_cell_00166
2043  070D  EE 80       	xor	a,0x80
2044  070F              l_game_check_cell_00166:
2045  070F  F2 16 07    	jp	P, l_game_check_cell_00102
2046  0712  2E 01       	ld	l,0x01
2047  0714  18 63       	jr	l_game_check_cell_00124
2048  0716              l_game_check_cell_00102:
2049  0716  21 00 00    	ld	hl,_scr_map
2050  0719  09          	add	hl, bc
2051  071A  7E          	ld	a,(hl)
2052  071B  57          	ld	d,a
2053  071C  D6 30       	sub	a,0x30
2054  071E  30 04       	jr	NC,l_game_check_cell_00104
2055  0720  2E 00       	ld	l,0x00
2056  0722  18 55       	jr	l_game_check_cell_00124
2057  0724              l_game_check_cell_00104:
2058  0724  3A 00 00    	ld	a,(_s_state)
2059  0727  E6 02       	and	a,0x02
2060  0729  5F          	ld	e, a
2061  072A  7A          	ld	a, d
2062  072B  D6 38       	sub	a,0x38
2063  072D  30 0C       	jr	NC,l_game_check_cell_00109
2064  072F  7B          	ld	a, e
2065  0730  B7          	or	a, a
2066  0731  28 04       	jr	Z,l_game_check_cell_00106
2067  0733  2E 01       	ld	l,0x01
2068  0735  18 42       	jr	l_game_check_cell_00124
2069  0737              l_game_check_cell_00106:
2070  0737  2E 00       	ld	l,0x00
2071  0739  18 3E       	jr	l_game_check_cell_00124
2072  073B              l_game_check_cell_00109:
2073  073B  7A          	ld	a, d
2074  073C  D6 3C       	sub	a,0x3c
2075  073E  30 16       	jr	NC,l_game_check_cell_00117
2076  0740  3A 00 00    	ld	a,(_sprite_horizontal_check)
2077  0743  B7          	or	a, a
2078  0744  28 04       	jr	Z,l_game_check_cell_00114
2079  0746  2E 00       	ld	l,0x00
2080  0748  18 2F       	jr	l_game_check_cell_00124
2081  074A              l_game_check_cell_00114:
2082  074A  7B          	ld	a, e
2083  074B  B7          	or	a, a
2084  074C  28 04       	jr	Z,l_game_check_cell_00111
2085  074E  2E 01       	ld	l,0x01
2086  0750  18 27       	jr	l_game_check_cell_00124
2087  0752              l_game_check_cell_00111:
2088  0752  2E 00       	ld	l,0x00
2089  0754  18 23       	jr	l_game_check_cell_00124
2090  0756              l_game_check_cell_00117:
2091  0756  7A          	ld	a, d
2092  0757  D6 40       	sub	a,0x40
2093  0759  30 13       	jr	NC,l_game_check_cell_00121
2094  075B  3A 00 00    	ld	a,(_sprite)
2095  075E  D6 07       	sub	a,0x07
2096  0760  20 0C       	jr	NZ,l_game_check_cell_00121
2097  0762  D5          	push	de
2098  0763  33          	inc	sp
2099  0764  C5          	push	bc
2100  0765  CD 00 00    	call	_player_open_door
2101  0768  F1          	pop	af
2102  0769  33          	inc	sp
2103  076A  2E 01       	ld	l,0x01
2104  076C  18 0B       	jr	l_game_check_cell_00124
2105  076E              l_game_check_cell_00121:
2106  076E  7A          	ld	a, d
2107  076F  D6 54       	sub	a,0x54
2108  0771  30 04       	jr	NC,l_game_check_cell_00123
2109  0773  2E 01       	ld	l,0x01
2110  0775  18 02       	jr	l_game_check_cell_00124
2111  0777              l_game_check_cell_00123:
2112  0777  2E 00       	ld	l,0x00
2113  0779              l_game_check_cell_00124:
2114  0779  C9          	ret
2115  077A              	SECTION code_compiler
2116  077A              ;	---------------------------------
2117  077A              ; Function game_enemy_add_get_index
2118  077A              ; ---------------------------------
2119  077A              _game_enemy_add_get_index:
2120  077A  4D          	ld	c, l
2121  077B  21 00 00    	ld	hl,_enemies
2122  077E  36 00       	ld	(hl),0x00
2123  0780              l_game_enemy_add_get_index_00104:
2124  0780  2A 00 00    	ld	hl,(_enemies)
2125  0783  26 00       	ld	h,0x00
2126  0785  11 00 00    	ld	de,_class
2127  0788  19          	add	hl,de
2128  0789  7E          	ld	a,(hl)
2129  078A  91          	sub	a,c
2130  078B  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2131  078D  2A 00 00    	ld	hl,(_enemies)
2132  0790  18 0B       	jr	l_game_enemy_add_get_index_00106
2133  0792              l_game_enemy_add_get_index_00105:
2134  0792  21 00 00    	ld	hl,_enemies
2135  0795  34          	inc	(hl)
2136  0796  3E 05       	ld	a,0x05
2137  0798  96          	sub	a, (hl)
2138  0799  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2139  079B  2E FF       	ld	l,0xff
2140  079D              l_game_enemy_add_get_index_00106:
2141  079D  C9          	ret
2142  079E              	SECTION code_compiler
2143  079E              ;	---------------------------------
2144  079E              ; Function game_print_score
2145  079E              ; ---------------------------------
2146  079E              _game_print_score:
2147  079E  21 00 00    	ld	hl,_screen_ink
2148  07A1  36 07       	ld	(hl),0x07
2149  07A3  21 00 00    	ld	hl,_screen_paper
2150  07A6  36 00       	ld	(hl),0x00
2151  07A8  2A 00 00    	ld	hl,(_game_score_top)
2152  07AB  E5          	push	hl
2153  07AC  21 00 0E    	ld	hl,0x0e00
2154  07AF  E5          	push	hl
2155  07B0  CD 00 00    	call	_zx_print_int
2156  07B3  C9          	ret
2157  07B4              	SECTION code_compiler
2158  07B4              ;	---------------------------------
2159  07B4              ; Function game_paint_attrib
2160  07B4              ; ---------------------------------
2161  07B4              _game_paint_attrib:
2162  07B4  7D          	ld	a,l
2163  07B5  32 00 00    	ld	(_tmp0),a
2164  07B8              l_game_paint_attrib_00103:
2165  07B8  3E 13       	ld	a,0x13
2166  07BA  21 00 00    	ld	hl,_tmp0
2167  07BD  96          	sub	a, (hl)
2168  07BE  D8          	ret	C
2169  07BF  7E          	ld	a, (hl)
2170  07C0  07          	rlca
2171  07C1  07          	rlca
2172  07C2  07          	rlca
2173  07C3  E6 F8       	and	a,0xf8
2174  07C5  C6 08       	add	a,0x08
2175  07C7  F5          	push	af
2176  07C8  33          	inc	sp
2177  07C9  21 01 1F    	ld	hl,0x1f01
2178  07CC  E5          	push	hl
2179  07CD  CD D8 07    	call	_game_paint_attrib_lin
2180  07D0  F1          	pop	af
2181  07D1  33          	inc	sp
2182  07D2  21 00 00    	ld	hl,_tmp0
2183  07D5  34          	inc	(hl)
2184  07D6  18 E0       	jr	l_game_paint_attrib_00103
2185  07D8              	SECTION code_compiler
2186  07D8              ;	---------------------------------
2187  07D8              ; Function game_paint_attrib_lin
2188  07D8              ; ---------------------------------
2189  07D8              _game_paint_attrib_lin:
2190  07D8  CD 00 00    	call	___sdcc_enter_ix
2191  07DB  DD 7E 04    	ld	a,(ix+4)
2192  07DE  32 00 00    	ld	(_tmp_uc),a
2193  07E1              l_game_paint_attrib_lin_00103:
2194  07E1  21 00 00    	ld	hl,_tmp_uc
2195  07E4  7E          	ld	a, (hl)
2196  07E5  DD 96 05    	sub	a,(ix+5)
2197  07E8  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2198  07EA  66          	ld	h,(hl)
2199  07EB  DD 6E 06    	ld	l,(ix+6)
2200  07EE  E5          	push	hl
2201  07EF  21 00 00    	ld	hl,_attrib
2202  07F2  E5          	push	hl
2203  07F3  CD 00 00    	call	_NIRVANAP_paintC_callee
2204  07F6  21 00 00    	ld	hl,_tmp_uc
2205  07F9  34          	inc	(hl)
2206  07FA  18 E5       	jr	l_game_paint_attrib_lin_00103
2207  07FC              l_game_paint_attrib_lin_00105:
2208  07FC  DD E1       	pop	ix
2209  07FE  C9          	ret
2210  07FF              	SECTION code_compiler
2211  07FF              ;	---------------------------------
2212  07FF              ; Function game_paint_attrib_lin_h
2213  07FF              ; ---------------------------------
2214  07FF              _game_paint_attrib_lin_h:
2215  07FF  CD 00 00    	call	___sdcc_enter_ix
2216  0802  DD 7E 04    	ld	a,(ix+4)
2217  0805  32 00 00    	ld	(_tmp_uc),a
2218  0808              l_game_paint_attrib_lin_h_00103:
2219  0808  21 00 00    	ld	hl,_tmp_uc
2220  080B  7E          	ld	a, (hl)
2221  080C  DD 96 05    	sub	a,(ix+5)
2222  080F  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2223  0811  66          	ld	h,(hl)
2224  0812  DD 6E 06    	ld	l,(ix+6)
2225  0815  E5          	push	hl
2226  0816  21 00 00    	ld	hl,_attrib_hl
2227  0819  E5          	push	hl
2228  081A  CD 00 00    	call	_NIRVANAP_paintC_callee
2229  081D  21 00 00    	ld	hl,_tmp_uc
2230  0820  34          	inc	(hl)
2231  0821  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2232  0823              l_game_paint_attrib_lin_h_00105:
2233  0823  DD E1       	pop	ix
2234  0825  C9          	ret
2235  0826              	SECTION code_compiler
2236  0826              ;	---------------------------------
2237  0826              ; Function game_joystick_change
2238  0826              ; ---------------------------------
2239  0826              _game_joystick_change:
2240  0826  21 00 00    	ld	hl,_player_joy
2241  0829  34          	inc	(hl)
2242  082A  20 02       	jr	NZ,l_game_joystick_change_00109
2243  082C  23          	inc	hl
2244  082D  34          	inc	(hl)
2245  082E              l_game_joystick_change_00109:
2246  082E  21 00 00    	ld	hl,_player_joy
2247  0831  7E          	ld	a, (hl)
2248  0832  D6 07       	sub	a,0x07
2249  0834  23          	inc	hl
2250  0835  B6          	or	a, (hl)
2251  0836  C0          	ret	NZ
2252  0837  21 00 00    	ld	hl,0x0000
2253  083A  22 00 00    	ld	(_player_joy),hl
2254  083D  C9          	ret
2255  083E              	SECTION code_compiler
2256  083E              ;	---------------------------------
2257  083E              ; Function game_joystick_set_menu
2258  083E              ; ---------------------------------
2259  083E              _game_joystick_set_menu:
2260  083E  21 00 00    	ld	hl,_in_stick_keyboard
2261  0841  22 00 00    	ld	(_joyfunc1),hl
2262  0844  C9          	ret
2263  0845              	SECTION code_compiler
2264  0845              ;	---------------------------------
2265  0845              ; Function game_joystick_set
2266  0845              ; ---------------------------------
2267  0845              _game_joystick_set:
2268  0845  2A 00 00    	ld	hl,(_player_joy)
2269  0848  29          	add	hl,hl
2270  0849  4D          	ld	c,l
2271  084A  44          	ld	b,h
2272  084B  21 00 00    	ld	hl,_control_method
2273  084E  09          	add	hl,bc
2274  084F  11 00 00    	ld	de,_joyfunc1
2275  0852  ED A0       	ldi
2276  0854  7E          	ld	a,(hl)
2277  0855  12          	ld	(de),a
2278  0856  C9          	ret
2279  0857              	SECTION code_compiler
2280  0857              ;	---------------------------------
2281  0857              ; Function game_end
2282  0857              ; ---------------------------------
2283  0857              	defc _game_end	=	_spr_draw_clear
2284  0857              	SECTION code_compiler
2285  0857              ;	---------------------------------
2286  0857              ; Function game_rotate_attrib
2287  0857              ; ---------------------------------
2288  0857              _game_rotate_attrib:
2289  0857  01 03 00    	ld	bc,_attrib_hl + 3
2290  085A  0A          	ld	a, (bc)
2291  085B  32 00 00    	ld	(_tmp_uc),a
2292  085E  11 02 00    	ld	de,_attrib_hl + 2
2293  0861  1A          	ld	a, (de)
2294  0862  02          	ld	(bc), a
2295  0863  01 01 00    	ld	bc,_attrib_hl + 1
2296  0866  0A          	ld	a, (bc)
2297  0867  12          	ld	(de), a
2298  0868  3A 00 00    	ld	a,(_attrib_hl)
2299  086B  02          	ld	(bc), a
2300  086C  3A 00 00    	ld	a,(_tmp_uc)
2301  086F  32 00 00    	ld	(_attrib_hl),a
2302  0872  C9          	ret
2303  0873              	SECTION code_compiler
2304  0873              ;	---------------------------------
2305  0873              ; Function game_colour_message
2306  0873              ; ---------------------------------
2307  0873              _game_colour_message:
2308  0873  CD 00 00    	call	___sdcc_enter_ix
2309  0876  3B          	dec	sp
2310  0877  21 00 00    	ld	hl,_tmp
2311  087A  36 01       	ld	(hl),0x01
2312  087C  2A 00 00    	ld	hl,(_curr_time)
2313  087F  22 00 00    	ld	(_frame_time),hl
2314  0882  2A 00 00    	ld	hl,(_curr_time)
2315  0885  22 00 00    	ld	(_entry_time),hl
2316  0888  DD 7E 04    	ld	a,(ix+4)
2317  088B  07          	rlca
2318  088C  07          	rlca
2319  088D  07          	rlca
2320  088E  E6 F8       	and	a,0xf8
2321  0890  C6 08       	add	a,0x08
2322  0892  DD 77 FF    	ld	(ix-1),a
2323  0895              l_game_colour_message_00107:
2324  0895  3A 00 00    	ld	a,(_tmp)
2325  0898  B7          	or	a, a
2326  0899  28 55       	jr	Z,l_game_colour_message_00110
2327  089B  DD 6E 07    	ld	l,(ix+7)
2328  089E  DD 66 08    	ld	h,(ix+8)
2329  08A1  E5          	push	hl
2330  08A2  2A 00 00    	ld	hl,(_entry_time)
2331  08A5  E5          	push	hl
2332  08A6  CD F4 08    	call	_game_check_time
2333  08A9  F1          	pop	af
2334  08AA  F1          	pop	af
2335  08AB  7D          	ld	a, l
2336  08AC  B7          	or	a, a
2337  08AD  20 41       	jr	NZ,l_game_colour_message_00110
2338  08AF  21 05 00    	ld	hl,0x0005
2339  08B2  E5          	push	hl
2340  08B3  2A 00 00    	ld	hl,(_frame_time)
2341  08B6  E5          	push	hl
2342  08B7  CD F4 08    	call	_game_check_time
2343  08BA  F1          	pop	af
2344  08BB  F1          	pop	af
2345  08BC  7D          	ld	a, l
2346  08BD  B7          	or	a, a
2347  08BE  28 1A       	jr	Z,l_game_colour_message_00103
2348  08C0  2A 00 00    	ld	hl,(_curr_time)
2349  08C3  22 00 00    	ld	(_frame_time),hl
2350  08C6  DD 66 FF    	ld	h,(ix-1)
2351  08C9  DD 6E 06    	ld	l,(ix+6)
2352  08CC  E5          	push	hl
2353  08CD  DD 7E 05    	ld	a,(ix+5)
2354  08D0  F5          	push	af
2355  08D1  33          	inc	sp
2356  08D2  CD FF 07    	call	_game_paint_attrib_lin_h
2357  08D5  F1          	pop	af
2358  08D6  33          	inc	sp
2359  08D7  CD 57 08    	call	_game_rotate_attrib
2360  08DA              l_game_colour_message_00103:
2361  08DA  21 00 00    	ld	hl,_k1
2362  08DD  E5          	push	hl
2363  08DE  2A 00 00    	ld	hl,(_joyfunc1)
2364  08E1  CD 00 00    	call	___sdcc_call_hl
2365  08E4  F1          	pop	af
2366  08E5  7C          	ld	a,h
2367  08E6  B5          	or	a,l
2368  08E7  28 AC       	jr	Z,l_game_colour_message_00107
2369  08E9  21 00 00    	ld	hl,_tmp
2370  08EC  36 00       	ld	(hl),0x00
2371  08EE  18 EA       	jr	l_game_colour_message_00103
2372  08F0              l_game_colour_message_00110:
2373  08F0  33          	inc	sp
2374  08F1  DD E1       	pop	ix
2375  08F3  C9          	ret
2376  08F4              	SECTION code_compiler
2377  08F4              ;	---------------------------------
2378  08F4              ; Function game_check_time
2379  08F4              ; ---------------------------------
2380  08F4              _game_check_time:
2381  08F4  CD 00 00    	call	___sdcc_enter_ix
2382  08F7  2A 00 00    	ld	hl,(_curr_time)
2383  08FA  7D          	ld	a,l
2384  08FB  DD 96 04    	sub	a,(ix+4)
2385  08FE  4F          	ld	c,a
2386  08FF  7C          	ld	a,h
2387  0900  DD 9E 05    	sbc	a,(ix+5)
2388  0903  47          	ld	b, a
2389  0904  DD 7E 06    	ld	a,(ix+6)
2390  0907  91          	sub	a, c
2391  0908  DD 7E 07    	ld	a,(ix+7)
2392  090B  98          	sbc	a, b
2393  090C  30 04       	jr	NC,l_game_check_time_00102
2394  090E  2E 01       	ld	l,0x01
2395  0910  18 02       	jr	l_game_check_time_00104
2396  0912              l_game_check_time_00102:
2397  0912  2E 00       	ld	l,0x00
2398  0914              l_game_check_time_00104:
2399  0914  DD E1       	pop	ix
2400  0916  C9          	ret
2401  0917              	SECTION code_compiler
2402  0917              ;	---------------------------------
2403  0917              ; Function game_shoot_fire
2404  0917              ; ---------------------------------
2405  0917              _game_shoot_fire:
2406  0917  CD 00 00    	call	___sdcc_enter_ix
2407  091A  F5          	push	af
2408  091B  F5          	push	af
2409  091C  3B          	dec	sp
2410  091D  01 00 00    	ld	bc,_bullet_col
2411  0920  DD 6E 04    	ld	l,(ix+4)
2412  0923  26 00       	ld	h,0x00
2413  0925  09          	add	hl,bc
2414  0926  DD 75 FE    	ld	(ix-2),l
2415  0929  DD 74 FF    	ld	(ix-1),h
2416  092C  4E          	ld	c, (hl)
2417  092D  0C          	inc	c
2418  092E  C2 15 0A    	jp	NZ,l_game_shoot_fire_00111
2419  0931  21 00 00    	ld	hl,_bullet_count
2420  0934  34          	inc	(hl)
2421  0935  01 00 00    	ld	bc,_bullet_dir
2422  0938  DD 6E 04    	ld	l,(ix+4)
2423  093B  26 00       	ld	h,0x00
2424  093D  09          	add	hl,bc
2425  093E  DD 75 FC    	ld	(ix-4),l
2426  0941  DD 74 FD    	ld	(ix-3),h
2427  0944  36 00       	ld	(hl),0x00
2428  0946  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2429  0948  DD 86 04    	add	a,(ix+4)
2430  094B  5F          	ld	e, a
2431  094C  3E 00       	ld	a, +((_bullet_lin) / 256)
2432  094E  CE 00       	adc	a,0x00
2433  0950  57          	ld	d, a
2434  0951  3E 00       	ld	a, +((_lin) & 0xFF)
2435  0953  DD 86 04    	add	a,(ix+4)
2436  0956  4F          	ld	c, a
2437  0957  3E 00       	ld	a, +((_lin) / 256)
2438  0959  CE 00       	adc	a,0x00
2439  095B  47          	ld	b, a
2440  095C  0A          	ld	a, (bc)
2441  095D  12          	ld	(de), a
2442  095E  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2443  0960  DD 86 04    	add	a,(ix+4)
2444  0963  5F          	ld	e, a
2445  0964  3E 00       	ld	a, +((_bullet_frames) / 256)
2446  0966  CE 00       	adc	a,0x00
2447  0968  57          	ld	d, a
2448  0969  3E 02       	ld	a,0x02
2449  096B  12          	ld	(de), a
2450  096C  3A 00 00    	ld	a,(_s_state)
2451  096F  E6 08       	and	a,0x08
2452  0971  DD 77 FB    	ld	(ix-5),a
2453  0974  3A 00 00    	ld	a,(_sprite)
2454  0977  D6 07       	sub	a,0x07
2455  0979  20 08       	jr	NZ,l_game_shoot_fire_00102
2456  097B  3A 07 00    	ld	a,(_state_a + 0x0007)
2457  097E  E6 08       	and	a,0x08
2458  0980  DD 77 FB    	ld	(ix-5),a
2459  0983              l_game_shoot_fire_00102:
2460  0983  3E 00       	ld	a, +((_col) & 0xFF)
2461  0985  DD 86 04    	add	a,(ix+4)
2462  0988  5F          	ld	e, a
2463  0989  3E 00       	ld	a, +((_col) / 256)
2464  098B  CE 00       	adc	a,0x00
2465  098D  57          	ld	d, a
2466  098E  1A          	ld	a, (de)
2467  098F  F5          	push	af
2468  0990  0A          	ld	a, (bc)
2469  0991  47          	ld	b, a
2470  0992  F1          	pop	af
2471  0993  D5          	push	de
2472  0994  48          	ld	c,b
2473  0995  47          	ld	b,a
2474  0996  C5          	push	bc
2475  0997  CD 00 00    	call	_spr_calc_index
2476  099A  F1          	pop	af
2477  099B  D1          	pop	de
2478  099C  22 00 00    	ld	(_index1),hl
2479  099F  1A          	ld	a,(de)
2480  09A0  4F          	ld	c,a
2481  09A1  DD 7E FB    	ld	a,(ix-5)
2482  09A4  B7          	or	a, a
2483  09A5  28 39       	jr	Z,l_game_shoot_fire_00108
2484  09A7  79          	ld	a, c
2485  09A8  D6 01       	sub	a,0x01
2486  09AA  30 04       	jr	NC,l_game_shoot_fire_00104
2487  09AC  2E 01       	ld	l,0x01
2488  09AE  18 67       	jr	l_game_shoot_fire_00112
2489  09B0              l_game_shoot_fire_00104:
2490  09B0  DD 6E FE    	ld	l,(ix-2)
2491  09B3  DD 66 FF    	ld	h,(ix-1)
2492  09B6  71          	ld	(hl), c
2493  09B7  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2494  09B9  DD 86 04    	add	a,(ix+4)
2495  09BC  4F          	ld	c, a
2496  09BD  3E 00       	ld	a, +((_bullet_tile) / 256)
2497  09BF  CE 00       	adc	a,0x00
2498  09C1  47          	ld	b, a
2499  09C2  DD 7E 05    	ld	a,(ix+5)
2500  09C5  C6 02       	add	a,0x02
2501  09C7  02          	ld	(bc), a
2502  09C8  DD 6E FC    	ld	l,(ix-4)
2503  09CB  DD 66 FD    	ld	h,(ix-3)
2504  09CE  36 01       	ld	(hl),0x01
2505  09D0  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2506  09D2  DD 86 04    	add	a,(ix+4)
2507  09D5  4F          	ld	c, a
2508  09D6  3E 00       	ld	a, +((_bullet_colint) / 256)
2509  09D8  CE 00       	adc	a,0x00
2510  09DA  47          	ld	b, a
2511  09DB  3E 02       	ld	a,0x02
2512  09DD  02          	ld	(bc), a
2513  09DE  18 35       	jr	l_game_shoot_fire_00111
2514  09E0              l_game_shoot_fire_00108:
2515  09E0  3E 1D       	ld	a,0x1d
2516  09E2  91          	sub	a, c
2517  09E3  30 04       	jr	NC,l_game_shoot_fire_00106
2518  09E5  2E 01       	ld	l,0x01
2519  09E7  18 2E       	jr	l_game_shoot_fire_00112
2520  09E9              l_game_shoot_fire_00106:
2521  09E9  DD 6E FE    	ld	l,(ix-2)
2522  09EC  DD 66 FF    	ld	h,(ix-1)
2523  09EF  71          	ld	(hl), c
2524  09F0  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2525  09F2  DD 86 04    	add	a,(ix+4)
2526  09F5  4F          	ld	c, a
2527  09F6  3E 00       	ld	a, +((_bullet_tile) / 256)
2528  09F8  CE 00       	adc	a,0x00
2529  09FA  47          	ld	b, a
2530  09FB  DD 7E 05    	ld	a,(ix+5)
2531  09FE  02          	ld	(bc), a
2532  09FF  DD 6E FC    	ld	l,(ix-4)
2533  0A02  DD 66 FD    	ld	h,(ix-3)
2534  0A05  36 FF       	ld	(hl),0xff
2535  0A07  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2536  0A09  DD 86 04    	add	a,(ix+4)
2537  0A0C  4F          	ld	c, a
2538  0A0D  3E 00       	ld	a, +((_bullet_colint) / 256)
2539  0A0F  CE 00       	adc	a,0x00
2540  0A11  47          	ld	b, a
2541  0A12  3E FF       	ld	a,0xff
2542  0A14  02          	ld	(bc), a
2543  0A15              l_game_shoot_fire_00111:
2544  0A15  2E 00       	ld	l,0x00
2545  0A17              l_game_shoot_fire_00112:
2546  0A17  DD F9       	ld	sp, ix
2547  0A19  DD E1       	pop	ix
2548  0A1B  C9          	ret
2549  0A1C              	SECTION code_compiler
2550  0A1C              ;	---------------------------------
2551  0A1C              ; Function game_obj_set
2552  0A1C              ; ---------------------------------
2553  0A1C              _game_obj_set:
2554  0A1C  CD 00 00    	call	___sdcc_enter_ix
2555  0A1F  21 00 00    	ld	hl,_scr_curr
2556  0A22  7E          	ld	a, (hl)
2557  0A23  D6 08       	sub	a,0x08
2558  0A25  30 1E       	jr	NC,l_game_obj_set_00102
2559  0A27  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2560  0A29  DD 86 04    	add	a,(ix+4)
2561  0A2C  4F          	ld	c, a
2562  0A2D  3E 00       	ld	a, +((_scr_obj0) / 256)
2563  0A2F  DD 8E 05    	adc	a,(ix+5)
2564  0A32  47          	ld	b, a
2565  0A33  0A          	ld	a, (bc)
2566  0A34  5F          	ld	e, a
2567  0A35  7E          	ld	a, (hl)
2568  0A36  3C          	inc	a
2569  0A37  16 01       	ld	d,0x01
2570  0A39  18 02       	jr	l_game_obj_set_00111
2571  0A3B              l_game_obj_set_00110:
2572  0A3B  CB 22       	sla	d
2573  0A3D              l_game_obj_set_00111:
2574  0A3D  3D          	dec	a
2575  0A3E  20 FB       	jr	NZ,l_game_obj_set_00110
2576  0A40  7B          	ld	a, e
2577  0A41  B2          	or	a, d
2578  0A42  02          	ld	(bc), a
2579  0A43  18 21       	jr	l_game_obj_set_00104
2580  0A45              l_game_obj_set_00102:
2581  0A45  3E 10       	ld	a,0x10
2582  0A47  21 00 00    	ld	hl,_scr_curr
2583  0A4A  96          	sub	a, (hl)
2584  0A4B  47          	ld	b, a
2585  0A4C  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2586  0A4E  DD 86 04    	add	a,(ix+4)
2587  0A51  5F          	ld	e, a
2588  0A52  3E 00       	ld	a, +((_scr_obj1) / 256)
2589  0A54  DD 8E 05    	adc	a,(ix+5)
2590  0A57  57          	ld	d, a
2591  0A58  1A          	ld	a, (de)
2592  0A59  4F          	ld	c, a
2593  0A5A  2E 01       	ld	l,0x01
2594  0A5C  04          	inc	b
2595  0A5D  18 02       	jr	l_game_obj_set_00113
2596  0A5F              l_game_obj_set_00112:
2597  0A5F  CB 25       	sla	l
2598  0A61              l_game_obj_set_00113:
2599  0A61  10 FC       	djnz	l_game_obj_set_00112
2600  0A63  79          	ld	a, c
2601  0A64  B5          	or	a, l
2602  0A65  12          	ld	(de), a
2603  0A66              l_game_obj_set_00104:
2604  0A66  DD E1       	pop	ix
2605  0A68  C9          	ret
2606  0A69              	SECTION code_compiler
2607  0A69              ;	---------------------------------
2608  0A69              ; Function game_obj_chk
2609  0A69              ; ---------------------------------
2610  0A69              _game_obj_chk:
2611  0A69  CD 00 00    	call	___sdcc_enter_ix
2612  0A6C  21 00 00    	ld	hl,_scr_curr
2613  0A6F  7E          	ld	a, (hl)
2614  0A70  D6 08       	sub	a,0x08
2615  0A72  30 1D       	jr	NC,l_game_obj_chk_00102
2616  0A74  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2617  0A76  DD 86 04    	add	a,(ix+4)
2618  0A79  4F          	ld	c, a
2619  0A7A  3E 00       	ld	a, +((_scr_obj0) / 256)
2620  0A7C  DD 8E 05    	adc	a,(ix+5)
2621  0A7F  47          	ld	b, a
2622  0A80  0A          	ld	a, (bc)
2623  0A81  4F          	ld	c, a
2624  0A82  46          	ld	b, (hl)
2625  0A83  1E 01       	ld	e,0x01
2626  0A85  04          	inc	b
2627  0A86  18 02       	jr	l_game_obj_chk_00111
2628  0A88              l_game_obj_chk_00110:
2629  0A88  CB 23       	sla	e
2630  0A8A              l_game_obj_chk_00111:
2631  0A8A  10 FC       	djnz	l_game_obj_chk_00110
2632  0A8C  79          	ld	a, c
2633  0A8D  A3          	and	a, e
2634  0A8E  6F          	ld	l, a
2635  0A8F  18 21       	jr	l_game_obj_chk_00104
2636  0A91              l_game_obj_chk_00102:
2637  0A91  3E 10       	ld	a,0x10
2638  0A93  21 00 00    	ld	hl,_scr_curr
2639  0A96  96          	sub	a, (hl)
2640  0A97  47          	ld	b, a
2641  0A98  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2642  0A9A  DD 86 04    	add	a,(ix+4)
2643  0A9D  5F          	ld	e, a
2644  0A9E  3E 00       	ld	a, +((_scr_obj1) / 256)
2645  0AA0  DD 8E 05    	adc	a,(ix+5)
2646  0AA3  57          	ld	d, a
2647  0AA4  1A          	ld	a, (de)
2648  0AA5  4F          	ld	c, a
2649  0AA6  1E 01       	ld	e,0x01
2650  0AA8  04          	inc	b
2651  0AA9  18 02       	jr	l_game_obj_chk_00113
2652  0AAB              l_game_obj_chk_00112:
2653  0AAB  CB 23       	sla	e
2654  0AAD              l_game_obj_chk_00113:
2655  0AAD  10 FC       	djnz	l_game_obj_chk_00112
2656  0AAF  79          	ld	a, c
2657  0AB0  A3          	and	a, e
2658  0AB1  6F          	ld	l, a
2659  0AB2              l_game_obj_chk_00104:
2660  0AB2  DD E1       	pop	ix
2661  0AB4  C9          	ret
2662  0AB5              	SECTION IGNORE
2663  0000              
