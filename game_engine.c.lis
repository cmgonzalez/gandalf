1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_draw_screen
191   0000              	GLOBAL _game_add_enemy
192   0000              	GLOBAL _game_print_footer
193   0000              	GLOBAL _game_phase_print_score_back
194   0000              	GLOBAL _game_update_stats
195   0000              	GLOBAL _game_tick
196   0000              	GLOBAL _game_start_timer
197   0000              	GLOBAL _game_round_init
198   0000              	GLOBAL _game_print_header
199   0000              	GLOBAL _game_check_map
200   0000              	GLOBAL _game_check_cell
201   0000              	GLOBAL _game_enemy_add_get_index
202   0000              	GLOBAL _game_print_score
203   0000              	GLOBAL _game_paint_attrib
204   0000              	GLOBAL _game_paint_attrib_lin
205   0000              	GLOBAL _game_paint_attrib_lin_h
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_end
210   0000              	GLOBAL _game_rotate_attrib
211   0000              	GLOBAL _game_colour_message
212   0000              	GLOBAL _game_check_time
213   0000              	GLOBAL _game_shoot_fire
214   0000              	GLOBAL _game_obj_set
215   0000              	GLOBAL _game_obj_chk
216   0000              	GLOBAL _game_obj_clear
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ffsll_callee
221   0000              	GLOBAL _ffsll
222   0000              	GLOBAL _strxfrm_callee
223   0000              	GLOBAL _strxfrm
224   0000              	GLOBAL _strupr_fastcall
225   0000              	GLOBAL _strupr
226   0000              	GLOBAL _strtok_r_callee
227   0000              	GLOBAL _strtok_r
228   0000              	GLOBAL _strtok_callee
229   0000              	GLOBAL _strtok
230   0000              	GLOBAL _strstrip_fastcall
231   0000              	GLOBAL _strstrip
232   0000              	GLOBAL _strstr_callee
233   0000              	GLOBAL _strstr
234   0000              	GLOBAL _strspn_callee
235   0000              	GLOBAL _strspn
236   0000              	GLOBAL _strsep_callee
237   0000              	GLOBAL _strsep
238   0000              	GLOBAL _strrstrip_fastcall
239   0000              	GLOBAL _strrstrip
240   0000              	GLOBAL _strrspn_callee
241   0000              	GLOBAL _strrspn
242   0000              	GLOBAL _strrev_fastcall
243   0000              	GLOBAL _strrev
244   0000              	GLOBAL _strrcspn_callee
245   0000              	GLOBAL _strrcspn
246   0000              	GLOBAL _strrchr_callee
247   0000              	GLOBAL _strrchr
248   0000              	GLOBAL _strpbrk_callee
249   0000              	GLOBAL _strpbrk
250   0000              	GLOBAL _strnlen_callee
251   0000              	GLOBAL _strnlen
252   0000              	GLOBAL _strnicmp_callee
253   0000              	GLOBAL _strnicmp
254   0000              	GLOBAL _strndup_callee
255   0000              	GLOBAL _strndup
256   0000              	GLOBAL _strncpy_callee
257   0000              	GLOBAL _strncpy
258   0000              	GLOBAL _strncmp_callee
259   0000              	GLOBAL _strncmp
260   0000              	GLOBAL _strnchr_callee
261   0000              	GLOBAL _strnchr
262   0000              	GLOBAL _strncat_callee
263   0000              	GLOBAL _strncat
264   0000              	GLOBAL _strncasecmp_callee
265   0000              	GLOBAL _strncasecmp
266   0000              	GLOBAL _strlwr_fastcall
267   0000              	GLOBAL _strlwr
268   0000              	GLOBAL _strlen_fastcall
269   0000              	GLOBAL _strlen
270   0000              	GLOBAL _strlcpy_callee
271   0000              	GLOBAL _strlcpy
272   0000              	GLOBAL _strlcat_callee
273   0000              	GLOBAL _strlcat
274   0000              	GLOBAL _stricmp_callee
275   0000              	GLOBAL _stricmp
276   0000              	GLOBAL _strerror_fastcall
277   0000              	GLOBAL _strerror
278   0000              	GLOBAL _strdup_fastcall
279   0000              	GLOBAL _strdup
280   0000              	GLOBAL _strcspn_callee
281   0000              	GLOBAL _strcspn
282   0000              	GLOBAL _strcpy_callee
283   0000              	GLOBAL _strcpy
284   0000              	GLOBAL _strcoll_callee
285   0000              	GLOBAL _strcoll
286   0000              	GLOBAL _strcmp_callee
287   0000              	GLOBAL _strcmp
288   0000              	GLOBAL _strchrnul_callee
289   0000              	GLOBAL _strchrnul
290   0000              	GLOBAL _strchr_callee
291   0000              	GLOBAL _strchr
292   0000              	GLOBAL _strcat_callee
293   0000              	GLOBAL _strcat
294   0000              	GLOBAL _strcasecmp_callee
295   0000              	GLOBAL _strcasecmp
296   0000              	GLOBAL _stpncpy_callee
297   0000              	GLOBAL _stpncpy
298   0000              	GLOBAL _stpcpy_callee
299   0000              	GLOBAL _stpcpy
300   0000              	GLOBAL _memswap_callee
301   0000              	GLOBAL _memswap
302   0000              	GLOBAL _memset_callee
303   0000              	GLOBAL _memset
304   0000              	GLOBAL _memrchr_callee
305   0000              	GLOBAL _memrchr
306   0000              	GLOBAL _memmove_callee
307   0000              	GLOBAL _memmove
308   0000              	GLOBAL _memmem_callee
309   0000              	GLOBAL _memmem
310   0000              	GLOBAL _memcpy_callee
311   0000              	GLOBAL _memcpy
312   0000              	GLOBAL _memcmp_callee
313   0000              	GLOBAL _memcmp
314   0000              	GLOBAL _memchr_callee
315   0000              	GLOBAL _memchr
316   0000              	GLOBAL _memccpy_callee
317   0000              	GLOBAL _memccpy
318   0000              	GLOBAL _ffsl_fastcall
319   0000              	GLOBAL _ffsl
320   0000              	GLOBAL _ffs_fastcall
321   0000              	GLOBAL _ffs
322   0000              	GLOBAL __strrstrip__fastcall
323   0000              	GLOBAL __strrstrip_
324   0000              	GLOBAL __memupr__callee
325   0000              	GLOBAL __memupr_
326   0000              	GLOBAL __memstrcpy__callee
327   0000              	GLOBAL __memstrcpy_
328   0000              	GLOBAL __memlwr__callee
329   0000              	GLOBAL __memlwr_
330   0000              	GLOBAL _rawmemchr_callee
331   0000              	GLOBAL _rawmemchr
332   0000              	GLOBAL _strnset_callee
333   0000              	GLOBAL _strnset
334   0000              	GLOBAL _strset_callee
335   0000              	GLOBAL _strset
336   0000              	GLOBAL _rindex_callee
337   0000              	GLOBAL _rindex
338   0000              	GLOBAL _index_callee
339   0000              	GLOBAL _index
340   0000              	GLOBAL _bzero_callee
341   0000              	GLOBAL _bzero
342   0000              	GLOBAL _bcopy_callee
343   0000              	GLOBAL _bcopy
344   0000              	GLOBAL _bcmp_callee
345   0000              	GLOBAL _bcmp
346   0000              	GLOBAL _ulltoa_callee
347   0000              	GLOBAL _ulltoa
348   0000              	GLOBAL _strtoull_callee
349   0000              	GLOBAL _strtoull
350   0000              	GLOBAL _strtoll_callee
351   0000              	GLOBAL _strtoll
352   0000              	GLOBAL _lltoa_callee
353   0000              	GLOBAL _lltoa
354   0000              	GLOBAL _llabs_callee
355   0000              	GLOBAL _llabs
356   0000              	GLOBAL __lldivu__callee
357   0000              	GLOBAL __lldivu_
358   0000              	GLOBAL __lldiv__callee
359   0000              	GLOBAL __lldiv_
360   0000              	GLOBAL _atoll_callee
361   0000              	GLOBAL _atoll
362   0000              	GLOBAL _realloc_unlocked_callee
363   0000              	GLOBAL _realloc_unlocked
364   0000              	GLOBAL _malloc_unlocked_fastcall
365   0000              	GLOBAL _malloc_unlocked
366   0000              	GLOBAL _free_unlocked_fastcall
367   0000              	GLOBAL _free_unlocked
368   0000              	GLOBAL _calloc_unlocked_callee
369   0000              	GLOBAL _calloc_unlocked
370   0000              	GLOBAL _aligned_alloc_unlocked_callee
371   0000              	GLOBAL _aligned_alloc_unlocked
372   0000              	GLOBAL _realloc_callee
373   0000              	GLOBAL _realloc
374   0000              	GLOBAL _malloc_fastcall
375   0000              	GLOBAL _malloc
376   0000              	GLOBAL _free_fastcall
377   0000              	GLOBAL _free
378   0000              	GLOBAL _calloc_callee
379   0000              	GLOBAL _calloc
380   0000              	GLOBAL _aligned_alloc_callee
381   0000              	GLOBAL _aligned_alloc
382   0000              	GLOBAL _utoa_callee
383   0000              	GLOBAL _utoa
384   0000              	GLOBAL _ultoa_callee
385   0000              	GLOBAL _ultoa
386   0000              	GLOBAL _system_fastcall
387   0000              	GLOBAL _system
388   0000              	GLOBAL _strtoul_callee
389   0000              	GLOBAL _strtoul
390   0000              	GLOBAL _strtol_callee
391   0000              	GLOBAL _strtol
392   0000              	GLOBAL _strtof_callee
393   0000              	GLOBAL _strtof
394   0000              	GLOBAL _strtod_callee
395   0000              	GLOBAL _strtod
396   0000              	GLOBAL _srand_fastcall
397   0000              	GLOBAL _srand
398   0000              	GLOBAL _rand
399   0000              	GLOBAL _quick_exit_fastcall
400   0000              	GLOBAL _quick_exit
401   0000              	GLOBAL _qsort_callee
402   0000              	GLOBAL _qsort
403   0000              	GLOBAL _ltoa_callee
404   0000              	GLOBAL _ltoa
405   0000              	GLOBAL _labs_fastcall
406   0000              	GLOBAL _labs
407   0000              	GLOBAL _itoa_callee
408   0000              	GLOBAL _itoa
409   0000              	GLOBAL _ftoh_callee
410   0000              	GLOBAL _ftoh
411   0000              	GLOBAL _ftog_callee
412   0000              	GLOBAL _ftog
413   0000              	GLOBAL _ftoe_callee
414   0000              	GLOBAL _ftoe
415   0000              	GLOBAL _ftoa_callee
416   0000              	GLOBAL _ftoa
417   0000              	GLOBAL _exit_fastcall
418   0000              	GLOBAL _exit
419   0000              	GLOBAL _dtoh_callee
420   0000              	GLOBAL _dtoh
421   0000              	GLOBAL _dtog_callee
422   0000              	GLOBAL _dtog
423   0000              	GLOBAL _dtoe_callee
424   0000              	GLOBAL _dtoe
425   0000              	GLOBAL _dtoa_callee
426   0000              	GLOBAL _dtoa
427   0000              	GLOBAL _bsearch_callee
428   0000              	GLOBAL _bsearch
429   0000              	GLOBAL _atol_fastcall
430   0000              	GLOBAL _atol
431   0000              	GLOBAL _atoi_fastcall
432   0000              	GLOBAL _atoi
433   0000              	GLOBAL _atof_fastcall
434   0000              	GLOBAL _atof
435   0000              	GLOBAL _atexit_fastcall
436   0000              	GLOBAL _atexit
437   0000              	GLOBAL _at_quick_exit_fastcall
438   0000              	GLOBAL _at_quick_exit
439   0000              	GLOBAL _abs_fastcall
440   0000              	GLOBAL _abs
441   0000              	GLOBAL _abort
442   0000              	GLOBAL __strtou__callee
443   0000              	GLOBAL __strtou_
444   0000              	GLOBAL __strtoi__callee
445   0000              	GLOBAL __strtoi_
446   0000              	GLOBAL __random_uniform_xor_8__fastcall
447   0000              	GLOBAL __random_uniform_xor_8_
448   0000              	GLOBAL __random_uniform_xor_32__fastcall
449   0000              	GLOBAL __random_uniform_xor_32_
450   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
451   0000              	GLOBAL __random_uniform_cmwc_8_
452   0000              	GLOBAL __shellsort__callee
453   0000              	GLOBAL __shellsort_
454   0000              	GLOBAL __quicksort__callee
455   0000              	GLOBAL __quicksort_
456   0000              	GLOBAL __insertion_sort__callee
457   0000              	GLOBAL __insertion_sort_
458   0000              	GLOBAL __ldivu__callee
459   0000              	GLOBAL __ldivu_
460   0000              	GLOBAL __ldiv__callee
461   0000              	GLOBAL __ldiv_
462   0000              	GLOBAL __divu__callee
463   0000              	GLOBAL __divu_
464   0000              	GLOBAL __div__callee
465   0000              	GLOBAL __div_
466   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
467   0000              	GLOBAL _NIRVANAP_drawTW_raw
468   0000              	GLOBAL _NIRVANAP_drawTW_callee
469   0000              	GLOBAL _NIRVANAP_drawTW
470   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawW_raw
472   0000              	GLOBAL _NIRVANAP_drawW_callee
473   0000              	GLOBAL _NIRVANAP_drawW
474   0000              	GLOBAL _NIRVANAP_spriteT_callee
475   0000              	GLOBAL _NIRVANAP_spriteT
476   0000              	GLOBAL _NIRVANAP_fillC_callee
477   0000              	GLOBAL _NIRVANAP_fillC
478   0000              	GLOBAL _NIRVANAP_readC_callee
479   0000              	GLOBAL _NIRVANAP_readC
480   0000              	GLOBAL _NIRVANAP_paintC_callee
481   0000              	GLOBAL _NIRVANAP_paintC
482   0000              	GLOBAL _NIRVANAP_printC_callee
483   0000              	GLOBAL _NIRVANAP_printC
484   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
485   0000              	GLOBAL _NIRVANAP_fillT_raw
486   0000              	GLOBAL _NIRVANAP_fillT_callee
487   0000              	GLOBAL _NIRVANAP_fillT
488   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
489   0000              	GLOBAL _NIRVANAP_drawT_raw
490   0000              	GLOBAL _NIRVANAP_drawT_callee
491   0000              	GLOBAL _NIRVANAP_drawT
492   0000              	GLOBAL _NIRVANAP_stop
493   0000              	GLOBAL _NIRVANAP_start
494   0000              	GLOBAL _debug3
495   0000              	GLOBAL _debug2
496   0000              	GLOBAL _debug
497   0000              	GLOBAL _zx_print_str
498   0000              	GLOBAL _zx_print_int
499   0000              	GLOBAL _zx_print_chr
500   0000              	GLOBAL _zx_print_bonus_time
501   0000              	GLOBAL _zx_isr
502   0000              	GLOBAL _z80_otdr_callee
503   0000              	GLOBAL _z80_otdr
504   0000              	GLOBAL _z80_otir_callee
505   0000              	GLOBAL _z80_otir
506   0000              	GLOBAL _z80_outp_callee
507   0000              	GLOBAL _z80_outp
508   0000              	GLOBAL _z80_indr_callee
509   0000              	GLOBAL _z80_indr
510   0000              	GLOBAL _z80_inir_callee
511   0000              	GLOBAL _z80_inir
512   0000              	GLOBAL _z80_inp_fastcall
513   0000              	GLOBAL _z80_inp
514   0000              	GLOBAL _z80_set_int_state_fastcall
515   0000              	GLOBAL _z80_set_int_state
516   0000              	GLOBAL _z80_get_int_state
517   0000              	GLOBAL _z80_delay_tstate_fastcall
518   0000              	GLOBAL _z80_delay_tstate
519   0000              	GLOBAL _z80_delay_ms_fastcall
520   0000              	GLOBAL _z80_delay_ms
521   0000              	GLOBAL _im2_remove_generic_callback_callee
522   0000              	GLOBAL _im2_remove_generic_callback
523   0000              	GLOBAL _im2_prepend_generic_callback_callee
524   0000              	GLOBAL _im2_prepend_generic_callback
525   0000              	GLOBAL _im2_append_generic_callback_callee
526   0000              	GLOBAL _im2_append_generic_callback
527   0000              	GLOBAL _im2_create_generic_isr_8080_callee
528   0000              	GLOBAL _im2_create_generic_isr_8080
529   0000              	GLOBAL _im2_create_generic_isr_callee
530   0000              	GLOBAL _im2_create_generic_isr
531   0000              	GLOBAL _im2_install_isr_callee
532   0000              	GLOBAL _im2_install_isr
533   0000              	GLOBAL _im2_init_fastcall
534   0000              	GLOBAL _im2_init
535   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
536   0000              	GLOBAL _intrinsic_swap_word_32
537   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
538   0000              	GLOBAL _intrinsic_swap_endian_32
539   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
540   0000              	GLOBAL _intrinsic_swap_endian_16
541   0000              	GLOBAL _intrinsic_return_de
542   0000              	GLOBAL _intrinsic_return_bc
543   0000              	GLOBAL _intrinsic_exx
544   0000              	GLOBAL _intrinsic_ex_de_hl
545   0000              	GLOBAL _intrinsic_nop
546   0000              	GLOBAL _intrinsic_im_2
547   0000              	GLOBAL _intrinsic_im_1
548   0000              	GLOBAL _intrinsic_im_0
549   0000              	GLOBAL _intrinsic_retn
550   0000              	GLOBAL _intrinsic_reti
551   0000              	GLOBAL _intrinsic_halt
552   0000              	GLOBAL _intrinsic_ei
553   0000              	GLOBAL _intrinsic_di
554   0000              	GLOBAL _intrinsic_stub
555   0000              	GLOBAL _intrinsic_outi
556   0000              	GLOBAL _intrinsic_ldi
557   0000              	GLOBAL _zx_pattern_fill_callee
558   0000              	GLOBAL _zx_pattern_fill
559   0000              	GLOBAL _zx_saddrpup_fastcall
560   0000              	GLOBAL _zx_saddrpup
561   0000              	GLOBAL _zx_saddrpright_callee
562   0000              	GLOBAL _zx_saddrpright
563   0000              	GLOBAL _zx_saddrpleft_callee
564   0000              	GLOBAL _zx_saddrpleft
565   0000              	GLOBAL _zx_saddrpdown_fastcall
566   0000              	GLOBAL _zx_saddrpdown
567   0000              	GLOBAL _zx_saddrcup_fastcall
568   0000              	GLOBAL _zx_saddrcup
569   0000              	GLOBAL _zx_saddrcright_fastcall
570   0000              	GLOBAL _zx_saddrcright
571   0000              	GLOBAL _zx_saddrcleft_fastcall
572   0000              	GLOBAL _zx_saddrcleft
573   0000              	GLOBAL _zx_saddrcdown_fastcall
574   0000              	GLOBAL _zx_saddrcdown
575   0000              	GLOBAL _zx_saddr2py_fastcall
576   0000              	GLOBAL _zx_saddr2py
577   0000              	GLOBAL _zx_saddr2px_fastcall
578   0000              	GLOBAL _zx_saddr2px
579   0000              	GLOBAL _zx_saddr2cy_fastcall
580   0000              	GLOBAL _zx_saddr2cy
581   0000              	GLOBAL _zx_saddr2cx_fastcall
582   0000              	GLOBAL _zx_saddr2cx
583   0000              	GLOBAL _zx_saddr2aaddr_fastcall
584   0000              	GLOBAL _zx_saddr2aaddr
585   0000              	GLOBAL _zx_py2saddr_fastcall
586   0000              	GLOBAL _zx_py2saddr
587   0000              	GLOBAL _zx_py2aaddr_fastcall
588   0000              	GLOBAL _zx_py2aaddr
589   0000              	GLOBAL _zx_pxy2saddr_callee
590   0000              	GLOBAL _zx_pxy2saddr
591   0000              	GLOBAL _zx_pxy2aaddr_callee
592   0000              	GLOBAL _zx_pxy2aaddr
593   0000              	GLOBAL _zx_px2bitmask_fastcall
594   0000              	GLOBAL _zx_px2bitmask
595   0000              	GLOBAL _zx_cy2saddr_fastcall
596   0000              	GLOBAL _zx_cy2saddr
597   0000              	GLOBAL _zx_cy2aaddr_fastcall
598   0000              	GLOBAL _zx_cy2aaddr
599   0000              	GLOBAL _zx_cxy2saddr_callee
600   0000              	GLOBAL _zx_cxy2saddr
601   0000              	GLOBAL _zx_cxy2aaddr_callee
602   0000              	GLOBAL _zx_cxy2aaddr
603   0000              	GLOBAL _zx_bitmask2px_fastcall
604   0000              	GLOBAL _zx_bitmask2px
605   0000              	GLOBAL _zx_aaddrcup_fastcall
606   0000              	GLOBAL _zx_aaddrcup
607   0000              	GLOBAL _zx_aaddrcright_fastcall
608   0000              	GLOBAL _zx_aaddrcright
609   0000              	GLOBAL _zx_aaddrcleft_fastcall
610   0000              	GLOBAL _zx_aaddrcleft
611   0000              	GLOBAL _zx_aaddrcdown_fastcall
612   0000              	GLOBAL _zx_aaddrcdown
613   0000              	GLOBAL _zx_aaddr2saddr_fastcall
614   0000              	GLOBAL _zx_aaddr2saddr
615   0000              	GLOBAL _zx_aaddr2py_fastcall
616   0000              	GLOBAL _zx_aaddr2py
617   0000              	GLOBAL _zx_aaddr2px_fastcall
618   0000              	GLOBAL _zx_aaddr2px
619   0000              	GLOBAL _zx_aaddr2cy_fastcall
620   0000              	GLOBAL _zx_aaddr2cy
621   0000              	GLOBAL _zx_aaddr2cx_fastcall
622   0000              	GLOBAL _zx_aaddr2cx
623   0000              	GLOBAL _zx_visit_wc_pix_callee
624   0000              	GLOBAL _zx_visit_wc_pix
625   0000              	GLOBAL _zx_visit_wc_attr_callee
626   0000              	GLOBAL _zx_visit_wc_attr
627   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
628   0000              	GLOBAL _zx_scroll_wc_up_pix
629   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
630   0000              	GLOBAL _zx_scroll_wc_up_attr
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_pix_callee
634   0000              	GLOBAL _zx_scroll_up_pix
635   0000              	GLOBAL _zx_scroll_up_attr_callee
636   0000              	GLOBAL _zx_scroll_up_attr
637   0000              	GLOBAL _zx_scroll_up_callee
638   0000              	GLOBAL _zx_scroll_up
639   0000              	GLOBAL _zx_cls_wc_pix_callee
640   0000              	GLOBAL _zx_cls_wc_pix
641   0000              	GLOBAL _zx_cls_wc_attr_callee
642   0000              	GLOBAL _zx_cls_wc_attr
643   0000              	GLOBAL _zx_cls_wc_callee
644   0000              	GLOBAL _zx_cls_wc
645   0000              	GLOBAL _zx_cls_pix_fastcall
646   0000              	GLOBAL _zx_cls_pix
647   0000              	GLOBAL _zx_cls_attr_fastcall
648   0000              	GLOBAL _zx_cls_attr
649   0000              	GLOBAL _zx_cls_fastcall
650   0000              	GLOBAL _zx_cls
651   0000              	GLOBAL _zx_border_fastcall
652   0000              	GLOBAL _zx_border
653   0000              	GLOBAL _spr_btile_paint_back
654   0000              	GLOBAL _spr_explode_bullet
655   0000              	GLOBAL _spr_init_anim_bullets
656   0000              	GLOBAL _spr_turn_horizontal
657   0000              	GLOBAL _spr_play_bullets
658   0000              	GLOBAL _spr_play_anim
659   0000              	GLOBAL _spr_add_anim
660   0000              	GLOBAL _spr_page_map
661   0000              	GLOBAL _spr_page_right
662   0000              	GLOBAL _spr_page_left
663   0000              	GLOBAL _spr_tile_paint
664   0000              	GLOBAL _spr_calc_hor
665   0000              	GLOBAL _spr_draw_row
666   0000              	GLOBAL _spr_draw_index
667   0000              	GLOBAL _spr_draw_clear
668   0000              	GLOBAL _spr_brick_anim
669   0000              	GLOBAL _spr_back_repaint
670   0000              	GLOBAL _spr_tile
671   0000              	GLOBAL _spr_destroy
672   0000              	GLOBAL _spr_tile_dir
673   0000              	GLOBAL _spr_redraw
674   0000              	GLOBAL _spr_move_left
675   0000              	GLOBAL _spr_move_right
676   0000              	GLOBAL _spr_move_horizontal
677   0000              	GLOBAL _spr_move_down
678   0000              	GLOBAL _spr_move_up
679   0000              	GLOBAL _spr_calc_index
680   0000              	GLOBAL _spr_chktime
681   0000              	GLOBAL _sound_hit_brick
682   0000              	GLOBAL _sound_hit_enemy
683   0000              	GLOBAL _sound_kill
684   0000              	GLOBAL _sound_enter_enemy
685   0000              	GLOBAL _sound_coin
686   0000              	GLOBAL _sound_jump
687   0000              	GLOBAL _sound_slide
688   0000              	GLOBAL _player_lost_life
689   0000              	GLOBAL _player_hit
690   0000              	GLOBAL _player_open_door
691   0000              	GLOBAL _player_move_jump
692   0000              	GLOBAL _player_fire
693   0000              	GLOBAL _player_check_stairs_down
694   0000              	GLOBAL _player_check_stairs
695   0000              	GLOBAL _player_tile
696   0000              	GLOBAL _player_pick_item
697   0000              	GLOBAL _player_check_floor
698   0000              	GLOBAL _player_hit_platform_clear
699   0000              	GLOBAL _player_score_add
700   0000              	GLOBAL _player_player_hit_pow
701   0000              	GLOBAL _player_hit_platform
702   0000              	GLOBAL _player_move_input
703   0000              	GLOBAL _player_turn
704   0000              	GLOBAL _player_move
705   0000              	GLOBAL _player_restart
706   0000              	GLOBAL _player_kill
707   0000              	GLOBAL _player_check_input
708   0000              	GLOBAL _player_collision
709   0000              	GLOBAL _player_init
710   0000              	GLOBAL _game_unfreeze_all
711   0000              	GLOBAL _game_freeze_all
712   0000              	GLOBAL _game_freeze
713   0000              	GLOBAL _game_fill_row
714   0000              	GLOBAL _enemy_avoid_fall_dead
715   0000              	GLOBAL _enemy_avoid_fall
716   0000              	GLOBAL _enemy_respawn
717   0000              	GLOBAL _enemy_init
718   0000              	GLOBAL _enemy_move
719   0000              	GLOBAL _enemy_turn
720   0000              	GLOBAL _enemy_hit
721   0000              	GLOBAL _enemy_coin1
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_fx_play
727   0000              	GLOBAL _ay_midi_play
728   0000              	GLOBAL _ay_is_playing
729   0000              	GLOBAL _ay_reset
730   0000              	GLOBAL _test_func
731   0000              	GLOBAL _test_proc
732   0000              	GLOBAL _in_mouse_kempston_wheel_delta
733   0000              	GLOBAL _in_mouse_kempston_wheel
734   0000              	GLOBAL _in_mouse_kempston_callee
735   0000              	GLOBAL _in_mouse_kempston
736   0000              	GLOBAL _in_mouse_kempston_setpos_callee
737   0000              	GLOBAL _in_mouse_kempston_setpos
738   0000              	GLOBAL _in_mouse_kempston_reset
739   0000              	GLOBAL _in_mouse_kempston_init
740   0000              	GLOBAL _in_mouse_amx_wheel_delta
741   0000              	GLOBAL _in_mouse_amx_wheel
742   0000              	GLOBAL _in_mouse_amx_callee
743   0000              	GLOBAL _in_mouse_amx
744   0000              	GLOBAL _in_mouse_amx_setpos_callee
745   0000              	GLOBAL _in_mouse_amx_setpos
746   0000              	GLOBAL _in_mouse_amx_reset
747   0000              	GLOBAL _in_mouse_amx_init_callee
748   0000              	GLOBAL _in_mouse_amx_init
749   0000              	GLOBAL _in_stick_sinclair2
750   0000              	GLOBAL _in_stick_sinclair1
751   0000              	GLOBAL _in_stick_kempston
752   0000              	GLOBAL _in_stick_fuller
753   0000              	GLOBAL _in_stick_cursor
754   0000              	GLOBAL _in_stick_keyboard_fastcall
755   0000              	GLOBAL _in_stick_keyboard
756   0000              	GLOBAL _in_wait_nokey
757   0000              	GLOBAL _in_wait_key
758   0000              	GLOBAL _in_test_key
759   0000              	GLOBAL _in_pause_fastcall
760   0000              	GLOBAL _in_pause
761   0000              	GLOBAL _in_key_scancode_fastcall
762   0000              	GLOBAL _in_key_scancode
763   0000              	GLOBAL _in_key_pressed_fastcall
764   0000              	GLOBAL _in_key_pressed
765   0000              	GLOBAL _in_inkey
766   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
767   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
768   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
769   0000              	GLOBAL _NIRVANAP_HOLE
770   0000              	GLOBAL _NIRVANAP_ISR_HOOK
771   0000              	GLOBAL _player_lvl_table
772   0000              	GLOBAL _map_paper_last
773   0000              	GLOBAL _map_paper_clr
774   0000              	GLOBAL _map_paper
775   0000              	GLOBAL _draw_count
776   0000              	GLOBAL _g_player_hit_right
777   0000              	GLOBAL _g_player_hit_left
778   0000              	GLOBAL _joynames
779   0000              	GLOBAL _initials
780   0000              	GLOBAL _bullet_count
781   0000              	GLOBAL _bullet_vel
782   0000              	GLOBAL _bullet_frames
783   0000              	GLOBAL _bullet_colint
784   0000              	GLOBAL _bullet_dir
785   0000              	GLOBAL _bullet_tile
786   0000              	GLOBAL _bullet_col
787   0000              	GLOBAL _bullet_lin
788   0000              	GLOBAL _bullet_col0
789   0000              	GLOBAL _bullet_lin0
790   0000              	GLOBAL _bullet_max
791   0000              	GLOBAL _bullet_class
792   0000              	GLOBAL _mush_class
793   0000              	GLOBAL _mush_index
794   0000              	GLOBAL _anim_count
795   0000              	GLOBAL _anim_respanwn
796   0000              	GLOBAL _anim_loop
797   0000              	GLOBAL _anim_end
798   0000              	GLOBAL _anim_int
799   0000              	GLOBAL _anim_tile
800   0000              	GLOBAL _anim_col
801   0000              	GLOBAL _anim_lin
802   0000              	GLOBAL _phase_curr
803   0000              	GLOBAL _map_heigth
804   0000              	GLOBAL _map_width
805   0000              	GLOBAL _scr_curr
806   0000              	GLOBAL _scr_obj1
807   0000              	GLOBAL _scr_obj0
808   0000              	GLOBAL _scr_map
809   0000              	GLOBAL _sprite_speed_alt
810   0000              	GLOBAL _sprite_frames
811   0000              	GLOBAL _sprite_speed
812   0000              	GLOBAL _screen_ink
813   0000              	GLOBAL _screen_paper
814   0000              	GLOBAL _player_over_stair
815   0000              	GLOBAL _game_start_scr
816   0000              	GLOBAL _game_respawning
817   0000              	GLOBAL _game_respawn_tile
818   0000              	GLOBAL _game_respawn_index
819   0000              	GLOBAL _game_menu_sel
820   0000              	GLOBAL _game_score_top
821   0000              	GLOBAL _player_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_sound
824   0000              	GLOBAL _game_inmune
825   0000              	GLOBAL _game_god_mode
826   0000              	GLOBAL _game_two_player
827   0000              	GLOBAL _game_brick_tile
828   0000              	GLOBAL _sprite_curr_index
829   0000              	GLOBAL _spr_count
830   0000              	GLOBAL _bullet_time
831   0000              	GLOBAL _anim_time
832   0000              	GLOBAL _frame_time
833   0000              	GLOBAL _entry_time
834   0000              	GLOBAL _curr_time
835   0000              	GLOBAL _s_state
836   0000              	GLOBAL _attrib_hl
837   0000              	GLOBAL _attrib
838   0000              	GLOBAL _zx_val_asm
839   0000              	GLOBAL _enemies
840   0000              	GLOBAL _tmp_ui
841   0000              	GLOBAL _tmp_sc
842   0000              	GLOBAL _tmp_uc
843   0000              	GLOBAL _tmp1
844   0000              	GLOBAL _tmp0
845   0000              	GLOBAL _tmp
846   0000              	GLOBAL _index1
847   0000              	GLOBAL _index0
848   0000              	GLOBAL _loop_count
849   0000              	GLOBAL _s_col1
850   0000              	GLOBAL _s_col0
851   0000              	GLOBAL _s_lin1
852   0000              	GLOBAL _s_lin0
853   0000              	GLOBAL _s_tile1
854   0000              	GLOBAL _s_tile0
855   0000              	GLOBAL _player_hit_count
856   0000              	GLOBAL _sprite_horizontal_check
857   0000              	GLOBAL _sprite_on_air
858   0000              	GLOBAL _sprite
859   0000              	GLOBAL _game_gravity
860   0000              	GLOBAL _player_hit_time
861   0000              	GLOBAL _player_lvl
862   0000              	GLOBAL _player_int
863   0000              	GLOBAL _player_str
864   0000              	GLOBAL _player_max_vita
865   0000              	GLOBAL _player_max_mana
866   0000              	GLOBAL _player_vita
867   0000              	GLOBAL _player_mana
868   0000              	GLOBAL _player_keys
869   0000              	GLOBAL _player_vel_inc
870   0000              	GLOBAL _player_vel_y1
871   0000              	GLOBAL _player_vel_y0
872   0000              	GLOBAL _player_vel_y
873   0000              	GLOBAL _player_vel_x
874   0000              	GLOBAL _player_joy
875   0000              	GLOBAL _player_score
876   0000              	GLOBAL _last_time
877   0000              	GLOBAL _player_slide
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_hit_col
881   0000              	GLOBAL _player_hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k1
892   0000              	GLOBAL _joyfunc1
893   0000              	GLOBAL _btiles
894   0000              	GLOBAL _spec128
895   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
896   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
898   0000              	GLOBAL _ay_effect_20
899   0000              	GLOBAL _ay_effect_19
900   0000              	GLOBAL _ay_effect_18
901   0000              	GLOBAL _ay_effect_17
902   0000              	GLOBAL _ay_effect_16
903   0000              	GLOBAL _ay_effect_15
904   0000              	GLOBAL _ay_effect_14
905   0000              	GLOBAL _ay_effect_13
906   0000              	GLOBAL _ay_effect_12
907   0000              	GLOBAL _ay_effect_11
908   0000              	GLOBAL _ay_effect_10
909   0000              	GLOBAL _ay_effect_09
910   0000              	GLOBAL _ay_effect_08
911   0000              	GLOBAL _ay_effect_07
912   0000              	GLOBAL _ay_effect_06
913   0000              	GLOBAL _ay_effect_05
914   0000              	GLOBAL _ay_effect_04
915   0000              	GLOBAL _ay_effect_03
916   0000              	GLOBAL _ay_effect_02
917   0000              	GLOBAL _ay_effect_01
918   0000              	GLOBAL _pb_midi_phase_1
919   0000              	GLOBAL _pb_midi_title
920   0000              	GLOBAL _control_method
921   0000              	GLOBAL _world0
922   0000              	GLOBAL _lenght0
923   0000              	GLOBAL _start_scr0
924   0000              ;--------------------------------------------------------
925   0000              ; special function registers
926   0000              ;--------------------------------------------------------
927   0000              defc _IO_FE	=	0x00fe
928   0000              defc _IO_1FFD	=	0x1ffd
929   0000              defc _IO_7FFD	=	0x7ffd
930   0000              ;--------------------------------------------------------
931   0000              ; ram data
932   0000              ;--------------------------------------------------------
933   0000              	SECTION bss_compiler
934   0000              ;--------------------------------------------------------
935   0000              ; ram data
936   0000              ;--------------------------------------------------------
937   0000              
938   0000              IF 0
939   0000              
940   0000              ; .area _INITIALIZED removed by z88dk
941   0000              
942   0000              
943   0000              ENDIF
944   0000              
945   0000              ;--------------------------------------------------------
946   0000              ; absolute external ram data
947   0000              ;--------------------------------------------------------
948   0000              	SECTION IGNORE
949   0000              ;--------------------------------------------------------
950   0000              ; global & static initialisations
951   0000              ;--------------------------------------------------------
952   0000              	SECTION code_crt_init
953   0000              ;--------------------------------------------------------
954   0000              ; Home
955   0000              ;--------------------------------------------------------
956   0000              	SECTION IGNORE
957   0000              ;--------------------------------------------------------
958   0000              ; code
959   0000              ;--------------------------------------------------------
960   0000              	SECTION code_compiler
961   0000              ;	---------------------------------
962   0000              ; Function game_loop
963   0000              ; ---------------------------------
964   0000              _game_loop:
965   0000  CD 00 00    	call	___sdcc_enter_ix
966   0003  F5          	push	af
967   0004              l_game_loop_00119:
968   0004  3A 00 00    	ld	a,(_game_over)
969   0007  B7          	or	a, a
970   0008  C2 20 01    	jp	NZ, l_game_loop_00122
971   000B  21 06 00    	ld	hl,0x0006
972   000E  E5          	push	hl
973   000F  2A 00 00    	ld	hl,(_anim_time)
974   0012  E5          	push	hl
975   0013  CD 87 09    	call	_game_check_time
976   0016  F1          	pop	af
977   0017  F1          	pop	af
978   0018  7D          	ld	a, l
979   0019  B7          	or	a, a
980   001A  28 14       	jr	Z,l_game_loop_00104
981   001C  2E 00       	ld	l,0x00
982   001E  CD 00 00    	call	_zx_border_fastcall
983   0021  2A 00 00    	ld	hl,(_curr_time)
984   0024  22 00 00    	ld	(_anim_time),hl
985   0027  3A 00 00    	ld	a,(_anim_count)
986   002A  B7          	or	a,a
987   002B  28 03       	jr	Z,l_game_loop_00104
988   002D  CD 00 00    	call	_spr_play_anim
989   0030              l_game_loop_00104:
990   0030  21 02 00    	ld	hl,0x0002
991   0033  E5          	push	hl
992   0034  2A 00 00    	ld	hl,(_bullet_time)
993   0037  E5          	push	hl
994   0038  CD 87 09    	call	_game_check_time
995   003B  F1          	pop	af
996   003C  F1          	pop	af
997   003D  7D          	ld	a, l
998   003E  B7          	or	a, a
999   003F  28 0F       	jr	Z,l_game_loop_00108
1000  0041  2A 00 00    	ld	hl,(_curr_time)
1001  0044  22 00 00    	ld	(_bullet_time),hl
1002  0047  3A 00 00    	ld	a,(_bullet_count)
1003  004A  B7          	or	a,a
1004  004B  28 03       	jr	Z,l_game_loop_00108
1005  004D  CD 00 00    	call	_spr_play_bullets
1006  0050              l_game_loop_00108:
1007  0050  21 64 00    	ld	hl,0x0064
1008  0053  E5          	push	hl
1009  0054  2A 00 00    	ld	hl,(_frame_time)
1010  0057  E5          	push	hl
1011  0058  CD 87 09    	call	_game_check_time
1012  005B  F1          	pop	af
1013  005C  F1          	pop	af
1014  005D  7D          	ld	a, l
1015  005E  B7          	or	a, a
1016  005F  CA 01 01    	jp	Z, l_game_loop_00118
1017  0062  21 00 00    	ld	hl,_screen_ink
1018  0065  36 07       	ld	(hl),0x07
1019  0067  E1          	pop	hl
1020  0068  E5          	push	hl
1021  0069  E5          	push	hl
1022  006A  21 17 18    	ld	hl,0x1817
1023  006D  E5          	push	hl
1024  006E  CD 00 00    	call	_zx_print_int
1025  0071  21 00 00    	ld	hl,0x0000
1026  0074  E3          	ex	(sp), hl
1027  0075  2A 00 00    	ld	hl,(_curr_time)
1028  0078  22 00 00    	ld	(_frame_time),hl
1029  007B  3A 00 00    	ld	a,(_game_respawning)
1030  007E  B7          	or	a,a
1031  007F  C2 01 01    	jp	NZ,l_game_loop_00118
1032  0082  21 00 00    	ld	hl,_sprite
1033  0085  36 00       	ld	(hl),0x00
1034  0087              l_game_loop_00112:
1035  0087  21 00 00    	ld	hl,_sprite
1036  008A  7E          	ld	a, (hl)
1037  008B  D6 07       	sub	a,0x07
1038  008D  30 72       	jr	NC,l_game_loop_00118
1039  008F  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1040  0091  86          	add	a, (hl)
1041  0092  4F          	ld	c, a
1042  0093  3E 00       	ld	a, +((_game_respawn_index) / 256)
1043  0095  CE 00       	adc	a,0x00
1044  0097  47          	ld	b, a
1045  0098  0A          	ld	a, (bc)
1046  0099  4F          	ld	c,a
1047  009A  B7          	or	a, a
1048  009B  28 5E       	jr	Z,l_game_loop_00110
1049  009D  5E          	ld	e,(hl)
1050  009E  16 00       	ld	d,0x00
1051  00A0  21 00 00    	ld	hl,_class
1052  00A3  19          	add	hl,de
1053  00A4  7E          	ld	a,(hl)
1054  00A5  B7          	or	a, a
1055  00A6  20 53       	jr	NZ,l_game_loop_00110
1056  00A8  21 00 00    	ld	hl,_index1
1057  00AB  71          	ld	(hl), c
1058  00AC  23          	inc	hl
1059  00AD  36 00       	ld	(hl),0x00
1060  00AF  2B          	dec	hl
1061  00B0  7E          	ld	a,(hl)
1062  00B1  4F          	ld	c,a
1063  00B2  E6 0F       	and	a,0x0f
1064  00B4  87          	add	a, a
1065  00B5  32 00 00    	ld	(_s_col1),a
1066  00B8  21 00 00    	ld	hl,_s_lin1
1067  00BB  71          	ld	(hl),c
1068  00BC  79          	ld	a,c
1069  00BD  07          	rlca
1070  00BE  07          	rlca
1071  00BF  07          	rlca
1072  00C0  07          	rlca
1073  00C1  E6 0F       	and	a,0x0f
1074  00C3  07          	rlca
1075  00C4  07          	rlca
1076  00C5  07          	rlca
1077  00C6  07          	rlca
1078  00C7  E6 F0       	and	a,0xf0
1079  00C9  77          	ld	(hl), a
1080  00CA  01 00 00    	ld	bc,_scr_map
1081  00CD  2A 00 00    	ld	hl,(_index1)
1082  00D0  09          	add	hl,bc
1083  00D1  36 FF       	ld	(hl),0xff
1084  00D3  2A 00 00    	ld	hl,(_sprite)
1085  00D6  26 00       	ld	h,0x00
1086  00D8  01 00 00    	ld	bc,_game_respawn_tile
1087  00DB  09          	add	hl,bc
1088  00DC  7E          	ld	a,(hl)
1089  00DD  F5          	push	af
1090  00DE  33          	inc	sp
1091  00DF  21 03 04    	ld	hl,0x0403
1092  00E2  E5          	push	hl
1093  00E3  2A 00 00    	ld	hl,(_s_col1)
1094  00E6  26 8A       	ld	h,0x8a
1095  00E8  3A 00 00    	ld	a,(_s_lin1)
1096  00EB  E5          	push	hl
1097  00EC  F5          	push	af
1098  00ED  33          	inc	sp
1099  00EE  CD 00 00    	call	_spr_add_anim
1100  00F1  F1          	pop	af
1101  00F2  F1          	pop	af
1102  00F3  F1          	pop	af
1103  00F4  21 00 00    	ld	hl,_game_respawning
1104  00F7  36 01       	ld	(hl),0x01
1105  00F9  18 06       	jr	l_game_loop_00118
1106  00FB              l_game_loop_00110:
1107  00FB  21 00 00    	ld	hl,_sprite
1108  00FE  34          	inc	(hl)
1109  00FF  18 86       	jr	l_game_loop_00112
1110  0101              l_game_loop_00118:
1111  0101  CD 00 00    	call	_enemy_turn
1112  0104  21 00 00    	ld	hl,_sprite
1113  0107  36 07       	ld	(hl),0x07
1114  0109  CD 00 00    	call	_player_turn
1115  010C  21 00 00    	ld	hl,_loop_count
1116  010F  34          	inc	(hl)
1117  0110  20 02       	jr	NZ,l_game_loop_00172
1118  0112  23          	inc	hl
1119  0113  34          	inc	(hl)
1120  0114              l_game_loop_00172:
1121  0114  DD 34 FE    	inc	(ix-2)
1122  0117  C2 04 00    	jp	NZ,l_game_loop_00119
1123  011A  DD 34 FF    	inc	(ix-1)
1124  011D  C3 04 00    	jp	l_game_loop_00119
1125  0120              l_game_loop_00122:
1126  0120  F1          	pop	af
1127  0121  DD E1       	pop	ix
1128  0123  C9          	ret
1129  0124              	SECTION code_compiler
1130  0124              ;	---------------------------------
1131  0124              ; Function game_draw_screen
1132  0124              ; ---------------------------------
1133  0124              _game_draw_screen:
1134  0124  CD 00 00    	call	___sdcc_enter_ix
1135  0127  3B          	dec	sp
1136  0128  76          	halt
1137  0129  21 00 00    	ld	hl,_spr_count
1138  012C  36 00       	ld	(hl),0x00
1139  012E              l_game_draw_screen_00101:
1140  012E  21 00 00    	ld	hl,_spr_count
1141  0131  7E          	ld	a, (hl)
1142  0132  D6 07       	sub	a,0x07
1143  0134  30 3A       	jr	NC,l_game_draw_screen_00103
1144  0136  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1145  0138  86          	add	a, (hl)
1146  0139  4F          	ld	c, a
1147  013A  3E 00       	ld	a, +((_game_respawn_index) / 256)
1148  013C  CE 00       	adc	a,0x00
1149  013E  47          	ld	b, a
1150  013F  AF          	xor	a, a
1151  0140  02          	ld	(bc), a
1152  0141  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1153  0143  86          	add	a, (hl)
1154  0144  4F          	ld	c, a
1155  0145  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1156  0147  CE 00       	adc	a,0x00
1157  0149  47          	ld	b, a
1158  014A  AF          	xor	a, a
1159  014B  02          	ld	(bc), a
1160  014C  3E 00       	ld	a, +((_mush_index) & 0xFF)
1161  014E  86          	add	a, (hl)
1162  014F  4F          	ld	c, a
1163  0150  3E 00       	ld	a, +((_mush_index) / 256)
1164  0152  CE 00       	adc	a,0x00
1165  0154  47          	ld	b, a
1166  0155  AF          	xor	a, a
1167  0156  02          	ld	(bc), a
1168  0157  3E 00       	ld	a, +((_mush_class) & 0xFF)
1169  0159  86          	add	a, (hl)
1170  015A  4F          	ld	c, a
1171  015B  3E 00       	ld	a, +((_mush_class) / 256)
1172  015D  CE 00       	adc	a,0x00
1173  015F  47          	ld	b, a
1174  0160  AF          	xor	a, a
1175  0161  02          	ld	(bc), a
1176  0162  3E 00       	ld	a, +((_class) & 0xFF)
1177  0164  86          	add	a, (hl)
1178  0165  4F          	ld	c, a
1179  0166  3E 00       	ld	a, +((_class) / 256)
1180  0168  CE 00       	adc	a,0x00
1181  016A  47          	ld	b, a
1182  016B  AF          	xor	a, a
1183  016C  02          	ld	(bc), a
1184  016D  34          	inc	(hl)
1185  016E  18 BE       	jr	l_game_draw_screen_00101
1186  0170              l_game_draw_screen_00103:
1187  0170  21 00 00    	ld	hl,_game_respawning
1188  0173  36 00       	ld	(hl),0x00
1189  0175  21 10 00    	ld	hl,0x0010
1190  0178  22 00 00    	ld	(_index1),hl
1191  017B  21 00 00    	ld	hl,_s_lin1
1192  017E  36 00       	ld	(hl),0x00
1193  0180  21 00 00    	ld	hl,_s_col1
1194  0183  36 02       	ld	(hl),0x02
1195  0185  21 00 00    	ld	hl,_spr_count
1196  0188  36 00       	ld	(hl),0x00
1197  018A  F3          	di
1198  018B  DD 36 FF 00 	ld	(ix-1),0x00
1199  018F              l_game_draw_screen_00119:
1200  018F  21 00 00    	ld	hl,_index1
1201  0192  7E          	ld	a, (hl)
1202  0193  D6 A0       	sub	a,0xa0
1203  0195  23          	inc	hl
1204  0196  7E          	ld	a, (hl)
1205  0197  DE 00       	sbc	a,0x00
1206  0199  D2 8C 02    	jp	NC, l_game_draw_screen_00121
1207  019C  2B          	dec	hl
1208  019D  7E          	ld	a, (hl)
1209  019E  E6 0F       	and	a,0x0f
1210  01A0  20 0C       	jr	NZ,l_game_draw_screen_00105
1211  01A2  21 00 00    	ld	hl,_s_lin1
1212  01A5  7E          	ld	a, (hl)
1213  01A6  C6 10       	add	a,0x10
1214  01A8  77          	ld	(hl), a
1215  01A9  21 00 00    	ld	hl,_s_col1
1216  01AC  36 00       	ld	(hl),0x00
1217  01AE              l_game_draw_screen_00105:
1218  01AE  2A 00 00    	ld	hl,(_index1)
1219  01B1  01 00 00    	ld	bc,_scr_map
1220  01B4  09          	add	hl,bc
1221  01B5  7E          	ld	a,(hl)
1222  01B6  FE 60       	cp	a,0x60
1223  01B8  30 36       	jr	NC,l_game_draw_screen_00117
1224  01BA  D6 5C       	sub	a,0x5c
1225  01BC  20 19       	jr	NZ,l_game_draw_screen_00107
1226  01BE  2A 00 00    	ld	hl,(_index1)
1227  01C1  01 F0 FF    	ld	bc,0xfff0
1228  01C4  09          	add	hl,bc
1229  01C5  E5          	push	hl
1230  01C6  CD FC 0B    	call	_game_obj_chk
1231  01C9  F1          	pop	af
1232  01CA  7D          	ld	a, l
1233  01CB  B7          	or	a, a
1234  01CC  28 09       	jr	Z,l_game_draw_screen_00107
1235  01CE  01 00 00    	ld	bc,_scr_map
1236  01D1  2A 00 00    	ld	hl,(_index1)
1237  01D4  09          	add	hl,bc
1238  01D5  36 4F       	ld	(hl),0x4f
1239  01D7              l_game_draw_screen_00107:
1240  01D7  01 00 00    	ld	bc,_scr_map
1241  01DA  2A 00 00    	ld	hl,(_index1)
1242  01DD  09          	add	hl,bc
1243  01DE  46          	ld	b, (hl)
1244  01DF  3A 00 00    	ld	a,(_s_col1)
1245  01E2  F5          	push	af
1246  01E3  33          	inc	sp
1247  01E4  3A 00 00    	ld	a,(_s_lin1)
1248  01E7  48          	ld	c,b
1249  01E8  47          	ld	b,a
1250  01E9  C5          	push	bc
1251  01EA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1252  01ED  C3 7B 02    	jp	l_game_draw_screen_00118
1253  01F0              l_game_draw_screen_00117:
1254  01F0  D6 78       	sub	a,0x78
1255  01F2  30 39       	jr	NC,l_game_draw_screen_00114
1256  01F4  21 00 00    	ld	hl,_spr_count
1257  01F7  7E          	ld	a, (hl)
1258  01F8  D6 08       	sub	a,0x08
1259  01FA  30 76       	jr	NC,l_game_draw_screen_00115
1260  01FC  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1261  01FE  86          	add	a, (hl)
1262  01FF  4F          	ld	c, a
1263  0200  3E 00       	ld	a, +((_game_respawn_index) / 256)
1264  0202  CE 00       	adc	a,0x00
1265  0204  47          	ld	b, a
1266  0205  3A 00 00    	ld	a,(_index1)
1267  0208  02          	ld	(bc), a
1268  0209  2A 00 00    	ld	hl,(_spr_count)
1269  020C  26 00       	ld	h,0x00
1270  020E  01 00 00    	ld	bc,_game_respawn_tile
1271  0211  09          	add	hl,bc
1272  0212  4D          	ld	c,l
1273  0213  44          	ld	b,h
1274  0214  2A 00 00    	ld	hl,(_index1)
1275  0217  11 00 00    	ld	de,_scr_map
1276  021A  19          	add	hl,de
1277  021B  7E          	ld	a,(hl)
1278  021C  02          	ld	(bc),a
1279  021D  01 00 00    	ld	bc,_scr_map
1280  0220  2A 00 00    	ld	hl,(_index1)
1281  0223  09          	add	hl,bc
1282  0224  7E          	ld	a,(hl)
1283  0225  F5          	push	af
1284  0226  33          	inc	sp
1285  0227  CD 91 02    	call	_game_add_enemy
1286  022A  33          	inc	sp
1287  022B  18 45       	jr	l_game_draw_screen_00115
1288  022D              l_game_draw_screen_00114:
1289  022D  2A 00 00    	ld	hl,(_index1)
1290  0230  E5          	push	hl
1291  0231  CD FC 0B    	call	_game_obj_chk
1292  0234  F1          	pop	af
1293  0235  7D          	ld	a, l
1294  0236  B7          	or	a, a
1295  0237  20 2B       	jr	NZ,l_game_draw_screen_00112
1296  0239  3E 00       	ld	a, +((_mush_index) & 0xFF)
1297  023B  DD 86 FF    	add	a,(ix-1)
1298  023E  4F          	ld	c, a
1299  023F  3E 00       	ld	a, +((_mush_index) / 256)
1300  0241  CE 00       	adc	a,0x00
1301  0243  47          	ld	b, a
1302  0244  21 00 00    	ld	hl,_index1
1303  0247  7E          	ld	a, (hl)
1304  0248  C6 10       	add	a,0x10
1305  024A  02          	ld	(bc), a
1306  024B  3E 00       	ld	a, +((_mush_class) & 0xFF)
1307  024D  DD 86 FF    	add	a,(ix-1)
1308  0250  4F          	ld	c, a
1309  0251  3E 00       	ld	a, +((_mush_class) / 256)
1310  0253  CE 00       	adc	a,0x00
1311  0255  47          	ld	b, a
1312  0256  3E 00       	ld	a, +((_scr_map) & 0xFF)
1313  0258  86          	add	a, (hl)
1314  0259  5F          	ld	e, a
1315  025A  3E 00       	ld	a, +((_scr_map) / 256)
1316  025C  23          	inc	hl
1317  025D  8E          	adc	a, (hl)
1318  025E  57          	ld	d, a
1319  025F  1A          	ld	a, (de)
1320  0260  02          	ld	(bc), a
1321  0261  DD 34 FF    	inc	(ix-1)
1322  0264              l_game_draw_screen_00112:
1323  0264  2A FF FF    	ld	hl,(_s_col1 - 1)
1324  0267  3A 00 00    	ld	a,(_s_lin1)
1325  026A  6F          	ld	l,a
1326  026B  E5          	push	hl
1327  026C  AF          	xor	a, a
1328  026D  F5          	push	af
1329  026E  33          	inc	sp
1330  026F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1331  0272              l_game_draw_screen_00115:
1332  0272  01 00 00    	ld	bc,_scr_map
1333  0275  2A 00 00    	ld	hl,(_index1)
1334  0278  09          	add	hl,bc
1335  0279  AF          	xor	a,a
1336  027A  77          	ld	(hl),a
1337  027B              l_game_draw_screen_00118:
1338  027B  21 00 00    	ld	hl,_s_col1
1339  027E  34          	inc	(hl)
1340  027F  34          	inc	(hl)
1341  0280  21 00 00    	ld	hl,_index1
1342  0283  34          	inc	(hl)
1343  0284  C2 8F 01    	jp	NZ,l_game_draw_screen_00119
1344  0287  23          	inc	hl
1345  0288  34          	inc	(hl)
1346  0289  C3 8F 01    	jp	l_game_draw_screen_00119
1347  028C              l_game_draw_screen_00121:
1348  028C  FB          	ei
1349  028D  33          	inc	sp
1350  028E  DD E1       	pop	ix
1351  0290  C9          	ret
1352  0291              	SECTION code_compiler
1353  0291              ;	---------------------------------
1354  0291              ; Function game_add_enemy
1355  0291              ; ---------------------------------
1356  0291              _game_add_enemy:
1357  0291  CD 00 00    	call	___sdcc_enter_ix
1358  0294  DD 7E 04    	ld	a,(ix+4)
1359  0297  D6 60       	sub	a,0x60
1360  0299  DA 6D 04    	jp	C, l_game_add_enemy_00120
1361  029C  3E 71       	ld	a,0x71
1362  029E  DD 96 04    	sub	a,(ix+4)
1363  02A1  DA 6D 04    	jp	C, l_game_add_enemy_00120
1364  02A4  DD 7E 04    	ld	a,(ix+4)
1365  02A7  C6 A0       	add	a,0xa0
1366  02A9  4F          	ld	c, a
1367  02AA  06 00       	ld	b,0x00
1368  02AC  21 B3 02    	ld	hl,l_game_add_enemy_00130
1369  02AF  09          	add	hl, bc
1370  02B0  09          	add	hl, bc
1371  02B1  09          	add	hl, bc
1372  02B2  E9          	jp	(hl)
1373  02B3              l_game_add_enemy_00130:
1374  02B3  C3 FF 02    	jp	l_game_add_enemy_00102
1375  02B6  C3 E9 02    	jp	l_game_add_enemy_00101
1376  02B9  C3 2B 03    	jp	l_game_add_enemy_00104
1377  02BC  C3 15 03    	jp	l_game_add_enemy_00103
1378  02BF  C3 57 03    	jp	l_game_add_enemy_00106
1379  02C2  C3 41 03    	jp	l_game_add_enemy_00105
1380  02C5  C3 83 03    	jp	l_game_add_enemy_00108
1381  02C8  C3 6D 03    	jp	l_game_add_enemy_00107
1382  02CB  C3 AF 03    	jp	l_game_add_enemy_00110
1383  02CE  C3 99 03    	jp	l_game_add_enemy_00109
1384  02D1  C3 DB 03    	jp	l_game_add_enemy_00112
1385  02D4  C3 C5 03    	jp	l_game_add_enemy_00111
1386  02D7  C3 F1 03    	jp	l_game_add_enemy_00113
1387  02DA  C3 06 04    	jp	l_game_add_enemy_00114
1388  02DD  C3 1B 04    	jp	l_game_add_enemy_00115
1389  02E0  C3 30 04    	jp	l_game_add_enemy_00116
1390  02E3  C3 45 04    	jp	l_game_add_enemy_00117
1391  02E6  C3 5A 04    	jp	l_game_add_enemy_00118
1392  02E9              l_game_add_enemy_00101:
1393  02E9  3A 00 00    	ld	a,(_s_col1)
1394  02EC  21 0B 01    	ld	hl,0x010b
1395  02EF  E5          	push	hl
1396  02F0  F5          	push	af
1397  02F1  33          	inc	sp
1398  02F2  3A 00 00    	ld	a,(_s_lin1)
1399  02F5  F5          	push	af
1400  02F6  33          	inc	sp
1401  02F7  CD 00 00    	call	_enemy_init
1402  02FA  F1          	pop	af
1403  02FB  F1          	pop	af
1404  02FC  C3 6D 04    	jp	l_game_add_enemy_00120
1405  02FF              l_game_add_enemy_00102:
1406  02FF  3A 00 00    	ld	a,(_s_col1)
1407  0302  21 0B FF    	ld	hl,0xff0b
1408  0305  E5          	push	hl
1409  0306  F5          	push	af
1410  0307  33          	inc	sp
1411  0308  3A 00 00    	ld	a,(_s_lin1)
1412  030B  F5          	push	af
1413  030C  33          	inc	sp
1414  030D  CD 00 00    	call	_enemy_init
1415  0310  F1          	pop	af
1416  0311  F1          	pop	af
1417  0312  C3 6D 04    	jp	l_game_add_enemy_00120
1418  0315              l_game_add_enemy_00103:
1419  0315  3A 00 00    	ld	a,(_s_col1)
1420  0318  21 0C 01    	ld	hl,0x010c
1421  031B  E5          	push	hl
1422  031C  F5          	push	af
1423  031D  33          	inc	sp
1424  031E  3A 00 00    	ld	a,(_s_lin1)
1425  0321  F5          	push	af
1426  0322  33          	inc	sp
1427  0323  CD 00 00    	call	_enemy_init
1428  0326  F1          	pop	af
1429  0327  F1          	pop	af
1430  0328  C3 6D 04    	jp	l_game_add_enemy_00120
1431  032B              l_game_add_enemy_00104:
1432  032B  3A 00 00    	ld	a,(_s_col1)
1433  032E  21 0C FF    	ld	hl,0xff0c
1434  0331  E5          	push	hl
1435  0332  F5          	push	af
1436  0333  33          	inc	sp
1437  0334  3A 00 00    	ld	a,(_s_lin1)
1438  0337  F5          	push	af
1439  0338  33          	inc	sp
1440  0339  CD 00 00    	call	_enemy_init
1441  033C  F1          	pop	af
1442  033D  F1          	pop	af
1443  033E  C3 6D 04    	jp	l_game_add_enemy_00120
1444  0341              l_game_add_enemy_00105:
1445  0341  3A 00 00    	ld	a,(_s_col1)
1446  0344  21 0D 01    	ld	hl,0x010d
1447  0347  E5          	push	hl
1448  0348  F5          	push	af
1449  0349  33          	inc	sp
1450  034A  3A 00 00    	ld	a,(_s_lin1)
1451  034D  F5          	push	af
1452  034E  33          	inc	sp
1453  034F  CD 00 00    	call	_enemy_init
1454  0352  F1          	pop	af
1455  0353  F1          	pop	af
1456  0354  C3 6D 04    	jp	l_game_add_enemy_00120
1457  0357              l_game_add_enemy_00106:
1458  0357  3A 00 00    	ld	a,(_s_col1)
1459  035A  21 0D FF    	ld	hl,0xff0d
1460  035D  E5          	push	hl
1461  035E  F5          	push	af
1462  035F  33          	inc	sp
1463  0360  3A 00 00    	ld	a,(_s_lin1)
1464  0363  F5          	push	af
1465  0364  33          	inc	sp
1466  0365  CD 00 00    	call	_enemy_init
1467  0368  F1          	pop	af
1468  0369  F1          	pop	af
1469  036A  C3 6D 04    	jp	l_game_add_enemy_00120
1470  036D              l_game_add_enemy_00107:
1471  036D  3A 00 00    	ld	a,(_s_col1)
1472  0370  21 0E 01    	ld	hl,0x010e
1473  0373  E5          	push	hl
1474  0374  F5          	push	af
1475  0375  33          	inc	sp
1476  0376  3A 00 00    	ld	a,(_s_lin1)
1477  0379  F5          	push	af
1478  037A  33          	inc	sp
1479  037B  CD 00 00    	call	_enemy_init
1480  037E  F1          	pop	af
1481  037F  F1          	pop	af
1482  0380  C3 6D 04    	jp	l_game_add_enemy_00120
1483  0383              l_game_add_enemy_00108:
1484  0383  3A 00 00    	ld	a,(_s_col1)
1485  0386  21 0E FF    	ld	hl,0xff0e
1486  0389  E5          	push	hl
1487  038A  F5          	push	af
1488  038B  33          	inc	sp
1489  038C  3A 00 00    	ld	a,(_s_lin1)
1490  038F  F5          	push	af
1491  0390  33          	inc	sp
1492  0391  CD 00 00    	call	_enemy_init
1493  0394  F1          	pop	af
1494  0395  F1          	pop	af
1495  0396  C3 6D 04    	jp	l_game_add_enemy_00120
1496  0399              l_game_add_enemy_00109:
1497  0399  3A 00 00    	ld	a,(_s_col1)
1498  039C  21 0F 01    	ld	hl,0x010f
1499  039F  E5          	push	hl
1500  03A0  F5          	push	af
1501  03A1  33          	inc	sp
1502  03A2  3A 00 00    	ld	a,(_s_lin1)
1503  03A5  F5          	push	af
1504  03A6  33          	inc	sp
1505  03A7  CD 00 00    	call	_enemy_init
1506  03AA  F1          	pop	af
1507  03AB  F1          	pop	af
1508  03AC  C3 6D 04    	jp	l_game_add_enemy_00120
1509  03AF              l_game_add_enemy_00110:
1510  03AF  3A 00 00    	ld	a,(_s_col1)
1511  03B2  21 0F FF    	ld	hl,0xff0f
1512  03B5  E5          	push	hl
1513  03B6  F5          	push	af
1514  03B7  33          	inc	sp
1515  03B8  3A 00 00    	ld	a,(_s_lin1)
1516  03BB  F5          	push	af
1517  03BC  33          	inc	sp
1518  03BD  CD 00 00    	call	_enemy_init
1519  03C0  F1          	pop	af
1520  03C1  F1          	pop	af
1521  03C2  C3 6D 04    	jp	l_game_add_enemy_00120
1522  03C5              l_game_add_enemy_00111:
1523  03C5  3A 00 00    	ld	a,(_s_col1)
1524  03C8  21 02 01    	ld	hl,0x0102
1525  03CB  E5          	push	hl
1526  03CC  F5          	push	af
1527  03CD  33          	inc	sp
1528  03CE  3A 00 00    	ld	a,(_s_lin1)
1529  03D1  F5          	push	af
1530  03D2  33          	inc	sp
1531  03D3  CD 00 00    	call	_enemy_init
1532  03D6  F1          	pop	af
1533  03D7  F1          	pop	af
1534  03D8  C3 6D 04    	jp	l_game_add_enemy_00120
1535  03DB              l_game_add_enemy_00112:
1536  03DB  3A 00 00    	ld	a,(_s_col1)
1537  03DE  21 02 FF    	ld	hl,0xff02
1538  03E1  E5          	push	hl
1539  03E2  F5          	push	af
1540  03E3  33          	inc	sp
1541  03E4  3A 00 00    	ld	a,(_s_lin1)
1542  03E7  F5          	push	af
1543  03E8  33          	inc	sp
1544  03E9  CD 00 00    	call	_enemy_init
1545  03EC  F1          	pop	af
1546  03ED  F1          	pop	af
1547  03EE  C3 6D 04    	jp	l_game_add_enemy_00120
1548  03F1              l_game_add_enemy_00113:
1549  03F1  3A 00 00    	ld	a,(_s_col1)
1550  03F4  21 03 01    	ld	hl,0x0103
1551  03F7  E5          	push	hl
1552  03F8  F5          	push	af
1553  03F9  33          	inc	sp
1554  03FA  3A 00 00    	ld	a,(_s_lin1)
1555  03FD  F5          	push	af
1556  03FE  33          	inc	sp
1557  03FF  CD 00 00    	call	_enemy_init
1558  0402  F1          	pop	af
1559  0403  F1          	pop	af
1560  0404  18 67       	jr	l_game_add_enemy_00120
1561  0406              l_game_add_enemy_00114:
1562  0406  3A 00 00    	ld	a,(_s_col1)
1563  0409  21 04 01    	ld	hl,0x0104
1564  040C  E5          	push	hl
1565  040D  F5          	push	af
1566  040E  33          	inc	sp
1567  040F  3A 00 00    	ld	a,(_s_lin1)
1568  0412  F5          	push	af
1569  0413  33          	inc	sp
1570  0414  CD 00 00    	call	_enemy_init
1571  0417  F1          	pop	af
1572  0418  F1          	pop	af
1573  0419  18 52       	jr	l_game_add_enemy_00120
1574  041B              l_game_add_enemy_00115:
1575  041B  3A 00 00    	ld	a,(_s_col1)
1576  041E  21 05 01    	ld	hl,0x0105
1577  0421  E5          	push	hl
1578  0422  F5          	push	af
1579  0423  33          	inc	sp
1580  0424  3A 00 00    	ld	a,(_s_lin1)
1581  0427  F5          	push	af
1582  0428  33          	inc	sp
1583  0429  CD 00 00    	call	_enemy_init
1584  042C  F1          	pop	af
1585  042D  F1          	pop	af
1586  042E  18 3D       	jr	l_game_add_enemy_00120
1587  0430              l_game_add_enemy_00116:
1588  0430  3A 00 00    	ld	a,(_s_col1)
1589  0433  21 10 01    	ld	hl,0x0110
1590  0436  E5          	push	hl
1591  0437  F5          	push	af
1592  0438  33          	inc	sp
1593  0439  3A 00 00    	ld	a,(_s_lin1)
1594  043C  F5          	push	af
1595  043D  33          	inc	sp
1596  043E  CD 00 00    	call	_enemy_init
1597  0441  F1          	pop	af
1598  0442  F1          	pop	af
1599  0443  18 28       	jr	l_game_add_enemy_00120
1600  0445              l_game_add_enemy_00117:
1601  0445  3A 00 00    	ld	a,(_s_col1)
1602  0448  21 12 01    	ld	hl,0x0112
1603  044B  E5          	push	hl
1604  044C  F5          	push	af
1605  044D  33          	inc	sp
1606  044E  3A 00 00    	ld	a,(_s_lin1)
1607  0451  F5          	push	af
1608  0452  33          	inc	sp
1609  0453  CD 00 00    	call	_enemy_init
1610  0456  F1          	pop	af
1611  0457  F1          	pop	af
1612  0458  18 13       	jr	l_game_add_enemy_00120
1613  045A              l_game_add_enemy_00118:
1614  045A  3A 00 00    	ld	a,(_s_col1)
1615  045D  21 13 01    	ld	hl,0x0113
1616  0460  E5          	push	hl
1617  0461  F5          	push	af
1618  0462  33          	inc	sp
1619  0463  3A 00 00    	ld	a,(_s_lin1)
1620  0466  F5          	push	af
1621  0467  33          	inc	sp
1622  0468  CD 00 00    	call	_enemy_init
1623  046B  F1          	pop	af
1624  046C  F1          	pop	af
1625  046D              l_game_add_enemy_00120:
1626  046D  DD E1       	pop	ix
1627  046F  C9          	ret
1628  0470              	SECTION code_compiler
1629  0470              ;	---------------------------------
1630  0470              ; Function game_print_footer
1631  0470              ; ---------------------------------
1632  0470              _game_print_footer:
1633  0470  21 00 00    	ld	hl,_screen_ink
1634  0473  36 05       	ld	(hl),0x05
1635  0475  21 13 62    	ld	hl,0x6213
1636  0478  E5          	push	hl
1637  0479  CD 00 00    	call	_game_fill_row
1638  047C  21 00 00    	ld	hl,___str_0
1639  047F  E5          	push	hl
1640  0480  21 13 00    	ld	hl,0x0013
1641  0483  E5          	push	hl
1642  0484  CD 00 00    	call	_zx_print_str
1643  0487  21 02 00    	ld	hl,___str_1
1644  048A  E5          	push	hl
1645  048B  21 13 1F    	ld	hl,0x1f13
1646  048E  E5          	push	hl
1647  048F  CD 00 00    	call	_zx_print_str
1648  0492  21 04 00    	ld	hl,___str_2
1649  0495  E5          	push	hl
1650  0496  21 14 00    	ld	hl,0x0014
1651  0499  E5          	push	hl
1652  049A  CD 00 00    	call	_zx_print_str
1653  049D  21 06 00    	ld	hl,___str_3
1654  04A0  E5          	push	hl
1655  04A1  21 14 1F    	ld	hl,0x1f14
1656  04A4  E5          	push	hl
1657  04A5  CD 00 00    	call	_zx_print_str
1658  04A8  21 04 00    	ld	hl,___str_2
1659  04AB  E5          	push	hl
1660  04AC  21 15 00    	ld	hl,0x0015
1661  04AF  E5          	push	hl
1662  04B0  CD 00 00    	call	_zx_print_str
1663  04B3  21 06 00    	ld	hl,___str_3
1664  04B6  E5          	push	hl
1665  04B7  21 15 1F    	ld	hl,0x1f15
1666  04BA  E5          	push	hl
1667  04BB  CD 00 00    	call	_zx_print_str
1668  04BE  21 04 00    	ld	hl,___str_2
1669  04C1  E5          	push	hl
1670  04C2  21 16 00    	ld	hl,0x0016
1671  04C5  E5          	push	hl
1672  04C6  CD 00 00    	call	_zx_print_str
1673  04C9  21 06 00    	ld	hl,___str_3
1674  04CC  E5          	push	hl
1675  04CD  21 16 1F    	ld	hl,0x1f16
1676  04D0  E5          	push	hl
1677  04D1  CD 00 00    	call	_zx_print_str
1678  04D4  21 17 62    	ld	hl,0x6217
1679  04D7  E5          	push	hl
1680  04D8  CD 00 00    	call	_game_fill_row
1681  04DB  21 08 00    	ld	hl,___str_4
1682  04DE  E5          	push	hl
1683  04DF  21 17 00    	ld	hl,0x0017
1684  04E2  E5          	push	hl
1685  04E3  CD 00 00    	call	_zx_print_str
1686  04E6  21 0A 00    	ld	hl,___str_5
1687  04E9  E5          	push	hl
1688  04EA  21 17 1F    	ld	hl,0x1f17
1689  04ED  E5          	push	hl
1690  04EE  CD 00 00    	call	_zx_print_str
1691  04F1  21 00 00    	ld	hl,_screen_ink
1692  04F4  36 05       	ld	(hl),0x05
1693  04F6  21 0C 00    	ld	hl,___str_6
1694  04F9  E5          	push	hl
1695  04FA  21 14 01    	ld	hl,0x0114
1696  04FD  E5          	push	hl
1697  04FE  CD 00 00    	call	_zx_print_str
1698  0501  21 00 00    	ld	hl,_screen_ink
1699  0504  36 06       	ld	(hl),0x06
1700  0506  21 0E 00    	ld	hl,___str_7
1701  0509  E5          	push	hl
1702  050A  21 15 01    	ld	hl,0x0115
1703  050D  E5          	push	hl
1704  050E  CD 00 00    	call	_zx_print_str
1705  0511  21 10 00    	ld	hl,___str_8
1706  0514  E5          	push	hl
1707  0515  21 17 14    	ld	hl,0x1417
1708  0518  E5          	push	hl
1709  0519  CD 00 00    	call	_zx_print_str
1710  051C  21 00 00    	ld	hl,_screen_ink
1711  051F  36 02       	ld	(hl),0x02
1712  0521  21 15 00    	ld	hl,___str_9
1713  0524  E5          	push	hl
1714  0525  21 14 07    	ld	hl,0x0714
1715  0528  E5          	push	hl
1716  0529  CD 00 00    	call	_zx_print_str
1717  052C  21 00 00    	ld	hl,_screen_ink
1718  052F  36 01       	ld	(hl),0x01
1719  0531  21 17 00    	ld	hl,___str_10
1720  0534  E5          	push	hl
1721  0535  21 14 0D    	ld	hl,0x0d14
1722  0538  E5          	push	hl
1723  0539  CD 00 00    	call	_zx_print_str
1724  053C  21 19 00    	ld	hl,___str_11
1725  053F  E5          	push	hl
1726  0540  21 16 03    	ld	hl,0x0316
1727  0543  E5          	push	hl
1728  0544  CD 00 00    	call	_zx_print_str
1729  0547  21 00 00    	ld	hl,_screen_ink
1730  054A  36 06       	ld	(hl),0x06
1731  054C  21 1C 00    	ld	hl,___str_12
1732  054F  E5          	push	hl
1733  0550  21 16 0E    	ld	hl,0x0e16
1734  0553  E5          	push	hl
1735  0554  CD 00 00    	call	_zx_print_str
1736  0557  21 1E 00    	ld	hl,___str_13
1737  055A  E5          	push	hl
1738  055B  21 16 14    	ld	hl,0x1416
1739  055E  E5          	push	hl
1740  055F  CD 00 00    	call	_zx_print_str
1741  0562  21 20 00    	ld	hl,___str_14
1742  0565  E5          	push	hl
1743  0566  21 16 1A    	ld	hl,0x1a16
1744  0569  E5          	push	hl
1745  056A  CD 00 00    	call	_zx_print_str
1746  056D  CD 82 05    	call	_game_update_stats
1747  0570  C9          	ret
1748  0571              	SECTION rodata_compiler
1749  0000              ___str_0:
1750  0000  61          	DEFM "a"
1751  0001  00          	DEFB 0x00
1752  0002              	SECTION rodata_compiler
1753  0002              ___str_1:
1754  0002  63          	DEFM "c"
1755  0003  00          	DEFB 0x00
1756  0004              	SECTION rodata_compiler
1757  0004              ___str_2:
1758  0004  64          	DEFM "d"
1759  0005  00          	DEFB 0x00
1760  0006              	SECTION rodata_compiler
1761  0006              ___str_3:
1762  0006  65          	DEFM "e"
1763  0007  00          	DEFB 0x00
1764  0008              	SECTION rodata_compiler
1765  0008              ___str_4:
1766  0008  66          	DEFM "f"
1767  0009  00          	DEFB 0x00
1768  000A              	SECTION rodata_compiler
1769  000A              ___str_5:
1770  000A  67          	DEFM "g"
1771  000B  00          	DEFB 0x00
1772  000C              	SECTION rodata_compiler
1773  000C              ___str_6:
1774  000C  3C          	DEFM "<"
1775  000D  00          	DEFB 0x00
1776  000E              	SECTION rodata_compiler
1777  000E              ___str_7:
1778  000E  5C          	DEFB 0x5c
1779  000F  00          	DEFB 0x00
1780  0010              	SECTION rodata_compiler
1781  0010              ___str_8:
1782  0010  4C 50 53 3A 	DEFM "LPS:"
1783  0014  00          	DEFB 0x00
1784  0015              	SECTION rodata_compiler
1785  0015              ___str_9:
1786  0015  6A          	DEFM "j"
1787  0016  00          	DEFB 0x00
1788  0017              	SECTION rodata_compiler
1789  0017              ___str_10:
1790  0017  6B          	DEFM "k"
1791  0018  00          	DEFB 0x00
1792  0019              	SECTION rodata_compiler
1793  0019              ___str_11:
1794  0019  58 50       	DEFM "XP"
1795  001B  00          	DEFB 0x00
1796  001C              	SECTION rodata_compiler
1797  001C              ___str_12:
1798  001C  6D          	DEFM "m"
1799  001D  00          	DEFB 0x00
1800  001E              	SECTION rodata_compiler
1801  001E              ___str_13:
1802  001E  6E          	DEFM "n"
1803  001F  00          	DEFB 0x00
1804  0020              	SECTION rodata_compiler
1805  0020              ___str_14:
1806  0020  6F          	DEFM "o"
1807  0021  00          	DEFB 0x00
1808  0022              	SECTION code_compiler
1809  0571              ;	---------------------------------
1810  0571              ; Function game_phase_print_score_back
1811  0571              ; ---------------------------------
1812  0571              _game_phase_print_score_back:
1813  0571  21 00 00    	ld	hl,_screen_ink
1814  0574  36 02       	ld	(hl),0x02
1815  0576  21 22 00    	ld	hl,___str_15
1816  0579  E5          	push	hl
1817  057A  21 00 0B    	ld	hl,0x0b00
1818  057D  E5          	push	hl
1819  057E  CD 00 00    	call	_zx_print_str
1820  0581  C9          	ret
1821  0582              	SECTION rodata_compiler
1822  0022              ___str_15:
1823  0022  24 25 7C    	DEFM "$%|"
1824  0025  00          	DEFB 0x00
1825  0026              	SECTION code_compiler
1826  0582              ;	---------------------------------
1827  0582              ; Function game_update_stats
1828  0582              ; ---------------------------------
1829  0582              _game_update_stats:
1830  0582  21 00 00    	ld	hl,_screen_ink
1831  0585  36 07       	ld	(hl),0x07
1832  0587  3A 00 00    	ld	a,(_player_lives)
1833  058A  F5          	push	af
1834  058B  33          	inc	sp
1835  058C  21 14 03    	ld	hl,0x0314
1836  058F  E5          	push	hl
1837  0590  CD 00 00    	call	_zx_print_chr
1838  0593  3A 00 00    	ld	a,(_player_str)
1839  0596  F5          	push	af
1840  0597  33          	inc	sp
1841  0598  21 16 10    	ld	hl,0x1016
1842  059B  E5          	push	hl
1843  059C  CD 00 00    	call	_zx_print_chr
1844  059F  3A 00 00    	ld	a,(_player_int)
1845  05A2  F5          	push	af
1846  05A3  33          	inc	sp
1847  05A4  21 16 16    	ld	hl,0x1616
1848  05A7  E5          	push	hl
1849  05A8  CD 00 00    	call	_zx_print_chr
1850  05AB  3A 00 00    	ld	a,(_player_lvl)
1851  05AE  F5          	push	af
1852  05AF  33          	inc	sp
1853  05B0  21 16 1C    	ld	hl,0x1c16
1854  05B3  E5          	push	hl
1855  05B4  CD 00 00    	call	_zx_print_chr
1856  05B7  21 00 00    	ld	hl,_screen_ink
1857  05BA  36 02       	ld	(hl),0x02
1858  05BC  3A 00 00    	ld	a,(_player_vita)
1859  05BF  F5          	push	af
1860  05C0  33          	inc	sp
1861  05C1  21 14 09    	ld	hl,0x0914
1862  05C4  E5          	push	hl
1863  05C5  CD 00 00    	call	_zx_print_chr
1864  05C8  21 00 00    	ld	hl,_screen_ink
1865  05CB  36 01       	ld	(hl),0x01
1866  05CD  3A 00 00    	ld	a,(_player_mana)
1867  05D0  F5          	push	af
1868  05D1  33          	inc	sp
1869  05D2  21 14 0F    	ld	hl,0x0f14
1870  05D5  E5          	push	hl
1871  05D6  CD 00 00    	call	_zx_print_chr
1872  05D9  C9          	ret
1873  05DA              	SECTION code_compiler
1874  05DA              ;	---------------------------------
1875  05DA              ; Function game_tick
1876  05DA              ; ---------------------------------
1877  05DA              _game_tick:
1878  05DA  21 00 00    	ld	hl,_curr_time
1879  05DD  34          	inc	(hl)
1880  05DE  C2 00 00    	jp	NZ,_zx_isr
1881  05E1  23          	inc	hl
1882  05E2  34          	inc	(hl)
1883  05E3  C3 00 00    	jp  _zx_isr
1884  05E6              	SECTION code_compiler
1885  05E6              ;	---------------------------------
1886  05E6              ; Function game_start_timer
1887  05E6              ; ---------------------------------
1888  05E6              _game_start_timer:
1889  05E6  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1890  05E9  36 CD       	ld	(hl),0xcd
1891  05EB  23          	inc	hl
1892  05EC  11 DA 05    	ld	de,_game_tick
1893  05EF  73          	ld	(hl), e
1894  05F0  23          	inc	hl
1895  05F1  72          	ld	(hl), d
1896  05F2  C9          	ret
1897  05F3              	SECTION code_compiler
1898  05F3              ;	---------------------------------
1899  05F3              ; Function game_round_init
1900  05F3              ; ---------------------------------
1901  05F3              _game_round_init:
1902  05F3  21 00 00    	ld	hl,_ay_effect_10
1903  05F6  CD 00 00    	call	_ay_fx_play
1904  05F9  CD 00 00    	call	_sound_coin
1905  05FC  21 C8 00    	ld	hl,0x00c8
1906  05FF  CD 00 00    	call	_z80_delay_ms_fastcall
1907  0602  CD 00 00    	call	_ay_reset
1908  0605  21 00 00    	ld	hl,0x0000
1909  0608  22 00 00    	ld	(_loop_count),hl
1910  060B  22 00 00    	ld	(_entry_time),hl
1911  060E  21 00 00    	ld	hl,0
1912  0611  22 00 00    	ld	(_curr_time),hl
1913  0614  21 00 00    	ld	hl,0x0000
1914  0617  22 00 00    	ld	(_frame_time),hl
1915  061A  CD 00 00    	call	_ay_reset
1916  061D  CD 00 00    	call	_spr_draw_clear
1917  0620  CD 00 00    	call	_spr_page_map
1918  0623  CD 24 01    	call	_game_draw_screen
1919  0626  CD 3F 06    	call	_game_print_header
1920  0629  CD 70 04    	call	_game_print_footer
1921  062C  3A 00 00    	ld	a,(_game_over)
1922  062F  B7          	or	a, a
1923  0630  C0          	ret	NZ
1924  0631  21 02 70    	ld	hl,0x7002
1925  0634  E5          	push	hl
1926  0635  21 07 80    	ld	hl,0x8007
1927  0638  E5          	push	hl
1928  0639  CD 00 00    	call	_player_init
1929  063C  F1          	pop	af
1930  063D  F1          	pop	af
1931  063E  C9          	ret
1932  063F              	SECTION code_compiler
1933  063F              ;	---------------------------------
1934  063F              ; Function game_print_header
1935  063F              ; ---------------------------------
1936  063F              _game_print_header:
1937  063F  CD 71 05    	call	_game_phase_print_score_back
1938  0642  21 00 00    	ld	hl,_screen_ink
1939  0645  36 07       	ld	(hl),0x07
1940  0647  C3 B3 07    	jp  _game_print_score
1941  064A              	SECTION code_compiler
1942  064A              ;	---------------------------------
1943  064A              ; Function game_print_phase
1944  064A              ; ---------------------------------
1945  064A              _game_print_phase:
1946  064A  21 26 00    	ld	hl,___str_16
1947  064D  E5          	push	hl
1948  064E  21 17 0B    	ld	hl,0x0b17
1949  0651  E5          	push	hl
1950  0652  CD 00 00    	call	_zx_print_str
1951  0655  21 00 00    	ld	hl,_phase_curr
1952  0658  46          	ld	b, (hl)
1953  0659  04          	inc	b
1954  065A  C5          	push	bc
1955  065B  33          	inc	sp
1956  065C  21 17 12    	ld	hl,0x1217
1957  065F  E5          	push	hl
1958  0660  CD 00 00    	call	_zx_print_chr
1959  0663  C9          	ret
1960  0664              	SECTION rodata_compiler
1961  0026              ___str_16:
1962  0026  50 48 41 53 45 
                        	DEFM "PHASE"
1963  002B  00          	DEFB 0x00
1964  002C              	SECTION code_compiler
1965  0664              ;	---------------------------------
1966  0664              ; Function game_check_map
1967  0664              ; ---------------------------------
1968  0664              _game_check_map:
1969  0664  CD 00 00    	call	___sdcc_enter_ix
1970  0667  DD CB 05 46 	bit	0,(ix+5)
1971  066B  20 15       	jr	NZ,l_game_check_map_00106
1972  066D  DD 66 05    	ld	h,(ix+5)
1973  0670  DD 6E 04    	ld	l,(ix+4)
1974  0673  E5          	push	hl
1975  0674  CD 00 00    	call	_spr_calc_index
1976  0677  F1          	pop	af
1977  0678  22 00 00    	ld	(_index1),hl
1978  067B  CD CD 06    	call	_game_check_cell
1979  067E  26 00       	ld	h,0x00
1980  0680  18 48       	jr	l_game_check_map_00108
1981  0682              l_game_check_map_00106:
1982  0682  21 00 00    	ld	hl,_g_player_hit_left
1983  0685  36 00       	ld	(hl),0x00
1984  0687  21 00 00    	ld	hl,_g_player_hit_right
1985  068A  36 00       	ld	(hl),0x00
1986  068C  DD 46 05    	ld	b,(ix+5)
1987  068F  05          	dec	b
1988  0690  DD 4E 04    	ld	c,(ix+4)
1989  0693  C5          	push	bc
1990  0694  CD 00 00    	call	_spr_calc_index
1991  0697  F1          	pop	af
1992  0698  22 00 00    	ld	(_index1),hl
1993  069B  CD CD 06    	call	_game_check_cell
1994  069E  7D          	ld	a, l
1995  069F  B7          	or	a, a
1996  06A0  28 05       	jr	Z,l_game_check_map_00102
1997  06A2  21 00 00    	ld	hl,_g_player_hit_left
1998  06A5  36 01       	ld	(hl),0x01
1999  06A7              l_game_check_map_00102:
2000  06A7  2A 00 00    	ld	hl,(_index1)
2001  06AA  23          	inc	hl
2002  06AB  CD CD 06    	call	_game_check_cell
2003  06AE  7D          	ld	a, l
2004  06AF  B7          	or	a, a
2005  06B0  28 05       	jr	Z,l_game_check_map_00104
2006  06B2  21 00 00    	ld	hl,_g_player_hit_right
2007  06B5  36 01       	ld	(hl),0x01
2008  06B7              l_game_check_map_00104:
2009  06B7  3A 00 00    	ld	a,(_g_player_hit_left)
2010  06BA  B7          	or	a, a
2011  06BB  20 09       	jr	NZ,l_game_check_map_00111
2012  06BD  3A 00 00    	ld	a,(_g_player_hit_right)
2013  06C0  B7          	or	a,a
2014  06C1  20 03       	jr	NZ,l_game_check_map_00111
2015  06C3  6F          	ld	l,a
2016  06C4  18 02       	jr	l_game_check_map_00112
2017  06C6              l_game_check_map_00111:
2018  06C6  2E 01       	ld	l,0x01
2019  06C8              l_game_check_map_00112:
2020  06C8  26 00       	ld	h,0x00
2021  06CA              l_game_check_map_00108:
2022  06CA  DD E1       	pop	ix
2023  06CC  C9          	ret
2024  06CD              	SECTION code_compiler
2025  06CD              ;	---------------------------------
2026  06CD              ; Function game_check_cell
2027  06CD              ; ---------------------------------
2028  06CD              _game_check_cell:
2029  06CD  CD 00 00    	call	___sdcc_enter_ix
2030  06D0  3B          	dec	sp
2031  06D1  3E A0       	ld	a,0xa0
2032  06D3  BD          	cp	a,l
2033  06D4  3E 00       	ld	a,0x00
2034  06D6  9C          	sbc	a,h
2035  06D7  4D          	ld	c,l
2036  06D8  44          	ld	b,h
2037  06D9  E2 DE 06    	jp	PO, l_game_check_cell_00193
2038  06DC  EE 80       	xor	a,0x80
2039  06DE              l_game_check_cell_00193:
2040  06DE  F2 E6 06    	jp	P, l_game_check_cell_00102
2041  06E1  2E 01       	ld	l,0x01
2042  06E3  C3 8B 07    	jp	l_game_check_cell_00135
2043  06E6              l_game_check_cell_00102:
2044  06E6  21 00 00    	ld	hl,_scr_map
2045  06E9  09          	add	hl, bc
2046  06EA  56          	ld	d, (hl)
2047  06EB  3A 00 00    	ld	a,(_sprite)
2048  06EE  D6 07       	sub	a,0x07
2049  06F0  20 04       	jr	NZ,l_game_check_cell_00194
2050  06F2  3E 01       	ld	a,0x01
2051  06F4  18 01       	jr	l_game_check_cell_00195
2052  06F6              l_game_check_cell_00194:
2053  06F6  AF          	xor	a,a
2054  06F7              l_game_check_cell_00195:
2055  06F7  DD 77 FF    	ld	(ix-1),a
2056  06FA  CB 47       	bit	0,a
2057  06FC  20 30       	jr	NZ,l_game_check_cell_00113
2058  06FE  2A 00 00    	ld	hl,(_sprite)
2059  0701  26 00       	ld	h,0x00
2060  0703  01 00 00    	ld	bc,_class
2061  0706  09          	add	hl,bc
2062  0707  4E          	ld	c,(hl)
2063  0708  3E 2F       	ld	a,0x2f
2064  070A  92          	sub	a, d
2065  070B  3E 00       	ld	a,0x00
2066  070D  17          	rla
2067  070E  47          	ld	b, a
2068  070F  3E 05       	ld	a,0x05
2069  0711  91          	sub	a, c
2070  0712  38 0E       	jr	C,l_game_check_cell_00110
2071  0714  CB 40       	bit	0, b
2072  0716  20 05       	jr	NZ,l_game_check_cell_00104
2073  0718  2E 00       	ld	l,0x00
2074  071A  C3 8B 07    	jp	l_game_check_cell_00135
2075  071D              l_game_check_cell_00104:
2076  071D  2E 01       	ld	l,0x01
2077  071F  C3 8B 07    	jp	l_game_check_cell_00135
2078  0722              l_game_check_cell_00110:
2079  0722  CB 40       	bit	0, b
2080  0724  20 04       	jr	NZ,l_game_check_cell_00107
2081  0726  2E 00       	ld	l,0x00
2082  0728  18 61       	jr	l_game_check_cell_00135
2083  072A              l_game_check_cell_00107:
2084  072A  2E 01       	ld	l,0x01
2085  072C  18 5D       	jr	l_game_check_cell_00135
2086  072E              l_game_check_cell_00113:
2087  072E  7A          	ld	a, d
2088  072F  D6 3C       	sub	a,0x3c
2089  0731  30 04       	jr	NC,l_game_check_cell_00115
2090  0733  2E 00       	ld	l,0x00
2091  0735  18 54       	jr	l_game_check_cell_00135
2092  0737              l_game_check_cell_00115:
2093  0737  3A 00 00    	ld	a,(_s_state)
2094  073A  E6 02       	and	a,0x02
2095  073C  5F          	ld	e, a
2096  073D  7A          	ld	a, d
2097  073E  D6 44       	sub	a,0x44
2098  0740  30 0C       	jr	NC,l_game_check_cell_00120
2099  0742  7B          	ld	a, e
2100  0743  B7          	or	a, a
2101  0744  28 04       	jr	Z,l_game_check_cell_00117
2102  0746  2E 01       	ld	l,0x01
2103  0748  18 41       	jr	l_game_check_cell_00135
2104  074A              l_game_check_cell_00117:
2105  074A  2E 00       	ld	l,0x00
2106  074C  18 3D       	jr	l_game_check_cell_00135
2107  074E              l_game_check_cell_00120:
2108  074E  7A          	ld	a, d
2109  074F  D6 48       	sub	a,0x48
2110  0751  30 16       	jr	NC,l_game_check_cell_00128
2111  0753  3A 00 00    	ld	a,(_sprite_horizontal_check)
2112  0756  B7          	or	a, a
2113  0757  28 04       	jr	Z,l_game_check_cell_00125
2114  0759  2E 00       	ld	l,0x00
2115  075B  18 2E       	jr	l_game_check_cell_00135
2116  075D              l_game_check_cell_00125:
2117  075D  7B          	ld	a, e
2118  075E  B7          	or	a, a
2119  075F  28 04       	jr	Z,l_game_check_cell_00122
2120  0761  2E 01       	ld	l,0x01
2121  0763  18 26       	jr	l_game_check_cell_00135
2122  0765              l_game_check_cell_00122:
2123  0765  2E 00       	ld	l,0x00
2124  0767  18 22       	jr	l_game_check_cell_00135
2125  0769              l_game_check_cell_00128:
2126  0769  7A          	ld	a, d
2127  076A  D6 4C       	sub	a,0x4c
2128  076C  30 12       	jr	NC,l_game_check_cell_00132
2129  076E  DD CB FF 46 	bit	0,(ix-1)
2130  0772  28 0C       	jr	Z,l_game_check_cell_00132
2131  0774  D5          	push	de
2132  0775  33          	inc	sp
2133  0776  C5          	push	bc
2134  0777  CD 00 00    	call	_player_open_door
2135  077A  F1          	pop	af
2136  077B  33          	inc	sp
2137  077C  2E 01       	ld	l,0x01
2138  077E  18 0B       	jr	l_game_check_cell_00135
2139  0780              l_game_check_cell_00132:
2140  0780  7A          	ld	a, d
2141  0781  D6 60       	sub	a,0x60
2142  0783  30 04       	jr	NC,l_game_check_cell_00134
2143  0785  2E 01       	ld	l,0x01
2144  0787  18 02       	jr	l_game_check_cell_00135
2145  0789              l_game_check_cell_00134:
2146  0789  2E 00       	ld	l,0x00
2147  078B              l_game_check_cell_00135:
2148  078B  33          	inc	sp
2149  078C  DD E1       	pop	ix
2150  078E  C9          	ret
2151  078F              	SECTION code_compiler
2152  078F              ;	---------------------------------
2153  078F              ; Function game_enemy_add_get_index
2154  078F              ; ---------------------------------
2155  078F              _game_enemy_add_get_index:
2156  078F  4D          	ld	c, l
2157  0790  21 00 00    	ld	hl,_enemies
2158  0793  36 00       	ld	(hl),0x00
2159  0795              l_game_enemy_add_get_index_00104:
2160  0795  2A 00 00    	ld	hl,(_enemies)
2161  0798  26 00       	ld	h,0x00
2162  079A  11 00 00    	ld	de,_class
2163  079D  19          	add	hl,de
2164  079E  7E          	ld	a,(hl)
2165  079F  91          	sub	a,c
2166  07A0  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2167  07A2  2A 00 00    	ld	hl,(_enemies)
2168  07A5  18 0B       	jr	l_game_enemy_add_get_index_00106
2169  07A7              l_game_enemy_add_get_index_00105:
2170  07A7  21 00 00    	ld	hl,_enemies
2171  07AA  34          	inc	(hl)
2172  07AB  3E 05       	ld	a,0x05
2173  07AD  96          	sub	a, (hl)
2174  07AE  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2175  07B0  2E FF       	ld	l,0xff
2176  07B2              l_game_enemy_add_get_index_00106:
2177  07B2  C9          	ret
2178  07B3              	SECTION code_compiler
2179  07B3              ;	---------------------------------
2180  07B3              ; Function game_print_score
2181  07B3              ; ---------------------------------
2182  07B3              _game_print_score:
2183  07B3  21 00 00    	ld	hl,_screen_ink
2184  07B6  36 07       	ld	(hl),0x07
2185  07B8  21 00 00    	ld	hl,_screen_paper
2186  07BB  36 00       	ld	(hl),0x00
2187  07BD  2A 00 00    	ld	hl,(_player_score)
2188  07C0  E5          	push	hl
2189  07C1  21 16 06    	ld	hl,0x0616
2190  07C4  E5          	push	hl
2191  07C5  CD 00 00    	call	_zx_print_int
2192  07C8  2A 00 00    	ld	hl,(_game_score_top)
2193  07CB  E5          	push	hl
2194  07CC  21 00 0E    	ld	hl,0x0e00
2195  07CF  E5          	push	hl
2196  07D0  CD 00 00    	call	_zx_print_int
2197  07D3  C9          	ret
2198  07D4              	SECTION code_compiler
2199  07D4              ;	---------------------------------
2200  07D4              ; Function game_paint_attrib
2201  07D4              ; ---------------------------------
2202  07D4              _game_paint_attrib:
2203  07D4  7D          	ld	a,l
2204  07D5  32 00 00    	ld	(_tmp0),a
2205  07D8              l_game_paint_attrib_00103:
2206  07D8  3E 13       	ld	a,0x13
2207  07DA  21 00 00    	ld	hl,_tmp0
2208  07DD  96          	sub	a, (hl)
2209  07DE  D8          	ret	C
2210  07DF  7E          	ld	a, (hl)
2211  07E0  07          	rlca
2212  07E1  07          	rlca
2213  07E2  07          	rlca
2214  07E3  E6 F8       	and	a,0xf8
2215  07E5  C6 08       	add	a,0x08
2216  07E7  F5          	push	af
2217  07E8  33          	inc	sp
2218  07E9  21 01 1F    	ld	hl,0x1f01
2219  07EC  E5          	push	hl
2220  07ED  CD F8 07    	call	_game_paint_attrib_lin
2221  07F0  F1          	pop	af
2222  07F1  33          	inc	sp
2223  07F2  21 00 00    	ld	hl,_tmp0
2224  07F5  34          	inc	(hl)
2225  07F6  18 E0       	jr	l_game_paint_attrib_00103
2226  07F8              	SECTION code_compiler
2227  07F8              ;	---------------------------------
2228  07F8              ; Function game_paint_attrib_lin
2229  07F8              ; ---------------------------------
2230  07F8              _game_paint_attrib_lin:
2231  07F8  CD 00 00    	call	___sdcc_enter_ix
2232  07FB  DD 7E 04    	ld	a,(ix+4)
2233  07FE  32 00 00    	ld	(_tmp_uc),a
2234  0801              l_game_paint_attrib_lin_00103:
2235  0801  21 00 00    	ld	hl,_tmp_uc
2236  0804  7E          	ld	a, (hl)
2237  0805  DD 96 05    	sub	a,(ix+5)
2238  0808  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2239  080A  66          	ld	h,(hl)
2240  080B  DD 6E 06    	ld	l,(ix+6)
2241  080E  E5          	push	hl
2242  080F  21 00 00    	ld	hl,_attrib
2243  0812  E5          	push	hl
2244  0813  CD 00 00    	call	_NIRVANAP_paintC_callee
2245  0816  21 00 00    	ld	hl,_tmp_uc
2246  0819  34          	inc	(hl)
2247  081A  18 E5       	jr	l_game_paint_attrib_lin_00103
2248  081C              l_game_paint_attrib_lin_00105:
2249  081C  DD E1       	pop	ix
2250  081E  C9          	ret
2251  081F              	SECTION code_compiler
2252  081F              ;	---------------------------------
2253  081F              ; Function game_paint_attrib_lin_h
2254  081F              ; ---------------------------------
2255  081F              _game_paint_attrib_lin_h:
2256  081F  CD 00 00    	call	___sdcc_enter_ix
2257  0822  DD 7E 04    	ld	a,(ix+4)
2258  0825  32 00 00    	ld	(_tmp_uc),a
2259  0828              l_game_paint_attrib_lin_h_00103:
2260  0828  21 00 00    	ld	hl,_tmp_uc
2261  082B  7E          	ld	a, (hl)
2262  082C  DD 96 05    	sub	a,(ix+5)
2263  082F  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2264  0831  66          	ld	h,(hl)
2265  0832  DD 6E 06    	ld	l,(ix+6)
2266  0835  E5          	push	hl
2267  0836  21 00 00    	ld	hl,_attrib_hl
2268  0839  E5          	push	hl
2269  083A  CD 00 00    	call	_NIRVANAP_paintC_callee
2270  083D  21 00 00    	ld	hl,_tmp_uc
2271  0840  34          	inc	(hl)
2272  0841  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2273  0843              l_game_paint_attrib_lin_h_00105:
2274  0843  DD E1       	pop	ix
2275  0845  C9          	ret
2276  0846              	SECTION code_compiler
2277  0846              ;	---------------------------------
2278  0846              ; Function game_joystick_change
2279  0846              ; ---------------------------------
2280  0846              _game_joystick_change:
2281  0846  21 00 00    	ld	hl,_player_joy
2282  0849  34          	inc	(hl)
2283  084A  20 02       	jr	NZ,l_game_joystick_change_00109
2284  084C  23          	inc	hl
2285  084D  34          	inc	(hl)
2286  084E              l_game_joystick_change_00109:
2287  084E  21 00 00    	ld	hl,_player_joy
2288  0851  7E          	ld	a, (hl)
2289  0852  D6 07       	sub	a,0x07
2290  0854  23          	inc	hl
2291  0855  B6          	or	a, (hl)
2292  0856  C0          	ret	NZ
2293  0857  21 00 00    	ld	hl,0x0000
2294  085A  22 00 00    	ld	(_player_joy),hl
2295  085D  C9          	ret
2296  085E              	SECTION code_compiler
2297  085E              ;	---------------------------------
2298  085E              ; Function game_joystick_set_menu
2299  085E              ; ---------------------------------
2300  085E              _game_joystick_set_menu:
2301  085E  21 00 00    	ld	hl,_in_stick_keyboard
2302  0861  22 00 00    	ld	(_joyfunc1),hl
2303  0864  C9          	ret
2304  0865              	SECTION code_compiler
2305  0865              ;	---------------------------------
2306  0865              ; Function game_joystick_set
2307  0865              ; ---------------------------------
2308  0865              _game_joystick_set:
2309  0865  2A 00 00    	ld	hl,(_player_joy)
2310  0868  29          	add	hl,hl
2311  0869  4D          	ld	c,l
2312  086A  44          	ld	b,h
2313  086B  21 00 00    	ld	hl,_control_method
2314  086E  09          	add	hl,bc
2315  086F  11 00 00    	ld	de,_joyfunc1
2316  0872  ED A0       	ldi
2317  0874  7E          	ld	a,(hl)
2318  0875  12          	ld	(de),a
2319  0876  C9          	ret
2320  0877              	SECTION code_compiler
2321  0877              ;	---------------------------------
2322  0877              ; Function game_end
2323  0877              ; ---------------------------------
2324  0877              	defc _game_end	=	_spr_draw_clear
2325  0877              	SECTION code_compiler
2326  0877              ;	---------------------------------
2327  0877              ; Function game_rotate_attrib
2328  0877              ; ---------------------------------
2329  0877              _game_rotate_attrib:
2330  0877  01 03 00    	ld	bc,_attrib_hl + 3
2331  087A  0A          	ld	a, (bc)
2332  087B  32 00 00    	ld	(_tmp_uc),a
2333  087E  11 02 00    	ld	de,_attrib_hl + 2
2334  0881  1A          	ld	a, (de)
2335  0882  02          	ld	(bc), a
2336  0883  01 01 00    	ld	bc,_attrib_hl + 1
2337  0886  0A          	ld	a, (bc)
2338  0887  12          	ld	(de), a
2339  0888  3A 00 00    	ld	a,(_attrib_hl)
2340  088B  02          	ld	(bc), a
2341  088C  3A 00 00    	ld	a,(_tmp_uc)
2342  088F  32 00 00    	ld	(_attrib_hl),a
2343  0892  C9          	ret
2344  0893              	SECTION code_compiler
2345  0893              ;	---------------------------------
2346  0893              ; Function game_colour_message
2347  0893              ; ---------------------------------
2348  0893              _game_colour_message:
2349  0893  CD 00 00    	call	___sdcc_enter_ix
2350  0896  21 00 00    	ld	hl,_tmp
2351  0899  36 01       	ld	(hl),0x01
2352  089B  2A 00 00    	ld	hl,(_curr_time)
2353  089E  22 00 00    	ld	(_frame_time),hl
2354  08A1  2A 00 00    	ld	hl,(_curr_time)
2355  08A4  22 00 00    	ld	(_entry_time),hl
2356  08A7  DD 7E 04    	ld	a,(ix+4)
2357  08AA  07          	rlca
2358  08AB  07          	rlca
2359  08AC  07          	rlca
2360  08AD  E6 F8       	and	a,0xf8
2361  08AF  4F          	ld	c,a
2362  08B0  C6 08       	add	a,0x08
2363  08B2  47          	ld	b, a
2364  08B3              l_game_colour_message_00109:
2365  08B3  3A 00 00    	ld	a,(_tmp)
2366  08B6  B7          	or	a, a
2367  08B7  28 60       	jr	Z,l_game_colour_message_00111
2368  08B9  C5          	push	bc
2369  08BA  DD 6E 07    	ld	l,(ix+7)
2370  08BD  DD 66 08    	ld	h,(ix+8)
2371  08C0  E5          	push	hl
2372  08C1  2A 00 00    	ld	hl,(_entry_time)
2373  08C4  E5          	push	hl
2374  08C5  CD 87 09    	call	_game_check_time
2375  08C8  F1          	pop	af
2376  08C9  F1          	pop	af
2377  08CA  C1          	pop	bc
2378  08CB  7D          	ld	a,l
2379  08CC  B7          	or	a, a
2380  08CD  20 4A       	jr	NZ,l_game_colour_message_00111
2381  08CF  C5          	push	bc
2382  08D0  21 05 00    	ld	hl,0x0005
2383  08D3  E5          	push	hl
2384  08D4  2A 00 00    	ld	hl,(_frame_time)
2385  08D7  E5          	push	hl
2386  08D8  CD 87 09    	call	_game_check_time
2387  08DB  F1          	pop	af
2388  08DC  F1          	pop	af
2389  08DD  C1          	pop	bc
2390  08DE  7D          	ld	a,l
2391  08DF  B7          	or	a, a
2392  08E0  28 19       	jr	Z,l_game_colour_message_00102
2393  08E2  2A 00 00    	ld	hl,(_curr_time)
2394  08E5  22 00 00    	ld	(_frame_time),hl
2395  08E8  C5          	push	bc
2396  08E9  C5          	push	bc
2397  08EA  33          	inc	sp
2398  08EB  DD 66 06    	ld	h,(ix+6)
2399  08EE  DD 6E 05    	ld	l,(ix+5)
2400  08F1  E5          	push	hl
2401  08F2  CD 1F 08    	call	_game_paint_attrib_lin_h
2402  08F5  F1          	pop	af
2403  08F6  33          	inc	sp
2404  08F7  CD 77 08    	call	_game_rotate_attrib
2405  08FA  C1          	pop	bc
2406  08FB              l_game_colour_message_00102:
2407  08FB  DD 7E 09    	ld	a,(ix+9)
2408  08FE  B7          	or	a, a
2409  08FF  28 B2       	jr	Z,l_game_colour_message_00109
2410  0901              l_game_colour_message_00103:
2411  0901  C5          	push	bc
2412  0902  21 00 00    	ld	hl,_k1
2413  0905  E5          	push	hl
2414  0906  2A 00 00    	ld	hl,(_joyfunc1)
2415  0909  CD 00 00    	call	___sdcc_call_hl
2416  090C  F1          	pop	af
2417  090D  C1          	pop	bc
2418  090E  7C          	ld	a,h
2419  090F  B5          	or	a,l
2420  0910  28 A1       	jr	Z,l_game_colour_message_00109
2421  0912  21 00 00    	ld	hl,_tmp
2422  0915  36 00       	ld	(hl),0x00
2423  0917  18 E8       	jr	l_game_colour_message_00103
2424  0919              l_game_colour_message_00111:
2425  0919  DD 7E 06    	ld	a,(ix+6)
2426  091C  DD 96 05    	sub	a,(ix+5)
2427  091F  47          	ld	b, a
2428  0920  3A 00 00    	ld	a,(_game_over)
2429  0923  B7          	or	a, a
2430  0924  28 2B       	jr	Z,l_game_colour_message_00115
2431  0926  21 00 00    	ld	hl,_tmp1
2432  0929  70          	ld	(hl), b
2433  092A  21 00 00    	ld	hl,_tmp0
2434  092D  36 00       	ld	(hl),0x00
2435  092F              l_game_colour_message_00118:
2436  092F  3A 00 00    	ld	a,(_tmp0)
2437  0932  21 00 00    	ld	hl,_tmp1
2438  0935  96          	sub	a, (hl)
2439  0936  30 4C       	jr	NC,l_game_colour_message_00123
2440  0938  DD 7E 05    	ld	a,(ix+5)
2441  093B  21 00 00    	ld	hl,_tmp0
2442  093E  86          	add	a, (hl)
2443  093F  47          	ld	b, a
2444  0940  21 2C 00    	ld	hl,___str_17
2445  0943  E5          	push	hl
2446  0944  DD 4E 04    	ld	c,(ix+4)
2447  0947  C5          	push	bc
2448  0948  CD 00 00    	call	_zx_print_str
2449  094B  21 00 00    	ld	hl,_tmp0
2450  094E  34          	inc	(hl)
2451  094F  18 DE       	jr	l_game_colour_message_00118
2452  0951              l_game_colour_message_00115:
2453  0951  21 00 00    	ld	hl,_tmp1
2454  0954  70          	ld	(hl), b
2455  0955  21 00 00    	ld	hl,_s_lin0
2456  0958  71          	ld	(hl), c
2457  0959  DD 7E 05    	ld	a,(ix+5)
2458  095C  CB 3F       	srl	a
2459  095E  87          	add	a, a
2460  095F  32 00 00    	ld	(_s_col1),a
2461  0962  21 00 00    	ld	hl,_tmp0
2462  0965  36 00       	ld	(hl),0x00
2463  0967              l_game_colour_message_00121:
2464  0967  3A 00 00    	ld	a,(_tmp0)
2465  096A  21 00 00    	ld	hl,_tmp1
2466  096D  96          	sub	a, (hl)
2467  096E  30 14       	jr	NC,l_game_colour_message_00123
2468  0970  3A 00 00    	ld	a,(_s_col1)
2469  0973  21 00 00    	ld	hl,_tmp0
2470  0976  86          	add	a, (hl)
2471  0977  32 00 00    	ld	(_s_col0),a
2472  097A  CD 00 00    	call	_spr_back_repaint
2473  097D  21 00 00    	ld	hl,_tmp0
2474  0980  34          	inc	(hl)
2475  0981  34          	inc	(hl)
2476  0982  18 E3       	jr	l_game_colour_message_00121
2477  0984              l_game_colour_message_00123:
2478  0984  DD E1       	pop	ix
2479  0986  C9          	ret
2480  0987              	SECTION rodata_compiler
2481  002C              ___str_17:
2482  002C  20          	DEFM " "
2483  002D  00          	DEFB 0x00
2484  002E              	SECTION code_compiler
2485  0987              ;	---------------------------------
2486  0987              ; Function game_check_time
2487  0987              ; ---------------------------------
2488  0987              _game_check_time:
2489  0987  CD 00 00    	call	___sdcc_enter_ix
2490  098A  2A 00 00    	ld	hl,(_curr_time)
2491  098D  7D          	ld	a,l
2492  098E  DD 96 04    	sub	a,(ix+4)
2493  0991  4F          	ld	c,a
2494  0992  7C          	ld	a,h
2495  0993  DD 9E 05    	sbc	a,(ix+5)
2496  0996  47          	ld	b, a
2497  0997  DD 7E 06    	ld	a,(ix+6)
2498  099A  91          	sub	a, c
2499  099B  DD 7E 07    	ld	a,(ix+7)
2500  099E  98          	sbc	a, b
2501  099F  30 04       	jr	NC,l_game_check_time_00102
2502  09A1  2E 01       	ld	l,0x01
2503  09A3  18 02       	jr	l_game_check_time_00104
2504  09A5              l_game_check_time_00102:
2505  09A5  2E 00       	ld	l,0x00
2506  09A7              l_game_check_time_00104:
2507  09A7  DD E1       	pop	ix
2508  09A9  C9          	ret
2509  09AA              	SECTION code_compiler
2510  09AA              ;	---------------------------------
2511  09AA              ; Function game_shoot_fire
2512  09AA              ; ---------------------------------
2513  09AA              _game_shoot_fire:
2514  09AA  CD 00 00    	call	___sdcc_enter_ix
2515  09AD  21 F4 FF    	ld	hl, -12
2516  09B0  39          	add	hl, sp
2517  09B1  F9          	ld	sp, hl
2518  09B2  01 00 00    	ld	bc,_bullet_col
2519  09B5  DD 6E 04    	ld	l,(ix+4)
2520  09B8  26 00       	ld	h,0x00
2521  09BA  09          	add	hl,bc
2522  09BB  DD 75 FA    	ld	(ix-6),l
2523  09BE  DD 74 FB    	ld	(ix-5),h
2524  09C1  4E          	ld	c, (hl)
2525  09C2  0C          	inc	c
2526  09C3  C2 A8 0B    	jp	NZ,l_game_shoot_fire_00126
2527  09C6  21 00 00    	ld	hl,_bullet_count
2528  09C9  34          	inc	(hl)
2529  09CA  01 00 00    	ld	bc,_bullet_dir
2530  09CD  DD 6E 04    	ld	l,(ix+4)
2531  09D0  26 00       	ld	h,0x00
2532  09D2  09          	add	hl,bc
2533  09D3  DD 75 F8    	ld	(ix-8),l
2534  09D6  DD 74 F9    	ld	(ix-7),h
2535  09D9  36 00       	ld	(hl),0x00
2536  09DB  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2537  09DD  DD 86 04    	add	a,(ix+4)
2538  09E0  4F          	ld	c, a
2539  09E1  3E 00       	ld	a, +((_bullet_lin0) / 256)
2540  09E3  CE 00       	adc	a,0x00
2541  09E5  47          	ld	b, a
2542  09E6  11 00 00    	ld	de,_lin
2543  09E9  DD 6E 04    	ld	l,(ix+4)
2544  09EC  26 00       	ld	h,0x00
2545  09EE  19          	add	hl,de
2546  09EF  DD 75 FE    	ld	(ix-2),l
2547  09F2  DD 74 FF    	ld	(ix-1),h
2548  09F5  7E          	ld	a, (hl)
2549  09F6  02          	ld	(bc), a
2550  09F7  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2551  09F9  DD 86 04    	add	a,(ix+4)
2552  09FC  4F          	ld	c, a
2553  09FD  3E 00       	ld	a, +((_bullet_col0) / 256)
2554  09FF  CE 00       	adc	a,0x00
2555  0A01  47          	ld	b, a
2556  0A02  11 00 00    	ld	de,_col
2557  0A05  DD 6E 04    	ld	l,(ix+4)
2558  0A08  26 00       	ld	h,0x00
2559  0A0A  19          	add	hl,de
2560  0A0B  DD 75 FC    	ld	(ix-4),l
2561  0A0E  DD 74 FD    	ld	(ix-3),h
2562  0A11  7E          	ld	a, (hl)
2563  0A12  02          	ld	(bc), a
2564  0A13  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2565  0A15  DD 86 04    	add	a,(ix+4)
2566  0A18  DD 77 F4    	ld	(ix-12),a
2567  0A1B  3E 00       	ld	a, +((_bullet_lin) / 256)
2568  0A1D  CE 00       	adc	a,0x00
2569  0A1F  DD 77 F5    	ld	(ix-11),a
2570  0A22  DD 6E FE    	ld	l,(ix-2)
2571  0A25  DD 66 FF    	ld	h,(ix-1)
2572  0A28  4E          	ld	c, (hl)
2573  0A29  E1          	pop	hl
2574  0A2A  E5          	push	hl
2575  0A2B  71          	ld	(hl), c
2576  0A2C  01 00 00    	ld	bc,_bullet_frames
2577  0A2F  DD 6E 04    	ld	l,(ix+4)
2578  0A32  26 00       	ld	h,0x00
2579  0A34  09          	add	hl,bc
2580  0A35  DD 75 F6    	ld	(ix-10),l
2581  0A38  DD 74 F7    	ld	(ix-9),h
2582  0A3B  36 02       	ld	(hl),0x02
2583  0A3D  DD 7E 04    	ld	a,(ix+4)
2584  0A40  D6 07       	sub	a,0x07
2585  0A42  20 04       	jr	NZ,l_game_shoot_fire_00175
2586  0A44  3E 01       	ld	a,0x01
2587  0A46  18 01       	jr	l_game_shoot_fire_00176
2588  0A48              l_game_shoot_fire_00175:
2589  0A48  AF          	xor	a,a
2590  0A49              l_game_shoot_fire_00176:
2591  0A49  4F          	ld	c,a
2592  0A4A  B7          	or	a, a
2593  0A4B  28 13       	jr	Z,l_game_shoot_fire_00102
2594  0A4D  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2595  0A4F  DD 86 04    	add	a,(ix+4)
2596  0A52  5F          	ld	e, a
2597  0A53  3E 00       	ld	a, +((_bullet_max) / 256)
2598  0A55  CE 00       	adc	a,0x00
2599  0A57  57          	ld	d, a
2600  0A58  3A 00 00    	ld	a,(_player_lvl)
2601  0A5B  C6 04       	add	a,0x04
2602  0A5D  12          	ld	(de), a
2603  0A5E  18 0D       	jr	l_game_shoot_fire_00103
2604  0A60              l_game_shoot_fire_00102:
2605  0A60  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2606  0A62  DD 86 04    	add	a,(ix+4)
2607  0A65  5F          	ld	e, a
2608  0A66  3E 00       	ld	a, +((_bullet_max) / 256)
2609  0A68  CE 00       	adc	a,0x00
2610  0A6A  57          	ld	d, a
2611  0A6B  AF          	xor	a, a
2612  0A6C  12          	ld	(de), a
2613  0A6D              l_game_shoot_fire_00103:
2614  0A6D  DD 7E 05    	ld	a,(ix+5)
2615  0A70  D6 7C       	sub	a,0x7c
2616  0A72  20 0E       	jr	NZ,l_game_shoot_fire_00105
2617  0A74  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2618  0A76  DD 86 04    	add	a,(ix+4)
2619  0A79  5F          	ld	e, a
2620  0A7A  3E 00       	ld	a, +((_bullet_class) / 256)
2621  0A7C  CE 00       	adc	a,0x00
2622  0A7E  57          	ld	d, a
2623  0A7F  3E 01       	ld	a,0x01
2624  0A81  12          	ld	(de), a
2625  0A82              l_game_shoot_fire_00105:
2626  0A82  DD 7E 05    	ld	a,(ix+5)
2627  0A85  D6 78       	sub	a,0x78
2628  0A87  20 21       	jr	NZ,l_game_shoot_fire_00110
2629  0A89  B1          	or	a,c
2630  0A8A  28 10       	jr	Z,l_game_shoot_fire_00107
2631  0A8C  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2632  0A8E  DD 86 04    	add	a,(ix+4)
2633  0A91  4F          	ld	c, a
2634  0A92  3E 00       	ld	a, +((_bullet_class) / 256)
2635  0A94  CE 00       	adc	a,0x00
2636  0A96  47          	ld	b, a
2637  0A97  3E 01       	ld	a,0x01
2638  0A99  02          	ld	(bc), a
2639  0A9A  18 0E       	jr	l_game_shoot_fire_00110
2640  0A9C              l_game_shoot_fire_00107:
2641  0A9C  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2642  0A9E  DD 86 04    	add	a,(ix+4)
2643  0AA1  4F          	ld	c, a
2644  0AA2  3E 00       	ld	a, +((_bullet_class) / 256)
2645  0AA4  CE 00       	adc	a,0x00
2646  0AA6  47          	ld	b, a
2647  0AA7  3E 02       	ld	a,0x02
2648  0AA9  02          	ld	(bc), a
2649  0AAA              l_game_shoot_fire_00110:
2650  0AAA  DD 7E 05    	ld	a,(ix+5)
2651  0AAD  D6 80       	sub	a,0x80
2652  0AAF  20 04       	jr	NZ,l_game_shoot_fire_00181
2653  0AB1  3E 01       	ld	a,0x01
2654  0AB3  18 01       	jr	l_game_shoot_fire_00182
2655  0AB5              l_game_shoot_fire_00181:
2656  0AB5  AF          	xor	a,a
2657  0AB6              l_game_shoot_fire_00182:
2658  0AB6  4F          	ld	c,a
2659  0AB7  B7          	or	a, a
2660  0AB8  28 31       	jr	Z,l_game_shoot_fire_00112
2661  0ABA  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2662  0ABC  DD 86 04    	add	a,(ix+4)
2663  0ABF  5F          	ld	e, a
2664  0AC0  3E 00       	ld	a, +((_bullet_class) / 256)
2665  0AC2  CE 00       	adc	a,0x00
2666  0AC4  57          	ld	d, a
2667  0AC5  3E 04       	ld	a,0x04
2668  0AC7  12          	ld	(de), a
2669  0AC8  DD 6E FE    	ld	l,(ix-2)
2670  0ACB  DD 66 FF    	ld	h,(ix-1)
2671  0ACE  7E          	ld	a, (hl)
2672  0ACF  C6 FC       	add	a,0xfc
2673  0AD1  E1          	pop	hl
2674  0AD2  E5          	push	hl
2675  0AD3  77          	ld	(hl), a
2676  0AD4  DD 6E F6    	ld	l,(ix-10)
2677  0AD7  DD 66 F7    	ld	h,(ix-9)
2678  0ADA  36 04       	ld	(hl),0x04
2679  0ADC  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2680  0ADE  DD 86 04    	add	a,(ix+4)
2681  0AE1  5F          	ld	e, a
2682  0AE2  3E 00       	ld	a, +((_bullet_vel) / 256)
2683  0AE4  CE 00       	adc	a,0x00
2684  0AE6  57          	ld	d, a
2685  0AE7  3A 00 00    	ld	a,(_player_vel_y0)
2686  0AEA  12          	ld	(de), a
2687  0AEB              l_game_shoot_fire_00112:
2688  0AEB  3A 00 00    	ld	a,(_s_state)
2689  0AEE  E6 08       	and	a,0x08
2690  0AF0  47          	ld	b, a
2691  0AF1  3A 00 00    	ld	a,(_sprite)
2692  0AF4  D6 07       	sub	a,0x07
2693  0AF6  20 06       	jr	NZ,l_game_shoot_fire_00114
2694  0AF8  3A 07 00    	ld	a,(_state_a + 0x0007)
2695  0AFB  E6 08       	and	a,0x08
2696  0AFD  47          	ld	b, a
2697  0AFE              l_game_shoot_fire_00114:
2698  0AFE  DD 6E FC    	ld	l,(ix-4)
2699  0B01  DD 66 FD    	ld	h,(ix-3)
2700  0B04  56          	ld	d, (hl)
2701  0B05  DD 6E FE    	ld	l,(ix-2)
2702  0B08  DD 66 FF    	ld	h,(ix-1)
2703  0B0B  7E          	ld	a, (hl)
2704  0B0C  C5          	push	bc
2705  0B0D  5F          	ld	e,a
2706  0B0E  D5          	push	de
2707  0B0F  CD 00 00    	call	_spr_calc_index
2708  0B12  F1          	pop	af
2709  0B13  EB          	ex	de,hl
2710  0B14  C1          	pop	bc
2711  0B15  ED 53 00 00 	ld	(_index1),de
2712  0B19  DD 6E FC    	ld	l,(ix-4)
2713  0B1C  DD 66 FD    	ld	h,(ix-3)
2714  0B1F  5E          	ld	e, (hl)
2715  0B20  78          	ld	a, b
2716  0B21  B7          	or	a, a
2717  0B22  28 4F       	jr	Z,l_game_shoot_fire_00123
2718  0B24  7B          	ld	a, e
2719  0B25  D6 01       	sub	a,0x01
2720  0B27  30 05       	jr	NC,l_game_shoot_fire_00116
2721  0B29  2E 01       	ld	l,0x01
2722  0B2B  C3 AA 0B    	jp	l_game_shoot_fire_00127
2723  0B2E              l_game_shoot_fire_00116:
2724  0B2E  DD 6E FA    	ld	l,(ix-6)
2725  0B31  DD 66 FB    	ld	h,(ix-5)
2726  0B34  73          	ld	(hl), e
2727  0B35  79          	ld	a, c
2728  0B36  B7          	or	a, a
2729  0B37  20 13       	jr	NZ,l_game_shoot_fire_00118
2730  0B39  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2731  0B3B  DD 86 04    	add	a,(ix+4)
2732  0B3E  4F          	ld	c, a
2733  0B3F  3E 00       	ld	a, +((_bullet_tile) / 256)
2734  0B41  CE 00       	adc	a,0x00
2735  0B43  47          	ld	b, a
2736  0B44  DD 7E 05    	ld	a,(ix+5)
2737  0B47  C6 02       	add	a,0x02
2738  0B49  02          	ld	(bc), a
2739  0B4A  18 0F       	jr	l_game_shoot_fire_00119
2740  0B4C              l_game_shoot_fire_00118:
2741  0B4C  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2742  0B4E  DD 86 04    	add	a,(ix+4)
2743  0B51  4F          	ld	c, a
2744  0B52  3E 00       	ld	a, +((_bullet_tile) / 256)
2745  0B54  CE 00       	adc	a,0x00
2746  0B56  47          	ld	b, a
2747  0B57  DD 7E 05    	ld	a,(ix+5)
2748  0B5A  02          	ld	(bc), a
2749  0B5B              l_game_shoot_fire_00119:
2750  0B5B  DD 6E F8    	ld	l,(ix-8)
2751  0B5E  DD 66 F9    	ld	h,(ix-7)
2752  0B61  36 01       	ld	(hl),0x01
2753  0B63  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2754  0B65  DD 86 04    	add	a,(ix+4)
2755  0B68  4F          	ld	c, a
2756  0B69  3E 00       	ld	a, +((_bullet_colint) / 256)
2757  0B6B  CE 00       	adc	a,0x00
2758  0B6D  47          	ld	b, a
2759  0B6E  3E 02       	ld	a,0x02
2760  0B70  02          	ld	(bc), a
2761  0B71  18 35       	jr	l_game_shoot_fire_00126
2762  0B73              l_game_shoot_fire_00123:
2763  0B73  3E 1D       	ld	a,0x1d
2764  0B75  93          	sub	a, e
2765  0B76  30 04       	jr	NC,l_game_shoot_fire_00121
2766  0B78  2E 01       	ld	l,0x01
2767  0B7A  18 2E       	jr	l_game_shoot_fire_00127
2768  0B7C              l_game_shoot_fire_00121:
2769  0B7C  DD 6E FA    	ld	l,(ix-6)
2770  0B7F  DD 66 FB    	ld	h,(ix-5)
2771  0B82  73          	ld	(hl), e
2772  0B83  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2773  0B85  DD 86 04    	add	a,(ix+4)
2774  0B88  4F          	ld	c, a
2775  0B89  3E 00       	ld	a, +((_bullet_tile) / 256)
2776  0B8B  CE 00       	adc	a,0x00
2777  0B8D  47          	ld	b, a
2778  0B8E  DD 7E 05    	ld	a,(ix+5)
2779  0B91  02          	ld	(bc), a
2780  0B92  DD 6E F8    	ld	l,(ix-8)
2781  0B95  DD 66 F9    	ld	h,(ix-7)
2782  0B98  36 FF       	ld	(hl),0xff
2783  0B9A  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2784  0B9C  DD 86 04    	add	a,(ix+4)
2785  0B9F  4F          	ld	c, a
2786  0BA0  3E 00       	ld	a, +((_bullet_colint) / 256)
2787  0BA2  CE 00       	adc	a,0x00
2788  0BA4  47          	ld	b, a
2789  0BA5  3E FF       	ld	a,0xff
2790  0BA7  02          	ld	(bc), a
2791  0BA8              l_game_shoot_fire_00126:
2792  0BA8  2E 00       	ld	l,0x00
2793  0BAA              l_game_shoot_fire_00127:
2794  0BAA  DD F9       	ld	sp, ix
2795  0BAC  DD E1       	pop	ix
2796  0BAE  C9          	ret
2797  0BAF              	SECTION code_compiler
2798  0BAF              ;	---------------------------------
2799  0BAF              ; Function game_obj_set
2800  0BAF              ; ---------------------------------
2801  0BAF              _game_obj_set:
2802  0BAF  CD 00 00    	call	___sdcc_enter_ix
2803  0BB2  21 00 00    	ld	hl,_scr_curr
2804  0BB5  7E          	ld	a, (hl)
2805  0BB6  D6 08       	sub	a,0x08
2806  0BB8  30 1E       	jr	NC,l_game_obj_set_00102
2807  0BBA  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2808  0BBC  DD 86 04    	add	a,(ix+4)
2809  0BBF  4F          	ld	c, a
2810  0BC0  3E 00       	ld	a, +((_scr_obj0) / 256)
2811  0BC2  DD 8E 05    	adc	a,(ix+5)
2812  0BC5  47          	ld	b, a
2813  0BC6  0A          	ld	a, (bc)
2814  0BC7  5F          	ld	e, a
2815  0BC8  7E          	ld	a, (hl)
2816  0BC9  3C          	inc	a
2817  0BCA  16 01       	ld	d,0x01
2818  0BCC  18 02       	jr	l_game_obj_set_00111
2819  0BCE              l_game_obj_set_00110:
2820  0BCE  CB 22       	sla	d
2821  0BD0              l_game_obj_set_00111:
2822  0BD0  3D          	dec	a
2823  0BD1  20 FB       	jr	NZ,l_game_obj_set_00110
2824  0BD3  7B          	ld	a, e
2825  0BD4  B2          	or	a, d
2826  0BD5  02          	ld	(bc), a
2827  0BD6  18 21       	jr	l_game_obj_set_00104
2828  0BD8              l_game_obj_set_00102:
2829  0BD8  3E 10       	ld	a,0x10
2830  0BDA  21 00 00    	ld	hl,_scr_curr
2831  0BDD  96          	sub	a, (hl)
2832  0BDE  47          	ld	b, a
2833  0BDF  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2834  0BE1  DD 86 04    	add	a,(ix+4)
2835  0BE4  5F          	ld	e, a
2836  0BE5  3E 00       	ld	a, +((_scr_obj1) / 256)
2837  0BE7  DD 8E 05    	adc	a,(ix+5)
2838  0BEA  57          	ld	d, a
2839  0BEB  1A          	ld	a, (de)
2840  0BEC  4F          	ld	c, a
2841  0BED  2E 01       	ld	l,0x01
2842  0BEF  04          	inc	b
2843  0BF0  18 02       	jr	l_game_obj_set_00113
2844  0BF2              l_game_obj_set_00112:
2845  0BF2  CB 25       	sla	l
2846  0BF4              l_game_obj_set_00113:
2847  0BF4  10 FC       	djnz	l_game_obj_set_00112
2848  0BF6  79          	ld	a, c
2849  0BF7  B5          	or	a, l
2850  0BF8  12          	ld	(de), a
2851  0BF9              l_game_obj_set_00104:
2852  0BF9  DD E1       	pop	ix
2853  0BFB  C9          	ret
2854  0BFC              	SECTION code_compiler
2855  0BFC              ;	---------------------------------
2856  0BFC              ; Function game_obj_chk
2857  0BFC              ; ---------------------------------
2858  0BFC              _game_obj_chk:
2859  0BFC  CD 00 00    	call	___sdcc_enter_ix
2860  0BFF  21 00 00    	ld	hl,_scr_curr
2861  0C02  7E          	ld	a, (hl)
2862  0C03  D6 08       	sub	a,0x08
2863  0C05  30 1D       	jr	NC,l_game_obj_chk_00102
2864  0C07  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2865  0C09  DD 86 04    	add	a,(ix+4)
2866  0C0C  4F          	ld	c, a
2867  0C0D  3E 00       	ld	a, +((_scr_obj0) / 256)
2868  0C0F  DD 8E 05    	adc	a,(ix+5)
2869  0C12  47          	ld	b, a
2870  0C13  0A          	ld	a, (bc)
2871  0C14  4F          	ld	c, a
2872  0C15  46          	ld	b, (hl)
2873  0C16  1E 01       	ld	e,0x01
2874  0C18  04          	inc	b
2875  0C19  18 02       	jr	l_game_obj_chk_00111
2876  0C1B              l_game_obj_chk_00110:
2877  0C1B  CB 23       	sla	e
2878  0C1D              l_game_obj_chk_00111:
2879  0C1D  10 FC       	djnz	l_game_obj_chk_00110
2880  0C1F  79          	ld	a, c
2881  0C20  A3          	and	a, e
2882  0C21  6F          	ld	l, a
2883  0C22  18 21       	jr	l_game_obj_chk_00104
2884  0C24              l_game_obj_chk_00102:
2885  0C24  3E 10       	ld	a,0x10
2886  0C26  21 00 00    	ld	hl,_scr_curr
2887  0C29  96          	sub	a, (hl)
2888  0C2A  47          	ld	b, a
2889  0C2B  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2890  0C2D  DD 86 04    	add	a,(ix+4)
2891  0C30  5F          	ld	e, a
2892  0C31  3E 00       	ld	a, +((_scr_obj1) / 256)
2893  0C33  DD 8E 05    	adc	a,(ix+5)
2894  0C36  57          	ld	d, a
2895  0C37  1A          	ld	a, (de)
2896  0C38  4F          	ld	c, a
2897  0C39  1E 01       	ld	e,0x01
2898  0C3B  04          	inc	b
2899  0C3C  18 02       	jr	l_game_obj_chk_00113
2900  0C3E              l_game_obj_chk_00112:
2901  0C3E  CB 23       	sla	e
2902  0C40              l_game_obj_chk_00113:
2903  0C40  10 FC       	djnz	l_game_obj_chk_00112
2904  0C42  79          	ld	a, c
2905  0C43  A3          	and	a, e
2906  0C44  6F          	ld	l, a
2907  0C45              l_game_obj_chk_00104:
2908  0C45  DD E1       	pop	ix
2909  0C47  C9          	ret
2910  0C48              	SECTION code_compiler
2911  0C48              ;	---------------------------------
2912  0C48              ; Function game_obj_clear
2913  0C48              ; ---------------------------------
2914  0C48              _game_obj_clear:
2915  0C48  21 00 00    	ld	hl,_tmp
2916  0C4B  36 00       	ld	(hl),0x00
2917  0C4D              l_game_obj_clear_00102:
2918  0C4D  2A 00 00    	ld	hl,(_tmp)
2919  0C50  26 00       	ld	h,0x00
2920  0C52  01 00 00    	ld	bc,_scr_map
2921  0C55  09          	add	hl,bc
2922  0C56  AF          	xor	a,a
2923  0C57  77          	ld	(hl),a
2924  0C58  2A 00 00    	ld	hl,(_tmp)
2925  0C5B  26 00       	ld	h,0x00
2926  0C5D  01 00 00    	ld	bc,_scr_obj0
2927  0C60  09          	add	hl,bc
2928  0C61  AF          	xor	a,a
2929  0C62  77          	ld	(hl),a
2930  0C63  2A 00 00    	ld	hl,(_tmp)
2931  0C66  26 00       	ld	h,0x00
2932  0C68  01 00 00    	ld	bc,_scr_obj1
2933  0C6B  09          	add	hl,bc
2934  0C6C  AF          	xor	a,a
2935  0C6D  77          	ld	(hl),a
2936  0C6E  21 00 00    	ld	hl,_tmp
2937  0C71  7E          	ld	a,(hl)
2938  0C72  3C          	inc	a
2939  0C73  77          	ld	(hl),a
2940  0C74  D6 A0       	sub	a,0xa0
2941  0C76  38 D5       	jr	C,l_game_obj_clear_00102
2942  0C78  01 00 00    	ld	bc,_player_keys+0
2943  0C7B  AF          	xor	a, a
2944  0C7C  02          	ld	(bc), a
2945  0C7D  21 00 00    	ld	hl,0x0000
2946  0C80  22 01 00    	ld	((_player_keys + 0x0001)),hl
2947  0C83  69          	ld	l,c
2948  0C84  60          	ld	h,b
2949  0C85  23          	inc	hl
2950  0C86  23          	inc	hl
2951  0C87  23          	inc	hl
2952  0C88  36 00       	ld	(hl),0x00
2953  0C8A  C9          	ret
2954  0C8B              	SECTION IGNORE
2955  0000              
