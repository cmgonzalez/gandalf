1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_draw_screen
191   0000              	GLOBAL _game_add_enemy
192   0000              	GLOBAL _game_print_footer
193   0000              	GLOBAL _game_phase_print_score_back
194   0000              	GLOBAL _game_update_stats
195   0000              	GLOBAL _game_tick
196   0000              	GLOBAL _game_start_timer
197   0000              	GLOBAL _game_round_init
198   0000              	GLOBAL _game_print_header
199   0000              	GLOBAL _game_check_map
200   0000              	GLOBAL _game_check_cell
201   0000              	GLOBAL _game_enemy_add_get_index
202   0000              	GLOBAL _game_print_score
203   0000              	GLOBAL _game_paint_attrib
204   0000              	GLOBAL _game_paint_attrib_lin
205   0000              	GLOBAL _game_paint_attrib_lin_h
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_end
210   0000              	GLOBAL _game_rotate_attrib
211   0000              	GLOBAL _game_colour_message
212   0000              	GLOBAL _game_check_time
213   0000              	GLOBAL _game_shoot_fire
214   0000              	GLOBAL _game_obj_set
215   0000              	GLOBAL _game_obj_chk
216   0000              	GLOBAL _game_obj_clear
217   0000              ;--------------------------------------------------------
218   0000              ; Externals used
219   0000              ;--------------------------------------------------------
220   0000              	GLOBAL _ffsll_callee
221   0000              	GLOBAL _ffsll
222   0000              	GLOBAL _strxfrm_callee
223   0000              	GLOBAL _strxfrm
224   0000              	GLOBAL _strupr_fastcall
225   0000              	GLOBAL _strupr
226   0000              	GLOBAL _strtok_r_callee
227   0000              	GLOBAL _strtok_r
228   0000              	GLOBAL _strtok_callee
229   0000              	GLOBAL _strtok
230   0000              	GLOBAL _strstrip_fastcall
231   0000              	GLOBAL _strstrip
232   0000              	GLOBAL _strstr_callee
233   0000              	GLOBAL _strstr
234   0000              	GLOBAL _strspn_callee
235   0000              	GLOBAL _strspn
236   0000              	GLOBAL _strsep_callee
237   0000              	GLOBAL _strsep
238   0000              	GLOBAL _strrstrip_fastcall
239   0000              	GLOBAL _strrstrip
240   0000              	GLOBAL _strrspn_callee
241   0000              	GLOBAL _strrspn
242   0000              	GLOBAL _strrev_fastcall
243   0000              	GLOBAL _strrev
244   0000              	GLOBAL _strrcspn_callee
245   0000              	GLOBAL _strrcspn
246   0000              	GLOBAL _strrchr_callee
247   0000              	GLOBAL _strrchr
248   0000              	GLOBAL _strpbrk_callee
249   0000              	GLOBAL _strpbrk
250   0000              	GLOBAL _strnlen_callee
251   0000              	GLOBAL _strnlen
252   0000              	GLOBAL _strnicmp_callee
253   0000              	GLOBAL _strnicmp
254   0000              	GLOBAL _strndup_callee
255   0000              	GLOBAL _strndup
256   0000              	GLOBAL _strncpy_callee
257   0000              	GLOBAL _strncpy
258   0000              	GLOBAL _strncmp_callee
259   0000              	GLOBAL _strncmp
260   0000              	GLOBAL _strnchr_callee
261   0000              	GLOBAL _strnchr
262   0000              	GLOBAL _strncat_callee
263   0000              	GLOBAL _strncat
264   0000              	GLOBAL _strncasecmp_callee
265   0000              	GLOBAL _strncasecmp
266   0000              	GLOBAL _strlwr_fastcall
267   0000              	GLOBAL _strlwr
268   0000              	GLOBAL _strlen_fastcall
269   0000              	GLOBAL _strlen
270   0000              	GLOBAL _strlcpy_callee
271   0000              	GLOBAL _strlcpy
272   0000              	GLOBAL _strlcat_callee
273   0000              	GLOBAL _strlcat
274   0000              	GLOBAL _stricmp_callee
275   0000              	GLOBAL _stricmp
276   0000              	GLOBAL _strerror_fastcall
277   0000              	GLOBAL _strerror
278   0000              	GLOBAL _strdup_fastcall
279   0000              	GLOBAL _strdup
280   0000              	GLOBAL _strcspn_callee
281   0000              	GLOBAL _strcspn
282   0000              	GLOBAL _strcpy_callee
283   0000              	GLOBAL _strcpy
284   0000              	GLOBAL _strcoll_callee
285   0000              	GLOBAL _strcoll
286   0000              	GLOBAL _strcmp_callee
287   0000              	GLOBAL _strcmp
288   0000              	GLOBAL _strchrnul_callee
289   0000              	GLOBAL _strchrnul
290   0000              	GLOBAL _strchr_callee
291   0000              	GLOBAL _strchr
292   0000              	GLOBAL _strcat_callee
293   0000              	GLOBAL _strcat
294   0000              	GLOBAL _strcasecmp_callee
295   0000              	GLOBAL _strcasecmp
296   0000              	GLOBAL _stpncpy_callee
297   0000              	GLOBAL _stpncpy
298   0000              	GLOBAL _stpcpy_callee
299   0000              	GLOBAL _stpcpy
300   0000              	GLOBAL _memswap_callee
301   0000              	GLOBAL _memswap
302   0000              	GLOBAL _memset_callee
303   0000              	GLOBAL _memset
304   0000              	GLOBAL _memrchr_callee
305   0000              	GLOBAL _memrchr
306   0000              	GLOBAL _memmove_callee
307   0000              	GLOBAL _memmove
308   0000              	GLOBAL _memmem_callee
309   0000              	GLOBAL _memmem
310   0000              	GLOBAL _memcpy_callee
311   0000              	GLOBAL _memcpy
312   0000              	GLOBAL _memcmp_callee
313   0000              	GLOBAL _memcmp
314   0000              	GLOBAL _memchr_callee
315   0000              	GLOBAL _memchr
316   0000              	GLOBAL _memccpy_callee
317   0000              	GLOBAL _memccpy
318   0000              	GLOBAL _ffsl_fastcall
319   0000              	GLOBAL _ffsl
320   0000              	GLOBAL _ffs_fastcall
321   0000              	GLOBAL _ffs
322   0000              	GLOBAL __strrstrip__fastcall
323   0000              	GLOBAL __strrstrip_
324   0000              	GLOBAL __memupr__callee
325   0000              	GLOBAL __memupr_
326   0000              	GLOBAL __memstrcpy__callee
327   0000              	GLOBAL __memstrcpy_
328   0000              	GLOBAL __memlwr__callee
329   0000              	GLOBAL __memlwr_
330   0000              	GLOBAL _rawmemchr_callee
331   0000              	GLOBAL _rawmemchr
332   0000              	GLOBAL _strnset_callee
333   0000              	GLOBAL _strnset
334   0000              	GLOBAL _strset_callee
335   0000              	GLOBAL _strset
336   0000              	GLOBAL _rindex_callee
337   0000              	GLOBAL _rindex
338   0000              	GLOBAL _index_callee
339   0000              	GLOBAL _index
340   0000              	GLOBAL _bzero_callee
341   0000              	GLOBAL _bzero
342   0000              	GLOBAL _bcopy_callee
343   0000              	GLOBAL _bcopy
344   0000              	GLOBAL _bcmp_callee
345   0000              	GLOBAL _bcmp
346   0000              	GLOBAL _ulltoa_callee
347   0000              	GLOBAL _ulltoa
348   0000              	GLOBAL _strtoull_callee
349   0000              	GLOBAL _strtoull
350   0000              	GLOBAL _strtoll_callee
351   0000              	GLOBAL _strtoll
352   0000              	GLOBAL _lltoa_callee
353   0000              	GLOBAL _lltoa
354   0000              	GLOBAL _llabs_callee
355   0000              	GLOBAL _llabs
356   0000              	GLOBAL __lldivu__callee
357   0000              	GLOBAL __lldivu_
358   0000              	GLOBAL __lldiv__callee
359   0000              	GLOBAL __lldiv_
360   0000              	GLOBAL _atoll_callee
361   0000              	GLOBAL _atoll
362   0000              	GLOBAL _realloc_unlocked_callee
363   0000              	GLOBAL _realloc_unlocked
364   0000              	GLOBAL _malloc_unlocked_fastcall
365   0000              	GLOBAL _malloc_unlocked
366   0000              	GLOBAL _free_unlocked_fastcall
367   0000              	GLOBAL _free_unlocked
368   0000              	GLOBAL _calloc_unlocked_callee
369   0000              	GLOBAL _calloc_unlocked
370   0000              	GLOBAL _aligned_alloc_unlocked_callee
371   0000              	GLOBAL _aligned_alloc_unlocked
372   0000              	GLOBAL _realloc_callee
373   0000              	GLOBAL _realloc
374   0000              	GLOBAL _malloc_fastcall
375   0000              	GLOBAL _malloc
376   0000              	GLOBAL _free_fastcall
377   0000              	GLOBAL _free
378   0000              	GLOBAL _calloc_callee
379   0000              	GLOBAL _calloc
380   0000              	GLOBAL _aligned_alloc_callee
381   0000              	GLOBAL _aligned_alloc
382   0000              	GLOBAL _utoa_callee
383   0000              	GLOBAL _utoa
384   0000              	GLOBAL _ultoa_callee
385   0000              	GLOBAL _ultoa
386   0000              	GLOBAL _system_fastcall
387   0000              	GLOBAL _system
388   0000              	GLOBAL _strtoul_callee
389   0000              	GLOBAL _strtoul
390   0000              	GLOBAL _strtol_callee
391   0000              	GLOBAL _strtol
392   0000              	GLOBAL _strtof_callee
393   0000              	GLOBAL _strtof
394   0000              	GLOBAL _strtod_callee
395   0000              	GLOBAL _strtod
396   0000              	GLOBAL _srand_fastcall
397   0000              	GLOBAL _srand
398   0000              	GLOBAL _rand
399   0000              	GLOBAL _quick_exit_fastcall
400   0000              	GLOBAL _quick_exit
401   0000              	GLOBAL _qsort_callee
402   0000              	GLOBAL _qsort
403   0000              	GLOBAL _ltoa_callee
404   0000              	GLOBAL _ltoa
405   0000              	GLOBAL _labs_fastcall
406   0000              	GLOBAL _labs
407   0000              	GLOBAL _itoa_callee
408   0000              	GLOBAL _itoa
409   0000              	GLOBAL _ftoh_callee
410   0000              	GLOBAL _ftoh
411   0000              	GLOBAL _ftog_callee
412   0000              	GLOBAL _ftog
413   0000              	GLOBAL _ftoe_callee
414   0000              	GLOBAL _ftoe
415   0000              	GLOBAL _ftoa_callee
416   0000              	GLOBAL _ftoa
417   0000              	GLOBAL _exit_fastcall
418   0000              	GLOBAL _exit
419   0000              	GLOBAL _dtoh_callee
420   0000              	GLOBAL _dtoh
421   0000              	GLOBAL _dtog_callee
422   0000              	GLOBAL _dtog
423   0000              	GLOBAL _dtoe_callee
424   0000              	GLOBAL _dtoe
425   0000              	GLOBAL _dtoa_callee
426   0000              	GLOBAL _dtoa
427   0000              	GLOBAL _bsearch_callee
428   0000              	GLOBAL _bsearch
429   0000              	GLOBAL _atol_fastcall
430   0000              	GLOBAL _atol
431   0000              	GLOBAL _atoi_fastcall
432   0000              	GLOBAL _atoi
433   0000              	GLOBAL _atof_fastcall
434   0000              	GLOBAL _atof
435   0000              	GLOBAL _atexit_fastcall
436   0000              	GLOBAL _atexit
437   0000              	GLOBAL _at_quick_exit_fastcall
438   0000              	GLOBAL _at_quick_exit
439   0000              	GLOBAL _abs_fastcall
440   0000              	GLOBAL _abs
441   0000              	GLOBAL _abort
442   0000              	GLOBAL __strtou__callee
443   0000              	GLOBAL __strtou_
444   0000              	GLOBAL __strtoi__callee
445   0000              	GLOBAL __strtoi_
446   0000              	GLOBAL __random_uniform_xor_8__fastcall
447   0000              	GLOBAL __random_uniform_xor_8_
448   0000              	GLOBAL __random_uniform_xor_32__fastcall
449   0000              	GLOBAL __random_uniform_xor_32_
450   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
451   0000              	GLOBAL __random_uniform_cmwc_8_
452   0000              	GLOBAL __shellsort__callee
453   0000              	GLOBAL __shellsort_
454   0000              	GLOBAL __quicksort__callee
455   0000              	GLOBAL __quicksort_
456   0000              	GLOBAL __insertion_sort__callee
457   0000              	GLOBAL __insertion_sort_
458   0000              	GLOBAL __ldivu__callee
459   0000              	GLOBAL __ldivu_
460   0000              	GLOBAL __ldiv__callee
461   0000              	GLOBAL __ldiv_
462   0000              	GLOBAL __divu__callee
463   0000              	GLOBAL __divu_
464   0000              	GLOBAL __div__callee
465   0000              	GLOBAL __div_
466   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
467   0000              	GLOBAL _NIRVANAP_drawTW_raw
468   0000              	GLOBAL _NIRVANAP_drawTW_callee
469   0000              	GLOBAL _NIRVANAP_drawTW
470   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawW_raw
472   0000              	GLOBAL _NIRVANAP_drawW_callee
473   0000              	GLOBAL _NIRVANAP_drawW
474   0000              	GLOBAL _NIRVANAP_spriteT_callee
475   0000              	GLOBAL _NIRVANAP_spriteT
476   0000              	GLOBAL _NIRVANAP_fillC_callee
477   0000              	GLOBAL _NIRVANAP_fillC
478   0000              	GLOBAL _NIRVANAP_readC_callee
479   0000              	GLOBAL _NIRVANAP_readC
480   0000              	GLOBAL _NIRVANAP_paintC_callee
481   0000              	GLOBAL _NIRVANAP_paintC
482   0000              	GLOBAL _NIRVANAP_printC_callee
483   0000              	GLOBAL _NIRVANAP_printC
484   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
485   0000              	GLOBAL _NIRVANAP_fillT_raw
486   0000              	GLOBAL _NIRVANAP_fillT_callee
487   0000              	GLOBAL _NIRVANAP_fillT
488   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
489   0000              	GLOBAL _NIRVANAP_drawT_raw
490   0000              	GLOBAL _NIRVANAP_drawT_callee
491   0000              	GLOBAL _NIRVANAP_drawT
492   0000              	GLOBAL _NIRVANAP_stop
493   0000              	GLOBAL _NIRVANAP_start
494   0000              	GLOBAL _debug3
495   0000              	GLOBAL _debug2
496   0000              	GLOBAL _debug
497   0000              	GLOBAL _zx_print_str
498   0000              	GLOBAL _zx_print_int
499   0000              	GLOBAL _zx_print_chr
500   0000              	GLOBAL _zx_print_bonus_time
501   0000              	GLOBAL _zx_isr
502   0000              	GLOBAL _z80_otdr_callee
503   0000              	GLOBAL _z80_otdr
504   0000              	GLOBAL _z80_otir_callee
505   0000              	GLOBAL _z80_otir
506   0000              	GLOBAL _z80_outp_callee
507   0000              	GLOBAL _z80_outp
508   0000              	GLOBAL _z80_indr_callee
509   0000              	GLOBAL _z80_indr
510   0000              	GLOBAL _z80_inir_callee
511   0000              	GLOBAL _z80_inir
512   0000              	GLOBAL _z80_inp_fastcall
513   0000              	GLOBAL _z80_inp
514   0000              	GLOBAL _z80_set_int_state_fastcall
515   0000              	GLOBAL _z80_set_int_state
516   0000              	GLOBAL _z80_get_int_state
517   0000              	GLOBAL _z80_delay_tstate_fastcall
518   0000              	GLOBAL _z80_delay_tstate
519   0000              	GLOBAL _z80_delay_ms_fastcall
520   0000              	GLOBAL _z80_delay_ms
521   0000              	GLOBAL _im2_remove_generic_callback_callee
522   0000              	GLOBAL _im2_remove_generic_callback
523   0000              	GLOBAL _im2_prepend_generic_callback_callee
524   0000              	GLOBAL _im2_prepend_generic_callback
525   0000              	GLOBAL _im2_append_generic_callback_callee
526   0000              	GLOBAL _im2_append_generic_callback
527   0000              	GLOBAL _im2_create_generic_isr_8080_callee
528   0000              	GLOBAL _im2_create_generic_isr_8080
529   0000              	GLOBAL _im2_create_generic_isr_callee
530   0000              	GLOBAL _im2_create_generic_isr
531   0000              	GLOBAL _im2_install_isr_callee
532   0000              	GLOBAL _im2_install_isr
533   0000              	GLOBAL _im2_init_fastcall
534   0000              	GLOBAL _im2_init
535   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
536   0000              	GLOBAL _intrinsic_swap_word_32
537   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
538   0000              	GLOBAL _intrinsic_swap_endian_32
539   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
540   0000              	GLOBAL _intrinsic_swap_endian_16
541   0000              	GLOBAL _intrinsic_return_de
542   0000              	GLOBAL _intrinsic_return_bc
543   0000              	GLOBAL _intrinsic_exx
544   0000              	GLOBAL _intrinsic_ex_de_hl
545   0000              	GLOBAL _intrinsic_nop
546   0000              	GLOBAL _intrinsic_im_2
547   0000              	GLOBAL _intrinsic_im_1
548   0000              	GLOBAL _intrinsic_im_0
549   0000              	GLOBAL _intrinsic_retn
550   0000              	GLOBAL _intrinsic_reti
551   0000              	GLOBAL _intrinsic_halt
552   0000              	GLOBAL _intrinsic_ei
553   0000              	GLOBAL _intrinsic_di
554   0000              	GLOBAL _intrinsic_stub
555   0000              	GLOBAL _intrinsic_outi
556   0000              	GLOBAL _intrinsic_ldi
557   0000              	GLOBAL _zx_pattern_fill_callee
558   0000              	GLOBAL _zx_pattern_fill
559   0000              	GLOBAL _zx_saddrpup_fastcall
560   0000              	GLOBAL _zx_saddrpup
561   0000              	GLOBAL _zx_saddrpright_callee
562   0000              	GLOBAL _zx_saddrpright
563   0000              	GLOBAL _zx_saddrpleft_callee
564   0000              	GLOBAL _zx_saddrpleft
565   0000              	GLOBAL _zx_saddrpdown_fastcall
566   0000              	GLOBAL _zx_saddrpdown
567   0000              	GLOBAL _zx_saddrcup_fastcall
568   0000              	GLOBAL _zx_saddrcup
569   0000              	GLOBAL _zx_saddrcright_fastcall
570   0000              	GLOBAL _zx_saddrcright
571   0000              	GLOBAL _zx_saddrcleft_fastcall
572   0000              	GLOBAL _zx_saddrcleft
573   0000              	GLOBAL _zx_saddrcdown_fastcall
574   0000              	GLOBAL _zx_saddrcdown
575   0000              	GLOBAL _zx_saddr2py_fastcall
576   0000              	GLOBAL _zx_saddr2py
577   0000              	GLOBAL _zx_saddr2px_fastcall
578   0000              	GLOBAL _zx_saddr2px
579   0000              	GLOBAL _zx_saddr2cy_fastcall
580   0000              	GLOBAL _zx_saddr2cy
581   0000              	GLOBAL _zx_saddr2cx_fastcall
582   0000              	GLOBAL _zx_saddr2cx
583   0000              	GLOBAL _zx_saddr2aaddr_fastcall
584   0000              	GLOBAL _zx_saddr2aaddr
585   0000              	GLOBAL _zx_py2saddr_fastcall
586   0000              	GLOBAL _zx_py2saddr
587   0000              	GLOBAL _zx_py2aaddr_fastcall
588   0000              	GLOBAL _zx_py2aaddr
589   0000              	GLOBAL _zx_pxy2saddr_callee
590   0000              	GLOBAL _zx_pxy2saddr
591   0000              	GLOBAL _zx_pxy2aaddr_callee
592   0000              	GLOBAL _zx_pxy2aaddr
593   0000              	GLOBAL _zx_px2bitmask_fastcall
594   0000              	GLOBAL _zx_px2bitmask
595   0000              	GLOBAL _zx_cy2saddr_fastcall
596   0000              	GLOBAL _zx_cy2saddr
597   0000              	GLOBAL _zx_cy2aaddr_fastcall
598   0000              	GLOBAL _zx_cy2aaddr
599   0000              	GLOBAL _zx_cxy2saddr_callee
600   0000              	GLOBAL _zx_cxy2saddr
601   0000              	GLOBAL _zx_cxy2aaddr_callee
602   0000              	GLOBAL _zx_cxy2aaddr
603   0000              	GLOBAL _zx_bitmask2px_fastcall
604   0000              	GLOBAL _zx_bitmask2px
605   0000              	GLOBAL _zx_aaddrcup_fastcall
606   0000              	GLOBAL _zx_aaddrcup
607   0000              	GLOBAL _zx_aaddrcright_fastcall
608   0000              	GLOBAL _zx_aaddrcright
609   0000              	GLOBAL _zx_aaddrcleft_fastcall
610   0000              	GLOBAL _zx_aaddrcleft
611   0000              	GLOBAL _zx_aaddrcdown_fastcall
612   0000              	GLOBAL _zx_aaddrcdown
613   0000              	GLOBAL _zx_aaddr2saddr_fastcall
614   0000              	GLOBAL _zx_aaddr2saddr
615   0000              	GLOBAL _zx_aaddr2py_fastcall
616   0000              	GLOBAL _zx_aaddr2py
617   0000              	GLOBAL _zx_aaddr2px_fastcall
618   0000              	GLOBAL _zx_aaddr2px
619   0000              	GLOBAL _zx_aaddr2cy_fastcall
620   0000              	GLOBAL _zx_aaddr2cy
621   0000              	GLOBAL _zx_aaddr2cx_fastcall
622   0000              	GLOBAL _zx_aaddr2cx
623   0000              	GLOBAL _zx_visit_wc_pix_callee
624   0000              	GLOBAL _zx_visit_wc_pix
625   0000              	GLOBAL _zx_visit_wc_attr_callee
626   0000              	GLOBAL _zx_visit_wc_attr
627   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
628   0000              	GLOBAL _zx_scroll_wc_up_pix
629   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
630   0000              	GLOBAL _zx_scroll_wc_up_attr
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_pix_callee
634   0000              	GLOBAL _zx_scroll_up_pix
635   0000              	GLOBAL _zx_scroll_up_attr_callee
636   0000              	GLOBAL _zx_scroll_up_attr
637   0000              	GLOBAL _zx_scroll_up_callee
638   0000              	GLOBAL _zx_scroll_up
639   0000              	GLOBAL _zx_cls_wc_pix_callee
640   0000              	GLOBAL _zx_cls_wc_pix
641   0000              	GLOBAL _zx_cls_wc_attr_callee
642   0000              	GLOBAL _zx_cls_wc_attr
643   0000              	GLOBAL _zx_cls_wc_callee
644   0000              	GLOBAL _zx_cls_wc
645   0000              	GLOBAL _zx_cls_pix_fastcall
646   0000              	GLOBAL _zx_cls_pix
647   0000              	GLOBAL _zx_cls_attr_fastcall
648   0000              	GLOBAL _zx_cls_attr
649   0000              	GLOBAL _zx_cls_fastcall
650   0000              	GLOBAL _zx_cls
651   0000              	GLOBAL _zx_border_fastcall
652   0000              	GLOBAL _zx_border
653   0000              	GLOBAL _spr_btile_paint_back
654   0000              	GLOBAL _spr_explode_bullet
655   0000              	GLOBAL _spr_init_anim_bullets
656   0000              	GLOBAL _spr_turn_horizontal
657   0000              	GLOBAL _spr_play_bullets
658   0000              	GLOBAL _spr_play_anim
659   0000              	GLOBAL _spr_add_anim
660   0000              	GLOBAL _spr_page_map
661   0000              	GLOBAL _spr_page_right
662   0000              	GLOBAL _spr_page_left
663   0000              	GLOBAL _spr_tile_paint
664   0000              	GLOBAL _spr_calc_hor
665   0000              	GLOBAL _spr_draw_row
666   0000              	GLOBAL _spr_draw_index
667   0000              	GLOBAL _spr_draw_clear
668   0000              	GLOBAL _spr_brick_anim
669   0000              	GLOBAL _spr_back_repaint
670   0000              	GLOBAL _spr_tile
671   0000              	GLOBAL _spr_destroy
672   0000              	GLOBAL _spr_tile_dir
673   0000              	GLOBAL _spr_redraw
674   0000              	GLOBAL _spr_move_left
675   0000              	GLOBAL _spr_move_right
676   0000              	GLOBAL _spr_move_horizontal
677   0000              	GLOBAL _spr_move_down
678   0000              	GLOBAL _spr_move_up
679   0000              	GLOBAL _spr_calc_index
680   0000              	GLOBAL _spr_chktime
681   0000              	GLOBAL _sound_hit_brick
682   0000              	GLOBAL _sound_hit_enemy
683   0000              	GLOBAL _sound_kill
684   0000              	GLOBAL _sound_enter_enemy
685   0000              	GLOBAL _sound_coin
686   0000              	GLOBAL _sound_jump
687   0000              	GLOBAL _sound_slide
688   0000              	GLOBAL _player_lost_life
689   0000              	GLOBAL _player_hit
690   0000              	GLOBAL _player_open_door
691   0000              	GLOBAL _player_move_jump
692   0000              	GLOBAL _player_fire
693   0000              	GLOBAL _player_check_stairs_down
694   0000              	GLOBAL _player_check_stairs
695   0000              	GLOBAL _player_tile
696   0000              	GLOBAL _player_pick_item
697   0000              	GLOBAL _player_check_floor
698   0000              	GLOBAL _player_hit_platform_clear
699   0000              	GLOBAL _player_score_add
700   0000              	GLOBAL _player_player_hit_pow
701   0000              	GLOBAL _player_hit_platform
702   0000              	GLOBAL _player_move_input
703   0000              	GLOBAL _player_turn
704   0000              	GLOBAL _player_move
705   0000              	GLOBAL _player_restart
706   0000              	GLOBAL _player_kill
707   0000              	GLOBAL _player_check_input
708   0000              	GLOBAL _player_collision
709   0000              	GLOBAL _player_init
710   0000              	GLOBAL _game_unfreeze_all
711   0000              	GLOBAL _game_freeze_all
712   0000              	GLOBAL _game_freeze
713   0000              	GLOBAL _game_fill_row
714   0000              	GLOBAL _enemy_avoid_fall_dead
715   0000              	GLOBAL _enemy_avoid_fall
716   0000              	GLOBAL _enemy_respawn
717   0000              	GLOBAL _enemy_init
718   0000              	GLOBAL _enemy_move
719   0000              	GLOBAL _enemy_turn
720   0000              	GLOBAL _enemy_hit
721   0000              	GLOBAL _enemy_coin1
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_fx_play
727   0000              	GLOBAL _ay_midi_play
728   0000              	GLOBAL _ay_is_playing
729   0000              	GLOBAL _ay_reset
730   0000              	GLOBAL _test_func
731   0000              	GLOBAL _test_proc
732   0000              	GLOBAL _in_mouse_kempston_wheel_delta
733   0000              	GLOBAL _in_mouse_kempston_wheel
734   0000              	GLOBAL _in_mouse_kempston_callee
735   0000              	GLOBAL _in_mouse_kempston
736   0000              	GLOBAL _in_mouse_kempston_setpos_callee
737   0000              	GLOBAL _in_mouse_kempston_setpos
738   0000              	GLOBAL _in_mouse_kempston_reset
739   0000              	GLOBAL _in_mouse_kempston_init
740   0000              	GLOBAL _in_mouse_amx_wheel_delta
741   0000              	GLOBAL _in_mouse_amx_wheel
742   0000              	GLOBAL _in_mouse_amx_callee
743   0000              	GLOBAL _in_mouse_amx
744   0000              	GLOBAL _in_mouse_amx_setpos_callee
745   0000              	GLOBAL _in_mouse_amx_setpos
746   0000              	GLOBAL _in_mouse_amx_reset
747   0000              	GLOBAL _in_mouse_amx_init_callee
748   0000              	GLOBAL _in_mouse_amx_init
749   0000              	GLOBAL _in_stick_sinclair2
750   0000              	GLOBAL _in_stick_sinclair1
751   0000              	GLOBAL _in_stick_kempston
752   0000              	GLOBAL _in_stick_fuller
753   0000              	GLOBAL _in_stick_cursor
754   0000              	GLOBAL _in_stick_keyboard_fastcall
755   0000              	GLOBAL _in_stick_keyboard
756   0000              	GLOBAL _in_wait_nokey
757   0000              	GLOBAL _in_wait_key
758   0000              	GLOBAL _in_test_key
759   0000              	GLOBAL _in_pause_fastcall
760   0000              	GLOBAL _in_pause
761   0000              	GLOBAL _in_key_scancode_fastcall
762   0000              	GLOBAL _in_key_scancode
763   0000              	GLOBAL _in_key_pressed_fastcall
764   0000              	GLOBAL _in_key_pressed
765   0000              	GLOBAL _in_inkey
766   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
767   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
768   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
769   0000              	GLOBAL _NIRVANAP_HOLE
770   0000              	GLOBAL _NIRVANAP_ISR_HOOK
771   0000              	GLOBAL _player_lvl_table
772   0000              	GLOBAL _map_paper_last
773   0000              	GLOBAL _map_paper_clr
774   0000              	GLOBAL _map_paper
775   0000              	GLOBAL _draw_count
776   0000              	GLOBAL _g_player_hit_right
777   0000              	GLOBAL _g_player_hit_left
778   0000              	GLOBAL _joynames
779   0000              	GLOBAL _initials
780   0000              	GLOBAL _bullet_count
781   0000              	GLOBAL _bullet_vel
782   0000              	GLOBAL _bullet_frames
783   0000              	GLOBAL _bullet_colint
784   0000              	GLOBAL _bullet_dir
785   0000              	GLOBAL _bullet_tile
786   0000              	GLOBAL _bullet_col
787   0000              	GLOBAL _bullet_lin
788   0000              	GLOBAL _bullet_col0
789   0000              	GLOBAL _bullet_lin0
790   0000              	GLOBAL _bullet_max
791   0000              	GLOBAL _bullet_class
792   0000              	GLOBAL _mush_class
793   0000              	GLOBAL _mush_index
794   0000              	GLOBAL _anim_count
795   0000              	GLOBAL _anim_respanwn
796   0000              	GLOBAL _anim_loop
797   0000              	GLOBAL _anim_end
798   0000              	GLOBAL _anim_int
799   0000              	GLOBAL _anim_tile
800   0000              	GLOBAL _anim_col
801   0000              	GLOBAL _anim_lin
802   0000              	GLOBAL _phase_curr
803   0000              	GLOBAL _map_heigth
804   0000              	GLOBAL _map_width
805   0000              	GLOBAL _scr_curr
806   0000              	GLOBAL _scr_obj1
807   0000              	GLOBAL _scr_obj0
808   0000              	GLOBAL _scr_map
809   0000              	GLOBAL _sprite_speed_alt
810   0000              	GLOBAL _sprite_frames
811   0000              	GLOBAL _sprite_speed
812   0000              	GLOBAL _screen_ink
813   0000              	GLOBAL _screen_paper
814   0000              	GLOBAL _player_over_stair
815   0000              	GLOBAL _game_start_scr
816   0000              	GLOBAL _game_respawning
817   0000              	GLOBAL _game_respawn_tile
818   0000              	GLOBAL _game_respawn_index
819   0000              	GLOBAL _game_menu_sel
820   0000              	GLOBAL _game_score_top
821   0000              	GLOBAL _player_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_sound
824   0000              	GLOBAL _game_inmune
825   0000              	GLOBAL _game_god_mode
826   0000              	GLOBAL _game_two_player
827   0000              	GLOBAL _game_brick_tile
828   0000              	GLOBAL _sprite_curr_index
829   0000              	GLOBAL _spr_count
830   0000              	GLOBAL _bullet_time
831   0000              	GLOBAL _anim_time
832   0000              	GLOBAL _frame_time
833   0000              	GLOBAL _entry_time
834   0000              	GLOBAL _curr_time
835   0000              	GLOBAL _s_state
836   0000              	GLOBAL _attrib_hl
837   0000              	GLOBAL _attrib
838   0000              	GLOBAL _zx_val_asm
839   0000              	GLOBAL _enemies
840   0000              	GLOBAL _tmp_ui
841   0000              	GLOBAL _tmp_sc
842   0000              	GLOBAL _tmp_uc
843   0000              	GLOBAL _tmp1
844   0000              	GLOBAL _tmp0
845   0000              	GLOBAL _tmp
846   0000              	GLOBAL _index1
847   0000              	GLOBAL _index0
848   0000              	GLOBAL _loop_count
849   0000              	GLOBAL _s_col1
850   0000              	GLOBAL _s_col0
851   0000              	GLOBAL _s_lin1
852   0000              	GLOBAL _s_lin0
853   0000              	GLOBAL _s_tile1
854   0000              	GLOBAL _s_tile0
855   0000              	GLOBAL _player_hit_count
856   0000              	GLOBAL _sprite_horizontal_check
857   0000              	GLOBAL _sprite_on_air
858   0000              	GLOBAL _sprite
859   0000              	GLOBAL _game_gravity
860   0000              	GLOBAL _player_hit_time
861   0000              	GLOBAL _player_lvl
862   0000              	GLOBAL _player_int
863   0000              	GLOBAL _player_str
864   0000              	GLOBAL _player_max_vita
865   0000              	GLOBAL _player_max_mana
866   0000              	GLOBAL _player_vita
867   0000              	GLOBAL _player_mana
868   0000              	GLOBAL _player_keys
869   0000              	GLOBAL _player_vel_inc
870   0000              	GLOBAL _player_vel_y1
871   0000              	GLOBAL _player_vel_y0
872   0000              	GLOBAL _player_vel_y
873   0000              	GLOBAL _player_vel_x
874   0000              	GLOBAL _player_joy
875   0000              	GLOBAL _player_score
876   0000              	GLOBAL _last_time
877   0000              	GLOBAL _player_slide
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_hit_col
881   0000              	GLOBAL _player_hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k1
892   0000              	GLOBAL _joyfunc1
893   0000              	GLOBAL _btiles
894   0000              	GLOBAL _spec128
895   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
896   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
898   0000              	GLOBAL _ay_effect_20
899   0000              	GLOBAL _ay_effect_19
900   0000              	GLOBAL _ay_effect_18
901   0000              	GLOBAL _ay_effect_17
902   0000              	GLOBAL _ay_effect_16
903   0000              	GLOBAL _ay_effect_15
904   0000              	GLOBAL _ay_effect_14
905   0000              	GLOBAL _ay_effect_13
906   0000              	GLOBAL _ay_effect_12
907   0000              	GLOBAL _ay_effect_11
908   0000              	GLOBAL _ay_effect_10
909   0000              	GLOBAL _ay_effect_09
910   0000              	GLOBAL _ay_effect_08
911   0000              	GLOBAL _ay_effect_07
912   0000              	GLOBAL _ay_effect_06
913   0000              	GLOBAL _ay_effect_05
914   0000              	GLOBAL _ay_effect_04
915   0000              	GLOBAL _ay_effect_03
916   0000              	GLOBAL _ay_effect_02
917   0000              	GLOBAL _ay_effect_01
918   0000              	GLOBAL _pb_midi_phase_1
919   0000              	GLOBAL _pb_midi_title
920   0000              	GLOBAL _control_method
921   0000              	GLOBAL _world0
922   0000              	GLOBAL _lenght0
923   0000              	GLOBAL _start_scr0
924   0000              ;--------------------------------------------------------
925   0000              ; special function registers
926   0000              ;--------------------------------------------------------
927   0000              defc _IO_FE	=	0x00fe
928   0000              defc _IO_1FFD	=	0x1ffd
929   0000              defc _IO_7FFD	=	0x7ffd
930   0000              ;--------------------------------------------------------
931   0000              ; ram data
932   0000              ;--------------------------------------------------------
933   0000              	SECTION bss_compiler
934   0000              ;--------------------------------------------------------
935   0000              ; ram data
936   0000              ;--------------------------------------------------------
937   0000              
938   0000              IF 0
939   0000              
940   0000              ; .area _INITIALIZED removed by z88dk
941   0000              
942   0000              
943   0000              ENDIF
944   0000              
945   0000              ;--------------------------------------------------------
946   0000              ; absolute external ram data
947   0000              ;--------------------------------------------------------
948   0000              	SECTION IGNORE
949   0000              ;--------------------------------------------------------
950   0000              ; global & static initialisations
951   0000              ;--------------------------------------------------------
952   0000              	SECTION code_crt_init
953   0000              ;--------------------------------------------------------
954   0000              ; Home
955   0000              ;--------------------------------------------------------
956   0000              	SECTION IGNORE
957   0000              ;--------------------------------------------------------
958   0000              ; code
959   0000              ;--------------------------------------------------------
960   0000              	SECTION code_compiler
961   0000              ;	---------------------------------
962   0000              ; Function game_loop
963   0000              ; ---------------------------------
964   0000              _game_loop:
965   0000  CD 00 00    	call	___sdcc_enter_ix
966   0003  F5          	push	af
967   0004  21 00 00    	ld	hl,_player_max_mana
968   0007  36 64       	ld	(hl),0x64
969   0009  21 00 00    	ld	hl,_player_max_vita
970   000C  36 64       	ld	(hl),0x64
971   000E  21 00 00    	ld	hl,_player_lives
972   0011  36 03       	ld	(hl),0x03
973   0013  21 00 00    	ld	hl,_player_mana
974   0016  36 64       	ld	(hl),0x64
975   0018  21 00 00    	ld	hl,_player_vita
976   001B  36 64       	ld	(hl),0x64
977   001D  21 00 00    	ld	hl,_player_str
978   0020  36 00       	ld	(hl),0x00
979   0022  21 00 00    	ld	hl,_player_lvl
980   0025  36 00       	ld	(hl),0x00
981   0027  21 00 00    	ld	hl,_player_int
982   002A  36 00       	ld	(hl),0x00
983   002C  21 00 00    	ld	hl,0x0000
984   002F  22 00 00    	ld	(_player_score),hl
985   0032  21 00 00    	ld	hl,_game_over
986   0035  36 00       	ld	(hl),0x00
987   0037  CD 7B 06    	call	_game_round_init
988   003A  21 00 00    	ld	hl,___str_0
989   003D  E5          	push	hl
990   003E  21 0C 06    	ld	hl,0x060c
991   0041  E5          	push	hl
992   0042  CD 00 00    	call	_zx_print_str
993   0045  AF          	xor	a, a
994   0046  F5          	push	af
995   0047  33          	inc	sp
996   0048  21 FA 00    	ld	hl,0x00fa
997   004B  E5          	push	hl
998   004C  21 06 17    	ld	hl,0x1706
999   004F  E5          	push	hl
1000  0050  3E 0C       	ld	a,0x0c
1001  0052  F5          	push	af
1002  0053  33          	inc	sp
1003  0054  CD 16 09    	call	_game_colour_message
1004  0057  F1          	pop	af
1005  0058  F1          	pop	af
1006  0059  F1          	pop	af
1007  005A  21 00 00    	ld	hl,_dirs
1008  005D  36 00       	ld	(hl),0x00
1009  005F  CD E8 08    	call	_game_joystick_set
1010  0062  21 00 00    	ld	hl,0x0000
1011  0065  E3          	ex	(sp), hl
1012  0066              l_game_loop_00119:
1013  0066  3A 00 00    	ld	a,(_game_over)
1014  0069  B7          	or	a, a
1015  006A  C2 82 01    	jp	NZ, l_game_loop_00121
1016  006D  21 06 00    	ld	hl,0x0006
1017  0070  E5          	push	hl
1018  0071  2A 00 00    	ld	hl,(_anim_time)
1019  0074  E5          	push	hl
1020  0075  CD 0A 0A    	call	_game_check_time
1021  0078  F1          	pop	af
1022  0079  F1          	pop	af
1023  007A  7D          	ld	a, l
1024  007B  B7          	or	a, a
1025  007C  28 14       	jr	Z,l_game_loop_00104
1026  007E  2E 00       	ld	l,0x00
1027  0080  CD 00 00    	call	_zx_border_fastcall
1028  0083  2A 00 00    	ld	hl,(_curr_time)
1029  0086  22 00 00    	ld	(_anim_time),hl
1030  0089  3A 00 00    	ld	a,(_anim_count)
1031  008C  B7          	or	a,a
1032  008D  28 03       	jr	Z,l_game_loop_00104
1033  008F  CD 00 00    	call	_spr_play_anim
1034  0092              l_game_loop_00104:
1035  0092  21 02 00    	ld	hl,0x0002
1036  0095  E5          	push	hl
1037  0096  2A 00 00    	ld	hl,(_bullet_time)
1038  0099  E5          	push	hl
1039  009A  CD 0A 0A    	call	_game_check_time
1040  009D  F1          	pop	af
1041  009E  F1          	pop	af
1042  009F  7D          	ld	a, l
1043  00A0  B7          	or	a, a
1044  00A1  28 0F       	jr	Z,l_game_loop_00108
1045  00A3  2A 00 00    	ld	hl,(_curr_time)
1046  00A6  22 00 00    	ld	(_bullet_time),hl
1047  00A9  3A 00 00    	ld	a,(_bullet_count)
1048  00AC  B7          	or	a,a
1049  00AD  28 03       	jr	Z,l_game_loop_00108
1050  00AF  CD 00 00    	call	_spr_play_bullets
1051  00B2              l_game_loop_00108:
1052  00B2  21 00 00    	ld	hl,_sprite
1053  00B5  36 07       	ld	(hl),0x07
1054  00B7  CD 00 00    	call	_player_turn
1055  00BA  CD 00 00    	call	_enemy_turn
1056  00BD  21 64 00    	ld	hl,0x0064
1057  00C0  E5          	push	hl
1058  00C1  2A 00 00    	ld	hl,(_frame_time)
1059  00C4  E5          	push	hl
1060  00C5  CD 0A 0A    	call	_game_check_time
1061  00C8  F1          	pop	af
1062  00C9  F1          	pop	af
1063  00CA  7D          	ld	a, l
1064  00CB  B7          	or	a, a
1065  00CC  CA 6E 01    	jp	Z, l_game_loop_00118
1066  00CF  21 00 00    	ld	hl,_screen_ink
1067  00D2  36 07       	ld	(hl),0x07
1068  00D4  E1          	pop	hl
1069  00D5  E5          	push	hl
1070  00D6  E5          	push	hl
1071  00D7  21 17 18    	ld	hl,0x1817
1072  00DA  E5          	push	hl
1073  00DB  CD 00 00    	call	_zx_print_int
1074  00DE  21 00 00    	ld	hl,0x0000
1075  00E1  E3          	ex	(sp), hl
1076  00E2  2A 00 00    	ld	hl,(_curr_time)
1077  00E5  22 00 00    	ld	(_frame_time),hl
1078  00E8  3A 00 00    	ld	a,(_game_respawning)
1079  00EB  B7          	or	a,a
1080  00EC  C2 6E 01    	jp	NZ,l_game_loop_00118
1081  00EF  21 00 00    	ld	hl,_sprite
1082  00F2  36 00       	ld	(hl),0x00
1083  00F4              l_game_loop_00112:
1084  00F4  21 00 00    	ld	hl,_sprite
1085  00F7  7E          	ld	a, (hl)
1086  00F8  D6 07       	sub	a,0x07
1087  00FA  30 72       	jr	NC,l_game_loop_00118
1088  00FC  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1089  00FE  86          	add	a, (hl)
1090  00FF  4F          	ld	c, a
1091  0100  3E 00       	ld	a, +((_game_respawn_index) / 256)
1092  0102  CE 00       	adc	a,0x00
1093  0104  47          	ld	b, a
1094  0105  0A          	ld	a, (bc)
1095  0106  4F          	ld	c,a
1096  0107  B7          	or	a, a
1097  0108  28 5E       	jr	Z,l_game_loop_00110
1098  010A  5E          	ld	e,(hl)
1099  010B  16 00       	ld	d,0x00
1100  010D  21 00 00    	ld	hl,_class
1101  0110  19          	add	hl,de
1102  0111  7E          	ld	a,(hl)
1103  0112  B7          	or	a, a
1104  0113  20 53       	jr	NZ,l_game_loop_00110
1105  0115  21 00 00    	ld	hl,_index1
1106  0118  71          	ld	(hl), c
1107  0119  23          	inc	hl
1108  011A  36 00       	ld	(hl),0x00
1109  011C  2B          	dec	hl
1110  011D  7E          	ld	a,(hl)
1111  011E  4F          	ld	c,a
1112  011F  E6 0F       	and	a,0x0f
1113  0121  87          	add	a, a
1114  0122  32 00 00    	ld	(_s_col1),a
1115  0125  21 00 00    	ld	hl,_s_lin1
1116  0128  71          	ld	(hl),c
1117  0129  79          	ld	a,c
1118  012A  07          	rlca
1119  012B  07          	rlca
1120  012C  07          	rlca
1121  012D  07          	rlca
1122  012E  E6 0F       	and	a,0x0f
1123  0130  07          	rlca
1124  0131  07          	rlca
1125  0132  07          	rlca
1126  0133  07          	rlca
1127  0134  E6 F0       	and	a,0xf0
1128  0136  77          	ld	(hl), a
1129  0137  01 00 00    	ld	bc,_scr_map
1130  013A  2A 00 00    	ld	hl,(_index1)
1131  013D  09          	add	hl,bc
1132  013E  36 FF       	ld	(hl),0xff
1133  0140  2A 00 00    	ld	hl,(_sprite)
1134  0143  26 00       	ld	h,0x00
1135  0145  01 00 00    	ld	bc,_game_respawn_tile
1136  0148  09          	add	hl,bc
1137  0149  7E          	ld	a,(hl)
1138  014A  F5          	push	af
1139  014B  33          	inc	sp
1140  014C  21 03 04    	ld	hl,0x0403
1141  014F  E5          	push	hl
1142  0150  2A 00 00    	ld	hl,(_s_col1)
1143  0153  26 8A       	ld	h,0x8a
1144  0155  3A 00 00    	ld	a,(_s_lin1)
1145  0158  E5          	push	hl
1146  0159  F5          	push	af
1147  015A  33          	inc	sp
1148  015B  CD 00 00    	call	_spr_add_anim
1149  015E  F1          	pop	af
1150  015F  F1          	pop	af
1151  0160  F1          	pop	af
1152  0161  21 00 00    	ld	hl,_game_respawning
1153  0164  36 01       	ld	(hl),0x01
1154  0166  18 06       	jr	l_game_loop_00118
1155  0168              l_game_loop_00110:
1156  0168  21 00 00    	ld	hl,_sprite
1157  016B  34          	inc	(hl)
1158  016C  18 86       	jr	l_game_loop_00112
1159  016E              l_game_loop_00118:
1160  016E  21 00 00    	ld	hl,_loop_count
1161  0171  34          	inc	(hl)
1162  0172  20 02       	jr	NZ,l_game_loop_00172
1163  0174  23          	inc	hl
1164  0175  34          	inc	(hl)
1165  0176              l_game_loop_00172:
1166  0176  DD 34 FE    	inc	(ix-2)
1167  0179  C2 66 00    	jp	NZ,l_game_loop_00119
1168  017C  DD 34 FF    	inc	(ix-1)
1169  017F  C3 66 00    	jp	l_game_loop_00119
1170  0182              l_game_loop_00121:
1171  0182  21 12 00    	ld	hl,___str_1
1172  0185  E5          	push	hl
1173  0186  21 0C 0C    	ld	hl,0x0c0c
1174  0189  E5          	push	hl
1175  018A  CD 00 00    	call	_zx_print_str
1176  018D  AF          	xor	a, a
1177  018E  F5          	push	af
1178  018F  33          	inc	sp
1179  0190  21 FA 00    	ld	hl,0x00fa
1180  0193  E5          	push	hl
1181  0194  21 0C 15    	ld	hl,0x150c
1182  0197  E5          	push	hl
1183  0198  3E 0C       	ld	a,0x0c
1184  019A  F5          	push	af
1185  019B  33          	inc	sp
1186  019C  CD 16 09    	call	_game_colour_message
1187  019F  F1          	pop	af
1188  01A0  F1          	pop	af
1189  01A1  F1          	pop	af
1190  01A2  CD D1 0C    	call	_game_obj_clear
1191  01A5  CD 00 00    	call	_game_loop
1192  01A8  F1          	pop	af
1193  01A9  DD E1       	pop	ix
1194  01AB  C9          	ret
1195  01AC              	SECTION rodata_compiler
1196  0000              ___str_0:
1197  0000  57 4F 52 4C 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "WORLD 1 THE SHIRE"
1198  0011  00          	DEFB 0x00
1199  0012              	SECTION rodata_compiler
1200  0012              ___str_1:
1201  0012  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1202  001B  00          	DEFB 0x00
1203  001C              	SECTION code_compiler
1204  01AC              ;	---------------------------------
1205  01AC              ; Function game_draw_screen
1206  01AC              ; ---------------------------------
1207  01AC              _game_draw_screen:
1208  01AC  CD 00 00    	call	___sdcc_enter_ix
1209  01AF  3B          	dec	sp
1210  01B0  76          	halt
1211  01B1  21 00 00    	ld	hl,_spr_count
1212  01B4  36 00       	ld	(hl),0x00
1213  01B6              l_game_draw_screen_00101:
1214  01B6  21 00 00    	ld	hl,_spr_count
1215  01B9  7E          	ld	a, (hl)
1216  01BA  D6 07       	sub	a,0x07
1217  01BC  30 3A       	jr	NC,l_game_draw_screen_00103
1218  01BE  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1219  01C0  86          	add	a, (hl)
1220  01C1  4F          	ld	c, a
1221  01C2  3E 00       	ld	a, +((_game_respawn_index) / 256)
1222  01C4  CE 00       	adc	a,0x00
1223  01C6  47          	ld	b, a
1224  01C7  AF          	xor	a, a
1225  01C8  02          	ld	(bc), a
1226  01C9  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1227  01CB  86          	add	a, (hl)
1228  01CC  4F          	ld	c, a
1229  01CD  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1230  01CF  CE 00       	adc	a,0x00
1231  01D1  47          	ld	b, a
1232  01D2  AF          	xor	a, a
1233  01D3  02          	ld	(bc), a
1234  01D4  3E 00       	ld	a, +((_mush_index) & 0xFF)
1235  01D6  86          	add	a, (hl)
1236  01D7  4F          	ld	c, a
1237  01D8  3E 00       	ld	a, +((_mush_index) / 256)
1238  01DA  CE 00       	adc	a,0x00
1239  01DC  47          	ld	b, a
1240  01DD  AF          	xor	a, a
1241  01DE  02          	ld	(bc), a
1242  01DF  3E 00       	ld	a, +((_mush_class) & 0xFF)
1243  01E1  86          	add	a, (hl)
1244  01E2  4F          	ld	c, a
1245  01E3  3E 00       	ld	a, +((_mush_class) / 256)
1246  01E5  CE 00       	adc	a,0x00
1247  01E7  47          	ld	b, a
1248  01E8  AF          	xor	a, a
1249  01E9  02          	ld	(bc), a
1250  01EA  3E 00       	ld	a, +((_class) & 0xFF)
1251  01EC  86          	add	a, (hl)
1252  01ED  4F          	ld	c, a
1253  01EE  3E 00       	ld	a, +((_class) / 256)
1254  01F0  CE 00       	adc	a,0x00
1255  01F2  47          	ld	b, a
1256  01F3  AF          	xor	a, a
1257  01F4  02          	ld	(bc), a
1258  01F5  34          	inc	(hl)
1259  01F6  18 BE       	jr	l_game_draw_screen_00101
1260  01F8              l_game_draw_screen_00103:
1261  01F8  21 00 00    	ld	hl,_game_respawning
1262  01FB  36 00       	ld	(hl),0x00
1263  01FD  21 10 00    	ld	hl,0x0010
1264  0200  22 00 00    	ld	(_index1),hl
1265  0203  21 00 00    	ld	hl,_s_lin1
1266  0206  36 00       	ld	(hl),0x00
1267  0208  21 00 00    	ld	hl,_s_col1
1268  020B  36 02       	ld	(hl),0x02
1269  020D  21 00 00    	ld	hl,_spr_count
1270  0210  36 00       	ld	(hl),0x00
1271  0212  F3          	di
1272  0213  DD 36 FF 00 	ld	(ix-1),0x00
1273  0217              l_game_draw_screen_00119:
1274  0217  21 00 00    	ld	hl,_index1
1275  021A  7E          	ld	a, (hl)
1276  021B  D6 A0       	sub	a,0xa0
1277  021D  23          	inc	hl
1278  021E  7E          	ld	a, (hl)
1279  021F  DE 00       	sbc	a,0x00
1280  0221  D2 14 03    	jp	NC, l_game_draw_screen_00121
1281  0224  2B          	dec	hl
1282  0225  7E          	ld	a, (hl)
1283  0226  E6 0F       	and	a,0x0f
1284  0228  20 0C       	jr	NZ,l_game_draw_screen_00105
1285  022A  21 00 00    	ld	hl,_s_lin1
1286  022D  7E          	ld	a, (hl)
1287  022E  C6 10       	add	a,0x10
1288  0230  77          	ld	(hl), a
1289  0231  21 00 00    	ld	hl,_s_col1
1290  0234  36 00       	ld	(hl),0x00
1291  0236              l_game_draw_screen_00105:
1292  0236  2A 00 00    	ld	hl,(_index1)
1293  0239  01 00 00    	ld	bc,_scr_map
1294  023C  09          	add	hl,bc
1295  023D  7E          	ld	a,(hl)
1296  023E  FE 60       	cp	a,0x60
1297  0240  30 36       	jr	NC,l_game_draw_screen_00117
1298  0242  D6 5C       	sub	a,0x5c
1299  0244  20 19       	jr	NZ,l_game_draw_screen_00107
1300  0246  2A 00 00    	ld	hl,(_index1)
1301  0249  01 F0 FF    	ld	bc,0xfff0
1302  024C  09          	add	hl,bc
1303  024D  E5          	push	hl
1304  024E  CD 85 0C    	call	_game_obj_chk
1305  0251  F1          	pop	af
1306  0252  7D          	ld	a, l
1307  0253  B7          	or	a, a
1308  0254  28 09       	jr	Z,l_game_draw_screen_00107
1309  0256  01 00 00    	ld	bc,_scr_map
1310  0259  2A 00 00    	ld	hl,(_index1)
1311  025C  09          	add	hl,bc
1312  025D  36 4F       	ld	(hl),0x4f
1313  025F              l_game_draw_screen_00107:
1314  025F  01 00 00    	ld	bc,_scr_map
1315  0262  2A 00 00    	ld	hl,(_index1)
1316  0265  09          	add	hl,bc
1317  0266  46          	ld	b, (hl)
1318  0267  3A 00 00    	ld	a,(_s_col1)
1319  026A  F5          	push	af
1320  026B  33          	inc	sp
1321  026C  3A 00 00    	ld	a,(_s_lin1)
1322  026F  48          	ld	c,b
1323  0270  47          	ld	b,a
1324  0271  C5          	push	bc
1325  0272  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1326  0275  C3 03 03    	jp	l_game_draw_screen_00118
1327  0278              l_game_draw_screen_00117:
1328  0278  D6 78       	sub	a,0x78
1329  027A  30 39       	jr	NC,l_game_draw_screen_00114
1330  027C  21 00 00    	ld	hl,_spr_count
1331  027F  7E          	ld	a, (hl)
1332  0280  D6 08       	sub	a,0x08
1333  0282  30 76       	jr	NC,l_game_draw_screen_00115
1334  0284  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1335  0286  86          	add	a, (hl)
1336  0287  4F          	ld	c, a
1337  0288  3E 00       	ld	a, +((_game_respawn_index) / 256)
1338  028A  CE 00       	adc	a,0x00
1339  028C  47          	ld	b, a
1340  028D  3A 00 00    	ld	a,(_index1)
1341  0290  02          	ld	(bc), a
1342  0291  2A 00 00    	ld	hl,(_spr_count)
1343  0294  26 00       	ld	h,0x00
1344  0296  01 00 00    	ld	bc,_game_respawn_tile
1345  0299  09          	add	hl,bc
1346  029A  4D          	ld	c,l
1347  029B  44          	ld	b,h
1348  029C  2A 00 00    	ld	hl,(_index1)
1349  029F  11 00 00    	ld	de,_scr_map
1350  02A2  19          	add	hl,de
1351  02A3  7E          	ld	a,(hl)
1352  02A4  02          	ld	(bc),a
1353  02A5  01 00 00    	ld	bc,_scr_map
1354  02A8  2A 00 00    	ld	hl,(_index1)
1355  02AB  09          	add	hl,bc
1356  02AC  7E          	ld	a,(hl)
1357  02AD  F5          	push	af
1358  02AE  33          	inc	sp
1359  02AF  CD 19 03    	call	_game_add_enemy
1360  02B2  33          	inc	sp
1361  02B3  18 45       	jr	l_game_draw_screen_00115
1362  02B5              l_game_draw_screen_00114:
1363  02B5  2A 00 00    	ld	hl,(_index1)
1364  02B8  E5          	push	hl
1365  02B9  CD 85 0C    	call	_game_obj_chk
1366  02BC  F1          	pop	af
1367  02BD  7D          	ld	a, l
1368  02BE  B7          	or	a, a
1369  02BF  20 2B       	jr	NZ,l_game_draw_screen_00112
1370  02C1  3E 00       	ld	a, +((_mush_index) & 0xFF)
1371  02C3  DD 86 FF    	add	a,(ix-1)
1372  02C6  4F          	ld	c, a
1373  02C7  3E 00       	ld	a, +((_mush_index) / 256)
1374  02C9  CE 00       	adc	a,0x00
1375  02CB  47          	ld	b, a
1376  02CC  21 00 00    	ld	hl,_index1
1377  02CF  7E          	ld	a, (hl)
1378  02D0  C6 10       	add	a,0x10
1379  02D2  02          	ld	(bc), a
1380  02D3  3E 00       	ld	a, +((_mush_class) & 0xFF)
1381  02D5  DD 86 FF    	add	a,(ix-1)
1382  02D8  4F          	ld	c, a
1383  02D9  3E 00       	ld	a, +((_mush_class) / 256)
1384  02DB  CE 00       	adc	a,0x00
1385  02DD  47          	ld	b, a
1386  02DE  3E 00       	ld	a, +((_scr_map) & 0xFF)
1387  02E0  86          	add	a, (hl)
1388  02E1  5F          	ld	e, a
1389  02E2  3E 00       	ld	a, +((_scr_map) / 256)
1390  02E4  23          	inc	hl
1391  02E5  8E          	adc	a, (hl)
1392  02E6  57          	ld	d, a
1393  02E7  1A          	ld	a, (de)
1394  02E8  02          	ld	(bc), a
1395  02E9  DD 34 FF    	inc	(ix-1)
1396  02EC              l_game_draw_screen_00112:
1397  02EC  2A FF FF    	ld	hl,(_s_col1 - 1)
1398  02EF  3A 00 00    	ld	a,(_s_lin1)
1399  02F2  6F          	ld	l,a
1400  02F3  E5          	push	hl
1401  02F4  AF          	xor	a, a
1402  02F5  F5          	push	af
1403  02F6  33          	inc	sp
1404  02F7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1405  02FA              l_game_draw_screen_00115:
1406  02FA  01 00 00    	ld	bc,_scr_map
1407  02FD  2A 00 00    	ld	hl,(_index1)
1408  0300  09          	add	hl,bc
1409  0301  AF          	xor	a,a
1410  0302  77          	ld	(hl),a
1411  0303              l_game_draw_screen_00118:
1412  0303  21 00 00    	ld	hl,_s_col1
1413  0306  34          	inc	(hl)
1414  0307  34          	inc	(hl)
1415  0308  21 00 00    	ld	hl,_index1
1416  030B  34          	inc	(hl)
1417  030C  C2 17 02    	jp	NZ,l_game_draw_screen_00119
1418  030F  23          	inc	hl
1419  0310  34          	inc	(hl)
1420  0311  C3 17 02    	jp	l_game_draw_screen_00119
1421  0314              l_game_draw_screen_00121:
1422  0314  FB          	ei
1423  0315  33          	inc	sp
1424  0316  DD E1       	pop	ix
1425  0318  C9          	ret
1426  0319              	SECTION code_compiler
1427  0319              ;	---------------------------------
1428  0319              ; Function game_add_enemy
1429  0319              ; ---------------------------------
1430  0319              _game_add_enemy:
1431  0319  CD 00 00    	call	___sdcc_enter_ix
1432  031C  DD 7E 04    	ld	a,(ix+4)
1433  031F  D6 60       	sub	a,0x60
1434  0321  DA F5 04    	jp	C, l_game_add_enemy_00120
1435  0324  3E 71       	ld	a,0x71
1436  0326  DD 96 04    	sub	a,(ix+4)
1437  0329  DA F5 04    	jp	C, l_game_add_enemy_00120
1438  032C  DD 7E 04    	ld	a,(ix+4)
1439  032F  C6 A0       	add	a,0xa0
1440  0331  4F          	ld	c, a
1441  0332  06 00       	ld	b,0x00
1442  0334  21 3B 03    	ld	hl,l_game_add_enemy_00130
1443  0337  09          	add	hl, bc
1444  0338  09          	add	hl, bc
1445  0339  09          	add	hl, bc
1446  033A  E9          	jp	(hl)
1447  033B              l_game_add_enemy_00130:
1448  033B  C3 87 03    	jp	l_game_add_enemy_00102
1449  033E  C3 71 03    	jp	l_game_add_enemy_00101
1450  0341  C3 B3 03    	jp	l_game_add_enemy_00104
1451  0344  C3 9D 03    	jp	l_game_add_enemy_00103
1452  0347  C3 DF 03    	jp	l_game_add_enemy_00106
1453  034A  C3 C9 03    	jp	l_game_add_enemy_00105
1454  034D  C3 0B 04    	jp	l_game_add_enemy_00108
1455  0350  C3 F5 03    	jp	l_game_add_enemy_00107
1456  0353  C3 37 04    	jp	l_game_add_enemy_00110
1457  0356  C3 21 04    	jp	l_game_add_enemy_00109
1458  0359  C3 63 04    	jp	l_game_add_enemy_00112
1459  035C  C3 4D 04    	jp	l_game_add_enemy_00111
1460  035F  C3 79 04    	jp	l_game_add_enemy_00113
1461  0362  C3 8E 04    	jp	l_game_add_enemy_00114
1462  0365  C3 A3 04    	jp	l_game_add_enemy_00115
1463  0368  C3 B8 04    	jp	l_game_add_enemy_00116
1464  036B  C3 CD 04    	jp	l_game_add_enemy_00117
1465  036E  C3 E2 04    	jp	l_game_add_enemy_00118
1466  0371              l_game_add_enemy_00101:
1467  0371  3A 00 00    	ld	a,(_s_col1)
1468  0374  21 0B 01    	ld	hl,0x010b
1469  0377  E5          	push	hl
1470  0378  F5          	push	af
1471  0379  33          	inc	sp
1472  037A  3A 00 00    	ld	a,(_s_lin1)
1473  037D  F5          	push	af
1474  037E  33          	inc	sp
1475  037F  CD 00 00    	call	_enemy_init
1476  0382  F1          	pop	af
1477  0383  F1          	pop	af
1478  0384  C3 F5 04    	jp	l_game_add_enemy_00120
1479  0387              l_game_add_enemy_00102:
1480  0387  3A 00 00    	ld	a,(_s_col1)
1481  038A  21 0B FF    	ld	hl,0xff0b
1482  038D  E5          	push	hl
1483  038E  F5          	push	af
1484  038F  33          	inc	sp
1485  0390  3A 00 00    	ld	a,(_s_lin1)
1486  0393  F5          	push	af
1487  0394  33          	inc	sp
1488  0395  CD 00 00    	call	_enemy_init
1489  0398  F1          	pop	af
1490  0399  F1          	pop	af
1491  039A  C3 F5 04    	jp	l_game_add_enemy_00120
1492  039D              l_game_add_enemy_00103:
1493  039D  3A 00 00    	ld	a,(_s_col1)
1494  03A0  21 0C 01    	ld	hl,0x010c
1495  03A3  E5          	push	hl
1496  03A4  F5          	push	af
1497  03A5  33          	inc	sp
1498  03A6  3A 00 00    	ld	a,(_s_lin1)
1499  03A9  F5          	push	af
1500  03AA  33          	inc	sp
1501  03AB  CD 00 00    	call	_enemy_init
1502  03AE  F1          	pop	af
1503  03AF  F1          	pop	af
1504  03B0  C3 F5 04    	jp	l_game_add_enemy_00120
1505  03B3              l_game_add_enemy_00104:
1506  03B3  3A 00 00    	ld	a,(_s_col1)
1507  03B6  21 0C FF    	ld	hl,0xff0c
1508  03B9  E5          	push	hl
1509  03BA  F5          	push	af
1510  03BB  33          	inc	sp
1511  03BC  3A 00 00    	ld	a,(_s_lin1)
1512  03BF  F5          	push	af
1513  03C0  33          	inc	sp
1514  03C1  CD 00 00    	call	_enemy_init
1515  03C4  F1          	pop	af
1516  03C5  F1          	pop	af
1517  03C6  C3 F5 04    	jp	l_game_add_enemy_00120
1518  03C9              l_game_add_enemy_00105:
1519  03C9  3A 00 00    	ld	a,(_s_col1)
1520  03CC  21 0D 01    	ld	hl,0x010d
1521  03CF  E5          	push	hl
1522  03D0  F5          	push	af
1523  03D1  33          	inc	sp
1524  03D2  3A 00 00    	ld	a,(_s_lin1)
1525  03D5  F5          	push	af
1526  03D6  33          	inc	sp
1527  03D7  CD 00 00    	call	_enemy_init
1528  03DA  F1          	pop	af
1529  03DB  F1          	pop	af
1530  03DC  C3 F5 04    	jp	l_game_add_enemy_00120
1531  03DF              l_game_add_enemy_00106:
1532  03DF  3A 00 00    	ld	a,(_s_col1)
1533  03E2  21 0D FF    	ld	hl,0xff0d
1534  03E5  E5          	push	hl
1535  03E6  F5          	push	af
1536  03E7  33          	inc	sp
1537  03E8  3A 00 00    	ld	a,(_s_lin1)
1538  03EB  F5          	push	af
1539  03EC  33          	inc	sp
1540  03ED  CD 00 00    	call	_enemy_init
1541  03F0  F1          	pop	af
1542  03F1  F1          	pop	af
1543  03F2  C3 F5 04    	jp	l_game_add_enemy_00120
1544  03F5              l_game_add_enemy_00107:
1545  03F5  3A 00 00    	ld	a,(_s_col1)
1546  03F8  21 0E 01    	ld	hl,0x010e
1547  03FB  E5          	push	hl
1548  03FC  F5          	push	af
1549  03FD  33          	inc	sp
1550  03FE  3A 00 00    	ld	a,(_s_lin1)
1551  0401  F5          	push	af
1552  0402  33          	inc	sp
1553  0403  CD 00 00    	call	_enemy_init
1554  0406  F1          	pop	af
1555  0407  F1          	pop	af
1556  0408  C3 F5 04    	jp	l_game_add_enemy_00120
1557  040B              l_game_add_enemy_00108:
1558  040B  3A 00 00    	ld	a,(_s_col1)
1559  040E  21 0E FF    	ld	hl,0xff0e
1560  0411  E5          	push	hl
1561  0412  F5          	push	af
1562  0413  33          	inc	sp
1563  0414  3A 00 00    	ld	a,(_s_lin1)
1564  0417  F5          	push	af
1565  0418  33          	inc	sp
1566  0419  CD 00 00    	call	_enemy_init
1567  041C  F1          	pop	af
1568  041D  F1          	pop	af
1569  041E  C3 F5 04    	jp	l_game_add_enemy_00120
1570  0421              l_game_add_enemy_00109:
1571  0421  3A 00 00    	ld	a,(_s_col1)
1572  0424  21 0F 01    	ld	hl,0x010f
1573  0427  E5          	push	hl
1574  0428  F5          	push	af
1575  0429  33          	inc	sp
1576  042A  3A 00 00    	ld	a,(_s_lin1)
1577  042D  F5          	push	af
1578  042E  33          	inc	sp
1579  042F  CD 00 00    	call	_enemy_init
1580  0432  F1          	pop	af
1581  0433  F1          	pop	af
1582  0434  C3 F5 04    	jp	l_game_add_enemy_00120
1583  0437              l_game_add_enemy_00110:
1584  0437  3A 00 00    	ld	a,(_s_col1)
1585  043A  21 0F FF    	ld	hl,0xff0f
1586  043D  E5          	push	hl
1587  043E  F5          	push	af
1588  043F  33          	inc	sp
1589  0440  3A 00 00    	ld	a,(_s_lin1)
1590  0443  F5          	push	af
1591  0444  33          	inc	sp
1592  0445  CD 00 00    	call	_enemy_init
1593  0448  F1          	pop	af
1594  0449  F1          	pop	af
1595  044A  C3 F5 04    	jp	l_game_add_enemy_00120
1596  044D              l_game_add_enemy_00111:
1597  044D  3A 00 00    	ld	a,(_s_col1)
1598  0450  21 02 01    	ld	hl,0x0102
1599  0453  E5          	push	hl
1600  0454  F5          	push	af
1601  0455  33          	inc	sp
1602  0456  3A 00 00    	ld	a,(_s_lin1)
1603  0459  F5          	push	af
1604  045A  33          	inc	sp
1605  045B  CD 00 00    	call	_enemy_init
1606  045E  F1          	pop	af
1607  045F  F1          	pop	af
1608  0460  C3 F5 04    	jp	l_game_add_enemy_00120
1609  0463              l_game_add_enemy_00112:
1610  0463  3A 00 00    	ld	a,(_s_col1)
1611  0466  21 02 FF    	ld	hl,0xff02
1612  0469  E5          	push	hl
1613  046A  F5          	push	af
1614  046B  33          	inc	sp
1615  046C  3A 00 00    	ld	a,(_s_lin1)
1616  046F  F5          	push	af
1617  0470  33          	inc	sp
1618  0471  CD 00 00    	call	_enemy_init
1619  0474  F1          	pop	af
1620  0475  F1          	pop	af
1621  0476  C3 F5 04    	jp	l_game_add_enemy_00120
1622  0479              l_game_add_enemy_00113:
1623  0479  3A 00 00    	ld	a,(_s_col1)
1624  047C  21 03 01    	ld	hl,0x0103
1625  047F  E5          	push	hl
1626  0480  F5          	push	af
1627  0481  33          	inc	sp
1628  0482  3A 00 00    	ld	a,(_s_lin1)
1629  0485  F5          	push	af
1630  0486  33          	inc	sp
1631  0487  CD 00 00    	call	_enemy_init
1632  048A  F1          	pop	af
1633  048B  F1          	pop	af
1634  048C  18 67       	jr	l_game_add_enemy_00120
1635  048E              l_game_add_enemy_00114:
1636  048E  3A 00 00    	ld	a,(_s_col1)
1637  0491  21 04 01    	ld	hl,0x0104
1638  0494  E5          	push	hl
1639  0495  F5          	push	af
1640  0496  33          	inc	sp
1641  0497  3A 00 00    	ld	a,(_s_lin1)
1642  049A  F5          	push	af
1643  049B  33          	inc	sp
1644  049C  CD 00 00    	call	_enemy_init
1645  049F  F1          	pop	af
1646  04A0  F1          	pop	af
1647  04A1  18 52       	jr	l_game_add_enemy_00120
1648  04A3              l_game_add_enemy_00115:
1649  04A3  3A 00 00    	ld	a,(_s_col1)
1650  04A6  21 05 01    	ld	hl,0x0105
1651  04A9  E5          	push	hl
1652  04AA  F5          	push	af
1653  04AB  33          	inc	sp
1654  04AC  3A 00 00    	ld	a,(_s_lin1)
1655  04AF  F5          	push	af
1656  04B0  33          	inc	sp
1657  04B1  CD 00 00    	call	_enemy_init
1658  04B4  F1          	pop	af
1659  04B5  F1          	pop	af
1660  04B6  18 3D       	jr	l_game_add_enemy_00120
1661  04B8              l_game_add_enemy_00116:
1662  04B8  3A 00 00    	ld	a,(_s_col1)
1663  04BB  21 10 01    	ld	hl,0x0110
1664  04BE  E5          	push	hl
1665  04BF  F5          	push	af
1666  04C0  33          	inc	sp
1667  04C1  3A 00 00    	ld	a,(_s_lin1)
1668  04C4  F5          	push	af
1669  04C5  33          	inc	sp
1670  04C6  CD 00 00    	call	_enemy_init
1671  04C9  F1          	pop	af
1672  04CA  F1          	pop	af
1673  04CB  18 28       	jr	l_game_add_enemy_00120
1674  04CD              l_game_add_enemy_00117:
1675  04CD  3A 00 00    	ld	a,(_s_col1)
1676  04D0  21 12 01    	ld	hl,0x0112
1677  04D3  E5          	push	hl
1678  04D4  F5          	push	af
1679  04D5  33          	inc	sp
1680  04D6  3A 00 00    	ld	a,(_s_lin1)
1681  04D9  F5          	push	af
1682  04DA  33          	inc	sp
1683  04DB  CD 00 00    	call	_enemy_init
1684  04DE  F1          	pop	af
1685  04DF  F1          	pop	af
1686  04E0  18 13       	jr	l_game_add_enemy_00120
1687  04E2              l_game_add_enemy_00118:
1688  04E2  3A 00 00    	ld	a,(_s_col1)
1689  04E5  21 13 01    	ld	hl,0x0113
1690  04E8  E5          	push	hl
1691  04E9  F5          	push	af
1692  04EA  33          	inc	sp
1693  04EB  3A 00 00    	ld	a,(_s_lin1)
1694  04EE  F5          	push	af
1695  04EF  33          	inc	sp
1696  04F0  CD 00 00    	call	_enemy_init
1697  04F3  F1          	pop	af
1698  04F4  F1          	pop	af
1699  04F5              l_game_add_enemy_00120:
1700  04F5  DD E1       	pop	ix
1701  04F7  C9          	ret
1702  04F8              	SECTION code_compiler
1703  04F8              ;	---------------------------------
1704  04F8              ; Function game_print_footer
1705  04F8              ; ---------------------------------
1706  04F8              _game_print_footer:
1707  04F8  21 00 00    	ld	hl,_screen_ink
1708  04FB  36 05       	ld	(hl),0x05
1709  04FD  21 13 62    	ld	hl,0x6213
1710  0500  E5          	push	hl
1711  0501  CD 00 00    	call	_game_fill_row
1712  0504  21 1C 00    	ld	hl,___str_2
1713  0507  E5          	push	hl
1714  0508  21 13 00    	ld	hl,0x0013
1715  050B  E5          	push	hl
1716  050C  CD 00 00    	call	_zx_print_str
1717  050F  21 1E 00    	ld	hl,___str_3
1718  0512  E5          	push	hl
1719  0513  21 13 1F    	ld	hl,0x1f13
1720  0516  E5          	push	hl
1721  0517  CD 00 00    	call	_zx_print_str
1722  051A  21 20 00    	ld	hl,___str_4
1723  051D  E5          	push	hl
1724  051E  21 14 00    	ld	hl,0x0014
1725  0521  E5          	push	hl
1726  0522  CD 00 00    	call	_zx_print_str
1727  0525  21 22 00    	ld	hl,___str_5
1728  0528  E5          	push	hl
1729  0529  21 14 1F    	ld	hl,0x1f14
1730  052C  E5          	push	hl
1731  052D  CD 00 00    	call	_zx_print_str
1732  0530  21 20 00    	ld	hl,___str_4
1733  0533  E5          	push	hl
1734  0534  21 15 00    	ld	hl,0x0015
1735  0537  E5          	push	hl
1736  0538  CD 00 00    	call	_zx_print_str
1737  053B  21 22 00    	ld	hl,___str_5
1738  053E  E5          	push	hl
1739  053F  21 15 1F    	ld	hl,0x1f15
1740  0542  E5          	push	hl
1741  0543  CD 00 00    	call	_zx_print_str
1742  0546  21 20 00    	ld	hl,___str_4
1743  0549  E5          	push	hl
1744  054A  21 16 00    	ld	hl,0x0016
1745  054D  E5          	push	hl
1746  054E  CD 00 00    	call	_zx_print_str
1747  0551  21 22 00    	ld	hl,___str_5
1748  0554  E5          	push	hl
1749  0555  21 16 1F    	ld	hl,0x1f16
1750  0558  E5          	push	hl
1751  0559  CD 00 00    	call	_zx_print_str
1752  055C  21 17 62    	ld	hl,0x6217
1753  055F  E5          	push	hl
1754  0560  CD 00 00    	call	_game_fill_row
1755  0563  21 24 00    	ld	hl,___str_6
1756  0566  E5          	push	hl
1757  0567  21 17 00    	ld	hl,0x0017
1758  056A  E5          	push	hl
1759  056B  CD 00 00    	call	_zx_print_str
1760  056E  21 26 00    	ld	hl,___str_7
1761  0571  E5          	push	hl
1762  0572  21 17 1F    	ld	hl,0x1f17
1763  0575  E5          	push	hl
1764  0576  CD 00 00    	call	_zx_print_str
1765  0579  21 00 00    	ld	hl,_screen_ink
1766  057C  36 05       	ld	(hl),0x05
1767  057E  21 28 00    	ld	hl,___str_8
1768  0581  E5          	push	hl
1769  0582  21 14 01    	ld	hl,0x0114
1770  0585  E5          	push	hl
1771  0586  CD 00 00    	call	_zx_print_str
1772  0589  21 00 00    	ld	hl,_screen_ink
1773  058C  36 06       	ld	(hl),0x06
1774  058E  21 2A 00    	ld	hl,___str_9
1775  0591  E5          	push	hl
1776  0592  21 15 01    	ld	hl,0x0115
1777  0595  E5          	push	hl
1778  0596  CD 00 00    	call	_zx_print_str
1779  0599  21 2C 00    	ld	hl,___str_10
1780  059C  E5          	push	hl
1781  059D  21 17 14    	ld	hl,0x1417
1782  05A0  E5          	push	hl
1783  05A1  CD 00 00    	call	_zx_print_str
1784  05A4  21 00 00    	ld	hl,_screen_ink
1785  05A7  36 02       	ld	(hl),0x02
1786  05A9  21 31 00    	ld	hl,___str_11
1787  05AC  E5          	push	hl
1788  05AD  21 14 07    	ld	hl,0x0714
1789  05B0  E5          	push	hl
1790  05B1  CD 00 00    	call	_zx_print_str
1791  05B4  21 00 00    	ld	hl,_screen_ink
1792  05B7  36 01       	ld	(hl),0x01
1793  05B9  21 33 00    	ld	hl,___str_12
1794  05BC  E5          	push	hl
1795  05BD  21 14 0D    	ld	hl,0x0d14
1796  05C0  E5          	push	hl
1797  05C1  CD 00 00    	call	_zx_print_str
1798  05C4  21 35 00    	ld	hl,___str_13
1799  05C7  E5          	push	hl
1800  05C8  21 16 03    	ld	hl,0x0316
1801  05CB  E5          	push	hl
1802  05CC  CD 00 00    	call	_zx_print_str
1803  05CF  21 00 00    	ld	hl,_screen_ink
1804  05D2  36 06       	ld	(hl),0x06
1805  05D4  21 38 00    	ld	hl,___str_14
1806  05D7  E5          	push	hl
1807  05D8  21 16 0E    	ld	hl,0x0e16
1808  05DB  E5          	push	hl
1809  05DC  CD 00 00    	call	_zx_print_str
1810  05DF  21 3A 00    	ld	hl,___str_15
1811  05E2  E5          	push	hl
1812  05E3  21 16 14    	ld	hl,0x1416
1813  05E6  E5          	push	hl
1814  05E7  CD 00 00    	call	_zx_print_str
1815  05EA  21 3C 00    	ld	hl,___str_16
1816  05ED  E5          	push	hl
1817  05EE  21 16 1A    	ld	hl,0x1a16
1818  05F1  E5          	push	hl
1819  05F2  CD 00 00    	call	_zx_print_str
1820  05F5  CD 0A 06    	call	_game_update_stats
1821  05F8  C9          	ret
1822  05F9              	SECTION rodata_compiler
1823  001C              ___str_2:
1824  001C  61          	DEFM "a"
1825  001D  00          	DEFB 0x00
1826  001E              	SECTION rodata_compiler
1827  001E              ___str_3:
1828  001E  63          	DEFM "c"
1829  001F  00          	DEFB 0x00
1830  0020              	SECTION rodata_compiler
1831  0020              ___str_4:
1832  0020  64          	DEFM "d"
1833  0021  00          	DEFB 0x00
1834  0022              	SECTION rodata_compiler
1835  0022              ___str_5:
1836  0022  65          	DEFM "e"
1837  0023  00          	DEFB 0x00
1838  0024              	SECTION rodata_compiler
1839  0024              ___str_6:
1840  0024  66          	DEFM "f"
1841  0025  00          	DEFB 0x00
1842  0026              	SECTION rodata_compiler
1843  0026              ___str_7:
1844  0026  67          	DEFM "g"
1845  0027  00          	DEFB 0x00
1846  0028              	SECTION rodata_compiler
1847  0028              ___str_8:
1848  0028  3C          	DEFM "<"
1849  0029  00          	DEFB 0x00
1850  002A              	SECTION rodata_compiler
1851  002A              ___str_9:
1852  002A  5C          	DEFB 0x5c
1853  002B  00          	DEFB 0x00
1854  002C              	SECTION rodata_compiler
1855  002C              ___str_10:
1856  002C  4C 50 53 3A 	DEFM "LPS:"
1857  0030  00          	DEFB 0x00
1858  0031              	SECTION rodata_compiler
1859  0031              ___str_11:
1860  0031  6A          	DEFM "j"
1861  0032  00          	DEFB 0x00
1862  0033              	SECTION rodata_compiler
1863  0033              ___str_12:
1864  0033  6B          	DEFM "k"
1865  0034  00          	DEFB 0x00
1866  0035              	SECTION rodata_compiler
1867  0035              ___str_13:
1868  0035  58 50       	DEFM "XP"
1869  0037  00          	DEFB 0x00
1870  0038              	SECTION rodata_compiler
1871  0038              ___str_14:
1872  0038  6D          	DEFM "m"
1873  0039  00          	DEFB 0x00
1874  003A              	SECTION rodata_compiler
1875  003A              ___str_15:
1876  003A  6E          	DEFM "n"
1877  003B  00          	DEFB 0x00
1878  003C              	SECTION rodata_compiler
1879  003C              ___str_16:
1880  003C  6F          	DEFM "o"
1881  003D  00          	DEFB 0x00
1882  003E              	SECTION code_compiler
1883  05F9              ;	---------------------------------
1884  05F9              ; Function game_phase_print_score_back
1885  05F9              ; ---------------------------------
1886  05F9              _game_phase_print_score_back:
1887  05F9  21 00 00    	ld	hl,_screen_ink
1888  05FC  36 02       	ld	(hl),0x02
1889  05FE  21 3E 00    	ld	hl,___str_17
1890  0601  E5          	push	hl
1891  0602  21 00 0B    	ld	hl,0x0b00
1892  0605  E5          	push	hl
1893  0606  CD 00 00    	call	_zx_print_str
1894  0609  C9          	ret
1895  060A              	SECTION rodata_compiler
1896  003E              ___str_17:
1897  003E  24 25 7C    	DEFM "$%|"
1898  0041  00          	DEFB 0x00
1899  0042              	SECTION code_compiler
1900  060A              ;	---------------------------------
1901  060A              ; Function game_update_stats
1902  060A              ; ---------------------------------
1903  060A              _game_update_stats:
1904  060A  21 00 00    	ld	hl,_screen_ink
1905  060D  36 07       	ld	(hl),0x07
1906  060F  3A 00 00    	ld	a,(_player_lives)
1907  0612  F5          	push	af
1908  0613  33          	inc	sp
1909  0614  21 14 03    	ld	hl,0x0314
1910  0617  E5          	push	hl
1911  0618  CD 00 00    	call	_zx_print_chr
1912  061B  3A 00 00    	ld	a,(_player_str)
1913  061E  F5          	push	af
1914  061F  33          	inc	sp
1915  0620  21 16 10    	ld	hl,0x1016
1916  0623  E5          	push	hl
1917  0624  CD 00 00    	call	_zx_print_chr
1918  0627  3A 00 00    	ld	a,(_player_int)
1919  062A  F5          	push	af
1920  062B  33          	inc	sp
1921  062C  21 16 16    	ld	hl,0x1616
1922  062F  E5          	push	hl
1923  0630  CD 00 00    	call	_zx_print_chr
1924  0633  3A 00 00    	ld	a,(_player_lvl)
1925  0636  F5          	push	af
1926  0637  33          	inc	sp
1927  0638  21 16 1C    	ld	hl,0x1c16
1928  063B  E5          	push	hl
1929  063C  CD 00 00    	call	_zx_print_chr
1930  063F  21 00 00    	ld	hl,_screen_ink
1931  0642  36 02       	ld	(hl),0x02
1932  0644  3A 00 00    	ld	a,(_player_vita)
1933  0647  F5          	push	af
1934  0648  33          	inc	sp
1935  0649  21 14 09    	ld	hl,0x0914
1936  064C  E5          	push	hl
1937  064D  CD 00 00    	call	_zx_print_chr
1938  0650  21 00 00    	ld	hl,_screen_ink
1939  0653  36 01       	ld	(hl),0x01
1940  0655  3A 00 00    	ld	a,(_player_mana)
1941  0658  F5          	push	af
1942  0659  33          	inc	sp
1943  065A  21 14 0F    	ld	hl,0x0f14
1944  065D  E5          	push	hl
1945  065E  CD 00 00    	call	_zx_print_chr
1946  0661  C9          	ret
1947  0662              	SECTION code_compiler
1948  0662              ;	---------------------------------
1949  0662              ; Function game_tick
1950  0662              ; ---------------------------------
1951  0662              _game_tick:
1952  0662  21 00 00    	ld	hl,_curr_time
1953  0665  34          	inc	(hl)
1954  0666  C2 00 00    	jp	NZ,_zx_isr
1955  0669  23          	inc	hl
1956  066A  34          	inc	(hl)
1957  066B  C3 00 00    	jp  _zx_isr
1958  066E              	SECTION code_compiler
1959  066E              ;	---------------------------------
1960  066E              ; Function game_start_timer
1961  066E              ; ---------------------------------
1962  066E              _game_start_timer:
1963  066E  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1964  0671  36 CD       	ld	(hl),0xcd
1965  0673  23          	inc	hl
1966  0674  11 62 06    	ld	de,_game_tick
1967  0677  73          	ld	(hl), e
1968  0678  23          	inc	hl
1969  0679  72          	ld	(hl), d
1970  067A  C9          	ret
1971  067B              	SECTION code_compiler
1972  067B              ;	---------------------------------
1973  067B              ; Function game_round_init
1974  067B              ; ---------------------------------
1975  067B              _game_round_init:
1976  067B  21 00 00    	ld	hl,_ay_effect_10
1977  067E  CD 00 00    	call	_ay_fx_play
1978  0681  CD 00 00    	call	_sound_coin
1979  0684  21 C8 00    	ld	hl,0x00c8
1980  0687  CD 00 00    	call	_z80_delay_ms_fastcall
1981  068A  CD 00 00    	call	_ay_reset
1982  068D  21 00 00    	ld	hl,0x0000
1983  0690  22 00 00    	ld	(_loop_count),hl
1984  0693  22 00 00    	ld	(_entry_time),hl
1985  0696  21 00 00    	ld	hl,0
1986  0699  22 00 00    	ld	(_curr_time),hl
1987  069C  21 00 00    	ld	hl,0x0000
1988  069F  22 00 00    	ld	(_frame_time),hl
1989  06A2  CD 00 00    	call	_ay_reset
1990  06A5  CD 00 00    	call	_spr_draw_clear
1991  06A8  CD 00 00    	call	_spr_page_map
1992  06AB  CD AC 01    	call	_game_draw_screen
1993  06AE  CD C7 06    	call	_game_print_header
1994  06B1  CD F8 04    	call	_game_print_footer
1995  06B4  3A 00 00    	ld	a,(_game_over)
1996  06B7  B7          	or	a, a
1997  06B8  C0          	ret	NZ
1998  06B9  21 02 70    	ld	hl,0x7002
1999  06BC  E5          	push	hl
2000  06BD  21 07 80    	ld	hl,0x8007
2001  06C0  E5          	push	hl
2002  06C1  CD 00 00    	call	_player_init
2003  06C4  F1          	pop	af
2004  06C5  F1          	pop	af
2005  06C6  C9          	ret
2006  06C7              	SECTION code_compiler
2007  06C7              ;	---------------------------------
2008  06C7              ; Function game_print_header
2009  06C7              ; ---------------------------------
2010  06C7              _game_print_header:
2011  06C7  CD F9 05    	call	_game_phase_print_score_back
2012  06CA  21 00 00    	ld	hl,_screen_ink
2013  06CD  36 07       	ld	(hl),0x07
2014  06CF  C3 36 08    	jp  _game_print_score
2015  06D2              	SECTION code_compiler
2016  06D2              ;	---------------------------------
2017  06D2              ; Function game_print_phase
2018  06D2              ; ---------------------------------
2019  06D2              _game_print_phase:
2020  06D2  21 42 00    	ld	hl,___str_18
2021  06D5  E5          	push	hl
2022  06D6  21 17 0B    	ld	hl,0x0b17
2023  06D9  E5          	push	hl
2024  06DA  CD 00 00    	call	_zx_print_str
2025  06DD  21 00 00    	ld	hl,_phase_curr
2026  06E0  46          	ld	b, (hl)
2027  06E1  04          	inc	b
2028  06E2  C5          	push	bc
2029  06E3  33          	inc	sp
2030  06E4  21 17 12    	ld	hl,0x1217
2031  06E7  E5          	push	hl
2032  06E8  CD 00 00    	call	_zx_print_chr
2033  06EB  C9          	ret
2034  06EC              	SECTION rodata_compiler
2035  0042              ___str_18:
2036  0042  50 48 41 53 45 
                        	DEFM "PHASE"
2037  0047  00          	DEFB 0x00
2038  0048              	SECTION code_compiler
2039  06EC              ;	---------------------------------
2040  06EC              ; Function game_check_map
2041  06EC              ; ---------------------------------
2042  06EC              _game_check_map:
2043  06EC  CD 00 00    	call	___sdcc_enter_ix
2044  06EF  DD CB 05 46 	bit	0,(ix+5)
2045  06F3  20 15       	jr	NZ,l_game_check_map_00106
2046  06F5  DD 66 05    	ld	h,(ix+5)
2047  06F8  DD 6E 04    	ld	l,(ix+4)
2048  06FB  E5          	push	hl
2049  06FC  CD 00 00    	call	_spr_calc_index
2050  06FF  F1          	pop	af
2051  0700  22 00 00    	ld	(_index1),hl
2052  0703  CD 55 07    	call	_game_check_cell
2053  0706  26 00       	ld	h,0x00
2054  0708  18 48       	jr	l_game_check_map_00108
2055  070A              l_game_check_map_00106:
2056  070A  21 00 00    	ld	hl,_g_player_hit_left
2057  070D  36 00       	ld	(hl),0x00
2058  070F  21 00 00    	ld	hl,_g_player_hit_right
2059  0712  36 00       	ld	(hl),0x00
2060  0714  DD 46 05    	ld	b,(ix+5)
2061  0717  05          	dec	b
2062  0718  DD 4E 04    	ld	c,(ix+4)
2063  071B  C5          	push	bc
2064  071C  CD 00 00    	call	_spr_calc_index
2065  071F  F1          	pop	af
2066  0720  22 00 00    	ld	(_index1),hl
2067  0723  CD 55 07    	call	_game_check_cell
2068  0726  7D          	ld	a, l
2069  0727  B7          	or	a, a
2070  0728  28 05       	jr	Z,l_game_check_map_00102
2071  072A  21 00 00    	ld	hl,_g_player_hit_left
2072  072D  36 01       	ld	(hl),0x01
2073  072F              l_game_check_map_00102:
2074  072F  2A 00 00    	ld	hl,(_index1)
2075  0732  23          	inc	hl
2076  0733  CD 55 07    	call	_game_check_cell
2077  0736  7D          	ld	a, l
2078  0737  B7          	or	a, a
2079  0738  28 05       	jr	Z,l_game_check_map_00104
2080  073A  21 00 00    	ld	hl,_g_player_hit_right
2081  073D  36 01       	ld	(hl),0x01
2082  073F              l_game_check_map_00104:
2083  073F  3A 00 00    	ld	a,(_g_player_hit_left)
2084  0742  B7          	or	a, a
2085  0743  20 09       	jr	NZ,l_game_check_map_00111
2086  0745  3A 00 00    	ld	a,(_g_player_hit_right)
2087  0748  B7          	or	a,a
2088  0749  20 03       	jr	NZ,l_game_check_map_00111
2089  074B  6F          	ld	l,a
2090  074C  18 02       	jr	l_game_check_map_00112
2091  074E              l_game_check_map_00111:
2092  074E  2E 01       	ld	l,0x01
2093  0750              l_game_check_map_00112:
2094  0750  26 00       	ld	h,0x00
2095  0752              l_game_check_map_00108:
2096  0752  DD E1       	pop	ix
2097  0754  C9          	ret
2098  0755              	SECTION code_compiler
2099  0755              ;	---------------------------------
2100  0755              ; Function game_check_cell
2101  0755              ; ---------------------------------
2102  0755              _game_check_cell:
2103  0755  CD 00 00    	call	___sdcc_enter_ix
2104  0758  3B          	dec	sp
2105  0759  3E A0       	ld	a,0xa0
2106  075B  BD          	cp	a,l
2107  075C  3E 00       	ld	a,0x00
2108  075E  9C          	sbc	a,h
2109  075F  4D          	ld	c,l
2110  0760  44          	ld	b,h
2111  0761  E2 66 07    	jp	PO, l_game_check_cell_00193
2112  0764  EE 80       	xor	a,0x80
2113  0766              l_game_check_cell_00193:
2114  0766  F2 6E 07    	jp	P, l_game_check_cell_00102
2115  0769  2E 01       	ld	l,0x01
2116  076B  C3 0E 08    	jp	l_game_check_cell_00135
2117  076E              l_game_check_cell_00102:
2118  076E  21 00 00    	ld	hl,_scr_map
2119  0771  09          	add	hl, bc
2120  0772  56          	ld	d, (hl)
2121  0773  3A 00 00    	ld	a,(_sprite)
2122  0776  D6 07       	sub	a,0x07
2123  0778  20 04       	jr	NZ,l_game_check_cell_00194
2124  077A  3E 01       	ld	a,0x01
2125  077C  18 01       	jr	l_game_check_cell_00195
2126  077E              l_game_check_cell_00194:
2127  077E  AF          	xor	a,a
2128  077F              l_game_check_cell_00195:
2129  077F  DD 77 FF    	ld	(ix-1),a
2130  0782  CB 47       	bit	0,a
2131  0784  20 2B       	jr	NZ,l_game_check_cell_00113
2132  0786  2A 00 00    	ld	hl,(_sprite)
2133  0789  26 00       	ld	h,0x00
2134  078B  01 00 00    	ld	bc,_class
2135  078E  09          	add	hl,bc
2136  078F  4E          	ld	c,(hl)
2137  0790  3E 05       	ld	a,0x05
2138  0792  91          	sub	a, c
2139  0793  38 0F       	jr	C,l_game_check_cell_00110
2140  0795  3E 2F       	ld	a,0x2f
2141  0797  92          	sub	a, d
2142  0798  38 05       	jr	C,l_game_check_cell_00104
2143  079A  2E 00       	ld	l,0x00
2144  079C  C3 0E 08    	jp	l_game_check_cell_00135
2145  079F              l_game_check_cell_00104:
2146  079F  2E 01       	ld	l,0x01
2147  07A1  C3 0E 08    	jp	l_game_check_cell_00135
2148  07A4              l_game_check_cell_00110:
2149  07A4  3E 24       	ld	a,0x24
2150  07A6  92          	sub	a, d
2151  07A7  38 04       	jr	C,l_game_check_cell_00107
2152  07A9  2E 00       	ld	l,0x00
2153  07AB  18 61       	jr	l_game_check_cell_00135
2154  07AD              l_game_check_cell_00107:
2155  07AD  2E 01       	ld	l,0x01
2156  07AF  18 5D       	jr	l_game_check_cell_00135
2157  07B1              l_game_check_cell_00113:
2158  07B1  7A          	ld	a, d
2159  07B2  D6 3C       	sub	a,0x3c
2160  07B4  30 04       	jr	NC,l_game_check_cell_00115
2161  07B6  2E 00       	ld	l,0x00
2162  07B8  18 54       	jr	l_game_check_cell_00135
2163  07BA              l_game_check_cell_00115:
2164  07BA  3A 00 00    	ld	a,(_s_state)
2165  07BD  E6 02       	and	a,0x02
2166  07BF  5F          	ld	e, a
2167  07C0  7A          	ld	a, d
2168  07C1  D6 44       	sub	a,0x44
2169  07C3  30 0C       	jr	NC,l_game_check_cell_00120
2170  07C5  7B          	ld	a, e
2171  07C6  B7          	or	a, a
2172  07C7  28 04       	jr	Z,l_game_check_cell_00117
2173  07C9  2E 01       	ld	l,0x01
2174  07CB  18 41       	jr	l_game_check_cell_00135
2175  07CD              l_game_check_cell_00117:
2176  07CD  2E 00       	ld	l,0x00
2177  07CF  18 3D       	jr	l_game_check_cell_00135
2178  07D1              l_game_check_cell_00120:
2179  07D1  7A          	ld	a, d
2180  07D2  D6 48       	sub	a,0x48
2181  07D4  30 16       	jr	NC,l_game_check_cell_00128
2182  07D6  3A 00 00    	ld	a,(_sprite_horizontal_check)
2183  07D9  B7          	or	a, a
2184  07DA  28 04       	jr	Z,l_game_check_cell_00125
2185  07DC  2E 00       	ld	l,0x00
2186  07DE  18 2E       	jr	l_game_check_cell_00135
2187  07E0              l_game_check_cell_00125:
2188  07E0  7B          	ld	a, e
2189  07E1  B7          	or	a, a
2190  07E2  28 04       	jr	Z,l_game_check_cell_00122
2191  07E4  2E 01       	ld	l,0x01
2192  07E6  18 26       	jr	l_game_check_cell_00135
2193  07E8              l_game_check_cell_00122:
2194  07E8  2E 00       	ld	l,0x00
2195  07EA  18 22       	jr	l_game_check_cell_00135
2196  07EC              l_game_check_cell_00128:
2197  07EC  7A          	ld	a, d
2198  07ED  D6 4C       	sub	a,0x4c
2199  07EF  30 12       	jr	NC,l_game_check_cell_00132
2200  07F1  DD CB FF 46 	bit	0,(ix-1)
2201  07F5  28 0C       	jr	Z,l_game_check_cell_00132
2202  07F7  D5          	push	de
2203  07F8  33          	inc	sp
2204  07F9  C5          	push	bc
2205  07FA  CD 00 00    	call	_player_open_door
2206  07FD  F1          	pop	af
2207  07FE  33          	inc	sp
2208  07FF  2E 01       	ld	l,0x01
2209  0801  18 0B       	jr	l_game_check_cell_00135
2210  0803              l_game_check_cell_00132:
2211  0803  7A          	ld	a, d
2212  0804  D6 60       	sub	a,0x60
2213  0806  30 04       	jr	NC,l_game_check_cell_00134
2214  0808  2E 01       	ld	l,0x01
2215  080A  18 02       	jr	l_game_check_cell_00135
2216  080C              l_game_check_cell_00134:
2217  080C  2E 00       	ld	l,0x00
2218  080E              l_game_check_cell_00135:
2219  080E  33          	inc	sp
2220  080F  DD E1       	pop	ix
2221  0811  C9          	ret
2222  0812              	SECTION code_compiler
2223  0812              ;	---------------------------------
2224  0812              ; Function game_enemy_add_get_index
2225  0812              ; ---------------------------------
2226  0812              _game_enemy_add_get_index:
2227  0812  4D          	ld	c, l
2228  0813  21 00 00    	ld	hl,_enemies
2229  0816  36 00       	ld	(hl),0x00
2230  0818              l_game_enemy_add_get_index_00104:
2231  0818  2A 00 00    	ld	hl,(_enemies)
2232  081B  26 00       	ld	h,0x00
2233  081D  11 00 00    	ld	de,_class
2234  0820  19          	add	hl,de
2235  0821  7E          	ld	a,(hl)
2236  0822  91          	sub	a,c
2237  0823  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2238  0825  2A 00 00    	ld	hl,(_enemies)
2239  0828  18 0B       	jr	l_game_enemy_add_get_index_00106
2240  082A              l_game_enemy_add_get_index_00105:
2241  082A  21 00 00    	ld	hl,_enemies
2242  082D  34          	inc	(hl)
2243  082E  3E 05       	ld	a,0x05
2244  0830  96          	sub	a, (hl)
2245  0831  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2246  0833  2E FF       	ld	l,0xff
2247  0835              l_game_enemy_add_get_index_00106:
2248  0835  C9          	ret
2249  0836              	SECTION code_compiler
2250  0836              ;	---------------------------------
2251  0836              ; Function game_print_score
2252  0836              ; ---------------------------------
2253  0836              _game_print_score:
2254  0836  21 00 00    	ld	hl,_screen_ink
2255  0839  36 07       	ld	(hl),0x07
2256  083B  21 00 00    	ld	hl,_screen_paper
2257  083E  36 00       	ld	(hl),0x00
2258  0840  2A 00 00    	ld	hl,(_player_score)
2259  0843  E5          	push	hl
2260  0844  21 16 06    	ld	hl,0x0616
2261  0847  E5          	push	hl
2262  0848  CD 00 00    	call	_zx_print_int
2263  084B  2A 00 00    	ld	hl,(_game_score_top)
2264  084E  E5          	push	hl
2265  084F  21 00 0E    	ld	hl,0x0e00
2266  0852  E5          	push	hl
2267  0853  CD 00 00    	call	_zx_print_int
2268  0856  C9          	ret
2269  0857              	SECTION code_compiler
2270  0857              ;	---------------------------------
2271  0857              ; Function game_paint_attrib
2272  0857              ; ---------------------------------
2273  0857              _game_paint_attrib:
2274  0857  7D          	ld	a,l
2275  0858  32 00 00    	ld	(_tmp0),a
2276  085B              l_game_paint_attrib_00103:
2277  085B  3E 13       	ld	a,0x13
2278  085D  21 00 00    	ld	hl,_tmp0
2279  0860  96          	sub	a, (hl)
2280  0861  D8          	ret	C
2281  0862  7E          	ld	a, (hl)
2282  0863  07          	rlca
2283  0864  07          	rlca
2284  0865  07          	rlca
2285  0866  E6 F8       	and	a,0xf8
2286  0868  C6 08       	add	a,0x08
2287  086A  F5          	push	af
2288  086B  33          	inc	sp
2289  086C  21 01 1F    	ld	hl,0x1f01
2290  086F  E5          	push	hl
2291  0870  CD 7B 08    	call	_game_paint_attrib_lin
2292  0873  F1          	pop	af
2293  0874  33          	inc	sp
2294  0875  21 00 00    	ld	hl,_tmp0
2295  0878  34          	inc	(hl)
2296  0879  18 E0       	jr	l_game_paint_attrib_00103
2297  087B              	SECTION code_compiler
2298  087B              ;	---------------------------------
2299  087B              ; Function game_paint_attrib_lin
2300  087B              ; ---------------------------------
2301  087B              _game_paint_attrib_lin:
2302  087B  CD 00 00    	call	___sdcc_enter_ix
2303  087E  DD 7E 04    	ld	a,(ix+4)
2304  0881  32 00 00    	ld	(_tmp_uc),a
2305  0884              l_game_paint_attrib_lin_00103:
2306  0884  21 00 00    	ld	hl,_tmp_uc
2307  0887  7E          	ld	a, (hl)
2308  0888  DD 96 05    	sub	a,(ix+5)
2309  088B  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2310  088D  66          	ld	h,(hl)
2311  088E  DD 6E 06    	ld	l,(ix+6)
2312  0891  E5          	push	hl
2313  0892  21 00 00    	ld	hl,_attrib
2314  0895  E5          	push	hl
2315  0896  CD 00 00    	call	_NIRVANAP_paintC_callee
2316  0899  21 00 00    	ld	hl,_tmp_uc
2317  089C  34          	inc	(hl)
2318  089D  18 E5       	jr	l_game_paint_attrib_lin_00103
2319  089F              l_game_paint_attrib_lin_00105:
2320  089F  DD E1       	pop	ix
2321  08A1  C9          	ret
2322  08A2              	SECTION code_compiler
2323  08A2              ;	---------------------------------
2324  08A2              ; Function game_paint_attrib_lin_h
2325  08A2              ; ---------------------------------
2326  08A2              _game_paint_attrib_lin_h:
2327  08A2  CD 00 00    	call	___sdcc_enter_ix
2328  08A5  DD 7E 04    	ld	a,(ix+4)
2329  08A8  32 00 00    	ld	(_tmp_uc),a
2330  08AB              l_game_paint_attrib_lin_h_00103:
2331  08AB  21 00 00    	ld	hl,_tmp_uc
2332  08AE  7E          	ld	a, (hl)
2333  08AF  DD 96 05    	sub	a,(ix+5)
2334  08B2  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2335  08B4  66          	ld	h,(hl)
2336  08B5  DD 6E 06    	ld	l,(ix+6)
2337  08B8  E5          	push	hl
2338  08B9  21 00 00    	ld	hl,_attrib_hl
2339  08BC  E5          	push	hl
2340  08BD  CD 00 00    	call	_NIRVANAP_paintC_callee
2341  08C0  21 00 00    	ld	hl,_tmp_uc
2342  08C3  34          	inc	(hl)
2343  08C4  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2344  08C6              l_game_paint_attrib_lin_h_00105:
2345  08C6  DD E1       	pop	ix
2346  08C8  C9          	ret
2347  08C9              	SECTION code_compiler
2348  08C9              ;	---------------------------------
2349  08C9              ; Function game_joystick_change
2350  08C9              ; ---------------------------------
2351  08C9              _game_joystick_change:
2352  08C9  21 00 00    	ld	hl,_player_joy
2353  08CC  34          	inc	(hl)
2354  08CD  20 02       	jr	NZ,l_game_joystick_change_00109
2355  08CF  23          	inc	hl
2356  08D0  34          	inc	(hl)
2357  08D1              l_game_joystick_change_00109:
2358  08D1  21 00 00    	ld	hl,_player_joy
2359  08D4  7E          	ld	a, (hl)
2360  08D5  D6 07       	sub	a,0x07
2361  08D7  23          	inc	hl
2362  08D8  B6          	or	a, (hl)
2363  08D9  C0          	ret	NZ
2364  08DA  21 00 00    	ld	hl,0x0000
2365  08DD  22 00 00    	ld	(_player_joy),hl
2366  08E0  C9          	ret
2367  08E1              	SECTION code_compiler
2368  08E1              ;	---------------------------------
2369  08E1              ; Function game_joystick_set_menu
2370  08E1              ; ---------------------------------
2371  08E1              _game_joystick_set_menu:
2372  08E1  21 00 00    	ld	hl,_in_stick_keyboard
2373  08E4  22 00 00    	ld	(_joyfunc1),hl
2374  08E7  C9          	ret
2375  08E8              	SECTION code_compiler
2376  08E8              ;	---------------------------------
2377  08E8              ; Function game_joystick_set
2378  08E8              ; ---------------------------------
2379  08E8              _game_joystick_set:
2380  08E8  2A 00 00    	ld	hl,(_player_joy)
2381  08EB  29          	add	hl,hl
2382  08EC  4D          	ld	c,l
2383  08ED  44          	ld	b,h
2384  08EE  21 00 00    	ld	hl,_control_method
2385  08F1  09          	add	hl,bc
2386  08F2  11 00 00    	ld	de,_joyfunc1
2387  08F5  ED A0       	ldi
2388  08F7  7E          	ld	a,(hl)
2389  08F8  12          	ld	(de),a
2390  08F9  C9          	ret
2391  08FA              	SECTION code_compiler
2392  08FA              ;	---------------------------------
2393  08FA              ; Function game_end
2394  08FA              ; ---------------------------------
2395  08FA              	defc _game_end	=	_spr_draw_clear
2396  08FA              	SECTION code_compiler
2397  08FA              ;	---------------------------------
2398  08FA              ; Function game_rotate_attrib
2399  08FA              ; ---------------------------------
2400  08FA              _game_rotate_attrib:
2401  08FA  01 03 00    	ld	bc,_attrib_hl + 3
2402  08FD  0A          	ld	a, (bc)
2403  08FE  32 00 00    	ld	(_tmp_uc),a
2404  0901  11 02 00    	ld	de,_attrib_hl + 2
2405  0904  1A          	ld	a, (de)
2406  0905  02          	ld	(bc), a
2407  0906  01 01 00    	ld	bc,_attrib_hl + 1
2408  0909  0A          	ld	a, (bc)
2409  090A  12          	ld	(de), a
2410  090B  3A 00 00    	ld	a,(_attrib_hl)
2411  090E  02          	ld	(bc), a
2412  090F  3A 00 00    	ld	a,(_tmp_uc)
2413  0912  32 00 00    	ld	(_attrib_hl),a
2414  0915  C9          	ret
2415  0916              	SECTION code_compiler
2416  0916              ;	---------------------------------
2417  0916              ; Function game_colour_message
2418  0916              ; ---------------------------------
2419  0916              _game_colour_message:
2420  0916  CD 00 00    	call	___sdcc_enter_ix
2421  0919  21 00 00    	ld	hl,_tmp
2422  091C  36 01       	ld	(hl),0x01
2423  091E  2A 00 00    	ld	hl,(_curr_time)
2424  0921  22 00 00    	ld	(_frame_time),hl
2425  0924  2A 00 00    	ld	hl,(_curr_time)
2426  0927  22 00 00    	ld	(_entry_time),hl
2427  092A  DD 7E 04    	ld	a,(ix+4)
2428  092D  07          	rlca
2429  092E  07          	rlca
2430  092F  07          	rlca
2431  0930  E6 F8       	and	a,0xf8
2432  0932  4F          	ld	c,a
2433  0933  C6 08       	add	a,0x08
2434  0935  47          	ld	b, a
2435  0936              l_game_colour_message_00109:
2436  0936  3A 00 00    	ld	a,(_tmp)
2437  0939  B7          	or	a, a
2438  093A  28 60       	jr	Z,l_game_colour_message_00111
2439  093C  C5          	push	bc
2440  093D  DD 6E 07    	ld	l,(ix+7)
2441  0940  DD 66 08    	ld	h,(ix+8)
2442  0943  E5          	push	hl
2443  0944  2A 00 00    	ld	hl,(_entry_time)
2444  0947  E5          	push	hl
2445  0948  CD 0A 0A    	call	_game_check_time
2446  094B  F1          	pop	af
2447  094C  F1          	pop	af
2448  094D  C1          	pop	bc
2449  094E  7D          	ld	a,l
2450  094F  B7          	or	a, a
2451  0950  20 4A       	jr	NZ,l_game_colour_message_00111
2452  0952  C5          	push	bc
2453  0953  21 05 00    	ld	hl,0x0005
2454  0956  E5          	push	hl
2455  0957  2A 00 00    	ld	hl,(_frame_time)
2456  095A  E5          	push	hl
2457  095B  CD 0A 0A    	call	_game_check_time
2458  095E  F1          	pop	af
2459  095F  F1          	pop	af
2460  0960  C1          	pop	bc
2461  0961  7D          	ld	a,l
2462  0962  B7          	or	a, a
2463  0963  28 19       	jr	Z,l_game_colour_message_00102
2464  0965  2A 00 00    	ld	hl,(_curr_time)
2465  0968  22 00 00    	ld	(_frame_time),hl
2466  096B  C5          	push	bc
2467  096C  C5          	push	bc
2468  096D  33          	inc	sp
2469  096E  DD 66 06    	ld	h,(ix+6)
2470  0971  DD 6E 05    	ld	l,(ix+5)
2471  0974  E5          	push	hl
2472  0975  CD A2 08    	call	_game_paint_attrib_lin_h
2473  0978  F1          	pop	af
2474  0979  33          	inc	sp
2475  097A  CD FA 08    	call	_game_rotate_attrib
2476  097D  C1          	pop	bc
2477  097E              l_game_colour_message_00102:
2478  097E  DD 7E 09    	ld	a,(ix+9)
2479  0981  B7          	or	a, a
2480  0982  28 B2       	jr	Z,l_game_colour_message_00109
2481  0984              l_game_colour_message_00103:
2482  0984  C5          	push	bc
2483  0985  21 00 00    	ld	hl,_k1
2484  0988  E5          	push	hl
2485  0989  2A 00 00    	ld	hl,(_joyfunc1)
2486  098C  CD 00 00    	call	___sdcc_call_hl
2487  098F  F1          	pop	af
2488  0990  C1          	pop	bc
2489  0991  7C          	ld	a,h
2490  0992  B5          	or	a,l
2491  0993  28 A1       	jr	Z,l_game_colour_message_00109
2492  0995  21 00 00    	ld	hl,_tmp
2493  0998  36 00       	ld	(hl),0x00
2494  099A  18 E8       	jr	l_game_colour_message_00103
2495  099C              l_game_colour_message_00111:
2496  099C  DD 7E 06    	ld	a,(ix+6)
2497  099F  DD 96 05    	sub	a,(ix+5)
2498  09A2  47          	ld	b, a
2499  09A3  3A 00 00    	ld	a,(_game_over)
2500  09A6  B7          	or	a, a
2501  09A7  28 2B       	jr	Z,l_game_colour_message_00115
2502  09A9  21 00 00    	ld	hl,_tmp1
2503  09AC  70          	ld	(hl), b
2504  09AD  21 00 00    	ld	hl,_tmp0
2505  09B0  36 00       	ld	(hl),0x00
2506  09B2              l_game_colour_message_00118:
2507  09B2  3A 00 00    	ld	a,(_tmp0)
2508  09B5  21 00 00    	ld	hl,_tmp1
2509  09B8  96          	sub	a, (hl)
2510  09B9  30 4C       	jr	NC,l_game_colour_message_00123
2511  09BB  DD 7E 05    	ld	a,(ix+5)
2512  09BE  21 00 00    	ld	hl,_tmp0
2513  09C1  86          	add	a, (hl)
2514  09C2  47          	ld	b, a
2515  09C3  21 48 00    	ld	hl,___str_19
2516  09C6  E5          	push	hl
2517  09C7  DD 4E 04    	ld	c,(ix+4)
2518  09CA  C5          	push	bc
2519  09CB  CD 00 00    	call	_zx_print_str
2520  09CE  21 00 00    	ld	hl,_tmp0
2521  09D1  34          	inc	(hl)
2522  09D2  18 DE       	jr	l_game_colour_message_00118
2523  09D4              l_game_colour_message_00115:
2524  09D4  21 00 00    	ld	hl,_tmp1
2525  09D7  70          	ld	(hl), b
2526  09D8  21 00 00    	ld	hl,_s_lin0
2527  09DB  71          	ld	(hl), c
2528  09DC  DD 7E 05    	ld	a,(ix+5)
2529  09DF  CB 3F       	srl	a
2530  09E1  87          	add	a, a
2531  09E2  32 00 00    	ld	(_s_col1),a
2532  09E5  21 00 00    	ld	hl,_tmp0
2533  09E8  36 00       	ld	(hl),0x00
2534  09EA              l_game_colour_message_00121:
2535  09EA  3A 00 00    	ld	a,(_tmp0)
2536  09ED  21 00 00    	ld	hl,_tmp1
2537  09F0  96          	sub	a, (hl)
2538  09F1  30 14       	jr	NC,l_game_colour_message_00123
2539  09F3  3A 00 00    	ld	a,(_s_col1)
2540  09F6  21 00 00    	ld	hl,_tmp0
2541  09F9  86          	add	a, (hl)
2542  09FA  32 00 00    	ld	(_s_col0),a
2543  09FD  CD 00 00    	call	_spr_back_repaint
2544  0A00  21 00 00    	ld	hl,_tmp0
2545  0A03  34          	inc	(hl)
2546  0A04  34          	inc	(hl)
2547  0A05  18 E3       	jr	l_game_colour_message_00121
2548  0A07              l_game_colour_message_00123:
2549  0A07  DD E1       	pop	ix
2550  0A09  C9          	ret
2551  0A0A              	SECTION rodata_compiler
2552  0048              ___str_19:
2553  0048  20          	DEFM " "
2554  0049  00          	DEFB 0x00
2555  004A              	SECTION code_compiler
2556  0A0A              ;	---------------------------------
2557  0A0A              ; Function game_check_time
2558  0A0A              ; ---------------------------------
2559  0A0A              _game_check_time:
2560  0A0A  CD 00 00    	call	___sdcc_enter_ix
2561  0A0D  2A 00 00    	ld	hl,(_curr_time)
2562  0A10  7D          	ld	a,l
2563  0A11  DD 96 04    	sub	a,(ix+4)
2564  0A14  4F          	ld	c,a
2565  0A15  7C          	ld	a,h
2566  0A16  DD 9E 05    	sbc	a,(ix+5)
2567  0A19  47          	ld	b, a
2568  0A1A  DD 7E 06    	ld	a,(ix+6)
2569  0A1D  91          	sub	a, c
2570  0A1E  DD 7E 07    	ld	a,(ix+7)
2571  0A21  98          	sbc	a, b
2572  0A22  30 04       	jr	NC,l_game_check_time_00102
2573  0A24  2E 01       	ld	l,0x01
2574  0A26  18 02       	jr	l_game_check_time_00104
2575  0A28              l_game_check_time_00102:
2576  0A28  2E 00       	ld	l,0x00
2577  0A2A              l_game_check_time_00104:
2578  0A2A  DD E1       	pop	ix
2579  0A2C  C9          	ret
2580  0A2D              	SECTION code_compiler
2581  0A2D              ;	---------------------------------
2582  0A2D              ; Function game_shoot_fire
2583  0A2D              ; ---------------------------------
2584  0A2D              _game_shoot_fire:
2585  0A2D  CD 00 00    	call	___sdcc_enter_ix
2586  0A30  21 F4 FF    	ld	hl, -12
2587  0A33  39          	add	hl, sp
2588  0A34  F9          	ld	sp, hl
2589  0A35  01 00 00    	ld	bc,_bullet_col
2590  0A38  DD 6E 04    	ld	l,(ix+4)
2591  0A3B  26 00       	ld	h,0x00
2592  0A3D  09          	add	hl,bc
2593  0A3E  DD 75 FE    	ld	(ix-2),l
2594  0A41  DD 74 FF    	ld	(ix-1),h
2595  0A44  4E          	ld	c, (hl)
2596  0A45  0C          	inc	c
2597  0A46  C2 31 0C    	jp	NZ,l_game_shoot_fire_00126
2598  0A49  21 00 00    	ld	hl,_bullet_count
2599  0A4C  34          	inc	(hl)
2600  0A4D  01 00 00    	ld	bc,_bullet_dir
2601  0A50  DD 6E 04    	ld	l,(ix+4)
2602  0A53  26 00       	ld	h,0x00
2603  0A55  09          	add	hl,bc
2604  0A56  DD 75 FC    	ld	(ix-4),l
2605  0A59  DD 74 FD    	ld	(ix-3),h
2606  0A5C  36 00       	ld	(hl),0x00
2607  0A5E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2608  0A60  DD 86 04    	add	a,(ix+4)
2609  0A63  4F          	ld	c, a
2610  0A64  3E 00       	ld	a, +((_bullet_lin0) / 256)
2611  0A66  CE 00       	adc	a,0x00
2612  0A68  47          	ld	b, a
2613  0A69  11 00 00    	ld	de,_lin
2614  0A6C  DD 6E 04    	ld	l,(ix+4)
2615  0A6F  26 00       	ld	h,0x00
2616  0A71  19          	add	hl,de
2617  0A72  DD 75 FA    	ld	(ix-6),l
2618  0A75  DD 74 FB    	ld	(ix-5),h
2619  0A78  7E          	ld	a, (hl)
2620  0A79  02          	ld	(bc), a
2621  0A7A  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2622  0A7C  DD 86 04    	add	a,(ix+4)
2623  0A7F  4F          	ld	c, a
2624  0A80  3E 00       	ld	a, +((_bullet_col0) / 256)
2625  0A82  CE 00       	adc	a,0x00
2626  0A84  47          	ld	b, a
2627  0A85  11 00 00    	ld	de,_col
2628  0A88  DD 6E 04    	ld	l,(ix+4)
2629  0A8B  26 00       	ld	h,0x00
2630  0A8D  19          	add	hl,de
2631  0A8E  DD 75 F8    	ld	(ix-8),l
2632  0A91  DD 74 F9    	ld	(ix-7),h
2633  0A94  7E          	ld	a, (hl)
2634  0A95  02          	ld	(bc), a
2635  0A96  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2636  0A98  DD 86 04    	add	a,(ix+4)
2637  0A9B  DD 77 F6    	ld	(ix-10),a
2638  0A9E  3E 00       	ld	a, +((_bullet_lin) / 256)
2639  0AA0  CE 00       	adc	a,0x00
2640  0AA2  DD 77 F7    	ld	(ix-9),a
2641  0AA5  DD 6E FA    	ld	l,(ix-6)
2642  0AA8  DD 66 FB    	ld	h,(ix-5)
2643  0AAB  4E          	ld	c, (hl)
2644  0AAC  DD 6E F6    	ld	l,(ix-10)
2645  0AAF  DD 66 F7    	ld	h,(ix-9)
2646  0AB2  71          	ld	(hl), c
2647  0AB3  3E 00       	ld	a, +((_bullet_frames) & 0xFF)
2648  0AB5  DD 86 04    	add	a,(ix+4)
2649  0AB8  DD 77 F4    	ld	(ix-12),a
2650  0ABB  3E 00       	ld	a, +((_bullet_frames) / 256)
2651  0ABD  CE 00       	adc	a,0x00
2652  0ABF  DD 77 F5    	ld	(ix-11),a
2653  0AC2  E1          	pop	hl
2654  0AC3  E5          	push	hl
2655  0AC4  36 02       	ld	(hl),0x02
2656  0AC6  DD 7E 04    	ld	a,(ix+4)
2657  0AC9  D6 07       	sub	a,0x07
2658  0ACB  20 04       	jr	NZ,l_game_shoot_fire_00175
2659  0ACD  3E 01       	ld	a,0x01
2660  0ACF  18 01       	jr	l_game_shoot_fire_00176
2661  0AD1              l_game_shoot_fire_00175:
2662  0AD1  AF          	xor	a,a
2663  0AD2              l_game_shoot_fire_00176:
2664  0AD2  4F          	ld	c,a
2665  0AD3  B7          	or	a, a
2666  0AD4  28 13       	jr	Z,l_game_shoot_fire_00102
2667  0AD6  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2668  0AD8  DD 86 04    	add	a,(ix+4)
2669  0ADB  5F          	ld	e, a
2670  0ADC  3E 00       	ld	a, +((_bullet_max) / 256)
2671  0ADE  CE 00       	adc	a,0x00
2672  0AE0  57          	ld	d, a
2673  0AE1  3A 00 00    	ld	a,(_player_lvl)
2674  0AE4  C6 04       	add	a,0x04
2675  0AE6  12          	ld	(de), a
2676  0AE7  18 0D       	jr	l_game_shoot_fire_00103
2677  0AE9              l_game_shoot_fire_00102:
2678  0AE9  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2679  0AEB  DD 86 04    	add	a,(ix+4)
2680  0AEE  5F          	ld	e, a
2681  0AEF  3E 00       	ld	a, +((_bullet_max) / 256)
2682  0AF1  CE 00       	adc	a,0x00
2683  0AF3  57          	ld	d, a
2684  0AF4  AF          	xor	a, a
2685  0AF5  12          	ld	(de), a
2686  0AF6              l_game_shoot_fire_00103:
2687  0AF6  DD 7E 05    	ld	a,(ix+5)
2688  0AF9  D6 7C       	sub	a,0x7c
2689  0AFB  20 0E       	jr	NZ,l_game_shoot_fire_00105
2690  0AFD  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2691  0AFF  DD 86 04    	add	a,(ix+4)
2692  0B02  5F          	ld	e, a
2693  0B03  3E 00       	ld	a, +((_bullet_class) / 256)
2694  0B05  CE 00       	adc	a,0x00
2695  0B07  57          	ld	d, a
2696  0B08  3E 01       	ld	a,0x01
2697  0B0A  12          	ld	(de), a
2698  0B0B              l_game_shoot_fire_00105:
2699  0B0B  DD 7E 05    	ld	a,(ix+5)
2700  0B0E  D6 78       	sub	a,0x78
2701  0B10  20 21       	jr	NZ,l_game_shoot_fire_00110
2702  0B12  B1          	or	a,c
2703  0B13  28 10       	jr	Z,l_game_shoot_fire_00107
2704  0B15  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2705  0B17  DD 86 04    	add	a,(ix+4)
2706  0B1A  4F          	ld	c, a
2707  0B1B  3E 00       	ld	a, +((_bullet_class) / 256)
2708  0B1D  CE 00       	adc	a,0x00
2709  0B1F  47          	ld	b, a
2710  0B20  3E 01       	ld	a,0x01
2711  0B22  02          	ld	(bc), a
2712  0B23  18 0E       	jr	l_game_shoot_fire_00110
2713  0B25              l_game_shoot_fire_00107:
2714  0B25  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2715  0B27  DD 86 04    	add	a,(ix+4)
2716  0B2A  4F          	ld	c, a
2717  0B2B  3E 00       	ld	a, +((_bullet_class) / 256)
2718  0B2D  CE 00       	adc	a,0x00
2719  0B2F  47          	ld	b, a
2720  0B30  3E 02       	ld	a,0x02
2721  0B32  02          	ld	(bc), a
2722  0B33              l_game_shoot_fire_00110:
2723  0B33  DD 7E 05    	ld	a,(ix+5)
2724  0B36  D6 80       	sub	a,0x80
2725  0B38  20 04       	jr	NZ,l_game_shoot_fire_00181
2726  0B3A  3E 01       	ld	a,0x01
2727  0B3C  18 01       	jr	l_game_shoot_fire_00182
2728  0B3E              l_game_shoot_fire_00181:
2729  0B3E  AF          	xor	a,a
2730  0B3F              l_game_shoot_fire_00182:
2731  0B3F  4F          	ld	c,a
2732  0B40  B7          	or	a, a
2733  0B41  28 31       	jr	Z,l_game_shoot_fire_00112
2734  0B43  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2735  0B45  DD 86 04    	add	a,(ix+4)
2736  0B48  5F          	ld	e, a
2737  0B49  3E 00       	ld	a, +((_bullet_class) / 256)
2738  0B4B  CE 00       	adc	a,0x00
2739  0B4D  57          	ld	d, a
2740  0B4E  3E 04       	ld	a,0x04
2741  0B50  12          	ld	(de), a
2742  0B51  DD 6E FA    	ld	l,(ix-6)
2743  0B54  DD 66 FB    	ld	h,(ix-5)
2744  0B57  7E          	ld	a, (hl)
2745  0B58  C6 FC       	add	a,0xfc
2746  0B5A  DD 6E F6    	ld	l,(ix-10)
2747  0B5D  DD 66 F7    	ld	h,(ix-9)
2748  0B60  77          	ld	(hl), a
2749  0B61  E1          	pop	hl
2750  0B62  E5          	push	hl
2751  0B63  36 04       	ld	(hl),0x04
2752  0B65  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
2753  0B67  DD 86 04    	add	a,(ix+4)
2754  0B6A  5F          	ld	e, a
2755  0B6B  3E 00       	ld	a, +((_bullet_vel) / 256)
2756  0B6D  CE 00       	adc	a,0x00
2757  0B6F  57          	ld	d, a
2758  0B70  3A 00 00    	ld	a,(_player_vel_y0)
2759  0B73  12          	ld	(de), a
2760  0B74              l_game_shoot_fire_00112:
2761  0B74  3A 00 00    	ld	a,(_s_state)
2762  0B77  E6 08       	and	a,0x08
2763  0B79  47          	ld	b, a
2764  0B7A  3A 00 00    	ld	a,(_sprite)
2765  0B7D  D6 07       	sub	a,0x07
2766  0B7F  20 06       	jr	NZ,l_game_shoot_fire_00114
2767  0B81  3A 07 00    	ld	a,(_state_a + 0x0007)
2768  0B84  E6 08       	and	a,0x08
2769  0B86  47          	ld	b, a
2770  0B87              l_game_shoot_fire_00114:
2771  0B87  DD 6E F8    	ld	l,(ix-8)
2772  0B8A  DD 66 F9    	ld	h,(ix-7)
2773  0B8D  56          	ld	d, (hl)
2774  0B8E  DD 6E FA    	ld	l,(ix-6)
2775  0B91  DD 66 FB    	ld	h,(ix-5)
2776  0B94  7E          	ld	a, (hl)
2777  0B95  C5          	push	bc
2778  0B96  5F          	ld	e,a
2779  0B97  D5          	push	de
2780  0B98  CD 00 00    	call	_spr_calc_index
2781  0B9B  F1          	pop	af
2782  0B9C  EB          	ex	de,hl
2783  0B9D  C1          	pop	bc
2784  0B9E  ED 53 00 00 	ld	(_index1),de
2785  0BA2  DD 6E F8    	ld	l,(ix-8)
2786  0BA5  DD 66 F9    	ld	h,(ix-7)
2787  0BA8  5E          	ld	e, (hl)
2788  0BA9  78          	ld	a, b
2789  0BAA  B7          	or	a, a
2790  0BAB  28 4F       	jr	Z,l_game_shoot_fire_00123
2791  0BAD  7B          	ld	a, e
2792  0BAE  D6 01       	sub	a,0x01
2793  0BB0  30 05       	jr	NC,l_game_shoot_fire_00116
2794  0BB2  2E 01       	ld	l,0x01
2795  0BB4  C3 33 0C    	jp	l_game_shoot_fire_00127
2796  0BB7              l_game_shoot_fire_00116:
2797  0BB7  DD 6E FE    	ld	l,(ix-2)
2798  0BBA  DD 66 FF    	ld	h,(ix-1)
2799  0BBD  73          	ld	(hl), e
2800  0BBE  79          	ld	a, c
2801  0BBF  B7          	or	a, a
2802  0BC0  20 13       	jr	NZ,l_game_shoot_fire_00118
2803  0BC2  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2804  0BC4  DD 86 04    	add	a,(ix+4)
2805  0BC7  4F          	ld	c, a
2806  0BC8  3E 00       	ld	a, +((_bullet_tile) / 256)
2807  0BCA  CE 00       	adc	a,0x00
2808  0BCC  47          	ld	b, a
2809  0BCD  DD 7E 05    	ld	a,(ix+5)
2810  0BD0  C6 02       	add	a,0x02
2811  0BD2  02          	ld	(bc), a
2812  0BD3  18 0F       	jr	l_game_shoot_fire_00119
2813  0BD5              l_game_shoot_fire_00118:
2814  0BD5  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2815  0BD7  DD 86 04    	add	a,(ix+4)
2816  0BDA  4F          	ld	c, a
2817  0BDB  3E 00       	ld	a, +((_bullet_tile) / 256)
2818  0BDD  CE 00       	adc	a,0x00
2819  0BDF  47          	ld	b, a
2820  0BE0  DD 7E 05    	ld	a,(ix+5)
2821  0BE3  02          	ld	(bc), a
2822  0BE4              l_game_shoot_fire_00119:
2823  0BE4  DD 6E FC    	ld	l,(ix-4)
2824  0BE7  DD 66 FD    	ld	h,(ix-3)
2825  0BEA  36 01       	ld	(hl),0x01
2826  0BEC  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2827  0BEE  DD 86 04    	add	a,(ix+4)
2828  0BF1  4F          	ld	c, a
2829  0BF2  3E 00       	ld	a, +((_bullet_colint) / 256)
2830  0BF4  CE 00       	adc	a,0x00
2831  0BF6  47          	ld	b, a
2832  0BF7  3E 02       	ld	a,0x02
2833  0BF9  02          	ld	(bc), a
2834  0BFA  18 35       	jr	l_game_shoot_fire_00126
2835  0BFC              l_game_shoot_fire_00123:
2836  0BFC  3E 1D       	ld	a,0x1d
2837  0BFE  93          	sub	a, e
2838  0BFF  30 04       	jr	NC,l_game_shoot_fire_00121
2839  0C01  2E 01       	ld	l,0x01
2840  0C03  18 2E       	jr	l_game_shoot_fire_00127
2841  0C05              l_game_shoot_fire_00121:
2842  0C05  DD 6E FE    	ld	l,(ix-2)
2843  0C08  DD 66 FF    	ld	h,(ix-1)
2844  0C0B  73          	ld	(hl), e
2845  0C0C  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
2846  0C0E  DD 86 04    	add	a,(ix+4)
2847  0C11  4F          	ld	c, a
2848  0C12  3E 00       	ld	a, +((_bullet_tile) / 256)
2849  0C14  CE 00       	adc	a,0x00
2850  0C16  47          	ld	b, a
2851  0C17  DD 7E 05    	ld	a,(ix+5)
2852  0C1A  02          	ld	(bc), a
2853  0C1B  DD 6E FC    	ld	l,(ix-4)
2854  0C1E  DD 66 FD    	ld	h,(ix-3)
2855  0C21  36 FF       	ld	(hl),0xff
2856  0C23  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
2857  0C25  DD 86 04    	add	a,(ix+4)
2858  0C28  4F          	ld	c, a
2859  0C29  3E 00       	ld	a, +((_bullet_colint) / 256)
2860  0C2B  CE 00       	adc	a,0x00
2861  0C2D  47          	ld	b, a
2862  0C2E  3E FF       	ld	a,0xff
2863  0C30  02          	ld	(bc), a
2864  0C31              l_game_shoot_fire_00126:
2865  0C31  2E 00       	ld	l,0x00
2866  0C33              l_game_shoot_fire_00127:
2867  0C33  DD F9       	ld	sp, ix
2868  0C35  DD E1       	pop	ix
2869  0C37  C9          	ret
2870  0C38              	SECTION code_compiler
2871  0C38              ;	---------------------------------
2872  0C38              ; Function game_obj_set
2873  0C38              ; ---------------------------------
2874  0C38              _game_obj_set:
2875  0C38  CD 00 00    	call	___sdcc_enter_ix
2876  0C3B  21 00 00    	ld	hl,_scr_curr
2877  0C3E  7E          	ld	a, (hl)
2878  0C3F  D6 08       	sub	a,0x08
2879  0C41  30 1E       	jr	NC,l_game_obj_set_00102
2880  0C43  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2881  0C45  DD 86 04    	add	a,(ix+4)
2882  0C48  4F          	ld	c, a
2883  0C49  3E 00       	ld	a, +((_scr_obj0) / 256)
2884  0C4B  DD 8E 05    	adc	a,(ix+5)
2885  0C4E  47          	ld	b, a
2886  0C4F  0A          	ld	a, (bc)
2887  0C50  5F          	ld	e, a
2888  0C51  7E          	ld	a, (hl)
2889  0C52  3C          	inc	a
2890  0C53  16 01       	ld	d,0x01
2891  0C55  18 02       	jr	l_game_obj_set_00111
2892  0C57              l_game_obj_set_00110:
2893  0C57  CB 22       	sla	d
2894  0C59              l_game_obj_set_00111:
2895  0C59  3D          	dec	a
2896  0C5A  20 FB       	jr	NZ,l_game_obj_set_00110
2897  0C5C  7B          	ld	a, e
2898  0C5D  B2          	or	a, d
2899  0C5E  02          	ld	(bc), a
2900  0C5F  18 21       	jr	l_game_obj_set_00104
2901  0C61              l_game_obj_set_00102:
2902  0C61  3E 10       	ld	a,0x10
2903  0C63  21 00 00    	ld	hl,_scr_curr
2904  0C66  96          	sub	a, (hl)
2905  0C67  47          	ld	b, a
2906  0C68  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2907  0C6A  DD 86 04    	add	a,(ix+4)
2908  0C6D  5F          	ld	e, a
2909  0C6E  3E 00       	ld	a, +((_scr_obj1) / 256)
2910  0C70  DD 8E 05    	adc	a,(ix+5)
2911  0C73  57          	ld	d, a
2912  0C74  1A          	ld	a, (de)
2913  0C75  4F          	ld	c, a
2914  0C76  2E 01       	ld	l,0x01
2915  0C78  04          	inc	b
2916  0C79  18 02       	jr	l_game_obj_set_00113
2917  0C7B              l_game_obj_set_00112:
2918  0C7B  CB 25       	sla	l
2919  0C7D              l_game_obj_set_00113:
2920  0C7D  10 FC       	djnz	l_game_obj_set_00112
2921  0C7F  79          	ld	a, c
2922  0C80  B5          	or	a, l
2923  0C81  12          	ld	(de), a
2924  0C82              l_game_obj_set_00104:
2925  0C82  DD E1       	pop	ix
2926  0C84  C9          	ret
2927  0C85              	SECTION code_compiler
2928  0C85              ;	---------------------------------
2929  0C85              ; Function game_obj_chk
2930  0C85              ; ---------------------------------
2931  0C85              _game_obj_chk:
2932  0C85  CD 00 00    	call	___sdcc_enter_ix
2933  0C88  21 00 00    	ld	hl,_scr_curr
2934  0C8B  7E          	ld	a, (hl)
2935  0C8C  D6 08       	sub	a,0x08
2936  0C8E  30 1D       	jr	NC,l_game_obj_chk_00102
2937  0C90  3E 00       	ld	a, +((_scr_obj0) & 0xFF)
2938  0C92  DD 86 04    	add	a,(ix+4)
2939  0C95  4F          	ld	c, a
2940  0C96  3E 00       	ld	a, +((_scr_obj0) / 256)
2941  0C98  DD 8E 05    	adc	a,(ix+5)
2942  0C9B  47          	ld	b, a
2943  0C9C  0A          	ld	a, (bc)
2944  0C9D  4F          	ld	c, a
2945  0C9E  46          	ld	b, (hl)
2946  0C9F  1E 01       	ld	e,0x01
2947  0CA1  04          	inc	b
2948  0CA2  18 02       	jr	l_game_obj_chk_00111
2949  0CA4              l_game_obj_chk_00110:
2950  0CA4  CB 23       	sla	e
2951  0CA6              l_game_obj_chk_00111:
2952  0CA6  10 FC       	djnz	l_game_obj_chk_00110
2953  0CA8  79          	ld	a, c
2954  0CA9  A3          	and	a, e
2955  0CAA  6F          	ld	l, a
2956  0CAB  18 21       	jr	l_game_obj_chk_00104
2957  0CAD              l_game_obj_chk_00102:
2958  0CAD  3E 10       	ld	a,0x10
2959  0CAF  21 00 00    	ld	hl,_scr_curr
2960  0CB2  96          	sub	a, (hl)
2961  0CB3  47          	ld	b, a
2962  0CB4  3E 00       	ld	a, +((_scr_obj1) & 0xFF)
2963  0CB6  DD 86 04    	add	a,(ix+4)
2964  0CB9  5F          	ld	e, a
2965  0CBA  3E 00       	ld	a, +((_scr_obj1) / 256)
2966  0CBC  DD 8E 05    	adc	a,(ix+5)
2967  0CBF  57          	ld	d, a
2968  0CC0  1A          	ld	a, (de)
2969  0CC1  4F          	ld	c, a
2970  0CC2  1E 01       	ld	e,0x01
2971  0CC4  04          	inc	b
2972  0CC5  18 02       	jr	l_game_obj_chk_00113
2973  0CC7              l_game_obj_chk_00112:
2974  0CC7  CB 23       	sla	e
2975  0CC9              l_game_obj_chk_00113:
2976  0CC9  10 FC       	djnz	l_game_obj_chk_00112
2977  0CCB  79          	ld	a, c
2978  0CCC  A3          	and	a, e
2979  0CCD  6F          	ld	l, a
2980  0CCE              l_game_obj_chk_00104:
2981  0CCE  DD E1       	pop	ix
2982  0CD0  C9          	ret
2983  0CD1              	SECTION code_compiler
2984  0CD1              ;	---------------------------------
2985  0CD1              ; Function game_obj_clear
2986  0CD1              ; ---------------------------------
2987  0CD1              _game_obj_clear:
2988  0CD1  21 00 00    	ld	hl,_tmp
2989  0CD4  36 00       	ld	(hl),0x00
2990  0CD6              l_game_obj_clear_00102:
2991  0CD6  2A 00 00    	ld	hl,(_tmp)
2992  0CD9  26 00       	ld	h,0x00
2993  0CDB  01 00 00    	ld	bc,_scr_map
2994  0CDE  09          	add	hl,bc
2995  0CDF  AF          	xor	a,a
2996  0CE0  77          	ld	(hl),a
2997  0CE1  2A 00 00    	ld	hl,(_tmp)
2998  0CE4  26 00       	ld	h,0x00
2999  0CE6  01 00 00    	ld	bc,_scr_obj0
3000  0CE9  09          	add	hl,bc
3001  0CEA  AF          	xor	a,a
3002  0CEB  77          	ld	(hl),a
3003  0CEC  2A 00 00    	ld	hl,(_tmp)
3004  0CEF  26 00       	ld	h,0x00
3005  0CF1  01 00 00    	ld	bc,_scr_obj1
3006  0CF4  09          	add	hl,bc
3007  0CF5  AF          	xor	a,a
3008  0CF6  77          	ld	(hl),a
3009  0CF7  21 00 00    	ld	hl,_tmp
3010  0CFA  7E          	ld	a,(hl)
3011  0CFB  3C          	inc	a
3012  0CFC  77          	ld	(hl),a
3013  0CFD  D6 A0       	sub	a,0xa0
3014  0CFF  38 D5       	jr	C,l_game_obj_clear_00102
3015  0D01  01 00 00    	ld	bc,_player_keys+0
3016  0D04  AF          	xor	a, a
3017  0D05  02          	ld	(bc), a
3018  0D06  21 00 00    	ld	hl,0x0000
3019  0D09  22 01 00    	ld	((_player_keys + 0x0001)),hl
3020  0D0C  69          	ld	l,c
3021  0D0D  60          	ld	h,b
3022  0D0E  23          	inc	hl
3023  0D0F  23          	inc	hl
3024  0D10  23          	inc	hl
3025  0D11  36 00       	ld	(hl),0x00
3026  0D13  C9          	ret
3027  0D14              	SECTION IGNORE
3028  0000              
