1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_print_phase
189   0000              	GLOBAL _game_print_footer
190   0000              	GLOBAL _game_phase_print_score_back
191   0000              	GLOBAL _game_print_lives
192   0000              	GLOBAL _game_tick
193   0000              	GLOBAL _game_start_timer
194   0000              	GLOBAL _game_phase_init
195   0000              	GLOBAL _game_print_header
196   0000              	GLOBAL _game_loop
197   0000              	GLOBAL _game_score_osd
198   0000              	GLOBAL _game_bonus_clock
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add_get_index
201   0000              	GLOBAL _game_print_score
202   0000              	GLOBAL _game_paint_attrib
203   0000              	GLOBAL _game_paint_attrib_lin
204   0000              	GLOBAL _game_paint_attrib_lin_h
205   0000              	GLOBAL _game_menu_config
206   0000              	GLOBAL _game_joystick_change
207   0000              	GLOBAL _game_joystick_set_menu
208   0000              	GLOBAL _game_joystick_set
209   0000              	GLOBAL _game_menu
210   0000              	GLOBAL _game_menu_top_paint
211   0000              	GLOBAL _game_menu_paint
212   0000              	GLOBAL _game_menu_e
213   0000              	GLOBAL _game_menu_handle
214   0000              	GLOBAL _game_end
215   0000              	GLOBAL _game_menu_back
216   0000              	GLOBAL _game_rotate_attrib
217   0000              	GLOBAL _game_colour_message
218   0000              	GLOBAL _game_check_time
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _debug3
223   0000              	GLOBAL _debug2
224   0000              	GLOBAL _debug
225   0000              	GLOBAL _zx_print_str
226   0000              	GLOBAL _zx_print_int
227   0000              	GLOBAL _zx_print_chr
228   0000              	GLOBAL _zx_print_bonus_time
229   0000              	GLOBAL _zx_isr
230   0000              	GLOBAL _spr_kill_all
231   0000              	GLOBAL _spr_collision_check
232   0000              	GLOBAL _spr_calc_hor
233   0000              	GLOBAL _spr_draw_row
234   0000              	GLOBAL _spr_draw_index
235   0000              	GLOBAL _spr_draw_clear
236   0000              	GLOBAL _spr_draw_background
237   0000              	GLOBAL _spr_brick_anim
238   0000              	GLOBAL _spr_back_paint
239   0000              	GLOBAL _spr_back_clr
240   0000              	GLOBAL _spr_tile
241   0000              	GLOBAL _spr_set_fall
242   0000              	GLOBAL _spr_destroy
243   0000              	GLOBAL _spr_tile_dir
244   0000              	GLOBAL _spr_anim_kill
245   0000              	GLOBAL _spr_killed
246   0000              	GLOBAL _spr_redraw
247   0000              	GLOBAL _spr_move_left
248   0000              	GLOBAL _spr_move_right
249   0000              	GLOBAL _spr_move_horizontal
250   0000              	GLOBAL _spr_move_down
251   0000              	GLOBAL _spr_move_up
252   0000              	GLOBAL _spr_check_map
253   0000              	GLOBAL _spr_calc_index
254   0000              	GLOBAL _spr_chktime
255   0000              	GLOBAL _sound_hit_brick
256   0000              	GLOBAL _sound_hit_enemy
257   0000              	GLOBAL _sound_kill
258   0000              	GLOBAL _sound_enter_enemy
259   0000              	GLOBAL _sound_coin
260   0000              	GLOBAL _sound_jump
261   0000              	GLOBAL _sound_slide
262   0000              	GLOBAL _player_check_floor
263   0000              	GLOBAL _player_hit_brick_clear
264   0000              	GLOBAL _player_lost_life
265   0000              	GLOBAL _player_score_add
266   0000              	GLOBAL _player_coin
267   0000              	GLOBAL _player_hit_pow
268   0000              	GLOBAL _player_hit_brick
269   0000              	GLOBAL _player_move_input
270   0000              	GLOBAL _player_turn
271   0000              	GLOBAL _player_move
272   0000              	GLOBAL _player_restart
273   0000              	GLOBAL _player_kill
274   0000              	GLOBAL _player_check_input
275   0000              	GLOBAL _player_collision
276   0000              	GLOBAL _player_calc_slide
277   0000              	GLOBAL _player_init
278   0000              	GLOBAL _game_bonus_summary_player
279   0000              	GLOBAL _game_bonus_summary
280   0000              	GLOBAL _game_unfreeze_all
281   0000              	GLOBAL _game_freeze_all
282   0000              	GLOBAL _game_freeze
283   0000              	GLOBAL _game_fill_row
284   0000              	GLOBAL _enemy_ugly_fix
285   0000              	GLOBAL _enemy_kill
286   0000              	GLOBAL _enemy_init
287   0000              	GLOBAL _enemy_walk
288   0000              	GLOBAL _enemy_upgrade
289   0000              	GLOBAL _enemy_evolve
290   0000              	GLOBAL _enemy_standard_hit
291   0000              	GLOBAL _enemy_trip_move
292   0000              	GLOBAL _enemy_trip
293   0000              	GLOBAL _enemy_fighterfly
294   0000              	GLOBAL _enemy_fireball_green
295   0000              	GLOBAL _enemy_fireball_red
296   0000              	GLOBAL _enemy_slipice
297   0000              	GLOBAL _enemy_standard
298   0000              	GLOBAL _enemy_turn
299   0000              	GLOBAL _enemy_flip_sidestepper
300   0000              	GLOBAL _enemy_flip
301   0000              	GLOBAL _enemy_flip_change_dir
302   0000              	GLOBAL _enemy_hit
303   0000              	GLOBAL _enemy_collision_turn_dir
304   0000              	GLOBAL _enemy_collision
305   0000              	GLOBAL _enemy_coin1
306   0000              	GLOBAL _ay_fx_play
307   0000              	GLOBAL _ay_midi_play
308   0000              	GLOBAL _ay_is_playing
309   0000              	GLOBAL _ay_reset
310   0000              	GLOBAL _test_func2
311   0000              	GLOBAL _test_func
312   0000              	GLOBAL _in_mouse_kempston_wheel_delta
313   0000              	GLOBAL _in_mouse_kempston_wheel
314   0000              	GLOBAL _in_mouse_kempston_callee
315   0000              	GLOBAL _in_mouse_kempston
316   0000              	GLOBAL _in_mouse_kempston_setpos_callee
317   0000              	GLOBAL _in_mouse_kempston_setpos
318   0000              	GLOBAL _in_mouse_kempston_reset
319   0000              	GLOBAL _in_mouse_kempston_init
320   0000              	GLOBAL _in_mouse_amx_wheel_delta
321   0000              	GLOBAL _in_mouse_amx_wheel
322   0000              	GLOBAL _in_mouse_amx_callee
323   0000              	GLOBAL _in_mouse_amx
324   0000              	GLOBAL _in_mouse_amx_setpos_callee
325   0000              	GLOBAL _in_mouse_amx_setpos
326   0000              	GLOBAL _in_mouse_amx_reset
327   0000              	GLOBAL _in_mouse_amx_init_callee
328   0000              	GLOBAL _in_mouse_amx_init
329   0000              	GLOBAL _in_stick_sinclair2
330   0000              	GLOBAL _in_stick_sinclair1
331   0000              	GLOBAL _in_stick_kempston
332   0000              	GLOBAL _in_stick_fuller
333   0000              	GLOBAL _in_stick_cursor
334   0000              	GLOBAL _in_stick_keyboard_fastcall
335   0000              	GLOBAL _in_stick_keyboard
336   0000              	GLOBAL _in_wait_nokey
337   0000              	GLOBAL _in_wait_key
338   0000              	GLOBAL _in_test_key
339   0000              	GLOBAL _in_pause_fastcall
340   0000              	GLOBAL _in_pause
341   0000              	GLOBAL _in_key_scancode_fastcall
342   0000              	GLOBAL _in_key_scancode
343   0000              	GLOBAL _in_key_pressed_fastcall
344   0000              	GLOBAL _in_key_pressed
345   0000              	GLOBAL _in_inkey
346   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawTW_raw
348   0000              	GLOBAL _NIRVANAP_drawTW_callee
349   0000              	GLOBAL _NIRVANAP_drawTW
350   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
351   0000              	GLOBAL _NIRVANAP_drawW_raw
352   0000              	GLOBAL _NIRVANAP_drawW_callee
353   0000              	GLOBAL _NIRVANAP_drawW
354   0000              	GLOBAL _NIRVANAP_spriteT_callee
355   0000              	GLOBAL _NIRVANAP_spriteT
356   0000              	GLOBAL _NIRVANAP_fillC_callee
357   0000              	GLOBAL _NIRVANAP_fillC
358   0000              	GLOBAL _NIRVANAP_readC_callee
359   0000              	GLOBAL _NIRVANAP_readC
360   0000              	GLOBAL _NIRVANAP_paintC_callee
361   0000              	GLOBAL _NIRVANAP_paintC
362   0000              	GLOBAL _NIRVANAP_printC_callee
363   0000              	GLOBAL _NIRVANAP_printC
364   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
365   0000              	GLOBAL _NIRVANAP_fillT_raw
366   0000              	GLOBAL _NIRVANAP_fillT_callee
367   0000              	GLOBAL _NIRVANAP_fillT
368   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawT_raw
370   0000              	GLOBAL _NIRVANAP_drawT_callee
371   0000              	GLOBAL _NIRVANAP_drawT
372   0000              	GLOBAL _NIRVANAP_stop
373   0000              	GLOBAL _NIRVANAP_start
374   0000              	GLOBAL _z80_otdr_callee
375   0000              	GLOBAL _z80_otdr
376   0000              	GLOBAL _z80_otir_callee
377   0000              	GLOBAL _z80_otir
378   0000              	GLOBAL _z80_outp_callee
379   0000              	GLOBAL _z80_outp
380   0000              	GLOBAL _z80_indr_callee
381   0000              	GLOBAL _z80_indr
382   0000              	GLOBAL _z80_inir_callee
383   0000              	GLOBAL _z80_inir
384   0000              	GLOBAL _z80_inp_fastcall
385   0000              	GLOBAL _z80_inp
386   0000              	GLOBAL _z80_set_int_state_fastcall
387   0000              	GLOBAL _z80_set_int_state
388   0000              	GLOBAL _z80_get_int_state
389   0000              	GLOBAL _z80_delay_tstate_fastcall
390   0000              	GLOBAL _z80_delay_tstate
391   0000              	GLOBAL _z80_delay_ms_fastcall
392   0000              	GLOBAL _z80_delay_ms
393   0000              	GLOBAL _im2_remove_generic_callback_callee
394   0000              	GLOBAL _im2_remove_generic_callback
395   0000              	GLOBAL _im2_prepend_generic_callback_callee
396   0000              	GLOBAL _im2_prepend_generic_callback
397   0000              	GLOBAL _im2_append_generic_callback_callee
398   0000              	GLOBAL _im2_append_generic_callback
399   0000              	GLOBAL _im2_create_generic_isr_8080_callee
400   0000              	GLOBAL _im2_create_generic_isr_8080
401   0000              	GLOBAL _im2_create_generic_isr_callee
402   0000              	GLOBAL _im2_create_generic_isr
403   0000              	GLOBAL _im2_install_isr_callee
404   0000              	GLOBAL _im2_install_isr
405   0000              	GLOBAL _im2_init_fastcall
406   0000              	GLOBAL _im2_init
407   0000              	GLOBAL _ffsll_callee
408   0000              	GLOBAL _ffsll
409   0000              	GLOBAL _strxfrm_callee
410   0000              	GLOBAL _strxfrm
411   0000              	GLOBAL _strupr_fastcall
412   0000              	GLOBAL _strupr
413   0000              	GLOBAL _strtok_r_callee
414   0000              	GLOBAL _strtok_r
415   0000              	GLOBAL _strtok_callee
416   0000              	GLOBAL _strtok
417   0000              	GLOBAL _strstrip_fastcall
418   0000              	GLOBAL _strstrip
419   0000              	GLOBAL _strstr_callee
420   0000              	GLOBAL _strstr
421   0000              	GLOBAL _strspn_callee
422   0000              	GLOBAL _strspn
423   0000              	GLOBAL _strsep_callee
424   0000              	GLOBAL _strsep
425   0000              	GLOBAL _strrstrip_fastcall
426   0000              	GLOBAL _strrstrip
427   0000              	GLOBAL _strrspn_callee
428   0000              	GLOBAL _strrspn
429   0000              	GLOBAL _strrev_fastcall
430   0000              	GLOBAL _strrev
431   0000              	GLOBAL _strrcspn_callee
432   0000              	GLOBAL _strrcspn
433   0000              	GLOBAL _strrchr_callee
434   0000              	GLOBAL _strrchr
435   0000              	GLOBAL _strpbrk_callee
436   0000              	GLOBAL _strpbrk
437   0000              	GLOBAL _strnlen_callee
438   0000              	GLOBAL _strnlen
439   0000              	GLOBAL _strnicmp_callee
440   0000              	GLOBAL _strnicmp
441   0000              	GLOBAL _strndup_callee
442   0000              	GLOBAL _strndup
443   0000              	GLOBAL _strncpy_callee
444   0000              	GLOBAL _strncpy
445   0000              	GLOBAL _strncmp_callee
446   0000              	GLOBAL _strncmp
447   0000              	GLOBAL _strnchr_callee
448   0000              	GLOBAL _strnchr
449   0000              	GLOBAL _strncat_callee
450   0000              	GLOBAL _strncat
451   0000              	GLOBAL _strncasecmp_callee
452   0000              	GLOBAL _strncasecmp
453   0000              	GLOBAL _strlwr_fastcall
454   0000              	GLOBAL _strlwr
455   0000              	GLOBAL _strlen_fastcall
456   0000              	GLOBAL _strlen
457   0000              	GLOBAL _strlcpy_callee
458   0000              	GLOBAL _strlcpy
459   0000              	GLOBAL _strlcat_callee
460   0000              	GLOBAL _strlcat
461   0000              	GLOBAL _stricmp_callee
462   0000              	GLOBAL _stricmp
463   0000              	GLOBAL _strerror_fastcall
464   0000              	GLOBAL _strerror
465   0000              	GLOBAL _strdup_fastcall
466   0000              	GLOBAL _strdup
467   0000              	GLOBAL _strcspn_callee
468   0000              	GLOBAL _strcspn
469   0000              	GLOBAL _strcpy_callee
470   0000              	GLOBAL _strcpy
471   0000              	GLOBAL _strcoll_callee
472   0000              	GLOBAL _strcoll
473   0000              	GLOBAL _strcmp_callee
474   0000              	GLOBAL _strcmp
475   0000              	GLOBAL _strchrnul_callee
476   0000              	GLOBAL _strchrnul
477   0000              	GLOBAL _strchr_callee
478   0000              	GLOBAL _strchr
479   0000              	GLOBAL _strcat_callee
480   0000              	GLOBAL _strcat
481   0000              	GLOBAL _strcasecmp_callee
482   0000              	GLOBAL _strcasecmp
483   0000              	GLOBAL _stpncpy_callee
484   0000              	GLOBAL _stpncpy
485   0000              	GLOBAL _stpcpy_callee
486   0000              	GLOBAL _stpcpy
487   0000              	GLOBAL _memswap_callee
488   0000              	GLOBAL _memswap
489   0000              	GLOBAL _memset_callee
490   0000              	GLOBAL _memset
491   0000              	GLOBAL _memrchr_callee
492   0000              	GLOBAL _memrchr
493   0000              	GLOBAL _memmove_callee
494   0000              	GLOBAL _memmove
495   0000              	GLOBAL _memmem_callee
496   0000              	GLOBAL _memmem
497   0000              	GLOBAL _memcpy_callee
498   0000              	GLOBAL _memcpy
499   0000              	GLOBAL _memcmp_callee
500   0000              	GLOBAL _memcmp
501   0000              	GLOBAL _memchr_callee
502   0000              	GLOBAL _memchr
503   0000              	GLOBAL _memccpy_callee
504   0000              	GLOBAL _memccpy
505   0000              	GLOBAL _ffsl_fastcall
506   0000              	GLOBAL _ffsl
507   0000              	GLOBAL _ffs_fastcall
508   0000              	GLOBAL _ffs
509   0000              	GLOBAL __strrstrip__fastcall
510   0000              	GLOBAL __strrstrip_
511   0000              	GLOBAL __memupr__callee
512   0000              	GLOBAL __memupr_
513   0000              	GLOBAL __memstrcpy__callee
514   0000              	GLOBAL __memstrcpy_
515   0000              	GLOBAL __memlwr__callee
516   0000              	GLOBAL __memlwr_
517   0000              	GLOBAL _rawmemchr_callee
518   0000              	GLOBAL _rawmemchr
519   0000              	GLOBAL _strnset_callee
520   0000              	GLOBAL _strnset
521   0000              	GLOBAL _strset_callee
522   0000              	GLOBAL _strset
523   0000              	GLOBAL _rindex_callee
524   0000              	GLOBAL _rindex
525   0000              	GLOBAL _index_callee
526   0000              	GLOBAL _index
527   0000              	GLOBAL _bzero_callee
528   0000              	GLOBAL _bzero
529   0000              	GLOBAL _bcopy_callee
530   0000              	GLOBAL _bcopy
531   0000              	GLOBAL _bcmp_callee
532   0000              	GLOBAL _bcmp
533   0000              	GLOBAL _ulltoa_callee
534   0000              	GLOBAL _ulltoa
535   0000              	GLOBAL _strtoull_callee
536   0000              	GLOBAL _strtoull
537   0000              	GLOBAL _strtoll_callee
538   0000              	GLOBAL _strtoll
539   0000              	GLOBAL _lltoa_callee
540   0000              	GLOBAL _lltoa
541   0000              	GLOBAL _llabs_callee
542   0000              	GLOBAL _llabs
543   0000              	GLOBAL __lldivu__callee
544   0000              	GLOBAL __lldivu_
545   0000              	GLOBAL __lldiv__callee
546   0000              	GLOBAL __lldiv_
547   0000              	GLOBAL _atoll_callee
548   0000              	GLOBAL _atoll
549   0000              	GLOBAL _realloc_unlocked_callee
550   0000              	GLOBAL _realloc_unlocked
551   0000              	GLOBAL _malloc_unlocked_fastcall
552   0000              	GLOBAL _malloc_unlocked
553   0000              	GLOBAL _free_unlocked_fastcall
554   0000              	GLOBAL _free_unlocked
555   0000              	GLOBAL _calloc_unlocked_callee
556   0000              	GLOBAL _calloc_unlocked
557   0000              	GLOBAL _aligned_alloc_unlocked_callee
558   0000              	GLOBAL _aligned_alloc_unlocked
559   0000              	GLOBAL _realloc_callee
560   0000              	GLOBAL _realloc
561   0000              	GLOBAL _malloc_fastcall
562   0000              	GLOBAL _malloc
563   0000              	GLOBAL _free_fastcall
564   0000              	GLOBAL _free
565   0000              	GLOBAL _calloc_callee
566   0000              	GLOBAL _calloc
567   0000              	GLOBAL _aligned_alloc_callee
568   0000              	GLOBAL _aligned_alloc
569   0000              	GLOBAL _utoa_callee
570   0000              	GLOBAL _utoa
571   0000              	GLOBAL _ultoa_callee
572   0000              	GLOBAL _ultoa
573   0000              	GLOBAL _system_fastcall
574   0000              	GLOBAL _system
575   0000              	GLOBAL _strtoul_callee
576   0000              	GLOBAL _strtoul
577   0000              	GLOBAL _strtol_callee
578   0000              	GLOBAL _strtol
579   0000              	GLOBAL _strtof_callee
580   0000              	GLOBAL _strtof
581   0000              	GLOBAL _strtod_callee
582   0000              	GLOBAL _strtod
583   0000              	GLOBAL _srand_fastcall
584   0000              	GLOBAL _srand
585   0000              	GLOBAL _rand
586   0000              	GLOBAL _quick_exit_fastcall
587   0000              	GLOBAL _quick_exit
588   0000              	GLOBAL _qsort_callee
589   0000              	GLOBAL _qsort
590   0000              	GLOBAL _ltoa_callee
591   0000              	GLOBAL _ltoa
592   0000              	GLOBAL _labs_fastcall
593   0000              	GLOBAL _labs
594   0000              	GLOBAL _itoa_callee
595   0000              	GLOBAL _itoa
596   0000              	GLOBAL _ftoh_callee
597   0000              	GLOBAL _ftoh
598   0000              	GLOBAL _ftog_callee
599   0000              	GLOBAL _ftog
600   0000              	GLOBAL _ftoe_callee
601   0000              	GLOBAL _ftoe
602   0000              	GLOBAL _ftoa_callee
603   0000              	GLOBAL _ftoa
604   0000              	GLOBAL _exit_fastcall
605   0000              	GLOBAL _exit
606   0000              	GLOBAL _dtoh_callee
607   0000              	GLOBAL _dtoh
608   0000              	GLOBAL _dtog_callee
609   0000              	GLOBAL _dtog
610   0000              	GLOBAL _dtoe_callee
611   0000              	GLOBAL _dtoe
612   0000              	GLOBAL _dtoa_callee
613   0000              	GLOBAL _dtoa
614   0000              	GLOBAL _bsearch_callee
615   0000              	GLOBAL _bsearch
616   0000              	GLOBAL _atol_fastcall
617   0000              	GLOBAL _atol
618   0000              	GLOBAL _atoi_fastcall
619   0000              	GLOBAL _atoi
620   0000              	GLOBAL _atof_fastcall
621   0000              	GLOBAL _atof
622   0000              	GLOBAL _atexit_fastcall
623   0000              	GLOBAL _atexit
624   0000              	GLOBAL _at_quick_exit_fastcall
625   0000              	GLOBAL _at_quick_exit
626   0000              	GLOBAL _abs_fastcall
627   0000              	GLOBAL _abs
628   0000              	GLOBAL _abort
629   0000              	GLOBAL __strtou__callee
630   0000              	GLOBAL __strtou_
631   0000              	GLOBAL __strtoi__callee
632   0000              	GLOBAL __strtoi_
633   0000              	GLOBAL __random_uniform_xor_8__fastcall
634   0000              	GLOBAL __random_uniform_xor_8_
635   0000              	GLOBAL __random_uniform_xor_32__fastcall
636   0000              	GLOBAL __random_uniform_xor_32_
637   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
638   0000              	GLOBAL __random_uniform_cmwc_8_
639   0000              	GLOBAL __shellsort__callee
640   0000              	GLOBAL __shellsort_
641   0000              	GLOBAL __quicksort__callee
642   0000              	GLOBAL __quicksort_
643   0000              	GLOBAL __insertion_sort__callee
644   0000              	GLOBAL __insertion_sort_
645   0000              	GLOBAL __ldivu__callee
646   0000              	GLOBAL __ldivu_
647   0000              	GLOBAL __ldiv__callee
648   0000              	GLOBAL __ldiv_
649   0000              	GLOBAL __divu__callee
650   0000              	GLOBAL __divu_
651   0000              	GLOBAL __div__callee
652   0000              	GLOBAL __div_
653   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
654   0000              	GLOBAL _intrinsic_swap_word_32
655   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
656   0000              	GLOBAL _intrinsic_swap_endian_32
657   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
658   0000              	GLOBAL _intrinsic_swap_endian_16
659   0000              	GLOBAL _intrinsic_return_de
660   0000              	GLOBAL _intrinsic_return_bc
661   0000              	GLOBAL _intrinsic_exx
662   0000              	GLOBAL _intrinsic_ex_de_hl
663   0000              	GLOBAL _intrinsic_nop
664   0000              	GLOBAL _intrinsic_im_2
665   0000              	GLOBAL _intrinsic_im_1
666   0000              	GLOBAL _intrinsic_im_0
667   0000              	GLOBAL _intrinsic_retn
668   0000              	GLOBAL _intrinsic_reti
669   0000              	GLOBAL _intrinsic_halt
670   0000              	GLOBAL _intrinsic_ei
671   0000              	GLOBAL _intrinsic_di
672   0000              	GLOBAL _intrinsic_stub
673   0000              	GLOBAL _intrinsic_outi
674   0000              	GLOBAL _intrinsic_ldi
675   0000              	GLOBAL _zx_pattern_fill_callee
676   0000              	GLOBAL _zx_pattern_fill
677   0000              	GLOBAL _zx_saddrpup_fastcall
678   0000              	GLOBAL _zx_saddrpup
679   0000              	GLOBAL _zx_saddrpright_callee
680   0000              	GLOBAL _zx_saddrpright
681   0000              	GLOBAL _zx_saddrpleft_callee
682   0000              	GLOBAL _zx_saddrpleft
683   0000              	GLOBAL _zx_saddrpdown_fastcall
684   0000              	GLOBAL _zx_saddrpdown
685   0000              	GLOBAL _zx_saddrcup_fastcall
686   0000              	GLOBAL _zx_saddrcup
687   0000              	GLOBAL _zx_saddrcright_fastcall
688   0000              	GLOBAL _zx_saddrcright
689   0000              	GLOBAL _zx_saddrcleft_fastcall
690   0000              	GLOBAL _zx_saddrcleft
691   0000              	GLOBAL _zx_saddrcdown_fastcall
692   0000              	GLOBAL _zx_saddrcdown
693   0000              	GLOBAL _zx_saddr2py_fastcall
694   0000              	GLOBAL _zx_saddr2py
695   0000              	GLOBAL _zx_saddr2px_fastcall
696   0000              	GLOBAL _zx_saddr2px
697   0000              	GLOBAL _zx_saddr2cy_fastcall
698   0000              	GLOBAL _zx_saddr2cy
699   0000              	GLOBAL _zx_saddr2cx_fastcall
700   0000              	GLOBAL _zx_saddr2cx
701   0000              	GLOBAL _zx_saddr2aaddr_fastcall
702   0000              	GLOBAL _zx_saddr2aaddr
703   0000              	GLOBAL _zx_py2saddr_fastcall
704   0000              	GLOBAL _zx_py2saddr
705   0000              	GLOBAL _zx_py2aaddr_fastcall
706   0000              	GLOBAL _zx_py2aaddr
707   0000              	GLOBAL _zx_pxy2saddr_callee
708   0000              	GLOBAL _zx_pxy2saddr
709   0000              	GLOBAL _zx_pxy2aaddr_callee
710   0000              	GLOBAL _zx_pxy2aaddr
711   0000              	GLOBAL _zx_px2bitmask_fastcall
712   0000              	GLOBAL _zx_px2bitmask
713   0000              	GLOBAL _zx_cy2saddr_fastcall
714   0000              	GLOBAL _zx_cy2saddr
715   0000              	GLOBAL _zx_cy2aaddr_fastcall
716   0000              	GLOBAL _zx_cy2aaddr
717   0000              	GLOBAL _zx_cxy2saddr_callee
718   0000              	GLOBAL _zx_cxy2saddr
719   0000              	GLOBAL _zx_cxy2aaddr_callee
720   0000              	GLOBAL _zx_cxy2aaddr
721   0000              	GLOBAL _zx_bitmask2px_fastcall
722   0000              	GLOBAL _zx_bitmask2px
723   0000              	GLOBAL _zx_aaddrcup_fastcall
724   0000              	GLOBAL _zx_aaddrcup
725   0000              	GLOBAL _zx_aaddrcright_fastcall
726   0000              	GLOBAL _zx_aaddrcright
727   0000              	GLOBAL _zx_aaddrcleft_fastcall
728   0000              	GLOBAL _zx_aaddrcleft
729   0000              	GLOBAL _zx_aaddrcdown_fastcall
730   0000              	GLOBAL _zx_aaddrcdown
731   0000              	GLOBAL _zx_aaddr2saddr_fastcall
732   0000              	GLOBAL _zx_aaddr2saddr
733   0000              	GLOBAL _zx_aaddr2py_fastcall
734   0000              	GLOBAL _zx_aaddr2py
735   0000              	GLOBAL _zx_aaddr2px_fastcall
736   0000              	GLOBAL _zx_aaddr2px
737   0000              	GLOBAL _zx_aaddr2cy_fastcall
738   0000              	GLOBAL _zx_aaddr2cy
739   0000              	GLOBAL _zx_aaddr2cx_fastcall
740   0000              	GLOBAL _zx_aaddr2cx
741   0000              	GLOBAL _zx_visit_wc_pix_callee
742   0000              	GLOBAL _zx_visit_wc_pix
743   0000              	GLOBAL _zx_visit_wc_attr_callee
744   0000              	GLOBAL _zx_visit_wc_attr
745   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
746   0000              	GLOBAL _zx_scroll_wc_up_pix
747   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
748   0000              	GLOBAL _zx_scroll_wc_up_attr
749   0000              	GLOBAL _zx_scroll_wc_up_callee
750   0000              	GLOBAL _zx_scroll_wc_up
751   0000              	GLOBAL _zx_scroll_up_pix_callee
752   0000              	GLOBAL _zx_scroll_up_pix
753   0000              	GLOBAL _zx_scroll_up_attr_callee
754   0000              	GLOBAL _zx_scroll_up_attr
755   0000              	GLOBAL _zx_scroll_up_callee
756   0000              	GLOBAL _zx_scroll_up
757   0000              	GLOBAL _zx_cls_wc_pix_callee
758   0000              	GLOBAL _zx_cls_wc_pix
759   0000              	GLOBAL _zx_cls_wc_attr_callee
760   0000              	GLOBAL _zx_cls_wc_attr
761   0000              	GLOBAL _zx_cls_wc_callee
762   0000              	GLOBAL _zx_cls_wc
763   0000              	GLOBAL _zx_cls_pix_fastcall
764   0000              	GLOBAL _zx_cls_pix
765   0000              	GLOBAL _zx_cls_attr_fastcall
766   0000              	GLOBAL _zx_cls_attr
767   0000              	GLOBAL _zx_cls_fastcall
768   0000              	GLOBAL _zx_cls
769   0000              	GLOBAL _zx_border_fastcall
770   0000              	GLOBAL _zx_border
771   0000              	GLOBAL _g_hit_right
772   0000              	GLOBAL _g_hit_left
773   0000              	GLOBAL _joynames
774   0000              	GLOBAL _initials
775   0000              	GLOBAL _score_osd_tile
776   0000              	GLOBAL _score_osd_update_time
777   0000              	GLOBAL _score_osd_col
778   0000              	GLOBAL _score_osd_lin
779   0000              	GLOBAL _phase_bonus_total
780   0000              	GLOBAL _phase_angry
781   0000              	GLOBAL _phase_curr
782   0000              	GLOBAL _phase_end
783   0000              	GLOBAL _phase_coins
784   0000              	GLOBAL _phase_pop
785   0000              	GLOBAL _phase_tot
786   0000              	GLOBAL _phase_left
787   0000              	GLOBAL _phase_quota
788   0000              	GLOBAL _lvl_1
789   0000              	GLOBAL _sprite_speed_alt
790   0000              	GLOBAL _sprite_speed
791   0000              	GLOBAL _screen_ink
792   0000              	GLOBAL _screen_paper
793   0000              	GLOBAL _game_menu_sel
794   0000              	GLOBAL _game_type
795   0000              	GLOBAL _game_osd
796   0000              	GLOBAL _game_bonus
797   0000              	GLOBAL _spr_water_time
798   0000              	GLOBAL _spr_water_clear
799   0000              	GLOBAL _game_time_fireball_start
800   0000              	GLOBAL _game_time_flipped
801   0000              	GLOBAL _game_score_top
802   0000              	GLOBAL _game_lives
803   0000              	GLOBAL _game_over
804   0000              	GLOBAL _game_sound
805   0000              	GLOBAL _game_inmune
806   0000              	GLOBAL _game_god_mode
807   0000              	GLOBAL _game_start_phase
808   0000              	GLOBAL _game_two_player
809   0000              	GLOBAL _game_brick_tile
810   0000              	GLOBAL _spr_count
811   0000              	GLOBAL _osd_show_time
812   0000              	GLOBAL _osd_update_time
813   0000              	GLOBAL _frame_time
814   0000              	GLOBAL _entry_time
815   0000              	GLOBAL _curr_time
816   0000              	GLOBAL _s_state
817   0000              	GLOBAL _attrib_hl
818   0000              	GLOBAL _attrib
819   0000              	GLOBAL _zx_val_asm
820   0000              	GLOBAL _enemies
821   0000              	GLOBAL _tmp_ui
822   0000              	GLOBAL _tmp_sc
823   0000              	GLOBAL _tmp_uc
824   0000              	GLOBAL _tmp1
825   0000              	GLOBAL _tmp0
826   0000              	GLOBAL _tmp
827   0000              	GLOBAL _index1
828   0000              	GLOBAL _loop_count
829   0000              	GLOBAL _sprite_lin_inc_mul
830   0000              	GLOBAL _s_col1
831   0000              	GLOBAL _s_col0
832   0000              	GLOBAL _s_lin1
833   0000              	GLOBAL _s_lin0
834   0000              	GLOBAL _s_tile1
835   0000              	GLOBAL _s_tile0
836   0000              	GLOBAL _hit_count
837   0000              	GLOBAL _index_player
838   0000              	GLOBAL _sprite
839   0000              	GLOBAL _player_joy
840   0000              	GLOBAL _player_next_extra
841   0000              	GLOBAL _player_score
842   0000              	GLOBAL _last_time
843   0000              	GLOBAL _sliding
844   0000              	GLOBAL _spr_timer
845   0000              	GLOBAL _jump_lin
846   0000              	GLOBAL _player_jump_c
847   0000              	GLOBAL _hit_col
848   0000              	GLOBAL _hit_lin
849   0000              	GLOBAL _colint
850   0000              	GLOBAL _col
851   0000              	GLOBAL _lin
852   0000              	GLOBAL _tile
853   0000              	GLOBAL _state_a
854   0000              	GLOBAL _state
855   0000              	GLOBAL _class
856   0000              	GLOBAL _tbuffer
857   0000              	GLOBAL _dirs
858   0000              	GLOBAL _sprites
859   0000              	GLOBAL _k2
860   0000              	GLOBAL _k1
861   0000              	GLOBAL _joyfunc2
862   0000              	GLOBAL _joyfunc1
863   0000              	GLOBAL _btiles
864   0000              	GLOBAL _spec128
865   0000              	GLOBAL _ay_effect_20
866   0000              	GLOBAL _ay_effect_19
867   0000              	GLOBAL _ay_effect_18
868   0000              	GLOBAL _ay_effect_17
869   0000              	GLOBAL _ay_effect_16
870   0000              	GLOBAL _ay_effect_15
871   0000              	GLOBAL _ay_effect_14
872   0000              	GLOBAL _ay_effect_13
873   0000              	GLOBAL _ay_effect_12
874   0000              	GLOBAL _ay_effect_11
875   0000              	GLOBAL _ay_effect_10
876   0000              	GLOBAL _ay_effect_09
877   0000              	GLOBAL _ay_effect_08
878   0000              	GLOBAL _ay_effect_07
879   0000              	GLOBAL _ay_effect_06
880   0000              	GLOBAL _ay_effect_05
881   0000              	GLOBAL _ay_effect_04
882   0000              	GLOBAL _ay_effect_03
883   0000              	GLOBAL _ay_effect_02
884   0000              	GLOBAL _ay_effect_01
885   0000              	GLOBAL _pb_midi_phase_1
886   0000              	GLOBAL _pb_midi_title
887   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
888   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
889   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
890   0000              	GLOBAL _NIRVANAP_HOLE
891   0000              	GLOBAL _NIRVANAP_ISR_HOOK
892   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
893   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
894   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
895   0000              	GLOBAL _control_method
896   0000              ;--------------------------------------------------------
897   0000              ; special function registers
898   0000              ;--------------------------------------------------------
899   0000              defc _IO_FE	=	0x00fe
900   0000              defc _IO_1FFD	=	0x1ffd
901   0000              defc _IO_7FFD	=	0x7ffd
902   0000              ;--------------------------------------------------------
903   0000              ; ram data
904   0000              ;--------------------------------------------------------
905   0000              	SECTION bss_compiler
906   0000              ;--------------------------------------------------------
907   0000              ; ram data
908   0000              ;--------------------------------------------------------
909   0000              
910   0000              IF 0
911   0000              
912   0000              ; .area _INITIALIZED removed by z88dk
913   0000              
914   0000              
915   0000              ENDIF
916   0000              
917   0000              ;--------------------------------------------------------
918   0000              ; absolute external ram data
919   0000              ;--------------------------------------------------------
920   0000              	SECTION IGNORE
921   0000              ;--------------------------------------------------------
922   0000              ; global & static initialisations
923   0000              ;--------------------------------------------------------
924   0000              	SECTION code_crt_init
925   0000              ;--------------------------------------------------------
926   0000              ; Home
927   0000              ;--------------------------------------------------------
928   0000              	SECTION IGNORE
929   0000              ;--------------------------------------------------------
930   0000              ; code
931   0000              ;--------------------------------------------------------
932   0000              	SECTION code_compiler
933   0000              ;	---------------------------------
934   0000              ; Function game_print_footer
935   0000              ; ---------------------------------
936   0000              _game_print_footer:
937   0000  21 00 00    	ld	hl,___str_0
938   0003  E5          	push	hl
939   0004  21 16 01    	ld	hl,0x0116
940   0007  E5          	push	hl
941   0008  CD 00 00    	call	_zx_print_str
942   000B  21 00 00    	ld	hl,___str_0
943   000E  E5          	push	hl
944   000F  21 16 1E    	ld	hl,0x1e16
945   0012  E5          	push	hl
946   0013  CD 00 00    	call	_zx_print_str
947   0016  21 02 00    	ld	hl,___str_1
948   0019  E5          	push	hl
949   001A  21 17 01    	ld	hl,0x0117
950   001D  E5          	push	hl
951   001E  CD 00 00    	call	_zx_print_str
952   0021  21 02 00    	ld	hl,___str_1
953   0024  E5          	push	hl
954   0025  21 17 1E    	ld	hl,0x1e17
955   0028  E5          	push	hl
956   0029  CD 00 00    	call	_zx_print_str
957   002C  3A 00 00    	ld	a,(_game_lives)
958   002F  B7          	or	a, a
959   0030  28 20       	jr	Z,l_game_print_footer_00102
960   0032  21 00 00    	ld	hl,_screen_ink
961   0035  36 02       	ld	(hl),0x02
962   0037  21 08 00    	ld	hl,___str_2
963   003A  E5          	push	hl
964   003B  21 16 01    	ld	hl,0x0116
965   003E  E5          	push	hl
966   003F  CD 00 00    	call	_zx_print_str
967   0042  21 00 00    	ld	hl,_screen_ink
968   0045  36 06       	ld	(hl),0x06
969   0047  21 0A 00    	ld	hl,___str_3
970   004A  E5          	push	hl
971   004B  21 17 01    	ld	hl,0x0117
972   004E  E5          	push	hl
973   004F  CD 00 00    	call	_zx_print_str
974   0052              l_game_print_footer_00102:
975   0052  CD 77 00    	call	_game_print_lives
976   0055  C9          	ret
977   0056              	SECTION rodata_compiler
978   0000              ___str_0:
979   0000  20          	DEFM " "
980   0001  00          	DEFB 0x00
981   0002              	SECTION rodata_compiler
982   0002              ___str_1:
983   0002  20 20 20 20 20 
                        	DEFM "     "
984   0007  00          	DEFB 0x00
985   0008              	SECTION rodata_compiler
986   0008              ___str_2:
987   0008  3C          	DEFM "<"
988   0009  00          	DEFB 0x00
989   000A              	SECTION rodata_compiler
990   000A              ___str_3:
991   000A  5C          	DEFB 0x5c
992   000B  00          	DEFB 0x00
993   000C              	SECTION code_compiler
994   0056              ;	---------------------------------
995   0056              ; Function game_phase_print_score_back
996   0056              ; ---------------------------------
997   0056              _game_phase_print_score_back:
998   0056  21 00 00    	ld	hl,_screen_ink
999   0059  36 02       	ld	(hl),0x02
1000  005B  21 0C 00    	ld	hl,___str_4
1001  005E  E5          	push	hl
1002  005F  21 00 0B    	ld	hl,0x0b00
1003  0062  E5          	push	hl
1004  0063  CD 00 00    	call	_zx_print_str
1005  0066  21 00 00    	ld	hl,_screen_ink
1006  0069  36 01       	ld	(hl),0x01
1007  006B  21 10 00    	ld	hl,___str_5
1008  006E  E5          	push	hl
1009  006F  21 00 01    	ld	hl,0x0100
1010  0072  E5          	push	hl
1011  0073  CD 00 00    	call	_zx_print_str
1012  0076  C9          	ret
1013  0077              	SECTION rodata_compiler
1014  000C              ___str_4:
1015  000C  24 25 7C    	DEFM "$%|"
1016  000F  00          	DEFB 0x00
1017  0010              	SECTION rodata_compiler
1018  0010              ___str_5:
1019  0010  5B 7C       	DEFM "[|"
1020  0012  00          	DEFB 0x00
1021  0013              	SECTION code_compiler
1022  0077              ;	---------------------------------
1023  0077              ; Function game_print_lives
1024  0077              ; ---------------------------------
1025  0077              _game_print_lives:
1026  0077  21 00 00    	ld	hl,_screen_ink
1027  007A  36 07       	ld	(hl),0x07
1028  007C  3A 00 00    	ld	a,(_game_lives)
1029  007F  C6 FF       	add	a,0xff
1030  0081  21 00 00    	ld	hl,_tmp
1031  0084  77          	ld	(hl),a
1032  0085  D6 FF       	sub	a,0xff
1033  0087  D0          	ret	NC
1034  0088  7E          	ld	a, (hl)
1035  0089  F5          	push	af
1036  008A  33          	inc	sp
1037  008B  21 17 03    	ld	hl,0x0317
1038  008E  E5          	push	hl
1039  008F  CD 00 00    	call	_zx_print_chr
1040  0092  C9          	ret
1041  0093              	SECTION code_compiler
1042  0093              ;	---------------------------------
1043  0093              ; Function game_tick
1044  0093              ; ---------------------------------
1045  0093              _game_tick:
1046  0093  21 00 00    	ld	hl,_curr_time
1047  0096  34          	inc	(hl)
1048  0097  C2 00 00    	jp	NZ,_zx_isr
1049  009A  23          	inc	hl
1050  009B  34          	inc	(hl)
1051  009C  C3 00 00    	jp  _zx_isr
1052  009F              	SECTION code_compiler
1053  009F              ;	---------------------------------
1054  009F              ; Function game_start_timer
1055  009F              ; ---------------------------------
1056  009F              _game_start_timer:
1057  009F  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1058  00A2  36 CD       	ld	(hl),0xcd
1059  00A4  23          	inc	hl
1060  00A5  11 93 00    	ld	de,_game_tick
1061  00A8  73          	ld	(hl), e
1062  00A9  23          	inc	hl
1063  00AA  72          	ld	(hl), d
1064  00AB  C9          	ret
1065  00AC              	SECTION code_compiler
1066  00AC              ;	---------------------------------
1067  00AC              ; Function game_phase_init
1068  00AC              ; ---------------------------------
1069  00AC              _game_phase_init:
1070  00AC  21 00 00    	ld	hl,0x0000
1071  00AF  22 00 00    	ld	(_loop_count),hl
1072  00B2  21 00 00    	ld	hl,_phase_end
1073  00B5  36 00       	ld	(hl),0x00
1074  00B7  21 00 00    	ld	hl,_phase_angry
1075  00BA  36 00       	ld	(hl),0x00
1076  00BC  21 00 00    	ld	hl,_phase_coins
1077  00BF  36 00       	ld	(hl),0x00
1078  00C1  21 00 00    	ld	hl,_phase_pop
1079  00C4  36 00       	ld	(hl),0x00
1080  00C6  21 00 00    	ld	hl,_game_bonus
1081  00C9  36 00       	ld	(hl),0x00
1082  00CB  21 00 00    	ld	hl,0x0000
1083  00CE  22 00 00    	ld	(_entry_time),hl
1084  00D1  21 00 00    	ld	hl,0
1085  00D4  22 00 00    	ld	(_curr_time),hl
1086  00D7  21 00 00    	ld	hl,0x0000
1087  00DA  22 00 00    	ld	(_frame_time),hl
1088  00DD  21 FF FF    	ld	hl,0xffff
1089  00E0  22 00 00    	ld	(_score_osd_col),hl
1090  00E3  21 00 00    	ld	hl,_spr_count
1091  00E6  36 00       	ld	(hl),0x00
1092  00E8  CD 00 00    	call	_ay_reset
1093  00EB  CD 00 00    	call	_spr_draw_clear
1094  00EE  2E 00       	ld	l,0x00
1095  00F0  CD 00 00    	call	_zx_cls_fastcall
1096  00F3  CD 00 00    	call	_spr_draw_background
1097  00F6  CD 1E 01    	call	_game_print_header
1098  00F9  CD 00 00    	call	_game_print_footer
1099  00FC  3A 00 00    	ld	a,(_game_lives)
1100  00FF  B7          	or	a, a
1101  0100  28 0D       	jr	Z,l_game_phase_init_00102
1102  0102  21 0A 58    	ld	hl,0x580a
1103  0105  E5          	push	hl
1104  0106  21 07 80    	ld	hl,0x8007
1105  0109  E5          	push	hl
1106  010A  CD 00 00    	call	_player_init
1107  010D  F1          	pop	af
1108  010E  F1          	pop	af
1109  010F              l_game_phase_init_00102:
1110  010F  21 00 00    	ld	hl,_game_osd
1111  0112  36 01       	ld	(hl),0x01
1112  0114  2A 00 00    	ld	hl,(_curr_time)
1113  0117  22 00 00    	ld	(_osd_update_time),hl
1114  011A  22 00 00    	ld	(_osd_show_time),hl
1115  011D  C9          	ret
1116  011E              	SECTION code_compiler
1117  011E              ;	---------------------------------
1118  011E              ; Function game_print_header
1119  011E              ; ---------------------------------
1120  011E              _game_print_header:
1121  011E  CD 56 00    	call	_game_phase_print_score_back
1122  0121  21 00 00    	ld	hl,_screen_ink
1123  0124  36 07       	ld	(hl),0x07
1124  0126  C3 E3 03    	jp  _game_print_score
1125  0129              	SECTION code_compiler
1126  0129              ;	---------------------------------
1127  0129              ; Function game_loop
1128  0129              ; ---------------------------------
1129  0129              _game_loop:
1130  0129  21 00 00    	ld	hl,_ay_effect_10
1131  012C  CD 00 00    	call	_ay_fx_play
1132  012F  CD 00 00    	call	_sound_coin
1133  0132  21 C8 00    	ld	hl,0x00c8
1134  0135  CD 00 00    	call	_z80_delay_ms_fastcall
1135  0138  21 16 20    	ld	hl,0x2016
1136  013B  E5          	push	hl
1137  013C  CD 00 00    	call	_game_fill_row
1138  013F  CD 00 00    	call	_ay_reset
1139  0142  21 00 00    	ld	hl,_game_lives+0
1140  0145  36 04       	ld	(hl),0x04
1141  0147  23          	inc	hl
1142  0148  AF          	xor	a,a
1143  0149  77          	ld	(hl),a
1144  014A  21 00 00    	ld	hl,0x0000
1145  014D  22 00 00    	ld	(_player_score), hl
1146  0150  2E 00       	ld	l,0x00
1147  0152  22 02 00    	ld	(_player_score + 0x0002),hl
1148  0155  21 D0 07    	ld	hl,0x07d0
1149  0158  22 00 00    	ld	(_player_next_extra), hl
1150  015B  2E D0       	ld	l,0xd0
1151  015D  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1152  0160  21 00 00    	ld	hl,_game_over
1153  0163  36 00       	ld	(hl),0x00
1154  0165  3A 00 00    	ld	a,(_game_start_phase)
1155  0168  32 00 00    	ld	(_phase_curr),a
1156  016B  CD AC 00    	call	_game_phase_init
1157  016E  21 00 00    	ld	hl,_sprite_lin_inc_mul
1158  0171  36 00       	ld	(hl),0x00
1159  0173  21 00 00    	ld	hl,_dirs
1160  0176  36 00       	ld	(hl),0x00
1161  0178  CD 81 06    	call	_game_joystick_set
1162  017B              l_game_loop_00112:
1163  017B  3A 00 00    	ld	a,(_game_over)
1164  017E  B7          	or	a, a
1165  017F  20 75       	jr	NZ,l_game_loop_00114
1166  0181  3A 00 00    	ld	a,(_loop_count)
1167  0184  E6 03       	and	a,0x03
1168  0186  20 0F       	jr	NZ,l_game_loop_00102
1169  0188  AF          	xor	a, a
1170  0189  F5          	push	af
1171  018A  33          	inc	sp
1172  018B  CD 79 02    	call	_game_score_osd
1173  018E  33          	inc	sp
1174  018F  3E 01       	ld	a,0x01
1175  0191  F5          	push	af
1176  0192  33          	inc	sp
1177  0193  CD 79 02    	call	_game_score_osd
1178  0196  33          	inc	sp
1179  0197              l_game_loop_00102:
1180  0197  21 00 00    	ld	hl,_sprite
1181  019A  36 07       	ld	(hl),0x07
1182  019C  21 00 00    	ld	hl,_index_player
1183  019F  36 00       	ld	(hl),0x00
1184  01A1  CD 00 00    	call	_player_turn
1185  01A4  CD 00 00    	call	_enemy_turn
1186  01A7  21 64 00    	ld	hl,0x0064
1187  01AA  E5          	push	hl
1188  01AB  2A 00 00    	ld	hl,(_frame_time)
1189  01AE  E5          	push	hl
1190  01AF  CD 57 0A    	call	_game_check_time
1191  01B2  F1          	pop	af
1192  01B3  F1          	pop	af
1193  01B4  7D          	ld	a, l
1194  01B5  B7          	or	a, a
1195  01B6  28 33       	jr	Z,l_game_loop_00111
1196  01B8  2A 00 00    	ld	hl,(_curr_time)
1197  01BB  22 00 00    	ld	(_frame_time),hl
1198  01BE  3A 00 00    	ld	a,(_phase_end)
1199  01C1  3D          	dec	a
1200  01C2  20 27       	jr	NZ,l_game_loop_00111
1201  01C4  CD 00 00    	call	_ay_is_playing
1202  01C7  7D          	ld	a, l
1203  01C8  D6 02       	sub	a,0x02
1204  01CA  30 03       	jr	NC,l_game_loop_00104
1205  01CC  CD 00 00    	call	_ay_reset
1206  01CF              l_game_loop_00104:
1207  01CF  21 00 00    	ld	hl,_phase_curr
1208  01D2  34          	inc	(hl)
1209  01D3  3E 1F       	ld	a,0x1f
1210  01D5  96          	sub	a, (hl)
1211  01D6  30 0A       	jr	NC,l_game_loop_00106
1212  01D8  CD 00 00    	call	_game_end
1213  01DB  21 00 00    	ld	hl,_game_over
1214  01DE  36 01       	ld	(hl),0x01
1215  01E0  18 09       	jr	l_game_loop_00111
1216  01E2              l_game_loop_00106:
1217  01E2  21 90 01    	ld	hl,0x0190
1218  01E5  CD 00 00    	call	_z80_delay_ms_fastcall
1219  01E8  CD AC 00    	call	_game_phase_init
1220  01EB              l_game_loop_00111:
1221  01EB  21 00 00    	ld	hl,_loop_count
1222  01EE  34          	inc	(hl)
1223  01EF  20 8A       	jr	NZ,l_game_loop_00112
1224  01F1  23          	inc	hl
1225  01F2  34          	inc	(hl)
1226  01F3  C3 7B 01    	jp	l_game_loop_00112
1227  01F6              l_game_loop_00114:
1228  01F6  3A 00 00    	ld	a,(_score_osd_col)
1229  01F9  47          	ld	b,a
1230  01FA  3C          	inc	a
1231  01FB  28 0B       	jr	Z,l_game_loop_00116
1232  01FD  21 00 00    	ld	hl,_score_osd_lin
1233  0200  4E          	ld	c, (hl)
1234  0201  C5          	push	bc
1235  0202  AF          	xor	a, a
1236  0203  F5          	push	af
1237  0204  33          	inc	sp
1238  0205  CD 00 00    	call	_NIRVANAP_drawT_callee
1239  0208              l_game_loop_00116:
1240  0208  3A 01 00    	ld	a,(_score_osd_col + 1)
1241  020B  47          	ld	b,a
1242  020C  3C          	inc	a
1243  020D  28 0B       	jr	Z,l_game_loop_00118
1244  020F  21 01 00    	ld	hl,+(_score_osd_lin + 0x0001)
1245  0212  4E          	ld	c, (hl)
1246  0213  C5          	push	bc
1247  0214  AF          	xor	a, a
1248  0215  F5          	push	af
1249  0216  33          	inc	sp
1250  0217  CD 00 00    	call	_NIRVANAP_drawT_callee
1251  021A              l_game_loop_00118:
1252  021A  CD 00 00    	call	_spr_kill_all
1253  021D  21 90 01    	ld	hl,0x0190
1254  0220  CD 00 00    	call	_z80_delay_ms_fastcall
1255  0223  76          	halt
1256  0224  CD 00 00    	call	_spr_draw_background
1257  0227  CD 1E 01    	call	_game_print_header
1258  022A  CD 00 00    	call	_game_print_footer
1259  022D  CD 5F 02    	call	_game_print_phase
1260  0230  21 13 00    	ld	hl,___str_6
1261  0233  E5          	push	hl
1262  0234  21 08 0B    	ld	hl,0x0b08
1263  0237  E5          	push	hl
1264  0238  CD 00 00    	call	_zx_print_str
1265  023B  21 C8 00    	ld	hl,0x00c8
1266  023E  E5          	push	hl
1267  023F  21 0B 15    	ld	hl,0x150b
1268  0242  E5          	push	hl
1269  0243  3E 08       	ld	a,0x08
1270  0245  F5          	push	af
1271  0246  33          	inc	sp
1272  0247  CD C5 09    	call	_game_colour_message
1273  024A  F1          	pop	af
1274  024B  F1          	pop	af
1275  024C  33          	inc	sp
1276  024D  CD 00 00    	call	_spr_draw_clear
1277  0250  CD 00 00    	call	_ay_reset
1278  0253  21 00 00    	ld	hl,_game_menu_sel
1279  0256  36 00       	ld	(hl),0x00
1280  0258  CD 73 07    	call	_game_menu_paint
1281  025B  CD 74 06    	call	_game_joystick_set_menu
1282  025E  C9          	ret
1283  025F              	SECTION rodata_compiler
1284  0013              ___str_6:
1285  0013  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1286  001E  00          	DEFB 0x00
1287  001F              	SECTION code_compiler
1288  025F              ;	---------------------------------
1289  025F              ; Function game_print_phase
1290  025F              ; ---------------------------------
1291  025F              _game_print_phase:
1292  025F  21 1F 00    	ld	hl,___str_7
1293  0262  E5          	push	hl
1294  0263  21 17 0B    	ld	hl,0x0b17
1295  0266  E5          	push	hl
1296  0267  CD 00 00    	call	_zx_print_str
1297  026A  21 00 00    	ld	hl,_phase_curr
1298  026D  46          	ld	b, (hl)
1299  026E  04          	inc	b
1300  026F  C5          	push	bc
1301  0270  33          	inc	sp
1302  0271  21 17 12    	ld	hl,0x1217
1303  0274  E5          	push	hl
1304  0275  CD 00 00    	call	_zx_print_chr
1305  0278  C9          	ret
1306  0279              	SECTION rodata_compiler
1307  001F              ___str_7:
1308  001F  50 48 41 53 45 
                        	DEFM "PHASE"
1309  0024  00          	DEFB 0x00
1310  0025              	SECTION code_compiler
1311  0279              ;	---------------------------------
1312  0279              ; Function game_score_osd
1313  0279              ; ---------------------------------
1314  0279              _game_score_osd:
1315  0279  CD 00 00    	call	___sdcc_enter_ix
1316  027C  F5          	push	af
1317  027D  F5          	push	af
1318  027E  3B          	dec	sp
1319  027F  11 00 00    	ld	de,_score_osd_col
1320  0282  DD 6E 04    	ld	l,(ix+4)
1321  0285  26 00       	ld	h,0x00
1322  0287  19          	add	hl,de
1323  0288  DD 75 FE    	ld	(ix-2),l
1324  028B  DD 74 FF    	ld	(ix-1),h
1325  028E  7E          	ld	a,(hl)
1326  028F  47          	ld	b,a
1327  0290  3C          	inc	a
1328  0291  CA 35 03    	jp	Z,l_game_score_osd_00108
1329  0294  11 00 00    	ld	de,_score_osd_lin
1330  0297  DD 6E 04    	ld	l,(ix+4)
1331  029A  26 00       	ld	h,0x00
1332  029C  19          	add	hl,de
1333  029D  DD 75 FC    	ld	(ix-4),l
1334  02A0  DD 74 FD    	ld	(ix-3),h
1335  02A3  7E          	ld	a, (hl)
1336  02A4  C6 FE       	add	a,0xfe
1337  02A6  32 00 00    	ld	(_tmp),a
1338  02A9  4F          	ld	c,a
1339  02AA  C5          	push	bc
1340  02AB  CD 00 00    	call	_spr_calc_index
1341  02AE  F1          	pop	af
1342  02AF  22 00 00    	ld	(_index1),hl
1343  02B2  01 00 00    	ld	bc,_lvl_1
1344  02B5  09          	add	hl,bc
1345  02B6  5E          	ld	e, (hl)
1346  02B7  21 01 00    	ld	hl,_index1 + 1
1347  02BA  DD 4E 04    	ld	c,(ix+4)
1348  02BD  06 00       	ld	b,0x00
1349  02BF  CB 21       	sla	c
1350  02C1  CB 10       	rl	b
1351  02C3  7B          	ld	a, e
1352  02C4  B7          	or	a, a
1353  02C5  20 3B       	jr	NZ,l_game_score_osd_00102
1354  02C7  56          	ld	d,(hl)
1355  02C8  2B          	dec	hl
1356  02C9  5E          	ld	e,(hl)
1357  02CA  13          	inc	de
1358  02CB  21 00 00    	ld	hl,_lvl_1
1359  02CE  19          	add	hl, de
1360  02CF  7E          	ld	a, (hl)
1361  02D0  B7          	or	a, a
1362  02D1  20 2F       	jr	NZ,l_game_score_osd_00102
1363  02D3  76          	halt
1364  02D4  DD 6E FE    	ld	l,(ix-2)
1365  02D7  DD 66 FF    	ld	h,(ix-1)
1366  02DA  7E          	ld	a, (hl)
1367  02DB  DD 77 FB    	ld	(ix-5),a
1368  02DE  DD 6E FC    	ld	l,(ix-4)
1369  02E1  DD 66 FD    	ld	h,(ix-3)
1370  02E4  5E          	ld	e, (hl)
1371  02E5  21 00 00    	ld	hl,_score_osd_tile
1372  02E8  09          	add	hl, bc
1373  02E9  56          	ld	d, (hl)
1374  02EA  C5          	push	bc
1375  02EB  DD 7E FB    	ld	a,(ix-5)
1376  02EE  F5          	push	af
1377  02EF  33          	inc	sp
1378  02F0  7B          	ld	a, e
1379  02F1  5A          	ld	e,d
1380  02F2  57          	ld	d,a
1381  02F3  D5          	push	de
1382  02F4  CD 00 00    	call	_NIRVANAP_drawT_callee
1383  02F7  C1          	pop	bc
1384  02F8  DD 6E FC    	ld	l,(ix-4)
1385  02FB  DD 66 FD    	ld	h,(ix-3)
1386  02FE  3A 00 00    	ld	a,(_tmp)
1387  0301  77          	ld	(hl),a
1388  0302              l_game_score_osd_00102:
1389  0302  21 00 00    	ld	hl,_score_osd_update_time
1390  0305  09          	add	hl, bc
1391  0306  4E          	ld	c, (hl)
1392  0307  23          	inc	hl
1393  0308  46          	ld	b, (hl)
1394  0309  21 3C 00    	ld	hl,0x003c
1395  030C  E5          	push	hl
1396  030D  C5          	push	bc
1397  030E  CD 57 0A    	call	_game_check_time
1398  0311  F1          	pop	af
1399  0312  F1          	pop	af
1400  0313  7D          	ld	a, l
1401  0314  B7          	or	a, a
1402  0315  28 1E       	jr	Z,l_game_score_osd_00108
1403  0317  DD 6E FE    	ld	l,(ix-2)
1404  031A  DD 66 FF    	ld	h,(ix-1)
1405  031D  46          	ld	b, (hl)
1406  031E  DD 6E FC    	ld	l,(ix-4)
1407  0321  DD 66 FD    	ld	h,(ix-3)
1408  0324  4E          	ld	c, (hl)
1409  0325  C5          	push	bc
1410  0326  3E 49       	ld	a,0x49
1411  0328  F5          	push	af
1412  0329  33          	inc	sp
1413  032A  CD 00 00    	call	_NIRVANAP_fillT_callee
1414  032D  DD 6E FE    	ld	l,(ix-2)
1415  0330  DD 66 FF    	ld	h,(ix-1)
1416  0333  36 FF       	ld	(hl),0xff
1417  0335              l_game_score_osd_00108:
1418  0335  DD F9       	ld	sp, ix
1419  0337  DD E1       	pop	ix
1420  0339  C9          	ret
1421  033A              	SECTION code_compiler
1422  033A              ;	---------------------------------
1423  033A              ; Function game_bonus_clock
1424  033A              ; ---------------------------------
1425  033A              _game_bonus_clock:
1426  033A  2A 00 00    	ld	hl,(_curr_time)
1427  033D  29          	add	hl,hl
1428  033E  3E D0       	ld	a,0xd0
1429  0340  95          	sub	a,l
1430  0341  44          	ld	b,h
1431  0342  21 00 00    	ld	hl,_tmp_ui
1432  0345  77          	ld	(hl), a
1433  0346  3E 07       	ld	a,0x07
1434  0348  98          	sbc	a, b
1435  0349  23          	inc	hl
1436  034A  77          	ld	(hl), a
1437  034B  3E D0       	ld	a,0xd0
1438  034D  2B          	dec	hl
1439  034E  BE          	cp	a, (hl)
1440  034F  3E 07       	ld	a,0x07
1441  0351  23          	inc	hl
1442  0352  9E          	sbc	a, (hl)
1443  0353  30 25       	jr	NC,l_game_bonus_clock_00108
1444  0355  2B          	dec	hl
1445  0356  AF          	xor	a, a
1446  0357  77          	ld	(hl), a
1447  0358  23          	inc	hl
1448  0359  77          	ld	(hl), a
1449  035A  3A 00 00    	ld	a,(_phase_left)
1450  035D  B7          	or	a, a
1451  035E  28 0B       	jr	Z,l_game_bonus_clock_00102
1452  0360  21 00 00    	ld	hl,0x0000
1453  0363  E5          	push	hl
1454  0364  21 02 0E    	ld	hl,0x0e02
1455  0367  E5          	push	hl
1456  0368  CD 00 00    	call	_zx_print_bonus_time
1457  036B              l_game_bonus_clock_00102:
1458  036B  21 00 00    	ld	hl,_phase_left
1459  036E  36 00       	ld	(hl),0x00
1460  0370  21 00 00    	ld	hl,_phase_end
1461  0373  36 01       	ld	(hl),0x01
1462  0375  CD 00 00    	call	_ay_reset
1463  0378  18 36       	jr	l_game_bonus_clock_00110
1464  037A              l_game_bonus_clock_00108:
1465  037A  3A 00 00    	ld	a,(_phase_left)
1466  037D  B7          	or	a, a
1467  037E  C8          	ret	Z
1468  037F  2A 00 00    	ld	hl,(_tmp_ui)
1469  0382  E5          	push	hl
1470  0383  21 02 0E    	ld	hl,0x0e02
1471  0386  E5          	push	hl
1472  0387  CD 00 00    	call	_zx_print_bonus_time
1473  038A  21 05 00    	ld	hl,0x0005
1474  038D  E5          	push	hl
1475  038E  2A 00 00    	ld	hl,(_frame_time)
1476  0391  E5          	push	hl
1477  0392  CD 57 0A    	call	_game_check_time
1478  0395  F1          	pop	af
1479  0396  F1          	pop	af
1480  0397  7D          	ld	a, l
1481  0398  B7          	or	a, a
1482  0399  C8          	ret	Z
1483  039A  2A 00 00    	ld	hl,(_curr_time)
1484  039D  22 00 00    	ld	(_frame_time),hl
1485  03A0  21 14 18    	ld	hl,0x1814
1486  03A3  E5          	push	hl
1487  03A4  3E 0E       	ld	a,0x0e
1488  03A6  F5          	push	af
1489  03A7  33          	inc	sp
1490  03A8  CD 5F 04    	call	_game_paint_attrib_lin_h
1491  03AB  F1          	pop	af
1492  03AC  33          	inc	sp
1493  03AD  CD A9 09    	call	_game_rotate_attrib
1494  03B0              l_game_bonus_clock_00110:
1495  03B0  C9          	ret
1496  03B1              	SECTION code_compiler
1497  03B1              ;	---------------------------------
1498  03B1              ; Function game_check_maze
1499  03B1              ; ---------------------------------
1500  03B1              _game_check_maze:
1501  03B1  01 00 00    	ld	bc,_lvl_1
1502  03B4  09          	add	hl,bc
1503  03B5  7E          	ld	a, (hl)
1504  03B6  D6 3C       	sub	a,0x3c
1505  03B8  3E 00       	ld	a,0x00
1506  03BA  17          	rla
1507  03BB  EE 01       	xor	a,0x01
1508  03BD  6F          	ld	l, a
1509  03BE  C9          	ret
1510  03BF              	SECTION code_compiler
1511  03BF              ;	---------------------------------
1512  03BF              ; Function game_enemy_add_get_index
1513  03BF              ; ---------------------------------
1514  03BF              _game_enemy_add_get_index:
1515  03BF  4D          	ld	c, l
1516  03C0  21 00 00    	ld	hl,_enemies
1517  03C3  36 00       	ld	(hl),0x00
1518  03C5              l_game_enemy_add_get_index_00104:
1519  03C5  2A 00 00    	ld	hl,(_enemies)
1520  03C8  26 00       	ld	h,0x00
1521  03CA  11 00 00    	ld	de,_class
1522  03CD  19          	add	hl,de
1523  03CE  7E          	ld	a,(hl)
1524  03CF  91          	sub	a,c
1525  03D0  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
1526  03D2  2A 00 00    	ld	hl,(_enemies)
1527  03D5  18 0B       	jr	l_game_enemy_add_get_index_00106
1528  03D7              l_game_enemy_add_get_index_00105:
1529  03D7  21 00 00    	ld	hl,_enemies
1530  03DA  34          	inc	(hl)
1531  03DB  3E 05       	ld	a,0x05
1532  03DD  96          	sub	a, (hl)
1533  03DE  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
1534  03E0  2E FF       	ld	l,0xff
1535  03E2              l_game_enemy_add_get_index_00106:
1536  03E2  C9          	ret
1537  03E3              	SECTION code_compiler
1538  03E3              ;	---------------------------------
1539  03E3              ; Function game_print_score
1540  03E3              ; ---------------------------------
1541  03E3              _game_print_score:
1542  03E3  21 00 00    	ld	hl,_screen_ink
1543  03E6  36 07       	ld	(hl),0x07
1544  03E8  21 00 00    	ld	hl,_screen_paper
1545  03EB  36 00       	ld	(hl),0x00
1546  03ED  2A 00 00    	ld	hl,(_player_score)
1547  03F0  E5          	push	hl
1548  03F1  21 00 03    	ld	hl,0x0300
1549  03F4  E5          	push	hl
1550  03F5  CD 00 00    	call	_zx_print_int
1551  03F8  2A 00 00    	ld	hl,(_game_score_top)
1552  03FB  E5          	push	hl
1553  03FC  21 00 0E    	ld	hl,0x0e00
1554  03FF  E5          	push	hl
1555  0400  CD 00 00    	call	_zx_print_int
1556  0403  3A 00 00    	ld	a,(_game_two_player)
1557  0406  B7          	or	a, a
1558  0407  C8          	ret	Z
1559  0408  2A 02 00    	ld	hl, (_player_score + 2)
1560  040B  E5          	push	hl
1561  040C  21 00 18    	ld	hl,0x1800
1562  040F  E5          	push	hl
1563  0410  CD 00 00    	call	_zx_print_int
1564  0413  C9          	ret
1565  0414              	SECTION code_compiler
1566  0414              ;	---------------------------------
1567  0414              ; Function game_paint_attrib
1568  0414              ; ---------------------------------
1569  0414              _game_paint_attrib:
1570  0414  7D          	ld	a,l
1571  0415  32 00 00    	ld	(_tmp0),a
1572  0418              l_game_paint_attrib_00103:
1573  0418  3E 13       	ld	a,0x13
1574  041A  21 00 00    	ld	hl,_tmp0
1575  041D  96          	sub	a, (hl)
1576  041E  D8          	ret	C
1577  041F  7E          	ld	a, (hl)
1578  0420  07          	rlca
1579  0421  07          	rlca
1580  0422  07          	rlca
1581  0423  E6 F8       	and	a,0xf8
1582  0425  C6 08       	add	a,0x08
1583  0427  F5          	push	af
1584  0428  33          	inc	sp
1585  0429  21 01 1F    	ld	hl,0x1f01
1586  042C  E5          	push	hl
1587  042D  CD 38 04    	call	_game_paint_attrib_lin
1588  0430  F1          	pop	af
1589  0431  33          	inc	sp
1590  0432  21 00 00    	ld	hl,_tmp0
1591  0435  34          	inc	(hl)
1592  0436  18 E0       	jr	l_game_paint_attrib_00103
1593  0438              	SECTION code_compiler
1594  0438              ;	---------------------------------
1595  0438              ; Function game_paint_attrib_lin
1596  0438              ; ---------------------------------
1597  0438              _game_paint_attrib_lin:
1598  0438  CD 00 00    	call	___sdcc_enter_ix
1599  043B  DD 7E 04    	ld	a,(ix+4)
1600  043E  32 00 00    	ld	(_tmp_uc),a
1601  0441              l_game_paint_attrib_lin_00103:
1602  0441  21 00 00    	ld	hl,_tmp_uc
1603  0444  7E          	ld	a, (hl)
1604  0445  DD 96 05    	sub	a,(ix+5)
1605  0448  30 12       	jr	NC,l_game_paint_attrib_lin_00105
1606  044A  66          	ld	h,(hl)
1607  044B  DD 6E 06    	ld	l,(ix+6)
1608  044E  E5          	push	hl
1609  044F  21 00 00    	ld	hl,_attrib
1610  0452  E5          	push	hl
1611  0453  CD 00 00    	call	_NIRVANAP_paintC_callee
1612  0456  21 00 00    	ld	hl,_tmp_uc
1613  0459  34          	inc	(hl)
1614  045A  18 E5       	jr	l_game_paint_attrib_lin_00103
1615  045C              l_game_paint_attrib_lin_00105:
1616  045C  DD E1       	pop	ix
1617  045E  C9          	ret
1618  045F              	SECTION code_compiler
1619  045F              ;	---------------------------------
1620  045F              ; Function game_paint_attrib_lin_h
1621  045F              ; ---------------------------------
1622  045F              _game_paint_attrib_lin_h:
1623  045F  CD 00 00    	call	___sdcc_enter_ix
1624  0462  DD 7E 04    	ld	a,(ix+4)
1625  0465  32 00 00    	ld	(_tmp_uc),a
1626  0468              l_game_paint_attrib_lin_h_00103:
1627  0468  21 00 00    	ld	hl,_tmp_uc
1628  046B  7E          	ld	a, (hl)
1629  046C  DD 96 05    	sub	a,(ix+5)
1630  046F  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
1631  0471  66          	ld	h,(hl)
1632  0472  DD 6E 06    	ld	l,(ix+6)
1633  0475  E5          	push	hl
1634  0476  21 00 00    	ld	hl,_attrib_hl
1635  0479  E5          	push	hl
1636  047A  CD 00 00    	call	_NIRVANAP_paintC_callee
1637  047D  21 00 00    	ld	hl,_tmp_uc
1638  0480  34          	inc	(hl)
1639  0481  18 E5       	jr	l_game_paint_attrib_lin_h_00103
1640  0483              l_game_paint_attrib_lin_h_00105:
1641  0483  DD E1       	pop	ix
1642  0485  C9          	ret
1643  0486              	SECTION code_compiler
1644  0486              ;	---------------------------------
1645  0486              ; Function game_menu_config
1646  0486              ; ---------------------------------
1647  0486              _game_menu_config:
1648  0486  CD 00 00    	call	___sdcc_enter_ix
1649  0489  F5          	push	af
1650  048A  3B          	dec	sp
1651  048B  2E 0B       	ld	l,0x0b
1652  048D  CD 14 04    	call	_game_paint_attrib
1653  0490  DD 36 FD 01 	ld	(ix-3),0x01
1654  0494              l_game_menu_config_00116:
1655  0494  DD 7E FD    	ld	a,(ix-3)
1656  0497  B7          	or	a, a
1657  0498  CA F3 05    	jp	Z, l_game_menu_config_00119
1658  049B              l_game_menu_config_00101:
1659  049B  21 00 00    	ld	hl,_k1
1660  049E  E5          	push	hl
1661  049F  2A 00 00    	ld	hl,(_joyfunc1)
1662  04A2  CD 00 00    	call	___sdcc_call_hl
1663  04A5  F1          	pop	af
1664  04A6  7C          	ld	a,h
1665  04A7  B5          	or	a,l
1666  04A8  20 F1       	jr	NZ,l_game_menu_config_00101
1667  04AA  3A 00 00    	ld	a,(_spec128)
1668  04AD  B7          	or	a,a
1669  04AE  28 05       	jr	Z,l_game_menu_config_00121
1670  04B0  01 25 00    	ld	bc,___str_8
1671  04B3  18 03       	jr	l_game_menu_config_00122
1672  04B5              l_game_menu_config_00121:
1673  04B5  01 30 00    	ld	bc,___str_9
1674  04B8              l_game_menu_config_00122:
1675  04B8  C5          	push	bc
1676  04B9  21 0E 0A    	ld	hl,0x0a0e
1677  04BC  E5          	push	hl
1678  04BD  CD 00 00    	call	_zx_print_str
1679  04C0  21 3B 00    	ld	hl,___str_10
1680  04C3  E5          	push	hl
1681  04C4  21 0F 0A    	ld	hl,0x0a0f
1682  04C7  E5          	push	hl
1683  04C8  CD 00 00    	call	_zx_print_str
1684  04CB  21 46 00    	ld	hl,___str_11
1685  04CE  E5          	push	hl
1686  04CF  21 10 0A    	ld	hl,0x0a10
1687  04D2  E5          	push	hl
1688  04D3  CD 00 00    	call	_zx_print_str
1689  04D6  21 51 00    	ld	hl,___str_12
1690  04D9  E5          	push	hl
1691  04DA  21 11 0A    	ld	hl,0x0a11
1692  04DD  E5          	push	hl
1693  04DE  CD 00 00    	call	_zx_print_str
1694  04E1  21 5C 00    	ld	hl,___str_13
1695  04E4  E5          	push	hl
1696  04E5  21 12 0A    	ld	hl,0x0a12
1697  04E8  E5          	push	hl
1698  04E9  CD 00 00    	call	_zx_print_str
1699  04EC  3A 00 00    	ld	a,(_game_sound)
1700  04EF  E6 05       	and	a,0x05
1701  04F1  28 0A       	jr	Z,l_game_menu_config_00123
1702  04F3  DD 36 FE 67 	ld	(ix-2),+((___str_14) & 0xFF)
1703  04F7  DD 36 FF 00 	ld	(ix-1),+((___str_14) / 256)
1704  04FB  18 08       	jr	l_game_menu_config_00124
1705  04FD              l_game_menu_config_00123:
1706  04FD  DD 36 FE 6B 	ld	(ix-2),+((___str_15) & 0xFF)
1707  0501  DD 36 FF 00 	ld	(ix-1),+((___str_15) / 256)
1708  0505              l_game_menu_config_00124:
1709  0505  DD 4E FE    	ld	c,(ix-2)
1710  0508  DD 46 FF    	ld	b,(ix-1)
1711  050B  C5          	push	bc
1712  050C  21 0E 14    	ld	hl,0x140e
1713  050F  E5          	push	hl
1714  0510  CD 00 00    	call	_zx_print_str
1715  0513  3A 00 00    	ld	a,(_game_type)
1716  0516  B7          	or	a, a
1717  0517  28 0C       	jr	Z,l_game_menu_config_00104
1718  0519  3D          	dec	a
1719  051A  28 16       	jr	Z,l_game_menu_config_00105
1720  051C  3A 00 00    	ld	a,(_game_type)
1721  051F  D6 02       	sub	a,0x02
1722  0521  28 1C       	jr	Z,l_game_menu_config_00106
1723  0523  18 25       	jr	l_game_menu_config_00107
1724  0525              l_game_menu_config_00104:
1725  0525  21 6F 00    	ld	hl,___str_16
1726  0528  E5          	push	hl
1727  0529  21 0F 14    	ld	hl,0x140f
1728  052C  E5          	push	hl
1729  052D  CD 00 00    	call	_zx_print_str
1730  0530  18 18       	jr	l_game_menu_config_00107
1731  0532              l_game_menu_config_00105:
1732  0532  21 73 00    	ld	hl,___str_17
1733  0535  E5          	push	hl
1734  0536  21 0F 14    	ld	hl,0x140f
1735  0539  E5          	push	hl
1736  053A  CD 00 00    	call	_zx_print_str
1737  053D  18 0B       	jr	l_game_menu_config_00107
1738  053F              l_game_menu_config_00106:
1739  053F  21 77 00    	ld	hl,___str_18
1740  0542  E5          	push	hl
1741  0543  21 0F 14    	ld	hl,0x140f
1742  0546  E5          	push	hl
1743  0547  CD 00 00    	call	_zx_print_str
1744  054A              l_game_menu_config_00107:
1745  054A  2A 00 00    	ld	hl,(_player_joy)
1746  054D  29          	add	hl, hl
1747  054E  11 00 00    	ld	de,_joynames
1748  0551  19          	add	hl, de
1749  0552  4E          	ld	c, (hl)
1750  0553  23          	inc	hl
1751  0554  46          	ld	b, (hl)
1752  0555  C5          	push	bc
1753  0556  21 10 14    	ld	hl,0x1410
1754  0559  E5          	push	hl
1755  055A  CD 00 00    	call	_zx_print_str
1756  055D  2A 02 00    	ld	hl, (_player_joy + 2)
1757  0560  29          	add	hl, hl
1758  0561  11 00 00    	ld	de,_joynames
1759  0564  19          	add	hl, de
1760  0565  4E          	ld	c, (hl)
1761  0566  23          	inc	hl
1762  0567  46          	ld	b, (hl)
1763  0568  C5          	push	bc
1764  0569  21 11 14    	ld	hl,0x1411
1765  056C  E5          	push	hl
1766  056D  CD 00 00    	call	_zx_print_str
1767  0570  21 00 00    	ld	hl,0x0000
1768  0573  E5          	push	hl
1769  0574  21 0E 12    	ld	hl,0x120e
1770  0577  E5          	push	hl
1771  0578  21 0A 01    	ld	hl,0x010a
1772  057B  E5          	push	hl
1773  057C  CD A6 08    	call	_game_menu_handle
1774  057F  F1          	pop	af
1775  0580  F1          	pop	af
1776  0581  F1          	pop	af
1777  0582  7D          	ld	a,l
1778  0583  32 00 00    	ld	(_game_menu_sel),a
1779  0586  21 00 00    	ld	hl,_ay_effect_10
1780  0589  CD 00 00    	call	_ay_fx_play
1781  058C  CD 00 00    	call	_sound_coin
1782  058F  3E 04       	ld	a,0x04
1783  0591  21 00 00    	ld	hl,_game_menu_sel
1784  0594  96          	sub	a, (hl)
1785  0595  DA 94 04    	jp	C, l_game_menu_config_00116
1786  0598  4E          	ld	c, (hl)
1787  0599  06 00       	ld	b,0x00
1788  059B  21 A2 05    	ld	hl,l_game_menu_config_00175
1789  059E  09          	add	hl, bc
1790  059F  09          	add	hl, bc
1791  05A0  09          	add	hl, bc
1792  05A1  E9          	jp	(hl)
1793  05A2              l_game_menu_config_00175:
1794  05A2  C3 B1 05    	jp	l_game_menu_config_00108
1795  05A5  C3 C5 05    	jp	l_game_menu_config_00109
1796  05A8  C3 D4 05    	jp	l_game_menu_config_00112
1797  05AB  C3 DC 05    	jp	l_game_menu_config_00113
1798  05AE  C3 E4 05    	jp	l_game_menu_config_00114
1799  05B1              l_game_menu_config_00108:
1800  05B1  3A 00 00    	ld	a,(_spec128)
1801  05B4  B7          	or	a, a
1802  05B5  28 04       	jr	Z,l_game_menu_config_00125
1803  05B7  3E 04       	ld	a,0x04
1804  05B9  18 02       	jr	l_game_menu_config_00126
1805  05BB              l_game_menu_config_00125:
1806  05BB  3E 01       	ld	a,0x01
1807  05BD              l_game_menu_config_00126:
1808  05BD  21 00 00    	ld	hl,_game_sound
1809  05C0  AE          	xor	a, (hl)
1810  05C1  77          	ld	(hl), a
1811  05C2  C3 94 04    	jp	l_game_menu_config_00116
1812  05C5              l_game_menu_config_00109:
1813  05C5  21 00 00    	ld	hl,_game_type
1814  05C8  34          	inc	(hl)
1815  05C9  3E 02       	ld	a,0x02
1816  05CB  96          	sub	a, (hl)
1817  05CC  D2 94 04    	jp	NC, l_game_menu_config_00116
1818  05CF  36 00       	ld	(hl),0x00
1819  05D1  C3 94 04    	jp	l_game_menu_config_00116
1820  05D4              l_game_menu_config_00112:
1821  05D4  2E 00       	ld	l,0x00
1822  05D6  CD F8 05    	call	_game_joystick_change
1823  05D9  C3 94 04    	jp	l_game_menu_config_00116
1824  05DC              l_game_menu_config_00113:
1825  05DC  2E 01       	ld	l,0x01
1826  05DE  CD F8 05    	call	_game_joystick_change
1827  05E1  C3 94 04    	jp	l_game_menu_config_00116
1828  05E4              l_game_menu_config_00114:
1829  05E4  21 00 00    	ld	hl,_game_menu_sel
1830  05E7  36 00       	ld	(hl),0x00
1831  05E9  CD 73 07    	call	_game_menu_paint
1832  05EC  DD 36 FD 00 	ld	(ix-3),0x00
1833  05F0  C3 94 04    	jp	l_game_menu_config_00116
1834  05F3              l_game_menu_config_00119:
1835  05F3  DD F9       	ld	sp, ix
1836  05F5  DD E1       	pop	ix
1837  05F7  C9          	ret
1838  05F8              	SECTION rodata_compiler
1839  0025              ___str_8:
1840  0025  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
1841  002F  00          	DEFB 0x00
1842  0030              	SECTION rodata_compiler
1843  0030              ___str_9:
1844  0030  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
1845  003A  00          	DEFB 0x00
1846  003B              	SECTION rodata_compiler
1847  003B              ___str_10:
1848  003B  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
1849  0045  00          	DEFB 0x00
1850  0046              	SECTION rodata_compiler
1851  0046              ___str_11:
1852  0046  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
1853  0050  00          	DEFB 0x00
1854  0051              	SECTION rodata_compiler
1855  0051              ___str_12:
1856  0051  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
1857  005B  00          	DEFB 0x00
1858  005C              	SECTION rodata_compiler
1859  005C              ___str_13:
1860  005C  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
1861  0066  00          	DEFB 0x00
1862  0067              	SECTION rodata_compiler
1863  0067              ___str_14:
1864  0067  4F 4E 20    	DEFM "ON "
1865  006A  00          	DEFB 0x00
1866  006B              	SECTION rodata_compiler
1867  006B              ___str_15:
1868  006B  4F 46 46    	DEFM "OFF"
1869  006E  00          	DEFB 0x00
1870  006F              	SECTION rodata_compiler
1871  006F              ___str_16:
1872  006F  41 20 20    	DEFM "A  "
1873  0072  00          	DEFB 0x00
1874  0073              	SECTION rodata_compiler
1875  0073              ___str_17:
1876  0073  42 20 20    	DEFM "B  "
1877  0076  00          	DEFB 0x00
1878  0077              	SECTION rodata_compiler
1879  0077              ___str_18:
1880  0077  52 4E 44    	DEFM "RND"
1881  007A  00          	DEFB 0x00
1882  007B              	SECTION code_compiler
1883  05F8              ;	---------------------------------
1884  05F8              ; Function game_joystick_change
1885  05F8              ; ---------------------------------
1886  05F8              _game_joystick_change:
1887  05F8  CD 00 00    	call	___sdcc_enter_ix
1888  05FB  3B          	dec	sp
1889  05FC  DD 75 FF    	ld	(ix-1),l
1890  05FF  26 00       	ld	h,0x00
1891  0601  29          	add	hl, hl
1892  0602  01 00 00    	ld	bc,_player_joy
1893  0605  09          	add	hl,bc
1894  0606  5E          	ld	e,(hl)
1895  0607  4D          	ld	c,l
1896  0608  44          	ld	b,h
1897  0609  23          	inc	hl
1898  060A  56          	ld	d, (hl)
1899  060B  13          	inc	de
1900  060C  69          	ld	l, c
1901  060D  60          	ld	h, b
1902  060E  73          	ld	(hl), e
1903  060F  23          	inc	hl
1904  0610  72          	ld	(hl), d
1905  0611  7B          	ld	a, e
1906  0612  D6 07       	sub	a,0x07
1907  0614  B2          	or	a, d
1908  0615  20 06       	jr	NZ,l_game_joystick_change_00102
1909  0617  69          	ld	l, c
1910  0618  60          	ld	h, b
1911  0619  AF          	xor	a, a
1912  061A  77          	ld	(hl), a
1913  061B  23          	inc	hl
1914  061C  77          	ld	(hl), a
1915  061D              l_game_joystick_change_00102:
1916  061D  DD 7E FF    	ld	a,(ix-1)
1917  0620  B7          	or	a, a
1918  0621  20 12       	jr	NZ,l_game_joystick_change_00104
1919  0623  69          	ld	l, c
1920  0624  60          	ld	h, b
1921  0625  7E          	ld	a,(hl)
1922  0626  23          	inc	hl
1923  0627  3D          	dec	a
1924  0628  56          	ld	d,(hl)
1925  0629  B2          	or	a, d
1926  062A  20 09       	jr	NZ,l_game_joystick_change_00104
1927  062C  ED 5B 00 00 	ld	de,(_player_joy)
1928  0630  13          	inc	de
1929  0631  ED 53 00 00 	ld	(_player_joy), de
1930  0635              l_game_joystick_change_00104:
1931  0635  DD 7E FF    	ld	a,(ix-1)
1932  0638  3D          	dec	a
1933  0639  20 11       	jr	NZ,l_game_joystick_change_00107
1934  063B  69          	ld	l, c
1935  063C  60          	ld	h, b
1936  063D  4E          	ld	c, (hl)
1937  063E  23          	inc	hl
1938  063F  7E          	ld	a, (hl)
1939  0640  B1          	or	a,c
1940  0641  20 09       	jr	NZ,l_game_joystick_change_00107
1941  0643  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
1942  0647  03          	inc	bc
1943  0648  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
1944  064C              l_game_joystick_change_00107:
1945  064C  ED 4B 00 00 	ld	bc,(_player_joy)
1946  0650  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
1947  0654  79          	ld	a, c
1948  0655  93          	sub	a, e
1949  0656  20 18       	jr	NZ,l_game_joystick_change_00114
1950  0658  78          	ld	a, b
1951  0659  92          	sub	a, d
1952  065A  20 14       	jr	NZ,l_game_joystick_change_00114
1953  065C  DD 7E FF    	ld	a,(ix-1)
1954  065F  B7          	or	a, a
1955  0660  20 08       	jr	NZ,l_game_joystick_change_00110
1956  0662  21 01 00    	ld	hl,0x0001
1957  0665  22 02 00    	ld	(_player_joy + 0x0002),hl
1958  0668  18 06       	jr	l_game_joystick_change_00114
1959  066A              l_game_joystick_change_00110:
1960  066A  21 00 00    	ld	hl,0x0000
1961  066D  22 00 00    	ld	(_player_joy), hl
1962  0670              l_game_joystick_change_00114:
1963  0670  33          	inc	sp
1964  0671  DD E1       	pop	ix
1965  0673  C9          	ret
1966  0674              	SECTION code_compiler
1967  0674              ;	---------------------------------
1968  0674              ; Function game_joystick_set_menu
1969  0674              ; ---------------------------------
1970  0674              _game_joystick_set_menu:
1971  0674  21 00 00    	ld	hl,_in_stick_sinclair1
1972  0677  22 00 00    	ld	(_joyfunc1),hl
1973  067A  21 00 00    	ld	hl,_in_stick_sinclair2
1974  067D  22 00 00    	ld	(_joyfunc2),hl
1975  0680  C9          	ret
1976  0681              	SECTION code_compiler
1977  0681              ;	---------------------------------
1978  0681              ; Function game_joystick_set
1979  0681              ; ---------------------------------
1980  0681              _game_joystick_set:
1981  0681  01 00 00    	ld	bc,_control_method+0
1982  0684  2A 00 00    	ld	hl,(_player_joy)
1983  0687  29          	add	hl, hl
1984  0688  09          	add	hl,bc
1985  0689  11 00 00    	ld	de,_joyfunc1
1986  068C  ED A0       	ldi
1987  068E  03          	inc	bc
1988  068F  7E          	ld	a,(hl)
1989  0690  12          	ld	(de),a
1990  0691  2A 02 00    	ld	hl, (_player_joy + 2)
1991  0694  29          	add	hl, hl
1992  0695  09          	add	hl,bc
1993  0696  11 00 00    	ld	de,_joyfunc2
1994  0699  ED A0       	ldi
1995  069B  7E          	ld	a,(hl)
1996  069C  12          	ld	(de),a
1997  069D  C9          	ret
1998  069E              	SECTION code_compiler
1999  069E              ;	---------------------------------
2000  069E              ; Function game_menu
2001  069E              ; ---------------------------------
2002  069E              _game_menu:
2003  069E  21 00 00    	ld	hl,_game_menu_sel
2004  06A1  36 00       	ld	(hl),0x00
2005  06A3  CD FF 06    	call	_game_menu_top_paint
2006  06A6  CD 73 07    	call	_game_menu_paint
2007  06A9  CD 00 00    	call	_ay_reset
2008  06AC  21 00 00    	ld	hl,_pb_midi_title
2009  06AF  CD 00 00    	call	_ay_midi_play
2010  06B2              l_game_menu_00101:
2011  06B2  21 00 00    	ld	hl,_k1
2012  06B5  E5          	push	hl
2013  06B6  2A 00 00    	ld	hl,(_joyfunc1)
2014  06B9  CD 00 00    	call	___sdcc_call_hl
2015  06BC  F1          	pop	af
2016  06BD  7C          	ld	a,h
2017  06BE  B5          	or	a,l
2018  06BF  20 F1       	jr	NZ,l_game_menu_00101
2019  06C1  21 E8 03    	ld	hl,0x03e8
2020  06C4  E5          	push	hl
2021  06C5  21 0E 12    	ld	hl,0x120e
2022  06C8  E5          	push	hl
2023  06C9  21 0C 02    	ld	hl,0x020c
2024  06CC  E5          	push	hl
2025  06CD  CD A6 08    	call	_game_menu_handle
2026  06D0  F1          	pop	af
2027  06D1  F1          	pop	af
2028  06D2  F1          	pop	af
2029  06D3  7D          	ld	a,l
2030  06D4  32 00 00    	ld	(_tmp_uc),a
2031  06D7  B7          	or	a,a
2032  06D8  28 0C       	jr	Z,l_game_menu_00104
2033  06DA  3D          	dec	a
2034  06DB  28 13       	jr	Z,l_game_menu_00105
2035  06DD  3A 00 00    	ld	a,(_tmp_uc)
2036  06E0  D6 02       	sub	a,0x02
2037  06E2  28 16       	jr	Z,l_game_menu_00106
2038  06E4  18 CC       	jr	l_game_menu_00101
2039  06E6              l_game_menu_00104:
2040  06E6  21 00 00    	ld	hl,_game_two_player
2041  06E9  36 00       	ld	(hl),0x00
2042  06EB  CD 29 01    	call	_game_loop
2043  06EE  18 C2       	jr	l_game_menu_00101
2044  06F0              l_game_menu_00105:
2045  06F0  21 00 00    	ld	hl,_game_two_player
2046  06F3  36 01       	ld	(hl),0x01
2047  06F5  CD 29 01    	call	_game_loop
2048  06F8  18 B8       	jr	l_game_menu_00101
2049  06FA              l_game_menu_00106:
2050  06FA  CD 86 04    	call	_game_menu_config
2051  06FD  18 B3       	jr	l_game_menu_00101
2052  06FF              	SECTION code_compiler
2053  06FF              ;	---------------------------------
2054  06FF              ; Function game_menu_top_paint
2055  06FF              ; ---------------------------------
2056  06FF              _game_menu_top_paint:
2057  06FF  CD 00 00    	call	_spr_draw_clear
2058  0702  2E 00       	ld	l,0x00
2059  0704  CD 14 04    	call	_game_paint_attrib
2060  0707  21 9C 01    	ld	hl,0x019c
2061  070A  E5          	push	hl
2062  070B  21 00 1E    	ld	hl,0x1e00
2063  070E  E5          	push	hl
2064  070F  3E 10       	ld	a,0x10
2065  0711  F5          	push	af
2066  0712  33          	inc	sp
2067  0713  CD F3 07    	call	_game_menu_e
2068  0716  F1          	pop	af
2069  0717  33          	inc	sp
2070  0718  21 9F FF    	ld	hl,0xff9f
2071  071B  E3          	ex	(sp),hl
2072  071C  21 00 1E    	ld	hl,0x1e00
2073  071F  E5          	push	hl
2074  0720  3E 50       	ld	a,0x50
2075  0722  F5          	push	af
2076  0723  33          	inc	sp
2077  0724  CD F3 07    	call	_game_menu_e
2078  0727  F1          	pop	af
2079  0728  F1          	pop	af
2080  0729  33          	inc	sp
2081  072A  21 00 00    	ld	hl,_tmp
2082  072D  36 18       	ld	(hl),0x18
2083  072F  F3          	di
2084  0730  21 00 00    	ld	hl,_tmp_uc
2085  0733  36 00       	ld	(hl),0x00
2086  0735              l_game_menu_top_paint_00102:
2087  0735  3A 00 00    	ld	a,(_tmp_uc)
2088  0738  87          	add	a, a
2089  0739  C6 05       	add	a,0x05
2090  073B  47          	ld	b, a
2091  073C  3A 00 00    	ld	a,(_tmp)
2092  073F  C6 10       	add	a,0x10
2093  0741  57          	ld	d, a
2094  0742  3A 00 00    	ld	a,(_tmp_uc)
2095  0745  C6 C0       	add	a,0xc0
2096  0747  4A          	ld	c, d
2097  0748  C5          	push	bc
2098  0749  F5          	push	af
2099  074A  33          	inc	sp
2100  074B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2101  074E  3A 00 00    	ld	a,(_tmp_uc)
2102  0751  87          	add	a, a
2103  0752  C6 05       	add	a,0x05
2104  0754  47          	ld	b, a
2105  0755  3A 00 00    	ld	a,(_tmp)
2106  0758  C6 20       	add	a,0x20
2107  075A  57          	ld	d, a
2108  075B  3A 00 00    	ld	a,(_tmp_uc)
2109  075E  C6 CC       	add	a,0xcc
2110  0760  4A          	ld	c, d
2111  0761  C5          	push	bc
2112  0762  F5          	push	af
2113  0763  33          	inc	sp
2114  0764  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2115  0767  21 00 00    	ld	hl,_tmp_uc
2116  076A  7E          	ld	a,(hl)
2117  076B  3C          	inc	a
2118  076C  77          	ld	(hl),a
2119  076D  D6 0A       	sub	a,0x0a
2120  076F  38 C4       	jr	C,l_game_menu_top_paint_00102
2121  0771  FB          	ei
2122  0772  C9          	ret
2123  0773              	SECTION code_compiler
2124  0773              ;	---------------------------------
2125  0773              ; Function game_menu_paint
2126  0773              ; ---------------------------------
2127  0773              _game_menu_paint:
2128  0773  76          	halt
2129  0774  3A 00 00    	ld	a,(_tmp)
2130  0777  C6 28       	add	a,0x28
2131  0779  4F          	ld	c, a
2132  077A  06 1A       	ld	b,0x1a
2133  077C  C5          	push	bc
2134  077D  3E 12       	ld	a,0x12
2135  077F  F5          	push	af
2136  0780  33          	inc	sp
2137  0781  CD 00 00    	call	_NIRVANAP_fillC_callee
2138  0784  21 00 20    	ld	hl,0x2000
2139  0787  E5          	push	hl
2140  0788  CD 00 00    	call	_game_fill_row
2141  078B  21 00 20    	ld	hl,0x2000
2142  078E  E5          	push	hl
2143  078F  CD 00 00    	call	_game_fill_row
2144  0792  21 7B 00    	ld	hl,___str_19
2145  0795  E5          	push	hl
2146  0796  21 0E 0A    	ld	hl,0x0a0e
2147  0799  E5          	push	hl
2148  079A  CD 00 00    	call	_zx_print_str
2149  079D  21 0F 20    	ld	hl,0x200f
2150  07A0  E5          	push	hl
2151  07A1  CD 00 00    	call	_game_fill_row
2152  07A4  21 89 00    	ld	hl,___str_20
2153  07A7  E5          	push	hl
2154  07A8  21 10 0A    	ld	hl,0x0a10
2155  07AB  E5          	push	hl
2156  07AC  CD 00 00    	call	_zx_print_str
2157  07AF  21 11 20    	ld	hl,0x2011
2158  07B2  E5          	push	hl
2159  07B3  CD 00 00    	call	_game_fill_row
2160  07B6  21 97 00    	ld	hl,___str_21
2161  07B9  E5          	push	hl
2162  07BA  21 12 0A    	ld	hl,0x0a12
2163  07BD  E5          	push	hl
2164  07BE  CD 00 00    	call	_zx_print_str
2165  07C1  21 13 20    	ld	hl,0x2013
2166  07C4  E5          	push	hl
2167  07C5  CD 00 00    	call	_game_fill_row
2168  07C8  21 00 00    	ld	hl,_screen_ink
2169  07CB  36 07       	ld	(hl),0x07
2170  07CD  21 A5 00    	ld	hl,___str_22
2171  07D0  E5          	push	hl
2172  07D1  21 15 07    	ld	hl,0x0715
2173  07D4  E5          	push	hl
2174  07D5  CD 00 00    	call	_zx_print_str
2175  07D8  21 00 00    	ld	hl,_screen_ink
2176  07DB  36 01       	ld	(hl),0x01
2177  07DD  21 B9 00    	ld	hl,___str_23
2178  07E0  E5          	push	hl
2179  07E1  21 17 03    	ld	hl,0x0317
2180  07E4  E5          	push	hl
2181  07E5  CD 00 00    	call	_zx_print_str
2182  07E8  21 00 00    	ld	hl,_tmp_uc
2183  07EB  36 00       	ld	(hl),0x00
2184  07ED  2E 0B       	ld	l,0x0b
2185  07EF  CD 14 04    	call	_game_paint_attrib
2186  07F2  C9          	ret
2187  07F3              	SECTION rodata_compiler
2188  007B              ___str_19:
2189  007B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
2190  0088  00          	DEFB 0x00
2191  0089              	SECTION rodata_compiler
2192  0089              ___str_20:
2193  0089  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
2194  0096  00          	DEFB 0x00
2195  0097              	SECTION rodata_compiler
2196  0097              ___str_21:
2197  0097  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
2198  00A4  00          	DEFB 0x00
2199  00A5              	SECTION rodata_compiler
2200  00A5              ___str_22:
2201  00A5  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
2202  00B8  00          	DEFB 0x00
2203  00B9              	SECTION rodata_compiler
2204  00B9              ___str_23:
2205  00B9  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 30 2E 31 
                        	DEFM "CODED BY CGONZALEZ VER 0.1"
2206  00D3  00          	DEFB 0x00
2207  00D4              	SECTION code_compiler
2208  07F3              ;	---------------------------------
2209  07F3              ; Function game_menu_e
2210  07F3              ; ---------------------------------
2211  07F3              _game_menu_e:
2212  07F3  CD 00 00    	call	___sdcc_enter_ix
2213  07F6  F3          	di
2214  07F7  DD 4E 05    	ld	c,(ix+5)
2215  07FA  21 00 00    	ld	hl,_tmp_uc
2216  07FD  71          	ld	(hl), c
2217  07FE  DD 46 07    	ld	b,(ix+7)
2218  0801  04          	inc	b
2219  0802  DD 56 07    	ld	d,(ix+7)
2220  0805  14          	inc	d
2221  0806  14          	inc	d
2222  0807              l_game_menu_e_00114:
2223  0807  DD 7E 06    	ld	a,(ix+6)
2224  080A  21 00 00    	ld	hl,_tmp_uc
2225  080D  96          	sub	a, (hl)
2226  080E  38 56       	jr	C,l_game_menu_e_00109
2227  0810  7E          	ld	a, (hl)
2228  0811  91          	sub	a, c
2229  0812  20 15       	jr	NZ,l_game_menu_e_00102
2230  0814  3A 00 00    	ld	a,(_tmp_uc)
2231  0817  C5          	push	bc
2232  0818  D5          	push	de
2233  0819  F5          	push	af
2234  081A  33          	inc	sp
2235  081B  DD 66 04    	ld	h,(ix+4)
2236  081E  DD 6E 07    	ld	l,(ix+7)
2237  0821  E5          	push	hl
2238  0822  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2239  0825  D1          	pop	de
2240  0826  C1          	pop	bc
2241  0827  18 36       	jr	l_game_menu_e_00108
2242  0829              l_game_menu_e_00102:
2243  0829  3A 00 00    	ld	a,(_tmp_uc)
2244  082C  DD 96 06    	sub	a,(ix+6)
2245  082F  20 14       	jr	NZ,l_game_menu_e_00104
2246  0831  3A 00 00    	ld	a,(_tmp_uc)
2247  0834  C5          	push	bc
2248  0835  D5          	push	de
2249  0836  F5          	push	af
2250  0837  33          	inc	sp
2251  0838  DD 7E 04    	ld	a,(ix+4)
2252  083B  5A          	ld	e,d
2253  083C  57          	ld	d,a
2254  083D  D5          	push	de
2255  083E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2256  0841  D1          	pop	de
2257  0842  C1          	pop	bc
2258  0843  18 1A       	jr	l_game_menu_e_00108
2259  0845              l_game_menu_e_00104:
2260  0845  3A 00 00    	ld	a,(_tmp_uc)
2261  0848  FE 0E       	cp	a,0x0e
2262  084A  28 13       	jr	Z,l_game_menu_e_00108
2263  084C  FE 10       	cp	a,0x10
2264  084E  28 0F       	jr	Z,l_game_menu_e_00108
2265  0850  C5          	push	bc
2266  0851  D5          	push	de
2267  0852  F5          	push	af
2268  0853  33          	inc	sp
2269  0854  DD 7E 04    	ld	a,(ix+4)
2270  0857  48          	ld	c,b
2271  0858  47          	ld	b,a
2272  0859  C5          	push	bc
2273  085A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2274  085D  D1          	pop	de
2275  085E  C1          	pop	bc
2276  085F              l_game_menu_e_00108:
2277  085F  21 00 00    	ld	hl,_tmp_uc
2278  0862  34          	inc	(hl)
2279  0863  34          	inc	(hl)
2280  0864  18 A1       	jr	l_game_menu_e_00114
2281  0866              l_game_menu_e_00109:
2282  0866  DD 7E 08    	ld	a,(ix+8)
2283  0869  3C          	inc	a
2284  086A  20 0A       	jr	NZ,l_game_menu_e_00111
2285  086C  DD 7E 04    	ld	a,(ix+4)
2286  086F  C6 F0       	add	a,0xf0
2287  0871  DD 77 04    	ld	(ix+4),a
2288  0874  18 08       	jr	l_game_menu_e_00112
2289  0876              l_game_menu_e_00111:
2290  0876  DD 7E 04    	ld	a,(ix+4)
2291  0879  C6 10       	add	a,0x10
2292  087B  DD 77 04    	ld	(ix+4),a
2293  087E              l_game_menu_e_00112:
2294  087E  DD 7E 07    	ld	a,(ix+7)
2295  0881  C6 0C       	add	a,0x0c
2296  0883  47          	ld	b, a
2297  0884  79          	ld	a, c
2298  0885  F5          	push	af
2299  0886  33          	inc	sp
2300  0887  DD 7E 04    	ld	a,(ix+4)
2301  088A  48          	ld	c,b
2302  088B  47          	ld	b,a
2303  088C  C5          	push	bc
2304  088D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2305  0890  DD 7E 07    	ld	a,(ix+7)
2306  0893  C6 0E       	add	a,0x0e
2307  0895  47          	ld	b, a
2308  0896  DD 66 06    	ld	h,(ix+6)
2309  0899  DD 6E 04    	ld	l,(ix+4)
2310  089C  E5          	push	hl
2311  089D  C5          	push	bc
2312  089E  33          	inc	sp
2313  089F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2314  08A2  FB          	ei
2315  08A3  DD E1       	pop	ix
2316  08A5  C9          	ret
2317  08A6              	SECTION code_compiler
2318  08A6              ;	---------------------------------
2319  08A6              ; Function game_menu_handle
2320  08A6              ; ---------------------------------
2321  08A6              _game_menu_handle:
2322  08A6  CD 00 00    	call	___sdcc_enter_ix
2323  08A9  3B          	dec	sp
2324  08AA  2A 00 00    	ld	hl,(_curr_time)
2325  08AD  22 00 00    	ld	(_entry_time),hl
2326  08B0  DD 5E 05    	ld	e,(ix+5)
2327  08B3  2A FF FF    	ld	hl,(_game_menu_sel-1)
2328  08B6  2E 00       	ld	l,0x00
2329  08B8  55          	ld	d, l
2330  08B9  06 08       	ld	b,0x08
2331  08BB              l_game_menu_handle_00148:
2332  08BB  29          	add	hl, hl
2333  08BC  30 01       	jr	NC,l_game_menu_handle_00149
2334  08BE  19          	add	hl, de
2335  08BF              l_game_menu_handle_00149:
2336  08BF  10 FA       	djnz	l_game_menu_handle_00148
2337  08C1  DD 7E 06    	ld	a,(ix+6)
2338  08C4  85          	add	a,l
2339  08C5  32 00 00    	ld	(_s_lin1),a
2340  08C8  DD 7E 06    	ld	a,(ix+6)
2341  08CB  DD 77 FF    	ld	(ix-1),a
2342  08CE              l_game_menu_handle_00111:
2343  08CE  21 00 00    	ld	hl,_k1
2344  08D1  E5          	push	hl
2345  08D2  2A 00 00    	ld	hl,(_joyfunc1)
2346  08D5  CD 00 00    	call	___sdcc_call_hl
2347  08D8  F1          	pop	af
2348  08D9  7D          	ld	a,l
2349  08DA  32 00 00    	ld	(_dirs),a
2350  08DD  D6 80       	sub	a,0x80
2351  08DF  CA 7F 09    	jp	Z,l_game_menu_handle_00113
2352  08E2  21 05 00    	ld	hl,0x0005
2353  08E5  E5          	push	hl
2354  08E6  2A 00 00    	ld	hl,(_frame_time)
2355  08E9  E5          	push	hl
2356  08EA  CD 57 0A    	call	_game_check_time
2357  08ED  F1          	pop	af
2358  08EE  F1          	pop	af
2359  08EF  7D          	ld	a, l
2360  08F0  B7          	or	a, a
2361  08F1  28 58       	jr	Z,l_game_menu_handle_00106
2362  08F3  3A 00 00    	ld	a,(_dirs)
2363  08F6  B7          	or	a, a
2364  08F7  28 32       	jr	Z,l_game_menu_handle_00104
2365  08F9  21 00 00    	ld	hl,_ay_effect_03
2366  08FC  CD 00 00    	call	_ay_fx_play
2367  08FF  CD 00 00    	call	_sound_slide
2368  0902  3A 00 00    	ld	a,(_s_lin1)
2369  0905  07          	rlca
2370  0906  07          	rlca
2371  0907  07          	rlca
2372  0908  E6 F8       	and	a,0xf8
2373  090A  C6 08       	add	a,0x08
2374  090C  F5          	push	af
2375  090D  33          	inc	sp
2376  090E  26 14       	ld	h,0x14
2377  0910  DD 6E 04    	ld	l,(ix+4)
2378  0913  E5          	push	hl
2379  0914  CD 38 04    	call	_game_paint_attrib_lin
2380  0917  F1          	pop	af
2381  0918  33          	inc	sp
2382  0919  21 00 00    	ld	hl,_s_lin1
2383  091C  7E          	ld	a, (hl)
2384  091D  DD 86 05    	add	a,(ix+5)
2385  0920  77          	ld	(hl), a
2386  0921  DD 7E 07    	ld	a,(ix+7)
2387  0924  96          	sub	a, (hl)
2388  0925  30 04       	jr	NC,l_game_menu_handle_00104
2389  0927  DD 7E FF    	ld	a,(ix-1)
2390  092A  77          	ld	(hl), a
2391  092B              l_game_menu_handle_00104:
2392  092B  2A 00 00    	ld	hl,(_curr_time)
2393  092E  22 00 00    	ld	(_frame_time),hl
2394  0931  3A 00 00    	ld	a,(_s_lin1)
2395  0934  07          	rlca
2396  0935  07          	rlca
2397  0936  07          	rlca
2398  0937  E6 F8       	and	a,0xf8
2399  0939  C6 08       	add	a,0x08
2400  093B  F5          	push	af
2401  093C  33          	inc	sp
2402  093D  26 14       	ld	h,0x14
2403  093F  DD 6E 04    	ld	l,(ix+4)
2404  0942  E5          	push	hl
2405  0943  CD 5F 04    	call	_game_paint_attrib_lin_h
2406  0946  F1          	pop	af
2407  0947  33          	inc	sp
2408  0948  CD A9 09    	call	_game_rotate_attrib
2409  094B              l_game_menu_handle_00106:
2410  094B  DD 7E 09    	ld	a,(ix+9)
2411  094E  DD B6 08    	or	a,(ix+8)
2412  0951  CA CE 08    	jp	Z, l_game_menu_handle_00111
2413  0954  DD 6E 08    	ld	l,(ix+8)
2414  0957  DD 66 09    	ld	h,(ix+9)
2415  095A  E5          	push	hl
2416  095B  2A 00 00    	ld	hl,(_entry_time)
2417  095E  E5          	push	hl
2418  095F  CD 57 0A    	call	_game_check_time
2419  0962  F1          	pop	af
2420  0963  F1          	pop	af
2421  0964  7D          	ld	a, l
2422  0965  B7          	or	a, a
2423  0966  CA CE 08    	jp	Z, l_game_menu_handle_00111
2424  0969  CD 00 00    	call	_ay_is_playing
2425  096C  7D          	ld	a, l
2426  096D  B7          	or	a, a
2427  096E  C2 CE 08    	jp	NZ, l_game_menu_handle_00111
2428  0971  21 00 00    	ld	hl,_game_menu_sel
2429  0974  36 00       	ld	(hl),0x00
2430  0976  2E 00       	ld	l,0x00
2431  0978  CD 93 09    	call	_game_menu_back
2432  097B  2E FF       	ld	l,0xff
2433  097D  18 10       	jr	l_game_menu_handle_00114
2434  097F              l_game_menu_handle_00113:
2435  097F  3A 00 00    	ld	a,(_s_lin1)
2436  0982  DD 96 FF    	sub	a,(ix-1)
2437  0985  47          	ld	b, a
2438  0986  DD 7E 05    	ld	a,(ix+5)
2439  0989  48          	ld	c,b
2440  098A  47          	ld	b,a
2441  098B  C5          	push	bc
2442  098C  CD 00 00    	call	__divuchar_callee
2443  098F              l_game_menu_handle_00114:
2444  098F  33          	inc	sp
2445  0990  DD E1       	pop	ix
2446  0992  C9          	ret
2447  0993              	SECTION code_compiler
2448  0993              ;	---------------------------------
2449  0993              ; Function game_end
2450  0993              ; ---------------------------------
2451  0993              	defc _game_end	=	_spr_draw_clear
2452  0993              	SECTION code_compiler
2453  0993              ;	---------------------------------
2454  0993              ; Function game_menu_back
2455  0993              ; ---------------------------------
2456  0993              _game_menu_back:
2457  0993  7D          	ld	a,l
2458  0994  32 00 00    	ld	(_s_lin1),a
2459  0997  21 00 00    	ld	hl,_game_menu_sel
2460  099A  36 00       	ld	(hl),0x00
2461  099C  CD FF 06    	call	_game_menu_top_paint
2462  099F  CD 73 07    	call	_game_menu_paint
2463  09A2  2A 00 00    	ld	hl,(_curr_time)
2464  09A5  22 00 00    	ld	(_entry_time),hl
2465  09A8  C9          	ret
2466  09A9              	SECTION code_compiler
2467  09A9              ;	---------------------------------
2468  09A9              ; Function game_rotate_attrib
2469  09A9              ; ---------------------------------
2470  09A9              _game_rotate_attrib:
2471  09A9  01 03 00    	ld	bc,_attrib_hl + 3
2472  09AC  0A          	ld	a, (bc)
2473  09AD  32 00 00    	ld	(_tmp_uc),a
2474  09B0  11 02 00    	ld	de,_attrib_hl + 2
2475  09B3  1A          	ld	a, (de)
2476  09B4  02          	ld	(bc), a
2477  09B5  01 01 00    	ld	bc,_attrib_hl + 1
2478  09B8  0A          	ld	a, (bc)
2479  09B9  12          	ld	(de), a
2480  09BA  3A 00 00    	ld	a,(_attrib_hl)
2481  09BD  02          	ld	(bc), a
2482  09BE  3A 00 00    	ld	a,(_tmp_uc)
2483  09C1  32 00 00    	ld	(_attrib_hl),a
2484  09C4  C9          	ret
2485  09C5              	SECTION code_compiler
2486  09C5              ;	---------------------------------
2487  09C5              ; Function game_colour_message
2488  09C5              ; ---------------------------------
2489  09C5              _game_colour_message:
2490  09C5  CD 00 00    	call	___sdcc_enter_ix
2491  09C8  3B          	dec	sp
2492  09C9  21 00 00    	ld	hl,_tmp
2493  09CC  36 01       	ld	(hl),0x01
2494  09CE  2A 00 00    	ld	hl,(_curr_time)
2495  09D1  22 00 00    	ld	(_frame_time),hl
2496  09D4  2A 00 00    	ld	hl,(_curr_time)
2497  09D7  22 00 00    	ld	(_entry_time),hl
2498  09DA  DD 7E 04    	ld	a,(ix+4)
2499  09DD  07          	rlca
2500  09DE  07          	rlca
2501  09DF  07          	rlca
2502  09E0  E6 F8       	and	a,0xf8
2503  09E2  C6 08       	add	a,0x08
2504  09E4  DD 77 FF    	ld	(ix-1),a
2505  09E7              l_game_colour_message_00107:
2506  09E7  3A 00 00    	ld	a,(_tmp)
2507  09EA  B7          	or	a, a
2508  09EB  28 66       	jr	Z,l_game_colour_message_00110
2509  09ED  DD 6E 07    	ld	l,(ix+7)
2510  09F0  DD 66 08    	ld	h,(ix+8)
2511  09F3  E5          	push	hl
2512  09F4  2A 00 00    	ld	hl,(_entry_time)
2513  09F7  E5          	push	hl
2514  09F8  CD 57 0A    	call	_game_check_time
2515  09FB  F1          	pop	af
2516  09FC  F1          	pop	af
2517  09FD  7D          	ld	a, l
2518  09FE  B7          	or	a, a
2519  09FF  20 52       	jr	NZ,l_game_colour_message_00110
2520  0A01  21 05 00    	ld	hl,0x0005
2521  0A04  E5          	push	hl
2522  0A05  2A 00 00    	ld	hl,(_frame_time)
2523  0A08  E5          	push	hl
2524  0A09  CD 57 0A    	call	_game_check_time
2525  0A0C  F1          	pop	af
2526  0A0D  F1          	pop	af
2527  0A0E  7D          	ld	a, l
2528  0A0F  B7          	or	a, a
2529  0A10  28 1A       	jr	Z,l_game_colour_message_00103
2530  0A12  2A 00 00    	ld	hl,(_curr_time)
2531  0A15  22 00 00    	ld	(_frame_time),hl
2532  0A18  DD 66 FF    	ld	h,(ix-1)
2533  0A1B  DD 6E 06    	ld	l,(ix+6)
2534  0A1E  E5          	push	hl
2535  0A1F  DD 7E 05    	ld	a,(ix+5)
2536  0A22  F5          	push	af
2537  0A23  33          	inc	sp
2538  0A24  CD 5F 04    	call	_game_paint_attrib_lin_h
2539  0A27  F1          	pop	af
2540  0A28  33          	inc	sp
2541  0A29  CD A9 09    	call	_game_rotate_attrib
2542  0A2C              l_game_colour_message_00103:
2543  0A2C  21 00 00    	ld	hl,_k1
2544  0A2F  E5          	push	hl
2545  0A30  2A 00 00    	ld	hl,(_joyfunc1)
2546  0A33  CD 00 00    	call	___sdcc_call_hl
2547  0A36  E3          	ex	(sp),hl
2548  0A37  21 00 00    	ld	hl,_k2
2549  0A3A  E5          	push	hl
2550  0A3B  2A 00 00    	ld	hl,(_joyfunc2)
2551  0A3E  CD 00 00    	call	___sdcc_call_hl
2552  0A41  F1          	pop	af
2553  0A42  EB          	ex	de,hl
2554  0A43  C1          	pop	bc
2555  0A44  79          	ld	a, c
2556  0A45  B3          	or	a, e
2557  0A46  4F          	ld	c, a
2558  0A47  78          	ld	a, b
2559  0A48  B2          	or	a, d
2560  0A49  B1          	or	a,c
2561  0A4A  28 9B       	jr	Z,l_game_colour_message_00107
2562  0A4C  21 00 00    	ld	hl,_tmp
2563  0A4F  36 00       	ld	(hl),0x00
2564  0A51  18 D9       	jr	l_game_colour_message_00103
2565  0A53              l_game_colour_message_00110:
2566  0A53  33          	inc	sp
2567  0A54  DD E1       	pop	ix
2568  0A56  C9          	ret
2569  0A57              	SECTION code_compiler
2570  0A57              ;	---------------------------------
2571  0A57              ; Function game_check_time
2572  0A57              ; ---------------------------------
2573  0A57              _game_check_time:
2574  0A57  CD 00 00    	call	___sdcc_enter_ix
2575  0A5A  2A 00 00    	ld	hl,(_curr_time)
2576  0A5D  7D          	ld	a,l
2577  0A5E  DD 96 04    	sub	a,(ix+4)
2578  0A61  4F          	ld	c,a
2579  0A62  7C          	ld	a,h
2580  0A63  DD 9E 05    	sbc	a,(ix+5)
2581  0A66  47          	ld	b, a
2582  0A67  DD 7E 06    	ld	a,(ix+6)
2583  0A6A  91          	sub	a, c
2584  0A6B  DD 7E 07    	ld	a,(ix+7)
2585  0A6E  98          	sbc	a, b
2586  0A6F  30 04       	jr	NC,l_game_check_time_00102
2587  0A71  2E 01       	ld	l,0x01
2588  0A73  18 02       	jr	l_game_check_time_00104
2589  0A75              l_game_check_time_00102:
2590  0A75  2E 00       	ld	l,0x00
2591  0A77              l_game_check_time_00104:
2592  0A77  DD E1       	pop	ix
2593  0A79  C9          	ret
2594  0A7A              	SECTION IGNORE
2595  0000              
