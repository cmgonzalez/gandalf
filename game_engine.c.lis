1     0000              MODULE game_engine_c
2     0000              LINE -1, "game_engine.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_tick
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_loop
206   0000              	GLOBAL _game_fps
207   0000              	GLOBAL _game_respawn
208   0000              	GLOBAL _game_draw_screen
209   0000              	GLOBAL _game_boss_kill
210   0000              	GLOBAL _game_add_enemy
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_set_checkpoint
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_shoot_fire
225   0000              	GLOBAL _game_shoot_fire_boss
226   0000              	GLOBAL _game_obj_set
227   0000              	GLOBAL _game_obj_chk
228   0000              	GLOBAL _game_obj_clear
229   0000              	GLOBAL _game_boss_clear
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_rotate_attrib_osd
232   0000              	GLOBAL _game_attribs
233   0000              	GLOBAL _game_match_back_strict
234   0000              	GLOBAL _game_match_back
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _ffsll_callee
239   0000              	GLOBAL _ffsll
240   0000              	GLOBAL _strxfrm_callee
241   0000              	GLOBAL _strxfrm
242   0000              	GLOBAL _strupr_fastcall
243   0000              	GLOBAL _strupr
244   0000              	GLOBAL _strtok_r_callee
245   0000              	GLOBAL _strtok_r
246   0000              	GLOBAL _strtok_callee
247   0000              	GLOBAL _strtok
248   0000              	GLOBAL _strstrip_fastcall
249   0000              	GLOBAL _strstrip
250   0000              	GLOBAL _strstr_callee
251   0000              	GLOBAL _strstr
252   0000              	GLOBAL _strspn_callee
253   0000              	GLOBAL _strspn
254   0000              	GLOBAL _strsep_callee
255   0000              	GLOBAL _strsep
256   0000              	GLOBAL _strrstrip_fastcall
257   0000              	GLOBAL _strrstrip
258   0000              	GLOBAL _strrstr_callee
259   0000              	GLOBAL _strrstr
260   0000              	GLOBAL _strrspn_callee
261   0000              	GLOBAL _strrspn
262   0000              	GLOBAL _strrev_fastcall
263   0000              	GLOBAL _strrev
264   0000              	GLOBAL _strrcspn_callee
265   0000              	GLOBAL _strrcspn
266   0000              	GLOBAL _strrchr_callee
267   0000              	GLOBAL _strrchr
268   0000              	GLOBAL _strpbrk_callee
269   0000              	GLOBAL _strpbrk
270   0000              	GLOBAL _strnlen_callee
271   0000              	GLOBAL _strnlen
272   0000              	GLOBAL _strnicmp_callee
273   0000              	GLOBAL _strnicmp
274   0000              	GLOBAL _strndup_callee
275   0000              	GLOBAL _strndup
276   0000              	GLOBAL _strncpy_callee
277   0000              	GLOBAL _strncpy
278   0000              	GLOBAL _strncmp_callee
279   0000              	GLOBAL _strncmp
280   0000              	GLOBAL _strnchr_callee
281   0000              	GLOBAL _strnchr
282   0000              	GLOBAL _strncat_callee
283   0000              	GLOBAL _strncat
284   0000              	GLOBAL _strncasecmp_callee
285   0000              	GLOBAL _strncasecmp
286   0000              	GLOBAL _strlwr_fastcall
287   0000              	GLOBAL _strlwr
288   0000              	GLOBAL _strlen_fastcall
289   0000              	GLOBAL _strlen
290   0000              	GLOBAL _strlcpy_callee
291   0000              	GLOBAL _strlcpy
292   0000              	GLOBAL _strlcat_callee
293   0000              	GLOBAL _strlcat
294   0000              	GLOBAL _stricmp_callee
295   0000              	GLOBAL _stricmp
296   0000              	GLOBAL _strerror_fastcall
297   0000              	GLOBAL _strerror
298   0000              	GLOBAL _strdup_fastcall
299   0000              	GLOBAL _strdup
300   0000              	GLOBAL _strcspn_callee
301   0000              	GLOBAL _strcspn
302   0000              	GLOBAL _strcpy_callee
303   0000              	GLOBAL _strcpy
304   0000              	GLOBAL _strcoll_callee
305   0000              	GLOBAL _strcoll
306   0000              	GLOBAL _strcmp_callee
307   0000              	GLOBAL _strcmp
308   0000              	GLOBAL _strchrnul_callee
309   0000              	GLOBAL _strchrnul
310   0000              	GLOBAL _strchr_callee
311   0000              	GLOBAL _strchr
312   0000              	GLOBAL _strcat_callee
313   0000              	GLOBAL _strcat
314   0000              	GLOBAL _strcasecmp_callee
315   0000              	GLOBAL _strcasecmp
316   0000              	GLOBAL _stpncpy_callee
317   0000              	GLOBAL _stpncpy
318   0000              	GLOBAL _stpcpy_callee
319   0000              	GLOBAL _stpcpy
320   0000              	GLOBAL _memswap_callee
321   0000              	GLOBAL _memswap
322   0000              	GLOBAL _memset_callee
323   0000              	GLOBAL _memset
324   0000              	GLOBAL _memrchr_callee
325   0000              	GLOBAL _memrchr
326   0000              	GLOBAL _memmove_callee
327   0000              	GLOBAL _memmove
328   0000              	GLOBAL _memmem_callee
329   0000              	GLOBAL _memmem
330   0000              	GLOBAL _memcpy_callee
331   0000              	GLOBAL _memcpy
332   0000              	GLOBAL _memcmp_callee
333   0000              	GLOBAL _memcmp
334   0000              	GLOBAL _memchr_callee
335   0000              	GLOBAL _memchr
336   0000              	GLOBAL _memccpy_callee
337   0000              	GLOBAL _memccpy
338   0000              	GLOBAL _ffsl_fastcall
339   0000              	GLOBAL _ffsl
340   0000              	GLOBAL _ffs_fastcall
341   0000              	GLOBAL _ffs
342   0000              	GLOBAL __strrstrip__fastcall
343   0000              	GLOBAL __strrstrip_
344   0000              	GLOBAL __memupr__callee
345   0000              	GLOBAL __memupr_
346   0000              	GLOBAL __memstrcpy__callee
347   0000              	GLOBAL __memstrcpy_
348   0000              	GLOBAL __memlwr__callee
349   0000              	GLOBAL __memlwr_
350   0000              	GLOBAL _rawmemchr_callee
351   0000              	GLOBAL _rawmemchr
352   0000              	GLOBAL _strnset_callee
353   0000              	GLOBAL _strnset
354   0000              	GLOBAL _strset_callee
355   0000              	GLOBAL _strset
356   0000              	GLOBAL _rindex_callee
357   0000              	GLOBAL _rindex
358   0000              	GLOBAL _index_callee
359   0000              	GLOBAL _index
360   0000              	GLOBAL _bzero_callee
361   0000              	GLOBAL _bzero
362   0000              	GLOBAL _bcopy_callee
363   0000              	GLOBAL _bcopy
364   0000              	GLOBAL _bcmp_callee
365   0000              	GLOBAL _bcmp
366   0000              	GLOBAL _ulltoa_callee
367   0000              	GLOBAL _ulltoa
368   0000              	GLOBAL _strtoull_callee
369   0000              	GLOBAL _strtoull
370   0000              	GLOBAL _strtoll_callee
371   0000              	GLOBAL _strtoll
372   0000              	GLOBAL _lltoa_callee
373   0000              	GLOBAL _lltoa
374   0000              	GLOBAL _llabs_callee
375   0000              	GLOBAL _llabs
376   0000              	GLOBAL __lldivu__callee
377   0000              	GLOBAL __lldivu_
378   0000              	GLOBAL __lldiv__callee
379   0000              	GLOBAL __lldiv_
380   0000              	GLOBAL _atoll_callee
381   0000              	GLOBAL _atoll
382   0000              	GLOBAL _realloc_unlocked_callee
383   0000              	GLOBAL _realloc_unlocked
384   0000              	GLOBAL _malloc_unlocked_fastcall
385   0000              	GLOBAL _malloc_unlocked
386   0000              	GLOBAL _free_unlocked_fastcall
387   0000              	GLOBAL _free_unlocked
388   0000              	GLOBAL _calloc_unlocked_callee
389   0000              	GLOBAL _calloc_unlocked
390   0000              	GLOBAL _aligned_alloc_unlocked_callee
391   0000              	GLOBAL _aligned_alloc_unlocked
392   0000              	GLOBAL _realloc_callee
393   0000              	GLOBAL _realloc
394   0000              	GLOBAL _malloc_fastcall
395   0000              	GLOBAL _malloc
396   0000              	GLOBAL _free_fastcall
397   0000              	GLOBAL _free
398   0000              	GLOBAL _calloc_callee
399   0000              	GLOBAL _calloc
400   0000              	GLOBAL _aligned_alloc_callee
401   0000              	GLOBAL _aligned_alloc
402   0000              	GLOBAL _utoa_callee
403   0000              	GLOBAL _utoa
404   0000              	GLOBAL _ultoa_callee
405   0000              	GLOBAL _ultoa
406   0000              	GLOBAL _system_fastcall
407   0000              	GLOBAL _system
408   0000              	GLOBAL _strtoul_callee
409   0000              	GLOBAL _strtoul
410   0000              	GLOBAL _strtol_callee
411   0000              	GLOBAL _strtol
412   0000              	GLOBAL _strtof_callee
413   0000              	GLOBAL _strtof
414   0000              	GLOBAL _strtod_callee
415   0000              	GLOBAL _strtod
416   0000              	GLOBAL _srand_fastcall
417   0000              	GLOBAL _srand
418   0000              	GLOBAL _rand
419   0000              	GLOBAL _quick_exit_fastcall
420   0000              	GLOBAL _quick_exit
421   0000              	GLOBAL _qsort_callee
422   0000              	GLOBAL _qsort
423   0000              	GLOBAL _ltoa_callee
424   0000              	GLOBAL _ltoa
425   0000              	GLOBAL _labs_fastcall
426   0000              	GLOBAL _labs
427   0000              	GLOBAL _itoa_callee
428   0000              	GLOBAL _itoa
429   0000              	GLOBAL _ftoh_callee
430   0000              	GLOBAL _ftoh
431   0000              	GLOBAL _ftog_callee
432   0000              	GLOBAL _ftog
433   0000              	GLOBAL _ftoe_callee
434   0000              	GLOBAL _ftoe
435   0000              	GLOBAL _ftoa_callee
436   0000              	GLOBAL _ftoa
437   0000              	GLOBAL _exit_fastcall
438   0000              	GLOBAL _exit
439   0000              	GLOBAL _dtoh_callee
440   0000              	GLOBAL _dtoh
441   0000              	GLOBAL _dtog_callee
442   0000              	GLOBAL _dtog
443   0000              	GLOBAL _dtoe_callee
444   0000              	GLOBAL _dtoe
445   0000              	GLOBAL _dtoa_callee
446   0000              	GLOBAL _dtoa
447   0000              	GLOBAL _bsearch_callee
448   0000              	GLOBAL _bsearch
449   0000              	GLOBAL _atol_fastcall
450   0000              	GLOBAL _atol
451   0000              	GLOBAL _atoi_fastcall
452   0000              	GLOBAL _atoi
453   0000              	GLOBAL _atof_fastcall
454   0000              	GLOBAL _atof
455   0000              	GLOBAL _atexit_fastcall
456   0000              	GLOBAL _atexit
457   0000              	GLOBAL _at_quick_exit_fastcall
458   0000              	GLOBAL _at_quick_exit
459   0000              	GLOBAL _abs_fastcall
460   0000              	GLOBAL _abs
461   0000              	GLOBAL _abort
462   0000              	GLOBAL __strtou__callee
463   0000              	GLOBAL __strtou_
464   0000              	GLOBAL __strtoi__callee
465   0000              	GLOBAL __strtoi_
466   0000              	GLOBAL __random_uniform_xor_8__fastcall
467   0000              	GLOBAL __random_uniform_xor_8_
468   0000              	GLOBAL __random_uniform_xor_32__fastcall
469   0000              	GLOBAL __random_uniform_xor_32_
470   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
471   0000              	GLOBAL __random_uniform_cmwc_8_
472   0000              	GLOBAL __shellsort__callee
473   0000              	GLOBAL __shellsort_
474   0000              	GLOBAL __quicksort__callee
475   0000              	GLOBAL __quicksort_
476   0000              	GLOBAL __insertion_sort__callee
477   0000              	GLOBAL __insertion_sort_
478   0000              	GLOBAL __ldivu__callee
479   0000              	GLOBAL __ldivu_
480   0000              	GLOBAL __ldiv__callee
481   0000              	GLOBAL __ldiv_
482   0000              	GLOBAL __divu__callee
483   0000              	GLOBAL __divu_
484   0000              	GLOBAL __div__callee
485   0000              	GLOBAL __div_
486   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawTW_raw
488   0000              	GLOBAL _NIRVANAP_drawTW_callee
489   0000              	GLOBAL _NIRVANAP_drawTW
490   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawW_raw
492   0000              	GLOBAL _NIRVANAP_drawW_callee
493   0000              	GLOBAL _NIRVANAP_drawW
494   0000              	GLOBAL _NIRVANAP_spriteT_callee
495   0000              	GLOBAL _NIRVANAP_spriteT
496   0000              	GLOBAL _NIRVANAP_fillC_callee
497   0000              	GLOBAL _NIRVANAP_fillC
498   0000              	GLOBAL _NIRVANAP_readC_callee
499   0000              	GLOBAL _NIRVANAP_readC
500   0000              	GLOBAL _NIRVANAP_paintC_callee
501   0000              	GLOBAL _NIRVANAP_paintC
502   0000              	GLOBAL _NIRVANAP_printC_callee
503   0000              	GLOBAL _NIRVANAP_printC
504   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
505   0000              	GLOBAL _NIRVANAP_fillT_raw
506   0000              	GLOBAL _NIRVANAP_fillT_callee
507   0000              	GLOBAL _NIRVANAP_fillT
508   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
509   0000              	GLOBAL _NIRVANAP_drawT_raw
510   0000              	GLOBAL _NIRVANAP_drawT_callee
511   0000              	GLOBAL _NIRVANAP_drawT
512   0000              	GLOBAL _NIRVANAP_stop
513   0000              	GLOBAL _NIRVANAP_start
514   0000              	GLOBAL _debug3
515   0000              	GLOBAL _debug2
516   0000              	GLOBAL _debug
517   0000              	GLOBAL _zx_print_str
518   0000              	GLOBAL _zx_print_int
519   0000              	GLOBAL _zx_print_chr
520   0000              	GLOBAL _zx_print_bonus_time
521   0000              	GLOBAL _zx_isr
522   0000              	GLOBAL _z80_otdr_callee
523   0000              	GLOBAL _z80_otdr
524   0000              	GLOBAL _z80_otir_callee
525   0000              	GLOBAL _z80_otir
526   0000              	GLOBAL _z80_outp_callee
527   0000              	GLOBAL _z80_outp
528   0000              	GLOBAL _z80_indr_callee
529   0000              	GLOBAL _z80_indr
530   0000              	GLOBAL _z80_inir_callee
531   0000              	GLOBAL _z80_inir
532   0000              	GLOBAL _z80_inp_fastcall
533   0000              	GLOBAL _z80_inp
534   0000              	GLOBAL _z80_set_int_state_fastcall
535   0000              	GLOBAL _z80_set_int_state
536   0000              	GLOBAL _z80_get_int_state
537   0000              	GLOBAL _z80_delay_tstate_fastcall
538   0000              	GLOBAL _z80_delay_tstate
539   0000              	GLOBAL _z80_delay_ms_fastcall
540   0000              	GLOBAL _z80_delay_ms
541   0000              	GLOBAL _im2_remove_generic_callback_callee
542   0000              	GLOBAL _im2_remove_generic_callback
543   0000              	GLOBAL _im2_prepend_generic_callback_callee
544   0000              	GLOBAL _im2_prepend_generic_callback
545   0000              	GLOBAL _im2_append_generic_callback_callee
546   0000              	GLOBAL _im2_append_generic_callback
547   0000              	GLOBAL _im2_create_generic_isr_8080_callee
548   0000              	GLOBAL _im2_create_generic_isr_8080
549   0000              	GLOBAL _im2_create_generic_isr_callee
550   0000              	GLOBAL _im2_create_generic_isr
551   0000              	GLOBAL _im2_install_isr_callee
552   0000              	GLOBAL _im2_install_isr
553   0000              	GLOBAL _im2_init_fastcall
554   0000              	GLOBAL _im2_init
555   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
556   0000              	GLOBAL _intrinsic_swap_word_32
557   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
558   0000              	GLOBAL _intrinsic_swap_endian_32
559   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
560   0000              	GLOBAL _intrinsic_swap_endian_16
561   0000              	GLOBAL _intrinsic_return_de
562   0000              	GLOBAL _intrinsic_return_bc
563   0000              	GLOBAL _intrinsic_exx
564   0000              	GLOBAL _intrinsic_ex_de_hl
565   0000              	GLOBAL _intrinsic_nop
566   0000              	GLOBAL _intrinsic_im_2
567   0000              	GLOBAL _intrinsic_im_1
568   0000              	GLOBAL _intrinsic_im_0
569   0000              	GLOBAL _intrinsic_retn
570   0000              	GLOBAL _intrinsic_reti
571   0000              	GLOBAL _intrinsic_halt
572   0000              	GLOBAL _intrinsic_ei
573   0000              	GLOBAL _intrinsic_di
574   0000              	GLOBAL _intrinsic_stub
575   0000              	GLOBAL _intrinsic_outi
576   0000              	GLOBAL _intrinsic_ldi
577   0000              	GLOBAL _zx_pattern_fill_callee
578   0000              	GLOBAL _zx_pattern_fill
579   0000              	GLOBAL _zx_saddrpup_fastcall
580   0000              	GLOBAL _zx_saddrpup
581   0000              	GLOBAL _zx_saddrpright_callee
582   0000              	GLOBAL _zx_saddrpright
583   0000              	GLOBAL _zx_saddrpleft_callee
584   0000              	GLOBAL _zx_saddrpleft
585   0000              	GLOBAL _zx_saddrpdown_fastcall
586   0000              	GLOBAL _zx_saddrpdown
587   0000              	GLOBAL _zx_saddrcup_fastcall
588   0000              	GLOBAL _zx_saddrcup
589   0000              	GLOBAL _zx_saddrcright_fastcall
590   0000              	GLOBAL _zx_saddrcright
591   0000              	GLOBAL _zx_saddrcleft_fastcall
592   0000              	GLOBAL _zx_saddrcleft
593   0000              	GLOBAL _zx_saddrcdown_fastcall
594   0000              	GLOBAL _zx_saddrcdown
595   0000              	GLOBAL _zx_saddr2py_fastcall
596   0000              	GLOBAL _zx_saddr2py
597   0000              	GLOBAL _zx_saddr2px_fastcall
598   0000              	GLOBAL _zx_saddr2px
599   0000              	GLOBAL _zx_saddr2cy_fastcall
600   0000              	GLOBAL _zx_saddr2cy
601   0000              	GLOBAL _zx_saddr2cx_fastcall
602   0000              	GLOBAL _zx_saddr2cx
603   0000              	GLOBAL _zx_saddr2aaddr_fastcall
604   0000              	GLOBAL _zx_saddr2aaddr
605   0000              	GLOBAL _zx_py2saddr_fastcall
606   0000              	GLOBAL _zx_py2saddr
607   0000              	GLOBAL _zx_py2aaddr_fastcall
608   0000              	GLOBAL _zx_py2aaddr
609   0000              	GLOBAL _zx_pxy2saddr_callee
610   0000              	GLOBAL _zx_pxy2saddr
611   0000              	GLOBAL _zx_pxy2aaddr_callee
612   0000              	GLOBAL _zx_pxy2aaddr
613   0000              	GLOBAL _zx_px2bitmask_fastcall
614   0000              	GLOBAL _zx_px2bitmask
615   0000              	GLOBAL _zx_cy2saddr_fastcall
616   0000              	GLOBAL _zx_cy2saddr
617   0000              	GLOBAL _zx_cy2aaddr_fastcall
618   0000              	GLOBAL _zx_cy2aaddr
619   0000              	GLOBAL _zx_cxy2saddr_callee
620   0000              	GLOBAL _zx_cxy2saddr
621   0000              	GLOBAL _zx_cxy2aaddr_callee
622   0000              	GLOBAL _zx_cxy2aaddr
623   0000              	GLOBAL _zx_bitmask2px_fastcall
624   0000              	GLOBAL _zx_bitmask2px
625   0000              	GLOBAL _zx_aaddrcup_fastcall
626   0000              	GLOBAL _zx_aaddrcup
627   0000              	GLOBAL _zx_aaddrcright_fastcall
628   0000              	GLOBAL _zx_aaddrcright
629   0000              	GLOBAL _zx_aaddrcleft_fastcall
630   0000              	GLOBAL _zx_aaddrcleft
631   0000              	GLOBAL _zx_aaddrcdown_fastcall
632   0000              	GLOBAL _zx_aaddrcdown
633   0000              	GLOBAL _zx_aaddr2saddr_fastcall
634   0000              	GLOBAL _zx_aaddr2saddr
635   0000              	GLOBAL _zx_aaddr2py_fastcall
636   0000              	GLOBAL _zx_aaddr2py
637   0000              	GLOBAL _zx_aaddr2px_fastcall
638   0000              	GLOBAL _zx_aaddr2px
639   0000              	GLOBAL _zx_aaddr2cy_fastcall
640   0000              	GLOBAL _zx_aaddr2cy
641   0000              	GLOBAL _zx_aaddr2cx_fastcall
642   0000              	GLOBAL _zx_aaddr2cx
643   0000              	GLOBAL _zx_visit_wc_pix_callee
644   0000              	GLOBAL _zx_visit_wc_pix
645   0000              	GLOBAL _zx_visit_wc_attr_callee
646   0000              	GLOBAL _zx_visit_wc_attr
647   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
648   0000              	GLOBAL _zx_scroll_wc_up_pix
649   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
650   0000              	GLOBAL _zx_scroll_wc_up_attr
651   0000              	GLOBAL _zx_scroll_wc_up_callee
652   0000              	GLOBAL _zx_scroll_wc_up
653   0000              	GLOBAL _zx_scroll_up_pix_callee
654   0000              	GLOBAL _zx_scroll_up_pix
655   0000              	GLOBAL _zx_scroll_up_attr_callee
656   0000              	GLOBAL _zx_scroll_up_attr
657   0000              	GLOBAL _zx_scroll_up_callee
658   0000              	GLOBAL _zx_scroll_up
659   0000              	GLOBAL _zx_cls_wc_pix_callee
660   0000              	GLOBAL _zx_cls_wc_pix
661   0000              	GLOBAL _zx_cls_wc_attr_callee
662   0000              	GLOBAL _zx_cls_wc_attr
663   0000              	GLOBAL _zx_cls_wc_callee
664   0000              	GLOBAL _zx_cls_wc
665   0000              	GLOBAL _zx_cls_pix_fastcall
666   0000              	GLOBAL _zx_cls_pix
667   0000              	GLOBAL _zx_cls_attr_fastcall
668   0000              	GLOBAL _zx_cls_attr
669   0000              	GLOBAL _zx_cls_fastcall
670   0000              	GLOBAL _zx_cls
671   0000              	GLOBAL _zx_border_fastcall
672   0000              	GLOBAL _zx_border
673   0000              	GLOBAL _zx_tape_verify_block_callee
674   0000              	GLOBAL _zx_tape_verify_block
675   0000              	GLOBAL _zx_tape_save_block_callee
676   0000              	GLOBAL _zx_tape_save_block
677   0000              	GLOBAL _zx_tape_load_block_callee
678   0000              	GLOBAL _zx_tape_load_block
679   0000              	GLOBAL _spr_destroy
680   0000              	GLOBAL _spr_colision_boss
681   0000              	GLOBAL _spr_colision_b
682   0000              	GLOBAL _spr_unflattenP1
683   0000              	GLOBAL _spr_flatten
684   0000              	GLOBAL _spr_btile_paint_back
685   0000              	GLOBAL _spr_bullet_explode
686   0000              	GLOBAL _spr_init_effects
687   0000              	GLOBAL _spr_turn_horizontal
688   0000              	GLOBAL _spr_bullets_play
689   0000              	GLOBAL _spr_play_anim
690   0000              	GLOBAL _spr_add_anim
691   0000              	GLOBAL _spr_clear_scr
692   0000              	GLOBAL _spr_page_map
693   0000              	GLOBAL _spr_page_down
694   0000              	GLOBAL _spr_page_up
695   0000              	GLOBAL _spr_page_right
696   0000              	GLOBAL _spr_page_left
697   0000              	GLOBAL _spr_tile_paint
698   0000              	GLOBAL _spr_draw_index
699   0000              	GLOBAL _spr_brick_anim
700   0000              	GLOBAL _spr_back_repaint
701   0000              	GLOBAL _spr_tile_dir
702   0000              	GLOBAL _spr_tile
703   0000              	GLOBAL _spr_paint_player
704   0000              	GLOBAL _spr_paint
705   0000              	GLOBAL _spr_move_left
706   0000              	GLOBAL _spr_move_right
707   0000              	GLOBAL _spr_move_horizontal
708   0000              	GLOBAL _spr_move_down
709   0000              	GLOBAL _spr_move_up
710   0000              	GLOBAL _spr_set_right
711   0000              	GLOBAL _spr_set_left
712   0000              	GLOBAL _spr_set_down
713   0000              	GLOBAL _spr_set_up
714   0000              	GLOBAL _spr_calc_index
715   0000              	GLOBAL _spr_chktime
716   0000              	GLOBAL _player_fix_walk_lin
717   0000              	GLOBAL _player_gasta_brick
718   0000              	GLOBAL _player_lost_life
719   0000              	GLOBAL _player_damage
720   0000              	GLOBAL _player_open_door
721   0000              	GLOBAL _player_move_jump
722   0000              	GLOBAL _player_fire
723   0000              	GLOBAL _player_check_stairs_vertical
724   0000              	GLOBAL _player_check_stairs
725   0000              	GLOBAL _player_tile
726   0000              	GLOBAL _player_anim_stairs
727   0000              	GLOBAL _player_pick_item
728   0000              	GLOBAL _player_check_floor
729   0000              	GLOBAL _player_hit_platform_clear
730   0000              	GLOBAL _player_score_add
731   0000              	GLOBAL _player_hit_platform
732   0000              	GLOBAL _player_move_input
733   0000              	GLOBAL _player_turn
734   0000              	GLOBAL _player_move
735   0000              	GLOBAL _player_action_jump
736   0000              	GLOBAL _player_action_fire
737   0000              	GLOBAL _player_check_input
738   0000              	GLOBAL _player_pick_mushroom
739   0000              	GLOBAL _player_collision
740   0000              	GLOBAL _player_init
741   0000              	GLOBAL _menu_define_key
742   0000              	GLOBAL _menu_redefine
743   0000              	GLOBAL _menu_main_print
744   0000              	GLOBAL _menu_main
745   0000              	GLOBAL _game_fill_row
746   0000              	GLOBAL _boss_draw_frame
747   0000              	GLOBAL _boss_draw
748   0000              	GLOBAL _boss_turn
749   0000              	GLOBAL _enemy_avoid_dead
750   0000              	GLOBAL _enemy_avoid_fall
751   0000              	GLOBAL _enemy_kill
752   0000              	GLOBAL _enemy_respawn
753   0000              	GLOBAL _enemy_init
754   0000              	GLOBAL _enemy_move
755   0000              	GLOBAL _enemy_turn
756   0000              	GLOBAL _enemy_static
757   0000              	GLOBAL _enemy_walk
758   0000              	GLOBAL _enemy_horizontal
759   0000              	GLOBAL _enemy_vertical
760   0000              	GLOBAL _ay_reset
761   0000              	GLOBAL _ay_song_stop
762   0000              	GLOBAL _ay_song_play
763   0000              	GLOBAL _ay_fx_stop
764   0000              	GLOBAL _ay_fx_play
765   0000              	GLOBAL _ay_is_playing
766   0000              	GLOBAL _audio_levelup
767   0000              	GLOBAL _audio_checkpoint
768   0000              	GLOBAL _audio_menu
769   0000              	GLOBAL _audio_game_end
770   0000              	GLOBAL _audio_level_complete
771   0000              	GLOBAL _audio_level_start
772   0000              	GLOBAL _audio_lotr_lose_a_life
773   0000              	GLOBAL _audio_mushroom
774   0000              	GLOBAL _audio_puerta
775   0000              	GLOBAL _audio_sin_mana
776   0000              	GLOBAL _audio_magic1
777   0000              	GLOBAL _audio_coin
778   0000              	GLOBAL _audio_golpe
779   0000              	GLOBAL _audio_salto
780   0000              	GLOBAL _audio_efecto
781   0000              	GLOBAL _audio_disparo_fire
782   0000              	GLOBAL _audio_disparo_axe
783   0000              	GLOBAL _audio_disparo2
784   0000              	GLOBAL _audio_disparo1
785   0000              	GLOBAL _audio_respawn
786   0000              	GLOBAL _audio_explosion1
787   0000              	GLOBAL _audio_explosion
788   0000              	GLOBAL _audio_ingame
789   0000              	GLOBAL _test_func
790   0000              	GLOBAL _test_proc
791   0000              	GLOBAL _in_mouse_kempston_wheel_delta
792   0000              	GLOBAL _in_mouse_kempston_wheel
793   0000              	GLOBAL _in_mouse_kempston_callee
794   0000              	GLOBAL _in_mouse_kempston
795   0000              	GLOBAL _in_mouse_kempston_setpos_callee
796   0000              	GLOBAL _in_mouse_kempston_setpos
797   0000              	GLOBAL _in_mouse_kempston_reset
798   0000              	GLOBAL _in_mouse_kempston_init
799   0000              	GLOBAL _in_mouse_amx_wheel_delta
800   0000              	GLOBAL _in_mouse_amx_wheel
801   0000              	GLOBAL _in_mouse_amx_callee
802   0000              	GLOBAL _in_mouse_amx
803   0000              	GLOBAL _in_mouse_amx_setpos_callee
804   0000              	GLOBAL _in_mouse_amx_setpos
805   0000              	GLOBAL _in_mouse_amx_reset
806   0000              	GLOBAL _in_mouse_amx_init_callee
807   0000              	GLOBAL _in_mouse_amx_init
808   0000              	GLOBAL _in_stick_sinclair2
809   0000              	GLOBAL _in_stick_sinclair1
810   0000              	GLOBAL _in_stick_kempston
811   0000              	GLOBAL _in_stick_fuller
812   0000              	GLOBAL _in_stick_cursor
813   0000              	GLOBAL _in_stick_keyboard_fastcall
814   0000              	GLOBAL _in_stick_keyboard
815   0000              	GLOBAL _in_wait_nokey
816   0000              	GLOBAL _in_wait_key
817   0000              	GLOBAL _in_test_key
818   0000              	GLOBAL _in_pause_fastcall
819   0000              	GLOBAL _in_pause
820   0000              	GLOBAL _in_key_scancode_fastcall
821   0000              	GLOBAL _in_key_scancode
822   0000              	GLOBAL _in_key_pressed_fastcall
823   0000              	GLOBAL _in_key_pressed
824   0000              	GLOBAL _in_inkey
825   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
826   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
827   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
828   0000              	GLOBAL _NIRVANAP_HOLE
829   0000              	GLOBAL _NIRVANAP_ISR_HOOK
830   0000              	GLOBAL _scan_map
831   0000              	GLOBAL _key_map
832   0000              	GLOBAL _player_lvl_table
833   0000              	GLOBAL _stp_row
834   0000              	GLOBAL _stp_col
835   0000              	GLOBAL _stp_tile
836   0000              	GLOBAL _map_paper_last_a
837   0000              	GLOBAL _map_paper_last
838   0000              	GLOBAL _map_paper_clr
839   0000              	GLOBAL _map_paper
840   0000              	GLOBAL _draw_count
841   0000              	GLOBAL _g_player_hit_right
842   0000              	GLOBAL _g_player_hit_left
843   0000              	GLOBAL _bullet_count
844   0000              	GLOBAL _boss_stat
845   0000              	GLOBAL _boss_time_fire
846   0000              	GLOBAL _boss_time
847   0000              	GLOBAL _boss_tile
848   0000              	GLOBAL _boss_inc
849   0000              	GLOBAL _boss_col
850   0000              	GLOBAL _boss_lin
851   0000              	GLOBAL _bullet
852   0000              	GLOBAL _bullet_vel
853   0000              	GLOBAL _bullet_frames
854   0000              	GLOBAL _bullet_colint
855   0000              	GLOBAL _bullet_dir
856   0000              	GLOBAL _bullet_tile
857   0000              	GLOBAL _bullet_col
858   0000              	GLOBAL _bullet_lin
859   0000              	GLOBAL _bullet_col0
860   0000              	GLOBAL _bullet_lin0
861   0000              	GLOBAL _bullet_max
862   0000              	GLOBAL _bullet_class
863   0000              	GLOBAL _mush_class
864   0000              	GLOBAL _mush_index
865   0000              	GLOBAL _anim_count
866   0000              	GLOBAL _anim_respanwn
867   0000              	GLOBAL _anim_loop
868   0000              	GLOBAL _anim_end
869   0000              	GLOBAL _anim_int
870   0000              	GLOBAL _anim_tile
871   0000              	GLOBAL _anim_col
872   0000              	GLOBAL _anim_lin
873   0000              	GLOBAL _map_heigth
874   0000              	GLOBAL _map_width
875   0000              	GLOBAL _scr_curr
876   0000              	GLOBAL _sprite_kind
877   0000              	GLOBAL _scr_obj1
878   0000              	GLOBAL _scr_obj0
879   0000              	GLOBAL _scr_map
880   0000              	GLOBAL _spr_init
881   0000              	GLOBAL _spr_map_tile
882   0000              	GLOBAL _sprite_frames
883   0000              	GLOBAL _sprite_base_speed
884   0000              	GLOBAL _sprite_speed
885   0000              	GLOBAL _screen_ink
886   0000              	GLOBAL _screen_paper
887   0000              	GLOBAL _player_onstair
888   0000              	GLOBAL _game_start_scr
889   0000              	GLOBAL _game_respawn_tile
890   0000              	GLOBAL _game_respawn_index
891   0000              	GLOBAL _game_respawn_time
892   0000              	GLOBAL _game_score_top
893   0000              	GLOBAL _player_coins
894   0000              	GLOBAL _player_lives
895   0000              	GLOBAL _game_over
896   0000              	GLOBAL _game_sound
897   0000              	GLOBAL _game_inf_lives
898   0000              	GLOBAL _game_inmune
899   0000              	GLOBAL _sprite_curr_index
900   0000              	GLOBAL _spr_count
901   0000              	GLOBAL _bullet_time
902   0000              	GLOBAL _anim_time
903   0000              	GLOBAL _frame_time
904   0000              	GLOBAL _curr_time
905   0000              	GLOBAL _s_state
906   0000              	GLOBAL _attrib_osd
907   0000              	GLOBAL _attrib_hl
908   0000              	GLOBAL _attrib
909   0000              	GLOBAL _zx_val_asm
910   0000              	GLOBAL _enemies
911   0000              	GLOBAL _tmp_ui
912   0000              	GLOBAL _tmp_sc
913   0000              	GLOBAL _tmp_uc
914   0000              	GLOBAL _tmp1
915   0000              	GLOBAL _tmp0
916   0000              	GLOBAL _tmp
917   0000              	GLOBAL _index1
918   0000              	GLOBAL _index0
919   0000              	GLOBAL _loop_count
920   0000              	GLOBAL _s_class
921   0000              	GLOBAL _s_col1
922   0000              	GLOBAL _s_col0
923   0000              	GLOBAL _s_lin1
924   0000              	GLOBAL _s_lin0
925   0000              	GLOBAL _s_tile1
926   0000              	GLOBAL _s_tile0
927   0000              	GLOBAL _player_brick_time
928   0000              	GLOBAL _player_hit_count
929   0000              	GLOBAL _game_debug
930   0000              	GLOBAL _sprite_horizontal_check
931   0000              	GLOBAL _sprite_on_air
932   0000              	GLOBAL _sprite
933   0000              	GLOBAL _fps
934   0000              	GLOBAL _menu_curr_sel
935   0000              	GLOBAL _game_control_jump_lock
936   0000              	GLOBAL _game_control_fire_lock
937   0000              	GLOBAL _game_control_mode
938   0000              	GLOBAL _game_respawn_curr_time
939   0000              	GLOBAL _game_round_up
940   0000              	GLOBAL _game_mush_count
941   0000              	GLOBAL _game_song_play_start
942   0000              	GLOBAL _game_song_play
943   0000              	GLOBAL _game_boss_fix
944   0000              	GLOBAL _game_boss_hit
945   0000              	GLOBAL _game_boss_alive
946   0000              	GLOBAL _game_boss
947   0000              	GLOBAL _game_world
948   0000              	GLOBAL _game_gravity
949   0000              	GLOBAL _player_onfire
950   0000              	GLOBAL _player_anim_stair
951   0000              	GLOBAL _player_hit
952   0000              	GLOBAL _player_hit_time
953   0000              	GLOBAL _game_checkpoint_scr
954   0000              	GLOBAL _game_checkpoint_lin
955   0000              	GLOBAL _game_checkpoint_col
956   0000              	GLOBAL _player_jump_check
957   0000              	GLOBAL _player_lin_scr
958   0000              	GLOBAL _player_col_scr
959   0000              	GLOBAL _player_lvl
960   0000              	GLOBAL _player_int
961   0000              	GLOBAL _player_str
962   0000              	GLOBAL _player_max_vita
963   0000              	GLOBAL _player_max_mana
964   0000              	GLOBAL _player_vita
965   0000              	GLOBAL _player_mana
966   0000              	GLOBAL _player_keys
967   0000              	GLOBAL _player_vel_inc
968   0000              	GLOBAL _player_vel_y1
969   0000              	GLOBAL _player_vel_y0
970   0000              	GLOBAL _player_vel_y
971   0000              	GLOBAL _player_vel_x
972   0000              	GLOBAL _player_score
973   0000              	GLOBAL _last_time
974   0000              	GLOBAL _spr_timer
975   0000              	GLOBAL _jump_lin
976   0000              	GLOBAL _player_hit_col
977   0000              	GLOBAL _player_hit_lin
978   0000              	GLOBAL _colint
979   0000              	GLOBAL _col
980   0000              	GLOBAL _tbuffer
981   0000              	GLOBAL _lin
982   0000              	GLOBAL _tile
983   0000              	GLOBAL _state_a
984   0000              	GLOBAL _state
985   0000              	GLOBAL _class
986   0000              	GLOBAL _dirs_alt
987   0000              	GLOBAL _dirs
988   0000              	GLOBAL _k2
989   0000              	GLOBAL _k1
990   0000              	GLOBAL _joyfunc2
991   0000              	GLOBAL _joyfunc1
992   0000              	GLOBAL _btiles
993   0000              	GLOBAL _spec128
994   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
995   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
996   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
997   0000              	GLOBAL _ay_fx_06_disparo_fire
998   0000              	GLOBAL _ay_fx_06_disparo_axe
999   0000              	GLOBAL _ay_fx_06_respawn
1000  0000              	GLOBAL _ay_fx_06_explosion1
1001  0000              	GLOBAL _ay_fx_06_efecto
1002  0000              	GLOBAL _ay_fx_06_disparo2
1003  0000              	GLOBAL _ay_fx_06_disparo1
1004  0000              	GLOBAL _ay_fx_06_checkpoint
1005  0000              	GLOBAL _ay_fx_06_levelup
1006  0000              	GLOBAL _ay_fx_06_mushroom
1007  0000              	GLOBAL _ay_fx_06_magic
1008  0000              	GLOBAL _ay_fx_06_sin_mana
1009  0000              	GLOBAL _ay_fx_06_salto
1010  0000              	GLOBAL _ay_fx_06_puerta
1011  0000              	GLOBAL _ay_fx_06_magic1
1012  0000              	GLOBAL _ay_fx_06_golpe
1013  0000              	GLOBAL _ay_fx_06_explosion
1014  0000              	GLOBAL _ay_fx_06_dano_por_toque
1015  0000              	GLOBAL _ay_fx_06_coin
1016  0000              	GLOBAL _ay_song_06_lotr_level_start
1017  0000              	GLOBAL _ay_song_06_lotr_level_complete
1018  0000              	GLOBAL _ay_song_06_lotr_lose_a_life
1019  0000              	GLOBAL _ay_song_04_doom
1020  0000              	GLOBAL _ay_song_04_luna
1021  0000              	GLOBAL _ay_song_04_ciel
1022  0000              	GLOBAL _ay_song_04_hope
1023  0000              	GLOBAL _ay_song_03_regis
1024  0000              	GLOBAL _ay_song_03_sunflower
1025  0000              	GLOBAL _ay_song_03_lotr
1026  0000              	GLOBAL _world0_h
1027  0000              	GLOBAL _world0_w
1028  0000              	GLOBAL _world0
1029  0000              	GLOBAL _paper0
1030  0000              	GLOBAL _lenght0
1031  0000              	GLOBAL _start_scr0
1032  0000              ;--------------------------------------------------------
1033  0000              ; special function registers
1034  0000              ;--------------------------------------------------------
1035  0000              defc _IO_FE	=	0x00fe
1036  0000              defc _IO_1FFD	=	0x1ffd
1037  0000              defc _IO_7FFD	=	0x7ffd
1038  0000              ;--------------------------------------------------------
1039  0000              ; ram data
1040  0000              ;--------------------------------------------------------
1041  0000              	SECTION bss_compiler
1042  0000              ;--------------------------------------------------------
1043  0000              ; ram data
1044  0000              ;--------------------------------------------------------
1045  0000              
1046  0000              IF 0
1047  0000              
1048  0000              ; .area _INITIALIZED removed by z88dk
1049  0000              
1050  0000              
1051  0000              ENDIF
1052  0000              
1053  0000              ;--------------------------------------------------------
1054  0000              ; absolute external ram data
1055  0000              ;--------------------------------------------------------
1056  0000              	SECTION IGNORE
1057  0000              ;--------------------------------------------------------
1058  0000              ; global & static initialisations
1059  0000              ;--------------------------------------------------------
1060  0000              	SECTION code_crt_init
1061  0000              ;--------------------------------------------------------
1062  0000              ; Home
1063  0000              ;--------------------------------------------------------
1064  0000              	SECTION IGNORE
1065  0000              ;--------------------------------------------------------
1066  0000              ; code
1067  0000              ;--------------------------------------------------------
1068  0000              	SECTION code_compiler
1069  0000              ;	---------------------------------
1070  0000              ; Function game_loop
1071  0000              ; ---------------------------------
1072  0000              _game_loop:
1073  0000  CD 6A 08    	call	_game_round_init
1074  0003              l_game_loop_00121:
1075  0003  3A 00 00    	ld	a,(_game_over)
1076  0006  B7          	or	a, a
1077  0007  C2 E0 00    	jp	NZ, l_game_loop_00124
1078  000A              l_game_loop_00116:
1079  000A  3A 00 00    	ld	a,(_game_round_up)
1080  000D  B7          	or	a, a
1081  000E  C2 9F 00    	jp	NZ, l_game_loop_00118
1082  0011  3A 00 00    	ld	a,(_game_over)
1083  0014  B7          	or	a, a
1084  0015  C2 9F 00    	jp	NZ, l_game_loop_00118
1085  0018  CD 00 00    	call	_enemy_turn
1086  001B  CD 00 00    	call	_player_turn
1087  001E  3A 00 00    	ld	a,(_game_boss)
1088  0021  B7          	or	a, a
1089  0022  28 03       	jr	Z,l_game_loop_00102
1090  0024  CD 00 00    	call	_boss_turn
1091  0027              l_game_loop_00102:
1092  0027  3E 02       	ld	a,0x02
1093  0029  F5          	push	af
1094  002A  33          	inc	sp
1095  002B  21 00 00    	ld	hl,_bullet_time
1096  002E  E5          	push	hl
1097  002F  CD 4F 0C    	call	_game_check_time
1098  0032  F1          	pop	af
1099  0033  33          	inc	sp
1100  0034  7D          	ld	a, l
1101  0035  B7          	or	a, a
1102  0036  28 0F       	jr	Z,l_game_loop_00106
1103  0038  2A 00 00    	ld	hl,(_curr_time)
1104  003B  22 00 00    	ld	(_bullet_time),hl
1105  003E  3A 00 00    	ld	a,(_bullet_count)
1106  0041  B7          	or	a,a
1107  0042  28 03       	jr	Z,l_game_loop_00106
1108  0044  CD 00 00    	call	_spr_bullets_play
1109  0047              l_game_loop_00106:
1110  0047  3E 08       	ld	a,0x08
1111  0049  F5          	push	af
1112  004A  33          	inc	sp
1113  004B  21 00 00    	ld	hl,_anim_time
1114  004E  E5          	push	hl
1115  004F  CD 4F 0C    	call	_game_check_time
1116  0052  F1          	pop	af
1117  0053  33          	inc	sp
1118  0054  7D          	ld	a, l
1119  0055  B7          	or	a, a
1120  0056  28 0F       	jr	Z,l_game_loop_00110
1121  0058  2A 00 00    	ld	hl,(_curr_time)
1122  005B  22 00 00    	ld	(_anim_time),hl
1123  005E  3A 00 00    	ld	a,(_anim_count)
1124  0061  B7          	or	a,a
1125  0062  28 03       	jr	Z,l_game_loop_00110
1126  0064  CD 00 00    	call	_spr_play_anim
1127  0067              l_game_loop_00110:
1128  0067  3E 64       	ld	a,0x64
1129  0069  F5          	push	af
1130  006A  33          	inc	sp
1131  006B  21 00 00    	ld	hl,_frame_time
1132  006E  E5          	push	hl
1133  006F  CD 4F 0C    	call	_game_check_time
1134  0072  F1          	pop	af
1135  0073  33          	inc	sp
1136  0074  7D          	ld	a, l
1137  0075  B7          	or	a, a
1138  0076  28 13       	jr	Z,l_game_loop_00114
1139  0078  2A 00 00    	ld	hl,(_curr_time)
1140  007B  22 00 00    	ld	(_frame_time),hl
1141  007E  76          	halt
1142  007F  3A 00 00    	ld	a,(_game_debug)
1143  0082  B7          	or	a, a
1144  0083  28 03       	jr	Z,l_game_loop_00112
1145  0085  CD E1 00    	call	_game_fps
1146  0088              l_game_loop_00112:
1147  0088  CD F8 00    	call	_game_respawn
1148  008B              l_game_loop_00114:
1149  008B  21 00 00    	ld	hl,_loop_count
1150  008E  34          	inc	(hl)
1151  008F  20 02       	jr	NZ,l_game_loop_00174
1152  0091  23          	inc	hl
1153  0092  34          	inc	(hl)
1154  0093              l_game_loop_00174:
1155  0093  21 00 00    	ld	hl,_fps
1156  0096  34          	inc	(hl)
1157  0097  C2 0A 00    	jp	NZ,l_game_loop_00116
1158  009A  23          	inc	hl
1159  009B  34          	inc	(hl)
1160  009C  C3 0A 00    	jp	l_game_loop_00116
1161  009F              l_game_loop_00118:
1162  009F  21 00 00    	ld	hl,_game_round_up
1163  00A2  7E          	ld	a, (hl)
1164  00A3  B7          	or	a, a
1165  00A4  CA 03 00    	jp	Z, l_game_loop_00121
1166  00A7  36 00       	ld	(hl),0x00
1167  00A9  21 00 00    	ld	hl,_game_respawn_curr_time
1168  00AC  7E          	ld	a, (hl)
1169  00AD  C6 E0       	add	a,0xe0
1170  00AF  77          	ld	(hl), a
1171  00B0  21 00 00    	ld	hl,_game_world
1172  00B3  34          	inc	(hl)
1173  00B4  21 00 00    	ld	hl,_game_boss_alive
1174  00B7  36 01       	ld	(hl),0x01
1175  00B9  21 00 00    	ld	hl,_game_boss
1176  00BC  36 00       	ld	(hl),0x00
1177  00BE  21 00 00    	ld	hl,_scr_curr
1178  00C1  36 FF       	ld	(hl),0xff
1179  00C3  21 00 00    	ld	hl,_player_lin_scr
1180  00C6  36 00       	ld	(hl),0x00
1181  00C8  21 00 00    	ld	hl,_player_col_scr
1182  00CB  36 00       	ld	(hl),0x00
1183  00CD  CD 63 10    	call	_game_obj_clear
1184  00D0  21 00 00    	ld	hl,_player_col_scr
1185  00D3  36 02       	ld	(hl),0x02
1186  00D5  21 00 00    	ld	hl,_player_lin_scr
1187  00D8  36 80       	ld	(hl),0x80
1188  00DA  CD 6A 08    	call	_game_round_init
1189  00DD  C3 03 00    	jp	l_game_loop_00121
1190  00E0              l_game_loop_00124:
1191  00E0  C9          	ret
1192  00E1              	SECTION code_compiler
1193  00E1              ;	---------------------------------
1194  00E1              ; Function game_fps
1195  00E1              ; ---------------------------------
1196  00E1              _game_fps:
1197  00E1  21 00 00    	ld	hl,_screen_ink
1198  00E4  36 07       	ld	(hl),0x07
1199  00E6  2A 00 00    	ld	hl,(_fps)
1200  00E9  E5          	push	hl
1201  00EA  21 17 18    	ld	hl,0x1817
1202  00ED  E5          	push	hl
1203  00EE  CD 00 00    	call	_zx_print_int
1204  00F1  21 00 00    	ld	hl,0x0000
1205  00F4  22 00 00    	ld	(_fps),hl
1206  00F7  C9          	ret
1207  00F8              	SECTION code_compiler
1208  00F8              ;	---------------------------------
1209  00F8              ; Function game_respawn
1210  00F8              ; ---------------------------------
1211  00F8              _game_respawn:
1212  00F8  21 00 00    	ld	hl,_sprite
1213  00FB  36 00       	ld	(hl),0x00
1214  00FD              l_game_respawn_00105:
1215  00FD  21 00 00    	ld	hl,_sprite
1216  0100  7E          	ld	a, (hl)
1217  0101  D6 07       	sub	a,0x07
1218  0103  D2 96 01    	jp	NC, l_game_respawn_00108
1219  0106  01 00 00    	ld	bc,_game_respawn_time+0
1220  0109  6E          	ld	l,(hl)
1221  010A  26 00       	ld	h,0x00
1222  010C  29          	add	hl, hl
1223  010D  09          	add	hl, bc
1224  010E  5E          	ld	e,(hl)
1225  010F  23          	inc	hl
1226  0110  56          	ld	d,(hl)
1227  0111  2B          	dec	hl
1228  0112  7A          	ld	a, d
1229  0113  B3          	or	a,e
1230  0114  28 79       	jr	Z,l_game_respawn_00104
1231  0116  3A 00 00    	ld	a,(_game_respawn_curr_time)
1232  0119  EB          	ex	de,hl
1233  011A  C5          	push	bc
1234  011B  F5          	push	af
1235  011C  33          	inc	sp
1236  011D  D5          	push	de
1237  011E  CD 4F 0C    	call	_game_check_time
1238  0121  F1          	pop	af
1239  0122  33          	inc	sp
1240  0123  C1          	pop	bc
1241  0124  7D          	ld	a,l
1242  0125  B7          	or	a, a
1243  0126  28 67       	jr	Z,l_game_respawn_00104
1244  0128  2A 00 00    	ld	hl,(_sprite)
1245  012B  26 00       	ld	h,0x00
1246  012D  11 00 00    	ld	de,_game_respawn_index
1247  0130  19          	add	hl,de
1248  0131  7E          	ld	a,(hl)
1249  0132  6F          	ld	l,a
1250  0133  26 00       	ld	h,0x00
1251  0135  22 00 00    	ld	(_index1),hl
1252  0138  5F          	ld	e,a
1253  0139  E6 0F       	and	a,0x0f
1254  013B  87          	add	a, a
1255  013C  32 00 00    	ld	(_s_col1),a
1256  013F  21 00 00    	ld	hl,_s_lin1
1257  0142  73          	ld	(hl),e
1258  0143  7B          	ld	a,e
1259  0144  07          	rlca
1260  0145  07          	rlca
1261  0146  07          	rlca
1262  0147  07          	rlca
1263  0148  E6 0F       	and	a,0x0f
1264  014A  07          	rlca
1265  014B  07          	rlca
1266  014C  07          	rlca
1267  014D  07          	rlca
1268  014E  E6 F0       	and	a,0xf0
1269  0150  77          	ld	(hl), a
1270  0151  11 00 00    	ld	de,_scr_map
1271  0154  2A 00 00    	ld	hl,(_index1)
1272  0157  19          	add	hl,de
1273  0158  EB          	ex	de,hl
1274  0159  21 00 00    	ld	hl,_sprite
1275  015C  7E          	ld	a, (hl)
1276  015D  C6 80       	add	a,0x80
1277  015F  12          	ld	(de), a
1278  0160  6E          	ld	l,(hl)
1279  0161  26 00       	ld	h,0x00
1280  0163  29          	add	hl, hl
1281  0164  09          	add	hl, bc
1282  0165  AF          	xor	a, a
1283  0166  77          	ld	(hl), a
1284  0167  23          	inc	hl
1285  0168  77          	ld	(hl), a
1286  0169  CD 00 00    	call	_audio_respawn
1287  016C  2A 00 00    	ld	hl,(_sprite)
1288  016F  26 00       	ld	h,0x00
1289  0171  01 00 00    	ld	bc,_game_respawn_tile
1290  0174  09          	add	hl,bc
1291  0175  7E          	ld	a,(hl)
1292  0176  F5          	push	af
1293  0177  33          	inc	sp
1294  0178  21 03 04    	ld	hl,0x0403
1295  017B  E5          	push	hl
1296  017C  2A 00 00    	ld	hl,(_s_col1)
1297  017F  26 8A       	ld	h,0x8a
1298  0181  3A 00 00    	ld	a,(_s_lin1)
1299  0184  E5          	push	hl
1300  0185  F5          	push	af
1301  0186  33          	inc	sp
1302  0187  CD 00 00    	call	_spr_add_anim
1303  018A  F1          	pop	af
1304  018B  F1          	pop	af
1305  018C  F1          	pop	af
1306  018D  18 07       	jr	l_game_respawn_00108
1307  018F              l_game_respawn_00104:
1308  018F  21 00 00    	ld	hl,_sprite
1309  0192  34          	inc	(hl)
1310  0193  C3 FD 00    	jp	l_game_respawn_00105
1311  0196              l_game_respawn_00108:
1312  0196  C9          	ret
1313  0197              	SECTION code_compiler
1314  0197              ;	---------------------------------
1315  0197              ; Function game_draw_screen
1316  0197              ; ---------------------------------
1317  0197              _game_draw_screen:
1318  0197  CD 00 00    	call	___sdcc_enter_ix
1319  019A  3B          	dec	sp
1320  019B  76          	halt
1321  019C  21 00 00    	ld	hl,_game_boss
1322  019F  36 00       	ld	(hl),0x00
1323  01A1  21 00 00    	ld	hl,_game_boss_fix
1324  01A4  36 00       	ld	(hl),0x00
1325  01A6  2A 00 00    	ld	hl,(_curr_time)
1326  01A9  22 00 00    	ld	(_player_brick_time),hl
1327  01AC  21 00 00    	ld	hl,_spr_count
1328  01AF  36 00       	ld	(hl),0x00
1329  01B1  CD 00 00    	call	_spr_init_effects
1330  01B4  01 00 00    	ld	bc,_game_respawn_time+0
1331  01B7              l_game_draw_screen_00101:
1332  01B7  21 00 00    	ld	hl,_spr_count
1333  01BA  7E          	ld	a, (hl)
1334  01BB  D6 07       	sub	a,0x07
1335  01BD  30 46       	jr	NC,l_game_draw_screen_00103
1336  01BF  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1337  01C1  86          	add	a, (hl)
1338  01C2  5F          	ld	e, a
1339  01C3  3E 00       	ld	a, +((_game_respawn_index) / 256)
1340  01C5  CE 00       	adc	a,0x00
1341  01C7  57          	ld	d, a
1342  01C8  AF          	xor	a, a
1343  01C9  12          	ld	(de), a
1344  01CA  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1345  01CC  86          	add	a, (hl)
1346  01CD  5F          	ld	e, a
1347  01CE  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1348  01D0  CE 00       	adc	a,0x00
1349  01D2  57          	ld	d, a
1350  01D3  AF          	xor	a, a
1351  01D4  12          	ld	(de), a
1352  01D5  6E          	ld	l,(hl)
1353  01D6  26 00       	ld	h,0x00
1354  01D8  29          	add	hl, hl
1355  01D9  09          	add	hl, bc
1356  01DA  AF          	xor	a, a
1357  01DB  77          	ld	(hl), a
1358  01DC  23          	inc	hl
1359  01DD  77          	ld	(hl), a
1360  01DE  2A 00 00    	ld	hl,(_spr_count)
1361  01E1  26 00       	ld	h,0x00
1362  01E3  11 00 00    	ld	de,_mush_index
1363  01E6  19          	add	hl,de
1364  01E7  AF          	xor	a,a
1365  01E8  77          	ld	(hl),a
1366  01E9  2A 00 00    	ld	hl,(_spr_count)
1367  01EC  26 00       	ld	h,0x00
1368  01EE  11 00 00    	ld	de,_mush_class
1369  01F1  19          	add	hl,de
1370  01F2  AF          	xor	a,a
1371  01F3  77          	ld	(hl),a
1372  01F4  2A 00 00    	ld	hl,(_spr_count)
1373  01F7  26 00       	ld	h,0x00
1374  01F9  11 00 00    	ld	de,_class
1375  01FC  19          	add	hl,de
1376  01FD  AF          	xor	a,a
1377  01FE  77          	ld	(hl),a
1378  01FF  21 00 00    	ld	hl,_spr_count
1379  0202  34          	inc	(hl)
1380  0203  18 B2       	jr	l_game_draw_screen_00101
1381  0205              l_game_draw_screen_00103:
1382  0205  21 10 00    	ld	hl,0x0010
1383  0208  22 00 00    	ld	(_index1),hl
1384  020B  21 00 00    	ld	hl,_s_lin1
1385  020E  36 00       	ld	(hl),0x00
1386  0210  21 00 00    	ld	hl,_s_col1
1387  0213  36 02       	ld	(hl),0x02
1388  0215  21 00 00    	ld	hl,_spr_count
1389  0218  36 00       	ld	(hl),0x00
1390  021A  21 00 00    	ld	hl,_game_mush_count
1391  021D  36 00       	ld	(hl),0x00
1392  021F  F3          	di
1393  0220  DD 36 FF 00 	ld	(ix-1),0x00
1394  0224              l_game_draw_screen_00127:
1395  0224  21 00 00    	ld	hl,_index1
1396  0227  7E          	ld	a, (hl)
1397  0228  D6 A0       	sub	a,0xa0
1398  022A  23          	inc	hl
1399  022B  7E          	ld	a, (hl)
1400  022C  DE 00       	sbc	a,0x00
1401  022E  D2 40 03    	jp	NC, l_game_draw_screen_00129
1402  0231  2B          	dec	hl
1403  0232  7E          	ld	a, (hl)
1404  0233  E6 0F       	and	a,0x0f
1405  0235  20 0C       	jr	NZ,l_game_draw_screen_00105
1406  0237  21 00 00    	ld	hl,_s_lin1
1407  023A  7E          	ld	a, (hl)
1408  023B  C6 10       	add	a,0x10
1409  023D  77          	ld	(hl), a
1410  023E  21 00 00    	ld	hl,_s_col1
1411  0241  36 00       	ld	(hl),0x00
1412  0243              l_game_draw_screen_00105:
1413  0243  01 00 00    	ld	bc,_scr_map
1414  0246  2A 00 00    	ld	hl,(_index1)
1415  0249  09          	add	hl,bc
1416  024A  7E          	ld	a,(hl)
1417  024B  4D          	ld	c,l
1418  024C  47          	ld	b,a
1419  024D  D6 60       	sub	a,0x60
1420  024F  30 57       	jr	NC,l_game_draw_screen_00125
1421  0251  78          	ld	a, b
1422  0252  D6 5D       	sub	a,0x5d
1423  0254  20 04       	jr	NZ,l_game_draw_screen_00197
1424  0256  3E 01       	ld	a,0x01
1425  0258  18 01       	jr	l_game_draw_screen_00198
1426  025A              l_game_draw_screen_00197:
1427  025A  AF          	xor	a,a
1428  025B              l_game_draw_screen_00198:
1429  025B  4F          	ld	c,a
1430  025C  B7          	or	a, a
1431  025D  20 05       	jr	NZ,l_game_draw_screen_00111
1432  025F  78          	ld	a, b
1433  0260  D6 58       	sub	a,0x58
1434  0262  20 27       	jr	NZ,l_game_draw_screen_00112
1435  0264              l_game_draw_screen_00111:
1436  0264  2A 00 00    	ld	hl,(_index1)
1437  0267  11 F0 FF    	ld	de,0xfff0
1438  026A  19          	add	hl,de
1439  026B  EB          	ex	de,hl
1440  026C  21 01 00    	ld	hl,_index1 + 1
1441  026F  C5          	push	bc
1442  0270  EB          	ex	de,hl
1443  0271  CD 2C 10    	call	_game_obj_chk
1444  0274  C1          	pop	bc
1445  0275  7D          	ld	a,l
1446  0276  B7          	or	a, a
1447  0277  28 0C       	jr	Z,l_game_draw_screen_00109
1448  0279  01 00 00    	ld	bc,_scr_map
1449  027C  2A 00 00    	ld	hl,(_index1)
1450  027F  09          	add	hl,bc
1451  0280  06 4F       	ld	b,0x4f
1452  0282  70          	ld	(hl),b
1453  0283  18 06       	jr	l_game_draw_screen_00112
1454  0285              l_game_draw_screen_00109:
1455  0285  79          	ld	a, c
1456  0286  B7          	or	a, a
1457  0287  28 02       	jr	Z,l_game_draw_screen_00112
1458  0289  06 00       	ld	b,0x00
1459  028B              l_game_draw_screen_00112:
1460  028B  78          	ld	a, b
1461  028C  D6 23       	sub	a,0x23
1462  028E  20 07       	jr	NZ,l_game_draw_screen_00115
1463  0290  2A 00 00    	ld	hl,(_index1)
1464  0293  CD C5 11    	call	_game_match_back
1465  0296  45          	ld	b, l
1466  0297              l_game_draw_screen_00115:
1467  0297  3A 00 00    	ld	a,(_s_col1)
1468  029A  F5          	push	af
1469  029B  33          	inc	sp
1470  029C  3A 00 00    	ld	a,(_s_lin1)
1471  029F  48          	ld	c,b
1472  02A0  47          	ld	b,a
1473  02A1  C5          	push	bc
1474  02A2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1475  02A5  C3 2F 03    	jp	l_game_draw_screen_00126
1476  02A8              l_game_draw_screen_00125:
1477  02A8  3E 78       	ld	a,0x78
1478  02AA  90          	sub	a, b
1479  02AB  38 2F       	jr	C,l_game_draw_screen_00122
1480  02AD  3A 00 00    	ld	a,(_spr_count)
1481  02B0  D6 08       	sub	a,0x08
1482  02B2  30 54       	jr	NC,l_game_draw_screen_00123
1483  02B4  3A 00 00    	ld	a,(_game_boss_alive)
1484  02B7  B7          	or	a, a
1485  02B8  28 4E       	jr	Z,l_game_draw_screen_00123
1486  02BA  3A 00 00    	ld	a,(_spr_count)
1487  02BD  C6 00       	add	a,+((_game_respawn_index) & 0xFF)
1488  02BF  5F          	ld	e,a
1489  02C0  3E 00       	ld	a,+((_game_respawn_index) / 256)
1490  02C2  CE 00       	adc	a,0x00
1491  02C4  57          	ld	d,a
1492  02C5  3A 00 00    	ld	a,(_index1)
1493  02C8  12          	ld	(de), a
1494  02C9  3A 00 00    	ld	a,(_spr_count)
1495  02CC  C6 00       	add	a,+((_game_respawn_tile) & 0xFF)
1496  02CE  5F          	ld	e,a
1497  02CF  3E 00       	ld	a,+((_game_respawn_tile) / 256)
1498  02D1  CE 00       	adc	a,0x00
1499  02D3  57          	ld	d,a
1500  02D4  78          	ld	a, b
1501  02D5  12          	ld	(de), a
1502  02D6  68          	ld	l, b
1503  02D7  CD F1 04    	call	_game_add_enemy
1504  02DA  18 2C       	jr	l_game_draw_screen_00123
1505  02DC              l_game_draw_screen_00122:
1506  02DC  2A 00 00    	ld	hl,(_index1)
1507  02DF  C5          	push	bc
1508  02E0  CD 2C 10    	call	_game_obj_chk
1509  02E3  C1          	pop	bc
1510  02E4  7D          	ld	a,l
1511  02E5  B7          	or	a, a
1512  02E6  20 20       	jr	NZ,l_game_draw_screen_00123
1513  02E8  3E 00       	ld	a, +((_mush_index) & 0xFF)
1514  02EA  DD 86 FF    	add	a,(ix-1)
1515  02ED  5F          	ld	e, a
1516  02EE  3E 00       	ld	a, +((_mush_index) / 256)
1517  02F0  CE 00       	adc	a,0x00
1518  02F2  57          	ld	d, a
1519  02F3  3A 00 00    	ld	a,(_index1)
1520  02F6  C6 10       	add	a,0x10
1521  02F8  12          	ld	(de), a
1522  02F9  3E 00       	ld	a, +((_mush_class) & 0xFF)
1523  02FB  DD 86 FF    	add	a,(ix-1)
1524  02FE  6F          	ld	l, a
1525  02FF  3E 00       	ld	a, +((_mush_class) / 256)
1526  0301  CE 00       	adc	a,0x00
1527  0303  67          	ld	h, a
1528  0304  70          	ld	(hl), b
1529  0305  DD 34 FF    	inc	(ix-1)
1530  0308              l_game_draw_screen_00123:
1531  0308  2A 00 00    	ld	hl,(_index1)
1532  030B  01 00 00    	ld	bc,_scr_map
1533  030E  09          	add	hl,bc
1534  030F  E5          	push	hl
1535  0310  2A 00 00    	ld	hl,(_index1)
1536  0313  CD C5 11    	call	_game_match_back
1537  0316  C1          	pop	bc
1538  0317  7D          	ld	a,l
1539  0318  02          	ld	(bc), a
1540  0319  01 00 00    	ld	bc,_scr_map
1541  031C  2A 00 00    	ld	hl,(_index1)
1542  031F  09          	add	hl,bc
1543  0320  46          	ld	b, (hl)
1544  0321  3A 00 00    	ld	a,(_s_col1)
1545  0324  F5          	push	af
1546  0325  33          	inc	sp
1547  0326  3A 00 00    	ld	a,(_s_lin1)
1548  0329  48          	ld	c,b
1549  032A  47          	ld	b,a
1550  032B  C5          	push	bc
1551  032C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1552  032F              l_game_draw_screen_00126:
1553  032F  21 00 00    	ld	hl,_s_col1
1554  0332  34          	inc	(hl)
1555  0333  34          	inc	(hl)
1556  0334  21 00 00    	ld	hl,_index1
1557  0337  34          	inc	(hl)
1558  0338  C2 24 02    	jp	NZ,l_game_draw_screen_00127
1559  033B  23          	inc	hl
1560  033C  34          	inc	(hl)
1561  033D  C3 24 02    	jp	l_game_draw_screen_00127
1562  0340              l_game_draw_screen_00129:
1563  0340  FB          	ei
1564  0341  3A 00 00    	ld	a,(_game_boss_alive)
1565  0344  B7          	or	a, a
1566  0345  20 03       	jr	NZ,l_game_draw_screen_00131
1567  0347  CD AD 10    	call	_game_boss_clear
1568  034A              l_game_draw_screen_00131:
1569  034A  CD 36 07    	call	_game_update_stats
1570  034D  33          	inc	sp
1571  034E  DD E1       	pop	ix
1572  0350  C9          	ret
1573  0351              	SECTION code_compiler
1574  0351              ;	---------------------------------
1575  0351              ; Function game_boss_kill
1576  0351              ; ---------------------------------
1577  0351              _game_boss_kill:
1578  0351  21 00 00    	ld	hl,_game_boss
1579  0354  36 00       	ld	(hl),0x00
1580  0356  21 00 00    	ld	hl,_game_boss_alive
1581  0359  36 00       	ld	(hl),0x00
1582  035B  CD 00 00    	call	_audio_explosion
1583  035E  21 00 00    	ld	hl,_game_song_play_start
1584  0361  36 00       	ld	(hl),0x00
1585  0363  CD 00 00    	call	_ay_reset
1586  0366  3A 00 00    	ld	a,(_boss_col)
1587  0369  21 00 00    	ld	hl,0x0000
1588  036C  E5          	push	hl
1589  036D  21 87 03    	ld	hl,0x0387
1590  0370  E5          	push	hl
1591  0371  2A 00 00    	ld	hl,(_boss_lin)
1592  0374  67          	ld	h,a
1593  0375  E5          	push	hl
1594  0376  CD 00 00    	call	_spr_add_anim
1595  0379  F1          	pop	af
1596  037A  F1          	pop	af
1597  037B  F1          	pop	af
1598  037C  21 00 00    	ld	hl,_boss_col
1599  037F  46          	ld	b, (hl)
1600  0380  04          	inc	b
1601  0381  04          	inc	b
1602  0382  3A 00 00    	ld	a,(_boss_lin)
1603  0385  21 00 00    	ld	hl,0x0000
1604  0388  E5          	push	hl
1605  0389  21 87 03    	ld	hl,0x0387
1606  038C  E5          	push	hl
1607  038D  4F          	ld	c,a
1608  038E  C5          	push	bc
1609  038F  CD 00 00    	call	_spr_add_anim
1610  0392  F1          	pop	af
1611  0393  F1          	pop	af
1612  0394  F1          	pop	af
1613  0395  3A 00 00    	ld	a,(_boss_lin)
1614  0398  C6 10       	add	a,0x10
1615  039A  47          	ld	b, a
1616  039B  3A 00 00    	ld	a,(_boss_col)
1617  039E  21 00 00    	ld	hl,0x0000
1618  03A1  E5          	push	hl
1619  03A2  21 87 03    	ld	hl,0x0387
1620  03A5  E5          	push	hl
1621  03A6  48          	ld	c,b
1622  03A7  47          	ld	b,a
1623  03A8  C5          	push	bc
1624  03A9  CD 00 00    	call	_spr_add_anim
1625  03AC  F1          	pop	af
1626  03AD  F1          	pop	af
1627  03AE  F1          	pop	af
1628  03AF  21 00 00    	ld	hl,_boss_col
1629  03B2  56          	ld	d, (hl)
1630  03B3  14          	inc	d
1631  03B4  14          	inc	d
1632  03B5  3A 00 00    	ld	a,(_boss_lin)
1633  03B8  C6 10       	add	a,0x10
1634  03BA  47          	ld	b, a
1635  03BB  21 00 00    	ld	hl,0x0000
1636  03BE  E5          	push	hl
1637  03BF  21 87 03    	ld	hl,0x0387
1638  03C2  E5          	push	hl
1639  03C3  58          	ld	e,b
1640  03C4  D5          	push	de
1641  03C5  CD 00 00    	call	_spr_add_anim
1642  03C8  F1          	pop	af
1643  03C9  F1          	pop	af
1644  03CA  F1          	pop	af
1645  03CB  21 00 00    	ld	hl,_tmp0
1646  03CE  36 00       	ld	(hl),0x00
1647  03D0              l_game_boss_kill_00107:
1648  03D0  2A 00 00    	ld	hl,(_tmp0)
1649  03D3  26 00       	ld	h,0x00
1650  03D5  01 00 00    	ld	bc,_bullet_col
1651  03D8  09          	add	hl,bc
1652  03D9  7E          	ld	a,(hl)
1653  03DA  4F          	ld	c,a
1654  03DB  3C          	inc	a
1655  03DC  28 15       	jr	Z,l_game_boss_kill_00102
1656  03DE  3A 00 00    	ld	a,(_tmp0)
1657  03E1  5F          	ld	e,a
1658  03E2  16 00       	ld	d,0x00
1659  03E4  21 00 00    	ld	hl,_bullet_lin
1660  03E7  19          	add	hl,de
1661  03E8  7E          	ld	a,(hl)
1662  03E9  32 00 00    	ld	(_s_lin0),a
1663  03EC  21 00 00    	ld	hl,_s_col0
1664  03EF  71          	ld	(hl), c
1665  03F0  CD 00 00    	call	_spr_back_repaint
1666  03F3              l_game_boss_kill_00102:
1667  03F3  2A 00 00    	ld	hl,(_tmp0)
1668  03F6  26 00       	ld	h,0x00
1669  03F8  01 00 00    	ld	bc,_bullet_col
1670  03FB  09          	add	hl,bc
1671  03FC  36 FF       	ld	(hl),0xff
1672  03FE  2A 00 00    	ld	hl,(_tmp0)
1673  0401  CD 00 00    	call	_spr_destroy
1674  0404  2A 00 00    	ld	hl,(_tmp0)
1675  0407  26 00       	ld	h,0x00
1676  0409  29          	add	hl, hl
1677  040A  11 00 00    	ld	de,_game_respawn_time
1678  040D  19          	add	hl, de
1679  040E  AF          	xor	a, a
1680  040F  77          	ld	(hl), a
1681  0410  23          	inc	hl
1682  0411  77          	ld	(hl), a
1683  0412  21 00 00    	ld	hl,_tmp0
1684  0415  7E          	ld	a,(hl)
1685  0416  3C          	inc	a
1686  0417  77          	ld	(hl),a
1687  0418  D6 07       	sub	a,0x07
1688  041A  38 B4       	jr	C,l_game_boss_kill_00107
1689  041C  CD AD 10    	call	_game_boss_clear
1690  041F  CD C2 05    	call	_game_print_footer
1691  0422  21 00 00    	ld	hl,_game_world
1692  0425  7E          	ld	a, (hl)
1693  0426  D6 03       	sub	a,0x03
1694  0428  20 05       	jr	NZ,l_game_boss_kill_00105
1695  042A  CD 33 04    	call	_game_end
1696  042D  18 03       	jr	l_game_boss_kill_00109
1697  042F              l_game_boss_kill_00105:
1698  042F  CD 00 00    	call	_audio_ingame
1699  0432              l_game_boss_kill_00109:
1700  0432  C9          	ret
1701  0433              	SECTION code_compiler
1702  0433              ;	---------------------------------
1703  0433              ; Function game_end
1704  0433              ; ---------------------------------
1705  0433              _game_end:
1706  0433  21 F4 01    	ld	hl,0x01f4
1707  0436  CD 00 00    	call	_z80_delay_ms_fastcall
1708  0439  21 00 00    	ld	hl,_scr_curr
1709  043C  36 00       	ld	(hl),0x00
1710  043E  CD 00 00    	call	_spr_page_map
1711  0441  CD 97 01    	call	_game_draw_screen
1712  0444  CD 00 00    	call	_audio_game_end
1713  0447  21 80 02    	ld	hl,0x0280
1714  044A  E5          	push	hl
1715  044B  3E 70       	ld	a,0x70
1716  044D  F5          	push	af
1717  044E  33          	inc	sp
1718  044F  CD 00 00    	call	_NIRVANAP_drawT_callee
1719  0452  21 DC 05    	ld	hl,0x05dc
1720  0455  CD 00 00    	call	_z80_delay_ms_fastcall
1721  0458  21 00 00    	ld	hl,___str_0
1722  045B  E5          	push	hl
1723  045C  21 08 08    	ld	hl,0x0808
1724  045F  E5          	push	hl
1725  0460  CD 00 00    	call	_zx_print_str
1726  0463  AF          	xor	a, a
1727  0464  F5          	push	af
1728  0465  33          	inc	sp
1729  0466  21 D0 07    	ld	hl,0x07d0
1730  0469  E5          	push	hl
1731  046A  21 08 18    	ld	hl,0x1808
1732  046D  E5          	push	hl
1733  046E  3E 08       	ld	a,0x08
1734  0470  F5          	push	af
1735  0471  33          	inc	sp
1736  0472  CD 2C 0B    	call	_game_colour_message
1737  0475  F1          	pop	af
1738  0476  F1          	pop	af
1739  0477  21 11 00    	ld	hl,___str_1
1740  047A  E3          	ex	(sp),hl
1741  047B  21 08 07    	ld	hl,0x0708
1742  047E  E5          	push	hl
1743  047F  CD 00 00    	call	_zx_print_str
1744  0482  AF          	xor	a, a
1745  0483  F5          	push	af
1746  0484  33          	inc	sp
1747  0485  21 D0 07    	ld	hl,0x07d0
1748  0488  E5          	push	hl
1749  0489  21 07 18    	ld	hl,0x1807
1750  048C  E5          	push	hl
1751  048D  3E 08       	ld	a,0x08
1752  048F  F5          	push	af
1753  0490  33          	inc	sp
1754  0491  CD 2C 0B    	call	_game_colour_message
1755  0494  F1          	pop	af
1756  0495  F1          	pop	af
1757  0496  21 23 00    	ld	hl,___str_2
1758  0499  E3          	ex	(sp),hl
1759  049A  21 08 05    	ld	hl,0x0508
1760  049D  E5          	push	hl
1761  049E  CD 00 00    	call	_zx_print_str
1762  04A1  AF          	xor	a, a
1763  04A2  F5          	push	af
1764  04A3  33          	inc	sp
1765  04A4  21 D0 07    	ld	hl,0x07d0
1766  04A7  E5          	push	hl
1767  04A8  21 05 1B    	ld	hl,0x1b05
1768  04AB  E5          	push	hl
1769  04AC  3E 08       	ld	a,0x08
1770  04AE  F5          	push	af
1771  04AF  33          	inc	sp
1772  04B0  CD 2C 0B    	call	_game_colour_message
1773  04B3  F1          	pop	af
1774  04B4  F1          	pop	af
1775  04B5  21 3A 00    	ld	hl,___str_3
1776  04B8  E3          	ex	(sp),hl
1777  04B9  21 08 03    	ld	hl,0x0308
1778  04BC  E5          	push	hl
1779  04BD  CD 00 00    	call	_zx_print_str
1780  04C0  AF          	xor	a, a
1781  04C1  F5          	push	af
1782  04C2  33          	inc	sp
1783  04C3  21 D0 07    	ld	hl,0x07d0
1784  04C6  E5          	push	hl
1785  04C7  21 03 1C    	ld	hl,0x1c03
1786  04CA  E5          	push	hl
1787  04CB  3E 08       	ld	a,0x08
1788  04CD  F5          	push	af
1789  04CE  33          	inc	sp
1790  04CF  CD 2C 0B    	call	_game_colour_message
1791  04D2  F1          	pop	af
1792  04D3  F1          	pop	af
1793  04D4  F1          	pop	af
1794  04D5  21 E8 03    	ld	hl,0x03e8
1795  04D8  CD 00 00    	call	_z80_delay_ms_fastcall
1796  04DB  CD 00 00    	call	_in_wait_key
1797  04DE  CD 00 00    	call	_ay_reset
1798  04E1  21 00 00    	ld	hl,_game_world
1799  04E4  36 FF       	ld	(hl),0xff
1800  04E6  21 00 00    	ld	hl,_scr_curr
1801  04E9  36 FF       	ld	(hl),0xff
1802  04EB  21 00 00    	ld	hl,_game_round_up
1803  04EE  36 01       	ld	(hl),0x01
1804  04F0  C9          	ret
1805  04F1              	SECTION rodata_compiler
1806  0000              ___str_0:
1807  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1808  0010  00          	DEFB 0x00
1809  0011              	SECTION rodata_compiler
1810  0011              ___str_1:
1811  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1812  0022  00          	DEFB 0x00
1813  0023              	SECTION rodata_compiler
1814  0023              ___str_2:
1815  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1816  0039  00          	DEFB 0x00
1817  003A              	SECTION rodata_compiler
1818  003A              ___str_3:
1819  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1820  0053  00          	DEFB 0x00
1821  0054              	SECTION code_compiler
1822  04F1              ;	---------------------------------
1823  04F1              ; Function game_add_enemy
1824  04F1              ; ---------------------------------
1825  04F1              _game_add_enemy:
1826  04F1  7D          	ld	a,l
1827  04F2  D6 78       	sub	a,0x78
1828  04F4  28 57       	jr	Z,l_game_add_enemy_00119
1829  04F6  4D          	ld	c,l
1830  04F7  21 00 00    	ld	hl,_tmp0
1831  04FA  36 00       	ld	(hl),0x00
1832  04FC              l_game_add_enemy_00104:
1833  04FC  3E 17       	ld	a,0x17
1834  04FE  21 00 00    	ld	hl,_tmp0
1835  0501  96          	sub	a, (hl)
1836  0502  DA C1 05    	jp	C, l_game_add_enemy_00121
1837  0505  7E          	ld	a, (hl)
1838  0506  5F          	ld	e, a
1839  0507  87          	add	a, a
1840  0508  83          	add	a, e
1841  0509  21 00 00    	ld	hl,_tmp1
1842  050C  77          	ld	(hl), a
1843  050D  C6 00       	add	a,+((_spr_init) & 0xFF)
1844  050F  5F          	ld	e, a
1845  0510  3E 00       	ld	a, +((_spr_init) / 256)
1846  0512  CE 00       	adc	a,0x00
1847  0514  57          	ld	d, a
1848  0515  1A          	ld	a, (de)
1849  0516  91          	sub	a, c
1850  0517  20 2E       	jr	NZ,l_game_add_enemy_00102
1851  0519  6E          	ld	l,(hl)
1852  051A  26 00       	ld	h,0x00
1853  051C  5D          	ld	e,l
1854  051D  54          	ld	d,h
1855  051E  23          	inc	hl
1856  051F  23          	inc	hl
1857  0520  3E 00       	ld	a, +((_spr_init) & 0xFF)
1858  0522  85          	add	a, l
1859  0523  6F          	ld	l, a
1860  0524  3E 00       	ld	a, +((_spr_init) / 256)
1861  0526  8C          	adc	a, h
1862  0527  67          	ld	h, a
1863  0528  46          	ld	b, (hl)
1864  0529  13          	inc	de
1865  052A  21 00 00    	ld	hl,_spr_init
1866  052D  19          	add	hl, de
1867  052E  56          	ld	d, (hl)
1868  052F  C5          	push	bc
1869  0530  4A          	ld	c, d
1870  0531  3A 00 00    	ld	a,(_s_col1)
1871  0534  2A 00 00    	ld	hl,(_s_lin1)
1872  0537  C5          	push	bc
1873  0538  67          	ld	h,a
1874  0539  E5          	push	hl
1875  053A  CD 00 00    	call	_enemy_init
1876  053D  F1          	pop	af
1877  053E  F1          	pop	af
1878  053F  C1          	pop	bc
1879  0540  21 00 00    	ld	hl,_tmp0
1880  0543  36 FF       	ld	(hl),0xff
1881  0545  18 B5       	jr	l_game_add_enemy_00104
1882  0547              l_game_add_enemy_00102:
1883  0547  21 00 00    	ld	hl,_tmp0
1884  054A  34          	inc	(hl)
1885  054B  18 AF       	jr	l_game_add_enemy_00104
1886  054D              l_game_add_enemy_00119:
1887  054D  3A 00 00    	ld	a,(_game_boss)
1888  0550  B7          	or	a, a
1889  0551  20 64       	jr	NZ,l_game_add_enemy_00115
1890  0553  3A 00 00    	ld	a,(_game_boss_alive)
1891  0556  B7          	or	a, a
1892  0557  28 5E       	jr	Z,l_game_add_enemy_00115
1893  0559  3A 00 00    	ld	a,(_s_lin1)
1894  055C  32 00 00    	ld	(_boss_lin),a
1895  055F  3A 00 00    	ld	a,(_s_col1)
1896  0562  32 00 00    	ld	(_boss_col),a
1897  0565  3A 00 00    	ld	a,(_game_world)
1898  0568  B7          	or	a, a
1899  0569  28 10       	jr	Z,l_game_add_enemy_00107
1900  056B  3D          	dec	a
1901  056C  28 14       	jr	Z,l_game_add_enemy_00108
1902  056E  3A 00 00    	ld	a,(_game_world)
1903  0571  FE 02       	cp	a,0x02
1904  0573  28 14       	jr	Z,l_game_add_enemy_00109
1905  0575  D6 03       	sub	a,0x03
1906  0577  28 17       	jr	Z,l_game_add_enemy_00110
1907  0579  18 1A       	jr	l_game_add_enemy_00111
1908  057B              l_game_add_enemy_00107:
1909  057B  21 00 00    	ld	hl,_boss_tile
1910  057E  36 C8       	ld	(hl),0xc8
1911  0580  18 13       	jr	l_game_add_enemy_00111
1912  0582              l_game_add_enemy_00108:
1913  0582  21 00 00    	ld	hl,_boss_tile
1914  0585  36 D8       	ld	(hl),0xd8
1915  0587  18 0C       	jr	l_game_add_enemy_00111
1916  0589              l_game_add_enemy_00109:
1917  0589  21 00 00    	ld	hl,_boss_tile
1918  058C  36 DC       	ld	(hl),0xdc
1919  058E  18 05       	jr	l_game_add_enemy_00111
1920  0590              l_game_add_enemy_00110:
1921  0590  21 00 00    	ld	hl,_boss_tile
1922  0593  36 E0       	ld	(hl),0xe0
1923  0595              l_game_add_enemy_00111:
1924  0595  21 00 00    	ld	hl,_boss_stat
1925  0598  36 00       	ld	(hl),0x00
1926  059A  21 00 00    	ld	hl,_boss_stat
1927  059D  CD 00 00    	call	_spr_set_up
1928  05A0  21 00 00    	ld	hl,_game_boss
1929  05A3  36 01       	ld	(hl),0x01
1930  05A5  21 00 00    	ld	hl,_game_boss_hit
1931  05A8  36 06       	ld	(hl),0x06
1932  05AA  21 00 00    	ld	hl,_game_song_play_start
1933  05AD  36 00       	ld	(hl),0x00
1934  05AF  CD 00 00    	call	_ay_reset
1935  05B2  CD 00 00    	call	_audio_ingame
1936  05B5  18 0A       	jr	l_game_add_enemy_00121
1937  05B7              l_game_add_enemy_00115:
1938  05B7  3A 00 00    	ld	a,(_game_boss)
1939  05BA  B7          	or	a, a
1940  05BB  C0          	ret	NZ
1941  05BC  21 00 00    	ld	hl,_game_boss_fix
1942  05BF  36 01       	ld	(hl),0x01
1943  05C1              l_game_add_enemy_00121:
1944  05C1  C9          	ret
1945  05C2              	SECTION code_compiler
1946  05C2              ;	---------------------------------
1947  05C2              ; Function game_print_footer
1948  05C2              ; ---------------------------------
1949  05C2              _game_print_footer:
1950  05C2  21 00 00    	ld	hl,_screen_ink
1951  05C5  36 05       	ld	(hl),0x05
1952  05C7  21 13 62    	ld	hl,0x6213
1953  05CA  E5          	push	hl
1954  05CB  CD 00 00    	call	_game_fill_row
1955  05CE  21 17 62    	ld	hl,0x6217
1956  05D1  E5          	push	hl
1957  05D2  CD 00 00    	call	_game_fill_row
1958  05D5  21 54 00    	ld	hl,___str_4
1959  05D8  E5          	push	hl
1960  05D9  21 13 00    	ld	hl,0x0013
1961  05DC  E5          	push	hl
1962  05DD  CD 00 00    	call	_zx_print_str
1963  05E0  21 56 00    	ld	hl,___str_5
1964  05E3  E5          	push	hl
1965  05E4  21 13 1F    	ld	hl,0x1f13
1966  05E7  E5          	push	hl
1967  05E8  CD 00 00    	call	_zx_print_str
1968  05EB  21 58 00    	ld	hl,___str_6
1969  05EE  E5          	push	hl
1970  05EF  21 14 00    	ld	hl,0x0014
1971  05F2  E5          	push	hl
1972  05F3  CD 00 00    	call	_zx_print_str
1973  05F6  21 5A 00    	ld	hl,___str_7
1974  05F9  E5          	push	hl
1975  05FA  21 14 1F    	ld	hl,0x1f14
1976  05FD  E5          	push	hl
1977  05FE  CD 00 00    	call	_zx_print_str
1978  0601  21 58 00    	ld	hl,___str_6
1979  0604  E5          	push	hl
1980  0605  21 15 00    	ld	hl,0x0015
1981  0608  E5          	push	hl
1982  0609  CD 00 00    	call	_zx_print_str
1983  060C  21 5A 00    	ld	hl,___str_7
1984  060F  E5          	push	hl
1985  0610  21 15 1F    	ld	hl,0x1f15
1986  0613  E5          	push	hl
1987  0614  CD 00 00    	call	_zx_print_str
1988  0617  21 58 00    	ld	hl,___str_6
1989  061A  E5          	push	hl
1990  061B  21 16 00    	ld	hl,0x0016
1991  061E  E5          	push	hl
1992  061F  CD 00 00    	call	_zx_print_str
1993  0622  21 5A 00    	ld	hl,___str_7
1994  0625  E5          	push	hl
1995  0626  21 16 1F    	ld	hl,0x1f16
1996  0629  E5          	push	hl
1997  062A  CD 00 00    	call	_zx_print_str
1998  062D  21 5C 00    	ld	hl,___str_8
1999  0630  E5          	push	hl
2000  0631  21 17 00    	ld	hl,0x0017
2001  0634  E5          	push	hl
2002  0635  CD 00 00    	call	_zx_print_str
2003  0638  21 5E 00    	ld	hl,___str_9
2004  063B  E5          	push	hl
2005  063C  21 17 1F    	ld	hl,0x1f17
2006  063F  E5          	push	hl
2007  0640  CD 00 00    	call	_zx_print_str
2008  0643  21 60 00    	ld	hl,___str_10
2009  0646  E5          	push	hl
2010  0647  21 15 0F    	ld	hl,0x0f15
2011  064A  E5          	push	hl
2012  064B  CD 00 00    	call	_zx_print_str
2013  064E  21 62 00    	ld	hl,___str_11
2014  0651  E5          	push	hl
2015  0652  21 14 01    	ld	hl,0x0114
2016  0655  E5          	push	hl
2017  0656  CD 00 00    	call	_zx_print_str
2018  0659  21 00 00    	ld	hl,_screen_ink
2019  065C  36 06       	ld	(hl),0x06
2020  065E  21 64 00    	ld	hl,___str_12
2021  0661  E5          	push	hl
2022  0662  21 15 01    	ld	hl,0x0115
2023  0665  E5          	push	hl
2024  0666  CD 00 00    	call	_zx_print_str
2025  0669  21 66 00    	ld	hl,___str_13
2026  066C  E5          	push	hl
2027  066D  21 16 07    	ld	hl,0x0716
2028  0670  E5          	push	hl
2029  0671  CD 00 00    	call	_zx_print_str
2030  0674  21 68 00    	ld	hl,___str_14
2031  0677  E5          	push	hl
2032  0678  21 16 0D    	ld	hl,0x0d16
2033  067B  E5          	push	hl
2034  067C  CD 00 00    	call	_zx_print_str
2035  067F  21 6A 00    	ld	hl,___str_15
2036  0682  E5          	push	hl
2037  0683  21 16 13    	ld	hl,0x1316
2038  0686  E5          	push	hl
2039  0687  CD 00 00    	call	_zx_print_str
2040  068A  21 6C 00    	ld	hl,___str_16
2041  068D  E5          	push	hl
2042  068E  21 16 19    	ld	hl,0x1916
2043  0691  E5          	push	hl
2044  0692  CD 00 00    	call	_zx_print_str
2045  0695  21 00 00    	ld	hl,_screen_ink
2046  0698  36 42       	ld	(hl),0x42
2047  069A  21 6E 00    	ld	hl,___str_17
2048  069D  E5          	push	hl
2049  069E  21 14 08    	ld	hl,0x0814
2050  06A1  E5          	push	hl
2051  06A2  CD 00 00    	call	_zx_print_str
2052  06A5  21 00 00    	ld	hl,_screen_ink
2053  06A8  36 03       	ld	(hl),0x03
2054  06AA  21 70 00    	ld	hl,___str_18
2055  06AD  E5          	push	hl
2056  06AE  21 15 08    	ld	hl,0x0815
2057  06B1  E5          	push	hl
2058  06B2  CD 00 00    	call	_zx_print_str
2059  06B5  21 00 00    	ld	hl,_screen_ink
2060  06B8  36 47       	ld	(hl),0x47
2061  06BA  21 72 00    	ld	hl,___str_19
2062  06BD  E5          	push	hl
2063  06BE  21 14 0F    	ld	hl,0x0f14
2064  06C1  E5          	push	hl
2065  06C2  CD 00 00    	call	_zx_print_str
2066  06C5  21 00 00    	ld	hl,_screen_ink
2067  06C8  36 45       	ld	(hl),0x45
2068  06CA  21 74 00    	ld	hl,___str_20
2069  06CD  E5          	push	hl
2070  06CE  21 14 15    	ld	hl,0x1514
2071  06D1  E5          	push	hl
2072  06D2  CD 00 00    	call	_zx_print_str
2073  06D5  21 00 00    	ld	hl,_screen_ink
2074  06D8  36 07       	ld	(hl),0x07
2075  06DA  21 76 00    	ld	hl,___str_21
2076  06DD  E5          	push	hl
2077  06DE  21 15 15    	ld	hl,0x1515
2078  06E1  E5          	push	hl
2079  06E2  CD 00 00    	call	_zx_print_str
2080  06E5  3A 00 00    	ld	a,(_game_debug)
2081  06E8  B7          	or	a, a
2082  06E9  28 0B       	jr	Z,l_game_print_footer_00102
2083  06EB  21 78 00    	ld	hl,___str_22
2084  06EE  E5          	push	hl
2085  06EF  21 17 14    	ld	hl,0x1417
2086  06F2  E5          	push	hl
2087  06F3  CD 00 00    	call	_zx_print_str
2088  06F6              l_game_print_footer_00102:
2089  06F6  21 7D 00    	ld	hl,___str_23
2090  06F9  E5          	push	hl
2091  06FA  21 16 02    	ld	hl,0x0216
2092  06FD  E5          	push	hl
2093  06FE  CD 00 00    	call	_zx_print_str
2094  0701  CD 36 07    	call	_game_update_stats
2095  0704  C9          	ret
2096  0705              	SECTION rodata_compiler
2097  0054              ___str_4:
2098  0054  61          	DEFM "a"
2099  0055  00          	DEFB 0x00
2100  0056              	SECTION rodata_compiler
2101  0056              ___str_5:
2102  0056  63          	DEFM "c"
2103  0057  00          	DEFB 0x00
2104  0058              	SECTION rodata_compiler
2105  0058              ___str_6:
2106  0058  64          	DEFM "d"
2107  0059  00          	DEFB 0x00
2108  005A              	SECTION rodata_compiler
2109  005A              ___str_7:
2110  005A  65          	DEFM "e"
2111  005B  00          	DEFB 0x00
2112  005C              	SECTION rodata_compiler
2113  005C              ___str_8:
2114  005C  66          	DEFM "f"
2115  005D  00          	DEFB 0x00
2116  005E              	SECTION rodata_compiler
2117  005E              ___str_9:
2118  005E  67          	DEFM "g"
2119  005F  00          	DEFB 0x00
2120  0060              	SECTION rodata_compiler
2121  0060              ___str_10:
2122  0060  5F          	DEFM "_"
2123  0061  00          	DEFB 0x00
2124  0062              	SECTION rodata_compiler
2125  0062              ___str_11:
2126  0062  3C          	DEFM "<"
2127  0063  00          	DEFB 0x00
2128  0064              	SECTION rodata_compiler
2129  0064              ___str_12:
2130  0064  5C          	DEFB 0x5c
2131  0065  00          	DEFB 0x00
2132  0066              	SECTION rodata_compiler
2133  0066              ___str_13:
2134  0066  6C          	DEFM "l"
2135  0067  00          	DEFB 0x00
2136  0068              	SECTION rodata_compiler
2137  0068              ___str_14:
2138  0068  6D          	DEFM "m"
2139  0069  00          	DEFB 0x00
2140  006A              	SECTION rodata_compiler
2141  006A              ___str_15:
2142  006A  6E          	DEFM "n"
2143  006B  00          	DEFB 0x00
2144  006C              	SECTION rodata_compiler
2145  006C              ___str_16:
2146  006C  6F          	DEFM "o"
2147  006D  00          	DEFB 0x00
2148  006E              	SECTION rodata_compiler
2149  006E              ___str_17:
2150  006E  3E          	DEFM ">"
2151  006F  00          	DEFB 0x00
2152  0070              	SECTION rodata_compiler
2153  0070              ___str_18:
2154  0070  5E          	DEFM "^"
2155  0071  00          	DEFB 0x00
2156  0072              	SECTION rodata_compiler
2157  0072              ___str_19:
2158  0072  3F          	DEFM "?"
2159  0073  00          	DEFB 0x00
2160  0074              	SECTION rodata_compiler
2161  0074              ___str_20:
2162  0074  78          	DEFM "x"
2163  0075  00          	DEFB 0x00
2164  0076              	SECTION rodata_compiler
2165  0076              ___str_21:
2166  0076  79          	DEFM "y"
2167  0077  00          	DEFB 0x00
2168  0078              	SECTION rodata_compiler
2169  0078              ___str_22:
2170  0078  4C 50 53 3A 	DEFM "LPS:"
2171  007C  00          	DEFB 0x00
2172  007D              	SECTION rodata_compiler
2173  007D              ___str_23:
2174  007D  20 20 20 20 	DEFM "    "
2175  0081  00          	DEFB 0x00
2176  0082              	SECTION code_compiler
2177  0705              ;	---------------------------------
2178  0705              ; Function game_print_score
2179  0705              ; ---------------------------------
2180  0705              _game_print_score:
2181  0705  21 00 00    	ld	hl,_screen_ink
2182  0708  36 07       	ld	(hl),0x07
2183  070A  21 00 00    	ld	hl,_screen_paper
2184  070D  36 00       	ld	(hl),0x00
2185  070F  2A 00 00    	ld	hl,(_player_score)
2186  0712  E5          	push	hl
2187  0713  21 14 17    	ld	hl,0x1714
2188  0716  E5          	push	hl
2189  0717  CD 00 00    	call	_zx_print_int
2190  071A  2A 00 00    	ld	hl,(_game_score_top)
2191  071D  E5          	push	hl
2192  071E  21 00 0E    	ld	hl,0x0e00
2193  0721  E5          	push	hl
2194  0722  CD 00 00    	call	_zx_print_int
2195  0725  C9          	ret
2196  0726              	SECTION code_compiler
2197  0726              ;	---------------------------------
2198  0726              ; Function game_cls
2199  0726              ; ---------------------------------
2200  0726              _game_cls:
2201  0726  CD 00 00    	call	_NIRVANAP_stop
2202  0729  2E 00       	ld	l,0x00
2203  072B  CD 00 00    	call	_zx_cls_fastcall
2204  072E  21 00 00    	ld	hl,_screen_ink
2205  0731  36 07       	ld	(hl),0x07
2206  0733  C3 00 00    	jp  _NIRVANAP_start
2207  0736              	SECTION code_compiler
2208  0736              ;	---------------------------------
2209  0736              ; Function game_update_stats
2210  0736              ; ---------------------------------
2211  0736              _game_update_stats:
2212  0736  21 00 00    	ld	hl,_screen_ink
2213  0739  36 07       	ld	(hl),0x07
2214  073B  3A 00 00    	ld	a,(_player_lives)
2215  073E  F5          	push	af
2216  073F  33          	inc	sp
2217  0740  21 14 03    	ld	hl,0x0314
2218  0743  E5          	push	hl
2219  0744  CD 00 00    	call	_zx_print_chr
2220  0747  3A 00 00    	ld	a,(_player_coins)
2221  074A  F5          	push	af
2222  074B  33          	inc	sp
2223  074C  21 16 09    	ld	hl,0x0916
2224  074F  E5          	push	hl
2225  0750  CD 00 00    	call	_zx_print_chr
2226  0753  3A 00 00    	ld	a,(_player_str)
2227  0756  F5          	push	af
2228  0757  33          	inc	sp
2229  0758  21 16 0F    	ld	hl,0x0f16
2230  075B  E5          	push	hl
2231  075C  CD 00 00    	call	_zx_print_chr
2232  075F  3A 00 00    	ld	a,(_player_int)
2233  0762  F5          	push	af
2234  0763  33          	inc	sp
2235  0764  21 16 15    	ld	hl,0x1516
2236  0767  E5          	push	hl
2237  0768  CD 00 00    	call	_zx_print_chr
2238  076B  3A 00 00    	ld	a,(_player_lvl)
2239  076E  F5          	push	af
2240  076F  33          	inc	sp
2241  0770  21 16 1B    	ld	hl,0x1b16
2242  0773  E5          	push	hl
2243  0774  CD 00 00    	call	_zx_print_chr
2244  0777  21 00 00    	ld	hl,_screen_ink
2245  077A  36 02       	ld	(hl),0x02
2246  077C  3A 00 00    	ld	a,(_player_vita)
2247  077F  F5          	push	af
2248  0780  33          	inc	sp
2249  0781  21 14 0A    	ld	hl,0x0a14
2250  0784  E5          	push	hl
2251  0785  CD 00 00    	call	_zx_print_chr
2252  0788  21 00 00    	ld	hl,_screen_ink
2253  078B  36 01       	ld	(hl),0x01
2254  078D  3A 00 00    	ld	a,(_player_mana)
2255  0790  F5          	push	af
2256  0791  33          	inc	sp
2257  0792  21 14 11    	ld	hl,0x1114
2258  0795  E5          	push	hl
2259  0796  CD 00 00    	call	_zx_print_chr
2260  0799  3A 00 00    	ld	a,(_game_boss)
2261  079C  B7          	or	a, a
2262  079D  28 38       	jr	Z,l_game_update_stats_00106
2263  079F  21 00 00    	ld	hl,_screen_ink
2264  07A2  36 03       	ld	(hl),0x03
2265  07A4  21 00 00    	ld	hl,_tmp0
2266  07A7  36 00       	ld	(hl),0x00
2267  07A9              l_game_update_stats_00115:
2268  07A9  21 00 00    	ld	hl,_tmp0
2269  07AC  7E          	ld	a, (hl)
2270  07AD  C6 0D       	add	a,0x0d
2271  07AF  47          	ld	b, a
2272  07B0  7E          	ld	a, (hl)
2273  07B1  21 00 00    	ld	hl,_game_boss_hit
2274  07B4  96          	sub	a, (hl)
2275  07B5  30 0C       	jr	NC,l_game_update_stats_00102
2276  07B7  21 82 00    	ld	hl,___str_24
2277  07BA  E5          	push	hl
2278  07BB  0E 13       	ld	c,0x13
2279  07BD  C5          	push	bc
2280  07BE  CD 00 00    	call	_zx_print_str
2281  07C1  18 0A       	jr	l_game_update_stats_00116
2282  07C3              l_game_update_stats_00102:
2283  07C3  21 84 00    	ld	hl,___str_25
2284  07C6  E5          	push	hl
2285  07C7  0E 13       	ld	c,0x13
2286  07C9  C5          	push	bc
2287  07CA  CD 00 00    	call	_zx_print_str
2288  07CD              l_game_update_stats_00116:
2289  07CD  21 00 00    	ld	hl,_tmp0
2290  07D0  7E          	ld	a,(hl)
2291  07D1  3C          	inc	a
2292  07D2  77          	ld	(hl),a
2293  07D3  D6 06       	sub	a,0x06
2294  07D5  38 D2       	jr	C,l_game_update_stats_00115
2295  07D7              l_game_update_stats_00106:
2296  07D7  3A 00 00    	ld	a,(_player_keys)
2297  07DA  B7          	or	a, a
2298  07DB  28 10       	jr	Z,l_game_update_stats_00108
2299  07DD  21 00 00    	ld	hl,_screen_ink
2300  07E0  36 07       	ld	(hl),0x07
2301  07E2  21 86 00    	ld	hl,___str_26
2302  07E5  E5          	push	hl
2303  07E6  21 16 02    	ld	hl,0x0216
2304  07E9  E5          	push	hl
2305  07EA  CD 00 00    	call	_zx_print_str
2306  07ED              l_game_update_stats_00108:
2307  07ED  3A 01 00    	ld	a, (_player_keys + 1)
2308  07F0  B7          	or	a, a
2309  07F1  28 10       	jr	Z,l_game_update_stats_00110
2310  07F3  21 00 00    	ld	hl,_screen_ink
2311  07F6  36 02       	ld	(hl),0x02
2312  07F8  21 86 00    	ld	hl,___str_26
2313  07FB  E5          	push	hl
2314  07FC  21 16 03    	ld	hl,0x0316
2315  07FF  E5          	push	hl
2316  0800  CD 00 00    	call	_zx_print_str
2317  0803              l_game_update_stats_00110:
2318  0803  3A 02 00    	ld	a, (_player_keys + 2)
2319  0806  B7          	or	a, a
2320  0807  28 10       	jr	Z,l_game_update_stats_00112
2321  0809  21 00 00    	ld	hl,_screen_ink
2322  080C  36 04       	ld	(hl),0x04
2323  080E  21 86 00    	ld	hl,___str_26
2324  0811  E5          	push	hl
2325  0812  21 16 04    	ld	hl,0x0416
2326  0815  E5          	push	hl
2327  0816  CD 00 00    	call	_zx_print_str
2328  0819              l_game_update_stats_00112:
2329  0819  3A 03 00    	ld	a, (_player_keys + 3)
2330  081C  B7          	or	a, a
2331  081D  C8          	ret	Z
2332  081E  21 00 00    	ld	hl,_screen_ink
2333  0821  36 05       	ld	(hl),0x05
2334  0823  21 86 00    	ld	hl,___str_26
2335  0826  E5          	push	hl
2336  0827  21 16 05    	ld	hl,0x0516
2337  082A  E5          	push	hl
2338  082B  CD 00 00    	call	_zx_print_str
2339  082E  C9          	ret
2340  082F              	SECTION rodata_compiler
2341  0082              ___str_24:
2342  0082  2A          	DEFM "*"
2343  0083  00          	DEFB 0x00
2344  0084              	SECTION rodata_compiler
2345  0084              ___str_25:
2346  0084  20          	DEFM " "
2347  0085  00          	DEFB 0x00
2348  0086              	SECTION rodata_compiler
2349  0086              ___str_26:
2350  0086  5D          	DEFM "]"
2351  0087  00          	DEFB 0x00
2352  0088              	SECTION code_compiler
2353  082F              ;	---------------------------------
2354  082F              ; Function game_tick
2355  082F              ; ---------------------------------
2356  082F              _game_tick:
2357  082F  21 00 00    	ld	hl,_curr_time
2358  0832  34          	inc	(hl)
2359  0833  C2 00 00    	jp	NZ,_zx_isr
2360  0836  23          	inc	hl
2361  0837  34          	inc	(hl)
2362  0838  C3 00 00    	jp  _zx_isr
2363  083B              	SECTION code_compiler
2364  083B              ;	---------------------------------
2365  083B              ; Function game_start_timer
2366  083B              ; ---------------------------------
2367  083B              _game_start_timer:
2368  083B  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2369  083E  36 CD       	ld	(hl),0xcd
2370  0840  23          	inc	hl
2371  0841  11 2F 08    	ld	de,_game_tick
2372  0844  73          	ld	(hl), e
2373  0845  23          	inc	hl
2374  0846  72          	ld	(hl), d
2375  0847  C9          	ret
2376  0848              	SECTION code_compiler
2377  0848              ;	---------------------------------
2378  0848              ; Function game_set_checkpoint
2379  0848              ; ---------------------------------
2380  0848              _game_set_checkpoint:
2381  0848  3A 00 00    	ld	a,(_player_col_scr)
2382  084B  CB 3F       	srl	a
2383  084D  87          	add	a, a
2384  084E  32 00 00    	ld	(_game_checkpoint_col),a
2385  0851  3A 00 00    	ld	a,(_player_lin_scr)
2386  0854  07          	rlca
2387  0855  07          	rlca
2388  0856  07          	rlca
2389  0857  07          	rlca
2390  0858  E6 0F       	and	a,0x0f
2391  085A  07          	rlca
2392  085B  07          	rlca
2393  085C  07          	rlca
2394  085D  07          	rlca
2395  085E  E6 F0       	and	a,0xf0
2396  0860  32 00 00    	ld	(_game_checkpoint_lin),a
2397  0863  3A 00 00    	ld	a,(_scr_curr)
2398  0866  32 00 00    	ld	(_game_checkpoint_scr),a
2399  0869  C9          	ret
2400  086A              	SECTION code_compiler
2401  086A              ;	---------------------------------
2402  086A              ; Function game_round_init
2403  086A              ; ---------------------------------
2404  086A              _game_round_init:
2405  086A  21 00 00    	ld	hl,0x0000
2406  086D  22 00 00    	ld	(_loop_count),hl
2407  0870  21 00 00    	ld	hl,0
2408  0873  22 00 00    	ld	(_curr_time),hl
2409  0876  21 00 00    	ld	hl,0x0000
2410  0879  22 00 00    	ld	(_frame_time),hl
2411  087C  CD 00 00    	call	_spr_init_effects
2412  087F  CD 49 09    	call	_game_print_header
2413  0882  CD C2 05    	call	_game_print_footer
2414  0885  CD 00 00    	call	_spr_page_map
2415  0888  CD 00 00    	call	_ay_reset
2416  088B  CD 00 00    	call	_audio_level_start
2417  088E  CD 97 01    	call	_game_draw_screen
2418  0891  CD 48 08    	call	_game_set_checkpoint
2419  0894  21 00 00    	ld	hl,_game_song_play_start
2420  0897  36 00       	ld	(hl),0x00
2421  0899  3A 00 00    	ld	a,(_game_over)
2422  089C  B7          	or	a, a
2423  089D  20 10       	jr	NZ,l_game_round_init_00102
2424  089F  2A 00 00    	ld	hl,(_player_col_scr)
2425  08A2  26 70       	ld	h,0x70
2426  08A4  3A 00 00    	ld	a,(_player_lin_scr)
2427  08A7  E5          	push	hl
2428  08A8  F5          	push	af
2429  08A9  33          	inc	sp
2430  08AA  CD 00 00    	call	_player_init
2431  08AD  F1          	pop	af
2432  08AE  33          	inc	sp
2433  08AF              l_game_round_init_00102:
2434  08AF  CD 36 07    	call	_game_update_stats
2435  08B2  3A 00 00    	ld	a,(_game_debug)
2436  08B5  B7          	or	a, a
2437  08B6  C2 45 09    	jp	NZ, l_game_round_init_00109
2438  08B9  3A 00 00    	ld	a,(_game_world)
2439  08BC  B7          	or	a, a
2440  08BD  28 10       	jr	Z,l_game_round_init_00103
2441  08BF  3D          	dec	a
2442  08C0  28 1F       	jr	Z,l_game_round_init_00104
2443  08C2  3A 00 00    	ld	a,(_game_world)
2444  08C5  FE 02       	cp	a,0x02
2445  08C7  28 2A       	jr	Z,l_game_round_init_00105
2446  08C9  D6 03       	sub	a,0x03
2447  08CB  28 38       	jr	Z,l_game_round_init_00106
2448  08CD  18 46       	jr	l_game_round_init_00107
2449  08CF              l_game_round_init_00103:
2450  08CF  21 88 00    	ld	hl,___str_27
2451  08D2  E5          	push	hl
2452  08D3  21 0C 06    	ld	hl,0x060c
2453  08D6  E5          	push	hl
2454  08D7  CD 00 00    	call	_zx_print_str
2455  08DA  21 00 00    	ld	hl,_tmp0
2456  08DD  36 11       	ld	(hl),0x11
2457  08DF  18 34       	jr	l_game_round_init_00107
2458  08E1              l_game_round_init_00104:
2459  08E1  21 9A 00    	ld	hl,___str_28
2460  08E4  E5          	push	hl
2461  08E5  21 0C 06    	ld	hl,0x060c
2462  08E8  E5          	push	hl
2463  08E9  CD 00 00    	call	_zx_print_str
2464  08EC  21 00 00    	ld	hl,_tmp0
2465  08EF  36 0D       	ld	(hl),0x0d
2466  08F1  18 22       	jr	l_game_round_init_00107
2467  08F3              l_game_round_init_00105:
2468  08F3  21 A8 00    	ld	hl,___str_29
2469  08F6  E5          	push	hl
2470  08F7  21 0C 06    	ld	hl,0x060c
2471  08FA  E5          	push	hl
2472  08FB  CD 00 00    	call	_zx_print_str
2473  08FE  21 00 00    	ld	hl,_tmp0
2474  0901  36 0E       	ld	(hl),0x0e
2475  0903  18 10       	jr	l_game_round_init_00107
2476  0905              l_game_round_init_00106:
2477  0905  21 B7 00    	ld	hl,___str_30
2478  0908  E5          	push	hl
2479  0909  21 0C 06    	ld	hl,0x060c
2480  090C  E5          	push	hl
2481  090D  CD 00 00    	call	_zx_print_str
2482  0910  21 00 00    	ld	hl,_tmp0
2483  0913  36 11       	ld	(hl),0x11
2484  0915              l_game_round_init_00107:
2485  0915  3A 00 00    	ld	a,(_tmp0)
2486  0918  C6 06       	add	a,0x06
2487  091A  4F          	ld	c, a
2488  091B  06 68       	ld	b,0x68
2489  091D  C5          	push	bc
2490  091E  3E 06       	ld	a,0x06
2491  0920  F5          	push	af
2492  0921  33          	inc	sp
2493  0922  21 00 00    	ld	hl,_attrib_osd
2494  0925  E5          	push	hl
2495  0926  CD 02 0B    	call	_game_paint_attrib
2496  0929  F1          	pop	af
2497  092A  F1          	pop	af
2498  092B  33          	inc	sp
2499  092C  3A 00 00    	ld	a,(_tmp0)
2500  092F  C6 06       	add	a,0x06
2501  0931  47          	ld	b, a
2502  0932  AF          	xor	a, a
2503  0933  F5          	push	af
2504  0934  33          	inc	sp
2505  0935  21 C8 00    	ld	hl,0x00c8
2506  0938  E5          	push	hl
2507  0939  C5          	push	bc
2508  093A  33          	inc	sp
2509  093B  21 0C 06    	ld	hl,0x060c
2510  093E  E5          	push	hl
2511  093F  CD 2C 0B    	call	_game_colour_message
2512  0942  F1          	pop	af
2513  0943  F1          	pop	af
2514  0944  F1          	pop	af
2515  0945              l_game_round_init_00109:
2516  0945  CD 00 00    	call	_audio_ingame
2517  0948  C9          	ret
2518  0949              	SECTION rodata_compiler
2519  0088              ___str_27:
2520  0088  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2521  0099  00          	DEFB 0x00
2522  009A              	SECTION rodata_compiler
2523  009A              ___str_28:
2524  009A  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2525  00A7  00          	DEFB 0x00
2526  00A8              	SECTION rodata_compiler
2527  00A8              ___str_29:
2528  00A8  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2529  00B6  00          	DEFB 0x00
2530  00B7              	SECTION rodata_compiler
2531  00B7              ___str_30:
2532  00B7  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2533  00C8  00          	DEFB 0x00
2534  00C9              	SECTION code_compiler
2535  0949              ;	---------------------------------
2536  0949              ; Function game_print_header
2537  0949              ; ---------------------------------
2538  0949              _game_print_header:
2539  0949  21 00 00    	ld	hl,_screen_ink
2540  094C  36 02       	ld	(hl),0x02
2541  094E  21 C9 00    	ld	hl,___str_31
2542  0951  E5          	push	hl
2543  0952  21 00 0B    	ld	hl,0x0b00
2544  0955  E5          	push	hl
2545  0956  CD 00 00    	call	_zx_print_str
2546  0959  21 00 00    	ld	hl,_screen_ink
2547  095C  36 07       	ld	(hl),0x07
2548  095E  CD 05 07    	call	_game_print_score
2549  0961  C9          	ret
2550  0962              	SECTION rodata_compiler
2551  00C9              ___str_31:
2552  00C9  24 25 7C    	DEFM "$%|"
2553  00CC  00          	DEFB 0x00
2554  00CD              	SECTION code_compiler
2555  0962              ;	---------------------------------
2556  0962              ; Function game_check_map
2557  0962              ; ---------------------------------
2558  0962              _game_check_map:
2559  0962  CD 00 00    	call	___sdcc_enter_ix
2560  0965  DD CB 05 46 	bit	0,(ix+5)
2561  0969  20 18       	jr	NZ,l_game_check_map_00108
2562  096B  DD 66 05    	ld	h,(ix+5)
2563  096E  DD 6E 04    	ld	l,(ix+4)
2564  0971  E5          	push	hl
2565  0972  CD 00 00    	call	_spr_calc_index
2566  0975  F1          	pop	af
2567  0976  22 00 00    	ld	(_index1),hl
2568  0979  21 00 00    	ld	hl,_index1
2569  097C  CD DE 09    	call	_game_check_cell
2570  097F  26 00       	ld	h,0x00
2571  0981  18 58       	jr	l_game_check_map_00110
2572  0983              l_game_check_map_00108:
2573  0983  21 00 00    	ld	hl,_g_player_hit_left
2574  0986  36 00       	ld	(hl),0x00
2575  0988  21 00 00    	ld	hl,_g_player_hit_right
2576  098B  36 00       	ld	(hl),0x00
2577  098D  DD 46 05    	ld	b,(ix+5)
2578  0990  05          	dec	b
2579  0991  DD 4E 04    	ld	c,(ix+4)
2580  0994  C5          	push	bc
2581  0995  CD 00 00    	call	_spr_calc_index
2582  0998  F1          	pop	af
2583  0999  22 00 00    	ld	(_index1),hl
2584  099C  21 00 00    	ld	hl,_index1
2585  099F  CD DE 09    	call	_game_check_cell
2586  09A2  7D          	ld	a, l
2587  09A3  B7          	or	a, a
2588  09A4  28 05       	jr	Z,l_game_check_map_00102
2589  09A6  21 00 00    	ld	hl,_g_player_hit_left
2590  09A9  36 01       	ld	(hl),0x01
2591  09AB              l_game_check_map_00102:
2592  09AB  3A 00 00    	ld	a,(_g_player_hit_left)
2593  09AE  B7          	or	a, a
2594  09AF  20 17       	jr	NZ,l_game_check_map_00106
2595  09B1  21 00 00    	ld	hl,_index1
2596  09B4  34          	inc	(hl)
2597  09B5  20 02       	jr	NZ,l_game_check_map_00141
2598  09B7  23          	inc	hl
2599  09B8  34          	inc	(hl)
2600  09B9              l_game_check_map_00141:
2601  09B9  21 00 00    	ld	hl,_index1
2602  09BC  CD DE 09    	call	_game_check_cell
2603  09BF  7D          	ld	a, l
2604  09C0  B7          	or	a, a
2605  09C1  28 05       	jr	Z,l_game_check_map_00106
2606  09C3  21 00 00    	ld	hl,_g_player_hit_right
2607  09C6  36 01       	ld	(hl),0x01
2608  09C8              l_game_check_map_00106:
2609  09C8  3A 00 00    	ld	a,(_g_player_hit_left)
2610  09CB  B7          	or	a, a
2611  09CC  20 09       	jr	NZ,l_game_check_map_00113
2612  09CE  3A 00 00    	ld	a,(_g_player_hit_right)
2613  09D1  B7          	or	a,a
2614  09D2  20 03       	jr	NZ,l_game_check_map_00113
2615  09D4  6F          	ld	l,a
2616  09D5  18 02       	jr	l_game_check_map_00114
2617  09D7              l_game_check_map_00113:
2618  09D7  2E 01       	ld	l,0x01
2619  09D9              l_game_check_map_00114:
2620  09D9  26 00       	ld	h,0x00
2621  09DB              l_game_check_map_00110:
2622  09DB  DD E1       	pop	ix
2623  09DD  C9          	ret
2624  09DE              	SECTION code_compiler
2625  09DE              ;	---------------------------------
2626  09DE              ; Function game_check_cell
2627  09DE              ; ---------------------------------
2628  09DE              _game_check_cell:
2629  09DE  CD 00 00    	call	___sdcc_enter_ix
2630  09E1  3B          	dec	sp
2631  09E2  4E          	ld	c, (hl)
2632  09E3  23          	inc	hl
2633  09E4  46          	ld	b, (hl)
2634  09E5  3E A0       	ld	a,0xa0
2635  09E7  B9          	cp	a, c
2636  09E8  3E 00       	ld	a,0x00
2637  09EA  98          	sbc	a, b
2638  09EB  30 05       	jr	NC,l_game_check_cell_00102
2639  09ED  2E 01       	ld	l,0x01
2640  09EF  C3 FE 0A    	jp	l_game_check_cell_00160
2641  09F2              l_game_check_cell_00102:
2642  09F2  21 00 00    	ld	hl,_scr_map
2643  09F5  09          	add	hl, bc
2644  09F6  7E          	ld	a,(hl)
2645  09F7  57          	ld	d,a
2646  09F8  D6 44       	sub	a,0x44
2647  09FA  3E 00       	ld	a,0x00
2648  09FC  17          	rla
2649  09FD  DD 77 FF    	ld	(ix-1),a
2650  0A00  3E 47       	ld	a,0x47
2651  0A02  92          	sub	a, d
2652  0A03  3E 00       	ld	a,0x00
2653  0A05  17          	rla
2654  0A06  5F          	ld	e, a
2655  0A07  3A 00 00    	ld	a,(_sprite)
2656  0A0A  D6 07       	sub	a,0x07
2657  0A0C  CA A2 0A    	jp	Z,l_game_check_cell_00158
2658  0A0F  2A 00 00    	ld	hl,(_sprite)
2659  0A12  26 00       	ld	h,0x00
2660  0A14  01 00 00    	ld	bc,_class
2661  0A17  09          	add	hl,bc
2662  0A18  4E          	ld	c,(hl)
2663  0A19  06 00       	ld	b,0x00
2664  0A1B  21 00 00    	ld	hl,_sprite_kind
2665  0A1E  09          	add	hl, bc
2666  0A1F  7E          	ld	a,(hl)
2667  0A20  47          	ld	b,a
2668  0A21  D6 05       	sub	a,0x05
2669  0A23  20 04       	jr	NZ,l_game_check_cell_00104
2670  0A25  6F          	ld	l,a
2671  0A26  C3 FE 0A    	jp	l_game_check_cell_00160
2672  0A29              l_game_check_cell_00104:
2673  0A29  7A          	ld	a, d
2674  0A2A  D6 80       	sub	a,0x80
2675  0A2C  38 05       	jr	C,l_game_check_cell_00106
2676  0A2E  2E 00       	ld	l,0x00
2677  0A30  C3 FE 0A    	jp	l_game_check_cell_00160
2678  0A33              l_game_check_cell_00106:
2679  0A33  7A          	ld	a, d
2680  0A34  D6 23       	sub	a,0x23
2681  0A36  20 12       	jr	NZ,l_game_check_cell_00108
2682  0A38  79          	ld	a,c
2683  0A39  FE 06       	cp	a,0x06
2684  0A3B  28 0D       	jr	Z,l_game_check_cell_00108
2685  0A3D  FE 07       	cp	a,0x07
2686  0A3F  28 09       	jr	Z,l_game_check_cell_00108
2687  0A41  D6 08       	sub	a,0x08
2688  0A43  28 05       	jr	Z,l_game_check_cell_00108
2689  0A45  2E 01       	ld	l,0x01
2690  0A47  C3 FE 0A    	jp	l_game_check_cell_00160
2691  0A4A              l_game_check_cell_00108:
2692  0A4A  78          	ld	a,b
2693  0A4B  FE 02       	cp	a,0x02
2694  0A4D  28 04       	jr	Z,l_game_check_cell_00124
2695  0A4F  D6 06       	sub	a,0x06
2696  0A51  20 2F       	jr	NZ,l_game_check_cell_00125
2697  0A53              l_game_check_cell_00124:
2698  0A53  79          	ld	a,c
2699  0A54  FE 09       	cp	a,0x09
2700  0A56  28 04       	jr	Z,l_game_check_cell_00120
2701  0A58  D6 0A       	sub	a,0x0a
2702  0A5A  20 0E       	jr	NZ,l_game_check_cell_00121
2703  0A5C              l_game_check_cell_00120:
2704  0A5C  3E 3A       	ld	a,0x3a
2705  0A5E  92          	sub	a, d
2706  0A5F  38 05       	jr	C,l_game_check_cell_00113
2707  0A61  2E 00       	ld	l,0x00
2708  0A63  C3 FE 0A    	jp	l_game_check_cell_00160
2709  0A66              l_game_check_cell_00113:
2710  0A66  6A          	ld	l, d
2711  0A67  C3 FE 0A    	jp	l_game_check_cell_00160
2712  0A6A              l_game_check_cell_00121:
2713  0A6A  3E 2F       	ld	a,0x2f
2714  0A6C  92          	sub	a, d
2715  0A6D  30 0A       	jr	NC,l_game_check_cell_00115
2716  0A6F  DD CB FF 46 	bit	0,(ix-1)
2717  0A73  20 09       	jr	NZ,l_game_check_cell_00116
2718  0A75  CB 43       	bit	0, e
2719  0A77  20 05       	jr	NZ,l_game_check_cell_00116
2720  0A79              l_game_check_cell_00115:
2721  0A79  2E 00       	ld	l,0x00
2722  0A7B  C3 FE 0A    	jp	l_game_check_cell_00160
2723  0A7E              l_game_check_cell_00116:
2724  0A7E  6A          	ld	l, d
2725  0A7F  C3 FE 0A    	jp	l_game_check_cell_00160
2726  0A82              l_game_check_cell_00125:
2727  0A82  78          	ld	a, b
2728  0A83  3D          	dec	a
2729  0A84  28 05       	jr	Z,l_game_check_cell_00133
2730  0A86  78          	ld	a, b
2731  0A87  D6 03       	sub	a,0x03
2732  0A89  20 71       	jr	NZ,l_game_check_cell_00159
2733  0A8B              l_game_check_cell_00133:
2734  0A8B  3A 00 00    	ld	a,(_sprite_horizontal_check)
2735  0A8E  B7          	or	a, a
2736  0A8F  28 04       	jr	Z,l_game_check_cell_00128
2737  0A91  0E 48       	ld	c,0x48
2738  0A93  18 02       	jr	l_game_check_cell_00129
2739  0A95              l_game_check_cell_00128:
2740  0A95  0E 3A       	ld	c,0x3a
2741  0A97              l_game_check_cell_00129:
2742  0A97  7A          	ld	a, d
2743  0A98  91          	sub	a, c
2744  0A99  30 04       	jr	NC,l_game_check_cell_00131
2745  0A9B  2E 00       	ld	l,0x00
2746  0A9D  18 5F       	jr	l_game_check_cell_00160
2747  0A9F              l_game_check_cell_00131:
2748  0A9F  6A          	ld	l, d
2749  0AA0  18 5C       	jr	l_game_check_cell_00160
2750  0AA2              l_game_check_cell_00158:
2751  0AA2  3A 00 00    	ld	a,(_player_jump_check)
2752  0AA5  B7          	or	a, a
2753  0AA6  20 32       	jr	NZ,l_game_check_cell_00151
2754  0AA8  7A          	ld	a, d
2755  0AA9  D6 3A       	sub	a,0x3a
2756  0AAB  30 04       	jr	NC,l_game_check_cell_00137
2757  0AAD  2E 00       	ld	l,0x00
2758  0AAF  18 4D       	jr	l_game_check_cell_00160
2759  0AB1              l_game_check_cell_00137:
2760  0AB1  3A 00 00    	ld	a,(_s_state)
2761  0AB4  E6 02       	and	a,0x02
2762  0AB6  5F          	ld	e, a
2763  0AB7  DD CB FF 46 	bit	0,(ix-1)
2764  0ABB  28 0C       	jr	Z,l_game_check_cell_00142
2765  0ABD  7B          	ld	a, e
2766  0ABE  B7          	or	a, a
2767  0ABF  28 04       	jr	Z,l_game_check_cell_00139
2768  0AC1  2E 01       	ld	l,0x01
2769  0AC3  18 39       	jr	l_game_check_cell_00160
2770  0AC5              l_game_check_cell_00139:
2771  0AC5  2E 00       	ld	l,0x00
2772  0AC7  18 35       	jr	l_game_check_cell_00160
2773  0AC9              l_game_check_cell_00142:
2774  0AC9  7A          	ld	a, d
2775  0ACA  D6 48       	sub	a,0x48
2776  0ACC  30 14       	jr	NC,l_game_check_cell_00152
2777  0ACE  7B          	ld	a, e
2778  0ACF  B7          	or	a, a
2779  0AD0  28 04       	jr	Z,l_game_check_cell_00144
2780  0AD2  2E 01       	ld	l,0x01
2781  0AD4  18 28       	jr	l_game_check_cell_00160
2782  0AD6              l_game_check_cell_00144:
2783  0AD6  2E 00       	ld	l,0x00
2784  0AD8  18 24       	jr	l_game_check_cell_00160
2785  0ADA              l_game_check_cell_00151:
2786  0ADA  CB 43       	bit	0, e
2787  0ADC  20 04       	jr	NZ,l_game_check_cell_00152
2788  0ADE  2E 00       	ld	l,0x00
2789  0AE0  18 1C       	jr	l_game_check_cell_00160
2790  0AE2              l_game_check_cell_00152:
2791  0AE2  7A          	ld	a, d
2792  0AE3  D6 4C       	sub	a,0x4c
2793  0AE5  30 0C       	jr	NC,l_game_check_cell_00154
2794  0AE7  D5          	push	de
2795  0AE8  33          	inc	sp
2796  0AE9  C5          	push	bc
2797  0AEA  CD 00 00    	call	_player_open_door
2798  0AED  F1          	pop	af
2799  0AEE  33          	inc	sp
2800  0AEF  2E 01       	ld	l,0x01
2801  0AF1  18 0B       	jr	l_game_check_cell_00160
2802  0AF3              l_game_check_cell_00154:
2803  0AF3  7A          	ld	a, d
2804  0AF4  D6 60       	sub	a,0x60
2805  0AF6  30 04       	jr	NC,l_game_check_cell_00159
2806  0AF8  2E 01       	ld	l,0x01
2807  0AFA  18 02       	jr	l_game_check_cell_00160
2808  0AFC              l_game_check_cell_00159:
2809  0AFC  2E 00       	ld	l,0x00
2810  0AFE              l_game_check_cell_00160:
2811  0AFE  33          	inc	sp
2812  0AFF  DD E1       	pop	ix
2813  0B01  C9          	ret
2814  0B02              	SECTION code_compiler
2815  0B02              ;	---------------------------------
2816  0B02              ; Function game_paint_attrib
2817  0B02              ; ---------------------------------
2818  0B02              _game_paint_attrib:
2819  0B02  CD 00 00    	call	___sdcc_enter_ix
2820  0B05  DD 7E 06    	ld	a,(ix+6)
2821  0B08  32 00 00    	ld	(_tmp_uc),a
2822  0B0B              l_game_paint_attrib_00103:
2823  0B0B  21 00 00    	ld	hl,_tmp_uc
2824  0B0E  7E          	ld	a, (hl)
2825  0B0F  DD 96 07    	sub	a,(ix+7)
2826  0B12  30 15       	jr	NC,l_game_paint_attrib_00105
2827  0B14  DD 4E 04    	ld	c,(ix+4)
2828  0B17  DD 46 05    	ld	b,(ix+5)
2829  0B1A  66          	ld	h,(hl)
2830  0B1B  DD 6E 08    	ld	l,(ix+8)
2831  0B1E  E5          	push	hl
2832  0B1F  C5          	push	bc
2833  0B20  CD 00 00    	call	_NIRVANAP_paintC_callee
2834  0B23  21 00 00    	ld	hl,_tmp_uc
2835  0B26  34          	inc	(hl)
2836  0B27  18 E2       	jr	l_game_paint_attrib_00103
2837  0B29              l_game_paint_attrib_00105:
2838  0B29  DD E1       	pop	ix
2839  0B2B  C9          	ret
2840  0B2C              	SECTION code_compiler
2841  0B2C              ;	---------------------------------
2842  0B2C              ; Function game_colour_message
2843  0B2C              ; ---------------------------------
2844  0B2C              _game_colour_message:
2845  0B2C  CD 00 00    	call	___sdcc_enter_ix
2846  0B2F  F5          	push	af
2847  0B30  F5          	push	af
2848  0B31  3B          	dec	sp
2849  0B32  D1          	pop	de
2850  0B33  21 00 00    	ld	hl,_tmp
2851  0B36  36 01       	ld	(hl),0x01
2852  0B38  2A 00 00    	ld	hl,(_curr_time)
2853  0B3B  22 00 00    	ld	(_frame_time),hl
2854  0B3E  E5          	push	hl
2855  0B3F  DD 7E 04    	ld	a,(ix+4)
2856  0B42  4D          	ld	c,l
2857  0B43  07          	rlca
2858  0B44  07          	rlca
2859  0B45  07          	rlca
2860  0B46  E6 F8       	and	a,0xf8
2861  0B48  DD 77 FF    	ld	(ix-1),a
2862  0B4B  C6 08       	add	a,0x08
2863  0B4D  DD 77 FE    	ld	(ix-2),a
2864  0B50  DD 77 FD    	ld	(ix-3),a
2865  0B53              l_game_colour_message_00112:
2866  0B53  3A 00 00    	ld	a,(_tmp)
2867  0B56  B7          	or	a, a
2868  0B57  CA DD 0B    	jp	Z, l_game_colour_message_00114
2869  0B5A  DD 46 07    	ld	b,(ix+7)
2870  0B5D  21 00 00    	ld	hl,0x0000
2871  0B60  39          	add	hl, sp
2872  0B61  EB          	ex	de,hl
2873  0B62  C5          	push	bc
2874  0B63  33          	inc	sp
2875  0B64  D5          	push	de
2876  0B65  CD 4F 0C    	call	_game_check_time
2877  0B68  F1          	pop	af
2878  0B69  33          	inc	sp
2879  0B6A  7D          	ld	a, l
2880  0B6B  B7          	or	a, a
2881  0B6C  20 6F       	jr	NZ,l_game_colour_message_00114
2882  0B6E  3E 05       	ld	a,0x05
2883  0B70  F5          	push	af
2884  0B71  33          	inc	sp
2885  0B72  21 00 00    	ld	hl,_frame_time
2886  0B75  E5          	push	hl
2887  0B76  CD 4F 0C    	call	_game_check_time
2888  0B79  F1          	pop	af
2889  0B7A  33          	inc	sp
2890  0B7B  7D          	ld	a, l
2891  0B7C  B7          	or	a, a
2892  0B7D  28 40       	jr	Z,l_game_colour_message_00105
2893  0B7F  2A 00 00    	ld	hl,(_curr_time)
2894  0B82  22 00 00    	ld	(_frame_time),hl
2895  0B85  3A 00 00    	ld	a,(_game_over)
2896  0B88  B7          	or	a,a
2897  0B89  28 1B       	jr	Z,l_game_colour_message_00102
2898  0B8B  DD 66 FD    	ld	h,(ix-3)
2899  0B8E  DD 6E 06    	ld	l,(ix+6)
2900  0B91  E5          	push	hl
2901  0B92  DD 7E 05    	ld	a,(ix+5)
2902  0B95  F5          	push	af
2903  0B96  33          	inc	sp
2904  0B97  21 00 00    	ld	hl,_attrib_hl
2905  0B9A  E5          	push	hl
2906  0B9B  CD 02 0B    	call	_game_paint_attrib
2907  0B9E  F1          	pop	af
2908  0B9F  F1          	pop	af
2909  0BA0  33          	inc	sp
2910  0BA1  CD E6 10    	call	_game_rotate_attrib
2911  0BA4  18 19       	jr	l_game_colour_message_00105
2912  0BA6              l_game_colour_message_00102:
2913  0BA6  DD 66 FE    	ld	h,(ix-2)
2914  0BA9  DD 6E 06    	ld	l,(ix+6)
2915  0BAC  E5          	push	hl
2916  0BAD  DD 7E 05    	ld	a,(ix+5)
2917  0BB0  F5          	push	af
2918  0BB1  33          	inc	sp
2919  0BB2  21 00 00    	ld	hl,_attrib_osd
2920  0BB5  E5          	push	hl
2921  0BB6  CD 02 0B    	call	_game_paint_attrib
2922  0BB9  F1          	pop	af
2923  0BBA  F1          	pop	af
2924  0BBB  33          	inc	sp
2925  0BBC  CD 02 11    	call	_game_rotate_attrib_osd
2926  0BBF              l_game_colour_message_00105:
2927  0BBF  DD 7E 09    	ld	a,(ix+9)
2928  0BC2  B7          	or	a, a
2929  0BC3  28 8E       	jr	Z,l_game_colour_message_00112
2930  0BC5              l_game_colour_message_00106:
2931  0BC5  21 00 00    	ld	hl,_k1
2932  0BC8  E5          	push	hl
2933  0BC9  2A 00 00    	ld	hl,(_joyfunc1)
2934  0BCC  CD 00 00    	call	___sdcc_call_hl
2935  0BCF  F1          	pop	af
2936  0BD0  7C          	ld	a,h
2937  0BD1  B5          	or	a,l
2938  0BD2  4D          	ld	c,l
2939  0BD3  CA 53 0B    	jp	Z, l_game_colour_message_00112
2940  0BD6  21 00 00    	ld	hl,_tmp
2941  0BD9  36 00       	ld	(hl),0x00
2942  0BDB  18 E8       	jr	l_game_colour_message_00106
2943  0BDD              l_game_colour_message_00114:
2944  0BDD  DD 7E 06    	ld	a,(ix+6)
2945  0BE0  DD 96 05    	sub	a,(ix+5)
2946  0BE3  4F          	ld	c, a
2947  0BE4  3A 00 00    	ld	a,(_game_over)
2948  0BE7  B7          	or	a, a
2949  0BE8  28 2B       	jr	Z,l_game_colour_message_00118
2950  0BEA  21 00 00    	ld	hl,_tmp1
2951  0BED  71          	ld	(hl), c
2952  0BEE  21 00 00    	ld	hl,_tmp0
2953  0BF1  36 00       	ld	(hl),0x00
2954  0BF3              l_game_colour_message_00121:
2955  0BF3  3A 00 00    	ld	a,(_tmp0)
2956  0BF6  21 00 00    	ld	hl,_tmp1
2957  0BF9  96          	sub	a, (hl)
2958  0BFA  30 4E       	jr	NC,l_game_colour_message_00126
2959  0BFC  DD 7E 05    	ld	a,(ix+5)
2960  0BFF  21 00 00    	ld	hl,_tmp0
2961  0C02  86          	add	a, (hl)
2962  0C03  47          	ld	b, a
2963  0C04  21 CD 00    	ld	hl,___str_32
2964  0C07  E5          	push	hl
2965  0C08  DD 4E 04    	ld	c,(ix+4)
2966  0C0B  C5          	push	bc
2967  0C0C  CD 00 00    	call	_zx_print_str
2968  0C0F  21 00 00    	ld	hl,_tmp0
2969  0C12  34          	inc	(hl)
2970  0C13  18 DE       	jr	l_game_colour_message_00121
2971  0C15              l_game_colour_message_00118:
2972  0C15  21 00 00    	ld	hl,_tmp1
2973  0C18  71          	ld	(hl), c
2974  0C19  DD 7E FF    	ld	a,(ix-1)
2975  0C1C  32 00 00    	ld	(_s_lin0),a
2976  0C1F  DD 7E 05    	ld	a,(ix+5)
2977  0C22  CB 3F       	srl	a
2978  0C24  87          	add	a, a
2979  0C25  32 00 00    	ld	(_s_col1),a
2980  0C28  21 00 00    	ld	hl,_tmp0
2981  0C2B  36 00       	ld	(hl),0x00
2982  0C2D              l_game_colour_message_00124:
2983  0C2D  3A 00 00    	ld	a,(_tmp0)
2984  0C30  21 00 00    	ld	hl,_tmp1
2985  0C33  96          	sub	a, (hl)
2986  0C34  30 14       	jr	NC,l_game_colour_message_00126
2987  0C36  3A 00 00    	ld	a,(_s_col1)
2988  0C39  21 00 00    	ld	hl,_tmp0
2989  0C3C  86          	add	a, (hl)
2990  0C3D  32 00 00    	ld	(_s_col0),a
2991  0C40  CD 00 00    	call	_spr_back_repaint
2992  0C43  21 00 00    	ld	hl,_tmp0
2993  0C46  34          	inc	(hl)
2994  0C47  34          	inc	(hl)
2995  0C48  18 E3       	jr	l_game_colour_message_00124
2996  0C4A              l_game_colour_message_00126:
2997  0C4A  DD F9       	ld	sp, ix
2998  0C4C  DD E1       	pop	ix
2999  0C4E  C9          	ret
3000  0C4F              	SECTION rodata_compiler
3001  00CD              ___str_32:
3002  00CD  20          	DEFM " "
3003  00CE  00          	DEFB 0x00
3004  00CF              	SECTION code_compiler
3005  0C4F              ;	---------------------------------
3006  0C4F              ; Function game_check_time
3007  0C4F              ; ---------------------------------
3008  0C4F              _game_check_time:
3009  0C4F  CD 00 00    	call	___sdcc_enter_ix
3010  0C52  2A 00 00    	ld	hl,(_curr_time)
3011  0C55  4D          	ld	c, l
3012  0C56  DD 6E 04    	ld	l,(ix+4)
3013  0C59  44          	ld	b,h
3014  0C5A  DD 66 05    	ld	h,(ix+5)
3015  0C5D  5E          	ld	e, (hl)
3016  0C5E  23          	inc	hl
3017  0C5F  56          	ld	d, (hl)
3018  0C60  79          	ld	a, c
3019  0C61  93          	sub	a, e
3020  0C62  4F          	ld	c, a
3021  0C63  78          	ld	a, b
3022  0C64  9A          	sbc	a, d
3023  0C65  47          	ld	b, a
3024  0C66  DD 7E 06    	ld	a,(ix+6)
3025  0C69  16 00       	ld	d,0x00
3026  0C6B  91          	sub	a, c
3027  0C6C  7A          	ld	a, d
3028  0C6D  98          	sbc	a, b
3029  0C6E  30 04       	jr	NC,l_game_check_time_00102
3030  0C70  2E 01       	ld	l,0x01
3031  0C72  18 02       	jr	l_game_check_time_00104
3032  0C74              l_game_check_time_00102:
3033  0C74  2E 00       	ld	l,0x00
3034  0C76              l_game_check_time_00104:
3035  0C76  DD E1       	pop	ix
3036  0C78  C9          	ret
3037  0C79              	SECTION code_compiler
3038  0C79              ;	---------------------------------
3039  0C79              ; Function game_shoot_fire
3040  0C79              ; ---------------------------------
3041  0C79              _game_shoot_fire:
3042  0C79  CD 00 00    	call	___sdcc_enter_ix
3043  0C7C  21 F4 FF    	ld	hl, -12
3044  0C7F  39          	add	hl, sp
3045  0C80  F9          	ld	sp, hl
3046  0C81  01 00 00    	ld	bc,_bullet_col
3047  0C84  DD 6E 04    	ld	l,(ix+4)
3048  0C87  26 00       	ld	h,0x00
3049  0C89  09          	add	hl,bc
3050  0C8A  DD 75 FC    	ld	(ix-4),l
3051  0C8D  DD 74 FD    	ld	(ix-3),h
3052  0C90  4E          	ld	c, (hl)
3053  0C91  0C          	inc	c
3054  0C92  C2 83 0E    	jp	NZ,l_game_shoot_fire_00124
3055  0C95  21 00 00    	ld	hl,_bullet_count
3056  0C98  34          	inc	(hl)
3057  0C99  01 00 00    	ld	bc,_bullet_dir
3058  0C9C  DD 6E 04    	ld	l,(ix+4)
3059  0C9F  26 00       	ld	h,0x00
3060  0CA1  09          	add	hl,bc
3061  0CA2  DD 75 FA    	ld	(ix-6),l
3062  0CA5  DD 74 FB    	ld	(ix-5),h
3063  0CA8  36 00       	ld	(hl),0x00
3064  0CAA  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3065  0CAC  DD 86 04    	add	a,(ix+4)
3066  0CAF  4F          	ld	c, a
3067  0CB0  3E 00       	ld	a, +((_bullet_lin0) / 256)
3068  0CB2  CE 00       	adc	a,0x00
3069  0CB4  47          	ld	b, a
3070  0CB5  3E 00       	ld	a, +((_lin) & 0xFF)
3071  0CB7  DD 86 04    	add	a,(ix+4)
3072  0CBA  DD 77 F4    	ld	(ix-12),a
3073  0CBD  3E 00       	ld	a, +((_lin) / 256)
3074  0CBF  CE 00       	adc	a,0x00
3075  0CC1  DD 77 F5    	ld	(ix-11),a
3076  0CC4  E1          	pop	hl
3077  0CC5  7E          	ld	a,(hl)
3078  0CC6  E5          	push	hl
3079  0CC7  02          	ld	(bc), a
3080  0CC8  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3081  0CCA  DD 86 04    	add	a,(ix+4)
3082  0CCD  4F          	ld	c, a
3083  0CCE  3E 00       	ld	a, +((_bullet_col0) / 256)
3084  0CD0  CE 00       	adc	a,0x00
3085  0CD2  47          	ld	b, a
3086  0CD3  11 00 00    	ld	de,_col
3087  0CD6  DD 6E 04    	ld	l,(ix+4)
3088  0CD9  26 00       	ld	h,0x00
3089  0CDB  19          	add	hl,de
3090  0CDC  DD 75 F8    	ld	(ix-8),l
3091  0CDF  DD 74 F9    	ld	(ix-7),h
3092  0CE2  7E          	ld	a, (hl)
3093  0CE3  02          	ld	(bc), a
3094  0CE4  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3095  0CE6  DD 86 04    	add	a,(ix+4)
3096  0CE9  DD 77 F6    	ld	(ix-10),a
3097  0CEC  3E 00       	ld	a, +((_bullet_lin) / 256)
3098  0CEE  CE 00       	adc	a,0x00
3099  0CF0  DD 77 F7    	ld	(ix-9),a
3100  0CF3  E1          	pop	hl
3101  0CF4  4E          	ld	c,(hl)
3102  0CF5  E5          	push	hl
3103  0CF6  DD 6E F6    	ld	l,(ix-10)
3104  0CF9  DD 66 F7    	ld	h,(ix-9)
3105  0CFC  71          	ld	(hl), c
3106  0CFD  01 00 00    	ld	bc,_bullet_frames
3107  0D00  DD 6E 04    	ld	l,(ix+4)
3108  0D03  26 00       	ld	h,0x00
3109  0D05  09          	add	hl,bc
3110  0D06  DD 75 FE    	ld	(ix-2),l
3111  0D09  DD 74 FF    	ld	(ix-1),h
3112  0D0C  36 02       	ld	(hl),0x02
3113  0D0E  DD 7E 04    	ld	a,(ix+4)
3114  0D11  D6 07       	sub	a,0x07
3115  0D13  20 04       	jr	NZ,l_game_shoot_fire_00169
3116  0D15  3E 01       	ld	a,0x01
3117  0D17  18 01       	jr	l_game_shoot_fire_00170
3118  0D19              l_game_shoot_fire_00169:
3119  0D19  AF          	xor	a,a
3120  0D1A              l_game_shoot_fire_00170:
3121  0D1A  47          	ld	b,a
3122  0D1B  B7          	or	a, a
3123  0D1C  28 1B       	jr	Z,l_game_shoot_fire_00102
3124  0D1E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3125  0D20  DD 86 04    	add	a,(ix+4)
3126  0D23  5F          	ld	e, a
3127  0D24  3E 00       	ld	a, +((_bullet_max) / 256)
3128  0D26  CE 00       	adc	a,0x00
3129  0D28  57          	ld	d, a
3130  0D29  3A 00 00    	ld	a,(_player_lvl)
3131  0D2C  CB 3F       	srl	a
3132  0D2E  C6 04       	add	a,0x04
3133  0D30  12          	ld	(de), a
3134  0D31  3A 07 00    	ld	a,(_state_a + 0x0007)
3135  0D34  E6 08       	and	a,0x08
3136  0D36  4F          	ld	c, a
3137  0D37  18 13       	jr	l_game_shoot_fire_00103
3138  0D39              l_game_shoot_fire_00102:
3139  0D39  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3140  0D3B  DD 86 04    	add	a,(ix+4)
3141  0D3E  5F          	ld	e, a
3142  0D3F  3E 00       	ld	a, +((_bullet_max) / 256)
3143  0D41  CE 00       	adc	a,0x00
3144  0D43  57          	ld	d, a
3145  0D44  AF          	xor	a, a
3146  0D45  12          	ld	(de), a
3147  0D46  3A 00 00    	ld	a,(_s_state)
3148  0D49  E6 08       	and	a,0x08
3149  0D4B  4F          	ld	c, a
3150  0D4C              l_game_shoot_fire_00103:
3151  0D4C  DD 7E 05    	ld	a,(ix+5)
3152  0D4F  D6 7C       	sub	a,0x7c
3153  0D51  20 21       	jr	NZ,l_game_shoot_fire_00105
3154  0D53  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3155  0D55  DD 86 04    	add	a,(ix+4)
3156  0D58  5F          	ld	e, a
3157  0D59  3E 00       	ld	a, +((_bullet_class) / 256)
3158  0D5B  CE 00       	adc	a,0x00
3159  0D5D  57          	ld	d, a
3160  0D5E  3E 01       	ld	a,0x01
3161  0D60  12          	ld	(de), a
3162  0D61  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3163  0D63  DD 86 04    	add	a,(ix+4)
3164  0D66  5F          	ld	e, a
3165  0D67  3E 00       	ld	a, +((_bullet_max) / 256)
3166  0D69  CE 00       	adc	a,0x00
3167  0D6B  57          	ld	d, a
3168  0D6C  3A 00 00    	ld	a,(_game_world)
3169  0D6F  87          	add	a, a
3170  0D70  87          	add	a, a
3171  0D71  C6 08       	add	a,0x08
3172  0D73  12          	ld	(de), a
3173  0D74              l_game_shoot_fire_00105:
3174  0D74  DD 7E 05    	ld	a,(ix+5)
3175  0D77  D6 78       	sub	a,0x78
3176  0D79  20 21       	jr	NZ,l_game_shoot_fire_00110
3177  0D7B  B0          	or	a,b
3178  0D7C  28 10       	jr	Z,l_game_shoot_fire_00107
3179  0D7E  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3180  0D80  DD 86 04    	add	a,(ix+4)
3181  0D83  5F          	ld	e, a
3182  0D84  3E 00       	ld	a, +((_bullet_class) / 256)
3183  0D86  CE 00       	adc	a,0x00
3184  0D88  57          	ld	d, a
3185  0D89  3E 01       	ld	a,0x01
3186  0D8B  12          	ld	(de), a
3187  0D8C  18 0E       	jr	l_game_shoot_fire_00110
3188  0D8E              l_game_shoot_fire_00107:
3189  0D8E  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3190  0D90  DD 86 04    	add	a,(ix+4)
3191  0D93  5F          	ld	e, a
3192  0D94  3E 00       	ld	a, +((_bullet_class) / 256)
3193  0D96  CE 00       	adc	a,0x00
3194  0D98  57          	ld	d, a
3195  0D99  3E 02       	ld	a,0x02
3196  0D9B  12          	ld	(de), a
3197  0D9C              l_game_shoot_fire_00110:
3198  0D9C  DD 7E 05    	ld	a,(ix+5)
3199  0D9F  D6 80       	sub	a,0x80
3200  0DA1  20 04       	jr	NZ,l_game_shoot_fire_00175
3201  0DA3  3E 01       	ld	a,0x01
3202  0DA5  18 01       	jr	l_game_shoot_fire_00176
3203  0DA7              l_game_shoot_fire_00175:
3204  0DA7  AF          	xor	a,a
3205  0DA8              l_game_shoot_fire_00176:
3206  0DA8  47          	ld	b,a
3207  0DA9  B7          	or	a, a
3208  0DAA  28 31       	jr	Z,l_game_shoot_fire_00112
3209  0DAC  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3210  0DAE  DD 86 04    	add	a,(ix+4)
3211  0DB1  5F          	ld	e, a
3212  0DB2  3E 00       	ld	a, +((_bullet_class) / 256)
3213  0DB4  CE 00       	adc	a,0x00
3214  0DB6  E1          	pop	hl
3215  0DB7  57          	ld	d,a
3216  0DB8  3E 04       	ld	a,0x04
3217  0DBA  12          	ld	(de),a
3218  0DBB  7E          	ld	a,(hl)
3219  0DBC  E5          	push	hl
3220  0DBD  C6 FC       	add	a,0xfc
3221  0DBF  DD 6E F6    	ld	l,(ix-10)
3222  0DC2  DD 66 F7    	ld	h,(ix-9)
3223  0DC5  77          	ld	(hl), a
3224  0DC6  DD 6E FE    	ld	l,(ix-2)
3225  0DC9  DD 66 FF    	ld	h,(ix-1)
3226  0DCC  36 04       	ld	(hl),0x04
3227  0DCE  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3228  0DD0  DD 86 04    	add	a,(ix+4)
3229  0DD3  5F          	ld	e, a
3230  0DD4  3E 00       	ld	a, +((_bullet_vel) / 256)
3231  0DD6  CE 00       	adc	a,0x00
3232  0DD8  57          	ld	d, a
3233  0DD9  3A 00 00    	ld	a,(_player_vel_y0)
3234  0DDC  12          	ld	(de), a
3235  0DDD              l_game_shoot_fire_00112:
3236  0DDD  DD 6E F8    	ld	l,(ix-8)
3237  0DE0  DD 66 F9    	ld	h,(ix-7)
3238  0DE3  56          	ld	d, (hl)
3239  0DE4  E1          	pop	hl
3240  0DE5  7E          	ld	a,(hl)
3241  0DE6  E5          	push	hl
3242  0DE7  C5          	push	bc
3243  0DE8  5F          	ld	e,a
3244  0DE9  D5          	push	de
3245  0DEA  CD 00 00    	call	_spr_calc_index
3246  0DED  F1          	pop	af
3247  0DEE  EB          	ex	de,hl
3248  0DEF  C1          	pop	bc
3249  0DF0  ED 53 00 00 	ld	(_index1),de
3250  0DF4  DD 6E F8    	ld	l,(ix-8)
3251  0DF7  DD 66 F9    	ld	h,(ix-7)
3252  0DFA  5E          	ld	e, (hl)
3253  0DFB  79          	ld	a, c
3254  0DFC  B7          	or	a, a
3255  0DFD  28 4F       	jr	Z,l_game_shoot_fire_00121
3256  0DFF  7B          	ld	a, e
3257  0E00  D6 01       	sub	a,0x01
3258  0E02  30 05       	jr	NC,l_game_shoot_fire_00114
3259  0E04  2E 01       	ld	l,0x01
3260  0E06  C3 85 0E    	jp	l_game_shoot_fire_00125
3261  0E09              l_game_shoot_fire_00114:
3262  0E09  DD 6E FC    	ld	l,(ix-4)
3263  0E0C  DD 66 FD    	ld	h,(ix-3)
3264  0E0F  73          	ld	(hl), e
3265  0E10  78          	ld	a, b
3266  0E11  B7          	or	a, a
3267  0E12  20 13       	jr	NZ,l_game_shoot_fire_00116
3268  0E14  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3269  0E16  DD 86 04    	add	a,(ix+4)
3270  0E19  4F          	ld	c, a
3271  0E1A  3E 00       	ld	a, +((_bullet_tile) / 256)
3272  0E1C  CE 00       	adc	a,0x00
3273  0E1E  47          	ld	b, a
3274  0E1F  DD 7E 05    	ld	a,(ix+5)
3275  0E22  C6 02       	add	a,0x02
3276  0E24  02          	ld	(bc), a
3277  0E25  18 0F       	jr	l_game_shoot_fire_00117
3278  0E27              l_game_shoot_fire_00116:
3279  0E27  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3280  0E29  DD 86 04    	add	a,(ix+4)
3281  0E2C  4F          	ld	c, a
3282  0E2D  3E 00       	ld	a, +((_bullet_tile) / 256)
3283  0E2F  CE 00       	adc	a,0x00
3284  0E31  47          	ld	b, a
3285  0E32  DD 7E 05    	ld	a,(ix+5)
3286  0E35  02          	ld	(bc), a
3287  0E36              l_game_shoot_fire_00117:
3288  0E36  DD 6E FA    	ld	l,(ix-6)
3289  0E39  DD 66 FB    	ld	h,(ix-5)
3290  0E3C  36 01       	ld	(hl),0x01
3291  0E3E  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3292  0E40  DD 86 04    	add	a,(ix+4)
3293  0E43  4F          	ld	c, a
3294  0E44  3E 00       	ld	a, +((_bullet_colint) / 256)
3295  0E46  CE 00       	adc	a,0x00
3296  0E48  47          	ld	b, a
3297  0E49  3E 02       	ld	a,0x02
3298  0E4B  02          	ld	(bc), a
3299  0E4C  18 35       	jr	l_game_shoot_fire_00124
3300  0E4E              l_game_shoot_fire_00121:
3301  0E4E  3E 1D       	ld	a,0x1d
3302  0E50  93          	sub	a, e
3303  0E51  30 04       	jr	NC,l_game_shoot_fire_00119
3304  0E53  2E 01       	ld	l,0x01
3305  0E55  18 2E       	jr	l_game_shoot_fire_00125
3306  0E57              l_game_shoot_fire_00119:
3307  0E57  DD 6E FC    	ld	l,(ix-4)
3308  0E5A  DD 66 FD    	ld	h,(ix-3)
3309  0E5D  73          	ld	(hl), e
3310  0E5E  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3311  0E60  DD 86 04    	add	a,(ix+4)
3312  0E63  4F          	ld	c, a
3313  0E64  3E 00       	ld	a, +((_bullet_tile) / 256)
3314  0E66  CE 00       	adc	a,0x00
3315  0E68  47          	ld	b, a
3316  0E69  DD 7E 05    	ld	a,(ix+5)
3317  0E6C  02          	ld	(bc), a
3318  0E6D  DD 6E FA    	ld	l,(ix-6)
3319  0E70  DD 66 FB    	ld	h,(ix-5)
3320  0E73  36 FF       	ld	(hl),0xff
3321  0E75  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3322  0E77  DD 86 04    	add	a,(ix+4)
3323  0E7A  4F          	ld	c, a
3324  0E7B  3E 00       	ld	a, +((_bullet_colint) / 256)
3325  0E7D  CE 00       	adc	a,0x00
3326  0E7F  47          	ld	b, a
3327  0E80  3E FF       	ld	a,0xff
3328  0E82  02          	ld	(bc), a
3329  0E83              l_game_shoot_fire_00124:
3330  0E83  2E 00       	ld	l,0x00
3331  0E85              l_game_shoot_fire_00125:
3332  0E85  DD F9       	ld	sp, ix
3333  0E87  DD E1       	pop	ix
3334  0E89  C9          	ret
3335  0E8A              	SECTION code_compiler
3336  0E8A              ;	---------------------------------
3337  0E8A              ; Function game_shoot_fire_boss
3338  0E8A              ; ---------------------------------
3339  0E8A              _game_shoot_fire_boss:
3340  0E8A  CD 00 00    	call	___sdcc_enter_ix
3341  0E8D  F5          	push	af
3342  0E8E  F5          	push	af
3343  0E8F  3B          	dec	sp
3344  0E90  3A 07 00    	ld	a,(_col + 0x0007)
3345  0E93  4F          	ld	c,a
3346  0E94  21 00 00    	ld	hl,_boss_col
3347  0E97  96          	sub	a, (hl)
3348  0E98  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3349  0E9A  DD 36 FB 01 	ld	(ix-5),0x01
3350  0E9E              l_game_shoot_fire_boss_00102:
3351  0E9E  3A 00 00    	ld	a,(_boss_col)
3352  0EA1  91          	sub	a, c
3353  0EA2  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3354  0EA4  DD 36 FB 00 	ld	(ix-5),0x00
3355  0EA8              l_game_shoot_fire_boss_00131:
3356  0EA8  1E 00       	ld	e,0x00
3357  0EAA              l_game_shoot_fire_boss_00107:
3358  0EAA  7B          	ld	a, e
3359  0EAB  D6 07       	sub	a,0x07
3360  0EAD  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3361  0EAF  16 00       	ld	d,0x00
3362  0EB1  21 00 00    	ld	hl,_bullet_col
3363  0EB4  19          	add	hl, de
3364  0EB5  4E          	ld	c, (hl)
3365  0EB6  0C          	inc	c
3366  0EB7  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3367  0EB9  1C          	inc	e
3368  0EBA  18 EE       	jr	l_game_shoot_fire_boss_00107
3369  0EBC              l_game_shoot_fire_boss_00138:
3370  0EBC  7B          	ld	a,e
3371  0EBD  4F          	ld	c,a
3372  0EBE  D6 07       	sub	a,0x07
3373  0EC0  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3374  0EC2  6F          	ld	l,a
3375  0EC3  C3 EE 0F    	jp	l_game_shoot_fire_boss_00125
3376  0EC6              l_game_shoot_fire_boss_00111:
3377  0EC6  21 00 00    	ld	hl,_bullet_count
3378  0EC9  34          	inc	(hl)
3379  0ECA  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3380  0ECC  83          	add	a, e
3381  0ECD  DD 77 FE    	ld	(ix-2),a
3382  0ED0  6F          	ld	l,a
3383  0ED1  3E 00       	ld	a,+((_bullet_dir) / 256)
3384  0ED3  CE 00       	adc	a,0x00
3385  0ED5  DD 77 FF    	ld	(ix-1),a
3386  0ED8  67          	ld	h,a
3387  0ED9  36 00       	ld	(hl),0x00
3388  0EDB  3A 00 00    	ld	a,(_game_world)
3389  0EDE  3D          	dec	a
3390  0EDF  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3391  0EE1  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3392  0EE3  83          	add	a, e
3393  0EE4  47          	ld	b, a
3394  0EE5  3E 00       	ld	a, +((_bullet_lin0) / 256)
3395  0EE7  CE 00       	adc	a,0x00
3396  0EE9  57          	ld	d, a
3397  0EEA  3A 00 00    	ld	a,(_boss_lin)
3398  0EED  C6 10       	add	a,0x10
3399  0EEF  68          	ld	l, b
3400  0EF0  62          	ld	h, d
3401  0EF1  77          	ld	(hl), a
3402  0EF2  16 00       	ld	d,0x00
3403  0EF4  21 00 00    	ld	hl,_bullet_class
3404  0EF7  19          	add	hl, de
3405  0EF8  36 02       	ld	(hl),0x02
3406  0EFA  18 2E       	jr	l_game_shoot_fire_boss_00117
3407  0EFC              l_game_shoot_fire_boss_00116:
3408  0EFC  16 00       	ld	d,0x00
3409  0EFE  21 00 00    	ld	hl,_bullet_class
3410  0F01  19          	add	hl, de
3411  0F02  36 05       	ld	(hl),0x05
3412  0F04  3A 00 00    	ld	a,(_tmp0)
3413  0F07  B7          	or	a, a
3414  0F08  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3415  0F0A  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3416  0F0C  83          	add	a, e
3417  0F0D  5F          	ld	e, a
3418  0F0E  3E 00       	ld	a, +((_bullet_lin0) / 256)
3419  0F10  CE 00       	adc	a,0x00
3420  0F12  57          	ld	d, a
3421  0F13  3A 00 00    	ld	a,(_boss_lin)
3422  0F16  C6 F8       	add	a,0xf8
3423  0F18  12          	ld	(de), a
3424  0F19  18 0F       	jr	l_game_shoot_fire_boss_00117
3425  0F1B              l_game_shoot_fire_boss_00113:
3426  0F1B  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3427  0F1D  83          	add	a, e
3428  0F1E  5F          	ld	e, a
3429  0F1F  3E 00       	ld	a, +((_bullet_lin0) / 256)
3430  0F21  CE 00       	adc	a,0x00
3431  0F23  57          	ld	d, a
3432  0F24  3A 00 00    	ld	a,(_boss_lin)
3433  0F27  C6 18       	add	a,0x18
3434  0F29  12          	ld	(de), a
3435  0F2A              l_game_shoot_fire_boss_00117:
3436  0F2A  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3437  0F2C  81          	add	a, c
3438  0F2D  5F          	ld	e, a
3439  0F2E  3E 00       	ld	a, +((_bullet_lin) / 256)
3440  0F30  CE 00       	adc	a,0x00
3441  0F32  57          	ld	d, a
3442  0F33  06 00       	ld	b,0x00
3443  0F35  21 00 00    	ld	hl,_bullet_lin0
3444  0F38  09          	add	hl, bc
3445  0F39  7E          	ld	a, (hl)
3446  0F3A  12          	ld	(de), a
3447  0F3B  06 00       	ld	b,0x00
3448  0F3D  21 00 00    	ld	hl,_bullet_frames
3449  0F40  09          	add	hl, bc
3450  0F41  36 02       	ld	(hl),0x02
3451  0F43  06 00       	ld	b,0x00
3452  0F45  21 00 00    	ld	hl,_bullet_max
3453  0F48  09          	add	hl, bc
3454  0F49  36 08       	ld	(hl),0x08
3455  0F4B  3A 00 00    	ld	a,(_boss_col)
3456  0F4E  2A 00 00    	ld	hl,(_boss_lin)
3457  0F51  C5          	push	bc
3458  0F52  67          	ld	h,a
3459  0F53  E5          	push	hl
3460  0F54  CD 00 00    	call	_spr_calc_index
3461  0F57  F1          	pop	af
3462  0F58  EB          	ex	de,hl
3463  0F59  C1          	pop	bc
3464  0F5A  ED 53 00 00 	ld	(_index1),de
3465  0F5E  3E 00       	ld	a,+((_bullet_col) & 0xFF)
3466  0F60  81          	add	a,c
3467  0F61  DD 77 FC    	ld	(ix-4),a
3468  0F64  3E 00       	ld	a, +((_bullet_col) / 256)
3469  0F66  CE 00       	adc	a,0x00
3470  0F68  DD 77 FD    	ld	(ix-3),a
3471  0F6B  DD 7E FB    	ld	a,(ix-5)
3472  0F6E  B7          	or	a, a
3473  0F6F  28 36       	jr	Z,l_game_shoot_fire_boss_00123
3474  0F71  3A 00 00    	ld	a,(_boss_col)
3475  0F74  D6 01       	sub	a,0x01
3476  0F76  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3477  0F78  2E 01       	ld	l,0x01
3478  0F7A  18 72       	jr	l_game_shoot_fire_boss_00125
3479  0F7C              l_game_shoot_fire_boss_00119:
3480  0F7C  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3481  0F7E  81          	add	a, c
3482  0F7F  5F          	ld	e, a
3483  0F80  3E 00       	ld	a, +((_bullet_tile) / 256)
3484  0F82  CE 00       	adc	a,0x00
3485  0F84  57          	ld	d, a
3486  0F85  DD 7E 04    	ld	a,(ix+4)
3487  0F88  C6 02       	add	a,0x02
3488  0F8A  12          	ld	(de), a
3489  0F8B  DD 6E FE    	ld	l,(ix-2)
3490  0F8E  DD 66 FF    	ld	h,(ix-1)
3491  0F91  36 01       	ld	(hl),0x01
3492  0F93  06 00       	ld	b,0x00
3493  0F95  21 00 00    	ld	hl,_bullet_colint
3494  0F98  09          	add	hl, bc
3495  0F99  36 02       	ld	(hl),0x02
3496  0F9B  DD 6E FC    	ld	l,(ix-4)
3497  0F9E  DD 66 FD    	ld	h,(ix-3)
3498  0FA1  3A 00 00    	ld	a,(_boss_col)
3499  0FA4  77          	ld	(hl),a
3500  0FA5  18 35       	jr	l_game_shoot_fire_boss_00124
3501  0FA7              l_game_shoot_fire_boss_00123:
3502  0FA7  3E 1D       	ld	a,0x1d
3503  0FA9  21 00 00    	ld	hl,_boss_col
3504  0FAC  96          	sub	a, (hl)
3505  0FAD  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3506  0FAF  2E 01       	ld	l,0x01
3507  0FB1  18 3B       	jr	l_game_shoot_fire_boss_00125
3508  0FB3              l_game_shoot_fire_boss_00121:
3509  0FB3  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3510  0FB5  81          	add	a, c
3511  0FB6  5F          	ld	e, a
3512  0FB7  3E 00       	ld	a, +((_bullet_tile) / 256)
3513  0FB9  CE 00       	adc	a,0x00
3514  0FBB  57          	ld	d, a
3515  0FBC  DD 7E 04    	ld	a,(ix+4)
3516  0FBF  12          	ld	(de), a
3517  0FC0  DD 6E FE    	ld	l,(ix-2)
3518  0FC3  DD 66 FF    	ld	h,(ix-1)
3519  0FC6  36 FF       	ld	(hl),0xff
3520  0FC8  06 00       	ld	b,0x00
3521  0FCA  21 00 00    	ld	hl,_bullet_colint
3522  0FCD  09          	add	hl, bc
3523  0FCE  36 FF       	ld	(hl),0xff
3524  0FD0  3A 00 00    	ld	a,(_boss_col)
3525  0FD3  C6 06       	add	a,0x06
3526  0FD5  DD 6E FC    	ld	l,(ix-4)
3527  0FD8  DD 66 FD    	ld	h,(ix-3)
3528  0FDB  77          	ld	(hl), a
3529  0FDC              l_game_shoot_fire_boss_00124:
3530  0FDC  06 00       	ld	b,0x00
3531  0FDE  21 00 00    	ld	hl,_bullet_col0
3532  0FE1  09          	add	hl,bc
3533  0FE2  4D          	ld	c,l
3534  0FE3  DD 6E FC    	ld	l,(ix-4)
3535  0FE6  44          	ld	b,h
3536  0FE7  DD 66 FD    	ld	h,(ix-3)
3537  0FEA  7E          	ld	a, (hl)
3538  0FEB  02          	ld	(bc), a
3539  0FEC  2E 00       	ld	l,0x00
3540  0FEE              l_game_shoot_fire_boss_00125:
3541  0FEE  DD F9       	ld	sp, ix
3542  0FF0  DD E1       	pop	ix
3543  0FF2  C9          	ret
3544  0FF3              	SECTION code_compiler
3545  0FF3              ;	---------------------------------
3546  0FF3              ; Function game_obj_set
3547  0FF3              ; ---------------------------------
3548  0FF3              _game_obj_set:
3549  0FF3  3A 00 00    	ld	a,(_scr_curr)
3550  0FF6  EB          	ex	de,hl
3551  0FF7  D6 08       	sub	a,0x08
3552  0FF9  30 19       	jr	NC,l_game_obj_set_00102
3553  0FFB  21 00 00    	ld	hl,_scr_obj0
3554  0FFE  19          	add	hl,de
3555  0FFF  5E          	ld	e,(hl)
3556  1000  3A 00 00    	ld	a,(_scr_curr)
3557  1003  3C          	inc	a
3558  1004  16 01       	ld	d,0x01
3559  1006  4D          	ld	c,l
3560  1007  44          	ld	b,h
3561  1008  18 02       	jr	l_game_obj_set_00111
3562  100A              l_game_obj_set_00110:
3563  100A  CB 22       	sla	d
3564  100C              l_game_obj_set_00111:
3565  100C  3D          	dec	a
3566  100D  20 FB       	jr	NZ,l_game_obj_set_00110
3567  100F  7B          	ld	a, e
3568  1010  B2          	or	a, d
3569  1011  02          	ld	(bc), a
3570  1012  18 17       	jr	l_game_obj_set_00104
3571  1014              l_game_obj_set_00102:
3572  1014  3A 00 00    	ld	a,(_scr_curr)
3573  1017  C6 F8       	add	a,0xf8
3574  1019  47          	ld	b, a
3575  101A  21 00 00    	ld	hl,_scr_obj1
3576  101D  19          	add	hl, de
3577  101E  4E          	ld	c, (hl)
3578  101F  1E 01       	ld	e,0x01
3579  1021  04          	inc	b
3580  1022  18 02       	jr	l_game_obj_set_00113
3581  1024              l_game_obj_set_00112:
3582  1024  CB 23       	sla	e
3583  1026              l_game_obj_set_00113:
3584  1026  10 FC       	djnz	l_game_obj_set_00112
3585  1028  79          	ld	a, c
3586  1029  B3          	or	a, e
3587  102A  77          	ld	(hl), a
3588  102B              l_game_obj_set_00104:
3589  102B  C9          	ret
3590  102C              	SECTION code_compiler
3591  102C              ;	---------------------------------
3592  102C              ; Function game_obj_chk
3593  102C              ; ---------------------------------
3594  102C              _game_obj_chk:
3595  102C  3A 00 00    	ld	a,(_scr_curr)
3596  102F  EB          	ex	de,hl
3597  1030  D6 08       	sub	a,0x08
3598  1032  30 17       	jr	NC,l_game_obj_chk_00102
3599  1034  21 00 00    	ld	hl,_scr_obj0
3600  1037  19          	add	hl, de
3601  1038  4E          	ld	c, (hl)
3602  1039  21 00 00    	ld	hl,_scr_curr
3603  103C  46          	ld	b, (hl)
3604  103D  1E 01       	ld	e,0x01
3605  103F  04          	inc	b
3606  1040  18 02       	jr	l_game_obj_chk_00111
3607  1042              l_game_obj_chk_00110:
3608  1042  CB 23       	sla	e
3609  1044              l_game_obj_chk_00111:
3610  1044  10 FC       	djnz	l_game_obj_chk_00110
3611  1046  79          	ld	a, c
3612  1047  A3          	and	a, e
3613  1048  6F          	ld	l, a
3614  1049  18 17       	jr	l_game_obj_chk_00104
3615  104B              l_game_obj_chk_00102:
3616  104B  3A 00 00    	ld	a,(_scr_curr)
3617  104E  C6 F8       	add	a,0xf8
3618  1050  47          	ld	b, a
3619  1051  21 00 00    	ld	hl,_scr_obj1
3620  1054  19          	add	hl, de
3621  1055  4E          	ld	c, (hl)
3622  1056  1E 01       	ld	e,0x01
3623  1058  04          	inc	b
3624  1059  18 02       	jr	l_game_obj_chk_00113
3625  105B              l_game_obj_chk_00112:
3626  105B  CB 23       	sla	e
3627  105D              l_game_obj_chk_00113:
3628  105D  10 FC       	djnz	l_game_obj_chk_00112
3629  105F  79          	ld	a, c
3630  1060  A3          	and	a, e
3631  1061  6F          	ld	l, a
3632  1062              l_game_obj_chk_00104:
3633  1062  C9          	ret
3634  1063              	SECTION code_compiler
3635  1063              ;	---------------------------------
3636  1063              ; Function game_obj_clear
3637  1063              ; ---------------------------------
3638  1063              _game_obj_clear:
3639  1063  21 00 00    	ld	hl,_tmp
3640  1066  36 00       	ld	(hl),0x00
3641  1068              l_game_obj_clear_00105:
3642  1068  2A 00 00    	ld	hl,(_tmp)
3643  106B  26 00       	ld	h,0x00
3644  106D  01 00 00    	ld	bc,_scr_obj0
3645  1070  09          	add	hl,bc
3646  1071  AF          	xor	a,a
3647  1072  77          	ld	(hl),a
3648  1073  2A 00 00    	ld	hl,(_tmp)
3649  1076  26 00       	ld	h,0x00
3650  1078  01 00 00    	ld	bc,_scr_obj1
3651  107B  09          	add	hl,bc
3652  107C  AF          	xor	a,a
3653  107D  77          	ld	(hl),a
3654  107E  21 00 00    	ld	hl,_tmp
3655  1081  7E          	ld	a,(hl)
3656  1082  3C          	inc	a
3657  1083  77          	ld	(hl),a
3658  1084  D6 A0       	sub	a,0xa0
3659  1086  38 E0       	jr	C,l_game_obj_clear_00105
3660  1088  3A 00 00    	ld	a,(_game_inmune)
3661  108B  B7          	or	a, a
3662  108C  28 07       	jr	Z,l_game_obj_clear_00103
3663  108E  21 00 00    	ld	hl,_tmp
3664  1091  36 01       	ld	(hl),0x01
3665  1093  18 05       	jr	l_game_obj_clear_00104
3666  1095              l_game_obj_clear_00103:
3667  1095  21 00 00    	ld	hl,_tmp
3668  1098  36 00       	ld	(hl),0x00
3669  109A              l_game_obj_clear_00104:
3670  109A  3A 00 00    	ld	a,(_tmp)
3671  109D  32 00 00    	ld	(_player_keys),a
3672  10A0  32 01 00    	ld	((_player_keys + 0x0001)),a
3673  10A3  3A 00 00    	ld	a,(_tmp)
3674  10A6  32 02 00    	ld	((_player_keys + 0x0002)),a
3675  10A9  32 03 00    	ld	((_player_keys + 0x0003)),a
3676  10AC  C9          	ret
3677  10AD              	SECTION code_compiler
3678  10AD              ;	---------------------------------
3679  10AD              ; Function game_boss_clear
3680  10AD              ; ---------------------------------
3681  10AD              _game_boss_clear:
3682  10AD  CD 00 00    	call	___sdcc_enter_ix
3683  10B0  21 00 00    	ld	hl,0x0000
3684  10B3  E5          	push	hl
3685  10B4              l_game_boss_clear_00104:
3686  10B4  3E 00       	ld	a, +((_scr_map) & 0xFF)
3687  10B6  DD 86 FE    	add	a,(ix-2)
3688  10B9  4F          	ld	c, a
3689  10BA  3E 00       	ld	a, +((_scr_map) / 256)
3690  10BC  DD 8E FF    	adc	a,(ix-1)
3691  10BF  47          	ld	b, a
3692  10C0  0A          	ld	a, (bc)
3693  10C1  D6 37       	sub	a,0x37
3694  10C3  20 09       	jr	NZ,l_game_boss_clear_00105
3695  10C5  AF          	xor	a, a
3696  10C6  02          	ld	(bc), a
3697  10C7  21 00 00    	ld	hl,0x0000
3698  10CA  39          	add	hl, sp
3699  10CB  CD 00 00    	call	_spr_draw_index
3700  10CE              l_game_boss_clear_00105:
3701  10CE  DD 34 FE    	inc	(ix-2)
3702  10D1  20 03       	jr	NZ,l_game_boss_clear_00118
3703  10D3  DD 34 FF    	inc	(ix-1)
3704  10D6              l_game_boss_clear_00118:
3705  10D6  DD 7E FE    	ld	a,(ix-2)
3706  10D9  D6 A0       	sub	a,0xa0
3707  10DB  DD 7E FF    	ld	a,(ix-1)
3708  10DE  DE 00       	sbc	a,0x00
3709  10E0  38 D2       	jr	C,l_game_boss_clear_00104
3710  10E2  F1          	pop	af
3711  10E3  DD E1       	pop	ix
3712  10E5  C9          	ret
3713  10E6              	SECTION code_compiler
3714  10E6              ;	---------------------------------
3715  10E6              ; Function game_rotate_attrib
3716  10E6              ; ---------------------------------
3717  10E6              _game_rotate_attrib:
3718  10E6  01 03 00    	ld	bc,_attrib_hl + 3
3719  10E9  0A          	ld	a, (bc)
3720  10EA  32 00 00    	ld	(_tmp_uc),a
3721  10ED  11 02 00    	ld	de,_attrib_hl + 2
3722  10F0  1A          	ld	a, (de)
3723  10F1  02          	ld	(bc), a
3724  10F2  01 01 00    	ld	bc,_attrib_hl + 1
3725  10F5  0A          	ld	a, (bc)
3726  10F6  12          	ld	(de), a
3727  10F7  3A 00 00    	ld	a,(_attrib_hl)
3728  10FA  02          	ld	(bc), a
3729  10FB  3A 00 00    	ld	a,(_tmp_uc)
3730  10FE  32 00 00    	ld	(_attrib_hl),a
3731  1101  C9          	ret
3732  1102              	SECTION code_compiler
3733  1102              ;	---------------------------------
3734  1102              ; Function game_rotate_attrib_osd
3735  1102              ; ---------------------------------
3736  1102              _game_rotate_attrib_osd:
3737  1102  01 03 00    	ld	bc,_attrib_osd + 3
3738  1105  0A          	ld	a, (bc)
3739  1106  32 00 00    	ld	(_tmp_uc),a
3740  1109  11 02 00    	ld	de,_attrib_osd + 2
3741  110C  1A          	ld	a, (de)
3742  110D  02          	ld	(bc), a
3743  110E  01 01 00    	ld	bc,_attrib_osd + 1
3744  1111  0A          	ld	a, (bc)
3745  1112  12          	ld	(de), a
3746  1113  3A 00 00    	ld	a,(_attrib_osd)
3747  1116  02          	ld	(bc), a
3748  1117  3A 00 00    	ld	a,(_tmp_uc)
3749  111A  32 00 00    	ld	(_attrib_osd),a
3750  111D  C9          	ret
3751  111E              	SECTION code_compiler
3752  111E              ;	---------------------------------
3753  111E              ; Function game_attribs
3754  111E              ; ---------------------------------
3755  111E              _game_attribs:
3756  111E  01 00 00    	ld	bc,_attrib+0
3757  1121  21 00 00    	ld	hl,_map_paper
3758  1124  7E          	ld	a, (hl)
3759  1125  F6 47       	or	a,0x47
3760  1127  02          	ld	(bc), a
3761  1128  59          	ld	e, c
3762  1129  50          	ld	d, b
3763  112A  13          	inc	de
3764  112B  7E          	ld	a, (hl)
3765  112C  F6 45       	or	a,0x45
3766  112E  12          	ld	(de), a
3767  112F  7E          	ld	a, (hl)
3768  1130  F6 05       	or	a,0x05
3769  1132  32 02 00    	ld	((_attrib + 0x0002)),a
3770  1135  03          	inc	bc
3771  1136  03          	inc	bc
3772  1137  03          	inc	bc
3773  1138  21 00 00    	ld	hl,_map_paper
3774  113B  7E          	ld	a, (hl)
3775  113C  F6 41       	or	a,0x41
3776  113E  02          	ld	(bc), a
3777  113F  01 00 00    	ld	bc,_attrib_hl+0
3778  1142  7E          	ld	a, (hl)
3779  1143  F6 41       	or	a,0x41
3780  1145  02          	ld	(bc), a
3781  1146  59          	ld	e, c
3782  1147  50          	ld	d, b
3783  1148  13          	inc	de
3784  1149  7E          	ld	a, (hl)
3785  114A  F6 41       	or	a,0x41
3786  114C  12          	ld	(de), a
3787  114D  7E          	ld	a, (hl)
3788  114E  F6 43       	or	a,0x43
3789  1150  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3790  1153  03          	inc	bc
3791  1154  03          	inc	bc
3792  1155  03          	inc	bc
3793  1156  21 00 00    	ld	hl,_map_paper
3794  1159  7E          	ld	a, (hl)
3795  115A  F6 45       	or	a,0x45
3796  115C  02          	ld	(bc), a
3797  115D  01 00 00    	ld	bc,_attrib_osd+0
3798  1160  7E          	ld	a, (hl)
3799  1161  F6 46       	or	a,0x46
3800  1163  02          	ld	(bc), a
3801  1164  59          	ld	e, c
3802  1165  50          	ld	d, b
3803  1166  13          	inc	de
3804  1167  7E          	ld	a, (hl)
3805  1168  F6 47       	or	a,0x47
3806  116A  12          	ld	(de), a
3807  116B  7E          	ld	a, (hl)
3808  116C  F6 47       	or	a,0x47
3809  116E  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3810  1171  03          	inc	bc
3811  1172  03          	inc	bc
3812  1173  03          	inc	bc
3813  1174  3A 00 00    	ld	a,(_map_paper)
3814  1177  F6 46       	or	a,0x46
3815  1179  02          	ld	(bc), a
3816  117A  C9          	ret
3817  117B              	SECTION code_compiler
3818  117B              ;	---------------------------------
3819  117B              ; Function game_match_back_strict
3820  117B              ; ---------------------------------
3821  117B              _game_match_back_strict:
3822  117B  3E 01       	ld	a,0x01
3823  117D  BD          	cp	a,l
3824  117E  3E 00       	ld	a,0x00
3825  1180  9C          	sbc	a,h
3826  1181  30 3F       	jr	NC,l_game_match_back_strict_00111
3827  1183  7D          	ld	a,l
3828  1184  E6 0F       	and	a,0x0f
3829  1186  28 3A       	jr	Z,l_game_match_back_strict_00111
3830  1188  5D          	ld	e,l
3831  1189  54          	ld	d,h
3832  118A  4D          	ld	c,l
3833  118B  44          	ld	b,h
3834  118C  1B          	dec	de
3835  118D  21 00 00    	ld	hl,_scr_map
3836  1190  19          	add	hl, de
3837  1191  5E          	ld	e, (hl)
3838  1192  03          	inc	bc
3839  1193  21 00 00    	ld	hl,_scr_map
3840  1196  09          	add	hl, bc
3841  1197  4E          	ld	c, (hl)
3842  1198  7B          	ld	a, e
3843  1199  D6 1D       	sub	a,0x1d
3844  119B  20 09       	jr	NZ,l_game_match_back_strict_00102
3845  119D  79          	ld	a, c
3846  119E  D6 1D       	sub	a,0x1d
3847  11A0  20 04       	jr	NZ,l_game_match_back_strict_00102
3848  11A2  2E 1D       	ld	l,0x1d
3849  11A4  18 1E       	jr	l_game_match_back_strict_00113
3850  11A6              l_game_match_back_strict_00102:
3851  11A6  7B          	ld	a, e
3852  11A7  D6 18       	sub	a,0x18
3853  11A9  20 09       	jr	NZ,l_game_match_back_strict_00105
3854  11AB  79          	ld	a, c
3855  11AC  D6 18       	sub	a,0x18
3856  11AE  20 04       	jr	NZ,l_game_match_back_strict_00105
3857  11B0  2E 18       	ld	l,0x18
3858  11B2  18 10       	jr	l_game_match_back_strict_00113
3859  11B4              l_game_match_back_strict_00105:
3860  11B4  7B          	ld	a, e
3861  11B5  D6 0D       	sub	a,0x0d
3862  11B7  20 09       	jr	NZ,l_game_match_back_strict_00111
3863  11B9  79          	ld	a, c
3864  11BA  D6 0D       	sub	a,0x0d
3865  11BC  20 04       	jr	NZ,l_game_match_back_strict_00111
3866  11BE  2E 0D       	ld	l,0x0d
3867  11C0  18 02       	jr	l_game_match_back_strict_00113
3868  11C2              l_game_match_back_strict_00111:
3869  11C2  2E 00       	ld	l,0x00
3870  11C4              l_game_match_back_strict_00113:
3871  11C4  C9          	ret
3872  11C5              	SECTION code_compiler
3873  11C5              ;	---------------------------------
3874  11C5              ; Function game_match_back
3875  11C5              ; ---------------------------------
3876  11C5              _game_match_back:
3877  11C5  3E 01       	ld	a,0x01
3878  11C7  BD          	cp	a,l
3879  11C8  3E 00       	ld	a,0x00
3880  11CA  9C          	sbc	a,h
3881  11CB  30 3F       	jr	NC,l_game_match_back_00111
3882  11CD  7D          	ld	a,l
3883  11CE  E6 0F       	and	a,0x0f
3884  11D0  28 3A       	jr	Z,l_game_match_back_00111
3885  11D2  5D          	ld	e,l
3886  11D3  54          	ld	d,h
3887  11D4  4D          	ld	c,l
3888  11D5  44          	ld	b,h
3889  11D6  1B          	dec	de
3890  11D7  21 00 00    	ld	hl,_scr_map
3891  11DA  19          	add	hl, de
3892  11DB  5E          	ld	e, (hl)
3893  11DC  03          	inc	bc
3894  11DD  21 00 00    	ld	hl,_scr_map
3895  11E0  09          	add	hl, bc
3896  11E1  4E          	ld	c, (hl)
3897  11E2  7B          	ld	a, e
3898  11E3  D6 1D       	sub	a,0x1d
3899  11E5  28 05       	jr	Z,l_game_match_back_00101
3900  11E7  79          	ld	a, c
3901  11E8  D6 1D       	sub	a,0x1d
3902  11EA  20 04       	jr	NZ,l_game_match_back_00102
3903  11EC              l_game_match_back_00101:
3904  11EC  2E 1D       	ld	l,0x1d
3905  11EE  18 1E       	jr	l_game_match_back_00113
3906  11F0              l_game_match_back_00102:
3907  11F0  7B          	ld	a, e
3908  11F1  D6 18       	sub	a,0x18
3909  11F3  28 05       	jr	Z,l_game_match_back_00104
3910  11F5  79          	ld	a, c
3911  11F6  D6 18       	sub	a,0x18
3912  11F8  20 04       	jr	NZ,l_game_match_back_00105
3913  11FA              l_game_match_back_00104:
3914  11FA  2E 18       	ld	l,0x18
3915  11FC  18 10       	jr	l_game_match_back_00113
3916  11FE              l_game_match_back_00105:
3917  11FE  7B          	ld	a, e
3918  11FF  D6 0D       	sub	a,0x0d
3919  1201  28 05       	jr	Z,l_game_match_back_00107
3920  1203  79          	ld	a, c
3921  1204  D6 0D       	sub	a,0x0d
3922  1206  20 04       	jr	NZ,l_game_match_back_00111
3923  1208              l_game_match_back_00107:
3924  1208  2E 0D       	ld	l,0x0d
3925  120A  18 02       	jr	l_game_match_back_00113
3926  120C              l_game_match_back_00111:
3927  120C  2E 00       	ld	l,0x00
3928  120E              l_game_match_back_00113:
3929  120E  C9          	ret
3930  120F              	SECTION IGNORE
3931  0000              
