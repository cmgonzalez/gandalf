1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_fps
191   0000              	GLOBAL _game_respawn
192   0000              	GLOBAL _game_draw_screen
193   0000              	GLOBAL _game_boss_kill
194   0000              	GLOBAL _game_add_enemy
195   0000              	GLOBAL _game_print_footer
196   0000              	GLOBAL _game_print_score
197   0000              	GLOBAL _game_update_stats
198   0000              	GLOBAL _game_start_timer
199   0000              	GLOBAL _game_round_init
200   0000              	GLOBAL _game_print_header
201   0000              	GLOBAL _game_check_map
202   0000              	GLOBAL _game_check_cell
203   0000              	GLOBAL _game_paint_attrib_lin
204   0000              	GLOBAL _game_paint_attrib_lin_h
205   0000              	GLOBAL _game_paint_attrib_lin_osd
206   0000              	GLOBAL _game_colour_message
207   0000              	GLOBAL _game_check_time
208   0000              	GLOBAL _game_shoot_fire
209   0000              	GLOBAL _game_shoot_fire_boss
210   0000              	GLOBAL _game_obj_set
211   0000              	GLOBAL _game_obj_chk
212   0000              	GLOBAL _game_obj_clear
213   0000              	GLOBAL _game_boss_clear
214   0000              	GLOBAL _game_rotate_attrib
215   0000              	GLOBAL _game_rotate_attrib_osd
216   0000              	GLOBAL _game_attribs
217   0000              	GLOBAL _game_match_back
218   0000              	GLOBAL _menu_main
219   0000              	GLOBAL _menu_main_print
220   0000              	GLOBAL _menu_redefine
221   0000              	GLOBAL _menu_define_key
222   0000              ;--------------------------------------------------------
223   0000              ; Externals used
224   0000              ;--------------------------------------------------------
225   0000              	GLOBAL _ffsll_callee
226   0000              	GLOBAL _ffsll
227   0000              	GLOBAL _strxfrm_callee
228   0000              	GLOBAL _strxfrm
229   0000              	GLOBAL _strupr_fastcall
230   0000              	GLOBAL _strupr
231   0000              	GLOBAL _strtok_r_callee
232   0000              	GLOBAL _strtok_r
233   0000              	GLOBAL _strtok_callee
234   0000              	GLOBAL _strtok
235   0000              	GLOBAL _strstrip_fastcall
236   0000              	GLOBAL _strstrip
237   0000              	GLOBAL _strstr_callee
238   0000              	GLOBAL _strstr
239   0000              	GLOBAL _strspn_callee
240   0000              	GLOBAL _strspn
241   0000              	GLOBAL _strsep_callee
242   0000              	GLOBAL _strsep
243   0000              	GLOBAL _strrstrip_fastcall
244   0000              	GLOBAL _strrstrip
245   0000              	GLOBAL _strrspn_callee
246   0000              	GLOBAL _strrspn
247   0000              	GLOBAL _strrev_fastcall
248   0000              	GLOBAL _strrev
249   0000              	GLOBAL _strrcspn_callee
250   0000              	GLOBAL _strrcspn
251   0000              	GLOBAL _strrchr_callee
252   0000              	GLOBAL _strrchr
253   0000              	GLOBAL _strpbrk_callee
254   0000              	GLOBAL _strpbrk
255   0000              	GLOBAL _strnlen_callee
256   0000              	GLOBAL _strnlen
257   0000              	GLOBAL _strnicmp_callee
258   0000              	GLOBAL _strnicmp
259   0000              	GLOBAL _strndup_callee
260   0000              	GLOBAL _strndup
261   0000              	GLOBAL _strncpy_callee
262   0000              	GLOBAL _strncpy
263   0000              	GLOBAL _strncmp_callee
264   0000              	GLOBAL _strncmp
265   0000              	GLOBAL _strnchr_callee
266   0000              	GLOBAL _strnchr
267   0000              	GLOBAL _strncat_callee
268   0000              	GLOBAL _strncat
269   0000              	GLOBAL _strncasecmp_callee
270   0000              	GLOBAL _strncasecmp
271   0000              	GLOBAL _strlwr_fastcall
272   0000              	GLOBAL _strlwr
273   0000              	GLOBAL _strlen_fastcall
274   0000              	GLOBAL _strlen
275   0000              	GLOBAL _strlcpy_callee
276   0000              	GLOBAL _strlcpy
277   0000              	GLOBAL _strlcat_callee
278   0000              	GLOBAL _strlcat
279   0000              	GLOBAL _stricmp_callee
280   0000              	GLOBAL _stricmp
281   0000              	GLOBAL _strerror_fastcall
282   0000              	GLOBAL _strerror
283   0000              	GLOBAL _strdup_fastcall
284   0000              	GLOBAL _strdup
285   0000              	GLOBAL _strcspn_callee
286   0000              	GLOBAL _strcspn
287   0000              	GLOBAL _strcpy_callee
288   0000              	GLOBAL _strcpy
289   0000              	GLOBAL _strcoll_callee
290   0000              	GLOBAL _strcoll
291   0000              	GLOBAL _strcmp_callee
292   0000              	GLOBAL _strcmp
293   0000              	GLOBAL _strchrnul_callee
294   0000              	GLOBAL _strchrnul
295   0000              	GLOBAL _strchr_callee
296   0000              	GLOBAL _strchr
297   0000              	GLOBAL _strcat_callee
298   0000              	GLOBAL _strcat
299   0000              	GLOBAL _strcasecmp_callee
300   0000              	GLOBAL _strcasecmp
301   0000              	GLOBAL _stpncpy_callee
302   0000              	GLOBAL _stpncpy
303   0000              	GLOBAL _stpcpy_callee
304   0000              	GLOBAL _stpcpy
305   0000              	GLOBAL _memswap_callee
306   0000              	GLOBAL _memswap
307   0000              	GLOBAL _memset_callee
308   0000              	GLOBAL _memset
309   0000              	GLOBAL _memrchr_callee
310   0000              	GLOBAL _memrchr
311   0000              	GLOBAL _memmove_callee
312   0000              	GLOBAL _memmove
313   0000              	GLOBAL _memmem_callee
314   0000              	GLOBAL _memmem
315   0000              	GLOBAL _memcpy_callee
316   0000              	GLOBAL _memcpy
317   0000              	GLOBAL _memcmp_callee
318   0000              	GLOBAL _memcmp
319   0000              	GLOBAL _memchr_callee
320   0000              	GLOBAL _memchr
321   0000              	GLOBAL _memccpy_callee
322   0000              	GLOBAL _memccpy
323   0000              	GLOBAL _ffsl_fastcall
324   0000              	GLOBAL _ffsl
325   0000              	GLOBAL _ffs_fastcall
326   0000              	GLOBAL _ffs
327   0000              	GLOBAL __strrstrip__fastcall
328   0000              	GLOBAL __strrstrip_
329   0000              	GLOBAL __memupr__callee
330   0000              	GLOBAL __memupr_
331   0000              	GLOBAL __memstrcpy__callee
332   0000              	GLOBAL __memstrcpy_
333   0000              	GLOBAL __memlwr__callee
334   0000              	GLOBAL __memlwr_
335   0000              	GLOBAL _rawmemchr_callee
336   0000              	GLOBAL _rawmemchr
337   0000              	GLOBAL _strnset_callee
338   0000              	GLOBAL _strnset
339   0000              	GLOBAL _strset_callee
340   0000              	GLOBAL _strset
341   0000              	GLOBAL _rindex_callee
342   0000              	GLOBAL _rindex
343   0000              	GLOBAL _index_callee
344   0000              	GLOBAL _index
345   0000              	GLOBAL _bzero_callee
346   0000              	GLOBAL _bzero
347   0000              	GLOBAL _bcopy_callee
348   0000              	GLOBAL _bcopy
349   0000              	GLOBAL _bcmp_callee
350   0000              	GLOBAL _bcmp
351   0000              	GLOBAL _ulltoa_callee
352   0000              	GLOBAL _ulltoa
353   0000              	GLOBAL _strtoull_callee
354   0000              	GLOBAL _strtoull
355   0000              	GLOBAL _strtoll_callee
356   0000              	GLOBAL _strtoll
357   0000              	GLOBAL _lltoa_callee
358   0000              	GLOBAL _lltoa
359   0000              	GLOBAL _llabs_callee
360   0000              	GLOBAL _llabs
361   0000              	GLOBAL __lldivu__callee
362   0000              	GLOBAL __lldivu_
363   0000              	GLOBAL __lldiv__callee
364   0000              	GLOBAL __lldiv_
365   0000              	GLOBAL _atoll_callee
366   0000              	GLOBAL _atoll
367   0000              	GLOBAL _realloc_unlocked_callee
368   0000              	GLOBAL _realloc_unlocked
369   0000              	GLOBAL _malloc_unlocked_fastcall
370   0000              	GLOBAL _malloc_unlocked
371   0000              	GLOBAL _free_unlocked_fastcall
372   0000              	GLOBAL _free_unlocked
373   0000              	GLOBAL _calloc_unlocked_callee
374   0000              	GLOBAL _calloc_unlocked
375   0000              	GLOBAL _aligned_alloc_unlocked_callee
376   0000              	GLOBAL _aligned_alloc_unlocked
377   0000              	GLOBAL _realloc_callee
378   0000              	GLOBAL _realloc
379   0000              	GLOBAL _malloc_fastcall
380   0000              	GLOBAL _malloc
381   0000              	GLOBAL _free_fastcall
382   0000              	GLOBAL _free
383   0000              	GLOBAL _calloc_callee
384   0000              	GLOBAL _calloc
385   0000              	GLOBAL _aligned_alloc_callee
386   0000              	GLOBAL _aligned_alloc
387   0000              	GLOBAL _utoa_callee
388   0000              	GLOBAL _utoa
389   0000              	GLOBAL _ultoa_callee
390   0000              	GLOBAL _ultoa
391   0000              	GLOBAL _system_fastcall
392   0000              	GLOBAL _system
393   0000              	GLOBAL _strtoul_callee
394   0000              	GLOBAL _strtoul
395   0000              	GLOBAL _strtol_callee
396   0000              	GLOBAL _strtol
397   0000              	GLOBAL _strtof_callee
398   0000              	GLOBAL _strtof
399   0000              	GLOBAL _strtod_callee
400   0000              	GLOBAL _strtod
401   0000              	GLOBAL _srand_fastcall
402   0000              	GLOBAL _srand
403   0000              	GLOBAL _rand
404   0000              	GLOBAL _quick_exit_fastcall
405   0000              	GLOBAL _quick_exit
406   0000              	GLOBAL _qsort_callee
407   0000              	GLOBAL _qsort
408   0000              	GLOBAL _ltoa_callee
409   0000              	GLOBAL _ltoa
410   0000              	GLOBAL _labs_fastcall
411   0000              	GLOBAL _labs
412   0000              	GLOBAL _itoa_callee
413   0000              	GLOBAL _itoa
414   0000              	GLOBAL _ftoh_callee
415   0000              	GLOBAL _ftoh
416   0000              	GLOBAL _ftog_callee
417   0000              	GLOBAL _ftog
418   0000              	GLOBAL _ftoe_callee
419   0000              	GLOBAL _ftoe
420   0000              	GLOBAL _ftoa_callee
421   0000              	GLOBAL _ftoa
422   0000              	GLOBAL _exit_fastcall
423   0000              	GLOBAL _exit
424   0000              	GLOBAL _dtoh_callee
425   0000              	GLOBAL _dtoh
426   0000              	GLOBAL _dtog_callee
427   0000              	GLOBAL _dtog
428   0000              	GLOBAL _dtoe_callee
429   0000              	GLOBAL _dtoe
430   0000              	GLOBAL _dtoa_callee
431   0000              	GLOBAL _dtoa
432   0000              	GLOBAL _bsearch_callee
433   0000              	GLOBAL _bsearch
434   0000              	GLOBAL _atol_fastcall
435   0000              	GLOBAL _atol
436   0000              	GLOBAL _atoi_fastcall
437   0000              	GLOBAL _atoi
438   0000              	GLOBAL _atof_fastcall
439   0000              	GLOBAL _atof
440   0000              	GLOBAL _atexit_fastcall
441   0000              	GLOBAL _atexit
442   0000              	GLOBAL _at_quick_exit_fastcall
443   0000              	GLOBAL _at_quick_exit
444   0000              	GLOBAL _abs_fastcall
445   0000              	GLOBAL _abs
446   0000              	GLOBAL _abort
447   0000              	GLOBAL __strtou__callee
448   0000              	GLOBAL __strtou_
449   0000              	GLOBAL __strtoi__callee
450   0000              	GLOBAL __strtoi_
451   0000              	GLOBAL __random_uniform_xor_8__fastcall
452   0000              	GLOBAL __random_uniform_xor_8_
453   0000              	GLOBAL __random_uniform_xor_32__fastcall
454   0000              	GLOBAL __random_uniform_xor_32_
455   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
456   0000              	GLOBAL __random_uniform_cmwc_8_
457   0000              	GLOBAL __shellsort__callee
458   0000              	GLOBAL __shellsort_
459   0000              	GLOBAL __quicksort__callee
460   0000              	GLOBAL __quicksort_
461   0000              	GLOBAL __insertion_sort__callee
462   0000              	GLOBAL __insertion_sort_
463   0000              	GLOBAL __ldivu__callee
464   0000              	GLOBAL __ldivu_
465   0000              	GLOBAL __ldiv__callee
466   0000              	GLOBAL __ldiv_
467   0000              	GLOBAL __divu__callee
468   0000              	GLOBAL __divu_
469   0000              	GLOBAL __div__callee
470   0000              	GLOBAL __div_
471   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
472   0000              	GLOBAL _NIRVANAP_drawTW_raw
473   0000              	GLOBAL _NIRVANAP_drawTW_callee
474   0000              	GLOBAL _NIRVANAP_drawTW
475   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
476   0000              	GLOBAL _NIRVANAP_drawW_raw
477   0000              	GLOBAL _NIRVANAP_drawW_callee
478   0000              	GLOBAL _NIRVANAP_drawW
479   0000              	GLOBAL _NIRVANAP_spriteT_callee
480   0000              	GLOBAL _NIRVANAP_spriteT
481   0000              	GLOBAL _NIRVANAP_fillC_callee
482   0000              	GLOBAL _NIRVANAP_fillC
483   0000              	GLOBAL _NIRVANAP_readC_callee
484   0000              	GLOBAL _NIRVANAP_readC
485   0000              	GLOBAL _NIRVANAP_paintC_callee
486   0000              	GLOBAL _NIRVANAP_paintC
487   0000              	GLOBAL _NIRVANAP_printC_callee
488   0000              	GLOBAL _NIRVANAP_printC
489   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
490   0000              	GLOBAL _NIRVANAP_fillT_raw
491   0000              	GLOBAL _NIRVANAP_fillT_callee
492   0000              	GLOBAL _NIRVANAP_fillT
493   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
494   0000              	GLOBAL _NIRVANAP_drawT_raw
495   0000              	GLOBAL _NIRVANAP_drawT_callee
496   0000              	GLOBAL _NIRVANAP_drawT
497   0000              	GLOBAL _NIRVANAP_stop
498   0000              	GLOBAL _NIRVANAP_start
499   0000              	GLOBAL _debug3
500   0000              	GLOBAL _debug2
501   0000              	GLOBAL _debug
502   0000              	GLOBAL _zx_print_str
503   0000              	GLOBAL _zx_print_int
504   0000              	GLOBAL _zx_print_chr
505   0000              	GLOBAL _zx_print_bonus_time
506   0000              	GLOBAL _zx_isr
507   0000              	GLOBAL _z80_otdr_callee
508   0000              	GLOBAL _z80_otdr
509   0000              	GLOBAL _z80_otir_callee
510   0000              	GLOBAL _z80_otir
511   0000              	GLOBAL _z80_outp_callee
512   0000              	GLOBAL _z80_outp
513   0000              	GLOBAL _z80_indr_callee
514   0000              	GLOBAL _z80_indr
515   0000              	GLOBAL _z80_inir_callee
516   0000              	GLOBAL _z80_inir
517   0000              	GLOBAL _z80_inp_fastcall
518   0000              	GLOBAL _z80_inp
519   0000              	GLOBAL _z80_set_int_state_fastcall
520   0000              	GLOBAL _z80_set_int_state
521   0000              	GLOBAL _z80_get_int_state
522   0000              	GLOBAL _z80_delay_tstate_fastcall
523   0000              	GLOBAL _z80_delay_tstate
524   0000              	GLOBAL _z80_delay_ms_fastcall
525   0000              	GLOBAL _z80_delay_ms
526   0000              	GLOBAL _im2_remove_generic_callback_callee
527   0000              	GLOBAL _im2_remove_generic_callback
528   0000              	GLOBAL _im2_prepend_generic_callback_callee
529   0000              	GLOBAL _im2_prepend_generic_callback
530   0000              	GLOBAL _im2_append_generic_callback_callee
531   0000              	GLOBAL _im2_append_generic_callback
532   0000              	GLOBAL _im2_create_generic_isr_8080_callee
533   0000              	GLOBAL _im2_create_generic_isr_8080
534   0000              	GLOBAL _im2_create_generic_isr_callee
535   0000              	GLOBAL _im2_create_generic_isr
536   0000              	GLOBAL _im2_install_isr_callee
537   0000              	GLOBAL _im2_install_isr
538   0000              	GLOBAL _im2_init_fastcall
539   0000              	GLOBAL _im2_init
540   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
541   0000              	GLOBAL _intrinsic_swap_word_32
542   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
543   0000              	GLOBAL _intrinsic_swap_endian_32
544   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
545   0000              	GLOBAL _intrinsic_swap_endian_16
546   0000              	GLOBAL _intrinsic_return_de
547   0000              	GLOBAL _intrinsic_return_bc
548   0000              	GLOBAL _intrinsic_exx
549   0000              	GLOBAL _intrinsic_ex_de_hl
550   0000              	GLOBAL _intrinsic_nop
551   0000              	GLOBAL _intrinsic_im_2
552   0000              	GLOBAL _intrinsic_im_1
553   0000              	GLOBAL _intrinsic_im_0
554   0000              	GLOBAL _intrinsic_retn
555   0000              	GLOBAL _intrinsic_reti
556   0000              	GLOBAL _intrinsic_halt
557   0000              	GLOBAL _intrinsic_ei
558   0000              	GLOBAL _intrinsic_di
559   0000              	GLOBAL _intrinsic_stub
560   0000              	GLOBAL _intrinsic_outi
561   0000              	GLOBAL _intrinsic_ldi
562   0000              	GLOBAL _zx_pattern_fill_callee
563   0000              	GLOBAL _zx_pattern_fill
564   0000              	GLOBAL _zx_saddrpup_fastcall
565   0000              	GLOBAL _zx_saddrpup
566   0000              	GLOBAL _zx_saddrpright_callee
567   0000              	GLOBAL _zx_saddrpright
568   0000              	GLOBAL _zx_saddrpleft_callee
569   0000              	GLOBAL _zx_saddrpleft
570   0000              	GLOBAL _zx_saddrpdown_fastcall
571   0000              	GLOBAL _zx_saddrpdown
572   0000              	GLOBAL _zx_saddrcup_fastcall
573   0000              	GLOBAL _zx_saddrcup
574   0000              	GLOBAL _zx_saddrcright_fastcall
575   0000              	GLOBAL _zx_saddrcright
576   0000              	GLOBAL _zx_saddrcleft_fastcall
577   0000              	GLOBAL _zx_saddrcleft
578   0000              	GLOBAL _zx_saddrcdown_fastcall
579   0000              	GLOBAL _zx_saddrcdown
580   0000              	GLOBAL _zx_saddr2py_fastcall
581   0000              	GLOBAL _zx_saddr2py
582   0000              	GLOBAL _zx_saddr2px_fastcall
583   0000              	GLOBAL _zx_saddr2px
584   0000              	GLOBAL _zx_saddr2cy_fastcall
585   0000              	GLOBAL _zx_saddr2cy
586   0000              	GLOBAL _zx_saddr2cx_fastcall
587   0000              	GLOBAL _zx_saddr2cx
588   0000              	GLOBAL _zx_saddr2aaddr_fastcall
589   0000              	GLOBAL _zx_saddr2aaddr
590   0000              	GLOBAL _zx_py2saddr_fastcall
591   0000              	GLOBAL _zx_py2saddr
592   0000              	GLOBAL _zx_py2aaddr_fastcall
593   0000              	GLOBAL _zx_py2aaddr
594   0000              	GLOBAL _zx_pxy2saddr_callee
595   0000              	GLOBAL _zx_pxy2saddr
596   0000              	GLOBAL _zx_pxy2aaddr_callee
597   0000              	GLOBAL _zx_pxy2aaddr
598   0000              	GLOBAL _zx_px2bitmask_fastcall
599   0000              	GLOBAL _zx_px2bitmask
600   0000              	GLOBAL _zx_cy2saddr_fastcall
601   0000              	GLOBAL _zx_cy2saddr
602   0000              	GLOBAL _zx_cy2aaddr_fastcall
603   0000              	GLOBAL _zx_cy2aaddr
604   0000              	GLOBAL _zx_cxy2saddr_callee
605   0000              	GLOBAL _zx_cxy2saddr
606   0000              	GLOBAL _zx_cxy2aaddr_callee
607   0000              	GLOBAL _zx_cxy2aaddr
608   0000              	GLOBAL _zx_bitmask2px_fastcall
609   0000              	GLOBAL _zx_bitmask2px
610   0000              	GLOBAL _zx_aaddrcup_fastcall
611   0000              	GLOBAL _zx_aaddrcup
612   0000              	GLOBAL _zx_aaddrcright_fastcall
613   0000              	GLOBAL _zx_aaddrcright
614   0000              	GLOBAL _zx_aaddrcleft_fastcall
615   0000              	GLOBAL _zx_aaddrcleft
616   0000              	GLOBAL _zx_aaddrcdown_fastcall
617   0000              	GLOBAL _zx_aaddrcdown
618   0000              	GLOBAL _zx_aaddr2saddr_fastcall
619   0000              	GLOBAL _zx_aaddr2saddr
620   0000              	GLOBAL _zx_aaddr2py_fastcall
621   0000              	GLOBAL _zx_aaddr2py
622   0000              	GLOBAL _zx_aaddr2px_fastcall
623   0000              	GLOBAL _zx_aaddr2px
624   0000              	GLOBAL _zx_aaddr2cy_fastcall
625   0000              	GLOBAL _zx_aaddr2cy
626   0000              	GLOBAL _zx_aaddr2cx_fastcall
627   0000              	GLOBAL _zx_aaddr2cx
628   0000              	GLOBAL _zx_visit_wc_pix_callee
629   0000              	GLOBAL _zx_visit_wc_pix
630   0000              	GLOBAL _zx_visit_wc_attr_callee
631   0000              	GLOBAL _zx_visit_wc_attr
632   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
633   0000              	GLOBAL _zx_scroll_wc_up_pix
634   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
635   0000              	GLOBAL _zx_scroll_wc_up_attr
636   0000              	GLOBAL _zx_scroll_wc_up_callee
637   0000              	GLOBAL _zx_scroll_wc_up
638   0000              	GLOBAL _zx_scroll_up_pix_callee
639   0000              	GLOBAL _zx_scroll_up_pix
640   0000              	GLOBAL _zx_scroll_up_attr_callee
641   0000              	GLOBAL _zx_scroll_up_attr
642   0000              	GLOBAL _zx_scroll_up_callee
643   0000              	GLOBAL _zx_scroll_up
644   0000              	GLOBAL _zx_cls_wc_pix_callee
645   0000              	GLOBAL _zx_cls_wc_pix
646   0000              	GLOBAL _zx_cls_wc_attr_callee
647   0000              	GLOBAL _zx_cls_wc_attr
648   0000              	GLOBAL _zx_cls_wc_callee
649   0000              	GLOBAL _zx_cls_wc
650   0000              	GLOBAL _zx_cls_pix_fastcall
651   0000              	GLOBAL _zx_cls_pix
652   0000              	GLOBAL _zx_cls_attr_fastcall
653   0000              	GLOBAL _zx_cls_attr
654   0000              	GLOBAL _zx_cls_fastcall
655   0000              	GLOBAL _zx_cls
656   0000              	GLOBAL _zx_border_fastcall
657   0000              	GLOBAL _zx_border
658   0000              	GLOBAL _spr_colision_b2
659   0000              	GLOBAL _spr_colision_b
660   0000              	GLOBAL _spr_unflatten
661   0000              	GLOBAL _spr_flatten
662   0000              	GLOBAL _spr_btile_paint_back
663   0000              	GLOBAL _spr_bullet_explode
664   0000              	GLOBAL _spr_init_effects
665   0000              	GLOBAL _spr_turn_horizontal
666   0000              	GLOBAL _spr_bullets_play
667   0000              	GLOBAL _spr_play_anim
668   0000              	GLOBAL _spr_add_anim
669   0000              	GLOBAL _spr_clear_scr
670   0000              	GLOBAL _spr_page_map
671   0000              	GLOBAL _spr_page_down
672   0000              	GLOBAL _spr_page_up
673   0000              	GLOBAL _spr_page_right
674   0000              	GLOBAL _spr_page_left
675   0000              	GLOBAL _spr_tile_paint
676   0000              	GLOBAL _spr_calc_hor
677   0000              	GLOBAL _spr_draw_index
678   0000              	GLOBAL _spr_brick_anim
679   0000              	GLOBAL _spr_back_repaint
680   0000              	GLOBAL _spr_tile
681   0000              	GLOBAL _spr_destroy
682   0000              	GLOBAL _spr_tile_dir
683   0000              	GLOBAL _spr_redraw
684   0000              	GLOBAL _spr_move_left
685   0000              	GLOBAL _spr_move_right
686   0000              	GLOBAL _spr_move_horizontal
687   0000              	GLOBAL _spr_move_down
688   0000              	GLOBAL _spr_move_up
689   0000              	GLOBAL _spr_set_down
690   0000              	GLOBAL _spr_set_up
691   0000              	GLOBAL _spr_calc_index
692   0000              	GLOBAL _spr_chktime
693   0000              	GLOBAL _player_fix_walk_lin
694   0000              	GLOBAL _player_gasta_brick
695   0000              	GLOBAL _player_lost_life
696   0000              	GLOBAL _player_hit
697   0000              	GLOBAL _player_open_door
698   0000              	GLOBAL _player_move_jump
699   0000              	GLOBAL _player_fire
700   0000              	GLOBAL _player_check_stairs_vertical
701   0000              	GLOBAL _player_check_stairs
702   0000              	GLOBAL _player_tile
703   0000              	GLOBAL _player_anim_tile
704   0000              	GLOBAL _player_pick_item
705   0000              	GLOBAL _player_check_floor
706   0000              	GLOBAL _player_hit_platform_clear
707   0000              	GLOBAL _player_score_add
708   0000              	GLOBAL _player_hit_platform
709   0000              	GLOBAL _player_move_input
710   0000              	GLOBAL _player_turn
711   0000              	GLOBAL _player_move
712   0000              	GLOBAL _player_check_input
713   0000              	GLOBAL _player_pick_mushroom
714   0000              	GLOBAL _player_collision
715   0000              	GLOBAL _player_init
716   0000              	GLOBAL _game_fill_row
717   0000              	GLOBAL _boss_draw
718   0000              	GLOBAL _boss_turn
719   0000              	GLOBAL _enemy_avoid_dead
720   0000              	GLOBAL _enemy_avoid_fall
721   0000              	GLOBAL _enemy_kill
722   0000              	GLOBAL _enemy_respawn
723   0000              	GLOBAL _enemy_init
724   0000              	GLOBAL _enemy_move
725   0000              	GLOBAL _enemy_turn
726   0000              	GLOBAL _enemy_static
727   0000              	GLOBAL _enemy_walk
728   0000              	GLOBAL _enemy_horizontal
729   0000              	GLOBAL _enemy_vertical
730   0000              	GLOBAL _ay_fx_play
731   0000              	GLOBAL _ay_midi_play
732   0000              	GLOBAL _ay_is_playing
733   0000              	GLOBAL _ay_reset
734   0000              	GLOBAL _test_func
735   0000              	GLOBAL _test_proc
736   0000              	GLOBAL _in_mouse_kempston_wheel_delta
737   0000              	GLOBAL _in_mouse_kempston_wheel
738   0000              	GLOBAL _in_mouse_kempston_callee
739   0000              	GLOBAL _in_mouse_kempston
740   0000              	GLOBAL _in_mouse_kempston_setpos_callee
741   0000              	GLOBAL _in_mouse_kempston_setpos
742   0000              	GLOBAL _in_mouse_kempston_reset
743   0000              	GLOBAL _in_mouse_kempston_init
744   0000              	GLOBAL _in_mouse_amx_wheel_delta
745   0000              	GLOBAL _in_mouse_amx_wheel
746   0000              	GLOBAL _in_mouse_amx_callee
747   0000              	GLOBAL _in_mouse_amx
748   0000              	GLOBAL _in_mouse_amx_setpos_callee
749   0000              	GLOBAL _in_mouse_amx_setpos
750   0000              	GLOBAL _in_mouse_amx_reset
751   0000              	GLOBAL _in_mouse_amx_init_callee
752   0000              	GLOBAL _in_mouse_amx_init
753   0000              	GLOBAL _in_stick_sinclair2
754   0000              	GLOBAL _in_stick_sinclair1
755   0000              	GLOBAL _in_stick_kempston
756   0000              	GLOBAL _in_stick_fuller
757   0000              	GLOBAL _in_stick_cursor
758   0000              	GLOBAL _in_stick_keyboard_fastcall
759   0000              	GLOBAL _in_stick_keyboard
760   0000              	GLOBAL _in_wait_nokey
761   0000              	GLOBAL _in_wait_key
762   0000              	GLOBAL _in_test_key
763   0000              	GLOBAL _in_pause_fastcall
764   0000              	GLOBAL _in_pause
765   0000              	GLOBAL _in_key_scancode_fastcall
766   0000              	GLOBAL _in_key_scancode
767   0000              	GLOBAL _in_key_pressed_fastcall
768   0000              	GLOBAL _in_key_pressed
769   0000              	GLOBAL _in_inkey
770   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
771   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
772   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
773   0000              	GLOBAL _NIRVANAP_HOLE
774   0000              	GLOBAL _NIRVANAP_ISR_HOOK
775   0000              	GLOBAL _scan_map
776   0000              	GLOBAL _key_map
777   0000              	GLOBAL _player_lvl_table
778   0000              	GLOBAL _map_paper_last
779   0000              	GLOBAL _map_paper_clr
780   0000              	GLOBAL _map_paper
781   0000              	GLOBAL _draw_count
782   0000              	GLOBAL _g_player_hit_right
783   0000              	GLOBAL _g_player_hit_left
784   0000              	GLOBAL _bullet_count
785   0000              	GLOBAL _spr_hack
786   0000              	GLOBAL _boss_stat
787   0000              	GLOBAL _boss_time_fire
788   0000              	GLOBAL _boss_time
789   0000              	GLOBAL _boss_tile
790   0000              	GLOBAL _boss_inc
791   0000              	GLOBAL _boss_col
792   0000              	GLOBAL _boss_lin
793   0000              	GLOBAL _bullet
794   0000              	GLOBAL _bullet_vel
795   0000              	GLOBAL _bullet_frames
796   0000              	GLOBAL _bullet_colint
797   0000              	GLOBAL _bullet_dir
798   0000              	GLOBAL _bullet_tile
799   0000              	GLOBAL _bullet_col
800   0000              	GLOBAL _bullet_lin
801   0000              	GLOBAL _bullet_col0
802   0000              	GLOBAL _bullet_lin0
803   0000              	GLOBAL _bullet_max
804   0000              	GLOBAL _bullet_class
805   0000              	GLOBAL _mush_class
806   0000              	GLOBAL _mush_index
807   0000              	GLOBAL _anim_count
808   0000              	GLOBAL _anim_respanwn
809   0000              	GLOBAL _anim_loop
810   0000              	GLOBAL _anim_end
811   0000              	GLOBAL _anim_int
812   0000              	GLOBAL _anim_tile
813   0000              	GLOBAL _anim_col
814   0000              	GLOBAL _anim_lin
815   0000              	GLOBAL _map_heigth
816   0000              	GLOBAL _map_width
817   0000              	GLOBAL _scr_curr
818   0000              	GLOBAL _sprite_kind
819   0000              	GLOBAL _scr_obj1
820   0000              	GLOBAL _scr_obj0
821   0000              	GLOBAL _scr_map
822   0000              	GLOBAL _sprite_speed_alt
823   0000              	GLOBAL _spr_init
824   0000              	GLOBAL _spr_map_tile
825   0000              	GLOBAL _sprite_frames
826   0000              	GLOBAL _sprite_speed
827   0000              	GLOBAL _screen_ink
828   0000              	GLOBAL _screen_paper
829   0000              	GLOBAL _player_onstair
830   0000              	GLOBAL _game_start_scr
831   0000              	GLOBAL _game_respawn_tile
832   0000              	GLOBAL _game_respawn_index
833   0000              	GLOBAL _game_respawn_time
834   0000              	GLOBAL _game_score_top
835   0000              	GLOBAL _player_coins
836   0000              	GLOBAL _player_lives
837   0000              	GLOBAL _game_over
838   0000              	GLOBAL _game_sound
839   0000              	GLOBAL _game_inmune
840   0000              	GLOBAL _game_god_mode
841   0000              	GLOBAL _sprite_curr_index
842   0000              	GLOBAL _spr_count
843   0000              	GLOBAL _bullet_time
844   0000              	GLOBAL _anim_time
845   0000              	GLOBAL _frame_time
846   0000              	GLOBAL _curr_time
847   0000              	GLOBAL _s_state
848   0000              	GLOBAL _attrib_osd
849   0000              	GLOBAL _attrib_hl
850   0000              	GLOBAL _attrib
851   0000              	GLOBAL _zx_val_asm
852   0000              	GLOBAL _enemies
853   0000              	GLOBAL _tmp_ui
854   0000              	GLOBAL _tmp_sc
855   0000              	GLOBAL _tmp_uc
856   0000              	GLOBAL _tmp1
857   0000              	GLOBAL _tmp0
858   0000              	GLOBAL _tmp
859   0000              	GLOBAL _index1
860   0000              	GLOBAL _index0
861   0000              	GLOBAL _loop_count
862   0000              	GLOBAL _s_class
863   0000              	GLOBAL _s_col1
864   0000              	GLOBAL _s_col0
865   0000              	GLOBAL _s_lin1
866   0000              	GLOBAL _s_lin0
867   0000              	GLOBAL _s_tile1
868   0000              	GLOBAL _s_tile0
869   0000              	GLOBAL _player_brick_time
870   0000              	GLOBAL _player_hit_count
871   0000              	GLOBAL _sprite_horizontal_check
872   0000              	GLOBAL _sprite_on_air
873   0000              	GLOBAL _sprite
874   0000              	GLOBAL _fps
875   0000              	GLOBAL _game_2buttons
876   0000              	GLOBAL _game_respawn_curr_time
877   0000              	GLOBAL _game_worldup
878   0000              	GLOBAL _game_mush_count
879   0000              	GLOBAL _game_boss_fix
880   0000              	GLOBAL _game_boss_hit
881   0000              	GLOBAL _game_boss_alive
882   0000              	GLOBAL _game_boss
883   0000              	GLOBAL _game_world
884   0000              	GLOBAL _game_gravity
885   0000              	GLOBAL _player_onfire
886   0000              	GLOBAL _player_anim_stair
887   0000              	GLOBAL _player_hit_time
888   0000              	GLOBAL _player_lin_scr
889   0000              	GLOBAL _player_col_scr
890   0000              	GLOBAL _player_lvl
891   0000              	GLOBAL _player_int
892   0000              	GLOBAL _player_str
893   0000              	GLOBAL _player_max_vita
894   0000              	GLOBAL _player_max_mana
895   0000              	GLOBAL _player_vita
896   0000              	GLOBAL _player_mana
897   0000              	GLOBAL _player_keys
898   0000              	GLOBAL _player_vel_inc
899   0000              	GLOBAL _player_vel_y1
900   0000              	GLOBAL _player_vel_y0
901   0000              	GLOBAL _player_vel_y
902   0000              	GLOBAL _player_vel_x
903   0000              	GLOBAL _player_score
904   0000              	GLOBAL _last_time
905   0000              	GLOBAL _player_slide
906   0000              	GLOBAL _spr_timer
907   0000              	GLOBAL _jump_lin
908   0000              	GLOBAL _player_hit_col
909   0000              	GLOBAL _player_hit_lin
910   0000              	GLOBAL _colint
911   0000              	GLOBAL _col
912   0000              	GLOBAL _lin
913   0000              	GLOBAL _tile
914   0000              	GLOBAL _state_a
915   0000              	GLOBAL _state
916   0000              	GLOBAL _class
917   0000              	GLOBAL _tbuffer
918   0000              	GLOBAL _dirs_alt
919   0000              	GLOBAL _dirs
920   0000              	GLOBAL _k2
921   0000              	GLOBAL _k1
922   0000              	GLOBAL _joyfunc2
923   0000              	GLOBAL _joyfunc1
924   0000              	GLOBAL _btiles
925   0000              	GLOBAL _spec128
926   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
927   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
928   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
929   0000              	GLOBAL _ay_effect_20
930   0000              	GLOBAL _ay_effect_19
931   0000              	GLOBAL _ay_effect_18
932   0000              	GLOBAL _ay_effect_17
933   0000              	GLOBAL _ay_effect_16
934   0000              	GLOBAL _ay_effect_15
935   0000              	GLOBAL _ay_effect_14
936   0000              	GLOBAL _ay_effect_13
937   0000              	GLOBAL _ay_effect_12
938   0000              	GLOBAL _ay_effect_11
939   0000              	GLOBAL _ay_effect_10
940   0000              	GLOBAL _ay_effect_09
941   0000              	GLOBAL _ay_effect_08
942   0000              	GLOBAL _ay_effect_07
943   0000              	GLOBAL _ay_effect_06
944   0000              	GLOBAL _ay_effect_05
945   0000              	GLOBAL _ay_effect_04
946   0000              	GLOBAL _ay_effect_03
947   0000              	GLOBAL _ay_effect_02
948   0000              	GLOBAL _ay_effect_01
949   0000              	GLOBAL _pb_midi_phase_1
950   0000              	GLOBAL _pb_midi_title
951   0000              	GLOBAL _control_method
952   0000              	GLOBAL _world0_h
953   0000              	GLOBAL _world0_w
954   0000              	GLOBAL _world0
955   0000              	GLOBAL _paper0
956   0000              	GLOBAL _lenght0
957   0000              	GLOBAL _start_scr0
958   0000              ;--------------------------------------------------------
959   0000              ; special function registers
960   0000              ;--------------------------------------------------------
961   0000              defc _IO_FE	=	0x00fe
962   0000              defc _IO_1FFD	=	0x1ffd
963   0000              defc _IO_7FFD	=	0x7ffd
964   0000              ;--------------------------------------------------------
965   0000              ; ram data
966   0000              ;--------------------------------------------------------
967   0000              	SECTION bss_compiler
968   0000              ;--------------------------------------------------------
969   0000              ; ram data
970   0000              ;--------------------------------------------------------
971   0000              
972   0000              IF 0
973   0000              
974   0000              ; .area _INITIALIZED removed by z88dk
975   0000              
976   0000              
977   0000              ENDIF
978   0000              
979   0000              ;--------------------------------------------------------
980   0000              ; absolute external ram data
981   0000              ;--------------------------------------------------------
982   0000              	SECTION IGNORE
983   0000              ;--------------------------------------------------------
984   0000              ; global & static initialisations
985   0000              ;--------------------------------------------------------
986   0000              	SECTION code_crt_init
987   0000              ;--------------------------------------------------------
988   0000              ; Home
989   0000              ;--------------------------------------------------------
990   0000              	SECTION IGNORE
991   0000              ;--------------------------------------------------------
992   0000              ; code
993   0000              ;--------------------------------------------------------
994   0000              	SECTION code_compiler
995   0000              ;	---------------------------------
996   0000              ; Function game_loop
997   0000              ; ---------------------------------
998   0000              _game_loop:
999   0000  CD 3D 07    	call	_game_round_init
1000  0003              l_game_loop_00119:
1001  0003  3A 00 00    	ld	a,(_game_over)
1002  0006  B7          	or	a, a
1003  0007  C2 CA 00    	jp	NZ, l_game_loop_00122
1004  000A              l_game_loop_00114:
1005  000A  3A 00 00    	ld	a,(_game_worldup)
1006  000D  B7          	or	a, a
1007  000E  C2 9D 00    	jp	NZ, l_game_loop_00116
1008  0011  3A 00 00    	ld	a,(_game_over)
1009  0014  B7          	or	a, a
1010  0015  C2 9D 00    	jp	NZ, l_game_loop_00116
1011  0018  CD 00 00    	call	_enemy_turn
1012  001B  CD 00 00    	call	_player_turn
1013  001E  3A 00 00    	ld	a,(_game_boss)
1014  0021  B7          	or	a, a
1015  0022  28 03       	jr	Z,l_game_loop_00102
1016  0024  CD 00 00    	call	_boss_turn
1017  0027              l_game_loop_00102:
1018  0027  3E 02       	ld	a,0x02
1019  0029  F5          	push	af
1020  002A  33          	inc	sp
1021  002B  21 00 00    	ld	hl,_bullet_time
1022  002E  E5          	push	hl
1023  002F  CD 93 0B    	call	_game_check_time
1024  0032  F1          	pop	af
1025  0033  33          	inc	sp
1026  0034  7D          	ld	a, l
1027  0035  B7          	or	a, a
1028  0036  28 0F       	jr	Z,l_game_loop_00106
1029  0038  2A 00 00    	ld	hl,(_curr_time)
1030  003B  22 00 00    	ld	(_bullet_time),hl
1031  003E  3A 00 00    	ld	a,(_bullet_count)
1032  0041  B7          	or	a,a
1033  0042  28 03       	jr	Z,l_game_loop_00106
1034  0044  CD 00 00    	call	_spr_bullets_play
1035  0047              l_game_loop_00106:
1036  0047  3E 08       	ld	a,0x08
1037  0049  F5          	push	af
1038  004A  33          	inc	sp
1039  004B  21 00 00    	ld	hl,_anim_time
1040  004E  E5          	push	hl
1041  004F  CD 93 0B    	call	_game_check_time
1042  0052  F1          	pop	af
1043  0053  33          	inc	sp
1044  0054  7D          	ld	a, l
1045  0055  B7          	or	a, a
1046  0056  28 14       	jr	Z,l_game_loop_00110
1047  0058  2E 00       	ld	l,0x00
1048  005A  CD 00 00    	call	_zx_border_fastcall
1049  005D  2A 00 00    	ld	hl,(_curr_time)
1050  0060  22 00 00    	ld	(_anim_time),hl
1051  0063  3A 00 00    	ld	a,(_anim_count)
1052  0066  B7          	or	a,a
1053  0067  28 03       	jr	Z,l_game_loop_00110
1054  0069  CD 00 00    	call	_spr_play_anim
1055  006C              l_game_loop_00110:
1056  006C  3E 64       	ld	a,0x64
1057  006E  F5          	push	af
1058  006F  33          	inc	sp
1059  0070  21 00 00    	ld	hl,_frame_time
1060  0073  E5          	push	hl
1061  0074  CD 93 0B    	call	_game_check_time
1062  0077  F1          	pop	af
1063  0078  33          	inc	sp
1064  0079  7D          	ld	a, l
1065  007A  B7          	or	a, a
1066  007B  28 0C       	jr	Z,l_game_loop_00112
1067  007D  2A 00 00    	ld	hl,(_curr_time)
1068  0080  22 00 00    	ld	(_frame_time),hl
1069  0083  CD CB 00    	call	_game_fps
1070  0086  CD E2 00    	call	_game_respawn
1071  0089              l_game_loop_00112:
1072  0089  21 00 00    	ld	hl,_loop_count
1073  008C  34          	inc	(hl)
1074  008D  20 02       	jr	NZ,l_game_loop_00168
1075  008F  23          	inc	hl
1076  0090  34          	inc	(hl)
1077  0091              l_game_loop_00168:
1078  0091  21 00 00    	ld	hl,_fps
1079  0094  34          	inc	(hl)
1080  0095  C2 0A 00    	jp	NZ,l_game_loop_00114
1081  0098  23          	inc	hl
1082  0099  34          	inc	(hl)
1083  009A  C3 0A 00    	jp	l_game_loop_00114
1084  009D              l_game_loop_00116:
1085  009D  21 00 00    	ld	hl,_game_worldup
1086  00A0  7E          	ld	a, (hl)
1087  00A1  B7          	or	a, a
1088  00A2  CA 03 00    	jp	Z, l_game_loop_00119
1089  00A5  36 00       	ld	(hl),0x00
1090  00A7  21 00 00    	ld	hl,_game_respawn_curr_time
1091  00AA  7E          	ld	a, (hl)
1092  00AB  C6 E0       	add	a,0xe0
1093  00AD  77          	ld	(hl), a
1094  00AE  21 00 00    	ld	hl,_game_world
1095  00B1  34          	inc	(hl)
1096  00B2  21 00 00    	ld	hl,_game_boss_alive
1097  00B5  36 01       	ld	(hl),0x01
1098  00B7  21 00 00    	ld	hl,_game_boss
1099  00BA  36 00       	ld	(hl),0x00
1100  00BC  21 00 00    	ld	hl,_scr_curr
1101  00BF  36 FF       	ld	(hl),0xff
1102  00C1  CD DC 0F    	call	_game_obj_clear
1103  00C4  CD 3D 07    	call	_game_round_init
1104  00C7  C3 03 00    	jp	l_game_loop_00119
1105  00CA              l_game_loop_00122:
1106  00CA  C9          	ret
1107  00CB              	SECTION code_compiler
1108  00CB              ;	---------------------------------
1109  00CB              ; Function game_fps
1110  00CB              ; ---------------------------------
1111  00CB              _game_fps:
1112  00CB  21 00 00    	ld	hl,_screen_ink
1113  00CE  36 07       	ld	(hl),0x07
1114  00D0  2A 00 00    	ld	hl,(_fps)
1115  00D3  E5          	push	hl
1116  00D4  21 17 18    	ld	hl,0x1817
1117  00D7  E5          	push	hl
1118  00D8  CD 00 00    	call	_zx_print_int
1119  00DB  21 00 00    	ld	hl,0x0000
1120  00DE  22 00 00    	ld	(_fps),hl
1121  00E1  C9          	ret
1122  00E2              	SECTION code_compiler
1123  00E2              ;	---------------------------------
1124  00E2              ; Function game_respawn
1125  00E2              ; ---------------------------------
1126  00E2              _game_respawn:
1127  00E2  21 00 00    	ld	hl,_sprite
1128  00E5  36 00       	ld	(hl),0x00
1129  00E7              l_game_respawn_00105:
1130  00E7  21 00 00    	ld	hl,_sprite
1131  00EA  7E          	ld	a, (hl)
1132  00EB  D6 07       	sub	a,0x07
1133  00ED  D2 79 01    	jp	NC, l_game_respawn_00108
1134  00F0  01 00 00    	ld	bc,_game_respawn_time+0
1135  00F3  6E          	ld	l,(hl)
1136  00F4  26 00       	ld	h,0x00
1137  00F6  29          	add	hl, hl
1138  00F7  09          	add	hl, bc
1139  00F8  5E          	ld	e,(hl)
1140  00F9  23          	inc	hl
1141  00FA  56          	ld	d,(hl)
1142  00FB  2B          	dec	hl
1143  00FC  7A          	ld	a, d
1144  00FD  B3          	or	a,e
1145  00FE  28 72       	jr	Z,l_game_respawn_00104
1146  0100  3A 00 00    	ld	a,(_game_respawn_curr_time)
1147  0103  EB          	ex	de,hl
1148  0104  C5          	push	bc
1149  0105  F5          	push	af
1150  0106  33          	inc	sp
1151  0107  D5          	push	de
1152  0108  CD 93 0B    	call	_game_check_time
1153  010B  F1          	pop	af
1154  010C  33          	inc	sp
1155  010D  C1          	pop	bc
1156  010E  7D          	ld	a,l
1157  010F  B7          	or	a, a
1158  0110  28 60       	jr	Z,l_game_respawn_00104
1159  0112  2A 00 00    	ld	hl,(_sprite)
1160  0115  26 00       	ld	h,0x00
1161  0117  11 00 00    	ld	de,_game_respawn_index
1162  011A  19          	add	hl,de
1163  011B  7E          	ld	a,(hl)
1164  011C  6F          	ld	l,a
1165  011D  26 00       	ld	h,0x00
1166  011F  22 00 00    	ld	(_index1),hl
1167  0122  5F          	ld	e,a
1168  0123  E6 0F       	and	a,0x0f
1169  0125  87          	add	a, a
1170  0126  32 00 00    	ld	(_s_col1),a
1171  0129  21 00 00    	ld	hl,_s_lin1
1172  012C  73          	ld	(hl),e
1173  012D  7B          	ld	a,e
1174  012E  07          	rlca
1175  012F  07          	rlca
1176  0130  07          	rlca
1177  0131  07          	rlca
1178  0132  E6 0F       	and	a,0x0f
1179  0134  07          	rlca
1180  0135  07          	rlca
1181  0136  07          	rlca
1182  0137  07          	rlca
1183  0138  E6 F0       	and	a,0xf0
1184  013A  77          	ld	(hl), a
1185  013B  11 00 00    	ld	de,_scr_map
1186  013E  2A 00 00    	ld	hl,(_index1)
1187  0141  19          	add	hl,de
1188  0142  36 FF       	ld	(hl),0xff
1189  0144  2A 00 00    	ld	hl,(_sprite)
1190  0147  26 00       	ld	h,0x00
1191  0149  29          	add	hl, hl
1192  014A  09          	add	hl, bc
1193  014B  AF          	xor	a, a
1194  014C  77          	ld	(hl), a
1195  014D  23          	inc	hl
1196  014E  77          	ld	(hl), a
1197  014F  2A 00 00    	ld	hl,(_sprite)
1198  0152  26 00       	ld	h,0x00
1199  0154  01 00 00    	ld	bc,_game_respawn_tile
1200  0157  09          	add	hl,bc
1201  0158  7E          	ld	a,(hl)
1202  0159  F5          	push	af
1203  015A  33          	inc	sp
1204  015B  21 03 04    	ld	hl,0x0403
1205  015E  E5          	push	hl
1206  015F  2A 00 00    	ld	hl,(_s_col1)
1207  0162  26 8A       	ld	h,0x8a
1208  0164  3A 00 00    	ld	a,(_s_lin1)
1209  0167  E5          	push	hl
1210  0168  F5          	push	af
1211  0169  33          	inc	sp
1212  016A  CD 00 00    	call	_spr_add_anim
1213  016D  F1          	pop	af
1214  016E  F1          	pop	af
1215  016F  F1          	pop	af
1216  0170  18 07       	jr	l_game_respawn_00108
1217  0172              l_game_respawn_00104:
1218  0172  21 00 00    	ld	hl,_sprite
1219  0175  34          	inc	(hl)
1220  0176  C3 E7 00    	jp	l_game_respawn_00105
1221  0179              l_game_respawn_00108:
1222  0179  C9          	ret
1223  017A              	SECTION code_compiler
1224  017A              ;	---------------------------------
1225  017A              ; Function game_draw_screen
1226  017A              ; ---------------------------------
1227  017A              _game_draw_screen:
1228  017A  CD 00 00    	call	___sdcc_enter_ix
1229  017D  F5          	push	af
1230  017E  76          	halt
1231  017F  21 00 00    	ld	hl,_game_boss
1232  0182  36 00       	ld	(hl),0x00
1233  0184  21 00 00    	ld	hl,_game_boss_fix
1234  0187  36 00       	ld	(hl),0x00
1235  0189  2A 00 00    	ld	hl,(_curr_time)
1236  018C  22 00 00    	ld	(_player_brick_time),hl
1237  018F  21 00 00    	ld	hl,_spr_count
1238  0192  36 00       	ld	(hl),0x00
1239  0194  CD 00 00    	call	_spr_init_effects
1240  0197  01 00 00    	ld	bc,_game_respawn_time+0
1241  019A              l_game_draw_screen_00101:
1242  019A  21 00 00    	ld	hl,_spr_count
1243  019D  7E          	ld	a, (hl)
1244  019E  D6 07       	sub	a,0x07
1245  01A0  30 46       	jr	NC,l_game_draw_screen_00103
1246  01A2  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1247  01A4  86          	add	a, (hl)
1248  01A5  5F          	ld	e, a
1249  01A6  3E 00       	ld	a, +((_game_respawn_index) / 256)
1250  01A8  CE 00       	adc	a,0x00
1251  01AA  57          	ld	d, a
1252  01AB  AF          	xor	a, a
1253  01AC  12          	ld	(de), a
1254  01AD  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1255  01AF  86          	add	a, (hl)
1256  01B0  5F          	ld	e, a
1257  01B1  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1258  01B3  CE 00       	adc	a,0x00
1259  01B5  57          	ld	d, a
1260  01B6  AF          	xor	a, a
1261  01B7  12          	ld	(de), a
1262  01B8  6E          	ld	l,(hl)
1263  01B9  26 00       	ld	h,0x00
1264  01BB  29          	add	hl, hl
1265  01BC  09          	add	hl, bc
1266  01BD  AF          	xor	a, a
1267  01BE  77          	ld	(hl), a
1268  01BF  23          	inc	hl
1269  01C0  77          	ld	(hl), a
1270  01C1  2A 00 00    	ld	hl,(_spr_count)
1271  01C4  26 00       	ld	h,0x00
1272  01C6  11 00 00    	ld	de,_mush_index
1273  01C9  19          	add	hl,de
1274  01CA  AF          	xor	a,a
1275  01CB  77          	ld	(hl),a
1276  01CC  2A 00 00    	ld	hl,(_spr_count)
1277  01CF  26 00       	ld	h,0x00
1278  01D1  11 00 00    	ld	de,_mush_class
1279  01D4  19          	add	hl,de
1280  01D5  AF          	xor	a,a
1281  01D6  77          	ld	(hl),a
1282  01D7  2A 00 00    	ld	hl,(_spr_count)
1283  01DA  26 00       	ld	h,0x00
1284  01DC  11 00 00    	ld	de,_class
1285  01DF  19          	add	hl,de
1286  01E0  AF          	xor	a,a
1287  01E1  77          	ld	(hl),a
1288  01E2  21 00 00    	ld	hl,_spr_count
1289  01E5  34          	inc	(hl)
1290  01E6  18 B2       	jr	l_game_draw_screen_00101
1291  01E8              l_game_draw_screen_00103:
1292  01E8  21 10 00    	ld	hl,0x0010
1293  01EB  22 00 00    	ld	(_index1),hl
1294  01EE  21 00 00    	ld	hl,_s_lin1
1295  01F1  36 00       	ld	(hl),0x00
1296  01F3  21 00 00    	ld	hl,_s_col1
1297  01F6  36 02       	ld	(hl),0x02
1298  01F8  21 00 00    	ld	hl,_spr_count
1299  01FB  36 00       	ld	(hl),0x00
1300  01FD  F3          	di
1301  01FE  DD 36 FF 00 	ld	(ix-1),0x00
1302  0202              l_game_draw_screen_00125:
1303  0202  21 00 00    	ld	hl,_index1
1304  0205  7E          	ld	a, (hl)
1305  0206  D6 A0       	sub	a,0xa0
1306  0208  23          	inc	hl
1307  0209  7E          	ld	a, (hl)
1308  020A  DE 00       	sbc	a,0x00
1309  020C  D2 20 03    	jp	NC, l_game_draw_screen_00127
1310  020F  2B          	dec	hl
1311  0210  7E          	ld	a, (hl)
1312  0211  E6 0F       	and	a,0x0f
1313  0213  20 0C       	jr	NZ,l_game_draw_screen_00105
1314  0215  21 00 00    	ld	hl,_s_lin1
1315  0218  7E          	ld	a, (hl)
1316  0219  C6 10       	add	a,0x10
1317  021B  77          	ld	(hl), a
1318  021C  21 00 00    	ld	hl,_s_col1
1319  021F  36 00       	ld	(hl),0x00
1320  0221              l_game_draw_screen_00105:
1321  0221  01 00 00    	ld	bc,_scr_map
1322  0224  2A 00 00    	ld	hl,(_index1)
1323  0227  09          	add	hl,bc
1324  0228  7E          	ld	a,(hl)
1325  0229  DD 77 FE    	ld	(ix-2),a
1326  022C  D6 60       	sub	a,0x60
1327  022E  30 57       	jr	NC,l_game_draw_screen_00123
1328  0230  DD 7E FE    	ld	a,(ix-2)
1329  0233  D6 5D       	sub	a,0x5d
1330  0235  20 04       	jr	NZ,l_game_draw_screen_00191
1331  0237  3E 01       	ld	a,0x01
1332  0239  18 01       	jr	l_game_draw_screen_00192
1333  023B              l_game_draw_screen_00191:
1334  023B  AF          	xor	a,a
1335  023C              l_game_draw_screen_00192:
1336  023C  4F          	ld	c,a
1337  023D  B7          	or	a, a
1338  023E  20 07       	jr	NZ,l_game_draw_screen_00111
1339  0240  DD 7E FE    	ld	a,(ix-2)
1340  0243  D6 5C       	sub	a,0x5c
1341  0245  20 2E       	jr	NZ,l_game_draw_screen_00112
1342  0247              l_game_draw_screen_00111:
1343  0247  21 00 00    	ld	hl,_index1
1344  024A  7E          	ld	a, (hl)
1345  024B  C6 F0       	add	a,0xf0
1346  024D  47          	ld	b, a
1347  024E  23          	inc	hl
1348  024F  7E          	ld	a, (hl)
1349  0250  CE FF       	adc	a,0xff
1350  0252  5F          	ld	e, a
1351  0253  C5          	push	bc
1352  0254  68          	ld	l, b
1353  0255  63          	ld	h, e
1354  0256  CD A3 0F    	call	_game_obj_chk
1355  0259  C1          	pop	bc
1356  025A  7D          	ld	a,l
1357  025B  B7          	or	a, a
1358  025C  28 0F       	jr	Z,l_game_draw_screen_00109
1359  025E  01 00 00    	ld	bc,_scr_map
1360  0261  2A 00 00    	ld	hl,(_index1)
1361  0264  09          	add	hl,bc
1362  0265  36 4F       	ld	(hl),0x4f
1363  0267  DD 36 FE 4F 	ld	(ix-2),0x4f
1364  026B  18 08       	jr	l_game_draw_screen_00112
1365  026D              l_game_draw_screen_00109:
1366  026D  79          	ld	a, c
1367  026E  B7          	or	a, a
1368  026F  28 04       	jr	Z,l_game_draw_screen_00112
1369  0271  DD 36 FE 00 	ld	(ix-2),0x00
1370  0275              l_game_draw_screen_00112:
1371  0275  3A 00 00    	ld	a,(_s_col1)
1372  0278  F5          	push	af
1373  0279  33          	inc	sp
1374  027A  2A FF FF    	ld	hl,(_s_lin1-1)
1375  027D  DD 6E FE    	ld	l,(ix-2)
1376  0280  E5          	push	hl
1377  0281  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1378  0284  C3 0F 03    	jp	l_game_draw_screen_00124
1379  0287              l_game_draw_screen_00123:
1380  0287  3E 78       	ld	a,0x78
1381  0289  DD 96 FE    	sub	a,(ix-2)
1382  028C  38 2D       	jr	C,l_game_draw_screen_00120
1383  028E  3A 00 00    	ld	a,(_spr_count)
1384  0291  D6 08       	sub	a,0x08
1385  0293  30 53       	jr	NC,l_game_draw_screen_00121
1386  0295  3A 00 00    	ld	a,(_game_boss_alive)
1387  0298  B7          	or	a, a
1388  0299  28 4D       	jr	Z,l_game_draw_screen_00121
1389  029B  2A 00 00    	ld	hl,(_spr_count)
1390  029E  26 00       	ld	h,0x00
1391  02A0  01 00 00    	ld	bc,_game_respawn_index
1392  02A3  09          	add	hl,bc
1393  02A4  3A 00 00    	ld	a,(_index1)
1394  02A7  77          	ld	(hl),a
1395  02A8  2A 00 00    	ld	hl,(_spr_count)
1396  02AB  26 00       	ld	h,0x00
1397  02AD  01 00 00    	ld	bc,_game_respawn_tile
1398  02B0  09          	add	hl,bc
1399  02B1  DD 7E FE    	ld	a,(ix-2)
1400  02B4  77          	ld	(hl),a
1401  02B5  6F          	ld	l,a
1402  02B6  CD F5 03    	call	_game_add_enemy
1403  02B9  18 2D       	jr	l_game_draw_screen_00121
1404  02BB              l_game_draw_screen_00120:
1405  02BB  2A 00 00    	ld	hl,(_index1)
1406  02BE  CD A3 0F    	call	_game_obj_chk
1407  02C1  7D          	ld	a, l
1408  02C2  B7          	or	a, a
1409  02C3  20 23       	jr	NZ,l_game_draw_screen_00121
1410  02C5  3E 00       	ld	a, +((_mush_index) & 0xFF)
1411  02C7  DD 86 FF    	add	a,(ix-1)
1412  02CA  4F          	ld	c, a
1413  02CB  3E 00       	ld	a, +((_mush_index) / 256)
1414  02CD  CE 00       	adc	a,0x00
1415  02CF  47          	ld	b, a
1416  02D0  3A 00 00    	ld	a,(_index1)
1417  02D3  C6 10       	add	a,0x10
1418  02D5  02          	ld	(bc), a
1419  02D6  3E 00       	ld	a, +((_mush_class) & 0xFF)
1420  02D8  DD 86 FF    	add	a,(ix-1)
1421  02DB  4F          	ld	c, a
1422  02DC  3E 00       	ld	a, +((_mush_class) / 256)
1423  02DE  CE 00       	adc	a,0x00
1424  02E0  47          	ld	b, a
1425  02E1  DD 7E FE    	ld	a,(ix-2)
1426  02E4  02          	ld	(bc), a
1427  02E5  DD 34 FF    	inc	(ix-1)
1428  02E8              l_game_draw_screen_00121:
1429  02E8  2A 00 00    	ld	hl,(_index1)
1430  02EB  01 00 00    	ld	bc,_scr_map
1431  02EE  09          	add	hl,bc
1432  02EF  E5          	push	hl
1433  02F0  2A 00 00    	ld	hl,(_index1)
1434  02F3  CD 07 11    	call	_game_match_back
1435  02F6  C1          	pop	bc
1436  02F7  7D          	ld	a,l
1437  02F8  02          	ld	(bc), a
1438  02F9  01 00 00    	ld	bc,_scr_map
1439  02FC  2A 00 00    	ld	hl,(_index1)
1440  02FF  09          	add	hl,bc
1441  0300  46          	ld	b, (hl)
1442  0301  3A 00 00    	ld	a,(_s_col1)
1443  0304  F5          	push	af
1444  0305  33          	inc	sp
1445  0306  3A 00 00    	ld	a,(_s_lin1)
1446  0309  48          	ld	c,b
1447  030A  47          	ld	b,a
1448  030B  C5          	push	bc
1449  030C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1450  030F              l_game_draw_screen_00124:
1451  030F  21 00 00    	ld	hl,_s_col1
1452  0312  34          	inc	(hl)
1453  0313  34          	inc	(hl)
1454  0314  21 00 00    	ld	hl,_index1
1455  0317  34          	inc	(hl)
1456  0318  C2 02 02    	jp	NZ,l_game_draw_screen_00125
1457  031B  23          	inc	hl
1458  031C  34          	inc	(hl)
1459  031D  C3 02 02    	jp	l_game_draw_screen_00125
1460  0320              l_game_draw_screen_00127:
1461  0320  FB          	ei
1462  0321  3A 00 00    	ld	a,(_game_boss_fix)
1463  0324  B7          	or	a, a
1464  0325  28 03       	jr	Z,l_game_draw_screen_00130
1465  0327  CD 26 10    	call	_game_boss_clear
1466  032A              l_game_draw_screen_00130:
1467  032A  F1          	pop	af
1468  032B  DD E1       	pop	ix
1469  032D  C9          	ret
1470  032E              	SECTION code_compiler
1471  032E              ;	---------------------------------
1472  032E              ; Function game_boss_kill
1473  032E              ; ---------------------------------
1474  032E              _game_boss_kill:
1475  032E  21 00 00    	ld	hl,_game_boss
1476  0331  36 00       	ld	(hl),0x00
1477  0333  21 00 00    	ld	hl,_game_boss_alive
1478  0336  36 00       	ld	(hl),0x00
1479  0338  3A 00 00    	ld	a,(_boss_col)
1480  033B  21 00 00    	ld	hl,0x0000
1481  033E  E5          	push	hl
1482  033F  21 87 03    	ld	hl,0x0387
1483  0342  E5          	push	hl
1484  0343  F5          	push	af
1485  0344  33          	inc	sp
1486  0345  3A 00 00    	ld	a,(_boss_lin)
1487  0348  F5          	push	af
1488  0349  33          	inc	sp
1489  034A  CD 00 00    	call	_spr_add_anim
1490  034D  F1          	pop	af
1491  034E  F1          	pop	af
1492  034F  F1          	pop	af
1493  0350  21 00 00    	ld	hl,_boss_col
1494  0353  46          	ld	b, (hl)
1495  0354  04          	inc	b
1496  0355  04          	inc	b
1497  0356  21 00 00    	ld	hl,0x0000
1498  0359  E5          	push	hl
1499  035A  21 87 03    	ld	hl,0x0387
1500  035D  E5          	push	hl
1501  035E  C5          	push	bc
1502  035F  33          	inc	sp
1503  0360  3A 00 00    	ld	a,(_boss_lin)
1504  0363  F5          	push	af
1505  0364  33          	inc	sp
1506  0365  CD 00 00    	call	_spr_add_anim
1507  0368  F1          	pop	af
1508  0369  F1          	pop	af
1509  036A  F1          	pop	af
1510  036B  3A 00 00    	ld	a,(_boss_lin)
1511  036E  C6 10       	add	a,0x10
1512  0370  47          	ld	b, a
1513  0371  3A 00 00    	ld	a,(_boss_col)
1514  0374  21 00 00    	ld	hl,0x0000
1515  0377  E5          	push	hl
1516  0378  21 87 03    	ld	hl,0x0387
1517  037B  E5          	push	hl
1518  037C  48          	ld	c,b
1519  037D  47          	ld	b,a
1520  037E  C5          	push	bc
1521  037F  CD 00 00    	call	_spr_add_anim
1522  0382  F1          	pop	af
1523  0383  F1          	pop	af
1524  0384  F1          	pop	af
1525  0385  21 00 00    	ld	hl,_boss_col
1526  0388  56          	ld	d, (hl)
1527  0389  14          	inc	d
1528  038A  14          	inc	d
1529  038B  3A 00 00    	ld	a,(_boss_lin)
1530  038E  C6 10       	add	a,0x10
1531  0390  47          	ld	b, a
1532  0391  21 00 00    	ld	hl,0x0000
1533  0394  E5          	push	hl
1534  0395  21 87 03    	ld	hl,0x0387
1535  0398  E5          	push	hl
1536  0399  58          	ld	e,b
1537  039A  D5          	push	de
1538  039B  CD 00 00    	call	_spr_add_anim
1539  039E  F1          	pop	af
1540  039F  F1          	pop	af
1541  03A0  F1          	pop	af
1542  03A1  21 00 00    	ld	hl,_tmp0
1543  03A4  36 00       	ld	(hl),0x00
1544  03A6              l_game_boss_kill_00104:
1545  03A6  2A 00 00    	ld	hl,(_tmp0)
1546  03A9  26 00       	ld	h,0x00
1547  03AB  01 00 00    	ld	bc,_bullet_col
1548  03AE  09          	add	hl,bc
1549  03AF  7E          	ld	a,(hl)
1550  03B0  4F          	ld	c,a
1551  03B1  3C          	inc	a
1552  03B2  28 15       	jr	Z,l_game_boss_kill_00102
1553  03B4  3A 00 00    	ld	a,(_tmp0)
1554  03B7  5F          	ld	e,a
1555  03B8  16 00       	ld	d,0x00
1556  03BA  21 00 00    	ld	hl,_bullet_lin
1557  03BD  19          	add	hl,de
1558  03BE  7E          	ld	a,(hl)
1559  03BF  32 00 00    	ld	(_s_lin0),a
1560  03C2  21 00 00    	ld	hl,_s_col0
1561  03C5  71          	ld	(hl), c
1562  03C6  CD 00 00    	call	_spr_back_repaint
1563  03C9              l_game_boss_kill_00102:
1564  03C9  2A 00 00    	ld	hl,(_tmp0)
1565  03CC  26 00       	ld	h,0x00
1566  03CE  01 00 00    	ld	bc,_bullet_col
1567  03D1  09          	add	hl,bc
1568  03D2  36 FF       	ld	(hl),0xff
1569  03D4  2A 00 00    	ld	hl,(_tmp0)
1570  03D7  CD 00 00    	call	_spr_destroy
1571  03DA  2A 00 00    	ld	hl,(_tmp0)
1572  03DD  26 00       	ld	h,0x00
1573  03DF  29          	add	hl, hl
1574  03E0  11 00 00    	ld	de,_game_respawn_time
1575  03E3  19          	add	hl, de
1576  03E4  AF          	xor	a, a
1577  03E5  77          	ld	(hl), a
1578  03E6  23          	inc	hl
1579  03E7  77          	ld	(hl), a
1580  03E8  21 00 00    	ld	hl,_tmp0
1581  03EB  7E          	ld	a,(hl)
1582  03EC  3C          	inc	a
1583  03ED  77          	ld	(hl),a
1584  03EE  D6 07       	sub	a,0x07
1585  03F0  38 B4       	jr	C,l_game_boss_kill_00104
1586  03F2  C3 26 10    	jp  _game_boss_clear
1587  03F5              	SECTION code_compiler
1588  03F5              ;	---------------------------------
1589  03F5              ; Function game_add_enemy
1590  03F5              ; ---------------------------------
1591  03F5              _game_add_enemy:
1592  03F5  7D          	ld	a,l
1593  03F6  D6 78       	sub	a,0x78
1594  03F8  28 57       	jr	Z,l_game_add_enemy_00119
1595  03FA  4D          	ld	c,l
1596  03FB  21 00 00    	ld	hl,_tmp0
1597  03FE  36 00       	ld	(hl),0x00
1598  0400              l_game_add_enemy_00104:
1599  0400  3E 17       	ld	a,0x17
1600  0402  21 00 00    	ld	hl,_tmp0
1601  0405  96          	sub	a, (hl)
1602  0406  DA BA 04    	jp	C, l_game_add_enemy_00121
1603  0409  7E          	ld	a, (hl)
1604  040A  5F          	ld	e, a
1605  040B  87          	add	a, a
1606  040C  83          	add	a, e
1607  040D  21 00 00    	ld	hl,_tmp1
1608  0410  77          	ld	(hl), a
1609  0411  C6 00       	add	a,+((_spr_init) & 0xFF)
1610  0413  5F          	ld	e, a
1611  0414  3E 00       	ld	a, +((_spr_init) / 256)
1612  0416  CE 00       	adc	a,0x00
1613  0418  57          	ld	d, a
1614  0419  1A          	ld	a, (de)
1615  041A  91          	sub	a, c
1616  041B  20 2E       	jr	NZ,l_game_add_enemy_00102
1617  041D  6E          	ld	l,(hl)
1618  041E  26 00       	ld	h,0x00
1619  0420  5D          	ld	e,l
1620  0421  54          	ld	d,h
1621  0422  23          	inc	hl
1622  0423  23          	inc	hl
1623  0424  3E 00       	ld	a, +((_spr_init) & 0xFF)
1624  0426  85          	add	a, l
1625  0427  6F          	ld	l, a
1626  0428  3E 00       	ld	a, +((_spr_init) / 256)
1627  042A  8C          	adc	a, h
1628  042B  67          	ld	h, a
1629  042C  46          	ld	b, (hl)
1630  042D  13          	inc	de
1631  042E  21 00 00    	ld	hl,_spr_init
1632  0431  19          	add	hl, de
1633  0432  7E          	ld	a, (hl)
1634  0433  C5          	push	bc
1635  0434  4F          	ld	c,a
1636  0435  C5          	push	bc
1637  0436  2A FF FF    	ld	hl,(_s_col1 - 1)
1638  0439  3A 00 00    	ld	a,(_s_lin1)
1639  043C  6F          	ld	l,a
1640  043D  E5          	push	hl
1641  043E  CD 00 00    	call	_enemy_init
1642  0441  F1          	pop	af
1643  0442  F1          	pop	af
1644  0443  C1          	pop	bc
1645  0444  21 00 00    	ld	hl,_tmp0
1646  0447  36 FF       	ld	(hl),0xff
1647  0449  18 B5       	jr	l_game_add_enemy_00104
1648  044B              l_game_add_enemy_00102:
1649  044B  21 00 00    	ld	hl,_tmp0
1650  044E  34          	inc	(hl)
1651  044F  18 AF       	jr	l_game_add_enemy_00104
1652  0451              l_game_add_enemy_00119:
1653  0451  3A 00 00    	ld	a,(_game_boss)
1654  0454  B7          	or	a, a
1655  0455  20 59       	jr	NZ,l_game_add_enemy_00115
1656  0457  3A 00 00    	ld	a,(_game_boss_alive)
1657  045A  B7          	or	a, a
1658  045B  28 53       	jr	Z,l_game_add_enemy_00115
1659  045D  3A 00 00    	ld	a,(_s_lin1)
1660  0460  32 00 00    	ld	(_boss_lin),a
1661  0463  3A 00 00    	ld	a,(_s_col1)
1662  0466  32 00 00    	ld	(_boss_col),a
1663  0469  3A 00 00    	ld	a,(_game_world)
1664  046C  B7          	or	a, a
1665  046D  28 10       	jr	Z,l_game_add_enemy_00107
1666  046F  3D          	dec	a
1667  0470  28 14       	jr	Z,l_game_add_enemy_00108
1668  0472  3A 00 00    	ld	a,(_game_world)
1669  0475  FE 02       	cp	a,0x02
1670  0477  28 14       	jr	Z,l_game_add_enemy_00109
1671  0479  D6 03       	sub	a,0x03
1672  047B  28 17       	jr	Z,l_game_add_enemy_00110
1673  047D  18 1A       	jr	l_game_add_enemy_00111
1674  047F              l_game_add_enemy_00107:
1675  047F  21 00 00    	ld	hl,_boss_tile
1676  0482  36 C8       	ld	(hl),0xc8
1677  0484  18 13       	jr	l_game_add_enemy_00111
1678  0486              l_game_add_enemy_00108:
1679  0486  21 00 00    	ld	hl,_boss_tile
1680  0489  36 D8       	ld	(hl),0xd8
1681  048B  18 0C       	jr	l_game_add_enemy_00111
1682  048D              l_game_add_enemy_00109:
1683  048D  21 00 00    	ld	hl,_boss_tile
1684  0490  36 DC       	ld	(hl),0xdc
1685  0492  18 05       	jr	l_game_add_enemy_00111
1686  0494              l_game_add_enemy_00110:
1687  0494  21 00 00    	ld	hl,_boss_tile
1688  0497  36 E0       	ld	(hl),0xe0
1689  0499              l_game_add_enemy_00111:
1690  0499  21 00 00    	ld	hl,_boss_stat
1691  049C  36 00       	ld	(hl),0x00
1692  049E  21 00 00    	ld	hl,_boss_stat
1693  04A1  CD 00 00    	call	_spr_set_up
1694  04A4  21 00 00    	ld	hl,_game_boss
1695  04A7  36 01       	ld	(hl),0x01
1696  04A9  21 00 00    	ld	hl,_game_boss_hit
1697  04AC  36 08       	ld	(hl),0x08
1698  04AE  18 0A       	jr	l_game_add_enemy_00121
1699  04B0              l_game_add_enemy_00115:
1700  04B0  3A 00 00    	ld	a,(_game_boss)
1701  04B3  B7          	or	a, a
1702  04B4  C0          	ret	NZ
1703  04B5  21 00 00    	ld	hl,_game_boss_fix
1704  04B8  36 01       	ld	(hl),0x01
1705  04BA              l_game_add_enemy_00121:
1706  04BA  C9          	ret
1707  04BB              	SECTION code_compiler
1708  04BB              ;	---------------------------------
1709  04BB              ; Function game_print_footer
1710  04BB              ; ---------------------------------
1711  04BB              _game_print_footer:
1712  04BB  21 00 00    	ld	hl,_screen_ink
1713  04BE  36 05       	ld	(hl),0x05
1714  04C0  21 13 62    	ld	hl,0x6213
1715  04C3  E5          	push	hl
1716  04C4  CD 00 00    	call	_game_fill_row
1717  04C7  21 00 00    	ld	hl,___str_0
1718  04CA  E5          	push	hl
1719  04CB  21 13 00    	ld	hl,0x0013
1720  04CE  E5          	push	hl
1721  04CF  CD 00 00    	call	_zx_print_str
1722  04D2  21 02 00    	ld	hl,___str_1
1723  04D5  E5          	push	hl
1724  04D6  21 13 1F    	ld	hl,0x1f13
1725  04D9  E5          	push	hl
1726  04DA  CD 00 00    	call	_zx_print_str
1727  04DD  21 04 00    	ld	hl,___str_2
1728  04E0  E5          	push	hl
1729  04E1  21 14 00    	ld	hl,0x0014
1730  04E4  E5          	push	hl
1731  04E5  CD 00 00    	call	_zx_print_str
1732  04E8  21 06 00    	ld	hl,___str_3
1733  04EB  E5          	push	hl
1734  04EC  21 14 1F    	ld	hl,0x1f14
1735  04EF  E5          	push	hl
1736  04F0  CD 00 00    	call	_zx_print_str
1737  04F3  21 04 00    	ld	hl,___str_2
1738  04F6  E5          	push	hl
1739  04F7  21 15 00    	ld	hl,0x0015
1740  04FA  E5          	push	hl
1741  04FB  CD 00 00    	call	_zx_print_str
1742  04FE  21 06 00    	ld	hl,___str_3
1743  0501  E5          	push	hl
1744  0502  21 15 1F    	ld	hl,0x1f15
1745  0505  E5          	push	hl
1746  0506  CD 00 00    	call	_zx_print_str
1747  0509  21 04 00    	ld	hl,___str_2
1748  050C  E5          	push	hl
1749  050D  21 16 00    	ld	hl,0x0016
1750  0510  E5          	push	hl
1751  0511  CD 00 00    	call	_zx_print_str
1752  0514  21 06 00    	ld	hl,___str_3
1753  0517  E5          	push	hl
1754  0518  21 16 1F    	ld	hl,0x1f16
1755  051B  E5          	push	hl
1756  051C  CD 00 00    	call	_zx_print_str
1757  051F  21 17 62    	ld	hl,0x6217
1758  0522  E5          	push	hl
1759  0523  CD 00 00    	call	_game_fill_row
1760  0526  21 08 00    	ld	hl,___str_4
1761  0529  E5          	push	hl
1762  052A  21 17 00    	ld	hl,0x0017
1763  052D  E5          	push	hl
1764  052E  CD 00 00    	call	_zx_print_str
1765  0531  21 0A 00    	ld	hl,___str_5
1766  0534  E5          	push	hl
1767  0535  21 17 1F    	ld	hl,0x1f17
1768  0538  E5          	push	hl
1769  0539  CD 00 00    	call	_zx_print_str
1770  053C  21 00 00    	ld	hl,_screen_ink
1771  053F  36 05       	ld	(hl),0x05
1772  0541  21 0C 00    	ld	hl,___str_6
1773  0544  E5          	push	hl
1774  0545  21 14 01    	ld	hl,0x0114
1775  0548  E5          	push	hl
1776  0549  CD 00 00    	call	_zx_print_str
1777  054C  21 00 00    	ld	hl,_screen_ink
1778  054F  36 06       	ld	(hl),0x06
1779  0551  21 0E 00    	ld	hl,___str_7
1780  0554  E5          	push	hl
1781  0555  21 15 01    	ld	hl,0x0115
1782  0558  E5          	push	hl
1783  0559  CD 00 00    	call	_zx_print_str
1784  055C  21 00 00    	ld	hl,_screen_ink
1785  055F  36 42       	ld	(hl),0x42
1786  0561  21 10 00    	ld	hl,___str_8
1787  0564  E5          	push	hl
1788  0565  21 14 08    	ld	hl,0x0814
1789  0568  E5          	push	hl
1790  0569  CD 00 00    	call	_zx_print_str
1791  056C  21 00 00    	ld	hl,_screen_ink
1792  056F  36 03       	ld	(hl),0x03
1793  0571  21 12 00    	ld	hl,___str_9
1794  0574  E5          	push	hl
1795  0575  21 15 08    	ld	hl,0x0815
1796  0578  E5          	push	hl
1797  0579  CD 00 00    	call	_zx_print_str
1798  057C  21 00 00    	ld	hl,_screen_ink
1799  057F  36 47       	ld	(hl),0x47
1800  0581  21 14 00    	ld	hl,___str_10
1801  0584  E5          	push	hl
1802  0585  21 14 0F    	ld	hl,0x0f14
1803  0588  E5          	push	hl
1804  0589  CD 00 00    	call	_zx_print_str
1805  058C  21 00 00    	ld	hl,_screen_ink
1806  058F  36 05       	ld	(hl),0x05
1807  0591  21 16 00    	ld	hl,___str_11
1808  0594  E5          	push	hl
1809  0595  21 15 0F    	ld	hl,0x0f15
1810  0598  E5          	push	hl
1811  0599  CD 00 00    	call	_zx_print_str
1812  059C  21 00 00    	ld	hl,_screen_ink
1813  059F  36 45       	ld	(hl),0x45
1814  05A1  21 18 00    	ld	hl,___str_12
1815  05A4  E5          	push	hl
1816  05A5  21 14 15    	ld	hl,0x1514
1817  05A8  E5          	push	hl
1818  05A9  CD 00 00    	call	_zx_print_str
1819  05AC  21 00 00    	ld	hl,_screen_ink
1820  05AF  36 07       	ld	(hl),0x07
1821  05B1  21 1A 00    	ld	hl,___str_13
1822  05B4  E5          	push	hl
1823  05B5  21 15 15    	ld	hl,0x1515
1824  05B8  E5          	push	hl
1825  05B9  CD 00 00    	call	_zx_print_str
1826  05BC  21 1C 00    	ld	hl,___str_14
1827  05BF  E5          	push	hl
1828  05C0  21 17 14    	ld	hl,0x1417
1829  05C3  E5          	push	hl
1830  05C4  CD 00 00    	call	_zx_print_str
1831  05C7  21 00 00    	ld	hl,_screen_ink
1832  05CA  36 06       	ld	(hl),0x06
1833  05CC  21 21 00    	ld	hl,___str_15
1834  05CF  E5          	push	hl
1835  05D0  21 16 07    	ld	hl,0x0716
1836  05D3  E5          	push	hl
1837  05D4  CD 00 00    	call	_zx_print_str
1838  05D7  21 23 00    	ld	hl,___str_16
1839  05DA  E5          	push	hl
1840  05DB  21 16 0D    	ld	hl,0x0d16
1841  05DE  E5          	push	hl
1842  05DF  CD 00 00    	call	_zx_print_str
1843  05E2  21 25 00    	ld	hl,___str_17
1844  05E5  E5          	push	hl
1845  05E6  21 16 13    	ld	hl,0x1316
1846  05E9  E5          	push	hl
1847  05EA  CD 00 00    	call	_zx_print_str
1848  05ED  21 27 00    	ld	hl,___str_18
1849  05F0  E5          	push	hl
1850  05F1  21 16 19    	ld	hl,0x1916
1851  05F4  E5          	push	hl
1852  05F5  CD 00 00    	call	_zx_print_str
1853  05F8  CD 1D 06    	call	_game_update_stats
1854  05FB  C9          	ret
1855  05FC              	SECTION rodata_compiler
1856  0000              ___str_0:
1857  0000  61          	DEFM "a"
1858  0001  00          	DEFB 0x00
1859  0002              	SECTION rodata_compiler
1860  0002              ___str_1:
1861  0002  63          	DEFM "c"
1862  0003  00          	DEFB 0x00
1863  0004              	SECTION rodata_compiler
1864  0004              ___str_2:
1865  0004  64          	DEFM "d"
1866  0005  00          	DEFB 0x00
1867  0006              	SECTION rodata_compiler
1868  0006              ___str_3:
1869  0006  65          	DEFM "e"
1870  0007  00          	DEFB 0x00
1871  0008              	SECTION rodata_compiler
1872  0008              ___str_4:
1873  0008  66          	DEFM "f"
1874  0009  00          	DEFB 0x00
1875  000A              	SECTION rodata_compiler
1876  000A              ___str_5:
1877  000A  67          	DEFM "g"
1878  000B  00          	DEFB 0x00
1879  000C              	SECTION rodata_compiler
1880  000C              ___str_6:
1881  000C  3C          	DEFM "<"
1882  000D  00          	DEFB 0x00
1883  000E              	SECTION rodata_compiler
1884  000E              ___str_7:
1885  000E  5C          	DEFB 0x5c
1886  000F  00          	DEFB 0x00
1887  0010              	SECTION rodata_compiler
1888  0010              ___str_8:
1889  0010  3E          	DEFM ">"
1890  0011  00          	DEFB 0x00
1891  0012              	SECTION rodata_compiler
1892  0012              ___str_9:
1893  0012  5E          	DEFM "^"
1894  0013  00          	DEFB 0x00
1895  0014              	SECTION rodata_compiler
1896  0014              ___str_10:
1897  0014  3F          	DEFM "?"
1898  0015  00          	DEFB 0x00
1899  0016              	SECTION rodata_compiler
1900  0016              ___str_11:
1901  0016  5F          	DEFM "_"
1902  0017  00          	DEFB 0x00
1903  0018              	SECTION rodata_compiler
1904  0018              ___str_12:
1905  0018  78          	DEFM "x"
1906  0019  00          	DEFB 0x00
1907  001A              	SECTION rodata_compiler
1908  001A              ___str_13:
1909  001A  79          	DEFM "y"
1910  001B  00          	DEFB 0x00
1911  001C              	SECTION rodata_compiler
1912  001C              ___str_14:
1913  001C  4C 50 53 3A 	DEFM "LPS:"
1914  0020  00          	DEFB 0x00
1915  0021              	SECTION rodata_compiler
1916  0021              ___str_15:
1917  0021  6C          	DEFM "l"
1918  0022  00          	DEFB 0x00
1919  0023              	SECTION rodata_compiler
1920  0023              ___str_16:
1921  0023  6D          	DEFM "m"
1922  0024  00          	DEFB 0x00
1923  0025              	SECTION rodata_compiler
1924  0025              ___str_17:
1925  0025  6E          	DEFM "n"
1926  0026  00          	DEFB 0x00
1927  0027              	SECTION rodata_compiler
1928  0027              ___str_18:
1929  0027  6F          	DEFM "o"
1930  0028  00          	DEFB 0x00
1931  0029              	SECTION code_compiler
1932  05FC              ;	---------------------------------
1933  05FC              ; Function game_print_score
1934  05FC              ; ---------------------------------
1935  05FC              _game_print_score:
1936  05FC  21 00 00    	ld	hl,_screen_ink
1937  05FF  36 07       	ld	(hl),0x07
1938  0601  21 00 00    	ld	hl,_screen_paper
1939  0604  36 00       	ld	(hl),0x00
1940  0606  2A 00 00    	ld	hl,(_player_score)
1941  0609  E5          	push	hl
1942  060A  21 14 17    	ld	hl,0x1714
1943  060D  E5          	push	hl
1944  060E  CD 00 00    	call	_zx_print_int
1945  0611  2A 00 00    	ld	hl,(_game_score_top)
1946  0614  E5          	push	hl
1947  0615  21 00 0E    	ld	hl,0x0e00
1948  0618  E5          	push	hl
1949  0619  CD 00 00    	call	_zx_print_int
1950  061C  C9          	ret
1951  061D              	SECTION code_compiler
1952  061D              ;	---------------------------------
1953  061D              ; Function game_update_stats
1954  061D              ; ---------------------------------
1955  061D              _game_update_stats:
1956  061D  21 00 00    	ld	hl,_screen_ink
1957  0620  36 07       	ld	(hl),0x07
1958  0622  3A 00 00    	ld	a,(_player_lives)
1959  0625  F5          	push	af
1960  0626  33          	inc	sp
1961  0627  21 14 03    	ld	hl,0x0314
1962  062A  E5          	push	hl
1963  062B  CD 00 00    	call	_zx_print_chr
1964  062E  3A 00 00    	ld	a,(_player_coins)
1965  0631  F5          	push	af
1966  0632  33          	inc	sp
1967  0633  21 16 09    	ld	hl,0x0916
1968  0636  E5          	push	hl
1969  0637  CD 00 00    	call	_zx_print_chr
1970  063A  3A 00 00    	ld	a,(_player_str)
1971  063D  F5          	push	af
1972  063E  33          	inc	sp
1973  063F  21 16 0F    	ld	hl,0x0f16
1974  0642  E5          	push	hl
1975  0643  CD 00 00    	call	_zx_print_chr
1976  0646  3A 00 00    	ld	a,(_player_int)
1977  0649  F5          	push	af
1978  064A  33          	inc	sp
1979  064B  21 16 15    	ld	hl,0x1516
1980  064E  E5          	push	hl
1981  064F  CD 00 00    	call	_zx_print_chr
1982  0652  3A 00 00    	ld	a,(_player_lvl)
1983  0655  F5          	push	af
1984  0656  33          	inc	sp
1985  0657  21 16 1B    	ld	hl,0x1b16
1986  065A  E5          	push	hl
1987  065B  CD 00 00    	call	_zx_print_chr
1988  065E  21 00 00    	ld	hl,_screen_ink
1989  0661  36 02       	ld	(hl),0x02
1990  0663  3A 00 00    	ld	a,(_player_vita)
1991  0666  F5          	push	af
1992  0667  33          	inc	sp
1993  0668  21 14 0A    	ld	hl,0x0a14
1994  066B  E5          	push	hl
1995  066C  CD 00 00    	call	_zx_print_chr
1996  066F  21 00 00    	ld	hl,_screen_ink
1997  0672  36 01       	ld	(hl),0x01
1998  0674  3A 00 00    	ld	a,(_player_mana)
1999  0677  F5          	push	af
2000  0678  33          	inc	sp
2001  0679  21 14 11    	ld	hl,0x1114
2002  067C  E5          	push	hl
2003  067D  CD 00 00    	call	_zx_print_chr
2004  0680  3A 00 00    	ld	a,(_game_boss)
2005  0683  B7          	or	a, a
2006  0684  28 46       	jr	Z,l_game_update_stats_00106
2007  0686  21 13 10    	ld	hl,0x1013
2008  0689  E5          	push	hl
2009  068A  3E 0B       	ld	a,0x0b
2010  068C  F5          	push	af
2011  068D  33          	inc	sp
2012  068E  CD 50 0A    	call	_game_paint_attrib_lin_osd
2013  0691  F1          	pop	af
2014  0692  33          	inc	sp
2015  0693  21 00 00    	ld	hl,_tmp0
2016  0696  36 00       	ld	(hl),0x00
2017  0698              l_game_update_stats_00115:
2018  0698  21 00 00    	ld	hl,_tmp0
2019  069B  7E          	ld	a, (hl)
2020  069C  C6 0B       	add	a,0x0b
2021  069E  47          	ld	b, a
2022  069F  7E          	ld	a, (hl)
2023  06A0  21 00 00    	ld	hl,_game_boss_hit
2024  06A3  96          	sub	a, (hl)
2025  06A4  30 0F       	jr	NC,l_game_update_stats_00102
2026  06A6  21 29 00    	ld	hl,___str_19
2027  06A9  E5          	push	hl
2028  06AA  C5          	push	bc
2029  06AB  33          	inc	sp
2030  06AC  3E 01       	ld	a,0x01
2031  06AE  F5          	push	af
2032  06AF  33          	inc	sp
2033  06B0  CD 00 00    	call	_zx_print_str
2034  06B3  18 0D       	jr	l_game_update_stats_00116
2035  06B5              l_game_update_stats_00102:
2036  06B5  21 2B 00    	ld	hl,___str_20
2037  06B8  E5          	push	hl
2038  06B9  C5          	push	bc
2039  06BA  33          	inc	sp
2040  06BB  3E 01       	ld	a,0x01
2041  06BD  F5          	push	af
2042  06BE  33          	inc	sp
2043  06BF  CD 00 00    	call	_zx_print_str
2044  06C2              l_game_update_stats_00116:
2045  06C2  21 00 00    	ld	hl,_tmp0
2046  06C5  7E          	ld	a,(hl)
2047  06C6  3C          	inc	a
2048  06C7  77          	ld	(hl),a
2049  06C8  D6 08       	sub	a,0x08
2050  06CA  38 CC       	jr	C,l_game_update_stats_00115
2051  06CC              l_game_update_stats_00106:
2052  06CC  3A 00 00    	ld	a,(_player_keys)
2053  06CF  B7          	or	a, a
2054  06D0  28 10       	jr	Z,l_game_update_stats_00108
2055  06D2  21 00 00    	ld	hl,_screen_ink
2056  06D5  36 07       	ld	(hl),0x07
2057  06D7  21 2D 00    	ld	hl,___str_21
2058  06DA  E5          	push	hl
2059  06DB  21 16 02    	ld	hl,0x0216
2060  06DE  E5          	push	hl
2061  06DF  CD 00 00    	call	_zx_print_str
2062  06E2              l_game_update_stats_00108:
2063  06E2  3A 01 00    	ld	a, (_player_keys + 1)
2064  06E5  B7          	or	a, a
2065  06E6  28 10       	jr	Z,l_game_update_stats_00110
2066  06E8  21 00 00    	ld	hl,_screen_ink
2067  06EB  36 02       	ld	(hl),0x02
2068  06ED  21 2D 00    	ld	hl,___str_21
2069  06F0  E5          	push	hl
2070  06F1  21 16 03    	ld	hl,0x0316
2071  06F4  E5          	push	hl
2072  06F5  CD 00 00    	call	_zx_print_str
2073  06F8              l_game_update_stats_00110:
2074  06F8  3A 02 00    	ld	a, (_player_keys + 2)
2075  06FB  B7          	or	a, a
2076  06FC  28 10       	jr	Z,l_game_update_stats_00112
2077  06FE  21 00 00    	ld	hl,_screen_ink
2078  0701  36 04       	ld	(hl),0x04
2079  0703  21 2D 00    	ld	hl,___str_21
2080  0706  E5          	push	hl
2081  0707  21 16 04    	ld	hl,0x0416
2082  070A  E5          	push	hl
2083  070B  CD 00 00    	call	_zx_print_str
2084  070E              l_game_update_stats_00112:
2085  070E  3A 03 00    	ld	a, (_player_keys + 3)
2086  0711  B7          	or	a, a
2087  0712  C8          	ret	Z
2088  0713  21 00 00    	ld	hl,_screen_ink
2089  0716  36 05       	ld	(hl),0x05
2090  0718  21 2D 00    	ld	hl,___str_21
2091  071B  E5          	push	hl
2092  071C  21 16 05    	ld	hl,0x0516
2093  071F  E5          	push	hl
2094  0720  CD 00 00    	call	_zx_print_str
2095  0723  C9          	ret
2096  0724              	SECTION rodata_compiler
2097  0029              ___str_19:
2098  0029  2A          	DEFM "*"
2099  002A  00          	DEFB 0x00
2100  002B              	SECTION rodata_compiler
2101  002B              ___str_20:
2102  002B  20          	DEFM " "
2103  002C  00          	DEFB 0x00
2104  002D              	SECTION rodata_compiler
2105  002D              ___str_21:
2106  002D  5D          	DEFM "]"
2107  002E  00          	DEFB 0x00
2108  002F              	SECTION code_compiler
2109  0724              ;	---------------------------------
2110  0724              ; Function game_tick
2111  0724              ; ---------------------------------
2112  0724              _game_tick:
2113  0724  21 00 00    	ld	hl,_curr_time
2114  0727  34          	inc	(hl)
2115  0728  C2 00 00    	jp	NZ,_zx_isr
2116  072B  23          	inc	hl
2117  072C  34          	inc	(hl)
2118  072D  C3 00 00    	jp  _zx_isr
2119  0730              	SECTION code_compiler
2120  0730              ;	---------------------------------
2121  0730              ; Function game_start_timer
2122  0730              ; ---------------------------------
2123  0730              _game_start_timer:
2124  0730  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2125  0733  36 CD       	ld	(hl),0xcd
2126  0735  23          	inc	hl
2127  0736  11 24 07    	ld	de,_game_tick
2128  0739  73          	ld	(hl), e
2129  073A  23          	inc	hl
2130  073B  72          	ld	(hl), d
2131  073C  C9          	ret
2132  073D              	SECTION code_compiler
2133  073D              ;	---------------------------------
2134  073D              ; Function game_round_init
2135  073D              ; ---------------------------------
2136  073D              _game_round_init:
2137  073D  21 00 00    	ld	hl,0x0000
2138  0740  22 00 00    	ld	(_loop_count),hl
2139  0743  21 00 00    	ld	hl,0
2140  0746  22 00 00    	ld	(_curr_time),hl
2141  0749  21 00 00    	ld	hl,0x0000
2142  074C  22 00 00    	ld	(_frame_time),hl
2143  074F  CD 00 00    	call	_spr_init_effects
2144  0752  CD 56 08    	call	_game_print_header
2145  0755  CD BB 04    	call	_game_print_footer
2146  0758  CD 00 00    	call	_spr_page_map
2147  075B  CD 7A 01    	call	_game_draw_screen
2148  075E  CD 00 00    	call	_ay_reset
2149  0761  21 00 00    	ld	hl,_ay_effect_12
2150  0764  CD 00 00    	call	_ay_fx_play
2151  0767  3A 00 00    	ld	a,(_game_over)
2152  076A  B7          	or	a, a
2153  076B  20 10       	jr	NZ,l_game_round_init_00102
2154  076D  2A 00 00    	ld	hl,(_player_col_scr)
2155  0770  26 70       	ld	h,0x70
2156  0772  3A 00 00    	ld	a,(_player_lin_scr)
2157  0775  E5          	push	hl
2158  0776  F5          	push	af
2159  0777  33          	inc	sp
2160  0778  CD 00 00    	call	_player_init
2161  077B  F1          	pop	af
2162  077C  33          	inc	sp
2163  077D              l_game_round_init_00102:
2164  077D  CD 1D 06    	call	_game_update_stats
2165  0780  21 32 00    	ld	hl,0x0032
2166  0783  CD 00 00    	call	_z80_delay_ms_fastcall
2167  0786  3A 00 00    	ld	a,(_game_world)
2168  0789  B7          	or	a, a
2169  078A  28 12       	jr	Z,l_game_round_init_00103
2170  078C  3D          	dec	a
2171  078D  28 3E       	jr	Z,l_game_round_init_00104
2172  078F  3A 00 00    	ld	a,(_game_world)
2173  0792  FE 02       	cp	a,0x02
2174  0794  28 65       	jr	Z,l_game_round_init_00105
2175  0796  D6 03       	sub	a,0x03
2176  0798  CA 29 08    	jp	Z,l_game_round_init_00106
2177  079B  C3 55 08    	jp	l_game_round_init_00108
2178  079E              l_game_round_init_00103:
2179  079E  21 17 68    	ld	hl,0x6817
2180  07A1  E5          	push	hl
2181  07A2  3E 06       	ld	a,0x06
2182  07A4  F5          	push	af
2183  07A5  33          	inc	sp
2184  07A6  CD 50 0A    	call	_game_paint_attrib_lin_osd
2185  07A9  33          	inc	sp
2186  07AA  21 2F 00    	ld	hl,___str_22
2187  07AD  E3          	ex	(sp),hl
2188  07AE  21 0C 06    	ld	hl,0x060c
2189  07B1  E5          	push	hl
2190  07B2  CD 00 00    	call	_zx_print_str
2191  07B5  AF          	xor	a, a
2192  07B6  F5          	push	af
2193  07B7  33          	inc	sp
2194  07B8  21 19 00    	ld	hl,0x0019
2195  07BB  E5          	push	hl
2196  07BC  21 06 17    	ld	hl,0x1706
2197  07BF  E5          	push	hl
2198  07C0  3E 0C       	ld	a,0x0c
2199  07C2  F5          	push	af
2200  07C3  33          	inc	sp
2201  07C4  CD 77 0A    	call	_game_colour_message
2202  07C7  F1          	pop	af
2203  07C8  F1          	pop	af
2204  07C9  F1          	pop	af
2205  07CA  C3 55 08    	jp	l_game_round_init_00108
2206  07CD              l_game_round_init_00104:
2207  07CD  21 13 68    	ld	hl,0x6813
2208  07D0  E5          	push	hl
2209  07D1  3E 06       	ld	a,0x06
2210  07D3  F5          	push	af
2211  07D4  33          	inc	sp
2212  07D5  CD 50 0A    	call	_game_paint_attrib_lin_osd
2213  07D8  33          	inc	sp
2214  07D9  21 41 00    	ld	hl,___str_23
2215  07DC  E3          	ex	(sp),hl
2216  07DD  21 0C 06    	ld	hl,0x060c
2217  07E0  E5          	push	hl
2218  07E1  CD 00 00    	call	_zx_print_str
2219  07E4  AF          	xor	a, a
2220  07E5  F5          	push	af
2221  07E6  33          	inc	sp
2222  07E7  21 19 00    	ld	hl,0x0019
2223  07EA  E5          	push	hl
2224  07EB  21 06 13    	ld	hl,0x1306
2225  07EE  E5          	push	hl
2226  07EF  3E 0C       	ld	a,0x0c
2227  07F1  F5          	push	af
2228  07F2  33          	inc	sp
2229  07F3  CD 77 0A    	call	_game_colour_message
2230  07F6  F1          	pop	af
2231  07F7  F1          	pop	af
2232  07F8  F1          	pop	af
2233  07F9  18 5A       	jr	l_game_round_init_00108
2234  07FB              l_game_round_init_00105:
2235  07FB  21 14 68    	ld	hl,0x6814
2236  07FE  E5          	push	hl
2237  07FF  3E 06       	ld	a,0x06
2238  0801  F5          	push	af
2239  0802  33          	inc	sp
2240  0803  CD 50 0A    	call	_game_paint_attrib_lin_osd
2241  0806  33          	inc	sp
2242  0807  21 4F 00    	ld	hl,___str_24
2243  080A  E3          	ex	(sp),hl
2244  080B  21 0C 06    	ld	hl,0x060c
2245  080E  E5          	push	hl
2246  080F  CD 00 00    	call	_zx_print_str
2247  0812  AF          	xor	a, a
2248  0813  F5          	push	af
2249  0814  33          	inc	sp
2250  0815  21 19 00    	ld	hl,0x0019
2251  0818  E5          	push	hl
2252  0819  21 06 14    	ld	hl,0x1406
2253  081C  E5          	push	hl
2254  081D  3E 0C       	ld	a,0x0c
2255  081F  F5          	push	af
2256  0820  33          	inc	sp
2257  0821  CD 77 0A    	call	_game_colour_message
2258  0824  F1          	pop	af
2259  0825  F1          	pop	af
2260  0826  F1          	pop	af
2261  0827  18 2C       	jr	l_game_round_init_00108
2262  0829              l_game_round_init_00106:
2263  0829  21 17 68    	ld	hl,0x6817
2264  082C  E5          	push	hl
2265  082D  3E 06       	ld	a,0x06
2266  082F  F5          	push	af
2267  0830  33          	inc	sp
2268  0831  CD 50 0A    	call	_game_paint_attrib_lin_osd
2269  0834  33          	inc	sp
2270  0835  21 5E 00    	ld	hl,___str_25
2271  0838  E3          	ex	(sp),hl
2272  0839  21 0C 06    	ld	hl,0x060c
2273  083C  E5          	push	hl
2274  083D  CD 00 00    	call	_zx_print_str
2275  0840  AF          	xor	a, a
2276  0841  F5          	push	af
2277  0842  33          	inc	sp
2278  0843  21 19 00    	ld	hl,0x0019
2279  0846  E5          	push	hl
2280  0847  21 06 17    	ld	hl,0x1706
2281  084A  E5          	push	hl
2282  084B  3E 0C       	ld	a,0x0c
2283  084D  F5          	push	af
2284  084E  33          	inc	sp
2285  084F  CD 77 0A    	call	_game_colour_message
2286  0852  F1          	pop	af
2287  0853  F1          	pop	af
2288  0854  F1          	pop	af
2289  0855              l_game_round_init_00108:
2290  0855  C9          	ret
2291  0856              	SECTION rodata_compiler
2292  002F              ___str_22:
2293  002F  57 4F 52 4C 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "WORLD 1 THE SHIRE"
2294  0040  00          	DEFB 0x00
2295  0041              	SECTION rodata_compiler
2296  0041              ___str_23:
2297  0041  57 4F 52 4C 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "WORLD 2 MORIA"
2298  004E  00          	DEFB 0x00
2299  004F              	SECTION rodata_compiler
2300  004F              ___str_24:
2301  004F  57 4F 52 4C 44 20 31 20 4D 4F 52 44 4F 52 
                        	DEFM "WORLD 1 MORDOR"
2302  005D  00          	DEFB 0x00
2303  005E              	SECTION rodata_compiler
2304  005E              ___str_25:
2305  005E  57 4F 52 4C 44 20 32 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "WORLD 2 BARAD DUR"
2306  006F  00          	DEFB 0x00
2307  0070              	SECTION code_compiler
2308  0856              ;	---------------------------------
2309  0856              ; Function game_print_header
2310  0856              ; ---------------------------------
2311  0856              _game_print_header:
2312  0856  21 00 00    	ld	hl,_screen_ink
2313  0859  36 02       	ld	(hl),0x02
2314  085B  21 70 00    	ld	hl,___str_26
2315  085E  E5          	push	hl
2316  085F  21 00 0B    	ld	hl,0x0b00
2317  0862  E5          	push	hl
2318  0863  CD 00 00    	call	_zx_print_str
2319  0866  21 00 00    	ld	hl,_screen_ink
2320  0869  36 07       	ld	(hl),0x07
2321  086B  CD FC 05    	call	_game_print_score
2322  086E  C9          	ret
2323  086F              	SECTION rodata_compiler
2324  0070              ___str_26:
2325  0070  24 25 7C    	DEFM "$%|"
2326  0073  00          	DEFB 0x00
2327  0074              	SECTION code_compiler
2328  086F              ;	---------------------------------
2329  086F              ; Function game_check_map
2330  086F              ; ---------------------------------
2331  086F              _game_check_map:
2332  086F  CD 00 00    	call	___sdcc_enter_ix
2333  0872  DD CB 05 46 	bit	0,(ix+5)
2334  0876  20 18       	jr	NZ,l_game_check_map_00108
2335  0878  DD 66 05    	ld	h,(ix+5)
2336  087B  DD 6E 04    	ld	l,(ix+4)
2337  087E  E5          	push	hl
2338  087F  CD 00 00    	call	_spr_calc_index
2339  0882  F1          	pop	af
2340  0883  22 00 00    	ld	(_index1),hl
2341  0886  21 00 00    	ld	hl,_index1
2342  0889  CD EB 08    	call	_game_check_cell
2343  088C  26 00       	ld	h,0x00
2344  088E  18 58       	jr	l_game_check_map_00110
2345  0890              l_game_check_map_00108:
2346  0890  21 00 00    	ld	hl,_g_player_hit_left
2347  0893  36 00       	ld	(hl),0x00
2348  0895  21 00 00    	ld	hl,_g_player_hit_right
2349  0898  36 00       	ld	(hl),0x00
2350  089A  DD 46 05    	ld	b,(ix+5)
2351  089D  05          	dec	b
2352  089E  DD 4E 04    	ld	c,(ix+4)
2353  08A1  C5          	push	bc
2354  08A2  CD 00 00    	call	_spr_calc_index
2355  08A5  F1          	pop	af
2356  08A6  22 00 00    	ld	(_index1),hl
2357  08A9  21 00 00    	ld	hl,_index1
2358  08AC  CD EB 08    	call	_game_check_cell
2359  08AF  7D          	ld	a, l
2360  08B0  B7          	or	a, a
2361  08B1  28 05       	jr	Z,l_game_check_map_00102
2362  08B3  21 00 00    	ld	hl,_g_player_hit_left
2363  08B6  36 01       	ld	(hl),0x01
2364  08B8              l_game_check_map_00102:
2365  08B8  3A 00 00    	ld	a,(_g_player_hit_left)
2366  08BB  B7          	or	a, a
2367  08BC  20 17       	jr	NZ,l_game_check_map_00106
2368  08BE  21 00 00    	ld	hl,_index1
2369  08C1  34          	inc	(hl)
2370  08C2  20 02       	jr	NZ,l_game_check_map_00141
2371  08C4  23          	inc	hl
2372  08C5  34          	inc	(hl)
2373  08C6              l_game_check_map_00141:
2374  08C6  21 00 00    	ld	hl,_index1
2375  08C9  CD EB 08    	call	_game_check_cell
2376  08CC  7D          	ld	a, l
2377  08CD  B7          	or	a, a
2378  08CE  28 05       	jr	Z,l_game_check_map_00106
2379  08D0  21 00 00    	ld	hl,_g_player_hit_right
2380  08D3  36 01       	ld	(hl),0x01
2381  08D5              l_game_check_map_00106:
2382  08D5  3A 00 00    	ld	a,(_g_player_hit_left)
2383  08D8  B7          	or	a, a
2384  08D9  20 09       	jr	NZ,l_game_check_map_00113
2385  08DB  3A 00 00    	ld	a,(_g_player_hit_right)
2386  08DE  B7          	or	a,a
2387  08DF  20 03       	jr	NZ,l_game_check_map_00113
2388  08E1  6F          	ld	l,a
2389  08E2  18 02       	jr	l_game_check_map_00114
2390  08E4              l_game_check_map_00113:
2391  08E4  2E 01       	ld	l,0x01
2392  08E6              l_game_check_map_00114:
2393  08E6  26 00       	ld	h,0x00
2394  08E8              l_game_check_map_00110:
2395  08E8  DD E1       	pop	ix
2396  08EA  C9          	ret
2397  08EB              	SECTION code_compiler
2398  08EB              ;	---------------------------------
2399  08EB              ; Function game_check_cell
2400  08EB              ; ---------------------------------
2401  08EB              _game_check_cell:
2402  08EB  CD 00 00    	call	___sdcc_enter_ix
2403  08EE  F5          	push	af
2404  08EF  3B          	dec	sp
2405  08F0  4E          	ld	c, (hl)
2406  08F1  23          	inc	hl
2407  08F2  46          	ld	b, (hl)
2408  08F3  3E A0       	ld	a,0xa0
2409  08F5  B9          	cp	a, c
2410  08F6  3E 00       	ld	a,0x00
2411  08F8  98          	sbc	a, b
2412  08F9  30 05       	jr	NC,l_game_check_cell_00102
2413  08FB  2E 01       	ld	l,0x01
2414  08FD  C3 FD 09    	jp	l_game_check_cell_00154
2415  0900              l_game_check_cell_00102:
2416  0900  21 00 00    	ld	hl,_scr_map
2417  0903  09          	add	hl, bc
2418  0904  5E          	ld	e, (hl)
2419  0905  3A 00 00    	ld	a,(_sprite)
2420  0908  D6 07       	sub	a,0x07
2421  090A  20 04       	jr	NZ,l_game_check_cell_00244
2422  090C  3E 01       	ld	a,0x01
2423  090E  18 01       	jr	l_game_check_cell_00245
2424  0910              l_game_check_cell_00244:
2425  0910  AF          	xor	a,a
2426  0911              l_game_check_cell_00245:
2427  0911  DD 77 FF    	ld	(ix-1),a
2428  0914  CB 47       	bit	0,a
2429  0916  C2 9F 09    	jp	NZ, l_game_check_cell_00132
2430  0919  3E 00       	ld	a, +((_class) & 0xFF)
2431  091B  21 00 00    	ld	hl,_sprite
2432  091E  86          	add	a, (hl)
2433  091F  DD 77 FD    	ld	(ix-3),a
2434  0922  3E 00       	ld	a, +((_class) / 256)
2435  0924  CE 00       	adc	a,0x00
2436  0926  DD 77 FE    	ld	(ix-2),a
2437  0929  E1          	pop	hl
2438  092A  56          	ld	d,(hl)
2439  092B  E5          	push	hl
2440  092C  3E 00       	ld	a, +((_sprite_kind) & 0xFF)
2441  092E  82          	add	a, d
2442  092F  6F          	ld	l, a
2443  0930  3E 00       	ld	a, +((_sprite_kind) / 256)
2444  0932  CE 00       	adc	a,0x00
2445  0934  67          	ld	h, a
2446  0935  7E          	ld	a,(hl)
2447  0936  6F          	ld	l,a
2448  0937  D6 05       	sub	a,0x05
2449  0939  20 04       	jr	NZ,l_game_check_cell_00104
2450  093B  6F          	ld	l,a
2451  093C  C3 FD 09    	jp	l_game_check_cell_00154
2452  093F              l_game_check_cell_00104:
2453  093F  7B          	ld	a, e
2454  0940  3C          	inc	a
2455  0941  20 04       	jr	NZ,l_game_check_cell_00106
2456  0943  6F          	ld	l,a
2457  0944  C3 FD 09    	jp	l_game_check_cell_00154
2458  0947              l_game_check_cell_00106:
2459  0947  7B          	ld	a, e
2460  0948  D6 23       	sub	a,0x23
2461  094A  20 05       	jr	NZ,l_game_check_cell_00108
2462  094C  2E 01       	ld	l,0x01
2463  094E  C3 FD 09    	jp	l_game_check_cell_00154
2464  0951              l_game_check_cell_00108:
2465  0951  7D          	ld	a, l
2466  0952  D6 02       	sub	a,0x02
2467  0954  20 25       	jr	NZ,l_game_check_cell_00120
2468  0956  7A          	ld	a,d
2469  0957  FE 09       	cp	a,0x09
2470  0959  28 04       	jr	Z,l_game_check_cell_00115
2471  095B  D6 0A       	sub	a,0x0a
2472  095D  20 0E       	jr	NZ,l_game_check_cell_00116
2473  095F              l_game_check_cell_00115:
2474  095F  3E 3A       	ld	a,0x3a
2475  0961  93          	sub	a, e
2476  0962  38 05       	jr	C,l_game_check_cell_00110
2477  0964  2E 00       	ld	l,0x00
2478  0966  C3 FD 09    	jp	l_game_check_cell_00154
2479  0969              l_game_check_cell_00110:
2480  0969  6B          	ld	l, e
2481  096A  C3 FD 09    	jp	l_game_check_cell_00154
2482  096D              l_game_check_cell_00116:
2483  096D  3E 2F       	ld	a,0x2f
2484  096F  93          	sub	a, e
2485  0970  38 05       	jr	C,l_game_check_cell_00113
2486  0972  2E 00       	ld	l,0x00
2487  0974  C3 FD 09    	jp	l_game_check_cell_00154
2488  0977              l_game_check_cell_00113:
2489  0977  6B          	ld	l, e
2490  0978  C3 FD 09    	jp	l_game_check_cell_00154
2491  097B              l_game_check_cell_00120:
2492  097B  7D          	ld	a, l
2493  097C  3D          	dec	a
2494  097D  28 09       	jr	Z,l_game_check_cell_00127
2495  097F  7D          	ld	a,l
2496  0980  FE 03       	cp	a,0x03
2497  0982  28 04       	jr	Z,l_game_check_cell_00127
2498  0984  D6 06       	sub	a,0x06
2499  0986  20 17       	jr	NZ,l_game_check_cell_00132
2500  0988              l_game_check_cell_00127:
2501  0988  3A 00 00    	ld	a,(_sprite_horizontal_check)
2502  098B  B7          	or	a, a
2503  098C  28 04       	jr	Z,l_game_check_cell_00122
2504  098E  0E 48       	ld	c,0x48
2505  0990  18 02       	jr	l_game_check_cell_00123
2506  0992              l_game_check_cell_00122:
2507  0992  0E 3A       	ld	c,0x3a
2508  0994              l_game_check_cell_00123:
2509  0994  79          	ld	a, c
2510  0995  93          	sub	a, e
2511  0996  38 04       	jr	C,l_game_check_cell_00125
2512  0998  2E 00       	ld	l,0x00
2513  099A  18 61       	jr	l_game_check_cell_00154
2514  099C              l_game_check_cell_00125:
2515  099C  6B          	ld	l, e
2516  099D  18 5E       	jr	l_game_check_cell_00154
2517  099F              l_game_check_cell_00132:
2518  099F  7B          	ld	a, e
2519  09A0  D6 3A       	sub	a,0x3a
2520  09A2  30 04       	jr	NC,l_game_check_cell_00134
2521  09A4  2E 00       	ld	l,0x00
2522  09A6  18 55       	jr	l_game_check_cell_00154
2523  09A8              l_game_check_cell_00134:
2524  09A8  3A 00 00    	ld	a,(_s_state)
2525  09AB  E6 02       	and	a,0x02
2526  09AD  57          	ld	d, a
2527  09AE  7B          	ld	a, e
2528  09AF  D6 44       	sub	a,0x44
2529  09B1  30 0C       	jr	NC,l_game_check_cell_00139
2530  09B3  7A          	ld	a, d
2531  09B4  B7          	or	a, a
2532  09B5  28 04       	jr	Z,l_game_check_cell_00136
2533  09B7  2E 01       	ld	l,0x01
2534  09B9  18 42       	jr	l_game_check_cell_00154
2535  09BB              l_game_check_cell_00136:
2536  09BB  2E 00       	ld	l,0x00
2537  09BD  18 3E       	jr	l_game_check_cell_00154
2538  09BF              l_game_check_cell_00139:
2539  09BF  7B          	ld	a, e
2540  09C0  D6 48       	sub	a,0x48
2541  09C2  30 16       	jr	NC,l_game_check_cell_00147
2542  09C4  3A 00 00    	ld	a,(_sprite_horizontal_check)
2543  09C7  B7          	or	a, a
2544  09C8  28 04       	jr	Z,l_game_check_cell_00144
2545  09CA  2E 00       	ld	l,0x00
2546  09CC  18 2F       	jr	l_game_check_cell_00154
2547  09CE              l_game_check_cell_00144:
2548  09CE  7A          	ld	a, d
2549  09CF  B7          	or	a, a
2550  09D0  28 04       	jr	Z,l_game_check_cell_00141
2551  09D2  2E 01       	ld	l,0x01
2552  09D4  18 27       	jr	l_game_check_cell_00154
2553  09D6              l_game_check_cell_00141:
2554  09D6  2E 00       	ld	l,0x00
2555  09D8  18 23       	jr	l_game_check_cell_00154
2556  09DA              l_game_check_cell_00147:
2557  09DA  7B          	ld	a, e
2558  09DB  D6 4C       	sub	a,0x4c
2559  09DD  30 13       	jr	NC,l_game_check_cell_00151
2560  09DF  DD CB FF 46 	bit	0,(ix-1)
2561  09E3  28 0D       	jr	Z,l_game_check_cell_00151
2562  09E5  7B          	ld	a, e
2563  09E6  F5          	push	af
2564  09E7  33          	inc	sp
2565  09E8  C5          	push	bc
2566  09E9  CD 00 00    	call	_player_open_door
2567  09EC  F1          	pop	af
2568  09ED  33          	inc	sp
2569  09EE  2E 01       	ld	l,0x01
2570  09F0  18 0B       	jr	l_game_check_cell_00154
2571  09F2              l_game_check_cell_00151:
2572  09F2  7B          	ld	a, e
2573  09F3  D6 60       	sub	a,0x60
2574  09F5  30 04       	jr	NC,l_game_check_cell_00153
2575  09F7  2E 01       	ld	l,0x01
2576  09F9  18 02       	jr	l_game_check_cell_00154
2577  09FB              l_game_check_cell_00153:
2578  09FB  2E 00       	ld	l,0x00
2579  09FD              l_game_check_cell_00154:
2580  09FD  DD F9       	ld	sp, ix
2581  09FF  DD E1       	pop	ix
2582  0A01  C9          	ret
2583  0A02              	SECTION code_compiler
2584  0A02              ;	---------------------------------
2585  0A02              ; Function game_paint_attrib_lin
2586  0A02              ; ---------------------------------
2587  0A02              _game_paint_attrib_lin:
2588  0A02  CD 00 00    	call	___sdcc_enter_ix
2589  0A05  DD 7E 04    	ld	a,(ix+4)
2590  0A08  32 00 00    	ld	(_tmp_uc),a
2591  0A0B              l_game_paint_attrib_lin_00103:
2592  0A0B  21 00 00    	ld	hl,_tmp_uc
2593  0A0E  7E          	ld	a, (hl)
2594  0A0F  DD 96 05    	sub	a,(ix+5)
2595  0A12  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2596  0A14  66          	ld	h,(hl)
2597  0A15  DD 6E 06    	ld	l,(ix+6)
2598  0A18  E5          	push	hl
2599  0A19  21 00 00    	ld	hl,_attrib
2600  0A1C  E5          	push	hl
2601  0A1D  CD 00 00    	call	_NIRVANAP_paintC_callee
2602  0A20  21 00 00    	ld	hl,_tmp_uc
2603  0A23  34          	inc	(hl)
2604  0A24  18 E5       	jr	l_game_paint_attrib_lin_00103
2605  0A26              l_game_paint_attrib_lin_00105:
2606  0A26  DD E1       	pop	ix
2607  0A28  C9          	ret
2608  0A29              	SECTION code_compiler
2609  0A29              ;	---------------------------------
2610  0A29              ; Function game_paint_attrib_lin_h
2611  0A29              ; ---------------------------------
2612  0A29              _game_paint_attrib_lin_h:
2613  0A29  CD 00 00    	call	___sdcc_enter_ix
2614  0A2C  DD 7E 04    	ld	a,(ix+4)
2615  0A2F  32 00 00    	ld	(_tmp_uc),a
2616  0A32              l_game_paint_attrib_lin_h_00103:
2617  0A32  21 00 00    	ld	hl,_tmp_uc
2618  0A35  7E          	ld	a, (hl)
2619  0A36  DD 96 05    	sub	a,(ix+5)
2620  0A39  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2621  0A3B  66          	ld	h,(hl)
2622  0A3C  DD 6E 06    	ld	l,(ix+6)
2623  0A3F  E5          	push	hl
2624  0A40  21 00 00    	ld	hl,_attrib_hl
2625  0A43  E5          	push	hl
2626  0A44  CD 00 00    	call	_NIRVANAP_paintC_callee
2627  0A47  21 00 00    	ld	hl,_tmp_uc
2628  0A4A  34          	inc	(hl)
2629  0A4B  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2630  0A4D              l_game_paint_attrib_lin_h_00105:
2631  0A4D  DD E1       	pop	ix
2632  0A4F  C9          	ret
2633  0A50              	SECTION code_compiler
2634  0A50              ;	---------------------------------
2635  0A50              ; Function game_paint_attrib_lin_osd
2636  0A50              ; ---------------------------------
2637  0A50              _game_paint_attrib_lin_osd:
2638  0A50  CD 00 00    	call	___sdcc_enter_ix
2639  0A53  DD 7E 04    	ld	a,(ix+4)
2640  0A56  32 00 00    	ld	(_tmp_uc),a
2641  0A59              l_game_paint_attrib_lin_osd_00103:
2642  0A59  21 00 00    	ld	hl,_tmp_uc
2643  0A5C  7E          	ld	a, (hl)
2644  0A5D  DD 96 05    	sub	a,(ix+5)
2645  0A60  30 12       	jr	NC,l_game_paint_attrib_lin_osd_00105
2646  0A62  66          	ld	h,(hl)
2647  0A63  DD 6E 06    	ld	l,(ix+6)
2648  0A66  E5          	push	hl
2649  0A67  21 00 00    	ld	hl,_attrib_osd
2650  0A6A  E5          	push	hl
2651  0A6B  CD 00 00    	call	_NIRVANAP_paintC_callee
2652  0A6E  21 00 00    	ld	hl,_tmp_uc
2653  0A71  34          	inc	(hl)
2654  0A72  18 E5       	jr	l_game_paint_attrib_lin_osd_00103
2655  0A74              l_game_paint_attrib_lin_osd_00105:
2656  0A74  DD E1       	pop	ix
2657  0A76  C9          	ret
2658  0A77              	SECTION code_compiler
2659  0A77              ;	---------------------------------
2660  0A77              ; Function game_colour_message
2661  0A77              ; ---------------------------------
2662  0A77              _game_colour_message:
2663  0A77  CD 00 00    	call	___sdcc_enter_ix
2664  0A7A  F5          	push	af
2665  0A7B  F5          	push	af
2666  0A7C  3B          	dec	sp
2667  0A7D  D1          	pop	de
2668  0A7E  21 00 00    	ld	hl,_tmp
2669  0A81  36 01       	ld	(hl),0x01
2670  0A83  2A 00 00    	ld	hl,(_curr_time)
2671  0A86  22 00 00    	ld	(_frame_time),hl
2672  0A89  E5          	push	hl
2673  0A8A  DD 7E 04    	ld	a,(ix+4)
2674  0A8D  4D          	ld	c,l
2675  0A8E  07          	rlca
2676  0A8F  07          	rlca
2677  0A90  07          	rlca
2678  0A91  E6 F8       	and	a,0xf8
2679  0A93  DD 77 FF    	ld	(ix-1),a
2680  0A96  C6 08       	add	a,0x08
2681  0A98  DD 77 FE    	ld	(ix-2),a
2682  0A9B  DD 77 FD    	ld	(ix-3),a
2683  0A9E              l_game_colour_message_00112:
2684  0A9E  3A 00 00    	ld	a,(_tmp)
2685  0AA1  B7          	or	a, a
2686  0AA2  CA 1D 0B    	jp	Z, l_game_colour_message_00114
2687  0AA5  DD 46 07    	ld	b,(ix+7)
2688  0AA8  21 00 00    	ld	hl,0x0000
2689  0AAB  39          	add	hl, sp
2690  0AAC  EB          	ex	de,hl
2691  0AAD  C5          	push	bc
2692  0AAE  33          	inc	sp
2693  0AAF  D5          	push	de
2694  0AB0  CD 93 0B    	call	_game_check_time
2695  0AB3  F1          	pop	af
2696  0AB4  33          	inc	sp
2697  0AB5  7D          	ld	a, l
2698  0AB6  B7          	or	a, a
2699  0AB7  20 64       	jr	NZ,l_game_colour_message_00114
2700  0AB9  3E 05       	ld	a,0x05
2701  0ABB  F5          	push	af
2702  0ABC  33          	inc	sp
2703  0ABD  21 00 00    	ld	hl,_frame_time
2704  0AC0  E5          	push	hl
2705  0AC1  CD 93 0B    	call	_game_check_time
2706  0AC4  F1          	pop	af
2707  0AC5  33          	inc	sp
2708  0AC6  7D          	ld	a, l
2709  0AC7  B7          	or	a, a
2710  0AC8  28 36       	jr	Z,l_game_colour_message_00105
2711  0ACA  2A 00 00    	ld	hl,(_curr_time)
2712  0ACD  22 00 00    	ld	(_frame_time),hl
2713  0AD0  3A 00 00    	ld	a,(_game_over)
2714  0AD3  B7          	or	a,a
2715  0AD4  28 16       	jr	Z,l_game_colour_message_00102
2716  0AD6  DD 66 FD    	ld	h,(ix-3)
2717  0AD9  DD 6E 06    	ld	l,(ix+6)
2718  0ADC  E5          	push	hl
2719  0ADD  DD 7E 05    	ld	a,(ix+5)
2720  0AE0  F5          	push	af
2721  0AE1  33          	inc	sp
2722  0AE2  CD 29 0A    	call	_game_paint_attrib_lin_h
2723  0AE5  F1          	pop	af
2724  0AE6  33          	inc	sp
2725  0AE7  CD 72 10    	call	_game_rotate_attrib
2726  0AEA  18 14       	jr	l_game_colour_message_00105
2727  0AEC              l_game_colour_message_00102:
2728  0AEC  DD 66 FE    	ld	h,(ix-2)
2729  0AEF  DD 6E 06    	ld	l,(ix+6)
2730  0AF2  E5          	push	hl
2731  0AF3  DD 7E 05    	ld	a,(ix+5)
2732  0AF6  F5          	push	af
2733  0AF7  33          	inc	sp
2734  0AF8  CD 50 0A    	call	_game_paint_attrib_lin_osd
2735  0AFB  F1          	pop	af
2736  0AFC  33          	inc	sp
2737  0AFD  CD 8E 10    	call	_game_rotate_attrib_osd
2738  0B00              l_game_colour_message_00105:
2739  0B00  DD 7E 09    	ld	a,(ix+9)
2740  0B03  B7          	or	a, a
2741  0B04  28 98       	jr	Z,l_game_colour_message_00112
2742  0B06              l_game_colour_message_00106:
2743  0B06  11 00 00    	ld	de,_k1
2744  0B09  2A 00 00    	ld	hl,(_joyfunc1)
2745  0B0C  D5          	push	de
2746  0B0D  CD 00 00    	call	___sdcc_call_hl
2747  0B10  F1          	pop	af
2748  0B11  7C          	ld	a,h
2749  0B12  B5          	or	a,l
2750  0B13  4D          	ld	c,l
2751  0B14  28 88       	jr	Z,l_game_colour_message_00112
2752  0B16  21 00 00    	ld	hl,_tmp
2753  0B19  36 00       	ld	(hl),0x00
2754  0B1B  18 E9       	jr	l_game_colour_message_00106
2755  0B1D              l_game_colour_message_00114:
2756  0B1D  DD 7E 06    	ld	a,(ix+6)
2757  0B20  DD 96 05    	sub	a,(ix+5)
2758  0B23  4F          	ld	c, a
2759  0B24  3A 00 00    	ld	a,(_game_over)
2760  0B27  B7          	or	a, a
2761  0B28  28 2F       	jr	Z,l_game_colour_message_00118
2762  0B2A  21 00 00    	ld	hl,_tmp1
2763  0B2D  71          	ld	(hl), c
2764  0B2E  21 00 00    	ld	hl,_tmp0
2765  0B31  36 00       	ld	(hl),0x00
2766  0B33              l_game_colour_message_00121:
2767  0B33  3A 00 00    	ld	a,(_tmp0)
2768  0B36  21 00 00    	ld	hl,_tmp1
2769  0B39  96          	sub	a, (hl)
2770  0B3A  30 52       	jr	NC,l_game_colour_message_00126
2771  0B3C  DD 7E 05    	ld	a,(ix+5)
2772  0B3F  21 00 00    	ld	hl,_tmp0
2773  0B42  86          	add	a, (hl)
2774  0B43  4F          	ld	c, a
2775  0B44  21 74 00    	ld	hl,___str_27
2776  0B47  E5          	push	hl
2777  0B48  79          	ld	a, c
2778  0B49  F5          	push	af
2779  0B4A  33          	inc	sp
2780  0B4B  DD 7E 04    	ld	a,(ix+4)
2781  0B4E  F5          	push	af
2782  0B4F  33          	inc	sp
2783  0B50  CD 00 00    	call	_zx_print_str
2784  0B53  21 00 00    	ld	hl,_tmp0
2785  0B56  34          	inc	(hl)
2786  0B57  18 DA       	jr	l_game_colour_message_00121
2787  0B59              l_game_colour_message_00118:
2788  0B59  21 00 00    	ld	hl,_tmp1
2789  0B5C  71          	ld	(hl), c
2790  0B5D  DD 7E FF    	ld	a,(ix-1)
2791  0B60  32 00 00    	ld	(_s_lin0),a
2792  0B63  DD 7E 05    	ld	a,(ix+5)
2793  0B66  CB 3F       	srl	a
2794  0B68  87          	add	a, a
2795  0B69  32 00 00    	ld	(_s_col1),a
2796  0B6C  21 00 00    	ld	hl,_tmp0
2797  0B6F  36 00       	ld	(hl),0x00
2798  0B71              l_game_colour_message_00124:
2799  0B71  3A 00 00    	ld	a,(_tmp0)
2800  0B74  21 00 00    	ld	hl,_tmp1
2801  0B77  96          	sub	a, (hl)
2802  0B78  30 14       	jr	NC,l_game_colour_message_00126
2803  0B7A  3A 00 00    	ld	a,(_s_col1)
2804  0B7D  21 00 00    	ld	hl,_tmp0
2805  0B80  86          	add	a, (hl)
2806  0B81  32 00 00    	ld	(_s_col0),a
2807  0B84  CD 00 00    	call	_spr_back_repaint
2808  0B87  21 00 00    	ld	hl,_tmp0
2809  0B8A  34          	inc	(hl)
2810  0B8B  34          	inc	(hl)
2811  0B8C  18 E3       	jr	l_game_colour_message_00124
2812  0B8E              l_game_colour_message_00126:
2813  0B8E  DD F9       	ld	sp, ix
2814  0B90  DD E1       	pop	ix
2815  0B92  C9          	ret
2816  0B93              	SECTION rodata_compiler
2817  0074              ___str_27:
2818  0074  20          	DEFM " "
2819  0075  00          	DEFB 0x00
2820  0076              	SECTION code_compiler
2821  0B93              ;	---------------------------------
2822  0B93              ; Function game_check_time
2823  0B93              ; ---------------------------------
2824  0B93              _game_check_time:
2825  0B93  CD 00 00    	call	___sdcc_enter_ix
2826  0B96  2A 00 00    	ld	hl,(_curr_time)
2827  0B99  4D          	ld	c, l
2828  0B9A  DD 6E 04    	ld	l,(ix+4)
2829  0B9D  44          	ld	b,h
2830  0B9E  DD 66 05    	ld	h,(ix+5)
2831  0BA1  5E          	ld	e, (hl)
2832  0BA2  23          	inc	hl
2833  0BA3  56          	ld	d, (hl)
2834  0BA4  79          	ld	a, c
2835  0BA5  93          	sub	a, e
2836  0BA6  4F          	ld	c, a
2837  0BA7  78          	ld	a, b
2838  0BA8  9A          	sbc	a, d
2839  0BA9  47          	ld	b, a
2840  0BAA  DD 7E 06    	ld	a,(ix+6)
2841  0BAD  16 00       	ld	d,0x00
2842  0BAF  91          	sub	a, c
2843  0BB0  7A          	ld	a, d
2844  0BB1  98          	sbc	a, b
2845  0BB2  30 04       	jr	NC,l_game_check_time_00102
2846  0BB4  2E 01       	ld	l,0x01
2847  0BB6  18 02       	jr	l_game_check_time_00104
2848  0BB8              l_game_check_time_00102:
2849  0BB8  2E 00       	ld	l,0x00
2850  0BBA              l_game_check_time_00104:
2851  0BBA  DD E1       	pop	ix
2852  0BBC  C9          	ret
2853  0BBD              	SECTION code_compiler
2854  0BBD              ;	---------------------------------
2855  0BBD              ; Function game_shoot_fire
2856  0BBD              ; ---------------------------------
2857  0BBD              _game_shoot_fire:
2858  0BBD  CD 00 00    	call	___sdcc_enter_ix
2859  0BC0  21 F3 FF    	ld	hl, -13
2860  0BC3  39          	add	hl, sp
2861  0BC4  F9          	ld	sp, hl
2862  0BC5  01 00 00    	ld	bc,_bullet_col
2863  0BC8  DD 6E 04    	ld	l,(ix+4)
2864  0BCB  26 00       	ld	h,0x00
2865  0BCD  09          	add	hl,bc
2866  0BCE  DD 75 FE    	ld	(ix-2),l
2867  0BD1  DD 74 FF    	ld	(ix-1),h
2868  0BD4  4E          	ld	c, (hl)
2869  0BD5  0C          	inc	c
2870  0BD6  C2 FC 0D    	jp	NZ,l_game_shoot_fire_00126
2871  0BD9  21 00 00    	ld	hl,_ay_effect_08
2872  0BDC  CD 00 00    	call	_ay_fx_play
2873  0BDF  21 00 00    	ld	hl,_bullet_count
2874  0BE2  34          	inc	(hl)
2875  0BE3  01 00 00    	ld	bc,_bullet_dir
2876  0BE6  DD 6E 04    	ld	l,(ix+4)
2877  0BE9  26 00       	ld	h,0x00
2878  0BEB  09          	add	hl,bc
2879  0BEC  DD 75 FC    	ld	(ix-4),l
2880  0BEF  DD 74 FD    	ld	(ix-3),h
2881  0BF2  36 00       	ld	(hl),0x00
2882  0BF4  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2883  0BF6  DD 86 04    	add	a,(ix+4)
2884  0BF9  4F          	ld	c, a
2885  0BFA  3E 00       	ld	a, +((_bullet_lin0) / 256)
2886  0BFC  CE 00       	adc	a,0x00
2887  0BFE  47          	ld	b, a
2888  0BFF  11 00 00    	ld	de,_lin
2889  0C02  DD 6E 04    	ld	l,(ix+4)
2890  0C05  26 00       	ld	h,0x00
2891  0C07  19          	add	hl,de
2892  0C08  DD 75 FA    	ld	(ix-6),l
2893  0C0B  DD 74 FB    	ld	(ix-5),h
2894  0C0E  7E          	ld	a, (hl)
2895  0C0F  02          	ld	(bc), a
2896  0C10  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2897  0C12  DD 86 04    	add	a,(ix+4)
2898  0C15  4F          	ld	c, a
2899  0C16  3E 00       	ld	a, +((_bullet_col0) / 256)
2900  0C18  CE 00       	adc	a,0x00
2901  0C1A  47          	ld	b, a
2902  0C1B  11 00 00    	ld	de,_col
2903  0C1E  DD 6E 04    	ld	l,(ix+4)
2904  0C21  26 00       	ld	h,0x00
2905  0C23  19          	add	hl,de
2906  0C24  DD 75 F8    	ld	(ix-8),l
2907  0C27  DD 74 F9    	ld	(ix-7),h
2908  0C2A  7E          	ld	a, (hl)
2909  0C2B  02          	ld	(bc), a
2910  0C2C  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2911  0C2E  DD 86 04    	add	a,(ix+4)
2912  0C31  DD 77 F6    	ld	(ix-10),a
2913  0C34  3E 00       	ld	a, +((_bullet_lin) / 256)
2914  0C36  CE 00       	adc	a,0x00
2915  0C38  DD 77 F7    	ld	(ix-9),a
2916  0C3B  DD 6E FA    	ld	l,(ix-6)
2917  0C3E  DD 66 FB    	ld	h,(ix-5)
2918  0C41  4E          	ld	c, (hl)
2919  0C42  DD 6E F6    	ld	l,(ix-10)
2920  0C45  DD 66 F7    	ld	h,(ix-9)
2921  0C48  71          	ld	(hl), c
2922  0C49  01 00 00    	ld	bc,_bullet_frames
2923  0C4C  DD 6E 04    	ld	l,(ix+4)
2924  0C4F  26 00       	ld	h,0x00
2925  0C51  09          	add	hl,bc
2926  0C52  DD 75 F4    	ld	(ix-12),l
2927  0C55  DD 74 F5    	ld	(ix-11),h
2928  0C58  36 02       	ld	(hl),0x02
2929  0C5A  DD 7E 04    	ld	a,(ix+4)
2930  0C5D  D6 07       	sub	a,0x07
2931  0C5F  20 04       	jr	NZ,l_game_shoot_fire_00175
2932  0C61  3E 01       	ld	a,0x01
2933  0C63  18 01       	jr	l_game_shoot_fire_00176
2934  0C65              l_game_shoot_fire_00175:
2935  0C65  AF          	xor	a,a
2936  0C66              l_game_shoot_fire_00176:
2937  0C66  DD 77 F3    	ld	(ix-13),a
2938  0C69  B7          	or	a, a
2939  0C6A  28 13       	jr	Z,l_game_shoot_fire_00102
2940  0C6C  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2941  0C6E  DD 86 04    	add	a,(ix+4)
2942  0C71  4F          	ld	c, a
2943  0C72  3E 00       	ld	a, +((_bullet_max) / 256)
2944  0C74  CE 00       	adc	a,0x00
2945  0C76  47          	ld	b, a
2946  0C77  3A 00 00    	ld	a,(_player_lvl)
2947  0C7A  C6 04       	add	a,0x04
2948  0C7C  02          	ld	(bc), a
2949  0C7D  18 0D       	jr	l_game_shoot_fire_00103
2950  0C7F              l_game_shoot_fire_00102:
2951  0C7F  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2952  0C81  DD 86 04    	add	a,(ix+4)
2953  0C84  4F          	ld	c, a
2954  0C85  3E 00       	ld	a, +((_bullet_max) / 256)
2955  0C87  CE 00       	adc	a,0x00
2956  0C89  47          	ld	b, a
2957  0C8A  AF          	xor	a, a
2958  0C8B  02          	ld	(bc), a
2959  0C8C              l_game_shoot_fire_00103:
2960  0C8C  DD 7E 05    	ld	a,(ix+5)
2961  0C8F  D6 7C       	sub	a,0x7c
2962  0C91  20 21       	jr	NZ,l_game_shoot_fire_00105
2963  0C93  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2964  0C95  DD 86 04    	add	a,(ix+4)
2965  0C98  4F          	ld	c, a
2966  0C99  3E 00       	ld	a, +((_bullet_class) / 256)
2967  0C9B  CE 00       	adc	a,0x00
2968  0C9D  47          	ld	b, a
2969  0C9E  3E 01       	ld	a,0x01
2970  0CA0  02          	ld	(bc), a
2971  0CA1  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2972  0CA3  DD 86 04    	add	a,(ix+4)
2973  0CA6  4F          	ld	c, a
2974  0CA7  3E 00       	ld	a, +((_bullet_max) / 256)
2975  0CA9  CE 00       	adc	a,0x00
2976  0CAB  47          	ld	b, a
2977  0CAC  3A 00 00    	ld	a,(_game_world)
2978  0CAF  87          	add	a, a
2979  0CB0  87          	add	a, a
2980  0CB1  C6 08       	add	a,0x08
2981  0CB3  02          	ld	(bc), a
2982  0CB4              l_game_shoot_fire_00105:
2983  0CB4  DD 7E 05    	ld	a,(ix+5)
2984  0CB7  D6 78       	sub	a,0x78
2985  0CB9  20 24       	jr	NZ,l_game_shoot_fire_00110
2986  0CBB  DD 7E F3    	ld	a,(ix-13)
2987  0CBE  B7          	or	a, a
2988  0CBF  28 10       	jr	Z,l_game_shoot_fire_00107
2989  0CC1  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2990  0CC3  DD 86 04    	add	a,(ix+4)
2991  0CC6  4F          	ld	c, a
2992  0CC7  3E 00       	ld	a, +((_bullet_class) / 256)
2993  0CC9  CE 00       	adc	a,0x00
2994  0CCB  47          	ld	b, a
2995  0CCC  3E 01       	ld	a,0x01
2996  0CCE  02          	ld	(bc), a
2997  0CCF  18 0E       	jr	l_game_shoot_fire_00110
2998  0CD1              l_game_shoot_fire_00107:
2999  0CD1  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3000  0CD3  DD 86 04    	add	a,(ix+4)
3001  0CD6  4F          	ld	c, a
3002  0CD7  3E 00       	ld	a, +((_bullet_class) / 256)
3003  0CD9  CE 00       	adc	a,0x00
3004  0CDB  47          	ld	b, a
3005  0CDC  3E 02       	ld	a,0x02
3006  0CDE  02          	ld	(bc), a
3007  0CDF              l_game_shoot_fire_00110:
3008  0CDF  DD 7E 05    	ld	a,(ix+5)
3009  0CE2  D6 80       	sub	a,0x80
3010  0CE4  20 04       	jr	NZ,l_game_shoot_fire_00181
3011  0CE6  3E 01       	ld	a,0x01
3012  0CE8  18 01       	jr	l_game_shoot_fire_00182
3013  0CEA              l_game_shoot_fire_00181:
3014  0CEA  AF          	xor	a,a
3015  0CEB              l_game_shoot_fire_00182:
3016  0CEB  DD 77 F3    	ld	(ix-13),a
3017  0CEE  B7          	or	a, a
3018  0CEF  28 35       	jr	Z,l_game_shoot_fire_00112
3019  0CF1  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3020  0CF3  DD 86 04    	add	a,(ix+4)
3021  0CF6  4F          	ld	c, a
3022  0CF7  3E 00       	ld	a, +((_bullet_class) / 256)
3023  0CF9  CE 00       	adc	a,0x00
3024  0CFB  47          	ld	b, a
3025  0CFC  3E 04       	ld	a,0x04
3026  0CFE  02          	ld	(bc), a
3027  0CFF  DD 6E FA    	ld	l,(ix-6)
3028  0D02  DD 66 FB    	ld	h,(ix-5)
3029  0D05  7E          	ld	a, (hl)
3030  0D06  C6 FC       	add	a,0xfc
3031  0D08  DD 6E F6    	ld	l,(ix-10)
3032  0D0B  DD 66 F7    	ld	h,(ix-9)
3033  0D0E  77          	ld	(hl), a
3034  0D0F  DD 6E F4    	ld	l,(ix-12)
3035  0D12  DD 66 F5    	ld	h,(ix-11)
3036  0D15  36 04       	ld	(hl),0x04
3037  0D17  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3038  0D19  DD 86 04    	add	a,(ix+4)
3039  0D1C  4F          	ld	c, a
3040  0D1D  3E 00       	ld	a, +((_bullet_vel) / 256)
3041  0D1F  CE 00       	adc	a,0x00
3042  0D21  47          	ld	b, a
3043  0D22  3A 00 00    	ld	a,(_player_vel_y0)
3044  0D25  02          	ld	(bc), a
3045  0D26              l_game_shoot_fire_00112:
3046  0D26  3A 00 00    	ld	a,(_s_state)
3047  0D29  E6 08       	and	a,0x08
3048  0D2B  4F          	ld	c, a
3049  0D2C  3A 00 00    	ld	a,(_sprite)
3050  0D2F  D6 07       	sub	a,0x07
3051  0D31  20 06       	jr	NZ,l_game_shoot_fire_00114
3052  0D33  3A 07 00    	ld	a,(_state_a + 0x0007)
3053  0D36  E6 08       	and	a,0x08
3054  0D38  4F          	ld	c, a
3055  0D39              l_game_shoot_fire_00114:
3056  0D39  DD 6E F8    	ld	l,(ix-8)
3057  0D3C  DD 66 F9    	ld	h,(ix-7)
3058  0D3F  46          	ld	b, (hl)
3059  0D40  DD 6E FA    	ld	l,(ix-6)
3060  0D43  DD 66 FB    	ld	h,(ix-5)
3061  0D46  7E          	ld	a, (hl)
3062  0D47  C5          	push	bc
3063  0D48  4F          	ld	c,a
3064  0D49  C5          	push	bc
3065  0D4A  CD 00 00    	call	_spr_calc_index
3066  0D4D  F1          	pop	af
3067  0D4E  EB          	ex	de,hl
3068  0D4F  C1          	pop	bc
3069  0D50  ED 53 00 00 	ld	(_index1),de
3070  0D54  DD 6E F8    	ld	l,(ix-8)
3071  0D57  DD 66 F9    	ld	h,(ix-7)
3072  0D5A  7E          	ld	a, (hl)
3073  0D5B  DD 77 F4    	ld	(ix-12),a
3074  0D5E  79          	ld	a, c
3075  0D5F  B7          	or	a, a
3076  0D60  28 60       	jr	Z,l_game_shoot_fire_00123
3077  0D62  DD 7E F4    	ld	a,(ix-12)
3078  0D65  D6 01       	sub	a,0x01
3079  0D67  30 05       	jr	NC,l_game_shoot_fire_00116
3080  0D69  2E 01       	ld	l,0x01
3081  0D6B  C3 FE 0D    	jp	l_game_shoot_fire_00127
3082  0D6E              l_game_shoot_fire_00116:
3083  0D6E  DD 6E FE    	ld	l,(ix-2)
3084  0D71  DD 66 FF    	ld	h,(ix-1)
3085  0D74  DD 7E F4    	ld	a,(ix-12)
3086  0D77  77          	ld	(hl), a
3087  0D78  DD 7E F3    	ld	a,(ix-13)
3088  0D7B  B7          	or	a, a
3089  0D7C  20 1D       	jr	NZ,l_game_shoot_fire_00118
3090  0D7E  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3091  0D80  DD 86 04    	add	a,(ix+4)
3092  0D83  DD 77 F6    	ld	(ix-10),a
3093  0D86  3E 00       	ld	a, +((_bullet_tile) / 256)
3094  0D88  CE 00       	adc	a,0x00
3095  0D8A  DD 77 F7    	ld	(ix-9),a
3096  0D8D  DD 4E 05    	ld	c,(ix+5)
3097  0D90  0C          	inc	c
3098  0D91  0C          	inc	c
3099  0D92  DD 6E F6    	ld	l,(ix-10)
3100  0D95  DD 66 F7    	ld	h,(ix-9)
3101  0D98  71          	ld	(hl), c
3102  0D99  18 0F       	jr	l_game_shoot_fire_00119
3103  0D9B              l_game_shoot_fire_00118:
3104  0D9B  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3105  0D9D  DD 86 04    	add	a,(ix+4)
3106  0DA0  4F          	ld	c, a
3107  0DA1  3E 00       	ld	a, +((_bullet_tile) / 256)
3108  0DA3  CE 00       	adc	a,0x00
3109  0DA5  47          	ld	b, a
3110  0DA6  DD 7E 05    	ld	a,(ix+5)
3111  0DA9  02          	ld	(bc), a
3112  0DAA              l_game_shoot_fire_00119:
3113  0DAA  DD 6E FC    	ld	l,(ix-4)
3114  0DAD  DD 66 FD    	ld	h,(ix-3)
3115  0DB0  36 01       	ld	(hl),0x01
3116  0DB2  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3117  0DB4  DD 86 04    	add	a,(ix+4)
3118  0DB7  4F          	ld	c, a
3119  0DB8  3E 00       	ld	a, +((_bullet_colint) / 256)
3120  0DBA  CE 00       	adc	a,0x00
3121  0DBC  47          	ld	b, a
3122  0DBD  3E 02       	ld	a,0x02
3123  0DBF  02          	ld	(bc), a
3124  0DC0  18 3A       	jr	l_game_shoot_fire_00126
3125  0DC2              l_game_shoot_fire_00123:
3126  0DC2  3E 1D       	ld	a,0x1d
3127  0DC4  DD 96 F4    	sub	a,(ix-12)
3128  0DC7  30 04       	jr	NC,l_game_shoot_fire_00121
3129  0DC9  2E 01       	ld	l,0x01
3130  0DCB  18 31       	jr	l_game_shoot_fire_00127
3131  0DCD              l_game_shoot_fire_00121:
3132  0DCD  DD 6E FE    	ld	l,(ix-2)
3133  0DD0  DD 66 FF    	ld	h,(ix-1)
3134  0DD3  DD 7E F4    	ld	a,(ix-12)
3135  0DD6  77          	ld	(hl), a
3136  0DD7  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3137  0DD9  DD 86 04    	add	a,(ix+4)
3138  0DDC  4F          	ld	c, a
3139  0DDD  3E 00       	ld	a, +((_bullet_tile) / 256)
3140  0DDF  CE 00       	adc	a,0x00
3141  0DE1  47          	ld	b, a
3142  0DE2  DD 7E 05    	ld	a,(ix+5)
3143  0DE5  02          	ld	(bc), a
3144  0DE6  DD 6E FC    	ld	l,(ix-4)
3145  0DE9  DD 66 FD    	ld	h,(ix-3)
3146  0DEC  36 FF       	ld	(hl),0xff
3147  0DEE  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3148  0DF0  DD 86 04    	add	a,(ix+4)
3149  0DF3  4F          	ld	c, a
3150  0DF4  3E 00       	ld	a, +((_bullet_colint) / 256)
3151  0DF6  CE 00       	adc	a,0x00
3152  0DF8  47          	ld	b, a
3153  0DF9  3E FF       	ld	a,0xff
3154  0DFB  02          	ld	(bc), a
3155  0DFC              l_game_shoot_fire_00126:
3156  0DFC  2E 00       	ld	l,0x00
3157  0DFE              l_game_shoot_fire_00127:
3158  0DFE  DD F9       	ld	sp, ix
3159  0E00  DD E1       	pop	ix
3160  0E02  C9          	ret
3161  0E03              	SECTION code_compiler
3162  0E03              ;	---------------------------------
3163  0E03              ; Function game_shoot_fire_boss
3164  0E03              ; ---------------------------------
3165  0E03              _game_shoot_fire_boss:
3166  0E03  CD 00 00    	call	___sdcc_enter_ix
3167  0E06  F5          	push	af
3168  0E07  F5          	push	af
3169  0E08  01 00 00    	ld	bc,_bullet_col+0
3170  0E0B  1E 00       	ld	e,0x00
3171  0E0D              l_game_shoot_fire_boss_00103:
3172  0E0D  7B          	ld	a, e
3173  0E0E  D6 07       	sub	a,0x07
3174  0E10  30 0B       	jr	NC,l_game_shoot_fire_boss_00132
3175  0E12  6B          	ld	l,e
3176  0E13  26 00       	ld	h,0x00
3177  0E15  09          	add	hl, bc
3178  0E16  56          	ld	d, (hl)
3179  0E17  14          	inc	d
3180  0E18  28 03       	jr	Z,l_game_shoot_fire_boss_00132
3181  0E1A  1C          	inc	e
3182  0E1B  18 F0       	jr	l_game_shoot_fire_boss_00103
3183  0E1D              l_game_shoot_fire_boss_00132:
3184  0E1D  7B          	ld	a,e
3185  0E1E  57          	ld	d,a
3186  0E1F  D6 07       	sub	a,0x07
3187  0E21  20 04       	jr	NZ,l_game_shoot_fire_boss_00107
3188  0E23  6F          	ld	l,a
3189  0E24  C3 63 0F    	jp	l_game_shoot_fire_boss_00121
3190  0E27              l_game_shoot_fire_boss_00107:
3191  0E27  21 00 00    	ld	hl,_bullet_count
3192  0E2A  34          	inc	(hl)
3193  0E2B  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3194  0E2D  83          	add	a, e
3195  0E2E  DD 77 FE    	ld	(ix-2),a
3196  0E31  6F          	ld	l,a
3197  0E32  3E 00       	ld	a,+((_bullet_dir) / 256)
3198  0E34  CE 00       	adc	a,0x00
3199  0E36  DD 77 FF    	ld	(ix-1),a
3200  0E39  67          	ld	h,a
3201  0E3A  36 00       	ld	(hl),0x00
3202  0E3C  3A 00 00    	ld	a,(_game_world)
3203  0E3F  3D          	dec	a
3204  0E40  28 22       	jr	Z,l_game_shoot_fire_boss_00112
3205  0E42  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3206  0E44  83          	add	a, e
3207  0E45  DD 77 FC    	ld	(ix-4),a
3208  0E48  3E 00       	ld	a, +((_bullet_lin0) / 256)
3209  0E4A  CE 00       	adc	a,0x00
3210  0E4C  DD 77 FD    	ld	(ix-3),a
3211  0E4F  3A 00 00    	ld	a,(_boss_lin)
3212  0E52  C6 10       	add	a,0x10
3213  0E54  E1          	pop	hl
3214  0E55  E5          	push	hl
3215  0E56  77          	ld	(hl), a
3216  0E57  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3217  0E59  83          	add	a, e
3218  0E5A  6F          	ld	l, a
3219  0E5B  3E 00       	ld	a, +((_bullet_class) / 256)
3220  0E5D  CE 00       	adc	a,0x00
3221  0E5F  67          	ld	h, a
3222  0E60  36 02       	ld	(hl),0x02
3223  0E62  18 3D       	jr	l_game_shoot_fire_boss_00113
3224  0E64              l_game_shoot_fire_boss_00112:
3225  0E64  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3226  0E66  83          	add	a, e
3227  0E67  6F          	ld	l, a
3228  0E68  3E 00       	ld	a, +((_bullet_class) / 256)
3229  0E6A  CE 00       	adc	a,0x00
3230  0E6C  67          	ld	h, a
3231  0E6D  36 05       	ld	(hl),0x05
3232  0E6F  3A 00 00    	ld	a,(_tmp0)
3233  0E72  B7          	or	a, a
3234  0E73  20 17       	jr	NZ,l_game_shoot_fire_boss_00109
3235  0E75  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3236  0E77  83          	add	a, e
3237  0E78  DD 77 FC    	ld	(ix-4),a
3238  0E7B  3E 00       	ld	a, +((_bullet_lin0) / 256)
3239  0E7D  CE 00       	adc	a,0x00
3240  0E7F  DD 77 FD    	ld	(ix-3),a
3241  0E82  3A 00 00    	ld	a,(_boss_lin)
3242  0E85  C6 F8       	add	a,0xf8
3243  0E87  E1          	pop	hl
3244  0E88  E5          	push	hl
3245  0E89  77          	ld	(hl), a
3246  0E8A  18 15       	jr	l_game_shoot_fire_boss_00113
3247  0E8C              l_game_shoot_fire_boss_00109:
3248  0E8C  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3249  0E8E  83          	add	a, e
3250  0E8F  DD 77 FC    	ld	(ix-4),a
3251  0E92  3E 00       	ld	a, +((_bullet_lin0) / 256)
3252  0E94  CE 00       	adc	a,0x00
3253  0E96  DD 77 FD    	ld	(ix-3),a
3254  0E99  3A 00 00    	ld	a,(_boss_lin)
3255  0E9C  C6 18       	add	a,0x18
3256  0E9E  E1          	pop	hl
3257  0E9F  E5          	push	hl
3258  0EA0  77          	ld	(hl), a
3259  0EA1              l_game_shoot_fire_boss_00113:
3260  0EA1  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3261  0EA3  82          	add	a, d
3262  0EA4  DD 77 FC    	ld	(ix-4),a
3263  0EA7  3E 00       	ld	a, +((_bullet_col0) / 256)
3264  0EA9  CE 00       	adc	a,0x00
3265  0EAB  DD 77 FD    	ld	(ix-3),a
3266  0EAE  E1          	pop	hl
3267  0EAF  3A 00 00    	ld	a,(_boss_col)
3268  0EB2  E5          	push	hl
3269  0EB3  77          	ld	(hl),a
3270  0EB4  79          	ld	a, c
3271  0EB5  82          	add	a, d
3272  0EB6  DD 77 FC    	ld	(ix-4),a
3273  0EB9  78          	ld	a, b
3274  0EBA  CE 00       	adc	a,0x00
3275  0EBC  DD 77 FD    	ld	(ix-3),a
3276  0EBF  E1          	pop	hl
3277  0EC0  3A 00 00    	ld	a,(_boss_col)
3278  0EC3  E5          	push	hl
3279  0EC4  77          	ld	(hl),a
3280  0EC5  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3281  0EC7  82          	add	a, d
3282  0EC8  4F          	ld	c, a
3283  0EC9  3E 00       	ld	a, +((_bullet_lin) / 256)
3284  0ECB  CE 00       	adc	a,0x00
3285  0ECD  47          	ld	b, a
3286  0ECE  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3287  0ED0  82          	add	a, d
3288  0ED1  6F          	ld	l, a
3289  0ED2  3E 00       	ld	a, +((_bullet_lin0) / 256)
3290  0ED4  CE 00       	adc	a,0x00
3291  0ED6  67          	ld	h, a
3292  0ED7  7E          	ld	a, (hl)
3293  0ED8  02          	ld	(bc), a
3294  0ED9  01 00 00    	ld	bc,_bullet_frames+0
3295  0EDC  6A          	ld	l,d
3296  0EDD  26 00       	ld	h,0x00
3297  0EDF  09          	add	hl, bc
3298  0EE0  36 02       	ld	(hl),0x02
3299  0EE2  01 00 00    	ld	bc,_bullet_max+0
3300  0EE5  6A          	ld	l,d
3301  0EE6  26 00       	ld	h,0x00
3302  0EE8  09          	add	hl, bc
3303  0EE9  36 08       	ld	(hl),0x08
3304  0EEB  3A 00 00    	ld	a,(_boss_col)
3305  0EEE  D5          	push	de
3306  0EEF  F5          	push	af
3307  0EF0  33          	inc	sp
3308  0EF1  3A 00 00    	ld	a,(_boss_lin)
3309  0EF4  F5          	push	af
3310  0EF5  33          	inc	sp
3311  0EF6  CD 00 00    	call	_spr_calc_index
3312  0EF9  F1          	pop	af
3313  0EFA  D1          	pop	de
3314  0EFB  22 00 00    	ld	(_index1),hl
3315  0EFE  DD 7E 05    	ld	a,(ix+5)
3316  0F01  B7          	or	a, a
3317  0F02  28 2D       	jr	Z,l_game_shoot_fire_boss_00119
3318  0F04  3A 00 00    	ld	a,(_boss_col)
3319  0F07  D6 01       	sub	a,0x01
3320  0F09  30 04       	jr	NC,l_game_shoot_fire_boss_00115
3321  0F0B  2E 01       	ld	l,0x01
3322  0F0D  18 54       	jr	l_game_shoot_fire_boss_00121
3323  0F0F              l_game_shoot_fire_boss_00115:
3324  0F0F  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3325  0F11  82          	add	a, d
3326  0F12  4F          	ld	c, a
3327  0F13  3E 00       	ld	a, +((_bullet_tile) / 256)
3328  0F15  CE 00       	adc	a,0x00
3329  0F17  47          	ld	b, a
3330  0F18  DD 7E 04    	ld	a,(ix+4)
3331  0F1B  C6 02       	add	a,0x02
3332  0F1D  02          	ld	(bc), a
3333  0F1E  DD 6E FE    	ld	l,(ix-2)
3334  0F21  DD 66 FF    	ld	h,(ix-1)
3335  0F24  36 01       	ld	(hl),0x01
3336  0F26  01 00 00    	ld	bc,_bullet_colint+0
3337  0F29  6A          	ld	l,d
3338  0F2A  26 00       	ld	h,0x00
3339  0F2C  09          	add	hl, bc
3340  0F2D  36 02       	ld	(hl),0x02
3341  0F2F  18 30       	jr	l_game_shoot_fire_boss_00120
3342  0F31              l_game_shoot_fire_boss_00119:
3343  0F31  3E 1D       	ld	a,0x1d
3344  0F33  21 00 00    	ld	hl,_boss_col
3345  0F36  96          	sub	a, (hl)
3346  0F37  30 04       	jr	NC,l_game_shoot_fire_boss_00117
3347  0F39  2E 01       	ld	l,0x01
3348  0F3B  18 26       	jr	l_game_shoot_fire_boss_00121
3349  0F3D              l_game_shoot_fire_boss_00117:
3350  0F3D  E1          	pop	hl
3351  0F3E  3A 00 00    	ld	a,(_boss_col)
3352  0F41  E5          	push	hl
3353  0F42  77          	ld	(hl),a
3354  0F43  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3355  0F45  82          	add	a, d
3356  0F46  4F          	ld	c, a
3357  0F47  3E 00       	ld	a, +((_bullet_tile) / 256)
3358  0F49  CE 00       	adc	a,0x00
3359  0F4B  47          	ld	b, a
3360  0F4C  DD 7E 04    	ld	a,(ix+4)
3361  0F4F  02          	ld	(bc), a
3362  0F50  DD 6E FE    	ld	l,(ix-2)
3363  0F53  DD 66 FF    	ld	h,(ix-1)
3364  0F56  36 FF       	ld	(hl),0xff
3365  0F58  01 00 00    	ld	bc,_bullet_colint+0
3366  0F5B  6A          	ld	l,d
3367  0F5C  26 00       	ld	h,0x00
3368  0F5E  09          	add	hl, bc
3369  0F5F  36 FF       	ld	(hl),0xff
3370  0F61              l_game_shoot_fire_boss_00120:
3371  0F61  2E 00       	ld	l,0x00
3372  0F63              l_game_shoot_fire_boss_00121:
3373  0F63  DD F9       	ld	sp, ix
3374  0F65  DD E1       	pop	ix
3375  0F67  C9          	ret
3376  0F68              	SECTION code_compiler
3377  0F68              ;	---------------------------------
3378  0F68              ; Function game_obj_set
3379  0F68              ; ---------------------------------
3380  0F68              _game_obj_set:
3381  0F68  3A 00 00    	ld	a,(_scr_curr)
3382  0F6B  D6 08       	sub	a,0x08
3383  0F6D  4D          	ld	c,l
3384  0F6E  44          	ld	b,h
3385  0F6F  30 19       	jr	NC,l_game_obj_set_00102
3386  0F71  21 00 00    	ld	hl,_scr_obj0
3387  0F74  09          	add	hl,bc
3388  0F75  5E          	ld	e,(hl)
3389  0F76  3A 00 00    	ld	a,(_scr_curr)
3390  0F79  3C          	inc	a
3391  0F7A  16 01       	ld	d,0x01
3392  0F7C  4D          	ld	c,l
3393  0F7D  44          	ld	b,h
3394  0F7E  18 02       	jr	l_game_obj_set_00111
3395  0F80              l_game_obj_set_00110:
3396  0F80  CB 22       	sla	d
3397  0F82              l_game_obj_set_00111:
3398  0F82  3D          	dec	a
3399  0F83  20 FB       	jr	NZ,l_game_obj_set_00110
3400  0F85  7B          	ld	a, e
3401  0F86  B2          	or	a, d
3402  0F87  02          	ld	(bc), a
3403  0F88  18 18       	jr	l_game_obj_set_00104
3404  0F8A              l_game_obj_set_00102:
3405  0F8A  3A 00 00    	ld	a,(_scr_curr)
3406  0F8D  C6 F8       	add	a,0xf8
3407  0F8F  5F          	ld	e, a
3408  0F90  21 00 00    	ld	hl,_scr_obj1
3409  0F93  09          	add	hl, bc
3410  0F94  4E          	ld	c, (hl)
3411  0F95  43          	ld	b, e
3412  0F96  1E 01       	ld	e,0x01
3413  0F98  04          	inc	b
3414  0F99  18 02       	jr	l_game_obj_set_00113
3415  0F9B              l_game_obj_set_00112:
3416  0F9B  CB 23       	sla	e
3417  0F9D              l_game_obj_set_00113:
3418  0F9D  10 FC       	djnz	l_game_obj_set_00112
3419  0F9F  79          	ld	a, c
3420  0FA0  B3          	or	a, e
3421  0FA1  77          	ld	(hl), a
3422  0FA2              l_game_obj_set_00104:
3423  0FA2  C9          	ret
3424  0FA3              	SECTION code_compiler
3425  0FA3              ;	---------------------------------
3426  0FA3              ; Function game_obj_chk
3427  0FA3              ; ---------------------------------
3428  0FA3              _game_obj_chk:
3429  0FA3  3A 00 00    	ld	a,(_scr_curr)
3430  0FA6  D6 08       	sub	a,0x08
3431  0FA8  4D          	ld	c,l
3432  0FA9  44          	ld	b,h
3433  0FAA  30 17       	jr	NC,l_game_obj_chk_00102
3434  0FAC  21 00 00    	ld	hl,_scr_obj0
3435  0FAF  09          	add	hl, bc
3436  0FB0  4E          	ld	c, (hl)
3437  0FB1  21 00 00    	ld	hl,_scr_curr
3438  0FB4  46          	ld	b, (hl)
3439  0FB5  1E 01       	ld	e,0x01
3440  0FB7  04          	inc	b
3441  0FB8  18 02       	jr	l_game_obj_chk_00111
3442  0FBA              l_game_obj_chk_00110:
3443  0FBA  CB 23       	sla	e
3444  0FBC              l_game_obj_chk_00111:
3445  0FBC  10 FC       	djnz	l_game_obj_chk_00110
3446  0FBE  79          	ld	a, c
3447  0FBF  A3          	and	a, e
3448  0FC0  6F          	ld	l, a
3449  0FC1  18 18       	jr	l_game_obj_chk_00104
3450  0FC3              l_game_obj_chk_00102:
3451  0FC3  3A 00 00    	ld	a,(_scr_curr)
3452  0FC6  C6 F8       	add	a,0xf8
3453  0FC8  5F          	ld	e, a
3454  0FC9  21 00 00    	ld	hl,_scr_obj1
3455  0FCC  09          	add	hl, bc
3456  0FCD  4E          	ld	c, (hl)
3457  0FCE  43          	ld	b, e
3458  0FCF  1E 01       	ld	e,0x01
3459  0FD1  04          	inc	b
3460  0FD2  18 02       	jr	l_game_obj_chk_00113
3461  0FD4              l_game_obj_chk_00112:
3462  0FD4  CB 23       	sla	e
3463  0FD6              l_game_obj_chk_00113:
3464  0FD6  10 FC       	djnz	l_game_obj_chk_00112
3465  0FD8  79          	ld	a, c
3466  0FD9  A3          	and	a, e
3467  0FDA  6F          	ld	l, a
3468  0FDB              l_game_obj_chk_00104:
3469  0FDB  C9          	ret
3470  0FDC              	SECTION code_compiler
3471  0FDC              ;	---------------------------------
3472  0FDC              ; Function game_obj_clear
3473  0FDC              ; ---------------------------------
3474  0FDC              _game_obj_clear:
3475  0FDC  21 00 00    	ld	hl,_tmp
3476  0FDF  36 00       	ld	(hl),0x00
3477  0FE1              l_game_obj_clear_00105:
3478  0FE1  2A 00 00    	ld	hl,(_tmp)
3479  0FE4  26 00       	ld	h,0x00
3480  0FE6  01 00 00    	ld	bc,_scr_obj0
3481  0FE9  09          	add	hl,bc
3482  0FEA  AF          	xor	a,a
3483  0FEB  77          	ld	(hl),a
3484  0FEC  2A 00 00    	ld	hl,(_tmp)
3485  0FEF  26 00       	ld	h,0x00
3486  0FF1  01 00 00    	ld	bc,_scr_obj1
3487  0FF4  09          	add	hl,bc
3488  0FF5  AF          	xor	a,a
3489  0FF6  77          	ld	(hl),a
3490  0FF7  21 00 00    	ld	hl,_tmp
3491  0FFA  7E          	ld	a,(hl)
3492  0FFB  3C          	inc	a
3493  0FFC  77          	ld	(hl),a
3494  0FFD  D6 A0       	sub	a,0xa0
3495  0FFF  38 E0       	jr	C,l_game_obj_clear_00105
3496  1001  3A 00 00    	ld	a,(_game_god_mode)
3497  1004  B7          	or	a, a
3498  1005  28 07       	jr	Z,l_game_obj_clear_00103
3499  1007  21 00 00    	ld	hl,_tmp
3500  100A  36 01       	ld	(hl),0x01
3501  100C  18 05       	jr	l_game_obj_clear_00104
3502  100E              l_game_obj_clear_00103:
3503  100E  21 00 00    	ld	hl,_tmp
3504  1011  36 00       	ld	(hl),0x00
3505  1013              l_game_obj_clear_00104:
3506  1013  3A 00 00    	ld	a,(_tmp)
3507  1016  32 00 00    	ld	(_player_keys),a
3508  1019  32 01 00    	ld	((_player_keys + 0x0001)),a
3509  101C  3A 00 00    	ld	a,(_tmp)
3510  101F  32 02 00    	ld	((_player_keys + 0x0002)),a
3511  1022  32 03 00    	ld	((_player_keys + 0x0003)),a
3512  1025  C9          	ret
3513  1026              	SECTION code_compiler
3514  1026              ;	---------------------------------
3515  1026              ; Function game_boss_clear
3516  1026              ; ---------------------------------
3517  1026              _game_boss_clear:
3518  1026  CD 00 00    	call	___sdcc_enter_ix
3519  1029  F5          	push	af
3520  102A  F5          	push	af
3521  102B  3A 00 00    	ld	a,(_game_world)
3522  102E  B7          	or	a, a
3523  102F  20 3C       	jr	NZ,l_game_boss_clear_00108
3524  1031  21 00 00    	ld	hl,0x0000
3525  1034  E3          	ex	(sp), hl
3526  1035              l_game_boss_clear_00106:
3527  1035  DD 6E FC    	ld	l,(ix-4)
3528  1038  DD 66 FD    	ld	h,(ix-3)
3529  103B  01 00 00    	ld	bc,_scr_map
3530  103E  09          	add	hl,bc
3531  103F  DD 75 FE    	ld	(ix-2),l
3532  1042  DD 74 FF    	ld	(ix-1),h
3533  1045  7E          	ld	a, (hl)
3534  1046  D6 37       	sub	a,0x37
3535  1048  20 0F       	jr	NZ,l_game_boss_clear_00107
3536  104A  DD 6E FE    	ld	l,(ix-2)
3537  104D  DD 66 FF    	ld	h,(ix-1)
3538  1050  36 00       	ld	(hl),0x00
3539  1052  21 00 00    	ld	hl,0x0000
3540  1055  39          	add	hl, sp
3541  1056  CD 00 00    	call	_spr_draw_index
3542  1059              l_game_boss_clear_00107:
3543  1059  DD 34 FC    	inc	(ix-4)
3544  105C  20 03       	jr	NZ,l_game_boss_clear_00124
3545  105E  DD 34 FD    	inc	(ix-3)
3546  1061              l_game_boss_clear_00124:
3547  1061  DD 7E FC    	ld	a,(ix-4)
3548  1064  D6 A0       	sub	a,0xa0
3549  1066  DD 7E FD    	ld	a,(ix-3)
3550  1069  DE 00       	sbc	a,0x00
3551  106B  38 C8       	jr	C,l_game_boss_clear_00106
3552  106D              l_game_boss_clear_00108:
3553  106D  DD F9       	ld	sp, ix
3554  106F  DD E1       	pop	ix
3555  1071  C9          	ret
3556  1072              	SECTION code_compiler
3557  1072              ;	---------------------------------
3558  1072              ; Function game_rotate_attrib
3559  1072              ; ---------------------------------
3560  1072              _game_rotate_attrib:
3561  1072  01 03 00    	ld	bc,_attrib_hl + 3
3562  1075  0A          	ld	a, (bc)
3563  1076  32 00 00    	ld	(_tmp_uc),a
3564  1079  11 02 00    	ld	de,_attrib_hl + 2
3565  107C  1A          	ld	a, (de)
3566  107D  02          	ld	(bc), a
3567  107E  01 01 00    	ld	bc,_attrib_hl + 1
3568  1081  0A          	ld	a, (bc)
3569  1082  12          	ld	(de), a
3570  1083  3A 00 00    	ld	a,(_attrib_hl)
3571  1086  02          	ld	(bc), a
3572  1087  3A 00 00    	ld	a,(_tmp_uc)
3573  108A  32 00 00    	ld	(_attrib_hl),a
3574  108D  C9          	ret
3575  108E              	SECTION code_compiler
3576  108E              ;	---------------------------------
3577  108E              ; Function game_rotate_attrib_osd
3578  108E              ; ---------------------------------
3579  108E              _game_rotate_attrib_osd:
3580  108E  01 03 00    	ld	bc,_attrib_osd + 3
3581  1091  0A          	ld	a, (bc)
3582  1092  32 00 00    	ld	(_tmp_uc),a
3583  1095  11 02 00    	ld	de,_attrib_osd + 2
3584  1098  1A          	ld	a, (de)
3585  1099  02          	ld	(bc), a
3586  109A  01 01 00    	ld	bc,_attrib_osd + 1
3587  109D  0A          	ld	a, (bc)
3588  109E  12          	ld	(de), a
3589  109F  3A 00 00    	ld	a,(_attrib_osd)
3590  10A2  02          	ld	(bc), a
3591  10A3  3A 00 00    	ld	a,(_tmp_uc)
3592  10A6  32 00 00    	ld	(_attrib_osd),a
3593  10A9  C9          	ret
3594  10AA              	SECTION code_compiler
3595  10AA              ;	---------------------------------
3596  10AA              ; Function game_attribs
3597  10AA              ; ---------------------------------
3598  10AA              _game_attribs:
3599  10AA  01 00 00    	ld	bc,_attrib+0
3600  10AD  21 00 00    	ld	hl,_map_paper
3601  10B0  7E          	ld	a, (hl)
3602  10B1  F6 47       	or	a,0x47
3603  10B3  02          	ld	(bc), a
3604  10B4  59          	ld	e, c
3605  10B5  50          	ld	d, b
3606  10B6  13          	inc	de
3607  10B7  7E          	ld	a, (hl)
3608  10B8  F6 45       	or	a,0x45
3609  10BA  12          	ld	(de), a
3610  10BB  7E          	ld	a, (hl)
3611  10BC  F6 45       	or	a,0x45
3612  10BE  32 02 00    	ld	((_attrib + 0x0002)),a
3613  10C1  03          	inc	bc
3614  10C2  03          	inc	bc
3615  10C3  03          	inc	bc
3616  10C4  21 00 00    	ld	hl,_map_paper
3617  10C7  7E          	ld	a, (hl)
3618  10C8  F6 41       	or	a,0x41
3619  10CA  02          	ld	(bc), a
3620  10CB  01 00 00    	ld	bc,_attrib_hl+0
3621  10CE  7E          	ld	a, (hl)
3622  10CF  F6 41       	or	a,0x41
3623  10D1  02          	ld	(bc), a
3624  10D2  59          	ld	e, c
3625  10D3  50          	ld	d, b
3626  10D4  13          	inc	de
3627  10D5  7E          	ld	a, (hl)
3628  10D6  F6 41       	or	a,0x41
3629  10D8  12          	ld	(de), a
3630  10D9  7E          	ld	a, (hl)
3631  10DA  F6 43       	or	a,0x43
3632  10DC  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3633  10DF  03          	inc	bc
3634  10E0  03          	inc	bc
3635  10E1  03          	inc	bc
3636  10E2  21 00 00    	ld	hl,_map_paper
3637  10E5  7E          	ld	a, (hl)
3638  10E6  F6 45       	or	a,0x45
3639  10E8  02          	ld	(bc), a
3640  10E9  01 00 00    	ld	bc,_attrib_osd+0
3641  10EC  7E          	ld	a, (hl)
3642  10ED  F6 45       	or	a,0x45
3643  10EF  02          	ld	(bc), a
3644  10F0  59          	ld	e, c
3645  10F1  50          	ld	d, b
3646  10F2  13          	inc	de
3647  10F3  7E          	ld	a, (hl)
3648  10F4  F6 47       	or	a,0x47
3649  10F6  12          	ld	(de), a
3650  10F7  7E          	ld	a, (hl)
3651  10F8  F6 47       	or	a,0x47
3652  10FA  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3653  10FD  03          	inc	bc
3654  10FE  03          	inc	bc
3655  10FF  03          	inc	bc
3656  1100  3A 00 00    	ld	a,(_map_paper)
3657  1103  F6 45       	or	a,0x45
3658  1105  02          	ld	(bc), a
3659  1106  C9          	ret
3660  1107              	SECTION code_compiler
3661  1107              ;	---------------------------------
3662  1107              ; Function game_match_back
3663  1107              ; ---------------------------------
3664  1107              _game_match_back:
3665  1107  3E 01       	ld	a,0x01
3666  1109  BD          	cp	a,l
3667  110A  3E 00       	ld	a,0x00
3668  110C  9C          	sbc	a,h
3669  110D  30 27       	jr	NC,l_game_match_back_00108
3670  110F  7D          	ld	a,l
3671  1110  E6 0F       	and	a,0x0f
3672  1112  28 22       	jr	Z,l_game_match_back_00108
3673  1114  01 FF FF    	ld	bc,_scr_map-1
3674  1117  09          	add	hl,bc
3675  1118  4E          	ld	c, (hl)
3676  1119  41          	ld	b, c
3677  111A  78          	ld	a, b
3678  111B  D6 1D       	sub	a,0x1d
3679  111D  28 05       	jr	Z,l_game_match_back_00101
3680  111F  79          	ld	a, c
3681  1120  D6 1D       	sub	a,0x1d
3682  1122  20 04       	jr	NZ,l_game_match_back_00102
3683  1124              l_game_match_back_00101:
3684  1124  2E 1D       	ld	l,0x1d
3685  1126  18 10       	jr	l_game_match_back_00110
3686  1128              l_game_match_back_00102:
3687  1128  78          	ld	a, b
3688  1129  D6 18       	sub	a,0x18
3689  112B  28 05       	jr	Z,l_game_match_back_00104
3690  112D  79          	ld	a, c
3691  112E  D6 18       	sub	a,0x18
3692  1130  20 04       	jr	NZ,l_game_match_back_00108
3693  1132              l_game_match_back_00104:
3694  1132  2E 18       	ld	l,0x18
3695  1134  18 02       	jr	l_game_match_back_00110
3696  1136              l_game_match_back_00108:
3697  1136  2E 00       	ld	l,0x00
3698  1138              l_game_match_back_00110:
3699  1138  C9          	ret
3700  1139              	SECTION code_compiler
3701  1139              ;	---------------------------------
3702  1139              ; Function menu_main
3703  1139              ; ---------------------------------
3704  1139              _menu_main:
3705  1139  CD 00 00    	call	___sdcc_enter_ix
3706  113C  F5          	push	af
3707  113D  3B          	dec	sp
3708  113E  DD 36 FE 01 	ld	(ix-2),0x01
3709  1142  21 00 00    	ld	hl,_map_paper
3710  1145  36 00       	ld	(hl),0x00
3711  1147  DD 36 FF 01 	ld	(ix-1),0x01
3712  114B  21 0A 16    	ld	hl,0x160a
3713  114E  E5          	push	hl
3714  114F  3E 07       	ld	a,0x07
3715  1151  F5          	push	af
3716  1152  33          	inc	sp
3717  1153  CD 66 12    	call	_menu_main_print
3718  1156  F1          	pop	af
3719  1157  33          	inc	sp
3720  1158              l_menu_main_00112:
3721  1158  DD 7E FE    	ld	a,(ix-2)
3722  115B  B7          	or	a, a
3723  115C  CA 61 12    	jp	Z, l_menu_main_00115
3724  115F  21 28 00    	ld	hl,0x0028
3725  1162  CD 00 00    	call	_z80_delay_ms_fastcall
3726  1165  CD 00 00    	call	_in_inkey
3727  1168  E5          	push	hl
3728  1169  CD 72 10    	call	_game_rotate_attrib
3729  116C  C1          	pop	bc
3730  116D  DD 7E FF    	ld	a,(ix-1)
3731  1170  C6 06       	add	a,0x06
3732  1172  DD 77 FD    	ld	(ix-3),a
3733  1175  07          	rlca
3734  1176  07          	rlca
3735  1177  07          	rlca
3736  1178  E6 F8       	and	a,0xf8
3737  117A  C6 08       	add	a,0x08
3738  117C  47          	ld	b, a
3739  117D  C5          	push	bc
3740  117E  C5          	push	bc
3741  117F  33          	inc	sp
3742  1180  21 0B 16    	ld	hl,0x160b
3743  1183  E5          	push	hl
3744  1184  CD 29 0A    	call	_game_paint_attrib_lin_h
3745  1187  F1          	pop	af
3746  1188  33          	inc	sp
3747  1189  C1          	pop	bc
3748  118A  79          	ld	a, c
3749  118B  C6 D0       	add	a,0xd0
3750  118D  5F          	ld	e, a
3751  118E  3E 06       	ld	a,0x06
3752  1190  93          	sub	a, e
3753  1191  38 C5       	jr	C,l_menu_main_00112
3754  1193  16 00       	ld	d,0x00
3755  1195  21 9C 11    	ld	hl,l_menu_main_00133
3756  1198  19          	add	hl, de
3757  1199  19          	add	hl, de
3758  119A  19          	add	hl, de
3759  119B  E9          	jp	(hl)
3760  119C              l_menu_main_00133:
3761  119C  C3 54 12    	jp	l_menu_main_00110
3762  119F  C3 B1 11    	jp	l_menu_main_00101
3763  11A2  C3 C8 11    	jp	l_menu_main_00102
3764  11A5  C3 E0 11    	jp	l_menu_main_00103
3765  11A8  C3 F8 11    	jp	l_menu_main_00104
3766  11AB  C3 10 12    	jp	l_menu_main_00105
3767  11AE  C3 2D 12    	jp	l_menu_main_00106
3768  11B1              l_menu_main_00101:
3769  11B1  21 00 00    	ld	hl,_in_stick_sinclair1
3770  11B4  22 00 00    	ld	(_joyfunc1),hl
3771  11B7  C5          	push	bc
3772  11B8  33          	inc	sp
3773  11B9  21 0A 16    	ld	hl,0x160a
3774  11BC  E5          	push	hl
3775  11BD  CD 02 0A    	call	_game_paint_attrib_lin
3776  11C0  F1          	pop	af
3777  11C1  33          	inc	sp
3778  11C2  DD 36 FF 01 	ld	(ix-1),0x01
3779  11C6  18 90       	jr	l_menu_main_00112
3780  11C8              l_menu_main_00102:
3781  11C8  21 00 00    	ld	hl,_in_stick_keyboard
3782  11CB  22 00 00    	ld	(_joyfunc1),hl
3783  11CE  C5          	push	bc
3784  11CF  33          	inc	sp
3785  11D0  21 0A 16    	ld	hl,0x160a
3786  11D3  E5          	push	hl
3787  11D4  CD 02 0A    	call	_game_paint_attrib_lin
3788  11D7  F1          	pop	af
3789  11D8  33          	inc	sp
3790  11D9  DD 36 FF 02 	ld	(ix-1),0x02
3791  11DD  C3 58 11    	jp	l_menu_main_00112
3792  11E0              l_menu_main_00103:
3793  11E0  21 00 00    	ld	hl,_in_stick_kempston
3794  11E3  22 00 00    	ld	(_joyfunc1),hl
3795  11E6  C5          	push	bc
3796  11E7  33          	inc	sp
3797  11E8  21 0A 16    	ld	hl,0x160a
3798  11EB  E5          	push	hl
3799  11EC  CD 02 0A    	call	_game_paint_attrib_lin
3800  11EF  F1          	pop	af
3801  11F0  33          	inc	sp
3802  11F1  DD 36 FF 03 	ld	(ix-1),0x03
3803  11F5  C3 58 11    	jp	l_menu_main_00112
3804  11F8              l_menu_main_00104:
3805  11F8  21 00 00    	ld	hl,_in_stick_cursor
3806  11FB  22 00 00    	ld	(_joyfunc1),hl
3807  11FE  C5          	push	bc
3808  11FF  33          	inc	sp
3809  1200  21 0A 16    	ld	hl,0x160a
3810  1203  E5          	push	hl
3811  1204  CD 02 0A    	call	_game_paint_attrib_lin
3812  1207  F1          	pop	af
3813  1208  33          	inc	sp
3814  1209  DD 36 FF 04 	ld	(ix-1),0x04
3815  120D  C3 58 11    	jp	l_menu_main_00112
3816  1210              l_menu_main_00105:
3817  1210  C5          	push	bc
3818  1211  CD 44 14    	call	_menu_redefine
3819  1214  C1          	pop	bc
3820  1215  21 00 00    	ld	hl,_in_stick_keyboard
3821  1218  22 00 00    	ld	(_joyfunc1),hl
3822  121B  C5          	push	bc
3823  121C  33          	inc	sp
3824  121D  21 0A 16    	ld	hl,0x160a
3825  1220  E5          	push	hl
3826  1221  CD 02 0A    	call	_game_paint_attrib_lin
3827  1224  F1          	pop	af
3828  1225  33          	inc	sp
3829  1226  DD 36 FF 02 	ld	(ix-1),0x02
3830  122A  C3 58 11    	jp	l_menu_main_00112
3831  122D              l_menu_main_00106:
3832  122D  21 00 00    	ld	hl,_game_2buttons
3833  1230  7E          	ld	a, (hl)
3834  1231  B7          	or	a, a
3835  1232  28 04       	jr	Z,l_menu_main_00108
3836  1234  36 00       	ld	(hl),0x00
3837  1236  18 05       	jr	l_menu_main_00109
3838  1238              l_menu_main_00108:
3839  1238  21 00 00    	ld	hl,_game_2buttons
3840  123B  36 01       	ld	(hl),0x01
3841  123D              l_menu_main_00109:
3842  123D  21 0A 16    	ld	hl,0x160a
3843  1240  E5          	push	hl
3844  1241  DD 7E FD    	ld	a,(ix-3)
3845  1244  F5          	push	af
3846  1245  33          	inc	sp
3847  1246  CD 66 12    	call	_menu_main_print
3848  1249  F1          	pop	af
3849  124A  33          	inc	sp
3850  124B  21 28 00    	ld	hl,0x0028
3851  124E  CD 00 00    	call	_z80_delay_ms_fastcall
3852  1251  C3 58 11    	jp	l_menu_main_00112
3853  1254              l_menu_main_00110:
3854  1254  76          	halt
3855  1255  2E 00       	ld	l,0x00
3856  1257  CD 00 00    	call	_zx_cls_fastcall
3857  125A  DD 36 FE 00 	ld	(ix-2),0x00
3858  125E  C3 58 11    	jp	l_menu_main_00112
3859  1261              l_menu_main_00115:
3860  1261  DD F9       	ld	sp, ix
3861  1263  DD E1       	pop	ix
3862  1265  C9          	ret
3863  1266              	SECTION code_compiler
3864  1266              ;	---------------------------------
3865  1266              ; Function menu_main_print
3866  1266              ; ---------------------------------
3867  1266              _menu_main_print:
3868  1266  CD 00 00    	call	___sdcc_enter_ix
3869  1269  76          	halt
3870  126A  2E 00       	ld	l,0x00
3871  126C  CD 00 00    	call	_zx_cls_fastcall
3872  126F  21 00 00    	ld	hl,_screen_ink
3873  1272  36 07       	ld	(hl),0x07
3874  1274  21 20 0B    	ld	hl,0x0b20
3875  1277  E5          	push	hl
3876  1278  21 00 CC    	ld	hl,0xcc00
3877  127B  E5          	push	hl
3878  127C  CD 00 00    	call	_NIRVANAP_spriteT_callee
3879  127F  21 20 0D    	ld	hl,0x0d20
3880  1282  E5          	push	hl
3881  1283  21 01 CD    	ld	hl,0xcd01
3882  1286  E5          	push	hl
3883  1287  CD 00 00    	call	_NIRVANAP_spriteT_callee
3884  128A  21 20 0F    	ld	hl,0x0f20
3885  128D  E5          	push	hl
3886  128E  21 02 CE    	ld	hl,0xce02
3887  1291  E5          	push	hl
3888  1292  CD 00 00    	call	_NIRVANAP_spriteT_callee
3889  1295  21 20 11    	ld	hl,0x1120
3890  1298  E5          	push	hl
3891  1299  21 03 CF    	ld	hl,0xcf03
3892  129C  E5          	push	hl
3893  129D  CD 00 00    	call	_NIRVANAP_spriteT_callee
3894  12A0  CD AA 10    	call	_game_attribs
3895  12A3  21 76 00    	ld	hl,___str_28
3896  12A6  E5          	push	hl
3897  12A7  DD 66 05    	ld	h,(ix+5)
3898  12AA  DD 6E 04    	ld	l,(ix+4)
3899  12AD  E5          	push	hl
3900  12AE  CD 00 00    	call	_zx_print_str
3901  12B1  DD 7E 04    	ld	a,(ix+4)
3902  12B4  07          	rlca
3903  12B5  07          	rlca
3904  12B6  07          	rlca
3905  12B7  E6 F8       	and	a,0xf8
3906  12B9  C6 08       	add	a,0x08
3907  12BB  F5          	push	af
3908  12BC  33          	inc	sp
3909  12BD  DD 66 06    	ld	h,(ix+6)
3910  12C0  DD 6E 05    	ld	l,(ix+5)
3911  12C3  E5          	push	hl
3912  12C4  CD 02 0A    	call	_game_paint_attrib_lin
3913  12C7  F1          	pop	af
3914  12C8  33          	inc	sp
3915  12C9  DD 34 04    	inc	(ix+4)
3916  12CC  21 81 00    	ld	hl,___str_29
3917  12CF  E5          	push	hl
3918  12D0  DD 66 05    	ld	h,(ix+5)
3919  12D3  DD 6E 04    	ld	l,(ix+4)
3920  12D6  E5          	push	hl
3921  12D7  CD 00 00    	call	_zx_print_str
3922  12DA  DD 7E 04    	ld	a,(ix+4)
3923  12DD  07          	rlca
3924  12DE  07          	rlca
3925  12DF  07          	rlca
3926  12E0  E6 F8       	and	a,0xf8
3927  12E2  C6 08       	add	a,0x08
3928  12E4  F5          	push	af
3929  12E5  33          	inc	sp
3930  12E6  DD 66 06    	ld	h,(ix+6)
3931  12E9  DD 6E 05    	ld	l,(ix+5)
3932  12EC  E5          	push	hl
3933  12ED  CD 02 0A    	call	_game_paint_attrib_lin
3934  12F0  F1          	pop	af
3935  12F1  33          	inc	sp
3936  12F2  DD 34 04    	inc	(ix+4)
3937  12F5  21 8C 00    	ld	hl,___str_30
3938  12F8  E5          	push	hl
3939  12F9  DD 66 05    	ld	h,(ix+5)
3940  12FC  DD 6E 04    	ld	l,(ix+4)
3941  12FF  E5          	push	hl
3942  1300  CD 00 00    	call	_zx_print_str
3943  1303  DD 7E 04    	ld	a,(ix+4)
3944  1306  07          	rlca
3945  1307  07          	rlca
3946  1308  07          	rlca
3947  1309  E6 F8       	and	a,0xf8
3948  130B  C6 08       	add	a,0x08
3949  130D  F5          	push	af
3950  130E  33          	inc	sp
3951  130F  DD 66 06    	ld	h,(ix+6)
3952  1312  DD 6E 05    	ld	l,(ix+5)
3953  1315  E5          	push	hl
3954  1316  CD 02 0A    	call	_game_paint_attrib_lin
3955  1319  F1          	pop	af
3956  131A  33          	inc	sp
3957  131B  DD 34 04    	inc	(ix+4)
3958  131E  21 97 00    	ld	hl,___str_31
3959  1321  E5          	push	hl
3960  1322  DD 66 05    	ld	h,(ix+5)
3961  1325  DD 6E 04    	ld	l,(ix+4)
3962  1328  E5          	push	hl
3963  1329  CD 00 00    	call	_zx_print_str
3964  132C  DD 7E 04    	ld	a,(ix+4)
3965  132F  07          	rlca
3966  1330  07          	rlca
3967  1331  07          	rlca
3968  1332  E6 F8       	and	a,0xf8
3969  1334  C6 08       	add	a,0x08
3970  1336  F5          	push	af
3971  1337  33          	inc	sp
3972  1338  DD 66 06    	ld	h,(ix+6)
3973  133B  DD 6E 05    	ld	l,(ix+5)
3974  133E  E5          	push	hl
3975  133F  CD 02 0A    	call	_game_paint_attrib_lin
3976  1342  F1          	pop	af
3977  1343  33          	inc	sp
3978  1344  DD 34 04    	inc	(ix+4)
3979  1347  21 A0 00    	ld	hl,___str_32
3980  134A  E5          	push	hl
3981  134B  DD 66 05    	ld	h,(ix+5)
3982  134E  DD 6E 04    	ld	l,(ix+4)
3983  1351  E5          	push	hl
3984  1352  CD 00 00    	call	_zx_print_str
3985  1355  DD 7E 04    	ld	a,(ix+4)
3986  1358  07          	rlca
3987  1359  07          	rlca
3988  135A  07          	rlca
3989  135B  E6 F8       	and	a,0xf8
3990  135D  C6 08       	add	a,0x08
3991  135F  F5          	push	af
3992  1360  33          	inc	sp
3993  1361  DD 66 06    	ld	h,(ix+6)
3994  1364  DD 6E 05    	ld	l,(ix+5)
3995  1367  E5          	push	hl
3996  1368  CD 02 0A    	call	_game_paint_attrib_lin
3997  136B  F1          	pop	af
3998  136C  33          	inc	sp
3999  136D  DD 34 04    	inc	(ix+4)
4000  1370  21 A9 00    	ld	hl,___str_33
4001  1373  E5          	push	hl
4002  1374  DD 66 05    	ld	h,(ix+5)
4003  1377  DD 6E 04    	ld	l,(ix+4)
4004  137A  E5          	push	hl
4005  137B  CD 00 00    	call	_zx_print_str
4006  137E  DD 7E 05    	ld	a,(ix+5)
4007  1381  C6 0A       	add	a,0x0a
4008  1383  47          	ld	b, a
4009  1384  3A 00 00    	ld	a,(_game_2buttons)
4010  1387  B7          	or	a, a
4011  1388  28 0D       	jr	Z,l_menu_main_print_00102
4012  138A  21 B3 00    	ld	hl,___str_34
4013  138D  E5          	push	hl
4014  138E  DD 4E 04    	ld	c,(ix+4)
4015  1391  C5          	push	bc
4016  1392  CD 00 00    	call	_zx_print_str
4017  1395  18 0B       	jr	l_menu_main_print_00103
4018  1397              l_menu_main_print_00102:
4019  1397  21 B6 00    	ld	hl,___str_35
4020  139A  E5          	push	hl
4021  139B  DD 4E 04    	ld	c,(ix+4)
4022  139E  C5          	push	bc
4023  139F  CD 00 00    	call	_zx_print_str
4024  13A2              l_menu_main_print_00103:
4025  13A2  DD 7E 04    	ld	a,(ix+4)
4026  13A5  07          	rlca
4027  13A6  07          	rlca
4028  13A7  07          	rlca
4029  13A8  E6 F8       	and	a,0xf8
4030  13AA  C6 08       	add	a,0x08
4031  13AC  F5          	push	af
4032  13AD  33          	inc	sp
4033  13AE  DD 66 06    	ld	h,(ix+6)
4034  13B1  DD 6E 05    	ld	l,(ix+5)
4035  13B4  E5          	push	hl
4036  13B5  CD 02 0A    	call	_game_paint_attrib_lin
4037  13B8  F1          	pop	af
4038  13B9  33          	inc	sp
4039  13BA  DD 34 04    	inc	(ix+4)
4040  13BD  DD 34 04    	inc	(ix+4)
4041  13C0  21 B9 00    	ld	hl,___str_36
4042  13C3  E5          	push	hl
4043  13C4  DD 66 05    	ld	h,(ix+5)
4044  13C7  DD 6E 04    	ld	l,(ix+4)
4045  13CA  E5          	push	hl
4046  13CB  CD 00 00    	call	_zx_print_str
4047  13CE  DD 7E 04    	ld	a,(ix+4)
4048  13D1  07          	rlca
4049  13D2  07          	rlca
4050  13D3  07          	rlca
4051  13D4  E6 F8       	and	a,0xf8
4052  13D6  C6 08       	add	a,0x08
4053  13D8  F5          	push	af
4054  13D9  33          	inc	sp
4055  13DA  DD 66 06    	ld	h,(ix+6)
4056  13DD  DD 6E 05    	ld	l,(ix+5)
4057  13E0  E5          	push	hl
4058  13E1  CD 02 0A    	call	_game_paint_attrib_lin
4059  13E4  F1          	pop	af
4060  13E5  33          	inc	sp
4061  13E6  DD 34 04    	inc	(ix+4)
4062  13E9  DD 34 04    	inc	(ix+4)
4063  13EC  DD 34 04    	inc	(ix+4)
4064  13EF  DD 34 04    	inc	(ix+4)
4065  13F2  21 C1 00    	ld	hl,___str_37
4066  13F5  E5          	push	hl
4067  13F6  26 02       	ld	h,0x02
4068  13F8  DD 6E 04    	ld	l,(ix+4)
4069  13FB  E5          	push	hl
4070  13FC  CD 00 00    	call	_zx_print_str
4071  13FF  DD 7E 04    	ld	a,(ix+4)
4072  1402  07          	rlca
4073  1403  07          	rlca
4074  1404  07          	rlca
4075  1405  E6 F8       	and	a,0xf8
4076  1407  C6 08       	add	a,0x08
4077  1409  F5          	push	af
4078  140A  33          	inc	sp
4079  140B  21 00 1F    	ld	hl,0x1f00
4080  140E  E5          	push	hl
4081  140F  CD 29 0A    	call	_game_paint_attrib_lin_h
4082  1412  F1          	pop	af
4083  1413  33          	inc	sp
4084  1414  DD 34 04    	inc	(ix+4)
4085  1417  DD 34 04    	inc	(ix+4)
4086  141A  21 00 00    	ld	hl,_screen_ink
4087  141D  36 05       	ld	(hl),0x05
4088  141F  21 DF 00    	ld	hl,___str_38
4089  1422  E5          	push	hl
4090  1423  26 08       	ld	h,0x08
4091  1425  DD 6E 04    	ld	l,(ix+4)
4092  1428  E5          	push	hl
4093  1429  CD 00 00    	call	_zx_print_str
4094  142C  DD 7E 04    	ld	a,(ix+4)
4095  142F  07          	rlca
4096  1430  07          	rlca
4097  1431  07          	rlca
4098  1432  E6 F8       	and	a,0xf8
4099  1434  C6 08       	add	a,0x08
4100  1436  F5          	push	af
4101  1437  33          	inc	sp
4102  1438  21 00 1F    	ld	hl,0x1f00
4103  143B  E5          	push	hl
4104  143C  CD 02 0A    	call	_game_paint_attrib_lin
4105  143F  F1          	pop	af
4106  1440  33          	inc	sp
4107  1441  DD E1       	pop	ix
4108  1443  C9          	ret
4109  1444              	SECTION rodata_compiler
4110  0076              ___str_28:
4111  0076  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
4112  0080  00          	DEFB 0x00
4113  0081              	SECTION rodata_compiler
4114  0081              ___str_29:
4115  0081  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
4116  008B  00          	DEFB 0x00
4117  008C              	SECTION rodata_compiler
4118  008C              ___str_30:
4119  008C  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
4120  0096  00          	DEFB 0x00
4121  0097              	SECTION rodata_compiler
4122  0097              ___str_31:
4123  0097  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
4124  009F  00          	DEFB 0x00
4125  00A0              	SECTION rodata_compiler
4126  00A0              ___str_32:
4127  00A0  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
4128  00A8  00          	DEFB 0x00
4129  00A9              	SECTION rodata_compiler
4130  00A9              ___str_33:
4131  00A9  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
4132  00B2  00          	DEFB 0x00
4133  00B3              	SECTION rodata_compiler
4134  00B3              ___str_34:
4135  00B3  32 42       	DEFM "2B"
4136  00B5  00          	DEFB 0x00
4137  00B6              	SECTION rodata_compiler
4138  00B6              ___str_35:
4139  00B6  31 42       	DEFM "1B"
4140  00B8  00          	DEFB 0x00
4141  00B9              	SECTION rodata_compiler
4142  00B9              ___str_36:
4143  00B9  30 20 53 54 41 52 54 
                        	DEFM "0 START"
4144  00C0  00          	DEFB 0x00
4145  00C1              	SECTION rodata_compiler
4146  00C1              ___str_37:
4147  00C1  43 47 4F 4E 5A 41 4C 45 5A 2F 41 41 4E 4F 4E 2F 53 39 2F 42 45 49 4B 45 52 2F 41 42 55 
                        	DEFM "CGONZALEZ/AANON/S9/BEIKER/ABU"
4148  00DE  00          	DEFB 0x00
4149  00DF              	SECTION rodata_compiler
4150  00DF              ___str_38:
4151  00DF  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
4152  00EE  00          	DEFB 0x00
4153  00EF              	SECTION code_compiler
4154  1444              ;	---------------------------------
4155  1444              ; Function menu_redefine
4156  1444              ; ---------------------------------
4157  1444              _menu_redefine:
4158  1444  76          	halt
4159  1445  2E 00       	ld	l,0x00
4160  1447  CD 00 00    	call	_zx_cls_fastcall
4161  144A  21 00 00    	ld	hl,_tmp0
4162  144D  36 08       	ld	(hl),0x08
4163  144F              l_menu_redefine_00105:
4164  144F  3A 00 00    	ld	a,(_tmp0)
4165  1452  07          	rlca
4166  1453  07          	rlca
4167  1454  07          	rlca
4168  1455  E6 F8       	and	a,0xf8
4169  1457  C6 08       	add	a,0x08
4170  1459  F5          	push	af
4171  145A  33          	inc	sp
4172  145B  21 0A 10    	ld	hl,0x100a
4173  145E  E5          	push	hl
4174  145F  CD 02 0A    	call	_game_paint_attrib_lin
4175  1462  F1          	pop	af
4176  1463  33          	inc	sp
4177  1464  21 00 00    	ld	hl,_tmp0
4178  1467  7E          	ld	a,(hl)
4179  1468  3C          	inc	a
4180  1469  77          	ld	(hl),a
4181  146A  D6 0E       	sub	a,0x0e
4182  146C  38 E1       	jr	C,l_menu_redefine_00105
4183  146E  21 EF 00    	ld	hl,___str_39
4184  1471  E5          	push	hl
4185  1472  21 08 0A    	ld	hl,0x0a08
4186  1475  E5          	push	hl
4187  1476  CD 00 00    	call	_zx_print_str
4188  1479  CD 02 15    	call	_menu_define_key
4189  147C  22 08 00    	ld	(_k1 + 0x0008),hl
4190  147F  21 F2 00    	ld	hl,___str_40
4191  1482  E5          	push	hl
4192  1483  21 09 0A    	ld	hl,0x0a09
4193  1486  E5          	push	hl
4194  1487  CD 00 00    	call	_zx_print_str
4195  148A  CD 02 15    	call	_menu_define_key
4196  148D  22 06 00    	ld	(_k1 + 0x0006),hl
4197  1490  21 F7 00    	ld	hl,___str_41
4198  1493  E5          	push	hl
4199  1494  21 0A 0A    	ld	hl,0x0a0a
4200  1497  E5          	push	hl
4201  1498  CD 00 00    	call	_zx_print_str
4202  149B  CD 02 15    	call	_menu_define_key
4203  149E  22 04 00    	ld	(_k1 + 0x0004),hl
4204  14A1  21 FC 00    	ld	hl,___str_42
4205  14A4  E5          	push	hl
4206  14A5  21 0B 0A    	ld	hl,0x0a0b
4207  14A8  E5          	push	hl
4208  14A9  CD 00 00    	call	_zx_print_str
4209  14AC  CD 02 15    	call	_menu_define_key
4210  14AF  22 02 00    	ld	(_k1 + 0x0002),hl
4211  14B2  3A 00 00    	ld	a,(_game_2buttons)
4212  14B5  B7          	or	a, a
4213  14B6  28 24       	jr	Z,l_menu_redefine_00103
4214  14B8  21 02 01    	ld	hl,___str_43
4215  14BB  E5          	push	hl
4216  14BC  21 0C 0A    	ld	hl,0x0a0c
4217  14BF  E5          	push	hl
4218  14C0  CD 00 00    	call	_zx_print_str
4219  14C3  CD 02 15    	call	_menu_define_key
4220  14C6  22 00 00    	ld	(_k2),hl
4221  14C9  21 07 01    	ld	hl,___str_44
4222  14CC  E5          	push	hl
4223  14CD  21 0D 0A    	ld	hl,0x0a0d
4224  14D0  E5          	push	hl
4225  14D1  CD 00 00    	call	_zx_print_str
4226  14D4  CD 02 15    	call	_menu_define_key
4227  14D7  22 00 00    	ld	(_k1),hl
4228  14DA  18 11       	jr	l_menu_redefine_00104
4229  14DC              l_menu_redefine_00103:
4230  14DC  21 02 01    	ld	hl,___str_43
4231  14DF  E5          	push	hl
4232  14E0  21 0C 0A    	ld	hl,0x0a0c
4233  14E3  E5          	push	hl
4234  14E4  CD 00 00    	call	_zx_print_str
4235  14E7  CD 02 15    	call	_menu_define_key
4236  14EA  22 00 00    	ld	(_k1),hl
4237  14ED              l_menu_redefine_00104:
4238  14ED  21 0C 20    	ld	hl,0x200c
4239  14F0  E5          	push	hl
4240  14F1  CD 00 00    	call	_game_fill_row
4241  14F4  21 0A 14    	ld	hl,0x140a
4242  14F7  E5          	push	hl
4243  14F8  3E 07       	ld	a,0x07
4244  14FA  F5          	push	af
4245  14FB  33          	inc	sp
4246  14FC  CD 66 12    	call	_menu_main_print
4247  14FF  F1          	pop	af
4248  1500  33          	inc	sp
4249  1501  C9          	ret
4250  1502              	SECTION rodata_compiler
4251  00EF              ___str_39:
4252  00EF  55 50       	DEFM "UP"
4253  00F1  00          	DEFB 0x00
4254  00F2              	SECTION rodata_compiler
4255  00F2              ___str_40:
4256  00F2  44 4F 57 4E 	DEFM "DOWN"
4257  00F6  00          	DEFB 0x00
4258  00F7              	SECTION rodata_compiler
4259  00F7              ___str_41:
4260  00F7  4C 45 46 54 	DEFM "LEFT"
4261  00FB  00          	DEFB 0x00
4262  00FC              	SECTION rodata_compiler
4263  00FC              ___str_42:
4264  00FC  52 49 47 48 54 
                        	DEFM "RIGHT"
4265  0101  00          	DEFB 0x00
4266  0102              	SECTION rodata_compiler
4267  0102              ___str_43:
4268  0102  46 49 52 45 	DEFM "FIRE"
4269  0106  00          	DEFB 0x00
4270  0107              	SECTION rodata_compiler
4271  0107              ___str_44:
4272  0107  4A 55 4D 50 	DEFM "JUMP"
4273  010B  00          	DEFB 0x00
4274  010C              	SECTION code_compiler
4275  1502              ;	---------------------------------
4276  1502              ; Function menu_define_key
4277  1502              ; ---------------------------------
4278  1502              _menu_define_key:
4279  1502              l_menu_define_key_00107:
4280  1502  CD 00 00    	call	_in_wait_key
4281  1505  CD 00 00    	call	_in_inkey
4282  1508  7D          	ld	a,l
4283  1509  32 00 00    	ld	(_tmp1),a
4284  150C  CD 00 00    	call	_in_wait_nokey
4285  150F  21 00 00    	ld	hl,_tmp0
4286  1512  36 00       	ld	(hl),0x00
4287  1514              l_menu_define_key_00103:
4288  1514  21 00 00    	ld	hl,_tmp0
4289  1517  7E          	ld	a, (hl)
4290  1518  D6 26       	sub	a,0x26
4291  151A  30 E6       	jr	NC,l_menu_define_key_00107
4292  151C  4E          	ld	c,(hl)
4293  151D  06 00       	ld	b,0x00
4294  151F  21 00 00    	ld	hl,_key_map
4295  1522  09          	add	hl,bc
4296  1523  4E          	ld	c, (hl)
4297  1524  3A 00 00    	ld	a,(_tmp1)
4298  1527  91          	sub	a, c
4299  1528  20 10       	jr	NZ,l_menu_define_key_00102
4300  152A  01 00 00    	ld	bc,_scan_map+0
4301  152D  2A 00 00    	ld	hl,(_tmp0)
4302  1530  26 00       	ld	h,0x00
4303  1532  29          	add	hl, hl
4304  1533  09          	add	hl, bc
4305  1534  7E          	ld	a, (hl)
4306  1535  23          	inc	hl
4307  1536  66          	ld	h, (hl)
4308  1537  6F          	ld	l, a
4309  1538  18 06       	jr	l_menu_define_key_00109
4310  153A              l_menu_define_key_00102:
4311  153A  21 00 00    	ld	hl,_tmp0
4312  153D  34          	inc	(hl)
4313  153E  18 D4       	jr	l_menu_define_key_00103
4314  1540              l_menu_define_key_00109:
4315  1540  C9          	ret
4316  1541              	SECTION IGNORE
4317  0000              
