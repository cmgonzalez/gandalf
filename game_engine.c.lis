1     0000              MODULE game_engine_c
2     0000              LINE -1, "game_engine.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_tick
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_loop
206   0000              	GLOBAL _game_fps
207   0000              	GLOBAL _game_respawn
208   0000              	GLOBAL _game_draw_screen
209   0000              	GLOBAL _game_boss_kill
210   0000              	GLOBAL _game_add_enemy
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_set_checkpoint
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_shoot_fire
225   0000              	GLOBAL _game_shoot_fire_boss
226   0000              	GLOBAL _game_obj_set
227   0000              	GLOBAL _game_obj_chk
228   0000              	GLOBAL _game_obj_clear
229   0000              	GLOBAL _game_boss_clear
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_rotate_attrib_osd
232   0000              	GLOBAL _game_attribs
233   0000              	GLOBAL _game_match_back_strict
234   0000              	GLOBAL _game_match_back
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _ffsll_callee
239   0000              	GLOBAL _ffsll
240   0000              	GLOBAL _strxfrm_callee
241   0000              	GLOBAL _strxfrm
242   0000              	GLOBAL _strupr_fastcall
243   0000              	GLOBAL _strupr
244   0000              	GLOBAL _strtok_r_callee
245   0000              	GLOBAL _strtok_r
246   0000              	GLOBAL _strtok_callee
247   0000              	GLOBAL _strtok
248   0000              	GLOBAL _strstrip_fastcall
249   0000              	GLOBAL _strstrip
250   0000              	GLOBAL _strstr_callee
251   0000              	GLOBAL _strstr
252   0000              	GLOBAL _strspn_callee
253   0000              	GLOBAL _strspn
254   0000              	GLOBAL _strsep_callee
255   0000              	GLOBAL _strsep
256   0000              	GLOBAL _strrstrip_fastcall
257   0000              	GLOBAL _strrstrip
258   0000              	GLOBAL _strrstr_callee
259   0000              	GLOBAL _strrstr
260   0000              	GLOBAL _strrspn_callee
261   0000              	GLOBAL _strrspn
262   0000              	GLOBAL _strrev_fastcall
263   0000              	GLOBAL _strrev
264   0000              	GLOBAL _strrcspn_callee
265   0000              	GLOBAL _strrcspn
266   0000              	GLOBAL _strrchr_callee
267   0000              	GLOBAL _strrchr
268   0000              	GLOBAL _strpbrk_callee
269   0000              	GLOBAL _strpbrk
270   0000              	GLOBAL _strnlen_callee
271   0000              	GLOBAL _strnlen
272   0000              	GLOBAL _strnicmp_callee
273   0000              	GLOBAL _strnicmp
274   0000              	GLOBAL _strndup_callee
275   0000              	GLOBAL _strndup
276   0000              	GLOBAL _strncpy_callee
277   0000              	GLOBAL _strncpy
278   0000              	GLOBAL _strncmp_callee
279   0000              	GLOBAL _strncmp
280   0000              	GLOBAL _strnchr_callee
281   0000              	GLOBAL _strnchr
282   0000              	GLOBAL _strncat_callee
283   0000              	GLOBAL _strncat
284   0000              	GLOBAL _strncasecmp_callee
285   0000              	GLOBAL _strncasecmp
286   0000              	GLOBAL _strlwr_fastcall
287   0000              	GLOBAL _strlwr
288   0000              	GLOBAL _strlen_fastcall
289   0000              	GLOBAL _strlen
290   0000              	GLOBAL _strlcpy_callee
291   0000              	GLOBAL _strlcpy
292   0000              	GLOBAL _strlcat_callee
293   0000              	GLOBAL _strlcat
294   0000              	GLOBAL _stricmp_callee
295   0000              	GLOBAL _stricmp
296   0000              	GLOBAL _strerror_fastcall
297   0000              	GLOBAL _strerror
298   0000              	GLOBAL _strdup_fastcall
299   0000              	GLOBAL _strdup
300   0000              	GLOBAL _strcspn_callee
301   0000              	GLOBAL _strcspn
302   0000              	GLOBAL _strcpy_callee
303   0000              	GLOBAL _strcpy
304   0000              	GLOBAL _strcoll_callee
305   0000              	GLOBAL _strcoll
306   0000              	GLOBAL _strcmp_callee
307   0000              	GLOBAL _strcmp
308   0000              	GLOBAL _strchrnul_callee
309   0000              	GLOBAL _strchrnul
310   0000              	GLOBAL _strchr_callee
311   0000              	GLOBAL _strchr
312   0000              	GLOBAL _strcat_callee
313   0000              	GLOBAL _strcat
314   0000              	GLOBAL _strcasecmp_callee
315   0000              	GLOBAL _strcasecmp
316   0000              	GLOBAL _stpncpy_callee
317   0000              	GLOBAL _stpncpy
318   0000              	GLOBAL _stpcpy_callee
319   0000              	GLOBAL _stpcpy
320   0000              	GLOBAL _memswap_callee
321   0000              	GLOBAL _memswap
322   0000              	GLOBAL _memset_callee
323   0000              	GLOBAL _memset
324   0000              	GLOBAL _memrchr_callee
325   0000              	GLOBAL _memrchr
326   0000              	GLOBAL _memmove_callee
327   0000              	GLOBAL _memmove
328   0000              	GLOBAL _memmem_callee
329   0000              	GLOBAL _memmem
330   0000              	GLOBAL _memcpy_callee
331   0000              	GLOBAL _memcpy
332   0000              	GLOBAL _memcmp_callee
333   0000              	GLOBAL _memcmp
334   0000              	GLOBAL _memchr_callee
335   0000              	GLOBAL _memchr
336   0000              	GLOBAL _memccpy_callee
337   0000              	GLOBAL _memccpy
338   0000              	GLOBAL _ffsl_fastcall
339   0000              	GLOBAL _ffsl
340   0000              	GLOBAL _ffs_fastcall
341   0000              	GLOBAL _ffs
342   0000              	GLOBAL __strrstrip__fastcall
343   0000              	GLOBAL __strrstrip_
344   0000              	GLOBAL __memupr__callee
345   0000              	GLOBAL __memupr_
346   0000              	GLOBAL __memstrcpy__callee
347   0000              	GLOBAL __memstrcpy_
348   0000              	GLOBAL __memlwr__callee
349   0000              	GLOBAL __memlwr_
350   0000              	GLOBAL _rawmemchr_callee
351   0000              	GLOBAL _rawmemchr
352   0000              	GLOBAL _strnset_callee
353   0000              	GLOBAL _strnset
354   0000              	GLOBAL _strset_callee
355   0000              	GLOBAL _strset
356   0000              	GLOBAL _rindex_callee
357   0000              	GLOBAL _rindex
358   0000              	GLOBAL _index_callee
359   0000              	GLOBAL _index
360   0000              	GLOBAL _bzero_callee
361   0000              	GLOBAL _bzero
362   0000              	GLOBAL _bcopy_callee
363   0000              	GLOBAL _bcopy
364   0000              	GLOBAL _bcmp_callee
365   0000              	GLOBAL _bcmp
366   0000              	GLOBAL _ulltoa_callee
367   0000              	GLOBAL _ulltoa
368   0000              	GLOBAL _strtoull_callee
369   0000              	GLOBAL _strtoull
370   0000              	GLOBAL _strtoll_callee
371   0000              	GLOBAL _strtoll
372   0000              	GLOBAL _lltoa_callee
373   0000              	GLOBAL _lltoa
374   0000              	GLOBAL _llabs_callee
375   0000              	GLOBAL _llabs
376   0000              	GLOBAL __lldivu__callee
377   0000              	GLOBAL __lldivu_
378   0000              	GLOBAL __lldiv__callee
379   0000              	GLOBAL __lldiv_
380   0000              	GLOBAL _atoll_callee
381   0000              	GLOBAL _atoll
382   0000              	GLOBAL _realloc_unlocked_callee
383   0000              	GLOBAL _realloc_unlocked
384   0000              	GLOBAL _malloc_unlocked_fastcall
385   0000              	GLOBAL _malloc_unlocked
386   0000              	GLOBAL _free_unlocked_fastcall
387   0000              	GLOBAL _free_unlocked
388   0000              	GLOBAL _calloc_unlocked_callee
389   0000              	GLOBAL _calloc_unlocked
390   0000              	GLOBAL _aligned_alloc_unlocked_callee
391   0000              	GLOBAL _aligned_alloc_unlocked
392   0000              	GLOBAL _realloc_callee
393   0000              	GLOBAL _realloc
394   0000              	GLOBAL _malloc_fastcall
395   0000              	GLOBAL _malloc
396   0000              	GLOBAL _free_fastcall
397   0000              	GLOBAL _free
398   0000              	GLOBAL _calloc_callee
399   0000              	GLOBAL _calloc
400   0000              	GLOBAL _aligned_alloc_callee
401   0000              	GLOBAL _aligned_alloc
402   0000              	GLOBAL _utoa_callee
403   0000              	GLOBAL _utoa
404   0000              	GLOBAL _ultoa_callee
405   0000              	GLOBAL _ultoa
406   0000              	GLOBAL _system_fastcall
407   0000              	GLOBAL _system
408   0000              	GLOBAL _strtoul_callee
409   0000              	GLOBAL _strtoul
410   0000              	GLOBAL _strtol_callee
411   0000              	GLOBAL _strtol
412   0000              	GLOBAL _strtof_callee
413   0000              	GLOBAL _strtof
414   0000              	GLOBAL _strtod_callee
415   0000              	GLOBAL _strtod
416   0000              	GLOBAL _srand_fastcall
417   0000              	GLOBAL _srand
418   0000              	GLOBAL _rand
419   0000              	GLOBAL _quick_exit_fastcall
420   0000              	GLOBAL _quick_exit
421   0000              	GLOBAL _qsort_callee
422   0000              	GLOBAL _qsort
423   0000              	GLOBAL _ltoa_callee
424   0000              	GLOBAL _ltoa
425   0000              	GLOBAL _labs_fastcall
426   0000              	GLOBAL _labs
427   0000              	GLOBAL _itoa_callee
428   0000              	GLOBAL _itoa
429   0000              	GLOBAL _ftoh_callee
430   0000              	GLOBAL _ftoh
431   0000              	GLOBAL _ftog_callee
432   0000              	GLOBAL _ftog
433   0000              	GLOBAL _ftoe_callee
434   0000              	GLOBAL _ftoe
435   0000              	GLOBAL _ftoa_callee
436   0000              	GLOBAL _ftoa
437   0000              	GLOBAL _exit_fastcall
438   0000              	GLOBAL _exit
439   0000              	GLOBAL _dtoh_callee
440   0000              	GLOBAL _dtoh
441   0000              	GLOBAL _dtog_callee
442   0000              	GLOBAL _dtog
443   0000              	GLOBAL _dtoe_callee
444   0000              	GLOBAL _dtoe
445   0000              	GLOBAL _dtoa_callee
446   0000              	GLOBAL _dtoa
447   0000              	GLOBAL _bsearch_callee
448   0000              	GLOBAL _bsearch
449   0000              	GLOBAL _atol_fastcall
450   0000              	GLOBAL _atol
451   0000              	GLOBAL _atoi_fastcall
452   0000              	GLOBAL _atoi
453   0000              	GLOBAL _atof_fastcall
454   0000              	GLOBAL _atof
455   0000              	GLOBAL _atexit_fastcall
456   0000              	GLOBAL _atexit
457   0000              	GLOBAL _at_quick_exit_fastcall
458   0000              	GLOBAL _at_quick_exit
459   0000              	GLOBAL _abs_fastcall
460   0000              	GLOBAL _abs
461   0000              	GLOBAL _abort
462   0000              	GLOBAL __strtou__callee
463   0000              	GLOBAL __strtou_
464   0000              	GLOBAL __strtoi__callee
465   0000              	GLOBAL __strtoi_
466   0000              	GLOBAL __random_uniform_xor_8__fastcall
467   0000              	GLOBAL __random_uniform_xor_8_
468   0000              	GLOBAL __random_uniform_xor_32__fastcall
469   0000              	GLOBAL __random_uniform_xor_32_
470   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
471   0000              	GLOBAL __random_uniform_cmwc_8_
472   0000              	GLOBAL __shellsort__callee
473   0000              	GLOBAL __shellsort_
474   0000              	GLOBAL __quicksort__callee
475   0000              	GLOBAL __quicksort_
476   0000              	GLOBAL __insertion_sort__callee
477   0000              	GLOBAL __insertion_sort_
478   0000              	GLOBAL __ldivu__callee
479   0000              	GLOBAL __ldivu_
480   0000              	GLOBAL __ldiv__callee
481   0000              	GLOBAL __ldiv_
482   0000              	GLOBAL __divu__callee
483   0000              	GLOBAL __divu_
484   0000              	GLOBAL __div__callee
485   0000              	GLOBAL __div_
486   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawTW_raw
488   0000              	GLOBAL _NIRVANAP_drawTW_callee
489   0000              	GLOBAL _NIRVANAP_drawTW
490   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawW_raw
492   0000              	GLOBAL _NIRVANAP_drawW_callee
493   0000              	GLOBAL _NIRVANAP_drawW
494   0000              	GLOBAL _NIRVANAP_spriteT_callee
495   0000              	GLOBAL _NIRVANAP_spriteT
496   0000              	GLOBAL _NIRVANAP_fillC_callee
497   0000              	GLOBAL _NIRVANAP_fillC
498   0000              	GLOBAL _NIRVANAP_readC_callee
499   0000              	GLOBAL _NIRVANAP_readC
500   0000              	GLOBAL _NIRVANAP_paintC_callee
501   0000              	GLOBAL _NIRVANAP_paintC
502   0000              	GLOBAL _NIRVANAP_printC_callee
503   0000              	GLOBAL _NIRVANAP_printC
504   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
505   0000              	GLOBAL _NIRVANAP_fillT_raw
506   0000              	GLOBAL _NIRVANAP_fillT_callee
507   0000              	GLOBAL _NIRVANAP_fillT
508   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
509   0000              	GLOBAL _NIRVANAP_drawT_raw
510   0000              	GLOBAL _NIRVANAP_drawT_callee
511   0000              	GLOBAL _NIRVANAP_drawT
512   0000              	GLOBAL _NIRVANAP_stop
513   0000              	GLOBAL _NIRVANAP_start
514   0000              	GLOBAL _debug3
515   0000              	GLOBAL _debug2
516   0000              	GLOBAL _debug
517   0000              	GLOBAL _zx_print_str
518   0000              	GLOBAL _zx_print_int
519   0000              	GLOBAL _zx_print_chr
520   0000              	GLOBAL _zx_print_bonus_time
521   0000              	GLOBAL _zx_isr
522   0000              	GLOBAL _z80_otdr_callee
523   0000              	GLOBAL _z80_otdr
524   0000              	GLOBAL _z80_otir_callee
525   0000              	GLOBAL _z80_otir
526   0000              	GLOBAL _z80_outp_callee
527   0000              	GLOBAL _z80_outp
528   0000              	GLOBAL _z80_indr_callee
529   0000              	GLOBAL _z80_indr
530   0000              	GLOBAL _z80_inir_callee
531   0000              	GLOBAL _z80_inir
532   0000              	GLOBAL _z80_inp_fastcall
533   0000              	GLOBAL _z80_inp
534   0000              	GLOBAL _z80_set_int_state_fastcall
535   0000              	GLOBAL _z80_set_int_state
536   0000              	GLOBAL _z80_get_int_state
537   0000              	GLOBAL _z80_delay_tstate_fastcall
538   0000              	GLOBAL _z80_delay_tstate
539   0000              	GLOBAL _z80_delay_ms_fastcall
540   0000              	GLOBAL _z80_delay_ms
541   0000              	GLOBAL _im2_remove_generic_callback_callee
542   0000              	GLOBAL _im2_remove_generic_callback
543   0000              	GLOBAL _im2_prepend_generic_callback_callee
544   0000              	GLOBAL _im2_prepend_generic_callback
545   0000              	GLOBAL _im2_append_generic_callback_callee
546   0000              	GLOBAL _im2_append_generic_callback
547   0000              	GLOBAL _im2_create_generic_isr_8080_callee
548   0000              	GLOBAL _im2_create_generic_isr_8080
549   0000              	GLOBAL _im2_create_generic_isr_callee
550   0000              	GLOBAL _im2_create_generic_isr
551   0000              	GLOBAL _im2_install_isr_callee
552   0000              	GLOBAL _im2_install_isr
553   0000              	GLOBAL _im2_init_fastcall
554   0000              	GLOBAL _im2_init
555   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
556   0000              	GLOBAL _intrinsic_swap_word_32
557   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
558   0000              	GLOBAL _intrinsic_swap_endian_32
559   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
560   0000              	GLOBAL _intrinsic_swap_endian_16
561   0000              	GLOBAL _intrinsic_return_de
562   0000              	GLOBAL _intrinsic_return_bc
563   0000              	GLOBAL _intrinsic_exx
564   0000              	GLOBAL _intrinsic_ex_de_hl
565   0000              	GLOBAL _intrinsic_nop
566   0000              	GLOBAL _intrinsic_im_2
567   0000              	GLOBAL _intrinsic_im_1
568   0000              	GLOBAL _intrinsic_im_0
569   0000              	GLOBAL _intrinsic_retn
570   0000              	GLOBAL _intrinsic_reti
571   0000              	GLOBAL _intrinsic_halt
572   0000              	GLOBAL _intrinsic_ei
573   0000              	GLOBAL _intrinsic_di
574   0000              	GLOBAL _intrinsic_stub
575   0000              	GLOBAL _intrinsic_outi
576   0000              	GLOBAL _intrinsic_ldi
577   0000              	GLOBAL _zx_pattern_fill_callee
578   0000              	GLOBAL _zx_pattern_fill
579   0000              	GLOBAL _zx_saddrpup_fastcall
580   0000              	GLOBAL _zx_saddrpup
581   0000              	GLOBAL _zx_saddrpright_callee
582   0000              	GLOBAL _zx_saddrpright
583   0000              	GLOBAL _zx_saddrpleft_callee
584   0000              	GLOBAL _zx_saddrpleft
585   0000              	GLOBAL _zx_saddrpdown_fastcall
586   0000              	GLOBAL _zx_saddrpdown
587   0000              	GLOBAL _zx_saddrcup_fastcall
588   0000              	GLOBAL _zx_saddrcup
589   0000              	GLOBAL _zx_saddrcright_fastcall
590   0000              	GLOBAL _zx_saddrcright
591   0000              	GLOBAL _zx_saddrcleft_fastcall
592   0000              	GLOBAL _zx_saddrcleft
593   0000              	GLOBAL _zx_saddrcdown_fastcall
594   0000              	GLOBAL _zx_saddrcdown
595   0000              	GLOBAL _zx_saddr2py_fastcall
596   0000              	GLOBAL _zx_saddr2py
597   0000              	GLOBAL _zx_saddr2px_fastcall
598   0000              	GLOBAL _zx_saddr2px
599   0000              	GLOBAL _zx_saddr2cy_fastcall
600   0000              	GLOBAL _zx_saddr2cy
601   0000              	GLOBAL _zx_saddr2cx_fastcall
602   0000              	GLOBAL _zx_saddr2cx
603   0000              	GLOBAL _zx_saddr2aaddr_fastcall
604   0000              	GLOBAL _zx_saddr2aaddr
605   0000              	GLOBAL _zx_py2saddr_fastcall
606   0000              	GLOBAL _zx_py2saddr
607   0000              	GLOBAL _zx_py2aaddr_fastcall
608   0000              	GLOBAL _zx_py2aaddr
609   0000              	GLOBAL _zx_pxy2saddr_callee
610   0000              	GLOBAL _zx_pxy2saddr
611   0000              	GLOBAL _zx_pxy2aaddr_callee
612   0000              	GLOBAL _zx_pxy2aaddr
613   0000              	GLOBAL _zx_px2bitmask_fastcall
614   0000              	GLOBAL _zx_px2bitmask
615   0000              	GLOBAL _zx_cy2saddr_fastcall
616   0000              	GLOBAL _zx_cy2saddr
617   0000              	GLOBAL _zx_cy2aaddr_fastcall
618   0000              	GLOBAL _zx_cy2aaddr
619   0000              	GLOBAL _zx_cxy2saddr_callee
620   0000              	GLOBAL _zx_cxy2saddr
621   0000              	GLOBAL _zx_cxy2aaddr_callee
622   0000              	GLOBAL _zx_cxy2aaddr
623   0000              	GLOBAL _zx_bitmask2px_fastcall
624   0000              	GLOBAL _zx_bitmask2px
625   0000              	GLOBAL _zx_aaddrcup_fastcall
626   0000              	GLOBAL _zx_aaddrcup
627   0000              	GLOBAL _zx_aaddrcright_fastcall
628   0000              	GLOBAL _zx_aaddrcright
629   0000              	GLOBAL _zx_aaddrcleft_fastcall
630   0000              	GLOBAL _zx_aaddrcleft
631   0000              	GLOBAL _zx_aaddrcdown_fastcall
632   0000              	GLOBAL _zx_aaddrcdown
633   0000              	GLOBAL _zx_aaddr2saddr_fastcall
634   0000              	GLOBAL _zx_aaddr2saddr
635   0000              	GLOBAL _zx_aaddr2py_fastcall
636   0000              	GLOBAL _zx_aaddr2py
637   0000              	GLOBAL _zx_aaddr2px_fastcall
638   0000              	GLOBAL _zx_aaddr2px
639   0000              	GLOBAL _zx_aaddr2cy_fastcall
640   0000              	GLOBAL _zx_aaddr2cy
641   0000              	GLOBAL _zx_aaddr2cx_fastcall
642   0000              	GLOBAL _zx_aaddr2cx
643   0000              	GLOBAL _zx_visit_wc_pix_callee
644   0000              	GLOBAL _zx_visit_wc_pix
645   0000              	GLOBAL _zx_visit_wc_attr_callee
646   0000              	GLOBAL _zx_visit_wc_attr
647   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
648   0000              	GLOBAL _zx_scroll_wc_up_pix
649   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
650   0000              	GLOBAL _zx_scroll_wc_up_attr
651   0000              	GLOBAL _zx_scroll_wc_up_callee
652   0000              	GLOBAL _zx_scroll_wc_up
653   0000              	GLOBAL _zx_scroll_up_pix_callee
654   0000              	GLOBAL _zx_scroll_up_pix
655   0000              	GLOBAL _zx_scroll_up_attr_callee
656   0000              	GLOBAL _zx_scroll_up_attr
657   0000              	GLOBAL _zx_scroll_up_callee
658   0000              	GLOBAL _zx_scroll_up
659   0000              	GLOBAL _zx_cls_wc_pix_callee
660   0000              	GLOBAL _zx_cls_wc_pix
661   0000              	GLOBAL _zx_cls_wc_attr_callee
662   0000              	GLOBAL _zx_cls_wc_attr
663   0000              	GLOBAL _zx_cls_wc_callee
664   0000              	GLOBAL _zx_cls_wc
665   0000              	GLOBAL _zx_cls_pix_fastcall
666   0000              	GLOBAL _zx_cls_pix
667   0000              	GLOBAL _zx_cls_attr_fastcall
668   0000              	GLOBAL _zx_cls_attr
669   0000              	GLOBAL _zx_cls_fastcall
670   0000              	GLOBAL _zx_cls
671   0000              	GLOBAL _zx_border_fastcall
672   0000              	GLOBAL _zx_border
673   0000              	GLOBAL _zx_tape_verify_block_callee
674   0000              	GLOBAL _zx_tape_verify_block
675   0000              	GLOBAL _zx_tape_save_block_callee
676   0000              	GLOBAL _zx_tape_save_block
677   0000              	GLOBAL _zx_tape_load_block_callee
678   0000              	GLOBAL _zx_tape_load_block
679   0000              	GLOBAL _spr_destroy
680   0000              	GLOBAL _spr_colision_boss
681   0000              	GLOBAL _spr_colision_b
682   0000              	GLOBAL _spr_unflattenP1
683   0000              	GLOBAL _spr_flatten
684   0000              	GLOBAL _spr_btile_paint_back
685   0000              	GLOBAL _spr_bullet_explode
686   0000              	GLOBAL _spr_init_effects
687   0000              	GLOBAL _spr_turn_horizontal
688   0000              	GLOBAL _spr_bullets_play
689   0000              	GLOBAL _spr_play_anim
690   0000              	GLOBAL _spr_add_anim
691   0000              	GLOBAL _spr_clear_scr
692   0000              	GLOBAL _spr_page_map
693   0000              	GLOBAL _spr_page_down
694   0000              	GLOBAL _spr_page_up
695   0000              	GLOBAL _spr_page_right
696   0000              	GLOBAL _spr_page_left
697   0000              	GLOBAL _spr_tile_paint
698   0000              	GLOBAL _spr_draw_index
699   0000              	GLOBAL _spr_brick_anim
700   0000              	GLOBAL _spr_back_repaint
701   0000              	GLOBAL _spr_tile_dir
702   0000              	GLOBAL _spr_tile
703   0000              	GLOBAL _spr_paint_player
704   0000              	GLOBAL _spr_paint
705   0000              	GLOBAL _spr_move_left
706   0000              	GLOBAL _spr_move_right
707   0000              	GLOBAL _spr_move_horizontal
708   0000              	GLOBAL _spr_move_down
709   0000              	GLOBAL _spr_move_up
710   0000              	GLOBAL _spr_set_right
711   0000              	GLOBAL _spr_set_left
712   0000              	GLOBAL _spr_set_down
713   0000              	GLOBAL _spr_set_up
714   0000              	GLOBAL _spr_calc_index
715   0000              	GLOBAL _spr_chktime
716   0000              	GLOBAL _player_fix_walk_lin
717   0000              	GLOBAL _player_gasta_brick
718   0000              	GLOBAL _player_lost_life
719   0000              	GLOBAL _player_damage
720   0000              	GLOBAL _player_open_door
721   0000              	GLOBAL _player_move_jump
722   0000              	GLOBAL _player_fire
723   0000              	GLOBAL _player_check_stairs_vertical
724   0000              	GLOBAL _player_check_stairs
725   0000              	GLOBAL _player_tile
726   0000              	GLOBAL _player_anim_stairs
727   0000              	GLOBAL _player_pick_item
728   0000              	GLOBAL _player_check_floor
729   0000              	GLOBAL _player_hit_platform_clear
730   0000              	GLOBAL _player_score_add
731   0000              	GLOBAL _player_hit_platform
732   0000              	GLOBAL _player_move_input
733   0000              	GLOBAL _player_turn
734   0000              	GLOBAL _player_move
735   0000              	GLOBAL _player_check_input
736   0000              	GLOBAL _player_pick_mushroom
737   0000              	GLOBAL _player_collision
738   0000              	GLOBAL _player_init
739   0000              	GLOBAL _game_fill_row
740   0000              	GLOBAL _menu_define_key
741   0000              	GLOBAL _menu_redefine
742   0000              	GLOBAL _menu_main_print
743   0000              	GLOBAL _menu_main
744   0000              	GLOBAL _boss_draw_frame
745   0000              	GLOBAL _boss_draw
746   0000              	GLOBAL _boss_turn
747   0000              	GLOBAL _enemy_avoid_dead
748   0000              	GLOBAL _enemy_avoid_fall
749   0000              	GLOBAL _enemy_kill
750   0000              	GLOBAL _enemy_respawn
751   0000              	GLOBAL _enemy_init
752   0000              	GLOBAL _enemy_move
753   0000              	GLOBAL _enemy_turn
754   0000              	GLOBAL _enemy_static
755   0000              	GLOBAL _enemy_walk
756   0000              	GLOBAL _enemy_horizontal
757   0000              	GLOBAL _enemy_vertical
758   0000              	GLOBAL _ay_reset
759   0000              	GLOBAL _ay_song_stop
760   0000              	GLOBAL _ay_song_play
761   0000              	GLOBAL _ay_fx_stop
762   0000              	GLOBAL _ay_fx_play
763   0000              	GLOBAL _ay_is_playing
764   0000              	GLOBAL _audio_menu
765   0000              	GLOBAL _audio_game_end
766   0000              	GLOBAL _audio_level_complete
767   0000              	GLOBAL _audio_level_start
768   0000              	GLOBAL _audio_lotr_lose_a_life
769   0000              	GLOBAL _audio_pierto_abierta
770   0000              	GLOBAL _audio_sin_mana
771   0000              	GLOBAL _audio_magia1
772   0000              	GLOBAL _audio_coin
773   0000              	GLOBAL _audio_golpe
774   0000              	GLOBAL _audio_salto
775   0000              	GLOBAL _audio_efecto
776   0000              	GLOBAL _audio_disparo2
777   0000              	GLOBAL _audio_disparo1
778   0000              	GLOBAL _audio_explosion1
779   0000              	GLOBAL _audio_explosion
780   0000              	GLOBAL _test_func
781   0000              	GLOBAL _test_proc
782   0000              	GLOBAL _in_mouse_kempston_wheel_delta
783   0000              	GLOBAL _in_mouse_kempston_wheel
784   0000              	GLOBAL _in_mouse_kempston_callee
785   0000              	GLOBAL _in_mouse_kempston
786   0000              	GLOBAL _in_mouse_kempston_setpos_callee
787   0000              	GLOBAL _in_mouse_kempston_setpos
788   0000              	GLOBAL _in_mouse_kempston_reset
789   0000              	GLOBAL _in_mouse_kempston_init
790   0000              	GLOBAL _in_mouse_amx_wheel_delta
791   0000              	GLOBAL _in_mouse_amx_wheel
792   0000              	GLOBAL _in_mouse_amx_callee
793   0000              	GLOBAL _in_mouse_amx
794   0000              	GLOBAL _in_mouse_amx_setpos_callee
795   0000              	GLOBAL _in_mouse_amx_setpos
796   0000              	GLOBAL _in_mouse_amx_reset
797   0000              	GLOBAL _in_mouse_amx_init_callee
798   0000              	GLOBAL _in_mouse_amx_init
799   0000              	GLOBAL _in_stick_sinclair2
800   0000              	GLOBAL _in_stick_sinclair1
801   0000              	GLOBAL _in_stick_kempston
802   0000              	GLOBAL _in_stick_fuller
803   0000              	GLOBAL _in_stick_cursor
804   0000              	GLOBAL _in_stick_keyboard_fastcall
805   0000              	GLOBAL _in_stick_keyboard
806   0000              	GLOBAL _in_wait_nokey
807   0000              	GLOBAL _in_wait_key
808   0000              	GLOBAL _in_test_key
809   0000              	GLOBAL _in_pause_fastcall
810   0000              	GLOBAL _in_pause
811   0000              	GLOBAL _in_key_scancode_fastcall
812   0000              	GLOBAL _in_key_scancode
813   0000              	GLOBAL _in_key_pressed_fastcall
814   0000              	GLOBAL _in_key_pressed
815   0000              	GLOBAL _in_inkey
816   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
817   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
818   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
819   0000              	GLOBAL _NIRVANAP_HOLE
820   0000              	GLOBAL _NIRVANAP_ISR_HOOK
821   0000              	GLOBAL _scan_map
822   0000              	GLOBAL _key_map
823   0000              	GLOBAL _player_lvl_table
824   0000              	GLOBAL _stp_row
825   0000              	GLOBAL _stp_col
826   0000              	GLOBAL _stp_tile
827   0000              	GLOBAL _map_paper_last_a
828   0000              	GLOBAL _map_paper_last
829   0000              	GLOBAL _map_paper_clr
830   0000              	GLOBAL _map_paper
831   0000              	GLOBAL _draw_count
832   0000              	GLOBAL _g_player_hit_right
833   0000              	GLOBAL _g_player_hit_left
834   0000              	GLOBAL _bullet_count
835   0000              	GLOBAL _spr_hack
836   0000              	GLOBAL _boss_stat
837   0000              	GLOBAL _boss_time_fire
838   0000              	GLOBAL _boss_time
839   0000              	GLOBAL _boss_tile
840   0000              	GLOBAL _boss_inc
841   0000              	GLOBAL _boss_col
842   0000              	GLOBAL _boss_lin
843   0000              	GLOBAL _bullet
844   0000              	GLOBAL _bullet_vel
845   0000              	GLOBAL _bullet_frames
846   0000              	GLOBAL _bullet_colint
847   0000              	GLOBAL _bullet_dir
848   0000              	GLOBAL _bullet_tile
849   0000              	GLOBAL _bullet_col
850   0000              	GLOBAL _bullet_lin
851   0000              	GLOBAL _bullet_col0
852   0000              	GLOBAL _bullet_lin0
853   0000              	GLOBAL _bullet_max
854   0000              	GLOBAL _bullet_class
855   0000              	GLOBAL _mush_class
856   0000              	GLOBAL _mush_index
857   0000              	GLOBAL _anim_count
858   0000              	GLOBAL _anim_respanwn
859   0000              	GLOBAL _anim_loop
860   0000              	GLOBAL _anim_end
861   0000              	GLOBAL _anim_int
862   0000              	GLOBAL _anim_tile
863   0000              	GLOBAL _anim_col
864   0000              	GLOBAL _anim_lin
865   0000              	GLOBAL _map_heigth
866   0000              	GLOBAL _map_width
867   0000              	GLOBAL _scr_curr
868   0000              	GLOBAL _sprite_kind
869   0000              	GLOBAL _scr_obj1
870   0000              	GLOBAL _scr_obj0
871   0000              	GLOBAL _scr_map
872   0000              	GLOBAL _sprite_speed_alt
873   0000              	GLOBAL _spr_init
874   0000              	GLOBAL _spr_map_tile
875   0000              	GLOBAL _sprite_frames
876   0000              	GLOBAL _sprite_speed
877   0000              	GLOBAL _screen_ink
878   0000              	GLOBAL _screen_paper
879   0000              	GLOBAL _player_onstair
880   0000              	GLOBAL _game_start_scr
881   0000              	GLOBAL _game_respawn_tile
882   0000              	GLOBAL _game_respawn_index
883   0000              	GLOBAL _game_respawn_time
884   0000              	GLOBAL _game_score_top
885   0000              	GLOBAL _player_coins
886   0000              	GLOBAL _player_lives
887   0000              	GLOBAL _game_over
888   0000              	GLOBAL _game_sound
889   0000              	GLOBAL _game_inf_lives
890   0000              	GLOBAL _game_inmune
891   0000              	GLOBAL _sprite_curr_index
892   0000              	GLOBAL _spr_count
893   0000              	GLOBAL _bullet_time
894   0000              	GLOBAL _anim_time
895   0000              	GLOBAL _frame_time
896   0000              	GLOBAL _curr_time
897   0000              	GLOBAL _s_state
898   0000              	GLOBAL _attrib_osd
899   0000              	GLOBAL _attrib_hl
900   0000              	GLOBAL _attrib
901   0000              	GLOBAL _zx_val_asm
902   0000              	GLOBAL _enemies
903   0000              	GLOBAL _tmp_ui
904   0000              	GLOBAL _tmp_sc
905   0000              	GLOBAL _tmp_uc
906   0000              	GLOBAL _tmp1
907   0000              	GLOBAL _tmp0
908   0000              	GLOBAL _tmp
909   0000              	GLOBAL _index1
910   0000              	GLOBAL _index0
911   0000              	GLOBAL _loop_count
912   0000              	GLOBAL _s_class
913   0000              	GLOBAL _s_col1
914   0000              	GLOBAL _s_col0
915   0000              	GLOBAL _s_lin1
916   0000              	GLOBAL _s_lin0
917   0000              	GLOBAL _s_tile1
918   0000              	GLOBAL _s_tile0
919   0000              	GLOBAL _player_brick_time
920   0000              	GLOBAL _player_hit_count
921   0000              	GLOBAL _game_debug
922   0000              	GLOBAL _sprite_horizontal_check
923   0000              	GLOBAL _sprite_on_air
924   0000              	GLOBAL _sprite
925   0000              	GLOBAL _fps
926   0000              	GLOBAL _menu_curr_sel
927   0000              	GLOBAL _game_control_mode
928   0000              	GLOBAL _game_respawn_curr_time
929   0000              	GLOBAL _game_round_up
930   0000              	GLOBAL _game_mush_count
931   0000              	GLOBAL _game_boss_fix
932   0000              	GLOBAL _game_boss_hit
933   0000              	GLOBAL _game_boss_alive
934   0000              	GLOBAL _game_boss
935   0000              	GLOBAL _game_world
936   0000              	GLOBAL _game_gravity
937   0000              	GLOBAL _player_onfire
938   0000              	GLOBAL _player_anim_stair
939   0000              	GLOBAL _player_hit_time
940   0000              	GLOBAL _game_checkpoint_scr
941   0000              	GLOBAL _game_checkpoint_lin
942   0000              	GLOBAL _game_checkpoint_col
943   0000              	GLOBAL _player_lin_scr
944   0000              	GLOBAL _player_col_scr
945   0000              	GLOBAL _player_lvl
946   0000              	GLOBAL _player_int
947   0000              	GLOBAL _player_str
948   0000              	GLOBAL _player_max_vita
949   0000              	GLOBAL _player_max_mana
950   0000              	GLOBAL _player_vita
951   0000              	GLOBAL _player_mana
952   0000              	GLOBAL _player_keys
953   0000              	GLOBAL _player_vel_inc
954   0000              	GLOBAL _player_vel_y1
955   0000              	GLOBAL _player_vel_y0
956   0000              	GLOBAL _player_vel_y
957   0000              	GLOBAL _player_vel_x
958   0000              	GLOBAL _player_score
959   0000              	GLOBAL _last_time
960   0000              	GLOBAL _spr_timer
961   0000              	GLOBAL _jump_lin
962   0000              	GLOBAL _player_hit_col
963   0000              	GLOBAL _player_hit_lin
964   0000              	GLOBAL _colint
965   0000              	GLOBAL _col
966   0000              	GLOBAL _tbuffer
967   0000              	GLOBAL _lin
968   0000              	GLOBAL _tile
969   0000              	GLOBAL _state_a
970   0000              	GLOBAL _state
971   0000              	GLOBAL _class
972   0000              	GLOBAL _dirs_alt
973   0000              	GLOBAL _dirs
974   0000              	GLOBAL _k2
975   0000              	GLOBAL _k1
976   0000              	GLOBAL _joyfunc2
977   0000              	GLOBAL _joyfunc1
978   0000              	GLOBAL _btiles
979   0000              	GLOBAL _spec128
980   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
981   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
982   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
983   0000              	GLOBAL _ay_song_06_ciel
984   0000              	GLOBAL _ay_song_04_sunflower
985   0000              	GLOBAL _ay_song_04_lotr_level_start
986   0000              	GLOBAL _ay_song_04_lotr_level_complete
987   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
988   0000              	GLOBAL _ay_song_04_lotr
989   0000              	GLOBAL _ay_fx_06_explosion1
990   0000              	GLOBAL _ay_fx_06_efecto
991   0000              	GLOBAL _ay_fx_06_disparo2
992   0000              	GLOBAL _ay_fx_06_disparo1
993   0000              	GLOBAL _ay_fx_04_sin_mana
994   0000              	GLOBAL _ay_fx_04_salto
995   0000              	GLOBAL _ay_fx_04_pierto_abierta
996   0000              	GLOBAL _ay_fx_04_magia1
997   0000              	GLOBAL _ay_fx_04_golpe
998   0000              	GLOBAL _ay_fx_04_explosion
999   0000              	GLOBAL _ay_fx_04_dano_por_toque
1000  0000              	GLOBAL _ay_fx_04_coin
1001  0000              	GLOBAL _world0_h
1002  0000              	GLOBAL _world0_w
1003  0000              	GLOBAL _world0
1004  0000              	GLOBAL _paper0
1005  0000              	GLOBAL _lenght0
1006  0000              	GLOBAL _start_scr0
1007  0000              ;--------------------------------------------------------
1008  0000              ; special function registers
1009  0000              ;--------------------------------------------------------
1010  0000              defc _IO_FE	=	0x00fe
1011  0000              defc _IO_1FFD	=	0x1ffd
1012  0000              defc _IO_7FFD	=	0x7ffd
1013  0000              ;--------------------------------------------------------
1014  0000              ; ram data
1015  0000              ;--------------------------------------------------------
1016  0000              	SECTION bss_compiler
1017  0000              ;--------------------------------------------------------
1018  0000              ; ram data
1019  0000              ;--------------------------------------------------------
1020  0000              
1021  0000              IF 0
1022  0000              
1023  0000              ; .area _INITIALIZED removed by z88dk
1024  0000              
1025  0000              
1026  0000              ENDIF
1027  0000              
1028  0000              ;--------------------------------------------------------
1029  0000              ; absolute external ram data
1030  0000              ;--------------------------------------------------------
1031  0000              	SECTION IGNORE
1032  0000              ;--------------------------------------------------------
1033  0000              ; global & static initialisations
1034  0000              ;--------------------------------------------------------
1035  0000              	SECTION code_crt_init
1036  0000              ;--------------------------------------------------------
1037  0000              ; Home
1038  0000              ;--------------------------------------------------------
1039  0000              	SECTION IGNORE
1040  0000              ;--------------------------------------------------------
1041  0000              ; code
1042  0000              ;--------------------------------------------------------
1043  0000              	SECTION code_compiler
1044  0000              ;	---------------------------------
1045  0000              ; Function game_loop
1046  0000              ; ---------------------------------
1047  0000              _game_loop:
1048  0000  CD 6A 08    	call	_game_round_init
1049  0003              l_game_loop_00121:
1050  0003  3A 00 00    	ld	a,(_game_over)
1051  0006  B7          	or	a, a
1052  0007  C2 E4 00    	jp	NZ, l_game_loop_00124
1053  000A              l_game_loop_00116:
1054  000A  3A 00 00    	ld	a,(_game_round_up)
1055  000D  B7          	or	a, a
1056  000E  C2 A3 00    	jp	NZ, l_game_loop_00118
1057  0011  3A 00 00    	ld	a,(_game_over)
1058  0014  B7          	or	a, a
1059  0015  C2 A3 00    	jp	NZ, l_game_loop_00118
1060  0018  CD 00 00    	call	_enemy_turn
1061  001B  CD 00 00    	call	_player_turn
1062  001E  3A 00 00    	ld	a,(_game_boss)
1063  0021  B7          	or	a, a
1064  0022  28 03       	jr	Z,l_game_loop_00102
1065  0024  CD 00 00    	call	_boss_turn
1066  0027              l_game_loop_00102:
1067  0027  3E 02       	ld	a,0x02
1068  0029  F5          	push	af
1069  002A  33          	inc	sp
1070  002B  21 00 00    	ld	hl,_bullet_time
1071  002E  E5          	push	hl
1072  002F  CD 58 0C    	call	_game_check_time
1073  0032  F1          	pop	af
1074  0033  33          	inc	sp
1075  0034  7D          	ld	a, l
1076  0035  B7          	or	a, a
1077  0036  28 0F       	jr	Z,l_game_loop_00106
1078  0038  2A 00 00    	ld	hl,(_curr_time)
1079  003B  22 00 00    	ld	(_bullet_time),hl
1080  003E  3A 00 00    	ld	a,(_bullet_count)
1081  0041  B7          	or	a,a
1082  0042  28 03       	jr	Z,l_game_loop_00106
1083  0044  CD 00 00    	call	_spr_bullets_play
1084  0047              l_game_loop_00106:
1085  0047  3E 08       	ld	a,0x08
1086  0049  F5          	push	af
1087  004A  33          	inc	sp
1088  004B  21 00 00    	ld	hl,_anim_time
1089  004E  E5          	push	hl
1090  004F  CD 58 0C    	call	_game_check_time
1091  0052  F1          	pop	af
1092  0053  33          	inc	sp
1093  0054  7D          	ld	a, l
1094  0055  B7          	or	a, a
1095  0056  28 14       	jr	Z,l_game_loop_00110
1096  0058  2E 00       	ld	l,0x00
1097  005A  CD 00 00    	call	_zx_border_fastcall
1098  005D  2A 00 00    	ld	hl,(_curr_time)
1099  0060  22 00 00    	ld	(_anim_time),hl
1100  0063  3A 00 00    	ld	a,(_anim_count)
1101  0066  B7          	or	a,a
1102  0067  28 03       	jr	Z,l_game_loop_00110
1103  0069  CD 00 00    	call	_spr_play_anim
1104  006C              l_game_loop_00110:
1105  006C  3E 64       	ld	a,0x64
1106  006E  F5          	push	af
1107  006F  33          	inc	sp
1108  0070  21 00 00    	ld	hl,_frame_time
1109  0073  E5          	push	hl
1110  0074  CD 58 0C    	call	_game_check_time
1111  0077  F1          	pop	af
1112  0078  33          	inc	sp
1113  0079  7D          	ld	a, l
1114  007A  B7          	or	a, a
1115  007B  28 12       	jr	Z,l_game_loop_00114
1116  007D  2A 00 00    	ld	hl,(_curr_time)
1117  0080  22 00 00    	ld	(_frame_time),hl
1118  0083  3A 00 00    	ld	a,(_game_debug)
1119  0086  B7          	or	a,a
1120  0087  28 03       	jr	Z,l_game_loop_00112
1121  0089  CD E5 00    	call	_game_fps
1122  008C              l_game_loop_00112:
1123  008C  CD FC 00    	call	_game_respawn
1124  008F              l_game_loop_00114:
1125  008F  21 00 00    	ld	hl,_loop_count
1126  0092  34          	inc	(hl)
1127  0093  20 02       	jr	NZ,l_game_loop_00174
1128  0095  23          	inc	hl
1129  0096  34          	inc	(hl)
1130  0097              l_game_loop_00174:
1131  0097  21 00 00    	ld	hl,_fps
1132  009A  34          	inc	(hl)
1133  009B  C2 0A 00    	jp	NZ,l_game_loop_00116
1134  009E  23          	inc	hl
1135  009F  34          	inc	(hl)
1136  00A0  C3 0A 00    	jp	l_game_loop_00116
1137  00A3              l_game_loop_00118:
1138  00A3  21 00 00    	ld	hl,_game_round_up
1139  00A6  7E          	ld	a, (hl)
1140  00A7  B7          	or	a, a
1141  00A8  CA 03 00    	jp	Z, l_game_loop_00121
1142  00AB  36 00       	ld	(hl),0x00
1143  00AD  21 00 00    	ld	hl,_game_respawn_curr_time
1144  00B0  7E          	ld	a, (hl)
1145  00B1  C6 E0       	add	a,0xe0
1146  00B3  77          	ld	(hl), a
1147  00B4  21 00 00    	ld	hl,_game_world
1148  00B7  34          	inc	(hl)
1149  00B8  21 00 00    	ld	hl,_game_boss_alive
1150  00BB  36 01       	ld	(hl),0x01
1151  00BD  21 00 00    	ld	hl,_game_boss
1152  00C0  36 00       	ld	(hl),0x00
1153  00C2  21 00 00    	ld	hl,_scr_curr
1154  00C5  36 FF       	ld	(hl),0xff
1155  00C7  21 00 00    	ld	hl,_player_lin_scr
1156  00CA  36 00       	ld	(hl),0x00
1157  00CC  21 00 00    	ld	hl,_player_col_scr
1158  00CF  36 00       	ld	(hl),0x00
1159  00D1  CD 93 10    	call	_game_obj_clear
1160  00D4  21 00 00    	ld	hl,_player_col_scr
1161  00D7  36 02       	ld	(hl),0x02
1162  00D9  21 00 00    	ld	hl,_player_lin_scr
1163  00DC  36 80       	ld	(hl),0x80
1164  00DE  CD 6A 08    	call	_game_round_init
1165  00E1  C3 03 00    	jp	l_game_loop_00121
1166  00E4              l_game_loop_00124:
1167  00E4  C9          	ret
1168  00E5              	SECTION code_compiler
1169  00E5              ;	---------------------------------
1170  00E5              ; Function game_fps
1171  00E5              ; ---------------------------------
1172  00E5              _game_fps:
1173  00E5  21 00 00    	ld	hl,_screen_ink
1174  00E8  36 07       	ld	(hl),0x07
1175  00EA  2A 00 00    	ld	hl,(_fps)
1176  00ED  E5          	push	hl
1177  00EE  21 17 18    	ld	hl,0x1817
1178  00F1  E5          	push	hl
1179  00F2  CD 00 00    	call	_zx_print_int
1180  00F5  21 00 00    	ld	hl,0x0000
1181  00F8  22 00 00    	ld	(_fps),hl
1182  00FB  C9          	ret
1183  00FC              	SECTION code_compiler
1184  00FC              ;	---------------------------------
1185  00FC              ; Function game_respawn
1186  00FC              ; ---------------------------------
1187  00FC              _game_respawn:
1188  00FC  21 00 00    	ld	hl,_sprite
1189  00FF  36 00       	ld	(hl),0x00
1190  0101              l_game_respawn_00105:
1191  0101  21 00 00    	ld	hl,_sprite
1192  0104  7E          	ld	a, (hl)
1193  0105  D6 07       	sub	a,0x07
1194  0107  D2 97 01    	jp	NC, l_game_respawn_00108
1195  010A  01 00 00    	ld	bc,_game_respawn_time+0
1196  010D  6E          	ld	l,(hl)
1197  010E  26 00       	ld	h,0x00
1198  0110  29          	add	hl, hl
1199  0111  09          	add	hl, bc
1200  0112  5E          	ld	e,(hl)
1201  0113  23          	inc	hl
1202  0114  56          	ld	d,(hl)
1203  0115  2B          	dec	hl
1204  0116  7A          	ld	a, d
1205  0117  B3          	or	a,e
1206  0118  28 76       	jr	Z,l_game_respawn_00104
1207  011A  3A 00 00    	ld	a,(_game_respawn_curr_time)
1208  011D  EB          	ex	de,hl
1209  011E  C5          	push	bc
1210  011F  F5          	push	af
1211  0120  33          	inc	sp
1212  0121  D5          	push	de
1213  0122  CD 58 0C    	call	_game_check_time
1214  0125  F1          	pop	af
1215  0126  33          	inc	sp
1216  0127  C1          	pop	bc
1217  0128  7D          	ld	a,l
1218  0129  B7          	or	a, a
1219  012A  28 64       	jr	Z,l_game_respawn_00104
1220  012C  2A 00 00    	ld	hl,(_sprite)
1221  012F  26 00       	ld	h,0x00
1222  0131  11 00 00    	ld	de,_game_respawn_index
1223  0134  19          	add	hl,de
1224  0135  7E          	ld	a,(hl)
1225  0136  6F          	ld	l,a
1226  0137  26 00       	ld	h,0x00
1227  0139  22 00 00    	ld	(_index1),hl
1228  013C  5F          	ld	e,a
1229  013D  E6 0F       	and	a,0x0f
1230  013F  87          	add	a, a
1231  0140  32 00 00    	ld	(_s_col1),a
1232  0143  21 00 00    	ld	hl,_s_lin1
1233  0146  73          	ld	(hl),e
1234  0147  7B          	ld	a,e
1235  0148  07          	rlca
1236  0149  07          	rlca
1237  014A  07          	rlca
1238  014B  07          	rlca
1239  014C  E6 0F       	and	a,0x0f
1240  014E  07          	rlca
1241  014F  07          	rlca
1242  0150  07          	rlca
1243  0151  07          	rlca
1244  0152  E6 F0       	and	a,0xf0
1245  0154  77          	ld	(hl), a
1246  0155  11 00 00    	ld	de,_scr_map
1247  0158  2A 00 00    	ld	hl,(_index1)
1248  015B  19          	add	hl,de
1249  015C  EB          	ex	de,hl
1250  015D  21 00 00    	ld	hl,_sprite
1251  0160  7E          	ld	a, (hl)
1252  0161  C6 80       	add	a,0x80
1253  0163  12          	ld	(de), a
1254  0164  6E          	ld	l,(hl)
1255  0165  26 00       	ld	h,0x00
1256  0167  29          	add	hl, hl
1257  0168  09          	add	hl, bc
1258  0169  AF          	xor	a, a
1259  016A  77          	ld	(hl), a
1260  016B  23          	inc	hl
1261  016C  77          	ld	(hl), a
1262  016D  2A 00 00    	ld	hl,(_sprite)
1263  0170  26 00       	ld	h,0x00
1264  0172  01 00 00    	ld	bc,_game_respawn_tile
1265  0175  09          	add	hl,bc
1266  0176  7E          	ld	a,(hl)
1267  0177  F5          	push	af
1268  0178  33          	inc	sp
1269  0179  21 03 04    	ld	hl,0x0403
1270  017C  E5          	push	hl
1271  017D  2A 00 00    	ld	hl,(_s_col1)
1272  0180  26 8A       	ld	h,0x8a
1273  0182  3A 00 00    	ld	a,(_s_lin1)
1274  0185  E5          	push	hl
1275  0186  F5          	push	af
1276  0187  33          	inc	sp
1277  0188  CD 00 00    	call	_spr_add_anim
1278  018B  F1          	pop	af
1279  018C  F1          	pop	af
1280  018D  F1          	pop	af
1281  018E  18 07       	jr	l_game_respawn_00108
1282  0190              l_game_respawn_00104:
1283  0190  21 00 00    	ld	hl,_sprite
1284  0193  34          	inc	(hl)
1285  0194  C3 01 01    	jp	l_game_respawn_00105
1286  0197              l_game_respawn_00108:
1287  0197  C9          	ret
1288  0198              	SECTION code_compiler
1289  0198              ;	---------------------------------
1290  0198              ; Function game_draw_screen
1291  0198              ; ---------------------------------
1292  0198              _game_draw_screen:
1293  0198  CD 00 00    	call	___sdcc_enter_ix
1294  019B  F5          	push	af
1295  019C  76          	halt
1296  019D  21 00 00    	ld	hl,_game_boss
1297  01A0  36 00       	ld	(hl),0x00
1298  01A2  21 00 00    	ld	hl,_game_boss_fix
1299  01A5  36 00       	ld	(hl),0x00
1300  01A7  2A 00 00    	ld	hl,(_curr_time)
1301  01AA  22 00 00    	ld	(_player_brick_time),hl
1302  01AD  21 00 00    	ld	hl,_spr_count
1303  01B0  36 00       	ld	(hl),0x00
1304  01B2  CD 00 00    	call	_spr_init_effects
1305  01B5  01 00 00    	ld	bc,_game_respawn_time+0
1306  01B8              l_game_draw_screen_00101:
1307  01B8  21 00 00    	ld	hl,_spr_count
1308  01BB  7E          	ld	a, (hl)
1309  01BC  D6 07       	sub	a,0x07
1310  01BE  30 46       	jr	NC,l_game_draw_screen_00103
1311  01C0  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1312  01C2  86          	add	a, (hl)
1313  01C3  5F          	ld	e, a
1314  01C4  3E 00       	ld	a, +((_game_respawn_index) / 256)
1315  01C6  CE 00       	adc	a,0x00
1316  01C8  57          	ld	d, a
1317  01C9  AF          	xor	a, a
1318  01CA  12          	ld	(de), a
1319  01CB  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1320  01CD  86          	add	a, (hl)
1321  01CE  5F          	ld	e, a
1322  01CF  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1323  01D1  CE 00       	adc	a,0x00
1324  01D3  57          	ld	d, a
1325  01D4  AF          	xor	a, a
1326  01D5  12          	ld	(de), a
1327  01D6  6E          	ld	l,(hl)
1328  01D7  26 00       	ld	h,0x00
1329  01D9  29          	add	hl, hl
1330  01DA  09          	add	hl, bc
1331  01DB  AF          	xor	a, a
1332  01DC  77          	ld	(hl), a
1333  01DD  23          	inc	hl
1334  01DE  77          	ld	(hl), a
1335  01DF  2A 00 00    	ld	hl,(_spr_count)
1336  01E2  26 00       	ld	h,0x00
1337  01E4  11 00 00    	ld	de,_mush_index
1338  01E7  19          	add	hl,de
1339  01E8  AF          	xor	a,a
1340  01E9  77          	ld	(hl),a
1341  01EA  2A 00 00    	ld	hl,(_spr_count)
1342  01ED  26 00       	ld	h,0x00
1343  01EF  11 00 00    	ld	de,_mush_class
1344  01F2  19          	add	hl,de
1345  01F3  AF          	xor	a,a
1346  01F4  77          	ld	(hl),a
1347  01F5  2A 00 00    	ld	hl,(_spr_count)
1348  01F8  26 00       	ld	h,0x00
1349  01FA  11 00 00    	ld	de,_class
1350  01FD  19          	add	hl,de
1351  01FE  AF          	xor	a,a
1352  01FF  77          	ld	(hl),a
1353  0200  21 00 00    	ld	hl,_spr_count
1354  0203  34          	inc	(hl)
1355  0204  18 B2       	jr	l_game_draw_screen_00101
1356  0206              l_game_draw_screen_00103:
1357  0206  21 10 00    	ld	hl,0x0010
1358  0209  22 00 00    	ld	(_index1),hl
1359  020C  21 00 00    	ld	hl,_s_lin1
1360  020F  36 00       	ld	(hl),0x00
1361  0211  21 00 00    	ld	hl,_s_col1
1362  0214  36 02       	ld	(hl),0x02
1363  0216  21 00 00    	ld	hl,_spr_count
1364  0219  36 00       	ld	(hl),0x00
1365  021B  F3          	di
1366  021C  DD 36 FF 00 	ld	(ix-1),0x00
1367  0220              l_game_draw_screen_00127:
1368  0220  21 00 00    	ld	hl,_index1
1369  0223  7E          	ld	a, (hl)
1370  0224  D6 A0       	sub	a,0xa0
1371  0226  23          	inc	hl
1372  0227  7E          	ld	a, (hl)
1373  0228  DE 00       	sbc	a,0x00
1374  022A  D2 4E 03    	jp	NC, l_game_draw_screen_00129
1375  022D  2B          	dec	hl
1376  022E  7E          	ld	a, (hl)
1377  022F  E6 0F       	and	a,0x0f
1378  0231  20 0C       	jr	NZ,l_game_draw_screen_00105
1379  0233  21 00 00    	ld	hl,_s_lin1
1380  0236  7E          	ld	a, (hl)
1381  0237  C6 10       	add	a,0x10
1382  0239  77          	ld	(hl), a
1383  023A  21 00 00    	ld	hl,_s_col1
1384  023D  36 00       	ld	(hl),0x00
1385  023F              l_game_draw_screen_00105:
1386  023F  01 00 00    	ld	bc,_scr_map
1387  0242  2A 00 00    	ld	hl,(_index1)
1388  0245  09          	add	hl,bc
1389  0246  7E          	ld	a,(hl)
1390  0247  DD 77 FE    	ld	(ix-2),a
1391  024A  D6 60       	sub	a,0x60
1392  024C  30 67       	jr	NC,l_game_draw_screen_00125
1393  024E  DD 7E FE    	ld	a,(ix-2)
1394  0251  D6 5D       	sub	a,0x5d
1395  0253  20 04       	jr	NZ,l_game_draw_screen_00197
1396  0255  3E 01       	ld	a,0x01
1397  0257  18 01       	jr	l_game_draw_screen_00198
1398  0259              l_game_draw_screen_00197:
1399  0259  AF          	xor	a,a
1400  025A              l_game_draw_screen_00198:
1401  025A  4F          	ld	c,a
1402  025B  B7          	or	a, a
1403  025C  20 07       	jr	NZ,l_game_draw_screen_00111
1404  025E  DD 7E FE    	ld	a,(ix-2)
1405  0261  D6 5A       	sub	a,0x5a
1406  0263  20 2E       	jr	NZ,l_game_draw_screen_00112
1407  0265              l_game_draw_screen_00111:
1408  0265  21 00 00    	ld	hl,_index1
1409  0268  7E          	ld	a, (hl)
1410  0269  C6 F0       	add	a,0xf0
1411  026B  47          	ld	b, a
1412  026C  23          	inc	hl
1413  026D  7E          	ld	a, (hl)
1414  026E  CE FF       	adc	a,0xff
1415  0270  5F          	ld	e, a
1416  0271  C5          	push	bc
1417  0272  68          	ld	l, b
1418  0273  63          	ld	h, e
1419  0274  CD 5C 10    	call	_game_obj_chk
1420  0277  C1          	pop	bc
1421  0278  7D          	ld	a,l
1422  0279  B7          	or	a, a
1423  027A  28 0F       	jr	Z,l_game_draw_screen_00109
1424  027C  01 00 00    	ld	bc,_scr_map
1425  027F  2A 00 00    	ld	hl,(_index1)
1426  0282  09          	add	hl,bc
1427  0283  36 4F       	ld	(hl),0x4f
1428  0285  DD 36 FE 4F 	ld	(ix-2),0x4f
1429  0289  18 08       	jr	l_game_draw_screen_00112
1430  028B              l_game_draw_screen_00109:
1431  028B  79          	ld	a, c
1432  028C  B7          	or	a, a
1433  028D  28 04       	jr	Z,l_game_draw_screen_00112
1434  028F  DD 36 FE 00 	ld	(ix-2),0x00
1435  0293              l_game_draw_screen_00112:
1436  0293  DD 7E FE    	ld	a,(ix-2)
1437  0296  D6 23       	sub	a,0x23
1438  0298  20 09       	jr	NZ,l_game_draw_screen_00115
1439  029A  2A 00 00    	ld	hl,(_index1)
1440  029D  CD F5 11    	call	_game_match_back
1441  02A0  DD 75 FE    	ld	(ix-2),l
1442  02A3              l_game_draw_screen_00115:
1443  02A3  3A 00 00    	ld	a,(_s_col1)
1444  02A6  F5          	push	af
1445  02A7  33          	inc	sp
1446  02A8  2A FF FF    	ld	hl,(_s_lin1-1)
1447  02AB  DD 6E FE    	ld	l,(ix-2)
1448  02AE  E5          	push	hl
1449  02AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1450  02B2  C3 3D 03    	jp	l_game_draw_screen_00126
1451  02B5              l_game_draw_screen_00125:
1452  02B5  3E 78       	ld	a,0x78
1453  02B7  DD 96 FE    	sub	a,(ix-2)
1454  02BA  38 2D       	jr	C,l_game_draw_screen_00122
1455  02BC  3A 00 00    	ld	a,(_spr_count)
1456  02BF  D6 08       	sub	a,0x08
1457  02C1  30 53       	jr	NC,l_game_draw_screen_00123
1458  02C3  3A 00 00    	ld	a,(_game_boss_alive)
1459  02C6  B7          	or	a, a
1460  02C7  28 4D       	jr	Z,l_game_draw_screen_00123
1461  02C9  2A 00 00    	ld	hl,(_spr_count)
1462  02CC  26 00       	ld	h,0x00
1463  02CE  01 00 00    	ld	bc,_game_respawn_index
1464  02D1  09          	add	hl,bc
1465  02D2  3A 00 00    	ld	a,(_index1)
1466  02D5  77          	ld	(hl),a
1467  02D6  2A 00 00    	ld	hl,(_spr_count)
1468  02D9  26 00       	ld	h,0x00
1469  02DB  01 00 00    	ld	bc,_game_respawn_tile
1470  02DE  09          	add	hl,bc
1471  02DF  DD 7E FE    	ld	a,(ix-2)
1472  02E2  77          	ld	(hl),a
1473  02E3  6F          	ld	l,a
1474  02E4  CD F4 04    	call	_game_add_enemy
1475  02E7  18 2D       	jr	l_game_draw_screen_00123
1476  02E9              l_game_draw_screen_00122:
1477  02E9  2A 00 00    	ld	hl,(_index1)
1478  02EC  CD 5C 10    	call	_game_obj_chk
1479  02EF  7D          	ld	a, l
1480  02F0  B7          	or	a, a
1481  02F1  20 23       	jr	NZ,l_game_draw_screen_00123
1482  02F3  3E 00       	ld	a, +((_mush_index) & 0xFF)
1483  02F5  DD 86 FF    	add	a,(ix-1)
1484  02F8  4F          	ld	c, a
1485  02F9  3E 00       	ld	a, +((_mush_index) / 256)
1486  02FB  CE 00       	adc	a,0x00
1487  02FD  47          	ld	b, a
1488  02FE  3A 00 00    	ld	a,(_index1)
1489  0301  C6 10       	add	a,0x10
1490  0303  02          	ld	(bc), a
1491  0304  3E 00       	ld	a, +((_mush_class) & 0xFF)
1492  0306  DD 86 FF    	add	a,(ix-1)
1493  0309  4F          	ld	c, a
1494  030A  3E 00       	ld	a, +((_mush_class) / 256)
1495  030C  CE 00       	adc	a,0x00
1496  030E  47          	ld	b, a
1497  030F  DD 7E FE    	ld	a,(ix-2)
1498  0312  02          	ld	(bc), a
1499  0313  DD 34 FF    	inc	(ix-1)
1500  0316              l_game_draw_screen_00123:
1501  0316  2A 00 00    	ld	hl,(_index1)
1502  0319  01 00 00    	ld	bc,_scr_map
1503  031C  09          	add	hl,bc
1504  031D  E5          	push	hl
1505  031E  2A 00 00    	ld	hl,(_index1)
1506  0321  CD F5 11    	call	_game_match_back
1507  0324  C1          	pop	bc
1508  0325  7D          	ld	a,l
1509  0326  02          	ld	(bc), a
1510  0327  01 00 00    	ld	bc,_scr_map
1511  032A  2A 00 00    	ld	hl,(_index1)
1512  032D  09          	add	hl,bc
1513  032E  46          	ld	b, (hl)
1514  032F  3A 00 00    	ld	a,(_s_col1)
1515  0332  F5          	push	af
1516  0333  33          	inc	sp
1517  0334  3A 00 00    	ld	a,(_s_lin1)
1518  0337  48          	ld	c,b
1519  0338  47          	ld	b,a
1520  0339  C5          	push	bc
1521  033A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1522  033D              l_game_draw_screen_00126:
1523  033D  21 00 00    	ld	hl,_s_col1
1524  0340  34          	inc	(hl)
1525  0341  34          	inc	(hl)
1526  0342  21 00 00    	ld	hl,_index1
1527  0345  34          	inc	(hl)
1528  0346  C2 20 02    	jp	NZ,l_game_draw_screen_00127
1529  0349  23          	inc	hl
1530  034A  34          	inc	(hl)
1531  034B  C3 20 02    	jp	l_game_draw_screen_00127
1532  034E              l_game_draw_screen_00129:
1533  034E  FB          	ei
1534  034F  3A 00 00    	ld	a,(_game_boss_alive)
1535  0352  B7          	or	a, a
1536  0353  20 03       	jr	NZ,l_game_draw_screen_00131
1537  0355  CD DD 10    	call	_game_boss_clear
1538  0358              l_game_draw_screen_00131:
1539  0358  CD 30 07    	call	_game_update_stats
1540  035B  F1          	pop	af
1541  035C  DD E1       	pop	ix
1542  035E  C9          	ret
1543  035F              	SECTION code_compiler
1544  035F              ;	---------------------------------
1545  035F              ; Function game_boss_kill
1546  035F              ; ---------------------------------
1547  035F              _game_boss_kill:
1548  035F  21 00 00    	ld	hl,_game_boss
1549  0362  36 00       	ld	(hl),0x00
1550  0364  21 00 00    	ld	hl,_game_boss_alive
1551  0367  36 00       	ld	(hl),0x00
1552  0369  CD 00 00    	call	_audio_explosion
1553  036C  3A 00 00    	ld	a,(_boss_col)
1554  036F  21 00 00    	ld	hl,0x0000
1555  0372  E5          	push	hl
1556  0373  21 87 03    	ld	hl,0x0387
1557  0376  E5          	push	hl
1558  0377  F5          	push	af
1559  0378  33          	inc	sp
1560  0379  3A 00 00    	ld	a,(_boss_lin)
1561  037C  F5          	push	af
1562  037D  33          	inc	sp
1563  037E  CD 00 00    	call	_spr_add_anim
1564  0381  F1          	pop	af
1565  0382  F1          	pop	af
1566  0383  F1          	pop	af
1567  0384  21 00 00    	ld	hl,_boss_col
1568  0387  46          	ld	b, (hl)
1569  0388  04          	inc	b
1570  0389  04          	inc	b
1571  038A  21 00 00    	ld	hl,0x0000
1572  038D  E5          	push	hl
1573  038E  21 87 03    	ld	hl,0x0387
1574  0391  E5          	push	hl
1575  0392  C5          	push	bc
1576  0393  33          	inc	sp
1577  0394  3A 00 00    	ld	a,(_boss_lin)
1578  0397  F5          	push	af
1579  0398  33          	inc	sp
1580  0399  CD 00 00    	call	_spr_add_anim
1581  039C  F1          	pop	af
1582  039D  F1          	pop	af
1583  039E  F1          	pop	af
1584  039F  3A 00 00    	ld	a,(_boss_lin)
1585  03A2  C6 10       	add	a,0x10
1586  03A4  47          	ld	b, a
1587  03A5  3A 00 00    	ld	a,(_boss_col)
1588  03A8  21 00 00    	ld	hl,0x0000
1589  03AB  E5          	push	hl
1590  03AC  21 87 03    	ld	hl,0x0387
1591  03AF  E5          	push	hl
1592  03B0  48          	ld	c,b
1593  03B1  47          	ld	b,a
1594  03B2  C5          	push	bc
1595  03B3  CD 00 00    	call	_spr_add_anim
1596  03B6  F1          	pop	af
1597  03B7  F1          	pop	af
1598  03B8  F1          	pop	af
1599  03B9  21 00 00    	ld	hl,_boss_col
1600  03BC  56          	ld	d, (hl)
1601  03BD  14          	inc	d
1602  03BE  14          	inc	d
1603  03BF  3A 00 00    	ld	a,(_boss_lin)
1604  03C2  C6 10       	add	a,0x10
1605  03C4  47          	ld	b, a
1606  03C5  21 00 00    	ld	hl,0x0000
1607  03C8  E5          	push	hl
1608  03C9  21 87 03    	ld	hl,0x0387
1609  03CC  E5          	push	hl
1610  03CD  58          	ld	e,b
1611  03CE  D5          	push	de
1612  03CF  CD 00 00    	call	_spr_add_anim
1613  03D2  F1          	pop	af
1614  03D3  F1          	pop	af
1615  03D4  F1          	pop	af
1616  03D5  21 00 00    	ld	hl,_tmp0
1617  03D8  36 00       	ld	(hl),0x00
1618  03DA              l_game_boss_kill_00106:
1619  03DA  2A 00 00    	ld	hl,(_tmp0)
1620  03DD  26 00       	ld	h,0x00
1621  03DF  01 00 00    	ld	bc,_bullet_col
1622  03E2  09          	add	hl,bc
1623  03E3  7E          	ld	a,(hl)
1624  03E4  4F          	ld	c,a
1625  03E5  3C          	inc	a
1626  03E6  28 15       	jr	Z,l_game_boss_kill_00102
1627  03E8  3A 00 00    	ld	a,(_tmp0)
1628  03EB  5F          	ld	e,a
1629  03EC  16 00       	ld	d,0x00
1630  03EE  21 00 00    	ld	hl,_bullet_lin
1631  03F1  19          	add	hl,de
1632  03F2  7E          	ld	a,(hl)
1633  03F3  32 00 00    	ld	(_s_lin0),a
1634  03F6  21 00 00    	ld	hl,_s_col0
1635  03F9  71          	ld	(hl), c
1636  03FA  CD 00 00    	call	_spr_back_repaint
1637  03FD              l_game_boss_kill_00102:
1638  03FD  2A 00 00    	ld	hl,(_tmp0)
1639  0400  26 00       	ld	h,0x00
1640  0402  01 00 00    	ld	bc,_bullet_col
1641  0405  09          	add	hl,bc
1642  0406  36 FF       	ld	(hl),0xff
1643  0408  2A 00 00    	ld	hl,(_tmp0)
1644  040B  CD 00 00    	call	_spr_destroy
1645  040E  2A 00 00    	ld	hl,(_tmp0)
1646  0411  26 00       	ld	h,0x00
1647  0413  29          	add	hl, hl
1648  0414  11 00 00    	ld	de,_game_respawn_time
1649  0417  19          	add	hl, de
1650  0418  AF          	xor	a, a
1651  0419  77          	ld	(hl), a
1652  041A  23          	inc	hl
1653  041B  77          	ld	(hl), a
1654  041C  21 00 00    	ld	hl,_tmp0
1655  041F  7E          	ld	a,(hl)
1656  0420  3C          	inc	a
1657  0421  77          	ld	(hl),a
1658  0422  D6 07       	sub	a,0x07
1659  0424  38 B4       	jr	C,l_game_boss_kill_00106
1660  0426  CD DD 10    	call	_game_boss_clear
1661  0429  CD BC 05    	call	_game_print_footer
1662  042C  21 00 00    	ld	hl,_game_world
1663  042F  7E          	ld	a, (hl)
1664  0430  D6 03       	sub	a,0x03
1665  0432  C0          	ret	NZ
1666  0433  C3 36 04    	jp  _game_end
1667  0436              	SECTION code_compiler
1668  0436              ;	---------------------------------
1669  0436              ; Function game_end
1670  0436              ; ---------------------------------
1671  0436              _game_end:
1672  0436  21 F4 01    	ld	hl,0x01f4
1673  0439  CD 00 00    	call	_z80_delay_ms_fastcall
1674  043C  21 00 00    	ld	hl,_scr_curr
1675  043F  36 00       	ld	(hl),0x00
1676  0441  CD 00 00    	call	_spr_page_map
1677  0444  CD 98 01    	call	_game_draw_screen
1678  0447  CD 00 00    	call	_audio_game_end
1679  044A  21 80 02    	ld	hl,0x0280
1680  044D  E5          	push	hl
1681  044E  3E 70       	ld	a,0x70
1682  0450  F5          	push	af
1683  0451  33          	inc	sp
1684  0452  CD 00 00    	call	_NIRVANAP_drawT_callee
1685  0455  21 DC 05    	ld	hl,0x05dc
1686  0458  CD 00 00    	call	_z80_delay_ms_fastcall
1687  045B  21 00 00    	ld	hl,___str_0
1688  045E  E5          	push	hl
1689  045F  21 08 08    	ld	hl,0x0808
1690  0462  E5          	push	hl
1691  0463  CD 00 00    	call	_zx_print_str
1692  0466  AF          	xor	a, a
1693  0467  F5          	push	af
1694  0468  33          	inc	sp
1695  0469  21 D0 07    	ld	hl,0x07d0
1696  046C  E5          	push	hl
1697  046D  21 08 18    	ld	hl,0x1808
1698  0470  E5          	push	hl
1699  0471  3E 08       	ld	a,0x08
1700  0473  F5          	push	af
1701  0474  33          	inc	sp
1702  0475  CD 35 0B    	call	_game_colour_message
1703  0478  F1          	pop	af
1704  0479  F1          	pop	af
1705  047A  21 11 00    	ld	hl,___str_1
1706  047D  E3          	ex	(sp),hl
1707  047E  21 08 07    	ld	hl,0x0708
1708  0481  E5          	push	hl
1709  0482  CD 00 00    	call	_zx_print_str
1710  0485  AF          	xor	a, a
1711  0486  F5          	push	af
1712  0487  33          	inc	sp
1713  0488  21 D0 07    	ld	hl,0x07d0
1714  048B  E5          	push	hl
1715  048C  21 07 18    	ld	hl,0x1807
1716  048F  E5          	push	hl
1717  0490  3E 08       	ld	a,0x08
1718  0492  F5          	push	af
1719  0493  33          	inc	sp
1720  0494  CD 35 0B    	call	_game_colour_message
1721  0497  F1          	pop	af
1722  0498  F1          	pop	af
1723  0499  21 23 00    	ld	hl,___str_2
1724  049C  E3          	ex	(sp),hl
1725  049D  21 08 05    	ld	hl,0x0508
1726  04A0  E5          	push	hl
1727  04A1  CD 00 00    	call	_zx_print_str
1728  04A4  AF          	xor	a, a
1729  04A5  F5          	push	af
1730  04A6  33          	inc	sp
1731  04A7  21 D0 07    	ld	hl,0x07d0
1732  04AA  E5          	push	hl
1733  04AB  21 05 1B    	ld	hl,0x1b05
1734  04AE  E5          	push	hl
1735  04AF  3E 08       	ld	a,0x08
1736  04B1  F5          	push	af
1737  04B2  33          	inc	sp
1738  04B3  CD 35 0B    	call	_game_colour_message
1739  04B6  F1          	pop	af
1740  04B7  F1          	pop	af
1741  04B8  21 3A 00    	ld	hl,___str_3
1742  04BB  E3          	ex	(sp),hl
1743  04BC  21 08 03    	ld	hl,0x0308
1744  04BF  E5          	push	hl
1745  04C0  CD 00 00    	call	_zx_print_str
1746  04C3  AF          	xor	a, a
1747  04C4  F5          	push	af
1748  04C5  33          	inc	sp
1749  04C6  21 D0 07    	ld	hl,0x07d0
1750  04C9  E5          	push	hl
1751  04CA  21 03 1C    	ld	hl,0x1c03
1752  04CD  E5          	push	hl
1753  04CE  3E 08       	ld	a,0x08
1754  04D0  F5          	push	af
1755  04D1  33          	inc	sp
1756  04D2  CD 35 0B    	call	_game_colour_message
1757  04D5  F1          	pop	af
1758  04D6  F1          	pop	af
1759  04D7  F1          	pop	af
1760  04D8  21 E8 03    	ld	hl,0x03e8
1761  04DB  CD 00 00    	call	_z80_delay_ms_fastcall
1762  04DE  CD 00 00    	call	_in_wait_key
1763  04E1  CD 00 00    	call	_ay_reset
1764  04E4  21 00 00    	ld	hl,_game_world
1765  04E7  36 FF       	ld	(hl),0xff
1766  04E9  21 00 00    	ld	hl,_scr_curr
1767  04EC  36 FF       	ld	(hl),0xff
1768  04EE  21 00 00    	ld	hl,_game_round_up
1769  04F1  36 01       	ld	(hl),0x01
1770  04F3  C9          	ret
1771  04F4              	SECTION rodata_compiler
1772  0000              ___str_0:
1773  0000  43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 21 
                        	DEFM "CONGRATULATIONS!"
1774  0010  00          	DEFB 0x00
1775  0011              	SECTION rodata_compiler
1776  0011              ___str_1:
1777  0011  59 4F 55 20 48 41 56 45 20 44 45 46 45 41 54 45 44 
                        	DEFM "YOU HAVE DEFEATED"
1778  0022  00          	DEFB 0x00
1779  0023              	SECTION rodata_compiler
1780  0023              ___str_2:
1781  0023  54 48 45 20 4C 45 46 54 20 45 59 45 20 4F 46 20 53 41 55 52 4F 4E 
                        	DEFM "THE LEFT EYE OF SAURON"
1782  0039  00          	DEFB 0x00
1783  003A              	SECTION rodata_compiler
1784  003A              ___str_3:
1785  003A  41 52 44 41 20 57 49 4C 4C 20 42 45 20 4F 4E 20 50 45 41 43 45 20 4E 4F 57 
                        	DEFM "ARDA WILL BE ON PEACE NOW"
1786  0053  00          	DEFB 0x00
1787  0054              	SECTION code_compiler
1788  04F4              ;	---------------------------------
1789  04F4              ; Function game_add_enemy
1790  04F4              ; ---------------------------------
1791  04F4              _game_add_enemy:
1792  04F4  7D          	ld	a,l
1793  04F5  D6 78       	sub	a,0x78
1794  04F7  28 59       	jr	Z,l_game_add_enemy_00119
1795  04F9  4D          	ld	c,l
1796  04FA  21 00 00    	ld	hl,_tmp0
1797  04FD  36 00       	ld	(hl),0x00
1798  04FF              l_game_add_enemy_00104:
1799  04FF  3E 17       	ld	a,0x17
1800  0501  21 00 00    	ld	hl,_tmp0
1801  0504  96          	sub	a, (hl)
1802  0505  DA BB 05    	jp	C, l_game_add_enemy_00121
1803  0508  7E          	ld	a, (hl)
1804  0509  5F          	ld	e, a
1805  050A  87          	add	a, a
1806  050B  83          	add	a, e
1807  050C  21 00 00    	ld	hl,_tmp1
1808  050F  77          	ld	(hl), a
1809  0510  C6 00       	add	a,+((_spr_init) & 0xFF)
1810  0512  5F          	ld	e, a
1811  0513  3E 00       	ld	a, +((_spr_init) / 256)
1812  0515  CE 00       	adc	a,0x00
1813  0517  57          	ld	d, a
1814  0518  1A          	ld	a, (de)
1815  0519  91          	sub	a, c
1816  051A  20 30       	jr	NZ,l_game_add_enemy_00102
1817  051C  6E          	ld	l,(hl)
1818  051D  26 00       	ld	h,0x00
1819  051F  5D          	ld	e,l
1820  0520  54          	ld	d,h
1821  0521  23          	inc	hl
1822  0522  23          	inc	hl
1823  0523  3E 00       	ld	a, +((_spr_init) & 0xFF)
1824  0525  85          	add	a, l
1825  0526  6F          	ld	l, a
1826  0527  3E 00       	ld	a, +((_spr_init) / 256)
1827  0529  8C          	adc	a, h
1828  052A  67          	ld	h, a
1829  052B  46          	ld	b, (hl)
1830  052C  13          	inc	de
1831  052D  21 00 00    	ld	hl,_spr_init
1832  0530  19          	add	hl, de
1833  0531  56          	ld	d, (hl)
1834  0532  C5          	push	bc
1835  0533  4A          	ld	c, d
1836  0534  3A 00 00    	ld	a,(_s_col1)
1837  0537  C5          	push	bc
1838  0538  F5          	push	af
1839  0539  33          	inc	sp
1840  053A  3A 00 00    	ld	a,(_s_lin1)
1841  053D  F5          	push	af
1842  053E  33          	inc	sp
1843  053F  CD 00 00    	call	_enemy_init
1844  0542  F1          	pop	af
1845  0543  F1          	pop	af
1846  0544  C1          	pop	bc
1847  0545  21 00 00    	ld	hl,_tmp0
1848  0548  36 FF       	ld	(hl),0xff
1849  054A  18 B3       	jr	l_game_add_enemy_00104
1850  054C              l_game_add_enemy_00102:
1851  054C  21 00 00    	ld	hl,_tmp0
1852  054F  34          	inc	(hl)
1853  0550  18 AD       	jr	l_game_add_enemy_00104
1854  0552              l_game_add_enemy_00119:
1855  0552  3A 00 00    	ld	a,(_game_boss)
1856  0555  B7          	or	a, a
1857  0556  20 59       	jr	NZ,l_game_add_enemy_00115
1858  0558  3A 00 00    	ld	a,(_game_boss_alive)
1859  055B  B7          	or	a, a
1860  055C  28 53       	jr	Z,l_game_add_enemy_00115
1861  055E  3A 00 00    	ld	a,(_s_lin1)
1862  0561  32 00 00    	ld	(_boss_lin),a
1863  0564  3A 00 00    	ld	a,(_s_col1)
1864  0567  32 00 00    	ld	(_boss_col),a
1865  056A  3A 00 00    	ld	a,(_game_world)
1866  056D  B7          	or	a, a
1867  056E  28 10       	jr	Z,l_game_add_enemy_00107
1868  0570  3D          	dec	a
1869  0571  28 14       	jr	Z,l_game_add_enemy_00108
1870  0573  3A 00 00    	ld	a,(_game_world)
1871  0576  FE 02       	cp	a,0x02
1872  0578  28 14       	jr	Z,l_game_add_enemy_00109
1873  057A  D6 03       	sub	a,0x03
1874  057C  28 17       	jr	Z,l_game_add_enemy_00110
1875  057E  18 1A       	jr	l_game_add_enemy_00111
1876  0580              l_game_add_enemy_00107:
1877  0580  21 00 00    	ld	hl,_boss_tile
1878  0583  36 C8       	ld	(hl),0xc8
1879  0585  18 13       	jr	l_game_add_enemy_00111
1880  0587              l_game_add_enemy_00108:
1881  0587  21 00 00    	ld	hl,_boss_tile
1882  058A  36 D8       	ld	(hl),0xd8
1883  058C  18 0C       	jr	l_game_add_enemy_00111
1884  058E              l_game_add_enemy_00109:
1885  058E  21 00 00    	ld	hl,_boss_tile
1886  0591  36 DC       	ld	(hl),0xdc
1887  0593  18 05       	jr	l_game_add_enemy_00111
1888  0595              l_game_add_enemy_00110:
1889  0595  21 00 00    	ld	hl,_boss_tile
1890  0598  36 E0       	ld	(hl),0xe0
1891  059A              l_game_add_enemy_00111:
1892  059A  21 00 00    	ld	hl,_boss_stat
1893  059D  36 00       	ld	(hl),0x00
1894  059F  21 00 00    	ld	hl,_boss_stat
1895  05A2  CD 00 00    	call	_spr_set_up
1896  05A5  21 00 00    	ld	hl,_game_boss
1897  05A8  36 01       	ld	(hl),0x01
1898  05AA  21 00 00    	ld	hl,_game_boss_hit
1899  05AD  36 06       	ld	(hl),0x06
1900  05AF  18 0A       	jr	l_game_add_enemy_00121
1901  05B1              l_game_add_enemy_00115:
1902  05B1  3A 00 00    	ld	a,(_game_boss)
1903  05B4  B7          	or	a, a
1904  05B5  C0          	ret	NZ
1905  05B6  21 00 00    	ld	hl,_game_boss_fix
1906  05B9  36 01       	ld	(hl),0x01
1907  05BB              l_game_add_enemy_00121:
1908  05BB  C9          	ret
1909  05BC              	SECTION code_compiler
1910  05BC              ;	---------------------------------
1911  05BC              ; Function game_print_footer
1912  05BC              ; ---------------------------------
1913  05BC              _game_print_footer:
1914  05BC  21 00 00    	ld	hl,_screen_ink
1915  05BF  36 05       	ld	(hl),0x05
1916  05C1  21 13 62    	ld	hl,0x6213
1917  05C4  E5          	push	hl
1918  05C5  CD 00 00    	call	_game_fill_row
1919  05C8  21 17 62    	ld	hl,0x6217
1920  05CB  E5          	push	hl
1921  05CC  CD 00 00    	call	_game_fill_row
1922  05CF  21 54 00    	ld	hl,___str_4
1923  05D2  E5          	push	hl
1924  05D3  21 13 00    	ld	hl,0x0013
1925  05D6  E5          	push	hl
1926  05D7  CD 00 00    	call	_zx_print_str
1927  05DA  21 56 00    	ld	hl,___str_5
1928  05DD  E5          	push	hl
1929  05DE  21 13 1F    	ld	hl,0x1f13
1930  05E1  E5          	push	hl
1931  05E2  CD 00 00    	call	_zx_print_str
1932  05E5  21 58 00    	ld	hl,___str_6
1933  05E8  E5          	push	hl
1934  05E9  21 14 00    	ld	hl,0x0014
1935  05EC  E5          	push	hl
1936  05ED  CD 00 00    	call	_zx_print_str
1937  05F0  21 5A 00    	ld	hl,___str_7
1938  05F3  E5          	push	hl
1939  05F4  21 14 1F    	ld	hl,0x1f14
1940  05F7  E5          	push	hl
1941  05F8  CD 00 00    	call	_zx_print_str
1942  05FB  21 58 00    	ld	hl,___str_6
1943  05FE  E5          	push	hl
1944  05FF  21 15 00    	ld	hl,0x0015
1945  0602  E5          	push	hl
1946  0603  CD 00 00    	call	_zx_print_str
1947  0606  21 5A 00    	ld	hl,___str_7
1948  0609  E5          	push	hl
1949  060A  21 15 1F    	ld	hl,0x1f15
1950  060D  E5          	push	hl
1951  060E  CD 00 00    	call	_zx_print_str
1952  0611  21 58 00    	ld	hl,___str_6
1953  0614  E5          	push	hl
1954  0615  21 16 00    	ld	hl,0x0016
1955  0618  E5          	push	hl
1956  0619  CD 00 00    	call	_zx_print_str
1957  061C  21 5A 00    	ld	hl,___str_7
1958  061F  E5          	push	hl
1959  0620  21 16 1F    	ld	hl,0x1f16
1960  0623  E5          	push	hl
1961  0624  CD 00 00    	call	_zx_print_str
1962  0627  21 5C 00    	ld	hl,___str_8
1963  062A  E5          	push	hl
1964  062B  21 17 00    	ld	hl,0x0017
1965  062E  E5          	push	hl
1966  062F  CD 00 00    	call	_zx_print_str
1967  0632  21 5E 00    	ld	hl,___str_9
1968  0635  E5          	push	hl
1969  0636  21 17 1F    	ld	hl,0x1f17
1970  0639  E5          	push	hl
1971  063A  CD 00 00    	call	_zx_print_str
1972  063D  21 60 00    	ld	hl,___str_10
1973  0640  E5          	push	hl
1974  0641  21 15 0F    	ld	hl,0x0f15
1975  0644  E5          	push	hl
1976  0645  CD 00 00    	call	_zx_print_str
1977  0648  21 62 00    	ld	hl,___str_11
1978  064B  E5          	push	hl
1979  064C  21 14 01    	ld	hl,0x0114
1980  064F  E5          	push	hl
1981  0650  CD 00 00    	call	_zx_print_str
1982  0653  21 00 00    	ld	hl,_screen_ink
1983  0656  36 06       	ld	(hl),0x06
1984  0658  21 64 00    	ld	hl,___str_12
1985  065B  E5          	push	hl
1986  065C  21 15 01    	ld	hl,0x0115
1987  065F  E5          	push	hl
1988  0660  CD 00 00    	call	_zx_print_str
1989  0663  21 66 00    	ld	hl,___str_13
1990  0666  E5          	push	hl
1991  0667  21 16 07    	ld	hl,0x0716
1992  066A  E5          	push	hl
1993  066B  CD 00 00    	call	_zx_print_str
1994  066E  21 68 00    	ld	hl,___str_14
1995  0671  E5          	push	hl
1996  0672  21 16 0D    	ld	hl,0x0d16
1997  0675  E5          	push	hl
1998  0676  CD 00 00    	call	_zx_print_str
1999  0679  21 6A 00    	ld	hl,___str_15
2000  067C  E5          	push	hl
2001  067D  21 16 13    	ld	hl,0x1316
2002  0680  E5          	push	hl
2003  0681  CD 00 00    	call	_zx_print_str
2004  0684  21 6C 00    	ld	hl,___str_16
2005  0687  E5          	push	hl
2006  0688  21 16 19    	ld	hl,0x1916
2007  068B  E5          	push	hl
2008  068C  CD 00 00    	call	_zx_print_str
2009  068F  21 00 00    	ld	hl,_screen_ink
2010  0692  36 42       	ld	(hl),0x42
2011  0694  21 6E 00    	ld	hl,___str_17
2012  0697  E5          	push	hl
2013  0698  21 14 08    	ld	hl,0x0814
2014  069B  E5          	push	hl
2015  069C  CD 00 00    	call	_zx_print_str
2016  069F  21 00 00    	ld	hl,_screen_ink
2017  06A2  36 03       	ld	(hl),0x03
2018  06A4  21 70 00    	ld	hl,___str_18
2019  06A7  E5          	push	hl
2020  06A8  21 15 08    	ld	hl,0x0815
2021  06AB  E5          	push	hl
2022  06AC  CD 00 00    	call	_zx_print_str
2023  06AF  21 00 00    	ld	hl,_screen_ink
2024  06B2  36 47       	ld	(hl),0x47
2025  06B4  21 72 00    	ld	hl,___str_19
2026  06B7  E5          	push	hl
2027  06B8  21 14 0F    	ld	hl,0x0f14
2028  06BB  E5          	push	hl
2029  06BC  CD 00 00    	call	_zx_print_str
2030  06BF  21 00 00    	ld	hl,_screen_ink
2031  06C2  36 45       	ld	(hl),0x45
2032  06C4  21 74 00    	ld	hl,___str_20
2033  06C7  E5          	push	hl
2034  06C8  21 14 15    	ld	hl,0x1514
2035  06CB  E5          	push	hl
2036  06CC  CD 00 00    	call	_zx_print_str
2037  06CF  21 00 00    	ld	hl,_screen_ink
2038  06D2  36 07       	ld	(hl),0x07
2039  06D4  21 76 00    	ld	hl,___str_21
2040  06D7  E5          	push	hl
2041  06D8  21 15 15    	ld	hl,0x1515
2042  06DB  E5          	push	hl
2043  06DC  CD 00 00    	call	_zx_print_str
2044  06DF  3A 00 00    	ld	a,(_game_debug)
2045  06E2  B7          	or	a, a
2046  06E3  28 0B       	jr	Z,l_game_print_footer_00102
2047  06E5  21 78 00    	ld	hl,___str_22
2048  06E8  E5          	push	hl
2049  06E9  21 17 14    	ld	hl,0x1417
2050  06EC  E5          	push	hl
2051  06ED  CD 00 00    	call	_zx_print_str
2052  06F0              l_game_print_footer_00102:
2053  06F0  21 7D 00    	ld	hl,___str_23
2054  06F3  E5          	push	hl
2055  06F4  21 16 02    	ld	hl,0x0216
2056  06F7  E5          	push	hl
2057  06F8  CD 00 00    	call	_zx_print_str
2058  06FB  CD 30 07    	call	_game_update_stats
2059  06FE  C9          	ret
2060  06FF              	SECTION rodata_compiler
2061  0054              ___str_4:
2062  0054  61          	DEFM "a"
2063  0055  00          	DEFB 0x00
2064  0056              	SECTION rodata_compiler
2065  0056              ___str_5:
2066  0056  63          	DEFM "c"
2067  0057  00          	DEFB 0x00
2068  0058              	SECTION rodata_compiler
2069  0058              ___str_6:
2070  0058  64          	DEFM "d"
2071  0059  00          	DEFB 0x00
2072  005A              	SECTION rodata_compiler
2073  005A              ___str_7:
2074  005A  65          	DEFM "e"
2075  005B  00          	DEFB 0x00
2076  005C              	SECTION rodata_compiler
2077  005C              ___str_8:
2078  005C  66          	DEFM "f"
2079  005D  00          	DEFB 0x00
2080  005E              	SECTION rodata_compiler
2081  005E              ___str_9:
2082  005E  67          	DEFM "g"
2083  005F  00          	DEFB 0x00
2084  0060              	SECTION rodata_compiler
2085  0060              ___str_10:
2086  0060  5F          	DEFM "_"
2087  0061  00          	DEFB 0x00
2088  0062              	SECTION rodata_compiler
2089  0062              ___str_11:
2090  0062  3C          	DEFM "<"
2091  0063  00          	DEFB 0x00
2092  0064              	SECTION rodata_compiler
2093  0064              ___str_12:
2094  0064  5C          	DEFB 0x5c
2095  0065  00          	DEFB 0x00
2096  0066              	SECTION rodata_compiler
2097  0066              ___str_13:
2098  0066  6C          	DEFM "l"
2099  0067  00          	DEFB 0x00
2100  0068              	SECTION rodata_compiler
2101  0068              ___str_14:
2102  0068  6D          	DEFM "m"
2103  0069  00          	DEFB 0x00
2104  006A              	SECTION rodata_compiler
2105  006A              ___str_15:
2106  006A  6E          	DEFM "n"
2107  006B  00          	DEFB 0x00
2108  006C              	SECTION rodata_compiler
2109  006C              ___str_16:
2110  006C  6F          	DEFM "o"
2111  006D  00          	DEFB 0x00
2112  006E              	SECTION rodata_compiler
2113  006E              ___str_17:
2114  006E  3E          	DEFM ">"
2115  006F  00          	DEFB 0x00
2116  0070              	SECTION rodata_compiler
2117  0070              ___str_18:
2118  0070  5E          	DEFM "^"
2119  0071  00          	DEFB 0x00
2120  0072              	SECTION rodata_compiler
2121  0072              ___str_19:
2122  0072  3F          	DEFM "?"
2123  0073  00          	DEFB 0x00
2124  0074              	SECTION rodata_compiler
2125  0074              ___str_20:
2126  0074  78          	DEFM "x"
2127  0075  00          	DEFB 0x00
2128  0076              	SECTION rodata_compiler
2129  0076              ___str_21:
2130  0076  79          	DEFM "y"
2131  0077  00          	DEFB 0x00
2132  0078              	SECTION rodata_compiler
2133  0078              ___str_22:
2134  0078  4C 50 53 3A 	DEFM "LPS:"
2135  007C  00          	DEFB 0x00
2136  007D              	SECTION rodata_compiler
2137  007D              ___str_23:
2138  007D  20 20 20 20 	DEFM "    "
2139  0081  00          	DEFB 0x00
2140  0082              	SECTION code_compiler
2141  06FF              ;	---------------------------------
2142  06FF              ; Function game_print_score
2143  06FF              ; ---------------------------------
2144  06FF              _game_print_score:
2145  06FF  21 00 00    	ld	hl,_screen_ink
2146  0702  36 07       	ld	(hl),0x07
2147  0704  21 00 00    	ld	hl,_screen_paper
2148  0707  36 00       	ld	(hl),0x00
2149  0709  2A 00 00    	ld	hl,(_player_score)
2150  070C  E5          	push	hl
2151  070D  21 14 17    	ld	hl,0x1714
2152  0710  E5          	push	hl
2153  0711  CD 00 00    	call	_zx_print_int
2154  0714  2A 00 00    	ld	hl,(_game_score_top)
2155  0717  E5          	push	hl
2156  0718  21 00 0E    	ld	hl,0x0e00
2157  071B  E5          	push	hl
2158  071C  CD 00 00    	call	_zx_print_int
2159  071F  C9          	ret
2160  0720              	SECTION code_compiler
2161  0720              ;	---------------------------------
2162  0720              ; Function game_cls
2163  0720              ; ---------------------------------
2164  0720              _game_cls:
2165  0720  CD 00 00    	call	_NIRVANAP_stop
2166  0723  2E 00       	ld	l,0x00
2167  0725  CD 00 00    	call	_zx_cls_fastcall
2168  0728  21 00 00    	ld	hl,_screen_ink
2169  072B  36 07       	ld	(hl),0x07
2170  072D  C3 00 00    	jp  _NIRVANAP_start
2171  0730              	SECTION code_compiler
2172  0730              ;	---------------------------------
2173  0730              ; Function game_update_stats
2174  0730              ; ---------------------------------
2175  0730              _game_update_stats:
2176  0730  21 00 00    	ld	hl,_screen_ink
2177  0733  36 07       	ld	(hl),0x07
2178  0735  3A 00 00    	ld	a,(_player_lives)
2179  0738  F5          	push	af
2180  0739  33          	inc	sp
2181  073A  21 14 03    	ld	hl,0x0314
2182  073D  E5          	push	hl
2183  073E  CD 00 00    	call	_zx_print_chr
2184  0741  3A 00 00    	ld	a,(_player_coins)
2185  0744  F5          	push	af
2186  0745  33          	inc	sp
2187  0746  21 16 09    	ld	hl,0x0916
2188  0749  E5          	push	hl
2189  074A  CD 00 00    	call	_zx_print_chr
2190  074D  3A 00 00    	ld	a,(_player_str)
2191  0750  F5          	push	af
2192  0751  33          	inc	sp
2193  0752  21 16 0F    	ld	hl,0x0f16
2194  0755  E5          	push	hl
2195  0756  CD 00 00    	call	_zx_print_chr
2196  0759  3A 00 00    	ld	a,(_player_int)
2197  075C  F5          	push	af
2198  075D  33          	inc	sp
2199  075E  21 16 15    	ld	hl,0x1516
2200  0761  E5          	push	hl
2201  0762  CD 00 00    	call	_zx_print_chr
2202  0765  3A 00 00    	ld	a,(_player_lvl)
2203  0768  F5          	push	af
2204  0769  33          	inc	sp
2205  076A  21 16 1B    	ld	hl,0x1b16
2206  076D  E5          	push	hl
2207  076E  CD 00 00    	call	_zx_print_chr
2208  0771  21 00 00    	ld	hl,_screen_ink
2209  0774  36 02       	ld	(hl),0x02
2210  0776  3A 00 00    	ld	a,(_player_vita)
2211  0779  F5          	push	af
2212  077A  33          	inc	sp
2213  077B  21 14 0A    	ld	hl,0x0a14
2214  077E  E5          	push	hl
2215  077F  CD 00 00    	call	_zx_print_chr
2216  0782  21 00 00    	ld	hl,_screen_ink
2217  0785  36 01       	ld	(hl),0x01
2218  0787  3A 00 00    	ld	a,(_player_mana)
2219  078A  F5          	push	af
2220  078B  33          	inc	sp
2221  078C  21 14 11    	ld	hl,0x1114
2222  078F  E5          	push	hl
2223  0790  CD 00 00    	call	_zx_print_chr
2224  0793  3A 00 00    	ld	a,(_game_boss)
2225  0796  B7          	or	a, a
2226  0797  28 3E       	jr	Z,l_game_update_stats_00106
2227  0799  21 00 00    	ld	hl,_screen_ink
2228  079C  36 03       	ld	(hl),0x03
2229  079E  21 00 00    	ld	hl,_tmp0
2230  07A1  36 00       	ld	(hl),0x00
2231  07A3              l_game_update_stats_00115:
2232  07A3  21 00 00    	ld	hl,_tmp0
2233  07A6  7E          	ld	a, (hl)
2234  07A7  C6 0D       	add	a,0x0d
2235  07A9  47          	ld	b, a
2236  07AA  7E          	ld	a, (hl)
2237  07AB  21 00 00    	ld	hl,_game_boss_hit
2238  07AE  96          	sub	a, (hl)
2239  07AF  30 0F       	jr	NC,l_game_update_stats_00102
2240  07B1  21 82 00    	ld	hl,___str_24
2241  07B4  E5          	push	hl
2242  07B5  C5          	push	bc
2243  07B6  33          	inc	sp
2244  07B7  3E 13       	ld	a,0x13
2245  07B9  F5          	push	af
2246  07BA  33          	inc	sp
2247  07BB  CD 00 00    	call	_zx_print_str
2248  07BE  18 0D       	jr	l_game_update_stats_00116
2249  07C0              l_game_update_stats_00102:
2250  07C0  21 84 00    	ld	hl,___str_25
2251  07C3  E5          	push	hl
2252  07C4  C5          	push	bc
2253  07C5  33          	inc	sp
2254  07C6  3E 13       	ld	a,0x13
2255  07C8  F5          	push	af
2256  07C9  33          	inc	sp
2257  07CA  CD 00 00    	call	_zx_print_str
2258  07CD              l_game_update_stats_00116:
2259  07CD  21 00 00    	ld	hl,_tmp0
2260  07D0  7E          	ld	a,(hl)
2261  07D1  3C          	inc	a
2262  07D2  77          	ld	(hl),a
2263  07D3  D6 06       	sub	a,0x06
2264  07D5  38 CC       	jr	C,l_game_update_stats_00115
2265  07D7              l_game_update_stats_00106:
2266  07D7  3A 00 00    	ld	a,(_player_keys)
2267  07DA  B7          	or	a, a
2268  07DB  28 10       	jr	Z,l_game_update_stats_00108
2269  07DD  21 00 00    	ld	hl,_screen_ink
2270  07E0  36 07       	ld	(hl),0x07
2271  07E2  21 86 00    	ld	hl,___str_26
2272  07E5  E5          	push	hl
2273  07E6  21 16 02    	ld	hl,0x0216
2274  07E9  E5          	push	hl
2275  07EA  CD 00 00    	call	_zx_print_str
2276  07ED              l_game_update_stats_00108:
2277  07ED  3A 01 00    	ld	a, (_player_keys + 1)
2278  07F0  B7          	or	a, a
2279  07F1  28 10       	jr	Z,l_game_update_stats_00110
2280  07F3  21 00 00    	ld	hl,_screen_ink
2281  07F6  36 02       	ld	(hl),0x02
2282  07F8  21 86 00    	ld	hl,___str_26
2283  07FB  E5          	push	hl
2284  07FC  21 16 03    	ld	hl,0x0316
2285  07FF  E5          	push	hl
2286  0800  CD 00 00    	call	_zx_print_str
2287  0803              l_game_update_stats_00110:
2288  0803  3A 02 00    	ld	a, (_player_keys + 2)
2289  0806  B7          	or	a, a
2290  0807  28 10       	jr	Z,l_game_update_stats_00112
2291  0809  21 00 00    	ld	hl,_screen_ink
2292  080C  36 04       	ld	(hl),0x04
2293  080E  21 86 00    	ld	hl,___str_26
2294  0811  E5          	push	hl
2295  0812  21 16 04    	ld	hl,0x0416
2296  0815  E5          	push	hl
2297  0816  CD 00 00    	call	_zx_print_str
2298  0819              l_game_update_stats_00112:
2299  0819  3A 03 00    	ld	a, (_player_keys + 3)
2300  081C  B7          	or	a, a
2301  081D  C8          	ret	Z
2302  081E  21 00 00    	ld	hl,_screen_ink
2303  0821  36 05       	ld	(hl),0x05
2304  0823  21 86 00    	ld	hl,___str_26
2305  0826  E5          	push	hl
2306  0827  21 16 05    	ld	hl,0x0516
2307  082A  E5          	push	hl
2308  082B  CD 00 00    	call	_zx_print_str
2309  082E  C9          	ret
2310  082F              	SECTION rodata_compiler
2311  0082              ___str_24:
2312  0082  2A          	DEFM "*"
2313  0083  00          	DEFB 0x00
2314  0084              	SECTION rodata_compiler
2315  0084              ___str_25:
2316  0084  20          	DEFM " "
2317  0085  00          	DEFB 0x00
2318  0086              	SECTION rodata_compiler
2319  0086              ___str_26:
2320  0086  5D          	DEFM "]"
2321  0087  00          	DEFB 0x00
2322  0088              	SECTION code_compiler
2323  082F              ;	---------------------------------
2324  082F              ; Function game_tick
2325  082F              ; ---------------------------------
2326  082F              _game_tick:
2327  082F  21 00 00    	ld	hl,_curr_time
2328  0832  34          	inc	(hl)
2329  0833  C2 00 00    	jp	NZ,_zx_isr
2330  0836  23          	inc	hl
2331  0837  34          	inc	(hl)
2332  0838  C3 00 00    	jp  _zx_isr
2333  083B              	SECTION code_compiler
2334  083B              ;	---------------------------------
2335  083B              ; Function game_start_timer
2336  083B              ; ---------------------------------
2337  083B              _game_start_timer:
2338  083B  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2339  083E  36 CD       	ld	(hl),0xcd
2340  0840  23          	inc	hl
2341  0841  11 2F 08    	ld	de,_game_tick
2342  0844  73          	ld	(hl), e
2343  0845  23          	inc	hl
2344  0846  72          	ld	(hl), d
2345  0847  C9          	ret
2346  0848              	SECTION code_compiler
2347  0848              ;	---------------------------------
2348  0848              ; Function game_set_checkpoint
2349  0848              ; ---------------------------------
2350  0848              _game_set_checkpoint:
2351  0848  3A 00 00    	ld	a,(_player_col_scr)
2352  084B  CB 3F       	srl	a
2353  084D  87          	add	a, a
2354  084E  32 00 00    	ld	(_game_checkpoint_col),a
2355  0851  3A 00 00    	ld	a,(_player_lin_scr)
2356  0854  07          	rlca
2357  0855  07          	rlca
2358  0856  07          	rlca
2359  0857  07          	rlca
2360  0858  E6 0F       	and	a,0x0f
2361  085A  07          	rlca
2362  085B  07          	rlca
2363  085C  07          	rlca
2364  085D  07          	rlca
2365  085E  E6 F0       	and	a,0xf0
2366  0860  32 00 00    	ld	(_game_checkpoint_lin),a
2367  0863  3A 00 00    	ld	a,(_scr_curr)
2368  0866  32 00 00    	ld	(_game_checkpoint_scr),a
2369  0869  C9          	ret
2370  086A              	SECTION code_compiler
2371  086A              ;	---------------------------------
2372  086A              ; Function game_round_init
2373  086A              ; ---------------------------------
2374  086A              _game_round_init:
2375  086A  21 00 00    	ld	hl,0x0000
2376  086D  22 00 00    	ld	(_loop_count),hl
2377  0870  21 00 00    	ld	hl,0
2378  0873  22 00 00    	ld	(_curr_time),hl
2379  0876  21 00 00    	ld	hl,0x0000
2380  0879  22 00 00    	ld	(_frame_time),hl
2381  087C  CD 00 00    	call	_spr_init_effects
2382  087F  CD 3A 09    	call	_game_print_header
2383  0882  CD BC 05    	call	_game_print_footer
2384  0885  CD 00 00    	call	_spr_page_map
2385  0888  CD 98 01    	call	_game_draw_screen
2386  088B  CD 48 08    	call	_game_set_checkpoint
2387  088E  3A 00 00    	ld	a,(_game_over)
2388  0891  B7          	or	a, a
2389  0892  20 10       	jr	NZ,l_game_round_init_00102
2390  0894  2A 00 00    	ld	hl,(_player_col_scr)
2391  0897  26 70       	ld	h,0x70
2392  0899  3A 00 00    	ld	a,(_player_lin_scr)
2393  089C  E5          	push	hl
2394  089D  F5          	push	af
2395  089E  33          	inc	sp
2396  089F  CD 00 00    	call	_player_init
2397  08A2  F1          	pop	af
2398  08A3  33          	inc	sp
2399  08A4              l_game_round_init_00102:
2400  08A4  CD 30 07    	call	_game_update_stats
2401  08A7  CD 00 00    	call	_ay_reset
2402  08AA  CD 00 00    	call	_audio_level_start
2403  08AD  3A 00 00    	ld	a,(_game_world)
2404  08B0  B7          	or	a, a
2405  08B1  28 10       	jr	Z,l_game_round_init_00103
2406  08B3  3D          	dec	a
2407  08B4  28 1F       	jr	Z,l_game_round_init_00104
2408  08B6  3A 00 00    	ld	a,(_game_world)
2409  08B9  FE 02       	cp	a,0x02
2410  08BB  28 2A       	jr	Z,l_game_round_init_00105
2411  08BD  D6 03       	sub	a,0x03
2412  08BF  28 38       	jr	Z,l_game_round_init_00106
2413  08C1  18 46       	jr	l_game_round_init_00107
2414  08C3              l_game_round_init_00103:
2415  08C3  21 88 00    	ld	hl,___str_27
2416  08C6  E5          	push	hl
2417  08C7  21 0C 06    	ld	hl,0x060c
2418  08CA  E5          	push	hl
2419  08CB  CD 00 00    	call	_zx_print_str
2420  08CE  21 00 00    	ld	hl,_tmp0
2421  08D1  36 11       	ld	(hl),0x11
2422  08D3  18 34       	jr	l_game_round_init_00107
2423  08D5              l_game_round_init_00104:
2424  08D5  21 9A 00    	ld	hl,___str_28
2425  08D8  E5          	push	hl
2426  08D9  21 0C 06    	ld	hl,0x060c
2427  08DC  E5          	push	hl
2428  08DD  CD 00 00    	call	_zx_print_str
2429  08E0  21 00 00    	ld	hl,_tmp0
2430  08E3  36 0D       	ld	(hl),0x0d
2431  08E5  18 22       	jr	l_game_round_init_00107
2432  08E7              l_game_round_init_00105:
2433  08E7  21 A8 00    	ld	hl,___str_29
2434  08EA  E5          	push	hl
2435  08EB  21 0C 06    	ld	hl,0x060c
2436  08EE  E5          	push	hl
2437  08EF  CD 00 00    	call	_zx_print_str
2438  08F2  21 00 00    	ld	hl,_tmp0
2439  08F5  36 0E       	ld	(hl),0x0e
2440  08F7  18 10       	jr	l_game_round_init_00107
2441  08F9              l_game_round_init_00106:
2442  08F9  21 B7 00    	ld	hl,___str_30
2443  08FC  E5          	push	hl
2444  08FD  21 0C 06    	ld	hl,0x060c
2445  0900  E5          	push	hl
2446  0901  CD 00 00    	call	_zx_print_str
2447  0904  21 00 00    	ld	hl,_tmp0
2448  0907  36 11       	ld	(hl),0x11
2449  0909              l_game_round_init_00107:
2450  0909  3A 00 00    	ld	a,(_tmp0)
2451  090C  C6 06       	add	a,0x06
2452  090E  4F          	ld	c, a
2453  090F  06 68       	ld	b,0x68
2454  0911  C5          	push	bc
2455  0912  3E 06       	ld	a,0x06
2456  0914  F5          	push	af
2457  0915  33          	inc	sp
2458  0916  21 00 00    	ld	hl,_attrib_osd
2459  0919  E5          	push	hl
2460  091A  CD 0B 0B    	call	_game_paint_attrib
2461  091D  F1          	pop	af
2462  091E  F1          	pop	af
2463  091F  33          	inc	sp
2464  0920  3A 00 00    	ld	a,(_tmp0)
2465  0923  C6 06       	add	a,0x06
2466  0925  47          	ld	b, a
2467  0926  AF          	xor	a, a
2468  0927  F5          	push	af
2469  0928  33          	inc	sp
2470  0929  21 C8 00    	ld	hl,0x00c8
2471  092C  E5          	push	hl
2472  092D  C5          	push	bc
2473  092E  33          	inc	sp
2474  092F  21 0C 06    	ld	hl,0x060c
2475  0932  E5          	push	hl
2476  0933  CD 35 0B    	call	_game_colour_message
2477  0936  F1          	pop	af
2478  0937  F1          	pop	af
2479  0938  F1          	pop	af
2480  0939  C9          	ret
2481  093A              	SECTION rodata_compiler
2482  0088              ___str_27:
2483  0088  52 4F 55 4E 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "ROUND 1 THE SHIRE"
2484  0099  00          	DEFB 0x00
2485  009A              	SECTION rodata_compiler
2486  009A              ___str_28:
2487  009A  52 4F 55 4E 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "ROUND 2 MORIA"
2488  00A7  00          	DEFB 0x00
2489  00A8              	SECTION rodata_compiler
2490  00A8              ___str_29:
2491  00A8  52 4F 55 4E 44 20 33 20 4D 4F 52 44 4F 52 
                        	DEFM "ROUND 3 MORDOR"
2492  00B6  00          	DEFB 0x00
2493  00B7              	SECTION rodata_compiler
2494  00B7              ___str_30:
2495  00B7  52 4F 55 4E 44 20 34 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "ROUND 4 BARAD DUR"
2496  00C8  00          	DEFB 0x00
2497  00C9              	SECTION code_compiler
2498  093A              ;	---------------------------------
2499  093A              ; Function game_print_header
2500  093A              ; ---------------------------------
2501  093A              _game_print_header:
2502  093A  21 00 00    	ld	hl,_screen_ink
2503  093D  36 02       	ld	(hl),0x02
2504  093F  21 C9 00    	ld	hl,___str_31
2505  0942  E5          	push	hl
2506  0943  21 00 0B    	ld	hl,0x0b00
2507  0946  E5          	push	hl
2508  0947  CD 00 00    	call	_zx_print_str
2509  094A  21 00 00    	ld	hl,_screen_ink
2510  094D  36 07       	ld	(hl),0x07
2511  094F  CD FF 06    	call	_game_print_score
2512  0952  C9          	ret
2513  0953              	SECTION rodata_compiler
2514  00C9              ___str_31:
2515  00C9  24 25 7C    	DEFM "$%|"
2516  00CC  00          	DEFB 0x00
2517  00CD              	SECTION code_compiler
2518  0953              ;	---------------------------------
2519  0953              ; Function game_check_map
2520  0953              ; ---------------------------------
2521  0953              _game_check_map:
2522  0953  CD 00 00    	call	___sdcc_enter_ix
2523  0956  DD CB 05 46 	bit	0,(ix+5)
2524  095A  20 18       	jr	NZ,l_game_check_map_00108
2525  095C  DD 66 05    	ld	h,(ix+5)
2526  095F  DD 6E 04    	ld	l,(ix+4)
2527  0962  E5          	push	hl
2528  0963  CD 00 00    	call	_spr_calc_index
2529  0966  F1          	pop	af
2530  0967  22 00 00    	ld	(_index1),hl
2531  096A  21 00 00    	ld	hl,_index1
2532  096D  CD CF 09    	call	_game_check_cell
2533  0970  26 00       	ld	h,0x00
2534  0972  18 58       	jr	l_game_check_map_00110
2535  0974              l_game_check_map_00108:
2536  0974  21 00 00    	ld	hl,_g_player_hit_left
2537  0977  36 00       	ld	(hl),0x00
2538  0979  21 00 00    	ld	hl,_g_player_hit_right
2539  097C  36 00       	ld	(hl),0x00
2540  097E  DD 46 05    	ld	b,(ix+5)
2541  0981  05          	dec	b
2542  0982  DD 4E 04    	ld	c,(ix+4)
2543  0985  C5          	push	bc
2544  0986  CD 00 00    	call	_spr_calc_index
2545  0989  F1          	pop	af
2546  098A  22 00 00    	ld	(_index1),hl
2547  098D  21 00 00    	ld	hl,_index1
2548  0990  CD CF 09    	call	_game_check_cell
2549  0993  7D          	ld	a, l
2550  0994  B7          	or	a, a
2551  0995  28 05       	jr	Z,l_game_check_map_00102
2552  0997  21 00 00    	ld	hl,_g_player_hit_left
2553  099A  36 01       	ld	(hl),0x01
2554  099C              l_game_check_map_00102:
2555  099C  3A 00 00    	ld	a,(_g_player_hit_left)
2556  099F  B7          	or	a, a
2557  09A0  20 17       	jr	NZ,l_game_check_map_00106
2558  09A2  21 00 00    	ld	hl,_index1
2559  09A5  34          	inc	(hl)
2560  09A6  20 02       	jr	NZ,l_game_check_map_00141
2561  09A8  23          	inc	hl
2562  09A9  34          	inc	(hl)
2563  09AA              l_game_check_map_00141:
2564  09AA  21 00 00    	ld	hl,_index1
2565  09AD  CD CF 09    	call	_game_check_cell
2566  09B0  7D          	ld	a, l
2567  09B1  B7          	or	a, a
2568  09B2  28 05       	jr	Z,l_game_check_map_00106
2569  09B4  21 00 00    	ld	hl,_g_player_hit_right
2570  09B7  36 01       	ld	(hl),0x01
2571  09B9              l_game_check_map_00106:
2572  09B9  3A 00 00    	ld	a,(_g_player_hit_left)
2573  09BC  B7          	or	a, a
2574  09BD  20 09       	jr	NZ,l_game_check_map_00113
2575  09BF  3A 00 00    	ld	a,(_g_player_hit_right)
2576  09C2  B7          	or	a,a
2577  09C3  20 03       	jr	NZ,l_game_check_map_00113
2578  09C5  6F          	ld	l,a
2579  09C6  18 02       	jr	l_game_check_map_00114
2580  09C8              l_game_check_map_00113:
2581  09C8  2E 01       	ld	l,0x01
2582  09CA              l_game_check_map_00114:
2583  09CA  26 00       	ld	h,0x00
2584  09CC              l_game_check_map_00110:
2585  09CC  DD E1       	pop	ix
2586  09CE  C9          	ret
2587  09CF              	SECTION code_compiler
2588  09CF              ;	---------------------------------
2589  09CF              ; Function game_check_cell
2590  09CF              ; ---------------------------------
2591  09CF              _game_check_cell:
2592  09CF  CD 00 00    	call	___sdcc_enter_ix
2593  09D2  4E          	ld	c,(hl)
2594  09D3  F5          	push	af
2595  09D4  F5          	push	af
2596  09D5  23          	inc	hl
2597  09D6  46          	ld	b, (hl)
2598  09D7  3E A0       	ld	a,0xa0
2599  09D9  B9          	cp	a, c
2600  09DA  3E 00       	ld	a,0x00
2601  09DC  98          	sbc	a, b
2602  09DD  30 05       	jr	NC,l_game_check_cell_00102
2603  09DF  2E 01       	ld	l,0x01
2604  09E1  C3 06 0B    	jp	l_game_check_cell_00159
2605  09E4              l_game_check_cell_00102:
2606  09E4  21 00 00    	ld	hl,_scr_map
2607  09E7  09          	add	hl, bc
2608  09E8  56          	ld	d, (hl)
2609  09E9  3A 00 00    	ld	a,(_sprite)
2610  09EC  D6 07       	sub	a,0x07
2611  09EE  20 04       	jr	NZ,l_game_check_cell_00261
2612  09F0  3E 01       	ld	a,0x01
2613  09F2  18 01       	jr	l_game_check_cell_00262
2614  09F4              l_game_check_cell_00261:
2615  09F4  AF          	xor	a,a
2616  09F5              l_game_check_cell_00262:
2617  09F5  DD 77 FF    	ld	(ix-1),a
2618  09F8  7A          	ld	a, d
2619  09F9  D6 44       	sub	a,0x44
2620  09FB  3E 00       	ld	a,0x00
2621  09FD  17          	rla
2622  09FE  DD 77 FE    	ld	(ix-2),a
2623  0A01  DD CB FF 46 	bit	0,(ix-1)
2624  0A05  C2 A8 0A    	jp	NZ, l_game_check_cell_00137
2625  0A08  3E 00       	ld	a, +((_class) & 0xFF)
2626  0A0A  21 00 00    	ld	hl,_sprite
2627  0A0D  86          	add	a, (hl)
2628  0A0E  DD 77 FC    	ld	(ix-4),a
2629  0A11  3E 00       	ld	a, +((_class) / 256)
2630  0A13  CE 00       	adc	a,0x00
2631  0A15  DD 77 FD    	ld	(ix-3),a
2632  0A18  E1          	pop	hl
2633  0A19  5E          	ld	e,(hl)
2634  0A1A  E5          	push	hl
2635  0A1B  3E 00       	ld	a, +((_sprite_kind) & 0xFF)
2636  0A1D  83          	add	a, e
2637  0A1E  6F          	ld	l, a
2638  0A1F  3E 00       	ld	a, +((_sprite_kind) / 256)
2639  0A21  CE 00       	adc	a,0x00
2640  0A23  67          	ld	h, a
2641  0A24  7E          	ld	a,(hl)
2642  0A25  6F          	ld	l,a
2643  0A26  D6 05       	sub	a,0x05
2644  0A28  20 04       	jr	NZ,l_game_check_cell_00104
2645  0A2A  6F          	ld	l,a
2646  0A2B  C3 06 0B    	jp	l_game_check_cell_00159
2647  0A2E              l_game_check_cell_00104:
2648  0A2E  7A          	ld	a, d
2649  0A2F  D6 80       	sub	a,0x80
2650  0A31  38 05       	jr	C,l_game_check_cell_00106
2651  0A33  2E 00       	ld	l,0x00
2652  0A35  C3 06 0B    	jp	l_game_check_cell_00159
2653  0A38              l_game_check_cell_00106:
2654  0A38  7A          	ld	a, d
2655  0A39  D6 23       	sub	a,0x23
2656  0A3B  20 12       	jr	NZ,l_game_check_cell_00108
2657  0A3D  7B          	ld	a,e
2658  0A3E  FE 06       	cp	a,0x06
2659  0A40  28 0D       	jr	Z,l_game_check_cell_00108
2660  0A42  FE 07       	cp	a,0x07
2661  0A44  28 09       	jr	Z,l_game_check_cell_00108
2662  0A46  D6 08       	sub	a,0x08
2663  0A48  28 05       	jr	Z,l_game_check_cell_00108
2664  0A4A  2E 01       	ld	l,0x01
2665  0A4C  C3 06 0B    	jp	l_game_check_cell_00159
2666  0A4F              l_game_check_cell_00108:
2667  0A4F  7D          	ld	a,l
2668  0A50  FE 02       	cp	a,0x02
2669  0A52  28 04       	jr	Z,l_game_check_cell_00124
2670  0A54  D6 06       	sub	a,0x06
2671  0A56  20 30       	jr	NZ,l_game_check_cell_00125
2672  0A58              l_game_check_cell_00124:
2673  0A58  7B          	ld	a,e
2674  0A59  FE 09       	cp	a,0x09
2675  0A5B  28 04       	jr	Z,l_game_check_cell_00120
2676  0A5D  D6 0A       	sub	a,0x0a
2677  0A5F  20 0E       	jr	NZ,l_game_check_cell_00121
2678  0A61              l_game_check_cell_00120:
2679  0A61  3E 3A       	ld	a,0x3a
2680  0A63  92          	sub	a, d
2681  0A64  38 05       	jr	C,l_game_check_cell_00113
2682  0A66  2E 00       	ld	l,0x00
2683  0A68  C3 06 0B    	jp	l_game_check_cell_00159
2684  0A6B              l_game_check_cell_00113:
2685  0A6B  6A          	ld	l, d
2686  0A6C  C3 06 0B    	jp	l_game_check_cell_00159
2687  0A6F              l_game_check_cell_00121:
2688  0A6F  3E 2F       	ld	a,0x2f
2689  0A71  92          	sub	a, d
2690  0A72  30 0B       	jr	NC,l_game_check_cell_00115
2691  0A74  DD CB FE 46 	bit	0,(ix-2)
2692  0A78  20 0A       	jr	NZ,l_game_check_cell_00116
2693  0A7A  3E 47       	ld	a,0x47
2694  0A7C  92          	sub	a, d
2695  0A7D  38 05       	jr	C,l_game_check_cell_00116
2696  0A7F              l_game_check_cell_00115:
2697  0A7F  2E 00       	ld	l,0x00
2698  0A81  C3 06 0B    	jp	l_game_check_cell_00159
2699  0A84              l_game_check_cell_00116:
2700  0A84  6A          	ld	l, d
2701  0A85  C3 06 0B    	jp	l_game_check_cell_00159
2702  0A88              l_game_check_cell_00125:
2703  0A88  7D          	ld	a, l
2704  0A89  3D          	dec	a
2705  0A8A  28 05       	jr	Z,l_game_check_cell_00133
2706  0A8C  7D          	ld	a, l
2707  0A8D  D6 03       	sub	a,0x03
2708  0A8F  20 17       	jr	NZ,l_game_check_cell_00137
2709  0A91              l_game_check_cell_00133:
2710  0A91  3A 00 00    	ld	a,(_sprite_horizontal_check)
2711  0A94  B7          	or	a, a
2712  0A95  28 04       	jr	Z,l_game_check_cell_00128
2713  0A97  0E 48       	ld	c,0x48
2714  0A99  18 02       	jr	l_game_check_cell_00129
2715  0A9B              l_game_check_cell_00128:
2716  0A9B  0E 3A       	ld	c,0x3a
2717  0A9D              l_game_check_cell_00129:
2718  0A9D  7A          	ld	a, d
2719  0A9E  91          	sub	a, c
2720  0A9F  30 04       	jr	NC,l_game_check_cell_00131
2721  0AA1  2E 00       	ld	l,0x00
2722  0AA3  18 61       	jr	l_game_check_cell_00159
2723  0AA5              l_game_check_cell_00131:
2724  0AA5  6A          	ld	l, d
2725  0AA6  18 5E       	jr	l_game_check_cell_00159
2726  0AA8              l_game_check_cell_00137:
2727  0AA8  7A          	ld	a, d
2728  0AA9  D6 3A       	sub	a,0x3a
2729  0AAB  30 04       	jr	NC,l_game_check_cell_00139
2730  0AAD  2E 00       	ld	l,0x00
2731  0AAF  18 55       	jr	l_game_check_cell_00159
2732  0AB1              l_game_check_cell_00139:
2733  0AB1  3A 00 00    	ld	a,(_s_state)
2734  0AB4  E6 02       	and	a,0x02
2735  0AB6  5F          	ld	e, a
2736  0AB7  DD CB FE 46 	bit	0,(ix-2)
2737  0ABB  28 0C       	jr	Z,l_game_check_cell_00144
2738  0ABD  7B          	ld	a, e
2739  0ABE  B7          	or	a, a
2740  0ABF  28 04       	jr	Z,l_game_check_cell_00141
2741  0AC1  2E 01       	ld	l,0x01
2742  0AC3  18 41       	jr	l_game_check_cell_00159
2743  0AC5              l_game_check_cell_00141:
2744  0AC5  2E 00       	ld	l,0x00
2745  0AC7  18 3D       	jr	l_game_check_cell_00159
2746  0AC9              l_game_check_cell_00144:
2747  0AC9  7A          	ld	a, d
2748  0ACA  D6 48       	sub	a,0x48
2749  0ACC  30 16       	jr	NC,l_game_check_cell_00152
2750  0ACE  3A 00 00    	ld	a,(_sprite_horizontal_check)
2751  0AD1  B7          	or	a, a
2752  0AD2  28 04       	jr	Z,l_game_check_cell_00149
2753  0AD4  2E 00       	ld	l,0x00
2754  0AD6  18 2E       	jr	l_game_check_cell_00159
2755  0AD8              l_game_check_cell_00149:
2756  0AD8  7B          	ld	a, e
2757  0AD9  B7          	or	a, a
2758  0ADA  28 04       	jr	Z,l_game_check_cell_00146
2759  0ADC  2E 01       	ld	l,0x01
2760  0ADE  18 26       	jr	l_game_check_cell_00159
2761  0AE0              l_game_check_cell_00146:
2762  0AE0  2E 00       	ld	l,0x00
2763  0AE2  18 22       	jr	l_game_check_cell_00159
2764  0AE4              l_game_check_cell_00152:
2765  0AE4  7A          	ld	a, d
2766  0AE5  D6 4C       	sub	a,0x4c
2767  0AE7  30 12       	jr	NC,l_game_check_cell_00156
2768  0AE9  DD CB FF 46 	bit	0,(ix-1)
2769  0AED  28 0C       	jr	Z,l_game_check_cell_00156
2770  0AEF  D5          	push	de
2771  0AF0  33          	inc	sp
2772  0AF1  C5          	push	bc
2773  0AF2  CD 00 00    	call	_player_open_door
2774  0AF5  F1          	pop	af
2775  0AF6  33          	inc	sp
2776  0AF7  2E 01       	ld	l,0x01
2777  0AF9  18 0B       	jr	l_game_check_cell_00159
2778  0AFB              l_game_check_cell_00156:
2779  0AFB  7A          	ld	a, d
2780  0AFC  D6 60       	sub	a,0x60
2781  0AFE  30 04       	jr	NC,l_game_check_cell_00158
2782  0B00  2E 01       	ld	l,0x01
2783  0B02  18 02       	jr	l_game_check_cell_00159
2784  0B04              l_game_check_cell_00158:
2785  0B04  2E 00       	ld	l,0x00
2786  0B06              l_game_check_cell_00159:
2787  0B06  DD F9       	ld	sp, ix
2788  0B08  DD E1       	pop	ix
2789  0B0A  C9          	ret
2790  0B0B              	SECTION code_compiler
2791  0B0B              ;	---------------------------------
2792  0B0B              ; Function game_paint_attrib
2793  0B0B              ; ---------------------------------
2794  0B0B              _game_paint_attrib:
2795  0B0B  CD 00 00    	call	___sdcc_enter_ix
2796  0B0E  DD 7E 06    	ld	a,(ix+6)
2797  0B11  32 00 00    	ld	(_tmp_uc),a
2798  0B14              l_game_paint_attrib_00103:
2799  0B14  21 00 00    	ld	hl,_tmp_uc
2800  0B17  7E          	ld	a, (hl)
2801  0B18  DD 96 07    	sub	a,(ix+7)
2802  0B1B  30 15       	jr	NC,l_game_paint_attrib_00105
2803  0B1D  DD 4E 04    	ld	c,(ix+4)
2804  0B20  DD 46 05    	ld	b,(ix+5)
2805  0B23  66          	ld	h,(hl)
2806  0B24  DD 6E 08    	ld	l,(ix+8)
2807  0B27  E5          	push	hl
2808  0B28  C5          	push	bc
2809  0B29  CD 00 00    	call	_NIRVANAP_paintC_callee
2810  0B2C  21 00 00    	ld	hl,_tmp_uc
2811  0B2F  34          	inc	(hl)
2812  0B30  18 E2       	jr	l_game_paint_attrib_00103
2813  0B32              l_game_paint_attrib_00105:
2814  0B32  DD E1       	pop	ix
2815  0B34  C9          	ret
2816  0B35              	SECTION code_compiler
2817  0B35              ;	---------------------------------
2818  0B35              ; Function game_colour_message
2819  0B35              ; ---------------------------------
2820  0B35              _game_colour_message:
2821  0B35  CD 00 00    	call	___sdcc_enter_ix
2822  0B38  F5          	push	af
2823  0B39  F5          	push	af
2824  0B3A  3B          	dec	sp
2825  0B3B  D1          	pop	de
2826  0B3C  21 00 00    	ld	hl,_tmp
2827  0B3F  36 01       	ld	(hl),0x01
2828  0B41  2A 00 00    	ld	hl,(_curr_time)
2829  0B44  22 00 00    	ld	(_frame_time),hl
2830  0B47  E5          	push	hl
2831  0B48  DD 7E 04    	ld	a,(ix+4)
2832  0B4B  4D          	ld	c,l
2833  0B4C  07          	rlca
2834  0B4D  07          	rlca
2835  0B4E  07          	rlca
2836  0B4F  E6 F8       	and	a,0xf8
2837  0B51  DD 77 FD    	ld	(ix-3),a
2838  0B54  C6 08       	add	a,0x08
2839  0B56  DD 77 FF    	ld	(ix-1),a
2840  0B59  DD 77 FE    	ld	(ix-2),a
2841  0B5C              l_game_colour_message_00112:
2842  0B5C  3A 00 00    	ld	a,(_tmp)
2843  0B5F  B7          	or	a, a
2844  0B60  CA E6 0B    	jp	Z, l_game_colour_message_00114
2845  0B63  DD 46 07    	ld	b,(ix+7)
2846  0B66  21 00 00    	ld	hl,0x0000
2847  0B69  39          	add	hl, sp
2848  0B6A  EB          	ex	de,hl
2849  0B6B  C5          	push	bc
2850  0B6C  33          	inc	sp
2851  0B6D  D5          	push	de
2852  0B6E  CD 58 0C    	call	_game_check_time
2853  0B71  F1          	pop	af
2854  0B72  33          	inc	sp
2855  0B73  7D          	ld	a, l
2856  0B74  B7          	or	a, a
2857  0B75  20 6F       	jr	NZ,l_game_colour_message_00114
2858  0B77  3E 05       	ld	a,0x05
2859  0B79  F5          	push	af
2860  0B7A  33          	inc	sp
2861  0B7B  21 00 00    	ld	hl,_frame_time
2862  0B7E  E5          	push	hl
2863  0B7F  CD 58 0C    	call	_game_check_time
2864  0B82  F1          	pop	af
2865  0B83  33          	inc	sp
2866  0B84  7D          	ld	a, l
2867  0B85  B7          	or	a, a
2868  0B86  28 40       	jr	Z,l_game_colour_message_00105
2869  0B88  2A 00 00    	ld	hl,(_curr_time)
2870  0B8B  22 00 00    	ld	(_frame_time),hl
2871  0B8E  3A 00 00    	ld	a,(_game_over)
2872  0B91  B7          	or	a,a
2873  0B92  28 1B       	jr	Z,l_game_colour_message_00102
2874  0B94  DD 66 FE    	ld	h,(ix-2)
2875  0B97  DD 6E 06    	ld	l,(ix+6)
2876  0B9A  E5          	push	hl
2877  0B9B  DD 7E 05    	ld	a,(ix+5)
2878  0B9E  F5          	push	af
2879  0B9F  33          	inc	sp
2880  0BA0  21 00 00    	ld	hl,_attrib_hl
2881  0BA3  E5          	push	hl
2882  0BA4  CD 0B 0B    	call	_game_paint_attrib
2883  0BA7  F1          	pop	af
2884  0BA8  F1          	pop	af
2885  0BA9  33          	inc	sp
2886  0BAA  CD 16 11    	call	_game_rotate_attrib
2887  0BAD  18 19       	jr	l_game_colour_message_00105
2888  0BAF              l_game_colour_message_00102:
2889  0BAF  DD 66 FF    	ld	h,(ix-1)
2890  0BB2  DD 6E 06    	ld	l,(ix+6)
2891  0BB5  E5          	push	hl
2892  0BB6  DD 7E 05    	ld	a,(ix+5)
2893  0BB9  F5          	push	af
2894  0BBA  33          	inc	sp
2895  0BBB  21 00 00    	ld	hl,_attrib_osd
2896  0BBE  E5          	push	hl
2897  0BBF  CD 0B 0B    	call	_game_paint_attrib
2898  0BC2  F1          	pop	af
2899  0BC3  F1          	pop	af
2900  0BC4  33          	inc	sp
2901  0BC5  CD 32 11    	call	_game_rotate_attrib_osd
2902  0BC8              l_game_colour_message_00105:
2903  0BC8  DD 7E 09    	ld	a,(ix+9)
2904  0BCB  B7          	or	a, a
2905  0BCC  28 8E       	jr	Z,l_game_colour_message_00112
2906  0BCE              l_game_colour_message_00106:
2907  0BCE  21 00 00    	ld	hl,_k1
2908  0BD1  E5          	push	hl
2909  0BD2  2A 00 00    	ld	hl,(_joyfunc1)
2910  0BD5  CD 00 00    	call	___sdcc_call_hl
2911  0BD8  F1          	pop	af
2912  0BD9  7C          	ld	a,h
2913  0BDA  B5          	or	a,l
2914  0BDB  4D          	ld	c,l
2915  0BDC  CA 5C 0B    	jp	Z, l_game_colour_message_00112
2916  0BDF  21 00 00    	ld	hl,_tmp
2917  0BE2  36 00       	ld	(hl),0x00
2918  0BE4  18 E8       	jr	l_game_colour_message_00106
2919  0BE6              l_game_colour_message_00114:
2920  0BE6  DD 7E 06    	ld	a,(ix+6)
2921  0BE9  DD 96 05    	sub	a,(ix+5)
2922  0BEC  4F          	ld	c, a
2923  0BED  3A 00 00    	ld	a,(_game_over)
2924  0BF0  B7          	or	a, a
2925  0BF1  28 2B       	jr	Z,l_game_colour_message_00118
2926  0BF3  21 00 00    	ld	hl,_tmp1
2927  0BF6  71          	ld	(hl), c
2928  0BF7  21 00 00    	ld	hl,_tmp0
2929  0BFA  36 00       	ld	(hl),0x00
2930  0BFC              l_game_colour_message_00121:
2931  0BFC  3A 00 00    	ld	a,(_tmp0)
2932  0BFF  21 00 00    	ld	hl,_tmp1
2933  0C02  96          	sub	a, (hl)
2934  0C03  30 4E       	jr	NC,l_game_colour_message_00126
2935  0C05  DD 7E 05    	ld	a,(ix+5)
2936  0C08  21 00 00    	ld	hl,_tmp0
2937  0C0B  86          	add	a, (hl)
2938  0C0C  47          	ld	b, a
2939  0C0D  21 CD 00    	ld	hl,___str_32
2940  0C10  E5          	push	hl
2941  0C11  DD 4E 04    	ld	c,(ix+4)
2942  0C14  C5          	push	bc
2943  0C15  CD 00 00    	call	_zx_print_str
2944  0C18  21 00 00    	ld	hl,_tmp0
2945  0C1B  34          	inc	(hl)
2946  0C1C  18 DE       	jr	l_game_colour_message_00121
2947  0C1E              l_game_colour_message_00118:
2948  0C1E  21 00 00    	ld	hl,_tmp1
2949  0C21  71          	ld	(hl), c
2950  0C22  DD 7E FD    	ld	a,(ix-3)
2951  0C25  32 00 00    	ld	(_s_lin0),a
2952  0C28  DD 7E 05    	ld	a,(ix+5)
2953  0C2B  CB 3F       	srl	a
2954  0C2D  87          	add	a, a
2955  0C2E  32 00 00    	ld	(_s_col1),a
2956  0C31  21 00 00    	ld	hl,_tmp0
2957  0C34  36 00       	ld	(hl),0x00
2958  0C36              l_game_colour_message_00124:
2959  0C36  3A 00 00    	ld	a,(_tmp0)
2960  0C39  21 00 00    	ld	hl,_tmp1
2961  0C3C  96          	sub	a, (hl)
2962  0C3D  30 14       	jr	NC,l_game_colour_message_00126
2963  0C3F  3A 00 00    	ld	a,(_s_col1)
2964  0C42  21 00 00    	ld	hl,_tmp0
2965  0C45  86          	add	a, (hl)
2966  0C46  32 00 00    	ld	(_s_col0),a
2967  0C49  CD 00 00    	call	_spr_back_repaint
2968  0C4C  21 00 00    	ld	hl,_tmp0
2969  0C4F  34          	inc	(hl)
2970  0C50  34          	inc	(hl)
2971  0C51  18 E3       	jr	l_game_colour_message_00124
2972  0C53              l_game_colour_message_00126:
2973  0C53  DD F9       	ld	sp, ix
2974  0C55  DD E1       	pop	ix
2975  0C57  C9          	ret
2976  0C58              	SECTION rodata_compiler
2977  00CD              ___str_32:
2978  00CD  20          	DEFM " "
2979  00CE  00          	DEFB 0x00
2980  00CF              	SECTION code_compiler
2981  0C58              ;	---------------------------------
2982  0C58              ; Function game_check_time
2983  0C58              ; ---------------------------------
2984  0C58              _game_check_time:
2985  0C58  CD 00 00    	call	___sdcc_enter_ix
2986  0C5B  2A 00 00    	ld	hl,(_curr_time)
2987  0C5E  4D          	ld	c, l
2988  0C5F  DD 6E 04    	ld	l,(ix+4)
2989  0C62  44          	ld	b,h
2990  0C63  DD 66 05    	ld	h,(ix+5)
2991  0C66  5E          	ld	e, (hl)
2992  0C67  23          	inc	hl
2993  0C68  56          	ld	d, (hl)
2994  0C69  79          	ld	a, c
2995  0C6A  93          	sub	a, e
2996  0C6B  4F          	ld	c, a
2997  0C6C  78          	ld	a, b
2998  0C6D  9A          	sbc	a, d
2999  0C6E  47          	ld	b, a
3000  0C6F  DD 7E 06    	ld	a,(ix+6)
3001  0C72  16 00       	ld	d,0x00
3002  0C74  91          	sub	a, c
3003  0C75  7A          	ld	a, d
3004  0C76  98          	sbc	a, b
3005  0C77  30 04       	jr	NC,l_game_check_time_00102
3006  0C79  2E 01       	ld	l,0x01
3007  0C7B  18 02       	jr	l_game_check_time_00104
3008  0C7D              l_game_check_time_00102:
3009  0C7D  2E 00       	ld	l,0x00
3010  0C7F              l_game_check_time_00104:
3011  0C7F  DD E1       	pop	ix
3012  0C81  C9          	ret
3013  0C82              	SECTION code_compiler
3014  0C82              ;	---------------------------------
3015  0C82              ; Function game_shoot_fire
3016  0C82              ; ---------------------------------
3017  0C82              _game_shoot_fire:
3018  0C82  CD 00 00    	call	___sdcc_enter_ix
3019  0C85  21 F3 FF    	ld	hl, -13
3020  0C88  39          	add	hl, sp
3021  0C89  F9          	ld	sp, hl
3022  0C8A  01 00 00    	ld	bc,_bullet_col
3023  0C8D  DD 6E 04    	ld	l,(ix+4)
3024  0C90  26 00       	ld	h,0x00
3025  0C92  09          	add	hl,bc
3026  0C93  DD 75 FE    	ld	(ix-2),l
3027  0C96  DD 74 FF    	ld	(ix-1),h
3028  0C99  4E          	ld	c, (hl)
3029  0C9A  0C          	inc	c
3030  0C9B  C2 A9 0E    	jp	NZ,l_game_shoot_fire_00124
3031  0C9E  21 00 00    	ld	hl,_bullet_count
3032  0CA1  34          	inc	(hl)
3033  0CA2  01 00 00    	ld	bc,_bullet_dir
3034  0CA5  DD 6E 04    	ld	l,(ix+4)
3035  0CA8  26 00       	ld	h,0x00
3036  0CAA  09          	add	hl,bc
3037  0CAB  DD 75 FC    	ld	(ix-4),l
3038  0CAE  DD 74 FD    	ld	(ix-3),h
3039  0CB1  36 00       	ld	(hl),0x00
3040  0CB3  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3041  0CB5  DD 86 04    	add	a,(ix+4)
3042  0CB8  4F          	ld	c, a
3043  0CB9  3E 00       	ld	a, +((_bullet_lin0) / 256)
3044  0CBB  CE 00       	adc	a,0x00
3045  0CBD  47          	ld	b, a
3046  0CBE  11 00 00    	ld	de,_lin
3047  0CC1  DD 6E 04    	ld	l,(ix+4)
3048  0CC4  26 00       	ld	h,0x00
3049  0CC6  19          	add	hl,de
3050  0CC7  DD 75 FA    	ld	(ix-6),l
3051  0CCA  DD 74 FB    	ld	(ix-5),h
3052  0CCD  7E          	ld	a, (hl)
3053  0CCE  02          	ld	(bc), a
3054  0CCF  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3055  0CD1  DD 86 04    	add	a,(ix+4)
3056  0CD4  4F          	ld	c, a
3057  0CD5  3E 00       	ld	a, +((_bullet_col0) / 256)
3058  0CD7  CE 00       	adc	a,0x00
3059  0CD9  47          	ld	b, a
3060  0CDA  11 00 00    	ld	de,_col
3061  0CDD  DD 6E 04    	ld	l,(ix+4)
3062  0CE0  26 00       	ld	h,0x00
3063  0CE2  19          	add	hl,de
3064  0CE3  DD 75 F8    	ld	(ix-8),l
3065  0CE6  DD 74 F9    	ld	(ix-7),h
3066  0CE9  7E          	ld	a, (hl)
3067  0CEA  02          	ld	(bc), a
3068  0CEB  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3069  0CED  DD 86 04    	add	a,(ix+4)
3070  0CF0  DD 77 F6    	ld	(ix-10),a
3071  0CF3  3E 00       	ld	a, +((_bullet_lin) / 256)
3072  0CF5  CE 00       	adc	a,0x00
3073  0CF7  DD 77 F7    	ld	(ix-9),a
3074  0CFA  DD 6E FA    	ld	l,(ix-6)
3075  0CFD  DD 66 FB    	ld	h,(ix-5)
3076  0D00  4E          	ld	c, (hl)
3077  0D01  DD 6E F6    	ld	l,(ix-10)
3078  0D04  DD 66 F7    	ld	h,(ix-9)
3079  0D07  71          	ld	(hl), c
3080  0D08  01 00 00    	ld	bc,_bullet_frames
3081  0D0B  DD 6E 04    	ld	l,(ix+4)
3082  0D0E  26 00       	ld	h,0x00
3083  0D10  09          	add	hl,bc
3084  0D11  DD 75 F4    	ld	(ix-12),l
3085  0D14  DD 74 F5    	ld	(ix-11),h
3086  0D17  36 02       	ld	(hl),0x02
3087  0D19  DD 7E 04    	ld	a,(ix+4)
3088  0D1C  D6 07       	sub	a,0x07
3089  0D1E  20 04       	jr	NZ,l_game_shoot_fire_00169
3090  0D20  3E 01       	ld	a,0x01
3091  0D22  18 01       	jr	l_game_shoot_fire_00170
3092  0D24              l_game_shoot_fire_00169:
3093  0D24  AF          	xor	a,a
3094  0D25              l_game_shoot_fire_00170:
3095  0D25  DD 77 F3    	ld	(ix-13),a
3096  0D28  B7          	or	a, a
3097  0D29  28 1B       	jr	Z,l_game_shoot_fire_00102
3098  0D2B  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3099  0D2D  DD 86 04    	add	a,(ix+4)
3100  0D30  4F          	ld	c, a
3101  0D31  3E 00       	ld	a, +((_bullet_max) / 256)
3102  0D33  CE 00       	adc	a,0x00
3103  0D35  47          	ld	b, a
3104  0D36  3A 00 00    	ld	a,(_player_lvl)
3105  0D39  CB 3F       	srl	a
3106  0D3B  C6 04       	add	a,0x04
3107  0D3D  02          	ld	(bc), a
3108  0D3E  3A 07 00    	ld	a,(_state_a + 0x0007)
3109  0D41  E6 08       	and	a,0x08
3110  0D43  5F          	ld	e, a
3111  0D44  18 13       	jr	l_game_shoot_fire_00103
3112  0D46              l_game_shoot_fire_00102:
3113  0D46  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3114  0D48  DD 86 04    	add	a,(ix+4)
3115  0D4B  4F          	ld	c, a
3116  0D4C  3E 00       	ld	a, +((_bullet_max) / 256)
3117  0D4E  CE 00       	adc	a,0x00
3118  0D50  47          	ld	b, a
3119  0D51  AF          	xor	a, a
3120  0D52  02          	ld	(bc), a
3121  0D53  3A 00 00    	ld	a,(_s_state)
3122  0D56  E6 08       	and	a,0x08
3123  0D58  5F          	ld	e, a
3124  0D59              l_game_shoot_fire_00103:
3125  0D59  DD 7E 05    	ld	a,(ix+5)
3126  0D5C  D6 7C       	sub	a,0x7c
3127  0D5E  20 21       	jr	NZ,l_game_shoot_fire_00105
3128  0D60  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3129  0D62  DD 86 04    	add	a,(ix+4)
3130  0D65  4F          	ld	c, a
3131  0D66  3E 00       	ld	a, +((_bullet_class) / 256)
3132  0D68  CE 00       	adc	a,0x00
3133  0D6A  47          	ld	b, a
3134  0D6B  3E 01       	ld	a,0x01
3135  0D6D  02          	ld	(bc), a
3136  0D6E  3E 00       	ld	a, +((_bullet_max) & 0xFF)
3137  0D70  DD 86 04    	add	a,(ix+4)
3138  0D73  4F          	ld	c, a
3139  0D74  3E 00       	ld	a, +((_bullet_max) / 256)
3140  0D76  CE 00       	adc	a,0x00
3141  0D78  47          	ld	b, a
3142  0D79  3A 00 00    	ld	a,(_game_world)
3143  0D7C  87          	add	a, a
3144  0D7D  87          	add	a, a
3145  0D7E  C6 08       	add	a,0x08
3146  0D80  02          	ld	(bc), a
3147  0D81              l_game_shoot_fire_00105:
3148  0D81  DD 7E 05    	ld	a,(ix+5)
3149  0D84  D6 78       	sub	a,0x78
3150  0D86  20 24       	jr	NZ,l_game_shoot_fire_00110
3151  0D88  DD 7E F3    	ld	a,(ix-13)
3152  0D8B  B7          	or	a, a
3153  0D8C  28 10       	jr	Z,l_game_shoot_fire_00107
3154  0D8E  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3155  0D90  DD 86 04    	add	a,(ix+4)
3156  0D93  4F          	ld	c, a
3157  0D94  3E 00       	ld	a, +((_bullet_class) / 256)
3158  0D96  CE 00       	adc	a,0x00
3159  0D98  47          	ld	b, a
3160  0D99  3E 01       	ld	a,0x01
3161  0D9B  02          	ld	(bc), a
3162  0D9C  18 0E       	jr	l_game_shoot_fire_00110
3163  0D9E              l_game_shoot_fire_00107:
3164  0D9E  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3165  0DA0  DD 86 04    	add	a,(ix+4)
3166  0DA3  4F          	ld	c, a
3167  0DA4  3E 00       	ld	a, +((_bullet_class) / 256)
3168  0DA6  CE 00       	adc	a,0x00
3169  0DA8  47          	ld	b, a
3170  0DA9  3E 02       	ld	a,0x02
3171  0DAB  02          	ld	(bc), a
3172  0DAC              l_game_shoot_fire_00110:
3173  0DAC  DD 7E 05    	ld	a,(ix+5)
3174  0DAF  D6 80       	sub	a,0x80
3175  0DB1  20 04       	jr	NZ,l_game_shoot_fire_00175
3176  0DB3  3E 01       	ld	a,0x01
3177  0DB5  18 01       	jr	l_game_shoot_fire_00176
3178  0DB7              l_game_shoot_fire_00175:
3179  0DB7  AF          	xor	a,a
3180  0DB8              l_game_shoot_fire_00176:
3181  0DB8  57          	ld	d,a
3182  0DB9  B7          	or	a, a
3183  0DBA  28 35       	jr	Z,l_game_shoot_fire_00112
3184  0DBC  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3185  0DBE  DD 86 04    	add	a,(ix+4)
3186  0DC1  4F          	ld	c, a
3187  0DC2  3E 00       	ld	a, +((_bullet_class) / 256)
3188  0DC4  CE 00       	adc	a,0x00
3189  0DC6  47          	ld	b, a
3190  0DC7  3E 04       	ld	a,0x04
3191  0DC9  02          	ld	(bc), a
3192  0DCA  DD 6E FA    	ld	l,(ix-6)
3193  0DCD  DD 66 FB    	ld	h,(ix-5)
3194  0DD0  7E          	ld	a, (hl)
3195  0DD1  C6 FC       	add	a,0xfc
3196  0DD3  DD 6E F6    	ld	l,(ix-10)
3197  0DD6  DD 66 F7    	ld	h,(ix-9)
3198  0DD9  77          	ld	(hl), a
3199  0DDA  DD 6E F4    	ld	l,(ix-12)
3200  0DDD  DD 66 F5    	ld	h,(ix-11)
3201  0DE0  36 04       	ld	(hl),0x04
3202  0DE2  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3203  0DE4  DD 86 04    	add	a,(ix+4)
3204  0DE7  4F          	ld	c, a
3205  0DE8  3E 00       	ld	a, +((_bullet_vel) / 256)
3206  0DEA  CE 00       	adc	a,0x00
3207  0DEC  47          	ld	b, a
3208  0DED  3A 00 00    	ld	a,(_player_vel_y0)
3209  0DF0  02          	ld	(bc), a
3210  0DF1              l_game_shoot_fire_00112:
3211  0DF1  DD 6E F8    	ld	l,(ix-8)
3212  0DF4  DD 66 F9    	ld	h,(ix-7)
3213  0DF7  46          	ld	b, (hl)
3214  0DF8  DD 6E FA    	ld	l,(ix-6)
3215  0DFB  DD 66 FB    	ld	h,(ix-5)
3216  0DFE  7E          	ld	a, (hl)
3217  0DFF  D5          	push	de
3218  0E00  4F          	ld	c,a
3219  0E01  C5          	push	bc
3220  0E02  CD 00 00    	call	_spr_calc_index
3221  0E05  F1          	pop	af
3222  0E06  D1          	pop	de
3223  0E07  22 00 00    	ld	(_index1),hl
3224  0E0A  DD 6E F8    	ld	l,(ix-8)
3225  0E0D  DD 66 F9    	ld	h,(ix-7)
3226  0E10  7E          	ld	a, (hl)
3227  0E11  DD 77 F3    	ld	(ix-13),a
3228  0E14  7B          	ld	a, e
3229  0E15  B7          	or	a, a
3230  0E16  28 57       	jr	Z,l_game_shoot_fire_00121
3231  0E18  DD 7E F3    	ld	a,(ix-13)
3232  0E1B  D6 01       	sub	a,0x01
3233  0E1D  30 05       	jr	NC,l_game_shoot_fire_00114
3234  0E1F  2E 01       	ld	l,0x01
3235  0E21  C3 AB 0E    	jp	l_game_shoot_fire_00125
3236  0E24              l_game_shoot_fire_00114:
3237  0E24  DD 6E FE    	ld	l,(ix-2)
3238  0E27  DD 66 FF    	ld	h,(ix-1)
3239  0E2A  DD 7E F3    	ld	a,(ix-13)
3240  0E2D  77          	ld	(hl), a
3241  0E2E  7A          	ld	a, d
3242  0E2F  B7          	or	a, a
3243  0E30  20 13       	jr	NZ,l_game_shoot_fire_00116
3244  0E32  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3245  0E34  DD 86 04    	add	a,(ix+4)
3246  0E37  4F          	ld	c, a
3247  0E38  3E 00       	ld	a, +((_bullet_tile) / 256)
3248  0E3A  CE 00       	adc	a,0x00
3249  0E3C  47          	ld	b, a
3250  0E3D  DD 7E 05    	ld	a,(ix+5)
3251  0E40  C6 02       	add	a,0x02
3252  0E42  02          	ld	(bc), a
3253  0E43  18 0F       	jr	l_game_shoot_fire_00117
3254  0E45              l_game_shoot_fire_00116:
3255  0E45  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3256  0E47  DD 86 04    	add	a,(ix+4)
3257  0E4A  4F          	ld	c, a
3258  0E4B  3E 00       	ld	a, +((_bullet_tile) / 256)
3259  0E4D  CE 00       	adc	a,0x00
3260  0E4F  47          	ld	b, a
3261  0E50  DD 7E 05    	ld	a,(ix+5)
3262  0E53  02          	ld	(bc), a
3263  0E54              l_game_shoot_fire_00117:
3264  0E54  DD 6E FC    	ld	l,(ix-4)
3265  0E57  DD 66 FD    	ld	h,(ix-3)
3266  0E5A  36 01       	ld	(hl),0x01
3267  0E5C  01 00 00    	ld	bc,_bullet_colint
3268  0E5F  DD 6E 04    	ld	l,(ix+4)
3269  0E62  26 00       	ld	h,0x00
3270  0E64  09          	add	hl,bc
3271  0E65  DD 75 F4    	ld	(ix-12),l
3272  0E68  DD 74 F5    	ld	(ix-11),h
3273  0E6B  36 02       	ld	(hl),0x02
3274  0E6D  18 3A       	jr	l_game_shoot_fire_00124
3275  0E6F              l_game_shoot_fire_00121:
3276  0E6F  3E 1D       	ld	a,0x1d
3277  0E71  DD 96 F3    	sub	a,(ix-13)
3278  0E74  30 04       	jr	NC,l_game_shoot_fire_00119
3279  0E76  2E 01       	ld	l,0x01
3280  0E78  18 31       	jr	l_game_shoot_fire_00125
3281  0E7A              l_game_shoot_fire_00119:
3282  0E7A  DD 6E FE    	ld	l,(ix-2)
3283  0E7D  DD 66 FF    	ld	h,(ix-1)
3284  0E80  DD 7E F3    	ld	a,(ix-13)
3285  0E83  77          	ld	(hl), a
3286  0E84  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3287  0E86  DD 86 04    	add	a,(ix+4)
3288  0E89  4F          	ld	c, a
3289  0E8A  3E 00       	ld	a, +((_bullet_tile) / 256)
3290  0E8C  CE 00       	adc	a,0x00
3291  0E8E  47          	ld	b, a
3292  0E8F  DD 7E 05    	ld	a,(ix+5)
3293  0E92  02          	ld	(bc), a
3294  0E93  DD 6E FC    	ld	l,(ix-4)
3295  0E96  DD 66 FD    	ld	h,(ix-3)
3296  0E99  36 FF       	ld	(hl),0xff
3297  0E9B  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3298  0E9D  DD 86 04    	add	a,(ix+4)
3299  0EA0  4F          	ld	c, a
3300  0EA1  3E 00       	ld	a, +((_bullet_colint) / 256)
3301  0EA3  CE 00       	adc	a,0x00
3302  0EA5  47          	ld	b, a
3303  0EA6  3E FF       	ld	a,0xff
3304  0EA8  02          	ld	(bc), a
3305  0EA9              l_game_shoot_fire_00124:
3306  0EA9  2E 00       	ld	l,0x00
3307  0EAB              l_game_shoot_fire_00125:
3308  0EAB  DD F9       	ld	sp, ix
3309  0EAD  DD E1       	pop	ix
3310  0EAF  C9          	ret
3311  0EB0              	SECTION code_compiler
3312  0EB0              ;	---------------------------------
3313  0EB0              ; Function game_shoot_fire_boss
3314  0EB0              ; ---------------------------------
3315  0EB0              _game_shoot_fire_boss:
3316  0EB0  CD 00 00    	call	___sdcc_enter_ix
3317  0EB3  F5          	push	af
3318  0EB4  F5          	push	af
3319  0EB5  3B          	dec	sp
3320  0EB6  3A 07 00    	ld	a,(_col + 0x0007)
3321  0EB9  4F          	ld	c,a
3322  0EBA  21 00 00    	ld	hl,_boss_col
3323  0EBD  96          	sub	a, (hl)
3324  0EBE  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3325  0EC0  DD 36 FB 01 	ld	(ix-5),0x01
3326  0EC4              l_game_shoot_fire_boss_00102:
3327  0EC4  3A 00 00    	ld	a,(_boss_col)
3328  0EC7  91          	sub	a, c
3329  0EC8  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3330  0ECA  DD 36 FB 00 	ld	(ix-5),0x00
3331  0ECE              l_game_shoot_fire_boss_00131:
3332  0ECE  1E 00       	ld	e,0x00
3333  0ED0              l_game_shoot_fire_boss_00107:
3334  0ED0  7B          	ld	a, e
3335  0ED1  D6 07       	sub	a,0x07
3336  0ED3  30 0D       	jr	NC,l_game_shoot_fire_boss_00138
3337  0ED5  16 00       	ld	d,0x00
3338  0ED7  21 00 00    	ld	hl,_bullet_col
3339  0EDA  19          	add	hl, de
3340  0EDB  4E          	ld	c, (hl)
3341  0EDC  0C          	inc	c
3342  0EDD  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3343  0EDF  1C          	inc	e
3344  0EE0  18 EE       	jr	l_game_shoot_fire_boss_00107
3345  0EE2              l_game_shoot_fire_boss_00138:
3346  0EE2  7B          	ld	a,e
3347  0EE3  47          	ld	b,a
3348  0EE4  D6 07       	sub	a,0x07
3349  0EE6  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3350  0EE8  6F          	ld	l,a
3351  0EE9  C3 1E 10    	jp	l_game_shoot_fire_boss_00125
3352  0EEC              l_game_shoot_fire_boss_00111:
3353  0EEC  21 00 00    	ld	hl,_bullet_count
3354  0EEF  34          	inc	(hl)
3355  0EF0  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3356  0EF2  83          	add	a, e
3357  0EF3  DD 77 FE    	ld	(ix-2),a
3358  0EF6  6F          	ld	l,a
3359  0EF7  3E 00       	ld	a,+((_bullet_dir) / 256)
3360  0EF9  CE 00       	adc	a,0x00
3361  0EFB  DD 77 FF    	ld	(ix-1),a
3362  0EFE  67          	ld	h,a
3363  0EFF  36 00       	ld	(hl),0x00
3364  0F01  3A 00 00    	ld	a,(_game_world)
3365  0F04  3D          	dec	a
3366  0F05  28 1B       	jr	Z,l_game_shoot_fire_boss_00116
3367  0F07  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3368  0F09  83          	add	a, e
3369  0F0A  4F          	ld	c, a
3370  0F0B  3E 00       	ld	a, +((_bullet_lin0) / 256)
3371  0F0D  CE 00       	adc	a,0x00
3372  0F0F  57          	ld	d, a
3373  0F10  3A 00 00    	ld	a,(_boss_lin)
3374  0F13  C6 10       	add	a,0x10
3375  0F15  69          	ld	l, c
3376  0F16  62          	ld	h, d
3377  0F17  77          	ld	(hl), a
3378  0F18  16 00       	ld	d,0x00
3379  0F1A  21 00 00    	ld	hl,_bullet_class
3380  0F1D  19          	add	hl, de
3381  0F1E  36 02       	ld	(hl),0x02
3382  0F20  18 2E       	jr	l_game_shoot_fire_boss_00117
3383  0F22              l_game_shoot_fire_boss_00116:
3384  0F22  16 00       	ld	d,0x00
3385  0F24  21 00 00    	ld	hl,_bullet_class
3386  0F27  19          	add	hl, de
3387  0F28  36 05       	ld	(hl),0x05
3388  0F2A  3A 00 00    	ld	a,(_tmp0)
3389  0F2D  B7          	or	a, a
3390  0F2E  20 11       	jr	NZ,l_game_shoot_fire_boss_00113
3391  0F30  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3392  0F32  83          	add	a, e
3393  0F33  5F          	ld	e, a
3394  0F34  3E 00       	ld	a, +((_bullet_lin0) / 256)
3395  0F36  CE 00       	adc	a,0x00
3396  0F38  57          	ld	d, a
3397  0F39  3A 00 00    	ld	a,(_boss_lin)
3398  0F3C  C6 F8       	add	a,0xf8
3399  0F3E  12          	ld	(de), a
3400  0F3F  18 0F       	jr	l_game_shoot_fire_boss_00117
3401  0F41              l_game_shoot_fire_boss_00113:
3402  0F41  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3403  0F43  83          	add	a, e
3404  0F44  5F          	ld	e, a
3405  0F45  3E 00       	ld	a, +((_bullet_lin0) / 256)
3406  0F47  CE 00       	adc	a,0x00
3407  0F49  57          	ld	d, a
3408  0F4A  3A 00 00    	ld	a,(_boss_lin)
3409  0F4D  C6 18       	add	a,0x18
3410  0F4F  12          	ld	(de), a
3411  0F50              l_game_shoot_fire_boss_00117:
3412  0F50  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3413  0F52  80          	add	a, b
3414  0F53  5F          	ld	e, a
3415  0F54  3E 00       	ld	a, +((_bullet_lin) / 256)
3416  0F56  CE 00       	adc	a,0x00
3417  0F58  57          	ld	d, a
3418  0F59  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3419  0F5B  80          	add	a, b
3420  0F5C  6F          	ld	l, a
3421  0F5D  3E 00       	ld	a, +((_bullet_lin0) / 256)
3422  0F5F  CE 00       	adc	a,0x00
3423  0F61  67          	ld	h, a
3424  0F62  7E          	ld	a, (hl)
3425  0F63  12          	ld	(de), a
3426  0F64  11 00 00    	ld	de,_bullet_frames+0
3427  0F67  68          	ld	l,b
3428  0F68  26 00       	ld	h,0x00
3429  0F6A  19          	add	hl, de
3430  0F6B  36 02       	ld	(hl),0x02
3431  0F6D  11 00 00    	ld	de,_bullet_max+0
3432  0F70  68          	ld	l,b
3433  0F71  26 00       	ld	h,0x00
3434  0F73  19          	add	hl, de
3435  0F74  36 08       	ld	(hl),0x08
3436  0F76  3A 00 00    	ld	a,(_boss_col)
3437  0F79  C5          	push	bc
3438  0F7A  F5          	push	af
3439  0F7B  33          	inc	sp
3440  0F7C  3A 00 00    	ld	a,(_boss_lin)
3441  0F7F  F5          	push	af
3442  0F80  33          	inc	sp
3443  0F81  CD 00 00    	call	_spr_calc_index
3444  0F84  F1          	pop	af
3445  0F85  EB          	ex	de,hl
3446  0F86  C1          	pop	bc
3447  0F87  ED 53 00 00 	ld	(_index1),de
3448  0F8B  3E 00       	ld	a,+((_bullet_col) & 0xFF)
3449  0F8D  80          	add	a,b
3450  0F8E  DD 77 FC    	ld	(ix-4),a
3451  0F91  3E 00       	ld	a, +((_bullet_col) / 256)
3452  0F93  CE 00       	adc	a,0x00
3453  0F95  DD 77 FD    	ld	(ix-3),a
3454  0F98  DD 7E FB    	ld	a,(ix-5)
3455  0F9B  B7          	or	a, a
3456  0F9C  28 37       	jr	Z,l_game_shoot_fire_boss_00123
3457  0F9E  3A 00 00    	ld	a,(_boss_col)
3458  0FA1  D6 01       	sub	a,0x01
3459  0FA3  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3460  0FA5  2E 01       	ld	l,0x01
3461  0FA7  18 75       	jr	l_game_shoot_fire_boss_00125
3462  0FA9              l_game_shoot_fire_boss_00119:
3463  0FA9  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3464  0FAB  80          	add	a, b
3465  0FAC  5F          	ld	e, a
3466  0FAD  3E 00       	ld	a, +((_bullet_tile) / 256)
3467  0FAF  CE 00       	adc	a,0x00
3468  0FB1  57          	ld	d, a
3469  0FB2  DD 7E 04    	ld	a,(ix+4)
3470  0FB5  C6 02       	add	a,0x02
3471  0FB7  12          	ld	(de), a
3472  0FB8  DD 6E FE    	ld	l,(ix-2)
3473  0FBB  DD 66 FF    	ld	h,(ix-1)
3474  0FBE  36 01       	ld	(hl),0x01
3475  0FC0  11 00 00    	ld	de,_bullet_colint+0
3476  0FC3  68          	ld	l,b
3477  0FC4  26 00       	ld	h,0x00
3478  0FC6  19          	add	hl, de
3479  0FC7  36 02       	ld	(hl),0x02
3480  0FC9  DD 6E FC    	ld	l,(ix-4)
3481  0FCC  DD 66 FD    	ld	h,(ix-3)
3482  0FCF  3A 00 00    	ld	a,(_boss_col)
3483  0FD2  77          	ld	(hl),a
3484  0FD3  18 36       	jr	l_game_shoot_fire_boss_00124
3485  0FD5              l_game_shoot_fire_boss_00123:
3486  0FD5  3E 1D       	ld	a,0x1d
3487  0FD7  21 00 00    	ld	hl,_boss_col
3488  0FDA  96          	sub	a, (hl)
3489  0FDB  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3490  0FDD  2E 01       	ld	l,0x01
3491  0FDF  18 3D       	jr	l_game_shoot_fire_boss_00125
3492  0FE1              l_game_shoot_fire_boss_00121:
3493  0FE1  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3494  0FE3  80          	add	a, b
3495  0FE4  5F          	ld	e, a
3496  0FE5  3E 00       	ld	a, +((_bullet_tile) / 256)
3497  0FE7  CE 00       	adc	a,0x00
3498  0FE9  57          	ld	d, a
3499  0FEA  DD 7E 04    	ld	a,(ix+4)
3500  0FED  12          	ld	(de), a
3501  0FEE  DD 6E FE    	ld	l,(ix-2)
3502  0FF1  DD 66 FF    	ld	h,(ix-1)
3503  0FF4  36 FF       	ld	(hl),0xff
3504  0FF6  11 00 00    	ld	de,_bullet_colint+0
3505  0FF9  68          	ld	l,b
3506  0FFA  26 00       	ld	h,0x00
3507  0FFC  19          	add	hl, de
3508  0FFD  36 FF       	ld	(hl),0xff
3509  0FFF  3A 00 00    	ld	a,(_boss_col)
3510  1002  C6 06       	add	a,0x06
3511  1004  DD 6E FC    	ld	l,(ix-4)
3512  1007  DD 66 FD    	ld	h,(ix-3)
3513  100A  77          	ld	(hl), a
3514  100B              l_game_shoot_fire_boss_00124:
3515  100B  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3516  100D  80          	add	a, b
3517  100E  4F          	ld	c, a
3518  100F  3E 00       	ld	a, +((_bullet_col0) / 256)
3519  1011  CE 00       	adc	a,0x00
3520  1013  47          	ld	b, a
3521  1014  DD 6E FC    	ld	l,(ix-4)
3522  1017  DD 66 FD    	ld	h,(ix-3)
3523  101A  7E          	ld	a, (hl)
3524  101B  02          	ld	(bc), a
3525  101C  2E 00       	ld	l,0x00
3526  101E              l_game_shoot_fire_boss_00125:
3527  101E  DD F9       	ld	sp, ix
3528  1020  DD E1       	pop	ix
3529  1022  C9          	ret
3530  1023              	SECTION code_compiler
3531  1023              ;	---------------------------------
3532  1023              ; Function game_obj_set
3533  1023              ; ---------------------------------
3534  1023              _game_obj_set:
3535  1023  3A 00 00    	ld	a,(_scr_curr)
3536  1026  EB          	ex	de,hl
3537  1027  D6 08       	sub	a,0x08
3538  1029  30 19       	jr	NC,l_game_obj_set_00102
3539  102B  21 00 00    	ld	hl,_scr_obj0
3540  102E  19          	add	hl,de
3541  102F  5E          	ld	e,(hl)
3542  1030  3A 00 00    	ld	a,(_scr_curr)
3543  1033  3C          	inc	a
3544  1034  16 01       	ld	d,0x01
3545  1036  4D          	ld	c,l
3546  1037  44          	ld	b,h
3547  1038  18 02       	jr	l_game_obj_set_00111
3548  103A              l_game_obj_set_00110:
3549  103A  CB 22       	sla	d
3550  103C              l_game_obj_set_00111:
3551  103C  3D          	dec	a
3552  103D  20 FB       	jr	NZ,l_game_obj_set_00110
3553  103F  7B          	ld	a, e
3554  1040  B2          	or	a, d
3555  1041  02          	ld	(bc), a
3556  1042  18 17       	jr	l_game_obj_set_00104
3557  1044              l_game_obj_set_00102:
3558  1044  3A 00 00    	ld	a,(_scr_curr)
3559  1047  C6 F8       	add	a,0xf8
3560  1049  47          	ld	b, a
3561  104A  21 00 00    	ld	hl,_scr_obj1
3562  104D  19          	add	hl, de
3563  104E  4E          	ld	c, (hl)
3564  104F  1E 01       	ld	e,0x01
3565  1051  04          	inc	b
3566  1052  18 02       	jr	l_game_obj_set_00113
3567  1054              l_game_obj_set_00112:
3568  1054  CB 23       	sla	e
3569  1056              l_game_obj_set_00113:
3570  1056  10 FC       	djnz	l_game_obj_set_00112
3571  1058  79          	ld	a, c
3572  1059  B3          	or	a, e
3573  105A  77          	ld	(hl), a
3574  105B              l_game_obj_set_00104:
3575  105B  C9          	ret
3576  105C              	SECTION code_compiler
3577  105C              ;	---------------------------------
3578  105C              ; Function game_obj_chk
3579  105C              ; ---------------------------------
3580  105C              _game_obj_chk:
3581  105C  3A 00 00    	ld	a,(_scr_curr)
3582  105F  EB          	ex	de,hl
3583  1060  D6 08       	sub	a,0x08
3584  1062  30 17       	jr	NC,l_game_obj_chk_00102
3585  1064  21 00 00    	ld	hl,_scr_obj0
3586  1067  19          	add	hl, de
3587  1068  4E          	ld	c, (hl)
3588  1069  21 00 00    	ld	hl,_scr_curr
3589  106C  46          	ld	b, (hl)
3590  106D  1E 01       	ld	e,0x01
3591  106F  04          	inc	b
3592  1070  18 02       	jr	l_game_obj_chk_00111
3593  1072              l_game_obj_chk_00110:
3594  1072  CB 23       	sla	e
3595  1074              l_game_obj_chk_00111:
3596  1074  10 FC       	djnz	l_game_obj_chk_00110
3597  1076  79          	ld	a, c
3598  1077  A3          	and	a, e
3599  1078  6F          	ld	l, a
3600  1079  18 17       	jr	l_game_obj_chk_00104
3601  107B              l_game_obj_chk_00102:
3602  107B  3A 00 00    	ld	a,(_scr_curr)
3603  107E  C6 F8       	add	a,0xf8
3604  1080  47          	ld	b, a
3605  1081  21 00 00    	ld	hl,_scr_obj1
3606  1084  19          	add	hl, de
3607  1085  4E          	ld	c, (hl)
3608  1086  1E 01       	ld	e,0x01
3609  1088  04          	inc	b
3610  1089  18 02       	jr	l_game_obj_chk_00113
3611  108B              l_game_obj_chk_00112:
3612  108B  CB 23       	sla	e
3613  108D              l_game_obj_chk_00113:
3614  108D  10 FC       	djnz	l_game_obj_chk_00112
3615  108F  79          	ld	a, c
3616  1090  A3          	and	a, e
3617  1091  6F          	ld	l, a
3618  1092              l_game_obj_chk_00104:
3619  1092  C9          	ret
3620  1093              	SECTION code_compiler
3621  1093              ;	---------------------------------
3622  1093              ; Function game_obj_clear
3623  1093              ; ---------------------------------
3624  1093              _game_obj_clear:
3625  1093  21 00 00    	ld	hl,_tmp
3626  1096  36 00       	ld	(hl),0x00
3627  1098              l_game_obj_clear_00105:
3628  1098  2A 00 00    	ld	hl,(_tmp)
3629  109B  26 00       	ld	h,0x00
3630  109D  01 00 00    	ld	bc,_scr_obj0
3631  10A0  09          	add	hl,bc
3632  10A1  AF          	xor	a,a
3633  10A2  77          	ld	(hl),a
3634  10A3  2A 00 00    	ld	hl,(_tmp)
3635  10A6  26 00       	ld	h,0x00
3636  10A8  01 00 00    	ld	bc,_scr_obj1
3637  10AB  09          	add	hl,bc
3638  10AC  AF          	xor	a,a
3639  10AD  77          	ld	(hl),a
3640  10AE  21 00 00    	ld	hl,_tmp
3641  10B1  7E          	ld	a,(hl)
3642  10B2  3C          	inc	a
3643  10B3  77          	ld	(hl),a
3644  10B4  D6 A0       	sub	a,0xa0
3645  10B6  38 E0       	jr	C,l_game_obj_clear_00105
3646  10B8  3A 00 00    	ld	a,(_game_inmune)
3647  10BB  B7          	or	a, a
3648  10BC  28 07       	jr	Z,l_game_obj_clear_00103
3649  10BE  21 00 00    	ld	hl,_tmp
3650  10C1  36 01       	ld	(hl),0x01
3651  10C3  18 05       	jr	l_game_obj_clear_00104
3652  10C5              l_game_obj_clear_00103:
3653  10C5  21 00 00    	ld	hl,_tmp
3654  10C8  36 00       	ld	(hl),0x00
3655  10CA              l_game_obj_clear_00104:
3656  10CA  3A 00 00    	ld	a,(_tmp)
3657  10CD  32 00 00    	ld	(_player_keys),a
3658  10D0  32 01 00    	ld	((_player_keys + 0x0001)),a
3659  10D3  3A 00 00    	ld	a,(_tmp)
3660  10D6  32 02 00    	ld	((_player_keys + 0x0002)),a
3661  10D9  32 03 00    	ld	((_player_keys + 0x0003)),a
3662  10DC  C9          	ret
3663  10DD              	SECTION code_compiler
3664  10DD              ;	---------------------------------
3665  10DD              ; Function game_boss_clear
3666  10DD              ; ---------------------------------
3667  10DD              _game_boss_clear:
3668  10DD  CD 00 00    	call	___sdcc_enter_ix
3669  10E0  21 00 00    	ld	hl,0x0000
3670  10E3  E5          	push	hl
3671  10E4              l_game_boss_clear_00104:
3672  10E4  3E 00       	ld	a, +((_scr_map) & 0xFF)
3673  10E6  DD 86 FE    	add	a,(ix-2)
3674  10E9  4F          	ld	c, a
3675  10EA  3E 00       	ld	a, +((_scr_map) / 256)
3676  10EC  DD 8E FF    	adc	a,(ix-1)
3677  10EF  47          	ld	b, a
3678  10F0  0A          	ld	a, (bc)
3679  10F1  D6 37       	sub	a,0x37
3680  10F3  20 09       	jr	NZ,l_game_boss_clear_00105
3681  10F5  AF          	xor	a, a
3682  10F6  02          	ld	(bc), a
3683  10F7  21 00 00    	ld	hl,0x0000
3684  10FA  39          	add	hl, sp
3685  10FB  CD 00 00    	call	_spr_draw_index
3686  10FE              l_game_boss_clear_00105:
3687  10FE  DD 34 FE    	inc	(ix-2)
3688  1101  20 03       	jr	NZ,l_game_boss_clear_00118
3689  1103  DD 34 FF    	inc	(ix-1)
3690  1106              l_game_boss_clear_00118:
3691  1106  DD 7E FE    	ld	a,(ix-2)
3692  1109  D6 A0       	sub	a,0xa0
3693  110B  DD 7E FF    	ld	a,(ix-1)
3694  110E  DE 00       	sbc	a,0x00
3695  1110  38 D2       	jr	C,l_game_boss_clear_00104
3696  1112  F1          	pop	af
3697  1113  DD E1       	pop	ix
3698  1115  C9          	ret
3699  1116              	SECTION code_compiler
3700  1116              ;	---------------------------------
3701  1116              ; Function game_rotate_attrib
3702  1116              ; ---------------------------------
3703  1116              _game_rotate_attrib:
3704  1116  01 03 00    	ld	bc,_attrib_hl + 3
3705  1119  0A          	ld	a, (bc)
3706  111A  32 00 00    	ld	(_tmp_uc),a
3707  111D  11 02 00    	ld	de,_attrib_hl + 2
3708  1120  1A          	ld	a, (de)
3709  1121  02          	ld	(bc), a
3710  1122  01 01 00    	ld	bc,_attrib_hl + 1
3711  1125  0A          	ld	a, (bc)
3712  1126  12          	ld	(de), a
3713  1127  3A 00 00    	ld	a,(_attrib_hl)
3714  112A  02          	ld	(bc), a
3715  112B  3A 00 00    	ld	a,(_tmp_uc)
3716  112E  32 00 00    	ld	(_attrib_hl),a
3717  1131  C9          	ret
3718  1132              	SECTION code_compiler
3719  1132              ;	---------------------------------
3720  1132              ; Function game_rotate_attrib_osd
3721  1132              ; ---------------------------------
3722  1132              _game_rotate_attrib_osd:
3723  1132  01 03 00    	ld	bc,_attrib_osd + 3
3724  1135  0A          	ld	a, (bc)
3725  1136  32 00 00    	ld	(_tmp_uc),a
3726  1139  11 02 00    	ld	de,_attrib_osd + 2
3727  113C  1A          	ld	a, (de)
3728  113D  02          	ld	(bc), a
3729  113E  01 01 00    	ld	bc,_attrib_osd + 1
3730  1141  0A          	ld	a, (bc)
3731  1142  12          	ld	(de), a
3732  1143  3A 00 00    	ld	a,(_attrib_osd)
3733  1146  02          	ld	(bc), a
3734  1147  3A 00 00    	ld	a,(_tmp_uc)
3735  114A  32 00 00    	ld	(_attrib_osd),a
3736  114D  C9          	ret
3737  114E              	SECTION code_compiler
3738  114E              ;	---------------------------------
3739  114E              ; Function game_attribs
3740  114E              ; ---------------------------------
3741  114E              _game_attribs:
3742  114E  01 00 00    	ld	bc,_attrib+0
3743  1151  21 00 00    	ld	hl,_map_paper
3744  1154  7E          	ld	a, (hl)
3745  1155  F6 47       	or	a,0x47
3746  1157  02          	ld	(bc), a
3747  1158  59          	ld	e, c
3748  1159  50          	ld	d, b
3749  115A  13          	inc	de
3750  115B  7E          	ld	a, (hl)
3751  115C  F6 45       	or	a,0x45
3752  115E  12          	ld	(de), a
3753  115F  7E          	ld	a, (hl)
3754  1160  F6 05       	or	a,0x05
3755  1162  32 02 00    	ld	((_attrib + 0x0002)),a
3756  1165  03          	inc	bc
3757  1166  03          	inc	bc
3758  1167  03          	inc	bc
3759  1168  21 00 00    	ld	hl,_map_paper
3760  116B  7E          	ld	a, (hl)
3761  116C  F6 41       	or	a,0x41
3762  116E  02          	ld	(bc), a
3763  116F  01 00 00    	ld	bc,_attrib_hl+0
3764  1172  7E          	ld	a, (hl)
3765  1173  F6 41       	or	a,0x41
3766  1175  02          	ld	(bc), a
3767  1176  59          	ld	e, c
3768  1177  50          	ld	d, b
3769  1178  13          	inc	de
3770  1179  7E          	ld	a, (hl)
3771  117A  F6 41       	or	a,0x41
3772  117C  12          	ld	(de), a
3773  117D  7E          	ld	a, (hl)
3774  117E  F6 43       	or	a,0x43
3775  1180  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3776  1183  03          	inc	bc
3777  1184  03          	inc	bc
3778  1185  03          	inc	bc
3779  1186  21 00 00    	ld	hl,_map_paper
3780  1189  7E          	ld	a, (hl)
3781  118A  F6 45       	or	a,0x45
3782  118C  02          	ld	(bc), a
3783  118D  01 00 00    	ld	bc,_attrib_osd+0
3784  1190  7E          	ld	a, (hl)
3785  1191  F6 46       	or	a,0x46
3786  1193  02          	ld	(bc), a
3787  1194  59          	ld	e, c
3788  1195  50          	ld	d, b
3789  1196  13          	inc	de
3790  1197  7E          	ld	a, (hl)
3791  1198  F6 47       	or	a,0x47
3792  119A  12          	ld	(de), a
3793  119B  7E          	ld	a, (hl)
3794  119C  F6 47       	or	a,0x47
3795  119E  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3796  11A1  03          	inc	bc
3797  11A2  03          	inc	bc
3798  11A3  03          	inc	bc
3799  11A4  3A 00 00    	ld	a,(_map_paper)
3800  11A7  F6 46       	or	a,0x46
3801  11A9  02          	ld	(bc), a
3802  11AA  C9          	ret
3803  11AB              	SECTION code_compiler
3804  11AB              ;	---------------------------------
3805  11AB              ; Function game_match_back_strict
3806  11AB              ; ---------------------------------
3807  11AB              _game_match_back_strict:
3808  11AB  3E 01       	ld	a,0x01
3809  11AD  BD          	cp	a,l
3810  11AE  3E 00       	ld	a,0x00
3811  11B0  9C          	sbc	a,h
3812  11B1  30 3F       	jr	NC,l_game_match_back_strict_00111
3813  11B3  7D          	ld	a,l
3814  11B4  E6 0F       	and	a,0x0f
3815  11B6  28 3A       	jr	Z,l_game_match_back_strict_00111
3816  11B8  5D          	ld	e,l
3817  11B9  54          	ld	d,h
3818  11BA  4D          	ld	c,l
3819  11BB  44          	ld	b,h
3820  11BC  1B          	dec	de
3821  11BD  21 00 00    	ld	hl,_scr_map
3822  11C0  19          	add	hl, de
3823  11C1  5E          	ld	e, (hl)
3824  11C2  03          	inc	bc
3825  11C3  21 00 00    	ld	hl,_scr_map
3826  11C6  09          	add	hl, bc
3827  11C7  4E          	ld	c, (hl)
3828  11C8  7B          	ld	a, e
3829  11C9  D6 1D       	sub	a,0x1d
3830  11CB  20 09       	jr	NZ,l_game_match_back_strict_00102
3831  11CD  79          	ld	a, c
3832  11CE  D6 1D       	sub	a,0x1d
3833  11D0  20 04       	jr	NZ,l_game_match_back_strict_00102
3834  11D2  2E 1D       	ld	l,0x1d
3835  11D4  18 1E       	jr	l_game_match_back_strict_00113
3836  11D6              l_game_match_back_strict_00102:
3837  11D6  7B          	ld	a, e
3838  11D7  D6 18       	sub	a,0x18
3839  11D9  20 09       	jr	NZ,l_game_match_back_strict_00105
3840  11DB  79          	ld	a, c
3841  11DC  D6 18       	sub	a,0x18
3842  11DE  20 04       	jr	NZ,l_game_match_back_strict_00105
3843  11E0  2E 18       	ld	l,0x18
3844  11E2  18 10       	jr	l_game_match_back_strict_00113
3845  11E4              l_game_match_back_strict_00105:
3846  11E4  7B          	ld	a, e
3847  11E5  D6 0D       	sub	a,0x0d
3848  11E7  20 09       	jr	NZ,l_game_match_back_strict_00111
3849  11E9  79          	ld	a, c
3850  11EA  D6 0D       	sub	a,0x0d
3851  11EC  20 04       	jr	NZ,l_game_match_back_strict_00111
3852  11EE  2E 0D       	ld	l,0x0d
3853  11F0  18 02       	jr	l_game_match_back_strict_00113
3854  11F2              l_game_match_back_strict_00111:
3855  11F2  2E 00       	ld	l,0x00
3856  11F4              l_game_match_back_strict_00113:
3857  11F4  C9          	ret
3858  11F5              	SECTION code_compiler
3859  11F5              ;	---------------------------------
3860  11F5              ; Function game_match_back
3861  11F5              ; ---------------------------------
3862  11F5              _game_match_back:
3863  11F5  3E 01       	ld	a,0x01
3864  11F7  BD          	cp	a,l
3865  11F8  3E 00       	ld	a,0x00
3866  11FA  9C          	sbc	a,h
3867  11FB  30 3F       	jr	NC,l_game_match_back_00111
3868  11FD  7D          	ld	a,l
3869  11FE  E6 0F       	and	a,0x0f
3870  1200  28 3A       	jr	Z,l_game_match_back_00111
3871  1202  5D          	ld	e,l
3872  1203  54          	ld	d,h
3873  1204  4D          	ld	c,l
3874  1205  44          	ld	b,h
3875  1206  1B          	dec	de
3876  1207  21 00 00    	ld	hl,_scr_map
3877  120A  19          	add	hl, de
3878  120B  5E          	ld	e, (hl)
3879  120C  03          	inc	bc
3880  120D  21 00 00    	ld	hl,_scr_map
3881  1210  09          	add	hl, bc
3882  1211  4E          	ld	c, (hl)
3883  1212  7B          	ld	a, e
3884  1213  D6 1D       	sub	a,0x1d
3885  1215  28 05       	jr	Z,l_game_match_back_00101
3886  1217  79          	ld	a, c
3887  1218  D6 1D       	sub	a,0x1d
3888  121A  20 04       	jr	NZ,l_game_match_back_00102
3889  121C              l_game_match_back_00101:
3890  121C  2E 1D       	ld	l,0x1d
3891  121E  18 1E       	jr	l_game_match_back_00113
3892  1220              l_game_match_back_00102:
3893  1220  7B          	ld	a, e
3894  1221  D6 18       	sub	a,0x18
3895  1223  28 05       	jr	Z,l_game_match_back_00104
3896  1225  79          	ld	a, c
3897  1226  D6 18       	sub	a,0x18
3898  1228  20 04       	jr	NZ,l_game_match_back_00105
3899  122A              l_game_match_back_00104:
3900  122A  2E 18       	ld	l,0x18
3901  122C  18 10       	jr	l_game_match_back_00113
3902  122E              l_game_match_back_00105:
3903  122E  7B          	ld	a, e
3904  122F  D6 0D       	sub	a,0x0d
3905  1231  28 05       	jr	Z,l_game_match_back_00107
3906  1233  79          	ld	a, c
3907  1234  D6 0D       	sub	a,0x0d
3908  1236  20 04       	jr	NZ,l_game_match_back_00111
3909  1238              l_game_match_back_00107:
3910  1238  2E 0D       	ld	l,0x0d
3911  123A  18 02       	jr	l_game_match_back_00113
3912  123C              l_game_match_back_00111:
3913  123C  2E 00       	ld	l,0x00
3914  123E              l_game_match_back_00113:
3915  123E  C9          	ret
3916  123F              	SECTION IGNORE
3917  0000              
