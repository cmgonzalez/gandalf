1     0000              MODULE game_engine_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_loop
190   0000              	GLOBAL _game_fps
191   0000              	GLOBAL _game_respawn
192   0000              	GLOBAL _game_draw_screen
193   0000              	GLOBAL _game_boss_kill
194   0000              	GLOBAL _game_add_enemy
195   0000              	GLOBAL _game_print_footer
196   0000              	GLOBAL _game_print_score
197   0000              	GLOBAL _game_update_stats
198   0000              	GLOBAL _game_start_timer
199   0000              	GLOBAL _game_round_init
200   0000              	GLOBAL _game_print_header
201   0000              	GLOBAL _game_check_map
202   0000              	GLOBAL _game_check_cell
203   0000              	GLOBAL _game_paint_attrib_lin
204   0000              	GLOBAL _game_paint_attrib_lin_h
205   0000              	GLOBAL _game_paint_attrib_lin_osd
206   0000              	GLOBAL _game_colour_message
207   0000              	GLOBAL _game_check_time
208   0000              	GLOBAL _game_shoot_fire
209   0000              	GLOBAL _game_shoot_fire_boss
210   0000              	GLOBAL _game_obj_set
211   0000              	GLOBAL _game_obj_chk
212   0000              	GLOBAL _game_obj_clear
213   0000              	GLOBAL _game_boss_clear
214   0000              	GLOBAL _game_rotate_attrib
215   0000              	GLOBAL _game_rotate_attrib_osd
216   0000              	GLOBAL _game_attribs
217   0000              	GLOBAL _game_match_back
218   0000              	GLOBAL _menu_main
219   0000              	GLOBAL _menu_main_print
220   0000              	GLOBAL _menu_redefine
221   0000              	GLOBAL _menu_define_key
222   0000              ;--------------------------------------------------------
223   0000              ; Externals used
224   0000              ;--------------------------------------------------------
225   0000              	GLOBAL _ffsll_callee
226   0000              	GLOBAL _ffsll
227   0000              	GLOBAL _strxfrm_callee
228   0000              	GLOBAL _strxfrm
229   0000              	GLOBAL _strupr_fastcall
230   0000              	GLOBAL _strupr
231   0000              	GLOBAL _strtok_r_callee
232   0000              	GLOBAL _strtok_r
233   0000              	GLOBAL _strtok_callee
234   0000              	GLOBAL _strtok
235   0000              	GLOBAL _strstrip_fastcall
236   0000              	GLOBAL _strstrip
237   0000              	GLOBAL _strstr_callee
238   0000              	GLOBAL _strstr
239   0000              	GLOBAL _strspn_callee
240   0000              	GLOBAL _strspn
241   0000              	GLOBAL _strsep_callee
242   0000              	GLOBAL _strsep
243   0000              	GLOBAL _strrstrip_fastcall
244   0000              	GLOBAL _strrstrip
245   0000              	GLOBAL _strrspn_callee
246   0000              	GLOBAL _strrspn
247   0000              	GLOBAL _strrev_fastcall
248   0000              	GLOBAL _strrev
249   0000              	GLOBAL _strrcspn_callee
250   0000              	GLOBAL _strrcspn
251   0000              	GLOBAL _strrchr_callee
252   0000              	GLOBAL _strrchr
253   0000              	GLOBAL _strpbrk_callee
254   0000              	GLOBAL _strpbrk
255   0000              	GLOBAL _strnlen_callee
256   0000              	GLOBAL _strnlen
257   0000              	GLOBAL _strnicmp_callee
258   0000              	GLOBAL _strnicmp
259   0000              	GLOBAL _strndup_callee
260   0000              	GLOBAL _strndup
261   0000              	GLOBAL _strncpy_callee
262   0000              	GLOBAL _strncpy
263   0000              	GLOBAL _strncmp_callee
264   0000              	GLOBAL _strncmp
265   0000              	GLOBAL _strnchr_callee
266   0000              	GLOBAL _strnchr
267   0000              	GLOBAL _strncat_callee
268   0000              	GLOBAL _strncat
269   0000              	GLOBAL _strncasecmp_callee
270   0000              	GLOBAL _strncasecmp
271   0000              	GLOBAL _strlwr_fastcall
272   0000              	GLOBAL _strlwr
273   0000              	GLOBAL _strlen_fastcall
274   0000              	GLOBAL _strlen
275   0000              	GLOBAL _strlcpy_callee
276   0000              	GLOBAL _strlcpy
277   0000              	GLOBAL _strlcat_callee
278   0000              	GLOBAL _strlcat
279   0000              	GLOBAL _stricmp_callee
280   0000              	GLOBAL _stricmp
281   0000              	GLOBAL _strerror_fastcall
282   0000              	GLOBAL _strerror
283   0000              	GLOBAL _strdup_fastcall
284   0000              	GLOBAL _strdup
285   0000              	GLOBAL _strcspn_callee
286   0000              	GLOBAL _strcspn
287   0000              	GLOBAL _strcpy_callee
288   0000              	GLOBAL _strcpy
289   0000              	GLOBAL _strcoll_callee
290   0000              	GLOBAL _strcoll
291   0000              	GLOBAL _strcmp_callee
292   0000              	GLOBAL _strcmp
293   0000              	GLOBAL _strchrnul_callee
294   0000              	GLOBAL _strchrnul
295   0000              	GLOBAL _strchr_callee
296   0000              	GLOBAL _strchr
297   0000              	GLOBAL _strcat_callee
298   0000              	GLOBAL _strcat
299   0000              	GLOBAL _strcasecmp_callee
300   0000              	GLOBAL _strcasecmp
301   0000              	GLOBAL _stpncpy_callee
302   0000              	GLOBAL _stpncpy
303   0000              	GLOBAL _stpcpy_callee
304   0000              	GLOBAL _stpcpy
305   0000              	GLOBAL _memswap_callee
306   0000              	GLOBAL _memswap
307   0000              	GLOBAL _memset_callee
308   0000              	GLOBAL _memset
309   0000              	GLOBAL _memrchr_callee
310   0000              	GLOBAL _memrchr
311   0000              	GLOBAL _memmove_callee
312   0000              	GLOBAL _memmove
313   0000              	GLOBAL _memmem_callee
314   0000              	GLOBAL _memmem
315   0000              	GLOBAL _memcpy_callee
316   0000              	GLOBAL _memcpy
317   0000              	GLOBAL _memcmp_callee
318   0000              	GLOBAL _memcmp
319   0000              	GLOBAL _memchr_callee
320   0000              	GLOBAL _memchr
321   0000              	GLOBAL _memccpy_callee
322   0000              	GLOBAL _memccpy
323   0000              	GLOBAL _ffsl_fastcall
324   0000              	GLOBAL _ffsl
325   0000              	GLOBAL _ffs_fastcall
326   0000              	GLOBAL _ffs
327   0000              	GLOBAL __strrstrip__fastcall
328   0000              	GLOBAL __strrstrip_
329   0000              	GLOBAL __memupr__callee
330   0000              	GLOBAL __memupr_
331   0000              	GLOBAL __memstrcpy__callee
332   0000              	GLOBAL __memstrcpy_
333   0000              	GLOBAL __memlwr__callee
334   0000              	GLOBAL __memlwr_
335   0000              	GLOBAL _rawmemchr_callee
336   0000              	GLOBAL _rawmemchr
337   0000              	GLOBAL _strnset_callee
338   0000              	GLOBAL _strnset
339   0000              	GLOBAL _strset_callee
340   0000              	GLOBAL _strset
341   0000              	GLOBAL _rindex_callee
342   0000              	GLOBAL _rindex
343   0000              	GLOBAL _index_callee
344   0000              	GLOBAL _index
345   0000              	GLOBAL _bzero_callee
346   0000              	GLOBAL _bzero
347   0000              	GLOBAL _bcopy_callee
348   0000              	GLOBAL _bcopy
349   0000              	GLOBAL _bcmp_callee
350   0000              	GLOBAL _bcmp
351   0000              	GLOBAL _ulltoa_callee
352   0000              	GLOBAL _ulltoa
353   0000              	GLOBAL _strtoull_callee
354   0000              	GLOBAL _strtoull
355   0000              	GLOBAL _strtoll_callee
356   0000              	GLOBAL _strtoll
357   0000              	GLOBAL _lltoa_callee
358   0000              	GLOBAL _lltoa
359   0000              	GLOBAL _llabs_callee
360   0000              	GLOBAL _llabs
361   0000              	GLOBAL __lldivu__callee
362   0000              	GLOBAL __lldivu_
363   0000              	GLOBAL __lldiv__callee
364   0000              	GLOBAL __lldiv_
365   0000              	GLOBAL _atoll_callee
366   0000              	GLOBAL _atoll
367   0000              	GLOBAL _realloc_unlocked_callee
368   0000              	GLOBAL _realloc_unlocked
369   0000              	GLOBAL _malloc_unlocked_fastcall
370   0000              	GLOBAL _malloc_unlocked
371   0000              	GLOBAL _free_unlocked_fastcall
372   0000              	GLOBAL _free_unlocked
373   0000              	GLOBAL _calloc_unlocked_callee
374   0000              	GLOBAL _calloc_unlocked
375   0000              	GLOBAL _aligned_alloc_unlocked_callee
376   0000              	GLOBAL _aligned_alloc_unlocked
377   0000              	GLOBAL _realloc_callee
378   0000              	GLOBAL _realloc
379   0000              	GLOBAL _malloc_fastcall
380   0000              	GLOBAL _malloc
381   0000              	GLOBAL _free_fastcall
382   0000              	GLOBAL _free
383   0000              	GLOBAL _calloc_callee
384   0000              	GLOBAL _calloc
385   0000              	GLOBAL _aligned_alloc_callee
386   0000              	GLOBAL _aligned_alloc
387   0000              	GLOBAL _utoa_callee
388   0000              	GLOBAL _utoa
389   0000              	GLOBAL _ultoa_callee
390   0000              	GLOBAL _ultoa
391   0000              	GLOBAL _system_fastcall
392   0000              	GLOBAL _system
393   0000              	GLOBAL _strtoul_callee
394   0000              	GLOBAL _strtoul
395   0000              	GLOBAL _strtol_callee
396   0000              	GLOBAL _strtol
397   0000              	GLOBAL _strtof_callee
398   0000              	GLOBAL _strtof
399   0000              	GLOBAL _strtod_callee
400   0000              	GLOBAL _strtod
401   0000              	GLOBAL _srand_fastcall
402   0000              	GLOBAL _srand
403   0000              	GLOBAL _rand
404   0000              	GLOBAL _quick_exit_fastcall
405   0000              	GLOBAL _quick_exit
406   0000              	GLOBAL _qsort_callee
407   0000              	GLOBAL _qsort
408   0000              	GLOBAL _ltoa_callee
409   0000              	GLOBAL _ltoa
410   0000              	GLOBAL _labs_fastcall
411   0000              	GLOBAL _labs
412   0000              	GLOBAL _itoa_callee
413   0000              	GLOBAL _itoa
414   0000              	GLOBAL _ftoh_callee
415   0000              	GLOBAL _ftoh
416   0000              	GLOBAL _ftog_callee
417   0000              	GLOBAL _ftog
418   0000              	GLOBAL _ftoe_callee
419   0000              	GLOBAL _ftoe
420   0000              	GLOBAL _ftoa_callee
421   0000              	GLOBAL _ftoa
422   0000              	GLOBAL _exit_fastcall
423   0000              	GLOBAL _exit
424   0000              	GLOBAL _dtoh_callee
425   0000              	GLOBAL _dtoh
426   0000              	GLOBAL _dtog_callee
427   0000              	GLOBAL _dtog
428   0000              	GLOBAL _dtoe_callee
429   0000              	GLOBAL _dtoe
430   0000              	GLOBAL _dtoa_callee
431   0000              	GLOBAL _dtoa
432   0000              	GLOBAL _bsearch_callee
433   0000              	GLOBAL _bsearch
434   0000              	GLOBAL _atol_fastcall
435   0000              	GLOBAL _atol
436   0000              	GLOBAL _atoi_fastcall
437   0000              	GLOBAL _atoi
438   0000              	GLOBAL _atof_fastcall
439   0000              	GLOBAL _atof
440   0000              	GLOBAL _atexit_fastcall
441   0000              	GLOBAL _atexit
442   0000              	GLOBAL _at_quick_exit_fastcall
443   0000              	GLOBAL _at_quick_exit
444   0000              	GLOBAL _abs_fastcall
445   0000              	GLOBAL _abs
446   0000              	GLOBAL _abort
447   0000              	GLOBAL __strtou__callee
448   0000              	GLOBAL __strtou_
449   0000              	GLOBAL __strtoi__callee
450   0000              	GLOBAL __strtoi_
451   0000              	GLOBAL __random_uniform_xor_8__fastcall
452   0000              	GLOBAL __random_uniform_xor_8_
453   0000              	GLOBAL __random_uniform_xor_32__fastcall
454   0000              	GLOBAL __random_uniform_xor_32_
455   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
456   0000              	GLOBAL __random_uniform_cmwc_8_
457   0000              	GLOBAL __shellsort__callee
458   0000              	GLOBAL __shellsort_
459   0000              	GLOBAL __quicksort__callee
460   0000              	GLOBAL __quicksort_
461   0000              	GLOBAL __insertion_sort__callee
462   0000              	GLOBAL __insertion_sort_
463   0000              	GLOBAL __ldivu__callee
464   0000              	GLOBAL __ldivu_
465   0000              	GLOBAL __ldiv__callee
466   0000              	GLOBAL __ldiv_
467   0000              	GLOBAL __divu__callee
468   0000              	GLOBAL __divu_
469   0000              	GLOBAL __div__callee
470   0000              	GLOBAL __div_
471   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
472   0000              	GLOBAL _NIRVANAP_drawTW_raw
473   0000              	GLOBAL _NIRVANAP_drawTW_callee
474   0000              	GLOBAL _NIRVANAP_drawTW
475   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
476   0000              	GLOBAL _NIRVANAP_drawW_raw
477   0000              	GLOBAL _NIRVANAP_drawW_callee
478   0000              	GLOBAL _NIRVANAP_drawW
479   0000              	GLOBAL _NIRVANAP_spriteT_callee
480   0000              	GLOBAL _NIRVANAP_spriteT
481   0000              	GLOBAL _NIRVANAP_fillC_callee
482   0000              	GLOBAL _NIRVANAP_fillC
483   0000              	GLOBAL _NIRVANAP_readC_callee
484   0000              	GLOBAL _NIRVANAP_readC
485   0000              	GLOBAL _NIRVANAP_paintC_callee
486   0000              	GLOBAL _NIRVANAP_paintC
487   0000              	GLOBAL _NIRVANAP_printC_callee
488   0000              	GLOBAL _NIRVANAP_printC
489   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
490   0000              	GLOBAL _NIRVANAP_fillT_raw
491   0000              	GLOBAL _NIRVANAP_fillT_callee
492   0000              	GLOBAL _NIRVANAP_fillT
493   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
494   0000              	GLOBAL _NIRVANAP_drawT_raw
495   0000              	GLOBAL _NIRVANAP_drawT_callee
496   0000              	GLOBAL _NIRVANAP_drawT
497   0000              	GLOBAL _NIRVANAP_stop
498   0000              	GLOBAL _NIRVANAP_start
499   0000              	GLOBAL _debug3
500   0000              	GLOBAL _debug2
501   0000              	GLOBAL _debug
502   0000              	GLOBAL _zx_print_str
503   0000              	GLOBAL _zx_print_int
504   0000              	GLOBAL _zx_print_chr
505   0000              	GLOBAL _zx_print_bonus_time
506   0000              	GLOBAL _zx_isr
507   0000              	GLOBAL _z80_otdr_callee
508   0000              	GLOBAL _z80_otdr
509   0000              	GLOBAL _z80_otir_callee
510   0000              	GLOBAL _z80_otir
511   0000              	GLOBAL _z80_outp_callee
512   0000              	GLOBAL _z80_outp
513   0000              	GLOBAL _z80_indr_callee
514   0000              	GLOBAL _z80_indr
515   0000              	GLOBAL _z80_inir_callee
516   0000              	GLOBAL _z80_inir
517   0000              	GLOBAL _z80_inp_fastcall
518   0000              	GLOBAL _z80_inp
519   0000              	GLOBAL _z80_set_int_state_fastcall
520   0000              	GLOBAL _z80_set_int_state
521   0000              	GLOBAL _z80_get_int_state
522   0000              	GLOBAL _z80_delay_tstate_fastcall
523   0000              	GLOBAL _z80_delay_tstate
524   0000              	GLOBAL _z80_delay_ms_fastcall
525   0000              	GLOBAL _z80_delay_ms
526   0000              	GLOBAL _im2_remove_generic_callback_callee
527   0000              	GLOBAL _im2_remove_generic_callback
528   0000              	GLOBAL _im2_prepend_generic_callback_callee
529   0000              	GLOBAL _im2_prepend_generic_callback
530   0000              	GLOBAL _im2_append_generic_callback_callee
531   0000              	GLOBAL _im2_append_generic_callback
532   0000              	GLOBAL _im2_create_generic_isr_8080_callee
533   0000              	GLOBAL _im2_create_generic_isr_8080
534   0000              	GLOBAL _im2_create_generic_isr_callee
535   0000              	GLOBAL _im2_create_generic_isr
536   0000              	GLOBAL _im2_install_isr_callee
537   0000              	GLOBAL _im2_install_isr
538   0000              	GLOBAL _im2_init_fastcall
539   0000              	GLOBAL _im2_init
540   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
541   0000              	GLOBAL _intrinsic_swap_word_32
542   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
543   0000              	GLOBAL _intrinsic_swap_endian_32
544   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
545   0000              	GLOBAL _intrinsic_swap_endian_16
546   0000              	GLOBAL _intrinsic_return_de
547   0000              	GLOBAL _intrinsic_return_bc
548   0000              	GLOBAL _intrinsic_exx
549   0000              	GLOBAL _intrinsic_ex_de_hl
550   0000              	GLOBAL _intrinsic_nop
551   0000              	GLOBAL _intrinsic_im_2
552   0000              	GLOBAL _intrinsic_im_1
553   0000              	GLOBAL _intrinsic_im_0
554   0000              	GLOBAL _intrinsic_retn
555   0000              	GLOBAL _intrinsic_reti
556   0000              	GLOBAL _intrinsic_halt
557   0000              	GLOBAL _intrinsic_ei
558   0000              	GLOBAL _intrinsic_di
559   0000              	GLOBAL _intrinsic_stub
560   0000              	GLOBAL _intrinsic_outi
561   0000              	GLOBAL _intrinsic_ldi
562   0000              	GLOBAL _zx_pattern_fill_callee
563   0000              	GLOBAL _zx_pattern_fill
564   0000              	GLOBAL _zx_saddrpup_fastcall
565   0000              	GLOBAL _zx_saddrpup
566   0000              	GLOBAL _zx_saddrpright_callee
567   0000              	GLOBAL _zx_saddrpright
568   0000              	GLOBAL _zx_saddrpleft_callee
569   0000              	GLOBAL _zx_saddrpleft
570   0000              	GLOBAL _zx_saddrpdown_fastcall
571   0000              	GLOBAL _zx_saddrpdown
572   0000              	GLOBAL _zx_saddrcup_fastcall
573   0000              	GLOBAL _zx_saddrcup
574   0000              	GLOBAL _zx_saddrcright_fastcall
575   0000              	GLOBAL _zx_saddrcright
576   0000              	GLOBAL _zx_saddrcleft_fastcall
577   0000              	GLOBAL _zx_saddrcleft
578   0000              	GLOBAL _zx_saddrcdown_fastcall
579   0000              	GLOBAL _zx_saddrcdown
580   0000              	GLOBAL _zx_saddr2py_fastcall
581   0000              	GLOBAL _zx_saddr2py
582   0000              	GLOBAL _zx_saddr2px_fastcall
583   0000              	GLOBAL _zx_saddr2px
584   0000              	GLOBAL _zx_saddr2cy_fastcall
585   0000              	GLOBAL _zx_saddr2cy
586   0000              	GLOBAL _zx_saddr2cx_fastcall
587   0000              	GLOBAL _zx_saddr2cx
588   0000              	GLOBAL _zx_saddr2aaddr_fastcall
589   0000              	GLOBAL _zx_saddr2aaddr
590   0000              	GLOBAL _zx_py2saddr_fastcall
591   0000              	GLOBAL _zx_py2saddr
592   0000              	GLOBAL _zx_py2aaddr_fastcall
593   0000              	GLOBAL _zx_py2aaddr
594   0000              	GLOBAL _zx_pxy2saddr_callee
595   0000              	GLOBAL _zx_pxy2saddr
596   0000              	GLOBAL _zx_pxy2aaddr_callee
597   0000              	GLOBAL _zx_pxy2aaddr
598   0000              	GLOBAL _zx_px2bitmask_fastcall
599   0000              	GLOBAL _zx_px2bitmask
600   0000              	GLOBAL _zx_cy2saddr_fastcall
601   0000              	GLOBAL _zx_cy2saddr
602   0000              	GLOBAL _zx_cy2aaddr_fastcall
603   0000              	GLOBAL _zx_cy2aaddr
604   0000              	GLOBAL _zx_cxy2saddr_callee
605   0000              	GLOBAL _zx_cxy2saddr
606   0000              	GLOBAL _zx_cxy2aaddr_callee
607   0000              	GLOBAL _zx_cxy2aaddr
608   0000              	GLOBAL _zx_bitmask2px_fastcall
609   0000              	GLOBAL _zx_bitmask2px
610   0000              	GLOBAL _zx_aaddrcup_fastcall
611   0000              	GLOBAL _zx_aaddrcup
612   0000              	GLOBAL _zx_aaddrcright_fastcall
613   0000              	GLOBAL _zx_aaddrcright
614   0000              	GLOBAL _zx_aaddrcleft_fastcall
615   0000              	GLOBAL _zx_aaddrcleft
616   0000              	GLOBAL _zx_aaddrcdown_fastcall
617   0000              	GLOBAL _zx_aaddrcdown
618   0000              	GLOBAL _zx_aaddr2saddr_fastcall
619   0000              	GLOBAL _zx_aaddr2saddr
620   0000              	GLOBAL _zx_aaddr2py_fastcall
621   0000              	GLOBAL _zx_aaddr2py
622   0000              	GLOBAL _zx_aaddr2px_fastcall
623   0000              	GLOBAL _zx_aaddr2px
624   0000              	GLOBAL _zx_aaddr2cy_fastcall
625   0000              	GLOBAL _zx_aaddr2cy
626   0000              	GLOBAL _zx_aaddr2cx_fastcall
627   0000              	GLOBAL _zx_aaddr2cx
628   0000              	GLOBAL _zx_visit_wc_pix_callee
629   0000              	GLOBAL _zx_visit_wc_pix
630   0000              	GLOBAL _zx_visit_wc_attr_callee
631   0000              	GLOBAL _zx_visit_wc_attr
632   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
633   0000              	GLOBAL _zx_scroll_wc_up_pix
634   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
635   0000              	GLOBAL _zx_scroll_wc_up_attr
636   0000              	GLOBAL _zx_scroll_wc_up_callee
637   0000              	GLOBAL _zx_scroll_wc_up
638   0000              	GLOBAL _zx_scroll_up_pix_callee
639   0000              	GLOBAL _zx_scroll_up_pix
640   0000              	GLOBAL _zx_scroll_up_attr_callee
641   0000              	GLOBAL _zx_scroll_up_attr
642   0000              	GLOBAL _zx_scroll_up_callee
643   0000              	GLOBAL _zx_scroll_up
644   0000              	GLOBAL _zx_cls_wc_pix_callee
645   0000              	GLOBAL _zx_cls_wc_pix
646   0000              	GLOBAL _zx_cls_wc_attr_callee
647   0000              	GLOBAL _zx_cls_wc_attr
648   0000              	GLOBAL _zx_cls_wc_callee
649   0000              	GLOBAL _zx_cls_wc
650   0000              	GLOBAL _zx_cls_pix_fastcall
651   0000              	GLOBAL _zx_cls_pix
652   0000              	GLOBAL _zx_cls_attr_fastcall
653   0000              	GLOBAL _zx_cls_attr
654   0000              	GLOBAL _zx_cls_fastcall
655   0000              	GLOBAL _zx_cls
656   0000              	GLOBAL _zx_border_fastcall
657   0000              	GLOBAL _zx_border
658   0000              	GLOBAL _spr_colision_b2
659   0000              	GLOBAL _spr_colision_b
660   0000              	GLOBAL _spr_unflatten
661   0000              	GLOBAL _spr_flatten
662   0000              	GLOBAL _spr_btile_paint_back
663   0000              	GLOBAL _spr_bullet_explode
664   0000              	GLOBAL _spr_init_effects
665   0000              	GLOBAL _spr_turn_horizontal
666   0000              	GLOBAL _spr_bullets_play
667   0000              	GLOBAL _spr_play_anim
668   0000              	GLOBAL _spr_add_anim
669   0000              	GLOBAL _spr_clear_scr
670   0000              	GLOBAL _spr_page_map
671   0000              	GLOBAL _spr_page_down
672   0000              	GLOBAL _spr_page_up
673   0000              	GLOBAL _spr_page_right
674   0000              	GLOBAL _spr_page_left
675   0000              	GLOBAL _spr_tile_paint
676   0000              	GLOBAL _spr_draw_index
677   0000              	GLOBAL _spr_brick_anim
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_tile
680   0000              	GLOBAL _spr_destroy
681   0000              	GLOBAL _spr_tile_dir
682   0000              	GLOBAL _spr_redraw
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_horizontal
686   0000              	GLOBAL _spr_move_down
687   0000              	GLOBAL _spr_move_up
688   0000              	GLOBAL _spr_set_right
689   0000              	GLOBAL _spr_set_left
690   0000              	GLOBAL _spr_set_down
691   0000              	GLOBAL _spr_set_up
692   0000              	GLOBAL _spr_calc_index
693   0000              	GLOBAL _spr_chktime
694   0000              	GLOBAL _player_fix_walk_lin
695   0000              	GLOBAL _player_gasta_brick
696   0000              	GLOBAL _player_lost_life
697   0000              	GLOBAL _player_hit
698   0000              	GLOBAL _player_open_door
699   0000              	GLOBAL _player_move_jump
700   0000              	GLOBAL _player_fire
701   0000              	GLOBAL _player_check_stairs_vertical
702   0000              	GLOBAL _player_check_stairs
703   0000              	GLOBAL _player_tile
704   0000              	GLOBAL _player_anim_tile
705   0000              	GLOBAL _player_pick_item
706   0000              	GLOBAL _player_check_floor
707   0000              	GLOBAL _player_hit_platform_clear
708   0000              	GLOBAL _player_score_add
709   0000              	GLOBAL _player_hit_platform
710   0000              	GLOBAL _player_move_input
711   0000              	GLOBAL _player_turn
712   0000              	GLOBAL _player_move
713   0000              	GLOBAL _player_check_input
714   0000              	GLOBAL _player_pick_mushroom
715   0000              	GLOBAL _player_collision
716   0000              	GLOBAL _player_init
717   0000              	GLOBAL _game_fill_row
718   0000              	GLOBAL _boss_draw
719   0000              	GLOBAL _boss_turn
720   0000              	GLOBAL _enemy_avoid_dead
721   0000              	GLOBAL _enemy_avoid_fall
722   0000              	GLOBAL _enemy_kill
723   0000              	GLOBAL _enemy_respawn
724   0000              	GLOBAL _enemy_init
725   0000              	GLOBAL _enemy_move
726   0000              	GLOBAL _enemy_turn
727   0000              	GLOBAL _enemy_static
728   0000              	GLOBAL _enemy_walk
729   0000              	GLOBAL _enemy_horizontal
730   0000              	GLOBAL _enemy_vertical
731   0000              	GLOBAL _ay_reset
732   0000              	GLOBAL _ay_song_stop
733   0000              	GLOBAL _ay_song_play
734   0000              	GLOBAL _ay_fx_stop
735   0000              	GLOBAL _ay_fx_play
736   0000              	GLOBAL _ay_is_playing
737   0000              	GLOBAL _test_func
738   0000              	GLOBAL _test_proc
739   0000              	GLOBAL _in_mouse_kempston_wheel_delta
740   0000              	GLOBAL _in_mouse_kempston_wheel
741   0000              	GLOBAL _in_mouse_kempston_callee
742   0000              	GLOBAL _in_mouse_kempston
743   0000              	GLOBAL _in_mouse_kempston_setpos_callee
744   0000              	GLOBAL _in_mouse_kempston_setpos
745   0000              	GLOBAL _in_mouse_kempston_reset
746   0000              	GLOBAL _in_mouse_kempston_init
747   0000              	GLOBAL _in_mouse_amx_wheel_delta
748   0000              	GLOBAL _in_mouse_amx_wheel
749   0000              	GLOBAL _in_mouse_amx_callee
750   0000              	GLOBAL _in_mouse_amx
751   0000              	GLOBAL _in_mouse_amx_setpos_callee
752   0000              	GLOBAL _in_mouse_amx_setpos
753   0000              	GLOBAL _in_mouse_amx_reset
754   0000              	GLOBAL _in_mouse_amx_init_callee
755   0000              	GLOBAL _in_mouse_amx_init
756   0000              	GLOBAL _in_stick_sinclair2
757   0000              	GLOBAL _in_stick_sinclair1
758   0000              	GLOBAL _in_stick_kempston
759   0000              	GLOBAL _in_stick_fuller
760   0000              	GLOBAL _in_stick_cursor
761   0000              	GLOBAL _in_stick_keyboard_fastcall
762   0000              	GLOBAL _in_stick_keyboard
763   0000              	GLOBAL _in_wait_nokey
764   0000              	GLOBAL _in_wait_key
765   0000              	GLOBAL _in_test_key
766   0000              	GLOBAL _in_pause_fastcall
767   0000              	GLOBAL _in_pause
768   0000              	GLOBAL _in_key_scancode_fastcall
769   0000              	GLOBAL _in_key_scancode
770   0000              	GLOBAL _in_key_pressed_fastcall
771   0000              	GLOBAL _in_key_pressed
772   0000              	GLOBAL _in_inkey
773   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
774   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
775   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
776   0000              	GLOBAL _NIRVANAP_HOLE
777   0000              	GLOBAL _NIRVANAP_ISR_HOOK
778   0000              	GLOBAL _scan_map
779   0000              	GLOBAL _key_map
780   0000              	GLOBAL _player_lvl_table
781   0000              	GLOBAL _stp_row
782   0000              	GLOBAL _stp_col
783   0000              	GLOBAL _stp_tile
784   0000              	GLOBAL _map_paper_last_a
785   0000              	GLOBAL _map_paper_last
786   0000              	GLOBAL _map_paper_clr
787   0000              	GLOBAL _map_paper
788   0000              	GLOBAL _draw_count
789   0000              	GLOBAL _g_player_hit_right
790   0000              	GLOBAL _g_player_hit_left
791   0000              	GLOBAL _bullet_count
792   0000              	GLOBAL _spr_hack
793   0000              	GLOBAL _boss_stat
794   0000              	GLOBAL _boss_time_fire
795   0000              	GLOBAL _boss_time
796   0000              	GLOBAL _boss_tile
797   0000              	GLOBAL _boss_inc
798   0000              	GLOBAL _boss_col
799   0000              	GLOBAL _boss_lin
800   0000              	GLOBAL _bullet
801   0000              	GLOBAL _bullet_vel
802   0000              	GLOBAL _bullet_frames
803   0000              	GLOBAL _bullet_colint
804   0000              	GLOBAL _bullet_dir
805   0000              	GLOBAL _bullet_tile
806   0000              	GLOBAL _bullet_col
807   0000              	GLOBAL _bullet_lin
808   0000              	GLOBAL _bullet_col0
809   0000              	GLOBAL _bullet_lin0
810   0000              	GLOBAL _bullet_max
811   0000              	GLOBAL _bullet_class
812   0000              	GLOBAL _mush_class
813   0000              	GLOBAL _mush_index
814   0000              	GLOBAL _anim_count
815   0000              	GLOBAL _anim_respanwn
816   0000              	GLOBAL _anim_loop
817   0000              	GLOBAL _anim_end
818   0000              	GLOBAL _anim_int
819   0000              	GLOBAL _anim_tile
820   0000              	GLOBAL _anim_col
821   0000              	GLOBAL _anim_lin
822   0000              	GLOBAL _map_heigth
823   0000              	GLOBAL _map_width
824   0000              	GLOBAL _scr_curr
825   0000              	GLOBAL _sprite_kind
826   0000              	GLOBAL _scr_obj1
827   0000              	GLOBAL _scr_obj0
828   0000              	GLOBAL _scr_map
829   0000              	GLOBAL _sprite_speed_alt
830   0000              	GLOBAL _spr_init
831   0000              	GLOBAL _spr_map_tile
832   0000              	GLOBAL _sprite_frames
833   0000              	GLOBAL _sprite_speed
834   0000              	GLOBAL _screen_ink
835   0000              	GLOBAL _screen_paper
836   0000              	GLOBAL _player_onstair
837   0000              	GLOBAL _game_start_scr
838   0000              	GLOBAL _game_respawn_tile
839   0000              	GLOBAL _game_respawn_index
840   0000              	GLOBAL _game_respawn_time
841   0000              	GLOBAL _game_score_top
842   0000              	GLOBAL _player_coins
843   0000              	GLOBAL _player_lives
844   0000              	GLOBAL _game_over
845   0000              	GLOBAL _game_sound
846   0000              	GLOBAL _game_inf_lives
847   0000              	GLOBAL _game_inmune
848   0000              	GLOBAL _sprite_curr_index
849   0000              	GLOBAL _spr_count
850   0000              	GLOBAL _bullet_time
851   0000              	GLOBAL _anim_time
852   0000              	GLOBAL _frame_time
853   0000              	GLOBAL _curr_time
854   0000              	GLOBAL _s_state
855   0000              	GLOBAL _attrib_osd
856   0000              	GLOBAL _attrib_hl
857   0000              	GLOBAL _attrib
858   0000              	GLOBAL _zx_val_asm
859   0000              	GLOBAL _enemies
860   0000              	GLOBAL _tmp_ui
861   0000              	GLOBAL _tmp_sc
862   0000              	GLOBAL _tmp_uc
863   0000              	GLOBAL _tmp1
864   0000              	GLOBAL _tmp0
865   0000              	GLOBAL _tmp
866   0000              	GLOBAL _index1
867   0000              	GLOBAL _index0
868   0000              	GLOBAL _loop_count
869   0000              	GLOBAL _s_class
870   0000              	GLOBAL _s_col1
871   0000              	GLOBAL _s_col0
872   0000              	GLOBAL _s_lin1
873   0000              	GLOBAL _s_lin0
874   0000              	GLOBAL _s_tile1
875   0000              	GLOBAL _s_tile0
876   0000              	GLOBAL _player_brick_time
877   0000              	GLOBAL _player_hit_count
878   0000              	GLOBAL _sprite_horizontal_check
879   0000              	GLOBAL _sprite_on_air
880   0000              	GLOBAL _sprite
881   0000              	GLOBAL _fps
882   0000              	GLOBAL _game_2buttons
883   0000              	GLOBAL _game_respawn_curr_time
884   0000              	GLOBAL _game_worldup
885   0000              	GLOBAL _game_mush_count
886   0000              	GLOBAL _game_boss_fix
887   0000              	GLOBAL _game_boss_hit
888   0000              	GLOBAL _game_boss_alive
889   0000              	GLOBAL _game_boss
890   0000              	GLOBAL _game_world
891   0000              	GLOBAL _game_gravity
892   0000              	GLOBAL _player_onfire
893   0000              	GLOBAL _player_anim_stair
894   0000              	GLOBAL _player_hit_time
895   0000              	GLOBAL _game_checkpoint_scr
896   0000              	GLOBAL _game_checkpoint_lin
897   0000              	GLOBAL _game_checkpoint_col
898   0000              	GLOBAL _player_lin_scr
899   0000              	GLOBAL _player_col_scr
900   0000              	GLOBAL _player_lvl
901   0000              	GLOBAL _player_int
902   0000              	GLOBAL _player_str
903   0000              	GLOBAL _player_max_vita
904   0000              	GLOBAL _player_max_mana
905   0000              	GLOBAL _player_vita
906   0000              	GLOBAL _player_mana
907   0000              	GLOBAL _player_keys
908   0000              	GLOBAL _player_vel_inc
909   0000              	GLOBAL _player_vel_y1
910   0000              	GLOBAL _player_vel_y0
911   0000              	GLOBAL _player_vel_y
912   0000              	GLOBAL _player_vel_x
913   0000              	GLOBAL _player_score
914   0000              	GLOBAL _last_time
915   0000              	GLOBAL _player_slide
916   0000              	GLOBAL _spr_timer
917   0000              	GLOBAL _jump_lin
918   0000              	GLOBAL _player_hit_col
919   0000              	GLOBAL _player_hit_lin
920   0000              	GLOBAL _colint
921   0000              	GLOBAL _col
922   0000              	GLOBAL _lin
923   0000              	GLOBAL _tile
924   0000              	GLOBAL _state_a
925   0000              	GLOBAL _state
926   0000              	GLOBAL _class
927   0000              	GLOBAL _tbuffer
928   0000              	GLOBAL _dirs_alt
929   0000              	GLOBAL _dirs
930   0000              	GLOBAL _k2
931   0000              	GLOBAL _k1
932   0000              	GLOBAL _joyfunc2
933   0000              	GLOBAL _joyfunc1
934   0000              	GLOBAL _btiles
935   0000              	GLOBAL _spec128
936   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
937   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
938   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
939   0000              	GLOBAL _ay_song_06_ciel
940   0000              	GLOBAL _ay_song_04_sunflower
941   0000              	GLOBAL _ay_song_04_lotr_level_start
942   0000              	GLOBAL _ay_song_04_lotr_level_complete
943   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
944   0000              	GLOBAL _ay_song_04_lotr
945   0000              	GLOBAL _ay_fx_06_explosion1
946   0000              	GLOBAL _ay_fx_06_efecto
947   0000              	GLOBAL _ay_fx_06_disparo2
948   0000              	GLOBAL _ay_fx_06_disparo1
949   0000              	GLOBAL _ay_fx_04_sin_mana
950   0000              	GLOBAL _ay_fx_04_salto
951   0000              	GLOBAL _ay_fx_04_pierto_abierta
952   0000              	GLOBAL _ay_fx_04_magia1
953   0000              	GLOBAL _ay_fx_04_golpe
954   0000              	GLOBAL _ay_fx_04_explosion
955   0000              	GLOBAL _ay_fx_04_dano_por_toque
956   0000              	GLOBAL _ay_fx_04_coin
957   0000              	GLOBAL _world0_h
958   0000              	GLOBAL _world0_w
959   0000              	GLOBAL _world0
960   0000              	GLOBAL _paper0
961   0000              	GLOBAL _lenght0
962   0000              	GLOBAL _start_scr0
963   0000              ;--------------------------------------------------------
964   0000              ; special function registers
965   0000              ;--------------------------------------------------------
966   0000              defc _IO_FE	=	0x00fe
967   0000              defc _IO_1FFD	=	0x1ffd
968   0000              defc _IO_7FFD	=	0x7ffd
969   0000              ;--------------------------------------------------------
970   0000              ; ram data
971   0000              ;--------------------------------------------------------
972   0000              	SECTION bss_compiler
973   0000              ;--------------------------------------------------------
974   0000              ; ram data
975   0000              ;--------------------------------------------------------
976   0000              
977   0000              IF 0
978   0000              
979   0000              ; .area _INITIALIZED removed by z88dk
980   0000              
981   0000              
982   0000              ENDIF
983   0000              
984   0000              ;--------------------------------------------------------
985   0000              ; absolute external ram data
986   0000              ;--------------------------------------------------------
987   0000              	SECTION IGNORE
988   0000              ;--------------------------------------------------------
989   0000              ; global & static initialisations
990   0000              ;--------------------------------------------------------
991   0000              	SECTION code_crt_init
992   0000              ;--------------------------------------------------------
993   0000              ; Home
994   0000              ;--------------------------------------------------------
995   0000              	SECTION IGNORE
996   0000              ;--------------------------------------------------------
997   0000              ; code
998   0000              ;--------------------------------------------------------
999   0000              	SECTION code_compiler
1000  0000              ;	---------------------------------
1001  0000              ; Function game_loop
1002  0000              ; ---------------------------------
1003  0000              _game_loop:
1004  0000  CD 5C 07    	call	_game_round_init
1005  0003  21 00 00    	ld	hl,_ay_song_06_ciel
1006  0006  E5          	push	hl
1007  0007  21 00 06    	ld	hl,0x0600
1008  000A  E5          	push	hl
1009  000B  CD 00 00    	call	_ay_song_play
1010  000E              l_game_loop_00119:
1011  000E  3A 00 00    	ld	a,(_game_over)
1012  0011  B7          	or	a, a
1013  0012  C2 D5 00    	jp	NZ, l_game_loop_00122
1014  0015              l_game_loop_00114:
1015  0015  3A 00 00    	ld	a,(_game_worldup)
1016  0018  B7          	or	a, a
1017  0019  C2 A8 00    	jp	NZ, l_game_loop_00116
1018  001C  3A 00 00    	ld	a,(_game_over)
1019  001F  B7          	or	a, a
1020  0020  C2 A8 00    	jp	NZ, l_game_loop_00116
1021  0023  CD 00 00    	call	_enemy_turn
1022  0026  CD 00 00    	call	_player_turn
1023  0029  3A 00 00    	ld	a,(_game_boss)
1024  002C  B7          	or	a, a
1025  002D  28 03       	jr	Z,l_game_loop_00102
1026  002F  CD 00 00    	call	_boss_turn
1027  0032              l_game_loop_00102:
1028  0032  3E 02       	ld	a,0x02
1029  0034  F5          	push	af
1030  0035  33          	inc	sp
1031  0036  21 00 00    	ld	hl,_bullet_time
1032  0039  E5          	push	hl
1033  003A  CD C4 0B    	call	_game_check_time
1034  003D  F1          	pop	af
1035  003E  33          	inc	sp
1036  003F  7D          	ld	a, l
1037  0040  B7          	or	a, a
1038  0041  28 0F       	jr	Z,l_game_loop_00106
1039  0043  2A 00 00    	ld	hl,(_curr_time)
1040  0046  22 00 00    	ld	(_bullet_time),hl
1041  0049  3A 00 00    	ld	a,(_bullet_count)
1042  004C  B7          	or	a,a
1043  004D  28 03       	jr	Z,l_game_loop_00106
1044  004F  CD 00 00    	call	_spr_bullets_play
1045  0052              l_game_loop_00106:
1046  0052  3E 08       	ld	a,0x08
1047  0054  F5          	push	af
1048  0055  33          	inc	sp
1049  0056  21 00 00    	ld	hl,_anim_time
1050  0059  E5          	push	hl
1051  005A  CD C4 0B    	call	_game_check_time
1052  005D  F1          	pop	af
1053  005E  33          	inc	sp
1054  005F  7D          	ld	a, l
1055  0060  B7          	or	a, a
1056  0061  28 14       	jr	Z,l_game_loop_00110
1057  0063  2E 00       	ld	l,0x00
1058  0065  CD 00 00    	call	_zx_border_fastcall
1059  0068  2A 00 00    	ld	hl,(_curr_time)
1060  006B  22 00 00    	ld	(_anim_time),hl
1061  006E  3A 00 00    	ld	a,(_anim_count)
1062  0071  B7          	or	a,a
1063  0072  28 03       	jr	Z,l_game_loop_00110
1064  0074  CD 00 00    	call	_spr_play_anim
1065  0077              l_game_loop_00110:
1066  0077  3E 64       	ld	a,0x64
1067  0079  F5          	push	af
1068  007A  33          	inc	sp
1069  007B  21 00 00    	ld	hl,_frame_time
1070  007E  E5          	push	hl
1071  007F  CD C4 0B    	call	_game_check_time
1072  0082  F1          	pop	af
1073  0083  33          	inc	sp
1074  0084  7D          	ld	a, l
1075  0085  B7          	or	a, a
1076  0086  28 0C       	jr	Z,l_game_loop_00112
1077  0088  2A 00 00    	ld	hl,(_curr_time)
1078  008B  22 00 00    	ld	(_frame_time),hl
1079  008E  CD D6 00    	call	_game_fps
1080  0091  CD ED 00    	call	_game_respawn
1081  0094              l_game_loop_00112:
1082  0094  21 00 00    	ld	hl,_loop_count
1083  0097  34          	inc	(hl)
1084  0098  20 02       	jr	NZ,l_game_loop_00168
1085  009A  23          	inc	hl
1086  009B  34          	inc	(hl)
1087  009C              l_game_loop_00168:
1088  009C  21 00 00    	ld	hl,_fps
1089  009F  34          	inc	(hl)
1090  00A0  C2 15 00    	jp	NZ,l_game_loop_00114
1091  00A3  23          	inc	hl
1092  00A4  34          	inc	(hl)
1093  00A5  C3 15 00    	jp	l_game_loop_00114
1094  00A8              l_game_loop_00116:
1095  00A8  21 00 00    	ld	hl,_game_worldup
1096  00AB  7E          	ld	a, (hl)
1097  00AC  B7          	or	a, a
1098  00AD  CA 0E 00    	jp	Z, l_game_loop_00119
1099  00B0  36 00       	ld	(hl),0x00
1100  00B2  21 00 00    	ld	hl,_game_respawn_curr_time
1101  00B5  7E          	ld	a, (hl)
1102  00B6  C6 E0       	add	a,0xe0
1103  00B8  77          	ld	(hl), a
1104  00B9  21 00 00    	ld	hl,_game_world
1105  00BC  34          	inc	(hl)
1106  00BD  21 00 00    	ld	hl,_game_boss_alive
1107  00C0  36 01       	ld	(hl),0x01
1108  00C2  21 00 00    	ld	hl,_game_boss
1109  00C5  36 00       	ld	(hl),0x00
1110  00C7  21 00 00    	ld	hl,_scr_curr
1111  00CA  36 FF       	ld	(hl),0xff
1112  00CC  CD 32 10    	call	_game_obj_clear
1113  00CF  CD 5C 07    	call	_game_round_init
1114  00D2  C3 0E 00    	jp	l_game_loop_00119
1115  00D5              l_game_loop_00122:
1116  00D5  C9          	ret
1117  00D6              	SECTION code_compiler
1118  00D6              ;	---------------------------------
1119  00D6              ; Function game_fps
1120  00D6              ; ---------------------------------
1121  00D6              _game_fps:
1122  00D6  21 00 00    	ld	hl,_screen_ink
1123  00D9  36 07       	ld	(hl),0x07
1124  00DB  2A 00 00    	ld	hl,(_fps)
1125  00DE  E5          	push	hl
1126  00DF  21 17 18    	ld	hl,0x1817
1127  00E2  E5          	push	hl
1128  00E3  CD 00 00    	call	_zx_print_int
1129  00E6  21 00 00    	ld	hl,0x0000
1130  00E9  22 00 00    	ld	(_fps),hl
1131  00EC  C9          	ret
1132  00ED              	SECTION code_compiler
1133  00ED              ;	---------------------------------
1134  00ED              ; Function game_respawn
1135  00ED              ; ---------------------------------
1136  00ED              _game_respawn:
1137  00ED  21 00 00    	ld	hl,_sprite
1138  00F0  36 00       	ld	(hl),0x00
1139  00F2              l_game_respawn_00105:
1140  00F2  21 00 00    	ld	hl,_sprite
1141  00F5  7E          	ld	a, (hl)
1142  00F6  D6 07       	sub	a,0x07
1143  00F8  D2 88 01    	jp	NC, l_game_respawn_00108
1144  00FB  01 00 00    	ld	bc,_game_respawn_time+0
1145  00FE  6E          	ld	l,(hl)
1146  00FF  26 00       	ld	h,0x00
1147  0101  29          	add	hl, hl
1148  0102  09          	add	hl, bc
1149  0103  5E          	ld	e,(hl)
1150  0104  23          	inc	hl
1151  0105  56          	ld	d,(hl)
1152  0106  2B          	dec	hl
1153  0107  7A          	ld	a, d
1154  0108  B3          	or	a,e
1155  0109  28 76       	jr	Z,l_game_respawn_00104
1156  010B  3A 00 00    	ld	a,(_game_respawn_curr_time)
1157  010E  EB          	ex	de,hl
1158  010F  C5          	push	bc
1159  0110  F5          	push	af
1160  0111  33          	inc	sp
1161  0112  D5          	push	de
1162  0113  CD C4 0B    	call	_game_check_time
1163  0116  F1          	pop	af
1164  0117  33          	inc	sp
1165  0118  C1          	pop	bc
1166  0119  7D          	ld	a,l
1167  011A  B7          	or	a, a
1168  011B  28 64       	jr	Z,l_game_respawn_00104
1169  011D  2A 00 00    	ld	hl,(_sprite)
1170  0120  26 00       	ld	h,0x00
1171  0122  11 00 00    	ld	de,_game_respawn_index
1172  0125  19          	add	hl,de
1173  0126  7E          	ld	a,(hl)
1174  0127  6F          	ld	l,a
1175  0128  26 00       	ld	h,0x00
1176  012A  22 00 00    	ld	(_index1),hl
1177  012D  5F          	ld	e,a
1178  012E  E6 0F       	and	a,0x0f
1179  0130  87          	add	a, a
1180  0131  32 00 00    	ld	(_s_col1),a
1181  0134  21 00 00    	ld	hl,_s_lin1
1182  0137  73          	ld	(hl),e
1183  0138  7B          	ld	a,e
1184  0139  07          	rlca
1185  013A  07          	rlca
1186  013B  07          	rlca
1187  013C  07          	rlca
1188  013D  E6 0F       	and	a,0x0f
1189  013F  07          	rlca
1190  0140  07          	rlca
1191  0141  07          	rlca
1192  0142  07          	rlca
1193  0143  E6 F0       	and	a,0xf0
1194  0145  77          	ld	(hl), a
1195  0146  11 00 00    	ld	de,_scr_map
1196  0149  2A 00 00    	ld	hl,(_index1)
1197  014C  19          	add	hl,de
1198  014D  EB          	ex	de,hl
1199  014E  21 00 00    	ld	hl,_sprite
1200  0151  7E          	ld	a, (hl)
1201  0152  C6 80       	add	a,0x80
1202  0154  12          	ld	(de), a
1203  0155  6E          	ld	l,(hl)
1204  0156  26 00       	ld	h,0x00
1205  0158  29          	add	hl, hl
1206  0159  09          	add	hl, bc
1207  015A  AF          	xor	a, a
1208  015B  77          	ld	(hl), a
1209  015C  23          	inc	hl
1210  015D  77          	ld	(hl), a
1211  015E  2A 00 00    	ld	hl,(_sprite)
1212  0161  26 00       	ld	h,0x00
1213  0163  01 00 00    	ld	bc,_game_respawn_tile
1214  0166  09          	add	hl,bc
1215  0167  7E          	ld	a,(hl)
1216  0168  F5          	push	af
1217  0169  33          	inc	sp
1218  016A  21 03 04    	ld	hl,0x0403
1219  016D  E5          	push	hl
1220  016E  2A 00 00    	ld	hl,(_s_col1)
1221  0171  26 8A       	ld	h,0x8a
1222  0173  3A 00 00    	ld	a,(_s_lin1)
1223  0176  E5          	push	hl
1224  0177  F5          	push	af
1225  0178  33          	inc	sp
1226  0179  CD 00 00    	call	_spr_add_anim
1227  017C  F1          	pop	af
1228  017D  F1          	pop	af
1229  017E  F1          	pop	af
1230  017F  18 07       	jr	l_game_respawn_00108
1231  0181              l_game_respawn_00104:
1232  0181  21 00 00    	ld	hl,_sprite
1233  0184  34          	inc	(hl)
1234  0185  C3 F2 00    	jp	l_game_respawn_00105
1235  0188              l_game_respawn_00108:
1236  0188  C9          	ret
1237  0189              	SECTION code_compiler
1238  0189              ;	---------------------------------
1239  0189              ; Function game_draw_screen
1240  0189              ; ---------------------------------
1241  0189              _game_draw_screen:
1242  0189  CD 00 00    	call	___sdcc_enter_ix
1243  018C  F5          	push	af
1244  018D  76          	halt
1245  018E  21 00 00    	ld	hl,_game_boss
1246  0191  36 00       	ld	(hl),0x00
1247  0193  21 00 00    	ld	hl,_game_boss_fix
1248  0196  36 00       	ld	(hl),0x00
1249  0198  2A 00 00    	ld	hl,(_curr_time)
1250  019B  22 00 00    	ld	(_player_brick_time),hl
1251  019E  21 00 00    	ld	hl,_spr_count
1252  01A1  36 00       	ld	(hl),0x00
1253  01A3  CD 00 00    	call	_spr_init_effects
1254  01A6  01 00 00    	ld	bc,_game_respawn_time+0
1255  01A9              l_game_draw_screen_00101:
1256  01A9  21 00 00    	ld	hl,_spr_count
1257  01AC  7E          	ld	a, (hl)
1258  01AD  D6 07       	sub	a,0x07
1259  01AF  30 46       	jr	NC,l_game_draw_screen_00103
1260  01B1  3E 00       	ld	a, +((_game_respawn_index) & 0xFF)
1261  01B3  86          	add	a, (hl)
1262  01B4  5F          	ld	e, a
1263  01B5  3E 00       	ld	a, +((_game_respawn_index) / 256)
1264  01B7  CE 00       	adc	a,0x00
1265  01B9  57          	ld	d, a
1266  01BA  AF          	xor	a, a
1267  01BB  12          	ld	(de), a
1268  01BC  3E 00       	ld	a, +((_game_respawn_tile) & 0xFF)
1269  01BE  86          	add	a, (hl)
1270  01BF  5F          	ld	e, a
1271  01C0  3E 00       	ld	a, +((_game_respawn_tile) / 256)
1272  01C2  CE 00       	adc	a,0x00
1273  01C4  57          	ld	d, a
1274  01C5  AF          	xor	a, a
1275  01C6  12          	ld	(de), a
1276  01C7  6E          	ld	l,(hl)
1277  01C8  26 00       	ld	h,0x00
1278  01CA  29          	add	hl, hl
1279  01CB  09          	add	hl, bc
1280  01CC  AF          	xor	a, a
1281  01CD  77          	ld	(hl), a
1282  01CE  23          	inc	hl
1283  01CF  77          	ld	(hl), a
1284  01D0  2A 00 00    	ld	hl,(_spr_count)
1285  01D3  26 00       	ld	h,0x00
1286  01D5  11 00 00    	ld	de,_mush_index
1287  01D8  19          	add	hl,de
1288  01D9  AF          	xor	a,a
1289  01DA  77          	ld	(hl),a
1290  01DB  2A 00 00    	ld	hl,(_spr_count)
1291  01DE  26 00       	ld	h,0x00
1292  01E0  11 00 00    	ld	de,_mush_class
1293  01E3  19          	add	hl,de
1294  01E4  AF          	xor	a,a
1295  01E5  77          	ld	(hl),a
1296  01E6  2A 00 00    	ld	hl,(_spr_count)
1297  01E9  26 00       	ld	h,0x00
1298  01EB  11 00 00    	ld	de,_class
1299  01EE  19          	add	hl,de
1300  01EF  AF          	xor	a,a
1301  01F0  77          	ld	(hl),a
1302  01F1  21 00 00    	ld	hl,_spr_count
1303  01F4  34          	inc	(hl)
1304  01F5  18 B2       	jr	l_game_draw_screen_00101
1305  01F7              l_game_draw_screen_00103:
1306  01F7  21 10 00    	ld	hl,0x0010
1307  01FA  22 00 00    	ld	(_index1),hl
1308  01FD  21 00 00    	ld	hl,_s_lin1
1309  0200  36 00       	ld	(hl),0x00
1310  0202  21 00 00    	ld	hl,_s_col1
1311  0205  36 02       	ld	(hl),0x02
1312  0207  21 00 00    	ld	hl,_spr_count
1313  020A  36 00       	ld	(hl),0x00
1314  020C  F3          	di
1315  020D  DD 36 FF 00 	ld	(ix-1),0x00
1316  0211              l_game_draw_screen_00127:
1317  0211  21 00 00    	ld	hl,_index1
1318  0214  7E          	ld	a, (hl)
1319  0215  D6 A0       	sub	a,0xa0
1320  0217  23          	inc	hl
1321  0218  7E          	ld	a, (hl)
1322  0219  DE 00       	sbc	a,0x00
1323  021B  D2 3F 03    	jp	NC, l_game_draw_screen_00129
1324  021E  2B          	dec	hl
1325  021F  7E          	ld	a, (hl)
1326  0220  E6 0F       	and	a,0x0f
1327  0222  20 0C       	jr	NZ,l_game_draw_screen_00105
1328  0224  21 00 00    	ld	hl,_s_lin1
1329  0227  7E          	ld	a, (hl)
1330  0228  C6 10       	add	a,0x10
1331  022A  77          	ld	(hl), a
1332  022B  21 00 00    	ld	hl,_s_col1
1333  022E  36 00       	ld	(hl),0x00
1334  0230              l_game_draw_screen_00105:
1335  0230  01 00 00    	ld	bc,_scr_map
1336  0233  2A 00 00    	ld	hl,(_index1)
1337  0236  09          	add	hl,bc
1338  0237  7E          	ld	a,(hl)
1339  0238  DD 77 FE    	ld	(ix-2),a
1340  023B  D6 60       	sub	a,0x60
1341  023D  30 67       	jr	NC,l_game_draw_screen_00125
1342  023F  DD 7E FE    	ld	a,(ix-2)
1343  0242  D6 5D       	sub	a,0x5d
1344  0244  20 04       	jr	NZ,l_game_draw_screen_00197
1345  0246  3E 01       	ld	a,0x01
1346  0248  18 01       	jr	l_game_draw_screen_00198
1347  024A              l_game_draw_screen_00197:
1348  024A  AF          	xor	a,a
1349  024B              l_game_draw_screen_00198:
1350  024B  4F          	ld	c,a
1351  024C  B7          	or	a, a
1352  024D  20 07       	jr	NZ,l_game_draw_screen_00111
1353  024F  DD 7E FE    	ld	a,(ix-2)
1354  0252  D6 5A       	sub	a,0x5a
1355  0254  20 2E       	jr	NZ,l_game_draw_screen_00112
1356  0256              l_game_draw_screen_00111:
1357  0256  21 00 00    	ld	hl,_index1
1358  0259  7E          	ld	a, (hl)
1359  025A  C6 F0       	add	a,0xf0
1360  025C  47          	ld	b, a
1361  025D  23          	inc	hl
1362  025E  7E          	ld	a, (hl)
1363  025F  CE FF       	adc	a,0xff
1364  0261  5F          	ld	e, a
1365  0262  C5          	push	bc
1366  0263  68          	ld	l, b
1367  0264  63          	ld	h, e
1368  0265  CD F9 0F    	call	_game_obj_chk
1369  0268  C1          	pop	bc
1370  0269  7D          	ld	a,l
1371  026A  B7          	or	a, a
1372  026B  28 0F       	jr	Z,l_game_draw_screen_00109
1373  026D  01 00 00    	ld	bc,_scr_map
1374  0270  2A 00 00    	ld	hl,(_index1)
1375  0273  09          	add	hl,bc
1376  0274  36 4F       	ld	(hl),0x4f
1377  0276  DD 36 FE 4F 	ld	(ix-2),0x4f
1378  027A  18 08       	jr	l_game_draw_screen_00112
1379  027C              l_game_draw_screen_00109:
1380  027C  79          	ld	a, c
1381  027D  B7          	or	a, a
1382  027E  28 04       	jr	Z,l_game_draw_screen_00112
1383  0280  DD 36 FE 00 	ld	(ix-2),0x00
1384  0284              l_game_draw_screen_00112:
1385  0284  DD 7E FE    	ld	a,(ix-2)
1386  0287  D6 23       	sub	a,0x23
1387  0289  20 09       	jr	NZ,l_game_draw_screen_00115
1388  028B  2A 00 00    	ld	hl,(_index1)
1389  028E  CD 5D 11    	call	_game_match_back
1390  0291  DD 75 FE    	ld	(ix-2),l
1391  0294              l_game_draw_screen_00115:
1392  0294  3A 00 00    	ld	a,(_s_col1)
1393  0297  F5          	push	af
1394  0298  33          	inc	sp
1395  0299  2A FF FF    	ld	hl,(_s_lin1-1)
1396  029C  DD 6E FE    	ld	l,(ix-2)
1397  029F  E5          	push	hl
1398  02A0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1399  02A3  C3 2E 03    	jp	l_game_draw_screen_00126
1400  02A6              l_game_draw_screen_00125:
1401  02A6  3E 78       	ld	a,0x78
1402  02A8  DD 96 FE    	sub	a,(ix-2)
1403  02AB  38 2D       	jr	C,l_game_draw_screen_00122
1404  02AD  3A 00 00    	ld	a,(_spr_count)
1405  02B0  D6 08       	sub	a,0x08
1406  02B2  30 53       	jr	NC,l_game_draw_screen_00123
1407  02B4  3A 00 00    	ld	a,(_game_boss_alive)
1408  02B7  B7          	or	a, a
1409  02B8  28 4D       	jr	Z,l_game_draw_screen_00123
1410  02BA  2A 00 00    	ld	hl,(_spr_count)
1411  02BD  26 00       	ld	h,0x00
1412  02BF  01 00 00    	ld	bc,_game_respawn_index
1413  02C2  09          	add	hl,bc
1414  02C3  3A 00 00    	ld	a,(_index1)
1415  02C6  77          	ld	(hl),a
1416  02C7  2A 00 00    	ld	hl,(_spr_count)
1417  02CA  26 00       	ld	h,0x00
1418  02CC  01 00 00    	ld	bc,_game_respawn_tile
1419  02CF  09          	add	hl,bc
1420  02D0  DD 7E FE    	ld	a,(ix-2)
1421  02D3  77          	ld	(hl),a
1422  02D4  6F          	ld	l,a
1423  02D5  CD 14 04    	call	_game_add_enemy
1424  02D8  18 2D       	jr	l_game_draw_screen_00123
1425  02DA              l_game_draw_screen_00122:
1426  02DA  2A 00 00    	ld	hl,(_index1)
1427  02DD  CD F9 0F    	call	_game_obj_chk
1428  02E0  7D          	ld	a, l
1429  02E1  B7          	or	a, a
1430  02E2  20 23       	jr	NZ,l_game_draw_screen_00123
1431  02E4  3E 00       	ld	a, +((_mush_index) & 0xFF)
1432  02E6  DD 86 FF    	add	a,(ix-1)
1433  02E9  4F          	ld	c, a
1434  02EA  3E 00       	ld	a, +((_mush_index) / 256)
1435  02EC  CE 00       	adc	a,0x00
1436  02EE  47          	ld	b, a
1437  02EF  3A 00 00    	ld	a,(_index1)
1438  02F2  C6 10       	add	a,0x10
1439  02F4  02          	ld	(bc), a
1440  02F5  3E 00       	ld	a, +((_mush_class) & 0xFF)
1441  02F7  DD 86 FF    	add	a,(ix-1)
1442  02FA  4F          	ld	c, a
1443  02FB  3E 00       	ld	a, +((_mush_class) / 256)
1444  02FD  CE 00       	adc	a,0x00
1445  02FF  47          	ld	b, a
1446  0300  DD 7E FE    	ld	a,(ix-2)
1447  0303  02          	ld	(bc), a
1448  0304  DD 34 FF    	inc	(ix-1)
1449  0307              l_game_draw_screen_00123:
1450  0307  2A 00 00    	ld	hl,(_index1)
1451  030A  01 00 00    	ld	bc,_scr_map
1452  030D  09          	add	hl,bc
1453  030E  E5          	push	hl
1454  030F  2A 00 00    	ld	hl,(_index1)
1455  0312  CD 5D 11    	call	_game_match_back
1456  0315  C1          	pop	bc
1457  0316  7D          	ld	a,l
1458  0317  02          	ld	(bc), a
1459  0318  01 00 00    	ld	bc,_scr_map
1460  031B  2A 00 00    	ld	hl,(_index1)
1461  031E  09          	add	hl,bc
1462  031F  46          	ld	b, (hl)
1463  0320  3A 00 00    	ld	a,(_s_col1)
1464  0323  F5          	push	af
1465  0324  33          	inc	sp
1466  0325  3A 00 00    	ld	a,(_s_lin1)
1467  0328  48          	ld	c,b
1468  0329  47          	ld	b,a
1469  032A  C5          	push	bc
1470  032B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1471  032E              l_game_draw_screen_00126:
1472  032E  21 00 00    	ld	hl,_s_col1
1473  0331  34          	inc	(hl)
1474  0332  34          	inc	(hl)
1475  0333  21 00 00    	ld	hl,_index1
1476  0336  34          	inc	(hl)
1477  0337  C2 11 02    	jp	NZ,l_game_draw_screen_00127
1478  033A  23          	inc	hl
1479  033B  34          	inc	(hl)
1480  033C  C3 11 02    	jp	l_game_draw_screen_00127
1481  033F              l_game_draw_screen_00129:
1482  033F  FB          	ei
1483  0340  3A 00 00    	ld	a,(_game_boss_fix)
1484  0343  B7          	or	a, a
1485  0344  28 03       	jr	Z,l_game_draw_screen_00132
1486  0346  CD 7C 10    	call	_game_boss_clear
1487  0349              l_game_draw_screen_00132:
1488  0349  F1          	pop	af
1489  034A  DD E1       	pop	ix
1490  034C  C9          	ret
1491  034D              	SECTION code_compiler
1492  034D              ;	---------------------------------
1493  034D              ; Function game_boss_kill
1494  034D              ; ---------------------------------
1495  034D              _game_boss_kill:
1496  034D  21 00 00    	ld	hl,_game_boss
1497  0350  36 00       	ld	(hl),0x00
1498  0352  21 00 00    	ld	hl,_game_boss_alive
1499  0355  36 00       	ld	(hl),0x00
1500  0357  3A 00 00    	ld	a,(_boss_col)
1501  035A  21 00 00    	ld	hl,0x0000
1502  035D  E5          	push	hl
1503  035E  21 87 03    	ld	hl,0x0387
1504  0361  E5          	push	hl
1505  0362  F5          	push	af
1506  0363  33          	inc	sp
1507  0364  3A 00 00    	ld	a,(_boss_lin)
1508  0367  F5          	push	af
1509  0368  33          	inc	sp
1510  0369  CD 00 00    	call	_spr_add_anim
1511  036C  F1          	pop	af
1512  036D  F1          	pop	af
1513  036E  F1          	pop	af
1514  036F  21 00 00    	ld	hl,_boss_col
1515  0372  46          	ld	b, (hl)
1516  0373  04          	inc	b
1517  0374  04          	inc	b
1518  0375  21 00 00    	ld	hl,0x0000
1519  0378  E5          	push	hl
1520  0379  21 87 03    	ld	hl,0x0387
1521  037C  E5          	push	hl
1522  037D  C5          	push	bc
1523  037E  33          	inc	sp
1524  037F  3A 00 00    	ld	a,(_boss_lin)
1525  0382  F5          	push	af
1526  0383  33          	inc	sp
1527  0384  CD 00 00    	call	_spr_add_anim
1528  0387  F1          	pop	af
1529  0388  F1          	pop	af
1530  0389  F1          	pop	af
1531  038A  3A 00 00    	ld	a,(_boss_lin)
1532  038D  C6 10       	add	a,0x10
1533  038F  47          	ld	b, a
1534  0390  3A 00 00    	ld	a,(_boss_col)
1535  0393  21 00 00    	ld	hl,0x0000
1536  0396  E5          	push	hl
1537  0397  21 87 03    	ld	hl,0x0387
1538  039A  E5          	push	hl
1539  039B  48          	ld	c,b
1540  039C  47          	ld	b,a
1541  039D  C5          	push	bc
1542  039E  CD 00 00    	call	_spr_add_anim
1543  03A1  F1          	pop	af
1544  03A2  F1          	pop	af
1545  03A3  F1          	pop	af
1546  03A4  21 00 00    	ld	hl,_boss_col
1547  03A7  56          	ld	d, (hl)
1548  03A8  14          	inc	d
1549  03A9  14          	inc	d
1550  03AA  3A 00 00    	ld	a,(_boss_lin)
1551  03AD  C6 10       	add	a,0x10
1552  03AF  47          	ld	b, a
1553  03B0  21 00 00    	ld	hl,0x0000
1554  03B3  E5          	push	hl
1555  03B4  21 87 03    	ld	hl,0x0387
1556  03B7  E5          	push	hl
1557  03B8  58          	ld	e,b
1558  03B9  D5          	push	de
1559  03BA  CD 00 00    	call	_spr_add_anim
1560  03BD  F1          	pop	af
1561  03BE  F1          	pop	af
1562  03BF  F1          	pop	af
1563  03C0  21 00 00    	ld	hl,_tmp0
1564  03C3  36 00       	ld	(hl),0x00
1565  03C5              l_game_boss_kill_00104:
1566  03C5  2A 00 00    	ld	hl,(_tmp0)
1567  03C8  26 00       	ld	h,0x00
1568  03CA  01 00 00    	ld	bc,_bullet_col
1569  03CD  09          	add	hl,bc
1570  03CE  7E          	ld	a,(hl)
1571  03CF  4F          	ld	c,a
1572  03D0  3C          	inc	a
1573  03D1  28 15       	jr	Z,l_game_boss_kill_00102
1574  03D3  3A 00 00    	ld	a,(_tmp0)
1575  03D6  5F          	ld	e,a
1576  03D7  16 00       	ld	d,0x00
1577  03D9  21 00 00    	ld	hl,_bullet_lin
1578  03DC  19          	add	hl,de
1579  03DD  7E          	ld	a,(hl)
1580  03DE  32 00 00    	ld	(_s_lin0),a
1581  03E1  21 00 00    	ld	hl,_s_col0
1582  03E4  71          	ld	(hl), c
1583  03E5  CD 00 00    	call	_spr_back_repaint
1584  03E8              l_game_boss_kill_00102:
1585  03E8  2A 00 00    	ld	hl,(_tmp0)
1586  03EB  26 00       	ld	h,0x00
1587  03ED  01 00 00    	ld	bc,_bullet_col
1588  03F0  09          	add	hl,bc
1589  03F1  36 FF       	ld	(hl),0xff
1590  03F3  2A 00 00    	ld	hl,(_tmp0)
1591  03F6  CD 00 00    	call	_spr_destroy
1592  03F9  2A 00 00    	ld	hl,(_tmp0)
1593  03FC  26 00       	ld	h,0x00
1594  03FE  29          	add	hl, hl
1595  03FF  11 00 00    	ld	de,_game_respawn_time
1596  0402  19          	add	hl, de
1597  0403  AF          	xor	a, a
1598  0404  77          	ld	(hl), a
1599  0405  23          	inc	hl
1600  0406  77          	ld	(hl), a
1601  0407  21 00 00    	ld	hl,_tmp0
1602  040A  7E          	ld	a,(hl)
1603  040B  3C          	inc	a
1604  040C  77          	ld	(hl),a
1605  040D  D6 07       	sub	a,0x07
1606  040F  38 B4       	jr	C,l_game_boss_kill_00104
1607  0411  C3 7C 10    	jp  _game_boss_clear
1608  0414              	SECTION code_compiler
1609  0414              ;	---------------------------------
1610  0414              ; Function game_add_enemy
1611  0414              ; ---------------------------------
1612  0414              _game_add_enemy:
1613  0414  7D          	ld	a,l
1614  0415  D6 78       	sub	a,0x78
1615  0417  28 57       	jr	Z,l_game_add_enemy_00119
1616  0419  4D          	ld	c,l
1617  041A  21 00 00    	ld	hl,_tmp0
1618  041D  36 00       	ld	(hl),0x00
1619  041F              l_game_add_enemy_00104:
1620  041F  3E 17       	ld	a,0x17
1621  0421  21 00 00    	ld	hl,_tmp0
1622  0424  96          	sub	a, (hl)
1623  0425  DA D9 04    	jp	C, l_game_add_enemy_00121
1624  0428  7E          	ld	a, (hl)
1625  0429  5F          	ld	e, a
1626  042A  87          	add	a, a
1627  042B  83          	add	a, e
1628  042C  21 00 00    	ld	hl,_tmp1
1629  042F  77          	ld	(hl), a
1630  0430  C6 00       	add	a,+((_spr_init) & 0xFF)
1631  0432  5F          	ld	e, a
1632  0433  3E 00       	ld	a, +((_spr_init) / 256)
1633  0435  CE 00       	adc	a,0x00
1634  0437  57          	ld	d, a
1635  0438  1A          	ld	a, (de)
1636  0439  91          	sub	a, c
1637  043A  20 2E       	jr	NZ,l_game_add_enemy_00102
1638  043C  6E          	ld	l,(hl)
1639  043D  26 00       	ld	h,0x00
1640  043F  5D          	ld	e,l
1641  0440  54          	ld	d,h
1642  0441  23          	inc	hl
1643  0442  23          	inc	hl
1644  0443  3E 00       	ld	a, +((_spr_init) & 0xFF)
1645  0445  85          	add	a, l
1646  0446  6F          	ld	l, a
1647  0447  3E 00       	ld	a, +((_spr_init) / 256)
1648  0449  8C          	adc	a, h
1649  044A  67          	ld	h, a
1650  044B  46          	ld	b, (hl)
1651  044C  13          	inc	de
1652  044D  21 00 00    	ld	hl,_spr_init
1653  0450  19          	add	hl, de
1654  0451  7E          	ld	a, (hl)
1655  0452  C5          	push	bc
1656  0453  4F          	ld	c,a
1657  0454  C5          	push	bc
1658  0455  2A FF FF    	ld	hl,(_s_col1 - 1)
1659  0458  3A 00 00    	ld	a,(_s_lin1)
1660  045B  6F          	ld	l,a
1661  045C  E5          	push	hl
1662  045D  CD 00 00    	call	_enemy_init
1663  0460  F1          	pop	af
1664  0461  F1          	pop	af
1665  0462  C1          	pop	bc
1666  0463  21 00 00    	ld	hl,_tmp0
1667  0466  36 FF       	ld	(hl),0xff
1668  0468  18 B5       	jr	l_game_add_enemy_00104
1669  046A              l_game_add_enemy_00102:
1670  046A  21 00 00    	ld	hl,_tmp0
1671  046D  34          	inc	(hl)
1672  046E  18 AF       	jr	l_game_add_enemy_00104
1673  0470              l_game_add_enemy_00119:
1674  0470  3A 00 00    	ld	a,(_game_boss)
1675  0473  B7          	or	a, a
1676  0474  20 59       	jr	NZ,l_game_add_enemy_00115
1677  0476  3A 00 00    	ld	a,(_game_boss_alive)
1678  0479  B7          	or	a, a
1679  047A  28 53       	jr	Z,l_game_add_enemy_00115
1680  047C  3A 00 00    	ld	a,(_s_lin1)
1681  047F  32 00 00    	ld	(_boss_lin),a
1682  0482  3A 00 00    	ld	a,(_s_col1)
1683  0485  32 00 00    	ld	(_boss_col),a
1684  0488  3A 00 00    	ld	a,(_game_world)
1685  048B  B7          	or	a, a
1686  048C  28 10       	jr	Z,l_game_add_enemy_00107
1687  048E  3D          	dec	a
1688  048F  28 14       	jr	Z,l_game_add_enemy_00108
1689  0491  3A 00 00    	ld	a,(_game_world)
1690  0494  FE 02       	cp	a,0x02
1691  0496  28 14       	jr	Z,l_game_add_enemy_00109
1692  0498  D6 03       	sub	a,0x03
1693  049A  28 17       	jr	Z,l_game_add_enemy_00110
1694  049C  18 1A       	jr	l_game_add_enemy_00111
1695  049E              l_game_add_enemy_00107:
1696  049E  21 00 00    	ld	hl,_boss_tile
1697  04A1  36 C8       	ld	(hl),0xc8
1698  04A3  18 13       	jr	l_game_add_enemy_00111
1699  04A5              l_game_add_enemy_00108:
1700  04A5  21 00 00    	ld	hl,_boss_tile
1701  04A8  36 D8       	ld	(hl),0xd8
1702  04AA  18 0C       	jr	l_game_add_enemy_00111
1703  04AC              l_game_add_enemy_00109:
1704  04AC  21 00 00    	ld	hl,_boss_tile
1705  04AF  36 DC       	ld	(hl),0xdc
1706  04B1  18 05       	jr	l_game_add_enemy_00111
1707  04B3              l_game_add_enemy_00110:
1708  04B3  21 00 00    	ld	hl,_boss_tile
1709  04B6  36 E0       	ld	(hl),0xe0
1710  04B8              l_game_add_enemy_00111:
1711  04B8  21 00 00    	ld	hl,_boss_stat
1712  04BB  36 00       	ld	(hl),0x00
1713  04BD  21 00 00    	ld	hl,_boss_stat
1714  04C0  CD 00 00    	call	_spr_set_up
1715  04C3  21 00 00    	ld	hl,_game_boss
1716  04C6  36 01       	ld	(hl),0x01
1717  04C8  21 00 00    	ld	hl,_game_boss_hit
1718  04CB  36 08       	ld	(hl),0x08
1719  04CD  18 0A       	jr	l_game_add_enemy_00121
1720  04CF              l_game_add_enemy_00115:
1721  04CF  3A 00 00    	ld	a,(_game_boss)
1722  04D2  B7          	or	a, a
1723  04D3  C0          	ret	NZ
1724  04D4  21 00 00    	ld	hl,_game_boss_fix
1725  04D7  36 01       	ld	(hl),0x01
1726  04D9              l_game_add_enemy_00121:
1727  04D9  C9          	ret
1728  04DA              	SECTION code_compiler
1729  04DA              ;	---------------------------------
1730  04DA              ; Function game_print_footer
1731  04DA              ; ---------------------------------
1732  04DA              _game_print_footer:
1733  04DA  21 00 00    	ld	hl,_screen_ink
1734  04DD  36 05       	ld	(hl),0x05
1735  04DF  21 13 62    	ld	hl,0x6213
1736  04E2  E5          	push	hl
1737  04E3  CD 00 00    	call	_game_fill_row
1738  04E6  21 00 00    	ld	hl,___str_0
1739  04E9  E5          	push	hl
1740  04EA  21 13 00    	ld	hl,0x0013
1741  04ED  E5          	push	hl
1742  04EE  CD 00 00    	call	_zx_print_str
1743  04F1  21 02 00    	ld	hl,___str_1
1744  04F4  E5          	push	hl
1745  04F5  21 13 1F    	ld	hl,0x1f13
1746  04F8  E5          	push	hl
1747  04F9  CD 00 00    	call	_zx_print_str
1748  04FC  21 04 00    	ld	hl,___str_2
1749  04FF  E5          	push	hl
1750  0500  21 14 00    	ld	hl,0x0014
1751  0503  E5          	push	hl
1752  0504  CD 00 00    	call	_zx_print_str
1753  0507  21 06 00    	ld	hl,___str_3
1754  050A  E5          	push	hl
1755  050B  21 14 1F    	ld	hl,0x1f14
1756  050E  E5          	push	hl
1757  050F  CD 00 00    	call	_zx_print_str
1758  0512  21 04 00    	ld	hl,___str_2
1759  0515  E5          	push	hl
1760  0516  21 15 00    	ld	hl,0x0015
1761  0519  E5          	push	hl
1762  051A  CD 00 00    	call	_zx_print_str
1763  051D  21 06 00    	ld	hl,___str_3
1764  0520  E5          	push	hl
1765  0521  21 15 1F    	ld	hl,0x1f15
1766  0524  E5          	push	hl
1767  0525  CD 00 00    	call	_zx_print_str
1768  0528  21 04 00    	ld	hl,___str_2
1769  052B  E5          	push	hl
1770  052C  21 16 00    	ld	hl,0x0016
1771  052F  E5          	push	hl
1772  0530  CD 00 00    	call	_zx_print_str
1773  0533  21 06 00    	ld	hl,___str_3
1774  0536  E5          	push	hl
1775  0537  21 16 1F    	ld	hl,0x1f16
1776  053A  E5          	push	hl
1777  053B  CD 00 00    	call	_zx_print_str
1778  053E  21 17 62    	ld	hl,0x6217
1779  0541  E5          	push	hl
1780  0542  CD 00 00    	call	_game_fill_row
1781  0545  21 08 00    	ld	hl,___str_4
1782  0548  E5          	push	hl
1783  0549  21 17 00    	ld	hl,0x0017
1784  054C  E5          	push	hl
1785  054D  CD 00 00    	call	_zx_print_str
1786  0550  21 0A 00    	ld	hl,___str_5
1787  0553  E5          	push	hl
1788  0554  21 17 1F    	ld	hl,0x1f17
1789  0557  E5          	push	hl
1790  0558  CD 00 00    	call	_zx_print_str
1791  055B  21 00 00    	ld	hl,_screen_ink
1792  055E  36 05       	ld	(hl),0x05
1793  0560  21 0C 00    	ld	hl,___str_6
1794  0563  E5          	push	hl
1795  0564  21 14 01    	ld	hl,0x0114
1796  0567  E5          	push	hl
1797  0568  CD 00 00    	call	_zx_print_str
1798  056B  21 00 00    	ld	hl,_screen_ink
1799  056E  36 06       	ld	(hl),0x06
1800  0570  21 0E 00    	ld	hl,___str_7
1801  0573  E5          	push	hl
1802  0574  21 15 01    	ld	hl,0x0115
1803  0577  E5          	push	hl
1804  0578  CD 00 00    	call	_zx_print_str
1805  057B  21 00 00    	ld	hl,_screen_ink
1806  057E  36 42       	ld	(hl),0x42
1807  0580  21 10 00    	ld	hl,___str_8
1808  0583  E5          	push	hl
1809  0584  21 14 08    	ld	hl,0x0814
1810  0587  E5          	push	hl
1811  0588  CD 00 00    	call	_zx_print_str
1812  058B  21 00 00    	ld	hl,_screen_ink
1813  058E  36 03       	ld	(hl),0x03
1814  0590  21 12 00    	ld	hl,___str_9
1815  0593  E5          	push	hl
1816  0594  21 15 08    	ld	hl,0x0815
1817  0597  E5          	push	hl
1818  0598  CD 00 00    	call	_zx_print_str
1819  059B  21 00 00    	ld	hl,_screen_ink
1820  059E  36 47       	ld	(hl),0x47
1821  05A0  21 14 00    	ld	hl,___str_10
1822  05A3  E5          	push	hl
1823  05A4  21 14 0F    	ld	hl,0x0f14
1824  05A7  E5          	push	hl
1825  05A8  CD 00 00    	call	_zx_print_str
1826  05AB  21 00 00    	ld	hl,_screen_ink
1827  05AE  36 05       	ld	(hl),0x05
1828  05B0  21 16 00    	ld	hl,___str_11
1829  05B3  E5          	push	hl
1830  05B4  21 15 0F    	ld	hl,0x0f15
1831  05B7  E5          	push	hl
1832  05B8  CD 00 00    	call	_zx_print_str
1833  05BB  21 00 00    	ld	hl,_screen_ink
1834  05BE  36 45       	ld	(hl),0x45
1835  05C0  21 18 00    	ld	hl,___str_12
1836  05C3  E5          	push	hl
1837  05C4  21 14 15    	ld	hl,0x1514
1838  05C7  E5          	push	hl
1839  05C8  CD 00 00    	call	_zx_print_str
1840  05CB  21 00 00    	ld	hl,_screen_ink
1841  05CE  36 07       	ld	(hl),0x07
1842  05D0  21 1A 00    	ld	hl,___str_13
1843  05D3  E5          	push	hl
1844  05D4  21 15 15    	ld	hl,0x1515
1845  05D7  E5          	push	hl
1846  05D8  CD 00 00    	call	_zx_print_str
1847  05DB  21 1C 00    	ld	hl,___str_14
1848  05DE  E5          	push	hl
1849  05DF  21 17 14    	ld	hl,0x1417
1850  05E2  E5          	push	hl
1851  05E3  CD 00 00    	call	_zx_print_str
1852  05E6  21 00 00    	ld	hl,_screen_ink
1853  05E9  36 06       	ld	(hl),0x06
1854  05EB  21 21 00    	ld	hl,___str_15
1855  05EE  E5          	push	hl
1856  05EF  21 16 07    	ld	hl,0x0716
1857  05F2  E5          	push	hl
1858  05F3  CD 00 00    	call	_zx_print_str
1859  05F6  21 23 00    	ld	hl,___str_16
1860  05F9  E5          	push	hl
1861  05FA  21 16 0D    	ld	hl,0x0d16
1862  05FD  E5          	push	hl
1863  05FE  CD 00 00    	call	_zx_print_str
1864  0601  21 25 00    	ld	hl,___str_17
1865  0604  E5          	push	hl
1866  0605  21 16 13    	ld	hl,0x1316
1867  0608  E5          	push	hl
1868  0609  CD 00 00    	call	_zx_print_str
1869  060C  21 27 00    	ld	hl,___str_18
1870  060F  E5          	push	hl
1871  0610  21 16 19    	ld	hl,0x1916
1872  0613  E5          	push	hl
1873  0614  CD 00 00    	call	_zx_print_str
1874  0617  CD 3C 06    	call	_game_update_stats
1875  061A  C9          	ret
1876  061B              	SECTION rodata_compiler
1877  0000              ___str_0:
1878  0000  61          	DEFM "a"
1879  0001  00          	DEFB 0x00
1880  0002              	SECTION rodata_compiler
1881  0002              ___str_1:
1882  0002  63          	DEFM "c"
1883  0003  00          	DEFB 0x00
1884  0004              	SECTION rodata_compiler
1885  0004              ___str_2:
1886  0004  64          	DEFM "d"
1887  0005  00          	DEFB 0x00
1888  0006              	SECTION rodata_compiler
1889  0006              ___str_3:
1890  0006  65          	DEFM "e"
1891  0007  00          	DEFB 0x00
1892  0008              	SECTION rodata_compiler
1893  0008              ___str_4:
1894  0008  66          	DEFM "f"
1895  0009  00          	DEFB 0x00
1896  000A              	SECTION rodata_compiler
1897  000A              ___str_5:
1898  000A  67          	DEFM "g"
1899  000B  00          	DEFB 0x00
1900  000C              	SECTION rodata_compiler
1901  000C              ___str_6:
1902  000C  3C          	DEFM "<"
1903  000D  00          	DEFB 0x00
1904  000E              	SECTION rodata_compiler
1905  000E              ___str_7:
1906  000E  5C          	DEFB 0x5c
1907  000F  00          	DEFB 0x00
1908  0010              	SECTION rodata_compiler
1909  0010              ___str_8:
1910  0010  3E          	DEFM ">"
1911  0011  00          	DEFB 0x00
1912  0012              	SECTION rodata_compiler
1913  0012              ___str_9:
1914  0012  5E          	DEFM "^"
1915  0013  00          	DEFB 0x00
1916  0014              	SECTION rodata_compiler
1917  0014              ___str_10:
1918  0014  3F          	DEFM "?"
1919  0015  00          	DEFB 0x00
1920  0016              	SECTION rodata_compiler
1921  0016              ___str_11:
1922  0016  5F          	DEFM "_"
1923  0017  00          	DEFB 0x00
1924  0018              	SECTION rodata_compiler
1925  0018              ___str_12:
1926  0018  78          	DEFM "x"
1927  0019  00          	DEFB 0x00
1928  001A              	SECTION rodata_compiler
1929  001A              ___str_13:
1930  001A  79          	DEFM "y"
1931  001B  00          	DEFB 0x00
1932  001C              	SECTION rodata_compiler
1933  001C              ___str_14:
1934  001C  4C 50 53 3A 	DEFM "LPS:"
1935  0020  00          	DEFB 0x00
1936  0021              	SECTION rodata_compiler
1937  0021              ___str_15:
1938  0021  6C          	DEFM "l"
1939  0022  00          	DEFB 0x00
1940  0023              	SECTION rodata_compiler
1941  0023              ___str_16:
1942  0023  6D          	DEFM "m"
1943  0024  00          	DEFB 0x00
1944  0025              	SECTION rodata_compiler
1945  0025              ___str_17:
1946  0025  6E          	DEFM "n"
1947  0026  00          	DEFB 0x00
1948  0027              	SECTION rodata_compiler
1949  0027              ___str_18:
1950  0027  6F          	DEFM "o"
1951  0028  00          	DEFB 0x00
1952  0029              	SECTION code_compiler
1953  061B              ;	---------------------------------
1954  061B              ; Function game_print_score
1955  061B              ; ---------------------------------
1956  061B              _game_print_score:
1957  061B  21 00 00    	ld	hl,_screen_ink
1958  061E  36 07       	ld	(hl),0x07
1959  0620  21 00 00    	ld	hl,_screen_paper
1960  0623  36 00       	ld	(hl),0x00
1961  0625  2A 00 00    	ld	hl,(_player_score)
1962  0628  E5          	push	hl
1963  0629  21 14 17    	ld	hl,0x1714
1964  062C  E5          	push	hl
1965  062D  CD 00 00    	call	_zx_print_int
1966  0630  2A 00 00    	ld	hl,(_game_score_top)
1967  0633  E5          	push	hl
1968  0634  21 00 0E    	ld	hl,0x0e00
1969  0637  E5          	push	hl
1970  0638  CD 00 00    	call	_zx_print_int
1971  063B  C9          	ret
1972  063C              	SECTION code_compiler
1973  063C              ;	---------------------------------
1974  063C              ; Function game_update_stats
1975  063C              ; ---------------------------------
1976  063C              _game_update_stats:
1977  063C  21 00 00    	ld	hl,_screen_ink
1978  063F  36 07       	ld	(hl),0x07
1979  0641  3A 00 00    	ld	a,(_player_lives)
1980  0644  F5          	push	af
1981  0645  33          	inc	sp
1982  0646  21 14 03    	ld	hl,0x0314
1983  0649  E5          	push	hl
1984  064A  CD 00 00    	call	_zx_print_chr
1985  064D  3A 00 00    	ld	a,(_player_coins)
1986  0650  F5          	push	af
1987  0651  33          	inc	sp
1988  0652  21 16 09    	ld	hl,0x0916
1989  0655  E5          	push	hl
1990  0656  CD 00 00    	call	_zx_print_chr
1991  0659  3A 00 00    	ld	a,(_player_str)
1992  065C  F5          	push	af
1993  065D  33          	inc	sp
1994  065E  21 16 0F    	ld	hl,0x0f16
1995  0661  E5          	push	hl
1996  0662  CD 00 00    	call	_zx_print_chr
1997  0665  3A 00 00    	ld	a,(_player_int)
1998  0668  F5          	push	af
1999  0669  33          	inc	sp
2000  066A  21 16 15    	ld	hl,0x1516
2001  066D  E5          	push	hl
2002  066E  CD 00 00    	call	_zx_print_chr
2003  0671  3A 00 00    	ld	a,(_player_lvl)
2004  0674  F5          	push	af
2005  0675  33          	inc	sp
2006  0676  21 16 1B    	ld	hl,0x1b16
2007  0679  E5          	push	hl
2008  067A  CD 00 00    	call	_zx_print_chr
2009  067D  21 00 00    	ld	hl,_screen_ink
2010  0680  36 02       	ld	(hl),0x02
2011  0682  3A 00 00    	ld	a,(_player_vita)
2012  0685  F5          	push	af
2013  0686  33          	inc	sp
2014  0687  21 14 0A    	ld	hl,0x0a14
2015  068A  E5          	push	hl
2016  068B  CD 00 00    	call	_zx_print_chr
2017  068E  21 00 00    	ld	hl,_screen_ink
2018  0691  36 01       	ld	(hl),0x01
2019  0693  3A 00 00    	ld	a,(_player_mana)
2020  0696  F5          	push	af
2021  0697  33          	inc	sp
2022  0698  21 14 11    	ld	hl,0x1114
2023  069B  E5          	push	hl
2024  069C  CD 00 00    	call	_zx_print_chr
2025  069F  3A 00 00    	ld	a,(_game_boss)
2026  06A2  B7          	or	a, a
2027  06A3  28 46       	jr	Z,l_game_update_stats_00106
2028  06A5  21 13 10    	ld	hl,0x1013
2029  06A8  E5          	push	hl
2030  06A9  3E 0B       	ld	a,0x0b
2031  06AB  F5          	push	af
2032  06AC  33          	inc	sp
2033  06AD  CD 81 0A    	call	_game_paint_attrib_lin_osd
2034  06B0  F1          	pop	af
2035  06B1  33          	inc	sp
2036  06B2  21 00 00    	ld	hl,_tmp0
2037  06B5  36 00       	ld	(hl),0x00
2038  06B7              l_game_update_stats_00115:
2039  06B7  21 00 00    	ld	hl,_tmp0
2040  06BA  7E          	ld	a, (hl)
2041  06BB  C6 0B       	add	a,0x0b
2042  06BD  47          	ld	b, a
2043  06BE  7E          	ld	a, (hl)
2044  06BF  21 00 00    	ld	hl,_game_boss_hit
2045  06C2  96          	sub	a, (hl)
2046  06C3  30 0F       	jr	NC,l_game_update_stats_00102
2047  06C5  21 29 00    	ld	hl,___str_19
2048  06C8  E5          	push	hl
2049  06C9  C5          	push	bc
2050  06CA  33          	inc	sp
2051  06CB  3E 01       	ld	a,0x01
2052  06CD  F5          	push	af
2053  06CE  33          	inc	sp
2054  06CF  CD 00 00    	call	_zx_print_str
2055  06D2  18 0D       	jr	l_game_update_stats_00116
2056  06D4              l_game_update_stats_00102:
2057  06D4  21 2B 00    	ld	hl,___str_20
2058  06D7  E5          	push	hl
2059  06D8  C5          	push	bc
2060  06D9  33          	inc	sp
2061  06DA  3E 01       	ld	a,0x01
2062  06DC  F5          	push	af
2063  06DD  33          	inc	sp
2064  06DE  CD 00 00    	call	_zx_print_str
2065  06E1              l_game_update_stats_00116:
2066  06E1  21 00 00    	ld	hl,_tmp0
2067  06E4  7E          	ld	a,(hl)
2068  06E5  3C          	inc	a
2069  06E6  77          	ld	(hl),a
2070  06E7  D6 08       	sub	a,0x08
2071  06E9  38 CC       	jr	C,l_game_update_stats_00115
2072  06EB              l_game_update_stats_00106:
2073  06EB  3A 00 00    	ld	a,(_player_keys)
2074  06EE  B7          	or	a, a
2075  06EF  28 10       	jr	Z,l_game_update_stats_00108
2076  06F1  21 00 00    	ld	hl,_screen_ink
2077  06F4  36 07       	ld	(hl),0x07
2078  06F6  21 2D 00    	ld	hl,___str_21
2079  06F9  E5          	push	hl
2080  06FA  21 16 02    	ld	hl,0x0216
2081  06FD  E5          	push	hl
2082  06FE  CD 00 00    	call	_zx_print_str
2083  0701              l_game_update_stats_00108:
2084  0701  3A 01 00    	ld	a, (_player_keys + 1)
2085  0704  B7          	or	a, a
2086  0705  28 10       	jr	Z,l_game_update_stats_00110
2087  0707  21 00 00    	ld	hl,_screen_ink
2088  070A  36 02       	ld	(hl),0x02
2089  070C  21 2D 00    	ld	hl,___str_21
2090  070F  E5          	push	hl
2091  0710  21 16 03    	ld	hl,0x0316
2092  0713  E5          	push	hl
2093  0714  CD 00 00    	call	_zx_print_str
2094  0717              l_game_update_stats_00110:
2095  0717  3A 02 00    	ld	a, (_player_keys + 2)
2096  071A  B7          	or	a, a
2097  071B  28 10       	jr	Z,l_game_update_stats_00112
2098  071D  21 00 00    	ld	hl,_screen_ink
2099  0720  36 04       	ld	(hl),0x04
2100  0722  21 2D 00    	ld	hl,___str_21
2101  0725  E5          	push	hl
2102  0726  21 16 04    	ld	hl,0x0416
2103  0729  E5          	push	hl
2104  072A  CD 00 00    	call	_zx_print_str
2105  072D              l_game_update_stats_00112:
2106  072D  3A 03 00    	ld	a, (_player_keys + 3)
2107  0730  B7          	or	a, a
2108  0731  C8          	ret	Z
2109  0732  21 00 00    	ld	hl,_screen_ink
2110  0735  36 05       	ld	(hl),0x05
2111  0737  21 2D 00    	ld	hl,___str_21
2112  073A  E5          	push	hl
2113  073B  21 16 05    	ld	hl,0x0516
2114  073E  E5          	push	hl
2115  073F  CD 00 00    	call	_zx_print_str
2116  0742  C9          	ret
2117  0743              	SECTION rodata_compiler
2118  0029              ___str_19:
2119  0029  2A          	DEFM "*"
2120  002A  00          	DEFB 0x00
2121  002B              	SECTION rodata_compiler
2122  002B              ___str_20:
2123  002B  20          	DEFM " "
2124  002C  00          	DEFB 0x00
2125  002D              	SECTION rodata_compiler
2126  002D              ___str_21:
2127  002D  5D          	DEFM "]"
2128  002E  00          	DEFB 0x00
2129  002F              	SECTION code_compiler
2130  0743              ;	---------------------------------
2131  0743              ; Function game_tick
2132  0743              ; ---------------------------------
2133  0743              _game_tick:
2134  0743  21 00 00    	ld	hl,_curr_time
2135  0746  34          	inc	(hl)
2136  0747  C2 00 00    	jp	NZ,_zx_isr
2137  074A  23          	inc	hl
2138  074B  34          	inc	(hl)
2139  074C  C3 00 00    	jp  _zx_isr
2140  074F              	SECTION code_compiler
2141  074F              ;	---------------------------------
2142  074F              ; Function game_start_timer
2143  074F              ; ---------------------------------
2144  074F              _game_start_timer:
2145  074F  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2146  0752  36 CD       	ld	(hl),0xcd
2147  0754  23          	inc	hl
2148  0755  11 43 07    	ld	de,_game_tick
2149  0758  73          	ld	(hl), e
2150  0759  23          	inc	hl
2151  075A  72          	ld	(hl), d
2152  075B  C9          	ret
2153  075C              	SECTION code_compiler
2154  075C              ;	---------------------------------
2155  075C              ; Function game_round_init
2156  075C              ; ---------------------------------
2157  075C              _game_round_init:
2158  075C  CD 00 00    	call	_ay_reset
2159  075F  21 00 00    	ld	hl,0x0000
2160  0762  22 00 00    	ld	(_loop_count),hl
2161  0765  21 00 00    	ld	hl,0
2162  0768  22 00 00    	ld	(_curr_time),hl
2163  076B  21 00 00    	ld	hl,0x0000
2164  076E  22 00 00    	ld	(_frame_time),hl
2165  0771  CD 00 00    	call	_spr_init_effects
2166  0774  CD 6F 08    	call	_game_print_header
2167  0777  CD DA 04    	call	_game_print_footer
2168  077A  CD 00 00    	call	_spr_page_map
2169  077D  CD 89 01    	call	_game_draw_screen
2170  0780  3A 00 00    	ld	a,(_game_over)
2171  0783  B7          	or	a, a
2172  0784  20 10       	jr	NZ,l_game_round_init_00102
2173  0786  2A 00 00    	ld	hl,(_player_col_scr)
2174  0789  26 70       	ld	h,0x70
2175  078B  3A 00 00    	ld	a,(_player_lin_scr)
2176  078E  E5          	push	hl
2177  078F  F5          	push	af
2178  0790  33          	inc	sp
2179  0791  CD 00 00    	call	_player_init
2180  0794  F1          	pop	af
2181  0795  33          	inc	sp
2182  0796              l_game_round_init_00102:
2183  0796  CD 3C 06    	call	_game_update_stats
2184  0799  21 32 00    	ld	hl,0x0032
2185  079C  CD 00 00    	call	_z80_delay_ms_fastcall
2186  079F  3A 00 00    	ld	a,(_game_world)
2187  07A2  B7          	or	a, a
2188  07A3  28 12       	jr	Z,l_game_round_init_00103
2189  07A5  3D          	dec	a
2190  07A6  28 3E       	jr	Z,l_game_round_init_00104
2191  07A8  3A 00 00    	ld	a,(_game_world)
2192  07AB  FE 02       	cp	a,0x02
2193  07AD  28 65       	jr	Z,l_game_round_init_00105
2194  07AF  D6 03       	sub	a,0x03
2195  07B1  CA 42 08    	jp	Z,l_game_round_init_00106
2196  07B4  C3 6E 08    	jp	l_game_round_init_00108
2197  07B7              l_game_round_init_00103:
2198  07B7  21 17 68    	ld	hl,0x6817
2199  07BA  E5          	push	hl
2200  07BB  3E 06       	ld	a,0x06
2201  07BD  F5          	push	af
2202  07BE  33          	inc	sp
2203  07BF  CD 81 0A    	call	_game_paint_attrib_lin_osd
2204  07C2  33          	inc	sp
2205  07C3  21 2F 00    	ld	hl,___str_22
2206  07C6  E3          	ex	(sp),hl
2207  07C7  21 0C 06    	ld	hl,0x060c
2208  07CA  E5          	push	hl
2209  07CB  CD 00 00    	call	_zx_print_str
2210  07CE  AF          	xor	a, a
2211  07CF  F5          	push	af
2212  07D0  33          	inc	sp
2213  07D1  21 19 00    	ld	hl,0x0019
2214  07D4  E5          	push	hl
2215  07D5  21 06 17    	ld	hl,0x1706
2216  07D8  E5          	push	hl
2217  07D9  3E 0C       	ld	a,0x0c
2218  07DB  F5          	push	af
2219  07DC  33          	inc	sp
2220  07DD  CD A8 0A    	call	_game_colour_message
2221  07E0  F1          	pop	af
2222  07E1  F1          	pop	af
2223  07E2  F1          	pop	af
2224  07E3  C3 6E 08    	jp	l_game_round_init_00108
2225  07E6              l_game_round_init_00104:
2226  07E6  21 13 68    	ld	hl,0x6813
2227  07E9  E5          	push	hl
2228  07EA  3E 06       	ld	a,0x06
2229  07EC  F5          	push	af
2230  07ED  33          	inc	sp
2231  07EE  CD 81 0A    	call	_game_paint_attrib_lin_osd
2232  07F1  33          	inc	sp
2233  07F2  21 41 00    	ld	hl,___str_23
2234  07F5  E3          	ex	(sp),hl
2235  07F6  21 0C 06    	ld	hl,0x060c
2236  07F9  E5          	push	hl
2237  07FA  CD 00 00    	call	_zx_print_str
2238  07FD  AF          	xor	a, a
2239  07FE  F5          	push	af
2240  07FF  33          	inc	sp
2241  0800  21 19 00    	ld	hl,0x0019
2242  0803  E5          	push	hl
2243  0804  21 06 13    	ld	hl,0x1306
2244  0807  E5          	push	hl
2245  0808  3E 0C       	ld	a,0x0c
2246  080A  F5          	push	af
2247  080B  33          	inc	sp
2248  080C  CD A8 0A    	call	_game_colour_message
2249  080F  F1          	pop	af
2250  0810  F1          	pop	af
2251  0811  F1          	pop	af
2252  0812  18 5A       	jr	l_game_round_init_00108
2253  0814              l_game_round_init_00105:
2254  0814  21 14 68    	ld	hl,0x6814
2255  0817  E5          	push	hl
2256  0818  3E 06       	ld	a,0x06
2257  081A  F5          	push	af
2258  081B  33          	inc	sp
2259  081C  CD 81 0A    	call	_game_paint_attrib_lin_osd
2260  081F  33          	inc	sp
2261  0820  21 4F 00    	ld	hl,___str_24
2262  0823  E3          	ex	(sp),hl
2263  0824  21 0C 06    	ld	hl,0x060c
2264  0827  E5          	push	hl
2265  0828  CD 00 00    	call	_zx_print_str
2266  082B  AF          	xor	a, a
2267  082C  F5          	push	af
2268  082D  33          	inc	sp
2269  082E  21 19 00    	ld	hl,0x0019
2270  0831  E5          	push	hl
2271  0832  21 06 14    	ld	hl,0x1406
2272  0835  E5          	push	hl
2273  0836  3E 0C       	ld	a,0x0c
2274  0838  F5          	push	af
2275  0839  33          	inc	sp
2276  083A  CD A8 0A    	call	_game_colour_message
2277  083D  F1          	pop	af
2278  083E  F1          	pop	af
2279  083F  F1          	pop	af
2280  0840  18 2C       	jr	l_game_round_init_00108
2281  0842              l_game_round_init_00106:
2282  0842  21 17 68    	ld	hl,0x6817
2283  0845  E5          	push	hl
2284  0846  3E 06       	ld	a,0x06
2285  0848  F5          	push	af
2286  0849  33          	inc	sp
2287  084A  CD 81 0A    	call	_game_paint_attrib_lin_osd
2288  084D  33          	inc	sp
2289  084E  21 5E 00    	ld	hl,___str_25
2290  0851  E3          	ex	(sp),hl
2291  0852  21 0C 06    	ld	hl,0x060c
2292  0855  E5          	push	hl
2293  0856  CD 00 00    	call	_zx_print_str
2294  0859  AF          	xor	a, a
2295  085A  F5          	push	af
2296  085B  33          	inc	sp
2297  085C  21 19 00    	ld	hl,0x0019
2298  085F  E5          	push	hl
2299  0860  21 06 17    	ld	hl,0x1706
2300  0863  E5          	push	hl
2301  0864  3E 0C       	ld	a,0x0c
2302  0866  F5          	push	af
2303  0867  33          	inc	sp
2304  0868  CD A8 0A    	call	_game_colour_message
2305  086B  F1          	pop	af
2306  086C  F1          	pop	af
2307  086D  F1          	pop	af
2308  086E              l_game_round_init_00108:
2309  086E  C9          	ret
2310  086F              	SECTION rodata_compiler
2311  002F              ___str_22:
2312  002F  57 4F 52 4C 44 20 31 20 54 48 45 20 53 48 49 52 45 
                        	DEFM "WORLD 1 THE SHIRE"
2313  0040  00          	DEFB 0x00
2314  0041              	SECTION rodata_compiler
2315  0041              ___str_23:
2316  0041  57 4F 52 4C 44 20 32 20 4D 4F 52 49 41 
                        	DEFM "WORLD 2 MORIA"
2317  004E  00          	DEFB 0x00
2318  004F              	SECTION rodata_compiler
2319  004F              ___str_24:
2320  004F  57 4F 52 4C 44 20 31 20 4D 4F 52 44 4F 52 
                        	DEFM "WORLD 1 MORDOR"
2321  005D  00          	DEFB 0x00
2322  005E              	SECTION rodata_compiler
2323  005E              ___str_25:
2324  005E  57 4F 52 4C 44 20 32 20 42 41 52 41 44 20 44 55 52 
                        	DEFM "WORLD 2 BARAD DUR"
2325  006F  00          	DEFB 0x00
2326  0070              	SECTION code_compiler
2327  086F              ;	---------------------------------
2328  086F              ; Function game_print_header
2329  086F              ; ---------------------------------
2330  086F              _game_print_header:
2331  086F  21 00 00    	ld	hl,_screen_ink
2332  0872  36 02       	ld	(hl),0x02
2333  0874  21 70 00    	ld	hl,___str_26
2334  0877  E5          	push	hl
2335  0878  21 00 0B    	ld	hl,0x0b00
2336  087B  E5          	push	hl
2337  087C  CD 00 00    	call	_zx_print_str
2338  087F  21 00 00    	ld	hl,_screen_ink
2339  0882  36 07       	ld	(hl),0x07
2340  0884  CD 1B 06    	call	_game_print_score
2341  0887  C9          	ret
2342  0888              	SECTION rodata_compiler
2343  0070              ___str_26:
2344  0070  24 25 7C    	DEFM "$%|"
2345  0073  00          	DEFB 0x00
2346  0074              	SECTION code_compiler
2347  0888              ;	---------------------------------
2348  0888              ; Function game_check_map
2349  0888              ; ---------------------------------
2350  0888              _game_check_map:
2351  0888  CD 00 00    	call	___sdcc_enter_ix
2352  088B  DD CB 05 46 	bit	0,(ix+5)
2353  088F  20 18       	jr	NZ,l_game_check_map_00108
2354  0891  DD 66 05    	ld	h,(ix+5)
2355  0894  DD 6E 04    	ld	l,(ix+4)
2356  0897  E5          	push	hl
2357  0898  CD 00 00    	call	_spr_calc_index
2358  089B  F1          	pop	af
2359  089C  22 00 00    	ld	(_index1),hl
2360  089F  21 00 00    	ld	hl,_index1
2361  08A2  CD 04 09    	call	_game_check_cell
2362  08A5  26 00       	ld	h,0x00
2363  08A7  18 58       	jr	l_game_check_map_00110
2364  08A9              l_game_check_map_00108:
2365  08A9  21 00 00    	ld	hl,_g_player_hit_left
2366  08AC  36 00       	ld	(hl),0x00
2367  08AE  21 00 00    	ld	hl,_g_player_hit_right
2368  08B1  36 00       	ld	(hl),0x00
2369  08B3  DD 46 05    	ld	b,(ix+5)
2370  08B6  05          	dec	b
2371  08B7  DD 4E 04    	ld	c,(ix+4)
2372  08BA  C5          	push	bc
2373  08BB  CD 00 00    	call	_spr_calc_index
2374  08BE  F1          	pop	af
2375  08BF  22 00 00    	ld	(_index1),hl
2376  08C2  21 00 00    	ld	hl,_index1
2377  08C5  CD 04 09    	call	_game_check_cell
2378  08C8  7D          	ld	a, l
2379  08C9  B7          	or	a, a
2380  08CA  28 05       	jr	Z,l_game_check_map_00102
2381  08CC  21 00 00    	ld	hl,_g_player_hit_left
2382  08CF  36 01       	ld	(hl),0x01
2383  08D1              l_game_check_map_00102:
2384  08D1  3A 00 00    	ld	a,(_g_player_hit_left)
2385  08D4  B7          	or	a, a
2386  08D5  20 17       	jr	NZ,l_game_check_map_00106
2387  08D7  21 00 00    	ld	hl,_index1
2388  08DA  34          	inc	(hl)
2389  08DB  20 02       	jr	NZ,l_game_check_map_00141
2390  08DD  23          	inc	hl
2391  08DE  34          	inc	(hl)
2392  08DF              l_game_check_map_00141:
2393  08DF  21 00 00    	ld	hl,_index1
2394  08E2  CD 04 09    	call	_game_check_cell
2395  08E5  7D          	ld	a, l
2396  08E6  B7          	or	a, a
2397  08E7  28 05       	jr	Z,l_game_check_map_00106
2398  08E9  21 00 00    	ld	hl,_g_player_hit_right
2399  08EC  36 01       	ld	(hl),0x01
2400  08EE              l_game_check_map_00106:
2401  08EE  3A 00 00    	ld	a,(_g_player_hit_left)
2402  08F1  B7          	or	a, a
2403  08F2  20 09       	jr	NZ,l_game_check_map_00113
2404  08F4  3A 00 00    	ld	a,(_g_player_hit_right)
2405  08F7  B7          	or	a,a
2406  08F8  20 03       	jr	NZ,l_game_check_map_00113
2407  08FA  6F          	ld	l,a
2408  08FB  18 02       	jr	l_game_check_map_00114
2409  08FD              l_game_check_map_00113:
2410  08FD  2E 01       	ld	l,0x01
2411  08FF              l_game_check_map_00114:
2412  08FF  26 00       	ld	h,0x00
2413  0901              l_game_check_map_00110:
2414  0901  DD E1       	pop	ix
2415  0903  C9          	ret
2416  0904              	SECTION code_compiler
2417  0904              ;	---------------------------------
2418  0904              ; Function game_check_cell
2419  0904              ; ---------------------------------
2420  0904              _game_check_cell:
2421  0904  CD 00 00    	call	___sdcc_enter_ix
2422  0907  F5          	push	af
2423  0908  3B          	dec	sp
2424  0909  11 FE FF    	ld	de,-2
2425  090C  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
2426  090F  3E A0       	ld	a,0xa0
2427  0911  DD BE FE    	cp	a,(ix-2)
2428  0914  3E 00       	ld	a,0x00
2429  0916  DD 9E FF    	sbc	a,(ix-1)
2430  0919  30 05       	jr	NC,l_game_check_cell_00102
2431  091B  2E 01       	ld	l,0x01
2432  091D  C3 2E 0A    	jp	l_game_check_cell_00156
2433  0920              l_game_check_cell_00102:
2434  0920  01 00 00    	ld	bc,_scr_map+0
2435  0923  DD 6E FE    	ld	l,(ix-2)
2436  0926  DD 66 FF    	ld	h,(ix-1)
2437  0929  09          	add	hl, bc
2438  092A  4E          	ld	c, (hl)
2439  092B  3A 00 00    	ld	a,(_sprite)
2440  092E  D6 07       	sub	a,0x07
2441  0930  20 04       	jr	NZ,l_game_check_cell_00246
2442  0932  3E 01       	ld	a,0x01
2443  0934  18 01       	jr	l_game_check_cell_00247
2444  0936              l_game_check_cell_00246:
2445  0936  AF          	xor	a,a
2446  0937              l_game_check_cell_00247:
2447  0937  DD 77 FD    	ld	(ix-3),a
2448  093A  79          	ld	a, c
2449  093B  D6 44       	sub	a,0x44
2450  093D  3E 00       	ld	a,0x00
2451  093F  17          	rla
2452  0940  47          	ld	b, a
2453  0941  DD CB FD 46 	bit	0,(ix-3)
2454  0945  C2 CD 09    	jp	NZ, l_game_check_cell_00134
2455  0948  2A 00 00    	ld	hl,(_sprite)
2456  094B  26 00       	ld	h,0x00
2457  094D  11 00 00    	ld	de,_class
2458  0950  19          	add	hl,de
2459  0951  5E          	ld	e, (hl)
2460  0952  16 00       	ld	d,0x00
2461  0954  21 00 00    	ld	hl,_sprite_kind
2462  0957  19          	add	hl, de
2463  0958  7E          	ld	a,(hl)
2464  0959  57          	ld	d,a
2465  095A  D6 05       	sub	a,0x05
2466  095C  20 04       	jr	NZ,l_game_check_cell_00104
2467  095E  6F          	ld	l,a
2468  095F  C3 2E 0A    	jp	l_game_check_cell_00156
2469  0962              l_game_check_cell_00104:
2470  0962  79          	ld	a, c
2471  0963  D6 80       	sub	a,0x80
2472  0965  38 05       	jr	C,l_game_check_cell_00106
2473  0967  2E 00       	ld	l,0x00
2474  0969  C3 2E 0A    	jp	l_game_check_cell_00156
2475  096C              l_game_check_cell_00106:
2476  096C  79          	ld	a, c
2477  096D  D6 23       	sub	a,0x23
2478  096F  20 05       	jr	NZ,l_game_check_cell_00108
2479  0971  2E 01       	ld	l,0x01
2480  0973  C3 2E 0A    	jp	l_game_check_cell_00156
2481  0976              l_game_check_cell_00108:
2482  0976  7A          	ld	a,d
2483  0977  FE 02       	cp	a,0x02
2484  0979  28 04       	jr	Z,l_game_check_cell_00121
2485  097B  D6 06       	sub	a,0x06
2486  097D  20 2E       	jr	NZ,l_game_check_cell_00122
2487  097F              l_game_check_cell_00121:
2488  097F  7B          	ld	a,e
2489  0980  FE 09       	cp	a,0x09
2490  0982  28 04       	jr	Z,l_game_check_cell_00117
2491  0984  D6 0A       	sub	a,0x0a
2492  0986  20 0E       	jr	NZ,l_game_check_cell_00118
2493  0988              l_game_check_cell_00117:
2494  0988  3E 3A       	ld	a,0x3a
2495  098A  91          	sub	a, c
2496  098B  38 05       	jr	C,l_game_check_cell_00110
2497  098D  2E 00       	ld	l,0x00
2498  098F  C3 2E 0A    	jp	l_game_check_cell_00156
2499  0992              l_game_check_cell_00110:
2500  0992  69          	ld	l, c
2501  0993  C3 2E 0A    	jp	l_game_check_cell_00156
2502  0996              l_game_check_cell_00118:
2503  0996  3E 2F       	ld	a,0x2f
2504  0998  91          	sub	a, c
2505  0999  30 09       	jr	NC,l_game_check_cell_00112
2506  099B  CB 40       	bit	0, b
2507  099D  20 0A       	jr	NZ,l_game_check_cell_00113
2508  099F  3E 47       	ld	a,0x47
2509  09A1  91          	sub	a, c
2510  09A2  38 05       	jr	C,l_game_check_cell_00113
2511  09A4              l_game_check_cell_00112:
2512  09A4  2E 00       	ld	l,0x00
2513  09A6  C3 2E 0A    	jp	l_game_check_cell_00156
2514  09A9              l_game_check_cell_00113:
2515  09A9  69          	ld	l, c
2516  09AA  C3 2E 0A    	jp	l_game_check_cell_00156
2517  09AD              l_game_check_cell_00122:
2518  09AD  7A          	ld	a, d
2519  09AE  3D          	dec	a
2520  09AF  28 05       	jr	Z,l_game_check_cell_00130
2521  09B1  7A          	ld	a, d
2522  09B2  D6 03       	sub	a,0x03
2523  09B4  20 17       	jr	NZ,l_game_check_cell_00134
2524  09B6              l_game_check_cell_00130:
2525  09B6  3A 00 00    	ld	a,(_sprite_horizontal_check)
2526  09B9  B7          	or	a, a
2527  09BA  28 04       	jr	Z,l_game_check_cell_00125
2528  09BC  1E 48       	ld	e,0x48
2529  09BE  18 02       	jr	l_game_check_cell_00126
2530  09C0              l_game_check_cell_00125:
2531  09C0  1E 3A       	ld	e,0x3a
2532  09C2              l_game_check_cell_00126:
2533  09C2  7B          	ld	a, e
2534  09C3  91          	sub	a, c
2535  09C4  38 04       	jr	C,l_game_check_cell_00128
2536  09C6  2E 00       	ld	l,0x00
2537  09C8  18 64       	jr	l_game_check_cell_00156
2538  09CA              l_game_check_cell_00128:
2539  09CA  69          	ld	l, c
2540  09CB  18 61       	jr	l_game_check_cell_00156
2541  09CD              l_game_check_cell_00134:
2542  09CD  79          	ld	a, c
2543  09CE  D6 3A       	sub	a,0x3a
2544  09D0  30 04       	jr	NC,l_game_check_cell_00136
2545  09D2  2E 00       	ld	l,0x00
2546  09D4  18 58       	jr	l_game_check_cell_00156
2547  09D6              l_game_check_cell_00136:
2548  09D6  3A 00 00    	ld	a,(_s_state)
2549  09D9  E6 02       	and	a,0x02
2550  09DB  5F          	ld	e, a
2551  09DC  CB 40       	bit	0, b
2552  09DE  28 0C       	jr	Z,l_game_check_cell_00141
2553  09E0  7B          	ld	a, e
2554  09E1  B7          	or	a, a
2555  09E2  28 04       	jr	Z,l_game_check_cell_00138
2556  09E4  2E 01       	ld	l,0x01
2557  09E6  18 46       	jr	l_game_check_cell_00156
2558  09E8              l_game_check_cell_00138:
2559  09E8  2E 00       	ld	l,0x00
2560  09EA  18 42       	jr	l_game_check_cell_00156
2561  09EC              l_game_check_cell_00141:
2562  09EC  79          	ld	a, c
2563  09ED  D6 48       	sub	a,0x48
2564  09EF  30 16       	jr	NC,l_game_check_cell_00149
2565  09F1  3A 00 00    	ld	a,(_sprite_horizontal_check)
2566  09F4  B7          	or	a, a
2567  09F5  28 04       	jr	Z,l_game_check_cell_00146
2568  09F7  2E 00       	ld	l,0x00
2569  09F9  18 33       	jr	l_game_check_cell_00156
2570  09FB              l_game_check_cell_00146:
2571  09FB  7B          	ld	a, e
2572  09FC  B7          	or	a, a
2573  09FD  28 04       	jr	Z,l_game_check_cell_00143
2574  09FF  2E 01       	ld	l,0x01
2575  0A01  18 2B       	jr	l_game_check_cell_00156
2576  0A03              l_game_check_cell_00143:
2577  0A03  2E 00       	ld	l,0x00
2578  0A05  18 27       	jr	l_game_check_cell_00156
2579  0A07              l_game_check_cell_00149:
2580  0A07  79          	ld	a, c
2581  0A08  D6 4C       	sub	a,0x4c
2582  0A0A  30 17       	jr	NC,l_game_check_cell_00153
2583  0A0C  DD CB FD 46 	bit	0,(ix-3)
2584  0A10  28 11       	jr	Z,l_game_check_cell_00153
2585  0A12  79          	ld	a, c
2586  0A13  F5          	push	af
2587  0A14  33          	inc	sp
2588  0A15  C1          	pop	bc
2589  0A16  E1          	pop	hl
2590  0A17  E5          	push	hl
2591  0A18  C5          	push	bc
2592  0A19  E5          	push	hl
2593  0A1A  CD 00 00    	call	_player_open_door
2594  0A1D  F1          	pop	af
2595  0A1E  33          	inc	sp
2596  0A1F  2E 01       	ld	l,0x01
2597  0A21  18 0B       	jr	l_game_check_cell_00156
2598  0A23              l_game_check_cell_00153:
2599  0A23  79          	ld	a, c
2600  0A24  D6 60       	sub	a,0x60
2601  0A26  30 04       	jr	NC,l_game_check_cell_00155
2602  0A28  2E 01       	ld	l,0x01
2603  0A2A  18 02       	jr	l_game_check_cell_00156
2604  0A2C              l_game_check_cell_00155:
2605  0A2C  2E 00       	ld	l,0x00
2606  0A2E              l_game_check_cell_00156:
2607  0A2E  DD F9       	ld	sp, ix
2608  0A30  DD E1       	pop	ix
2609  0A32  C9          	ret
2610  0A33              	SECTION code_compiler
2611  0A33              ;	---------------------------------
2612  0A33              ; Function game_paint_attrib_lin
2613  0A33              ; ---------------------------------
2614  0A33              _game_paint_attrib_lin:
2615  0A33  CD 00 00    	call	___sdcc_enter_ix
2616  0A36  DD 7E 04    	ld	a,(ix+4)
2617  0A39  32 00 00    	ld	(_tmp_uc),a
2618  0A3C              l_game_paint_attrib_lin_00103:
2619  0A3C  21 00 00    	ld	hl,_tmp_uc
2620  0A3F  7E          	ld	a, (hl)
2621  0A40  DD 96 05    	sub	a,(ix+5)
2622  0A43  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2623  0A45  66          	ld	h,(hl)
2624  0A46  DD 6E 06    	ld	l,(ix+6)
2625  0A49  E5          	push	hl
2626  0A4A  21 00 00    	ld	hl,_attrib
2627  0A4D  E5          	push	hl
2628  0A4E  CD 00 00    	call	_NIRVANAP_paintC_callee
2629  0A51  21 00 00    	ld	hl,_tmp_uc
2630  0A54  34          	inc	(hl)
2631  0A55  18 E5       	jr	l_game_paint_attrib_lin_00103
2632  0A57              l_game_paint_attrib_lin_00105:
2633  0A57  DD E1       	pop	ix
2634  0A59  C9          	ret
2635  0A5A              	SECTION code_compiler
2636  0A5A              ;	---------------------------------
2637  0A5A              ; Function game_paint_attrib_lin_h
2638  0A5A              ; ---------------------------------
2639  0A5A              _game_paint_attrib_lin_h:
2640  0A5A  CD 00 00    	call	___sdcc_enter_ix
2641  0A5D  DD 7E 04    	ld	a,(ix+4)
2642  0A60  32 00 00    	ld	(_tmp_uc),a
2643  0A63              l_game_paint_attrib_lin_h_00103:
2644  0A63  21 00 00    	ld	hl,_tmp_uc
2645  0A66  7E          	ld	a, (hl)
2646  0A67  DD 96 05    	sub	a,(ix+5)
2647  0A6A  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2648  0A6C  66          	ld	h,(hl)
2649  0A6D  DD 6E 06    	ld	l,(ix+6)
2650  0A70  E5          	push	hl
2651  0A71  21 00 00    	ld	hl,_attrib_hl
2652  0A74  E5          	push	hl
2653  0A75  CD 00 00    	call	_NIRVANAP_paintC_callee
2654  0A78  21 00 00    	ld	hl,_tmp_uc
2655  0A7B  34          	inc	(hl)
2656  0A7C  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2657  0A7E              l_game_paint_attrib_lin_h_00105:
2658  0A7E  DD E1       	pop	ix
2659  0A80  C9          	ret
2660  0A81              	SECTION code_compiler
2661  0A81              ;	---------------------------------
2662  0A81              ; Function game_paint_attrib_lin_osd
2663  0A81              ; ---------------------------------
2664  0A81              _game_paint_attrib_lin_osd:
2665  0A81  CD 00 00    	call	___sdcc_enter_ix
2666  0A84  DD 7E 04    	ld	a,(ix+4)
2667  0A87  32 00 00    	ld	(_tmp_uc),a
2668  0A8A              l_game_paint_attrib_lin_osd_00103:
2669  0A8A  21 00 00    	ld	hl,_tmp_uc
2670  0A8D  7E          	ld	a, (hl)
2671  0A8E  DD 96 05    	sub	a,(ix+5)
2672  0A91  30 12       	jr	NC,l_game_paint_attrib_lin_osd_00105
2673  0A93  66          	ld	h,(hl)
2674  0A94  DD 6E 06    	ld	l,(ix+6)
2675  0A97  E5          	push	hl
2676  0A98  21 00 00    	ld	hl,_attrib_osd
2677  0A9B  E5          	push	hl
2678  0A9C  CD 00 00    	call	_NIRVANAP_paintC_callee
2679  0A9F  21 00 00    	ld	hl,_tmp_uc
2680  0AA2  34          	inc	(hl)
2681  0AA3  18 E5       	jr	l_game_paint_attrib_lin_osd_00103
2682  0AA5              l_game_paint_attrib_lin_osd_00105:
2683  0AA5  DD E1       	pop	ix
2684  0AA7  C9          	ret
2685  0AA8              	SECTION code_compiler
2686  0AA8              ;	---------------------------------
2687  0AA8              ; Function game_colour_message
2688  0AA8              ; ---------------------------------
2689  0AA8              _game_colour_message:
2690  0AA8  CD 00 00    	call	___sdcc_enter_ix
2691  0AAB  F5          	push	af
2692  0AAC  F5          	push	af
2693  0AAD  3B          	dec	sp
2694  0AAE  D1          	pop	de
2695  0AAF  21 00 00    	ld	hl,_tmp
2696  0AB2  36 01       	ld	(hl),0x01
2697  0AB4  2A 00 00    	ld	hl,(_curr_time)
2698  0AB7  22 00 00    	ld	(_frame_time),hl
2699  0ABA  E5          	push	hl
2700  0ABB  DD 7E 04    	ld	a,(ix+4)
2701  0ABE  4D          	ld	c,l
2702  0ABF  07          	rlca
2703  0AC0  07          	rlca
2704  0AC1  07          	rlca
2705  0AC2  E6 F8       	and	a,0xf8
2706  0AC4  DD 77 FF    	ld	(ix-1),a
2707  0AC7  C6 08       	add	a,0x08
2708  0AC9  DD 77 FE    	ld	(ix-2),a
2709  0ACC  DD 77 FD    	ld	(ix-3),a
2710  0ACF              l_game_colour_message_00112:
2711  0ACF  3A 00 00    	ld	a,(_tmp)
2712  0AD2  B7          	or	a, a
2713  0AD3  CA 4E 0B    	jp	Z, l_game_colour_message_00114
2714  0AD6  DD 46 07    	ld	b,(ix+7)
2715  0AD9  21 00 00    	ld	hl,0x0000
2716  0ADC  39          	add	hl, sp
2717  0ADD  EB          	ex	de,hl
2718  0ADE  C5          	push	bc
2719  0ADF  33          	inc	sp
2720  0AE0  D5          	push	de
2721  0AE1  CD C4 0B    	call	_game_check_time
2722  0AE4  F1          	pop	af
2723  0AE5  33          	inc	sp
2724  0AE6  7D          	ld	a, l
2725  0AE7  B7          	or	a, a
2726  0AE8  20 64       	jr	NZ,l_game_colour_message_00114
2727  0AEA  3E 05       	ld	a,0x05
2728  0AEC  F5          	push	af
2729  0AED  33          	inc	sp
2730  0AEE  21 00 00    	ld	hl,_frame_time
2731  0AF1  E5          	push	hl
2732  0AF2  CD C4 0B    	call	_game_check_time
2733  0AF5  F1          	pop	af
2734  0AF6  33          	inc	sp
2735  0AF7  7D          	ld	a, l
2736  0AF8  B7          	or	a, a
2737  0AF9  28 36       	jr	Z,l_game_colour_message_00105
2738  0AFB  2A 00 00    	ld	hl,(_curr_time)
2739  0AFE  22 00 00    	ld	(_frame_time),hl
2740  0B01  3A 00 00    	ld	a,(_game_over)
2741  0B04  B7          	or	a,a
2742  0B05  28 16       	jr	Z,l_game_colour_message_00102
2743  0B07  DD 66 FD    	ld	h,(ix-3)
2744  0B0A  DD 6E 06    	ld	l,(ix+6)
2745  0B0D  E5          	push	hl
2746  0B0E  DD 7E 05    	ld	a,(ix+5)
2747  0B11  F5          	push	af
2748  0B12  33          	inc	sp
2749  0B13  CD 5A 0A    	call	_game_paint_attrib_lin_h
2750  0B16  F1          	pop	af
2751  0B17  33          	inc	sp
2752  0B18  CD C8 10    	call	_game_rotate_attrib
2753  0B1B  18 14       	jr	l_game_colour_message_00105
2754  0B1D              l_game_colour_message_00102:
2755  0B1D  DD 66 FE    	ld	h,(ix-2)
2756  0B20  DD 6E 06    	ld	l,(ix+6)
2757  0B23  E5          	push	hl
2758  0B24  DD 7E 05    	ld	a,(ix+5)
2759  0B27  F5          	push	af
2760  0B28  33          	inc	sp
2761  0B29  CD 81 0A    	call	_game_paint_attrib_lin_osd
2762  0B2C  F1          	pop	af
2763  0B2D  33          	inc	sp
2764  0B2E  CD E4 10    	call	_game_rotate_attrib_osd
2765  0B31              l_game_colour_message_00105:
2766  0B31  DD 7E 09    	ld	a,(ix+9)
2767  0B34  B7          	or	a, a
2768  0B35  28 98       	jr	Z,l_game_colour_message_00112
2769  0B37              l_game_colour_message_00106:
2770  0B37  11 00 00    	ld	de,_k1
2771  0B3A  2A 00 00    	ld	hl,(_joyfunc1)
2772  0B3D  D5          	push	de
2773  0B3E  CD 00 00    	call	___sdcc_call_hl
2774  0B41  F1          	pop	af
2775  0B42  7C          	ld	a,h
2776  0B43  B5          	or	a,l
2777  0B44  4D          	ld	c,l
2778  0B45  28 88       	jr	Z,l_game_colour_message_00112
2779  0B47  21 00 00    	ld	hl,_tmp
2780  0B4A  36 00       	ld	(hl),0x00
2781  0B4C  18 E9       	jr	l_game_colour_message_00106
2782  0B4E              l_game_colour_message_00114:
2783  0B4E  DD 7E 06    	ld	a,(ix+6)
2784  0B51  DD 96 05    	sub	a,(ix+5)
2785  0B54  4F          	ld	c, a
2786  0B55  3A 00 00    	ld	a,(_game_over)
2787  0B58  B7          	or	a, a
2788  0B59  28 2F       	jr	Z,l_game_colour_message_00118
2789  0B5B  21 00 00    	ld	hl,_tmp1
2790  0B5E  71          	ld	(hl), c
2791  0B5F  21 00 00    	ld	hl,_tmp0
2792  0B62  36 00       	ld	(hl),0x00
2793  0B64              l_game_colour_message_00121:
2794  0B64  3A 00 00    	ld	a,(_tmp0)
2795  0B67  21 00 00    	ld	hl,_tmp1
2796  0B6A  96          	sub	a, (hl)
2797  0B6B  30 52       	jr	NC,l_game_colour_message_00126
2798  0B6D  DD 7E 05    	ld	a,(ix+5)
2799  0B70  21 00 00    	ld	hl,_tmp0
2800  0B73  86          	add	a, (hl)
2801  0B74  4F          	ld	c, a
2802  0B75  21 74 00    	ld	hl,___str_27
2803  0B78  E5          	push	hl
2804  0B79  79          	ld	a, c
2805  0B7A  F5          	push	af
2806  0B7B  33          	inc	sp
2807  0B7C  DD 7E 04    	ld	a,(ix+4)
2808  0B7F  F5          	push	af
2809  0B80  33          	inc	sp
2810  0B81  CD 00 00    	call	_zx_print_str
2811  0B84  21 00 00    	ld	hl,_tmp0
2812  0B87  34          	inc	(hl)
2813  0B88  18 DA       	jr	l_game_colour_message_00121
2814  0B8A              l_game_colour_message_00118:
2815  0B8A  21 00 00    	ld	hl,_tmp1
2816  0B8D  71          	ld	(hl), c
2817  0B8E  DD 7E FF    	ld	a,(ix-1)
2818  0B91  32 00 00    	ld	(_s_lin0),a
2819  0B94  DD 7E 05    	ld	a,(ix+5)
2820  0B97  CB 3F       	srl	a
2821  0B99  87          	add	a, a
2822  0B9A  32 00 00    	ld	(_s_col1),a
2823  0B9D  21 00 00    	ld	hl,_tmp0
2824  0BA0  36 00       	ld	(hl),0x00
2825  0BA2              l_game_colour_message_00124:
2826  0BA2  3A 00 00    	ld	a,(_tmp0)
2827  0BA5  21 00 00    	ld	hl,_tmp1
2828  0BA8  96          	sub	a, (hl)
2829  0BA9  30 14       	jr	NC,l_game_colour_message_00126
2830  0BAB  3A 00 00    	ld	a,(_s_col1)
2831  0BAE  21 00 00    	ld	hl,_tmp0
2832  0BB1  86          	add	a, (hl)
2833  0BB2  32 00 00    	ld	(_s_col0),a
2834  0BB5  CD 00 00    	call	_spr_back_repaint
2835  0BB8  21 00 00    	ld	hl,_tmp0
2836  0BBB  34          	inc	(hl)
2837  0BBC  34          	inc	(hl)
2838  0BBD  18 E3       	jr	l_game_colour_message_00124
2839  0BBF              l_game_colour_message_00126:
2840  0BBF  DD F9       	ld	sp, ix
2841  0BC1  DD E1       	pop	ix
2842  0BC3  C9          	ret
2843  0BC4              	SECTION rodata_compiler
2844  0074              ___str_27:
2845  0074  20          	DEFM " "
2846  0075  00          	DEFB 0x00
2847  0076              	SECTION code_compiler
2848  0BC4              ;	---------------------------------
2849  0BC4              ; Function game_check_time
2850  0BC4              ; ---------------------------------
2851  0BC4              _game_check_time:
2852  0BC4  CD 00 00    	call	___sdcc_enter_ix
2853  0BC7  2A 00 00    	ld	hl,(_curr_time)
2854  0BCA  4D          	ld	c, l
2855  0BCB  DD 6E 04    	ld	l,(ix+4)
2856  0BCE  44          	ld	b,h
2857  0BCF  DD 66 05    	ld	h,(ix+5)
2858  0BD2  5E          	ld	e, (hl)
2859  0BD3  23          	inc	hl
2860  0BD4  56          	ld	d, (hl)
2861  0BD5  79          	ld	a, c
2862  0BD6  93          	sub	a, e
2863  0BD7  4F          	ld	c, a
2864  0BD8  78          	ld	a, b
2865  0BD9  9A          	sbc	a, d
2866  0BDA  47          	ld	b, a
2867  0BDB  DD 7E 06    	ld	a,(ix+6)
2868  0BDE  16 00       	ld	d,0x00
2869  0BE0  91          	sub	a, c
2870  0BE1  7A          	ld	a, d
2871  0BE2  98          	sbc	a, b
2872  0BE3  30 04       	jr	NC,l_game_check_time_00102
2873  0BE5  2E 01       	ld	l,0x01
2874  0BE7  18 02       	jr	l_game_check_time_00104
2875  0BE9              l_game_check_time_00102:
2876  0BE9  2E 00       	ld	l,0x00
2877  0BEB              l_game_check_time_00104:
2878  0BEB  DD E1       	pop	ix
2879  0BED  C9          	ret
2880  0BEE              	SECTION code_compiler
2881  0BEE              ;	---------------------------------
2882  0BEE              ; Function game_shoot_fire
2883  0BEE              ; ---------------------------------
2884  0BEE              _game_shoot_fire:
2885  0BEE  CD 00 00    	call	___sdcc_enter_ix
2886  0BF1  21 F3 FF    	ld	hl, -13
2887  0BF4  39          	add	hl, sp
2888  0BF5  F9          	ld	sp, hl
2889  0BF6  01 00 00    	ld	bc,_bullet_col
2890  0BF9  DD 6E 04    	ld	l,(ix+4)
2891  0BFC  26 00       	ld	h,0x00
2892  0BFE  09          	add	hl,bc
2893  0BFF  DD 75 FE    	ld	(ix-2),l
2894  0C02  DD 74 FF    	ld	(ix-1),h
2895  0C05  4E          	ld	c, (hl)
2896  0C06  0C          	inc	c
2897  0C07  C2 27 0E    	jp	NZ,l_game_shoot_fire_00126
2898  0C0A  21 00 00    	ld	hl,_bullet_count
2899  0C0D  34          	inc	(hl)
2900  0C0E  01 00 00    	ld	bc,_bullet_dir
2901  0C11  DD 6E 04    	ld	l,(ix+4)
2902  0C14  26 00       	ld	h,0x00
2903  0C16  09          	add	hl,bc
2904  0C17  DD 75 FC    	ld	(ix-4),l
2905  0C1A  DD 74 FD    	ld	(ix-3),h
2906  0C1D  36 00       	ld	(hl),0x00
2907  0C1F  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
2908  0C21  DD 86 04    	add	a,(ix+4)
2909  0C24  4F          	ld	c, a
2910  0C25  3E 00       	ld	a, +((_bullet_lin0) / 256)
2911  0C27  CE 00       	adc	a,0x00
2912  0C29  47          	ld	b, a
2913  0C2A  11 00 00    	ld	de,_lin
2914  0C2D  DD 6E 04    	ld	l,(ix+4)
2915  0C30  26 00       	ld	h,0x00
2916  0C32  19          	add	hl,de
2917  0C33  DD 75 FA    	ld	(ix-6),l
2918  0C36  DD 74 FB    	ld	(ix-5),h
2919  0C39  7E          	ld	a, (hl)
2920  0C3A  02          	ld	(bc), a
2921  0C3B  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
2922  0C3D  DD 86 04    	add	a,(ix+4)
2923  0C40  4F          	ld	c, a
2924  0C41  3E 00       	ld	a, +((_bullet_col0) / 256)
2925  0C43  CE 00       	adc	a,0x00
2926  0C45  47          	ld	b, a
2927  0C46  11 00 00    	ld	de,_col
2928  0C49  DD 6E 04    	ld	l,(ix+4)
2929  0C4C  26 00       	ld	h,0x00
2930  0C4E  19          	add	hl,de
2931  0C4F  DD 75 F8    	ld	(ix-8),l
2932  0C52  DD 74 F9    	ld	(ix-7),h
2933  0C55  7E          	ld	a, (hl)
2934  0C56  02          	ld	(bc), a
2935  0C57  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2936  0C59  DD 86 04    	add	a,(ix+4)
2937  0C5C  DD 77 F6    	ld	(ix-10),a
2938  0C5F  3E 00       	ld	a, +((_bullet_lin) / 256)
2939  0C61  CE 00       	adc	a,0x00
2940  0C63  DD 77 F7    	ld	(ix-9),a
2941  0C66  DD 6E FA    	ld	l,(ix-6)
2942  0C69  DD 66 FB    	ld	h,(ix-5)
2943  0C6C  4E          	ld	c, (hl)
2944  0C6D  DD 6E F6    	ld	l,(ix-10)
2945  0C70  DD 66 F7    	ld	h,(ix-9)
2946  0C73  71          	ld	(hl), c
2947  0C74  01 00 00    	ld	bc,_bullet_frames
2948  0C77  DD 6E 04    	ld	l,(ix+4)
2949  0C7A  26 00       	ld	h,0x00
2950  0C7C  09          	add	hl,bc
2951  0C7D  DD 75 F4    	ld	(ix-12),l
2952  0C80  DD 74 F5    	ld	(ix-11),h
2953  0C83  36 02       	ld	(hl),0x02
2954  0C85  DD 7E 04    	ld	a,(ix+4)
2955  0C88  D6 07       	sub	a,0x07
2956  0C8A  20 04       	jr	NZ,l_game_shoot_fire_00175
2957  0C8C  3E 01       	ld	a,0x01
2958  0C8E  18 01       	jr	l_game_shoot_fire_00176
2959  0C90              l_game_shoot_fire_00175:
2960  0C90  AF          	xor	a,a
2961  0C91              l_game_shoot_fire_00176:
2962  0C91  DD 77 F3    	ld	(ix-13),a
2963  0C94  B7          	or	a, a
2964  0C95  28 13       	jr	Z,l_game_shoot_fire_00102
2965  0C97  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2966  0C99  DD 86 04    	add	a,(ix+4)
2967  0C9C  4F          	ld	c, a
2968  0C9D  3E 00       	ld	a, +((_bullet_max) / 256)
2969  0C9F  CE 00       	adc	a,0x00
2970  0CA1  47          	ld	b, a
2971  0CA2  3A 00 00    	ld	a,(_player_lvl)
2972  0CA5  C6 04       	add	a,0x04
2973  0CA7  02          	ld	(bc), a
2974  0CA8  18 0D       	jr	l_game_shoot_fire_00103
2975  0CAA              l_game_shoot_fire_00102:
2976  0CAA  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2977  0CAC  DD 86 04    	add	a,(ix+4)
2978  0CAF  4F          	ld	c, a
2979  0CB0  3E 00       	ld	a, +((_bullet_max) / 256)
2980  0CB2  CE 00       	adc	a,0x00
2981  0CB4  47          	ld	b, a
2982  0CB5  AF          	xor	a, a
2983  0CB6  02          	ld	(bc), a
2984  0CB7              l_game_shoot_fire_00103:
2985  0CB7  DD 7E 05    	ld	a,(ix+5)
2986  0CBA  D6 7C       	sub	a,0x7c
2987  0CBC  20 21       	jr	NZ,l_game_shoot_fire_00105
2988  0CBE  3E 00       	ld	a, +((_bullet_class) & 0xFF)
2989  0CC0  DD 86 04    	add	a,(ix+4)
2990  0CC3  4F          	ld	c, a
2991  0CC4  3E 00       	ld	a, +((_bullet_class) / 256)
2992  0CC6  CE 00       	adc	a,0x00
2993  0CC8  47          	ld	b, a
2994  0CC9  3E 01       	ld	a,0x01
2995  0CCB  02          	ld	(bc), a
2996  0CCC  3E 00       	ld	a, +((_bullet_max) & 0xFF)
2997  0CCE  DD 86 04    	add	a,(ix+4)
2998  0CD1  4F          	ld	c, a
2999  0CD2  3E 00       	ld	a, +((_bullet_max) / 256)
3000  0CD4  CE 00       	adc	a,0x00
3001  0CD6  47          	ld	b, a
3002  0CD7  3A 00 00    	ld	a,(_game_world)
3003  0CDA  87          	add	a, a
3004  0CDB  87          	add	a, a
3005  0CDC  C6 08       	add	a,0x08
3006  0CDE  02          	ld	(bc), a
3007  0CDF              l_game_shoot_fire_00105:
3008  0CDF  DD 7E 05    	ld	a,(ix+5)
3009  0CE2  D6 78       	sub	a,0x78
3010  0CE4  20 24       	jr	NZ,l_game_shoot_fire_00110
3011  0CE6  DD 7E F3    	ld	a,(ix-13)
3012  0CE9  B7          	or	a, a
3013  0CEA  28 10       	jr	Z,l_game_shoot_fire_00107
3014  0CEC  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3015  0CEE  DD 86 04    	add	a,(ix+4)
3016  0CF1  4F          	ld	c, a
3017  0CF2  3E 00       	ld	a, +((_bullet_class) / 256)
3018  0CF4  CE 00       	adc	a,0x00
3019  0CF6  47          	ld	b, a
3020  0CF7  3E 01       	ld	a,0x01
3021  0CF9  02          	ld	(bc), a
3022  0CFA  18 0E       	jr	l_game_shoot_fire_00110
3023  0CFC              l_game_shoot_fire_00107:
3024  0CFC  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3025  0CFE  DD 86 04    	add	a,(ix+4)
3026  0D01  4F          	ld	c, a
3027  0D02  3E 00       	ld	a, +((_bullet_class) / 256)
3028  0D04  CE 00       	adc	a,0x00
3029  0D06  47          	ld	b, a
3030  0D07  3E 02       	ld	a,0x02
3031  0D09  02          	ld	(bc), a
3032  0D0A              l_game_shoot_fire_00110:
3033  0D0A  DD 7E 05    	ld	a,(ix+5)
3034  0D0D  D6 80       	sub	a,0x80
3035  0D0F  20 04       	jr	NZ,l_game_shoot_fire_00181
3036  0D11  3E 01       	ld	a,0x01
3037  0D13  18 01       	jr	l_game_shoot_fire_00182
3038  0D15              l_game_shoot_fire_00181:
3039  0D15  AF          	xor	a,a
3040  0D16              l_game_shoot_fire_00182:
3041  0D16  DD 77 F3    	ld	(ix-13),a
3042  0D19  B7          	or	a, a
3043  0D1A  28 35       	jr	Z,l_game_shoot_fire_00112
3044  0D1C  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3045  0D1E  DD 86 04    	add	a,(ix+4)
3046  0D21  4F          	ld	c, a
3047  0D22  3E 00       	ld	a, +((_bullet_class) / 256)
3048  0D24  CE 00       	adc	a,0x00
3049  0D26  47          	ld	b, a
3050  0D27  3E 04       	ld	a,0x04
3051  0D29  02          	ld	(bc), a
3052  0D2A  DD 6E FA    	ld	l,(ix-6)
3053  0D2D  DD 66 FB    	ld	h,(ix-5)
3054  0D30  7E          	ld	a, (hl)
3055  0D31  C6 FC       	add	a,0xfc
3056  0D33  DD 6E F6    	ld	l,(ix-10)
3057  0D36  DD 66 F7    	ld	h,(ix-9)
3058  0D39  77          	ld	(hl), a
3059  0D3A  DD 6E F4    	ld	l,(ix-12)
3060  0D3D  DD 66 F5    	ld	h,(ix-11)
3061  0D40  36 04       	ld	(hl),0x04
3062  0D42  3E 00       	ld	a, +((_bullet_vel) & 0xFF)
3063  0D44  DD 86 04    	add	a,(ix+4)
3064  0D47  4F          	ld	c, a
3065  0D48  3E 00       	ld	a, +((_bullet_vel) / 256)
3066  0D4A  CE 00       	adc	a,0x00
3067  0D4C  47          	ld	b, a
3068  0D4D  3A 00 00    	ld	a,(_player_vel_y0)
3069  0D50  02          	ld	(bc), a
3070  0D51              l_game_shoot_fire_00112:
3071  0D51  3A 00 00    	ld	a,(_s_state)
3072  0D54  E6 08       	and	a,0x08
3073  0D56  4F          	ld	c, a
3074  0D57  3A 00 00    	ld	a,(_sprite)
3075  0D5A  D6 07       	sub	a,0x07
3076  0D5C  20 06       	jr	NZ,l_game_shoot_fire_00114
3077  0D5E  3A 07 00    	ld	a,(_state_a + 0x0007)
3078  0D61  E6 08       	and	a,0x08
3079  0D63  4F          	ld	c, a
3080  0D64              l_game_shoot_fire_00114:
3081  0D64  DD 6E F8    	ld	l,(ix-8)
3082  0D67  DD 66 F9    	ld	h,(ix-7)
3083  0D6A  46          	ld	b, (hl)
3084  0D6B  DD 6E FA    	ld	l,(ix-6)
3085  0D6E  DD 66 FB    	ld	h,(ix-5)
3086  0D71  7E          	ld	a, (hl)
3087  0D72  C5          	push	bc
3088  0D73  4F          	ld	c,a
3089  0D74  C5          	push	bc
3090  0D75  CD 00 00    	call	_spr_calc_index
3091  0D78  F1          	pop	af
3092  0D79  EB          	ex	de,hl
3093  0D7A  C1          	pop	bc
3094  0D7B  ED 53 00 00 	ld	(_index1),de
3095  0D7F  DD 6E F8    	ld	l,(ix-8)
3096  0D82  DD 66 F9    	ld	h,(ix-7)
3097  0D85  7E          	ld	a, (hl)
3098  0D86  DD 77 F4    	ld	(ix-12),a
3099  0D89  79          	ld	a, c
3100  0D8A  B7          	or	a, a
3101  0D8B  28 60       	jr	Z,l_game_shoot_fire_00123
3102  0D8D  DD 7E F4    	ld	a,(ix-12)
3103  0D90  D6 01       	sub	a,0x01
3104  0D92  30 05       	jr	NC,l_game_shoot_fire_00116
3105  0D94  2E 01       	ld	l,0x01
3106  0D96  C3 29 0E    	jp	l_game_shoot_fire_00127
3107  0D99              l_game_shoot_fire_00116:
3108  0D99  DD 6E FE    	ld	l,(ix-2)
3109  0D9C  DD 66 FF    	ld	h,(ix-1)
3110  0D9F  DD 7E F4    	ld	a,(ix-12)
3111  0DA2  77          	ld	(hl), a
3112  0DA3  DD 7E F3    	ld	a,(ix-13)
3113  0DA6  B7          	or	a, a
3114  0DA7  20 1D       	jr	NZ,l_game_shoot_fire_00118
3115  0DA9  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3116  0DAB  DD 86 04    	add	a,(ix+4)
3117  0DAE  DD 77 F6    	ld	(ix-10),a
3118  0DB1  3E 00       	ld	a, +((_bullet_tile) / 256)
3119  0DB3  CE 00       	adc	a,0x00
3120  0DB5  DD 77 F7    	ld	(ix-9),a
3121  0DB8  DD 4E 05    	ld	c,(ix+5)
3122  0DBB  0C          	inc	c
3123  0DBC  0C          	inc	c
3124  0DBD  DD 6E F6    	ld	l,(ix-10)
3125  0DC0  DD 66 F7    	ld	h,(ix-9)
3126  0DC3  71          	ld	(hl), c
3127  0DC4  18 0F       	jr	l_game_shoot_fire_00119
3128  0DC6              l_game_shoot_fire_00118:
3129  0DC6  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3130  0DC8  DD 86 04    	add	a,(ix+4)
3131  0DCB  4F          	ld	c, a
3132  0DCC  3E 00       	ld	a, +((_bullet_tile) / 256)
3133  0DCE  CE 00       	adc	a,0x00
3134  0DD0  47          	ld	b, a
3135  0DD1  DD 7E 05    	ld	a,(ix+5)
3136  0DD4  02          	ld	(bc), a
3137  0DD5              l_game_shoot_fire_00119:
3138  0DD5  DD 6E FC    	ld	l,(ix-4)
3139  0DD8  DD 66 FD    	ld	h,(ix-3)
3140  0DDB  36 01       	ld	(hl),0x01
3141  0DDD  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3142  0DDF  DD 86 04    	add	a,(ix+4)
3143  0DE2  4F          	ld	c, a
3144  0DE3  3E 00       	ld	a, +((_bullet_colint) / 256)
3145  0DE5  CE 00       	adc	a,0x00
3146  0DE7  47          	ld	b, a
3147  0DE8  3E 02       	ld	a,0x02
3148  0DEA  02          	ld	(bc), a
3149  0DEB  18 3A       	jr	l_game_shoot_fire_00126
3150  0DED              l_game_shoot_fire_00123:
3151  0DED  3E 1D       	ld	a,0x1d
3152  0DEF  DD 96 F4    	sub	a,(ix-12)
3153  0DF2  30 04       	jr	NC,l_game_shoot_fire_00121
3154  0DF4  2E 01       	ld	l,0x01
3155  0DF6  18 31       	jr	l_game_shoot_fire_00127
3156  0DF8              l_game_shoot_fire_00121:
3157  0DF8  DD 6E FE    	ld	l,(ix-2)
3158  0DFB  DD 66 FF    	ld	h,(ix-1)
3159  0DFE  DD 7E F4    	ld	a,(ix-12)
3160  0E01  77          	ld	(hl), a
3161  0E02  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3162  0E04  DD 86 04    	add	a,(ix+4)
3163  0E07  4F          	ld	c, a
3164  0E08  3E 00       	ld	a, +((_bullet_tile) / 256)
3165  0E0A  CE 00       	adc	a,0x00
3166  0E0C  47          	ld	b, a
3167  0E0D  DD 7E 05    	ld	a,(ix+5)
3168  0E10  02          	ld	(bc), a
3169  0E11  DD 6E FC    	ld	l,(ix-4)
3170  0E14  DD 66 FD    	ld	h,(ix-3)
3171  0E17  36 FF       	ld	(hl),0xff
3172  0E19  3E 00       	ld	a, +((_bullet_colint) & 0xFF)
3173  0E1B  DD 86 04    	add	a,(ix+4)
3174  0E1E  4F          	ld	c, a
3175  0E1F  3E 00       	ld	a, +((_bullet_colint) / 256)
3176  0E21  CE 00       	adc	a,0x00
3177  0E23  47          	ld	b, a
3178  0E24  3E FF       	ld	a,0xff
3179  0E26  02          	ld	(bc), a
3180  0E27              l_game_shoot_fire_00126:
3181  0E27  2E 00       	ld	l,0x00
3182  0E29              l_game_shoot_fire_00127:
3183  0E29  DD F9       	ld	sp, ix
3184  0E2B  DD E1       	pop	ix
3185  0E2D  C9          	ret
3186  0E2E              	SECTION code_compiler
3187  0E2E              ;	---------------------------------
3188  0E2E              ; Function game_shoot_fire_boss
3189  0E2E              ; ---------------------------------
3190  0E2E              _game_shoot_fire_boss:
3191  0E2E  CD 00 00    	call	___sdcc_enter_ix
3192  0E31  F5          	push	af
3193  0E32  F5          	push	af
3194  0E33  3B          	dec	sp
3195  0E34  3A 07 00    	ld	a,(_col + 0x0007)
3196  0E37  4F          	ld	c,a
3197  0E38  21 00 00    	ld	hl,_boss_col
3198  0E3B  96          	sub	a, (hl)
3199  0E3C  30 04       	jr	NC,l_game_shoot_fire_boss_00102
3200  0E3E  DD 36 FB 01 	ld	(ix-5),0x01
3201  0E42              l_game_shoot_fire_boss_00102:
3202  0E42  3A 00 00    	ld	a,(_boss_col)
3203  0E45  91          	sub	a, c
3204  0E46  30 04       	jr	NC,l_game_shoot_fire_boss_00131
3205  0E48  DD 36 FB 00 	ld	(ix-5),0x00
3206  0E4C              l_game_shoot_fire_boss_00131:
3207  0E4C  01 00 00    	ld	bc,_bullet_col+0
3208  0E4F  1E 00       	ld	e,0x00
3209  0E51              l_game_shoot_fire_boss_00107:
3210  0E51  7B          	ld	a, e
3211  0E52  D6 07       	sub	a,0x07
3212  0E54  30 0B       	jr	NC,l_game_shoot_fire_boss_00138
3213  0E56  6B          	ld	l,e
3214  0E57  26 00       	ld	h,0x00
3215  0E59  09          	add	hl, bc
3216  0E5A  56          	ld	d, (hl)
3217  0E5B  14          	inc	d
3218  0E5C  28 03       	jr	Z,l_game_shoot_fire_boss_00138
3219  0E5E  1C          	inc	e
3220  0E5F  18 F0       	jr	l_game_shoot_fire_boss_00107
3221  0E61              l_game_shoot_fire_boss_00138:
3222  0E61  7B          	ld	a,e
3223  0E62  57          	ld	d,a
3224  0E63  D6 07       	sub	a,0x07
3225  0E65  20 04       	jr	NZ,l_game_shoot_fire_boss_00111
3226  0E67  6F          	ld	l,a
3227  0E68  C3 B9 0F    	jp	l_game_shoot_fire_boss_00125
3228  0E6B              l_game_shoot_fire_boss_00111:
3229  0E6B  21 00 00    	ld	hl,_bullet_count
3230  0E6E  34          	inc	(hl)
3231  0E6F  3E 00       	ld	a, +((_bullet_dir) & 0xFF)
3232  0E71  83          	add	a, e
3233  0E72  DD 77 FE    	ld	(ix-2),a
3234  0E75  6F          	ld	l,a
3235  0E76  3E 00       	ld	a,+((_bullet_dir) / 256)
3236  0E78  CE 00       	adc	a,0x00
3237  0E7A  DD 77 FF    	ld	(ix-1),a
3238  0E7D  67          	ld	h,a
3239  0E7E  36 00       	ld	(hl),0x00
3240  0E80  3A 00 00    	ld	a,(_game_world)
3241  0E83  3D          	dec	a
3242  0E84  28 26       	jr	Z,l_game_shoot_fire_boss_00116
3243  0E86  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3244  0E88  83          	add	a, e
3245  0E89  DD 77 FC    	ld	(ix-4),a
3246  0E8C  3E 00       	ld	a, +((_bullet_lin0) / 256)
3247  0E8E  CE 00       	adc	a,0x00
3248  0E90  DD 77 FD    	ld	(ix-3),a
3249  0E93  3A 00 00    	ld	a,(_boss_lin)
3250  0E96  C6 10       	add	a,0x10
3251  0E98  DD 6E FC    	ld	l,(ix-4)
3252  0E9B  DD 66 FD    	ld	h,(ix-3)
3253  0E9E  77          	ld	(hl), a
3254  0E9F  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3255  0EA1  83          	add	a, e
3256  0EA2  6F          	ld	l, a
3257  0EA3  3E 00       	ld	a, +((_bullet_class) / 256)
3258  0EA5  CE 00       	adc	a,0x00
3259  0EA7  67          	ld	h, a
3260  0EA8  36 02       	ld	(hl),0x02
3261  0EAA  18 45       	jr	l_game_shoot_fire_boss_00117
3262  0EAC              l_game_shoot_fire_boss_00116:
3263  0EAC  3E 00       	ld	a, +((_bullet_class) & 0xFF)
3264  0EAE  83          	add	a, e
3265  0EAF  6F          	ld	l, a
3266  0EB0  3E 00       	ld	a, +((_bullet_class) / 256)
3267  0EB2  CE 00       	adc	a,0x00
3268  0EB4  67          	ld	h, a
3269  0EB5  36 05       	ld	(hl),0x05
3270  0EB7  3A 00 00    	ld	a,(_tmp0)
3271  0EBA  B7          	or	a, a
3272  0EBB  20 1B       	jr	NZ,l_game_shoot_fire_boss_00113
3273  0EBD  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3274  0EBF  83          	add	a, e
3275  0EC0  DD 77 FC    	ld	(ix-4),a
3276  0EC3  3E 00       	ld	a, +((_bullet_lin0) / 256)
3277  0EC5  CE 00       	adc	a,0x00
3278  0EC7  DD 77 FD    	ld	(ix-3),a
3279  0ECA  3A 00 00    	ld	a,(_boss_lin)
3280  0ECD  C6 F8       	add	a,0xf8
3281  0ECF  DD 6E FC    	ld	l,(ix-4)
3282  0ED2  DD 66 FD    	ld	h,(ix-3)
3283  0ED5  77          	ld	(hl), a
3284  0ED6  18 19       	jr	l_game_shoot_fire_boss_00117
3285  0ED8              l_game_shoot_fire_boss_00113:
3286  0ED8  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3287  0EDA  83          	add	a, e
3288  0EDB  DD 77 FC    	ld	(ix-4),a
3289  0EDE  3E 00       	ld	a, +((_bullet_lin0) / 256)
3290  0EE0  CE 00       	adc	a,0x00
3291  0EE2  DD 77 FD    	ld	(ix-3),a
3292  0EE5  3A 00 00    	ld	a,(_boss_lin)
3293  0EE8  C6 18       	add	a,0x18
3294  0EEA  DD 6E FC    	ld	l,(ix-4)
3295  0EED  DD 66 FD    	ld	h,(ix-3)
3296  0EF0  77          	ld	(hl), a
3297  0EF1              l_game_shoot_fire_boss_00117:
3298  0EF1  3E 00       	ld	a, +((_bullet_col0) & 0xFF)
3299  0EF3  82          	add	a, d
3300  0EF4  DD 77 FC    	ld	(ix-4),a
3301  0EF7  6F          	ld	l,a
3302  0EF8  3E 00       	ld	a,+((_bullet_col0) / 256)
3303  0EFA  CE 00       	adc	a,0x00
3304  0EFC  DD 77 FD    	ld	(ix-3),a
3305  0EFF  67          	ld	h,a
3306  0F00  3A 00 00    	ld	a,(_boss_col)
3307  0F03  77          	ld	(hl),a
3308  0F04  79          	ld	a, c
3309  0F05  82          	add	a, d
3310  0F06  DD 77 FC    	ld	(ix-4),a
3311  0F09  6F          	ld	l,a
3312  0F0A  78          	ld	a,b
3313  0F0B  CE 00       	adc	a,0x00
3314  0F0D  DD 77 FD    	ld	(ix-3),a
3315  0F10  67          	ld	h,a
3316  0F11  3A 00 00    	ld	a,(_boss_col)
3317  0F14  77          	ld	(hl),a
3318  0F15  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
3319  0F17  82          	add	a, d
3320  0F18  4F          	ld	c, a
3321  0F19  3E 00       	ld	a, +((_bullet_lin) / 256)
3322  0F1B  CE 00       	adc	a,0x00
3323  0F1D  47          	ld	b, a
3324  0F1E  3E 00       	ld	a, +((_bullet_lin0) & 0xFF)
3325  0F20  82          	add	a, d
3326  0F21  6F          	ld	l, a
3327  0F22  3E 00       	ld	a, +((_bullet_lin0) / 256)
3328  0F24  CE 00       	adc	a,0x00
3329  0F26  67          	ld	h, a
3330  0F27  7E          	ld	a, (hl)
3331  0F28  02          	ld	(bc), a
3332  0F29  01 00 00    	ld	bc,_bullet_frames+0
3333  0F2C  6A          	ld	l,d
3334  0F2D  26 00       	ld	h,0x00
3335  0F2F  09          	add	hl, bc
3336  0F30  36 02       	ld	(hl),0x02
3337  0F32  01 00 00    	ld	bc,_bullet_max+0
3338  0F35  6A          	ld	l,d
3339  0F36  26 00       	ld	h,0x00
3340  0F38  09          	add	hl, bc
3341  0F39  36 08       	ld	(hl),0x08
3342  0F3B  3A 00 00    	ld	a,(_boss_col)
3343  0F3E  D5          	push	de
3344  0F3F  F5          	push	af
3345  0F40  33          	inc	sp
3346  0F41  3A 00 00    	ld	a,(_boss_lin)
3347  0F44  F5          	push	af
3348  0F45  33          	inc	sp
3349  0F46  CD 00 00    	call	_spr_calc_index
3350  0F49  F1          	pop	af
3351  0F4A  D1          	pop	de
3352  0F4B  22 00 00    	ld	(_index1),hl
3353  0F4E  DD 7E FB    	ld	a,(ix-5)
3354  0F51  B7          	or	a, a
3355  0F52  28 2D       	jr	Z,l_game_shoot_fire_boss_00123
3356  0F54  3A 00 00    	ld	a,(_boss_col)
3357  0F57  D6 01       	sub	a,0x01
3358  0F59  30 04       	jr	NC,l_game_shoot_fire_boss_00119
3359  0F5B  2E 01       	ld	l,0x01
3360  0F5D  18 5A       	jr	l_game_shoot_fire_boss_00125
3361  0F5F              l_game_shoot_fire_boss_00119:
3362  0F5F  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3363  0F61  82          	add	a, d
3364  0F62  4F          	ld	c, a
3365  0F63  3E 00       	ld	a, +((_bullet_tile) / 256)
3366  0F65  CE 00       	adc	a,0x00
3367  0F67  47          	ld	b, a
3368  0F68  DD 7E 04    	ld	a,(ix+4)
3369  0F6B  C6 02       	add	a,0x02
3370  0F6D  02          	ld	(bc), a
3371  0F6E  DD 6E FE    	ld	l,(ix-2)
3372  0F71  DD 66 FF    	ld	h,(ix-1)
3373  0F74  36 01       	ld	(hl),0x01
3374  0F76  01 00 00    	ld	bc,_bullet_colint+0
3375  0F79  6A          	ld	l,d
3376  0F7A  26 00       	ld	h,0x00
3377  0F7C  09          	add	hl, bc
3378  0F7D  36 02       	ld	(hl),0x02
3379  0F7F  18 36       	jr	l_game_shoot_fire_boss_00124
3380  0F81              l_game_shoot_fire_boss_00123:
3381  0F81  3E 1D       	ld	a,0x1d
3382  0F83  21 00 00    	ld	hl,_boss_col
3383  0F86  96          	sub	a, (hl)
3384  0F87  30 04       	jr	NC,l_game_shoot_fire_boss_00121
3385  0F89  2E 01       	ld	l,0x01
3386  0F8B  18 2C       	jr	l_game_shoot_fire_boss_00125
3387  0F8D              l_game_shoot_fire_boss_00121:
3388  0F8D  3A 00 00    	ld	a,(_boss_col)
3389  0F90  C6 06       	add	a,0x06
3390  0F92  DD 6E FC    	ld	l,(ix-4)
3391  0F95  DD 66 FD    	ld	h,(ix-3)
3392  0F98  77          	ld	(hl), a
3393  0F99  3E 00       	ld	a, +((_bullet_tile) & 0xFF)
3394  0F9B  82          	add	a, d
3395  0F9C  4F          	ld	c, a
3396  0F9D  3E 00       	ld	a, +((_bullet_tile) / 256)
3397  0F9F  CE 00       	adc	a,0x00
3398  0FA1  47          	ld	b, a
3399  0FA2  DD 7E 04    	ld	a,(ix+4)
3400  0FA5  02          	ld	(bc), a
3401  0FA6  DD 6E FE    	ld	l,(ix-2)
3402  0FA9  DD 66 FF    	ld	h,(ix-1)
3403  0FAC  36 FF       	ld	(hl),0xff
3404  0FAE  01 00 00    	ld	bc,_bullet_colint+0
3405  0FB1  6A          	ld	l,d
3406  0FB2  26 00       	ld	h,0x00
3407  0FB4  09          	add	hl, bc
3408  0FB5  36 FF       	ld	(hl),0xff
3409  0FB7              l_game_shoot_fire_boss_00124:
3410  0FB7  2E 00       	ld	l,0x00
3411  0FB9              l_game_shoot_fire_boss_00125:
3412  0FB9  DD F9       	ld	sp, ix
3413  0FBB  DD E1       	pop	ix
3414  0FBD  C9          	ret
3415  0FBE              	SECTION code_compiler
3416  0FBE              ;	---------------------------------
3417  0FBE              ; Function game_obj_set
3418  0FBE              ; ---------------------------------
3419  0FBE              _game_obj_set:
3420  0FBE  3A 00 00    	ld	a,(_scr_curr)
3421  0FC1  D6 08       	sub	a,0x08
3422  0FC3  4D          	ld	c,l
3423  0FC4  44          	ld	b,h
3424  0FC5  30 19       	jr	NC,l_game_obj_set_00102
3425  0FC7  21 00 00    	ld	hl,_scr_obj0
3426  0FCA  09          	add	hl,bc
3427  0FCB  5E          	ld	e,(hl)
3428  0FCC  3A 00 00    	ld	a,(_scr_curr)
3429  0FCF  3C          	inc	a
3430  0FD0  16 01       	ld	d,0x01
3431  0FD2  4D          	ld	c,l
3432  0FD3  44          	ld	b,h
3433  0FD4  18 02       	jr	l_game_obj_set_00111
3434  0FD6              l_game_obj_set_00110:
3435  0FD6  CB 22       	sla	d
3436  0FD8              l_game_obj_set_00111:
3437  0FD8  3D          	dec	a
3438  0FD9  20 FB       	jr	NZ,l_game_obj_set_00110
3439  0FDB  7B          	ld	a, e
3440  0FDC  B2          	or	a, d
3441  0FDD  02          	ld	(bc), a
3442  0FDE  18 18       	jr	l_game_obj_set_00104
3443  0FE0              l_game_obj_set_00102:
3444  0FE0  3A 00 00    	ld	a,(_scr_curr)
3445  0FE3  C6 F8       	add	a,0xf8
3446  0FE5  5F          	ld	e, a
3447  0FE6  21 00 00    	ld	hl,_scr_obj1
3448  0FE9  09          	add	hl, bc
3449  0FEA  4E          	ld	c, (hl)
3450  0FEB  43          	ld	b, e
3451  0FEC  1E 01       	ld	e,0x01
3452  0FEE  04          	inc	b
3453  0FEF  18 02       	jr	l_game_obj_set_00113
3454  0FF1              l_game_obj_set_00112:
3455  0FF1  CB 23       	sla	e
3456  0FF3              l_game_obj_set_00113:
3457  0FF3  10 FC       	djnz	l_game_obj_set_00112
3458  0FF5  79          	ld	a, c
3459  0FF6  B3          	or	a, e
3460  0FF7  77          	ld	(hl), a
3461  0FF8              l_game_obj_set_00104:
3462  0FF8  C9          	ret
3463  0FF9              	SECTION code_compiler
3464  0FF9              ;	---------------------------------
3465  0FF9              ; Function game_obj_chk
3466  0FF9              ; ---------------------------------
3467  0FF9              _game_obj_chk:
3468  0FF9  3A 00 00    	ld	a,(_scr_curr)
3469  0FFC  D6 08       	sub	a,0x08
3470  0FFE  4D          	ld	c,l
3471  0FFF  44          	ld	b,h
3472  1000  30 17       	jr	NC,l_game_obj_chk_00102
3473  1002  21 00 00    	ld	hl,_scr_obj0
3474  1005  09          	add	hl, bc
3475  1006  4E          	ld	c, (hl)
3476  1007  21 00 00    	ld	hl,_scr_curr
3477  100A  46          	ld	b, (hl)
3478  100B  1E 01       	ld	e,0x01
3479  100D  04          	inc	b
3480  100E  18 02       	jr	l_game_obj_chk_00111
3481  1010              l_game_obj_chk_00110:
3482  1010  CB 23       	sla	e
3483  1012              l_game_obj_chk_00111:
3484  1012  10 FC       	djnz	l_game_obj_chk_00110
3485  1014  79          	ld	a, c
3486  1015  A3          	and	a, e
3487  1016  6F          	ld	l, a
3488  1017  18 18       	jr	l_game_obj_chk_00104
3489  1019              l_game_obj_chk_00102:
3490  1019  3A 00 00    	ld	a,(_scr_curr)
3491  101C  C6 F8       	add	a,0xf8
3492  101E  5F          	ld	e, a
3493  101F  21 00 00    	ld	hl,_scr_obj1
3494  1022  09          	add	hl, bc
3495  1023  4E          	ld	c, (hl)
3496  1024  43          	ld	b, e
3497  1025  1E 01       	ld	e,0x01
3498  1027  04          	inc	b
3499  1028  18 02       	jr	l_game_obj_chk_00113
3500  102A              l_game_obj_chk_00112:
3501  102A  CB 23       	sla	e
3502  102C              l_game_obj_chk_00113:
3503  102C  10 FC       	djnz	l_game_obj_chk_00112
3504  102E  79          	ld	a, c
3505  102F  A3          	and	a, e
3506  1030  6F          	ld	l, a
3507  1031              l_game_obj_chk_00104:
3508  1031  C9          	ret
3509  1032              	SECTION code_compiler
3510  1032              ;	---------------------------------
3511  1032              ; Function game_obj_clear
3512  1032              ; ---------------------------------
3513  1032              _game_obj_clear:
3514  1032  21 00 00    	ld	hl,_tmp
3515  1035  36 00       	ld	(hl),0x00
3516  1037              l_game_obj_clear_00105:
3517  1037  2A 00 00    	ld	hl,(_tmp)
3518  103A  26 00       	ld	h,0x00
3519  103C  01 00 00    	ld	bc,_scr_obj0
3520  103F  09          	add	hl,bc
3521  1040  AF          	xor	a,a
3522  1041  77          	ld	(hl),a
3523  1042  2A 00 00    	ld	hl,(_tmp)
3524  1045  26 00       	ld	h,0x00
3525  1047  01 00 00    	ld	bc,_scr_obj1
3526  104A  09          	add	hl,bc
3527  104B  AF          	xor	a,a
3528  104C  77          	ld	(hl),a
3529  104D  21 00 00    	ld	hl,_tmp
3530  1050  7E          	ld	a,(hl)
3531  1051  3C          	inc	a
3532  1052  77          	ld	(hl),a
3533  1053  D6 A0       	sub	a,0xa0
3534  1055  38 E0       	jr	C,l_game_obj_clear_00105
3535  1057  3A 00 00    	ld	a,(_game_inmune)
3536  105A  B7          	or	a, a
3537  105B  28 07       	jr	Z,l_game_obj_clear_00103
3538  105D  21 00 00    	ld	hl,_tmp
3539  1060  36 01       	ld	(hl),0x01
3540  1062  18 05       	jr	l_game_obj_clear_00104
3541  1064              l_game_obj_clear_00103:
3542  1064  21 00 00    	ld	hl,_tmp
3543  1067  36 00       	ld	(hl),0x00
3544  1069              l_game_obj_clear_00104:
3545  1069  3A 00 00    	ld	a,(_tmp)
3546  106C  32 00 00    	ld	(_player_keys),a
3547  106F  32 01 00    	ld	((_player_keys + 0x0001)),a
3548  1072  3A 00 00    	ld	a,(_tmp)
3549  1075  32 02 00    	ld	((_player_keys + 0x0002)),a
3550  1078  32 03 00    	ld	((_player_keys + 0x0003)),a
3551  107B  C9          	ret
3552  107C              	SECTION code_compiler
3553  107C              ;	---------------------------------
3554  107C              ; Function game_boss_clear
3555  107C              ; ---------------------------------
3556  107C              _game_boss_clear:
3557  107C  CD 00 00    	call	___sdcc_enter_ix
3558  107F  F5          	push	af
3559  1080  F5          	push	af
3560  1081  3A 00 00    	ld	a,(_game_world)
3561  1084  B7          	or	a, a
3562  1085  20 3C       	jr	NZ,l_game_boss_clear_00108
3563  1087  21 00 00    	ld	hl,0x0000
3564  108A  E3          	ex	(sp), hl
3565  108B              l_game_boss_clear_00106:
3566  108B  DD 6E FC    	ld	l,(ix-4)
3567  108E  DD 66 FD    	ld	h,(ix-3)
3568  1091  01 00 00    	ld	bc,_scr_map
3569  1094  09          	add	hl,bc
3570  1095  DD 75 FE    	ld	(ix-2),l
3571  1098  DD 74 FF    	ld	(ix-1),h
3572  109B  7E          	ld	a, (hl)
3573  109C  D6 37       	sub	a,0x37
3574  109E  20 0F       	jr	NZ,l_game_boss_clear_00107
3575  10A0  DD 6E FE    	ld	l,(ix-2)
3576  10A3  DD 66 FF    	ld	h,(ix-1)
3577  10A6  36 00       	ld	(hl),0x00
3578  10A8  21 00 00    	ld	hl,0x0000
3579  10AB  39          	add	hl, sp
3580  10AC  CD 00 00    	call	_spr_draw_index
3581  10AF              l_game_boss_clear_00107:
3582  10AF  DD 34 FC    	inc	(ix-4)
3583  10B2  20 03       	jr	NZ,l_game_boss_clear_00124
3584  10B4  DD 34 FD    	inc	(ix-3)
3585  10B7              l_game_boss_clear_00124:
3586  10B7  DD 7E FC    	ld	a,(ix-4)
3587  10BA  D6 A0       	sub	a,0xa0
3588  10BC  DD 7E FD    	ld	a,(ix-3)
3589  10BF  DE 00       	sbc	a,0x00
3590  10C1  38 C8       	jr	C,l_game_boss_clear_00106
3591  10C3              l_game_boss_clear_00108:
3592  10C3  DD F9       	ld	sp, ix
3593  10C5  DD E1       	pop	ix
3594  10C7  C9          	ret
3595  10C8              	SECTION code_compiler
3596  10C8              ;	---------------------------------
3597  10C8              ; Function game_rotate_attrib
3598  10C8              ; ---------------------------------
3599  10C8              _game_rotate_attrib:
3600  10C8  01 03 00    	ld	bc,_attrib_hl + 3
3601  10CB  0A          	ld	a, (bc)
3602  10CC  32 00 00    	ld	(_tmp_uc),a
3603  10CF  11 02 00    	ld	de,_attrib_hl + 2
3604  10D2  1A          	ld	a, (de)
3605  10D3  02          	ld	(bc), a
3606  10D4  01 01 00    	ld	bc,_attrib_hl + 1
3607  10D7  0A          	ld	a, (bc)
3608  10D8  12          	ld	(de), a
3609  10D9  3A 00 00    	ld	a,(_attrib_hl)
3610  10DC  02          	ld	(bc), a
3611  10DD  3A 00 00    	ld	a,(_tmp_uc)
3612  10E0  32 00 00    	ld	(_attrib_hl),a
3613  10E3  C9          	ret
3614  10E4              	SECTION code_compiler
3615  10E4              ;	---------------------------------
3616  10E4              ; Function game_rotate_attrib_osd
3617  10E4              ; ---------------------------------
3618  10E4              _game_rotate_attrib_osd:
3619  10E4  01 03 00    	ld	bc,_attrib_osd + 3
3620  10E7  0A          	ld	a, (bc)
3621  10E8  32 00 00    	ld	(_tmp_uc),a
3622  10EB  11 02 00    	ld	de,_attrib_osd + 2
3623  10EE  1A          	ld	a, (de)
3624  10EF  02          	ld	(bc), a
3625  10F0  01 01 00    	ld	bc,_attrib_osd + 1
3626  10F3  0A          	ld	a, (bc)
3627  10F4  12          	ld	(de), a
3628  10F5  3A 00 00    	ld	a,(_attrib_osd)
3629  10F8  02          	ld	(bc), a
3630  10F9  3A 00 00    	ld	a,(_tmp_uc)
3631  10FC  32 00 00    	ld	(_attrib_osd),a
3632  10FF  C9          	ret
3633  1100              	SECTION code_compiler
3634  1100              ;	---------------------------------
3635  1100              ; Function game_attribs
3636  1100              ; ---------------------------------
3637  1100              _game_attribs:
3638  1100  01 00 00    	ld	bc,_attrib+0
3639  1103  21 00 00    	ld	hl,_map_paper
3640  1106  7E          	ld	a, (hl)
3641  1107  F6 47       	or	a,0x47
3642  1109  02          	ld	(bc), a
3643  110A  59          	ld	e, c
3644  110B  50          	ld	d, b
3645  110C  13          	inc	de
3646  110D  7E          	ld	a, (hl)
3647  110E  F6 45       	or	a,0x45
3648  1110  12          	ld	(de), a
3649  1111  7E          	ld	a, (hl)
3650  1112  F6 45       	or	a,0x45
3651  1114  32 02 00    	ld	((_attrib + 0x0002)),a
3652  1117  03          	inc	bc
3653  1118  03          	inc	bc
3654  1119  03          	inc	bc
3655  111A  21 00 00    	ld	hl,_map_paper
3656  111D  7E          	ld	a, (hl)
3657  111E  F6 41       	or	a,0x41
3658  1120  02          	ld	(bc), a
3659  1121  01 00 00    	ld	bc,_attrib_hl+0
3660  1124  7E          	ld	a, (hl)
3661  1125  F6 41       	or	a,0x41
3662  1127  02          	ld	(bc), a
3663  1128  59          	ld	e, c
3664  1129  50          	ld	d, b
3665  112A  13          	inc	de
3666  112B  7E          	ld	a, (hl)
3667  112C  F6 41       	or	a,0x41
3668  112E  12          	ld	(de), a
3669  112F  7E          	ld	a, (hl)
3670  1130  F6 43       	or	a,0x43
3671  1132  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3672  1135  03          	inc	bc
3673  1136  03          	inc	bc
3674  1137  03          	inc	bc
3675  1138  21 00 00    	ld	hl,_map_paper
3676  113B  7E          	ld	a, (hl)
3677  113C  F6 45       	or	a,0x45
3678  113E  02          	ld	(bc), a
3679  113F  01 00 00    	ld	bc,_attrib_osd+0
3680  1142  7E          	ld	a, (hl)
3681  1143  F6 45       	or	a,0x45
3682  1145  02          	ld	(bc), a
3683  1146  59          	ld	e, c
3684  1147  50          	ld	d, b
3685  1148  13          	inc	de
3686  1149  7E          	ld	a, (hl)
3687  114A  F6 47       	or	a,0x47
3688  114C  12          	ld	(de), a
3689  114D  7E          	ld	a, (hl)
3690  114E  F6 47       	or	a,0x47
3691  1150  32 02 00    	ld	((_attrib_osd + 0x0002)),a
3692  1153  03          	inc	bc
3693  1154  03          	inc	bc
3694  1155  03          	inc	bc
3695  1156  3A 00 00    	ld	a,(_map_paper)
3696  1159  F6 45       	or	a,0x45
3697  115B  02          	ld	(bc), a
3698  115C  C9          	ret
3699  115D              	SECTION code_compiler
3700  115D              ;	---------------------------------
3701  115D              ; Function game_match_back
3702  115D              ; ---------------------------------
3703  115D              _game_match_back:
3704  115D  3E 01       	ld	a,0x01
3705  115F  BD          	cp	a,l
3706  1160  3E 00       	ld	a,0x00
3707  1162  9C          	sbc	a,h
3708  1163  30 3F       	jr	NC,l_game_match_back_00111
3709  1165  7D          	ld	a,l
3710  1166  E6 0F       	and	a,0x0f
3711  1168  28 3A       	jr	Z,l_game_match_back_00111
3712  116A  5D          	ld	e,l
3713  116B  54          	ld	d,h
3714  116C  4D          	ld	c,l
3715  116D  44          	ld	b,h
3716  116E  1B          	dec	de
3717  116F  21 00 00    	ld	hl,_scr_map
3718  1172  19          	add	hl, de
3719  1173  5E          	ld	e, (hl)
3720  1174  03          	inc	bc
3721  1175  21 00 00    	ld	hl,_scr_map
3722  1178  09          	add	hl, bc
3723  1179  4E          	ld	c, (hl)
3724  117A  7B          	ld	a, e
3725  117B  D6 1D       	sub	a,0x1d
3726  117D  28 05       	jr	Z,l_game_match_back_00101
3727  117F  79          	ld	a, c
3728  1180  D6 1D       	sub	a,0x1d
3729  1182  20 04       	jr	NZ,l_game_match_back_00102
3730  1184              l_game_match_back_00101:
3731  1184  2E 1D       	ld	l,0x1d
3732  1186  18 1E       	jr	l_game_match_back_00113
3733  1188              l_game_match_back_00102:
3734  1188  7B          	ld	a, e
3735  1189  D6 18       	sub	a,0x18
3736  118B  28 05       	jr	Z,l_game_match_back_00104
3737  118D  79          	ld	a, c
3738  118E  D6 18       	sub	a,0x18
3739  1190  20 04       	jr	NZ,l_game_match_back_00105
3740  1192              l_game_match_back_00104:
3741  1192  2E 18       	ld	l,0x18
3742  1194  18 10       	jr	l_game_match_back_00113
3743  1196              l_game_match_back_00105:
3744  1196  7B          	ld	a, e
3745  1197  D6 0D       	sub	a,0x0d
3746  1199  28 05       	jr	Z,l_game_match_back_00107
3747  119B  79          	ld	a, c
3748  119C  D6 0D       	sub	a,0x0d
3749  119E  20 04       	jr	NZ,l_game_match_back_00111
3750  11A0              l_game_match_back_00107:
3751  11A0  2E 0D       	ld	l,0x0d
3752  11A2  18 02       	jr	l_game_match_back_00113
3753  11A4              l_game_match_back_00111:
3754  11A4  2E 00       	ld	l,0x00
3755  11A6              l_game_match_back_00113:
3756  11A6  C9          	ret
3757  11A7              	SECTION code_compiler
3758  11A7              ;	---------------------------------
3759  11A7              ; Function menu_main
3760  11A7              ; ---------------------------------
3761  11A7              _menu_main:
3762  11A7  CD 00 00    	call	___sdcc_enter_ix
3763  11AA  F5          	push	af
3764  11AB  3B          	dec	sp
3765  11AC  DD 36 FE 01 	ld	(ix-2),0x01
3766  11B0  21 00 00    	ld	hl,_map_paper
3767  11B3  36 00       	ld	(hl),0x00
3768  11B5  DD 36 FF 01 	ld	(ix-1),0x01
3769  11B9  21 0A 16    	ld	hl,0x160a
3770  11BC  E5          	push	hl
3771  11BD  3E 07       	ld	a,0x07
3772  11BF  F5          	push	af
3773  11C0  33          	inc	sp
3774  11C1  CD D4 12    	call	_menu_main_print
3775  11C4  F1          	pop	af
3776  11C5  33          	inc	sp
3777  11C6              l_menu_main_00112:
3778  11C6  DD 7E FE    	ld	a,(ix-2)
3779  11C9  B7          	or	a, a
3780  11CA  CA CF 12    	jp	Z, l_menu_main_00115
3781  11CD  21 28 00    	ld	hl,0x0028
3782  11D0  CD 00 00    	call	_z80_delay_ms_fastcall
3783  11D3  CD 00 00    	call	_in_inkey
3784  11D6  E5          	push	hl
3785  11D7  CD C8 10    	call	_game_rotate_attrib
3786  11DA  C1          	pop	bc
3787  11DB  DD 7E FF    	ld	a,(ix-1)
3788  11DE  C6 06       	add	a,0x06
3789  11E0  DD 77 FD    	ld	(ix-3),a
3790  11E3  07          	rlca
3791  11E4  07          	rlca
3792  11E5  07          	rlca
3793  11E6  E6 F8       	and	a,0xf8
3794  11E8  C6 08       	add	a,0x08
3795  11EA  47          	ld	b, a
3796  11EB  C5          	push	bc
3797  11EC  C5          	push	bc
3798  11ED  33          	inc	sp
3799  11EE  21 0B 16    	ld	hl,0x160b
3800  11F1  E5          	push	hl
3801  11F2  CD 5A 0A    	call	_game_paint_attrib_lin_h
3802  11F5  F1          	pop	af
3803  11F6  33          	inc	sp
3804  11F7  C1          	pop	bc
3805  11F8  79          	ld	a, c
3806  11F9  C6 D0       	add	a,0xd0
3807  11FB  5F          	ld	e, a
3808  11FC  3E 06       	ld	a,0x06
3809  11FE  93          	sub	a, e
3810  11FF  38 C5       	jr	C,l_menu_main_00112
3811  1201  16 00       	ld	d,0x00
3812  1203  21 0A 12    	ld	hl,l_menu_main_00133
3813  1206  19          	add	hl, de
3814  1207  19          	add	hl, de
3815  1208  19          	add	hl, de
3816  1209  E9          	jp	(hl)
3817  120A              l_menu_main_00133:
3818  120A  C3 C2 12    	jp	l_menu_main_00110
3819  120D  C3 1F 12    	jp	l_menu_main_00101
3820  1210  C3 36 12    	jp	l_menu_main_00102
3821  1213  C3 4E 12    	jp	l_menu_main_00103
3822  1216  C3 66 12    	jp	l_menu_main_00104
3823  1219  C3 7E 12    	jp	l_menu_main_00105
3824  121C  C3 9B 12    	jp	l_menu_main_00106
3825  121F              l_menu_main_00101:
3826  121F  21 00 00    	ld	hl,_in_stick_sinclair1
3827  1222  22 00 00    	ld	(_joyfunc1),hl
3828  1225  C5          	push	bc
3829  1226  33          	inc	sp
3830  1227  21 0A 16    	ld	hl,0x160a
3831  122A  E5          	push	hl
3832  122B  CD 33 0A    	call	_game_paint_attrib_lin
3833  122E  F1          	pop	af
3834  122F  33          	inc	sp
3835  1230  DD 36 FF 01 	ld	(ix-1),0x01
3836  1234  18 90       	jr	l_menu_main_00112
3837  1236              l_menu_main_00102:
3838  1236  21 00 00    	ld	hl,_in_stick_keyboard
3839  1239  22 00 00    	ld	(_joyfunc1),hl
3840  123C  C5          	push	bc
3841  123D  33          	inc	sp
3842  123E  21 0A 16    	ld	hl,0x160a
3843  1241  E5          	push	hl
3844  1242  CD 33 0A    	call	_game_paint_attrib_lin
3845  1245  F1          	pop	af
3846  1246  33          	inc	sp
3847  1247  DD 36 FF 02 	ld	(ix-1),0x02
3848  124B  C3 C6 11    	jp	l_menu_main_00112
3849  124E              l_menu_main_00103:
3850  124E  21 00 00    	ld	hl,_in_stick_kempston
3851  1251  22 00 00    	ld	(_joyfunc1),hl
3852  1254  C5          	push	bc
3853  1255  33          	inc	sp
3854  1256  21 0A 16    	ld	hl,0x160a
3855  1259  E5          	push	hl
3856  125A  CD 33 0A    	call	_game_paint_attrib_lin
3857  125D  F1          	pop	af
3858  125E  33          	inc	sp
3859  125F  DD 36 FF 03 	ld	(ix-1),0x03
3860  1263  C3 C6 11    	jp	l_menu_main_00112
3861  1266              l_menu_main_00104:
3862  1266  21 00 00    	ld	hl,_in_stick_cursor
3863  1269  22 00 00    	ld	(_joyfunc1),hl
3864  126C  C5          	push	bc
3865  126D  33          	inc	sp
3866  126E  21 0A 16    	ld	hl,0x160a
3867  1271  E5          	push	hl
3868  1272  CD 33 0A    	call	_game_paint_attrib_lin
3869  1275  F1          	pop	af
3870  1276  33          	inc	sp
3871  1277  DD 36 FF 04 	ld	(ix-1),0x04
3872  127B  C3 C6 11    	jp	l_menu_main_00112
3873  127E              l_menu_main_00105:
3874  127E  C5          	push	bc
3875  127F  CD B2 14    	call	_menu_redefine
3876  1282  C1          	pop	bc
3877  1283  21 00 00    	ld	hl,_in_stick_keyboard
3878  1286  22 00 00    	ld	(_joyfunc1),hl
3879  1289  C5          	push	bc
3880  128A  33          	inc	sp
3881  128B  21 0A 16    	ld	hl,0x160a
3882  128E  E5          	push	hl
3883  128F  CD 33 0A    	call	_game_paint_attrib_lin
3884  1292  F1          	pop	af
3885  1293  33          	inc	sp
3886  1294  DD 36 FF 02 	ld	(ix-1),0x02
3887  1298  C3 C6 11    	jp	l_menu_main_00112
3888  129B              l_menu_main_00106:
3889  129B  21 00 00    	ld	hl,_game_2buttons
3890  129E  7E          	ld	a, (hl)
3891  129F  B7          	or	a, a
3892  12A0  28 04       	jr	Z,l_menu_main_00108
3893  12A2  36 00       	ld	(hl),0x00
3894  12A4  18 05       	jr	l_menu_main_00109
3895  12A6              l_menu_main_00108:
3896  12A6  21 00 00    	ld	hl,_game_2buttons
3897  12A9  36 01       	ld	(hl),0x01
3898  12AB              l_menu_main_00109:
3899  12AB  21 0A 16    	ld	hl,0x160a
3900  12AE  E5          	push	hl
3901  12AF  DD 7E FD    	ld	a,(ix-3)
3902  12B2  F5          	push	af
3903  12B3  33          	inc	sp
3904  12B4  CD D4 12    	call	_menu_main_print
3905  12B7  F1          	pop	af
3906  12B8  33          	inc	sp
3907  12B9  21 28 00    	ld	hl,0x0028
3908  12BC  CD 00 00    	call	_z80_delay_ms_fastcall
3909  12BF  C3 C6 11    	jp	l_menu_main_00112
3910  12C2              l_menu_main_00110:
3911  12C2  76          	halt
3912  12C3  2E 00       	ld	l,0x00
3913  12C5  CD 00 00    	call	_zx_cls_fastcall
3914  12C8  DD 36 FE 00 	ld	(ix-2),0x00
3915  12CC  C3 C6 11    	jp	l_menu_main_00112
3916  12CF              l_menu_main_00115:
3917  12CF  DD F9       	ld	sp, ix
3918  12D1  DD E1       	pop	ix
3919  12D3  C9          	ret
3920  12D4              	SECTION code_compiler
3921  12D4              ;	---------------------------------
3922  12D4              ; Function menu_main_print
3923  12D4              ; ---------------------------------
3924  12D4              _menu_main_print:
3925  12D4  CD 00 00    	call	___sdcc_enter_ix
3926  12D7  76          	halt
3927  12D8  2E 00       	ld	l,0x00
3928  12DA  CD 00 00    	call	_zx_cls_fastcall
3929  12DD  21 00 00    	ld	hl,_screen_ink
3930  12E0  36 07       	ld	(hl),0x07
3931  12E2  21 20 0B    	ld	hl,0x0b20
3932  12E5  E5          	push	hl
3933  12E6  21 00 CC    	ld	hl,0xcc00
3934  12E9  E5          	push	hl
3935  12EA  CD 00 00    	call	_NIRVANAP_spriteT_callee
3936  12ED  21 20 0D    	ld	hl,0x0d20
3937  12F0  E5          	push	hl
3938  12F1  21 01 CD    	ld	hl,0xcd01
3939  12F4  E5          	push	hl
3940  12F5  CD 00 00    	call	_NIRVANAP_spriteT_callee
3941  12F8  21 20 0F    	ld	hl,0x0f20
3942  12FB  E5          	push	hl
3943  12FC  21 02 CE    	ld	hl,0xce02
3944  12FF  E5          	push	hl
3945  1300  CD 00 00    	call	_NIRVANAP_spriteT_callee
3946  1303  21 20 11    	ld	hl,0x1120
3947  1306  E5          	push	hl
3948  1307  21 03 CF    	ld	hl,0xcf03
3949  130A  E5          	push	hl
3950  130B  CD 00 00    	call	_NIRVANAP_spriteT_callee
3951  130E  CD 00 11    	call	_game_attribs
3952  1311  21 76 00    	ld	hl,___str_28
3953  1314  E5          	push	hl
3954  1315  DD 66 05    	ld	h,(ix+5)
3955  1318  DD 6E 04    	ld	l,(ix+4)
3956  131B  E5          	push	hl
3957  131C  CD 00 00    	call	_zx_print_str
3958  131F  DD 7E 04    	ld	a,(ix+4)
3959  1322  07          	rlca
3960  1323  07          	rlca
3961  1324  07          	rlca
3962  1325  E6 F8       	and	a,0xf8
3963  1327  C6 08       	add	a,0x08
3964  1329  F5          	push	af
3965  132A  33          	inc	sp
3966  132B  DD 66 06    	ld	h,(ix+6)
3967  132E  DD 6E 05    	ld	l,(ix+5)
3968  1331  E5          	push	hl
3969  1332  CD 33 0A    	call	_game_paint_attrib_lin
3970  1335  F1          	pop	af
3971  1336  33          	inc	sp
3972  1337  DD 34 04    	inc	(ix+4)
3973  133A  21 81 00    	ld	hl,___str_29
3974  133D  E5          	push	hl
3975  133E  DD 66 05    	ld	h,(ix+5)
3976  1341  DD 6E 04    	ld	l,(ix+4)
3977  1344  E5          	push	hl
3978  1345  CD 00 00    	call	_zx_print_str
3979  1348  DD 7E 04    	ld	a,(ix+4)
3980  134B  07          	rlca
3981  134C  07          	rlca
3982  134D  07          	rlca
3983  134E  E6 F8       	and	a,0xf8
3984  1350  C6 08       	add	a,0x08
3985  1352  F5          	push	af
3986  1353  33          	inc	sp
3987  1354  DD 66 06    	ld	h,(ix+6)
3988  1357  DD 6E 05    	ld	l,(ix+5)
3989  135A  E5          	push	hl
3990  135B  CD 33 0A    	call	_game_paint_attrib_lin
3991  135E  F1          	pop	af
3992  135F  33          	inc	sp
3993  1360  DD 34 04    	inc	(ix+4)
3994  1363  21 8C 00    	ld	hl,___str_30
3995  1366  E5          	push	hl
3996  1367  DD 66 05    	ld	h,(ix+5)
3997  136A  DD 6E 04    	ld	l,(ix+4)
3998  136D  E5          	push	hl
3999  136E  CD 00 00    	call	_zx_print_str
4000  1371  DD 7E 04    	ld	a,(ix+4)
4001  1374  07          	rlca
4002  1375  07          	rlca
4003  1376  07          	rlca
4004  1377  E6 F8       	and	a,0xf8
4005  1379  C6 08       	add	a,0x08
4006  137B  F5          	push	af
4007  137C  33          	inc	sp
4008  137D  DD 66 06    	ld	h,(ix+6)
4009  1380  DD 6E 05    	ld	l,(ix+5)
4010  1383  E5          	push	hl
4011  1384  CD 33 0A    	call	_game_paint_attrib_lin
4012  1387  F1          	pop	af
4013  1388  33          	inc	sp
4014  1389  DD 34 04    	inc	(ix+4)
4015  138C  21 97 00    	ld	hl,___str_31
4016  138F  E5          	push	hl
4017  1390  DD 66 05    	ld	h,(ix+5)
4018  1393  DD 6E 04    	ld	l,(ix+4)
4019  1396  E5          	push	hl
4020  1397  CD 00 00    	call	_zx_print_str
4021  139A  DD 7E 04    	ld	a,(ix+4)
4022  139D  07          	rlca
4023  139E  07          	rlca
4024  139F  07          	rlca
4025  13A0  E6 F8       	and	a,0xf8
4026  13A2  C6 08       	add	a,0x08
4027  13A4  F5          	push	af
4028  13A5  33          	inc	sp
4029  13A6  DD 66 06    	ld	h,(ix+6)
4030  13A9  DD 6E 05    	ld	l,(ix+5)
4031  13AC  E5          	push	hl
4032  13AD  CD 33 0A    	call	_game_paint_attrib_lin
4033  13B0  F1          	pop	af
4034  13B1  33          	inc	sp
4035  13B2  DD 34 04    	inc	(ix+4)
4036  13B5  21 A0 00    	ld	hl,___str_32
4037  13B8  E5          	push	hl
4038  13B9  DD 66 05    	ld	h,(ix+5)
4039  13BC  DD 6E 04    	ld	l,(ix+4)
4040  13BF  E5          	push	hl
4041  13C0  CD 00 00    	call	_zx_print_str
4042  13C3  DD 7E 04    	ld	a,(ix+4)
4043  13C6  07          	rlca
4044  13C7  07          	rlca
4045  13C8  07          	rlca
4046  13C9  E6 F8       	and	a,0xf8
4047  13CB  C6 08       	add	a,0x08
4048  13CD  F5          	push	af
4049  13CE  33          	inc	sp
4050  13CF  DD 66 06    	ld	h,(ix+6)
4051  13D2  DD 6E 05    	ld	l,(ix+5)
4052  13D5  E5          	push	hl
4053  13D6  CD 33 0A    	call	_game_paint_attrib_lin
4054  13D9  F1          	pop	af
4055  13DA  33          	inc	sp
4056  13DB  DD 34 04    	inc	(ix+4)
4057  13DE  21 A9 00    	ld	hl,___str_33
4058  13E1  E5          	push	hl
4059  13E2  DD 66 05    	ld	h,(ix+5)
4060  13E5  DD 6E 04    	ld	l,(ix+4)
4061  13E8  E5          	push	hl
4062  13E9  CD 00 00    	call	_zx_print_str
4063  13EC  DD 7E 05    	ld	a,(ix+5)
4064  13EF  C6 0A       	add	a,0x0a
4065  13F1  47          	ld	b, a
4066  13F2  3A 00 00    	ld	a,(_game_2buttons)
4067  13F5  B7          	or	a, a
4068  13F6  28 0D       	jr	Z,l_menu_main_print_00102
4069  13F8  21 B3 00    	ld	hl,___str_34
4070  13FB  E5          	push	hl
4071  13FC  DD 4E 04    	ld	c,(ix+4)
4072  13FF  C5          	push	bc
4073  1400  CD 00 00    	call	_zx_print_str
4074  1403  18 0B       	jr	l_menu_main_print_00103
4075  1405              l_menu_main_print_00102:
4076  1405  21 B6 00    	ld	hl,___str_35
4077  1408  E5          	push	hl
4078  1409  DD 4E 04    	ld	c,(ix+4)
4079  140C  C5          	push	bc
4080  140D  CD 00 00    	call	_zx_print_str
4081  1410              l_menu_main_print_00103:
4082  1410  DD 7E 04    	ld	a,(ix+4)
4083  1413  07          	rlca
4084  1414  07          	rlca
4085  1415  07          	rlca
4086  1416  E6 F8       	and	a,0xf8
4087  1418  C6 08       	add	a,0x08
4088  141A  F5          	push	af
4089  141B  33          	inc	sp
4090  141C  DD 66 06    	ld	h,(ix+6)
4091  141F  DD 6E 05    	ld	l,(ix+5)
4092  1422  E5          	push	hl
4093  1423  CD 33 0A    	call	_game_paint_attrib_lin
4094  1426  F1          	pop	af
4095  1427  33          	inc	sp
4096  1428  DD 34 04    	inc	(ix+4)
4097  142B  DD 34 04    	inc	(ix+4)
4098  142E  21 B9 00    	ld	hl,___str_36
4099  1431  E5          	push	hl
4100  1432  DD 66 05    	ld	h,(ix+5)
4101  1435  DD 6E 04    	ld	l,(ix+4)
4102  1438  E5          	push	hl
4103  1439  CD 00 00    	call	_zx_print_str
4104  143C  DD 7E 04    	ld	a,(ix+4)
4105  143F  07          	rlca
4106  1440  07          	rlca
4107  1441  07          	rlca
4108  1442  E6 F8       	and	a,0xf8
4109  1444  C6 08       	add	a,0x08
4110  1446  F5          	push	af
4111  1447  33          	inc	sp
4112  1448  DD 66 06    	ld	h,(ix+6)
4113  144B  DD 6E 05    	ld	l,(ix+5)
4114  144E  E5          	push	hl
4115  144F  CD 33 0A    	call	_game_paint_attrib_lin
4116  1452  F1          	pop	af
4117  1453  33          	inc	sp
4118  1454  DD 34 04    	inc	(ix+4)
4119  1457  DD 34 04    	inc	(ix+4)
4120  145A  DD 34 04    	inc	(ix+4)
4121  145D  DD 34 04    	inc	(ix+4)
4122  1460  21 C1 00    	ld	hl,___str_37
4123  1463  E5          	push	hl
4124  1464  26 02       	ld	h,0x02
4125  1466  DD 6E 04    	ld	l,(ix+4)
4126  1469  E5          	push	hl
4127  146A  CD 00 00    	call	_zx_print_str
4128  146D  DD 7E 04    	ld	a,(ix+4)
4129  1470  07          	rlca
4130  1471  07          	rlca
4131  1472  07          	rlca
4132  1473  E6 F8       	and	a,0xf8
4133  1475  C6 08       	add	a,0x08
4134  1477  F5          	push	af
4135  1478  33          	inc	sp
4136  1479  21 00 1F    	ld	hl,0x1f00
4137  147C  E5          	push	hl
4138  147D  CD 5A 0A    	call	_game_paint_attrib_lin_h
4139  1480  F1          	pop	af
4140  1481  33          	inc	sp
4141  1482  DD 34 04    	inc	(ix+4)
4142  1485  DD 34 04    	inc	(ix+4)
4143  1488  21 00 00    	ld	hl,_screen_ink
4144  148B  36 05       	ld	(hl),0x05
4145  148D  21 DF 00    	ld	hl,___str_38
4146  1490  E5          	push	hl
4147  1491  26 08       	ld	h,0x08
4148  1493  DD 6E 04    	ld	l,(ix+4)
4149  1496  E5          	push	hl
4150  1497  CD 00 00    	call	_zx_print_str
4151  149A  DD 7E 04    	ld	a,(ix+4)
4152  149D  07          	rlca
4153  149E  07          	rlca
4154  149F  07          	rlca
4155  14A0  E6 F8       	and	a,0xf8
4156  14A2  C6 08       	add	a,0x08
4157  14A4  F5          	push	af
4158  14A5  33          	inc	sp
4159  14A6  21 00 1F    	ld	hl,0x1f00
4160  14A9  E5          	push	hl
4161  14AA  CD 33 0A    	call	_game_paint_attrib_lin
4162  14AD  F1          	pop	af
4163  14AE  33          	inc	sp
4164  14AF  DD E1       	pop	ix
4165  14B1  C9          	ret
4166  14B2              	SECTION rodata_compiler
4167  0076              ___str_28:
4168  0076  31 20 53 49 4E 43 4C 41 49 52 
                        	DEFM "1 SINCLAIR"
4169  0080  00          	DEFB 0x00
4170  0081              	SECTION rodata_compiler
4171  0081              ___str_29:
4172  0081  32 20 4B 45 59 42 4F 41 52 44 
                        	DEFM "2 KEYBOARD"
4173  008B  00          	DEFB 0x00
4174  008C              	SECTION rodata_compiler
4175  008C              ___str_30:
4176  008C  33 20 4B 45 4D 50 53 54 4F 4E 
                        	DEFM "3 KEMPSTON"
4177  0096  00          	DEFB 0x00
4178  0097              	SECTION rodata_compiler
4179  0097              ___str_31:
4180  0097  34 20 43 55 52 53 4F 52 
                        	DEFM "4 CURSOR"
4181  009F  00          	DEFB 0x00
4182  00A0              	SECTION rodata_compiler
4183  00A0              ___str_32:
4184  00A0  35 20 44 45 46 49 4E 45 
                        	DEFM "5 DEFINE"
4185  00A8  00          	DEFB 0x00
4186  00A9              	SECTION rodata_compiler
4187  00A9              ___str_33:
4188  00A9  36 20 43 4F 4E 54 52 4F 4C 
                        	DEFM "6 CONTROL"
4189  00B2  00          	DEFB 0x00
4190  00B3              	SECTION rodata_compiler
4191  00B3              ___str_34:
4192  00B3  32 42       	DEFM "2B"
4193  00B5  00          	DEFB 0x00
4194  00B6              	SECTION rodata_compiler
4195  00B6              ___str_35:
4196  00B6  31 42       	DEFM "1B"
4197  00B8  00          	DEFB 0x00
4198  00B9              	SECTION rodata_compiler
4199  00B9              ___str_36:
4200  00B9  30 20 53 54 41 52 54 
                        	DEFM "0 START"
4201  00C0  00          	DEFB 0x00
4202  00C1              	SECTION rodata_compiler
4203  00C1              ___str_37:
4204  00C1  43 47 4F 4E 5A 41 4C 45 5A 2F 41 41 4E 4F 4E 2F 53 39 2F 42 45 49 4B 45 52 2F 41 42 55 
                        	DEFM "CGONZALEZ/AANON/S9/BEIKER/ABU"
4205  00DE  00          	DEFB 0x00
4206  00DF              	SECTION rodata_compiler
4207  00DF              ___str_38:
4208  00DF  32 30 31 38 20 4E 4F 45 4E 54 49 45 4E 44 4F 
                        	DEFM "2018 NOENTIENDO"
4209  00EE  00          	DEFB 0x00
4210  00EF              	SECTION code_compiler
4211  14B2              ;	---------------------------------
4212  14B2              ; Function menu_redefine
4213  14B2              ; ---------------------------------
4214  14B2              _menu_redefine:
4215  14B2  76          	halt
4216  14B3  2E 00       	ld	l,0x00
4217  14B5  CD 00 00    	call	_zx_cls_fastcall
4218  14B8  21 00 00    	ld	hl,_tmp0
4219  14BB  36 08       	ld	(hl),0x08
4220  14BD              l_menu_redefine_00105:
4221  14BD  3A 00 00    	ld	a,(_tmp0)
4222  14C0  07          	rlca
4223  14C1  07          	rlca
4224  14C2  07          	rlca
4225  14C3  E6 F8       	and	a,0xf8
4226  14C5  C6 08       	add	a,0x08
4227  14C7  F5          	push	af
4228  14C8  33          	inc	sp
4229  14C9  21 0A 10    	ld	hl,0x100a
4230  14CC  E5          	push	hl
4231  14CD  CD 33 0A    	call	_game_paint_attrib_lin
4232  14D0  F1          	pop	af
4233  14D1  33          	inc	sp
4234  14D2  21 00 00    	ld	hl,_tmp0
4235  14D5  7E          	ld	a,(hl)
4236  14D6  3C          	inc	a
4237  14D7  77          	ld	(hl),a
4238  14D8  D6 0E       	sub	a,0x0e
4239  14DA  38 E1       	jr	C,l_menu_redefine_00105
4240  14DC  21 EF 00    	ld	hl,___str_39
4241  14DF  E5          	push	hl
4242  14E0  21 08 0A    	ld	hl,0x0a08
4243  14E3  E5          	push	hl
4244  14E4  CD 00 00    	call	_zx_print_str
4245  14E7  CD 70 15    	call	_menu_define_key
4246  14EA  22 08 00    	ld	(_k1 + 0x0008),hl
4247  14ED  21 F2 00    	ld	hl,___str_40
4248  14F0  E5          	push	hl
4249  14F1  21 09 0A    	ld	hl,0x0a09
4250  14F4  E5          	push	hl
4251  14F5  CD 00 00    	call	_zx_print_str
4252  14F8  CD 70 15    	call	_menu_define_key
4253  14FB  22 06 00    	ld	(_k1 + 0x0006),hl
4254  14FE  21 F7 00    	ld	hl,___str_41
4255  1501  E5          	push	hl
4256  1502  21 0A 0A    	ld	hl,0x0a0a
4257  1505  E5          	push	hl
4258  1506  CD 00 00    	call	_zx_print_str
4259  1509  CD 70 15    	call	_menu_define_key
4260  150C  22 04 00    	ld	(_k1 + 0x0004),hl
4261  150F  21 FC 00    	ld	hl,___str_42
4262  1512  E5          	push	hl
4263  1513  21 0B 0A    	ld	hl,0x0a0b
4264  1516  E5          	push	hl
4265  1517  CD 00 00    	call	_zx_print_str
4266  151A  CD 70 15    	call	_menu_define_key
4267  151D  22 02 00    	ld	(_k1 + 0x0002),hl
4268  1520  3A 00 00    	ld	a,(_game_2buttons)
4269  1523  B7          	or	a, a
4270  1524  28 24       	jr	Z,l_menu_redefine_00103
4271  1526  21 02 01    	ld	hl,___str_43
4272  1529  E5          	push	hl
4273  152A  21 0C 0A    	ld	hl,0x0a0c
4274  152D  E5          	push	hl
4275  152E  CD 00 00    	call	_zx_print_str
4276  1531  CD 70 15    	call	_menu_define_key
4277  1534  22 00 00    	ld	(_k2),hl
4278  1537  21 07 01    	ld	hl,___str_44
4279  153A  E5          	push	hl
4280  153B  21 0D 0A    	ld	hl,0x0a0d
4281  153E  E5          	push	hl
4282  153F  CD 00 00    	call	_zx_print_str
4283  1542  CD 70 15    	call	_menu_define_key
4284  1545  22 00 00    	ld	(_k1),hl
4285  1548  18 11       	jr	l_menu_redefine_00104
4286  154A              l_menu_redefine_00103:
4287  154A  21 02 01    	ld	hl,___str_43
4288  154D  E5          	push	hl
4289  154E  21 0C 0A    	ld	hl,0x0a0c
4290  1551  E5          	push	hl
4291  1552  CD 00 00    	call	_zx_print_str
4292  1555  CD 70 15    	call	_menu_define_key
4293  1558  22 00 00    	ld	(_k1),hl
4294  155B              l_menu_redefine_00104:
4295  155B  21 0C 20    	ld	hl,0x200c
4296  155E  E5          	push	hl
4297  155F  CD 00 00    	call	_game_fill_row
4298  1562  21 0A 14    	ld	hl,0x140a
4299  1565  E5          	push	hl
4300  1566  3E 07       	ld	a,0x07
4301  1568  F5          	push	af
4302  1569  33          	inc	sp
4303  156A  CD D4 12    	call	_menu_main_print
4304  156D  F1          	pop	af
4305  156E  33          	inc	sp
4306  156F  C9          	ret
4307  1570              	SECTION rodata_compiler
4308  00EF              ___str_39:
4309  00EF  55 50       	DEFM "UP"
4310  00F1  00          	DEFB 0x00
4311  00F2              	SECTION rodata_compiler
4312  00F2              ___str_40:
4313  00F2  44 4F 57 4E 	DEFM "DOWN"
4314  00F6  00          	DEFB 0x00
4315  00F7              	SECTION rodata_compiler
4316  00F7              ___str_41:
4317  00F7  4C 45 46 54 	DEFM "LEFT"
4318  00FB  00          	DEFB 0x00
4319  00FC              	SECTION rodata_compiler
4320  00FC              ___str_42:
4321  00FC  52 49 47 48 54 
                        	DEFM "RIGHT"
4322  0101  00          	DEFB 0x00
4323  0102              	SECTION rodata_compiler
4324  0102              ___str_43:
4325  0102  46 49 52 45 	DEFM "FIRE"
4326  0106  00          	DEFB 0x00
4327  0107              	SECTION rodata_compiler
4328  0107              ___str_44:
4329  0107  4A 55 4D 50 	DEFM "JUMP"
4330  010B  00          	DEFB 0x00
4331  010C              	SECTION code_compiler
4332  1570              ;	---------------------------------
4333  1570              ; Function menu_define_key
4334  1570              ; ---------------------------------
4335  1570              _menu_define_key:
4336  1570              l_menu_define_key_00107:
4337  1570  CD 00 00    	call	_in_wait_key
4338  1573  CD 00 00    	call	_in_inkey
4339  1576  7D          	ld	a,l
4340  1577  32 00 00    	ld	(_tmp1),a
4341  157A  CD 00 00    	call	_in_wait_nokey
4342  157D  21 00 00    	ld	hl,_tmp0
4343  1580  36 00       	ld	(hl),0x00
4344  1582              l_menu_define_key_00103:
4345  1582  21 00 00    	ld	hl,_tmp0
4346  1585  7E          	ld	a, (hl)
4347  1586  D6 26       	sub	a,0x26
4348  1588  30 E6       	jr	NC,l_menu_define_key_00107
4349  158A  4E          	ld	c,(hl)
4350  158B  06 00       	ld	b,0x00
4351  158D  21 00 00    	ld	hl,_key_map
4352  1590  09          	add	hl,bc
4353  1591  4E          	ld	c, (hl)
4354  1592  3A 00 00    	ld	a,(_tmp1)
4355  1595  91          	sub	a, c
4356  1596  20 10       	jr	NZ,l_menu_define_key_00102
4357  1598  01 00 00    	ld	bc,_scan_map+0
4358  159B  2A 00 00    	ld	hl,(_tmp0)
4359  159E  26 00       	ld	h,0x00
4360  15A0  29          	add	hl, hl
4361  15A1  09          	add	hl, bc
4362  15A2  7E          	ld	a, (hl)
4363  15A3  23          	inc	hl
4364  15A4  66          	ld	h, (hl)
4365  15A5  6F          	ld	l, a
4366  15A6  18 06       	jr	l_menu_define_key_00109
4367  15A8              l_menu_define_key_00102:
4368  15A8  21 00 00    	ld	hl,_tmp0
4369  15AB  34          	inc	(hl)
4370  15AC  18 D4       	jr	l_menu_define_key_00103
4371  15AE              l_menu_define_key_00109:
4372  15AE  C9          	ret
4373  15AF              	SECTION IGNORE
4374  0000              
