1     0000              MODULE game_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _enemy_ghost
189   0000              	GLOBAL _enemy_gota
190   0000              	GLOBAL _enemy_turn
191   0000              	GLOBAL _boss_turn
192   0000              	GLOBAL _boss_draw
193   0000              	GLOBAL _enemy_move
194   0000              	GLOBAL _enemy_static
195   0000              	GLOBAL _enemy_horizontal
196   0000              	GLOBAL _enemy_vertical
197   0000              	GLOBAL _enemy_walk
198   0000              	GLOBAL _enemy_kill
199   0000              	GLOBAL _enemy_avoid_fall
200   0000              	GLOBAL _enemy_avoid_dead
201   0000              	GLOBAL _enemy_respawn
202   0000              	GLOBAL _enemy_init
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _ulltoa_callee
207   0000              	GLOBAL _ulltoa
208   0000              	GLOBAL _strtoull_callee
209   0000              	GLOBAL _strtoull
210   0000              	GLOBAL _strtoll_callee
211   0000              	GLOBAL _strtoll
212   0000              	GLOBAL _lltoa_callee
213   0000              	GLOBAL _lltoa
214   0000              	GLOBAL _llabs_callee
215   0000              	GLOBAL _llabs
216   0000              	GLOBAL __lldivu__callee
217   0000              	GLOBAL __lldivu_
218   0000              	GLOBAL __lldiv__callee
219   0000              	GLOBAL __lldiv_
220   0000              	GLOBAL _atoll_callee
221   0000              	GLOBAL _atoll
222   0000              	GLOBAL _realloc_unlocked_callee
223   0000              	GLOBAL _realloc_unlocked
224   0000              	GLOBAL _malloc_unlocked_fastcall
225   0000              	GLOBAL _malloc_unlocked
226   0000              	GLOBAL _free_unlocked_fastcall
227   0000              	GLOBAL _free_unlocked
228   0000              	GLOBAL _calloc_unlocked_callee
229   0000              	GLOBAL _calloc_unlocked
230   0000              	GLOBAL _aligned_alloc_unlocked_callee
231   0000              	GLOBAL _aligned_alloc_unlocked
232   0000              	GLOBAL _realloc_callee
233   0000              	GLOBAL _realloc
234   0000              	GLOBAL _malloc_fastcall
235   0000              	GLOBAL _malloc
236   0000              	GLOBAL _free_fastcall
237   0000              	GLOBAL _free
238   0000              	GLOBAL _calloc_callee
239   0000              	GLOBAL _calloc
240   0000              	GLOBAL _aligned_alloc_callee
241   0000              	GLOBAL _aligned_alloc
242   0000              	GLOBAL _utoa_callee
243   0000              	GLOBAL _utoa
244   0000              	GLOBAL _ultoa_callee
245   0000              	GLOBAL _ultoa
246   0000              	GLOBAL _system_fastcall
247   0000              	GLOBAL _system
248   0000              	GLOBAL _strtoul_callee
249   0000              	GLOBAL _strtoul
250   0000              	GLOBAL _strtol_callee
251   0000              	GLOBAL _strtol
252   0000              	GLOBAL _strtof_callee
253   0000              	GLOBAL _strtof
254   0000              	GLOBAL _strtod_callee
255   0000              	GLOBAL _strtod
256   0000              	GLOBAL _srand_fastcall
257   0000              	GLOBAL _srand
258   0000              	GLOBAL _rand
259   0000              	GLOBAL _quick_exit_fastcall
260   0000              	GLOBAL _quick_exit
261   0000              	GLOBAL _qsort_callee
262   0000              	GLOBAL _qsort
263   0000              	GLOBAL _ltoa_callee
264   0000              	GLOBAL _ltoa
265   0000              	GLOBAL _labs_fastcall
266   0000              	GLOBAL _labs
267   0000              	GLOBAL _itoa_callee
268   0000              	GLOBAL _itoa
269   0000              	GLOBAL _ftoh_callee
270   0000              	GLOBAL _ftoh
271   0000              	GLOBAL _ftog_callee
272   0000              	GLOBAL _ftog
273   0000              	GLOBAL _ftoe_callee
274   0000              	GLOBAL _ftoe
275   0000              	GLOBAL _ftoa_callee
276   0000              	GLOBAL _ftoa
277   0000              	GLOBAL _exit_fastcall
278   0000              	GLOBAL _exit
279   0000              	GLOBAL _dtoh_callee
280   0000              	GLOBAL _dtoh
281   0000              	GLOBAL _dtog_callee
282   0000              	GLOBAL _dtog
283   0000              	GLOBAL _dtoe_callee
284   0000              	GLOBAL _dtoe
285   0000              	GLOBAL _dtoa_callee
286   0000              	GLOBAL _dtoa
287   0000              	GLOBAL _bsearch_callee
288   0000              	GLOBAL _bsearch
289   0000              	GLOBAL _atol_fastcall
290   0000              	GLOBAL _atol
291   0000              	GLOBAL _atoi_fastcall
292   0000              	GLOBAL _atoi
293   0000              	GLOBAL _atof_fastcall
294   0000              	GLOBAL _atof
295   0000              	GLOBAL _atexit_fastcall
296   0000              	GLOBAL _atexit
297   0000              	GLOBAL _at_quick_exit_fastcall
298   0000              	GLOBAL _at_quick_exit
299   0000              	GLOBAL _abs_fastcall
300   0000              	GLOBAL _abs
301   0000              	GLOBAL _abort
302   0000              	GLOBAL __strtou__callee
303   0000              	GLOBAL __strtou_
304   0000              	GLOBAL __strtoi__callee
305   0000              	GLOBAL __strtoi_
306   0000              	GLOBAL __random_uniform_xor_8__fastcall
307   0000              	GLOBAL __random_uniform_xor_8_
308   0000              	GLOBAL __random_uniform_xor_32__fastcall
309   0000              	GLOBAL __random_uniform_xor_32_
310   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
311   0000              	GLOBAL __random_uniform_cmwc_8_
312   0000              	GLOBAL __shellsort__callee
313   0000              	GLOBAL __shellsort_
314   0000              	GLOBAL __quicksort__callee
315   0000              	GLOBAL __quicksort_
316   0000              	GLOBAL __insertion_sort__callee
317   0000              	GLOBAL __insertion_sort_
318   0000              	GLOBAL __ldivu__callee
319   0000              	GLOBAL __ldivu_
320   0000              	GLOBAL __ldiv__callee
321   0000              	GLOBAL __ldiv_
322   0000              	GLOBAL __divu__callee
323   0000              	GLOBAL __divu_
324   0000              	GLOBAL __div__callee
325   0000              	GLOBAL __div_
326   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
327   0000              	GLOBAL _NIRVANAP_drawTW_raw
328   0000              	GLOBAL _NIRVANAP_drawTW_callee
329   0000              	GLOBAL _NIRVANAP_drawTW
330   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
331   0000              	GLOBAL _NIRVANAP_drawW_raw
332   0000              	GLOBAL _NIRVANAP_drawW_callee
333   0000              	GLOBAL _NIRVANAP_drawW
334   0000              	GLOBAL _NIRVANAP_spriteT_callee
335   0000              	GLOBAL _NIRVANAP_spriteT
336   0000              	GLOBAL _NIRVANAP_fillC_callee
337   0000              	GLOBAL _NIRVANAP_fillC
338   0000              	GLOBAL _NIRVANAP_readC_callee
339   0000              	GLOBAL _NIRVANAP_readC
340   0000              	GLOBAL _NIRVANAP_paintC_callee
341   0000              	GLOBAL _NIRVANAP_paintC
342   0000              	GLOBAL _NIRVANAP_printC_callee
343   0000              	GLOBAL _NIRVANAP_printC
344   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
345   0000              	GLOBAL _NIRVANAP_fillT_raw
346   0000              	GLOBAL _NIRVANAP_fillT_callee
347   0000              	GLOBAL _NIRVANAP_fillT
348   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawT_raw
350   0000              	GLOBAL _NIRVANAP_drawT_callee
351   0000              	GLOBAL _NIRVANAP_drawT
352   0000              	GLOBAL _NIRVANAP_stop
353   0000              	GLOBAL _NIRVANAP_start
354   0000              	GLOBAL _debug3
355   0000              	GLOBAL _debug2
356   0000              	GLOBAL _debug
357   0000              	GLOBAL _zx_print_str
358   0000              	GLOBAL _zx_print_int
359   0000              	GLOBAL _zx_print_chr
360   0000              	GLOBAL _zx_print_bonus_time
361   0000              	GLOBAL _zx_isr
362   0000              	GLOBAL _z80_otdr_callee
363   0000              	GLOBAL _z80_otdr
364   0000              	GLOBAL _z80_otir_callee
365   0000              	GLOBAL _z80_otir
366   0000              	GLOBAL _z80_outp_callee
367   0000              	GLOBAL _z80_outp
368   0000              	GLOBAL _z80_indr_callee
369   0000              	GLOBAL _z80_indr
370   0000              	GLOBAL _z80_inir_callee
371   0000              	GLOBAL _z80_inir
372   0000              	GLOBAL _z80_inp_fastcall
373   0000              	GLOBAL _z80_inp
374   0000              	GLOBAL _z80_set_int_state_fastcall
375   0000              	GLOBAL _z80_set_int_state
376   0000              	GLOBAL _z80_get_int_state
377   0000              	GLOBAL _z80_delay_tstate_fastcall
378   0000              	GLOBAL _z80_delay_tstate
379   0000              	GLOBAL _z80_delay_ms_fastcall
380   0000              	GLOBAL _z80_delay_ms
381   0000              	GLOBAL _im2_remove_generic_callback_callee
382   0000              	GLOBAL _im2_remove_generic_callback
383   0000              	GLOBAL _im2_prepend_generic_callback_callee
384   0000              	GLOBAL _im2_prepend_generic_callback
385   0000              	GLOBAL _im2_append_generic_callback_callee
386   0000              	GLOBAL _im2_append_generic_callback
387   0000              	GLOBAL _im2_create_generic_isr_8080_callee
388   0000              	GLOBAL _im2_create_generic_isr_8080
389   0000              	GLOBAL _im2_create_generic_isr_callee
390   0000              	GLOBAL _im2_create_generic_isr
391   0000              	GLOBAL _im2_install_isr_callee
392   0000              	GLOBAL _im2_install_isr
393   0000              	GLOBAL _im2_init_fastcall
394   0000              	GLOBAL _im2_init
395   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
396   0000              	GLOBAL _intrinsic_swap_word_32
397   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
398   0000              	GLOBAL _intrinsic_swap_endian_32
399   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
400   0000              	GLOBAL _intrinsic_swap_endian_16
401   0000              	GLOBAL _intrinsic_return_de
402   0000              	GLOBAL _intrinsic_return_bc
403   0000              	GLOBAL _intrinsic_exx
404   0000              	GLOBAL _intrinsic_ex_de_hl
405   0000              	GLOBAL _intrinsic_nop
406   0000              	GLOBAL _intrinsic_im_2
407   0000              	GLOBAL _intrinsic_im_1
408   0000              	GLOBAL _intrinsic_im_0
409   0000              	GLOBAL _intrinsic_retn
410   0000              	GLOBAL _intrinsic_reti
411   0000              	GLOBAL _intrinsic_halt
412   0000              	GLOBAL _intrinsic_ei
413   0000              	GLOBAL _intrinsic_di
414   0000              	GLOBAL _intrinsic_stub
415   0000              	GLOBAL _intrinsic_outi
416   0000              	GLOBAL _intrinsic_ldi
417   0000              	GLOBAL _zx_pattern_fill_callee
418   0000              	GLOBAL _zx_pattern_fill
419   0000              	GLOBAL _zx_saddrpup_fastcall
420   0000              	GLOBAL _zx_saddrpup
421   0000              	GLOBAL _zx_saddrpright_callee
422   0000              	GLOBAL _zx_saddrpright
423   0000              	GLOBAL _zx_saddrpleft_callee
424   0000              	GLOBAL _zx_saddrpleft
425   0000              	GLOBAL _zx_saddrpdown_fastcall
426   0000              	GLOBAL _zx_saddrpdown
427   0000              	GLOBAL _zx_saddrcup_fastcall
428   0000              	GLOBAL _zx_saddrcup
429   0000              	GLOBAL _zx_saddrcright_fastcall
430   0000              	GLOBAL _zx_saddrcright
431   0000              	GLOBAL _zx_saddrcleft_fastcall
432   0000              	GLOBAL _zx_saddrcleft
433   0000              	GLOBAL _zx_saddrcdown_fastcall
434   0000              	GLOBAL _zx_saddrcdown
435   0000              	GLOBAL _zx_saddr2py_fastcall
436   0000              	GLOBAL _zx_saddr2py
437   0000              	GLOBAL _zx_saddr2px_fastcall
438   0000              	GLOBAL _zx_saddr2px
439   0000              	GLOBAL _zx_saddr2cy_fastcall
440   0000              	GLOBAL _zx_saddr2cy
441   0000              	GLOBAL _zx_saddr2cx_fastcall
442   0000              	GLOBAL _zx_saddr2cx
443   0000              	GLOBAL _zx_saddr2aaddr_fastcall
444   0000              	GLOBAL _zx_saddr2aaddr
445   0000              	GLOBAL _zx_py2saddr_fastcall
446   0000              	GLOBAL _zx_py2saddr
447   0000              	GLOBAL _zx_py2aaddr_fastcall
448   0000              	GLOBAL _zx_py2aaddr
449   0000              	GLOBAL _zx_pxy2saddr_callee
450   0000              	GLOBAL _zx_pxy2saddr
451   0000              	GLOBAL _zx_pxy2aaddr_callee
452   0000              	GLOBAL _zx_pxy2aaddr
453   0000              	GLOBAL _zx_px2bitmask_fastcall
454   0000              	GLOBAL _zx_px2bitmask
455   0000              	GLOBAL _zx_cy2saddr_fastcall
456   0000              	GLOBAL _zx_cy2saddr
457   0000              	GLOBAL _zx_cy2aaddr_fastcall
458   0000              	GLOBAL _zx_cy2aaddr
459   0000              	GLOBAL _zx_cxy2saddr_callee
460   0000              	GLOBAL _zx_cxy2saddr
461   0000              	GLOBAL _zx_cxy2aaddr_callee
462   0000              	GLOBAL _zx_cxy2aaddr
463   0000              	GLOBAL _zx_bitmask2px_fastcall
464   0000              	GLOBAL _zx_bitmask2px
465   0000              	GLOBAL _zx_aaddrcup_fastcall
466   0000              	GLOBAL _zx_aaddrcup
467   0000              	GLOBAL _zx_aaddrcright_fastcall
468   0000              	GLOBAL _zx_aaddrcright
469   0000              	GLOBAL _zx_aaddrcleft_fastcall
470   0000              	GLOBAL _zx_aaddrcleft
471   0000              	GLOBAL _zx_aaddrcdown_fastcall
472   0000              	GLOBAL _zx_aaddrcdown
473   0000              	GLOBAL _zx_aaddr2saddr_fastcall
474   0000              	GLOBAL _zx_aaddr2saddr
475   0000              	GLOBAL _zx_aaddr2py_fastcall
476   0000              	GLOBAL _zx_aaddr2py
477   0000              	GLOBAL _zx_aaddr2px_fastcall
478   0000              	GLOBAL _zx_aaddr2px
479   0000              	GLOBAL _zx_aaddr2cy_fastcall
480   0000              	GLOBAL _zx_aaddr2cy
481   0000              	GLOBAL _zx_aaddr2cx_fastcall
482   0000              	GLOBAL _zx_aaddr2cx
483   0000              	GLOBAL _zx_visit_wc_pix_callee
484   0000              	GLOBAL _zx_visit_wc_pix
485   0000              	GLOBAL _zx_visit_wc_attr_callee
486   0000              	GLOBAL _zx_visit_wc_attr
487   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
488   0000              	GLOBAL _zx_scroll_wc_up_pix
489   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
490   0000              	GLOBAL _zx_scroll_wc_up_attr
491   0000              	GLOBAL _zx_scroll_wc_up_callee
492   0000              	GLOBAL _zx_scroll_wc_up
493   0000              	GLOBAL _zx_scroll_up_pix_callee
494   0000              	GLOBAL _zx_scroll_up_pix
495   0000              	GLOBAL _zx_scroll_up_attr_callee
496   0000              	GLOBAL _zx_scroll_up_attr
497   0000              	GLOBAL _zx_scroll_up_callee
498   0000              	GLOBAL _zx_scroll_up
499   0000              	GLOBAL _zx_cls_wc_pix_callee
500   0000              	GLOBAL _zx_cls_wc_pix
501   0000              	GLOBAL _zx_cls_wc_attr_callee
502   0000              	GLOBAL _zx_cls_wc_attr
503   0000              	GLOBAL _zx_cls_wc_callee
504   0000              	GLOBAL _zx_cls_wc
505   0000              	GLOBAL _zx_cls_pix_fastcall
506   0000              	GLOBAL _zx_cls_pix
507   0000              	GLOBAL _zx_cls_attr_fastcall
508   0000              	GLOBAL _zx_cls_attr
509   0000              	GLOBAL _zx_cls_fastcall
510   0000              	GLOBAL _zx_cls
511   0000              	GLOBAL _zx_border_fastcall
512   0000              	GLOBAL _zx_border
513   0000              	GLOBAL _spr_colision_b2
514   0000              	GLOBAL _spr_colision_b
515   0000              	GLOBAL _spr_unflatten
516   0000              	GLOBAL _spr_flatten
517   0000              	GLOBAL _spr_btile_paint_back
518   0000              	GLOBAL _spr_bullet_explode
519   0000              	GLOBAL _spr_init_effects
520   0000              	GLOBAL _spr_turn_horizontal
521   0000              	GLOBAL _spr_bullets_play
522   0000              	GLOBAL _spr_play_anim
523   0000              	GLOBAL _spr_add_anim
524   0000              	GLOBAL _spr_clear_scr
525   0000              	GLOBAL _spr_page_map
526   0000              	GLOBAL _spr_page_down
527   0000              	GLOBAL _spr_page_up
528   0000              	GLOBAL _spr_page_right
529   0000              	GLOBAL _spr_page_left
530   0000              	GLOBAL _spr_tile_paint
531   0000              	GLOBAL _spr_calc_hor
532   0000              	GLOBAL _spr_draw_index
533   0000              	GLOBAL _spr_brick_anim
534   0000              	GLOBAL _spr_back_repaint
535   0000              	GLOBAL _spr_tile
536   0000              	GLOBAL _spr_destroy
537   0000              	GLOBAL _spr_tile_dir
538   0000              	GLOBAL _spr_redraw
539   0000              	GLOBAL _spr_move_left
540   0000              	GLOBAL _spr_move_right
541   0000              	GLOBAL _spr_move_horizontal
542   0000              	GLOBAL _spr_move_down
543   0000              	GLOBAL _spr_move_up
544   0000              	GLOBAL _spr_set_down
545   0000              	GLOBAL _spr_set_up
546   0000              	GLOBAL _spr_calc_index
547   0000              	GLOBAL _spr_chktime
548   0000              	GLOBAL _player_fix_walk_lin
549   0000              	GLOBAL _player_gasta_brick
550   0000              	GLOBAL _player_lost_life
551   0000              	GLOBAL _player_hit
552   0000              	GLOBAL _player_open_door
553   0000              	GLOBAL _player_move_jump
554   0000              	GLOBAL _player_fire
555   0000              	GLOBAL _player_check_stairs_vertical
556   0000              	GLOBAL _player_check_stairs
557   0000              	GLOBAL _player_tile
558   0000              	GLOBAL _player_anim_tile
559   0000              	GLOBAL _player_pick_item
560   0000              	GLOBAL _player_check_floor
561   0000              	GLOBAL _player_hit_platform_clear
562   0000              	GLOBAL _player_score_add
563   0000              	GLOBAL _player_hit_platform
564   0000              	GLOBAL _player_move_input
565   0000              	GLOBAL _player_turn
566   0000              	GLOBAL _player_move
567   0000              	GLOBAL _player_check_input
568   0000              	GLOBAL _player_pick_mushroom
569   0000              	GLOBAL _player_collision
570   0000              	GLOBAL _player_init
571   0000              	GLOBAL _menu_define_key
572   0000              	GLOBAL _menu_redefine
573   0000              	GLOBAL _menu_main_print
574   0000              	GLOBAL _menu_main
575   0000              	GLOBAL _game_match_back
576   0000              	GLOBAL _game_attribs
577   0000              	GLOBAL _game_boss_clear
578   0000              	GLOBAL _game_boss_kill
579   0000              	GLOBAL _game_obj_clear
580   0000              	GLOBAL _game_obj_chk
581   0000              	GLOBAL _game_obj_set
582   0000              	GLOBAL _game_shoot_fire_boss
583   0000              	GLOBAL _game_shoot_fire
584   0000              	GLOBAL _game_add_enemy
585   0000              	GLOBAL _game_print_header
586   0000              	GLOBAL _game_check_time
587   0000              	GLOBAL _game_rotate_attrib_osd
588   0000              	GLOBAL _game_rotate_attrib
589   0000              	GLOBAL _game_colour_message
590   0000              	GLOBAL _game_paint_attrib_lin_osd
591   0000              	GLOBAL _game_paint_attrib_lin_h
592   0000              	GLOBAL _game_paint_attrib_lin
593   0000              	GLOBAL _game_print_score
594   0000              	GLOBAL _game_check_cell
595   0000              	GLOBAL _game_check_map
596   0000              	GLOBAL _game_loop
597   0000              	GLOBAL _game_round_init
598   0000              	GLOBAL _game_start_timer
599   0000              	GLOBAL _game_update_stats
600   0000              	GLOBAL _game_print_footer
601   0000              	GLOBAL _game_fill_row
602   0000              	GLOBAL _game_fps
603   0000              	GLOBAL _game_respawn
604   0000              	GLOBAL _game_draw_screen
605   0000              	GLOBAL _ay_fx_play
606   0000              	GLOBAL _ay_midi_play
607   0000              	GLOBAL _ay_is_playing
608   0000              	GLOBAL _ay_reset
609   0000              	GLOBAL _test_func
610   0000              	GLOBAL _test_proc
611   0000              	GLOBAL _in_mouse_kempston_wheel_delta
612   0000              	GLOBAL _in_mouse_kempston_wheel
613   0000              	GLOBAL _in_mouse_kempston_callee
614   0000              	GLOBAL _in_mouse_kempston
615   0000              	GLOBAL _in_mouse_kempston_setpos_callee
616   0000              	GLOBAL _in_mouse_kempston_setpos
617   0000              	GLOBAL _in_mouse_kempston_reset
618   0000              	GLOBAL _in_mouse_kempston_init
619   0000              	GLOBAL _in_mouse_amx_wheel_delta
620   0000              	GLOBAL _in_mouse_amx_wheel
621   0000              	GLOBAL _in_mouse_amx_callee
622   0000              	GLOBAL _in_mouse_amx
623   0000              	GLOBAL _in_mouse_amx_setpos_callee
624   0000              	GLOBAL _in_mouse_amx_setpos
625   0000              	GLOBAL _in_mouse_amx_reset
626   0000              	GLOBAL _in_mouse_amx_init_callee
627   0000              	GLOBAL _in_mouse_amx_init
628   0000              	GLOBAL _in_stick_sinclair2
629   0000              	GLOBAL _in_stick_sinclair1
630   0000              	GLOBAL _in_stick_kempston
631   0000              	GLOBAL _in_stick_fuller
632   0000              	GLOBAL _in_stick_cursor
633   0000              	GLOBAL _in_stick_keyboard_fastcall
634   0000              	GLOBAL _in_stick_keyboard
635   0000              	GLOBAL _in_wait_nokey
636   0000              	GLOBAL _in_wait_key
637   0000              	GLOBAL _in_test_key
638   0000              	GLOBAL _in_pause_fastcall
639   0000              	GLOBAL _in_pause
640   0000              	GLOBAL _in_key_scancode_fastcall
641   0000              	GLOBAL _in_key_scancode
642   0000              	GLOBAL _in_key_pressed_fastcall
643   0000              	GLOBAL _in_key_pressed
644   0000              	GLOBAL _in_inkey
645   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
646   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
647   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
648   0000              	GLOBAL _NIRVANAP_HOLE
649   0000              	GLOBAL _NIRVANAP_ISR_HOOK
650   0000              	GLOBAL _scan_map
651   0000              	GLOBAL _key_map
652   0000              	GLOBAL _player_lvl_table
653   0000              	GLOBAL _map_paper_last
654   0000              	GLOBAL _map_paper_clr
655   0000              	GLOBAL _map_paper
656   0000              	GLOBAL _draw_count
657   0000              	GLOBAL _g_player_hit_right
658   0000              	GLOBAL _g_player_hit_left
659   0000              	GLOBAL _bullet_count
660   0000              	GLOBAL _spr_hack
661   0000              	GLOBAL _boss_stat
662   0000              	GLOBAL _boss_time_fire
663   0000              	GLOBAL _boss_time
664   0000              	GLOBAL _boss_tile
665   0000              	GLOBAL _boss_inc
666   0000              	GLOBAL _boss_col
667   0000              	GLOBAL _boss_lin
668   0000              	GLOBAL _bullet
669   0000              	GLOBAL _bullet_vel
670   0000              	GLOBAL _bullet_frames
671   0000              	GLOBAL _bullet_colint
672   0000              	GLOBAL _bullet_dir
673   0000              	GLOBAL _bullet_tile
674   0000              	GLOBAL _bullet_col
675   0000              	GLOBAL _bullet_lin
676   0000              	GLOBAL _bullet_col0
677   0000              	GLOBAL _bullet_lin0
678   0000              	GLOBAL _bullet_max
679   0000              	GLOBAL _bullet_class
680   0000              	GLOBAL _mush_class
681   0000              	GLOBAL _mush_index
682   0000              	GLOBAL _anim_count
683   0000              	GLOBAL _anim_respanwn
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _sprite_kind
694   0000              	GLOBAL _scr_obj1
695   0000              	GLOBAL _scr_obj0
696   0000              	GLOBAL _scr_map
697   0000              	GLOBAL _sprite_speed_alt
698   0000              	GLOBAL _spr_init
699   0000              	GLOBAL _spr_map_tile
700   0000              	GLOBAL _sprite_frames
701   0000              	GLOBAL _sprite_speed
702   0000              	GLOBAL _screen_ink
703   0000              	GLOBAL _screen_paper
704   0000              	GLOBAL _player_onstair
705   0000              	GLOBAL _game_start_scr
706   0000              	GLOBAL _game_respawn_tile
707   0000              	GLOBAL _game_respawn_index
708   0000              	GLOBAL _game_respawn_time
709   0000              	GLOBAL _game_score_top
710   0000              	GLOBAL _player_coins
711   0000              	GLOBAL _player_lives
712   0000              	GLOBAL _game_over
713   0000              	GLOBAL _game_sound
714   0000              	GLOBAL _game_inmune
715   0000              	GLOBAL _game_god_mode
716   0000              	GLOBAL _sprite_curr_index
717   0000              	GLOBAL _spr_count
718   0000              	GLOBAL _bullet_time
719   0000              	GLOBAL _anim_time
720   0000              	GLOBAL _frame_time
721   0000              	GLOBAL _curr_time
722   0000              	GLOBAL _s_state
723   0000              	GLOBAL _attrib_osd
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _enemies
728   0000              	GLOBAL _tmp_ui
729   0000              	GLOBAL _tmp_sc
730   0000              	GLOBAL _tmp_uc
731   0000              	GLOBAL _tmp1
732   0000              	GLOBAL _tmp0
733   0000              	GLOBAL _tmp
734   0000              	GLOBAL _index1
735   0000              	GLOBAL _index0
736   0000              	GLOBAL _loop_count
737   0000              	GLOBAL _s_class
738   0000              	GLOBAL _s_col1
739   0000              	GLOBAL _s_col0
740   0000              	GLOBAL _s_lin1
741   0000              	GLOBAL _s_lin0
742   0000              	GLOBAL _s_tile1
743   0000              	GLOBAL _s_tile0
744   0000              	GLOBAL _player_brick_time
745   0000              	GLOBAL _player_hit_count
746   0000              	GLOBAL _sprite_horizontal_check
747   0000              	GLOBAL _sprite_on_air
748   0000              	GLOBAL _sprite
749   0000              	GLOBAL _fps
750   0000              	GLOBAL _game_2buttons
751   0000              	GLOBAL _game_respawn_curr_time
752   0000              	GLOBAL _game_worldup
753   0000              	GLOBAL _game_mush_count
754   0000              	GLOBAL _game_boss_fix
755   0000              	GLOBAL _game_boss_hit
756   0000              	GLOBAL _game_boss_alive
757   0000              	GLOBAL _game_boss
758   0000              	GLOBAL _game_world
759   0000              	GLOBAL _game_gravity
760   0000              	GLOBAL _player_onfire
761   0000              	GLOBAL _player_anim_stair
762   0000              	GLOBAL _player_hit_time
763   0000              	GLOBAL _player_lin_scr
764   0000              	GLOBAL _player_col_scr
765   0000              	GLOBAL _player_lvl
766   0000              	GLOBAL _player_int
767   0000              	GLOBAL _player_str
768   0000              	GLOBAL _player_max_vita
769   0000              	GLOBAL _player_max_mana
770   0000              	GLOBAL _player_vita
771   0000              	GLOBAL _player_mana
772   0000              	GLOBAL _player_keys
773   0000              	GLOBAL _player_vel_inc
774   0000              	GLOBAL _player_vel_y1
775   0000              	GLOBAL _player_vel_y0
776   0000              	GLOBAL _player_vel_y
777   0000              	GLOBAL _player_vel_x
778   0000              	GLOBAL _player_score
779   0000              	GLOBAL _last_time
780   0000              	GLOBAL _player_slide
781   0000              	GLOBAL _spr_timer
782   0000              	GLOBAL _jump_lin
783   0000              	GLOBAL _player_hit_col
784   0000              	GLOBAL _player_hit_lin
785   0000              	GLOBAL _colint
786   0000              	GLOBAL _col
787   0000              	GLOBAL _lin
788   0000              	GLOBAL _tile
789   0000              	GLOBAL _state_a
790   0000              	GLOBAL _state
791   0000              	GLOBAL _class
792   0000              	GLOBAL _tbuffer
793   0000              	GLOBAL _dirs_alt
794   0000              	GLOBAL _dirs
795   0000              	GLOBAL _k2
796   0000              	GLOBAL _k1
797   0000              	GLOBAL _joyfunc2
798   0000              	GLOBAL _joyfunc1
799   0000              	GLOBAL _btiles
800   0000              	GLOBAL _spec128
801   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
802   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
803   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
804   0000              	GLOBAL _ay_effect_20
805   0000              	GLOBAL _ay_effect_19
806   0000              	GLOBAL _ay_effect_18
807   0000              	GLOBAL _ay_effect_17
808   0000              	GLOBAL _ay_effect_16
809   0000              	GLOBAL _ay_effect_15
810   0000              	GLOBAL _ay_effect_14
811   0000              	GLOBAL _ay_effect_13
812   0000              	GLOBAL _ay_effect_12
813   0000              	GLOBAL _ay_effect_11
814   0000              	GLOBAL _ay_effect_10
815   0000              	GLOBAL _ay_effect_09
816   0000              	GLOBAL _ay_effect_08
817   0000              	GLOBAL _ay_effect_07
818   0000              	GLOBAL _ay_effect_06
819   0000              	GLOBAL _ay_effect_05
820   0000              	GLOBAL _ay_effect_04
821   0000              	GLOBAL _ay_effect_03
822   0000              	GLOBAL _ay_effect_02
823   0000              	GLOBAL _ay_effect_01
824   0000              	GLOBAL _pb_midi_phase_1
825   0000              	GLOBAL _pb_midi_title
826   0000              	GLOBAL _control_method
827   0000              	GLOBAL _world0_h
828   0000              	GLOBAL _world0_w
829   0000              	GLOBAL _world0
830   0000              	GLOBAL _paper0
831   0000              	GLOBAL _lenght0
832   0000              	GLOBAL _start_scr0
833   0000              ;--------------------------------------------------------
834   0000              ; special function registers
835   0000              ;--------------------------------------------------------
836   0000              defc _IO_FE	=	0x00fe
837   0000              defc _IO_1FFD	=	0x1ffd
838   0000              defc _IO_7FFD	=	0x7ffd
839   0000              ;--------------------------------------------------------
840   0000              ; ram data
841   0000              ;--------------------------------------------------------
842   0000              	SECTION bss_compiler
843   0000              ;--------------------------------------------------------
844   0000              ; ram data
845   0000              ;--------------------------------------------------------
846   0000              
847   0000              IF 0
848   0000              
849   0000              ; .area _INITIALIZED removed by z88dk
850   0000              
851   0000              
852   0000              ENDIF
853   0000              
854   0000              ;--------------------------------------------------------
855   0000              ; absolute external ram data
856   0000              ;--------------------------------------------------------
857   0000              	SECTION IGNORE
858   0000              ;--------------------------------------------------------
859   0000              ; global & static initialisations
860   0000              ;--------------------------------------------------------
861   0000              	SECTION code_crt_init
862   0000              ;--------------------------------------------------------
863   0000              ; Home
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; code
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_compiler
870   0000              ;	---------------------------------
871   0000              ; Function enemy_turn
872   0000              ; ---------------------------------
873   0000              _enemy_turn:
874   0000  21 00 00    	ld	hl,_sprite
875   0003  36 00       	ld	(hl),0x00
876   0005              l_enemy_turn_00119:
877   0005  21 00 00    	ld	hl,_sprite
878   0008  7E          	ld	a, (hl)
879   0009  D6 07       	sub	a,0x07
880   000B  D2 16 01    	jp	NC, l_enemy_turn_00122
881   000E  4E          	ld	c,(hl)
882   000F  06 00       	ld	b,0x00
883   0011  21 00 00    	ld	hl,_class
884   0014  09          	add	hl,bc
885   0015  7E          	ld	a,(hl)
886   0016  32 00 00    	ld	(_s_class),a
887   0019  B7          	or	a, a
888   001A  CA 0F 01    	jp	Z, l_enemy_turn_00117
889   001D  21 00 00    	ld	hl,_sprite
890   0020  CD 00 00    	call	_spr_chktime
891   0023  7D          	ld	a, l
892   0024  B7          	or	a, a
893   0025  CA 0F 01    	jp	Z, l_enemy_turn_00117
894   0028  2A 00 00    	ld	hl,(_sprite)
895   002B  26 00       	ld	h,0x00
896   002D  01 00 00    	ld	bc,_lin
897   0030  09          	add	hl,bc
898   0031  7E          	ld	a,(hl)
899   0032  32 00 00    	ld	(_s_lin0),a
900   0035  2A 00 00    	ld	hl,(_sprite)
901   0038  26 00       	ld	h,0x00
902   003A  01 00 00    	ld	bc,_col
903   003D  09          	add	hl,bc
904   003E  7E          	ld	a,(hl)
905   003F  32 00 00    	ld	(_s_col0),a
906   0042  2A 00 00    	ld	hl,(_sprite)
907   0045  26 00       	ld	h,0x00
908   0047  01 00 00    	ld	bc,_tile
909   004A  09          	add	hl,bc
910   004B  4E          	ld	c, (hl)
911   004C  3A 00 00    	ld	a,(_sprite)
912   004F  5F          	ld	e,a
913   0050  16 00       	ld	d,0x00
914   0052  21 00 00    	ld	hl,_colint
915   0055  19          	add	hl,de
916   0056  7E          	ld	a,(hl)
917   0057  81          	add	a,c
918   0058  32 00 00    	ld	(_s_tile0),a
919   005B  2A 00 00    	ld	hl,(_sprite)
920   005E  26 00       	ld	h,0x00
921   0060  01 00 00    	ld	bc,_state
922   0063  09          	add	hl,bc
923   0064  7E          	ld	a,(hl)
924   0065  32 00 00    	ld	(_s_state),a
925   0068  CD 35 02    	call	_enemy_move
926   006B  CD 00 00    	call	_spr_redraw
927   006E  7D          	ld	a, l
928   006F  B7          	or	a, a
929   0070  CA F1 00    	jp	Z, l_enemy_turn_00115
930   0073  2A 00 00    	ld	hl,(_sprite)
931   0076  26 00       	ld	h,0x00
932   0078  01 00 00    	ld	bc,_col
933   007B  09          	add	hl,bc
934   007C  56          	ld	d, (hl)
935   007D  2A 00 00    	ld	hl,(_sprite)
936   0080  26 00       	ld	h,0x00
937   0082  01 00 00    	ld	bc,_lin
938   0085  09          	add	hl,bc
939   0086  5E          	ld	e, (hl)
940   0087  D5          	push	de
941   0088  CD 00 00    	call	_spr_calc_index
942   008B  F1          	pop	af
943   008C  22 00 00    	ld	(_index1),hl
944   008F  01 00 00    	ld	bc,_scr_map
945   0092  09          	add	hl,bc
946   0093  46          	ld	b, (hl)
947   0094  3E 2F       	ld	a,0x2f
948   0096  90          	sub	a, b
949   0097  3E 00       	ld	a,0x00
950   0099  17          	rla
951   009A  4F          	ld	c, a
952   009B  78          	ld	a, b
953   009C  D6 3A       	sub	a,0x3a
954   009E  3E 00       	ld	a,0x00
955   00A0  17          	rla
956   00A1  A1          	and	a,c
957   00A2  28 4D       	jr	Z,l_enemy_turn_00115
958   00A4  3A 00 00    	ld	a,(_s_class)
959   00A7  FE 09       	cp	a,0x09
960   00A9  28 0C       	jr	Z,l_enemy_turn_00109
961   00AB  D6 0A       	sub	a,0x0a
962   00AD  28 08       	jr	Z,l_enemy_turn_00109
963   00AF  2A 00 00    	ld	hl,(_sprite)
964   00B2  CD D7 06    	call	_enemy_kill
965   00B5  18 3A       	jr	l_enemy_turn_00115
966   00B7              l_enemy_turn_00109:
967   00B7  21 00 00    	ld	hl,_s_state
968   00BA  CB 4E       	bit	1, (hl)
969   00BC  28 19       	jr	Z,l_enemy_turn_00106
970   00BE  21 00 00    	ld	hl,_s_state
971   00C1  CD 00 00    	call	_spr_set_up
972   00C4  3A 00 00    	ld	a,(_s_class)
973   00C7  D6 0A       	sub	a,0x0a
974   00C9  20 26       	jr	NZ,l_enemy_turn_00115
975   00CB  2A 00 00    	ld	hl,(_sprite)
976   00CE  26 00       	ld	h,0x00
977   00D0  01 00 00    	ld	bc,_tile
978   00D3  09          	add	hl,bc
979   00D4  34          	inc	(hl)
980   00D5  18 1A       	jr	l_enemy_turn_00115
981   00D7              l_enemy_turn_00106:
982   00D7  21 00 00    	ld	hl,_s_state
983   00DA  CD 00 00    	call	_spr_set_down
984   00DD  3A 00 00    	ld	a,(_s_class)
985   00E0  D6 0A       	sub	a,0x0a
986   00E2  20 0D       	jr	NZ,l_enemy_turn_00115
987   00E4  2A 00 00    	ld	hl,(_sprite)
988   00E7  26 00       	ld	h,0x00
989   00E9  01 00 00    	ld	bc,_tile
990   00EC  09          	add	hl,bc
991   00ED  7E          	ld	a,(hl)
992   00EE  C6 FF       	add	a,0xff
993   00F0  77          	ld	(hl),a
994   00F1              l_enemy_turn_00115:
995   00F1  2A 00 00    	ld	hl,(_sprite)
996   00F4  26 00       	ld	h,0x00
997   00F6  01 00 00    	ld	bc,_state
998   00F9  09          	add	hl,bc
999   00FA  3A 00 00    	ld	a,(_s_state)
1000  00FD  77          	ld	(hl),a
1001  00FE  2A 00 00    	ld	hl,(_sprite)
1002  0101  26 00       	ld	h,0x00
1003  0103  29          	add	hl,hl
1004  0104  01 00 00    	ld	bc,_last_time
1005  0107  09          	add	hl,bc
1006  0108  ED 5B 00 00 	ld	de,(_curr_time)
1007  010C  73          	ld	(hl),e
1008  010D  23          	inc	hl
1009  010E  72          	ld	(hl),d
1010  010F              l_enemy_turn_00117:
1011  010F  21 00 00    	ld	hl,_sprite
1012  0112  34          	inc	(hl)
1013  0113  C3 05 00    	jp	l_enemy_turn_00119
1014  0116              l_enemy_turn_00122:
1015  0116  C9          	ret
1016  0117              	SECTION code_compiler
1017  0117              ;	---------------------------------
1018  0117              ; Function boss_turn
1019  0117              ; ---------------------------------
1020  0117              _boss_turn:
1021  0117  3E 06       	ld	a,0x06
1022  0119  F5          	push	af
1023  011A  33          	inc	sp
1024  011B  21 00 00    	ld	hl,_boss_time
1025  011E  E5          	push	hl
1026  011F  CD 00 00    	call	_game_check_time
1027  0122  F1          	pop	af
1028  0123  33          	inc	sp
1029  0124  7D          	ld	a, l
1030  0125  B7          	or	a, a
1031  0126  CA CE 01    	jp	Z, l_boss_turn_00117
1032  0129  3A 00 00    	ld	a,(_boss_col)
1033  012C  32 00 00    	ld	(_s_col1),a
1034  012F  3A 00 00    	ld	a,(_boss_lin)
1035  0132  32 00 00    	ld	(_s_lin1),a
1036  0135  21 00 00    	ld	hl,_boss_stat
1037  0138  CB 46       	bit	0, (hl)
1038  013A  28 13       	jr	Z,l_boss_turn_00106
1039  013C  21 00 00    	ld	hl,_boss_lin
1040  013F  7E          	ld	a,(hl)
1041  0140  C6 FE       	add	a,-0x02
1042  0142  77          	ld	(hl),a
1043  0143  D6 30       	sub	a,0x30
1044  0145  30 19       	jr	NC,l_boss_turn_00107
1045  0147  21 00 00    	ld	hl,_boss_stat
1046  014A  CD 00 00    	call	_spr_set_down
1047  014D  18 11       	jr	l_boss_turn_00107
1048  014F              l_boss_turn_00106:
1049  014F  21 00 00    	ld	hl,_boss_lin
1050  0152  7E          	ld	a,(hl)
1051  0153  C6 02       	add	a,0x02
1052  0155  77          	ld	(hl),a
1053  0156  D6 50       	sub	a,0x50
1054  0158  38 06       	jr	C,l_boss_turn_00107
1055  015A  21 00 00    	ld	hl,_boss_stat
1056  015D  CD 00 00    	call	_spr_set_up
1057  0160              l_boss_turn_00107:
1058  0160  3E 40       	ld	a,0x40
1059  0162  F5          	push	af
1060  0163  33          	inc	sp
1061  0164  21 00 00    	ld	hl,_boss_time_fire
1062  0167  E5          	push	hl
1063  0168  CD 00 00    	call	_game_check_time
1064  016B  F1          	pop	af
1065  016C  33          	inc	sp
1066  016D  7D          	ld	a, l
1067  016E  B7          	or	a, a
1068  016F  28 30       	jr	Z,l_boss_turn_00111
1069  0171  21 00 00    	ld	hl,_boss_col
1070  0174  35          	dec	(hl)
1071  0175  35          	dec	(hl)
1072  0176  21 00 00    	ld	hl,_tmp0
1073  0179  36 00       	ld	(hl),0x00
1074  017B  21 78 01    	ld	hl,0x0178
1075  017E  E5          	push	hl
1076  017F  CD 00 00    	call	_game_shoot_fire_boss
1077  0182  F1          	pop	af
1078  0183  3A 00 00    	ld	a,(_game_world)
1079  0186  3D          	dec	a
1080  0187  20 0D       	jr	NZ,l_boss_turn_00109
1081  0189  21 00 00    	ld	hl,_tmp0
1082  018C  36 01       	ld	(hl),0x01
1083  018E  21 78 01    	ld	hl,0x0178
1084  0191  E5          	push	hl
1085  0192  CD 00 00    	call	_game_shoot_fire_boss
1086  0195  F1          	pop	af
1087  0196              l_boss_turn_00109:
1088  0196  2A 00 00    	ld	hl,(_curr_time)
1089  0199  22 00 00    	ld	(_boss_time_fire),hl
1090  019C  21 00 00    	ld	hl,_boss_col
1091  019F  34          	inc	(hl)
1092  01A0  34          	inc	(hl)
1093  01A1              l_boss_turn_00111:
1094  01A1  21 00 00    	ld	hl,_spr_hack
1095  01A4  36 01       	ld	(hl),0x01
1096  01A6  76          	halt
1097  01A7  F3          	di
1098  01A8  21 00 00    	ld	hl,_boss_inc
1099  01AB  7E          	ld	a, (hl)
1100  01AC  B7          	or	a, a
1101  01AD  28 09       	jr	Z,l_boss_turn_00113
1102  01AF  36 00       	ld	(hl),0x00
1103  01B1  2E 00       	ld	l,0x00
1104  01B3  CD CF 01    	call	_boss_draw
1105  01B6  18 0A       	jr	l_boss_turn_00114
1106  01B8              l_boss_turn_00113:
1107  01B8  21 00 00    	ld	hl,_boss_inc
1108  01BB  36 01       	ld	(hl),0x01
1109  01BD  2E 02       	ld	l,0x02
1110  01BF  CD CF 01    	call	_boss_draw
1111  01C2              l_boss_turn_00114:
1112  01C2  FB          	ei
1113  01C3  21 00 00    	ld	hl,_spr_hack
1114  01C6  36 00       	ld	(hl),0x00
1115  01C8  2A 00 00    	ld	hl,(_curr_time)
1116  01CB  22 00 00    	ld	(_boss_time),hl
1117  01CE              l_boss_turn_00117:
1118  01CE  C9          	ret
1119  01CF              	SECTION code_compiler
1120  01CF              ;	---------------------------------
1121  01CF              ; Function boss_draw
1122  01CF              ; ---------------------------------
1123  01CF              _boss_draw:
1124  01CF  5D          	ld	e, l
1125  01D0  3A 00 00    	ld	a,(_boss_tile)
1126  01D3  83          	add	a, e
1127  01D4  47          	ld	b, a
1128  01D5  3A 00 00    	ld	a,(_s_col1)
1129  01D8  D5          	push	de
1130  01D9  F5          	push	af
1131  01DA  33          	inc	sp
1132  01DB  3A 00 00    	ld	a,(_boss_lin)
1133  01DE  48          	ld	c,b
1134  01DF  47          	ld	b,a
1135  01E0  C5          	push	bc
1136  01E1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1137  01E4  D1          	pop	de
1138  01E5  21 00 00    	ld	hl,_s_col1
1139  01E8  56          	ld	d, (hl)
1140  01E9  14          	inc	d
1141  01EA  14          	inc	d
1142  01EB  3A 00 00    	ld	a,(_boss_tile)
1143  01EE  83          	add	a, e
1144  01EF  47          	ld	b, a
1145  01F0  04          	inc	b
1146  01F1  D5          	push	de
1147  01F2  D5          	push	de
1148  01F3  33          	inc	sp
1149  01F4  3A 00 00    	ld	a,(_boss_lin)
1150  01F7  48          	ld	c,b
1151  01F8  47          	ld	b,a
1152  01F9  C5          	push	bc
1153  01FA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1154  01FD  D1          	pop	de
1155  01FE  3A 00 00    	ld	a,(_boss_lin)
1156  0201  C6 10       	add	a,0x10
1157  0203  57          	ld	d, a
1158  0204  3A 00 00    	ld	a,(_boss_tile)
1159  0207  83          	add	a, e
1160  0208  C6 0C       	add	a,0x0c
1161  020A  47          	ld	b, a
1162  020B  3A 00 00    	ld	a,(_s_col1)
1163  020E  D5          	push	de
1164  020F  5A          	ld	e,d
1165  0210  57          	ld	d,a
1166  0211  D5          	push	de
1167  0212  C5          	push	bc
1168  0213  33          	inc	sp
1169  0214  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1170  0217  D1          	pop	de
1171  0218  21 00 00    	ld	hl,_s_col1
1172  021B  56          	ld	d, (hl)
1173  021C  14          	inc	d
1174  021D  14          	inc	d
1175  021E  3A 00 00    	ld	a,(_boss_lin)
1176  0221  C6 10       	add	a,0x10
1177  0223  4F          	ld	c, a
1178  0224  3A 00 00    	ld	a,(_boss_tile)
1179  0227  83          	add	a, e
1180  0228  C6 0D       	add	a,0x0d
1181  022A  47          	ld	b, a
1182  022B  D5          	push	de
1183  022C  33          	inc	sp
1184  022D  79          	ld	a, c
1185  022E  48          	ld	c,b
1186  022F  47          	ld	b,a
1187  0230  C5          	push	bc
1188  0231  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1189  0234  C9          	ret
1190  0235              	SECTION code_compiler
1191  0235              ;	---------------------------------
1192  0235              ; Function enemy_move
1193  0235              ; ---------------------------------
1194  0235              _enemy_move:
1195  0235  2A 00 00    	ld	hl,(_s_class)
1196  0238  26 00       	ld	h,0x00
1197  023A  01 00 00    	ld	bc,_sprite_kind
1198  023D  09          	add	hl,bc
1199  023E  4E          	ld	c,(hl)
1200  023F  3E 06       	ld	a,0x06
1201  0241  91          	sub	a, c
1202  0242  38 3A       	jr	C,l_enemy_move_00108
1203  0244  06 00       	ld	b,0x00
1204  0246  21 4D 02    	ld	hl,l_enemy_move_00114
1205  0249  09          	add	hl, bc
1206  024A  09          	add	hl, bc
1207  024B  09          	add	hl, bc
1208  024C  E9          	jp	(hl)
1209  024D              l_enemy_move_00114:
1210  024D  C3 7E 02    	jp	l_enemy_move_00108
1211  0250  C3 67 02    	jp	l_enemy_move_00102
1212  0253  C3 71 02    	jp	l_enemy_move_00104
1213  0256  C3 6C 02    	jp	l_enemy_move_00103
1214  0259  C3 62 02    	jp	l_enemy_move_00101
1215  025C  C3 76 02    	jp	l_enemy_move_00105
1216  025F  C3 7B 02    	jp	l_enemy_move_00106
1217  0262              l_enemy_move_00101:
1218  0262  CD EE 03    	call	_enemy_static
1219  0265  18 17       	jr	l_enemy_move_00108
1220  0267              l_enemy_move_00102:
1221  0267  CD 22 04    	call	_enemy_horizontal
1222  026A  18 12       	jr	l_enemy_move_00108
1223  026C              l_enemy_move_00103:
1224  026C  CD 3B 05    	call	_enemy_walk
1225  026F  18 0D       	jr	l_enemy_move_00108
1226  0271              l_enemy_move_00104:
1227  0271  CD 4B 04    	call	_enemy_vertical
1228  0274  18 08       	jr	l_enemy_move_00108
1229  0276              l_enemy_move_00105:
1230  0276  CD EE 02    	call	_enemy_ghost
1231  0279  18 03       	jr	l_enemy_move_00108
1232  027B              l_enemy_move_00106:
1233  027B  CD 7F 02    	call	_enemy_gota
1234  027E              l_enemy_move_00108:
1235  027E  C9          	ret
1236  027F              	SECTION code_compiler
1237  027F              ;	---------------------------------
1238  027F              ; Function enemy_gota
1239  027F              ; ---------------------------------
1240  027F              _enemy_gota:
1241  027F  2A 00 00    	ld	hl,(_sprite)
1242  0282  26 00       	ld	h,0x00
1243  0284  01 00 00    	ld	bc,_colint
1244  0287  09          	add	hl,bc
1245  0288  7E          	ld	a,(hl)
1246  0289  5F          	ld	e,a
1247  028A  B7          	or	a,a
1248  028B  4D          	ld	c,l
1249  028C  44          	ld	b,h
1250  028D  20 14       	jr	NZ,l_enemy_gota_00106
1251  028F  CD 00 00    	call	_spr_move_down
1252  0292  7D          	ld	a, l
1253  0293  B7          	or	a, a
1254  0294  28 57       	jr	Z,l_enemy_gota_00108
1255  0296  2A 00 00    	ld	hl,(_sprite)
1256  0299  26 00       	ld	h,0x00
1257  029B  01 00 00    	ld	bc,_colint
1258  029E  09          	add	hl,bc
1259  029F  36 01       	ld	(hl),0x01
1260  02A1  18 4A       	jr	l_enemy_gota_00108
1261  02A3              l_enemy_gota_00106:
1262  02A3  1C          	inc	e
1263  02A4  7B          	ld	a, e
1264  02A5  02          	ld	(bc), a
1265  02A6  2A 00 00    	ld	hl,(_sprite)
1266  02A9  26 00       	ld	h,0x00
1267  02AB  01 00 00    	ld	bc,_colint
1268  02AE  09          	add	hl,bc
1269  02AF  4E          	ld	c,(hl)
1270  02B0  2A 00 00    	ld	hl,(_s_class)
1271  02B3  26 00       	ld	h,0x00
1272  02B5  11 00 00    	ld	de,_sprite_frames
1273  02B8  19          	add	hl,de
1274  02B9  46          	ld	b, (hl)
1275  02BA  79          	ld	a, c
1276  02BB  90          	sub	a, b
1277  02BC  C0          	ret	NZ
1278  02BD  2A 00 00    	ld	hl,(_sprite)
1279  02C0  26 00       	ld	h,0x00
1280  02C2  01 00 00    	ld	bc,_lin
1281  02C5  09          	add	hl,bc
1282  02C6  4D          	ld	c,l
1283  02C7  44          	ld	b,h
1284  02C8  2A 00 00    	ld	hl,(_sprite)
1285  02CB  26 00       	ld	h,0x00
1286  02CD  11 00 00    	ld	de,_game_respawn_index
1287  02D0  19          	add	hl,de
1288  02D1  7E          	ld	a,(hl)
1289  02D2  21 00 00    	ld	hl,_sprite
1290  02D5  07          	rlca
1291  02D6  07          	rlca
1292  02D7  07          	rlca
1293  02D8  07          	rlca
1294  02D9  E6 0F       	and	a,0x0f
1295  02DB  07          	rlca
1296  02DC  07          	rlca
1297  02DD  07          	rlca
1298  02DE  07          	rlca
1299  02DF  E6 F0       	and	a,0xf0
1300  02E1  02          	ld	(bc), a
1301  02E2  3E 00       	ld	a, +((_colint) & 0xFF)
1302  02E4  86          	add	a, (hl)
1303  02E5  4F          	ld	c, a
1304  02E6  3E 00       	ld	a, +((_colint) / 256)
1305  02E8  CE 00       	adc	a,0x00
1306  02EA  47          	ld	b, a
1307  02EB  AF          	xor	a, a
1308  02EC  02          	ld	(bc), a
1309  02ED              l_enemy_gota_00108:
1310  02ED  C9          	ret
1311  02EE              	SECTION code_compiler
1312  02EE              ;	---------------------------------
1313  02EE              ; Function enemy_ghost
1314  02EE              ; ---------------------------------
1315  02EE              _enemy_ghost:
1316  02EE  CD 00 00    	call	___sdcc_enter_ix
1317  02F1  F5          	push	af
1318  02F2  DD 36 FE 00 	ld	(ix-2),0x00
1319  02F6  11 00 00    	ld	de,_col+0
1320  02F9  2A 00 00    	ld	hl,(_sprite)
1321  02FC  26 00       	ld	h,0x00
1322  02FE  19          	add	hl,de
1323  02FF  4E          	ld	c, (hl)
1324  0300  21 07 00    	ld	hl,+(_col + 0x0007)
1325  0303  46          	ld	b, (hl)
1326  0304  79          	ld	a, c
1327  0305  90          	sub	a, b
1328  0306  30 27       	jr	NC,l_enemy_ghost_00102
1329  0308  21 00 00    	ld	hl,_s_state
1330  030B  7E          	ld	a,(hl)
1331  030C  E6 F7       	and	a,0xf7
1332  030E  F6 04       	or	a,0x04
1333  0310  77          	ld	(hl),a
1334  0311  2A 00 00    	ld	hl,(_sprite)
1335  0314  26 00       	ld	h,0x00
1336  0316  01 00 00    	ld	bc,_tile
1337  0319  09          	add	hl,bc
1338  031A  E5          	push	hl
1339  031B  D5          	push	de
1340  031C  21 00 00    	ld	hl,_sprite
1341  031F  CD 00 00    	call	_spr_tile
1342  0322  D1          	pop	de
1343  0323  C1          	pop	bc
1344  0324  7D          	ld	a,l
1345  0325  02          	ld	(bc), a
1346  0326  D5          	push	de
1347  0327  CD 00 00    	call	_spr_move_right
1348  032A  D1          	pop	de
1349  032B  DD 36 FE 01 	ld	(ix-2),0x01
1350  032F              l_enemy_ghost_00102:
1351  032F  2A 00 00    	ld	hl,(_sprite)
1352  0332  26 00       	ld	h,0x00
1353  0334  19          	add	hl,de
1354  0335  4E          	ld	c, (hl)
1355  0336  3A 07 00    	ld	a,(_col + 0x0007)
1356  0339  91          	sub	a, c
1357  033A  30 27       	jr	NC,l_enemy_ghost_00104
1358  033C  21 00 00    	ld	hl,_s_state
1359  033F  7E          	ld	a,(hl)
1360  0340  E6 FB       	and	a,0xfb
1361  0342  F6 08       	or	a,0x08
1362  0344  77          	ld	(hl),a
1363  0345  2A 00 00    	ld	hl,(_sprite)
1364  0348  26 00       	ld	h,0x00
1365  034A  01 00 00    	ld	bc,_tile
1366  034D  09          	add	hl,bc
1367  034E  E5          	push	hl
1368  034F  D5          	push	de
1369  0350  21 00 00    	ld	hl,_sprite
1370  0353  CD 00 00    	call	_spr_tile
1371  0356  D1          	pop	de
1372  0357  C1          	pop	bc
1373  0358  7D          	ld	a,l
1374  0359  02          	ld	(bc), a
1375  035A  D5          	push	de
1376  035B  CD 00 00    	call	_spr_move_left
1377  035E  D1          	pop	de
1378  035F  DD 36 FE 01 	ld	(ix-2),0x01
1379  0363              l_enemy_ghost_00104:
1380  0363  2A 00 00    	ld	hl,(_sprite)
1381  0366  26 00       	ld	h,0x00
1382  0368  19          	add	hl,de
1383  0369  4E          	ld	c, (hl)
1384  036A  3A 00 00    	ld	a,(_s_col0)
1385  036D  91          	sub	a, c
1386  036E  20 6B       	jr	NZ,l_enemy_ghost_00115
1387  0370  01 00 00    	ld	bc,_lin+0
1388  0373  2A 00 00    	ld	hl,(_sprite)
1389  0376  26 00       	ld	h,0x00
1390  0378  09          	add	hl,bc
1391  0379  6E          	ld	l, (hl)
1392  037A  3A 07 00    	ld	a,(_lin + 0x0007)
1393  037D  EB          	ex	de,hl
1394  037E  93          	sub	a, e
1395  037F  30 05       	jr	NC,l_enemy_ghost_00106
1396  0381  C5          	push	bc
1397  0382  CD 00 00    	call	_spr_move_up
1398  0385  C1          	pop	bc
1399  0386              l_enemy_ghost_00106:
1400  0386  2A 00 00    	ld	hl,(_sprite)
1401  0389  26 00       	ld	h,0x00
1402  038B  09          	add	hl,bc
1403  038C  6E          	ld	l, (hl)
1404  038D  EB          	ex	de,hl
1405  038E  2A 07 00    	ld	hl,(_lin + 0x0007)
1406  0391  7B          	ld	a, e
1407  0392  95          	sub	a, l
1408  0393  30 05       	jr	NC,l_enemy_ghost_00108
1409  0395  C5          	push	bc
1410  0396  CD 00 00    	call	_spr_move_down
1411  0399  C1          	pop	bc
1412  039A              l_enemy_ghost_00108:
1413  039A  DD 7E FE    	ld	a,(ix-2)
1414  039D  B7          	or	a, a
1415  039E  20 4A       	jr	NZ,l_enemy_ghost_00117
1416  03A0  2A 00 00    	ld	hl,(_sprite)
1417  03A3  26 00       	ld	h,0x00
1418  03A5  09          	add	hl,bc
1419  03A6  4E          	ld	c, (hl)
1420  03A7  3A 00 00    	ld	a,(_s_lin0)
1421  03AA  91          	sub	a, c
1422  03AB  28 3D       	jr	Z,l_enemy_ghost_00117
1423  03AD  01 00 00    	ld	bc,_colint+0
1424  03B0  79          	ld	a, c
1425  03B1  21 00 00    	ld	hl,_sprite
1426  03B4  86          	add	a, (hl)
1427  03B5  5F          	ld	e, a
1428  03B6  78          	ld	a, b
1429  03B7  CE 00       	adc	a,0x00
1430  03B9  57          	ld	d, a
1431  03BA  1A          	ld	a, (de)
1432  03BB  3C          	inc	a
1433  03BC  12          	ld	(de), a
1434  03BD  79          	ld	a, c
1435  03BE  86          	add	a, (hl)
1436  03BF  4F          	ld	c, a
1437  03C0  78          	ld	a, b
1438  03C1  CE 00       	adc	a,0x00
1439  03C3  47          	ld	b, a
1440  03C4  0A          	ld	a, (bc)
1441  03C5  DD 77 FF    	ld	(ix-1),a
1442  03C8  2A 00 00    	ld	hl,(_s_class)
1443  03CB  26 00       	ld	h,0x00
1444  03CD  11 00 00    	ld	de,_sprite_frames
1445  03D0  19          	add	hl,de
1446  03D1  DD 7E FF    	ld	a,(ix-1)
1447  03D4  96          	sub	a,(hl)
1448  03D5  20 13       	jr	NZ,l_enemy_ghost_00117
1449  03D7  AF          	xor	a, a
1450  03D8  02          	ld	(bc), a
1451  03D9  18 0F       	jr	l_enemy_ghost_00117
1452  03DB              l_enemy_ghost_00115:
1453  03DB  D5          	push	de
1454  03DC  CD 00 00    	call	_spr_back_repaint
1455  03DF  D1          	pop	de
1456  03E0  2A 00 00    	ld	hl,(_sprite)
1457  03E3  26 00       	ld	h,0x00
1458  03E5  19          	add	hl,de
1459  03E6  7E          	ld	a,(hl)
1460  03E7  32 00 00    	ld	(_s_col0),a
1461  03EA              l_enemy_ghost_00117:
1462  03EA  F1          	pop	af
1463  03EB  DD E1       	pop	ix
1464  03ED  C9          	ret
1465  03EE              	SECTION code_compiler
1466  03EE              ;	---------------------------------
1467  03EE              ; Function enemy_static
1468  03EE              ; ---------------------------------
1469  03EE              _enemy_static:
1470  03EE  CD 00 00    	call	___sdcc_enter_ix
1471  03F1  3B          	dec	sp
1472  03F2  01 00 00    	ld	bc,_colint+0
1473  03F5  79          	ld	a, c
1474  03F6  21 00 00    	ld	hl,_sprite
1475  03F9  86          	add	a, (hl)
1476  03FA  5F          	ld	e, a
1477  03FB  78          	ld	a, b
1478  03FC  CE 00       	adc	a,0x00
1479  03FE  57          	ld	d, a
1480  03FF  1A          	ld	a, (de)
1481  0400  3C          	inc	a
1482  0401  12          	ld	(de), a
1483  0402  79          	ld	a, c
1484  0403  86          	add	a, (hl)
1485  0404  4F          	ld	c, a
1486  0405  78          	ld	a, b
1487  0406  CE 00       	adc	a,0x00
1488  0408  47          	ld	b, a
1489  0409  0A          	ld	a, (bc)
1490  040A  DD 77 FF    	ld	(ix-1),a
1491  040D  2A 00 00    	ld	hl,(_s_class)
1492  0410  26 00       	ld	h,0x00
1493  0412  11 00 00    	ld	de,_sprite_frames
1494  0415  19          	add	hl,de
1495  0416  DD 7E FF    	ld	a,(ix-1)
1496  0419  96          	sub	a,(hl)
1497  041A  20 02       	jr	NZ,l_enemy_static_00103
1498  041C  AF          	xor	a, a
1499  041D  02          	ld	(bc), a
1500  041E              l_enemy_static_00103:
1501  041E  33          	inc	sp
1502  041F  DD E1       	pop	ix
1503  0421  C9          	ret
1504  0422              	SECTION code_compiler
1505  0422              ;	---------------------------------
1506  0422              ; Function enemy_horizontal
1507  0422              ; ---------------------------------
1508  0422              _enemy_horizontal:
1509  0422  21 00 00    	ld	hl,_s_state
1510  0425  CB 56       	bit	2, (hl)
1511  0427  28 12       	jr	Z,l_enemy_horizontal_00106
1512  0429  CD 00 00    	call	_spr_move_right
1513  042C  7D          	ld	a, l
1514  042D  B7          	or	a, a
1515  042E  28 1A       	jr	Z,l_enemy_horizontal_00108
1516  0430  21 00 00    	ld	hl,_s_state
1517  0433  7E          	ld	a,(hl)
1518  0434  E6 FB       	and	a,0xfb
1519  0436  F6 08       	or	a,0x08
1520  0438  77          	ld	(hl),a
1521  0439  18 0F       	jr	l_enemy_horizontal_00108
1522  043B              l_enemy_horizontal_00106:
1523  043B  CD 00 00    	call	_spr_move_left
1524  043E  7D          	ld	a, l
1525  043F  B7          	or	a, a
1526  0440  C8          	ret	Z
1527  0441  21 00 00    	ld	hl,_s_state
1528  0444  7E          	ld	a,(hl)
1529  0445  E6 F7       	and	a,0xf7
1530  0447  F6 04       	or	a,0x04
1531  0449  77          	ld	(hl),a
1532  044A              l_enemy_horizontal_00108:
1533  044A  C9          	ret
1534  044B              	SECTION code_compiler
1535  044B              ;	---------------------------------
1536  044B              ; Function enemy_vertical
1537  044B              ; ---------------------------------
1538  044B              _enemy_vertical:
1539  044B  CD 00 00    	call	___sdcc_enter_ix
1540  044E  3B          	dec	sp
1541  044F  21 00 00    	ld	hl,_s_state
1542  0452  CB 4E       	bit	1, (hl)
1543  0454  28 20       	jr	Z,l_enemy_vertical_00110
1544  0456  CD 00 00    	call	_spr_move_down
1545  0459  7D          	ld	a, l
1546  045A  B7          	or	a, a
1547  045B  28 3A       	jr	Z,l_enemy_vertical_00111
1548  045D  21 00 00    	ld	hl,_s_state
1549  0460  CD 00 00    	call	_spr_set_up
1550  0463  3A 00 00    	ld	a,(_s_class)
1551  0466  D6 0A       	sub	a,0x0a
1552  0468  20 2D       	jr	NZ,l_enemy_vertical_00111
1553  046A  2A 00 00    	ld	hl,(_sprite)
1554  046D  26 00       	ld	h,0x00
1555  046F  01 00 00    	ld	bc,_tile
1556  0472  09          	add	hl,bc
1557  0473  34          	inc	(hl)
1558  0474  18 21       	jr	l_enemy_vertical_00111
1559  0476              l_enemy_vertical_00110:
1560  0476  CD 00 00    	call	_spr_move_up
1561  0479  7D          	ld	a, l
1562  047A  B7          	or	a, a
1563  047B  28 1A       	jr	Z,l_enemy_vertical_00111
1564  047D  21 00 00    	ld	hl,_s_state
1565  0480  CD 00 00    	call	_spr_set_down
1566  0483  3A 00 00    	ld	a,(_s_class)
1567  0486  D6 0A       	sub	a,0x0a
1568  0488  20 0D       	jr	NZ,l_enemy_vertical_00111
1569  048A  2A 00 00    	ld	hl,(_sprite)
1570  048D  26 00       	ld	h,0x00
1571  048F  01 00 00    	ld	bc,_tile
1572  0492  09          	add	hl,bc
1573  0493  7E          	ld	a,(hl)
1574  0494  C6 FF       	add	a,0xff
1575  0496  77          	ld	(hl),a
1576  0497              l_enemy_vertical_00111:
1577  0497  3A 00 00    	ld	a,(_s_class)
1578  049A  D6 02       	sub	a,0x02
1579  049C  20 6D       	jr	NZ,l_enemy_vertical_00122
1580  049E  2A 00 00    	ld	hl,(_sprite)
1581  04A1  26 00       	ld	h,0x00
1582  04A3  01 00 00    	ld	bc,_bullet_col
1583  04A6  09          	add	hl,bc
1584  04A7  7E          	ld	a,(hl)
1585  04A8  3C          	inc	a
1586  04A9  20 60       	jr	NZ,l_enemy_vertical_00122
1587  04AB  21 07 00    	ld	hl,_lin + 7
1588  04AE  4E          	ld	c, (hl)
1589  04AF  06 00       	ld	b,0x00
1590  04B1  2A 00 00    	ld	hl,(_sprite)
1591  04B4  60          	ld	h,b
1592  04B5  11 00 00    	ld	de,_lin
1593  04B8  19          	add	hl,de
1594  04B9  5E          	ld	e, (hl)
1595  04BA  16 00       	ld	d,0x00
1596  04BC  79          	ld	a, c
1597  04BD  93          	sub	a, e
1598  04BE  6F          	ld	l, a
1599  04BF  78          	ld	a, b
1600  04C0  9A          	sbc	a, d
1601  04C1  67          	ld	h, a
1602  04C2  CD 00 00    	call	_abs_fastcall
1603  04C5  7D          	ld	a,l
1604  04C6  D6 08       	sub	a,0x08
1605  04C8  7C          	ld	a,h
1606  04C9  17          	rla
1607  04CA  3F          	ccf
1608  04CB  1F          	rra
1609  04CC  DE 80       	sbc	a,0x80
1610  04CE  30 3B       	jr	NC,l_enemy_vertical_00122
1611  04D0  21 00 00    	ld	hl,_s_state
1612  04D3  CB 56       	bit	2, (hl)
1613  04D5  28 11       	jr	Z,l_enemy_vertical_00116
1614  04D7  21 07 00    	ld	hl,_col + 7
1615  04DA  4E          	ld	c, (hl)
1616  04DB  2A 00 00    	ld	hl,(_sprite)
1617  04DE  26 00       	ld	h,0x00
1618  04E0  11 00 00    	ld	de,_col
1619  04E3  19          	add	hl,de
1620  04E4  7E          	ld	a,(hl)
1621  04E5  91          	sub	a, c
1622  04E6  38 19       	jr	C,l_enemy_vertical_00112
1623  04E8              l_enemy_vertical_00116:
1624  04E8  21 00 00    	ld	hl,_s_state
1625  04EB  CB 5E       	bit	3, (hl)
1626  04ED  28 1C       	jr	Z,l_enemy_vertical_00122
1627  04EF  21 07 00    	ld	hl,_col + 7
1628  04F2  4E          	ld	c, (hl)
1629  04F3  2A 00 00    	ld	hl,(_sprite)
1630  04F6  26 00       	ld	h,0x00
1631  04F8  11 00 00    	ld	de,_col
1632  04FB  19          	add	hl,de
1633  04FC  46          	ld	b, (hl)
1634  04FD  79          	ld	a, c
1635  04FE  90          	sub	a, b
1636  04FF  30 0A       	jr	NC,l_enemy_vertical_00122
1637  0501              l_enemy_vertical_00112:
1638  0501  2A 00 00    	ld	hl,(_sprite)
1639  0504  26 78       	ld	h,0x78
1640  0506  E5          	push	hl
1641  0507  CD 00 00    	call	_game_shoot_fire
1642  050A  F1          	pop	af
1643  050B              l_enemy_vertical_00122:
1644  050B  01 00 00    	ld	bc,_colint+0
1645  050E  79          	ld	a, c
1646  050F  21 00 00    	ld	hl,_sprite
1647  0512  86          	add	a, (hl)
1648  0513  5F          	ld	e, a
1649  0514  78          	ld	a, b
1650  0515  CE 00       	adc	a,0x00
1651  0517  57          	ld	d, a
1652  0518  1A          	ld	a, (de)
1653  0519  3C          	inc	a
1654  051A  12          	ld	(de), a
1655  051B  79          	ld	a, c
1656  051C  86          	add	a, (hl)
1657  051D  4F          	ld	c, a
1658  051E  78          	ld	a, b
1659  051F  CE 00       	adc	a,0x00
1660  0521  47          	ld	b, a
1661  0522  0A          	ld	a, (bc)
1662  0523  DD 77 FF    	ld	(ix-1),a
1663  0526  2A 00 00    	ld	hl,(_s_class)
1664  0529  26 00       	ld	h,0x00
1665  052B  11 00 00    	ld	de,_sprite_frames
1666  052E  19          	add	hl,de
1667  052F  DD 7E FF    	ld	a,(ix-1)
1668  0532  96          	sub	a,(hl)
1669  0533  38 02       	jr	C,l_enemy_vertical_00125
1670  0535  AF          	xor	a, a
1671  0536  02          	ld	(bc), a
1672  0537              l_enemy_vertical_00125:
1673  0537  33          	inc	sp
1674  0538  DD E1       	pop	ix
1675  053A  C9          	ret
1676  053B              	SECTION code_compiler
1677  053B              ;	---------------------------------
1678  053B              ; Function enemy_walk
1679  053B              ; ---------------------------------
1680  053B              _enemy_walk:
1681  053B  21 00 00    	ld	hl,_s_state
1682  053E  CB 4E       	bit	1, (hl)
1683  0540  C2 CB 06    	jp	NZ,l_enemy_walk_00151
1684  0543  CD 00 00    	call	_spr_move_horizontal
1685  0546  7D          	ld	a, l
1686  0547  B7          	or	a, a
1687  0548  28 05       	jr	Z,l_enemy_walk_00104
1688  054A  CD 00 00    	call	_spr_turn_horizontal
1689  054D  18 31       	jr	l_enemy_walk_00105
1690  054F              l_enemy_walk_00104:
1691  054F  2A 00 00    	ld	hl,(_sprite)
1692  0552  26 00       	ld	h,0x00
1693  0554  01 00 00    	ld	bc,_col
1694  0557  09          	add	hl,bc
1695  0558  4E          	ld	c, (hl)
1696  0559  3A 00 00    	ld	a,(_sprite)
1697  055C  5F          	ld	e,a
1698  055D  16 00       	ld	d,0x00
1699  055F  21 00 00    	ld	hl,_lin
1700  0562  19          	add	hl,de
1701  0563  7E          	ld	a,(hl)
1702  0564  C6 10       	add	a,0x10
1703  0566  47          	ld	b, a
1704  0567  79          	ld	a, c
1705  0568  48          	ld	c,b
1706  0569  47          	ld	b,a
1707  056A  C5          	push	bc
1708  056B  CD 00 00    	call	_spr_calc_index
1709  056E  F1          	pop	af
1710  056F  22 00 00    	ld	(_index1),hl
1711  0572  01 00 00    	ld	bc,_scr_map
1712  0575  09          	add	hl,bc
1713  0576  7E          	ld	a,(hl)
1714  0577  D6 3A       	sub	a,0x3a
1715  0579  30 05       	jr	NC,l_enemy_walk_00105
1716  057B  21 00 00    	ld	hl,_s_state
1717  057E  CB CE       	set	1, (hl)
1718  0580              l_enemy_walk_00105:
1719  0580  2A 00 00    	ld	hl,(_sprite)
1720  0583  26 00       	ld	h,0x00
1721  0585  01 00 00    	ld	bc,_col
1722  0588  09          	add	hl,bc
1723  0589  4E          	ld	c,(hl)
1724  058A  CB 41       	bit	0,c
1725  058C  C2 D6 06    	jp	NZ,l_enemy_walk_00153
1726  058F  79          	ld	a, c
1727  0590  D6 1E       	sub	a,0x1e
1728  0592  20 04       	jr	NZ,l_enemy_walk_00247
1729  0594  3E 01       	ld	a,0x01
1730  0596  18 01       	jr	l_enemy_walk_00248
1731  0598              l_enemy_walk_00247:
1732  0598  AF          	xor	a,a
1733  0599              l_enemy_walk_00248:
1734  0599  47          	ld	b, a
1735  059A  3A 00 00    	ld	a,(_s_class)
1736  059D  FE 06       	cp	a,0x06
1737  059F  28 08       	jr	Z,l_enemy_walk_00114
1738  05A1  FE 07       	cp	a,0x07
1739  05A3  28 04       	jr	Z,l_enemy_walk_00114
1740  05A5  D6 08       	sub	a,0x08
1741  05A7  20 1E       	jr	NZ,l_enemy_walk_00115
1742  05A9              l_enemy_walk_00114:
1743  05A9  21 00 00    	ld	hl,_s_state
1744  05AC  CB 4E       	bit	1, (hl)
1745  05AE  20 22       	jr	NZ,l_enemy_walk_00116
1746  05B0  79          	ld	a, c
1747  05B1  B7          	or	a, a
1748  05B2  28 04       	jr	Z,l_enemy_walk_00106
1749  05B4  78          	ld	a, b
1750  05B5  B7          	or	a, a
1751  05B6  28 1A       	jr	Z,l_enemy_walk_00116
1752  05B8              l_enemy_walk_00106:
1753  05B8  CD 00 00    	call	_spr_back_repaint
1754  05BB  2A 00 00    	ld	hl,(_sprite)
1755  05BE  CD 00 00    	call	_spr_destroy
1756  05C1  21 00 00    	ld	hl,_game_mush_count
1757  05C4  35          	dec	(hl)
1758  05C5  18 0B       	jr	l_enemy_walk_00116
1759  05C7              l_enemy_walk_00115:
1760  05C7  79          	ld	a, c
1761  05C8  B7          	or	a, a
1762  05C9  28 04       	jr	Z,l_enemy_walk_00111
1763  05CB  78          	ld	a, b
1764  05CC  B7          	or	a, a
1765  05CD  28 03       	jr	Z,l_enemy_walk_00116
1766  05CF              l_enemy_walk_00111:
1767  05CF  CD 00 00    	call	_spr_turn_horizontal
1768  05D2              l_enemy_walk_00116:
1769  05D2  3A 00 00    	ld	a,(_s_class)
1770  05D5  D6 0B       	sub	a,0x0b
1771  05D7  20 03       	jr	NZ,l_enemy_walk_00120
1772  05D9  CD 88 07    	call	_enemy_avoid_dead
1773  05DC              l_enemy_walk_00120:
1774  05DC  3A 00 00    	ld	a,(_s_class)
1775  05DF  FE 0C       	cp	a,0x0c
1776  05E1  28 04       	jr	Z,l_enemy_walk_00121
1777  05E3  D6 0D       	sub	a,0x0d
1778  05E5  20 03       	jr	NZ,l_enemy_walk_00122
1779  05E7              l_enemy_walk_00121:
1780  05E7  CD 2C 07    	call	_enemy_avoid_fall
1781  05EA              l_enemy_walk_00122:
1782  05EA  3A 00 00    	ld	a,(_s_class)
1783  05ED  D6 0F       	sub	a,0x0f
1784  05EF  20 6A       	jr	NZ,l_enemy_walk_00134
1785  05F1  CD 2C 07    	call	_enemy_avoid_fall
1786  05F4  2A 00 00    	ld	hl,(_sprite)
1787  05F7  26 00       	ld	h,0x00
1788  05F9  01 00 00    	ld	bc,_bullet_col
1789  05FC  09          	add	hl,bc
1790  05FD  7E          	ld	a,(hl)
1791  05FE  3C          	inc	a
1792  05FF  20 5A       	jr	NZ,l_enemy_walk_00134
1793  0601  21 07 00    	ld	hl,_lin + 7
1794  0604  4E          	ld	c, (hl)
1795  0605  06 00       	ld	b,0x00
1796  0607  2A 00 00    	ld	hl,(_sprite)
1797  060A  60          	ld	h,b
1798  060B  11 00 00    	ld	de,_lin
1799  060E  19          	add	hl,de
1800  060F  5E          	ld	e, (hl)
1801  0610  16 00       	ld	d,0x00
1802  0612  79          	ld	a, c
1803  0613  93          	sub	a, e
1804  0614  6F          	ld	l, a
1805  0615  78          	ld	a, b
1806  0616  9A          	sbc	a, d
1807  0617  67          	ld	h, a
1808  0618  CD 00 00    	call	_abs_fastcall
1809  061B  7D          	ld	a,l
1810  061C  D6 20       	sub	a,0x20
1811  061E  7C          	ld	a,h
1812  061F  17          	rla
1813  0620  3F          	ccf
1814  0621  1F          	rra
1815  0622  DE 80       	sbc	a,0x80
1816  0624  30 35       	jr	NC,l_enemy_walk_00134
1817  0626  2A 00 00    	ld	hl,(_sprite)
1818  0629  26 00       	ld	h,0x00
1819  062B  01 00 00    	ld	bc,_col
1820  062E  09          	add	hl,bc
1821  062F  4D          	ld	c,l
1822  0630  44          	ld	b,h
1823  0631  21 00 00    	ld	hl,_s_state
1824  0634  CB 56       	bit	2, (hl)
1825  0636  28 08       	jr	Z,l_enemy_walk_00128
1826  0638  21 07 00    	ld	hl,+(_col + 0x0007)
1827  063B  5E          	ld	e, (hl)
1828  063C  0A          	ld	a, (bc)
1829  063D  93          	sub	a, e
1830  063E  38 11       	jr	C,l_enemy_walk_00124
1831  0640              l_enemy_walk_00128:
1832  0640  21 00 00    	ld	hl,_s_state
1833  0643  CB 5E       	bit	3, (hl)
1834  0645  28 14       	jr	Z,l_enemy_walk_00134
1835  0647  21 07 00    	ld	hl,+(_col + 0x0007)
1836  064A  5E          	ld	e, (hl)
1837  064B  0A          	ld	a, (bc)
1838  064C  4F          	ld	c, a
1839  064D  7B          	ld	a, e
1840  064E  91          	sub	a, c
1841  064F  30 0A       	jr	NC,l_enemy_walk_00134
1842  0651              l_enemy_walk_00124:
1843  0651  2A 00 00    	ld	hl,(_sprite)
1844  0654  26 7C       	ld	h,0x7c
1845  0656  E5          	push	hl
1846  0657  CD 00 00    	call	_game_shoot_fire
1847  065A  F1          	pop	af
1848  065B              l_enemy_walk_00134:
1849  065B  3A 00 00    	ld	a,(_s_class)
1850  065E  D6 0E       	sub	a,0x0e
1851  0660  20 74       	jr	NZ,l_enemy_walk_00153
1852  0662  CD 2C 07    	call	_enemy_avoid_fall
1853  0665  2A 00 00    	ld	hl,(_sprite)
1854  0668  26 00       	ld	h,0x00
1855  066A  01 00 00    	ld	bc,_bullet_col
1856  066D  09          	add	hl,bc
1857  066E  7E          	ld	a,(hl)
1858  066F  3C          	inc	a
1859  0670  20 64       	jr	NZ,l_enemy_walk_00153
1860  0672  3A 07 00    	ld	a,(_col + 0x0007)
1861  0675  4F          	ld	c,a
1862  0676  06 00       	ld	b,0x00
1863  0678  2A 00 00    	ld	hl,(_sprite)
1864  067B  60          	ld	h,b
1865  067C  11 00 00    	ld	de,_col
1866  067F  19          	add	hl,de
1867  0680  5E          	ld	e, (hl)
1868  0681  16 00       	ld	d,0x00
1869  0683  79          	ld	a, c
1870  0684  93          	sub	a, e
1871  0685  6F          	ld	l, a
1872  0686  78          	ld	a, b
1873  0687  9A          	sbc	a, d
1874  0688  67          	ld	h, a
1875  0689  CD 00 00    	call	_abs_fastcall
1876  068C  7D          	ld	a,l
1877  068D  32 00 00    	ld	(_s_col1),a
1878  0690  D6 06       	sub	a,0x06
1879  0692  30 42       	jr	NC,l_enemy_walk_00153
1880  0694  2A 00 00    	ld	hl,(_sprite)
1881  0697  26 00       	ld	h,0x00
1882  0699  01 00 00    	ld	bc,_col
1883  069C  09          	add	hl,bc
1884  069D  4D          	ld	c,l
1885  069E  44          	ld	b,h
1886  069F  21 00 00    	ld	hl,_s_state
1887  06A2  CB 5E       	bit	3, (hl)
1888  06A4  28 08       	jr	Z,l_enemy_walk_00139
1889  06A6  0A          	ld	a, (bc)
1890  06A7  5F          	ld	e, a
1891  06A8  3A 07 00    	ld	a,(_col + 0x0007)
1892  06AB  93          	sub	a, e
1893  06AC  38 11       	jr	C,l_enemy_walk_00135
1894  06AE              l_enemy_walk_00139:
1895  06AE  21 00 00    	ld	hl,_s_state
1896  06B1  CB 56       	bit	2, (hl)
1897  06B3  28 21       	jr	Z,l_enemy_walk_00153
1898  06B5  0A          	ld	a, (bc)
1899  06B6  4F          	ld	c, a
1900  06B7  21 07 00    	ld	hl,+(_col + 0x0007)
1901  06BA  46          	ld	b, (hl)
1902  06BB  79          	ld	a, c
1903  06BC  90          	sub	a, b
1904  06BD  30 17       	jr	NC,l_enemy_walk_00153
1905  06BF              l_enemy_walk_00135:
1906  06BF  2A 00 00    	ld	hl,(_sprite)
1907  06C2  26 80       	ld	h,0x80
1908  06C4  E5          	push	hl
1909  06C5  CD 00 00    	call	_game_shoot_fire
1910  06C8  F1          	pop	af
1911  06C9  18 0B       	jr	l_enemy_walk_00153
1912  06CB              l_enemy_walk_00151:
1913  06CB  CD 00 00    	call	_spr_move_down
1914  06CE  7D          	ld	a, l
1915  06CF  B7          	or	a, a
1916  06D0  C8          	ret	Z
1917  06D1  21 00 00    	ld	hl,_s_state
1918  06D4  CB 8E       	res	1, (hl)
1919  06D6              l_enemy_walk_00153:
1920  06D6  C9          	ret
1921  06D7              	SECTION code_compiler
1922  06D7              ;	---------------------------------
1923  06D7              ; Function enemy_kill
1924  06D7              ; ---------------------------------
1925  06D7              _enemy_kill:
1926  06D7  CD 00 00    	call	___sdcc_enter_ix
1927  06DA  F5          	push	af
1928  06DB  4D          	ld	c,l
1929  06DC  11 00 00    	ld	de,_game_respawn_time+0
1930  06DF  26 00       	ld	h,0x00
1931  06E1  29          	add	hl, hl
1932  06E2  19          	add	hl,de
1933  06E3  E3          	ex	(sp), hl
1934  06E4  E1          	pop	hl
1935  06E5  ED 5B 00 00 	ld	de,(_curr_time)
1936  06E9  E5          	push	hl
1937  06EA  73          	ld	(hl), e
1938  06EB  23          	inc	hl
1939  06EC  72          	ld	(hl), d
1940  06ED  11 00 00    	ld	de,_lin+0
1941  06F0  69          	ld	l,c
1942  06F1  26 00       	ld	h,0x00
1943  06F3  19          	add	hl, de
1944  06F4  7E          	ld	a, (hl)
1945  06F5  32 00 00    	ld	(_s_lin0),a
1946  06F8  11 00 00    	ld	de,_col+0
1947  06FB  69          	ld	l,c
1948  06FC  26 00       	ld	h,0x00
1949  06FE  19          	add	hl, de
1950  06FF  7E          	ld	a, (hl)
1951  0700  32 00 00    	ld	(_s_col0),a
1952  0703  69          	ld	l, c
1953  0704  CD 00 00    	call	_spr_destroy
1954  0707  CD 00 00    	call	_spr_bullet_explode
1955  070A  3A 00 00    	ld	a,(_s_col0)
1956  070D  21 00 00    	ld	hl,0x0000
1957  0710  E5          	push	hl
1958  0711  21 8D 03    	ld	hl,0x038d
1959  0714  E5          	push	hl
1960  0715  F5          	push	af
1961  0716  33          	inc	sp
1962  0717  3A 00 00    	ld	a,(_s_lin0)
1963  071A  F5          	push	af
1964  071B  33          	inc	sp
1965  071C  CD 00 00    	call	_spr_add_anim
1966  071F  F1          	pop	af
1967  0720  F1          	pop	af
1968  0721  F1          	pop	af
1969  0722  21 00 00    	ld	hl,_ay_effect_02
1970  0725  CD 00 00    	call	_ay_fx_play
1971  0728  F1          	pop	af
1972  0729  DD E1       	pop	ix
1973  072B  C9          	ret
1974  072C              	SECTION code_compiler
1975  072C              ;	---------------------------------
1976  072C              ; Function enemy_avoid_fall
1977  072C              ; ---------------------------------
1978  072C              _enemy_avoid_fall:
1979  072C  21 00 00    	ld	hl,_s_state
1980  072F  CB 56       	bit	2, (hl)
1981  0731  28 25       	jr	Z,l_enemy_avoid_fall_00102
1982  0733  2A 00 00    	ld	hl,(_sprite)
1983  0736  26 00       	ld	h,0x00
1984  0738  01 00 00    	ld	bc,_col
1985  073B  09          	add	hl,bc
1986  073C  7E          	ld	a,(hl)
1987  073D  C6 02       	add	a,0x02
1988  073F  47          	ld	b,a
1989  0740  3A 00 00    	ld	a,(_sprite)
1990  0743  5F          	ld	e,a
1991  0744  16 00       	ld	d,0x00
1992  0746  21 00 00    	ld	hl,_lin
1993  0749  19          	add	hl,de
1994  074A  7E          	ld	a,(hl)
1995  074B  C6 10       	add	a,0x10
1996  074D  4F          	ld	c,a
1997  074E  C5          	push	bc
1998  074F  CD 00 00    	call	_spr_calc_index
1999  0752  F1          	pop	af
2000  0753  22 00 00    	ld	(_index1),hl
2001  0756  18 22       	jr	l_enemy_avoid_fall_00103
2002  0758              l_enemy_avoid_fall_00102:
2003  0758  2A 00 00    	ld	hl,(_sprite)
2004  075B  26 00       	ld	h,0x00
2005  075D  01 00 00    	ld	bc,_col
2006  0760  09          	add	hl,bc
2007  0761  7E          	ld	a,(hl)
2008  0762  C6 FE       	add	a,-0x02
2009  0764  57          	ld	d,a
2010  0765  2A 00 00    	ld	hl,(_sprite)
2011  0768  26 00       	ld	h,0x00
2012  076A  01 00 00    	ld	bc,_lin
2013  076D  09          	add	hl,bc
2014  076E  7E          	ld	a,(hl)
2015  076F  C6 10       	add	a,0x10
2016  0771  5F          	ld	e, a
2017  0772  D5          	push	de
2018  0773  CD 00 00    	call	_spr_calc_index
2019  0776  F1          	pop	af
2020  0777  22 00 00    	ld	(_index1),hl
2021  077A              l_enemy_avoid_fall_00103:
2022  077A  01 00 00    	ld	bc,_scr_map
2023  077D  2A 00 00    	ld	hl,(_index1)
2024  0780  09          	add	hl,bc
2025  0781  7E          	ld	a,(hl)
2026  0782  D6 3A       	sub	a,0x3a
2027  0784  D0          	ret	NC
2028  0785  C3 00 00    	jp  _spr_turn_horizontal
2029  0788              	SECTION code_compiler
2030  0788              ;	---------------------------------
2031  0788              ; Function enemy_avoid_dead
2032  0788              ; ---------------------------------
2033  0788              _enemy_avoid_dead:
2034  0788  2A 00 00    	ld	hl,(_sprite)
2035  078B  26 00       	ld	h,0x00
2036  078D  01 00 00    	ld	bc,_col
2037  0790  09          	add	hl,bc
2038  0791  56          	ld	d, (hl)
2039  0792  2A 00 00    	ld	hl,(_sprite)
2040  0795  26 00       	ld	h,0x00
2041  0797  01 00 00    	ld	bc,_lin
2042  079A  09          	add	hl,bc
2043  079B  5E          	ld	e, (hl)
2044  079C  D5          	push	de
2045  079D  CD 00 00    	call	_spr_calc_index
2046  07A0  F1          	pop	af
2047  07A1  22 00 00    	ld	(_index1),hl
2048  07A4  21 00 00    	ld	hl,_s_state
2049  07A7  CB 56       	bit	2, (hl)
2050  07A9  28 0A       	jr	Z,l_enemy_avoid_dead_00102
2051  07AB  21 00 00    	ld	hl,_index1
2052  07AE  34          	inc	(hl)
2053  07AF  20 0B       	jr	NZ,l_enemy_avoid_dead_00103
2054  07B1  23          	inc	hl
2055  07B2  34          	inc	(hl)
2056  07B3  18 07       	jr	l_enemy_avoid_dead_00103
2057  07B5              l_enemy_avoid_dead_00102:
2058  07B5  2A 00 00    	ld	hl,(_index1)
2059  07B8  2B          	dec	hl
2060  07B9  22 00 00    	ld	(_index1),hl
2061  07BC              l_enemy_avoid_dead_00103:
2062  07BC  01 00 00    	ld	bc,_scr_map+0
2063  07BF  2A 00 00    	ld	hl,(_index1)
2064  07C2  09          	add	hl,bc
2065  07C3  7E          	ld	a,(hl)
2066  07C4  21 00 00    	ld	hl,_tmp0
2067  07C7  77          	ld	(hl), a
2068  07C8  3E 2F       	ld	a,0x2f
2069  07CA  96          	sub	a, (hl)
2070  07CB  30 0C       	jr	NC,l_enemy_avoid_dead_00105
2071  07CD  7E          	ld	a, (hl)
2072  07CE  D6 3A       	sub	a,0x3a
2073  07D0  30 07       	jr	NC,l_enemy_avoid_dead_00105
2074  07D2  CD 00 00    	call	_spr_turn_horizontal
2075  07D5  2E 01       	ld	l,0x01
2076  07D7  18 23       	jr	l_enemy_avoid_dead_00110
2077  07D9              l_enemy_avoid_dead_00105:
2078  07D9  2A 00 00    	ld	hl,(_index1)
2079  07DC  11 10 00    	ld	de,0x0010
2080  07DF  19          	add	hl,de
2081  07E0  22 00 00    	ld	(_index1),hl
2082  07E3  09          	add	hl,bc
2083  07E4  7E          	ld	a,(hl)
2084  07E5  21 00 00    	ld	hl,_tmp0
2085  07E8  77          	ld	(hl), a
2086  07E9  3E 2F       	ld	a,0x2f
2087  07EB  96          	sub	a, (hl)
2088  07EC  30 0C       	jr	NC,l_enemy_avoid_dead_00108
2089  07EE  7E          	ld	a, (hl)
2090  07EF  D6 3A       	sub	a,0x3a
2091  07F1  30 07       	jr	NC,l_enemy_avoid_dead_00108
2092  07F3  CD 00 00    	call	_spr_turn_horizontal
2093  07F6  2E 01       	ld	l,0x01
2094  07F8  18 02       	jr	l_enemy_avoid_dead_00110
2095  07FA              l_enemy_avoid_dead_00108:
2096  07FA  2E 00       	ld	l,0x00
2097  07FC              l_enemy_avoid_dead_00110:
2098  07FC  C9          	ret
2099  07FD              	SECTION code_compiler
2100  07FD              ;	---------------------------------
2101  07FD              ; Function enemy_respawn
2102  07FD              ; ---------------------------------
2103  07FD              _enemy_respawn:
2104  07FD  CD 00 00    	call	___sdcc_enter_ix
2105  0800  3B          	dec	sp
2106  0801  DD 75 FF    	ld	(ix-1),l
2107  0804  3A 00 00    	ld	a,(_s_lin0)
2108  0807  32 00 00    	ld	(_s_lin1),a
2109  080A  3A 00 00    	ld	a,(_s_col0)
2110  080D  32 00 00    	ld	(_s_col1),a
2111  0810  2A FF FF    	ld	hl,(_s_col1 - 1)
2112  0813  3A 00 00    	ld	a,(_s_lin1)
2113  0816  6F          	ld	l,a
2114  0817  E5          	push	hl
2115  0818  CD 00 00    	call	_spr_calc_index
2116  081B  F1          	pop	af
2117  081C  22 00 00    	ld	(_index1),hl
2118  081F  0E 00       	ld	c,0x00
2119  0821              l_enemy_respawn_00105:
2120  0821  79          	ld	a, c
2121  0822  D6 07       	sub	a,0x07
2122  0824  30 2D       	jr	NC,l_enemy_respawn_00108
2123  0826  06 00       	ld	b,0x00
2124  0828  21 00 00    	ld	hl,_game_respawn_index
2125  082B  09          	add	hl, bc
2126  082C  5E          	ld	e, (hl)
2127  082D  16 00       	ld	d,0x00
2128  082F  21 00 00    	ld	hl,_index1
2129  0832  7E          	ld	a, (hl)
2130  0833  93          	sub	a, e
2131  0834  20 1A       	jr	NZ,l_enemy_respawn_00104
2132  0836  23          	inc	hl
2133  0837  7E          	ld	a, (hl)
2134  0838  92          	sub	a, d
2135  0839  20 15       	jr	NZ,l_enemy_respawn_00104
2136  083B  3A 00 00    	ld	a,(_game_boss_alive)
2137  083E  B7          	or	a, a
2138  083F  28 12       	jr	Z,l_enemy_respawn_00108
2139  0841  01 00 00    	ld	bc,_anim_respanwn+0
2140  0844  DD 6E FF    	ld	l,(ix-1)
2141  0847  26 00       	ld	h,0x00
2142  0849  09          	add	hl, bc
2143  084A  6E          	ld	l, (hl)
2144  084B  CD 00 00    	call	_game_add_enemy
2145  084E  18 03       	jr	l_enemy_respawn_00108
2146  0850              l_enemy_respawn_00104:
2147  0850  0C          	inc	c
2148  0851  18 CE       	jr	l_enemy_respawn_00105
2149  0853              l_enemy_respawn_00108:
2150  0853  33          	inc	sp
2151  0854  DD E1       	pop	ix
2152  0856  C9          	ret
2153  0857              	SECTION code_compiler
2154  0857              ;	---------------------------------
2155  0857              ; Function enemy_init
2156  0857              ; ---------------------------------
2157  0857              _enemy_init:
2158  0857  CD 00 00    	call	___sdcc_enter_ix
2159  085A  F5          	push	af
2160  085B  F5          	push	af
2161  085C  3B          	dec	sp
2162  085D  1E 00       	ld	e,0x00
2163  085F  DD 73 FB    	ld	(ix-5),e
2164  0862              l_enemy_init_00105:
2165  0862  7B          	ld	a, e
2166  0863  D6 07       	sub	a,0x07
2167  0865  3E 00       	ld	a,0x00
2168  0867  17          	rla
2169  0868  4F          	ld	c, a
2170  0869  3E 00       	ld	a, +((_class) & 0xFF)
2171  086B  83          	add	a, e
2172  086C  DD 77 FE    	ld	(ix-2),a
2173  086F  3E 00       	ld	a, +((_class) / 256)
2174  0871  CE 00       	adc	a,0x00
2175  0873  DD 77 FF    	ld	(ix-1),a
2176  0876  79          	ld	a, c
2177  0877  B7          	or	a, a
2178  0878  28 22       	jr	Z,l_enemy_init_00128
2179  087A  DD 6E FE    	ld	l,(ix-2)
2180  087D  DD 66 FF    	ld	h,(ix-1)
2181  0880  7E          	ld	a, (hl)
2182  0881  B7          	or	a, a
2183  0882  20 12       	jr	NZ,l_enemy_init_00102
2184  0884  6B          	ld	l, e
2185  0885  26 00       	ld	h,0x00
2186  0887  29          	add	hl, hl
2187  0888  3E 00       	ld	a, +((_game_respawn_time) & 0xFF)
2188  088A  85          	add	a, l
2189  088B  6F          	ld	l, a
2190  088C  3E 00       	ld	a, +((_game_respawn_time) / 256)
2191  088E  8C          	adc	a, h
2192  088F  67          	ld	h, a
2193  0890  46          	ld	b, (hl)
2194  0891  23          	inc	hl
2195  0892  7E          	ld	a, (hl)
2196  0893  B0          	or	a,b
2197  0894  28 06       	jr	Z,l_enemy_init_00128
2198  0896              l_enemy_init_00102:
2199  0896  1C          	inc	e
2200  0897  DD 73 FB    	ld	(ix-5),e
2201  089A  18 C6       	jr	l_enemy_init_00105
2202  089C              l_enemy_init_00128:
2203  089C  DD 73 FB    	ld	(ix-5),e
2204  089F  79          	ld	a, c
2205  08A0  B7          	or	a, a
2206  08A1  CA AD 09    	jp	Z, l_enemy_init_00118
2207  08A4  DD 6E FE    	ld	l,(ix-2)
2208  08A7  DD 66 FF    	ld	h,(ix-1)
2209  08AA  DD 7E 06    	ld	a,(ix+6)
2210  08AD  77          	ld	(hl), a
2211  08AE  3E 00       	ld	a, +((_lin) & 0xFF)
2212  08B0  83          	add	a, e
2213  08B1  4F          	ld	c, a
2214  08B2  3E 00       	ld	a, +((_lin) / 256)
2215  08B4  CE 00       	adc	a,0x00
2216  08B6  47          	ld	b, a
2217  08B7  DD 7E 04    	ld	a,(ix+4)
2218  08BA  02          	ld	(bc), a
2219  08BB  3E 00       	ld	a, +((_col) & 0xFF)
2220  08BD  83          	add	a, e
2221  08BE  4F          	ld	c, a
2222  08BF  3E 00       	ld	a, +((_col) / 256)
2223  08C1  CE 00       	adc	a,0x00
2224  08C3  47          	ld	b, a
2225  08C4  DD 7E 05    	ld	a,(ix+5)
2226  08C7  02          	ld	(bc), a
2227  08C8  3E 00       	ld	a, +((_state) & 0xFF)
2228  08CA  83          	add	a, e
2229  08CB  DD 77 FE    	ld	(ix-2),a
2230  08CE  6F          	ld	l,a
2231  08CF  3E 00       	ld	a,+((_state) / 256)
2232  08D1  CE 00       	adc	a,0x00
2233  08D3  DD 77 FF    	ld	(ix-1),a
2234  08D6  67          	ld	h,a
2235  08D7  16 00       	ld	d,0x00
2236  08D9  72          	ld	(hl),d
2237  08DA  21 00 00    	ld	hl,_state_a
2238  08DD  19          	add	hl, de
2239  08DE  16 00       	ld	d,0x00
2240  08E0  72          	ld	(hl),d
2241  08E1  21 00 00    	ld	hl,_jump_lin
2242  08E4  19          	add	hl, de
2243  08E5  36 00       	ld	(hl),0x00
2244  08E7  3E 00       	ld	a, +((_colint) & 0xFF)
2245  08E9  83          	add	a, e
2246  08EA  DD 77 FC    	ld	(ix-4),a
2247  08ED  6F          	ld	l,a
2248  08EE  3E 00       	ld	a,+((_colint) / 256)
2249  08F0  CE 00       	adc	a,0x00
2250  08F2  DD 77 FD    	ld	(ix-3),a
2251  08F5  67          	ld	h,a
2252  08F6  36 00       	ld	(hl),0x00
2253  08F8  DD 7E 07    	ld	a,(ix+7)
2254  08FB  3D          	dec	a
2255  08FC  20 0A       	jr	NZ,l_enemy_init_00109
2256  08FE  DD 6E FE    	ld	l,(ix-2)
2257  0901  DD 66 FF    	ld	h,(ix-1)
2258  0904  7E          	ld	a,(hl)
2259  0905  F6 04       	or	a,0x04
2260  0907  77          	ld	(hl), a
2261  0908              l_enemy_init_00109:
2262  0908  DD 7E 07    	ld	a,(ix+7)
2263  090B  3C          	inc	a
2264  090C  20 1F       	jr	NZ,l_enemy_init_00111
2265  090E  DD 6E FE    	ld	l,(ix-2)
2266  0911  DD 66 FF    	ld	h,(ix-1)
2267  0914  7E          	ld	a,(hl)
2268  0915  F6 08       	or	a,0x08
2269  0917  77          	ld	(hl), a
2270  0918  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2271  091A  DD 86 06    	add	a,(ix+6)
2272  091D  4F          	ld	c, a
2273  091E  3E 00       	ld	a, +((_sprite_frames) / 256)
2274  0920  CE 00       	adc	a,0x00
2275  0922  47          	ld	b, a
2276  0923  0A          	ld	a, (bc)
2277  0924  4F          	ld	c, a
2278  0925  0D          	dec	c
2279  0926  DD 6E FC    	ld	l,(ix-4)
2280  0929  DD 66 FD    	ld	h,(ix-3)
2281  092C  71          	ld	(hl), c
2282  092D              l_enemy_init_00111:
2283  092D  3E 00       	ld	a, +((_tile) & 0xFF)
2284  092F  83          	add	a, e
2285  0930  4F          	ld	c, a
2286  0931  3E 00       	ld	a, +((_tile) / 256)
2287  0933  CE 00       	adc	a,0x00
2288  0935  47          	ld	b, a
2289  0936  21 00 00    	ld	hl,0x0000
2290  0939  39          	add	hl, sp
2291  093A  5D          	ld	e, l
2292  093B  54          	ld	d, h
2293  093C  C5          	push	bc
2294  093D  EB          	ex	de,hl
2295  093E  CD 00 00    	call	_spr_tile
2296  0941  C1          	pop	bc
2297  0942  7D          	ld	a,l
2298  0943  02          	ld	(bc), a
2299  0944  01 00 00    	ld	bc,_spr_timer+0
2300  0947  DD 6E FB    	ld	l,(ix-5)
2301  094A  26 00       	ld	h,0x00
2302  094C  29          	add	hl, hl
2303  094D  09          	add	hl,bc
2304  094E  ED 5B 00 00 	ld	de,(_curr_time)
2305  0952  73          	ld	(hl),e
2306  0953  23          	inc	hl
2307  0954  72          	ld	(hl),d
2308  0955  01 00 00    	ld	bc,_last_time+0
2309  0958  DD 6E FB    	ld	l,(ix-5)
2310  095B  26 00       	ld	h,0x00
2311  095D  29          	add	hl, hl
2312  095E  09          	add	hl, bc
2313  095F  AF          	xor	a, a
2314  0960  77          	ld	(hl), a
2315  0961  23          	inc	hl
2316  0962  77          	ld	(hl), a
2317  0963  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2318  0965  DD 86 FB    	add	a,(ix-5)
2319  0968  4F          	ld	c, a
2320  0969  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2321  096B  CE 00       	adc	a,0x00
2322  096D  47          	ld	b, a
2323  096E  AF          	xor	a, a
2324  096F  02          	ld	(bc), a
2325  0970  21 00 00    	ld	hl,_spr_count
2326  0973  34          	inc	(hl)
2327  0974  3A 00 00    	ld	a,(_game_boss)
2328  0977  B7          	or	a, a
2329  0978  20 33       	jr	NZ,l_enemy_init_00118
2330  097A  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2331  097C  DD 86 FB    	add	a,(ix-5)
2332  097F  4F          	ld	c, a
2333  0980  3E 00       	ld	a, +((_bullet_col) / 256)
2334  0982  CE 00       	adc	a,0x00
2335  0984  47          	ld	b, a
2336  0985  0A          	ld	a, (bc)
2337  0986  FE FF       	cp	a,0xff
2338  0988  28 15       	jr	Z,l_enemy_init_00113
2339  098A  32 00 00    	ld	(_s_col0),a
2340  098D  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2341  098F  DD 86 FB    	add	a,(ix-5)
2342  0992  4F          	ld	c, a
2343  0993  3E 00       	ld	a, +((_bullet_lin) / 256)
2344  0995  CE 00       	adc	a,0x00
2345  0997  47          	ld	b, a
2346  0998  0A          	ld	a, (bc)
2347  0999  32 00 00    	ld	(_s_lin0),a
2348  099C  CD 00 00    	call	_spr_back_repaint
2349  099F              l_enemy_init_00113:
2350  099F  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2351  09A1  DD 86 FB    	add	a,(ix-5)
2352  09A4  4F          	ld	c, a
2353  09A5  3E 00       	ld	a, +((_bullet_col) / 256)
2354  09A7  CE 00       	adc	a,0x00
2355  09A9  47          	ld	b, a
2356  09AA  3E FF       	ld	a,0xff
2357  09AC  02          	ld	(bc), a
2358  09AD              l_enemy_init_00118:
2359  09AD  DD F9       	ld	sp, ix
2360  09AF  DD E1       	pop	ix
2361  09B1  C9          	ret
2362  09B2              	SECTION IGNORE
2363  0000              
