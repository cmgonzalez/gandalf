1     0000              MODULE game_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _enemy_coin2
189   0000              	GLOBAL _enemy_coin1
190   0000              	GLOBAL _enemy_collision
191   0000              	GLOBAL _enemy_collision_turn_dir
192   0000              	GLOBAL _enemy_hit
193   0000              	GLOBAL _enemy_flip_change_dir
194   0000              	GLOBAL _enemy_flip
195   0000              	GLOBAL _enemy_flip_sidestepper
196   0000              	GLOBAL _enemy_turn
197   0000              	GLOBAL _enemy_standard
198   0000              	GLOBAL _enemy_slipice
199   0000              	GLOBAL _enemy_fireball_red
200   0000              	GLOBAL _enemy_fireball_green
201   0000              	GLOBAL _enemy_fighterfly
202   0000              	GLOBAL _enemy_trip
203   0000              	GLOBAL _enemy_trip_move
204   0000              	GLOBAL _enemy_standard_hit
205   0000              	GLOBAL _enemy_evolve
206   0000              	GLOBAL _enemy_upgrade
207   0000              	GLOBAL _enemy_walk
208   0000              	GLOBAL _enemy_init
209   0000              	GLOBAL _enemy_kill
210   0000              ;--------------------------------------------------------
211   0000              ; Externals used
212   0000              ;--------------------------------------------------------
213   0000              	GLOBAL _debug3
214   0000              	GLOBAL _debug2
215   0000              	GLOBAL _debug
216   0000              	GLOBAL _zx_print_str
217   0000              	GLOBAL _zx_print_int
218   0000              	GLOBAL _zx_print_chr
219   0000              	GLOBAL _zx_print_bonus_time
220   0000              	GLOBAL _zx_isr
221   0000              	GLOBAL _z80_otdr_callee
222   0000              	GLOBAL _z80_otdr
223   0000              	GLOBAL _z80_otir_callee
224   0000              	GLOBAL _z80_otir
225   0000              	GLOBAL _z80_outp_callee
226   0000              	GLOBAL _z80_outp
227   0000              	GLOBAL _z80_indr_callee
228   0000              	GLOBAL _z80_indr
229   0000              	GLOBAL _z80_inir_callee
230   0000              	GLOBAL _z80_inir
231   0000              	GLOBAL _z80_inp_fastcall
232   0000              	GLOBAL _z80_inp
233   0000              	GLOBAL _z80_set_int_state_fastcall
234   0000              	GLOBAL _z80_set_int_state
235   0000              	GLOBAL _z80_get_int_state
236   0000              	GLOBAL _z80_delay_tstate_fastcall
237   0000              	GLOBAL _z80_delay_tstate
238   0000              	GLOBAL _z80_delay_ms_fastcall
239   0000              	GLOBAL _z80_delay_ms
240   0000              	GLOBAL _im2_remove_generic_callback_callee
241   0000              	GLOBAL _im2_remove_generic_callback
242   0000              	GLOBAL _im2_prepend_generic_callback_callee
243   0000              	GLOBAL _im2_prepend_generic_callback
244   0000              	GLOBAL _im2_append_generic_callback_callee
245   0000              	GLOBAL _im2_append_generic_callback
246   0000              	GLOBAL _im2_create_generic_isr_8080_callee
247   0000              	GLOBAL _im2_create_generic_isr_8080
248   0000              	GLOBAL _im2_create_generic_isr_callee
249   0000              	GLOBAL _im2_create_generic_isr
250   0000              	GLOBAL _im2_install_isr_callee
251   0000              	GLOBAL _im2_install_isr
252   0000              	GLOBAL _im2_init_fastcall
253   0000              	GLOBAL _im2_init
254   0000              	GLOBAL _zx_pattern_fill_callee
255   0000              	GLOBAL _zx_pattern_fill
256   0000              	GLOBAL _zx_saddrpup_fastcall
257   0000              	GLOBAL _zx_saddrpup
258   0000              	GLOBAL _zx_saddrpright_callee
259   0000              	GLOBAL _zx_saddrpright
260   0000              	GLOBAL _zx_saddrpleft_callee
261   0000              	GLOBAL _zx_saddrpleft
262   0000              	GLOBAL _zx_saddrpdown_fastcall
263   0000              	GLOBAL _zx_saddrpdown
264   0000              	GLOBAL _zx_saddrcup_fastcall
265   0000              	GLOBAL _zx_saddrcup
266   0000              	GLOBAL _zx_saddrcright_fastcall
267   0000              	GLOBAL _zx_saddrcright
268   0000              	GLOBAL _zx_saddrcleft_fastcall
269   0000              	GLOBAL _zx_saddrcleft
270   0000              	GLOBAL _zx_saddrcdown_fastcall
271   0000              	GLOBAL _zx_saddrcdown
272   0000              	GLOBAL _zx_saddr2py_fastcall
273   0000              	GLOBAL _zx_saddr2py
274   0000              	GLOBAL _zx_saddr2px_fastcall
275   0000              	GLOBAL _zx_saddr2px
276   0000              	GLOBAL _zx_saddr2cy_fastcall
277   0000              	GLOBAL _zx_saddr2cy
278   0000              	GLOBAL _zx_saddr2cx_fastcall
279   0000              	GLOBAL _zx_saddr2cx
280   0000              	GLOBAL _zx_saddr2aaddr_fastcall
281   0000              	GLOBAL _zx_saddr2aaddr
282   0000              	GLOBAL _zx_py2saddr_fastcall
283   0000              	GLOBAL _zx_py2saddr
284   0000              	GLOBAL _zx_py2aaddr_fastcall
285   0000              	GLOBAL _zx_py2aaddr
286   0000              	GLOBAL _zx_pxy2saddr_callee
287   0000              	GLOBAL _zx_pxy2saddr
288   0000              	GLOBAL _zx_pxy2aaddr_callee
289   0000              	GLOBAL _zx_pxy2aaddr
290   0000              	GLOBAL _zx_px2bitmask_fastcall
291   0000              	GLOBAL _zx_px2bitmask
292   0000              	GLOBAL _zx_cy2saddr_fastcall
293   0000              	GLOBAL _zx_cy2saddr
294   0000              	GLOBAL _zx_cy2aaddr_fastcall
295   0000              	GLOBAL _zx_cy2aaddr
296   0000              	GLOBAL _zx_cxy2saddr_callee
297   0000              	GLOBAL _zx_cxy2saddr
298   0000              	GLOBAL _zx_cxy2aaddr_callee
299   0000              	GLOBAL _zx_cxy2aaddr
300   0000              	GLOBAL _zx_bitmask2px_fastcall
301   0000              	GLOBAL _zx_bitmask2px
302   0000              	GLOBAL _zx_aaddrcup_fastcall
303   0000              	GLOBAL _zx_aaddrcup
304   0000              	GLOBAL _zx_aaddrcright_fastcall
305   0000              	GLOBAL _zx_aaddrcright
306   0000              	GLOBAL _zx_aaddrcleft_fastcall
307   0000              	GLOBAL _zx_aaddrcleft
308   0000              	GLOBAL _zx_aaddrcdown_fastcall
309   0000              	GLOBAL _zx_aaddrcdown
310   0000              	GLOBAL _zx_aaddr2saddr_fastcall
311   0000              	GLOBAL _zx_aaddr2saddr
312   0000              	GLOBAL _zx_aaddr2py_fastcall
313   0000              	GLOBAL _zx_aaddr2py
314   0000              	GLOBAL _zx_aaddr2px_fastcall
315   0000              	GLOBAL _zx_aaddr2px
316   0000              	GLOBAL _zx_aaddr2cy_fastcall
317   0000              	GLOBAL _zx_aaddr2cy
318   0000              	GLOBAL _zx_aaddr2cx_fastcall
319   0000              	GLOBAL _zx_aaddr2cx
320   0000              	GLOBAL _zx_visit_wc_pix_callee
321   0000              	GLOBAL _zx_visit_wc_pix
322   0000              	GLOBAL _zx_visit_wc_attr_callee
323   0000              	GLOBAL _zx_visit_wc_attr
324   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
325   0000              	GLOBAL _zx_scroll_wc_up_pix
326   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
327   0000              	GLOBAL _zx_scroll_wc_up_attr
328   0000              	GLOBAL _zx_scroll_wc_up_callee
329   0000              	GLOBAL _zx_scroll_wc_up
330   0000              	GLOBAL _zx_scroll_up_pix_callee
331   0000              	GLOBAL _zx_scroll_up_pix
332   0000              	GLOBAL _zx_scroll_up_attr_callee
333   0000              	GLOBAL _zx_scroll_up_attr
334   0000              	GLOBAL _zx_scroll_up_callee
335   0000              	GLOBAL _zx_scroll_up
336   0000              	GLOBAL _zx_cls_wc_pix_callee
337   0000              	GLOBAL _zx_cls_wc_pix
338   0000              	GLOBAL _zx_cls_wc_attr_callee
339   0000              	GLOBAL _zx_cls_wc_attr
340   0000              	GLOBAL _zx_cls_wc_callee
341   0000              	GLOBAL _zx_cls_wc
342   0000              	GLOBAL _zx_cls_pix_fastcall
343   0000              	GLOBAL _zx_cls_pix
344   0000              	GLOBAL _zx_cls_attr_fastcall
345   0000              	GLOBAL _zx_cls_attr
346   0000              	GLOBAL _zx_cls_fastcall
347   0000              	GLOBAL _zx_cls
348   0000              	GLOBAL _zx_border_fastcall
349   0000              	GLOBAL _zx_border
350   0000              	GLOBAL _sound_hit_brick
351   0000              	GLOBAL _sound_hit_enemy
352   0000              	GLOBAL _sound_kill
353   0000              	GLOBAL _sound_enter_enemy
354   0000              	GLOBAL _sound_coin
355   0000              	GLOBAL _sound_jump
356   0000              	GLOBAL _sound_slide
357   0000              	GLOBAL _spr_page_right
358   0000              	GLOBAL _spr_page_left
359   0000              	GLOBAL _spr_tile_paint
360   0000              	GLOBAL _spr_kill_all
361   0000              	GLOBAL _spr_collision_check
362   0000              	GLOBAL _spr_calc_hor
363   0000              	GLOBAL _spr_draw_row
364   0000              	GLOBAL _spr_draw_index
365   0000              	GLOBAL _spr_draw_clear
366   0000              	GLOBAL _spr_draw_background
367   0000              	GLOBAL _spr_brick_anim
368   0000              	GLOBAL _spr_back_paint
369   0000              	GLOBAL _spr_back_clr
370   0000              	GLOBAL _spr_tile
371   0000              	GLOBAL _spr_set_fall
372   0000              	GLOBAL _spr_destroy
373   0000              	GLOBAL _spr_tile_dir
374   0000              	GLOBAL _spr_anim_kill
375   0000              	GLOBAL _spr_killed
376   0000              	GLOBAL _spr_redraw
377   0000              	GLOBAL _spr_move_left
378   0000              	GLOBAL _spr_move_right
379   0000              	GLOBAL _spr_move_horizontal
380   0000              	GLOBAL _spr_move_down
381   0000              	GLOBAL _spr_move_up
382   0000              	GLOBAL _spr_check_map
383   0000              	GLOBAL _spr_calc_index
384   0000              	GLOBAL _spr_chktime
385   0000              	GLOBAL _player_check_floor
386   0000              	GLOBAL _player_hit_brick_clear
387   0000              	GLOBAL _player_lost_life
388   0000              	GLOBAL _player_score_add
389   0000              	GLOBAL _player_coin
390   0000              	GLOBAL _player_hit_pow
391   0000              	GLOBAL _player_hit_brick
392   0000              	GLOBAL _player_move_input
393   0000              	GLOBAL _player_turn
394   0000              	GLOBAL _player_move
395   0000              	GLOBAL _player_restart
396   0000              	GLOBAL _player_kill
397   0000              	GLOBAL _player_check_input
398   0000              	GLOBAL _player_collision
399   0000              	GLOBAL _player_calc_slide
400   0000              	GLOBAL _player_init
401   0000              	GLOBAL _game_joystick_set_menu
402   0000              	GLOBAL _game_joystick_set
403   0000              	GLOBAL _game_joystick_change
404   0000              	GLOBAL _game_print_header
405   0000              	GLOBAL _game_end
406   0000              	GLOBAL _game_score_osd
407   0000              	GLOBAL _game_phase_print_score_back
408   0000              	GLOBAL _game_bonus_clock
409   0000              	GLOBAL _game_bonus_summary_player
410   0000              	GLOBAL _game_bonus_summary
411   0000              	GLOBAL _game_check_time
412   0000              	GLOBAL _game_menu_config
413   0000              	GLOBAL _game_menu
414   0000              	GLOBAL _game_rotate_attrib
415   0000              	GLOBAL _game_colour_message
416   0000              	GLOBAL _game_paint_attrib_lin_h
417   0000              	GLOBAL _game_paint_attrib_lin
418   0000              	GLOBAL _game_paint_attrib
419   0000              	GLOBAL _game_menu_paint
420   0000              	GLOBAL _game_menu_top_paint
421   0000              	GLOBAL _game_menu_handle
422   0000              	GLOBAL _game_menu_e
423   0000              	GLOBAL _game_menu_back
424   0000              	GLOBAL _game_print_score
425   0000              	GLOBAL _game_unfreeze_all
426   0000              	GLOBAL _game_freeze_all
427   0000              	GLOBAL _game_freeze
428   0000              	GLOBAL _game_enemy_add_get_index
429   0000              	GLOBAL _game_check_maze_floor
430   0000              	GLOBAL _game_check_maze
431   0000              	GLOBAL _game_loop
432   0000              	GLOBAL _game_phase_init
433   0000              	GLOBAL _game_start_timer
434   0000              	GLOBAL _game_tick
435   0000              	GLOBAL _game_print_lives
436   0000              	GLOBAL _game_print_footer
437   0000              	GLOBAL _game_fill_row
438   0000              	GLOBAL _ay_fx_play
439   0000              	GLOBAL _ay_midi_play
440   0000              	GLOBAL _ay_is_playing
441   0000              	GLOBAL _ay_reset
442   0000              	GLOBAL _enemy_ugly_fix
443   0000              	GLOBAL _test_func
444   0000              	GLOBAL _in_mouse_kempston_wheel_delta
445   0000              	GLOBAL _in_mouse_kempston_wheel
446   0000              	GLOBAL _in_mouse_kempston_callee
447   0000              	GLOBAL _in_mouse_kempston
448   0000              	GLOBAL _in_mouse_kempston_setpos_callee
449   0000              	GLOBAL _in_mouse_kempston_setpos
450   0000              	GLOBAL _in_mouse_kempston_reset
451   0000              	GLOBAL _in_mouse_kempston_init
452   0000              	GLOBAL _in_mouse_amx_wheel_delta
453   0000              	GLOBAL _in_mouse_amx_wheel
454   0000              	GLOBAL _in_mouse_amx_callee
455   0000              	GLOBAL _in_mouse_amx
456   0000              	GLOBAL _in_mouse_amx_setpos_callee
457   0000              	GLOBAL _in_mouse_amx_setpos
458   0000              	GLOBAL _in_mouse_amx_reset
459   0000              	GLOBAL _in_mouse_amx_init_callee
460   0000              	GLOBAL _in_mouse_amx_init
461   0000              	GLOBAL _in_stick_sinclair2
462   0000              	GLOBAL _in_stick_sinclair1
463   0000              	GLOBAL _in_stick_kempston
464   0000              	GLOBAL _in_stick_fuller
465   0000              	GLOBAL _in_stick_cursor
466   0000              	GLOBAL _in_stick_keyboard_fastcall
467   0000              	GLOBAL _in_stick_keyboard
468   0000              	GLOBAL _in_wait_nokey
469   0000              	GLOBAL _in_wait_key
470   0000              	GLOBAL _in_test_key
471   0000              	GLOBAL _in_pause_fastcall
472   0000              	GLOBAL _in_pause
473   0000              	GLOBAL _in_key_scancode_fastcall
474   0000              	GLOBAL _in_key_scancode
475   0000              	GLOBAL _in_key_pressed_fastcall
476   0000              	GLOBAL _in_key_pressed
477   0000              	GLOBAL _in_inkey
478   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
479   0000              	GLOBAL _NIRVANAP_drawTW_raw
480   0000              	GLOBAL _NIRVANAP_drawTW_callee
481   0000              	GLOBAL _NIRVANAP_drawTW
482   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
483   0000              	GLOBAL _NIRVANAP_drawW_raw
484   0000              	GLOBAL _NIRVANAP_drawW_callee
485   0000              	GLOBAL _NIRVANAP_drawW
486   0000              	GLOBAL _NIRVANAP_spriteT_callee
487   0000              	GLOBAL _NIRVANAP_spriteT
488   0000              	GLOBAL _NIRVANAP_fillC_callee
489   0000              	GLOBAL _NIRVANAP_fillC
490   0000              	GLOBAL _NIRVANAP_readC_callee
491   0000              	GLOBAL _NIRVANAP_readC
492   0000              	GLOBAL _NIRVANAP_paintC_callee
493   0000              	GLOBAL _NIRVANAP_paintC
494   0000              	GLOBAL _NIRVANAP_printC_callee
495   0000              	GLOBAL _NIRVANAP_printC
496   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
497   0000              	GLOBAL _NIRVANAP_fillT_raw
498   0000              	GLOBAL _NIRVANAP_fillT_callee
499   0000              	GLOBAL _NIRVANAP_fillT
500   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
501   0000              	GLOBAL _NIRVANAP_drawT_raw
502   0000              	GLOBAL _NIRVANAP_drawT_callee
503   0000              	GLOBAL _NIRVANAP_drawT
504   0000              	GLOBAL _NIRVANAP_stop
505   0000              	GLOBAL _NIRVANAP_start
506   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
507   0000              	GLOBAL _intrinsic_swap_word_32
508   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
509   0000              	GLOBAL _intrinsic_swap_endian_32
510   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
511   0000              	GLOBAL _intrinsic_swap_endian_16
512   0000              	GLOBAL _intrinsic_return_de
513   0000              	GLOBAL _intrinsic_return_bc
514   0000              	GLOBAL _intrinsic_exx
515   0000              	GLOBAL _intrinsic_ex_de_hl
516   0000              	GLOBAL _intrinsic_nop
517   0000              	GLOBAL _intrinsic_im_2
518   0000              	GLOBAL _intrinsic_im_1
519   0000              	GLOBAL _intrinsic_im_0
520   0000              	GLOBAL _intrinsic_retn
521   0000              	GLOBAL _intrinsic_reti
522   0000              	GLOBAL _intrinsic_halt
523   0000              	GLOBAL _intrinsic_ei
524   0000              	GLOBAL _intrinsic_di
525   0000              	GLOBAL _intrinsic_stub
526   0000              	GLOBAL _intrinsic_outi
527   0000              	GLOBAL _intrinsic_ldi
528   0000              	GLOBAL _ulltoa_callee
529   0000              	GLOBAL _ulltoa
530   0000              	GLOBAL _strtoull_callee
531   0000              	GLOBAL _strtoull
532   0000              	GLOBAL _strtoll_callee
533   0000              	GLOBAL _strtoll
534   0000              	GLOBAL _lltoa_callee
535   0000              	GLOBAL _lltoa
536   0000              	GLOBAL _llabs_callee
537   0000              	GLOBAL _llabs
538   0000              	GLOBAL __lldivu__callee
539   0000              	GLOBAL __lldivu_
540   0000              	GLOBAL __lldiv__callee
541   0000              	GLOBAL __lldiv_
542   0000              	GLOBAL _atoll_callee
543   0000              	GLOBAL _atoll
544   0000              	GLOBAL _realloc_unlocked_callee
545   0000              	GLOBAL _realloc_unlocked
546   0000              	GLOBAL _malloc_unlocked_fastcall
547   0000              	GLOBAL _malloc_unlocked
548   0000              	GLOBAL _free_unlocked_fastcall
549   0000              	GLOBAL _free_unlocked
550   0000              	GLOBAL _calloc_unlocked_callee
551   0000              	GLOBAL _calloc_unlocked
552   0000              	GLOBAL _aligned_alloc_unlocked_callee
553   0000              	GLOBAL _aligned_alloc_unlocked
554   0000              	GLOBAL _realloc_callee
555   0000              	GLOBAL _realloc
556   0000              	GLOBAL _malloc_fastcall
557   0000              	GLOBAL _malloc
558   0000              	GLOBAL _free_fastcall
559   0000              	GLOBAL _free
560   0000              	GLOBAL _calloc_callee
561   0000              	GLOBAL _calloc
562   0000              	GLOBAL _aligned_alloc_callee
563   0000              	GLOBAL _aligned_alloc
564   0000              	GLOBAL _utoa_callee
565   0000              	GLOBAL _utoa
566   0000              	GLOBAL _ultoa_callee
567   0000              	GLOBAL _ultoa
568   0000              	GLOBAL _system_fastcall
569   0000              	GLOBAL _system
570   0000              	GLOBAL _strtoul_callee
571   0000              	GLOBAL _strtoul
572   0000              	GLOBAL _strtol_callee
573   0000              	GLOBAL _strtol
574   0000              	GLOBAL _strtof_callee
575   0000              	GLOBAL _strtof
576   0000              	GLOBAL _strtod_callee
577   0000              	GLOBAL _strtod
578   0000              	GLOBAL _srand_fastcall
579   0000              	GLOBAL _srand
580   0000              	GLOBAL _rand
581   0000              	GLOBAL _quick_exit_fastcall
582   0000              	GLOBAL _quick_exit
583   0000              	GLOBAL _qsort_callee
584   0000              	GLOBAL _qsort
585   0000              	GLOBAL _ltoa_callee
586   0000              	GLOBAL _ltoa
587   0000              	GLOBAL _labs_fastcall
588   0000              	GLOBAL _labs
589   0000              	GLOBAL _itoa_callee
590   0000              	GLOBAL _itoa
591   0000              	GLOBAL _ftoh_callee
592   0000              	GLOBAL _ftoh
593   0000              	GLOBAL _ftog_callee
594   0000              	GLOBAL _ftog
595   0000              	GLOBAL _ftoe_callee
596   0000              	GLOBAL _ftoe
597   0000              	GLOBAL _ftoa_callee
598   0000              	GLOBAL _ftoa
599   0000              	GLOBAL _exit_fastcall
600   0000              	GLOBAL _exit
601   0000              	GLOBAL _dtoh_callee
602   0000              	GLOBAL _dtoh
603   0000              	GLOBAL _dtog_callee
604   0000              	GLOBAL _dtog
605   0000              	GLOBAL _dtoe_callee
606   0000              	GLOBAL _dtoe
607   0000              	GLOBAL _dtoa_callee
608   0000              	GLOBAL _dtoa
609   0000              	GLOBAL _bsearch_callee
610   0000              	GLOBAL _bsearch
611   0000              	GLOBAL _atol_fastcall
612   0000              	GLOBAL _atol
613   0000              	GLOBAL _atoi_fastcall
614   0000              	GLOBAL _atoi
615   0000              	GLOBAL _atof_fastcall
616   0000              	GLOBAL _atof
617   0000              	GLOBAL _atexit_fastcall
618   0000              	GLOBAL _atexit
619   0000              	GLOBAL _at_quick_exit_fastcall
620   0000              	GLOBAL _at_quick_exit
621   0000              	GLOBAL _abs_fastcall
622   0000              	GLOBAL _abs
623   0000              	GLOBAL _abort
624   0000              	GLOBAL __strtou__callee
625   0000              	GLOBAL __strtou_
626   0000              	GLOBAL __strtoi__callee
627   0000              	GLOBAL __strtoi_
628   0000              	GLOBAL __random_uniform_xor_8__fastcall
629   0000              	GLOBAL __random_uniform_xor_8_
630   0000              	GLOBAL __random_uniform_xor_32__fastcall
631   0000              	GLOBAL __random_uniform_xor_32_
632   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
633   0000              	GLOBAL __random_uniform_cmwc_8_
634   0000              	GLOBAL __shellsort__callee
635   0000              	GLOBAL __shellsort_
636   0000              	GLOBAL __quicksort__callee
637   0000              	GLOBAL __quicksort_
638   0000              	GLOBAL __insertion_sort__callee
639   0000              	GLOBAL __insertion_sort_
640   0000              	GLOBAL __ldivu__callee
641   0000              	GLOBAL __ldivu_
642   0000              	GLOBAL __ldiv__callee
643   0000              	GLOBAL __ldiv_
644   0000              	GLOBAL __divu__callee
645   0000              	GLOBAL __divu_
646   0000              	GLOBAL __div__callee
647   0000              	GLOBAL __div_
648   0000              	GLOBAL _g_hit_right
649   0000              	GLOBAL _g_hit_left
650   0000              	GLOBAL _joynames
651   0000              	GLOBAL _initials
652   0000              	GLOBAL _score_osd_tile
653   0000              	GLOBAL _score_osd_update_time
654   0000              	GLOBAL _score_osd_col
655   0000              	GLOBAL _score_osd_lin
656   0000              	GLOBAL _phase_bonus_total
657   0000              	GLOBAL _phase_angry
658   0000              	GLOBAL _phase_curr
659   0000              	GLOBAL _phase_end
660   0000              	GLOBAL _phase_coins
661   0000              	GLOBAL _phase_pop
662   0000              	GLOBAL _phase_tot
663   0000              	GLOBAL _phase_left
664   0000              	GLOBAL _phase_quota
665   0000              	GLOBAL _map_heigth
666   0000              	GLOBAL _map_width
667   0000              	GLOBAL _scr_curr
668   0000              	GLOBAL _scr_2
669   0000              	GLOBAL _scr_1
670   0000              	GLOBAL _scr_map
671   0000              	GLOBAL _sprite_speed_alt
672   0000              	GLOBAL _sprite_speed
673   0000              	GLOBAL _screen_ink
674   0000              	GLOBAL _screen_paper
675   0000              	GLOBAL _game_menu_sel
676   0000              	GLOBAL _game_type
677   0000              	GLOBAL _game_osd
678   0000              	GLOBAL _game_bonus
679   0000              	GLOBAL _spr_water_time
680   0000              	GLOBAL _spr_water_clear
681   0000              	GLOBAL _game_time_fireball_start
682   0000              	GLOBAL _game_time_flipped
683   0000              	GLOBAL _game_score_top
684   0000              	GLOBAL _game_lives
685   0000              	GLOBAL _game_over
686   0000              	GLOBAL _game_sound
687   0000              	GLOBAL _game_inmune
688   0000              	GLOBAL _game_god_mode
689   0000              	GLOBAL _game_start_phase
690   0000              	GLOBAL _game_two_player
691   0000              	GLOBAL _game_brick_tile
692   0000              	GLOBAL _spr_count
693   0000              	GLOBAL _osd_show_time
694   0000              	GLOBAL _osd_update_time
695   0000              	GLOBAL _frame_time
696   0000              	GLOBAL _entry_time
697   0000              	GLOBAL _curr_time
698   0000              	GLOBAL _s_state
699   0000              	GLOBAL _attrib_hl
700   0000              	GLOBAL _attrib
701   0000              	GLOBAL _zx_val_asm
702   0000              	GLOBAL _enemies
703   0000              	GLOBAL _tmp_ui
704   0000              	GLOBAL _tmp_sc
705   0000              	GLOBAL _tmp_uc
706   0000              	GLOBAL _tmp1
707   0000              	GLOBAL _tmp0
708   0000              	GLOBAL _tmp
709   0000              	GLOBAL _index1
710   0000              	GLOBAL _loop_count
711   0000              	GLOBAL _sprite_lin_inc_mul
712   0000              	GLOBAL _s_col1
713   0000              	GLOBAL _s_col0
714   0000              	GLOBAL _s_lin1
715   0000              	GLOBAL _s_lin0
716   0000              	GLOBAL _s_tile1
717   0000              	GLOBAL _s_tile0
718   0000              	GLOBAL _hit_count
719   0000              	GLOBAL _index_player
720   0000              	GLOBAL _sprite
721   0000              	GLOBAL _player_joy
722   0000              	GLOBAL _player_next_extra
723   0000              	GLOBAL _player_score
724   0000              	GLOBAL _last_time
725   0000              	GLOBAL _sliding
726   0000              	GLOBAL _spr_timer
727   0000              	GLOBAL _jump_lin
728   0000              	GLOBAL _player_jump_c
729   0000              	GLOBAL _hit_col
730   0000              	GLOBAL _hit_lin
731   0000              	GLOBAL _colint
732   0000              	GLOBAL _col
733   0000              	GLOBAL _lin
734   0000              	GLOBAL _tile
735   0000              	GLOBAL _state_a
736   0000              	GLOBAL _state
737   0000              	GLOBAL _class
738   0000              	GLOBAL _tbuffer
739   0000              	GLOBAL _dirs
740   0000              	GLOBAL _sprites
741   0000              	GLOBAL _k2
742   0000              	GLOBAL _k1
743   0000              	GLOBAL _joyfunc2
744   0000              	GLOBAL _joyfunc1
745   0000              	GLOBAL _btiles
746   0000              	GLOBAL _spec128
747   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
748   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
749   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
750   0000              	GLOBAL _ay_effect_20
751   0000              	GLOBAL _ay_effect_19
752   0000              	GLOBAL _ay_effect_18
753   0000              	GLOBAL _ay_effect_17
754   0000              	GLOBAL _ay_effect_16
755   0000              	GLOBAL _ay_effect_15
756   0000              	GLOBAL _ay_effect_14
757   0000              	GLOBAL _ay_effect_13
758   0000              	GLOBAL _ay_effect_12
759   0000              	GLOBAL _ay_effect_11
760   0000              	GLOBAL _ay_effect_10
761   0000              	GLOBAL _ay_effect_09
762   0000              	GLOBAL _ay_effect_08
763   0000              	GLOBAL _ay_effect_07
764   0000              	GLOBAL _ay_effect_06
765   0000              	GLOBAL _ay_effect_05
766   0000              	GLOBAL _ay_effect_04
767   0000              	GLOBAL _ay_effect_03
768   0000              	GLOBAL _ay_effect_02
769   0000              	GLOBAL _ay_effect_01
770   0000              	GLOBAL _pb_midi_phase_1
771   0000              	GLOBAL _pb_midi_title
772   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
773   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
774   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
775   0000              	GLOBAL _NIRVANAP_HOLE
776   0000              	GLOBAL _NIRVANAP_ISR_HOOK
777   0000              	GLOBAL _control_method
778   0000              ;--------------------------------------------------------
779   0000              ; special function registers
780   0000              ;--------------------------------------------------------
781   0000              defc _IO_FE	=	0x00fe
782   0000              defc _IO_1FFD	=	0x1ffd
783   0000              defc _IO_7FFD	=	0x7ffd
784   0000              ;--------------------------------------------------------
785   0000              ; ram data
786   0000              ;--------------------------------------------------------
787   0000              	SECTION bss_compiler
788   0000              ;--------------------------------------------------------
789   0000              ; ram data
790   0000              ;--------------------------------------------------------
791   0000              
792   0000              IF 0
793   0000              
794   0000              ; .area _INITIALIZED removed by z88dk
795   0000              
796   0000              
797   0000              ENDIF
798   0000              
799   0000              ;--------------------------------------------------------
800   0000              ; absolute external ram data
801   0000              ;--------------------------------------------------------
802   0000              	SECTION IGNORE
803   0000              ;--------------------------------------------------------
804   0000              ; global & static initialisations
805   0000              ;--------------------------------------------------------
806   0000              	SECTION code_crt_init
807   0000              ;--------------------------------------------------------
808   0000              ; Home
809   0000              ;--------------------------------------------------------
810   0000              	SECTION IGNORE
811   0000              ;--------------------------------------------------------
812   0000              ; code
813   0000              ;--------------------------------------------------------
814   0000              	SECTION code_compiler
815   0000              ;	---------------------------------
816   0000              ; Function enemy_coin1
817   0000              ; ---------------------------------
818   0000              _enemy_coin1:
819   0000  3A 00 00    	ld	a,(_phase_left)
820   0003  B7          	or	a, a
821   0004  28 29       	jr	Z,l_enemy_coin1_00107
822   0006  CD 92 0C    	call	_enemy_walk
823   0009  2A 00 00    	ld	hl,(_sprite)
824   000C  26 00       	ld	h,0x00
825   000E  01 00 00    	ld	bc,_lin
826   0011  09          	add	hl,bc
827   0012  7E          	ld	a,(hl)
828   0013  D6 90       	sub	a,0x90
829   0015  20 18       	jr	NZ,l_enemy_coin1_00107
830   0017  2A 00 00    	ld	hl,(_sprite)
831   001A  26 00       	ld	h,0x00
832   001C  01 00 00    	ld	bc,_col
833   001F  09          	add	hl,bc
834   0020  7E          	ld	a,(hl)
835   0021  FE 03       	cp	a,0x03
836   0023  28 04       	jr	Z,l_enemy_coin1_00101
837   0025  D6 1B       	sub	a,0x1b
838   0027  20 06       	jr	NZ,l_enemy_coin1_00107
839   0029              l_enemy_coin1_00101:
840   0029  2A 00 00    	ld	hl,(_sprite)
841   002C  CD 00 00    	call	_spr_destroy
842   002F              l_enemy_coin1_00107:
843   002F  C9          	ret
844   0030              	SECTION code_compiler
845   0030              ;	---------------------------------
846   0030              ; Function enemy_coin2
847   0030              ; ---------------------------------
848   0030              _enemy_coin2:
849   0030  01 00 00    	ld	bc,_colint+0
850   0033  79          	ld	a, c
851   0034  21 00 00    	ld	hl,_sprite
852   0037  86          	add	a, (hl)
853   0038  5F          	ld	e, a
854   0039  78          	ld	a, b
855   003A  CE 00       	adc	a,0x00
856   003C  57          	ld	d, a
857   003D  1A          	ld	a, (de)
858   003E  3C          	inc	a
859   003F  12          	ld	(de), a
860   0040  79          	ld	a, c
861   0041  86          	add	a, (hl)
862   0042  4F          	ld	c, a
863   0043  78          	ld	a, b
864   0044  CE 00       	adc	a,0x00
865   0046  47          	ld	b, a
866   0047  0A          	ld	a, (bc)
867   0048  D6 04       	sub	a,0x04
868   004A  C0          	ret	NZ
869   004B  AF          	xor	a, a
870   004C  02          	ld	(bc), a
871   004D  C9          	ret
872   004E              	SECTION code_compiler
873   004E              ;	---------------------------------
874   004E              ; Function enemy_collision
875   004E              ; ---------------------------------
876   004E              _enemy_collision:
877   004E  CD 00 00    	call	___sdcc_enter_ix
878   0051  3B          	dec	sp
879   0052  01 00 00    	ld	bc,_state+0
880   0055  2A 00 00    	ld	hl,(_sprite)
881   0058  26 00       	ld	h,0x00
882   005A  09          	add	hl,bc
883   005B  7E          	ld	a,(hl)
884   005C  CB 67       	bit	4,a
885   005E  28 05       	jr	Z,l_enemy_collision_00102
886   0060  2E 00       	ld	l,0x00
887   0062  C3 6A 01    	jp	l_enemy_collision_00130
888   0065              l_enemy_collision_00102:
889   0065  CB 6F       	bit	5, a
890   0067  28 05       	jr	Z,l_enemy_collision_00104
891   0069  2E 00       	ld	l,0x00
892   006B  C3 6A 01    	jp	l_enemy_collision_00130
893   006E              l_enemy_collision_00104:
894   006E  CB 4F       	bit	1, a
895   0070  28 05       	jr	Z,l_enemy_collision_00106
896   0072  2E 00       	ld	l,0x00
897   0074  C3 6A 01    	jp	l_enemy_collision_00130
898   0077              l_enemy_collision_00106:
899   0077  0F          	rrca
900   0078  30 05       	jr	NC,l_enemy_collision_00108
901   007A  2E 00       	ld	l,0x00
902   007C  C3 6A 01    	jp	l_enemy_collision_00130
903   007F              l_enemy_collision_00108:
904   007F  2A 00 00    	ld	hl,(_sprite)
905   0082  26 00       	ld	h,0x00
906   0084  11 00 00    	ld	de,_state_a
907   0087  19          	add	hl,de
908   0088  CB 4E       	bit	1,(hl)
909   008A  28 05       	jr	Z,l_enemy_collision_00110
910   008C  2E 00       	ld	l,0x00
911   008E  C3 6A 01    	jp	l_enemy_collision_00130
912   0091              l_enemy_collision_00110:
913   0091  21 00 00    	ld	hl,_enemies
914   0094  36 00       	ld	(hl),0x00
915   0096              l_enemy_collision_00129:
916   0096  2A 00 00    	ld	hl,(_enemies)
917   0099  26 00       	ld	h,0x00
918   009B  11 00 00    	ld	de,_class
919   009E  19          	add	hl,de
920   009F  7E          	ld	a,(hl)
921   00A0  6F          	ld	l,a
922   00A1  EB          	ex	de,hl
923   00A2  B7          	or	a,a
924   00A3  CA 50 01    	jp	Z,l_enemy_collision_00127
925   00A6  3E 09       	ld	a,0x09
926   00A8  93          	sub	a,e
927   00A9  DA 50 01    	jp	C,l_enemy_collision_00127
928   00AC  3A 00 00    	ld	a,(_enemies)
929   00AF  21 00 00    	ld	hl,_sprite
930   00B2  96          	sub	a, (hl)
931   00B3  CA 50 01    	jp	Z,l_enemy_collision_00127
932   00B6  2A 00 00    	ld	hl,(_enemies)
933   00B9  26 00       	ld	h,0x00
934   00BB  09          	add	hl,bc
935   00BC  7E          	ld	a,(hl)
936   00BD  CB 6F       	bit	5,a
937   00BF  C2 50 01    	jp	NZ,l_enemy_collision_00127
938   00C2  CB 4F       	bit	1, a
939   00C4  C2 50 01    	jp	NZ,l_enemy_collision_00127
940   00C7  C5          	push	bc
941   00C8  AF          	xor	a, a
942   00C9  F5          	push	af
943   00CA  33          	inc	sp
944   00CB  2A FF FF    	ld	hl,(_enemies - 1)
945   00CE  3A 00 00    	ld	a,(_sprite)
946   00D1  6F          	ld	l,a
947   00D2  E5          	push	hl
948   00D3  CD 00 00    	call	_spr_collision_check
949   00D6  F1          	pop	af
950   00D7  33          	inc	sp
951   00D8  C1          	pop	bc
952   00D9  7D          	ld	a,l
953   00DA  B7          	or	a, a
954   00DB  28 73       	jr	Z,l_enemy_collision_00127
955   00DD  2A 00 00    	ld	hl,(_enemies)
956   00E0  26 00       	ld	h,0x00
957   00E2  09          	add	hl,bc
958   00E3  7E          	ld	a,(hl)
959   00E4  6F          	ld	l,a
960   00E5  CB 67       	bit	4,a
961   00E7  EB          	ex	de,hl
962   00E8  20 35       	jr	NZ,l_enemy_collision_00121
963   00EA  21 00 00    	ld	hl,_s_state
964   00ED  7E          	ld	a, (hl)
965   00EE  E6 08       	and	a,0x08
966   00F0  57          	ld	d, a
967   00F1  7B          	ld	a, e
968   00F2  E6 08       	and	a,0x08
969   00F4  DD 77 FF    	ld	(ix-1),a
970   00F7  7A          	ld	a, d
971   00F8  DD 96 FF    	sub	a,(ix-1)
972   00FB  28 22       	jr	Z,l_enemy_collision_00121
973   00FD  7E          	ld	a, (hl)
974   00FE  E6 04       	and	a,0x04
975   0100  57          	ld	d, a
976   0101  7B          	ld	a, e
977   0102  E6 04       	and	a,0x04
978   0104  5F          	ld	e, a
979   0105  7A          	ld	a, d
980   0106  93          	sub	a, e
981   0107  28 16       	jr	Z,l_enemy_collision_00121
982   0109  2A 00 00    	ld	hl,(_sprite)
983   010C  26 00       	ld	h,0x00
984   010E  11 00 00    	ld	de,_class
985   0111  19          	add	hl,de
986   0112  7E          	ld	a,(hl)
987   0113  D6 08       	sub	a,0x08
988   0115  28 08       	jr	Z,l_enemy_collision_00121
989   0117  2A 00 00    	ld	hl,(_enemies)
990   011A  C5          	push	bc
991   011B  CD 6E 01    	call	_enemy_collision_turn_dir
992   011E  C1          	pop	bc
993   011F              l_enemy_collision_00121:
994   011F  2A 00 00    	ld	hl,(_sprite)
995   0122  26 00       	ld	h,0x00
996   0124  09          	add	hl,bc
997   0125  3A 00 00    	ld	a,(_s_state)
998   0128  77          	ld	(hl),a
999   0129  2A 00 00    	ld	hl,(_sprite)
1000  012C  C5          	push	bc
1001  012D  CD 6E 01    	call	_enemy_collision_turn_dir
1002  0130  C1          	pop	bc
1003  0131  2A 00 00    	ld	hl,(_sprite)
1004  0134  26 00       	ld	h,0x00
1005  0136  09          	add	hl,bc
1006  0137  7E          	ld	a,(hl)
1007  0138  32 00 00    	ld	(_s_state),a
1008  013B  01 00 00    	ld	bc,_spr_timer+0
1009  013E  2A 00 00    	ld	hl,(_sprite)
1010  0141  26 00       	ld	h,0x00
1011  0143  29          	add	hl, hl
1012  0144  09          	add	hl,bc
1013  0145  ED 5B 00 00 	ld	de,(_curr_time)
1014  0149  73          	ld	(hl),e
1015  014A  23          	inc	hl
1016  014B  72          	ld	(hl),d
1017  014C  2E 01       	ld	l,0x01
1018  014E  18 1A       	jr	l_enemy_collision_00130
1019  0150              l_enemy_collision_00127:
1020  0150  21 00 00    	ld	hl,_enemies
1021  0153  7E          	ld	a,(hl)
1022  0154  3C          	inc	a
1023  0155  77          	ld	(hl),a
1024  0156  D6 06       	sub	a,0x06
1025  0158  DA 96 00    	jp	C, l_enemy_collision_00129
1026  015B  2A 00 00    	ld	hl,(_sprite)
1027  015E  26 00       	ld	h,0x00
1028  0160  01 00 00    	ld	bc,_state_a
1029  0163  09          	add	hl,bc
1030  0164  7E          	ld	a,(hl)
1031  0165  E6 FB       	and	a,0xfb
1032  0167  77          	ld	(hl),a
1033  0168  2E 00       	ld	l,0x00
1034  016A              l_enemy_collision_00130:
1035  016A  33          	inc	sp
1036  016B  DD E1       	pop	ix
1037  016D  C9          	ret
1038  016E              	SECTION code_compiler
1039  016E              ;	---------------------------------
1040  016E              ; Function enemy_collision_turn_dir
1041  016E              ; ---------------------------------
1042  016E              _enemy_collision_turn_dir:
1043  016E  CD 00 00    	call	___sdcc_enter_ix
1044  0171  F5          	push	af
1045  0172  3E 00       	ld	a,+((_state_a) & 0xFF)
1046  0174  85          	add	a,l
1047  0175  4D          	ld	c,l
1048  0176  5F          	ld	e, a
1049  0177  3E 00       	ld	a, +((_state_a) / 256)
1050  0179  CE 00       	adc	a,0x00
1051  017B  57          	ld	d, a
1052  017C  1A          	ld	a, (de)
1053  017D  CB 57       	bit	2, a
1054  017F  20 4C       	jr	NZ,l_enemy_collision_turn_dir_00105
1055  0181  06 00       	ld	b,0x00
1056  0183  21 00 00    	ld	hl,_state
1057  0186  09          	add	hl, bc
1058  0187  7E          	ld	a, (hl)
1059  0188  EE 0C       	xor	a,+(0x04^0x08)
1060  018A  77          	ld	(hl),a
1061  018B  1A          	ld	a, (de)
1062  018C  F6 04       	or	a,0x04
1063  018E  12          	ld	(de), a
1064  018F  06 00       	ld	b,0x00
1065  0191  21 00 00    	ld	hl,_class
1066  0194  09          	add	hl, bc
1067  0195  46          	ld	b, (hl)
1068  0196  3E 06       	ld	a,0x06
1069  0198  90          	sub	a, b
1070  0199  38 32       	jr	C,l_enemy_collision_turn_dir_00105
1071  019B  1A          	ld	a, (de)
1072  019C  F6 02       	or	a,0x02
1073  019E  12          	ld	(de), a
1074  019F  11 00 00    	ld	de,_spr_timer+0
1075  01A2  69          	ld	l, c
1076  01A3  26 00       	ld	h,0x00
1077  01A5  29          	add	hl, hl
1078  01A6  19          	add	hl,de
1079  01A7  E3          	ex	(sp), hl
1080  01A8  E1          	pop	hl
1081  01A9  ED 5B 00 00 	ld	de,(_curr_time)
1082  01AD  E5          	push	hl
1083  01AE  73          	ld	(hl), e
1084  01AF  23          	inc	hl
1085  01B0  72          	ld	(hl), d
1086  01B1  3E 00       	ld	a, +((_tile) & 0xFF)
1087  01B3  81          	add	a, c
1088  01B4  5F          	ld	e, a
1089  01B5  3E 00       	ld	a, +((_tile) / 256)
1090  01B7  CE 00       	adc	a,0x00
1091  01B9  57          	ld	d, a
1092  01BA  C5          	push	bc
1093  01BB  D5          	push	de
1094  01BC  69          	ld	l, c
1095  01BD  CD 00 00    	call	_spr_tile
1096  01C0  D1          	pop	de
1097  01C1  C1          	pop	bc
1098  01C2  7D          	ld	a,l
1099  01C3  12          	ld	(de), a
1100  01C4  11 00 00    	ld	de,_colint+0
1101  01C7  69          	ld	l,c
1102  01C8  26 00       	ld	h,0x00
1103  01CA  19          	add	hl, de
1104  01CB  36 00       	ld	(hl),0x00
1105  01CD              l_enemy_collision_turn_dir_00105:
1106  01CD  F1          	pop	af
1107  01CE  DD E1       	pop	ix
1108  01D0  C9          	ret
1109  01D1              	SECTION code_compiler
1110  01D1              ;	---------------------------------
1111  01D1              ; Function enemy_hit
1112  01D1              ; ---------------------------------
1113  01D1              _enemy_hit:
1114  01D1  76          	halt
1115  01D2  2A 00 00    	ld	hl,(_enemies)
1116  01D5  26 00       	ld	h,0x00
1117  01D7  5D          	ld	e,l
1118  01D8  01 00 00    	ld	bc,_col
1119  01DB  09          	add	hl,bc
1120  01DC  46          	ld	b,(hl)
1121  01DD  16 00       	ld	d,0x00
1122  01DF  21 00 00    	ld	hl,_lin
1123  01E2  19          	add	hl,de
1124  01E3  4E          	ld	c, (hl)
1125  01E4  C5          	push	bc
1126  01E5  3E 49       	ld	a,0x49
1127  01E7  F5          	push	af
1128  01E8  33          	inc	sp
1129  01E9  CD 00 00    	call	_NIRVANAP_fillT_callee
1130  01EC  2A 00 00    	ld	hl,(_enemies)
1131  01EF  26 00       	ld	h,0x00
1132  01F1  01 00 00    	ld	bc,_lin
1133  01F4  09          	add	hl,bc
1134  01F5  7E          	ld	a,(hl)
1135  01F6  C6 FC       	add	a,0xfc
1136  01F8  77          	ld	(hl),a
1137  01F9  2A 00 00    	ld	hl,(_enemies)
1138  01FC  26 00       	ld	h,0x00
1139  01FE  01 00 00    	ld	bc,_col
1140  0201  09          	add	hl,bc
1141  0202  4E          	ld	c, (hl)
1142  0203  2A 00 00    	ld	hl,(_enemies)
1143  0206  26 00       	ld	h,0x00
1144  0208  11 00 00    	ld	de,_lin
1145  020B  19          	add	hl,de
1146  020C  46          	ld	b, (hl)
1147  020D  2A 00 00    	ld	hl,(_enemies)
1148  0210  26 00       	ld	h,0x00
1149  0212  11 00 00    	ld	de,_tile
1150  0215  19          	add	hl,de
1151  0216  56          	ld	d, (hl)
1152  0217  79          	ld	a,c
1153  0218  21 00 00    	ld	hl,_enemies
1154  021B  F5          	push	af
1155  021C  33          	inc	sp
1156  021D  4A          	ld	c, d
1157  021E  7E          	ld	a,(hl)
1158  021F  C5          	push	bc
1159  0220  F5          	push	af
1160  0221  33          	inc	sp
1161  0222  CD 00 00    	call	_NIRVANAP_spriteT_callee
1162  0225  2A 00 00    	ld	hl,(_enemies)
1163  0228  26 00       	ld	h,0x00
1164  022A  01 00 00    	ld	bc,_state_a
1165  022D  09          	add	hl,bc
1166  022E  7E          	ld	a,(hl)
1167  022F  E6 FD       	and	a,0xfd
1168  0231  77          	ld	(hl),a
1169  0232  01 00 00    	ld	bc,_spr_timer+0
1170  0235  2A 00 00    	ld	hl,(_enemies)
1171  0238  26 00       	ld	h,0x00
1172  023A  29          	add	hl, hl
1173  023B  09          	add	hl,bc
1174  023C  ED 5B 00 00 	ld	de,(_curr_time)
1175  0240  73          	ld	(hl),e
1176  0241  23          	inc	hl
1177  0242  72          	ld	(hl),d
1178  0243  2A 00 00    	ld	hl,(_enemies)
1179  0246  26 00       	ld	h,0x00
1180  0248  01 00 00    	ld	bc,_class
1181  024B  09          	add	hl,bc
1182  024C  4E          	ld	c,(hl)
1183  024D  3E 0B       	ld	a,0x0b
1184  024F  91          	sub	a, c
1185  0250  DA E5 02    	jp	C, l_enemy_hit_00113
1186  0253  06 00       	ld	b,0x00
1187  0255  21 5C 02    	ld	hl,l_enemy_hit_00119
1188  0258  09          	add	hl, bc
1189  0259  09          	add	hl, bc
1190  025A  09          	add	hl, bc
1191  025B  E9          	jp	(hl)
1192  025C              l_enemy_hit_00119:
1193  025C  C3 E5 02    	jp	l_enemy_hit_00113
1194  025F  C3 80 02    	jp	l_enemy_hit_00101
1195  0262  C3 87 02    	jp	l_enemy_hit_00102
1196  0265  C3 8E 02    	jp	l_enemy_hit_00103
1197  0268  C3 95 02    	jp	l_enemy_hit_00104
1198  026B  C3 9C 02    	jp	l_enemy_hit_00105
1199  026E  C3 A3 02    	jp	l_enemy_hit_00106
1200  0271  C3 B1 02    	jp	l_enemy_hit_00108
1201  0274  C3 BD 02    	jp	l_enemy_hit_00109
1202  0277  C3 AA 02    	jp	l_enemy_hit_00107
1203  027A  C3 CF 02    	jp	l_enemy_hit_00110
1204  027D  C3 DB 02    	jp	l_enemy_hit_00111
1205  0280              l_enemy_hit_00101:
1206  0280  2E 30       	ld	l,0x30
1207  0282  CD C5 03    	call	_enemy_flip
1208  0285  18 5E       	jr	l_enemy_hit_00113
1209  0287              l_enemy_hit_00102:
1210  0287  2E 3C       	ld	l,0x3c
1211  0289  CD C5 03    	call	_enemy_flip
1212  028C  18 57       	jr	l_enemy_hit_00113
1213  028E              l_enemy_hit_00103:
1214  028E  2E 48       	ld	l,0x48
1215  0290  CD C5 03    	call	_enemy_flip
1216  0293  18 50       	jr	l_enemy_hit_00113
1217  0295              l_enemy_hit_00104:
1218  0295  2E 54       	ld	l,0x54
1219  0297  CD A2 04    	call	_enemy_flip_sidestepper
1220  029A  18 49       	jr	l_enemy_hit_00113
1221  029C              l_enemy_hit_00105:
1222  029C  2E 60       	ld	l,0x60
1223  029E  CD A2 04    	call	_enemy_flip_sidestepper
1224  02A1  18 42       	jr	l_enemy_hit_00113
1225  02A3              l_enemy_hit_00106:
1226  02A3  2E 6C       	ld	l,0x6c
1227  02A5  CD A2 04    	call	_enemy_flip_sidestepper
1228  02A8  18 3B       	jr	l_enemy_hit_00113
1229  02AA              l_enemy_hit_00107:
1230  02AA  2E 78       	ld	l,0x78
1231  02AC  CD C5 03    	call	_enemy_flip
1232  02AF  18 34       	jr	l_enemy_hit_00113
1233  02B1              l_enemy_hit_00108:
1234  02B1  2A 00 00    	ld	hl,(_enemies)
1235  02B4  26 32       	ld	h,0x32
1236  02B6  E5          	push	hl
1237  02B7  CD 00 00    	call	_player_coin
1238  02BA  F1          	pop	af
1239  02BB  18 28       	jr	l_enemy_hit_00113
1240  02BD              l_enemy_hit_00109:
1241  02BD  21 00 00    	ld	hl,_ay_effect_10
1242  02C0  CD 00 00    	call	_ay_fx_play
1243  02C3  2A 00 00    	ld	hl,(_enemies)
1244  02C6  26 50       	ld	h,0x50
1245  02C8  E5          	push	hl
1246  02C9  CD 00 00    	call	_player_coin
1247  02CC  F1          	pop	af
1248  02CD  18 16       	jr	l_enemy_hit_00113
1249  02CF              l_enemy_hit_00110:
1250  02CF  2A 00 00    	ld	hl,(_enemies)
1251  02D2  26 64       	ld	h,0x64
1252  02D4  E5          	push	hl
1253  02D5  CD 00 00    	call	_player_coin
1254  02D8  F1          	pop	af
1255  02D9  18 0A       	jr	l_enemy_hit_00113
1256  02DB              l_enemy_hit_00111:
1257  02DB  2A 00 00    	ld	hl,(_enemies)
1258  02DE  26 14       	ld	h,0x14
1259  02E0  E5          	push	hl
1260  02E1  CD 00 00    	call	_player_coin
1261  02E4  F1          	pop	af
1262  02E5              l_enemy_hit_00113:
1263  02E5  C9          	ret
1264  02E6              	SECTION code_compiler
1265  02E6              ;	---------------------------------
1266  02E6              ; Function enemy_flip_change_dir
1267  02E6              ; ---------------------------------
1268  02E6              _enemy_flip_change_dir:
1269  02E6  CD 00 00    	call	___sdcc_enter_ix
1270  02E9  F5          	push	af
1271  02EA  DD 75 FF    	ld	(ix-1),l
1272  02ED  2A 00 00    	ld	hl,(_enemies)
1273  02F0  26 00       	ld	h,0x00
1274  02F2  01 00 00    	ld	bc,_state
1275  02F5  09          	add	hl,bc
1276  02F6  CB 56       	bit	2,(hl)
1277  02F8  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1278  02FA  01 00 00    	ld	bc,_state_a+0
1279  02FD  79          	ld	a, c
1280  02FE  21 00 00    	ld	hl,_enemies
1281  0301  86          	add	a, (hl)
1282  0302  5F          	ld	e, a
1283  0303  78          	ld	a, b
1284  0304  CE 00       	adc	a,0x00
1285  0306  57          	ld	d, a
1286  0307  1A          	ld	a, (de)
1287  0308  F6 10       	or	a,0x10
1288  030A  12          	ld	(de), a
1289  030B  79          	ld	a, c
1290  030C  86          	add	a, (hl)
1291  030D  4F          	ld	c, a
1292  030E  78          	ld	a, b
1293  030F  CE 00       	adc	a,0x00
1294  0311  47          	ld	b, a
1295  0312  0A          	ld	a, (bc)
1296  0313  E6 F7       	and	a,0xf7
1297  0315  02          	ld	(bc), a
1298  0316  18 1C       	jr	l_enemy_flip_change_dir_00103
1299  0318              l_enemy_flip_change_dir_00102:
1300  0318  01 00 00    	ld	bc,_state_a+0
1301  031B  79          	ld	a, c
1302  031C  21 00 00    	ld	hl,_enemies
1303  031F  86          	add	a, (hl)
1304  0320  5F          	ld	e, a
1305  0321  78          	ld	a, b
1306  0322  CE 00       	adc	a,0x00
1307  0324  57          	ld	d, a
1308  0325  1A          	ld	a, (de)
1309  0326  F6 10       	or	a,0x10
1310  0328  12          	ld	(de), a
1311  0329  79          	ld	a, c
1312  032A  86          	add	a, (hl)
1313  032B  4F          	ld	c, a
1314  032C  78          	ld	a, b
1315  032D  CE 00       	adc	a,0x00
1316  032F  47          	ld	b, a
1317  0330  0A          	ld	a, (bc)
1318  0331  E6 F7       	and	a,0xf7
1319  0333  02          	ld	(bc), a
1320  0334              l_enemy_flip_change_dir_00103:
1321  0334  3A 00 00    	ld	a,(_sprite)
1322  0337  F5          	push	af
1323  0338  33          	inc	sp
1324  0339  CD 00 00    	call	_spr_calc_hor
1325  033C  33          	inc	sp
1326  033D  5D          	ld	e, l
1327  033E  3A 00 00    	ld	a,(_enemies)
1328  0341  D5          	push	de
1329  0342  F5          	push	af
1330  0343  33          	inc	sp
1331  0344  CD 00 00    	call	_spr_calc_hor
1332  0347  33          	inc	sp
1333  0348  D1          	pop	de
1334  0349  55          	ld	d, l
1335  034A  2A 00 00    	ld	hl,(_enemies)
1336  034D  26 00       	ld	h,0x00
1337  034F  01 00 00    	ld	bc,_state
1338  0352  09          	add	hl,bc
1339  0353  7A          	ld	a,d
1340  0354  93          	sub	a,e
1341  0355  4D          	ld	c,l
1342  0356  44          	ld	b,h
1343  0357  30 13       	jr	NC,l_enemy_flip_change_dir_00110
1344  0359  0A          	ld	a,(bc)
1345  035A  F6 08       	or	a,0x08
1346  035C  02          	ld	(bc),a
1347  035D  2A 00 00    	ld	hl,(_enemies)
1348  0360  26 00       	ld	h,0x00
1349  0362  01 00 00    	ld	bc,_state
1350  0365  09          	add	hl,bc
1351  0366  7E          	ld	a,(hl)
1352  0367  E6 FB       	and	a,0xfb
1353  0369  77          	ld	(hl),a
1354  036A  18 4A       	jr	l_enemy_flip_change_dir_00111
1355  036C              l_enemy_flip_change_dir_00110:
1356  036C  2A 00 00    	ld	hl,(_sprite)
1357  036F  26 00       	ld	h,0x00
1358  0371  11 00 00    	ld	de,_col
1359  0374  19          	add	hl,de
1360  0375  7E          	ld	a,(hl)
1361  0376  DD 77 FE    	ld	(ix-2),a
1362  0379  2A 00 00    	ld	hl,(_enemies)
1363  037C  26 00       	ld	h,0x00
1364  037E  11 00 00    	ld	de,_col
1365  0381  19          	add	hl,de
1366  0382  5E          	ld	e, (hl)
1367  0383  21 00 00    	ld	hl,_enemies
1368  0386  DD 7E FE    	ld	a,(ix-2)
1369  0389  93          	sub	a, e
1370  038A  30 13       	jr	NC,l_enemy_flip_change_dir_00107
1371  038C  0A          	ld	a, (bc)
1372  038D  F6 04       	or	a,0x04
1373  038F  02          	ld	(bc), a
1374  0390  3E 00       	ld	a, +((_state) & 0xFF)
1375  0392  86          	add	a, (hl)
1376  0393  4F          	ld	c, a
1377  0394  3E 00       	ld	a, +((_state) / 256)
1378  0396  CE 00       	adc	a,0x00
1379  0398  47          	ld	b, a
1380  0399  0A          	ld	a, (bc)
1381  039A  E6 F7       	and	a,0xf7
1382  039C  02          	ld	(bc), a
1383  039D  18 17       	jr	l_enemy_flip_change_dir_00111
1384  039F              l_enemy_flip_change_dir_00107:
1385  039F  DD 7E FF    	ld	a,(ix-1)
1386  03A2  B7          	or	a, a
1387  03A3  20 11       	jr	NZ,l_enemy_flip_change_dir_00111
1388  03A5  0A          	ld	a, (bc)
1389  03A6  E6 F7       	and	a,0xf7
1390  03A8  02          	ld	(bc), a
1391  03A9  2A 00 00    	ld	hl,(_enemies)
1392  03AC  26 00       	ld	h,0x00
1393  03AE  01 00 00    	ld	bc,_state
1394  03B1  09          	add	hl,bc
1395  03B2  7E          	ld	a,(hl)
1396  03B3  E6 FB       	and	a,0xfb
1397  03B5  77          	ld	(hl),a
1398  03B6              l_enemy_flip_change_dir_00111:
1399  03B6  2A 00 00    	ld	hl,(_enemies)
1400  03B9  26 00       	ld	h,0x00
1401  03BB  01 00 00    	ld	bc,_colint
1402  03BE  09          	add	hl,bc
1403  03BF  AF          	xor	a,a
1404  03C0  77          	ld	(hl),a
1405  03C1  F1          	pop	af
1406  03C2  DD E1       	pop	ix
1407  03C4  C9          	ret
1408  03C5              	SECTION code_compiler
1409  03C5              ;	---------------------------------
1410  03C5              ; Function enemy_flip
1411  03C5              ; ---------------------------------
1412  03C5              _enemy_flip:
1413  03C5  CD 00 00    	call	___sdcc_enter_ix
1414  03C8  F5          	push	af
1415  03C9  DD 75 FE    	ld	(ix-2),l
1416  03CC  01 00 00    	ld	bc,_spr_timer+0
1417  03CF  2A 00 00    	ld	hl,(_enemies)
1418  03D2  26 00       	ld	h,0x00
1419  03D4  29          	add	hl, hl
1420  03D5  09          	add	hl,bc
1421  03D6  ED 5B 00 00 	ld	de,(_curr_time)
1422  03DA  73          	ld	(hl),e
1423  03DB  23          	inc	hl
1424  03DC  72          	ld	(hl),d
1425  03DD  2A 00 00    	ld	hl,(_enemies)
1426  03E0  26 00       	ld	h,0x00
1427  03E2  01 00 00    	ld	bc,_state
1428  03E5  09          	add	hl,bc
1429  03E6  7E          	ld	a,(hl)
1430  03E7  F6 01       	or	a,0x01
1431  03E9  77          	ld	(hl),a
1432  03EA  2A 00 00    	ld	hl,(_enemies)
1433  03ED  26 00       	ld	h,0x00
1434  03EF  01 00 00    	ld	bc,_state
1435  03F2  09          	add	hl,bc
1436  03F3  7E          	ld	a,(hl)
1437  03F4  E6 FD       	and	a,0xfd
1438  03F6  77          	ld	(hl),a
1439  03F7  2A 00 00    	ld	hl,(_enemies)
1440  03FA  26 00       	ld	h,0x00
1441  03FC  01 00 00    	ld	bc,_state
1442  03FF  09          	add	hl,bc
1443  0400  7E          	ld	a,(hl)
1444  0401  EE 10       	xor	a,0x10
1445  0403  77          	ld	(hl),a
1446  0404  2A 00 00    	ld	hl,(_enemies)
1447  0407  26 00       	ld	h,0x00
1448  0409  01 00 00    	ld	bc,_jump_lin
1449  040C  09          	add	hl,bc
1450  040D  4D          	ld	c,l
1451  040E  44          	ld	b,h
1452  040F  2A 00 00    	ld	hl,(_enemies)
1453  0412  26 00       	ld	h,0x00
1454  0414  11 00 00    	ld	de,_lin
1455  0417  19          	add	hl,de
1456  0418  7E          	ld	a,(hl)
1457  0419  02          	ld	(bc),a
1458  041A  2A 00 00    	ld	hl,(_enemies)
1459  041D  26 00       	ld	h,0x00
1460  041F  01 00 00    	ld	bc,_colint
1461  0422  09          	add	hl,bc
1462  0423  AF          	xor	a,a
1463  0424  77          	ld	(hl),a
1464  0425  2A 00 00    	ld	hl,(_enemies)
1465  0428  26 00       	ld	h,0x00
1466  042A  01 00 00    	ld	bc,_state
1467  042D  09          	add	hl,bc
1468  042E  7E          	ld	a,(hl)
1469  042F  DD 77 FF    	ld	(ix-1),a
1470  0432  CB 67       	bit	4,a
1471  0434  4D          	ld	c,l
1472  0435  44          	ld	b,h
1473  0436  28 22       	jr	Z,l_enemy_flip_00105
1474  0438  21 00 00    	ld	hl,_ay_effect_02
1475  043B  CD 00 00    	call	_ay_fx_play
1476  043E  2E 00       	ld	l,0x00
1477  0440  CD E6 02    	call	_enemy_flip_change_dir
1478  0443  2A 00 00    	ld	hl,(_enemies)
1479  0446  26 00       	ld	h,0x00
1480  0448  01 00 00    	ld	bc,_tile
1481  044B  09          	add	hl,bc
1482  044C  DD 7E FE    	ld	a,(ix-2)
1483  044F  C6 06       	add	a,0x06
1484  0451  77          	ld	(hl),a
1485  0452  21 01 00    	ld	hl,0x0001
1486  0455  CD 00 00    	call	_player_score_add
1487  0458  18 44       	jr	l_enemy_flip_00107
1488  045A              l_enemy_flip_00105:
1489  045A  2A 00 00    	ld	hl,(_enemies)
1490  045D  26 00       	ld	h,0x00
1491  045F  11 00 00    	ld	de,_state_a
1492  0462  19          	add	hl,de
1493  0463  5E          	ld	e, (hl)
1494  0464  DD 7E FF    	ld	a,(ix-1)
1495  0467  F6 04       	or	a,0x04
1496  0469  CB 63       	bit	4, e
1497  046B  28 10       	jr	Z,l_enemy_flip_00102
1498  046D  02          	ld	(bc), a
1499  046E  2A 00 00    	ld	hl,(_enemies)
1500  0471  26 00       	ld	h,0x00
1501  0473  01 00 00    	ld	bc,_state
1502  0476  09          	add	hl,bc
1503  0477  7E          	ld	a,(hl)
1504  0478  E6 F7       	and	a,0xf7
1505  047A  77          	ld	(hl),a
1506  047B  18 0E       	jr	l_enemy_flip_00103
1507  047D              l_enemy_flip_00102:
1508  047D  02          	ld	(bc), a
1509  047E  2A 00 00    	ld	hl,(_enemies)
1510  0481  26 00       	ld	h,0x00
1511  0483  01 00 00    	ld	bc,_state
1512  0486  09          	add	hl,bc
1513  0487  7E          	ld	a,(hl)
1514  0488  E6 F7       	and	a,0xf7
1515  048A  77          	ld	(hl),a
1516  048B              l_enemy_flip_00103:
1517  048B  2A 00 00    	ld	hl,(_enemies)
1518  048E  26 00       	ld	h,0x00
1519  0490  01 00 00    	ld	bc,_tile
1520  0493  09          	add	hl,bc
1521  0494  E5          	push	hl
1522  0495  2A 00 00    	ld	hl,(_enemies)
1523  0498  CD 00 00    	call	_spr_tile
1524  049B  C1          	pop	bc
1525  049C  7D          	ld	a,l
1526  049D  02          	ld	(bc), a
1527  049E              l_enemy_flip_00107:
1528  049E  F1          	pop	af
1529  049F  DD E1       	pop	ix
1530  04A1  C9          	ret
1531  04A2              	SECTION code_compiler
1532  04A2              ;	---------------------------------
1533  04A2              ; Function enemy_flip_sidestepper
1534  04A2              ; ---------------------------------
1535  04A2              _enemy_flip_sidestepper:
1536  04A2  3A 00 00    	ld	a,(_enemies)
1537  04A5  C6 00       	add	a,+((_state) & 0xFF)
1538  04A7  4D          	ld	c,l
1539  04A8  5F          	ld	e,a
1540  04A9  3E 00       	ld	a,+((_state) / 256)
1541  04AB  CE 00       	adc	a,0x00
1542  04AD  57          	ld	d,a
1543  04AE  1A          	ld	a, (de)
1544  04AF  CB 77       	bit	6, a
1545  04B1  28 06       	jr	Z,l_enemy_flip_sidestepper_00102
1546  04B3  69          	ld	l, c
1547  04B4  CD C5 03    	call	_enemy_flip
1548  04B7  18 55       	jr	l_enemy_flip_sidestepper_00104
1549  04B9              l_enemy_flip_sidestepper_00102:
1550  04B9  2E 01       	ld	l,0x01
1551  04BB  CD E6 02    	call	_enemy_flip_change_dir
1552  04BE  2A 00 00    	ld	hl,(_enemies)
1553  04C1  26 00       	ld	h,0x00
1554  04C3  01 00 00    	ld	bc,_state
1555  04C6  09          	add	hl,bc
1556  04C7  7E          	ld	a,(hl)
1557  04C8  EE 01       	xor	a,0x01
1558  04CA  77          	ld	(hl),a
1559  04CB  2A 00 00    	ld	hl,(_enemies)
1560  04CE  26 00       	ld	h,0x00
1561  04D0  01 00 00    	ld	bc,_state
1562  04D3  09          	add	hl,bc
1563  04D4  7E          	ld	a,(hl)
1564  04D5  E6 FD       	and	a,0xfd
1565  04D7  77          	ld	(hl),a
1566  04D8  2A 00 00    	ld	hl,(_enemies)
1567  04DB  26 00       	ld	h,0x00
1568  04DD  01 00 00    	ld	bc,_state
1569  04E0  09          	add	hl,bc
1570  04E1  7E          	ld	a,(hl)
1571  04E2  F6 40       	or	a,0x40
1572  04E4  77          	ld	(hl),a
1573  04E5  2A 00 00    	ld	hl,(_enemies)
1574  04E8  26 00       	ld	h,0x00
1575  04EA  01 00 00    	ld	bc,_jump_lin
1576  04ED  09          	add	hl,bc
1577  04EE  4D          	ld	c,l
1578  04EF  44          	ld	b,h
1579  04F0  2A 00 00    	ld	hl,(_enemies)
1580  04F3  26 00       	ld	h,0x00
1581  04F5  11 00 00    	ld	de,_lin
1582  04F8  19          	add	hl,de
1583  04F9  7E          	ld	a,(hl)
1584  04FA  02          	ld	(bc),a
1585  04FB  2A 00 00    	ld	hl,(_enemies)
1586  04FE  26 00       	ld	h,0x00
1587  0500  01 00 00    	ld	bc,_tile
1588  0503  09          	add	hl,bc
1589  0504  E5          	push	hl
1590  0505  2A 00 00    	ld	hl,(_enemies)
1591  0508  CD 00 00    	call	_spr_tile
1592  050B  C1          	pop	bc
1593  050C  7D          	ld	a,l
1594  050D  02          	ld	(bc), a
1595  050E              l_enemy_flip_sidestepper_00104:
1596  050E  C9          	ret
1597  050F              	SECTION code_compiler
1598  050F              ;	---------------------------------
1599  050F              ; Function enemy_turn
1600  050F              ; ---------------------------------
1601  050F              _enemy_turn:
1602  050F  21 00 00    	ld	hl,_sprite
1603  0512  36 00       	ld	(hl),0x00
1604  0514              l_enemy_turn_00123:
1605  0514  2A 00 00    	ld	hl,(_sprite)
1606  0517  26 00       	ld	h,0x00
1607  0519  01 00 00    	ld	bc,_class
1608  051C  09          	add	hl,bc
1609  051D  7E          	ld	a,(hl)
1610  051E  B7          	or	a, a
1611  051F  CA 21 06    	jp	Z, l_enemy_turn_00121
1612  0522  21 00 00    	ld	hl,_sprite
1613  0525  CD 00 00    	call	_spr_chktime
1614  0528  7D          	ld	a, l
1615  0529  B7          	or	a, a
1616  052A  CA 21 06    	jp	Z, l_enemy_turn_00121
1617  052D  2A 00 00    	ld	hl,(_sprite)
1618  0530  26 00       	ld	h,0x00
1619  0532  01 00 00    	ld	bc,_lin
1620  0535  09          	add	hl,bc
1621  0536  7E          	ld	a,(hl)
1622  0537  32 00 00    	ld	(_s_lin0),a
1623  053A  2A 00 00    	ld	hl,(_sprite)
1624  053D  26 00       	ld	h,0x00
1625  053F  01 00 00    	ld	bc,_col
1626  0542  09          	add	hl,bc
1627  0543  7E          	ld	a,(hl)
1628  0544  32 00 00    	ld	(_s_col0),a
1629  0547  2A 00 00    	ld	hl,(_sprite)
1630  054A  26 00       	ld	h,0x00
1631  054C  01 00 00    	ld	bc,_tile
1632  054F  09          	add	hl,bc
1633  0550  4E          	ld	c, (hl)
1634  0551  3A 00 00    	ld	a,(_sprite)
1635  0554  5F          	ld	e,a
1636  0555  16 00       	ld	d,0x00
1637  0557  21 00 00    	ld	hl,_colint
1638  055A  19          	add	hl,de
1639  055B  7E          	ld	a,(hl)
1640  055C  81          	add	a,c
1641  055D  32 00 00    	ld	(_s_tile0),a
1642  0560  2A 00 00    	ld	hl,(_sprite)
1643  0563  26 00       	ld	h,0x00
1644  0565  01 00 00    	ld	bc,_state
1645  0568  09          	add	hl,bc
1646  0569  7E          	ld	a,(hl)
1647  056A  32 00 00    	ld	(_s_state),a
1648  056D  2A 00 00    	ld	hl,(_sprite)
1649  0570  26 00       	ld	h,0x00
1650  0572  29          	add	hl,hl
1651  0573  01 00 00    	ld	bc,_last_time
1652  0576  09          	add	hl,bc
1653  0577  ED 5B 00 00 	ld	de,(_curr_time)
1654  057B  73          	ld	(hl),e
1655  057C  23          	inc	hl
1656  057D  72          	ld	(hl),d
1657  057E  21 00 00    	ld	hl,_s_state
1658  0581  7E          	ld	a, (hl)
1659  0582  E6 01       	and	a,0x01
1660  0584  CB 6E       	bit	5, (hl)
1661  0586  28 0C       	jr	Z,l_enemy_turn_00102
1662  0588  B7          	or	a, a
1663  0589  20 09       	jr	NZ,l_enemy_turn_00102
1664  058B  2A 00 00    	ld	hl,(_sprite)
1665  058E  CD 00 00    	call	_spr_killed
1666  0591  C3 21 06    	jp	l_enemy_turn_00121
1667  0594              l_enemy_turn_00102:
1668  0594  21 00 00    	ld	hl,_s_state
1669  0597  CB 66       	bit	4, (hl)
1670  0599  28 31       	jr	Z,l_enemy_turn_00107
1671  059B  21 00 00    	ld	hl,_s_state
1672  059E  CB 4E       	bit	1, (hl)
1673  05A0  20 2A       	jr	NZ,l_enemy_turn_00107
1674  05A2  B7          	or	a, a
1675  05A3  20 27       	jr	NZ,l_enemy_turn_00107
1676  05A5  2A 00 00    	ld	hl,(_sprite)
1677  05A8  26 00       	ld	h,0x00
1678  05AA  01 00 00    	ld	bc,_sprite_speed_alt
1679  05AD  09          	add	hl,bc
1680  05AE  36 08       	ld	(hl),0x08
1681  05B0  CD A4 0B    	call	_enemy_standard_hit
1682  05B3  2A 00 00    	ld	hl,(_sprite)
1683  05B6  26 00       	ld	h,0x00
1684  05B8  01 00 00    	ld	bc,_colint
1685  05BB  09          	add	hl,bc
1686  05BC  7E          	ld	a,(hl)
1687  05BD  3C          	inc	a
1688  05BE  77          	ld	(hl),a
1689  05BF  5F          	ld	e,a
1690  05C0  3E 02       	ld	a,0x02
1691  05C2  93          	sub	a,e
1692  05C3  30 02       	jr	NC,l_enemy_turn_00105
1693  05C5  AF          	xor	a,a
1694  05C6  77          	ld	(hl),a
1695  05C7              l_enemy_turn_00105:
1696  05C7  CD 00 00    	call	_spr_redraw
1697  05CA  18 55       	jr	l_enemy_turn_00121
1698  05CC              l_enemy_turn_00107:
1699  05CC  2A 00 00    	ld	hl,(_sprite)
1700  05CF  26 00       	ld	h,0x00
1701  05D1  01 00 00    	ld	bc,_class
1702  05D4  09          	add	hl,bc
1703  05D5  7E          	ld	a,(hl)
1704  05D6  FE 07       	cp	a,0x07
1705  05D8  28 25       	jr	Z,l_enemy_turn_00113
1706  05DA  FE 08       	cp	a,0x08
1707  05DC  28 26       	jr	Z,l_enemy_turn_00114
1708  05DE  FE 09       	cp	a,0x09
1709  05E0  28 18       	jr	Z,l_enemy_turn_00112
1710  05E2  FE 0A       	cp	a,0x0a
1711  05E4  28 0A       	jr	Z,l_enemy_turn_00110
1712  05E6  FE 0B       	cp	a,0x0b
1713  05E8  28 0B       	jr	Z,l_enemy_turn_00111
1714  05EA  D6 0C       	sub	a,0x0c
1715  05EC  28 1B       	jr	Z,l_enemy_turn_00115
1716  05EE  18 1E       	jr	l_enemy_turn_00116
1717  05F0              l_enemy_turn_00110:
1718  05F0  CD 06 08    	call	_enemy_fireball_red
1719  05F3  18 1C       	jr	l_enemy_turn_00117
1720  05F5              l_enemy_turn_00111:
1721  05F5  CD D7 08    	call	_enemy_fireball_green
1722  05F8  18 17       	jr	l_enemy_turn_00117
1723  05FA              l_enemy_turn_00112:
1724  05FA  CD 83 09    	call	_enemy_fighterfly
1725  05FD  18 12       	jr	l_enemy_turn_00117
1726  05FF              l_enemy_turn_00113:
1727  05FF  CD 9E 06    	call	_enemy_slipice
1728  0602  18 0D       	jr	l_enemy_turn_00117
1729  0604              l_enemy_turn_00114:
1730  0604  CD 00 00    	call	_enemy_coin1
1731  0607  18 08       	jr	l_enemy_turn_00117
1732  0609              l_enemy_turn_00115:
1733  0609  CD 30 00    	call	_enemy_coin2
1734  060C  18 03       	jr	l_enemy_turn_00117
1735  060E              l_enemy_turn_00116:
1736  060E  CD 2D 06    	call	_enemy_standard
1737  0611              l_enemy_turn_00117:
1738  0611  CD 00 00    	call	_spr_redraw
1739  0614  2A 00 00    	ld	hl,(_sprite)
1740  0617  26 00       	ld	h,0x00
1741  0619  01 00 00    	ld	bc,_state
1742  061C  09          	add	hl,bc
1743  061D  3A 00 00    	ld	a,(_s_state)
1744  0620  77          	ld	(hl),a
1745  0621              l_enemy_turn_00121:
1746  0621  21 00 00    	ld	hl,_sprite
1747  0624  7E          	ld	a,(hl)
1748  0625  3C          	inc	a
1749  0626  77          	ld	(hl),a
1750  0627  D6 06       	sub	a,0x06
1751  0629  DA 14 05    	jp	C, l_enemy_turn_00123
1752  062C  C9          	ret
1753  062D              	SECTION code_compiler
1754  062D              ;	---------------------------------
1755  062D              ; Function enemy_standard
1756  062D              ; ---------------------------------
1757  062D              _enemy_standard:
1758  062D  21 00 00    	ld	hl,_s_state
1759  0630  CB 46       	bit	0, (hl)
1760  0632  28 3C       	jr	Z,l_enemy_standard_00108
1761  0634  2A 00 00    	ld	hl,(_sprite)
1762  0637  26 00       	ld	h,0x00
1763  0639  01 00 00    	ld	bc,_sprite_speed_alt
1764  063C  09          	add	hl,bc
1765  063D  36 01       	ld	(hl),0x01
1766  063F  CD 00 00    	call	_spr_move_horizontal
1767  0642  CD 00 00    	call	_spr_move_up
1768  0645  2A 00 00    	ld	hl,(_sprite)
1769  0648  26 00       	ld	h,0x00
1770  064A  5D          	ld	e,l
1771  064B  01 00 00    	ld	bc,_jump_lin
1772  064E  09          	add	hl,bc
1773  064F  4E          	ld	c,(hl)
1774  0650  06 00       	ld	b,0x00
1775  0652  50          	ld	d,b
1776  0653  21 00 00    	ld	hl,_lin
1777  0656  19          	add	hl,de
1778  0657  5E          	ld	e, (hl)
1779  0658  16 00       	ld	d,0x00
1780  065A  79          	ld	a, c
1781  065B  93          	sub	a, e
1782  065C  4F          	ld	c, a
1783  065D  78          	ld	a, b
1784  065E  9A          	sbc	a, d
1785  065F  47          	ld	b, a
1786  0660  79          	ld	a, c
1787  0661  D6 0C       	sub	a,0x0c
1788  0663  78          	ld	a, b
1789  0664  17          	rla
1790  0665  3F          	ccf
1791  0666  1F          	rra
1792  0667  DE 80       	sbc	a,0x80
1793  0669  38 30       	jr	C,l_enemy_standard_00109
1794  066B  CD 00 00    	call	_spr_set_fall
1795  066E  18 2B       	jr	l_enemy_standard_00109
1796  0670              l_enemy_standard_00108:
1797  0670  CD 92 0C    	call	_enemy_walk
1798  0673  2A 00 00    	ld	hl,(_sprite)
1799  0676  26 00       	ld	h,0x00
1800  0678  01 00 00    	ld	bc,_lin
1801  067B  09          	add	hl,bc
1802  067C  7E          	ld	a,(hl)
1803  067D  D6 90       	sub	a,0x90
1804  067F  21 00 00    	ld	hl,_sprite
1805  0682  20 17       	jr	NZ,l_enemy_standard_00109
1806  0684  4E          	ld	c,(hl)
1807  0685  06 00       	ld	b,0x00
1808  0687  21 00 00    	ld	hl,_col
1809  068A  09          	add	hl,bc
1810  068B  7E          	ld	a,(hl)
1811  068C  4F          	ld	c,a
1812  068D  D6 05       	sub	a,0x05
1813  068F  38 05       	jr	C,l_enemy_standard_00103
1814  0691  3E 19       	ld	a,0x19
1815  0693  91          	sub	a, c
1816  0694  30 05       	jr	NC,l_enemy_standard_00109
1817  0696              l_enemy_standard_00103:
1818  0696  21 00 00    	ld	hl,_s_state
1819  0699  CB C6       	set	0, (hl)
1820  069B              l_enemy_standard_00109:
1821  069B  C3 98 0A    	jp  _enemy_trip
1822  069E              	SECTION code_compiler
1823  069E              ;	---------------------------------
1824  069E              ; Function enemy_slipice
1825  069E              ; ---------------------------------
1826  069E              _enemy_slipice:
1827  069E  3A 00 00    	ld	a,(_phase_left)
1828  06A1  B7          	or	a, a
1829  06A2  CA 05 08    	jp	Z, l_enemy_slipice_00126
1830  06A5  2A 00 00    	ld	hl,(_sprite)
1831  06A8  26 00       	ld	h,0x00
1832  06AA  01 00 00    	ld	bc,_state
1833  06AD  09          	add	hl,bc
1834  06AE  7E          	ld	a,(hl)
1835  06AF  CB 77       	bit	6, a
1836  06B1  CA 36 07    	jp	Z,l_enemy_slipice_00122
1837  06B4  76          	halt
1838  06B5  2A 00 00    	ld	hl,(_sprite)
1839  06B8  26 00       	ld	h,0x00
1840  06BA  01 00 00    	ld	bc,_col
1841  06BD  09          	add	hl,bc
1842  06BE  56          	ld	d, (hl)
1843  06BF  2A 00 00    	ld	hl,(_sprite)
1844  06C2  26 00       	ld	h,0x00
1845  06C4  01 00 00    	ld	bc,_lin
1846  06C7  09          	add	hl,bc
1847  06C8  7E          	ld	a,(hl)
1848  06C9  C6 08       	add	a,0x08
1849  06CB  5F          	ld	e,a
1850  06CC  2A 00 00    	ld	hl,(_sprite)
1851  06CF  26 00       	ld	h,0x00
1852  06D1  01 00 00    	ld	bc,_colint
1853  06D4  09          	add	hl,bc
1854  06D5  7E          	ld	a,(hl)
1855  06D6  C6 BD       	add	a,0xbd
1856  06D8  4D          	ld	c,l
1857  06D9  47          	ld	b, a
1858  06DA  D5          	push	de
1859  06DB  C5          	push	bc
1860  06DC  33          	inc	sp
1861  06DD  CD 00 00    	call	_NIRVANAP_drawT_callee
1862  06E0  2A 00 00    	ld	hl,(_sprite)
1863  06E3  26 00       	ld	h,0x00
1864  06E5  01 00 00    	ld	bc,_colint
1865  06E8  09          	add	hl,bc
1866  06E9  7E          	ld	a,(hl)
1867  06EA  3C          	inc	a
1868  06EB  77          	ld	(hl),a
1869  06EC  5F          	ld	e,a
1870  06ED  3E 02       	ld	a,0x02
1871  06EF  93          	sub	a,e
1872  06F0  30 02       	jr	NC,l_enemy_slipice_00102
1873  06F2  AF          	xor	a,a
1874  06F3  77          	ld	(hl),a
1875  06F4              l_enemy_slipice_00102:
1876  06F4  2A 00 00    	ld	hl,(_sprite)
1877  06F7  26 00       	ld	h,0x00
1878  06F9  29          	add	hl, hl
1879  06FA  11 00 00    	ld	de,_spr_timer
1880  06FD  19          	add	hl, de
1881  06FE  4E          	ld	c, (hl)
1882  06FF  23          	inc	hl
1883  0700  46          	ld	b, (hl)
1884  0701  21 28 00    	ld	hl,0x0028
1885  0704  E5          	push	hl
1886  0705  C5          	push	bc
1887  0706  CD 00 00    	call	_game_check_time
1888  0709  F1          	pop	af
1889  070A  F1          	pop	af
1890  070B  7D          	ld	a, l
1891  070C  B7          	or	a, a
1892  070D  CA 05 08    	jp	Z, l_enemy_slipice_00126
1893  0710  2A 00 00    	ld	hl,(_sprite)
1894  0713  26 00       	ld	h,0x00
1895  0715  5D          	ld	e,l
1896  0716  01 00 00    	ld	bc,_col
1897  0719  09          	add	hl,bc
1898  071A  46          	ld	b,(hl)
1899  071B  16 00       	ld	d,0x00
1900  071D  21 00 00    	ld	hl,_lin
1901  0720  19          	add	hl,de
1902  0721  7E          	ld	a,(hl)
1903  0722  C6 08       	add	a,0x08
1904  0724  4F          	ld	c,a
1905  0725  C5          	push	bc
1906  0726  3E 49       	ld	a,0x49
1907  0728  F5          	push	af
1908  0729  33          	inc	sp
1909  072A  CD 00 00    	call	_NIRVANAP_fillT_callee
1910  072D  2A 00 00    	ld	hl,(_sprite)
1911  0730  CD 00 00    	call	_spr_destroy
1912  0733  C3 05 08    	jp	l_enemy_slipice_00126
1913  0736              l_enemy_slipice_00122:
1914  0736  CB 47       	bit	0, a
1915  0738  C2 DC 07    	jp	NZ,l_enemy_slipice_00110
1916  073B  CB 4F       	bit	1, a
1917  073D  C2 DC 07    	jp	NZ,l_enemy_slipice_00110
1918  0740  2A 00 00    	ld	hl,(_sprite)
1919  0743  26 00       	ld	h,0x00
1920  0745  01 00 00    	ld	bc,_col
1921  0748  09          	add	hl,bc
1922  0749  7E          	ld	a,(hl)
1923  074A  FE 07       	cp	a,0x07
1924  074C  28 09       	jr	Z,l_enemy_slipice_00116
1925  074E  FE 0F       	cp	a,0x0f
1926  0750  28 05       	jr	Z,l_enemy_slipice_00116
1927  0752  FE 18       	cp	a,0x18
1928  0754  C2 DC 07    	jp	NZ,l_enemy_slipice_00110
1929  0757              l_enemy_slipice_00116:
1930  0757  D6 88       	sub	a,0x88
1931  0759  D2 DC 07    	jp	NC, l_enemy_slipice_00110
1932  075C  CD 00 00    	call	_rand
1933  075F  22 00 00    	ld	(_tmp_ui),hl
1934  0762  2A 00 00    	ld	hl,(_sprite)
1935  0765  26 00       	ld	h,0x00
1936  0767  01 00 00    	ld	bc,_col
1937  076A  09          	add	hl,bc
1938  076B  56          	ld	d, (hl)
1939  076C  2A 00 00    	ld	hl,(_sprite)
1940  076F  26 00       	ld	h,0x00
1941  0771  01 00 00    	ld	bc,_lin
1942  0774  09          	add	hl,bc
1943  0775  7E          	ld	a,(hl)
1944  0776  C6 10       	add	a,0x10
1945  0778  5F          	ld	e, a
1946  0779  D5          	push	de
1947  077A  CD 00 00    	call	_spr_calc_index
1948  077D  F1          	pop	af
1949  077E  22 00 00    	ld	(_index1),hl
1950  0781  01 00 00    	ld	bc,_scr_map
1951  0784  09          	add	hl,bc
1952  0785  7E          	ld	a,(hl)
1953  0786  D6 30       	sub	a,0x30
1954  0788  20 4D       	jr	NZ,l_enemy_slipice_00106
1955  078A  21 00 00    	ld	hl,_tmp_ui
1956  078D  7E          	ld	a, (hl)
1957  078E  D6 32       	sub	a,0x32
1958  0790  23          	inc	hl
1959  0791  7E          	ld	a, (hl)
1960  0792  DE 33       	sbc	a,0x33
1961  0794  30 41       	jr	NC,l_enemy_slipice_00106
1962  0796  21 00 00    	ld	hl,_ay_effect_16
1963  0799  CD 00 00    	call	_ay_fx_play
1964  079C  21 00 00    	ld	hl,_s_state
1965  079F  CB F6       	set	6, (hl)
1966  07A1  01 00 00    	ld	bc,_spr_timer+0
1967  07A4  2A 00 00    	ld	hl,(_sprite)
1968  07A7  26 00       	ld	h,0x00
1969  07A9  29          	add	hl, hl
1970  07AA  09          	add	hl,bc
1971  07AB  ED 5B 00 00 	ld	de,(_curr_time)
1972  07AF  73          	ld	(hl),e
1973  07B0  23          	inc	hl
1974  07B1  72          	ld	(hl),d
1975  07B2  2A 00 00    	ld	hl,(_sprite)
1976  07B5  26 00       	ld	h,0x00
1977  07B7  01 00 00    	ld	bc,_lin
1978  07BA  09          	add	hl,bc
1979  07BB  7E          	ld	a,(hl)
1980  07BC  C6 F8       	add	a,0xf8
1981  07BE  77          	ld	(hl),a
1982  07BF  2A 00 00    	ld	hl,(_sprite)
1983  07C2  26 00       	ld	h,0x00
1984  07C4  01 00 00    	ld	bc,_colint
1985  07C7  09          	add	hl,bc
1986  07C8  AF          	xor	a,a
1987  07C9  77          	ld	(hl),a
1988  07CA  2A 00 00    	ld	hl,(_sprite)
1989  07CD  26 00       	ld	h,0x00
1990  07CF  01 00 00    	ld	bc,_tile
1991  07D2  09          	add	hl,bc
1992  07D3  36 7B       	ld	(hl),0x7b
1993  07D5  18 08       	jr	l_enemy_slipice_00111
1994  07D7              l_enemy_slipice_00106:
1995  07D7  CD 92 0C    	call	_enemy_walk
1996  07DA  18 03       	jr	l_enemy_slipice_00111
1997  07DC              l_enemy_slipice_00110:
1998  07DC  CD 92 0C    	call	_enemy_walk
1999  07DF              l_enemy_slipice_00111:
2000  07DF  2A 00 00    	ld	hl,(_sprite)
2001  07E2  26 00       	ld	h,0x00
2002  07E4  01 00 00    	ld	bc,_lin
2003  07E7  09          	add	hl,bc
2004  07E8  7E          	ld	a,(hl)
2005  07E9  D6 90       	sub	a,0x90
2006  07EB  20 18       	jr	NZ,l_enemy_slipice_00126
2007  07ED  2A 00 00    	ld	hl,(_sprite)
2008  07F0  26 00       	ld	h,0x00
2009  07F2  01 00 00    	ld	bc,_col
2010  07F5  09          	add	hl,bc
2011  07F6  7E          	ld	a,(hl)
2012  07F7  FE 03       	cp	a,0x03
2013  07F9  28 04       	jr	Z,l_enemy_slipice_00117
2014  07FB  D6 1B       	sub	a,0x1b
2015  07FD  20 06       	jr	NZ,l_enemy_slipice_00126
2016  07FF              l_enemy_slipice_00117:
2017  07FF  2A 00 00    	ld	hl,(_sprite)
2018  0802  CD 00 00    	call	_spr_destroy
2019  0805              l_enemy_slipice_00126:
2020  0805  C9          	ret
2021  0806              	SECTION code_compiler
2022  0806              ;	---------------------------------
2023  0806              ; Function enemy_fireball_red
2024  0806              ; ---------------------------------
2025  0806              _enemy_fireball_red:
2026  0806  3A 00 00    	ld	a,(_phase_left)
2027  0809  B7          	or	a, a
2028  080A  CA D6 08    	jp	Z, l_enemy_fireball_red_00122
2029  080D  CD 00 00    	call	_spr_move_horizontal
2030  0810  2A 00 00    	ld	hl,(_sprite)
2031  0813  26 00       	ld	h,0x00
2032  0815  01 00 00    	ld	bc,_col
2033  0818  09          	add	hl,bc
2034  0819  4E          	ld	c,(hl)
2035  081A  3A 00 00    	ld	a,(_s_col0)
2036  081D  91          	sub	a, c
2037  081E  28 55       	jr	Z,l_enemy_fireball_red_00110
2038  0820  2A FF FF    	ld	hl,(_s_col0 - 1)
2039  0823  3A 00 00    	ld	a,(_s_lin0)
2040  0826  6F          	ld	l,a
2041  0827  E5          	push	hl
2042  0828  CD 00 00    	call	_spr_calc_index
2043  082B  F1          	pop	af
2044  082C  22 00 00    	ld	(_index1),hl
2045  082F  21 00 00    	ld	hl,_s_state
2046  0832  CB 56       	bit	2, (hl)
2047  0834  28 0C       	jr	Z,l_enemy_fireball_red_00102
2048  0836  2A 00 00    	ld	hl,(_index1)
2049  0839  11 02 00    	ld	de,0x0002
2050  083C  19          	add	hl,de
2051  083D  22 00 00    	ld	(_index1),hl
2052  0840  18 07       	jr	l_enemy_fireball_red_00103
2053  0842              l_enemy_fireball_red_00102:
2054  0842  2A 00 00    	ld	hl,(_index1)
2055  0845  2B          	dec	hl
2056  0846  22 00 00    	ld	(_index1),hl
2057  0849              l_enemy_fireball_red_00103:
2058  0849  21 00 00    	ld	hl,_s_state
2059  084C  CB 4E       	bit	1, (hl)
2060  084E  28 0A       	jr	Z,l_enemy_fireball_red_00105
2061  0850  2A 00 00    	ld	hl,(_index1)
2062  0853  11 20 00    	ld	de,0x0020
2063  0856  19          	add	hl,de
2064  0857  22 00 00    	ld	(_index1),hl
2065  085A              l_enemy_fireball_red_00105:
2066  085A  2A 00 00    	ld	hl,(_sprite)
2067  085D  26 00       	ld	h,0x00
2068  085F  01 00 00    	ld	bc,_col
2069  0862  09          	add	hl,bc
2070  0863  7E          	ld	a,(hl)
2071  0864  4F          	ld	c,a
2072  0865  D6 01       	sub	a,0x01
2073  0867  38 05       	jr	C,l_enemy_fireball_red_00106
2074  0869  3E 1D       	ld	a,0x1d
2075  086B  91          	sub	a, c
2076  086C  30 07       	jr	NC,l_enemy_fireball_red_00110
2077  086E              l_enemy_fireball_red_00106:
2078  086E  21 00 00    	ld	hl,_s_state
2079  0871  7E          	ld	a, (hl)
2080  0872  EE 0C       	xor	a,+(0x04^0x08)
2081  0874  77          	ld	(hl),a
2082  0875              l_enemy_fireball_red_00110:
2083  0875  21 00 00    	ld	hl,_s_state
2084  0878  CB 46       	bit	0, (hl)
2085  087A  28 0C       	jr	Z,l_enemy_fireball_red_00116
2086  087C  CD 00 00    	call	_spr_move_up
2087  087F  7D          	ld	a, l
2088  0880  B7          	or	a, a
2089  0881  28 15       	jr	Z,l_enemy_fireball_red_00117
2090  0883  CD 00 00    	call	_spr_set_fall
2091  0886  18 10       	jr	l_enemy_fireball_red_00117
2092  0888              l_enemy_fireball_red_00116:
2093  0888  CD 00 00    	call	_spr_move_down
2094  088B  7D          	ld	a, l
2095  088C  B7          	or	a, a
2096  088D  28 09       	jr	Z,l_enemy_fireball_red_00117
2097  088F  21 00 00    	ld	hl,_s_state
2098  0892  7E          	ld	a,(hl)
2099  0893  E6 FD       	and	a,0xfd
2100  0895  F6 01       	or	a,0x01
2101  0897  77          	ld	(hl),a
2102  0898              l_enemy_fireball_red_00117:
2103  0898  01 00 00    	ld	bc,_spr_timer+0
2104  089B  2A 00 00    	ld	hl,(_sprite)
2105  089E  26 00       	ld	h,0x00
2106  08A0  29          	add	hl, hl
2107  08A1  09          	add	hl, bc
2108  08A2  5E          	ld	e, (hl)
2109  08A3  23          	inc	hl
2110  08A4  56          	ld	d, (hl)
2111  08A5  C5          	push	bc
2112  08A6  21 DC 05    	ld	hl,0x05dc
2113  08A9  E5          	push	hl
2114  08AA  D5          	push	de
2115  08AB  CD 00 00    	call	_game_check_time
2116  08AE  F1          	pop	af
2117  08AF  F1          	pop	af
2118  08B0  C1          	pop	bc
2119  08B1  7D          	ld	a,l
2120  08B2  B7          	or	a, a
2121  08B3  C8          	ret	Z
2122  08B4  2A 00 00    	ld	hl,(_sprite)
2123  08B7  26 00       	ld	h,0x00
2124  08B9  29          	add	hl, hl
2125  08BA  09          	add	hl,bc
2126  08BB  ED 5B 00 00 	ld	de,(_curr_time)
2127  08BF  73          	ld	(hl),e
2128  08C0  23          	inc	hl
2129  08C1  72          	ld	(hl),d
2130  08C2  2A 00 00    	ld	hl,(_sprite)
2131  08C5  26 00       	ld	h,0x00
2132  08C7  01 00 00    	ld	bc,_sprite_speed_alt
2133  08CA  09          	add	hl,bc
2134  08CB  36 08       	ld	(hl),0x08
2135  08CD  21 00 00    	ld	hl,_s_state
2136  08D0  7E          	ld	a,(hl)
2137  08D1  F6 20       	or	a,0x20
2138  08D3  E6 FC       	and	a,+(0xfe&0xfd)
2139  08D5  77          	ld	(hl),a
2140  08D6              l_enemy_fireball_red_00122:
2141  08D6  C9          	ret
2142  08D7              	SECTION code_compiler
2143  08D7              ;	---------------------------------
2144  08D7              ; Function enemy_fireball_green
2145  08D7              ; ---------------------------------
2146  08D7              _enemy_fireball_green:
2147  08D7  3A 00 00    	ld	a,(_phase_left)
2148  08DA  B7          	or	a, a
2149  08DB  CA 82 09    	jp	Z, l_enemy_fireball_green_00113
2150  08DE  2A 00 00    	ld	hl,(_sprite)
2151  08E1  26 00       	ld	h,0x00
2152  08E3  5D          	ld	e,l
2153  08E4  01 00 00    	ld	bc,_jump_lin
2154  08E7  09          	add	hl,bc
2155  08E8  4E          	ld	c,(hl)
2156  08E9  06 00       	ld	b,0x00
2157  08EB  50          	ld	d,b
2158  08EC  21 00 00    	ld	hl,_lin
2159  08EF  19          	add	hl,de
2160  08F0  5E          	ld	e, (hl)
2161  08F1  16 00       	ld	d,0x00
2162  08F3  79          	ld	a, c
2163  08F4  93          	sub	a, e
2164  08F5  6F          	ld	l, a
2165  08F6  78          	ld	a, b
2166  08F7  9A          	sbc	a, d
2167  08F8  67          	ld	h, a
2168  08F9  CD 00 00    	call	_abs_fastcall
2169  08FC  22 00 00    	ld	(_index1),hl
2170  08FF  3E 08       	ld	a,0x08
2171  0901  21 00 00    	ld	hl,_index1
2172  0904  BE          	cp	a, (hl)
2173  0905  3E 00       	ld	a,0x00
2174  0907  23          	inc	hl
2175  0908  9E          	sbc	a, (hl)
2176  0909  30 1E       	jr	NC,l_enemy_fireball_green_00102
2177  090B  21 00 00    	ld	hl,_s_state
2178  090E  7E          	ld	a, (hl)
2179  090F  EE 03       	xor	a,+(0x01^0x02)
2180  0911  77          	ld	(hl),a
2181  0912  2A 00 00    	ld	hl,(_sprite)
2182  0915  26 00       	ld	h,0x00
2183  0917  01 00 00    	ld	bc,_jump_lin
2184  091A  09          	add	hl,bc
2185  091B  3A 00 00    	ld	a,(_sprite)
2186  091E  5F          	ld	e,a
2187  091F  16 00       	ld	d,0x00
2188  0921  4D          	ld	c,l
2189  0922  44          	ld	b,h
2190  0923  21 00 00    	ld	hl,_lin
2191  0926  19          	add	hl,de
2192  0927  7E          	ld	a,(hl)
2193  0928  02          	ld	(bc), a
2194  0929              l_enemy_fireball_green_00102:
2195  0929  21 00 00    	ld	hl,_s_state
2196  092C  CB 46       	bit	0, (hl)
2197  092E  28 08       	jr	Z,l_enemy_fireball_green_00104
2198  0930  CD 00 00    	call	_spr_move_horizontal
2199  0933  CD 00 00    	call	_spr_move_up
2200  0936  18 06       	jr	l_enemy_fireball_green_00105
2201  0938              l_enemy_fireball_green_00104:
2202  0938  CD 00 00    	call	_spr_move_horizontal
2203  093B  CD 00 00    	call	_spr_move_down
2204  093E              l_enemy_fireball_green_00105:
2205  093E  2A 00 00    	ld	hl,(_sprite)
2206  0941  26 00       	ld	h,0x00
2207  0943  01 00 00    	ld	bc,_col
2208  0946  09          	add	hl,bc
2209  0947  7E          	ld	a,(hl)
2210  0948  B7          	or	a, a
2211  0949  20 07       	jr	NZ,l_enemy_fireball_green_00110
2212  094B  21 00 00    	ld	hl,_s_state
2213  094E  CB 5E       	bit	3, (hl)
2214  0950  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2215  0952              l_enemy_fireball_green_00110:
2216  0952  D6 1E       	sub	a,0x1e
2217  0954  20 2C       	jr	NZ,l_enemy_fireball_green_00113
2218  0956  21 00 00    	ld	hl,_s_state
2219  0959  CB 56       	bit	2, (hl)
2220  095B  28 25       	jr	Z,l_enemy_fireball_green_00113
2221  095D              l_enemy_fireball_green_00106:
2222  095D  01 00 00    	ld	bc,_spr_timer+0
2223  0960  2A 00 00    	ld	hl,(_sprite)
2224  0963  26 00       	ld	h,0x00
2225  0965  29          	add	hl, hl
2226  0966  09          	add	hl,bc
2227  0967  ED 5B 00 00 	ld	de,(_curr_time)
2228  096B  73          	ld	(hl),e
2229  096C  23          	inc	hl
2230  096D  72          	ld	(hl),d
2231  096E  2A 00 00    	ld	hl,(_sprite)
2232  0971  26 00       	ld	h,0x00
2233  0973  01 00 00    	ld	bc,_sprite_speed_alt
2234  0976  09          	add	hl,bc
2235  0977  36 08       	ld	(hl),0x08
2236  0979  21 00 00    	ld	hl,_s_state
2237  097C  7E          	ld	a,(hl)
2238  097D  F6 20       	or	a,0x20
2239  097F  E6 FE       	and	a,0xfe
2240  0981  77          	ld	(hl),a
2241  0982              l_enemy_fireball_green_00113:
2242  0982  C9          	ret
2243  0983              	SECTION code_compiler
2244  0983              ;	---------------------------------
2245  0983              ; Function enemy_fighterfly
2246  0983              ; ---------------------------------
2247  0983              _enemy_fighterfly:
2248  0983  21 00 00    	ld	hl,_s_state
2249  0986  CB 46       	bit	0, (hl)
2250  0988  20 59       	jr	NZ,l_enemy_fighterfly_00106
2251  098A  21 00 00    	ld	hl,_s_state
2252  098D  CB 4E       	bit	1, (hl)
2253  098F  20 52       	jr	NZ,l_enemy_fighterfly_00106
2254  0991  CD 00 00    	call	_ay_is_playing
2255  0994  7D          	ld	a, l
2256  0995  D6 02       	sub	a,0x02
2257  0997  30 06       	jr	NC,l_enemy_fighterfly_00102
2258  0999  21 00 00    	ld	hl,_ay_effect_13
2259  099C  CD 00 00    	call	_ay_fx_play
2260  099F              l_enemy_fighterfly_00102:
2261  099F  2A 00 00    	ld	hl,(_sprite)
2262  09A2  26 00       	ld	h,0x00
2263  09A4  29          	add	hl, hl
2264  09A5  11 00 00    	ld	de,_spr_timer
2265  09A8  19          	add	hl, de
2266  09A9  4E          	ld	c, (hl)
2267  09AA  23          	inc	hl
2268  09AB  46          	ld	b, (hl)
2269  09AC  21 28 00    	ld	hl,0x0028
2270  09AF  E5          	push	hl
2271  09B0  C5          	push	bc
2272  09B1  CD 00 00    	call	_game_check_time
2273  09B4  F1          	pop	af
2274  09B5  F1          	pop	af
2275  09B6  7D          	ld	a, l
2276  09B7  B7          	or	a, a
2277  09B8  28 29       	jr	Z,l_enemy_fighterfly_00106
2278  09BA  21 00 00    	ld	hl,_s_state
2279  09BD  CB C6       	set	0, (hl)
2280  09BF  2A 00 00    	ld	hl,(_sprite)
2281  09C2  26 00       	ld	h,0x00
2282  09C4  01 00 00    	ld	bc,_jump_lin
2283  09C7  09          	add	hl,bc
2284  09C8  4D          	ld	c,l
2285  09C9  44          	ld	b,h
2286  09CA  2A 00 00    	ld	hl,(_sprite)
2287  09CD  26 00       	ld	h,0x00
2288  09CF  11 00 00    	ld	de,_lin
2289  09D2  19          	add	hl,de
2290  09D3  7E          	ld	a,(hl)
2291  09D4  02          	ld	(bc),a
2292  09D5  2A 00 00    	ld	hl,(_sprite)
2293  09D8  26 00       	ld	h,0x00
2294  09DA  29          	add	hl, hl
2295  09DB  11 00 00    	ld	de,_spr_timer
2296  09DE  19          	add	hl, de
2297  09DF  AF          	xor	a, a
2298  09E0  77          	ld	(hl), a
2299  09E1  23          	inc	hl
2300  09E2  77          	ld	(hl), a
2301  09E3              l_enemy_fighterfly_00106:
2302  09E3  21 00 00    	ld	hl,_s_state
2303  09E6  CB 46       	bit	0, (hl)
2304  09E8  28 32       	jr	Z,l_enemy_fighterfly_00123
2305  09EA  2A 00 00    	ld	hl,(_sprite)
2306  09ED  26 00       	ld	h,0x00
2307  09EF  5D          	ld	e,l
2308  09F0  01 00 00    	ld	bc,_jump_lin
2309  09F3  09          	add	hl,bc
2310  09F4  4E          	ld	c,(hl)
2311  09F5  06 00       	ld	b,0x00
2312  09F7  50          	ld	d,b
2313  09F8  21 00 00    	ld	hl,_lin
2314  09FB  19          	add	hl,de
2315  09FC  5E          	ld	e, (hl)
2316  09FD  16 00       	ld	d,0x00
2317  09FF  79          	ld	a, c
2318  0A00  93          	sub	a, e
2319  0A01  4F          	ld	c, a
2320  0A02  78          	ld	a, b
2321  0A03  9A          	sbc	a, d
2322  0A04  47          	ld	b, a
2323  0A05  79          	ld	a, c
2324  0A06  D6 08       	sub	a,0x08
2325  0A08  78          	ld	a, b
2326  0A09  17          	rla
2327  0A0A  3F          	ccf
2328  0A0B  1F          	rra
2329  0A0C  DE 80       	sbc	a,0x80
2330  0A0E  38 03       	jr	C,l_enemy_fighterfly_00109
2331  0A10  CD 00 00    	call	_spr_set_fall
2332  0A13              l_enemy_fighterfly_00109:
2333  0A13  CD 00 00    	call	_spr_move_horizontal
2334  0A16  CD 00 00    	call	_spr_move_up
2335  0A19  C3 95 0A    	jp	l_enemy_fighterfly_00124
2336  0A1C              l_enemy_fighterfly_00123:
2337  0A1C  01 00 00    	ld	bc,_spr_timer+0
2338  0A1F  2A 00 00    	ld	hl,(_sprite)
2339  0A22  26 00       	ld	h,0x00
2340  0A24  29          	add	hl, hl
2341  0A25  09          	add	hl,bc
2342  0A26  5E          	ld	e,(hl)
2343  0A27  4D          	ld	c,l
2344  0A28  44          	ld	b,h
2345  0A29  23          	inc	hl
2346  0A2A  7E          	ld	a, (hl)
2347  0A2B  B3          	or	a,e
2348  0A2C  20 09       	jr	NZ,l_enemy_fighterfly_00111
2349  0A2E  ED 5B 00 00 	ld	de,(_curr_time)
2350  0A32  7B          	ld	a, e
2351  0A33  02          	ld	(bc), a
2352  0A34  03          	inc	bc
2353  0A35  7A          	ld	a, d
2354  0A36  02          	ld	(bc), a
2355  0A37              l_enemy_fighterfly_00111:
2356  0A37  21 00 00    	ld	hl,_s_state
2357  0A3A  CB 4E       	bit	1, (hl)
2358  0A3C  28 57       	jr	Z,l_enemy_fighterfly_00124
2359  0A3E  2A 00 00    	ld	hl,(_sprite)
2360  0A41  26 00       	ld	h,0x00
2361  0A43  01 00 00    	ld	bc,_lin
2362  0A46  09          	add	hl,bc
2363  0A47  4E          	ld	c, (hl)
2364  0A48  3A 00 00    	ld	a,(_sprite)
2365  0A4B  5F          	ld	e,a
2366  0A4C  16 00       	ld	d,0x00
2367  0A4E  21 00 00    	ld	hl,_jump_lin
2368  0A51  19          	add	hl,de
2369  0A52  46          	ld	b, (hl)
2370  0A53  79          	ld	a, c
2371  0A54  90          	sub	a, b
2372  0A55  30 05       	jr	NC,l_enemy_fighterfly_00116
2373  0A57  CD 00 00    	call	_spr_move_horizontal
2374  0A5A  18 21       	jr	l_enemy_fighterfly_00117
2375  0A5C              l_enemy_fighterfly_00116:
2376  0A5C  2A 00 00    	ld	hl,(_sprite)
2377  0A5F  26 00       	ld	h,0x00
2378  0A61  01 00 00    	ld	bc,_sprite_speed_alt
2379  0A64  09          	add	hl,bc
2380  0A65  36 04       	ld	(hl),0x04
2381  0A67  2A 00 00    	ld	hl,(_sprite)
2382  0A6A  26 00       	ld	h,0x00
2383  0A6C  01 00 00    	ld	bc,_colint
2384  0A6F  09          	add	hl,bc
2385  0A70  7E          	ld	a,(hl)
2386  0A71  B7          	or	a,a
2387  0A72  4D          	ld	c,l
2388  0A73  44          	ld	b,h
2389  0A74  20 05       	jr	NZ,l_enemy_fighterfly_00113
2390  0A76  3E 02       	ld	a,0x02
2391  0A78  02          	ld	(bc), a
2392  0A79  18 02       	jr	l_enemy_fighterfly_00117
2393  0A7B              l_enemy_fighterfly_00113:
2394  0A7B  AF          	xor	a, a
2395  0A7C  02          	ld	(bc), a
2396  0A7D              l_enemy_fighterfly_00117:
2397  0A7D  CD 00 00    	call	_spr_move_down
2398  0A80  7D          	ld	a, l
2399  0A81  B7          	or	a, a
2400  0A82  CA 98 0A    	jp	Z,_enemy_trip
2401  0A85  2A 00 00    	ld	hl,(_sprite)
2402  0A88  26 00       	ld	h,0x00
2403  0A8A  01 00 00    	ld	bc,_sprite_speed_alt
2404  0A8D  09          	add	hl,bc
2405  0A8E  AF          	xor	a,a
2406  0A8F  77          	ld	(hl),a
2407  0A90  21 00 00    	ld	hl,_s_state
2408  0A93  CB 8E       	res	1, (hl)
2409  0A95              l_enemy_fighterfly_00124:
2410  0A95  C3 98 0A    	jp  _enemy_trip
2411  0A98              	SECTION code_compiler
2412  0A98              ;	---------------------------------
2413  0A98              ; Function enemy_trip
2414  0A98              ; ---------------------------------
2415  0A98              _enemy_trip:
2416  0A98  2A 00 00    	ld	hl,(_sprite)
2417  0A9B  26 00       	ld	h,0x00
2418  0A9D  01 00 00    	ld	bc,_lin
2419  0AA0  09          	add	hl,bc
2420  0AA1  4E          	ld	c,(hl)
2421  0AA2  3E 80       	ld	a,0x80
2422  0AA4  91          	sub	a, c
2423  0AA5  30 7C       	jr	NC,l_enemy_trip_00110
2424  0AA7  21 00 00    	ld	hl,_tmp
2425  0AAA  36 00       	ld	(hl),0x00
2426  0AAC  2A 00 00    	ld	hl,(_sprite)
2427  0AAF  26 00       	ld	h,0x00
2428  0AB1  01 00 00    	ld	bc,_col
2429  0AB4  09          	add	hl,bc
2430  0AB5  7E          	ld	a,(hl)
2431  0AB6  D6 1B       	sub	a,0x1b
2432  0AB8  20 0D       	jr	NZ,l_enemy_trip_00102
2433  0ABA  21 03 02    	ld	hl,0x0203
2434  0ABD  E5          	push	hl
2435  0ABE  21 10 1A    	ld	hl,0x1a10
2436  0AC1  E5          	push	hl
2437  0AC2  CD 24 0B    	call	_enemy_trip_move
2438  0AC5  F1          	pop	af
2439  0AC6  F1          	pop	af
2440  0AC7              l_enemy_trip_00102:
2441  0AC7  2A 00 00    	ld	hl,(_sprite)
2442  0ACA  26 00       	ld	h,0x00
2443  0ACC  01 00 00    	ld	bc,_col
2444  0ACF  09          	add	hl,bc
2445  0AD0  7E          	ld	a,(hl)
2446  0AD1  D6 03       	sub	a,0x03
2447  0AD3  20 0D       	jr	NZ,l_enemy_trip_00104
2448  0AD5  21 02 03    	ld	hl,0x0302
2449  0AD8  E5          	push	hl
2450  0AD9  21 10 04    	ld	hl,0x0410
2451  0ADC  E5          	push	hl
2452  0ADD  CD 24 0B    	call	_enemy_trip_move
2453  0AE0  F1          	pop	af
2454  0AE1  F1          	pop	af
2455  0AE2              l_enemy_trip_00104:
2456  0AE2  3A 00 00    	ld	a,(_tmp)
2457  0AE5  B7          	or	a, a
2458  0AE6  C8          	ret	Z
2459  0AE7  2A 00 00    	ld	hl,(_sprite)
2460  0AEA  26 00       	ld	h,0x00
2461  0AEC  01 00 00    	ld	bc,_class
2462  0AEF  09          	add	hl,bc
2463  0AF0  4E          	ld	c,(hl)
2464  0AF1  3E 03       	ld	a,0x03
2465  0AF3  91          	sub	a,c
2466  0AF4  D8          	ret	C
2467  0AF5  2A 00 00    	ld	hl,(_sprite)
2468  0AF8  26 00       	ld	h,0x00
2469  0AFA  01 00 00    	ld	bc,_colint
2470  0AFD  09          	add	hl,bc
2471  0AFE  AF          	xor	a,a
2472  0AFF  77          	ld	(hl),a
2473  0B00  2A 00 00    	ld	hl,(_sprite)
2474  0B03  26 00       	ld	h,0x00
2475  0B05  01 00 00    	ld	bc,_state
2476  0B08  09          	add	hl,bc
2477  0B09  3A 00 00    	ld	a,(_s_state)
2478  0B0C  77          	ld	(hl),a
2479  0B0D  2A 00 00    	ld	hl,(_sprite)
2480  0B10  26 00       	ld	h,0x00
2481  0B12  01 00 00    	ld	bc,_tile
2482  0B15  09          	add	hl,bc
2483  0B16  E5          	push	hl
2484  0B17  2A 00 00    	ld	hl,(_sprite)
2485  0B1A  CD 00 00    	call	_spr_tile
2486  0B1D  C1          	pop	bc
2487  0B1E  7D          	ld	a,l
2488  0B1F  02          	ld	(bc), a
2489  0B20  CD 00 00    	call	_spr_set_fall
2490  0B23              l_enemy_trip_00110:
2491  0B23  C9          	ret
2492  0B24              	SECTION code_compiler
2493  0B24              ;	---------------------------------
2494  0B24              ; Function enemy_trip_move
2495  0B24              ; ---------------------------------
2496  0B24              _enemy_trip_move:
2497  0B24  CD 00 00    	call	___sdcc_enter_ix
2498  0B27  21 00 00    	ld	hl,_tmp
2499  0B2A  36 01       	ld	(hl),0x01
2500  0B2C  76          	halt
2501  0B2D  3A 00 00    	ld	a,(_s_col0)
2502  0B30  F5          	push	af
2503  0B31  33          	inc	sp
2504  0B32  3A 00 00    	ld	a,(_s_lin0)
2505  0B35  57          	ld	d,a
2506  0B36  1E 49       	ld	e,0x49
2507  0B38  D5          	push	de
2508  0B39  CD 00 00    	call	_NIRVANAP_fillT_callee
2509  0B3C  2A 00 00    	ld	hl,(_sprite)
2510  0B3F  26 00       	ld	h,0x00
2511  0B41  01 00 00    	ld	bc,_lin
2512  0B44  09          	add	hl,bc
2513  0B45  4D          	ld	c,l
2514  0B46  44          	ld	b,h
2515  0B47  21 00 00    	ld	hl,_sprite
2516  0B4A  DD 7E 04    	ld	a,(ix+4)
2517  0B4D  02          	ld	(bc), a
2518  0B4E  3E 00       	ld	a, +((_jump_lin) & 0xFF)
2519  0B50  86          	add	a, (hl)
2520  0B51  4F          	ld	c, a
2521  0B52  3E 00       	ld	a, +((_jump_lin) / 256)
2522  0B54  CE 00       	adc	a,0x00
2523  0B56  47          	ld	b, a
2524  0B57  DD 7E 04    	ld	a,(ix+4)
2525  0B5A  C6 10       	add	a,0x10
2526  0B5C  02          	ld	(bc), a
2527  0B5D  3E 00       	ld	a, +((_col) & 0xFF)
2528  0B5F  86          	add	a, (hl)
2529  0B60  4F          	ld	c, a
2530  0B61  3E 00       	ld	a, +((_col) / 256)
2531  0B63  CE 00       	adc	a,0x00
2532  0B65  47          	ld	b, a
2533  0B66  DD 7E 05    	ld	a,(ix+5)
2534  0B69  02          	ld	(bc), a
2535  0B6A  DD 46 06    	ld	b,(ix+6)
2536  0B6D  0E 01       	ld	c,0x01
2537  0B6F  04          	inc	b
2538  0B70  18 02       	jr	l_enemy_trip_move_00110
2539  0B72              l_enemy_trip_move_00109:
2540  0B72  CB 21       	sla	c
2541  0B74              l_enemy_trip_move_00110:
2542  0B74  10 FC       	djnz	l_enemy_trip_move_00109
2543  0B76  21 00 00    	ld	hl,_s_state
2544  0B79  7E          	ld	a, (hl)
2545  0B7A  B1          	or	a, c
2546  0B7B  77          	ld	(hl), a
2547  0B7C  DD 46 07    	ld	b,(ix+7)
2548  0B7F  0E 01       	ld	c,0x01
2549  0B81  04          	inc	b
2550  0B82  18 02       	jr	l_enemy_trip_move_00112
2551  0B84              l_enemy_trip_move_00111:
2552  0B84  CB 21       	sla	c
2553  0B86              l_enemy_trip_move_00112:
2554  0B86  10 FC       	djnz	l_enemy_trip_move_00111
2555  0B88  79          	ld	a, c
2556  0B89  2F          	cpl
2557  0B8A  4F          	ld	c, a
2558  0B8B  7E          	ld	a, (hl)
2559  0B8C  A1          	and	a, c
2560  0B8D  E6 FE       	and	a,0xfe
2561  0B8F  77          	ld	(hl),a
2562  0B90  CD 00 00    	call	_sound_enter_enemy
2563  0B93  CD 00 00    	call	_ay_is_playing
2564  0B96  7D          	ld	a, l
2565  0B97  D6 02       	sub	a,0x02
2566  0B99  30 06       	jr	NC,l_enemy_trip_move_00103
2567  0B9B  21 00 00    	ld	hl,_ay_effect_04
2568  0B9E  CD 00 00    	call	_ay_fx_play
2569  0BA1              l_enemy_trip_move_00103:
2570  0BA1  DD E1       	pop	ix
2571  0BA3  C9          	ret
2572  0BA4              	SECTION code_compiler
2573  0BA4              ;	---------------------------------
2574  0BA4              ; Function enemy_standard_hit
2575  0BA4              ; ---------------------------------
2576  0BA4              _enemy_standard_hit:
2577  0BA4  2A 00 00    	ld	hl,(_game_time_flipped)
2578  0BA7  01 CE FF    	ld	bc,0xffce
2579  0BAA  09          	add	hl,bc
2580  0BAB  4D          	ld	c,l
2581  0BAC  44          	ld	b,h
2582  0BAD  2A 00 00    	ld	hl,(_sprite)
2583  0BB0  26 00       	ld	h,0x00
2584  0BB2  29          	add	hl, hl
2585  0BB3  11 00 00    	ld	de,_spr_timer
2586  0BB6  19          	add	hl, de
2587  0BB7  5E          	ld	e, (hl)
2588  0BB8  23          	inc	hl
2589  0BB9  56          	ld	d, (hl)
2590  0BBA  C5          	push	bc
2591  0BBB  D5          	push	de
2592  0BBC  CD 00 00    	call	_game_check_time
2593  0BBF  F1          	pop	af
2594  0BC0  F1          	pop	af
2595  0BC1  7D          	ld	a, l
2596  0BC2  B7          	or	a, a
2597  0BC3  28 20       	jr	Z,l_enemy_standard_hit_00104
2598  0BC5  2A 00 00    	ld	hl,(_sprite)
2599  0BC8  26 00       	ld	h,0x00
2600  0BCA  01 00 00    	ld	bc,_state
2601  0BCD  09          	add	hl,bc
2602  0BCE  7E          	ld	a,(hl)
2603  0BCF  07          	rlca
2604  0BD0  38 13       	jr	C,l_enemy_standard_hit_00104
2605  0BD2  2A 00 00    	ld	hl,(_sprite)
2606  0BD5  CD 1F 0C    	call	_enemy_evolve
2607  0BD8  2A 00 00    	ld	hl,(_sprite)
2608  0BDB  26 00       	ld	h,0x00
2609  0BDD  01 00 00    	ld	bc,_state
2610  0BE0  09          	add	hl,bc
2611  0BE1  7E          	ld	a,(hl)
2612  0BE2  F6 80       	or	a,0x80
2613  0BE4  77          	ld	(hl),a
2614  0BE5              l_enemy_standard_hit_00104:
2615  0BE5  2A 00 00    	ld	hl,(_sprite)
2616  0BE8  26 00       	ld	h,0x00
2617  0BEA  29          	add	hl, hl
2618  0BEB  11 00 00    	ld	de,_spr_timer
2619  0BEE  19          	add	hl, de
2620  0BEF  4E          	ld	c, (hl)
2621  0BF0  23          	inc	hl
2622  0BF1  46          	ld	b, (hl)
2623  0BF2  2A 00 00    	ld	hl,(_game_time_flipped)
2624  0BF5  E5          	push	hl
2625  0BF6  C5          	push	bc
2626  0BF7  CD 00 00    	call	_game_check_time
2627  0BFA  F1          	pop	af
2628  0BFB  F1          	pop	af
2629  0BFC  7D          	ld	a, l
2630  0BFD  B7          	or	a, a
2631  0BFE  C8          	ret	Z
2632  0BFF  3A 00 00    	ld	a,(_sprite)
2633  0C02  32 00 00    	ld	(_enemies),a
2634  0C05  2A 00 00    	ld	hl,(_sprite)
2635  0C08  CD 00 00    	call	_spr_tile
2636  0C0B  CD C5 03    	call	_enemy_flip
2637  0C0E  2A 00 00    	ld	hl,(_sprite)
2638  0C11  26 00       	ld	h,0x00
2639  0C13  01 00 00    	ld	bc,_state
2640  0C16  09          	add	hl,bc
2641  0C17  7E          	ld	a,(hl)
2642  0C18  32 00 00    	ld	(_s_state),a
2643  0C1B  E6 7F       	and	a,0x7f
2644  0C1D  77          	ld	(hl),a
2645  0C1E  C9          	ret
2646  0C1F              	SECTION code_compiler
2647  0C1F              ;	---------------------------------
2648  0C1F              ; Function enemy_evolve
2649  0C1F              ; ---------------------------------
2650  0C1F              _enemy_evolve:
2651  0C1F  45          	ld	b,l
2652  0C20  11 00 00    	ld	de,_class+0
2653  0C23  26 00       	ld	h,0x00
2654  0C25  19          	add	hl, de
2655  0C26  7E          	ld	a, (hl)
2656  0C27  FE 01       	cp	a,0x01
2657  0C29  28 0E       	jr	Z,l_enemy_evolve_00101
2658  0C2B  FE 02       	cp	a,0x02
2659  0C2D  28 17       	jr	Z,l_enemy_evolve_00102
2660  0C2F  FE 04       	cp	a,0x04
2661  0C31  28 20       	jr	Z,l_enemy_evolve_00103
2662  0C33  D6 05       	sub	a,0x05
2663  0C35  28 29       	jr	Z,l_enemy_evolve_00104
2664  0C37  18 32       	jr	l_enemy_evolve_00106
2665  0C39              l_enemy_evolve_00101:
2666  0C39  21 02 3C    	ld	hl,0x3c02
2667  0C3C  E5          	push	hl
2668  0C3D  C5          	push	bc
2669  0C3E  33          	inc	sp
2670  0C3F  CD 6C 0C    	call	_enemy_upgrade
2671  0C42  F1          	pop	af
2672  0C43  33          	inc	sp
2673  0C44  18 25       	jr	l_enemy_evolve_00106
2674  0C46              l_enemy_evolve_00102:
2675  0C46  21 03 48    	ld	hl,0x4803
2676  0C49  E5          	push	hl
2677  0C4A  C5          	push	bc
2678  0C4B  33          	inc	sp
2679  0C4C  CD 6C 0C    	call	_enemy_upgrade
2680  0C4F  F1          	pop	af
2681  0C50  33          	inc	sp
2682  0C51  18 18       	jr	l_enemy_evolve_00106
2683  0C53              l_enemy_evolve_00103:
2684  0C53  21 05 60    	ld	hl,0x6005
2685  0C56  E5          	push	hl
2686  0C57  C5          	push	bc
2687  0C58  33          	inc	sp
2688  0C59  CD 6C 0C    	call	_enemy_upgrade
2689  0C5C  F1          	pop	af
2690  0C5D  33          	inc	sp
2691  0C5E  18 0B       	jr	l_enemy_evolve_00106
2692  0C60              l_enemy_evolve_00104:
2693  0C60  21 06 6C    	ld	hl,0x6c06
2694  0C63  E5          	push	hl
2695  0C64  C5          	push	bc
2696  0C65  33          	inc	sp
2697  0C66  CD 6C 0C    	call	_enemy_upgrade
2698  0C69  F1          	pop	af
2699  0C6A  33          	inc	sp
2700  0C6B              l_enemy_evolve_00106:
2701  0C6B  C9          	ret
2702  0C6C              	SECTION code_compiler
2703  0C6C              ;	---------------------------------
2704  0C6C              ; Function enemy_upgrade
2705  0C6C              ; ---------------------------------
2706  0C6C              _enemy_upgrade:
2707  0C6C  CD 00 00    	call	___sdcc_enter_ix
2708  0C6F  3E 00       	ld	a, +((_tile) & 0xFF)
2709  0C71  DD 86 04    	add	a,(ix+4)
2710  0C74  4F          	ld	c, a
2711  0C75  3E 00       	ld	a, +((_tile) / 256)
2712  0C77  CE 00       	adc	a,0x00
2713  0C79  47          	ld	b, a
2714  0C7A  DD 7E 06    	ld	a,(ix+6)
2715  0C7D  C6 06       	add	a,0x06
2716  0C7F  02          	ld	(bc), a
2717  0C80  3E 00       	ld	a, +((_class) & 0xFF)
2718  0C82  DD 86 04    	add	a,(ix+4)
2719  0C85  4F          	ld	c, a
2720  0C86  3E 00       	ld	a, +((_class) / 256)
2721  0C88  CE 00       	adc	a,0x00
2722  0C8A  47          	ld	b, a
2723  0C8B  DD 7E 05    	ld	a,(ix+5)
2724  0C8E  02          	ld	(bc), a
2725  0C8F  DD E1       	pop	ix
2726  0C91  C9          	ret
2727  0C92              	SECTION code_compiler
2728  0C92              ;	---------------------------------
2729  0C92              ; Function enemy_walk
2730  0C92              ; ---------------------------------
2731  0C92              _enemy_walk:
2732  0C92  21 00 00    	ld	hl,_s_state
2733  0C95  CB 46       	bit	0, (hl)
2734  0C97  20 3F       	jr	NZ,l_enemy_walk_00106
2735  0C99  21 00 00    	ld	hl,_s_state
2736  0C9C  CB 4E       	bit	1, (hl)
2737  0C9E  20 38       	jr	NZ,l_enemy_walk_00106
2738  0CA0  2A 00 00    	ld	hl,(_sprite)
2739  0CA3  26 00       	ld	h,0x00
2740  0CA5  01 00 00    	ld	bc,_col
2741  0CA8  09          	add	hl,bc
2742  0CA9  7E          	ld	a,(hl)
2743  0CAA  57          	ld	d,a
2744  0CAB  CB 47       	bit	0,a
2745  0CAD  28 0E       	jr	Z,l_enemy_walk_00102
2746  0CAF  21 00 00    	ld	hl,_s_state
2747  0CB2  CB 66       	bit	4, (hl)
2748  0CB4  20 07       	jr	NZ,l_enemy_walk_00102
2749  0CB6  21 00 00    	ld	hl,_tmp
2750  0CB9  36 00       	ld	(hl),0x00
2751  0CBB  18 3E       	jr	l_enemy_walk_00107
2752  0CBD              l_enemy_walk_00102:
2753  0CBD  2A 00 00    	ld	hl,(_sprite)
2754  0CC0  26 00       	ld	h,0x00
2755  0CC2  01 00 00    	ld	bc,_lin
2756  0CC5  09          	add	hl,bc
2757  0CC6  7E          	ld	a,(hl)
2758  0CC7  C6 10       	add	a,0x10
2759  0CC9  5F          	ld	e, a
2760  0CCA  D5          	push	de
2761  0CCB  CD 00 00    	call	_spr_calc_index
2762  0CCE  F1          	pop	af
2763  0CCF  CD 00 00    	call	_game_check_maze
2764  0CD2  7D          	ld	a,l
2765  0CD3  32 00 00    	ld	(_tmp),a
2766  0CD6  18 23       	jr	l_enemy_walk_00107
2767  0CD8              l_enemy_walk_00106:
2768  0CD8  2A 00 00    	ld	hl,(_sprite)
2769  0CDB  26 00       	ld	h,0x00
2770  0CDD  01 00 00    	ld	bc,_col
2771  0CE0  09          	add	hl,bc
2772  0CE1  56          	ld	d, (hl)
2773  0CE2  2A 00 00    	ld	hl,(_sprite)
2774  0CE5  26 00       	ld	h,0x00
2775  0CE7  01 00 00    	ld	bc,_lin
2776  0CEA  09          	add	hl,bc
2777  0CEB  7E          	ld	a,(hl)
2778  0CEC  C6 10       	add	a,0x10
2779  0CEE  5F          	ld	e, a
2780  0CEF  D5          	push	de
2781  0CF0  CD 00 00    	call	_spr_calc_index
2782  0CF3  F1          	pop	af
2783  0CF4  CD 00 00    	call	_game_check_maze
2784  0CF7  7D          	ld	a,l
2785  0CF8  32 00 00    	ld	(_tmp),a
2786  0CFB              l_enemy_walk_00107:
2787  0CFB  3A 00 00    	ld	a,(_tmp)
2788  0CFE  B7          	or	a, a
2789  0CFF  CA DC 0D    	jp	Z, l_enemy_walk_00130
2790  0D02  21 00 00    	ld	hl,_s_state
2791  0D05  CB 46       	bit	0, (hl)
2792  0D07  20 05       	jr	NZ,l_enemy_walk_00110
2793  0D09  21 00 00    	ld	hl,_s_state
2794  0D0C  CB CE       	set	1, (hl)
2795  0D0E              l_enemy_walk_00110:
2796  0D0E  2A 00 00    	ld	hl,(_sprite)
2797  0D11  26 00       	ld	h,0x00
2798  0D13  01 00 00    	ld	bc,_jump_lin
2799  0D16  09          	add	hl,bc
2800  0D17  7E          	ld	a,(hl)
2801  0D18  B7          	or	a,a
2802  0D19  20 0E       	jr	NZ,l_enemy_walk_00112
2803  0D1B  3A 00 00    	ld	a,(_sprite)
2804  0D1E  5F          	ld	e,a
2805  0D1F  16 00       	ld	d,0x00
2806  0D21  4D          	ld	c,l
2807  0D22  44          	ld	b,h
2808  0D23  21 00 00    	ld	hl,_lin
2809  0D26  19          	add	hl,de
2810  0D27  7E          	ld	a,(hl)
2811  0D28  02          	ld	(bc), a
2812  0D29              l_enemy_walk_00112:
2813  0D29  21 00 00    	ld	hl,_s_state
2814  0D2C  CB 4E       	bit	1, (hl)
2815  0D2E  28 05       	jr	Z,l_enemy_walk_00114
2816  0D30  CD 00 00    	call	_spr_move_down
2817  0D33  18 03       	jr	l_enemy_walk_00115
2818  0D35              l_enemy_walk_00114:
2819  0D35  CD 00 00    	call	_spr_move_up
2820  0D38              l_enemy_walk_00115:
2821  0D38  2A 00 00    	ld	hl,(_sprite)
2822  0D3B  26 00       	ld	h,0x00
2823  0D3D  01 00 00    	ld	bc,_sprite_speed_alt
2824  0D40  09          	add	hl,bc
2825  0D41  36 01       	ld	(hl),0x01
2826  0D43  21 00 00    	ld	hl,_tmp
2827  0D46  36 01       	ld	(hl),0x01
2828  0D48  2A 00 00    	ld	hl,(_sprite)
2829  0D4B  26 00       	ld	h,0x00
2830  0D4D  01 00 00    	ld	bc,_col
2831  0D50  09          	add	hl,bc
2832  0D51  46          	ld	b, (hl)
2833  0D52  04          	inc	b
2834  0D53  3A 00 00    	ld	a,(_sprite)
2835  0D56  5F          	ld	e,a
2836  0D57  16 00       	ld	d,0x00
2837  0D59  21 00 00    	ld	hl,_lin
2838  0D5C  19          	add	hl,de
2839  0D5D  7E          	ld	a,(hl)
2840  0D5E  C6 10       	add	a,0x10
2841  0D60  4F          	ld	c,a
2842  0D61  C5          	push	bc
2843  0D62  CD 00 00    	call	_spr_calc_index
2844  0D65  F1          	pop	af
2845  0D66  CD 00 00    	call	_game_check_maze
2846  0D69  7D          	ld	a,l
2847  0D6A  32 00 00    	ld	(_tmp0),a
2848  0D6D  2A 00 00    	ld	hl,(_sprite)
2849  0D70  26 00       	ld	h,0x00
2850  0D72  01 00 00    	ld	bc,_col
2851  0D75  09          	add	hl,bc
2852  0D76  46          	ld	b, (hl)
2853  0D77  05          	dec	b
2854  0D78  3A 00 00    	ld	a,(_sprite)
2855  0D7B  5F          	ld	e,a
2856  0D7C  16 00       	ld	d,0x00
2857  0D7E  21 00 00    	ld	hl,_lin
2858  0D81  19          	add	hl,de
2859  0D82  7E          	ld	a,(hl)
2860  0D83  C6 10       	add	a,0x10
2861  0D85  4F          	ld	c,a
2862  0D86  C5          	push	bc
2863  0D87  CD 00 00    	call	_spr_calc_index
2864  0D8A  F1          	pop	af
2865  0D8B  CD 00 00    	call	_game_check_maze
2866  0D8E  7D          	ld	a,l
2867  0D8F  32 00 00    	ld	(_tmp1),a
2868  0D92  3A 00 00    	ld	a,(_tmp0)
2869  0D95  B7          	or	a, a
2870  0D96  20 06       	jr	NZ,l_enemy_walk_00134
2871  0D98  3A 00 00    	ld	a,(_tmp1)
2872  0D9B  B7          	or	a, a
2873  0D9C  28 04       	jr	Z,l_enemy_walk_00135
2874  0D9E              l_enemy_walk_00134:
2875  0D9E  0E 00       	ld	c,0x00
2876  0DA0  18 02       	jr	l_enemy_walk_00136
2877  0DA2              l_enemy_walk_00135:
2878  0DA2  0E 01       	ld	c,0x01
2879  0DA4              l_enemy_walk_00136:
2880  0DA4  21 00 00    	ld	hl,_tmp
2881  0DA7  71          	ld	(hl),c
2882  0DA8  79          	ld	a,c
2883  0DA9  B7          	or	a, a
2884  0DAA  CA 5D 0E    	jp	Z, l_enemy_walk_00132
2885  0DAD  2A 00 00    	ld	hl,(_sprite)
2886  0DB0  26 00       	ld	h,0x00
2887  0DB2  5D          	ld	e,l
2888  0DB3  01 00 00    	ld	bc,_lin
2889  0DB6  09          	add	hl,bc
2890  0DB7  4E          	ld	c,(hl)
2891  0DB8  06 00       	ld	b,0x00
2892  0DBA  50          	ld	d,b
2893  0DBB  21 00 00    	ld	hl,_jump_lin
2894  0DBE  19          	add	hl,de
2895  0DBF  5E          	ld	e, (hl)
2896  0DC0  16 00       	ld	d,0x00
2897  0DC2  79          	ld	a, c
2898  0DC3  93          	sub	a, e
2899  0DC4  4F          	ld	c, a
2900  0DC5  78          	ld	a, b
2901  0DC6  9A          	sbc	a, d
2902  0DC7  47          	ld	b, a
2903  0DC8  3E 08       	ld	a,0x08
2904  0DCA  B9          	cp	a, c
2905  0DCB  3E 00       	ld	a,0x00
2906  0DCD  98          	sbc	a, b
2907  0DCE  E2 D3 0D    	jp	PO, l_enemy_walk_00207
2908  0DD1  EE 80       	xor	a,0x80
2909  0DD3              l_enemy_walk_00207:
2910  0DD3  FA 5D 0E    	jp	M, l_enemy_walk_00132
2911  0DD6  CD 00 00    	call	_spr_move_horizontal
2912  0DD9  C3 5D 0E    	jp	l_enemy_walk_00132
2913  0DDC              l_enemy_walk_00130:
2914  0DDC  21 00 00    	ld	hl,_s_state
2915  0DDF  CB 4E       	bit	1, (hl)
2916  0DE1  28 1B       	jr	Z,l_enemy_walk_00120
2917  0DE3  21 00 00    	ld	hl,_s_state
2918  0DE6  CB 8E       	res	1, (hl)
2919  0DE8  2A 00 00    	ld	hl,(_sprite)
2920  0DEB  26 00       	ld	h,0x00
2921  0DED  01 00 00    	ld	bc,_jump_lin
2922  0DF0  09          	add	hl,bc
2923  0DF1  AF          	xor	a,a
2924  0DF2  77          	ld	(hl),a
2925  0DF3  2A 00 00    	ld	hl,(_sprite)
2926  0DF6  26 00       	ld	h,0x00
2927  0DF8  01 00 00    	ld	bc,_sprite_speed_alt
2928  0DFB  09          	add	hl,bc
2929  0DFC  AF          	xor	a,a
2930  0DFD  77          	ld	(hl),a
2931  0DFE              l_enemy_walk_00120:
2932  0DFE  2A 00 00    	ld	hl,(_sprite)
2933  0E01  26 00       	ld	h,0x00
2934  0E03  01 00 00    	ld	bc,_state_a
2935  0E06  09          	add	hl,bc
2936  0E07  CB 4E       	bit	1,(hl)
2937  0E09  20 0F       	jr	NZ,l_enemy_walk_00127
2938  0E0B  3A 00 00    	ld	a,(_loop_count)
2939  0E0E  E6 03       	and	a,0x03
2940  0E10  20 03       	jr	NZ,l_enemy_walk_00122
2941  0E12  CD 4E 00    	call	_enemy_collision
2942  0E15              l_enemy_walk_00122:
2943  0E15  CD 00 00    	call	_spr_move_horizontal
2944  0E18  18 43       	jr	l_enemy_walk_00132
2945  0E1A              l_enemy_walk_00127:
2946  0E1A  01 00 00    	ld	bc,_spr_timer+0
2947  0E1D  2A 00 00    	ld	hl,(_sprite)
2948  0E20  26 00       	ld	h,0x00
2949  0E22  29          	add	hl, hl
2950  0E23  09          	add	hl,bc
2951  0E24  ED 5B 00 00 	ld	de,(_curr_time)
2952  0E28  73          	ld	(hl),e
2953  0E29  23          	inc	hl
2954  0E2A  72          	ld	(hl),d
2955  0E2B  2A 00 00    	ld	hl,(_sprite)
2956  0E2E  26 00       	ld	h,0x00
2957  0E30  01 00 00    	ld	bc,_colint
2958  0E33  09          	add	hl,bc
2959  0E34  7E          	ld	a,(hl)
2960  0E35  FE 02       	cp	a,0x02
2961  0E37  30 04       	jr	NC,l_enemy_walk_00124
2962  0E39  3C          	inc	a
2963  0E3A  77          	ld	(hl),a
2964  0E3B  18 20       	jr	l_enemy_walk_00132
2965  0E3D              l_enemy_walk_00124:
2966  0E3D  2A 00 00    	ld	hl,(_sprite)
2967  0E40  26 00       	ld	h,0x00
2968  0E42  01 00 00    	ld	bc,_state_a
2969  0E45  09          	add	hl,bc
2970  0E46  7E          	ld	a,(hl)
2971  0E47  E6 FD       	and	a,0xfd
2972  0E49  77          	ld	(hl),a
2973  0E4A  2A 00 00    	ld	hl,(_sprite)
2974  0E4D  26 00       	ld	h,0x00
2975  0E4F  01 00 00    	ld	bc,_tile
2976  0E52  09          	add	hl,bc
2977  0E53  E5          	push	hl
2978  0E54  2A 00 00    	ld	hl,(_sprite)
2979  0E57  CD 00 00    	call	_spr_tile
2980  0E5A  C1          	pop	bc
2981  0E5B  7D          	ld	a,l
2982  0E5C  02          	ld	(bc), a
2983  0E5D              l_enemy_walk_00132:
2984  0E5D  C9          	ret
2985  0E5E              	SECTION code_compiler
2986  0E5E              ;	---------------------------------
2987  0E5E              ; Function enemy_init
2988  0E5E              ; ---------------------------------
2989  0E5E              _enemy_init:
2990  0E5E  CD 00 00    	call	___sdcc_enter_ix
2991  0E61  21 00 00    	ld	hl,_spr_count
2992  0E64  34          	inc	(hl)
2993  0E65  3E 00       	ld	a, +((_class) & 0xFF)
2994  0E67  DD 86 04    	add	a,(ix+4)
2995  0E6A  4F          	ld	c, a
2996  0E6B  3E 00       	ld	a, +((_class) / 256)
2997  0E6D  CE 00       	adc	a,0x00
2998  0E6F  47          	ld	b, a
2999  0E70  DD 7E 07    	ld	a,(ix+7)
3000  0E73  02          	ld	(bc), a
3001  0E74  3E 00       	ld	a, +((_lin) & 0xFF)
3002  0E76  DD 86 04    	add	a,(ix+4)
3003  0E79  4F          	ld	c, a
3004  0E7A  3E 00       	ld	a, +((_lin) / 256)
3005  0E7C  CE 00       	adc	a,0x00
3006  0E7E  47          	ld	b, a
3007  0E7F  DD 7E 05    	ld	a,(ix+5)
3008  0E82  02          	ld	(bc), a
3009  0E83  3E 00       	ld	a, +((_col) & 0xFF)
3010  0E85  DD 86 04    	add	a,(ix+4)
3011  0E88  4F          	ld	c, a
3012  0E89  3E 00       	ld	a, +((_col) / 256)
3013  0E8B  CE 00       	adc	a,0x00
3014  0E8D  47          	ld	b, a
3015  0E8E  DD 7E 06    	ld	a,(ix+6)
3016  0E91  02          	ld	(bc), a
3017  0E92  21 00 00    	ld	hl,_tmp
3018  0E95  36 00       	ld	(hl),0x00
3019  0E97  3E 00       	ld	a, +((_state) & 0xFF)
3020  0E99  DD 86 04    	add	a,(ix+4)
3021  0E9C  4F          	ld	c, a
3022  0E9D  3E 00       	ld	a, +((_state) / 256)
3023  0E9F  CE 00       	adc	a,0x00
3024  0EA1  47          	ld	b, a
3025  0EA2  AF          	xor	a, a
3026  0EA3  02          	ld	(bc), a
3027  0EA4  3E 00       	ld	a, +((_state_a) & 0xFF)
3028  0EA6  DD 86 04    	add	a,(ix+4)
3029  0EA9  5F          	ld	e, a
3030  0EAA  3E 00       	ld	a, +((_state_a) / 256)
3031  0EAC  CE 00       	adc	a,0x00
3032  0EAE  57          	ld	d, a
3033  0EAF  AF          	xor	a, a
3034  0EB0  12          	ld	(de), a
3035  0EB1  3E 00       	ld	a, +((_jump_lin) & 0xFF)
3036  0EB3  DD 86 04    	add	a,(ix+4)
3037  0EB6  5F          	ld	e, a
3038  0EB7  3E 00       	ld	a, +((_jump_lin) / 256)
3039  0EB9  CE 00       	adc	a,0x00
3040  0EBB  57          	ld	d, a
3041  0EBC  AF          	xor	a, a
3042  0EBD  12          	ld	(de), a
3043  0EBE  DD 7E 08    	ld	a,(ix+8)
3044  0EC1  3D          	dec	a
3045  0EC2  20 04       	jr	NZ,l_enemy_init_00102
3046  0EC4  0A          	ld	a, (bc)
3047  0EC5  F6 04       	or	a,0x04
3048  0EC7  02          	ld	(bc), a
3049  0EC8              l_enemy_init_00102:
3050  0EC8  DD 7E 08    	ld	a,(ix+8)
3051  0ECB  3C          	inc	a
3052  0ECC  20 04       	jr	NZ,l_enemy_init_00104
3053  0ECE  0A          	ld	a, (bc)
3054  0ECF  F6 08       	or	a,0x08
3055  0ED1  02          	ld	(bc), a
3056  0ED2              l_enemy_init_00104:
3057  0ED2  3E 00       	ld	a, +((_colint) & 0xFF)
3058  0ED4  DD 86 04    	add	a,(ix+4)
3059  0ED7  4F          	ld	c, a
3060  0ED8  3E 00       	ld	a, +((_colint) / 256)
3061  0EDA  CE 00       	adc	a,0x00
3062  0EDC  47          	ld	b, a
3063  0EDD  AF          	xor	a, a
3064  0EDE  02          	ld	(bc), a
3065  0EDF  3E 00       	ld	a, +((_tile) & 0xFF)
3066  0EE1  DD 86 04    	add	a,(ix+4)
3067  0EE4  4F          	ld	c, a
3068  0EE5  3E 00       	ld	a, +((_tile) / 256)
3069  0EE7  CE 00       	adc	a,0x00
3070  0EE9  47          	ld	b, a
3071  0EEA  C5          	push	bc
3072  0EEB  DD 6E 04    	ld	l,(ix+4)
3073  0EEE  CD 00 00    	call	_spr_tile
3074  0EF1  C1          	pop	bc
3075  0EF2  7D          	ld	a,l
3076  0EF3  02          	ld	(bc), a
3077  0EF4  DD 6E 04    	ld	l,(ix+4)
3078  0EF7  26 00       	ld	h,0x00
3079  0EF9  29          	add	hl,hl
3080  0EFA  4D          	ld	c,l
3081  0EFB  44          	ld	b,h
3082  0EFC  21 00 00    	ld	hl,_last_time
3083  0EFF  09          	add	hl, bc
3084  0F00  AF          	xor	a, a
3085  0F01  77          	ld	(hl), a
3086  0F02  23          	inc	hl
3087  0F03  77          	ld	(hl), a
3088  0F04  21 00 00    	ld	hl,_spr_timer
3089  0F07  09          	add	hl,bc
3090  0F08  ED 5B 00 00 	ld	de,(_curr_time)
3091  0F0C  73          	ld	(hl),e
3092  0F0D  23          	inc	hl
3093  0F0E  72          	ld	(hl),d
3094  0F0F  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3095  0F11  DD 86 04    	add	a,(ix+4)
3096  0F14  4F          	ld	c, a
3097  0F15  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3098  0F17  CE 00       	adc	a,0x00
3099  0F19  47          	ld	b, a
3100  0F1A  AF          	xor	a, a
3101  0F1B  02          	ld	(bc), a
3102  0F1C  DD E1       	pop	ix
3103  0F1E  C9          	ret
3104  0F1F              	SECTION code_compiler
3105  0F1F              ;	---------------------------------
3106  0F1F              ; Function enemy_kill
3107  0F1F              ; ---------------------------------
3108  0F1F              _enemy_kill:
3109  0F1F  CD 00 00    	call	___sdcc_enter_ix
3110  0F22  F5          	push	af
3111  0F23  F5          	push	af
3112  0F24  DD 75 FF    	ld	(ix-1),l
3113  0F27  76          	halt
3114  0F28  CD 00 00    	call	_sound_kill
3115  0F2B  2A 00 00    	ld	hl,(_sprite)
3116  0F2E  26 00       	ld	h,0x00
3117  0F30  01 00 00    	ld	bc,_state
3118  0F33  09          	add	hl,bc
3119  0F34  5E          	ld	e, (hl)
3120  0F35  3E 00       	ld	a, +((_state) & 0xFF)
3121  0F37  DD 86 FF    	add	a,(ix-1)
3122  0F3A  4F          	ld	c, a
3123  0F3B  3E 00       	ld	a, +((_state) / 256)
3124  0F3D  CE 00       	adc	a,0x00
3125  0F3F  47          	ld	b, a
3126  0F40  0A          	ld	a, (bc)
3127  0F41  CB 5B       	bit	3, e
3128  0F43  28 07       	jr	Z,l_enemy_kill_00102
3129  0F45  F6 08       	or	a,0x08
3130  0F47  E6 FB       	and	a,0xfb
3131  0F49  02          	ld	(bc),a
3132  0F4A  18 05       	jr	l_enemy_kill_00103
3133  0F4C              l_enemy_kill_00102:
3134  0F4C  F6 04       	or	a,0x04
3135  0F4E  E6 F7       	and	a,0xf7
3136  0F50  02          	ld	(bc),a
3137  0F51              l_enemy_kill_00103:
3138  0F51  3E 00       	ld	a, +((_class) & 0xFF)
3139  0F53  DD 86 FF    	add	a,(ix-1)
3140  0F56  5F          	ld	e, a
3141  0F57  3E 00       	ld	a, +((_class) / 256)
3142  0F59  CE 00       	adc	a,0x00
3143  0F5B  57          	ld	d, a
3144  0F5C  1A          	ld	a, (de)
3145  0F5D  D6 09       	sub	a,0x09
3146  0F5F  20 03       	jr	NZ,l_enemy_kill_00105
3147  0F61  3E 01       	ld	a,0x01
3148  0F63  12          	ld	(de), a
3149  0F64              l_enemy_kill_00105:
3150  0F64  0A          	ld	a, (bc)
3151  0F65  F6 20       	or	a,0x20
3152  0F67  02          	ld	(bc), a
3153  0F68  1A          	ld	a, (de)
3154  0F69  DD 77 FE    	ld	(ix-2),a
3155  0F6C  0A          	ld	a, (bc)
3156  0F6D  6F          	ld	l, a
3157  0F6E  3E 06       	ld	a,0x06
3158  0F70  DD 96 FE    	sub	a,(ix-2)
3159  0F73  38 06       	jr	C,l_enemy_kill_00107
3160  0F75  7D          	ld	a, l
3161  0F76  F6 01       	or	a,0x01
3162  0F78  02          	ld	(bc), a
3163  0F79  18 04       	jr	l_enemy_kill_00108
3164  0F7B              l_enemy_kill_00107:
3165  0F7B  7D          	ld	a, l
3166  0F7C  E6 FE       	and	a,0xfe
3167  0F7E  02          	ld	(bc), a
3168  0F7F              l_enemy_kill_00108:
3169  0F7F  01 00 00    	ld	bc,_sprite_speed_alt+0
3170  0F82  DD 6E FF    	ld	l,(ix-1)
3171  0F85  26 00       	ld	h,0x00
3172  0F87  09          	add	hl, bc
3173  0F88  36 08       	ld	(hl),0x08
3174  0F8A  21 00 00    	ld	hl,_hit_count
3175  0F8D  46          	ld	b,(hl)
3176  0F8E  04          	inc	b
3177  0F8F  70          	ld	(hl),b
3178  0F90  04          	inc	b
3179  0F91  21 50 00    	ld	hl,0x0050
3180  0F94  18 01       	jr	l_enemy_kill_00180
3181  0F96              l_enemy_kill_00179:
3182  0F96  29          	add	hl, hl
3183  0F97              l_enemy_kill_00180:
3184  0F97  10 FD       	djnz	l_enemy_kill_00179
3185  0F99  D5          	push	de
3186  0F9A  CD 00 00    	call	_player_score_add
3187  0F9D  D1          	pop	de
3188  0F9E  01 00 00    	ld	bc,_spr_timer+0
3189  0FA1  DD 6E FF    	ld	l,(ix-1)
3190  0FA4  26 00       	ld	h,0x00
3191  0FA6  29          	add	hl, hl
3192  0FA7  09          	add	hl,bc
3193  0FA8  E3          	ex	(sp), hl
3194  0FA9  E1          	pop	hl
3195  0FAA  ED 4B 00 00 	ld	bc,(_curr_time)
3196  0FAE  E5          	push	hl
3197  0FAF  71          	ld	(hl), c
3198  0FB0  23          	inc	hl
3199  0FB1  70          	ld	(hl), b
3200  0FB2  3E 00       	ld	a, +((_jump_lin) & 0xFF)
3201  0FB4  DD 86 FF    	add	a,(ix-1)
3202  0FB7  4F          	ld	c, a
3203  0FB8  3E 00       	ld	a, +((_jump_lin) / 256)
3204  0FBA  CE 00       	adc	a,0x00
3205  0FBC  47          	ld	b, a
3206  0FBD  3E 00       	ld	a, +((_lin) & 0xFF)
3207  0FBF  DD 86 FF    	add	a,(ix-1)
3208  0FC2  6F          	ld	l, a
3209  0FC3  3E 00       	ld	a, +((_lin) / 256)
3210  0FC5  CE 00       	adc	a,0x00
3211  0FC7  67          	ld	h, a
3212  0FC8  7E          	ld	a, (hl)
3213  0FC9  02          	ld	(bc), a
3214  0FCA  1A          	ld	a, (de)
3215  0FCB  4F          	ld	c, a
3216  0FCC  3E 06       	ld	a,0x06
3217  0FCE  91          	sub	a, c
3218  0FCF  38 67       	jr	C,l_enemy_kill_00117
3219  0FD1  3A 00 00    	ld	a,(_game_type)
3220  0FD4  D6 02       	sub	a,0x02
3221  0FD6  28 60       	jr	Z,l_enemy_kill_00117
3222  0FD8  21 00 00    	ld	hl,_phase_left
3223  0FDB  7E          	ld	a,(hl)
3224  0FDC  3D          	dec	a
3225  0FDD  77          	ld	(hl),a
3226  0FDE  3D          	dec	a
3227  0FDF  20 53       	jr	NZ,l_enemy_kill_00115
3228  0FE1  21 00 00    	ld	hl,_phase_angry
3229  0FE4  36 01       	ld	(hl),0x01
3230  0FE6  21 00 00    	ld	hl,_tmp0
3231  0FE9  36 00       	ld	(hl),0x00
3232  0FEB              l_enemy_kill_00124:
3233  0FEB  2A 00 00    	ld	hl,(_tmp0)
3234  0FEE  26 00       	ld	h,0x00
3235  0FF0  01 00 00    	ld	bc,_class
3236  0FF3  09          	add	hl,bc
3237  0FF4  7E          	ld	a,(hl)
3238  0FF5  4F          	ld	c,a
3239  0FF6  B7          	or	a,a
3240  0FF7  28 31       	jr	Z,l_enemy_kill_00125
3241  0FF9  3E 09       	ld	a,0x09
3242  0FFB  91          	sub	a,c
3243  0FFC  38 2C       	jr	C,l_enemy_kill_00125
3244  0FFE  2A 00 00    	ld	hl,(_tmp0)
3245  1001  26 00       	ld	h,0x00
3246  1003  01 00 00    	ld	bc,_state
3247  1006  09          	add	hl,bc
3248  1007  CB 6E       	bit	5,(hl)
3249  1009  20 1F       	jr	NZ,l_enemy_kill_00125
3250  100B  2A 00 00    	ld	hl,(_tmp0)
3251  100E  CD 1F 0C    	call	_enemy_evolve
3252  1011  2A 00 00    	ld	hl,(_tmp0)
3253  1014  CD 1F 0C    	call	_enemy_evolve
3254  1017  2A 00 00    	ld	hl,(_tmp0)
3255  101A  26 00       	ld	h,0x00
3256  101C  01 00 00    	ld	bc,_tile
3257  101F  09          	add	hl,bc
3258  1020  E5          	push	hl
3259  1021  2A 00 00    	ld	hl,(_tmp0)
3260  1024  CD 00 00    	call	_spr_tile
3261  1027  C1          	pop	bc
3262  1028  7D          	ld	a,l
3263  1029  02          	ld	(bc), a
3264  102A              l_enemy_kill_00125:
3265  102A  21 00 00    	ld	hl,_tmp0
3266  102D  7E          	ld	a,(hl)
3267  102E  3C          	inc	a
3268  102F  77          	ld	(hl),a
3269  1030  D6 06       	sub	a,0x06
3270  1032  38 B7       	jr	C,l_enemy_kill_00124
3271  1034              l_enemy_kill_00115:
3272  1034  21 00 00    	ld	hl,_phase_coins
3273  1037  34          	inc	(hl)
3274  1038              l_enemy_kill_00117:
3275  1038  3A 00 00    	ld	a,(_phase_left)
3276  103B  B7          	or	a, a
3277  103C  28 08       	jr	Z,l_enemy_kill_00122
3278  103E  21 00 00    	ld	hl,_ay_effect_11
3279  1041  CD 00 00    	call	_ay_fx_play
3280  1044  18 0F       	jr	l_enemy_kill_00126
3281  1046              l_enemy_kill_00122:
3282  1046  CD 00 00    	call	_ay_reset
3283  1049  3A 00 00    	ld	a,(_game_bonus)
3284  104C  B7          	or	a, a
3285  104D  20 06       	jr	NZ,l_enemy_kill_00126
3286  104F  21 00 00    	ld	hl,_ay_effect_17
3287  1052  CD 00 00    	call	_ay_fx_play
3288  1055              l_enemy_kill_00126:
3289  1055  DD F9       	ld	sp, ix
3290  1057  DD E1       	pop	ix
3291  1059  C9          	ret
3292  105A              	SECTION IGNORE
3293  0000              
