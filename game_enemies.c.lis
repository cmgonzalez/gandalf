1     0000              MODULE game_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _enemy_collision
189   0000              	GLOBAL _enemy_collision_turn_dir
190   0000              	GLOBAL _enemy_hit
191   0000              	GLOBAL _enemy_flip_change_dir
192   0000              	GLOBAL _enemy_flip
193   0000              	GLOBAL _enemy_flip_sidestepper
194   0000              	GLOBAL _enemy_turn
195   0000              	GLOBAL _enemy_standard
196   0000              	GLOBAL _enemy_slipice
197   0000              	GLOBAL _enemy_fireball_red
198   0000              	GLOBAL _enemy_standard_hit
199   0000              	GLOBAL _enemy_evolve
200   0000              	GLOBAL _enemy_upgrade
201   0000              	GLOBAL _enemy_walk
202   0000              	GLOBAL _enemy_init
203   0000              	GLOBAL _enemy_kill
204   0000              ;--------------------------------------------------------
205   0000              ; Externals used
206   0000              ;--------------------------------------------------------
207   0000              	GLOBAL _debug3
208   0000              	GLOBAL _debug2
209   0000              	GLOBAL _debug
210   0000              	GLOBAL _zx_print_str
211   0000              	GLOBAL _zx_print_int
212   0000              	GLOBAL _zx_print_chr
213   0000              	GLOBAL _zx_print_bonus_time
214   0000              	GLOBAL _zx_isr
215   0000              	GLOBAL _z80_otdr_callee
216   0000              	GLOBAL _z80_otdr
217   0000              	GLOBAL _z80_otir_callee
218   0000              	GLOBAL _z80_otir
219   0000              	GLOBAL _z80_outp_callee
220   0000              	GLOBAL _z80_outp
221   0000              	GLOBAL _z80_indr_callee
222   0000              	GLOBAL _z80_indr
223   0000              	GLOBAL _z80_inir_callee
224   0000              	GLOBAL _z80_inir
225   0000              	GLOBAL _z80_inp_fastcall
226   0000              	GLOBAL _z80_inp
227   0000              	GLOBAL _z80_set_int_state_fastcall
228   0000              	GLOBAL _z80_set_int_state
229   0000              	GLOBAL _z80_get_int_state
230   0000              	GLOBAL _z80_delay_tstate_fastcall
231   0000              	GLOBAL _z80_delay_tstate
232   0000              	GLOBAL _z80_delay_ms_fastcall
233   0000              	GLOBAL _z80_delay_ms
234   0000              	GLOBAL _im2_remove_generic_callback_callee
235   0000              	GLOBAL _im2_remove_generic_callback
236   0000              	GLOBAL _im2_prepend_generic_callback_callee
237   0000              	GLOBAL _im2_prepend_generic_callback
238   0000              	GLOBAL _im2_append_generic_callback_callee
239   0000              	GLOBAL _im2_append_generic_callback
240   0000              	GLOBAL _im2_create_generic_isr_8080_callee
241   0000              	GLOBAL _im2_create_generic_isr_8080
242   0000              	GLOBAL _im2_create_generic_isr_callee
243   0000              	GLOBAL _im2_create_generic_isr
244   0000              	GLOBAL _im2_install_isr_callee
245   0000              	GLOBAL _im2_install_isr
246   0000              	GLOBAL _im2_init_fastcall
247   0000              	GLOBAL _im2_init
248   0000              	GLOBAL _zx_pattern_fill_callee
249   0000              	GLOBAL _zx_pattern_fill
250   0000              	GLOBAL _zx_saddrpup_fastcall
251   0000              	GLOBAL _zx_saddrpup
252   0000              	GLOBAL _zx_saddrpright_callee
253   0000              	GLOBAL _zx_saddrpright
254   0000              	GLOBAL _zx_saddrpleft_callee
255   0000              	GLOBAL _zx_saddrpleft
256   0000              	GLOBAL _zx_saddrpdown_fastcall
257   0000              	GLOBAL _zx_saddrpdown
258   0000              	GLOBAL _zx_saddrcup_fastcall
259   0000              	GLOBAL _zx_saddrcup
260   0000              	GLOBAL _zx_saddrcright_fastcall
261   0000              	GLOBAL _zx_saddrcright
262   0000              	GLOBAL _zx_saddrcleft_fastcall
263   0000              	GLOBAL _zx_saddrcleft
264   0000              	GLOBAL _zx_saddrcdown_fastcall
265   0000              	GLOBAL _zx_saddrcdown
266   0000              	GLOBAL _zx_saddr2py_fastcall
267   0000              	GLOBAL _zx_saddr2py
268   0000              	GLOBAL _zx_saddr2px_fastcall
269   0000              	GLOBAL _zx_saddr2px
270   0000              	GLOBAL _zx_saddr2cy_fastcall
271   0000              	GLOBAL _zx_saddr2cy
272   0000              	GLOBAL _zx_saddr2cx_fastcall
273   0000              	GLOBAL _zx_saddr2cx
274   0000              	GLOBAL _zx_saddr2aaddr_fastcall
275   0000              	GLOBAL _zx_saddr2aaddr
276   0000              	GLOBAL _zx_py2saddr_fastcall
277   0000              	GLOBAL _zx_py2saddr
278   0000              	GLOBAL _zx_py2aaddr_fastcall
279   0000              	GLOBAL _zx_py2aaddr
280   0000              	GLOBAL _zx_pxy2saddr_callee
281   0000              	GLOBAL _zx_pxy2saddr
282   0000              	GLOBAL _zx_pxy2aaddr_callee
283   0000              	GLOBAL _zx_pxy2aaddr
284   0000              	GLOBAL _zx_px2bitmask_fastcall
285   0000              	GLOBAL _zx_px2bitmask
286   0000              	GLOBAL _zx_cy2saddr_fastcall
287   0000              	GLOBAL _zx_cy2saddr
288   0000              	GLOBAL _zx_cy2aaddr_fastcall
289   0000              	GLOBAL _zx_cy2aaddr
290   0000              	GLOBAL _zx_cxy2saddr_callee
291   0000              	GLOBAL _zx_cxy2saddr
292   0000              	GLOBAL _zx_cxy2aaddr_callee
293   0000              	GLOBAL _zx_cxy2aaddr
294   0000              	GLOBAL _zx_bitmask2px_fastcall
295   0000              	GLOBAL _zx_bitmask2px
296   0000              	GLOBAL _zx_aaddrcup_fastcall
297   0000              	GLOBAL _zx_aaddrcup
298   0000              	GLOBAL _zx_aaddrcright_fastcall
299   0000              	GLOBAL _zx_aaddrcright
300   0000              	GLOBAL _zx_aaddrcleft_fastcall
301   0000              	GLOBAL _zx_aaddrcleft
302   0000              	GLOBAL _zx_aaddrcdown_fastcall
303   0000              	GLOBAL _zx_aaddrcdown
304   0000              	GLOBAL _zx_aaddr2saddr_fastcall
305   0000              	GLOBAL _zx_aaddr2saddr
306   0000              	GLOBAL _zx_aaddr2py_fastcall
307   0000              	GLOBAL _zx_aaddr2py
308   0000              	GLOBAL _zx_aaddr2px_fastcall
309   0000              	GLOBAL _zx_aaddr2px
310   0000              	GLOBAL _zx_aaddr2cy_fastcall
311   0000              	GLOBAL _zx_aaddr2cy
312   0000              	GLOBAL _zx_aaddr2cx_fastcall
313   0000              	GLOBAL _zx_aaddr2cx
314   0000              	GLOBAL _zx_visit_wc_pix_callee
315   0000              	GLOBAL _zx_visit_wc_pix
316   0000              	GLOBAL _zx_visit_wc_attr_callee
317   0000              	GLOBAL _zx_visit_wc_attr
318   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
319   0000              	GLOBAL _zx_scroll_wc_up_pix
320   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
321   0000              	GLOBAL _zx_scroll_wc_up_attr
322   0000              	GLOBAL _zx_scroll_wc_up_callee
323   0000              	GLOBAL _zx_scroll_wc_up
324   0000              	GLOBAL _zx_scroll_up_pix_callee
325   0000              	GLOBAL _zx_scroll_up_pix
326   0000              	GLOBAL _zx_scroll_up_attr_callee
327   0000              	GLOBAL _zx_scroll_up_attr
328   0000              	GLOBAL _zx_scroll_up_callee
329   0000              	GLOBAL _zx_scroll_up
330   0000              	GLOBAL _zx_cls_wc_pix_callee
331   0000              	GLOBAL _zx_cls_wc_pix
332   0000              	GLOBAL _zx_cls_wc_attr_callee
333   0000              	GLOBAL _zx_cls_wc_attr
334   0000              	GLOBAL _zx_cls_wc_callee
335   0000              	GLOBAL _zx_cls_wc
336   0000              	GLOBAL _zx_cls_pix_fastcall
337   0000              	GLOBAL _zx_cls_pix
338   0000              	GLOBAL _zx_cls_attr_fastcall
339   0000              	GLOBAL _zx_cls_attr
340   0000              	GLOBAL _zx_cls_fastcall
341   0000              	GLOBAL _zx_cls
342   0000              	GLOBAL _zx_border_fastcall
343   0000              	GLOBAL _zx_border
344   0000              	GLOBAL _sound_hit_brick
345   0000              	GLOBAL _sound_hit_enemy
346   0000              	GLOBAL _sound_kill
347   0000              	GLOBAL _sound_enter_enemy
348   0000              	GLOBAL _sound_coin
349   0000              	GLOBAL _sound_jump
350   0000              	GLOBAL _sound_slide
351   0000              	GLOBAL _spr_play_anim
352   0000              	GLOBAL _spr_add_anim
353   0000              	GLOBAL _spr_page_map
354   0000              	GLOBAL _spr_page_right
355   0000              	GLOBAL _spr_page_left
356   0000              	GLOBAL _spr_tile_paint
357   0000              	GLOBAL _spr_kill_all
358   0000              	GLOBAL _spr_collision_check
359   0000              	GLOBAL _spr_calc_hor
360   0000              	GLOBAL _spr_draw_row
361   0000              	GLOBAL _spr_draw_index
362   0000              	GLOBAL _spr_draw_clear
363   0000              	GLOBAL _spr_draw_background
364   0000              	GLOBAL _spr_brick_anim
365   0000              	GLOBAL _spr_back_paint
366   0000              	GLOBAL _spr_back_clr
367   0000              	GLOBAL _spr_tile
368   0000              	GLOBAL _spr_set_fall
369   0000              	GLOBAL _spr_destroy
370   0000              	GLOBAL _spr_tile_dir
371   0000              	GLOBAL _spr_anim_kill
372   0000              	GLOBAL _spr_killed
373   0000              	GLOBAL _spr_redraw
374   0000              	GLOBAL _spr_move_left
375   0000              	GLOBAL _spr_move_right
376   0000              	GLOBAL _spr_move_horizontal
377   0000              	GLOBAL _spr_move_down
378   0000              	GLOBAL _spr_move_jump
379   0000              	GLOBAL _spr_move_up
380   0000              	GLOBAL _spr_check_map_fall
381   0000              	GLOBAL _spr_check_map
382   0000              	GLOBAL _spr_calc_index
383   0000              	GLOBAL _spr_chktime
384   0000              	GLOBAL _player_pick_item
385   0000              	GLOBAL _player_check_floor
386   0000              	GLOBAL _player_hit_platform_clear
387   0000              	GLOBAL _player_lost_life
388   0000              	GLOBAL _player_score_add
389   0000              	GLOBAL _player_player_hit_pow
390   0000              	GLOBAL _player_hit_platform
391   0000              	GLOBAL _player_move_input
392   0000              	GLOBAL _player_turn
393   0000              	GLOBAL _player_move
394   0000              	GLOBAL _player_restart
395   0000              	GLOBAL _player_kill
396   0000              	GLOBAL _player_check_input
397   0000              	GLOBAL _player_collision
398   0000              	GLOBAL _player_init
399   0000              	GLOBAL _game_joystick_set_menu
400   0000              	GLOBAL _game_joystick_set
401   0000              	GLOBAL _game_joystick_change
402   0000              	GLOBAL _game_print_header
403   0000              	GLOBAL _game_end
404   0000              	GLOBAL _game_phase_print_score_back
405   0000              	GLOBAL _game_check_time
406   0000              	GLOBAL _game_rotate_attrib
407   0000              	GLOBAL _game_colour_message
408   0000              	GLOBAL _game_paint_attrib_lin_h
409   0000              	GLOBAL _game_paint_attrib_lin
410   0000              	GLOBAL _game_paint_attrib
411   0000              	GLOBAL _game_print_score
412   0000              	GLOBAL _game_unfreeze_all
413   0000              	GLOBAL _game_freeze_all
414   0000              	GLOBAL _game_freeze
415   0000              	GLOBAL _game_enemy_add_get_index
416   0000              	GLOBAL _game_check_maze_floor
417   0000              	GLOBAL _game_check_maze
418   0000              	GLOBAL _game_loop
419   0000              	GLOBAL _game_phase_init
420   0000              	GLOBAL _game_start_timer
421   0000              	GLOBAL _game_tick
422   0000              	GLOBAL _game_print_lives
423   0000              	GLOBAL _game_print_footer
424   0000              	GLOBAL _game_fill_row
425   0000              	GLOBAL _ay_fx_play
426   0000              	GLOBAL _ay_midi_play
427   0000              	GLOBAL _ay_is_playing
428   0000              	GLOBAL _ay_reset
429   0000              	GLOBAL _enemy_ugly_fix
430   0000              	GLOBAL _enemy_fighterfly
431   0000              	GLOBAL _enemy_fireball_green
432   0000              	GLOBAL _enemy_coin1
433   0000              	GLOBAL _test_func
434   0000              	GLOBAL _in_mouse_kempston_wheel_delta
435   0000              	GLOBAL _in_mouse_kempston_wheel
436   0000              	GLOBAL _in_mouse_kempston_callee
437   0000              	GLOBAL _in_mouse_kempston
438   0000              	GLOBAL _in_mouse_kempston_setpos_callee
439   0000              	GLOBAL _in_mouse_kempston_setpos
440   0000              	GLOBAL _in_mouse_kempston_reset
441   0000              	GLOBAL _in_mouse_kempston_init
442   0000              	GLOBAL _in_mouse_amx_wheel_delta
443   0000              	GLOBAL _in_mouse_amx_wheel
444   0000              	GLOBAL _in_mouse_amx_callee
445   0000              	GLOBAL _in_mouse_amx
446   0000              	GLOBAL _in_mouse_amx_setpos_callee
447   0000              	GLOBAL _in_mouse_amx_setpos
448   0000              	GLOBAL _in_mouse_amx_reset
449   0000              	GLOBAL _in_mouse_amx_init_callee
450   0000              	GLOBAL _in_mouse_amx_init
451   0000              	GLOBAL _in_stick_sinclair2
452   0000              	GLOBAL _in_stick_sinclair1
453   0000              	GLOBAL _in_stick_kempston
454   0000              	GLOBAL _in_stick_fuller
455   0000              	GLOBAL _in_stick_cursor
456   0000              	GLOBAL _in_stick_keyboard_fastcall
457   0000              	GLOBAL _in_stick_keyboard
458   0000              	GLOBAL _in_wait_nokey
459   0000              	GLOBAL _in_wait_key
460   0000              	GLOBAL _in_test_key
461   0000              	GLOBAL _in_pause_fastcall
462   0000              	GLOBAL _in_pause
463   0000              	GLOBAL _in_key_scancode_fastcall
464   0000              	GLOBAL _in_key_scancode
465   0000              	GLOBAL _in_key_pressed_fastcall
466   0000              	GLOBAL _in_key_pressed
467   0000              	GLOBAL _in_inkey
468   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
469   0000              	GLOBAL _NIRVANAP_drawTW_raw
470   0000              	GLOBAL _NIRVANAP_drawTW_callee
471   0000              	GLOBAL _NIRVANAP_drawTW
472   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
473   0000              	GLOBAL _NIRVANAP_drawW_raw
474   0000              	GLOBAL _NIRVANAP_drawW_callee
475   0000              	GLOBAL _NIRVANAP_drawW
476   0000              	GLOBAL _NIRVANAP_spriteT_callee
477   0000              	GLOBAL _NIRVANAP_spriteT
478   0000              	GLOBAL _NIRVANAP_fillC_callee
479   0000              	GLOBAL _NIRVANAP_fillC
480   0000              	GLOBAL _NIRVANAP_readC_callee
481   0000              	GLOBAL _NIRVANAP_readC
482   0000              	GLOBAL _NIRVANAP_paintC_callee
483   0000              	GLOBAL _NIRVANAP_paintC
484   0000              	GLOBAL _NIRVANAP_printC_callee
485   0000              	GLOBAL _NIRVANAP_printC
486   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
487   0000              	GLOBAL _NIRVANAP_fillT_raw
488   0000              	GLOBAL _NIRVANAP_fillT_callee
489   0000              	GLOBAL _NIRVANAP_fillT
490   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawT_raw
492   0000              	GLOBAL _NIRVANAP_drawT_callee
493   0000              	GLOBAL _NIRVANAP_drawT
494   0000              	GLOBAL _NIRVANAP_stop
495   0000              	GLOBAL _NIRVANAP_start
496   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
497   0000              	GLOBAL _intrinsic_swap_word_32
498   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
499   0000              	GLOBAL _intrinsic_swap_endian_32
500   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
501   0000              	GLOBAL _intrinsic_swap_endian_16
502   0000              	GLOBAL _intrinsic_return_de
503   0000              	GLOBAL _intrinsic_return_bc
504   0000              	GLOBAL _intrinsic_exx
505   0000              	GLOBAL _intrinsic_ex_de_hl
506   0000              	GLOBAL _intrinsic_nop
507   0000              	GLOBAL _intrinsic_im_2
508   0000              	GLOBAL _intrinsic_im_1
509   0000              	GLOBAL _intrinsic_im_0
510   0000              	GLOBAL _intrinsic_retn
511   0000              	GLOBAL _intrinsic_reti
512   0000              	GLOBAL _intrinsic_halt
513   0000              	GLOBAL _intrinsic_ei
514   0000              	GLOBAL _intrinsic_di
515   0000              	GLOBAL _intrinsic_stub
516   0000              	GLOBAL _intrinsic_outi
517   0000              	GLOBAL _intrinsic_ldi
518   0000              	GLOBAL _ulltoa_callee
519   0000              	GLOBAL _ulltoa
520   0000              	GLOBAL _strtoull_callee
521   0000              	GLOBAL _strtoull
522   0000              	GLOBAL _strtoll_callee
523   0000              	GLOBAL _strtoll
524   0000              	GLOBAL _lltoa_callee
525   0000              	GLOBAL _lltoa
526   0000              	GLOBAL _llabs_callee
527   0000              	GLOBAL _llabs
528   0000              	GLOBAL __lldivu__callee
529   0000              	GLOBAL __lldivu_
530   0000              	GLOBAL __lldiv__callee
531   0000              	GLOBAL __lldiv_
532   0000              	GLOBAL _atoll_callee
533   0000              	GLOBAL _atoll
534   0000              	GLOBAL _realloc_unlocked_callee
535   0000              	GLOBAL _realloc_unlocked
536   0000              	GLOBAL _malloc_unlocked_fastcall
537   0000              	GLOBAL _malloc_unlocked
538   0000              	GLOBAL _free_unlocked_fastcall
539   0000              	GLOBAL _free_unlocked
540   0000              	GLOBAL _calloc_unlocked_callee
541   0000              	GLOBAL _calloc_unlocked
542   0000              	GLOBAL _aligned_alloc_unlocked_callee
543   0000              	GLOBAL _aligned_alloc_unlocked
544   0000              	GLOBAL _realloc_callee
545   0000              	GLOBAL _realloc
546   0000              	GLOBAL _malloc_fastcall
547   0000              	GLOBAL _malloc
548   0000              	GLOBAL _free_fastcall
549   0000              	GLOBAL _free
550   0000              	GLOBAL _calloc_callee
551   0000              	GLOBAL _calloc
552   0000              	GLOBAL _aligned_alloc_callee
553   0000              	GLOBAL _aligned_alloc
554   0000              	GLOBAL _utoa_callee
555   0000              	GLOBAL _utoa
556   0000              	GLOBAL _ultoa_callee
557   0000              	GLOBAL _ultoa
558   0000              	GLOBAL _system_fastcall
559   0000              	GLOBAL _system
560   0000              	GLOBAL _strtoul_callee
561   0000              	GLOBAL _strtoul
562   0000              	GLOBAL _strtol_callee
563   0000              	GLOBAL _strtol
564   0000              	GLOBAL _strtof_callee
565   0000              	GLOBAL _strtof
566   0000              	GLOBAL _strtod_callee
567   0000              	GLOBAL _strtod
568   0000              	GLOBAL _srand_fastcall
569   0000              	GLOBAL _srand
570   0000              	GLOBAL _rand
571   0000              	GLOBAL _quick_exit_fastcall
572   0000              	GLOBAL _quick_exit
573   0000              	GLOBAL _qsort_callee
574   0000              	GLOBAL _qsort
575   0000              	GLOBAL _ltoa_callee
576   0000              	GLOBAL _ltoa
577   0000              	GLOBAL _labs_fastcall
578   0000              	GLOBAL _labs
579   0000              	GLOBAL _itoa_callee
580   0000              	GLOBAL _itoa
581   0000              	GLOBAL _ftoh_callee
582   0000              	GLOBAL _ftoh
583   0000              	GLOBAL _ftog_callee
584   0000              	GLOBAL _ftog
585   0000              	GLOBAL _ftoe_callee
586   0000              	GLOBAL _ftoe
587   0000              	GLOBAL _ftoa_callee
588   0000              	GLOBAL _ftoa
589   0000              	GLOBAL _exit_fastcall
590   0000              	GLOBAL _exit
591   0000              	GLOBAL _dtoh_callee
592   0000              	GLOBAL _dtoh
593   0000              	GLOBAL _dtog_callee
594   0000              	GLOBAL _dtog
595   0000              	GLOBAL _dtoe_callee
596   0000              	GLOBAL _dtoe
597   0000              	GLOBAL _dtoa_callee
598   0000              	GLOBAL _dtoa
599   0000              	GLOBAL _bsearch_callee
600   0000              	GLOBAL _bsearch
601   0000              	GLOBAL _atol_fastcall
602   0000              	GLOBAL _atol
603   0000              	GLOBAL _atoi_fastcall
604   0000              	GLOBAL _atoi
605   0000              	GLOBAL _atof_fastcall
606   0000              	GLOBAL _atof
607   0000              	GLOBAL _atexit_fastcall
608   0000              	GLOBAL _atexit
609   0000              	GLOBAL _at_quick_exit_fastcall
610   0000              	GLOBAL _at_quick_exit
611   0000              	GLOBAL _abs_fastcall
612   0000              	GLOBAL _abs
613   0000              	GLOBAL _abort
614   0000              	GLOBAL __strtou__callee
615   0000              	GLOBAL __strtou_
616   0000              	GLOBAL __strtoi__callee
617   0000              	GLOBAL __strtoi_
618   0000              	GLOBAL __random_uniform_xor_8__fastcall
619   0000              	GLOBAL __random_uniform_xor_8_
620   0000              	GLOBAL __random_uniform_xor_32__fastcall
621   0000              	GLOBAL __random_uniform_xor_32_
622   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
623   0000              	GLOBAL __random_uniform_cmwc_8_
624   0000              	GLOBAL __shellsort__callee
625   0000              	GLOBAL __shellsort_
626   0000              	GLOBAL __quicksort__callee
627   0000              	GLOBAL __quicksort_
628   0000              	GLOBAL __insertion_sort__callee
629   0000              	GLOBAL __insertion_sort_
630   0000              	GLOBAL __ldivu__callee
631   0000              	GLOBAL __ldivu_
632   0000              	GLOBAL __ldiv__callee
633   0000              	GLOBAL __ldiv_
634   0000              	GLOBAL __divu__callee
635   0000              	GLOBAL __divu_
636   0000              	GLOBAL __div__callee
637   0000              	GLOBAL __div_
638   0000              	GLOBAL _g_player_hit_right
639   0000              	GLOBAL _g_player_hit_left
640   0000              	GLOBAL _joynames
641   0000              	GLOBAL _initials
642   0000              	GLOBAL _anim_end
643   0000              	GLOBAL _anim_int
644   0000              	GLOBAL _anim_tile
645   0000              	GLOBAL _anim_col
646   0000              	GLOBAL _anim_lin
647   0000              	GLOBAL _phase_angry
648   0000              	GLOBAL _phase_curr
649   0000              	GLOBAL _phase_end
650   0000              	GLOBAL _phase_coins
651   0000              	GLOBAL _phase_pop
652   0000              	GLOBAL _phase_tot
653   0000              	GLOBAL _map_heigth
654   0000              	GLOBAL _map_width
655   0000              	GLOBAL _scr_curr
656   0000              	GLOBAL _scr_7
657   0000              	GLOBAL _scr_6
658   0000              	GLOBAL _scr_5
659   0000              	GLOBAL _scr_4
660   0000              	GLOBAL _scr_3
661   0000              	GLOBAL _scr_2
662   0000              	GLOBAL _scr_1
663   0000              	GLOBAL _scr_0
664   0000              	GLOBAL _scr_map
665   0000              	GLOBAL _sprite_speed_alt
666   0000              	GLOBAL _sprite_speed
667   0000              	GLOBAL _screen_ink
668   0000              	GLOBAL _screen_paper
669   0000              	GLOBAL _game_menu_sel
670   0000              	GLOBAL _game_type
671   0000              	GLOBAL _game_osd
672   0000              	GLOBAL _game_score_top
673   0000              	GLOBAL _player_lives
674   0000              	GLOBAL _game_over
675   0000              	GLOBAL _game_sound
676   0000              	GLOBAL _game_inmune
677   0000              	GLOBAL _game_god_mode
678   0000              	GLOBAL _game_start_phase
679   0000              	GLOBAL _game_two_player
680   0000              	GLOBAL _game_brick_tile
681   0000              	GLOBAL _sprite_curr_index
682   0000              	GLOBAL _spr_count
683   0000              	GLOBAL _osd_show_time
684   0000              	GLOBAL _osd_update_time
685   0000              	GLOBAL _frame_time
686   0000              	GLOBAL _entry_time
687   0000              	GLOBAL _curr_time
688   0000              	GLOBAL _s_state
689   0000              	GLOBAL _attrib_hl
690   0000              	GLOBAL _attrib
691   0000              	GLOBAL _zx_val_asm
692   0000              	GLOBAL _enemies
693   0000              	GLOBAL _tmp_ui
694   0000              	GLOBAL _tmp_sc
695   0000              	GLOBAL _tmp_uc
696   0000              	GLOBAL _tmp1
697   0000              	GLOBAL _tmp0
698   0000              	GLOBAL _tmp
699   0000              	GLOBAL _index1
700   0000              	GLOBAL _loop_count
701   0000              	GLOBAL _sprite_lin_inc_mul
702   0000              	GLOBAL _s_col1
703   0000              	GLOBAL _s_col0
704   0000              	GLOBAL _s_lin1
705   0000              	GLOBAL _s_lin0
706   0000              	GLOBAL _s_tile1
707   0000              	GLOBAL _s_tile0
708   0000              	GLOBAL _player_hit_count
709   0000              	GLOBAL _sprite
710   0000              	GLOBAL _game_gravity
711   0000              	GLOBAL _player_vel_y0
712   0000              	GLOBAL _player_vel_y
713   0000              	GLOBAL _player_vel_x
714   0000              	GLOBAL _player_joy
715   0000              	GLOBAL _player_score
716   0000              	GLOBAL _last_time
717   0000              	GLOBAL _player_slide
718   0000              	GLOBAL _spr_timer
719   0000              	GLOBAL _jump_lin
720   0000              	GLOBAL _player_hit_col
721   0000              	GLOBAL _player_hit_lin
722   0000              	GLOBAL _colint
723   0000              	GLOBAL _col
724   0000              	GLOBAL _lin
725   0000              	GLOBAL _tile
726   0000              	GLOBAL _state_a
727   0000              	GLOBAL _state
728   0000              	GLOBAL _class
729   0000              	GLOBAL _tbuffer
730   0000              	GLOBAL _dirs
731   0000              	GLOBAL _k1
732   0000              	GLOBAL _joyfunc1
733   0000              	GLOBAL _btiles
734   0000              	GLOBAL _spec128
735   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
736   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
737   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
738   0000              	GLOBAL _ay_effect_20
739   0000              	GLOBAL _ay_effect_19
740   0000              	GLOBAL _ay_effect_18
741   0000              	GLOBAL _ay_effect_17
742   0000              	GLOBAL _ay_effect_16
743   0000              	GLOBAL _ay_effect_15
744   0000              	GLOBAL _ay_effect_14
745   0000              	GLOBAL _ay_effect_13
746   0000              	GLOBAL _ay_effect_12
747   0000              	GLOBAL _ay_effect_11
748   0000              	GLOBAL _ay_effect_10
749   0000              	GLOBAL _ay_effect_09
750   0000              	GLOBAL _ay_effect_08
751   0000              	GLOBAL _ay_effect_07
752   0000              	GLOBAL _ay_effect_06
753   0000              	GLOBAL _ay_effect_05
754   0000              	GLOBAL _ay_effect_04
755   0000              	GLOBAL _ay_effect_03
756   0000              	GLOBAL _ay_effect_02
757   0000              	GLOBAL _ay_effect_01
758   0000              	GLOBAL _pb_midi_phase_1
759   0000              	GLOBAL _pb_midi_title
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _control_method
766   0000              ;--------------------------------------------------------
767   0000              ; special function registers
768   0000              ;--------------------------------------------------------
769   0000              defc _IO_FE	=	0x00fe
770   0000              defc _IO_1FFD	=	0x1ffd
771   0000              defc _IO_7FFD	=	0x7ffd
772   0000              ;--------------------------------------------------------
773   0000              ; ram data
774   0000              ;--------------------------------------------------------
775   0000              	SECTION bss_compiler
776   0000              ;--------------------------------------------------------
777   0000              ; ram data
778   0000              ;--------------------------------------------------------
779   0000              
780   0000              IF 0
781   0000              
782   0000              ; .area _INITIALIZED removed by z88dk
783   0000              
784   0000              
785   0000              ENDIF
786   0000              
787   0000              ;--------------------------------------------------------
788   0000              ; absolute external ram data
789   0000              ;--------------------------------------------------------
790   0000              	SECTION IGNORE
791   0000              ;--------------------------------------------------------
792   0000              ; global & static initialisations
793   0000              ;--------------------------------------------------------
794   0000              	SECTION code_crt_init
795   0000              ;--------------------------------------------------------
796   0000              ; Home
797   0000              ;--------------------------------------------------------
798   0000              	SECTION IGNORE
799   0000              ;--------------------------------------------------------
800   0000              ; code
801   0000              ;--------------------------------------------------------
802   0000              	SECTION code_compiler
803   0000              ;	---------------------------------
804   0000              ; Function enemy_collision
805   0000              ; ---------------------------------
806   0000              _enemy_collision:
807   0000  CD 00 00    	call	___sdcc_enter_ix
808   0003  3B          	dec	sp
809   0004  01 00 00    	ld	bc,_state+0
810   0007  2A 00 00    	ld	hl,(_sprite)
811   000A  26 00       	ld	h,0x00
812   000C  09          	add	hl,bc
813   000D  7E          	ld	a,(hl)
814   000E  CB 67       	bit	4,a
815   0010  28 05       	jr	Z,l_enemy_collision_00102
816   0012  2E 00       	ld	l,0x00
817   0014  C3 1C 01    	jp	l_enemy_collision_00130
818   0017              l_enemy_collision_00102:
819   0017  CB 6F       	bit	5, a
820   0019  28 05       	jr	Z,l_enemy_collision_00104
821   001B  2E 00       	ld	l,0x00
822   001D  C3 1C 01    	jp	l_enemy_collision_00130
823   0020              l_enemy_collision_00104:
824   0020  CB 4F       	bit	1, a
825   0022  28 05       	jr	Z,l_enemy_collision_00106
826   0024  2E 00       	ld	l,0x00
827   0026  C3 1C 01    	jp	l_enemy_collision_00130
828   0029              l_enemy_collision_00106:
829   0029  0F          	rrca
830   002A  30 05       	jr	NC,l_enemy_collision_00108
831   002C  2E 00       	ld	l,0x00
832   002E  C3 1C 01    	jp	l_enemy_collision_00130
833   0031              l_enemy_collision_00108:
834   0031  2A 00 00    	ld	hl,(_sprite)
835   0034  26 00       	ld	h,0x00
836   0036  11 00 00    	ld	de,_state_a
837   0039  19          	add	hl,de
838   003A  CB 4E       	bit	1,(hl)
839   003C  28 05       	jr	Z,l_enemy_collision_00110
840   003E  2E 00       	ld	l,0x00
841   0040  C3 1C 01    	jp	l_enemy_collision_00130
842   0043              l_enemy_collision_00110:
843   0043  21 00 00    	ld	hl,_enemies
844   0046  36 00       	ld	(hl),0x00
845   0048              l_enemy_collision_00129:
846   0048  2A 00 00    	ld	hl,(_enemies)
847   004B  26 00       	ld	h,0x00
848   004D  11 00 00    	ld	de,_class
849   0050  19          	add	hl,de
850   0051  7E          	ld	a,(hl)
851   0052  6F          	ld	l,a
852   0053  EB          	ex	de,hl
853   0054  B7          	or	a,a
854   0055  CA 02 01    	jp	Z,l_enemy_collision_00127
855   0058  3E 09       	ld	a,0x09
856   005A  93          	sub	a,e
857   005B  DA 02 01    	jp	C,l_enemy_collision_00127
858   005E  3A 00 00    	ld	a,(_enemies)
859   0061  21 00 00    	ld	hl,_sprite
860   0064  96          	sub	a, (hl)
861   0065  CA 02 01    	jp	Z,l_enemy_collision_00127
862   0068  2A 00 00    	ld	hl,(_enemies)
863   006B  26 00       	ld	h,0x00
864   006D  09          	add	hl,bc
865   006E  7E          	ld	a,(hl)
866   006F  CB 6F       	bit	5,a
867   0071  C2 02 01    	jp	NZ,l_enemy_collision_00127
868   0074  CB 4F       	bit	1, a
869   0076  C2 02 01    	jp	NZ,l_enemy_collision_00127
870   0079  C5          	push	bc
871   007A  AF          	xor	a, a
872   007B  F5          	push	af
873   007C  33          	inc	sp
874   007D  2A FF FF    	ld	hl,(_enemies - 1)
875   0080  3A 00 00    	ld	a,(_sprite)
876   0083  6F          	ld	l,a
877   0084  E5          	push	hl
878   0085  CD 00 00    	call	_spr_collision_check
879   0088  F1          	pop	af
880   0089  33          	inc	sp
881   008A  C1          	pop	bc
882   008B  7D          	ld	a,l
883   008C  B7          	or	a, a
884   008D  28 73       	jr	Z,l_enemy_collision_00127
885   008F  2A 00 00    	ld	hl,(_enemies)
886   0092  26 00       	ld	h,0x00
887   0094  09          	add	hl,bc
888   0095  7E          	ld	a,(hl)
889   0096  6F          	ld	l,a
890   0097  CB 67       	bit	4,a
891   0099  EB          	ex	de,hl
892   009A  20 35       	jr	NZ,l_enemy_collision_00121
893   009C  21 00 00    	ld	hl,_s_state
894   009F  7E          	ld	a, (hl)
895   00A0  E6 08       	and	a,0x08
896   00A2  57          	ld	d, a
897   00A3  7B          	ld	a, e
898   00A4  E6 08       	and	a,0x08
899   00A6  DD 77 FF    	ld	(ix-1),a
900   00A9  7A          	ld	a, d
901   00AA  DD 96 FF    	sub	a,(ix-1)
902   00AD  28 22       	jr	Z,l_enemy_collision_00121
903   00AF  7E          	ld	a, (hl)
904   00B0  E6 04       	and	a,0x04
905   00B2  57          	ld	d, a
906   00B3  7B          	ld	a, e
907   00B4  E6 04       	and	a,0x04
908   00B6  5F          	ld	e, a
909   00B7  7A          	ld	a, d
910   00B8  93          	sub	a, e
911   00B9  28 16       	jr	Z,l_enemy_collision_00121
912   00BB  2A 00 00    	ld	hl,(_sprite)
913   00BE  26 00       	ld	h,0x00
914   00C0  11 00 00    	ld	de,_class
915   00C3  19          	add	hl,de
916   00C4  7E          	ld	a,(hl)
917   00C5  D6 08       	sub	a,0x08
918   00C7  28 08       	jr	Z,l_enemy_collision_00121
919   00C9  2A 00 00    	ld	hl,(_enemies)
920   00CC  C5          	push	bc
921   00CD  CD 20 01    	call	_enemy_collision_turn_dir
922   00D0  C1          	pop	bc
923   00D1              l_enemy_collision_00121:
924   00D1  2A 00 00    	ld	hl,(_sprite)
925   00D4  26 00       	ld	h,0x00
926   00D6  09          	add	hl,bc
927   00D7  3A 00 00    	ld	a,(_s_state)
928   00DA  77          	ld	(hl),a
929   00DB  2A 00 00    	ld	hl,(_sprite)
930   00DE  C5          	push	bc
931   00DF  CD 20 01    	call	_enemy_collision_turn_dir
932   00E2  C1          	pop	bc
933   00E3  2A 00 00    	ld	hl,(_sprite)
934   00E6  26 00       	ld	h,0x00
935   00E8  09          	add	hl,bc
936   00E9  7E          	ld	a,(hl)
937   00EA  32 00 00    	ld	(_s_state),a
938   00ED  01 00 00    	ld	bc,_spr_timer+0
939   00F0  2A 00 00    	ld	hl,(_sprite)
940   00F3  26 00       	ld	h,0x00
941   00F5  29          	add	hl, hl
942   00F6  09          	add	hl,bc
943   00F7  ED 5B 00 00 	ld	de,(_curr_time)
944   00FB  73          	ld	(hl),e
945   00FC  23          	inc	hl
946   00FD  72          	ld	(hl),d
947   00FE  2E 01       	ld	l,0x01
948   0100  18 1A       	jr	l_enemy_collision_00130
949   0102              l_enemy_collision_00127:
950   0102  21 00 00    	ld	hl,_enemies
951   0105  7E          	ld	a,(hl)
952   0106  3C          	inc	a
953   0107  77          	ld	(hl),a
954   0108  D6 06       	sub	a,0x06
955   010A  DA 48 00    	jp	C, l_enemy_collision_00129
956   010D  2A 00 00    	ld	hl,(_sprite)
957   0110  26 00       	ld	h,0x00
958   0112  01 00 00    	ld	bc,_state_a
959   0115  09          	add	hl,bc
960   0116  7E          	ld	a,(hl)
961   0117  E6 FB       	and	a,0xfb
962   0119  77          	ld	(hl),a
963   011A  2E 00       	ld	l,0x00
964   011C              l_enemy_collision_00130:
965   011C  33          	inc	sp
966   011D  DD E1       	pop	ix
967   011F  C9          	ret
968   0120              	SECTION code_compiler
969   0120              ;	---------------------------------
970   0120              ; Function enemy_collision_turn_dir
971   0120              ; ---------------------------------
972   0120              _enemy_collision_turn_dir:
973   0120  CD 00 00    	call	___sdcc_enter_ix
974   0123  F5          	push	af
975   0124  3E 00       	ld	a,+((_state_a) & 0xFF)
976   0126  85          	add	a,l
977   0127  4D          	ld	c,l
978   0128  5F          	ld	e, a
979   0129  3E 00       	ld	a, +((_state_a) / 256)
980   012B  CE 00       	adc	a,0x00
981   012D  57          	ld	d, a
982   012E  1A          	ld	a, (de)
983   012F  CB 57       	bit	2, a
984   0131  20 4C       	jr	NZ,l_enemy_collision_turn_dir_00105
985   0133  06 00       	ld	b,0x00
986   0135  21 00 00    	ld	hl,_state
987   0138  09          	add	hl, bc
988   0139  7E          	ld	a, (hl)
989   013A  EE 0C       	xor	a,+(0x04^0x08)
990   013C  77          	ld	(hl),a
991   013D  1A          	ld	a, (de)
992   013E  F6 04       	or	a,0x04
993   0140  12          	ld	(de), a
994   0141  06 00       	ld	b,0x00
995   0143  21 00 00    	ld	hl,_class
996   0146  09          	add	hl, bc
997   0147  46          	ld	b, (hl)
998   0148  3E 06       	ld	a,0x06
999   014A  90          	sub	a, b
1000  014B  38 32       	jr	C,l_enemy_collision_turn_dir_00105
1001  014D  1A          	ld	a, (de)
1002  014E  F6 02       	or	a,0x02
1003  0150  12          	ld	(de), a
1004  0151  11 00 00    	ld	de,_spr_timer+0
1005  0154  69          	ld	l, c
1006  0155  26 00       	ld	h,0x00
1007  0157  29          	add	hl, hl
1008  0158  19          	add	hl,de
1009  0159  E3          	ex	(sp), hl
1010  015A  E1          	pop	hl
1011  015B  ED 5B 00 00 	ld	de,(_curr_time)
1012  015F  E5          	push	hl
1013  0160  73          	ld	(hl), e
1014  0161  23          	inc	hl
1015  0162  72          	ld	(hl), d
1016  0163  3E 00       	ld	a, +((_tile) & 0xFF)
1017  0165  81          	add	a, c
1018  0166  5F          	ld	e, a
1019  0167  3E 00       	ld	a, +((_tile) / 256)
1020  0169  CE 00       	adc	a,0x00
1021  016B  57          	ld	d, a
1022  016C  C5          	push	bc
1023  016D  D5          	push	de
1024  016E  69          	ld	l, c
1025  016F  CD 00 00    	call	_spr_tile
1026  0172  D1          	pop	de
1027  0173  C1          	pop	bc
1028  0174  7D          	ld	a,l
1029  0175  12          	ld	(de), a
1030  0176  11 00 00    	ld	de,_colint+0
1031  0179  69          	ld	l,c
1032  017A  26 00       	ld	h,0x00
1033  017C  19          	add	hl, de
1034  017D  36 00       	ld	(hl),0x00
1035  017F              l_enemy_collision_turn_dir_00105:
1036  017F  F1          	pop	af
1037  0180  DD E1       	pop	ix
1038  0182  C9          	ret
1039  0183              	SECTION code_compiler
1040  0183              ;	---------------------------------
1041  0183              ; Function enemy_hit is a stub
1042  0183              ; ---------------------------------
1043  0183              EXTERN l_ret
1044  0183              defc _enemy_hit = l_ret
1045  0183              	SECTION code_compiler
1046  0183              ;	---------------------------------
1047  0183              ; Function enemy_flip_change_dir
1048  0183              ; ---------------------------------
1049  0183              _enemy_flip_change_dir:
1050  0183  CD 00 00    	call	___sdcc_enter_ix
1051  0186  F5          	push	af
1052  0187  DD 75 FF    	ld	(ix-1),l
1053  018A  2A 00 00    	ld	hl,(_enemies)
1054  018D  26 00       	ld	h,0x00
1055  018F  01 00 00    	ld	bc,_state
1056  0192  09          	add	hl,bc
1057  0193  CB 56       	bit	2,(hl)
1058  0195  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1059  0197  01 00 00    	ld	bc,_state_a+0
1060  019A  79          	ld	a, c
1061  019B  21 00 00    	ld	hl,_enemies
1062  019E  86          	add	a, (hl)
1063  019F  5F          	ld	e, a
1064  01A0  78          	ld	a, b
1065  01A1  CE 00       	adc	a,0x00
1066  01A3  57          	ld	d, a
1067  01A4  1A          	ld	a, (de)
1068  01A5  F6 10       	or	a,0x10
1069  01A7  12          	ld	(de), a
1070  01A8  79          	ld	a, c
1071  01A9  86          	add	a, (hl)
1072  01AA  4F          	ld	c, a
1073  01AB  78          	ld	a, b
1074  01AC  CE 00       	adc	a,0x00
1075  01AE  47          	ld	b, a
1076  01AF  0A          	ld	a, (bc)
1077  01B0  E6 F7       	and	a,0xf7
1078  01B2  02          	ld	(bc), a
1079  01B3  18 1C       	jr	l_enemy_flip_change_dir_00103
1080  01B5              l_enemy_flip_change_dir_00102:
1081  01B5  01 00 00    	ld	bc,_state_a+0
1082  01B8  79          	ld	a, c
1083  01B9  21 00 00    	ld	hl,_enemies
1084  01BC  86          	add	a, (hl)
1085  01BD  5F          	ld	e, a
1086  01BE  78          	ld	a, b
1087  01BF  CE 00       	adc	a,0x00
1088  01C1  57          	ld	d, a
1089  01C2  1A          	ld	a, (de)
1090  01C3  F6 10       	or	a,0x10
1091  01C5  12          	ld	(de), a
1092  01C6  79          	ld	a, c
1093  01C7  86          	add	a, (hl)
1094  01C8  4F          	ld	c, a
1095  01C9  78          	ld	a, b
1096  01CA  CE 00       	adc	a,0x00
1097  01CC  47          	ld	b, a
1098  01CD  0A          	ld	a, (bc)
1099  01CE  E6 F7       	and	a,0xf7
1100  01D0  02          	ld	(bc), a
1101  01D1              l_enemy_flip_change_dir_00103:
1102  01D1  3A 00 00    	ld	a,(_sprite)
1103  01D4  F5          	push	af
1104  01D5  33          	inc	sp
1105  01D6  CD 00 00    	call	_spr_calc_hor
1106  01D9  33          	inc	sp
1107  01DA  5D          	ld	e, l
1108  01DB  3A 00 00    	ld	a,(_enemies)
1109  01DE  D5          	push	de
1110  01DF  F5          	push	af
1111  01E0  33          	inc	sp
1112  01E1  CD 00 00    	call	_spr_calc_hor
1113  01E4  33          	inc	sp
1114  01E5  D1          	pop	de
1115  01E6  55          	ld	d, l
1116  01E7  2A 00 00    	ld	hl,(_enemies)
1117  01EA  26 00       	ld	h,0x00
1118  01EC  01 00 00    	ld	bc,_state
1119  01EF  09          	add	hl,bc
1120  01F0  7A          	ld	a,d
1121  01F1  93          	sub	a,e
1122  01F2  4D          	ld	c,l
1123  01F3  44          	ld	b,h
1124  01F4  30 13       	jr	NC,l_enemy_flip_change_dir_00110
1125  01F6  0A          	ld	a,(bc)
1126  01F7  F6 08       	or	a,0x08
1127  01F9  02          	ld	(bc),a
1128  01FA  2A 00 00    	ld	hl,(_enemies)
1129  01FD  26 00       	ld	h,0x00
1130  01FF  01 00 00    	ld	bc,_state
1131  0202  09          	add	hl,bc
1132  0203  7E          	ld	a,(hl)
1133  0204  E6 FB       	and	a,0xfb
1134  0206  77          	ld	(hl),a
1135  0207  18 4A       	jr	l_enemy_flip_change_dir_00111
1136  0209              l_enemy_flip_change_dir_00110:
1137  0209  2A 00 00    	ld	hl,(_sprite)
1138  020C  26 00       	ld	h,0x00
1139  020E  11 00 00    	ld	de,_col
1140  0211  19          	add	hl,de
1141  0212  7E          	ld	a,(hl)
1142  0213  DD 77 FE    	ld	(ix-2),a
1143  0216  2A 00 00    	ld	hl,(_enemies)
1144  0219  26 00       	ld	h,0x00
1145  021B  11 00 00    	ld	de,_col
1146  021E  19          	add	hl,de
1147  021F  5E          	ld	e, (hl)
1148  0220  21 00 00    	ld	hl,_enemies
1149  0223  DD 7E FE    	ld	a,(ix-2)
1150  0226  93          	sub	a, e
1151  0227  30 13       	jr	NC,l_enemy_flip_change_dir_00107
1152  0229  0A          	ld	a, (bc)
1153  022A  F6 04       	or	a,0x04
1154  022C  02          	ld	(bc), a
1155  022D  3E 00       	ld	a, +((_state) & 0xFF)
1156  022F  86          	add	a, (hl)
1157  0230  4F          	ld	c, a
1158  0231  3E 00       	ld	a, +((_state) / 256)
1159  0233  CE 00       	adc	a,0x00
1160  0235  47          	ld	b, a
1161  0236  0A          	ld	a, (bc)
1162  0237  E6 F7       	and	a,0xf7
1163  0239  02          	ld	(bc), a
1164  023A  18 17       	jr	l_enemy_flip_change_dir_00111
1165  023C              l_enemy_flip_change_dir_00107:
1166  023C  DD 7E FF    	ld	a,(ix-1)
1167  023F  B7          	or	a, a
1168  0240  20 11       	jr	NZ,l_enemy_flip_change_dir_00111
1169  0242  0A          	ld	a, (bc)
1170  0243  E6 F7       	and	a,0xf7
1171  0245  02          	ld	(bc), a
1172  0246  2A 00 00    	ld	hl,(_enemies)
1173  0249  26 00       	ld	h,0x00
1174  024B  01 00 00    	ld	bc,_state
1175  024E  09          	add	hl,bc
1176  024F  7E          	ld	a,(hl)
1177  0250  E6 FB       	and	a,0xfb
1178  0252  77          	ld	(hl),a
1179  0253              l_enemy_flip_change_dir_00111:
1180  0253  2A 00 00    	ld	hl,(_enemies)
1181  0256  26 00       	ld	h,0x00
1182  0258  01 00 00    	ld	bc,_colint
1183  025B  09          	add	hl,bc
1184  025C  AF          	xor	a,a
1185  025D  77          	ld	(hl),a
1186  025E  F1          	pop	af
1187  025F  DD E1       	pop	ix
1188  0261  C9          	ret
1189  0262              	SECTION code_compiler
1190  0262              ;	---------------------------------
1191  0262              ; Function enemy_flip
1192  0262              ; ---------------------------------
1193  0262              _enemy_flip:
1194  0262  CD 00 00    	call	___sdcc_enter_ix
1195  0265  F5          	push	af
1196  0266  DD 75 FF    	ld	(ix-1),l
1197  0269  01 00 00    	ld	bc,_spr_timer+0
1198  026C  2A 00 00    	ld	hl,(_enemies)
1199  026F  26 00       	ld	h,0x00
1200  0271  29          	add	hl, hl
1201  0272  09          	add	hl,bc
1202  0273  ED 5B 00 00 	ld	de,(_curr_time)
1203  0277  73          	ld	(hl),e
1204  0278  23          	inc	hl
1205  0279  72          	ld	(hl),d
1206  027A  2A 00 00    	ld	hl,(_enemies)
1207  027D  26 00       	ld	h,0x00
1208  027F  01 00 00    	ld	bc,_state
1209  0282  09          	add	hl,bc
1210  0283  7E          	ld	a,(hl)
1211  0284  F6 01       	or	a,0x01
1212  0286  77          	ld	(hl),a
1213  0287  2A 00 00    	ld	hl,(_enemies)
1214  028A  26 00       	ld	h,0x00
1215  028C  01 00 00    	ld	bc,_state
1216  028F  09          	add	hl,bc
1217  0290  7E          	ld	a,(hl)
1218  0291  E6 FD       	and	a,0xfd
1219  0293  77          	ld	(hl),a
1220  0294  2A 00 00    	ld	hl,(_enemies)
1221  0297  26 00       	ld	h,0x00
1222  0299  01 00 00    	ld	bc,_state
1223  029C  09          	add	hl,bc
1224  029D  7E          	ld	a,(hl)
1225  029E  EE 10       	xor	a,0x10
1226  02A0  77          	ld	(hl),a
1227  02A1  2A 00 00    	ld	hl,(_enemies)
1228  02A4  26 00       	ld	h,0x00
1229  02A6  01 00 00    	ld	bc,_jump_lin
1230  02A9  09          	add	hl,bc
1231  02AA  4D          	ld	c,l
1232  02AB  44          	ld	b,h
1233  02AC  2A 00 00    	ld	hl,(_enemies)
1234  02AF  26 00       	ld	h,0x00
1235  02B1  11 00 00    	ld	de,_lin
1236  02B4  19          	add	hl,de
1237  02B5  7E          	ld	a,(hl)
1238  02B6  02          	ld	(bc),a
1239  02B7  2A 00 00    	ld	hl,(_enemies)
1240  02BA  26 00       	ld	h,0x00
1241  02BC  01 00 00    	ld	bc,_colint
1242  02BF  09          	add	hl,bc
1243  02C0  AF          	xor	a,a
1244  02C1  77          	ld	(hl),a
1245  02C2  2A 00 00    	ld	hl,(_enemies)
1246  02C5  26 00       	ld	h,0x00
1247  02C7  01 00 00    	ld	bc,_state
1248  02CA  09          	add	hl,bc
1249  02CB  7E          	ld	a,(hl)
1250  02CC  DD 77 FE    	ld	(ix-2),a
1251  02CF  CB 67       	bit	4,a
1252  02D1  4D          	ld	c,l
1253  02D2  44          	ld	b,h
1254  02D3  28 22       	jr	Z,l_enemy_flip_00105
1255  02D5  21 00 00    	ld	hl,_ay_effect_02
1256  02D8  CD 00 00    	call	_ay_fx_play
1257  02DB  2E 00       	ld	l,0x00
1258  02DD  CD 83 01    	call	_enemy_flip_change_dir
1259  02E0  2A 00 00    	ld	hl,(_enemies)
1260  02E3  26 00       	ld	h,0x00
1261  02E5  01 00 00    	ld	bc,_tile
1262  02E8  09          	add	hl,bc
1263  02E9  DD 7E FF    	ld	a,(ix-1)
1264  02EC  C6 06       	add	a,0x06
1265  02EE  77          	ld	(hl),a
1266  02EF  21 01 00    	ld	hl,0x0001
1267  02F2  CD 00 00    	call	_player_score_add
1268  02F5  18 44       	jr	l_enemy_flip_00107
1269  02F7              l_enemy_flip_00105:
1270  02F7  2A 00 00    	ld	hl,(_enemies)
1271  02FA  26 00       	ld	h,0x00
1272  02FC  11 00 00    	ld	de,_state_a
1273  02FF  19          	add	hl,de
1274  0300  5E          	ld	e, (hl)
1275  0301  DD 7E FE    	ld	a,(ix-2)
1276  0304  F6 04       	or	a,0x04
1277  0306  CB 63       	bit	4, e
1278  0308  28 10       	jr	Z,l_enemy_flip_00102
1279  030A  02          	ld	(bc), a
1280  030B  2A 00 00    	ld	hl,(_enemies)
1281  030E  26 00       	ld	h,0x00
1282  0310  01 00 00    	ld	bc,_state
1283  0313  09          	add	hl,bc
1284  0314  7E          	ld	a,(hl)
1285  0315  E6 F7       	and	a,0xf7
1286  0317  77          	ld	(hl),a
1287  0318  18 0E       	jr	l_enemy_flip_00103
1288  031A              l_enemy_flip_00102:
1289  031A  02          	ld	(bc), a
1290  031B  2A 00 00    	ld	hl,(_enemies)
1291  031E  26 00       	ld	h,0x00
1292  0320  01 00 00    	ld	bc,_state
1293  0323  09          	add	hl,bc
1294  0324  7E          	ld	a,(hl)
1295  0325  E6 F7       	and	a,0xf7
1296  0327  77          	ld	(hl),a
1297  0328              l_enemy_flip_00103:
1298  0328  2A 00 00    	ld	hl,(_enemies)
1299  032B  26 00       	ld	h,0x00
1300  032D  01 00 00    	ld	bc,_tile
1301  0330  09          	add	hl,bc
1302  0331  E5          	push	hl
1303  0332  2A 00 00    	ld	hl,(_enemies)
1304  0335  CD 00 00    	call	_spr_tile
1305  0338  C1          	pop	bc
1306  0339  7D          	ld	a,l
1307  033A  02          	ld	(bc), a
1308  033B              l_enemy_flip_00107:
1309  033B  F1          	pop	af
1310  033C  DD E1       	pop	ix
1311  033E  C9          	ret
1312  033F              	SECTION code_compiler
1313  033F              ;	---------------------------------
1314  033F              ; Function enemy_flip_sidestepper
1315  033F              ; ---------------------------------
1316  033F              _enemy_flip_sidestepper:
1317  033F  3A 00 00    	ld	a,(_enemies)
1318  0342  C6 00       	add	a,+((_state) & 0xFF)
1319  0344  4D          	ld	c,l
1320  0345  5F          	ld	e,a
1321  0346  3E 00       	ld	a,+((_state) / 256)
1322  0348  CE 00       	adc	a,0x00
1323  034A  57          	ld	d,a
1324  034B  1A          	ld	a, (de)
1325  034C  CB 77       	bit	6, a
1326  034E  28 06       	jr	Z,l_enemy_flip_sidestepper_00102
1327  0350  69          	ld	l, c
1328  0351  CD 62 02    	call	_enemy_flip
1329  0354  18 55       	jr	l_enemy_flip_sidestepper_00104
1330  0356              l_enemy_flip_sidestepper_00102:
1331  0356  2E 01       	ld	l,0x01
1332  0358  CD 83 01    	call	_enemy_flip_change_dir
1333  035B  2A 00 00    	ld	hl,(_enemies)
1334  035E  26 00       	ld	h,0x00
1335  0360  01 00 00    	ld	bc,_state
1336  0363  09          	add	hl,bc
1337  0364  7E          	ld	a,(hl)
1338  0365  EE 01       	xor	a,0x01
1339  0367  77          	ld	(hl),a
1340  0368  2A 00 00    	ld	hl,(_enemies)
1341  036B  26 00       	ld	h,0x00
1342  036D  01 00 00    	ld	bc,_state
1343  0370  09          	add	hl,bc
1344  0371  7E          	ld	a,(hl)
1345  0372  E6 FD       	and	a,0xfd
1346  0374  77          	ld	(hl),a
1347  0375  2A 00 00    	ld	hl,(_enemies)
1348  0378  26 00       	ld	h,0x00
1349  037A  01 00 00    	ld	bc,_state
1350  037D  09          	add	hl,bc
1351  037E  7E          	ld	a,(hl)
1352  037F  F6 40       	or	a,0x40
1353  0381  77          	ld	(hl),a
1354  0382  2A 00 00    	ld	hl,(_enemies)
1355  0385  26 00       	ld	h,0x00
1356  0387  01 00 00    	ld	bc,_jump_lin
1357  038A  09          	add	hl,bc
1358  038B  4D          	ld	c,l
1359  038C  44          	ld	b,h
1360  038D  2A 00 00    	ld	hl,(_enemies)
1361  0390  26 00       	ld	h,0x00
1362  0392  11 00 00    	ld	de,_lin
1363  0395  19          	add	hl,de
1364  0396  7E          	ld	a,(hl)
1365  0397  02          	ld	(bc),a
1366  0398  2A 00 00    	ld	hl,(_enemies)
1367  039B  26 00       	ld	h,0x00
1368  039D  01 00 00    	ld	bc,_tile
1369  03A0  09          	add	hl,bc
1370  03A1  E5          	push	hl
1371  03A2  2A 00 00    	ld	hl,(_enemies)
1372  03A5  CD 00 00    	call	_spr_tile
1373  03A8  C1          	pop	bc
1374  03A9  7D          	ld	a,l
1375  03AA  02          	ld	(bc), a
1376  03AB              l_enemy_flip_sidestepper_00104:
1377  03AB  C9          	ret
1378  03AC              	SECTION code_compiler
1379  03AC              ;	---------------------------------
1380  03AC              ; Function enemy_turn
1381  03AC              ; ---------------------------------
1382  03AC              _enemy_turn:
1383  03AC  21 00 00    	ld	hl,_sprite
1384  03AF  36 00       	ld	(hl),0x00
1385  03B1              l_enemy_turn_00115:
1386  03B1  2A 00 00    	ld	hl,(_sprite)
1387  03B4  26 00       	ld	h,0x00
1388  03B6  01 00 00    	ld	bc,_class
1389  03B9  09          	add	hl,bc
1390  03BA  7E          	ld	a,(hl)
1391  03BB  B7          	or	a, a
1392  03BC  CA 7B 04    	jp	Z, l_enemy_turn_00113
1393  03BF  21 00 00    	ld	hl,_sprite
1394  03C2  CD 00 00    	call	_spr_chktime
1395  03C5  7D          	ld	a, l
1396  03C6  B7          	or	a, a
1397  03C7  CA 7B 04    	jp	Z, l_enemy_turn_00113
1398  03CA  2A 00 00    	ld	hl,(_sprite)
1399  03CD  26 00       	ld	h,0x00
1400  03CF  01 00 00    	ld	bc,_lin
1401  03D2  09          	add	hl,bc
1402  03D3  7E          	ld	a,(hl)
1403  03D4  32 00 00    	ld	(_s_lin0),a
1404  03D7  2A 00 00    	ld	hl,(_sprite)
1405  03DA  26 00       	ld	h,0x00
1406  03DC  01 00 00    	ld	bc,_col
1407  03DF  09          	add	hl,bc
1408  03E0  7E          	ld	a,(hl)
1409  03E1  32 00 00    	ld	(_s_col0),a
1410  03E4  2A 00 00    	ld	hl,(_sprite)
1411  03E7  26 00       	ld	h,0x00
1412  03E9  01 00 00    	ld	bc,_tile
1413  03EC  09          	add	hl,bc
1414  03ED  4E          	ld	c, (hl)
1415  03EE  3A 00 00    	ld	a,(_sprite)
1416  03F1  5F          	ld	e,a
1417  03F2  16 00       	ld	d,0x00
1418  03F4  21 00 00    	ld	hl,_colint
1419  03F7  19          	add	hl,de
1420  03F8  7E          	ld	a,(hl)
1421  03F9  81          	add	a,c
1422  03FA  32 00 00    	ld	(_s_tile0),a
1423  03FD  2A 00 00    	ld	hl,(_sprite)
1424  0400  26 00       	ld	h,0x00
1425  0402  01 00 00    	ld	bc,_state
1426  0405  09          	add	hl,bc
1427  0406  7E          	ld	a,(hl)
1428  0407  32 00 00    	ld	(_s_state),a
1429  040A  2A 00 00    	ld	hl,(_sprite)
1430  040D  26 00       	ld	h,0x00
1431  040F  29          	add	hl,hl
1432  0410  01 00 00    	ld	bc,_last_time
1433  0413  09          	add	hl,bc
1434  0414  ED 5B 00 00 	ld	de,(_curr_time)
1435  0418  73          	ld	(hl),e
1436  0419  23          	inc	hl
1437  041A  72          	ld	(hl),d
1438  041B  21 00 00    	ld	hl,_s_state
1439  041E  7E          	ld	a, (hl)
1440  041F  E6 01       	and	a,0x01
1441  0421  CB 6E       	bit	5, (hl)
1442  0423  28 0B       	jr	Z,l_enemy_turn_00102
1443  0425  B7          	or	a, a
1444  0426  20 08       	jr	NZ,l_enemy_turn_00102
1445  0428  2A 00 00    	ld	hl,(_sprite)
1446  042B  CD 00 00    	call	_spr_killed
1447  042E  18 4B       	jr	l_enemy_turn_00113
1448  0430              l_enemy_turn_00102:
1449  0430  21 00 00    	ld	hl,_s_state
1450  0433  CB 66       	bit	4, (hl)
1451  0435  28 31       	jr	Z,l_enemy_turn_00107
1452  0437  21 00 00    	ld	hl,_s_state
1453  043A  CB 4E       	bit	1, (hl)
1454  043C  20 2A       	jr	NZ,l_enemy_turn_00107
1455  043E  B7          	or	a, a
1456  043F  20 27       	jr	NZ,l_enemy_turn_00107
1457  0441  2A 00 00    	ld	hl,(_sprite)
1458  0444  26 00       	ld	h,0x00
1459  0446  01 00 00    	ld	bc,_sprite_speed_alt
1460  0449  09          	add	hl,bc
1461  044A  36 08       	ld	(hl),0x08
1462  044C  CD 00 00    	call	_enemy_standard_hit
1463  044F  2A 00 00    	ld	hl,(_sprite)
1464  0452  26 00       	ld	h,0x00
1465  0454  01 00 00    	ld	bc,_colint
1466  0457  09          	add	hl,bc
1467  0458  7E          	ld	a,(hl)
1468  0459  3C          	inc	a
1469  045A  77          	ld	(hl),a
1470  045B  5F          	ld	e,a
1471  045C  3E 02       	ld	a,0x02
1472  045E  93          	sub	a,e
1473  045F  30 02       	jr	NC,l_enemy_turn_00105
1474  0461  AF          	xor	a,a
1475  0462  77          	ld	(hl),a
1476  0463              l_enemy_turn_00105:
1477  0463  CD 00 00    	call	_spr_redraw
1478  0466  18 13       	jr	l_enemy_turn_00113
1479  0468              l_enemy_turn_00107:
1480  0468  CD 87 04    	call	_enemy_standard
1481  046B  CD 00 00    	call	_spr_redraw
1482  046E  2A 00 00    	ld	hl,(_sprite)
1483  0471  26 00       	ld	h,0x00
1484  0473  01 00 00    	ld	bc,_state
1485  0476  09          	add	hl,bc
1486  0477  3A 00 00    	ld	a,(_s_state)
1487  047A  77          	ld	(hl),a
1488  047B              l_enemy_turn_00113:
1489  047B  21 00 00    	ld	hl,_sprite
1490  047E  7E          	ld	a,(hl)
1491  047F  3C          	inc	a
1492  0480  77          	ld	(hl),a
1493  0481  D6 06       	sub	a,0x06
1494  0483  DA B1 03    	jp	C, l_enemy_turn_00115
1495  0486  C9          	ret
1496  0487              	SECTION code_compiler
1497  0487              ;	---------------------------------
1498  0487              ; Function enemy_standard
1499  0487              ; ---------------------------------
1500  0487              _enemy_standard:
1501  0487  21 00 00    	ld	hl,_s_state
1502  048A  CB 46       	bit	0, (hl)
1503  048C  28 3C       	jr	Z,l_enemy_standard_00108
1504  048E  2A 00 00    	ld	hl,(_sprite)
1505  0491  26 00       	ld	h,0x00
1506  0493  01 00 00    	ld	bc,_sprite_speed_alt
1507  0496  09          	add	hl,bc
1508  0497  36 01       	ld	(hl),0x01
1509  0499  CD 00 00    	call	_spr_move_horizontal
1510  049C  CD 00 00    	call	_spr_move_up
1511  049F  2A 00 00    	ld	hl,(_sprite)
1512  04A2  26 00       	ld	h,0x00
1513  04A4  5D          	ld	e,l
1514  04A5  01 00 00    	ld	bc,_jump_lin
1515  04A8  09          	add	hl,bc
1516  04A9  4E          	ld	c,(hl)
1517  04AA  06 00       	ld	b,0x00
1518  04AC  50          	ld	d,b
1519  04AD  21 00 00    	ld	hl,_lin
1520  04B0  19          	add	hl,de
1521  04B1  5E          	ld	e, (hl)
1522  04B2  16 00       	ld	d,0x00
1523  04B4  79          	ld	a, c
1524  04B5  93          	sub	a, e
1525  04B6  4F          	ld	c, a
1526  04B7  78          	ld	a, b
1527  04B8  9A          	sbc	a, d
1528  04B9  47          	ld	b, a
1529  04BA  79          	ld	a, c
1530  04BB  D6 0C       	sub	a,0x0c
1531  04BD  78          	ld	a, b
1532  04BE  17          	rla
1533  04BF  3F          	ccf
1534  04C0  1F          	rra
1535  04C1  DE 80       	sbc	a,0x80
1536  04C3  38 2F       	jr	C,l_enemy_standard_00110
1537  04C5  CD 00 00    	call	_spr_set_fall
1538  04C8  18 2A       	jr	l_enemy_standard_00110
1539  04CA              l_enemy_standard_00108:
1540  04CA  CD 68 05    	call	_enemy_walk
1541  04CD  2A 00 00    	ld	hl,(_sprite)
1542  04D0  26 00       	ld	h,0x00
1543  04D2  01 00 00    	ld	bc,_lin
1544  04D5  09          	add	hl,bc
1545  04D6  7E          	ld	a,(hl)
1546  04D7  D6 90       	sub	a,0x90
1547  04D9  20 19       	jr	NZ,l_enemy_standard_00110
1548  04DB  2A 00 00    	ld	hl,(_sprite)
1549  04DE  26 00       	ld	h,0x00
1550  04E0  01 00 00    	ld	bc,_col
1551  04E3  09          	add	hl,bc
1552  04E4  7E          	ld	a,(hl)
1553  04E5  4F          	ld	c,a
1554  04E6  D6 05       	sub	a,0x05
1555  04E8  38 05       	jr	C,l_enemy_standard_00103
1556  04EA  3E 19       	ld	a,0x19
1557  04EC  91          	sub	a, c
1558  04ED  30 05       	jr	NC,l_enemy_standard_00110
1559  04EF              l_enemy_standard_00103:
1560  04EF  21 00 00    	ld	hl,_s_state
1561  04F2  CB C6       	set	0, (hl)
1562  04F4              l_enemy_standard_00110:
1563  04F4  C9          	ret
1564  04F5              	SECTION code_compiler
1565  04F5              ;	---------------------------------
1566  04F5              ; Function enemy_slipice is a stub
1567  04F5              ; ---------------------------------
1568  04F5              EXTERN l_ret
1569  04F5              defc _enemy_slipice = l_ret
1570  04F5              	SECTION code_compiler
1571  04F5              ;	---------------------------------
1572  04F5              ; Function enemy_fireball_red is a stub
1573  04F5              ; ---------------------------------
1574  04F5              EXTERN l_ret
1575  04F5              defc _enemy_fireball_red = l_ret
1576  04F5              	SECTION code_compiler
1577  04F5              ;	---------------------------------
1578  04F5              ; Function enemy_standard_hit is a stub
1579  04F5              ; ---------------------------------
1580  04F5              EXTERN l_ret
1581  04F5              defc _enemy_standard_hit = l_ret
1582  04F5              	SECTION code_compiler
1583  04F5              ;	---------------------------------
1584  04F5              ; Function enemy_evolve
1585  04F5              ; ---------------------------------
1586  04F5              _enemy_evolve:
1587  04F5  45          	ld	b,l
1588  04F6  11 00 00    	ld	de,_class+0
1589  04F9  26 00       	ld	h,0x00
1590  04FB  19          	add	hl, de
1591  04FC  7E          	ld	a, (hl)
1592  04FD  FE 01       	cp	a,0x01
1593  04FF  28 0E       	jr	Z,l_enemy_evolve_00101
1594  0501  FE 02       	cp	a,0x02
1595  0503  28 17       	jr	Z,l_enemy_evolve_00102
1596  0505  FE 04       	cp	a,0x04
1597  0507  28 20       	jr	Z,l_enemy_evolve_00103
1598  0509  D6 05       	sub	a,0x05
1599  050B  28 29       	jr	Z,l_enemy_evolve_00104
1600  050D  18 32       	jr	l_enemy_evolve_00106
1601  050F              l_enemy_evolve_00101:
1602  050F  21 02 3C    	ld	hl,0x3c02
1603  0512  E5          	push	hl
1604  0513  C5          	push	bc
1605  0514  33          	inc	sp
1606  0515  CD 42 05    	call	_enemy_upgrade
1607  0518  F1          	pop	af
1608  0519  33          	inc	sp
1609  051A  18 25       	jr	l_enemy_evolve_00106
1610  051C              l_enemy_evolve_00102:
1611  051C  21 03 48    	ld	hl,0x4803
1612  051F  E5          	push	hl
1613  0520  C5          	push	bc
1614  0521  33          	inc	sp
1615  0522  CD 42 05    	call	_enemy_upgrade
1616  0525  F1          	pop	af
1617  0526  33          	inc	sp
1618  0527  18 18       	jr	l_enemy_evolve_00106
1619  0529              l_enemy_evolve_00103:
1620  0529  21 05 60    	ld	hl,0x6005
1621  052C  E5          	push	hl
1622  052D  C5          	push	bc
1623  052E  33          	inc	sp
1624  052F  CD 42 05    	call	_enemy_upgrade
1625  0532  F1          	pop	af
1626  0533  33          	inc	sp
1627  0534  18 0B       	jr	l_enemy_evolve_00106
1628  0536              l_enemy_evolve_00104:
1629  0536  21 06 6C    	ld	hl,0x6c06
1630  0539  E5          	push	hl
1631  053A  C5          	push	bc
1632  053B  33          	inc	sp
1633  053C  CD 42 05    	call	_enemy_upgrade
1634  053F  F1          	pop	af
1635  0540  33          	inc	sp
1636  0541              l_enemy_evolve_00106:
1637  0541  C9          	ret
1638  0542              	SECTION code_compiler
1639  0542              ;	---------------------------------
1640  0542              ; Function enemy_upgrade
1641  0542              ; ---------------------------------
1642  0542              _enemy_upgrade:
1643  0542  CD 00 00    	call	___sdcc_enter_ix
1644  0545  3E 00       	ld	a, +((_tile) & 0xFF)
1645  0547  DD 86 04    	add	a,(ix+4)
1646  054A  4F          	ld	c, a
1647  054B  3E 00       	ld	a, +((_tile) / 256)
1648  054D  CE 00       	adc	a,0x00
1649  054F  47          	ld	b, a
1650  0550  DD 7E 06    	ld	a,(ix+6)
1651  0553  C6 06       	add	a,0x06
1652  0555  02          	ld	(bc), a
1653  0556  3E 00       	ld	a, +((_class) & 0xFF)
1654  0558  DD 86 04    	add	a,(ix+4)
1655  055B  4F          	ld	c, a
1656  055C  3E 00       	ld	a, +((_class) / 256)
1657  055E  CE 00       	adc	a,0x00
1658  0560  47          	ld	b, a
1659  0561  DD 7E 05    	ld	a,(ix+5)
1660  0564  02          	ld	(bc), a
1661  0565  DD E1       	pop	ix
1662  0567  C9          	ret
1663  0568              	SECTION code_compiler
1664  0568              ;	---------------------------------
1665  0568              ; Function enemy_walk
1666  0568              ; ---------------------------------
1667  0568              _enemy_walk:
1668  0568  21 00 00    	ld	hl,_s_state
1669  056B  CB 46       	bit	0, (hl)
1670  056D  20 3F       	jr	NZ,l_enemy_walk_00106
1671  056F  21 00 00    	ld	hl,_s_state
1672  0572  CB 4E       	bit	1, (hl)
1673  0574  20 38       	jr	NZ,l_enemy_walk_00106
1674  0576  2A 00 00    	ld	hl,(_sprite)
1675  0579  26 00       	ld	h,0x00
1676  057B  01 00 00    	ld	bc,_col
1677  057E  09          	add	hl,bc
1678  057F  7E          	ld	a,(hl)
1679  0580  57          	ld	d,a
1680  0581  CB 47       	bit	0,a
1681  0583  28 0E       	jr	Z,l_enemy_walk_00102
1682  0585  21 00 00    	ld	hl,_s_state
1683  0588  CB 66       	bit	4, (hl)
1684  058A  20 07       	jr	NZ,l_enemy_walk_00102
1685  058C  21 00 00    	ld	hl,_tmp
1686  058F  36 00       	ld	(hl),0x00
1687  0591  18 3E       	jr	l_enemy_walk_00107
1688  0593              l_enemy_walk_00102:
1689  0593  2A 00 00    	ld	hl,(_sprite)
1690  0596  26 00       	ld	h,0x00
1691  0598  01 00 00    	ld	bc,_lin
1692  059B  09          	add	hl,bc
1693  059C  7E          	ld	a,(hl)
1694  059D  C6 10       	add	a,0x10
1695  059F  5F          	ld	e, a
1696  05A0  D5          	push	de
1697  05A1  CD 00 00    	call	_spr_calc_index
1698  05A4  F1          	pop	af
1699  05A5  CD 00 00    	call	_game_check_maze
1700  05A8  7D          	ld	a,l
1701  05A9  32 00 00    	ld	(_tmp),a
1702  05AC  18 23       	jr	l_enemy_walk_00107
1703  05AE              l_enemy_walk_00106:
1704  05AE  2A 00 00    	ld	hl,(_sprite)
1705  05B1  26 00       	ld	h,0x00
1706  05B3  01 00 00    	ld	bc,_col
1707  05B6  09          	add	hl,bc
1708  05B7  56          	ld	d, (hl)
1709  05B8  2A 00 00    	ld	hl,(_sprite)
1710  05BB  26 00       	ld	h,0x00
1711  05BD  01 00 00    	ld	bc,_lin
1712  05C0  09          	add	hl,bc
1713  05C1  7E          	ld	a,(hl)
1714  05C2  C6 10       	add	a,0x10
1715  05C4  5F          	ld	e, a
1716  05C5  D5          	push	de
1717  05C6  CD 00 00    	call	_spr_calc_index
1718  05C9  F1          	pop	af
1719  05CA  CD 00 00    	call	_game_check_maze
1720  05CD  7D          	ld	a,l
1721  05CE  32 00 00    	ld	(_tmp),a
1722  05D1              l_enemy_walk_00107:
1723  05D1  3A 00 00    	ld	a,(_tmp)
1724  05D4  B7          	or	a, a
1725  05D5  CA B2 06    	jp	Z, l_enemy_walk_00130
1726  05D8  21 00 00    	ld	hl,_s_state
1727  05DB  CB 46       	bit	0, (hl)
1728  05DD  20 05       	jr	NZ,l_enemy_walk_00110
1729  05DF  21 00 00    	ld	hl,_s_state
1730  05E2  CB CE       	set	1, (hl)
1731  05E4              l_enemy_walk_00110:
1732  05E4  2A 00 00    	ld	hl,(_sprite)
1733  05E7  26 00       	ld	h,0x00
1734  05E9  01 00 00    	ld	bc,_jump_lin
1735  05EC  09          	add	hl,bc
1736  05ED  7E          	ld	a,(hl)
1737  05EE  B7          	or	a,a
1738  05EF  20 0E       	jr	NZ,l_enemy_walk_00112
1739  05F1  3A 00 00    	ld	a,(_sprite)
1740  05F4  5F          	ld	e,a
1741  05F5  16 00       	ld	d,0x00
1742  05F7  4D          	ld	c,l
1743  05F8  44          	ld	b,h
1744  05F9  21 00 00    	ld	hl,_lin
1745  05FC  19          	add	hl,de
1746  05FD  7E          	ld	a,(hl)
1747  05FE  02          	ld	(bc), a
1748  05FF              l_enemy_walk_00112:
1749  05FF  21 00 00    	ld	hl,_s_state
1750  0602  CB 4E       	bit	1, (hl)
1751  0604  28 05       	jr	Z,l_enemy_walk_00114
1752  0606  CD 00 00    	call	_spr_move_down
1753  0609  18 03       	jr	l_enemy_walk_00115
1754  060B              l_enemy_walk_00114:
1755  060B  CD 00 00    	call	_spr_move_up
1756  060E              l_enemy_walk_00115:
1757  060E  2A 00 00    	ld	hl,(_sprite)
1758  0611  26 00       	ld	h,0x00
1759  0613  01 00 00    	ld	bc,_sprite_speed_alt
1760  0616  09          	add	hl,bc
1761  0617  36 01       	ld	(hl),0x01
1762  0619  21 00 00    	ld	hl,_tmp
1763  061C  36 01       	ld	(hl),0x01
1764  061E  2A 00 00    	ld	hl,(_sprite)
1765  0621  26 00       	ld	h,0x00
1766  0623  01 00 00    	ld	bc,_col
1767  0626  09          	add	hl,bc
1768  0627  46          	ld	b, (hl)
1769  0628  04          	inc	b
1770  0629  3A 00 00    	ld	a,(_sprite)
1771  062C  5F          	ld	e,a
1772  062D  16 00       	ld	d,0x00
1773  062F  21 00 00    	ld	hl,_lin
1774  0632  19          	add	hl,de
1775  0633  7E          	ld	a,(hl)
1776  0634  C6 10       	add	a,0x10
1777  0636  4F          	ld	c,a
1778  0637  C5          	push	bc
1779  0638  CD 00 00    	call	_spr_calc_index
1780  063B  F1          	pop	af
1781  063C  CD 00 00    	call	_game_check_maze
1782  063F  7D          	ld	a,l
1783  0640  32 00 00    	ld	(_tmp0),a
1784  0643  2A 00 00    	ld	hl,(_sprite)
1785  0646  26 00       	ld	h,0x00
1786  0648  01 00 00    	ld	bc,_col
1787  064B  09          	add	hl,bc
1788  064C  46          	ld	b, (hl)
1789  064D  05          	dec	b
1790  064E  3A 00 00    	ld	a,(_sprite)
1791  0651  5F          	ld	e,a
1792  0652  16 00       	ld	d,0x00
1793  0654  21 00 00    	ld	hl,_lin
1794  0657  19          	add	hl,de
1795  0658  7E          	ld	a,(hl)
1796  0659  C6 10       	add	a,0x10
1797  065B  4F          	ld	c,a
1798  065C  C5          	push	bc
1799  065D  CD 00 00    	call	_spr_calc_index
1800  0660  F1          	pop	af
1801  0661  CD 00 00    	call	_game_check_maze
1802  0664  7D          	ld	a,l
1803  0665  32 00 00    	ld	(_tmp1),a
1804  0668  3A 00 00    	ld	a,(_tmp0)
1805  066B  B7          	or	a, a
1806  066C  20 06       	jr	NZ,l_enemy_walk_00134
1807  066E  3A 00 00    	ld	a,(_tmp1)
1808  0671  B7          	or	a, a
1809  0672  28 04       	jr	Z,l_enemy_walk_00135
1810  0674              l_enemy_walk_00134:
1811  0674  0E 00       	ld	c,0x00
1812  0676  18 02       	jr	l_enemy_walk_00136
1813  0678              l_enemy_walk_00135:
1814  0678  0E 01       	ld	c,0x01
1815  067A              l_enemy_walk_00136:
1816  067A  21 00 00    	ld	hl,_tmp
1817  067D  71          	ld	(hl),c
1818  067E  79          	ld	a,c
1819  067F  B7          	or	a, a
1820  0680  CA 33 07    	jp	Z, l_enemy_walk_00132
1821  0683  2A 00 00    	ld	hl,(_sprite)
1822  0686  26 00       	ld	h,0x00
1823  0688  5D          	ld	e,l
1824  0689  01 00 00    	ld	bc,_lin
1825  068C  09          	add	hl,bc
1826  068D  4E          	ld	c,(hl)
1827  068E  06 00       	ld	b,0x00
1828  0690  50          	ld	d,b
1829  0691  21 00 00    	ld	hl,_jump_lin
1830  0694  19          	add	hl,de
1831  0695  5E          	ld	e, (hl)
1832  0696  16 00       	ld	d,0x00
1833  0698  79          	ld	a, c
1834  0699  93          	sub	a, e
1835  069A  4F          	ld	c, a
1836  069B  78          	ld	a, b
1837  069C  9A          	sbc	a, d
1838  069D  47          	ld	b, a
1839  069E  3E 08       	ld	a,0x08
1840  06A0  B9          	cp	a, c
1841  06A1  3E 00       	ld	a,0x00
1842  06A3  98          	sbc	a, b
1843  06A4  E2 A9 06    	jp	PO, l_enemy_walk_00207
1844  06A7  EE 80       	xor	a,0x80
1845  06A9              l_enemy_walk_00207:
1846  06A9  FA 33 07    	jp	M, l_enemy_walk_00132
1847  06AC  CD 00 00    	call	_spr_move_horizontal
1848  06AF  C3 33 07    	jp	l_enemy_walk_00132
1849  06B2              l_enemy_walk_00130:
1850  06B2  21 00 00    	ld	hl,_s_state
1851  06B5  CB 4E       	bit	1, (hl)
1852  06B7  28 1B       	jr	Z,l_enemy_walk_00120
1853  06B9  21 00 00    	ld	hl,_s_state
1854  06BC  CB 8E       	res	1, (hl)
1855  06BE  2A 00 00    	ld	hl,(_sprite)
1856  06C1  26 00       	ld	h,0x00
1857  06C3  01 00 00    	ld	bc,_jump_lin
1858  06C6  09          	add	hl,bc
1859  06C7  AF          	xor	a,a
1860  06C8  77          	ld	(hl),a
1861  06C9  2A 00 00    	ld	hl,(_sprite)
1862  06CC  26 00       	ld	h,0x00
1863  06CE  01 00 00    	ld	bc,_sprite_speed_alt
1864  06D1  09          	add	hl,bc
1865  06D2  AF          	xor	a,a
1866  06D3  77          	ld	(hl),a
1867  06D4              l_enemy_walk_00120:
1868  06D4  2A 00 00    	ld	hl,(_sprite)
1869  06D7  26 00       	ld	h,0x00
1870  06D9  01 00 00    	ld	bc,_state_a
1871  06DC  09          	add	hl,bc
1872  06DD  CB 4E       	bit	1,(hl)
1873  06DF  20 0F       	jr	NZ,l_enemy_walk_00127
1874  06E1  3A 00 00    	ld	a,(_loop_count)
1875  06E4  E6 03       	and	a,0x03
1876  06E6  20 03       	jr	NZ,l_enemy_walk_00122
1877  06E8  CD 00 00    	call	_enemy_collision
1878  06EB              l_enemy_walk_00122:
1879  06EB  CD 00 00    	call	_spr_move_horizontal
1880  06EE  18 43       	jr	l_enemy_walk_00132
1881  06F0              l_enemy_walk_00127:
1882  06F0  01 00 00    	ld	bc,_spr_timer+0
1883  06F3  2A 00 00    	ld	hl,(_sprite)
1884  06F6  26 00       	ld	h,0x00
1885  06F8  29          	add	hl, hl
1886  06F9  09          	add	hl,bc
1887  06FA  ED 5B 00 00 	ld	de,(_curr_time)
1888  06FE  73          	ld	(hl),e
1889  06FF  23          	inc	hl
1890  0700  72          	ld	(hl),d
1891  0701  2A 00 00    	ld	hl,(_sprite)
1892  0704  26 00       	ld	h,0x00
1893  0706  01 00 00    	ld	bc,_colint
1894  0709  09          	add	hl,bc
1895  070A  7E          	ld	a,(hl)
1896  070B  FE 02       	cp	a,0x02
1897  070D  30 04       	jr	NC,l_enemy_walk_00124
1898  070F  3C          	inc	a
1899  0710  77          	ld	(hl),a
1900  0711  18 20       	jr	l_enemy_walk_00132
1901  0713              l_enemy_walk_00124:
1902  0713  2A 00 00    	ld	hl,(_sprite)
1903  0716  26 00       	ld	h,0x00
1904  0718  01 00 00    	ld	bc,_state_a
1905  071B  09          	add	hl,bc
1906  071C  7E          	ld	a,(hl)
1907  071D  E6 FD       	and	a,0xfd
1908  071F  77          	ld	(hl),a
1909  0720  2A 00 00    	ld	hl,(_sprite)
1910  0723  26 00       	ld	h,0x00
1911  0725  01 00 00    	ld	bc,_tile
1912  0728  09          	add	hl,bc
1913  0729  E5          	push	hl
1914  072A  2A 00 00    	ld	hl,(_sprite)
1915  072D  CD 00 00    	call	_spr_tile
1916  0730  C1          	pop	bc
1917  0731  7D          	ld	a,l
1918  0732  02          	ld	(bc), a
1919  0733              l_enemy_walk_00132:
1920  0733  C9          	ret
1921  0734              	SECTION code_compiler
1922  0734              ;	---------------------------------
1923  0734              ; Function enemy_init
1924  0734              ; ---------------------------------
1925  0734              _enemy_init:
1926  0734  CD 00 00    	call	___sdcc_enter_ix
1927  0737  21 00 00    	ld	hl,_spr_count
1928  073A  34          	inc	(hl)
1929  073B  3E 00       	ld	a, +((_class) & 0xFF)
1930  073D  DD 86 04    	add	a,(ix+4)
1931  0740  4F          	ld	c, a
1932  0741  3E 00       	ld	a, +((_class) / 256)
1933  0743  CE 00       	adc	a,0x00
1934  0745  47          	ld	b, a
1935  0746  DD 7E 07    	ld	a,(ix+7)
1936  0749  02          	ld	(bc), a
1937  074A  3E 00       	ld	a, +((_lin) & 0xFF)
1938  074C  DD 86 04    	add	a,(ix+4)
1939  074F  4F          	ld	c, a
1940  0750  3E 00       	ld	a, +((_lin) / 256)
1941  0752  CE 00       	adc	a,0x00
1942  0754  47          	ld	b, a
1943  0755  DD 7E 05    	ld	a,(ix+5)
1944  0758  02          	ld	(bc), a
1945  0759  3E 00       	ld	a, +((_col) & 0xFF)
1946  075B  DD 86 04    	add	a,(ix+4)
1947  075E  4F          	ld	c, a
1948  075F  3E 00       	ld	a, +((_col) / 256)
1949  0761  CE 00       	adc	a,0x00
1950  0763  47          	ld	b, a
1951  0764  DD 7E 06    	ld	a,(ix+6)
1952  0767  02          	ld	(bc), a
1953  0768  21 00 00    	ld	hl,_tmp
1954  076B  36 00       	ld	(hl),0x00
1955  076D  3E 00       	ld	a, +((_state) & 0xFF)
1956  076F  DD 86 04    	add	a,(ix+4)
1957  0772  4F          	ld	c, a
1958  0773  3E 00       	ld	a, +((_state) / 256)
1959  0775  CE 00       	adc	a,0x00
1960  0777  47          	ld	b, a
1961  0778  AF          	xor	a, a
1962  0779  02          	ld	(bc), a
1963  077A  3E 00       	ld	a, +((_state_a) & 0xFF)
1964  077C  DD 86 04    	add	a,(ix+4)
1965  077F  5F          	ld	e, a
1966  0780  3E 00       	ld	a, +((_state_a) / 256)
1967  0782  CE 00       	adc	a,0x00
1968  0784  57          	ld	d, a
1969  0785  AF          	xor	a, a
1970  0786  12          	ld	(de), a
1971  0787  3E 00       	ld	a, +((_jump_lin) & 0xFF)
1972  0789  DD 86 04    	add	a,(ix+4)
1973  078C  5F          	ld	e, a
1974  078D  3E 00       	ld	a, +((_jump_lin) / 256)
1975  078F  CE 00       	adc	a,0x00
1976  0791  57          	ld	d, a
1977  0792  AF          	xor	a, a
1978  0793  12          	ld	(de), a
1979  0794  DD 7E 08    	ld	a,(ix+8)
1980  0797  3D          	dec	a
1981  0798  20 04       	jr	NZ,l_enemy_init_00102
1982  079A  0A          	ld	a, (bc)
1983  079B  F6 04       	or	a,0x04
1984  079D  02          	ld	(bc), a
1985  079E              l_enemy_init_00102:
1986  079E  DD 7E 08    	ld	a,(ix+8)
1987  07A1  3C          	inc	a
1988  07A2  20 04       	jr	NZ,l_enemy_init_00104
1989  07A4  0A          	ld	a, (bc)
1990  07A5  F6 08       	or	a,0x08
1991  07A7  02          	ld	(bc), a
1992  07A8              l_enemy_init_00104:
1993  07A8  3E 00       	ld	a, +((_colint) & 0xFF)
1994  07AA  DD 86 04    	add	a,(ix+4)
1995  07AD  4F          	ld	c, a
1996  07AE  3E 00       	ld	a, +((_colint) / 256)
1997  07B0  CE 00       	adc	a,0x00
1998  07B2  47          	ld	b, a
1999  07B3  AF          	xor	a, a
2000  07B4  02          	ld	(bc), a
2001  07B5  3E 00       	ld	a, +((_tile) & 0xFF)
2002  07B7  DD 86 04    	add	a,(ix+4)
2003  07BA  4F          	ld	c, a
2004  07BB  3E 00       	ld	a, +((_tile) / 256)
2005  07BD  CE 00       	adc	a,0x00
2006  07BF  47          	ld	b, a
2007  07C0  C5          	push	bc
2008  07C1  DD 6E 04    	ld	l,(ix+4)
2009  07C4  CD 00 00    	call	_spr_tile
2010  07C7  C1          	pop	bc
2011  07C8  7D          	ld	a,l
2012  07C9  02          	ld	(bc), a
2013  07CA  DD 6E 04    	ld	l,(ix+4)
2014  07CD  26 00       	ld	h,0x00
2015  07CF  29          	add	hl,hl
2016  07D0  4D          	ld	c,l
2017  07D1  44          	ld	b,h
2018  07D2  21 00 00    	ld	hl,_last_time
2019  07D5  09          	add	hl, bc
2020  07D6  AF          	xor	a, a
2021  07D7  77          	ld	(hl), a
2022  07D8  23          	inc	hl
2023  07D9  77          	ld	(hl), a
2024  07DA  21 00 00    	ld	hl,_spr_timer
2025  07DD  09          	add	hl,bc
2026  07DE  ED 5B 00 00 	ld	de,(_curr_time)
2027  07E2  73          	ld	(hl),e
2028  07E3  23          	inc	hl
2029  07E4  72          	ld	(hl),d
2030  07E5  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2031  07E7  DD 86 04    	add	a,(ix+4)
2032  07EA  4F          	ld	c, a
2033  07EB  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2034  07ED  CE 00       	adc	a,0x00
2035  07EF  47          	ld	b, a
2036  07F0  AF          	xor	a, a
2037  07F1  02          	ld	(bc), a
2038  07F2  DD E1       	pop	ix
2039  07F4  C9          	ret
2040  07F5              	SECTION code_compiler
2041  07F5              ;	---------------------------------
2042  07F5              ; Function enemy_kill
2043  07F5              ; ---------------------------------
2044  07F5              _enemy_kill:
2045  07F5  7D          	ld	a,l
2046  07F6  32 00 00    	ld	(_tmp),a
2047  07F9  C3 00 00    	jp  _sound_kill
2048  07FC              	SECTION IGNORE
2049  0000              
