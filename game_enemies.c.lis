1     0000              MODULE game_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _enemy_ghost
189   0000              	GLOBAL _enemy_gota
190   0000              	GLOBAL _enemy_check_deadly
191   0000              	GLOBAL _enemy_turn
192   0000              	GLOBAL _boss_turn
193   0000              	GLOBAL _boss_draw
194   0000              	GLOBAL _enemy_move
195   0000              	GLOBAL _enemy_static
196   0000              	GLOBAL _enemy_horizontal
197   0000              	GLOBAL _enemy_vertical
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_kill
200   0000              	GLOBAL _enemy_avoid_fall
201   0000              	GLOBAL _enemy_avoid_dead
202   0000              	GLOBAL _enemy_respawn
203   0000              	GLOBAL _enemy_init
204   0000              ;--------------------------------------------------------
205   0000              ; Externals used
206   0000              ;--------------------------------------------------------
207   0000              	GLOBAL _ulltoa_callee
208   0000              	GLOBAL _ulltoa
209   0000              	GLOBAL _strtoull_callee
210   0000              	GLOBAL _strtoull
211   0000              	GLOBAL _strtoll_callee
212   0000              	GLOBAL _strtoll
213   0000              	GLOBAL _lltoa_callee
214   0000              	GLOBAL _lltoa
215   0000              	GLOBAL _llabs_callee
216   0000              	GLOBAL _llabs
217   0000              	GLOBAL __lldivu__callee
218   0000              	GLOBAL __lldivu_
219   0000              	GLOBAL __lldiv__callee
220   0000              	GLOBAL __lldiv_
221   0000              	GLOBAL _atoll_callee
222   0000              	GLOBAL _atoll
223   0000              	GLOBAL _realloc_unlocked_callee
224   0000              	GLOBAL _realloc_unlocked
225   0000              	GLOBAL _malloc_unlocked_fastcall
226   0000              	GLOBAL _malloc_unlocked
227   0000              	GLOBAL _free_unlocked_fastcall
228   0000              	GLOBAL _free_unlocked
229   0000              	GLOBAL _calloc_unlocked_callee
230   0000              	GLOBAL _calloc_unlocked
231   0000              	GLOBAL _aligned_alloc_unlocked_callee
232   0000              	GLOBAL _aligned_alloc_unlocked
233   0000              	GLOBAL _realloc_callee
234   0000              	GLOBAL _realloc
235   0000              	GLOBAL _malloc_fastcall
236   0000              	GLOBAL _malloc
237   0000              	GLOBAL _free_fastcall
238   0000              	GLOBAL _free
239   0000              	GLOBAL _calloc_callee
240   0000              	GLOBAL _calloc
241   0000              	GLOBAL _aligned_alloc_callee
242   0000              	GLOBAL _aligned_alloc
243   0000              	GLOBAL _utoa_callee
244   0000              	GLOBAL _utoa
245   0000              	GLOBAL _ultoa_callee
246   0000              	GLOBAL _ultoa
247   0000              	GLOBAL _system_fastcall
248   0000              	GLOBAL _system
249   0000              	GLOBAL _strtoul_callee
250   0000              	GLOBAL _strtoul
251   0000              	GLOBAL _strtol_callee
252   0000              	GLOBAL _strtol
253   0000              	GLOBAL _strtof_callee
254   0000              	GLOBAL _strtof
255   0000              	GLOBAL _strtod_callee
256   0000              	GLOBAL _strtod
257   0000              	GLOBAL _srand_fastcall
258   0000              	GLOBAL _srand
259   0000              	GLOBAL _rand
260   0000              	GLOBAL _quick_exit_fastcall
261   0000              	GLOBAL _quick_exit
262   0000              	GLOBAL _qsort_callee
263   0000              	GLOBAL _qsort
264   0000              	GLOBAL _ltoa_callee
265   0000              	GLOBAL _ltoa
266   0000              	GLOBAL _labs_fastcall
267   0000              	GLOBAL _labs
268   0000              	GLOBAL _itoa_callee
269   0000              	GLOBAL _itoa
270   0000              	GLOBAL _ftoh_callee
271   0000              	GLOBAL _ftoh
272   0000              	GLOBAL _ftog_callee
273   0000              	GLOBAL _ftog
274   0000              	GLOBAL _ftoe_callee
275   0000              	GLOBAL _ftoe
276   0000              	GLOBAL _ftoa_callee
277   0000              	GLOBAL _ftoa
278   0000              	GLOBAL _exit_fastcall
279   0000              	GLOBAL _exit
280   0000              	GLOBAL _dtoh_callee
281   0000              	GLOBAL _dtoh
282   0000              	GLOBAL _dtog_callee
283   0000              	GLOBAL _dtog
284   0000              	GLOBAL _dtoe_callee
285   0000              	GLOBAL _dtoe
286   0000              	GLOBAL _dtoa_callee
287   0000              	GLOBAL _dtoa
288   0000              	GLOBAL _bsearch_callee
289   0000              	GLOBAL _bsearch
290   0000              	GLOBAL _atol_fastcall
291   0000              	GLOBAL _atol
292   0000              	GLOBAL _atoi_fastcall
293   0000              	GLOBAL _atoi
294   0000              	GLOBAL _atof_fastcall
295   0000              	GLOBAL _atof
296   0000              	GLOBAL _atexit_fastcall
297   0000              	GLOBAL _atexit
298   0000              	GLOBAL _at_quick_exit_fastcall
299   0000              	GLOBAL _at_quick_exit
300   0000              	GLOBAL _abs_fastcall
301   0000              	GLOBAL _abs
302   0000              	GLOBAL _abort
303   0000              	GLOBAL __strtou__callee
304   0000              	GLOBAL __strtou_
305   0000              	GLOBAL __strtoi__callee
306   0000              	GLOBAL __strtoi_
307   0000              	GLOBAL __random_uniform_xor_8__fastcall
308   0000              	GLOBAL __random_uniform_xor_8_
309   0000              	GLOBAL __random_uniform_xor_32__fastcall
310   0000              	GLOBAL __random_uniform_xor_32_
311   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
312   0000              	GLOBAL __random_uniform_cmwc_8_
313   0000              	GLOBAL __shellsort__callee
314   0000              	GLOBAL __shellsort_
315   0000              	GLOBAL __quicksort__callee
316   0000              	GLOBAL __quicksort_
317   0000              	GLOBAL __insertion_sort__callee
318   0000              	GLOBAL __insertion_sort_
319   0000              	GLOBAL __ldivu__callee
320   0000              	GLOBAL __ldivu_
321   0000              	GLOBAL __ldiv__callee
322   0000              	GLOBAL __ldiv_
323   0000              	GLOBAL __divu__callee
324   0000              	GLOBAL __divu_
325   0000              	GLOBAL __div__callee
326   0000              	GLOBAL __div_
327   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
328   0000              	GLOBAL _NIRVANAP_drawTW_raw
329   0000              	GLOBAL _NIRVANAP_drawTW_callee
330   0000              	GLOBAL _NIRVANAP_drawTW
331   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
332   0000              	GLOBAL _NIRVANAP_drawW_raw
333   0000              	GLOBAL _NIRVANAP_drawW_callee
334   0000              	GLOBAL _NIRVANAP_drawW
335   0000              	GLOBAL _NIRVANAP_spriteT_callee
336   0000              	GLOBAL _NIRVANAP_spriteT
337   0000              	GLOBAL _NIRVANAP_fillC_callee
338   0000              	GLOBAL _NIRVANAP_fillC
339   0000              	GLOBAL _NIRVANAP_readC_callee
340   0000              	GLOBAL _NIRVANAP_readC
341   0000              	GLOBAL _NIRVANAP_paintC_callee
342   0000              	GLOBAL _NIRVANAP_paintC
343   0000              	GLOBAL _NIRVANAP_printC_callee
344   0000              	GLOBAL _NIRVANAP_printC
345   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
346   0000              	GLOBAL _NIRVANAP_fillT_raw
347   0000              	GLOBAL _NIRVANAP_fillT_callee
348   0000              	GLOBAL _NIRVANAP_fillT
349   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
350   0000              	GLOBAL _NIRVANAP_drawT_raw
351   0000              	GLOBAL _NIRVANAP_drawT_callee
352   0000              	GLOBAL _NIRVANAP_drawT
353   0000              	GLOBAL _NIRVANAP_stop
354   0000              	GLOBAL _NIRVANAP_start
355   0000              	GLOBAL _debug3
356   0000              	GLOBAL _debug2
357   0000              	GLOBAL _debug
358   0000              	GLOBAL _zx_print_str
359   0000              	GLOBAL _zx_print_int
360   0000              	GLOBAL _zx_print_chr
361   0000              	GLOBAL _zx_print_bonus_time
362   0000              	GLOBAL _zx_isr
363   0000              	GLOBAL _z80_otdr_callee
364   0000              	GLOBAL _z80_otdr
365   0000              	GLOBAL _z80_otir_callee
366   0000              	GLOBAL _z80_otir
367   0000              	GLOBAL _z80_outp_callee
368   0000              	GLOBAL _z80_outp
369   0000              	GLOBAL _z80_indr_callee
370   0000              	GLOBAL _z80_indr
371   0000              	GLOBAL _z80_inir_callee
372   0000              	GLOBAL _z80_inir
373   0000              	GLOBAL _z80_inp_fastcall
374   0000              	GLOBAL _z80_inp
375   0000              	GLOBAL _z80_set_int_state_fastcall
376   0000              	GLOBAL _z80_set_int_state
377   0000              	GLOBAL _z80_get_int_state
378   0000              	GLOBAL _z80_delay_tstate_fastcall
379   0000              	GLOBAL _z80_delay_tstate
380   0000              	GLOBAL _z80_delay_ms_fastcall
381   0000              	GLOBAL _z80_delay_ms
382   0000              	GLOBAL _im2_remove_generic_callback_callee
383   0000              	GLOBAL _im2_remove_generic_callback
384   0000              	GLOBAL _im2_prepend_generic_callback_callee
385   0000              	GLOBAL _im2_prepend_generic_callback
386   0000              	GLOBAL _im2_append_generic_callback_callee
387   0000              	GLOBAL _im2_append_generic_callback
388   0000              	GLOBAL _im2_create_generic_isr_8080_callee
389   0000              	GLOBAL _im2_create_generic_isr_8080
390   0000              	GLOBAL _im2_create_generic_isr_callee
391   0000              	GLOBAL _im2_create_generic_isr
392   0000              	GLOBAL _im2_install_isr_callee
393   0000              	GLOBAL _im2_install_isr
394   0000              	GLOBAL _im2_init_fastcall
395   0000              	GLOBAL _im2_init
396   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
397   0000              	GLOBAL _intrinsic_swap_word_32
398   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
399   0000              	GLOBAL _intrinsic_swap_endian_32
400   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
401   0000              	GLOBAL _intrinsic_swap_endian_16
402   0000              	GLOBAL _intrinsic_return_de
403   0000              	GLOBAL _intrinsic_return_bc
404   0000              	GLOBAL _intrinsic_exx
405   0000              	GLOBAL _intrinsic_ex_de_hl
406   0000              	GLOBAL _intrinsic_nop
407   0000              	GLOBAL _intrinsic_im_2
408   0000              	GLOBAL _intrinsic_im_1
409   0000              	GLOBAL _intrinsic_im_0
410   0000              	GLOBAL _intrinsic_retn
411   0000              	GLOBAL _intrinsic_reti
412   0000              	GLOBAL _intrinsic_halt
413   0000              	GLOBAL _intrinsic_ei
414   0000              	GLOBAL _intrinsic_di
415   0000              	GLOBAL _intrinsic_stub
416   0000              	GLOBAL _intrinsic_outi
417   0000              	GLOBAL _intrinsic_ldi
418   0000              	GLOBAL _zx_pattern_fill_callee
419   0000              	GLOBAL _zx_pattern_fill
420   0000              	GLOBAL _zx_saddrpup_fastcall
421   0000              	GLOBAL _zx_saddrpup
422   0000              	GLOBAL _zx_saddrpright_callee
423   0000              	GLOBAL _zx_saddrpright
424   0000              	GLOBAL _zx_saddrpleft_callee
425   0000              	GLOBAL _zx_saddrpleft
426   0000              	GLOBAL _zx_saddrpdown_fastcall
427   0000              	GLOBAL _zx_saddrpdown
428   0000              	GLOBAL _zx_saddrcup_fastcall
429   0000              	GLOBAL _zx_saddrcup
430   0000              	GLOBAL _zx_saddrcright_fastcall
431   0000              	GLOBAL _zx_saddrcright
432   0000              	GLOBAL _zx_saddrcleft_fastcall
433   0000              	GLOBAL _zx_saddrcleft
434   0000              	GLOBAL _zx_saddrcdown_fastcall
435   0000              	GLOBAL _zx_saddrcdown
436   0000              	GLOBAL _zx_saddr2py_fastcall
437   0000              	GLOBAL _zx_saddr2py
438   0000              	GLOBAL _zx_saddr2px_fastcall
439   0000              	GLOBAL _zx_saddr2px
440   0000              	GLOBAL _zx_saddr2cy_fastcall
441   0000              	GLOBAL _zx_saddr2cy
442   0000              	GLOBAL _zx_saddr2cx_fastcall
443   0000              	GLOBAL _zx_saddr2cx
444   0000              	GLOBAL _zx_saddr2aaddr_fastcall
445   0000              	GLOBAL _zx_saddr2aaddr
446   0000              	GLOBAL _zx_py2saddr_fastcall
447   0000              	GLOBAL _zx_py2saddr
448   0000              	GLOBAL _zx_py2aaddr_fastcall
449   0000              	GLOBAL _zx_py2aaddr
450   0000              	GLOBAL _zx_pxy2saddr_callee
451   0000              	GLOBAL _zx_pxy2saddr
452   0000              	GLOBAL _zx_pxy2aaddr_callee
453   0000              	GLOBAL _zx_pxy2aaddr
454   0000              	GLOBAL _zx_px2bitmask_fastcall
455   0000              	GLOBAL _zx_px2bitmask
456   0000              	GLOBAL _zx_cy2saddr_fastcall
457   0000              	GLOBAL _zx_cy2saddr
458   0000              	GLOBAL _zx_cy2aaddr_fastcall
459   0000              	GLOBAL _zx_cy2aaddr
460   0000              	GLOBAL _zx_cxy2saddr_callee
461   0000              	GLOBAL _zx_cxy2saddr
462   0000              	GLOBAL _zx_cxy2aaddr_callee
463   0000              	GLOBAL _zx_cxy2aaddr
464   0000              	GLOBAL _zx_bitmask2px_fastcall
465   0000              	GLOBAL _zx_bitmask2px
466   0000              	GLOBAL _zx_aaddrcup_fastcall
467   0000              	GLOBAL _zx_aaddrcup
468   0000              	GLOBAL _zx_aaddrcright_fastcall
469   0000              	GLOBAL _zx_aaddrcright
470   0000              	GLOBAL _zx_aaddrcleft_fastcall
471   0000              	GLOBAL _zx_aaddrcleft
472   0000              	GLOBAL _zx_aaddrcdown_fastcall
473   0000              	GLOBAL _zx_aaddrcdown
474   0000              	GLOBAL _zx_aaddr2saddr_fastcall
475   0000              	GLOBAL _zx_aaddr2saddr
476   0000              	GLOBAL _zx_aaddr2py_fastcall
477   0000              	GLOBAL _zx_aaddr2py
478   0000              	GLOBAL _zx_aaddr2px_fastcall
479   0000              	GLOBAL _zx_aaddr2px
480   0000              	GLOBAL _zx_aaddr2cy_fastcall
481   0000              	GLOBAL _zx_aaddr2cy
482   0000              	GLOBAL _zx_aaddr2cx_fastcall
483   0000              	GLOBAL _zx_aaddr2cx
484   0000              	GLOBAL _zx_visit_wc_pix_callee
485   0000              	GLOBAL _zx_visit_wc_pix
486   0000              	GLOBAL _zx_visit_wc_attr_callee
487   0000              	GLOBAL _zx_visit_wc_attr
488   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
489   0000              	GLOBAL _zx_scroll_wc_up_pix
490   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
491   0000              	GLOBAL _zx_scroll_wc_up_attr
492   0000              	GLOBAL _zx_scroll_wc_up_callee
493   0000              	GLOBAL _zx_scroll_wc_up
494   0000              	GLOBAL _zx_scroll_up_pix_callee
495   0000              	GLOBAL _zx_scroll_up_pix
496   0000              	GLOBAL _zx_scroll_up_attr_callee
497   0000              	GLOBAL _zx_scroll_up_attr
498   0000              	GLOBAL _zx_scroll_up_callee
499   0000              	GLOBAL _zx_scroll_up
500   0000              	GLOBAL _zx_cls_wc_pix_callee
501   0000              	GLOBAL _zx_cls_wc_pix
502   0000              	GLOBAL _zx_cls_wc_attr_callee
503   0000              	GLOBAL _zx_cls_wc_attr
504   0000              	GLOBAL _zx_cls_wc_callee
505   0000              	GLOBAL _zx_cls_wc
506   0000              	GLOBAL _zx_cls_pix_fastcall
507   0000              	GLOBAL _zx_cls_pix
508   0000              	GLOBAL _zx_cls_attr_fastcall
509   0000              	GLOBAL _zx_cls_attr
510   0000              	GLOBAL _zx_cls_fastcall
511   0000              	GLOBAL _zx_cls
512   0000              	GLOBAL _zx_border_fastcall
513   0000              	GLOBAL _zx_border
514   0000              	GLOBAL _spr_colision_b2
515   0000              	GLOBAL _spr_colision_b
516   0000              	GLOBAL _spr_unflatten
517   0000              	GLOBAL _spr_flatten
518   0000              	GLOBAL _spr_btile_paint_back
519   0000              	GLOBAL _spr_bullet_explode
520   0000              	GLOBAL _spr_init_effects
521   0000              	GLOBAL _spr_turn_horizontal
522   0000              	GLOBAL _spr_bullets_play
523   0000              	GLOBAL _spr_play_anim
524   0000              	GLOBAL _spr_add_anim
525   0000              	GLOBAL _spr_clear_scr
526   0000              	GLOBAL _spr_page_map
527   0000              	GLOBAL _spr_page_down
528   0000              	GLOBAL _spr_page_up
529   0000              	GLOBAL _spr_page_right
530   0000              	GLOBAL _spr_page_left
531   0000              	GLOBAL _spr_tile_paint
532   0000              	GLOBAL _spr_draw_index
533   0000              	GLOBAL _spr_brick_anim
534   0000              	GLOBAL _spr_back_repaint
535   0000              	GLOBAL _spr_tile
536   0000              	GLOBAL _spr_destroy
537   0000              	GLOBAL _spr_tile_dir
538   0000              	GLOBAL _spr_redraw
539   0000              	GLOBAL _spr_move_left
540   0000              	GLOBAL _spr_move_right
541   0000              	GLOBAL _spr_move_horizontal
542   0000              	GLOBAL _spr_move_down
543   0000              	GLOBAL _spr_move_up
544   0000              	GLOBAL _spr_set_right
545   0000              	GLOBAL _spr_set_left
546   0000              	GLOBAL _spr_set_down
547   0000              	GLOBAL _spr_set_up
548   0000              	GLOBAL _spr_calc_index
549   0000              	GLOBAL _spr_chktime
550   0000              	GLOBAL _player_fix_walk_lin
551   0000              	GLOBAL _player_gasta_brick
552   0000              	GLOBAL _player_lost_life
553   0000              	GLOBAL _player_hit
554   0000              	GLOBAL _player_open_door
555   0000              	GLOBAL _player_move_jump
556   0000              	GLOBAL _player_fire
557   0000              	GLOBAL _player_check_stairs_vertical
558   0000              	GLOBAL _player_check_stairs
559   0000              	GLOBAL _player_tile
560   0000              	GLOBAL _player_anim_tile
561   0000              	GLOBAL _player_pick_item
562   0000              	GLOBAL _player_check_floor
563   0000              	GLOBAL _player_hit_platform_clear
564   0000              	GLOBAL _player_score_add
565   0000              	GLOBAL _player_hit_platform
566   0000              	GLOBAL _player_move_input
567   0000              	GLOBAL _player_turn
568   0000              	GLOBAL _player_move
569   0000              	GLOBAL _player_check_input
570   0000              	GLOBAL _player_pick_mushroom
571   0000              	GLOBAL _player_collision
572   0000              	GLOBAL _player_init
573   0000              	GLOBAL _menu_define_key
574   0000              	GLOBAL _menu_redefine
575   0000              	GLOBAL _menu_main_print
576   0000              	GLOBAL _menu_main
577   0000              	GLOBAL _game_match_back
578   0000              	GLOBAL _game_attribs
579   0000              	GLOBAL _game_boss_clear
580   0000              	GLOBAL _game_boss_kill
581   0000              	GLOBAL _game_obj_clear
582   0000              	GLOBAL _game_obj_chk
583   0000              	GLOBAL _game_obj_set
584   0000              	GLOBAL _game_shoot_fire_boss
585   0000              	GLOBAL _game_shoot_fire
586   0000              	GLOBAL _game_add_enemy
587   0000              	GLOBAL _game_print_header
588   0000              	GLOBAL _game_check_time
589   0000              	GLOBAL _game_rotate_attrib_osd
590   0000              	GLOBAL _game_rotate_attrib
591   0000              	GLOBAL _game_colour_message
592   0000              	GLOBAL _game_paint_attrib_lin_osd
593   0000              	GLOBAL _game_paint_attrib_lin_h
594   0000              	GLOBAL _game_paint_attrib_lin
595   0000              	GLOBAL _game_print_score
596   0000              	GLOBAL _game_check_cell
597   0000              	GLOBAL _game_check_map
598   0000              	GLOBAL _game_loop
599   0000              	GLOBAL _game_round_init
600   0000              	GLOBAL _game_set_checkpoint
601   0000              	GLOBAL _game_start_timer
602   0000              	GLOBAL _game_update_stats
603   0000              	GLOBAL _game_print_footer
604   0000              	GLOBAL _game_fill_row
605   0000              	GLOBAL _game_fps
606   0000              	GLOBAL _game_respawn
607   0000              	GLOBAL _game_draw_screen
608   0000              	GLOBAL _ay_reset
609   0000              	GLOBAL _ay_song_stop
610   0000              	GLOBAL _ay_song_play
611   0000              	GLOBAL _ay_fx_stop
612   0000              	GLOBAL _ay_fx_play
613   0000              	GLOBAL _ay_is_playing
614   0000              	GLOBAL _test_func
615   0000              	GLOBAL _test_proc
616   0000              	GLOBAL _in_mouse_kempston_wheel_delta
617   0000              	GLOBAL _in_mouse_kempston_wheel
618   0000              	GLOBAL _in_mouse_kempston_callee
619   0000              	GLOBAL _in_mouse_kempston
620   0000              	GLOBAL _in_mouse_kempston_setpos_callee
621   0000              	GLOBAL _in_mouse_kempston_setpos
622   0000              	GLOBAL _in_mouse_kempston_reset
623   0000              	GLOBAL _in_mouse_kempston_init
624   0000              	GLOBAL _in_mouse_amx_wheel_delta
625   0000              	GLOBAL _in_mouse_amx_wheel
626   0000              	GLOBAL _in_mouse_amx_callee
627   0000              	GLOBAL _in_mouse_amx
628   0000              	GLOBAL _in_mouse_amx_setpos_callee
629   0000              	GLOBAL _in_mouse_amx_setpos
630   0000              	GLOBAL _in_mouse_amx_reset
631   0000              	GLOBAL _in_mouse_amx_init_callee
632   0000              	GLOBAL _in_mouse_amx_init
633   0000              	GLOBAL _in_stick_sinclair2
634   0000              	GLOBAL _in_stick_sinclair1
635   0000              	GLOBAL _in_stick_kempston
636   0000              	GLOBAL _in_stick_fuller
637   0000              	GLOBAL _in_stick_cursor
638   0000              	GLOBAL _in_stick_keyboard_fastcall
639   0000              	GLOBAL _in_stick_keyboard
640   0000              	GLOBAL _in_wait_nokey
641   0000              	GLOBAL _in_wait_key
642   0000              	GLOBAL _in_test_key
643   0000              	GLOBAL _in_pause_fastcall
644   0000              	GLOBAL _in_pause
645   0000              	GLOBAL _in_key_scancode_fastcall
646   0000              	GLOBAL _in_key_scancode
647   0000              	GLOBAL _in_key_pressed_fastcall
648   0000              	GLOBAL _in_key_pressed
649   0000              	GLOBAL _in_inkey
650   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
651   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
652   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
653   0000              	GLOBAL _NIRVANAP_HOLE
654   0000              	GLOBAL _NIRVANAP_ISR_HOOK
655   0000              	GLOBAL _scan_map
656   0000              	GLOBAL _key_map
657   0000              	GLOBAL _player_lvl_table
658   0000              	GLOBAL _stp_row
659   0000              	GLOBAL _stp_col
660   0000              	GLOBAL _stp_tile
661   0000              	GLOBAL _map_paper_last_a
662   0000              	GLOBAL _map_paper_last
663   0000              	GLOBAL _map_paper_clr
664   0000              	GLOBAL _map_paper
665   0000              	GLOBAL _draw_count
666   0000              	GLOBAL _g_player_hit_right
667   0000              	GLOBAL _g_player_hit_left
668   0000              	GLOBAL _bullet_count
669   0000              	GLOBAL _spr_hack
670   0000              	GLOBAL _boss_stat
671   0000              	GLOBAL _boss_time_fire
672   0000              	GLOBAL _boss_time
673   0000              	GLOBAL _boss_tile
674   0000              	GLOBAL _boss_inc
675   0000              	GLOBAL _boss_col
676   0000              	GLOBAL _boss_lin
677   0000              	GLOBAL _bullet
678   0000              	GLOBAL _bullet_vel
679   0000              	GLOBAL _bullet_frames
680   0000              	GLOBAL _bullet_colint
681   0000              	GLOBAL _bullet_dir
682   0000              	GLOBAL _bullet_tile
683   0000              	GLOBAL _bullet_col
684   0000              	GLOBAL _bullet_lin
685   0000              	GLOBAL _bullet_col0
686   0000              	GLOBAL _bullet_lin0
687   0000              	GLOBAL _bullet_max
688   0000              	GLOBAL _bullet_class
689   0000              	GLOBAL _mush_class
690   0000              	GLOBAL _mush_index
691   0000              	GLOBAL _anim_count
692   0000              	GLOBAL _anim_respanwn
693   0000              	GLOBAL _anim_loop
694   0000              	GLOBAL _anim_end
695   0000              	GLOBAL _anim_int
696   0000              	GLOBAL _anim_tile
697   0000              	GLOBAL _anim_col
698   0000              	GLOBAL _anim_lin
699   0000              	GLOBAL _map_heigth
700   0000              	GLOBAL _map_width
701   0000              	GLOBAL _scr_curr
702   0000              	GLOBAL _sprite_kind
703   0000              	GLOBAL _scr_obj1
704   0000              	GLOBAL _scr_obj0
705   0000              	GLOBAL _scr_map
706   0000              	GLOBAL _sprite_speed_alt
707   0000              	GLOBAL _spr_init
708   0000              	GLOBAL _spr_map_tile
709   0000              	GLOBAL _sprite_frames
710   0000              	GLOBAL _sprite_speed
711   0000              	GLOBAL _screen_ink
712   0000              	GLOBAL _screen_paper
713   0000              	GLOBAL _player_onstair
714   0000              	GLOBAL _game_start_scr
715   0000              	GLOBAL _game_respawn_tile
716   0000              	GLOBAL _game_respawn_index
717   0000              	GLOBAL _game_respawn_time
718   0000              	GLOBAL _game_score_top
719   0000              	GLOBAL _player_coins
720   0000              	GLOBAL _player_lives
721   0000              	GLOBAL _game_over
722   0000              	GLOBAL _game_sound
723   0000              	GLOBAL _game_inf_lives
724   0000              	GLOBAL _game_inmune
725   0000              	GLOBAL _sprite_curr_index
726   0000              	GLOBAL _spr_count
727   0000              	GLOBAL _bullet_time
728   0000              	GLOBAL _anim_time
729   0000              	GLOBAL _frame_time
730   0000              	GLOBAL _curr_time
731   0000              	GLOBAL _s_state
732   0000              	GLOBAL _attrib_osd
733   0000              	GLOBAL _attrib_hl
734   0000              	GLOBAL _attrib
735   0000              	GLOBAL _zx_val_asm
736   0000              	GLOBAL _enemies
737   0000              	GLOBAL _tmp_ui
738   0000              	GLOBAL _tmp_sc
739   0000              	GLOBAL _tmp_uc
740   0000              	GLOBAL _tmp1
741   0000              	GLOBAL _tmp0
742   0000              	GLOBAL _tmp
743   0000              	GLOBAL _index1
744   0000              	GLOBAL _index0
745   0000              	GLOBAL _loop_count
746   0000              	GLOBAL _s_class
747   0000              	GLOBAL _s_col1
748   0000              	GLOBAL _s_col0
749   0000              	GLOBAL _s_lin1
750   0000              	GLOBAL _s_lin0
751   0000              	GLOBAL _s_tile1
752   0000              	GLOBAL _s_tile0
753   0000              	GLOBAL _player_brick_time
754   0000              	GLOBAL _player_hit_count
755   0000              	GLOBAL _game_show_fps
756   0000              	GLOBAL _sprite_horizontal_check
757   0000              	GLOBAL _sprite_on_air
758   0000              	GLOBAL _sprite
759   0000              	GLOBAL _fps
760   0000              	GLOBAL _game_2buttons
761   0000              	GLOBAL _game_respawn_curr_time
762   0000              	GLOBAL _game_worldup
763   0000              	GLOBAL _game_mush_count
764   0000              	GLOBAL _game_boss_fix
765   0000              	GLOBAL _game_boss_hit
766   0000              	GLOBAL _game_boss_alive
767   0000              	GLOBAL _game_boss
768   0000              	GLOBAL _game_world
769   0000              	GLOBAL _game_gravity
770   0000              	GLOBAL _player_onfire
771   0000              	GLOBAL _player_anim_stair
772   0000              	GLOBAL _player_hit_time
773   0000              	GLOBAL _game_checkpoint_scr
774   0000              	GLOBAL _game_checkpoint_lin
775   0000              	GLOBAL _game_checkpoint_col
776   0000              	GLOBAL _player_lin_scr
777   0000              	GLOBAL _player_col_scr
778   0000              	GLOBAL _player_lvl
779   0000              	GLOBAL _player_int
780   0000              	GLOBAL _player_str
781   0000              	GLOBAL _player_max_vita
782   0000              	GLOBAL _player_max_mana
783   0000              	GLOBAL _player_vita
784   0000              	GLOBAL _player_mana
785   0000              	GLOBAL _player_keys
786   0000              	GLOBAL _player_vel_inc
787   0000              	GLOBAL _player_vel_y1
788   0000              	GLOBAL _player_vel_y0
789   0000              	GLOBAL _player_vel_y
790   0000              	GLOBAL _player_vel_x
791   0000              	GLOBAL _player_score
792   0000              	GLOBAL _last_time
793   0000              	GLOBAL _player_slide
794   0000              	GLOBAL _spr_timer
795   0000              	GLOBAL _jump_lin
796   0000              	GLOBAL _player_hit_col
797   0000              	GLOBAL _player_hit_lin
798   0000              	GLOBAL _colint
799   0000              	GLOBAL _col
800   0000              	GLOBAL _lin
801   0000              	GLOBAL _tile
802   0000              	GLOBAL _state_a
803   0000              	GLOBAL _state
804   0000              	GLOBAL _class
805   0000              	GLOBAL _tbuffer
806   0000              	GLOBAL _dirs_alt
807   0000              	GLOBAL _dirs
808   0000              	GLOBAL _k2
809   0000              	GLOBAL _k1
810   0000              	GLOBAL _joyfunc2
811   0000              	GLOBAL _joyfunc1
812   0000              	GLOBAL _btiles
813   0000              	GLOBAL _spec128
814   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
815   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
816   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
817   0000              	GLOBAL _ay_song_06_ciel
818   0000              	GLOBAL _ay_song_04_sunflower
819   0000              	GLOBAL _ay_song_04_lotr_level_start
820   0000              	GLOBAL _ay_song_04_lotr_level_complete
821   0000              	GLOBAL _ay_song_04_lotr_lose_a_life
822   0000              	GLOBAL _ay_song_04_lotr
823   0000              	GLOBAL _ay_fx_06_explosion1
824   0000              	GLOBAL _ay_fx_06_efecto
825   0000              	GLOBAL _ay_fx_06_disparo2
826   0000              	GLOBAL _ay_fx_06_disparo1
827   0000              	GLOBAL _ay_fx_04_sin_mana
828   0000              	GLOBAL _ay_fx_04_salto
829   0000              	GLOBAL _ay_fx_04_pierto_abierta
830   0000              	GLOBAL _ay_fx_04_magia1
831   0000              	GLOBAL _ay_fx_04_golpe
832   0000              	GLOBAL _ay_fx_04_explosion
833   0000              	GLOBAL _ay_fx_04_dano_por_toque
834   0000              	GLOBAL _ay_fx_04_coin
835   0000              	GLOBAL _world0_h
836   0000              	GLOBAL _world0_w
837   0000              	GLOBAL _world0
838   0000              	GLOBAL _paper0
839   0000              	GLOBAL _lenght0
840   0000              	GLOBAL _start_scr0
841   0000              ;--------------------------------------------------------
842   0000              ; special function registers
843   0000              ;--------------------------------------------------------
844   0000              defc _IO_FE	=	0x00fe
845   0000              defc _IO_1FFD	=	0x1ffd
846   0000              defc _IO_7FFD	=	0x7ffd
847   0000              ;--------------------------------------------------------
848   0000              ; ram data
849   0000              ;--------------------------------------------------------
850   0000              	SECTION bss_compiler
851   0000              ;--------------------------------------------------------
852   0000              ; ram data
853   0000              ;--------------------------------------------------------
854   0000              
855   0000              IF 0
856   0000              
857   0000              ; .area _INITIALIZED removed by z88dk
858   0000              
859   0000              
860   0000              ENDIF
861   0000              
862   0000              ;--------------------------------------------------------
863   0000              ; absolute external ram data
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; global & static initialisations
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_crt_init
870   0000              ;--------------------------------------------------------
871   0000              ; Home
872   0000              ;--------------------------------------------------------
873   0000              	SECTION IGNORE
874   0000              ;--------------------------------------------------------
875   0000              ; code
876   0000              ;--------------------------------------------------------
877   0000              	SECTION code_compiler
878   0000              ;	---------------------------------
879   0000              ; Function enemy_turn
880   0000              ; ---------------------------------
881   0000              _enemy_turn:
882   0000  21 00 00    	ld	hl,_sprite
883   0003  36 00       	ld	(hl),0x00
884   0005              l_enemy_turn_00106:
885   0005  21 00 00    	ld	hl,_sprite
886   0008  7E          	ld	a, (hl)
887   0009  D6 07       	sub	a,0x07
888   000B  30 70       	jr	NC,l_enemy_turn_00109
889   000D  4E          	ld	c,(hl)
890   000E  06 00       	ld	b,0x00
891   0010  21 00 00    	ld	hl,_class
892   0013  09          	add	hl,bc
893   0014  7E          	ld	a,(hl)
894   0015  32 00 00    	ld	(_s_class),a
895   0018  B7          	or	a, a
896   0019  28 5C       	jr	Z,l_enemy_turn_00104
897   001B  21 00 00    	ld	hl,_sprite
898   001E  CD 00 00    	call	_spr_chktime
899   0021  7D          	ld	a, l
900   0022  B7          	or	a, a
901   0023  28 52       	jr	Z,l_enemy_turn_00104
902   0025  2A 00 00    	ld	hl,(_sprite)
903   0028  26 00       	ld	h,0x00
904   002A  01 00 00    	ld	bc,_lin
905   002D  09          	add	hl,bc
906   002E  7E          	ld	a,(hl)
907   002F  32 00 00    	ld	(_s_lin0),a
908   0032  2A 00 00    	ld	hl,(_sprite)
909   0035  26 00       	ld	h,0x00
910   0037  01 00 00    	ld	bc,_col
911   003A  09          	add	hl,bc
912   003B  7E          	ld	a,(hl)
913   003C  32 00 00    	ld	(_s_col0),a
914   003F  2A 00 00    	ld	hl,(_sprite)
915   0042  26 00       	ld	h,0x00
916   0044  01 00 00    	ld	bc,_state
917   0047  09          	add	hl,bc
918   0048  7E          	ld	a,(hl)
919   0049  32 00 00    	ld	(_s_state),a
920   004C  CD 20 02    	call	_enemy_move
921   004F  CD 00 00    	call	_spr_redraw
922   0052  7D          	ld	a, l
923   0053  B7          	or	a, a
924   0054  28 03       	jr	Z,l_enemy_turn_00102
925   0056  CD 7E 00    	call	_enemy_check_deadly
926   0059              l_enemy_turn_00102:
927   0059  2A 00 00    	ld	hl,(_sprite)
928   005C  26 00       	ld	h,0x00
929   005E  01 00 00    	ld	bc,_state
930   0061  09          	add	hl,bc
931   0062  3A 00 00    	ld	a,(_s_state)
932   0065  77          	ld	(hl),a
933   0066  2A 00 00    	ld	hl,(_sprite)
934   0069  26 00       	ld	h,0x00
935   006B  29          	add	hl,hl
936   006C  01 00 00    	ld	bc,_last_time
937   006F  09          	add	hl,bc
938   0070  ED 5B 00 00 	ld	de,(_curr_time)
939   0074  73          	ld	(hl),e
940   0075  23          	inc	hl
941   0076  72          	ld	(hl),d
942   0077              l_enemy_turn_00104:
943   0077  21 00 00    	ld	hl,_sprite
944   007A  34          	inc	(hl)
945   007B  18 88       	jr	l_enemy_turn_00106
946   007D              l_enemy_turn_00109:
947   007D  C9          	ret
948   007E              	SECTION code_compiler
949   007E              ;	---------------------------------
950   007E              ; Function enemy_check_deadly
951   007E              ; ---------------------------------
952   007E              _enemy_check_deadly:
953   007E  2A 00 00    	ld	hl,(_sprite)
954   0081  26 00       	ld	h,0x00
955   0083  5D          	ld	e,l
956   0084  01 00 00    	ld	bc,_col
957   0087  09          	add	hl,bc
958   0088  46          	ld	b,(hl)
959   0089  16 00       	ld	d,0x00
960   008B  21 00 00    	ld	hl,_lin
961   008E  19          	add	hl,de
962   008F  4E          	ld	c, (hl)
963   0090  C5          	push	bc
964   0091  CD 00 00    	call	_spr_calc_index
965   0094  F1          	pop	af
966   0095  22 00 00    	ld	(_index1),hl
967   0098  01 00 00    	ld	bc,_scr_map
968   009B  09          	add	hl,bc
969   009C  4E          	ld	c, (hl)
970   009D  3E 2F       	ld	a,0x2f
971   009F  91          	sub	a, c
972   00A0  3E 00       	ld	a,0x00
973   00A2  17          	rla
974   00A3  47          	ld	b, a
975   00A4  79          	ld	a, c
976   00A5  D6 3A       	sub	a,0x3a
977   00A7  3E 00       	ld	a,0x00
978   00A9  17          	rla
979   00AA  A0          	and	a,b
980   00AB  28 4C       	jr	Z,l_enemy_check_deadly_00114
981   00AD  3A 00 00    	ld	a,(_s_class)
982   00B0  FE 09       	cp	a,0x09
983   00B2  28 0C       	jr	Z,l_enemy_check_deadly_00109
984   00B4  D6 0A       	sub	a,0x0a
985   00B6  28 08       	jr	Z,l_enemy_check_deadly_00109
986   00B8  2A 00 00    	ld	hl,(_sprite)
987   00BB  CD B1 06    	call	_enemy_kill
988   00BE  18 39       	jr	l_enemy_check_deadly_00114
989   00C0              l_enemy_check_deadly_00109:
990   00C0  21 00 00    	ld	hl,_s_state
991   00C3  CB 4E       	bit	1, (hl)
992   00C5  28 19       	jr	Z,l_enemy_check_deadly_00106
993   00C7  21 00 00    	ld	hl,_s_state
994   00CA  CD 00 00    	call	_spr_set_up
995   00CD  3A 00 00    	ld	a,(_s_class)
996   00D0  D6 0A       	sub	a,0x0a
997   00D2  20 25       	jr	NZ,l_enemy_check_deadly_00114
998   00D4  2A 00 00    	ld	hl,(_sprite)
999   00D7  26 00       	ld	h,0x00
1000  00D9  01 00 00    	ld	bc,_tile
1001  00DC  09          	add	hl,bc
1002  00DD  34          	inc	(hl)
1003  00DE  18 19       	jr	l_enemy_check_deadly_00114
1004  00E0              l_enemy_check_deadly_00106:
1005  00E0  21 00 00    	ld	hl,_s_state
1006  00E3  CD 00 00    	call	_spr_set_down
1007  00E6  3A 00 00    	ld	a,(_s_class)
1008  00E9  D6 0A       	sub	a,0x0a
1009  00EB  C0          	ret	NZ
1010  00EC  2A 00 00    	ld	hl,(_sprite)
1011  00EF  26 00       	ld	h,0x00
1012  00F1  01 00 00    	ld	bc,_tile
1013  00F4  09          	add	hl,bc
1014  00F5  7E          	ld	a,(hl)
1015  00F6  C6 FF       	add	a,0xff
1016  00F8  77          	ld	(hl),a
1017  00F9              l_enemy_check_deadly_00114:
1018  00F9  C9          	ret
1019  00FA              	SECTION code_compiler
1020  00FA              ;	---------------------------------
1021  00FA              ; Function boss_turn
1022  00FA              ; ---------------------------------
1023  00FA              _boss_turn:
1024  00FA  3E 06       	ld	a,0x06
1025  00FC  F5          	push	af
1026  00FD  33          	inc	sp
1027  00FE  21 00 00    	ld	hl,_boss_time
1028  0101  E5          	push	hl
1029  0102  CD 00 00    	call	_game_check_time
1030  0105  F1          	pop	af
1031  0106  33          	inc	sp
1032  0107  7D          	ld	a, l
1033  0108  B7          	or	a, a
1034  0109  CA BC 01    	jp	Z, l_boss_turn_00117
1035  010C  3A 00 00    	ld	a,(_boss_col)
1036  010F  32 00 00    	ld	(_s_col1),a
1037  0112  3A 00 00    	ld	a,(_boss_lin)
1038  0115  32 00 00    	ld	(_s_lin1),a
1039  0118  21 00 00    	ld	hl,_boss_stat
1040  011B  CB 46       	bit	0, (hl)
1041  011D  28 13       	jr	Z,l_boss_turn_00106
1042  011F  21 00 00    	ld	hl,_boss_lin
1043  0122  7E          	ld	a,(hl)
1044  0123  C6 FE       	add	a,-0x02
1045  0125  77          	ld	(hl),a
1046  0126  D6 30       	sub	a,0x30
1047  0128  30 19       	jr	NC,l_boss_turn_00107
1048  012A  21 00 00    	ld	hl,_boss_stat
1049  012D  CD 00 00    	call	_spr_set_down
1050  0130  18 11       	jr	l_boss_turn_00107
1051  0132              l_boss_turn_00106:
1052  0132  21 00 00    	ld	hl,_boss_lin
1053  0135  7E          	ld	a,(hl)
1054  0136  C6 02       	add	a,0x02
1055  0138  77          	ld	(hl),a
1056  0139  D6 50       	sub	a,0x50
1057  013B  38 06       	jr	C,l_boss_turn_00107
1058  013D  21 00 00    	ld	hl,_boss_stat
1059  0140  CD 00 00    	call	_spr_set_up
1060  0143              l_boss_turn_00107:
1061  0143  3E 40       	ld	a,0x40
1062  0145  F5          	push	af
1063  0146  33          	inc	sp
1064  0147  21 00 00    	ld	hl,_boss_time_fire
1065  014A  E5          	push	hl
1066  014B  CD 00 00    	call	_game_check_time
1067  014E  F1          	pop	af
1068  014F  33          	inc	sp
1069  0150  7D          	ld	a, l
1070  0151  B7          	or	a, a
1071  0152  28 3B       	jr	Z,l_boss_turn_00111
1072  0154  21 00 00    	ld	hl,_boss_col
1073  0157  35          	dec	(hl)
1074  0158  35          	dec	(hl)
1075  0159  21 00 00    	ld	hl,_tmp0
1076  015C  36 00       	ld	(hl),0x00
1077  015E  21 00 00    	ld	hl,_ay_fx_06_disparo2
1078  0161  E5          	push	hl
1079  0162  21 01 06    	ld	hl,0x0601
1080  0165  E5          	push	hl
1081  0166  CD 00 00    	call	_ay_song_play
1082  0169  3E 78       	ld	a,0x78
1083  016B  F5          	push	af
1084  016C  33          	inc	sp
1085  016D  CD 00 00    	call	_game_shoot_fire_boss
1086  0170  33          	inc	sp
1087  0171  3A 00 00    	ld	a,(_game_world)
1088  0174  3D          	dec	a
1089  0175  20 0D       	jr	NZ,l_boss_turn_00109
1090  0177  21 00 00    	ld	hl,_tmp0
1091  017A  36 01       	ld	(hl),0x01
1092  017C  3E 78       	ld	a,0x78
1093  017E  F5          	push	af
1094  017F  33          	inc	sp
1095  0180  CD 00 00    	call	_game_shoot_fire_boss
1096  0183  33          	inc	sp
1097  0184              l_boss_turn_00109:
1098  0184  2A 00 00    	ld	hl,(_curr_time)
1099  0187  22 00 00    	ld	(_boss_time_fire),hl
1100  018A  21 00 00    	ld	hl,_boss_col
1101  018D  34          	inc	(hl)
1102  018E  34          	inc	(hl)
1103  018F              l_boss_turn_00111:
1104  018F  21 00 00    	ld	hl,_spr_hack
1105  0192  36 01       	ld	(hl),0x01
1106  0194  76          	halt
1107  0195  F3          	di
1108  0196  21 00 00    	ld	hl,_boss_inc
1109  0199  7E          	ld	a, (hl)
1110  019A  B7          	or	a, a
1111  019B  28 09       	jr	Z,l_boss_turn_00113
1112  019D  36 00       	ld	(hl),0x00
1113  019F  2E 00       	ld	l,0x00
1114  01A1  CD BD 01    	call	_boss_draw
1115  01A4  18 0A       	jr	l_boss_turn_00114
1116  01A6              l_boss_turn_00113:
1117  01A6  21 00 00    	ld	hl,_boss_inc
1118  01A9  36 01       	ld	(hl),0x01
1119  01AB  2E 02       	ld	l,0x02
1120  01AD  CD BD 01    	call	_boss_draw
1121  01B0              l_boss_turn_00114:
1122  01B0  FB          	ei
1123  01B1  21 00 00    	ld	hl,_spr_hack
1124  01B4  36 00       	ld	(hl),0x00
1125  01B6  2A 00 00    	ld	hl,(_curr_time)
1126  01B9  22 00 00    	ld	(_boss_time),hl
1127  01BC              l_boss_turn_00117:
1128  01BC  C9          	ret
1129  01BD              	SECTION code_compiler
1130  01BD              ;	---------------------------------
1131  01BD              ; Function boss_draw
1132  01BD              ; ---------------------------------
1133  01BD              _boss_draw:
1134  01BD  3A 00 00    	ld	a,(_boss_tile)
1135  01C0  85          	add	a,l
1136  01C1  4D          	ld	c,l
1137  01C2  47          	ld	b, a
1138  01C3  3A 00 00    	ld	a,(_s_col1)
1139  01C6  C5          	push	bc
1140  01C7  F5          	push	af
1141  01C8  33          	inc	sp
1142  01C9  3A 00 00    	ld	a,(_boss_lin)
1143  01CC  48          	ld	c,b
1144  01CD  47          	ld	b,a
1145  01CE  C5          	push	bc
1146  01CF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1147  01D2  C1          	pop	bc
1148  01D3  21 00 00    	ld	hl,_s_col1
1149  01D6  56          	ld	d, (hl)
1150  01D7  14          	inc	d
1151  01D8  14          	inc	d
1152  01D9  3A 00 00    	ld	a,(_boss_tile)
1153  01DC  81          	add	a, c
1154  01DD  47          	ld	b, a
1155  01DE  04          	inc	b
1156  01DF  C5          	push	bc
1157  01E0  D5          	push	de
1158  01E1  33          	inc	sp
1159  01E2  3A 00 00    	ld	a,(_boss_lin)
1160  01E5  48          	ld	c,b
1161  01E6  47          	ld	b,a
1162  01E7  C5          	push	bc
1163  01E8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1164  01EB  C1          	pop	bc
1165  01EC  3A 00 00    	ld	a,(_boss_lin)
1166  01EF  C6 10       	add	a,0x10
1167  01F1  57          	ld	d, a
1168  01F2  3A 00 00    	ld	a,(_boss_tile)
1169  01F5  81          	add	a, c
1170  01F6  C6 0C       	add	a,0x0c
1171  01F8  47          	ld	b, a
1172  01F9  3A 00 00    	ld	a,(_s_col1)
1173  01FC  C5          	push	bc
1174  01FD  5A          	ld	e,d
1175  01FE  57          	ld	d,a
1176  01FF  D5          	push	de
1177  0200  C5          	push	bc
1178  0201  33          	inc	sp
1179  0202  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1180  0205  C1          	pop	bc
1181  0206  21 00 00    	ld	hl,_s_col1
1182  0209  56          	ld	d, (hl)
1183  020A  14          	inc	d
1184  020B  14          	inc	d
1185  020C  3A 00 00    	ld	a,(_boss_lin)
1186  020F  C6 10       	add	a,0x10
1187  0211  47          	ld	b, a
1188  0212  3A 00 00    	ld	a,(_boss_tile)
1189  0215  81          	add	a, c
1190  0216  C6 0D       	add	a,0x0d
1191  0218  58          	ld	e,b
1192  0219  D5          	push	de
1193  021A  F5          	push	af
1194  021B  33          	inc	sp
1195  021C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1196  021F  C9          	ret
1197  0220              	SECTION code_compiler
1198  0220              ;	---------------------------------
1199  0220              ; Function enemy_move
1200  0220              ; ---------------------------------
1201  0220              _enemy_move:
1202  0220  2A 00 00    	ld	hl,(_s_class)
1203  0223  26 00       	ld	h,0x00
1204  0225  01 00 00    	ld	bc,_sprite_kind
1205  0228  09          	add	hl,bc
1206  0229  4E          	ld	c,(hl)
1207  022A  3E 06       	ld	a,0x06
1208  022C  91          	sub	a, c
1209  022D  38 3A       	jr	C,l_enemy_move_00108
1210  022F  06 00       	ld	b,0x00
1211  0231  21 38 02    	ld	hl,l_enemy_move_00114
1212  0234  09          	add	hl, bc
1213  0235  09          	add	hl, bc
1214  0236  09          	add	hl, bc
1215  0237  E9          	jp	(hl)
1216  0238              l_enemy_move_00114:
1217  0238  C3 69 02    	jp	l_enemy_move_00108
1218  023B  C3 52 02    	jp	l_enemy_move_00102
1219  023E  C3 5C 02    	jp	l_enemy_move_00104
1220  0241  C3 57 02    	jp	l_enemy_move_00103
1221  0244  C3 4D 02    	jp	l_enemy_move_00101
1222  0247  C3 61 02    	jp	l_enemy_move_00105
1223  024A  C3 66 02    	jp	l_enemy_move_00106
1224  024D              l_enemy_move_00101:
1225  024D  CD B0 03    	call	_enemy_static
1226  0250  18 17       	jr	l_enemy_move_00108
1227  0252              l_enemy_move_00102:
1228  0252  CD E4 03    	call	_enemy_horizontal
1229  0255  18 12       	jr	l_enemy_move_00108
1230  0257              l_enemy_move_00103:
1231  0257  CD 02 05    	call	_enemy_walk
1232  025A  18 0D       	jr	l_enemy_move_00108
1233  025C              l_enemy_move_00104:
1234  025C  CD 07 04    	call	_enemy_vertical
1235  025F  18 08       	jr	l_enemy_move_00108
1236  0261              l_enemy_move_00105:
1237  0261  CD D7 02    	call	_enemy_ghost
1238  0264  18 03       	jr	l_enemy_move_00108
1239  0266              l_enemy_move_00106:
1240  0266  CD 6A 02    	call	_enemy_gota
1241  0269              l_enemy_move_00108:
1242  0269  C9          	ret
1243  026A              	SECTION code_compiler
1244  026A              ;	---------------------------------
1245  026A              ; Function enemy_gota
1246  026A              ; ---------------------------------
1247  026A              _enemy_gota:
1248  026A  2A 00 00    	ld	hl,(_sprite)
1249  026D  26 00       	ld	h,0x00
1250  026F  01 00 00    	ld	bc,_colint
1251  0272  09          	add	hl,bc
1252  0273  7E          	ld	a,(hl)
1253  0274  B7          	or	a,a
1254  0275  4D          	ld	c,l
1255  0276  44          	ld	b,h
1256  0277  20 14       	jr	NZ,l_enemy_gota_00106
1257  0279  CD 00 00    	call	_spr_move_down
1258  027C  7D          	ld	a, l
1259  027D  B7          	or	a, a
1260  027E  28 56       	jr	Z,l_enemy_gota_00108
1261  0280  2A 00 00    	ld	hl,(_sprite)
1262  0283  26 00       	ld	h,0x00
1263  0285  01 00 00    	ld	bc,_colint
1264  0288  09          	add	hl,bc
1265  0289  36 01       	ld	(hl),0x01
1266  028B  18 49       	jr	l_enemy_gota_00108
1267  028D              l_enemy_gota_00106:
1268  028D  3C          	inc	a
1269  028E  02          	ld	(bc), a
1270  028F  2A 00 00    	ld	hl,(_sprite)
1271  0292  26 00       	ld	h,0x00
1272  0294  01 00 00    	ld	bc,_colint
1273  0297  09          	add	hl,bc
1274  0298  4E          	ld	c,(hl)
1275  0299  2A 00 00    	ld	hl,(_s_class)
1276  029C  26 00       	ld	h,0x00
1277  029E  11 00 00    	ld	de,_sprite_frames
1278  02A1  19          	add	hl,de
1279  02A2  46          	ld	b, (hl)
1280  02A3  79          	ld	a, c
1281  02A4  90          	sub	a, b
1282  02A5  C0          	ret	NZ
1283  02A6  2A 00 00    	ld	hl,(_sprite)
1284  02A9  26 00       	ld	h,0x00
1285  02AB  01 00 00    	ld	bc,_lin
1286  02AE  09          	add	hl,bc
1287  02AF  4D          	ld	c,l
1288  02B0  44          	ld	b,h
1289  02B1  2A 00 00    	ld	hl,(_sprite)
1290  02B4  26 00       	ld	h,0x00
1291  02B6  11 00 00    	ld	de,_game_respawn_index
1292  02B9  19          	add	hl,de
1293  02BA  7E          	ld	a,(hl)
1294  02BB  21 00 00    	ld	hl,_sprite
1295  02BE  07          	rlca
1296  02BF  07          	rlca
1297  02C0  07          	rlca
1298  02C1  07          	rlca
1299  02C2  E6 0F       	and	a,0x0f
1300  02C4  07          	rlca
1301  02C5  07          	rlca
1302  02C6  07          	rlca
1303  02C7  07          	rlca
1304  02C8  E6 F0       	and	a,0xf0
1305  02CA  02          	ld	(bc), a
1306  02CB  3E 00       	ld	a, +((_colint) & 0xFF)
1307  02CD  86          	add	a, (hl)
1308  02CE  4F          	ld	c, a
1309  02CF  3E 00       	ld	a, +((_colint) / 256)
1310  02D1  CE 00       	adc	a,0x00
1311  02D3  47          	ld	b, a
1312  02D4  AF          	xor	a, a
1313  02D5  02          	ld	(bc), a
1314  02D6              l_enemy_gota_00108:
1315  02D6  C9          	ret
1316  02D7              	SECTION code_compiler
1317  02D7              ;	---------------------------------
1318  02D7              ; Function enemy_ghost
1319  02D7              ; ---------------------------------
1320  02D7              _enemy_ghost:
1321  02D7  CD 00 00    	call	___sdcc_enter_ix
1322  02DA  3B          	dec	sp
1323  02DB  0E 00       	ld	c,0x00
1324  02DD  21 07 00    	ld	hl,+(_col + 0x0007)
1325  02E0  46          	ld	b, (hl)
1326  02E1  3A 00 00    	ld	a,(_s_col0)
1327  02E4  90          	sub	a, b
1328  02E5  30 1E       	jr	NC,l_enemy_ghost_00102
1329  02E7  21 00 00    	ld	hl,_s_state
1330  02EA  CD 00 00    	call	_spr_set_right
1331  02ED  2A 00 00    	ld	hl,(_sprite)
1332  02F0  26 00       	ld	h,0x00
1333  02F2  01 00 00    	ld	bc,_tile
1334  02F5  09          	add	hl,bc
1335  02F6  E5          	push	hl
1336  02F7  21 00 00    	ld	hl,_sprite
1337  02FA  CD 00 00    	call	_spr_tile
1338  02FD  C1          	pop	bc
1339  02FE  7D          	ld	a,l
1340  02FF  02          	ld	(bc), a
1341  0300  CD 00 00    	call	_spr_move_right
1342  0303  0E 01       	ld	c,0x01
1343  0305              l_enemy_ghost_00102:
1344  0305  3A 07 00    	ld	a,(_col + 0x0007)
1345  0308  21 00 00    	ld	hl,_s_col0
1346  030B  96          	sub	a, (hl)
1347  030C  30 1E       	jr	NC,l_enemy_ghost_00104
1348  030E  21 00 00    	ld	hl,_s_state
1349  0311  CD 00 00    	call	_spr_set_left
1350  0314  2A 00 00    	ld	hl,(_sprite)
1351  0317  26 00       	ld	h,0x00
1352  0319  01 00 00    	ld	bc,_tile
1353  031C  09          	add	hl,bc
1354  031D  E5          	push	hl
1355  031E  21 00 00    	ld	hl,_sprite
1356  0321  CD 00 00    	call	_spr_tile
1357  0324  C1          	pop	bc
1358  0325  7D          	ld	a,l
1359  0326  02          	ld	(bc), a
1360  0327  CD 00 00    	call	_spr_move_left
1361  032A  0E 01       	ld	c,0x01
1362  032C              l_enemy_ghost_00104:
1363  032C  2A 00 00    	ld	hl,(_sprite)
1364  032F  26 00       	ld	h,0x00
1365  0331  11 00 00    	ld	de,_col
1366  0334  19          	add	hl,de
1367  0335  46          	ld	b, (hl)
1368  0336  3A 00 00    	ld	a,(_s_col0)
1369  0339  90          	sub	a, b
1370  033A  20 60       	jr	NZ,l_enemy_ghost_00115
1371  033C  3A 07 00    	ld	a,(_lin + 0x0007)
1372  033F  47          	ld	b,a
1373  0340  21 00 00    	ld	hl,_s_lin0
1374  0343  96          	sub	a, (hl)
1375  0344  30 05       	jr	NC,l_enemy_ghost_00106
1376  0346  C5          	push	bc
1377  0347  CD 00 00    	call	_spr_move_up
1378  034A  C1          	pop	bc
1379  034B              l_enemy_ghost_00106:
1380  034B  21 07 00    	ld	hl,+(_lin + 0x0007)
1381  034E  46          	ld	b, (hl)
1382  034F  3A 00 00    	ld	a,(_s_lin0)
1383  0352  90          	sub	a, b
1384  0353  30 05       	jr	NC,l_enemy_ghost_00108
1385  0355  C5          	push	bc
1386  0356  CD 00 00    	call	_spr_move_down
1387  0359  C1          	pop	bc
1388  035A              l_enemy_ghost_00108:
1389  035A  79          	ld	a, c
1390  035B  B7          	or	a, a
1391  035C  20 4E       	jr	NZ,l_enemy_ghost_00117
1392  035E  2A 00 00    	ld	hl,(_sprite)
1393  0361  26 00       	ld	h,0x00
1394  0363  01 00 00    	ld	bc,_lin
1395  0366  09          	add	hl,bc
1396  0367  4E          	ld	c,(hl)
1397  0368  3A 00 00    	ld	a,(_s_lin0)
1398  036B  91          	sub	a, c
1399  036C  28 3E       	jr	Z,l_enemy_ghost_00117
1400  036E  01 00 00    	ld	bc,_colint+0
1401  0371  79          	ld	a, c
1402  0372  21 00 00    	ld	hl,_sprite
1403  0375  86          	add	a, (hl)
1404  0376  5F          	ld	e, a
1405  0377  78          	ld	a, b
1406  0378  CE 00       	adc	a,0x00
1407  037A  57          	ld	d, a
1408  037B  1A          	ld	a, (de)
1409  037C  3C          	inc	a
1410  037D  12          	ld	(de), a
1411  037E  79          	ld	a, c
1412  037F  86          	add	a, (hl)
1413  0380  4F          	ld	c, a
1414  0381  78          	ld	a, b
1415  0382  CE 00       	adc	a,0x00
1416  0384  47          	ld	b, a
1417  0385  0A          	ld	a, (bc)
1418  0386  DD 77 FF    	ld	(ix-1),a
1419  0389  2A 00 00    	ld	hl,(_s_class)
1420  038C  26 00       	ld	h,0x00
1421  038E  11 00 00    	ld	de,_sprite_frames
1422  0391  19          	add	hl,de
1423  0392  DD 7E FF    	ld	a,(ix-1)
1424  0395  96          	sub	a,(hl)
1425  0396  20 14       	jr	NZ,l_enemy_ghost_00117
1426  0398  AF          	xor	a, a
1427  0399  02          	ld	(bc), a
1428  039A  18 10       	jr	l_enemy_ghost_00117
1429  039C              l_enemy_ghost_00115:
1430  039C  CD 00 00    	call	_spr_back_repaint
1431  039F  2A 00 00    	ld	hl,(_sprite)
1432  03A2  26 00       	ld	h,0x00
1433  03A4  01 00 00    	ld	bc,_col
1434  03A7  09          	add	hl,bc
1435  03A8  7E          	ld	a,(hl)
1436  03A9  32 00 00    	ld	(_s_col0),a
1437  03AC              l_enemy_ghost_00117:
1438  03AC  33          	inc	sp
1439  03AD  DD E1       	pop	ix
1440  03AF  C9          	ret
1441  03B0              	SECTION code_compiler
1442  03B0              ;	---------------------------------
1443  03B0              ; Function enemy_static
1444  03B0              ; ---------------------------------
1445  03B0              _enemy_static:
1446  03B0  CD 00 00    	call	___sdcc_enter_ix
1447  03B3  3B          	dec	sp
1448  03B4  01 00 00    	ld	bc,_colint+0
1449  03B7  79          	ld	a, c
1450  03B8  21 00 00    	ld	hl,_sprite
1451  03BB  86          	add	a, (hl)
1452  03BC  5F          	ld	e, a
1453  03BD  78          	ld	a, b
1454  03BE  CE 00       	adc	a,0x00
1455  03C0  57          	ld	d, a
1456  03C1  1A          	ld	a, (de)
1457  03C2  3C          	inc	a
1458  03C3  12          	ld	(de), a
1459  03C4  79          	ld	a, c
1460  03C5  86          	add	a, (hl)
1461  03C6  4F          	ld	c, a
1462  03C7  78          	ld	a, b
1463  03C8  CE 00       	adc	a,0x00
1464  03CA  47          	ld	b, a
1465  03CB  0A          	ld	a, (bc)
1466  03CC  DD 77 FF    	ld	(ix-1),a
1467  03CF  2A 00 00    	ld	hl,(_s_class)
1468  03D2  26 00       	ld	h,0x00
1469  03D4  11 00 00    	ld	de,_sprite_frames
1470  03D7  19          	add	hl,de
1471  03D8  DD 7E FF    	ld	a,(ix-1)
1472  03DB  96          	sub	a,(hl)
1473  03DC  20 02       	jr	NZ,l_enemy_static_00103
1474  03DE  AF          	xor	a, a
1475  03DF  02          	ld	(bc), a
1476  03E0              l_enemy_static_00103:
1477  03E0  33          	inc	sp
1478  03E1  DD E1       	pop	ix
1479  03E3  C9          	ret
1480  03E4              	SECTION code_compiler
1481  03E4              ;	---------------------------------
1482  03E4              ; Function enemy_horizontal
1483  03E4              ; ---------------------------------
1484  03E4              _enemy_horizontal:
1485  03E4  21 00 00    	ld	hl,_s_state
1486  03E7  CB 56       	bit	2, (hl)
1487  03E9  28 0F       	jr	Z,l_enemy_horizontal_00106
1488  03EB  CD 00 00    	call	_spr_move_right
1489  03EE  7D          	ld	a, l
1490  03EF  B7          	or	a, a
1491  03F0  28 14       	jr	Z,l_enemy_horizontal_00108
1492  03F2  21 00 00    	ld	hl,_s_state
1493  03F5  CD 00 00    	call	_spr_set_left
1494  03F8  18 0C       	jr	l_enemy_horizontal_00108
1495  03FA              l_enemy_horizontal_00106:
1496  03FA  CD 00 00    	call	_spr_move_left
1497  03FD  7D          	ld	a, l
1498  03FE  B7          	or	a, a
1499  03FF  C8          	ret	Z
1500  0400  21 00 00    	ld	hl,_s_state
1501  0403  CD 00 00    	call	_spr_set_right
1502  0406              l_enemy_horizontal_00108:
1503  0406  C9          	ret
1504  0407              	SECTION code_compiler
1505  0407              ;	---------------------------------
1506  0407              ; Function enemy_vertical
1507  0407              ; ---------------------------------
1508  0407              _enemy_vertical:
1509  0407  CD 00 00    	call	___sdcc_enter_ix
1510  040A  3B          	dec	sp
1511  040B  21 00 00    	ld	hl,_s_state
1512  040E  CB 4E       	bit	1, (hl)
1513  0410  28 20       	jr	Z,l_enemy_vertical_00110
1514  0412  CD 00 00    	call	_spr_move_down
1515  0415  7D          	ld	a, l
1516  0416  B7          	or	a, a
1517  0417  28 3A       	jr	Z,l_enemy_vertical_00111
1518  0419  21 00 00    	ld	hl,_s_state
1519  041C  CD 00 00    	call	_spr_set_up
1520  041F  3A 00 00    	ld	a,(_s_class)
1521  0422  D6 0A       	sub	a,0x0a
1522  0424  20 2D       	jr	NZ,l_enemy_vertical_00111
1523  0426  2A 00 00    	ld	hl,(_sprite)
1524  0429  26 00       	ld	h,0x00
1525  042B  01 00 00    	ld	bc,_tile
1526  042E  09          	add	hl,bc
1527  042F  34          	inc	(hl)
1528  0430  18 21       	jr	l_enemy_vertical_00111
1529  0432              l_enemy_vertical_00110:
1530  0432  CD 00 00    	call	_spr_move_up
1531  0435  7D          	ld	a, l
1532  0436  B7          	or	a, a
1533  0437  28 1A       	jr	Z,l_enemy_vertical_00111
1534  0439  21 00 00    	ld	hl,_s_state
1535  043C  CD 00 00    	call	_spr_set_down
1536  043F  3A 00 00    	ld	a,(_s_class)
1537  0442  D6 0A       	sub	a,0x0a
1538  0444  20 0D       	jr	NZ,l_enemy_vertical_00111
1539  0446  2A 00 00    	ld	hl,(_sprite)
1540  0449  26 00       	ld	h,0x00
1541  044B  01 00 00    	ld	bc,_tile
1542  044E  09          	add	hl,bc
1543  044F  7E          	ld	a,(hl)
1544  0450  C6 FF       	add	a,0xff
1545  0452  77          	ld	(hl),a
1546  0453              l_enemy_vertical_00111:
1547  0453  3A 00 00    	ld	a,(_s_class)
1548  0456  D6 02       	sub	a,0x02
1549  0458  20 78       	jr	NZ,l_enemy_vertical_00122
1550  045A  2A 00 00    	ld	hl,(_sprite)
1551  045D  26 00       	ld	h,0x00
1552  045F  01 00 00    	ld	bc,_bullet_col
1553  0462  09          	add	hl,bc
1554  0463  7E          	ld	a,(hl)
1555  0464  3C          	inc	a
1556  0465  20 6B       	jr	NZ,l_enemy_vertical_00122
1557  0467  21 07 00    	ld	hl,_lin + 7
1558  046A  4E          	ld	c, (hl)
1559  046B  06 00       	ld	b,0x00
1560  046D  2A 00 00    	ld	hl,(_sprite)
1561  0470  60          	ld	h,b
1562  0471  11 00 00    	ld	de,_lin
1563  0474  19          	add	hl,de
1564  0475  5E          	ld	e, (hl)
1565  0476  16 00       	ld	d,0x00
1566  0478  79          	ld	a, c
1567  0479  93          	sub	a, e
1568  047A  6F          	ld	l, a
1569  047B  78          	ld	a, b
1570  047C  9A          	sbc	a, d
1571  047D  67          	ld	h, a
1572  047E  CD 00 00    	call	_abs_fastcall
1573  0481  7D          	ld	a,l
1574  0482  D6 08       	sub	a,0x08
1575  0484  7C          	ld	a,h
1576  0485  17          	rla
1577  0486  3F          	ccf
1578  0487  1F          	rra
1579  0488  DE 80       	sbc	a,0x80
1580  048A  30 46       	jr	NC,l_enemy_vertical_00122
1581  048C  21 00 00    	ld	hl,_s_state
1582  048F  CB 56       	bit	2, (hl)
1583  0491  28 11       	jr	Z,l_enemy_vertical_00116
1584  0493  21 07 00    	ld	hl,_col + 7
1585  0496  4E          	ld	c, (hl)
1586  0497  2A 00 00    	ld	hl,(_sprite)
1587  049A  26 00       	ld	h,0x00
1588  049C  11 00 00    	ld	de,_col
1589  049F  19          	add	hl,de
1590  04A0  7E          	ld	a,(hl)
1591  04A1  91          	sub	a, c
1592  04A2  38 19       	jr	C,l_enemy_vertical_00112
1593  04A4              l_enemy_vertical_00116:
1594  04A4  21 00 00    	ld	hl,_s_state
1595  04A7  CB 5E       	bit	3, (hl)
1596  04A9  28 27       	jr	Z,l_enemy_vertical_00122
1597  04AB  21 07 00    	ld	hl,_col + 7
1598  04AE  4E          	ld	c, (hl)
1599  04AF  2A 00 00    	ld	hl,(_sprite)
1600  04B2  26 00       	ld	h,0x00
1601  04B4  11 00 00    	ld	de,_col
1602  04B7  19          	add	hl,de
1603  04B8  46          	ld	b, (hl)
1604  04B9  79          	ld	a, c
1605  04BA  90          	sub	a, b
1606  04BB  30 15       	jr	NC,l_enemy_vertical_00122
1607  04BD              l_enemy_vertical_00112:
1608  04BD  21 00 00    	ld	hl,_ay_fx_06_disparo2
1609  04C0  E5          	push	hl
1610  04C1  21 01 06    	ld	hl,0x0601
1611  04C4  E5          	push	hl
1612  04C5  CD 00 00    	call	_ay_song_play
1613  04C8  2A 00 00    	ld	hl,(_sprite)
1614  04CB  26 78       	ld	h,0x78
1615  04CD  E5          	push	hl
1616  04CE  CD 00 00    	call	_game_shoot_fire
1617  04D1  F1          	pop	af
1618  04D2              l_enemy_vertical_00122:
1619  04D2  01 00 00    	ld	bc,_colint+0
1620  04D5  79          	ld	a, c
1621  04D6  21 00 00    	ld	hl,_sprite
1622  04D9  86          	add	a, (hl)
1623  04DA  5F          	ld	e, a
1624  04DB  78          	ld	a, b
1625  04DC  CE 00       	adc	a,0x00
1626  04DE  57          	ld	d, a
1627  04DF  1A          	ld	a, (de)
1628  04E0  3C          	inc	a
1629  04E1  12          	ld	(de), a
1630  04E2  79          	ld	a, c
1631  04E3  86          	add	a, (hl)
1632  04E4  4F          	ld	c, a
1633  04E5  78          	ld	a, b
1634  04E6  CE 00       	adc	a,0x00
1635  04E8  47          	ld	b, a
1636  04E9  0A          	ld	a, (bc)
1637  04EA  DD 77 FF    	ld	(ix-1),a
1638  04ED  2A 00 00    	ld	hl,(_s_class)
1639  04F0  26 00       	ld	h,0x00
1640  04F2  11 00 00    	ld	de,_sprite_frames
1641  04F5  19          	add	hl,de
1642  04F6  DD 7E FF    	ld	a,(ix-1)
1643  04F9  96          	sub	a,(hl)
1644  04FA  38 02       	jr	C,l_enemy_vertical_00125
1645  04FC  AF          	xor	a, a
1646  04FD  02          	ld	(bc), a
1647  04FE              l_enemy_vertical_00125:
1648  04FE  33          	inc	sp
1649  04FF  DD E1       	pop	ix
1650  0501  C9          	ret
1651  0502              	SECTION code_compiler
1652  0502              ;	---------------------------------
1653  0502              ; Function enemy_walk
1654  0502              ; ---------------------------------
1655  0502              _enemy_walk:
1656  0502  21 00 00    	ld	hl,_s_state
1657  0505  CB 4E       	bit	1, (hl)
1658  0507  C2 A5 06    	jp	NZ,l_enemy_walk_00151
1659  050A  CD 00 00    	call	_spr_move_horizontal
1660  050D  7D          	ld	a, l
1661  050E  B7          	or	a, a
1662  050F  28 05       	jr	Z,l_enemy_walk_00104
1663  0511  CD 00 00    	call	_spr_turn_horizontal
1664  0514  18 2D       	jr	l_enemy_walk_00105
1665  0516              l_enemy_walk_00104:
1666  0516  2A 00 00    	ld	hl,(_sprite)
1667  0519  26 00       	ld	h,0x00
1668  051B  01 00 00    	ld	bc,_col
1669  051E  09          	add	hl,bc
1670  051F  56          	ld	d, (hl)
1671  0520  2A 00 00    	ld	hl,(_sprite)
1672  0523  26 00       	ld	h,0x00
1673  0525  01 00 00    	ld	bc,_lin
1674  0528  09          	add	hl,bc
1675  0529  7E          	ld	a,(hl)
1676  052A  C6 10       	add	a,0x10
1677  052C  5F          	ld	e, a
1678  052D  D5          	push	de
1679  052E  CD 00 00    	call	_spr_calc_index
1680  0531  F1          	pop	af
1681  0532  22 00 00    	ld	(_index1),hl
1682  0535  01 00 00    	ld	bc,_scr_map
1683  0538  09          	add	hl,bc
1684  0539  7E          	ld	a,(hl)
1685  053A  D6 3A       	sub	a,0x3a
1686  053C  30 05       	jr	NC,l_enemy_walk_00105
1687  053E  21 00 00    	ld	hl,_s_state
1688  0541  CB CE       	set	1, (hl)
1689  0543              l_enemy_walk_00105:
1690  0543  2A 00 00    	ld	hl,(_sprite)
1691  0546  26 00       	ld	h,0x00
1692  0548  01 00 00    	ld	bc,_col
1693  054B  09          	add	hl,bc
1694  054C  4E          	ld	c,(hl)
1695  054D  CB 41       	bit	0,c
1696  054F  C2 B0 06    	jp	NZ,l_enemy_walk_00153
1697  0552  79          	ld	a, c
1698  0553  D6 1E       	sub	a,0x1e
1699  0555  20 04       	jr	NZ,l_enemy_walk_00247
1700  0557  3E 01       	ld	a,0x01
1701  0559  18 01       	jr	l_enemy_walk_00248
1702  055B              l_enemy_walk_00247:
1703  055B  AF          	xor	a,a
1704  055C              l_enemy_walk_00248:
1705  055C  47          	ld	b, a
1706  055D  3A 00 00    	ld	a,(_s_class)
1707  0560  FE 06       	cp	a,0x06
1708  0562  28 08       	jr	Z,l_enemy_walk_00114
1709  0564  FE 07       	cp	a,0x07
1710  0566  28 04       	jr	Z,l_enemy_walk_00114
1711  0568  D6 08       	sub	a,0x08
1712  056A  20 1E       	jr	NZ,l_enemy_walk_00115
1713  056C              l_enemy_walk_00114:
1714  056C  21 00 00    	ld	hl,_s_state
1715  056F  CB 4E       	bit	1, (hl)
1716  0571  20 22       	jr	NZ,l_enemy_walk_00116
1717  0573  79          	ld	a, c
1718  0574  B7          	or	a, a
1719  0575  28 04       	jr	Z,l_enemy_walk_00106
1720  0577  78          	ld	a, b
1721  0578  B7          	or	a, a
1722  0579  28 1A       	jr	Z,l_enemy_walk_00116
1723  057B              l_enemy_walk_00106:
1724  057B  CD 00 00    	call	_spr_back_repaint
1725  057E  2A 00 00    	ld	hl,(_sprite)
1726  0581  CD 00 00    	call	_spr_destroy
1727  0584  21 00 00    	ld	hl,_game_mush_count
1728  0587  35          	dec	(hl)
1729  0588  18 0B       	jr	l_enemy_walk_00116
1730  058A              l_enemy_walk_00115:
1731  058A  79          	ld	a, c
1732  058B  B7          	or	a, a
1733  058C  28 04       	jr	Z,l_enemy_walk_00111
1734  058E  78          	ld	a, b
1735  058F  B7          	or	a, a
1736  0590  28 03       	jr	Z,l_enemy_walk_00116
1737  0592              l_enemy_walk_00111:
1738  0592  CD 00 00    	call	_spr_turn_horizontal
1739  0595              l_enemy_walk_00116:
1740  0595  3A 00 00    	ld	a,(_s_class)
1741  0598  D6 0B       	sub	a,0x0b
1742  059A  20 03       	jr	NZ,l_enemy_walk_00120
1743  059C  CD 5C 07    	call	_enemy_avoid_dead
1744  059F              l_enemy_walk_00120:
1745  059F  3A 00 00    	ld	a,(_s_class)
1746  05A2  FE 0C       	cp	a,0x0c
1747  05A4  28 04       	jr	Z,l_enemy_walk_00121
1748  05A6  D6 0D       	sub	a,0x0d
1749  05A8  20 03       	jr	NZ,l_enemy_walk_00122
1750  05AA              l_enemy_walk_00121:
1751  05AA  CD 00 07    	call	_enemy_avoid_fall
1752  05AD              l_enemy_walk_00122:
1753  05AD  3A 00 00    	ld	a,(_s_class)
1754  05B0  D6 0F       	sub	a,0x0f
1755  05B2  20 75       	jr	NZ,l_enemy_walk_00134
1756  05B4  CD 00 07    	call	_enemy_avoid_fall
1757  05B7  2A 00 00    	ld	hl,(_sprite)
1758  05BA  26 00       	ld	h,0x00
1759  05BC  01 00 00    	ld	bc,_bullet_col
1760  05BF  09          	add	hl,bc
1761  05C0  7E          	ld	a,(hl)
1762  05C1  3C          	inc	a
1763  05C2  20 65       	jr	NZ,l_enemy_walk_00134
1764  05C4  21 07 00    	ld	hl,_lin + 7
1765  05C7  4E          	ld	c, (hl)
1766  05C8  06 00       	ld	b,0x00
1767  05CA  2A 00 00    	ld	hl,(_sprite)
1768  05CD  60          	ld	h,b
1769  05CE  11 00 00    	ld	de,_lin
1770  05D1  19          	add	hl,de
1771  05D2  5E          	ld	e, (hl)
1772  05D3  16 00       	ld	d,0x00
1773  05D5  79          	ld	a, c
1774  05D6  93          	sub	a, e
1775  05D7  6F          	ld	l, a
1776  05D8  78          	ld	a, b
1777  05D9  9A          	sbc	a, d
1778  05DA  67          	ld	h, a
1779  05DB  CD 00 00    	call	_abs_fastcall
1780  05DE  7D          	ld	a,l
1781  05DF  D6 20       	sub	a,0x20
1782  05E1  7C          	ld	a,h
1783  05E2  17          	rla
1784  05E3  3F          	ccf
1785  05E4  1F          	rra
1786  05E5  DE 80       	sbc	a,0x80
1787  05E7  30 40       	jr	NC,l_enemy_walk_00134
1788  05E9  2A 00 00    	ld	hl,(_sprite)
1789  05EC  26 00       	ld	h,0x00
1790  05EE  01 00 00    	ld	bc,_col
1791  05F1  09          	add	hl,bc
1792  05F2  4D          	ld	c,l
1793  05F3  44          	ld	b,h
1794  05F4  21 00 00    	ld	hl,_s_state
1795  05F7  CB 56       	bit	2, (hl)
1796  05F9  28 08       	jr	Z,l_enemy_walk_00128
1797  05FB  21 07 00    	ld	hl,+(_col + 0x0007)
1798  05FE  5E          	ld	e, (hl)
1799  05FF  0A          	ld	a, (bc)
1800  0600  93          	sub	a, e
1801  0601  38 11       	jr	C,l_enemy_walk_00124
1802  0603              l_enemy_walk_00128:
1803  0603  21 00 00    	ld	hl,_s_state
1804  0606  CB 5E       	bit	3, (hl)
1805  0608  28 1F       	jr	Z,l_enemy_walk_00134
1806  060A  21 07 00    	ld	hl,+(_col + 0x0007)
1807  060D  5E          	ld	e, (hl)
1808  060E  0A          	ld	a, (bc)
1809  060F  4F          	ld	c, a
1810  0610  7B          	ld	a, e
1811  0611  91          	sub	a, c
1812  0612  30 15       	jr	NC,l_enemy_walk_00134
1813  0614              l_enemy_walk_00124:
1814  0614  21 00 00    	ld	hl,_ay_fx_06_disparo2
1815  0617  E5          	push	hl
1816  0618  21 01 06    	ld	hl,0x0601
1817  061B  E5          	push	hl
1818  061C  CD 00 00    	call	_ay_song_play
1819  061F  2A 00 00    	ld	hl,(_sprite)
1820  0622  26 7C       	ld	h,0x7c
1821  0624  E5          	push	hl
1822  0625  CD 00 00    	call	_game_shoot_fire
1823  0628  F1          	pop	af
1824  0629              l_enemy_walk_00134:
1825  0629  3A 00 00    	ld	a,(_s_class)
1826  062C  D6 0E       	sub	a,0x0e
1827  062E  C2 B0 06    	jp	NZ,l_enemy_walk_00153
1828  0631  CD 00 07    	call	_enemy_avoid_fall
1829  0634  2A 00 00    	ld	hl,(_sprite)
1830  0637  26 00       	ld	h,0x00
1831  0639  01 00 00    	ld	bc,_bullet_col
1832  063C  09          	add	hl,bc
1833  063D  7E          	ld	a,(hl)
1834  063E  3C          	inc	a
1835  063F  20 6F       	jr	NZ,l_enemy_walk_00153
1836  0641  3A 07 00    	ld	a,(_col + 0x0007)
1837  0644  4F          	ld	c,a
1838  0645  06 00       	ld	b,0x00
1839  0647  2A 00 00    	ld	hl,(_sprite)
1840  064A  60          	ld	h,b
1841  064B  11 00 00    	ld	de,_col
1842  064E  19          	add	hl,de
1843  064F  5E          	ld	e, (hl)
1844  0650  16 00       	ld	d,0x00
1845  0652  79          	ld	a, c
1846  0653  93          	sub	a, e
1847  0654  6F          	ld	l, a
1848  0655  78          	ld	a, b
1849  0656  9A          	sbc	a, d
1850  0657  67          	ld	h, a
1851  0658  CD 00 00    	call	_abs_fastcall
1852  065B  7D          	ld	a,l
1853  065C  32 00 00    	ld	(_s_col1),a
1854  065F  D6 06       	sub	a,0x06
1855  0661  30 4D       	jr	NC,l_enemy_walk_00153
1856  0663  2A 00 00    	ld	hl,(_sprite)
1857  0666  26 00       	ld	h,0x00
1858  0668  01 00 00    	ld	bc,_col
1859  066B  09          	add	hl,bc
1860  066C  4D          	ld	c,l
1861  066D  44          	ld	b,h
1862  066E  21 00 00    	ld	hl,_s_state
1863  0671  CB 5E       	bit	3, (hl)
1864  0673  28 08       	jr	Z,l_enemy_walk_00139
1865  0675  0A          	ld	a, (bc)
1866  0676  5F          	ld	e, a
1867  0677  3A 07 00    	ld	a,(_col + 0x0007)
1868  067A  93          	sub	a, e
1869  067B  38 11       	jr	C,l_enemy_walk_00135
1870  067D              l_enemy_walk_00139:
1871  067D  21 00 00    	ld	hl,_s_state
1872  0680  CB 56       	bit	2, (hl)
1873  0682  28 2C       	jr	Z,l_enemy_walk_00153
1874  0684  0A          	ld	a, (bc)
1875  0685  4F          	ld	c, a
1876  0686  21 07 00    	ld	hl,+(_col + 0x0007)
1877  0689  46          	ld	b, (hl)
1878  068A  79          	ld	a, c
1879  068B  90          	sub	a, b
1880  068C  30 22       	jr	NC,l_enemy_walk_00153
1881  068E              l_enemy_walk_00135:
1882  068E  21 00 00    	ld	hl,_ay_fx_06_disparo2
1883  0691  E5          	push	hl
1884  0692  21 01 06    	ld	hl,0x0601
1885  0695  E5          	push	hl
1886  0696  CD 00 00    	call	_ay_song_play
1887  0699  2A 00 00    	ld	hl,(_sprite)
1888  069C  26 80       	ld	h,0x80
1889  069E  E5          	push	hl
1890  069F  CD 00 00    	call	_game_shoot_fire
1891  06A2  F1          	pop	af
1892  06A3  18 0B       	jr	l_enemy_walk_00153
1893  06A5              l_enemy_walk_00151:
1894  06A5  CD 00 00    	call	_spr_move_down
1895  06A8  7D          	ld	a, l
1896  06A9  B7          	or	a, a
1897  06AA  C8          	ret	Z
1898  06AB  21 00 00    	ld	hl,_s_state
1899  06AE  CB 8E       	res	1, (hl)
1900  06B0              l_enemy_walk_00153:
1901  06B0  C9          	ret
1902  06B1              	SECTION code_compiler
1903  06B1              ;	---------------------------------
1904  06B1              ; Function enemy_kill
1905  06B1              ; ---------------------------------
1906  06B1              _enemy_kill:
1907  06B1  CD 00 00    	call	___sdcc_enter_ix
1908  06B4  F5          	push	af
1909  06B5  4D          	ld	c,l
1910  06B6  11 00 00    	ld	de,_game_respawn_time+0
1911  06B9  26 00       	ld	h,0x00
1912  06BB  29          	add	hl, hl
1913  06BC  19          	add	hl,de
1914  06BD  E3          	ex	(sp), hl
1915  06BE  E1          	pop	hl
1916  06BF  ED 5B 00 00 	ld	de,(_curr_time)
1917  06C3  E5          	push	hl
1918  06C4  73          	ld	(hl), e
1919  06C5  23          	inc	hl
1920  06C6  72          	ld	(hl), d
1921  06C7  11 00 00    	ld	de,_lin+0
1922  06CA  69          	ld	l,c
1923  06CB  26 00       	ld	h,0x00
1924  06CD  19          	add	hl, de
1925  06CE  7E          	ld	a, (hl)
1926  06CF  32 00 00    	ld	(_s_lin0),a
1927  06D2  11 00 00    	ld	de,_col+0
1928  06D5  69          	ld	l,c
1929  06D6  26 00       	ld	h,0x00
1930  06D8  19          	add	hl, de
1931  06D9  7E          	ld	a, (hl)
1932  06DA  32 00 00    	ld	(_s_col0),a
1933  06DD  69          	ld	l, c
1934  06DE  CD 00 00    	call	_spr_destroy
1935  06E1  CD 00 00    	call	_spr_bullet_explode
1936  06E4  3A 00 00    	ld	a,(_s_col0)
1937  06E7  21 00 00    	ld	hl,0x0000
1938  06EA  E5          	push	hl
1939  06EB  21 8D 03    	ld	hl,0x038d
1940  06EE  E5          	push	hl
1941  06EF  F5          	push	af
1942  06F0  33          	inc	sp
1943  06F1  3A 00 00    	ld	a,(_s_lin0)
1944  06F4  F5          	push	af
1945  06F5  33          	inc	sp
1946  06F6  CD 00 00    	call	_spr_add_anim
1947  06F9  F1          	pop	af
1948  06FA  F1          	pop	af
1949  06FB  F1          	pop	af
1950  06FC  F1          	pop	af
1951  06FD  DD E1       	pop	ix
1952  06FF  C9          	ret
1953  0700              	SECTION code_compiler
1954  0700              ;	---------------------------------
1955  0700              ; Function enemy_avoid_fall
1956  0700              ; ---------------------------------
1957  0700              _enemy_avoid_fall:
1958  0700  21 00 00    	ld	hl,_s_state
1959  0703  CB 56       	bit	2, (hl)
1960  0705  28 25       	jr	Z,l_enemy_avoid_fall_00102
1961  0707  2A 00 00    	ld	hl,(_sprite)
1962  070A  26 00       	ld	h,0x00
1963  070C  01 00 00    	ld	bc,_col
1964  070F  09          	add	hl,bc
1965  0710  7E          	ld	a,(hl)
1966  0711  C6 02       	add	a,0x02
1967  0713  47          	ld	b,a
1968  0714  3A 00 00    	ld	a,(_sprite)
1969  0717  5F          	ld	e,a
1970  0718  16 00       	ld	d,0x00
1971  071A  21 00 00    	ld	hl,_lin
1972  071D  19          	add	hl,de
1973  071E  7E          	ld	a,(hl)
1974  071F  C6 10       	add	a,0x10
1975  0721  4F          	ld	c,a
1976  0722  C5          	push	bc
1977  0723  CD 00 00    	call	_spr_calc_index
1978  0726  F1          	pop	af
1979  0727  22 00 00    	ld	(_index1),hl
1980  072A  18 22       	jr	l_enemy_avoid_fall_00103
1981  072C              l_enemy_avoid_fall_00102:
1982  072C  2A 00 00    	ld	hl,(_sprite)
1983  072F  26 00       	ld	h,0x00
1984  0731  01 00 00    	ld	bc,_col
1985  0734  09          	add	hl,bc
1986  0735  7E          	ld	a,(hl)
1987  0736  C6 FE       	add	a,-0x02
1988  0738  57          	ld	d,a
1989  0739  2A 00 00    	ld	hl,(_sprite)
1990  073C  26 00       	ld	h,0x00
1991  073E  01 00 00    	ld	bc,_lin
1992  0741  09          	add	hl,bc
1993  0742  7E          	ld	a,(hl)
1994  0743  C6 10       	add	a,0x10
1995  0745  5F          	ld	e, a
1996  0746  D5          	push	de
1997  0747  CD 00 00    	call	_spr_calc_index
1998  074A  F1          	pop	af
1999  074B  22 00 00    	ld	(_index1),hl
2000  074E              l_enemy_avoid_fall_00103:
2001  074E  01 00 00    	ld	bc,_scr_map
2002  0751  2A 00 00    	ld	hl,(_index1)
2003  0754  09          	add	hl,bc
2004  0755  7E          	ld	a,(hl)
2005  0756  D6 3A       	sub	a,0x3a
2006  0758  D0          	ret	NC
2007  0759  C3 00 00    	jp  _spr_turn_horizontal
2008  075C              	SECTION code_compiler
2009  075C              ;	---------------------------------
2010  075C              ; Function enemy_avoid_dead
2011  075C              ; ---------------------------------
2012  075C              _enemy_avoid_dead:
2013  075C  2A 00 00    	ld	hl,(_sprite)
2014  075F  26 00       	ld	h,0x00
2015  0761  01 00 00    	ld	bc,_col
2016  0764  09          	add	hl,bc
2017  0765  56          	ld	d, (hl)
2018  0766  2A 00 00    	ld	hl,(_sprite)
2019  0769  26 00       	ld	h,0x00
2020  076B  01 00 00    	ld	bc,_lin
2021  076E  09          	add	hl,bc
2022  076F  5E          	ld	e, (hl)
2023  0770  D5          	push	de
2024  0771  CD 00 00    	call	_spr_calc_index
2025  0774  F1          	pop	af
2026  0775  22 00 00    	ld	(_index1),hl
2027  0778  21 00 00    	ld	hl,_s_state
2028  077B  CB 56       	bit	2, (hl)
2029  077D  28 0A       	jr	Z,l_enemy_avoid_dead_00102
2030  077F  21 00 00    	ld	hl,_index1
2031  0782  34          	inc	(hl)
2032  0783  20 0B       	jr	NZ,l_enemy_avoid_dead_00103
2033  0785  23          	inc	hl
2034  0786  34          	inc	(hl)
2035  0787  18 07       	jr	l_enemy_avoid_dead_00103
2036  0789              l_enemy_avoid_dead_00102:
2037  0789  2A 00 00    	ld	hl,(_index1)
2038  078C  2B          	dec	hl
2039  078D  22 00 00    	ld	(_index1),hl
2040  0790              l_enemy_avoid_dead_00103:
2041  0790  01 00 00    	ld	bc,_scr_map+0
2042  0793  2A 00 00    	ld	hl,(_index1)
2043  0796  09          	add	hl,bc
2044  0797  7E          	ld	a,(hl)
2045  0798  21 00 00    	ld	hl,_tmp0
2046  079B  77          	ld	(hl), a
2047  079C  3E 2F       	ld	a,0x2f
2048  079E  96          	sub	a, (hl)
2049  079F  30 0C       	jr	NC,l_enemy_avoid_dead_00105
2050  07A1  7E          	ld	a, (hl)
2051  07A2  D6 3A       	sub	a,0x3a
2052  07A4  30 07       	jr	NC,l_enemy_avoid_dead_00105
2053  07A6  CD 00 00    	call	_spr_turn_horizontal
2054  07A9  2E 01       	ld	l,0x01
2055  07AB  18 23       	jr	l_enemy_avoid_dead_00110
2056  07AD              l_enemy_avoid_dead_00105:
2057  07AD  2A 00 00    	ld	hl,(_index1)
2058  07B0  11 10 00    	ld	de,0x0010
2059  07B3  19          	add	hl,de
2060  07B4  22 00 00    	ld	(_index1),hl
2061  07B7  09          	add	hl,bc
2062  07B8  7E          	ld	a,(hl)
2063  07B9  21 00 00    	ld	hl,_tmp0
2064  07BC  77          	ld	(hl), a
2065  07BD  3E 2F       	ld	a,0x2f
2066  07BF  96          	sub	a, (hl)
2067  07C0  30 0C       	jr	NC,l_enemy_avoid_dead_00108
2068  07C2  7E          	ld	a, (hl)
2069  07C3  D6 3A       	sub	a,0x3a
2070  07C5  30 07       	jr	NC,l_enemy_avoid_dead_00108
2071  07C7  CD 00 00    	call	_spr_turn_horizontal
2072  07CA  2E 01       	ld	l,0x01
2073  07CC  18 02       	jr	l_enemy_avoid_dead_00110
2074  07CE              l_enemy_avoid_dead_00108:
2075  07CE  2E 00       	ld	l,0x00
2076  07D0              l_enemy_avoid_dead_00110:
2077  07D0  C9          	ret
2078  07D1              	SECTION code_compiler
2079  07D1              ;	---------------------------------
2080  07D1              ; Function enemy_respawn
2081  07D1              ; ---------------------------------
2082  07D1              _enemy_respawn:
2083  07D1  3A 00 00    	ld	a,(_s_lin0)
2084  07D4  4D          	ld	c,l
2085  07D5  32 00 00    	ld	(_s_lin1),a
2086  07D8  3A 00 00    	ld	a,(_s_col0)
2087  07DB  32 00 00    	ld	(_s_col1),a
2088  07DE  C5          	push	bc
2089  07DF  F5          	push	af
2090  07E0  33          	inc	sp
2091  07E1  3A 00 00    	ld	a,(_s_lin1)
2092  07E4  F5          	push	af
2093  07E5  33          	inc	sp
2094  07E6  CD 00 00    	call	_spr_calc_index
2095  07E9  F1          	pop	af
2096  07EA  EB          	ex	de,hl
2097  07EB  C1          	pop	bc
2098  07EC  ED 53 00 00 	ld	(_index1),de
2099  07F0  1E 00       	ld	e,0x00
2100  07F2              l_enemy_respawn_00105:
2101  07F2  7B          	ld	a, e
2102  07F3  D6 07       	sub	a,0x07
2103  07F5  30 2A       	jr	NC,l_enemy_respawn_00108
2104  07F7  16 00       	ld	d,0x00
2105  07F9  21 00 00    	ld	hl,_game_respawn_index
2106  07FC  19          	add	hl, de
2107  07FD  46          	ld	b, (hl)
2108  07FE  16 00       	ld	d,0x00
2109  0800  21 00 00    	ld	hl,_index1
2110  0803  7E          	ld	a, (hl)
2111  0804  90          	sub	a, b
2112  0805  20 17       	jr	NZ,l_enemy_respawn_00104
2113  0807  23          	inc	hl
2114  0808  7E          	ld	a, (hl)
2115  0809  92          	sub	a, d
2116  080A  20 12       	jr	NZ,l_enemy_respawn_00104
2117  080C  3A 00 00    	ld	a,(_game_boss_alive)
2118  080F  B7          	or	a, a
2119  0810  28 0F       	jr	Z,l_enemy_respawn_00108
2120  0812  06 00       	ld	b,0x00
2121  0814  21 00 00    	ld	hl,_anim_respanwn
2122  0817  09          	add	hl, bc
2123  0818  6E          	ld	l, (hl)
2124  0819  CD 00 00    	call	_game_add_enemy
2125  081C  18 03       	jr	l_enemy_respawn_00108
2126  081E              l_enemy_respawn_00104:
2127  081E  1C          	inc	e
2128  081F  18 D1       	jr	l_enemy_respawn_00105
2129  0821              l_enemy_respawn_00108:
2130  0821  C9          	ret
2131  0822              	SECTION code_compiler
2132  0822              ;	---------------------------------
2133  0822              ; Function enemy_init
2134  0822              ; ---------------------------------
2135  0822              _enemy_init:
2136  0822  CD 00 00    	call	___sdcc_enter_ix
2137  0825  F5          	push	af
2138  0826  3E 00       	ld	a,0x00
2139  0828  F5          	push	af
2140  0829  33          	inc	sp
2141  082A  0E 00       	ld	c,0x00
2142  082C              l_enemy_init_00105:
2143  082C  79          	ld	a, c
2144  082D  D6 07       	sub	a,0x07
2145  082F  3E 00       	ld	a,0x00
2146  0831  17          	rla
2147  0832  47          	ld	b, a
2148  0833  3E 00       	ld	a, +((_class) & 0xFF)
2149  0835  81          	add	a, c
2150  0836  5F          	ld	e, a
2151  0837  3E 00       	ld	a, +((_class) / 256)
2152  0839  CE 00       	adc	a,0x00
2153  083B  57          	ld	d, a
2154  083C  78          	ld	a, b
2155  083D  B7          	or	a, a
2156  083E  28 1C       	jr	Z,l_enemy_init_00128
2157  0840  1A          	ld	a, (de)
2158  0841  B7          	or	a, a
2159  0842  20 12       	jr	NZ,l_enemy_init_00102
2160  0844  69          	ld	l, c
2161  0845  26 00       	ld	h,0x00
2162  0847  29          	add	hl, hl
2163  0848  3E 00       	ld	a, +((_game_respawn_time) & 0xFF)
2164  084A  85          	add	a, l
2165  084B  6F          	ld	l, a
2166  084C  3E 00       	ld	a, +((_game_respawn_time) / 256)
2167  084E  8C          	adc	a, h
2168  084F  67          	ld	h, a
2169  0850  7E          	ld	a, (hl)
2170  0851  23          	inc	hl
2171  0852  66          	ld	h, (hl)
2172  0853  B4          	or	a,h
2173  0854  28 06       	jr	Z,l_enemy_init_00128
2174  0856              l_enemy_init_00102:
2175  0856  0C          	inc	c
2176  0857  DD 71 FD    	ld	(ix-3),c
2177  085A  18 D0       	jr	l_enemy_init_00105
2178  085C              l_enemy_init_00128:
2179  085C  DD 71 FD    	ld	(ix-3),c
2180  085F  78          	ld	a, b
2181  0860  B7          	or	a, a
2182  0861  CA 55 09    	jp	Z, l_enemy_init_00118
2183  0864  DD 7E 06    	ld	a,(ix+6)
2184  0867  12          	ld	(de), a
2185  0868  3E 00       	ld	a, +((_lin) & 0xFF)
2186  086A  81          	add	a, c
2187  086B  5F          	ld	e, a
2188  086C  3E 00       	ld	a, +((_lin) / 256)
2189  086E  CE 00       	adc	a,0x00
2190  0870  57          	ld	d, a
2191  0871  DD 7E 04    	ld	a,(ix+4)
2192  0874  12          	ld	(de), a
2193  0875  3E 00       	ld	a, +((_col) & 0xFF)
2194  0877  81          	add	a, c
2195  0878  5F          	ld	e, a
2196  0879  3E 00       	ld	a, +((_col) / 256)
2197  087B  CE 00       	adc	a,0x00
2198  087D  57          	ld	d, a
2199  087E  DD 7E 05    	ld	a,(ix+5)
2200  0881  12          	ld	(de), a
2201  0882  3E 00       	ld	a, +((_state) & 0xFF)
2202  0884  81          	add	a, c
2203  0885  5F          	ld	e, a
2204  0886  3E 00       	ld	a, +((_state) / 256)
2205  0888  CE 00       	adc	a,0x00
2206  088A  57          	ld	d, a
2207  088B  AF          	xor	a, a
2208  088C  12          	ld	(de), a
2209  088D  06 00       	ld	b,0x00
2210  088F  21 00 00    	ld	hl,_state_a
2211  0892  09          	add	hl, bc
2212  0893  06 00       	ld	b,0x00
2213  0895  70          	ld	(hl),b
2214  0896  21 00 00    	ld	hl,_jump_lin
2215  0899  09          	add	hl, bc
2216  089A  36 00       	ld	(hl),0x00
2217  089C  3E 00       	ld	a, +((_colint) & 0xFF)
2218  089E  81          	add	a, c
2219  089F  DD 77 FE    	ld	(ix-2),a
2220  08A2  6F          	ld	l,a
2221  08A3  3E 00       	ld	a,+((_colint) / 256)
2222  08A5  CE 00       	adc	a,0x00
2223  08A7  DD 77 FF    	ld	(ix-1),a
2224  08AA  67          	ld	h,a
2225  08AB  36 00       	ld	(hl),0x00
2226  08AD  DD 7E 07    	ld	a,(ix+7)
2227  08B0  3D          	dec	a
2228  08B1  20 04       	jr	NZ,l_enemy_init_00109
2229  08B3  1A          	ld	a, (de)
2230  08B4  F6 04       	or	a,0x04
2231  08B6  12          	ld	(de), a
2232  08B7              l_enemy_init_00109:
2233  08B7  DD 7E 07    	ld	a,(ix+7)
2234  08BA  3C          	inc	a
2235  08BB  20 19       	jr	NZ,l_enemy_init_00111
2236  08BD  1A          	ld	a, (de)
2237  08BE  F6 08       	or	a,0x08
2238  08C0  12          	ld	(de), a
2239  08C1  3E 00       	ld	a, +((_sprite_frames) & 0xFF)
2240  08C3  DD 86 06    	add	a,(ix+6)
2241  08C6  5F          	ld	e, a
2242  08C7  3E 00       	ld	a, +((_sprite_frames) / 256)
2243  08C9  CE 00       	adc	a,0x00
2244  08CB  57          	ld	d, a
2245  08CC  1A          	ld	a, (de)
2246  08CD  47          	ld	b, a
2247  08CE  05          	dec	b
2248  08CF  DD 6E FE    	ld	l,(ix-2)
2249  08D2  DD 66 FF    	ld	h,(ix-1)
2250  08D5  70          	ld	(hl), b
2251  08D6              l_enemy_init_00111:
2252  08D6  06 00       	ld	b,0x00
2253  08D8  21 00 00    	ld	hl,_tile
2254  08DB  09          	add	hl,bc
2255  08DC  4D          	ld	c,l
2256  08DD  44          	ld	b,h
2257  08DE  21 00 00    	ld	hl,0x0000
2258  08E1  39          	add	hl, sp
2259  08E2  5D          	ld	e, l
2260  08E3  54          	ld	d, h
2261  08E4  C5          	push	bc
2262  08E5  EB          	ex	de,hl
2263  08E6  CD 00 00    	call	_spr_tile
2264  08E9  C1          	pop	bc
2265  08EA  7D          	ld	a,l
2266  08EB  02          	ld	(bc), a
2267  08EC  01 00 00    	ld	bc,_spr_timer+0
2268  08EF  DD 6E FD    	ld	l,(ix-3)
2269  08F2  26 00       	ld	h,0x00
2270  08F4  29          	add	hl, hl
2271  08F5  09          	add	hl,bc
2272  08F6  ED 5B 00 00 	ld	de,(_curr_time)
2273  08FA  73          	ld	(hl),e
2274  08FB  23          	inc	hl
2275  08FC  72          	ld	(hl),d
2276  08FD  DD 6E FD    	ld	l,(ix-3)
2277  0900  26 00       	ld	h,0x00
2278  0902  29          	add	hl, hl
2279  0903  11 00 00    	ld	de,_last_time
2280  0906  19          	add	hl, de
2281  0907  AF          	xor	a, a
2282  0908  77          	ld	(hl), a
2283  0909  23          	inc	hl
2284  090A  77          	ld	(hl), a
2285  090B  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2286  090D  DD 86 FD    	add	a,(ix-3)
2287  0910  4F          	ld	c, a
2288  0911  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2289  0913  CE 00       	adc	a,0x00
2290  0915  47          	ld	b, a
2291  0916  AF          	xor	a, a
2292  0917  02          	ld	(bc), a
2293  0918  21 00 00    	ld	hl,_spr_count
2294  091B  34          	inc	(hl)
2295  091C  3A 00 00    	ld	a,(_game_boss)
2296  091F  B7          	or	a, a
2297  0920  20 33       	jr	NZ,l_enemy_init_00118
2298  0922  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2299  0924  DD 86 FD    	add	a,(ix-3)
2300  0927  4F          	ld	c, a
2301  0928  3E 00       	ld	a, +((_bullet_col) / 256)
2302  092A  CE 00       	adc	a,0x00
2303  092C  47          	ld	b, a
2304  092D  0A          	ld	a, (bc)
2305  092E  FE FF       	cp	a,0xff
2306  0930  28 15       	jr	Z,l_enemy_init_00113
2307  0932  32 00 00    	ld	(_s_col0),a
2308  0935  3E 00       	ld	a, +((_bullet_lin) & 0xFF)
2309  0937  DD 86 FD    	add	a,(ix-3)
2310  093A  4F          	ld	c, a
2311  093B  3E 00       	ld	a, +((_bullet_lin) / 256)
2312  093D  CE 00       	adc	a,0x00
2313  093F  47          	ld	b, a
2314  0940  0A          	ld	a, (bc)
2315  0941  32 00 00    	ld	(_s_lin0),a
2316  0944  CD 00 00    	call	_spr_back_repaint
2317  0947              l_enemy_init_00113:
2318  0947  3E 00       	ld	a, +((_bullet_col) & 0xFF)
2319  0949  DD 86 FD    	add	a,(ix-3)
2320  094C  4F          	ld	c, a
2321  094D  3E 00       	ld	a, +((_bullet_col) / 256)
2322  094F  CE 00       	adc	a,0x00
2323  0951  47          	ld	b, a
2324  0952  3E FF       	ld	a,0xff
2325  0954  02          	ld	(bc), a
2326  0955              l_enemy_init_00118:
2327  0955  DD F9       	ld	sp, ix
2328  0957  DD E1       	pop	ix
2329  0959  C9          	ret
2330  095A              	SECTION IGNORE
2331  0000              
