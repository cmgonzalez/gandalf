1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_lost_life
195   0000              	GLOBAL _player_turn
196   0000              	GLOBAL _player_move
197   0000              	GLOBAL _player_check_stairs_down
198   0000              	GLOBAL _player_check_stairs
199   0000              	GLOBAL _player_tile
200   0000              	GLOBAL _player_move_input
201   0000              	GLOBAL _player_fire
202   0000              	GLOBAL _player_pick_item
203   0000              	GLOBAL _player_hit_platform
204   0000              	GLOBAL _player_hit_platform_clear
205   0000              	GLOBAL _player_score_add
206   0000              	GLOBAL _player_check_floor
207   0000              	GLOBAL _player_move_jump
208   0000              ;--------------------------------------------------------
209   0000              ; Externals used
210   0000              ;--------------------------------------------------------
211   0000              	GLOBAL _ulltoa_callee
212   0000              	GLOBAL _ulltoa
213   0000              	GLOBAL _strtoull_callee
214   0000              	GLOBAL _strtoull
215   0000              	GLOBAL _strtoll_callee
216   0000              	GLOBAL _strtoll
217   0000              	GLOBAL _lltoa_callee
218   0000              	GLOBAL _lltoa
219   0000              	GLOBAL _llabs_callee
220   0000              	GLOBAL _llabs
221   0000              	GLOBAL __lldivu__callee
222   0000              	GLOBAL __lldivu_
223   0000              	GLOBAL __lldiv__callee
224   0000              	GLOBAL __lldiv_
225   0000              	GLOBAL _atoll_callee
226   0000              	GLOBAL _atoll
227   0000              	GLOBAL _realloc_unlocked_callee
228   0000              	GLOBAL _realloc_unlocked
229   0000              	GLOBAL _malloc_unlocked_fastcall
230   0000              	GLOBAL _malloc_unlocked
231   0000              	GLOBAL _free_unlocked_fastcall
232   0000              	GLOBAL _free_unlocked
233   0000              	GLOBAL _calloc_unlocked_callee
234   0000              	GLOBAL _calloc_unlocked
235   0000              	GLOBAL _aligned_alloc_unlocked_callee
236   0000              	GLOBAL _aligned_alloc_unlocked
237   0000              	GLOBAL _realloc_callee
238   0000              	GLOBAL _realloc
239   0000              	GLOBAL _malloc_fastcall
240   0000              	GLOBAL _malloc
241   0000              	GLOBAL _free_fastcall
242   0000              	GLOBAL _free
243   0000              	GLOBAL _calloc_callee
244   0000              	GLOBAL _calloc
245   0000              	GLOBAL _aligned_alloc_callee
246   0000              	GLOBAL _aligned_alloc
247   0000              	GLOBAL _utoa_callee
248   0000              	GLOBAL _utoa
249   0000              	GLOBAL _ultoa_callee
250   0000              	GLOBAL _ultoa
251   0000              	GLOBAL _system_fastcall
252   0000              	GLOBAL _system
253   0000              	GLOBAL _strtoul_callee
254   0000              	GLOBAL _strtoul
255   0000              	GLOBAL _strtol_callee
256   0000              	GLOBAL _strtol
257   0000              	GLOBAL _strtof_callee
258   0000              	GLOBAL _strtof
259   0000              	GLOBAL _strtod_callee
260   0000              	GLOBAL _strtod
261   0000              	GLOBAL _srand_fastcall
262   0000              	GLOBAL _srand
263   0000              	GLOBAL _rand
264   0000              	GLOBAL _quick_exit_fastcall
265   0000              	GLOBAL _quick_exit
266   0000              	GLOBAL _qsort_callee
267   0000              	GLOBAL _qsort
268   0000              	GLOBAL _ltoa_callee
269   0000              	GLOBAL _ltoa
270   0000              	GLOBAL _labs_fastcall
271   0000              	GLOBAL _labs
272   0000              	GLOBAL _itoa_callee
273   0000              	GLOBAL _itoa
274   0000              	GLOBAL _ftoh_callee
275   0000              	GLOBAL _ftoh
276   0000              	GLOBAL _ftog_callee
277   0000              	GLOBAL _ftog
278   0000              	GLOBAL _ftoe_callee
279   0000              	GLOBAL _ftoe
280   0000              	GLOBAL _ftoa_callee
281   0000              	GLOBAL _ftoa
282   0000              	GLOBAL _exit_fastcall
283   0000              	GLOBAL _exit
284   0000              	GLOBAL _dtoh_callee
285   0000              	GLOBAL _dtoh
286   0000              	GLOBAL _dtog_callee
287   0000              	GLOBAL _dtog
288   0000              	GLOBAL _dtoe_callee
289   0000              	GLOBAL _dtoe
290   0000              	GLOBAL _dtoa_callee
291   0000              	GLOBAL _dtoa
292   0000              	GLOBAL _bsearch_callee
293   0000              	GLOBAL _bsearch
294   0000              	GLOBAL _atol_fastcall
295   0000              	GLOBAL _atol
296   0000              	GLOBAL _atoi_fastcall
297   0000              	GLOBAL _atoi
298   0000              	GLOBAL _atof_fastcall
299   0000              	GLOBAL _atof
300   0000              	GLOBAL _atexit_fastcall
301   0000              	GLOBAL _atexit
302   0000              	GLOBAL _at_quick_exit_fastcall
303   0000              	GLOBAL _at_quick_exit
304   0000              	GLOBAL _abs_fastcall
305   0000              	GLOBAL _abs
306   0000              	GLOBAL _abort
307   0000              	GLOBAL __strtou__callee
308   0000              	GLOBAL __strtou_
309   0000              	GLOBAL __strtoi__callee
310   0000              	GLOBAL __strtoi_
311   0000              	GLOBAL __random_uniform_xor_8__fastcall
312   0000              	GLOBAL __random_uniform_xor_8_
313   0000              	GLOBAL __random_uniform_xor_32__fastcall
314   0000              	GLOBAL __random_uniform_xor_32_
315   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
316   0000              	GLOBAL __random_uniform_cmwc_8_
317   0000              	GLOBAL __shellsort__callee
318   0000              	GLOBAL __shellsort_
319   0000              	GLOBAL __quicksort__callee
320   0000              	GLOBAL __quicksort_
321   0000              	GLOBAL __insertion_sort__callee
322   0000              	GLOBAL __insertion_sort_
323   0000              	GLOBAL __ldivu__callee
324   0000              	GLOBAL __ldivu_
325   0000              	GLOBAL __ldiv__callee
326   0000              	GLOBAL __ldiv_
327   0000              	GLOBAL __divu__callee
328   0000              	GLOBAL __divu_
329   0000              	GLOBAL __div__callee
330   0000              	GLOBAL __div_
331   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
332   0000              	GLOBAL _NIRVANAP_drawTW_raw
333   0000              	GLOBAL _NIRVANAP_drawTW_callee
334   0000              	GLOBAL _NIRVANAP_drawTW
335   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
336   0000              	GLOBAL _NIRVANAP_drawW_raw
337   0000              	GLOBAL _NIRVANAP_drawW_callee
338   0000              	GLOBAL _NIRVANAP_drawW
339   0000              	GLOBAL _NIRVANAP_spriteT_callee
340   0000              	GLOBAL _NIRVANAP_spriteT
341   0000              	GLOBAL _NIRVANAP_fillC_callee
342   0000              	GLOBAL _NIRVANAP_fillC
343   0000              	GLOBAL _NIRVANAP_readC_callee
344   0000              	GLOBAL _NIRVANAP_readC
345   0000              	GLOBAL _NIRVANAP_paintC_callee
346   0000              	GLOBAL _NIRVANAP_paintC
347   0000              	GLOBAL _NIRVANAP_printC_callee
348   0000              	GLOBAL _NIRVANAP_printC
349   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
350   0000              	GLOBAL _NIRVANAP_fillT_raw
351   0000              	GLOBAL _NIRVANAP_fillT_callee
352   0000              	GLOBAL _NIRVANAP_fillT
353   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
354   0000              	GLOBAL _NIRVANAP_drawT_raw
355   0000              	GLOBAL _NIRVANAP_drawT_callee
356   0000              	GLOBAL _NIRVANAP_drawT
357   0000              	GLOBAL _NIRVANAP_stop
358   0000              	GLOBAL _NIRVANAP_start
359   0000              	GLOBAL _debug3
360   0000              	GLOBAL _debug2
361   0000              	GLOBAL _debug
362   0000              	GLOBAL _zx_print_str
363   0000              	GLOBAL _zx_print_int
364   0000              	GLOBAL _zx_print_chr
365   0000              	GLOBAL _zx_print_bonus_time
366   0000              	GLOBAL _zx_isr
367   0000              	GLOBAL _z80_otdr_callee
368   0000              	GLOBAL _z80_otdr
369   0000              	GLOBAL _z80_otir_callee
370   0000              	GLOBAL _z80_otir
371   0000              	GLOBAL _z80_outp_callee
372   0000              	GLOBAL _z80_outp
373   0000              	GLOBAL _z80_indr_callee
374   0000              	GLOBAL _z80_indr
375   0000              	GLOBAL _z80_inir_callee
376   0000              	GLOBAL _z80_inir
377   0000              	GLOBAL _z80_inp_fastcall
378   0000              	GLOBAL _z80_inp
379   0000              	GLOBAL _z80_set_int_state_fastcall
380   0000              	GLOBAL _z80_set_int_state
381   0000              	GLOBAL _z80_get_int_state
382   0000              	GLOBAL _z80_delay_tstate_fastcall
383   0000              	GLOBAL _z80_delay_tstate
384   0000              	GLOBAL _z80_delay_ms_fastcall
385   0000              	GLOBAL _z80_delay_ms
386   0000              	GLOBAL _im2_remove_generic_callback_callee
387   0000              	GLOBAL _im2_remove_generic_callback
388   0000              	GLOBAL _im2_prepend_generic_callback_callee
389   0000              	GLOBAL _im2_prepend_generic_callback
390   0000              	GLOBAL _im2_append_generic_callback_callee
391   0000              	GLOBAL _im2_append_generic_callback
392   0000              	GLOBAL _im2_create_generic_isr_8080_callee
393   0000              	GLOBAL _im2_create_generic_isr_8080
394   0000              	GLOBAL _im2_create_generic_isr_callee
395   0000              	GLOBAL _im2_create_generic_isr
396   0000              	GLOBAL _im2_install_isr_callee
397   0000              	GLOBAL _im2_install_isr
398   0000              	GLOBAL _im2_init_fastcall
399   0000              	GLOBAL _im2_init
400   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
401   0000              	GLOBAL _intrinsic_swap_word_32
402   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
403   0000              	GLOBAL _intrinsic_swap_endian_32
404   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
405   0000              	GLOBAL _intrinsic_swap_endian_16
406   0000              	GLOBAL _intrinsic_return_de
407   0000              	GLOBAL _intrinsic_return_bc
408   0000              	GLOBAL _intrinsic_exx
409   0000              	GLOBAL _intrinsic_ex_de_hl
410   0000              	GLOBAL _intrinsic_nop
411   0000              	GLOBAL _intrinsic_im_2
412   0000              	GLOBAL _intrinsic_im_1
413   0000              	GLOBAL _intrinsic_im_0
414   0000              	GLOBAL _intrinsic_retn
415   0000              	GLOBAL _intrinsic_reti
416   0000              	GLOBAL _intrinsic_halt
417   0000              	GLOBAL _intrinsic_ei
418   0000              	GLOBAL _intrinsic_di
419   0000              	GLOBAL _intrinsic_stub
420   0000              	GLOBAL _intrinsic_outi
421   0000              	GLOBAL _intrinsic_ldi
422   0000              	GLOBAL _zx_pattern_fill_callee
423   0000              	GLOBAL _zx_pattern_fill
424   0000              	GLOBAL _zx_saddrpup_fastcall
425   0000              	GLOBAL _zx_saddrpup
426   0000              	GLOBAL _zx_saddrpright_callee
427   0000              	GLOBAL _zx_saddrpright
428   0000              	GLOBAL _zx_saddrpleft_callee
429   0000              	GLOBAL _zx_saddrpleft
430   0000              	GLOBAL _zx_saddrpdown_fastcall
431   0000              	GLOBAL _zx_saddrpdown
432   0000              	GLOBAL _zx_saddrcup_fastcall
433   0000              	GLOBAL _zx_saddrcup
434   0000              	GLOBAL _zx_saddrcright_fastcall
435   0000              	GLOBAL _zx_saddrcright
436   0000              	GLOBAL _zx_saddrcleft_fastcall
437   0000              	GLOBAL _zx_saddrcleft
438   0000              	GLOBAL _zx_saddrcdown_fastcall
439   0000              	GLOBAL _zx_saddrcdown
440   0000              	GLOBAL _zx_saddr2py_fastcall
441   0000              	GLOBAL _zx_saddr2py
442   0000              	GLOBAL _zx_saddr2px_fastcall
443   0000              	GLOBAL _zx_saddr2px
444   0000              	GLOBAL _zx_saddr2cy_fastcall
445   0000              	GLOBAL _zx_saddr2cy
446   0000              	GLOBAL _zx_saddr2cx_fastcall
447   0000              	GLOBAL _zx_saddr2cx
448   0000              	GLOBAL _zx_saddr2aaddr_fastcall
449   0000              	GLOBAL _zx_saddr2aaddr
450   0000              	GLOBAL _zx_py2saddr_fastcall
451   0000              	GLOBAL _zx_py2saddr
452   0000              	GLOBAL _zx_py2aaddr_fastcall
453   0000              	GLOBAL _zx_py2aaddr
454   0000              	GLOBAL _zx_pxy2saddr_callee
455   0000              	GLOBAL _zx_pxy2saddr
456   0000              	GLOBAL _zx_pxy2aaddr_callee
457   0000              	GLOBAL _zx_pxy2aaddr
458   0000              	GLOBAL _zx_px2bitmask_fastcall
459   0000              	GLOBAL _zx_px2bitmask
460   0000              	GLOBAL _zx_cy2saddr_fastcall
461   0000              	GLOBAL _zx_cy2saddr
462   0000              	GLOBAL _zx_cy2aaddr_fastcall
463   0000              	GLOBAL _zx_cy2aaddr
464   0000              	GLOBAL _zx_cxy2saddr_callee
465   0000              	GLOBAL _zx_cxy2saddr
466   0000              	GLOBAL _zx_cxy2aaddr_callee
467   0000              	GLOBAL _zx_cxy2aaddr
468   0000              	GLOBAL _zx_bitmask2px_fastcall
469   0000              	GLOBAL _zx_bitmask2px
470   0000              	GLOBAL _zx_aaddrcup_fastcall
471   0000              	GLOBAL _zx_aaddrcup
472   0000              	GLOBAL _zx_aaddrcright_fastcall
473   0000              	GLOBAL _zx_aaddrcright
474   0000              	GLOBAL _zx_aaddrcleft_fastcall
475   0000              	GLOBAL _zx_aaddrcleft
476   0000              	GLOBAL _zx_aaddrcdown_fastcall
477   0000              	GLOBAL _zx_aaddrcdown
478   0000              	GLOBAL _zx_aaddr2saddr_fastcall
479   0000              	GLOBAL _zx_aaddr2saddr
480   0000              	GLOBAL _zx_aaddr2py_fastcall
481   0000              	GLOBAL _zx_aaddr2py
482   0000              	GLOBAL _zx_aaddr2px_fastcall
483   0000              	GLOBAL _zx_aaddr2px
484   0000              	GLOBAL _zx_aaddr2cy_fastcall
485   0000              	GLOBAL _zx_aaddr2cy
486   0000              	GLOBAL _zx_aaddr2cx_fastcall
487   0000              	GLOBAL _zx_aaddr2cx
488   0000              	GLOBAL _zx_visit_wc_pix_callee
489   0000              	GLOBAL _zx_visit_wc_pix
490   0000              	GLOBAL _zx_visit_wc_attr_callee
491   0000              	GLOBAL _zx_visit_wc_attr
492   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
493   0000              	GLOBAL _zx_scroll_wc_up_pix
494   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
495   0000              	GLOBAL _zx_scroll_wc_up_attr
496   0000              	GLOBAL _zx_scroll_wc_up_callee
497   0000              	GLOBAL _zx_scroll_wc_up
498   0000              	GLOBAL _zx_scroll_up_pix_callee
499   0000              	GLOBAL _zx_scroll_up_pix
500   0000              	GLOBAL _zx_scroll_up_attr_callee
501   0000              	GLOBAL _zx_scroll_up_attr
502   0000              	GLOBAL _zx_scroll_up_callee
503   0000              	GLOBAL _zx_scroll_up
504   0000              	GLOBAL _zx_cls_wc_pix_callee
505   0000              	GLOBAL _zx_cls_wc_pix
506   0000              	GLOBAL _zx_cls_wc_attr_callee
507   0000              	GLOBAL _zx_cls_wc_attr
508   0000              	GLOBAL _zx_cls_wc_callee
509   0000              	GLOBAL _zx_cls_wc
510   0000              	GLOBAL _zx_cls_pix_fastcall
511   0000              	GLOBAL _zx_cls_pix
512   0000              	GLOBAL _zx_cls_attr_fastcall
513   0000              	GLOBAL _zx_cls_attr
514   0000              	GLOBAL _zx_cls_fastcall
515   0000              	GLOBAL _zx_cls
516   0000              	GLOBAL _zx_border_fastcall
517   0000              	GLOBAL _zx_border
518   0000              	GLOBAL _spr_init_anim_bullets
519   0000              	GLOBAL _spr_turn_horizontal
520   0000              	GLOBAL _spr_play_bullets
521   0000              	GLOBAL _spr_play_anim
522   0000              	GLOBAL _spr_add_anim
523   0000              	GLOBAL _spr_page_map
524   0000              	GLOBAL _spr_page_right
525   0000              	GLOBAL _spr_page_left
526   0000              	GLOBAL _spr_tile_paint
527   0000              	GLOBAL _spr_calc_hor
528   0000              	GLOBAL _spr_draw_row
529   0000              	GLOBAL _spr_draw_index
530   0000              	GLOBAL _spr_draw_clear
531   0000              	GLOBAL _spr_brick_anim
532   0000              	GLOBAL _spr_back_repaint
533   0000              	GLOBAL _spr_tile
534   0000              	GLOBAL _spr_destroy
535   0000              	GLOBAL _spr_tile_dir
536   0000              	GLOBAL _spr_redraw
537   0000              	GLOBAL _spr_move_left
538   0000              	GLOBAL _spr_move_right
539   0000              	GLOBAL _spr_move_horizontal
540   0000              	GLOBAL _spr_move_down
541   0000              	GLOBAL _spr_move_up
542   0000              	GLOBAL _spr_calc_index
543   0000              	GLOBAL _spr_chktime
544   0000              	GLOBAL _sound_hit_brick
545   0000              	GLOBAL _sound_hit_enemy
546   0000              	GLOBAL _sound_kill
547   0000              	GLOBAL _sound_enter_enemy
548   0000              	GLOBAL _sound_coin
549   0000              	GLOBAL _sound_jump
550   0000              	GLOBAL _sound_slide
551   0000              	GLOBAL _player_player_hit_pow
552   0000              	GLOBAL _game_joystick_set_menu
553   0000              	GLOBAL _game_joystick_set
554   0000              	GLOBAL _game_joystick_change
555   0000              	GLOBAL _game_print_header
556   0000              	GLOBAL _game_end
557   0000              	GLOBAL _game_phase_print_score_back
558   0000              	GLOBAL _game_check_time
559   0000              	GLOBAL _game_rotate_attrib
560   0000              	GLOBAL _game_colour_message
561   0000              	GLOBAL _game_paint_attrib_lin_h
562   0000              	GLOBAL _game_paint_attrib_lin
563   0000              	GLOBAL _game_paint_attrib
564   0000              	GLOBAL _game_print_score
565   0000              	GLOBAL _game_unfreeze_all
566   0000              	GLOBAL _game_freeze_all
567   0000              	GLOBAL _game_freeze
568   0000              	GLOBAL _game_enemy_add_get_index
569   0000              	GLOBAL _game_check_cell
570   0000              	GLOBAL _game_check_map
571   0000              	GLOBAL _game_loop
572   0000              	GLOBAL _game_phase_init
573   0000              	GLOBAL _game_start_timer
574   0000              	GLOBAL _game_tick
575   0000              	GLOBAL _game_print_lives
576   0000              	GLOBAL _game_print_footer
577   0000              	GLOBAL _game_fill_row
578   0000              	GLOBAL _game_draw_screen
579   0000              	GLOBAL _enemy_avoid_edge
580   0000              	GLOBAL _enemy_kill
581   0000              	GLOBAL _enemy_init
582   0000              	GLOBAL _enemy_move
583   0000              	GLOBAL _enemy_turn
584   0000              	GLOBAL _enemy_hit
585   0000              	GLOBAL _enemy_coin1
586   0000              	GLOBAL _enemy_static
587   0000              	GLOBAL _enemy_walk
588   0000              	GLOBAL _enemy_vertical
589   0000              	GLOBAL _ay_fx_play
590   0000              	GLOBAL _ay_midi_play
591   0000              	GLOBAL _ay_is_playing
592   0000              	GLOBAL _ay_reset
593   0000              	GLOBAL _test_func
594   0000              	GLOBAL _test_proc
595   0000              	GLOBAL _in_mouse_kempston_wheel_delta
596   0000              	GLOBAL _in_mouse_kempston_wheel
597   0000              	GLOBAL _in_mouse_kempston_callee
598   0000              	GLOBAL _in_mouse_kempston
599   0000              	GLOBAL _in_mouse_kempston_setpos_callee
600   0000              	GLOBAL _in_mouse_kempston_setpos
601   0000              	GLOBAL _in_mouse_kempston_reset
602   0000              	GLOBAL _in_mouse_kempston_init
603   0000              	GLOBAL _in_mouse_amx_wheel_delta
604   0000              	GLOBAL _in_mouse_amx_wheel
605   0000              	GLOBAL _in_mouse_amx_callee
606   0000              	GLOBAL _in_mouse_amx
607   0000              	GLOBAL _in_mouse_amx_setpos_callee
608   0000              	GLOBAL _in_mouse_amx_setpos
609   0000              	GLOBAL _in_mouse_amx_reset
610   0000              	GLOBAL _in_mouse_amx_init_callee
611   0000              	GLOBAL _in_mouse_amx_init
612   0000              	GLOBAL _in_stick_sinclair2
613   0000              	GLOBAL _in_stick_sinclair1
614   0000              	GLOBAL _in_stick_kempston
615   0000              	GLOBAL _in_stick_fuller
616   0000              	GLOBAL _in_stick_cursor
617   0000              	GLOBAL _in_stick_keyboard_fastcall
618   0000              	GLOBAL _in_stick_keyboard
619   0000              	GLOBAL _in_wait_nokey
620   0000              	GLOBAL _in_wait_key
621   0000              	GLOBAL _in_test_key
622   0000              	GLOBAL _in_pause_fastcall
623   0000              	GLOBAL _in_pause
624   0000              	GLOBAL _in_key_scancode_fastcall
625   0000              	GLOBAL _in_key_scancode
626   0000              	GLOBAL _in_key_pressed_fastcall
627   0000              	GLOBAL _in_key_pressed
628   0000              	GLOBAL _in_inkey
629   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
630   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
631   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
632   0000              	GLOBAL _NIRVANAP_HOLE
633   0000              	GLOBAL _NIRVANAP_ISR_HOOK
634   0000              	GLOBAL _draw_count
635   0000              	GLOBAL _g_player_hit_right
636   0000              	GLOBAL _g_player_hit_left
637   0000              	GLOBAL _joynames
638   0000              	GLOBAL _initials
639   0000              	GLOBAL _bullet_count
640   0000              	GLOBAL _bullet_frames
641   0000              	GLOBAL _bullet_colint
642   0000              	GLOBAL _bullet_dir
643   0000              	GLOBAL _bullet_tile
644   0000              	GLOBAL _bullet_col
645   0000              	GLOBAL _bullet_lin
646   0000              	GLOBAL _anim_count
647   0000              	GLOBAL _anim_end
648   0000              	GLOBAL _anim_int
649   0000              	GLOBAL _anim_tile
650   0000              	GLOBAL _anim_col
651   0000              	GLOBAL _anim_lin
652   0000              	GLOBAL _phase_curr
653   0000              	GLOBAL _map_heigth
654   0000              	GLOBAL _map_width
655   0000              	GLOBAL _scr_curr
656   0000              	GLOBAL _scr_7
657   0000              	GLOBAL _scr_6
658   0000              	GLOBAL _scr_5
659   0000              	GLOBAL _scr_4
660   0000              	GLOBAL _scr_3
661   0000              	GLOBAL _scr_2
662   0000              	GLOBAL _scr_1
663   0000              	GLOBAL _scr_0
664   0000              	GLOBAL _scr_map
665   0000              	GLOBAL _sprite_speed_alt
666   0000              	GLOBAL _sprite_frames
667   0000              	GLOBAL _sprite_speed
668   0000              	GLOBAL _screen_ink
669   0000              	GLOBAL _screen_paper
670   0000              	GLOBAL _player_over_stair
671   0000              	GLOBAL _game_menu_sel
672   0000              	GLOBAL _game_score_top
673   0000              	GLOBAL _player_lives
674   0000              	GLOBAL _game_over
675   0000              	GLOBAL _game_sound
676   0000              	GLOBAL _game_inmune
677   0000              	GLOBAL _game_god_mode
678   0000              	GLOBAL _game_two_player
679   0000              	GLOBAL _game_brick_tile
680   0000              	GLOBAL _sprite_curr_index
681   0000              	GLOBAL _spr_count
682   0000              	GLOBAL _bullet_time
683   0000              	GLOBAL _anim_time
684   0000              	GLOBAL _frame_time
685   0000              	GLOBAL _entry_time
686   0000              	GLOBAL _curr_time
687   0000              	GLOBAL _s_state
688   0000              	GLOBAL _attrib_hl
689   0000              	GLOBAL _attrib
690   0000              	GLOBAL _zx_val_asm
691   0000              	GLOBAL _enemies
692   0000              	GLOBAL _tmp_ui
693   0000              	GLOBAL _tmp_sc
694   0000              	GLOBAL _tmp_uc
695   0000              	GLOBAL _tmp1
696   0000              	GLOBAL _tmp0
697   0000              	GLOBAL _tmp
698   0000              	GLOBAL _index1
699   0000              	GLOBAL _index0
700   0000              	GLOBAL _loop_count
701   0000              	GLOBAL _s_col1
702   0000              	GLOBAL _s_col0
703   0000              	GLOBAL _s_lin1
704   0000              	GLOBAL _s_lin0
705   0000              	GLOBAL _s_tile1
706   0000              	GLOBAL _s_tile0
707   0000              	GLOBAL _player_hit_count
708   0000              	GLOBAL _sprite_horizontal_check
709   0000              	GLOBAL _sprite_on_air
710   0000              	GLOBAL _sprite
711   0000              	GLOBAL _game_gravity
712   0000              	GLOBAL _player_vel_inc
713   0000              	GLOBAL _player_vel_y1
714   0000              	GLOBAL _player_vel_y0
715   0000              	GLOBAL _player_vel_y
716   0000              	GLOBAL _player_vel_x
717   0000              	GLOBAL _player_joy
718   0000              	GLOBAL _player_score
719   0000              	GLOBAL _last_time
720   0000              	GLOBAL _player_slide
721   0000              	GLOBAL _spr_timer
722   0000              	GLOBAL _jump_lin
723   0000              	GLOBAL _player_hit_col
724   0000              	GLOBAL _player_hit_lin
725   0000              	GLOBAL _colint
726   0000              	GLOBAL _col
727   0000              	GLOBAL _lin
728   0000              	GLOBAL _tile
729   0000              	GLOBAL _state_a
730   0000              	GLOBAL _state
731   0000              	GLOBAL _class
732   0000              	GLOBAL _tbuffer
733   0000              	GLOBAL _dirs
734   0000              	GLOBAL _k1
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
739   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
740   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
741   0000              	GLOBAL _ay_effect_20
742   0000              	GLOBAL _ay_effect_19
743   0000              	GLOBAL _ay_effect_18
744   0000              	GLOBAL _ay_effect_17
745   0000              	GLOBAL _ay_effect_16
746   0000              	GLOBAL _ay_effect_15
747   0000              	GLOBAL _ay_effect_14
748   0000              	GLOBAL _ay_effect_13
749   0000              	GLOBAL _ay_effect_12
750   0000              	GLOBAL _ay_effect_11
751   0000              	GLOBAL _ay_effect_10
752   0000              	GLOBAL _ay_effect_09
753   0000              	GLOBAL _ay_effect_08
754   0000              	GLOBAL _ay_effect_07
755   0000              	GLOBAL _ay_effect_06
756   0000              	GLOBAL _ay_effect_05
757   0000              	GLOBAL _ay_effect_04
758   0000              	GLOBAL _ay_effect_03
759   0000              	GLOBAL _ay_effect_02
760   0000              	GLOBAL _ay_effect_01
761   0000              	GLOBAL _pb_midi_phase_1
762   0000              	GLOBAL _pb_midi_title
763   0000              	GLOBAL _control_method
764   0000              ;--------------------------------------------------------
765   0000              ; special function registers
766   0000              ;--------------------------------------------------------
767   0000              defc _IO_FE	=	0x00fe
768   0000              defc _IO_1FFD	=	0x1ffd
769   0000              defc _IO_7FFD	=	0x7ffd
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              	SECTION bss_compiler
774   0000              ;--------------------------------------------------------
775   0000              ; ram data
776   0000              ;--------------------------------------------------------
777   0000              
778   0000              IF 0
779   0000              
780   0000              ; .area _INITIALIZED removed by z88dk
781   0000              
782   0000              
783   0000              ENDIF
784   0000              
785   0000              ;--------------------------------------------------------
786   0000              ; absolute external ram data
787   0000              ;--------------------------------------------------------
788   0000              	SECTION IGNORE
789   0000              ;--------------------------------------------------------
790   0000              ; global & static initialisations
791   0000              ;--------------------------------------------------------
792   0000              	SECTION code_crt_init
793   0000              ;--------------------------------------------------------
794   0000              ; Home
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; code
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_compiler
801   0000              ;	---------------------------------
802   0000              ; Function player_init
803   0000              ; ---------------------------------
804   0000              _player_init:
805   0000  CD 00 00    	call	___sdcc_enter_ix
806   0003  F5          	push	af
807   0004  3E 00       	ld	a, +((_class) & 0xFF)
808   0006  DD 86 04    	add	a,(ix+4)
809   0009  4F          	ld	c, a
810   000A  3E 00       	ld	a, +((_class) / 256)
811   000C  CE 00       	adc	a,0x00
812   000E  47          	ld	b, a
813   000F  3E 10       	ld	a,0x10
814   0011  02          	ld	(bc), a
815   0012  3E 00       	ld	a, +((_tile) & 0xFF)
816   0014  DD 86 04    	add	a,(ix+4)
817   0017  4F          	ld	c, a
818   0018  3E 00       	ld	a, +((_tile) / 256)
819   001A  CE 00       	adc	a,0x00
820   001C  47          	ld	b, a
821   001D  DD 7E 07    	ld	a,(ix+7)
822   0020  02          	ld	(bc), a
823   0021  3E 00       	ld	a, +((_lin) & 0xFF)
824   0023  DD 86 04    	add	a,(ix+4)
825   0026  4F          	ld	c, a
826   0027  3E 00       	ld	a, +((_lin) / 256)
827   0029  CE 00       	adc	a,0x00
828   002B  47          	ld	b, a
829   002C  DD 7E 05    	ld	a,(ix+5)
830   002F  02          	ld	(bc), a
831   0030  3E 00       	ld	a, +((_col) & 0xFF)
832   0032  DD 86 04    	add	a,(ix+4)
833   0035  4F          	ld	c, a
834   0036  3E 00       	ld	a, +((_col) / 256)
835   0038  CE 00       	adc	a,0x00
836   003A  47          	ld	b, a
837   003B  DD 7E 06    	ld	a,(ix+6)
838   003E  02          	ld	(bc), a
839   003F  3E 00       	ld	a, +((_colint) & 0xFF)
840   0041  DD 86 04    	add	a,(ix+4)
841   0044  4F          	ld	c, a
842   0045  3E 00       	ld	a, +((_colint) / 256)
843   0047  CE 00       	adc	a,0x00
844   0049  47          	ld	b, a
845   004A  AF          	xor	a, a
846   004B  02          	ld	(bc), a
847   004C  3E 00       	ld	a, +((_state) & 0xFF)
848   004E  DD 86 04    	add	a,(ix+4)
849   0051  4F          	ld	c, a
850   0052  3E 00       	ld	a, +((_state) / 256)
851   0054  CE 00       	adc	a,0x00
852   0056  47          	ld	b, a
853   0057  AF          	xor	a, a
854   0058  02          	ld	(bc), a
855   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
856   005B  DD 86 04    	add	a,(ix+4)
857   005E  4F          	ld	c, a
858   005F  3E 00       	ld	a, +((_state_a) / 256)
859   0061  CE 00       	adc	a,0x00
860   0063  47          	ld	b, a
861   0064  AF          	xor	a, a
862   0065  02          	ld	(bc), a
863   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
864   0068  DD 86 04    	add	a,(ix+4)
865   006B  5F          	ld	e, a
866   006C  3E 00       	ld	a, +((_jump_lin) / 256)
867   006E  CE 00       	adc	a,0x00
868   0070  57          	ld	d, a
869   0071  DD 7E 05    	ld	a,(ix+5)
870   0074  12          	ld	(de), a
871   0075  DD 6E 04    	ld	l,(ix+4)
872   0078  26 00       	ld	h,0x00
873   007A  29          	add	hl,hl
874   007B  11 00 00    	ld	de,_last_time
875   007E  19          	add	hl, de
876   007F  E3          	ex	(sp), hl
877   0080  E1          	pop	hl
878   0081  ED 5B 00 00 	ld	de,(_curr_time)
879   0085  E5          	push	hl
880   0086  73          	ld	(hl), e
881   0087  23          	inc	hl
882   0088  72          	ld	(hl), d
883   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
884   008B  DD 86 04    	add	a,(ix+4)
885   008E  5F          	ld	e, a
886   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
887   0091  CE 00       	adc	a,0x00
888   0093  57          	ld	d, a
889   0094  AF          	xor	a, a
890   0095  12          	ld	(de), a
891   0096  0A          	ld	a, (bc)
892   0097  F6 11       	or	a,+(0x01|0x10)
893   0099  02          	ld	(bc),a
894   009A  21 00 00    	ld	hl,_player_hit_col
895   009D  36 00       	ld	(hl),0x00
896   009F  21 00 00    	ld	hl,_player_hit_lin
897   00A2  36 00       	ld	(hl),0x00
898   00A4  21 00 00    	ld	hl,_player_slide
899   00A7  36 00       	ld	(hl),0x00
900   00A9  DD 66 06    	ld	h,(ix+6)
901   00AC  DD 6E 05    	ld	l,(ix+5)
902   00AF  E5          	push	hl
903   00B0  DD 66 07    	ld	h,(ix+7)
904   00B3  DD 6E 04    	ld	l,(ix+4)
905   00B6  E5          	push	hl
906   00B7  CD 00 00    	call	_NIRVANAP_spriteT_callee
907   00BA  F1          	pop	af
908   00BB  DD E1       	pop	ix
909   00BD  C9          	ret
910   00BE              	SECTION code_compiler
911   00BE              ;	---------------------------------
912   00BE              ; Function player_check_input
913   00BE              ; ---------------------------------
914   00BE              _player_check_input:
915   00BE  21 00 00    	ld	hl,_dirs
916   00C1  CB 56       	bit	2, (hl)
917   00C3  28 0C       	jr	Z,l_player_check_input_00102
918   00C5  21 00 00    	ld	hl,_dirs
919   00C8  CB 5E       	bit	3, (hl)
920   00CA  28 05       	jr	Z,l_player_check_input_00102
921   00CC  21 00 00    	ld	hl,_dirs
922   00CF  36 00       	ld	(hl),0x00
923   00D1              l_player_check_input_00102:
924   00D1  21 00 00    	ld	hl,_dirs
925   00D4  7E          	ld	a, (hl)
926   00D5  CB 07       	rlc	a
927   00D7  E6 01       	and	a,0x01
928   00D9  CB 47       	bit	0, a
929   00DB  20 1D       	jr	NZ,l_player_check_input_00107
930   00DD  CB 56       	bit	2, (hl)
931   00DF  20 19       	jr	NZ,l_player_check_input_00107
932   00E1  21 00 00    	ld	hl,_dirs
933   00E4  CB 5E       	bit	3, (hl)
934   00E6  20 12       	jr	NZ,l_player_check_input_00107
935   00E8  21 00 00    	ld	hl,_dirs
936   00EB  CB 46       	bit	0, (hl)
937   00ED  20 0B       	jr	NZ,l_player_check_input_00107
938   00EF  21 00 00    	ld	hl,_dirs
939   00F2  CB 4E       	bit	1, (hl)
940   00F4  20 04       	jr	NZ,l_player_check_input_00107
941   00F6  2E 00       	ld	l,0x00
942   00F8  18 02       	jr	l_player_check_input_00108
943   00FA              l_player_check_input_00107:
944   00FA  2E 01       	ld	l,0x01
945   00FC              l_player_check_input_00108:
946   00FC  C9          	ret
947   00FD              	SECTION code_compiler
948   00FD              ;	---------------------------------
949   00FD              ; Function player_collision
950   00FD              ; ---------------------------------
951   00FD              _player_collision:
952   00FD  2E 00       	ld	l,0x00
953   00FF  C9          	ret
954   0100              	SECTION code_compiler
955   0100              ;	---------------------------------
956   0100              ; Function player_kill
957   0100              ; ---------------------------------
958   0100              _player_kill:
959   0100  01 00 00    	ld	bc,_state+0
960   0103  2A 00 00    	ld	hl,(_sprite)
961   0106  26 00       	ld	h,0x00
962   0108  09          	add	hl,bc
963   0109  CB 6E       	bit	5,(hl)
964   010B  C2 D2 01    	jp	NZ,l_player_kill_00109
965   010E  C5          	push	bc
966   010F  CD 00 00    	call	_sound_hit_brick
967   0112  C1          	pop	bc
968   0113  79          	ld	a, c
969   0114  21 00 00    	ld	hl,_sprite
970   0117  86          	add	a, (hl)
971   0118  5F          	ld	e, a
972   0119  78          	ld	a, b
973   011A  CE 00       	adc	a,0x00
974   011C  57          	ld	d, a
975   011D  1A          	ld	a, (de)
976   011E  F6 20       	or	a,0x20
977   0120  12          	ld	(de), a
978   0121  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
979   0123  86          	add	a, (hl)
980   0124  5F          	ld	e, a
981   0125  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
982   0127  CE 00       	adc	a,0x00
983   0129  57          	ld	d, a
984   012A  3E 03       	ld	a,0x03
985   012C  12          	ld	(de), a
986   012D  79          	ld	a, c
987   012E  86          	add	a, (hl)
988   012F  4F          	ld	c, a
989   0130  78          	ld	a, b
990   0131  CE 00       	adc	a,0x00
991   0133  47          	ld	b, a
992   0134  0A          	ld	a, (bc)
993   0135  CB 57       	bit	2, a
994   0137  28 0D       	jr	Z,l_player_kill_00102
995   0139  2A 00 00    	ld	hl,(_sprite)
996   013C  26 00       	ld	h,0x00
997   013E  01 00 00    	ld	bc,_tile
998   0141  09          	add	hl,bc
999   0142  36 40       	ld	(hl),0x40
1000  0144  18 0B       	jr	l_player_kill_00103
1001  0146              l_player_kill_00102:
1002  0146  2A 00 00    	ld	hl,(_sprite)
1003  0149  26 00       	ld	h,0x00
1004  014B  01 00 00    	ld	bc,_tile
1005  014E  09          	add	hl,bc
1006  014F  36 48       	ld	(hl),0x48
1007  0151              l_player_kill_00103:
1008  0151  CD 43 08    	call	_player_hit_platform_clear
1009  0154  2A 00 00    	ld	hl,(_sprite)
1010  0157  26 00       	ld	h,0x00
1011  0159  01 00 00    	ld	bc,_col
1012  015C  09          	add	hl,bc
1013  015D  4E          	ld	c, (hl)
1014  015E  2A 00 00    	ld	hl,(_sprite)
1015  0161  26 00       	ld	h,0x00
1016  0163  11 00 00    	ld	de,_lin
1017  0166  19          	add	hl,de
1018  0167  46          	ld	b, (hl)
1019  0168  2A 00 00    	ld	hl,(_sprite)
1020  016B  26 00       	ld	h,0x00
1021  016D  11 00 00    	ld	de,_tile
1022  0170  19          	add	hl,de
1023  0171  56          	ld	d, (hl)
1024  0172  79          	ld	a,c
1025  0173  21 00 00    	ld	hl,_sprite
1026  0176  F5          	push	af
1027  0177  33          	inc	sp
1028  0178  4A          	ld	c, d
1029  0179  7E          	ld	a,(hl)
1030  017A  C5          	push	bc
1031  017B  F5          	push	af
1032  017C  33          	inc	sp
1033  017D  CD 00 00    	call	_NIRVANAP_spriteT_callee
1034  0180  01 00 00    	ld	bc,_spr_timer+0
1035  0183  2A 00 00    	ld	hl,(_sprite)
1036  0186  26 00       	ld	h,0x00
1037  0188  29          	add	hl, hl
1038  0189  09          	add	hl,bc
1039  018A  ED 5B 00 00 	ld	de,(_curr_time)
1040  018E  73          	ld	(hl),e
1041  018F  23          	inc	hl
1042  0190  72          	ld	(hl),d
1043  0191  3A 00 00    	ld	a,(_sprite)
1044  0194  D6 07       	sub	a,0x07
1045  0196  20 1E       	jr	NZ,l_player_kill_00105
1046  0198  01 00 00    	ld	bc,_state_a+0
1047  019B  79          	ld	a, c
1048  019C  21 00 00    	ld	hl,_sprite
1049  019F  86          	add	a, (hl)
1050  01A0  5F          	ld	e, a
1051  01A1  78          	ld	a, b
1052  01A2  CE 00       	adc	a,0x00
1053  01A4  57          	ld	d, a
1054  01A5  1A          	ld	a, (de)
1055  01A6  F6 08       	or	a,0x08
1056  01A8  12          	ld	(de), a
1057  01A9  79          	ld	a, c
1058  01AA  86          	add	a, (hl)
1059  01AB  4F          	ld	c, a
1060  01AC  78          	ld	a, b
1061  01AD  CE 00       	adc	a,0x00
1062  01AF  47          	ld	b, a
1063  01B0  0A          	ld	a, (bc)
1064  01B1  E6 EF       	and	a,0xef
1065  01B3  02          	ld	(bc), a
1066  01B4  18 1C       	jr	l_player_kill_00109
1067  01B6              l_player_kill_00105:
1068  01B6  01 00 00    	ld	bc,_state_a+0
1069  01B9  79          	ld	a, c
1070  01BA  21 00 00    	ld	hl,_sprite
1071  01BD  86          	add	a, (hl)
1072  01BE  5F          	ld	e, a
1073  01BF  78          	ld	a, b
1074  01C0  CE 00       	adc	a,0x00
1075  01C2  57          	ld	d, a
1076  01C3  1A          	ld	a, (de)
1077  01C4  F6 10       	or	a,0x10
1078  01C6  12          	ld	(de), a
1079  01C7  79          	ld	a, c
1080  01C8  86          	add	a, (hl)
1081  01C9  4F          	ld	c, a
1082  01CA  78          	ld	a, b
1083  01CB  CE 00       	adc	a,0x00
1084  01CD  47          	ld	b, a
1085  01CE  0A          	ld	a, (bc)
1086  01CF  E6 F7       	and	a,0xf7
1087  01D1  02          	ld	(bc), a
1088  01D2              l_player_kill_00109:
1089  01D2  C9          	ret
1090  01D3              	SECTION code_compiler
1091  01D3              ;	---------------------------------
1092  01D3              ; Function player_restart
1093  01D3              ; ---------------------------------
1094  01D3              _player_restart:
1095  01D3  CD 00 00    	call	___sdcc_enter_ix
1096  01D6  F5          	push	af
1097  01D7  4D          	ld	c, l
1098  01D8  21 00 00    	ld	hl,_ay_effect_15
1099  01DB  CD 00 00    	call	_ay_fx_play
1100  01DE  C5          	push	bc
1101  01DF  21 0E 64    	ld	hl,0x640e
1102  01E2  E5          	push	hl
1103  01E3  21 07 00    	ld	hl,0x0007
1104  01E6  E5          	push	hl
1105  01E7  CD 00 00    	call	_player_init
1106  01EA  F1          	pop	af
1107  01EB  F1          	pop	af
1108  01EC  C1          	pop	bc
1109  01ED  11 00 00    	ld	de,_state+0
1110  01F0  69          	ld	l,c
1111  01F1  26 00       	ld	h,0x00
1112  01F3  19          	add	hl, de
1113  01F4  CB E6       	set	4, (hl)
1114  01F6  11 00 00    	ld	de,_state_a+0
1115  01F9  69          	ld	l,c
1116  01FA  26 00       	ld	h,0x00
1117  01FC  19          	add	hl, de
1118  01FD  CB C6       	set	0, (hl)
1119  01FF  11 00 00    	ld	de,_spr_timer+0
1120  0202  69          	ld	l, c
1121  0203  26 00       	ld	h,0x00
1122  0205  29          	add	hl, hl
1123  0206  19          	add	hl,de
1124  0207  E3          	ex	(sp), hl
1125  0208  E1          	pop	hl
1126  0209  ED 5B 00 00 	ld	de,(_curr_time)
1127  020D  E5          	push	hl
1128  020E  73          	ld	(hl), e
1129  020F  23          	inc	hl
1130  0210  72          	ld	(hl), d
1131  0211  11 00 00    	ld	de,_sprite_speed_alt+0
1132  0214  69          	ld	l,c
1133  0215  26 00       	ld	h,0x00
1134  0217  19          	add	hl, de
1135  0218  F1          	pop	af
1136  0219  36 08       	ld	(hl),0x08
1137  021B  DD E1       	pop	ix
1138  021D  C9          	ret
1139  021E              	SECTION code_compiler
1140  021E              ;	---------------------------------
1141  021E              ; Function player_lost_life
1142  021E              ; ---------------------------------
1143  021E              _player_lost_life:
1144  021E  CD 00 00    	call	_sound_hit_enemy
1145  0221  21 00 00    	ld	hl,_player_lives
1146  0224  35          	dec (hl)
1147  0225  20 09       	jr	NZ,l_player_lost_life_00102
1148  0227  21 00 00    	ld	hl,_game_over
1149  022A  36 01       	ld	(hl),0x01
1150  022C  2E 00       	ld	l,0x00
1151  022E  18 05       	jr	l_player_lost_life_00103
1152  0230              l_player_lost_life_00102:
1153  0230  CD 00 00    	call	_game_print_lives
1154  0233  2E 01       	ld	l,0x01
1155  0235              l_player_lost_life_00103:
1156  0235  C9          	ret
1157  0236              	SECTION code_compiler
1158  0236              ;	---------------------------------
1159  0236              ; Function player_turn
1160  0236              ; ---------------------------------
1161  0236              _player_turn:
1162  0236  2A 00 00    	ld	hl,(_sprite)
1163  0239  26 00       	ld	h,0x00
1164  023B  01 00 00    	ld	bc,_class
1165  023E  09          	add	hl,bc
1166  023F  7E          	ld	a,(hl)
1167  0240  D6 10       	sub	a,0x10
1168  0242  C0          	ret	NZ
1169  0243  3A 00 00    	ld	a,(_player_lives)
1170  0246  B7          	or	a, a
1171  0247  C8          	ret	Z
1172  0248  21 00 00    	ld	hl,_sprite
1173  024B  CD 00 00    	call	_spr_chktime
1174  024E  7D          	ld	a, l
1175  024F  B7          	or	a, a
1176  0250  C8          	ret	Z
1177  0251  21 00 00    	ld	hl,_dirs
1178  0254  36 00       	ld	(hl),0x00
1179  0256  21 00 00    	ld	hl,_k1
1180  0259  E5          	push	hl
1181  025A  2A 00 00    	ld	hl,(_joyfunc1)
1182  025D  CD 00 00    	call	___sdcc_call_hl
1183  0260  F1          	pop	af
1184  0261  7D          	ld	a,l
1185  0262  32 00 00    	ld	(_dirs),a
1186  0265  CD 6B 02    	call	_player_move
1187  0268  C3 FD 00    	jp  _player_collision
1188  026B              	SECTION code_compiler
1189  026B              ;	---------------------------------
1190  026B              ; Function player_move
1191  026B              ; ---------------------------------
1192  026B              _player_move:
1193  026B  2A 00 00    	ld	hl,(_sprite)
1194  026E  26 00       	ld	h,0x00
1195  0270  01 00 00    	ld	bc,_lin
1196  0273  09          	add	hl,bc
1197  0274  7E          	ld	a,(hl)
1198  0275  32 00 00    	ld	(_s_lin0),a
1199  0278  2A 00 00    	ld	hl,(_sprite)
1200  027B  26 00       	ld	h,0x00
1201  027D  01 00 00    	ld	bc,_col
1202  0280  09          	add	hl,bc
1203  0281  7E          	ld	a,(hl)
1204  0282  32 00 00    	ld	(_s_col0),a
1205  0285  2A 00 00    	ld	hl,(_sprite)
1206  0288  26 00       	ld	h,0x00
1207  028A  01 00 00    	ld	bc,_tile
1208  028D  09          	add	hl,bc
1209  028E  4E          	ld	c, (hl)
1210  028F  3A 00 00    	ld	a,(_sprite)
1211  0292  5F          	ld	e,a
1212  0293  16 00       	ld	d,0x00
1213  0295  21 00 00    	ld	hl,_colint
1214  0298  19          	add	hl,de
1215  0299  7E          	ld	a,(hl)
1216  029A  81          	add	a,c
1217  029B  32 00 00    	ld	(_s_tile0),a
1218  029E  2A 00 00    	ld	hl,(_sprite)
1219  02A1  26 00       	ld	h,0x00
1220  02A3  01 00 00    	ld	bc,_state
1221  02A6  09          	add	hl,bc
1222  02A7  7E          	ld	a,(hl)
1223  02A8  CB 47       	bit	0,a
1224  02AA  32 00 00    	ld	(_s_state),a
1225  02AD  20 07       	jr	NZ,l_player_move_00113
1226  02AF  21 00 00    	ld	hl,_s_state
1227  02B2  CB 4E       	bit	1, (hl)
1228  02B4  28 46       	jr	Z,l_player_move_00114
1229  02B6              l_player_move_00113:
1230  02B6  CD EF 05    	call	_player_fire
1231  02B9  3A 00 00    	ld	a,(_player_vel_y)
1232  02BC  21 00 00    	ld	hl,_player_vel_y1
1233  02BF  96          	sub	a, (hl)
1234  02C0  E2 C5 02    	jp	PO, l_player_move_00156
1235  02C3  EE 80       	xor	a,0x80
1236  02C5              l_player_move_00156:
1237  02C5  F2 E8 02    	jp	P, l_player_move_00106
1238  02C8  21 00 00    	ld	hl,_dirs
1239  02CB  CB 56       	bit	2, (hl)
1240  02CD  28 09       	jr	Z,l_player_move_00102
1241  02CF  21 00 00    	ld	hl,_s_state
1242  02D2  7E          	ld	a,(hl)
1243  02D3  F6 08       	or	a,0x08
1244  02D5  E6 FB       	and	a,0xfb
1245  02D7  77          	ld	(hl),a
1246  02D8              l_player_move_00102:
1247  02D8  21 00 00    	ld	hl,_dirs
1248  02DB  CB 4E       	bit	1, (hl)
1249  02DD  28 09       	jr	Z,l_player_move_00106
1250  02DF  21 00 00    	ld	hl,_s_state
1251  02E2  7E          	ld	a,(hl)
1252  02E3  F6 04       	or	a,0x04
1253  02E5  E6 F7       	and	a,0xf7
1254  02E7  77          	ld	(hl),a
1255  02E8              l_player_move_00106:
1256  02E8  CD 1D 09    	call	_player_move_jump
1257  02EB  7D          	ld	a, l
1258  02EC  B7          	or	a, a
1259  02ED  28 2E       	jr	Z,l_player_move_00115
1260  02EF  3A 00 00    	ld	a,(_player_over_stair)
1261  02F2  B7          	or	a, a
1262  02F3  20 28       	jr	NZ,l_player_move_00115
1263  02F5  2E 54       	ld	l,0x54
1264  02F7  CD 28 04    	call	_player_tile
1265  02FA  18 21       	jr	l_player_move_00115
1266  02FC              l_player_move_00114:
1267  02FC  CD 7E 04    	call	_player_move_input
1268  02FF  7D          	ld	a, l
1269  0300  B7          	or	a, a
1270  0301  20 17       	jr	NZ,l_player_move_00112
1271  0303  2A 00 00    	ld	hl,(_sprite)
1272  0306  26 00       	ld	h,0x00
1273  0308  01 00 00    	ld	bc,_colint
1274  030B  09          	add	hl,bc
1275  030C  AF          	xor	a,a
1276  030D  77          	ld	(hl),a
1277  030E  2E 64       	ld	l,0x64
1278  0310  CD 28 04    	call	_player_tile
1279  0313  21 00 00    	ld	hl,_s_state
1280  0316  7E          	ld	a,(hl)
1281  0317  E6 F3       	and	a,+(0xf7&0xfb)
1282  0319  77          	ld	(hl),a
1283  031A              l_player_move_00112:
1284  031A  CD A1 08    	call	_player_check_floor
1285  031D              l_player_move_00115:
1286  031D  CD 00 00    	call	_spr_redraw
1287  0320  7D          	ld	a, l
1288  0321  B7          	or	a, a
1289  0322  28 03       	jr	Z,l_player_move_00118
1290  0324  CD 5F 06    	call	_player_check_map
1291  0327              l_player_move_00118:
1292  0327  CD 43 08    	call	_player_hit_platform_clear
1293  032A  2A 00 00    	ld	hl,(_sprite)
1294  032D  26 00       	ld	h,0x00
1295  032F  01 00 00    	ld	bc,_state
1296  0332  09          	add	hl,bc
1297  0333  3A 00 00    	ld	a,(_s_state)
1298  0336  77          	ld	(hl),a
1299  0337  2E 00       	ld	l,0x00
1300  0339  C9          	ret
1301  033A              	SECTION code_compiler
1302  033A              ;	---------------------------------
1303  033A              ; Function player_check_stairs_down
1304  033A              ; ---------------------------------
1305  033A              _player_check_stairs_down:
1306  033A  CD 00 00    	call	___sdcc_enter_ix
1307  033D  3B          	dec	sp
1308  033E  2A 00 00    	ld	hl,(_sprite)
1309  0341  26 00       	ld	h,0x00
1310  0343  5D          	ld	e,l
1311  0344  01 00 00    	ld	bc,_col
1312  0347  09          	add	hl,bc
1313  0348  46          	ld	b,(hl)
1314  0349  16 00       	ld	d,0x00
1315  034B  21 00 00    	ld	hl,_lin
1316  034E  19          	add	hl,de
1317  034F  7E          	ld	a,(hl)
1318  0350  C6 10       	add	a,0x10
1319  0352  4F          	ld	c,a
1320  0353  C5          	push	bc
1321  0354  CD 00 00    	call	_spr_calc_index
1322  0357  F1          	pop	af
1323  0358  7D          	ld	a,l
1324  0359  32 00 00    	ld	(_sprite_curr_index),a
1325  035C  4F          	ld	c,a
1326  035D  06 00       	ld	b,0x00
1327  035F  21 00 00    	ld	hl,_scr_map
1328  0362  09          	add	hl,bc
1329  0363  7E          	ld	a,(hl)
1330  0364  4F          	ld	c,a
1331  0365  D6 38       	sub	a,0x38
1332  0367  38 05       	jr	C,l_player_check_stairs_down_00105
1333  0369  3E 3C       	ld	a,0x3c
1334  036B  91          	sub	a, c
1335  036C  30 04       	jr	NC,l_player_check_stairs_down_00106
1336  036E              l_player_check_stairs_down_00105:
1337  036E  3E 00       	ld	a,0x00
1338  0370  18 02       	jr	l_player_check_stairs_down_00107
1339  0372              l_player_check_stairs_down_00106:
1340  0372  3E 01       	ld	a,0x01
1341  0374              l_player_check_stairs_down_00107:
1342  0374  B7          	or	a, a
1343  0375  28 05       	jr	Z,l_player_check_stairs_down_00103
1344  0377  21 00 00    	ld	hl,_player_over_stair
1345  037A  36 01       	ld	(hl),0x01
1346  037C              l_player_check_stairs_down_00103:
1347  037C  33          	inc	sp
1348  037D  DD E1       	pop	ix
1349  037F  C9          	ret
1350  0380              	SECTION code_compiler
1351  0380              ;	---------------------------------
1352  0380              ; Function player_check_stairs
1353  0380              ; ---------------------------------
1354  0380              _player_check_stairs:
1355  0380  CD 00 00    	call	___sdcc_enter_ix
1356  0383  3B          	dec	sp
1357  0384  5D          	ld	e, l
1358  0385  2A 00 00    	ld	hl,(_sprite)
1359  0388  26 00       	ld	h,0x00
1360  038A  01 00 00    	ld	bc,_col
1361  038D  09          	add	hl,bc
1362  038E  7E          	ld	a,(hl)
1363  038F  83          	add	a,e
1364  0390  57          	ld	d,a
1365  0391  2A 00 00    	ld	hl,(_sprite)
1366  0394  26 00       	ld	h,0x00
1367  0396  01 00 00    	ld	bc,_lin
1368  0399  09          	add	hl,bc
1369  039A  46          	ld	b, (hl)
1370  039B  D5          	push	de
1371  039C  58          	ld	e,b
1372  039D  D5          	push	de
1373  039E  CD 00 00    	call	_spr_calc_index
1374  03A1  F1          	pop	af
1375  03A2  D1          	pop	de
1376  03A3  7D          	ld	a,l
1377  03A4  32 00 00    	ld	(_sprite_curr_index),a
1378  03A7  4F          	ld	c,a
1379  03A8  06 00       	ld	b,0x00
1380  03AA  21 00 00    	ld	hl,_scr_map
1381  03AD  09          	add	hl,bc
1382  03AE  7E          	ld	a,(hl)
1383  03AF  4F          	ld	c,a
1384  03B0  D6 38       	sub	a,0x38
1385  03B2  38 05       	jr	C,l_player_check_stairs_00111
1386  03B4  3E 3C       	ld	a,0x3c
1387  03B6  91          	sub	a, c
1388  03B7  30 04       	jr	NC,l_player_check_stairs_00112
1389  03B9              l_player_check_stairs_00111:
1390  03B9  0E 00       	ld	c,0x00
1391  03BB  18 02       	jr	l_player_check_stairs_00113
1392  03BD              l_player_check_stairs_00112:
1393  03BD  0E 01       	ld	c,0x01
1394  03BF              l_player_check_stairs_00113:
1395  03BF  3E 00       	ld	a, +((_col) & 0xFF)
1396  03C1  21 00 00    	ld	hl,_sprite
1397  03C4  86          	add	a, (hl)
1398  03C5  6F          	ld	l, a
1399  03C6  3E 00       	ld	a, +((_col) / 256)
1400  03C8  CE 00       	adc	a,0x00
1401  03CA  67          	ld	h, a
1402  03CB  7E          	ld	a, (hl)
1403  03CC  83          	add	a, e
1404  03CD  47          	ld	b, a
1405  03CE  2A 00 00    	ld	hl,(_sprite)
1406  03D1  26 00       	ld	h,0x00
1407  03D3  11 00 00    	ld	de,_lin
1408  03D6  19          	add	hl,de
1409  03D7  7E          	ld	a,(hl)
1410  03D8  C6 0F       	add	a,0x0f
1411  03DA  57          	ld	d, a
1412  03DB  C5          	push	bc
1413  03DC  4A          	ld	c, d
1414  03DD  C5          	push	bc
1415  03DE  CD 00 00    	call	_spr_calc_index
1416  03E1  F1          	pop	af
1417  03E2  C1          	pop	bc
1418  03E3  7D          	ld	a,l
1419  03E4  32 00 00    	ld	(_sprite_curr_index),a
1420  03E7  5F          	ld	e,a
1421  03E8  16 00       	ld	d,0x00
1422  03EA  21 00 00    	ld	hl,_scr_map
1423  03ED  19          	add	hl,de
1424  03EE  7E          	ld	a,(hl)
1425  03EF  47          	ld	b,a
1426  03F0  D6 38       	sub	a,0x38
1427  03F2  38 05       	jr	C,l_player_check_stairs_00114
1428  03F4  3E 3C       	ld	a,0x3c
1429  03F6  90          	sub	a, b
1430  03F7  30 04       	jr	NC,l_player_check_stairs_00115
1431  03F9              l_player_check_stairs_00114:
1432  03F9  06 00       	ld	b,0x00
1433  03FB  18 02       	jr	l_player_check_stairs_00116
1434  03FD              l_player_check_stairs_00115:
1435  03FD  06 01       	ld	b,0x01
1436  03FF              l_player_check_stairs_00116:
1437  03FF  79          	ld	a, c
1438  0400  B7          	or	a,a
1439  0401  20 03       	jr	NZ,l_player_check_stairs_00105
1440  0403  B0          	or	a,b
1441  0404  28 10       	jr	Z,l_player_check_stairs_00106
1442  0406              l_player_check_stairs_00105:
1443  0406  21 00 00    	ld	hl,_player_over_stair
1444  0409  7E          	ld	a, (hl)
1445  040A  B7          	or	a, a
1446  040B  20 17       	jr	NZ,l_player_check_stairs_00109
1447  040D  36 01       	ld	(hl),0x01
1448  040F  2E 66       	ld	l,0x66
1449  0411  CD 28 04    	call	_player_tile
1450  0414  18 0E       	jr	l_player_check_stairs_00109
1451  0416              l_player_check_stairs_00106:
1452  0416  21 00 00    	ld	hl,_player_over_stair
1453  0419  7E          	ld	a, (hl)
1454  041A  B7          	or	a, a
1455  041B  28 07       	jr	Z,l_player_check_stairs_00109
1456  041D  36 00       	ld	(hl),0x00
1457  041F  2E 54       	ld	l,0x54
1458  0421  CD 28 04    	call	_player_tile
1459  0424              l_player_check_stairs_00109:
1460  0424  33          	inc	sp
1461  0425  DD E1       	pop	ix
1462  0427  C9          	ret
1463  0428              	SECTION code_compiler
1464  0428              ;	---------------------------------
1465  0428              ; Function player_tile
1466  0428              ; ---------------------------------
1467  0428              _player_tile:
1468  0428  45          	ld	b, l
1469  0429  3A 00 00    	ld	a,(_player_over_stair)
1470  042C  B7          	or	a, a
1471  042D  28 0D       	jr	Z,l_player_tile_00105
1472  042F  2A 00 00    	ld	hl,(_sprite)
1473  0432  26 00       	ld	h,0x00
1474  0434  01 00 00    	ld	bc,_tile
1475  0437  09          	add	hl,bc
1476  0438  36 66       	ld	(hl),0x66
1477  043A  18 41       	jr	l_player_tile_00107
1478  043C              l_player_tile_00105:
1479  043C  78          	ld	a, b
1480  043D  D6 64       	sub	a,0x64
1481  043F  20 1F       	jr	NZ,l_player_tile_00102
1482  0441  2A 00 00    	ld	hl,(_sprite)
1483  0444  26 00       	ld	h,0x00
1484  0446  11 00 00    	ld	de,_tile
1485  0449  19          	add	hl,de
1486  044A  E5          	push	hl
1487  044B  3E 01       	ld	a,0x01
1488  044D  21 00 00    	ld	hl,_sprite
1489  0450  F5          	push	af
1490  0451  33          	inc	sp
1491  0452  7E          	ld	a, (hl)
1492  0453  48          	ld	c,b
1493  0454  47          	ld	b,a
1494  0455  C5          	push	bc
1495  0456  CD 00 00    	call	_spr_tile_dir
1496  0459  F1          	pop	af
1497  045A  33          	inc	sp
1498  045B  D1          	pop	de
1499  045C  7D          	ld	a,l
1500  045D  12          	ld	(de), a
1501  045E  18 1D       	jr	l_player_tile_00107
1502  0460              l_player_tile_00102:
1503  0460  2A 00 00    	ld	hl,(_sprite)
1504  0463  26 00       	ld	h,0x00
1505  0465  11 00 00    	ld	de,_tile
1506  0468  19          	add	hl,de
1507  0469  E5          	push	hl
1508  046A  3E 08       	ld	a,0x08
1509  046C  21 00 00    	ld	hl,_sprite
1510  046F  F5          	push	af
1511  0470  33          	inc	sp
1512  0471  7E          	ld	a, (hl)
1513  0472  48          	ld	c,b
1514  0473  47          	ld	b,a
1515  0474  C5          	push	bc
1516  0475  CD 00 00    	call	_spr_tile_dir
1517  0478  F1          	pop	af
1518  0479  33          	inc	sp
1519  047A  D1          	pop	de
1520  047B  7D          	ld	a,l
1521  047C  12          	ld	(de), a
1522  047D              l_player_tile_00107:
1523  047D  C9          	ret
1524  047E              	SECTION code_compiler
1525  047E              ;	---------------------------------
1526  047E              ; Function player_move_input
1527  047E              ; ---------------------------------
1528  047E              _player_move_input:
1529  047E  CD BE 00    	call	_player_check_input
1530  0481  7D          	ld	a, l
1531  0482  B7          	or	a, a
1532  0483  CA EC 05    	jp	Z, l_player_move_input_00136
1533  0486  CD EF 05    	call	_player_fire
1534  0489  7D          	ld	a, l
1535  048A  B7          	or	a, a
1536  048B  28 05       	jr	Z,l_player_move_input_00102
1537  048D  2E 00       	ld	l,0x00
1538  048F  C3 EE 05    	jp	l_player_move_input_00137
1539  0492              l_player_move_input_00102:
1540  0492  21 00 00    	ld	hl,_dirs
1541  0495  CB 7E       	bit	7, (hl)
1542  0497  28 67       	jr	Z,l_player_move_input_00106
1543  0499  21 00 00    	ld	hl,_player_vel_inc
1544  049C  36 01       	ld	(hl),0x01
1545  049E  CD 00 00    	call	_ay_is_playing
1546  04A1  7D          	ld	a, l
1547  04A2  D6 03       	sub	a,0x03
1548  04A4  28 06       	jr	Z,l_player_move_input_00104
1549  04A6  21 00 00    	ld	hl,_ay_effect_03
1550  04A9  CD 00 00    	call	_ay_fx_play
1551  04AC              l_player_move_input_00104:
1552  04AC  21 00 00    	ld	hl,_player_over_stair
1553  04AF  36 00       	ld	(hl),0x00
1554  04B1  CD 00 00    	call	_sound_jump
1555  04B4  21 00 00    	ld	hl,_s_state
1556  04B7  7E          	ld	a,(hl)
1557  04B8  F6 01       	or	a,0x01
1558  04BA  E6 FD       	and	a,0xfd
1559  04BC  77          	ld	(hl),a
1560  04BD  2A 00 00    	ld	hl,(_sprite)
1561  04C0  26 00       	ld	h,0x00
1562  04C2  01 00 00    	ld	bc,_jump_lin
1563  04C5  09          	add	hl,bc
1564  04C6  4D          	ld	c,l
1565  04C7  44          	ld	b,h
1566  04C8  2A 00 00    	ld	hl,(_sprite)
1567  04CB  26 00       	ld	h,0x00
1568  04CD  11 00 00    	ld	de,_lin
1569  04D0  19          	add	hl,de
1570  04D1  7E          	ld	a,(hl)
1571  04D2  02          	ld	(bc),a
1572  04D3  2A 00 00    	ld	hl,(_sprite)
1573  04D6  26 00       	ld	h,0x00
1574  04D8  01 00 00    	ld	bc,_state
1575  04DB  09          	add	hl,bc
1576  04DC  3A 00 00    	ld	a,(_s_state)
1577  04DF  77          	ld	(hl),a
1578  04E0  2E 58       	ld	l,0x58
1579  04E2  CD 28 04    	call	_player_tile
1580  04E5  2A 00 00    	ld	hl,(_sprite)
1581  04E8  26 00       	ld	h,0x00
1582  04EA  01 00 00    	ld	bc,_sprite_speed_alt
1583  04ED  09          	add	hl,bc
1584  04EE  36 02       	ld	(hl),0x02
1585  04F0  21 00 00    	ld	hl,_player_slide
1586  04F3  36 00       	ld	(hl),0x00
1587  04F5  3A 00 00    	ld	a,(_player_vel_y0)
1588  04F8  32 00 00    	ld	(_player_vel_y),a
1589  04FB  2E 01       	ld	l,0x01
1590  04FD  C3 EE 05    	jp	l_player_move_input_00137
1591  0500              l_player_move_input_00106:
1592  0500  21 00 00    	ld	hl,_dirs
1593  0503  CB 5E       	bit	3, (hl)
1594  0505  28 33       	jr	Z,l_player_move_input_00110
1595  0507  21 00 00    	ld	hl,_s_state
1596  050A  7E          	ld	a,(hl)
1597  050B  F6 04       	or	a,0x04
1598  050D  E6 F7       	and	a,0xf7
1599  050F  77          	ld	(hl),a
1600  0510  01 00 00    	ld	bc,_state_a+0
1601  0513  79          	ld	a, c
1602  0514  21 00 00    	ld	hl,_sprite
1603  0517  86          	add	a, (hl)
1604  0518  5F          	ld	e, a
1605  0519  78          	ld	a, b
1606  051A  CE 00       	adc	a,0x00
1607  051C  57          	ld	d, a
1608  051D  1A          	ld	a, (de)
1609  051E  F6 10       	or	a,0x10
1610  0520  12          	ld	(de), a
1611  0521  79          	ld	a, c
1612  0522  86          	add	a, (hl)
1613  0523  4F          	ld	c, a
1614  0524  78          	ld	a, b
1615  0525  CE 00       	adc	a,0x00
1616  0527  47          	ld	b, a
1617  0528  0A          	ld	a, (bc)
1618  0529  E6 F7       	and	a,0xf7
1619  052B  02          	ld	(bc), a
1620  052C  3A 00 00    	ld	a,(_player_over_stair)
1621  052F  B7          	or	a, a
1622  0530  28 05       	jr	Z,l_player_move_input_00108
1623  0532  2E 00       	ld	l,0x00
1624  0534  CD 80 03    	call	_player_check_stairs
1625  0537              l_player_move_input_00108:
1626  0537  CD 00 00    	call	_spr_move_horizontal
1627  053A              l_player_move_input_00110:
1628  053A  21 00 00    	ld	hl,_dirs
1629  053D  CB 56       	bit	2, (hl)
1630  053F  28 33       	jr	Z,l_player_move_input_00114
1631  0541  21 00 00    	ld	hl,_s_state
1632  0544  7E          	ld	a,(hl)
1633  0545  F6 08       	or	a,0x08
1634  0547  E6 FB       	and	a,0xfb
1635  0549  77          	ld	(hl),a
1636  054A  01 00 00    	ld	bc,_state_a+0
1637  054D  79          	ld	a, c
1638  054E  21 00 00    	ld	hl,_sprite
1639  0551  86          	add	a, (hl)
1640  0552  5F          	ld	e, a
1641  0553  78          	ld	a, b
1642  0554  CE 00       	adc	a,0x00
1643  0556  57          	ld	d, a
1644  0557  1A          	ld	a, (de)
1645  0558  F6 08       	or	a,0x08
1646  055A  12          	ld	(de), a
1647  055B  79          	ld	a, c
1648  055C  86          	add	a, (hl)
1649  055D  4F          	ld	c, a
1650  055E  78          	ld	a, b
1651  055F  CE 00       	adc	a,0x00
1652  0561  47          	ld	b, a
1653  0562  0A          	ld	a, (bc)
1654  0563  E6 EF       	and	a,0xef
1655  0565  02          	ld	(bc), a
1656  0566  3A 00 00    	ld	a,(_player_over_stair)
1657  0569  B7          	or	a, a
1658  056A  28 05       	jr	Z,l_player_move_input_00112
1659  056C  2E 00       	ld	l,0x00
1660  056E  CD 80 03    	call	_player_check_stairs
1661  0571              l_player_move_input_00112:
1662  0571  CD 00 00    	call	_spr_move_horizontal
1663  0574              l_player_move_input_00114:
1664  0574  21 00 00    	ld	hl,_dirs
1665  0577  CB 46       	bit	0, (hl)
1666  0579  28 2B       	jr	Z,l_player_move_input_00124
1667  057B  2E 00       	ld	l,0x00
1668  057D  CD 80 03    	call	_player_check_stairs
1669  0580  3A 00 00    	ld	a,(_player_over_stair)
1670  0583  B7          	or	a, a
1671  0584  28 0E       	jr	Z,l_player_move_input_00121
1672  0586  CD 00 00    	call	_spr_move_up
1673  0589  7D          	ld	a, l
1674  058A  B7          	or	a, a
1675  058B  28 19       	jr	Z,l_player_move_input_00124
1676  058D  21 00 00    	ld	hl,_player_over_stair
1677  0590  36 00       	ld	(hl),0x00
1678  0592  18 12       	jr	l_player_move_input_00124
1679  0594              l_player_move_input_00121:
1680  0594  21 00 00    	ld	hl,_dirs
1681  0597  CB 5E       	bit	3, (hl)
1682  0599  20 0B       	jr	NZ,l_player_move_input_00124
1683  059B  21 00 00    	ld	hl,_dirs
1684  059E  CB 56       	bit	2, (hl)
1685  05A0  20 04       	jr	NZ,l_player_move_input_00124
1686  05A2  2E 00       	ld	l,0x00
1687  05A4  18 48       	jr	l_player_move_input_00137
1688  05A6              l_player_move_input_00124:
1689  05A6  21 00 00    	ld	hl,_dirs
1690  05A9  CB 4E       	bit	1, (hl)
1691  05AB  28 29       	jr	Z,l_player_move_input_00134
1692  05AD  CD 3A 03    	call	_player_check_stairs_down
1693  05B0  3A 00 00    	ld	a,(_player_over_stair)
1694  05B3  B7          	or	a, a
1695  05B4  28 0E       	jr	Z,l_player_move_input_00131
1696  05B6  CD 00 00    	call	_spr_move_down
1697  05B9  7D          	ld	a, l
1698  05BA  B7          	or	a, a
1699  05BB  28 19       	jr	Z,l_player_move_input_00134
1700  05BD  21 00 00    	ld	hl,_player_over_stair
1701  05C0  36 00       	ld	(hl),0x00
1702  05C2  18 12       	jr	l_player_move_input_00134
1703  05C4              l_player_move_input_00131:
1704  05C4  21 00 00    	ld	hl,_dirs
1705  05C7  CB 5E       	bit	3, (hl)
1706  05C9  20 0B       	jr	NZ,l_player_move_input_00134
1707  05CB  21 00 00    	ld	hl,_dirs
1708  05CE  CB 56       	bit	2, (hl)
1709  05D0  20 04       	jr	NZ,l_player_move_input_00134
1710  05D2  2E 00       	ld	l,0x00
1711  05D4  18 18       	jr	l_player_move_input_00137
1712  05D6              l_player_move_input_00134:
1713  05D6  2A 00 00    	ld	hl,(_sprite)
1714  05D9  26 00       	ld	h,0x00
1715  05DB  01 00 00    	ld	bc,_state
1716  05DE  09          	add	hl,bc
1717  05DF  3A 00 00    	ld	a,(_s_state)
1718  05E2  77          	ld	(hl),a
1719  05E3  2E 54       	ld	l,0x54
1720  05E5  CD 28 04    	call	_player_tile
1721  05E8  2E 01       	ld	l,0x01
1722  05EA  18 02       	jr	l_player_move_input_00137
1723  05EC              l_player_move_input_00136:
1724  05EC  2E 00       	ld	l,0x00
1725  05EE              l_player_move_input_00137:
1726  05EE  C9          	ret
1727  05EF              	SECTION code_compiler
1728  05EF              ;	---------------------------------
1729  05EF              ; Function player_fire
1730  05EF              ; ---------------------------------
1731  05EF              _player_fire:
1732  05EF  21 00 00    	ld	hl,_dirs
1733  05F2  CB 7E       	bit	7, (hl)
1734  05F4  28 66       	jr	Z,l_player_fire_00111
1735  05F6  21 00 00    	ld	hl,_dirs
1736  05F9  CB 4E       	bit	1, (hl)
1737  05FB  28 5F       	jr	Z,l_player_fire_00111
1738  05FD  11 07 00    	ld	de,_bullet_col+7
1739  0600  1A          	ld	a, (de)
1740  0601  3C          	inc	a
1741  0602  20 54       	jr	NZ,l_player_fire_00109
1742  0604  21 00 00    	ld	hl,_bullet_count
1743  0607  34          	inc	(hl)
1744  0608  01 07 00    	ld	bc,_bullet_dir+7
1745  060B  AF          	xor	a, a
1746  060C  02          	ld	(bc), a
1747  060D  3A 07 00    	ld	a,(_lin + 0x0007)
1748  0610  32 07 00    	ld	((_bullet_lin + 0x0007)),a
1749  0613  21 07 00    	ld	hl, +(_bullet_frames + 0x0007)
1750  0616  36 02       	ld	(hl),0x02
1751  0618  3A 07 00    	ld	a,(_state_a + 0x0007)
1752  061B  CB 5F       	bit	3, a
1753  061D  28 1D       	jr	Z,l_player_fire_00106
1754  061F  3A 07 00    	ld	a,(_col + 0x0007)
1755  0622  FE 01       	cp	a,0x01
1756  0624  30 04       	jr	NC,l_player_fire_00102
1757  0626  2E 01       	ld	l,0x01
1758  0628  18 34       	jr	l_player_fire_00113
1759  062A              l_player_fire_00102:
1760  062A  C6 FF       	add	a,0xff
1761  062C  12          	ld	(de), a
1762  062D  21 07 00    	ld	hl, +(_bullet_tile + 0x0007)
1763  0630  36 72       	ld	(hl),0x72
1764  0632  3E 01       	ld	a,0x01
1765  0634  02          	ld	(bc), a
1766  0635  21 07 00    	ld	hl, +(_bullet_colint + 0x0007)
1767  0638  36 02       	ld	(hl),0x02
1768  063A  18 1C       	jr	l_player_fire_00109
1769  063C              l_player_fire_00106:
1770  063C  2A 07 00    	ld	hl,(_col + 0x0007)
1771  063F  3E 1D       	ld	a,0x1d
1772  0641  95          	sub	a, l
1773  0642  30 04       	jr	NC,l_player_fire_00104
1774  0644  2E 01       	ld	l,0x01
1775  0646  18 16       	jr	l_player_fire_00113
1776  0648              l_player_fire_00104:
1777  0648  7D          	ld	a, l
1778  0649  3C          	inc	a
1779  064A  12          	ld	(de), a
1780  064B  21 07 00    	ld	hl, +(_bullet_tile + 0x0007)
1781  064E  36 70       	ld	(hl),0x70
1782  0650  3E FF       	ld	a,0xff
1783  0652  02          	ld	(bc), a
1784  0653  21 07 00    	ld	hl, +(_bullet_colint + 0x0007)
1785  0656  36 FF       	ld	(hl),0xff
1786  0658              l_player_fire_00109:
1787  0658  2E 01       	ld	l,0x01
1788  065A  18 02       	jr	l_player_fire_00113
1789  065C              l_player_fire_00111:
1790  065C  2E 00       	ld	l,0x00
1791  065E              l_player_fire_00113:
1792  065E  C9          	ret
1793  065F              	SECTION code_compiler
1794  065F              ;	---------------------------------
1795  065F              ; Function player_check_map
1796  065F              ; ---------------------------------
1797  065F              _player_check_map:
1798  065F  2A 00 00    	ld	hl,(_sprite)
1799  0662  26 00       	ld	h,0x00
1800  0664  5D          	ld	e,l
1801  0665  01 00 00    	ld	bc,_col
1802  0668  09          	add	hl,bc
1803  0669  46          	ld	b,(hl)
1804  066A  16 00       	ld	d,0x00
1805  066C  21 00 00    	ld	hl,_lin
1806  066F  19          	add	hl,de
1807  0670  4E          	ld	c, (hl)
1808  0671  C5          	push	bc
1809  0672  CD 00 00    	call	_spr_calc_index
1810  0675  F1          	pop	af
1811  0676  7D          	ld	a,l
1812  0677  32 00 00    	ld	(_sprite_curr_index),a
1813  067A  3A 00 00    	ld	a,(_s_lin0)
1814  067D  E6 0F       	and	a,0x0f
1815  067F  21 00 00    	ld	hl,_s_col0
1816  0682  CB 46       	bit	0, (hl)
1817  0684  20 17       	jr	NZ,l_player_check_map_00108
1818  0686  B7          	or	a, a
1819  0687  20 05       	jr	NZ,l_player_check_map_00102
1820  0689  CD C8 06    	call	_player_pick_item
1821  068C  18 39       	jr	l_player_check_map_00110
1822  068E              l_player_check_map_00102:
1823  068E  CD C8 06    	call	_player_pick_item
1824  0691  21 00 00    	ld	hl,_sprite_curr_index
1825  0694  7E          	ld	a, (hl)
1826  0695  C6 10       	add	a,0x10
1827  0697  77          	ld	(hl), a
1828  0698  CD C8 06    	call	_player_pick_item
1829  069B  18 2A       	jr	l_player_check_map_00110
1830  069D              l_player_check_map_00108:
1831  069D  B7          	or	a, a
1832  069E  20 0C       	jr	NZ,l_player_check_map_00105
1833  06A0  CD C8 06    	call	_player_pick_item
1834  06A3  21 00 00    	ld	hl,_sprite_curr_index
1835  06A6  34          	inc	(hl)
1836  06A7  CD C8 06    	call	_player_pick_item
1837  06AA  18 1B       	jr	l_player_check_map_00110
1838  06AC              l_player_check_map_00105:
1839  06AC  CD C8 06    	call	_player_pick_item
1840  06AF  21 00 00    	ld	hl,_sprite_curr_index
1841  06B2  34          	inc	(hl)
1842  06B3  CD C8 06    	call	_player_pick_item
1843  06B6  21 00 00    	ld	hl,_sprite_curr_index
1844  06B9  7E          	ld	a, (hl)
1845  06BA  C6 0F       	add	a,0x0f
1846  06BC  77          	ld	(hl), a
1847  06BD  CD C8 06    	call	_player_pick_item
1848  06C0  21 00 00    	ld	hl,_sprite_curr_index
1849  06C3  34          	inc	(hl)
1850  06C4  CD C8 06    	call	_player_pick_item
1851  06C7              l_player_check_map_00110:
1852  06C7  C9          	ret
1853  06C8              	SECTION code_compiler
1854  06C8              ;	---------------------------------
1855  06C8              ; Function player_pick_item
1856  06C8              ; ---------------------------------
1857  06C8              _player_pick_item:
1858  06C8  2A 00 00    	ld	hl,(_sprite_curr_index)
1859  06CB  26 00       	ld	h,0x00
1860  06CD  01 00 00    	ld	bc,_scr_map
1861  06D0  09          	add	hl,bc
1862  06D1  7E          	ld	a,(hl)
1863  06D2  4F          	ld	c,a
1864  06D3  D6 18       	sub	a,0x18
1865  06D5  D8          	ret	C
1866  06D6  3E 27       	ld	a,0x27
1867  06D8  91          	sub	a, c
1868  06D9  D8          	ret	C
1869  06DA  CD 00 00    	call	_ay_reset
1870  06DD  21 00 00    	ld	hl,_ay_effect_10
1871  06E0  CD 00 00    	call	_ay_fx_play
1872  06E3  CD 00 00    	call	_sound_coin
1873  06E6  2A 00 00    	ld	hl,(_sprite_curr_index)
1874  06E9  26 00       	ld	h,0x00
1875  06EB  01 00 00    	ld	bc,_scr_map
1876  06EE  09          	add	hl,bc
1877  06EF  AF          	xor	a,a
1878  06F0  77          	ld	(hl),a
1879  06F1  3A 00 00    	ld	a,(_sprite_curr_index)
1880  06F4  07          	rlca
1881  06F5  07          	rlca
1882  06F6  07          	rlca
1883  06F7  07          	rlca
1884  06F8  E6 0F       	and	a,0x0f
1885  06FA  07          	rlca
1886  06FB  07          	rlca
1887  06FC  07          	rlca
1888  06FD  07          	rlca
1889  06FE  E6 F0       	and	a,0xf0
1890  0700  32 00 00    	ld	(_s_lin1),a
1891  0703  3A 00 00    	ld	a,(_sprite_curr_index)
1892  0706  E6 0F       	and	a,0x0f
1893  0708  87          	add	a, a
1894  0709  32 00 00    	ld	(_s_col1),a
1895  070C  21 78 03    	ld	hl,0x0378
1896  070F  E5          	push	hl
1897  0710  F5          	push	af
1898  0711  33          	inc	sp
1899  0712  3A 00 00    	ld	a,(_s_lin1)
1900  0715  F5          	push	af
1901  0716  33          	inc	sp
1902  0717  CD 00 00    	call	_spr_add_anim
1903  071A  F1          	pop	af
1904  071B  F1          	pop	af
1905  071C  C9          	ret
1906  071D              	SECTION code_compiler
1907  071D              ;	---------------------------------
1908  071D              ; Function player_hit_platform
1909  071D              ; ---------------------------------
1910  071D              _player_hit_platform:
1911  071D  3A 00 00    	ld	a,(_player_hit_lin)
1912  0720  B7          	or	a, a
1913  0721  C2 40 08    	jp	NZ, l_player_hit_platform_00120
1914  0724  2A 00 00    	ld	hl,(_sprite)
1915  0727  26 00       	ld	h,0x00
1916  0729  01 00 00    	ld	bc,_lin
1917  072C  09          	add	hl,bc
1918  072D  4E          	ld	c,(hl)
1919  072E  3E 10       	ld	a,0x10
1920  0730  91          	sub	a, c
1921  0731  D2 40 08    	jp	NC, l_player_hit_platform_00120
1922  0734  21 00 00    	ld	hl,_enemies
1923  0737  36 00       	ld	(hl),0x00
1924  0739              l_player_hit_platform_00122:
1925  0739  2A 00 00    	ld	hl,(_enemies)
1926  073C  26 00       	ld	h,0x00
1927  073E  01 00 00    	ld	bc,_class
1928  0741  09          	add	hl,bc
1929  0742  7E          	ld	a,(hl)
1930  0743  B7          	or	a, a
1931  0744  28 64       	jr	Z,l_player_hit_platform_00123
1932  0746  2A 00 00    	ld	hl,(_sprite)
1933  0749  26 00       	ld	h,0x00
1934  074B  01 00 00    	ld	bc,_lin
1935  074E  09          	add	hl,bc
1936  074F  4E          	ld	c,(hl)
1937  0750  06 00       	ld	b,0x00
1938  0752  2A 00 00    	ld	hl,(_enemies)
1939  0755  60          	ld	h,b
1940  0756  11 00 00    	ld	de,_lin
1941  0759  19          	add	hl,de
1942  075A  5E          	ld	e, (hl)
1943  075B  16 00       	ld	d,0x00
1944  075D  79          	ld	a,c
1945  075E  93          	sub	a,e
1946  075F  4F          	ld	c,a
1947  0760  78          	ld	a,b
1948  0761  9A          	sbc	a,d
1949  0762  47          	ld	b,a
1950  0763  79          	ld	a,c
1951  0764  D6 18       	sub	a,0x18
1952  0766  B0          	or	a,b
1953  0767  20 41       	jr	NZ,l_player_hit_platform_00123
1954  0769  2A 00 00    	ld	hl,(_enemies)
1955  076C  26 00       	ld	h,0x00
1956  076E  01 00 00    	ld	bc,_state
1957  0771  09          	add	hl,bc
1958  0772  CB 6E       	bit	5,(hl)
1959  0774  20 34       	jr	NZ,l_player_hit_platform_00123
1960  0776  2A 00 00    	ld	hl,(_sprite)
1961  0779  26 00       	ld	h,0x00
1962  077B  01 00 00    	ld	bc,_col
1963  077E  09          	add	hl,bc
1964  077F  4E          	ld	c,(hl)
1965  0780  06 00       	ld	b,0x00
1966  0782  2A 00 00    	ld	hl,(_enemies)
1967  0785  60          	ld	h,b
1968  0786  11 00 00    	ld	de,_col
1969  0789  19          	add	hl,de
1970  078A  5E          	ld	e, (hl)
1971  078B  16 00       	ld	d,0x00
1972  078D  79          	ld	a, c
1973  078E  93          	sub	a, e
1974  078F  6F          	ld	l, a
1975  0790  78          	ld	a, b
1976  0791  9A          	sbc	a, d
1977  0792  67          	ld	h, a
1978  0793  CD 00 00    	call	_abs_fastcall
1979  0796  3E 02       	ld	a,0x02
1980  0798  BD          	cp	a,l
1981  0799  3E 00       	ld	a,0x00
1982  079B  9C          	sbc	a,h
1983  079C  E2 A1 07    	jp	PO, l_player_hit_platform_00178
1984  079F  EE 80       	xor	a,0x80
1985  07A1              l_player_hit_platform_00178:
1986  07A1  FA AA 07    	jp	M, l_player_hit_platform_00123
1987  07A4  CD 00 00    	call	_enemy_hit
1988  07A7  CD 00 00    	call	_sound_hit_enemy
1989  07AA              l_player_hit_platform_00123:
1990  07AA  21 00 00    	ld	hl,_enemies
1991  07AD  7E          	ld	a,(hl)
1992  07AE  3C          	inc	a
1993  07AF  77          	ld	(hl),a
1994  07B0  D6 06       	sub	a,0x06
1995  07B2  38 85       	jr	C,l_player_hit_platform_00122
1996  07B4  01 00 00    	ld	bc,_spr_timer+0
1997  07B7  2A 00 00    	ld	hl,(_sprite)
1998  07BA  26 00       	ld	h,0x00
1999  07BC  29          	add	hl, hl
2000  07BD  09          	add	hl,bc
2001  07BE  ED 5B 00 00 	ld	de,(_curr_time)
2002  07C2  73          	ld	(hl),e
2003  07C3  23          	inc	hl
2004  07C4  72          	ld	(hl),d
2005  07C5  2A 00 00    	ld	hl,(_sprite)
2006  07C8  26 00       	ld	h,0x00
2007  07CA  01 00 00    	ld	bc,_lin
2008  07CD  09          	add	hl,bc
2009  07CE  4E          	ld	c,(hl)
2010  07CF  06 00       	ld	b,0x00
2011  07D1  79          	ld	a, c
2012  07D2  C6 F8       	add	a,0xf8
2013  07D4  4F          	ld	c, a
2014  07D5  78          	ld	a, b
2015  07D6  CE FF       	adc	a,0xff
2016  07D8  5F          	ld	e, a
2017  07D9  06 04       	ld	b,0x04
2018  07DB              l_player_hit_platform_00179:
2019  07DB  CB 2B       	sra	e
2020  07DD  CB 19       	rr	c
2021  07DF  10 FA       	djnz	l_player_hit_platform_00179
2022  07E1  79          	ld	a, c
2023  07E2  07          	rlca
2024  07E3  07          	rlca
2025  07E4  07          	rlca
2026  07E5  07          	rlca
2027  07E6  E6 F0       	and	a,0xf0
2028  07E8  C6 08       	add	a,0x08
2029  07EA  32 00 00    	ld	(_player_hit_lin),a
2030  07ED  2A 00 00    	ld	hl,(_sprite)
2031  07F0  26 00       	ld	h,0x00
2032  07F2  01 00 00    	ld	bc,_col
2033  07F5  09          	add	hl,bc
2034  07F6  4E          	ld	c,(hl)
2035  07F7  CB 41       	bit	0,c
2036  07F9  20 06       	jr	NZ,l_player_hit_platform_00117
2037  07FB  21 00 00    	ld	hl,_player_hit_col
2038  07FE  71          	ld	(hl), c
2039  07FF  18 33       	jr	l_player_hit_platform_00118
2040  0801              l_player_hit_platform_00117:
2041  0801  2A 00 00    	ld	hl,(_sprite)
2042  0804  26 00       	ld	h,0x00
2043  0806  11 00 00    	ld	de,_state
2044  0809  19          	add	hl,de
2045  080A  5E          	ld	e, (hl)
2046  080B  41          	ld	b, c
2047  080C  04          	inc	b
2048  080D  0D          	dec	c
2049  080E  CB 5B       	bit	3, e
2050  0810  28 12       	jr	Z,l_player_hit_platform_00114
2051  0812  3A 00 00    	ld	a,(_g_player_hit_right)
2052  0815  B7          	or	a, a
2053  0816  28 06       	jr	Z,l_player_hit_platform_00108
2054  0818  21 00 00    	ld	hl,_player_hit_col
2055  081B  70          	ld	(hl), b
2056  081C  18 16       	jr	l_player_hit_platform_00118
2057  081E              l_player_hit_platform_00108:
2058  081E  21 00 00    	ld	hl,_player_hit_col
2059  0821  71          	ld	(hl), c
2060  0822  18 10       	jr	l_player_hit_platform_00118
2061  0824              l_player_hit_platform_00114:
2062  0824  3A 00 00    	ld	a,(_g_player_hit_left)
2063  0827  B7          	or	a, a
2064  0828  28 06       	jr	Z,l_player_hit_platform_00111
2065  082A  21 00 00    	ld	hl,_player_hit_col
2066  082D  71          	ld	(hl), c
2067  082E  18 04       	jr	l_player_hit_platform_00118
2068  0830              l_player_hit_platform_00111:
2069  0830  21 00 00    	ld	hl,_player_hit_col
2070  0833  70          	ld	(hl), b
2071  0834              l_player_hit_platform_00118:
2072  0834  2E 01       	ld	l,0x01
2073  0836  CD 00 00    	call	_spr_brick_anim
2074  0839  CD 00 00    	call	_sound_hit_brick
2075  083C  2E 01       	ld	l,0x01
2076  083E  18 02       	jr	l_player_hit_platform_00124
2077  0840              l_player_hit_platform_00120:
2078  0840  2E 00       	ld	l,0x00
2079  0842              l_player_hit_platform_00124:
2080  0842  C9          	ret
2081  0843              	SECTION code_compiler
2082  0843              ;	---------------------------------
2083  0843              ; Function player_hit_platform_clear
2084  0843              ; ---------------------------------
2085  0843              _player_hit_platform_clear:
2086  0843  3A 00 00    	ld	a,(_player_hit_lin)
2087  0846  B7          	or	a, a
2088  0847  C8          	ret	Z
2089  0848  01 00 00    	ld	bc,_spr_timer+0
2090  084B  2A 00 00    	ld	hl,(_sprite)
2091  084E  26 00       	ld	h,0x00
2092  0850  29          	add	hl, hl
2093  0851  09          	add	hl, bc
2094  0852  4E          	ld	c, (hl)
2095  0853  23          	inc	hl
2096  0854  46          	ld	b, (hl)
2097  0855  21 04 00    	ld	hl,0x0004
2098  0858  E5          	push	hl
2099  0859  C5          	push	bc
2100  085A  CD 00 00    	call	_game_check_time
2101  085D  F1          	pop	af
2102  085E  F1          	pop	af
2103  085F  7D          	ld	a, l
2104  0860  B7          	or	a, a
2105  0861  C8          	ret	Z
2106  0862  2A FF FF    	ld	hl,(_player_hit_col - 1)
2107  0865  3A 00 00    	ld	a,(_player_hit_lin)
2108  0868  6F          	ld	l,a
2109  0869  E5          	push	hl
2110  086A  CD 00 00    	call	_spr_calc_index
2111  086D  F1          	pop	af
2112  086E  22 00 00    	ld	(_index1),hl
2113  0871  2E 00       	ld	l,0x00
2114  0873  CD 00 00    	call	_spr_brick_anim
2115  0876  21 00 00    	ld	hl,_player_hit_lin
2116  0879  36 00       	ld	(hl),0x00
2117  087B  21 00 00    	ld	hl,_player_hit_col
2118  087E  36 00       	ld	(hl),0x00
2119  0880  C9          	ret
2120  0881              	SECTION code_compiler
2121  0881              ;	---------------------------------
2122  0881              ; Function player_score_add
2123  0881              ; ---------------------------------
2124  0881              _player_score_add:
2125  0881  ED 4B 00 00 	ld	bc,(_player_score)
2126  0885  09          	add	hl,bc
2127  0886  22 00 00    	ld	(_player_score),hl
2128  0889  3A 00 00    	ld	a,(_game_score_top)
2129  088C  21 00 00    	ld	hl,_player_score
2130  088F  96          	sub	a, (hl)
2131  0890  3A 01 00    	ld	a,(_game_score_top + 1)
2132  0893  23          	inc	hl
2133  0894  9E          	sbc	a, (hl)
2134  0895  D2 00 00    	jp	NC,_game_print_score
2135  0898  2A 00 00    	ld	hl,(_player_score)
2136  089B  22 00 00    	ld	(_game_score_top),hl
2137  089E  C3 00 00    	jp  _game_print_score
2138  08A1              	SECTION code_compiler
2139  08A1              ;	---------------------------------
2140  08A1              ; Function player_check_floor
2141  08A1              ; ---------------------------------
2142  08A1              _player_check_floor:
2143  08A1  CD 00 00    	call	___sdcc_enter_ix
2144  08A4  3B          	dec	sp
2145  08A5  2A 00 00    	ld	hl,(_sprite)
2146  08A8  26 00       	ld	h,0x00
2147  08AA  01 00 00    	ld	bc,_col
2148  08AD  09          	add	hl,bc
2149  08AE  56          	ld	d, (hl)
2150  08AF  2A 00 00    	ld	hl,(_sprite)
2151  08B2  26 00       	ld	h,0x00
2152  08B4  01 00 00    	ld	bc,_lin
2153  08B7  09          	add	hl,bc
2154  08B8  7E          	ld	a,(hl)
2155  08B9  C6 10       	add	a,0x10
2156  08BB  5F          	ld	e, a
2157  08BC  D5          	push	de
2158  08BD  CD 00 00    	call	_spr_calc_index
2159  08C0  F1          	pop	af
2160  08C1  4D          	ld	c, l
2161  08C2  44          	ld	b, h
2162  08C3  21 00 00    	ld	hl,_scr_map
2163  08C6  09          	add	hl, bc
2164  08C7  7E          	ld	a, (hl)
2165  08C8  DD 77 FF    	ld	(ix-1),a
2166  08CB  2A 00 00    	ld	hl,(_sprite)
2167  08CE  26 00       	ld	h,0x00
2168  08D0  11 00 00    	ld	de,_col
2169  08D3  19          	add	hl,de
2170  08D4  7E          	ld	a,(hl)
2171  08D5  0F          	rrca
2172  08D6  38 04       	jr	C,l_player_check_floor_00102
2173  08D8  0E 01       	ld	c,0x01
2174  08DA  18 06       	jr	l_player_check_floor_00103
2175  08DC              l_player_check_floor_00102:
2176  08DC  03          	inc	bc
2177  08DD  21 00 00    	ld	hl,_scr_map
2178  08E0  09          	add	hl, bc
2179  08E1  4E          	ld	c, (hl)
2180  08E2              l_player_check_floor_00103:
2181  08E2  3A 00 00    	ld	a,(_s_lin0)
2182  08E5  D6 90       	sub	a,0x90
2183  08E7  20 04       	jr	NZ,l_player_check_floor_00105
2184  08E9  DD 36 FF 3C 	ld	(ix-1),0x3c
2185  08ED              l_player_check_floor_00105:
2186  08ED  DD 7E FF    	ld	a,(ix-1)
2187  08F0  D6 30       	sub	a,0x30
2188  08F2  38 07       	jr	C,l_player_check_floor_00110
2189  08F4  DD 7E FF    	ld	a,(ix-1)
2190  08F7  D6 54       	sub	a,0x54
2191  08F9  38 1E       	jr	C,l_player_check_floor_00111
2192  08FB              l_player_check_floor_00110:
2193  08FB  79          	ld	a,c
2194  08FC  FE 30       	cp	a,0x30
2195  08FE  38 04       	jr	C,l_player_check_floor_00106
2196  0900  D6 54       	sub	a,0x54
2197  0902  38 15       	jr	C,l_player_check_floor_00111
2198  0904              l_player_check_floor_00106:
2199  0904  2A 00 00    	ld	hl,(_sprite)
2200  0907  26 00       	ld	h,0x00
2201  0909  01 00 00    	ld	bc,_sprite_speed_alt
2202  090C  09          	add	hl,bc
2203  090D  36 02       	ld	(hl),0x02
2204  090F  21 00 00    	ld	hl,_s_state
2205  0912  CB CE       	set	1, (hl)
2206  0914  2E 00       	ld	l,0x00
2207  0916  CD 80 03    	call	_player_check_stairs
2208  0919              l_player_check_floor_00111:
2209  0919  33          	inc	sp
2210  091A  DD E1       	pop	ix
2211  091C  C9          	ret
2212  091D              	SECTION code_compiler
2213  091D              ;	---------------------------------
2214  091D              ; Function player_move_jump
2215  091D              ; ---------------------------------
2216  091D              _player_move_jump:
2217  091D  21 00 00    	ld	hl,_game_gravity
2218  0920  4E          	ld	c, (hl)
2219  0921  21 00 00    	ld	hl,_player_vel_y
2220  0924  7E          	ld	a, (hl)
2221  0925  81          	add	a, c
2222  0926  77          	ld	(hl), a
2223  0927  21 00 00    	ld	hl,_sprite_on_air
2224  092A  36 01       	ld	(hl),0x01
2225  092C  3A 00 00    	ld	a,(_player_vel_inc)
2226  092F  B7          	or	a, a
2227  0930  28 24       	jr	Z,l_player_move_jump_00106
2228  0932  21 00 00    	ld	hl,_dirs
2229  0935  CB 7E       	bit	7, (hl)
2230  0937  20 1D       	jr	NZ,l_player_move_jump_00106
2231  0939  3A 00 00    	ld	a,(_player_vel_y1)
2232  093C  21 00 00    	ld	hl,_player_vel_y
2233  093F  96          	sub	a, (hl)
2234  0940  E2 45 09    	jp	PO, l_player_move_jump_00210
2235  0943  EE 80       	xor	a,0x80
2236  0945              l_player_move_jump_00210:
2237  0945  F2 56 09    	jp	P, l_player_move_jump_00106
2238  0948  21 00 00    	ld	hl,_player_vel_y
2239  094B  CB 7E       	bit	7,(hl)
2240  094D  28 07       	jr	Z,l_player_move_jump_00106
2241  094F  36 00       	ld	(hl),0x00
2242  0951  21 00 00    	ld	hl,_player_vel_inc
2243  0954  36 00       	ld	(hl),0x00
2244  0956              l_player_move_jump_00106:
2245  0956  3E 78       	ld	a,0x78
2246  0958  21 00 00    	ld	hl,_player_vel_y
2247  095B  96          	sub	a, (hl)
2248  095C  E2 61 09    	jp	PO, l_player_move_jump_00211
2249  095F  EE 80       	xor	a,0x80
2250  0961              l_player_move_jump_00211:
2251  0961  F2 69 09    	jp	P, l_player_move_jump_00108
2252  0964  21 00 00    	ld	hl,_player_vel_y
2253  0967  36 78       	ld	(hl),0x78
2254  0969              l_player_move_jump_00108:
2255  0969  21 00 00    	ld	hl,_player_vel_y
2256  096C  7E          	ld	a, (hl)
2257  096D  EE 80       	xor	a,0x80
2258  096F  D6 08       	sub	a,0x08
2259  0971  30 02       	jr	NC,l_player_move_jump_00110
2260  0973  36 88       	ld	(hl),0x88
2261  0975              l_player_move_jump_00110:
2262  0975  3A 00 00    	ld	a,(_player_vel_y)
2263  0978  4F          	ld	c,a
2264  0979  17          	rla
2265  097A  9F          	sbc	a, a
2266  097B  47          	ld	b, a
2267  097C  CB 41       	bit	0,c
2268  097E  21 00 00    	ld	hl,_s_lin1
2269  0981  71          	ld	(hl),c
2270  0982  28 04       	jr	Z,l_player_move_jump_00112
2271  0984  21 00 00    	ld	hl,_s_lin1
2272  0987  35          	dec	(hl)
2273  0988              l_player_move_jump_00112:
2274  0988  2A 00 00    	ld	hl,(_sprite)
2275  098B  26 00       	ld	h,0x00
2276  098D  11 00 00    	ld	de,_lin
2277  0990  19          	add	hl,de
2278  0991  7E          	ld	a,(hl)
2279  0992  21 00 00    	ld	hl,_s_lin1
2280  0995  86          	add	a, (hl)
2281  0996  77          	ld	(hl), a
2282  0997  3E 90       	ld	a,0x90
2283  0999  96          	sub	a, (hl)
2284  099A  30 0E       	jr	NC,l_player_move_jump_00117
2285  099C  3E C8       	ld	a,0xc8
2286  099E  96          	sub	a, (hl)
2287  099F  30 04       	jr	NC,l_player_move_jump_00114
2288  09A1  36 00       	ld	(hl),0x00
2289  09A3  18 05       	jr	l_player_move_jump_00117
2290  09A5              l_player_move_jump_00114:
2291  09A5  21 00 00    	ld	hl,_s_lin1
2292  09A8  36 90       	ld	(hl),0x90
2293  09AA              l_player_move_jump_00117:
2294  09AA  CB 78       	bit	7, b
2295  09AC  28 5A       	jr	Z,l_player_move_jump_00134
2296  09AE  21 00 00    	ld	hl,_s_state
2297  09B1  7E          	ld	a,(hl)
2298  09B2  F6 01       	or	a,0x01
2299  09B4  E6 FD       	and	a,0xfd
2300  09B6  77          	ld	(hl),a
2301  09B7  2A 00 00    	ld	hl,(_sprite)
2302  09BA  26 00       	ld	h,0x00
2303  09BC  01 00 00    	ld	bc,_col
2304  09BF  09          	add	hl,bc
2305  09C0  7E          	ld	a,(hl)
2306  09C1  F5          	push	af
2307  09C2  33          	inc	sp
2308  09C3  3A 00 00    	ld	a,(_s_lin1)
2309  09C6  F5          	push	af
2310  09C7  33          	inc	sp
2311  09C8  CD 00 00    	call	_game_check_map
2312  09CB  F1          	pop	af
2313  09CC  7C          	ld	a,h
2314  09CD  B5          	or	a,l
2315  09CE  28 28       	jr	Z,l_player_move_jump_00121
2316  09D0  CD 1D 07    	call	_player_hit_platform
2317  09D3  7D          	ld	a, l
2318  09D4  B7          	or	a, a
2319  09D5  28 19       	jr	Z,l_player_move_jump_00119
2320  09D7  2A 00 00    	ld	hl,(_sprite)
2321  09DA  26 00       	ld	h,0x00
2322  09DC  01 00 00    	ld	bc,_lin
2323  09DF  09          	add	hl,bc
2324  09E0  7E          	ld	a,(hl)
2325  09E1  4D          	ld	c,l
2326  09E2  44          	ld	b,h
2327  09E3  07          	rlca
2328  09E4  07          	rlca
2329  09E5  07          	rlca
2330  09E6  07          	rlca
2331  09E7  E6 0F       	and	a,0x0f
2332  09E9  07          	rlca
2333  09EA  07          	rlca
2334  09EB  07          	rlca
2335  09EC  07          	rlca
2336  09ED  E6 F0       	and	a,0xf0
2337  09EF  02          	ld	(bc), a
2338  09F0              l_player_move_jump_00119:
2339  09F0  21 00 00    	ld	hl,_player_vel_y
2340  09F3  36 00       	ld	(hl),0x00
2341  09F5  C3 98 0A    	jp	l_player_move_jump_00135
2342  09F8              l_player_move_jump_00121:
2343  09F8  2A 00 00    	ld	hl,(_sprite)
2344  09FB  26 00       	ld	h,0x00
2345  09FD  01 00 00    	ld	bc,_lin
2346  0A00  09          	add	hl,bc
2347  0A01  3A 00 00    	ld	a,(_s_lin1)
2348  0A04  77          	ld	(hl),a
2349  0A05  C3 98 0A    	jp	l_player_move_jump_00135
2350  0A08              l_player_move_jump_00134:
2351  0A08  21 00 00    	ld	hl,_s_state
2352  0A0B  7E          	ld	a,(hl)
2353  0A0C  F6 02       	or	a,0x02
2354  0A0E  E6 FE       	and	a,0xfe
2355  0A10  77          	ld	(hl),a
2356  0A11  2A 00 00    	ld	hl,(_sprite)
2357  0A14  26 00       	ld	h,0x00
2358  0A16  01 00 00    	ld	bc,_col
2359  0A19  09          	add	hl,bc
2360  0A1A  56          	ld	d, (hl)
2361  0A1B  3A 00 00    	ld	a,(_s_lin1)
2362  0A1E  C6 10       	add	a,0x10
2363  0A20  5F          	ld	e, a
2364  0A21  D5          	push	de
2365  0A22  CD 00 00    	call	_game_check_map
2366  0A25  F1          	pop	af
2367  0A26  7C          	ld	a,h
2368  0A27  B5          	or	a,l
2369  0A28  28 61       	jr	Z,l_player_move_jump_00131
2370  0A2A  2E 00       	ld	l,0x00
2371  0A2C  CD 80 03    	call	_player_check_stairs
2372  0A2F  3A 00 00    	ld	a,(_player_over_stair)
2373  0A32  B7          	or	a, a
2374  0A33  20 05       	jr	NZ,l_player_move_jump_00124
2375  0A35  2E 01       	ld	l,0x01
2376  0A37  CD 80 03    	call	_player_check_stairs
2377  0A3A              l_player_move_jump_00124:
2378  0A3A  3A 00 00    	ld	a,(_player_over_stair)
2379  0A3D  B7          	or	a, a
2380  0A3E  20 30       	jr	NZ,l_player_move_jump_00129
2381  0A40  21 00 00    	ld	hl,_s_lin1
2382  0A43  7E          	ld	a, (hl)
2383  0A44  07          	rlca
2384  0A45  07          	rlca
2385  0A46  07          	rlca
2386  0A47  07          	rlca
2387  0A48  E6 0F       	and	a,0x0f
2388  0A4A  07          	rlca
2389  0A4B  07          	rlca
2390  0A4C  07          	rlca
2391  0A4D  07          	rlca
2392  0A4E  E6 F0       	and	a,0xf0
2393  0A50  77          	ld	(hl), a
2394  0A51  2A 00 00    	ld	hl,(_sprite)
2395  0A54  26 00       	ld	h,0x00
2396  0A56  01 00 00    	ld	bc,_lin
2397  0A59  09          	add	hl,bc
2398  0A5A  5E          	ld	e,(hl)
2399  0A5B  4D          	ld	c,l
2400  0A5C  44          	ld	b,h
2401  0A5D  21 00 00    	ld	hl,_s_lin1
2402  0A60  7E          	ld	a, (hl)
2403  0A61  93          	sub	a, e
2404  0A62  30 08       	jr	NC,l_player_move_jump_00126
2405  0A64  7E          	ld	a, (hl)
2406  0A65  C6 10       	add	a,0x10
2407  0A67  02          	ld	(bc), a
2408  0A68  2E 00       	ld	l,0x00
2409  0A6A  18 46       	jr	l_player_move_jump_00138
2410  0A6C              l_player_move_jump_00126:
2411  0A6C  3A 00 00    	ld	a,(_s_lin1)
2412  0A6F  02          	ld	(bc), a
2413  0A70              l_player_move_jump_00129:
2414  0A70  21 00 00    	ld	hl,_player_vel_y
2415  0A73  36 00       	ld	(hl),0x00
2416  0A75  21 00 00    	ld	hl,_s_state
2417  0A78  7E          	ld	a,(hl)
2418  0A79  E6 FC       	and	a,+(0xfd&0xfe)
2419  0A7B  77          	ld	(hl),a
2420  0A7C  2A 00 00    	ld	hl,(_sprite)
2421  0A7F  26 00       	ld	h,0x00
2422  0A81  01 00 00    	ld	bc,_colint
2423  0A84  09          	add	hl,bc
2424  0A85  AF          	xor	a,a
2425  0A86  77          	ld	(hl),a
2426  0A87  2E 01       	ld	l,0x01
2427  0A89  18 27       	jr	l_player_move_jump_00138
2428  0A8B              l_player_move_jump_00131:
2429  0A8B  2A 00 00    	ld	hl,(_sprite)
2430  0A8E  26 00       	ld	h,0x00
2431  0A90  01 00 00    	ld	bc,_lin
2432  0A93  09          	add	hl,bc
2433  0A94  3A 00 00    	ld	a,(_s_lin1)
2434  0A97  77          	ld	(hl),a
2435  0A98              l_player_move_jump_00135:
2436  0A98  21 00 00    	ld	hl,_sprite_horizontal_check
2437  0A9B  36 01       	ld	(hl),0x01
2438  0A9D  CD 00 00    	call	_spr_move_horizontal
2439  0AA0  7D          	ld	a, l
2440  0AA1  B7          	or	a, a
2441  0AA2  28 07       	jr	Z,l_player_move_jump_00137
2442  0AA4  21 00 00    	ld	hl,_s_state
2443  0AA7  7E          	ld	a,(hl)
2444  0AA8  E6 F3       	and	a,+(0xf7&0xfb)
2445  0AAA  77          	ld	(hl),a
2446  0AAB              l_player_move_jump_00137:
2447  0AAB  21 00 00    	ld	hl,_sprite_horizontal_check
2448  0AAE  36 00       	ld	(hl),0x00
2449  0AB0  2E 00       	ld	l,0x00
2450  0AB2              l_player_move_jump_00138:
2451  0AB2  C9          	ret
2452  0AB3              	SECTION IGNORE
2453  0000              
