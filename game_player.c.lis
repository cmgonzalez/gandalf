1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_1up
190   0000              	GLOBAL _player_init
191   0000              	GLOBAL _player_turn
192   0000              	GLOBAL _player_move
193   0000              	GLOBAL _player_check_input
194   0000              	GLOBAL _player_move_input
195   0000              	GLOBAL _player_fix_walk_lin
196   0000              	GLOBAL _player_fire
197   0000              	GLOBAL _player_collision
198   0000              	GLOBAL _player_pick_mushroom
199   0000              	GLOBAL _player_check_stairs_vertical
200   0000              	GLOBAL _player_check_stairs
201   0000              	GLOBAL _player_tile
202   0000              	GLOBAL _player_pick_item
203   0000              	GLOBAL _player_hit_platform
204   0000              	GLOBAL _player_hit_platform_clear
205   0000              	GLOBAL _player_score_add
206   0000              	GLOBAL _player_check_floor
207   0000              	GLOBAL _player_gasta_brick
208   0000              	GLOBAL _player_move_jump
209   0000              	GLOBAL _player_open_door
210   0000              	GLOBAL _player_lost_life
211   0000              	GLOBAL _player_hit
212   0000              ;--------------------------------------------------------
213   0000              ; Externals used
214   0000              ;--------------------------------------------------------
215   0000              	GLOBAL _ulltoa_callee
216   0000              	GLOBAL _ulltoa
217   0000              	GLOBAL _strtoull_callee
218   0000              	GLOBAL _strtoull
219   0000              	GLOBAL _strtoll_callee
220   0000              	GLOBAL _strtoll
221   0000              	GLOBAL _lltoa_callee
222   0000              	GLOBAL _lltoa
223   0000              	GLOBAL _llabs_callee
224   0000              	GLOBAL _llabs
225   0000              	GLOBAL __lldivu__callee
226   0000              	GLOBAL __lldivu_
227   0000              	GLOBAL __lldiv__callee
228   0000              	GLOBAL __lldiv_
229   0000              	GLOBAL _atoll_callee
230   0000              	GLOBAL _atoll
231   0000              	GLOBAL _realloc_unlocked_callee
232   0000              	GLOBAL _realloc_unlocked
233   0000              	GLOBAL _malloc_unlocked_fastcall
234   0000              	GLOBAL _malloc_unlocked
235   0000              	GLOBAL _free_unlocked_fastcall
236   0000              	GLOBAL _free_unlocked
237   0000              	GLOBAL _calloc_unlocked_callee
238   0000              	GLOBAL _calloc_unlocked
239   0000              	GLOBAL _aligned_alloc_unlocked_callee
240   0000              	GLOBAL _aligned_alloc_unlocked
241   0000              	GLOBAL _realloc_callee
242   0000              	GLOBAL _realloc
243   0000              	GLOBAL _malloc_fastcall
244   0000              	GLOBAL _malloc
245   0000              	GLOBAL _free_fastcall
246   0000              	GLOBAL _free
247   0000              	GLOBAL _calloc_callee
248   0000              	GLOBAL _calloc
249   0000              	GLOBAL _aligned_alloc_callee
250   0000              	GLOBAL _aligned_alloc
251   0000              	GLOBAL _utoa_callee
252   0000              	GLOBAL _utoa
253   0000              	GLOBAL _ultoa_callee
254   0000              	GLOBAL _ultoa
255   0000              	GLOBAL _system_fastcall
256   0000              	GLOBAL _system
257   0000              	GLOBAL _strtoul_callee
258   0000              	GLOBAL _strtoul
259   0000              	GLOBAL _strtol_callee
260   0000              	GLOBAL _strtol
261   0000              	GLOBAL _strtof_callee
262   0000              	GLOBAL _strtof
263   0000              	GLOBAL _strtod_callee
264   0000              	GLOBAL _strtod
265   0000              	GLOBAL _srand_fastcall
266   0000              	GLOBAL _srand
267   0000              	GLOBAL _rand
268   0000              	GLOBAL _quick_exit_fastcall
269   0000              	GLOBAL _quick_exit
270   0000              	GLOBAL _qsort_callee
271   0000              	GLOBAL _qsort
272   0000              	GLOBAL _ltoa_callee
273   0000              	GLOBAL _ltoa
274   0000              	GLOBAL _labs_fastcall
275   0000              	GLOBAL _labs
276   0000              	GLOBAL _itoa_callee
277   0000              	GLOBAL _itoa
278   0000              	GLOBAL _ftoh_callee
279   0000              	GLOBAL _ftoh
280   0000              	GLOBAL _ftog_callee
281   0000              	GLOBAL _ftog
282   0000              	GLOBAL _ftoe_callee
283   0000              	GLOBAL _ftoe
284   0000              	GLOBAL _ftoa_callee
285   0000              	GLOBAL _ftoa
286   0000              	GLOBAL _exit_fastcall
287   0000              	GLOBAL _exit
288   0000              	GLOBAL _dtoh_callee
289   0000              	GLOBAL _dtoh
290   0000              	GLOBAL _dtog_callee
291   0000              	GLOBAL _dtog
292   0000              	GLOBAL _dtoe_callee
293   0000              	GLOBAL _dtoe
294   0000              	GLOBAL _dtoa_callee
295   0000              	GLOBAL _dtoa
296   0000              	GLOBAL _bsearch_callee
297   0000              	GLOBAL _bsearch
298   0000              	GLOBAL _atol_fastcall
299   0000              	GLOBAL _atol
300   0000              	GLOBAL _atoi_fastcall
301   0000              	GLOBAL _atoi
302   0000              	GLOBAL _atof_fastcall
303   0000              	GLOBAL _atof
304   0000              	GLOBAL _atexit_fastcall
305   0000              	GLOBAL _atexit
306   0000              	GLOBAL _at_quick_exit_fastcall
307   0000              	GLOBAL _at_quick_exit
308   0000              	GLOBAL _abs_fastcall
309   0000              	GLOBAL _abs
310   0000              	GLOBAL _abort
311   0000              	GLOBAL __strtou__callee
312   0000              	GLOBAL __strtou_
313   0000              	GLOBAL __strtoi__callee
314   0000              	GLOBAL __strtoi_
315   0000              	GLOBAL __random_uniform_xor_8__fastcall
316   0000              	GLOBAL __random_uniform_xor_8_
317   0000              	GLOBAL __random_uniform_xor_32__fastcall
318   0000              	GLOBAL __random_uniform_xor_32_
319   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
320   0000              	GLOBAL __random_uniform_cmwc_8_
321   0000              	GLOBAL __shellsort__callee
322   0000              	GLOBAL __shellsort_
323   0000              	GLOBAL __quicksort__callee
324   0000              	GLOBAL __quicksort_
325   0000              	GLOBAL __insertion_sort__callee
326   0000              	GLOBAL __insertion_sort_
327   0000              	GLOBAL __ldivu__callee
328   0000              	GLOBAL __ldivu_
329   0000              	GLOBAL __ldiv__callee
330   0000              	GLOBAL __ldiv_
331   0000              	GLOBAL __divu__callee
332   0000              	GLOBAL __divu_
333   0000              	GLOBAL __div__callee
334   0000              	GLOBAL __div_
335   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
336   0000              	GLOBAL _NIRVANAP_drawTW_raw
337   0000              	GLOBAL _NIRVANAP_drawTW_callee
338   0000              	GLOBAL _NIRVANAP_drawTW
339   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
340   0000              	GLOBAL _NIRVANAP_drawW_raw
341   0000              	GLOBAL _NIRVANAP_drawW_callee
342   0000              	GLOBAL _NIRVANAP_drawW
343   0000              	GLOBAL _NIRVANAP_spriteT_callee
344   0000              	GLOBAL _NIRVANAP_spriteT
345   0000              	GLOBAL _NIRVANAP_fillC_callee
346   0000              	GLOBAL _NIRVANAP_fillC
347   0000              	GLOBAL _NIRVANAP_readC_callee
348   0000              	GLOBAL _NIRVANAP_readC
349   0000              	GLOBAL _NIRVANAP_paintC_callee
350   0000              	GLOBAL _NIRVANAP_paintC
351   0000              	GLOBAL _NIRVANAP_printC_callee
352   0000              	GLOBAL _NIRVANAP_printC
353   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
354   0000              	GLOBAL _NIRVANAP_fillT_raw
355   0000              	GLOBAL _NIRVANAP_fillT_callee
356   0000              	GLOBAL _NIRVANAP_fillT
357   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawT_raw
359   0000              	GLOBAL _NIRVANAP_drawT_callee
360   0000              	GLOBAL _NIRVANAP_drawT
361   0000              	GLOBAL _NIRVANAP_stop
362   0000              	GLOBAL _NIRVANAP_start
363   0000              	GLOBAL _debug3
364   0000              	GLOBAL _debug2
365   0000              	GLOBAL _debug
366   0000              	GLOBAL _zx_print_str
367   0000              	GLOBAL _zx_print_int
368   0000              	GLOBAL _zx_print_chr
369   0000              	GLOBAL _zx_print_bonus_time
370   0000              	GLOBAL _zx_isr
371   0000              	GLOBAL _z80_otdr_callee
372   0000              	GLOBAL _z80_otdr
373   0000              	GLOBAL _z80_otir_callee
374   0000              	GLOBAL _z80_otir
375   0000              	GLOBAL _z80_outp_callee
376   0000              	GLOBAL _z80_outp
377   0000              	GLOBAL _z80_indr_callee
378   0000              	GLOBAL _z80_indr
379   0000              	GLOBAL _z80_inir_callee
380   0000              	GLOBAL _z80_inir
381   0000              	GLOBAL _z80_inp_fastcall
382   0000              	GLOBAL _z80_inp
383   0000              	GLOBAL _z80_set_int_state_fastcall
384   0000              	GLOBAL _z80_set_int_state
385   0000              	GLOBAL _z80_get_int_state
386   0000              	GLOBAL _z80_delay_tstate_fastcall
387   0000              	GLOBAL _z80_delay_tstate
388   0000              	GLOBAL _z80_delay_ms_fastcall
389   0000              	GLOBAL _z80_delay_ms
390   0000              	GLOBAL _im2_remove_generic_callback_callee
391   0000              	GLOBAL _im2_remove_generic_callback
392   0000              	GLOBAL _im2_prepend_generic_callback_callee
393   0000              	GLOBAL _im2_prepend_generic_callback
394   0000              	GLOBAL _im2_append_generic_callback_callee
395   0000              	GLOBAL _im2_append_generic_callback
396   0000              	GLOBAL _im2_create_generic_isr_8080_callee
397   0000              	GLOBAL _im2_create_generic_isr_8080
398   0000              	GLOBAL _im2_create_generic_isr_callee
399   0000              	GLOBAL _im2_create_generic_isr
400   0000              	GLOBAL _im2_install_isr_callee
401   0000              	GLOBAL _im2_install_isr
402   0000              	GLOBAL _im2_init_fastcall
403   0000              	GLOBAL _im2_init
404   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
405   0000              	GLOBAL _intrinsic_swap_word_32
406   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
407   0000              	GLOBAL _intrinsic_swap_endian_32
408   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
409   0000              	GLOBAL _intrinsic_swap_endian_16
410   0000              	GLOBAL _intrinsic_return_de
411   0000              	GLOBAL _intrinsic_return_bc
412   0000              	GLOBAL _intrinsic_exx
413   0000              	GLOBAL _intrinsic_ex_de_hl
414   0000              	GLOBAL _intrinsic_nop
415   0000              	GLOBAL _intrinsic_im_2
416   0000              	GLOBAL _intrinsic_im_1
417   0000              	GLOBAL _intrinsic_im_0
418   0000              	GLOBAL _intrinsic_retn
419   0000              	GLOBAL _intrinsic_reti
420   0000              	GLOBAL _intrinsic_halt
421   0000              	GLOBAL _intrinsic_ei
422   0000              	GLOBAL _intrinsic_di
423   0000              	GLOBAL _intrinsic_stub
424   0000              	GLOBAL _intrinsic_outi
425   0000              	GLOBAL _intrinsic_ldi
426   0000              	GLOBAL _zx_pattern_fill_callee
427   0000              	GLOBAL _zx_pattern_fill
428   0000              	GLOBAL _zx_saddrpup_fastcall
429   0000              	GLOBAL _zx_saddrpup
430   0000              	GLOBAL _zx_saddrpright_callee
431   0000              	GLOBAL _zx_saddrpright
432   0000              	GLOBAL _zx_saddrpleft_callee
433   0000              	GLOBAL _zx_saddrpleft
434   0000              	GLOBAL _zx_saddrpdown_fastcall
435   0000              	GLOBAL _zx_saddrpdown
436   0000              	GLOBAL _zx_saddrcup_fastcall
437   0000              	GLOBAL _zx_saddrcup
438   0000              	GLOBAL _zx_saddrcright_fastcall
439   0000              	GLOBAL _zx_saddrcright
440   0000              	GLOBAL _zx_saddrcleft_fastcall
441   0000              	GLOBAL _zx_saddrcleft
442   0000              	GLOBAL _zx_saddrcdown_fastcall
443   0000              	GLOBAL _zx_saddrcdown
444   0000              	GLOBAL _zx_saddr2py_fastcall
445   0000              	GLOBAL _zx_saddr2py
446   0000              	GLOBAL _zx_saddr2px_fastcall
447   0000              	GLOBAL _zx_saddr2px
448   0000              	GLOBAL _zx_saddr2cy_fastcall
449   0000              	GLOBAL _zx_saddr2cy
450   0000              	GLOBAL _zx_saddr2cx_fastcall
451   0000              	GLOBAL _zx_saddr2cx
452   0000              	GLOBAL _zx_saddr2aaddr_fastcall
453   0000              	GLOBAL _zx_saddr2aaddr
454   0000              	GLOBAL _zx_py2saddr_fastcall
455   0000              	GLOBAL _zx_py2saddr
456   0000              	GLOBAL _zx_py2aaddr_fastcall
457   0000              	GLOBAL _zx_py2aaddr
458   0000              	GLOBAL _zx_pxy2saddr_callee
459   0000              	GLOBAL _zx_pxy2saddr
460   0000              	GLOBAL _zx_pxy2aaddr_callee
461   0000              	GLOBAL _zx_pxy2aaddr
462   0000              	GLOBAL _zx_px2bitmask_fastcall
463   0000              	GLOBAL _zx_px2bitmask
464   0000              	GLOBAL _zx_cy2saddr_fastcall
465   0000              	GLOBAL _zx_cy2saddr
466   0000              	GLOBAL _zx_cy2aaddr_fastcall
467   0000              	GLOBAL _zx_cy2aaddr
468   0000              	GLOBAL _zx_cxy2saddr_callee
469   0000              	GLOBAL _zx_cxy2saddr
470   0000              	GLOBAL _zx_cxy2aaddr_callee
471   0000              	GLOBAL _zx_cxy2aaddr
472   0000              	GLOBAL _zx_bitmask2px_fastcall
473   0000              	GLOBAL _zx_bitmask2px
474   0000              	GLOBAL _zx_aaddrcup_fastcall
475   0000              	GLOBAL _zx_aaddrcup
476   0000              	GLOBAL _zx_aaddrcright_fastcall
477   0000              	GLOBAL _zx_aaddrcright
478   0000              	GLOBAL _zx_aaddrcleft_fastcall
479   0000              	GLOBAL _zx_aaddrcleft
480   0000              	GLOBAL _zx_aaddrcdown_fastcall
481   0000              	GLOBAL _zx_aaddrcdown
482   0000              	GLOBAL _zx_aaddr2saddr_fastcall
483   0000              	GLOBAL _zx_aaddr2saddr
484   0000              	GLOBAL _zx_aaddr2py_fastcall
485   0000              	GLOBAL _zx_aaddr2py
486   0000              	GLOBAL _zx_aaddr2px_fastcall
487   0000              	GLOBAL _zx_aaddr2px
488   0000              	GLOBAL _zx_aaddr2cy_fastcall
489   0000              	GLOBAL _zx_aaddr2cy
490   0000              	GLOBAL _zx_aaddr2cx_fastcall
491   0000              	GLOBAL _zx_aaddr2cx
492   0000              	GLOBAL _zx_visit_wc_pix_callee
493   0000              	GLOBAL _zx_visit_wc_pix
494   0000              	GLOBAL _zx_visit_wc_attr_callee
495   0000              	GLOBAL _zx_visit_wc_attr
496   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
497   0000              	GLOBAL _zx_scroll_wc_up_pix
498   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
499   0000              	GLOBAL _zx_scroll_wc_up_attr
500   0000              	GLOBAL _zx_scroll_wc_up_callee
501   0000              	GLOBAL _zx_scroll_wc_up
502   0000              	GLOBAL _zx_scroll_up_pix_callee
503   0000              	GLOBAL _zx_scroll_up_pix
504   0000              	GLOBAL _zx_scroll_up_attr_callee
505   0000              	GLOBAL _zx_scroll_up_attr
506   0000              	GLOBAL _zx_scroll_up_callee
507   0000              	GLOBAL _zx_scroll_up
508   0000              	GLOBAL _zx_cls_wc_pix_callee
509   0000              	GLOBAL _zx_cls_wc_pix
510   0000              	GLOBAL _zx_cls_wc_attr_callee
511   0000              	GLOBAL _zx_cls_wc_attr
512   0000              	GLOBAL _zx_cls_wc_callee
513   0000              	GLOBAL _zx_cls_wc
514   0000              	GLOBAL _zx_cls_pix_fastcall
515   0000              	GLOBAL _zx_cls_pix
516   0000              	GLOBAL _zx_cls_attr_fastcall
517   0000              	GLOBAL _zx_cls_attr
518   0000              	GLOBAL _zx_cls_fastcall
519   0000              	GLOBAL _zx_cls
520   0000              	GLOBAL _zx_border_fastcall
521   0000              	GLOBAL _zx_border
522   0000              	GLOBAL _spr_flatten
523   0000              	GLOBAL _spr_btile_paint_back
524   0000              	GLOBAL _spr_explode_bullet
525   0000              	GLOBAL _spr_init_anim_bullets
526   0000              	GLOBAL _spr_turn_horizontal
527   0000              	GLOBAL _spr_play_bullets
528   0000              	GLOBAL _spr_play_anim
529   0000              	GLOBAL _spr_add_anim
530   0000              	GLOBAL _spr_clear_scr
531   0000              	GLOBAL _spr_page_map
532   0000              	GLOBAL _spr_page_down
533   0000              	GLOBAL _spr_page_up
534   0000              	GLOBAL _spr_page_right
535   0000              	GLOBAL _spr_page_left
536   0000              	GLOBAL _spr_tile_paint
537   0000              	GLOBAL _spr_calc_hor
538   0000              	GLOBAL _spr_draw_index
539   0000              	GLOBAL _spr_brick_anim
540   0000              	GLOBAL _spr_back_repaint
541   0000              	GLOBAL _spr_tile
542   0000              	GLOBAL _spr_destroy
543   0000              	GLOBAL _spr_tile_dir
544   0000              	GLOBAL _spr_redraw
545   0000              	GLOBAL _spr_move_left
546   0000              	GLOBAL _spr_move_right
547   0000              	GLOBAL _spr_move_horizontal
548   0000              	GLOBAL _spr_move_down
549   0000              	GLOBAL _spr_move_up
550   0000              	GLOBAL _spr_calc_index
551   0000              	GLOBAL _spr_chktime
552   0000              	GLOBAL _menu_define_key
553   0000              	GLOBAL _menu_redefine
554   0000              	GLOBAL _menu_main_print
555   0000              	GLOBAL _menu_main
556   0000              	GLOBAL _game_match_back
557   0000              	GLOBAL _game_attribs
558   0000              	GLOBAL _game_boss_clear
559   0000              	GLOBAL _game_obj_clear
560   0000              	GLOBAL _game_obj_chk
561   0000              	GLOBAL _game_obj_set
562   0000              	GLOBAL _game_shoot_fire_boss
563   0000              	GLOBAL _game_shoot_fire
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_print_header
566   0000              	GLOBAL _game_check_time
567   0000              	GLOBAL _game_rotate_attrib_osd
568   0000              	GLOBAL _game_rotate_attrib
569   0000              	GLOBAL _game_colour_message
570   0000              	GLOBAL _game_paint_attrib_lin_osd
571   0000              	GLOBAL _game_paint_attrib_lin_h
572   0000              	GLOBAL _game_paint_attrib_lin
573   0000              	GLOBAL _game_print_score
574   0000              	GLOBAL _game_check_cell
575   0000              	GLOBAL _game_check_map
576   0000              	GLOBAL _game_loop
577   0000              	GLOBAL _game_round_init
578   0000              	GLOBAL _game_start_timer
579   0000              	GLOBAL _game_update_stats
580   0000              	GLOBAL _game_print_footer
581   0000              	GLOBAL _game_fill_row
582   0000              	GLOBAL _game_fps
583   0000              	GLOBAL _game_respawn
584   0000              	GLOBAL _game_draw_screen
585   0000              	GLOBAL _boss_turn
586   0000              	GLOBAL _enemy_avoid_dead
587   0000              	GLOBAL _enemy_avoid_fall
588   0000              	GLOBAL _enemy_respawn
589   0000              	GLOBAL _enemy_init
590   0000              	GLOBAL _enemy_move
591   0000              	GLOBAL _enemy_turn
592   0000              	GLOBAL _enemy_static
593   0000              	GLOBAL _enemy_walk
594   0000              	GLOBAL _enemy_horizontal
595   0000              	GLOBAL _enemy_vertical
596   0000              	GLOBAL _ay_fx_play
597   0000              	GLOBAL _ay_midi_play
598   0000              	GLOBAL _ay_is_playing
599   0000              	GLOBAL _ay_reset
600   0000              	GLOBAL _test_func
601   0000              	GLOBAL _test_proc
602   0000              	GLOBAL _in_mouse_kempston_wheel_delta
603   0000              	GLOBAL _in_mouse_kempston_wheel
604   0000              	GLOBAL _in_mouse_kempston_callee
605   0000              	GLOBAL _in_mouse_kempston
606   0000              	GLOBAL _in_mouse_kempston_setpos_callee
607   0000              	GLOBAL _in_mouse_kempston_setpos
608   0000              	GLOBAL _in_mouse_kempston_reset
609   0000              	GLOBAL _in_mouse_kempston_init
610   0000              	GLOBAL _in_mouse_amx_wheel_delta
611   0000              	GLOBAL _in_mouse_amx_wheel
612   0000              	GLOBAL _in_mouse_amx_callee
613   0000              	GLOBAL _in_mouse_amx
614   0000              	GLOBAL _in_mouse_amx_setpos_callee
615   0000              	GLOBAL _in_mouse_amx_setpos
616   0000              	GLOBAL _in_mouse_amx_reset
617   0000              	GLOBAL _in_mouse_amx_init_callee
618   0000              	GLOBAL _in_mouse_amx_init
619   0000              	GLOBAL _in_stick_sinclair2
620   0000              	GLOBAL _in_stick_sinclair1
621   0000              	GLOBAL _in_stick_kempston
622   0000              	GLOBAL _in_stick_fuller
623   0000              	GLOBAL _in_stick_cursor
624   0000              	GLOBAL _in_stick_keyboard_fastcall
625   0000              	GLOBAL _in_stick_keyboard
626   0000              	GLOBAL _in_wait_nokey
627   0000              	GLOBAL _in_wait_key
628   0000              	GLOBAL _in_test_key
629   0000              	GLOBAL _in_pause_fastcall
630   0000              	GLOBAL _in_pause
631   0000              	GLOBAL _in_key_scancode_fastcall
632   0000              	GLOBAL _in_key_scancode
633   0000              	GLOBAL _in_key_pressed_fastcall
634   0000              	GLOBAL _in_key_pressed
635   0000              	GLOBAL _in_inkey
636   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
637   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
638   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
639   0000              	GLOBAL _NIRVANAP_HOLE
640   0000              	GLOBAL _NIRVANAP_ISR_HOOK
641   0000              	GLOBAL _scan_map
642   0000              	GLOBAL _key_map
643   0000              	GLOBAL _player_lvl_table
644   0000              	GLOBAL _map_paper_last
645   0000              	GLOBAL _map_paper_clr
646   0000              	GLOBAL _map_paper
647   0000              	GLOBAL _draw_count
648   0000              	GLOBAL _g_player_hit_right
649   0000              	GLOBAL _g_player_hit_left
650   0000              	GLOBAL _bullet_count
651   0000              	GLOBAL _spr_hack
652   0000              	GLOBAL _boss_stat
653   0000              	GLOBAL _boss_time_fire
654   0000              	GLOBAL _boss_time
655   0000              	GLOBAL _boss_tile
656   0000              	GLOBAL _boss_inc
657   0000              	GLOBAL _boss_col
658   0000              	GLOBAL _boss_lin
659   0000              	GLOBAL _bullet
660   0000              	GLOBAL _bullet_vel
661   0000              	GLOBAL _bullet_frames
662   0000              	GLOBAL _bullet_colint
663   0000              	GLOBAL _bullet_dir
664   0000              	GLOBAL _bullet_tile
665   0000              	GLOBAL _bullet_col
666   0000              	GLOBAL _bullet_lin
667   0000              	GLOBAL _bullet_col0
668   0000              	GLOBAL _bullet_lin0
669   0000              	GLOBAL _bullet_max
670   0000              	GLOBAL _bullet_class
671   0000              	GLOBAL _mush_class
672   0000              	GLOBAL _mush_index
673   0000              	GLOBAL _anim_count
674   0000              	GLOBAL _anim_respanwn
675   0000              	GLOBAL _anim_loop
676   0000              	GLOBAL _anim_end
677   0000              	GLOBAL _anim_int
678   0000              	GLOBAL _anim_tile
679   0000              	GLOBAL _anim_col
680   0000              	GLOBAL _anim_lin
681   0000              	GLOBAL _map_heigth
682   0000              	GLOBAL _map_width
683   0000              	GLOBAL _scr_curr
684   0000              	GLOBAL _scr_obj1
685   0000              	GLOBAL _scr_obj0
686   0000              	GLOBAL _scr_map
687   0000              	GLOBAL _sprite_speed_alt
688   0000              	GLOBAL _spr_init
689   0000              	GLOBAL _spr_map_tile
690   0000              	GLOBAL _sprite_frames
691   0000              	GLOBAL _sprite_speed
692   0000              	GLOBAL _screen_ink
693   0000              	GLOBAL _screen_paper
694   0000              	GLOBAL _player_onstair
695   0000              	GLOBAL _game_start_scr
696   0000              	GLOBAL _game_respawn_tile
697   0000              	GLOBAL _game_respawn_index
698   0000              	GLOBAL _game_respawn_time
699   0000              	GLOBAL _game_score_top
700   0000              	GLOBAL _player_coins
701   0000              	GLOBAL _player_lives
702   0000              	GLOBAL _game_over
703   0000              	GLOBAL _game_sound
704   0000              	GLOBAL _game_inmune
705   0000              	GLOBAL _game_god_mode
706   0000              	GLOBAL _sprite_curr_index
707   0000              	GLOBAL _spr_count
708   0000              	GLOBAL _bullet_time
709   0000              	GLOBAL _anim_time
710   0000              	GLOBAL _frame_time
711   0000              	GLOBAL _curr_time
712   0000              	GLOBAL _s_state
713   0000              	GLOBAL _attrib_osd
714   0000              	GLOBAL _attrib_hl
715   0000              	GLOBAL _attrib
716   0000              	GLOBAL _zx_val_asm
717   0000              	GLOBAL _enemies
718   0000              	GLOBAL _tmp_ui
719   0000              	GLOBAL _tmp_sc
720   0000              	GLOBAL _tmp_uc
721   0000              	GLOBAL _tmp1
722   0000              	GLOBAL _tmp0
723   0000              	GLOBAL _tmp
724   0000              	GLOBAL _index1
725   0000              	GLOBAL _index0
726   0000              	GLOBAL _loop_count
727   0000              	GLOBAL _s_col1
728   0000              	GLOBAL _s_col0
729   0000              	GLOBAL _s_lin1
730   0000              	GLOBAL _s_lin0
731   0000              	GLOBAL _s_tile1
732   0000              	GLOBAL _s_tile0
733   0000              	GLOBAL _player_brick_time
734   0000              	GLOBAL _player_hit_count
735   0000              	GLOBAL _sprite_horizontal_check
736   0000              	GLOBAL _sprite_on_air
737   0000              	GLOBAL _sprite
738   0000              	GLOBAL _fps
739   0000              	GLOBAL _game_2buttons
740   0000              	GLOBAL _game_respawn_curr_time
741   0000              	GLOBAL _game_worldup
742   0000              	GLOBAL _game_mush_count
743   0000              	GLOBAL _game_boss_fix
744   0000              	GLOBAL _game_boss_hit
745   0000              	GLOBAL _game_boss_alive
746   0000              	GLOBAL _game_boss
747   0000              	GLOBAL _game_world
748   0000              	GLOBAL _game_gravity
749   0000              	GLOBAL _player_on_fire
750   0000              	GLOBAL _player_anim_stair
751   0000              	GLOBAL _player_hit_time
752   0000              	GLOBAL _player_lin_scr
753   0000              	GLOBAL _player_col_scr
754   0000              	GLOBAL _player_lvl
755   0000              	GLOBAL _player_int
756   0000              	GLOBAL _player_str
757   0000              	GLOBAL _player_max_vita
758   0000              	GLOBAL _player_max_mana
759   0000              	GLOBAL _player_vita
760   0000              	GLOBAL _player_mana
761   0000              	GLOBAL _player_keys
762   0000              	GLOBAL _player_vel_inc
763   0000              	GLOBAL _player_vel_y1
764   0000              	GLOBAL _player_vel_y0
765   0000              	GLOBAL _player_vel_y
766   0000              	GLOBAL _player_vel_x
767   0000              	GLOBAL _player_joy
768   0000              	GLOBAL _player_score
769   0000              	GLOBAL _last_time
770   0000              	GLOBAL _player_slide
771   0000              	GLOBAL _spr_timer
772   0000              	GLOBAL _jump_lin
773   0000              	GLOBAL _player_hit_col
774   0000              	GLOBAL _player_hit_lin
775   0000              	GLOBAL _colint
776   0000              	GLOBAL _col
777   0000              	GLOBAL _lin
778   0000              	GLOBAL _tile
779   0000              	GLOBAL _state_a
780   0000              	GLOBAL _state
781   0000              	GLOBAL _class
782   0000              	GLOBAL _tbuffer
783   0000              	GLOBAL _dirs_alt
784   0000              	GLOBAL _dirs
785   0000              	GLOBAL _k2
786   0000              	GLOBAL _k1
787   0000              	GLOBAL _joyfunc2
788   0000              	GLOBAL _joyfunc1
789   0000              	GLOBAL _btiles
790   0000              	GLOBAL _spec128
791   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
792   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
793   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
794   0000              	GLOBAL _ay_effect_20
795   0000              	GLOBAL _ay_effect_19
796   0000              	GLOBAL _ay_effect_18
797   0000              	GLOBAL _ay_effect_17
798   0000              	GLOBAL _ay_effect_16
799   0000              	GLOBAL _ay_effect_15
800   0000              	GLOBAL _ay_effect_14
801   0000              	GLOBAL _ay_effect_13
802   0000              	GLOBAL _ay_effect_12
803   0000              	GLOBAL _ay_effect_11
804   0000              	GLOBAL _ay_effect_10
805   0000              	GLOBAL _ay_effect_09
806   0000              	GLOBAL _ay_effect_08
807   0000              	GLOBAL _ay_effect_07
808   0000              	GLOBAL _ay_effect_06
809   0000              	GLOBAL _ay_effect_05
810   0000              	GLOBAL _ay_effect_04
811   0000              	GLOBAL _ay_effect_03
812   0000              	GLOBAL _ay_effect_02
813   0000              	GLOBAL _ay_effect_01
814   0000              	GLOBAL _pb_midi_phase_1
815   0000              	GLOBAL _pb_midi_title
816   0000              	GLOBAL _control_method
817   0000              	GLOBAL _world0_h
818   0000              	GLOBAL _world0_w
819   0000              	GLOBAL _world0
820   0000              	GLOBAL _paper0
821   0000              	GLOBAL _lenght0
822   0000              	GLOBAL _start_scr0
823   0000              ;--------------------------------------------------------
824   0000              ; special function registers
825   0000              ;--------------------------------------------------------
826   0000              defc _IO_FE	=	0x00fe
827   0000              defc _IO_1FFD	=	0x1ffd
828   0000              defc _IO_7FFD	=	0x7ffd
829   0000              ;--------------------------------------------------------
830   0000              ; ram data
831   0000              ;--------------------------------------------------------
832   0000              	SECTION bss_compiler
833   0000              ;--------------------------------------------------------
834   0000              ; ram data
835   0000              ;--------------------------------------------------------
836   0000              
837   0000              IF 0
838   0000              
839   0000              ; .area _INITIALIZED removed by z88dk
840   0000              
841   0000              
842   0000              ENDIF
843   0000              
844   0000              ;--------------------------------------------------------
845   0000              ; absolute external ram data
846   0000              ;--------------------------------------------------------
847   0000              	SECTION IGNORE
848   0000              ;--------------------------------------------------------
849   0000              ; global & static initialisations
850   0000              ;--------------------------------------------------------
851   0000              	SECTION code_crt_init
852   0000              ;--------------------------------------------------------
853   0000              ; Home
854   0000              ;--------------------------------------------------------
855   0000              	SECTION IGNORE
856   0000              ;--------------------------------------------------------
857   0000              ; code
858   0000              ;--------------------------------------------------------
859   0000              	SECTION code_compiler
860   0000              ;	---------------------------------
861   0000              ; Function player_init
862   0000              ; ---------------------------------
863   0000              _player_init:
864   0000  CD 00 00    	call	___sdcc_enter_ix
865   0003  21 07 00    	ld	hl, +(_class + 0x0007)
866   0006  36 00       	ld	(hl),0x00
867   0008  21 07 00    	ld	hl, +(_tile + 0x0007)
868   000B  DD 7E 06    	ld	a,(ix+6)
869   000E  77          	ld	(hl), a
870   000F  21 07 00    	ld	hl, +(_lin + 0x0007)
871   0012  DD 7E 04    	ld	a,(ix+4)
872   0015  77          	ld	(hl), a
873   0016  21 07 00    	ld	hl, +(_col + 0x0007)
874   0019  DD 7E 05    	ld	a,(ix+5)
875   001C  77          	ld	(hl), a
876   001D  21 07 00    	ld	hl, +(_colint + 0x0007)
877   0020  36 00       	ld	(hl),0x00
878   0022  21 07 00    	ld	hl, +(_state + 0x0007)
879   0025  36 00       	ld	(hl),0x00
880   0027  01 07 00    	ld	bc,_state_a+7
881   002A  AF          	xor	a, a
882   002B  02          	ld	(bc), a
883   002C  21 07 00    	ld	hl, +(_jump_lin + 0x0007)
884   002F  DD 7E 04    	ld	a,(ix+4)
885   0032  77          	ld	(hl), a
886   0033  ED 5B 00 00 	ld	de,(_curr_time)
887   0037  ED 53 0E 00 	ld	(_last_time + 0x000e),de
888   003B  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
889   003E  36 00       	ld	(hl),0x00
890   0040  0A          	ld	a, (bc)
891   0041  F6 11       	or	a,+(0x01|0x10)
892   0043  02          	ld	(bc),a
893   0044  21 00 00    	ld	hl,_player_hit_col
894   0047  36 00       	ld	(hl),0x00
895   0049  21 00 00    	ld	hl,_player_hit_lin
896   004C  36 00       	ld	(hl),0x00
897   004E  21 00 00    	ld	hl,_player_slide
898   0051  36 00       	ld	(hl),0x00
899   0053  DD 66 05    	ld	h,(ix+5)
900   0056  DD 6E 04    	ld	l,(ix+4)
901   0059  E5          	push	hl
902   005A  DD 56 06    	ld	d,(ix+6)
903   005D  1E 07       	ld	e,0x07
904   005F  D5          	push	de
905   0060  CD 00 00    	call	_NIRVANAP_spriteT_callee
906   0063  DD E1       	pop	ix
907   0065  C9          	ret
908   0066              	SECTION code_compiler
909   0066              ;	---------------------------------
910   0066              ; Function player_turn
911   0066              ; ---------------------------------
912   0066              _player_turn:
913   0066  21 00 00    	ld	hl,_sprite
914   0069  CD 00 00    	call	_spr_chktime
915   006C  7D          	ld	a, l
916   006D  B7          	or	a, a
917   006E  C8          	ret	Z
918   006F  21 00 00    	ld	hl,_k1
919   0072  E5          	push	hl
920   0073  2A 00 00    	ld	hl,(_joyfunc1)
921   0076  CD 00 00    	call	___sdcc_call_hl
922   0079  F1          	pop	af
923   007A  7D          	ld	a,l
924   007B  32 00 00    	ld	(_dirs),a
925   007E  21 00 00    	ld	hl,_k2
926   0081  E5          	push	hl
927   0082  2A 00 00    	ld	hl,(_joyfunc2)
928   0085  CD 00 00    	call	___sdcc_call_hl
929   0088  F1          	pop	af
930   0089  7D          	ld	a,l
931   008A  32 00 00    	ld	(_dirs_alt),a
932   008D  CD 93 00    	call	_player_move
933   0090  C3 CC 03    	jp  _player_collision
934   0093              	SECTION code_compiler
935   0093              ;	---------------------------------
936   0093              ; Function player_move
937   0093              ; ---------------------------------
938   0093              _player_move:
939   0093  3A 07 00    	ld	a,(_lin + 0x0007)
940   0096  32 00 00    	ld	(_s_lin0),a
941   0099  3A 07 00    	ld	a,(_col + 0x0007)
942   009C  32 00 00    	ld	(_s_col0),a
943   009F  21 07 00    	ld	hl,+(_tile + 0x0007)
944   00A2  4E          	ld	c, (hl)
945   00A3  21 07 00    	ld	hl,+(_colint + 0x0007)
946   00A6  46          	ld	b, (hl)
947   00A7  79          	ld	a, c
948   00A8  80          	add	a, b
949   00A9  32 00 00    	ld	(_s_tile0),a
950   00AC  3A 07 00    	ld	a,(_state + 0x0007)
951   00AF  32 00 00    	ld	(_s_state),a
952   00B2  21 00 00    	ld	hl,_s_state
953   00B5  CB 46       	bit	0, (hl)
954   00B7  20 07       	jr	NZ,l_player_move_00113
955   00B9  21 00 00    	ld	hl,_s_state
956   00BC  CB 4E       	bit	1, (hl)
957   00BE  28 49       	jr	Z,l_player_move_00114
958   00C0              l_player_move_00113:
959   00C0  CD 3F 03    	call	_player_fire
960   00C3  3A 00 00    	ld	a,(_player_vel_y)
961   00C6  21 00 00    	ld	hl,_player_vel_y1
962   00C9  96          	sub	a, (hl)
963   00CA  E2 CF 00    	jp	PO, l_player_move_00162
964   00CD  EE 80       	xor	a,0x80
965   00CF              l_player_move_00162:
966   00CF  F2 F2 00    	jp	P, l_player_move_00106
967   00D2  21 00 00    	ld	hl,_dirs
968   00D5  CB 56       	bit	2, (hl)
969   00D7  28 09       	jr	Z,l_player_move_00102
970   00D9  21 00 00    	ld	hl,_s_state
971   00DC  7E          	ld	a,(hl)
972   00DD  F6 08       	or	a,0x08
973   00DF  E6 FB       	and	a,0xfb
974   00E1  77          	ld	(hl),a
975   00E2              l_player_move_00102:
976   00E2  21 00 00    	ld	hl,_dirs
977   00E5  CB 4E       	bit	1, (hl)
978   00E7  28 09       	jr	Z,l_player_move_00106
979   00E9  21 00 00    	ld	hl,_s_state
980   00EC  7E          	ld	a,(hl)
981   00ED  F6 04       	or	a,0x04
982   00EF  E6 F7       	and	a,0xf7
983   00F1  77          	ld	(hl),a
984   00F2              l_player_move_00106:
985   00F2  CD 9C 0D    	call	_player_move_jump
986   00F5  7D          	ld	a, l
987   00F6  B7          	or	a, a
988   00F7  28 1C       	jr	Z,l_player_move_00115
989   00F9  3A 00 00    	ld	a,(_player_onstair)
990   00FC  B7          	or	a, a
991   00FD  20 16       	jr	NZ,l_player_move_00115
992   00FF  21 60 08    	ld	hl,0x0860
993   0102  E5          	push	hl
994   0103  CD 8F 06    	call	_player_tile
995   0106  F1          	pop	af
996   0107  18 0C       	jr	l_player_move_00115
997   0109              l_player_move_00114:
998   0109  CD 7B 01    	call	_player_move_input
999   010C  3A 00 00    	ld	a,(_player_onstair)
1000  010F  B7          	or	a, a
1001  0110  20 03       	jr	NZ,l_player_move_00115
1002  0112  CD 17 0C    	call	_player_check_floor
1003  0115              l_player_move_00115:
1004  0115  CD 00 00    	call	_spr_redraw
1005  0118  7D          	ld	a, l
1006  0119  B7          	or	a, a
1007  011A  28 03       	jr	Z,l_player_move_00118
1008  011C  CD AA 06    	call	_player_check_map
1009  011F              l_player_move_00118:
1010  011F  3A 00 00    	ld	a,(_player_hit_lin)
1011  0122  B7          	or	a, a
1012  0123  28 03       	jr	Z,l_player_move_00120
1013  0125  CD 81 0B    	call	_player_hit_platform_clear
1014  0128              l_player_move_00120:
1015  0128  3A 00 00    	ld	a,(_s_state)
1016  012B  32 07 00    	ld	((_state + 0x0007)),a
1017  012E  2E 00       	ld	l,0x00
1018  0130  C9          	ret
1019  0131              	SECTION code_compiler
1020  0131              ;	---------------------------------
1021  0131              ; Function player_check_input
1022  0131              ; ---------------------------------
1023  0131              _player_check_input:
1024  0131  21 00 00    	ld	hl,_dirs
1025  0134  CB 56       	bit	2, (hl)
1026  0136  28 0C       	jr	Z,l_player_check_input_00102
1027  0138  21 00 00    	ld	hl,_dirs
1028  013B  CB 5E       	bit	3, (hl)
1029  013D  28 05       	jr	Z,l_player_check_input_00102
1030  013F  21 00 00    	ld	hl,_dirs
1031  0142  36 00       	ld	(hl),0x00
1032  0144              l_player_check_input_00102:
1033  0144  21 00 00    	ld	hl,_dirs
1034  0147  7E          	ld	a, (hl)
1035  0148  CB 07       	rlc	a
1036  014A  E6 01       	and	a,0x01
1037  014C  CB 47       	bit	0, a
1038  014E  20 28       	jr	NZ,l_player_check_input_00107
1039  0150  CB 56       	bit	2, (hl)
1040  0152  20 24       	jr	NZ,l_player_check_input_00107
1041  0154  21 00 00    	ld	hl,_dirs
1042  0157  CB 5E       	bit	3, (hl)
1043  0159  20 1D       	jr	NZ,l_player_check_input_00107
1044  015B  21 00 00    	ld	hl,_dirs
1045  015E  CB 46       	bit	0, (hl)
1046  0160  20 16       	jr	NZ,l_player_check_input_00107
1047  0162  21 00 00    	ld	hl,_dirs
1048  0165  CB 4E       	bit	1, (hl)
1049  0167  20 0F       	jr	NZ,l_player_check_input_00107
1050  0169  3A 00 00    	ld	a,(_dirs_alt)
1051  016C  CB 07       	rlc	a
1052  016E  E6 01       	and	a,0x01
1053  0170  CB 47       	bit	0, a
1054  0172  20 04       	jr	NZ,l_player_check_input_00107
1055  0174  2E 00       	ld	l,0x00
1056  0176  18 02       	jr	l_player_check_input_00108
1057  0178              l_player_check_input_00107:
1058  0178  2E 01       	ld	l,0x01
1059  017A              l_player_check_input_00108:
1060  017A  C9          	ret
1061  017B              	SECTION code_compiler
1062  017B              ;	---------------------------------
1063  017B              ; Function player_move_input
1064  017B              ; ---------------------------------
1065  017B              _player_move_input:
1066  017B  CD 31 01    	call	_player_check_input
1067  017E  7D          	ld	a, l
1068  017F  B7          	or	a, a
1069  0180  CA FF 02    	jp	Z, l_player_move_input_00149
1070  0183  CD 3F 03    	call	_player_fire
1071  0186  7D          	ld	a, l
1072  0187  B7          	or	a, a
1073  0188  28 0A       	jr	Z,l_player_move_input_00102
1074  018A  21 00 00    	ld	hl,_dirs
1075  018D  36 00       	ld	(hl),0x00
1076  018F  2E 00       	ld	l,0x00
1077  0191  C3 25 03    	jp	l_player_move_input_00151
1078  0194              l_player_move_input_00102:
1079  0194  3A 00 00    	ld	a,(_game_2buttons)
1080  0197  B7          	or	a, a
1081  0198  28 07       	jr	Z,l_player_move_input_00104
1082  019A  3A 00 00    	ld	a,(_dirs)
1083  019D  E6 80       	and	a,0x80
1084  019F  18 16       	jr	l_player_move_input_00105
1085  01A1              l_player_move_input_00104:
1086  01A1  21 00 00    	ld	hl,_dirs
1087  01A4  7E          	ld	a, (hl)
1088  01A5  CB 07       	rlc	a
1089  01A7  E6 01       	and	a,0x01
1090  01A9  CB 47       	bit	0, a
1091  01AB  28 04       	jr	Z,l_player_move_input_00153
1092  01AD  CB 46       	bit	0, (hl)
1093  01AF  20 04       	jr	NZ,l_player_move_input_00154
1094  01B1              l_player_move_input_00153:
1095  01B1  3E 00       	ld	a,0x00
1096  01B3  18 02       	jr	l_player_move_input_00155
1097  01B5              l_player_move_input_00154:
1098  01B5  3E 01       	ld	a,0x01
1099  01B7              l_player_move_input_00155:
1100  01B7              l_player_move_input_00105:
1101  01B7  B7          	or	a, a
1102  01B8  28 4A       	jr	Z,l_player_move_input_00109
1103  01BA  21 00 00    	ld	hl,_player_vel_inc
1104  01BD  36 01       	ld	(hl),0x01
1105  01BF  CD 00 00    	call	_ay_is_playing
1106  01C2  7D          	ld	a, l
1107  01C3  D6 03       	sub	a,0x03
1108  01C5  28 06       	jr	Z,l_player_move_input_00107
1109  01C7  21 00 00    	ld	hl,_ay_effect_03
1110  01CA  CD 00 00    	call	_ay_fx_play
1111  01CD              l_player_move_input_00107:
1112  01CD  21 00 00    	ld	hl,_player_onstair
1113  01D0  36 00       	ld	(hl),0x00
1114  01D2  21 00 00    	ld	hl,_s_state
1115  01D5  7E          	ld	a,(hl)
1116  01D6  F6 01       	or	a,0x01
1117  01D8  E6 FD       	and	a,0xfd
1118  01DA  77          	ld	(hl),a
1119  01DB  3A 07 00    	ld	a,(_lin + 0x0007)
1120  01DE  32 07 00    	ld	((_jump_lin + 0x0007)),a
1121  01E1  3A 00 00    	ld	a,(_s_state)
1122  01E4  32 07 00    	ld	((_state + 0x0007)),a
1123  01E7  21 64 08    	ld	hl,0x0864
1124  01EA  E5          	push	hl
1125  01EB  CD 8F 06    	call	_player_tile
1126  01EE  F1          	pop	af
1127  01EF  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
1128  01F2  36 02       	ld	(hl),0x02
1129  01F4  21 00 00    	ld	hl,_player_slide
1130  01F7  36 00       	ld	(hl),0x00
1131  01F9  3A 00 00    	ld	a,(_player_vel_y0)
1132  01FC  32 00 00    	ld	(_player_vel_y),a
1133  01FF  2E 01       	ld	l,0x01
1134  0201  C3 25 03    	jp	l_player_move_input_00151
1135  0204              l_player_move_input_00109:
1136  0204  21 00 00    	ld	hl,_dirs
1137  0207  CB 5E       	bit	3, (hl)
1138  0209  28 23       	jr	Z,l_player_move_input_00113
1139  020B  CD 26 03    	call	_player_fix_walk_lin
1140  020E  21 00 00    	ld	hl,_s_state
1141  0211  7E          	ld	a,(hl)
1142  0212  F6 04       	or	a,0x04
1143  0214  E6 F7       	and	a,0xf7
1144  0216  77          	ld	(hl),a
1145  0217  01 07 00    	ld	bc,_state_a+7
1146  021A  0A          	ld	a, (bc)
1147  021B  F6 10       	or	a,0x10
1148  021D  E6 F7       	and	a,0xf7
1149  021F  02          	ld	(bc),a
1150  0220  3A 00 00    	ld	a,(_player_onstair)
1151  0223  B7          	or	a, a
1152  0224  28 05       	jr	Z,l_player_move_input_00111
1153  0226  2E 00       	ld	l,0x00
1154  0228  CD FD 05    	call	_player_check_stairs
1155  022B              l_player_move_input_00111:
1156  022B  CD 00 00    	call	_spr_move_horizontal
1157  022E              l_player_move_input_00113:
1158  022E  21 00 00    	ld	hl,_dirs
1159  0231  CB 56       	bit	2, (hl)
1160  0233  28 23       	jr	Z,l_player_move_input_00117
1161  0235  CD 26 03    	call	_player_fix_walk_lin
1162  0238  21 00 00    	ld	hl,_s_state
1163  023B  7E          	ld	a,(hl)
1164  023C  F6 08       	or	a,0x08
1165  023E  E6 FB       	and	a,0xfb
1166  0240  77          	ld	(hl),a
1167  0241  01 07 00    	ld	bc,_state_a+7
1168  0244  0A          	ld	a, (bc)
1169  0245  F6 08       	or	a,0x08
1170  0247  E6 EF       	and	a,0xef
1171  0249  02          	ld	(bc),a
1172  024A  3A 00 00    	ld	a,(_player_onstair)
1173  024D  B7          	or	a, a
1174  024E  28 05       	jr	Z,l_player_move_input_00115
1175  0250  2E 00       	ld	l,0x00
1176  0252  CD FD 05    	call	_player_check_stairs
1177  0255              l_player_move_input_00115:
1178  0255  CD 00 00    	call	_spr_move_horizontal
1179  0258              l_player_move_input_00117:
1180  0258  21 00 00    	ld	hl,_dirs
1181  025B  CB 46       	bit	0, (hl)
1182  025D  28 3C       	jr	Z,l_player_move_input_00129
1183  025F  2E 00       	ld	l,0x00
1184  0261  CD FD 05    	call	_player_check_stairs
1185  0264  3A 00 00    	ld	a,(_player_onstair)
1186  0267  B7          	or	a, a
1187  0268  20 13       	jr	NZ,l_player_move_input_00121
1188  026A  2E 01       	ld	l,0x01
1189  026C  CD FD 05    	call	_player_check_stairs
1190  026F  3A 00 00    	ld	a,(_player_onstair)
1191  0272  B7          	or	a, a
1192  0273  20 08       	jr	NZ,l_player_move_input_00121
1193  0275  3E FE       	ld	a,0xfe
1194  0277  F5          	push	af
1195  0278  33          	inc	sp
1196  0279  CD 54 05    	call	_player_check_stairs_vertical
1197  027C  33          	inc	sp
1198  027D              l_player_move_input_00121:
1199  027D  3A 00 00    	ld	a,(_player_onstair)
1200  0280  B7          	or	a, a
1201  0281  28 05       	jr	Z,l_player_move_input_00126
1202  0283  CD 00 00    	call	_spr_move_up
1203  0286  18 13       	jr	l_player_move_input_00129
1204  0288              l_player_move_input_00126:
1205  0288  21 00 00    	ld	hl,_dirs
1206  028B  CB 5E       	bit	3, (hl)
1207  028D  20 0C       	jr	NZ,l_player_move_input_00129
1208  028F  21 00 00    	ld	hl,_dirs
1209  0292  CB 56       	bit	2, (hl)
1210  0294  20 05       	jr	NZ,l_player_move_input_00129
1211  0296  2E 00       	ld	l,0x00
1212  0298  C3 25 03    	jp	l_player_move_input_00151
1213  029B              l_player_move_input_00129:
1214  029B  21 00 00    	ld	hl,_dirs
1215  029E  CB 4E       	bit	1, (hl)
1216  02A0  28 3B       	jr	Z,l_player_move_input_00141
1217  02A2  2E 00       	ld	l,0x00
1218  02A4  CD FD 05    	call	_player_check_stairs
1219  02A7  3A 00 00    	ld	a,(_player_onstair)
1220  02AA  B7          	or	a, a
1221  02AB  20 13       	jr	NZ,l_player_move_input_00133
1222  02AD  2E 01       	ld	l,0x01
1223  02AF  CD FD 05    	call	_player_check_stairs
1224  02B2  3A 00 00    	ld	a,(_player_onstair)
1225  02B5  B7          	or	a, a
1226  02B6  20 08       	jr	NZ,l_player_move_input_00133
1227  02B8  3E 12       	ld	a,0x12
1228  02BA  F5          	push	af
1229  02BB  33          	inc	sp
1230  02BC  CD 54 05    	call	_player_check_stairs_vertical
1231  02BF  33          	inc	sp
1232  02C0              l_player_move_input_00133:
1233  02C0  3A 00 00    	ld	a,(_player_onstair)
1234  02C3  B7          	or	a, a
1235  02C4  28 05       	jr	Z,l_player_move_input_00138
1236  02C6  CD 00 00    	call	_spr_move_down
1237  02C9  18 12       	jr	l_player_move_input_00141
1238  02CB              l_player_move_input_00138:
1239  02CB  21 00 00    	ld	hl,_dirs
1240  02CE  CB 5E       	bit	3, (hl)
1241  02D0  20 0B       	jr	NZ,l_player_move_input_00141
1242  02D2  21 00 00    	ld	hl,_dirs
1243  02D5  CB 56       	bit	2, (hl)
1244  02D7  20 04       	jr	NZ,l_player_move_input_00141
1245  02D9  2E 00       	ld	l,0x00
1246  02DB  18 48       	jr	l_player_move_input_00151
1247  02DD              l_player_move_input_00141:
1248  02DD  3A 00 00    	ld	a,(_s_state)
1249  02E0  32 07 00    	ld	((_state + 0x0007)),a
1250  02E3  3A 00 00    	ld	a,(_player_onstair)
1251  02E6  B7          	or	a, a
1252  02E7  28 0A       	jr	Z,l_player_move_input_00143
1253  02E9  21 72 00    	ld	hl,0x0072
1254  02EC  E5          	push	hl
1255  02ED  CD 8F 06    	call	_player_tile
1256  02F0  F1          	pop	af
1257  02F1  18 08       	jr	l_player_move_input_00144
1258  02F3              l_player_move_input_00143:
1259  02F3  21 60 08    	ld	hl,0x0860
1260  02F6  E5          	push	hl
1261  02F7  CD 8F 06    	call	_player_tile
1262  02FA  F1          	pop	af
1263  02FB              l_player_move_input_00144:
1264  02FB  2E 01       	ld	l,0x01
1265  02FD  18 26       	jr	l_player_move_input_00151
1266  02FF              l_player_move_input_00149:
1267  02FF  21 07 00    	ld	hl, +(_colint + 0x0007)
1268  0302  36 00       	ld	(hl),0x00
1269  0304  3A 00 00    	ld	a,(_player_onstair)
1270  0307  B7          	or	a, a
1271  0308  28 0A       	jr	Z,l_player_move_input_00146
1272  030A  21 72 00    	ld	hl,0x0072
1273  030D  E5          	push	hl
1274  030E  CD 8F 06    	call	_player_tile
1275  0311  F1          	pop	af
1276  0312  18 08       	jr	l_player_move_input_00147
1277  0314              l_player_move_input_00146:
1278  0314  21 70 01    	ld	hl,0x0170
1279  0317  E5          	push	hl
1280  0318  CD 8F 06    	call	_player_tile
1281  031B  F1          	pop	af
1282  031C              l_player_move_input_00147:
1283  031C  21 00 00    	ld	hl,_s_state
1284  031F  7E          	ld	a,(hl)
1285  0320  E6 F3       	and	a,+(0xf7&0xfb)
1286  0322  77          	ld	(hl),a
1287  0323  2E 00       	ld	l,0x00
1288  0325              l_player_move_input_00151:
1289  0325  C9          	ret
1290  0326              	SECTION code_compiler
1291  0326              ;	---------------------------------
1292  0326              ; Function player_fix_walk_lin
1293  0326              ; ---------------------------------
1294  0326              _player_fix_walk_lin:
1295  0326  3A 00 00    	ld	a,(_player_onstair)
1296  0329  B7          	or	a, a
1297  032A  C0          	ret	NZ
1298  032B  01 07 00    	ld	bc,_lin+7
1299  032E  3A 00 00    	ld	a,(_s_lin0)
1300  0331  07          	rlca
1301  0332  07          	rlca
1302  0333  07          	rlca
1303  0334  07          	rlca
1304  0335  E6 0F       	and	a,0x0f
1305  0337  07          	rlca
1306  0338  07          	rlca
1307  0339  07          	rlca
1308  033A  07          	rlca
1309  033B  E6 F0       	and	a,0xf0
1310  033D  02          	ld	(bc), a
1311  033E  C9          	ret
1312  033F              	SECTION code_compiler
1313  033F              ;	---------------------------------
1314  033F              ; Function player_fire
1315  033F              ; ---------------------------------
1316  033F              _player_fire:
1317  033F  CD 00 00    	call	___sdcc_enter_ix
1318  0342  3B          	dec	sp
1319  0343  3A 00 00    	ld	a,(_game_2buttons)
1320  0346  B7          	or	a, a
1321  0347  28 0A       	jr	Z,l_player_fire_00102
1322  0349  3A 00 00    	ld	a,(_dirs_alt)
1323  034C  E6 80       	and	a,0x80
1324  034E  32 00 00    	ld	(_player_on_fire),a
1325  0351  18 1A       	jr	l_player_fire_00103
1326  0353              l_player_fire_00102:
1327  0353  21 00 00    	ld	hl,_dirs
1328  0356  7E          	ld	a, (hl)
1329  0357  CB 07       	rlc	a
1330  0359  E6 01       	and	a,0x01
1331  035B  CB 47       	bit	0, a
1332  035D  28 04       	jr	Z,l_player_fire_00119
1333  035F  CB 46       	bit	0, (hl)
1334  0361  28 04       	jr	Z,l_player_fire_00120
1335  0363              l_player_fire_00119:
1336  0363  0E 00       	ld	c,0x00
1337  0365  18 02       	jr	l_player_fire_00121
1338  0367              l_player_fire_00120:
1339  0367  0E 01       	ld	c,0x01
1340  0369              l_player_fire_00121:
1341  0369  21 00 00    	ld	hl,_player_on_fire
1342  036C  71          	ld	(hl), c
1343  036D              l_player_fire_00103:
1344  036D  3A 00 00    	ld	a,(_player_on_fire)
1345  0370  B7          	or	a, a
1346  0371  28 53       	jr	Z,l_player_fire_00116
1347  0373  3A 07 00    	ld	a,(_tile + 0x0007)
1348  0376  FE 70       	cp	a,0x70
1349  0378  28 04       	jr	Z,l_player_fire_00104
1350  037A  D6 71       	sub	a,0x71
1351  037C  20 0D       	jr	NZ,l_player_fire_00105
1352  037E              l_player_fire_00104:
1353  037E  21 60 08    	ld	hl,0x0860
1354  0381  E5          	push	hl
1355  0382  CD 8F 06    	call	_player_tile
1356  0385  F1          	pop	af
1357  0386  21 07 00    	ld	hl, +(_colint + 0x0007)
1358  0389  36 00       	ld	(hl),0x00
1359  038B              l_player_fire_00105:
1360  038B  21 00 00    	ld	hl,_player_mana
1361  038E  7E          	ld	a, (hl)
1362  038F  B7          	or	a, a
1363  0390  28 30       	jr	Z,l_player_fire_00113
1364  0392  3A 07 00    	ld	a,(_bullet_col + 0x0007)
1365  0395  3C          	inc	a
1366  0396  20 2A       	jr	NZ,l_player_fire_00113
1367  0398  3E 05       	ld	a,0x05
1368  039A  96          	sub	a, (hl)
1369  039B  30 0F       	jr	NC,l_player_fire_00110
1370  039D  3A 00 00    	ld	a,(_game_god_mode)
1371  03A0  B7          	or	a, a
1372  03A1  20 0E       	jr	NZ,l_player_fire_00111
1373  03A3  21 00 00    	ld	hl,_player_mana
1374  03A6  7E          	ld	a, (hl)
1375  03A7  C6 FB       	add	a,0xfb
1376  03A9  77          	ld	(hl), a
1377  03AA  18 05       	jr	l_player_fire_00111
1378  03AC              l_player_fire_00110:
1379  03AC  21 00 00    	ld	hl,_player_mana
1380  03AF  36 00       	ld	(hl),0x00
1381  03B1              l_player_fire_00111:
1382  03B1  CD 00 00    	call	_game_update_stats
1383  03B4  21 00 00    	ld	hl,_ay_effect_05
1384  03B7  CD 00 00    	call	_ay_fx_play
1385  03BA  21 07 78    	ld	hl,0x7807
1386  03BD  E5          	push	hl
1387  03BE  CD 00 00    	call	_game_shoot_fire
1388  03C1  F1          	pop	af
1389  03C2              l_player_fire_00113:
1390  03C2  2E 01       	ld	l,0x01
1391  03C4  18 02       	jr	l_player_fire_00117
1392  03C6              l_player_fire_00116:
1393  03C6  2E 00       	ld	l,0x00
1394  03C8              l_player_fire_00117:
1395  03C8  33          	inc	sp
1396  03C9  DD E1       	pop	ix
1397  03CB  C9          	ret
1398  03CC              	SECTION code_compiler
1399  03CC              ;	---------------------------------
1400  03CC              ; Function player_collision
1401  03CC              ; ---------------------------------
1402  03CC              _player_collision:
1403  03CC  21 19 00    	ld	hl,0x0019
1404  03CF  E5          	push	hl
1405  03D0  2A 00 00    	ld	hl,(_player_hit_time)
1406  03D3  E5          	push	hl
1407  03D4  CD 00 00    	call	_game_check_time
1408  03D7  F1          	pop	af
1409  03D8  F1          	pop	af
1410  03D9  7D          	ld	a,l
1411  03DA  B7          	or	a,a
1412  03DB  CA 08 05    	jp	Z, l_player_collision_00127
1413  03DE  21 00 00    	ld	hl,_sprite
1414  03E1  36 00       	ld	(hl),0x00
1415  03E3  3A 07 00    	ld	a,(_col + 7)
1416  03E6  32 00 00    	ld	(_s_col1),a
1417  03E9  3A 07 00    	ld	a,(_lin + 7)
1418  03EC  32 00 00    	ld	(_s_lin1),a
1419  03EF  C6 08       	add	a,0x08
1420  03F1  4F          	ld	c, a
1421  03F2  3A 00 00    	ld	a, (_s_col1)
1422  03F5  47          	ld	b,a
1423  03F6  C5          	push	bc
1424  03F7  CD 00 00    	call	_spr_calc_index
1425  03FA  F1          	pop	af
1426  03FB  7D          	ld	a,l
1427  03FC  32 00 00    	ld	(_sprite_curr_index),a
1428  03FF  4F          	ld	c,a
1429  0400  06 00       	ld	b,0x00
1430  0402  21 00 00    	ld	hl,_scr_map
1431  0405  09          	add	hl,bc
1432  0406  4E          	ld	c, (hl)
1433  0407  3E 2F       	ld	a,0x2f
1434  0409  91          	sub	a, c
1435  040A  30 20       	jr	NC,l_player_collision_00123
1436  040C  79          	ld	a,c
1437  040D  FE 3A       	cp	a,0x3a
1438  040F  30 1B       	jr	NC,l_player_collision_00123
1439  0411  D6 39       	sub	a,0x39
1440  0413  20 07       	jr	NZ,l_player_collision_00102
1441  0415  21 00 00    	ld	hl,_game_worldup
1442  0418  36 01       	ld	(hl),0x01
1443  041A  18 10       	jr	l_player_collision_00123
1444  041C              l_player_collision_00102:
1445  041C  21 00 00    	ld	hl,_ay_effect_06
1446  041F  CD 00 00    	call	_ay_fx_play
1447  0422  2E 06       	ld	l,0x06
1448  0424  CD 00 00    	call	_zx_border_fastcall
1449  0427  2E 32       	ld	l,0x32
1450  0429  CD 62 11    	call	_player_hit
1451  042C              l_player_collision_00123:
1452  042C  21 00 00    	ld	hl,_sprite
1453  042F  7E          	ld	a, (hl)
1454  0430  D6 07       	sub	a,0x07
1455  0432  D2 08 05    	jp	NC, l_player_collision_00127
1456  0435  3E 00       	ld	a, +((_class) & 0xFF)
1457  0437  86          	add	a, (hl)
1458  0438  4F          	ld	c, a
1459  0439  3E 00       	ld	a, +((_class) / 256)
1460  043B  CE 00       	adc	a,0x00
1461  043D  47          	ld	b, a
1462  043E  0A          	ld	a, (bc)
1463  043F  B7          	or	a, a
1464  0440  CA 01 05    	jp	Z, l_player_collision_00122
1465  0443  4E          	ld	c,(hl)
1466  0444  06 00       	ld	b,0x00
1467  0446  21 00 00    	ld	hl,_col
1468  0449  09          	add	hl,bc
1469  044A  4E          	ld	c, (hl)
1470  044B  06 00       	ld	b,0x00
1471  044D  3A 00 00    	ld	a,(_s_col1)
1472  0450  5F          	ld	e,a
1473  0451  16 00       	ld	d,0x00
1474  0453  79          	ld	a, c
1475  0454  93          	sub	a, e
1476  0455  6F          	ld	l, a
1477  0456  78          	ld	a, b
1478  0457  9A          	sbc	a, d
1479  0458  67          	ld	h, a
1480  0459  CD 00 00    	call	_abs_fastcall
1481  045C  7D          	ld	a,l
1482  045D  D6 02       	sub	a,0x02
1483  045F  7C          	ld	a,h
1484  0460  17          	rla
1485  0461  3F          	ccf
1486  0462  1F          	rra
1487  0463  DE 80       	sbc	a,0x80
1488  0465  D2 01 05    	jp	NC, l_player_collision_00122
1489  0468  2A 00 00    	ld	hl,(_sprite)
1490  046B  26 00       	ld	h,0x00
1491  046D  01 00 00    	ld	bc,_lin
1492  0470  09          	add	hl,bc
1493  0471  4E          	ld	c,(hl)
1494  0472  06 00       	ld	b,0x00
1495  0474  3A 00 00    	ld	a,(_s_lin1)
1496  0477  5F          	ld	e,a
1497  0478  16 00       	ld	d,0x00
1498  047A  79          	ld	a, c
1499  047B  93          	sub	a, e
1500  047C  6F          	ld	l, a
1501  047D  78          	ld	a, b
1502  047E  9A          	sbc	a, d
1503  047F  67          	ld	h, a
1504  0480  CD 00 00    	call	_abs_fastcall
1505  0483  7D          	ld	a,l
1506  0484  D6 0E       	sub	a,0x0e
1507  0486  7C          	ld	a,h
1508  0487  17          	rla
1509  0488  3F          	ccf
1510  0489  1F          	rra
1511  048A  DE 80       	sbc	a,0x80
1512  048C  30 73       	jr	NC,l_player_collision_00122
1513  048E  2A 00 00    	ld	hl,(_sprite)
1514  0491  26 00       	ld	h,0x00
1515  0493  01 00 00    	ld	bc,_class
1516  0496  09          	add	hl,bc
1517  0497  7E          	ld	a,(hl)
1518  0498  FE 06       	cp	a,0x06
1519  049A  28 05       	jr	Z,l_player_collision_00189
1520  049C  21 00 00    	ld	hl,_sprite
1521  049F  18 1D       	jr	l_player_collision_00110
1522  04A1              l_player_collision_00189:
1523  04A1  21 00 00    	ld	hl,_player_vita
1524  04A4  7E          	ld	a, (hl)
1525  04A5  C6 19       	add	a,0x19
1526  04A7  77          	ld	(hl), a
1527  04A8  3A 00 00    	ld	a,(_player_max_vita)
1528  04AB  21 00 00    	ld	hl,_player_vita
1529  04AE  96          	sub	a, (hl)
1530  04AF  30 06       	jr	NC,l_player_collision_00108
1531  04B1  3A 00 00    	ld	a,(_player_max_vita)
1532  04B4  32 00 00    	ld	(_player_vita),a
1533  04B7              l_player_collision_00108:
1534  04B7  CD 0B 05    	call	_player_pick_mushroom
1535  04BA  2E 00       	ld	l,0x00
1536  04BC  18 4C       	jr	l_player_collision_00128
1537  04BE              l_player_collision_00110:
1538  04BE  FE 07       	cp	a,0x07
1539  04C0  20 1D       	jr	NZ,l_player_collision_00114
1540  04C2  21 00 00    	ld	hl,_player_mana
1541  04C5  7E          	ld	a, (hl)
1542  04C6  C6 19       	add	a,0x19
1543  04C8  77          	ld	(hl), a
1544  04C9  3A 00 00    	ld	a,(_player_max_mana)
1545  04CC  21 00 00    	ld	hl,_player_mana
1546  04CF  96          	sub	a, (hl)
1547  04D0  30 06       	jr	NC,l_player_collision_00112
1548  04D2  3A 00 00    	ld	a,(_player_max_mana)
1549  04D5  32 00 00    	ld	(_player_mana),a
1550  04D8              l_player_collision_00112:
1551  04D8  CD 0B 05    	call	_player_pick_mushroom
1552  04DB  2E 00       	ld	l,0x00
1553  04DD  18 2B       	jr	l_player_collision_00128
1554  04DF              l_player_collision_00114:
1555  04DF  D6 08       	sub	a,0x08
1556  04E1  20 0A       	jr	NZ,l_player_collision_00116
1557  04E3  CD 25 05    	call	_player_1up
1558  04E6  CD 0B 05    	call	_player_pick_mushroom
1559  04E9  2E 00       	ld	l,0x00
1560  04EB  18 1D       	jr	l_player_collision_00128
1561  04ED              l_player_collision_00116:
1562  04ED  21 00 00    	ld	hl,_ay_effect_06
1563  04F0  CD 00 00    	call	_ay_fx_play
1564  04F3  2E 02       	ld	l,0x02
1565  04F5  CD 00 00    	call	_zx_border_fastcall
1566  04F8  2E 14       	ld	l,0x14
1567  04FA  CD 62 11    	call	_player_hit
1568  04FD  2E 01       	ld	l,0x01
1569  04FF  18 09       	jr	l_player_collision_00128
1570  0501              l_player_collision_00122:
1571  0501  21 00 00    	ld	hl,_sprite
1572  0504  34          	inc	(hl)
1573  0505  C3 2C 04    	jp	l_player_collision_00123
1574  0508              l_player_collision_00127:
1575  0508  2E 00       	ld	l,0x00
1576  050A              l_player_collision_00128:
1577  050A  C9          	ret
1578  050B              	SECTION code_compiler
1579  050B              ;	---------------------------------
1580  050B              ; Function player_pick_mushroom
1581  050B              ; ---------------------------------
1582  050B              _player_pick_mushroom:
1583  050B  21 00 00    	ld	hl,_ay_effect_12
1584  050E  CD 00 00    	call	_ay_fx_play
1585  0511  21 01 00    	ld	hl,0x0001
1586  0514  CD B0 0B    	call	_player_score_add
1587  0517  CD 00 00    	call	_game_update_stats
1588  051A  2A 00 00    	ld	hl,(_sprite)
1589  051D  CD 00 00    	call	_spr_destroy
1590  0520  21 00 00    	ld	hl,_game_mush_count
1591  0523  35          	dec	(hl)
1592  0524  C9          	ret
1593  0525              	SECTION code_compiler
1594  0525              ;	---------------------------------
1595  0525              ; Function player_1up
1596  0525              ; ---------------------------------
1597  0525              _player_1up:
1598  0525  21 00 00    	ld	hl,_player_lives
1599  0528  7E          	ld	a, (hl)
1600  0529  D6 FF       	sub	a,0xff
1601  052B  D0          	ret	NC
1602  052C  34          	inc	(hl)
1603  052D  CD 00 00    	call	_spr_flatten
1604  0530  21 00 00    	ld	hl,___str_0
1605  0533  E5          	push	hl
1606  0534  21 0C 0C    	ld	hl,0x0c0c
1607  0537  E5          	push	hl
1608  0538  CD 00 00    	call	_zx_print_str
1609  053B  AF          	xor	a, a
1610  053C  F5          	push	af
1611  053D  33          	inc	sp
1612  053E  21 19 00    	ld	hl,0x0019
1613  0541  E5          	push	hl
1614  0542  21 0C 15    	ld	hl,0x150c
1615  0545  E5          	push	hl
1616  0546  3E 0C       	ld	a,0x0c
1617  0548  F5          	push	af
1618  0549  33          	inc	sp
1619  054A  CD 00 00    	call	_game_colour_message
1620  054D  F1          	pop	af
1621  054E  F1          	pop	af
1622  054F  F1          	pop	af
1623  0550  CD 00 00    	call	_game_update_stats
1624  0553  C9          	ret
1625  0554              	SECTION rodata_compiler
1626  0000              ___str_0:
1627  0000  31 20 55 50 21 
                        	DEFM "1 UP!"
1628  0005  00          	DEFB 0x00
1629  0006              	SECTION code_compiler
1630  0554              ;	---------------------------------
1631  0554              ; Function player_check_stairs_vertical
1632  0554              ; ---------------------------------
1633  0554              _player_check_stairs_vertical:
1634  0554  CD 00 00    	call	___sdcc_enter_ix
1635  0557  3B          	dec	sp
1636  0558  21 07 00    	ld	hl,+(_col + 0x0007)
1637  055B  4E          	ld	c, (hl)
1638  055C  CB 41       	bit	0, c
1639  055E  20 2F       	jr	NZ,l_player_check_stairs_vertical_00102
1640  0560  3A 07 00    	ld	a,(_lin + 0x0007)
1641  0563  DD 86 04    	add	a,(ix+4)
1642  0566  47          	ld	b, a
1643  0567  79          	ld	a, c
1644  0568  48          	ld	c,b
1645  0569  47          	ld	b,a
1646  056A  C5          	push	bc
1647  056B  CD 00 00    	call	_spr_calc_index
1648  056E  F1          	pop	af
1649  056F  7D          	ld	a,l
1650  0570  32 00 00    	ld	(_sprite_curr_index),a
1651  0573  4F          	ld	c,a
1652  0574  06 00       	ld	b,0x00
1653  0576  21 00 00    	ld	hl,_scr_map
1654  0579  09          	add	hl,bc
1655  057A  7E          	ld	a,(hl)
1656  057B  4F          	ld	c,a
1657  057C  D6 44       	sub	a,0x44
1658  057E  38 05       	jr	C,l_player_check_stairs_vertical_00110
1659  0580  3E 47       	ld	a,0x47
1660  0582  91          	sub	a, c
1661  0583  30 04       	jr	NC,l_player_check_stairs_vertical_00111
1662  0585              l_player_check_stairs_vertical_00110:
1663  0585  1E 00       	ld	e,0x00
1664  0587  18 02       	jr	l_player_check_stairs_vertical_00112
1665  0589              l_player_check_stairs_vertical_00111:
1666  0589  1E 01       	ld	e,0x01
1667  058B              l_player_check_stairs_vertical_00112:
1668  058B  0E 00       	ld	c,0x00
1669  058D  18 57       	jr	l_player_check_stairs_vertical_00103
1670  058F              l_player_check_stairs_vertical_00102:
1671  058F  79          	ld	a, c
1672  0590  DD 96 04    	sub	a,(ix+4)
1673  0593  57          	ld	d, a
1674  0594  01 07 00    	ld	bc,_lin+7
1675  0597  0A          	ld	a, (bc)
1676  0598  DD 86 04    	add	a,(ix+4)
1677  059B  C5          	push	bc
1678  059C  5F          	ld	e,a
1679  059D  D5          	push	de
1680  059E  CD 00 00    	call	_spr_calc_index
1681  05A1  F1          	pop	af
1682  05A2  C1          	pop	bc
1683  05A3  7D          	ld	a,l
1684  05A4  32 00 00    	ld	(_sprite_curr_index),a
1685  05A7  5F          	ld	e,a
1686  05A8  16 00       	ld	d,0x00
1687  05AA  21 00 00    	ld	hl,_scr_map
1688  05AD  19          	add	hl,de
1689  05AE  7E          	ld	a,(hl)
1690  05AF  5F          	ld	e,a
1691  05B0  D6 44       	sub	a,0x44
1692  05B2  38 05       	jr	C,l_player_check_stairs_vertical_00113
1693  05B4  3E 47       	ld	a,0x47
1694  05B6  93          	sub	a, e
1695  05B7  30 04       	jr	NC,l_player_check_stairs_vertical_00114
1696  05B9              l_player_check_stairs_vertical_00113:
1697  05B9  1E 00       	ld	e,0x00
1698  05BB  18 02       	jr	l_player_check_stairs_vertical_00115
1699  05BD              l_player_check_stairs_vertical_00114:
1700  05BD  1E 01       	ld	e,0x01
1701  05BF              l_player_check_stairs_vertical_00115:
1702  05BF  3A 07 00    	ld	a,(_col + 0x0007)
1703  05C2  DD 96 04    	sub	a,(ix+4)
1704  05C5  57          	ld	d, a
1705  05C6  0A          	ld	a, (bc)
1706  05C7  DD 86 04    	add	a,(ix+4)
1707  05CA  D5          	push	de
1708  05CB  5F          	ld	e,a
1709  05CC  D5          	push	de
1710  05CD  CD 00 00    	call	_spr_calc_index
1711  05D0  F1          	pop	af
1712  05D1  D1          	pop	de
1713  05D2  7D          	ld	a,l
1714  05D3  32 00 00    	ld	(_sprite_curr_index),a
1715  05D6  7B          	ld	a, e
1716  05D7  D6 44       	sub	a,0x44
1717  05D9  38 05       	jr	C,l_player_check_stairs_vertical_00116
1718  05DB  3E 47       	ld	a,0x47
1719  05DD  93          	sub	a, e
1720  05DE  30 04       	jr	NC,l_player_check_stairs_vertical_00117
1721  05E0              l_player_check_stairs_vertical_00116:
1722  05E0  0E 00       	ld	c,0x00
1723  05E2  18 02       	jr	l_player_check_stairs_vertical_00118
1724  05E4              l_player_check_stairs_vertical_00117:
1725  05E4  0E 01       	ld	c,0x01
1726  05E6              l_player_check_stairs_vertical_00118:
1727  05E6              l_player_check_stairs_vertical_00103:
1728  05E6  7B          	ld	a, e
1729  05E7  B7          	or	a,a
1730  05E8  20 03       	jr	NZ,l_player_check_stairs_vertical_00104
1731  05EA  B1          	or	a,c
1732  05EB  28 07       	jr	Z,l_player_check_stairs_vertical_00105
1733  05ED              l_player_check_stairs_vertical_00104:
1734  05ED  21 00 00    	ld	hl,_player_onstair
1735  05F0  36 01       	ld	(hl),0x01
1736  05F2  18 05       	jr	l_player_check_stairs_vertical_00108
1737  05F4              l_player_check_stairs_vertical_00105:
1738  05F4  21 00 00    	ld	hl,_player_onstair
1739  05F7  36 00       	ld	(hl),0x00
1740  05F9              l_player_check_stairs_vertical_00108:
1741  05F9  33          	inc	sp
1742  05FA  DD E1       	pop	ix
1743  05FC  C9          	ret
1744  05FD              	SECTION code_compiler
1745  05FD              ;	---------------------------------
1746  05FD              ; Function player_check_stairs
1747  05FD              ; ---------------------------------
1748  05FD              _player_check_stairs:
1749  05FD  CD 00 00    	call	___sdcc_enter_ix
1750  0600  3B          	dec	sp
1751  0601  5D          	ld	e, l
1752  0602  3A 07 00    	ld	a,(_col + 0x0007)
1753  0605  83          	add	a, e
1754  0606  4F          	ld	c, a
1755  0607  21 07 00    	ld	hl,+(_lin + 0x0007)
1756  060A  46          	ld	b, (hl)
1757  060B  D5          	push	de
1758  060C  79          	ld	a, c
1759  060D  48          	ld	c,b
1760  060E  47          	ld	b,a
1761  060F  C5          	push	bc
1762  0610  CD 00 00    	call	_spr_calc_index
1763  0613  F1          	pop	af
1764  0614  D1          	pop	de
1765  0615  7D          	ld	a,l
1766  0616  32 00 00    	ld	(_sprite_curr_index),a
1767  0619  4F          	ld	c,a
1768  061A  06 00       	ld	b,0x00
1769  061C  21 00 00    	ld	hl,_scr_map
1770  061F  09          	add	hl,bc
1771  0620  7E          	ld	a,(hl)
1772  0621  4F          	ld	c,a
1773  0622  D6 44       	sub	a,0x44
1774  0624  38 05       	jr	C,l_player_check_stairs_00111
1775  0626  3E 47       	ld	a,0x47
1776  0628  91          	sub	a, c
1777  0629  30 04       	jr	NC,l_player_check_stairs_00112
1778  062B              l_player_check_stairs_00111:
1779  062B  0E 00       	ld	c,0x00
1780  062D  18 02       	jr	l_player_check_stairs_00113
1781  062F              l_player_check_stairs_00112:
1782  062F  0E 01       	ld	c,0x01
1783  0631              l_player_check_stairs_00113:
1784  0631  3A 07 00    	ld	a,(_col + 0x0007)
1785  0634  83          	add	a, e
1786  0635  57          	ld	d, a
1787  0636  3A 07 00    	ld	a,(_lin + 0x0007)
1788  0639  C6 0F       	add	a,0x0f
1789  063B  47          	ld	b, a
1790  063C  C5          	push	bc
1791  063D  58          	ld	e,b
1792  063E  D5          	push	de
1793  063F  CD 00 00    	call	_spr_calc_index
1794  0642  F1          	pop	af
1795  0643  C1          	pop	bc
1796  0644  7D          	ld	a,l
1797  0645  32 00 00    	ld	(_sprite_curr_index),a
1798  0648  5F          	ld	e,a
1799  0649  16 00       	ld	d,0x00
1800  064B  21 00 00    	ld	hl,_scr_map
1801  064E  19          	add	hl,de
1802  064F  7E          	ld	a,(hl)
1803  0650  47          	ld	b,a
1804  0651  D6 44       	sub	a,0x44
1805  0653  38 05       	jr	C,l_player_check_stairs_00114
1806  0655  3E 47       	ld	a,0x47
1807  0657  90          	sub	a, b
1808  0658  30 04       	jr	NC,l_player_check_stairs_00115
1809  065A              l_player_check_stairs_00114:
1810  065A  06 00       	ld	b,0x00
1811  065C  18 02       	jr	l_player_check_stairs_00116
1812  065E              l_player_check_stairs_00115:
1813  065E  06 01       	ld	b,0x01
1814  0660              l_player_check_stairs_00116:
1815  0660  79          	ld	a, c
1816  0661  B7          	or	a,a
1817  0662  20 03       	jr	NZ,l_player_check_stairs_00105
1818  0664  B0          	or	a,b
1819  0665  28 13       	jr	Z,l_player_check_stairs_00106
1820  0667              l_player_check_stairs_00105:
1821  0667  21 00 00    	ld	hl,_player_onstair
1822  066A  7E          	ld	a, (hl)
1823  066B  B7          	or	a, a
1824  066C  20 1D       	jr	NZ,l_player_check_stairs_00109
1825  066E  36 01       	ld	(hl),0x01
1826  0670  21 72 00    	ld	hl,0x0072
1827  0673  E5          	push	hl
1828  0674  CD 8F 06    	call	_player_tile
1829  0677  F1          	pop	af
1830  0678  18 11       	jr	l_player_check_stairs_00109
1831  067A              l_player_check_stairs_00106:
1832  067A  21 00 00    	ld	hl,_player_onstair
1833  067D  7E          	ld	a, (hl)
1834  067E  B7          	or	a, a
1835  067F  28 0A       	jr	Z,l_player_check_stairs_00109
1836  0681  36 00       	ld	(hl),0x00
1837  0683  21 60 08    	ld	hl,0x0860
1838  0686  E5          	push	hl
1839  0687  CD 8F 06    	call	_player_tile
1840  068A  F1          	pop	af
1841  068B              l_player_check_stairs_00109:
1842  068B  33          	inc	sp
1843  068C  DD E1       	pop	ix
1844  068E  C9          	ret
1845  068F              	SECTION code_compiler
1846  068F              ;	---------------------------------
1847  068F              ; Function player_tile
1848  068F              ; ---------------------------------
1849  068F              _player_tile:
1850  068F  CD 00 00    	call	___sdcc_enter_ix
1851  0692  DD 7E 05    	ld	a,(ix+5)
1852  0695  F5          	push	af
1853  0696  33          	inc	sp
1854  0697  2A FF FF    	ld	hl,(_sprite-1)
1855  069A  DD 6E 04    	ld	l,(ix+4)
1856  069D  E5          	push	hl
1857  069E  CD 00 00    	call	_spr_tile_dir
1858  06A1  F1          	pop	af
1859  06A2  33          	inc	sp
1860  06A3  7D          	ld	a,l
1861  06A4  32 07 00    	ld	((_tile + 0x0007)),a
1862  06A7  DD E1       	pop	ix
1863  06A9  C9          	ret
1864  06AA              	SECTION code_compiler
1865  06AA              ;	---------------------------------
1866  06AA              ; Function player_check_map
1867  06AA              ; ---------------------------------
1868  06AA              _player_check_map:
1869  06AA  21 07 00    	ld	hl,+(_col + 0x0007)
1870  06AD  46          	ld	b, (hl)
1871  06AE  21 07 00    	ld	hl,+(_lin + 0x0007)
1872  06B1  4E          	ld	c, (hl)
1873  06B2  C5          	push	bc
1874  06B3  CD 00 00    	call	_spr_calc_index
1875  06B6  F1          	pop	af
1876  06B7  7D          	ld	a,l
1877  06B8  32 00 00    	ld	(_sprite_curr_index),a
1878  06BB  21 07 00    	ld	hl,+(_col + 0x0007)
1879  06BE  4E          	ld	c, (hl)
1880  06BF  3A 07 00    	ld	a,(_lin + 0x0007)
1881  06C2  E6 0F       	and	a,0x0f
1882  06C4  CB 41       	bit	0, c
1883  06C6  20 17       	jr	NZ,l_player_check_map_00108
1884  06C8  B7          	or	a, a
1885  06C9  20 05       	jr	NZ,l_player_check_map_00102
1886  06CB  CD 0A 07    	call	_player_pick_item
1887  06CE  18 39       	jr	l_player_check_map_00110
1888  06D0              l_player_check_map_00102:
1889  06D0  CD 0A 07    	call	_player_pick_item
1890  06D3  21 00 00    	ld	hl,_sprite_curr_index
1891  06D6  7E          	ld	a, (hl)
1892  06D7  C6 10       	add	a,0x10
1893  06D9  77          	ld	(hl), a
1894  06DA  CD 0A 07    	call	_player_pick_item
1895  06DD  18 2A       	jr	l_player_check_map_00110
1896  06DF              l_player_check_map_00108:
1897  06DF  B7          	or	a, a
1898  06E0  20 0C       	jr	NZ,l_player_check_map_00105
1899  06E2  CD 0A 07    	call	_player_pick_item
1900  06E5  21 00 00    	ld	hl,_sprite_curr_index
1901  06E8  34          	inc	(hl)
1902  06E9  CD 0A 07    	call	_player_pick_item
1903  06EC  18 1B       	jr	l_player_check_map_00110
1904  06EE              l_player_check_map_00105:
1905  06EE  CD 0A 07    	call	_player_pick_item
1906  06F1  21 00 00    	ld	hl,_sprite_curr_index
1907  06F4  34          	inc	(hl)
1908  06F5  CD 0A 07    	call	_player_pick_item
1909  06F8  21 00 00    	ld	hl,_sprite_curr_index
1910  06FB  7E          	ld	a, (hl)
1911  06FC  C6 0F       	add	a,0x0f
1912  06FE  77          	ld	(hl), a
1913  06FF  CD 0A 07    	call	_player_pick_item
1914  0702  21 00 00    	ld	hl,_sprite_curr_index
1915  0705  34          	inc	(hl)
1916  0706  CD 0A 07    	call	_player_pick_item
1917  0709              l_player_check_map_00110:
1918  0709  C9          	ret
1919  070A              	SECTION code_compiler
1920  070A              ;	---------------------------------
1921  070A              ; Function player_pick_item
1922  070A              ; ---------------------------------
1923  070A              _player_pick_item:
1924  070A  CD 00 00    	call	___sdcc_enter_ix
1925  070D  3B          	dec	sp
1926  070E  2A 00 00    	ld	hl,(_sprite_curr_index)
1927  0711  26 00       	ld	h,0x00
1928  0713  01 00 00    	ld	bc,_scr_map
1929  0716  09          	add	hl,bc
1930  0717  7E          	ld	a,(hl)
1931  0718  DD 77 FF    	ld	(ix-1),a
1932  071B  D6 24       	sub	a,0x24
1933  071D  DA D7 08    	jp	C, l_player_pick_item_00131
1934  0720  3E 2F       	ld	a,0x2f
1935  0722  DD 96 FF    	sub	a,(ix-1)
1936  0725  DA D7 08    	jp	C, l_player_pick_item_00131
1937  0728  CD 00 00    	call	_ay_reset
1938  072B  2A 00 00    	ld	hl,(_sprite_curr_index)
1939  072E  26 00       	ld	h,0x00
1940  0730  01 00 00    	ld	bc,_scr_map
1941  0733  09          	add	hl,bc
1942  0734  3A 00 00    	ld	a,(_sprite_curr_index)
1943  0737  5F          	ld	e,a
1944  0738  16 00       	ld	d,0x00
1945  073A  E5          	push	hl
1946  073B  D5          	push	de
1947  073C  CD 00 00    	call	_game_match_back
1948  073F  F1          	pop	af
1949  0740  C1          	pop	bc
1950  0741  7D          	ld	a,l
1951  0742  02          	ld	(bc), a
1952  0743  2A 00 00    	ld	hl,(_sprite_curr_index)
1953  0746  26 00       	ld	h,0x00
1954  0748  CD 00 00    	call	_game_obj_set
1955  074B  3A 00 00    	ld	a,(_sprite_curr_index)
1956  074E  07          	rlca
1957  074F  07          	rlca
1958  0750  07          	rlca
1959  0751  07          	rlca
1960  0752  E6 0F       	and	a,0x0f
1961  0754  07          	rlca
1962  0755  07          	rlca
1963  0756  07          	rlca
1964  0757  07          	rlca
1965  0758  E6 F0       	and	a,0xf0
1966  075A  32 00 00    	ld	(_s_lin1),a
1967  075D  3A 00 00    	ld	a,(_sprite_curr_index)
1968  0760  E6 0F       	and	a,0x0f
1969  0762  87          	add	a, a
1970  0763  32 00 00    	ld	(_s_col1),a
1971  0766  21 00 00    	ld	hl,0x0000
1972  0769  E5          	push	hl
1973  076A  21 84 03    	ld	hl,0x0384
1974  076D  E5          	push	hl
1975  076E  F5          	push	af
1976  076F  33          	inc	sp
1977  0770  3A 00 00    	ld	a,(_s_lin1)
1978  0773  F5          	push	af
1979  0774  33          	inc	sp
1980  0775  CD 00 00    	call	_spr_add_anim
1981  0778  F1          	pop	af
1982  0779  F1          	pop	af
1983  077A  F1          	pop	af
1984  077B  DD 7E FF    	ld	a,(ix-1)
1985  077E  D6 24       	sub	a,0x24
1986  0780  DA D7 08    	jp	C, l_player_pick_item_00131
1987  0783  3E 2F       	ld	a,0x2f
1988  0785  DD 96 FF    	sub	a,(ix-1)
1989  0788  DA D7 08    	jp	C, l_player_pick_item_00131
1990  078B  DD 7E FF    	ld	a,(ix-1)
1991  078E  C6 DC       	add	a,0xdc
1992  0790  4F          	ld	c, a
1993  0791  06 00       	ld	b,0x00
1994  0793  21 9A 07    	ld	hl,l_player_pick_item_00177
1995  0796  09          	add	hl, bc
1996  0797  09          	add	hl, bc
1997  0798  09          	add	hl, bc
1998  0799  E9          	jp	(hl)
1999  079A              l_player_pick_item_00177:
2000  079A  C3 BE 07    	jp	l_player_pick_item_00101
2001  079D  C3 CF 07    	jp	l_player_pick_item_00102
2002  07A0  C3 E0 07    	jp	l_player_pick_item_00103
2003  07A3  C3 F1 07    	jp	l_player_pick_item_00104
2004  07A6  C3 02 08    	jp	l_player_pick_item_00105
2005  07A9  C3 35 08    	jp	l_player_pick_item_00109
2006  07AC  C3 52 08    	jp	l_player_pick_item_00112
2007  07AF  C3 6D 08    	jp	l_player_pick_item_00115
2008  07B2  C3 88 08    	jp	l_player_pick_item_00118
2009  07B5  C3 A3 08    	jp	l_player_pick_item_00121
2010  07B8  C3 BE 08    	jp	l_player_pick_item_00124
2011  07BB  C3 26 08    	jp	l_player_pick_item_00108
2012  07BE              l_player_pick_item_00101:
2013  07BE  21 00 00    	ld	hl,_ay_effect_09
2014  07C1  CD 00 00    	call	_ay_fx_play
2015  07C4  21 00 00    	ld	hl,_player_keys
2016  07C7  36 01       	ld	(hl),0x01
2017  07C9  CD 00 00    	call	_game_update_stats
2018  07CC  C3 D7 08    	jp	l_player_pick_item_00131
2019  07CF              l_player_pick_item_00102:
2020  07CF  21 00 00    	ld	hl,_ay_effect_09
2021  07D2  CD 00 00    	call	_ay_fx_play
2022  07D5  21 01 00    	ld	hl, +(_player_keys + 0x0001)
2023  07D8  36 01       	ld	(hl),0x01
2024  07DA  CD 00 00    	call	_game_update_stats
2025  07DD  C3 D7 08    	jp	l_player_pick_item_00131
2026  07E0              l_player_pick_item_00103:
2027  07E0  21 00 00    	ld	hl,_ay_effect_09
2028  07E3  CD 00 00    	call	_ay_fx_play
2029  07E6  21 02 00    	ld	hl, +(_player_keys + 0x0002)
2030  07E9  36 01       	ld	(hl),0x01
2031  07EB  CD 00 00    	call	_game_update_stats
2032  07EE  C3 D7 08    	jp	l_player_pick_item_00131
2033  07F1              l_player_pick_item_00104:
2034  07F1  21 00 00    	ld	hl,_ay_effect_09
2035  07F4  CD 00 00    	call	_ay_fx_play
2036  07F7  21 03 00    	ld	hl, +(_player_keys + 0x0003)
2037  07FA  36 01       	ld	(hl),0x01
2038  07FC  CD 00 00    	call	_game_update_stats
2039  07FF  C3 D7 08    	jp	l_player_pick_item_00131
2040  0802              l_player_pick_item_00105:
2041  0802  21 00 00    	ld	hl,_ay_effect_10
2042  0805  CD 00 00    	call	_ay_fx_play
2043  0808  21 01 00    	ld	hl,0x0001
2044  080B  CD B0 0B    	call	_player_score_add
2045  080E  21 00 00    	ld	hl,_player_coins
2046  0811  7E          	ld	a,(hl)
2047  0812  3C          	inc	a
2048  0813  77          	ld	(hl),a
2049  0814  D6 64       	sub	a,0x64
2050  0816  20 08       	jr	NZ,l_player_pick_item_00107
2051  0818  CD 25 05    	call	_player_1up
2052  081B  21 00 00    	ld	hl,_player_coins
2053  081E  36 00       	ld	(hl),0x00
2054  0820              l_player_pick_item_00107:
2055  0820  CD 00 00    	call	_game_update_stats
2056  0823  C3 D7 08    	jp	l_player_pick_item_00131
2057  0826              l_player_pick_item_00108:
2058  0826  21 00 00    	ld	hl,_ay_effect_10
2059  0829  CD 00 00    	call	_ay_fx_play
2060  082C  21 0A 00    	ld	hl,0x000a
2061  082F  CD B0 0B    	call	_player_score_add
2062  0832  C3 D7 08    	jp	l_player_pick_item_00131
2063  0835              l_player_pick_item_00109:
2064  0835  21 00 00    	ld	hl,_ay_effect_09
2065  0838  CD 00 00    	call	_ay_fx_play
2066  083B  21 00 00    	ld	hl,_player_str
2067  083E  34          	inc	(hl)
2068  083F  21 00 00    	ld	hl,_player_max_vita
2069  0842  7E          	ld	a, (hl)
2070  0843  D6 C8       	sub	a,0xc8
2071  0845  D2 D7 08    	jp	NC, l_player_pick_item_00131
2072  0848  7E          	ld	a, (hl)
2073  0849  C6 0A       	add	a,0x0a
2074  084B  77          	ld	(hl), a
2075  084C  CD 00 00    	call	_game_update_stats
2076  084F  C3 D7 08    	jp	l_player_pick_item_00131
2077  0852              l_player_pick_item_00112:
2078  0852  21 00 00    	ld	hl,_ay_effect_09
2079  0855  CD 00 00    	call	_ay_fx_play
2080  0858  21 00 00    	ld	hl,_player_str
2081  085B  34          	inc	(hl)
2082  085C  21 00 00    	ld	hl,_player_max_vita
2083  085F  7E          	ld	a, (hl)
2084  0860  D6 C8       	sub	a,0xc8
2085  0862  30 73       	jr	NC,l_player_pick_item_00131
2086  0864  7E          	ld	a, (hl)
2087  0865  C6 0A       	add	a,0x0a
2088  0867  77          	ld	(hl), a
2089  0868  CD 00 00    	call	_game_update_stats
2090  086B  18 6A       	jr	l_player_pick_item_00131
2091  086D              l_player_pick_item_00115:
2092  086D  21 00 00    	ld	hl,_ay_effect_09
2093  0870  CD 00 00    	call	_ay_fx_play
2094  0873  21 00 00    	ld	hl,_player_str
2095  0876  34          	inc	(hl)
2096  0877  21 00 00    	ld	hl,_player_max_vita
2097  087A  7E          	ld	a, (hl)
2098  087B  D6 C8       	sub	a,0xc8
2099  087D  30 58       	jr	NC,l_player_pick_item_00131
2100  087F  7E          	ld	a, (hl)
2101  0880  C6 0A       	add	a,0x0a
2102  0882  77          	ld	(hl), a
2103  0883  CD 00 00    	call	_game_update_stats
2104  0886  18 4F       	jr	l_player_pick_item_00131
2105  0888              l_player_pick_item_00118:
2106  0888  21 00 00    	ld	hl,_ay_effect_09
2107  088B  CD 00 00    	call	_ay_fx_play
2108  088E  21 00 00    	ld	hl,_player_int
2109  0891  34          	inc	(hl)
2110  0892  21 00 00    	ld	hl,_player_max_mana
2111  0895  7E          	ld	a, (hl)
2112  0896  D6 C8       	sub	a,0xc8
2113  0898  30 3D       	jr	NC,l_player_pick_item_00131
2114  089A  7E          	ld	a, (hl)
2115  089B  C6 0A       	add	a,0x0a
2116  089D  77          	ld	(hl), a
2117  089E  CD 00 00    	call	_game_update_stats
2118  08A1  18 34       	jr	l_player_pick_item_00131
2119  08A3              l_player_pick_item_00121:
2120  08A3  21 00 00    	ld	hl,_ay_effect_09
2121  08A6  CD 00 00    	call	_ay_fx_play
2122  08A9  21 00 00    	ld	hl,_player_int
2123  08AC  34          	inc	(hl)
2124  08AD  21 00 00    	ld	hl,_player_max_mana
2125  08B0  7E          	ld	a, (hl)
2126  08B1  D6 C8       	sub	a,0xc8
2127  08B3  30 22       	jr	NC,l_player_pick_item_00131
2128  08B5  7E          	ld	a, (hl)
2129  08B6  C6 0A       	add	a,0x0a
2130  08B8  77          	ld	(hl), a
2131  08B9  CD 00 00    	call	_game_update_stats
2132  08BC  18 19       	jr	l_player_pick_item_00131
2133  08BE              l_player_pick_item_00124:
2134  08BE  21 00 00    	ld	hl,_ay_effect_09
2135  08C1  CD 00 00    	call	_ay_fx_play
2136  08C4  21 00 00    	ld	hl,_player_int
2137  08C7  34          	inc	(hl)
2138  08C8  21 00 00    	ld	hl,_player_max_mana
2139  08CB  7E          	ld	a, (hl)
2140  08CC  D6 C8       	sub	a,0xc8
2141  08CE  30 07       	jr	NC,l_player_pick_item_00131
2142  08D0  7E          	ld	a, (hl)
2143  08D1  C6 0A       	add	a,0x0a
2144  08D3  77          	ld	(hl), a
2145  08D4  CD 00 00    	call	_game_update_stats
2146  08D7              l_player_pick_item_00131:
2147  08D7  33          	inc	sp
2148  08D8  DD E1       	pop	ix
2149  08DA  C9          	ret
2150  08DB              	SECTION code_compiler
2151  08DB              ;	---------------------------------
2152  08DB              ; Function player_hit_platform
2153  08DB              ; ---------------------------------
2154  08DB              _player_hit_platform:
2155  08DB  CD 00 00    	call	___sdcc_enter_ix
2156  08DE  F5          	push	af
2157  08DF  3A 00 00    	ld	a,(_player_hit_lin)
2158  08E2  B7          	or	a, a
2159  08E3  C2 7B 0B    	jp	NZ, l_player_hit_platform_00145
2160  08E6  21 07 00    	ld	hl,+(_lin + 0x0007)
2161  08E9  4E          	ld	c, (hl)
2162  08EA  3E 10       	ld	a,0x10
2163  08EC  91          	sub	a, c
2164  08ED  D2 7B 0B    	jp	NC, l_player_hit_platform_00145
2165  08F0  01 00 00    	ld	bc,_scr_map
2166  08F3  2A 00 00    	ld	hl,(_index1)
2167  08F6  09          	add	hl,bc
2168  08F7  7E          	ld	a,(hl)
2169  08F8  D6 45       	sub	a,0x45
2170  08FA  DA 7B 0B    	jp	C, l_player_hit_platform_00145
2171  08FD  2A 00 00    	ld	hl,(_curr_time)
2172  0900  22 0E 00    	ld	(_spr_timer + 0x000e),hl
2173  0903  2A 07 00    	ld	hl,(_lin + 0x0007)
2174  0906  26 00       	ld	h,0x00
2175  0908  01 F8 FF    	ld	bc,0xfff8
2176  090B  09          	add	hl,bc
2177  090C  EB          	ex	de,hl
2178  090D  06 04       	ld	b,0x04
2179  090F              l_player_hit_platform_00250:
2180  090F  CB 2A       	sra	d
2181  0911  CB 1B       	rr	e
2182  0913  10 FA       	djnz	l_player_hit_platform_00250
2183  0915  7B          	ld	a, e
2184  0916  07          	rlca
2185  0917  07          	rlca
2186  0918  07          	rlca
2187  0919  07          	rlca
2188  091A  E6 F0       	and	a,0xf0
2189  091C  C6 08       	add	a,0x08
2190  091E  32 00 00    	ld	(_player_hit_lin),a
2191  0921  21 07 00    	ld	hl,+(_col + 0x0007)
2192  0924  4E          	ld	c, (hl)
2193  0925  CB 41       	bit	0, c
2194  0927  20 06       	jr	NZ,l_player_hit_platform_00111
2195  0929  21 00 00    	ld	hl,_player_hit_col
2196  092C  71          	ld	(hl), c
2197  092D  18 2D       	jr	l_player_hit_platform_00112
2198  092F              l_player_hit_platform_00111:
2199  092F  21 07 00    	ld	hl,+(_state + 0x0007)
2200  0932  5E          	ld	e, (hl)
2201  0933  41          	ld	b, c
2202  0934  04          	inc	b
2203  0935  0D          	dec	c
2204  0936  CB 5B       	bit	3, e
2205  0938  28 12       	jr	Z,l_player_hit_platform_00108
2206  093A  3A 00 00    	ld	a,(_g_player_hit_right)
2207  093D  B7          	or	a, a
2208  093E  28 06       	jr	Z,l_player_hit_platform_00102
2209  0940  21 00 00    	ld	hl,_player_hit_col
2210  0943  70          	ld	(hl), b
2211  0944  18 16       	jr	l_player_hit_platform_00112
2212  0946              l_player_hit_platform_00102:
2213  0946  21 00 00    	ld	hl,_player_hit_col
2214  0949  71          	ld	(hl), c
2215  094A  18 10       	jr	l_player_hit_platform_00112
2216  094C              l_player_hit_platform_00108:
2217  094C  3A 00 00    	ld	a,(_g_player_hit_left)
2218  094F  B7          	or	a, a
2219  0950  28 06       	jr	Z,l_player_hit_platform_00105
2220  0952  21 00 00    	ld	hl,_player_hit_col
2221  0955  71          	ld	(hl), c
2222  0956  18 04       	jr	l_player_hit_platform_00112
2223  0958              l_player_hit_platform_00105:
2224  0958  21 00 00    	ld	hl,_player_hit_col
2225  095B  70          	ld	(hl), b
2226  095C              l_player_hit_platform_00112:
2227  095C  2A 00 00    	ld	hl,(_index1)
2228  095F  01 00 00    	ld	bc,_scr_map
2229  0962  09          	add	hl,bc
2230  0963  7E          	ld	a,(hl)
2231  0964  FE 4D       	cp	a,0x4d
2232  0966  20 43       	jr	NZ,l_player_hit_platform_00114
2233  0968  E5          	push	hl
2234  0969  2A 00 00    	ld	hl,(_index1)
2235  096C  E5          	push	hl
2236  096D  CD 00 00    	call	_game_match_back
2237  0970  F1          	pop	af
2238  0971  C1          	pop	bc
2239  0972  7D          	ld	a,l
2240  0973  02          	ld	(bc), a
2241  0974  2A 00 00    	ld	hl,(_index1)
2242  0977  CD 00 00    	call	_game_obj_set
2243  097A  21 00 00    	ld	hl,_index1
2244  097D  7E          	ld	a, (hl)
2245  097E  E6 0F       	and	a,0x0f
2246  0980  87          	add	a, a
2247  0981  4F          	ld	c, a
2248  0982  23          	inc	hl
2249  0983  56          	ld	d,(hl)
2250  0984  2B          	dec	hl
2251  0985  7E          	ld	a, (hl)
2252  0986  06 04       	ld	b,0x04
2253  0988              l_player_hit_platform_00256:
2254  0988  CB 3A       	srl	d
2255  098A  1F          	rra
2256  098B  10 FB       	djnz	l_player_hit_platform_00256
2257  098D  07          	rlca
2258  098E  07          	rlca
2259  098F  07          	rlca
2260  0990  07          	rlca
2261  0991  E6 F0       	and	a,0xf0
2262  0993  47          	ld	b, a
2263  0994  21 00 00    	ld	hl,0x0000
2264  0997  E5          	push	hl
2265  0998  21 87 03    	ld	hl,0x0387
2266  099B  E5          	push	hl
2267  099C  79          	ld	a, c
2268  099D  48          	ld	c,b
2269  099E  47          	ld	b,a
2270  099F  C5          	push	bc
2271  09A0  CD 00 00    	call	_spr_add_anim
2272  09A3  F1          	pop	af
2273  09A4  F1          	pop	af
2274  09A5  F1          	pop	af
2275  09A6  2E 01       	ld	l,0x01
2276  09A8  C3 7D 0B    	jp	l_player_hit_platform_00148
2277  09AB              l_player_hit_platform_00114:
2278  09AB  FE 5C       	cp	a,0x5c
2279  09AD  28 05       	jr	Z,l_player_hit_platform_00141
2280  09AF  D6 5D       	sub	a,0x5d
2281  09B1  C2 6C 0B    	jp	NZ,l_player_hit_platform_00142
2282  09B4              l_player_hit_platform_00141:
2283  09B4  21 00 00    	ld	hl,_tmp0
2284  09B7  36 00       	ld	(hl),0x00
2285  09B9  3A 00 00    	ld	a,(_game_boss)
2286  09BC  B7          	or	a, a
2287  09BD  28 0B       	jr	Z,l_player_hit_platform_00174
2288  09BF  3A 00 00    	ld	a,(_game_mush_count)
2289  09C2  B7          	or	a, a
2290  09C3  28 05       	jr	Z,l_player_hit_platform_00174
2291  09C5  2E 00       	ld	l,0x00
2292  09C7  C3 7D 0B    	jp	l_player_hit_platform_00148
2293  09CA              l_player_hit_platform_00174:
2294  09CA              l_player_hit_platform_00138:
2295  09CA  21 00 00    	ld	hl,_tmp0
2296  09CD  7E          	ld	a, (hl)
2297  09CE  D6 07       	sub	a,0x07
2298  09D0  D2 6C 0B    	jp	NC, l_player_hit_platform_00142
2299  09D3  4E          	ld	c,(hl)
2300  09D4  06 00       	ld	b,0x00
2301  09D6  21 00 00    	ld	hl,_mush_index
2302  09D9  09          	add	hl,bc
2303  09DA  4E          	ld	c, (hl)
2304  09DB  06 00       	ld	b,0x00
2305  09DD  2A 00 00    	ld	hl,(_index1)
2306  09E0  AF          	xor	a,a
2307  09E1  ED 42       	sbc	hl,bc
2308  09E3  C2 65 0B    	jp	NZ,l_player_hit_platform_00137
2309  09E6  3A 07 00    	ld	a,(_lin + 0x0007)
2310  09E9  07          	rlca
2311  09EA  07          	rlca
2312  09EB  07          	rlca
2313  09EC  07          	rlca
2314  09ED  E6 0F       	and	a,0x0f
2315  09EF  07          	rlca
2316  09F0  07          	rlca
2317  09F1  07          	rlca
2318  09F2  07          	rlca
2319  09F3  E6 F0       	and	a,0xf0
2320  09F5  C6 E0       	add	a,0xe0
2321  09F7  32 00 00    	ld	(_s_lin1),a
2322  09FA  3A 07 00    	ld	a,(_col + 0x0007)
2323  09FD  CB 3F       	srl	a
2324  09FF  87          	add	a, a
2325  0A00  32 00 00    	ld	(_s_col1),a
2326  0A03  21 00 00    	ld	hl,_tmp
2327  0A06  36 00       	ld	(hl),0x00
2328  0A08              l_player_hit_platform_00120:
2329  0A08  21 00 00    	ld	hl,_tmp
2330  0A0B  7E          	ld	a, (hl)
2331  0A0C  D6 07       	sub	a,0x07
2332  0A0E  30 1C       	jr	NC,l_player_hit_platform_00122
2333  0A10  4E          	ld	c,(hl)
2334  0A11  06 00       	ld	b,0x00
2335  0A13  21 00 00    	ld	hl,_mush_index
2336  0A16  09          	add	hl,bc
2337  0A17  4E          	ld	c, (hl)
2338  0A18  06 00       	ld	b,0x00
2339  0A1A  21 00 00    	ld	hl,_index1
2340  0A1D  7E          	ld	a, (hl)
2341  0A1E  91          	sub	a, c
2342  0A1F  20 05       	jr	NZ,l_player_hit_platform_00262
2343  0A21  23          	inc	hl
2344  0A22  7E          	ld	a, (hl)
2345  0A23  90          	sub	a, b
2346  0A24  28 06       	jr	Z,l_player_hit_platform_00122
2347  0A26              l_player_hit_platform_00262:
2348  0A26  21 00 00    	ld	hl,_tmp
2349  0A29  34          	inc	(hl)
2350  0A2A  18 DC       	jr	l_player_hit_platform_00120
2351  0A2C              l_player_hit_platform_00122:
2352  0A2C  21 00 00    	ld	hl,_ay_effect_07
2353  0A2F  CD 00 00    	call	_ay_fx_play
2354  0A32  2A 00 00    	ld	hl,(_tmp)
2355  0A35  26 00       	ld	h,0x00
2356  0A37  01 00 00    	ld	bc,_mush_class
2357  0A3A  09          	add	hl,bc
2358  0A3B  7E          	ld	a,(hl)
2359  0A3C  FE 78       	cp	a,0x78
2360  0A3E  28 18       	jr	Z,l_player_hit_platform_00123
2361  0A40  FE 79       	cp	a,0x79
2362  0A42  28 2F       	jr	Z,l_player_hit_platform_00124
2363  0A44  FE 7A       	cp	a,0x7a
2364  0A46  28 5F       	jr	Z,l_player_hit_platform_00126
2365  0A48  FE 7B       	cp	a,0x7b
2366  0A4A  28 41       	jr	Z,l_player_hit_platform_00125
2367  0A4C  FE 7C       	cp	a,0x7c
2368  0A4E  CA DB 0A    	jp	Z,l_player_hit_platform_00128
2369  0A51  D6 7D       	sub	a,0x7d
2370  0A53  28 6C       	jr	Z,l_player_hit_platform_00127
2371  0A55  C3 F3 0A    	jp	l_player_hit_platform_00129
2372  0A58              l_player_hit_platform_00123:
2373  0A58  2E 02       	ld	l,0x02
2374  0A5A  CD 00 00    	call	_zx_border_fastcall
2375  0A5D  3A 00 00    	ld	a,(_s_col1)
2376  0A60  21 06 FF    	ld	hl,0xff06
2377  0A63  E5          	push	hl
2378  0A64  F5          	push	af
2379  0A65  33          	inc	sp
2380  0A66  3A 00 00    	ld	a,(_s_lin1)
2381  0A69  F5          	push	af
2382  0A6A  33          	inc	sp
2383  0A6B  CD 00 00    	call	_enemy_init
2384  0A6E  F1          	pop	af
2385  0A6F  F1          	pop	af
2386  0A70  C3 F3 0A    	jp	l_player_hit_platform_00129
2387  0A73              l_player_hit_platform_00124:
2388  0A73  2E 02       	ld	l,0x02
2389  0A75  CD 00 00    	call	_zx_border_fastcall
2390  0A78  3A 00 00    	ld	a,(_s_col1)
2391  0A7B  21 06 01    	ld	hl,0x0106
2392  0A7E  E5          	push	hl
2393  0A7F  F5          	push	af
2394  0A80  33          	inc	sp
2395  0A81  3A 00 00    	ld	a,(_s_lin1)
2396  0A84  F5          	push	af
2397  0A85  33          	inc	sp
2398  0A86  CD 00 00    	call	_enemy_init
2399  0A89  F1          	pop	af
2400  0A8A  F1          	pop	af
2401  0A8B  18 66       	jr	l_player_hit_platform_00129
2402  0A8D              l_player_hit_platform_00125:
2403  0A8D  2E 01       	ld	l,0x01
2404  0A8F  CD 00 00    	call	_zx_border_fastcall
2405  0A92  3A 00 00    	ld	a,(_s_col1)
2406  0A95  21 07 01    	ld	hl,0x0107
2407  0A98  E5          	push	hl
2408  0A99  F5          	push	af
2409  0A9A  33          	inc	sp
2410  0A9B  3A 00 00    	ld	a,(_s_lin1)
2411  0A9E  F5          	push	af
2412  0A9F  33          	inc	sp
2413  0AA0  CD 00 00    	call	_enemy_init
2414  0AA3  F1          	pop	af
2415  0AA4  F1          	pop	af
2416  0AA5  18 4C       	jr	l_player_hit_platform_00129
2417  0AA7              l_player_hit_platform_00126:
2418  0AA7  2E 01       	ld	l,0x01
2419  0AA9  CD 00 00    	call	_zx_border_fastcall
2420  0AAC  3A 00 00    	ld	a,(_s_col1)
2421  0AAF  21 07 FF    	ld	hl,0xff07
2422  0AB2  E5          	push	hl
2423  0AB3  F5          	push	af
2424  0AB4  33          	inc	sp
2425  0AB5  3A 00 00    	ld	a,(_s_lin1)
2426  0AB8  F5          	push	af
2427  0AB9  33          	inc	sp
2428  0ABA  CD 00 00    	call	_enemy_init
2429  0ABD  F1          	pop	af
2430  0ABE  F1          	pop	af
2431  0ABF  18 32       	jr	l_player_hit_platform_00129
2432  0AC1              l_player_hit_platform_00127:
2433  0AC1  2E 04       	ld	l,0x04
2434  0AC3  CD 00 00    	call	_zx_border_fastcall
2435  0AC6  3A 00 00    	ld	a,(_s_col1)
2436  0AC9  21 08 01    	ld	hl,0x0108
2437  0ACC  E5          	push	hl
2438  0ACD  F5          	push	af
2439  0ACE  33          	inc	sp
2440  0ACF  3A 00 00    	ld	a,(_s_lin1)
2441  0AD2  F5          	push	af
2442  0AD3  33          	inc	sp
2443  0AD4  CD 00 00    	call	_enemy_init
2444  0AD7  F1          	pop	af
2445  0AD8  F1          	pop	af
2446  0AD9  18 18       	jr	l_player_hit_platform_00129
2447  0ADB              l_player_hit_platform_00128:
2448  0ADB  2E 04       	ld	l,0x04
2449  0ADD  CD 00 00    	call	_zx_border_fastcall
2450  0AE0  3A 00 00    	ld	a,(_s_col1)
2451  0AE3  21 08 FF    	ld	hl,0xff08
2452  0AE6  E5          	push	hl
2453  0AE7  F5          	push	af
2454  0AE8  33          	inc	sp
2455  0AE9  3A 00 00    	ld	a,(_s_lin1)
2456  0AEC  F5          	push	af
2457  0AED  33          	inc	sp
2458  0AEE  CD 00 00    	call	_enemy_init
2459  0AF1  F1          	pop	af
2460  0AF2  F1          	pop	af
2461  0AF3              l_player_hit_platform_00129:
2462  0AF3  21 00 00    	ld	hl,_game_mush_count
2463  0AF6  34          	inc	(hl)
2464  0AF7  3A 00 00    	ld	a,(_game_boss)
2465  0AFA  B7          	or	a, a
2466  0AFB  20 68       	jr	NZ,l_player_hit_platform_00137
2467  0AFD  3A 00 00    	ld	a,(_index1)
2468  0B00  C6 F0       	add	a,0xf0
2469  0B02  32 00 00    	ld	(_index0),a
2470  0B05  3A 01 00    	ld	a,(_index1 + 1)
2471  0B08  CE FF       	adc	a,0xff
2472  0B0A  21 01 00    	ld	hl,_index0 + 1
2473  0B0D  77          	ld	(hl), a
2474  0B0E  3E 00       	ld	a, +((_scr_map) & 0xFF)
2475  0B10  2B          	dec	hl
2476  0B11  86          	add	a, (hl)
2477  0B12  4F          	ld	c, a
2478  0B13  3E 00       	ld	a, +((_scr_map) / 256)
2479  0B15  23          	inc	hl
2480  0B16  8E          	adc	a, (hl)
2481  0B17  47          	ld	b, a
2482  0B18  C5          	push	bc
2483  0B19  46          	ld	b,(hl)
2484  0B1A  2B          	dec	hl
2485  0B1B  4E          	ld	c,(hl)
2486  0B1C  C5          	push	bc
2487  0B1D  CD 00 00    	call	_game_match_back
2488  0B20  F1          	pop	af
2489  0B21  C1          	pop	bc
2490  0B22  7D          	ld	a,l
2491  0B23  02          	ld	(bc), a
2492  0B24  3E 00       	ld	a, +((_scr_map) & 0xFF)
2493  0B26  21 00 00    	ld	hl,_index1
2494  0B29  86          	add	a, (hl)
2495  0B2A  DD 77 FE    	ld	(ix-2),a
2496  0B2D  3E 00       	ld	a, +((_scr_map) / 256)
2497  0B2F  23          	inc	hl
2498  0B30  8E          	adc	a, (hl)
2499  0B31  DD 77 FF    	ld	(ix-1),a
2500  0B34  E1          	pop	hl
2501  0B35  7E          	ld	a,(hl)
2502  0B36  E5          	push	hl
2503  0B37  FE 5C       	cp	a,0x5c
2504  0B39  28 04       	jr	Z,l_player_hit_platform_00130
2505  0B3B  D6 5D       	sub	a,0x5d
2506  0B3D  20 06       	jr	NZ,l_player_hit_platform_00131
2507  0B3F              l_player_hit_platform_00130:
2508  0B3F  E1          	pop	hl
2509  0B40  E5          	push	hl
2510  0B41  36 4F       	ld	(hl),0x4f
2511  0B43  18 04       	jr	l_player_hit_platform_00132
2512  0B45              l_player_hit_platform_00131:
2513  0B45  E1          	pop	hl
2514  0B46  E5          	push	hl
2515  0B47  36 54       	ld	(hl),0x54
2516  0B49              l_player_hit_platform_00132:
2517  0B49  2A 00 00    	ld	hl,(_index1)
2518  0B4C  01 F0 FF    	ld	bc,0xfff0
2519  0B4F  09          	add	hl,bc
2520  0B50  CD 00 00    	call	_game_obj_set
2521  0B53  3A 00 00    	ld	a,(_s_lin1)
2522  0B56  C6 10       	add	a,0x10
2523  0B58  4F          	ld	c, a
2524  0B59  3A 00 00    	ld	a, (_s_col1)
2525  0B5C  47          	ld	b,a
2526  0B5D  C5          	push	bc
2527  0B5E  3E 4F       	ld	a,0x4f
2528  0B60  F5          	push	af
2529  0B61  33          	inc	sp
2530  0B62  CD 00 00    	call	_NIRVANAP_drawT_callee
2531  0B65              l_player_hit_platform_00137:
2532  0B65  21 00 00    	ld	hl,_tmp0
2533  0B68  34          	inc	(hl)
2534  0B69  C3 CA 09    	jp	l_player_hit_platform_00138
2535  0B6C              l_player_hit_platform_00142:
2536  0B6C  21 00 00    	ld	hl,_ay_effect_02
2537  0B6F  CD 00 00    	call	_ay_fx_play
2538  0B72  2E 01       	ld	l,0x01
2539  0B74  CD 00 00    	call	_spr_brick_anim
2540  0B77  2E 01       	ld	l,0x01
2541  0B79  18 02       	jr	l_player_hit_platform_00148
2542  0B7B              l_player_hit_platform_00145:
2543  0B7B  2E 00       	ld	l,0x00
2544  0B7D              l_player_hit_platform_00148:
2545  0B7D  F1          	pop	af
2546  0B7E  DD E1       	pop	ix
2547  0B80  C9          	ret
2548  0B81              	SECTION code_compiler
2549  0B81              ;	---------------------------------
2550  0B81              ; Function player_hit_platform_clear
2551  0B81              ; ---------------------------------
2552  0B81              _player_hit_platform_clear:
2553  0B81  01 04 00    	ld	bc,0x0004
2554  0B84  C5          	push	bc
2555  0B85  2A 0E 00    	ld	hl,(_spr_timer + 0x000e)
2556  0B88  E5          	push	hl
2557  0B89  CD 00 00    	call	_game_check_time
2558  0B8C  F1          	pop	af
2559  0B8D  F1          	pop	af
2560  0B8E  7D          	ld	a, l
2561  0B8F  B7          	or	a, a
2562  0B90  C8          	ret	Z
2563  0B91  2A FF FF    	ld	hl,(_player_hit_col - 1)
2564  0B94  3A 00 00    	ld	a,(_player_hit_lin)
2565  0B97  6F          	ld	l,a
2566  0B98  E5          	push	hl
2567  0B99  CD 00 00    	call	_spr_calc_index
2568  0B9C  F1          	pop	af
2569  0B9D  22 00 00    	ld	(_index1),hl
2570  0BA0  2E 00       	ld	l,0x00
2571  0BA2  CD 00 00    	call	_spr_brick_anim
2572  0BA5  21 00 00    	ld	hl,_player_hit_lin
2573  0BA8  36 00       	ld	(hl),0x00
2574  0BAA  21 00 00    	ld	hl,_player_hit_col
2575  0BAD  36 00       	ld	(hl),0x00
2576  0BAF  C9          	ret
2577  0BB0              	SECTION code_compiler
2578  0BB0              ;	---------------------------------
2579  0BB0              ; Function player_score_add
2580  0BB0              ; ---------------------------------
2581  0BB0              _player_score_add:
2582  0BB0  ED 4B 00 00 	ld	bc,(_player_score)
2583  0BB4  09          	add	hl,bc
2584  0BB5  22 00 00    	ld	(_player_score),hl
2585  0BB8  21 00 00    	ld	hl,_player_lvl
2586  0BBB  7E          	ld	a, (hl)
2587  0BBC  D6 14       	sub	a,0x14
2588  0BBE  30 3F       	jr	NC,l_player_score_add_00104
2589  0BC0  01 00 00    	ld	bc,_player_lvl_table+0
2590  0BC3  6E          	ld	l,(hl)
2591  0BC4  26 00       	ld	h,0x00
2592  0BC6  29          	add	hl, hl
2593  0BC7  09          	add	hl, bc
2594  0BC8  4E          	ld	c, (hl)
2595  0BC9  23          	inc	hl
2596  0BCA  46          	ld	b, (hl)
2597  0BCB  21 00 00    	ld	hl,_player_score
2598  0BCE  7E          	ld	a, (hl)
2599  0BCF  91          	sub	a, c
2600  0BD0  23          	inc	hl
2601  0BD1  7E          	ld	a, (hl)
2602  0BD2  98          	sbc	a, b
2603  0BD3  38 2A       	jr	C,l_player_score_add_00104
2604  0BD5  21 00 00    	ld	hl,_player_lvl
2605  0BD8  34          	inc	(hl)
2606  0BD9  CD 00 00    	call	_game_update_stats
2607  0BDC  CD 00 00    	call	_spr_flatten
2608  0BDF  21 06 00    	ld	hl,___str_1
2609  0BE2  E5          	push	hl
2610  0BE3  21 0C 0C    	ld	hl,0x0c0c
2611  0BE6  E5          	push	hl
2612  0BE7  CD 00 00    	call	_zx_print_str
2613  0BEA  AF          	xor	a, a
2614  0BEB  F5          	push	af
2615  0BEC  33          	inc	sp
2616  0BED  21 3C 00    	ld	hl,0x003c
2617  0BF0  E5          	push	hl
2618  0BF1  21 0C 15    	ld	hl,0x150c
2619  0BF4  E5          	push	hl
2620  0BF5  3E 0C       	ld	a,0x0c
2621  0BF7  F5          	push	af
2622  0BF8  33          	inc	sp
2623  0BF9  CD 00 00    	call	_game_colour_message
2624  0BFC  F1          	pop	af
2625  0BFD  F1          	pop	af
2626  0BFE  F1          	pop	af
2627  0BFF              l_player_score_add_00104:
2628  0BFF  3A 00 00    	ld	a,(_game_score_top)
2629  0C02  21 00 00    	ld	hl,_player_score
2630  0C05  96          	sub	a, (hl)
2631  0C06  3A 01 00    	ld	a,(_game_score_top + 1)
2632  0C09  23          	inc	hl
2633  0C0A  9E          	sbc	a, (hl)
2634  0C0B  30 06       	jr	NC,l_player_score_add_00106
2635  0C0D  2A 00 00    	ld	hl,(_player_score)
2636  0C10  22 00 00    	ld	(_game_score_top),hl
2637  0C13              l_player_score_add_00106:
2638  0C13  CD 00 00    	call	_game_print_score
2639  0C16  C9          	ret
2640  0C17              	SECTION rodata_compiler
2641  0006              ___str_1:
2642  0006  4C 45 56 45 4C 20 55 50 21 
                        	DEFM "LEVEL UP!"
2643  000F  00          	DEFB 0x00
2644  0010              	SECTION code_compiler
2645  0C17              ;	---------------------------------
2646  0C17              ; Function player_check_floor
2647  0C17              ; ---------------------------------
2648  0C17              _player_check_floor:
2649  0C17  CD 00 00    	call	___sdcc_enter_ix
2650  0C1A  F5          	push	af
2651  0C1B  F5          	push	af
2652  0C1C  F5          	push	af
2653  0C1D  11 07 00    	ld	de,_col+7
2654  0C20  1A          	ld	a, (de)
2655  0C21  47          	ld	b, a
2656  0C22  3A 07 00    	ld	a,(_lin + 0x0007)
2657  0C25  C6 10       	add	a,0x10
2658  0C27  D5          	push	de
2659  0C28  4F          	ld	c,a
2660  0C29  C5          	push	bc
2661  0C2A  CD 00 00    	call	_spr_calc_index
2662  0C2D  F1          	pop	af
2663  0C2E  D1          	pop	de
2664  0C2F  DD 75 FC    	ld	(ix-4),l
2665  0C32  DD 74 FD    	ld	(ix-3),h
2666  0C35  01 00 00    	ld	bc,_scr_map+0
2667  0C38  79          	ld	a, c
2668  0C39  DD 86 FC    	add	a,(ix-4)
2669  0C3C  DD 77 FE    	ld	(ix-2),a
2670  0C3F  78          	ld	a, b
2671  0C40  DD 8E FD    	adc	a,(ix-3)
2672  0C43  DD 6E FE    	ld	l,(ix-2)
2673  0C46  DD 77 FF    	ld	(ix-1),a
2674  0C49  67          	ld	h,a
2675  0C4A  7E          	ld	a, (hl)
2676  0C4B  DD 77 FB    	ld	(ix-5),a
2677  0C4E  DD 6E FC    	ld	l,(ix-4)
2678  0C51  DD 66 FD    	ld	h,(ix-3)
2679  0C54  23          	inc	hl
2680  0C55  09          	add	hl,bc
2681  0C56  3A 00 00    	ld	a,(_s_lin0)
2682  0C59  D6 90       	sub	a,0x90
2683  0C5B  4D          	ld	c,l
2684  0C5C  44          	ld	b,h
2685  0C5D  20 26       	jr	NZ,l_player_check_floor_00108
2686  0C5F  3A 00 00    	ld	a,(_map_heigth)
2687  0C62  C5          	push	bc
2688  0C63  F5          	push	af
2689  0C64  33          	inc	sp
2690  0C65  3A 00 00    	ld	a,(_scr_curr)
2691  0C68  F5          	push	af
2692  0C69  33          	inc	sp
2693  0C6A  CD 00 00    	call	__divuchar_callee
2694  0C6D  C1          	pop	bc
2695  0C6E  7D          	ld	a,l
2696  0C6F  3C          	inc	a
2697  0C70  32 00 00    	ld	(_tmp1),a
2698  0C73  21 00 00    	ld	hl,_map_heigth
2699  0C76  96          	sub	a, (hl)
2700  0C77  30 06       	jr	NC,l_player_check_floor_00102
2701  0C79  DD 36 FB 00 	ld	(ix-5),0x00
2702  0C7D  18 14       	jr	l_player_check_floor_00109
2703  0C7F              l_player_check_floor_00102:
2704  0C7F  DD 36 FB 48 	ld	(ix-5),0x48
2705  0C83  18 0E       	jr	l_player_check_floor_00109
2706  0C85              l_player_check_floor_00108:
2707  0C85  1A          	ld	a, (de)
2708  0C86  0F          	rrca
2709  0C87  38 06       	jr	C,l_player_check_floor_00105
2710  0C89  DD 36 FA 00 	ld	(ix-6),0x00
2711  0C8D  18 04       	jr	l_player_check_floor_00109
2712  0C8F              l_player_check_floor_00105:
2713  0C8F  0A          	ld	a, (bc)
2714  0C90  DD 77 FA    	ld	(ix-6),a
2715  0C93              l_player_check_floor_00109:
2716  0C93  DD 7E FB    	ld	a,(ix-5)
2717  0C96  D6 3A       	sub	a,0x3a
2718  0C98  38 07       	jr	C,l_player_check_floor_00132
2719  0C9A  DD 7E FB    	ld	a,(ix-5)
2720  0C9D  D6 60       	sub	a,0x60
2721  0C9F  38 32       	jr	C,l_player_check_floor_00128
2722  0CA1              l_player_check_floor_00132:
2723  0CA1  DD 7E FA    	ld	a,(ix-6)
2724  0CA4  D6 3A       	sub	a,0x3a
2725  0CA6  38 07       	jr	C,l_player_check_floor_00127
2726  0CA8  DD 7E FA    	ld	a,(ix-6)
2727  0CAB  D6 60       	sub	a,0x60
2728  0CAD  38 24       	jr	C,l_player_check_floor_00128
2729  0CAF              l_player_check_floor_00127:
2730  0CAF  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
2731  0CB2  36 02       	ld	(hl),0x02
2732  0CB4  21 00 00    	ld	hl,_s_state
2733  0CB7  CB CE       	set	1, (hl)
2734  0CB9  2E 00       	ld	l,0x00
2735  0CBB  CD FD 05    	call	_player_check_stairs
2736  0CBE  3A 00 00    	ld	a,(_player_onstair)
2737  0CC1  B7          	or	a, a
2738  0CC2  C2 6D 0D    	jp	NZ, l_player_check_floor_00133
2739  0CC5  3A 00 00    	ld	a,(_s_lin0)
2740  0CC8  D6 90       	sub	a,0x90
2741  0CCA  C2 6D 0D    	jp	NZ,l_player_check_floor_00133
2742  0CCD  CD 00 00    	call	_spr_page_down
2743  0CD0  C3 6D 0D    	jp	l_player_check_floor_00133
2744  0CD3              l_player_check_floor_00128:
2745  0CD3  C5          	push	bc
2746  0CD4  21 10 00    	ld	hl,0x0010
2747  0CD7  E5          	push	hl
2748  0CD8  2A 00 00    	ld	hl,(_player_brick_time)
2749  0CDB  E5          	push	hl
2750  0CDC  CD 00 00    	call	_game_check_time
2751  0CDF  F1          	pop	af
2752  0CE0  F1          	pop	af
2753  0CE1  C1          	pop	bc
2754  0CE2  7D          	ld	a,l
2755  0CE3  B7          	or	a, a
2756  0CE4  CA 6D 0D    	jp	Z, l_player_check_floor_00133
2757  0CE7  2A 00 00    	ld	hl,(_curr_time)
2758  0CEA  22 00 00    	ld	(_player_brick_time),hl
2759  0CED  DD 7E FB    	ld	a,(ix-5)
2760  0CF0  D6 40       	sub	a,0x40
2761  0CF2  20 1A       	jr	NZ,l_player_check_floor_00114
2762  0CF4  C5          	push	bc
2763  0CF5  DD 6E FC    	ld	l,(ix-4)
2764  0CF8  DD 66 FD    	ld	h,(ix-3)
2765  0CFB  E5          	push	hl
2766  0CFC  CD 00 00    	call	_game_match_back
2767  0CFF  F1          	pop	af
2768  0D00  C1          	pop	bc
2769  0D01  5D          	ld	e,l
2770  0D02  DD 6E FE    	ld	l,(ix-2)
2771  0D05  DD 66 FF    	ld	h,(ix-1)
2772  0D08  73          	ld	(hl), e
2773  0D09  C5          	push	bc
2774  0D0A  CD 72 0D    	call	_player_gasta_brick
2775  0D0D  C1          	pop	bc
2776  0D0E              l_player_check_floor_00114:
2777  0D0E  DD 7E FB    	ld	a,(ix-5)
2778  0D11  D6 3F       	sub	a,0x3f
2779  0D13  20 0D       	jr	NZ,l_player_check_floor_00116
2780  0D15  DD 6E FE    	ld	l,(ix-2)
2781  0D18  DD 66 FF    	ld	h,(ix-1)
2782  0D1B  36 40       	ld	(hl),0x40
2783  0D1D  C5          	push	bc
2784  0D1E  CD 72 0D    	call	_player_gasta_brick
2785  0D21  C1          	pop	bc
2786  0D22              l_player_check_floor_00116:
2787  0D22  DD 7E FB    	ld	a,(ix-5)
2788  0D25  D6 3E       	sub	a,0x3e
2789  0D27  20 0D       	jr	NZ,l_player_check_floor_00118
2790  0D29  DD 6E FE    	ld	l,(ix-2)
2791  0D2C  DD 66 FF    	ld	h,(ix-1)
2792  0D2F  36 3F       	ld	(hl),0x3f
2793  0D31  C5          	push	bc
2794  0D32  CD 72 0D    	call	_player_gasta_brick
2795  0D35  C1          	pop	bc
2796  0D36              l_player_check_floor_00118:
2797  0D36  DD 7E FA    	ld	a,(ix-6)
2798  0D39  D6 40       	sub	a,0x40
2799  0D3B  20 14       	jr	NZ,l_player_check_floor_00120
2800  0D3D  C5          	push	bc
2801  0D3E  DD 6E FC    	ld	l,(ix-4)
2802  0D41  DD 66 FD    	ld	h,(ix-3)
2803  0D44  E5          	push	hl
2804  0D45  CD 00 00    	call	_game_match_back
2805  0D48  F1          	pop	af
2806  0D49  C1          	pop	bc
2807  0D4A  7D          	ld	a,l
2808  0D4B  02          	ld	(bc), a
2809  0D4C  C5          	push	bc
2810  0D4D  CD 72 0D    	call	_player_gasta_brick
2811  0D50  C1          	pop	bc
2812  0D51              l_player_check_floor_00120:
2813  0D51  DD 7E FA    	ld	a,(ix-6)
2814  0D54  D6 3F       	sub	a,0x3f
2815  0D56  20 08       	jr	NZ,l_player_check_floor_00122
2816  0D58  3E 40       	ld	a,0x40
2817  0D5A  02          	ld	(bc), a
2818  0D5B  C5          	push	bc
2819  0D5C  CD 72 0D    	call	_player_gasta_brick
2820  0D5F  C1          	pop	bc
2821  0D60              l_player_check_floor_00122:
2822  0D60  DD 7E FA    	ld	a,(ix-6)
2823  0D63  D6 3E       	sub	a,0x3e
2824  0D65  20 06       	jr	NZ,l_player_check_floor_00133
2825  0D67  3E 3F       	ld	a,0x3f
2826  0D69  02          	ld	(bc), a
2827  0D6A  CD 72 0D    	call	_player_gasta_brick
2828  0D6D              l_player_check_floor_00133:
2829  0D6D  DD F9       	ld	sp, ix
2830  0D6F  DD E1       	pop	ix
2831  0D71  C9          	ret
2832  0D72              	SECTION code_compiler
2833  0D72              ;	---------------------------------
2834  0D72              ; Function player_gasta_brick
2835  0D72              ; ---------------------------------
2836  0D72              _player_gasta_brick:
2837  0D72  3A 00 00    	ld	a,(_s_lin0)
2838  0D75  32 00 00    	ld	(_s_lin1),a
2839  0D78  3A 00 00    	ld	a,(_s_col0)
2840  0D7B  32 00 00    	ld	(_s_col1),a
2841  0D7E  3A 07 00    	ld	a,(_lin + 0x0007)
2842  0D81  C6 10       	add	a,0x10
2843  0D83  32 00 00    	ld	(_s_lin0),a
2844  0D86  3A 07 00    	ld	a,(_col + 0x0007)
2845  0D89  32 00 00    	ld	(_s_col0),a
2846  0D8C  CD 00 00    	call	_spr_back_repaint
2847  0D8F  3A 00 00    	ld	a,(_s_lin1)
2848  0D92  32 00 00    	ld	(_s_lin0),a
2849  0D95  3A 00 00    	ld	a,(_s_col1)
2850  0D98  32 00 00    	ld	(_s_col0),a
2851  0D9B  C9          	ret
2852  0D9C              	SECTION code_compiler
2853  0D9C              ;	---------------------------------
2854  0D9C              ; Function player_move_jump
2855  0D9C              ; ---------------------------------
2856  0D9C              _player_move_jump:
2857  0D9C  21 00 00    	ld	hl,_game_gravity
2858  0D9F  4E          	ld	c, (hl)
2859  0DA0  21 00 00    	ld	hl,_player_vel_y
2860  0DA3  7E          	ld	a, (hl)
2861  0DA4  81          	add	a, c
2862  0DA5  77          	ld	(hl), a
2863  0DA6  21 00 00    	ld	hl,_sprite_on_air
2864  0DA9  36 01       	ld	(hl),0x01
2865  0DAB  3A 00 00    	ld	a,(_player_vel_inc)
2866  0DAE  B7          	or	a, a
2867  0DAF  28 4A       	jr	Z,l_player_move_jump_00109
2868  0DB1  3A 00 00    	ld	a,(_dirs)
2869  0DB4  CB 07       	rlc	a
2870  0DB6  E6 01       	and	a,0x01
2871  0DB8  4F          	ld	c, a
2872  0DB9  3A 00 00    	ld	a,(_game_2buttons)
2873  0DBC  B7          	or	a, a
2874  0DBD  28 06       	jr	Z,l_player_move_jump_00102
2875  0DBF  79          	ld	a, c
2876  0DC0  EE 01       	xor	a,0x01
2877  0DC2  4F          	ld	c, a
2878  0DC3  18 15       	jr	l_player_move_jump_00103
2879  0DC5              l_player_move_jump_00102:
2880  0DC5  CB 41       	bit	0, c
2881  0DC7  28 07       	jr	Z,l_player_move_jump_00154
2882  0DC9  21 00 00    	ld	hl,_dirs
2883  0DCC  CB 46       	bit	0, (hl)
2884  0DCE  20 04       	jr	NZ,l_player_move_jump_00155
2885  0DD0              l_player_move_jump_00154:
2886  0DD0  0E 00       	ld	c,0x00
2887  0DD2  18 02       	jr	l_player_move_jump_00156
2888  0DD4              l_player_move_jump_00155:
2889  0DD4  0E 01       	ld	c,0x01
2890  0DD6              l_player_move_jump_00156:
2891  0DD6  79          	ld	a, c
2892  0DD7  EE 01       	xor	a,0x01
2893  0DD9  4F          	ld	c, a
2894  0DDA              l_player_move_jump_00103:
2895  0DDA  79          	ld	a, c
2896  0DDB  B7          	or	a, a
2897  0DDC  28 1D       	jr	Z,l_player_move_jump_00109
2898  0DDE  3A 00 00    	ld	a,(_player_vel_y1)
2899  0DE1  21 00 00    	ld	hl,_player_vel_y
2900  0DE4  96          	sub	a, (hl)
2901  0DE5  E2 EA 0D    	jp	PO, l_player_move_jump_00259
2902  0DE8  EE 80       	xor	a,0x80
2903  0DEA              l_player_move_jump_00259:
2904  0DEA  F2 FB 0D    	jp	P, l_player_move_jump_00109
2905  0DED  21 00 00    	ld	hl,_player_vel_y
2906  0DF0  CB 7E       	bit	7,(hl)
2907  0DF2  28 07       	jr	Z,l_player_move_jump_00109
2908  0DF4  36 00       	ld	(hl),0x00
2909  0DF6  21 00 00    	ld	hl,_player_vel_inc
2910  0DF9  36 00       	ld	(hl),0x00
2911  0DFB              l_player_move_jump_00109:
2912  0DFB  3E 78       	ld	a,0x78
2913  0DFD  21 00 00    	ld	hl,_player_vel_y
2914  0E00  96          	sub	a, (hl)
2915  0E01  E2 06 0E    	jp	PO, l_player_move_jump_00260
2916  0E04  EE 80       	xor	a,0x80
2917  0E06              l_player_move_jump_00260:
2918  0E06  F2 0E 0E    	jp	P, l_player_move_jump_00111
2919  0E09  21 00 00    	ld	hl,_player_vel_y
2920  0E0C  36 78       	ld	(hl),0x78
2921  0E0E              l_player_move_jump_00111:
2922  0E0E  21 00 00    	ld	hl,_player_vel_y
2923  0E11  7E          	ld	a, (hl)
2924  0E12  EE 80       	xor	a,0x80
2925  0E14  D6 08       	sub	a,0x08
2926  0E16  30 02       	jr	NC,l_player_move_jump_00113
2927  0E18  36 88       	ld	(hl),0x88
2928  0E1A              l_player_move_jump_00113:
2929  0E1A  3A 00 00    	ld	a,(_player_vel_y)
2930  0E1D  47          	ld	b,a
2931  0E1E  17          	rla
2932  0E1F  9F          	sbc	a, a
2933  0E20  5F          	ld	e, a
2934  0E21  CB 40       	bit	0,b
2935  0E23  21 00 00    	ld	hl,_s_lin1
2936  0E26  70          	ld	(hl),b
2937  0E27  28 04       	jr	Z,l_player_move_jump_00115
2938  0E29  21 00 00    	ld	hl,_s_lin1
2939  0E2C  35          	dec	(hl)
2940  0E2D              l_player_move_jump_00115:
2941  0E2D  3A 07 00    	ld	a,(_lin + 0x0007)
2942  0E30  21 00 00    	ld	hl,_s_lin1
2943  0E33  86          	add	a, (hl)
2944  0E34  77          	ld	(hl), a
2945  0E35  3E 90       	ld	a,0x90
2946  0E37  96          	sub	a, (hl)
2947  0E38  3E 00       	ld	a,0x00
2948  0E3A  17          	rla
2949  0E3B  4F          	ld	c, a
2950  0E3C  CB 7B       	bit	7, e
2951  0E3E  28 5B       	jr	Z,l_player_move_jump_00141
2952  0E40  21 00 00    	ld	hl,_s_state
2953  0E43  7E          	ld	a,(hl)
2954  0E44  F6 01       	or	a,0x01
2955  0E46  E6 FD       	and	a,0xfd
2956  0E48  77          	ld	(hl),a
2957  0E49  79          	ld	a, c
2958  0E4A  B7          	or	a, a
2959  0E4B  28 11       	jr	Z,l_player_move_jump_00120
2960  0E4D  CD 00 00    	call	_spr_page_up
2961  0E50  7D          	ld	a, l
2962  0E51  B7          	or	a, a
2963  0E52  28 05       	jr	Z,l_player_move_jump_00117
2964  0E54  2E 00       	ld	l,0x00
2965  0E56  C3 5A 0F    	jp	l_player_move_jump_00152
2966  0E59              l_player_move_jump_00117:
2967  0E59  21 00 00    	ld	hl,_s_lin1
2968  0E5C  36 00       	ld	(hl),0x00
2969  0E5E              l_player_move_jump_00120:
2970  0E5E  21 07 00    	ld	hl,+(_col + 0x0007)
2971  0E61  46          	ld	b, (hl)
2972  0E62  C5          	push	bc
2973  0E63  33          	inc	sp
2974  0E64  3A 00 00    	ld	a,(_s_lin1)
2975  0E67  F5          	push	af
2976  0E68  33          	inc	sp
2977  0E69  CD 00 00    	call	_game_check_map
2978  0E6C  F1          	pop	af
2979  0E6D  7C          	ld	a,h
2980  0E6E  B5          	or	a,l
2981  0E6F  28 21       	jr	Z,l_player_move_jump_00124
2982  0E71  CD DB 08    	call	_player_hit_platform
2983  0E74  7D          	ld	a, l
2984  0E75  B7          	or	a, a
2985  0E76  28 12       	jr	Z,l_player_move_jump_00122
2986  0E78  3A 07 00    	ld	a,(_lin + 0x0007)
2987  0E7B  07          	rlca
2988  0E7C  07          	rlca
2989  0E7D  07          	rlca
2990  0E7E  07          	rlca
2991  0E7F  E6 0F       	and	a,0x0f
2992  0E81  07          	rlca
2993  0E82  07          	rlca
2994  0E83  07          	rlca
2995  0E84  07          	rlca
2996  0E85  E6 F0       	and	a,0xf0
2997  0E87  32 07 00    	ld	((_lin + 0x0007)),a
2998  0E8A              l_player_move_jump_00122:
2999  0E8A  21 00 00    	ld	hl,_player_vel_y
3000  0E8D  36 00       	ld	(hl),0x00
3001  0E8F  C3 1C 0F    	jp	l_player_move_jump_00142
3002  0E92              l_player_move_jump_00124:
3003  0E92  3A 00 00    	ld	a,(_s_lin1)
3004  0E95  32 07 00    	ld	((_lin + 0x0007)),a
3005  0E98  C3 1C 0F    	jp	l_player_move_jump_00142
3006  0E9B              l_player_move_jump_00141:
3007  0E9B  21 00 00    	ld	hl,_s_state
3008  0E9E  7E          	ld	a,(hl)
3009  0E9F  F6 02       	or	a,0x02
3010  0EA1  E6 FE       	and	a,0xfe
3011  0EA3  77          	ld	(hl),a
3012  0EA4  79          	ld	a, c
3013  0EA5  B7          	or	a, a
3014  0EA6  28 11       	jr	Z,l_player_move_jump_00130
3015  0EA8  CD 00 00    	call	_spr_page_down
3016  0EAB  7D          	ld	a, l
3017  0EAC  B7          	or	a, a
3018  0EAD  28 05       	jr	Z,l_player_move_jump_00127
3019  0EAF  2E 00       	ld	l,0x00
3020  0EB1  C3 5A 0F    	jp	l_player_move_jump_00152
3021  0EB4              l_player_move_jump_00127:
3022  0EB4  21 00 00    	ld	hl,_s_lin1
3023  0EB7  36 90       	ld	(hl),0x90
3024  0EB9              l_player_move_jump_00130:
3025  0EB9  21 07 00    	ld	hl,+(_col + 0x0007)
3026  0EBC  4E          	ld	c, (hl)
3027  0EBD  3A 00 00    	ld	a,(_s_lin1)
3028  0EC0  C6 10       	add	a,0x10
3029  0EC2  47          	ld	b, a
3030  0EC3  79          	ld	a, c
3031  0EC4  48          	ld	c,b
3032  0EC5  47          	ld	b,a
3033  0EC6  C5          	push	bc
3034  0EC7  CD 00 00    	call	_game_check_map
3035  0ECA  F1          	pop	af
3036  0ECB  7C          	ld	a,h
3037  0ECC  B5          	or	a,l
3038  0ECD  28 47       	jr	Z,l_player_move_jump_00138
3039  0ECF  2E 00       	ld	l,0x00
3040  0ED1  CD FD 05    	call	_player_check_stairs
3041  0ED4  3A 00 00    	ld	a,(_player_onstair)
3042  0ED7  B7          	or	a, a
3043  0ED8  20 05       	jr	NZ,l_player_move_jump_00132
3044  0EDA  2E 01       	ld	l,0x01
3045  0EDC  CD FD 05    	call	_player_check_stairs
3046  0EDF              l_player_move_jump_00132:
3047  0EDF  3A 00 00    	ld	a,(_player_onstair)
3048  0EE2  B7          	or	a, a
3049  0EE3  20 12       	jr	NZ,l_player_move_jump_00134
3050  0EE5  3A 00 00    	ld	a,(_s_lin1)
3051  0EE8  07          	rlca
3052  0EE9  07          	rlca
3053  0EEA  07          	rlca
3054  0EEB  07          	rlca
3055  0EEC  E6 0F       	and	a,0x0f
3056  0EEE  07          	rlca
3057  0EEF  07          	rlca
3058  0EF0  07          	rlca
3059  0EF1  07          	rlca
3060  0EF2  E6 F0       	and	a,0xf0
3061  0EF4  32 07 00    	ld	((_lin + 0x0007)),a
3062  0EF7              l_player_move_jump_00134:
3063  0EF7  21 00 00    	ld	hl,_player_vel_y
3064  0EFA  36 00       	ld	(hl),0x00
3065  0EFC  21 00 00    	ld	hl,_s_state
3066  0EFF  7E          	ld	a,(hl)
3067  0F00  E6 FC       	and	a,+(0xfd&0xfe)
3068  0F02  77          	ld	(hl),a
3069  0F03  3A 07 00    	ld	a,(_lin + 0x0007)
3070  0F06  D6 90       	sub	a,0x90
3071  0F08  38 03       	jr	C,l_player_move_jump_00136
3072  0F0A  CD 00 00    	call	_spr_page_down
3073  0F0D              l_player_move_jump_00136:
3074  0F0D  21 07 00    	ld	hl, +(_colint + 0x0007)
3075  0F10  36 00       	ld	(hl),0x00
3076  0F12  2E 01       	ld	l,0x01
3077  0F14  18 44       	jr	l_player_move_jump_00152
3078  0F16              l_player_move_jump_00138:
3079  0F16  3A 00 00    	ld	a,(_s_lin1)
3080  0F19  32 07 00    	ld	((_lin + 0x0007)),a
3081  0F1C              l_player_move_jump_00142:
3082  0F1C  21 00 00    	ld	hl,_s_state
3083  0F1F  CB 5E       	bit	3, (hl)
3084  0F21  20 27       	jr	NZ,l_player_move_jump_00148
3085  0F23  21 00 00    	ld	hl,_s_state
3086  0F26  CB 56       	bit	2, (hl)
3087  0F28  20 20       	jr	NZ,l_player_move_jump_00148
3088  0F2A  21 00 00    	ld	hl,_dirs
3089  0F2D  CB 56       	bit	2, (hl)
3090  0F2F  28 09       	jr	Z,l_player_move_jump_00144
3091  0F31  21 00 00    	ld	hl,_s_state
3092  0F34  7E          	ld	a,(hl)
3093  0F35  F6 08       	or	a,0x08
3094  0F37  E6 FB       	and	a,0xfb
3095  0F39  77          	ld	(hl),a
3096  0F3A              l_player_move_jump_00144:
3097  0F3A  21 00 00    	ld	hl,_dirs
3098  0F3D  CB 5E       	bit	3, (hl)
3099  0F3F  28 09       	jr	Z,l_player_move_jump_00148
3100  0F41  21 00 00    	ld	hl,_s_state
3101  0F44  7E          	ld	a,(hl)
3102  0F45  F6 04       	or	a,0x04
3103  0F47  E6 F7       	and	a,0xf7
3104  0F49  77          	ld	(hl),a
3105  0F4A              l_player_move_jump_00148:
3106  0F4A  CD 00 00    	call	_spr_move_horizontal
3107  0F4D  7D          	ld	a, l
3108  0F4E  B7          	or	a, a
3109  0F4F  28 07       	jr	Z,l_player_move_jump_00151
3110  0F51  21 00 00    	ld	hl,_s_state
3111  0F54  7E          	ld	a,(hl)
3112  0F55  E6 F3       	and	a,+(0xf7&0xfb)
3113  0F57  77          	ld	(hl),a
3114  0F58              l_player_move_jump_00151:
3115  0F58  2E 00       	ld	l,0x00
3116  0F5A              l_player_move_jump_00152:
3117  0F5A  C9          	ret
3118  0F5B              	SECTION code_compiler
3119  0F5B              ;	---------------------------------
3120  0F5B              ; Function player_open_door
3121  0F5B              ; ---------------------------------
3122  0F5B              _player_open_door:
3123  0F5B  CD 00 00    	call	___sdcc_enter_ix
3124  0F5E  0E 00       	ld	c,0x00
3125  0F60  21 00 00    	ld	hl,_ay_effect_05
3126  0F63  CD 00 00    	call	_ay_fx_play
3127  0F66  DD 7E 06    	ld	a,(ix+6)
3128  0F69  D6 48       	sub	a,0x48
3129  0F6B  28 17       	jr	Z,l_player_open_door_00101
3130  0F6D  DD 7E 06    	ld	a,(ix+6)
3131  0F70  D6 49       	sub	a,0x49
3132  0F72  28 1F       	jr	Z,l_player_open_door_00104
3133  0F74  DD 7E 06    	ld	a,(ix+6)
3134  0F77  D6 4A       	sub	a,0x4a
3135  0F79  28 27       	jr	Z,l_player_open_door_00107
3136  0F7B  DD 7E 06    	ld	a,(ix+6)
3137  0F7E  D6 4B       	sub	a,0x4b
3138  0F80  28 2F       	jr	Z,l_player_open_door_00110
3139  0F82  18 3A       	jr	l_player_open_door_00113
3140  0F84              l_player_open_door_00101:
3141  0F84  3A 00 00    	ld	a,(_player_keys)
3142  0F87  B7          	or	a, a
3143  0F88  28 34       	jr	Z,l_player_open_door_00113
3144  0F8A  2E 07       	ld	l,0x07
3145  0F8C  CD 00 00    	call	_zx_border_fastcall
3146  0F8F  0E 01       	ld	c,0x01
3147  0F91  18 2B       	jr	l_player_open_door_00113
3148  0F93              l_player_open_door_00104:
3149  0F93  3A 01 00    	ld	a,(_player_keys + 0x0001)
3150  0F96  B7          	or	a, a
3151  0F97  28 25       	jr	Z,l_player_open_door_00113
3152  0F99  2E 02       	ld	l,0x02
3153  0F9B  CD 00 00    	call	_zx_border_fastcall
3154  0F9E  0E 01       	ld	c,0x01
3155  0FA0  18 1C       	jr	l_player_open_door_00113
3156  0FA2              l_player_open_door_00107:
3157  0FA2  3A 02 00    	ld	a,(_player_keys + 0x0002)
3158  0FA5  B7          	or	a, a
3159  0FA6  28 16       	jr	Z,l_player_open_door_00113
3160  0FA8  2E 04       	ld	l,0x04
3161  0FAA  CD 00 00    	call	_zx_border_fastcall
3162  0FAD  0E 01       	ld	c,0x01
3163  0FAF  18 0D       	jr	l_player_open_door_00113
3164  0FB1              l_player_open_door_00110:
3165  0FB1  3A 03 00    	ld	a,(_player_keys + 0x0003)
3166  0FB4  B7          	or	a, a
3167  0FB5  28 07       	jr	Z,l_player_open_door_00113
3168  0FB7  2E 05       	ld	l,0x05
3169  0FB9  CD 00 00    	call	_zx_border_fastcall
3170  0FBC  0E 01       	ld	c,0x01
3171  0FBE              l_player_open_door_00113:
3172  0FBE  79          	ld	a, c
3173  0FBF  B7          	or	a, a
3174  0FC0  20 06       	jr	NZ,l_player_open_door_00114
3175  0FC2  3A 00 00    	ld	a,(_game_inmune)
3176  0FC5  B7          	or	a, a
3177  0FC6  28 2F       	jr	Z,l_player_open_door_00117
3178  0FC8              l_player_open_door_00114:
3179  0FC8  3E 00       	ld	a, +((_scr_map) & 0xFF)
3180  0FCA  DD 86 04    	add	a,(ix+4)
3181  0FCD  4F          	ld	c, a
3182  0FCE  3E 00       	ld	a, +((_scr_map) / 256)
3183  0FD0  DD 8E 05    	adc	a,(ix+5)
3184  0FD3  47          	ld	b, a
3185  0FD4  C5          	push	bc
3186  0FD5  DD 6E 04    	ld	l,(ix+4)
3187  0FD8  DD 66 05    	ld	h,(ix+5)
3188  0FDB  E5          	push	hl
3189  0FDC  CD 00 00    	call	_game_match_back
3190  0FDF  F1          	pop	af
3191  0FE0  C1          	pop	bc
3192  0FE1  7D          	ld	a,l
3193  0FE2  02          	ld	(bc), a
3194  0FE3  DD 6E 04    	ld	l,(ix+4)
3195  0FE6  DD 66 05    	ld	h,(ix+5)
3196  0FE9  CD 00 00    	call	_game_obj_set
3197  0FEC  DD 6E 04    	ld	l,(ix+4)
3198  0FEF  DD 66 05    	ld	h,(ix+5)
3199  0FF2  E5          	push	hl
3200  0FF3  CD 00 00    	call	_spr_draw_index
3201  0FF6  F1          	pop	af
3202  0FF7              l_player_open_door_00117:
3203  0FF7  DD E1       	pop	ix
3204  0FF9  C9          	ret
3205  0FFA              	SECTION code_compiler
3206  0FFA              ;	---------------------------------
3207  0FFA              ; Function player_lost_life
3208  0FFA              ; ---------------------------------
3209  0FFA              _player_lost_life:
3210  0FFA  CD 00 00    	call	___sdcc_enter_ix
3211  0FFD  3B          	dec	sp
3212  0FFE  21 00 00    	ld	hl,_ay_effect_18
3213  1001  CD 00 00    	call	_ay_fx_play
3214  1004  3A 07 00    	ld	a,(_lin + 0x0007)
3215  1007  32 00 00    	ld	(_s_lin0),a
3216  100A  3A 07 00    	ld	a,(_col + 0x0007)
3217  100D  32 00 00    	ld	(_s_col0),a
3218  1010  CD 00 00    	call	_spr_init_anim_bullets
3219  1013  01 00 00    	ld	bc,_anim_lin+0
3220  1016  16 00       	ld	d,0x00
3221  1018              l_player_lost_life_00116:
3222  1018  C5          	push	bc
3223  1019  D5          	push	de
3224  101A  21 00 00    	ld	hl,0x0000
3225  101D  E5          	push	hl
3226  101E  AF          	xor	a, a
3227  101F  5A          	ld	e,d
3228  1020  57          	ld	d,a
3229  1021  D5          	push	de
3230  1022  CD 00 00    	call	_NIRVANAP_spriteT_callee
3231  1025  D1          	pop	de
3232  1026  C1          	pop	bc
3233  1027  6A          	ld	l,d
3234  1028  26 00       	ld	h,0x00
3235  102A  09          	add	hl, bc
3236  102B  36 FF       	ld	(hl),0xff
3237  102D  14          	inc	d
3238  102E  7A          	ld	a, d
3239  102F  D6 08       	sub	a,0x08
3240  1031  38 E5       	jr	C,l_player_lost_life_00116
3241  1033  21 00 00    	ld	hl,_anim_count
3242  1036  36 00       	ld	(hl),0x00
3243  1038  76          	halt
3244  1039  3A 00 00    	ld	a,(_s_lin0)
3245  103C  C6 F0       	add	a,0xf0
3246  103E  47          	ld	b, a
3247  103F  3A 00 00    	ld	a,(_s_col0)
3248  1042  21 00 00    	ld	hl,0x0000
3249  1045  E5          	push	hl
3250  1046  21 87 03    	ld	hl,0x0387
3251  1049  E5          	push	hl
3252  104A  48          	ld	c,b
3253  104B  47          	ld	b,a
3254  104C  C5          	push	bc
3255  104D  CD 00 00    	call	_spr_add_anim
3256  1050  F1          	pop	af
3257  1051  F1          	pop	af
3258  1052  F1          	pop	af
3259  1053  21 00 00    	ld	hl,_s_col0
3260  1056  46          	ld	b, (hl)
3261  1057  05          	dec	b
3262  1058  05          	dec	b
3263  1059  21 00 00    	ld	hl,0x0000
3264  105C  E5          	push	hl
3265  105D  21 87 03    	ld	hl,0x0387
3266  1060  E5          	push	hl
3267  1061  C5          	push	bc
3268  1062  33          	inc	sp
3269  1063  3A 00 00    	ld	a,(_s_lin0)
3270  1066  F5          	push	af
3271  1067  33          	inc	sp
3272  1068  CD 00 00    	call	_spr_add_anim
3273  106B  F1          	pop	af
3274  106C  F1          	pop	af
3275  106D  21 00 00    	ld	hl,0x0000
3276  1070  E3          	ex	(sp),hl
3277  1071  3A 00 00    	ld	a,(_s_col0)
3278  1074  21 87 03    	ld	hl,0x0387
3279  1077  E5          	push	hl
3280  1078  F5          	push	af
3281  1079  33          	inc	sp
3282  107A  3A 00 00    	ld	a,(_s_lin0)
3283  107D  F5          	push	af
3284  107E  33          	inc	sp
3285  107F  CD 00 00    	call	_spr_add_anim
3286  1082  F1          	pop	af
3287  1083  F1          	pop	af
3288  1084  F1          	pop	af
3289  1085  21 00 00    	ld	hl,_s_col0
3290  1088  46          	ld	b, (hl)
3291  1089  04          	inc	b
3292  108A  04          	inc	b
3293  108B  21 00 00    	ld	hl,0x0000
3294  108E  E5          	push	hl
3295  108F  21 87 03    	ld	hl,0x0387
3296  1092  E5          	push	hl
3297  1093  C5          	push	bc
3298  1094  33          	inc	sp
3299  1095  3A 00 00    	ld	a,(_s_lin0)
3300  1098  F5          	push	af
3301  1099  33          	inc	sp
3302  109A  CD 00 00    	call	_spr_add_anim
3303  109D  F1          	pop	af
3304  109E  F1          	pop	af
3305  109F  F1          	pop	af
3306  10A0  3A 00 00    	ld	a,(_s_lin0)
3307  10A3  C6 10       	add	a,0x10
3308  10A5  47          	ld	b, a
3309  10A6  3A 00 00    	ld	a,(_s_col0)
3310  10A9  21 00 00    	ld	hl,0x0000
3311  10AC  E5          	push	hl
3312  10AD  21 87 03    	ld	hl,0x0387
3313  10B0  E5          	push	hl
3314  10B1  48          	ld	c,b
3315  10B2  47          	ld	b,a
3316  10B3  C5          	push	bc
3317  10B4  CD 00 00    	call	_spr_add_anim
3318  10B7  F1          	pop	af
3319  10B8  F1          	pop	af
3320  10B9  F1          	pop	af
3321  10BA  2E 00       	ld	l,0x00
3322  10BC  CD 00 00    	call	_zx_border_fastcall
3323  10BF  DD 36 FF 01 	ld	(ix-1),0x01
3324  10C3  2A 00 00    	ld	hl,(_curr_time)
3325  10C6  22 00 00    	ld	(_anim_time),hl
3326  10C9              l_player_lost_life_00107:
3327  10C9  DD 7E FF    	ld	a,(ix-1)
3328  10CC  B7          	or	a, a
3329  10CD  28 28       	jr	Z,l_player_lost_life_00109
3330  10CF  21 0C 00    	ld	hl,0x000c
3331  10D2  E5          	push	hl
3332  10D3  2A 00 00    	ld	hl,(_anim_time)
3333  10D6  E5          	push	hl
3334  10D7  CD 00 00    	call	_game_check_time
3335  10DA  F1          	pop	af
3336  10DB  F1          	pop	af
3337  10DC  7D          	ld	a, l
3338  10DD  B7          	or	a, a
3339  10DE  28 E9       	jr	Z,l_player_lost_life_00107
3340  10E0  2A 00 00    	ld	hl,(_curr_time)
3341  10E3  22 00 00    	ld	(_anim_time),hl
3342  10E6  3A 00 00    	ld	a,(_anim_count)
3343  10E9  B7          	or	a,a
3344  10EA  28 05       	jr	Z,l_player_lost_life_00103
3345  10EC  CD 00 00    	call	_spr_play_anim
3346  10EF  18 D8       	jr	l_player_lost_life_00107
3347  10F1              l_player_lost_life_00103:
3348  10F1  DD 36 FF 00 	ld	(ix-1),0x00
3349  10F5  18 D2       	jr	l_player_lost_life_00107
3350  10F7              l_player_lost_life_00109:
3351  10F7  21 00 00    	ld	hl,_sprite
3352  10FA  36 00       	ld	(hl),0x00
3353  10FC              l_player_lost_life_00118:
3354  10FC  3A 07 00    	ld	a,(_class + 0x0007)
3355  10FF  B7          	or	a, a
3356  1100  28 1F       	jr	Z,l_player_lost_life_00111
3357  1102  21 07 00    	ld	hl,+(_col + 0x0007)
3358  1105  4E          	ld	c, (hl)
3359  1106  21 07 00    	ld	hl,+(_lin + 0x0007)
3360  1109  56          	ld	d, (hl)
3361  110A  21 07 00    	ld	hl,+(_tile + 0x0007)
3362  110D  5E          	ld	e, (hl)
3363  110E  21 07 00    	ld	hl,+(_colint + 0x0007)
3364  1111  46          	ld	b, (hl)
3365  1112  7B          	ld	a, e
3366  1113  80          	add	a, b
3367  1114  5F          	ld	e, a
3368  1115  79          	ld	a, c
3369  1116  F5          	push	af
3370  1117  33          	inc	sp
3371  1118  3A 00 00    	ld	a,(_sprite)
3372  111B  D5          	push	de
3373  111C  F5          	push	af
3374  111D  33          	inc	sp
3375  111E  CD 00 00    	call	_NIRVANAP_spriteT_callee
3376  1121              l_player_lost_life_00111:
3377  1121  21 07 00    	ld	hl, +(_class + 0x0007)
3378  1124  36 00       	ld	(hl),0x00
3379  1126  21 07 00    	ld	hl, +(_bullet_col + 0x0007)
3380  1129  36 FF       	ld	(hl),0xff
3381  112B  21 00 00    	ld	hl,_sprite
3382  112E  7E          	ld	a,(hl)
3383  112F  3C          	inc	a
3384  1130  77          	ld	(hl),a
3385  1131  D6 07       	sub	a,0x07
3386  1133  38 C7       	jr	C,l_player_lost_life_00118
3387  1135  21 00 00    	ld	hl,_player_lives
3388  1138  35          	dec	(hl)
3389  1139  21 00 00    	ld	hl,_player_mana
3390  113C  36 64       	ld	(hl),0x64
3391  113E  21 00 00    	ld	hl,_player_vita
3392  1141  36 64       	ld	(hl),0x64
3393  1143  3A 00 00    	ld	a,(_player_lives)
3394  1146  B7          	or	a, a
3395  1147  28 0B       	jr	Z,l_player_lost_life_00114
3396  1149  21 F4 01    	ld	hl,0x01f4
3397  114C  CD 00 00    	call	_z80_delay_ms_fastcall
3398  114F  CD 00 00    	call	_game_round_init
3399  1152  18 0A       	jr	l_player_lost_life_00120
3400  1154              l_player_lost_life_00114:
3401  1154  21 00 00    	ld	hl,_player_lives
3402  1157  36 00       	ld	(hl),0x00
3403  1159  21 00 00    	ld	hl,_game_over
3404  115C  36 01       	ld	(hl),0x01
3405  115E              l_player_lost_life_00120:
3406  115E  33          	inc	sp
3407  115F  DD E1       	pop	ix
3408  1161  C9          	ret
3409  1162              	SECTION code_compiler
3410  1162              ;	---------------------------------
3411  1162              ; Function player_hit
3412  1162              ; ---------------------------------
3413  1162              _player_hit:
3414  1162  7D          	ld	a,l
3415  1163  4D          	ld	c,l
3416  1164  21 00 00    	ld	hl,_player_vita
3417  1167  96          	sub	a, (hl)
3418  1168  30 17       	jr	NC,l_player_hit_00104
3419  116A  3A 00 00    	ld	a,(_game_inmune)
3420  116D  B7          	or	a, a
3421  116E  20 06       	jr	NZ,l_player_hit_00102
3422  1170  21 00 00    	ld	hl,_player_vita
3423  1173  7E          	ld	a, (hl)
3424  1174  91          	sub	a, c
3425  1175  77          	ld	(hl), a
3426  1176              l_player_hit_00102:
3427  1176  2A 00 00    	ld	hl,(_curr_time)
3428  1179  22 00 00    	ld	(_player_hit_time),hl
3429  117C  CD 00 00    	call	_game_update_stats
3430  117F  18 0B       	jr	l_player_hit_00106
3431  1181              l_player_hit_00104:
3432  1181  21 00 00    	ld	hl,_player_vita
3433  1184  36 00       	ld	(hl),0x00
3434  1186  CD 00 00    	call	_game_update_stats
3435  1189  CD FA 0F    	call	_player_lost_life
3436  118C              l_player_hit_00106:
3437  118C  C9          	ret
3438  118D              	SECTION IGNORE
3439  0000              
