1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_turn
195   0000              	GLOBAL _player_move
196   0000              	GLOBAL _player_check_stairs_down
197   0000              	GLOBAL _player_check_stairs
198   0000              	GLOBAL _player_tile
199   0000              	GLOBAL _player_move_input
200   0000              	GLOBAL _player_fire
201   0000              	GLOBAL _player_pick_item
202   0000              	GLOBAL _player_hit_platform
203   0000              	GLOBAL _player_hit_platform_clear
204   0000              	GLOBAL _player_score_add
205   0000              	GLOBAL _player_check_floor
206   0000              	GLOBAL _player_move_jump
207   0000              	GLOBAL _player_open_door
208   0000              	GLOBAL _player_lost_life
209   0000              	GLOBAL _player_hit
210   0000              ;--------------------------------------------------------
211   0000              ; Externals used
212   0000              ;--------------------------------------------------------
213   0000              	GLOBAL _ulltoa_callee
214   0000              	GLOBAL _ulltoa
215   0000              	GLOBAL _strtoull_callee
216   0000              	GLOBAL _strtoull
217   0000              	GLOBAL _strtoll_callee
218   0000              	GLOBAL _strtoll
219   0000              	GLOBAL _lltoa_callee
220   0000              	GLOBAL _lltoa
221   0000              	GLOBAL _llabs_callee
222   0000              	GLOBAL _llabs
223   0000              	GLOBAL __lldivu__callee
224   0000              	GLOBAL __lldivu_
225   0000              	GLOBAL __lldiv__callee
226   0000              	GLOBAL __lldiv_
227   0000              	GLOBAL _atoll_callee
228   0000              	GLOBAL _atoll
229   0000              	GLOBAL _realloc_unlocked_callee
230   0000              	GLOBAL _realloc_unlocked
231   0000              	GLOBAL _malloc_unlocked_fastcall
232   0000              	GLOBAL _malloc_unlocked
233   0000              	GLOBAL _free_unlocked_fastcall
234   0000              	GLOBAL _free_unlocked
235   0000              	GLOBAL _calloc_unlocked_callee
236   0000              	GLOBAL _calloc_unlocked
237   0000              	GLOBAL _aligned_alloc_unlocked_callee
238   0000              	GLOBAL _aligned_alloc_unlocked
239   0000              	GLOBAL _realloc_callee
240   0000              	GLOBAL _realloc
241   0000              	GLOBAL _malloc_fastcall
242   0000              	GLOBAL _malloc
243   0000              	GLOBAL _free_fastcall
244   0000              	GLOBAL _free
245   0000              	GLOBAL _calloc_callee
246   0000              	GLOBAL _calloc
247   0000              	GLOBAL _aligned_alloc_callee
248   0000              	GLOBAL _aligned_alloc
249   0000              	GLOBAL _utoa_callee
250   0000              	GLOBAL _utoa
251   0000              	GLOBAL _ultoa_callee
252   0000              	GLOBAL _ultoa
253   0000              	GLOBAL _system_fastcall
254   0000              	GLOBAL _system
255   0000              	GLOBAL _strtoul_callee
256   0000              	GLOBAL _strtoul
257   0000              	GLOBAL _strtol_callee
258   0000              	GLOBAL _strtol
259   0000              	GLOBAL _strtof_callee
260   0000              	GLOBAL _strtof
261   0000              	GLOBAL _strtod_callee
262   0000              	GLOBAL _strtod
263   0000              	GLOBAL _srand_fastcall
264   0000              	GLOBAL _srand
265   0000              	GLOBAL _rand
266   0000              	GLOBAL _quick_exit_fastcall
267   0000              	GLOBAL _quick_exit
268   0000              	GLOBAL _qsort_callee
269   0000              	GLOBAL _qsort
270   0000              	GLOBAL _ltoa_callee
271   0000              	GLOBAL _ltoa
272   0000              	GLOBAL _labs_fastcall
273   0000              	GLOBAL _labs
274   0000              	GLOBAL _itoa_callee
275   0000              	GLOBAL _itoa
276   0000              	GLOBAL _ftoh_callee
277   0000              	GLOBAL _ftoh
278   0000              	GLOBAL _ftog_callee
279   0000              	GLOBAL _ftog
280   0000              	GLOBAL _ftoe_callee
281   0000              	GLOBAL _ftoe
282   0000              	GLOBAL _ftoa_callee
283   0000              	GLOBAL _ftoa
284   0000              	GLOBAL _exit_fastcall
285   0000              	GLOBAL _exit
286   0000              	GLOBAL _dtoh_callee
287   0000              	GLOBAL _dtoh
288   0000              	GLOBAL _dtog_callee
289   0000              	GLOBAL _dtog
290   0000              	GLOBAL _dtoe_callee
291   0000              	GLOBAL _dtoe
292   0000              	GLOBAL _dtoa_callee
293   0000              	GLOBAL _dtoa
294   0000              	GLOBAL _bsearch_callee
295   0000              	GLOBAL _bsearch
296   0000              	GLOBAL _atol_fastcall
297   0000              	GLOBAL _atol
298   0000              	GLOBAL _atoi_fastcall
299   0000              	GLOBAL _atoi
300   0000              	GLOBAL _atof_fastcall
301   0000              	GLOBAL _atof
302   0000              	GLOBAL _atexit_fastcall
303   0000              	GLOBAL _atexit
304   0000              	GLOBAL _at_quick_exit_fastcall
305   0000              	GLOBAL _at_quick_exit
306   0000              	GLOBAL _abs_fastcall
307   0000              	GLOBAL _abs
308   0000              	GLOBAL _abort
309   0000              	GLOBAL __strtou__callee
310   0000              	GLOBAL __strtou_
311   0000              	GLOBAL __strtoi__callee
312   0000              	GLOBAL __strtoi_
313   0000              	GLOBAL __random_uniform_xor_8__fastcall
314   0000              	GLOBAL __random_uniform_xor_8_
315   0000              	GLOBAL __random_uniform_xor_32__fastcall
316   0000              	GLOBAL __random_uniform_xor_32_
317   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
318   0000              	GLOBAL __random_uniform_cmwc_8_
319   0000              	GLOBAL __shellsort__callee
320   0000              	GLOBAL __shellsort_
321   0000              	GLOBAL __quicksort__callee
322   0000              	GLOBAL __quicksort_
323   0000              	GLOBAL __insertion_sort__callee
324   0000              	GLOBAL __insertion_sort_
325   0000              	GLOBAL __ldivu__callee
326   0000              	GLOBAL __ldivu_
327   0000              	GLOBAL __ldiv__callee
328   0000              	GLOBAL __ldiv_
329   0000              	GLOBAL __divu__callee
330   0000              	GLOBAL __divu_
331   0000              	GLOBAL __div__callee
332   0000              	GLOBAL __div_
333   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
334   0000              	GLOBAL _NIRVANAP_drawTW_raw
335   0000              	GLOBAL _NIRVANAP_drawTW_callee
336   0000              	GLOBAL _NIRVANAP_drawTW
337   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawW_raw
339   0000              	GLOBAL _NIRVANAP_drawW_callee
340   0000              	GLOBAL _NIRVANAP_drawW
341   0000              	GLOBAL _NIRVANAP_spriteT_callee
342   0000              	GLOBAL _NIRVANAP_spriteT
343   0000              	GLOBAL _NIRVANAP_fillC_callee
344   0000              	GLOBAL _NIRVANAP_fillC
345   0000              	GLOBAL _NIRVANAP_readC_callee
346   0000              	GLOBAL _NIRVANAP_readC
347   0000              	GLOBAL _NIRVANAP_paintC_callee
348   0000              	GLOBAL _NIRVANAP_paintC
349   0000              	GLOBAL _NIRVANAP_printC_callee
350   0000              	GLOBAL _NIRVANAP_printC
351   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
352   0000              	GLOBAL _NIRVANAP_fillT_raw
353   0000              	GLOBAL _NIRVANAP_fillT_callee
354   0000              	GLOBAL _NIRVANAP_fillT
355   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
356   0000              	GLOBAL _NIRVANAP_drawT_raw
357   0000              	GLOBAL _NIRVANAP_drawT_callee
358   0000              	GLOBAL _NIRVANAP_drawT
359   0000              	GLOBAL _NIRVANAP_stop
360   0000              	GLOBAL _NIRVANAP_start
361   0000              	GLOBAL _debug3
362   0000              	GLOBAL _debug2
363   0000              	GLOBAL _debug
364   0000              	GLOBAL _zx_print_str
365   0000              	GLOBAL _zx_print_int
366   0000              	GLOBAL _zx_print_chr
367   0000              	GLOBAL _zx_print_bonus_time
368   0000              	GLOBAL _zx_isr
369   0000              	GLOBAL _z80_otdr_callee
370   0000              	GLOBAL _z80_otdr
371   0000              	GLOBAL _z80_otir_callee
372   0000              	GLOBAL _z80_otir
373   0000              	GLOBAL _z80_outp_callee
374   0000              	GLOBAL _z80_outp
375   0000              	GLOBAL _z80_indr_callee
376   0000              	GLOBAL _z80_indr
377   0000              	GLOBAL _z80_inir_callee
378   0000              	GLOBAL _z80_inir
379   0000              	GLOBAL _z80_inp_fastcall
380   0000              	GLOBAL _z80_inp
381   0000              	GLOBAL _z80_set_int_state_fastcall
382   0000              	GLOBAL _z80_set_int_state
383   0000              	GLOBAL _z80_get_int_state
384   0000              	GLOBAL _z80_delay_tstate_fastcall
385   0000              	GLOBAL _z80_delay_tstate
386   0000              	GLOBAL _z80_delay_ms_fastcall
387   0000              	GLOBAL _z80_delay_ms
388   0000              	GLOBAL _im2_remove_generic_callback_callee
389   0000              	GLOBAL _im2_remove_generic_callback
390   0000              	GLOBAL _im2_prepend_generic_callback_callee
391   0000              	GLOBAL _im2_prepend_generic_callback
392   0000              	GLOBAL _im2_append_generic_callback_callee
393   0000              	GLOBAL _im2_append_generic_callback
394   0000              	GLOBAL _im2_create_generic_isr_8080_callee
395   0000              	GLOBAL _im2_create_generic_isr_8080
396   0000              	GLOBAL _im2_create_generic_isr_callee
397   0000              	GLOBAL _im2_create_generic_isr
398   0000              	GLOBAL _im2_install_isr_callee
399   0000              	GLOBAL _im2_install_isr
400   0000              	GLOBAL _im2_init_fastcall
401   0000              	GLOBAL _im2_init
402   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
403   0000              	GLOBAL _intrinsic_swap_word_32
404   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
405   0000              	GLOBAL _intrinsic_swap_endian_32
406   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
407   0000              	GLOBAL _intrinsic_swap_endian_16
408   0000              	GLOBAL _intrinsic_return_de
409   0000              	GLOBAL _intrinsic_return_bc
410   0000              	GLOBAL _intrinsic_exx
411   0000              	GLOBAL _intrinsic_ex_de_hl
412   0000              	GLOBAL _intrinsic_nop
413   0000              	GLOBAL _intrinsic_im_2
414   0000              	GLOBAL _intrinsic_im_1
415   0000              	GLOBAL _intrinsic_im_0
416   0000              	GLOBAL _intrinsic_retn
417   0000              	GLOBAL _intrinsic_reti
418   0000              	GLOBAL _intrinsic_halt
419   0000              	GLOBAL _intrinsic_ei
420   0000              	GLOBAL _intrinsic_di
421   0000              	GLOBAL _intrinsic_stub
422   0000              	GLOBAL _intrinsic_outi
423   0000              	GLOBAL _intrinsic_ldi
424   0000              	GLOBAL _zx_pattern_fill_callee
425   0000              	GLOBAL _zx_pattern_fill
426   0000              	GLOBAL _zx_saddrpup_fastcall
427   0000              	GLOBAL _zx_saddrpup
428   0000              	GLOBAL _zx_saddrpright_callee
429   0000              	GLOBAL _zx_saddrpright
430   0000              	GLOBAL _zx_saddrpleft_callee
431   0000              	GLOBAL _zx_saddrpleft
432   0000              	GLOBAL _zx_saddrpdown_fastcall
433   0000              	GLOBAL _zx_saddrpdown
434   0000              	GLOBAL _zx_saddrcup_fastcall
435   0000              	GLOBAL _zx_saddrcup
436   0000              	GLOBAL _zx_saddrcright_fastcall
437   0000              	GLOBAL _zx_saddrcright
438   0000              	GLOBAL _zx_saddrcleft_fastcall
439   0000              	GLOBAL _zx_saddrcleft
440   0000              	GLOBAL _zx_saddrcdown_fastcall
441   0000              	GLOBAL _zx_saddrcdown
442   0000              	GLOBAL _zx_saddr2py_fastcall
443   0000              	GLOBAL _zx_saddr2py
444   0000              	GLOBAL _zx_saddr2px_fastcall
445   0000              	GLOBAL _zx_saddr2px
446   0000              	GLOBAL _zx_saddr2cy_fastcall
447   0000              	GLOBAL _zx_saddr2cy
448   0000              	GLOBAL _zx_saddr2cx_fastcall
449   0000              	GLOBAL _zx_saddr2cx
450   0000              	GLOBAL _zx_saddr2aaddr_fastcall
451   0000              	GLOBAL _zx_saddr2aaddr
452   0000              	GLOBAL _zx_py2saddr_fastcall
453   0000              	GLOBAL _zx_py2saddr
454   0000              	GLOBAL _zx_py2aaddr_fastcall
455   0000              	GLOBAL _zx_py2aaddr
456   0000              	GLOBAL _zx_pxy2saddr_callee
457   0000              	GLOBAL _zx_pxy2saddr
458   0000              	GLOBAL _zx_pxy2aaddr_callee
459   0000              	GLOBAL _zx_pxy2aaddr
460   0000              	GLOBAL _zx_px2bitmask_fastcall
461   0000              	GLOBAL _zx_px2bitmask
462   0000              	GLOBAL _zx_cy2saddr_fastcall
463   0000              	GLOBAL _zx_cy2saddr
464   0000              	GLOBAL _zx_cy2aaddr_fastcall
465   0000              	GLOBAL _zx_cy2aaddr
466   0000              	GLOBAL _zx_cxy2saddr_callee
467   0000              	GLOBAL _zx_cxy2saddr
468   0000              	GLOBAL _zx_cxy2aaddr_callee
469   0000              	GLOBAL _zx_cxy2aaddr
470   0000              	GLOBAL _zx_bitmask2px_fastcall
471   0000              	GLOBAL _zx_bitmask2px
472   0000              	GLOBAL _zx_aaddrcup_fastcall
473   0000              	GLOBAL _zx_aaddrcup
474   0000              	GLOBAL _zx_aaddrcright_fastcall
475   0000              	GLOBAL _zx_aaddrcright
476   0000              	GLOBAL _zx_aaddrcleft_fastcall
477   0000              	GLOBAL _zx_aaddrcleft
478   0000              	GLOBAL _zx_aaddrcdown_fastcall
479   0000              	GLOBAL _zx_aaddrcdown
480   0000              	GLOBAL _zx_aaddr2saddr_fastcall
481   0000              	GLOBAL _zx_aaddr2saddr
482   0000              	GLOBAL _zx_aaddr2py_fastcall
483   0000              	GLOBAL _zx_aaddr2py
484   0000              	GLOBAL _zx_aaddr2px_fastcall
485   0000              	GLOBAL _zx_aaddr2px
486   0000              	GLOBAL _zx_aaddr2cy_fastcall
487   0000              	GLOBAL _zx_aaddr2cy
488   0000              	GLOBAL _zx_aaddr2cx_fastcall
489   0000              	GLOBAL _zx_aaddr2cx
490   0000              	GLOBAL _zx_visit_wc_pix_callee
491   0000              	GLOBAL _zx_visit_wc_pix
492   0000              	GLOBAL _zx_visit_wc_attr_callee
493   0000              	GLOBAL _zx_visit_wc_attr
494   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
495   0000              	GLOBAL _zx_scroll_wc_up_pix
496   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
497   0000              	GLOBAL _zx_scroll_wc_up_attr
498   0000              	GLOBAL _zx_scroll_wc_up_callee
499   0000              	GLOBAL _zx_scroll_wc_up
500   0000              	GLOBAL _zx_scroll_up_pix_callee
501   0000              	GLOBAL _zx_scroll_up_pix
502   0000              	GLOBAL _zx_scroll_up_attr_callee
503   0000              	GLOBAL _zx_scroll_up_attr
504   0000              	GLOBAL _zx_scroll_up_callee
505   0000              	GLOBAL _zx_scroll_up
506   0000              	GLOBAL _zx_cls_wc_pix_callee
507   0000              	GLOBAL _zx_cls_wc_pix
508   0000              	GLOBAL _zx_cls_wc_attr_callee
509   0000              	GLOBAL _zx_cls_wc_attr
510   0000              	GLOBAL _zx_cls_wc_callee
511   0000              	GLOBAL _zx_cls_wc
512   0000              	GLOBAL _zx_cls_pix_fastcall
513   0000              	GLOBAL _zx_cls_pix
514   0000              	GLOBAL _zx_cls_attr_fastcall
515   0000              	GLOBAL _zx_cls_attr
516   0000              	GLOBAL _zx_cls_fastcall
517   0000              	GLOBAL _zx_cls
518   0000              	GLOBAL _zx_border_fastcall
519   0000              	GLOBAL _zx_border
520   0000              	GLOBAL _spr_btile_paint_back
521   0000              	GLOBAL _spr_explode_bullet
522   0000              	GLOBAL _spr_init_anim_bullets
523   0000              	GLOBAL _spr_turn_horizontal
524   0000              	GLOBAL _spr_play_bullets
525   0000              	GLOBAL _spr_play_anim
526   0000              	GLOBAL _spr_add_anim
527   0000              	GLOBAL _spr_page_map
528   0000              	GLOBAL _spr_page_right
529   0000              	GLOBAL _spr_page_left
530   0000              	GLOBAL _spr_tile_paint
531   0000              	GLOBAL _spr_calc_hor
532   0000              	GLOBAL _spr_draw_row
533   0000              	GLOBAL _spr_draw_index
534   0000              	GLOBAL _spr_draw_clear
535   0000              	GLOBAL _spr_brick_anim
536   0000              	GLOBAL _spr_back_repaint
537   0000              	GLOBAL _spr_tile
538   0000              	GLOBAL _spr_destroy
539   0000              	GLOBAL _spr_tile_dir
540   0000              	GLOBAL _spr_redraw
541   0000              	GLOBAL _spr_move_left
542   0000              	GLOBAL _spr_move_right
543   0000              	GLOBAL _spr_move_horizontal
544   0000              	GLOBAL _spr_move_down
545   0000              	GLOBAL _spr_move_up
546   0000              	GLOBAL _spr_calc_index
547   0000              	GLOBAL _spr_chktime
548   0000              	GLOBAL _sound_hit_brick
549   0000              	GLOBAL _sound_hit_enemy
550   0000              	GLOBAL _sound_kill
551   0000              	GLOBAL _sound_enter_enemy
552   0000              	GLOBAL _sound_coin
553   0000              	GLOBAL _sound_jump
554   0000              	GLOBAL _sound_slide
555   0000              	GLOBAL _player_player_hit_pow
556   0000              	GLOBAL _game_obj_clear
557   0000              	GLOBAL _game_obj_chk
558   0000              	GLOBAL _game_obj_set
559   0000              	GLOBAL _game_shoot_fire
560   0000              	GLOBAL _game_add_enemy
561   0000              	GLOBAL _game_joystick_set_menu
562   0000              	GLOBAL _game_joystick_set
563   0000              	GLOBAL _game_joystick_change
564   0000              	GLOBAL _game_print_header
565   0000              	GLOBAL _game_end
566   0000              	GLOBAL _game_phase_print_score_back
567   0000              	GLOBAL _game_check_time
568   0000              	GLOBAL _game_rotate_attrib
569   0000              	GLOBAL _game_colour_message
570   0000              	GLOBAL _game_paint_attrib_lin_h
571   0000              	GLOBAL _game_paint_attrib_lin
572   0000              	GLOBAL _game_paint_attrib
573   0000              	GLOBAL _game_print_score
574   0000              	GLOBAL _game_unfreeze_all
575   0000              	GLOBAL _game_freeze_all
576   0000              	GLOBAL _game_freeze
577   0000              	GLOBAL _game_enemy_add_get_index
578   0000              	GLOBAL _game_check_cell
579   0000              	GLOBAL _game_check_map
580   0000              	GLOBAL _game_loop
581   0000              	GLOBAL _game_round_init
582   0000              	GLOBAL _game_start_timer
583   0000              	GLOBAL _game_tick
584   0000              	GLOBAL _game_update_stats
585   0000              	GLOBAL _game_print_footer
586   0000              	GLOBAL _game_fill_row
587   0000              	GLOBAL _game_draw_screen
588   0000              	GLOBAL _enemy_avoid_fall_dead
589   0000              	GLOBAL _enemy_avoid_fall
590   0000              	GLOBAL _enemy_respawn
591   0000              	GLOBAL _enemy_init
592   0000              	GLOBAL _enemy_move
593   0000              	GLOBAL _enemy_turn
594   0000              	GLOBAL _enemy_hit
595   0000              	GLOBAL _enemy_coin1
596   0000              	GLOBAL _enemy_static
597   0000              	GLOBAL _enemy_walk
598   0000              	GLOBAL _enemy_horizontal
599   0000              	GLOBAL _enemy_vertical
600   0000              	GLOBAL _ay_fx_play
601   0000              	GLOBAL _ay_midi_play
602   0000              	GLOBAL _ay_is_playing
603   0000              	GLOBAL _ay_reset
604   0000              	GLOBAL _test_func
605   0000              	GLOBAL _test_proc
606   0000              	GLOBAL _in_mouse_kempston_wheel_delta
607   0000              	GLOBAL _in_mouse_kempston_wheel
608   0000              	GLOBAL _in_mouse_kempston_callee
609   0000              	GLOBAL _in_mouse_kempston
610   0000              	GLOBAL _in_mouse_kempston_setpos_callee
611   0000              	GLOBAL _in_mouse_kempston_setpos
612   0000              	GLOBAL _in_mouse_kempston_reset
613   0000              	GLOBAL _in_mouse_kempston_init
614   0000              	GLOBAL _in_mouse_amx_wheel_delta
615   0000              	GLOBAL _in_mouse_amx_wheel
616   0000              	GLOBAL _in_mouse_amx_callee
617   0000              	GLOBAL _in_mouse_amx
618   0000              	GLOBAL _in_mouse_amx_setpos_callee
619   0000              	GLOBAL _in_mouse_amx_setpos
620   0000              	GLOBAL _in_mouse_amx_reset
621   0000              	GLOBAL _in_mouse_amx_init_callee
622   0000              	GLOBAL _in_mouse_amx_init
623   0000              	GLOBAL _in_stick_sinclair2
624   0000              	GLOBAL _in_stick_sinclair1
625   0000              	GLOBAL _in_stick_kempston
626   0000              	GLOBAL _in_stick_fuller
627   0000              	GLOBAL _in_stick_cursor
628   0000              	GLOBAL _in_stick_keyboard_fastcall
629   0000              	GLOBAL _in_stick_keyboard
630   0000              	GLOBAL _in_wait_nokey
631   0000              	GLOBAL _in_wait_key
632   0000              	GLOBAL _in_test_key
633   0000              	GLOBAL _in_pause_fastcall
634   0000              	GLOBAL _in_pause
635   0000              	GLOBAL _in_key_scancode_fastcall
636   0000              	GLOBAL _in_key_scancode
637   0000              	GLOBAL _in_key_pressed_fastcall
638   0000              	GLOBAL _in_key_pressed
639   0000              	GLOBAL _in_inkey
640   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
641   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
642   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
643   0000              	GLOBAL _NIRVANAP_HOLE
644   0000              	GLOBAL _NIRVANAP_ISR_HOOK
645   0000              	GLOBAL _map_paper_last
646   0000              	GLOBAL _map_paper_clr
647   0000              	GLOBAL _map_paper
648   0000              	GLOBAL _draw_count
649   0000              	GLOBAL _g_player_hit_right
650   0000              	GLOBAL _g_player_hit_left
651   0000              	GLOBAL _joynames
652   0000              	GLOBAL _initials
653   0000              	GLOBAL _bullet_count
654   0000              	GLOBAL _bullet_vel
655   0000              	GLOBAL _bullet_frames
656   0000              	GLOBAL _bullet_colint
657   0000              	GLOBAL _bullet_dir
658   0000              	GLOBAL _bullet_tile
659   0000              	GLOBAL _bullet_col
660   0000              	GLOBAL _bullet_lin
661   0000              	GLOBAL _bullet_col0
662   0000              	GLOBAL _bullet_lin0
663   0000              	GLOBAL _bullet_max
664   0000              	GLOBAL _bullet_class
665   0000              	GLOBAL _mush_class
666   0000              	GLOBAL _mush_index
667   0000              	GLOBAL _anim_count
668   0000              	GLOBAL _anim_respanwn
669   0000              	GLOBAL _anim_loop
670   0000              	GLOBAL _anim_end
671   0000              	GLOBAL _anim_int
672   0000              	GLOBAL _anim_tile
673   0000              	GLOBAL _anim_col
674   0000              	GLOBAL _anim_lin
675   0000              	GLOBAL _phase_curr
676   0000              	GLOBAL _map_heigth
677   0000              	GLOBAL _map_width
678   0000              	GLOBAL _scr_curr
679   0000              	GLOBAL _scr_obj1
680   0000              	GLOBAL _scr_obj0
681   0000              	GLOBAL _scr_map
682   0000              	GLOBAL _sprite_speed_alt
683   0000              	GLOBAL _sprite_frames
684   0000              	GLOBAL _sprite_speed
685   0000              	GLOBAL _screen_ink
686   0000              	GLOBAL _screen_paper
687   0000              	GLOBAL _player_over_stair
688   0000              	GLOBAL _game_start_scr
689   0000              	GLOBAL _game_respawning
690   0000              	GLOBAL _game_respawn_tile
691   0000              	GLOBAL _game_respawn_index
692   0000              	GLOBAL _game_menu_sel
693   0000              	GLOBAL _game_score_top
694   0000              	GLOBAL _player_lives
695   0000              	GLOBAL _game_over
696   0000              	GLOBAL _game_sound
697   0000              	GLOBAL _game_inmune
698   0000              	GLOBAL _game_god_mode
699   0000              	GLOBAL _game_two_player
700   0000              	GLOBAL _game_brick_tile
701   0000              	GLOBAL _sprite_curr_index
702   0000              	GLOBAL _spr_count
703   0000              	GLOBAL _bullet_time
704   0000              	GLOBAL _anim_time
705   0000              	GLOBAL _frame_time
706   0000              	GLOBAL _entry_time
707   0000              	GLOBAL _curr_time
708   0000              	GLOBAL _s_state
709   0000              	GLOBAL _attrib_hl
710   0000              	GLOBAL _attrib
711   0000              	GLOBAL _zx_val_asm
712   0000              	GLOBAL _enemies
713   0000              	GLOBAL _tmp_ui
714   0000              	GLOBAL _tmp_sc
715   0000              	GLOBAL _tmp_uc
716   0000              	GLOBAL _tmp1
717   0000              	GLOBAL _tmp0
718   0000              	GLOBAL _tmp
719   0000              	GLOBAL _index1
720   0000              	GLOBAL _index0
721   0000              	GLOBAL _loop_count
722   0000              	GLOBAL _s_col1
723   0000              	GLOBAL _s_col0
724   0000              	GLOBAL _s_lin1
725   0000              	GLOBAL _s_lin0
726   0000              	GLOBAL _s_tile1
727   0000              	GLOBAL _s_tile0
728   0000              	GLOBAL _player_hit_count
729   0000              	GLOBAL _sprite_horizontal_check
730   0000              	GLOBAL _sprite_on_air
731   0000              	GLOBAL _sprite
732   0000              	GLOBAL _game_gravity
733   0000              	GLOBAL _player_hit_time
734   0000              	GLOBAL _player_lvl
735   0000              	GLOBAL _player_int
736   0000              	GLOBAL _player_str
737   0000              	GLOBAL _player_max_vita
738   0000              	GLOBAL _player_max_mana
739   0000              	GLOBAL _player_vita
740   0000              	GLOBAL _player_mana
741   0000              	GLOBAL _player_keys
742   0000              	GLOBAL _player_vel_inc
743   0000              	GLOBAL _player_vel_y1
744   0000              	GLOBAL _player_vel_y0
745   0000              	GLOBAL _player_vel_y
746   0000              	GLOBAL _player_vel_x
747   0000              	GLOBAL _player_joy
748   0000              	GLOBAL _player_score
749   0000              	GLOBAL _last_time
750   0000              	GLOBAL _player_slide
751   0000              	GLOBAL _spr_timer
752   0000              	GLOBAL _jump_lin
753   0000              	GLOBAL _player_hit_col
754   0000              	GLOBAL _player_hit_lin
755   0000              	GLOBAL _colint
756   0000              	GLOBAL _col
757   0000              	GLOBAL _lin
758   0000              	GLOBAL _tile
759   0000              	GLOBAL _state_a
760   0000              	GLOBAL _state
761   0000              	GLOBAL _class
762   0000              	GLOBAL _tbuffer
763   0000              	GLOBAL _dirs
764   0000              	GLOBAL _k1
765   0000              	GLOBAL _joyfunc1
766   0000              	GLOBAL _btiles
767   0000              	GLOBAL _spec128
768   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
769   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
770   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
771   0000              	GLOBAL _ay_effect_20
772   0000              	GLOBAL _ay_effect_19
773   0000              	GLOBAL _ay_effect_18
774   0000              	GLOBAL _ay_effect_17
775   0000              	GLOBAL _ay_effect_16
776   0000              	GLOBAL _ay_effect_15
777   0000              	GLOBAL _ay_effect_14
778   0000              	GLOBAL _ay_effect_13
779   0000              	GLOBAL _ay_effect_12
780   0000              	GLOBAL _ay_effect_11
781   0000              	GLOBAL _ay_effect_10
782   0000              	GLOBAL _ay_effect_09
783   0000              	GLOBAL _ay_effect_08
784   0000              	GLOBAL _ay_effect_07
785   0000              	GLOBAL _ay_effect_06
786   0000              	GLOBAL _ay_effect_05
787   0000              	GLOBAL _ay_effect_04
788   0000              	GLOBAL _ay_effect_03
789   0000              	GLOBAL _ay_effect_02
790   0000              	GLOBAL _ay_effect_01
791   0000              	GLOBAL _pb_midi_phase_1
792   0000              	GLOBAL _pb_midi_title
793   0000              	GLOBAL _control_method
794   0000              	GLOBAL _world0
795   0000              	GLOBAL _lenght0
796   0000              	GLOBAL _start_scr0
797   0000              ;--------------------------------------------------------
798   0000              ; special function registers
799   0000              ;--------------------------------------------------------
800   0000              defc _IO_FE	=	0x00fe
801   0000              defc _IO_1FFD	=	0x1ffd
802   0000              defc _IO_7FFD	=	0x7ffd
803   0000              ;--------------------------------------------------------
804   0000              ; ram data
805   0000              ;--------------------------------------------------------
806   0000              	SECTION bss_compiler
807   0000              ;--------------------------------------------------------
808   0000              ; ram data
809   0000              ;--------------------------------------------------------
810   0000              
811   0000              IF 0
812   0000              
813   0000              ; .area _INITIALIZED removed by z88dk
814   0000              
815   0000              
816   0000              ENDIF
817   0000              
818   0000              ;--------------------------------------------------------
819   0000              ; absolute external ram data
820   0000              ;--------------------------------------------------------
821   0000              	SECTION IGNORE
822   0000              ;--------------------------------------------------------
823   0000              ; global & static initialisations
824   0000              ;--------------------------------------------------------
825   0000              	SECTION code_crt_init
826   0000              ;--------------------------------------------------------
827   0000              ; Home
828   0000              ;--------------------------------------------------------
829   0000              	SECTION IGNORE
830   0000              ;--------------------------------------------------------
831   0000              ; code
832   0000              ;--------------------------------------------------------
833   0000              	SECTION code_compiler
834   0000              ;	---------------------------------
835   0000              ; Function player_init
836   0000              ; ---------------------------------
837   0000              _player_init:
838   0000  CD 00 00    	call	___sdcc_enter_ix
839   0003  F5          	push	af
840   0004  3E 00       	ld	a, +((_class) & 0xFF)
841   0006  DD 86 04    	add	a,(ix+4)
842   0009  4F          	ld	c, a
843   000A  3E 00       	ld	a, +((_class) / 256)
844   000C  CE 00       	adc	a,0x00
845   000E  47          	ld	b, a
846   000F  AF          	xor	a, a
847   0010  02          	ld	(bc), a
848   0011  3E 00       	ld	a, +((_tile) & 0xFF)
849   0013  DD 86 04    	add	a,(ix+4)
850   0016  4F          	ld	c, a
851   0017  3E 00       	ld	a, +((_tile) / 256)
852   0019  CE 00       	adc	a,0x00
853   001B  47          	ld	b, a
854   001C  DD 7E 07    	ld	a,(ix+7)
855   001F  02          	ld	(bc), a
856   0020  3E 00       	ld	a, +((_lin) & 0xFF)
857   0022  DD 86 04    	add	a,(ix+4)
858   0025  4F          	ld	c, a
859   0026  3E 00       	ld	a, +((_lin) / 256)
860   0028  CE 00       	adc	a,0x00
861   002A  47          	ld	b, a
862   002B  DD 7E 05    	ld	a,(ix+5)
863   002E  02          	ld	(bc), a
864   002F  3E 00       	ld	a, +((_col) & 0xFF)
865   0031  DD 86 04    	add	a,(ix+4)
866   0034  4F          	ld	c, a
867   0035  3E 00       	ld	a, +((_col) / 256)
868   0037  CE 00       	adc	a,0x00
869   0039  47          	ld	b, a
870   003A  DD 7E 06    	ld	a,(ix+6)
871   003D  02          	ld	(bc), a
872   003E  3E 00       	ld	a, +((_colint) & 0xFF)
873   0040  DD 86 04    	add	a,(ix+4)
874   0043  4F          	ld	c, a
875   0044  3E 00       	ld	a, +((_colint) / 256)
876   0046  CE 00       	adc	a,0x00
877   0048  47          	ld	b, a
878   0049  AF          	xor	a, a
879   004A  02          	ld	(bc), a
880   004B  3E 00       	ld	a, +((_state) & 0xFF)
881   004D  DD 86 04    	add	a,(ix+4)
882   0050  4F          	ld	c, a
883   0051  3E 00       	ld	a, +((_state) / 256)
884   0053  CE 00       	adc	a,0x00
885   0055  47          	ld	b, a
886   0056  AF          	xor	a, a
887   0057  02          	ld	(bc), a
888   0058  3E 00       	ld	a, +((_state_a) & 0xFF)
889   005A  DD 86 04    	add	a,(ix+4)
890   005D  4F          	ld	c, a
891   005E  3E 00       	ld	a, +((_state_a) / 256)
892   0060  CE 00       	adc	a,0x00
893   0062  47          	ld	b, a
894   0063  AF          	xor	a, a
895   0064  02          	ld	(bc), a
896   0065  3E 00       	ld	a, +((_jump_lin) & 0xFF)
897   0067  DD 86 04    	add	a,(ix+4)
898   006A  5F          	ld	e, a
899   006B  3E 00       	ld	a, +((_jump_lin) / 256)
900   006D  CE 00       	adc	a,0x00
901   006F  57          	ld	d, a
902   0070  DD 7E 05    	ld	a,(ix+5)
903   0073  12          	ld	(de), a
904   0074  DD 6E 04    	ld	l,(ix+4)
905   0077  26 00       	ld	h,0x00
906   0079  29          	add	hl,hl
907   007A  11 00 00    	ld	de,_last_time
908   007D  19          	add	hl, de
909   007E  E3          	ex	(sp), hl
910   007F  E1          	pop	hl
911   0080  ED 5B 00 00 	ld	de,(_curr_time)
912   0084  E5          	push	hl
913   0085  73          	ld	(hl), e
914   0086  23          	inc	hl
915   0087  72          	ld	(hl), d
916   0088  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
917   008A  DD 86 04    	add	a,(ix+4)
918   008D  5F          	ld	e, a
919   008E  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
920   0090  CE 00       	adc	a,0x00
921   0092  57          	ld	d, a
922   0093  AF          	xor	a, a
923   0094  12          	ld	(de), a
924   0095  0A          	ld	a, (bc)
925   0096  F6 11       	or	a,+(0x01|0x10)
926   0098  02          	ld	(bc),a
927   0099  21 00 00    	ld	hl,_player_hit_col
928   009C  36 00       	ld	(hl),0x00
929   009E  21 00 00    	ld	hl,_player_hit_lin
930   00A1  36 00       	ld	(hl),0x00
931   00A3  21 00 00    	ld	hl,_player_slide
932   00A6  36 00       	ld	(hl),0x00
933   00A8  DD 66 06    	ld	h,(ix+6)
934   00AB  DD 6E 05    	ld	l,(ix+5)
935   00AE  E5          	push	hl
936   00AF  DD 66 07    	ld	h,(ix+7)
937   00B2  DD 6E 04    	ld	l,(ix+4)
938   00B5  E5          	push	hl
939   00B6  CD 00 00    	call	_NIRVANAP_spriteT_callee
940   00B9  F1          	pop	af
941   00BA  DD E1       	pop	ix
942   00BC  C9          	ret
943   00BD              	SECTION code_compiler
944   00BD              ;	---------------------------------
945   00BD              ; Function player_check_input
946   00BD              ; ---------------------------------
947   00BD              _player_check_input:
948   00BD  21 00 00    	ld	hl,_dirs
949   00C0  CB 56       	bit	2, (hl)
950   00C2  28 0C       	jr	Z,l_player_check_input_00102
951   00C4  21 00 00    	ld	hl,_dirs
952   00C7  CB 5E       	bit	3, (hl)
953   00C9  28 05       	jr	Z,l_player_check_input_00102
954   00CB  21 00 00    	ld	hl,_dirs
955   00CE  36 00       	ld	(hl),0x00
956   00D0              l_player_check_input_00102:
957   00D0  21 00 00    	ld	hl,_dirs
958   00D3  7E          	ld	a, (hl)
959   00D4  CB 07       	rlc	a
960   00D6  E6 01       	and	a,0x01
961   00D8  CB 47       	bit	0, a
962   00DA  20 1D       	jr	NZ,l_player_check_input_00107
963   00DC  CB 56       	bit	2, (hl)
964   00DE  20 19       	jr	NZ,l_player_check_input_00107
965   00E0  21 00 00    	ld	hl,_dirs
966   00E3  CB 5E       	bit	3, (hl)
967   00E5  20 12       	jr	NZ,l_player_check_input_00107
968   00E7  21 00 00    	ld	hl,_dirs
969   00EA  CB 46       	bit	0, (hl)
970   00EC  20 0B       	jr	NZ,l_player_check_input_00107
971   00EE  21 00 00    	ld	hl,_dirs
972   00F1  CB 4E       	bit	1, (hl)
973   00F3  20 04       	jr	NZ,l_player_check_input_00107
974   00F5  2E 00       	ld	l,0x00
975   00F7  18 02       	jr	l_player_check_input_00108
976   00F9              l_player_check_input_00107:
977   00F9  2E 01       	ld	l,0x01
978   00FB              l_player_check_input_00108:
979   00FB  C9          	ret
980   00FC              	SECTION code_compiler
981   00FC              ;	---------------------------------
982   00FC              ; Function player_collision
983   00FC              ; ---------------------------------
984   00FC              _player_collision:
985   00FC  21 19 00    	ld	hl,0x0019
986   00FF  E5          	push	hl
987   0100  2A 00 00    	ld	hl,(_player_hit_time)
988   0103  E5          	push	hl
989   0104  CD 00 00    	call	_game_check_time
990   0107  F1          	pop	af
991   0108  F1          	pop	af
992   0109  7D          	ld	a, l
993   010A  B7          	or	a, a
994   010B  CA 30 02    	jp	Z, l_player_collision_00124
995   010E  21 00 00    	ld	hl,_sprite
996   0111  36 00       	ld	(hl),0x00
997   0113  3A 07 00    	ld	a,(_col + 7)
998   0116  32 00 00    	ld	(_s_col1),a
999   0119  3A 07 00    	ld	a,(_lin + 7)
1000  011C  32 00 00    	ld	(_s_lin1),a
1001  011F  C6 08       	add	a,0x08
1002  0121  4F          	ld	c, a
1003  0122  3A 00 00    	ld	a, (_s_col1)
1004  0125  47          	ld	b,a
1005  0126  C5          	push	bc
1006  0127  CD 00 00    	call	_spr_calc_index
1007  012A  F1          	pop	af
1008  012B  7D          	ld	a,l
1009  012C  32 00 00    	ld	(_sprite_curr_index),a
1010  012F  4F          	ld	c,a
1011  0130  06 00       	ld	b,0x00
1012  0132  21 00 00    	ld	hl,_scr_map
1013  0135  09          	add	hl,bc
1014  0136  4E          	ld	c, (hl)
1015  0137  3E 2F       	ld	a,0x2f
1016  0139  91          	sub	a, c
1017  013A  30 0F       	jr	NC,l_player_collision_00120
1018  013C  79          	ld	a, c
1019  013D  D6 3C       	sub	a,0x3c
1020  013F  30 0A       	jr	NC,l_player_collision_00120
1021  0141  2E 06       	ld	l,0x06
1022  0143  CD 00 00    	call	_zx_border_fastcall
1023  0146  2E 32       	ld	l,0x32
1024  0148  CD 20 10    	call	_player_hit
1025  014B              l_player_collision_00120:
1026  014B  21 00 00    	ld	hl,_sprite
1027  014E  7E          	ld	a, (hl)
1028  014F  D6 07       	sub	a,0x07
1029  0151  D2 30 02    	jp	NC, l_player_collision_00124
1030  0154  3E 00       	ld	a, +((_class) & 0xFF)
1031  0156  86          	add	a, (hl)
1032  0157  4F          	ld	c, a
1033  0158  3E 00       	ld	a, +((_class) / 256)
1034  015A  CE 00       	adc	a,0x00
1035  015C  47          	ld	b, a
1036  015D  0A          	ld	a, (bc)
1037  015E  B7          	or	a, a
1038  015F  CA 29 02    	jp	Z, l_player_collision_00119
1039  0162  4E          	ld	c,(hl)
1040  0163  06 00       	ld	b,0x00
1041  0165  21 00 00    	ld	hl,_col
1042  0168  09          	add	hl,bc
1043  0169  4E          	ld	c, (hl)
1044  016A  06 00       	ld	b,0x00
1045  016C  3A 00 00    	ld	a,(_s_col1)
1046  016F  5F          	ld	e,a
1047  0170  16 00       	ld	d,0x00
1048  0172  79          	ld	a, c
1049  0173  93          	sub	a, e
1050  0174  6F          	ld	l, a
1051  0175  78          	ld	a, b
1052  0176  9A          	sbc	a, d
1053  0177  67          	ld	h, a
1054  0178  CD 00 00    	call	_abs_fastcall
1055  017B  7D          	ld	a,l
1056  017C  D6 02       	sub	a,0x02
1057  017E  7C          	ld	a,h
1058  017F  17          	rla
1059  0180  3F          	ccf
1060  0181  1F          	rra
1061  0182  DE 80       	sbc	a,0x80
1062  0184  D2 29 02    	jp	NC, l_player_collision_00119
1063  0187  2A 00 00    	ld	hl,(_sprite)
1064  018A  26 00       	ld	h,0x00
1065  018C  01 00 00    	ld	bc,_lin
1066  018F  09          	add	hl,bc
1067  0190  4E          	ld	c,(hl)
1068  0191  06 00       	ld	b,0x00
1069  0193  3A 00 00    	ld	a,(_s_lin1)
1070  0196  5F          	ld	e,a
1071  0197  16 00       	ld	d,0x00
1072  0199  79          	ld	a, c
1073  019A  93          	sub	a, e
1074  019B  6F          	ld	l, a
1075  019C  78          	ld	a, b
1076  019D  9A          	sbc	a, d
1077  019E  67          	ld	h, a
1078  019F  CD 00 00    	call	_abs_fastcall
1079  01A2  7D          	ld	a,l
1080  01A3  D6 0E       	sub	a,0x0e
1081  01A5  7C          	ld	a,h
1082  01A6  17          	rla
1083  01A7  3F          	ccf
1084  01A8  1F          	rra
1085  01A9  DE 80       	sbc	a,0x80
1086  01AB  D2 29 02    	jp	NC, l_player_collision_00119
1087  01AE  2A 00 00    	ld	hl,(_sprite)
1088  01B1  26 00       	ld	h,0x00
1089  01B3  01 00 00    	ld	bc,_class
1090  01B6  09          	add	hl,bc
1091  01B7  7E          	ld	a,(hl)
1092  01B8  FE 06       	cp	a,0x06
1093  01BA  20 23       	jr	NZ,l_player_collision_00107
1094  01BC  21 00 00    	ld	hl,_player_vita
1095  01BF  7E          	ld	a, (hl)
1096  01C0  C6 14       	add	a,0x14
1097  01C2  77          	ld	(hl), a
1098  01C3  3A 00 00    	ld	a,(_player_max_vita)
1099  01C6  21 00 00    	ld	hl,_player_vita
1100  01C9  96          	sub	a, (hl)
1101  01CA  30 06       	jr	NC,l_player_collision_00105
1102  01CC  3A 00 00    	ld	a,(_player_max_vita)
1103  01CF  32 00 00    	ld	(_player_vita),a
1104  01D2              l_player_collision_00105:
1105  01D2  CD 00 00    	call	_game_update_stats
1106  01D5  2A 00 00    	ld	hl,(_sprite)
1107  01D8  CD 00 00    	call	_spr_destroy
1108  01DB  2E 00       	ld	l,0x00
1109  01DD  18 53       	jr	l_player_collision_00125
1110  01DF              l_player_collision_00107:
1111  01DF  FE 07       	cp	a,0x07
1112  01E1  20 23       	jr	NZ,l_player_collision_00111
1113  01E3  21 00 00    	ld	hl,_player_mana
1114  01E6  7E          	ld	a, (hl)
1115  01E7  C6 14       	add	a,0x14
1116  01E9  77          	ld	(hl), a
1117  01EA  3A 00 00    	ld	a,(_player_max_mana)
1118  01ED  21 00 00    	ld	hl,_player_mana
1119  01F0  96          	sub	a, (hl)
1120  01F1  30 06       	jr	NC,l_player_collision_00109
1121  01F3  3A 00 00    	ld	a,(_player_max_mana)
1122  01F6  32 00 00    	ld	(_player_mana),a
1123  01F9              l_player_collision_00109:
1124  01F9  CD 00 00    	call	_game_update_stats
1125  01FC  2A 00 00    	ld	hl,(_sprite)
1126  01FF  CD 00 00    	call	_spr_destroy
1127  0202  2E 00       	ld	l,0x00
1128  0204  18 2C       	jr	l_player_collision_00125
1129  0206              l_player_collision_00111:
1130  0206  D6 08       	sub	a,0x08
1131  0208  20 11       	jr	NZ,l_player_collision_00113
1132  020A  21 00 00    	ld	hl,_player_lives
1133  020D  34          	inc	(hl)
1134  020E  CD 00 00    	call	_game_update_stats
1135  0211  2A 00 00    	ld	hl,(_sprite)
1136  0214  CD 00 00    	call	_spr_destroy
1137  0217  2E 00       	ld	l,0x00
1138  0219  18 17       	jr	l_player_collision_00125
1139  021B              l_player_collision_00113:
1140  021B  2E 02       	ld	l,0x02
1141  021D  CD 00 00    	call	_zx_border_fastcall
1142  0220  2E 14       	ld	l,0x14
1143  0222  CD 20 10    	call	_player_hit
1144  0225  2E 01       	ld	l,0x01
1145  0227  18 09       	jr	l_player_collision_00125
1146  0229              l_player_collision_00119:
1147  0229  21 00 00    	ld	hl,_sprite
1148  022C  34          	inc	(hl)
1149  022D  C3 4B 01    	jp	l_player_collision_00120
1150  0230              l_player_collision_00124:
1151  0230  2E 00       	ld	l,0x00
1152  0232              l_player_collision_00125:
1153  0232  C9          	ret
1154  0233              	SECTION code_compiler
1155  0233              ;	---------------------------------
1156  0233              ; Function player_kill
1157  0233              ; ---------------------------------
1158  0233              _player_kill:
1159  0233  01 00 00    	ld	bc,_state+0
1160  0236  2A 00 00    	ld	hl,(_sprite)
1161  0239  26 00       	ld	h,0x00
1162  023B  09          	add	hl,bc
1163  023C  CB 6E       	bit	5,(hl)
1164  023E  C2 05 03    	jp	NZ,l_player_kill_00109
1165  0241  C5          	push	bc
1166  0242  CD 00 00    	call	_sound_hit_brick
1167  0245  C1          	pop	bc
1168  0246  79          	ld	a, c
1169  0247  21 00 00    	ld	hl,_sprite
1170  024A  86          	add	a, (hl)
1171  024B  5F          	ld	e, a
1172  024C  78          	ld	a, b
1173  024D  CE 00       	adc	a,0x00
1174  024F  57          	ld	d, a
1175  0250  1A          	ld	a, (de)
1176  0251  F6 20       	or	a,0x20
1177  0253  12          	ld	(de), a
1178  0254  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1179  0256  86          	add	a, (hl)
1180  0257  5F          	ld	e, a
1181  0258  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1182  025A  CE 00       	adc	a,0x00
1183  025C  57          	ld	d, a
1184  025D  3E 03       	ld	a,0x03
1185  025F  12          	ld	(de), a
1186  0260  79          	ld	a, c
1187  0261  86          	add	a, (hl)
1188  0262  4F          	ld	c, a
1189  0263  78          	ld	a, b
1190  0264  CE 00       	adc	a,0x00
1191  0266  47          	ld	b, a
1192  0267  0A          	ld	a, (bc)
1193  0268  CB 57       	bit	2, a
1194  026A  28 0D       	jr	Z,l_player_kill_00102
1195  026C  2A 00 00    	ld	hl,(_sprite)
1196  026F  26 00       	ld	h,0x00
1197  0271  01 00 00    	ld	bc,_tile
1198  0274  09          	add	hl,bc
1199  0275  36 4C       	ld	(hl),0x4c
1200  0277  18 0B       	jr	l_player_kill_00103
1201  0279              l_player_kill_00102:
1202  0279  2A 00 00    	ld	hl,(_sprite)
1203  027C  26 00       	ld	h,0x00
1204  027E  01 00 00    	ld	bc,_tile
1205  0281  09          	add	hl,bc
1206  0282  36 54       	ld	(hl),0x54
1207  0284              l_player_kill_00103:
1208  0284  CD 8D 0B    	call	_player_hit_platform_clear
1209  0287  2A 00 00    	ld	hl,(_sprite)
1210  028A  26 00       	ld	h,0x00
1211  028C  01 00 00    	ld	bc,_col
1212  028F  09          	add	hl,bc
1213  0290  4E          	ld	c, (hl)
1214  0291  2A 00 00    	ld	hl,(_sprite)
1215  0294  26 00       	ld	h,0x00
1216  0296  11 00 00    	ld	de,_lin
1217  0299  19          	add	hl,de
1218  029A  46          	ld	b, (hl)
1219  029B  2A 00 00    	ld	hl,(_sprite)
1220  029E  26 00       	ld	h,0x00
1221  02A0  11 00 00    	ld	de,_tile
1222  02A3  19          	add	hl,de
1223  02A4  56          	ld	d, (hl)
1224  02A5  79          	ld	a,c
1225  02A6  21 00 00    	ld	hl,_sprite
1226  02A9  F5          	push	af
1227  02AA  33          	inc	sp
1228  02AB  4A          	ld	c, d
1229  02AC  7E          	ld	a,(hl)
1230  02AD  C5          	push	bc
1231  02AE  F5          	push	af
1232  02AF  33          	inc	sp
1233  02B0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1234  02B3  01 00 00    	ld	bc,_spr_timer+0
1235  02B6  2A 00 00    	ld	hl,(_sprite)
1236  02B9  26 00       	ld	h,0x00
1237  02BB  29          	add	hl, hl
1238  02BC  09          	add	hl,bc
1239  02BD  ED 5B 00 00 	ld	de,(_curr_time)
1240  02C1  73          	ld	(hl),e
1241  02C2  23          	inc	hl
1242  02C3  72          	ld	(hl),d
1243  02C4  3A 00 00    	ld	a,(_sprite)
1244  02C7  D6 07       	sub	a,0x07
1245  02C9  20 1E       	jr	NZ,l_player_kill_00105
1246  02CB  01 00 00    	ld	bc,_state_a+0
1247  02CE  79          	ld	a, c
1248  02CF  21 00 00    	ld	hl,_sprite
1249  02D2  86          	add	a, (hl)
1250  02D3  5F          	ld	e, a
1251  02D4  78          	ld	a, b
1252  02D5  CE 00       	adc	a,0x00
1253  02D7  57          	ld	d, a
1254  02D8  1A          	ld	a, (de)
1255  02D9  F6 08       	or	a,0x08
1256  02DB  12          	ld	(de), a
1257  02DC  79          	ld	a, c
1258  02DD  86          	add	a, (hl)
1259  02DE  4F          	ld	c, a
1260  02DF  78          	ld	a, b
1261  02E0  CE 00       	adc	a,0x00
1262  02E2  47          	ld	b, a
1263  02E3  0A          	ld	a, (bc)
1264  02E4  E6 EF       	and	a,0xef
1265  02E6  02          	ld	(bc), a
1266  02E7  18 1C       	jr	l_player_kill_00109
1267  02E9              l_player_kill_00105:
1268  02E9  01 00 00    	ld	bc,_state_a+0
1269  02EC  79          	ld	a, c
1270  02ED  21 00 00    	ld	hl,_sprite
1271  02F0  86          	add	a, (hl)
1272  02F1  5F          	ld	e, a
1273  02F2  78          	ld	a, b
1274  02F3  CE 00       	adc	a,0x00
1275  02F5  57          	ld	d, a
1276  02F6  1A          	ld	a, (de)
1277  02F7  F6 10       	or	a,0x10
1278  02F9  12          	ld	(de), a
1279  02FA  79          	ld	a, c
1280  02FB  86          	add	a, (hl)
1281  02FC  4F          	ld	c, a
1282  02FD  78          	ld	a, b
1283  02FE  CE 00       	adc	a,0x00
1284  0300  47          	ld	b, a
1285  0301  0A          	ld	a, (bc)
1286  0302  E6 F7       	and	a,0xf7
1287  0304  02          	ld	(bc), a
1288  0305              l_player_kill_00109:
1289  0305  C9          	ret
1290  0306              	SECTION code_compiler
1291  0306              ;	---------------------------------
1292  0306              ; Function player_restart
1293  0306              ; ---------------------------------
1294  0306              _player_restart:
1295  0306  CD 00 00    	call	___sdcc_enter_ix
1296  0309  F5          	push	af
1297  030A  4D          	ld	c, l
1298  030B  21 00 00    	ld	hl,_ay_effect_15
1299  030E  CD 00 00    	call	_ay_fx_play
1300  0311  C5          	push	bc
1301  0312  21 0E 70    	ld	hl,0x700e
1302  0315  E5          	push	hl
1303  0316  21 07 00    	ld	hl,0x0007
1304  0319  E5          	push	hl
1305  031A  CD 00 00    	call	_player_init
1306  031D  F1          	pop	af
1307  031E  F1          	pop	af
1308  031F  C1          	pop	bc
1309  0320  11 00 00    	ld	de,_state+0
1310  0323  69          	ld	l,c
1311  0324  26 00       	ld	h,0x00
1312  0326  19          	add	hl, de
1313  0327  CB E6       	set	4, (hl)
1314  0329  11 00 00    	ld	de,_state_a+0
1315  032C  69          	ld	l,c
1316  032D  26 00       	ld	h,0x00
1317  032F  19          	add	hl, de
1318  0330  CB C6       	set	0, (hl)
1319  0332  11 00 00    	ld	de,_spr_timer+0
1320  0335  69          	ld	l, c
1321  0336  26 00       	ld	h,0x00
1322  0338  29          	add	hl, hl
1323  0339  19          	add	hl,de
1324  033A  E3          	ex	(sp), hl
1325  033B  E1          	pop	hl
1326  033C  ED 5B 00 00 	ld	de,(_curr_time)
1327  0340  E5          	push	hl
1328  0341  73          	ld	(hl), e
1329  0342  23          	inc	hl
1330  0343  72          	ld	(hl), d
1331  0344  11 00 00    	ld	de,_sprite_speed_alt+0
1332  0347  69          	ld	l,c
1333  0348  26 00       	ld	h,0x00
1334  034A  19          	add	hl, de
1335  034B  F1          	pop	af
1336  034C  36 08       	ld	(hl),0x08
1337  034E  DD E1       	pop	ix
1338  0350  C9          	ret
1339  0351              	SECTION code_compiler
1340  0351              ;	---------------------------------
1341  0351              ; Function player_turn
1342  0351              ; ---------------------------------
1343  0351              _player_turn:
1344  0351  21 00 00    	ld	hl,_sprite
1345  0354  CD 00 00    	call	_spr_chktime
1346  0357  7D          	ld	a, l
1347  0358  B7          	or	a, a
1348  0359  C8          	ret	Z
1349  035A  21 00 00    	ld	hl,_k1
1350  035D  E5          	push	hl
1351  035E  2A 00 00    	ld	hl,(_joyfunc1)
1352  0361  CD 00 00    	call	___sdcc_call_hl
1353  0364  F1          	pop	af
1354  0365  7D          	ld	a,l
1355  0366  32 00 00    	ld	(_dirs),a
1356  0369  CD 6F 03    	call	_player_move
1357  036C  C3 FC 00    	jp  _player_collision
1358  036F              	SECTION code_compiler
1359  036F              ;	---------------------------------
1360  036F              ; Function player_move
1361  036F              ; ---------------------------------
1362  036F              _player_move:
1363  036F  2A 00 00    	ld	hl,(_sprite)
1364  0372  26 00       	ld	h,0x00
1365  0374  01 00 00    	ld	bc,_lin
1366  0377  09          	add	hl,bc
1367  0378  7E          	ld	a,(hl)
1368  0379  32 00 00    	ld	(_s_lin0),a
1369  037C  2A 00 00    	ld	hl,(_sprite)
1370  037F  26 00       	ld	h,0x00
1371  0381  01 00 00    	ld	bc,_col
1372  0384  09          	add	hl,bc
1373  0385  7E          	ld	a,(hl)
1374  0386  32 00 00    	ld	(_s_col0),a
1375  0389  2A 00 00    	ld	hl,(_sprite)
1376  038C  26 00       	ld	h,0x00
1377  038E  01 00 00    	ld	bc,_tile
1378  0391  09          	add	hl,bc
1379  0392  4E          	ld	c, (hl)
1380  0393  3A 00 00    	ld	a,(_sprite)
1381  0396  5F          	ld	e,a
1382  0397  16 00       	ld	d,0x00
1383  0399  21 00 00    	ld	hl,_colint
1384  039C  19          	add	hl,de
1385  039D  7E          	ld	a,(hl)
1386  039E  81          	add	a,c
1387  039F  32 00 00    	ld	(_s_tile0),a
1388  03A2  2A 00 00    	ld	hl,(_sprite)
1389  03A5  26 00       	ld	h,0x00
1390  03A7  01 00 00    	ld	bc,_state
1391  03AA  09          	add	hl,bc
1392  03AB  7E          	ld	a,(hl)
1393  03AC  CB 47       	bit	0,a
1394  03AE  32 00 00    	ld	(_s_state),a
1395  03B1  20 07       	jr	NZ,l_player_move_00113
1396  03B3  21 00 00    	ld	hl,_s_state
1397  03B6  CB 4E       	bit	1, (hl)
1398  03B8  28 46       	jr	Z,l_player_move_00114
1399  03BA              l_player_move_00113:
1400  03BA  CD FE 06    	call	_player_fire
1401  03BD  3A 00 00    	ld	a,(_player_vel_y)
1402  03C0  21 00 00    	ld	hl,_player_vel_y1
1403  03C3  96          	sub	a, (hl)
1404  03C4  E2 C9 03    	jp	PO, l_player_move_00162
1405  03C7  EE 80       	xor	a,0x80
1406  03C9              l_player_move_00162:
1407  03C9  F2 EC 03    	jp	P, l_player_move_00106
1408  03CC  21 00 00    	ld	hl,_dirs
1409  03CF  CB 56       	bit	2, (hl)
1410  03D1  28 09       	jr	Z,l_player_move_00102
1411  03D3  21 00 00    	ld	hl,_s_state
1412  03D6  7E          	ld	a,(hl)
1413  03D7  F6 08       	or	a,0x08
1414  03D9  E6 FB       	and	a,0xfb
1415  03DB  77          	ld	(hl),a
1416  03DC              l_player_move_00102:
1417  03DC  21 00 00    	ld	hl,_dirs
1418  03DF  CB 4E       	bit	1, (hl)
1419  03E1  28 09       	jr	Z,l_player_move_00106
1420  03E3  21 00 00    	ld	hl,_s_state
1421  03E6  7E          	ld	a,(hl)
1422  03E7  F6 04       	or	a,0x04
1423  03E9  E6 F7       	and	a,0xf7
1424  03EB  77          	ld	(hl),a
1425  03EC              l_player_move_00106:
1426  03EC  CD 62 0C    	call	_player_move_jump
1427  03EF  7D          	ld	a, l
1428  03F0  B7          	or	a, a
1429  03F1  28 2E       	jr	Z,l_player_move_00115
1430  03F3  3A 00 00    	ld	a,(_player_over_stair)
1431  03F6  B7          	or	a, a
1432  03F7  20 28       	jr	NZ,l_player_move_00115
1433  03F9  2E 60       	ld	l,0x60
1434  03FB  CD 32 05    	call	_player_tile
1435  03FE  18 21       	jr	l_player_move_00115
1436  0400              l_player_move_00114:
1437  0400  CD 88 05    	call	_player_move_input
1438  0403  7D          	ld	a, l
1439  0404  B7          	or	a, a
1440  0405  20 17       	jr	NZ,l_player_move_00112
1441  0407  2A 00 00    	ld	hl,(_sprite)
1442  040A  26 00       	ld	h,0x00
1443  040C  01 00 00    	ld	bc,_colint
1444  040F  09          	add	hl,bc
1445  0410  AF          	xor	a,a
1446  0411  77          	ld	(hl),a
1447  0412  2E 70       	ld	l,0x70
1448  0414  CD 32 05    	call	_player_tile
1449  0417  21 00 00    	ld	hl,_s_state
1450  041A  7E          	ld	a,(hl)
1451  041B  E6 F3       	and	a,+(0xf7&0xfb)
1452  041D  77          	ld	(hl),a
1453  041E              l_player_move_00112:
1454  041E  CD E6 0B    	call	_player_check_floor
1455  0421              l_player_move_00115:
1456  0421  CD 00 00    	call	_spr_redraw
1457  0424  7D          	ld	a, l
1458  0425  B7          	or	a, a
1459  0426  28 03       	jr	Z,l_player_move_00118
1460  0428  CD 3B 07    	call	_player_check_map
1461  042B              l_player_move_00118:
1462  042B  3A 00 00    	ld	a,(_player_hit_lin)
1463  042E  B7          	or	a, a
1464  042F  28 03       	jr	Z,l_player_move_00120
1465  0431  CD 8D 0B    	call	_player_hit_platform_clear
1466  0434              l_player_move_00120:
1467  0434  2A 00 00    	ld	hl,(_sprite)
1468  0437  26 00       	ld	h,0x00
1469  0439  01 00 00    	ld	bc,_state
1470  043C  09          	add	hl,bc
1471  043D  3A 00 00    	ld	a,(_s_state)
1472  0440  77          	ld	(hl),a
1473  0441  2E 00       	ld	l,0x00
1474  0443  C9          	ret
1475  0444              	SECTION code_compiler
1476  0444              ;	---------------------------------
1477  0444              ; Function player_check_stairs_down
1478  0444              ; ---------------------------------
1479  0444              _player_check_stairs_down:
1480  0444  CD 00 00    	call	___sdcc_enter_ix
1481  0447  3B          	dec	sp
1482  0448  2A 00 00    	ld	hl,(_sprite)
1483  044B  26 00       	ld	h,0x00
1484  044D  5D          	ld	e,l
1485  044E  01 00 00    	ld	bc,_col
1486  0451  09          	add	hl,bc
1487  0452  46          	ld	b,(hl)
1488  0453  16 00       	ld	d,0x00
1489  0455  21 00 00    	ld	hl,_lin
1490  0458  19          	add	hl,de
1491  0459  7E          	ld	a,(hl)
1492  045A  C6 10       	add	a,0x10
1493  045C  4F          	ld	c,a
1494  045D  C5          	push	bc
1495  045E  CD 00 00    	call	_spr_calc_index
1496  0461  F1          	pop	af
1497  0462  7D          	ld	a,l
1498  0463  32 00 00    	ld	(_sprite_curr_index),a
1499  0466  4F          	ld	c,a
1500  0467  06 00       	ld	b,0x00
1501  0469  21 00 00    	ld	hl,_scr_map
1502  046C  09          	add	hl,bc
1503  046D  7E          	ld	a,(hl)
1504  046E  4F          	ld	c,a
1505  046F  D6 44       	sub	a,0x44
1506  0471  38 05       	jr	C,l_player_check_stairs_down_00105
1507  0473  3E 47       	ld	a,0x47
1508  0475  91          	sub	a, c
1509  0476  30 04       	jr	NC,l_player_check_stairs_down_00106
1510  0478              l_player_check_stairs_down_00105:
1511  0478  3E 00       	ld	a,0x00
1512  047A  18 02       	jr	l_player_check_stairs_down_00107
1513  047C              l_player_check_stairs_down_00106:
1514  047C  3E 01       	ld	a,0x01
1515  047E              l_player_check_stairs_down_00107:
1516  047E  B7          	or	a, a
1517  047F  28 05       	jr	Z,l_player_check_stairs_down_00103
1518  0481  21 00 00    	ld	hl,_player_over_stair
1519  0484  36 01       	ld	(hl),0x01
1520  0486              l_player_check_stairs_down_00103:
1521  0486  33          	inc	sp
1522  0487  DD E1       	pop	ix
1523  0489  C9          	ret
1524  048A              	SECTION code_compiler
1525  048A              ;	---------------------------------
1526  048A              ; Function player_check_stairs
1527  048A              ; ---------------------------------
1528  048A              _player_check_stairs:
1529  048A  CD 00 00    	call	___sdcc_enter_ix
1530  048D  3B          	dec	sp
1531  048E  5D          	ld	e, l
1532  048F  2A 00 00    	ld	hl,(_sprite)
1533  0492  26 00       	ld	h,0x00
1534  0494  01 00 00    	ld	bc,_col
1535  0497  09          	add	hl,bc
1536  0498  7E          	ld	a,(hl)
1537  0499  83          	add	a,e
1538  049A  57          	ld	d,a
1539  049B  2A 00 00    	ld	hl,(_sprite)
1540  049E  26 00       	ld	h,0x00
1541  04A0  01 00 00    	ld	bc,_lin
1542  04A3  09          	add	hl,bc
1543  04A4  46          	ld	b, (hl)
1544  04A5  D5          	push	de
1545  04A6  58          	ld	e,b
1546  04A7  D5          	push	de
1547  04A8  CD 00 00    	call	_spr_calc_index
1548  04AB  F1          	pop	af
1549  04AC  D1          	pop	de
1550  04AD  7D          	ld	a,l
1551  04AE  32 00 00    	ld	(_sprite_curr_index),a
1552  04B1  4F          	ld	c,a
1553  04B2  06 00       	ld	b,0x00
1554  04B4  21 00 00    	ld	hl,_scr_map
1555  04B7  09          	add	hl,bc
1556  04B8  7E          	ld	a,(hl)
1557  04B9  4F          	ld	c,a
1558  04BA  D6 44       	sub	a,0x44
1559  04BC  38 05       	jr	C,l_player_check_stairs_00111
1560  04BE  3E 47       	ld	a,0x47
1561  04C0  91          	sub	a, c
1562  04C1  30 04       	jr	NC,l_player_check_stairs_00112
1563  04C3              l_player_check_stairs_00111:
1564  04C3  0E 00       	ld	c,0x00
1565  04C5  18 02       	jr	l_player_check_stairs_00113
1566  04C7              l_player_check_stairs_00112:
1567  04C7  0E 01       	ld	c,0x01
1568  04C9              l_player_check_stairs_00113:
1569  04C9  3E 00       	ld	a, +((_col) & 0xFF)
1570  04CB  21 00 00    	ld	hl,_sprite
1571  04CE  86          	add	a, (hl)
1572  04CF  6F          	ld	l, a
1573  04D0  3E 00       	ld	a, +((_col) / 256)
1574  04D2  CE 00       	adc	a,0x00
1575  04D4  67          	ld	h, a
1576  04D5  7E          	ld	a, (hl)
1577  04D6  83          	add	a, e
1578  04D7  47          	ld	b, a
1579  04D8  2A 00 00    	ld	hl,(_sprite)
1580  04DB  26 00       	ld	h,0x00
1581  04DD  11 00 00    	ld	de,_lin
1582  04E0  19          	add	hl,de
1583  04E1  7E          	ld	a,(hl)
1584  04E2  C6 0F       	add	a,0x0f
1585  04E4  57          	ld	d, a
1586  04E5  C5          	push	bc
1587  04E6  4A          	ld	c, d
1588  04E7  C5          	push	bc
1589  04E8  CD 00 00    	call	_spr_calc_index
1590  04EB  F1          	pop	af
1591  04EC  C1          	pop	bc
1592  04ED  7D          	ld	a,l
1593  04EE  32 00 00    	ld	(_sprite_curr_index),a
1594  04F1  5F          	ld	e,a
1595  04F2  16 00       	ld	d,0x00
1596  04F4  21 00 00    	ld	hl,_scr_map
1597  04F7  19          	add	hl,de
1598  04F8  7E          	ld	a,(hl)
1599  04F9  47          	ld	b,a
1600  04FA  D6 44       	sub	a,0x44
1601  04FC  38 05       	jr	C,l_player_check_stairs_00114
1602  04FE  3E 47       	ld	a,0x47
1603  0500  90          	sub	a, b
1604  0501  30 04       	jr	NC,l_player_check_stairs_00115
1605  0503              l_player_check_stairs_00114:
1606  0503  06 00       	ld	b,0x00
1607  0505  18 02       	jr	l_player_check_stairs_00116
1608  0507              l_player_check_stairs_00115:
1609  0507  06 01       	ld	b,0x01
1610  0509              l_player_check_stairs_00116:
1611  0509  79          	ld	a, c
1612  050A  B7          	or	a,a
1613  050B  20 03       	jr	NZ,l_player_check_stairs_00105
1614  050D  B0          	or	a,b
1615  050E  28 10       	jr	Z,l_player_check_stairs_00106
1616  0510              l_player_check_stairs_00105:
1617  0510  21 00 00    	ld	hl,_player_over_stair
1618  0513  7E          	ld	a, (hl)
1619  0514  B7          	or	a, a
1620  0515  20 17       	jr	NZ,l_player_check_stairs_00109
1621  0517  36 01       	ld	(hl),0x01
1622  0519  2E 72       	ld	l,0x72
1623  051B  CD 32 05    	call	_player_tile
1624  051E  18 0E       	jr	l_player_check_stairs_00109
1625  0520              l_player_check_stairs_00106:
1626  0520  21 00 00    	ld	hl,_player_over_stair
1627  0523  7E          	ld	a, (hl)
1628  0524  B7          	or	a, a
1629  0525  28 07       	jr	Z,l_player_check_stairs_00109
1630  0527  36 00       	ld	(hl),0x00
1631  0529  2E 60       	ld	l,0x60
1632  052B  CD 32 05    	call	_player_tile
1633  052E              l_player_check_stairs_00109:
1634  052E  33          	inc	sp
1635  052F  DD E1       	pop	ix
1636  0531  C9          	ret
1637  0532              	SECTION code_compiler
1638  0532              ;	---------------------------------
1639  0532              ; Function player_tile
1640  0532              ; ---------------------------------
1641  0532              _player_tile:
1642  0532  45          	ld	b, l
1643  0533  3A 00 00    	ld	a,(_player_over_stair)
1644  0536  B7          	or	a, a
1645  0537  28 0D       	jr	Z,l_player_tile_00105
1646  0539  2A 00 00    	ld	hl,(_sprite)
1647  053C  26 00       	ld	h,0x00
1648  053E  01 00 00    	ld	bc,_tile
1649  0541  09          	add	hl,bc
1650  0542  36 72       	ld	(hl),0x72
1651  0544  18 41       	jr	l_player_tile_00107
1652  0546              l_player_tile_00105:
1653  0546  78          	ld	a, b
1654  0547  D6 70       	sub	a,0x70
1655  0549  20 1F       	jr	NZ,l_player_tile_00102
1656  054B  2A 00 00    	ld	hl,(_sprite)
1657  054E  26 00       	ld	h,0x00
1658  0550  11 00 00    	ld	de,_tile
1659  0553  19          	add	hl,de
1660  0554  E5          	push	hl
1661  0555  3E 01       	ld	a,0x01
1662  0557  21 00 00    	ld	hl,_sprite
1663  055A  F5          	push	af
1664  055B  33          	inc	sp
1665  055C  7E          	ld	a, (hl)
1666  055D  48          	ld	c,b
1667  055E  47          	ld	b,a
1668  055F  C5          	push	bc
1669  0560  CD 00 00    	call	_spr_tile_dir
1670  0563  F1          	pop	af
1671  0564  33          	inc	sp
1672  0565  D1          	pop	de
1673  0566  7D          	ld	a,l
1674  0567  12          	ld	(de), a
1675  0568  18 1D       	jr	l_player_tile_00107
1676  056A              l_player_tile_00102:
1677  056A  2A 00 00    	ld	hl,(_sprite)
1678  056D  26 00       	ld	h,0x00
1679  056F  11 00 00    	ld	de,_tile
1680  0572  19          	add	hl,de
1681  0573  E5          	push	hl
1682  0574  3E 08       	ld	a,0x08
1683  0576  21 00 00    	ld	hl,_sprite
1684  0579  F5          	push	af
1685  057A  33          	inc	sp
1686  057B  7E          	ld	a, (hl)
1687  057C  48          	ld	c,b
1688  057D  47          	ld	b,a
1689  057E  C5          	push	bc
1690  057F  CD 00 00    	call	_spr_tile_dir
1691  0582  F1          	pop	af
1692  0583  33          	inc	sp
1693  0584  D1          	pop	de
1694  0585  7D          	ld	a,l
1695  0586  12          	ld	(de), a
1696  0587              l_player_tile_00107:
1697  0587  C9          	ret
1698  0588              	SECTION code_compiler
1699  0588              ;	---------------------------------
1700  0588              ; Function player_move_input
1701  0588              ; ---------------------------------
1702  0588              _player_move_input:
1703  0588  CD BD 00    	call	_player_check_input
1704  058B  7D          	ld	a, l
1705  058C  B7          	or	a, a
1706  058D  CA FB 06    	jp	Z, l_player_move_input_00136
1707  0590  CD FE 06    	call	_player_fire
1708  0593  7D          	ld	a, l
1709  0594  B7          	or	a, a
1710  0595  28 0A       	jr	Z,l_player_move_input_00102
1711  0597  21 00 00    	ld	hl,_dirs
1712  059A  36 00       	ld	(hl),0x00
1713  059C  2E 00       	ld	l,0x00
1714  059E  C3 FD 06    	jp	l_player_move_input_00137
1715  05A1              l_player_move_input_00102:
1716  05A1  21 00 00    	ld	hl,_dirs
1717  05A4  CB 7E       	bit	7, (hl)
1718  05A6  28 67       	jr	Z,l_player_move_input_00106
1719  05A8  21 00 00    	ld	hl,_player_vel_inc
1720  05AB  36 01       	ld	(hl),0x01
1721  05AD  CD 00 00    	call	_ay_is_playing
1722  05B0  7D          	ld	a, l
1723  05B1  D6 03       	sub	a,0x03
1724  05B3  28 06       	jr	Z,l_player_move_input_00104
1725  05B5  21 00 00    	ld	hl,_ay_effect_03
1726  05B8  CD 00 00    	call	_ay_fx_play
1727  05BB              l_player_move_input_00104:
1728  05BB  21 00 00    	ld	hl,_player_over_stair
1729  05BE  36 00       	ld	(hl),0x00
1730  05C0  CD 00 00    	call	_sound_jump
1731  05C3  21 00 00    	ld	hl,_s_state
1732  05C6  7E          	ld	a,(hl)
1733  05C7  F6 01       	or	a,0x01
1734  05C9  E6 FD       	and	a,0xfd
1735  05CB  77          	ld	(hl),a
1736  05CC  2A 00 00    	ld	hl,(_sprite)
1737  05CF  26 00       	ld	h,0x00
1738  05D1  01 00 00    	ld	bc,_jump_lin
1739  05D4  09          	add	hl,bc
1740  05D5  4D          	ld	c,l
1741  05D6  44          	ld	b,h
1742  05D7  2A 00 00    	ld	hl,(_sprite)
1743  05DA  26 00       	ld	h,0x00
1744  05DC  11 00 00    	ld	de,_lin
1745  05DF  19          	add	hl,de
1746  05E0  7E          	ld	a,(hl)
1747  05E1  02          	ld	(bc),a
1748  05E2  2A 00 00    	ld	hl,(_sprite)
1749  05E5  26 00       	ld	h,0x00
1750  05E7  01 00 00    	ld	bc,_state
1751  05EA  09          	add	hl,bc
1752  05EB  3A 00 00    	ld	a,(_s_state)
1753  05EE  77          	ld	(hl),a
1754  05EF  2E 64       	ld	l,0x64
1755  05F1  CD 32 05    	call	_player_tile
1756  05F4  2A 00 00    	ld	hl,(_sprite)
1757  05F7  26 00       	ld	h,0x00
1758  05F9  01 00 00    	ld	bc,_sprite_speed_alt
1759  05FC  09          	add	hl,bc
1760  05FD  36 02       	ld	(hl),0x02
1761  05FF  21 00 00    	ld	hl,_player_slide
1762  0602  36 00       	ld	(hl),0x00
1763  0604  3A 00 00    	ld	a,(_player_vel_y0)
1764  0607  32 00 00    	ld	(_player_vel_y),a
1765  060A  2E 01       	ld	l,0x01
1766  060C  C3 FD 06    	jp	l_player_move_input_00137
1767  060F              l_player_move_input_00106:
1768  060F  21 00 00    	ld	hl,_dirs
1769  0612  CB 5E       	bit	3, (hl)
1770  0614  28 33       	jr	Z,l_player_move_input_00110
1771  0616  21 00 00    	ld	hl,_s_state
1772  0619  7E          	ld	a,(hl)
1773  061A  F6 04       	or	a,0x04
1774  061C  E6 F7       	and	a,0xf7
1775  061E  77          	ld	(hl),a
1776  061F  01 00 00    	ld	bc,_state_a+0
1777  0622  79          	ld	a, c
1778  0623  21 00 00    	ld	hl,_sprite
1779  0626  86          	add	a, (hl)
1780  0627  5F          	ld	e, a
1781  0628  78          	ld	a, b
1782  0629  CE 00       	adc	a,0x00
1783  062B  57          	ld	d, a
1784  062C  1A          	ld	a, (de)
1785  062D  F6 10       	or	a,0x10
1786  062F  12          	ld	(de), a
1787  0630  79          	ld	a, c
1788  0631  86          	add	a, (hl)
1789  0632  4F          	ld	c, a
1790  0633  78          	ld	a, b
1791  0634  CE 00       	adc	a,0x00
1792  0636  47          	ld	b, a
1793  0637  0A          	ld	a, (bc)
1794  0638  E6 F7       	and	a,0xf7
1795  063A  02          	ld	(bc), a
1796  063B  3A 00 00    	ld	a,(_player_over_stair)
1797  063E  B7          	or	a, a
1798  063F  28 05       	jr	Z,l_player_move_input_00108
1799  0641  2E 00       	ld	l,0x00
1800  0643  CD 8A 04    	call	_player_check_stairs
1801  0646              l_player_move_input_00108:
1802  0646  CD 00 00    	call	_spr_move_horizontal
1803  0649              l_player_move_input_00110:
1804  0649  21 00 00    	ld	hl,_dirs
1805  064C  CB 56       	bit	2, (hl)
1806  064E  28 33       	jr	Z,l_player_move_input_00114
1807  0650  21 00 00    	ld	hl,_s_state
1808  0653  7E          	ld	a,(hl)
1809  0654  F6 08       	or	a,0x08
1810  0656  E6 FB       	and	a,0xfb
1811  0658  77          	ld	(hl),a
1812  0659  01 00 00    	ld	bc,_state_a+0
1813  065C  79          	ld	a, c
1814  065D  21 00 00    	ld	hl,_sprite
1815  0660  86          	add	a, (hl)
1816  0661  5F          	ld	e, a
1817  0662  78          	ld	a, b
1818  0663  CE 00       	adc	a,0x00
1819  0665  57          	ld	d, a
1820  0666  1A          	ld	a, (de)
1821  0667  F6 08       	or	a,0x08
1822  0669  12          	ld	(de), a
1823  066A  79          	ld	a, c
1824  066B  86          	add	a, (hl)
1825  066C  4F          	ld	c, a
1826  066D  78          	ld	a, b
1827  066E  CE 00       	adc	a,0x00
1828  0670  47          	ld	b, a
1829  0671  0A          	ld	a, (bc)
1830  0672  E6 EF       	and	a,0xef
1831  0674  02          	ld	(bc), a
1832  0675  3A 00 00    	ld	a,(_player_over_stair)
1833  0678  B7          	or	a, a
1834  0679  28 05       	jr	Z,l_player_move_input_00112
1835  067B  2E 00       	ld	l,0x00
1836  067D  CD 8A 04    	call	_player_check_stairs
1837  0680              l_player_move_input_00112:
1838  0680  CD 00 00    	call	_spr_move_horizontal
1839  0683              l_player_move_input_00114:
1840  0683  21 00 00    	ld	hl,_dirs
1841  0686  CB 46       	bit	0, (hl)
1842  0688  28 2B       	jr	Z,l_player_move_input_00124
1843  068A  2E 00       	ld	l,0x00
1844  068C  CD 8A 04    	call	_player_check_stairs
1845  068F  3A 00 00    	ld	a,(_player_over_stair)
1846  0692  B7          	or	a, a
1847  0693  28 0E       	jr	Z,l_player_move_input_00121
1848  0695  CD 00 00    	call	_spr_move_up
1849  0698  7D          	ld	a, l
1850  0699  B7          	or	a, a
1851  069A  28 19       	jr	Z,l_player_move_input_00124
1852  069C  21 00 00    	ld	hl,_player_over_stair
1853  069F  36 00       	ld	(hl),0x00
1854  06A1  18 12       	jr	l_player_move_input_00124
1855  06A3              l_player_move_input_00121:
1856  06A3  21 00 00    	ld	hl,_dirs
1857  06A6  CB 5E       	bit	3, (hl)
1858  06A8  20 0B       	jr	NZ,l_player_move_input_00124
1859  06AA  21 00 00    	ld	hl,_dirs
1860  06AD  CB 56       	bit	2, (hl)
1861  06AF  20 04       	jr	NZ,l_player_move_input_00124
1862  06B1  2E 00       	ld	l,0x00
1863  06B3  18 48       	jr	l_player_move_input_00137
1864  06B5              l_player_move_input_00124:
1865  06B5  21 00 00    	ld	hl,_dirs
1866  06B8  CB 4E       	bit	1, (hl)
1867  06BA  28 29       	jr	Z,l_player_move_input_00134
1868  06BC  CD 44 04    	call	_player_check_stairs_down
1869  06BF  3A 00 00    	ld	a,(_player_over_stair)
1870  06C2  B7          	or	a, a
1871  06C3  28 0E       	jr	Z,l_player_move_input_00131
1872  06C5  CD 00 00    	call	_spr_move_down
1873  06C8  7D          	ld	a, l
1874  06C9  B7          	or	a, a
1875  06CA  28 19       	jr	Z,l_player_move_input_00134
1876  06CC  21 00 00    	ld	hl,_player_over_stair
1877  06CF  36 00       	ld	(hl),0x00
1878  06D1  18 12       	jr	l_player_move_input_00134
1879  06D3              l_player_move_input_00131:
1880  06D3  21 00 00    	ld	hl,_dirs
1881  06D6  CB 5E       	bit	3, (hl)
1882  06D8  20 0B       	jr	NZ,l_player_move_input_00134
1883  06DA  21 00 00    	ld	hl,_dirs
1884  06DD  CB 56       	bit	2, (hl)
1885  06DF  20 04       	jr	NZ,l_player_move_input_00134
1886  06E1  2E 00       	ld	l,0x00
1887  06E3  18 18       	jr	l_player_move_input_00137
1888  06E5              l_player_move_input_00134:
1889  06E5  2A 00 00    	ld	hl,(_sprite)
1890  06E8  26 00       	ld	h,0x00
1891  06EA  01 00 00    	ld	bc,_state
1892  06ED  09          	add	hl,bc
1893  06EE  3A 00 00    	ld	a,(_s_state)
1894  06F1  77          	ld	(hl),a
1895  06F2  2E 60       	ld	l,0x60
1896  06F4  CD 32 05    	call	_player_tile
1897  06F7  2E 01       	ld	l,0x01
1898  06F9  18 02       	jr	l_player_move_input_00137
1899  06FB              l_player_move_input_00136:
1900  06FB  2E 00       	ld	l,0x00
1901  06FD              l_player_move_input_00137:
1902  06FD  C9          	ret
1903  06FE              	SECTION code_compiler
1904  06FE              ;	---------------------------------
1905  06FE              ; Function player_fire
1906  06FE              ; ---------------------------------
1907  06FE              _player_fire:
1908  06FE  21 00 00    	ld	hl,_dirs
1909  0701  CB 7E       	bit	7, (hl)
1910  0703  28 33       	jr	Z,l_player_fire_00108
1911  0705  21 00 00    	ld	hl,_dirs
1912  0708  CB 4E       	bit	1, (hl)
1913  070A  28 2C       	jr	Z,l_player_fire_00108
1914  070C  21 00 00    	ld	hl,_player_mana
1915  070F  7E          	ld	a, (hl)
1916  0710  B7          	or	a, a
1917  0711  28 21       	jr	Z,l_player_fire_00105
1918  0713  3A 07 00    	ld	a,(_bullet_col + 0x0007)
1919  0716  3C          	inc	a
1920  0717  20 1B       	jr	NZ,l_player_fire_00105
1921  0719  3E 05       	ld	a,0x05
1922  071B  96          	sub	a, (hl)
1923  071C  30 06       	jr	NC,l_player_fire_00102
1924  071E  7E          	ld	a, (hl)
1925  071F  C6 FB       	add	a,0xfb
1926  0721  77          	ld	(hl), a
1927  0722  18 05       	jr	l_player_fire_00103
1928  0724              l_player_fire_00102:
1929  0724  21 00 00    	ld	hl,_player_mana
1930  0727  36 00       	ld	(hl),0x00
1931  0729              l_player_fire_00103:
1932  0729  CD 00 00    	call	_game_update_stats
1933  072C  21 07 78    	ld	hl,0x7807
1934  072F  E5          	push	hl
1935  0730  CD 00 00    	call	_game_shoot_fire
1936  0733  F1          	pop	af
1937  0734              l_player_fire_00105:
1938  0734  2E 01       	ld	l,0x01
1939  0736  18 02       	jr	l_player_fire_00110
1940  0738              l_player_fire_00108:
1941  0738  2E 00       	ld	l,0x00
1942  073A              l_player_fire_00110:
1943  073A  C9          	ret
1944  073B              	SECTION code_compiler
1945  073B              ;	---------------------------------
1946  073B              ; Function player_check_map
1947  073B              ; ---------------------------------
1948  073B              _player_check_map:
1949  073B  2A 00 00    	ld	hl,(_sprite)
1950  073E  26 00       	ld	h,0x00
1951  0740  5D          	ld	e,l
1952  0741  01 00 00    	ld	bc,_col
1953  0744  09          	add	hl,bc
1954  0745  46          	ld	b,(hl)
1955  0746  16 00       	ld	d,0x00
1956  0748  21 00 00    	ld	hl,_lin
1957  074B  19          	add	hl,de
1958  074C  4E          	ld	c, (hl)
1959  074D  C5          	push	bc
1960  074E  CD 00 00    	call	_spr_calc_index
1961  0751  F1          	pop	af
1962  0752  7D          	ld	a,l
1963  0753  32 00 00    	ld	(_sprite_curr_index),a
1964  0756  2A 00 00    	ld	hl,(_sprite)
1965  0759  26 00       	ld	h,0x00
1966  075B  01 00 00    	ld	bc,_col
1967  075E  09          	add	hl,bc
1968  075F  4E          	ld	c, (hl)
1969  0760  3A 00 00    	ld	a,(_sprite)
1970  0763  5F          	ld	e,a
1971  0764  16 00       	ld	d,0x00
1972  0766  21 00 00    	ld	hl,_lin
1973  0769  19          	add	hl,de
1974  076A  7E          	ld	a,(hl)
1975  076B  E6 0F       	and	a,0x0f
1976  076D  CB 41       	bit	0, c
1977  076F  20 17       	jr	NZ,l_player_check_map_00108
1978  0771  B7          	or	a, a
1979  0772  20 05       	jr	NZ,l_player_check_map_00102
1980  0774  CD B3 07    	call	_player_pick_item
1981  0777  18 39       	jr	l_player_check_map_00110
1982  0779              l_player_check_map_00102:
1983  0779  CD B3 07    	call	_player_pick_item
1984  077C  21 00 00    	ld	hl,_sprite_curr_index
1985  077F  7E          	ld	a, (hl)
1986  0780  C6 10       	add	a,0x10
1987  0782  77          	ld	(hl), a
1988  0783  CD B3 07    	call	_player_pick_item
1989  0786  18 2A       	jr	l_player_check_map_00110
1990  0788              l_player_check_map_00108:
1991  0788  B7          	or	a, a
1992  0789  20 0C       	jr	NZ,l_player_check_map_00105
1993  078B  CD B3 07    	call	_player_pick_item
1994  078E  21 00 00    	ld	hl,_sprite_curr_index
1995  0791  34          	inc	(hl)
1996  0792  CD B3 07    	call	_player_pick_item
1997  0795  18 1B       	jr	l_player_check_map_00110
1998  0797              l_player_check_map_00105:
1999  0797  CD B3 07    	call	_player_pick_item
2000  079A  21 00 00    	ld	hl,_sprite_curr_index
2001  079D  34          	inc	(hl)
2002  079E  CD B3 07    	call	_player_pick_item
2003  07A1  21 00 00    	ld	hl,_sprite_curr_index
2004  07A4  7E          	ld	a, (hl)
2005  07A5  C6 0F       	add	a,0x0f
2006  07A7  77          	ld	(hl), a
2007  07A8  CD B3 07    	call	_player_pick_item
2008  07AB  21 00 00    	ld	hl,_sprite_curr_index
2009  07AE  34          	inc	(hl)
2010  07AF  CD B3 07    	call	_player_pick_item
2011  07B2              l_player_check_map_00110:
2012  07B2  C9          	ret
2013  07B3              	SECTION code_compiler
2014  07B3              ;	---------------------------------
2015  07B3              ; Function player_pick_item
2016  07B3              ; ---------------------------------
2017  07B3              _player_pick_item:
2018  07B3  CD 00 00    	call	___sdcc_enter_ix
2019  07B6  3B          	dec	sp
2020  07B7  2A 00 00    	ld	hl,(_sprite_curr_index)
2021  07BA  26 00       	ld	h,0x00
2022  07BC  01 00 00    	ld	bc,_scr_map
2023  07BF  09          	add	hl,bc
2024  07C0  7E          	ld	a,(hl)
2025  07C1  4F          	ld	c,a
2026  07C2  D6 24       	sub	a,0x24
2027  07C4  3E 00       	ld	a,0x00
2028  07C6  17          	rla
2029  07C7  DD 77 FF    	ld	(ix-1),a
2030  07CA  CB 47       	bit	0,a
2031  07CC  C2 47 09    	jp	NZ, l_player_pick_item_00117
2032  07CF  3E 2F       	ld	a,0x2f
2033  07D1  91          	sub	a, c
2034  07D2  3E 00       	ld	a,0x00
2035  07D4  17          	rla
2036  07D5  CB 47       	bit	0,a
2037  07D7  C2 47 09    	jp	NZ,l_player_pick_item_00117
2038  07DA  47          	ld	b,a
2039  07DB  CD 00 00    	call	_ay_reset
2040  07DE  21 00 00    	ld	hl,_ay_effect_10
2041  07E1  CD 00 00    	call	_ay_fx_play
2042  07E4  C5          	push	bc
2043  07E5  CD 00 00    	call	_sound_coin
2044  07E8  C1          	pop	bc
2045  07E9  2A 00 00    	ld	hl,(_sprite_curr_index)
2046  07EC  26 00       	ld	h,0x00
2047  07EE  11 00 00    	ld	de,_scr_map
2048  07F1  19          	add	hl,de
2049  07F2  AF          	xor	a,a
2050  07F3  77          	ld	(hl),a
2051  07F4  3A 00 00    	ld	a,(_sprite_curr_index)
2052  07F7  5F          	ld	e,a
2053  07F8  16 00       	ld	d,0x00
2054  07FA  C5          	push	bc
2055  07FB  D5          	push	de
2056  07FC  CD 00 00    	call	_game_obj_set
2057  07FF  F1          	pop	af
2058  0800  C1          	pop	bc
2059  0801  3A 00 00    	ld	a,(_sprite_curr_index)
2060  0804  07          	rlca
2061  0805  07          	rlca
2062  0806  07          	rlca
2063  0807  07          	rlca
2064  0808  E6 0F       	and	a,0x0f
2065  080A  07          	rlca
2066  080B  07          	rlca
2067  080C  07          	rlca
2068  080D  07          	rlca
2069  080E  E6 F0       	and	a,0xf0
2070  0810  32 00 00    	ld	(_s_lin1),a
2071  0813  3A 00 00    	ld	a,(_sprite_curr_index)
2072  0816  E6 0F       	and	a,0x0f
2073  0818  87          	add	a, a
2074  0819  32 00 00    	ld	(_s_col1),a
2075  081C  C5          	push	bc
2076  081D  21 00 00    	ld	hl,0x0000
2077  0820  E5          	push	hl
2078  0821  21 84 03    	ld	hl,0x0384
2079  0824  E5          	push	hl
2080  0825  F5          	push	af
2081  0826  33          	inc	sp
2082  0827  3A 00 00    	ld	a,(_s_lin1)
2083  082A  F5          	push	af
2084  082B  33          	inc	sp
2085  082C  CD 00 00    	call	_spr_add_anim
2086  082F  F1          	pop	af
2087  0830  F1          	pop	af
2088  0831  F1          	pop	af
2089  0832  C1          	pop	bc
2090  0833  DD CB FF 46 	bit	0,(ix-1)
2091  0837  C2 47 09    	jp	NZ, l_player_pick_item_00117
2092  083A  CB 40       	bit	0, b
2093  083C  C2 47 09    	jp	NZ, l_player_pick_item_00117
2094  083F  79          	ld	a, c
2095  0840  C6 DC       	add	a,0xdc
2096  0842  DD 77 FF    	ld	(ix-1),a
2097  0845  21 00 00    	ld	hl,_player_str
2098  0848  56          	ld	d, (hl)
2099  0849  14          	inc	d
2100  084A  3A 00 00    	ld	a,(_player_max_vita)
2101  084D  C6 0A       	add	a,0x0a
2102  084F  5F          	ld	e, a
2103  0850  21 00 00    	ld	hl,_player_int
2104  0853  46          	ld	b, (hl)
2105  0854  04          	inc	b
2106  0855  3A 00 00    	ld	a,(_player_max_mana)
2107  0858  C6 0A       	add	a,0x0a
2108  085A  4F          	ld	c, a
2109  085B  D5          	push	de
2110  085C  DD 5E FF    	ld	e,(ix-1)
2111  085F  16 00       	ld	d,0x00
2112  0861  21 69 08    	ld	hl,l_player_pick_item_00135
2113  0864  19          	add	hl, de
2114  0865  19          	add	hl, de
2115  0866  19          	add	hl, de
2116  0867  D1          	pop	de
2117  0868  E9          	jp	(hl)
2118  0869              l_player_pick_item_00135:
2119  0869  C3 8D 08    	jp	l_player_pick_item_00101
2120  086C  C3 A5 08    	jp	l_player_pick_item_00102
2121  086F  C3 BD 08    	jp	l_player_pick_item_00103
2122  0872  C3 D4 08    	jp	l_player_pick_item_00104
2123  0875  C3 EB 08    	jp	l_player_pick_item_00105
2124  0878  C3 FB 08    	jp	l_player_pick_item_00107
2125  087B  C3 08 09    	jp	l_player_pick_item_00108
2126  087E  C3 15 09    	jp	l_player_pick_item_00109
2127  0881  C3 22 09    	jp	l_player_pick_item_00110
2128  0884  C3 2F 09    	jp	l_player_pick_item_00111
2129  0887  C3 3C 09    	jp	l_player_pick_item_00112
2130  088A  C3 F3 08    	jp	l_player_pick_item_00106
2131  088D              l_player_pick_item_00101:
2132  088D  21 00 00    	ld	hl,_player_keys
2133  0890  36 01       	ld	(hl),0x01
2134  0892  21 00 00    	ld	hl,_screen_ink
2135  0895  36 07       	ld	(hl),0x07
2136  0897  21 00 00    	ld	hl,___str_0
2137  089A  E5          	push	hl
2138  089B  21 14 14    	ld	hl,0x1414
2139  089E  E5          	push	hl
2140  089F  CD 00 00    	call	_zx_print_str
2141  08A2  C3 47 09    	jp	l_player_pick_item_00117
2142  08A5              l_player_pick_item_00102:
2143  08A5  21 01 00    	ld	hl, +(_player_keys + 0x0001)
2144  08A8  36 01       	ld	(hl),0x01
2145  08AA  21 00 00    	ld	hl,_screen_ink
2146  08AD  36 02       	ld	(hl),0x02
2147  08AF  21 00 00    	ld	hl,___str_0
2148  08B2  E5          	push	hl
2149  08B3  21 14 15    	ld	hl,0x1514
2150  08B6  E5          	push	hl
2151  08B7  CD 00 00    	call	_zx_print_str
2152  08BA  C3 47 09    	jp	l_player_pick_item_00117
2153  08BD              l_player_pick_item_00103:
2154  08BD  21 02 00    	ld	hl, +(_player_keys + 0x0002)
2155  08C0  36 01       	ld	(hl),0x01
2156  08C2  21 00 00    	ld	hl,_screen_ink
2157  08C5  36 04       	ld	(hl),0x04
2158  08C7  21 00 00    	ld	hl,___str_0
2159  08CA  E5          	push	hl
2160  08CB  21 14 16    	ld	hl,0x1614
2161  08CE  E5          	push	hl
2162  08CF  CD 00 00    	call	_zx_print_str
2163  08D2  18 73       	jr	l_player_pick_item_00117
2164  08D4              l_player_pick_item_00104:
2165  08D4  21 03 00    	ld	hl, +(_player_keys + 0x0003)
2166  08D7  36 01       	ld	(hl),0x01
2167  08D9  21 00 00    	ld	hl,_screen_ink
2168  08DC  36 05       	ld	(hl),0x05
2169  08DE  21 00 00    	ld	hl,___str_0
2170  08E1  E5          	push	hl
2171  08E2  21 14 17    	ld	hl,0x1714
2172  08E5  E5          	push	hl
2173  08E6  CD 00 00    	call	_zx_print_str
2174  08E9  18 5C       	jr	l_player_pick_item_00117
2175  08EB              l_player_pick_item_00105:
2176  08EB  21 01 00    	ld	hl,0x0001
2177  08EE  CD C6 0B    	call	_player_score_add
2178  08F1  18 54       	jr	l_player_pick_item_00117
2179  08F3              l_player_pick_item_00106:
2180  08F3  21 64 00    	ld	hl,0x0064
2181  08F6  CD C6 0B    	call	_player_score_add
2182  08F9  18 4C       	jr	l_player_pick_item_00117
2183  08FB              l_player_pick_item_00107:
2184  08FB  21 00 00    	ld	hl,_player_str
2185  08FE  72          	ld	(hl), d
2186  08FF  21 00 00    	ld	hl,_player_max_vita
2187  0902  73          	ld	(hl), e
2188  0903  CD 00 00    	call	_game_update_stats
2189  0906  18 3F       	jr	l_player_pick_item_00117
2190  0908              l_player_pick_item_00108:
2191  0908  21 00 00    	ld	hl,_player_str
2192  090B  72          	ld	(hl), d
2193  090C  21 00 00    	ld	hl,_player_max_vita
2194  090F  73          	ld	(hl), e
2195  0910  CD 00 00    	call	_game_update_stats
2196  0913  18 32       	jr	l_player_pick_item_00117
2197  0915              l_player_pick_item_00109:
2198  0915  21 00 00    	ld	hl,_player_str
2199  0918  72          	ld	(hl), d
2200  0919  21 00 00    	ld	hl,_player_max_vita
2201  091C  73          	ld	(hl), e
2202  091D  CD 00 00    	call	_game_update_stats
2203  0920  18 25       	jr	l_player_pick_item_00117
2204  0922              l_player_pick_item_00110:
2205  0922  21 00 00    	ld	hl,_player_int
2206  0925  70          	ld	(hl), b
2207  0926  21 00 00    	ld	hl,_player_max_mana
2208  0929  71          	ld	(hl), c
2209  092A  CD 00 00    	call	_game_update_stats
2210  092D  18 18       	jr	l_player_pick_item_00117
2211  092F              l_player_pick_item_00111:
2212  092F  21 00 00    	ld	hl,_player_int
2213  0932  70          	ld	(hl), b
2214  0933  21 00 00    	ld	hl,_player_max_mana
2215  0936  71          	ld	(hl), c
2216  0937  CD 00 00    	call	_game_update_stats
2217  093A  18 0B       	jr	l_player_pick_item_00117
2218  093C              l_player_pick_item_00112:
2219  093C  21 00 00    	ld	hl,_player_int
2220  093F  70          	ld	(hl), b
2221  0940  21 00 00    	ld	hl,_player_max_mana
2222  0943  71          	ld	(hl), c
2223  0944  CD 00 00    	call	_game_update_stats
2224  0947              l_player_pick_item_00117:
2225  0947  33          	inc	sp
2226  0948  DD E1       	pop	ix
2227  094A  C9          	ret
2228  094B              	SECTION rodata_compiler
2229  0000              ___str_0:
2230  0000  5D          	DEFM "]"
2231  0001  00          	DEFB 0x00
2232  0002              	SECTION code_compiler
2233  094B              ;	---------------------------------
2234  094B              ; Function player_hit_platform
2235  094B              ; ---------------------------------
2236  094B              _player_hit_platform:
2237  094B  3A 00 00    	ld	a,(_player_hit_lin)
2238  094E  B7          	or	a, a
2239  094F  C2 8A 0B    	jp	NZ, l_player_hit_platform_00137
2240  0952  2A 00 00    	ld	hl,(_sprite)
2241  0955  26 00       	ld	h,0x00
2242  0957  01 00 00    	ld	bc,_lin
2243  095A  09          	add	hl,bc
2244  095B  4E          	ld	c,(hl)
2245  095C  3E 10       	ld	a,0x10
2246  095E  91          	sub	a, c
2247  095F  D2 8A 0B    	jp	NC, l_player_hit_platform_00137
2248  0962  01 00 00    	ld	bc,_scr_map
2249  0965  2A 00 00    	ld	hl,(_index1)
2250  0968  09          	add	hl,bc
2251  0969  7E          	ld	a,(hl)
2252  096A  D6 45       	sub	a,0x45
2253  096C  DA 8A 0B    	jp	C, l_player_hit_platform_00137
2254  096F  01 00 00    	ld	bc,_spr_timer+0
2255  0972  2A 00 00    	ld	hl,(_sprite)
2256  0975  26 00       	ld	h,0x00
2257  0977  29          	add	hl, hl
2258  0978  09          	add	hl,bc
2259  0979  ED 5B 00 00 	ld	de,(_curr_time)
2260  097D  73          	ld	(hl),e
2261  097E  23          	inc	hl
2262  097F  72          	ld	(hl),d
2263  0980  2A 00 00    	ld	hl,(_sprite)
2264  0983  26 00       	ld	h,0x00
2265  0985  01 00 00    	ld	bc,_lin
2266  0988  09          	add	hl,bc
2267  0989  4E          	ld	c,(hl)
2268  098A  06 00       	ld	b,0x00
2269  098C  79          	ld	a, c
2270  098D  C6 F8       	add	a,0xf8
2271  098F  4F          	ld	c, a
2272  0990  78          	ld	a, b
2273  0991  CE FF       	adc	a,0xff
2274  0993  5F          	ld	e, a
2275  0994  06 04       	ld	b,0x04
2276  0996              l_player_hit_platform_00226:
2277  0996  CB 2B       	sra	e
2278  0998  CB 19       	rr	c
2279  099A  10 FA       	djnz	l_player_hit_platform_00226
2280  099C  79          	ld	a, c
2281  099D  07          	rlca
2282  099E  07          	rlca
2283  099F  07          	rlca
2284  09A0  07          	rlca
2285  09A1  E6 F0       	and	a,0xf0
2286  09A3  C6 08       	add	a,0x08
2287  09A5  32 00 00    	ld	(_player_hit_lin),a
2288  09A8  2A 00 00    	ld	hl,(_sprite)
2289  09AB  26 00       	ld	h,0x00
2290  09AD  01 00 00    	ld	bc,_col
2291  09B0  09          	add	hl,bc
2292  09B1  4E          	ld	c,(hl)
2293  09B2  CB 41       	bit	0,c
2294  09B4  20 06       	jr	NZ,l_player_hit_platform_00111
2295  09B6  21 00 00    	ld	hl,_player_hit_col
2296  09B9  71          	ld	(hl), c
2297  09BA  18 33       	jr	l_player_hit_platform_00112
2298  09BC              l_player_hit_platform_00111:
2299  09BC  2A 00 00    	ld	hl,(_sprite)
2300  09BF  26 00       	ld	h,0x00
2301  09C1  11 00 00    	ld	de,_state
2302  09C4  19          	add	hl,de
2303  09C5  5E          	ld	e, (hl)
2304  09C6  41          	ld	b, c
2305  09C7  04          	inc	b
2306  09C8  0D          	dec	c
2307  09C9  CB 5B       	bit	3, e
2308  09CB  28 12       	jr	Z,l_player_hit_platform_00108
2309  09CD  3A 00 00    	ld	a,(_g_player_hit_right)
2310  09D0  B7          	or	a, a
2311  09D1  28 06       	jr	Z,l_player_hit_platform_00102
2312  09D3  21 00 00    	ld	hl,_player_hit_col
2313  09D6  70          	ld	(hl), b
2314  09D7  18 16       	jr	l_player_hit_platform_00112
2315  09D9              l_player_hit_platform_00102:
2316  09D9  21 00 00    	ld	hl,_player_hit_col
2317  09DC  71          	ld	(hl), c
2318  09DD  18 10       	jr	l_player_hit_platform_00112
2319  09DF              l_player_hit_platform_00108:
2320  09DF  3A 00 00    	ld	a,(_g_player_hit_left)
2321  09E2  B7          	or	a, a
2322  09E3  28 06       	jr	Z,l_player_hit_platform_00105
2323  09E5  21 00 00    	ld	hl,_player_hit_col
2324  09E8  71          	ld	(hl), c
2325  09E9  18 04       	jr	l_player_hit_platform_00112
2326  09EB              l_player_hit_platform_00105:
2327  09EB  21 00 00    	ld	hl,_player_hit_col
2328  09EE  70          	ld	(hl), b
2329  09EF              l_player_hit_platform_00112:
2330  09EF  01 00 00    	ld	bc,_scr_map
2331  09F2  2A 00 00    	ld	hl,(_index1)
2332  09F5  09          	add	hl,bc
2333  09F6  7E          	ld	a,(hl)
2334  09F7  FE 5C       	cp	a,0x5c
2335  09F9  28 05       	jr	Z,l_player_hit_platform_00133
2336  09FB  D6 5D       	sub	a,0x5d
2337  09FD  C2 7E 0B    	jp	NZ,l_player_hit_platform_00134
2338  0A00              l_player_hit_platform_00133:
2339  0A00  21 00 00    	ld	hl,_tmp0
2340  0A03  36 00       	ld	(hl),0x00
2341  0A05              l_player_hit_platform_00130:
2342  0A05  21 00 00    	ld	hl,_tmp0
2343  0A08  7E          	ld	a, (hl)
2344  0A09  D6 07       	sub	a,0x07
2345  0A0B  D2 7E 0B    	jp	NC, l_player_hit_platform_00134
2346  0A0E  4E          	ld	c,(hl)
2347  0A0F  06 00       	ld	b,0x00
2348  0A11  21 00 00    	ld	hl,_mush_index
2349  0A14  09          	add	hl,bc
2350  0A15  4E          	ld	c, (hl)
2351  0A16  06 00       	ld	b,0x00
2352  0A18  2A 00 00    	ld	hl,(_index1)
2353  0A1B  AF          	xor	a,a
2354  0A1C  ED 42       	sbc	hl,bc
2355  0A1E  C2 77 0B    	jp	NZ,l_player_hit_platform_00129
2356  0A21  2A 00 00    	ld	hl,(_sprite)
2357  0A24  26 00       	ld	h,0x00
2358  0A26  01 00 00    	ld	bc,_lin
2359  0A29  09          	add	hl,bc
2360  0A2A  7E          	ld	a,(hl)
2361  0A2B  07          	rlca
2362  0A2C  07          	rlca
2363  0A2D  07          	rlca
2364  0A2E  07          	rlca
2365  0A2F  E6 0F       	and	a,0x0f
2366  0A31  07          	rlca
2367  0A32  07          	rlca
2368  0A33  07          	rlca
2369  0A34  07          	rlca
2370  0A35  E6 F0       	and	a,0xf0
2371  0A37  C6 E0       	add	a,0xe0
2372  0A39  32 00 00    	ld	(_s_lin1),a
2373  0A3C  2A 00 00    	ld	hl,(_sprite)
2374  0A3F  26 00       	ld	h,0x00
2375  0A41  01 00 00    	ld	bc,_col
2376  0A44  09          	add	hl,bc
2377  0A45  7E          	ld	a,(hl)
2378  0A46  CB 3F       	srl	a
2379  0A48  87          	add	a, a
2380  0A49  32 00 00    	ld	(_s_col1),a
2381  0A4C  21 00 00    	ld	hl,_tmp
2382  0A4F  36 00       	ld	(hl),0x00
2383  0A51              l_player_hit_platform_00115:
2384  0A51  21 00 00    	ld	hl,_tmp
2385  0A54  7E          	ld	a, (hl)
2386  0A55  D6 07       	sub	a,0x07
2387  0A57  30 1C       	jr	NC,l_player_hit_platform_00117
2388  0A59  4E          	ld	c,(hl)
2389  0A5A  06 00       	ld	b,0x00
2390  0A5C  21 00 00    	ld	hl,_mush_index
2391  0A5F  09          	add	hl,bc
2392  0A60  4E          	ld	c, (hl)
2393  0A61  06 00       	ld	b,0x00
2394  0A63  21 00 00    	ld	hl,_index1
2395  0A66  7E          	ld	a, (hl)
2396  0A67  91          	sub	a, c
2397  0A68  20 05       	jr	NZ,l_player_hit_platform_00235
2398  0A6A  23          	inc	hl
2399  0A6B  7E          	ld	a, (hl)
2400  0A6C  90          	sub	a, b
2401  0A6D  28 06       	jr	Z,l_player_hit_platform_00117
2402  0A6F              l_player_hit_platform_00235:
2403  0A6F  21 00 00    	ld	hl,_tmp
2404  0A72  34          	inc	(hl)
2405  0A73  18 DC       	jr	l_player_hit_platform_00115
2406  0A75              l_player_hit_platform_00117:
2407  0A75  2A 00 00    	ld	hl,(_tmp)
2408  0A78  26 00       	ld	h,0x00
2409  0A7A  01 00 00    	ld	bc,_mush_class
2410  0A7D  09          	add	hl,bc
2411  0A7E  7E          	ld	a,(hl)
2412  0A7F  FE 78       	cp	a,0x78
2413  0A81  28 18       	jr	Z,l_player_hit_platform_00118
2414  0A83  FE 79       	cp	a,0x79
2415  0A85  28 2F       	jr	Z,l_player_hit_platform_00119
2416  0A87  FE 7A       	cp	a,0x7a
2417  0A89  28 5F       	jr	Z,l_player_hit_platform_00121
2418  0A8B  FE 7B       	cp	a,0x7b
2419  0A8D  28 41       	jr	Z,l_player_hit_platform_00120
2420  0A8F  FE 7C       	cp	a,0x7c
2421  0A91  CA 1E 0B    	jp	Z,l_player_hit_platform_00123
2422  0A94  D6 7D       	sub	a,0x7d
2423  0A96  28 6C       	jr	Z,l_player_hit_platform_00122
2424  0A98  C3 36 0B    	jp	l_player_hit_platform_00124
2425  0A9B              l_player_hit_platform_00118:
2426  0A9B  2E 02       	ld	l,0x02
2427  0A9D  CD 00 00    	call	_zx_border_fastcall
2428  0AA0  3A 00 00    	ld	a,(_s_col1)
2429  0AA3  21 06 FF    	ld	hl,0xff06
2430  0AA6  E5          	push	hl
2431  0AA7  F5          	push	af
2432  0AA8  33          	inc	sp
2433  0AA9  3A 00 00    	ld	a,(_s_lin1)
2434  0AAC  F5          	push	af
2435  0AAD  33          	inc	sp
2436  0AAE  CD 00 00    	call	_enemy_init
2437  0AB1  F1          	pop	af
2438  0AB2  F1          	pop	af
2439  0AB3  C3 36 0B    	jp	l_player_hit_platform_00124
2440  0AB6              l_player_hit_platform_00119:
2441  0AB6  2E 02       	ld	l,0x02
2442  0AB8  CD 00 00    	call	_zx_border_fastcall
2443  0ABB  3A 00 00    	ld	a,(_s_col1)
2444  0ABE  21 06 01    	ld	hl,0x0106
2445  0AC1  E5          	push	hl
2446  0AC2  F5          	push	af
2447  0AC3  33          	inc	sp
2448  0AC4  3A 00 00    	ld	a,(_s_lin1)
2449  0AC7  F5          	push	af
2450  0AC8  33          	inc	sp
2451  0AC9  CD 00 00    	call	_enemy_init
2452  0ACC  F1          	pop	af
2453  0ACD  F1          	pop	af
2454  0ACE  18 66       	jr	l_player_hit_platform_00124
2455  0AD0              l_player_hit_platform_00120:
2456  0AD0  2E 01       	ld	l,0x01
2457  0AD2  CD 00 00    	call	_zx_border_fastcall
2458  0AD5  3A 00 00    	ld	a,(_s_col1)
2459  0AD8  21 07 01    	ld	hl,0x0107
2460  0ADB  E5          	push	hl
2461  0ADC  F5          	push	af
2462  0ADD  33          	inc	sp
2463  0ADE  3A 00 00    	ld	a,(_s_lin1)
2464  0AE1  F5          	push	af
2465  0AE2  33          	inc	sp
2466  0AE3  CD 00 00    	call	_enemy_init
2467  0AE6  F1          	pop	af
2468  0AE7  F1          	pop	af
2469  0AE8  18 4C       	jr	l_player_hit_platform_00124
2470  0AEA              l_player_hit_platform_00121:
2471  0AEA  2E 01       	ld	l,0x01
2472  0AEC  CD 00 00    	call	_zx_border_fastcall
2473  0AEF  3A 00 00    	ld	a,(_s_col1)
2474  0AF2  21 07 FF    	ld	hl,0xff07
2475  0AF5  E5          	push	hl
2476  0AF6  F5          	push	af
2477  0AF7  33          	inc	sp
2478  0AF8  3A 00 00    	ld	a,(_s_lin1)
2479  0AFB  F5          	push	af
2480  0AFC  33          	inc	sp
2481  0AFD  CD 00 00    	call	_enemy_init
2482  0B00  F1          	pop	af
2483  0B01  F1          	pop	af
2484  0B02  18 32       	jr	l_player_hit_platform_00124
2485  0B04              l_player_hit_platform_00122:
2486  0B04  2E 04       	ld	l,0x04
2487  0B06  CD 00 00    	call	_zx_border_fastcall
2488  0B09  3A 00 00    	ld	a,(_s_col1)
2489  0B0C  21 08 01    	ld	hl,0x0108
2490  0B0F  E5          	push	hl
2491  0B10  F5          	push	af
2492  0B11  33          	inc	sp
2493  0B12  3A 00 00    	ld	a,(_s_lin1)
2494  0B15  F5          	push	af
2495  0B16  33          	inc	sp
2496  0B17  CD 00 00    	call	_enemy_init
2497  0B1A  F1          	pop	af
2498  0B1B  F1          	pop	af
2499  0B1C  18 18       	jr	l_player_hit_platform_00124
2500  0B1E              l_player_hit_platform_00123:
2501  0B1E  2E 04       	ld	l,0x04
2502  0B20  CD 00 00    	call	_zx_border_fastcall
2503  0B23  3A 00 00    	ld	a,(_s_col1)
2504  0B26  21 08 FF    	ld	hl,0xff08
2505  0B29  E5          	push	hl
2506  0B2A  F5          	push	af
2507  0B2B  33          	inc	sp
2508  0B2C  3A 00 00    	ld	a,(_s_lin1)
2509  0B2F  F5          	push	af
2510  0B30  33          	inc	sp
2511  0B31  CD 00 00    	call	_enemy_init
2512  0B34  F1          	pop	af
2513  0B35  F1          	pop	af
2514  0B36              l_player_hit_platform_00124:
2515  0B36  2A 00 00    	ld	hl,(_index1)
2516  0B39  01 F0 FF    	ld	bc,0xfff0
2517  0B3C  09          	add	hl,bc
2518  0B3D  01 00 00    	ld	bc,_scr_map
2519  0B40  09          	add	hl,bc
2520  0B41  36 00       	ld	(hl),0x00
2521  0B43  01 00 00    	ld	bc,_scr_map
2522  0B46  2A 00 00    	ld	hl,(_index1)
2523  0B49  09          	add	hl,bc
2524  0B4A  7E          	ld	a,(hl)
2525  0B4B  D6 5C       	sub	a,0x5c
2526  0B4D  4D          	ld	c,l
2527  0B4E  44          	ld	b,h
2528  0B4F  20 05       	jr	NZ,l_player_hit_platform_00126
2529  0B51  3E 4F       	ld	a,0x4f
2530  0B53  02          	ld	(bc), a
2531  0B54  18 03       	jr	l_player_hit_platform_00127
2532  0B56              l_player_hit_platform_00126:
2533  0B56  3E 54       	ld	a,0x54
2534  0B58  02          	ld	(bc), a
2535  0B59              l_player_hit_platform_00127:
2536  0B59  2A 00 00    	ld	hl,(_index1)
2537  0B5C  01 F0 FF    	ld	bc,0xfff0
2538  0B5F  09          	add	hl,bc
2539  0B60  E5          	push	hl
2540  0B61  CD 00 00    	call	_game_obj_set
2541  0B64  F1          	pop	af
2542  0B65  3A 00 00    	ld	a,(_s_lin1)
2543  0B68  C6 10       	add	a,0x10
2544  0B6A  4F          	ld	c, a
2545  0B6B  3A 00 00    	ld	a, (_s_col1)
2546  0B6E  47          	ld	b,a
2547  0B6F  C5          	push	bc
2548  0B70  3E 4F       	ld	a,0x4f
2549  0B72  F5          	push	af
2550  0B73  33          	inc	sp
2551  0B74  CD 00 00    	call	_NIRVANAP_drawT_callee
2552  0B77              l_player_hit_platform_00129:
2553  0B77  21 00 00    	ld	hl,_tmp0
2554  0B7A  34          	inc	(hl)
2555  0B7B  C3 05 0A    	jp	l_player_hit_platform_00130
2556  0B7E              l_player_hit_platform_00134:
2557  0B7E  2E 01       	ld	l,0x01
2558  0B80  CD 00 00    	call	_spr_brick_anim
2559  0B83  CD 00 00    	call	_sound_hit_brick
2560  0B86  2E 01       	ld	l,0x01
2561  0B88  18 02       	jr	l_player_hit_platform_00140
2562  0B8A              l_player_hit_platform_00137:
2563  0B8A  2E 00       	ld	l,0x00
2564  0B8C              l_player_hit_platform_00140:
2565  0B8C  C9          	ret
2566  0B8D              	SECTION code_compiler
2567  0B8D              ;	---------------------------------
2568  0B8D              ; Function player_hit_platform_clear
2569  0B8D              ; ---------------------------------
2570  0B8D              _player_hit_platform_clear:
2571  0B8D  2A 00 00    	ld	hl,(_sprite)
2572  0B90  26 00       	ld	h,0x00
2573  0B92  29          	add	hl, hl
2574  0B93  11 00 00    	ld	de,_spr_timer
2575  0B96  19          	add	hl, de
2576  0B97  4E          	ld	c, (hl)
2577  0B98  23          	inc	hl
2578  0B99  46          	ld	b, (hl)
2579  0B9A  21 04 00    	ld	hl,0x0004
2580  0B9D  E5          	push	hl
2581  0B9E  C5          	push	bc
2582  0B9F  CD 00 00    	call	_game_check_time
2583  0BA2  F1          	pop	af
2584  0BA3  F1          	pop	af
2585  0BA4  7D          	ld	a, l
2586  0BA5  B7          	or	a, a
2587  0BA6  C8          	ret	Z
2588  0BA7  2A FF FF    	ld	hl,(_player_hit_col - 1)
2589  0BAA  3A 00 00    	ld	a,(_player_hit_lin)
2590  0BAD  6F          	ld	l,a
2591  0BAE  E5          	push	hl
2592  0BAF  CD 00 00    	call	_spr_calc_index
2593  0BB2  F1          	pop	af
2594  0BB3  22 00 00    	ld	(_index1),hl
2595  0BB6  2E 00       	ld	l,0x00
2596  0BB8  CD 00 00    	call	_spr_brick_anim
2597  0BBB  21 00 00    	ld	hl,_player_hit_lin
2598  0BBE  36 00       	ld	(hl),0x00
2599  0BC0  21 00 00    	ld	hl,_player_hit_col
2600  0BC3  36 00       	ld	(hl),0x00
2601  0BC5  C9          	ret
2602  0BC6              	SECTION code_compiler
2603  0BC6              ;	---------------------------------
2604  0BC6              ; Function player_score_add
2605  0BC6              ; ---------------------------------
2606  0BC6              _player_score_add:
2607  0BC6  ED 4B 00 00 	ld	bc,(_player_score)
2608  0BCA  09          	add	hl,bc
2609  0BCB  22 00 00    	ld	(_player_score),hl
2610  0BCE  3A 00 00    	ld	a,(_game_score_top)
2611  0BD1  21 00 00    	ld	hl,_player_score
2612  0BD4  96          	sub	a, (hl)
2613  0BD5  3A 01 00    	ld	a,(_game_score_top + 1)
2614  0BD8  23          	inc	hl
2615  0BD9  9E          	sbc	a, (hl)
2616  0BDA  D2 00 00    	jp	NC,_game_print_score
2617  0BDD  2A 00 00    	ld	hl,(_player_score)
2618  0BE0  22 00 00    	ld	(_game_score_top),hl
2619  0BE3  C3 00 00    	jp  _game_print_score
2620  0BE6              	SECTION code_compiler
2621  0BE6              ;	---------------------------------
2622  0BE6              ; Function player_check_floor
2623  0BE6              ; ---------------------------------
2624  0BE6              _player_check_floor:
2625  0BE6  CD 00 00    	call	___sdcc_enter_ix
2626  0BE9  3B          	dec	sp
2627  0BEA  2A 00 00    	ld	hl,(_sprite)
2628  0BED  26 00       	ld	h,0x00
2629  0BEF  01 00 00    	ld	bc,_col
2630  0BF2  09          	add	hl,bc
2631  0BF3  56          	ld	d, (hl)
2632  0BF4  2A 00 00    	ld	hl,(_sprite)
2633  0BF7  26 00       	ld	h,0x00
2634  0BF9  01 00 00    	ld	bc,_lin
2635  0BFC  09          	add	hl,bc
2636  0BFD  7E          	ld	a,(hl)
2637  0BFE  C6 10       	add	a,0x10
2638  0C00  5F          	ld	e, a
2639  0C01  D5          	push	de
2640  0C02  CD 00 00    	call	_spr_calc_index
2641  0C05  F1          	pop	af
2642  0C06  4D          	ld	c, l
2643  0C07  44          	ld	b, h
2644  0C08  21 00 00    	ld	hl,_scr_map
2645  0C0B  09          	add	hl, bc
2646  0C0C  7E          	ld	a, (hl)
2647  0C0D  DD 77 FF    	ld	(ix-1),a
2648  0C10  2A 00 00    	ld	hl,(_sprite)
2649  0C13  26 00       	ld	h,0x00
2650  0C15  11 00 00    	ld	de,_col
2651  0C18  19          	add	hl,de
2652  0C19  7E          	ld	a,(hl)
2653  0C1A  0F          	rrca
2654  0C1B  38 04       	jr	C,l_player_check_floor_00102
2655  0C1D  0E 01       	ld	c,0x01
2656  0C1F  18 06       	jr	l_player_check_floor_00103
2657  0C21              l_player_check_floor_00102:
2658  0C21  03          	inc	bc
2659  0C22  21 00 00    	ld	hl,_scr_map
2660  0C25  09          	add	hl, bc
2661  0C26  4E          	ld	c, (hl)
2662  0C27              l_player_check_floor_00103:
2663  0C27  3A 00 00    	ld	a,(_s_lin0)
2664  0C2A  D6 90       	sub	a,0x90
2665  0C2C  20 04       	jr	NZ,l_player_check_floor_00105
2666  0C2E  DD 36 FF 48 	ld	(ix-1),0x48
2667  0C32              l_player_check_floor_00105:
2668  0C32  DD 7E FF    	ld	a,(ix-1)
2669  0C35  D6 3C       	sub	a,0x3c
2670  0C37  38 07       	jr	C,l_player_check_floor_00110
2671  0C39  DD 7E FF    	ld	a,(ix-1)
2672  0C3C  D6 60       	sub	a,0x60
2673  0C3E  38 1E       	jr	C,l_player_check_floor_00111
2674  0C40              l_player_check_floor_00110:
2675  0C40  79          	ld	a,c
2676  0C41  FE 3C       	cp	a,0x3c
2677  0C43  38 04       	jr	C,l_player_check_floor_00106
2678  0C45  D6 60       	sub	a,0x60
2679  0C47  38 15       	jr	C,l_player_check_floor_00111
2680  0C49              l_player_check_floor_00106:
2681  0C49  2A 00 00    	ld	hl,(_sprite)
2682  0C4C  26 00       	ld	h,0x00
2683  0C4E  01 00 00    	ld	bc,_sprite_speed_alt
2684  0C51  09          	add	hl,bc
2685  0C52  36 02       	ld	(hl),0x02
2686  0C54  21 00 00    	ld	hl,_s_state
2687  0C57  CB CE       	set	1, (hl)
2688  0C59  2E 00       	ld	l,0x00
2689  0C5B  CD 8A 04    	call	_player_check_stairs
2690  0C5E              l_player_check_floor_00111:
2691  0C5E  33          	inc	sp
2692  0C5F  DD E1       	pop	ix
2693  0C61  C9          	ret
2694  0C62              	SECTION code_compiler
2695  0C62              ;	---------------------------------
2696  0C62              ; Function player_move_jump
2697  0C62              ; ---------------------------------
2698  0C62              _player_move_jump:
2699  0C62  CD 00 00    	call	___sdcc_enter_ix
2700  0C65  3B          	dec	sp
2701  0C66  21 00 00    	ld	hl,_game_gravity
2702  0C69  4E          	ld	c, (hl)
2703  0C6A  21 00 00    	ld	hl,_player_vel_y
2704  0C6D  7E          	ld	a, (hl)
2705  0C6E  81          	add	a, c
2706  0C6F  77          	ld	(hl), a
2707  0C70  21 00 00    	ld	hl,_sprite_on_air
2708  0C73  36 01       	ld	(hl),0x01
2709  0C75  3A 00 00    	ld	a,(_player_vel_inc)
2710  0C78  B7          	or	a, a
2711  0C79  28 24       	jr	Z,l_player_move_jump_00106
2712  0C7B  21 00 00    	ld	hl,_dirs
2713  0C7E  CB 7E       	bit	7, (hl)
2714  0C80  20 1D       	jr	NZ,l_player_move_jump_00106
2715  0C82  3A 00 00    	ld	a,(_player_vel_y1)
2716  0C85  21 00 00    	ld	hl,_player_vel_y
2717  0C88  96          	sub	a, (hl)
2718  0C89  E2 8E 0C    	jp	PO, l_player_move_jump_00247
2719  0C8C  EE 80       	xor	a,0x80
2720  0C8E              l_player_move_jump_00247:
2721  0C8E  F2 9F 0C    	jp	P, l_player_move_jump_00106
2722  0C91  21 00 00    	ld	hl,_player_vel_y
2723  0C94  CB 7E       	bit	7,(hl)
2724  0C96  28 07       	jr	Z,l_player_move_jump_00106
2725  0C98  36 00       	ld	(hl),0x00
2726  0C9A  21 00 00    	ld	hl,_player_vel_inc
2727  0C9D  36 00       	ld	(hl),0x00
2728  0C9F              l_player_move_jump_00106:
2729  0C9F  3E 78       	ld	a,0x78
2730  0CA1  21 00 00    	ld	hl,_player_vel_y
2731  0CA4  96          	sub	a, (hl)
2732  0CA5  E2 AA 0C    	jp	PO, l_player_move_jump_00248
2733  0CA8  EE 80       	xor	a,0x80
2734  0CAA              l_player_move_jump_00248:
2735  0CAA  F2 B2 0C    	jp	P, l_player_move_jump_00108
2736  0CAD  21 00 00    	ld	hl,_player_vel_y
2737  0CB0  36 78       	ld	(hl),0x78
2738  0CB2              l_player_move_jump_00108:
2739  0CB2  21 00 00    	ld	hl,_player_vel_y
2740  0CB5  7E          	ld	a, (hl)
2741  0CB6  EE 80       	xor	a,0x80
2742  0CB8  D6 08       	sub	a,0x08
2743  0CBA  30 02       	jr	NC,l_player_move_jump_00110
2744  0CBC  36 88       	ld	(hl),0x88
2745  0CBE              l_player_move_jump_00110:
2746  0CBE  3A 00 00    	ld	a,(_player_vel_y)
2747  0CC1  5F          	ld	e,a
2748  0CC2  17          	rla
2749  0CC3  9F          	sbc	a, a
2750  0CC4  57          	ld	d, a
2751  0CC5  CB 43       	bit	0,e
2752  0CC7  21 00 00    	ld	hl,_s_lin1
2753  0CCA  73          	ld	(hl),e
2754  0CCB  28 04       	jr	Z,l_player_move_jump_00112
2755  0CCD  21 00 00    	ld	hl,_s_lin1
2756  0CD0  35          	dec	(hl)
2757  0CD1              l_player_move_jump_00112:
2758  0CD1  2A 00 00    	ld	hl,(_sprite)
2759  0CD4  26 00       	ld	h,0x00
2760  0CD6  01 00 00    	ld	bc,_lin
2761  0CD9  09          	add	hl,bc
2762  0CDA  7E          	ld	a,(hl)
2763  0CDB  DD 77 FF    	ld	(ix-1),a
2764  0CDE  4D          	ld	c,l
2765  0CDF  44          	ld	b,h
2766  0CE0  21 00 00    	ld	hl,_s_lin1
2767  0CE3  86          	add	a, (hl)
2768  0CE4  77          	ld	(hl), a
2769  0CE5  3E 90       	ld	a,0x90
2770  0CE7  96          	sub	a, (hl)
2771  0CE8  30 0E       	jr	NC,l_player_move_jump_00117
2772  0CEA  3E C8       	ld	a,0xc8
2773  0CEC  96          	sub	a, (hl)
2774  0CED  30 04       	jr	NC,l_player_move_jump_00114
2775  0CEF  36 00       	ld	(hl),0x00
2776  0CF1  18 05       	jr	l_player_move_jump_00117
2777  0CF3              l_player_move_jump_00114:
2778  0CF3  21 00 00    	ld	hl,_s_lin1
2779  0CF6  36 90       	ld	(hl),0x90
2780  0CF8              l_player_move_jump_00117:
2781  0CF8  3A 00 00    	ld	a,(_s_lin0)
2782  0CFB  07          	rlca
2783  0CFC  07          	rlca
2784  0CFD  07          	rlca
2785  0CFE  07          	rlca
2786  0CFF  E6 0F       	and	a,0x0f
2787  0D01  DD 77 FF    	ld	(ix-1),a
2788  0D04  CB 7A       	bit	7, d
2789  0D06  28 73       	jr	Z,l_player_move_jump_00140
2790  0D08  21 00 00    	ld	hl,_s_state
2791  0D0B  7E          	ld	a,(hl)
2792  0D0C  F6 01       	or	a,0x01
2793  0D0E  E6 FD       	and	a,0xfd
2794  0D10  77          	ld	(hl),a
2795  0D11  21 00 00    	ld	hl,_s_lin1
2796  0D14  DD 7E FF    	ld	a,(ix-1)
2797  0D17  96          	sub	a,(hl)
2798  0D18  20 04       	jr	NZ,l_player_move_jump_00250
2799  0D1A  3E 01       	ld	a,0x01
2800  0D1C  18 01       	jr	l_player_move_jump_00251
2801  0D1E              l_player_move_jump_00250:
2802  0D1E  AF          	xor	a,a
2803  0D1F              l_player_move_jump_00251:
2804  0D1F  EE 01       	xor	a,0x01
2805  0D21  28 51       	jr	Z,l_player_move_jump_00124
2806  0D23  2A 00 00    	ld	hl,(_sprite)
2807  0D26  26 00       	ld	h,0x00
2808  0D28  01 00 00    	ld	bc,_col
2809  0D2B  09          	add	hl,bc
2810  0D2C  7E          	ld	a,(hl)
2811  0D2D  F5          	push	af
2812  0D2E  33          	inc	sp
2813  0D2F  3A 00 00    	ld	a,(_s_lin1)
2814  0D32  F5          	push	af
2815  0D33  33          	inc	sp
2816  0D34  CD 00 00    	call	_game_check_map
2817  0D37  F1          	pop	af
2818  0D38  7C          	ld	a,h
2819  0D39  B5          	or	a,l
2820  0D3A  28 28       	jr	Z,l_player_move_jump_00121
2821  0D3C  CD 4B 09    	call	_player_hit_platform
2822  0D3F  7D          	ld	a, l
2823  0D40  B7          	or	a, a
2824  0D41  28 19       	jr	Z,l_player_move_jump_00119
2825  0D43  2A 00 00    	ld	hl,(_sprite)
2826  0D46  26 00       	ld	h,0x00
2827  0D48  01 00 00    	ld	bc,_lin
2828  0D4B  09          	add	hl,bc
2829  0D4C  7E          	ld	a,(hl)
2830  0D4D  4D          	ld	c,l
2831  0D4E  44          	ld	b,h
2832  0D4F  07          	rlca
2833  0D50  07          	rlca
2834  0D51  07          	rlca
2835  0D52  07          	rlca
2836  0D53  E6 0F       	and	a,0x0f
2837  0D55  07          	rlca
2838  0D56  07          	rlca
2839  0D57  07          	rlca
2840  0D58  07          	rlca
2841  0D59  E6 F0       	and	a,0xf0
2842  0D5B  02          	ld	(bc), a
2843  0D5C              l_player_move_jump_00119:
2844  0D5C  21 00 00    	ld	hl,_player_vel_y
2845  0D5F  36 00       	ld	(hl),0x00
2846  0D61  C3 3B 0E    	jp	l_player_move_jump_00141
2847  0D64              l_player_move_jump_00121:
2848  0D64  2A 00 00    	ld	hl,(_sprite)
2849  0D67  26 00       	ld	h,0x00
2850  0D69  01 00 00    	ld	bc,_lin
2851  0D6C  09          	add	hl,bc
2852  0D6D  3A 00 00    	ld	a,(_s_lin1)
2853  0D70  77          	ld	(hl),a
2854  0D71  C3 3B 0E    	jp	l_player_move_jump_00141
2855  0D74              l_player_move_jump_00124:
2856  0D74  3A 00 00    	ld	a,(_s_lin1)
2857  0D77  02          	ld	(bc), a
2858  0D78  C3 3B 0E    	jp	l_player_move_jump_00141
2859  0D7B              l_player_move_jump_00140:
2860  0D7B  21 00 00    	ld	hl,_s_state
2861  0D7E  7E          	ld	a,(hl)
2862  0D7F  F6 02       	or	a,0x02
2863  0D81  E6 FE       	and	a,0xfe
2864  0D83  77          	ld	(hl),a
2865  0D84  21 00 00    	ld	hl,_s_lin1
2866  0D87  7E          	ld	a, (hl)
2867  0D88  C6 10       	add	a,0x10
2868  0D8A  77          	ld	(hl), a
2869  0D8B  DD 7E FF    	ld	a,(ix-1)
2870  0D8E  96          	sub	a,(hl)
2871  0D8F  20 04       	jr	NZ,l_player_move_jump_00252
2872  0D91  3E 01       	ld	a,0x01
2873  0D93  18 01       	jr	l_player_move_jump_00253
2874  0D95              l_player_move_jump_00252:
2875  0D95  AF          	xor	a,a
2876  0D96              l_player_move_jump_00253:
2877  0D96  EE 01       	xor	a,0x01
2878  0D98  CA 33 0E    	jp	Z, l_player_move_jump_00137
2879  0D9B  2A 00 00    	ld	hl,(_sprite)
2880  0D9E  26 00       	ld	h,0x00
2881  0DA0  01 00 00    	ld	bc,_col
2882  0DA3  09          	add	hl,bc
2883  0DA4  7E          	ld	a,(hl)
2884  0DA5  F5          	push	af
2885  0DA6  33          	inc	sp
2886  0DA7  3A 00 00    	ld	a,(_s_lin1)
2887  0DAA  F5          	push	af
2888  0DAB  33          	inc	sp
2889  0DAC  CD 00 00    	call	_game_check_map
2890  0DAF  F1          	pop	af
2891  0DB0  45          	ld	b, l
2892  0DB1  5C          	ld	e, h
2893  0DB2  21 00 00    	ld	hl,_s_lin1
2894  0DB5  7E          	ld	a, (hl)
2895  0DB6  C6 F0       	add	a,0xf0
2896  0DB8  4F          	ld	c, a
2897  0DB9  7B          	ld	a, e
2898  0DBA  B0          	or	a,b
2899  0DBB  28 63       	jr	Z,l_player_move_jump_00134
2900  0DBD  71          	ld	(hl), c
2901  0DBE  2E 00       	ld	l,0x00
2902  0DC0  CD 8A 04    	call	_player_check_stairs
2903  0DC3  3A 00 00    	ld	a,(_player_over_stair)
2904  0DC6  B7          	or	a, a
2905  0DC7  20 05       	jr	NZ,l_player_move_jump_00127
2906  0DC9  2E 01       	ld	l,0x01
2907  0DCB  CD 8A 04    	call	_player_check_stairs
2908  0DCE              l_player_move_jump_00127:
2909  0DCE  3A 00 00    	ld	a,(_player_over_stair)
2910  0DD1  B7          	or	a, a
2911  0DD2  20 31       	jr	NZ,l_player_move_jump_00132
2912  0DD4  21 00 00    	ld	hl,_s_lin1
2913  0DD7  7E          	ld	a, (hl)
2914  0DD8  07          	rlca
2915  0DD9  07          	rlca
2916  0DDA  07          	rlca
2917  0DDB  07          	rlca
2918  0DDC  E6 0F       	and	a,0x0f
2919  0DDE  07          	rlca
2920  0DDF  07          	rlca
2921  0DE0  07          	rlca
2922  0DE1  07          	rlca
2923  0DE2  E6 F0       	and	a,0xf0
2924  0DE4  77          	ld	(hl), a
2925  0DE5  2A 00 00    	ld	hl,(_sprite)
2926  0DE8  26 00       	ld	h,0x00
2927  0DEA  01 00 00    	ld	bc,_lin
2928  0DED  09          	add	hl,bc
2929  0DEE  5E          	ld	e,(hl)
2930  0DEF  4D          	ld	c,l
2931  0DF0  44          	ld	b,h
2932  0DF1  21 00 00    	ld	hl,_s_lin1
2933  0DF4  7E          	ld	a, (hl)
2934  0DF5  93          	sub	a, e
2935  0DF6  30 09       	jr	NC,l_player_move_jump_00129
2936  0DF8  7E          	ld	a, (hl)
2937  0DF9  C6 10       	add	a,0x10
2938  0DFB  02          	ld	(bc), a
2939  0DFC  2E 00       	ld	l,0x00
2940  0DFE  C3 83 0E    	jp	l_player_move_jump_00151
2941  0E01              l_player_move_jump_00129:
2942  0E01  3A 00 00    	ld	a,(_s_lin1)
2943  0E04  02          	ld	(bc), a
2944  0E05              l_player_move_jump_00132:
2945  0E05  21 00 00    	ld	hl,_player_vel_y
2946  0E08  36 00       	ld	(hl),0x00
2947  0E0A  21 00 00    	ld	hl,_s_state
2948  0E0D  7E          	ld	a,(hl)
2949  0E0E  E6 FC       	and	a,+(0xfd&0xfe)
2950  0E10  77          	ld	(hl),a
2951  0E11  2A 00 00    	ld	hl,(_sprite)
2952  0E14  26 00       	ld	h,0x00
2953  0E16  01 00 00    	ld	bc,_colint
2954  0E19  09          	add	hl,bc
2955  0E1A  AF          	xor	a,a
2956  0E1B  77          	ld	(hl),a
2957  0E1C  2E 01       	ld	l,0x01
2958  0E1E  18 63       	jr	l_player_move_jump_00151
2959  0E20              l_player_move_jump_00134:
2960  0E20  21 00 00    	ld	hl,_s_lin1
2961  0E23  71          	ld	(hl), c
2962  0E24  2A 00 00    	ld	hl,(_sprite)
2963  0E27  26 00       	ld	h,0x00
2964  0E29  01 00 00    	ld	bc,_lin
2965  0E2C  09          	add	hl,bc
2966  0E2D  3A 00 00    	ld	a,(_s_lin1)
2967  0E30  77          	ld	(hl),a
2968  0E31  18 08       	jr	l_player_move_jump_00141
2969  0E33              l_player_move_jump_00137:
2970  0E33  21 00 00    	ld	hl,_s_lin1
2971  0E36  7E          	ld	a, (hl)
2972  0E37  C6 F0       	add	a,0xf0
2973  0E39  77          	ld	(hl),a
2974  0E3A  02          	ld	(bc), a
2975  0E3B              l_player_move_jump_00141:
2976  0E3B  21 00 00    	ld	hl,_s_state
2977  0E3E  CB 5E       	bit	3, (hl)
2978  0E40  20 27       	jr	NZ,l_player_move_jump_00147
2979  0E42  21 00 00    	ld	hl,_s_state
2980  0E45  CB 56       	bit	2, (hl)
2981  0E47  20 20       	jr	NZ,l_player_move_jump_00147
2982  0E49  21 00 00    	ld	hl,_dirs
2983  0E4C  CB 56       	bit	2, (hl)
2984  0E4E  28 09       	jr	Z,l_player_move_jump_00143
2985  0E50  21 00 00    	ld	hl,_s_state
2986  0E53  7E          	ld	a,(hl)
2987  0E54  F6 08       	or	a,0x08
2988  0E56  E6 FB       	and	a,0xfb
2989  0E58  77          	ld	(hl),a
2990  0E59              l_player_move_jump_00143:
2991  0E59  21 00 00    	ld	hl,_dirs
2992  0E5C  CB 5E       	bit	3, (hl)
2993  0E5E  28 09       	jr	Z,l_player_move_jump_00147
2994  0E60  21 00 00    	ld	hl,_s_state
2995  0E63  7E          	ld	a,(hl)
2996  0E64  F6 04       	or	a,0x04
2997  0E66  E6 F7       	and	a,0xf7
2998  0E68  77          	ld	(hl),a
2999  0E69              l_player_move_jump_00147:
3000  0E69  21 00 00    	ld	hl,_sprite_horizontal_check
3001  0E6C  36 01       	ld	(hl),0x01
3002  0E6E  CD 00 00    	call	_spr_move_horizontal
3003  0E71  7D          	ld	a, l
3004  0E72  B7          	or	a, a
3005  0E73  28 07       	jr	Z,l_player_move_jump_00150
3006  0E75  21 00 00    	ld	hl,_s_state
3007  0E78  7E          	ld	a,(hl)
3008  0E79  E6 F3       	and	a,+(0xf7&0xfb)
3009  0E7B  77          	ld	(hl),a
3010  0E7C              l_player_move_jump_00150:
3011  0E7C  21 00 00    	ld	hl,_sprite_horizontal_check
3012  0E7F  36 00       	ld	(hl),0x00
3013  0E81  2E 00       	ld	l,0x00
3014  0E83              l_player_move_jump_00151:
3015  0E83  33          	inc	sp
3016  0E84  DD E1       	pop	ix
3017  0E86  C9          	ret
3018  0E87              	SECTION code_compiler
3019  0E87              ;	---------------------------------
3020  0E87              ; Function player_open_door
3021  0E87              ; ---------------------------------
3022  0E87              _player_open_door:
3023  0E87  CD 00 00    	call	___sdcc_enter_ix
3024  0E8A  0E 00       	ld	c,0x00
3025  0E8C  DD 7E 06    	ld	a,(ix+6)
3026  0E8F  D6 48       	sub	a,0x48
3027  0E91  28 17       	jr	Z,l_player_open_door_00101
3028  0E93  DD 7E 06    	ld	a,(ix+6)
3029  0E96  D6 49       	sub	a,0x49
3030  0E98  28 1F       	jr	Z,l_player_open_door_00104
3031  0E9A  DD 7E 06    	ld	a,(ix+6)
3032  0E9D  D6 4A       	sub	a,0x4a
3033  0E9F  28 27       	jr	Z,l_player_open_door_00107
3034  0EA1  DD 7E 06    	ld	a,(ix+6)
3035  0EA4  D6 4B       	sub	a,0x4b
3036  0EA6  28 2F       	jr	Z,l_player_open_door_00110
3037  0EA8  18 3A       	jr	l_player_open_door_00113
3038  0EAA              l_player_open_door_00101:
3039  0EAA  3A 00 00    	ld	a,(_player_keys)
3040  0EAD  B7          	or	a, a
3041  0EAE  28 34       	jr	Z,l_player_open_door_00113
3042  0EB0  2E 07       	ld	l,0x07
3043  0EB2  CD 00 00    	call	_zx_border_fastcall
3044  0EB5  0E 01       	ld	c,0x01
3045  0EB7  18 2B       	jr	l_player_open_door_00113
3046  0EB9              l_player_open_door_00104:
3047  0EB9  3A 01 00    	ld	a,(_player_keys + 0x0001)
3048  0EBC  B7          	or	a, a
3049  0EBD  28 25       	jr	Z,l_player_open_door_00113
3050  0EBF  2E 02       	ld	l,0x02
3051  0EC1  CD 00 00    	call	_zx_border_fastcall
3052  0EC4  0E 01       	ld	c,0x01
3053  0EC6  18 1C       	jr	l_player_open_door_00113
3054  0EC8              l_player_open_door_00107:
3055  0EC8  3A 02 00    	ld	a,(_player_keys + 0x0002)
3056  0ECB  B7          	or	a, a
3057  0ECC  28 16       	jr	Z,l_player_open_door_00113
3058  0ECE  2E 04       	ld	l,0x04
3059  0ED0  CD 00 00    	call	_zx_border_fastcall
3060  0ED3  0E 01       	ld	c,0x01
3061  0ED5  18 0D       	jr	l_player_open_door_00113
3062  0ED7              l_player_open_door_00110:
3063  0ED7  3A 03 00    	ld	a,(_player_keys + 0x0003)
3064  0EDA  B7          	or	a, a
3065  0EDB  28 07       	jr	Z,l_player_open_door_00113
3066  0EDD  2E 05       	ld	l,0x05
3067  0EDF  CD 00 00    	call	_zx_border_fastcall
3068  0EE2  0E 01       	ld	c,0x01
3069  0EE4              l_player_open_door_00113:
3070  0EE4  79          	ld	a, c
3071  0EE5  B7          	or	a, a
3072  0EE6  20 06       	jr	NZ,l_player_open_door_00114
3073  0EE8  3A 00 00    	ld	a,(_game_inmune)
3074  0EEB  B7          	or	a, a
3075  0EEC  28 24       	jr	Z,l_player_open_door_00117
3076  0EEE              l_player_open_door_00114:
3077  0EEE  3E 00       	ld	a, +((_scr_map) & 0xFF)
3078  0EF0  DD 86 04    	add	a,(ix+4)
3079  0EF3  4F          	ld	c, a
3080  0EF4  3E 00       	ld	a, +((_scr_map) / 256)
3081  0EF6  DD 8E 05    	adc	a,(ix+5)
3082  0EF9  47          	ld	b, a
3083  0EFA  AF          	xor	a, a
3084  0EFB  02          	ld	(bc), a
3085  0EFC  DD 6E 04    	ld	l,(ix+4)
3086  0EFF  DD 66 05    	ld	h,(ix+5)
3087  0F02  E5          	push	hl
3088  0F03  CD 00 00    	call	_game_obj_set
3089  0F06  F1          	pop	af
3090  0F07  DD 6E 04    	ld	l,(ix+4)
3091  0F0A  DD 66 05    	ld	h,(ix+5)
3092  0F0D  E5          	push	hl
3093  0F0E  CD 00 00    	call	_spr_draw_index
3094  0F11  F1          	pop	af
3095  0F12              l_player_open_door_00117:
3096  0F12  DD E1       	pop	ix
3097  0F14  C9          	ret
3098  0F15              	SECTION code_compiler
3099  0F15              ;	---------------------------------
3100  0F15              ; Function player_lost_life
3101  0F15              ; ---------------------------------
3102  0F15              _player_lost_life:
3103  0F15  3A 07 00    	ld	a,(_lin + 0x0007)
3104  0F18  32 00 00    	ld	(_s_lin0),a
3105  0F1B  3A 07 00    	ld	a,(_col + 0x0007)
3106  0F1E  32 00 00    	ld	(_s_col0),a
3107  0F21  CD 00 00    	call	_spr_init_anim_bullets
3108  0F24  01 00 00    	ld	bc,_class+0
3109  0F27  16 00       	ld	d,0x00
3110  0F29              l_player_lost_life_00114:
3111  0F29  C5          	push	bc
3112  0F2A  D5          	push	de
3113  0F2B  21 00 00    	ld	hl,0x0000
3114  0F2E  E5          	push	hl
3115  0F2F  AF          	xor	a, a
3116  0F30  5A          	ld	e,d
3117  0F31  57          	ld	d,a
3118  0F32  D5          	push	de
3119  0F33  CD 00 00    	call	_NIRVANAP_spriteT_callee
3120  0F36  D1          	pop	de
3121  0F37  C1          	pop	bc
3122  0F38  6A          	ld	l,d
3123  0F39  26 00       	ld	h,0x00
3124  0F3B  09          	add	hl, bc
3125  0F3C  36 00       	ld	(hl),0x00
3126  0F3E  14          	inc	d
3127  0F3F  7A          	ld	a, d
3128  0F40  D6 08       	sub	a,0x08
3129  0F42  38 E5       	jr	C,l_player_lost_life_00114
3130  0F44  76          	halt
3131  0F45  3A 00 00    	ld	a,(_s_lin0)
3132  0F48  C6 F0       	add	a,0xf0
3133  0F4A  47          	ld	b, a
3134  0F4B  3A 00 00    	ld	a,(_s_col0)
3135  0F4E  21 00 00    	ld	hl,0x0000
3136  0F51  E5          	push	hl
3137  0F52  21 87 03    	ld	hl,0x0387
3138  0F55  E5          	push	hl
3139  0F56  48          	ld	c,b
3140  0F57  47          	ld	b,a
3141  0F58  C5          	push	bc
3142  0F59  CD 00 00    	call	_spr_add_anim
3143  0F5C  F1          	pop	af
3144  0F5D  F1          	pop	af
3145  0F5E  F1          	pop	af
3146  0F5F  21 00 00    	ld	hl,_s_col0
3147  0F62  7E          	ld	a, (hl)
3148  0F63  D6 02       	sub	a,0x02
3149  0F65  38 18       	jr	C,l_player_lost_life_00103
3150  0F67  46          	ld	b, (hl)
3151  0F68  05          	dec	b
3152  0F69  05          	dec	b
3153  0F6A  21 00 00    	ld	hl,0x0000
3154  0F6D  E5          	push	hl
3155  0F6E  21 87 03    	ld	hl,0x0387
3156  0F71  E5          	push	hl
3157  0F72  C5          	push	bc
3158  0F73  33          	inc	sp
3159  0F74  3A 00 00    	ld	a,(_s_lin0)
3160  0F77  F5          	push	af
3161  0F78  33          	inc	sp
3162  0F79  CD 00 00    	call	_spr_add_anim
3163  0F7C  F1          	pop	af
3164  0F7D  F1          	pop	af
3165  0F7E  F1          	pop	af
3166  0F7F              l_player_lost_life_00103:
3167  0F7F  3A 00 00    	ld	a,(_s_col0)
3168  0F82  21 00 00    	ld	hl,0x0000
3169  0F85  E5          	push	hl
3170  0F86  21 87 03    	ld	hl,0x0387
3171  0F89  E5          	push	hl
3172  0F8A  F5          	push	af
3173  0F8B  33          	inc	sp
3174  0F8C  3A 00 00    	ld	a,(_s_lin0)
3175  0F8F  F5          	push	af
3176  0F90  33          	inc	sp
3177  0F91  CD 00 00    	call	_spr_add_anim
3178  0F94  F1          	pop	af
3179  0F95  F1          	pop	af
3180  0F96  F1          	pop	af
3181  0F97  21 00 00    	ld	hl,_s_col0
3182  0F9A  7E          	ld	a, (hl)
3183  0F9B  D6 1E       	sub	a,0x1e
3184  0F9D  30 18       	jr	NC,l_player_lost_life_00105
3185  0F9F  46          	ld	b, (hl)
3186  0FA0  04          	inc	b
3187  0FA1  04          	inc	b
3188  0FA2  21 00 00    	ld	hl,0x0000
3189  0FA5  E5          	push	hl
3190  0FA6  21 87 03    	ld	hl,0x0387
3191  0FA9  E5          	push	hl
3192  0FAA  C5          	push	bc
3193  0FAB  33          	inc	sp
3194  0FAC  3A 00 00    	ld	a,(_s_lin0)
3195  0FAF  F5          	push	af
3196  0FB0  33          	inc	sp
3197  0FB1  CD 00 00    	call	_spr_add_anim
3198  0FB4  F1          	pop	af
3199  0FB5  F1          	pop	af
3200  0FB6  F1          	pop	af
3201  0FB7              l_player_lost_life_00105:
3202  0FB7  3A 00 00    	ld	a,(_s_lin0)
3203  0FBA  C6 10       	add	a,0x10
3204  0FBC  47          	ld	b, a
3205  0FBD  3A 00 00    	ld	a,(_s_col0)
3206  0FC0  21 00 00    	ld	hl,0x0000
3207  0FC3  E5          	push	hl
3208  0FC4  21 87 03    	ld	hl,0x0387
3209  0FC7  E5          	push	hl
3210  0FC8  48          	ld	c,b
3211  0FC9  47          	ld	b,a
3212  0FCA  C5          	push	bc
3213  0FCB  CD 00 00    	call	_spr_add_anim
3214  0FCE  F1          	pop	af
3215  0FCF  F1          	pop	af
3216  0FD0  F1          	pop	af
3217  0FD1  2E 00       	ld	l,0x00
3218  0FD3  CD 00 00    	call	_zx_border_fastcall
3219  0FD6  21 00 00    	ld	hl,_tmp
3220  0FD9  36 01       	ld	(hl),0x01
3221  0FDB              l_player_lost_life_00111:
3222  0FDB  3A 00 00    	ld	a,(_tmp)
3223  0FDE  B7          	or	a, a
3224  0FDF  28 2F       	jr	Z,l_player_lost_life_00113
3225  0FE1  21 06 00    	ld	hl,0x0006
3226  0FE4  E5          	push	hl
3227  0FE5  2A 00 00    	ld	hl,(_anim_time)
3228  0FE8  E5          	push	hl
3229  0FE9  CD 00 00    	call	_game_check_time
3230  0FEC  F1          	pop	af
3231  0FED  F1          	pop	af
3232  0FEE  7D          	ld	a, l
3233  0FEF  B7          	or	a, a
3234  0FF0  28 16       	jr	Z,l_player_lost_life_00110
3235  0FF2  2A 00 00    	ld	hl,(_curr_time)
3236  0FF5  22 00 00    	ld	(_anim_time),hl
3237  0FF8  3A 00 00    	ld	a,(_anim_count)
3238  0FFB  B7          	or	a,a
3239  0FFC  28 05       	jr	Z,l_player_lost_life_00107
3240  0FFE  CD 00 00    	call	_spr_play_anim
3241  1001  18 05       	jr	l_player_lost_life_00110
3242  1003              l_player_lost_life_00107:
3243  1003  21 00 00    	ld	hl,_tmp
3244  1006  36 00       	ld	(hl),0x00
3245  1008              l_player_lost_life_00110:
3246  1008  21 05 00    	ld	hl,0x0005
3247  100B  CD 00 00    	call	_z80_delay_ms_fastcall
3248  100E  18 CB       	jr	l_player_lost_life_00111
3249  1010              l_player_lost_life_00113:
3250  1010  21 F4 01    	ld	hl,0x01f4
3251  1013  CD 00 00    	call	_z80_delay_ms_fastcall
3252  1016  3A 00 00    	ld	a,(_game_start_scr)
3253  1019  32 00 00    	ld	(_scr_curr),a
3254  101C  CD 00 00    	call	_game_round_init
3255  101F  C9          	ret
3256  1020              	SECTION code_compiler
3257  1020              ;	---------------------------------
3258  1020              ; Function player_hit
3259  1020              ; ---------------------------------
3260  1020              _player_hit:
3261  1020  7D          	ld	a,l
3262  1021  4D          	ld	c,l
3263  1022  21 00 00    	ld	hl,_player_vita
3264  1025  96          	sub	a, (hl)
3265  1026  30 17       	jr	NC,l_player_hit_00107
3266  1028  3A 00 00    	ld	a,(_game_inmune)
3267  102B  B7          	or	a, a
3268  102C  20 06       	jr	NZ,l_player_hit_00102
3269  102E  21 00 00    	ld	hl,_player_vita
3270  1031  7E          	ld	a, (hl)
3271  1032  91          	sub	a, c
3272  1033  77          	ld	(hl), a
3273  1034              l_player_hit_00102:
3274  1034  2A 00 00    	ld	hl,(_curr_time)
3275  1037  22 00 00    	ld	(_player_hit_time),hl
3276  103A  CD 00 00    	call	_game_update_stats
3277  103D  18 22       	jr	l_player_hit_00109
3278  103F              l_player_hit_00107:
3279  103F  21 00 00    	ld	hl,_player_vita
3280  1042  36 00       	ld	(hl),0x00
3281  1044  CD 00 00    	call	_game_update_stats
3282  1047  CD 15 0F    	call	_player_lost_life
3283  104A  21 00 00    	ld	hl,_player_lives
3284  104D  7E          	ld	a, (hl)
3285  104E  B7          	or	a, a
3286  104F  28 06       	jr	Z,l_player_hit_00104
3287  1051  35          	dec	(hl)
3288  1052  CD 00 00    	call	_game_update_stats
3289  1055  18 0A       	jr	l_player_hit_00109
3290  1057              l_player_hit_00104:
3291  1057  21 00 00    	ld	hl,_player_lives
3292  105A  36 00       	ld	(hl),0x00
3293  105C  21 00 00    	ld	hl,_game_over
3294  105F  36 01       	ld	(hl),0x01
3295  1061              l_player_hit_00109:
3296  1061  C9          	ret
3297  1062              	SECTION IGNORE
3298  0000              
