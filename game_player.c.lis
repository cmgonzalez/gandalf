1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_lost_life
195   0000              	GLOBAL _player_turn
196   0000              	GLOBAL _player_move
197   0000              	GLOBAL _player_check_stairs_down
198   0000              	GLOBAL _player_check_stairs
199   0000              	GLOBAL _player_tile
200   0000              	GLOBAL _player_move_input
201   0000              	GLOBAL _player_fire
202   0000              	GLOBAL _player_pick_item
203   0000              	GLOBAL _player_hit_platform
204   0000              	GLOBAL _player_hit_platform_clear
205   0000              	GLOBAL _player_score_add
206   0000              	GLOBAL _player_check_floor
207   0000              	GLOBAL _player_move_jump
208   0000              ;--------------------------------------------------------
209   0000              ; Externals used
210   0000              ;--------------------------------------------------------
211   0000              	GLOBAL _ulltoa_callee
212   0000              	GLOBAL _ulltoa
213   0000              	GLOBAL _strtoull_callee
214   0000              	GLOBAL _strtoull
215   0000              	GLOBAL _strtoll_callee
216   0000              	GLOBAL _strtoll
217   0000              	GLOBAL _lltoa_callee
218   0000              	GLOBAL _lltoa
219   0000              	GLOBAL _llabs_callee
220   0000              	GLOBAL _llabs
221   0000              	GLOBAL __lldivu__callee
222   0000              	GLOBAL __lldivu_
223   0000              	GLOBAL __lldiv__callee
224   0000              	GLOBAL __lldiv_
225   0000              	GLOBAL _atoll_callee
226   0000              	GLOBAL _atoll
227   0000              	GLOBAL _realloc_unlocked_callee
228   0000              	GLOBAL _realloc_unlocked
229   0000              	GLOBAL _malloc_unlocked_fastcall
230   0000              	GLOBAL _malloc_unlocked
231   0000              	GLOBAL _free_unlocked_fastcall
232   0000              	GLOBAL _free_unlocked
233   0000              	GLOBAL _calloc_unlocked_callee
234   0000              	GLOBAL _calloc_unlocked
235   0000              	GLOBAL _aligned_alloc_unlocked_callee
236   0000              	GLOBAL _aligned_alloc_unlocked
237   0000              	GLOBAL _realloc_callee
238   0000              	GLOBAL _realloc
239   0000              	GLOBAL _malloc_fastcall
240   0000              	GLOBAL _malloc
241   0000              	GLOBAL _free_fastcall
242   0000              	GLOBAL _free
243   0000              	GLOBAL _calloc_callee
244   0000              	GLOBAL _calloc
245   0000              	GLOBAL _aligned_alloc_callee
246   0000              	GLOBAL _aligned_alloc
247   0000              	GLOBAL _utoa_callee
248   0000              	GLOBAL _utoa
249   0000              	GLOBAL _ultoa_callee
250   0000              	GLOBAL _ultoa
251   0000              	GLOBAL _system_fastcall
252   0000              	GLOBAL _system
253   0000              	GLOBAL _strtoul_callee
254   0000              	GLOBAL _strtoul
255   0000              	GLOBAL _strtol_callee
256   0000              	GLOBAL _strtol
257   0000              	GLOBAL _strtof_callee
258   0000              	GLOBAL _strtof
259   0000              	GLOBAL _strtod_callee
260   0000              	GLOBAL _strtod
261   0000              	GLOBAL _srand_fastcall
262   0000              	GLOBAL _srand
263   0000              	GLOBAL _rand
264   0000              	GLOBAL _quick_exit_fastcall
265   0000              	GLOBAL _quick_exit
266   0000              	GLOBAL _qsort_callee
267   0000              	GLOBAL _qsort
268   0000              	GLOBAL _ltoa_callee
269   0000              	GLOBAL _ltoa
270   0000              	GLOBAL _labs_fastcall
271   0000              	GLOBAL _labs
272   0000              	GLOBAL _itoa_callee
273   0000              	GLOBAL _itoa
274   0000              	GLOBAL _ftoh_callee
275   0000              	GLOBAL _ftoh
276   0000              	GLOBAL _ftog_callee
277   0000              	GLOBAL _ftog
278   0000              	GLOBAL _ftoe_callee
279   0000              	GLOBAL _ftoe
280   0000              	GLOBAL _ftoa_callee
281   0000              	GLOBAL _ftoa
282   0000              	GLOBAL _exit_fastcall
283   0000              	GLOBAL _exit
284   0000              	GLOBAL _dtoh_callee
285   0000              	GLOBAL _dtoh
286   0000              	GLOBAL _dtog_callee
287   0000              	GLOBAL _dtog
288   0000              	GLOBAL _dtoe_callee
289   0000              	GLOBAL _dtoe
290   0000              	GLOBAL _dtoa_callee
291   0000              	GLOBAL _dtoa
292   0000              	GLOBAL _bsearch_callee
293   0000              	GLOBAL _bsearch
294   0000              	GLOBAL _atol_fastcall
295   0000              	GLOBAL _atol
296   0000              	GLOBAL _atoi_fastcall
297   0000              	GLOBAL _atoi
298   0000              	GLOBAL _atof_fastcall
299   0000              	GLOBAL _atof
300   0000              	GLOBAL _atexit_fastcall
301   0000              	GLOBAL _atexit
302   0000              	GLOBAL _at_quick_exit_fastcall
303   0000              	GLOBAL _at_quick_exit
304   0000              	GLOBAL _abs_fastcall
305   0000              	GLOBAL _abs
306   0000              	GLOBAL _abort
307   0000              	GLOBAL __strtou__callee
308   0000              	GLOBAL __strtou_
309   0000              	GLOBAL __strtoi__callee
310   0000              	GLOBAL __strtoi_
311   0000              	GLOBAL __random_uniform_xor_8__fastcall
312   0000              	GLOBAL __random_uniform_xor_8_
313   0000              	GLOBAL __random_uniform_xor_32__fastcall
314   0000              	GLOBAL __random_uniform_xor_32_
315   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
316   0000              	GLOBAL __random_uniform_cmwc_8_
317   0000              	GLOBAL __shellsort__callee
318   0000              	GLOBAL __shellsort_
319   0000              	GLOBAL __quicksort__callee
320   0000              	GLOBAL __quicksort_
321   0000              	GLOBAL __insertion_sort__callee
322   0000              	GLOBAL __insertion_sort_
323   0000              	GLOBAL __ldivu__callee
324   0000              	GLOBAL __ldivu_
325   0000              	GLOBAL __ldiv__callee
326   0000              	GLOBAL __ldiv_
327   0000              	GLOBAL __divu__callee
328   0000              	GLOBAL __divu_
329   0000              	GLOBAL __div__callee
330   0000              	GLOBAL __div_
331   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
332   0000              	GLOBAL _NIRVANAP_drawTW_raw
333   0000              	GLOBAL _NIRVANAP_drawTW_callee
334   0000              	GLOBAL _NIRVANAP_drawTW
335   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
336   0000              	GLOBAL _NIRVANAP_drawW_raw
337   0000              	GLOBAL _NIRVANAP_drawW_callee
338   0000              	GLOBAL _NIRVANAP_drawW
339   0000              	GLOBAL _NIRVANAP_spriteT_callee
340   0000              	GLOBAL _NIRVANAP_spriteT
341   0000              	GLOBAL _NIRVANAP_fillC_callee
342   0000              	GLOBAL _NIRVANAP_fillC
343   0000              	GLOBAL _NIRVANAP_readC_callee
344   0000              	GLOBAL _NIRVANAP_readC
345   0000              	GLOBAL _NIRVANAP_paintC_callee
346   0000              	GLOBAL _NIRVANAP_paintC
347   0000              	GLOBAL _NIRVANAP_printC_callee
348   0000              	GLOBAL _NIRVANAP_printC
349   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
350   0000              	GLOBAL _NIRVANAP_fillT_raw
351   0000              	GLOBAL _NIRVANAP_fillT_callee
352   0000              	GLOBAL _NIRVANAP_fillT
353   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
354   0000              	GLOBAL _NIRVANAP_drawT_raw
355   0000              	GLOBAL _NIRVANAP_drawT_callee
356   0000              	GLOBAL _NIRVANAP_drawT
357   0000              	GLOBAL _NIRVANAP_stop
358   0000              	GLOBAL _NIRVANAP_start
359   0000              	GLOBAL _debug3
360   0000              	GLOBAL _debug2
361   0000              	GLOBAL _debug
362   0000              	GLOBAL _zx_print_str
363   0000              	GLOBAL _zx_print_int
364   0000              	GLOBAL _zx_print_chr
365   0000              	GLOBAL _zx_print_bonus_time
366   0000              	GLOBAL _zx_isr
367   0000              	GLOBAL _z80_otdr_callee
368   0000              	GLOBAL _z80_otdr
369   0000              	GLOBAL _z80_otir_callee
370   0000              	GLOBAL _z80_otir
371   0000              	GLOBAL _z80_outp_callee
372   0000              	GLOBAL _z80_outp
373   0000              	GLOBAL _z80_indr_callee
374   0000              	GLOBAL _z80_indr
375   0000              	GLOBAL _z80_inir_callee
376   0000              	GLOBAL _z80_inir
377   0000              	GLOBAL _z80_inp_fastcall
378   0000              	GLOBAL _z80_inp
379   0000              	GLOBAL _z80_set_int_state_fastcall
380   0000              	GLOBAL _z80_set_int_state
381   0000              	GLOBAL _z80_get_int_state
382   0000              	GLOBAL _z80_delay_tstate_fastcall
383   0000              	GLOBAL _z80_delay_tstate
384   0000              	GLOBAL _z80_delay_ms_fastcall
385   0000              	GLOBAL _z80_delay_ms
386   0000              	GLOBAL _im2_remove_generic_callback_callee
387   0000              	GLOBAL _im2_remove_generic_callback
388   0000              	GLOBAL _im2_prepend_generic_callback_callee
389   0000              	GLOBAL _im2_prepend_generic_callback
390   0000              	GLOBAL _im2_append_generic_callback_callee
391   0000              	GLOBAL _im2_append_generic_callback
392   0000              	GLOBAL _im2_create_generic_isr_8080_callee
393   0000              	GLOBAL _im2_create_generic_isr_8080
394   0000              	GLOBAL _im2_create_generic_isr_callee
395   0000              	GLOBAL _im2_create_generic_isr
396   0000              	GLOBAL _im2_install_isr_callee
397   0000              	GLOBAL _im2_install_isr
398   0000              	GLOBAL _im2_init_fastcall
399   0000              	GLOBAL _im2_init
400   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
401   0000              	GLOBAL _intrinsic_swap_word_32
402   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
403   0000              	GLOBAL _intrinsic_swap_endian_32
404   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
405   0000              	GLOBAL _intrinsic_swap_endian_16
406   0000              	GLOBAL _intrinsic_return_de
407   0000              	GLOBAL _intrinsic_return_bc
408   0000              	GLOBAL _intrinsic_exx
409   0000              	GLOBAL _intrinsic_ex_de_hl
410   0000              	GLOBAL _intrinsic_nop
411   0000              	GLOBAL _intrinsic_im_2
412   0000              	GLOBAL _intrinsic_im_1
413   0000              	GLOBAL _intrinsic_im_0
414   0000              	GLOBAL _intrinsic_retn
415   0000              	GLOBAL _intrinsic_reti
416   0000              	GLOBAL _intrinsic_halt
417   0000              	GLOBAL _intrinsic_ei
418   0000              	GLOBAL _intrinsic_di
419   0000              	GLOBAL _intrinsic_stub
420   0000              	GLOBAL _intrinsic_outi
421   0000              	GLOBAL _intrinsic_ldi
422   0000              	GLOBAL _zx_pattern_fill_callee
423   0000              	GLOBAL _zx_pattern_fill
424   0000              	GLOBAL _zx_saddrpup_fastcall
425   0000              	GLOBAL _zx_saddrpup
426   0000              	GLOBAL _zx_saddrpright_callee
427   0000              	GLOBAL _zx_saddrpright
428   0000              	GLOBAL _zx_saddrpleft_callee
429   0000              	GLOBAL _zx_saddrpleft
430   0000              	GLOBAL _zx_saddrpdown_fastcall
431   0000              	GLOBAL _zx_saddrpdown
432   0000              	GLOBAL _zx_saddrcup_fastcall
433   0000              	GLOBAL _zx_saddrcup
434   0000              	GLOBAL _zx_saddrcright_fastcall
435   0000              	GLOBAL _zx_saddrcright
436   0000              	GLOBAL _zx_saddrcleft_fastcall
437   0000              	GLOBAL _zx_saddrcleft
438   0000              	GLOBAL _zx_saddrcdown_fastcall
439   0000              	GLOBAL _zx_saddrcdown
440   0000              	GLOBAL _zx_saddr2py_fastcall
441   0000              	GLOBAL _zx_saddr2py
442   0000              	GLOBAL _zx_saddr2px_fastcall
443   0000              	GLOBAL _zx_saddr2px
444   0000              	GLOBAL _zx_saddr2cy_fastcall
445   0000              	GLOBAL _zx_saddr2cy
446   0000              	GLOBAL _zx_saddr2cx_fastcall
447   0000              	GLOBAL _zx_saddr2cx
448   0000              	GLOBAL _zx_saddr2aaddr_fastcall
449   0000              	GLOBAL _zx_saddr2aaddr
450   0000              	GLOBAL _zx_py2saddr_fastcall
451   0000              	GLOBAL _zx_py2saddr
452   0000              	GLOBAL _zx_py2aaddr_fastcall
453   0000              	GLOBAL _zx_py2aaddr
454   0000              	GLOBAL _zx_pxy2saddr_callee
455   0000              	GLOBAL _zx_pxy2saddr
456   0000              	GLOBAL _zx_pxy2aaddr_callee
457   0000              	GLOBAL _zx_pxy2aaddr
458   0000              	GLOBAL _zx_px2bitmask_fastcall
459   0000              	GLOBAL _zx_px2bitmask
460   0000              	GLOBAL _zx_cy2saddr_fastcall
461   0000              	GLOBAL _zx_cy2saddr
462   0000              	GLOBAL _zx_cy2aaddr_fastcall
463   0000              	GLOBAL _zx_cy2aaddr
464   0000              	GLOBAL _zx_cxy2saddr_callee
465   0000              	GLOBAL _zx_cxy2saddr
466   0000              	GLOBAL _zx_cxy2aaddr_callee
467   0000              	GLOBAL _zx_cxy2aaddr
468   0000              	GLOBAL _zx_bitmask2px_fastcall
469   0000              	GLOBAL _zx_bitmask2px
470   0000              	GLOBAL _zx_aaddrcup_fastcall
471   0000              	GLOBAL _zx_aaddrcup
472   0000              	GLOBAL _zx_aaddrcright_fastcall
473   0000              	GLOBAL _zx_aaddrcright
474   0000              	GLOBAL _zx_aaddrcleft_fastcall
475   0000              	GLOBAL _zx_aaddrcleft
476   0000              	GLOBAL _zx_aaddrcdown_fastcall
477   0000              	GLOBAL _zx_aaddrcdown
478   0000              	GLOBAL _zx_aaddr2saddr_fastcall
479   0000              	GLOBAL _zx_aaddr2saddr
480   0000              	GLOBAL _zx_aaddr2py_fastcall
481   0000              	GLOBAL _zx_aaddr2py
482   0000              	GLOBAL _zx_aaddr2px_fastcall
483   0000              	GLOBAL _zx_aaddr2px
484   0000              	GLOBAL _zx_aaddr2cy_fastcall
485   0000              	GLOBAL _zx_aaddr2cy
486   0000              	GLOBAL _zx_aaddr2cx_fastcall
487   0000              	GLOBAL _zx_aaddr2cx
488   0000              	GLOBAL _zx_visit_wc_pix_callee
489   0000              	GLOBAL _zx_visit_wc_pix
490   0000              	GLOBAL _zx_visit_wc_attr_callee
491   0000              	GLOBAL _zx_visit_wc_attr
492   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
493   0000              	GLOBAL _zx_scroll_wc_up_pix
494   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
495   0000              	GLOBAL _zx_scroll_wc_up_attr
496   0000              	GLOBAL _zx_scroll_wc_up_callee
497   0000              	GLOBAL _zx_scroll_wc_up
498   0000              	GLOBAL _zx_scroll_up_pix_callee
499   0000              	GLOBAL _zx_scroll_up_pix
500   0000              	GLOBAL _zx_scroll_up_attr_callee
501   0000              	GLOBAL _zx_scroll_up_attr
502   0000              	GLOBAL _zx_scroll_up_callee
503   0000              	GLOBAL _zx_scroll_up
504   0000              	GLOBAL _zx_cls_wc_pix_callee
505   0000              	GLOBAL _zx_cls_wc_pix
506   0000              	GLOBAL _zx_cls_wc_attr_callee
507   0000              	GLOBAL _zx_cls_wc_attr
508   0000              	GLOBAL _zx_cls_wc_callee
509   0000              	GLOBAL _zx_cls_wc
510   0000              	GLOBAL _zx_cls_pix_fastcall
511   0000              	GLOBAL _zx_cls_pix
512   0000              	GLOBAL _zx_cls_attr_fastcall
513   0000              	GLOBAL _zx_cls_attr
514   0000              	GLOBAL _zx_cls_fastcall
515   0000              	GLOBAL _zx_cls
516   0000              	GLOBAL _zx_border_fastcall
517   0000              	GLOBAL _zx_border
518   0000              	GLOBAL _spr_init_anim_bullets
519   0000              	GLOBAL _spr_turn_horizontal
520   0000              	GLOBAL _spr_play_bullets
521   0000              	GLOBAL _spr_play_anim
522   0000              	GLOBAL _spr_add_anim
523   0000              	GLOBAL _spr_page_map
524   0000              	GLOBAL _spr_page_right
525   0000              	GLOBAL _spr_page_left
526   0000              	GLOBAL _spr_tile_paint
527   0000              	GLOBAL _spr_calc_hor
528   0000              	GLOBAL _spr_draw_row
529   0000              	GLOBAL _spr_draw_index
530   0000              	GLOBAL _spr_draw_clear
531   0000              	GLOBAL _spr_brick_anim
532   0000              	GLOBAL _spr_back_repaint
533   0000              	GLOBAL _spr_tile
534   0000              	GLOBAL _spr_destroy
535   0000              	GLOBAL _spr_tile_dir
536   0000              	GLOBAL _spr_redraw
537   0000              	GLOBAL _spr_move_left
538   0000              	GLOBAL _spr_move_right
539   0000              	GLOBAL _spr_move_horizontal
540   0000              	GLOBAL _spr_move_down
541   0000              	GLOBAL _spr_move_up
542   0000              	GLOBAL _spr_calc_index
543   0000              	GLOBAL _spr_chktime
544   0000              	GLOBAL _sound_hit_brick
545   0000              	GLOBAL _sound_hit_enemy
546   0000              	GLOBAL _sound_kill
547   0000              	GLOBAL _sound_enter_enemy
548   0000              	GLOBAL _sound_coin
549   0000              	GLOBAL _sound_jump
550   0000              	GLOBAL _sound_slide
551   0000              	GLOBAL _player_player_hit_pow
552   0000              	GLOBAL _game_joystick_set_menu
553   0000              	GLOBAL _game_joystick_set
554   0000              	GLOBAL _game_joystick_change
555   0000              	GLOBAL _game_print_header
556   0000              	GLOBAL _game_end
557   0000              	GLOBAL _game_phase_print_score_back
558   0000              	GLOBAL _game_check_time
559   0000              	GLOBAL _game_rotate_attrib
560   0000              	GLOBAL _game_colour_message
561   0000              	GLOBAL _game_paint_attrib_lin_h
562   0000              	GLOBAL _game_paint_attrib_lin
563   0000              	GLOBAL _game_paint_attrib
564   0000              	GLOBAL _game_print_score
565   0000              	GLOBAL _game_unfreeze_all
566   0000              	GLOBAL _game_freeze_all
567   0000              	GLOBAL _game_freeze
568   0000              	GLOBAL _game_enemy_add_get_index
569   0000              	GLOBAL _game_check_cell
570   0000              	GLOBAL _game_check_map
571   0000              	GLOBAL _game_loop
572   0000              	GLOBAL _game_phase_init
573   0000              	GLOBAL _game_start_timer
574   0000              	GLOBAL _game_tick
575   0000              	GLOBAL _game_print_lives
576   0000              	GLOBAL _game_print_footer
577   0000              	GLOBAL _game_fill_row
578   0000              	GLOBAL _game_draw_screen
579   0000              	GLOBAL _enemy_avoid_edge
580   0000              	GLOBAL _enemy_kill
581   0000              	GLOBAL _enemy_init
582   0000              	GLOBAL _enemy_move
583   0000              	GLOBAL _enemy_turn
584   0000              	GLOBAL _enemy_hit
585   0000              	GLOBAL _enemy_coin1
586   0000              	GLOBAL _enemy_walk
587   0000              	GLOBAL _enemy_vertical
588   0000              	GLOBAL _ay_fx_play
589   0000              	GLOBAL _ay_midi_play
590   0000              	GLOBAL _ay_is_playing
591   0000              	GLOBAL _ay_reset
592   0000              	GLOBAL _test_func
593   0000              	GLOBAL _test_proc
594   0000              	GLOBAL _in_mouse_kempston_wheel_delta
595   0000              	GLOBAL _in_mouse_kempston_wheel
596   0000              	GLOBAL _in_mouse_kempston_callee
597   0000              	GLOBAL _in_mouse_kempston
598   0000              	GLOBAL _in_mouse_kempston_setpos_callee
599   0000              	GLOBAL _in_mouse_kempston_setpos
600   0000              	GLOBAL _in_mouse_kempston_reset
601   0000              	GLOBAL _in_mouse_kempston_init
602   0000              	GLOBAL _in_mouse_amx_wheel_delta
603   0000              	GLOBAL _in_mouse_amx_wheel
604   0000              	GLOBAL _in_mouse_amx_callee
605   0000              	GLOBAL _in_mouse_amx
606   0000              	GLOBAL _in_mouse_amx_setpos_callee
607   0000              	GLOBAL _in_mouse_amx_setpos
608   0000              	GLOBAL _in_mouse_amx_reset
609   0000              	GLOBAL _in_mouse_amx_init_callee
610   0000              	GLOBAL _in_mouse_amx_init
611   0000              	GLOBAL _in_stick_sinclair2
612   0000              	GLOBAL _in_stick_sinclair1
613   0000              	GLOBAL _in_stick_kempston
614   0000              	GLOBAL _in_stick_fuller
615   0000              	GLOBAL _in_stick_cursor
616   0000              	GLOBAL _in_stick_keyboard_fastcall
617   0000              	GLOBAL _in_stick_keyboard
618   0000              	GLOBAL _in_wait_nokey
619   0000              	GLOBAL _in_wait_key
620   0000              	GLOBAL _in_test_key
621   0000              	GLOBAL _in_pause_fastcall
622   0000              	GLOBAL _in_pause
623   0000              	GLOBAL _in_key_scancode_fastcall
624   0000              	GLOBAL _in_key_scancode
625   0000              	GLOBAL _in_key_pressed_fastcall
626   0000              	GLOBAL _in_key_pressed
627   0000              	GLOBAL _in_inkey
628   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
629   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
630   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
631   0000              	GLOBAL _NIRVANAP_HOLE
632   0000              	GLOBAL _NIRVANAP_ISR_HOOK
633   0000              	GLOBAL _g_player_hit_right
634   0000              	GLOBAL _g_player_hit_left
635   0000              	GLOBAL _joynames
636   0000              	GLOBAL _initials
637   0000              	GLOBAL _bullet_frames
638   0000              	GLOBAL _bullet_colint
639   0000              	GLOBAL _bullet_dir
640   0000              	GLOBAL _bullet_tile
641   0000              	GLOBAL _bullet_col
642   0000              	GLOBAL _bullet_lin
643   0000              	GLOBAL _anim_end
644   0000              	GLOBAL _anim_int
645   0000              	GLOBAL _anim_tile
646   0000              	GLOBAL _anim_col
647   0000              	GLOBAL _anim_lin
648   0000              	GLOBAL _phase_curr
649   0000              	GLOBAL _map_heigth
650   0000              	GLOBAL _map_width
651   0000              	GLOBAL _scr_curr
652   0000              	GLOBAL _scr_7
653   0000              	GLOBAL _scr_6
654   0000              	GLOBAL _scr_5
655   0000              	GLOBAL _scr_4
656   0000              	GLOBAL _scr_3
657   0000              	GLOBAL _scr_2
658   0000              	GLOBAL _scr_1
659   0000              	GLOBAL _scr_0
660   0000              	GLOBAL _scr_map
661   0000              	GLOBAL _sprite_speed_alt
662   0000              	GLOBAL _sprite_frames
663   0000              	GLOBAL _sprite_speed
664   0000              	GLOBAL _screen_ink
665   0000              	GLOBAL _screen_paper
666   0000              	GLOBAL _player_over_stair
667   0000              	GLOBAL _game_menu_sel
668   0000              	GLOBAL _game_score_top
669   0000              	GLOBAL _player_lives
670   0000              	GLOBAL _game_over
671   0000              	GLOBAL _game_sound
672   0000              	GLOBAL _game_inmune
673   0000              	GLOBAL _game_god_mode
674   0000              	GLOBAL _game_two_player
675   0000              	GLOBAL _game_brick_tile
676   0000              	GLOBAL _sprite_curr_index
677   0000              	GLOBAL _spr_count
678   0000              	GLOBAL _bullet_time
679   0000              	GLOBAL _anim_time
680   0000              	GLOBAL _frame_time
681   0000              	GLOBAL _entry_time
682   0000              	GLOBAL _curr_time
683   0000              	GLOBAL _s_state
684   0000              	GLOBAL _attrib_hl
685   0000              	GLOBAL _attrib
686   0000              	GLOBAL _zx_val_asm
687   0000              	GLOBAL _enemies
688   0000              	GLOBAL _tmp_ui
689   0000              	GLOBAL _tmp_sc
690   0000              	GLOBAL _tmp_uc
691   0000              	GLOBAL _tmp1
692   0000              	GLOBAL _tmp0
693   0000              	GLOBAL _tmp
694   0000              	GLOBAL _index1
695   0000              	GLOBAL _index0
696   0000              	GLOBAL _loop_count
697   0000              	GLOBAL _s_col1
698   0000              	GLOBAL _s_col0
699   0000              	GLOBAL _s_lin1
700   0000              	GLOBAL _s_lin0
701   0000              	GLOBAL _s_tile1
702   0000              	GLOBAL _s_tile0
703   0000              	GLOBAL _player_hit_count
704   0000              	GLOBAL _sprite_horizontal_check
705   0000              	GLOBAL _sprite_on_air
706   0000              	GLOBAL _sprite
707   0000              	GLOBAL _game_gravity
708   0000              	GLOBAL _player_vel_inc
709   0000              	GLOBAL _player_vel_y1
710   0000              	GLOBAL _player_vel_y0
711   0000              	GLOBAL _player_vel_y
712   0000              	GLOBAL _player_vel_x
713   0000              	GLOBAL _player_joy
714   0000              	GLOBAL _player_score
715   0000              	GLOBAL _last_time
716   0000              	GLOBAL _player_slide
717   0000              	GLOBAL _spr_timer
718   0000              	GLOBAL _jump_lin
719   0000              	GLOBAL _player_hit_col
720   0000              	GLOBAL _player_hit_lin
721   0000              	GLOBAL _colint
722   0000              	GLOBAL _col
723   0000              	GLOBAL _lin
724   0000              	GLOBAL _tile
725   0000              	GLOBAL _state_a
726   0000              	GLOBAL _state
727   0000              	GLOBAL _class
728   0000              	GLOBAL _tbuffer
729   0000              	GLOBAL _dirs
730   0000              	GLOBAL _k1
731   0000              	GLOBAL _joyfunc1
732   0000              	GLOBAL _btiles
733   0000              	GLOBAL _spec128
734   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
735   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
736   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
737   0000              	GLOBAL _ay_effect_20
738   0000              	GLOBAL _ay_effect_19
739   0000              	GLOBAL _ay_effect_18
740   0000              	GLOBAL _ay_effect_17
741   0000              	GLOBAL _ay_effect_16
742   0000              	GLOBAL _ay_effect_15
743   0000              	GLOBAL _ay_effect_14
744   0000              	GLOBAL _ay_effect_13
745   0000              	GLOBAL _ay_effect_12
746   0000              	GLOBAL _ay_effect_11
747   0000              	GLOBAL _ay_effect_10
748   0000              	GLOBAL _ay_effect_09
749   0000              	GLOBAL _ay_effect_08
750   0000              	GLOBAL _ay_effect_07
751   0000              	GLOBAL _ay_effect_06
752   0000              	GLOBAL _ay_effect_05
753   0000              	GLOBAL _ay_effect_04
754   0000              	GLOBAL _ay_effect_03
755   0000              	GLOBAL _ay_effect_02
756   0000              	GLOBAL _ay_effect_01
757   0000              	GLOBAL _pb_midi_phase_1
758   0000              	GLOBAL _pb_midi_title
759   0000              	GLOBAL _control_method
760   0000              ;--------------------------------------------------------
761   0000              ; special function registers
762   0000              ;--------------------------------------------------------
763   0000              defc _IO_FE	=	0x00fe
764   0000              defc _IO_1FFD	=	0x1ffd
765   0000              defc _IO_7FFD	=	0x7ffd
766   0000              ;--------------------------------------------------------
767   0000              ; ram data
768   0000              ;--------------------------------------------------------
769   0000              	SECTION bss_compiler
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              
774   0000              IF 0
775   0000              
776   0000              ; .area _INITIALIZED removed by z88dk
777   0000              
778   0000              
779   0000              ENDIF
780   0000              
781   0000              ;--------------------------------------------------------
782   0000              ; absolute external ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION IGNORE
785   0000              ;--------------------------------------------------------
786   0000              ; global & static initialisations
787   0000              ;--------------------------------------------------------
788   0000              	SECTION code_crt_init
789   0000              ;--------------------------------------------------------
790   0000              ; Home
791   0000              ;--------------------------------------------------------
792   0000              	SECTION IGNORE
793   0000              ;--------------------------------------------------------
794   0000              ; code
795   0000              ;--------------------------------------------------------
796   0000              	SECTION code_compiler
797   0000              ;	---------------------------------
798   0000              ; Function player_init
799   0000              ; ---------------------------------
800   0000              _player_init:
801   0000  CD 00 00    	call	___sdcc_enter_ix
802   0003  F5          	push	af
803   0004  3E 00       	ld	a, +((_class) & 0xFF)
804   0006  DD 86 04    	add	a,(ix+4)
805   0009  4F          	ld	c, a
806   000A  3E 00       	ld	a, +((_class) / 256)
807   000C  CE 00       	adc	a,0x00
808   000E  47          	ld	b, a
809   000F  3E 10       	ld	a,0x10
810   0011  02          	ld	(bc), a
811   0012  3E 00       	ld	a, +((_tile) & 0xFF)
812   0014  DD 86 04    	add	a,(ix+4)
813   0017  4F          	ld	c, a
814   0018  3E 00       	ld	a, +((_tile) / 256)
815   001A  CE 00       	adc	a,0x00
816   001C  47          	ld	b, a
817   001D  DD 7E 07    	ld	a,(ix+7)
818   0020  02          	ld	(bc), a
819   0021  3E 00       	ld	a, +((_lin) & 0xFF)
820   0023  DD 86 04    	add	a,(ix+4)
821   0026  4F          	ld	c, a
822   0027  3E 00       	ld	a, +((_lin) / 256)
823   0029  CE 00       	adc	a,0x00
824   002B  47          	ld	b, a
825   002C  DD 7E 05    	ld	a,(ix+5)
826   002F  02          	ld	(bc), a
827   0030  3E 00       	ld	a, +((_col) & 0xFF)
828   0032  DD 86 04    	add	a,(ix+4)
829   0035  4F          	ld	c, a
830   0036  3E 00       	ld	a, +((_col) / 256)
831   0038  CE 00       	adc	a,0x00
832   003A  47          	ld	b, a
833   003B  DD 7E 06    	ld	a,(ix+6)
834   003E  02          	ld	(bc), a
835   003F  3E 00       	ld	a, +((_colint) & 0xFF)
836   0041  DD 86 04    	add	a,(ix+4)
837   0044  4F          	ld	c, a
838   0045  3E 00       	ld	a, +((_colint) / 256)
839   0047  CE 00       	adc	a,0x00
840   0049  47          	ld	b, a
841   004A  AF          	xor	a, a
842   004B  02          	ld	(bc), a
843   004C  3E 00       	ld	a, +((_state) & 0xFF)
844   004E  DD 86 04    	add	a,(ix+4)
845   0051  4F          	ld	c, a
846   0052  3E 00       	ld	a, +((_state) / 256)
847   0054  CE 00       	adc	a,0x00
848   0056  47          	ld	b, a
849   0057  AF          	xor	a, a
850   0058  02          	ld	(bc), a
851   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
852   005B  DD 86 04    	add	a,(ix+4)
853   005E  4F          	ld	c, a
854   005F  3E 00       	ld	a, +((_state_a) / 256)
855   0061  CE 00       	adc	a,0x00
856   0063  47          	ld	b, a
857   0064  AF          	xor	a, a
858   0065  02          	ld	(bc), a
859   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
860   0068  DD 86 04    	add	a,(ix+4)
861   006B  5F          	ld	e, a
862   006C  3E 00       	ld	a, +((_jump_lin) / 256)
863   006E  CE 00       	adc	a,0x00
864   0070  57          	ld	d, a
865   0071  DD 7E 05    	ld	a,(ix+5)
866   0074  12          	ld	(de), a
867   0075  DD 6E 04    	ld	l,(ix+4)
868   0078  26 00       	ld	h,0x00
869   007A  29          	add	hl,hl
870   007B  11 00 00    	ld	de,_last_time
871   007E  19          	add	hl, de
872   007F  E3          	ex	(sp), hl
873   0080  E1          	pop	hl
874   0081  ED 5B 00 00 	ld	de,(_curr_time)
875   0085  E5          	push	hl
876   0086  73          	ld	(hl), e
877   0087  23          	inc	hl
878   0088  72          	ld	(hl), d
879   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
880   008B  DD 86 04    	add	a,(ix+4)
881   008E  5F          	ld	e, a
882   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
883   0091  CE 00       	adc	a,0x00
884   0093  57          	ld	d, a
885   0094  AF          	xor	a, a
886   0095  12          	ld	(de), a
887   0096  0A          	ld	a, (bc)
888   0097  F6 11       	or	a,+(0x01|0x10)
889   0099  02          	ld	(bc),a
890   009A  21 00 00    	ld	hl,_player_hit_col
891   009D  36 00       	ld	(hl),0x00
892   009F  21 00 00    	ld	hl,_player_hit_lin
893   00A2  36 00       	ld	(hl),0x00
894   00A4  21 00 00    	ld	hl,_player_slide
895   00A7  36 00       	ld	(hl),0x00
896   00A9  DD 66 06    	ld	h,(ix+6)
897   00AC  DD 6E 05    	ld	l,(ix+5)
898   00AF  E5          	push	hl
899   00B0  DD 66 07    	ld	h,(ix+7)
900   00B3  DD 6E 04    	ld	l,(ix+4)
901   00B6  E5          	push	hl
902   00B7  CD 00 00    	call	_NIRVANAP_spriteT_callee
903   00BA  F1          	pop	af
904   00BB  DD E1       	pop	ix
905   00BD  C9          	ret
906   00BE              	SECTION code_compiler
907   00BE              ;	---------------------------------
908   00BE              ; Function player_check_input
909   00BE              ; ---------------------------------
910   00BE              _player_check_input:
911   00BE  21 00 00    	ld	hl,_dirs
912   00C1  CB 56       	bit	2, (hl)
913   00C3  28 0C       	jr	Z,l_player_check_input_00102
914   00C5  21 00 00    	ld	hl,_dirs
915   00C8  CB 5E       	bit	3, (hl)
916   00CA  28 05       	jr	Z,l_player_check_input_00102
917   00CC  21 00 00    	ld	hl,_dirs
918   00CF  36 00       	ld	(hl),0x00
919   00D1              l_player_check_input_00102:
920   00D1  21 00 00    	ld	hl,_dirs
921   00D4  7E          	ld	a, (hl)
922   00D5  CB 07       	rlc	a
923   00D7  E6 01       	and	a,0x01
924   00D9  CB 47       	bit	0, a
925   00DB  20 1D       	jr	NZ,l_player_check_input_00107
926   00DD  CB 56       	bit	2, (hl)
927   00DF  20 19       	jr	NZ,l_player_check_input_00107
928   00E1  21 00 00    	ld	hl,_dirs
929   00E4  CB 5E       	bit	3, (hl)
930   00E6  20 12       	jr	NZ,l_player_check_input_00107
931   00E8  21 00 00    	ld	hl,_dirs
932   00EB  CB 46       	bit	0, (hl)
933   00ED  20 0B       	jr	NZ,l_player_check_input_00107
934   00EF  21 00 00    	ld	hl,_dirs
935   00F2  CB 4E       	bit	1, (hl)
936   00F4  20 04       	jr	NZ,l_player_check_input_00107
937   00F6  2E 00       	ld	l,0x00
938   00F8  18 02       	jr	l_player_check_input_00108
939   00FA              l_player_check_input_00107:
940   00FA  2E 01       	ld	l,0x01
941   00FC              l_player_check_input_00108:
942   00FC  C9          	ret
943   00FD              	SECTION code_compiler
944   00FD              ;	---------------------------------
945   00FD              ; Function player_collision
946   00FD              ; ---------------------------------
947   00FD              _player_collision:
948   00FD  2E 00       	ld	l,0x00
949   00FF  C9          	ret
950   0100              	SECTION code_compiler
951   0100              ;	---------------------------------
952   0100              ; Function player_kill
953   0100              ; ---------------------------------
954   0100              _player_kill:
955   0100  01 00 00    	ld	bc,_state+0
956   0103  2A 00 00    	ld	hl,(_sprite)
957   0106  26 00       	ld	h,0x00
958   0108  09          	add	hl,bc
959   0109  CB 6E       	bit	5,(hl)
960   010B  C2 D2 01    	jp	NZ,l_player_kill_00109
961   010E  C5          	push	bc
962   010F  CD 00 00    	call	_sound_hit_brick
963   0112  C1          	pop	bc
964   0113  79          	ld	a, c
965   0114  21 00 00    	ld	hl,_sprite
966   0117  86          	add	a, (hl)
967   0118  5F          	ld	e, a
968   0119  78          	ld	a, b
969   011A  CE 00       	adc	a,0x00
970   011C  57          	ld	d, a
971   011D  1A          	ld	a, (de)
972   011E  F6 20       	or	a,0x20
973   0120  12          	ld	(de), a
974   0121  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
975   0123  86          	add	a, (hl)
976   0124  5F          	ld	e, a
977   0125  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
978   0127  CE 00       	adc	a,0x00
979   0129  57          	ld	d, a
980   012A  3E 03       	ld	a,0x03
981   012C  12          	ld	(de), a
982   012D  79          	ld	a, c
983   012E  86          	add	a, (hl)
984   012F  4F          	ld	c, a
985   0130  78          	ld	a, b
986   0131  CE 00       	adc	a,0x00
987   0133  47          	ld	b, a
988   0134  0A          	ld	a, (bc)
989   0135  CB 57       	bit	2, a
990   0137  28 0D       	jr	Z,l_player_kill_00102
991   0139  2A 00 00    	ld	hl,(_sprite)
992   013C  26 00       	ld	h,0x00
993   013E  01 00 00    	ld	bc,_tile
994   0141  09          	add	hl,bc
995   0142  36 40       	ld	(hl),0x40
996   0144  18 0B       	jr	l_player_kill_00103
997   0146              l_player_kill_00102:
998   0146  2A 00 00    	ld	hl,(_sprite)
999   0149  26 00       	ld	h,0x00
1000  014B  01 00 00    	ld	bc,_tile
1001  014E  09          	add	hl,bc
1002  014F  36 48       	ld	(hl),0x48
1003  0151              l_player_kill_00103:
1004  0151  CD 5F 08    	call	_player_hit_platform_clear
1005  0154  2A 00 00    	ld	hl,(_sprite)
1006  0157  26 00       	ld	h,0x00
1007  0159  01 00 00    	ld	bc,_col
1008  015C  09          	add	hl,bc
1009  015D  4E          	ld	c, (hl)
1010  015E  2A 00 00    	ld	hl,(_sprite)
1011  0161  26 00       	ld	h,0x00
1012  0163  11 00 00    	ld	de,_lin
1013  0166  19          	add	hl,de
1014  0167  46          	ld	b, (hl)
1015  0168  2A 00 00    	ld	hl,(_sprite)
1016  016B  26 00       	ld	h,0x00
1017  016D  11 00 00    	ld	de,_tile
1018  0170  19          	add	hl,de
1019  0171  56          	ld	d, (hl)
1020  0172  79          	ld	a,c
1021  0173  21 00 00    	ld	hl,_sprite
1022  0176  F5          	push	af
1023  0177  33          	inc	sp
1024  0178  4A          	ld	c, d
1025  0179  7E          	ld	a,(hl)
1026  017A  C5          	push	bc
1027  017B  F5          	push	af
1028  017C  33          	inc	sp
1029  017D  CD 00 00    	call	_NIRVANAP_spriteT_callee
1030  0180  01 00 00    	ld	bc,_spr_timer+0
1031  0183  2A 00 00    	ld	hl,(_sprite)
1032  0186  26 00       	ld	h,0x00
1033  0188  29          	add	hl, hl
1034  0189  09          	add	hl,bc
1035  018A  ED 5B 00 00 	ld	de,(_curr_time)
1036  018E  73          	ld	(hl),e
1037  018F  23          	inc	hl
1038  0190  72          	ld	(hl),d
1039  0191  3A 00 00    	ld	a,(_sprite)
1040  0194  D6 07       	sub	a,0x07
1041  0196  20 1E       	jr	NZ,l_player_kill_00105
1042  0198  01 00 00    	ld	bc,_state_a+0
1043  019B  79          	ld	a, c
1044  019C  21 00 00    	ld	hl,_sprite
1045  019F  86          	add	a, (hl)
1046  01A0  5F          	ld	e, a
1047  01A1  78          	ld	a, b
1048  01A2  CE 00       	adc	a,0x00
1049  01A4  57          	ld	d, a
1050  01A5  1A          	ld	a, (de)
1051  01A6  F6 08       	or	a,0x08
1052  01A8  12          	ld	(de), a
1053  01A9  79          	ld	a, c
1054  01AA  86          	add	a, (hl)
1055  01AB  4F          	ld	c, a
1056  01AC  78          	ld	a, b
1057  01AD  CE 00       	adc	a,0x00
1058  01AF  47          	ld	b, a
1059  01B0  0A          	ld	a, (bc)
1060  01B1  E6 EF       	and	a,0xef
1061  01B3  02          	ld	(bc), a
1062  01B4  18 1C       	jr	l_player_kill_00109
1063  01B6              l_player_kill_00105:
1064  01B6  01 00 00    	ld	bc,_state_a+0
1065  01B9  79          	ld	a, c
1066  01BA  21 00 00    	ld	hl,_sprite
1067  01BD  86          	add	a, (hl)
1068  01BE  5F          	ld	e, a
1069  01BF  78          	ld	a, b
1070  01C0  CE 00       	adc	a,0x00
1071  01C2  57          	ld	d, a
1072  01C3  1A          	ld	a, (de)
1073  01C4  F6 10       	or	a,0x10
1074  01C6  12          	ld	(de), a
1075  01C7  79          	ld	a, c
1076  01C8  86          	add	a, (hl)
1077  01C9  4F          	ld	c, a
1078  01CA  78          	ld	a, b
1079  01CB  CE 00       	adc	a,0x00
1080  01CD  47          	ld	b, a
1081  01CE  0A          	ld	a, (bc)
1082  01CF  E6 F7       	and	a,0xf7
1083  01D1  02          	ld	(bc), a
1084  01D2              l_player_kill_00109:
1085  01D2  C9          	ret
1086  01D3              	SECTION code_compiler
1087  01D3              ;	---------------------------------
1088  01D3              ; Function player_restart
1089  01D3              ; ---------------------------------
1090  01D3              _player_restart:
1091  01D3  CD 00 00    	call	___sdcc_enter_ix
1092  01D6  F5          	push	af
1093  01D7  4D          	ld	c, l
1094  01D8  21 00 00    	ld	hl,_ay_effect_15
1095  01DB  CD 00 00    	call	_ay_fx_play
1096  01DE  C5          	push	bc
1097  01DF  21 0E 64    	ld	hl,0x640e
1098  01E2  E5          	push	hl
1099  01E3  21 07 00    	ld	hl,0x0007
1100  01E6  E5          	push	hl
1101  01E7  CD 00 00    	call	_player_init
1102  01EA  F1          	pop	af
1103  01EB  F1          	pop	af
1104  01EC  C1          	pop	bc
1105  01ED  11 00 00    	ld	de,_state+0
1106  01F0  69          	ld	l,c
1107  01F1  26 00       	ld	h,0x00
1108  01F3  19          	add	hl, de
1109  01F4  CB E6       	set	4, (hl)
1110  01F6  11 00 00    	ld	de,_state_a+0
1111  01F9  69          	ld	l,c
1112  01FA  26 00       	ld	h,0x00
1113  01FC  19          	add	hl, de
1114  01FD  CB C6       	set	0, (hl)
1115  01FF  11 00 00    	ld	de,_spr_timer+0
1116  0202  69          	ld	l, c
1117  0203  26 00       	ld	h,0x00
1118  0205  29          	add	hl, hl
1119  0206  19          	add	hl,de
1120  0207  E3          	ex	(sp), hl
1121  0208  E1          	pop	hl
1122  0209  ED 5B 00 00 	ld	de,(_curr_time)
1123  020D  E5          	push	hl
1124  020E  73          	ld	(hl), e
1125  020F  23          	inc	hl
1126  0210  72          	ld	(hl), d
1127  0211  11 00 00    	ld	de,_sprite_speed_alt+0
1128  0214  69          	ld	l,c
1129  0215  26 00       	ld	h,0x00
1130  0217  19          	add	hl, de
1131  0218  F1          	pop	af
1132  0219  36 08       	ld	(hl),0x08
1133  021B  DD E1       	pop	ix
1134  021D  C9          	ret
1135  021E              	SECTION code_compiler
1136  021E              ;	---------------------------------
1137  021E              ; Function player_lost_life
1138  021E              ; ---------------------------------
1139  021E              _player_lost_life:
1140  021E  CD 00 00    	call	_sound_hit_enemy
1141  0221  21 00 00    	ld	hl,_player_lives
1142  0224  35          	dec (hl)
1143  0225  20 09       	jr	NZ,l_player_lost_life_00102
1144  0227  21 00 00    	ld	hl,_game_over
1145  022A  36 01       	ld	(hl),0x01
1146  022C  2E 00       	ld	l,0x00
1147  022E  18 05       	jr	l_player_lost_life_00103
1148  0230              l_player_lost_life_00102:
1149  0230  CD 00 00    	call	_game_print_lives
1150  0233  2E 01       	ld	l,0x01
1151  0235              l_player_lost_life_00103:
1152  0235  C9          	ret
1153  0236              	SECTION code_compiler
1154  0236              ;	---------------------------------
1155  0236              ; Function player_turn
1156  0236              ; ---------------------------------
1157  0236              _player_turn:
1158  0236  2A 00 00    	ld	hl,(_sprite)
1159  0239  26 00       	ld	h,0x00
1160  023B  01 00 00    	ld	bc,_class
1161  023E  09          	add	hl,bc
1162  023F  7E          	ld	a,(hl)
1163  0240  D6 10       	sub	a,0x10
1164  0242  C0          	ret	NZ
1165  0243  3A 00 00    	ld	a,(_player_lives)
1166  0246  B7          	or	a, a
1167  0247  C8          	ret	Z
1168  0248  21 00 00    	ld	hl,_sprite
1169  024B  CD 00 00    	call	_spr_chktime
1170  024E  7D          	ld	a, l
1171  024F  B7          	or	a, a
1172  0250  C8          	ret	Z
1173  0251  21 00 00    	ld	hl,_dirs
1174  0254  36 00       	ld	(hl),0x00
1175  0256  21 00 00    	ld	hl,_k1
1176  0259  E5          	push	hl
1177  025A  2A 00 00    	ld	hl,(_joyfunc1)
1178  025D  CD 00 00    	call	___sdcc_call_hl
1179  0260  F1          	pop	af
1180  0261  7D          	ld	a,l
1181  0262  32 00 00    	ld	(_dirs),a
1182  0265  CD 6B 02    	call	_player_move
1183  0268  C3 FD 00    	jp  _player_collision
1184  026B              	SECTION code_compiler
1185  026B              ;	---------------------------------
1186  026B              ; Function player_move
1187  026B              ; ---------------------------------
1188  026B              _player_move:
1189  026B  2A 00 00    	ld	hl,(_sprite)
1190  026E  26 00       	ld	h,0x00
1191  0270  01 00 00    	ld	bc,_lin
1192  0273  09          	add	hl,bc
1193  0274  7E          	ld	a,(hl)
1194  0275  32 00 00    	ld	(_s_lin0),a
1195  0278  2A 00 00    	ld	hl,(_sprite)
1196  027B  26 00       	ld	h,0x00
1197  027D  01 00 00    	ld	bc,_col
1198  0280  09          	add	hl,bc
1199  0281  7E          	ld	a,(hl)
1200  0282  32 00 00    	ld	(_s_col0),a
1201  0285  2A 00 00    	ld	hl,(_sprite)
1202  0288  26 00       	ld	h,0x00
1203  028A  01 00 00    	ld	bc,_tile
1204  028D  09          	add	hl,bc
1205  028E  4E          	ld	c, (hl)
1206  028F  3A 00 00    	ld	a,(_sprite)
1207  0292  5F          	ld	e,a
1208  0293  16 00       	ld	d,0x00
1209  0295  21 00 00    	ld	hl,_colint
1210  0298  19          	add	hl,de
1211  0299  7E          	ld	a,(hl)
1212  029A  81          	add	a,c
1213  029B  32 00 00    	ld	(_s_tile0),a
1214  029E  2A 00 00    	ld	hl,(_sprite)
1215  02A1  26 00       	ld	h,0x00
1216  02A3  01 00 00    	ld	bc,_state
1217  02A6  09          	add	hl,bc
1218  02A7  7E          	ld	a,(hl)
1219  02A8  CB 47       	bit	0,a
1220  02AA  32 00 00    	ld	(_s_state),a
1221  02AD  20 07       	jr	NZ,l_player_move_00113
1222  02AF  21 00 00    	ld	hl,_s_state
1223  02B2  CB 4E       	bit	1, (hl)
1224  02B4  28 4B       	jr	Z,l_player_move_00114
1225  02B6              l_player_move_00113:
1226  02B6  CD 0F 06    	call	_player_fire
1227  02B9  3A 00 00    	ld	a,(_player_vel_y)
1228  02BC  21 00 00    	ld	hl,_player_vel_y1
1229  02BF  96          	sub	a, (hl)
1230  02C0  3A 01 00    	ld	a,(_player_vel_y + 1)
1231  02C3  23          	inc	hl
1232  02C4  9E          	sbc	a, (hl)
1233  02C5  E2 CA 02    	jp	PO, l_player_move_00162
1234  02C8  EE 80       	xor	a,0x80
1235  02CA              l_player_move_00162:
1236  02CA  F2 ED 02    	jp	P, l_player_move_00106
1237  02CD  21 00 00    	ld	hl,_dirs
1238  02D0  CB 56       	bit	2, (hl)
1239  02D2  28 09       	jr	Z,l_player_move_00102
1240  02D4  21 00 00    	ld	hl,_s_state
1241  02D7  7E          	ld	a,(hl)
1242  02D8  F6 08       	or	a,0x08
1243  02DA  E6 FB       	and	a,0xfb
1244  02DC  77          	ld	(hl),a
1245  02DD              l_player_move_00102:
1246  02DD  21 00 00    	ld	hl,_dirs
1247  02E0  CB 4E       	bit	1, (hl)
1248  02E2  28 09       	jr	Z,l_player_move_00106
1249  02E4  21 00 00    	ld	hl,_s_state
1250  02E7  7E          	ld	a,(hl)
1251  02E8  F6 04       	or	a,0x04
1252  02EA  E6 F7       	and	a,0xf7
1253  02EC  77          	ld	(hl),a
1254  02ED              l_player_move_00106:
1255  02ED  CD 1F 09    	call	_player_move_jump
1256  02F0  7D          	ld	a, l
1257  02F1  B7          	or	a, a
1258  02F2  28 2E       	jr	Z,l_player_move_00115
1259  02F4  3A 00 00    	ld	a,(_player_over_stair)
1260  02F7  B7          	or	a, a
1261  02F8  20 28       	jr	NZ,l_player_move_00115
1262  02FA  2E 54       	ld	l,0x54
1263  02FC  CD 48 04    	call	_player_tile
1264  02FF  18 21       	jr	l_player_move_00115
1265  0301              l_player_move_00114:
1266  0301  CD 9E 04    	call	_player_move_input
1267  0304  7D          	ld	a, l
1268  0305  B7          	or	a, a
1269  0306  20 17       	jr	NZ,l_player_move_00112
1270  0308  2A 00 00    	ld	hl,(_sprite)
1271  030B  26 00       	ld	h,0x00
1272  030D  01 00 00    	ld	bc,_colint
1273  0310  09          	add	hl,bc
1274  0311  AF          	xor	a,a
1275  0312  77          	ld	(hl),a
1276  0313  2E 64       	ld	l,0x64
1277  0315  CD 48 04    	call	_player_tile
1278  0318  21 00 00    	ld	hl,_s_state
1279  031B  7E          	ld	a,(hl)
1280  031C  E6 F3       	and	a,+(0xf7&0xfb)
1281  031E  77          	ld	(hl),a
1282  031F              l_player_move_00112:
1283  031F  CD A3 08    	call	_player_check_floor
1284  0322              l_player_move_00115:
1285  0322  CD 00 00    	call	_spr_redraw
1286  0325  7D          	ld	a, l
1287  0326  B7          	or	a, a
1288  0327  28 03       	jr	Z,l_player_move_00118
1289  0329  CD 7B 06    	call	_player_check_map
1290  032C              l_player_move_00118:
1291  032C  2A 00 00    	ld	hl,(_sprite)
1292  032F  26 00       	ld	h,0x00
1293  0331  29          	add	hl, hl
1294  0332  11 00 00    	ld	de,_spr_timer
1295  0335  19          	add	hl, de
1296  0336  4E          	ld	c, (hl)
1297  0337  23          	inc	hl
1298  0338  46          	ld	b, (hl)
1299  0339  21 04 00    	ld	hl,0x0004
1300  033C  E5          	push	hl
1301  033D  C5          	push	bc
1302  033E  CD 00 00    	call	_game_check_time
1303  0341  F1          	pop	af
1304  0342  F1          	pop	af
1305  0343  7D          	ld	a, l
1306  0344  B7          	or	a, a
1307  0345  28 03       	jr	Z,l_player_move_00120
1308  0347  CD 5F 08    	call	_player_hit_platform_clear
1309  034A              l_player_move_00120:
1310  034A  2A 00 00    	ld	hl,(_sprite)
1311  034D  26 00       	ld	h,0x00
1312  034F  01 00 00    	ld	bc,_state
1313  0352  09          	add	hl,bc
1314  0353  3A 00 00    	ld	a,(_s_state)
1315  0356  77          	ld	(hl),a
1316  0357  2E 00       	ld	l,0x00
1317  0359  C9          	ret
1318  035A              	SECTION code_compiler
1319  035A              ;	---------------------------------
1320  035A              ; Function player_check_stairs_down
1321  035A              ; ---------------------------------
1322  035A              _player_check_stairs_down:
1323  035A  CD 00 00    	call	___sdcc_enter_ix
1324  035D  3B          	dec	sp
1325  035E  2A 00 00    	ld	hl,(_sprite)
1326  0361  26 00       	ld	h,0x00
1327  0363  5D          	ld	e,l
1328  0364  01 00 00    	ld	bc,_col
1329  0367  09          	add	hl,bc
1330  0368  46          	ld	b,(hl)
1331  0369  16 00       	ld	d,0x00
1332  036B  21 00 00    	ld	hl,_lin
1333  036E  19          	add	hl,de
1334  036F  7E          	ld	a,(hl)
1335  0370  C6 10       	add	a,0x10
1336  0372  4F          	ld	c,a
1337  0373  C5          	push	bc
1338  0374  CD 00 00    	call	_spr_calc_index
1339  0377  F1          	pop	af
1340  0378  7D          	ld	a,l
1341  0379  32 00 00    	ld	(_sprite_curr_index),a
1342  037C  4F          	ld	c,a
1343  037D  06 00       	ld	b,0x00
1344  037F  21 00 00    	ld	hl,_scr_map
1345  0382  09          	add	hl,bc
1346  0383  7E          	ld	a,(hl)
1347  0384  4F          	ld	c,a
1348  0385  D6 38       	sub	a,0x38
1349  0387  38 05       	jr	C,l_player_check_stairs_down_00105
1350  0389  3E 3C       	ld	a,0x3c
1351  038B  91          	sub	a, c
1352  038C  30 04       	jr	NC,l_player_check_stairs_down_00106
1353  038E              l_player_check_stairs_down_00105:
1354  038E  3E 00       	ld	a,0x00
1355  0390  18 02       	jr	l_player_check_stairs_down_00107
1356  0392              l_player_check_stairs_down_00106:
1357  0392  3E 01       	ld	a,0x01
1358  0394              l_player_check_stairs_down_00107:
1359  0394  B7          	or	a, a
1360  0395  28 05       	jr	Z,l_player_check_stairs_down_00103
1361  0397  21 00 00    	ld	hl,_player_over_stair
1362  039A  36 01       	ld	(hl),0x01
1363  039C              l_player_check_stairs_down_00103:
1364  039C  33          	inc	sp
1365  039D  DD E1       	pop	ix
1366  039F  C9          	ret
1367  03A0              	SECTION code_compiler
1368  03A0              ;	---------------------------------
1369  03A0              ; Function player_check_stairs
1370  03A0              ; ---------------------------------
1371  03A0              _player_check_stairs:
1372  03A0  CD 00 00    	call	___sdcc_enter_ix
1373  03A3  3B          	dec	sp
1374  03A4  5D          	ld	e, l
1375  03A5  2A 00 00    	ld	hl,(_sprite)
1376  03A8  26 00       	ld	h,0x00
1377  03AA  01 00 00    	ld	bc,_col
1378  03AD  09          	add	hl,bc
1379  03AE  7E          	ld	a,(hl)
1380  03AF  83          	add	a,e
1381  03B0  57          	ld	d,a
1382  03B1  2A 00 00    	ld	hl,(_sprite)
1383  03B4  26 00       	ld	h,0x00
1384  03B6  01 00 00    	ld	bc,_lin
1385  03B9  09          	add	hl,bc
1386  03BA  46          	ld	b, (hl)
1387  03BB  D5          	push	de
1388  03BC  58          	ld	e,b
1389  03BD  D5          	push	de
1390  03BE  CD 00 00    	call	_spr_calc_index
1391  03C1  F1          	pop	af
1392  03C2  D1          	pop	de
1393  03C3  7D          	ld	a,l
1394  03C4  32 00 00    	ld	(_sprite_curr_index),a
1395  03C7  4F          	ld	c,a
1396  03C8  06 00       	ld	b,0x00
1397  03CA  21 00 00    	ld	hl,_scr_map
1398  03CD  09          	add	hl,bc
1399  03CE  7E          	ld	a,(hl)
1400  03CF  4F          	ld	c,a
1401  03D0  D6 38       	sub	a,0x38
1402  03D2  38 05       	jr	C,l_player_check_stairs_00111
1403  03D4  3E 3C       	ld	a,0x3c
1404  03D6  91          	sub	a, c
1405  03D7  30 04       	jr	NC,l_player_check_stairs_00112
1406  03D9              l_player_check_stairs_00111:
1407  03D9  0E 00       	ld	c,0x00
1408  03DB  18 02       	jr	l_player_check_stairs_00113
1409  03DD              l_player_check_stairs_00112:
1410  03DD  0E 01       	ld	c,0x01
1411  03DF              l_player_check_stairs_00113:
1412  03DF  3E 00       	ld	a, +((_col) & 0xFF)
1413  03E1  21 00 00    	ld	hl,_sprite
1414  03E4  86          	add	a, (hl)
1415  03E5  6F          	ld	l, a
1416  03E6  3E 00       	ld	a, +((_col) / 256)
1417  03E8  CE 00       	adc	a,0x00
1418  03EA  67          	ld	h, a
1419  03EB  7E          	ld	a, (hl)
1420  03EC  83          	add	a, e
1421  03ED  47          	ld	b, a
1422  03EE  2A 00 00    	ld	hl,(_sprite)
1423  03F1  26 00       	ld	h,0x00
1424  03F3  11 00 00    	ld	de,_lin
1425  03F6  19          	add	hl,de
1426  03F7  7E          	ld	a,(hl)
1427  03F8  C6 0F       	add	a,0x0f
1428  03FA  57          	ld	d, a
1429  03FB  C5          	push	bc
1430  03FC  4A          	ld	c, d
1431  03FD  C5          	push	bc
1432  03FE  CD 00 00    	call	_spr_calc_index
1433  0401  F1          	pop	af
1434  0402  C1          	pop	bc
1435  0403  7D          	ld	a,l
1436  0404  32 00 00    	ld	(_sprite_curr_index),a
1437  0407  5F          	ld	e,a
1438  0408  16 00       	ld	d,0x00
1439  040A  21 00 00    	ld	hl,_scr_map
1440  040D  19          	add	hl,de
1441  040E  7E          	ld	a,(hl)
1442  040F  47          	ld	b,a
1443  0410  D6 38       	sub	a,0x38
1444  0412  38 05       	jr	C,l_player_check_stairs_00114
1445  0414  3E 3C       	ld	a,0x3c
1446  0416  90          	sub	a, b
1447  0417  30 04       	jr	NC,l_player_check_stairs_00115
1448  0419              l_player_check_stairs_00114:
1449  0419  06 00       	ld	b,0x00
1450  041B  18 02       	jr	l_player_check_stairs_00116
1451  041D              l_player_check_stairs_00115:
1452  041D  06 01       	ld	b,0x01
1453  041F              l_player_check_stairs_00116:
1454  041F  79          	ld	a, c
1455  0420  B7          	or	a,a
1456  0421  20 03       	jr	NZ,l_player_check_stairs_00105
1457  0423  B0          	or	a,b
1458  0424  28 10       	jr	Z,l_player_check_stairs_00106
1459  0426              l_player_check_stairs_00105:
1460  0426  21 00 00    	ld	hl,_player_over_stair
1461  0429  7E          	ld	a, (hl)
1462  042A  B7          	or	a, a
1463  042B  20 17       	jr	NZ,l_player_check_stairs_00109
1464  042D  36 01       	ld	(hl),0x01
1465  042F  2E 66       	ld	l,0x66
1466  0431  CD 48 04    	call	_player_tile
1467  0434  18 0E       	jr	l_player_check_stairs_00109
1468  0436              l_player_check_stairs_00106:
1469  0436  21 00 00    	ld	hl,_player_over_stair
1470  0439  7E          	ld	a, (hl)
1471  043A  B7          	or	a, a
1472  043B  28 07       	jr	Z,l_player_check_stairs_00109
1473  043D  36 00       	ld	(hl),0x00
1474  043F  2E 54       	ld	l,0x54
1475  0441  CD 48 04    	call	_player_tile
1476  0444              l_player_check_stairs_00109:
1477  0444  33          	inc	sp
1478  0445  DD E1       	pop	ix
1479  0447  C9          	ret
1480  0448              	SECTION code_compiler
1481  0448              ;	---------------------------------
1482  0448              ; Function player_tile
1483  0448              ; ---------------------------------
1484  0448              _player_tile:
1485  0448  45          	ld	b, l
1486  0449  3A 00 00    	ld	a,(_player_over_stair)
1487  044C  B7          	or	a, a
1488  044D  28 0D       	jr	Z,l_player_tile_00105
1489  044F  2A 00 00    	ld	hl,(_sprite)
1490  0452  26 00       	ld	h,0x00
1491  0454  01 00 00    	ld	bc,_tile
1492  0457  09          	add	hl,bc
1493  0458  36 66       	ld	(hl),0x66
1494  045A  18 41       	jr	l_player_tile_00107
1495  045C              l_player_tile_00105:
1496  045C  78          	ld	a, b
1497  045D  D6 64       	sub	a,0x64
1498  045F  20 1F       	jr	NZ,l_player_tile_00102
1499  0461  2A 00 00    	ld	hl,(_sprite)
1500  0464  26 00       	ld	h,0x00
1501  0466  11 00 00    	ld	de,_tile
1502  0469  19          	add	hl,de
1503  046A  E5          	push	hl
1504  046B  3E 01       	ld	a,0x01
1505  046D  21 00 00    	ld	hl,_sprite
1506  0470  F5          	push	af
1507  0471  33          	inc	sp
1508  0472  7E          	ld	a, (hl)
1509  0473  48          	ld	c,b
1510  0474  47          	ld	b,a
1511  0475  C5          	push	bc
1512  0476  CD 00 00    	call	_spr_tile_dir
1513  0479  F1          	pop	af
1514  047A  33          	inc	sp
1515  047B  D1          	pop	de
1516  047C  7D          	ld	a,l
1517  047D  12          	ld	(de), a
1518  047E  18 1D       	jr	l_player_tile_00107
1519  0480              l_player_tile_00102:
1520  0480  2A 00 00    	ld	hl,(_sprite)
1521  0483  26 00       	ld	h,0x00
1522  0485  11 00 00    	ld	de,_tile
1523  0488  19          	add	hl,de
1524  0489  E5          	push	hl
1525  048A  3E 08       	ld	a,0x08
1526  048C  21 00 00    	ld	hl,_sprite
1527  048F  F5          	push	af
1528  0490  33          	inc	sp
1529  0491  7E          	ld	a, (hl)
1530  0492  48          	ld	c,b
1531  0493  47          	ld	b,a
1532  0494  C5          	push	bc
1533  0495  CD 00 00    	call	_spr_tile_dir
1534  0498  F1          	pop	af
1535  0499  33          	inc	sp
1536  049A  D1          	pop	de
1537  049B  7D          	ld	a,l
1538  049C  12          	ld	(de), a
1539  049D              l_player_tile_00107:
1540  049D  C9          	ret
1541  049E              	SECTION code_compiler
1542  049E              ;	---------------------------------
1543  049E              ; Function player_move_input
1544  049E              ; ---------------------------------
1545  049E              _player_move_input:
1546  049E  CD BE 00    	call	_player_check_input
1547  04A1  7D          	ld	a, l
1548  04A2  B7          	or	a, a
1549  04A3  CA 0C 06    	jp	Z, l_player_move_input_00136
1550  04A6  CD 0F 06    	call	_player_fire
1551  04A9  7D          	ld	a, l
1552  04AA  B7          	or	a, a
1553  04AB  28 05       	jr	Z,l_player_move_input_00102
1554  04AD  2E 00       	ld	l,0x00
1555  04AF  C3 0E 06    	jp	l_player_move_input_00137
1556  04B2              l_player_move_input_00102:
1557  04B2  21 00 00    	ld	hl,_dirs
1558  04B5  CB 7E       	bit	7, (hl)
1559  04B7  28 67       	jr	Z,l_player_move_input_00106
1560  04B9  21 00 00    	ld	hl,_player_vel_inc
1561  04BC  36 01       	ld	(hl),0x01
1562  04BE  CD 00 00    	call	_ay_is_playing
1563  04C1  7D          	ld	a, l
1564  04C2  D6 03       	sub	a,0x03
1565  04C4  28 06       	jr	Z,l_player_move_input_00104
1566  04C6  21 00 00    	ld	hl,_ay_effect_03
1567  04C9  CD 00 00    	call	_ay_fx_play
1568  04CC              l_player_move_input_00104:
1569  04CC  21 00 00    	ld	hl,_player_over_stair
1570  04CF  36 00       	ld	(hl),0x00
1571  04D1  CD 00 00    	call	_sound_jump
1572  04D4  21 00 00    	ld	hl,_s_state
1573  04D7  7E          	ld	a,(hl)
1574  04D8  F6 01       	or	a,0x01
1575  04DA  E6 FD       	and	a,0xfd
1576  04DC  77          	ld	(hl),a
1577  04DD  2A 00 00    	ld	hl,(_sprite)
1578  04E0  26 00       	ld	h,0x00
1579  04E2  01 00 00    	ld	bc,_jump_lin
1580  04E5  09          	add	hl,bc
1581  04E6  4D          	ld	c,l
1582  04E7  44          	ld	b,h
1583  04E8  2A 00 00    	ld	hl,(_sprite)
1584  04EB  26 00       	ld	h,0x00
1585  04ED  11 00 00    	ld	de,_lin
1586  04F0  19          	add	hl,de
1587  04F1  7E          	ld	a,(hl)
1588  04F2  02          	ld	(bc),a
1589  04F3  2A 00 00    	ld	hl,(_sprite)
1590  04F6  26 00       	ld	h,0x00
1591  04F8  01 00 00    	ld	bc,_state
1592  04FB  09          	add	hl,bc
1593  04FC  3A 00 00    	ld	a,(_s_state)
1594  04FF  77          	ld	(hl),a
1595  0500  2E 58       	ld	l,0x58
1596  0502  CD 48 04    	call	_player_tile
1597  0505  2A 00 00    	ld	hl,(_sprite)
1598  0508  26 00       	ld	h,0x00
1599  050A  01 00 00    	ld	bc,_sprite_speed_alt
1600  050D  09          	add	hl,bc
1601  050E  36 02       	ld	(hl),0x02
1602  0510  21 00 00    	ld	hl,_player_slide
1603  0513  36 00       	ld	(hl),0x00
1604  0515  2A 00 00    	ld	hl,(_player_vel_y0)
1605  0518  22 00 00    	ld	(_player_vel_y),hl
1606  051B  2E 01       	ld	l,0x01
1607  051D  C3 0E 06    	jp	l_player_move_input_00137
1608  0520              l_player_move_input_00106:
1609  0520  21 00 00    	ld	hl,_dirs
1610  0523  CB 5E       	bit	3, (hl)
1611  0525  28 33       	jr	Z,l_player_move_input_00110
1612  0527  21 00 00    	ld	hl,_s_state
1613  052A  7E          	ld	a,(hl)
1614  052B  F6 04       	or	a,0x04
1615  052D  E6 F7       	and	a,0xf7
1616  052F  77          	ld	(hl),a
1617  0530  01 00 00    	ld	bc,_state_a+0
1618  0533  79          	ld	a, c
1619  0534  21 00 00    	ld	hl,_sprite
1620  0537  86          	add	a, (hl)
1621  0538  5F          	ld	e, a
1622  0539  78          	ld	a, b
1623  053A  CE 00       	adc	a,0x00
1624  053C  57          	ld	d, a
1625  053D  1A          	ld	a, (de)
1626  053E  F6 10       	or	a,0x10
1627  0540  12          	ld	(de), a
1628  0541  79          	ld	a, c
1629  0542  86          	add	a, (hl)
1630  0543  4F          	ld	c, a
1631  0544  78          	ld	a, b
1632  0545  CE 00       	adc	a,0x00
1633  0547  47          	ld	b, a
1634  0548  0A          	ld	a, (bc)
1635  0549  E6 F7       	and	a,0xf7
1636  054B  02          	ld	(bc), a
1637  054C  3A 00 00    	ld	a,(_player_over_stair)
1638  054F  B7          	or	a, a
1639  0550  28 05       	jr	Z,l_player_move_input_00108
1640  0552  2E 00       	ld	l,0x00
1641  0554  CD A0 03    	call	_player_check_stairs
1642  0557              l_player_move_input_00108:
1643  0557  CD 00 00    	call	_spr_move_horizontal
1644  055A              l_player_move_input_00110:
1645  055A  21 00 00    	ld	hl,_dirs
1646  055D  CB 56       	bit	2, (hl)
1647  055F  28 33       	jr	Z,l_player_move_input_00114
1648  0561  21 00 00    	ld	hl,_s_state
1649  0564  7E          	ld	a,(hl)
1650  0565  F6 08       	or	a,0x08
1651  0567  E6 FB       	and	a,0xfb
1652  0569  77          	ld	(hl),a
1653  056A  01 00 00    	ld	bc,_state_a+0
1654  056D  79          	ld	a, c
1655  056E  21 00 00    	ld	hl,_sprite
1656  0571  86          	add	a, (hl)
1657  0572  5F          	ld	e, a
1658  0573  78          	ld	a, b
1659  0574  CE 00       	adc	a,0x00
1660  0576  57          	ld	d, a
1661  0577  1A          	ld	a, (de)
1662  0578  F6 08       	or	a,0x08
1663  057A  12          	ld	(de), a
1664  057B  79          	ld	a, c
1665  057C  86          	add	a, (hl)
1666  057D  4F          	ld	c, a
1667  057E  78          	ld	a, b
1668  057F  CE 00       	adc	a,0x00
1669  0581  47          	ld	b, a
1670  0582  0A          	ld	a, (bc)
1671  0583  E6 EF       	and	a,0xef
1672  0585  02          	ld	(bc), a
1673  0586  3A 00 00    	ld	a,(_player_over_stair)
1674  0589  B7          	or	a, a
1675  058A  28 05       	jr	Z,l_player_move_input_00112
1676  058C  2E 00       	ld	l,0x00
1677  058E  CD A0 03    	call	_player_check_stairs
1678  0591              l_player_move_input_00112:
1679  0591  CD 00 00    	call	_spr_move_horizontal
1680  0594              l_player_move_input_00114:
1681  0594  21 00 00    	ld	hl,_dirs
1682  0597  CB 46       	bit	0, (hl)
1683  0599  28 2B       	jr	Z,l_player_move_input_00124
1684  059B  2E 00       	ld	l,0x00
1685  059D  CD A0 03    	call	_player_check_stairs
1686  05A0  3A 00 00    	ld	a,(_player_over_stair)
1687  05A3  B7          	or	a, a
1688  05A4  28 0E       	jr	Z,l_player_move_input_00121
1689  05A6  CD 00 00    	call	_spr_move_up
1690  05A9  7D          	ld	a, l
1691  05AA  B7          	or	a, a
1692  05AB  28 19       	jr	Z,l_player_move_input_00124
1693  05AD  21 00 00    	ld	hl,_player_over_stair
1694  05B0  36 00       	ld	(hl),0x00
1695  05B2  18 12       	jr	l_player_move_input_00124
1696  05B4              l_player_move_input_00121:
1697  05B4  21 00 00    	ld	hl,_dirs
1698  05B7  CB 5E       	bit	3, (hl)
1699  05B9  20 0B       	jr	NZ,l_player_move_input_00124
1700  05BB  21 00 00    	ld	hl,_dirs
1701  05BE  CB 56       	bit	2, (hl)
1702  05C0  20 04       	jr	NZ,l_player_move_input_00124
1703  05C2  2E 00       	ld	l,0x00
1704  05C4  18 48       	jr	l_player_move_input_00137
1705  05C6              l_player_move_input_00124:
1706  05C6  21 00 00    	ld	hl,_dirs
1707  05C9  CB 4E       	bit	1, (hl)
1708  05CB  28 29       	jr	Z,l_player_move_input_00134
1709  05CD  CD 5A 03    	call	_player_check_stairs_down
1710  05D0  3A 00 00    	ld	a,(_player_over_stair)
1711  05D3  B7          	or	a, a
1712  05D4  28 0E       	jr	Z,l_player_move_input_00131
1713  05D6  CD 00 00    	call	_spr_move_down
1714  05D9  7D          	ld	a, l
1715  05DA  B7          	or	a, a
1716  05DB  28 19       	jr	Z,l_player_move_input_00134
1717  05DD  21 00 00    	ld	hl,_player_over_stair
1718  05E0  36 00       	ld	(hl),0x00
1719  05E2  18 12       	jr	l_player_move_input_00134
1720  05E4              l_player_move_input_00131:
1721  05E4  21 00 00    	ld	hl,_dirs
1722  05E7  CB 5E       	bit	3, (hl)
1723  05E9  20 0B       	jr	NZ,l_player_move_input_00134
1724  05EB  21 00 00    	ld	hl,_dirs
1725  05EE  CB 56       	bit	2, (hl)
1726  05F0  20 04       	jr	NZ,l_player_move_input_00134
1727  05F2  2E 00       	ld	l,0x00
1728  05F4  18 18       	jr	l_player_move_input_00137
1729  05F6              l_player_move_input_00134:
1730  05F6  2A 00 00    	ld	hl,(_sprite)
1731  05F9  26 00       	ld	h,0x00
1732  05FB  01 00 00    	ld	bc,_state
1733  05FE  09          	add	hl,bc
1734  05FF  3A 00 00    	ld	a,(_s_state)
1735  0602  77          	ld	(hl),a
1736  0603  2E 54       	ld	l,0x54
1737  0605  CD 48 04    	call	_player_tile
1738  0608  2E 01       	ld	l,0x01
1739  060A  18 02       	jr	l_player_move_input_00137
1740  060C              l_player_move_input_00136:
1741  060C  2E 00       	ld	l,0x00
1742  060E              l_player_move_input_00137:
1743  060E  C9          	ret
1744  060F              	SECTION code_compiler
1745  060F              ;	---------------------------------
1746  060F              ; Function player_fire
1747  060F              ; ---------------------------------
1748  060F              _player_fire:
1749  060F  21 00 00    	ld	hl,_dirs
1750  0612  CB 7E       	bit	7, (hl)
1751  0614  28 62       	jr	Z,l_player_fire_00111
1752  0616  21 00 00    	ld	hl,_dirs
1753  0619  CB 4E       	bit	1, (hl)
1754  061B  28 5B       	jr	Z,l_player_fire_00111
1755  061D  11 07 00    	ld	de,_bullet_col+7
1756  0620  1A          	ld	a, (de)
1757  0621  3C          	inc	a
1758  0622  20 50       	jr	NZ,l_player_fire_00109
1759  0624  01 07 00    	ld	bc,_bullet_dir+7
1760  0627  AF          	xor	a, a
1761  0628  02          	ld	(bc), a
1762  0629  3A 07 00    	ld	a,(_lin + 0x0007)
1763  062C  32 07 00    	ld	((_bullet_lin + 0x0007)),a
1764  062F  21 07 00    	ld	hl, +(_bullet_frames + 0x0007)
1765  0632  36 02       	ld	(hl),0x02
1766  0634  3A 07 00    	ld	a,(_state_a + 0x0007)
1767  0637  CB 5F       	bit	3, a
1768  0639  28 1D       	jr	Z,l_player_fire_00106
1769  063B  3A 07 00    	ld	a,(_col + 0x0007)
1770  063E  FE 01       	cp	a,0x01
1771  0640  30 04       	jr	NC,l_player_fire_00102
1772  0642  2E 01       	ld	l,0x01
1773  0644  18 34       	jr	l_player_fire_00113
1774  0646              l_player_fire_00102:
1775  0646  C6 FF       	add	a,0xff
1776  0648  12          	ld	(de), a
1777  0649  21 07 00    	ld	hl, +(_bullet_tile + 0x0007)
1778  064C  36 72       	ld	(hl),0x72
1779  064E  3E 01       	ld	a,0x01
1780  0650  02          	ld	(bc), a
1781  0651  21 07 00    	ld	hl, +(_bullet_colint + 0x0007)
1782  0654  36 02       	ld	(hl),0x02
1783  0656  18 1C       	jr	l_player_fire_00109
1784  0658              l_player_fire_00106:
1785  0658  2A 07 00    	ld	hl,(_col + 0x0007)
1786  065B  3E 1D       	ld	a,0x1d
1787  065D  95          	sub	a, l
1788  065E  30 04       	jr	NC,l_player_fire_00104
1789  0660  2E 01       	ld	l,0x01
1790  0662  18 16       	jr	l_player_fire_00113
1791  0664              l_player_fire_00104:
1792  0664  7D          	ld	a, l
1793  0665  3C          	inc	a
1794  0666  12          	ld	(de), a
1795  0667  21 07 00    	ld	hl, +(_bullet_tile + 0x0007)
1796  066A  36 70       	ld	(hl),0x70
1797  066C  3E FF       	ld	a,0xff
1798  066E  02          	ld	(bc), a
1799  066F  21 07 00    	ld	hl, +(_bullet_colint + 0x0007)
1800  0672  36 FF       	ld	(hl),0xff
1801  0674              l_player_fire_00109:
1802  0674  2E 01       	ld	l,0x01
1803  0676  18 02       	jr	l_player_fire_00113
1804  0678              l_player_fire_00111:
1805  0678  2E 00       	ld	l,0x00
1806  067A              l_player_fire_00113:
1807  067A  C9          	ret
1808  067B              	SECTION code_compiler
1809  067B              ;	---------------------------------
1810  067B              ; Function player_check_map
1811  067B              ; ---------------------------------
1812  067B              _player_check_map:
1813  067B  2A 00 00    	ld	hl,(_sprite)
1814  067E  26 00       	ld	h,0x00
1815  0680  5D          	ld	e,l
1816  0681  01 00 00    	ld	bc,_col
1817  0684  09          	add	hl,bc
1818  0685  46          	ld	b,(hl)
1819  0686  16 00       	ld	d,0x00
1820  0688  21 00 00    	ld	hl,_lin
1821  068B  19          	add	hl,de
1822  068C  4E          	ld	c, (hl)
1823  068D  C5          	push	bc
1824  068E  CD 00 00    	call	_spr_calc_index
1825  0691  F1          	pop	af
1826  0692  7D          	ld	a,l
1827  0693  32 00 00    	ld	(_sprite_curr_index),a
1828  0696  3A 00 00    	ld	a,(_s_lin0)
1829  0699  E6 0F       	and	a,0x0f
1830  069B  21 00 00    	ld	hl,_s_col0
1831  069E  CB 46       	bit	0, (hl)
1832  06A0  20 17       	jr	NZ,l_player_check_map_00108
1833  06A2  B7          	or	a, a
1834  06A3  20 05       	jr	NZ,l_player_check_map_00102
1835  06A5  CD E4 06    	call	_player_pick_item
1836  06A8  18 39       	jr	l_player_check_map_00110
1837  06AA              l_player_check_map_00102:
1838  06AA  CD E4 06    	call	_player_pick_item
1839  06AD  21 00 00    	ld	hl,_sprite_curr_index
1840  06B0  7E          	ld	a, (hl)
1841  06B1  C6 10       	add	a,0x10
1842  06B3  77          	ld	(hl), a
1843  06B4  CD E4 06    	call	_player_pick_item
1844  06B7  18 2A       	jr	l_player_check_map_00110
1845  06B9              l_player_check_map_00108:
1846  06B9  B7          	or	a, a
1847  06BA  20 0C       	jr	NZ,l_player_check_map_00105
1848  06BC  CD E4 06    	call	_player_pick_item
1849  06BF  21 00 00    	ld	hl,_sprite_curr_index
1850  06C2  34          	inc	(hl)
1851  06C3  CD E4 06    	call	_player_pick_item
1852  06C6  18 1B       	jr	l_player_check_map_00110
1853  06C8              l_player_check_map_00105:
1854  06C8  CD E4 06    	call	_player_pick_item
1855  06CB  21 00 00    	ld	hl,_sprite_curr_index
1856  06CE  34          	inc	(hl)
1857  06CF  CD E4 06    	call	_player_pick_item
1858  06D2  21 00 00    	ld	hl,_sprite_curr_index
1859  06D5  7E          	ld	a, (hl)
1860  06D6  C6 0F       	add	a,0x0f
1861  06D8  77          	ld	(hl), a
1862  06D9  CD E4 06    	call	_player_pick_item
1863  06DC  21 00 00    	ld	hl,_sprite_curr_index
1864  06DF  34          	inc	(hl)
1865  06E0  CD E4 06    	call	_player_pick_item
1866  06E3              l_player_check_map_00110:
1867  06E3  C9          	ret
1868  06E4              	SECTION code_compiler
1869  06E4              ;	---------------------------------
1870  06E4              ; Function player_pick_item
1871  06E4              ; ---------------------------------
1872  06E4              _player_pick_item:
1873  06E4  2A 00 00    	ld	hl,(_sprite_curr_index)
1874  06E7  26 00       	ld	h,0x00
1875  06E9  01 00 00    	ld	bc,_scr_map
1876  06EC  09          	add	hl,bc
1877  06ED  7E          	ld	a,(hl)
1878  06EE  4F          	ld	c,a
1879  06EF  D6 18       	sub	a,0x18
1880  06F1  D8          	ret	C
1881  06F2  3E 27       	ld	a,0x27
1882  06F4  91          	sub	a, c
1883  06F5  D8          	ret	C
1884  06F6  CD 00 00    	call	_ay_reset
1885  06F9  21 00 00    	ld	hl,_ay_effect_10
1886  06FC  CD 00 00    	call	_ay_fx_play
1887  06FF  CD 00 00    	call	_sound_coin
1888  0702  2A 00 00    	ld	hl,(_sprite_curr_index)
1889  0705  26 00       	ld	h,0x00
1890  0707  01 00 00    	ld	bc,_scr_map
1891  070A  09          	add	hl,bc
1892  070B  AF          	xor	a,a
1893  070C  77          	ld	(hl),a
1894  070D  3A 00 00    	ld	a,(_sprite_curr_index)
1895  0710  07          	rlca
1896  0711  07          	rlca
1897  0712  07          	rlca
1898  0713  07          	rlca
1899  0714  E6 0F       	and	a,0x0f
1900  0716  07          	rlca
1901  0717  07          	rlca
1902  0718  07          	rlca
1903  0719  07          	rlca
1904  071A  E6 F0       	and	a,0xf0
1905  071C  32 00 00    	ld	(_s_lin1),a
1906  071F  3A 00 00    	ld	a,(_sprite_curr_index)
1907  0722  E6 0F       	and	a,0x0f
1908  0724  87          	add	a, a
1909  0725  32 00 00    	ld	(_s_col1),a
1910  0728  21 78 03    	ld	hl,0x0378
1911  072B  E5          	push	hl
1912  072C  F5          	push	af
1913  072D  33          	inc	sp
1914  072E  3A 00 00    	ld	a,(_s_lin1)
1915  0731  F5          	push	af
1916  0732  33          	inc	sp
1917  0733  CD 00 00    	call	_spr_add_anim
1918  0736  F1          	pop	af
1919  0737  F1          	pop	af
1920  0738  C9          	ret
1921  0739              	SECTION code_compiler
1922  0739              ;	---------------------------------
1923  0739              ; Function player_hit_platform
1924  0739              ; ---------------------------------
1925  0739              _player_hit_platform:
1926  0739  3A 00 00    	ld	a,(_player_hit_lin)
1927  073C  B7          	or	a, a
1928  073D  C2 5C 08    	jp	NZ, l_player_hit_platform_00120
1929  0740  2A 00 00    	ld	hl,(_sprite)
1930  0743  26 00       	ld	h,0x00
1931  0745  01 00 00    	ld	bc,_lin
1932  0748  09          	add	hl,bc
1933  0749  4E          	ld	c,(hl)
1934  074A  3E 10       	ld	a,0x10
1935  074C  91          	sub	a, c
1936  074D  D2 5C 08    	jp	NC, l_player_hit_platform_00120
1937  0750  21 00 00    	ld	hl,_enemies
1938  0753  36 00       	ld	(hl),0x00
1939  0755              l_player_hit_platform_00122:
1940  0755  2A 00 00    	ld	hl,(_enemies)
1941  0758  26 00       	ld	h,0x00
1942  075A  01 00 00    	ld	bc,_class
1943  075D  09          	add	hl,bc
1944  075E  7E          	ld	a,(hl)
1945  075F  B7          	or	a, a
1946  0760  28 64       	jr	Z,l_player_hit_platform_00123
1947  0762  2A 00 00    	ld	hl,(_sprite)
1948  0765  26 00       	ld	h,0x00
1949  0767  01 00 00    	ld	bc,_lin
1950  076A  09          	add	hl,bc
1951  076B  4E          	ld	c,(hl)
1952  076C  06 00       	ld	b,0x00
1953  076E  2A 00 00    	ld	hl,(_enemies)
1954  0771  60          	ld	h,b
1955  0772  11 00 00    	ld	de,_lin
1956  0775  19          	add	hl,de
1957  0776  5E          	ld	e, (hl)
1958  0777  16 00       	ld	d,0x00
1959  0779  79          	ld	a,c
1960  077A  93          	sub	a,e
1961  077B  4F          	ld	c,a
1962  077C  78          	ld	a,b
1963  077D  9A          	sbc	a,d
1964  077E  47          	ld	b,a
1965  077F  79          	ld	a,c
1966  0780  D6 18       	sub	a,0x18
1967  0782  B0          	or	a,b
1968  0783  20 41       	jr	NZ,l_player_hit_platform_00123
1969  0785  2A 00 00    	ld	hl,(_enemies)
1970  0788  26 00       	ld	h,0x00
1971  078A  01 00 00    	ld	bc,_state
1972  078D  09          	add	hl,bc
1973  078E  CB 6E       	bit	5,(hl)
1974  0790  20 34       	jr	NZ,l_player_hit_platform_00123
1975  0792  2A 00 00    	ld	hl,(_sprite)
1976  0795  26 00       	ld	h,0x00
1977  0797  01 00 00    	ld	bc,_col
1978  079A  09          	add	hl,bc
1979  079B  4E          	ld	c,(hl)
1980  079C  06 00       	ld	b,0x00
1981  079E  2A 00 00    	ld	hl,(_enemies)
1982  07A1  60          	ld	h,b
1983  07A2  11 00 00    	ld	de,_col
1984  07A5  19          	add	hl,de
1985  07A6  5E          	ld	e, (hl)
1986  07A7  16 00       	ld	d,0x00
1987  07A9  79          	ld	a, c
1988  07AA  93          	sub	a, e
1989  07AB  6F          	ld	l, a
1990  07AC  78          	ld	a, b
1991  07AD  9A          	sbc	a, d
1992  07AE  67          	ld	h, a
1993  07AF  CD 00 00    	call	_abs_fastcall
1994  07B2  3E 02       	ld	a,0x02
1995  07B4  BD          	cp	a,l
1996  07B5  3E 00       	ld	a,0x00
1997  07B7  9C          	sbc	a,h
1998  07B8  E2 BD 07    	jp	PO, l_player_hit_platform_00178
1999  07BB  EE 80       	xor	a,0x80
2000  07BD              l_player_hit_platform_00178:
2001  07BD  FA C6 07    	jp	M, l_player_hit_platform_00123
2002  07C0  CD 00 00    	call	_enemy_hit
2003  07C3  CD 00 00    	call	_sound_hit_enemy
2004  07C6              l_player_hit_platform_00123:
2005  07C6  21 00 00    	ld	hl,_enemies
2006  07C9  7E          	ld	a,(hl)
2007  07CA  3C          	inc	a
2008  07CB  77          	ld	(hl),a
2009  07CC  D6 06       	sub	a,0x06
2010  07CE  38 85       	jr	C,l_player_hit_platform_00122
2011  07D0  01 00 00    	ld	bc,_spr_timer+0
2012  07D3  2A 00 00    	ld	hl,(_sprite)
2013  07D6  26 00       	ld	h,0x00
2014  07D8  29          	add	hl, hl
2015  07D9  09          	add	hl,bc
2016  07DA  ED 5B 00 00 	ld	de,(_curr_time)
2017  07DE  73          	ld	(hl),e
2018  07DF  23          	inc	hl
2019  07E0  72          	ld	(hl),d
2020  07E1  2A 00 00    	ld	hl,(_sprite)
2021  07E4  26 00       	ld	h,0x00
2022  07E6  01 00 00    	ld	bc,_lin
2023  07E9  09          	add	hl,bc
2024  07EA  4E          	ld	c,(hl)
2025  07EB  06 00       	ld	b,0x00
2026  07ED  79          	ld	a, c
2027  07EE  C6 F8       	add	a,0xf8
2028  07F0  4F          	ld	c, a
2029  07F1  78          	ld	a, b
2030  07F2  CE FF       	adc	a,0xff
2031  07F4  5F          	ld	e, a
2032  07F5  06 04       	ld	b,0x04
2033  07F7              l_player_hit_platform_00179:
2034  07F7  CB 2B       	sra	e
2035  07F9  CB 19       	rr	c
2036  07FB  10 FA       	djnz	l_player_hit_platform_00179
2037  07FD  79          	ld	a, c
2038  07FE  07          	rlca
2039  07FF  07          	rlca
2040  0800  07          	rlca
2041  0801  07          	rlca
2042  0802  E6 F0       	and	a,0xf0
2043  0804  C6 08       	add	a,0x08
2044  0806  32 00 00    	ld	(_player_hit_lin),a
2045  0809  2A 00 00    	ld	hl,(_sprite)
2046  080C  26 00       	ld	h,0x00
2047  080E  01 00 00    	ld	bc,_col
2048  0811  09          	add	hl,bc
2049  0812  4E          	ld	c,(hl)
2050  0813  CB 41       	bit	0,c
2051  0815  20 06       	jr	NZ,l_player_hit_platform_00117
2052  0817  21 00 00    	ld	hl,_player_hit_col
2053  081A  71          	ld	(hl), c
2054  081B  18 33       	jr	l_player_hit_platform_00118
2055  081D              l_player_hit_platform_00117:
2056  081D  2A 00 00    	ld	hl,(_sprite)
2057  0820  26 00       	ld	h,0x00
2058  0822  11 00 00    	ld	de,_state
2059  0825  19          	add	hl,de
2060  0826  5E          	ld	e, (hl)
2061  0827  41          	ld	b, c
2062  0828  04          	inc	b
2063  0829  0D          	dec	c
2064  082A  CB 5B       	bit	3, e
2065  082C  28 12       	jr	Z,l_player_hit_platform_00114
2066  082E  3A 00 00    	ld	a,(_g_player_hit_right)
2067  0831  B7          	or	a, a
2068  0832  28 06       	jr	Z,l_player_hit_platform_00108
2069  0834  21 00 00    	ld	hl,_player_hit_col
2070  0837  70          	ld	(hl), b
2071  0838  18 16       	jr	l_player_hit_platform_00118
2072  083A              l_player_hit_platform_00108:
2073  083A  21 00 00    	ld	hl,_player_hit_col
2074  083D  71          	ld	(hl), c
2075  083E  18 10       	jr	l_player_hit_platform_00118
2076  0840              l_player_hit_platform_00114:
2077  0840  3A 00 00    	ld	a,(_g_player_hit_left)
2078  0843  B7          	or	a, a
2079  0844  28 06       	jr	Z,l_player_hit_platform_00111
2080  0846  21 00 00    	ld	hl,_player_hit_col
2081  0849  71          	ld	(hl), c
2082  084A  18 04       	jr	l_player_hit_platform_00118
2083  084C              l_player_hit_platform_00111:
2084  084C  21 00 00    	ld	hl,_player_hit_col
2085  084F  70          	ld	(hl), b
2086  0850              l_player_hit_platform_00118:
2087  0850  2E 01       	ld	l,0x01
2088  0852  CD 00 00    	call	_spr_brick_anim
2089  0855  CD 00 00    	call	_sound_hit_brick
2090  0858  2E 01       	ld	l,0x01
2091  085A  18 02       	jr	l_player_hit_platform_00124
2092  085C              l_player_hit_platform_00120:
2093  085C  2E 00       	ld	l,0x00
2094  085E              l_player_hit_platform_00124:
2095  085E  C9          	ret
2096  085F              	SECTION code_compiler
2097  085F              ;	---------------------------------
2098  085F              ; Function player_hit_platform_clear
2099  085F              ; ---------------------------------
2100  085F              _player_hit_platform_clear:
2101  085F  3A 00 00    	ld	a,(_player_hit_lin)
2102  0862  B7          	or	a, a
2103  0863  C8          	ret	Z
2104  0864  2A FF FF    	ld	hl,(_player_hit_col - 1)
2105  0867  3A 00 00    	ld	a,(_player_hit_lin)
2106  086A  6F          	ld	l,a
2107  086B  E5          	push	hl
2108  086C  CD 00 00    	call	_spr_calc_index
2109  086F  F1          	pop	af
2110  0870  22 00 00    	ld	(_index1),hl
2111  0873  2E 00       	ld	l,0x00
2112  0875  CD 00 00    	call	_spr_brick_anim
2113  0878  21 00 00    	ld	hl,_player_hit_lin
2114  087B  36 00       	ld	(hl),0x00
2115  087D  21 00 00    	ld	hl,_player_hit_col
2116  0880  36 00       	ld	(hl),0x00
2117  0882  C9          	ret
2118  0883              	SECTION code_compiler
2119  0883              ;	---------------------------------
2120  0883              ; Function player_score_add
2121  0883              ; ---------------------------------
2122  0883              _player_score_add:
2123  0883  ED 4B 00 00 	ld	bc,(_player_score)
2124  0887  09          	add	hl,bc
2125  0888  22 00 00    	ld	(_player_score),hl
2126  088B  3A 00 00    	ld	a,(_game_score_top)
2127  088E  21 00 00    	ld	hl,_player_score
2128  0891  96          	sub	a, (hl)
2129  0892  3A 01 00    	ld	a,(_game_score_top + 1)
2130  0895  23          	inc	hl
2131  0896  9E          	sbc	a, (hl)
2132  0897  D2 00 00    	jp	NC,_game_print_score
2133  089A  2A 00 00    	ld	hl,(_player_score)
2134  089D  22 00 00    	ld	(_game_score_top),hl
2135  08A0  C3 00 00    	jp  _game_print_score
2136  08A3              	SECTION code_compiler
2137  08A3              ;	---------------------------------
2138  08A3              ; Function player_check_floor
2139  08A3              ; ---------------------------------
2140  08A3              _player_check_floor:
2141  08A3  CD 00 00    	call	___sdcc_enter_ix
2142  08A6  3B          	dec	sp
2143  08A7  2A 00 00    	ld	hl,(_sprite)
2144  08AA  26 00       	ld	h,0x00
2145  08AC  01 00 00    	ld	bc,_col
2146  08AF  09          	add	hl,bc
2147  08B0  56          	ld	d, (hl)
2148  08B1  2A 00 00    	ld	hl,(_sprite)
2149  08B4  26 00       	ld	h,0x00
2150  08B6  01 00 00    	ld	bc,_lin
2151  08B9  09          	add	hl,bc
2152  08BA  7E          	ld	a,(hl)
2153  08BB  C6 10       	add	a,0x10
2154  08BD  5F          	ld	e, a
2155  08BE  D5          	push	de
2156  08BF  CD 00 00    	call	_spr_calc_index
2157  08C2  F1          	pop	af
2158  08C3  4D          	ld	c, l
2159  08C4  44          	ld	b, h
2160  08C5  21 00 00    	ld	hl,_scr_map
2161  08C8  09          	add	hl, bc
2162  08C9  7E          	ld	a, (hl)
2163  08CA  DD 77 FF    	ld	(ix-1),a
2164  08CD  2A 00 00    	ld	hl,(_sprite)
2165  08D0  26 00       	ld	h,0x00
2166  08D2  11 00 00    	ld	de,_col
2167  08D5  19          	add	hl,de
2168  08D6  7E          	ld	a,(hl)
2169  08D7  0F          	rrca
2170  08D8  38 04       	jr	C,l_player_check_floor_00102
2171  08DA  0E 01       	ld	c,0x01
2172  08DC  18 06       	jr	l_player_check_floor_00103
2173  08DE              l_player_check_floor_00102:
2174  08DE  03          	inc	bc
2175  08DF  21 00 00    	ld	hl,_scr_map
2176  08E2  09          	add	hl, bc
2177  08E3  4E          	ld	c, (hl)
2178  08E4              l_player_check_floor_00103:
2179  08E4  3A 00 00    	ld	a,(_s_lin0)
2180  08E7  D6 90       	sub	a,0x90
2181  08E9  20 04       	jr	NZ,l_player_check_floor_00105
2182  08EB  DD 36 FF 3C 	ld	(ix-1),0x3c
2183  08EF              l_player_check_floor_00105:
2184  08EF  DD 7E FF    	ld	a,(ix-1)
2185  08F2  D6 30       	sub	a,0x30
2186  08F4  38 07       	jr	C,l_player_check_floor_00110
2187  08F6  DD 7E FF    	ld	a,(ix-1)
2188  08F9  D6 54       	sub	a,0x54
2189  08FB  38 1E       	jr	C,l_player_check_floor_00111
2190  08FD              l_player_check_floor_00110:
2191  08FD  79          	ld	a,c
2192  08FE  FE 30       	cp	a,0x30
2193  0900  38 04       	jr	C,l_player_check_floor_00106
2194  0902  D6 54       	sub	a,0x54
2195  0904  38 15       	jr	C,l_player_check_floor_00111
2196  0906              l_player_check_floor_00106:
2197  0906  2A 00 00    	ld	hl,(_sprite)
2198  0909  26 00       	ld	h,0x00
2199  090B  01 00 00    	ld	bc,_sprite_speed_alt
2200  090E  09          	add	hl,bc
2201  090F  36 02       	ld	(hl),0x02
2202  0911  21 00 00    	ld	hl,_s_state
2203  0914  CB CE       	set	1, (hl)
2204  0916  2E 00       	ld	l,0x00
2205  0918  CD A0 03    	call	_player_check_stairs
2206  091B              l_player_check_floor_00111:
2207  091B  33          	inc	sp
2208  091C  DD E1       	pop	ix
2209  091E  C9          	ret
2210  091F              	SECTION code_compiler
2211  091F              ;	---------------------------------
2212  091F              ; Function player_move_jump
2213  091F              ; ---------------------------------
2214  091F              _player_move_jump:
2215  091F  2A 00 00    	ld	hl,(_player_vel_y)
2216  0922  ED 5B 00 00 	ld	de,(_game_gravity)
2217  0926  19          	add	hl,de
2218  0927  22 00 00    	ld	(_player_vel_y),hl
2219  092A  21 00 00    	ld	hl,_sprite_on_air
2220  092D  36 01       	ld	(hl),0x01
2221  092F  3A 00 00    	ld	a,(_player_vel_inc)
2222  0932  B7          	or	a, a
2223  0933  28 2C       	jr	Z,l_player_move_jump_00106
2224  0935  21 00 00    	ld	hl,_dirs
2225  0938  CB 7E       	bit	7, (hl)
2226  093A  20 25       	jr	NZ,l_player_move_jump_00106
2227  093C  3A 00 00    	ld	a,(_player_vel_y1)
2228  093F  21 00 00    	ld	hl,_player_vel_y
2229  0942  96          	sub	a, (hl)
2230  0943  3A 01 00    	ld	a,(_player_vel_y1 + 1)
2231  0946  23          	inc	hl
2232  0947  9E          	sbc	a, (hl)
2233  0948  E2 4D 09    	jp	PO, l_player_move_jump_00210
2234  094B  EE 80       	xor	a,0x80
2235  094D              l_player_move_jump_00210:
2236  094D  F2 61 09    	jp	P, l_player_move_jump_00106
2237  0950  21 01 00    	ld	hl,_player_vel_y + 1
2238  0953  CB 7E       	bit	7,(hl)
2239  0955  28 0A       	jr	Z,l_player_move_jump_00106
2240  0957  2B          	dec	hl
2241  0958  AF          	xor	a, a
2242  0959  77          	ld	(hl), a
2243  095A  23          	inc	hl
2244  095B  77          	ld	(hl), a
2245  095C  21 00 00    	ld	hl,_player_vel_inc
2246  095F  36 00       	ld	(hl),0x00
2247  0961              l_player_move_jump_00106:
2248  0961  3E 78       	ld	a,0x78
2249  0963  21 00 00    	ld	hl,_player_vel_y
2250  0966  BE          	cp	a, (hl)
2251  0967  3E 00       	ld	a,0x00
2252  0969  23          	inc	hl
2253  096A  9E          	sbc	a, (hl)
2254  096B  E2 70 09    	jp	PO, l_player_move_jump_00211
2255  096E  EE 80       	xor	a,0x80
2256  0970              l_player_move_jump_00211:
2257  0970  F2 79 09    	jp	P, l_player_move_jump_00108
2258  0973  21 78 00    	ld	hl,0x0078
2259  0976  22 00 00    	ld	(_player_vel_y),hl
2260  0979              l_player_move_jump_00108:
2261  0979  21 00 00    	ld	hl,_player_vel_y
2262  097C  7E          	ld	a, (hl)
2263  097D  D6 88       	sub	a,0x88
2264  097F  23          	inc	hl
2265  0980  7E          	ld	a, (hl)
2266  0981  17          	rla
2267  0982  3F          	ccf
2268  0983  1F          	rra
2269  0984  DE 7F       	sbc	a,0x7f
2270  0986  30 06       	jr	NC,l_player_move_jump_00110
2271  0988  2B          	dec	hl
2272  0989  36 88       	ld	(hl),0x88
2273  098B  23          	inc	hl
2274  098C  36 FF       	ld	(hl),0xff
2275  098E              l_player_move_jump_00110:
2276  098E  21 0A 00    	ld	hl,0x000a
2277  0991  E5          	push	hl
2278  0992  2A 00 00    	ld	hl,(_player_vel_y)
2279  0995  E5          	push	hl
2280  0996  CD 00 00    	call	__divsint_callee
2281  0999  4D          	ld	c, l
2282  099A  44          	ld	b, h
2283  099B  CB 41       	bit	0,c
2284  099D  21 00 00    	ld	hl,_s_lin1
2285  09A0  71          	ld	(hl),c
2286  09A1  28 04       	jr	Z,l_player_move_jump_00112
2287  09A3  21 00 00    	ld	hl,_s_lin1
2288  09A6  34          	inc	(hl)
2289  09A7              l_player_move_jump_00112:
2290  09A7  2A 00 00    	ld	hl,(_sprite)
2291  09AA  26 00       	ld	h,0x00
2292  09AC  11 00 00    	ld	de,_lin
2293  09AF  19          	add	hl,de
2294  09B0  7E          	ld	a,(hl)
2295  09B1  21 00 00    	ld	hl,_s_lin1
2296  09B4  86          	add	a, (hl)
2297  09B5  77          	ld	(hl), a
2298  09B6  3E 90       	ld	a,0x90
2299  09B8  96          	sub	a, (hl)
2300  09B9  30 0E       	jr	NC,l_player_move_jump_00117
2301  09BB  3E C8       	ld	a,0xc8
2302  09BD  96          	sub	a, (hl)
2303  09BE  30 04       	jr	NC,l_player_move_jump_00114
2304  09C0  36 00       	ld	(hl),0x00
2305  09C2  18 05       	jr	l_player_move_jump_00117
2306  09C4              l_player_move_jump_00114:
2307  09C4  21 00 00    	ld	hl,_s_lin1
2308  09C7  36 90       	ld	(hl),0x90
2309  09C9              l_player_move_jump_00117:
2310  09C9  CB 78       	bit	7, b
2311  09CB  28 5B       	jr	Z,l_player_move_jump_00134
2312  09CD  21 00 00    	ld	hl,_s_state
2313  09D0  7E          	ld	a,(hl)
2314  09D1  F6 01       	or	a,0x01
2315  09D3  E6 FD       	and	a,0xfd
2316  09D5  77          	ld	(hl),a
2317  09D6  2A 00 00    	ld	hl,(_sprite)
2318  09D9  26 00       	ld	h,0x00
2319  09DB  01 00 00    	ld	bc,_col
2320  09DE  09          	add	hl,bc
2321  09DF  7E          	ld	a,(hl)
2322  09E0  F5          	push	af
2323  09E1  33          	inc	sp
2324  09E2  3A 00 00    	ld	a,(_s_lin1)
2325  09E5  F5          	push	af
2326  09E6  33          	inc	sp
2327  09E7  CD 00 00    	call	_game_check_map
2328  09EA  F1          	pop	af
2329  09EB  7C          	ld	a,h
2330  09EC  B5          	or	a,l
2331  09ED  28 29       	jr	Z,l_player_move_jump_00121
2332  09EF  CD 39 07    	call	_player_hit_platform
2333  09F2  7D          	ld	a, l
2334  09F3  B7          	or	a, a
2335  09F4  28 19       	jr	Z,l_player_move_jump_00119
2336  09F6  2A 00 00    	ld	hl,(_sprite)
2337  09F9  26 00       	ld	h,0x00
2338  09FB  01 00 00    	ld	bc,_lin
2339  09FE  09          	add	hl,bc
2340  09FF  7E          	ld	a,(hl)
2341  0A00  4D          	ld	c,l
2342  0A01  44          	ld	b,h
2343  0A02  07          	rlca
2344  0A03  07          	rlca
2345  0A04  07          	rlca
2346  0A05  07          	rlca
2347  0A06  E6 0F       	and	a,0x0f
2348  0A08  07          	rlca
2349  0A09  07          	rlca
2350  0A0A  07          	rlca
2351  0A0B  07          	rlca
2352  0A0C  E6 F0       	and	a,0xf0
2353  0A0E  02          	ld	(bc), a
2354  0A0F              l_player_move_jump_00119:
2355  0A0F  21 00 00    	ld	hl,0x0000
2356  0A12  22 00 00    	ld	(_player_vel_y),hl
2357  0A15  C3 B9 0A    	jp	l_player_move_jump_00135
2358  0A18              l_player_move_jump_00121:
2359  0A18  2A 00 00    	ld	hl,(_sprite)
2360  0A1B  26 00       	ld	h,0x00
2361  0A1D  01 00 00    	ld	bc,_lin
2362  0A20  09          	add	hl,bc
2363  0A21  3A 00 00    	ld	a,(_s_lin1)
2364  0A24  77          	ld	(hl),a
2365  0A25  C3 B9 0A    	jp	l_player_move_jump_00135
2366  0A28              l_player_move_jump_00134:
2367  0A28  21 00 00    	ld	hl,_s_state
2368  0A2B  7E          	ld	a,(hl)
2369  0A2C  F6 02       	or	a,0x02
2370  0A2E  E6 FE       	and	a,0xfe
2371  0A30  77          	ld	(hl),a
2372  0A31  2A 00 00    	ld	hl,(_sprite)
2373  0A34  26 00       	ld	h,0x00
2374  0A36  01 00 00    	ld	bc,_col
2375  0A39  09          	add	hl,bc
2376  0A3A  56          	ld	d, (hl)
2377  0A3B  3A 00 00    	ld	a,(_s_lin1)
2378  0A3E  C6 10       	add	a,0x10
2379  0A40  5F          	ld	e, a
2380  0A41  D5          	push	de
2381  0A42  CD 00 00    	call	_game_check_map
2382  0A45  F1          	pop	af
2383  0A46  7C          	ld	a,h
2384  0A47  B5          	or	a,l
2385  0A48  28 62       	jr	Z,l_player_move_jump_00131
2386  0A4A  2E 00       	ld	l,0x00
2387  0A4C  CD A0 03    	call	_player_check_stairs
2388  0A4F  3A 00 00    	ld	a,(_player_over_stair)
2389  0A52  B7          	or	a, a
2390  0A53  20 05       	jr	NZ,l_player_move_jump_00124
2391  0A55  2E 01       	ld	l,0x01
2392  0A57  CD A0 03    	call	_player_check_stairs
2393  0A5A              l_player_move_jump_00124:
2394  0A5A  3A 00 00    	ld	a,(_player_over_stair)
2395  0A5D  B7          	or	a, a
2396  0A5E  20 30       	jr	NZ,l_player_move_jump_00129
2397  0A60  21 00 00    	ld	hl,_s_lin1
2398  0A63  7E          	ld	a, (hl)
2399  0A64  07          	rlca
2400  0A65  07          	rlca
2401  0A66  07          	rlca
2402  0A67  07          	rlca
2403  0A68  E6 0F       	and	a,0x0f
2404  0A6A  07          	rlca
2405  0A6B  07          	rlca
2406  0A6C  07          	rlca
2407  0A6D  07          	rlca
2408  0A6E  E6 F0       	and	a,0xf0
2409  0A70  77          	ld	(hl), a
2410  0A71  2A 00 00    	ld	hl,(_sprite)
2411  0A74  26 00       	ld	h,0x00
2412  0A76  01 00 00    	ld	bc,_lin
2413  0A79  09          	add	hl,bc
2414  0A7A  5E          	ld	e,(hl)
2415  0A7B  4D          	ld	c,l
2416  0A7C  44          	ld	b,h
2417  0A7D  21 00 00    	ld	hl,_s_lin1
2418  0A80  7E          	ld	a, (hl)
2419  0A81  93          	sub	a, e
2420  0A82  30 08       	jr	NC,l_player_move_jump_00126
2421  0A84  7E          	ld	a, (hl)
2422  0A85  C6 10       	add	a,0x10
2423  0A87  02          	ld	(bc), a
2424  0A88  2E 00       	ld	l,0x00
2425  0A8A  18 47       	jr	l_player_move_jump_00138
2426  0A8C              l_player_move_jump_00126:
2427  0A8C  3A 00 00    	ld	a,(_s_lin1)
2428  0A8F  02          	ld	(bc), a
2429  0A90              l_player_move_jump_00129:
2430  0A90  21 00 00    	ld	hl,0x0000
2431  0A93  22 00 00    	ld	(_player_vel_y),hl
2432  0A96  21 00 00    	ld	hl,_s_state
2433  0A99  7E          	ld	a,(hl)
2434  0A9A  E6 FC       	and	a,+(0xfd&0xfe)
2435  0A9C  77          	ld	(hl),a
2436  0A9D  2A 00 00    	ld	hl,(_sprite)
2437  0AA0  26 00       	ld	h,0x00
2438  0AA2  01 00 00    	ld	bc,_colint
2439  0AA5  09          	add	hl,bc
2440  0AA6  AF          	xor	a,a
2441  0AA7  77          	ld	(hl),a
2442  0AA8  2E 01       	ld	l,0x01
2443  0AAA  18 27       	jr	l_player_move_jump_00138
2444  0AAC              l_player_move_jump_00131:
2445  0AAC  2A 00 00    	ld	hl,(_sprite)
2446  0AAF  26 00       	ld	h,0x00
2447  0AB1  01 00 00    	ld	bc,_lin
2448  0AB4  09          	add	hl,bc
2449  0AB5  3A 00 00    	ld	a,(_s_lin1)
2450  0AB8  77          	ld	(hl),a
2451  0AB9              l_player_move_jump_00135:
2452  0AB9  21 00 00    	ld	hl,_sprite_horizontal_check
2453  0ABC  36 01       	ld	(hl),0x01
2454  0ABE  CD 00 00    	call	_spr_move_horizontal
2455  0AC1  7D          	ld	a, l
2456  0AC2  B7          	or	a, a
2457  0AC3  28 07       	jr	Z,l_player_move_jump_00137
2458  0AC5  21 00 00    	ld	hl,_s_state
2459  0AC8  7E          	ld	a,(hl)
2460  0AC9  E6 F3       	and	a,+(0xf7&0xfb)
2461  0ACB  77          	ld	(hl),a
2462  0ACC              l_player_move_jump_00137:
2463  0ACC  21 00 00    	ld	hl,_sprite_horizontal_check
2464  0ACF  36 00       	ld	(hl),0x00
2465  0AD1  2E 00       	ld	l,0x00
2466  0AD3              l_player_move_jump_00138:
2467  0AD3  C9          	ret
2468  0AD4              	SECTION IGNORE
2469  0000              
