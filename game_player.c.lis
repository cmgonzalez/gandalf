1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_init
189   0000              	GLOBAL _player_calc_slide
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_lost_life
195   0000              	GLOBAL _player_turn
196   0000              	GLOBAL _player_move
197   0000              	GLOBAL _player_move_input
198   0000              	GLOBAL _player_hit_brick
199   0000              	GLOBAL _player_hit_brick_clear
200   0000              	GLOBAL _player_coin
201   0000              	GLOBAL _player_score_add
202   0000              	GLOBAL _player_check_floor
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _sound_hit_brick
248   0000              	GLOBAL _sound_hit_enemy
249   0000              	GLOBAL _sound_kill
250   0000              	GLOBAL _sound_enter_enemy
251   0000              	GLOBAL _sound_coin
252   0000              	GLOBAL _sound_jump
253   0000              	GLOBAL _sound_slide
254   0000              	GLOBAL _spr_kill_all
255   0000              	GLOBAL _spr_collision_check
256   0000              	GLOBAL _spr_calc_hor
257   0000              	GLOBAL _spr_draw_row
258   0000              	GLOBAL _spr_draw_index
259   0000              	GLOBAL _spr_draw_clear
260   0000              	GLOBAL _spr_draw_background
261   0000              	GLOBAL _spr_brick_anim
262   0000              	GLOBAL _spr_back_paint
263   0000              	GLOBAL _spr_back_clr
264   0000              	GLOBAL _spr_tile
265   0000              	GLOBAL _spr_set_fall
266   0000              	GLOBAL _spr_destroy
267   0000              	GLOBAL _spr_tile_dir
268   0000              	GLOBAL _spr_anim_kill
269   0000              	GLOBAL _spr_killed
270   0000              	GLOBAL _spr_redraw
271   0000              	GLOBAL _spr_move_left
272   0000              	GLOBAL _spr_move_right
273   0000              	GLOBAL _spr_move_horizontal
274   0000              	GLOBAL _spr_move_down
275   0000              	GLOBAL _spr_move_up
276   0000              	GLOBAL _spr_check_map
277   0000              	GLOBAL _spr_calc_index
278   0000              	GLOBAL _spr_chktime
279   0000              	GLOBAL _game_joystick_set_menu
280   0000              	GLOBAL _game_joystick_set
281   0000              	GLOBAL _game_joystick_change
282   0000              	GLOBAL _game_print_header
283   0000              	GLOBAL _game_end
284   0000              	GLOBAL _game_score_osd
285   0000              	GLOBAL _game_phase_print_score_back
286   0000              	GLOBAL _game_bonus_clock
287   0000              	GLOBAL _game_bonus_summary_player
288   0000              	GLOBAL _game_bonus_summary
289   0000              	GLOBAL _game_check_time
290   0000              	GLOBAL _game_menu_config
291   0000              	GLOBAL _game_menu
292   0000              	GLOBAL _game_rotate_attrib
293   0000              	GLOBAL _game_colour_message
294   0000              	GLOBAL _game_paint_attrib_lin_h
295   0000              	GLOBAL _game_paint_attrib_lin
296   0000              	GLOBAL _game_paint_attrib
297   0000              	GLOBAL _game_menu_paint
298   0000              	GLOBAL _game_menu_top_paint
299   0000              	GLOBAL _game_menu_handle
300   0000              	GLOBAL _game_menu_e
301   0000              	GLOBAL _game_menu_back
302   0000              	GLOBAL _game_print_score
303   0000              	GLOBAL _game_unfreeze_all
304   0000              	GLOBAL _game_freeze_all
305   0000              	GLOBAL _game_freeze
306   0000              	GLOBAL _game_enemy_add_get_index
307   0000              	GLOBAL _game_check_maze
308   0000              	GLOBAL _game_loop
309   0000              	GLOBAL _game_phase_init
310   0000              	GLOBAL _game_start_timer
311   0000              	GLOBAL _game_tick
312   0000              	GLOBAL _game_print_lives
313   0000              	GLOBAL _game_print_footer
314   0000              	GLOBAL _game_fill_row
315   0000              	GLOBAL _enemy_ugly_fix
316   0000              	GLOBAL _enemy_kill
317   0000              	GLOBAL _enemy_init
318   0000              	GLOBAL _enemy_walk
319   0000              	GLOBAL _enemy_upgrade
320   0000              	GLOBAL _enemy_evolve
321   0000              	GLOBAL _enemy_standard_hit
322   0000              	GLOBAL _enemy_trip_move
323   0000              	GLOBAL _enemy_trip
324   0000              	GLOBAL _enemy_fighterfly
325   0000              	GLOBAL _enemy_fireball_green
326   0000              	GLOBAL _enemy_fireball_red
327   0000              	GLOBAL _enemy_slipice
328   0000              	GLOBAL _enemy_standard
329   0000              	GLOBAL _enemy_turn
330   0000              	GLOBAL _enemy_flip_sidestepper
331   0000              	GLOBAL _enemy_flip
332   0000              	GLOBAL _enemy_flip_change_dir
333   0000              	GLOBAL _enemy_hit
334   0000              	GLOBAL _enemy_collision_turn_dir
335   0000              	GLOBAL _enemy_collision
336   0000              	GLOBAL _enemy_coin1
337   0000              	GLOBAL _ay_fx_play
338   0000              	GLOBAL _ay_midi_play
339   0000              	GLOBAL _ay_is_playing
340   0000              	GLOBAL _ay_reset
341   0000              	GLOBAL _player_hit_pow
342   0000              	GLOBAL _test_func2
343   0000              	GLOBAL _test_func
344   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
345   0000              	GLOBAL _NIRVANAP_drawTW_raw
346   0000              	GLOBAL _NIRVANAP_drawTW_callee
347   0000              	GLOBAL _NIRVANAP_drawTW
348   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
349   0000              	GLOBAL _NIRVANAP_drawW_raw
350   0000              	GLOBAL _NIRVANAP_drawW_callee
351   0000              	GLOBAL _NIRVANAP_drawW
352   0000              	GLOBAL _NIRVANAP_spriteT_callee
353   0000              	GLOBAL _NIRVANAP_spriteT
354   0000              	GLOBAL _NIRVANAP_fillC_callee
355   0000              	GLOBAL _NIRVANAP_fillC
356   0000              	GLOBAL _NIRVANAP_readC_callee
357   0000              	GLOBAL _NIRVANAP_readC
358   0000              	GLOBAL _NIRVANAP_paintC_callee
359   0000              	GLOBAL _NIRVANAP_paintC
360   0000              	GLOBAL _NIRVANAP_printC_callee
361   0000              	GLOBAL _NIRVANAP_printC
362   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
363   0000              	GLOBAL _NIRVANAP_fillT_raw
364   0000              	GLOBAL _NIRVANAP_fillT_callee
365   0000              	GLOBAL _NIRVANAP_fillT
366   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawT_raw
368   0000              	GLOBAL _NIRVANAP_drawT_callee
369   0000              	GLOBAL _NIRVANAP_drawT
370   0000              	GLOBAL _NIRVANAP_stop
371   0000              	GLOBAL _NIRVANAP_start
372   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
373   0000              	GLOBAL _intrinsic_swap_word_32
374   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
375   0000              	GLOBAL _intrinsic_swap_endian_32
376   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
377   0000              	GLOBAL _intrinsic_swap_endian_16
378   0000              	GLOBAL _intrinsic_return_de
379   0000              	GLOBAL _intrinsic_return_bc
380   0000              	GLOBAL _intrinsic_exx
381   0000              	GLOBAL _intrinsic_ex_de_hl
382   0000              	GLOBAL _intrinsic_nop
383   0000              	GLOBAL _intrinsic_im_2
384   0000              	GLOBAL _intrinsic_im_1
385   0000              	GLOBAL _intrinsic_im_0
386   0000              	GLOBAL _intrinsic_retn
387   0000              	GLOBAL _intrinsic_reti
388   0000              	GLOBAL _intrinsic_halt
389   0000              	GLOBAL _intrinsic_ei
390   0000              	GLOBAL _intrinsic_di
391   0000              	GLOBAL _intrinsic_stub
392   0000              	GLOBAL _intrinsic_outi
393   0000              	GLOBAL _intrinsic_ldi
394   0000              	GLOBAL _ulltoa_callee
395   0000              	GLOBAL _ulltoa
396   0000              	GLOBAL _strtoull_callee
397   0000              	GLOBAL _strtoull
398   0000              	GLOBAL _strtoll_callee
399   0000              	GLOBAL _strtoll
400   0000              	GLOBAL _lltoa_callee
401   0000              	GLOBAL _lltoa
402   0000              	GLOBAL _llabs_callee
403   0000              	GLOBAL _llabs
404   0000              	GLOBAL __lldivu__callee
405   0000              	GLOBAL __lldivu_
406   0000              	GLOBAL __lldiv__callee
407   0000              	GLOBAL __lldiv_
408   0000              	GLOBAL _atoll_callee
409   0000              	GLOBAL _atoll
410   0000              	GLOBAL _realloc_unlocked_callee
411   0000              	GLOBAL _realloc_unlocked
412   0000              	GLOBAL _malloc_unlocked_fastcall
413   0000              	GLOBAL _malloc_unlocked
414   0000              	GLOBAL _free_unlocked_fastcall
415   0000              	GLOBAL _free_unlocked
416   0000              	GLOBAL _calloc_unlocked_callee
417   0000              	GLOBAL _calloc_unlocked
418   0000              	GLOBAL _aligned_alloc_unlocked_callee
419   0000              	GLOBAL _aligned_alloc_unlocked
420   0000              	GLOBAL _realloc_callee
421   0000              	GLOBAL _realloc
422   0000              	GLOBAL _malloc_fastcall
423   0000              	GLOBAL _malloc
424   0000              	GLOBAL _free_fastcall
425   0000              	GLOBAL _free
426   0000              	GLOBAL _calloc_callee
427   0000              	GLOBAL _calloc
428   0000              	GLOBAL _aligned_alloc_callee
429   0000              	GLOBAL _aligned_alloc
430   0000              	GLOBAL _utoa_callee
431   0000              	GLOBAL _utoa
432   0000              	GLOBAL _ultoa_callee
433   0000              	GLOBAL _ultoa
434   0000              	GLOBAL _system_fastcall
435   0000              	GLOBAL _system
436   0000              	GLOBAL _strtoul_callee
437   0000              	GLOBAL _strtoul
438   0000              	GLOBAL _strtol_callee
439   0000              	GLOBAL _strtol
440   0000              	GLOBAL _strtof_callee
441   0000              	GLOBAL _strtof
442   0000              	GLOBAL _strtod_callee
443   0000              	GLOBAL _strtod
444   0000              	GLOBAL _srand_fastcall
445   0000              	GLOBAL _srand
446   0000              	GLOBAL _rand
447   0000              	GLOBAL _quick_exit_fastcall
448   0000              	GLOBAL _quick_exit
449   0000              	GLOBAL _qsort_callee
450   0000              	GLOBAL _qsort
451   0000              	GLOBAL _ltoa_callee
452   0000              	GLOBAL _ltoa
453   0000              	GLOBAL _labs_fastcall
454   0000              	GLOBAL _labs
455   0000              	GLOBAL _itoa_callee
456   0000              	GLOBAL _itoa
457   0000              	GLOBAL _ftoh_callee
458   0000              	GLOBAL _ftoh
459   0000              	GLOBAL _ftog_callee
460   0000              	GLOBAL _ftog
461   0000              	GLOBAL _ftoe_callee
462   0000              	GLOBAL _ftoe
463   0000              	GLOBAL _ftoa_callee
464   0000              	GLOBAL _ftoa
465   0000              	GLOBAL _exit_fastcall
466   0000              	GLOBAL _exit
467   0000              	GLOBAL _dtoh_callee
468   0000              	GLOBAL _dtoh
469   0000              	GLOBAL _dtog_callee
470   0000              	GLOBAL _dtog
471   0000              	GLOBAL _dtoe_callee
472   0000              	GLOBAL _dtoe
473   0000              	GLOBAL _dtoa_callee
474   0000              	GLOBAL _dtoa
475   0000              	GLOBAL _bsearch_callee
476   0000              	GLOBAL _bsearch
477   0000              	GLOBAL _atol_fastcall
478   0000              	GLOBAL _atol
479   0000              	GLOBAL _atoi_fastcall
480   0000              	GLOBAL _atoi
481   0000              	GLOBAL _atof_fastcall
482   0000              	GLOBAL _atof
483   0000              	GLOBAL _atexit_fastcall
484   0000              	GLOBAL _atexit
485   0000              	GLOBAL _at_quick_exit_fastcall
486   0000              	GLOBAL _at_quick_exit
487   0000              	GLOBAL _abs_fastcall
488   0000              	GLOBAL _abs
489   0000              	GLOBAL _abort
490   0000              	GLOBAL __strtou__callee
491   0000              	GLOBAL __strtou_
492   0000              	GLOBAL __strtoi__callee
493   0000              	GLOBAL __strtoi_
494   0000              	GLOBAL __random_uniform_xor_8__fastcall
495   0000              	GLOBAL __random_uniform_xor_8_
496   0000              	GLOBAL __random_uniform_xor_32__fastcall
497   0000              	GLOBAL __random_uniform_xor_32_
498   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
499   0000              	GLOBAL __random_uniform_cmwc_8_
500   0000              	GLOBAL __shellsort__callee
501   0000              	GLOBAL __shellsort_
502   0000              	GLOBAL __quicksort__callee
503   0000              	GLOBAL __quicksort_
504   0000              	GLOBAL __insertion_sort__callee
505   0000              	GLOBAL __insertion_sort_
506   0000              	GLOBAL __ldivu__callee
507   0000              	GLOBAL __ldivu_
508   0000              	GLOBAL __ldiv__callee
509   0000              	GLOBAL __ldiv_
510   0000              	GLOBAL __divu__callee
511   0000              	GLOBAL __divu_
512   0000              	GLOBAL __div__callee
513   0000              	GLOBAL __div_
514   0000              	GLOBAL _in_mouse_kempston_wheel_delta
515   0000              	GLOBAL _in_mouse_kempston_wheel
516   0000              	GLOBAL _in_mouse_kempston_callee
517   0000              	GLOBAL _in_mouse_kempston
518   0000              	GLOBAL _in_mouse_kempston_setpos_callee
519   0000              	GLOBAL _in_mouse_kempston_setpos
520   0000              	GLOBAL _in_mouse_kempston_reset
521   0000              	GLOBAL _in_mouse_kempston_init
522   0000              	GLOBAL _in_mouse_amx_wheel_delta
523   0000              	GLOBAL _in_mouse_amx_wheel
524   0000              	GLOBAL _in_mouse_amx_callee
525   0000              	GLOBAL _in_mouse_amx
526   0000              	GLOBAL _in_mouse_amx_setpos_callee
527   0000              	GLOBAL _in_mouse_amx_setpos
528   0000              	GLOBAL _in_mouse_amx_reset
529   0000              	GLOBAL _in_mouse_amx_init_callee
530   0000              	GLOBAL _in_mouse_amx_init
531   0000              	GLOBAL _in_stick_sinclair2
532   0000              	GLOBAL _in_stick_sinclair1
533   0000              	GLOBAL _in_stick_kempston
534   0000              	GLOBAL _in_stick_fuller
535   0000              	GLOBAL _in_stick_cursor
536   0000              	GLOBAL _in_stick_keyboard_fastcall
537   0000              	GLOBAL _in_stick_keyboard
538   0000              	GLOBAL _in_wait_nokey
539   0000              	GLOBAL _in_wait_key
540   0000              	GLOBAL _in_test_key
541   0000              	GLOBAL _in_pause_fastcall
542   0000              	GLOBAL _in_pause
543   0000              	GLOBAL _in_key_scancode_fastcall
544   0000              	GLOBAL _in_key_scancode
545   0000              	GLOBAL _in_key_pressed_fastcall
546   0000              	GLOBAL _in_key_pressed
547   0000              	GLOBAL _in_inkey
548   0000              	GLOBAL _zx_pattern_fill_callee
549   0000              	GLOBAL _zx_pattern_fill
550   0000              	GLOBAL _zx_saddrpup_fastcall
551   0000              	GLOBAL _zx_saddrpup
552   0000              	GLOBAL _zx_saddrpright_callee
553   0000              	GLOBAL _zx_saddrpright
554   0000              	GLOBAL _zx_saddrpleft_callee
555   0000              	GLOBAL _zx_saddrpleft
556   0000              	GLOBAL _zx_saddrpdown_fastcall
557   0000              	GLOBAL _zx_saddrpdown
558   0000              	GLOBAL _zx_saddrcup_fastcall
559   0000              	GLOBAL _zx_saddrcup
560   0000              	GLOBAL _zx_saddrcright_fastcall
561   0000              	GLOBAL _zx_saddrcright
562   0000              	GLOBAL _zx_saddrcleft_fastcall
563   0000              	GLOBAL _zx_saddrcleft
564   0000              	GLOBAL _zx_saddrcdown_fastcall
565   0000              	GLOBAL _zx_saddrcdown
566   0000              	GLOBAL _zx_saddr2py_fastcall
567   0000              	GLOBAL _zx_saddr2py
568   0000              	GLOBAL _zx_saddr2px_fastcall
569   0000              	GLOBAL _zx_saddr2px
570   0000              	GLOBAL _zx_saddr2cy_fastcall
571   0000              	GLOBAL _zx_saddr2cy
572   0000              	GLOBAL _zx_saddr2cx_fastcall
573   0000              	GLOBAL _zx_saddr2cx
574   0000              	GLOBAL _zx_saddr2aaddr_fastcall
575   0000              	GLOBAL _zx_saddr2aaddr
576   0000              	GLOBAL _zx_py2saddr_fastcall
577   0000              	GLOBAL _zx_py2saddr
578   0000              	GLOBAL _zx_py2aaddr_fastcall
579   0000              	GLOBAL _zx_py2aaddr
580   0000              	GLOBAL _zx_pxy2saddr_callee
581   0000              	GLOBAL _zx_pxy2saddr
582   0000              	GLOBAL _zx_pxy2aaddr_callee
583   0000              	GLOBAL _zx_pxy2aaddr
584   0000              	GLOBAL _zx_px2bitmask_fastcall
585   0000              	GLOBAL _zx_px2bitmask
586   0000              	GLOBAL _zx_cy2saddr_fastcall
587   0000              	GLOBAL _zx_cy2saddr
588   0000              	GLOBAL _zx_cy2aaddr_fastcall
589   0000              	GLOBAL _zx_cy2aaddr
590   0000              	GLOBAL _zx_cxy2saddr_callee
591   0000              	GLOBAL _zx_cxy2saddr
592   0000              	GLOBAL _zx_cxy2aaddr_callee
593   0000              	GLOBAL _zx_cxy2aaddr
594   0000              	GLOBAL _zx_bitmask2px_fastcall
595   0000              	GLOBAL _zx_bitmask2px
596   0000              	GLOBAL _zx_aaddrcup_fastcall
597   0000              	GLOBAL _zx_aaddrcup
598   0000              	GLOBAL _zx_aaddrcright_fastcall
599   0000              	GLOBAL _zx_aaddrcright
600   0000              	GLOBAL _zx_aaddrcleft_fastcall
601   0000              	GLOBAL _zx_aaddrcleft
602   0000              	GLOBAL _zx_aaddrcdown_fastcall
603   0000              	GLOBAL _zx_aaddrcdown
604   0000              	GLOBAL _zx_aaddr2saddr_fastcall
605   0000              	GLOBAL _zx_aaddr2saddr
606   0000              	GLOBAL _zx_aaddr2py_fastcall
607   0000              	GLOBAL _zx_aaddr2py
608   0000              	GLOBAL _zx_aaddr2px_fastcall
609   0000              	GLOBAL _zx_aaddr2px
610   0000              	GLOBAL _zx_aaddr2cy_fastcall
611   0000              	GLOBAL _zx_aaddr2cy
612   0000              	GLOBAL _zx_aaddr2cx_fastcall
613   0000              	GLOBAL _zx_aaddr2cx
614   0000              	GLOBAL _zx_visit_wc_pix_callee
615   0000              	GLOBAL _zx_visit_wc_pix
616   0000              	GLOBAL _zx_visit_wc_attr_callee
617   0000              	GLOBAL _zx_visit_wc_attr
618   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
619   0000              	GLOBAL _zx_scroll_wc_up_pix
620   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
621   0000              	GLOBAL _zx_scroll_wc_up_attr
622   0000              	GLOBAL _zx_scroll_wc_up_callee
623   0000              	GLOBAL _zx_scroll_wc_up
624   0000              	GLOBAL _zx_scroll_up_pix_callee
625   0000              	GLOBAL _zx_scroll_up_pix
626   0000              	GLOBAL _zx_scroll_up_attr_callee
627   0000              	GLOBAL _zx_scroll_up_attr
628   0000              	GLOBAL _zx_scroll_up_callee
629   0000              	GLOBAL _zx_scroll_up
630   0000              	GLOBAL _zx_cls_wc_pix_callee
631   0000              	GLOBAL _zx_cls_wc_pix
632   0000              	GLOBAL _zx_cls_wc_attr_callee
633   0000              	GLOBAL _zx_cls_wc_attr
634   0000              	GLOBAL _zx_cls_wc_callee
635   0000              	GLOBAL _zx_cls_wc
636   0000              	GLOBAL _zx_cls_pix_fastcall
637   0000              	GLOBAL _zx_cls_pix
638   0000              	GLOBAL _zx_cls_attr_fastcall
639   0000              	GLOBAL _zx_cls_attr
640   0000              	GLOBAL _zx_cls_fastcall
641   0000              	GLOBAL _zx_cls
642   0000              	GLOBAL _zx_border_fastcall
643   0000              	GLOBAL _zx_border
644   0000              	GLOBAL _g_hit_right
645   0000              	GLOBAL _g_hit_left
646   0000              	GLOBAL _joynames
647   0000              	GLOBAL _initials
648   0000              	GLOBAL _score_osd_tile
649   0000              	GLOBAL _score_osd_update_time
650   0000              	GLOBAL _score_osd_col
651   0000              	GLOBAL _score_osd_lin
652   0000              	GLOBAL _phase_bonus_total
653   0000              	GLOBAL _phase_angry
654   0000              	GLOBAL _phase_curr
655   0000              	GLOBAL _phase_end
656   0000              	GLOBAL _phase_coins
657   0000              	GLOBAL _phase_pop
658   0000              	GLOBAL _phase_tot
659   0000              	GLOBAL _phase_left
660   0000              	GLOBAL _phase_quota
661   0000              	GLOBAL _lvl_1
662   0000              	GLOBAL _sprite_speed_alt
663   0000              	GLOBAL _sprite_speed
664   0000              	GLOBAL _screen_ink
665   0000              	GLOBAL _screen_paper
666   0000              	GLOBAL _game_menu_sel
667   0000              	GLOBAL _game_type
668   0000              	GLOBAL _game_osd
669   0000              	GLOBAL _game_bonus
670   0000              	GLOBAL _spr_water_time
671   0000              	GLOBAL _spr_water_clear
672   0000              	GLOBAL _game_time_fireball_start
673   0000              	GLOBAL _game_time_flipped
674   0000              	GLOBAL _game_score_top
675   0000              	GLOBAL _game_lives
676   0000              	GLOBAL _game_over
677   0000              	GLOBAL _game_sound
678   0000              	GLOBAL _game_inmune
679   0000              	GLOBAL _game_god_mode
680   0000              	GLOBAL _game_start_phase
681   0000              	GLOBAL _game_two_player
682   0000              	GLOBAL _game_brick_tile
683   0000              	GLOBAL _spr_count
684   0000              	GLOBAL _osd_show_time
685   0000              	GLOBAL _osd_update_time
686   0000              	GLOBAL _frame_time
687   0000              	GLOBAL _entry_time
688   0000              	GLOBAL _curr_time
689   0000              	GLOBAL _s_state
690   0000              	GLOBAL _attrib_hl
691   0000              	GLOBAL _attrib
692   0000              	GLOBAL _zx_val_asm
693   0000              	GLOBAL _enemies
694   0000              	GLOBAL _tmp_ui
695   0000              	GLOBAL _tmp_sc
696   0000              	GLOBAL _tmp_uc
697   0000              	GLOBAL _tmp1
698   0000              	GLOBAL _tmp0
699   0000              	GLOBAL _tmp
700   0000              	GLOBAL _index1
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _sprite_lin_inc_mul
703   0000              	GLOBAL _s_col1
704   0000              	GLOBAL _s_col0
705   0000              	GLOBAL _s_lin1
706   0000              	GLOBAL _s_lin0
707   0000              	GLOBAL _s_tile1
708   0000              	GLOBAL _s_tile0
709   0000              	GLOBAL _hit_count
710   0000              	GLOBAL _index_player
711   0000              	GLOBAL _sprite
712   0000              	GLOBAL _player_joy
713   0000              	GLOBAL _player_next_extra
714   0000              	GLOBAL _player_score
715   0000              	GLOBAL _last_time
716   0000              	GLOBAL _sliding
717   0000              	GLOBAL _spr_timer
718   0000              	GLOBAL _jump_lin
719   0000              	GLOBAL _player_jump_c
720   0000              	GLOBAL _hit_col
721   0000              	GLOBAL _hit_lin
722   0000              	GLOBAL _colint
723   0000              	GLOBAL _col
724   0000              	GLOBAL _lin
725   0000              	GLOBAL _tile
726   0000              	GLOBAL _state_a
727   0000              	GLOBAL _state
728   0000              	GLOBAL _class
729   0000              	GLOBAL _tbuffer
730   0000              	GLOBAL _dirs
731   0000              	GLOBAL _sprites
732   0000              	GLOBAL _k2
733   0000              	GLOBAL _k1
734   0000              	GLOBAL _joyfunc2
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _ay_effect_20
739   0000              	GLOBAL _ay_effect_19
740   0000              	GLOBAL _ay_effect_18
741   0000              	GLOBAL _ay_effect_17
742   0000              	GLOBAL _ay_effect_16
743   0000              	GLOBAL _ay_effect_15
744   0000              	GLOBAL _ay_effect_14
745   0000              	GLOBAL _ay_effect_13
746   0000              	GLOBAL _ay_effect_12
747   0000              	GLOBAL _ay_effect_11
748   0000              	GLOBAL _ay_effect_10
749   0000              	GLOBAL _ay_effect_09
750   0000              	GLOBAL _ay_effect_08
751   0000              	GLOBAL _ay_effect_07
752   0000              	GLOBAL _ay_effect_06
753   0000              	GLOBAL _ay_effect_05
754   0000              	GLOBAL _ay_effect_04
755   0000              	GLOBAL _ay_effect_03
756   0000              	GLOBAL _ay_effect_02
757   0000              	GLOBAL _ay_effect_01
758   0000              	GLOBAL _pb_midi_phase_1
759   0000              	GLOBAL _pb_midi_title
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
766   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
767   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
768   0000              	GLOBAL _control_method
769   0000              ;--------------------------------------------------------
770   0000              ; special function registers
771   0000              ;--------------------------------------------------------
772   0000              defc _IO_FE	=	0x00fe
773   0000              defc _IO_1FFD	=	0x1ffd
774   0000              defc _IO_7FFD	=	0x7ffd
775   0000              ;--------------------------------------------------------
776   0000              ; ram data
777   0000              ;--------------------------------------------------------
778   0000              	SECTION bss_compiler
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              
783   0000              IF 0
784   0000              
785   0000              ; .area _INITIALIZED removed by z88dk
786   0000              
787   0000              
788   0000              ENDIF
789   0000              
790   0000              ;--------------------------------------------------------
791   0000              ; absolute external ram data
792   0000              ;--------------------------------------------------------
793   0000              	SECTION IGNORE
794   0000              ;--------------------------------------------------------
795   0000              ; global & static initialisations
796   0000              ;--------------------------------------------------------
797   0000              	SECTION code_crt_init
798   0000              ;--------------------------------------------------------
799   0000              ; Home
800   0000              ;--------------------------------------------------------
801   0000              	SECTION IGNORE
802   0000              ;--------------------------------------------------------
803   0000              ; code
804   0000              ;--------------------------------------------------------
805   0000              	SECTION code_compiler
806   0000              ;	---------------------------------
807   0000              ; Function player_init
808   0000              ; ---------------------------------
809   0000              _player_init:
810   0000  CD 00 00    	call	___sdcc_enter_ix
811   0003  F5          	push	af
812   0004  3E 00       	ld	a, +((_class) & 0xFF)
813   0006  DD 86 04    	add	a,(ix+4)
814   0009  4F          	ld	c, a
815   000A  3E 00       	ld	a, +((_class) / 256)
816   000C  CE 00       	adc	a,0x00
817   000E  47          	ld	b, a
818   000F  3E 10       	ld	a,0x10
819   0011  02          	ld	(bc), a
820   0012  3E 00       	ld	a, +((_tile) & 0xFF)
821   0014  DD 86 04    	add	a,(ix+4)
822   0017  4F          	ld	c, a
823   0018  3E 00       	ld	a, +((_tile) / 256)
824   001A  CE 00       	adc	a,0x00
825   001C  47          	ld	b, a
826   001D  DD 7E 07    	ld	a,(ix+7)
827   0020  02          	ld	(bc), a
828   0021  3E 00       	ld	a, +((_lin) & 0xFF)
829   0023  DD 86 04    	add	a,(ix+4)
830   0026  4F          	ld	c, a
831   0027  3E 00       	ld	a, +((_lin) / 256)
832   0029  CE 00       	adc	a,0x00
833   002B  47          	ld	b, a
834   002C  DD 7E 05    	ld	a,(ix+5)
835   002F  02          	ld	(bc), a
836   0030  3E 00       	ld	a, +((_col) & 0xFF)
837   0032  DD 86 04    	add	a,(ix+4)
838   0035  4F          	ld	c, a
839   0036  3E 00       	ld	a, +((_col) / 256)
840   0038  CE 00       	adc	a,0x00
841   003A  47          	ld	b, a
842   003B  DD 7E 06    	ld	a,(ix+6)
843   003E  02          	ld	(bc), a
844   003F  3E 00       	ld	a, +((_colint) & 0xFF)
845   0041  DD 86 04    	add	a,(ix+4)
846   0044  4F          	ld	c, a
847   0045  3E 00       	ld	a, +((_colint) / 256)
848   0047  CE 00       	adc	a,0x00
849   0049  47          	ld	b, a
850   004A  AF          	xor	a, a
851   004B  02          	ld	(bc), a
852   004C  3E 00       	ld	a, +((_state) & 0xFF)
853   004E  DD 86 04    	add	a,(ix+4)
854   0051  4F          	ld	c, a
855   0052  3E 00       	ld	a, +((_state) / 256)
856   0054  CE 00       	adc	a,0x00
857   0056  47          	ld	b, a
858   0057  AF          	xor	a, a
859   0058  02          	ld	(bc), a
860   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
861   005B  DD 86 04    	add	a,(ix+4)
862   005E  4F          	ld	c, a
863   005F  3E 00       	ld	a, +((_state_a) / 256)
864   0061  CE 00       	adc	a,0x00
865   0063  47          	ld	b, a
866   0064  AF          	xor	a, a
867   0065  02          	ld	(bc), a
868   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
869   0068  DD 86 04    	add	a,(ix+4)
870   006B  5F          	ld	e, a
871   006C  3E 00       	ld	a, +((_jump_lin) / 256)
872   006E  CE 00       	adc	a,0x00
873   0070  57          	ld	d, a
874   0071  DD 7E 05    	ld	a,(ix+5)
875   0074  12          	ld	(de), a
876   0075  DD 6E 04    	ld	l,(ix+4)
877   0078  26 00       	ld	h,0x00
878   007A  29          	add	hl,hl
879   007B  11 00 00    	ld	de,_last_time
880   007E  19          	add	hl, de
881   007F  E3          	ex	(sp), hl
882   0080  E1          	pop	hl
883   0081  ED 5B 00 00 	ld	de,(_curr_time)
884   0085  E5          	push	hl
885   0086  73          	ld	(hl), e
886   0087  23          	inc	hl
887   0088  72          	ld	(hl), d
888   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
889   008B  DD 86 04    	add	a,(ix+4)
890   008E  5F          	ld	e, a
891   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
892   0091  CE 00       	adc	a,0x00
893   0093  57          	ld	d, a
894   0094  AF          	xor	a, a
895   0095  12          	ld	(de), a
896   0096  0A          	ld	a, (bc)
897   0097  F6 01       	or	a,0x01
898   0099  02          	ld	(bc),a
899   009A  5F          	ld	e, a
900   009B  DD 7E 04    	ld	a,(ix+4)
901   009E  D6 07       	sub	a,0x07
902   00A0  20 0B       	jr	NZ,l_player_init_00102
903   00A2  21 00 00    	ld	hl,_index_player
904   00A5  36 00       	ld	(hl),0x00
905   00A7  7B          	ld	a, e
906   00A8  F6 10       	or	a,0x10
907   00AA  02          	ld	(bc), a
908   00AB  18 09       	jr	l_player_init_00103
909   00AD              l_player_init_00102:
910   00AD  21 00 00    	ld	hl,_index_player
911   00B0  36 01       	ld	(hl),0x01
912   00B2  7B          	ld	a, e
913   00B3  F6 08       	or	a,0x08
914   00B5  02          	ld	(bc), a
915   00B6              l_player_init_00103:
916   00B6  2A 00 00    	ld	hl,(_index_player)
917   00B9  26 00       	ld	h,0x00
918   00BB  01 00 00    	ld	bc,_hit_col
919   00BE  09          	add	hl,bc
920   00BF  AF          	xor	a,a
921   00C0  77          	ld	(hl),a
922   00C1  2A 00 00    	ld	hl,(_index_player)
923   00C4  26 00       	ld	h,0x00
924   00C6  01 00 00    	ld	bc,_hit_lin
925   00C9  09          	add	hl,bc
926   00CA  AF          	xor	a,a
927   00CB  77          	ld	(hl),a
928   00CC  2A 00 00    	ld	hl,(_index_player)
929   00CF  26 00       	ld	h,0x00
930   00D1  01 00 00    	ld	bc,_sliding
931   00D4  09          	add	hl,bc
932   00D5  AF          	xor	a,a
933   00D6  77          	ld	(hl),a
934   00D7  2A 00 00    	ld	hl,(_index_player)
935   00DA  26 00       	ld	h,0x00
936   00DC  01 00 00    	ld	bc,_player_jump_c
937   00DF  09          	add	hl,bc
938   00E0  AF          	xor	a,a
939   00E1  77          	ld	(hl),a
940   00E2  DD 66 06    	ld	h,(ix+6)
941   00E5  DD 6E 05    	ld	l,(ix+5)
942   00E8  E5          	push	hl
943   00E9  DD 66 07    	ld	h,(ix+7)
944   00EC  DD 6E 04    	ld	l,(ix+4)
945   00EF  E5          	push	hl
946   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
947   00F3  F1          	pop	af
948   00F4  DD E1       	pop	ix
949   00F6  C9          	ret
950   00F7              	SECTION code_compiler
951   00F7              ;	---------------------------------
952   00F7              ; Function player_calc_slide
953   00F7              ; ---------------------------------
954   00F7              _player_calc_slide:
955   00F7  2A 00 00    	ld	hl,(_index_player)
956   00FA  26 00       	ld	h,0x00
957   00FC  01 00 00    	ld	bc,_sliding
958   00FF  09          	add	hl,bc
959   0100  36 02       	ld	(hl),0x02
960   0102  C9          	ret
961   0103              	SECTION code_compiler
962   0103              ;	---------------------------------
963   0103              ; Function player_check_input
964   0103              ; ---------------------------------
965   0103              _player_check_input:
966   0103  21 00 00    	ld	hl,_dirs
967   0106  7E          	ld	a, (hl)
968   0107  CB 07       	rlc	a
969   0109  E6 01       	and	a,0x01
970   010B  CB 47       	bit	0, a
971   010D  20 0F       	jr	NZ,l_player_check_input_00104
972   010F  CB 56       	bit	2, (hl)
973   0111  20 0B       	jr	NZ,l_player_check_input_00104
974   0113  21 00 00    	ld	hl,_dirs
975   0116  CB 5E       	bit	3, (hl)
976   0118  20 04       	jr	NZ,l_player_check_input_00104
977   011A  2E 00       	ld	l,0x00
978   011C  18 02       	jr	l_player_check_input_00105
979   011E              l_player_check_input_00104:
980   011E  2E 01       	ld	l,0x01
981   0120              l_player_check_input_00105:
982   0120  C9          	ret
983   0121              	SECTION code_compiler
984   0121              ;	---------------------------------
985   0121              ; Function player_collision
986   0121              ; ---------------------------------
987   0121              _player_collision:
988   0121  2A 00 00    	ld	hl,(_sprite)
989   0124  26 00       	ld	h,0x00
990   0126  01 00 00    	ld	bc,_class
991   0129  09          	add	hl,bc
992   012A  7E          	ld	a,(hl)
993   012B  B7          	or	a,a
994   012C  20 04       	jr	NZ,l_player_collision_00102
995   012E  6F          	ld	l,a
996   012F  C3 75 02    	jp	l_player_collision_00133
997   0132              l_player_collision_00102:
998   0132  2A 00 00    	ld	hl,(_sprite)
999   0135  26 00       	ld	h,0x00
1000  0137  01 00 00    	ld	bc,_state
1001  013A  09          	add	hl,bc
1002  013B  7E          	ld	a,(hl)
1003  013C  CB 67       	bit	4, a
1004  013E  28 05       	jr	Z,l_player_collision_00104
1005  0140  2E 00       	ld	l,0x00
1006  0142  C3 75 02    	jp	l_player_collision_00133
1007  0145              l_player_collision_00104:
1008  0145  CB 6F       	bit	5, a
1009  0147  28 05       	jr	Z,l_player_collision_00106
1010  0149  2E 00       	ld	l,0x00
1011  014B  C3 75 02    	jp	l_player_collision_00133
1012  014E              l_player_collision_00106:
1013  014E  21 00 00    	ld	hl,_hit_count
1014  0151  36 00       	ld	(hl),0x00
1015  0153  21 00 00    	ld	hl,_enemies
1016  0156  36 00       	ld	(hl),0x00
1017  0158              l_player_collision_00131:
1018  0158  2A 00 00    	ld	hl,(_enemies)
1019  015B  26 0E       	ld	h,0x0e
1020  015D  3A 00 00    	ld	a,(_sprite)
1021  0160  E5          	push	hl
1022  0161  F5          	push	af
1023  0162  33          	inc	sp
1024  0163  CD 00 00    	call	_spr_collision_check
1025  0166  F1          	pop	af
1026  0167  33          	inc	sp
1027  0168  7D          	ld	a, l
1028  0169  B7          	or	a, a
1029  016A  28 50       	jr	Z,l_player_collision_00132
1030  016C  2A 00 00    	ld	hl,(_enemies)
1031  016F  26 00       	ld	h,0x00
1032  0171  01 00 00    	ld	bc,_state
1033  0174  09          	add	hl,bc
1034  0175  CB 66       	bit	4,(hl)
1035  0177  28 08       	jr	Z,l_player_collision_00117
1036  0179  2A 00 00    	ld	hl,(_enemies)
1037  017C  CD 00 00    	call	_enemy_kill
1038  017F  18 3B       	jr	l_player_collision_00132
1039  0181              l_player_collision_00117:
1040  0181  2A 00 00    	ld	hl,(_enemies)
1041  0184  26 00       	ld	h,0x00
1042  0186  01 00 00    	ld	bc,_class
1043  0189  09          	add	hl,bc
1044  018A  7E          	ld	a,(hl)
1045  018B  FE 08       	cp	a,0x08
1046  018D  28 04       	jr	Z,l_player_collision_00112
1047  018F  D6 0C       	sub	a,0x0c
1048  0191  20 0C       	jr	NZ,l_player_collision_00113
1049  0193              l_player_collision_00112:
1050  0193  2A 00 00    	ld	hl,(_enemies)
1051  0196  26 50       	ld	h,0x50
1052  0198  E5          	push	hl
1053  0199  CD 1C 0A    	call	_player_coin
1054  019C  F1          	pop	af
1055  019D  18 1D       	jr	l_player_collision_00132
1056  019F              l_player_collision_00113:
1057  019F  21 00 00    	ld	hl,_ay_effect_18
1058  01A2  CD 00 00    	call	_ay_fx_play
1059  01A5  3A 00 00    	ld	a,(_game_god_mode)
1060  01A8  B7          	or	a, a
1061  01A9  28 08       	jr	Z,l_player_collision_00110
1062  01AB  2A 00 00    	ld	hl,(_enemies)
1063  01AE  CD 00 00    	call	_enemy_kill
1064  01B1  18 09       	jr	l_player_collision_00132
1065  01B3              l_player_collision_00110:
1066  01B3  3A 00 00    	ld	a,(_game_inmune)
1067  01B6  B7          	or	a, a
1068  01B7  20 03       	jr	NZ,l_player_collision_00132
1069  01B9  CD 76 02    	call	_player_kill
1070  01BC              l_player_collision_00132:
1071  01BC  21 00 00    	ld	hl,_enemies
1072  01BF  7E          	ld	a,(hl)
1073  01C0  3C          	inc	a
1074  01C1  77          	ld	(hl),a
1075  01C2  D6 06       	sub	a,0x06
1076  01C4  38 92       	jr	C,l_player_collision_00131
1077  01C6  3A 00 00    	ld	a,(_hit_count)
1078  01C9  B7          	or	a, a
1079  01CA  CA 73 02    	jp	Z, l_player_collision_00129
1080  01CD  2A 00 00    	ld	hl,(_sprite)
1081  01D0  26 00       	ld	h,0x00
1082  01D2  01 00 00    	ld	bc,_lin
1083  01D5  09          	add	hl,bc
1084  01D6  4E          	ld	c,(hl)
1085  01D7  3E 18       	ld	a,0x18
1086  01D9  91          	sub	a, c
1087  01DA  D2 73 02    	jp	NC, l_player_collision_00129
1088  01DD  2A 00 00    	ld	hl,(_index_player)
1089  01E0  26 00       	ld	h,0x00
1090  01E2  01 00 00    	ld	bc,_score_osd_col
1091  01E5  09          	add	hl,bc
1092  01E6  7E          	ld	a,(hl)
1093  01E7  47          	ld	b,a
1094  01E8  3C          	inc	a
1095  01E9  28 12       	jr	Z,l_player_collision_00123
1096  01EB  3A 00 00    	ld	a,(_index_player)
1097  01EE  5F          	ld	e,a
1098  01EF  16 00       	ld	d,0x00
1099  01F1  21 00 00    	ld	hl,_score_osd_lin
1100  01F4  19          	add	hl,de
1101  01F5  4E          	ld	c, (hl)
1102  01F6  C5          	push	bc
1103  01F7  AF          	xor	a, a
1104  01F8  F5          	push	af
1105  01F9  33          	inc	sp
1106  01FA  CD 00 00    	call	_NIRVANAP_drawT_callee
1107  01FD              l_player_collision_00123:
1108  01FD  2A 00 00    	ld	hl,(_index_player)
1109  0200  26 00       	ld	h,0x00
1110  0202  01 00 00    	ld	bc,_score_osd_col
1111  0205  09          	add	hl,bc
1112  0206  4D          	ld	c,l
1113  0207  44          	ld	b,h
1114  0208  2A 00 00    	ld	hl,(_sprite)
1115  020B  26 00       	ld	h,0x00
1116  020D  11 00 00    	ld	de,_col
1117  0210  19          	add	hl,de
1118  0211  7E          	ld	a,(hl)
1119  0212  02          	ld	(bc), a
1120  0213  2A 00 00    	ld	hl,(_index_player)
1121  0216  26 00       	ld	h,0x00
1122  0218  01 00 00    	ld	bc,_score_osd_lin
1123  021B  09          	add	hl,bc
1124  021C  4D          	ld	c,l
1125  021D  44          	ld	b,h
1126  021E  2A 00 00    	ld	hl,(_sprite)
1127  0221  26 00       	ld	h,0x00
1128  0223  11 00 00    	ld	de,_lin
1129  0226  19          	add	hl,de
1130  0227  7E          	ld	a,(hl)
1131  0228  C6 FA       	add	a,0xfa
1132  022A  02          	ld	(bc), a
1133  022B  01 00 00    	ld	bc,_score_osd_update_time+0
1134  022E  2A 00 00    	ld	hl,(_index_player)
1135  0231  26 00       	ld	h,0x00
1136  0233  29          	add	hl, hl
1137  0234  09          	add	hl,bc
1138  0235  ED 5B 00 00 	ld	de,(_curr_time)
1139  0239  73          	ld	(hl),e
1140  023A  23          	inc	hl
1141  023B  72          	ld	(hl),d
1142  023C  01 00 00    	ld	bc,_score_osd_tile+0
1143  023F  2A 00 00    	ld	hl,(_index_player)
1144  0242  26 00       	ld	h,0x00
1145  0244  29          	add	hl, hl
1146  0245  09          	add	hl, bc
1147  0246  36 BC       	ld	(hl),0xbc
1148  0248  23          	inc	hl
1149  0249  36 00       	ld	(hl),0x00
1150  024B  3E 01       	ld	a,0x01
1151  024D  21 00 00    	ld	hl,_hit_count
1152  0250  96          	sub	a, (hl)
1153  0251  30 0C       	jr	NC,l_player_collision_00125
1154  0253  2A 00 00    	ld	hl,(_index_player)
1155  0256  26 00       	ld	h,0x00
1156  0258  29          	add	hl, hl
1157  0259  09          	add	hl, bc
1158  025A  36 D7       	ld	(hl),0xd7
1159  025C  23          	inc	hl
1160  025D  36 00       	ld	(hl),0x00
1161  025F              l_player_collision_00125:
1162  025F  3E 06       	ld	a,0x06
1163  0261  21 00 00    	ld	hl,_hit_count
1164  0264  96          	sub	a, (hl)
1165  0265  30 0C       	jr	NC,l_player_collision_00129
1166  0267  2A 00 00    	ld	hl,(_index_player)
1167  026A  26 00       	ld	h,0x00
1168  026C  29          	add	hl, hl
1169  026D  09          	add	hl, bc
1170  026E  36 CB       	ld	(hl),0xcb
1171  0270  23          	inc	hl
1172  0271  36 00       	ld	(hl),0x00
1173  0273              l_player_collision_00129:
1174  0273  2E 00       	ld	l,0x00
1175  0275              l_player_collision_00133:
1176  0275  C9          	ret
1177  0276              	SECTION code_compiler
1178  0276              ;	---------------------------------
1179  0276              ; Function player_kill
1180  0276              ; ---------------------------------
1181  0276              _player_kill:
1182  0276  01 00 00    	ld	bc,_state+0
1183  0279  2A 00 00    	ld	hl,(_sprite)
1184  027C  26 00       	ld	h,0x00
1185  027E  09          	add	hl,bc
1186  027F  CB 6E       	bit	5,(hl)
1187  0281  C2 48 03    	jp	NZ,l_player_kill_00109
1188  0284  C5          	push	bc
1189  0285  CD 00 00    	call	_sound_hit_brick
1190  0288  C1          	pop	bc
1191  0289  79          	ld	a, c
1192  028A  21 00 00    	ld	hl,_sprite
1193  028D  86          	add	a, (hl)
1194  028E  5F          	ld	e, a
1195  028F  78          	ld	a, b
1196  0290  CE 00       	adc	a,0x00
1197  0292  57          	ld	d, a
1198  0293  1A          	ld	a, (de)
1199  0294  F6 20       	or	a,0x20
1200  0296  12          	ld	(de), a
1201  0297  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1202  0299  86          	add	a, (hl)
1203  029A  5F          	ld	e, a
1204  029B  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1205  029D  CE 00       	adc	a,0x00
1206  029F  57          	ld	d, a
1207  02A0  3E 03       	ld	a,0x03
1208  02A2  12          	ld	(de), a
1209  02A3  79          	ld	a, c
1210  02A4  86          	add	a, (hl)
1211  02A5  4F          	ld	c, a
1212  02A6  78          	ld	a, b
1213  02A7  CE 00       	adc	a,0x00
1214  02A9  47          	ld	b, a
1215  02AA  0A          	ld	a, (bc)
1216  02AB  CB 57       	bit	2, a
1217  02AD  28 0D       	jr	Z,l_player_kill_00102
1218  02AF  2A 00 00    	ld	hl,(_sprite)
1219  02B2  26 00       	ld	h,0x00
1220  02B4  01 00 00    	ld	bc,_tile
1221  02B7  09          	add	hl,bc
1222  02B8  36 40       	ld	(hl),0x40
1223  02BA  18 0B       	jr	l_player_kill_00103
1224  02BC              l_player_kill_00102:
1225  02BC  2A 00 00    	ld	hl,(_sprite)
1226  02BF  26 00       	ld	h,0x00
1227  02C1  01 00 00    	ld	bc,_tile
1228  02C4  09          	add	hl,bc
1229  02C5  36 48       	ld	(hl),0x48
1230  02C7              l_player_kill_00103:
1231  02C7  CD DE 09    	call	_player_hit_brick_clear
1232  02CA  2A 00 00    	ld	hl,(_sprite)
1233  02CD  26 00       	ld	h,0x00
1234  02CF  01 00 00    	ld	bc,_col
1235  02D2  09          	add	hl,bc
1236  02D3  4E          	ld	c, (hl)
1237  02D4  2A 00 00    	ld	hl,(_sprite)
1238  02D7  26 00       	ld	h,0x00
1239  02D9  11 00 00    	ld	de,_lin
1240  02DC  19          	add	hl,de
1241  02DD  46          	ld	b, (hl)
1242  02DE  2A 00 00    	ld	hl,(_sprite)
1243  02E1  26 00       	ld	h,0x00
1244  02E3  11 00 00    	ld	de,_tile
1245  02E6  19          	add	hl,de
1246  02E7  56          	ld	d, (hl)
1247  02E8  79          	ld	a,c
1248  02E9  21 00 00    	ld	hl,_sprite
1249  02EC  F5          	push	af
1250  02ED  33          	inc	sp
1251  02EE  4A          	ld	c, d
1252  02EF  7E          	ld	a,(hl)
1253  02F0  C5          	push	bc
1254  02F1  F5          	push	af
1255  02F2  33          	inc	sp
1256  02F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1257  02F6  01 00 00    	ld	bc,_spr_timer+0
1258  02F9  2A 00 00    	ld	hl,(_sprite)
1259  02FC  26 00       	ld	h,0x00
1260  02FE  29          	add	hl, hl
1261  02FF  09          	add	hl,bc
1262  0300  ED 5B 00 00 	ld	de,(_curr_time)
1263  0304  73          	ld	(hl),e
1264  0305  23          	inc	hl
1265  0306  72          	ld	(hl),d
1266  0307  3A 00 00    	ld	a,(_sprite)
1267  030A  D6 07       	sub	a,0x07
1268  030C  20 1E       	jr	NZ,l_player_kill_00105
1269  030E  01 00 00    	ld	bc,_state_a+0
1270  0311  79          	ld	a, c
1271  0312  21 00 00    	ld	hl,_sprite
1272  0315  86          	add	a, (hl)
1273  0316  5F          	ld	e, a
1274  0317  78          	ld	a, b
1275  0318  CE 00       	adc	a,0x00
1276  031A  57          	ld	d, a
1277  031B  1A          	ld	a, (de)
1278  031C  F6 08       	or	a,0x08
1279  031E  12          	ld	(de), a
1280  031F  79          	ld	a, c
1281  0320  86          	add	a, (hl)
1282  0321  4F          	ld	c, a
1283  0322  78          	ld	a, b
1284  0323  CE 00       	adc	a,0x00
1285  0325  47          	ld	b, a
1286  0326  0A          	ld	a, (bc)
1287  0327  E6 EF       	and	a,0xef
1288  0329  02          	ld	(bc), a
1289  032A  18 1C       	jr	l_player_kill_00109
1290  032C              l_player_kill_00105:
1291  032C  01 00 00    	ld	bc,_state_a+0
1292  032F  79          	ld	a, c
1293  0330  21 00 00    	ld	hl,_sprite
1294  0333  86          	add	a, (hl)
1295  0334  5F          	ld	e, a
1296  0335  78          	ld	a, b
1297  0336  CE 00       	adc	a,0x00
1298  0338  57          	ld	d, a
1299  0339  1A          	ld	a, (de)
1300  033A  F6 10       	or	a,0x10
1301  033C  12          	ld	(de), a
1302  033D  79          	ld	a, c
1303  033E  86          	add	a, (hl)
1304  033F  4F          	ld	c, a
1305  0340  78          	ld	a, b
1306  0341  CE 00       	adc	a,0x00
1307  0343  47          	ld	b, a
1308  0344  0A          	ld	a, (bc)
1309  0345  E6 F7       	and	a,0xf7
1310  0347  02          	ld	(bc), a
1311  0348              l_player_kill_00109:
1312  0348  C9          	ret
1313  0349              	SECTION code_compiler
1314  0349              ;	---------------------------------
1315  0349              ; Function player_restart
1316  0349              ; ---------------------------------
1317  0349              _player_restart:
1318  0349  CD 00 00    	call	___sdcc_enter_ix
1319  034C  F5          	push	af
1320  034D  3E 00       	ld	a,+((_col) & 0xFF)
1321  034F  85          	add	a,l
1322  0350  4D          	ld	c,l
1323  0351  5F          	ld	e, a
1324  0352  3E 00       	ld	a, +((_col) / 256)
1325  0354  CE 00       	adc	a,0x00
1326  0356  57          	ld	d, a
1327  0357  1A          	ld	a, (de)
1328  0358  D6 04       	sub	a,0x04
1329  035A  30 0C       	jr	NC,l_player_restart_00102
1330  035C  C5          	push	bc
1331  035D  D5          	push	de
1332  035E  21 E0 01    	ld	hl,0x01e0
1333  0361  E5          	push	hl
1334  0362  CD 00 00    	call	_spr_back_paint
1335  0365  F1          	pop	af
1336  0366  D1          	pop	de
1337  0367  C1          	pop	bc
1338  0368              l_player_restart_00102:
1339  0368  1A          	ld	a, (de)
1340  0369  47          	ld	b, a
1341  036A  3E 1A       	ld	a,0x1a
1342  036C  90          	sub	a, b
1343  036D  30 0A       	jr	NC,l_player_restart_00104
1344  036F  C5          	push	bc
1345  0370  21 FA 01    	ld	hl,0x01fa
1346  0373  E5          	push	hl
1347  0374  CD 00 00    	call	_spr_back_paint
1348  0377  F1          	pop	af
1349  0378  C1          	pop	bc
1350  0379              l_player_restart_00104:
1351  0379  21 00 00    	ld	hl,_ay_effect_15
1352  037C  CD 00 00    	call	_ay_fx_play
1353  037F  C5          	push	bc
1354  0380  21 0E 58    	ld	hl,0x580e
1355  0383  E5          	push	hl
1356  0384  21 07 00    	ld	hl,0x0007
1357  0387  E5          	push	hl
1358  0388  CD 00 00    	call	_player_init
1359  038B  F1          	pop	af
1360  038C  F1          	pop	af
1361  038D  C1          	pop	bc
1362  038E  11 00 00    	ld	de,_state+0
1363  0391  69          	ld	l,c
1364  0392  26 00       	ld	h,0x00
1365  0394  19          	add	hl, de
1366  0395  CB E6       	set	4, (hl)
1367  0397  11 00 00    	ld	de,_state_a+0
1368  039A  69          	ld	l,c
1369  039B  26 00       	ld	h,0x00
1370  039D  19          	add	hl, de
1371  039E  CB C6       	set	0, (hl)
1372  03A0  11 00 00    	ld	de,_spr_timer+0
1373  03A3  69          	ld	l, c
1374  03A4  26 00       	ld	h,0x00
1375  03A6  29          	add	hl, hl
1376  03A7  19          	add	hl,de
1377  03A8  E3          	ex	(sp), hl
1378  03A9  E1          	pop	hl
1379  03AA  ED 5B 00 00 	ld	de,(_curr_time)
1380  03AE  E5          	push	hl
1381  03AF  73          	ld	(hl), e
1382  03B0  23          	inc	hl
1383  03B1  72          	ld	(hl), d
1384  03B2  11 00 00    	ld	de,_sprite_speed_alt+0
1385  03B5  69          	ld	l,c
1386  03B6  26 00       	ld	h,0x00
1387  03B8  19          	add	hl, de
1388  03B9  F1          	pop	af
1389  03BA  36 08       	ld	(hl),0x08
1390  03BC  DD E1       	pop	ix
1391  03BE  C9          	ret
1392  03BF              	SECTION code_compiler
1393  03BF              ;	---------------------------------
1394  03BF              ; Function player_lost_life
1395  03BF              ; ---------------------------------
1396  03BF              _player_lost_life:
1397  03BF  CD 00 00    	call	_sound_hit_enemy
1398  03C2  01 00 00    	ld	bc,_game_lives+0
1399  03C5  79          	ld	a, c
1400  03C6  21 00 00    	ld	hl,_index_player
1401  03C9  86          	add	a, (hl)
1402  03CA  5F          	ld	e, a
1403  03CB  78          	ld	a, b
1404  03CC  CE 00       	adc	a,0x00
1405  03CE  57          	ld	d, a
1406  03CF  1A          	ld	a, (de)
1407  03D0  C6 FF       	add	a,0xff
1408  03D2  12          	ld	(de), a
1409  03D3  79          	ld	a, c
1410  03D4  86          	add	a, (hl)
1411  03D5  5F          	ld	e, a
1412  03D6  78          	ld	a, b
1413  03D7  CE 00       	adc	a,0x00
1414  03D9  57          	ld	d, a
1415  03DA  1A          	ld	a, (de)
1416  03DB  B7          	or	a, a
1417  03DC  20 13       	jr	NZ,l_player_lost_life_00105
1418  03DE  0A          	ld	a, (bc)
1419  03DF  B7          	or	a, a
1420  03E0  20 0B       	jr	NZ,l_player_lost_life_00102
1421  03E2  3A 01 00    	ld	a, (_game_lives + 1)
1422  03E5  B7          	or	a, a
1423  03E6  20 05       	jr	NZ,l_player_lost_life_00102
1424  03E8  21 00 00    	ld	hl,_game_over
1425  03EB  36 01       	ld	(hl),0x01
1426  03ED              l_player_lost_life_00102:
1427  03ED  2E 00       	ld	l,0x00
1428  03EF  18 05       	jr	l_player_lost_life_00106
1429  03F1              l_player_lost_life_00105:
1430  03F1  CD 00 00    	call	_game_print_lives
1431  03F4  2E 01       	ld	l,0x01
1432  03F6              l_player_lost_life_00106:
1433  03F6  C9          	ret
1434  03F7              	SECTION code_compiler
1435  03F7              ;	---------------------------------
1436  03F7              ; Function player_turn
1437  03F7              ; ---------------------------------
1438  03F7              _player_turn:
1439  03F7  2A 00 00    	ld	hl,(_sprite)
1440  03FA  26 00       	ld	h,0x00
1441  03FC  01 00 00    	ld	bc,_class
1442  03FF  09          	add	hl,bc
1443  0400  7E          	ld	a,(hl)
1444  0401  D6 10       	sub	a,0x10
1445  0403  C0          	ret	NZ
1446  0404  2A 00 00    	ld	hl,(_index_player)
1447  0407  26 00       	ld	h,0x00
1448  0409  01 00 00    	ld	bc,_game_lives
1449  040C  09          	add	hl,bc
1450  040D  7E          	ld	a,(hl)
1451  040E  B7          	or	a, a
1452  040F  C8          	ret	Z
1453  0410  21 00 00    	ld	hl,_sprite
1454  0413  CD 00 00    	call	_spr_chktime
1455  0416  7D          	ld	a, l
1456  0417  B7          	or	a, a
1457  0418  C8          	ret	Z
1458  0419  21 00 00    	ld	hl,_dirs
1459  041C  36 00       	ld	(hl),0x00
1460  041E  21 00 00    	ld	hl,_k1
1461  0421  E5          	push	hl
1462  0422  2A 00 00    	ld	hl,(_joyfunc1)
1463  0425  CD 00 00    	call	___sdcc_call_hl
1464  0428  F1          	pop	af
1465  0429  7D          	ld	a,l
1466  042A  32 00 00    	ld	(_dirs),a
1467  042D  CD 33 04    	call	_player_move
1468  0430  C3 21 01    	jp  _player_collision
1469  0433              	SECTION code_compiler
1470  0433              ;	---------------------------------
1471  0433              ; Function player_move
1472  0433              ; ---------------------------------
1473  0433              _player_move:
1474  0433  CD 00 00    	call	___sdcc_enter_ix
1475  0436  2A 00 00    	ld	hl,(_sprite)
1476  0439  F5          	push	af
1477  043A  26 00       	ld	h,0x00
1478  043C  01 00 00    	ld	bc,_lin
1479  043F  09          	add	hl,bc
1480  0440  7E          	ld	a,(hl)
1481  0441  32 00 00    	ld	(_s_lin0),a
1482  0444  2A 00 00    	ld	hl,(_sprite)
1483  0447  26 00       	ld	h,0x00
1484  0449  01 00 00    	ld	bc,_col
1485  044C  09          	add	hl,bc
1486  044D  7E          	ld	a,(hl)
1487  044E  32 00 00    	ld	(_s_col0),a
1488  0451  3E 00       	ld	a, +((_tile) & 0xFF)
1489  0453  21 00 00    	ld	hl,_sprite
1490  0456  86          	add	a, (hl)
1491  0457  DD 77 FE    	ld	(ix-2),a
1492  045A  3E 00       	ld	a, +((_tile) / 256)
1493  045C  CE 00       	adc	a,0x00
1494  045E  DD 77 FF    	ld	(ix-1),a
1495  0461  E1          	pop	hl
1496  0462  4E          	ld	c,(hl)
1497  0463  E5          	push	hl
1498  0464  2A 00 00    	ld	hl,(_sprite)
1499  0467  26 00       	ld	h,0x00
1500  0469  11 00 00    	ld	de,_colint
1501  046C  19          	add	hl,de
1502  046D  7E          	ld	a,(hl)
1503  046E  81          	add	a,c
1504  046F  32 00 00    	ld	(_s_tile0),a
1505  0472  2A 00 00    	ld	hl,(_sprite)
1506  0475  26 00       	ld	h,0x00
1507  0477  01 00 00    	ld	bc,_state
1508  047A  09          	add	hl,bc
1509  047B  7E          	ld	a,(hl)
1510  047C  CB 6F       	bit	5,a
1511  047E  32 00 00    	ld	(_s_state),a
1512  0481  28 2A       	jr	Z,l_player_move_00104
1513  0483  E1          	pop	hl
1514  0484  E5          	push	hl
1515  0485  36 40       	ld	(hl),0x40
1516  0487  01 00 00    	ld	bc,_spr_timer+0
1517  048A  2A 00 00    	ld	hl,(_sprite)
1518  048D  26 00       	ld	h,0x00
1519  048F  29          	add	hl, hl
1520  0490  09          	add	hl, bc
1521  0491  4E          	ld	c, (hl)
1522  0492  23          	inc	hl
1523  0493  46          	ld	b, (hl)
1524  0494  21 28 00    	ld	hl,0x0028
1525  0497  E5          	push	hl
1526  0498  C5          	push	bc
1527  0499  CD 00 00    	call	_game_check_time
1528  049C  F1          	pop	af
1529  049D  F1          	pop	af
1530  049E  7D          	ld	a, l
1531  049F  B7          	or	a, a
1532  04A0  28 06       	jr	Z,l_player_move_00102
1533  04A2  2A 00 00    	ld	hl,(_sprite)
1534  04A5  CD 00 00    	call	_spr_killed
1535  04A8              l_player_move_00102:
1536  04A8  2E 00       	ld	l,0x00
1537  04AA  C3 DB 05    	jp	l_player_move_00132
1538  04AD              l_player_move_00104:
1539  04AD  CD DF 05    	call	_player_move_input
1540  04B0  2A 00 00    	ld	hl,(_sprite)
1541  04B3  26 00       	ld	h,0x00
1542  04B5  01 00 00    	ld	bc,_state
1543  04B8  09          	add	hl,bc
1544  04B9  7E          	ld	a,(hl)
1545  04BA  21 00 00    	ld	hl,_s_state
1546  04BD  77          	ld	(hl),a
1547  04BE  E6 01       	and	a,0x01
1548  04C0  4F          	ld	c,a
1549  04C1  B7          	or	a, a
1550  04C2  20 0A       	jr	NZ,l_player_move_00127
1551  04C4  CB 4E       	bit	1, (hl)
1552  04C6  20 06       	jr	NZ,l_player_move_00127
1553  04C8  CD 67 0B    	call	_player_check_floor
1554  04CB  C3 AB 05    	jp	l_player_move_00128
1555  04CE              l_player_move_00127:
1556  04CE  21 00 00    	ld	hl,_sprite_lin_inc_mul
1557  04D1  36 02       	ld	(hl),0x02
1558  04D3  2A 00 00    	ld	hl,(_index_player)
1559  04D6  26 00       	ld	h,0x00
1560  04D8  11 00 00    	ld	de,_player_jump_c
1561  04DB  19          	add	hl,de
1562  04DC  46          	ld	b, (hl)
1563  04DD  3E 03       	ld	a,0x03
1564  04DF  90          	sub	a, b
1565  04E0  30 05       	jr	NC,l_player_move_00106
1566  04E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
1567  04E5  36 01       	ld	(hl),0x01
1568  04E7              l_player_move_00106:
1569  04E7  3E 08       	ld	a,0x08
1570  04E9  90          	sub	a, b
1571  04EA  30 05       	jr	NC,l_player_move_00108
1572  04EC  21 00 00    	ld	hl,_sprite_lin_inc_mul
1573  04EF  36 00       	ld	(hl),0x00
1574  04F1              l_player_move_00108:
1575  04F1  3E 0C       	ld	a,0x0c
1576  04F3  90          	sub	a, b
1577  04F4  30 05       	jr	NC,l_player_move_00110
1578  04F6  21 00 00    	ld	hl,_sprite_lin_inc_mul
1579  04F9  36 01       	ld	(hl),0x01
1580  04FB              l_player_move_00110:
1581  04FB  3E 11       	ld	a,0x11
1582  04FD  90          	sub	a, b
1583  04FE  30 05       	jr	NC,l_player_move_00112
1584  0500  21 00 00    	ld	hl,_sprite_lin_inc_mul
1585  0503  36 02       	ld	(hl),0x02
1586  0505              l_player_move_00112:
1587  0505  79          	ld	a, c
1588  0506  B7          	or	a, a
1589  0507  28 1D       	jr	Z,l_player_move_00124
1590  0509  78          	ld	a, b
1591  050A  D6 0A       	sub	a,0x0a
1592  050C  30 13       	jr	NC,l_player_move_00116
1593  050E  2A 00 00    	ld	hl,(_sprite)
1594  0511  26 00       	ld	h,0x00
1595  0513  01 00 00    	ld	bc,_state_a
1596  0516  09          	add	hl,bc
1597  0517  7E          	ld	a,(hl)
1598  0518  07          	rlca
1599  0519  DA 99 05    	jp	C,l_player_move_00125
1600  051C  CD 00 00    	call	_spr_move_up
1601  051F  18 78       	jr	l_player_move_00125
1602  0521              l_player_move_00116:
1603  0521  CD 00 00    	call	_spr_set_fall
1604  0524  18 73       	jr	l_player_move_00125
1605  0526              l_player_move_00124:
1606  0526  CD 00 00    	call	_spr_move_down
1607  0529  7D          	ld	a, l
1608  052A  B7          	or	a, a
1609  052B  28 6C       	jr	Z,l_player_move_00125
1610  052D  21 00 00    	ld	hl,_s_state
1611  0530  CB 8E       	res	1, (hl)
1612  0532  2A 00 00    	ld	hl,(_sprite)
1613  0535  26 00       	ld	h,0x00
1614  0537  01 00 00    	ld	bc,_state_a
1615  053A  09          	add	hl,bc
1616  053B  7E          	ld	a,(hl)
1617  053C  E6 7F       	and	a,0x7f
1618  053E  77          	ld	(hl),a
1619  053F  2A 00 00    	ld	hl,(_index_player)
1620  0542  26 00       	ld	h,0x00
1621  0544  01 00 00    	ld	bc,_player_jump_c
1622  0547  09          	add	hl,bc
1623  0548  AF          	xor	a,a
1624  0549  77          	ld	(hl),a
1625  054A  2A 00 00    	ld	hl,(_sprite)
1626  054D  26 00       	ld	h,0x00
1627  054F  01 00 00    	ld	bc,_jump_lin
1628  0552  09          	add	hl,bc
1629  0553  AF          	xor	a,a
1630  0554  77          	ld	(hl),a
1631  0555  2A 00 00    	ld	hl,(_index_player)
1632  0558  26 00       	ld	h,0x00
1633  055A  01 00 00    	ld	bc,_sliding
1634  055D  09          	add	hl,bc
1635  055E  AF          	xor	a,a
1636  055F  77          	ld	(hl),a
1637  0560  2A 00 00    	ld	hl,(_sprite)
1638  0563  26 00       	ld	h,0x00
1639  0565  01 00 00    	ld	bc,_colint
1640  0568  09          	add	hl,bc
1641  0569  AF          	xor	a,a
1642  056A  77          	ld	(hl),a
1643  056B  2A 00 00    	ld	hl,(_sprite)
1644  056E  26 00       	ld	h,0x00
1645  0570  01 00 00    	ld	bc,_tile
1646  0573  09          	add	hl,bc
1647  0574  E5          	push	hl
1648  0575  3E 01       	ld	a,0x01
1649  0577  21 00 00    	ld	hl,_sprite
1650  057A  F5          	push	af
1651  057B  33          	inc	sp
1652  057C  56          	ld	d, (hl)
1653  057D  1E 58       	ld	e,0x58
1654  057F  D5          	push	de
1655  0580  CD 00 00    	call	_spr_tile_dir
1656  0583  F1          	pop	af
1657  0584  33          	inc	sp
1658  0585  C1          	pop	bc
1659  0586  7D          	ld	a,l
1660  0587  02          	ld	(bc), a
1661  0588  21 00 00    	ld	hl,_s_state
1662  058B  CB 5E       	bit	3, (hl)
1663  058D  20 07       	jr	NZ,l_player_move_00118
1664  058F  21 00 00    	ld	hl,_s_state
1665  0592  CB 56       	bit	2, (hl)
1666  0594  28 03       	jr	Z,l_player_move_00125
1667  0596              l_player_move_00118:
1668  0596  CD F7 00    	call	_player_calc_slide
1669  0599              l_player_move_00125:
1670  0599  CD 00 00    	call	_spr_move_horizontal
1671  059C  21 00 00    	ld	hl,_sprite_lin_inc_mul
1672  059F  36 00       	ld	(hl),0x00
1673  05A1  2A 00 00    	ld	hl,(_index_player)
1674  05A4  26 00       	ld	h,0x00
1675  05A6  01 00 00    	ld	bc,_player_jump_c
1676  05A9  09          	add	hl,bc
1677  05AA  34          	inc	(hl)
1678  05AB              l_player_move_00128:
1679  05AB  2A 00 00    	ld	hl,(_sprite)
1680  05AE  26 00       	ld	h,0x00
1681  05B0  29          	add	hl, hl
1682  05B1  11 00 00    	ld	de,_spr_timer
1683  05B4  19          	add	hl, de
1684  05B5  4E          	ld	c, (hl)
1685  05B6  23          	inc	hl
1686  05B7  46          	ld	b, (hl)
1687  05B8  21 04 00    	ld	hl,0x0004
1688  05BB  E5          	push	hl
1689  05BC  C5          	push	bc
1690  05BD  CD 00 00    	call	_game_check_time
1691  05C0  F1          	pop	af
1692  05C1  F1          	pop	af
1693  05C2  7D          	ld	a, l
1694  05C3  B7          	or	a, a
1695  05C4  28 03       	jr	Z,l_player_move_00131
1696  05C6  CD DE 09    	call	_player_hit_brick_clear
1697  05C9              l_player_move_00131:
1698  05C9  CD 00 00    	call	_spr_redraw
1699  05CC  2A 00 00    	ld	hl,(_sprite)
1700  05CF  26 00       	ld	h,0x00
1701  05D1  01 00 00    	ld	bc,_state
1702  05D4  09          	add	hl,bc
1703  05D5  3A 00 00    	ld	a,(_s_state)
1704  05D8  77          	ld	(hl),a
1705  05D9  2E 00       	ld	l,0x00
1706  05DB              l_player_move_00132:
1707  05DB  F1          	pop	af
1708  05DC  DD E1       	pop	ix
1709  05DE  C9          	ret
1710  05DF              	SECTION code_compiler
1711  05DF              ;	---------------------------------
1712  05DF              ; Function player_move_input
1713  05DF              ; ---------------------------------
1714  05DF              _player_move_input:
1715  05DF  21 00 00    	ld	hl,_s_state
1716  05E2  CB 46       	bit	0, (hl)
1717  05E4  20 07       	jr	NZ,l_player_move_input_00101
1718  05E6  21 00 00    	ld	hl,_s_state
1719  05E9  CB 4E       	bit	1, (hl)
1720  05EB  28 05       	jr	Z,l_player_move_input_00102
1721  05ED              l_player_move_input_00101:
1722  05ED  2E 00       	ld	l,0x00
1723  05EF  C3 66 08    	jp	l_player_move_input_00135
1724  05F2              l_player_move_input_00102:
1725  05F2  CD 03 01    	call	_player_check_input
1726  05F5  7D          	ld	a, l
1727  05F6  B7          	or	a, a
1728  05F7  CA 8E 07    	jp	Z, l_player_move_input_00131
1729  05FA  2A 00 00    	ld	hl,(_index_player)
1730  05FD  26 00       	ld	h,0x00
1731  05FF  01 00 00    	ld	bc,_sliding
1732  0602  09          	add	hl,bc
1733  0603  46          	ld	b,(hl)
1734  0604  3A 00 00    	ld	a,(_dirs)
1735  0607  E6 80       	and	a,0x80
1736  0609  4F          	ld	c, a
1737  060A  78          	ld	a, b
1738  060B  B7          	or	a, a
1739  060C  28 05       	jr	Z,l_player_move_input_00130
1740  060E  79          	ld	a, c
1741  060F  B7          	or	a, a
1742  0610  CA 8E 07    	jp	Z, l_player_move_input_00131
1743  0613              l_player_move_input_00130:
1744  0613  79          	ld	a, c
1745  0614  B7          	or	a, a
1746  0615  CA BD 06    	jp	Z, l_player_move_input_00110
1747  0618  CD 00 00    	call	_ay_is_playing
1748  061B  7D          	ld	a, l
1749  061C  D6 03       	sub	a,0x03
1750  061E  28 06       	jr	Z,l_player_move_input_00105
1751  0620  21 00 00    	ld	hl,_ay_effect_03
1752  0623  CD 00 00    	call	_ay_fx_play
1753  0626              l_player_move_input_00105:
1754  0626  CD 00 00    	call	_sound_jump
1755  0629  2A 00 00    	ld	hl,(_sprite)
1756  062C  26 00       	ld	h,0x00
1757  062E  01 00 00    	ld	bc,_state
1758  0631  09          	add	hl,bc
1759  0632  CB 56       	bit	2,(hl)
1760  0634  28 0D       	jr	Z,l_player_move_input_00107
1761  0636  2A 00 00    	ld	hl,(_sprite)
1762  0639  26 00       	ld	h,0x00
1763  063B  01 00 00    	ld	bc,_colint
1764  063E  09          	add	hl,bc
1765  063F  AF          	xor	a,a
1766  0640  77          	ld	(hl),a
1767  0641  18 0B       	jr	l_player_move_input_00108
1768  0643              l_player_move_input_00107:
1769  0643  2A 00 00    	ld	hl,(_sprite)
1770  0646  26 00       	ld	h,0x00
1771  0648  01 00 00    	ld	bc,_colint
1772  064B  09          	add	hl,bc
1773  064C  36 02       	ld	(hl),0x02
1774  064E              l_player_move_input_00108:
1775  064E  21 00 00    	ld	hl,_s_state
1776  0651  7E          	ld	a,(hl)
1777  0652  F6 01       	or	a,0x01
1778  0654  E6 FD       	and	a,0xfd
1779  0656  77          	ld	(hl),a
1780  0657  2A 00 00    	ld	hl,(_sprite)
1781  065A  26 00       	ld	h,0x00
1782  065C  01 00 00    	ld	bc,_jump_lin
1783  065F  09          	add	hl,bc
1784  0660  4D          	ld	c,l
1785  0661  44          	ld	b,h
1786  0662  2A 00 00    	ld	hl,(_sprite)
1787  0665  26 00       	ld	h,0x00
1788  0667  11 00 00    	ld	de,_lin
1789  066A  19          	add	hl,de
1790  066B  7E          	ld	a,(hl)
1791  066C  02          	ld	(bc),a
1792  066D  2A 00 00    	ld	hl,(_sprite)
1793  0670  26 00       	ld	h,0x00
1794  0672  01 00 00    	ld	bc,_state
1795  0675  09          	add	hl,bc
1796  0676  3A 00 00    	ld	a,(_s_state)
1797  0679  77          	ld	(hl),a
1798  067A  2A 00 00    	ld	hl,(_sprite)
1799  067D  26 00       	ld	h,0x00
1800  067F  01 00 00    	ld	bc,_tile
1801  0682  09          	add	hl,bc
1802  0683  E5          	push	hl
1803  0684  3E 08       	ld	a,0x08
1804  0686  21 00 00    	ld	hl,_sprite
1805  0689  F5          	push	af
1806  068A  33          	inc	sp
1807  068B  56          	ld	d, (hl)
1808  068C  1E 4C       	ld	e,0x4c
1809  068E  D5          	push	de
1810  068F  CD 00 00    	call	_spr_tile_dir
1811  0692  F1          	pop	af
1812  0693  33          	inc	sp
1813  0694  C1          	pop	bc
1814  0695  7D          	ld	a,l
1815  0696  02          	ld	(bc), a
1816  0697  2A 00 00    	ld	hl,(_sprite)
1817  069A  26 00       	ld	h,0x00
1818  069C  01 00 00    	ld	bc,_sprite_speed_alt
1819  069F  09          	add	hl,bc
1820  06A0  36 02       	ld	(hl),0x02
1821  06A2  2A 00 00    	ld	hl,(_index_player)
1822  06A5  26 00       	ld	h,0x00
1823  06A7  01 00 00    	ld	bc,_player_jump_c
1824  06AA  09          	add	hl,bc
1825  06AB  AF          	xor	a,a
1826  06AC  77          	ld	(hl),a
1827  06AD  2A 00 00    	ld	hl,(_index_player)
1828  06B0  26 00       	ld	h,0x00
1829  06B2  01 00 00    	ld	bc,_sliding
1830  06B5  09          	add	hl,bc
1831  06B6  AF          	xor	a,a
1832  06B7  77          	ld	(hl),a
1833  06B8  2E 01       	ld	l,0x01
1834  06BA  C3 66 08    	jp	l_player_move_input_00135
1835  06BD              l_player_move_input_00110:
1836  06BD  21 00 00    	ld	hl,_dirs
1837  06C0  CB 5E       	bit	3, (hl)
1838  06C2  28 3F       	jr	Z,l_player_move_input_00114
1839  06C4  21 00 00    	ld	hl,_s_state
1840  06C7  CB 5E       	bit	3, (hl)
1841  06C9  28 08       	jr	Z,l_player_move_input_00112
1842  06CB  CD F7 00    	call	_player_calc_slide
1843  06CE  2E 01       	ld	l,0x01
1844  06D0  C3 66 08    	jp	l_player_move_input_00135
1845  06D3              l_player_move_input_00112:
1846  06D3  21 00 00    	ld	hl,_s_state
1847  06D6  7E          	ld	a,(hl)
1848  06D7  F6 04       	or	a,0x04
1849  06D9  E6 F7       	and	a,0xf7
1850  06DB  77          	ld	(hl),a
1851  06DC  01 00 00    	ld	bc,_state_a+0
1852  06DF  79          	ld	a, c
1853  06E0  21 00 00    	ld	hl,_sprite
1854  06E3  86          	add	a, (hl)
1855  06E4  5F          	ld	e, a
1856  06E5  78          	ld	a, b
1857  06E6  CE 00       	adc	a,0x00
1858  06E8  57          	ld	d, a
1859  06E9  1A          	ld	a, (de)
1860  06EA  F6 10       	or	a,0x10
1861  06EC  12          	ld	(de), a
1862  06ED  79          	ld	a, c
1863  06EE  86          	add	a, (hl)
1864  06EF  5F          	ld	e, a
1865  06F0  78          	ld	a, b
1866  06F1  CE 00       	adc	a,0x00
1867  06F3  57          	ld	d, a
1868  06F4  1A          	ld	a, (de)
1869  06F5  E6 F7       	and	a,0xf7
1870  06F7  12          	ld	(de), a
1871  06F8  79          	ld	a, c
1872  06F9  86          	add	a, (hl)
1873  06FA  4F          	ld	c, a
1874  06FB  78          	ld	a, b
1875  06FC  CE 00       	adc	a,0x00
1876  06FE  47          	ld	b, a
1877  06FF  0A          	ld	a, (bc)
1878  0700  F6 20       	or	a,0x20
1879  0702  02          	ld	(bc), a
1880  0703              l_player_move_input_00114:
1881  0703  21 00 00    	ld	hl,_dirs
1882  0706  CB 56       	bit	2, (hl)
1883  0708  28 3F       	jr	Z,l_player_move_input_00118
1884  070A  21 00 00    	ld	hl,_s_state
1885  070D  CB 56       	bit	2, (hl)
1886  070F  28 08       	jr	Z,l_player_move_input_00116
1887  0711  CD F7 00    	call	_player_calc_slide
1888  0714  2E 01       	ld	l,0x01
1889  0716  C3 66 08    	jp	l_player_move_input_00135
1890  0719              l_player_move_input_00116:
1891  0719  21 00 00    	ld	hl,_s_state
1892  071C  7E          	ld	a,(hl)
1893  071D  F6 08       	or	a,0x08
1894  071F  E6 FB       	and	a,0xfb
1895  0721  77          	ld	(hl),a
1896  0722  01 00 00    	ld	bc,_state_a+0
1897  0725  79          	ld	a, c
1898  0726  21 00 00    	ld	hl,_sprite
1899  0729  86          	add	a, (hl)
1900  072A  5F          	ld	e, a
1901  072B  78          	ld	a, b
1902  072C  CE 00       	adc	a,0x00
1903  072E  57          	ld	d, a
1904  072F  1A          	ld	a, (de)
1905  0730  F6 08       	or	a,0x08
1906  0732  12          	ld	(de), a
1907  0733  79          	ld	a, c
1908  0734  86          	add	a, (hl)
1909  0735  5F          	ld	e, a
1910  0736  78          	ld	a, b
1911  0737  CE 00       	adc	a,0x00
1912  0739  57          	ld	d, a
1913  073A  1A          	ld	a, (de)
1914  073B  E6 EF       	and	a,0xef
1915  073D  12          	ld	(de), a
1916  073E  79          	ld	a, c
1917  073F  86          	add	a, (hl)
1918  0740  4F          	ld	c, a
1919  0741  78          	ld	a, b
1920  0742  CE 00       	adc	a,0x00
1921  0744  47          	ld	b, a
1922  0745  0A          	ld	a, (bc)
1923  0746  F6 20       	or	a,0x20
1924  0748  02          	ld	(bc), a
1925  0749              l_player_move_input_00118:
1926  0749  2A 00 00    	ld	hl,(_sprite)
1927  074C  26 00       	ld	h,0x00
1928  074E  01 00 00    	ld	bc,_state
1929  0751  09          	add	hl,bc
1930  0752  3A 00 00    	ld	a,(_s_state)
1931  0755  77          	ld	(hl),a
1932  0756  2A 00 00    	ld	hl,(_sprite)
1933  0759  26 00       	ld	h,0x00
1934  075B  01 00 00    	ld	bc,_tile
1935  075E  09          	add	hl,bc
1936  075F  E5          	push	hl
1937  0760  3E 08       	ld	a,0x08
1938  0762  21 00 00    	ld	hl,_sprite
1939  0765  F5          	push	af
1940  0766  33          	inc	sp
1941  0767  56          	ld	d, (hl)
1942  0768  1E 48       	ld	e,0x48
1943  076A  D5          	push	de
1944  076B  CD 00 00    	call	_spr_tile_dir
1945  076E  F1          	pop	af
1946  076F  33          	inc	sp
1947  0770  C1          	pop	bc
1948  0771  7D          	ld	a,l
1949  0772  02          	ld	(bc), a
1950  0773  CD 00 00    	call	_ay_is_playing
1951  0776  7D          	ld	a, l
1952  0777  B7          	or	a, a
1953  0778  20 0C       	jr	NZ,l_player_move_input_00120
1954  077A  3A 00 00    	ld	a,(_game_bonus)
1955  077D  B7          	or	a, a
1956  077E  20 06       	jr	NZ,l_player_move_input_00120
1957  0780  21 00 00    	ld	hl,_ay_effect_20
1958  0783  CD 00 00    	call	_ay_fx_play
1959  0786              l_player_move_input_00120:
1960  0786  CD 00 00    	call	_spr_move_horizontal
1961  0789  2E 01       	ld	l,0x01
1962  078B  C3 66 08    	jp	l_player_move_input_00135
1963  078E              l_player_move_input_00131:
1964  078E  2A 00 00    	ld	hl,(_sprite)
1965  0791  26 00       	ld	h,0x00
1966  0793  01 00 00    	ld	bc,_state_a
1967  0796  09          	add	hl,bc
1968  0797  CB 6E       	bit	5,(hl)
1969  0799  28 10       	jr	Z,l_player_move_input_00123
1970  079B  CD F7 00    	call	_player_calc_slide
1971  079E  2A 00 00    	ld	hl,(_sprite)
1972  07A1  26 00       	ld	h,0x00
1973  07A3  01 00 00    	ld	bc,_state_a
1974  07A6  09          	add	hl,bc
1975  07A7  7E          	ld	a,(hl)
1976  07A8  E6 DF       	and	a,0xdf
1977  07AA  77          	ld	(hl),a
1978  07AB              l_player_move_input_00123:
1979  07AB  2A 00 00    	ld	hl,(_index_player)
1980  07AE  26 00       	ld	h,0x00
1981  07B0  01 00 00    	ld	bc,_sliding
1982  07B3  09          	add	hl,bc
1983  07B4  7E          	ld	a,(hl)
1984  07B5  B7          	or	a, a
1985  07B6  CA 64 08    	jp	Z, l_player_move_input_00129
1986  07B9  CD 00 00    	call	_ay_is_playing
1987  07BC  7D          	ld	a, l
1988  07BD  D6 03       	sub	a,0x03
1989  07BF  28 06       	jr	Z,l_player_move_input_00125
1990  07C1  21 00 00    	ld	hl,_ay_effect_01
1991  07C4  CD 00 00    	call	_ay_fx_play
1992  07C7              l_player_move_input_00125:
1993  07C7  CD 00 00    	call	_sound_slide
1994  07CA  CD 00 00    	call	_spr_move_horizontal
1995  07CD  2A 00 00    	ld	hl,(_index_player)
1996  07D0  26 00       	ld	h,0x00
1997  07D2  01 00 00    	ld	bc,_sliding
1998  07D5  09          	add	hl,bc
1999  07D6  7E          	ld	a,(hl)
2000  07D7  C6 FF       	add	a,0xff
2001  07D9  77          	ld	(hl),a
2002  07DA  2A 00 00    	ld	hl,(_sprite)
2003  07DD  26 00       	ld	h,0x00
2004  07DF  01 00 00    	ld	bc,_sprite_speed_alt
2005  07E2  09          	add	hl,bc
2006  07E3  AF          	xor	a,a
2007  07E4  77          	ld	(hl),a
2008  07E5  2A 00 00    	ld	hl,(_sprite)
2009  07E8  26 00       	ld	h,0x00
2010  07EA  01 00 00    	ld	bc,_tile
2011  07ED  09          	add	hl,bc
2012  07EE  E5          	push	hl
2013  07EF  3E 08       	ld	a,0x08
2014  07F1  21 00 00    	ld	hl,_sprite
2015  07F4  F5          	push	af
2016  07F5  33          	inc	sp
2017  07F6  56          	ld	d, (hl)
2018  07F7  1E 48       	ld	e,0x48
2019  07F9  D5          	push	de
2020  07FA  CD 00 00    	call	_spr_tile_dir
2021  07FD  F1          	pop	af
2022  07FE  33          	inc	sp
2023  07FF  C1          	pop	bc
2024  0800  7D          	ld	a,l
2025  0801  02          	ld	(bc), a
2026  0802  2A 00 00    	ld	hl,(_index_player)
2027  0805  26 00       	ld	h,0x00
2028  0807  01 00 00    	ld	bc,_sliding
2029  080A  09          	add	hl,bc
2030  080B  7E          	ld	a,(hl)
2031  080C  B7          	or	a, a
2032  080D  20 55       	jr	NZ,l_player_move_input_00129
2033  080F  01 00 00    	ld	bc,_spr_timer+0
2034  0812  2A 00 00    	ld	hl,(_sprite)
2035  0815  26 00       	ld	h,0x00
2036  0817  29          	add	hl, hl
2037  0818  09          	add	hl, bc
2038  0819  AF          	xor	a, a
2039  081A  77          	ld	(hl), a
2040  081B  23          	inc	hl
2041  081C  77          	ld	(hl), a
2042  081D  2A 00 00    	ld	hl,(_sprite)
2043  0820  26 00       	ld	h,0x00
2044  0822  01 00 00    	ld	bc,_colint
2045  0825  09          	add	hl,bc
2046  0826  AF          	xor	a,a
2047  0827  77          	ld	(hl),a
2048  0828  2A 00 00    	ld	hl,(_sprite)
2049  082B  26 00       	ld	h,0x00
2050  082D  01 00 00    	ld	bc,_tile
2051  0830  09          	add	hl,bc
2052  0831  E5          	push	hl
2053  0832  3E 01       	ld	a,0x01
2054  0834  21 00 00    	ld	hl,_sprite
2055  0837  F5          	push	af
2056  0838  33          	inc	sp
2057  0839  56          	ld	d, (hl)
2058  083A  1E 58       	ld	e,0x58
2059  083C  D5          	push	de
2060  083D  CD 00 00    	call	_spr_tile_dir
2061  0840  F1          	pop	af
2062  0841  33          	inc	sp
2063  0842  C1          	pop	bc
2064  0843  7D          	ld	a,l
2065  0844  02          	ld	(bc), a
2066  0845  01 00 00    	ld	bc,_state+0
2067  0848  79          	ld	a, c
2068  0849  21 00 00    	ld	hl,_sprite
2069  084C  86          	add	a, (hl)
2070  084D  5F          	ld	e, a
2071  084E  78          	ld	a, b
2072  084F  CE 00       	adc	a,0x00
2073  0851  57          	ld	d, a
2074  0852  1A          	ld	a, (de)
2075  0853  E6 FB       	and	a,0xfb
2076  0855  12          	ld	(de), a
2077  0856  79          	ld	a, c
2078  0857  86          	add	a, (hl)
2079  0858  4F          	ld	c, a
2080  0859  78          	ld	a, b
2081  085A  CE 00       	adc	a,0x00
2082  085C  47          	ld	b, a
2083  085D  0A          	ld	a, (bc)
2084  085E  E6 F7       	and	a,0xf7
2085  0860  02          	ld	(bc), a
2086  0861  CD 67 0B    	call	_player_check_floor
2087  0864              l_player_move_input_00129:
2088  0864  2E 00       	ld	l,0x00
2089  0866              l_player_move_input_00135:
2090  0866  C9          	ret
2091  0867              	SECTION code_compiler
2092  0867              ;	---------------------------------
2093  0867              ; Function player_hit_brick
2094  0867              ; ---------------------------------
2095  0867              _player_hit_brick:
2096  0867  2A 00 00    	ld	hl,(_index_player)
2097  086A  26 00       	ld	h,0x00
2098  086C  01 00 00    	ld	bc,_hit_lin
2099  086F  09          	add	hl,bc
2100  0870  7E          	ld	a,(hl)
2101  0871  B7          	or	a, a
2102  0872  C2 DB 09    	jp	NZ, l_player_hit_brick_00120
2103  0875  2A 00 00    	ld	hl,(_sprite)
2104  0878  26 00       	ld	h,0x00
2105  087A  01 00 00    	ld	bc,_lin
2106  087D  09          	add	hl,bc
2107  087E  4E          	ld	c,(hl)
2108  087F  3E 10       	ld	a,0x10
2109  0881  91          	sub	a, c
2110  0882  D2 DB 09    	jp	NC, l_player_hit_brick_00120
2111  0885  21 00 00    	ld	hl,_enemies
2112  0888  36 00       	ld	(hl),0x00
2113  088A              l_player_hit_brick_00122:
2114  088A  2A 00 00    	ld	hl,(_enemies)
2115  088D  26 00       	ld	h,0x00
2116  088F  01 00 00    	ld	bc,_class
2117  0892  09          	add	hl,bc
2118  0893  7E          	ld	a,(hl)
2119  0894  B7          	or	a, a
2120  0895  28 64       	jr	Z,l_player_hit_brick_00123
2121  0897  2A 00 00    	ld	hl,(_sprite)
2122  089A  26 00       	ld	h,0x00
2123  089C  01 00 00    	ld	bc,_lin
2124  089F  09          	add	hl,bc
2125  08A0  4E          	ld	c,(hl)
2126  08A1  06 00       	ld	b,0x00
2127  08A3  2A 00 00    	ld	hl,(_enemies)
2128  08A6  60          	ld	h,b
2129  08A7  11 00 00    	ld	de,_lin
2130  08AA  19          	add	hl,de
2131  08AB  5E          	ld	e, (hl)
2132  08AC  16 00       	ld	d,0x00
2133  08AE  79          	ld	a,c
2134  08AF  93          	sub	a,e
2135  08B0  4F          	ld	c,a
2136  08B1  78          	ld	a,b
2137  08B2  9A          	sbc	a,d
2138  08B3  47          	ld	b,a
2139  08B4  79          	ld	a,c
2140  08B5  D6 18       	sub	a,0x18
2141  08B7  B0          	or	a,b
2142  08B8  20 41       	jr	NZ,l_player_hit_brick_00123
2143  08BA  2A 00 00    	ld	hl,(_enemies)
2144  08BD  26 00       	ld	h,0x00
2145  08BF  01 00 00    	ld	bc,_state
2146  08C2  09          	add	hl,bc
2147  08C3  CB 6E       	bit	5,(hl)
2148  08C5  20 34       	jr	NZ,l_player_hit_brick_00123
2149  08C7  2A 00 00    	ld	hl,(_sprite)
2150  08CA  26 00       	ld	h,0x00
2151  08CC  01 00 00    	ld	bc,_col
2152  08CF  09          	add	hl,bc
2153  08D0  4E          	ld	c,(hl)
2154  08D1  06 00       	ld	b,0x00
2155  08D3  2A 00 00    	ld	hl,(_enemies)
2156  08D6  60          	ld	h,b
2157  08D7  11 00 00    	ld	de,_col
2158  08DA  19          	add	hl,de
2159  08DB  5E          	ld	e, (hl)
2160  08DC  16 00       	ld	d,0x00
2161  08DE  79          	ld	a, c
2162  08DF  93          	sub	a, e
2163  08E0  6F          	ld	l, a
2164  08E1  78          	ld	a, b
2165  08E2  9A          	sbc	a, d
2166  08E3  67          	ld	h, a
2167  08E4  CD 00 00    	call	_abs_fastcall
2168  08E7  3E 02       	ld	a,0x02
2169  08E9  BD          	cp	a,l
2170  08EA  3E 00       	ld	a,0x00
2171  08EC  9C          	sbc	a,h
2172  08ED  E2 F2 08    	jp	PO, l_player_hit_brick_00178
2173  08F0  EE 80       	xor	a,0x80
2174  08F2              l_player_hit_brick_00178:
2175  08F2  FA FB 08    	jp	M, l_player_hit_brick_00123
2176  08F5  CD 00 00    	call	_enemy_hit
2177  08F8  CD 00 00    	call	_sound_hit_enemy
2178  08FB              l_player_hit_brick_00123:
2179  08FB  21 00 00    	ld	hl,_enemies
2180  08FE  7E          	ld	a,(hl)
2181  08FF  3C          	inc	a
2182  0900  77          	ld	(hl),a
2183  0901  D6 06       	sub	a,0x06
2184  0903  38 85       	jr	C,l_player_hit_brick_00122
2185  0905  2A 00 00    	ld	hl,(_sprite)
2186  0908  26 00       	ld	h,0x00
2187  090A  01 00 00    	ld	bc,_state_a
2188  090D  09          	add	hl,bc
2189  090E  7E          	ld	a,(hl)
2190  090F  F6 80       	or	a,0x80
2191  0911  77          	ld	(hl),a
2192  0912  2A 00 00    	ld	hl,(_index_player)
2193  0915  26 00       	ld	h,0x00
2194  0917  01 00 00    	ld	bc,_player_jump_c
2195  091A  09          	add	hl,bc
2196  091B  36 04       	ld	(hl),0x04
2197  091D  01 00 00    	ld	bc,_spr_timer+0
2198  0920  2A 00 00    	ld	hl,(_sprite)
2199  0923  26 00       	ld	h,0x00
2200  0925  29          	add	hl, hl
2201  0926  09          	add	hl,bc
2202  0927  ED 5B 00 00 	ld	de,(_curr_time)
2203  092B  73          	ld	(hl),e
2204  092C  23          	inc	hl
2205  092D  72          	ld	(hl),d
2206  092E  3A 00 00    	ld	a,(_index_player)
2207  0931  C6 00       	add	a,+((_hit_lin) & 0xFF)
2208  0933  5F          	ld	e,a
2209  0934  3E 00       	ld	a,+((_hit_lin) / 256)
2210  0936  CE 00       	adc	a,0x00
2211  0938  57          	ld	d,a
2212  0939  2A 00 00    	ld	hl,(_sprite)
2213  093C  26 00       	ld	h,0x00
2214  093E  01 00 00    	ld	bc,_lin
2215  0941  09          	add	hl,bc
2216  0942  4E          	ld	c,(hl)
2217  0943  06 00       	ld	b,0x00
2218  0945  21 F8 FF    	ld	hl,0xfff8
2219  0948  09          	add	hl,bc
2220  0949  06 04       	ld	b,0x04
2221  094B              l_player_hit_brick_00179:
2222  094B  CB 2C       	sra	h
2223  094D  CB 1D       	rr	l
2224  094F  10 FA       	djnz	l_player_hit_brick_00179
2225  0951  7D          	ld	a, l
2226  0952  07          	rlca
2227  0953  07          	rlca
2228  0954  07          	rlca
2229  0955  07          	rlca
2230  0956  E6 F0       	and	a,0xf0
2231  0958  C6 08       	add	a,0x08
2232  095A  12          	ld	(de), a
2233  095B  2A 00 00    	ld	hl,(_sprite)
2234  095E  26 00       	ld	h,0x00
2235  0960  01 00 00    	ld	bc,_col
2236  0963  09          	add	hl,bc
2237  0964  4E          	ld	c,(hl)
2238  0965  CB 41       	bit	0,c
2239  0967  20 0F       	jr	NZ,l_player_hit_brick_00117
2240  0969  3A 00 00    	ld	a,(_index_player)
2241  096C  C6 00       	add	a,+((_hit_col) & 0xFF)
2242  096E  5F          	ld	e,a
2243  096F  3E 00       	ld	a,+((_hit_col) / 256)
2244  0971  CE 00       	adc	a,0x00
2245  0973  57          	ld	d,a
2246  0974  79          	ld	a, c
2247  0975  12          	ld	(de), a
2248  0976  18 57       	jr	l_player_hit_brick_00118
2249  0978              l_player_hit_brick_00117:
2250  0978  2A 00 00    	ld	hl,(_sprite)
2251  097B  26 00       	ld	h,0x00
2252  097D  11 00 00    	ld	de,_state
2253  0980  19          	add	hl,de
2254  0981  5E          	ld	e, (hl)
2255  0982  41          	ld	b, c
2256  0983  04          	inc	b
2257  0984  0D          	dec	c
2258  0985  CB 5B       	bit	3, e
2259  0987  28 24       	jr	Z,l_player_hit_brick_00114
2260  0989  3A 00 00    	ld	a,(_g_hit_right)
2261  098C  B7          	or	a, a
2262  098D  28 0F       	jr	Z,l_player_hit_brick_00108
2263  098F  3A 00 00    	ld	a,(_index_player)
2264  0992  C6 00       	add	a,+((_hit_col) & 0xFF)
2265  0994  5F          	ld	e,a
2266  0995  3E 00       	ld	a,+((_hit_col) / 256)
2267  0997  CE 00       	adc	a,0x00
2268  0999  57          	ld	d,a
2269  099A  78          	ld	a, b
2270  099B  12          	ld	(de), a
2271  099C  18 31       	jr	l_player_hit_brick_00118
2272  099E              l_player_hit_brick_00108:
2273  099E  3A 00 00    	ld	a,(_index_player)
2274  09A1  C6 00       	add	a,+((_hit_col) & 0xFF)
2275  09A3  5F          	ld	e,a
2276  09A4  3E 00       	ld	a,+((_hit_col) / 256)
2277  09A6  CE 00       	adc	a,0x00
2278  09A8  57          	ld	d,a
2279  09A9  79          	ld	a, c
2280  09AA  12          	ld	(de), a
2281  09AB  18 22       	jr	l_player_hit_brick_00118
2282  09AD              l_player_hit_brick_00114:
2283  09AD  3A 00 00    	ld	a,(_g_hit_left)
2284  09B0  B7          	or	a, a
2285  09B1  28 0F       	jr	Z,l_player_hit_brick_00111
2286  09B3  3A 00 00    	ld	a,(_index_player)
2287  09B6  C6 00       	add	a,+((_hit_col) & 0xFF)
2288  09B8  5F          	ld	e,a
2289  09B9  3E 00       	ld	a,+((_hit_col) / 256)
2290  09BB  CE 00       	adc	a,0x00
2291  09BD  57          	ld	d,a
2292  09BE  79          	ld	a, c
2293  09BF  12          	ld	(de), a
2294  09C0  18 0D       	jr	l_player_hit_brick_00118
2295  09C2              l_player_hit_brick_00111:
2296  09C2  3A 00 00    	ld	a,(_index_player)
2297  09C5  C6 00       	add	a,+((_hit_col) & 0xFF)
2298  09C7  5F          	ld	e,a
2299  09C8  3E 00       	ld	a,+((_hit_col) / 256)
2300  09CA  CE 00       	adc	a,0x00
2301  09CC  57          	ld	d,a
2302  09CD  78          	ld	a, b
2303  09CE  12          	ld	(de), a
2304  09CF              l_player_hit_brick_00118:
2305  09CF  2E 01       	ld	l,0x01
2306  09D1  CD 00 00    	call	_spr_brick_anim
2307  09D4  CD 00 00    	call	_sound_hit_brick
2308  09D7  2E 01       	ld	l,0x01
2309  09D9  18 02       	jr	l_player_hit_brick_00124
2310  09DB              l_player_hit_brick_00120:
2311  09DB  2E 00       	ld	l,0x00
2312  09DD              l_player_hit_brick_00124:
2313  09DD  C9          	ret
2314  09DE              	SECTION code_compiler
2315  09DE              ;	---------------------------------
2316  09DE              ; Function player_hit_brick_clear
2317  09DE              ; ---------------------------------
2318  09DE              _player_hit_brick_clear:
2319  09DE  2A 00 00    	ld	hl,(_index_player)
2320  09E1  26 00       	ld	h,0x00
2321  09E3  01 00 00    	ld	bc,_hit_lin
2322  09E6  09          	add	hl,bc
2323  09E7  7E          	ld	a,(hl)
2324  09E8  47          	ld	b,a
2325  09E9  B7          	or	a,a
2326  09EA  C8          	ret	Z
2327  09EB  3A 00 00    	ld	a,(_index_player)
2328  09EE  5F          	ld	e,a
2329  09EF  16 00       	ld	d,0x00
2330  09F1  21 00 00    	ld	hl,_hit_col
2331  09F4  19          	add	hl,de
2332  09F5  7E          	ld	a,(hl)
2333  09F6  48          	ld	c,b
2334  09F7  47          	ld	b,a
2335  09F8  C5          	push	bc
2336  09F9  CD 00 00    	call	_spr_calc_index
2337  09FC  F1          	pop	af
2338  09FD  22 00 00    	ld	(_index1),hl
2339  0A00  2E 00       	ld	l,0x00
2340  0A02  CD 00 00    	call	_spr_brick_anim
2341  0A05  2A 00 00    	ld	hl,(_index_player)
2342  0A08  26 00       	ld	h,0x00
2343  0A0A  01 00 00    	ld	bc,_hit_lin
2344  0A0D  09          	add	hl,bc
2345  0A0E  AF          	xor	a,a
2346  0A0F  77          	ld	(hl),a
2347  0A10  2A 00 00    	ld	hl,(_index_player)
2348  0A13  26 00       	ld	h,0x00
2349  0A15  01 00 00    	ld	bc,_hit_col
2350  0A18  09          	add	hl,bc
2351  0A19  AF          	xor	a,a
2352  0A1A  77          	ld	(hl),a
2353  0A1B  C9          	ret
2354  0A1C              	SECTION code_compiler
2355  0A1C              ;	---------------------------------
2356  0A1C              ; Function player_coin
2357  0A1C              ; ---------------------------------
2358  0A1C              _player_coin:
2359  0A1C  CD 00 00    	call	___sdcc_enter_ix
2360  0A1F  3E 00       	ld	a, +((_class) & 0xFF)
2361  0A21  DD 86 04    	add	a,(ix+4)
2362  0A24  4F          	ld	c, a
2363  0A25  3E 00       	ld	a, +((_class) / 256)
2364  0A27  CE 00       	adc	a,0x00
2365  0A29  47          	ld	b, a
2366  0A2A  0A          	ld	a, (bc)
2367  0A2B  D6 07       	sub	a,0x07
2368  0A2D  20 16       	jr	NZ,l_player_coin_00102
2369  0A2F  21 00 00    	ld	hl,_ay_effect_12
2370  0A32  CD 00 00    	call	_ay_fx_play
2371  0A35  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2372  0A37  DD 86 04    	add	a,(ix+4)
2373  0A3A  4F          	ld	c, a
2374  0A3B  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2375  0A3D  CE 00       	adc	a,0x00
2376  0A3F  47          	ld	b, a
2377  0A40  3E 03       	ld	a,0x03
2378  0A42  02          	ld	(bc), a
2379  0A43  18 17       	jr	l_player_coin_00103
2380  0A45              l_player_coin_00102:
2381  0A45  21 00 00    	ld	hl,_ay_effect_10
2382  0A48  CD 00 00    	call	_ay_fx_play
2383  0A4B  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2384  0A4D  DD 86 04    	add	a,(ix+4)
2385  0A50  4F          	ld	c, a
2386  0A51  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2387  0A53  CE 00       	adc	a,0x00
2388  0A55  47          	ld	b, a
2389  0A56  3E 08       	ld	a,0x08
2390  0A58  02          	ld	(bc), a
2391  0A59  CD 00 00    	call	_sound_coin
2392  0A5C              l_player_coin_00103:
2393  0A5C  3E 00       	ld	a, +((_state) & 0xFF)
2394  0A5E  DD 86 04    	add	a,(ix+4)
2395  0A61  4F          	ld	c, a
2396  0A62  3E 00       	ld	a, +((_state) / 256)
2397  0A64  CE 00       	adc	a,0x00
2398  0A66  47          	ld	b, a
2399  0A67  0A          	ld	a, (bc)
2400  0A68  E6 FE       	and	a,0xfe
2401  0A6A  F6 20       	or	a,0x20
2402  0A6C  02          	ld	(bc),a
2403  0A6D  01 00 00    	ld	bc,_spr_timer+0
2404  0A70  DD 6E 04    	ld	l,(ix+4)
2405  0A73  26 00       	ld	h,0x00
2406  0A75  29          	add	hl, hl
2407  0A76  09          	add	hl,bc
2408  0A77  ED 5B 00 00 	ld	de,(_curr_time)
2409  0A7B  73          	ld	(hl),e
2410  0A7C  23          	inc	hl
2411  0A7D  72          	ld	(hl),d
2412  0A7E  3A 00 00    	ld	a,(_game_bonus)
2413  0A81  B7          	or	a, a
2414  0A82  28 1B       	jr	Z,l_player_coin_00107
2415  0A84  2A 00 00    	ld	hl,(_index_player)
2416  0A87  26 00       	ld	h,0x00
2417  0A89  01 00 00    	ld	bc,_phase_bonus_total
2418  0A8C  09          	add	hl,bc
2419  0A8D  7E          	ld	a,(hl)
2420  0A8E  3C          	inc	a
2421  0A8F  77          	ld	(hl),a
2422  0A90  4D          	ld	c,l
2423  0A91  44          	ld	b,h
2424  0A92  21 00 00    	ld	hl,_phase_left
2425  0A95  35          	dec (hl)
2426  0A96  20 0F       	jr	NZ,l_player_coin_00109
2427  0A98  21 00 00    	ld	hl,_phase_end
2428  0A9B  36 01       	ld	(hl),0x01
2429  0A9D  18 08       	jr	l_player_coin_00109
2430  0A9F              l_player_coin_00107:
2431  0A9F  DD 6E 05    	ld	l,(ix+5)
2432  0AA2  26 00       	ld	h,0x00
2433  0AA4  CD AA 0A    	call	_player_score_add
2434  0AA7              l_player_coin_00109:
2435  0AA7  DD E1       	pop	ix
2436  0AA9  C9          	ret
2437  0AAA              	SECTION code_compiler
2438  0AAA              ;	---------------------------------
2439  0AAA              ; Function player_score_add
2440  0AAA              ; ---------------------------------
2441  0AAA              _player_score_add:
2442  0AAA  4D          	ld	c, l
2443  0AAB  44          	ld	b, h
2444  0AAC  2A 00 00    	ld	hl,(_index_player)
2445  0AAF  26 00       	ld	h,0x00
2446  0AB1  29          	add	hl, hl
2447  0AB2  11 00 00    	ld	de,_player_score
2448  0AB5  19          	add	hl, de
2449  0AB6  5E          	ld	e,(hl)
2450  0AB7  23          	inc	hl
2451  0AB8  56          	ld	d,(hl)
2452  0AB9  2B          	dec	hl
2453  0ABA  7B          	ld	a, e
2454  0ABB  81          	add	a, c
2455  0ABC  4F          	ld	c, a
2456  0ABD  7A          	ld	a, d
2457  0ABE  88          	adc	a, b
2458  0ABF  47          	ld	b, a
2459  0AC0  71          	ld	(hl), c
2460  0AC1  23          	inc	hl
2461  0AC2  70          	ld	(hl), b
2462  0AC3  2A 00 00    	ld	hl,(_index_player)
2463  0AC6  26 00       	ld	h,0x00
2464  0AC8  29          	add	hl,hl
2465  0AC9  4D          	ld	c,l
2466  0ACA  44          	ld	b,h
2467  0ACB  21 00 00    	ld	hl,_player_score
2468  0ACE  09          	add	hl, bc
2469  0ACF  5E          	ld	e, (hl)
2470  0AD0  23          	inc	hl
2471  0AD1  56          	ld	d, (hl)
2472  0AD2  21 00 00    	ld	hl,_game_score_top
2473  0AD5  7E          	ld	a, (hl)
2474  0AD6  93          	sub	a, e
2475  0AD7  23          	inc	hl
2476  0AD8  7E          	ld	a, (hl)
2477  0AD9  9A          	sbc	a, d
2478  0ADA  30 04       	jr	NC,l_player_score_add_00102
2479  0ADC  2B          	dec	hl
2480  0ADD  73          	ld	(hl), e
2481  0ADE  23          	inc	hl
2482  0ADF  72          	ld	(hl), d
2483  0AE0              l_player_score_add_00102:
2484  0AE0  21 00 00    	ld	hl,_player_next_extra
2485  0AE3  09          	add	hl, bc
2486  0AE4  4E          	ld	c,(hl)
2487  0AE5  23          	inc	hl
2488  0AE6  46          	ld	b,(hl)
2489  0AE7  2B          	dec	hl
2490  0AE8  79          	ld	a, c
2491  0AE9  93          	sub	a, e
2492  0AEA  78          	ld	a, b
2493  0AEB  9A          	sbc	a, d
2494  0AEC  30 76       	jr	NC,l_player_score_add_00113
2495  0AEE  79          	ld	a,c
2496  0AEF  C6 D0       	add	a,0xd0
2497  0AF1  77          	ld	(hl),a
2498  0AF2  78          	ld	a,b
2499  0AF3  CE 07       	adc	a,0x07
2500  0AF5  23          	inc	hl
2501  0AF6  77          	ld	(hl),a
2502  0AF7  2A 00 00    	ld	hl,(_index_player)
2503  0AFA  26 00       	ld	h,0x00
2504  0AFC  01 00 00    	ld	bc,_game_lives
2505  0AFF  09          	add	hl,bc
2506  0B00  34          	inc	(hl)
2507  0B01  21 00 00    	ld	hl,_hit_count
2508  0B04  36 10       	ld	(hl),0x10
2509  0B06  3A 00 00    	ld	a,(_game_bonus)
2510  0B09  B7          	or	a, a
2511  0B0A  20 03       	jr	NZ,l_player_score_add_00104
2512  0B0C  CD 00 00    	call	_game_print_lives
2513  0B0F              l_player_score_add_00104:
2514  0B0F  21 00 00    	ld	hl,_tmp0
2515  0B12  36 00       	ld	(hl),0x00
2516  0B14              l_player_score_add_00114:
2517  0B14  3A 00 00    	ld	a,(_index_player)
2518  0B17  B7          	or	a, a
2519  0B18  20 07       	jr	NZ,l_player_score_add_00106
2520  0B1A  2E 01       	ld	l,0x01
2521  0B1C  CD 00 00    	call	_zx_border_fastcall
2522  0B1F  18 05       	jr	l_player_score_add_00107
2523  0B21              l_player_score_add_00106:
2524  0B21  2E 07       	ld	l,0x07
2525  0B23  CD 00 00    	call	_zx_border_fastcall
2526  0B26              l_player_score_add_00107:
2527  0B26  21 05 00    	ld	hl,0x0005
2528  0B29  CD 00 00    	call	_z80_delay_ms_fastcall
2529  0B2C  3A 00 00    	ld	a,(_index_player)
2530  0B2F  B7          	or	a, a
2531  0B30  20 07       	jr	NZ,l_player_score_add_00109
2532  0B32  2E 02       	ld	l,0x02
2533  0B34  CD 00 00    	call	_zx_border_fastcall
2534  0B37  18 05       	jr	l_player_score_add_00110
2535  0B39              l_player_score_add_00109:
2536  0B39  2E 04       	ld	l,0x04
2537  0B3B  CD 00 00    	call	_zx_border_fastcall
2538  0B3E              l_player_score_add_00110:
2539  0B3E  21 05 00    	ld	hl,0x0005
2540  0B41  CD 00 00    	call	_z80_delay_ms_fastcall
2541  0B44  21 00 00    	ld	hl,_tmp0
2542  0B47  7E          	ld	a,(hl)
2543  0B48  3C          	inc	a
2544  0B49  77          	ld	(hl),a
2545  0B4A  D6 06       	sub	a,0x06
2546  0B4C  38 C6       	jr	C,l_player_score_add_00114
2547  0B4E  CD 00 00    	call	_sound_coin
2548  0B51  CD 00 00    	call	_sound_coin
2549  0B54  CD 00 00    	call	_sound_coin
2550  0B57  CD 00 00    	call	_sound_coin
2551  0B5A  2E 00       	ld	l,0x00
2552  0B5C  CD 00 00    	call	_zx_border_fastcall
2553  0B5F  21 00 00    	ld	hl,_hit_count
2554  0B62  36 08       	ld	(hl),0x08
2555  0B64              l_player_score_add_00113:
2556  0B64  C3 00 00    	jp  _game_print_score
2557  0B67              	SECTION code_compiler
2558  0B67              ;	---------------------------------
2559  0B67              ; Function player_check_floor
2560  0B67              ; ---------------------------------
2561  0B67              _player_check_floor:
2562  0B67  CD 00 00    	call	___sdcc_enter_ix
2563  0B6A  3B          	dec	sp
2564  0B6B  2A 00 00    	ld	hl,(_sprite)
2565  0B6E  26 00       	ld	h,0x00
2566  0B70  01 00 00    	ld	bc,_col
2567  0B73  09          	add	hl,bc
2568  0B74  56          	ld	d, (hl)
2569  0B75  2A 00 00    	ld	hl,(_sprite)
2570  0B78  26 00       	ld	h,0x00
2571  0B7A  01 00 00    	ld	bc,_lin
2572  0B7D  09          	add	hl,bc
2573  0B7E  7E          	ld	a,(hl)
2574  0B7F  C6 10       	add	a,0x10
2575  0B81  5F          	ld	e, a
2576  0B82  D5          	push	de
2577  0B83  CD 00 00    	call	_spr_calc_index
2578  0B86  F1          	pop	af
2579  0B87  4D          	ld	c, l
2580  0B88  44          	ld	b, h
2581  0B89  21 00 00    	ld	hl,_lvl_1
2582  0B8C  09          	add	hl, bc
2583  0B8D  7E          	ld	a, (hl)
2584  0B8E  DD 77 FF    	ld	(ix-1),a
2585  0B91  2A 00 00    	ld	hl,(_sprite)
2586  0B94  26 00       	ld	h,0x00
2587  0B96  11 00 00    	ld	de,_col
2588  0B99  19          	add	hl,de
2589  0B9A  7E          	ld	a,(hl)
2590  0B9B  0F          	rrca
2591  0B9C  38 04       	jr	C,l_player_check_floor_00102
2592  0B9E  0E 01       	ld	c,0x01
2593  0BA0  18 06       	jr	l_player_check_floor_00103
2594  0BA2              l_player_check_floor_00102:
2595  0BA2  03          	inc	bc
2596  0BA3  21 00 00    	ld	hl,_lvl_1
2597  0BA6  09          	add	hl, bc
2598  0BA7  4E          	ld	c, (hl)
2599  0BA8              l_player_check_floor_00103:
2600  0BA8  3A 00 00    	ld	a,(_s_lin0)
2601  0BAB  D6 90       	sub	a,0x90
2602  0BAD  20 04       	jr	NZ,l_player_check_floor_00105
2603  0BAF  DD 36 FF 3C 	ld	(ix-1),0x3c
2604  0BB3              l_player_check_floor_00105:
2605  0BB3  DD 7E FF    	ld	a,(ix-1)
2606  0BB6  D6 30       	sub	a,0x30
2607  0BB8  38 07       	jr	C,l_player_check_floor_00110
2608  0BBA  3E 48       	ld	a,0x48
2609  0BBC  DD 96 FF    	sub	a,(ix-1)
2610  0BBF  30 1A       	jr	NC,l_player_check_floor_00111
2611  0BC1              l_player_check_floor_00110:
2612  0BC1  79          	ld	a, c
2613  0BC2  D6 30       	sub	a,0x30
2614  0BC4  38 05       	jr	C,l_player_check_floor_00106
2615  0BC6  3E 48       	ld	a,0x48
2616  0BC8  91          	sub	a, c
2617  0BC9  30 10       	jr	NC,l_player_check_floor_00111
2618  0BCB              l_player_check_floor_00106:
2619  0BCB  2A 00 00    	ld	hl,(_sprite)
2620  0BCE  26 00       	ld	h,0x00
2621  0BD0  01 00 00    	ld	bc,_sprite_speed_alt
2622  0BD3  09          	add	hl,bc
2623  0BD4  36 02       	ld	(hl),0x02
2624  0BD6  21 00 00    	ld	hl,_s_state
2625  0BD9  CB CE       	set	1, (hl)
2626  0BDB              l_player_check_floor_00111:
2627  0BDB  33          	inc	sp
2628  0BDC  DD E1       	pop	ix
2629  0BDE  C9          	ret
2630  0BDF              	SECTION IGNORE
2631  0000              
