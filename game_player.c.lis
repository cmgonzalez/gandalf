1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_turn
195   0000              	GLOBAL _player_move
196   0000              	GLOBAL _player_check_stairs_down
197   0000              	GLOBAL _player_check_stairs
198   0000              	GLOBAL _player_tile
199   0000              	GLOBAL _player_move_input
200   0000              	GLOBAL _player_fire
201   0000              	GLOBAL _player_pick_item
202   0000              	GLOBAL _player_hit_platform
203   0000              	GLOBAL _player_hit_platform_clear
204   0000              	GLOBAL _player_score_add
205   0000              	GLOBAL _player_check_floor
206   0000              	GLOBAL _player_gasta_brick
207   0000              	GLOBAL _player_move_jump
208   0000              	GLOBAL _player_open_door
209   0000              	GLOBAL _player_lost_life
210   0000              	GLOBAL _player_hit
211   0000              ;--------------------------------------------------------
212   0000              ; Externals used
213   0000              ;--------------------------------------------------------
214   0000              	GLOBAL _ulltoa_callee
215   0000              	GLOBAL _ulltoa
216   0000              	GLOBAL _strtoull_callee
217   0000              	GLOBAL _strtoull
218   0000              	GLOBAL _strtoll_callee
219   0000              	GLOBAL _strtoll
220   0000              	GLOBAL _lltoa_callee
221   0000              	GLOBAL _lltoa
222   0000              	GLOBAL _llabs_callee
223   0000              	GLOBAL _llabs
224   0000              	GLOBAL __lldivu__callee
225   0000              	GLOBAL __lldivu_
226   0000              	GLOBAL __lldiv__callee
227   0000              	GLOBAL __lldiv_
228   0000              	GLOBAL _atoll_callee
229   0000              	GLOBAL _atoll
230   0000              	GLOBAL _realloc_unlocked_callee
231   0000              	GLOBAL _realloc_unlocked
232   0000              	GLOBAL _malloc_unlocked_fastcall
233   0000              	GLOBAL _malloc_unlocked
234   0000              	GLOBAL _free_unlocked_fastcall
235   0000              	GLOBAL _free_unlocked
236   0000              	GLOBAL _calloc_unlocked_callee
237   0000              	GLOBAL _calloc_unlocked
238   0000              	GLOBAL _aligned_alloc_unlocked_callee
239   0000              	GLOBAL _aligned_alloc_unlocked
240   0000              	GLOBAL _realloc_callee
241   0000              	GLOBAL _realloc
242   0000              	GLOBAL _malloc_fastcall
243   0000              	GLOBAL _malloc
244   0000              	GLOBAL _free_fastcall
245   0000              	GLOBAL _free
246   0000              	GLOBAL _calloc_callee
247   0000              	GLOBAL _calloc
248   0000              	GLOBAL _aligned_alloc_callee
249   0000              	GLOBAL _aligned_alloc
250   0000              	GLOBAL _utoa_callee
251   0000              	GLOBAL _utoa
252   0000              	GLOBAL _ultoa_callee
253   0000              	GLOBAL _ultoa
254   0000              	GLOBAL _system_fastcall
255   0000              	GLOBAL _system
256   0000              	GLOBAL _strtoul_callee
257   0000              	GLOBAL _strtoul
258   0000              	GLOBAL _strtol_callee
259   0000              	GLOBAL _strtol
260   0000              	GLOBAL _strtof_callee
261   0000              	GLOBAL _strtof
262   0000              	GLOBAL _strtod_callee
263   0000              	GLOBAL _strtod
264   0000              	GLOBAL _srand_fastcall
265   0000              	GLOBAL _srand
266   0000              	GLOBAL _rand
267   0000              	GLOBAL _quick_exit_fastcall
268   0000              	GLOBAL _quick_exit
269   0000              	GLOBAL _qsort_callee
270   0000              	GLOBAL _qsort
271   0000              	GLOBAL _ltoa_callee
272   0000              	GLOBAL _ltoa
273   0000              	GLOBAL _labs_fastcall
274   0000              	GLOBAL _labs
275   0000              	GLOBAL _itoa_callee
276   0000              	GLOBAL _itoa
277   0000              	GLOBAL _ftoh_callee
278   0000              	GLOBAL _ftoh
279   0000              	GLOBAL _ftog_callee
280   0000              	GLOBAL _ftog
281   0000              	GLOBAL _ftoe_callee
282   0000              	GLOBAL _ftoe
283   0000              	GLOBAL _ftoa_callee
284   0000              	GLOBAL _ftoa
285   0000              	GLOBAL _exit_fastcall
286   0000              	GLOBAL _exit
287   0000              	GLOBAL _dtoh_callee
288   0000              	GLOBAL _dtoh
289   0000              	GLOBAL _dtog_callee
290   0000              	GLOBAL _dtog
291   0000              	GLOBAL _dtoe_callee
292   0000              	GLOBAL _dtoe
293   0000              	GLOBAL _dtoa_callee
294   0000              	GLOBAL _dtoa
295   0000              	GLOBAL _bsearch_callee
296   0000              	GLOBAL _bsearch
297   0000              	GLOBAL _atol_fastcall
298   0000              	GLOBAL _atol
299   0000              	GLOBAL _atoi_fastcall
300   0000              	GLOBAL _atoi
301   0000              	GLOBAL _atof_fastcall
302   0000              	GLOBAL _atof
303   0000              	GLOBAL _atexit_fastcall
304   0000              	GLOBAL _atexit
305   0000              	GLOBAL _at_quick_exit_fastcall
306   0000              	GLOBAL _at_quick_exit
307   0000              	GLOBAL _abs_fastcall
308   0000              	GLOBAL _abs
309   0000              	GLOBAL _abort
310   0000              	GLOBAL __strtou__callee
311   0000              	GLOBAL __strtou_
312   0000              	GLOBAL __strtoi__callee
313   0000              	GLOBAL __strtoi_
314   0000              	GLOBAL __random_uniform_xor_8__fastcall
315   0000              	GLOBAL __random_uniform_xor_8_
316   0000              	GLOBAL __random_uniform_xor_32__fastcall
317   0000              	GLOBAL __random_uniform_xor_32_
318   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
319   0000              	GLOBAL __random_uniform_cmwc_8_
320   0000              	GLOBAL __shellsort__callee
321   0000              	GLOBAL __shellsort_
322   0000              	GLOBAL __quicksort__callee
323   0000              	GLOBAL __quicksort_
324   0000              	GLOBAL __insertion_sort__callee
325   0000              	GLOBAL __insertion_sort_
326   0000              	GLOBAL __ldivu__callee
327   0000              	GLOBAL __ldivu_
328   0000              	GLOBAL __ldiv__callee
329   0000              	GLOBAL __ldiv_
330   0000              	GLOBAL __divu__callee
331   0000              	GLOBAL __divu_
332   0000              	GLOBAL __div__callee
333   0000              	GLOBAL __div_
334   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
335   0000              	GLOBAL _NIRVANAP_drawTW_raw
336   0000              	GLOBAL _NIRVANAP_drawTW_callee
337   0000              	GLOBAL _NIRVANAP_drawTW
338   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
339   0000              	GLOBAL _NIRVANAP_drawW_raw
340   0000              	GLOBAL _NIRVANAP_drawW_callee
341   0000              	GLOBAL _NIRVANAP_drawW
342   0000              	GLOBAL _NIRVANAP_spriteT_callee
343   0000              	GLOBAL _NIRVANAP_spriteT
344   0000              	GLOBAL _NIRVANAP_fillC_callee
345   0000              	GLOBAL _NIRVANAP_fillC
346   0000              	GLOBAL _NIRVANAP_readC_callee
347   0000              	GLOBAL _NIRVANAP_readC
348   0000              	GLOBAL _NIRVANAP_paintC_callee
349   0000              	GLOBAL _NIRVANAP_paintC
350   0000              	GLOBAL _NIRVANAP_printC_callee
351   0000              	GLOBAL _NIRVANAP_printC
352   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
353   0000              	GLOBAL _NIRVANAP_fillT_raw
354   0000              	GLOBAL _NIRVANAP_fillT_callee
355   0000              	GLOBAL _NIRVANAP_fillT
356   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
357   0000              	GLOBAL _NIRVANAP_drawT_raw
358   0000              	GLOBAL _NIRVANAP_drawT_callee
359   0000              	GLOBAL _NIRVANAP_drawT
360   0000              	GLOBAL _NIRVANAP_stop
361   0000              	GLOBAL _NIRVANAP_start
362   0000              	GLOBAL _debug3
363   0000              	GLOBAL _debug2
364   0000              	GLOBAL _debug
365   0000              	GLOBAL _zx_print_str
366   0000              	GLOBAL _zx_print_int
367   0000              	GLOBAL _zx_print_chr
368   0000              	GLOBAL _zx_print_bonus_time
369   0000              	GLOBAL _zx_isr
370   0000              	GLOBAL _z80_otdr_callee
371   0000              	GLOBAL _z80_otdr
372   0000              	GLOBAL _z80_otir_callee
373   0000              	GLOBAL _z80_otir
374   0000              	GLOBAL _z80_outp_callee
375   0000              	GLOBAL _z80_outp
376   0000              	GLOBAL _z80_indr_callee
377   0000              	GLOBAL _z80_indr
378   0000              	GLOBAL _z80_inir_callee
379   0000              	GLOBAL _z80_inir
380   0000              	GLOBAL _z80_inp_fastcall
381   0000              	GLOBAL _z80_inp
382   0000              	GLOBAL _z80_set_int_state_fastcall
383   0000              	GLOBAL _z80_set_int_state
384   0000              	GLOBAL _z80_get_int_state
385   0000              	GLOBAL _z80_delay_tstate_fastcall
386   0000              	GLOBAL _z80_delay_tstate
387   0000              	GLOBAL _z80_delay_ms_fastcall
388   0000              	GLOBAL _z80_delay_ms
389   0000              	GLOBAL _im2_remove_generic_callback_callee
390   0000              	GLOBAL _im2_remove_generic_callback
391   0000              	GLOBAL _im2_prepend_generic_callback_callee
392   0000              	GLOBAL _im2_prepend_generic_callback
393   0000              	GLOBAL _im2_append_generic_callback_callee
394   0000              	GLOBAL _im2_append_generic_callback
395   0000              	GLOBAL _im2_create_generic_isr_8080_callee
396   0000              	GLOBAL _im2_create_generic_isr_8080
397   0000              	GLOBAL _im2_create_generic_isr_callee
398   0000              	GLOBAL _im2_create_generic_isr
399   0000              	GLOBAL _im2_install_isr_callee
400   0000              	GLOBAL _im2_install_isr
401   0000              	GLOBAL _im2_init_fastcall
402   0000              	GLOBAL _im2_init
403   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
404   0000              	GLOBAL _intrinsic_swap_word_32
405   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
406   0000              	GLOBAL _intrinsic_swap_endian_32
407   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
408   0000              	GLOBAL _intrinsic_swap_endian_16
409   0000              	GLOBAL _intrinsic_return_de
410   0000              	GLOBAL _intrinsic_return_bc
411   0000              	GLOBAL _intrinsic_exx
412   0000              	GLOBAL _intrinsic_ex_de_hl
413   0000              	GLOBAL _intrinsic_nop
414   0000              	GLOBAL _intrinsic_im_2
415   0000              	GLOBAL _intrinsic_im_1
416   0000              	GLOBAL _intrinsic_im_0
417   0000              	GLOBAL _intrinsic_retn
418   0000              	GLOBAL _intrinsic_reti
419   0000              	GLOBAL _intrinsic_halt
420   0000              	GLOBAL _intrinsic_ei
421   0000              	GLOBAL _intrinsic_di
422   0000              	GLOBAL _intrinsic_stub
423   0000              	GLOBAL _intrinsic_outi
424   0000              	GLOBAL _intrinsic_ldi
425   0000              	GLOBAL _zx_pattern_fill_callee
426   0000              	GLOBAL _zx_pattern_fill
427   0000              	GLOBAL _zx_saddrpup_fastcall
428   0000              	GLOBAL _zx_saddrpup
429   0000              	GLOBAL _zx_saddrpright_callee
430   0000              	GLOBAL _zx_saddrpright
431   0000              	GLOBAL _zx_saddrpleft_callee
432   0000              	GLOBAL _zx_saddrpleft
433   0000              	GLOBAL _zx_saddrpdown_fastcall
434   0000              	GLOBAL _zx_saddrpdown
435   0000              	GLOBAL _zx_saddrcup_fastcall
436   0000              	GLOBAL _zx_saddrcup
437   0000              	GLOBAL _zx_saddrcright_fastcall
438   0000              	GLOBAL _zx_saddrcright
439   0000              	GLOBAL _zx_saddrcleft_fastcall
440   0000              	GLOBAL _zx_saddrcleft
441   0000              	GLOBAL _zx_saddrcdown_fastcall
442   0000              	GLOBAL _zx_saddrcdown
443   0000              	GLOBAL _zx_saddr2py_fastcall
444   0000              	GLOBAL _zx_saddr2py
445   0000              	GLOBAL _zx_saddr2px_fastcall
446   0000              	GLOBAL _zx_saddr2px
447   0000              	GLOBAL _zx_saddr2cy_fastcall
448   0000              	GLOBAL _zx_saddr2cy
449   0000              	GLOBAL _zx_saddr2cx_fastcall
450   0000              	GLOBAL _zx_saddr2cx
451   0000              	GLOBAL _zx_saddr2aaddr_fastcall
452   0000              	GLOBAL _zx_saddr2aaddr
453   0000              	GLOBAL _zx_py2saddr_fastcall
454   0000              	GLOBAL _zx_py2saddr
455   0000              	GLOBAL _zx_py2aaddr_fastcall
456   0000              	GLOBAL _zx_py2aaddr
457   0000              	GLOBAL _zx_pxy2saddr_callee
458   0000              	GLOBAL _zx_pxy2saddr
459   0000              	GLOBAL _zx_pxy2aaddr_callee
460   0000              	GLOBAL _zx_pxy2aaddr
461   0000              	GLOBAL _zx_px2bitmask_fastcall
462   0000              	GLOBAL _zx_px2bitmask
463   0000              	GLOBAL _zx_cy2saddr_fastcall
464   0000              	GLOBAL _zx_cy2saddr
465   0000              	GLOBAL _zx_cy2aaddr_fastcall
466   0000              	GLOBAL _zx_cy2aaddr
467   0000              	GLOBAL _zx_cxy2saddr_callee
468   0000              	GLOBAL _zx_cxy2saddr
469   0000              	GLOBAL _zx_cxy2aaddr_callee
470   0000              	GLOBAL _zx_cxy2aaddr
471   0000              	GLOBAL _zx_bitmask2px_fastcall
472   0000              	GLOBAL _zx_bitmask2px
473   0000              	GLOBAL _zx_aaddrcup_fastcall
474   0000              	GLOBAL _zx_aaddrcup
475   0000              	GLOBAL _zx_aaddrcright_fastcall
476   0000              	GLOBAL _zx_aaddrcright
477   0000              	GLOBAL _zx_aaddrcleft_fastcall
478   0000              	GLOBAL _zx_aaddrcleft
479   0000              	GLOBAL _zx_aaddrcdown_fastcall
480   0000              	GLOBAL _zx_aaddrcdown
481   0000              	GLOBAL _zx_aaddr2saddr_fastcall
482   0000              	GLOBAL _zx_aaddr2saddr
483   0000              	GLOBAL _zx_aaddr2py_fastcall
484   0000              	GLOBAL _zx_aaddr2py
485   0000              	GLOBAL _zx_aaddr2px_fastcall
486   0000              	GLOBAL _zx_aaddr2px
487   0000              	GLOBAL _zx_aaddr2cy_fastcall
488   0000              	GLOBAL _zx_aaddr2cy
489   0000              	GLOBAL _zx_aaddr2cx_fastcall
490   0000              	GLOBAL _zx_aaddr2cx
491   0000              	GLOBAL _zx_visit_wc_pix_callee
492   0000              	GLOBAL _zx_visit_wc_pix
493   0000              	GLOBAL _zx_visit_wc_attr_callee
494   0000              	GLOBAL _zx_visit_wc_attr
495   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
496   0000              	GLOBAL _zx_scroll_wc_up_pix
497   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
498   0000              	GLOBAL _zx_scroll_wc_up_attr
499   0000              	GLOBAL _zx_scroll_wc_up_callee
500   0000              	GLOBAL _zx_scroll_wc_up
501   0000              	GLOBAL _zx_scroll_up_pix_callee
502   0000              	GLOBAL _zx_scroll_up_pix
503   0000              	GLOBAL _zx_scroll_up_attr_callee
504   0000              	GLOBAL _zx_scroll_up_attr
505   0000              	GLOBAL _zx_scroll_up_callee
506   0000              	GLOBAL _zx_scroll_up
507   0000              	GLOBAL _zx_cls_wc_pix_callee
508   0000              	GLOBAL _zx_cls_wc_pix
509   0000              	GLOBAL _zx_cls_wc_attr_callee
510   0000              	GLOBAL _zx_cls_wc_attr
511   0000              	GLOBAL _zx_cls_wc_callee
512   0000              	GLOBAL _zx_cls_wc
513   0000              	GLOBAL _zx_cls_pix_fastcall
514   0000              	GLOBAL _zx_cls_pix
515   0000              	GLOBAL _zx_cls_attr_fastcall
516   0000              	GLOBAL _zx_cls_attr
517   0000              	GLOBAL _zx_cls_fastcall
518   0000              	GLOBAL _zx_cls
519   0000              	GLOBAL _zx_border_fastcall
520   0000              	GLOBAL _zx_border
521   0000              	GLOBAL _spr_btile_paint_back
522   0000              	GLOBAL _spr_explode_bullet
523   0000              	GLOBAL _spr_init_anim_bullets
524   0000              	GLOBAL _spr_turn_horizontal
525   0000              	GLOBAL _spr_play_bullets
526   0000              	GLOBAL _spr_play_anim
527   0000              	GLOBAL _spr_add_anim
528   0000              	GLOBAL _spr_page_map
529   0000              	GLOBAL _spr_page_down
530   0000              	GLOBAL _spr_page_up
531   0000              	GLOBAL _spr_page_right
532   0000              	GLOBAL _spr_page_left
533   0000              	GLOBAL _spr_tile_paint
534   0000              	GLOBAL _spr_calc_hor
535   0000              	GLOBAL _spr_draw_row
536   0000              	GLOBAL _spr_draw_index
537   0000              	GLOBAL _spr_brick_anim
538   0000              	GLOBAL _spr_back_repaint
539   0000              	GLOBAL _spr_tile
540   0000              	GLOBAL _spr_destroy
541   0000              	GLOBAL _spr_tile_dir
542   0000              	GLOBAL _spr_redraw
543   0000              	GLOBAL _spr_move_left
544   0000              	GLOBAL _spr_move_right
545   0000              	GLOBAL _spr_move_horizontal
546   0000              	GLOBAL _spr_move_down
547   0000              	GLOBAL _spr_move_up
548   0000              	GLOBAL _spr_calc_index
549   0000              	GLOBAL _spr_chktime
550   0000              	GLOBAL _sound_hit_brick
551   0000              	GLOBAL _sound_hit_enemy
552   0000              	GLOBAL _sound_kill
553   0000              	GLOBAL _sound_enter_enemy
554   0000              	GLOBAL _sound_coin
555   0000              	GLOBAL _sound_jump
556   0000              	GLOBAL _sound_slide
557   0000              	GLOBAL _player_player_hit_pow
558   0000              	GLOBAL _game_attribs
559   0000              	GLOBAL _game_boss_clear
560   0000              	GLOBAL _game_obj_clear
561   0000              	GLOBAL _game_obj_chk
562   0000              	GLOBAL _game_obj_set
563   0000              	GLOBAL _game_shoot_fire_boss
564   0000              	GLOBAL _game_shoot_fire
565   0000              	GLOBAL _game_add_enemy
566   0000              	GLOBAL _game_joystick_set_menu
567   0000              	GLOBAL _game_joystick_set
568   0000              	GLOBAL _game_joystick_change
569   0000              	GLOBAL _game_print_header
570   0000              	GLOBAL _game_end
571   0000              	GLOBAL _game_phase_print_score_back
572   0000              	GLOBAL _game_check_time
573   0000              	GLOBAL _game_rotate_attrib
574   0000              	GLOBAL _game_colour_message
575   0000              	GLOBAL _game_paint_attrib_lin_h
576   0000              	GLOBAL _game_paint_attrib_lin
577   0000              	GLOBAL _game_paint_attrib
578   0000              	GLOBAL _game_print_score
579   0000              	GLOBAL _game_unfreeze_all
580   0000              	GLOBAL _game_freeze_all
581   0000              	GLOBAL _game_freeze
582   0000              	GLOBAL _game_enemy_add_get_index
583   0000              	GLOBAL _game_check_cell
584   0000              	GLOBAL _game_check_map
585   0000              	GLOBAL _game_loop
586   0000              	GLOBAL _game_round_init
587   0000              	GLOBAL _game_start_timer
588   0000              	GLOBAL _game_tick
589   0000              	GLOBAL _game_update_stats
590   0000              	GLOBAL _game_print_footer
591   0000              	GLOBAL _game_fill_row
592   0000              	GLOBAL _game_fps
593   0000              	GLOBAL _game_respawn
594   0000              	GLOBAL _game_draw_screen
595   0000              	GLOBAL _boss_turn
596   0000              	GLOBAL _enemy_avoid_dead
597   0000              	GLOBAL _enemy_avoid_fall
598   0000              	GLOBAL _enemy_respawn
599   0000              	GLOBAL _enemy_init
600   0000              	GLOBAL _enemy_move
601   0000              	GLOBAL _enemy_turn
602   0000              	GLOBAL _enemy_hit
603   0000              	GLOBAL _enemy_coin1
604   0000              	GLOBAL _enemy_static
605   0000              	GLOBAL _enemy_walk
606   0000              	GLOBAL _enemy_horizontal
607   0000              	GLOBAL _enemy_vertical
608   0000              	GLOBAL _ay_fx_play
609   0000              	GLOBAL _ay_midi_play
610   0000              	GLOBAL _ay_is_playing
611   0000              	GLOBAL _ay_reset
612   0000              	GLOBAL _test_func
613   0000              	GLOBAL _test_proc
614   0000              	GLOBAL _in_mouse_kempston_wheel_delta
615   0000              	GLOBAL _in_mouse_kempston_wheel
616   0000              	GLOBAL _in_mouse_kempston_callee
617   0000              	GLOBAL _in_mouse_kempston
618   0000              	GLOBAL _in_mouse_kempston_setpos_callee
619   0000              	GLOBAL _in_mouse_kempston_setpos
620   0000              	GLOBAL _in_mouse_kempston_reset
621   0000              	GLOBAL _in_mouse_kempston_init
622   0000              	GLOBAL _in_mouse_amx_wheel_delta
623   0000              	GLOBAL _in_mouse_amx_wheel
624   0000              	GLOBAL _in_mouse_amx_callee
625   0000              	GLOBAL _in_mouse_amx
626   0000              	GLOBAL _in_mouse_amx_setpos_callee
627   0000              	GLOBAL _in_mouse_amx_setpos
628   0000              	GLOBAL _in_mouse_amx_reset
629   0000              	GLOBAL _in_mouse_amx_init_callee
630   0000              	GLOBAL _in_mouse_amx_init
631   0000              	GLOBAL _in_stick_sinclair2
632   0000              	GLOBAL _in_stick_sinclair1
633   0000              	GLOBAL _in_stick_kempston
634   0000              	GLOBAL _in_stick_fuller
635   0000              	GLOBAL _in_stick_cursor
636   0000              	GLOBAL _in_stick_keyboard_fastcall
637   0000              	GLOBAL _in_stick_keyboard
638   0000              	GLOBAL _in_wait_nokey
639   0000              	GLOBAL _in_wait_key
640   0000              	GLOBAL _in_test_key
641   0000              	GLOBAL _in_pause_fastcall
642   0000              	GLOBAL _in_pause
643   0000              	GLOBAL _in_key_scancode_fastcall
644   0000              	GLOBAL _in_key_scancode
645   0000              	GLOBAL _in_key_pressed_fastcall
646   0000              	GLOBAL _in_key_pressed
647   0000              	GLOBAL _in_inkey
648   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
649   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
650   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
651   0000              	GLOBAL _NIRVANAP_HOLE
652   0000              	GLOBAL _NIRVANAP_ISR_HOOK
653   0000              	GLOBAL _player_lvl_table
654   0000              	GLOBAL _map_paper_last
655   0000              	GLOBAL _map_paper_clr
656   0000              	GLOBAL _map_paper
657   0000              	GLOBAL _draw_count
658   0000              	GLOBAL _g_player_hit_right
659   0000              	GLOBAL _g_player_hit_left
660   0000              	GLOBAL _joynames
661   0000              	GLOBAL _initials
662   0000              	GLOBAL _bullet_count
663   0000              	GLOBAL _spr_hack
664   0000              	GLOBAL _boss_stat
665   0000              	GLOBAL _boss_time_fire
666   0000              	GLOBAL _boss_time
667   0000              	GLOBAL _boss_tile
668   0000              	GLOBAL _boss_inc
669   0000              	GLOBAL _boss_col
670   0000              	GLOBAL _boss_lin
671   0000              	GLOBAL _bullet_vel
672   0000              	GLOBAL _bullet_frames
673   0000              	GLOBAL _bullet_colint
674   0000              	GLOBAL _bullet_dir
675   0000              	GLOBAL _bullet_tile
676   0000              	GLOBAL _bullet_col
677   0000              	GLOBAL _bullet_lin
678   0000              	GLOBAL _bullet_col0
679   0000              	GLOBAL _bullet_lin0
680   0000              	GLOBAL _bullet_max
681   0000              	GLOBAL _bullet_class
682   0000              	GLOBAL _mush_class
683   0000              	GLOBAL _mush_index
684   0000              	GLOBAL _anim_count
685   0000              	GLOBAL _anim_respanwn
686   0000              	GLOBAL _anim_loop
687   0000              	GLOBAL _anim_end
688   0000              	GLOBAL _anim_int
689   0000              	GLOBAL _anim_tile
690   0000              	GLOBAL _anim_col
691   0000              	GLOBAL _anim_lin
692   0000              	GLOBAL _map_heigth
693   0000              	GLOBAL _map_width
694   0000              	GLOBAL _scr_curr
695   0000              	GLOBAL _scr_obj1
696   0000              	GLOBAL _scr_obj0
697   0000              	GLOBAL _scr_map
698   0000              	GLOBAL _sprite_speed_alt
699   0000              	GLOBAL _sprite_frames
700   0000              	GLOBAL _sprite_speed
701   0000              	GLOBAL _screen_ink
702   0000              	GLOBAL _screen_paper
703   0000              	GLOBAL _player_over_stair
704   0000              	GLOBAL _game_start_scr
705   0000              	GLOBAL _game_respawn_tile
706   0000              	GLOBAL _game_respawn_index
707   0000              	GLOBAL _game_respawn_time
708   0000              	GLOBAL _game_menu_sel
709   0000              	GLOBAL _game_score_top
710   0000              	GLOBAL _player_lives
711   0000              	GLOBAL _game_over
712   0000              	GLOBAL _game_sound
713   0000              	GLOBAL _game_inmune
714   0000              	GLOBAL _game_god_mode
715   0000              	GLOBAL _game_two_player
716   0000              	GLOBAL _game_brick_tile
717   0000              	GLOBAL _sprite_curr_index
718   0000              	GLOBAL _spr_count
719   0000              	GLOBAL _bullet_time
720   0000              	GLOBAL _anim_time
721   0000              	GLOBAL _frame_time
722   0000              	GLOBAL _entry_time
723   0000              	GLOBAL _curr_time
724   0000              	GLOBAL _s_state
725   0000              	GLOBAL _attrib_hl
726   0000              	GLOBAL _attrib
727   0000              	GLOBAL _zx_val_asm
728   0000              	GLOBAL _enemies
729   0000              	GLOBAL _tmp_ui
730   0000              	GLOBAL _tmp_sc
731   0000              	GLOBAL _tmp_uc
732   0000              	GLOBAL _tmp1
733   0000              	GLOBAL _tmp0
734   0000              	GLOBAL _tmp
735   0000              	GLOBAL _index1
736   0000              	GLOBAL _index0
737   0000              	GLOBAL _loop_count
738   0000              	GLOBAL _s_col1
739   0000              	GLOBAL _s_col0
740   0000              	GLOBAL _s_lin1
741   0000              	GLOBAL _s_lin0
742   0000              	GLOBAL _s_tile1
743   0000              	GLOBAL _s_tile0
744   0000              	GLOBAL _player_brick_time
745   0000              	GLOBAL _player_hit_count
746   0000              	GLOBAL _sprite_horizontal_check
747   0000              	GLOBAL _sprite_on_air
748   0000              	GLOBAL _sprite
749   0000              	GLOBAL _fps
750   0000              	GLOBAL _game_respawn_curr_time
751   0000              	GLOBAL _game_worldup
752   0000              	GLOBAL _game_mush_count
753   0000              	GLOBAL _game_boss_fix
754   0000              	GLOBAL _game_boss_hit
755   0000              	GLOBAL _game_boss_alive
756   0000              	GLOBAL _game_boss
757   0000              	GLOBAL _game_world
758   0000              	GLOBAL _game_gravity
759   0000              	GLOBAL _player_hit_time
760   0000              	GLOBAL _player_lin_scr
761   0000              	GLOBAL _player_col_scr
762   0000              	GLOBAL _player_lvl
763   0000              	GLOBAL _player_int
764   0000              	GLOBAL _player_str
765   0000              	GLOBAL _player_max_vita
766   0000              	GLOBAL _player_max_mana
767   0000              	GLOBAL _player_vita
768   0000              	GLOBAL _player_mana
769   0000              	GLOBAL _player_keys
770   0000              	GLOBAL _player_vel_inc
771   0000              	GLOBAL _player_vel_y1
772   0000              	GLOBAL _player_vel_y0
773   0000              	GLOBAL _player_vel_y
774   0000              	GLOBAL _player_vel_x
775   0000              	GLOBAL _player_joy
776   0000              	GLOBAL _player_score
777   0000              	GLOBAL _last_time
778   0000              	GLOBAL _player_slide
779   0000              	GLOBAL _spr_timer
780   0000              	GLOBAL _jump_lin
781   0000              	GLOBAL _player_hit_col
782   0000              	GLOBAL _player_hit_lin
783   0000              	GLOBAL _colint
784   0000              	GLOBAL _col
785   0000              	GLOBAL _lin
786   0000              	GLOBAL _tile
787   0000              	GLOBAL _state_a
788   0000              	GLOBAL _state
789   0000              	GLOBAL _class
790   0000              	GLOBAL _tbuffer
791   0000              	GLOBAL _dirs
792   0000              	GLOBAL _k1
793   0000              	GLOBAL _joyfunc1
794   0000              	GLOBAL _btiles
795   0000              	GLOBAL _spec128
796   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
798   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
799   0000              	GLOBAL _ay_effect_20
800   0000              	GLOBAL _ay_effect_19
801   0000              	GLOBAL _ay_effect_18
802   0000              	GLOBAL _ay_effect_17
803   0000              	GLOBAL _ay_effect_16
804   0000              	GLOBAL _ay_effect_15
805   0000              	GLOBAL _ay_effect_14
806   0000              	GLOBAL _ay_effect_13
807   0000              	GLOBAL _ay_effect_12
808   0000              	GLOBAL _ay_effect_11
809   0000              	GLOBAL _ay_effect_10
810   0000              	GLOBAL _ay_effect_09
811   0000              	GLOBAL _ay_effect_08
812   0000              	GLOBAL _ay_effect_07
813   0000              	GLOBAL _ay_effect_06
814   0000              	GLOBAL _ay_effect_05
815   0000              	GLOBAL _ay_effect_04
816   0000              	GLOBAL _ay_effect_03
817   0000              	GLOBAL _ay_effect_02
818   0000              	GLOBAL _ay_effect_01
819   0000              	GLOBAL _pb_midi_phase_1
820   0000              	GLOBAL _pb_midi_title
821   0000              	GLOBAL _control_method
822   0000              	GLOBAL _world1_h
823   0000              	GLOBAL _world1_w
824   0000              	GLOBAL _world1
825   0000              	GLOBAL _paper1
826   0000              	GLOBAL _lenght1
827   0000              	GLOBAL _start_scr1
828   0000              	GLOBAL _world0_h
829   0000              	GLOBAL _world0_w
830   0000              	GLOBAL _world0
831   0000              	GLOBAL _paper0
832   0000              	GLOBAL _lenght0
833   0000              	GLOBAL _start_scr0
834   0000              ;--------------------------------------------------------
835   0000              ; special function registers
836   0000              ;--------------------------------------------------------
837   0000              defc _IO_FE	=	0x00fe
838   0000              defc _IO_1FFD	=	0x1ffd
839   0000              defc _IO_7FFD	=	0x7ffd
840   0000              ;--------------------------------------------------------
841   0000              ; ram data
842   0000              ;--------------------------------------------------------
843   0000              	SECTION bss_compiler
844   0000              ;--------------------------------------------------------
845   0000              ; ram data
846   0000              ;--------------------------------------------------------
847   0000              
848   0000              IF 0
849   0000              
850   0000              ; .area _INITIALIZED removed by z88dk
851   0000              
852   0000              
853   0000              ENDIF
854   0000              
855   0000              ;--------------------------------------------------------
856   0000              ; absolute external ram data
857   0000              ;--------------------------------------------------------
858   0000              	SECTION IGNORE
859   0000              ;--------------------------------------------------------
860   0000              ; global & static initialisations
861   0000              ;--------------------------------------------------------
862   0000              	SECTION code_crt_init
863   0000              ;--------------------------------------------------------
864   0000              ; Home
865   0000              ;--------------------------------------------------------
866   0000              	SECTION IGNORE
867   0000              ;--------------------------------------------------------
868   0000              ; code
869   0000              ;--------------------------------------------------------
870   0000              	SECTION code_compiler
871   0000              ;	---------------------------------
872   0000              ; Function player_init
873   0000              ; ---------------------------------
874   0000              _player_init:
875   0000  CD 00 00    	call	___sdcc_enter_ix
876   0003  F5          	push	af
877   0004  3E 00       	ld	a, +((_class) & 0xFF)
878   0006  DD 86 04    	add	a,(ix+4)
879   0009  4F          	ld	c, a
880   000A  3E 00       	ld	a, +((_class) / 256)
881   000C  CE 00       	adc	a,0x00
882   000E  47          	ld	b, a
883   000F  AF          	xor	a, a
884   0010  02          	ld	(bc), a
885   0011  3E 00       	ld	a, +((_tile) & 0xFF)
886   0013  DD 86 04    	add	a,(ix+4)
887   0016  4F          	ld	c, a
888   0017  3E 00       	ld	a, +((_tile) / 256)
889   0019  CE 00       	adc	a,0x00
890   001B  47          	ld	b, a
891   001C  DD 7E 07    	ld	a,(ix+7)
892   001F  02          	ld	(bc), a
893   0020  3E 00       	ld	a, +((_lin) & 0xFF)
894   0022  DD 86 04    	add	a,(ix+4)
895   0025  4F          	ld	c, a
896   0026  3E 00       	ld	a, +((_lin) / 256)
897   0028  CE 00       	adc	a,0x00
898   002A  47          	ld	b, a
899   002B  DD 7E 05    	ld	a,(ix+5)
900   002E  02          	ld	(bc), a
901   002F  3E 00       	ld	a, +((_col) & 0xFF)
902   0031  DD 86 04    	add	a,(ix+4)
903   0034  4F          	ld	c, a
904   0035  3E 00       	ld	a, +((_col) / 256)
905   0037  CE 00       	adc	a,0x00
906   0039  47          	ld	b, a
907   003A  DD 7E 06    	ld	a,(ix+6)
908   003D  02          	ld	(bc), a
909   003E  3E 00       	ld	a, +((_colint) & 0xFF)
910   0040  DD 86 04    	add	a,(ix+4)
911   0043  4F          	ld	c, a
912   0044  3E 00       	ld	a, +((_colint) / 256)
913   0046  CE 00       	adc	a,0x00
914   0048  47          	ld	b, a
915   0049  AF          	xor	a, a
916   004A  02          	ld	(bc), a
917   004B  3E 00       	ld	a, +((_state) & 0xFF)
918   004D  DD 86 04    	add	a,(ix+4)
919   0050  4F          	ld	c, a
920   0051  3E 00       	ld	a, +((_state) / 256)
921   0053  CE 00       	adc	a,0x00
922   0055  47          	ld	b, a
923   0056  AF          	xor	a, a
924   0057  02          	ld	(bc), a
925   0058  3E 00       	ld	a, +((_state_a) & 0xFF)
926   005A  DD 86 04    	add	a,(ix+4)
927   005D  4F          	ld	c, a
928   005E  3E 00       	ld	a, +((_state_a) / 256)
929   0060  CE 00       	adc	a,0x00
930   0062  47          	ld	b, a
931   0063  AF          	xor	a, a
932   0064  02          	ld	(bc), a
933   0065  3E 00       	ld	a, +((_jump_lin) & 0xFF)
934   0067  DD 86 04    	add	a,(ix+4)
935   006A  5F          	ld	e, a
936   006B  3E 00       	ld	a, +((_jump_lin) / 256)
937   006D  CE 00       	adc	a,0x00
938   006F  57          	ld	d, a
939   0070  DD 7E 05    	ld	a,(ix+5)
940   0073  12          	ld	(de), a
941   0074  DD 6E 04    	ld	l,(ix+4)
942   0077  26 00       	ld	h,0x00
943   0079  29          	add	hl,hl
944   007A  11 00 00    	ld	de,_last_time
945   007D  19          	add	hl, de
946   007E  E3          	ex	(sp), hl
947   007F  E1          	pop	hl
948   0080  ED 5B 00 00 	ld	de,(_curr_time)
949   0084  E5          	push	hl
950   0085  73          	ld	(hl), e
951   0086  23          	inc	hl
952   0087  72          	ld	(hl), d
953   0088  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
954   008A  DD 86 04    	add	a,(ix+4)
955   008D  5F          	ld	e, a
956   008E  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
957   0090  CE 00       	adc	a,0x00
958   0092  57          	ld	d, a
959   0093  AF          	xor	a, a
960   0094  12          	ld	(de), a
961   0095  0A          	ld	a, (bc)
962   0096  F6 11       	or	a,+(0x01|0x10)
963   0098  02          	ld	(bc),a
964   0099  21 00 00    	ld	hl,_player_hit_col
965   009C  36 00       	ld	(hl),0x00
966   009E  21 00 00    	ld	hl,_player_hit_lin
967   00A1  36 00       	ld	(hl),0x00
968   00A3  21 00 00    	ld	hl,_player_slide
969   00A6  36 00       	ld	(hl),0x00
970   00A8  DD 66 06    	ld	h,(ix+6)
971   00AB  DD 6E 05    	ld	l,(ix+5)
972   00AE  E5          	push	hl
973   00AF  DD 66 07    	ld	h,(ix+7)
974   00B2  DD 6E 04    	ld	l,(ix+4)
975   00B5  E5          	push	hl
976   00B6  CD 00 00    	call	_NIRVANAP_spriteT_callee
977   00B9  F1          	pop	af
978   00BA  DD E1       	pop	ix
979   00BC  C9          	ret
980   00BD              	SECTION code_compiler
981   00BD              ;	---------------------------------
982   00BD              ; Function player_check_input
983   00BD              ; ---------------------------------
984   00BD              _player_check_input:
985   00BD  21 00 00    	ld	hl,_dirs
986   00C0  CB 56       	bit	2, (hl)
987   00C2  28 0C       	jr	Z,l_player_check_input_00102
988   00C4  21 00 00    	ld	hl,_dirs
989   00C7  CB 5E       	bit	3, (hl)
990   00C9  28 05       	jr	Z,l_player_check_input_00102
991   00CB  21 00 00    	ld	hl,_dirs
992   00CE  36 00       	ld	(hl),0x00
993   00D0              l_player_check_input_00102:
994   00D0  21 00 00    	ld	hl,_dirs
995   00D3  7E          	ld	a, (hl)
996   00D4  CB 07       	rlc	a
997   00D6  E6 01       	and	a,0x01
998   00D8  CB 47       	bit	0, a
999   00DA  20 1D       	jr	NZ,l_player_check_input_00107
1000  00DC  CB 56       	bit	2, (hl)
1001  00DE  20 19       	jr	NZ,l_player_check_input_00107
1002  00E0  21 00 00    	ld	hl,_dirs
1003  00E3  CB 5E       	bit	3, (hl)
1004  00E5  20 12       	jr	NZ,l_player_check_input_00107
1005  00E7  21 00 00    	ld	hl,_dirs
1006  00EA  CB 46       	bit	0, (hl)
1007  00EC  20 0B       	jr	NZ,l_player_check_input_00107
1008  00EE  21 00 00    	ld	hl,_dirs
1009  00F1  CB 4E       	bit	1, (hl)
1010  00F3  20 04       	jr	NZ,l_player_check_input_00107
1011  00F5  2E 00       	ld	l,0x00
1012  00F7  18 02       	jr	l_player_check_input_00108
1013  00F9              l_player_check_input_00107:
1014  00F9  2E 01       	ld	l,0x01
1015  00FB              l_player_check_input_00108:
1016  00FB  C9          	ret
1017  00FC              	SECTION code_compiler
1018  00FC              ;	---------------------------------
1019  00FC              ; Function player_collision
1020  00FC              ; ---------------------------------
1021  00FC              _player_collision:
1022  00FC  21 19 00    	ld	hl,0x0019
1023  00FF  E5          	push	hl
1024  0100  2A 00 00    	ld	hl,(_player_hit_time)
1025  0103  E5          	push	hl
1026  0104  CD 00 00    	call	_game_check_time
1027  0107  F1          	pop	af
1028  0108  F1          	pop	af
1029  0109  7D          	ld	a, l
1030  010A  B7          	or	a, a
1031  010B  CA 4E 02    	jp	Z, l_player_collision_00124
1032  010E  21 00 00    	ld	hl,_sprite
1033  0111  36 00       	ld	(hl),0x00
1034  0113  3A 07 00    	ld	a,(_col + 7)
1035  0116  32 00 00    	ld	(_s_col1),a
1036  0119  3A 07 00    	ld	a,(_lin + 7)
1037  011C  32 00 00    	ld	(_s_lin1),a
1038  011F  C6 08       	add	a,0x08
1039  0121  4F          	ld	c, a
1040  0122  3A 00 00    	ld	a, (_s_col1)
1041  0125  47          	ld	b,a
1042  0126  C5          	push	bc
1043  0127  CD 00 00    	call	_spr_calc_index
1044  012A  F1          	pop	af
1045  012B  7D          	ld	a,l
1046  012C  32 00 00    	ld	(_sprite_curr_index),a
1047  012F  4F          	ld	c,a
1048  0130  06 00       	ld	b,0x00
1049  0132  21 00 00    	ld	hl,_scr_map
1050  0135  09          	add	hl,bc
1051  0136  4E          	ld	c, (hl)
1052  0137  3E 2F       	ld	a,0x2f
1053  0139  91          	sub	a, c
1054  013A  30 0F       	jr	NC,l_player_collision_00120
1055  013C  79          	ld	a, c
1056  013D  D6 3C       	sub	a,0x3c
1057  013F  30 0A       	jr	NC,l_player_collision_00120
1058  0141  2E 06       	ld	l,0x06
1059  0143  CD 00 00    	call	_zx_border_fastcall
1060  0146  2E 32       	ld	l,0x32
1061  0148  CD 6B 12    	call	_player_hit
1062  014B              l_player_collision_00120:
1063  014B  21 00 00    	ld	hl,_sprite
1064  014E  7E          	ld	a, (hl)
1065  014F  D6 07       	sub	a,0x07
1066  0151  D2 4E 02    	jp	NC, l_player_collision_00124
1067  0154  3E 00       	ld	a, +((_class) & 0xFF)
1068  0156  86          	add	a, (hl)
1069  0157  4F          	ld	c, a
1070  0158  3E 00       	ld	a, +((_class) / 256)
1071  015A  CE 00       	adc	a,0x00
1072  015C  47          	ld	b, a
1073  015D  0A          	ld	a, (bc)
1074  015E  B7          	or	a, a
1075  015F  CA 47 02    	jp	Z, l_player_collision_00119
1076  0162  4E          	ld	c,(hl)
1077  0163  06 00       	ld	b,0x00
1078  0165  21 00 00    	ld	hl,_col
1079  0168  09          	add	hl,bc
1080  0169  4E          	ld	c, (hl)
1081  016A  06 00       	ld	b,0x00
1082  016C  3A 00 00    	ld	a,(_s_col1)
1083  016F  5F          	ld	e,a
1084  0170  16 00       	ld	d,0x00
1085  0172  79          	ld	a, c
1086  0173  93          	sub	a, e
1087  0174  6F          	ld	l, a
1088  0175  78          	ld	a, b
1089  0176  9A          	sbc	a, d
1090  0177  67          	ld	h, a
1091  0178  CD 00 00    	call	_abs_fastcall
1092  017B  7D          	ld	a,l
1093  017C  D6 02       	sub	a,0x02
1094  017E  7C          	ld	a,h
1095  017F  17          	rla
1096  0180  3F          	ccf
1097  0181  1F          	rra
1098  0182  DE 80       	sbc	a,0x80
1099  0184  D2 47 02    	jp	NC, l_player_collision_00119
1100  0187  2A 00 00    	ld	hl,(_sprite)
1101  018A  26 00       	ld	h,0x00
1102  018C  01 00 00    	ld	bc,_lin
1103  018F  09          	add	hl,bc
1104  0190  4E          	ld	c,(hl)
1105  0191  06 00       	ld	b,0x00
1106  0193  3A 00 00    	ld	a,(_s_lin1)
1107  0196  5F          	ld	e,a
1108  0197  16 00       	ld	d,0x00
1109  0199  79          	ld	a, c
1110  019A  93          	sub	a, e
1111  019B  6F          	ld	l, a
1112  019C  78          	ld	a, b
1113  019D  9A          	sbc	a, d
1114  019E  67          	ld	h, a
1115  019F  CD 00 00    	call	_abs_fastcall
1116  01A2  7D          	ld	a,l
1117  01A3  D6 0E       	sub	a,0x0e
1118  01A5  7C          	ld	a,h
1119  01A6  17          	rla
1120  01A7  3F          	ccf
1121  01A8  1F          	rra
1122  01A9  DE 80       	sbc	a,0x80
1123  01AB  D2 47 02    	jp	NC, l_player_collision_00119
1124  01AE  2A 00 00    	ld	hl,(_sprite)
1125  01B1  26 00       	ld	h,0x00
1126  01B3  01 00 00    	ld	bc,_class
1127  01B6  09          	add	hl,bc
1128  01B7  7E          	ld	a,(hl)
1129  01B8  FE 06       	cp	a,0x06
1130  01BA  20 2D       	jr	NZ,l_player_collision_00107
1131  01BC  21 00 00    	ld	hl,_player_vita
1132  01BF  7E          	ld	a, (hl)
1133  01C0  C6 19       	add	a,0x19
1134  01C2  77          	ld	(hl), a
1135  01C3  3A 00 00    	ld	a,(_player_max_vita)
1136  01C6  21 00 00    	ld	hl,_player_vita
1137  01C9  96          	sub	a, (hl)
1138  01CA  30 06       	jr	NC,l_player_collision_00105
1139  01CC  3A 00 00    	ld	a,(_player_max_vita)
1140  01CF  32 00 00    	ld	(_player_vita),a
1141  01D2              l_player_collision_00105:
1142  01D2  21 01 00    	ld	hl,0x0001
1143  01D5  CD 5A 0C    	call	_player_score_add
1144  01D8  CD 00 00    	call	_game_update_stats
1145  01DB  2A 00 00    	ld	hl,(_sprite)
1146  01DE  CD 00 00    	call	_spr_destroy
1147  01E1  21 00 00    	ld	hl,_game_mush_count
1148  01E4  35          	dec	(hl)
1149  01E5  2E 00       	ld	l,0x00
1150  01E7  18 67       	jr	l_player_collision_00125
1151  01E9              l_player_collision_00107:
1152  01E9  FE 07       	cp	a,0x07
1153  01EB  20 2D       	jr	NZ,l_player_collision_00111
1154  01ED  21 00 00    	ld	hl,_player_mana
1155  01F0  7E          	ld	a, (hl)
1156  01F1  C6 19       	add	a,0x19
1157  01F3  77          	ld	(hl), a
1158  01F4  3A 00 00    	ld	a,(_player_max_mana)
1159  01F7  21 00 00    	ld	hl,_player_mana
1160  01FA  96          	sub	a, (hl)
1161  01FB  30 06       	jr	NC,l_player_collision_00109
1162  01FD  3A 00 00    	ld	a,(_player_max_mana)
1163  0200  32 00 00    	ld	(_player_mana),a
1164  0203              l_player_collision_00109:
1165  0203  21 01 00    	ld	hl,0x0001
1166  0206  CD 5A 0C    	call	_player_score_add
1167  0209  CD 00 00    	call	_game_update_stats
1168  020C  2A 00 00    	ld	hl,(_sprite)
1169  020F  CD 00 00    	call	_spr_destroy
1170  0212  21 00 00    	ld	hl,_game_mush_count
1171  0215  35          	dec	(hl)
1172  0216  2E 00       	ld	l,0x00
1173  0218  18 36       	jr	l_player_collision_00125
1174  021A              l_player_collision_00111:
1175  021A  D6 08       	sub	a,0x08
1176  021C  20 1B       	jr	NZ,l_player_collision_00113
1177  021E  21 00 00    	ld	hl,_player_lives
1178  0221  34          	inc	(hl)
1179  0222  21 01 00    	ld	hl,0x0001
1180  0225  CD 5A 0C    	call	_player_score_add
1181  0228  CD 00 00    	call	_game_update_stats
1182  022B  2A 00 00    	ld	hl,(_sprite)
1183  022E  CD 00 00    	call	_spr_destroy
1184  0231  21 00 00    	ld	hl,_game_mush_count
1185  0234  35          	dec	(hl)
1186  0235  2E 00       	ld	l,0x00
1187  0237  18 17       	jr	l_player_collision_00125
1188  0239              l_player_collision_00113:
1189  0239  2E 02       	ld	l,0x02
1190  023B  CD 00 00    	call	_zx_border_fastcall
1191  023E  2E 14       	ld	l,0x14
1192  0240  CD 6B 12    	call	_player_hit
1193  0243  2E 01       	ld	l,0x01
1194  0245  18 09       	jr	l_player_collision_00125
1195  0247              l_player_collision_00119:
1196  0247  21 00 00    	ld	hl,_sprite
1197  024A  34          	inc	(hl)
1198  024B  C3 4B 01    	jp	l_player_collision_00120
1199  024E              l_player_collision_00124:
1200  024E  2E 00       	ld	l,0x00
1201  0250              l_player_collision_00125:
1202  0250  C9          	ret
1203  0251              	SECTION code_compiler
1204  0251              ;	---------------------------------
1205  0251              ; Function player_kill
1206  0251              ; ---------------------------------
1207  0251              _player_kill:
1208  0251  01 00 00    	ld	bc,_state+0
1209  0254  2A 00 00    	ld	hl,(_sprite)
1210  0257  26 00       	ld	h,0x00
1211  0259  09          	add	hl,bc
1212  025A  CB 6E       	bit	5,(hl)
1213  025C  C2 25 03    	jp	NZ,l_player_kill_00109
1214  025F  C5          	push	bc
1215  0260  CD 00 00    	call	_sound_hit_brick
1216  0263  C1          	pop	bc
1217  0264  79          	ld	a, c
1218  0265  21 00 00    	ld	hl,_sprite
1219  0268  86          	add	a, (hl)
1220  0269  5F          	ld	e, a
1221  026A  78          	ld	a, b
1222  026B  CE 00       	adc	a,0x00
1223  026D  57          	ld	d, a
1224  026E  1A          	ld	a, (de)
1225  026F  F6 20       	or	a,0x20
1226  0271  12          	ld	(de), a
1227  0272  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1228  0274  86          	add	a, (hl)
1229  0275  5F          	ld	e, a
1230  0276  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1231  0278  CE 00       	adc	a,0x00
1232  027A  57          	ld	d, a
1233  027B  3E 03       	ld	a,0x03
1234  027D  12          	ld	(de), a
1235  027E  79          	ld	a, c
1236  027F  86          	add	a, (hl)
1237  0280  4F          	ld	c, a
1238  0281  78          	ld	a, b
1239  0282  CE 00       	adc	a,0x00
1240  0284  47          	ld	b, a
1241  0285  0A          	ld	a, (bc)
1242  0286  CB 57       	bit	2, a
1243  0288  28 0D       	jr	Z,l_player_kill_00102
1244  028A  2A 00 00    	ld	hl,(_sprite)
1245  028D  26 00       	ld	h,0x00
1246  028F  01 00 00    	ld	bc,_tile
1247  0292  09          	add	hl,bc
1248  0293  36 4C       	ld	(hl),0x4c
1249  0295  18 0B       	jr	l_player_kill_00103
1250  0297              l_player_kill_00102:
1251  0297  2A 00 00    	ld	hl,(_sprite)
1252  029A  26 00       	ld	h,0x00
1253  029C  01 00 00    	ld	bc,_tile
1254  029F  09          	add	hl,bc
1255  02A0  36 54       	ld	(hl),0x54
1256  02A2              l_player_kill_00103:
1257  02A2  CD 21 0C    	call	_player_hit_platform_clear
1258  02A5  2A 00 00    	ld	hl,(_sprite)
1259  02A8  26 00       	ld	h,0x00
1260  02AA  01 00 00    	ld	bc,_col
1261  02AD  09          	add	hl,bc
1262  02AE  4E          	ld	c, (hl)
1263  02AF  2A 00 00    	ld	hl,(_sprite)
1264  02B2  26 00       	ld	h,0x00
1265  02B4  11 00 00    	ld	de,_lin
1266  02B7  19          	add	hl,de
1267  02B8  46          	ld	b, (hl)
1268  02B9  2A 00 00    	ld	hl,(_sprite)
1269  02BC  26 00       	ld	h,0x00
1270  02BE  11 00 00    	ld	de,_tile
1271  02C1  19          	add	hl,de
1272  02C2  5E          	ld	e, (hl)
1273  02C3  79          	ld	a,c
1274  02C4  48          	ld	c,b
1275  02C5  47          	ld	b,a
1276  02C6  21 00 00    	ld	hl,_sprite
1277  02C9  C5          	push	bc
1278  02CA  7B          	ld	a, e
1279  02CB  F5          	push	af
1280  02CC  33          	inc	sp
1281  02CD  7E          	ld	a, (hl)
1282  02CE  F5          	push	af
1283  02CF  33          	inc	sp
1284  02D0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1285  02D3  01 00 00    	ld	bc,_spr_timer+0
1286  02D6  2A 00 00    	ld	hl,(_sprite)
1287  02D9  26 00       	ld	h,0x00
1288  02DB  29          	add	hl, hl
1289  02DC  09          	add	hl,bc
1290  02DD  ED 5B 00 00 	ld	de,(_curr_time)
1291  02E1  73          	ld	(hl),e
1292  02E2  23          	inc	hl
1293  02E3  72          	ld	(hl),d
1294  02E4  3A 00 00    	ld	a,(_sprite)
1295  02E7  D6 07       	sub	a,0x07
1296  02E9  20 1E       	jr	NZ,l_player_kill_00105
1297  02EB  01 00 00    	ld	bc,_state_a+0
1298  02EE  79          	ld	a, c
1299  02EF  21 00 00    	ld	hl,_sprite
1300  02F2  86          	add	a, (hl)
1301  02F3  5F          	ld	e, a
1302  02F4  78          	ld	a, b
1303  02F5  CE 00       	adc	a,0x00
1304  02F7  57          	ld	d, a
1305  02F8  1A          	ld	a, (de)
1306  02F9  F6 08       	or	a,0x08
1307  02FB  12          	ld	(de), a
1308  02FC  79          	ld	a, c
1309  02FD  86          	add	a, (hl)
1310  02FE  4F          	ld	c, a
1311  02FF  78          	ld	a, b
1312  0300  CE 00       	adc	a,0x00
1313  0302  47          	ld	b, a
1314  0303  0A          	ld	a, (bc)
1315  0304  E6 EF       	and	a,0xef
1316  0306  02          	ld	(bc), a
1317  0307  18 1C       	jr	l_player_kill_00109
1318  0309              l_player_kill_00105:
1319  0309  01 00 00    	ld	bc,_state_a+0
1320  030C  79          	ld	a, c
1321  030D  21 00 00    	ld	hl,_sprite
1322  0310  86          	add	a, (hl)
1323  0311  5F          	ld	e, a
1324  0312  78          	ld	a, b
1325  0313  CE 00       	adc	a,0x00
1326  0315  57          	ld	d, a
1327  0316  1A          	ld	a, (de)
1328  0317  F6 10       	or	a,0x10
1329  0319  12          	ld	(de), a
1330  031A  79          	ld	a, c
1331  031B  86          	add	a, (hl)
1332  031C  4F          	ld	c, a
1333  031D  78          	ld	a, b
1334  031E  CE 00       	adc	a,0x00
1335  0320  47          	ld	b, a
1336  0321  0A          	ld	a, (bc)
1337  0322  E6 F7       	and	a,0xf7
1338  0324  02          	ld	(bc), a
1339  0325              l_player_kill_00109:
1340  0325  C9          	ret
1341  0326              	SECTION code_compiler
1342  0326              ;	---------------------------------
1343  0326              ; Function player_restart
1344  0326              ; ---------------------------------
1345  0326              _player_restart:
1346  0326  CD 00 00    	call	___sdcc_enter_ix
1347  0329  F5          	push	af
1348  032A  4D          	ld	c, l
1349  032B  21 00 00    	ld	hl,_ay_effect_15
1350  032E  CD 00 00    	call	_ay_fx_play
1351  0331  C5          	push	bc
1352  0332  21 0E 70    	ld	hl,0x700e
1353  0335  E5          	push	hl
1354  0336  21 07 00    	ld	hl,0x0007
1355  0339  E5          	push	hl
1356  033A  CD 00 00    	call	_player_init
1357  033D  F1          	pop	af
1358  033E  F1          	pop	af
1359  033F  C1          	pop	bc
1360  0340  11 00 00    	ld	de,_state+0
1361  0343  69          	ld	l,c
1362  0344  26 00       	ld	h,0x00
1363  0346  19          	add	hl, de
1364  0347  CB E6       	set	4, (hl)
1365  0349  11 00 00    	ld	de,_state_a+0
1366  034C  69          	ld	l,c
1367  034D  26 00       	ld	h,0x00
1368  034F  19          	add	hl, de
1369  0350  CB C6       	set	0, (hl)
1370  0352  11 00 00    	ld	de,_spr_timer+0
1371  0355  69          	ld	l, c
1372  0356  26 00       	ld	h,0x00
1373  0358  29          	add	hl, hl
1374  0359  19          	add	hl,de
1375  035A  E3          	ex	(sp), hl
1376  035B  E1          	pop	hl
1377  035C  ED 5B 00 00 	ld	de,(_curr_time)
1378  0360  E5          	push	hl
1379  0361  73          	ld	(hl), e
1380  0362  23          	inc	hl
1381  0363  72          	ld	(hl), d
1382  0364  11 00 00    	ld	de,_sprite_speed_alt+0
1383  0367  69          	ld	l,c
1384  0368  26 00       	ld	h,0x00
1385  036A  19          	add	hl, de
1386  036B  F1          	pop	af
1387  036C  36 08       	ld	(hl),0x08
1388  036E  DD E1       	pop	ix
1389  0370  C9          	ret
1390  0371              	SECTION code_compiler
1391  0371              ;	---------------------------------
1392  0371              ; Function player_turn
1393  0371              ; ---------------------------------
1394  0371              _player_turn:
1395  0371  21 00 00    	ld	hl,_sprite
1396  0374  CD 00 00    	call	_spr_chktime
1397  0377  7D          	ld	a, l
1398  0378  B7          	or	a, a
1399  0379  C8          	ret	Z
1400  037A  21 00 00    	ld	hl,_k1
1401  037D  E5          	push	hl
1402  037E  2A 00 00    	ld	hl,(_joyfunc1)
1403  0381  CD 00 00    	call	___sdcc_call_hl
1404  0384  F1          	pop	af
1405  0385  7D          	ld	a,l
1406  0386  32 00 00    	ld	(_dirs),a
1407  0389  CD 8F 03    	call	_player_move
1408  038C  C3 FC 00    	jp  _player_collision
1409  038F              	SECTION code_compiler
1410  038F              ;	---------------------------------
1411  038F              ; Function player_move
1412  038F              ; ---------------------------------
1413  038F              _player_move:
1414  038F  2A 00 00    	ld	hl,(_sprite)
1415  0392  26 00       	ld	h,0x00
1416  0394  01 00 00    	ld	bc,_lin
1417  0397  09          	add	hl,bc
1418  0398  7E          	ld	a,(hl)
1419  0399  32 00 00    	ld	(_s_lin0),a
1420  039C  2A 00 00    	ld	hl,(_sprite)
1421  039F  26 00       	ld	h,0x00
1422  03A1  01 00 00    	ld	bc,_col
1423  03A4  09          	add	hl,bc
1424  03A5  7E          	ld	a,(hl)
1425  03A6  32 00 00    	ld	(_s_col0),a
1426  03A9  2A 00 00    	ld	hl,(_sprite)
1427  03AC  26 00       	ld	h,0x00
1428  03AE  01 00 00    	ld	bc,_tile
1429  03B1  09          	add	hl,bc
1430  03B2  4E          	ld	c, (hl)
1431  03B3  3A 00 00    	ld	a,(_sprite)
1432  03B6  5F          	ld	e,a
1433  03B7  16 00       	ld	d,0x00
1434  03B9  21 00 00    	ld	hl,_colint
1435  03BC  19          	add	hl,de
1436  03BD  7E          	ld	a,(hl)
1437  03BE  81          	add	a,c
1438  03BF  32 00 00    	ld	(_s_tile0),a
1439  03C2  2A 00 00    	ld	hl,(_sprite)
1440  03C5  26 00       	ld	h,0x00
1441  03C7  01 00 00    	ld	bc,_state
1442  03CA  09          	add	hl,bc
1443  03CB  7E          	ld	a,(hl)
1444  03CC  CB 47       	bit	0,a
1445  03CE  32 00 00    	ld	(_s_state),a
1446  03D1  20 07       	jr	NZ,l_player_move_00113
1447  03D3  21 00 00    	ld	hl,_s_state
1448  03D6  CB 4E       	bit	1, (hl)
1449  03D8  28 46       	jr	Z,l_player_move_00114
1450  03DA              l_player_move_00113:
1451  03DA  CD 4B 07    	call	_player_fire
1452  03DD  3A 00 00    	ld	a,(_player_vel_y)
1453  03E0  21 00 00    	ld	hl,_player_vel_y1
1454  03E3  96          	sub	a, (hl)
1455  03E4  E2 E9 03    	jp	PO, l_player_move_00162
1456  03E7  EE 80       	xor	a,0x80
1457  03E9              l_player_move_00162:
1458  03E9  F2 0C 04    	jp	P, l_player_move_00106
1459  03EC  21 00 00    	ld	hl,_dirs
1460  03EF  CB 56       	bit	2, (hl)
1461  03F1  28 09       	jr	Z,l_player_move_00102
1462  03F3  21 00 00    	ld	hl,_s_state
1463  03F6  7E          	ld	a,(hl)
1464  03F7  F6 08       	or	a,0x08
1465  03F9  E6 FB       	and	a,0xfb
1466  03FB  77          	ld	(hl),a
1467  03FC              l_player_move_00102:
1468  03FC  21 00 00    	ld	hl,_dirs
1469  03FF  CB 4E       	bit	1, (hl)
1470  0401  28 09       	jr	Z,l_player_move_00106
1471  0403  21 00 00    	ld	hl,_s_state
1472  0406  7E          	ld	a,(hl)
1473  0407  F6 04       	or	a,0x04
1474  0409  E6 F7       	and	a,0xf7
1475  040B  77          	ld	(hl),a
1476  040C              l_player_move_00106:
1477  040C  CD 09 0E    	call	_player_move_jump
1478  040F  7D          	ld	a, l
1479  0410  B7          	or	a, a
1480  0411  28 2E       	jr	Z,l_player_move_00115
1481  0413  3A 00 00    	ld	a,(_player_over_stair)
1482  0416  B7          	or	a, a
1483  0417  20 28       	jr	NZ,l_player_move_00115
1484  0419  2E 60       	ld	l,0x60
1485  041B  CD 78 05    	call	_player_tile
1486  041E  18 21       	jr	l_player_move_00115
1487  0420              l_player_move_00114:
1488  0420  CD CE 05    	call	_player_move_input
1489  0423  7D          	ld	a, l
1490  0424  B7          	or	a, a
1491  0425  20 17       	jr	NZ,l_player_move_00112
1492  0427  2A 00 00    	ld	hl,(_sprite)
1493  042A  26 00       	ld	h,0x00
1494  042C  01 00 00    	ld	bc,_colint
1495  042F  09          	add	hl,bc
1496  0430  AF          	xor	a,a
1497  0431  77          	ld	(hl),a
1498  0432  2E 70       	ld	l,0x70
1499  0434  CD 78 05    	call	_player_tile
1500  0437  21 00 00    	ld	hl,_s_state
1501  043A  7E          	ld	a,(hl)
1502  043B  E6 F3       	and	a,+(0xf7&0xfb)
1503  043D  77          	ld	(hl),a
1504  043E              l_player_move_00112:
1505  043E  CD BE 0C    	call	_player_check_floor
1506  0441              l_player_move_00115:
1507  0441  CD 00 00    	call	_spr_redraw
1508  0444  7D          	ld	a, l
1509  0445  B7          	or	a, a
1510  0446  28 03       	jr	Z,l_player_move_00118
1511  0448  CD 94 07    	call	_player_check_map
1512  044B              l_player_move_00118:
1513  044B  3A 00 00    	ld	a,(_player_hit_lin)
1514  044E  B7          	or	a, a
1515  044F  28 03       	jr	Z,l_player_move_00120
1516  0451  CD 21 0C    	call	_player_hit_platform_clear
1517  0454              l_player_move_00120:
1518  0454  2A 00 00    	ld	hl,(_sprite)
1519  0457  26 00       	ld	h,0x00
1520  0459  01 00 00    	ld	bc,_state
1521  045C  09          	add	hl,bc
1522  045D  3A 00 00    	ld	a,(_s_state)
1523  0460  77          	ld	(hl),a
1524  0461  2E 00       	ld	l,0x00
1525  0463  C9          	ret
1526  0464              	SECTION code_compiler
1527  0464              ;	---------------------------------
1528  0464              ; Function player_check_stairs_down
1529  0464              ; ---------------------------------
1530  0464              _player_check_stairs_down:
1531  0464  CD 00 00    	call	___sdcc_enter_ix
1532  0467  3B          	dec	sp
1533  0468  2A 00 00    	ld	hl,(_sprite)
1534  046B  26 00       	ld	h,0x00
1535  046D  01 00 00    	ld	bc,_col
1536  0470  09          	add	hl,bc
1537  0471  56          	ld	d, (hl)
1538  0472  2A 00 00    	ld	hl,(_sprite)
1539  0475  26 00       	ld	h,0x00
1540  0477  01 00 00    	ld	bc,_lin
1541  047A  09          	add	hl,bc
1542  047B  7E          	ld	a,(hl)
1543  047C  C6 10       	add	a,0x10
1544  047E  5F          	ld	e, a
1545  047F  D5          	push	de
1546  0480  CD 00 00    	call	_spr_calc_index
1547  0483  F1          	pop	af
1548  0484  7D          	ld	a,l
1549  0485  32 00 00    	ld	(_sprite_curr_index),a
1550  0488  4F          	ld	c,a
1551  0489  06 00       	ld	b,0x00
1552  048B  21 00 00    	ld	hl,_scr_map
1553  048E  09          	add	hl,bc
1554  048F  7E          	ld	a,(hl)
1555  0490  4F          	ld	c,a
1556  0491  D6 44       	sub	a,0x44
1557  0493  38 05       	jr	C,l_player_check_stairs_down_00107
1558  0495  3E 47       	ld	a,0x47
1559  0497  91          	sub	a, c
1560  0498  30 04       	jr	NC,l_player_check_stairs_down_00108
1561  049A              l_player_check_stairs_down_00107:
1562  049A  3E 00       	ld	a,0x00
1563  049C  18 02       	jr	l_player_check_stairs_down_00109
1564  049E              l_player_check_stairs_down_00108:
1565  049E  3E 01       	ld	a,0x01
1566  04A0              l_player_check_stairs_down_00109:
1567  04A0  B7          	or	a, a
1568  04A1  28 16       	jr	Z,l_player_check_stairs_down_00105
1569  04A3  3A 00 00    	ld	a,(_player_over_stair)
1570  04A6  B7          	or	a, a
1571  04A7  28 0B       	jr	Z,l_player_check_stairs_down_00102
1572  04A9  2A 00 00    	ld	hl,(_sprite)
1573  04AC  26 00       	ld	h,0x00
1574  04AE  01 00 00    	ld	bc,_colint
1575  04B1  09          	add	hl,bc
1576  04B2  AF          	xor	a,a
1577  04B3  77          	ld	(hl),a
1578  04B4              l_player_check_stairs_down_00102:
1579  04B4  21 00 00    	ld	hl,_player_over_stair
1580  04B7  36 01       	ld	(hl),0x01
1581  04B9              l_player_check_stairs_down_00105:
1582  04B9  33          	inc	sp
1583  04BA  DD E1       	pop	ix
1584  04BC  C9          	ret
1585  04BD              	SECTION code_compiler
1586  04BD              ;	---------------------------------
1587  04BD              ; Function player_check_stairs
1588  04BD              ; ---------------------------------
1589  04BD              _player_check_stairs:
1590  04BD  CD 00 00    	call	___sdcc_enter_ix
1591  04C0  F5          	push	af
1592  04C1  4D          	ld	c, l
1593  04C2  2A 00 00    	ld	hl,(_sprite)
1594  04C5  26 00       	ld	h,0x00
1595  04C7  11 00 00    	ld	de,_col
1596  04CA  19          	add	hl,de
1597  04CB  7E          	ld	a,(hl)
1598  04CC  81          	add	a,c
1599  04CD  5F          	ld	e,a
1600  04CE  3E 00       	ld	a,+((_lin) & 0xFF)
1601  04D0  21 00 00    	ld	hl,_sprite
1602  04D3  86          	add	a, (hl)
1603  04D4  6F          	ld	l, a
1604  04D5  3E 00       	ld	a, +((_lin) / 256)
1605  04D7  CE 00       	adc	a,0x00
1606  04D9  67          	ld	h, a
1607  04DA  46          	ld	b, (hl)
1608  04DB  C5          	push	bc
1609  04DC  7B          	ld	a, e
1610  04DD  48          	ld	c,b
1611  04DE  47          	ld	b,a
1612  04DF  C5          	push	bc
1613  04E0  CD 00 00    	call	_spr_calc_index
1614  04E3  F1          	pop	af
1615  04E4  C1          	pop	bc
1616  04E5  7D          	ld	a,l
1617  04E6  32 00 00    	ld	(_sprite_curr_index),a
1618  04E9  5F          	ld	e,a
1619  04EA  16 00       	ld	d,0x00
1620  04EC  21 00 00    	ld	hl,_scr_map
1621  04EF  19          	add	hl,de
1622  04F0  7E          	ld	a,(hl)
1623  04F1  47          	ld	b,a
1624  04F2  D6 44       	sub	a,0x44
1625  04F4  38 05       	jr	C,l_player_check_stairs_00111
1626  04F6  3E 47       	ld	a,0x47
1627  04F8  90          	sub	a, b
1628  04F9  30 04       	jr	NC,l_player_check_stairs_00112
1629  04FB              l_player_check_stairs_00111:
1630  04FB  1E 00       	ld	e,0x00
1631  04FD  18 02       	jr	l_player_check_stairs_00113
1632  04FF              l_player_check_stairs_00112:
1633  04FF  1E 01       	ld	e,0x01
1634  0501              l_player_check_stairs_00113:
1635  0501  DD 73 FE    	ld	(ix-2),e
1636  0504  2A 00 00    	ld	hl,(_sprite)
1637  0507  26 00       	ld	h,0x00
1638  0509  11 00 00    	ld	de,_col
1639  050C  19          	add	hl,de
1640  050D  7E          	ld	a,(hl)
1641  050E  81          	add	a,c
1642  050F  4F          	ld	c,a
1643  0510  3A 00 00    	ld	a,(_sprite)
1644  0513  5F          	ld	e,a
1645  0514  16 00       	ld	d,0x00
1646  0516  21 00 00    	ld	hl,_lin
1647  0519  19          	add	hl,de
1648  051A  7E          	ld	a,(hl)
1649  051B  C6 0F       	add	a,0x0f
1650  051D  47          	ld	b, a
1651  051E  79          	ld	a, c
1652  051F  48          	ld	c,b
1653  0520  47          	ld	b,a
1654  0521  C5          	push	bc
1655  0522  CD 00 00    	call	_spr_calc_index
1656  0525  F1          	pop	af
1657  0526  7D          	ld	a,l
1658  0527  32 00 00    	ld	(_sprite_curr_index),a
1659  052A  4F          	ld	c,a
1660  052B  06 00       	ld	b,0x00
1661  052D  21 00 00    	ld	hl,_scr_map
1662  0530  09          	add	hl,bc
1663  0531  7E          	ld	a,(hl)
1664  0532  4F          	ld	c,a
1665  0533  D6 44       	sub	a,0x44
1666  0535  38 05       	jr	C,l_player_check_stairs_00114
1667  0537  3E 47       	ld	a,0x47
1668  0539  91          	sub	a, c
1669  053A  30 04       	jr	NC,l_player_check_stairs_00115
1670  053C              l_player_check_stairs_00114:
1671  053C  0E 00       	ld	c,0x00
1672  053E  18 02       	jr	l_player_check_stairs_00116
1673  0540              l_player_check_stairs_00115:
1674  0540  0E 01       	ld	c,0x01
1675  0542              l_player_check_stairs_00116:
1676  0542  DD 7E FE    	ld	a,(ix-2)
1677  0545  B7          	or	a,a
1678  0546  20 03       	jr	NZ,l_player_check_stairs_00105
1679  0548  B1          	or	a,c
1680  0549  28 1B       	jr	Z,l_player_check_stairs_00106
1681  054B              l_player_check_stairs_00105:
1682  054B  21 00 00    	ld	hl,_player_over_stair
1683  054E  7E          	ld	a, (hl)
1684  054F  B7          	or	a, a
1685  0550  20 22       	jr	NZ,l_player_check_stairs_00109
1686  0552  36 01       	ld	(hl),0x01
1687  0554  2A 00 00    	ld	hl,(_sprite)
1688  0557  26 00       	ld	h,0x00
1689  0559  01 00 00    	ld	bc,_colint
1690  055C  09          	add	hl,bc
1691  055D  AF          	xor	a,a
1692  055E  77          	ld	(hl),a
1693  055F  2E 72       	ld	l,0x72
1694  0561  CD 78 05    	call	_player_tile
1695  0564  18 0E       	jr	l_player_check_stairs_00109
1696  0566              l_player_check_stairs_00106:
1697  0566  21 00 00    	ld	hl,_player_over_stair
1698  0569  7E          	ld	a, (hl)
1699  056A  B7          	or	a, a
1700  056B  28 07       	jr	Z,l_player_check_stairs_00109
1701  056D  36 00       	ld	(hl),0x00
1702  056F  2E 60       	ld	l,0x60
1703  0571  CD 78 05    	call	_player_tile
1704  0574              l_player_check_stairs_00109:
1705  0574  F1          	pop	af
1706  0575  DD E1       	pop	ix
1707  0577  C9          	ret
1708  0578              	SECTION code_compiler
1709  0578              ;	---------------------------------
1710  0578              ; Function player_tile
1711  0578              ; ---------------------------------
1712  0578              _player_tile:
1713  0578  45          	ld	b, l
1714  0579  3A 00 00    	ld	a,(_player_over_stair)
1715  057C  B7          	or	a, a
1716  057D  28 0D       	jr	Z,l_player_tile_00105
1717  057F  2A 00 00    	ld	hl,(_sprite)
1718  0582  26 00       	ld	h,0x00
1719  0584  01 00 00    	ld	bc,_tile
1720  0587  09          	add	hl,bc
1721  0588  36 72       	ld	(hl),0x72
1722  058A  18 41       	jr	l_player_tile_00107
1723  058C              l_player_tile_00105:
1724  058C  78          	ld	a, b
1725  058D  D6 70       	sub	a,0x70
1726  058F  20 1F       	jr	NZ,l_player_tile_00102
1727  0591  2A 00 00    	ld	hl,(_sprite)
1728  0594  26 00       	ld	h,0x00
1729  0596  11 00 00    	ld	de,_tile
1730  0599  19          	add	hl,de
1731  059A  E5          	push	hl
1732  059B  3E 01       	ld	a,0x01
1733  059D  21 00 00    	ld	hl,_sprite
1734  05A0  F5          	push	af
1735  05A1  33          	inc	sp
1736  05A2  7E          	ld	a, (hl)
1737  05A3  48          	ld	c,b
1738  05A4  47          	ld	b,a
1739  05A5  C5          	push	bc
1740  05A6  CD 00 00    	call	_spr_tile_dir
1741  05A9  F1          	pop	af
1742  05AA  33          	inc	sp
1743  05AB  D1          	pop	de
1744  05AC  7D          	ld	a,l
1745  05AD  12          	ld	(de), a
1746  05AE  18 1D       	jr	l_player_tile_00107
1747  05B0              l_player_tile_00102:
1748  05B0  2A 00 00    	ld	hl,(_sprite)
1749  05B3  26 00       	ld	h,0x00
1750  05B5  11 00 00    	ld	de,_tile
1751  05B8  19          	add	hl,de
1752  05B9  E5          	push	hl
1753  05BA  3E 08       	ld	a,0x08
1754  05BC  21 00 00    	ld	hl,_sprite
1755  05BF  F5          	push	af
1756  05C0  33          	inc	sp
1757  05C1  7E          	ld	a, (hl)
1758  05C2  48          	ld	c,b
1759  05C3  47          	ld	b,a
1760  05C4  C5          	push	bc
1761  05C5  CD 00 00    	call	_spr_tile_dir
1762  05C8  F1          	pop	af
1763  05C9  33          	inc	sp
1764  05CA  D1          	pop	de
1765  05CB  7D          	ld	a,l
1766  05CC  12          	ld	(de), a
1767  05CD              l_player_tile_00107:
1768  05CD  C9          	ret
1769  05CE              	SECTION code_compiler
1770  05CE              ;	---------------------------------
1771  05CE              ; Function player_move_input
1772  05CE              ; ---------------------------------
1773  05CE              _player_move_input:
1774  05CE  CD BD 00    	call	_player_check_input
1775  05D1  7D          	ld	a, l
1776  05D2  B7          	or	a, a
1777  05D3  CA 48 07    	jp	Z, l_player_move_input_00137
1778  05D6  CD 4B 07    	call	_player_fire
1779  05D9  7D          	ld	a, l
1780  05DA  B7          	or	a, a
1781  05DB  28 0A       	jr	Z,l_player_move_input_00102
1782  05DD  21 00 00    	ld	hl,_dirs
1783  05E0  36 00       	ld	(hl),0x00
1784  05E2  2E 00       	ld	l,0x00
1785  05E4  C3 4A 07    	jp	l_player_move_input_00138
1786  05E7              l_player_move_input_00102:
1787  05E7  21 00 00    	ld	hl,_dirs
1788  05EA  CB 7E       	bit	7, (hl)
1789  05EC  28 6E       	jr	Z,l_player_move_input_00106
1790  05EE  21 00 00    	ld	hl,_dirs
1791  05F1  CB 46       	bit	0, (hl)
1792  05F3  28 67       	jr	Z,l_player_move_input_00106
1793  05F5  21 00 00    	ld	hl,_player_vel_inc
1794  05F8  36 01       	ld	(hl),0x01
1795  05FA  CD 00 00    	call	_ay_is_playing
1796  05FD  7D          	ld	a, l
1797  05FE  D6 03       	sub	a,0x03
1798  0600  28 06       	jr	Z,l_player_move_input_00104
1799  0602  21 00 00    	ld	hl,_ay_effect_03
1800  0605  CD 00 00    	call	_ay_fx_play
1801  0608              l_player_move_input_00104:
1802  0608  21 00 00    	ld	hl,_player_over_stair
1803  060B  36 00       	ld	(hl),0x00
1804  060D  CD 00 00    	call	_sound_jump
1805  0610  21 00 00    	ld	hl,_s_state
1806  0613  7E          	ld	a,(hl)
1807  0614  F6 01       	or	a,0x01
1808  0616  E6 FD       	and	a,0xfd
1809  0618  77          	ld	(hl),a
1810  0619  2A 00 00    	ld	hl,(_sprite)
1811  061C  26 00       	ld	h,0x00
1812  061E  01 00 00    	ld	bc,_jump_lin
1813  0621  09          	add	hl,bc
1814  0622  4D          	ld	c,l
1815  0623  44          	ld	b,h
1816  0624  2A 00 00    	ld	hl,(_sprite)
1817  0627  26 00       	ld	h,0x00
1818  0629  11 00 00    	ld	de,_lin
1819  062C  19          	add	hl,de
1820  062D  7E          	ld	a,(hl)
1821  062E  02          	ld	(bc),a
1822  062F  2A 00 00    	ld	hl,(_sprite)
1823  0632  26 00       	ld	h,0x00
1824  0634  01 00 00    	ld	bc,_state
1825  0637  09          	add	hl,bc
1826  0638  3A 00 00    	ld	a,(_s_state)
1827  063B  77          	ld	(hl),a
1828  063C  2E 64       	ld	l,0x64
1829  063E  CD 78 05    	call	_player_tile
1830  0641  2A 00 00    	ld	hl,(_sprite)
1831  0644  26 00       	ld	h,0x00
1832  0646  01 00 00    	ld	bc,_sprite_speed_alt
1833  0649  09          	add	hl,bc
1834  064A  36 02       	ld	(hl),0x02
1835  064C  21 00 00    	ld	hl,_player_slide
1836  064F  36 00       	ld	(hl),0x00
1837  0651  3A 00 00    	ld	a,(_player_vel_y0)
1838  0654  32 00 00    	ld	(_player_vel_y),a
1839  0657  2E 01       	ld	l,0x01
1840  0659  C3 4A 07    	jp	l_player_move_input_00138
1841  065C              l_player_move_input_00106:
1842  065C  21 00 00    	ld	hl,_dirs
1843  065F  CB 5E       	bit	3, (hl)
1844  0661  28 33       	jr	Z,l_player_move_input_00111
1845  0663  21 00 00    	ld	hl,_s_state
1846  0666  7E          	ld	a,(hl)
1847  0667  F6 04       	or	a,0x04
1848  0669  E6 F7       	and	a,0xf7
1849  066B  77          	ld	(hl),a
1850  066C  01 00 00    	ld	bc,_state_a+0
1851  066F  79          	ld	a, c
1852  0670  21 00 00    	ld	hl,_sprite
1853  0673  86          	add	a, (hl)
1854  0674  5F          	ld	e, a
1855  0675  78          	ld	a, b
1856  0676  CE 00       	adc	a,0x00
1857  0678  57          	ld	d, a
1858  0679  1A          	ld	a, (de)
1859  067A  F6 10       	or	a,0x10
1860  067C  12          	ld	(de), a
1861  067D  79          	ld	a, c
1862  067E  86          	add	a, (hl)
1863  067F  4F          	ld	c, a
1864  0680  78          	ld	a, b
1865  0681  CE 00       	adc	a,0x00
1866  0683  47          	ld	b, a
1867  0684  0A          	ld	a, (bc)
1868  0685  E6 F7       	and	a,0xf7
1869  0687  02          	ld	(bc), a
1870  0688  3A 00 00    	ld	a,(_player_over_stair)
1871  068B  B7          	or	a, a
1872  068C  28 05       	jr	Z,l_player_move_input_00109
1873  068E  2E 00       	ld	l,0x00
1874  0690  CD BD 04    	call	_player_check_stairs
1875  0693              l_player_move_input_00109:
1876  0693  CD 00 00    	call	_spr_move_horizontal
1877  0696              l_player_move_input_00111:
1878  0696  21 00 00    	ld	hl,_dirs
1879  0699  CB 56       	bit	2, (hl)
1880  069B  28 33       	jr	Z,l_player_move_input_00115
1881  069D  21 00 00    	ld	hl,_s_state
1882  06A0  7E          	ld	a,(hl)
1883  06A1  F6 08       	or	a,0x08
1884  06A3  E6 FB       	and	a,0xfb
1885  06A5  77          	ld	(hl),a
1886  06A6  01 00 00    	ld	bc,_state_a+0
1887  06A9  79          	ld	a, c
1888  06AA  21 00 00    	ld	hl,_sprite
1889  06AD  86          	add	a, (hl)
1890  06AE  5F          	ld	e, a
1891  06AF  78          	ld	a, b
1892  06B0  CE 00       	adc	a,0x00
1893  06B2  57          	ld	d, a
1894  06B3  1A          	ld	a, (de)
1895  06B4  F6 08       	or	a,0x08
1896  06B6  12          	ld	(de), a
1897  06B7  79          	ld	a, c
1898  06B8  86          	add	a, (hl)
1899  06B9  4F          	ld	c, a
1900  06BA  78          	ld	a, b
1901  06BB  CE 00       	adc	a,0x00
1902  06BD  47          	ld	b, a
1903  06BE  0A          	ld	a, (bc)
1904  06BF  E6 EF       	and	a,0xef
1905  06C1  02          	ld	(bc), a
1906  06C2  3A 00 00    	ld	a,(_player_over_stair)
1907  06C5  B7          	or	a, a
1908  06C6  28 05       	jr	Z,l_player_move_input_00113
1909  06C8  2E 00       	ld	l,0x00
1910  06CA  CD BD 04    	call	_player_check_stairs
1911  06CD              l_player_move_input_00113:
1912  06CD  CD 00 00    	call	_spr_move_horizontal
1913  06D0              l_player_move_input_00115:
1914  06D0  21 00 00    	ld	hl,_dirs
1915  06D3  CB 46       	bit	0, (hl)
1916  06D5  28 2B       	jr	Z,l_player_move_input_00125
1917  06D7  2E 00       	ld	l,0x00
1918  06D9  CD BD 04    	call	_player_check_stairs
1919  06DC  3A 00 00    	ld	a,(_player_over_stair)
1920  06DF  B7          	or	a, a
1921  06E0  28 0E       	jr	Z,l_player_move_input_00122
1922  06E2  CD 00 00    	call	_spr_move_up
1923  06E5  7D          	ld	a, l
1924  06E6  B7          	or	a, a
1925  06E7  28 19       	jr	Z,l_player_move_input_00125
1926  06E9  21 00 00    	ld	hl,_player_over_stair
1927  06EC  36 00       	ld	(hl),0x00
1928  06EE  18 12       	jr	l_player_move_input_00125
1929  06F0              l_player_move_input_00122:
1930  06F0  21 00 00    	ld	hl,_dirs
1931  06F3  CB 5E       	bit	3, (hl)
1932  06F5  20 0B       	jr	NZ,l_player_move_input_00125
1933  06F7  21 00 00    	ld	hl,_dirs
1934  06FA  CB 56       	bit	2, (hl)
1935  06FC  20 04       	jr	NZ,l_player_move_input_00125
1936  06FE  2E 00       	ld	l,0x00
1937  0700  18 48       	jr	l_player_move_input_00138
1938  0702              l_player_move_input_00125:
1939  0702  21 00 00    	ld	hl,_dirs
1940  0705  CB 4E       	bit	1, (hl)
1941  0707  28 29       	jr	Z,l_player_move_input_00135
1942  0709  CD 64 04    	call	_player_check_stairs_down
1943  070C  3A 00 00    	ld	a,(_player_over_stair)
1944  070F  B7          	or	a, a
1945  0710  28 0E       	jr	Z,l_player_move_input_00132
1946  0712  CD 00 00    	call	_spr_move_down
1947  0715  7D          	ld	a, l
1948  0716  B7          	or	a, a
1949  0717  28 19       	jr	Z,l_player_move_input_00135
1950  0719  21 00 00    	ld	hl,_player_over_stair
1951  071C  36 00       	ld	(hl),0x00
1952  071E  18 12       	jr	l_player_move_input_00135
1953  0720              l_player_move_input_00132:
1954  0720  21 00 00    	ld	hl,_dirs
1955  0723  CB 5E       	bit	3, (hl)
1956  0725  20 0B       	jr	NZ,l_player_move_input_00135
1957  0727  21 00 00    	ld	hl,_dirs
1958  072A  CB 56       	bit	2, (hl)
1959  072C  20 04       	jr	NZ,l_player_move_input_00135
1960  072E  2E 00       	ld	l,0x00
1961  0730  18 18       	jr	l_player_move_input_00138
1962  0732              l_player_move_input_00135:
1963  0732  2A 00 00    	ld	hl,(_sprite)
1964  0735  26 00       	ld	h,0x00
1965  0737  01 00 00    	ld	bc,_state
1966  073A  09          	add	hl,bc
1967  073B  3A 00 00    	ld	a,(_s_state)
1968  073E  77          	ld	(hl),a
1969  073F  2E 60       	ld	l,0x60
1970  0741  CD 78 05    	call	_player_tile
1971  0744  2E 01       	ld	l,0x01
1972  0746  18 02       	jr	l_player_move_input_00138
1973  0748              l_player_move_input_00137:
1974  0748  2E 00       	ld	l,0x00
1975  074A              l_player_move_input_00138:
1976  074A  C9          	ret
1977  074B              	SECTION code_compiler
1978  074B              ;	---------------------------------
1979  074B              ; Function player_fire
1980  074B              ; ---------------------------------
1981  074B              _player_fire:
1982  074B  21 00 00    	ld	hl,_dirs
1983  074E  CB 7E       	bit	7, (hl)
1984  0750  28 3F       	jr	Z,l_player_fire_00110
1985  0752  21 00 00    	ld	hl,_dirs
1986  0755  CB 46       	bit	0, (hl)
1987  0757  20 38       	jr	NZ,l_player_fire_00110
1988  0759  21 00 00    	ld	hl,_player_mana
1989  075C  7E          	ld	a, (hl)
1990  075D  B7          	or	a, a
1991  075E  28 2D       	jr	Z,l_player_fire_00107
1992  0760  3A 07 00    	ld	a,(_bullet_col + 0x0007)
1993  0763  3C          	inc	a
1994  0764  20 27       	jr	NZ,l_player_fire_00107
1995  0766  3E 05       	ld	a,0x05
1996  0768  96          	sub	a, (hl)
1997  0769  30 12       	jr	NC,l_player_fire_00104
1998  076B  CD 00 00    	call	_sound_hit_enemy
1999  076E  3A 00 00    	ld	a,(_game_god_mode)
2000  0771  B7          	or	a, a
2001  0772  20 0E       	jr	NZ,l_player_fire_00105
2002  0774  21 00 00    	ld	hl,_player_mana
2003  0777  7E          	ld	a, (hl)
2004  0778  C6 FB       	add	a,0xfb
2005  077A  77          	ld	(hl), a
2006  077B  18 05       	jr	l_player_fire_00105
2007  077D              l_player_fire_00104:
2008  077D  21 00 00    	ld	hl,_player_mana
2009  0780  36 00       	ld	(hl),0x00
2010  0782              l_player_fire_00105:
2011  0782  CD 00 00    	call	_game_update_stats
2012  0785  21 07 78    	ld	hl,0x7807
2013  0788  E5          	push	hl
2014  0789  CD 00 00    	call	_game_shoot_fire
2015  078C  F1          	pop	af
2016  078D              l_player_fire_00107:
2017  078D  2E 01       	ld	l,0x01
2018  078F  18 02       	jr	l_player_fire_00112
2019  0791              l_player_fire_00110:
2020  0791  2E 00       	ld	l,0x00
2021  0793              l_player_fire_00112:
2022  0793  C9          	ret
2023  0794              	SECTION code_compiler
2024  0794              ;	---------------------------------
2025  0794              ; Function player_check_map
2026  0794              ; ---------------------------------
2027  0794              _player_check_map:
2028  0794  2A 00 00    	ld	hl,(_sprite)
2029  0797  26 00       	ld	h,0x00
2030  0799  01 00 00    	ld	bc,_col
2031  079C  09          	add	hl,bc
2032  079D  4E          	ld	c, (hl)
2033  079E  3A 00 00    	ld	a,(_sprite)
2034  07A1  5F          	ld	e,a
2035  07A2  16 00       	ld	d,0x00
2036  07A4  21 00 00    	ld	hl,_lin
2037  07A7  19          	add	hl,de
2038  07A8  5E          	ld	e, (hl)
2039  07A9  51          	ld	d,c
2040  07AA  D5          	push	de
2041  07AB  CD 00 00    	call	_spr_calc_index
2042  07AE  F1          	pop	af
2043  07AF  7D          	ld	a,l
2044  07B0  32 00 00    	ld	(_sprite_curr_index),a
2045  07B3  2A 00 00    	ld	hl,(_sprite)
2046  07B6  26 00       	ld	h,0x00
2047  07B8  01 00 00    	ld	bc,_col
2048  07BB  09          	add	hl,bc
2049  07BC  4E          	ld	c, (hl)
2050  07BD  3A 00 00    	ld	a,(_sprite)
2051  07C0  5F          	ld	e,a
2052  07C1  16 00       	ld	d,0x00
2053  07C3  21 00 00    	ld	hl,_lin
2054  07C6  19          	add	hl,de
2055  07C7  7E          	ld	a,(hl)
2056  07C8  E6 0F       	and	a,0x0f
2057  07CA  CB 41       	bit	0, c
2058  07CC  20 17       	jr	NZ,l_player_check_map_00108
2059  07CE  B7          	or	a, a
2060  07CF  20 05       	jr	NZ,l_player_check_map_00102
2061  07D1  CD 10 08    	call	_player_pick_item
2062  07D4  18 39       	jr	l_player_check_map_00110
2063  07D6              l_player_check_map_00102:
2064  07D6  CD 10 08    	call	_player_pick_item
2065  07D9  21 00 00    	ld	hl,_sprite_curr_index
2066  07DC  7E          	ld	a, (hl)
2067  07DD  C6 10       	add	a,0x10
2068  07DF  77          	ld	(hl), a
2069  07E0  CD 10 08    	call	_player_pick_item
2070  07E3  18 2A       	jr	l_player_check_map_00110
2071  07E5              l_player_check_map_00108:
2072  07E5  B7          	or	a, a
2073  07E6  20 0C       	jr	NZ,l_player_check_map_00105
2074  07E8  CD 10 08    	call	_player_pick_item
2075  07EB  21 00 00    	ld	hl,_sprite_curr_index
2076  07EE  34          	inc	(hl)
2077  07EF  CD 10 08    	call	_player_pick_item
2078  07F2  18 1B       	jr	l_player_check_map_00110
2079  07F4              l_player_check_map_00105:
2080  07F4  CD 10 08    	call	_player_pick_item
2081  07F7  21 00 00    	ld	hl,_sprite_curr_index
2082  07FA  34          	inc	(hl)
2083  07FB  CD 10 08    	call	_player_pick_item
2084  07FE  21 00 00    	ld	hl,_sprite_curr_index
2085  0801  7E          	ld	a, (hl)
2086  0802  C6 0F       	add	a,0x0f
2087  0804  77          	ld	(hl), a
2088  0805  CD 10 08    	call	_player_pick_item
2089  0808  21 00 00    	ld	hl,_sprite_curr_index
2090  080B  34          	inc	(hl)
2091  080C  CD 10 08    	call	_player_pick_item
2092  080F              l_player_check_map_00110:
2093  080F  C9          	ret
2094  0810              	SECTION code_compiler
2095  0810              ;	---------------------------------
2096  0810              ; Function player_pick_item
2097  0810              ; ---------------------------------
2098  0810              _player_pick_item:
2099  0810  2A 00 00    	ld	hl,(_sprite_curr_index)
2100  0813  26 00       	ld	h,0x00
2101  0815  01 00 00    	ld	bc,_scr_map
2102  0818  09          	add	hl,bc
2103  0819  7E          	ld	a,(hl)
2104  081A  4F          	ld	c,a
2105  081B  D6 24       	sub	a,0x24
2106  081D  DA 75 09    	jp	C,l_player_pick_item_00129
2107  0820  3E 2F       	ld	a,0x2f
2108  0822  91          	sub	a,c
2109  0823  DA 75 09    	jp	C,l_player_pick_item_00129
2110  0826  44          	ld	b,h
2111  0827  CD 00 00    	call	_ay_reset
2112  082A  21 00 00    	ld	hl,_ay_effect_10
2113  082D  CD 00 00    	call	_ay_fx_play
2114  0830  C5          	push	bc
2115  0831  CD 00 00    	call	_sound_coin
2116  0834  C1          	pop	bc
2117  0835  2A 00 00    	ld	hl,(_sprite_curr_index)
2118  0838  26 00       	ld	h,0x00
2119  083A  11 00 00    	ld	de,_scr_map
2120  083D  19          	add	hl,de
2121  083E  AF          	xor	a,a
2122  083F  77          	ld	(hl),a
2123  0840  3A 00 00    	ld	a,(_sprite_curr_index)
2124  0843  5F          	ld	e,a
2125  0844  16 00       	ld	d,0x00
2126  0846  C5          	push	bc
2127  0847  D5          	push	de
2128  0848  CD 00 00    	call	_game_obj_set
2129  084B  F1          	pop	af
2130  084C  C1          	pop	bc
2131  084D  3A 00 00    	ld	a,(_sprite_curr_index)
2132  0850  07          	rlca
2133  0851  07          	rlca
2134  0852  07          	rlca
2135  0853  07          	rlca
2136  0854  E6 0F       	and	a,0x0f
2137  0856  07          	rlca
2138  0857  07          	rlca
2139  0858  07          	rlca
2140  0859  07          	rlca
2141  085A  E6 F0       	and	a,0xf0
2142  085C  32 00 00    	ld	(_s_lin1),a
2143  085F  3A 00 00    	ld	a,(_sprite_curr_index)
2144  0862  E6 0F       	and	a,0x0f
2145  0864  87          	add	a, a
2146  0865  32 00 00    	ld	(_s_col1),a
2147  0868  C5          	push	bc
2148  0869  21 00 00    	ld	hl,0x0000
2149  086C  E5          	push	hl
2150  086D  21 84 03    	ld	hl,0x0384
2151  0870  E5          	push	hl
2152  0871  F5          	push	af
2153  0872  33          	inc	sp
2154  0873  3A 00 00    	ld	a,(_s_lin1)
2155  0876  F5          	push	af
2156  0877  33          	inc	sp
2157  0878  CD 00 00    	call	_spr_add_anim
2158  087B  F1          	pop	af
2159  087C  F1          	pop	af
2160  087D  F1          	pop	af
2161  087E  C1          	pop	bc
2162  087F  79          	ld	a, c
2163  0880  D6 24       	sub	a,0x24
2164  0882  DA 75 09    	jp	C, l_player_pick_item_00129
2165  0885  3E 2F       	ld	a,0x2f
2166  0887  91          	sub	a, c
2167  0888  DA 75 09    	jp	C, l_player_pick_item_00129
2168  088B  79          	ld	a, c
2169  088C  C6 DC       	add	a,0xdc
2170  088E  4F          	ld	c, a
2171  088F  06 00       	ld	b,0x00
2172  0891  21 98 08    	ld	hl,l_player_pick_item_00171
2173  0894  09          	add	hl, bc
2174  0895  09          	add	hl, bc
2175  0896  09          	add	hl, bc
2176  0897  E9          	jp	(hl)
2177  0898              l_player_pick_item_00171:
2178  0898  C3 BC 08    	jp	l_player_pick_item_00101
2179  089B  C3 C7 08    	jp	l_player_pick_item_00102
2180  089E  C3 D2 08    	jp	l_player_pick_item_00103
2181  08A1  C3 DD 08    	jp	l_player_pick_item_00104
2182  08A4  C3 E8 08    	jp	l_player_pick_item_00105
2183  08A7  C3 FA 08    	jp	l_player_pick_item_00107
2184  08AA  C3 0F 09    	jp	l_player_pick_item_00110
2185  08AD  C3 24 09    	jp	l_player_pick_item_00113
2186  08B0  C3 39 09    	jp	l_player_pick_item_00116
2187  08B3  C3 4E 09    	jp	l_player_pick_item_00119
2188  08B6  C3 63 09    	jp	l_player_pick_item_00122
2189  08B9  C3 F1 08    	jp	l_player_pick_item_00106
2190  08BC              l_player_pick_item_00101:
2191  08BC  21 00 00    	ld	hl,_player_keys
2192  08BF  36 01       	ld	(hl),0x01
2193  08C1  CD 00 00    	call	_game_update_stats
2194  08C4  C3 75 09    	jp	l_player_pick_item_00129
2195  08C7              l_player_pick_item_00102:
2196  08C7  21 01 00    	ld	hl, +(_player_keys + 0x0001)
2197  08CA  36 01       	ld	(hl),0x01
2198  08CC  CD 00 00    	call	_game_update_stats
2199  08CF  C3 75 09    	jp	l_player_pick_item_00129
2200  08D2              l_player_pick_item_00103:
2201  08D2  21 02 00    	ld	hl, +(_player_keys + 0x0002)
2202  08D5  36 01       	ld	(hl),0x01
2203  08D7  CD 00 00    	call	_game_update_stats
2204  08DA  C3 75 09    	jp	l_player_pick_item_00129
2205  08DD              l_player_pick_item_00104:
2206  08DD  21 03 00    	ld	hl, +(_player_keys + 0x0003)
2207  08E0  36 01       	ld	(hl),0x01
2208  08E2  CD 00 00    	call	_game_update_stats
2209  08E5  C3 75 09    	jp	l_player_pick_item_00129
2210  08E8              l_player_pick_item_00105:
2211  08E8  21 01 00    	ld	hl,0x0001
2212  08EB  CD 5A 0C    	call	_player_score_add
2213  08EE  C3 75 09    	jp	l_player_pick_item_00129
2214  08F1              l_player_pick_item_00106:
2215  08F1  21 0A 00    	ld	hl,0x000a
2216  08F4  CD 5A 0C    	call	_player_score_add
2217  08F7  C3 75 09    	jp	l_player_pick_item_00129
2218  08FA              l_player_pick_item_00107:
2219  08FA  21 00 00    	ld	hl,_player_str
2220  08FD  34          	inc	(hl)
2221  08FE  21 00 00    	ld	hl,_player_max_vita
2222  0901  7E          	ld	a, (hl)
2223  0902  D6 C8       	sub	a,0xc8
2224  0904  30 6F       	jr	NC,l_player_pick_item_00129
2225  0906  7E          	ld	a, (hl)
2226  0907  C6 0A       	add	a,0x0a
2227  0909  77          	ld	(hl), a
2228  090A  CD 00 00    	call	_game_update_stats
2229  090D  18 66       	jr	l_player_pick_item_00129
2230  090F              l_player_pick_item_00110:
2231  090F  21 00 00    	ld	hl,_player_str
2232  0912  34          	inc	(hl)
2233  0913  21 00 00    	ld	hl,_player_max_vita
2234  0916  7E          	ld	a, (hl)
2235  0917  D6 C8       	sub	a,0xc8
2236  0919  30 5A       	jr	NC,l_player_pick_item_00129
2237  091B  7E          	ld	a, (hl)
2238  091C  C6 0A       	add	a,0x0a
2239  091E  77          	ld	(hl), a
2240  091F  CD 00 00    	call	_game_update_stats
2241  0922  18 51       	jr	l_player_pick_item_00129
2242  0924              l_player_pick_item_00113:
2243  0924  21 00 00    	ld	hl,_player_str
2244  0927  34          	inc	(hl)
2245  0928  21 00 00    	ld	hl,_player_max_vita
2246  092B  7E          	ld	a, (hl)
2247  092C  D6 C8       	sub	a,0xc8
2248  092E  30 45       	jr	NC,l_player_pick_item_00129
2249  0930  7E          	ld	a, (hl)
2250  0931  C6 0A       	add	a,0x0a
2251  0933  77          	ld	(hl), a
2252  0934  CD 00 00    	call	_game_update_stats
2253  0937  18 3C       	jr	l_player_pick_item_00129
2254  0939              l_player_pick_item_00116:
2255  0939  21 00 00    	ld	hl,_player_int
2256  093C  34          	inc	(hl)
2257  093D  21 00 00    	ld	hl,_player_max_mana
2258  0940  7E          	ld	a, (hl)
2259  0941  D6 C8       	sub	a,0xc8
2260  0943  30 30       	jr	NC,l_player_pick_item_00129
2261  0945  7E          	ld	a, (hl)
2262  0946  C6 0A       	add	a,0x0a
2263  0948  77          	ld	(hl), a
2264  0949  CD 00 00    	call	_game_update_stats
2265  094C  18 27       	jr	l_player_pick_item_00129
2266  094E              l_player_pick_item_00119:
2267  094E  21 00 00    	ld	hl,_player_int
2268  0951  34          	inc	(hl)
2269  0952  21 00 00    	ld	hl,_player_max_mana
2270  0955  7E          	ld	a, (hl)
2271  0956  D6 C8       	sub	a,0xc8
2272  0958  30 1B       	jr	NC,l_player_pick_item_00129
2273  095A  7E          	ld	a, (hl)
2274  095B  C6 0A       	add	a,0x0a
2275  095D  77          	ld	(hl), a
2276  095E  CD 00 00    	call	_game_update_stats
2277  0961  18 12       	jr	l_player_pick_item_00129
2278  0963              l_player_pick_item_00122:
2279  0963  21 00 00    	ld	hl,_player_int
2280  0966  34          	inc	(hl)
2281  0967  21 00 00    	ld	hl,_player_max_mana
2282  096A  7E          	ld	a, (hl)
2283  096B  D6 C8       	sub	a,0xc8
2284  096D  D0          	ret	NC
2285  096E  7E          	ld	a, (hl)
2286  096F  C6 0A       	add	a,0x0a
2287  0971  77          	ld	(hl), a
2288  0972  CD 00 00    	call	_game_update_stats
2289  0975              l_player_pick_item_00129:
2290  0975  C9          	ret
2291  0976              	SECTION code_compiler
2292  0976              ;	---------------------------------
2293  0976              ; Function player_hit_platform
2294  0976              ; ---------------------------------
2295  0976              _player_hit_platform:
2296  0976  CD 00 00    	call	___sdcc_enter_ix
2297  0979  F5          	push	af
2298  097A  3A 00 00    	ld	a,(_player_hit_lin)
2299  097D  B7          	or	a, a
2300  097E  C2 1B 0C    	jp	NZ, l_player_hit_platform_00144
2301  0981  2A 00 00    	ld	hl,(_sprite)
2302  0984  26 00       	ld	h,0x00
2303  0986  01 00 00    	ld	bc,_lin
2304  0989  09          	add	hl,bc
2305  098A  4E          	ld	c,(hl)
2306  098B  3E 10       	ld	a,0x10
2307  098D  91          	sub	a, c
2308  098E  D2 1B 0C    	jp	NC, l_player_hit_platform_00144
2309  0991  01 00 00    	ld	bc,_scr_map
2310  0994  2A 00 00    	ld	hl,(_index1)
2311  0997  09          	add	hl,bc
2312  0998  7E          	ld	a,(hl)
2313  0999  D6 45       	sub	a,0x45
2314  099B  DA 1B 0C    	jp	C, l_player_hit_platform_00144
2315  099E  01 00 00    	ld	bc,_spr_timer+0
2316  09A1  2A 00 00    	ld	hl,(_sprite)
2317  09A4  26 00       	ld	h,0x00
2318  09A6  29          	add	hl, hl
2319  09A7  09          	add	hl,bc
2320  09A8  ED 5B 00 00 	ld	de,(_curr_time)
2321  09AC  73          	ld	(hl),e
2322  09AD  23          	inc	hl
2323  09AE  72          	ld	(hl),d
2324  09AF  2A 00 00    	ld	hl,(_sprite)
2325  09B2  26 00       	ld	h,0x00
2326  09B4  01 00 00    	ld	bc,_lin
2327  09B7  09          	add	hl,bc
2328  09B8  4E          	ld	c,(hl)
2329  09B9  06 00       	ld	b,0x00
2330  09BB  21 F8 FF    	ld	hl,0xfff8
2331  09BE  09          	add	hl,bc
2332  09BF  EB          	ex	de,hl
2333  09C0  06 04       	ld	b,0x04
2334  09C2              l_player_hit_platform_00249:
2335  09C2  CB 2A       	sra	d
2336  09C4  CB 1B       	rr	e
2337  09C6  10 FA       	djnz	l_player_hit_platform_00249
2338  09C8  7B          	ld	a, e
2339  09C9  07          	rlca
2340  09CA  07          	rlca
2341  09CB  07          	rlca
2342  09CC  07          	rlca
2343  09CD  E6 F0       	and	a,0xf0
2344  09CF  C6 08       	add	a,0x08
2345  09D1  32 00 00    	ld	(_player_hit_lin),a
2346  09D4  2A 00 00    	ld	hl,(_sprite)
2347  09D7  26 00       	ld	h,0x00
2348  09D9  01 00 00    	ld	bc,_col
2349  09DC  09          	add	hl,bc
2350  09DD  4E          	ld	c,(hl)
2351  09DE  CB 41       	bit	0,c
2352  09E0  20 06       	jr	NZ,l_player_hit_platform_00111
2353  09E2  21 00 00    	ld	hl,_player_hit_col
2354  09E5  71          	ld	(hl), c
2355  09E6  18 33       	jr	l_player_hit_platform_00112
2356  09E8              l_player_hit_platform_00111:
2357  09E8  2A 00 00    	ld	hl,(_sprite)
2358  09EB  26 00       	ld	h,0x00
2359  09ED  11 00 00    	ld	de,_state
2360  09F0  19          	add	hl,de
2361  09F1  5E          	ld	e, (hl)
2362  09F2  41          	ld	b, c
2363  09F3  04          	inc	b
2364  09F4  0D          	dec	c
2365  09F5  CB 5B       	bit	3, e
2366  09F7  28 12       	jr	Z,l_player_hit_platform_00108
2367  09F9  3A 00 00    	ld	a,(_g_player_hit_right)
2368  09FC  B7          	or	a, a
2369  09FD  28 06       	jr	Z,l_player_hit_platform_00102
2370  09FF  21 00 00    	ld	hl,_player_hit_col
2371  0A02  70          	ld	(hl), b
2372  0A03  18 16       	jr	l_player_hit_platform_00112
2373  0A05              l_player_hit_platform_00102:
2374  0A05  21 00 00    	ld	hl,_player_hit_col
2375  0A08  71          	ld	(hl), c
2376  0A09  18 10       	jr	l_player_hit_platform_00112
2377  0A0B              l_player_hit_platform_00108:
2378  0A0B  3A 00 00    	ld	a,(_g_player_hit_left)
2379  0A0E  B7          	or	a, a
2380  0A0F  28 06       	jr	Z,l_player_hit_platform_00105
2381  0A11  21 00 00    	ld	hl,_player_hit_col
2382  0A14  71          	ld	(hl), c
2383  0A15  18 04       	jr	l_player_hit_platform_00112
2384  0A17              l_player_hit_platform_00105:
2385  0A17  21 00 00    	ld	hl,_player_hit_col
2386  0A1A  70          	ld	(hl), b
2387  0A1B              l_player_hit_platform_00112:
2388  0A1B  01 00 00    	ld	bc,_scr_map
2389  0A1E  2A 00 00    	ld	hl,(_index1)
2390  0A21  09          	add	hl,bc
2391  0A22  7E          	ld	a,(hl)
2392  0A23  FE 4D       	cp	a,0x4d
2393  0A25  20 3B       	jr	NZ,l_player_hit_platform_00114
2394  0A27  AF          	xor	a,a
2395  0A28  77          	ld	(hl),a
2396  0A29  2A 00 00    	ld	hl,(_index0)
2397  0A2C  E5          	push	hl
2398  0A2D  CD 00 00    	call	_game_obj_set
2399  0A30  F1          	pop	af
2400  0A31  21 00 00    	ld	hl,_index1
2401  0A34  7E          	ld	a, (hl)
2402  0A35  E6 0F       	and	a,0x0f
2403  0A37  87          	add	a, a
2404  0A38  4F          	ld	c, a
2405  0A39  23          	inc	hl
2406  0A3A  56          	ld	d,(hl)
2407  0A3B  2B          	dec	hl
2408  0A3C  7E          	ld	a, (hl)
2409  0A3D  06 04       	ld	b,0x04
2410  0A3F              l_player_hit_platform_00255:
2411  0A3F  CB 3A       	srl	d
2412  0A41  1F          	rra
2413  0A42  10 FB       	djnz	l_player_hit_platform_00255
2414  0A44  07          	rlca
2415  0A45  07          	rlca
2416  0A46  07          	rlca
2417  0A47  07          	rlca
2418  0A48  E6 F0       	and	a,0xf0
2419  0A4A  47          	ld	b, a
2420  0A4B  21 00 00    	ld	hl,0x0000
2421  0A4E  E5          	push	hl
2422  0A4F  21 87 03    	ld	hl,0x0387
2423  0A52  E5          	push	hl
2424  0A53  79          	ld	a, c
2425  0A54  48          	ld	c,b
2426  0A55  47          	ld	b,a
2427  0A56  C5          	push	bc
2428  0A57  CD 00 00    	call	_spr_add_anim
2429  0A5A  F1          	pop	af
2430  0A5B  F1          	pop	af
2431  0A5C  F1          	pop	af
2432  0A5D  2E 01       	ld	l,0x01
2433  0A5F  C3 1D 0C    	jp	l_player_hit_platform_00147
2434  0A62              l_player_hit_platform_00114:
2435  0A62  FE 5C       	cp	a,0x5c
2436  0A64  28 05       	jr	Z,l_player_hit_platform_00140
2437  0A66  D6 5D       	sub	a,0x5d
2438  0A68  C2 0F 0C    	jp	NZ,l_player_hit_platform_00141
2439  0A6B              l_player_hit_platform_00140:
2440  0A6B  21 00 00    	ld	hl,_tmp0
2441  0A6E  36 00       	ld	(hl),0x00
2442  0A70  3A 00 00    	ld	a,(_game_boss)
2443  0A73  B7          	or	a, a
2444  0A74  28 0B       	jr	Z,l_player_hit_platform_00173
2445  0A76  3A 00 00    	ld	a,(_game_mush_count)
2446  0A79  B7          	or	a, a
2447  0A7A  28 05       	jr	Z,l_player_hit_platform_00173
2448  0A7C  2E 00       	ld	l,0x00
2449  0A7E  C3 1D 0C    	jp	l_player_hit_platform_00147
2450  0A81              l_player_hit_platform_00173:
2451  0A81              l_player_hit_platform_00137:
2452  0A81  21 00 00    	ld	hl,_tmp0
2453  0A84  7E          	ld	a, (hl)
2454  0A85  D6 07       	sub	a,0x07
2455  0A87  D2 0F 0C    	jp	NC, l_player_hit_platform_00141
2456  0A8A  4E          	ld	c,(hl)
2457  0A8B  06 00       	ld	b,0x00
2458  0A8D  21 00 00    	ld	hl,_mush_index
2459  0A90  09          	add	hl,bc
2460  0A91  4E          	ld	c, (hl)
2461  0A92  06 00       	ld	b,0x00
2462  0A94  2A 00 00    	ld	hl,(_index1)
2463  0A97  AF          	xor	a,a
2464  0A98  ED 42       	sbc	hl,bc
2465  0A9A  C2 08 0C    	jp	NZ,l_player_hit_platform_00136
2466  0A9D  2A 00 00    	ld	hl,(_sprite)
2467  0AA0  26 00       	ld	h,0x00
2468  0AA2  01 00 00    	ld	bc,_lin
2469  0AA5  09          	add	hl,bc
2470  0AA6  7E          	ld	a,(hl)
2471  0AA7  07          	rlca
2472  0AA8  07          	rlca
2473  0AA9  07          	rlca
2474  0AAA  07          	rlca
2475  0AAB  E6 0F       	and	a,0x0f
2476  0AAD  07          	rlca
2477  0AAE  07          	rlca
2478  0AAF  07          	rlca
2479  0AB0  07          	rlca
2480  0AB1  E6 F0       	and	a,0xf0
2481  0AB3  C6 E0       	add	a,0xe0
2482  0AB5  32 00 00    	ld	(_s_lin1),a
2483  0AB8  2A 00 00    	ld	hl,(_sprite)
2484  0ABB  26 00       	ld	h,0x00
2485  0ABD  01 00 00    	ld	bc,_col
2486  0AC0  09          	add	hl,bc
2487  0AC1  7E          	ld	a,(hl)
2488  0AC2  CB 3F       	srl	a
2489  0AC4  87          	add	a, a
2490  0AC5  32 00 00    	ld	(_s_col1),a
2491  0AC8  21 00 00    	ld	hl,_tmp
2492  0ACB  36 00       	ld	(hl),0x00
2493  0ACD              l_player_hit_platform_00120:
2494  0ACD  21 00 00    	ld	hl,_tmp
2495  0AD0  7E          	ld	a, (hl)
2496  0AD1  D6 07       	sub	a,0x07
2497  0AD3  30 1C       	jr	NC,l_player_hit_platform_00122
2498  0AD5  4E          	ld	c,(hl)
2499  0AD6  06 00       	ld	b,0x00
2500  0AD8  21 00 00    	ld	hl,_mush_index
2501  0ADB  09          	add	hl,bc
2502  0ADC  4E          	ld	c, (hl)
2503  0ADD  06 00       	ld	b,0x00
2504  0ADF  21 00 00    	ld	hl,_index1
2505  0AE2  7E          	ld	a, (hl)
2506  0AE3  91          	sub	a, c
2507  0AE4  20 05       	jr	NZ,l_player_hit_platform_00261
2508  0AE6  23          	inc	hl
2509  0AE7  7E          	ld	a, (hl)
2510  0AE8  90          	sub	a, b
2511  0AE9  28 06       	jr	Z,l_player_hit_platform_00122
2512  0AEB              l_player_hit_platform_00261:
2513  0AEB  21 00 00    	ld	hl,_tmp
2514  0AEE  34          	inc	(hl)
2515  0AEF  18 DC       	jr	l_player_hit_platform_00120
2516  0AF1              l_player_hit_platform_00122:
2517  0AF1  2A 00 00    	ld	hl,(_tmp)
2518  0AF4  26 00       	ld	h,0x00
2519  0AF6  01 00 00    	ld	bc,_mush_class
2520  0AF9  09          	add	hl,bc
2521  0AFA  7E          	ld	a,(hl)
2522  0AFB  FE 78       	cp	a,0x78
2523  0AFD  28 18       	jr	Z,l_player_hit_platform_00123
2524  0AFF  FE 79       	cp	a,0x79
2525  0B01  28 2F       	jr	Z,l_player_hit_platform_00124
2526  0B03  FE 7A       	cp	a,0x7a
2527  0B05  28 5F       	jr	Z,l_player_hit_platform_00126
2528  0B07  FE 7B       	cp	a,0x7b
2529  0B09  28 41       	jr	Z,l_player_hit_platform_00125
2530  0B0B  FE 7C       	cp	a,0x7c
2531  0B0D  CA 9A 0B    	jp	Z,l_player_hit_platform_00128
2532  0B10  D6 7D       	sub	a,0x7d
2533  0B12  28 6C       	jr	Z,l_player_hit_platform_00127
2534  0B14  C3 B2 0B    	jp	l_player_hit_platform_00129
2535  0B17              l_player_hit_platform_00123:
2536  0B17  2E 02       	ld	l,0x02
2537  0B19  CD 00 00    	call	_zx_border_fastcall
2538  0B1C  3A 00 00    	ld	a,(_s_col1)
2539  0B1F  21 06 FF    	ld	hl,0xff06
2540  0B22  E5          	push	hl
2541  0B23  F5          	push	af
2542  0B24  33          	inc	sp
2543  0B25  3A 00 00    	ld	a,(_s_lin1)
2544  0B28  F5          	push	af
2545  0B29  33          	inc	sp
2546  0B2A  CD 00 00    	call	_enemy_init
2547  0B2D  F1          	pop	af
2548  0B2E  F1          	pop	af
2549  0B2F  C3 B2 0B    	jp	l_player_hit_platform_00129
2550  0B32              l_player_hit_platform_00124:
2551  0B32  2E 02       	ld	l,0x02
2552  0B34  CD 00 00    	call	_zx_border_fastcall
2553  0B37  3A 00 00    	ld	a,(_s_col1)
2554  0B3A  21 06 01    	ld	hl,0x0106
2555  0B3D  E5          	push	hl
2556  0B3E  F5          	push	af
2557  0B3F  33          	inc	sp
2558  0B40  3A 00 00    	ld	a,(_s_lin1)
2559  0B43  F5          	push	af
2560  0B44  33          	inc	sp
2561  0B45  CD 00 00    	call	_enemy_init
2562  0B48  F1          	pop	af
2563  0B49  F1          	pop	af
2564  0B4A  18 66       	jr	l_player_hit_platform_00129
2565  0B4C              l_player_hit_platform_00125:
2566  0B4C  2E 01       	ld	l,0x01
2567  0B4E  CD 00 00    	call	_zx_border_fastcall
2568  0B51  3A 00 00    	ld	a,(_s_col1)
2569  0B54  21 07 01    	ld	hl,0x0107
2570  0B57  E5          	push	hl
2571  0B58  F5          	push	af
2572  0B59  33          	inc	sp
2573  0B5A  3A 00 00    	ld	a,(_s_lin1)
2574  0B5D  F5          	push	af
2575  0B5E  33          	inc	sp
2576  0B5F  CD 00 00    	call	_enemy_init
2577  0B62  F1          	pop	af
2578  0B63  F1          	pop	af
2579  0B64  18 4C       	jr	l_player_hit_platform_00129
2580  0B66              l_player_hit_platform_00126:
2581  0B66  2E 01       	ld	l,0x01
2582  0B68  CD 00 00    	call	_zx_border_fastcall
2583  0B6B  3A 00 00    	ld	a,(_s_col1)
2584  0B6E  21 07 FF    	ld	hl,0xff07
2585  0B71  E5          	push	hl
2586  0B72  F5          	push	af
2587  0B73  33          	inc	sp
2588  0B74  3A 00 00    	ld	a,(_s_lin1)
2589  0B77  F5          	push	af
2590  0B78  33          	inc	sp
2591  0B79  CD 00 00    	call	_enemy_init
2592  0B7C  F1          	pop	af
2593  0B7D  F1          	pop	af
2594  0B7E  18 32       	jr	l_player_hit_platform_00129
2595  0B80              l_player_hit_platform_00127:
2596  0B80  2E 04       	ld	l,0x04
2597  0B82  CD 00 00    	call	_zx_border_fastcall
2598  0B85  3A 00 00    	ld	a,(_s_col1)
2599  0B88  21 08 01    	ld	hl,0x0108
2600  0B8B  E5          	push	hl
2601  0B8C  F5          	push	af
2602  0B8D  33          	inc	sp
2603  0B8E  3A 00 00    	ld	a,(_s_lin1)
2604  0B91  F5          	push	af
2605  0B92  33          	inc	sp
2606  0B93  CD 00 00    	call	_enemy_init
2607  0B96  F1          	pop	af
2608  0B97  F1          	pop	af
2609  0B98  18 18       	jr	l_player_hit_platform_00129
2610  0B9A              l_player_hit_platform_00128:
2611  0B9A  2E 04       	ld	l,0x04
2612  0B9C  CD 00 00    	call	_zx_border_fastcall
2613  0B9F  3A 00 00    	ld	a,(_s_col1)
2614  0BA2  21 08 FF    	ld	hl,0xff08
2615  0BA5  E5          	push	hl
2616  0BA6  F5          	push	af
2617  0BA7  33          	inc	sp
2618  0BA8  3A 00 00    	ld	a,(_s_lin1)
2619  0BAB  F5          	push	af
2620  0BAC  33          	inc	sp
2621  0BAD  CD 00 00    	call	_enemy_init
2622  0BB0  F1          	pop	af
2623  0BB1  F1          	pop	af
2624  0BB2              l_player_hit_platform_00129:
2625  0BB2  21 00 00    	ld	hl,_game_mush_count
2626  0BB5  34          	inc	(hl)
2627  0BB6  3A 00 00    	ld	a,(_game_boss)
2628  0BB9  B7          	or	a, a
2629  0BBA  20 4C       	jr	NZ,l_player_hit_platform_00136
2630  0BBC  2A 00 00    	ld	hl,(_index1)
2631  0BBF  01 F0 FF    	ld	bc,0xfff0
2632  0BC2  09          	add	hl,bc
2633  0BC3  01 00 00    	ld	bc,_scr_map
2634  0BC6  09          	add	hl,bc
2635  0BC7  36 00       	ld	(hl),0x00
2636  0BC9  3E 00       	ld	a, +((_scr_map) & 0xFF)
2637  0BCB  21 00 00    	ld	hl,_index1
2638  0BCE  86          	add	a, (hl)
2639  0BCF  DD 77 FE    	ld	(ix-2),a
2640  0BD2  3E 00       	ld	a, +((_scr_map) / 256)
2641  0BD4  23          	inc	hl
2642  0BD5  8E          	adc	a, (hl)
2643  0BD6  DD 77 FF    	ld	(ix-1),a
2644  0BD9  E1          	pop	hl
2645  0BDA  7E          	ld	a,(hl)
2646  0BDB  E5          	push	hl
2647  0BDC  D6 5C       	sub	a,0x5c
2648  0BDE  20 06       	jr	NZ,l_player_hit_platform_00131
2649  0BE0  E1          	pop	hl
2650  0BE1  E5          	push	hl
2651  0BE2  36 4F       	ld	(hl),0x4f
2652  0BE4  18 04       	jr	l_player_hit_platform_00132
2653  0BE6              l_player_hit_platform_00131:
2654  0BE6  E1          	pop	hl
2655  0BE7  E5          	push	hl
2656  0BE8  36 54       	ld	(hl),0x54
2657  0BEA              l_player_hit_platform_00132:
2658  0BEA  2A 00 00    	ld	hl,(_index1)
2659  0BED  01 F0 FF    	ld	bc,0xfff0
2660  0BF0  09          	add	hl,bc
2661  0BF1  E5          	push	hl
2662  0BF2  CD 00 00    	call	_game_obj_set
2663  0BF5  F1          	pop	af
2664  0BF6  3A 00 00    	ld	a,(_s_lin1)
2665  0BF9  C6 10       	add	a,0x10
2666  0BFB  4F          	ld	c, a
2667  0BFC  3A 00 00    	ld	a, (_s_col1)
2668  0BFF  47          	ld	b,a
2669  0C00  C5          	push	bc
2670  0C01  3E 4F       	ld	a,0x4f
2671  0C03  F5          	push	af
2672  0C04  33          	inc	sp
2673  0C05  CD 00 00    	call	_NIRVANAP_drawT_callee
2674  0C08              l_player_hit_platform_00136:
2675  0C08  21 00 00    	ld	hl,_tmp0
2676  0C0B  34          	inc	(hl)
2677  0C0C  C3 81 0A    	jp	l_player_hit_platform_00137
2678  0C0F              l_player_hit_platform_00141:
2679  0C0F  2E 01       	ld	l,0x01
2680  0C11  CD 00 00    	call	_spr_brick_anim
2681  0C14  CD 00 00    	call	_sound_hit_brick
2682  0C17  2E 01       	ld	l,0x01
2683  0C19  18 02       	jr	l_player_hit_platform_00147
2684  0C1B              l_player_hit_platform_00144:
2685  0C1B  2E 00       	ld	l,0x00
2686  0C1D              l_player_hit_platform_00147:
2687  0C1D  F1          	pop	af
2688  0C1E  DD E1       	pop	ix
2689  0C20  C9          	ret
2690  0C21              	SECTION code_compiler
2691  0C21              ;	---------------------------------
2692  0C21              ; Function player_hit_platform_clear
2693  0C21              ; ---------------------------------
2694  0C21              _player_hit_platform_clear:
2695  0C21  2A 00 00    	ld	hl,(_sprite)
2696  0C24  26 00       	ld	h,0x00
2697  0C26  29          	add	hl, hl
2698  0C27  11 00 00    	ld	de,_spr_timer
2699  0C2A  19          	add	hl, de
2700  0C2B  4E          	ld	c, (hl)
2701  0C2C  23          	inc	hl
2702  0C2D  46          	ld	b, (hl)
2703  0C2E  21 04 00    	ld	hl,0x0004
2704  0C31  E5          	push	hl
2705  0C32  C5          	push	bc
2706  0C33  CD 00 00    	call	_game_check_time
2707  0C36  F1          	pop	af
2708  0C37  F1          	pop	af
2709  0C38  7D          	ld	a, l
2710  0C39  B7          	or	a, a
2711  0C3A  C8          	ret	Z
2712  0C3B  2A FF FF    	ld	hl,(_player_hit_col - 1)
2713  0C3E  3A 00 00    	ld	a,(_player_hit_lin)
2714  0C41  6F          	ld	l,a
2715  0C42  E5          	push	hl
2716  0C43  CD 00 00    	call	_spr_calc_index
2717  0C46  F1          	pop	af
2718  0C47  22 00 00    	ld	(_index1),hl
2719  0C4A  2E 00       	ld	l,0x00
2720  0C4C  CD 00 00    	call	_spr_brick_anim
2721  0C4F  21 00 00    	ld	hl,_player_hit_lin
2722  0C52  36 00       	ld	(hl),0x00
2723  0C54  21 00 00    	ld	hl,_player_hit_col
2724  0C57  36 00       	ld	(hl),0x00
2725  0C59  C9          	ret
2726  0C5A              	SECTION code_compiler
2727  0C5A              ;	---------------------------------
2728  0C5A              ; Function player_score_add
2729  0C5A              ; ---------------------------------
2730  0C5A              _player_score_add:
2731  0C5A  ED 4B 00 00 	ld	bc,(_player_score)
2732  0C5E  09          	add	hl,bc
2733  0C5F  22 00 00    	ld	(_player_score),hl
2734  0C62  21 00 00    	ld	hl,_player_lvl
2735  0C65  7E          	ld	a, (hl)
2736  0C66  D6 14       	sub	a,0x14
2737  0C68  30 3C       	jr	NC,l_player_score_add_00104
2738  0C6A  01 00 00    	ld	bc,_player_lvl_table+0
2739  0C6D  6E          	ld	l,(hl)
2740  0C6E  26 00       	ld	h,0x00
2741  0C70  29          	add	hl, hl
2742  0C71  09          	add	hl, bc
2743  0C72  4E          	ld	c, (hl)
2744  0C73  23          	inc	hl
2745  0C74  46          	ld	b, (hl)
2746  0C75  21 00 00    	ld	hl,_player_score
2747  0C78  7E          	ld	a, (hl)
2748  0C79  91          	sub	a, c
2749  0C7A  23          	inc	hl
2750  0C7B  7E          	ld	a, (hl)
2751  0C7C  98          	sbc	a, b
2752  0C7D  38 27       	jr	C,l_player_score_add_00104
2753  0C7F  21 00 00    	ld	hl,_player_lvl
2754  0C82  34          	inc	(hl)
2755  0C83  21 00 00    	ld	hl,___str_0
2756  0C86  E5          	push	hl
2757  0C87  21 0C 0C    	ld	hl,0x0c0c
2758  0C8A  E5          	push	hl
2759  0C8B  CD 00 00    	call	_zx_print_str
2760  0C8E  AF          	xor	a, a
2761  0C8F  F5          	push	af
2762  0C90  33          	inc	sp
2763  0C91  21 19 00    	ld	hl,0x0019
2764  0C94  E5          	push	hl
2765  0C95  21 0C 15    	ld	hl,0x150c
2766  0C98  E5          	push	hl
2767  0C99  3E 0C       	ld	a,0x0c
2768  0C9B  F5          	push	af
2769  0C9C  33          	inc	sp
2770  0C9D  CD 00 00    	call	_game_colour_message
2771  0CA0  F1          	pop	af
2772  0CA1  F1          	pop	af
2773  0CA2  F1          	pop	af
2774  0CA3  CD 00 00    	call	_game_update_stats
2775  0CA6              l_player_score_add_00104:
2776  0CA6  3A 00 00    	ld	a,(_game_score_top)
2777  0CA9  21 00 00    	ld	hl,_player_score
2778  0CAC  96          	sub	a, (hl)
2779  0CAD  3A 01 00    	ld	a,(_game_score_top + 1)
2780  0CB0  23          	inc	hl
2781  0CB1  9E          	sbc	a, (hl)
2782  0CB2  30 06       	jr	NC,l_player_score_add_00106
2783  0CB4  2A 00 00    	ld	hl,(_player_score)
2784  0CB7  22 00 00    	ld	(_game_score_top),hl
2785  0CBA              l_player_score_add_00106:
2786  0CBA  CD 00 00    	call	_game_print_score
2787  0CBD  C9          	ret
2788  0CBE              	SECTION rodata_compiler
2789  0000              ___str_0:
2790  0000  4C 45 56 45 4C 20 55 50 21 
                        	DEFM "LEVEL UP!"
2791  0009  00          	DEFB 0x00
2792  000A              	SECTION code_compiler
2793  0CBE              ;	---------------------------------
2794  0CBE              ; Function player_check_floor
2795  0CBE              ; ---------------------------------
2796  0CBE              _player_check_floor:
2797  0CBE  CD 00 00    	call	___sdcc_enter_ix
2798  0CC1  2A 00 00    	ld	hl,(_sprite)
2799  0CC4  F5          	push	af
2800  0CC5  F5          	push	af
2801  0CC6  26 00       	ld	h,0x00
2802  0CC8  01 00 00    	ld	bc,_col
2803  0CCB  09          	add	hl,bc
2804  0CCC  56          	ld	d, (hl)
2805  0CCD  2A 00 00    	ld	hl,(_sprite)
2806  0CD0  26 00       	ld	h,0x00
2807  0CD2  01 00 00    	ld	bc,_lin
2808  0CD5  09          	add	hl,bc
2809  0CD6  7E          	ld	a,(hl)
2810  0CD7  C6 10       	add	a,0x10
2811  0CD9  5F          	ld	e, a
2812  0CDA  D5          	push	de
2813  0CDB  CD 00 00    	call	_spr_calc_index
2814  0CDE  F1          	pop	af
2815  0CDF  4D          	ld	c, l
2816  0CE0  44          	ld	b, h
2817  0CE1  21 00 00    	ld	hl,_scr_map
2818  0CE4  09          	add	hl,bc
2819  0CE5  DD 75 FE    	ld	(ix-2),l
2820  0CE8  DD 74 FF    	ld	(ix-1),h
2821  0CEB  7E          	ld	a, (hl)
2822  0CEC  DD 77 FD    	ld	(ix-3),a
2823  0CEF  2A 00 00    	ld	hl,(_sprite)
2824  0CF2  26 00       	ld	h,0x00
2825  0CF4  11 00 00    	ld	de,_col
2826  0CF7  19          	add	hl,de
2827  0CF8  5E          	ld	e, (hl)
2828  0CF9  03          	inc	bc
2829  0CFA  21 00 00    	ld	hl,_scr_map
2830  0CFD  09          	add	hl,bc
2831  0CFE  CB 43       	bit	0,e
2832  0D00  4D          	ld	c,l
2833  0D01  44          	ld	b,h
2834  0D02  20 06       	jr	NZ,l_player_check_floor_00102
2835  0D04  DD 36 FC 01 	ld	(ix-4),0x01
2836  0D08  18 04       	jr	l_player_check_floor_00103
2837  0D0A              l_player_check_floor_00102:
2838  0D0A  0A          	ld	a, (bc)
2839  0D0B  DD 77 FC    	ld	(ix-4),a
2840  0D0E              l_player_check_floor_00103:
2841  0D0E  3A 00 00    	ld	a,(_s_lin0)
2842  0D11  D6 90       	sub	a,0x90
2843  0D13  20 04       	jr	NZ,l_player_check_floor_00105
2844  0D15  DD 36 FD 48 	ld	(ix-3),0x48
2845  0D19              l_player_check_floor_00105:
2846  0D19  DD 7E FD    	ld	a,(ix-3)
2847  0D1C  D6 3C       	sub	a,0x3c
2848  0D1E  38 07       	jr	C,l_player_check_floor_00125
2849  0D20  DD 7E FD    	ld	a,(ix-3)
2850  0D23  D6 60       	sub	a,0x60
2851  0D25  38 26       	jr	C,l_player_check_floor_00121
2852  0D27              l_player_check_floor_00125:
2853  0D27  DD 7E FC    	ld	a,(ix-4)
2854  0D2A  D6 3C       	sub	a,0x3c
2855  0D2C  38 07       	jr	C,l_player_check_floor_00120
2856  0D2E  DD 7E FC    	ld	a,(ix-4)
2857  0D31  D6 60       	sub	a,0x60
2858  0D33  38 18       	jr	C,l_player_check_floor_00121
2859  0D35              l_player_check_floor_00120:
2860  0D35  2A 00 00    	ld	hl,(_sprite)
2861  0D38  26 00       	ld	h,0x00
2862  0D3A  01 00 00    	ld	bc,_sprite_speed_alt
2863  0D3D  09          	add	hl,bc
2864  0D3E  36 02       	ld	(hl),0x02
2865  0D40  21 00 00    	ld	hl,_s_state
2866  0D43  CB CE       	set	1, (hl)
2867  0D45  2E 00       	ld	l,0x00
2868  0D47  CD BD 04    	call	_player_check_stairs
2869  0D4A  C3 CC 0D    	jp	l_player_check_floor_00126
2870  0D4D              l_player_check_floor_00121:
2871  0D4D  C5          	push	bc
2872  0D4E  21 10 00    	ld	hl,0x0010
2873  0D51  E5          	push	hl
2874  0D52  2A 00 00    	ld	hl,(_player_brick_time)
2875  0D55  E5          	push	hl
2876  0D56  CD 00 00    	call	_game_check_time
2877  0D59  F1          	pop	af
2878  0D5A  F1          	pop	af
2879  0D5B  C1          	pop	bc
2880  0D5C  7D          	ld	a,l
2881  0D5D  B7          	or	a, a
2882  0D5E  28 6C       	jr	Z,l_player_check_floor_00126
2883  0D60  2A 00 00    	ld	hl,(_curr_time)
2884  0D63  22 00 00    	ld	(_player_brick_time),hl
2885  0D66  DD 7E FD    	ld	a,(ix-3)
2886  0D69  D6 40       	sub	a,0x40
2887  0D6B  20 0D       	jr	NZ,l_player_check_floor_00107
2888  0D6D  DD 6E FE    	ld	l,(ix-2)
2889  0D70  DD 66 FF    	ld	h,(ix-1)
2890  0D73  36 00       	ld	(hl),0x00
2891  0D75  C5          	push	bc
2892  0D76  CD D1 0D    	call	_player_gasta_brick
2893  0D79  C1          	pop	bc
2894  0D7A              l_player_check_floor_00107:
2895  0D7A  DD 7E FD    	ld	a,(ix-3)
2896  0D7D  D6 3F       	sub	a,0x3f
2897  0D7F  20 0D       	jr	NZ,l_player_check_floor_00109
2898  0D81  DD 6E FE    	ld	l,(ix-2)
2899  0D84  DD 66 FF    	ld	h,(ix-1)
2900  0D87  36 40       	ld	(hl),0x40
2901  0D89  C5          	push	bc
2902  0D8A  CD D1 0D    	call	_player_gasta_brick
2903  0D8D  C1          	pop	bc
2904  0D8E              l_player_check_floor_00109:
2905  0D8E  DD 7E FD    	ld	a,(ix-3)
2906  0D91  D6 3E       	sub	a,0x3e
2907  0D93  20 0D       	jr	NZ,l_player_check_floor_00111
2908  0D95  DD 6E FE    	ld	l,(ix-2)
2909  0D98  DD 66 FF    	ld	h,(ix-1)
2910  0D9B  36 3F       	ld	(hl),0x3f
2911  0D9D  C5          	push	bc
2912  0D9E  CD D1 0D    	call	_player_gasta_brick
2913  0DA1  C1          	pop	bc
2914  0DA2              l_player_check_floor_00111:
2915  0DA2  DD 7E FC    	ld	a,(ix-4)
2916  0DA5  D6 40       	sub	a,0x40
2917  0DA7  20 07       	jr	NZ,l_player_check_floor_00113
2918  0DA9  AF          	xor	a, a
2919  0DAA  02          	ld	(bc), a
2920  0DAB  C5          	push	bc
2921  0DAC  CD D1 0D    	call	_player_gasta_brick
2922  0DAF  C1          	pop	bc
2923  0DB0              l_player_check_floor_00113:
2924  0DB0  DD 7E FC    	ld	a,(ix-4)
2925  0DB3  D6 3F       	sub	a,0x3f
2926  0DB5  20 08       	jr	NZ,l_player_check_floor_00115
2927  0DB7  3E 40       	ld	a,0x40
2928  0DB9  02          	ld	(bc), a
2929  0DBA  C5          	push	bc
2930  0DBB  CD D1 0D    	call	_player_gasta_brick
2931  0DBE  C1          	pop	bc
2932  0DBF              l_player_check_floor_00115:
2933  0DBF  DD 7E FC    	ld	a,(ix-4)
2934  0DC2  D6 3E       	sub	a,0x3e
2935  0DC4  20 06       	jr	NZ,l_player_check_floor_00126
2936  0DC6  3E 3F       	ld	a,0x3f
2937  0DC8  02          	ld	(bc), a
2938  0DC9  CD D1 0D    	call	_player_gasta_brick
2939  0DCC              l_player_check_floor_00126:
2940  0DCC  DD F9       	ld	sp, ix
2941  0DCE  DD E1       	pop	ix
2942  0DD0  C9          	ret
2943  0DD1              	SECTION code_compiler
2944  0DD1              ;	---------------------------------
2945  0DD1              ; Function player_gasta_brick
2946  0DD1              ; ---------------------------------
2947  0DD1              _player_gasta_brick:
2948  0DD1  3A 00 00    	ld	a,(_s_lin0)
2949  0DD4  32 00 00    	ld	(_s_lin1),a
2950  0DD7  3A 00 00    	ld	a,(_s_col0)
2951  0DDA  32 00 00    	ld	(_s_col1),a
2952  0DDD  2A 00 00    	ld	hl,(_sprite)
2953  0DE0  26 00       	ld	h,0x00
2954  0DE2  01 00 00    	ld	bc,_lin
2955  0DE5  09          	add	hl,bc
2956  0DE6  7E          	ld	a,(hl)
2957  0DE7  C6 10       	add	a,0x10
2958  0DE9  32 00 00    	ld	(_s_lin0),a
2959  0DEC  2A 00 00    	ld	hl,(_sprite)
2960  0DEF  26 00       	ld	h,0x00
2961  0DF1  01 00 00    	ld	bc,_col
2962  0DF4  09          	add	hl,bc
2963  0DF5  7E          	ld	a,(hl)
2964  0DF6  32 00 00    	ld	(_s_col0),a
2965  0DF9  CD 00 00    	call	_spr_back_repaint
2966  0DFC  3A 00 00    	ld	a,(_s_lin1)
2967  0DFF  32 00 00    	ld	(_s_lin0),a
2968  0E02  3A 00 00    	ld	a,(_s_col1)
2969  0E05  32 00 00    	ld	(_s_col0),a
2970  0E08  C9          	ret
2971  0E09              	SECTION code_compiler
2972  0E09              ;	---------------------------------
2973  0E09              ; Function player_move_jump
2974  0E09              ; ---------------------------------
2975  0E09              _player_move_jump:
2976  0E09  CD 00 00    	call	___sdcc_enter_ix
2977  0E0C  F5          	push	af
2978  0E0D  21 00 00    	ld	hl,_game_gravity
2979  0E10  4E          	ld	c, (hl)
2980  0E11  21 00 00    	ld	hl,_player_vel_y
2981  0E14  7E          	ld	a, (hl)
2982  0E15  81          	add	a, c
2983  0E16  77          	ld	(hl), a
2984  0E17  21 00 00    	ld	hl,_sprite_on_air
2985  0E1A  36 01       	ld	(hl),0x01
2986  0E1C  3A 00 00    	ld	a,(_player_vel_inc)
2987  0E1F  B7          	or	a, a
2988  0E20  28 2B       	jr	Z,l_player_move_jump_00107
2989  0E22  21 00 00    	ld	hl,_dirs
2990  0E25  CB 7E       	bit	7, (hl)
2991  0E27  28 07       	jr	Z,l_player_move_jump_00104
2992  0E29  21 00 00    	ld	hl,_dirs
2993  0E2C  CB 46       	bit	0, (hl)
2994  0E2E  20 1D       	jr	NZ,l_player_move_jump_00107
2995  0E30              l_player_move_jump_00104:
2996  0E30  3A 00 00    	ld	a,(_player_vel_y1)
2997  0E33  21 00 00    	ld	hl,_player_vel_y
2998  0E36  96          	sub	a, (hl)
2999  0E37  E2 3C 0E    	jp	PO, l_player_move_jump_00263
3000  0E3A  EE 80       	xor	a,0x80
3001  0E3C              l_player_move_jump_00263:
3002  0E3C  F2 4D 0E    	jp	P, l_player_move_jump_00107
3003  0E3F  21 00 00    	ld	hl,_player_vel_y
3004  0E42  CB 7E       	bit	7,(hl)
3005  0E44  28 07       	jr	Z,l_player_move_jump_00107
3006  0E46  36 00       	ld	(hl),0x00
3007  0E48  21 00 00    	ld	hl,_player_vel_inc
3008  0E4B  36 00       	ld	(hl),0x00
3009  0E4D              l_player_move_jump_00107:
3010  0E4D  3E 78       	ld	a,0x78
3011  0E4F  21 00 00    	ld	hl,_player_vel_y
3012  0E52  96          	sub	a, (hl)
3013  0E53  E2 58 0E    	jp	PO, l_player_move_jump_00264
3014  0E56  EE 80       	xor	a,0x80
3015  0E58              l_player_move_jump_00264:
3016  0E58  F2 60 0E    	jp	P, l_player_move_jump_00109
3017  0E5B  21 00 00    	ld	hl,_player_vel_y
3018  0E5E  36 78       	ld	(hl),0x78
3019  0E60              l_player_move_jump_00109:
3020  0E60  21 00 00    	ld	hl,_player_vel_y
3021  0E63  7E          	ld	a, (hl)
3022  0E64  EE 80       	xor	a,0x80
3023  0E66  D6 08       	sub	a,0x08
3024  0E68  30 02       	jr	NC,l_player_move_jump_00111
3025  0E6A  36 88       	ld	(hl),0x88
3026  0E6C              l_player_move_jump_00111:
3027  0E6C  3A 00 00    	ld	a,(_player_vel_y)
3028  0E6F  5F          	ld	e,a
3029  0E70  17          	rla
3030  0E71  9F          	sbc	a, a
3031  0E72  57          	ld	d, a
3032  0E73  CB 43       	bit	0,e
3033  0E75  21 00 00    	ld	hl,_s_lin1
3034  0E78  73          	ld	(hl),e
3035  0E79  28 04       	jr	Z,l_player_move_jump_00113
3036  0E7B  21 00 00    	ld	hl,_s_lin1
3037  0E7E  35          	dec	(hl)
3038  0E7F              l_player_move_jump_00113:
3039  0E7F  2A 00 00    	ld	hl,(_sprite)
3040  0E82  26 00       	ld	h,0x00
3041  0E84  01 00 00    	ld	bc,_lin
3042  0E87  09          	add	hl,bc
3043  0E88  7E          	ld	a,(hl)
3044  0E89  21 00 00    	ld	hl,_s_lin1
3045  0E8C  86          	add	a, (hl)
3046  0E8D  77          	ld	(hl), a
3047  0E8E  3E 90       	ld	a,0x90
3048  0E90  96          	sub	a, (hl)
3049  0E91  30 31       	jr	NC,l_player_move_jump_00124
3050  0E93  3E C8       	ld	a,0xc8
3051  0E95  96          	sub	a, (hl)
3052  0E96  30 17       	jr	NC,l_player_move_jump_00121
3053  0E98  D5          	push	de
3054  0E99  CD 00 00    	call	_spr_page_up
3055  0E9C  D1          	pop	de
3056  0E9D  7D          	ld	a,l
3057  0E9E  B7          	or	a, a
3058  0E9F  28 07       	jr	Z,l_player_move_jump_00115
3059  0EA1  21 00 00    	ld	hl,_s_lin1
3060  0EA4  36 90       	ld	(hl),0x90
3061  0EA6  18 1C       	jr	l_player_move_jump_00124
3062  0EA8              l_player_move_jump_00115:
3063  0EA8  21 00 00    	ld	hl,_s_lin1
3064  0EAB  36 00       	ld	(hl),0x00
3065  0EAD  18 15       	jr	l_player_move_jump_00124
3066  0EAF              l_player_move_jump_00121:
3067  0EAF  D5          	push	de
3068  0EB0  CD 00 00    	call	_spr_page_down
3069  0EB3  D1          	pop	de
3070  0EB4  7D          	ld	a,l
3071  0EB5  B7          	or	a, a
3072  0EB6  28 07       	jr	Z,l_player_move_jump_00118
3073  0EB8  21 00 00    	ld	hl,_s_lin1
3074  0EBB  36 10       	ld	(hl),0x10
3075  0EBD  18 05       	jr	l_player_move_jump_00124
3076  0EBF              l_player_move_jump_00118:
3077  0EBF  21 00 00    	ld	hl,_s_lin1
3078  0EC2  36 90       	ld	(hl),0x90
3079  0EC4              l_player_move_jump_00124:
3080  0EC4  3E 00       	ld	a, +((_lin) & 0xFF)
3081  0EC6  21 00 00    	ld	hl,_sprite
3082  0EC9  86          	add	a, (hl)
3083  0ECA  DD 77 FE    	ld	(ix-2),a
3084  0ECD  3E 00       	ld	a, +((_lin) / 256)
3085  0ECF  CE 00       	adc	a,0x00
3086  0ED1  DD 77 FF    	ld	(ix-1),a
3087  0ED4  3A 00 00    	ld	a,(_s_lin0)
3088  0ED7  07          	rlca
3089  0ED8  07          	rlca
3090  0ED9  07          	rlca
3091  0EDA  07          	rlca
3092  0EDB  E6 0F       	and	a,0x0f
3093  0EDD  4F          	ld	c, a
3094  0EDE  CB 7A       	bit	7, d
3095  0EE0  28 74       	jr	Z,l_player_move_jump_00147
3096  0EE2  21 00 00    	ld	hl,_s_state
3097  0EE5  7E          	ld	a,(hl)
3098  0EE6  F6 01       	or	a,0x01
3099  0EE8  E6 FD       	and	a,0xfd
3100  0EEA  77          	ld	(hl),a
3101  0EEB  21 00 00    	ld	hl,_s_lin1
3102  0EEE  46          	ld	b, (hl)
3103  0EEF  79          	ld	a, c
3104  0EF0  90          	sub	a, b
3105  0EF1  20 04       	jr	NZ,l_player_move_jump_00266
3106  0EF3  3E 01       	ld	a,0x01
3107  0EF5  18 01       	jr	l_player_move_jump_00267
3108  0EF7              l_player_move_jump_00266:
3109  0EF7  AF          	xor	a,a
3110  0EF8              l_player_move_jump_00267:
3111  0EF8  EE 01       	xor	a,0x01
3112  0EFA  28 51       	jr	Z,l_player_move_jump_00131
3113  0EFC  2A 00 00    	ld	hl,(_sprite)
3114  0EFF  26 00       	ld	h,0x00
3115  0F01  01 00 00    	ld	bc,_col
3116  0F04  09          	add	hl,bc
3117  0F05  7E          	ld	a,(hl)
3118  0F06  F5          	push	af
3119  0F07  33          	inc	sp
3120  0F08  3A 00 00    	ld	a,(_s_lin1)
3121  0F0B  F5          	push	af
3122  0F0C  33          	inc	sp
3123  0F0D  CD 00 00    	call	_game_check_map
3124  0F10  F1          	pop	af
3125  0F11  7C          	ld	a,h
3126  0F12  B5          	or	a,l
3127  0F13  28 28       	jr	Z,l_player_move_jump_00128
3128  0F15  CD 76 09    	call	_player_hit_platform
3129  0F18  7D          	ld	a, l
3130  0F19  B7          	or	a, a
3131  0F1A  28 19       	jr	Z,l_player_move_jump_00126
3132  0F1C  2A 00 00    	ld	hl,(_sprite)
3133  0F1F  26 00       	ld	h,0x00
3134  0F21  01 00 00    	ld	bc,_lin
3135  0F24  09          	add	hl,bc
3136  0F25  7E          	ld	a,(hl)
3137  0F26  4D          	ld	c,l
3138  0F27  44          	ld	b,h
3139  0F28  07          	rlca
3140  0F29  07          	rlca
3141  0F2A  07          	rlca
3142  0F2B  07          	rlca
3143  0F2C  E6 0F       	and	a,0x0f
3144  0F2E  07          	rlca
3145  0F2F  07          	rlca
3146  0F30  07          	rlca
3147  0F31  07          	rlca
3148  0F32  E6 F0       	and	a,0xf0
3149  0F34  02          	ld	(bc), a
3150  0F35              l_player_move_jump_00126:
3151  0F35  21 00 00    	ld	hl,_player_vel_y
3152  0F38  36 00       	ld	(hl),0x00
3153  0F3A  C3 1A 10    	jp	l_player_move_jump_00148
3154  0F3D              l_player_move_jump_00128:
3155  0F3D  2A 00 00    	ld	hl,(_sprite)
3156  0F40  26 00       	ld	h,0x00
3157  0F42  01 00 00    	ld	bc,_lin
3158  0F45  09          	add	hl,bc
3159  0F46  3A 00 00    	ld	a,(_s_lin1)
3160  0F49  77          	ld	(hl),a
3161  0F4A  C3 1A 10    	jp	l_player_move_jump_00148
3162  0F4D              l_player_move_jump_00131:
3163  0F4D  E1          	pop	hl
3164  0F4E  3A 00 00    	ld	a,(_s_lin1)
3165  0F51  E5          	push	hl
3166  0F52  77          	ld	(hl),a
3167  0F53  C3 1A 10    	jp	l_player_move_jump_00148
3168  0F56              l_player_move_jump_00147:
3169  0F56  21 00 00    	ld	hl,_s_state
3170  0F59  7E          	ld	a,(hl)
3171  0F5A  F6 02       	or	a,0x02
3172  0F5C  E6 FE       	and	a,0xfe
3173  0F5E  77          	ld	(hl),a
3174  0F5F  21 00 00    	ld	hl,_s_lin1
3175  0F62  7E          	ld	a, (hl)
3176  0F63  C6 10       	add	a,0x10
3177  0F65  77          	ld	(hl),a
3178  0F66  47          	ld	b,a
3179  0F67  79          	ld	a, c
3180  0F68  90          	sub	a, b
3181  0F69  20 04       	jr	NZ,l_player_move_jump_00268
3182  0F6B  3E 01       	ld	a,0x01
3183  0F6D  18 01       	jr	l_player_move_jump_00269
3184  0F6F              l_player_move_jump_00268:
3185  0F6F  AF          	xor	a,a
3186  0F70              l_player_move_jump_00269:
3187  0F70  EE 01       	xor	a,0x01
3188  0F72  CA 0D 10    	jp	Z, l_player_move_jump_00144
3189  0F75  2A 00 00    	ld	hl,(_sprite)
3190  0F78  26 00       	ld	h,0x00
3191  0F7A  01 00 00    	ld	bc,_col
3192  0F7D  09          	add	hl,bc
3193  0F7E  7E          	ld	a,(hl)
3194  0F7F  F5          	push	af
3195  0F80  33          	inc	sp
3196  0F81  3A 00 00    	ld	a,(_s_lin1)
3197  0F84  F5          	push	af
3198  0F85  33          	inc	sp
3199  0F86  CD 00 00    	call	_game_check_map
3200  0F89  F1          	pop	af
3201  0F8A  45          	ld	b, l
3202  0F8B  5C          	ld	e, h
3203  0F8C  21 00 00    	ld	hl,_s_lin1
3204  0F8F  7E          	ld	a, (hl)
3205  0F90  C6 F0       	add	a,0xf0
3206  0F92  4F          	ld	c, a
3207  0F93  7B          	ld	a, e
3208  0F94  B0          	or	a,b
3209  0F95  28 63       	jr	Z,l_player_move_jump_00141
3210  0F97  71          	ld	(hl), c
3211  0F98  2E 00       	ld	l,0x00
3212  0F9A  CD BD 04    	call	_player_check_stairs
3213  0F9D  3A 00 00    	ld	a,(_player_over_stair)
3214  0FA0  B7          	or	a, a
3215  0FA1  20 05       	jr	NZ,l_player_move_jump_00134
3216  0FA3  2E 01       	ld	l,0x01
3217  0FA5  CD BD 04    	call	_player_check_stairs
3218  0FA8              l_player_move_jump_00134:
3219  0FA8  3A 00 00    	ld	a,(_player_over_stair)
3220  0FAB  B7          	or	a, a
3221  0FAC  20 31       	jr	NZ,l_player_move_jump_00139
3222  0FAE  21 00 00    	ld	hl,_s_lin1
3223  0FB1  7E          	ld	a, (hl)
3224  0FB2  07          	rlca
3225  0FB3  07          	rlca
3226  0FB4  07          	rlca
3227  0FB5  07          	rlca
3228  0FB6  E6 0F       	and	a,0x0f
3229  0FB8  07          	rlca
3230  0FB9  07          	rlca
3231  0FBA  07          	rlca
3232  0FBB  07          	rlca
3233  0FBC  E6 F0       	and	a,0xf0
3234  0FBE  77          	ld	(hl), a
3235  0FBF  2A 00 00    	ld	hl,(_sprite)
3236  0FC2  26 00       	ld	h,0x00
3237  0FC4  01 00 00    	ld	bc,_lin
3238  0FC7  09          	add	hl,bc
3239  0FC8  5E          	ld	e,(hl)
3240  0FC9  4D          	ld	c,l
3241  0FCA  44          	ld	b,h
3242  0FCB  21 00 00    	ld	hl,_s_lin1
3243  0FCE  7E          	ld	a, (hl)
3244  0FCF  93          	sub	a, e
3245  0FD0  30 09       	jr	NC,l_player_move_jump_00136
3246  0FD2  7E          	ld	a, (hl)
3247  0FD3  C6 10       	add	a,0x10
3248  0FD5  02          	ld	(bc), a
3249  0FD6  2E 00       	ld	l,0x00
3250  0FD8  C3 58 10    	jp	l_player_move_jump_00158
3251  0FDB              l_player_move_jump_00136:
3252  0FDB  3A 00 00    	ld	a,(_s_lin1)
3253  0FDE  02          	ld	(bc), a
3254  0FDF              l_player_move_jump_00139:
3255  0FDF  21 00 00    	ld	hl,_player_vel_y
3256  0FE2  36 00       	ld	(hl),0x00
3257  0FE4  21 00 00    	ld	hl,_s_state
3258  0FE7  7E          	ld	a,(hl)
3259  0FE8  E6 FC       	and	a,+(0xfd&0xfe)
3260  0FEA  77          	ld	(hl),a
3261  0FEB  2A 00 00    	ld	hl,(_sprite)
3262  0FEE  26 00       	ld	h,0x00
3263  0FF0  01 00 00    	ld	bc,_colint
3264  0FF3  09          	add	hl,bc
3265  0FF4  AF          	xor	a,a
3266  0FF5  77          	ld	(hl),a
3267  0FF6  2E 01       	ld	l,0x01
3268  0FF8  18 5E       	jr	l_player_move_jump_00158
3269  0FFA              l_player_move_jump_00141:
3270  0FFA  21 00 00    	ld	hl,_s_lin1
3271  0FFD  71          	ld	(hl), c
3272  0FFE  2A 00 00    	ld	hl,(_sprite)
3273  1001  26 00       	ld	h,0x00
3274  1003  01 00 00    	ld	bc,_lin
3275  1006  09          	add	hl,bc
3276  1007  3A 00 00    	ld	a,(_s_lin1)
3277  100A  77          	ld	(hl),a
3278  100B  18 0D       	jr	l_player_move_jump_00148
3279  100D              l_player_move_jump_00144:
3280  100D  21 00 00    	ld	hl,_s_lin1
3281  1010  7E          	ld	a, (hl)
3282  1011  C6 F0       	add	a,0xf0
3283  1013  77          	ld	(hl), a
3284  1014  E1          	pop	hl
3285  1015  3A 00 00    	ld	a,(_s_lin1)
3286  1018  E5          	push	hl
3287  1019  77          	ld	(hl),a
3288  101A              l_player_move_jump_00148:
3289  101A  21 00 00    	ld	hl,_s_state
3290  101D  CB 5E       	bit	3, (hl)
3291  101F  20 27       	jr	NZ,l_player_move_jump_00154
3292  1021  21 00 00    	ld	hl,_s_state
3293  1024  CB 56       	bit	2, (hl)
3294  1026  20 20       	jr	NZ,l_player_move_jump_00154
3295  1028  21 00 00    	ld	hl,_dirs
3296  102B  CB 56       	bit	2, (hl)
3297  102D  28 09       	jr	Z,l_player_move_jump_00150
3298  102F  21 00 00    	ld	hl,_s_state
3299  1032  7E          	ld	a,(hl)
3300  1033  F6 08       	or	a,0x08
3301  1035  E6 FB       	and	a,0xfb
3302  1037  77          	ld	(hl),a
3303  1038              l_player_move_jump_00150:
3304  1038  21 00 00    	ld	hl,_dirs
3305  103B  CB 5E       	bit	3, (hl)
3306  103D  28 09       	jr	Z,l_player_move_jump_00154
3307  103F  21 00 00    	ld	hl,_s_state
3308  1042  7E          	ld	a,(hl)
3309  1043  F6 04       	or	a,0x04
3310  1045  E6 F7       	and	a,0xf7
3311  1047  77          	ld	(hl),a
3312  1048              l_player_move_jump_00154:
3313  1048  CD 00 00    	call	_spr_move_horizontal
3314  104B  7D          	ld	a, l
3315  104C  B7          	or	a, a
3316  104D  28 07       	jr	Z,l_player_move_jump_00157
3317  104F  21 00 00    	ld	hl,_s_state
3318  1052  7E          	ld	a,(hl)
3319  1053  E6 F3       	and	a,+(0xf7&0xfb)
3320  1055  77          	ld	(hl),a
3321  1056              l_player_move_jump_00157:
3322  1056  2E 00       	ld	l,0x00
3323  1058              l_player_move_jump_00158:
3324  1058  F1          	pop	af
3325  1059  DD E1       	pop	ix
3326  105B  C9          	ret
3327  105C              	SECTION code_compiler
3328  105C              ;	---------------------------------
3329  105C              ; Function player_open_door
3330  105C              ; ---------------------------------
3331  105C              _player_open_door:
3332  105C  CD 00 00    	call	___sdcc_enter_ix
3333  105F  0E 00       	ld	c,0x00
3334  1061  DD 7E 06    	ld	a,(ix+6)
3335  1064  D6 48       	sub	a,0x48
3336  1066  28 17       	jr	Z,l_player_open_door_00101
3337  1068  DD 7E 06    	ld	a,(ix+6)
3338  106B  D6 49       	sub	a,0x49
3339  106D  28 1F       	jr	Z,l_player_open_door_00104
3340  106F  DD 7E 06    	ld	a,(ix+6)
3341  1072  D6 4A       	sub	a,0x4a
3342  1074  28 27       	jr	Z,l_player_open_door_00107
3343  1076  DD 7E 06    	ld	a,(ix+6)
3344  1079  D6 4B       	sub	a,0x4b
3345  107B  28 2F       	jr	Z,l_player_open_door_00110
3346  107D  18 3A       	jr	l_player_open_door_00113
3347  107F              l_player_open_door_00101:
3348  107F  3A 00 00    	ld	a,(_player_keys)
3349  1082  B7          	or	a, a
3350  1083  28 34       	jr	Z,l_player_open_door_00113
3351  1085  2E 07       	ld	l,0x07
3352  1087  CD 00 00    	call	_zx_border_fastcall
3353  108A  0E 01       	ld	c,0x01
3354  108C  18 2B       	jr	l_player_open_door_00113
3355  108E              l_player_open_door_00104:
3356  108E  3A 01 00    	ld	a,(_player_keys + 0x0001)
3357  1091  B7          	or	a, a
3358  1092  28 25       	jr	Z,l_player_open_door_00113
3359  1094  2E 02       	ld	l,0x02
3360  1096  CD 00 00    	call	_zx_border_fastcall
3361  1099  0E 01       	ld	c,0x01
3362  109B  18 1C       	jr	l_player_open_door_00113
3363  109D              l_player_open_door_00107:
3364  109D  3A 02 00    	ld	a,(_player_keys + 0x0002)
3365  10A0  B7          	or	a, a
3366  10A1  28 16       	jr	Z,l_player_open_door_00113
3367  10A3  2E 04       	ld	l,0x04
3368  10A5  CD 00 00    	call	_zx_border_fastcall
3369  10A8  0E 01       	ld	c,0x01
3370  10AA  18 0D       	jr	l_player_open_door_00113
3371  10AC              l_player_open_door_00110:
3372  10AC  3A 03 00    	ld	a,(_player_keys + 0x0003)
3373  10AF  B7          	or	a, a
3374  10B0  28 07       	jr	Z,l_player_open_door_00113
3375  10B2  2E 05       	ld	l,0x05
3376  10B4  CD 00 00    	call	_zx_border_fastcall
3377  10B7  0E 01       	ld	c,0x01
3378  10B9              l_player_open_door_00113:
3379  10B9  79          	ld	a, c
3380  10BA  B7          	or	a, a
3381  10BB  20 06       	jr	NZ,l_player_open_door_00114
3382  10BD  3A 00 00    	ld	a,(_game_inmune)
3383  10C0  B7          	or	a, a
3384  10C1  28 24       	jr	Z,l_player_open_door_00117
3385  10C3              l_player_open_door_00114:
3386  10C3  3E 00       	ld	a, +((_scr_map) & 0xFF)
3387  10C5  DD 86 04    	add	a,(ix+4)
3388  10C8  4F          	ld	c, a
3389  10C9  3E 00       	ld	a, +((_scr_map) / 256)
3390  10CB  DD 8E 05    	adc	a,(ix+5)
3391  10CE  47          	ld	b, a
3392  10CF  AF          	xor	a, a
3393  10D0  02          	ld	(bc), a
3394  10D1  DD 6E 04    	ld	l,(ix+4)
3395  10D4  DD 66 05    	ld	h,(ix+5)
3396  10D7  E5          	push	hl
3397  10D8  CD 00 00    	call	_game_obj_set
3398  10DB  F1          	pop	af
3399  10DC  DD 6E 04    	ld	l,(ix+4)
3400  10DF  DD 66 05    	ld	h,(ix+5)
3401  10E2  E5          	push	hl
3402  10E3  CD 00 00    	call	_spr_draw_index
3403  10E6  F1          	pop	af
3404  10E7              l_player_open_door_00117:
3405  10E7  DD E1       	pop	ix
3406  10E9  C9          	ret
3407  10EA              	SECTION code_compiler
3408  10EA              ;	---------------------------------
3409  10EA              ; Function player_lost_life
3410  10EA              ; ---------------------------------
3411  10EA              _player_lost_life:
3412  10EA  CD 00 00    	call	___sdcc_enter_ix
3413  10ED  F5          	push	af
3414  10EE  3B          	dec	sp
3415  10EF  3A 07 00    	ld	a,(_lin + 7)
3416  10F2  32 00 00    	ld	(_s_lin0),a
3417  10F5  3A 07 00    	ld	a,(_col + 7)
3418  10F8  32 00 00    	ld	(_s_col0),a
3419  10FB  CD 00 00    	call	_spr_init_anim_bullets
3420  10FE  01 00 00    	ld	bc,_anim_lin+0
3421  1101  16 00       	ld	d,0x00
3422  1103              l_player_lost_life_00115:
3423  1103  C5          	push	bc
3424  1104  D5          	push	de
3425  1105  21 00 00    	ld	hl,0x0000
3426  1108  E5          	push	hl
3427  1109  AF          	xor	a, a
3428  110A  5A          	ld	e,d
3429  110B  57          	ld	d,a
3430  110C  D5          	push	de
3431  110D  CD 00 00    	call	_NIRVANAP_spriteT_callee
3432  1110  D1          	pop	de
3433  1111  C1          	pop	bc
3434  1112  6A          	ld	l,d
3435  1113  26 00       	ld	h,0x00
3436  1115  09          	add	hl, bc
3437  1116  36 FF       	ld	(hl),0xff
3438  1118  14          	inc	d
3439  1119  7A          	ld	a, d
3440  111A  D6 08       	sub	a,0x08
3441  111C  38 E5       	jr	C,l_player_lost_life_00115
3442  111E  21 00 00    	ld	hl,_anim_count
3443  1121  36 00       	ld	(hl),0x00
3444  1123  76          	halt
3445  1124  3A 00 00    	ld	a,(_s_lin0)
3446  1127  C6 F0       	add	a,0xf0
3447  1129  47          	ld	b, a
3448  112A  3A 00 00    	ld	a,(_s_col0)
3449  112D  21 00 00    	ld	hl,0x0000
3450  1130  E5          	push	hl
3451  1131  21 87 03    	ld	hl,0x0387
3452  1134  E5          	push	hl
3453  1135  48          	ld	c,b
3454  1136  47          	ld	b,a
3455  1137  C5          	push	bc
3456  1138  CD 00 00    	call	_spr_add_anim
3457  113B  F1          	pop	af
3458  113C  F1          	pop	af
3459  113D  F1          	pop	af
3460  113E  21 00 00    	ld	hl,_s_col0
3461  1141  46          	ld	b, (hl)
3462  1142  05          	dec	b
3463  1143  05          	dec	b
3464  1144  21 00 00    	ld	hl,0x0000
3465  1147  E5          	push	hl
3466  1148  21 87 03    	ld	hl,0x0387
3467  114B  E5          	push	hl
3468  114C  C5          	push	bc
3469  114D  33          	inc	sp
3470  114E  3A 00 00    	ld	a,(_s_lin0)
3471  1151  F5          	push	af
3472  1152  33          	inc	sp
3473  1153  CD 00 00    	call	_spr_add_anim
3474  1156  F1          	pop	af
3475  1157  F1          	pop	af
3476  1158  21 00 00    	ld	hl,0x0000
3477  115B  E3          	ex	(sp),hl
3478  115C  3A 00 00    	ld	a,(_s_col0)
3479  115F  21 87 03    	ld	hl,0x0387
3480  1162  E5          	push	hl
3481  1163  F5          	push	af
3482  1164  33          	inc	sp
3483  1165  3A 00 00    	ld	a,(_s_lin0)
3484  1168  F5          	push	af
3485  1169  33          	inc	sp
3486  116A  CD 00 00    	call	_spr_add_anim
3487  116D  F1          	pop	af
3488  116E  F1          	pop	af
3489  116F  F1          	pop	af
3490  1170  21 00 00    	ld	hl,_s_col0
3491  1173  46          	ld	b, (hl)
3492  1174  04          	inc	b
3493  1175  04          	inc	b
3494  1176  21 00 00    	ld	hl,0x0000
3495  1179  E5          	push	hl
3496  117A  21 87 03    	ld	hl,0x0387
3497  117D  E5          	push	hl
3498  117E  C5          	push	bc
3499  117F  33          	inc	sp
3500  1180  3A 00 00    	ld	a,(_s_lin0)
3501  1183  F5          	push	af
3502  1184  33          	inc	sp
3503  1185  CD 00 00    	call	_spr_add_anim
3504  1188  F1          	pop	af
3505  1189  F1          	pop	af
3506  118A  F1          	pop	af
3507  118B  3A 00 00    	ld	a,(_s_lin0)
3508  118E  C6 10       	add	a,0x10
3509  1190  47          	ld	b, a
3510  1191  3A 00 00    	ld	a,(_s_col0)
3511  1194  21 00 00    	ld	hl,0x0000
3512  1197  E5          	push	hl
3513  1198  21 87 03    	ld	hl,0x0387
3514  119B  E5          	push	hl
3515  119C  48          	ld	c,b
3516  119D  47          	ld	b,a
3517  119E  C5          	push	bc
3518  119F  CD 00 00    	call	_spr_add_anim
3519  11A2  F1          	pop	af
3520  11A3  F1          	pop	af
3521  11A4  F1          	pop	af
3522  11A5  2E 00       	ld	l,0x00
3523  11A7  CD 00 00    	call	_zx_border_fastcall
3524  11AA  DD 36 FD 01 	ld	(ix-3),0x01
3525  11AE  2A 00 00    	ld	hl,(_curr_time)
3526  11B1  22 00 00    	ld	(_anim_time),hl
3527  11B4              l_player_lost_life_00107:
3528  11B4  DD 7E FD    	ld	a,(ix-3)
3529  11B7  B7          	or	a, a
3530  11B8  28 28       	jr	Z,l_player_lost_life_00109
3531  11BA  21 0C 00    	ld	hl,0x000c
3532  11BD  E5          	push	hl
3533  11BE  2A 00 00    	ld	hl,(_anim_time)
3534  11C1  E5          	push	hl
3535  11C2  CD 00 00    	call	_game_check_time
3536  11C5  F1          	pop	af
3537  11C6  F1          	pop	af
3538  11C7  7D          	ld	a, l
3539  11C8  B7          	or	a, a
3540  11C9  28 E9       	jr	Z,l_player_lost_life_00107
3541  11CB  2A 00 00    	ld	hl,(_curr_time)
3542  11CE  22 00 00    	ld	(_anim_time),hl
3543  11D1  3A 00 00    	ld	a,(_anim_count)
3544  11D4  B7          	or	a,a
3545  11D5  28 05       	jr	Z,l_player_lost_life_00103
3546  11D7  CD 00 00    	call	_spr_play_anim
3547  11DA  18 D8       	jr	l_player_lost_life_00107
3548  11DC              l_player_lost_life_00103:
3549  11DC  DD 36 FD 00 	ld	(ix-3),0x00
3550  11E0  18 D2       	jr	l_player_lost_life_00107
3551  11E2              l_player_lost_life_00109:
3552  11E2  21 00 00    	ld	hl,_sprite
3553  11E5  36 00       	ld	(hl),0x00
3554  11E7              l_player_lost_life_00117:
3555  11E7  2A 00 00    	ld	hl,(_sprite)
3556  11EA  26 00       	ld	h,0x00
3557  11EC  01 00 00    	ld	bc,_class
3558  11EF  09          	add	hl,bc
3559  11F0  7E          	ld	a,(hl)
3560  11F1  B7          	or	a,a
3561  11F2  28 43       	jr	Z,l_player_lost_life_00111
3562  11F4  2A 00 00    	ld	hl,(_sprite)
3563  11F7  26 00       	ld	h,0x00
3564  11F9  01 00 00    	ld	bc,_col
3565  11FC  09          	add	hl,bc
3566  11FD  4E          	ld	c, (hl)
3567  11FE  2A 00 00    	ld	hl,(_sprite)
3568  1201  26 00       	ld	h,0x00
3569  1203  11 00 00    	ld	de,_lin
3570  1206  19          	add	hl,de
3571  1207  46          	ld	b, (hl)
3572  1208  2A 00 00    	ld	hl,(_sprite)
3573  120B  26 00       	ld	h,0x00
3574  120D  11 00 00    	ld	de,_tile
3575  1210  19          	add	hl,de
3576  1211  5E          	ld	e, (hl)
3577  1212  3E 00       	ld	a,+((_colint) & 0xFF)
3578  1214  21 00 00    	ld	hl,_sprite
3579  1217  86          	add	a, (hl)
3580  1218  DD 77 FE    	ld	(ix-2),a
3581  121B  6F          	ld	l,a
3582  121C  3E 00       	ld	a,+((_colint) / 256)
3583  121E  CE 00       	adc	a,0x00
3584  1220  DD 77 FF    	ld	(ix-1),a
3585  1223  67          	ld	h,a
3586  1224  6E          	ld	l, (hl)
3587  1225  7B          	ld	a, e
3588  1226  85          	add	a, l
3589  1227  5F          	ld	e, a
3590  1228  79          	ld	a, c
3591  1229  48          	ld	c,b
3592  122A  47          	ld	b,a
3593  122B  C5          	push	bc
3594  122C  7B          	ld	a, e
3595  122D  F5          	push	af
3596  122E  33          	inc	sp
3597  122F  3A 00 00    	ld	a,(_sprite)
3598  1232  F5          	push	af
3599  1233  33          	inc	sp
3600  1234  CD 00 00    	call	_NIRVANAP_spriteT_callee
3601  1237              l_player_lost_life_00111:
3602  1237  2A 00 00    	ld	hl,(_sprite)
3603  123A  26 00       	ld	h,0x00
3604  123C  01 00 00    	ld	bc,_class
3605  123F  09          	add	hl,bc
3606  1240  AF          	xor	a,a
3607  1241  77          	ld	(hl),a
3608  1242  2A 00 00    	ld	hl,(_sprite)
3609  1245  26 00       	ld	h,0x00
3610  1247  01 00 00    	ld	bc,_bullet_col
3611  124A  09          	add	hl,bc
3612  124B  36 FF       	ld	(hl),0xff
3613  124D  21 00 00    	ld	hl,_sprite
3614  1250  7E          	ld	a,(hl)
3615  1251  3C          	inc	a
3616  1252  77          	ld	(hl),a
3617  1253  D6 07       	sub	a,0x07
3618  1255  38 90       	jr	C,l_player_lost_life_00117
3619  1257  3A 00 00    	ld	a,(_player_lives)
3620  125A  B7          	or	a, a
3621  125B  28 09       	jr	Z,l_player_lost_life_00119
3622  125D  21 F4 01    	ld	hl,0x01f4
3623  1260  CD 00 00    	call	_z80_delay_ms_fastcall
3624  1263  CD 00 00    	call	_game_round_init
3625  1266              l_player_lost_life_00119:
3626  1266  DD F9       	ld	sp, ix
3627  1268  DD E1       	pop	ix
3628  126A  C9          	ret
3629  126B              	SECTION code_compiler
3630  126B              ;	---------------------------------
3631  126B              ; Function player_hit
3632  126B              ; ---------------------------------
3633  126B              _player_hit:
3634  126B  7D          	ld	a,l
3635  126C  4D          	ld	c,l
3636  126D  21 00 00    	ld	hl,_player_vita
3637  1270  96          	sub	a, (hl)
3638  1271  30 17       	jr	NC,l_player_hit_00107
3639  1273  3A 00 00    	ld	a,(_game_inmune)
3640  1276  B7          	or	a, a
3641  1277  20 06       	jr	NZ,l_player_hit_00102
3642  1279  21 00 00    	ld	hl,_player_vita
3643  127C  7E          	ld	a, (hl)
3644  127D  91          	sub	a, c
3645  127E  77          	ld	(hl), a
3646  127F              l_player_hit_00102:
3647  127F  2A 00 00    	ld	hl,(_curr_time)
3648  1282  22 00 00    	ld	(_player_hit_time),hl
3649  1285  CD 00 00    	call	_game_update_stats
3650  1288  18 2C       	jr	l_player_hit_00109
3651  128A              l_player_hit_00107:
3652  128A  21 00 00    	ld	hl,_player_vita
3653  128D  36 00       	ld	(hl),0x00
3654  128F  CD 00 00    	call	_game_update_stats
3655  1292  CD EA 10    	call	_player_lost_life
3656  1295  21 00 00    	ld	hl,_player_lives
3657  1298  7E          	ld	a, (hl)
3658  1299  B7          	or	a, a
3659  129A  28 10       	jr	Z,l_player_hit_00104
3660  129C  35          	dec	(hl)
3661  129D  21 00 00    	ld	hl,_player_mana
3662  12A0  36 64       	ld	(hl),0x64
3663  12A2  21 00 00    	ld	hl,_player_vita
3664  12A5  36 64       	ld	(hl),0x64
3665  12A7  CD 00 00    	call	_game_update_stats
3666  12AA  18 0A       	jr	l_player_hit_00109
3667  12AC              l_player_hit_00104:
3668  12AC  21 00 00    	ld	hl,_player_lives
3669  12AF  36 00       	ld	(hl),0x00
3670  12B1  21 00 00    	ld	hl,_game_over
3671  12B4  36 01       	ld	(hl),0x01
3672  12B6              l_player_hit_00109:
3673  12B6  C9          	ret
3674  12B7              	SECTION IGNORE
3675  0000              
