1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_turn
194   0000              	GLOBAL _player_move
195   0000              	GLOBAL _player_check_stairs_down
196   0000              	GLOBAL _player_check_stairs
197   0000              	GLOBAL _player_tile
198   0000              	GLOBAL _player_move_input
199   0000              	GLOBAL _player_fire
200   0000              	GLOBAL _player_pick_item
201   0000              	GLOBAL _player_hit_platform
202   0000              	GLOBAL _player_hit_platform_clear
203   0000              	GLOBAL _player_score_add
204   0000              	GLOBAL _player_check_floor
205   0000              	GLOBAL _player_gasta_brick
206   0000              	GLOBAL _player_move_jump
207   0000              	GLOBAL _player_open_door
208   0000              	GLOBAL _player_lost_life
209   0000              	GLOBAL _player_hit
210   0000              ;--------------------------------------------------------
211   0000              ; Externals used
212   0000              ;--------------------------------------------------------
213   0000              	GLOBAL _ulltoa_callee
214   0000              	GLOBAL _ulltoa
215   0000              	GLOBAL _strtoull_callee
216   0000              	GLOBAL _strtoull
217   0000              	GLOBAL _strtoll_callee
218   0000              	GLOBAL _strtoll
219   0000              	GLOBAL _lltoa_callee
220   0000              	GLOBAL _lltoa
221   0000              	GLOBAL _llabs_callee
222   0000              	GLOBAL _llabs
223   0000              	GLOBAL __lldivu__callee
224   0000              	GLOBAL __lldivu_
225   0000              	GLOBAL __lldiv__callee
226   0000              	GLOBAL __lldiv_
227   0000              	GLOBAL _atoll_callee
228   0000              	GLOBAL _atoll
229   0000              	GLOBAL _realloc_unlocked_callee
230   0000              	GLOBAL _realloc_unlocked
231   0000              	GLOBAL _malloc_unlocked_fastcall
232   0000              	GLOBAL _malloc_unlocked
233   0000              	GLOBAL _free_unlocked_fastcall
234   0000              	GLOBAL _free_unlocked
235   0000              	GLOBAL _calloc_unlocked_callee
236   0000              	GLOBAL _calloc_unlocked
237   0000              	GLOBAL _aligned_alloc_unlocked_callee
238   0000              	GLOBAL _aligned_alloc_unlocked
239   0000              	GLOBAL _realloc_callee
240   0000              	GLOBAL _realloc
241   0000              	GLOBAL _malloc_fastcall
242   0000              	GLOBAL _malloc
243   0000              	GLOBAL _free_fastcall
244   0000              	GLOBAL _free
245   0000              	GLOBAL _calloc_callee
246   0000              	GLOBAL _calloc
247   0000              	GLOBAL _aligned_alloc_callee
248   0000              	GLOBAL _aligned_alloc
249   0000              	GLOBAL _utoa_callee
250   0000              	GLOBAL _utoa
251   0000              	GLOBAL _ultoa_callee
252   0000              	GLOBAL _ultoa
253   0000              	GLOBAL _system_fastcall
254   0000              	GLOBAL _system
255   0000              	GLOBAL _strtoul_callee
256   0000              	GLOBAL _strtoul
257   0000              	GLOBAL _strtol_callee
258   0000              	GLOBAL _strtol
259   0000              	GLOBAL _strtof_callee
260   0000              	GLOBAL _strtof
261   0000              	GLOBAL _strtod_callee
262   0000              	GLOBAL _strtod
263   0000              	GLOBAL _srand_fastcall
264   0000              	GLOBAL _srand
265   0000              	GLOBAL _rand
266   0000              	GLOBAL _quick_exit_fastcall
267   0000              	GLOBAL _quick_exit
268   0000              	GLOBAL _qsort_callee
269   0000              	GLOBAL _qsort
270   0000              	GLOBAL _ltoa_callee
271   0000              	GLOBAL _ltoa
272   0000              	GLOBAL _labs_fastcall
273   0000              	GLOBAL _labs
274   0000              	GLOBAL _itoa_callee
275   0000              	GLOBAL _itoa
276   0000              	GLOBAL _ftoh_callee
277   0000              	GLOBAL _ftoh
278   0000              	GLOBAL _ftog_callee
279   0000              	GLOBAL _ftog
280   0000              	GLOBAL _ftoe_callee
281   0000              	GLOBAL _ftoe
282   0000              	GLOBAL _ftoa_callee
283   0000              	GLOBAL _ftoa
284   0000              	GLOBAL _exit_fastcall
285   0000              	GLOBAL _exit
286   0000              	GLOBAL _dtoh_callee
287   0000              	GLOBAL _dtoh
288   0000              	GLOBAL _dtog_callee
289   0000              	GLOBAL _dtog
290   0000              	GLOBAL _dtoe_callee
291   0000              	GLOBAL _dtoe
292   0000              	GLOBAL _dtoa_callee
293   0000              	GLOBAL _dtoa
294   0000              	GLOBAL _bsearch_callee
295   0000              	GLOBAL _bsearch
296   0000              	GLOBAL _atol_fastcall
297   0000              	GLOBAL _atol
298   0000              	GLOBAL _atoi_fastcall
299   0000              	GLOBAL _atoi
300   0000              	GLOBAL _atof_fastcall
301   0000              	GLOBAL _atof
302   0000              	GLOBAL _atexit_fastcall
303   0000              	GLOBAL _atexit
304   0000              	GLOBAL _at_quick_exit_fastcall
305   0000              	GLOBAL _at_quick_exit
306   0000              	GLOBAL _abs_fastcall
307   0000              	GLOBAL _abs
308   0000              	GLOBAL _abort
309   0000              	GLOBAL __strtou__callee
310   0000              	GLOBAL __strtou_
311   0000              	GLOBAL __strtoi__callee
312   0000              	GLOBAL __strtoi_
313   0000              	GLOBAL __random_uniform_xor_8__fastcall
314   0000              	GLOBAL __random_uniform_xor_8_
315   0000              	GLOBAL __random_uniform_xor_32__fastcall
316   0000              	GLOBAL __random_uniform_xor_32_
317   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
318   0000              	GLOBAL __random_uniform_cmwc_8_
319   0000              	GLOBAL __shellsort__callee
320   0000              	GLOBAL __shellsort_
321   0000              	GLOBAL __quicksort__callee
322   0000              	GLOBAL __quicksort_
323   0000              	GLOBAL __insertion_sort__callee
324   0000              	GLOBAL __insertion_sort_
325   0000              	GLOBAL __ldivu__callee
326   0000              	GLOBAL __ldivu_
327   0000              	GLOBAL __ldiv__callee
328   0000              	GLOBAL __ldiv_
329   0000              	GLOBAL __divu__callee
330   0000              	GLOBAL __divu_
331   0000              	GLOBAL __div__callee
332   0000              	GLOBAL __div_
333   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
334   0000              	GLOBAL _NIRVANAP_drawTW_raw
335   0000              	GLOBAL _NIRVANAP_drawTW_callee
336   0000              	GLOBAL _NIRVANAP_drawTW
337   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
338   0000              	GLOBAL _NIRVANAP_drawW_raw
339   0000              	GLOBAL _NIRVANAP_drawW_callee
340   0000              	GLOBAL _NIRVANAP_drawW
341   0000              	GLOBAL _NIRVANAP_spriteT_callee
342   0000              	GLOBAL _NIRVANAP_spriteT
343   0000              	GLOBAL _NIRVANAP_fillC_callee
344   0000              	GLOBAL _NIRVANAP_fillC
345   0000              	GLOBAL _NIRVANAP_readC_callee
346   0000              	GLOBAL _NIRVANAP_readC
347   0000              	GLOBAL _NIRVANAP_paintC_callee
348   0000              	GLOBAL _NIRVANAP_paintC
349   0000              	GLOBAL _NIRVANAP_printC_callee
350   0000              	GLOBAL _NIRVANAP_printC
351   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
352   0000              	GLOBAL _NIRVANAP_fillT_raw
353   0000              	GLOBAL _NIRVANAP_fillT_callee
354   0000              	GLOBAL _NIRVANAP_fillT
355   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
356   0000              	GLOBAL _NIRVANAP_drawT_raw
357   0000              	GLOBAL _NIRVANAP_drawT_callee
358   0000              	GLOBAL _NIRVANAP_drawT
359   0000              	GLOBAL _NIRVANAP_stop
360   0000              	GLOBAL _NIRVANAP_start
361   0000              	GLOBAL _debug3
362   0000              	GLOBAL _debug2
363   0000              	GLOBAL _debug
364   0000              	GLOBAL _zx_print_str
365   0000              	GLOBAL _zx_print_int
366   0000              	GLOBAL _zx_print_chr
367   0000              	GLOBAL _zx_print_bonus_time
368   0000              	GLOBAL _zx_isr
369   0000              	GLOBAL _z80_otdr_callee
370   0000              	GLOBAL _z80_otdr
371   0000              	GLOBAL _z80_otir_callee
372   0000              	GLOBAL _z80_otir
373   0000              	GLOBAL _z80_outp_callee
374   0000              	GLOBAL _z80_outp
375   0000              	GLOBAL _z80_indr_callee
376   0000              	GLOBAL _z80_indr
377   0000              	GLOBAL _z80_inir_callee
378   0000              	GLOBAL _z80_inir
379   0000              	GLOBAL _z80_inp_fastcall
380   0000              	GLOBAL _z80_inp
381   0000              	GLOBAL _z80_set_int_state_fastcall
382   0000              	GLOBAL _z80_set_int_state
383   0000              	GLOBAL _z80_get_int_state
384   0000              	GLOBAL _z80_delay_tstate_fastcall
385   0000              	GLOBAL _z80_delay_tstate
386   0000              	GLOBAL _z80_delay_ms_fastcall
387   0000              	GLOBAL _z80_delay_ms
388   0000              	GLOBAL _im2_remove_generic_callback_callee
389   0000              	GLOBAL _im2_remove_generic_callback
390   0000              	GLOBAL _im2_prepend_generic_callback_callee
391   0000              	GLOBAL _im2_prepend_generic_callback
392   0000              	GLOBAL _im2_append_generic_callback_callee
393   0000              	GLOBAL _im2_append_generic_callback
394   0000              	GLOBAL _im2_create_generic_isr_8080_callee
395   0000              	GLOBAL _im2_create_generic_isr_8080
396   0000              	GLOBAL _im2_create_generic_isr_callee
397   0000              	GLOBAL _im2_create_generic_isr
398   0000              	GLOBAL _im2_install_isr_callee
399   0000              	GLOBAL _im2_install_isr
400   0000              	GLOBAL _im2_init_fastcall
401   0000              	GLOBAL _im2_init
402   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
403   0000              	GLOBAL _intrinsic_swap_word_32
404   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
405   0000              	GLOBAL _intrinsic_swap_endian_32
406   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
407   0000              	GLOBAL _intrinsic_swap_endian_16
408   0000              	GLOBAL _intrinsic_return_de
409   0000              	GLOBAL _intrinsic_return_bc
410   0000              	GLOBAL _intrinsic_exx
411   0000              	GLOBAL _intrinsic_ex_de_hl
412   0000              	GLOBAL _intrinsic_nop
413   0000              	GLOBAL _intrinsic_im_2
414   0000              	GLOBAL _intrinsic_im_1
415   0000              	GLOBAL _intrinsic_im_0
416   0000              	GLOBAL _intrinsic_retn
417   0000              	GLOBAL _intrinsic_reti
418   0000              	GLOBAL _intrinsic_halt
419   0000              	GLOBAL _intrinsic_ei
420   0000              	GLOBAL _intrinsic_di
421   0000              	GLOBAL _intrinsic_stub
422   0000              	GLOBAL _intrinsic_outi
423   0000              	GLOBAL _intrinsic_ldi
424   0000              	GLOBAL _zx_pattern_fill_callee
425   0000              	GLOBAL _zx_pattern_fill
426   0000              	GLOBAL _zx_saddrpup_fastcall
427   0000              	GLOBAL _zx_saddrpup
428   0000              	GLOBAL _zx_saddrpright_callee
429   0000              	GLOBAL _zx_saddrpright
430   0000              	GLOBAL _zx_saddrpleft_callee
431   0000              	GLOBAL _zx_saddrpleft
432   0000              	GLOBAL _zx_saddrpdown_fastcall
433   0000              	GLOBAL _zx_saddrpdown
434   0000              	GLOBAL _zx_saddrcup_fastcall
435   0000              	GLOBAL _zx_saddrcup
436   0000              	GLOBAL _zx_saddrcright_fastcall
437   0000              	GLOBAL _zx_saddrcright
438   0000              	GLOBAL _zx_saddrcleft_fastcall
439   0000              	GLOBAL _zx_saddrcleft
440   0000              	GLOBAL _zx_saddrcdown_fastcall
441   0000              	GLOBAL _zx_saddrcdown
442   0000              	GLOBAL _zx_saddr2py_fastcall
443   0000              	GLOBAL _zx_saddr2py
444   0000              	GLOBAL _zx_saddr2px_fastcall
445   0000              	GLOBAL _zx_saddr2px
446   0000              	GLOBAL _zx_saddr2cy_fastcall
447   0000              	GLOBAL _zx_saddr2cy
448   0000              	GLOBAL _zx_saddr2cx_fastcall
449   0000              	GLOBAL _zx_saddr2cx
450   0000              	GLOBAL _zx_saddr2aaddr_fastcall
451   0000              	GLOBAL _zx_saddr2aaddr
452   0000              	GLOBAL _zx_py2saddr_fastcall
453   0000              	GLOBAL _zx_py2saddr
454   0000              	GLOBAL _zx_py2aaddr_fastcall
455   0000              	GLOBAL _zx_py2aaddr
456   0000              	GLOBAL _zx_pxy2saddr_callee
457   0000              	GLOBAL _zx_pxy2saddr
458   0000              	GLOBAL _zx_pxy2aaddr_callee
459   0000              	GLOBAL _zx_pxy2aaddr
460   0000              	GLOBAL _zx_px2bitmask_fastcall
461   0000              	GLOBAL _zx_px2bitmask
462   0000              	GLOBAL _zx_cy2saddr_fastcall
463   0000              	GLOBAL _zx_cy2saddr
464   0000              	GLOBAL _zx_cy2aaddr_fastcall
465   0000              	GLOBAL _zx_cy2aaddr
466   0000              	GLOBAL _zx_cxy2saddr_callee
467   0000              	GLOBAL _zx_cxy2saddr
468   0000              	GLOBAL _zx_cxy2aaddr_callee
469   0000              	GLOBAL _zx_cxy2aaddr
470   0000              	GLOBAL _zx_bitmask2px_fastcall
471   0000              	GLOBAL _zx_bitmask2px
472   0000              	GLOBAL _zx_aaddrcup_fastcall
473   0000              	GLOBAL _zx_aaddrcup
474   0000              	GLOBAL _zx_aaddrcright_fastcall
475   0000              	GLOBAL _zx_aaddrcright
476   0000              	GLOBAL _zx_aaddrcleft_fastcall
477   0000              	GLOBAL _zx_aaddrcleft
478   0000              	GLOBAL _zx_aaddrcdown_fastcall
479   0000              	GLOBAL _zx_aaddrcdown
480   0000              	GLOBAL _zx_aaddr2saddr_fastcall
481   0000              	GLOBAL _zx_aaddr2saddr
482   0000              	GLOBAL _zx_aaddr2py_fastcall
483   0000              	GLOBAL _zx_aaddr2py
484   0000              	GLOBAL _zx_aaddr2px_fastcall
485   0000              	GLOBAL _zx_aaddr2px
486   0000              	GLOBAL _zx_aaddr2cy_fastcall
487   0000              	GLOBAL _zx_aaddr2cy
488   0000              	GLOBAL _zx_aaddr2cx_fastcall
489   0000              	GLOBAL _zx_aaddr2cx
490   0000              	GLOBAL _zx_visit_wc_pix_callee
491   0000              	GLOBAL _zx_visit_wc_pix
492   0000              	GLOBAL _zx_visit_wc_attr_callee
493   0000              	GLOBAL _zx_visit_wc_attr
494   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
495   0000              	GLOBAL _zx_scroll_wc_up_pix
496   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
497   0000              	GLOBAL _zx_scroll_wc_up_attr
498   0000              	GLOBAL _zx_scroll_wc_up_callee
499   0000              	GLOBAL _zx_scroll_wc_up
500   0000              	GLOBAL _zx_scroll_up_pix_callee
501   0000              	GLOBAL _zx_scroll_up_pix
502   0000              	GLOBAL _zx_scroll_up_attr_callee
503   0000              	GLOBAL _zx_scroll_up_attr
504   0000              	GLOBAL _zx_scroll_up_callee
505   0000              	GLOBAL _zx_scroll_up
506   0000              	GLOBAL _zx_cls_wc_pix_callee
507   0000              	GLOBAL _zx_cls_wc_pix
508   0000              	GLOBAL _zx_cls_wc_attr_callee
509   0000              	GLOBAL _zx_cls_wc_attr
510   0000              	GLOBAL _zx_cls_wc_callee
511   0000              	GLOBAL _zx_cls_wc
512   0000              	GLOBAL _zx_cls_pix_fastcall
513   0000              	GLOBAL _zx_cls_pix
514   0000              	GLOBAL _zx_cls_attr_fastcall
515   0000              	GLOBAL _zx_cls_attr
516   0000              	GLOBAL _zx_cls_fastcall
517   0000              	GLOBAL _zx_cls
518   0000              	GLOBAL _zx_border_fastcall
519   0000              	GLOBAL _zx_border
520   0000              	GLOBAL _spr_btile_paint_back
521   0000              	GLOBAL _spr_explode_bullet
522   0000              	GLOBAL _spr_init_anim_bullets
523   0000              	GLOBAL _spr_turn_horizontal
524   0000              	GLOBAL _spr_play_bullets
525   0000              	GLOBAL _spr_play_anim
526   0000              	GLOBAL _spr_add_anim
527   0000              	GLOBAL _spr_page_map
528   0000              	GLOBAL _spr_page_down
529   0000              	GLOBAL _spr_page_up
530   0000              	GLOBAL _spr_page_right
531   0000              	GLOBAL _spr_page_left
532   0000              	GLOBAL _spr_tile_paint
533   0000              	GLOBAL _spr_calc_hor
534   0000              	GLOBAL _spr_draw_row
535   0000              	GLOBAL _spr_draw_index
536   0000              	GLOBAL _spr_brick_anim
537   0000              	GLOBAL _spr_back_repaint
538   0000              	GLOBAL _spr_tile
539   0000              	GLOBAL _spr_destroy
540   0000              	GLOBAL _spr_tile_dir
541   0000              	GLOBAL _spr_redraw
542   0000              	GLOBAL _spr_move_left
543   0000              	GLOBAL _spr_move_right
544   0000              	GLOBAL _spr_move_horizontal
545   0000              	GLOBAL _spr_move_down
546   0000              	GLOBAL _spr_move_up
547   0000              	GLOBAL _spr_calc_index
548   0000              	GLOBAL _spr_chktime
549   0000              	GLOBAL _sound_hit_brick
550   0000              	GLOBAL _sound_hit_enemy
551   0000              	GLOBAL _sound_kill
552   0000              	GLOBAL _sound_enter_enemy
553   0000              	GLOBAL _sound_coin
554   0000              	GLOBAL _sound_jump
555   0000              	GLOBAL _sound_slide
556   0000              	GLOBAL _player_player_hit_pow
557   0000              	GLOBAL _game_attribs
558   0000              	GLOBAL _game_boss_clear
559   0000              	GLOBAL _game_obj_clear
560   0000              	GLOBAL _game_obj_chk
561   0000              	GLOBAL _game_obj_set
562   0000              	GLOBAL _game_shoot_fire_boss
563   0000              	GLOBAL _game_shoot_fire
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_joystick_set_menu
566   0000              	GLOBAL _game_joystick_set
567   0000              	GLOBAL _game_joystick_change
568   0000              	GLOBAL _game_print_header
569   0000              	GLOBAL _game_end
570   0000              	GLOBAL _game_phase_print_score_back
571   0000              	GLOBAL _game_check_time
572   0000              	GLOBAL _game_rotate_attrib
573   0000              	GLOBAL _game_colour_message
574   0000              	GLOBAL _game_paint_attrib_lin_h
575   0000              	GLOBAL _game_paint_attrib_lin
576   0000              	GLOBAL _game_paint_attrib
577   0000              	GLOBAL _game_print_score
578   0000              	GLOBAL _game_unfreeze_all
579   0000              	GLOBAL _game_freeze_all
580   0000              	GLOBAL _game_freeze
581   0000              	GLOBAL _game_enemy_add_get_index
582   0000              	GLOBAL _game_check_cell
583   0000              	GLOBAL _game_check_map
584   0000              	GLOBAL _game_loop
585   0000              	GLOBAL _game_round_init
586   0000              	GLOBAL _game_start_timer
587   0000              	GLOBAL _game_tick
588   0000              	GLOBAL _game_update_stats
589   0000              	GLOBAL _game_print_footer
590   0000              	GLOBAL _game_fill_row
591   0000              	GLOBAL _game_fps
592   0000              	GLOBAL _game_respawn
593   0000              	GLOBAL _game_draw_screen
594   0000              	GLOBAL _boss_turn
595   0000              	GLOBAL _enemy_avoid_dead
596   0000              	GLOBAL _enemy_avoid_fall
597   0000              	GLOBAL _enemy_respawn
598   0000              	GLOBAL _enemy_init
599   0000              	GLOBAL _enemy_move
600   0000              	GLOBAL _enemy_turn
601   0000              	GLOBAL _enemy_hit
602   0000              	GLOBAL _enemy_coin1
603   0000              	GLOBAL _enemy_static
604   0000              	GLOBAL _enemy_walk
605   0000              	GLOBAL _enemy_horizontal
606   0000              	GLOBAL _enemy_vertical
607   0000              	GLOBAL _ay_fx_play
608   0000              	GLOBAL _ay_midi_play
609   0000              	GLOBAL _ay_is_playing
610   0000              	GLOBAL _ay_reset
611   0000              	GLOBAL _test_func
612   0000              	GLOBAL _test_proc
613   0000              	GLOBAL _in_mouse_kempston_wheel_delta
614   0000              	GLOBAL _in_mouse_kempston_wheel
615   0000              	GLOBAL _in_mouse_kempston_callee
616   0000              	GLOBAL _in_mouse_kempston
617   0000              	GLOBAL _in_mouse_kempston_setpos_callee
618   0000              	GLOBAL _in_mouse_kempston_setpos
619   0000              	GLOBAL _in_mouse_kempston_reset
620   0000              	GLOBAL _in_mouse_kempston_init
621   0000              	GLOBAL _in_mouse_amx_wheel_delta
622   0000              	GLOBAL _in_mouse_amx_wheel
623   0000              	GLOBAL _in_mouse_amx_callee
624   0000              	GLOBAL _in_mouse_amx
625   0000              	GLOBAL _in_mouse_amx_setpos_callee
626   0000              	GLOBAL _in_mouse_amx_setpos
627   0000              	GLOBAL _in_mouse_amx_reset
628   0000              	GLOBAL _in_mouse_amx_init_callee
629   0000              	GLOBAL _in_mouse_amx_init
630   0000              	GLOBAL _in_stick_sinclair2
631   0000              	GLOBAL _in_stick_sinclair1
632   0000              	GLOBAL _in_stick_kempston
633   0000              	GLOBAL _in_stick_fuller
634   0000              	GLOBAL _in_stick_cursor
635   0000              	GLOBAL _in_stick_keyboard_fastcall
636   0000              	GLOBAL _in_stick_keyboard
637   0000              	GLOBAL _in_wait_nokey
638   0000              	GLOBAL _in_wait_key
639   0000              	GLOBAL _in_test_key
640   0000              	GLOBAL _in_pause_fastcall
641   0000              	GLOBAL _in_pause
642   0000              	GLOBAL _in_key_scancode_fastcall
643   0000              	GLOBAL _in_key_scancode
644   0000              	GLOBAL _in_key_pressed_fastcall
645   0000              	GLOBAL _in_key_pressed
646   0000              	GLOBAL _in_inkey
647   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
648   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
649   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
650   0000              	GLOBAL _NIRVANAP_HOLE
651   0000              	GLOBAL _NIRVANAP_ISR_HOOK
652   0000              	GLOBAL _player_lvl_table
653   0000              	GLOBAL _map_paper_last
654   0000              	GLOBAL _map_paper_clr
655   0000              	GLOBAL _map_paper
656   0000              	GLOBAL _draw_count
657   0000              	GLOBAL _g_player_hit_right
658   0000              	GLOBAL _g_player_hit_left
659   0000              	GLOBAL _joynames
660   0000              	GLOBAL _initials
661   0000              	GLOBAL _bullet_count
662   0000              	GLOBAL _spr_hack
663   0000              	GLOBAL _boss_stat
664   0000              	GLOBAL _boss_time_fire
665   0000              	GLOBAL _boss_time
666   0000              	GLOBAL _boss_tile
667   0000              	GLOBAL _boss_inc
668   0000              	GLOBAL _boss_col
669   0000              	GLOBAL _boss_lin
670   0000              	GLOBAL _bullet_vel
671   0000              	GLOBAL _bullet_frames
672   0000              	GLOBAL _bullet_colint
673   0000              	GLOBAL _bullet_dir
674   0000              	GLOBAL _bullet_tile
675   0000              	GLOBAL _bullet_col
676   0000              	GLOBAL _bullet_lin
677   0000              	GLOBAL _bullet_col0
678   0000              	GLOBAL _bullet_lin0
679   0000              	GLOBAL _bullet_max
680   0000              	GLOBAL _bullet_class
681   0000              	GLOBAL _mush_class
682   0000              	GLOBAL _mush_index
683   0000              	GLOBAL _anim_count
684   0000              	GLOBAL _anim_respanwn
685   0000              	GLOBAL _anim_loop
686   0000              	GLOBAL _anim_end
687   0000              	GLOBAL _anim_int
688   0000              	GLOBAL _anim_tile
689   0000              	GLOBAL _anim_col
690   0000              	GLOBAL _anim_lin
691   0000              	GLOBAL _map_heigth
692   0000              	GLOBAL _map_width
693   0000              	GLOBAL _scr_curr
694   0000              	GLOBAL _scr_obj1
695   0000              	GLOBAL _scr_obj0
696   0000              	GLOBAL _scr_map
697   0000              	GLOBAL _sprite_speed_alt
698   0000              	GLOBAL _sprite_frames
699   0000              	GLOBAL _sprite_speed
700   0000              	GLOBAL _screen_ink
701   0000              	GLOBAL _screen_paper
702   0000              	GLOBAL _player_over_stair
703   0000              	GLOBAL _game_start_scr
704   0000              	GLOBAL _game_respawn_tile
705   0000              	GLOBAL _game_respawn_index
706   0000              	GLOBAL _game_respawn_time
707   0000              	GLOBAL _game_menu_sel
708   0000              	GLOBAL _game_score_top
709   0000              	GLOBAL _player_lives
710   0000              	GLOBAL _game_over
711   0000              	GLOBAL _game_sound
712   0000              	GLOBAL _game_inmune
713   0000              	GLOBAL _game_god_mode
714   0000              	GLOBAL _game_two_player
715   0000              	GLOBAL _game_brick_tile
716   0000              	GLOBAL _sprite_curr_index
717   0000              	GLOBAL _spr_count
718   0000              	GLOBAL _bullet_time
719   0000              	GLOBAL _anim_time
720   0000              	GLOBAL _frame_time
721   0000              	GLOBAL _entry_time
722   0000              	GLOBAL _curr_time
723   0000              	GLOBAL _s_state
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _enemies
728   0000              	GLOBAL _tmp_ui
729   0000              	GLOBAL _tmp_sc
730   0000              	GLOBAL _tmp_uc
731   0000              	GLOBAL _tmp1
732   0000              	GLOBAL _tmp0
733   0000              	GLOBAL _tmp
734   0000              	GLOBAL _index1
735   0000              	GLOBAL _index0
736   0000              	GLOBAL _loop_count
737   0000              	GLOBAL _s_col1
738   0000              	GLOBAL _s_col0
739   0000              	GLOBAL _s_lin1
740   0000              	GLOBAL _s_lin0
741   0000              	GLOBAL _s_tile1
742   0000              	GLOBAL _s_tile0
743   0000              	GLOBAL _player_brick_time
744   0000              	GLOBAL _player_hit_count
745   0000              	GLOBAL _sprite_horizontal_check
746   0000              	GLOBAL _sprite_on_air
747   0000              	GLOBAL _sprite
748   0000              	GLOBAL _fps
749   0000              	GLOBAL _game_respawn_curr_time
750   0000              	GLOBAL _game_worldup
751   0000              	GLOBAL _game_mush_count
752   0000              	GLOBAL _game_boss_fix
753   0000              	GLOBAL _game_boss_hit
754   0000              	GLOBAL _game_boss_alive
755   0000              	GLOBAL _game_boss
756   0000              	GLOBAL _game_world
757   0000              	GLOBAL _game_gravity
758   0000              	GLOBAL _player_hit_time
759   0000              	GLOBAL _player_lin_scr
760   0000              	GLOBAL _player_col_scr
761   0000              	GLOBAL _player_lvl
762   0000              	GLOBAL _player_int
763   0000              	GLOBAL _player_str
764   0000              	GLOBAL _player_max_vita
765   0000              	GLOBAL _player_max_mana
766   0000              	GLOBAL _player_vita
767   0000              	GLOBAL _player_mana
768   0000              	GLOBAL _player_keys
769   0000              	GLOBAL _player_vel_inc
770   0000              	GLOBAL _player_vel_y1
771   0000              	GLOBAL _player_vel_y0
772   0000              	GLOBAL _player_vel_y
773   0000              	GLOBAL _player_vel_x
774   0000              	GLOBAL _player_joy
775   0000              	GLOBAL _player_score
776   0000              	GLOBAL _last_time
777   0000              	GLOBAL _player_slide
778   0000              	GLOBAL _spr_timer
779   0000              	GLOBAL _jump_lin
780   0000              	GLOBAL _player_hit_col
781   0000              	GLOBAL _player_hit_lin
782   0000              	GLOBAL _colint
783   0000              	GLOBAL _col
784   0000              	GLOBAL _lin
785   0000              	GLOBAL _tile
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _tbuffer
790   0000              	GLOBAL _dirs
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc1
793   0000              	GLOBAL _btiles
794   0000              	GLOBAL _spec128
795   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
796   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
798   0000              	GLOBAL _ay_effect_20
799   0000              	GLOBAL _ay_effect_19
800   0000              	GLOBAL _ay_effect_18
801   0000              	GLOBAL _ay_effect_17
802   0000              	GLOBAL _ay_effect_16
803   0000              	GLOBAL _ay_effect_15
804   0000              	GLOBAL _ay_effect_14
805   0000              	GLOBAL _ay_effect_13
806   0000              	GLOBAL _ay_effect_12
807   0000              	GLOBAL _ay_effect_11
808   0000              	GLOBAL _ay_effect_10
809   0000              	GLOBAL _ay_effect_09
810   0000              	GLOBAL _ay_effect_08
811   0000              	GLOBAL _ay_effect_07
812   0000              	GLOBAL _ay_effect_06
813   0000              	GLOBAL _ay_effect_05
814   0000              	GLOBAL _ay_effect_04
815   0000              	GLOBAL _ay_effect_03
816   0000              	GLOBAL _ay_effect_02
817   0000              	GLOBAL _ay_effect_01
818   0000              	GLOBAL _pb_midi_phase_1
819   0000              	GLOBAL _pb_midi_title
820   0000              	GLOBAL _control_method
821   0000              	GLOBAL _world1_h
822   0000              	GLOBAL _world1_w
823   0000              	GLOBAL _world1
824   0000              	GLOBAL _paper1
825   0000              	GLOBAL _lenght1
826   0000              	GLOBAL _start_scr1
827   0000              	GLOBAL _world0_h
828   0000              	GLOBAL _world0_w
829   0000              	GLOBAL _world0
830   0000              	GLOBAL _paper0
831   0000              	GLOBAL _lenght0
832   0000              	GLOBAL _start_scr0
833   0000              ;--------------------------------------------------------
834   0000              ; special function registers
835   0000              ;--------------------------------------------------------
836   0000              defc _IO_FE	=	0x00fe
837   0000              defc _IO_1FFD	=	0x1ffd
838   0000              defc _IO_7FFD	=	0x7ffd
839   0000              ;--------------------------------------------------------
840   0000              ; ram data
841   0000              ;--------------------------------------------------------
842   0000              	SECTION bss_compiler
843   0000              ;--------------------------------------------------------
844   0000              ; ram data
845   0000              ;--------------------------------------------------------
846   0000              
847   0000              IF 0
848   0000              
849   0000              ; .area _INITIALIZED removed by z88dk
850   0000              
851   0000              
852   0000              ENDIF
853   0000              
854   0000              ;--------------------------------------------------------
855   0000              ; absolute external ram data
856   0000              ;--------------------------------------------------------
857   0000              	SECTION IGNORE
858   0000              ;--------------------------------------------------------
859   0000              ; global & static initialisations
860   0000              ;--------------------------------------------------------
861   0000              	SECTION code_crt_init
862   0000              ;--------------------------------------------------------
863   0000              ; Home
864   0000              ;--------------------------------------------------------
865   0000              	SECTION IGNORE
866   0000              ;--------------------------------------------------------
867   0000              ; code
868   0000              ;--------------------------------------------------------
869   0000              	SECTION code_compiler
870   0000              ;	---------------------------------
871   0000              ; Function player_init
872   0000              ; ---------------------------------
873   0000              _player_init:
874   0000  CD 00 00    	call	___sdcc_enter_ix
875   0003  21 07 00    	ld	hl, +(_class + 0x0007)
876   0006  36 00       	ld	(hl),0x00
877   0008  21 07 00    	ld	hl, +(_tile + 0x0007)
878   000B  DD 7E 06    	ld	a,(ix+6)
879   000E  77          	ld	(hl), a
880   000F  21 07 00    	ld	hl, +(_lin + 0x0007)
881   0012  DD 7E 04    	ld	a,(ix+4)
882   0015  77          	ld	(hl), a
883   0016  21 07 00    	ld	hl, +(_col + 0x0007)
884   0019  DD 7E 05    	ld	a,(ix+5)
885   001C  77          	ld	(hl), a
886   001D  21 07 00    	ld	hl, +(_colint + 0x0007)
887   0020  36 00       	ld	(hl),0x00
888   0022  21 07 00    	ld	hl, +(_state + 0x0007)
889   0025  36 00       	ld	(hl),0x00
890   0027  01 07 00    	ld	bc,_state_a+7
891   002A  AF          	xor	a, a
892   002B  02          	ld	(bc), a
893   002C  21 07 00    	ld	hl, +(_jump_lin + 0x0007)
894   002F  DD 7E 04    	ld	a,(ix+4)
895   0032  77          	ld	(hl), a
896   0033  ED 5B 00 00 	ld	de,(_curr_time)
897   0037  ED 53 0E 00 	ld	(_last_time + 0x000e),de
898   003B  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
899   003E  36 00       	ld	(hl),0x00
900   0040  0A          	ld	a, (bc)
901   0041  F6 11       	or	a,+(0x01|0x10)
902   0043  02          	ld	(bc),a
903   0044  21 00 00    	ld	hl,_player_hit_col
904   0047  36 00       	ld	(hl),0x00
905   0049  21 00 00    	ld	hl,_player_hit_lin
906   004C  36 00       	ld	(hl),0x00
907   004E  21 00 00    	ld	hl,_player_slide
908   0051  36 00       	ld	(hl),0x00
909   0053  DD 66 05    	ld	h,(ix+5)
910   0056  DD 6E 04    	ld	l,(ix+4)
911   0059  E5          	push	hl
912   005A  DD 56 06    	ld	d,(ix+6)
913   005D  1E 07       	ld	e,0x07
914   005F  D5          	push	de
915   0060  CD 00 00    	call	_NIRVANAP_spriteT_callee
916   0063  DD E1       	pop	ix
917   0065  C9          	ret
918   0066              	SECTION code_compiler
919   0066              ;	---------------------------------
920   0066              ; Function player_check_input
921   0066              ; ---------------------------------
922   0066              _player_check_input:
923   0066  21 00 00    	ld	hl,_dirs
924   0069  CB 56       	bit	2, (hl)
925   006B  28 0C       	jr	Z,l_player_check_input_00102
926   006D  21 00 00    	ld	hl,_dirs
927   0070  CB 5E       	bit	3, (hl)
928   0072  28 05       	jr	Z,l_player_check_input_00102
929   0074  21 00 00    	ld	hl,_dirs
930   0077  36 00       	ld	(hl),0x00
931   0079              l_player_check_input_00102:
932   0079  21 00 00    	ld	hl,_dirs
933   007C  7E          	ld	a, (hl)
934   007D  CB 07       	rlc	a
935   007F  E6 01       	and	a,0x01
936   0081  CB 47       	bit	0, a
937   0083  20 1D       	jr	NZ,l_player_check_input_00107
938   0085  CB 56       	bit	2, (hl)
939   0087  20 19       	jr	NZ,l_player_check_input_00107
940   0089  21 00 00    	ld	hl,_dirs
941   008C  CB 5E       	bit	3, (hl)
942   008E  20 12       	jr	NZ,l_player_check_input_00107
943   0090  21 00 00    	ld	hl,_dirs
944   0093  CB 46       	bit	0, (hl)
945   0095  20 0B       	jr	NZ,l_player_check_input_00107
946   0097  21 00 00    	ld	hl,_dirs
947   009A  CB 4E       	bit	1, (hl)
948   009C  20 04       	jr	NZ,l_player_check_input_00107
949   009E  2E 00       	ld	l,0x00
950   00A0  18 02       	jr	l_player_check_input_00108
951   00A2              l_player_check_input_00107:
952   00A2  2E 01       	ld	l,0x01
953   00A4              l_player_check_input_00108:
954   00A4  C9          	ret
955   00A5              	SECTION code_compiler
956   00A5              ;	---------------------------------
957   00A5              ; Function player_collision
958   00A5              ; ---------------------------------
959   00A5              _player_collision:
960   00A5  21 19 00    	ld	hl,0x0019
961   00A8  E5          	push	hl
962   00A9  2A 00 00    	ld	hl,(_player_hit_time)
963   00AC  E5          	push	hl
964   00AD  CD 00 00    	call	_game_check_time
965   00B0  F1          	pop	af
966   00B1  F1          	pop	af
967   00B2  7D          	ld	a, l
968   00B3  B7          	or	a, a
969   00B4  CA DE 01    	jp	Z, l_player_collision_00124
970   00B7  21 00 00    	ld	hl,_sprite
971   00BA  36 00       	ld	(hl),0x00
972   00BC  3A 07 00    	ld	a,(_col + 0x0007)
973   00BF  32 00 00    	ld	(_s_col1),a
974   00C2  3A 07 00    	ld	a,(_lin + 0x0007)
975   00C5  32 00 00    	ld	(_s_lin1),a
976   00C8  C6 08       	add	a,0x08
977   00CA  4F          	ld	c, a
978   00CB  3A 00 00    	ld	a, (_s_col1)
979   00CE  47          	ld	b,a
980   00CF  C5          	push	bc
981   00D0  CD 00 00    	call	_spr_calc_index
982   00D3  F1          	pop	af
983   00D4  7D          	ld	a,l
984   00D5  32 00 00    	ld	(_sprite_curr_index),a
985   00D8  4F          	ld	c,a
986   00D9  06 00       	ld	b,0x00
987   00DB  21 00 00    	ld	hl,_scr_map
988   00DE  09          	add	hl,bc
989   00DF  4E          	ld	c, (hl)
990   00E0  3E 2F       	ld	a,0x2f
991   00E2  91          	sub	a, c
992   00E3  30 0F       	jr	NC,l_player_collision_00120
993   00E5  79          	ld	a, c
994   00E6  D6 3C       	sub	a,0x3c
995   00E8  30 0A       	jr	NC,l_player_collision_00120
996   00EA  2E 06       	ld	l,0x06
997   00EC  CD 00 00    	call	_zx_border_fastcall
998   00EF  2E 32       	ld	l,0x32
999   00F1  CD D8 0F    	call	_player_hit
1000  00F4              l_player_collision_00120:
1001  00F4  3A 00 00    	ld	a,(_sprite)
1002  00F7  D6 07       	sub	a,0x07
1003  00F9  D2 DE 01    	jp	NC, l_player_collision_00124
1004  00FC  3A 07 00    	ld	a,(_class + 0x0007)
1005  00FF  B7          	or	a, a
1006  0100  CA D7 01    	jp	Z, l_player_collision_00119
1007  0103  3A 07 00    	ld	a,(_col + 0x0007)
1008  0106  4F          	ld	c,a
1009  0107  06 00       	ld	b,0x00
1010  0109  3A 00 00    	ld	a,(_s_col1)
1011  010C  5F          	ld	e,a
1012  010D  16 00       	ld	d,0x00
1013  010F  79          	ld	a, c
1014  0110  93          	sub	a, e
1015  0111  6F          	ld	l, a
1016  0112  78          	ld	a, b
1017  0113  9A          	sbc	a, d
1018  0114  67          	ld	h, a
1019  0115  CD 00 00    	call	_abs_fastcall
1020  0118  7D          	ld	a,l
1021  0119  D6 02       	sub	a,0x02
1022  011B  7C          	ld	a,h
1023  011C  17          	rla
1024  011D  3F          	ccf
1025  011E  1F          	rra
1026  011F  DE 80       	sbc	a,0x80
1027  0121  D2 D7 01    	jp	NC, l_player_collision_00119
1028  0124  3A 07 00    	ld	a,(_lin + 0x0007)
1029  0127  4F          	ld	c,a
1030  0128  06 00       	ld	b,0x00
1031  012A  3A 00 00    	ld	a,(_s_lin1)
1032  012D  5F          	ld	e,a
1033  012E  16 00       	ld	d,0x00
1034  0130  79          	ld	a, c
1035  0131  93          	sub	a, e
1036  0132  6F          	ld	l, a
1037  0133  78          	ld	a, b
1038  0134  9A          	sbc	a, d
1039  0135  67          	ld	h, a
1040  0136  CD 00 00    	call	_abs_fastcall
1041  0139  7D          	ld	a,l
1042  013A  D6 0E       	sub	a,0x0e
1043  013C  7C          	ld	a,h
1044  013D  17          	rla
1045  013E  3F          	ccf
1046  013F  1F          	rra
1047  0140  DE 80       	sbc	a,0x80
1048  0142  D2 D7 01    	jp	NC, l_player_collision_00119
1049  0145  3A 07 00    	ld	a,(_class + 0x0007)
1050  0148  FE 06       	cp	a,0x06
1051  014A  20 2D       	jr	NZ,l_player_collision_00107
1052  014C  21 00 00    	ld	hl,_player_vita
1053  014F  7E          	ld	a, (hl)
1054  0150  C6 19       	add	a,0x19
1055  0152  77          	ld	(hl), a
1056  0153  3A 00 00    	ld	a,(_player_max_vita)
1057  0156  21 00 00    	ld	hl,_player_vita
1058  0159  96          	sub	a, (hl)
1059  015A  30 06       	jr	NC,l_player_collision_00105
1060  015C  3A 00 00    	ld	a,(_player_max_vita)
1061  015F  32 00 00    	ld	(_player_vita),a
1062  0162              l_player_collision_00105:
1063  0162  21 01 00    	ld	hl,0x0001
1064  0165  CD 2F 0A    	call	_player_score_add
1065  0168  CD 00 00    	call	_game_update_stats
1066  016B  2A 00 00    	ld	hl,(_sprite)
1067  016E  CD 00 00    	call	_spr_destroy
1068  0171  21 00 00    	ld	hl,_game_mush_count
1069  0174  35          	dec	(hl)
1070  0175  2E 00       	ld	l,0x00
1071  0177  18 67       	jr	l_player_collision_00125
1072  0179              l_player_collision_00107:
1073  0179  FE 07       	cp	a,0x07
1074  017B  20 2D       	jr	NZ,l_player_collision_00111
1075  017D  21 00 00    	ld	hl,_player_mana
1076  0180  7E          	ld	a, (hl)
1077  0181  C6 19       	add	a,0x19
1078  0183  77          	ld	(hl), a
1079  0184  3A 00 00    	ld	a,(_player_max_mana)
1080  0187  21 00 00    	ld	hl,_player_mana
1081  018A  96          	sub	a, (hl)
1082  018B  30 06       	jr	NC,l_player_collision_00109
1083  018D  3A 00 00    	ld	a,(_player_max_mana)
1084  0190  32 00 00    	ld	(_player_mana),a
1085  0193              l_player_collision_00109:
1086  0193  21 01 00    	ld	hl,0x0001
1087  0196  CD 2F 0A    	call	_player_score_add
1088  0199  CD 00 00    	call	_game_update_stats
1089  019C  2A 00 00    	ld	hl,(_sprite)
1090  019F  CD 00 00    	call	_spr_destroy
1091  01A2  21 00 00    	ld	hl,_game_mush_count
1092  01A5  35          	dec	(hl)
1093  01A6  2E 00       	ld	l,0x00
1094  01A8  18 36       	jr	l_player_collision_00125
1095  01AA              l_player_collision_00111:
1096  01AA  D6 08       	sub	a,0x08
1097  01AC  20 1B       	jr	NZ,l_player_collision_00113
1098  01AE  21 00 00    	ld	hl,_player_lives
1099  01B1  34          	inc	(hl)
1100  01B2  21 01 00    	ld	hl,0x0001
1101  01B5  CD 2F 0A    	call	_player_score_add
1102  01B8  CD 00 00    	call	_game_update_stats
1103  01BB  2A 00 00    	ld	hl,(_sprite)
1104  01BE  CD 00 00    	call	_spr_destroy
1105  01C1  21 00 00    	ld	hl,_game_mush_count
1106  01C4  35          	dec	(hl)
1107  01C5  2E 00       	ld	l,0x00
1108  01C7  18 17       	jr	l_player_collision_00125
1109  01C9              l_player_collision_00113:
1110  01C9  2E 02       	ld	l,0x02
1111  01CB  CD 00 00    	call	_zx_border_fastcall
1112  01CE  2E 14       	ld	l,0x14
1113  01D0  CD D8 0F    	call	_player_hit
1114  01D3  2E 01       	ld	l,0x01
1115  01D5  18 09       	jr	l_player_collision_00125
1116  01D7              l_player_collision_00119:
1117  01D7  21 00 00    	ld	hl,_sprite
1118  01DA  34          	inc	(hl)
1119  01DB  C3 F4 00    	jp	l_player_collision_00120
1120  01DE              l_player_collision_00124:
1121  01DE  2E 00       	ld	l,0x00
1122  01E0              l_player_collision_00125:
1123  01E0  C9          	ret
1124  01E1              	SECTION code_compiler
1125  01E1              ;	---------------------------------
1126  01E1              ; Function player_kill
1127  01E1              ; ---------------------------------
1128  01E1              _player_kill:
1129  01E1  01 07 00    	ld	bc,_state+7
1130  01E4  0A          	ld	a, (bc)
1131  01E5  CB 6F       	bit	5, a
1132  01E7  20 5E       	jr	NZ,l_player_kill_00109
1133  01E9  C5          	push	bc
1134  01EA  CD 00 00    	call	_sound_hit_brick
1135  01ED  C1          	pop	bc
1136  01EE  0A          	ld	a, (bc)
1137  01EF  F6 20       	or	a,0x20
1138  01F1  5F          	ld	e,a
1139  01F2  02          	ld	(bc), a
1140  01F3  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
1141  01F6  36 03       	ld	(hl),0x03
1142  01F8  CB 53       	bit	2, e
1143  01FA  28 07       	jr	Z,l_player_kill_00102
1144  01FC  21 07 00    	ld	hl, +(_tile + 0x0007)
1145  01FF  36 4C       	ld	(hl),0x4c
1146  0201  18 05       	jr	l_player_kill_00103
1147  0203              l_player_kill_00102:
1148  0203  21 07 00    	ld	hl, +(_tile + 0x0007)
1149  0206  36 54       	ld	(hl),0x54
1150  0208              l_player_kill_00103:
1151  0208  CD 00 0A    	call	_player_hit_platform_clear
1152  020B  21 07 00    	ld	hl,+(_col + 0x0007)
1153  020E  5E          	ld	e, (hl)
1154  020F  21 07 00    	ld	hl,+(_lin + 0x0007)
1155  0212  4E          	ld	c, (hl)
1156  0213  21 07 00    	ld	hl,+(_tile + 0x0007)
1157  0216  46          	ld	b, (hl)
1158  0217  7B          	ld	a, e
1159  0218  F5          	push	af
1160  0219  33          	inc	sp
1161  021A  79          	ld	a, c
1162  021B  48          	ld	c,b
1163  021C  47          	ld	b,a
1164  021D  3A 00 00    	ld	a,(_sprite)
1165  0220  C5          	push	bc
1166  0221  F5          	push	af
1167  0222  33          	inc	sp
1168  0223  CD 00 00    	call	_NIRVANAP_spriteT_callee
1169  0226  2A 00 00    	ld	hl,(_curr_time)
1170  0229  22 0E 00    	ld	(_spr_timer + 0x000e),hl
1171  022C  3A 00 00    	ld	a,(_sprite)
1172  022F  D6 07       	sub	a,0x07
1173  0231  20 0B       	jr	NZ,l_player_kill_00105
1174  0233  01 07 00    	ld	bc,_state_a+7
1175  0236  0A          	ld	a, (bc)
1176  0237  F6 08       	or	a,0x08
1177  0239  E6 EF       	and	a,0xef
1178  023B  02          	ld	(bc),a
1179  023C  18 09       	jr	l_player_kill_00109
1180  023E              l_player_kill_00105:
1181  023E  01 07 00    	ld	bc,_state_a+7
1182  0241  0A          	ld	a, (bc)
1183  0242  F6 10       	or	a,0x10
1184  0244  E6 F7       	and	a,0xf7
1185  0246  02          	ld	(bc),a
1186  0247              l_player_kill_00109:
1187  0247  C9          	ret
1188  0248              	SECTION code_compiler
1189  0248              ;	---------------------------------
1190  0248              ; Function player_turn
1191  0248              ; ---------------------------------
1192  0248              _player_turn:
1193  0248  21 00 00    	ld	hl,_sprite
1194  024B  CD 00 00    	call	_spr_chktime
1195  024E  7D          	ld	a, l
1196  024F  B7          	or	a, a
1197  0250  C8          	ret	Z
1198  0251  21 00 00    	ld	hl,_k1
1199  0254  E5          	push	hl
1200  0255  2A 00 00    	ld	hl,(_joyfunc1)
1201  0258  CD 00 00    	call	___sdcc_call_hl
1202  025B  F1          	pop	af
1203  025C  7D          	ld	a,l
1204  025D  32 00 00    	ld	(_dirs),a
1205  0260  CD 66 02    	call	_player_move
1206  0263  C3 A5 00    	jp  _player_collision
1207  0266              	SECTION code_compiler
1208  0266              ;	---------------------------------
1209  0266              ; Function player_move
1210  0266              ; ---------------------------------
1211  0266              _player_move:
1212  0266  3A 07 00    	ld	a,(_lin + 0x0007)
1213  0269  32 00 00    	ld	(_s_lin0),a
1214  026C  3A 07 00    	ld	a,(_col + 0x0007)
1215  026F  32 00 00    	ld	(_s_col0),a
1216  0272  21 07 00    	ld	hl,+(_tile + 0x0007)
1217  0275  4E          	ld	c, (hl)
1218  0276  21 07 00    	ld	hl,+(_colint + 0x0007)
1219  0279  46          	ld	b, (hl)
1220  027A  79          	ld	a, c
1221  027B  80          	add	a, b
1222  027C  32 00 00    	ld	(_s_tile0),a
1223  027F  3A 07 00    	ld	a,(_state + 0x0007)
1224  0282  32 00 00    	ld	(_s_state),a
1225  0285  21 00 00    	ld	hl,_s_state
1226  0288  CB 46       	bit	0, (hl)
1227  028A  20 07       	jr	NZ,l_player_move_00111
1228  028C  21 00 00    	ld	hl,_s_state
1229  028F  CB 4E       	bit	1, (hl)
1230  0291  28 49       	jr	Z,l_player_move_00112
1231  0293              l_player_move_00111:
1232  0293  CD 78 05    	call	_player_fire
1233  0296  3A 00 00    	ld	a,(_player_vel_y)
1234  0299  21 00 00    	ld	hl,_player_vel_y1
1235  029C  96          	sub	a, (hl)
1236  029D  E2 A2 02    	jp	PO, l_player_move_00156
1237  02A0  EE 80       	xor	a,0x80
1238  02A2              l_player_move_00156:
1239  02A2  F2 C5 02    	jp	P, l_player_move_00106
1240  02A5  21 00 00    	ld	hl,_dirs
1241  02A8  CB 56       	bit	2, (hl)
1242  02AA  28 09       	jr	Z,l_player_move_00102
1243  02AC  21 00 00    	ld	hl,_s_state
1244  02AF  7E          	ld	a,(hl)
1245  02B0  F6 08       	or	a,0x08
1246  02B2  E6 FB       	and	a,0xfb
1247  02B4  77          	ld	(hl),a
1248  02B5              l_player_move_00102:
1249  02B5  21 00 00    	ld	hl,_dirs
1250  02B8  CB 4E       	bit	1, (hl)
1251  02BA  28 09       	jr	Z,l_player_move_00106
1252  02BC  21 00 00    	ld	hl,_s_state
1253  02BF  7E          	ld	a,(hl)
1254  02C0  F6 04       	or	a,0x04
1255  02C2  E6 F7       	and	a,0xf7
1256  02C4  77          	ld	(hl),a
1257  02C5              l_player_move_00106:
1258  02C5  CD EA 0B    	call	_player_move_jump
1259  02C8  7D          	ld	a, l
1260  02C9  B7          	or	a, a
1261  02CA  28 16       	jr	Z,l_player_move_00113
1262  02CC  3A 00 00    	ld	a,(_player_over_stair)
1263  02CF  B7          	or	a, a
1264  02D0  20 10       	jr	NZ,l_player_move_00113
1265  02D2  21 60 08    	ld	hl,0x0860
1266  02D5  E5          	push	hl
1267  02D6  CD D2 03    	call	_player_tile
1268  02D9  F1          	pop	af
1269  02DA  18 06       	jr	l_player_move_00113
1270  02DC              l_player_move_00112:
1271  02DC  CD ED 03    	call	_player_move_input
1272  02DF  CD 93 0A    	call	_player_check_floor
1273  02E2              l_player_move_00113:
1274  02E2  CD 00 00    	call	_spr_redraw
1275  02E5  7D          	ld	a, l
1276  02E6  B7          	or	a, a
1277  02E7  28 03       	jr	Z,l_player_move_00116
1278  02E9  CD C1 05    	call	_player_check_map
1279  02EC              l_player_move_00116:
1280  02EC  3A 00 00    	ld	a,(_player_hit_lin)
1281  02EF  B7          	or	a, a
1282  02F0  28 03       	jr	Z,l_player_move_00118
1283  02F2  CD 00 0A    	call	_player_hit_platform_clear
1284  02F5              l_player_move_00118:
1285  02F5  3A 00 00    	ld	a,(_s_state)
1286  02F8  32 07 00    	ld	((_state + 0x0007)),a
1287  02FB  2E 00       	ld	l,0x00
1288  02FD  C9          	ret
1289  02FE              	SECTION code_compiler
1290  02FE              ;	---------------------------------
1291  02FE              ; Function player_check_stairs_down
1292  02FE              ; ---------------------------------
1293  02FE              _player_check_stairs_down:
1294  02FE  CD 00 00    	call	___sdcc_enter_ix
1295  0301  3B          	dec	sp
1296  0302  3A 07 00    	ld	a,(_col + 0x0007)
1297  0305  DD 86 04    	add	a,(ix+4)
1298  0308  47          	ld	b, a
1299  0309  3A 07 00    	ld	a,(_lin + 0x0007)
1300  030C  C6 10       	add	a,0x10
1301  030E  4F          	ld	c,a
1302  030F  C5          	push	bc
1303  0310  CD 00 00    	call	_spr_calc_index
1304  0313  F1          	pop	af
1305  0314  7D          	ld	a,l
1306  0315  32 00 00    	ld	(_sprite_curr_index),a
1307  0318  4F          	ld	c,a
1308  0319  06 00       	ld	b,0x00
1309  031B  21 00 00    	ld	hl,_scr_map
1310  031E  09          	add	hl,bc
1311  031F  7E          	ld	a,(hl)
1312  0320  4F          	ld	c,a
1313  0321  D6 44       	sub	a,0x44
1314  0323  38 05       	jr	C,l_player_check_stairs_down_00107
1315  0325  3E 47       	ld	a,0x47
1316  0327  91          	sub	a, c
1317  0328  30 04       	jr	NC,l_player_check_stairs_down_00108
1318  032A              l_player_check_stairs_down_00107:
1319  032A  3E 00       	ld	a,0x00
1320  032C  18 02       	jr	l_player_check_stairs_down_00109
1321  032E              l_player_check_stairs_down_00108:
1322  032E  3E 01       	ld	a,0x01
1323  0330              l_player_check_stairs_down_00109:
1324  0330  B7          	or	a, a
1325  0331  28 09       	jr	Z,l_player_check_stairs_down_00105
1326  0333  21 00 00    	ld	hl,_player_over_stair
1327  0336  7E          	ld	a, (hl)
1328  0337  B7          	or	a, a
1329  0338  20 02       	jr	NZ,l_player_check_stairs_down_00105
1330  033A  36 01       	ld	(hl),0x01
1331  033C              l_player_check_stairs_down_00105:
1332  033C  33          	inc	sp
1333  033D  DD E1       	pop	ix
1334  033F  C9          	ret
1335  0340              	SECTION code_compiler
1336  0340              ;	---------------------------------
1337  0340              ; Function player_check_stairs
1338  0340              ; ---------------------------------
1339  0340              _player_check_stairs:
1340  0340  CD 00 00    	call	___sdcc_enter_ix
1341  0343  3B          	dec	sp
1342  0344  5D          	ld	e, l
1343  0345  3A 07 00    	ld	a,(_col + 0x0007)
1344  0348  83          	add	a, e
1345  0349  4F          	ld	c, a
1346  034A  21 07 00    	ld	hl,+(_lin + 0x0007)
1347  034D  46          	ld	b, (hl)
1348  034E  D5          	push	de
1349  034F  79          	ld	a, c
1350  0350  48          	ld	c,b
1351  0351  47          	ld	b,a
1352  0352  C5          	push	bc
1353  0353  CD 00 00    	call	_spr_calc_index
1354  0356  F1          	pop	af
1355  0357  D1          	pop	de
1356  0358  7D          	ld	a,l
1357  0359  32 00 00    	ld	(_sprite_curr_index),a
1358  035C  4F          	ld	c,a
1359  035D  06 00       	ld	b,0x00
1360  035F  21 00 00    	ld	hl,_scr_map
1361  0362  09          	add	hl,bc
1362  0363  7E          	ld	a,(hl)
1363  0364  4F          	ld	c,a
1364  0365  D6 44       	sub	a,0x44
1365  0367  38 05       	jr	C,l_player_check_stairs_00111
1366  0369  3E 47       	ld	a,0x47
1367  036B  91          	sub	a, c
1368  036C  30 04       	jr	NC,l_player_check_stairs_00112
1369  036E              l_player_check_stairs_00111:
1370  036E  0E 00       	ld	c,0x00
1371  0370  18 02       	jr	l_player_check_stairs_00113
1372  0372              l_player_check_stairs_00112:
1373  0372  0E 01       	ld	c,0x01
1374  0374              l_player_check_stairs_00113:
1375  0374  3A 07 00    	ld	a,(_col + 0x0007)
1376  0377  83          	add	a, e
1377  0378  57          	ld	d, a
1378  0379  3A 07 00    	ld	a,(_lin + 0x0007)
1379  037C  C6 0F       	add	a,0x0f
1380  037E  47          	ld	b, a
1381  037F  C5          	push	bc
1382  0380  58          	ld	e,b
1383  0381  D5          	push	de
1384  0382  CD 00 00    	call	_spr_calc_index
1385  0385  F1          	pop	af
1386  0386  C1          	pop	bc
1387  0387  7D          	ld	a,l
1388  0388  32 00 00    	ld	(_sprite_curr_index),a
1389  038B  5F          	ld	e,a
1390  038C  16 00       	ld	d,0x00
1391  038E  21 00 00    	ld	hl,_scr_map
1392  0391  19          	add	hl,de
1393  0392  7E          	ld	a,(hl)
1394  0393  47          	ld	b,a
1395  0394  D6 44       	sub	a,0x44
1396  0396  38 05       	jr	C,l_player_check_stairs_00114
1397  0398  3E 47       	ld	a,0x47
1398  039A  90          	sub	a, b
1399  039B  30 04       	jr	NC,l_player_check_stairs_00115
1400  039D              l_player_check_stairs_00114:
1401  039D  06 00       	ld	b,0x00
1402  039F  18 02       	jr	l_player_check_stairs_00116
1403  03A1              l_player_check_stairs_00115:
1404  03A1  06 01       	ld	b,0x01
1405  03A3              l_player_check_stairs_00116:
1406  03A3  79          	ld	a, c
1407  03A4  B7          	or	a,a
1408  03A5  20 03       	jr	NZ,l_player_check_stairs_00105
1409  03A7  B0          	or	a,b
1410  03A8  28 13       	jr	Z,l_player_check_stairs_00106
1411  03AA              l_player_check_stairs_00105:
1412  03AA  21 00 00    	ld	hl,_player_over_stair
1413  03AD  7E          	ld	a, (hl)
1414  03AE  B7          	or	a, a
1415  03AF  20 1D       	jr	NZ,l_player_check_stairs_00109
1416  03B1  36 01       	ld	(hl),0x01
1417  03B3  21 72 00    	ld	hl,0x0072
1418  03B6  E5          	push	hl
1419  03B7  CD D2 03    	call	_player_tile
1420  03BA  F1          	pop	af
1421  03BB  18 11       	jr	l_player_check_stairs_00109
1422  03BD              l_player_check_stairs_00106:
1423  03BD  21 00 00    	ld	hl,_player_over_stair
1424  03C0  7E          	ld	a, (hl)
1425  03C1  B7          	or	a, a
1426  03C2  28 0A       	jr	Z,l_player_check_stairs_00109
1427  03C4  36 00       	ld	(hl),0x00
1428  03C6  21 60 08    	ld	hl,0x0860
1429  03C9  E5          	push	hl
1430  03CA  CD D2 03    	call	_player_tile
1431  03CD  F1          	pop	af
1432  03CE              l_player_check_stairs_00109:
1433  03CE  33          	inc	sp
1434  03CF  DD E1       	pop	ix
1435  03D1  C9          	ret
1436  03D2              	SECTION code_compiler
1437  03D2              ;	---------------------------------
1438  03D2              ; Function player_tile
1439  03D2              ; ---------------------------------
1440  03D2              _player_tile:
1441  03D2  CD 00 00    	call	___sdcc_enter_ix
1442  03D5  DD 7E 05    	ld	a,(ix+5)
1443  03D8  F5          	push	af
1444  03D9  33          	inc	sp
1445  03DA  2A FF FF    	ld	hl,(_sprite-1)
1446  03DD  DD 6E 04    	ld	l,(ix+4)
1447  03E0  E5          	push	hl
1448  03E1  CD 00 00    	call	_spr_tile_dir
1449  03E4  F1          	pop	af
1450  03E5  33          	inc	sp
1451  03E6  7D          	ld	a,l
1452  03E7  32 07 00    	ld	((_tile + 0x0007)),a
1453  03EA  DD E1       	pop	ix
1454  03EC  C9          	ret
1455  03ED              	SECTION code_compiler
1456  03ED              ;	---------------------------------
1457  03ED              ; Function player_move_input
1458  03ED              ; ---------------------------------
1459  03ED              _player_move_input:
1460  03ED  CD 66 00    	call	_player_check_input
1461  03F0  7D          	ld	a, l
1462  03F1  B7          	or	a, a
1463  03F2  CA 51 05    	jp	Z, l_player_move_input_00147
1464  03F5  CD 78 05    	call	_player_fire
1465  03F8  7D          	ld	a, l
1466  03F9  B7          	or	a, a
1467  03FA  28 0A       	jr	Z,l_player_move_input_00102
1468  03FC  21 00 00    	ld	hl,_dirs
1469  03FF  36 00       	ld	(hl),0x00
1470  0401  2E 00       	ld	l,0x00
1471  0403  C3 77 05    	jp	l_player_move_input_00149
1472  0406              l_player_move_input_00102:
1473  0406  21 00 00    	ld	hl,_dirs
1474  0409  CB 7E       	bit	7, (hl)
1475  040B  28 54       	jr	Z,l_player_move_input_00106
1476  040D  21 00 00    	ld	hl,_dirs
1477  0410  CB 46       	bit	0, (hl)
1478  0412  28 4D       	jr	Z,l_player_move_input_00106
1479  0414  21 00 00    	ld	hl,_player_vel_inc
1480  0417  36 01       	ld	(hl),0x01
1481  0419  CD 00 00    	call	_ay_is_playing
1482  041C  7D          	ld	a, l
1483  041D  D6 03       	sub	a,0x03
1484  041F  28 06       	jr	Z,l_player_move_input_00104
1485  0421  21 00 00    	ld	hl,_ay_effect_03
1486  0424  CD 00 00    	call	_ay_fx_play
1487  0427              l_player_move_input_00104:
1488  0427  21 00 00    	ld	hl,_player_over_stair
1489  042A  36 00       	ld	(hl),0x00
1490  042C  CD 00 00    	call	_sound_jump
1491  042F  21 00 00    	ld	hl,_s_state
1492  0432  7E          	ld	a,(hl)
1493  0433  F6 01       	or	a,0x01
1494  0435  E6 FD       	and	a,0xfd
1495  0437  77          	ld	(hl),a
1496  0438  3A 07 00    	ld	a,(_lin + 0x0007)
1497  043B  32 07 00    	ld	((_jump_lin + 0x0007)),a
1498  043E  3A 00 00    	ld	a,(_s_state)
1499  0441  32 07 00    	ld	((_state + 0x0007)),a
1500  0444  21 64 08    	ld	hl,0x0864
1501  0447  E5          	push	hl
1502  0448  CD D2 03    	call	_player_tile
1503  044B  F1          	pop	af
1504  044C  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
1505  044F  36 02       	ld	(hl),0x02
1506  0451  21 00 00    	ld	hl,_player_slide
1507  0454  36 00       	ld	(hl),0x00
1508  0456  3A 00 00    	ld	a,(_player_vel_y0)
1509  0459  32 00 00    	ld	(_player_vel_y),a
1510  045C  2E 01       	ld	l,0x01
1511  045E  C3 77 05    	jp	l_player_move_input_00149
1512  0461              l_player_move_input_00106:
1513  0461  21 00 00    	ld	hl,_dirs
1514  0464  CB 5E       	bit	3, (hl)
1515  0466  28 20       	jr	Z,l_player_move_input_00111
1516  0468  21 00 00    	ld	hl,_s_state
1517  046B  7E          	ld	a,(hl)
1518  046C  F6 04       	or	a,0x04
1519  046E  E6 F7       	and	a,0xf7
1520  0470  77          	ld	(hl),a
1521  0471  01 07 00    	ld	bc,_state_a+7
1522  0474  0A          	ld	a, (bc)
1523  0475  F6 10       	or	a,0x10
1524  0477  E6 F7       	and	a,0xf7
1525  0479  02          	ld	(bc),a
1526  047A  3A 00 00    	ld	a,(_player_over_stair)
1527  047D  B7          	or	a, a
1528  047E  28 05       	jr	Z,l_player_move_input_00109
1529  0480  2E 00       	ld	l,0x00
1530  0482  CD 40 03    	call	_player_check_stairs
1531  0485              l_player_move_input_00109:
1532  0485  CD 00 00    	call	_spr_move_horizontal
1533  0488              l_player_move_input_00111:
1534  0488  21 00 00    	ld	hl,_dirs
1535  048B  CB 56       	bit	2, (hl)
1536  048D  28 20       	jr	Z,l_player_move_input_00115
1537  048F  21 00 00    	ld	hl,_s_state
1538  0492  7E          	ld	a,(hl)
1539  0493  F6 08       	or	a,0x08
1540  0495  E6 FB       	and	a,0xfb
1541  0497  77          	ld	(hl),a
1542  0498  01 07 00    	ld	bc,_state_a+7
1543  049B  0A          	ld	a, (bc)
1544  049C  F6 08       	or	a,0x08
1545  049E  E6 EF       	and	a,0xef
1546  04A0  02          	ld	(bc),a
1547  04A1  3A 00 00    	ld	a,(_player_over_stair)
1548  04A4  B7          	or	a, a
1549  04A5  28 05       	jr	Z,l_player_move_input_00113
1550  04A7  2E 00       	ld	l,0x00
1551  04A9  CD 40 03    	call	_player_check_stairs
1552  04AC              l_player_move_input_00113:
1553  04AC  CD 00 00    	call	_spr_move_horizontal
1554  04AF              l_player_move_input_00115:
1555  04AF  21 00 00    	ld	hl,_dirs
1556  04B2  CB 46       	bit	0, (hl)
1557  04B4  28 37       	jr	Z,l_player_move_input_00127
1558  04B6  2E 00       	ld	l,0x00
1559  04B8  CD 40 03    	call	_player_check_stairs
1560  04BB  3A 00 00    	ld	a,(_player_over_stair)
1561  04BE  B7          	or	a, a
1562  04BF  20 05       	jr	NZ,l_player_move_input_00117
1563  04C1  2E 01       	ld	l,0x01
1564  04C3  CD 40 03    	call	_player_check_stairs
1565  04C6              l_player_move_input_00117:
1566  04C6  3A 00 00    	ld	a,(_player_over_stair)
1567  04C9  B7          	or	a, a
1568  04CA  28 0E       	jr	Z,l_player_move_input_00124
1569  04CC  CD 00 00    	call	_spr_move_up
1570  04CF  7D          	ld	a, l
1571  04D0  B7          	or	a, a
1572  04D1  28 1A       	jr	Z,l_player_move_input_00127
1573  04D3  21 00 00    	ld	hl,_player_over_stair
1574  04D6  36 00       	ld	(hl),0x00
1575  04D8  18 13       	jr	l_player_move_input_00127
1576  04DA              l_player_move_input_00124:
1577  04DA  21 00 00    	ld	hl,_dirs
1578  04DD  CB 5E       	bit	3, (hl)
1579  04DF  20 0C       	jr	NZ,l_player_move_input_00127
1580  04E1  21 00 00    	ld	hl,_dirs
1581  04E4  CB 56       	bit	2, (hl)
1582  04E6  20 05       	jr	NZ,l_player_move_input_00127
1583  04E8  2E 00       	ld	l,0x00
1584  04EA  C3 77 05    	jp	l_player_move_input_00149
1585  04ED              l_player_move_input_00127:
1586  04ED  21 00 00    	ld	hl,_dirs
1587  04F0  CB 4E       	bit	1, (hl)
1588  04F2  28 3B       	jr	Z,l_player_move_input_00139
1589  04F4  AF          	xor	a, a
1590  04F5  F5          	push	af
1591  04F6  33          	inc	sp
1592  04F7  CD FE 02    	call	_player_check_stairs_down
1593  04FA  33          	inc	sp
1594  04FB  3A 00 00    	ld	a,(_player_over_stair)
1595  04FE  B7          	or	a, a
1596  04FF  20 08       	jr	NZ,l_player_move_input_00129
1597  0501  3E 01       	ld	a,0x01
1598  0503  F5          	push	af
1599  0504  33          	inc	sp
1600  0505  CD FE 02    	call	_player_check_stairs_down
1601  0508  33          	inc	sp
1602  0509              l_player_move_input_00129:
1603  0509  3A 00 00    	ld	a,(_player_over_stair)
1604  050C  B7          	or	a, a
1605  050D  28 0E       	jr	Z,l_player_move_input_00136
1606  050F  CD 00 00    	call	_spr_move_down
1607  0512  7D          	ld	a, l
1608  0513  B7          	or	a, a
1609  0514  28 19       	jr	Z,l_player_move_input_00139
1610  0516  21 00 00    	ld	hl,_player_over_stair
1611  0519  36 00       	ld	(hl),0x00
1612  051B  18 12       	jr	l_player_move_input_00139
1613  051D              l_player_move_input_00136:
1614  051D  21 00 00    	ld	hl,_dirs
1615  0520  CB 5E       	bit	3, (hl)
1616  0522  20 0B       	jr	NZ,l_player_move_input_00139
1617  0524  21 00 00    	ld	hl,_dirs
1618  0527  CB 56       	bit	2, (hl)
1619  0529  20 04       	jr	NZ,l_player_move_input_00139
1620  052B  2E 00       	ld	l,0x00
1621  052D  18 48       	jr	l_player_move_input_00149
1622  052F              l_player_move_input_00139:
1623  052F  3A 00 00    	ld	a,(_s_state)
1624  0532  32 07 00    	ld	((_state + 0x0007)),a
1625  0535  3A 00 00    	ld	a,(_player_over_stair)
1626  0538  B7          	or	a, a
1627  0539  28 0A       	jr	Z,l_player_move_input_00141
1628  053B  21 72 00    	ld	hl,0x0072
1629  053E  E5          	push	hl
1630  053F  CD D2 03    	call	_player_tile
1631  0542  F1          	pop	af
1632  0543  18 08       	jr	l_player_move_input_00142
1633  0545              l_player_move_input_00141:
1634  0545  21 60 08    	ld	hl,0x0860
1635  0548  E5          	push	hl
1636  0549  CD D2 03    	call	_player_tile
1637  054C  F1          	pop	af
1638  054D              l_player_move_input_00142:
1639  054D  2E 01       	ld	l,0x01
1640  054F  18 26       	jr	l_player_move_input_00149
1641  0551              l_player_move_input_00147:
1642  0551  21 07 00    	ld	hl, +(_colint + 0x0007)
1643  0554  36 00       	ld	(hl),0x00
1644  0556  3A 00 00    	ld	a,(_player_over_stair)
1645  0559  B7          	or	a, a
1646  055A  28 0A       	jr	Z,l_player_move_input_00144
1647  055C  21 72 00    	ld	hl,0x0072
1648  055F  E5          	push	hl
1649  0560  CD D2 03    	call	_player_tile
1650  0563  F1          	pop	af
1651  0564  18 08       	jr	l_player_move_input_00145
1652  0566              l_player_move_input_00144:
1653  0566  21 70 01    	ld	hl,0x0170
1654  0569  E5          	push	hl
1655  056A  CD D2 03    	call	_player_tile
1656  056D  F1          	pop	af
1657  056E              l_player_move_input_00145:
1658  056E  21 00 00    	ld	hl,_s_state
1659  0571  7E          	ld	a,(hl)
1660  0572  E6 F3       	and	a,+(0xf7&0xfb)
1661  0574  77          	ld	(hl),a
1662  0575  2E 00       	ld	l,0x00
1663  0577              l_player_move_input_00149:
1664  0577  C9          	ret
1665  0578              	SECTION code_compiler
1666  0578              ;	---------------------------------
1667  0578              ; Function player_fire
1668  0578              ; ---------------------------------
1669  0578              _player_fire:
1670  0578  21 00 00    	ld	hl,_dirs
1671  057B  CB 7E       	bit	7, (hl)
1672  057D  28 3F       	jr	Z,l_player_fire_00110
1673  057F  21 00 00    	ld	hl,_dirs
1674  0582  CB 46       	bit	0, (hl)
1675  0584  20 38       	jr	NZ,l_player_fire_00110
1676  0586  21 00 00    	ld	hl,_player_mana
1677  0589  7E          	ld	a, (hl)
1678  058A  B7          	or	a, a
1679  058B  28 2D       	jr	Z,l_player_fire_00107
1680  058D  3A 07 00    	ld	a,(_bullet_col + 0x0007)
1681  0590  3C          	inc	a
1682  0591  20 27       	jr	NZ,l_player_fire_00107
1683  0593  3E 05       	ld	a,0x05
1684  0595  96          	sub	a, (hl)
1685  0596  30 12       	jr	NC,l_player_fire_00104
1686  0598  CD 00 00    	call	_sound_hit_enemy
1687  059B  3A 00 00    	ld	a,(_game_god_mode)
1688  059E  B7          	or	a, a
1689  059F  20 0E       	jr	NZ,l_player_fire_00105
1690  05A1  21 00 00    	ld	hl,_player_mana
1691  05A4  7E          	ld	a, (hl)
1692  05A5  C6 FB       	add	a,0xfb
1693  05A7  77          	ld	(hl), a
1694  05A8  18 05       	jr	l_player_fire_00105
1695  05AA              l_player_fire_00104:
1696  05AA  21 00 00    	ld	hl,_player_mana
1697  05AD  36 00       	ld	(hl),0x00
1698  05AF              l_player_fire_00105:
1699  05AF  CD 00 00    	call	_game_update_stats
1700  05B2  21 07 78    	ld	hl,0x7807
1701  05B5  E5          	push	hl
1702  05B6  CD 00 00    	call	_game_shoot_fire
1703  05B9  F1          	pop	af
1704  05BA              l_player_fire_00107:
1705  05BA  2E 01       	ld	l,0x01
1706  05BC  18 02       	jr	l_player_fire_00112
1707  05BE              l_player_fire_00110:
1708  05BE  2E 00       	ld	l,0x00
1709  05C0              l_player_fire_00112:
1710  05C0  C9          	ret
1711  05C1              	SECTION code_compiler
1712  05C1              ;	---------------------------------
1713  05C1              ; Function player_check_map
1714  05C1              ; ---------------------------------
1715  05C1              _player_check_map:
1716  05C1  21 07 00    	ld	hl,+(_col + 0x0007)
1717  05C4  46          	ld	b, (hl)
1718  05C5  21 07 00    	ld	hl,+(_lin + 0x0007)
1719  05C8  4E          	ld	c, (hl)
1720  05C9  C5          	push	bc
1721  05CA  CD 00 00    	call	_spr_calc_index
1722  05CD  F1          	pop	af
1723  05CE  7D          	ld	a,l
1724  05CF  32 00 00    	ld	(_sprite_curr_index),a
1725  05D2  21 07 00    	ld	hl,+(_col + 0x0007)
1726  05D5  4E          	ld	c, (hl)
1727  05D6  3A 07 00    	ld	a,(_lin + 0x0007)
1728  05D9  E6 0F       	and	a,0x0f
1729  05DB  CB 41       	bit	0, c
1730  05DD  20 17       	jr	NZ,l_player_check_map_00108
1731  05DF  B7          	or	a, a
1732  05E0  20 05       	jr	NZ,l_player_check_map_00102
1733  05E2  CD 21 06    	call	_player_pick_item
1734  05E5  18 39       	jr	l_player_check_map_00110
1735  05E7              l_player_check_map_00102:
1736  05E7  CD 21 06    	call	_player_pick_item
1737  05EA  21 00 00    	ld	hl,_sprite_curr_index
1738  05ED  7E          	ld	a, (hl)
1739  05EE  C6 10       	add	a,0x10
1740  05F0  77          	ld	(hl), a
1741  05F1  CD 21 06    	call	_player_pick_item
1742  05F4  18 2A       	jr	l_player_check_map_00110
1743  05F6              l_player_check_map_00108:
1744  05F6  B7          	or	a, a
1745  05F7  20 0C       	jr	NZ,l_player_check_map_00105
1746  05F9  CD 21 06    	call	_player_pick_item
1747  05FC  21 00 00    	ld	hl,_sprite_curr_index
1748  05FF  34          	inc	(hl)
1749  0600  CD 21 06    	call	_player_pick_item
1750  0603  18 1B       	jr	l_player_check_map_00110
1751  0605              l_player_check_map_00105:
1752  0605  CD 21 06    	call	_player_pick_item
1753  0608  21 00 00    	ld	hl,_sprite_curr_index
1754  060B  34          	inc	(hl)
1755  060C  CD 21 06    	call	_player_pick_item
1756  060F  21 00 00    	ld	hl,_sprite_curr_index
1757  0612  7E          	ld	a, (hl)
1758  0613  C6 0F       	add	a,0x0f
1759  0615  77          	ld	(hl), a
1760  0616  CD 21 06    	call	_player_pick_item
1761  0619  21 00 00    	ld	hl,_sprite_curr_index
1762  061C  34          	inc	(hl)
1763  061D  CD 21 06    	call	_player_pick_item
1764  0620              l_player_check_map_00110:
1765  0620  C9          	ret
1766  0621              	SECTION code_compiler
1767  0621              ;	---------------------------------
1768  0621              ; Function player_pick_item
1769  0621              ; ---------------------------------
1770  0621              _player_pick_item:
1771  0621  2A 00 00    	ld	hl,(_sprite_curr_index)
1772  0624  26 00       	ld	h,0x00
1773  0626  01 00 00    	ld	bc,_scr_map
1774  0629  09          	add	hl,bc
1775  062A  7E          	ld	a,(hl)
1776  062B  4F          	ld	c,a
1777  062C  D6 24       	sub	a,0x24
1778  062E  DA 86 07    	jp	C,l_player_pick_item_00129
1779  0631  3E 2F       	ld	a,0x2f
1780  0633  91          	sub	a,c
1781  0634  DA 86 07    	jp	C,l_player_pick_item_00129
1782  0637  44          	ld	b,h
1783  0638  CD 00 00    	call	_ay_reset
1784  063B  21 00 00    	ld	hl,_ay_effect_10
1785  063E  CD 00 00    	call	_ay_fx_play
1786  0641  C5          	push	bc
1787  0642  CD 00 00    	call	_sound_coin
1788  0645  C1          	pop	bc
1789  0646  2A 00 00    	ld	hl,(_sprite_curr_index)
1790  0649  26 00       	ld	h,0x00
1791  064B  11 00 00    	ld	de,_scr_map
1792  064E  19          	add	hl,de
1793  064F  AF          	xor	a,a
1794  0650  77          	ld	(hl),a
1795  0651  3A 00 00    	ld	a,(_sprite_curr_index)
1796  0654  5F          	ld	e,a
1797  0655  16 00       	ld	d,0x00
1798  0657  C5          	push	bc
1799  0658  D5          	push	de
1800  0659  CD 00 00    	call	_game_obj_set
1801  065C  F1          	pop	af
1802  065D  C1          	pop	bc
1803  065E  3A 00 00    	ld	a,(_sprite_curr_index)
1804  0661  07          	rlca
1805  0662  07          	rlca
1806  0663  07          	rlca
1807  0664  07          	rlca
1808  0665  E6 0F       	and	a,0x0f
1809  0667  07          	rlca
1810  0668  07          	rlca
1811  0669  07          	rlca
1812  066A  07          	rlca
1813  066B  E6 F0       	and	a,0xf0
1814  066D  32 00 00    	ld	(_s_lin1),a
1815  0670  3A 00 00    	ld	a,(_sprite_curr_index)
1816  0673  E6 0F       	and	a,0x0f
1817  0675  87          	add	a, a
1818  0676  32 00 00    	ld	(_s_col1),a
1819  0679  C5          	push	bc
1820  067A  21 00 00    	ld	hl,0x0000
1821  067D  E5          	push	hl
1822  067E  21 84 03    	ld	hl,0x0384
1823  0681  E5          	push	hl
1824  0682  F5          	push	af
1825  0683  33          	inc	sp
1826  0684  3A 00 00    	ld	a,(_s_lin1)
1827  0687  F5          	push	af
1828  0688  33          	inc	sp
1829  0689  CD 00 00    	call	_spr_add_anim
1830  068C  F1          	pop	af
1831  068D  F1          	pop	af
1832  068E  F1          	pop	af
1833  068F  C1          	pop	bc
1834  0690  79          	ld	a, c
1835  0691  D6 24       	sub	a,0x24
1836  0693  DA 86 07    	jp	C, l_player_pick_item_00129
1837  0696  3E 2F       	ld	a,0x2f
1838  0698  91          	sub	a, c
1839  0699  DA 86 07    	jp	C, l_player_pick_item_00129
1840  069C  79          	ld	a, c
1841  069D  C6 DC       	add	a,0xdc
1842  069F  4F          	ld	c, a
1843  06A0  06 00       	ld	b,0x00
1844  06A2  21 A9 06    	ld	hl,l_player_pick_item_00171
1845  06A5  09          	add	hl, bc
1846  06A6  09          	add	hl, bc
1847  06A7  09          	add	hl, bc
1848  06A8  E9          	jp	(hl)
1849  06A9              l_player_pick_item_00171:
1850  06A9  C3 CD 06    	jp	l_player_pick_item_00101
1851  06AC  C3 D8 06    	jp	l_player_pick_item_00102
1852  06AF  C3 E3 06    	jp	l_player_pick_item_00103
1853  06B2  C3 EE 06    	jp	l_player_pick_item_00104
1854  06B5  C3 F9 06    	jp	l_player_pick_item_00105
1855  06B8  C3 0B 07    	jp	l_player_pick_item_00107
1856  06BB  C3 20 07    	jp	l_player_pick_item_00110
1857  06BE  C3 35 07    	jp	l_player_pick_item_00113
1858  06C1  C3 4A 07    	jp	l_player_pick_item_00116
1859  06C4  C3 5F 07    	jp	l_player_pick_item_00119
1860  06C7  C3 74 07    	jp	l_player_pick_item_00122
1861  06CA  C3 02 07    	jp	l_player_pick_item_00106
1862  06CD              l_player_pick_item_00101:
1863  06CD  21 00 00    	ld	hl,_player_keys
1864  06D0  36 01       	ld	(hl),0x01
1865  06D2  CD 00 00    	call	_game_update_stats
1866  06D5  C3 86 07    	jp	l_player_pick_item_00129
1867  06D8              l_player_pick_item_00102:
1868  06D8  21 01 00    	ld	hl, +(_player_keys + 0x0001)
1869  06DB  36 01       	ld	(hl),0x01
1870  06DD  CD 00 00    	call	_game_update_stats
1871  06E0  C3 86 07    	jp	l_player_pick_item_00129
1872  06E3              l_player_pick_item_00103:
1873  06E3  21 02 00    	ld	hl, +(_player_keys + 0x0002)
1874  06E6  36 01       	ld	(hl),0x01
1875  06E8  CD 00 00    	call	_game_update_stats
1876  06EB  C3 86 07    	jp	l_player_pick_item_00129
1877  06EE              l_player_pick_item_00104:
1878  06EE  21 03 00    	ld	hl, +(_player_keys + 0x0003)
1879  06F1  36 01       	ld	(hl),0x01
1880  06F3  CD 00 00    	call	_game_update_stats
1881  06F6  C3 86 07    	jp	l_player_pick_item_00129
1882  06F9              l_player_pick_item_00105:
1883  06F9  21 01 00    	ld	hl,0x0001
1884  06FC  CD 2F 0A    	call	_player_score_add
1885  06FF  C3 86 07    	jp	l_player_pick_item_00129
1886  0702              l_player_pick_item_00106:
1887  0702  21 0A 00    	ld	hl,0x000a
1888  0705  CD 2F 0A    	call	_player_score_add
1889  0708  C3 86 07    	jp	l_player_pick_item_00129
1890  070B              l_player_pick_item_00107:
1891  070B  21 00 00    	ld	hl,_player_str
1892  070E  34          	inc	(hl)
1893  070F  21 00 00    	ld	hl,_player_max_vita
1894  0712  7E          	ld	a, (hl)
1895  0713  D6 C8       	sub	a,0xc8
1896  0715  30 6F       	jr	NC,l_player_pick_item_00129
1897  0717  7E          	ld	a, (hl)
1898  0718  C6 0A       	add	a,0x0a
1899  071A  77          	ld	(hl), a
1900  071B  CD 00 00    	call	_game_update_stats
1901  071E  18 66       	jr	l_player_pick_item_00129
1902  0720              l_player_pick_item_00110:
1903  0720  21 00 00    	ld	hl,_player_str
1904  0723  34          	inc	(hl)
1905  0724  21 00 00    	ld	hl,_player_max_vita
1906  0727  7E          	ld	a, (hl)
1907  0728  D6 C8       	sub	a,0xc8
1908  072A  30 5A       	jr	NC,l_player_pick_item_00129
1909  072C  7E          	ld	a, (hl)
1910  072D  C6 0A       	add	a,0x0a
1911  072F  77          	ld	(hl), a
1912  0730  CD 00 00    	call	_game_update_stats
1913  0733  18 51       	jr	l_player_pick_item_00129
1914  0735              l_player_pick_item_00113:
1915  0735  21 00 00    	ld	hl,_player_str
1916  0738  34          	inc	(hl)
1917  0739  21 00 00    	ld	hl,_player_max_vita
1918  073C  7E          	ld	a, (hl)
1919  073D  D6 C8       	sub	a,0xc8
1920  073F  30 45       	jr	NC,l_player_pick_item_00129
1921  0741  7E          	ld	a, (hl)
1922  0742  C6 0A       	add	a,0x0a
1923  0744  77          	ld	(hl), a
1924  0745  CD 00 00    	call	_game_update_stats
1925  0748  18 3C       	jr	l_player_pick_item_00129
1926  074A              l_player_pick_item_00116:
1927  074A  21 00 00    	ld	hl,_player_int
1928  074D  34          	inc	(hl)
1929  074E  21 00 00    	ld	hl,_player_max_mana
1930  0751  7E          	ld	a, (hl)
1931  0752  D6 C8       	sub	a,0xc8
1932  0754  30 30       	jr	NC,l_player_pick_item_00129
1933  0756  7E          	ld	a, (hl)
1934  0757  C6 0A       	add	a,0x0a
1935  0759  77          	ld	(hl), a
1936  075A  CD 00 00    	call	_game_update_stats
1937  075D  18 27       	jr	l_player_pick_item_00129
1938  075F              l_player_pick_item_00119:
1939  075F  21 00 00    	ld	hl,_player_int
1940  0762  34          	inc	(hl)
1941  0763  21 00 00    	ld	hl,_player_max_mana
1942  0766  7E          	ld	a, (hl)
1943  0767  D6 C8       	sub	a,0xc8
1944  0769  30 1B       	jr	NC,l_player_pick_item_00129
1945  076B  7E          	ld	a, (hl)
1946  076C  C6 0A       	add	a,0x0a
1947  076E  77          	ld	(hl), a
1948  076F  CD 00 00    	call	_game_update_stats
1949  0772  18 12       	jr	l_player_pick_item_00129
1950  0774              l_player_pick_item_00122:
1951  0774  21 00 00    	ld	hl,_player_int
1952  0777  34          	inc	(hl)
1953  0778  21 00 00    	ld	hl,_player_max_mana
1954  077B  7E          	ld	a, (hl)
1955  077C  D6 C8       	sub	a,0xc8
1956  077E  D0          	ret	NC
1957  077F  7E          	ld	a, (hl)
1958  0780  C6 0A       	add	a,0x0a
1959  0782  77          	ld	(hl), a
1960  0783  CD 00 00    	call	_game_update_stats
1961  0786              l_player_pick_item_00129:
1962  0786  C9          	ret
1963  0787              	SECTION code_compiler
1964  0787              ;	---------------------------------
1965  0787              ; Function player_hit_platform
1966  0787              ; ---------------------------------
1967  0787              _player_hit_platform:
1968  0787  CD 00 00    	call	___sdcc_enter_ix
1969  078A  F5          	push	af
1970  078B  3A 00 00    	ld	a,(_player_hit_lin)
1971  078E  B7          	or	a, a
1972  078F  C2 FA 09    	jp	NZ, l_player_hit_platform_00144
1973  0792  21 07 00    	ld	hl,+(_lin + 0x0007)
1974  0795  4E          	ld	c, (hl)
1975  0796  3E 10       	ld	a,0x10
1976  0798  91          	sub	a, c
1977  0799  D2 FA 09    	jp	NC, l_player_hit_platform_00144
1978  079C  01 00 00    	ld	bc,_scr_map
1979  079F  2A 00 00    	ld	hl,(_index1)
1980  07A2  09          	add	hl,bc
1981  07A3  7E          	ld	a,(hl)
1982  07A4  D6 45       	sub	a,0x45
1983  07A6  DA FA 09    	jp	C, l_player_hit_platform_00144
1984  07A9  2A 00 00    	ld	hl,(_curr_time)
1985  07AC  22 0E 00    	ld	(_spr_timer + 0x000e),hl
1986  07AF  2A 07 00    	ld	hl,(_lin + 0x0007)
1987  07B2  26 00       	ld	h,0x00
1988  07B4  01 F8 FF    	ld	bc,0xfff8
1989  07B7  09          	add	hl,bc
1990  07B8  EB          	ex	de,hl
1991  07B9  06 04       	ld	b,0x04
1992  07BB              l_player_hit_platform_00249:
1993  07BB  CB 2A       	sra	d
1994  07BD  CB 1B       	rr	e
1995  07BF  10 FA       	djnz	l_player_hit_platform_00249
1996  07C1  7B          	ld	a, e
1997  07C2  07          	rlca
1998  07C3  07          	rlca
1999  07C4  07          	rlca
2000  07C5  07          	rlca
2001  07C6  E6 F0       	and	a,0xf0
2002  07C8  C6 08       	add	a,0x08
2003  07CA  32 00 00    	ld	(_player_hit_lin),a
2004  07CD  21 07 00    	ld	hl,+(_col + 0x0007)
2005  07D0  4E          	ld	c, (hl)
2006  07D1  CB 41       	bit	0, c
2007  07D3  20 06       	jr	NZ,l_player_hit_platform_00111
2008  07D5  21 00 00    	ld	hl,_player_hit_col
2009  07D8  71          	ld	(hl), c
2010  07D9  18 2D       	jr	l_player_hit_platform_00112
2011  07DB              l_player_hit_platform_00111:
2012  07DB  21 07 00    	ld	hl,+(_state + 0x0007)
2013  07DE  5E          	ld	e, (hl)
2014  07DF  41          	ld	b, c
2015  07E0  04          	inc	b
2016  07E1  0D          	dec	c
2017  07E2  CB 5B       	bit	3, e
2018  07E4  28 12       	jr	Z,l_player_hit_platform_00108
2019  07E6  3A 00 00    	ld	a,(_g_player_hit_right)
2020  07E9  B7          	or	a, a
2021  07EA  28 06       	jr	Z,l_player_hit_platform_00102
2022  07EC  21 00 00    	ld	hl,_player_hit_col
2023  07EF  70          	ld	(hl), b
2024  07F0  18 16       	jr	l_player_hit_platform_00112
2025  07F2              l_player_hit_platform_00102:
2026  07F2  21 00 00    	ld	hl,_player_hit_col
2027  07F5  71          	ld	(hl), c
2028  07F6  18 10       	jr	l_player_hit_platform_00112
2029  07F8              l_player_hit_platform_00108:
2030  07F8  3A 00 00    	ld	a,(_g_player_hit_left)
2031  07FB  B7          	or	a, a
2032  07FC  28 06       	jr	Z,l_player_hit_platform_00105
2033  07FE  21 00 00    	ld	hl,_player_hit_col
2034  0801  71          	ld	(hl), c
2035  0802  18 04       	jr	l_player_hit_platform_00112
2036  0804              l_player_hit_platform_00105:
2037  0804  21 00 00    	ld	hl,_player_hit_col
2038  0807  70          	ld	(hl), b
2039  0808              l_player_hit_platform_00112:
2040  0808  01 00 00    	ld	bc,_scr_map
2041  080B  2A 00 00    	ld	hl,(_index1)
2042  080E  09          	add	hl,bc
2043  080F  7E          	ld	a,(hl)
2044  0810  FE 4D       	cp	a,0x4d
2045  0812  20 3B       	jr	NZ,l_player_hit_platform_00114
2046  0814  AF          	xor	a,a
2047  0815  77          	ld	(hl),a
2048  0816  2A 00 00    	ld	hl,(_index0)
2049  0819  E5          	push	hl
2050  081A  CD 00 00    	call	_game_obj_set
2051  081D  F1          	pop	af
2052  081E  21 00 00    	ld	hl,_index1
2053  0821  7E          	ld	a, (hl)
2054  0822  E6 0F       	and	a,0x0f
2055  0824  87          	add	a, a
2056  0825  4F          	ld	c, a
2057  0826  23          	inc	hl
2058  0827  56          	ld	d,(hl)
2059  0828  2B          	dec	hl
2060  0829  7E          	ld	a, (hl)
2061  082A  06 04       	ld	b,0x04
2062  082C              l_player_hit_platform_00255:
2063  082C  CB 3A       	srl	d
2064  082E  1F          	rra
2065  082F  10 FB       	djnz	l_player_hit_platform_00255
2066  0831  07          	rlca
2067  0832  07          	rlca
2068  0833  07          	rlca
2069  0834  07          	rlca
2070  0835  E6 F0       	and	a,0xf0
2071  0837  47          	ld	b, a
2072  0838  21 00 00    	ld	hl,0x0000
2073  083B  E5          	push	hl
2074  083C  21 87 03    	ld	hl,0x0387
2075  083F  E5          	push	hl
2076  0840  79          	ld	a, c
2077  0841  48          	ld	c,b
2078  0842  47          	ld	b,a
2079  0843  C5          	push	bc
2080  0844  CD 00 00    	call	_spr_add_anim
2081  0847  F1          	pop	af
2082  0848  F1          	pop	af
2083  0849  F1          	pop	af
2084  084A  2E 01       	ld	l,0x01
2085  084C  C3 FC 09    	jp	l_player_hit_platform_00147
2086  084F              l_player_hit_platform_00114:
2087  084F  FE 5C       	cp	a,0x5c
2088  0851  28 05       	jr	Z,l_player_hit_platform_00140
2089  0853  D6 5D       	sub	a,0x5d
2090  0855  C2 EE 09    	jp	NZ,l_player_hit_platform_00141
2091  0858              l_player_hit_platform_00140:
2092  0858  21 00 00    	ld	hl,_tmp0
2093  085B  36 00       	ld	(hl),0x00
2094  085D  3A 00 00    	ld	a,(_game_boss)
2095  0860  B7          	or	a, a
2096  0861  28 0B       	jr	Z,l_player_hit_platform_00173
2097  0863  3A 00 00    	ld	a,(_game_mush_count)
2098  0866  B7          	or	a, a
2099  0867  28 05       	jr	Z,l_player_hit_platform_00173
2100  0869  2E 00       	ld	l,0x00
2101  086B  C3 FC 09    	jp	l_player_hit_platform_00147
2102  086E              l_player_hit_platform_00173:
2103  086E              l_player_hit_platform_00137:
2104  086E  21 00 00    	ld	hl,_tmp0
2105  0871  7E          	ld	a, (hl)
2106  0872  D6 07       	sub	a,0x07
2107  0874  D2 EE 09    	jp	NC, l_player_hit_platform_00141
2108  0877  4E          	ld	c,(hl)
2109  0878  06 00       	ld	b,0x00
2110  087A  21 00 00    	ld	hl,_mush_index
2111  087D  09          	add	hl,bc
2112  087E  4E          	ld	c, (hl)
2113  087F  06 00       	ld	b,0x00
2114  0881  2A 00 00    	ld	hl,(_index1)
2115  0884  AF          	xor	a,a
2116  0885  ED 42       	sbc	hl,bc
2117  0887  C2 E7 09    	jp	NZ,l_player_hit_platform_00136
2118  088A  3A 07 00    	ld	a,(_lin + 0x0007)
2119  088D  07          	rlca
2120  088E  07          	rlca
2121  088F  07          	rlca
2122  0890  07          	rlca
2123  0891  E6 0F       	and	a,0x0f
2124  0893  07          	rlca
2125  0894  07          	rlca
2126  0895  07          	rlca
2127  0896  07          	rlca
2128  0897  E6 F0       	and	a,0xf0
2129  0899  C6 E0       	add	a,0xe0
2130  089B  32 00 00    	ld	(_s_lin1),a
2131  089E  3A 07 00    	ld	a,(_col + 0x0007)
2132  08A1  CB 3F       	srl	a
2133  08A3  87          	add	a, a
2134  08A4  32 00 00    	ld	(_s_col1),a
2135  08A7  21 00 00    	ld	hl,_tmp
2136  08AA  36 00       	ld	(hl),0x00
2137  08AC              l_player_hit_platform_00120:
2138  08AC  21 00 00    	ld	hl,_tmp
2139  08AF  7E          	ld	a, (hl)
2140  08B0  D6 07       	sub	a,0x07
2141  08B2  30 1C       	jr	NC,l_player_hit_platform_00122
2142  08B4  4E          	ld	c,(hl)
2143  08B5  06 00       	ld	b,0x00
2144  08B7  21 00 00    	ld	hl,_mush_index
2145  08BA  09          	add	hl,bc
2146  08BB  4E          	ld	c, (hl)
2147  08BC  06 00       	ld	b,0x00
2148  08BE  21 00 00    	ld	hl,_index1
2149  08C1  7E          	ld	a, (hl)
2150  08C2  91          	sub	a, c
2151  08C3  20 05       	jr	NZ,l_player_hit_platform_00261
2152  08C5  23          	inc	hl
2153  08C6  7E          	ld	a, (hl)
2154  08C7  90          	sub	a, b
2155  08C8  28 06       	jr	Z,l_player_hit_platform_00122
2156  08CA              l_player_hit_platform_00261:
2157  08CA  21 00 00    	ld	hl,_tmp
2158  08CD  34          	inc	(hl)
2159  08CE  18 DC       	jr	l_player_hit_platform_00120
2160  08D0              l_player_hit_platform_00122:
2161  08D0  2A 00 00    	ld	hl,(_tmp)
2162  08D3  26 00       	ld	h,0x00
2163  08D5  01 00 00    	ld	bc,_mush_class
2164  08D8  09          	add	hl,bc
2165  08D9  7E          	ld	a,(hl)
2166  08DA  FE 78       	cp	a,0x78
2167  08DC  28 18       	jr	Z,l_player_hit_platform_00123
2168  08DE  FE 79       	cp	a,0x79
2169  08E0  28 2F       	jr	Z,l_player_hit_platform_00124
2170  08E2  FE 7A       	cp	a,0x7a
2171  08E4  28 5F       	jr	Z,l_player_hit_platform_00126
2172  08E6  FE 7B       	cp	a,0x7b
2173  08E8  28 41       	jr	Z,l_player_hit_platform_00125
2174  08EA  FE 7C       	cp	a,0x7c
2175  08EC  CA 79 09    	jp	Z,l_player_hit_platform_00128
2176  08EF  D6 7D       	sub	a,0x7d
2177  08F1  28 6C       	jr	Z,l_player_hit_platform_00127
2178  08F3  C3 91 09    	jp	l_player_hit_platform_00129
2179  08F6              l_player_hit_platform_00123:
2180  08F6  2E 02       	ld	l,0x02
2181  08F8  CD 00 00    	call	_zx_border_fastcall
2182  08FB  3A 00 00    	ld	a,(_s_col1)
2183  08FE  21 06 FF    	ld	hl,0xff06
2184  0901  E5          	push	hl
2185  0902  F5          	push	af
2186  0903  33          	inc	sp
2187  0904  3A 00 00    	ld	a,(_s_lin1)
2188  0907  F5          	push	af
2189  0908  33          	inc	sp
2190  0909  CD 00 00    	call	_enemy_init
2191  090C  F1          	pop	af
2192  090D  F1          	pop	af
2193  090E  C3 91 09    	jp	l_player_hit_platform_00129
2194  0911              l_player_hit_platform_00124:
2195  0911  2E 02       	ld	l,0x02
2196  0913  CD 00 00    	call	_zx_border_fastcall
2197  0916  3A 00 00    	ld	a,(_s_col1)
2198  0919  21 06 01    	ld	hl,0x0106
2199  091C  E5          	push	hl
2200  091D  F5          	push	af
2201  091E  33          	inc	sp
2202  091F  3A 00 00    	ld	a,(_s_lin1)
2203  0922  F5          	push	af
2204  0923  33          	inc	sp
2205  0924  CD 00 00    	call	_enemy_init
2206  0927  F1          	pop	af
2207  0928  F1          	pop	af
2208  0929  18 66       	jr	l_player_hit_platform_00129
2209  092B              l_player_hit_platform_00125:
2210  092B  2E 01       	ld	l,0x01
2211  092D  CD 00 00    	call	_zx_border_fastcall
2212  0930  3A 00 00    	ld	a,(_s_col1)
2213  0933  21 07 01    	ld	hl,0x0107
2214  0936  E5          	push	hl
2215  0937  F5          	push	af
2216  0938  33          	inc	sp
2217  0939  3A 00 00    	ld	a,(_s_lin1)
2218  093C  F5          	push	af
2219  093D  33          	inc	sp
2220  093E  CD 00 00    	call	_enemy_init
2221  0941  F1          	pop	af
2222  0942  F1          	pop	af
2223  0943  18 4C       	jr	l_player_hit_platform_00129
2224  0945              l_player_hit_platform_00126:
2225  0945  2E 01       	ld	l,0x01
2226  0947  CD 00 00    	call	_zx_border_fastcall
2227  094A  3A 00 00    	ld	a,(_s_col1)
2228  094D  21 07 FF    	ld	hl,0xff07
2229  0950  E5          	push	hl
2230  0951  F5          	push	af
2231  0952  33          	inc	sp
2232  0953  3A 00 00    	ld	a,(_s_lin1)
2233  0956  F5          	push	af
2234  0957  33          	inc	sp
2235  0958  CD 00 00    	call	_enemy_init
2236  095B  F1          	pop	af
2237  095C  F1          	pop	af
2238  095D  18 32       	jr	l_player_hit_platform_00129
2239  095F              l_player_hit_platform_00127:
2240  095F  2E 04       	ld	l,0x04
2241  0961  CD 00 00    	call	_zx_border_fastcall
2242  0964  3A 00 00    	ld	a,(_s_col1)
2243  0967  21 08 01    	ld	hl,0x0108
2244  096A  E5          	push	hl
2245  096B  F5          	push	af
2246  096C  33          	inc	sp
2247  096D  3A 00 00    	ld	a,(_s_lin1)
2248  0970  F5          	push	af
2249  0971  33          	inc	sp
2250  0972  CD 00 00    	call	_enemy_init
2251  0975  F1          	pop	af
2252  0976  F1          	pop	af
2253  0977  18 18       	jr	l_player_hit_platform_00129
2254  0979              l_player_hit_platform_00128:
2255  0979  2E 04       	ld	l,0x04
2256  097B  CD 00 00    	call	_zx_border_fastcall
2257  097E  3A 00 00    	ld	a,(_s_col1)
2258  0981  21 08 FF    	ld	hl,0xff08
2259  0984  E5          	push	hl
2260  0985  F5          	push	af
2261  0986  33          	inc	sp
2262  0987  3A 00 00    	ld	a,(_s_lin1)
2263  098A  F5          	push	af
2264  098B  33          	inc	sp
2265  098C  CD 00 00    	call	_enemy_init
2266  098F  F1          	pop	af
2267  0990  F1          	pop	af
2268  0991              l_player_hit_platform_00129:
2269  0991  21 00 00    	ld	hl,_game_mush_count
2270  0994  34          	inc	(hl)
2271  0995  3A 00 00    	ld	a,(_game_boss)
2272  0998  B7          	or	a, a
2273  0999  20 4C       	jr	NZ,l_player_hit_platform_00136
2274  099B  2A 00 00    	ld	hl,(_index1)
2275  099E  01 F0 FF    	ld	bc,0xfff0
2276  09A1  09          	add	hl,bc
2277  09A2  01 00 00    	ld	bc,_scr_map
2278  09A5  09          	add	hl,bc
2279  09A6  36 00       	ld	(hl),0x00
2280  09A8  3E 00       	ld	a, +((_scr_map) & 0xFF)
2281  09AA  21 00 00    	ld	hl,_index1
2282  09AD  86          	add	a, (hl)
2283  09AE  DD 77 FE    	ld	(ix-2),a
2284  09B1  3E 00       	ld	a, +((_scr_map) / 256)
2285  09B3  23          	inc	hl
2286  09B4  8E          	adc	a, (hl)
2287  09B5  DD 77 FF    	ld	(ix-1),a
2288  09B8  E1          	pop	hl
2289  09B9  7E          	ld	a,(hl)
2290  09BA  E5          	push	hl
2291  09BB  D6 5C       	sub	a,0x5c
2292  09BD  20 06       	jr	NZ,l_player_hit_platform_00131
2293  09BF  E1          	pop	hl
2294  09C0  E5          	push	hl
2295  09C1  36 4F       	ld	(hl),0x4f
2296  09C3  18 04       	jr	l_player_hit_platform_00132
2297  09C5              l_player_hit_platform_00131:
2298  09C5  E1          	pop	hl
2299  09C6  E5          	push	hl
2300  09C7  36 54       	ld	(hl),0x54
2301  09C9              l_player_hit_platform_00132:
2302  09C9  2A 00 00    	ld	hl,(_index1)
2303  09CC  01 F0 FF    	ld	bc,0xfff0
2304  09CF  09          	add	hl,bc
2305  09D0  E5          	push	hl
2306  09D1  CD 00 00    	call	_game_obj_set
2307  09D4  F1          	pop	af
2308  09D5  3A 00 00    	ld	a,(_s_lin1)
2309  09D8  C6 10       	add	a,0x10
2310  09DA  4F          	ld	c, a
2311  09DB  3A 00 00    	ld	a, (_s_col1)
2312  09DE  47          	ld	b,a
2313  09DF  C5          	push	bc
2314  09E0  3E 4F       	ld	a,0x4f
2315  09E2  F5          	push	af
2316  09E3  33          	inc	sp
2317  09E4  CD 00 00    	call	_NIRVANAP_drawT_callee
2318  09E7              l_player_hit_platform_00136:
2319  09E7  21 00 00    	ld	hl,_tmp0
2320  09EA  34          	inc	(hl)
2321  09EB  C3 6E 08    	jp	l_player_hit_platform_00137
2322  09EE              l_player_hit_platform_00141:
2323  09EE  2E 01       	ld	l,0x01
2324  09F0  CD 00 00    	call	_spr_brick_anim
2325  09F3  CD 00 00    	call	_sound_hit_brick
2326  09F6  2E 01       	ld	l,0x01
2327  09F8  18 02       	jr	l_player_hit_platform_00147
2328  09FA              l_player_hit_platform_00144:
2329  09FA  2E 00       	ld	l,0x00
2330  09FC              l_player_hit_platform_00147:
2331  09FC  F1          	pop	af
2332  09FD  DD E1       	pop	ix
2333  09FF  C9          	ret
2334  0A00              	SECTION code_compiler
2335  0A00              ;	---------------------------------
2336  0A00              ; Function player_hit_platform_clear
2337  0A00              ; ---------------------------------
2338  0A00              _player_hit_platform_clear:
2339  0A00  01 04 00    	ld	bc,0x0004
2340  0A03  C5          	push	bc
2341  0A04  2A 0E 00    	ld	hl,(_spr_timer + 0x000e)
2342  0A07  E5          	push	hl
2343  0A08  CD 00 00    	call	_game_check_time
2344  0A0B  F1          	pop	af
2345  0A0C  F1          	pop	af
2346  0A0D  7D          	ld	a, l
2347  0A0E  B7          	or	a, a
2348  0A0F  C8          	ret	Z
2349  0A10  2A FF FF    	ld	hl,(_player_hit_col - 1)
2350  0A13  3A 00 00    	ld	a,(_player_hit_lin)
2351  0A16  6F          	ld	l,a
2352  0A17  E5          	push	hl
2353  0A18  CD 00 00    	call	_spr_calc_index
2354  0A1B  F1          	pop	af
2355  0A1C  22 00 00    	ld	(_index1),hl
2356  0A1F  2E 00       	ld	l,0x00
2357  0A21  CD 00 00    	call	_spr_brick_anim
2358  0A24  21 00 00    	ld	hl,_player_hit_lin
2359  0A27  36 00       	ld	(hl),0x00
2360  0A29  21 00 00    	ld	hl,_player_hit_col
2361  0A2C  36 00       	ld	(hl),0x00
2362  0A2E  C9          	ret
2363  0A2F              	SECTION code_compiler
2364  0A2F              ;	---------------------------------
2365  0A2F              ; Function player_score_add
2366  0A2F              ; ---------------------------------
2367  0A2F              _player_score_add:
2368  0A2F  ED 4B 00 00 	ld	bc,(_player_score)
2369  0A33  09          	add	hl,bc
2370  0A34  22 00 00    	ld	(_player_score),hl
2371  0A37  21 00 00    	ld	hl,_player_lvl
2372  0A3A  7E          	ld	a, (hl)
2373  0A3B  D6 14       	sub	a,0x14
2374  0A3D  30 3C       	jr	NC,l_player_score_add_00104
2375  0A3F  01 00 00    	ld	bc,_player_lvl_table+0
2376  0A42  6E          	ld	l,(hl)
2377  0A43  26 00       	ld	h,0x00
2378  0A45  29          	add	hl, hl
2379  0A46  09          	add	hl, bc
2380  0A47  4E          	ld	c, (hl)
2381  0A48  23          	inc	hl
2382  0A49  46          	ld	b, (hl)
2383  0A4A  21 00 00    	ld	hl,_player_score
2384  0A4D  7E          	ld	a, (hl)
2385  0A4E  91          	sub	a, c
2386  0A4F  23          	inc	hl
2387  0A50  7E          	ld	a, (hl)
2388  0A51  98          	sbc	a, b
2389  0A52  38 27       	jr	C,l_player_score_add_00104
2390  0A54  21 00 00    	ld	hl,_player_lvl
2391  0A57  34          	inc	(hl)
2392  0A58  21 00 00    	ld	hl,___str_0
2393  0A5B  E5          	push	hl
2394  0A5C  21 0C 0C    	ld	hl,0x0c0c
2395  0A5F  E5          	push	hl
2396  0A60  CD 00 00    	call	_zx_print_str
2397  0A63  AF          	xor	a, a
2398  0A64  F5          	push	af
2399  0A65  33          	inc	sp
2400  0A66  21 19 00    	ld	hl,0x0019
2401  0A69  E5          	push	hl
2402  0A6A  21 0C 15    	ld	hl,0x150c
2403  0A6D  E5          	push	hl
2404  0A6E  3E 0C       	ld	a,0x0c
2405  0A70  F5          	push	af
2406  0A71  33          	inc	sp
2407  0A72  CD 00 00    	call	_game_colour_message
2408  0A75  F1          	pop	af
2409  0A76  F1          	pop	af
2410  0A77  F1          	pop	af
2411  0A78  CD 00 00    	call	_game_update_stats
2412  0A7B              l_player_score_add_00104:
2413  0A7B  3A 00 00    	ld	a,(_game_score_top)
2414  0A7E  21 00 00    	ld	hl,_player_score
2415  0A81  96          	sub	a, (hl)
2416  0A82  3A 01 00    	ld	a,(_game_score_top + 1)
2417  0A85  23          	inc	hl
2418  0A86  9E          	sbc	a, (hl)
2419  0A87  30 06       	jr	NC,l_player_score_add_00106
2420  0A89  2A 00 00    	ld	hl,(_player_score)
2421  0A8C  22 00 00    	ld	(_game_score_top),hl
2422  0A8F              l_player_score_add_00106:
2423  0A8F  CD 00 00    	call	_game_print_score
2424  0A92  C9          	ret
2425  0A93              	SECTION rodata_compiler
2426  0000              ___str_0:
2427  0000  4C 45 56 45 4C 20 55 50 21 
                        	DEFM "LEVEL UP!"
2428  0009  00          	DEFB 0x00
2429  000A              	SECTION code_compiler
2430  0A93              ;	---------------------------------
2431  0A93              ; Function player_check_floor
2432  0A93              ; ---------------------------------
2433  0A93              _player_check_floor:
2434  0A93  CD 00 00    	call	___sdcc_enter_ix
2435  0A96  F5          	push	af
2436  0A97  F5          	push	af
2437  0A98  11 07 00    	ld	de,_col+7
2438  0A9B  1A          	ld	a, (de)
2439  0A9C  47          	ld	b, a
2440  0A9D  3A 07 00    	ld	a,(_lin + 0x0007)
2441  0AA0  C6 10       	add	a,0x10
2442  0AA2  D5          	push	de
2443  0AA3  4F          	ld	c,a
2444  0AA4  C5          	push	bc
2445  0AA5  CD 00 00    	call	_spr_calc_index
2446  0AA8  F1          	pop	af
2447  0AA9  D1          	pop	de
2448  0AAA  4D          	ld	c,l
2449  0AAB  44          	ld	b,h
2450  0AAC  21 00 00    	ld	hl,_scr_map
2451  0AAF  09          	add	hl,bc
2452  0AB0  DD 75 FE    	ld	(ix-2),l
2453  0AB3  DD 74 FF    	ld	(ix-1),h
2454  0AB6  7E          	ld	a, (hl)
2455  0AB7  DD 77 FD    	ld	(ix-3),a
2456  0ABA  03          	inc	bc
2457  0ABB  21 00 00    	ld	hl,_scr_map
2458  0ABE  09          	add	hl,bc
2459  0ABF  3A 00 00    	ld	a,(_s_lin0)
2460  0AC2  D6 90       	sub	a,0x90
2461  0AC4  4D          	ld	c,l
2462  0AC5  44          	ld	b,h
2463  0AC6  20 26       	jr	NZ,l_player_check_floor_00108
2464  0AC8  3A 00 00    	ld	a,(_map_heigth)
2465  0ACB  C5          	push	bc
2466  0ACC  F5          	push	af
2467  0ACD  33          	inc	sp
2468  0ACE  3A 00 00    	ld	a,(_scr_curr)
2469  0AD1  F5          	push	af
2470  0AD2  33          	inc	sp
2471  0AD3  CD 00 00    	call	__divuchar_callee
2472  0AD6  C1          	pop	bc
2473  0AD7  7D          	ld	a,l
2474  0AD8  3C          	inc	a
2475  0AD9  32 00 00    	ld	(_tmp1),a
2476  0ADC  21 00 00    	ld	hl,_map_heigth
2477  0ADF  96          	sub	a, (hl)
2478  0AE0  30 06       	jr	NC,l_player_check_floor_00102
2479  0AE2  DD 36 FD 00 	ld	(ix-3),0x00
2480  0AE6  18 14       	jr	l_player_check_floor_00109
2481  0AE8              l_player_check_floor_00102:
2482  0AE8  DD 36 FD 48 	ld	(ix-3),0x48
2483  0AEC  18 0E       	jr	l_player_check_floor_00109
2484  0AEE              l_player_check_floor_00108:
2485  0AEE  1A          	ld	a, (de)
2486  0AEF  0F          	rrca
2487  0AF0  38 06       	jr	C,l_player_check_floor_00105
2488  0AF2  DD 36 FC 00 	ld	(ix-4),0x00
2489  0AF6  18 04       	jr	l_player_check_floor_00109
2490  0AF8              l_player_check_floor_00105:
2491  0AF8  0A          	ld	a, (bc)
2492  0AF9  DD 77 FC    	ld	(ix-4),a
2493  0AFC              l_player_check_floor_00109:
2494  0AFC  DD 7E FD    	ld	a,(ix-3)
2495  0AFF  D6 3C       	sub	a,0x3c
2496  0B01  38 07       	jr	C,l_player_check_floor_00132
2497  0B03  DD 7E FD    	ld	a,(ix-3)
2498  0B06  D6 60       	sub	a,0x60
2499  0B08  38 32       	jr	C,l_player_check_floor_00128
2500  0B0A              l_player_check_floor_00132:
2501  0B0A  DD 7E FC    	ld	a,(ix-4)
2502  0B0D  D6 3C       	sub	a,0x3c
2503  0B0F  38 07       	jr	C,l_player_check_floor_00127
2504  0B11  DD 7E FC    	ld	a,(ix-4)
2505  0B14  D6 60       	sub	a,0x60
2506  0B16  38 24       	jr	C,l_player_check_floor_00128
2507  0B18              l_player_check_floor_00127:
2508  0B18  21 07 00    	ld	hl, +(_sprite_speed_alt + 0x0007)
2509  0B1B  36 02       	ld	(hl),0x02
2510  0B1D  21 00 00    	ld	hl,_s_state
2511  0B20  CB CE       	set	1, (hl)
2512  0B22  2E 00       	ld	l,0x00
2513  0B24  CD 40 03    	call	_player_check_stairs
2514  0B27  3A 00 00    	ld	a,(_player_over_stair)
2515  0B2A  B7          	or	a, a
2516  0B2B  C2 BB 0B    	jp	NZ, l_player_check_floor_00133
2517  0B2E  3A 00 00    	ld	a,(_s_lin0)
2518  0B31  D6 90       	sub	a,0x90
2519  0B33  C2 BB 0B    	jp	NZ,l_player_check_floor_00133
2520  0B36  CD 00 00    	call	_spr_page_down
2521  0B39  C3 BB 0B    	jp	l_player_check_floor_00133
2522  0B3C              l_player_check_floor_00128:
2523  0B3C  C5          	push	bc
2524  0B3D  21 10 00    	ld	hl,0x0010
2525  0B40  E5          	push	hl
2526  0B41  2A 00 00    	ld	hl,(_player_brick_time)
2527  0B44  E5          	push	hl
2528  0B45  CD 00 00    	call	_game_check_time
2529  0B48  F1          	pop	af
2530  0B49  F1          	pop	af
2531  0B4A  C1          	pop	bc
2532  0B4B  7D          	ld	a,l
2533  0B4C  B7          	or	a, a
2534  0B4D  28 6C       	jr	Z,l_player_check_floor_00133
2535  0B4F  2A 00 00    	ld	hl,(_curr_time)
2536  0B52  22 00 00    	ld	(_player_brick_time),hl
2537  0B55  DD 7E FD    	ld	a,(ix-3)
2538  0B58  D6 40       	sub	a,0x40
2539  0B5A  20 0D       	jr	NZ,l_player_check_floor_00114
2540  0B5C  DD 6E FE    	ld	l,(ix-2)
2541  0B5F  DD 66 FF    	ld	h,(ix-1)
2542  0B62  36 00       	ld	(hl),0x00
2543  0B64  C5          	push	bc
2544  0B65  CD C0 0B    	call	_player_gasta_brick
2545  0B68  C1          	pop	bc
2546  0B69              l_player_check_floor_00114:
2547  0B69  DD 7E FD    	ld	a,(ix-3)
2548  0B6C  D6 3F       	sub	a,0x3f
2549  0B6E  20 0D       	jr	NZ,l_player_check_floor_00116
2550  0B70  DD 6E FE    	ld	l,(ix-2)
2551  0B73  DD 66 FF    	ld	h,(ix-1)
2552  0B76  36 40       	ld	(hl),0x40
2553  0B78  C5          	push	bc
2554  0B79  CD C0 0B    	call	_player_gasta_brick
2555  0B7C  C1          	pop	bc
2556  0B7D              l_player_check_floor_00116:
2557  0B7D  DD 7E FD    	ld	a,(ix-3)
2558  0B80  D6 3E       	sub	a,0x3e
2559  0B82  20 0D       	jr	NZ,l_player_check_floor_00118
2560  0B84  DD 6E FE    	ld	l,(ix-2)
2561  0B87  DD 66 FF    	ld	h,(ix-1)
2562  0B8A  36 3F       	ld	(hl),0x3f
2563  0B8C  C5          	push	bc
2564  0B8D  CD C0 0B    	call	_player_gasta_brick
2565  0B90  C1          	pop	bc
2566  0B91              l_player_check_floor_00118:
2567  0B91  DD 7E FC    	ld	a,(ix-4)
2568  0B94  D6 40       	sub	a,0x40
2569  0B96  20 07       	jr	NZ,l_player_check_floor_00120
2570  0B98  AF          	xor	a, a
2571  0B99  02          	ld	(bc), a
2572  0B9A  C5          	push	bc
2573  0B9B  CD C0 0B    	call	_player_gasta_brick
2574  0B9E  C1          	pop	bc
2575  0B9F              l_player_check_floor_00120:
2576  0B9F  DD 7E FC    	ld	a,(ix-4)
2577  0BA2  D6 3F       	sub	a,0x3f
2578  0BA4  20 08       	jr	NZ,l_player_check_floor_00122
2579  0BA6  3E 40       	ld	a,0x40
2580  0BA8  02          	ld	(bc), a
2581  0BA9  C5          	push	bc
2582  0BAA  CD C0 0B    	call	_player_gasta_brick
2583  0BAD  C1          	pop	bc
2584  0BAE              l_player_check_floor_00122:
2585  0BAE  DD 7E FC    	ld	a,(ix-4)
2586  0BB1  D6 3E       	sub	a,0x3e
2587  0BB3  20 06       	jr	NZ,l_player_check_floor_00133
2588  0BB5  3E 3F       	ld	a,0x3f
2589  0BB7  02          	ld	(bc), a
2590  0BB8  CD C0 0B    	call	_player_gasta_brick
2591  0BBB              l_player_check_floor_00133:
2592  0BBB  DD F9       	ld	sp, ix
2593  0BBD  DD E1       	pop	ix
2594  0BBF  C9          	ret
2595  0BC0              	SECTION code_compiler
2596  0BC0              ;	---------------------------------
2597  0BC0              ; Function player_gasta_brick
2598  0BC0              ; ---------------------------------
2599  0BC0              _player_gasta_brick:
2600  0BC0  3A 00 00    	ld	a,(_s_lin0)
2601  0BC3  32 00 00    	ld	(_s_lin1),a
2602  0BC6  3A 00 00    	ld	a,(_s_col0)
2603  0BC9  32 00 00    	ld	(_s_col1),a
2604  0BCC  3A 07 00    	ld	a,(_lin + 0x0007)
2605  0BCF  C6 10       	add	a,0x10
2606  0BD1  32 00 00    	ld	(_s_lin0),a
2607  0BD4  3A 07 00    	ld	a,(_col + 0x0007)
2608  0BD7  32 00 00    	ld	(_s_col0),a
2609  0BDA  CD 00 00    	call	_spr_back_repaint
2610  0BDD  3A 00 00    	ld	a,(_s_lin1)
2611  0BE0  32 00 00    	ld	(_s_lin0),a
2612  0BE3  3A 00 00    	ld	a,(_s_col1)
2613  0BE6  32 00 00    	ld	(_s_col0),a
2614  0BE9  C9          	ret
2615  0BEA              	SECTION code_compiler
2616  0BEA              ;	---------------------------------
2617  0BEA              ; Function player_move_jump
2618  0BEA              ; ---------------------------------
2619  0BEA              _player_move_jump:
2620  0BEA  CD 00 00    	call	___sdcc_enter_ix
2621  0BED  F5          	push	af
2622  0BEE  21 00 00    	ld	hl,_game_gravity
2623  0BF1  4E          	ld	c, (hl)
2624  0BF2  21 00 00    	ld	hl,_player_vel_y
2625  0BF5  7E          	ld	a, (hl)
2626  0BF6  81          	add	a, c
2627  0BF7  77          	ld	(hl), a
2628  0BF8  21 00 00    	ld	hl,_sprite_on_air
2629  0BFB  36 01       	ld	(hl),0x01
2630  0BFD  3A 00 00    	ld	a,(_player_vel_inc)
2631  0C00  B7          	or	a, a
2632  0C01  28 2B       	jr	Z,l_player_move_jump_00107
2633  0C03  21 00 00    	ld	hl,_dirs
2634  0C06  CB 7E       	bit	7, (hl)
2635  0C08  28 07       	jr	Z,l_player_move_jump_00104
2636  0C0A  21 00 00    	ld	hl,_dirs
2637  0C0D  CB 46       	bit	0, (hl)
2638  0C0F  20 1D       	jr	NZ,l_player_move_jump_00107
2639  0C11              l_player_move_jump_00104:
2640  0C11  3A 00 00    	ld	a,(_player_vel_y1)
2641  0C14  21 00 00    	ld	hl,_player_vel_y
2642  0C17  96          	sub	a, (hl)
2643  0C18  E2 1D 0C    	jp	PO, l_player_move_jump_00263
2644  0C1B  EE 80       	xor	a,0x80
2645  0C1D              l_player_move_jump_00263:
2646  0C1D  F2 2E 0C    	jp	P, l_player_move_jump_00107
2647  0C20  21 00 00    	ld	hl,_player_vel_y
2648  0C23  CB 7E       	bit	7,(hl)
2649  0C25  28 07       	jr	Z,l_player_move_jump_00107
2650  0C27  36 00       	ld	(hl),0x00
2651  0C29  21 00 00    	ld	hl,_player_vel_inc
2652  0C2C  36 00       	ld	(hl),0x00
2653  0C2E              l_player_move_jump_00107:
2654  0C2E  3E 78       	ld	a,0x78
2655  0C30  21 00 00    	ld	hl,_player_vel_y
2656  0C33  96          	sub	a, (hl)
2657  0C34  E2 39 0C    	jp	PO, l_player_move_jump_00264
2658  0C37  EE 80       	xor	a,0x80
2659  0C39              l_player_move_jump_00264:
2660  0C39  F2 41 0C    	jp	P, l_player_move_jump_00109
2661  0C3C  21 00 00    	ld	hl,_player_vel_y
2662  0C3F  36 78       	ld	(hl),0x78
2663  0C41              l_player_move_jump_00109:
2664  0C41  21 00 00    	ld	hl,_player_vel_y
2665  0C44  7E          	ld	a, (hl)
2666  0C45  EE 80       	xor	a,0x80
2667  0C47  D6 08       	sub	a,0x08
2668  0C49  30 02       	jr	NC,l_player_move_jump_00111
2669  0C4B  36 88       	ld	(hl),0x88
2670  0C4D              l_player_move_jump_00111:
2671  0C4D  21 00 00    	ld	hl,_player_vel_y
2672  0C50  7E          	ld	a, (hl)
2673  0C51  DD 77 FE    	ld	(ix-2),a
2674  0C54  7E          	ld	a, (hl)
2675  0C55  17          	rla
2676  0C56  9F          	sbc	a, a
2677  0C57  DD 77 FF    	ld	(ix-1),a
2678  0C5A  DD 7E FE    	ld	a,(ix-2)
2679  0C5D  CB 47       	bit	0,a
2680  0C5F  32 00 00    	ld	(_s_lin1),a
2681  0C62  28 04       	jr	Z,l_player_move_jump_00113
2682  0C64  21 00 00    	ld	hl,_s_lin1
2683  0C67  35          	dec	(hl)
2684  0C68              l_player_move_jump_00113:
2685  0C68  3A 07 00    	ld	a,(_lin + 0x0007)
2686  0C6B  21 00 00    	ld	hl,_s_lin1
2687  0C6E  86          	add	a, (hl)
2688  0C6F  77          	ld	(hl), a
2689  0C70  3E 90       	ld	a,0x90
2690  0C72  96          	sub	a, (hl)
2691  0C73  30 2B       	jr	NC,l_player_move_jump_00124
2692  0C75  3E C8       	ld	a,0xc8
2693  0C77  96          	sub	a, (hl)
2694  0C78  30 13       	jr	NC,l_player_move_jump_00121
2695  0C7A  CD 00 00    	call	_spr_page_up
2696  0C7D  7D          	ld	a, l
2697  0C7E  B7          	or	a, a
2698  0C7F  28 05       	jr	Z,l_player_move_jump_00115
2699  0C81  2E 00       	ld	l,0x00
2700  0C83  C3 FE 0D    	jp	l_player_move_jump_00158
2701  0C86              l_player_move_jump_00115:
2702  0C86  21 00 00    	ld	hl,_s_lin1
2703  0C89  36 00       	ld	(hl),0x00
2704  0C8B  18 13       	jr	l_player_move_jump_00124
2705  0C8D              l_player_move_jump_00121:
2706  0C8D  CD 00 00    	call	_spr_page_down
2707  0C90  7D          	ld	a, l
2708  0C91  B7          	or	a, a
2709  0C92  28 07       	jr	Z,l_player_move_jump_00118
2710  0C94  21 00 00    	ld	hl,_s_lin1
2711  0C97  36 10       	ld	(hl),0x10
2712  0C99  18 05       	jr	l_player_move_jump_00124
2713  0C9B              l_player_move_jump_00118:
2714  0C9B  21 00 00    	ld	hl,_s_lin1
2715  0C9E  36 90       	ld	(hl),0x90
2716  0CA0              l_player_move_jump_00124:
2717  0CA0  3A 00 00    	ld	a,(_s_lin0)
2718  0CA3  07          	rlca
2719  0CA4  07          	rlca
2720  0CA5  07          	rlca
2721  0CA6  07          	rlca
2722  0CA7  E6 0F       	and	a,0x0f
2723  0CA9  4F          	ld	c, a
2724  0CAA  DD CB FF 7E 	bit	7,(ix-1)
2725  0CAE  28 62       	jr	Z,l_player_move_jump_00147
2726  0CB0  21 00 00    	ld	hl,_s_state
2727  0CB3  7E          	ld	a,(hl)
2728  0CB4  F6 01       	or	a,0x01
2729  0CB6  E6 FD       	and	a,0xfd
2730  0CB8  77          	ld	(hl),a
2731  0CB9  21 00 00    	ld	hl,_s_lin1
2732  0CBC  46          	ld	b, (hl)
2733  0CBD  79          	ld	a, c
2734  0CBE  90          	sub	a, b
2735  0CBF  20 04       	jr	NZ,l_player_move_jump_00266
2736  0CC1  3E 01       	ld	a,0x01
2737  0CC3  18 01       	jr	l_player_move_jump_00267
2738  0CC5              l_player_move_jump_00266:
2739  0CC5  AF          	xor	a,a
2740  0CC6              l_player_move_jump_00267:
2741  0CC6  EE 01       	xor	a,0x01
2742  0CC8  4F          	ld	c,a
2743  0CC9  B7          	or	a, a
2744  0CCA  28 3D       	jr	Z,l_player_move_jump_00131
2745  0CCC  21 07 00    	ld	hl,+(_col + 0x0007)
2746  0CCF  46          	ld	b, (hl)
2747  0CD0  C5          	push	bc
2748  0CD1  33          	inc	sp
2749  0CD2  3A 00 00    	ld	a,(_s_lin1)
2750  0CD5  F5          	push	af
2751  0CD6  33          	inc	sp
2752  0CD7  CD 00 00    	call	_game_check_map
2753  0CDA  F1          	pop	af
2754  0CDB  7C          	ld	a,h
2755  0CDC  B5          	or	a,l
2756  0CDD  28 21       	jr	Z,l_player_move_jump_00128
2757  0CDF  CD 87 07    	call	_player_hit_platform
2758  0CE2  7D          	ld	a, l
2759  0CE3  B7          	or	a, a
2760  0CE4  28 12       	jr	Z,l_player_move_jump_00126
2761  0CE6  3A 07 00    	ld	a,(_lin + 0x0007)
2762  0CE9  07          	rlca
2763  0CEA  07          	rlca
2764  0CEB  07          	rlca
2765  0CEC  07          	rlca
2766  0CED  E6 0F       	and	a,0x0f
2767  0CEF  07          	rlca
2768  0CF0  07          	rlca
2769  0CF1  07          	rlca
2770  0CF2  07          	rlca
2771  0CF3  E6 F0       	and	a,0xf0
2772  0CF5  32 07 00    	ld	((_lin + 0x0007)),a
2773  0CF8              l_player_move_jump_00126:
2774  0CF8  21 00 00    	ld	hl,_player_vel_y
2775  0CFB  36 00       	ld	(hl),0x00
2776  0CFD  C3 C0 0D    	jp	l_player_move_jump_00148
2777  0D00              l_player_move_jump_00128:
2778  0D00  3A 00 00    	ld	a,(_s_lin1)
2779  0D03  32 07 00    	ld	((_lin + 0x0007)),a
2780  0D06  C3 C0 0D    	jp	l_player_move_jump_00148
2781  0D09              l_player_move_jump_00131:
2782  0D09  3A 00 00    	ld	a,(_s_lin1)
2783  0D0C  32 07 00    	ld	((_lin + 0x0007)),a
2784  0D0F  C3 C0 0D    	jp	l_player_move_jump_00148
2785  0D12              l_player_move_jump_00147:
2786  0D12  21 00 00    	ld	hl,_s_state
2787  0D15  7E          	ld	a,(hl)
2788  0D16  F6 02       	or	a,0x02
2789  0D18  E6 FE       	and	a,0xfe
2790  0D1A  77          	ld	(hl),a
2791  0D1B  21 00 00    	ld	hl,_s_lin1
2792  0D1E  7E          	ld	a, (hl)
2793  0D1F  C6 10       	add	a,0x10
2794  0D21  77          	ld	(hl),a
2795  0D22  47          	ld	b,a
2796  0D23  79          	ld	a, c
2797  0D24  90          	sub	a, b
2798  0D25  20 04       	jr	NZ,l_player_move_jump_00268
2799  0D27  3E 01       	ld	a,0x01
2800  0D29  18 01       	jr	l_player_move_jump_00269
2801  0D2B              l_player_move_jump_00268:
2802  0D2B  AF          	xor	a,a
2803  0D2C              l_player_move_jump_00269:
2804  0D2C  EE 01       	xor	a,0x01
2805  0D2E  4F          	ld	c,a
2806  0D2F  B7          	or	a, a
2807  0D30  CA B3 0D    	jp	Z, l_player_move_jump_00144
2808  0D33  21 07 00    	ld	hl,+(_col + 0x0007)
2809  0D36  46          	ld	b, (hl)
2810  0D37  C5          	push	bc
2811  0D38  33          	inc	sp
2812  0D39  3A 00 00    	ld	a,(_s_lin1)
2813  0D3C  F5          	push	af
2814  0D3D  33          	inc	sp
2815  0D3E  CD 00 00    	call	_game_check_map
2816  0D41  F1          	pop	af
2817  0D42  45          	ld	b, l
2818  0D43  5C          	ld	e, h
2819  0D44  21 00 00    	ld	hl,_s_lin1
2820  0D47  7E          	ld	a, (hl)
2821  0D48  C6 F0       	add	a,0xf0
2822  0D4A  4F          	ld	c, a
2823  0D4B  7B          	ld	a, e
2824  0D4C  B0          	or	a,b
2825  0D4D  28 58       	jr	Z,l_player_move_jump_00141
2826  0D4F  71          	ld	(hl), c
2827  0D50  2E 00       	ld	l,0x00
2828  0D52  CD 40 03    	call	_player_check_stairs
2829  0D55  3A 00 00    	ld	a,(_player_over_stair)
2830  0D58  B7          	or	a, a
2831  0D59  20 05       	jr	NZ,l_player_move_jump_00134
2832  0D5B  2E 01       	ld	l,0x01
2833  0D5D  CD 40 03    	call	_player_check_stairs
2834  0D60              l_player_move_jump_00134:
2835  0D60  3A 00 00    	ld	a,(_player_over_stair)
2836  0D63  B7          	or	a, a
2837  0D64  20 2C       	jr	NZ,l_player_move_jump_00139
2838  0D66  21 00 00    	ld	hl,_s_lin1
2839  0D69  7E          	ld	a, (hl)
2840  0D6A  07          	rlca
2841  0D6B  07          	rlca
2842  0D6C  07          	rlca
2843  0D6D  07          	rlca
2844  0D6E  E6 0F       	and	a,0x0f
2845  0D70  07          	rlca
2846  0D71  07          	rlca
2847  0D72  07          	rlca
2848  0D73  07          	rlca
2849  0D74  E6 F0       	and	a,0xf0
2850  0D76  77          	ld	(hl), a
2851  0D77  21 07 00    	ld	hl,+(_lin + 0x0007)
2852  0D7A  4E          	ld	c, (hl)
2853  0D7B  21 00 00    	ld	hl,_s_lin1
2854  0D7E  7E          	ld	a, (hl)
2855  0D7F  91          	sub	a, c
2856  0D80  30 0A       	jr	NC,l_player_move_jump_00136
2857  0D82  7E          	ld	a, (hl)
2858  0D83  C6 10       	add	a,0x10
2859  0D85  32 07 00    	ld	((_lin + 0x0007)),a
2860  0D88  2E 00       	ld	l,0x00
2861  0D8A  18 72       	jr	l_player_move_jump_00158
2862  0D8C              l_player_move_jump_00136:
2863  0D8C  3A 00 00    	ld	a,(_s_lin1)
2864  0D8F  32 07 00    	ld	((_lin + 0x0007)),a
2865  0D92              l_player_move_jump_00139:
2866  0D92  21 00 00    	ld	hl,_player_vel_y
2867  0D95  36 00       	ld	(hl),0x00
2868  0D97  21 00 00    	ld	hl,_s_state
2869  0D9A  7E          	ld	a,(hl)
2870  0D9B  E6 FC       	and	a,+(0xfd&0xfe)
2871  0D9D  77          	ld	(hl),a
2872  0D9E  21 07 00    	ld	hl, +(_colint + 0x0007)
2873  0DA1  36 00       	ld	(hl),0x00
2874  0DA3  2E 01       	ld	l,0x01
2875  0DA5  18 57       	jr	l_player_move_jump_00158
2876  0DA7              l_player_move_jump_00141:
2877  0DA7  21 00 00    	ld	hl,_s_lin1
2878  0DAA  71          	ld	(hl), c
2879  0DAB  3A 00 00    	ld	a,(_s_lin1)
2880  0DAE  32 07 00    	ld	((_lin + 0x0007)),a
2881  0DB1  18 0D       	jr	l_player_move_jump_00148
2882  0DB3              l_player_move_jump_00144:
2883  0DB3  21 00 00    	ld	hl,_s_lin1
2884  0DB6  7E          	ld	a, (hl)
2885  0DB7  C6 F0       	add	a,0xf0
2886  0DB9  77          	ld	(hl), a
2887  0DBA  3A 00 00    	ld	a,(_s_lin1)
2888  0DBD  32 07 00    	ld	((_lin + 0x0007)),a
2889  0DC0              l_player_move_jump_00148:
2890  0DC0  21 00 00    	ld	hl,_s_state
2891  0DC3  CB 5E       	bit	3, (hl)
2892  0DC5  20 27       	jr	NZ,l_player_move_jump_00154
2893  0DC7  21 00 00    	ld	hl,_s_state
2894  0DCA  CB 56       	bit	2, (hl)
2895  0DCC  20 20       	jr	NZ,l_player_move_jump_00154
2896  0DCE  21 00 00    	ld	hl,_dirs
2897  0DD1  CB 56       	bit	2, (hl)
2898  0DD3  28 09       	jr	Z,l_player_move_jump_00150
2899  0DD5  21 00 00    	ld	hl,_s_state
2900  0DD8  7E          	ld	a,(hl)
2901  0DD9  F6 08       	or	a,0x08
2902  0DDB  E6 FB       	and	a,0xfb
2903  0DDD  77          	ld	(hl),a
2904  0DDE              l_player_move_jump_00150:
2905  0DDE  21 00 00    	ld	hl,_dirs
2906  0DE1  CB 5E       	bit	3, (hl)
2907  0DE3  28 09       	jr	Z,l_player_move_jump_00154
2908  0DE5  21 00 00    	ld	hl,_s_state
2909  0DE8  7E          	ld	a,(hl)
2910  0DE9  F6 04       	or	a,0x04
2911  0DEB  E6 F7       	and	a,0xf7
2912  0DED  77          	ld	(hl),a
2913  0DEE              l_player_move_jump_00154:
2914  0DEE  CD 00 00    	call	_spr_move_horizontal
2915  0DF1  7D          	ld	a, l
2916  0DF2  B7          	or	a, a
2917  0DF3  28 07       	jr	Z,l_player_move_jump_00157
2918  0DF5  21 00 00    	ld	hl,_s_state
2919  0DF8  7E          	ld	a,(hl)
2920  0DF9  E6 F3       	and	a,+(0xf7&0xfb)
2921  0DFB  77          	ld	(hl),a
2922  0DFC              l_player_move_jump_00157:
2923  0DFC  2E 00       	ld	l,0x00
2924  0DFE              l_player_move_jump_00158:
2925  0DFE  F1          	pop	af
2926  0DFF  DD E1       	pop	ix
2927  0E01  C9          	ret
2928  0E02              	SECTION code_compiler
2929  0E02              ;	---------------------------------
2930  0E02              ; Function player_open_door
2931  0E02              ; ---------------------------------
2932  0E02              _player_open_door:
2933  0E02  CD 00 00    	call	___sdcc_enter_ix
2934  0E05  0E 00       	ld	c,0x00
2935  0E07  DD 7E 06    	ld	a,(ix+6)
2936  0E0A  D6 48       	sub	a,0x48
2937  0E0C  28 17       	jr	Z,l_player_open_door_00101
2938  0E0E  DD 7E 06    	ld	a,(ix+6)
2939  0E11  D6 49       	sub	a,0x49
2940  0E13  28 1F       	jr	Z,l_player_open_door_00104
2941  0E15  DD 7E 06    	ld	a,(ix+6)
2942  0E18  D6 4A       	sub	a,0x4a
2943  0E1A  28 27       	jr	Z,l_player_open_door_00107
2944  0E1C  DD 7E 06    	ld	a,(ix+6)
2945  0E1F  D6 4B       	sub	a,0x4b
2946  0E21  28 2F       	jr	Z,l_player_open_door_00110
2947  0E23  18 3A       	jr	l_player_open_door_00113
2948  0E25              l_player_open_door_00101:
2949  0E25  3A 00 00    	ld	a,(_player_keys)
2950  0E28  B7          	or	a, a
2951  0E29  28 34       	jr	Z,l_player_open_door_00113
2952  0E2B  2E 07       	ld	l,0x07
2953  0E2D  CD 00 00    	call	_zx_border_fastcall
2954  0E30  0E 01       	ld	c,0x01
2955  0E32  18 2B       	jr	l_player_open_door_00113
2956  0E34              l_player_open_door_00104:
2957  0E34  3A 01 00    	ld	a,(_player_keys + 0x0001)
2958  0E37  B7          	or	a, a
2959  0E38  28 25       	jr	Z,l_player_open_door_00113
2960  0E3A  2E 02       	ld	l,0x02
2961  0E3C  CD 00 00    	call	_zx_border_fastcall
2962  0E3F  0E 01       	ld	c,0x01
2963  0E41  18 1C       	jr	l_player_open_door_00113
2964  0E43              l_player_open_door_00107:
2965  0E43  3A 02 00    	ld	a,(_player_keys + 0x0002)
2966  0E46  B7          	or	a, a
2967  0E47  28 16       	jr	Z,l_player_open_door_00113
2968  0E49  2E 04       	ld	l,0x04
2969  0E4B  CD 00 00    	call	_zx_border_fastcall
2970  0E4E  0E 01       	ld	c,0x01
2971  0E50  18 0D       	jr	l_player_open_door_00113
2972  0E52              l_player_open_door_00110:
2973  0E52  3A 03 00    	ld	a,(_player_keys + 0x0003)
2974  0E55  B7          	or	a, a
2975  0E56  28 07       	jr	Z,l_player_open_door_00113
2976  0E58  2E 05       	ld	l,0x05
2977  0E5A  CD 00 00    	call	_zx_border_fastcall
2978  0E5D  0E 01       	ld	c,0x01
2979  0E5F              l_player_open_door_00113:
2980  0E5F  79          	ld	a, c
2981  0E60  B7          	or	a, a
2982  0E61  20 06       	jr	NZ,l_player_open_door_00114
2983  0E63  3A 00 00    	ld	a,(_game_inmune)
2984  0E66  B7          	or	a, a
2985  0E67  28 24       	jr	Z,l_player_open_door_00117
2986  0E69              l_player_open_door_00114:
2987  0E69  3E 00       	ld	a, +((_scr_map) & 0xFF)
2988  0E6B  DD 86 04    	add	a,(ix+4)
2989  0E6E  4F          	ld	c, a
2990  0E6F  3E 00       	ld	a, +((_scr_map) / 256)
2991  0E71  DD 8E 05    	adc	a,(ix+5)
2992  0E74  47          	ld	b, a
2993  0E75  AF          	xor	a, a
2994  0E76  02          	ld	(bc), a
2995  0E77  DD 6E 04    	ld	l,(ix+4)
2996  0E7A  DD 66 05    	ld	h,(ix+5)
2997  0E7D  E5          	push	hl
2998  0E7E  CD 00 00    	call	_game_obj_set
2999  0E81  F1          	pop	af
3000  0E82  DD 6E 04    	ld	l,(ix+4)
3001  0E85  DD 66 05    	ld	h,(ix+5)
3002  0E88  E5          	push	hl
3003  0E89  CD 00 00    	call	_spr_draw_index
3004  0E8C  F1          	pop	af
3005  0E8D              l_player_open_door_00117:
3006  0E8D  DD E1       	pop	ix
3007  0E8F  C9          	ret
3008  0E90              	SECTION code_compiler
3009  0E90              ;	---------------------------------
3010  0E90              ; Function player_lost_life
3011  0E90              ; ---------------------------------
3012  0E90              _player_lost_life:
3013  0E90  CD 00 00    	call	___sdcc_enter_ix
3014  0E93  3B          	dec	sp
3015  0E94  3A 07 00    	ld	a,(_lin + 0x0007)
3016  0E97  32 00 00    	ld	(_s_lin0),a
3017  0E9A  3A 07 00    	ld	a,(_col + 0x0007)
3018  0E9D  32 00 00    	ld	(_s_col0),a
3019  0EA0  CD 00 00    	call	_spr_init_anim_bullets
3020  0EA3  01 00 00    	ld	bc,_anim_lin+0
3021  0EA6  16 00       	ld	d,0x00
3022  0EA8              l_player_lost_life_00115:
3023  0EA8  C5          	push	bc
3024  0EA9  D5          	push	de
3025  0EAA  21 00 00    	ld	hl,0x0000
3026  0EAD  E5          	push	hl
3027  0EAE  AF          	xor	a, a
3028  0EAF  5A          	ld	e,d
3029  0EB0  57          	ld	d,a
3030  0EB1  D5          	push	de
3031  0EB2  CD 00 00    	call	_NIRVANAP_spriteT_callee
3032  0EB5  D1          	pop	de
3033  0EB6  C1          	pop	bc
3034  0EB7  6A          	ld	l,d
3035  0EB8  26 00       	ld	h,0x00
3036  0EBA  09          	add	hl, bc
3037  0EBB  36 FF       	ld	(hl),0xff
3038  0EBD  14          	inc	d
3039  0EBE  7A          	ld	a, d
3040  0EBF  D6 08       	sub	a,0x08
3041  0EC1  38 E5       	jr	C,l_player_lost_life_00115
3042  0EC3  21 00 00    	ld	hl,_anim_count
3043  0EC6  36 00       	ld	(hl),0x00
3044  0EC8  76          	halt
3045  0EC9  3A 00 00    	ld	a,(_s_lin0)
3046  0ECC  C6 F0       	add	a,0xf0
3047  0ECE  47          	ld	b, a
3048  0ECF  3A 00 00    	ld	a,(_s_col0)
3049  0ED2  21 00 00    	ld	hl,0x0000
3050  0ED5  E5          	push	hl
3051  0ED6  21 87 03    	ld	hl,0x0387
3052  0ED9  E5          	push	hl
3053  0EDA  48          	ld	c,b
3054  0EDB  47          	ld	b,a
3055  0EDC  C5          	push	bc
3056  0EDD  CD 00 00    	call	_spr_add_anim
3057  0EE0  F1          	pop	af
3058  0EE1  F1          	pop	af
3059  0EE2  F1          	pop	af
3060  0EE3  21 00 00    	ld	hl,_s_col0
3061  0EE6  46          	ld	b, (hl)
3062  0EE7  05          	dec	b
3063  0EE8  05          	dec	b
3064  0EE9  21 00 00    	ld	hl,0x0000
3065  0EEC  E5          	push	hl
3066  0EED  21 87 03    	ld	hl,0x0387
3067  0EF0  E5          	push	hl
3068  0EF1  C5          	push	bc
3069  0EF2  33          	inc	sp
3070  0EF3  3A 00 00    	ld	a,(_s_lin0)
3071  0EF6  F5          	push	af
3072  0EF7  33          	inc	sp
3073  0EF8  CD 00 00    	call	_spr_add_anim
3074  0EFB  F1          	pop	af
3075  0EFC  F1          	pop	af
3076  0EFD  21 00 00    	ld	hl,0x0000
3077  0F00  E3          	ex	(sp),hl
3078  0F01  3A 00 00    	ld	a,(_s_col0)
3079  0F04  21 87 03    	ld	hl,0x0387
3080  0F07  E5          	push	hl
3081  0F08  F5          	push	af
3082  0F09  33          	inc	sp
3083  0F0A  3A 00 00    	ld	a,(_s_lin0)
3084  0F0D  F5          	push	af
3085  0F0E  33          	inc	sp
3086  0F0F  CD 00 00    	call	_spr_add_anim
3087  0F12  F1          	pop	af
3088  0F13  F1          	pop	af
3089  0F14  F1          	pop	af
3090  0F15  21 00 00    	ld	hl,_s_col0
3091  0F18  46          	ld	b, (hl)
3092  0F19  04          	inc	b
3093  0F1A  04          	inc	b
3094  0F1B  21 00 00    	ld	hl,0x0000
3095  0F1E  E5          	push	hl
3096  0F1F  21 87 03    	ld	hl,0x0387
3097  0F22  E5          	push	hl
3098  0F23  C5          	push	bc
3099  0F24  33          	inc	sp
3100  0F25  3A 00 00    	ld	a,(_s_lin0)
3101  0F28  F5          	push	af
3102  0F29  33          	inc	sp
3103  0F2A  CD 00 00    	call	_spr_add_anim
3104  0F2D  F1          	pop	af
3105  0F2E  F1          	pop	af
3106  0F2F  F1          	pop	af
3107  0F30  3A 00 00    	ld	a,(_s_lin0)
3108  0F33  C6 10       	add	a,0x10
3109  0F35  47          	ld	b, a
3110  0F36  3A 00 00    	ld	a,(_s_col0)
3111  0F39  21 00 00    	ld	hl,0x0000
3112  0F3C  E5          	push	hl
3113  0F3D  21 87 03    	ld	hl,0x0387
3114  0F40  E5          	push	hl
3115  0F41  48          	ld	c,b
3116  0F42  47          	ld	b,a
3117  0F43  C5          	push	bc
3118  0F44  CD 00 00    	call	_spr_add_anim
3119  0F47  F1          	pop	af
3120  0F48  F1          	pop	af
3121  0F49  F1          	pop	af
3122  0F4A  2E 00       	ld	l,0x00
3123  0F4C  CD 00 00    	call	_zx_border_fastcall
3124  0F4F  DD 36 FF 01 	ld	(ix-1),0x01
3125  0F53  2A 00 00    	ld	hl,(_curr_time)
3126  0F56  22 00 00    	ld	(_anim_time),hl
3127  0F59              l_player_lost_life_00107:
3128  0F59  DD 7E FF    	ld	a,(ix-1)
3129  0F5C  B7          	or	a, a
3130  0F5D  28 28       	jr	Z,l_player_lost_life_00109
3131  0F5F  21 0C 00    	ld	hl,0x000c
3132  0F62  E5          	push	hl
3133  0F63  2A 00 00    	ld	hl,(_anim_time)
3134  0F66  E5          	push	hl
3135  0F67  CD 00 00    	call	_game_check_time
3136  0F6A  F1          	pop	af
3137  0F6B  F1          	pop	af
3138  0F6C  7D          	ld	a, l
3139  0F6D  B7          	or	a, a
3140  0F6E  28 E9       	jr	Z,l_player_lost_life_00107
3141  0F70  2A 00 00    	ld	hl,(_curr_time)
3142  0F73  22 00 00    	ld	(_anim_time),hl
3143  0F76  3A 00 00    	ld	a,(_anim_count)
3144  0F79  B7          	or	a,a
3145  0F7A  28 05       	jr	Z,l_player_lost_life_00103
3146  0F7C  CD 00 00    	call	_spr_play_anim
3147  0F7F  18 D8       	jr	l_player_lost_life_00107
3148  0F81              l_player_lost_life_00103:
3149  0F81  DD 36 FF 00 	ld	(ix-1),0x00
3150  0F85  18 D2       	jr	l_player_lost_life_00107
3151  0F87              l_player_lost_life_00109:
3152  0F87  21 00 00    	ld	hl,_sprite
3153  0F8A  36 00       	ld	(hl),0x00
3154  0F8C              l_player_lost_life_00117:
3155  0F8C  3A 07 00    	ld	a,(_class + 0x0007)
3156  0F8F  B7          	or	a, a
3157  0F90  28 1F       	jr	Z,l_player_lost_life_00111
3158  0F92  21 07 00    	ld	hl,+(_col + 0x0007)
3159  0F95  4E          	ld	c, (hl)
3160  0F96  21 07 00    	ld	hl,+(_lin + 0x0007)
3161  0F99  56          	ld	d, (hl)
3162  0F9A  21 07 00    	ld	hl,+(_tile + 0x0007)
3163  0F9D  5E          	ld	e, (hl)
3164  0F9E  21 07 00    	ld	hl,+(_colint + 0x0007)
3165  0FA1  46          	ld	b, (hl)
3166  0FA2  7B          	ld	a, e
3167  0FA3  80          	add	a, b
3168  0FA4  5F          	ld	e, a
3169  0FA5  79          	ld	a, c
3170  0FA6  F5          	push	af
3171  0FA7  33          	inc	sp
3172  0FA8  3A 00 00    	ld	a,(_sprite)
3173  0FAB  D5          	push	de
3174  0FAC  F5          	push	af
3175  0FAD  33          	inc	sp
3176  0FAE  CD 00 00    	call	_NIRVANAP_spriteT_callee
3177  0FB1              l_player_lost_life_00111:
3178  0FB1  21 07 00    	ld	hl, +(_class + 0x0007)
3179  0FB4  36 00       	ld	(hl),0x00
3180  0FB6  21 07 00    	ld	hl, +(_bullet_col + 0x0007)
3181  0FB9  36 FF       	ld	(hl),0xff
3182  0FBB  21 00 00    	ld	hl,_sprite
3183  0FBE  7E          	ld	a,(hl)
3184  0FBF  3C          	inc	a
3185  0FC0  77          	ld	(hl),a
3186  0FC1  D6 07       	sub	a,0x07
3187  0FC3  38 C7       	jr	C,l_player_lost_life_00117
3188  0FC5  3A 00 00    	ld	a,(_player_lives)
3189  0FC8  B7          	or	a, a
3190  0FC9  28 09       	jr	Z,l_player_lost_life_00119
3191  0FCB  21 F4 01    	ld	hl,0x01f4
3192  0FCE  CD 00 00    	call	_z80_delay_ms_fastcall
3193  0FD1  CD 00 00    	call	_game_round_init
3194  0FD4              l_player_lost_life_00119:
3195  0FD4  33          	inc	sp
3196  0FD5  DD E1       	pop	ix
3197  0FD7  C9          	ret
3198  0FD8              	SECTION code_compiler
3199  0FD8              ;	---------------------------------
3200  0FD8              ; Function player_hit
3201  0FD8              ; ---------------------------------
3202  0FD8              _player_hit:
3203  0FD8  7D          	ld	a,l
3204  0FD9  4D          	ld	c,l
3205  0FDA  21 00 00    	ld	hl,_player_vita
3206  0FDD  96          	sub	a, (hl)
3207  0FDE  30 17       	jr	NC,l_player_hit_00107
3208  0FE0  3A 00 00    	ld	a,(_game_inmune)
3209  0FE3  B7          	or	a, a
3210  0FE4  20 06       	jr	NZ,l_player_hit_00102
3211  0FE6  21 00 00    	ld	hl,_player_vita
3212  0FE9  7E          	ld	a, (hl)
3213  0FEA  91          	sub	a, c
3214  0FEB  77          	ld	(hl), a
3215  0FEC              l_player_hit_00102:
3216  0FEC  2A 00 00    	ld	hl,(_curr_time)
3217  0FEF  22 00 00    	ld	(_player_hit_time),hl
3218  0FF2  CD 00 00    	call	_game_update_stats
3219  0FF5  18 2C       	jr	l_player_hit_00109
3220  0FF7              l_player_hit_00107:
3221  0FF7  21 00 00    	ld	hl,_player_vita
3222  0FFA  36 00       	ld	(hl),0x00
3223  0FFC  CD 00 00    	call	_game_update_stats
3224  0FFF  CD 90 0E    	call	_player_lost_life
3225  1002  21 00 00    	ld	hl,_player_lives
3226  1005  7E          	ld	a, (hl)
3227  1006  B7          	or	a, a
3228  1007  28 10       	jr	Z,l_player_hit_00104
3229  1009  35          	dec	(hl)
3230  100A  21 00 00    	ld	hl,_player_mana
3231  100D  36 64       	ld	(hl),0x64
3232  100F  21 00 00    	ld	hl,_player_vita
3233  1012  36 64       	ld	(hl),0x64
3234  1014  CD 00 00    	call	_game_update_stats
3235  1017  18 0A       	jr	l_player_hit_00109
3236  1019              l_player_hit_00104:
3237  1019  21 00 00    	ld	hl,_player_lives
3238  101C  36 00       	ld	(hl),0x00
3239  101E  21 00 00    	ld	hl,_game_over
3240  1021  36 01       	ld	(hl),0x01
3241  1023              l_player_hit_00109:
3242  1023  C9          	ret
3243  1024              	SECTION IGNORE
3244  0000              
