1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_init
189   0000              	GLOBAL _player_calc_slide
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_lost_life
195   0000              	GLOBAL _player_turn
196   0000              	GLOBAL _player_move
197   0000              	GLOBAL _player_pick_item
198   0000              	GLOBAL _player_move_input
199   0000              	GLOBAL _player_hit_brick
200   0000              	GLOBAL _player_hit_brick_clear
201   0000              	GLOBAL _player_coin
202   0000              	GLOBAL _player_score_add
203   0000              	GLOBAL _player_check_floor
204   0000              ;--------------------------------------------------------
205   0000              ; Externals used
206   0000              ;--------------------------------------------------------
207   0000              	GLOBAL _debug3
208   0000              	GLOBAL _debug2
209   0000              	GLOBAL _debug
210   0000              	GLOBAL _zx_print_str
211   0000              	GLOBAL _zx_print_int
212   0000              	GLOBAL _zx_print_chr
213   0000              	GLOBAL _zx_print_bonus_time
214   0000              	GLOBAL _zx_isr
215   0000              	GLOBAL _z80_otdr_callee
216   0000              	GLOBAL _z80_otdr
217   0000              	GLOBAL _z80_otir_callee
218   0000              	GLOBAL _z80_otir
219   0000              	GLOBAL _z80_outp_callee
220   0000              	GLOBAL _z80_outp
221   0000              	GLOBAL _z80_indr_callee
222   0000              	GLOBAL _z80_indr
223   0000              	GLOBAL _z80_inir_callee
224   0000              	GLOBAL _z80_inir
225   0000              	GLOBAL _z80_inp_fastcall
226   0000              	GLOBAL _z80_inp
227   0000              	GLOBAL _z80_set_int_state_fastcall
228   0000              	GLOBAL _z80_set_int_state
229   0000              	GLOBAL _z80_get_int_state
230   0000              	GLOBAL _z80_delay_tstate_fastcall
231   0000              	GLOBAL _z80_delay_tstate
232   0000              	GLOBAL _z80_delay_ms_fastcall
233   0000              	GLOBAL _z80_delay_ms
234   0000              	GLOBAL _im2_remove_generic_callback_callee
235   0000              	GLOBAL _im2_remove_generic_callback
236   0000              	GLOBAL _im2_prepend_generic_callback_callee
237   0000              	GLOBAL _im2_prepend_generic_callback
238   0000              	GLOBAL _im2_append_generic_callback_callee
239   0000              	GLOBAL _im2_append_generic_callback
240   0000              	GLOBAL _im2_create_generic_isr_8080_callee
241   0000              	GLOBAL _im2_create_generic_isr_8080
242   0000              	GLOBAL _im2_create_generic_isr_callee
243   0000              	GLOBAL _im2_create_generic_isr
244   0000              	GLOBAL _im2_install_isr_callee
245   0000              	GLOBAL _im2_install_isr
246   0000              	GLOBAL _im2_init_fastcall
247   0000              	GLOBAL _im2_init
248   0000              	GLOBAL _sound_hit_brick
249   0000              	GLOBAL _sound_hit_enemy
250   0000              	GLOBAL _sound_kill
251   0000              	GLOBAL _sound_enter_enemy
252   0000              	GLOBAL _sound_coin
253   0000              	GLOBAL _sound_jump
254   0000              	GLOBAL _sound_slide
255   0000              	GLOBAL _spr_page_map
256   0000              	GLOBAL _spr_page_right
257   0000              	GLOBAL _spr_page_left
258   0000              	GLOBAL _spr_tile_paint
259   0000              	GLOBAL _spr_kill_all
260   0000              	GLOBAL _spr_collision_check
261   0000              	GLOBAL _spr_calc_hor
262   0000              	GLOBAL _spr_draw_row
263   0000              	GLOBAL _spr_draw_index
264   0000              	GLOBAL _spr_draw_clear
265   0000              	GLOBAL _spr_draw_background
266   0000              	GLOBAL _spr_brick_anim
267   0000              	GLOBAL _spr_back_paint
268   0000              	GLOBAL _spr_back_clr
269   0000              	GLOBAL _spr_tile
270   0000              	GLOBAL _spr_set_fall
271   0000              	GLOBAL _spr_destroy
272   0000              	GLOBAL _spr_tile_dir
273   0000              	GLOBAL _spr_anim_kill
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_check_map
282   0000              	GLOBAL _spr_calc_index
283   0000              	GLOBAL _spr_chktime
284   0000              	GLOBAL _game_joystick_set_menu
285   0000              	GLOBAL _game_joystick_set
286   0000              	GLOBAL _game_joystick_change
287   0000              	GLOBAL _game_print_header
288   0000              	GLOBAL _game_end
289   0000              	GLOBAL _game_score_osd
290   0000              	GLOBAL _game_phase_print_score_back
291   0000              	GLOBAL _game_bonus_clock
292   0000              	GLOBAL _game_bonus_summary_player
293   0000              	GLOBAL _game_bonus_summary
294   0000              	GLOBAL _game_check_time
295   0000              	GLOBAL _game_menu_config
296   0000              	GLOBAL _game_menu
297   0000              	GLOBAL _game_rotate_attrib
298   0000              	GLOBAL _game_colour_message
299   0000              	GLOBAL _game_paint_attrib_lin_h
300   0000              	GLOBAL _game_paint_attrib_lin
301   0000              	GLOBAL _game_paint_attrib
302   0000              	GLOBAL _game_menu_paint
303   0000              	GLOBAL _game_menu_top_paint
304   0000              	GLOBAL _game_menu_handle
305   0000              	GLOBAL _game_menu_e
306   0000              	GLOBAL _game_menu_back
307   0000              	GLOBAL _game_print_score
308   0000              	GLOBAL _game_unfreeze_all
309   0000              	GLOBAL _game_freeze_all
310   0000              	GLOBAL _game_freeze
311   0000              	GLOBAL _game_enemy_add_get_index
312   0000              	GLOBAL _game_check_maze_floor
313   0000              	GLOBAL _game_check_maze
314   0000              	GLOBAL _game_loop
315   0000              	GLOBAL _game_phase_init
316   0000              	GLOBAL _game_start_timer
317   0000              	GLOBAL _game_tick
318   0000              	GLOBAL _game_print_lives
319   0000              	GLOBAL _game_print_footer
320   0000              	GLOBAL _game_fill_row
321   0000              	GLOBAL _enemy_ugly_fix
322   0000              	GLOBAL _enemy_kill
323   0000              	GLOBAL _enemy_init
324   0000              	GLOBAL _enemy_walk
325   0000              	GLOBAL _enemy_upgrade
326   0000              	GLOBAL _enemy_evolve
327   0000              	GLOBAL _enemy_standard_hit
328   0000              	GLOBAL _enemy_trip_move
329   0000              	GLOBAL _enemy_trip
330   0000              	GLOBAL _enemy_fighterfly
331   0000              	GLOBAL _enemy_fireball_green
332   0000              	GLOBAL _enemy_fireball_red
333   0000              	GLOBAL _enemy_slipice
334   0000              	GLOBAL _enemy_standard
335   0000              	GLOBAL _enemy_turn
336   0000              	GLOBAL _enemy_flip_sidestepper
337   0000              	GLOBAL _enemy_flip
338   0000              	GLOBAL _enemy_flip_change_dir
339   0000              	GLOBAL _enemy_hit
340   0000              	GLOBAL _enemy_collision_turn_dir
341   0000              	GLOBAL _enemy_collision
342   0000              	GLOBAL _enemy_coin1
343   0000              	GLOBAL _ay_fx_play
344   0000              	GLOBAL _ay_midi_play
345   0000              	GLOBAL _ay_is_playing
346   0000              	GLOBAL _ay_reset
347   0000              	GLOBAL _player_hit_pow
348   0000              	GLOBAL _test_func
349   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
350   0000              	GLOBAL _NIRVANAP_drawTW_raw
351   0000              	GLOBAL _NIRVANAP_drawTW_callee
352   0000              	GLOBAL _NIRVANAP_drawTW
353   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
354   0000              	GLOBAL _NIRVANAP_drawW_raw
355   0000              	GLOBAL _NIRVANAP_drawW_callee
356   0000              	GLOBAL _NIRVANAP_drawW
357   0000              	GLOBAL _NIRVANAP_spriteT_callee
358   0000              	GLOBAL _NIRVANAP_spriteT
359   0000              	GLOBAL _NIRVANAP_fillC_callee
360   0000              	GLOBAL _NIRVANAP_fillC
361   0000              	GLOBAL _NIRVANAP_readC_callee
362   0000              	GLOBAL _NIRVANAP_readC
363   0000              	GLOBAL _NIRVANAP_paintC_callee
364   0000              	GLOBAL _NIRVANAP_paintC
365   0000              	GLOBAL _NIRVANAP_printC_callee
366   0000              	GLOBAL _NIRVANAP_printC
367   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
368   0000              	GLOBAL _NIRVANAP_fillT_raw
369   0000              	GLOBAL _NIRVANAP_fillT_callee
370   0000              	GLOBAL _NIRVANAP_fillT
371   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
372   0000              	GLOBAL _NIRVANAP_drawT_raw
373   0000              	GLOBAL _NIRVANAP_drawT_callee
374   0000              	GLOBAL _NIRVANAP_drawT
375   0000              	GLOBAL _NIRVANAP_stop
376   0000              	GLOBAL _NIRVANAP_start
377   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
378   0000              	GLOBAL _intrinsic_swap_word_32
379   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
380   0000              	GLOBAL _intrinsic_swap_endian_32
381   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
382   0000              	GLOBAL _intrinsic_swap_endian_16
383   0000              	GLOBAL _intrinsic_return_de
384   0000              	GLOBAL _intrinsic_return_bc
385   0000              	GLOBAL _intrinsic_exx
386   0000              	GLOBAL _intrinsic_ex_de_hl
387   0000              	GLOBAL _intrinsic_nop
388   0000              	GLOBAL _intrinsic_im_2
389   0000              	GLOBAL _intrinsic_im_1
390   0000              	GLOBAL _intrinsic_im_0
391   0000              	GLOBAL _intrinsic_retn
392   0000              	GLOBAL _intrinsic_reti
393   0000              	GLOBAL _intrinsic_halt
394   0000              	GLOBAL _intrinsic_ei
395   0000              	GLOBAL _intrinsic_di
396   0000              	GLOBAL _intrinsic_stub
397   0000              	GLOBAL _intrinsic_outi
398   0000              	GLOBAL _intrinsic_ldi
399   0000              	GLOBAL _ulltoa_callee
400   0000              	GLOBAL _ulltoa
401   0000              	GLOBAL _strtoull_callee
402   0000              	GLOBAL _strtoull
403   0000              	GLOBAL _strtoll_callee
404   0000              	GLOBAL _strtoll
405   0000              	GLOBAL _lltoa_callee
406   0000              	GLOBAL _lltoa
407   0000              	GLOBAL _llabs_callee
408   0000              	GLOBAL _llabs
409   0000              	GLOBAL __lldivu__callee
410   0000              	GLOBAL __lldivu_
411   0000              	GLOBAL __lldiv__callee
412   0000              	GLOBAL __lldiv_
413   0000              	GLOBAL _atoll_callee
414   0000              	GLOBAL _atoll
415   0000              	GLOBAL _realloc_unlocked_callee
416   0000              	GLOBAL _realloc_unlocked
417   0000              	GLOBAL _malloc_unlocked_fastcall
418   0000              	GLOBAL _malloc_unlocked
419   0000              	GLOBAL _free_unlocked_fastcall
420   0000              	GLOBAL _free_unlocked
421   0000              	GLOBAL _calloc_unlocked_callee
422   0000              	GLOBAL _calloc_unlocked
423   0000              	GLOBAL _aligned_alloc_unlocked_callee
424   0000              	GLOBAL _aligned_alloc_unlocked
425   0000              	GLOBAL _realloc_callee
426   0000              	GLOBAL _realloc
427   0000              	GLOBAL _malloc_fastcall
428   0000              	GLOBAL _malloc
429   0000              	GLOBAL _free_fastcall
430   0000              	GLOBAL _free
431   0000              	GLOBAL _calloc_callee
432   0000              	GLOBAL _calloc
433   0000              	GLOBAL _aligned_alloc_callee
434   0000              	GLOBAL _aligned_alloc
435   0000              	GLOBAL _utoa_callee
436   0000              	GLOBAL _utoa
437   0000              	GLOBAL _ultoa_callee
438   0000              	GLOBAL _ultoa
439   0000              	GLOBAL _system_fastcall
440   0000              	GLOBAL _system
441   0000              	GLOBAL _strtoul_callee
442   0000              	GLOBAL _strtoul
443   0000              	GLOBAL _strtol_callee
444   0000              	GLOBAL _strtol
445   0000              	GLOBAL _strtof_callee
446   0000              	GLOBAL _strtof
447   0000              	GLOBAL _strtod_callee
448   0000              	GLOBAL _strtod
449   0000              	GLOBAL _srand_fastcall
450   0000              	GLOBAL _srand
451   0000              	GLOBAL _rand
452   0000              	GLOBAL _quick_exit_fastcall
453   0000              	GLOBAL _quick_exit
454   0000              	GLOBAL _qsort_callee
455   0000              	GLOBAL _qsort
456   0000              	GLOBAL _ltoa_callee
457   0000              	GLOBAL _ltoa
458   0000              	GLOBAL _labs_fastcall
459   0000              	GLOBAL _labs
460   0000              	GLOBAL _itoa_callee
461   0000              	GLOBAL _itoa
462   0000              	GLOBAL _ftoh_callee
463   0000              	GLOBAL _ftoh
464   0000              	GLOBAL _ftog_callee
465   0000              	GLOBAL _ftog
466   0000              	GLOBAL _ftoe_callee
467   0000              	GLOBAL _ftoe
468   0000              	GLOBAL _ftoa_callee
469   0000              	GLOBAL _ftoa
470   0000              	GLOBAL _exit_fastcall
471   0000              	GLOBAL _exit
472   0000              	GLOBAL _dtoh_callee
473   0000              	GLOBAL _dtoh
474   0000              	GLOBAL _dtog_callee
475   0000              	GLOBAL _dtog
476   0000              	GLOBAL _dtoe_callee
477   0000              	GLOBAL _dtoe
478   0000              	GLOBAL _dtoa_callee
479   0000              	GLOBAL _dtoa
480   0000              	GLOBAL _bsearch_callee
481   0000              	GLOBAL _bsearch
482   0000              	GLOBAL _atol_fastcall
483   0000              	GLOBAL _atol
484   0000              	GLOBAL _atoi_fastcall
485   0000              	GLOBAL _atoi
486   0000              	GLOBAL _atof_fastcall
487   0000              	GLOBAL _atof
488   0000              	GLOBAL _atexit_fastcall
489   0000              	GLOBAL _atexit
490   0000              	GLOBAL _at_quick_exit_fastcall
491   0000              	GLOBAL _at_quick_exit
492   0000              	GLOBAL _abs_fastcall
493   0000              	GLOBAL _abs
494   0000              	GLOBAL _abort
495   0000              	GLOBAL __strtou__callee
496   0000              	GLOBAL __strtou_
497   0000              	GLOBAL __strtoi__callee
498   0000              	GLOBAL __strtoi_
499   0000              	GLOBAL __random_uniform_xor_8__fastcall
500   0000              	GLOBAL __random_uniform_xor_8_
501   0000              	GLOBAL __random_uniform_xor_32__fastcall
502   0000              	GLOBAL __random_uniform_xor_32_
503   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
504   0000              	GLOBAL __random_uniform_cmwc_8_
505   0000              	GLOBAL __shellsort__callee
506   0000              	GLOBAL __shellsort_
507   0000              	GLOBAL __quicksort__callee
508   0000              	GLOBAL __quicksort_
509   0000              	GLOBAL __insertion_sort__callee
510   0000              	GLOBAL __insertion_sort_
511   0000              	GLOBAL __ldivu__callee
512   0000              	GLOBAL __ldivu_
513   0000              	GLOBAL __ldiv__callee
514   0000              	GLOBAL __ldiv_
515   0000              	GLOBAL __divu__callee
516   0000              	GLOBAL __divu_
517   0000              	GLOBAL __div__callee
518   0000              	GLOBAL __div_
519   0000              	GLOBAL _in_mouse_kempston_wheel_delta
520   0000              	GLOBAL _in_mouse_kempston_wheel
521   0000              	GLOBAL _in_mouse_kempston_callee
522   0000              	GLOBAL _in_mouse_kempston
523   0000              	GLOBAL _in_mouse_kempston_setpos_callee
524   0000              	GLOBAL _in_mouse_kempston_setpos
525   0000              	GLOBAL _in_mouse_kempston_reset
526   0000              	GLOBAL _in_mouse_kempston_init
527   0000              	GLOBAL _in_mouse_amx_wheel_delta
528   0000              	GLOBAL _in_mouse_amx_wheel
529   0000              	GLOBAL _in_mouse_amx_callee
530   0000              	GLOBAL _in_mouse_amx
531   0000              	GLOBAL _in_mouse_amx_setpos_callee
532   0000              	GLOBAL _in_mouse_amx_setpos
533   0000              	GLOBAL _in_mouse_amx_reset
534   0000              	GLOBAL _in_mouse_amx_init_callee
535   0000              	GLOBAL _in_mouse_amx_init
536   0000              	GLOBAL _in_stick_sinclair2
537   0000              	GLOBAL _in_stick_sinclair1
538   0000              	GLOBAL _in_stick_kempston
539   0000              	GLOBAL _in_stick_fuller
540   0000              	GLOBAL _in_stick_cursor
541   0000              	GLOBAL _in_stick_keyboard_fastcall
542   0000              	GLOBAL _in_stick_keyboard
543   0000              	GLOBAL _in_wait_nokey
544   0000              	GLOBAL _in_wait_key
545   0000              	GLOBAL _in_test_key
546   0000              	GLOBAL _in_pause_fastcall
547   0000              	GLOBAL _in_pause
548   0000              	GLOBAL _in_key_scancode_fastcall
549   0000              	GLOBAL _in_key_scancode
550   0000              	GLOBAL _in_key_pressed_fastcall
551   0000              	GLOBAL _in_key_pressed
552   0000              	GLOBAL _in_inkey
553   0000              	GLOBAL _zx_pattern_fill_callee
554   0000              	GLOBAL _zx_pattern_fill
555   0000              	GLOBAL _zx_saddrpup_fastcall
556   0000              	GLOBAL _zx_saddrpup
557   0000              	GLOBAL _zx_saddrpright_callee
558   0000              	GLOBAL _zx_saddrpright
559   0000              	GLOBAL _zx_saddrpleft_callee
560   0000              	GLOBAL _zx_saddrpleft
561   0000              	GLOBAL _zx_saddrpdown_fastcall
562   0000              	GLOBAL _zx_saddrpdown
563   0000              	GLOBAL _zx_saddrcup_fastcall
564   0000              	GLOBAL _zx_saddrcup
565   0000              	GLOBAL _zx_saddrcright_fastcall
566   0000              	GLOBAL _zx_saddrcright
567   0000              	GLOBAL _zx_saddrcleft_fastcall
568   0000              	GLOBAL _zx_saddrcleft
569   0000              	GLOBAL _zx_saddrcdown_fastcall
570   0000              	GLOBAL _zx_saddrcdown
571   0000              	GLOBAL _zx_saddr2py_fastcall
572   0000              	GLOBAL _zx_saddr2py
573   0000              	GLOBAL _zx_saddr2px_fastcall
574   0000              	GLOBAL _zx_saddr2px
575   0000              	GLOBAL _zx_saddr2cy_fastcall
576   0000              	GLOBAL _zx_saddr2cy
577   0000              	GLOBAL _zx_saddr2cx_fastcall
578   0000              	GLOBAL _zx_saddr2cx
579   0000              	GLOBAL _zx_saddr2aaddr_fastcall
580   0000              	GLOBAL _zx_saddr2aaddr
581   0000              	GLOBAL _zx_py2saddr_fastcall
582   0000              	GLOBAL _zx_py2saddr
583   0000              	GLOBAL _zx_py2aaddr_fastcall
584   0000              	GLOBAL _zx_py2aaddr
585   0000              	GLOBAL _zx_pxy2saddr_callee
586   0000              	GLOBAL _zx_pxy2saddr
587   0000              	GLOBAL _zx_pxy2aaddr_callee
588   0000              	GLOBAL _zx_pxy2aaddr
589   0000              	GLOBAL _zx_px2bitmask_fastcall
590   0000              	GLOBAL _zx_px2bitmask
591   0000              	GLOBAL _zx_cy2saddr_fastcall
592   0000              	GLOBAL _zx_cy2saddr
593   0000              	GLOBAL _zx_cy2aaddr_fastcall
594   0000              	GLOBAL _zx_cy2aaddr
595   0000              	GLOBAL _zx_cxy2saddr_callee
596   0000              	GLOBAL _zx_cxy2saddr
597   0000              	GLOBAL _zx_cxy2aaddr_callee
598   0000              	GLOBAL _zx_cxy2aaddr
599   0000              	GLOBAL _zx_bitmask2px_fastcall
600   0000              	GLOBAL _zx_bitmask2px
601   0000              	GLOBAL _zx_aaddrcup_fastcall
602   0000              	GLOBAL _zx_aaddrcup
603   0000              	GLOBAL _zx_aaddrcright_fastcall
604   0000              	GLOBAL _zx_aaddrcright
605   0000              	GLOBAL _zx_aaddrcleft_fastcall
606   0000              	GLOBAL _zx_aaddrcleft
607   0000              	GLOBAL _zx_aaddrcdown_fastcall
608   0000              	GLOBAL _zx_aaddrcdown
609   0000              	GLOBAL _zx_aaddr2saddr_fastcall
610   0000              	GLOBAL _zx_aaddr2saddr
611   0000              	GLOBAL _zx_aaddr2py_fastcall
612   0000              	GLOBAL _zx_aaddr2py
613   0000              	GLOBAL _zx_aaddr2px_fastcall
614   0000              	GLOBAL _zx_aaddr2px
615   0000              	GLOBAL _zx_aaddr2cy_fastcall
616   0000              	GLOBAL _zx_aaddr2cy
617   0000              	GLOBAL _zx_aaddr2cx_fastcall
618   0000              	GLOBAL _zx_aaddr2cx
619   0000              	GLOBAL _zx_visit_wc_pix_callee
620   0000              	GLOBAL _zx_visit_wc_pix
621   0000              	GLOBAL _zx_visit_wc_attr_callee
622   0000              	GLOBAL _zx_visit_wc_attr
623   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
624   0000              	GLOBAL _zx_scroll_wc_up_pix
625   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
626   0000              	GLOBAL _zx_scroll_wc_up_attr
627   0000              	GLOBAL _zx_scroll_wc_up_callee
628   0000              	GLOBAL _zx_scroll_wc_up
629   0000              	GLOBAL _zx_scroll_up_pix_callee
630   0000              	GLOBAL _zx_scroll_up_pix
631   0000              	GLOBAL _zx_scroll_up_attr_callee
632   0000              	GLOBAL _zx_scroll_up_attr
633   0000              	GLOBAL _zx_scroll_up_callee
634   0000              	GLOBAL _zx_scroll_up
635   0000              	GLOBAL _zx_cls_wc_pix_callee
636   0000              	GLOBAL _zx_cls_wc_pix
637   0000              	GLOBAL _zx_cls_wc_attr_callee
638   0000              	GLOBAL _zx_cls_wc_attr
639   0000              	GLOBAL _zx_cls_wc_callee
640   0000              	GLOBAL _zx_cls_wc
641   0000              	GLOBAL _zx_cls_pix_fastcall
642   0000              	GLOBAL _zx_cls_pix
643   0000              	GLOBAL _zx_cls_attr_fastcall
644   0000              	GLOBAL _zx_cls_attr
645   0000              	GLOBAL _zx_cls_fastcall
646   0000              	GLOBAL _zx_cls
647   0000              	GLOBAL _zx_border_fastcall
648   0000              	GLOBAL _zx_border
649   0000              	GLOBAL _g_hit_right
650   0000              	GLOBAL _g_hit_left
651   0000              	GLOBAL _joynames
652   0000              	GLOBAL _initials
653   0000              	GLOBAL _score_osd_tile
654   0000              	GLOBAL _score_osd_update_time
655   0000              	GLOBAL _score_osd_col
656   0000              	GLOBAL _score_osd_lin
657   0000              	GLOBAL _phase_bonus_total
658   0000              	GLOBAL _phase_angry
659   0000              	GLOBAL _phase_curr
660   0000              	GLOBAL _phase_end
661   0000              	GLOBAL _phase_coins
662   0000              	GLOBAL _phase_pop
663   0000              	GLOBAL _phase_tot
664   0000              	GLOBAL _phase_left
665   0000              	GLOBAL _phase_quota
666   0000              	GLOBAL _map_heigth
667   0000              	GLOBAL _map_width
668   0000              	GLOBAL _scr_curr
669   0000              	GLOBAL _scr_7
670   0000              	GLOBAL _scr_6
671   0000              	GLOBAL _scr_5
672   0000              	GLOBAL _scr_4
673   0000              	GLOBAL _scr_3
674   0000              	GLOBAL _scr_2
675   0000              	GLOBAL _scr_1
676   0000              	GLOBAL _scr_0
677   0000              	GLOBAL _scr_map
678   0000              	GLOBAL _sprite_speed_alt
679   0000              	GLOBAL _sprite_speed
680   0000              	GLOBAL _screen_ink
681   0000              	GLOBAL _screen_paper
682   0000              	GLOBAL _game_menu_sel
683   0000              	GLOBAL _game_type
684   0000              	GLOBAL _game_osd
685   0000              	GLOBAL _game_bonus
686   0000              	GLOBAL _spr_water_time
687   0000              	GLOBAL _spr_water_clear
688   0000              	GLOBAL _game_time_fireball_start
689   0000              	GLOBAL _game_time_flipped
690   0000              	GLOBAL _game_score_top
691   0000              	GLOBAL _game_lives
692   0000              	GLOBAL _game_over
693   0000              	GLOBAL _game_sound
694   0000              	GLOBAL _game_inmune
695   0000              	GLOBAL _game_god_mode
696   0000              	GLOBAL _game_start_phase
697   0000              	GLOBAL _game_two_player
698   0000              	GLOBAL _game_brick_tile
699   0000              	GLOBAL _sprite_curr_index
700   0000              	GLOBAL _spr_count
701   0000              	GLOBAL _osd_show_time
702   0000              	GLOBAL _osd_update_time
703   0000              	GLOBAL _frame_time
704   0000              	GLOBAL _entry_time
705   0000              	GLOBAL _curr_time
706   0000              	GLOBAL _s_state
707   0000              	GLOBAL _attrib_hl
708   0000              	GLOBAL _attrib
709   0000              	GLOBAL _zx_val_asm
710   0000              	GLOBAL _enemies
711   0000              	GLOBAL _tmp_ui
712   0000              	GLOBAL _tmp_sc
713   0000              	GLOBAL _tmp_uc
714   0000              	GLOBAL _tmp1
715   0000              	GLOBAL _tmp0
716   0000              	GLOBAL _tmp
717   0000              	GLOBAL _index1
718   0000              	GLOBAL _loop_count
719   0000              	GLOBAL _sprite_lin_inc_mul
720   0000              	GLOBAL _s_col1
721   0000              	GLOBAL _s_col0
722   0000              	GLOBAL _s_lin1
723   0000              	GLOBAL _s_lin0
724   0000              	GLOBAL _s_tile1
725   0000              	GLOBAL _s_tile0
726   0000              	GLOBAL _hit_count
727   0000              	GLOBAL _index_player
728   0000              	GLOBAL _sprite
729   0000              	GLOBAL _player_joy
730   0000              	GLOBAL _player_next_extra
731   0000              	GLOBAL _player_score
732   0000              	GLOBAL _last_time
733   0000              	GLOBAL _sliding
734   0000              	GLOBAL _spr_timer
735   0000              	GLOBAL _jump_lin
736   0000              	GLOBAL _player_jump_c
737   0000              	GLOBAL _hit_col
738   0000              	GLOBAL _hit_lin
739   0000              	GLOBAL _colint
740   0000              	GLOBAL _col
741   0000              	GLOBAL _lin
742   0000              	GLOBAL _tile
743   0000              	GLOBAL _state_a
744   0000              	GLOBAL _state
745   0000              	GLOBAL _class
746   0000              	GLOBAL _tbuffer
747   0000              	GLOBAL _dirs
748   0000              	GLOBAL _sprites
749   0000              	GLOBAL _k2
750   0000              	GLOBAL _k1
751   0000              	GLOBAL _joyfunc2
752   0000              	GLOBAL _joyfunc1
753   0000              	GLOBAL _btiles
754   0000              	GLOBAL _spec128
755   0000              	GLOBAL _ay_effect_20
756   0000              	GLOBAL _ay_effect_19
757   0000              	GLOBAL _ay_effect_18
758   0000              	GLOBAL _ay_effect_17
759   0000              	GLOBAL _ay_effect_16
760   0000              	GLOBAL _ay_effect_15
761   0000              	GLOBAL _ay_effect_14
762   0000              	GLOBAL _ay_effect_13
763   0000              	GLOBAL _ay_effect_12
764   0000              	GLOBAL _ay_effect_11
765   0000              	GLOBAL _ay_effect_10
766   0000              	GLOBAL _ay_effect_09
767   0000              	GLOBAL _ay_effect_08
768   0000              	GLOBAL _ay_effect_07
769   0000              	GLOBAL _ay_effect_06
770   0000              	GLOBAL _ay_effect_05
771   0000              	GLOBAL _ay_effect_04
772   0000              	GLOBAL _ay_effect_03
773   0000              	GLOBAL _ay_effect_02
774   0000              	GLOBAL _ay_effect_01
775   0000              	GLOBAL _pb_midi_phase_1
776   0000              	GLOBAL _pb_midi_title
777   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
778   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
779   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
780   0000              	GLOBAL _NIRVANAP_HOLE
781   0000              	GLOBAL _NIRVANAP_ISR_HOOK
782   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
783   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
784   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
785   0000              	GLOBAL _control_method
786   0000              ;--------------------------------------------------------
787   0000              ; special function registers
788   0000              ;--------------------------------------------------------
789   0000              defc _IO_FE	=	0x00fe
790   0000              defc _IO_1FFD	=	0x1ffd
791   0000              defc _IO_7FFD	=	0x7ffd
792   0000              ;--------------------------------------------------------
793   0000              ; ram data
794   0000              ;--------------------------------------------------------
795   0000              	SECTION bss_compiler
796   0000              ;--------------------------------------------------------
797   0000              ; ram data
798   0000              ;--------------------------------------------------------
799   0000              
800   0000              IF 0
801   0000              
802   0000              ; .area _INITIALIZED removed by z88dk
803   0000              
804   0000              
805   0000              ENDIF
806   0000              
807   0000              ;--------------------------------------------------------
808   0000              ; absolute external ram data
809   0000              ;--------------------------------------------------------
810   0000              	SECTION IGNORE
811   0000              ;--------------------------------------------------------
812   0000              ; global & static initialisations
813   0000              ;--------------------------------------------------------
814   0000              	SECTION code_crt_init
815   0000              ;--------------------------------------------------------
816   0000              ; Home
817   0000              ;--------------------------------------------------------
818   0000              	SECTION IGNORE
819   0000              ;--------------------------------------------------------
820   0000              ; code
821   0000              ;--------------------------------------------------------
822   0000              	SECTION code_compiler
823   0000              ;	---------------------------------
824   0000              ; Function player_init
825   0000              ; ---------------------------------
826   0000              _player_init:
827   0000  CD 00 00    	call	___sdcc_enter_ix
828   0003  F5          	push	af
829   0004  3E 00       	ld	a, +((_class) & 0xFF)
830   0006  DD 86 04    	add	a,(ix+4)
831   0009  4F          	ld	c, a
832   000A  3E 00       	ld	a, +((_class) / 256)
833   000C  CE 00       	adc	a,0x00
834   000E  47          	ld	b, a
835   000F  3E 10       	ld	a,0x10
836   0011  02          	ld	(bc), a
837   0012  3E 00       	ld	a, +((_tile) & 0xFF)
838   0014  DD 86 04    	add	a,(ix+4)
839   0017  4F          	ld	c, a
840   0018  3E 00       	ld	a, +((_tile) / 256)
841   001A  CE 00       	adc	a,0x00
842   001C  47          	ld	b, a
843   001D  DD 7E 07    	ld	a,(ix+7)
844   0020  02          	ld	(bc), a
845   0021  3E 00       	ld	a, +((_lin) & 0xFF)
846   0023  DD 86 04    	add	a,(ix+4)
847   0026  4F          	ld	c, a
848   0027  3E 00       	ld	a, +((_lin) / 256)
849   0029  CE 00       	adc	a,0x00
850   002B  47          	ld	b, a
851   002C  DD 7E 05    	ld	a,(ix+5)
852   002F  02          	ld	(bc), a
853   0030  3E 00       	ld	a, +((_col) & 0xFF)
854   0032  DD 86 04    	add	a,(ix+4)
855   0035  4F          	ld	c, a
856   0036  3E 00       	ld	a, +((_col) / 256)
857   0038  CE 00       	adc	a,0x00
858   003A  47          	ld	b, a
859   003B  DD 7E 06    	ld	a,(ix+6)
860   003E  02          	ld	(bc), a
861   003F  3E 00       	ld	a, +((_colint) & 0xFF)
862   0041  DD 86 04    	add	a,(ix+4)
863   0044  4F          	ld	c, a
864   0045  3E 00       	ld	a, +((_colint) / 256)
865   0047  CE 00       	adc	a,0x00
866   0049  47          	ld	b, a
867   004A  AF          	xor	a, a
868   004B  02          	ld	(bc), a
869   004C  3E 00       	ld	a, +((_state) & 0xFF)
870   004E  DD 86 04    	add	a,(ix+4)
871   0051  4F          	ld	c, a
872   0052  3E 00       	ld	a, +((_state) / 256)
873   0054  CE 00       	adc	a,0x00
874   0056  47          	ld	b, a
875   0057  AF          	xor	a, a
876   0058  02          	ld	(bc), a
877   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
878   005B  DD 86 04    	add	a,(ix+4)
879   005E  4F          	ld	c, a
880   005F  3E 00       	ld	a, +((_state_a) / 256)
881   0061  CE 00       	adc	a,0x00
882   0063  47          	ld	b, a
883   0064  AF          	xor	a, a
884   0065  02          	ld	(bc), a
885   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
886   0068  DD 86 04    	add	a,(ix+4)
887   006B  5F          	ld	e, a
888   006C  3E 00       	ld	a, +((_jump_lin) / 256)
889   006E  CE 00       	adc	a,0x00
890   0070  57          	ld	d, a
891   0071  DD 7E 05    	ld	a,(ix+5)
892   0074  12          	ld	(de), a
893   0075  DD 6E 04    	ld	l,(ix+4)
894   0078  26 00       	ld	h,0x00
895   007A  29          	add	hl,hl
896   007B  11 00 00    	ld	de,_last_time
897   007E  19          	add	hl, de
898   007F  E3          	ex	(sp), hl
899   0080  E1          	pop	hl
900   0081  ED 5B 00 00 	ld	de,(_curr_time)
901   0085  E5          	push	hl
902   0086  73          	ld	(hl), e
903   0087  23          	inc	hl
904   0088  72          	ld	(hl), d
905   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
906   008B  DD 86 04    	add	a,(ix+4)
907   008E  5F          	ld	e, a
908   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
909   0091  CE 00       	adc	a,0x00
910   0093  57          	ld	d, a
911   0094  AF          	xor	a, a
912   0095  12          	ld	(de), a
913   0096  0A          	ld	a, (bc)
914   0097  F6 01       	or	a,0x01
915   0099  02          	ld	(bc),a
916   009A  5F          	ld	e, a
917   009B  DD 7E 04    	ld	a,(ix+4)
918   009E  D6 07       	sub	a,0x07
919   00A0  20 0B       	jr	NZ,l_player_init_00102
920   00A2  21 00 00    	ld	hl,_index_player
921   00A5  36 00       	ld	(hl),0x00
922   00A7  7B          	ld	a, e
923   00A8  F6 10       	or	a,0x10
924   00AA  02          	ld	(bc), a
925   00AB  18 09       	jr	l_player_init_00103
926   00AD              l_player_init_00102:
927   00AD  21 00 00    	ld	hl,_index_player
928   00B0  36 01       	ld	(hl),0x01
929   00B2  7B          	ld	a, e
930   00B3  F6 08       	or	a,0x08
931   00B5  02          	ld	(bc), a
932   00B6              l_player_init_00103:
933   00B6  2A 00 00    	ld	hl,(_index_player)
934   00B9  26 00       	ld	h,0x00
935   00BB  01 00 00    	ld	bc,_hit_col
936   00BE  09          	add	hl,bc
937   00BF  AF          	xor	a,a
938   00C0  77          	ld	(hl),a
939   00C1  2A 00 00    	ld	hl,(_index_player)
940   00C4  26 00       	ld	h,0x00
941   00C6  01 00 00    	ld	bc,_hit_lin
942   00C9  09          	add	hl,bc
943   00CA  AF          	xor	a,a
944   00CB  77          	ld	(hl),a
945   00CC  2A 00 00    	ld	hl,(_index_player)
946   00CF  26 00       	ld	h,0x00
947   00D1  01 00 00    	ld	bc,_sliding
948   00D4  09          	add	hl,bc
949   00D5  AF          	xor	a,a
950   00D6  77          	ld	(hl),a
951   00D7  2A 00 00    	ld	hl,(_index_player)
952   00DA  26 00       	ld	h,0x00
953   00DC  01 00 00    	ld	bc,_player_jump_c
954   00DF  09          	add	hl,bc
955   00E0  AF          	xor	a,a
956   00E1  77          	ld	(hl),a
957   00E2  DD 66 06    	ld	h,(ix+6)
958   00E5  DD 6E 05    	ld	l,(ix+5)
959   00E8  E5          	push	hl
960   00E9  DD 66 07    	ld	h,(ix+7)
961   00EC  DD 6E 04    	ld	l,(ix+4)
962   00EF  E5          	push	hl
963   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
964   00F3  F1          	pop	af
965   00F4  DD E1       	pop	ix
966   00F6  C9          	ret
967   00F7              	SECTION code_compiler
968   00F7              ;	---------------------------------
969   00F7              ; Function player_calc_slide
970   00F7              ; ---------------------------------
971   00F7              _player_calc_slide:
972   00F7  2A 00 00    	ld	hl,(_index_player)
973   00FA  26 00       	ld	h,0x00
974   00FC  01 00 00    	ld	bc,_sliding
975   00FF  09          	add	hl,bc
976   0100  36 02       	ld	(hl),0x02
977   0102  C9          	ret
978   0103              	SECTION code_compiler
979   0103              ;	---------------------------------
980   0103              ; Function player_check_input
981   0103              ; ---------------------------------
982   0103              _player_check_input:
983   0103  21 00 00    	ld	hl,_dirs
984   0106  7E          	ld	a, (hl)
985   0107  CB 07       	rlc	a
986   0109  E6 01       	and	a,0x01
987   010B  CB 47       	bit	0, a
988   010D  20 0F       	jr	NZ,l_player_check_input_00104
989   010F  CB 56       	bit	2, (hl)
990   0111  20 0B       	jr	NZ,l_player_check_input_00104
991   0113  21 00 00    	ld	hl,_dirs
992   0116  CB 5E       	bit	3, (hl)
993   0118  20 04       	jr	NZ,l_player_check_input_00104
994   011A  2E 00       	ld	l,0x00
995   011C  18 02       	jr	l_player_check_input_00105
996   011E              l_player_check_input_00104:
997   011E  2E 01       	ld	l,0x01
998   0120              l_player_check_input_00105:
999   0120  C9          	ret
1000  0121              	SECTION code_compiler
1001  0121              ;	---------------------------------
1002  0121              ; Function player_collision
1003  0121              ; ---------------------------------
1004  0121              _player_collision:
1005  0121  2A 00 00    	ld	hl,(_sprite)
1006  0124  26 00       	ld	h,0x00
1007  0126  01 00 00    	ld	bc,_class
1008  0129  09          	add	hl,bc
1009  012A  7E          	ld	a,(hl)
1010  012B  B7          	or	a,a
1011  012C  20 04       	jr	NZ,l_player_collision_00102
1012  012E  6F          	ld	l,a
1013  012F  C3 75 02    	jp	l_player_collision_00133
1014  0132              l_player_collision_00102:
1015  0132  2A 00 00    	ld	hl,(_sprite)
1016  0135  26 00       	ld	h,0x00
1017  0137  01 00 00    	ld	bc,_state
1018  013A  09          	add	hl,bc
1019  013B  7E          	ld	a,(hl)
1020  013C  CB 67       	bit	4, a
1021  013E  28 05       	jr	Z,l_player_collision_00104
1022  0140  2E 00       	ld	l,0x00
1023  0142  C3 75 02    	jp	l_player_collision_00133
1024  0145              l_player_collision_00104:
1025  0145  CB 6F       	bit	5, a
1026  0147  28 05       	jr	Z,l_player_collision_00106
1027  0149  2E 00       	ld	l,0x00
1028  014B  C3 75 02    	jp	l_player_collision_00133
1029  014E              l_player_collision_00106:
1030  014E  21 00 00    	ld	hl,_hit_count
1031  0151  36 00       	ld	(hl),0x00
1032  0153  21 00 00    	ld	hl,_enemies
1033  0156  36 00       	ld	(hl),0x00
1034  0158              l_player_collision_00131:
1035  0158  2A 00 00    	ld	hl,(_enemies)
1036  015B  26 0E       	ld	h,0x0e
1037  015D  3A 00 00    	ld	a,(_sprite)
1038  0160  E5          	push	hl
1039  0161  F5          	push	af
1040  0162  33          	inc	sp
1041  0163  CD 00 00    	call	_spr_collision_check
1042  0166  F1          	pop	af
1043  0167  33          	inc	sp
1044  0168  7D          	ld	a, l
1045  0169  B7          	or	a, a
1046  016A  28 50       	jr	Z,l_player_collision_00132
1047  016C  2A 00 00    	ld	hl,(_enemies)
1048  016F  26 00       	ld	h,0x00
1049  0171  01 00 00    	ld	bc,_state
1050  0174  09          	add	hl,bc
1051  0175  CB 66       	bit	4,(hl)
1052  0177  28 08       	jr	Z,l_player_collision_00117
1053  0179  2A 00 00    	ld	hl,(_enemies)
1054  017C  CD 00 00    	call	_enemy_kill
1055  017F  18 3B       	jr	l_player_collision_00132
1056  0181              l_player_collision_00117:
1057  0181  2A 00 00    	ld	hl,(_enemies)
1058  0184  26 00       	ld	h,0x00
1059  0186  01 00 00    	ld	bc,_class
1060  0189  09          	add	hl,bc
1061  018A  7E          	ld	a,(hl)
1062  018B  FE 08       	cp	a,0x08
1063  018D  28 04       	jr	Z,l_player_collision_00112
1064  018F  D6 0C       	sub	a,0x0c
1065  0191  20 0C       	jr	NZ,l_player_collision_00113
1066  0193              l_player_collision_00112:
1067  0193  2A 00 00    	ld	hl,(_enemies)
1068  0196  26 50       	ld	h,0x50
1069  0198  E5          	push	hl
1070  0199  CD 57 0A    	call	_player_coin
1071  019C  F1          	pop	af
1072  019D  18 1D       	jr	l_player_collision_00132
1073  019F              l_player_collision_00113:
1074  019F  21 00 00    	ld	hl,_ay_effect_18
1075  01A2  CD 00 00    	call	_ay_fx_play
1076  01A5  3A 00 00    	ld	a,(_game_god_mode)
1077  01A8  B7          	or	a, a
1078  01A9  28 08       	jr	Z,l_player_collision_00110
1079  01AB  2A 00 00    	ld	hl,(_enemies)
1080  01AE  CD 00 00    	call	_enemy_kill
1081  01B1  18 09       	jr	l_player_collision_00132
1082  01B3              l_player_collision_00110:
1083  01B3  3A 00 00    	ld	a,(_game_inmune)
1084  01B6  B7          	or	a, a
1085  01B7  20 03       	jr	NZ,l_player_collision_00132
1086  01B9  CD 76 02    	call	_player_kill
1087  01BC              l_player_collision_00132:
1088  01BC  21 00 00    	ld	hl,_enemies
1089  01BF  7E          	ld	a,(hl)
1090  01C0  3C          	inc	a
1091  01C1  77          	ld	(hl),a
1092  01C2  D6 06       	sub	a,0x06
1093  01C4  38 92       	jr	C,l_player_collision_00131
1094  01C6  3A 00 00    	ld	a,(_hit_count)
1095  01C9  B7          	or	a, a
1096  01CA  CA 73 02    	jp	Z, l_player_collision_00129
1097  01CD  2A 00 00    	ld	hl,(_sprite)
1098  01D0  26 00       	ld	h,0x00
1099  01D2  01 00 00    	ld	bc,_lin
1100  01D5  09          	add	hl,bc
1101  01D6  4E          	ld	c,(hl)
1102  01D7  3E 18       	ld	a,0x18
1103  01D9  91          	sub	a, c
1104  01DA  D2 73 02    	jp	NC, l_player_collision_00129
1105  01DD  2A 00 00    	ld	hl,(_index_player)
1106  01E0  26 00       	ld	h,0x00
1107  01E2  01 00 00    	ld	bc,_score_osd_col
1108  01E5  09          	add	hl,bc
1109  01E6  7E          	ld	a,(hl)
1110  01E7  47          	ld	b,a
1111  01E8  3C          	inc	a
1112  01E9  28 12       	jr	Z,l_player_collision_00123
1113  01EB  3A 00 00    	ld	a,(_index_player)
1114  01EE  5F          	ld	e,a
1115  01EF  16 00       	ld	d,0x00
1116  01F1  21 00 00    	ld	hl,_score_osd_lin
1117  01F4  19          	add	hl,de
1118  01F5  4E          	ld	c, (hl)
1119  01F6  C5          	push	bc
1120  01F7  AF          	xor	a, a
1121  01F8  F5          	push	af
1122  01F9  33          	inc	sp
1123  01FA  CD 00 00    	call	_NIRVANAP_drawT_callee
1124  01FD              l_player_collision_00123:
1125  01FD  2A 00 00    	ld	hl,(_index_player)
1126  0200  26 00       	ld	h,0x00
1127  0202  01 00 00    	ld	bc,_score_osd_col
1128  0205  09          	add	hl,bc
1129  0206  4D          	ld	c,l
1130  0207  44          	ld	b,h
1131  0208  2A 00 00    	ld	hl,(_sprite)
1132  020B  26 00       	ld	h,0x00
1133  020D  11 00 00    	ld	de,_col
1134  0210  19          	add	hl,de
1135  0211  7E          	ld	a,(hl)
1136  0212  02          	ld	(bc), a
1137  0213  2A 00 00    	ld	hl,(_index_player)
1138  0216  26 00       	ld	h,0x00
1139  0218  01 00 00    	ld	bc,_score_osd_lin
1140  021B  09          	add	hl,bc
1141  021C  4D          	ld	c,l
1142  021D  44          	ld	b,h
1143  021E  2A 00 00    	ld	hl,(_sprite)
1144  0221  26 00       	ld	h,0x00
1145  0223  11 00 00    	ld	de,_lin
1146  0226  19          	add	hl,de
1147  0227  7E          	ld	a,(hl)
1148  0228  C6 FA       	add	a,0xfa
1149  022A  02          	ld	(bc), a
1150  022B  01 00 00    	ld	bc,_score_osd_update_time+0
1151  022E  2A 00 00    	ld	hl,(_index_player)
1152  0231  26 00       	ld	h,0x00
1153  0233  29          	add	hl, hl
1154  0234  09          	add	hl,bc
1155  0235  ED 5B 00 00 	ld	de,(_curr_time)
1156  0239  73          	ld	(hl),e
1157  023A  23          	inc	hl
1158  023B  72          	ld	(hl),d
1159  023C  01 00 00    	ld	bc,_score_osd_tile+0
1160  023F  2A 00 00    	ld	hl,(_index_player)
1161  0242  26 00       	ld	h,0x00
1162  0244  29          	add	hl, hl
1163  0245  09          	add	hl, bc
1164  0246  36 BC       	ld	(hl),0xbc
1165  0248  23          	inc	hl
1166  0249  36 00       	ld	(hl),0x00
1167  024B  3E 01       	ld	a,0x01
1168  024D  21 00 00    	ld	hl,_hit_count
1169  0250  96          	sub	a, (hl)
1170  0251  30 0C       	jr	NC,l_player_collision_00125
1171  0253  2A 00 00    	ld	hl,(_index_player)
1172  0256  26 00       	ld	h,0x00
1173  0258  29          	add	hl, hl
1174  0259  09          	add	hl, bc
1175  025A  36 D7       	ld	(hl),0xd7
1176  025C  23          	inc	hl
1177  025D  36 00       	ld	(hl),0x00
1178  025F              l_player_collision_00125:
1179  025F  3E 06       	ld	a,0x06
1180  0261  21 00 00    	ld	hl,_hit_count
1181  0264  96          	sub	a, (hl)
1182  0265  30 0C       	jr	NC,l_player_collision_00129
1183  0267  2A 00 00    	ld	hl,(_index_player)
1184  026A  26 00       	ld	h,0x00
1185  026C  29          	add	hl, hl
1186  026D  09          	add	hl, bc
1187  026E  36 CB       	ld	(hl),0xcb
1188  0270  23          	inc	hl
1189  0271  36 00       	ld	(hl),0x00
1190  0273              l_player_collision_00129:
1191  0273  2E 00       	ld	l,0x00
1192  0275              l_player_collision_00133:
1193  0275  C9          	ret
1194  0276              	SECTION code_compiler
1195  0276              ;	---------------------------------
1196  0276              ; Function player_kill
1197  0276              ; ---------------------------------
1198  0276              _player_kill:
1199  0276  01 00 00    	ld	bc,_state+0
1200  0279  2A 00 00    	ld	hl,(_sprite)
1201  027C  26 00       	ld	h,0x00
1202  027E  09          	add	hl,bc
1203  027F  CB 6E       	bit	5,(hl)
1204  0281  C2 48 03    	jp	NZ,l_player_kill_00109
1205  0284  C5          	push	bc
1206  0285  CD 00 00    	call	_sound_hit_brick
1207  0288  C1          	pop	bc
1208  0289  79          	ld	a, c
1209  028A  21 00 00    	ld	hl,_sprite
1210  028D  86          	add	a, (hl)
1211  028E  5F          	ld	e, a
1212  028F  78          	ld	a, b
1213  0290  CE 00       	adc	a,0x00
1214  0292  57          	ld	d, a
1215  0293  1A          	ld	a, (de)
1216  0294  F6 20       	or	a,0x20
1217  0296  12          	ld	(de), a
1218  0297  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1219  0299  86          	add	a, (hl)
1220  029A  5F          	ld	e, a
1221  029B  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1222  029D  CE 00       	adc	a,0x00
1223  029F  57          	ld	d, a
1224  02A0  3E 03       	ld	a,0x03
1225  02A2  12          	ld	(de), a
1226  02A3  79          	ld	a, c
1227  02A4  86          	add	a, (hl)
1228  02A5  4F          	ld	c, a
1229  02A6  78          	ld	a, b
1230  02A7  CE 00       	adc	a,0x00
1231  02A9  47          	ld	b, a
1232  02AA  0A          	ld	a, (bc)
1233  02AB  CB 57       	bit	2, a
1234  02AD  28 0D       	jr	Z,l_player_kill_00102
1235  02AF  2A 00 00    	ld	hl,(_sprite)
1236  02B2  26 00       	ld	h,0x00
1237  02B4  01 00 00    	ld	bc,_tile
1238  02B7  09          	add	hl,bc
1239  02B8  36 40       	ld	(hl),0x40
1240  02BA  18 0B       	jr	l_player_kill_00103
1241  02BC              l_player_kill_00102:
1242  02BC  2A 00 00    	ld	hl,(_sprite)
1243  02BF  26 00       	ld	h,0x00
1244  02C1  01 00 00    	ld	bc,_tile
1245  02C4  09          	add	hl,bc
1246  02C5  36 48       	ld	(hl),0x48
1247  02C7              l_player_kill_00103:
1248  02C7  CD 19 0A    	call	_player_hit_brick_clear
1249  02CA  2A 00 00    	ld	hl,(_sprite)
1250  02CD  26 00       	ld	h,0x00
1251  02CF  01 00 00    	ld	bc,_col
1252  02D2  09          	add	hl,bc
1253  02D3  4E          	ld	c, (hl)
1254  02D4  2A 00 00    	ld	hl,(_sprite)
1255  02D7  26 00       	ld	h,0x00
1256  02D9  11 00 00    	ld	de,_lin
1257  02DC  19          	add	hl,de
1258  02DD  46          	ld	b, (hl)
1259  02DE  2A 00 00    	ld	hl,(_sprite)
1260  02E1  26 00       	ld	h,0x00
1261  02E3  11 00 00    	ld	de,_tile
1262  02E6  19          	add	hl,de
1263  02E7  56          	ld	d, (hl)
1264  02E8  79          	ld	a,c
1265  02E9  21 00 00    	ld	hl,_sprite
1266  02EC  F5          	push	af
1267  02ED  33          	inc	sp
1268  02EE  4A          	ld	c, d
1269  02EF  7E          	ld	a,(hl)
1270  02F0  C5          	push	bc
1271  02F1  F5          	push	af
1272  02F2  33          	inc	sp
1273  02F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1274  02F6  01 00 00    	ld	bc,_spr_timer+0
1275  02F9  2A 00 00    	ld	hl,(_sprite)
1276  02FC  26 00       	ld	h,0x00
1277  02FE  29          	add	hl, hl
1278  02FF  09          	add	hl,bc
1279  0300  ED 5B 00 00 	ld	de,(_curr_time)
1280  0304  73          	ld	(hl),e
1281  0305  23          	inc	hl
1282  0306  72          	ld	(hl),d
1283  0307  3A 00 00    	ld	a,(_sprite)
1284  030A  D6 07       	sub	a,0x07
1285  030C  20 1E       	jr	NZ,l_player_kill_00105
1286  030E  01 00 00    	ld	bc,_state_a+0
1287  0311  79          	ld	a, c
1288  0312  21 00 00    	ld	hl,_sprite
1289  0315  86          	add	a, (hl)
1290  0316  5F          	ld	e, a
1291  0317  78          	ld	a, b
1292  0318  CE 00       	adc	a,0x00
1293  031A  57          	ld	d, a
1294  031B  1A          	ld	a, (de)
1295  031C  F6 08       	or	a,0x08
1296  031E  12          	ld	(de), a
1297  031F  79          	ld	a, c
1298  0320  86          	add	a, (hl)
1299  0321  4F          	ld	c, a
1300  0322  78          	ld	a, b
1301  0323  CE 00       	adc	a,0x00
1302  0325  47          	ld	b, a
1303  0326  0A          	ld	a, (bc)
1304  0327  E6 EF       	and	a,0xef
1305  0329  02          	ld	(bc), a
1306  032A  18 1C       	jr	l_player_kill_00109
1307  032C              l_player_kill_00105:
1308  032C  01 00 00    	ld	bc,_state_a+0
1309  032F  79          	ld	a, c
1310  0330  21 00 00    	ld	hl,_sprite
1311  0333  86          	add	a, (hl)
1312  0334  5F          	ld	e, a
1313  0335  78          	ld	a, b
1314  0336  CE 00       	adc	a,0x00
1315  0338  57          	ld	d, a
1316  0339  1A          	ld	a, (de)
1317  033A  F6 10       	or	a,0x10
1318  033C  12          	ld	(de), a
1319  033D  79          	ld	a, c
1320  033E  86          	add	a, (hl)
1321  033F  4F          	ld	c, a
1322  0340  78          	ld	a, b
1323  0341  CE 00       	adc	a,0x00
1324  0343  47          	ld	b, a
1325  0344  0A          	ld	a, (bc)
1326  0345  E6 F7       	and	a,0xf7
1327  0347  02          	ld	(bc), a
1328  0348              l_player_kill_00109:
1329  0348  C9          	ret
1330  0349              	SECTION code_compiler
1331  0349              ;	---------------------------------
1332  0349              ; Function player_restart
1333  0349              ; ---------------------------------
1334  0349              _player_restart:
1335  0349  CD 00 00    	call	___sdcc_enter_ix
1336  034C  F5          	push	af
1337  034D  3E 00       	ld	a,+((_col) & 0xFF)
1338  034F  85          	add	a,l
1339  0350  4D          	ld	c,l
1340  0351  5F          	ld	e, a
1341  0352  3E 00       	ld	a, +((_col) / 256)
1342  0354  CE 00       	adc	a,0x00
1343  0356  57          	ld	d, a
1344  0357  1A          	ld	a, (de)
1345  0358  D6 04       	sub	a,0x04
1346  035A  30 0C       	jr	NC,l_player_restart_00102
1347  035C  C5          	push	bc
1348  035D  D5          	push	de
1349  035E  21 E0 01    	ld	hl,0x01e0
1350  0361  E5          	push	hl
1351  0362  CD 00 00    	call	_spr_back_paint
1352  0365  F1          	pop	af
1353  0366  D1          	pop	de
1354  0367  C1          	pop	bc
1355  0368              l_player_restart_00102:
1356  0368  1A          	ld	a, (de)
1357  0369  47          	ld	b, a
1358  036A  3E 1A       	ld	a,0x1a
1359  036C  90          	sub	a, b
1360  036D  30 0A       	jr	NC,l_player_restart_00104
1361  036F  C5          	push	bc
1362  0370  21 FA 01    	ld	hl,0x01fa
1363  0373  E5          	push	hl
1364  0374  CD 00 00    	call	_spr_back_paint
1365  0377  F1          	pop	af
1366  0378  C1          	pop	bc
1367  0379              l_player_restart_00104:
1368  0379  21 00 00    	ld	hl,_ay_effect_15
1369  037C  CD 00 00    	call	_ay_fx_play
1370  037F  C5          	push	bc
1371  0380  21 0E 58    	ld	hl,0x580e
1372  0383  E5          	push	hl
1373  0384  21 07 00    	ld	hl,0x0007
1374  0387  E5          	push	hl
1375  0388  CD 00 00    	call	_player_init
1376  038B  F1          	pop	af
1377  038C  F1          	pop	af
1378  038D  C1          	pop	bc
1379  038E  11 00 00    	ld	de,_state+0
1380  0391  69          	ld	l,c
1381  0392  26 00       	ld	h,0x00
1382  0394  19          	add	hl, de
1383  0395  CB E6       	set	4, (hl)
1384  0397  11 00 00    	ld	de,_state_a+0
1385  039A  69          	ld	l,c
1386  039B  26 00       	ld	h,0x00
1387  039D  19          	add	hl, de
1388  039E  CB C6       	set	0, (hl)
1389  03A0  11 00 00    	ld	de,_spr_timer+0
1390  03A3  69          	ld	l, c
1391  03A4  26 00       	ld	h,0x00
1392  03A6  29          	add	hl, hl
1393  03A7  19          	add	hl,de
1394  03A8  E3          	ex	(sp), hl
1395  03A9  E1          	pop	hl
1396  03AA  ED 5B 00 00 	ld	de,(_curr_time)
1397  03AE  E5          	push	hl
1398  03AF  73          	ld	(hl), e
1399  03B0  23          	inc	hl
1400  03B1  72          	ld	(hl), d
1401  03B2  11 00 00    	ld	de,_sprite_speed_alt+0
1402  03B5  69          	ld	l,c
1403  03B6  26 00       	ld	h,0x00
1404  03B8  19          	add	hl, de
1405  03B9  F1          	pop	af
1406  03BA  36 08       	ld	(hl),0x08
1407  03BC  DD E1       	pop	ix
1408  03BE  C9          	ret
1409  03BF              	SECTION code_compiler
1410  03BF              ;	---------------------------------
1411  03BF              ; Function player_lost_life
1412  03BF              ; ---------------------------------
1413  03BF              _player_lost_life:
1414  03BF  CD 00 00    	call	_sound_hit_enemy
1415  03C2  01 00 00    	ld	bc,_game_lives+0
1416  03C5  79          	ld	a, c
1417  03C6  21 00 00    	ld	hl,_index_player
1418  03C9  86          	add	a, (hl)
1419  03CA  5F          	ld	e, a
1420  03CB  78          	ld	a, b
1421  03CC  CE 00       	adc	a,0x00
1422  03CE  57          	ld	d, a
1423  03CF  1A          	ld	a, (de)
1424  03D0  C6 FF       	add	a,0xff
1425  03D2  12          	ld	(de), a
1426  03D3  79          	ld	a, c
1427  03D4  86          	add	a, (hl)
1428  03D5  5F          	ld	e, a
1429  03D6  78          	ld	a, b
1430  03D7  CE 00       	adc	a,0x00
1431  03D9  57          	ld	d, a
1432  03DA  1A          	ld	a, (de)
1433  03DB  B7          	or	a, a
1434  03DC  20 13       	jr	NZ,l_player_lost_life_00105
1435  03DE  0A          	ld	a, (bc)
1436  03DF  B7          	or	a, a
1437  03E0  20 0B       	jr	NZ,l_player_lost_life_00102
1438  03E2  3A 01 00    	ld	a, (_game_lives + 1)
1439  03E5  B7          	or	a, a
1440  03E6  20 05       	jr	NZ,l_player_lost_life_00102
1441  03E8  21 00 00    	ld	hl,_game_over
1442  03EB  36 01       	ld	(hl),0x01
1443  03ED              l_player_lost_life_00102:
1444  03ED  2E 00       	ld	l,0x00
1445  03EF  18 05       	jr	l_player_lost_life_00106
1446  03F1              l_player_lost_life_00105:
1447  03F1  CD 00 00    	call	_game_print_lives
1448  03F4  2E 01       	ld	l,0x01
1449  03F6              l_player_lost_life_00106:
1450  03F6  C9          	ret
1451  03F7              	SECTION code_compiler
1452  03F7              ;	---------------------------------
1453  03F7              ; Function player_turn
1454  03F7              ; ---------------------------------
1455  03F7              _player_turn:
1456  03F7  2A 00 00    	ld	hl,(_sprite)
1457  03FA  26 00       	ld	h,0x00
1458  03FC  01 00 00    	ld	bc,_class
1459  03FF  09          	add	hl,bc
1460  0400  7E          	ld	a,(hl)
1461  0401  D6 10       	sub	a,0x10
1462  0403  C0          	ret	NZ
1463  0404  2A 00 00    	ld	hl,(_index_player)
1464  0407  26 00       	ld	h,0x00
1465  0409  01 00 00    	ld	bc,_game_lives
1466  040C  09          	add	hl,bc
1467  040D  7E          	ld	a,(hl)
1468  040E  B7          	or	a, a
1469  040F  C8          	ret	Z
1470  0410  21 00 00    	ld	hl,_sprite
1471  0413  CD 00 00    	call	_spr_chktime
1472  0416  7D          	ld	a, l
1473  0417  B7          	or	a, a
1474  0418  C8          	ret	Z
1475  0419  21 00 00    	ld	hl,_dirs
1476  041C  36 00       	ld	(hl),0x00
1477  041E  21 00 00    	ld	hl,_k1
1478  0421  E5          	push	hl
1479  0422  2A 00 00    	ld	hl,(_joyfunc1)
1480  0425  CD 00 00    	call	___sdcc_call_hl
1481  0428  F1          	pop	af
1482  0429  7D          	ld	a,l
1483  042A  32 00 00    	ld	(_dirs),a
1484  042D  CD 33 04    	call	_player_move
1485  0430  C3 21 01    	jp  _player_collision
1486  0433              	SECTION code_compiler
1487  0433              ;	---------------------------------
1488  0433              ; Function player_move
1489  0433              ; ---------------------------------
1490  0433              _player_move:
1491  0433  CD 00 00    	call	___sdcc_enter_ix
1492  0436  2A 00 00    	ld	hl,(_sprite)
1493  0439  F5          	push	af
1494  043A  26 00       	ld	h,0x00
1495  043C  01 00 00    	ld	bc,_lin
1496  043F  09          	add	hl,bc
1497  0440  7E          	ld	a,(hl)
1498  0441  32 00 00    	ld	(_s_lin0),a
1499  0444  2A 00 00    	ld	hl,(_sprite)
1500  0447  26 00       	ld	h,0x00
1501  0449  01 00 00    	ld	bc,_col
1502  044C  09          	add	hl,bc
1503  044D  7E          	ld	a,(hl)
1504  044E  32 00 00    	ld	(_s_col0),a
1505  0451  3E 00       	ld	a, +((_tile) & 0xFF)
1506  0453  21 00 00    	ld	hl,_sprite
1507  0456  86          	add	a, (hl)
1508  0457  DD 77 FE    	ld	(ix-2),a
1509  045A  3E 00       	ld	a, +((_tile) / 256)
1510  045C  CE 00       	adc	a,0x00
1511  045E  DD 77 FF    	ld	(ix-1),a
1512  0461  E1          	pop	hl
1513  0462  4E          	ld	c,(hl)
1514  0463  E5          	push	hl
1515  0464  2A 00 00    	ld	hl,(_sprite)
1516  0467  26 00       	ld	h,0x00
1517  0469  11 00 00    	ld	de,_colint
1518  046C  19          	add	hl,de
1519  046D  7E          	ld	a,(hl)
1520  046E  81          	add	a,c
1521  046F  32 00 00    	ld	(_s_tile0),a
1522  0472  2A 00 00    	ld	hl,(_sprite)
1523  0475  26 00       	ld	h,0x00
1524  0477  01 00 00    	ld	bc,_state
1525  047A  09          	add	hl,bc
1526  047B  7E          	ld	a,(hl)
1527  047C  CB 6F       	bit	5,a
1528  047E  32 00 00    	ld	(_s_state),a
1529  0481  28 2A       	jr	Z,l_player_move_00104
1530  0483  E1          	pop	hl
1531  0484  E5          	push	hl
1532  0485  36 40       	ld	(hl),0x40
1533  0487  01 00 00    	ld	bc,_spr_timer+0
1534  048A  2A 00 00    	ld	hl,(_sprite)
1535  048D  26 00       	ld	h,0x00
1536  048F  29          	add	hl, hl
1537  0490  09          	add	hl, bc
1538  0491  4E          	ld	c, (hl)
1539  0492  23          	inc	hl
1540  0493  46          	ld	b, (hl)
1541  0494  21 28 00    	ld	hl,0x0028
1542  0497  E5          	push	hl
1543  0498  C5          	push	bc
1544  0499  CD 00 00    	call	_game_check_time
1545  049C  F1          	pop	af
1546  049D  F1          	pop	af
1547  049E  7D          	ld	a, l
1548  049F  B7          	or	a, a
1549  04A0  28 06       	jr	Z,l_player_move_00102
1550  04A2  2A 00 00    	ld	hl,(_sprite)
1551  04A5  CD 00 00    	call	_spr_killed
1552  04A8              l_player_move_00102:
1553  04A8  2E 00       	ld	l,0x00
1554  04AA  C3 DB 05    	jp	l_player_move_00132
1555  04AD              l_player_move_00104:
1556  04AD  CD 1A 06    	call	_player_move_input
1557  04B0  2A 00 00    	ld	hl,(_sprite)
1558  04B3  26 00       	ld	h,0x00
1559  04B5  01 00 00    	ld	bc,_state
1560  04B8  09          	add	hl,bc
1561  04B9  7E          	ld	a,(hl)
1562  04BA  21 00 00    	ld	hl,_s_state
1563  04BD  77          	ld	(hl),a
1564  04BE  E6 01       	and	a,0x01
1565  04C0  4F          	ld	c,a
1566  04C1  B7          	or	a, a
1567  04C2  20 0A       	jr	NZ,l_player_move_00127
1568  04C4  CB 4E       	bit	1, (hl)
1569  04C6  20 06       	jr	NZ,l_player_move_00127
1570  04C8  CD A2 0B    	call	_player_check_floor
1571  04CB  C3 AB 05    	jp	l_player_move_00128
1572  04CE              l_player_move_00127:
1573  04CE  21 00 00    	ld	hl,_sprite_lin_inc_mul
1574  04D1  36 02       	ld	(hl),0x02
1575  04D3  2A 00 00    	ld	hl,(_index_player)
1576  04D6  26 00       	ld	h,0x00
1577  04D8  11 00 00    	ld	de,_player_jump_c
1578  04DB  19          	add	hl,de
1579  04DC  46          	ld	b, (hl)
1580  04DD  3E 03       	ld	a,0x03
1581  04DF  90          	sub	a, b
1582  04E0  30 05       	jr	NC,l_player_move_00106
1583  04E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
1584  04E5  36 01       	ld	(hl),0x01
1585  04E7              l_player_move_00106:
1586  04E7  3E 08       	ld	a,0x08
1587  04E9  90          	sub	a, b
1588  04EA  30 05       	jr	NC,l_player_move_00108
1589  04EC  21 00 00    	ld	hl,_sprite_lin_inc_mul
1590  04EF  36 00       	ld	(hl),0x00
1591  04F1              l_player_move_00108:
1592  04F1  3E 0C       	ld	a,0x0c
1593  04F3  90          	sub	a, b
1594  04F4  30 05       	jr	NC,l_player_move_00110
1595  04F6  21 00 00    	ld	hl,_sprite_lin_inc_mul
1596  04F9  36 01       	ld	(hl),0x01
1597  04FB              l_player_move_00110:
1598  04FB  3E 11       	ld	a,0x11
1599  04FD  90          	sub	a, b
1600  04FE  30 05       	jr	NC,l_player_move_00112
1601  0500  21 00 00    	ld	hl,_sprite_lin_inc_mul
1602  0503  36 02       	ld	(hl),0x02
1603  0505              l_player_move_00112:
1604  0505  79          	ld	a, c
1605  0506  B7          	or	a, a
1606  0507  28 1D       	jr	Z,l_player_move_00124
1607  0509  78          	ld	a, b
1608  050A  D6 04       	sub	a,0x04
1609  050C  30 13       	jr	NC,l_player_move_00116
1610  050E  2A 00 00    	ld	hl,(_sprite)
1611  0511  26 00       	ld	h,0x00
1612  0513  01 00 00    	ld	bc,_state_a
1613  0516  09          	add	hl,bc
1614  0517  7E          	ld	a,(hl)
1615  0518  07          	rlca
1616  0519  DA 99 05    	jp	C,l_player_move_00125
1617  051C  CD 00 00    	call	_spr_move_up
1618  051F  18 78       	jr	l_player_move_00125
1619  0521              l_player_move_00116:
1620  0521  CD 00 00    	call	_spr_set_fall
1621  0524  18 73       	jr	l_player_move_00125
1622  0526              l_player_move_00124:
1623  0526  CD 00 00    	call	_spr_move_down
1624  0529  7D          	ld	a, l
1625  052A  B7          	or	a, a
1626  052B  28 6C       	jr	Z,l_player_move_00125
1627  052D  21 00 00    	ld	hl,_s_state
1628  0530  CB 8E       	res	1, (hl)
1629  0532  2A 00 00    	ld	hl,(_sprite)
1630  0535  26 00       	ld	h,0x00
1631  0537  01 00 00    	ld	bc,_state_a
1632  053A  09          	add	hl,bc
1633  053B  7E          	ld	a,(hl)
1634  053C  E6 7F       	and	a,0x7f
1635  053E  77          	ld	(hl),a
1636  053F  2A 00 00    	ld	hl,(_index_player)
1637  0542  26 00       	ld	h,0x00
1638  0544  01 00 00    	ld	bc,_player_jump_c
1639  0547  09          	add	hl,bc
1640  0548  AF          	xor	a,a
1641  0549  77          	ld	(hl),a
1642  054A  2A 00 00    	ld	hl,(_sprite)
1643  054D  26 00       	ld	h,0x00
1644  054F  01 00 00    	ld	bc,_jump_lin
1645  0552  09          	add	hl,bc
1646  0553  AF          	xor	a,a
1647  0554  77          	ld	(hl),a
1648  0555  2A 00 00    	ld	hl,(_index_player)
1649  0558  26 00       	ld	h,0x00
1650  055A  01 00 00    	ld	bc,_sliding
1651  055D  09          	add	hl,bc
1652  055E  AF          	xor	a,a
1653  055F  77          	ld	(hl),a
1654  0560  2A 00 00    	ld	hl,(_sprite)
1655  0563  26 00       	ld	h,0x00
1656  0565  01 00 00    	ld	bc,_colint
1657  0568  09          	add	hl,bc
1658  0569  AF          	xor	a,a
1659  056A  77          	ld	(hl),a
1660  056B  2A 00 00    	ld	hl,(_sprite)
1661  056E  26 00       	ld	h,0x00
1662  0570  01 00 00    	ld	bc,_tile
1663  0573  09          	add	hl,bc
1664  0574  E5          	push	hl
1665  0575  3E 01       	ld	a,0x01
1666  0577  21 00 00    	ld	hl,_sprite
1667  057A  F5          	push	af
1668  057B  33          	inc	sp
1669  057C  56          	ld	d, (hl)
1670  057D  1E 58       	ld	e,0x58
1671  057F  D5          	push	de
1672  0580  CD 00 00    	call	_spr_tile_dir
1673  0583  F1          	pop	af
1674  0584  33          	inc	sp
1675  0585  C1          	pop	bc
1676  0586  7D          	ld	a,l
1677  0587  02          	ld	(bc), a
1678  0588  21 00 00    	ld	hl,_s_state
1679  058B  CB 5E       	bit	3, (hl)
1680  058D  20 07       	jr	NZ,l_player_move_00118
1681  058F  21 00 00    	ld	hl,_s_state
1682  0592  CB 56       	bit	2, (hl)
1683  0594  28 03       	jr	Z,l_player_move_00125
1684  0596              l_player_move_00118:
1685  0596  CD F7 00    	call	_player_calc_slide
1686  0599              l_player_move_00125:
1687  0599  CD 00 00    	call	_spr_move_horizontal
1688  059C  21 00 00    	ld	hl,_sprite_lin_inc_mul
1689  059F  36 00       	ld	(hl),0x00
1690  05A1  2A 00 00    	ld	hl,(_index_player)
1691  05A4  26 00       	ld	h,0x00
1692  05A6  01 00 00    	ld	bc,_player_jump_c
1693  05A9  09          	add	hl,bc
1694  05AA  34          	inc	(hl)
1695  05AB              l_player_move_00128:
1696  05AB  CD 00 00    	call	_spr_redraw
1697  05AE  2A 00 00    	ld	hl,(_sprite)
1698  05B1  26 00       	ld	h,0x00
1699  05B3  29          	add	hl, hl
1700  05B4  11 00 00    	ld	de,_spr_timer
1701  05B7  19          	add	hl, de
1702  05B8  4E          	ld	c, (hl)
1703  05B9  23          	inc	hl
1704  05BA  46          	ld	b, (hl)
1705  05BB  21 04 00    	ld	hl,0x0004
1706  05BE  E5          	push	hl
1707  05BF  C5          	push	bc
1708  05C0  CD 00 00    	call	_game_check_time
1709  05C3  F1          	pop	af
1710  05C4  F1          	pop	af
1711  05C5  7D          	ld	a, l
1712  05C6  B7          	or	a, a
1713  05C7  28 03       	jr	Z,l_player_move_00131
1714  05C9  CD 19 0A    	call	_player_hit_brick_clear
1715  05CC              l_player_move_00131:
1716  05CC  2A 00 00    	ld	hl,(_sprite)
1717  05CF  26 00       	ld	h,0x00
1718  05D1  01 00 00    	ld	bc,_state
1719  05D4  09          	add	hl,bc
1720  05D5  3A 00 00    	ld	a,(_s_state)
1721  05D8  77          	ld	(hl),a
1722  05D9  2E 00       	ld	l,0x00
1723  05DB              l_player_move_00132:
1724  05DB  F1          	pop	af
1725  05DC  DD E1       	pop	ix
1726  05DE  C9          	ret
1727  05DF              	SECTION code_compiler
1728  05DF              ;	---------------------------------
1729  05DF              ; Function player_pick_item
1730  05DF              ; ---------------------------------
1731  05DF              _player_pick_item:
1732  05DF  CD 00 00    	call	___sdcc_enter_ix
1733  05E2  3E 00       	ld	a, +((_scr_map) & 0xFF)
1734  05E4  DD 86 04    	add	a,(ix+4)
1735  05E7  4F          	ld	c, a
1736  05E8  3E 00       	ld	a, +((_scr_map) / 256)
1737  05EA  DD 8E 05    	adc	a,(ix+5)
1738  05ED  47          	ld	b, a
1739  05EE  0A          	ld	a, (bc)
1740  05EF  5F          	ld	e,a
1741  05F0  D6 18       	sub	a,0x18
1742  05F2  38 23       	jr	C,l_player_pick_item_00104
1743  05F4  3E 27       	ld	a,0x27
1744  05F6  93          	sub	a, e
1745  05F7  38 1E       	jr	C,l_player_pick_item_00104
1746  05F9  AF          	xor	a, a
1747  05FA  02          	ld	(bc), a
1748  05FB  DD 7E 04    	ld	a,(ix+4)
1749  05FE  E6 0F       	and	a,0x0f
1750  0600  57          	ld	d, a
1751  0601  DD 4E 04    	ld	c,(ix+4)
1752  0604  DD 5E 05    	ld	e,(ix+5)
1753  0607  06 04       	ld	b,0x04
1754  0609  79          	ld	a,c
1755  060A              l_player_pick_item_00114:
1756  060A  CB 3B       	srl	e
1757  060C  1F          	rra
1758  060D  10 FB       	djnz	l_player_pick_item_00114
1759  060F  5F          	ld	e, a
1760  0610  D5          	push	de
1761  0611  AF          	xor	a, a
1762  0612  F5          	push	af
1763  0613  33          	inc	sp
1764  0614  CD 00 00    	call	_NIRVANAP_drawT_callee
1765  0617              l_player_pick_item_00104:
1766  0617  DD E1       	pop	ix
1767  0619  C9          	ret
1768  061A              	SECTION code_compiler
1769  061A              ;	---------------------------------
1770  061A              ; Function player_move_input
1771  061A              ; ---------------------------------
1772  061A              _player_move_input:
1773  061A  21 00 00    	ld	hl,_s_state
1774  061D  CB 46       	bit	0, (hl)
1775  061F  20 07       	jr	NZ,l_player_move_input_00101
1776  0621  21 00 00    	ld	hl,_s_state
1777  0624  CB 4E       	bit	1, (hl)
1778  0626  28 05       	jr	Z,l_player_move_input_00102
1779  0628              l_player_move_input_00101:
1780  0628  2E 00       	ld	l,0x00
1781  062A  C3 A1 08    	jp	l_player_move_input_00135
1782  062D              l_player_move_input_00102:
1783  062D  CD 03 01    	call	_player_check_input
1784  0630  7D          	ld	a, l
1785  0631  B7          	or	a, a
1786  0632  CA C9 07    	jp	Z, l_player_move_input_00131
1787  0635  2A 00 00    	ld	hl,(_index_player)
1788  0638  26 00       	ld	h,0x00
1789  063A  01 00 00    	ld	bc,_sliding
1790  063D  09          	add	hl,bc
1791  063E  46          	ld	b,(hl)
1792  063F  3A 00 00    	ld	a,(_dirs)
1793  0642  E6 80       	and	a,0x80
1794  0644  4F          	ld	c, a
1795  0645  78          	ld	a, b
1796  0646  B7          	or	a, a
1797  0647  28 05       	jr	Z,l_player_move_input_00130
1798  0649  79          	ld	a, c
1799  064A  B7          	or	a, a
1800  064B  CA C9 07    	jp	Z, l_player_move_input_00131
1801  064E              l_player_move_input_00130:
1802  064E  79          	ld	a, c
1803  064F  B7          	or	a, a
1804  0650  CA F8 06    	jp	Z, l_player_move_input_00110
1805  0653  CD 00 00    	call	_ay_is_playing
1806  0656  7D          	ld	a, l
1807  0657  D6 03       	sub	a,0x03
1808  0659  28 06       	jr	Z,l_player_move_input_00105
1809  065B  21 00 00    	ld	hl,_ay_effect_03
1810  065E  CD 00 00    	call	_ay_fx_play
1811  0661              l_player_move_input_00105:
1812  0661  CD 00 00    	call	_sound_jump
1813  0664  2A 00 00    	ld	hl,(_sprite)
1814  0667  26 00       	ld	h,0x00
1815  0669  01 00 00    	ld	bc,_state
1816  066C  09          	add	hl,bc
1817  066D  CB 56       	bit	2,(hl)
1818  066F  28 0D       	jr	Z,l_player_move_input_00107
1819  0671  2A 00 00    	ld	hl,(_sprite)
1820  0674  26 00       	ld	h,0x00
1821  0676  01 00 00    	ld	bc,_colint
1822  0679  09          	add	hl,bc
1823  067A  AF          	xor	a,a
1824  067B  77          	ld	(hl),a
1825  067C  18 0B       	jr	l_player_move_input_00108
1826  067E              l_player_move_input_00107:
1827  067E  2A 00 00    	ld	hl,(_sprite)
1828  0681  26 00       	ld	h,0x00
1829  0683  01 00 00    	ld	bc,_colint
1830  0686  09          	add	hl,bc
1831  0687  36 02       	ld	(hl),0x02
1832  0689              l_player_move_input_00108:
1833  0689  21 00 00    	ld	hl,_s_state
1834  068C  7E          	ld	a,(hl)
1835  068D  F6 01       	or	a,0x01
1836  068F  E6 FD       	and	a,0xfd
1837  0691  77          	ld	(hl),a
1838  0692  2A 00 00    	ld	hl,(_sprite)
1839  0695  26 00       	ld	h,0x00
1840  0697  01 00 00    	ld	bc,_jump_lin
1841  069A  09          	add	hl,bc
1842  069B  4D          	ld	c,l
1843  069C  44          	ld	b,h
1844  069D  2A 00 00    	ld	hl,(_sprite)
1845  06A0  26 00       	ld	h,0x00
1846  06A2  11 00 00    	ld	de,_lin
1847  06A5  19          	add	hl,de
1848  06A6  7E          	ld	a,(hl)
1849  06A7  02          	ld	(bc),a
1850  06A8  2A 00 00    	ld	hl,(_sprite)
1851  06AB  26 00       	ld	h,0x00
1852  06AD  01 00 00    	ld	bc,_state
1853  06B0  09          	add	hl,bc
1854  06B1  3A 00 00    	ld	a,(_s_state)
1855  06B4  77          	ld	(hl),a
1856  06B5  2A 00 00    	ld	hl,(_sprite)
1857  06B8  26 00       	ld	h,0x00
1858  06BA  01 00 00    	ld	bc,_tile
1859  06BD  09          	add	hl,bc
1860  06BE  E5          	push	hl
1861  06BF  3E 08       	ld	a,0x08
1862  06C1  21 00 00    	ld	hl,_sprite
1863  06C4  F5          	push	af
1864  06C5  33          	inc	sp
1865  06C6  56          	ld	d, (hl)
1866  06C7  1E 58       	ld	e,0x58
1867  06C9  D5          	push	de
1868  06CA  CD 00 00    	call	_spr_tile_dir
1869  06CD  F1          	pop	af
1870  06CE  33          	inc	sp
1871  06CF  C1          	pop	bc
1872  06D0  7D          	ld	a,l
1873  06D1  02          	ld	(bc), a
1874  06D2  2A 00 00    	ld	hl,(_sprite)
1875  06D5  26 00       	ld	h,0x00
1876  06D7  01 00 00    	ld	bc,_sprite_speed_alt
1877  06DA  09          	add	hl,bc
1878  06DB  36 02       	ld	(hl),0x02
1879  06DD  2A 00 00    	ld	hl,(_index_player)
1880  06E0  26 00       	ld	h,0x00
1881  06E2  01 00 00    	ld	bc,_player_jump_c
1882  06E5  09          	add	hl,bc
1883  06E6  AF          	xor	a,a
1884  06E7  77          	ld	(hl),a
1885  06E8  2A 00 00    	ld	hl,(_index_player)
1886  06EB  26 00       	ld	h,0x00
1887  06ED  01 00 00    	ld	bc,_sliding
1888  06F0  09          	add	hl,bc
1889  06F1  AF          	xor	a,a
1890  06F2  77          	ld	(hl),a
1891  06F3  2E 01       	ld	l,0x01
1892  06F5  C3 A1 08    	jp	l_player_move_input_00135
1893  06F8              l_player_move_input_00110:
1894  06F8  21 00 00    	ld	hl,_dirs
1895  06FB  CB 5E       	bit	3, (hl)
1896  06FD  28 3F       	jr	Z,l_player_move_input_00114
1897  06FF  21 00 00    	ld	hl,_s_state
1898  0702  CB 5E       	bit	3, (hl)
1899  0704  28 08       	jr	Z,l_player_move_input_00112
1900  0706  CD F7 00    	call	_player_calc_slide
1901  0709  2E 01       	ld	l,0x01
1902  070B  C3 A1 08    	jp	l_player_move_input_00135
1903  070E              l_player_move_input_00112:
1904  070E  21 00 00    	ld	hl,_s_state
1905  0711  7E          	ld	a,(hl)
1906  0712  F6 04       	or	a,0x04
1907  0714  E6 F7       	and	a,0xf7
1908  0716  77          	ld	(hl),a
1909  0717  01 00 00    	ld	bc,_state_a+0
1910  071A  79          	ld	a, c
1911  071B  21 00 00    	ld	hl,_sprite
1912  071E  86          	add	a, (hl)
1913  071F  5F          	ld	e, a
1914  0720  78          	ld	a, b
1915  0721  CE 00       	adc	a,0x00
1916  0723  57          	ld	d, a
1917  0724  1A          	ld	a, (de)
1918  0725  F6 10       	or	a,0x10
1919  0727  12          	ld	(de), a
1920  0728  79          	ld	a, c
1921  0729  86          	add	a, (hl)
1922  072A  5F          	ld	e, a
1923  072B  78          	ld	a, b
1924  072C  CE 00       	adc	a,0x00
1925  072E  57          	ld	d, a
1926  072F  1A          	ld	a, (de)
1927  0730  E6 F7       	and	a,0xf7
1928  0732  12          	ld	(de), a
1929  0733  79          	ld	a, c
1930  0734  86          	add	a, (hl)
1931  0735  4F          	ld	c, a
1932  0736  78          	ld	a, b
1933  0737  CE 00       	adc	a,0x00
1934  0739  47          	ld	b, a
1935  073A  0A          	ld	a, (bc)
1936  073B  F6 20       	or	a,0x20
1937  073D  02          	ld	(bc), a
1938  073E              l_player_move_input_00114:
1939  073E  21 00 00    	ld	hl,_dirs
1940  0741  CB 56       	bit	2, (hl)
1941  0743  28 3F       	jr	Z,l_player_move_input_00118
1942  0745  21 00 00    	ld	hl,_s_state
1943  0748  CB 56       	bit	2, (hl)
1944  074A  28 08       	jr	Z,l_player_move_input_00116
1945  074C  CD F7 00    	call	_player_calc_slide
1946  074F  2E 01       	ld	l,0x01
1947  0751  C3 A1 08    	jp	l_player_move_input_00135
1948  0754              l_player_move_input_00116:
1949  0754  21 00 00    	ld	hl,_s_state
1950  0757  7E          	ld	a,(hl)
1951  0758  F6 08       	or	a,0x08
1952  075A  E6 FB       	and	a,0xfb
1953  075C  77          	ld	(hl),a
1954  075D  01 00 00    	ld	bc,_state_a+0
1955  0760  79          	ld	a, c
1956  0761  21 00 00    	ld	hl,_sprite
1957  0764  86          	add	a, (hl)
1958  0765  5F          	ld	e, a
1959  0766  78          	ld	a, b
1960  0767  CE 00       	adc	a,0x00
1961  0769  57          	ld	d, a
1962  076A  1A          	ld	a, (de)
1963  076B  F6 08       	or	a,0x08
1964  076D  12          	ld	(de), a
1965  076E  79          	ld	a, c
1966  076F  86          	add	a, (hl)
1967  0770  5F          	ld	e, a
1968  0771  78          	ld	a, b
1969  0772  CE 00       	adc	a,0x00
1970  0774  57          	ld	d, a
1971  0775  1A          	ld	a, (de)
1972  0776  E6 EF       	and	a,0xef
1973  0778  12          	ld	(de), a
1974  0779  79          	ld	a, c
1975  077A  86          	add	a, (hl)
1976  077B  4F          	ld	c, a
1977  077C  78          	ld	a, b
1978  077D  CE 00       	adc	a,0x00
1979  077F  47          	ld	b, a
1980  0780  0A          	ld	a, (bc)
1981  0781  F6 20       	or	a,0x20
1982  0783  02          	ld	(bc), a
1983  0784              l_player_move_input_00118:
1984  0784  2A 00 00    	ld	hl,(_sprite)
1985  0787  26 00       	ld	h,0x00
1986  0789  01 00 00    	ld	bc,_state
1987  078C  09          	add	hl,bc
1988  078D  3A 00 00    	ld	a,(_s_state)
1989  0790  77          	ld	(hl),a
1990  0791  2A 00 00    	ld	hl,(_sprite)
1991  0794  26 00       	ld	h,0x00
1992  0796  01 00 00    	ld	bc,_tile
1993  0799  09          	add	hl,bc
1994  079A  E5          	push	hl
1995  079B  3E 08       	ld	a,0x08
1996  079D  21 00 00    	ld	hl,_sprite
1997  07A0  F5          	push	af
1998  07A1  33          	inc	sp
1999  07A2  56          	ld	d, (hl)
2000  07A3  1E 54       	ld	e,0x54
2001  07A5  D5          	push	de
2002  07A6  CD 00 00    	call	_spr_tile_dir
2003  07A9  F1          	pop	af
2004  07AA  33          	inc	sp
2005  07AB  C1          	pop	bc
2006  07AC  7D          	ld	a,l
2007  07AD  02          	ld	(bc), a
2008  07AE  CD 00 00    	call	_ay_is_playing
2009  07B1  7D          	ld	a, l
2010  07B2  B7          	or	a, a
2011  07B3  20 0C       	jr	NZ,l_player_move_input_00120
2012  07B5  3A 00 00    	ld	a,(_game_bonus)
2013  07B8  B7          	or	a, a
2014  07B9  20 06       	jr	NZ,l_player_move_input_00120
2015  07BB  21 00 00    	ld	hl,_ay_effect_20
2016  07BE  CD 00 00    	call	_ay_fx_play
2017  07C1              l_player_move_input_00120:
2018  07C1  CD 00 00    	call	_spr_move_horizontal
2019  07C4  2E 01       	ld	l,0x01
2020  07C6  C3 A1 08    	jp	l_player_move_input_00135
2021  07C9              l_player_move_input_00131:
2022  07C9  2A 00 00    	ld	hl,(_sprite)
2023  07CC  26 00       	ld	h,0x00
2024  07CE  01 00 00    	ld	bc,_state_a
2025  07D1  09          	add	hl,bc
2026  07D2  CB 6E       	bit	5,(hl)
2027  07D4  28 10       	jr	Z,l_player_move_input_00123
2028  07D6  CD F7 00    	call	_player_calc_slide
2029  07D9  2A 00 00    	ld	hl,(_sprite)
2030  07DC  26 00       	ld	h,0x00
2031  07DE  01 00 00    	ld	bc,_state_a
2032  07E1  09          	add	hl,bc
2033  07E2  7E          	ld	a,(hl)
2034  07E3  E6 DF       	and	a,0xdf
2035  07E5  77          	ld	(hl),a
2036  07E6              l_player_move_input_00123:
2037  07E6  2A 00 00    	ld	hl,(_index_player)
2038  07E9  26 00       	ld	h,0x00
2039  07EB  01 00 00    	ld	bc,_sliding
2040  07EE  09          	add	hl,bc
2041  07EF  7E          	ld	a,(hl)
2042  07F0  B7          	or	a, a
2043  07F1  CA 9F 08    	jp	Z, l_player_move_input_00129
2044  07F4  CD 00 00    	call	_ay_is_playing
2045  07F7  7D          	ld	a, l
2046  07F8  D6 03       	sub	a,0x03
2047  07FA  28 06       	jr	Z,l_player_move_input_00125
2048  07FC  21 00 00    	ld	hl,_ay_effect_01
2049  07FF  CD 00 00    	call	_ay_fx_play
2050  0802              l_player_move_input_00125:
2051  0802  CD 00 00    	call	_sound_slide
2052  0805  CD 00 00    	call	_spr_move_horizontal
2053  0808  2A 00 00    	ld	hl,(_index_player)
2054  080B  26 00       	ld	h,0x00
2055  080D  01 00 00    	ld	bc,_sliding
2056  0810  09          	add	hl,bc
2057  0811  7E          	ld	a,(hl)
2058  0812  C6 FF       	add	a,0xff
2059  0814  77          	ld	(hl),a
2060  0815  2A 00 00    	ld	hl,(_sprite)
2061  0818  26 00       	ld	h,0x00
2062  081A  01 00 00    	ld	bc,_sprite_speed_alt
2063  081D  09          	add	hl,bc
2064  081E  AF          	xor	a,a
2065  081F  77          	ld	(hl),a
2066  0820  2A 00 00    	ld	hl,(_sprite)
2067  0823  26 00       	ld	h,0x00
2068  0825  01 00 00    	ld	bc,_tile
2069  0828  09          	add	hl,bc
2070  0829  E5          	push	hl
2071  082A  3E 08       	ld	a,0x08
2072  082C  21 00 00    	ld	hl,_sprite
2073  082F  F5          	push	af
2074  0830  33          	inc	sp
2075  0831  56          	ld	d, (hl)
2076  0832  1E 54       	ld	e,0x54
2077  0834  D5          	push	de
2078  0835  CD 00 00    	call	_spr_tile_dir
2079  0838  F1          	pop	af
2080  0839  33          	inc	sp
2081  083A  C1          	pop	bc
2082  083B  7D          	ld	a,l
2083  083C  02          	ld	(bc), a
2084  083D  2A 00 00    	ld	hl,(_index_player)
2085  0840  26 00       	ld	h,0x00
2086  0842  01 00 00    	ld	bc,_sliding
2087  0845  09          	add	hl,bc
2088  0846  7E          	ld	a,(hl)
2089  0847  B7          	or	a, a
2090  0848  20 55       	jr	NZ,l_player_move_input_00129
2091  084A  01 00 00    	ld	bc,_spr_timer+0
2092  084D  2A 00 00    	ld	hl,(_sprite)
2093  0850  26 00       	ld	h,0x00
2094  0852  29          	add	hl, hl
2095  0853  09          	add	hl, bc
2096  0854  AF          	xor	a, a
2097  0855  77          	ld	(hl), a
2098  0856  23          	inc	hl
2099  0857  77          	ld	(hl), a
2100  0858  2A 00 00    	ld	hl,(_sprite)
2101  085B  26 00       	ld	h,0x00
2102  085D  01 00 00    	ld	bc,_colint
2103  0860  09          	add	hl,bc
2104  0861  AF          	xor	a,a
2105  0862  77          	ld	(hl),a
2106  0863  2A 00 00    	ld	hl,(_sprite)
2107  0866  26 00       	ld	h,0x00
2108  0868  01 00 00    	ld	bc,_tile
2109  086B  09          	add	hl,bc
2110  086C  E5          	push	hl
2111  086D  3E 01       	ld	a,0x01
2112  086F  21 00 00    	ld	hl,_sprite
2113  0872  F5          	push	af
2114  0873  33          	inc	sp
2115  0874  56          	ld	d, (hl)
2116  0875  1E 58       	ld	e,0x58
2117  0877  D5          	push	de
2118  0878  CD 00 00    	call	_spr_tile_dir
2119  087B  F1          	pop	af
2120  087C  33          	inc	sp
2121  087D  C1          	pop	bc
2122  087E  7D          	ld	a,l
2123  087F  02          	ld	(bc), a
2124  0880  01 00 00    	ld	bc,_state+0
2125  0883  79          	ld	a, c
2126  0884  21 00 00    	ld	hl,_sprite
2127  0887  86          	add	a, (hl)
2128  0888  5F          	ld	e, a
2129  0889  78          	ld	a, b
2130  088A  CE 00       	adc	a,0x00
2131  088C  57          	ld	d, a
2132  088D  1A          	ld	a, (de)
2133  088E  E6 FB       	and	a,0xfb
2134  0890  12          	ld	(de), a
2135  0891  79          	ld	a, c
2136  0892  86          	add	a, (hl)
2137  0893  4F          	ld	c, a
2138  0894  78          	ld	a, b
2139  0895  CE 00       	adc	a,0x00
2140  0897  47          	ld	b, a
2141  0898  0A          	ld	a, (bc)
2142  0899  E6 F7       	and	a,0xf7
2143  089B  02          	ld	(bc), a
2144  089C  CD A2 0B    	call	_player_check_floor
2145  089F              l_player_move_input_00129:
2146  089F  2E 00       	ld	l,0x00
2147  08A1              l_player_move_input_00135:
2148  08A1  C9          	ret
2149  08A2              	SECTION code_compiler
2150  08A2              ;	---------------------------------
2151  08A2              ; Function player_hit_brick
2152  08A2              ; ---------------------------------
2153  08A2              _player_hit_brick:
2154  08A2  2A 00 00    	ld	hl,(_index_player)
2155  08A5  26 00       	ld	h,0x00
2156  08A7  01 00 00    	ld	bc,_hit_lin
2157  08AA  09          	add	hl,bc
2158  08AB  7E          	ld	a,(hl)
2159  08AC  B7          	or	a, a
2160  08AD  C2 16 0A    	jp	NZ, l_player_hit_brick_00120
2161  08B0  2A 00 00    	ld	hl,(_sprite)
2162  08B3  26 00       	ld	h,0x00
2163  08B5  01 00 00    	ld	bc,_lin
2164  08B8  09          	add	hl,bc
2165  08B9  4E          	ld	c,(hl)
2166  08BA  3E 10       	ld	a,0x10
2167  08BC  91          	sub	a, c
2168  08BD  D2 16 0A    	jp	NC, l_player_hit_brick_00120
2169  08C0  21 00 00    	ld	hl,_enemies
2170  08C3  36 00       	ld	(hl),0x00
2171  08C5              l_player_hit_brick_00122:
2172  08C5  2A 00 00    	ld	hl,(_enemies)
2173  08C8  26 00       	ld	h,0x00
2174  08CA  01 00 00    	ld	bc,_class
2175  08CD  09          	add	hl,bc
2176  08CE  7E          	ld	a,(hl)
2177  08CF  B7          	or	a, a
2178  08D0  28 64       	jr	Z,l_player_hit_brick_00123
2179  08D2  2A 00 00    	ld	hl,(_sprite)
2180  08D5  26 00       	ld	h,0x00
2181  08D7  01 00 00    	ld	bc,_lin
2182  08DA  09          	add	hl,bc
2183  08DB  4E          	ld	c,(hl)
2184  08DC  06 00       	ld	b,0x00
2185  08DE  2A 00 00    	ld	hl,(_enemies)
2186  08E1  60          	ld	h,b
2187  08E2  11 00 00    	ld	de,_lin
2188  08E5  19          	add	hl,de
2189  08E6  5E          	ld	e, (hl)
2190  08E7  16 00       	ld	d,0x00
2191  08E9  79          	ld	a,c
2192  08EA  93          	sub	a,e
2193  08EB  4F          	ld	c,a
2194  08EC  78          	ld	a,b
2195  08ED  9A          	sbc	a,d
2196  08EE  47          	ld	b,a
2197  08EF  79          	ld	a,c
2198  08F0  D6 18       	sub	a,0x18
2199  08F2  B0          	or	a,b
2200  08F3  20 41       	jr	NZ,l_player_hit_brick_00123
2201  08F5  2A 00 00    	ld	hl,(_enemies)
2202  08F8  26 00       	ld	h,0x00
2203  08FA  01 00 00    	ld	bc,_state
2204  08FD  09          	add	hl,bc
2205  08FE  CB 6E       	bit	5,(hl)
2206  0900  20 34       	jr	NZ,l_player_hit_brick_00123
2207  0902  2A 00 00    	ld	hl,(_sprite)
2208  0905  26 00       	ld	h,0x00
2209  0907  01 00 00    	ld	bc,_col
2210  090A  09          	add	hl,bc
2211  090B  4E          	ld	c,(hl)
2212  090C  06 00       	ld	b,0x00
2213  090E  2A 00 00    	ld	hl,(_enemies)
2214  0911  60          	ld	h,b
2215  0912  11 00 00    	ld	de,_col
2216  0915  19          	add	hl,de
2217  0916  5E          	ld	e, (hl)
2218  0917  16 00       	ld	d,0x00
2219  0919  79          	ld	a, c
2220  091A  93          	sub	a, e
2221  091B  6F          	ld	l, a
2222  091C  78          	ld	a, b
2223  091D  9A          	sbc	a, d
2224  091E  67          	ld	h, a
2225  091F  CD 00 00    	call	_abs_fastcall
2226  0922  3E 02       	ld	a,0x02
2227  0924  BD          	cp	a,l
2228  0925  3E 00       	ld	a,0x00
2229  0927  9C          	sbc	a,h
2230  0928  E2 2D 09    	jp	PO, l_player_hit_brick_00178
2231  092B  EE 80       	xor	a,0x80
2232  092D              l_player_hit_brick_00178:
2233  092D  FA 36 09    	jp	M, l_player_hit_brick_00123
2234  0930  CD 00 00    	call	_enemy_hit
2235  0933  CD 00 00    	call	_sound_hit_enemy
2236  0936              l_player_hit_brick_00123:
2237  0936  21 00 00    	ld	hl,_enemies
2238  0939  7E          	ld	a,(hl)
2239  093A  3C          	inc	a
2240  093B  77          	ld	(hl),a
2241  093C  D6 06       	sub	a,0x06
2242  093E  38 85       	jr	C,l_player_hit_brick_00122
2243  0940  2A 00 00    	ld	hl,(_sprite)
2244  0943  26 00       	ld	h,0x00
2245  0945  01 00 00    	ld	bc,_state_a
2246  0948  09          	add	hl,bc
2247  0949  7E          	ld	a,(hl)
2248  094A  F6 80       	or	a,0x80
2249  094C  77          	ld	(hl),a
2250  094D  2A 00 00    	ld	hl,(_index_player)
2251  0950  26 00       	ld	h,0x00
2252  0952  01 00 00    	ld	bc,_player_jump_c
2253  0955  09          	add	hl,bc
2254  0956  36 FE       	ld	(hl),0xfe
2255  0958  01 00 00    	ld	bc,_spr_timer+0
2256  095B  2A 00 00    	ld	hl,(_sprite)
2257  095E  26 00       	ld	h,0x00
2258  0960  29          	add	hl, hl
2259  0961  09          	add	hl,bc
2260  0962  ED 5B 00 00 	ld	de,(_curr_time)
2261  0966  73          	ld	(hl),e
2262  0967  23          	inc	hl
2263  0968  72          	ld	(hl),d
2264  0969  3A 00 00    	ld	a,(_index_player)
2265  096C  C6 00       	add	a,+((_hit_lin) & 0xFF)
2266  096E  5F          	ld	e,a
2267  096F  3E 00       	ld	a,+((_hit_lin) / 256)
2268  0971  CE 00       	adc	a,0x00
2269  0973  57          	ld	d,a
2270  0974  2A 00 00    	ld	hl,(_sprite)
2271  0977  26 00       	ld	h,0x00
2272  0979  01 00 00    	ld	bc,_lin
2273  097C  09          	add	hl,bc
2274  097D  4E          	ld	c,(hl)
2275  097E  06 00       	ld	b,0x00
2276  0980  21 F8 FF    	ld	hl,0xfff8
2277  0983  09          	add	hl,bc
2278  0984  06 04       	ld	b,0x04
2279  0986              l_player_hit_brick_00179:
2280  0986  CB 2C       	sra	h
2281  0988  CB 1D       	rr	l
2282  098A  10 FA       	djnz	l_player_hit_brick_00179
2283  098C  7D          	ld	a, l
2284  098D  07          	rlca
2285  098E  07          	rlca
2286  098F  07          	rlca
2287  0990  07          	rlca
2288  0991  E6 F0       	and	a,0xf0
2289  0993  C6 08       	add	a,0x08
2290  0995  12          	ld	(de), a
2291  0996  2A 00 00    	ld	hl,(_sprite)
2292  0999  26 00       	ld	h,0x00
2293  099B  01 00 00    	ld	bc,_col
2294  099E  09          	add	hl,bc
2295  099F  4E          	ld	c,(hl)
2296  09A0  CB 41       	bit	0,c
2297  09A2  20 0F       	jr	NZ,l_player_hit_brick_00117
2298  09A4  3A 00 00    	ld	a,(_index_player)
2299  09A7  C6 00       	add	a,+((_hit_col) & 0xFF)
2300  09A9  5F          	ld	e,a
2301  09AA  3E 00       	ld	a,+((_hit_col) / 256)
2302  09AC  CE 00       	adc	a,0x00
2303  09AE  57          	ld	d,a
2304  09AF  79          	ld	a, c
2305  09B0  12          	ld	(de), a
2306  09B1  18 57       	jr	l_player_hit_brick_00118
2307  09B3              l_player_hit_brick_00117:
2308  09B3  2A 00 00    	ld	hl,(_sprite)
2309  09B6  26 00       	ld	h,0x00
2310  09B8  11 00 00    	ld	de,_state
2311  09BB  19          	add	hl,de
2312  09BC  5E          	ld	e, (hl)
2313  09BD  41          	ld	b, c
2314  09BE  04          	inc	b
2315  09BF  0D          	dec	c
2316  09C0  CB 5B       	bit	3, e
2317  09C2  28 24       	jr	Z,l_player_hit_brick_00114
2318  09C4  3A 00 00    	ld	a,(_g_hit_right)
2319  09C7  B7          	or	a, a
2320  09C8  28 0F       	jr	Z,l_player_hit_brick_00108
2321  09CA  3A 00 00    	ld	a,(_index_player)
2322  09CD  C6 00       	add	a,+((_hit_col) & 0xFF)
2323  09CF  5F          	ld	e,a
2324  09D0  3E 00       	ld	a,+((_hit_col) / 256)
2325  09D2  CE 00       	adc	a,0x00
2326  09D4  57          	ld	d,a
2327  09D5  78          	ld	a, b
2328  09D6  12          	ld	(de), a
2329  09D7  18 31       	jr	l_player_hit_brick_00118
2330  09D9              l_player_hit_brick_00108:
2331  09D9  3A 00 00    	ld	a,(_index_player)
2332  09DC  C6 00       	add	a,+((_hit_col) & 0xFF)
2333  09DE  5F          	ld	e,a
2334  09DF  3E 00       	ld	a,+((_hit_col) / 256)
2335  09E1  CE 00       	adc	a,0x00
2336  09E3  57          	ld	d,a
2337  09E4  79          	ld	a, c
2338  09E5  12          	ld	(de), a
2339  09E6  18 22       	jr	l_player_hit_brick_00118
2340  09E8              l_player_hit_brick_00114:
2341  09E8  3A 00 00    	ld	a,(_g_hit_left)
2342  09EB  B7          	or	a, a
2343  09EC  28 0F       	jr	Z,l_player_hit_brick_00111
2344  09EE  3A 00 00    	ld	a,(_index_player)
2345  09F1  C6 00       	add	a,+((_hit_col) & 0xFF)
2346  09F3  5F          	ld	e,a
2347  09F4  3E 00       	ld	a,+((_hit_col) / 256)
2348  09F6  CE 00       	adc	a,0x00
2349  09F8  57          	ld	d,a
2350  09F9  79          	ld	a, c
2351  09FA  12          	ld	(de), a
2352  09FB  18 0D       	jr	l_player_hit_brick_00118
2353  09FD              l_player_hit_brick_00111:
2354  09FD  3A 00 00    	ld	a,(_index_player)
2355  0A00  C6 00       	add	a,+((_hit_col) & 0xFF)
2356  0A02  5F          	ld	e,a
2357  0A03  3E 00       	ld	a,+((_hit_col) / 256)
2358  0A05  CE 00       	adc	a,0x00
2359  0A07  57          	ld	d,a
2360  0A08  78          	ld	a, b
2361  0A09  12          	ld	(de), a
2362  0A0A              l_player_hit_brick_00118:
2363  0A0A  2E 01       	ld	l,0x01
2364  0A0C  CD 00 00    	call	_spr_brick_anim
2365  0A0F  CD 00 00    	call	_sound_hit_brick
2366  0A12  2E 01       	ld	l,0x01
2367  0A14  18 02       	jr	l_player_hit_brick_00124
2368  0A16              l_player_hit_brick_00120:
2369  0A16  2E 00       	ld	l,0x00
2370  0A18              l_player_hit_brick_00124:
2371  0A18  C9          	ret
2372  0A19              	SECTION code_compiler
2373  0A19              ;	---------------------------------
2374  0A19              ; Function player_hit_brick_clear
2375  0A19              ; ---------------------------------
2376  0A19              _player_hit_brick_clear:
2377  0A19  2A 00 00    	ld	hl,(_index_player)
2378  0A1C  26 00       	ld	h,0x00
2379  0A1E  01 00 00    	ld	bc,_hit_lin
2380  0A21  09          	add	hl,bc
2381  0A22  7E          	ld	a,(hl)
2382  0A23  47          	ld	b,a
2383  0A24  B7          	or	a,a
2384  0A25  C8          	ret	Z
2385  0A26  3A 00 00    	ld	a,(_index_player)
2386  0A29  5F          	ld	e,a
2387  0A2A  16 00       	ld	d,0x00
2388  0A2C  21 00 00    	ld	hl,_hit_col
2389  0A2F  19          	add	hl,de
2390  0A30  7E          	ld	a,(hl)
2391  0A31  48          	ld	c,b
2392  0A32  47          	ld	b,a
2393  0A33  C5          	push	bc
2394  0A34  CD 00 00    	call	_spr_calc_index
2395  0A37  F1          	pop	af
2396  0A38  22 00 00    	ld	(_index1),hl
2397  0A3B  2E 00       	ld	l,0x00
2398  0A3D  CD 00 00    	call	_spr_brick_anim
2399  0A40  2A 00 00    	ld	hl,(_index_player)
2400  0A43  26 00       	ld	h,0x00
2401  0A45  01 00 00    	ld	bc,_hit_lin
2402  0A48  09          	add	hl,bc
2403  0A49  AF          	xor	a,a
2404  0A4A  77          	ld	(hl),a
2405  0A4B  2A 00 00    	ld	hl,(_index_player)
2406  0A4E  26 00       	ld	h,0x00
2407  0A50  01 00 00    	ld	bc,_hit_col
2408  0A53  09          	add	hl,bc
2409  0A54  AF          	xor	a,a
2410  0A55  77          	ld	(hl),a
2411  0A56  C9          	ret
2412  0A57              	SECTION code_compiler
2413  0A57              ;	---------------------------------
2414  0A57              ; Function player_coin
2415  0A57              ; ---------------------------------
2416  0A57              _player_coin:
2417  0A57  CD 00 00    	call	___sdcc_enter_ix
2418  0A5A  3E 00       	ld	a, +((_class) & 0xFF)
2419  0A5C  DD 86 04    	add	a,(ix+4)
2420  0A5F  4F          	ld	c, a
2421  0A60  3E 00       	ld	a, +((_class) / 256)
2422  0A62  CE 00       	adc	a,0x00
2423  0A64  47          	ld	b, a
2424  0A65  0A          	ld	a, (bc)
2425  0A66  D6 07       	sub	a,0x07
2426  0A68  20 16       	jr	NZ,l_player_coin_00102
2427  0A6A  21 00 00    	ld	hl,_ay_effect_12
2428  0A6D  CD 00 00    	call	_ay_fx_play
2429  0A70  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2430  0A72  DD 86 04    	add	a,(ix+4)
2431  0A75  4F          	ld	c, a
2432  0A76  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2433  0A78  CE 00       	adc	a,0x00
2434  0A7A  47          	ld	b, a
2435  0A7B  3E 03       	ld	a,0x03
2436  0A7D  02          	ld	(bc), a
2437  0A7E  18 17       	jr	l_player_coin_00103
2438  0A80              l_player_coin_00102:
2439  0A80  21 00 00    	ld	hl,_ay_effect_10
2440  0A83  CD 00 00    	call	_ay_fx_play
2441  0A86  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
2442  0A88  DD 86 04    	add	a,(ix+4)
2443  0A8B  4F          	ld	c, a
2444  0A8C  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
2445  0A8E  CE 00       	adc	a,0x00
2446  0A90  47          	ld	b, a
2447  0A91  3E 08       	ld	a,0x08
2448  0A93  02          	ld	(bc), a
2449  0A94  CD 00 00    	call	_sound_coin
2450  0A97              l_player_coin_00103:
2451  0A97  3E 00       	ld	a, +((_state) & 0xFF)
2452  0A99  DD 86 04    	add	a,(ix+4)
2453  0A9C  4F          	ld	c, a
2454  0A9D  3E 00       	ld	a, +((_state) / 256)
2455  0A9F  CE 00       	adc	a,0x00
2456  0AA1  47          	ld	b, a
2457  0AA2  0A          	ld	a, (bc)
2458  0AA3  E6 FE       	and	a,0xfe
2459  0AA5  F6 20       	or	a,0x20
2460  0AA7  02          	ld	(bc),a
2461  0AA8  01 00 00    	ld	bc,_spr_timer+0
2462  0AAB  DD 6E 04    	ld	l,(ix+4)
2463  0AAE  26 00       	ld	h,0x00
2464  0AB0  29          	add	hl, hl
2465  0AB1  09          	add	hl,bc
2466  0AB2  ED 5B 00 00 	ld	de,(_curr_time)
2467  0AB6  73          	ld	(hl),e
2468  0AB7  23          	inc	hl
2469  0AB8  72          	ld	(hl),d
2470  0AB9  3A 00 00    	ld	a,(_game_bonus)
2471  0ABC  B7          	or	a, a
2472  0ABD  28 1B       	jr	Z,l_player_coin_00107
2473  0ABF  2A 00 00    	ld	hl,(_index_player)
2474  0AC2  26 00       	ld	h,0x00
2475  0AC4  01 00 00    	ld	bc,_phase_bonus_total
2476  0AC7  09          	add	hl,bc
2477  0AC8  7E          	ld	a,(hl)
2478  0AC9  3C          	inc	a
2479  0ACA  77          	ld	(hl),a
2480  0ACB  4D          	ld	c,l
2481  0ACC  44          	ld	b,h
2482  0ACD  21 00 00    	ld	hl,_phase_left
2483  0AD0  35          	dec (hl)
2484  0AD1  20 0F       	jr	NZ,l_player_coin_00109
2485  0AD3  21 00 00    	ld	hl,_phase_end
2486  0AD6  36 01       	ld	(hl),0x01
2487  0AD8  18 08       	jr	l_player_coin_00109
2488  0ADA              l_player_coin_00107:
2489  0ADA  DD 6E 05    	ld	l,(ix+5)
2490  0ADD  26 00       	ld	h,0x00
2491  0ADF  CD E5 0A    	call	_player_score_add
2492  0AE2              l_player_coin_00109:
2493  0AE2  DD E1       	pop	ix
2494  0AE4  C9          	ret
2495  0AE5              	SECTION code_compiler
2496  0AE5              ;	---------------------------------
2497  0AE5              ; Function player_score_add
2498  0AE5              ; ---------------------------------
2499  0AE5              _player_score_add:
2500  0AE5  4D          	ld	c, l
2501  0AE6  44          	ld	b, h
2502  0AE7  2A 00 00    	ld	hl,(_index_player)
2503  0AEA  26 00       	ld	h,0x00
2504  0AEC  29          	add	hl, hl
2505  0AED  11 00 00    	ld	de,_player_score
2506  0AF0  19          	add	hl, de
2507  0AF1  5E          	ld	e,(hl)
2508  0AF2  23          	inc	hl
2509  0AF3  56          	ld	d,(hl)
2510  0AF4  2B          	dec	hl
2511  0AF5  7B          	ld	a, e
2512  0AF6  81          	add	a, c
2513  0AF7  4F          	ld	c, a
2514  0AF8  7A          	ld	a, d
2515  0AF9  88          	adc	a, b
2516  0AFA  47          	ld	b, a
2517  0AFB  71          	ld	(hl), c
2518  0AFC  23          	inc	hl
2519  0AFD  70          	ld	(hl), b
2520  0AFE  2A 00 00    	ld	hl,(_index_player)
2521  0B01  26 00       	ld	h,0x00
2522  0B03  29          	add	hl,hl
2523  0B04  4D          	ld	c,l
2524  0B05  44          	ld	b,h
2525  0B06  21 00 00    	ld	hl,_player_score
2526  0B09  09          	add	hl, bc
2527  0B0A  5E          	ld	e, (hl)
2528  0B0B  23          	inc	hl
2529  0B0C  56          	ld	d, (hl)
2530  0B0D  21 00 00    	ld	hl,_game_score_top
2531  0B10  7E          	ld	a, (hl)
2532  0B11  93          	sub	a, e
2533  0B12  23          	inc	hl
2534  0B13  7E          	ld	a, (hl)
2535  0B14  9A          	sbc	a, d
2536  0B15  30 04       	jr	NC,l_player_score_add_00102
2537  0B17  2B          	dec	hl
2538  0B18  73          	ld	(hl), e
2539  0B19  23          	inc	hl
2540  0B1A  72          	ld	(hl), d
2541  0B1B              l_player_score_add_00102:
2542  0B1B  21 00 00    	ld	hl,_player_next_extra
2543  0B1E  09          	add	hl, bc
2544  0B1F  4E          	ld	c,(hl)
2545  0B20  23          	inc	hl
2546  0B21  46          	ld	b,(hl)
2547  0B22  2B          	dec	hl
2548  0B23  79          	ld	a, c
2549  0B24  93          	sub	a, e
2550  0B25  78          	ld	a, b
2551  0B26  9A          	sbc	a, d
2552  0B27  30 76       	jr	NC,l_player_score_add_00113
2553  0B29  79          	ld	a,c
2554  0B2A  C6 D0       	add	a,0xd0
2555  0B2C  77          	ld	(hl),a
2556  0B2D  78          	ld	a,b
2557  0B2E  CE 07       	adc	a,0x07
2558  0B30  23          	inc	hl
2559  0B31  77          	ld	(hl),a
2560  0B32  2A 00 00    	ld	hl,(_index_player)
2561  0B35  26 00       	ld	h,0x00
2562  0B37  01 00 00    	ld	bc,_game_lives
2563  0B3A  09          	add	hl,bc
2564  0B3B  34          	inc	(hl)
2565  0B3C  21 00 00    	ld	hl,_hit_count
2566  0B3F  36 10       	ld	(hl),0x10
2567  0B41  3A 00 00    	ld	a,(_game_bonus)
2568  0B44  B7          	or	a, a
2569  0B45  20 03       	jr	NZ,l_player_score_add_00104
2570  0B47  CD 00 00    	call	_game_print_lives
2571  0B4A              l_player_score_add_00104:
2572  0B4A  21 00 00    	ld	hl,_tmp0
2573  0B4D  36 00       	ld	(hl),0x00
2574  0B4F              l_player_score_add_00114:
2575  0B4F  3A 00 00    	ld	a,(_index_player)
2576  0B52  B7          	or	a, a
2577  0B53  20 07       	jr	NZ,l_player_score_add_00106
2578  0B55  2E 01       	ld	l,0x01
2579  0B57  CD 00 00    	call	_zx_border_fastcall
2580  0B5A  18 05       	jr	l_player_score_add_00107
2581  0B5C              l_player_score_add_00106:
2582  0B5C  2E 07       	ld	l,0x07
2583  0B5E  CD 00 00    	call	_zx_border_fastcall
2584  0B61              l_player_score_add_00107:
2585  0B61  21 05 00    	ld	hl,0x0005
2586  0B64  CD 00 00    	call	_z80_delay_ms_fastcall
2587  0B67  3A 00 00    	ld	a,(_index_player)
2588  0B6A  B7          	or	a, a
2589  0B6B  20 07       	jr	NZ,l_player_score_add_00109
2590  0B6D  2E 02       	ld	l,0x02
2591  0B6F  CD 00 00    	call	_zx_border_fastcall
2592  0B72  18 05       	jr	l_player_score_add_00110
2593  0B74              l_player_score_add_00109:
2594  0B74  2E 04       	ld	l,0x04
2595  0B76  CD 00 00    	call	_zx_border_fastcall
2596  0B79              l_player_score_add_00110:
2597  0B79  21 05 00    	ld	hl,0x0005
2598  0B7C  CD 00 00    	call	_z80_delay_ms_fastcall
2599  0B7F  21 00 00    	ld	hl,_tmp0
2600  0B82  7E          	ld	a,(hl)
2601  0B83  3C          	inc	a
2602  0B84  77          	ld	(hl),a
2603  0B85  D6 06       	sub	a,0x06
2604  0B87  38 C6       	jr	C,l_player_score_add_00114
2605  0B89  CD 00 00    	call	_sound_coin
2606  0B8C  CD 00 00    	call	_sound_coin
2607  0B8F  CD 00 00    	call	_sound_coin
2608  0B92  CD 00 00    	call	_sound_coin
2609  0B95  2E 00       	ld	l,0x00
2610  0B97  CD 00 00    	call	_zx_border_fastcall
2611  0B9A  21 00 00    	ld	hl,_hit_count
2612  0B9D  36 08       	ld	(hl),0x08
2613  0B9F              l_player_score_add_00113:
2614  0B9F  C3 00 00    	jp  _game_print_score
2615  0BA2              	SECTION code_compiler
2616  0BA2              ;	---------------------------------
2617  0BA2              ; Function player_check_floor
2618  0BA2              ; ---------------------------------
2619  0BA2              _player_check_floor:
2620  0BA2  CD 00 00    	call	___sdcc_enter_ix
2621  0BA5  3B          	dec	sp
2622  0BA6  2A 00 00    	ld	hl,(_sprite)
2623  0BA9  26 00       	ld	h,0x00
2624  0BAB  01 00 00    	ld	bc,_col
2625  0BAE  09          	add	hl,bc
2626  0BAF  56          	ld	d, (hl)
2627  0BB0  2A 00 00    	ld	hl,(_sprite)
2628  0BB3  26 00       	ld	h,0x00
2629  0BB5  01 00 00    	ld	bc,_lin
2630  0BB8  09          	add	hl,bc
2631  0BB9  7E          	ld	a,(hl)
2632  0BBA  C6 10       	add	a,0x10
2633  0BBC  5F          	ld	e, a
2634  0BBD  D5          	push	de
2635  0BBE  CD 00 00    	call	_spr_calc_index
2636  0BC1  F1          	pop	af
2637  0BC2  4D          	ld	c, l
2638  0BC3  44          	ld	b, h
2639  0BC4  21 00 00    	ld	hl,_scr_map
2640  0BC7  09          	add	hl, bc
2641  0BC8  7E          	ld	a, (hl)
2642  0BC9  DD 77 FF    	ld	(ix-1),a
2643  0BCC  2A 00 00    	ld	hl,(_sprite)
2644  0BCF  26 00       	ld	h,0x00
2645  0BD1  11 00 00    	ld	de,_col
2646  0BD4  19          	add	hl,de
2647  0BD5  7E          	ld	a,(hl)
2648  0BD6  0F          	rrca
2649  0BD7  38 04       	jr	C,l_player_check_floor_00102
2650  0BD9  0E 01       	ld	c,0x01
2651  0BDB  18 06       	jr	l_player_check_floor_00103
2652  0BDD              l_player_check_floor_00102:
2653  0BDD  03          	inc	bc
2654  0BDE  21 00 00    	ld	hl,_scr_map
2655  0BE1  09          	add	hl, bc
2656  0BE2  4E          	ld	c, (hl)
2657  0BE3              l_player_check_floor_00103:
2658  0BE3  3A 00 00    	ld	a,(_s_lin0)
2659  0BE6  D6 90       	sub	a,0x90
2660  0BE8  20 04       	jr	NZ,l_player_check_floor_00105
2661  0BEA  DD 36 FF 3C 	ld	(ix-1),0x3c
2662  0BEE              l_player_check_floor_00105:
2663  0BEE  DD 7E FF    	ld	a,(ix-1)
2664  0BF1  D6 30       	sub	a,0x30
2665  0BF3  38 07       	jr	C,l_player_check_floor_00110
2666  0BF5  3E 4C       	ld	a,0x4c
2667  0BF7  DD 96 FF    	sub	a,(ix-1)
2668  0BFA  30 1A       	jr	NC,l_player_check_floor_00111
2669  0BFC              l_player_check_floor_00110:
2670  0BFC  79          	ld	a, c
2671  0BFD  D6 30       	sub	a,0x30
2672  0BFF  38 05       	jr	C,l_player_check_floor_00106
2673  0C01  3E 4C       	ld	a,0x4c
2674  0C03  91          	sub	a, c
2675  0C04  30 10       	jr	NC,l_player_check_floor_00111
2676  0C06              l_player_check_floor_00106:
2677  0C06  2A 00 00    	ld	hl,(_sprite)
2678  0C09  26 00       	ld	h,0x00
2679  0C0B  01 00 00    	ld	bc,_sprite_speed_alt
2680  0C0E  09          	add	hl,bc
2681  0C0F  36 02       	ld	(hl),0x02
2682  0C11  21 00 00    	ld	hl,_s_state
2683  0C14  CB CE       	set	1, (hl)
2684  0C16              l_player_check_floor_00111:
2685  0C16  33          	inc	sp
2686  0C17  DD E1       	pop	ix
2687  0C19  C9          	ret
2688  0C1A              	SECTION IGNORE
2689  0000              
