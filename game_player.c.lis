1     0000              MODULE game_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              	EXTERN ____sdcc_outi
179   0000              	EXTERN ____sdcc_outi_128
180   0000              	EXTERN ____sdcc_outi_256
181   0000              	EXTERN ____sdcc_ldi
182   0000              	EXTERN ____sdcc_ldi_128
183   0000              	EXTERN ____sdcc_ldi_256
184   0000              
185   0000              ;--------------------------------------------------------
186   0000              ; Public variables in this module
187   0000              ;--------------------------------------------------------
188   0000              	GLOBAL _player_check_map
189   0000              	GLOBAL _player_init
190   0000              	GLOBAL _player_check_input
191   0000              	GLOBAL _player_collision
192   0000              	GLOBAL _player_kill
193   0000              	GLOBAL _player_restart
194   0000              	GLOBAL _player_lost_life
195   0000              	GLOBAL _player_turn
196   0000              	GLOBAL _player_move
197   0000              	GLOBAL _player_check_stairs
198   0000              	GLOBAL _player_tile
199   0000              	GLOBAL _player_move_input
200   0000              	GLOBAL _player_pick_item
201   0000              	GLOBAL _player_hit_platform
202   0000              	GLOBAL _player_hit_platform_clear
203   0000              	GLOBAL _player_score_add
204   0000              	GLOBAL _player_check_floor
205   0000              ;--------------------------------------------------------
206   0000              ; Externals used
207   0000              ;--------------------------------------------------------
208   0000              	GLOBAL _ulltoa_callee
209   0000              	GLOBAL _ulltoa
210   0000              	GLOBAL _strtoull_callee
211   0000              	GLOBAL _strtoull
212   0000              	GLOBAL _strtoll_callee
213   0000              	GLOBAL _strtoll
214   0000              	GLOBAL _lltoa_callee
215   0000              	GLOBAL _lltoa
216   0000              	GLOBAL _llabs_callee
217   0000              	GLOBAL _llabs
218   0000              	GLOBAL __lldivu__callee
219   0000              	GLOBAL __lldivu_
220   0000              	GLOBAL __lldiv__callee
221   0000              	GLOBAL __lldiv_
222   0000              	GLOBAL _atoll_callee
223   0000              	GLOBAL _atoll
224   0000              	GLOBAL _realloc_unlocked_callee
225   0000              	GLOBAL _realloc_unlocked
226   0000              	GLOBAL _malloc_unlocked_fastcall
227   0000              	GLOBAL _malloc_unlocked
228   0000              	GLOBAL _free_unlocked_fastcall
229   0000              	GLOBAL _free_unlocked
230   0000              	GLOBAL _calloc_unlocked_callee
231   0000              	GLOBAL _calloc_unlocked
232   0000              	GLOBAL _aligned_alloc_unlocked_callee
233   0000              	GLOBAL _aligned_alloc_unlocked
234   0000              	GLOBAL _realloc_callee
235   0000              	GLOBAL _realloc
236   0000              	GLOBAL _malloc_fastcall
237   0000              	GLOBAL _malloc
238   0000              	GLOBAL _free_fastcall
239   0000              	GLOBAL _free
240   0000              	GLOBAL _calloc_callee
241   0000              	GLOBAL _calloc
242   0000              	GLOBAL _aligned_alloc_callee
243   0000              	GLOBAL _aligned_alloc
244   0000              	GLOBAL _utoa_callee
245   0000              	GLOBAL _utoa
246   0000              	GLOBAL _ultoa_callee
247   0000              	GLOBAL _ultoa
248   0000              	GLOBAL _system_fastcall
249   0000              	GLOBAL _system
250   0000              	GLOBAL _strtoul_callee
251   0000              	GLOBAL _strtoul
252   0000              	GLOBAL _strtol_callee
253   0000              	GLOBAL _strtol
254   0000              	GLOBAL _strtof_callee
255   0000              	GLOBAL _strtof
256   0000              	GLOBAL _strtod_callee
257   0000              	GLOBAL _strtod
258   0000              	GLOBAL _srand_fastcall
259   0000              	GLOBAL _srand
260   0000              	GLOBAL _rand
261   0000              	GLOBAL _quick_exit_fastcall
262   0000              	GLOBAL _quick_exit
263   0000              	GLOBAL _qsort_callee
264   0000              	GLOBAL _qsort
265   0000              	GLOBAL _ltoa_callee
266   0000              	GLOBAL _ltoa
267   0000              	GLOBAL _labs_fastcall
268   0000              	GLOBAL _labs
269   0000              	GLOBAL _itoa_callee
270   0000              	GLOBAL _itoa
271   0000              	GLOBAL _ftoh_callee
272   0000              	GLOBAL _ftoh
273   0000              	GLOBAL _ftog_callee
274   0000              	GLOBAL _ftog
275   0000              	GLOBAL _ftoe_callee
276   0000              	GLOBAL _ftoe
277   0000              	GLOBAL _ftoa_callee
278   0000              	GLOBAL _ftoa
279   0000              	GLOBAL _exit_fastcall
280   0000              	GLOBAL _exit
281   0000              	GLOBAL _dtoh_callee
282   0000              	GLOBAL _dtoh
283   0000              	GLOBAL _dtog_callee
284   0000              	GLOBAL _dtog
285   0000              	GLOBAL _dtoe_callee
286   0000              	GLOBAL _dtoe
287   0000              	GLOBAL _dtoa_callee
288   0000              	GLOBAL _dtoa
289   0000              	GLOBAL _bsearch_callee
290   0000              	GLOBAL _bsearch
291   0000              	GLOBAL _atol_fastcall
292   0000              	GLOBAL _atol
293   0000              	GLOBAL _atoi_fastcall
294   0000              	GLOBAL _atoi
295   0000              	GLOBAL _atof_fastcall
296   0000              	GLOBAL _atof
297   0000              	GLOBAL _atexit_fastcall
298   0000              	GLOBAL _atexit
299   0000              	GLOBAL _at_quick_exit_fastcall
300   0000              	GLOBAL _at_quick_exit
301   0000              	GLOBAL _abs_fastcall
302   0000              	GLOBAL _abs
303   0000              	GLOBAL _abort
304   0000              	GLOBAL __strtou__callee
305   0000              	GLOBAL __strtou_
306   0000              	GLOBAL __strtoi__callee
307   0000              	GLOBAL __strtoi_
308   0000              	GLOBAL __random_uniform_xor_8__fastcall
309   0000              	GLOBAL __random_uniform_xor_8_
310   0000              	GLOBAL __random_uniform_xor_32__fastcall
311   0000              	GLOBAL __random_uniform_xor_32_
312   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
313   0000              	GLOBAL __random_uniform_cmwc_8_
314   0000              	GLOBAL __shellsort__callee
315   0000              	GLOBAL __shellsort_
316   0000              	GLOBAL __quicksort__callee
317   0000              	GLOBAL __quicksort_
318   0000              	GLOBAL __insertion_sort__callee
319   0000              	GLOBAL __insertion_sort_
320   0000              	GLOBAL __ldivu__callee
321   0000              	GLOBAL __ldivu_
322   0000              	GLOBAL __ldiv__callee
323   0000              	GLOBAL __ldiv_
324   0000              	GLOBAL __divu__callee
325   0000              	GLOBAL __divu_
326   0000              	GLOBAL __div__callee
327   0000              	GLOBAL __div_
328   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
329   0000              	GLOBAL _NIRVANAP_drawTW_raw
330   0000              	GLOBAL _NIRVANAP_drawTW_callee
331   0000              	GLOBAL _NIRVANAP_drawTW
332   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
333   0000              	GLOBAL _NIRVANAP_drawW_raw
334   0000              	GLOBAL _NIRVANAP_drawW_callee
335   0000              	GLOBAL _NIRVANAP_drawW
336   0000              	GLOBAL _NIRVANAP_spriteT_callee
337   0000              	GLOBAL _NIRVANAP_spriteT
338   0000              	GLOBAL _NIRVANAP_fillC_callee
339   0000              	GLOBAL _NIRVANAP_fillC
340   0000              	GLOBAL _NIRVANAP_readC_callee
341   0000              	GLOBAL _NIRVANAP_readC
342   0000              	GLOBAL _NIRVANAP_paintC_callee
343   0000              	GLOBAL _NIRVANAP_paintC
344   0000              	GLOBAL _NIRVANAP_printC_callee
345   0000              	GLOBAL _NIRVANAP_printC
346   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
347   0000              	GLOBAL _NIRVANAP_fillT_raw
348   0000              	GLOBAL _NIRVANAP_fillT_callee
349   0000              	GLOBAL _NIRVANAP_fillT
350   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
351   0000              	GLOBAL _NIRVANAP_drawT_raw
352   0000              	GLOBAL _NIRVANAP_drawT_callee
353   0000              	GLOBAL _NIRVANAP_drawT
354   0000              	GLOBAL _NIRVANAP_stop
355   0000              	GLOBAL _NIRVANAP_start
356   0000              	GLOBAL _debug3
357   0000              	GLOBAL _debug2
358   0000              	GLOBAL _debug
359   0000              	GLOBAL _zx_print_str
360   0000              	GLOBAL _zx_print_int
361   0000              	GLOBAL _zx_print_chr
362   0000              	GLOBAL _zx_print_bonus_time
363   0000              	GLOBAL _zx_isr
364   0000              	GLOBAL _z80_otdr_callee
365   0000              	GLOBAL _z80_otdr
366   0000              	GLOBAL _z80_otir_callee
367   0000              	GLOBAL _z80_otir
368   0000              	GLOBAL _z80_outp_callee
369   0000              	GLOBAL _z80_outp
370   0000              	GLOBAL _z80_indr_callee
371   0000              	GLOBAL _z80_indr
372   0000              	GLOBAL _z80_inir_callee
373   0000              	GLOBAL _z80_inir
374   0000              	GLOBAL _z80_inp_fastcall
375   0000              	GLOBAL _z80_inp
376   0000              	GLOBAL _z80_set_int_state_fastcall
377   0000              	GLOBAL _z80_set_int_state
378   0000              	GLOBAL _z80_get_int_state
379   0000              	GLOBAL _z80_delay_tstate_fastcall
380   0000              	GLOBAL _z80_delay_tstate
381   0000              	GLOBAL _z80_delay_ms_fastcall
382   0000              	GLOBAL _z80_delay_ms
383   0000              	GLOBAL _im2_remove_generic_callback_callee
384   0000              	GLOBAL _im2_remove_generic_callback
385   0000              	GLOBAL _im2_prepend_generic_callback_callee
386   0000              	GLOBAL _im2_prepend_generic_callback
387   0000              	GLOBAL _im2_append_generic_callback_callee
388   0000              	GLOBAL _im2_append_generic_callback
389   0000              	GLOBAL _im2_create_generic_isr_8080_callee
390   0000              	GLOBAL _im2_create_generic_isr_8080
391   0000              	GLOBAL _im2_create_generic_isr_callee
392   0000              	GLOBAL _im2_create_generic_isr
393   0000              	GLOBAL _im2_install_isr_callee
394   0000              	GLOBAL _im2_install_isr
395   0000              	GLOBAL _im2_init_fastcall
396   0000              	GLOBAL _im2_init
397   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
398   0000              	GLOBAL _intrinsic_swap_word_32
399   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
400   0000              	GLOBAL _intrinsic_swap_endian_32
401   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
402   0000              	GLOBAL _intrinsic_swap_endian_16
403   0000              	GLOBAL _intrinsic_return_de
404   0000              	GLOBAL _intrinsic_return_bc
405   0000              	GLOBAL _intrinsic_exx
406   0000              	GLOBAL _intrinsic_ex_de_hl
407   0000              	GLOBAL _intrinsic_nop
408   0000              	GLOBAL _intrinsic_im_2
409   0000              	GLOBAL _intrinsic_im_1
410   0000              	GLOBAL _intrinsic_im_0
411   0000              	GLOBAL _intrinsic_retn
412   0000              	GLOBAL _intrinsic_reti
413   0000              	GLOBAL _intrinsic_halt
414   0000              	GLOBAL _intrinsic_ei
415   0000              	GLOBAL _intrinsic_di
416   0000              	GLOBAL _intrinsic_stub
417   0000              	GLOBAL _intrinsic_outi
418   0000              	GLOBAL _intrinsic_ldi
419   0000              	GLOBAL _zx_pattern_fill_callee
420   0000              	GLOBAL _zx_pattern_fill
421   0000              	GLOBAL _zx_saddrpup_fastcall
422   0000              	GLOBAL _zx_saddrpup
423   0000              	GLOBAL _zx_saddrpright_callee
424   0000              	GLOBAL _zx_saddrpright
425   0000              	GLOBAL _zx_saddrpleft_callee
426   0000              	GLOBAL _zx_saddrpleft
427   0000              	GLOBAL _zx_saddrpdown_fastcall
428   0000              	GLOBAL _zx_saddrpdown
429   0000              	GLOBAL _zx_saddrcup_fastcall
430   0000              	GLOBAL _zx_saddrcup
431   0000              	GLOBAL _zx_saddrcright_fastcall
432   0000              	GLOBAL _zx_saddrcright
433   0000              	GLOBAL _zx_saddrcleft_fastcall
434   0000              	GLOBAL _zx_saddrcleft
435   0000              	GLOBAL _zx_saddrcdown_fastcall
436   0000              	GLOBAL _zx_saddrcdown
437   0000              	GLOBAL _zx_saddr2py_fastcall
438   0000              	GLOBAL _zx_saddr2py
439   0000              	GLOBAL _zx_saddr2px_fastcall
440   0000              	GLOBAL _zx_saddr2px
441   0000              	GLOBAL _zx_saddr2cy_fastcall
442   0000              	GLOBAL _zx_saddr2cy
443   0000              	GLOBAL _zx_saddr2cx_fastcall
444   0000              	GLOBAL _zx_saddr2cx
445   0000              	GLOBAL _zx_saddr2aaddr_fastcall
446   0000              	GLOBAL _zx_saddr2aaddr
447   0000              	GLOBAL _zx_py2saddr_fastcall
448   0000              	GLOBAL _zx_py2saddr
449   0000              	GLOBAL _zx_py2aaddr_fastcall
450   0000              	GLOBAL _zx_py2aaddr
451   0000              	GLOBAL _zx_pxy2saddr_callee
452   0000              	GLOBAL _zx_pxy2saddr
453   0000              	GLOBAL _zx_pxy2aaddr_callee
454   0000              	GLOBAL _zx_pxy2aaddr
455   0000              	GLOBAL _zx_px2bitmask_fastcall
456   0000              	GLOBAL _zx_px2bitmask
457   0000              	GLOBAL _zx_cy2saddr_fastcall
458   0000              	GLOBAL _zx_cy2saddr
459   0000              	GLOBAL _zx_cy2aaddr_fastcall
460   0000              	GLOBAL _zx_cy2aaddr
461   0000              	GLOBAL _zx_cxy2saddr_callee
462   0000              	GLOBAL _zx_cxy2saddr
463   0000              	GLOBAL _zx_cxy2aaddr_callee
464   0000              	GLOBAL _zx_cxy2aaddr
465   0000              	GLOBAL _zx_bitmask2px_fastcall
466   0000              	GLOBAL _zx_bitmask2px
467   0000              	GLOBAL _zx_aaddrcup_fastcall
468   0000              	GLOBAL _zx_aaddrcup
469   0000              	GLOBAL _zx_aaddrcright_fastcall
470   0000              	GLOBAL _zx_aaddrcright
471   0000              	GLOBAL _zx_aaddrcleft_fastcall
472   0000              	GLOBAL _zx_aaddrcleft
473   0000              	GLOBAL _zx_aaddrcdown_fastcall
474   0000              	GLOBAL _zx_aaddrcdown
475   0000              	GLOBAL _zx_aaddr2saddr_fastcall
476   0000              	GLOBAL _zx_aaddr2saddr
477   0000              	GLOBAL _zx_aaddr2py_fastcall
478   0000              	GLOBAL _zx_aaddr2py
479   0000              	GLOBAL _zx_aaddr2px_fastcall
480   0000              	GLOBAL _zx_aaddr2px
481   0000              	GLOBAL _zx_aaddr2cy_fastcall
482   0000              	GLOBAL _zx_aaddr2cy
483   0000              	GLOBAL _zx_aaddr2cx_fastcall
484   0000              	GLOBAL _zx_aaddr2cx
485   0000              	GLOBAL _zx_visit_wc_pix_callee
486   0000              	GLOBAL _zx_visit_wc_pix
487   0000              	GLOBAL _zx_visit_wc_attr_callee
488   0000              	GLOBAL _zx_visit_wc_attr
489   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
490   0000              	GLOBAL _zx_scroll_wc_up_pix
491   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
492   0000              	GLOBAL _zx_scroll_wc_up_attr
493   0000              	GLOBAL _zx_scroll_wc_up_callee
494   0000              	GLOBAL _zx_scroll_wc_up
495   0000              	GLOBAL _zx_scroll_up_pix_callee
496   0000              	GLOBAL _zx_scroll_up_pix
497   0000              	GLOBAL _zx_scroll_up_attr_callee
498   0000              	GLOBAL _zx_scroll_up_attr
499   0000              	GLOBAL _zx_scroll_up_callee
500   0000              	GLOBAL _zx_scroll_up
501   0000              	GLOBAL _zx_cls_wc_pix_callee
502   0000              	GLOBAL _zx_cls_wc_pix
503   0000              	GLOBAL _zx_cls_wc_attr_callee
504   0000              	GLOBAL _zx_cls_wc_attr
505   0000              	GLOBAL _zx_cls_wc_callee
506   0000              	GLOBAL _zx_cls_wc
507   0000              	GLOBAL _zx_cls_pix_fastcall
508   0000              	GLOBAL _zx_cls_pix
509   0000              	GLOBAL _zx_cls_attr_fastcall
510   0000              	GLOBAL _zx_cls_attr
511   0000              	GLOBAL _zx_cls_fastcall
512   0000              	GLOBAL _zx_cls
513   0000              	GLOBAL _zx_border_fastcall
514   0000              	GLOBAL _zx_border
515   0000              	GLOBAL _spr_turn_horizontal
516   0000              	GLOBAL _spr_play_anim
517   0000              	GLOBAL _spr_add_anim
518   0000              	GLOBAL _spr_page_map
519   0000              	GLOBAL _spr_page_right
520   0000              	GLOBAL _spr_page_left
521   0000              	GLOBAL _spr_tile_paint
522   0000              	GLOBAL _spr_kill_all
523   0000              	GLOBAL _spr_collision_check
524   0000              	GLOBAL _spr_calc_hor
525   0000              	GLOBAL _spr_draw_row
526   0000              	GLOBAL _spr_draw_index
527   0000              	GLOBAL _spr_draw_clear
528   0000              	GLOBAL _spr_draw_background
529   0000              	GLOBAL _spr_brick_anim
530   0000              	GLOBAL _spr_back_clr
531   0000              	GLOBAL _spr_tile
532   0000              	GLOBAL _spr_destroy
533   0000              	GLOBAL _spr_tile_dir
534   0000              	GLOBAL _spr_anim_kill
535   0000              	GLOBAL _spr_redraw
536   0000              	GLOBAL _spr_move_left
537   0000              	GLOBAL _spr_move_right
538   0000              	GLOBAL _spr_move_horizontal
539   0000              	GLOBAL _spr_move_down
540   0000              	GLOBAL _spr_move_jump
541   0000              	GLOBAL _spr_move_up
542   0000              	GLOBAL _spr_check_map_fall
543   0000              	GLOBAL _spr_check_map
544   0000              	GLOBAL _spr_calc_index
545   0000              	GLOBAL _spr_chktime
546   0000              	GLOBAL _sound_hit_brick
547   0000              	GLOBAL _sound_hit_enemy
548   0000              	GLOBAL _sound_kill
549   0000              	GLOBAL _sound_enter_enemy
550   0000              	GLOBAL _sound_coin
551   0000              	GLOBAL _sound_jump
552   0000              	GLOBAL _sound_slide
553   0000              	GLOBAL _player_player_hit_pow
554   0000              	GLOBAL _game_joystick_set_menu
555   0000              	GLOBAL _game_joystick_set
556   0000              	GLOBAL _game_joystick_change
557   0000              	GLOBAL _game_print_header
558   0000              	GLOBAL _game_end
559   0000              	GLOBAL _game_phase_print_score_back
560   0000              	GLOBAL _game_check_time
561   0000              	GLOBAL _game_rotate_attrib
562   0000              	GLOBAL _game_colour_message
563   0000              	GLOBAL _game_paint_attrib_lin_h
564   0000              	GLOBAL _game_paint_attrib_lin
565   0000              	GLOBAL _game_paint_attrib
566   0000              	GLOBAL _game_print_score
567   0000              	GLOBAL _game_unfreeze_all
568   0000              	GLOBAL _game_freeze_all
569   0000              	GLOBAL _game_freeze
570   0000              	GLOBAL _game_enemy_add_get_index
571   0000              	GLOBAL _game_check_maze_floor
572   0000              	GLOBAL _game_check_maze
573   0000              	GLOBAL _game_loop
574   0000              	GLOBAL _game_phase_init
575   0000              	GLOBAL _game_start_timer
576   0000              	GLOBAL _game_tick
577   0000              	GLOBAL _game_print_lives
578   0000              	GLOBAL _game_print_footer
579   0000              	GLOBAL _game_fill_row
580   0000              	GLOBAL _enemy_avoid_edge
581   0000              	GLOBAL _enemy_kill
582   0000              	GLOBAL _enemy_init
583   0000              	GLOBAL _enemy_walk
584   0000              	GLOBAL _enemy_move
585   0000              	GLOBAL _enemy_turn
586   0000              	GLOBAL _enemy_hit
587   0000              	GLOBAL _enemy_coin1
588   0000              	GLOBAL _ay_fx_play
589   0000              	GLOBAL _ay_midi_play
590   0000              	GLOBAL _ay_is_playing
591   0000              	GLOBAL _ay_reset
592   0000              	GLOBAL _test_func
593   0000              	GLOBAL _test_proc
594   0000              	GLOBAL _in_mouse_kempston_wheel_delta
595   0000              	GLOBAL _in_mouse_kempston_wheel
596   0000              	GLOBAL _in_mouse_kempston_callee
597   0000              	GLOBAL _in_mouse_kempston
598   0000              	GLOBAL _in_mouse_kempston_setpos_callee
599   0000              	GLOBAL _in_mouse_kempston_setpos
600   0000              	GLOBAL _in_mouse_kempston_reset
601   0000              	GLOBAL _in_mouse_kempston_init
602   0000              	GLOBAL _in_mouse_amx_wheel_delta
603   0000              	GLOBAL _in_mouse_amx_wheel
604   0000              	GLOBAL _in_mouse_amx_callee
605   0000              	GLOBAL _in_mouse_amx
606   0000              	GLOBAL _in_mouse_amx_setpos_callee
607   0000              	GLOBAL _in_mouse_amx_setpos
608   0000              	GLOBAL _in_mouse_amx_reset
609   0000              	GLOBAL _in_mouse_amx_init_callee
610   0000              	GLOBAL _in_mouse_amx_init
611   0000              	GLOBAL _in_stick_sinclair2
612   0000              	GLOBAL _in_stick_sinclair1
613   0000              	GLOBAL _in_stick_kempston
614   0000              	GLOBAL _in_stick_fuller
615   0000              	GLOBAL _in_stick_cursor
616   0000              	GLOBAL _in_stick_keyboard_fastcall
617   0000              	GLOBAL _in_stick_keyboard
618   0000              	GLOBAL _in_wait_nokey
619   0000              	GLOBAL _in_wait_key
620   0000              	GLOBAL _in_test_key
621   0000              	GLOBAL _in_pause_fastcall
622   0000              	GLOBAL _in_pause
623   0000              	GLOBAL _in_key_scancode_fastcall
624   0000              	GLOBAL _in_key_scancode
625   0000              	GLOBAL _in_key_pressed_fastcall
626   0000              	GLOBAL _in_key_pressed
627   0000              	GLOBAL _in_inkey
628   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
629   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
630   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
631   0000              	GLOBAL _NIRVANAP_HOLE
632   0000              	GLOBAL _NIRVANAP_ISR_HOOK
633   0000              	GLOBAL _g_player_hit_right
634   0000              	GLOBAL _g_player_hit_left
635   0000              	GLOBAL _joynames
636   0000              	GLOBAL _initials
637   0000              	GLOBAL _anim_end
638   0000              	GLOBAL _anim_int
639   0000              	GLOBAL _anim_tile
640   0000              	GLOBAL _anim_col
641   0000              	GLOBAL _anim_lin
642   0000              	GLOBAL _phase_angry
643   0000              	GLOBAL _phase_curr
644   0000              	GLOBAL _phase_end
645   0000              	GLOBAL _phase_coins
646   0000              	GLOBAL _phase_pop
647   0000              	GLOBAL _phase_tot
648   0000              	GLOBAL _map_heigth
649   0000              	GLOBAL _map_width
650   0000              	GLOBAL _scr_curr
651   0000              	GLOBAL _scr_7
652   0000              	GLOBAL _scr_6
653   0000              	GLOBAL _scr_5
654   0000              	GLOBAL _scr_4
655   0000              	GLOBAL _scr_3
656   0000              	GLOBAL _scr_2
657   0000              	GLOBAL _scr_1
658   0000              	GLOBAL _scr_0
659   0000              	GLOBAL _scr_map
660   0000              	GLOBAL _sprite_speed_alt
661   0000              	GLOBAL _sprite_frames
662   0000              	GLOBAL _sprite_speed
663   0000              	GLOBAL _screen_ink
664   0000              	GLOBAL _screen_paper
665   0000              	GLOBAL _player_over_stair
666   0000              	GLOBAL _game_menu_sel
667   0000              	GLOBAL _game_type
668   0000              	GLOBAL _game_score_top
669   0000              	GLOBAL _player_lives
670   0000              	GLOBAL _game_over
671   0000              	GLOBAL _game_sound
672   0000              	GLOBAL _game_inmune
673   0000              	GLOBAL _game_god_mode
674   0000              	GLOBAL _game_start_phase
675   0000              	GLOBAL _game_two_player
676   0000              	GLOBAL _game_brick_tile
677   0000              	GLOBAL _sprite_curr_index
678   0000              	GLOBAL _spr_count
679   0000              	GLOBAL _anim_time
680   0000              	GLOBAL _frame_time
681   0000              	GLOBAL _entry_time
682   0000              	GLOBAL _curr_time
683   0000              	GLOBAL _s_state
684   0000              	GLOBAL _attrib_hl
685   0000              	GLOBAL _attrib
686   0000              	GLOBAL _zx_val_asm
687   0000              	GLOBAL _enemies
688   0000              	GLOBAL _tmp_ui
689   0000              	GLOBAL _tmp_sc
690   0000              	GLOBAL _tmp_uc
691   0000              	GLOBAL _tmp1
692   0000              	GLOBAL _tmp0
693   0000              	GLOBAL _tmp
694   0000              	GLOBAL _index1
695   0000              	GLOBAL _loop_count
696   0000              	GLOBAL _sprite_lin_inc_mul
697   0000              	GLOBAL _s_col1
698   0000              	GLOBAL _s_col0
699   0000              	GLOBAL _s_lin1
700   0000              	GLOBAL _s_lin0
701   0000              	GLOBAL _s_tile1
702   0000              	GLOBAL _s_tile0
703   0000              	GLOBAL _player_hit_count
704   0000              	GLOBAL _sprite
705   0000              	GLOBAL _game_gravity
706   0000              	GLOBAL _player_vel_y0
707   0000              	GLOBAL _player_vel_y
708   0000              	GLOBAL _player_vel_x
709   0000              	GLOBAL _player_joy
710   0000              	GLOBAL _player_score
711   0000              	GLOBAL _last_time
712   0000              	GLOBAL _player_slide
713   0000              	GLOBAL _spr_timer
714   0000              	GLOBAL _jump_lin
715   0000              	GLOBAL _player_hit_col
716   0000              	GLOBAL _player_hit_lin
717   0000              	GLOBAL _colint
718   0000              	GLOBAL _col
719   0000              	GLOBAL _lin
720   0000              	GLOBAL _tile
721   0000              	GLOBAL _state_a
722   0000              	GLOBAL _state
723   0000              	GLOBAL _class
724   0000              	GLOBAL _tbuffer
725   0000              	GLOBAL _dirs
726   0000              	GLOBAL _k1
727   0000              	GLOBAL _joyfunc1
728   0000              	GLOBAL _btiles
729   0000              	GLOBAL _spec128
730   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
731   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
732   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
733   0000              	GLOBAL _ay_effect_20
734   0000              	GLOBAL _ay_effect_19
735   0000              	GLOBAL _ay_effect_18
736   0000              	GLOBAL _ay_effect_17
737   0000              	GLOBAL _ay_effect_16
738   0000              	GLOBAL _ay_effect_15
739   0000              	GLOBAL _ay_effect_14
740   0000              	GLOBAL _ay_effect_13
741   0000              	GLOBAL _ay_effect_12
742   0000              	GLOBAL _ay_effect_11
743   0000              	GLOBAL _ay_effect_10
744   0000              	GLOBAL _ay_effect_09
745   0000              	GLOBAL _ay_effect_08
746   0000              	GLOBAL _ay_effect_07
747   0000              	GLOBAL _ay_effect_06
748   0000              	GLOBAL _ay_effect_05
749   0000              	GLOBAL _ay_effect_04
750   0000              	GLOBAL _ay_effect_03
751   0000              	GLOBAL _ay_effect_02
752   0000              	GLOBAL _ay_effect_01
753   0000              	GLOBAL _pb_midi_phase_1
754   0000              	GLOBAL _pb_midi_title
755   0000              	GLOBAL _control_method
756   0000              ;--------------------------------------------------------
757   0000              ; special function registers
758   0000              ;--------------------------------------------------------
759   0000              defc _IO_FE	=	0x00fe
760   0000              defc _IO_1FFD	=	0x1ffd
761   0000              defc _IO_7FFD	=	0x7ffd
762   0000              ;--------------------------------------------------------
763   0000              ; ram data
764   0000              ;--------------------------------------------------------
765   0000              	SECTION bss_compiler
766   0000              ;--------------------------------------------------------
767   0000              ; ram data
768   0000              ;--------------------------------------------------------
769   0000              
770   0000              IF 0
771   0000              
772   0000              ; .area _INITIALIZED removed by z88dk
773   0000              
774   0000              
775   0000              ENDIF
776   0000              
777   0000              ;--------------------------------------------------------
778   0000              ; absolute external ram data
779   0000              ;--------------------------------------------------------
780   0000              	SECTION IGNORE
781   0000              ;--------------------------------------------------------
782   0000              ; global & static initialisations
783   0000              ;--------------------------------------------------------
784   0000              	SECTION code_crt_init
785   0000              ;--------------------------------------------------------
786   0000              ; Home
787   0000              ;--------------------------------------------------------
788   0000              	SECTION IGNORE
789   0000              ;--------------------------------------------------------
790   0000              ; code
791   0000              ;--------------------------------------------------------
792   0000              	SECTION code_compiler
793   0000              ;	---------------------------------
794   0000              ; Function player_init
795   0000              ; ---------------------------------
796   0000              _player_init:
797   0000  CD 00 00    	call	___sdcc_enter_ix
798   0003  F5          	push	af
799   0004  3E 00       	ld	a, +((_class) & 0xFF)
800   0006  DD 86 04    	add	a,(ix+4)
801   0009  4F          	ld	c, a
802   000A  3E 00       	ld	a, +((_class) / 256)
803   000C  CE 00       	adc	a,0x00
804   000E  47          	ld	b, a
805   000F  3E 10       	ld	a,0x10
806   0011  02          	ld	(bc), a
807   0012  3E 00       	ld	a, +((_tile) & 0xFF)
808   0014  DD 86 04    	add	a,(ix+4)
809   0017  4F          	ld	c, a
810   0018  3E 00       	ld	a, +((_tile) / 256)
811   001A  CE 00       	adc	a,0x00
812   001C  47          	ld	b, a
813   001D  DD 7E 07    	ld	a,(ix+7)
814   0020  02          	ld	(bc), a
815   0021  3E 00       	ld	a, +((_lin) & 0xFF)
816   0023  DD 86 04    	add	a,(ix+4)
817   0026  4F          	ld	c, a
818   0027  3E 00       	ld	a, +((_lin) / 256)
819   0029  CE 00       	adc	a,0x00
820   002B  47          	ld	b, a
821   002C  DD 7E 05    	ld	a,(ix+5)
822   002F  02          	ld	(bc), a
823   0030  3E 00       	ld	a, +((_col) & 0xFF)
824   0032  DD 86 04    	add	a,(ix+4)
825   0035  4F          	ld	c, a
826   0036  3E 00       	ld	a, +((_col) / 256)
827   0038  CE 00       	adc	a,0x00
828   003A  47          	ld	b, a
829   003B  DD 7E 06    	ld	a,(ix+6)
830   003E  02          	ld	(bc), a
831   003F  3E 00       	ld	a, +((_colint) & 0xFF)
832   0041  DD 86 04    	add	a,(ix+4)
833   0044  4F          	ld	c, a
834   0045  3E 00       	ld	a, +((_colint) / 256)
835   0047  CE 00       	adc	a,0x00
836   0049  47          	ld	b, a
837   004A  AF          	xor	a, a
838   004B  02          	ld	(bc), a
839   004C  3E 00       	ld	a, +((_state) & 0xFF)
840   004E  DD 86 04    	add	a,(ix+4)
841   0051  4F          	ld	c, a
842   0052  3E 00       	ld	a, +((_state) / 256)
843   0054  CE 00       	adc	a,0x00
844   0056  47          	ld	b, a
845   0057  AF          	xor	a, a
846   0058  02          	ld	(bc), a
847   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
848   005B  DD 86 04    	add	a,(ix+4)
849   005E  4F          	ld	c, a
850   005F  3E 00       	ld	a, +((_state_a) / 256)
851   0061  CE 00       	adc	a,0x00
852   0063  47          	ld	b, a
853   0064  AF          	xor	a, a
854   0065  02          	ld	(bc), a
855   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
856   0068  DD 86 04    	add	a,(ix+4)
857   006B  5F          	ld	e, a
858   006C  3E 00       	ld	a, +((_jump_lin) / 256)
859   006E  CE 00       	adc	a,0x00
860   0070  57          	ld	d, a
861   0071  DD 7E 05    	ld	a,(ix+5)
862   0074  12          	ld	(de), a
863   0075  DD 6E 04    	ld	l,(ix+4)
864   0078  26 00       	ld	h,0x00
865   007A  29          	add	hl,hl
866   007B  11 00 00    	ld	de,_last_time
867   007E  19          	add	hl, de
868   007F  E3          	ex	(sp), hl
869   0080  E1          	pop	hl
870   0081  ED 5B 00 00 	ld	de,(_curr_time)
871   0085  E5          	push	hl
872   0086  73          	ld	(hl), e
873   0087  23          	inc	hl
874   0088  72          	ld	(hl), d
875   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
876   008B  DD 86 04    	add	a,(ix+4)
877   008E  5F          	ld	e, a
878   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
879   0091  CE 00       	adc	a,0x00
880   0093  57          	ld	d, a
881   0094  AF          	xor	a, a
882   0095  12          	ld	(de), a
883   0096  0A          	ld	a, (bc)
884   0097  F6 11       	or	a,+(0x01|0x10)
885   0099  02          	ld	(bc),a
886   009A  21 00 00    	ld	hl,_player_hit_col
887   009D  36 00       	ld	(hl),0x00
888   009F  21 00 00    	ld	hl,_player_hit_lin
889   00A2  36 00       	ld	(hl),0x00
890   00A4  21 00 00    	ld	hl,_player_slide
891   00A7  36 00       	ld	(hl),0x00
892   00A9  DD 66 06    	ld	h,(ix+6)
893   00AC  DD 6E 05    	ld	l,(ix+5)
894   00AF  E5          	push	hl
895   00B0  DD 66 07    	ld	h,(ix+7)
896   00B3  DD 6E 04    	ld	l,(ix+4)
897   00B6  E5          	push	hl
898   00B7  CD 00 00    	call	_NIRVANAP_spriteT_callee
899   00BA  F1          	pop	af
900   00BB  DD E1       	pop	ix
901   00BD  C9          	ret
902   00BE              	SECTION code_compiler
903   00BE              ;	---------------------------------
904   00BE              ; Function player_check_input
905   00BE              ; ---------------------------------
906   00BE              _player_check_input:
907   00BE  21 00 00    	ld	hl,_dirs
908   00C1  7E          	ld	a, (hl)
909   00C2  CB 07       	rlc	a
910   00C4  E6 01       	and	a,0x01
911   00C6  CB 47       	bit	0, a
912   00C8  20 1D       	jr	NZ,l_player_check_input_00104
913   00CA  CB 56       	bit	2, (hl)
914   00CC  20 19       	jr	NZ,l_player_check_input_00104
915   00CE  21 00 00    	ld	hl,_dirs
916   00D1  CB 5E       	bit	3, (hl)
917   00D3  20 12       	jr	NZ,l_player_check_input_00104
918   00D5  21 00 00    	ld	hl,_dirs
919   00D8  CB 46       	bit	0, (hl)
920   00DA  20 0B       	jr	NZ,l_player_check_input_00104
921   00DC  21 00 00    	ld	hl,_dirs
922   00DF  CB 4E       	bit	1, (hl)
923   00E1  20 04       	jr	NZ,l_player_check_input_00104
924   00E3  2E 00       	ld	l,0x00
925   00E5  18 02       	jr	l_player_check_input_00105
926   00E7              l_player_check_input_00104:
927   00E7  2E 01       	ld	l,0x01
928   00E9              l_player_check_input_00105:
929   00E9  C9          	ret
930   00EA              	SECTION code_compiler
931   00EA              ;	---------------------------------
932   00EA              ; Function player_collision
933   00EA              ; ---------------------------------
934   00EA              _player_collision:
935   00EA  2A 00 00    	ld	hl,(_sprite)
936   00ED  26 00       	ld	h,0x00
937   00EF  01 00 00    	ld	bc,_class
938   00F2  09          	add	hl,bc
939   00F3  7E          	ld	a,(hl)
940   00F4  B7          	or	a,a
941   00F5  20 03       	jr	NZ,l_player_collision_00102
942   00F7  6F          	ld	l,a
943   00F8  18 48       	jr	l_player_collision_00112
944   00FA              l_player_collision_00102:
945   00FA  2A 00 00    	ld	hl,(_sprite)
946   00FD  26 00       	ld	h,0x00
947   00FF  01 00 00    	ld	bc,_state
948   0102  09          	add	hl,bc
949   0103  7E          	ld	a,(hl)
950   0104  CB 67       	bit	4, a
951   0106  28 04       	jr	Z,l_player_collision_00104
952   0108  2E 00       	ld	l,0x00
953   010A  18 36       	jr	l_player_collision_00112
954   010C              l_player_collision_00104:
955   010C  CB 6F       	bit	5, a
956   010E  28 04       	jr	Z,l_player_collision_00106
957   0110  2E 00       	ld	l,0x00
958   0112  18 2E       	jr	l_player_collision_00112
959   0114              l_player_collision_00106:
960   0114  21 00 00    	ld	hl,_player_hit_count
961   0117  36 00       	ld	(hl),0x00
962   0119  21 00 00    	ld	hl,_enemies
963   011C  36 00       	ld	(hl),0x00
964   011E              l_player_collision_00110:
965   011E  2A 00 00    	ld	hl,(_enemies)
966   0121  26 0E       	ld	h,0x0e
967   0123  3A 00 00    	ld	a,(_sprite)
968   0126  E5          	push	hl
969   0127  F5          	push	af
970   0128  33          	inc	sp
971   0129  CD 00 00    	call	_spr_collision_check
972   012C  F1          	pop	af
973   012D  33          	inc	sp
974   012E  7D          	ld	a, l
975   012F  B7          	or	a, a
976   0130  28 04       	jr	Z,l_player_collision_00111
977   0132  21 00 00    	ld	hl,_player_hit_count
978   0135  34          	inc	(hl)
979   0136              l_player_collision_00111:
980   0136  21 00 00    	ld	hl,_enemies
981   0139  7E          	ld	a,(hl)
982   013A  3C          	inc	a
983   013B  77          	ld	(hl),a
984   013C  D6 06       	sub	a,0x06
985   013E  38 DE       	jr	C,l_player_collision_00110
986   0140  2E 00       	ld	l,0x00
987   0142              l_player_collision_00112:
988   0142  C9          	ret
989   0143              	SECTION code_compiler
990   0143              ;	---------------------------------
991   0143              ; Function player_kill
992   0143              ; ---------------------------------
993   0143              _player_kill:
994   0143  01 00 00    	ld	bc,_state+0
995   0146  2A 00 00    	ld	hl,(_sprite)
996   0149  26 00       	ld	h,0x00
997   014B  09          	add	hl,bc
998   014C  CB 6E       	bit	5,(hl)
999   014E  C2 15 02    	jp	NZ,l_player_kill_00109
1000  0151  C5          	push	bc
1001  0152  CD 00 00    	call	_sound_hit_brick
1002  0155  C1          	pop	bc
1003  0156  79          	ld	a, c
1004  0157  21 00 00    	ld	hl,_sprite
1005  015A  86          	add	a, (hl)
1006  015B  5F          	ld	e, a
1007  015C  78          	ld	a, b
1008  015D  CE 00       	adc	a,0x00
1009  015F  57          	ld	d, a
1010  0160  1A          	ld	a, (de)
1011  0161  F6 20       	or	a,0x20
1012  0163  12          	ld	(de), a
1013  0164  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1014  0166  86          	add	a, (hl)
1015  0167  5F          	ld	e, a
1016  0168  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1017  016A  CE 00       	adc	a,0x00
1018  016C  57          	ld	d, a
1019  016D  3E 03       	ld	a,0x03
1020  016F  12          	ld	(de), a
1021  0170  79          	ld	a, c
1022  0171  86          	add	a, (hl)
1023  0172  4F          	ld	c, a
1024  0173  78          	ld	a, b
1025  0174  CE 00       	adc	a,0x00
1026  0176  47          	ld	b, a
1027  0177  0A          	ld	a, (bc)
1028  0178  CB 57       	bit	2, a
1029  017A  28 0D       	jr	Z,l_player_kill_00102
1030  017C  2A 00 00    	ld	hl,(_sprite)
1031  017F  26 00       	ld	h,0x00
1032  0181  01 00 00    	ld	bc,_tile
1033  0184  09          	add	hl,bc
1034  0185  36 40       	ld	(hl),0x40
1035  0187  18 0B       	jr	l_player_kill_00103
1036  0189              l_player_kill_00102:
1037  0189  2A 00 00    	ld	hl,(_sprite)
1038  018C  26 00       	ld	h,0x00
1039  018E  01 00 00    	ld	bc,_tile
1040  0191  09          	add	hl,bc
1041  0192  36 48       	ld	(hl),0x48
1042  0194              l_player_kill_00103:
1043  0194  CD 75 07    	call	_player_hit_platform_clear
1044  0197  2A 00 00    	ld	hl,(_sprite)
1045  019A  26 00       	ld	h,0x00
1046  019C  01 00 00    	ld	bc,_col
1047  019F  09          	add	hl,bc
1048  01A0  4E          	ld	c, (hl)
1049  01A1  2A 00 00    	ld	hl,(_sprite)
1050  01A4  26 00       	ld	h,0x00
1051  01A6  11 00 00    	ld	de,_lin
1052  01A9  19          	add	hl,de
1053  01AA  46          	ld	b, (hl)
1054  01AB  2A 00 00    	ld	hl,(_sprite)
1055  01AE  26 00       	ld	h,0x00
1056  01B0  11 00 00    	ld	de,_tile
1057  01B3  19          	add	hl,de
1058  01B4  56          	ld	d, (hl)
1059  01B5  79          	ld	a,c
1060  01B6  21 00 00    	ld	hl,_sprite
1061  01B9  F5          	push	af
1062  01BA  33          	inc	sp
1063  01BB  4A          	ld	c, d
1064  01BC  7E          	ld	a,(hl)
1065  01BD  C5          	push	bc
1066  01BE  F5          	push	af
1067  01BF  33          	inc	sp
1068  01C0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1069  01C3  01 00 00    	ld	bc,_spr_timer+0
1070  01C6  2A 00 00    	ld	hl,(_sprite)
1071  01C9  26 00       	ld	h,0x00
1072  01CB  29          	add	hl, hl
1073  01CC  09          	add	hl,bc
1074  01CD  ED 5B 00 00 	ld	de,(_curr_time)
1075  01D1  73          	ld	(hl),e
1076  01D2  23          	inc	hl
1077  01D3  72          	ld	(hl),d
1078  01D4  3A 00 00    	ld	a,(_sprite)
1079  01D7  D6 07       	sub	a,0x07
1080  01D9  20 1E       	jr	NZ,l_player_kill_00105
1081  01DB  01 00 00    	ld	bc,_state_a+0
1082  01DE  79          	ld	a, c
1083  01DF  21 00 00    	ld	hl,_sprite
1084  01E2  86          	add	a, (hl)
1085  01E3  5F          	ld	e, a
1086  01E4  78          	ld	a, b
1087  01E5  CE 00       	adc	a,0x00
1088  01E7  57          	ld	d, a
1089  01E8  1A          	ld	a, (de)
1090  01E9  F6 08       	or	a,0x08
1091  01EB  12          	ld	(de), a
1092  01EC  79          	ld	a, c
1093  01ED  86          	add	a, (hl)
1094  01EE  4F          	ld	c, a
1095  01EF  78          	ld	a, b
1096  01F0  CE 00       	adc	a,0x00
1097  01F2  47          	ld	b, a
1098  01F3  0A          	ld	a, (bc)
1099  01F4  E6 EF       	and	a,0xef
1100  01F6  02          	ld	(bc), a
1101  01F7  18 1C       	jr	l_player_kill_00109
1102  01F9              l_player_kill_00105:
1103  01F9  01 00 00    	ld	bc,_state_a+0
1104  01FC  79          	ld	a, c
1105  01FD  21 00 00    	ld	hl,_sprite
1106  0200  86          	add	a, (hl)
1107  0201  5F          	ld	e, a
1108  0202  78          	ld	a, b
1109  0203  CE 00       	adc	a,0x00
1110  0205  57          	ld	d, a
1111  0206  1A          	ld	a, (de)
1112  0207  F6 10       	or	a,0x10
1113  0209  12          	ld	(de), a
1114  020A  79          	ld	a, c
1115  020B  86          	add	a, (hl)
1116  020C  4F          	ld	c, a
1117  020D  78          	ld	a, b
1118  020E  CE 00       	adc	a,0x00
1119  0210  47          	ld	b, a
1120  0211  0A          	ld	a, (bc)
1121  0212  E6 F7       	and	a,0xf7
1122  0214  02          	ld	(bc), a
1123  0215              l_player_kill_00109:
1124  0215  C9          	ret
1125  0216              	SECTION code_compiler
1126  0216              ;	---------------------------------
1127  0216              ; Function player_restart
1128  0216              ; ---------------------------------
1129  0216              _player_restart:
1130  0216  CD 00 00    	call	___sdcc_enter_ix
1131  0219  F5          	push	af
1132  021A  4D          	ld	c, l
1133  021B  21 00 00    	ld	hl,_ay_effect_15
1134  021E  CD 00 00    	call	_ay_fx_play
1135  0221  C5          	push	bc
1136  0222  21 0E 64    	ld	hl,0x640e
1137  0225  E5          	push	hl
1138  0226  21 07 00    	ld	hl,0x0007
1139  0229  E5          	push	hl
1140  022A  CD 00 00    	call	_player_init
1141  022D  F1          	pop	af
1142  022E  F1          	pop	af
1143  022F  C1          	pop	bc
1144  0230  11 00 00    	ld	de,_state+0
1145  0233  69          	ld	l,c
1146  0234  26 00       	ld	h,0x00
1147  0236  19          	add	hl, de
1148  0237  CB E6       	set	4, (hl)
1149  0239  11 00 00    	ld	de,_state_a+0
1150  023C  69          	ld	l,c
1151  023D  26 00       	ld	h,0x00
1152  023F  19          	add	hl, de
1153  0240  CB C6       	set	0, (hl)
1154  0242  11 00 00    	ld	de,_spr_timer+0
1155  0245  69          	ld	l, c
1156  0246  26 00       	ld	h,0x00
1157  0248  29          	add	hl, hl
1158  0249  19          	add	hl,de
1159  024A  E3          	ex	(sp), hl
1160  024B  E1          	pop	hl
1161  024C  ED 5B 00 00 	ld	de,(_curr_time)
1162  0250  E5          	push	hl
1163  0251  73          	ld	(hl), e
1164  0252  23          	inc	hl
1165  0253  72          	ld	(hl), d
1166  0254  11 00 00    	ld	de,_sprite_speed_alt+0
1167  0257  69          	ld	l,c
1168  0258  26 00       	ld	h,0x00
1169  025A  19          	add	hl, de
1170  025B  F1          	pop	af
1171  025C  36 08       	ld	(hl),0x08
1172  025E  DD E1       	pop	ix
1173  0260  C9          	ret
1174  0261              	SECTION code_compiler
1175  0261              ;	---------------------------------
1176  0261              ; Function player_lost_life
1177  0261              ; ---------------------------------
1178  0261              _player_lost_life:
1179  0261  CD 00 00    	call	_sound_hit_enemy
1180  0264  21 00 00    	ld	hl,_player_lives
1181  0267  35          	dec (hl)
1182  0268  20 09       	jr	NZ,l_player_lost_life_00102
1183  026A  21 00 00    	ld	hl,_game_over
1184  026D  36 01       	ld	(hl),0x01
1185  026F  2E 00       	ld	l,0x00
1186  0271  18 05       	jr	l_player_lost_life_00103
1187  0273              l_player_lost_life_00102:
1188  0273  CD 00 00    	call	_game_print_lives
1189  0276  2E 01       	ld	l,0x01
1190  0278              l_player_lost_life_00103:
1191  0278  C9          	ret
1192  0279              	SECTION code_compiler
1193  0279              ;	---------------------------------
1194  0279              ; Function player_turn
1195  0279              ; ---------------------------------
1196  0279              _player_turn:
1197  0279  2A 00 00    	ld	hl,(_sprite)
1198  027C  26 00       	ld	h,0x00
1199  027E  01 00 00    	ld	bc,_class
1200  0281  09          	add	hl,bc
1201  0282  7E          	ld	a,(hl)
1202  0283  D6 10       	sub	a,0x10
1203  0285  C0          	ret	NZ
1204  0286  3A 00 00    	ld	a,(_player_lives)
1205  0289  B7          	or	a, a
1206  028A  C8          	ret	Z
1207  028B  21 00 00    	ld	hl,_sprite
1208  028E  CD 00 00    	call	_spr_chktime
1209  0291  7D          	ld	a, l
1210  0292  B7          	or	a, a
1211  0293  C8          	ret	Z
1212  0294  21 00 00    	ld	hl,_dirs
1213  0297  36 00       	ld	(hl),0x00
1214  0299  21 00 00    	ld	hl,_k1
1215  029C  E5          	push	hl
1216  029D  2A 00 00    	ld	hl,(_joyfunc1)
1217  02A0  CD 00 00    	call	___sdcc_call_hl
1218  02A3  F1          	pop	af
1219  02A4  7D          	ld	a,l
1220  02A5  32 00 00    	ld	(_dirs),a
1221  02A8  CD AE 02    	call	_player_move
1222  02AB  C3 EA 00    	jp  _player_collision
1223  02AE              	SECTION code_compiler
1224  02AE              ;	---------------------------------
1225  02AE              ; Function player_move
1226  02AE              ; ---------------------------------
1227  02AE              _player_move:
1228  02AE  2A 00 00    	ld	hl,(_sprite)
1229  02B1  26 00       	ld	h,0x00
1230  02B3  01 00 00    	ld	bc,_lin
1231  02B6  09          	add	hl,bc
1232  02B7  7E          	ld	a,(hl)
1233  02B8  32 00 00    	ld	(_s_lin0),a
1234  02BB  2A 00 00    	ld	hl,(_sprite)
1235  02BE  26 00       	ld	h,0x00
1236  02C0  01 00 00    	ld	bc,_col
1237  02C3  09          	add	hl,bc
1238  02C4  7E          	ld	a,(hl)
1239  02C5  32 00 00    	ld	(_s_col0),a
1240  02C8  2A 00 00    	ld	hl,(_sprite)
1241  02CB  26 00       	ld	h,0x00
1242  02CD  01 00 00    	ld	bc,_tile
1243  02D0  09          	add	hl,bc
1244  02D1  4E          	ld	c, (hl)
1245  02D2  3A 00 00    	ld	a,(_sprite)
1246  02D5  5F          	ld	e,a
1247  02D6  16 00       	ld	d,0x00
1248  02D8  21 00 00    	ld	hl,_colint
1249  02DB  19          	add	hl,de
1250  02DC  7E          	ld	a,(hl)
1251  02DD  81          	add	a,c
1252  02DE  32 00 00    	ld	(_s_tile0),a
1253  02E1  2A 00 00    	ld	hl,(_sprite)
1254  02E4  26 00       	ld	h,0x00
1255  02E6  01 00 00    	ld	bc,_state
1256  02E9  09          	add	hl,bc
1257  02EA  7E          	ld	a,(hl)
1258  02EB  CB 47       	bit	0,a
1259  02ED  32 00 00    	ld	(_s_state),a
1260  02F0  20 07       	jr	NZ,l_player_move_00107
1261  02F2  21 00 00    	ld	hl,_s_state
1262  02F5  CB 4E       	bit	1, (hl)
1263  02F7  28 1E       	jr	Z,l_player_move_00108
1264  02F9              l_player_move_00107:
1265  02F9  CD 00 00    	call	_spr_move_jump
1266  02FC  7D          	ld	a, l
1267  02FD  B7          	or	a, a
1268  02FE  28 38       	jr	Z,l_player_move_00109
1269  0300  2E 00       	ld	l,0x00
1270  0302  CD 70 03    	call	_player_check_stairs
1271  0305  3A 00 00    	ld	a,(_player_over_stair)
1272  0308  B7          	or	a, a
1273  0309  20 05       	jr	NZ,l_player_move_00102
1274  030B  2E 01       	ld	l,0x01
1275  030D  CD 70 03    	call	_player_check_stairs
1276  0310              l_player_move_00102:
1277  0310  2E 54       	ld	l,0x54
1278  0312  CD FD 03    	call	_player_tile
1279  0315  18 21       	jr	l_player_move_00109
1280  0317              l_player_move_00108:
1281  0317  CD 53 04    	call	_player_move_input
1282  031A  7D          	ld	a, l
1283  031B  B7          	or	a, a
1284  031C  20 17       	jr	NZ,l_player_move_00106
1285  031E  2A 00 00    	ld	hl,(_sprite)
1286  0321  26 00       	ld	h,0x00
1287  0323  01 00 00    	ld	bc,_colint
1288  0326  09          	add	hl,bc
1289  0327  AF          	xor	a,a
1290  0328  77          	ld	(hl),a
1291  0329  2E 64       	ld	l,0x64
1292  032B  CD FD 03    	call	_player_tile
1293  032E  21 00 00    	ld	hl,_s_state
1294  0331  7E          	ld	a,(hl)
1295  0332  E6 F3       	and	a,+(0xf7&0xfb)
1296  0334  77          	ld	(hl),a
1297  0335              l_player_move_00106:
1298  0335  CD B9 07    	call	_player_check_floor
1299  0338              l_player_move_00109:
1300  0338  CD 00 00    	call	_spr_redraw
1301  033B  7D          	ld	a, l
1302  033C  B7          	or	a, a
1303  033D  28 03       	jr	Z,l_player_move_00112
1304  033F  CD 94 05    	call	_player_check_map
1305  0342              l_player_move_00112:
1306  0342  2A 00 00    	ld	hl,(_sprite)
1307  0345  26 00       	ld	h,0x00
1308  0347  29          	add	hl, hl
1309  0348  11 00 00    	ld	de,_spr_timer
1310  034B  19          	add	hl, de
1311  034C  4E          	ld	c, (hl)
1312  034D  23          	inc	hl
1313  034E  46          	ld	b, (hl)
1314  034F  21 04 00    	ld	hl,0x0004
1315  0352  E5          	push	hl
1316  0353  C5          	push	bc
1317  0354  CD 00 00    	call	_game_check_time
1318  0357  F1          	pop	af
1319  0358  F1          	pop	af
1320  0359  7D          	ld	a, l
1321  035A  B7          	or	a, a
1322  035B  28 03       	jr	Z,l_player_move_00114
1323  035D  CD 75 07    	call	_player_hit_platform_clear
1324  0360              l_player_move_00114:
1325  0360  2A 00 00    	ld	hl,(_sprite)
1326  0363  26 00       	ld	h,0x00
1327  0365  01 00 00    	ld	bc,_state
1328  0368  09          	add	hl,bc
1329  0369  3A 00 00    	ld	a,(_s_state)
1330  036C  77          	ld	(hl),a
1331  036D  2E 00       	ld	l,0x00
1332  036F  C9          	ret
1333  0370              	SECTION code_compiler
1334  0370              ;	---------------------------------
1335  0370              ; Function player_check_stairs
1336  0370              ; ---------------------------------
1337  0370              _player_check_stairs:
1338  0370  5D          	ld	e, l
1339  0371  2A 00 00    	ld	hl,(_sprite)
1340  0374  26 00       	ld	h,0x00
1341  0376  01 00 00    	ld	bc,_col
1342  0379  09          	add	hl,bc
1343  037A  7E          	ld	a,(hl)
1344  037B  83          	add	a,e
1345  037C  57          	ld	d,a
1346  037D  2A 00 00    	ld	hl,(_sprite)
1347  0380  26 00       	ld	h,0x00
1348  0382  01 00 00    	ld	bc,_lin
1349  0385  09          	add	hl,bc
1350  0386  46          	ld	b, (hl)
1351  0387  D5          	push	de
1352  0388  58          	ld	e,b
1353  0389  D5          	push	de
1354  038A  CD 00 00    	call	_spr_calc_index
1355  038D  F1          	pop	af
1356  038E  D1          	pop	de
1357  038F  7D          	ld	a,l
1358  0390  32 00 00    	ld	(_sprite_curr_index),a
1359  0393  4F          	ld	c,a
1360  0394  06 00       	ld	b,0x00
1361  0396  21 00 00    	ld	hl,_scr_map
1362  0399  09          	add	hl,bc
1363  039A  4E          	ld	c, (hl)
1364  039B  3E 00       	ld	a, +((_col) & 0xFF)
1365  039D  21 00 00    	ld	hl,_sprite
1366  03A0  86          	add	a, (hl)
1367  03A1  6F          	ld	l, a
1368  03A2  3E 00       	ld	a, +((_col) / 256)
1369  03A4  CE 00       	adc	a,0x00
1370  03A6  67          	ld	h, a
1371  03A7  7E          	ld	a, (hl)
1372  03A8  83          	add	a, e
1373  03A9  47          	ld	b, a
1374  03AA  2A 00 00    	ld	hl,(_sprite)
1375  03AD  26 00       	ld	h,0x00
1376  03AF  11 00 00    	ld	de,_lin
1377  03B2  19          	add	hl,de
1378  03B3  7E          	ld	a,(hl)
1379  03B4  C6 10       	add	a,0x10
1380  03B6  57          	ld	d, a
1381  03B7  C5          	push	bc
1382  03B8  4A          	ld	c, d
1383  03B9  C5          	push	bc
1384  03BA  CD 00 00    	call	_spr_calc_index
1385  03BD  F1          	pop	af
1386  03BE  C1          	pop	bc
1387  03BF  7D          	ld	a,l
1388  03C0  32 00 00    	ld	(_sprite_curr_index),a
1389  03C3  5F          	ld	e,a
1390  03C4  16 00       	ld	d,0x00
1391  03C6  21 00 00    	ld	hl,_scr_map
1392  03C9  19          	add	hl,de
1393  03CA  46          	ld	b, (hl)
1394  03CB  79          	ld	a, c
1395  03CC  D6 38       	sub	a,0x38
1396  03CE  38 05       	jr	C,l_player_check_stairs_00110
1397  03D0  3E 3B       	ld	a,0x3b
1398  03D2  91          	sub	a, c
1399  03D3  30 0A       	jr	NC,l_player_check_stairs_00105
1400  03D5              l_player_check_stairs_00110:
1401  03D5  78          	ld	a, b
1402  03D6  D6 38       	sub	a,0x38
1403  03D8  38 15       	jr	C,l_player_check_stairs_00106
1404  03DA  3E 3B       	ld	a,0x3b
1405  03DC  90          	sub	a, b
1406  03DD  38 10       	jr	C,l_player_check_stairs_00106
1407  03DF              l_player_check_stairs_00105:
1408  03DF  21 00 00    	ld	hl,_player_over_stair
1409  03E2  7E          	ld	a, (hl)
1410  03E3  B7          	or	a, a
1411  03E4  20 16       	jr	NZ,l_player_check_stairs_00111
1412  03E6  36 01       	ld	(hl),0x01
1413  03E8  2E 66       	ld	l,0x66
1414  03EA  CD FD 03    	call	_player_tile
1415  03ED  18 0D       	jr	l_player_check_stairs_00111
1416  03EF              l_player_check_stairs_00106:
1417  03EF  21 00 00    	ld	hl,_player_over_stair
1418  03F2  7E          	ld	a, (hl)
1419  03F3  B7          	or	a, a
1420  03F4  C8          	ret	Z
1421  03F5  36 00       	ld	(hl),0x00
1422  03F7  2E 54       	ld	l,0x54
1423  03F9  CD FD 03    	call	_player_tile
1424  03FC              l_player_check_stairs_00111:
1425  03FC  C9          	ret
1426  03FD              	SECTION code_compiler
1427  03FD              ;	---------------------------------
1428  03FD              ; Function player_tile
1429  03FD              ; ---------------------------------
1430  03FD              _player_tile:
1431  03FD  45          	ld	b, l
1432  03FE  3A 00 00    	ld	a,(_player_over_stair)
1433  0401  B7          	or	a, a
1434  0402  28 0D       	jr	Z,l_player_tile_00105
1435  0404  2A 00 00    	ld	hl,(_sprite)
1436  0407  26 00       	ld	h,0x00
1437  0409  01 00 00    	ld	bc,_tile
1438  040C  09          	add	hl,bc
1439  040D  36 66       	ld	(hl),0x66
1440  040F  18 41       	jr	l_player_tile_00107
1441  0411              l_player_tile_00105:
1442  0411  78          	ld	a, b
1443  0412  D6 64       	sub	a,0x64
1444  0414  20 1F       	jr	NZ,l_player_tile_00102
1445  0416  2A 00 00    	ld	hl,(_sprite)
1446  0419  26 00       	ld	h,0x00
1447  041B  11 00 00    	ld	de,_tile
1448  041E  19          	add	hl,de
1449  041F  E5          	push	hl
1450  0420  3E 01       	ld	a,0x01
1451  0422  21 00 00    	ld	hl,_sprite
1452  0425  F5          	push	af
1453  0426  33          	inc	sp
1454  0427  7E          	ld	a, (hl)
1455  0428  48          	ld	c,b
1456  0429  47          	ld	b,a
1457  042A  C5          	push	bc
1458  042B  CD 00 00    	call	_spr_tile_dir
1459  042E  F1          	pop	af
1460  042F  33          	inc	sp
1461  0430  D1          	pop	de
1462  0431  7D          	ld	a,l
1463  0432  12          	ld	(de), a
1464  0433  18 1D       	jr	l_player_tile_00107
1465  0435              l_player_tile_00102:
1466  0435  2A 00 00    	ld	hl,(_sprite)
1467  0438  26 00       	ld	h,0x00
1468  043A  11 00 00    	ld	de,_tile
1469  043D  19          	add	hl,de
1470  043E  E5          	push	hl
1471  043F  3E 08       	ld	a,0x08
1472  0441  21 00 00    	ld	hl,_sprite
1473  0444  F5          	push	af
1474  0445  33          	inc	sp
1475  0446  7E          	ld	a, (hl)
1476  0447  48          	ld	c,b
1477  0448  47          	ld	b,a
1478  0449  C5          	push	bc
1479  044A  CD 00 00    	call	_spr_tile_dir
1480  044D  F1          	pop	af
1481  044E  33          	inc	sp
1482  044F  D1          	pop	de
1483  0450  7D          	ld	a,l
1484  0451  12          	ld	(de), a
1485  0452              l_player_tile_00107:
1486  0452  C9          	ret
1487  0453              	SECTION code_compiler
1488  0453              ;	---------------------------------
1489  0453              ; Function player_move_input
1490  0453              ; ---------------------------------
1491  0453              _player_move_input:
1492  0453  CD BE 00    	call	_player_check_input
1493  0456  7D          	ld	a, l
1494  0457  B7          	or	a, a
1495  0458  CA 91 05    	jp	Z, l_player_move_input_00123
1496  045B  21 00 00    	ld	hl,_dirs
1497  045E  CB 7E       	bit	7, (hl)
1498  0460  CA EA 04    	jp	Z,l_player_move_input_00107
1499  0463  CD 00 00    	call	_ay_is_playing
1500  0466  7D          	ld	a, l
1501  0467  D6 03       	sub	a,0x03
1502  0469  28 06       	jr	Z,l_player_move_input_00102
1503  046B  21 00 00    	ld	hl,_ay_effect_03
1504  046E  CD 00 00    	call	_ay_fx_play
1505  0471              l_player_move_input_00102:
1506  0471  21 00 00    	ld	hl,_player_over_stair
1507  0474  36 00       	ld	(hl),0x00
1508  0476  CD 00 00    	call	_sound_jump
1509  0479  2A 00 00    	ld	hl,(_sprite)
1510  047C  26 00       	ld	h,0x00
1511  047E  01 00 00    	ld	bc,_state
1512  0481  09          	add	hl,bc
1513  0482  CB 56       	bit	2,(hl)
1514  0484  28 0D       	jr	Z,l_player_move_input_00104
1515  0486  2A 00 00    	ld	hl,(_sprite)
1516  0489  26 00       	ld	h,0x00
1517  048B  01 00 00    	ld	bc,_colint
1518  048E  09          	add	hl,bc
1519  048F  AF          	xor	a,a
1520  0490  77          	ld	(hl),a
1521  0491  18 0B       	jr	l_player_move_input_00105
1522  0493              l_player_move_input_00104:
1523  0493  2A 00 00    	ld	hl,(_sprite)
1524  0496  26 00       	ld	h,0x00
1525  0498  01 00 00    	ld	bc,_colint
1526  049B  09          	add	hl,bc
1527  049C  36 02       	ld	(hl),0x02
1528  049E              l_player_move_input_00105:
1529  049E  21 00 00    	ld	hl,_s_state
1530  04A1  7E          	ld	a,(hl)
1531  04A2  F6 01       	or	a,0x01
1532  04A4  E6 FD       	and	a,0xfd
1533  04A6  77          	ld	(hl),a
1534  04A7  2A 00 00    	ld	hl,(_sprite)
1535  04AA  26 00       	ld	h,0x00
1536  04AC  01 00 00    	ld	bc,_jump_lin
1537  04AF  09          	add	hl,bc
1538  04B0  4D          	ld	c,l
1539  04B1  44          	ld	b,h
1540  04B2  2A 00 00    	ld	hl,(_sprite)
1541  04B5  26 00       	ld	h,0x00
1542  04B7  11 00 00    	ld	de,_lin
1543  04BA  19          	add	hl,de
1544  04BB  7E          	ld	a,(hl)
1545  04BC  02          	ld	(bc),a
1546  04BD  2A 00 00    	ld	hl,(_sprite)
1547  04C0  26 00       	ld	h,0x00
1548  04C2  01 00 00    	ld	bc,_state
1549  04C5  09          	add	hl,bc
1550  04C6  3A 00 00    	ld	a,(_s_state)
1551  04C9  77          	ld	(hl),a
1552  04CA  2E 58       	ld	l,0x58
1553  04CC  CD FD 03    	call	_player_tile
1554  04CF  2A 00 00    	ld	hl,(_sprite)
1555  04D2  26 00       	ld	h,0x00
1556  04D4  01 00 00    	ld	bc,_sprite_speed_alt
1557  04D7  09          	add	hl,bc
1558  04D8  36 02       	ld	(hl),0x02
1559  04DA  21 00 00    	ld	hl,_player_slide
1560  04DD  36 00       	ld	(hl),0x00
1561  04DF  2A 00 00    	ld	hl,(_player_vel_y0)
1562  04E2  22 00 00    	ld	(_player_vel_y),hl
1563  04E5  2E 01       	ld	l,0x01
1564  04E7  C3 93 05    	jp	l_player_move_input_00124
1565  04EA              l_player_move_input_00107:
1566  04EA  21 00 00    	ld	hl,_dirs
1567  04ED  CB 5E       	bit	3, (hl)
1568  04EF  28 28       	jr	Z,l_player_move_input_00109
1569  04F1  21 00 00    	ld	hl,_s_state
1570  04F4  7E          	ld	a,(hl)
1571  04F5  F6 04       	or	a,0x04
1572  04F7  E6 F7       	and	a,0xf7
1573  04F9  77          	ld	(hl),a
1574  04FA  01 00 00    	ld	bc,_state_a+0
1575  04FD  79          	ld	a, c
1576  04FE  21 00 00    	ld	hl,_sprite
1577  0501  86          	add	a, (hl)
1578  0502  5F          	ld	e, a
1579  0503  78          	ld	a, b
1580  0504  CE 00       	adc	a,0x00
1581  0506  57          	ld	d, a
1582  0507  1A          	ld	a, (de)
1583  0508  F6 10       	or	a,0x10
1584  050A  12          	ld	(de), a
1585  050B  79          	ld	a, c
1586  050C  86          	add	a, (hl)
1587  050D  4F          	ld	c, a
1588  050E  78          	ld	a, b
1589  050F  CE 00       	adc	a,0x00
1590  0511  47          	ld	b, a
1591  0512  0A          	ld	a, (bc)
1592  0513  E6 F7       	and	a,0xf7
1593  0515  02          	ld	(bc), a
1594  0516  CD 00 00    	call	_spr_move_horizontal
1595  0519              l_player_move_input_00109:
1596  0519  21 00 00    	ld	hl,_dirs
1597  051C  CB 56       	bit	2, (hl)
1598  051E  28 28       	jr	Z,l_player_move_input_00111
1599  0520  21 00 00    	ld	hl,_s_state
1600  0523  7E          	ld	a,(hl)
1601  0524  F6 08       	or	a,0x08
1602  0526  E6 FB       	and	a,0xfb
1603  0528  77          	ld	(hl),a
1604  0529  01 00 00    	ld	bc,_state_a+0
1605  052C  79          	ld	a, c
1606  052D  21 00 00    	ld	hl,_sprite
1607  0530  86          	add	a, (hl)
1608  0531  5F          	ld	e, a
1609  0532  78          	ld	a, b
1610  0533  CE 00       	adc	a,0x00
1611  0535  57          	ld	d, a
1612  0536  1A          	ld	a, (de)
1613  0537  F6 08       	or	a,0x08
1614  0539  12          	ld	(de), a
1615  053A  79          	ld	a, c
1616  053B  86          	add	a, (hl)
1617  053C  4F          	ld	c, a
1618  053D  78          	ld	a, b
1619  053E  CE 00       	adc	a,0x00
1620  0540  47          	ld	b, a
1621  0541  0A          	ld	a, (bc)
1622  0542  E6 EF       	and	a,0xef
1623  0544  02          	ld	(bc), a
1624  0545  CD 00 00    	call	_spr_move_horizontal
1625  0548              l_player_move_input_00111:
1626  0548  21 00 00    	ld	hl,_dirs
1627  054B  CB 46       	bit	0, (hl)
1628  054D  28 0E       	jr	Z,l_player_move_input_00115
1629  054F  2E 00       	ld	l,0x00
1630  0551  CD 70 03    	call	_player_check_stairs
1631  0554  3A 00 00    	ld	a,(_player_over_stair)
1632  0557  B7          	or	a, a
1633  0558  28 03       	jr	Z,l_player_move_input_00115
1634  055A  CD 00 00    	call	_spr_move_up
1635  055D              l_player_move_input_00115:
1636  055D  21 00 00    	ld	hl,_dirs
1637  0560  CB 4E       	bit	1, (hl)
1638  0562  28 17       	jr	Z,l_player_move_input_00121
1639  0564  2E 00       	ld	l,0x00
1640  0566  CD 70 03    	call	_player_check_stairs
1641  0569  3A 00 00    	ld	a,(_player_over_stair)
1642  056C  B7          	or	a, a
1643  056D  28 0C       	jr	Z,l_player_move_input_00121
1644  056F  CD 00 00    	call	_spr_move_down
1645  0572  7D          	ld	a, l
1646  0573  B7          	or	a, a
1647  0574  28 05       	jr	Z,l_player_move_input_00121
1648  0576  21 00 00    	ld	hl,_player_over_stair
1649  0579  36 00       	ld	(hl),0x00
1650  057B              l_player_move_input_00121:
1651  057B  2A 00 00    	ld	hl,(_sprite)
1652  057E  26 00       	ld	h,0x00
1653  0580  01 00 00    	ld	bc,_state
1654  0583  09          	add	hl,bc
1655  0584  3A 00 00    	ld	a,(_s_state)
1656  0587  77          	ld	(hl),a
1657  0588  2E 54       	ld	l,0x54
1658  058A  CD FD 03    	call	_player_tile
1659  058D  2E 01       	ld	l,0x01
1660  058F  18 02       	jr	l_player_move_input_00124
1661  0591              l_player_move_input_00123:
1662  0591  2E 00       	ld	l,0x00
1663  0593              l_player_move_input_00124:
1664  0593  C9          	ret
1665  0594              	SECTION code_compiler
1666  0594              ;	---------------------------------
1667  0594              ; Function player_check_map
1668  0594              ; ---------------------------------
1669  0594              _player_check_map:
1670  0594  2A 00 00    	ld	hl,(_sprite)
1671  0597  26 00       	ld	h,0x00
1672  0599  5D          	ld	e,l
1673  059A  01 00 00    	ld	bc,_col
1674  059D  09          	add	hl,bc
1675  059E  46          	ld	b,(hl)
1676  059F  16 00       	ld	d,0x00
1677  05A1  21 00 00    	ld	hl,_lin
1678  05A4  19          	add	hl,de
1679  05A5  4E          	ld	c, (hl)
1680  05A6  C5          	push	bc
1681  05A7  CD 00 00    	call	_spr_calc_index
1682  05AA  F1          	pop	af
1683  05AB  7D          	ld	a,l
1684  05AC  32 00 00    	ld	(_sprite_curr_index),a
1685  05AF  3A 00 00    	ld	a,(_s_lin0)
1686  05B2  E6 0F       	and	a,0x0f
1687  05B4  21 00 00    	ld	hl,_s_col0
1688  05B7  CB 46       	bit	0, (hl)
1689  05B9  20 17       	jr	NZ,l_player_check_map_00108
1690  05BB  B7          	or	a, a
1691  05BC  20 05       	jr	NZ,l_player_check_map_00102
1692  05BE  CD FD 05    	call	_player_pick_item
1693  05C1  18 39       	jr	l_player_check_map_00110
1694  05C3              l_player_check_map_00102:
1695  05C3  CD FD 05    	call	_player_pick_item
1696  05C6  21 00 00    	ld	hl,_sprite_curr_index
1697  05C9  7E          	ld	a, (hl)
1698  05CA  C6 10       	add	a,0x10
1699  05CC  77          	ld	(hl), a
1700  05CD  CD FD 05    	call	_player_pick_item
1701  05D0  18 2A       	jr	l_player_check_map_00110
1702  05D2              l_player_check_map_00108:
1703  05D2  B7          	or	a, a
1704  05D3  20 0C       	jr	NZ,l_player_check_map_00105
1705  05D5  CD FD 05    	call	_player_pick_item
1706  05D8  21 00 00    	ld	hl,_sprite_curr_index
1707  05DB  34          	inc	(hl)
1708  05DC  CD FD 05    	call	_player_pick_item
1709  05DF  18 1B       	jr	l_player_check_map_00110
1710  05E1              l_player_check_map_00105:
1711  05E1  CD FD 05    	call	_player_pick_item
1712  05E4  21 00 00    	ld	hl,_sprite_curr_index
1713  05E7  34          	inc	(hl)
1714  05E8  CD FD 05    	call	_player_pick_item
1715  05EB  21 00 00    	ld	hl,_sprite_curr_index
1716  05EE  7E          	ld	a, (hl)
1717  05EF  C6 0F       	add	a,0x0f
1718  05F1  77          	ld	(hl), a
1719  05F2  CD FD 05    	call	_player_pick_item
1720  05F5  21 00 00    	ld	hl,_sprite_curr_index
1721  05F8  34          	inc	(hl)
1722  05F9  CD FD 05    	call	_player_pick_item
1723  05FC              l_player_check_map_00110:
1724  05FC  C9          	ret
1725  05FD              	SECTION code_compiler
1726  05FD              ;	---------------------------------
1727  05FD              ; Function player_pick_item
1728  05FD              ; ---------------------------------
1729  05FD              _player_pick_item:
1730  05FD  2A 00 00    	ld	hl,(_sprite_curr_index)
1731  0600  26 00       	ld	h,0x00
1732  0602  01 00 00    	ld	bc,_scr_map
1733  0605  09          	add	hl,bc
1734  0606  7E          	ld	a,(hl)
1735  0607  4F          	ld	c,a
1736  0608  D6 18       	sub	a,0x18
1737  060A  D8          	ret	C
1738  060B  3E 27       	ld	a,0x27
1739  060D  91          	sub	a, c
1740  060E  D8          	ret	C
1741  060F  21 00 00    	ld	hl,_ay_effect_10
1742  0612  CD 00 00    	call	_ay_fx_play
1743  0615  CD 00 00    	call	_sound_coin
1744  0618  2A 00 00    	ld	hl,(_sprite_curr_index)
1745  061B  26 00       	ld	h,0x00
1746  061D  01 00 00    	ld	bc,_scr_map
1747  0620  09          	add	hl,bc
1748  0621  AF          	xor	a,a
1749  0622  77          	ld	(hl),a
1750  0623  3A 00 00    	ld	a,(_sprite_curr_index)
1751  0626  07          	rlca
1752  0627  07          	rlca
1753  0628  07          	rlca
1754  0629  07          	rlca
1755  062A  E6 0F       	and	a,0x0f
1756  062C  07          	rlca
1757  062D  07          	rlca
1758  062E  07          	rlca
1759  062F  07          	rlca
1760  0630  E6 F0       	and	a,0xf0
1761  0632  32 00 00    	ld	(_s_lin1),a
1762  0635  3A 00 00    	ld	a,(_sprite_curr_index)
1763  0638  E6 0F       	and	a,0x0f
1764  063A  87          	add	a, a
1765  063B  32 00 00    	ld	(_s_col1),a
1766  063E  21 78 03    	ld	hl,0x0378
1767  0641  E5          	push	hl
1768  0642  F5          	push	af
1769  0643  33          	inc	sp
1770  0644  3A 00 00    	ld	a,(_s_lin1)
1771  0647  F5          	push	af
1772  0648  33          	inc	sp
1773  0649  CD 00 00    	call	_spr_add_anim
1774  064C  F1          	pop	af
1775  064D  F1          	pop	af
1776  064E  C9          	ret
1777  064F              	SECTION code_compiler
1778  064F              ;	---------------------------------
1779  064F              ; Function player_hit_platform
1780  064F              ; ---------------------------------
1781  064F              _player_hit_platform:
1782  064F  3A 00 00    	ld	a,(_player_hit_lin)
1783  0652  B7          	or	a, a
1784  0653  C2 72 07    	jp	NZ, l_player_hit_platform_00120
1785  0656  2A 00 00    	ld	hl,(_sprite)
1786  0659  26 00       	ld	h,0x00
1787  065B  01 00 00    	ld	bc,_lin
1788  065E  09          	add	hl,bc
1789  065F  4E          	ld	c,(hl)
1790  0660  3E 10       	ld	a,0x10
1791  0662  91          	sub	a, c
1792  0663  D2 72 07    	jp	NC, l_player_hit_platform_00120
1793  0666  21 00 00    	ld	hl,_enemies
1794  0669  36 00       	ld	(hl),0x00
1795  066B              l_player_hit_platform_00122:
1796  066B  2A 00 00    	ld	hl,(_enemies)
1797  066E  26 00       	ld	h,0x00
1798  0670  01 00 00    	ld	bc,_class
1799  0673  09          	add	hl,bc
1800  0674  7E          	ld	a,(hl)
1801  0675  B7          	or	a, a
1802  0676  28 64       	jr	Z,l_player_hit_platform_00123
1803  0678  2A 00 00    	ld	hl,(_sprite)
1804  067B  26 00       	ld	h,0x00
1805  067D  01 00 00    	ld	bc,_lin
1806  0680  09          	add	hl,bc
1807  0681  4E          	ld	c,(hl)
1808  0682  06 00       	ld	b,0x00
1809  0684  2A 00 00    	ld	hl,(_enemies)
1810  0687  60          	ld	h,b
1811  0688  11 00 00    	ld	de,_lin
1812  068B  19          	add	hl,de
1813  068C  5E          	ld	e, (hl)
1814  068D  16 00       	ld	d,0x00
1815  068F  79          	ld	a,c
1816  0690  93          	sub	a,e
1817  0691  4F          	ld	c,a
1818  0692  78          	ld	a,b
1819  0693  9A          	sbc	a,d
1820  0694  47          	ld	b,a
1821  0695  79          	ld	a,c
1822  0696  D6 18       	sub	a,0x18
1823  0698  B0          	or	a,b
1824  0699  20 41       	jr	NZ,l_player_hit_platform_00123
1825  069B  2A 00 00    	ld	hl,(_enemies)
1826  069E  26 00       	ld	h,0x00
1827  06A0  01 00 00    	ld	bc,_state
1828  06A3  09          	add	hl,bc
1829  06A4  CB 6E       	bit	5,(hl)
1830  06A6  20 34       	jr	NZ,l_player_hit_platform_00123
1831  06A8  2A 00 00    	ld	hl,(_sprite)
1832  06AB  26 00       	ld	h,0x00
1833  06AD  01 00 00    	ld	bc,_col
1834  06B0  09          	add	hl,bc
1835  06B1  4E          	ld	c,(hl)
1836  06B2  06 00       	ld	b,0x00
1837  06B4  2A 00 00    	ld	hl,(_enemies)
1838  06B7  60          	ld	h,b
1839  06B8  11 00 00    	ld	de,_col
1840  06BB  19          	add	hl,de
1841  06BC  5E          	ld	e, (hl)
1842  06BD  16 00       	ld	d,0x00
1843  06BF  79          	ld	a, c
1844  06C0  93          	sub	a, e
1845  06C1  6F          	ld	l, a
1846  06C2  78          	ld	a, b
1847  06C3  9A          	sbc	a, d
1848  06C4  67          	ld	h, a
1849  06C5  CD 00 00    	call	_abs_fastcall
1850  06C8  3E 02       	ld	a,0x02
1851  06CA  BD          	cp	a,l
1852  06CB  3E 00       	ld	a,0x00
1853  06CD  9C          	sbc	a,h
1854  06CE  E2 D3 06    	jp	PO, l_player_hit_platform_00178
1855  06D1  EE 80       	xor	a,0x80
1856  06D3              l_player_hit_platform_00178:
1857  06D3  FA DC 06    	jp	M, l_player_hit_platform_00123
1858  06D6  CD 00 00    	call	_enemy_hit
1859  06D9  CD 00 00    	call	_sound_hit_enemy
1860  06DC              l_player_hit_platform_00123:
1861  06DC  21 00 00    	ld	hl,_enemies
1862  06DF  7E          	ld	a,(hl)
1863  06E0  3C          	inc	a
1864  06E1  77          	ld	(hl),a
1865  06E2  D6 06       	sub	a,0x06
1866  06E4  38 85       	jr	C,l_player_hit_platform_00122
1867  06E6  01 00 00    	ld	bc,_spr_timer+0
1868  06E9  2A 00 00    	ld	hl,(_sprite)
1869  06EC  26 00       	ld	h,0x00
1870  06EE  29          	add	hl, hl
1871  06EF  09          	add	hl,bc
1872  06F0  ED 5B 00 00 	ld	de,(_curr_time)
1873  06F4  73          	ld	(hl),e
1874  06F5  23          	inc	hl
1875  06F6  72          	ld	(hl),d
1876  06F7  2A 00 00    	ld	hl,(_sprite)
1877  06FA  26 00       	ld	h,0x00
1878  06FC  01 00 00    	ld	bc,_lin
1879  06FF  09          	add	hl,bc
1880  0700  4E          	ld	c,(hl)
1881  0701  06 00       	ld	b,0x00
1882  0703  79          	ld	a, c
1883  0704  C6 F8       	add	a,0xf8
1884  0706  4F          	ld	c, a
1885  0707  78          	ld	a, b
1886  0708  CE FF       	adc	a,0xff
1887  070A  5F          	ld	e, a
1888  070B  06 04       	ld	b,0x04
1889  070D              l_player_hit_platform_00179:
1890  070D  CB 2B       	sra	e
1891  070F  CB 19       	rr	c
1892  0711  10 FA       	djnz	l_player_hit_platform_00179
1893  0713  79          	ld	a, c
1894  0714  07          	rlca
1895  0715  07          	rlca
1896  0716  07          	rlca
1897  0717  07          	rlca
1898  0718  E6 F0       	and	a,0xf0
1899  071A  C6 08       	add	a,0x08
1900  071C  32 00 00    	ld	(_player_hit_lin),a
1901  071F  2A 00 00    	ld	hl,(_sprite)
1902  0722  26 00       	ld	h,0x00
1903  0724  01 00 00    	ld	bc,_col
1904  0727  09          	add	hl,bc
1905  0728  4E          	ld	c,(hl)
1906  0729  CB 41       	bit	0,c
1907  072B  20 06       	jr	NZ,l_player_hit_platform_00117
1908  072D  21 00 00    	ld	hl,_player_hit_col
1909  0730  71          	ld	(hl), c
1910  0731  18 33       	jr	l_player_hit_platform_00118
1911  0733              l_player_hit_platform_00117:
1912  0733  2A 00 00    	ld	hl,(_sprite)
1913  0736  26 00       	ld	h,0x00
1914  0738  11 00 00    	ld	de,_state
1915  073B  19          	add	hl,de
1916  073C  5E          	ld	e, (hl)
1917  073D  41          	ld	b, c
1918  073E  04          	inc	b
1919  073F  0D          	dec	c
1920  0740  CB 5B       	bit	3, e
1921  0742  28 12       	jr	Z,l_player_hit_platform_00114
1922  0744  3A 00 00    	ld	a,(_g_player_hit_right)
1923  0747  B7          	or	a, a
1924  0748  28 06       	jr	Z,l_player_hit_platform_00108
1925  074A  21 00 00    	ld	hl,_player_hit_col
1926  074D  70          	ld	(hl), b
1927  074E  18 16       	jr	l_player_hit_platform_00118
1928  0750              l_player_hit_platform_00108:
1929  0750  21 00 00    	ld	hl,_player_hit_col
1930  0753  71          	ld	(hl), c
1931  0754  18 10       	jr	l_player_hit_platform_00118
1932  0756              l_player_hit_platform_00114:
1933  0756  3A 00 00    	ld	a,(_g_player_hit_left)
1934  0759  B7          	or	a, a
1935  075A  28 06       	jr	Z,l_player_hit_platform_00111
1936  075C  21 00 00    	ld	hl,_player_hit_col
1937  075F  71          	ld	(hl), c
1938  0760  18 04       	jr	l_player_hit_platform_00118
1939  0762              l_player_hit_platform_00111:
1940  0762  21 00 00    	ld	hl,_player_hit_col
1941  0765  70          	ld	(hl), b
1942  0766              l_player_hit_platform_00118:
1943  0766  2E 01       	ld	l,0x01
1944  0768  CD 00 00    	call	_spr_brick_anim
1945  076B  CD 00 00    	call	_sound_hit_brick
1946  076E  2E 01       	ld	l,0x01
1947  0770  18 02       	jr	l_player_hit_platform_00124
1948  0772              l_player_hit_platform_00120:
1949  0772  2E 00       	ld	l,0x00
1950  0774              l_player_hit_platform_00124:
1951  0774  C9          	ret
1952  0775              	SECTION code_compiler
1953  0775              ;	---------------------------------
1954  0775              ; Function player_hit_platform_clear
1955  0775              ; ---------------------------------
1956  0775              _player_hit_platform_clear:
1957  0775  3A 00 00    	ld	a,(_player_hit_lin)
1958  0778  B7          	or	a, a
1959  0779  C8          	ret	Z
1960  077A  2A FF FF    	ld	hl,(_player_hit_col - 1)
1961  077D  3A 00 00    	ld	a,(_player_hit_lin)
1962  0780  6F          	ld	l,a
1963  0781  E5          	push	hl
1964  0782  CD 00 00    	call	_spr_calc_index
1965  0785  F1          	pop	af
1966  0786  22 00 00    	ld	(_index1),hl
1967  0789  2E 00       	ld	l,0x00
1968  078B  CD 00 00    	call	_spr_brick_anim
1969  078E  21 00 00    	ld	hl,_player_hit_lin
1970  0791  36 00       	ld	(hl),0x00
1971  0793  21 00 00    	ld	hl,_player_hit_col
1972  0796  36 00       	ld	(hl),0x00
1973  0798  C9          	ret
1974  0799              	SECTION code_compiler
1975  0799              ;	---------------------------------
1976  0799              ; Function player_score_add
1977  0799              ; ---------------------------------
1978  0799              _player_score_add:
1979  0799  ED 4B 00 00 	ld	bc,(_player_score)
1980  079D  09          	add	hl,bc
1981  079E  22 00 00    	ld	(_player_score),hl
1982  07A1  3A 00 00    	ld	a,(_game_score_top)
1983  07A4  21 00 00    	ld	hl,_player_score
1984  07A7  96          	sub	a, (hl)
1985  07A8  3A 01 00    	ld	a,(_game_score_top + 1)
1986  07AB  23          	inc	hl
1987  07AC  9E          	sbc	a, (hl)
1988  07AD  D2 00 00    	jp	NC,_game_print_score
1989  07B0  2A 00 00    	ld	hl,(_player_score)
1990  07B3  22 00 00    	ld	(_game_score_top),hl
1991  07B6  C3 00 00    	jp  _game_print_score
1992  07B9              	SECTION code_compiler
1993  07B9              ;	---------------------------------
1994  07B9              ; Function player_check_floor
1995  07B9              ; ---------------------------------
1996  07B9              _player_check_floor:
1997  07B9  CD 00 00    	call	___sdcc_enter_ix
1998  07BC  3B          	dec	sp
1999  07BD  2A 00 00    	ld	hl,(_sprite)
2000  07C0  26 00       	ld	h,0x00
2001  07C2  01 00 00    	ld	bc,_col
2002  07C5  09          	add	hl,bc
2003  07C6  56          	ld	d, (hl)
2004  07C7  2A 00 00    	ld	hl,(_sprite)
2005  07CA  26 00       	ld	h,0x00
2006  07CC  01 00 00    	ld	bc,_lin
2007  07CF  09          	add	hl,bc
2008  07D0  7E          	ld	a,(hl)
2009  07D1  C6 10       	add	a,0x10
2010  07D3  5F          	ld	e, a
2011  07D4  D5          	push	de
2012  07D5  CD 00 00    	call	_spr_calc_index
2013  07D8  F1          	pop	af
2014  07D9  4D          	ld	c, l
2015  07DA  44          	ld	b, h
2016  07DB  21 00 00    	ld	hl,_scr_map
2017  07DE  09          	add	hl, bc
2018  07DF  7E          	ld	a, (hl)
2019  07E0  DD 77 FF    	ld	(ix-1),a
2020  07E3  2A 00 00    	ld	hl,(_sprite)
2021  07E6  26 00       	ld	h,0x00
2022  07E8  11 00 00    	ld	de,_col
2023  07EB  19          	add	hl,de
2024  07EC  7E          	ld	a,(hl)
2025  07ED  0F          	rrca
2026  07EE  38 04       	jr	C,l_player_check_floor_00102
2027  07F0  0E 01       	ld	c,0x01
2028  07F2  18 06       	jr	l_player_check_floor_00103
2029  07F4              l_player_check_floor_00102:
2030  07F4  03          	inc	bc
2031  07F5  21 00 00    	ld	hl,_scr_map
2032  07F8  09          	add	hl, bc
2033  07F9  4E          	ld	c, (hl)
2034  07FA              l_player_check_floor_00103:
2035  07FA  3A 00 00    	ld	a,(_s_lin0)
2036  07FD  D6 90       	sub	a,0x90
2037  07FF  20 04       	jr	NZ,l_player_check_floor_00105
2038  0801  DD 36 FF 3C 	ld	(ix-1),0x3c
2039  0805              l_player_check_floor_00105:
2040  0805  DD 7E FF    	ld	a,(ix-1)
2041  0808  D6 30       	sub	a,0x30
2042  080A  38 07       	jr	C,l_player_check_floor_00110
2043  080C  DD 7E FF    	ld	a,(ix-1)
2044  080F  D6 54       	sub	a,0x54
2045  0811  38 1E       	jr	C,l_player_check_floor_00111
2046  0813              l_player_check_floor_00110:
2047  0813  79          	ld	a,c
2048  0814  FE 30       	cp	a,0x30
2049  0816  38 04       	jr	C,l_player_check_floor_00106
2050  0818  D6 54       	sub	a,0x54
2051  081A  38 15       	jr	C,l_player_check_floor_00111
2052  081C              l_player_check_floor_00106:
2053  081C  2A 00 00    	ld	hl,(_sprite)
2054  081F  26 00       	ld	h,0x00
2055  0821  01 00 00    	ld	bc,_sprite_speed_alt
2056  0824  09          	add	hl,bc
2057  0825  36 02       	ld	(hl),0x02
2058  0827  21 00 00    	ld	hl,_s_state
2059  082A  CB CE       	set	1, (hl)
2060  082C  2E 00       	ld	l,0x00
2061  082E  CD 70 03    	call	_player_check_stairs
2062  0831              l_player_check_floor_00111:
2063  0831  33          	inc	sp
2064  0832  DD E1       	pop	ix
2065  0834  C9          	ret
2066  0835              	SECTION IGNORE
2067  0000              
